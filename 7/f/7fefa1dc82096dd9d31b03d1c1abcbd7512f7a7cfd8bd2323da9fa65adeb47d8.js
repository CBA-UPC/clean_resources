/*! For license information please see dac-video.min.js.LICENSE.txt */
![function(e,t,n){"use strict";(function(e){n(54),n(55),n(71),n(180),n(16),n(33),n(52),n(70),n(26),n(56),n(36),n(181),n(112),n(184),n(57),n(114),n(115),n(73),n(72),n(11),n(156),n(49),n(157),n(43),n(12),n(188),n(28),n(158),n(159),n(53),n(189),n(34),n(30);var r=n(25),i=n.n(r),a=n(35),o=n.n(a),u=n(2),s=n.n(u),l=n(4),c=n.n(l);function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(){function e(){s()(this,e)}return c()(e,null,[{key:"namespace",value:function(){var e=new WeakMap;return },{key:"toSource",value:function(t){if(e.isArray(t)){var n,r="[",i=d(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=e.toSource(a);r+="".concat(u,", ")}}catch(y){i.e(y)}finally{i.f()}return r+="]"}if(e.isObject(t)){for(var s="{",l=0,c=Object.entries(t);l<c.length;l++){var f=o()(c[l],2),p=f[0],h=f[1],v=e.toSource(h);s+="".concat(p,": ").concat(v,", ")}return s+="}"}return"".concat(t)}},{key:"addFlag",value:,{key:"removeFlag",value:,{key:"isFlag",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=function(e,t){return Boolean((e&t)===t)},i=function(e,t){return!Boolean(e&t)};return t&&n?r(e,t)&&i(e,n):t?r(e,t):!!n&&i(e,n)}},{key:"randomNum",value:,{key:"getReferrer",value:function(){var e=window.frameElement,t=e?e.getAttribute("data-is-safeframe"):"";return window.$sf||t?document.referrer:window.location.href}},{key:"getWidth",value:function(){return e.currentScript().parentNode.offsetWidth||document.body.clientWidth||window.innerWidth}},{key:"getHeight",value:function(){var t=e.getWidth();return parseInt(t/16*9,10)}},{key:"currentScript",value:function(){var e=document.currentScript;if(!e){var t=document.getElementsByTagName("script");e=t.item(t.length-1)}return e}},{key:"toStyleLength",value:function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=null===(n=e.toString(t))||void 0===n||null===(r=n.trim)||void 0===r?void 0:r.call(n);if(e.isBlank(a))return i;var o=a;if(/auto/.test(o))o="auto";else{var u=/\D*(\d+\.?\d*)(px|%|vmin|vmax|vw|vh)?/,s=a.match(u),l=e.toDecimal(null==s?void 0:s[1],void 0);if(0<=l){var c=e.toString(null==s?void 0:s[2],"px");o=String(l)+c}else o=i}return o}},{key:"deepClone",value:,{key:"deepCloneArray",value:function(e){return h.deepCloneArray(e)}},{key:"deepMerge",value:,{key:"isFinite",value:function(e){return Number.isFinite(e)}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isDefined",value:,{key:"isNull",value:function(e){return null===e}},{key:"isNil",value:,{key:"isValue",value:,{key:"isObjectEmpty",value:function(e){if(e.constructor!==Object)return!1;for(var t in e)return!1;return!0}},{key:"isBlank",value:function(t){return null==t||0===t.length||e.isObjectEmpty(t)}},{key:"isPresent",value:,{key:"ife",value:function(t,n,r){return e.isFunction(t)?t(n)?n:r:t?n:r}},{key:"ifPresent",value:,{key:"ifValue",value:function(t,n){for(var r=1<arguments.length?arguments[arguments.length-1]:void 0,i=0;i<arguments.length-1;i++){var a=arguments[i];if(e.isValue(a)){r=a;break}}return r}},{key:"notEmpty",value:function(t,n){for(var r=1<arguments.length?arguments[arguments.length-1]:void 0,i=0;i<arguments.length-1;i++){var a=arguments[i];if(e.isPresent(a)){r=a;break}}return r}},{key:"isBoolean",value:function(e){var t=Boolean.prototype.toString,n=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"===i()(Symbol.toStringTag);return"boolean"==typeof e||null!==e&&"object"===i()(e)&&(r?e):"[object Boolean]"===n.call(e))}},{key:"stringToBool",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isBlank(t))return n;var r=String(t).toLowerCase().trim();switch(r){case"":case"null":case"undefined":return n;case"false":case"no":case"0":return!1;default:return!0}}},{key:"toBool",value:function(t){return e.isBoolean(t)?t:e.isString(t)?e.stringToBool(t):Boolean(t)}},{key:"toBoolIfValue",value:function(t,n){for(var r=1<arguments.length?arguments[arguments.length-1]:null,i=0;i<arguments.length-1;i++){var a=arguments[i];if(e.isValue(a)){r=e.toBool(a);break}}return r}},{key:"toDecimalString",value:function(t,n,r){var i=parseInt(t,10);if(isNaN(i))return null;var a=String(i);return e.isString(n)&&t.indexOf(n)>=0&&(a=n+a),e.isString(r)&&t.indexOf(r)>=0&&(a+=r),a}},{key:"toDecimal",value:function(e,t){var n=parseInt(e,10);return Number.isFinite(n)?n:t}},{key:"toNumber",value:,{key:"cssTimeStringToMillisecondsNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null==e?void 0:e.trim(),r=parseFloat(n);return 0<=r?(null==n?void 0:n.endsWith("ms"))?r:(null==n?void 0:n.endsWith("s"))?1e3*r:t:t}},{key:"stringToSize",value:function(t,n){if(!e.isString(t)&&e.isBlank(n))return null;var r=n||{width:NaN,height:NaN},i={width:"",height:""},a="",o="";return e.isString(t)&&(a=(i=t.split(/[x,:]/))[0]&&i[0].trim(),o=i[1]&&i[1].trim()),a=e.notEmpty(a,r.width,NaN),o=e.notEmpty(o,r.height,NaN),{width:a=/auto/.test(a)?"auto":e.notEmpty(e.toDecimalString("".concat(a),null,"%"),NaN),height:o=/auto/.test(o)?"auto":e.notEmpty(e.toDecimalString("".concat(o),null,"%"),NaN)}}},{key:"isPositiveOrZeroNum",value:,{key:"isPositiveNum",value:,{key:"isElement",value:function(e){return e instanceof Element}},{key:"isMap",value:,{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isNull",value:,{key:"isNullOrUndefined",value:,{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isSymbol",value:,{key:"isUndefined",value:,{key:"isRegExp",value:function(t){return e.isObject(t)&&"[object RegExp]"===e.objectToString(t)}},{key:"isObject",value:,{key:"isDate",value:,{key:"isError",value:function(t){return e.isObject(t)&&("[object Error]"===e.objectToString(t)||t instanceof Error)}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isPrimitive",value:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===i()(e)||void 0===e}},{key:"objectToString",value:,{key:"toString",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.isValue(t)?String(t):n}},{key:"objectForEachValue",value:function(t,n){e.isNil(t)||Object.keys(t).forEach(()}},{key:"safeFrame",get:,{key:"viewportWidth",get:]),e}(),h=function(){function t(){s()(this,t)}return c()(t,null,[{key:"isSpecificValue",value:function(t){return Boolean((null==t?void 0:t.isClass)||t instanceof e)}},{key:"cloneSpecificValue",value:function(t){if(t instanceof e){var n=e.alloc?e.alloc(t.length):new e(t.length);return t.copy(n),n}return t instanceof Date?new Date(t.getTime()):t instanceof RegExp?new RegExp(t):t}},{key:"deepCloneArray",value:function(e){for(var n=[],r=0,a=Object.entries(e);r<a.length;r++){var u=o()(a[r],2),s=u[0],l=u[1];"object"===i()(l)&&null!==l?Array.isArray(l)?n[s]=t.deepCloneArray(l):t.isSpecificValue(l)?n[s]=t.cloneSpecificValue(l):n[s]=t.deepMerge({},l):n[s]=l}return n}},{key:"safeGetProperty",value:function(e,t){return"__proto__"===t?void 0:e[t]}},{key:"deepMerge",value:function(){if(arguments.length<1||"object"!==i()(arguments[0]))return!1;if(arguments.length<2)return arguments[0];var e,n=arguments[0],r=Array.prototype.slice.call(arguments,1),a=d(r);try{for(a.s();!(e=a.n()).done;){var o=e.value;if("object"===i()(o)&&null!==o&&!Array.isArray(o))for(var u=0,s=Object.keys(o);u<s.length;u++){var l=s[u],c=t.safeGetProperty(n,l),f=t.safeGetProperty(o,l);f!==n&&("object"===i()(f)&&null!==f?Array.isArray(f)?n[l]=t.deepCloneArray(f):t.isSpecificValue(f)?n[l]=t.cloneSpecificValue(f):"object"!==i()(c)||null===c||Array.isArray(c)?n[l]=t.deepMerge({},f):n[l]=t.deepMerge(c,f):n[l]=f)}}}catch(p){a.e(p)}finally{a.f()}return n}},{key:"deepCopy",value:function(e){var n;if(Array.isArray(e)){n=0<e.length?e.slice(0):[];for(var r=0,a=Object.entries(n);r<a.length;r++){var u=o()(a[r],2),s=u[0],l=u[1];("object"===i()(l)&&l!=={}||Array.isArray(l)&&0<l.length)&&(n[s]=t.deepCopy(l))}}else if("object"===i()(e)){n=Object.assign({},e);for(var c=0,d=Object.keys(n);c<d.length;c++){var f=d[c];("object"===i()(n[f])&&n[f]!=={}||Array.isArray(n[f])&&0<n[f].length)&&(n[f]=t.deepCopy(n[f]))}}else n=e;return n}}]),t}();t.a=p}).call(this,n(176).Buffer)},function(e,t,n){"use strict";var r=n(14),i=n(50).filter,a=n(81),o=n(42),u=a("filter"),s=o("filter");r({target:"Array",proto:!0,forced:!u||!s},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(14),i=n(171);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t){e.exports={}},function(e,t,n){n(111)("iterator")},function(e,t,n){var r=n(14),i=n(155).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},o:!0,forced:v||x},k);return k}},function(e,t,n){"use strict";var r=n(14),i=n(50).map,a=n(81),o=n(42),u=a("map"),s=o("map");r({target:"Array",proto:!0,forced:!u||!s},{map:function(e){return i(this,e,arguments.lethis)):l.call(a(this),i(e))}})},function(e,t,n){var r=n(196);function i(e,t,n,i){void 0===n?n=1e3:"function"==typeof n&&(i=n,n=1e3);var a=r.get(e.style,"transition")||"";r(e.style,"transition","opacity "+n/1e3+"s"),e.style.opacity=t,setTimeout((function(){r(e.style,"transition",a),i&&i()}),n)}e.exports=i,i.out=f.c=n[l];r(e,c)||u(e,c,s(t,c))}}},function(st have a [Symbol.iterator]() method.")}},function(e,t){var n=["-webkit-","-moz-","-o-","-ms-",""];function r(e,t,r){for(var i=0;i<n.length;i++)e[n[i]+t]=r}e.exports=r,r.get=function(e,t){for(var r=0;r<n.length;r++){var i=return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"IvtSize",(function(){return b}));var i={};n.r(i),n.d(i,"IvtElement",(function(){return V})),n.d(i,"createElement",(function(){return P})),n.d(i,"createBeacon",(function(){return _})),n.d(i,"createFiFrame",(function(){return F})),n.d(i,"createCompanion",(function(){return O}));var a={};n.r(a),n.d(a,"createEvent",(function(){return z})),n.d(a,"IvtEventTarget",(function(){return D}));var o={};n.r(o),n.d(o,"TimeoutError",(function(){return q})),n.d(o,"timeout",(function(){return Y})),n.d(o,"Deferred",(function(){return G}));var u={};n.r(u),n.d(u,"IvtEnum",(function(){return ee})),n.d(u,"IvtDeviceType",(function(){return te})),n.d(u,"IvtOsType",(function(){return ne})),n.d(u,"IvtBrowserType",(function(){return re})),n.d(u,"IvtErrorCode",(function(){return ie})),n.d(u,"IvtPlayerPausedReason",(function(){return ae})),n.d(u,"IvtAdNotification",(function(){return ue})),n.d(u,"IvtUserNotification",(function(){return oe})),n.d(u,"IvtAdUIType",(function(){return se})),n.d(u,"IvtAdEvent",(fun.d(u,"IvtAdState",(function(){return ce}));n(123),n(43);var s=n(2),l=n.n(s),c=n(4),d=n.n(c),f=n(1),p=n.n(f),h=(n(16),n(26),n(105),n(11),n(27),n(28),n(30),n(0)),v=n.n(h),y=(n(18),n(3)),m=n.n(y),g=(n(33),n(52),n(70),n(49),n(53),n(34),n(44),n(110),n(54),n(55),n(71),n(56),n(36),n(173),n(174),n(72),n(12),n(6)),A=n.n(g),w=n(5),k=n.n(w),b=function(){function e(){if(l()(this,e),p()(this,"width",0),p()(this,"height",0),1===arguments.length){var t=arguments[0];this.width=(null==t?void 0:t.width)||0,this.height=(null==t?void 0:t.height)||0}else 1<arguments.length&&(this.width=arguments[0],this.height=argumn(){return new e(this.width,this.height)}}]),e}(),S=n(9),C=n(122);function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<ar V=function(){function e(){l()(this,e)}return d()(e,null,[{key:"createElement",value:function(t){var n="string"==typeof t?document.createElement(t):t;return n.eventHandlers={},n.clear=e.clear.bind(null,n),n._wh=e._wh.bind(null,n),n.on=e.on.bind(null,n),n.off=e.off.bind(null,n),n.wh=e.wh.bind(null,n),n.show=e.show.bind(null,n),n.fadein=e.fadein.bind(null,n),n.fadeout=e.fadeout.bind(null,n),n._isFadeouting=!1,n.hide=e.hide.bind(null,n),n.zero=e.zero.bind(null,n),n.slideSetup=e.slideSetup.bind(null,n),n.slide=e.slide.bind(null,n),n.cancelSlide=e.cancelSlide.bind(null,n),n.inviewPercentage=e.inviewPercentage.bind(null,n),n.getClientSize=e.getClientSize.bind(null,n),Object.defineProperties(n,{w:{get:e.getWidth.bind(null,n),set:e.setWidth.bind(null,n),configurable:!0},h:{get:e.getHeight.bind(null,n),set:e.setHeight.bind(null,n),configurable:!0},size:{get:e.getSize.bind(null,n),set:e.setSize.bind(null,n),configurable:!0},styleSize:{get:e.getStyleSize.bind(null,n),configurable:!0},isHidden:{get:e.getIsHidden.bind(null,n),set:e.setIsHidden.bind(null,n),configurable:!0}}),n}},{key:"clear",value:function(e){var t;if(e){null===(t=e.parentElement)||void 0===t||t.removeChild(e);for(var n=0,r=Object.keys(e.eventHandlers);n<r.length;n++){var i=r[n];e.off(i)}Object.getOwnPropertyNames(e).forEach((function(t){Object.getOwnPropertyDescriptor(e,t).configurable&&(delete e.name,e.name=null)}))}}},{key:"getHeight",value:function(e){return e._wh(e,"Height")}},{key:"setHeight",value:function(e,t){e.style.height=S.aalue:function(e){return(e,t){e.style.width=S.turn new b(e.offsetWidth,e.offsetHeight)}},{key:"setSize",value:function(e,t){e.wh((null==t?void 0:t.width)||0,(null==t?void 0:turn new b(e.style.width,e(e){return"visible"!==e.style.visibility}},{key:"setIsHidden",value:function(e,t){e.style.visibility=S.a.toBool(t)?"hidden":"visible"}},{key:"_wh",value:function(e,t,n){return Math.max(t["scroll"+n],t["offset"+n],t["client"+n])}},{key:"on",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t in e.eventHandlers||(e.eventHandlers[t]=[]);var i={listener:n,useCapture:r};e.eventHandlers[t].push(i),e.addEventListener(t,n,r)}},{key:"off",value:function(e,t){if(t in e.eventHandlers){var n,r=x(e.eventHandlers[t]);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeEventListener(t,i.listener,i.useCapture)}}catch(a){r.e(a)}finally{r.f()}e.eventHandlers[t]=null,dely:"wh",value:function(e,t,n){e.w=t,e.h=n}},{key:"show",value:function(t){return function(t){return e.setIsHidden(t,!0),t}},{key:"fadein",value:function(e){return e._isFadeouting=!1,new n(t){e.show(),C.in(e,1e3,(function(){t()}))}))}},{key:"fadeout",value:function(e){return e._isFadeouting=!0,new Promise((function(t){C.out(e,1e3,(function(){e._isFadeouting&&(e.hide(),e._isFad",value:function(e){return e.w=0,e.h=0,e}},{key:"slideSetup",value:function(e){for(var t=0,n=["webkit","moz"],r=0;r<n.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"];window.requestAnimt((function(){e(n+r)}),r);return t=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}},{key:"slide",value:function(e,t,n,r){return new Promise((function(i){var a=e.offsetWidth,o=e.offsetHeight;e.w=t,e.h=n,r&&r(e.w,e.h);var u=e.offsetWidth,s=e.offsetHeight,l=Math.round(u-a),c=Math.round(s-o),d=l/30,f=c/30,p=l<=0?function(){return a<=u}:function(){reon(){return o<=s}:function(){return s<=o};e.w=a,e.h=o,e.cancelSlide(),e.slideSetup();!function u(){if(p()&&h())return e.cancelSlide(),e.w=t,e.h=n,r&&r(t,n),void i();a+=d,o+=f,e.w=a,e.h=o,r&&r(a,o),e.animetionID=requestAnimationFrame((function(Frame(e.animetionID),e.animetionID=null)}},{key:"inviewPercentage",value:function(e,t,n){if(S.a.safeFrame){var r=S.a.safeFrame;if(r.ext&&S.a.isFunction(r.ext.inViewPercentage))return r.ext.inViewPercentage()}var i=0,a=0,o=S.a.toDecimal(t,0),u=S.a.toDecimal(n,0),s=e.getBoundingClientRect(),l=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;c=c-o-u;var d=s.left,f=s.right,p=f-d,h=s.top-o,v=s.bottom-o,y=v-h;return i=f<=0||l<=d?0:p<=0?1:d<0&&l<f?l/p:d<0?f/p:l<f?(l-d)/p:1,a=v<=0||c<=h?0:y<=0?1:h<=0&&c<v?c/y:h<=0?v/y:c<v?(c-h)/y:1,Math.floor(i*a*100)}},{key:"getClientSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getBoundingClientRect(),r=n.width,i=n.height,a=0,o=0,u=0,s=0;if(!t){var l=window.getComputedStyle(e);a=0<(a=parseInt(l.borderTopWidth,10))?a:0,o=0<(o=parseInt(l.borderBottomWidth,10))?o:0,u=0<(u=parseInt(l.borderLeftWidth,10))?u:0,s=0<(s=parseInt(l.borderRightWidth,10))?s:0}var c=r-u-s,d=i-a-o;return{width:c,height:d}}}]),e}(),B=function(){function e(){l()(this,e)}return d()(e,null,[{key:"createBeacon",value:function(e){var t=V.createElement(e);return t.w=1,t.h=1,t.style.overflow="hidden",t.style.opacity="0.1",t}}]),e}(),I=function(){function e(){l()(this,e)}return d()(e,null,[{key:"createFiFrame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=e.isInDapIF||!0,r=V.createElement("iframe");return t&&r.on("load",(function(e){r.off("load");var i=r.contentWindow.document,a=n?"<body><script>inDapIF = true;<\/script>"+t+"</body>":t;i.open(),i.write(a),i.write("<style> body {margin:0} </style>"),i.close()})),r}},{key:"setup",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A()(k()(e),"setup",this).call(this,t,n);var r=n.text,i=n.isInDapIF||!0;r&&t.on("load",(function(){t.off("load");var e=t.contentWindow.document,n=i?"<body><script>inDapIF = true;<\/script>"+r+"</body>":r;e.open(),e.write(n),e.write("<style> body {margin:0} </style>"),e.close()}))}}]),e}(),R=function(){function e(){l()(this,e)}return d()(e,null,[{key:"createCompanion",value:function(e){if(!e)return null;var t=null;switch(e.type){case"static":(t=V.createElement("img")).src=e.src;break;case"iframe":(t=V.createElement("iframe")).src=e.src;break;case"html":t=I.createFiFrame({text:t.src,isInDapIF:!1});break;default:return null}return t.companion=e,t}}]),e}(),P=V.createElement,_=B.createBeacon,F=I.createFiFrame,O=R.createCompanion;n(73);function T(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){var n=t||{};if(S.a.isNil(n.bubbles)&&(n.bubbles=!1),S.a.isNil(n.cancelable)&&(n.cancelable=!1),S.a.isNil(n.detail)&&(n.detail={}),"CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,n);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}var D=function(){function e(){l()(this,e),p()(this,"log",null),p()(this,"eventTarget",null),p()(this,"eventHandlers",{}),this.eventTarget=document.createDocumentFragment()}return d()(e,[{key:"clear",value:function(){this.offAll()}},{key:"dispatch",value:function(e,t){var n=z(e,t);n.cancelDispatch=!1,n.detail.target=this,this.eventTarget.dispatchEvent(n)}},{key:"eventListener",value:function(e){e&&e.stopPropagation();var t=e.type,n=null;if(S.a.isFunction(this[t])&&(n=this[t](e)),!(e.cancelDispatch||!1)){var r={bubbles:e.bubbles,cancelable:e.cancelable,detail:e.detail};this.dispathen((function(e){S.a.isFunction(e)&&e()}))}}},{key:"on",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!S.a.isNil(t)){var i,a=S.a.isString(t)?[t]:t,o=T(a);try{for(o.s();!(i=o.n()).done;){var u=i.value;u in this.eventHandlers||(this.eventHandlers[u]=[]);var s={type:u,listener:n,useCapture:r};this.eventHandlers[u].push(s),n instanceof e?this.eventTarget.addEventListener(u,(function(e){n.eventListener(e)}),r):this.eventTarget.addEventListener(u,n,r)}}catch(l){o.e(l)}finally{o.f()}}}},{key:"off",value:function(e){if(!S.a.isNil(e)){var t,n=T(S.a.isString(e)?[e]:e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r in this.eventHandlers){var i,a=T(this.eventHandlers[r]);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.eventTarget.removeEventListener(o.type,o.listener,o.useCapture)}}catch(u){a.e(u)}finally{a.f()}this.eventHandlers[r]=null,delete this.eventHandlers[r]}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"offAll",value:function(){for(var e=0,t=Object.entries(this.eventHandlers);e<t.length;e++){var n=t[e];this.eventTarget.removeEventListener(n.type,n.listener,n.useCapture)}this.eventHandlers={}}}]),e}(),L=(n(197),n(13),n(8)),M=n.n(L),N=n(10),j=n.n(N),W=n(91),Q=n.n(W);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var q=function(e){M()(n,e);var t=H(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call(this,i)).name="TimeoutError",e}return n}(Q()(Error));function Y(e,t,n){var r=null,i=new Promise((function(e,i){r=window.setTimeout((function(){var a="timed out in ".concat(t," ms.");n&&(a+=" info = ".concat(n,"."));var o=new q(a);r?i(o):e()}),nally((function(){clearTimeout(r),r=null}))}var G=function(){function e(t){var n=this;l()(this,e),p()(this,"_resolve",null),p()(this,"_reject",null),p()(this,"_promise",null),p()(this,"_detail",null),((function(e,t){n._resolve=e,n._rejece){return Y(this.promise,e,this._detail)}},{key:"resolve",get:function(){return this._resolve}},{key:"reject",get:function(){return this._reject}},{key:"promise",get:function(){return this._promise}},{key:"detail",get:function(){return this._detail}}]),e}(),K=n(7),Z=n.n(K);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var J=function(e){M()(n,e);var t=X(n);function n(e,r){var i;return l()(this,n),i=t.call(this,e),p()(Z()(i),"errorCode","0"),i.name="IvtError",S.a.isPresent(r)&&(i.errorCode=r),S.a.isFunction(Error.captureStackTrace)?Error.captureStackTrace(Z()(i),i.constructor):i.stack=new Error(e).stack,i}return n}(Q()(Error));n(74),n(57),n(75),n(158),n(90);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var ee=function(){function e(){l()(this,e)}return d()(e,null,[{key:"all",get:fus).filter((function(e,t){return"all"!==e}))}}]),e}(),te=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(te,"SD","SD"),p()(te,"PC","PC"),p()(te,"Other","Other");var ne=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(ne,"Windows","Windows"),p()(ne,"Mac","Mac"),p()(ne,"Android","Android"),p()(ne,"iOS","iOS"),p()(ne,"Other","Other");var re=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(re,"IE","IE"),p()(re,"Edge","Edge"),p()(re,"Chrome","Chrome"),p()(re,"Firefox","Firefox"),p()(re,"Safari","Safari"),p()(re,"Other","Other");var ie=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(ie,"timeout","301"),p()(ie,"noAd","303"),p()(ie,"linear","400"),p()(ie,"linearNotFound","401"),p()(ie,"linearTimeout","402"),p()(ie,"linearUnsupportedCodecs","403"),p()(ie,"linearNotDisplayMediaFile","405"),p()(ie,"undefined","900"),p()(ie,"vpaid","901");var ae=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(ae,"playing",0),p()(ae,"outview",1),p()(ae,"visible",2),p()(ae,"userInteraction",4),p()(ae,"ended",8),p()(ae,"vpaid",16),p()(ae,"pausing",ae.outview|ae.visible|ae.userInteraction|ae.ended|ae.vpaid);var oe=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(oe,"didUserVideoClick","didUserVideoClick"),p()(oe,"didUserClose","didUserClose"),p()(oe,"didUserOptout","didUserOptout"),p()(oe,"didUserResume","didUserResume"),p()(oe,"didUserPause","didUserPause"),p()(oe,"didUserReplay","didUserReplay"),p()(oe,"didUserVolumeChange","didUserVolumeChange"),p()(oe,"didUserMute","didUserMute"),p()(oe,"didUserUnMute","didUserUnMute"),p()(oe,"didUserAcceptInvitation","didUserAcceptInvitation"),p()(oe,"didUserCollapse","didUserCollapse");var ue=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(ue,"didAdStart","didAdStart"),p()(ue,"didAdFinish","didAdFinish"),p()(ue,"didAdError","didAdError"),p()(ue,"didAdImpression","didAdImpression"),p()(ue,"didAdClick","didAdClick"),p()(ue,"didAdOptout","didAdOptout"),p()(ue,"didAdLoad","didAdLoad"),p()(ue,"didAdPause","didAdPause"),p()(ue,"didAdPlay","didAdPlay"),p()(ue,"didAdReplay","didAdReplay"),p()(ue,"didAdSkip","didAdSkip"),p()(ue,"didAdStop","didAdStop"),p()(ue,"didAdClose","didAdClose"),p()(ue,"didAdVolumeChange","didAdVolumeChange"),p()(ue,"didAdMute","didAdMute"),p()(ue,"didAdUnMute","didAdUnMute"),p()(ue,"didAdSizeChange","didAdSizeChange"),p()(ue,"didAdVideoProgress","didAdVideoProgress"),p()(ue,"didAdVideoStart","didAdVideoStart"),p()(ue,"didAdVideoViewable","didAdVideoViewable"),p()(ue,"didAdVideoFirstQuartile","didAdVideoFirstQuartile"),p()(ue,"didAdVideoMidpoint","didAdVideoMidpoint"),p()(ue,"didAdVideoThirdQuartile","didAdVideoThirdQuartile"),p()(ue,"didAdVideoComplete","didAdVideoComplete");var se=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(se,"click","click"),p()(se,"mute","mute"),p()(se,"unmute","unmute"),p()(se,"volumeChange","volumeChange"),p()(se,"pause","pause"),p()(se,"resume","resume"),p()(se,"rewind","rewind"),p()(se,"close","close"),p()(se,"optout","optout"),p()(se,"acceptInvitation","acceptInvitation"),p()(se,"collapse","collapse"),p()(se,"expand","expand");var le=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return n}(ee);p()(le,"AdError","AdError"),p()(le,"AdUserInteraction","AdUserInteraction"),p()(le,"didAdError","didAdError"),p()(le,"didAdSizeChange","didAdSizeChange"),p()(le,"willVastRequest","willVastRequest"),p()(le,"didVastRequest","didVastRequest"),p()(le,"willAdCreate","willAdCreate"),p()(le,"didAdCreate","didAdCreate"),p()(le,"willAdLoad","willAdLoad"),p()(le,"didAdLoad","didAdLoad"),p()(le,"willAdUnload","willAdUnload"),p()(le,"didAdUnload","didAdUnload"),p()(le,"willAdStart","willAdStart"),p()(le,"didAdStart","didAdStart"),p()(le,"willAdStop","willAdStop"),p()(le,"didAdStop","didAdStop"),p()(le,"willAdReplay","willAdReplay"),p()(le,"didAdReplay","didAdReplay"),p()(le,"willAdPlay","willAdPlay"),p()(le,"didAdPlay","didAdPlay"),p()(le,"willAdPause","willAdPause"),p()(le,"didAdPause","didAdPause"),p()(le,"willAdClose","willAdClose"),p()(le,"didAdClose","didAdClose"),p()(le,"willAdMute","willAdMute"),p()(le,"didAdMute","didAdMute"),p()(le,"willAdUnmute","willAdUnmute"),p()(le,"didAdUnmute","didAdUnmute"),p()(le,"willAdVolumeChange","willAdVolumeChange"),p()(le,"didAdVolumeChange","didAdVolumeChange"),p()(le,"willAdClick","willAdClick"),p()(le,"didAdClick","didAdClick"),p()(le,"willAdOptout","willAdOptout"),p()(le,"didAdOptout","didAdOptout"),p()(le,"didVideoProgress","didVideoProgress"),p()(le,"didVideoStart","didVideoStart"),p()(le,"didVideoFirstQuartile","didVideoFirstQuartile"),p()(le,"didVideoMidpoint","didVideoMidpoint"),p()(le,"didVideoThirdQuartile","didVideoThirdQuartile"),p()(le,"didVideoComplete","didVideoComplete"),p()(le,"didVideoEndedChange","didVideoEndedChange"),p()(le,"willAdImpression","willAdImpression"),p()(le,"didAdImpression","didAdImpression"),p()(le,"willAdViewable","willAdViewable"),p()(le,"didAdViewable","didAdViewable"),p()(le,"willAdUpdateLayout","willAdUpdateLayout"),p()(le,"didAdUpdateLayout","didAdUpdateLayout"),p()(le,"didUserReplay","didUserReplay"),p()(le,"didUserPlay","didUserPlay"),p()(le,"didUserPause","didUserPause"),p()(le,"didUserMute","didUserMute"),p()(le,"didUserUnmute","didUserUnmute"),p()(le,"didUserVolumeChange","didUserVolumeChange"),p()(le,"didUserVideoClick","didUserVideoClick"),p()(le,"didUserOptout","didUserOptout"),p()(le,"didUserAcceptInvitation","didUserAcceptInvitation"),p()(le,"didUserCollapse","didUserCollapse"),p()(le,"didUserExpand","didUserExpand"),p()(le,"didUserClose","didUserClose"),p()(le,"didUserSkip","didUserSkip");var ce=function(e){M()(n,e);var t=$(n);function n(){return l()(this,n),t.call(this)}return d()(n,null,[{key:"isRequested",value:function(e){return Boolean(e&this.request)}},{key:"isCreated",value:function(e){return Boolean(e&this.create)}},{key:"isLoaded",value:function(e){return Boolean(e&this.load)}},{key:"isUnloaded",value:function(e){return!this.isLoaded(e)}},{key:"isStarted",value:function(e){return Boolean(e&this.start)}},{key:"isStopped",value:function(e){return!this.isStarted(e)}},{key:"isPlayed",value:function(e){return Booalue:function(e){return!this.isPlayed(e)}}]),n}(ee);p()(ce,"none",0),p()(ce,"request",1),p()(ce,"create",2),p()(ce,"load",4),p()(ce,"start",8),p()(ce,"play",16);var de=S.a.namespace(),fe=function(){function e(){l()(this,e)}return d()(e,null,[{key:"isSupport",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ye(e)}},{key:"browserType",get:function(){var e=de(this);return e.browserInfo||(e.browserInfo=he(this.userAgent)),e.browserInfo.type}},{key:"browserVersion",get:function(){var e=de(this);return e.browserInfo||(e.browserInfo=he(this.userAgent)),e.browserInfo.version}},{key:"osType",get:function(){var e=de(this);return e.osInfo||(e.osInfo=ve(this.userAgent)),e.osInfo.type}},{key:"osVersion",get:function(){var e=de(this);return e.osInfo||(e.osInfo=ve(this.userAgent)),e.osInfo.version}},{key:"deviceType",get:function(){var e=de(this);if(!e.deviceType)switch(this.osType){case ne.Windows:case ne.Mac:e.deviceType=te.PC;break;case ne.iOS:case ne.Android:e.deviceType=te.SD;break;default:e.deviceType=te.Other}return e.deviceType}}]),e}();function pe(e,t){var n=e.match(t);return Array.isArray(n)?n[1]:null}function he(e){var t={type:re.Other,version:0};try{for(var n=e.toLowerCase(),r=0,i=["blackberry","bb10","chromium","gsa","kindle","lunascape","maxthon","netfront","nintendo","opr","opera","palemoon","playstation","puffin","qqbrowser","seamonkey","samsung","silk","sleipnir","ucbrowser","uc browser","ucweb","yabrowser","vivaldi"];r<i.length;r++){var a=i[r];if(n.includes(a))return t}if(n.includes("trident/7"))return{type:re.IE,version:11};if(n.includes("edge")){var o=Number(pe(n,/edge\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:re.Edge,version:o}}if(n.includes("firefox")){var u=Number(pe(n,/firefox\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:re.Firefox,version:u}}if(n.includes("chrome")){if(n.includes("version"))return t;var s=Number(pe(n,/chrome\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:re.Chrome,version:s}}if(n.includes("safari")){if(n.includes("android"))return t;if(n.includes("crios")){var l=Number(pe(n,/crios\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:re.Chrome,version:l}}if(n.includes("fxios")){var c=Number(pe(n,/fxios\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:re.Firefox,version:c}}var d=Number(pe(n,/version\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:re.Safari,version:d}}}catch(f){}return t}function ve(e){var t={type:ne.Other,version:0};try{var n=e.toLowerCase();if(n.includes("windows phone"))return t;if(n.includes("windows")){var r=Number(pe(n,/windows\snt\s(\d+\.?\d*)[\.\d]*;?/i))||0;return{type:ne.Windows,version:r}}if(n.includes("android")){var i=Number(pe(n,/android\s(\d+\.?\d*)[\.\d]*;?/i))||0;return{type:ne.Android,version:i}}if(n.includes("iphone")||n.includes("ipod")){var a=pe(n,/iphone\sos\s(\d+_?\d*)[_\d]*\s?/i);return a=Number(a.replace("_","."))||0,{type:ne.iOS,version:a}}if(n.includes("ipad")){var o=pe(n,/cpu\sos\s(\d+_?\d*)[_\d]*\s?/i);return o=Number(o.replace("_","."))||0,{type:ne.iOS,version:o}}if(n.includes("macintosh")){var u=pe(n,/mac\sos\sx\s(\d+[_\.]?\d*)[_\.\d]*\s?/i);return u=Number(u.replace("_","."))||0,{type:ne.Mac,version:u}}}catch(s){}return t}function ye(e){var t=fe.osType,n=fe.osVersion,r=fe.browserType,i=fe.browserVersion,a=Boolean(e);switch(t){case ne.Android:return function(){if(n<4.4)return!1;if(r===re.Chrome&&i<53)return!1;return!0}();case ne.iOS:return function(){if(n<10)return!1;return r===re.Safari||a}();case ne.Windows:return function(){if(r===re.Chrome&&50<=i)return!0;if(r===re.Firefox&&48<=i)return!0;if(r===re.IE)return 11<=i;if(r===re.Edge)return 14<=i;return a}();case ne.Mac:return function(){if(r===re.Chrome&&50<=i)return!0;if(r===re.Firefox&&48<=i)return!0;if(r===re.Safari)return 6.2<=i;return a}();default:return a}}p()(fe,"userAgent",window.navigator.userAgent);var me=function(){function e(){l(lue:function(e){return this.reset(),this}},{key:"deinit",value:function(){this.reset()}},{key:"reset",value:function(system.com"],Ae=function e(){l()(this,e)};p()(Ae,"defaultAdmarkButtonSrc","data:image/png;base64,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"),p()(Ae,"defaultCloseButtonSrc","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAACgklEQVRIx82XP4viQBjGn5GDTbems7QUm20FLbYUbExjYWUV7wsIm+q8SsEvYJltLEzhgghbRohgudtIyi1TJVplrN4rbhLmsol/7nLnPRAYZsL8Mg/vzDxhRIRzYowVAVTEUwKgJF7hADwALgCXiPZn5zwFZoyVADQBlHGdPgC8EpF3FZgxpgB4BFDDn2kLwCYifhYsoD1haSzDMCqtVqtSrVbLqqrey2NBEBx2u93HarVyR6ORm2B4AMwk/BdwGlTX9fJ4PG4nYVkKguAwmUxeEx/wCR6D06CO47Tr9frD73i82WzeG43GSxa8IA085gUFgHq9/uA4TlvqKgkGYrCo3lpe0BPwmmDFK27KRZQHVIbrui5vxyYAFMThEA8MBoNm2gSWZa0558csAOf8aFnWOm1sPB7Lqy4zxooFcRrFq02rXsuy1p1Ox+52u2YanHN+7Ha7ZqfTsdPgqqreG4ZRkboqEJU8BDB0HOeNUhSGIdc0bQpgqGnaNAxDfsmYLMdx3iKOYOIp6vB9f08ZSgNcCiUi8n1/L4GfmGgAAIjo26lCiSxdLBaepmklAIjas9mspyjK3ZnL5nvU/nJNhSqKcjebzXoRHAAuhSZVwI10FThptaZppcVi4WVV+zndpLhutp0KIq4AAFarlZtmyXK53GZVb1Rwke3L5XKbNkdibhcAitKXZNo9n8/tU1aGYcjn87l9gc1DAEWI+zi2W9d1k3KWruumbDMR/QwC4qr6mve1mBEIpkTkFcSJ5YlgBgBoNBovm83m/S9At1HylPexLeJJLvCM6GN/OkBEFjKT8H6//xwEweFSYBAEh36//3wqb/0/8famgf6mvzD/4qftB3nlWC1q4NisAAAAAElFTkSuQmCC"),p()(Ae,"defaultDetailButtonSrc","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAACeElEQVRIx82Xv4viQBTHvyMLjp2llVpkwU7CNkqEC6m2vBRa2KyV+g8I291td7D/gFp5jUW28Eqr4MGG3SaInWAK18ryuh2ruWZGxuieP+6i94VANOF9eG/e+/JCOOfYJ0JIEkBOXCkANPQKA7AEMAUw5Zz/2hvzT2BCSArALYAsjtMcwJBzvjwKTAihAEwABfydXgGMOOdsL1hAa6Kk/0JLAL0wPBYxFCJWTcTeBkcE/RCuZmxGBFXh5gZYdG8B0asgWOuMb3E+3QLAlTCHjTktFovJx8dH8+bmJkcpjX8w4w8AwDn/sus5Y2zl+/601WqNXl5eVEPJEkKSMeFGa9m2nXJdt2kYRv4j6CGilMYNw8i7rtu0bTvcOzkiOjkrM3VdtymBQRC8jcfj+a7AlUplBACO45i7nuu6ntU0LSOztyyrrWQ+JwDupfc+Pz9/NgwjDwBPT08/ZfBT5TiOWS6XPwGA53mTUqn0Q54EAfBVvvj+/n5PKY0HQfB2fX3dU4PU6/WD/Lrb7W5UaDab1TRNyzDGVolE4pv8/0repNNpKku8q7ydTufuQPCD+ns8Hs81TcuE+yWGC2md8WKxYIyxFaU0ruv6Vlkbjcb3UwAyFmNsFQYz2Vy+708Nw8hrmpZxHMdUmyt8doc2l+xs3/en6phfdJwKqmXatp3q9/u1feaxz7lUB6tWq73BYKBuI8OY2JPWGgwGS8uy2p7nTcLncowYYyvP8yaWZbVDUACYEs45CCG1E/aqUzXnnPfkOA3POEnD9RyLbfD1DNBXuXmqBjISi1lUWgrGpnOJLbAXEXxr09ywzIjgO9fb/2ehv+gnzDk+2n4Dh+9B1nqA5OYAAAAASUVORK5CYII="),p()(Ae,"defaultLoadingButtonSrc","data:image/gif;base64,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"),p()(Ae,"defaultOptoutButtonOnExpandSrc","data:image/png;base64,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"),p()(Ae,"defaultOptoutButtonSrc","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAejwAAHo8BmMFdxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGoSURBVCiRjVLPi9pQEJ7YUjAIhd02x716WcjdixdP+UPMIRCiMfHHi+IxIPrPRMSLf4Agyx5Cixc3SXtK1+1BcEvJzPTQDbi6KR14vGG+b2bevPkkANhAgVWr1Q/b7fZ3EV4qAgzDuA7D8NYwjOsiDrx0fnVM03xARFqtVj8RkUzTfHiLd5FsWVaEiDQajRIA2LiuGyMid7vd+J/JrVYrQkTyPC+p1Wpf4jj+1Wg0vjqOEyMi93q98wJ/nXa7HSEiCSESANioqhouFosnVVVDANh0Op0IEbnf78evkm3bjhCRB4NBkgOVSuWu2WzuZFm+y2MXPEVR7hGRgyDYnz5J1/UdM7Ou67vTeBAEe0RkRVHuS2maZq7rxpqmXQkhlHwF5XK5dHoDANi2/UnTtKvhcPgtTdPsYmbP85L815mZLcuKimZ+n1edzWaPRATT6fRGkiQ4HA6UY47jfPZ9/0YIkfi+/6NQJC975uVy+cTMPJ/P9/+151OFERExMxNRocLeAUDzXK/r9fo5yzKs1+sfx+Px98lk8njOAQCQ8vZvmSzLpePxSEX4H51xMkxfWUg5AAAAAElFTkSuQmCC"),p()(Ae,"defaultPrButtonSrc","data:image/png;base64,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"),p()(Ae,"defaultReplayButtonSrc","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAAC+klEQVRIx82Xv2/aQBTHv4cixVvNgEAMEUMiZUHNFDglUrzZY4mEVGWImKCd8ie4zJ6ytUw0QwYG0vG8ZYgwyRQpC4Ol/JBiOWIIHSLR6XWxqTEGnDQ0/UoM9pn7+O69d+9rRkSYJ8aYDGDd+2UASKFHhgBcAD0APSIazJ1zFpgxlgGgAcjheboBIIjIfRaYMSYBUAAU8XfqAjglouFcsAeteFv6GnIBNMPwxEuhnHOZcy7HAGdWV1c/e3OPtBQXyjmXdV0vbm5urieTyXfBscfHx58XFxe9er3etSxrLLHOzs4+HB0dXdq2XWGMjVYeXLESBV1ZWZGEEFqn0zlQVbUQhgJAMpl8p6pqodPpHAghtCB0a2vrvb9yj/FnxV72FqOglmVVstlsOnjfcZyHfr8/AIBUKiUHx1VVLdzf3+eur6/dANRXkTF2SUSuv9VaHKhpmudR28k5lw3DUHxQNptNh182IA1AM+EdDhN12mg0FP/Pw+Hw1+7u7jdN00QYCgCWZQ22t7d/1Gq17zGSLccYkxPeaTSRSKqqFvzrvb295snJiTtvxv39/Y2YJbYeCdZ1vRjc3jjQUCLFAk9kcj6fH219vV7vvjIUADJLEQc+/Ng6jvMQFdOgDMPYSKfTsm3bt9Oe6ff74SNTYgC+hB8kIh0AbNu+XVtba2IBSswafHp6GmJBmglOpVLyIsETq3Ic58GPdcxGMFGOrVZLabVaimEYUSU2THhta0xXV1c3UaUVV7quF8vl8k65XN7J5/NRTcdNeHZlTMESUlW1UCqVYvfmarWaCx4+U8qxFwm2LGtgmua5f318fFyJAy+VSpnDw8OPwcNnSjn2Ep4xu4l481M/1pIkLbfb7ZoQQouKOedcFkJo7Xa7JknSsp8nmqaJKD9GRANGRH5b/PQabdEf55w37+7uosrxKxG5I8/FGNOm9eRGo6EE4zZLpmmeV6vV0ynQLhGJMbO3KOszzfSNucznmj0/EV/iNN/M3v4/hv5NP2H+xUfbb/mKoec8kZG2AAAAAElFTkSuQmCC"),p()(Ae,"defaultVolumeOffButtonSrc","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK3wAACt8Bpkq7FgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANsSURBVEiJvZfRS1tXHMc/JnG5Xawg1mViZqW6zGWEXYdsbmWrjLahIIzinu5eEvM3+CCyxz3r45gXI0qeJtlmYG2XBSIzi7A+tEJrS1/WmZGBWYspbW8Sa/pw79W7a8KNt2HflyTnd875nHPuze98f200JwfgA4a1zy5A0GIK8BjYAe4DeeDAasI2i3g78CEwBrze5CKfATngD6BqBxwALgOnmwSaVQJ+AbbrBZ0NBl0ArgBum1C0sQHUU/vTCtwGTAKjrwA06y2gG7hnbHSYOn0OBNLp9ESlUvl6YWFhrEXw94BxY4PxGQdQd4uiKLNut9sNsLS0dCMSiWRbtIBVtGeu77gduKRHl5eX0/r3cDgcisVi580zzM/Pf7C1tfXVCcEhjXX4jD9B/Y8CkEwm8/39/crIyMjbAKIoDvn9/heJROKh1+t9LZ1OX52cnLxQrVYrc3NzN08AdgNlYMeFuuuPzD2i0WgOYGpq6gqAJEkXu7u7PaIoDnq93jdOuFOjxoBNF+pbVzc5mOGhUOjjVwDq8gB9LuCdetGZmZlhQRCc+Xy+VCgUCr29vb0tgOoadqHm3mOanZ39wuPxeFoIM8rnQE34ttTZ2dlhc2iXg6Nbxg64Mx6Pf2ZjqGDOXCeWJEkX7cAdqPfp/w1XHKiXuC3t7e3t2YQ/cgJnqPNm12q1f7PZ7N319fU7giC88Pl8b5r7FIvFR6urqxt6hgsGg+f8fv9+IpH4ywJ81wnsA6I5srGxUcxkMruZTGZXluXtjo6Ox6Ojo4NOp/PwKi2VSk/Gx8d/NKbXYDA42AT8VweqR3pmsUKmp6dvTUxMfFsoFP4xx6LRaG5xcfGa/luSpEvxePzTBlM9Bf52oBqznBUYIJVKFQOBwHepVGqzAfx6E/AcUNOPrQC8TxNWR1GUg5WVlQcul2u3p6fnlCzLh55qbW1tZ2BgoCKK4hCox97X1/c8mUzmtS5PgJ+AA6MReBf40grcjGKx2PlwOBwCKJfLZUEQvtFC36NZIGMC2QZa4jQikUhWluWfq9VqNZvN3taaf8Pgu8z2tg24iuqRWqk7wA9ATW+oZ2+3tQWcbRH0d+CaEdoIDPAQ2EVNLHa9dQlYQ60ojsmqhHFxVMI0ezc/5aiE2W/UyQps7Gcu2k5pseccL9pqdeb4j14C7kYSya9zBngAAAAASUVORK5CYII="),p()(Ae,"defaultVolumeOnButtonSrc","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK3wAACt8Bpkq7FgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAaRSURBVEiJpVfrT1NbFv/tXV45Laf10NbSkKEtWtumLepVW4w6cx31Ag4T55uTIH4y/EcmRj9pohjiNT6qoKI3jiMkM1AerR5ASyHyspR6Th+D2J49H0p7eVW49/6S82mtrN9aZ++19m8R7A4UQB2AAwBqAWgA8Gs2GUAKwDwAEcAsAGWngGQHezmAYwD8ADiHw7HXbrdbNBpNNcdx1QCQTqflVCqVFEVxanJyMgYgA6AfwH8AfCsVuOw7pC4A53ie1zc3NzfZbLZGnU6ns1qt4HmeVVdXAwCSySQkSSLRaBSJRGI5EomMPH36VJdKpY4CeAbg/W4rJgB+pJSeaG1tPdLY2PgXp9PJ+f1+ZrFYmEql2jbLXC6HaDRKBgYGyLt371JDQ0Mve3p6ggDeAPgFAFvvvzkKAfCPqqoq3+XLl/9+/PjxkxcvXiw7deoUEwQBlNKSv4dSCkEQ4PV6mdVqrWCMOcxmszYcDq/mcrk9AMa/R/zXqqoqX2dn56WjR48eaG9vV4xGY0myUtizZw+8Xi9Lp9Nms9lcNzw8HMvlcgRAdDtiF4CfOjo6/tbU1OS4dOmSUllZ+ZtJCygvL4fb7WZLS0uCTqfjg8Hg/wB8BrC0nrgcwD9bWlqaTp48+ef29vYdSYeGhsirV6+ox+PZcHaLi4tQq9UghIBSCrvdzmZnZ2uz2exyJBKpADAIQCkcmk+j0dQcOnTox/PnzzOO40oSrq6u4t69e/TBgwc0mUxusMmyjKtXr6qePXtWvLQcx6GtrY0dO3bsLMdxNci3J+ja52tubva5XC6NzWbbUMF6xGIxXL9+nY6Ojm7b/zzP48iRI8rbt29pOBwu+litVuZ0OqvPnj37A/IzgRQmEmez2Rr9fn9J0uHhYXLt2jX6+fPnLaSSJOHGjRt0YWEBra2tbO/evez58+ckl8sVffx+P9u3b58XgBpAHQXgsFgsgiAINRaLpUgsiiIJhUIkFAqR7u5uev/+ffrt27dtK62srIQkSejq6qKKouD06dMskUiQzVUbDIZas9nMAzhQBsDkcDjqrVYr1g+HR48ekVQqtdNIBQBUVVXhwoUL7ObNm3RwcJD4fD6mVqvZxMQE8Xq9DABUKhUsFgtcLlf93NxcLQVQzfO8VqvVlvzNu0FDQwMzGo1MFEVCCEF9fT0+ffq0wUer1TKe53kA1RRANcdxao1G80d4AQC1tbWIx+MAAJ7nWSqV2mDXaDTgOE4DgKcAGGPsD1VbwPowpUIyxhQAjAJIZjKZ1Oae/D2YnZ2FwWAAAMiyTAovWAHJZBLpdDoFQKYAUpIkSbIs7+oilYIoiiQejxOn08kURcH09DTq6uo2+MiyTL58+SIBSJUBmB8dHY1MTU0hl8sVb3ZbWxvLZrMMACYmJsjIyEjJxDKZDB4+fEj0ej07fPgwE0WRZDIZYrfbi0okm80iEomwcDg8DWCuDIC4sLDgj8Vi89Fo1NTQ0MAAwOFwFA/J7XYzm81GAoEAWV1d3ZJANpuFyWRCS0uLwhjDy5cviSAIzOVyFWNEo1GyuLg4E4vF0gDGKfIaKTMxMTE8MDBQsqqDBw+yzs5OxWQybbk1PM+jo6NDMRgMePz4MY3FYjh37twG0dDf30/Gx8dHAKQBzFLkhVl/b2/v4NjYWOLjx48lyfV6Pa5cuaL4fL5txZwsywgGg+TEiRPM6XQWE5ycnCShUGjpxYsXI8jrMVZIaT6Xy3lUKtWKSqVyezweVlFRsS05pRT79++HwWDAysoKWU9QWVkJt9vN3G43CMnnn8lk0N3dTQOBwP2ZmZkIgAcAlAKxAkCenp42CoJQ/vXr13qPx8O+J3WMRiPWkxZQeIuBvA67c+cO7evr+6W3tzcI4BHyYmCDAlkCoAqHwzmj0WiIx+NGu91esvKdkMlkcPfuXfrmzZvR27dv9zLG/gXgvwX7Zs01zRgTgsFgXKVSZZeXlxv0ej0EQfhNpB8+fCBdXV309evX/75169ZTRVHGAPSs99lOq4qMMfr+/XvIsjwXi8XMi4uLao7joNVqSyrNtT4lgUCAPnnyJBYIBH7u6ekZXKu0Z7P/96aVA8BPZWVlujNnzjTa7XavyWT6k81mo1qttijoZVmGJElkampKmZ+fj4qiONLX1zemKMoX5AW9uF3wncZkGX5dYdQ1NTWcw+GoEwRBx3GcGgDS6XQqkUhIoVBoRpKkFeT7tLDCZEsF3u18Jti6tGnXbBK2Lm07vnb/B3pVyutUGlg2AAAAAElFTkSuQmCC"),p()(Ae,"inreadVolumeOffButtonSrc","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlhJREFUeNpi9HZyYIACMyC2B2JhhsEB3gLxQSA+BeKwADEjEFcBcSDD4APhQLwBiFtBDvUapI6EgQAgvsAEJLwZBj/wADlUaAg4VISJYYiAUYeOOnTUoYPRoVo6OoPbodw83AzFlVUMwRGRg9eh8oqKDG29/QxGpmY0jXoWSjR7+vgyxCQl0yWNEuVQUTExMEZxpK8fzUORZIfWNLcwiIiKkWWBjr4Bg4WNDcOcqVNwyodFRTP0dbQzfHj/jvw0au/kRLYjQQDkCEdnF4a80nKsjiwoK2dQVlVlsHdxoSwzBYVHUBRloJC6fOkig7mlJYpjYY7k5ORkWLV8GcPG1asocygloQkCoOjsaKhnOHn8ONyxpDqSYBoFlY/UApO6O8GOBDkWhEGAWEfSvQrdt2snnP3+3TuGg3v2UKfA//rlK9UcCYtuELh7+zaDoJAQQ0Z+PvVqpjevX1HNkbA0WVdeCk6zunr6WEsDshy6buUKqjoSliZBaRY5g1Hs0IP79lEUqqByFOTIrZs2YmQcZMf6h4bhNYdZTVEhhFBP9Oypk2B8eP8+OObh4WGQlJZGSyavGQ4BPYYMzp89Cx7iWLZgPlazTx47yvD33z9Cuf8dUVXo61evwBgZXLtyhahGCagcxeVIGCCmiKKoeNq+ZTNDVXEhVTIczcvRh/fvgx177vSpwdseRS5ve9vbBn9XBDndjvZCRx066tBRh1LPob+GgDt/gBx6agg49BTIoYuA+PEgdiTIbUtADv0ExKAm0CZQY2cQOfAD1E0gt31i/P///5DITAABBgBYwtYY1zNaqwAAAABJRU5ErkJggg=="),p()(Ae,"inreadVolumeOnButtonSrc","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrslz1sEmEYxx8aJnDSFjcrmyJdBIFFiyx+IEZxaE2aDqVDF622i6W4KOJUtbp0KA6kiXVoY9TEjVinFqsxKSVORXSy1aRpPGJc8P2/d0faJsjbOyRHck/ycHfwwv3uef/PB5ZwKEiK+Zh3Mz9AxrCfzBeY53BhZW5hHmd+mYxnPcxfML8H0PMGhVTtEvNPbewlTMa3swDd3wKg7W3UImaCmqAmqBFBXW630Lr+WIw6nc7mg9r32Wl0LE5Xeq8KQZ4JR2jk1hj/XtNAEZnUxEM6fsIntH4hm6VyuUztHQ4aujbcHNBzFyIcEjetZ0PXh7mXikWan33G38PDicrFKrKow+HgvgMyclE4it2hEJ0MnubnpbU1evP6FXkDATriOsblUkiMNwY0cTcpFLVaD4nt9voD/MGiDOzd2yzNsaiO30lyWKzZWF/Xt/WIhlZIbHXqwSMOMvVkkmvTZrPRqWCICvk8/diQ4bw+v36NRnt6NUfSwwAA1h8bJOmXRB9ySzIY23aYeu3q6tIPqjWa2MqZp9PVpOFgS4v8iO3ma77LEbXZ7fpA91LnapWi7c1AkqQdn5e+FPnx0GHn/6+jhmih0JUeQyKqhuSx79riTiWSX5XI6oqomplakqlvYJCff3zP//GSxy8n0efCqrzmoKz/siTpB51/Pqs5mZDVKEmZ9DTXu0cpQ8uLclKp14WVFf2gSAitUZ16PEnxkRscGn0dpQrgKPhILrWiLCtlSndnSt5OaG6hgIRW1bXo89C+OmlBBvW6kjAofmj3jyE5MJT0DcSEytRRt1zU0efxPbWWzikDSkNAaxluWljN89myXmOADNSxMKpEE0mGB27KPIqxLT56s5rZIiULWoXu0f9FzUoNMGhu4n5KaLbMpNNVOeylTjcEdLtuRUyFNf+FmqAmqAn6b9A/LcD5G6C5FgDNATTD/JuBIcE2A9At5hiBXjLfNBDgpsIEti1LpVJpiWT6K8AA9tML3aYOAakAAAAASUVORK5CYII="),p()(Ae,"defaultButtonSize",{width:24,height:24}),p()(Ae,"admarkButtonSize",{width:20,height:20}),p()(Ae,"closeButtonSize",Ae.defaultButtonSize),p()(Ae,"detailButtonSize",Ae.defaultButtonSize),p()(Ae,"loadingButtonSize",{width:20,height:20}),p()(Ae,"optoutButtonSize",{width:15,height:15}),p()(Ae,"optoutButtonOnExpandSize",{width:105,height:15}),p()(Ae,"replayButtonSize",Ae.defaultButtonSize),p()(Ae,"volumeButtonSize",Ae.defaultButtonSize),p()(Ae,"billboardDefaultButtonSize",{width:30,height:30}),p()(Ae,"billboardCloseButtonSize",Ae.billboardDefaultButtonSize),p()(Ae,"billboardDetailButtonSize",Ae.billboardDefaultButtonSize),p()(Ae,"billboardLoadingButtonSize",{width:32,height:32}),p()(Ae,"billboardReplayButtonSize",Ae.billboardDefaultButtonSize),p()(Ae,"billboardVolumeButtonSize",Ae.billboardDefaultButtonSize),p()(Ae,"infeedDefaultButtonSize",{width:20,height:20}),p()(Ae,"infeedCloseButtonSize",Ae.infeedDefaultButtonSize),p()(Ae,"infeedDetailButtonSize",Ae.infeedDefaultButtonSize),p()(Ae,"infeedLoadingButtonSize",{width:25,height:25}),p()(Ae,"infeedReplayButtonSize",Ae.infeedDefaultButtonSize),p()(Ae,"infeedVolumeButtonSize",Ae.infeedDefaultButtonSize),p()(Ae,"infeedPrButtonSize",Ae.infeedDefaultButtonSize),p()(Ae,"inreadRTVolumeButtonSize",{width:22,height:22}),p()(Ae,"inreadTimeBarSize",{width:0,height:3}),p()(Ae,"inreadVolumeBarSize",{width:"100%",height:22}),p()(Ae,"inreadVolumeButtonSize",{width:42,height:42}),p()(Ae,"inreadVolumeSliderSize",{width:80,height:3}),p()(Ae,"containerCloseButtonSize",{width:29,height:29}),p()(Ae,"defaultContainerZIndex","50"),p()(Ae,"defaultDialogZIndex","5000000"),p()(Ae,"defaultWipePotision",{top:"auto",bottom:"20px",left:"auto",right:"20px"});var we=Ae,ke=function(){function e(t){l()(this,e),p()(this,"placementId",void 0),p()(this,"urls",void 0),p()(this,"targetElement",void 0),p()(this,"breakElement",void 0),p()(this,"passbackIframe",void 0),p()(this,"passbackIframeSize",void 0),p()(this,"adsenseElement",void 0),p()(this,"noscriptElement",void 0),p()(this,"wrapperZindex",void 0),p()(this,"unsupportedBrowsers",void 0),p()(this,"multiVastTimeout",void 0),p()(this,"eventCallback",void 0),this.setup(t)}return d()(e,[{key:"setup",value:function(e){var t=e.target,n=e.dataset;if(!n)throw new Error('"['.concat(this.constructor.name,']::setup(); failed; Not declared dataset;"'));this.placementId=n.id||"",this.urls=n.urls||be.videoUrl(n)||[];var r=S.a.toDecimalString(n.areaNumber)||1,i=null;if(S.a.isPresent(n.areaSelector)&&(i=document.getElementById(n.areaSelector)),S.a.isPresent(n.areaSelectorByClassName)&&(i=document.getElementsByClassName(n.areaSelectorByClassName)[0]),S.a.isPresent(i)?this.targetElement=i.children[r-1]:this.targetElement=t,S.a.isPresent(n.underBlankLine)?S.a.toBool(n.underBlankLine):this.underBlankLine){var a=document.createElement("br");this.targetElement.parentElement.insertBefore(a,this.targetElement),this.breakElement=a,this.targetElement=a}else this.breakElement=null;return this.passbackIframe=S.a.toBoolIfValue(n.passbackIframe,!0),this.adsenseElement=S.a.ifValue(null==t?void 0:t.querySelector("adsense"),null),this.noscriptElement=S.a.ifValue(null==t?void 0:t.querySelector("noscript"),null),this.passbackIframeSize=be.passbackIframeSize(n),this.wrapperZindex=S.a.toDecimal(n.wrapperZindex,null),this.unsupportedBrowsers=S.a.ifPresent(S.a.toBool(n.unsupportedBrowsers),!0),this.multiVastTimeout=S.a.toDecimal(n.multiVastTimeout,1e3),this.eventCallback=S.a.isFunction(n.eventCallback)?n.eventCallback:null,this.option=be.generateOption(n),this}}]),e}(),be=function(){function e(){l()(this,e)}return d()(e,null,[{key:"videoUrl",value:function(e){if(e.url)return[e.url];if(e.n&&e.c&&e.d&&e.s){var t="http://axp.zedo.com/asw/fnsr.vast?";return t+="n="+e.n+"&",t+="c="+e.c+"&",t+="d="+e.d+"&",t+="s="+e.s+"&",[t+="v=vast2&z="+1e3*Math.random()]}return null}},{key:"passbackIframeSize",value:function(e){var t=S.a.stringToSize(e.passbackIframeSize,{width:e.passbackIframeWidth,height:e.passbackIframeHeight}),n={width:"300",height:"250"};return(0<=S.a.toDecimal(t.width)||/auto/g.test(t.width))&&(n.width=t.width),(0<=S.a.toDecimal(t.height)||/auto/g.test(t.height))&&(n.height=t.height),n}},{key:"generateOption",value:function(e){var t=S.a.deepClone(e);return delete t.urls,delete t.url,delete t.n,delete t.c,delete t.d,delete t.s,delete t.areaNumber,delete t.areaSelector,delete t.areaSelectorByClassName,delete t.underBlankLine,delete t.passbackIframe,delete t.passbackIframeSize,delete t.passbackIframeWidth,delete t.passbackIframeHeight,delete t.multiVastTimeout,delete t.eventCallback,delete t.debug,delete t.p,delete t.processed,t}}]),e}(),Se=b,Ce=(n(202),n(160),n(35)),xe=n.n(Ce);n(206),n(207);function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Ve=function(e){M()(n,e);var t=Ee(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"param",void 0),p()(Z()(e),"delegate",void 0),p()(Z()(e),"element",void 0),p()(Z()(e),"_lastSize",{width:0,height:0}),e}return d()(n,[{key:"isClass",get:function(){return!0}}]),d()(n,[{key:"setup",value:function(e,t){var n=this;return this.createParam(t),this.createElement(e),this.element.on("click",(function(e){n.clicked(e)})),this.element.on("mouseover",(function(e){n.onMouseover(e)})),this.element.on("mouseout",(function(e){n.onMouseout(e)})),this}},{key:"createParam",value:function(e){this.param=function(e){var t=[].concat(e,{style:{margin:"0 auto",visibility:"visible"},option:{layout:"",sources:{}}}).reverse(),n=S.a.deepMerge.apply(void 0,t);n.style.top||n.style.bottom||n.style.left||n.style.right||(n.style.top=n.option.top,n.style.bottom=n.option.bottom,n.style.left=n.option.left,n.style.right=n.option.right);n.style.top||n.style.bottom||n.style.left||n.style.right||(n.option.layout.includes("contain")?n.style.top=n.style.bottom=n.style.left=n.style.right=0:(n.option.layout.includes("top")&&(n.style.top=0),n.option.layout.includes("bottom")&&(n.style.bottom=0),n.option.layout.includes("left")&&(n.style.left=0),n.option.layout.includes("right")&&(n.style.right=0)));n.option.size&&(n.size=n.option.size);n.style.width&&(n.size=n.size||{},n.size.width=n.style.width);n.style.height&&(n.size=n.size||{},n.size.height=n.style.height);n.size&&(S.a.isBlank(n.size.width)||S.a.isBlank(n.size.height))&&(n.size=null);S.a.isBlank(n.sources)&&(n.sources=n.option.sources);return n}(e)}},{key:"createElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div";this.element=this.createNode(i.createElement,e,this.param)}},{key:"createNode",value:function(e,t,n){return function(e,t,n){for(var r=e(t),i=0,a=Object.entries(n);i<a.length;i++){var o=xe()(a[i],2),u=o[0],s=o[1];switch(u){case"attributes":for(var l=0,c=Object.entries(s);l<c.length;l++){var d=xe()(c[l],2),f=d[0],p=d[1];r.setAttribute(f,p)}break;case"dataset":case"style":for(var h=0,v=Object.entries(s);h<v.length;h++){var y=xe()(v[h],2),m=y[0],g=y[1];r[u][m]=g}break;case"sources":var A=r.src||s.normal;A&&(r.src=A);break;default:if(S.a.isFunction(s)){var w=u;u.startsWith("on")&&(w=w.toLowerCase().replace(/^on/,"")),r.on(w,s)}else r[u]=s}}return r}(e,t,n)}},{key:"clear",value:function(){var e,t,r=this.delegate;this.removeFromParent(),null===(e=this.element)||void 0===e||e.clear(),this.element=void 0,this.param=void 0,this.delegate=void 0,A()(k()(n.prototype),"clear",this).call(this),null==r||null===(t=r.onViewUnload)||void 0===t||t.call(r)}},{key:"show",value:function(){var e;null===(e=this.element)||void 0===e||e.show()}},{key:"hide",value:function(){var e;null===(e=this.element)||void 0===e||e.hide()}},{key:"fadein",value:function(){var e;return null===(e=this.element)||void 0===e.element)||void 0===e?void 0:e.fadeout()}},{key:"resize",value:function(e){}},{key:"updateLayout",value:function(){return null}},{key:"appendView",value:function(e){var t,n=null==e?void 0:e.element;n&&(null===(t=this.element)||void 0===t||t.appendChild(n))}},{key:"removeView",value:function(e){var t,n=null==e?void 0:e.element;n&&(null===(t=this.element)||void 0===t||t.removeChild(n))}},{key:"removeFromParent",value:function(){var e,t;null===(e=this.element)||void 0===e||null===(t=e.parentElement)||void 0===t||t.removeChild(this.element)}},{key:"isInview",value:function(e,t,n){var r=t||0,i=n||0;return(isFinite(e)?e:0)<=this.inviewPercentage(r,i)}},{key:"inviewPercentage",value:function(e,t){return this.element?this.element.invieon(e){e.stopPropagation(),this.onClick()}},{key:"onClick",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onViewClick)||void 0===t||t.call(e,this)}},{key:"onMouseover",value:function(e){this.param.sources.mouseover&&(this.element.src=this.param.sources.mouseover)}},{key:"onMouseout",value:function(e){this.param.sources.mouseout&&(this.element.src=this.paraturn{this.element&&(this.element.isHidden=e)}},{key:"size",get:function(){return this.element?urn this.element?this.element.style:null}},{key:"parentWidth",get:function(){var e,t=0,n=null===(e=this.element)||void 0===e?void 0:e.parentElement;n&&("fixed"!==window.getComputedStyle(this.element).position&&(t=n.offsetWidth));0<t||(t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0);return t}}]),n}(a.IvtEventTarget);n(115);function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Ie=function(e){M()(n,e);var t=Be(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){var t;if(!A()(k()(n.prototype),"setup",this).call(this,"div",e))throw new Error('"AdMaskView::setup(); failed; super.setup() failed;"');var r=null==e||null===(t=e.config)||void 0===t?void 0:t.style;return S.a.isPresent(r)&&(Object.assign(this.element.style,r),this.element.style.zIndex=10),this}},{key:"clear",value:function(){A()(k()(n.prototype),"clear",this).call(this)}}]),n}(Ve);function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Pe=new r.IvtSize(we.defaultButtonSize.width,we.defaultButtonSize.height),_e=function(e){M()(n,e);var t=Re(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){return A()(k()(n.prototype),"setup",this).call(this,"img",e),this}},{key:"createParam",value:function(e){var t=[].concat(e,{style:{cursor:"pointer",position:"absolute",zIndex:"80"},option:{size:Pe}});A()(k()(n.prototype),"createParam",this).call(this,t)}}]),n}(Ve),Fe=function(e){M()(n,e);var t=Re(n);function n(e){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){return A()(k()(n.prototype),"setup",this).call(this,"div",e),this}},{key:"createParam",value:function(e){var t=[].concat(e,{style:{cursor:"pointer",zIndex:"80"},option:{size:Pe}});A()(k()(n.prototype),"createParam",this).call(this,t)}}]),n}(Ve),Oe=function(e){M()(n,e);var t=Re(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){var t=this;return A()(k()(n.prototype),"setup",this).call(this,"input",e),this.element.on("input",(function(e){t.onInput(e)})),this.element.on("change",(function(e){t.onChange(e)})),this}},{key:"createParam",value:function(e){A()(k()(n.prototype),"createParam",this).call(this,[].concat(e,{style:{cursor:"pointer",zIndex:"40"}}))}},{key:"onInput",value:function(e){var t,n;null===(t=this.delegate)||void 0===t||null===(n=t.onInput)||void===(n=t.onChange)||void 0===n||n.call(t)}}]),n}(Ve),Te=function(e){M()(n,e);var t=Re(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e,t){return A()(k()(n.prototype),"setup",this).call(this,e,t),this.companion=e,this}},{key:"createParam",value:function(e){A()(k()(n.prototype),"createParam",this).call(this,[].concat(e,{attributes:{className:"dac-ivt-ad-companion"},style:{cursor:"pointer",objectFit:"contain",zIndex:"40"},option:{layout:"contain"}}))}},{key:"createElement",value:function(e){this.element=this.createNode(i.createComparVideoClick)||void 0===t||t.call(e,this)}}]),n}(Ve);function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var ze=we.defaultAdmarkButtonSrc,De=we.defaultCloseButtonSrc,Le=we.defaultDetailButtonSrc,Me=we.defaultLoadingButtonSrc,Ne=we.defaultOptoutButtonSrc,je=we.defaultOptoutButtonOnExpandSrc,We=we.defaultPrButtonSrc,Qe=we.defaultReplayButtonSrc,He=we.defaultVolumeOffButtonSrc,qe=we.defaultVolumeOnButtonSrc,Ye=we.optoutButtonSize,Ge=we.optoutButtonOnExpandSize,Ke=function(e){M()(n,e);var t=Ue(n);function n(e){var r;l()(this,n);var i={attributes:{id:"dac-ivt-admark-button"},option:{sources:{normal:ze}}};return(r=t.call(this)).setup([].concat(e,i)),r}return n}(_e),Ze=function(e){M()(n,e);var t=Ue(n);function n(e){var r;l()(this,n);var i={attributes:{id:"dac-ivt-close-button"},option:{sources:{normal:De}}};return(r=t.call(this)).setup([].concat(e,i)),r}return d()(n,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserClose(this)}}]),n}(_e),Xe=function(e){M()(n,e);var t=Ue(n);function n(e){var r;l()(this,n);var i={attributes:{id:"dac-ivt-optout-button"},option:{sources:{normal:Ne,mouseover:je,mouseout:Ne}}};return(r=t.call(this)).setup([].concat(e,i)),r}return d()(n,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserOptout(this)}},{key:"onMouseover",value:function(e){this.element.size=Ge,A()(k()(n.prototype),"onMouseover",this).call(this,e)}},{key:"onMouseout",value:function(e){this.element.size=Ye,A()(k()(n.prototype),"onMouseout",this).call(this,e)}}]),n}(_e),Je=function(e){M()(n,e);var t=Ue(n);function n(e){var r;l()(this,n);var i={attributes:{id:"dac-ivt-volume-button"},option:{sources:{normal:He}}};r=t.call(this);var a=[].concat(e,i);return r.setup(a),r.volumeOffButtonSrc=He,r.volumeOnButtonSrc=qe,r}return d()(n,[{key:"clear",value:function(){this.volumeOffButtonSrc=null,this.volumeOnButtonSrc=null,A()(k()(n.prototype),"clear",this).call(this)}},{key:"mute",value:function(){this.element.src=this{this.element.src=this.volumeOnButtonSrc}},{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVolumeSwitch(this)}}]),n}(_e),$e=function(e){M()(n,e);var t=Ue(n);function n(e){var r;l()(this,n);var i={attributes:{id:"dac-ivt-detail-button"},option:{sources:{normal:Le}}};return(r=t.call(this)).setup([].concat(e,i)),r}return d()(n,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}}]),n}(_e),et=function(e){M()(n,e);var t=Ue(n);function n(e){var r;l()(this,n);var i={attributes:{id:"dac-ivt-loading-button"},style:{cursor:"progress"},option:{layout:"contain",sources:{normal:Me}}};return(r=t.call(this)).setup([].concat(e,i)),r}return d()(n,[{key:"onClick",value:function(){}}]),n}(_e),tt=function(e){M()(n,e);var t=Ue(n);function n(e){var r;l()(this,n);var i={attributes:{id:"dac-ivt-replay-button"},option:{sources:{normal:Qe}}};return(r=t.call(this)).setup([].concat(e,i)),r}return d()(n,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay(this)}}]),n}(_e),nt=function(e){M()(n,e);var t=Ue(n);function n(e,r){var i;l()(this,n);return(i=t.call(this)).setup(e,[].concat(r,{attributes:{id:"dac-ivt-end-card"},option:{layout:"contain",size:{width:"100%",height:"100%"}}})),i}return n}(Te),rt=function(e){M()(n,e);var t=Ue(n);function n(e){var r;l()(this,n);var i={attributes:{id:"dac-ivt-pr-button"},option:{sources:{normal:We}}};return(r=t.call(this)).setup([].concat(e,i)),r}return d()(n,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}}]),n}(_e);function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var at=function(e){M()(f,e);var t,n,r,i,a,o,u,s,c=it(f);function f(){var e;return l()(this,f),e=c.call(this),p()(Z()(e),"_adContainerId",void 0),p()(Z()(e),"_closeButton",void 0),p()(Z()(e),"_volumeButton",void 0),e}return d()(f,[{key:"appear",value:(s=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([null===(t=this.closeButton)||void 0===t?void 0:t.fadein(),null===(n=this.volumeButton)||void 0===n?void 0:n.fadein()]);case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"disappear",value:(u=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([null===(t=this.closeButton)||void 0===t?void 0:t.fadeout(),null===(n=this.volumeButton)||void 0===n?void 0:n.fadeout()]);case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"loaded",value:(o=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"playing",value:(a=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([null===(t=this.closeButton)||void 0===t?void 0:t.fadein(),null===(n=this.volumeButton)||void 0===n?void 0:n.fadein()]);case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"paused",value:(i=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"ended",value:(r=m()(v.a.eout();case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"muted",value:(n=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this.volumeButton)||void 0===t||t.mute();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"unmuted",value:(t=m()(v.a.mute();case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onUserClose",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserClose(this)}},{key:"onUserVolumeSwitch",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVolumeSwitch(this)}},{key:"adContainerId",get:function(){return this._adContainerId}},{key:"closeButton",get:function(){return this._closeButton}},{key:"volumeButton",get:function(){return this._volumeButton}}]),d()(f,[{key:"setup",value:function(e){if(ot.reset(this),!A()(k()(f.prototype),"setup",this).call(this,"div",e))throw new Error('"setup(); failed; super.setup failed;"');if(S.a.isBlank(e.adContainerId))throw new Error('"setup(); failed; Not declared adContainerId;"');return ot.init(this,e),this}},{key:"clear",value:function(){ot.reset(this),A()(k()(f.prototype),"clear",this).call(this)}}]),f}(Ve),ot=function(){function e(){l()(this,e)}return d()(e,null,[{key:"reset",value:function(e){var t,n;e._adContainerId=null,null===(t=e._closeButton)||void 0===t||t.clear(),e._closeButton=null,null===(n=e._volumeButton)||void 0===n||n.clear(),e._volumeButton=null}},{key:"init",value:function(e,t){e._adContainerId=t.adContainerId;var n=null==t?void 0:t.closeButton;n instanceof Ze&&(n.delegate=e,n.style.opacity=0,n.hide(),e.appendView(n),e._closeButton=n);var r=null==t?void 0:t.volumeButton;r instanceof Je&&(r.delegate=e,r.style.opacity=0,r.hide(),e.appendView(r),e._volumeButton=r)}}]),e}();function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var st=function(){function e(t){l()(this,e),p()(this,"element",null),p()(this,"resolve",null),p()(this,"reject",null),p()(this,"timeoutID",null),p()(this,"bindedTransitionEnd",null),this.element=t,this.bindedTransitionEnd=this.transitionEnd.bind(this),this.element.addEventListener("transitionend",this.bindedTransitionEnd,!1)}return d()(e,[{key:"clear",value:function(){var e;this.resetHandler(),null===(e=this.element)||void 0===e||e.removeEventListener("transitionend",this.bindedTransitionEnd,!1),this.element=null,this.bindedTransitionEnd=null}},{key:"on",value:function(){var t=this;return this.cancelTransition(),new Promise((function(n,r){t.resolve=n,t.reject=r;var i=t.element,a=window.getComputedStyle(i).transitionDuration,o=S.a.cssTimeStringToMillisecondsNumber(a,0);if(0<o){var u=o+e.offsetDuration;t.timeoutID=window.setTimeout((function(){t.cancelTransition()}),u)}else t.finishTransition()}))}},{key:"off",value:function(){this.cancelalue:function(e){this.finishTransition()}},{key:"finishTransition",value:function(){var e=this.resolve;this.resetHandler(),null==e||e(!0)}},{key:"cancelTransition",value:function(){var e=this.resolve;this.resetHandler(),nutID),this.resolve=null,this.reject=null}}]),e}();p()(st,"offsetDuration",100);var lt=function(e){M()(o,e);var t,n,r,i,a=ut(o);function o(){var e;return l()(this,o),e=a.call(this),p()(Z()(e),"id",""),p()(Z()(e),"isInviewStatus",!1),p()(Z()(e),"displayStatus",void 0),p()(Z()(e),"adView",void 0),p()(Z()(e),"adMaskViews",void 0),p()(Z()(e),"adToolbarView",void 0),p()(Z()(e),"_isLoaded",!1),p()(Z()(e),"_styleElement",void 0),p()(Z()(e),"_transitionFinish",void 0),p()(Z()(e),"config",void 0),p()(Z()(e),"width",void 0),p()(Z()(e),"height",void 0),e}return d()(o,[{key:"css",get:function(){return this.config.css}},{key:"type",get:function(){var e;return null===(e=this.config)||void 0===e?void 0:e.adContainerType}}]),d()(o,[{key:"setup",value:function(e){var t=this,n=null==e?void 0:e.id,r=(null==e?void 0:e.adView)instanceof Ve?e.adView:void 0,i=(null==e?void 0:e.adToolbarView)instanceof at?e.adToolbarView:void 0,a=Array.isArray(null==e?void 0:e.adMaskViews)?e.adMaskViews:[],u=S.a.isPresent(null==e?void 0:e.attributes)?e.attributes:{},s=S.a.isPresent(null==e?void 0:e.config)?S.a.deepClone(e.config):null;return u.id=n,A()(k()(o.prototype),"setup",this).call(this,"div",u),this.id=n,this.adView=r,this.adToolbarView=i,this.adMaskViews=a,this.config=s,this._transitionFinish=new st(this.element),this._isLoaded=!1,this.adView&&this.appendView(this.adView),S.tion(e){e instanceof Ie&&t.appendView(e)})),S.a.isPresent(this.adToolbarView)&&this.appendView(this.adToolbarView),this.element.style.padding="",this}},{key:"clear",value:function(){var e,t,n,r,i;(this.id=void 0,this.isInviewStatus=void 0,this.displayStatus=void 0,null===(e= 0===e||e.forEach((function(e){e.clear()})),this.adMaskViews=void 0,null===(t=this.adToolbarView)||void 0===t||t.clear(),this.adToolbarView=void 0,null===(n=this.adView)||void 0===n||n.clear(),this.adView=void 0,null===(r=this._transitionFinish)||void 0===r||r.clear(),this._transitionFinish=void 0,this._styleElement)&&(null===(i=this._styleElement.parentElement)||void 0===i||i.removeChild(this._styleElement),this._styleElement=void 0);this._isLoaded=!1,A()(k()(o.prototype),"clear",this).call(this)}},{key:"load",value:(i=m()(v.a.mark((function e(){var t,n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isLoaded){e.next=2;break}return e.abrupt("return");case 2:this._isLoaded=!0,this._applyCssRule(),(null===(t=this.css)||void 0===t?void 0:t.base)&&this.element.classList.add("base"),(null===(n=this.css)||void 0===n?void 0:n.load)&&this.element.classList.add("load"),this.updateInviewTarget(),this.element.getBoundingClientRect(),"shouldAppear"===this.displayStatus&&(null===(r=this.css)||void 0===r?void 0:r.appear)?this.appear():"shouldDisappear"===this.displayStatus&&(null===(i=this.css)||void 0===i?void 0:i.disappear)&&this.disappear();case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"unload",value:(r=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.element)||void 0===t?void 0:t.fadeout();case 2:this.clear();case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"appear",value:(n=m()(v.a.mark((function e(){var t,n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config,i=this.element,null===(t=this.css)||void 0===t?void 0:t.appear){e.next=5;break}return this.displayStatus="shouldAppear",e.abrupt("return",!1);case 5:if("willAppear"!==this.displayStatus&&"didAppear"!==this.displayStatus){e.next=10;break}return e.abrupt("return",!1);case 10:this.displayStatus="willAppear";case 12:return null===(n=this.adToolbarView)||void 0===n||n.appear(),(null===(r=this.css)||void 0===r?void 0:r.appear)&&(i.classList.remove("load"),i.classList.remove("disappear"),i.classList.add("appear")),e.next=16,this._transitionFinish.on();case 16:return e.sent,this.displayStatus="didAppear",this.updateInviewTarget(),e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"disappear",value:(t=m()(v.a.mark((function e(){var t,n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config,i=this.element,null===(t=this.css)||void 0===t?void 0:t.disappear){e.next=5;break}return this.displayStatus="shouldDisappear",e.abrupt("return",!1);case 5:if("willDisappear"!==this.displayStatus&&"didDisappear"!==this.displayStatus){e.next=9;break}return e.abrupt("return",!1);case 9:if(!S.a.isBlank(this.displayStatus)){e.next=13;break}return e.abrupt("return",!1);case 13:this.displayStatus="willDisappear";case 14:return null===(n=this.adToolbarView)||void 0===n||n.disappear(),(null===(r=this.css)||void 0===r?void 0:r.disappear)&&(i.classList.remove("load"),i.classList.remove("appear"),i.classList.add("disappear")),e.next=18,this._transitionFinish.on();case 18:return e.sent,this.displayStatus="didDisappear",this.updateInviewTarget(),e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"updateInviewStatus",value:function(e){var t,n,r=this.config.inviewPercentage,i=this.config.contentHeaderHeight,a=this.config.contentFooterHeight,o=this.isInview(r,i,a);if(o===this.isInviewStatus)return o;o?(this.isInviewStatus=!0,null===(t=this.delegate)||void 0===t||t.onContainerInview()):(this.isInviewStatus=!1,null===(n=this.delegate)||void 0===n||n.onContainerOutview());return o}},{key:"updateInviewTarget",value:function(){var e=window.getComputedStyle(this.element);if("fixed"===(null==e?void 0:e.position)){var t,n=null===(t=qr.rootAdContainer)||void 0===t?void 0:t.view.element;this._inviewTarget=n||this.element}else this._inviewTarget=thiis._inviewTarget.inviewPercentage(e,t):0}},{key:"setSize",value:function(e){var t=null==e?void 0:e.width;t&&(this.width=t,this.css.base.width=t);var n=null==e?void 0:e.height;n&&(this.height=n,this.css.base["padding-top"]=n)}},{key:"_applyCssRule",value:function(){ct.initViewSize(this);var e=ct.generateCssRule(this,"disappear",this.css.disappear),t=ct.generateCssRule(this,"appear",this.css.appear),n=ct.generateCssRule(this,"load",this.css.load),r=ct.generateCssRule(this,"base",this.css.base),i=ct.getStyleElement(this);S.a.isPresent(i.sheet.rules)||(S.a.isPresent(e)&&i.sheet.insertRule(e,0),S.a.isPresent(t)&&i.sheet.insertRule(t,0),S.a.isPresent(n)&&i.sheet.insertRule(n,0),S.a.isPresent(r)&&i.sheet.insertRule(r,0))}}]),o}(Ve),ct=function(){function e(){l()(this,e)}return d()(e,null,[{key:"getStyleElement",value:function(e){if(!e._styleElement){var t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode("")),e.element.insertBefore(t,e.element.firstChild),e._styleElement=t}return e._styleElement}},{key:"generateCssRule",value:function(e,t,n){if(S.a.isBlank(t))return null;if(S.a.isNil(n))return null;var r=Object.entries(n).reduce((function(e,t){var n=xe()(t(e){return"-".concat(e[0].toLowerCase())}));return"".concat(e).concat(a,":").concat(i,";")}),"");return"#".concat(e.id,".").concat(t," {").concat(r,"}")}},{key:"initViewSize",value:function(t){var n=e.getStyleElement(t);if(!S.a.isNil(n)){var r=t.css.base.width,i=t.css.base["padding-top"],a=S.a.deepClone(t.css.base);a.height=i,delete a["padding-top"];var o=e.generateCssRule(t,"temp",a);if(!S.a.isBlank(o)){n.sheet.insertRule(o,0),t.element.classList.add("temp"),t.adView.updateLayout();var s=i;if(/auto/.test(s))if(0<(s=t.adView.element.scrollHeight))if(/%|vw/.test(r)){var l=t.parentWidth;s=Number(s/l*100).toFixed(2)+"%"}else s=S.a.toStyleLength(s);else s="0px";if(t.element.classList.remove("temp"),n.sheet.deleteRule(0),!(0<S.a.toDecimal(s)))throw new J("AdContainer's height is not more than 0",u.IvtErrorCode.linear);t.setSize({width:r,height:s})}}}}]),e}(),dt=function(e){M()(a,e);var t,n,r,i=ut(a);function a(){return l()(this,a),i.call(this)}return d()(a,[{key:"setup",value:function(e){var t=e||{},n=t.attributes||{},r=S.a.deepMerge({},{className:"dac-ivt-root-container",style:{position:"relative",margin:"auto"}},n);return t.attributes=r,A()(k()(a.prototype),"setup",this).call(this,t),this}},{key:"load",value:(r=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"appear",value:(n=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}));case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),a}(lt),ft=function(e){M()(n,e);var t=ut(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){var t=e||{},r=t.attributes||{},i=S.a.deepMerge({},{className:"dac-ivt-normal-container",style:{position:"relative",margin:"auto"}},r);return t.attributes=i,A()(k()(n.prototype),"setup",this).call(this,t),this}}]),n}(lt),pt=function(e){M()(n,e);var t=ut(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){var t=e||{},r=t.attributes||{},i=S.a.deepMerge({},{attributes:{className:"dac-ivt-interstitial-container"},style:{position:"absolute",top:"50%",bottom:"",left:"50%",right:"",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",zIndex:"0"}},r);t.attributes=i,A()(k()(n.prototype),"setup",this).call(this,t);var a=qr.adContainerStore.rootAdContainer.view.element;return a.style.position="fixed",a.style.top="0px",a.style.bottom="",a.style.left="0px",a.style.right="",a.style.width="100vw",a.style.height="100vh",a.style.backgroundColor="rgba(0, 0, 0, 0.8)",a.style.zIndex=this.config.zIndex,this}}]),n}(lt),ht=function(e){M()(n,e);var t=ut(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"_safeframe",null),e._safeframe=S.a.safeFrame,e}return d()(n,[{key:"setup",value:function(e){var t=e||{},r=e.config;if(this._safeframe){var i=this._safeframe,a=parseInt((null==r?void 0:r.height)||0,10),o=i.ext.geom(),u=o.exp;i.ext.register(o.self.w,o.self.h,(function(){}));var s={push:!1};s.l=Math.min(o.self.l,u.l),s.r=Math.min(o.win.w-o.self.w,u.r),s.b=Math.min(a-o.self.h,u.b),i.ext.expand(s),t.attributes=null,A()(k()(n.prototype),"setup",this).call(this,t)}else{var l=S.a.ifValue(null==r?void 0:r.contentHeaderHeight,0),c={className:"dac-ivt-adhesion-container",style:{position:"fixed",top:"".concat(l,"px"),left:"50%",right:"50%",marginLeft:"-50vw",marginRight:"-50vw",backgroundColor:"#000"}},d=t.attributes||{},f=S.a.deepMerge({},c,d);t.attributes=f,A()(k()(n.prototype),"setup",this).call(this,t)}var p=this.adView;return p.style.width=r.width,p.style.height=r.height,this.setSize({width:"100vw"}),this}},{key:"clear",value:function(){var e;null===(e=this._safeframe)||void 0===e||e.ext.collapse(),this._safeframe=null,A()(k()(n.prototype),"clear",this).call(this)}}]),n}(lt),vt=function(e){M()(n,e);var t=ut(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){var t=e||{},r=e.config,i=S.a.ifValue(null==r?void 0:r.contentFooterHeight,0),a={className:"dac-ivt-overlay-container",style:{position:"fixed",bottom:"".concat(i,"px"),left:"50%",right:"50%",marginLeft:"-50vw",marginRight:"-50vw",backgroundColor:"#000"}},o=t.attributes||{},u=S.a.deepMerge({},a,o);t.attributes=u,A()(k()(n.prototype),"setup",this).call(this,t);var s=this.adView;return s.style.width=r.width,s.style.height=r.height,this.setSize({width:"100vw"}),this}}]),n}(lt),yt=function(e){M()(n,e);var t=ut(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){var t=e||{},r=t.attributes||{},i=S.a.deepMerge({},{className:"dac-ivt-wipe-container",style:{position:"fixed"}},r);return t.attributes=i,A()(k()(n.prototype),"setup",this).call(this,t),this}}]),n}(lt),mt=function(){function e(){l()(this,e),this.listeners=[],this.isMuted=!0,this.volume=0,this.status=ce.none,this.lastEvent="none",this._replayTimes=0,this._isEnded=!0,this._vast=null,this.pausedReason=0}var t,n,r,i,a,o,u,s;return d()(e,[{key:"clear",value:function(){this.listeners=[],this.isMuted=!0,this.volume=0,this.status=ce.none,this.lastEvent="none",this._replayTimes=0,this._isEnded=!0,this._vast=null,thisers.indexOf(e)<0&&this.listeners.filter((function(t){return t!==e}))}},{key:"addPausedReason",value:function(e){this.pausedReason=S.a.addFlag(this.pausedReason=S.a.removeFlag(this.paus){return S.a.isFlag(this.pausedReason,e)}},{key:"setLastEvent",value:(s=m()(v.a.mark((function e(t){var n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"lastEvent",oldValue:null,newValue:t},this.lastEvent=S.a.deepClone(t),r=t.name,i=gt.findAdEventTimeout(r),S.a.isNil(i)&&(i=null==t?void 0:t.timeout),e.next=7,gt.notify(this,n,i);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"addState",value:(u=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._setState(S.a.addFlag(this.status,t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"removeState",value:(o=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._setState(S.a.removeFlag(this.status,t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"isState",value:(a=m()tus,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_setState",value:(i=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"status",oldValue:this.status,newValue:t},this.status=t,e.next=4,gt.notify(this,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"setIsMuted",value:(r=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"isMuted",oldValue:this.isMuted,newValue:t},this.isMuted=t,e.next=4,gt.notify(this,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"setVolume",value:(n=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"volume",oldValue:this.volume,newValue:t},this.volume=t,e.next=4,gt.notify(this,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setIsEnded",value:function(e){this._isEnded=e}},{key:"setVast",value:function(e){this._vs",value:function(){this._replayTimes+=1}},{key:"isStarted",get:function(){return ce.isStarted(this.status)}},{key:"isStopped",get:function(){return ce.isStopped(this.status)}},{key:"isPlayed",get:function(){return ce.isPlayed(this.status)}},{key:"isPaused",get:function(){return ce.isPaused(this:function(){return 0===this.pausedReason}},{key:"isEnded",get:function(){return this._isEnded}},{key:"vast",get:function(){return this._vast}},{key:"replayTimes",get:function(){return this._replayTimes}}],[{key:"changed",value:(t=m()(v.a.mark((function e(t,n){var r,i,a,o,u,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("lastEvent"!==n.name){e.next=5;break}return o=null===(r=n.newValue)||void 0===r?void 0:r.name,e.next=4,null===(i=t[o])||void 0===i?void 0:i.call(t,null===(a=n.newValue)||void 0===a?void 0:a.detail);case 4:return e.abrupt("return",e.sent);case 5:if("status"!==n.name){e.next=10;break}return null===(u=n.newValue)||void 0===u||u.name,e.next=9,null===(s=t.didAdStatusChange)||void 0===s?void 0:s.call(t,n.newValue,n.oldValue);case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),gt=function(){function e(){l()(this,e)}var t;return d()(e,null,[{key:"notify",value:(t=m()(v.a.mark((function e(t,n){var r,i,a,u=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:null,e.prev=1,i=Promise.all(t.listeners.map((function(e){return e(n)}))),!(0<r)){e.next=10;break}return e.next=6,o.timeout(i,r);case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.next=12,i;case 12:return e.abrupt("return",e.sent);case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(1),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),function(e,n){return t.apply(this,arguments)})},{key:"findAdEventTimeout",value:function(e){var t,n,r=null===(t=qr.configStore)||void 0===t||null===(n=t.adService)||void 0===n?void 0:n.adEventTimeout,i=r;return 0<i||0<(i=null==r?void 0:r[e])||0<(i=null==r?void 0:r.base)?i:null}}]),e}();function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var wt=S.a.namespace(),kt=function(e){M()(i,e);var t,n=At(i);function i(){var e;return l()(this,i),e=n.call(this),p()(Z()(e),"view",null),p()(Z()(e),"isDidLoad",!1),p()(Z()(e),"_adStoreChangedFunc",null),e._adStoreChangedFunc=mt.changed.bind(null,Z()(e)),qr.adStore.addObsever(e._adStoreChangedFunc),e}return d()(i,[{key:"setup",value:function(e){var t=null==e?void 0:e.view;if(S.a.isBlank(t))throw new Error('"setup(); failed; Not declared view;"');return t.delegate=this,wt(this).size=new r.IvtSize("100%","100%"),this.view=t,this}},{key:"clear",value:function(){var e;qr.adStore.removeObsever(this._adStoreChangedFunc),this._adStoreChangedFunc=null,wt(this).size=null,null===(e=this.view)||void 0===e||e.clear(),this.view=null,A()(k()(i.prototype),"clear",this.view)||void 0===e||e.resize(this.size)}},{key:"willAdResize",value:(t=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=this.view)||void 0===n||n.resize(this.size),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(th)},{key:"onViewCl:funclone()},set:function(e){wt(this).size=e}}]),i}(a.IvtEventTarget);function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var St=function(e){M()(u,e);var t,n,i,a,o=bt(u);function u(){var e;return l()(this,u),(e=o.call(this)).size=new r.IvtSize("auto","auto"),e}return d()(u,[{key:"setup",value:function(e){return A()(k()(u.prototype),"setup",this).call(this,e),this}},{key:"didAdLoad",value:(a=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.load();case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"didAdStop",value:(i=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("wipe"!==this.view.type){e.next=4;break}return e.next=4,this.view.disappear();case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"willAdClose",value:(n=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,null===(t=this.view.element)||void 0===t||null===(n=t.fadeout)||void 0===n?void 0:n.call(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"willAdUnload",value:(t=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.unload();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onContainerInview",value:function(){Ki.adContainerAction.inview(this.id)}},{key:"onContainerOutview",value:function(){Ki.adContainerAction.outview(this.id)}},{key:"onViewUnload",value:function(){this.clear()}},{key:"view",get:function(){return A()(k()(u.prototype),"view",this)}},{key:"id",get:function(){return this.view.id}}]),u}(kt);function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var xt=function(e){M()(n,e);var t=Ct(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"companion",null),p()(Z()(e),"replayButton",null),p()(Z()(e),"_adContainerId",null),e}return d()(n,[{key:"clear",value:function(){var e,t;null===(e=this.companion)||void 0===e||e.clear(),this.companion=null,null===(t=this.replayButton)||void 0===t||t.clear(),this.replayButton=null,A()(k()(n.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var t=e||{},i={attributes:{className:"dac-ivt-image-reminder"},option:{size:new r.IvtSize("100%","100%")}},a=S.a.deepMerge({},i,t);A()(k()(n.prototype),"setup",this).call(this,"div",a),this.element.style.position="absolute",this.element.style.width="",this.element.style.height="",this.element.style.top="0px",this.element.style.bottom="0px",this.element.style.right="0px",this.element.style.left="0px",this.element.style.overflow="hidden";var o=qr.getConfig(this.adContainerId).reminderCompanion,u=t.companion||o;this.companion=(new Te).setup(u,{option:{layout:"contain"}}),this.companion.delegate=this,this.appendView(this.companion);var s={option:{layout:"bottom|right",size:new r.IvtSize(18,18),sources:{normal:we.defaultReplayButtonSrc}}};return this.replayButton=new tt([s]),this.replayButton.delegate=this,this.appendView(this.replayButton),this._adContainerId=t.adContainerId,this}},{key:"onUserVideoClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick()}},{key:"onUserReplay",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay()}},{key:"adContainerId",get:function(){return this._adContainerId}}]),n}(Ve);function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Vt=function(e){M()(n,e);var t=Et(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"_adContainerId",void 0),e}return d()(n,[{key:"setup",value:function(e){var t=e||{},a={attributes:{className:"dac-ivt-text-reminder"},style:{textAlign:"center",color:"#3B68FF",fontWeight:"bold",fontFamily:"arial",fontSize:"12px",backgroundSize:"contain",backgroundColor:"transparent"},option:{layout:"bottom",size:new r.IvtSize("100%","22px")}},o=S.a.deepMerge({},a,t);A()(k()(n.prototype),"setup",this).call(this,o),this.element.textContent="",this.element.style.position="absolute",this.element.style.width="",this.element.style.height="",this.element.style.top="0px",this.element.style.bottom="0px",this.element.style.right="0px",this.element.style.left="0px",this.element.style.overflow="hidden";var u=i.createElement("div");return u.style.borderTop="1px dotted #3E5F9D",u.style.height="1px",u.style.width="auto",this.element.appendChild(u),thisr e;null===(e=this.delegate)||void 0===e||e.onUserReplay()}},{key:"adContainerId",get:function(){return this._adContainerId}}]),n}(Fe);function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);;var t=Bt(n);function n(e){return l()(this,n),t.call(this)}return d()(n,[{key:"hasReminder",get:function(){return Boolean(this.view)}}]),d()(n,[{key:"setup",value:function(e){var t=e||{};t.view;try{A()(k()(n.prototype),"setup",this).call(this,t),this.size=this.view.element.styleSize}catch(r){}return this}},{key:"onUserVideoClick",value:function(){var e=qr.configStore.adService.videoClicksThrough;Ki.userAction.videoClick(e,!0)}},{key:"onUserReplay",value:function(){Ki.adContainerAction.disappear(this.view.adContainerId).then((function(){Ki.userAction.replay()}))}}]),n}(kt);function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Pt=function(e){M()(n,e);var t=Rt(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"_video",void 0),p()(Z()(e),"_context",void 0),p()(Z()(e),"_dx",void 0),p()(Z()(e),"_dy",void 0),p()(Z()(e),"_dWidth",void 0),p()(Z()(e),"_dHeight",void 0),e}return d()(n,[{key:"draw",value:function(){_t.draw(this)}},{key:"drawStart",this)}},{key:"drawStop",value:function(){_t.drawStop(this)}},{key:"updateLayout",value:function(){var e=A()(k()(n.prototype),"updateLayout",this).call(this);return _t.updateLayout(this),e}},{key:"setup",value:function(e){var t=i.createElement("canvas");return A()(k()(n.prototype),"setup",this).call(this,t,e),_t.setup(this,e),this}},{key:"clear",value:function(){_t.clear(this),A()(k()(n.prototype),"clear",this).call(this)}},{key:"video",get:function(){return this._video}},{key:"canvas",get:function(){return this.element}}]),n}(Ve),_t=function(){function e(){l()(this,e)}return d()(e,null,[{key:"draw",value:function(e){var t=e.video,n=e._context;null==n||n.drawImage(t,e._dx,e._dy,e._dWidth,e._dHeight)}},{key:"drawStart",value:function(e){var t=this;if(!e._requestId){e._requestId=window.requestAnimationFrame((function n(){t.draw(e),e._requestId=window.requestAnimationFrame(n)}))}}},{key:"drawStop",value:function(e){e._requestId&&(window.cancelAnimationFrame(e._requestId),e._requestId=null),this.draw(e)}},{key:"updateLayout",value:function(e){var t=e.element,n=e.video,r=t.offsetWidth,i=t.offsetHeight,a=null==n?void 0:n.videoWidth,o=null==n?void 0:n.videoHeight;if(0<r&&0<i&&0<a&&0<o){t.width=r,t.height=i;var u=r/a,s=i/o;u<s?(e._dWidth=r,e._dHeight=o*u):(e._dWidth=a*s,e._dHeight=i),e._dx=(r-e._dWidth)/2,e._dy=(i-e._dHeight)/2,this.draw(e)}}},{key:"setup",value:function(e,t){this._reset(e),e._video=null==t?void 0:t.videoElementext("2d")}},{key:"clear",value:function(e){this._reset(e)}},{key:"_reset",value:function(e){window.cancelAnimationFrame(e._requestId),e._requestId=void 0,e._video=void 0,e._context=void 0,e._dx=0,e._dy=0,e._dWidth=0,e._dHeight=0}}]),e}();function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Ot=function(e){M()(V,e);var t,n,r,i,a,o,u,s,c,f,h,y,g,w,b,S,C,x,E=Ft(V);function V(){var e;return l()(this,V),e=E.call(this),p()(Z()(e),"_videoElement",void 0),p()(Z()(e),"_lastLoaded",void 0),p()(Z()(e),"_lastStarted",void 0),p()(Z()(e),"_lastPlaying",void 0),p()(Z()(e),"_lastMuted",void 0),p()(Z()(e),"_lastEnded",void 0),p()(Z()(e),"_lastVolume",void 0),p()(Z()(e),"_lastDuration",void 0),p()(Z()(e),"_lastProgress"AdVideoView::validateLoadParameter(); need to implement;")}},{key:"videoLoad",value:(x=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("AbstractAdVideoView::videoLoad(); need to implement;");case 1:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)})},{key:"videoUnload",value:(C=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("AbstractAdVideoView::videoUnload(); need to implement;");case 1:case"end":return e.stop()}}),e)}))),function(){return C.apply(this,arguments)})},{key:"videoStart",value:(S=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("AbstractAdVideoView::videoStart(); need to implement;");case 1:case"end":return e.stop()}}),e)}))),function(){return S.apply(this,arguments)})},{key:"videoStop",value:(b=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("AbstractAdVideoView::videoStop(); need to implement;");case 1:case"end":return e.stop()}}),e)}))),function(){return b.apply(this,arguments)})},{key:"videoResume",value:(w=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("AbstractAdVideoView::videoResume(); need to implement;");case 1:case"end":return e.stop()}}),e)}))),function(){return w.apply(this,arguments)})},{key:"videoPause",value:(g=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("AbstractAdVideoView::videoPause(); need to implement;");case 1:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})},{key:"videoMute",value:(y=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("AbstractAdVideoView::videoMute(); need to implement;");case 1:case"end":return e.stop()}}),e)}))),function(){return y.apply(teed to implement;");case 1:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,areed to implement;");case 1:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"load",value:(c=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.load(this,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"unload",value:(s=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.unload(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"start",value:(u=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.start(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"stop",value:(o=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.stop(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"resume",value:(a=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.resume(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"pause",value:(i=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.pause(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"mute",value:(r=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.mute(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"unmute",value:(n=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.unmute(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"volumeChange",value:(t=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.volumeChange(this,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"canLoad",value:function(){return Tt.canLoad(this)}},{key:"canUnload",value:function(){return Tt.canUnload(this)}},{key:"canStart",value:function(){return Tt.canStart(this)}},{key:"canStop",value:function(){return Tt.canStop(this)}},{key:"canResume",value:function(){return Tt.canResume(this)}},{key:"canPause",value:function(){return Tt.canPause(this)}},{key:"canMute",value:function(){return Tt.canMute(this)}},{key:"canUnmute",value:function(){return Tt.canUnmute(this)}},{key:"canVolumeChange",value:function(e){return Tt.canVolumeChange(this,e)}},{key:"onVideoStartedChange",value:function(e){return Tt.onVideoStartedChange(this,e)}},{key:"onVideoPlayingChange",value:function(e){return Tt.onVideoPlayingChange(this,e)}},{key:"onVideoMutedChange",value:function(e){return Tt.onVideoMutedChange(this,e)}},{key:"onVideoVolumeChange",value:function(e){return Tt.onVideoVolumeChange(this,e)}},{key:"onVideoEndedChange",value:function(e){return Tt.onVideoEndedChange(this,e)}},{key:"onVideoDurationChange",value:function(e){return Tt.onVideoDurationChange(this,e)}},{key:"onVideoProgressChange",value:function(e){return Tt.onVideoProgressChange(this,e)}},{key:"onVideoError",value:function(e){return Tt.onVideoError(this,e)}},{key:"onVideoImpression",value:function(){return Tt.onVideoImpression(this)}},{key:"onVideoProgressStart",value:function(){return Tt.onVideoProgressStart(this)}},{key:"onVideoProgressFirstQuartile",value:function(){return Tt.onVideoProgressFirstQuartile(this)}},{key:"onVideoProgressMidpoint",value:function(){return Tt.onVideoProgressMidpoint(this)}},{key:"onVideoProgressThirdQuartile",value:function(){return Tt.onVideoProgressThirdQuartile(this)}},{key:"onVideoProgressComplete",value:function(){return Tt.onVideoProgressComplete(this)}},{key:"setup",value:function(e,t){return Tt.reset(this),A()(k()(V.prototype),"setup",this).call(this,e,t),this._videoElement=e,this}},{key:"clear",value:function(){this._videoElement=void 0,Tt.reset(this),A()(k()(V.prototype),"clear",this).call(this)}},{key:"videoElement",get:function(){return this._videoElement}},{key:"progress",get:function(){return this._lastProgress}},{key:"duration",get:function(){return this._lastDuration}},{key:"volume",get:function(){return this._lastVolume}},{key:"isLoaded",get:function(){return this._lastLoaded}},{key:"isUnloaded",get:function(){return!this.isLoaded}},{key:"isStarted",get:function(){return this._lastStarted}},{key:"isStopped",get:function(){return!this.isStarted}},{key:"isPlaying",get:function(){return this._lastPlaying}},{key:"isPaused",get:function(){return!this.isPlaying}},{key:"isEnded",get:function(){return this._lastEnded}},{key:"isMuted",guted}},{key:"isUnmuted",get:function(){return!this.isMuted}}]),V}(Ve),Tt=function(){function e(){l()(this,e)}var t,n,r,i,a,o,u,s,c;return d()(e,null,[{key:"load",value:(c=m()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.validateLoadParameter(n),t.canLoad()){e.next=3;break}return e.abrupt("return",!1);case 3:return t._lastLoaded=!0,e.next=7,t.videoLoad(n);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"canLoad",value:function(e){return!e.isLoaded}},{key:"unload",value:(s=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canUnload()){e.next=2;break}return e.abrupt("return",!1);case 2:return t._lastLoaded=!1,e.next=6,t.videoUnload();case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(})},{key:"canUnload",value:function(e){return!e.isUnloaded}},{key:"start",value:(u=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canStart()){e.next=2;break}return e.abrupt("return",!1);case 2:return t._lastStarted=!0,t._lastPlaying=!0,e.next=7,t.videoStart();case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"canStart",value:function(e){return!e.isUnloaded&&!e.isStarted}},{key:"stop",value:(o=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canStop()){e.next=2;break}return e.abrupt("return",!1);case 2:return t._lastStarted=!1,t._lastPlaying=!1,e.next=7,t.videoStop();case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"canStop",value:function(e){return!e.isUnloaded&&!e.isStopped}},{key:"resume",value:(a=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canResume()){e.next=2;break}return e.abrupt("return",!1);case 2:return t._lastPlaying=!0,e.next=6,t.videoResume();case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"canResume",value:function(e){return!e.isUnloaded&&(!e.isStopped&&(!e.isEnded&&!e.isPlaying))}},{key:"pause",value:(i=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canPause()){e.next=2;break}return e.abrupt("return",!1);case 2:return t._lastPlaying=!1,e.next=6,t.videoPause();case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"canPause",value:function(e){return!e.isUnloaded&&(!e.isStopped&&(!e.isEnded&&!e.isPaused))}},{key:"mute",value:(r=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canMute()){e.next=2;break}return e.abrupt("return",!1);case 2:return t._lastMuted=!0,e.next=6,t.videoMute();case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"canMute",value:function(e){return!e.isUnloaded&&!e.isMuted}},{key:"unmute",value:(n=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canUnmute()){e.next=2;break}return e.abrupt("return",!1);case 2:return t._lastMuted=!1,e.next=6,t.videoUnmute();case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(nmute",value:function(e){return!e.isUnloaded&&!e.isUnmuted}},{key:"volumeChange",value:(t=m()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canVolumeChange(n)){e.next=2;break}return e.abrupt("return",!1);case 2:return t._lastVolume=n,e.next=6,t.videoVolumeChange(n);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})},{key:"canVolumeChange",value:function(e,t){return!e.isUnloaded&&e._lastVolume!==t}},{key:"onVideoStartedChange",value:function(e,t){var n,r;return t!==e._lastStarted&&(e._lastStarted=t,null===(n=e.delegate)||void 0===n||null===(r=n.onVideoStartedChange)||void 0===r||r.call(n,e,{isStarted:t}),!0)}},{key:"onVideoPlayingChange",value:function(e,t){var n,r;return t!==e._lastPlaying&&(e._lastPlaying=t,null===(n=e.delegate)||void 0===n||null===(r=n.onVideoPlayingChange)||void 0===r||r.call(n,e,{isPlaying:t}),!0)}},{key:"onVideoMutedChange",value:function(e,t){var n,r;return t!==e._lastMuted&&(0<=t&&(e._lastMuted=t,null===(n=e.delegate)||void 0===n||null===(r=n.onVideoMutedChange)||void 0===r||r.call(n,e,{isMuted:t}),!0))}},{key:"onVideoVolumeChange",value:function(e,t){var n;return t!==e._lastVolume&&(0<=t&&(e._lastVolume=t,null===(n=e.delegate)||void 0===n||n.onVideoVolumeChange(e,{volume:t}),!0))}},{key:"onVideoEndedChange",value:function(e,t){var n,r;return e._lastEnded!==t&&(e._lastEnded=t,null===(n=e.delegate)||void 0===n||null===(r=n.onVideoEndedChange)||void 0===r||r.call(n,e,{isEnded:t}),!0)}},{key:"onVideoDurationChange",value:function(e,t){var n,r;return t!==e._lastDuration&&(0<=t&&(e._lastDuration=t,null===(n=e.delegate)||void 0===n||null===(r=n.onVideoDurationChange)||void 0===r||r.call(n,e,{duration:t}),!0))}},{key:"onVideoProgressChange",value:function(e,t){var n,r;return t!==e._lastProgress&&(e._lastProgress=t,null===(n=e.delegate)||void 0===n||null===(r=n.onVideoProgressChange)||void 0===r||r.call(n,e,{progress:t,duration:e.duration}),!0)}},{key:"onVideoError",value:function(e,t){var n,r;return null===(n=e.delegate)||void 0===n||null===(r=n.onVideoError)||void 0===r||r.call(n,e,{error:t}),!0}},{key:"onVideoImpression",value:function(e){var t,n,r=e.progress;return null===(t=e.delegate)||void 0===t||null===(n=t.onVideoImpression)||void 0===n||n.call(t,e,{progress:r}),!0}},{key:"onVideoProgressStart",value:function(e){var t,n,r=e.progress,i=e.duration;return null===(t=e.delegate)||void 0===t||null===(n=t.onVideoProgressStart)||void 0===n||n.call(t,e,{progress:r,duration:i}),!0}},{key:"onVideoProgressFirstQuartile",value:function(e){var t,n,r=e.progress,i=e.duration;return null===(t=e.delegate)||void 0===t||null===(n=t.onVideoProgressFirstQuartile)||void 0===n||n.call(t,e,{progress:r,duration:i}),!0}},{key:"onVideoProgressMidpoint",value:function(e){var t,n,r=e.progress,i=e.duration;return null===(t=e.delegate)||void 0===t||null===(n=t.onVideoProgressMidpoint)||void 0===n||n.call(t,e,{progress:r,duration:i}),!0}},{key:"onVideoProgressThirdQuartile",value:function(e){var t,n,r=e.progress,i=e.duration;return null===(t=e.delegate)||void 0===t||null===(n=t.onVideoProgressThirdQuartile)||void 0===n||n.call(t,e,{progress:r,duration:i}),!0}},{key:"onVideoProgressComplete",value:function(e){var t,n,r=e.progress,i=e.duration;return null===(t=e.delegate)||void 0===t||null===(n=t.onVideoProgressComplete)||void 0===n||n.call(t,e,{progress:r,duration:i}),!0}},{key:"reset",value:function(e){e._lastLoaded=!1,e._lastStarted=!1,e._lastPlaying=!1,e._lastMuted=!0,e._lastEnded=!0,e._lastVolume=-1,e._lastDuration=-1,e._lastProgress=-1}}]),e}();function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var zt=function(e){M()(n,e);var t=Ut(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"_canvasView",void 0),e}return d()(n,[{key:"load",value:function(){}},{key:"unload",value:function(){this.clear()}},{key:"start",value:function(){this._canvasView.drawStart()}},{key:"stop",value:function(){this._canvasView.drawStop()}},{key:"resume",value:function(){this._canvasView.drawStart()}},{key:"pause",value:function(){this._canvasView.drawStop()}},{key:"updateLayout",value:function(){return A()(k()(n.prototype),"updateLayout",this).call(this),this._canvasView.updateLayout()}},{key:"setup",value:function(e){var t=null==e?void 0:e.videoElement,r=(new Pt).setup({videoElement:t});return A()(k()(n.prototype),"setup",this).call(this,r.element,e),this._canvasView=r,this.element.className="dac-ivt-view-video-canvas",this.element.style.position="absolute",this.element.style.top="0px",this.element.style.left="0px",this.element.style.width="100%",this.element.style.height="100%",this.element.style.cursor="pointer",this.element.style.overflow="hidden",this}},{key:"clear",value:function(){var e;null===(e=this._canvasView)||void 0===e||e.clear(),this._canvasView=void 0,A()(k()(n.prototype),"clear",this).call(this)}}]),n}(Ot);function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Lt=function(e){M()(n,e);var t=Dt(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"didAdLoad",value:function(){this.view.load()}},{key:"didAdUnload",value:function(){this.view.unload()}},{key:"didAdStart",value:function(){this.view.start()}},{key:"didAdStop",value:function(){this.view.stop()}},{key:"didAdPlay",value:function(){this.view.resume()}},{key:"didAdPause",value:function(){this.view.pause()}},{key:"didAdReplay",value:function(){this.view.start()}},{key:"setup",value:function(e){return A()(k()(n.prototype),"setup",this).call(this,e),this}},{key:"clear",value:function(){A()(k()(n.prototype),"clear",this).call(this)}},{key:"view",get:function(){return A()(k()(n.prototype),"view",this)}}]),n}(kt);function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Nt=r.IvtSize;var jt=function(e){M()(f,e);var t,n,r,i,a,o,u,s,c=Mt(f);function f(){var e;return l()(this,f),e=c.call(this),p()(Z()(e),"playerFrame",null),p()(Z()(e),"playerSlot",null),p()(Z()(e),"videoCanvas",null),p()(Z()(e),"_videoView",null),p()(Z()(e),"_videoSize",null),p()(Z()(e),"_adContainerId",null),e}return d()(f,[{key:"clear",value:function(){var e,t;null===(e=this.playerFrame)||void 0===e||e.clear(),this.playerFrame=null,null===(t=this.playerSlot)||void 0===t||t.clear(),this.playerSlot=null,this._videoSize=null,A()(k()(f.prototype),"clear",this).call(this)}},{key:"setVideoView",value:function(e){!function(e,t){e._videoView=t,e.playerFrame.appendView(t),e.playerFrame.appendView(e.playerSlot)}(this,e)}},{key:"loaded",value:(s=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"started",value:(u=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"playing",value:(o=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"paused",value:(a=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"ended",value:(i=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"muted",value:(r=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"unmuted",value:(n=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"volumeChange",value:(t=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setup",value:function(e){if(!A()(k()(f.prototype),"setup",this).call(this))throw new Error('"setup(); failed; super.setup() failed;"');var t,n=e.adContainerId,r=e.videoView||null,i=(e.zIndex,e.backgroundColor||this.config.backgroundColor||null);if(!e.adContainerId)throw new Error('"setup(); failed; Not declared adContainerId;"');return this._adContainerId=n,this.playerFrame=function(e){var t=(new Ve).setup();t.element.className="dac-ivt-video-frame",t.element.style.position="relative",t.element.style.width="100%",t.element.style.height="100%",t.element.style.margin="0 auto",t.element.style.overflow="hidden",e&&(t.element.style.backgroundColor=e);return t}(i),this.playerSlot=((t=(new Ve).setup()).element.className="dac-ivt-video-slot",t.element.style.display="block",t.element.style.position="absolute",t.element.style.left="0px",t.element.style.top="0px",t.element.style.width="100%",t.element.style.height="100%",t.element.style.margin="auto%",t.element.style.cursor="pointer",t.element.style.overflow="hidden",t),function(e,t){var n=e;n.element.className="dac-ivt-ad-frame",n.element.style.position="absolute",n.element.style.width="",n.element.style.height="",n.element.style.top="0px",n.element.style.bottom="0px",n.element.style.left="0px",n.element.style.right="0px",n.element.style.margin="auto",n.element.style.overflow="hidden"}(this),this.appendView(this.playerFrame),this.setVideoView(r),this}},{key:"updateLayout",value:function(){return function(e){var t=e,n=t.element.getClientSize(),r=n.width,i=function(e,t,n){var r=e,i=r.config.height;if(0<n){i=n||0}else{var a=r.playerFrameDefaultSize,o=a.width;i=a.height*(t/o)}return i=0<i?i:0}(t,n.width,n.height);return t.playerFrame.element.w=r,t.playerFrame.element.h=i,t.videoView.updateLayout(),new Nt(r,i)}(this)}},{key:"hasEndCard",get:function(){return!1}},{key:"player",get:function(){return qr.videoElement}},{key:"videoView",get:function(){return this._videoView}},{key:"playerFrameDefaultSize",get:function(){if(!this._videoSize){var e=qr.adStore.vast.media,t=qr.videoElement;if(0<(null==e?void 0:e.width)&&0<(null==e?void 0:e.height))this._videoSize=new Nt(null==e?void 0:e.width,null==e?void 0:e.height);else{if(!(0<(null==t?void 0:t.videoWidth)&&0<(null==t?void 0:t.videoHeight)))return new Nt;this._videoSize=new Nt(t.vid},set:function(e){tg",get:function(){return qr.getConfig(this._adContainerId)}}]),f}(Ve);n(114),n(121);function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Qt=function(e){M()(h,e);var t,n,r,i,a,o,u,s,c,f=Wt(h);function h(){var e;return l()(this,h),e=f.call(this),p()(Z()(e),"_videoProgressEvents",void 0),p()(Z()(e),"_videoProgressCallbackedMethods",void 0),e}return d()(h,[{key:"validateLoadParameter",value:function(e){if(S.a.isBlank(e))throw new Error("MediaVideoView::load(); failed; parameter is blank;");var t=e.url;if(S.a.isBlank(t))throw new Error("MediaVideoView::load(); failed; parameter.url is blank;")}},{key:"videoLoad",value:(c=m()(v.a.mark((function e(t){var n=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=n;n.videoElement.addEventListener("loadedmetadata",(function t(n){null==n||n.stopPropagation(),i.videoElement.removeEventListener("loadedmetadata",t),i._lastMuted=i.videoElement.muted,i._lastVolume=i.videoElement.volume,e()})),n.videoElement.src=t.url,n.videoElement.load()})));case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(titch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"videoStart",value:(u=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qt.initVideoProgressEvents(this,!0),0<this.videoElement.currentTime&&(this.videoElement.currentTime=0),this.videoElement.play();case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"videoStop",value:(o=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.videoElement.pause();case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"videoResume",value:(a=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.videoElement.play();case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"videohis.videoElement.pause();case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"videoMute",value:(r=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.videoElement.muted=!0;case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"videoUnmute",value:(n=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.videoElement.muted=!1;case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"videoVolumeChis.videoElement.volume=t;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onVideoEndedChange",value:function(e){if(A()(k()(h.prototype),"onVideoEndedChange",this).call(this,e)){if(e){var t=this.duration,n=this.duration;qt.handleProgressEvent(this,t,n)}return!0}return!1}},{key:"handleEvent",value:function(e){Ht.handleEvent(this,e)}},{key:"setup",value:function(e){qt.reset(this);var t=null==e?void 0:e.videoElement;return A()(k()(h.prototype),"setup",this).call(this,t),qt.addEventListeners(this),this}},{key:"clear",value:function(){qt.reset(this),A()(k()(h.prototype),"clear",this).call(this)}}]),h}(Ot),Ht=function(){function e(){l()(e:function(e){var t=e.videoElemenion(e){e.onVideoEndedChange(!1),e.onVideoPlayingChange(!0)}},{key:"onVideoElementPause",value:function(e){e.eoElementEnded",value:function(e){e.onVideoEndedChange(!0)}},{key:"onVideoElementVolumeChange",value:function(e){var t=e.videoElement.volume,n=e.videoElement.muted;e.onVideoVolumeChange(t),e.onVideoMutedChange(n)}},{key:"onVideoElementDurationChange",value:function(e){var t=e.videoElement.duration;e.onVideoDurationChange(t),e.isStarted&&qt.initVideoProgressEvents(e,!1)}},{key:"onVideoElementTimeUpdate",value:function(e){if(!e.isStopped){var t=e.videoElement.currentTime,n=e.duration;qt.handleProgressEvent(e,t,n)}}},{key:"handleEvent",value:function(e,t){switch(null==t||t.stopPropagation(),t.type){case"error":this.onVideoElementError(e);break;case"play":this.onVideoElementPlay(e);break;case"pause":this.onVideoElementPause(e);break;case"volumechange":this.onVideoElementVolumeChange(e);break;case"ended":this.onVideoElementEnded(e);break;case"durationchange":this.onVideoElementDurationChange(e);break;case"timeupdate":this.onVideoElementTimeUpdate(e)}}}]),e}(),qt=function(){function e(){l()(this,e)}return d()(e,null,[{key:"addEventListeners",value:function(e){e.videoElement.on("error",e),e.videoElement.on("play",e),e.videoElement.on("pause",e),e.videoElement.on("volumechange",e),e.videoElement.on("ended",e),e.videoElement.on("durationchange",e),e.videoElement.on("timeupdate",e)}},{key:"removeEventListeners",value:function(e){e.videoElement&&(e.videoElement.off("error",e),e.videoElement.off("play",e),e.videoElement.off("pause",e),e.videoElement.off("volumechange",e),e.videoElement.off("ended",e),e.videoElement.off("durationchange",e),e.videoElement.off("timeupdate",e))}},{key:"initVideoProgressEvents",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.duration;t&&(e._videoProgressCallbackedMethods=[]);var r=[];r.push({time:0,method:"onVideoProgressStart"}),r.push({time:.25*n,method:"onVideoProgressFirstQuartile"}),r.push({time:.5*n,method:"onVideoProgressMidpoint"}),r.push({time:.75*n,method:"onVideoProgressThirdQuartile"}),r.push({time:n,method:"onVideoProfunction(et((function(e,t){return e.time<t.time?-1:e.time>t.time?1:0})),e._videoProgressEvents=r}},{key:"handleProgressEvent",value:function(e,t){var n;e.onVideoProgressChange(t),(null===(n=e._videoProgressEvents[0])||void 0===n?void 0:n.time)<=t&&(e._videoProgressEvents=e._videoProgressEvents.filter((function(n){var r=t+.1<n.time;if(!r){var i,a=n.method;e._videoProgressCallbackedMethods.push(a),null===(i=e[a])||void 0===i||i.call(e)}return r})))}},{key:"reset",value:function(t){e.removeEventListeners(t),t._videoProgressEvents=[],t._videoProgressCallbackedMethods=[]}}]),e}();function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Gt=S.a.namespace(),Kt=function(e){M()(p,e);var t,n,r,i,a,o,u,s,c,f=Yt(p);function p(){var e;return l()(this,p),e=f.call(this),Gt(Z()(e)).duration=0,e}return d()(p,[{key:"setup",value:function(e){var t=e||{};A()(k()(p.prototype),"setup",this).call(this,t);var n=t.adContainerId;if(S.a.isBlank(n))throw new Error('"setup(); failed; Not declared adContainerId;"');return this.adContainerId=n,this}},{key:"didAdLoad",value:(c=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.adView)||void 0===t||null===(n=t.loaded)||void 0===n?void 0:n.call(t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"didAdStart",value:(s=m()(v.a.mark((function e(){var t,n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.adView)||void 0===t||null===(n=t.started)||void 0===n?void 0:n.call(t);case 2:return e.next=4,null===(r=this.adView)||void 0===r||null===(i=r.playing)||void 0===i?void 0:i.call(r);case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"didAdPlay",value:(u=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.adView)||void 0===t||null===(n=t.playing)||void 0===n?void 0:n.call(t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"didAdPause",value:(o=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.adView)||void 0===t||null===(n=t.pause)||void 0===n?void 0:n.call(t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"didAdStop",value:(a=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(r=this.adView).ended)||void 0===n?void 0:n.call(r,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"didAdReplay",value:(i=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.adView)||void 0===t||null===(n=t.playing)||void 0===n?void 0:n.call(t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"didAdMute",value:(r=m()(v.a.mark((function e(){var t,n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.adView)||void 0===t||null===(n=t.muted)||void 0===n?void 0:n.call(t);case 2:return e.next=4,null===(r=this.adView)||void 0===r||null===(i=r.volumeChange)||void 0===i?void 0:i.call(r,0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"didAdUnmute",value:(n=m()(v.a.mark((function e(){var t,n,r,i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.adView)||void 0===t||null===(n=t.unmuted)||void 0===n?void 0:n.call(t);case 2:return e.next=4,null===(r=this.adView)||void 0===r||null===(i=r.volumeChange)||void 0===i?void 0:i.call(r,(null===(a=this.videoView)||void 0===a?void 0:a.volume)||0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"didAdVolumeChange",value:(t=m()(v.a.mark((function e(t){var n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null==t?void 0:t.volume,e.next=3,null===(n=this.adView)||void 0===n||null===(r=n.volumeChange)||void 0===r?void 0:r.call(n,i);case 3:case"end":return e.stop()}}),e,this)}))),function(e){returnlAdUpdateLayout",value:fun",value:function(){Ki.userAction.close(this.adContainerId)}},{key:"onUserOptout",value:fukey:"onUserReplay",value:function(){Ki.userAction.replay()}},{key:"onUserVideoClick",value:function(){var e=qr.configStore.adService.videoClicksThrough;Ki.usdStore.isMuted?Ki.userAction.unmute():Ki.userAction.mute()}},{key:"onUserVolumeChange",value:function(e){qr.adStore.isMuted?0<e&&Ki.userAction.unmute():e<=0&&Ki.userAction.mute(),Ki.userAction.volumeChange(e)}},{key:"adVoView",get:function(){r===e||null===(t=e.playerSlot)||void 0===t?void 0:t.element}},{key:"duration",get:function(){var e=qr.adStore.vast,t=Gt(this);if(!t.duration){var n=Number.isFinite(e.duration)?e.duration:0;t.duration=Number.isFinite(this.videoView.duration)?this.vidull===(e=this.adView)||void 0===e?void 0:e.hasEndCard)||!1}}]),p}(kt);function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}function Xt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=m()(v.a.mark((function e(t){var n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$t(r=t),r.element.appendChild(i),r._scriptLoaderFrame=i,!(null===(n=r.config.adVpaid)||void 0===n?void 0:n.isAddedIframeByDocumentWrite)){e.next=10;break}return e.next=8,en(r);case 8:e.next=12;break;case 10:return e.next=12,nn(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){var t=i.createElement("iframe");return t.width=0,t.height=0,t.frameBorder="0",t.scrolling="no",t.style.position="absolute",t.style.margin="auto",t.style.width="0px",t.style.height="0px",t}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=m()(v.a.mark((function e(t){var n,r,i,a,o,u,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=t)._scriptLoaderFrame,a=i.contentWindow?i.contentWindow.document:i.contentDocument,o=null===(n=r.config.adVpaid)||void 0===n?void 0:n.mediaUri,u="",u+='<body style="background:transparent;margin:0;">',u+="<script>inDapIF = true;<\/script>",u+='<script src="'.concat(o,'"><\/script>'),u+="</body>",a.open("text/html","replace"),a.write(u),a.close(),"complete"===a.readyState){e.next=16;break}return s=function(){return new Promise((function(e){i.onload=function(t){e()}}))},e.next=16,s();case 16,arguments)}function nn(e){return rn.apply(this,arguments)}function rn(){return(rn=m()(v.a.mark((function e(t){var n,r,i,a,o,u,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=t)._scriptLoaderFrame,a=i.contentWindow?i.contentWindow.document:i.contentDocument,o=null===(n=r.config.adVpaid)||void 0===n?void 0:n.mediaUri,"complete"===a.readyState){e.next=8;break}return u=function(){return new Promise((function(e){i.onload=function(t){e()}}))},e.next=8,u();case 8:return(s=a.createElement("script")).src=o,a.body.appendChild(s),r._vpaidScript=s,l=function(){return new Promise((function(e){s.onload=function(t){e()}}))},e.next=15,l();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e){var t=e;if(t._creative)return t._creative;var n=t._scriptLoaderFrame.contentWindow.getVPAIDAd;if(!S.a.isFunction(n))return null;var r=n();if(!function(e,t){if(S.a.isFunction(t.handshakeVersion)&&S.a.isFunction(t.initAd)&&S.a.isFunction(t.startAd)&&S.a.isFunction(t.stopAd)&&S.a.isFunction(t.skipAd)&&S.a.isFunction(t.resizeAd)&&S.a.isFunction(t.pauseAd)&&S.a.isFunction(t.resumeAd)&&S.a.isFunction(t.expandAd)&&S.a.isFunction(t.collapseAd)&&S.a.isFunction(t.subscribe)&&S.a.isFunction(t.unsubscribe))return!0;return!1}(0,r))return null;if(!r)throw new Error('"VpaidFrame::initVpaid(); failed: can not get VPAID creative;"');return t._creative=r,r}var on=function(e){M()(u,e);var t,n,r,i,a,o=Zt(u);function u(){var e;return l()(this,u),e=o.call(this),p()(Z()(e),"_scriptLoaderFrame",null),p()(Z()(e),"_vpaidScript",null),p()(Z()(e),"_creative",null),p()(Z()(e),"_volumeButton",null),p()(Z()(e),"_closeButton",null),p()(Z()(e),"_admarkButton",null),e}return d()(u,[{key:"setup",value:function(e){return A()(k()(u.prototype),"setup",this).call(this,e),function(e){var t=e;t.config.volumeButton&&function(e){var t=e,n=new Je([{option:{bottom:"3px",left:"3px"}}]);n.element.style.display="none",n.delegate=t,t.videoView.isMuted?n.mute():n.unmute(),t.appendView(n),t._volumeButton=n}(t);t.config.closeButton&&function(e){var t=e,n=new Ze([{option:{top:"3px",right:"3px"}}]);n.element.style.display="none",n.delegate=t,t.appendView(n),t._closeButton=n}(t);t.config.admarkButton&&function(e){var t=e,n=new Ke([{option:{top:"3px",left:"3px"}}]);n.element.style.display="none",n.delegate=t,t.appendView(n),t._admarkButton=n}(t);return t}(this)}},{key:"clear",value:function(){!function(e){var t,n,r=e;(null===(t=r._vpaidScript)||void 0===t?void 0:t.parentElement)&&r._vpaidScript.parentElement.removeChild(r._vpaidScript);r._vpaidScript=null,(null===(n=r._scriptLoaderFrame)||void 0===n?void 0:n.parentElement)&&r._scriptLoaderFrame.parentElement.removeChild(r._scriptLoaderFrame);r._scriptLoaderFrame=null,r._creative=null,r._volumeButton&&(r._volumeButton.clear(),r._volumeButton=null);r._closeButton&&(r._closeButton.clear(),r._closeButton=null);r._admarkButton&&(r._admarkButton.clear(),r._admarkButton=null)}(this),A()(k()(u.prototype),"clear",this).call(this)}},{key:"create",value:(a=m()(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt(this);case 2:r=an(this),null===(t=this.videoView)||void 0===t||null===(n=t.setCreative)||void 0===n||n.call(t,r);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"start",value:(i=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._admarkButton&&(this._admarkButton.element.style.display=""),this._closeButton&&(this._closeButton.element.style.display=""),this._volumeButton&&(this._volumeButton.element.style.display="");case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.ap0:this.clear();case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"updateLayout",value:function(){var e,t=A()(k()(u.prototype),"updateLayout",this).call(this),n=Math.floor(t.width),r=Math.floor(t.height);null===(e=this._creative)||void 0===e||e.resizeAd(n,r,"normal")}},{key:"muted",value:(n=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(u.prototype),"muted",this).call(this);case 2:null===(t=this._volumeButton)||void 0===t||t.mute();case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"unmuted",value:(t=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(u.prototype),"unmuted",this).call(this);case 2:null===(t=this._volumeButton)||void 0===t||t.unmute();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onUserVolumeSwitch",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onUserVoluoid 0===e||null===(t=e.onUserClose)||void 0===t||t.call(e)}}]),u}(jt);function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var sn=function(e){M()(a,e);var t,n,r,i=un(a);function a(){reture:function(){A()(k()(a.prototype),"clear",this).call(this)}},{key:"willAdCreate",value:(r=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vpaidFrame.create();case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"willAdStart",value:(n=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vpaidFrame.start();case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(thFrame.unload();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"vpaidFrame",get:function(){return this.view}}]),a}(Kt);function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var cn=function(e){M()(h,e);var t,n,a,o,u,s,c,f=ln(h);function h(){var e;return l()(this,h),e=f.call(this),p()(Z()(e),"admarkButton",null),p()(Z()(e),"closeButton",null),p()(Z()(e),"detailButton",null),p()(Z()(e),"loadingButton",null),p()(Z()(e),"replayButton",null),p()(Z()(e),"optoutButton",null),p()(Z()(e),"volumeButton",null),p()(Z()(e),"endCard",null),p()(Z()(e),"headerFrame",null),p()(Z()(e),"mainFrame",null),p()(Z()(e),"footerFrame",null),p()(Z()(e),"leftSideFrame",null),p()(Z()(e),"rightSideFrame",null),p()(Z()(e),"_ending",!1),e}return d()(h,[{key:"clear",value:function(){var e,t,n,r,i,a,o,u,s,l,c,d,f;this._ending=!1,null===(e=this.admarkButton)||void 0===e||e.clear(),this.admarkButton=null,null===(t=this.closeButton)||void 0===t||t.clear(),this.closeButton=null,null===(n=this.detailButton)||void 0===n||n.clear(),this.detailButton=null,null===(r=this.loadingButton)||void 0===r||r.clear(),this.loadingButton=null,null===(i=this.replayButton)||void 0===i||i.clear(),this.replayButton=null,null===(a=this.optoutButton)||void 0===a||a.clear(),this.optoutButton=null,null===(o=this.volumeButton)||void 0===o||o.clear(),this.volumeButton=null,null===(u=this.endCard)||void 0===u||u.clear(),this.endCard=null,null===(s=this.headerFrame)||void 0===s||s.clear(),this.headerFrame=null,null===(l=this.mainFrame)||void 0===l||l.clear(),this.mainFrame=null,null===(c=this.footerFrame)||void 0===c||c.clear(),this.footerFrame=null,null===(d=this.leftSideFrame)||void 0===d||d.clear(),this.leftSideFrame=null,null===(f=this.rightSideFrame)||void 0===f||f.clear(),this.rightSideFrame=null,A()(k()(h.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){if(!A()(k()(h.prototype),"setup",this).call(this,e))throw new Error('"setup(); failed: super.setup() failed;"');return this._ending=!1,function(e,t){e.headerFrame=i.createElement("div"),e.mainFrame=i.createElement("div"),e.footerFrame=i.createElement("div"),e.leftSideFrame=i.createElement("div"),e.rightSideFrame=i.createElement("div"),e.headerFrame.id="dac-ivt-header-frame",e.headerFrame.style.width="100%",e.headerFrame.style.height="0px",e.mainFrame.id="dac-ivt-main-frame",e.mainFrame.style.width="100%",e.mainFrame.style.height="100%",e.footerFrame.id="dac-ivt-footer-frame",e.footerFrame.style.width="100%",e.footerFrame.style.height="0px",e.leftSideFrame.id="dac-ivt-left-side-frame",e.leftSideFrame.style.display="inline-block",e.leftSideFrame.style.verticalAlign="top",e.leftSideFrame.style.width="0px",e.leftSideFrame.style.height="100%",e.rightSideFrame.id="dac-ivt-right-side-frame",e.rightSideFrame.style.display="inline-block",e.rightSideFrame.style.verticalAlign="top",e.rightSideFrame.style.width="0px",e.rightSideFrame.style.height="100%",e.playerFrame.style.display="inline-block",e.playerFrame.style.verticalAlign="top",e.playerFrame.style.width="100%",e.playerFrame.style.height="100%",e.playerFrame.style.position="relative",e.element.setAttribute("role","wrapper"),e.element.appendChild(e.headerFrame),e.element.appendChild(e.mainFrame),e.element.appendChild(e.footerFrame),e.mainFrame.appendChild(e.leftSideFrame),e.mainFrame.appendChild(e.playerFrame.element),e.mainFrame.appendChild(e.rightSideFrame)}(this),function(e,t){e.config.admarkButton&&(e.admarkButton=e.createAdmarkButton(),e.admarkButton.element.style.display="none",e.admarkButton.hide(),e.appendView(e.admarkButton));e.config.closeButton&&(e.closeButton=e.createCloseButton(),e.closeButton.element.style.display="none",e.closeButton.element.style.opacity=0,e.closeButton.hide(),e.appendView(e.closeButton));e.config.optoutButton&&(e.optoutButton=e.createOptoutButton(),e.optoutButton.element.style.display="none",e.optoutButton.hide(),e.appendView(e.optoutButton))}(this)ate=e,e.playerSlot.onClick=function(){e.onUserVideoClick()},e.config.endcardCompanion&&(e.endCard=e.createEndcardCompanion(e.config.endcardCompanion),e.endCard.hide(),e.playerSlot.appendView(e.endCard));e.config.volumeButton&&(e.volumeButton=e.createVolumeButton(),e.volumeButton.style.opacity=0,e.volumeButton.hide(),e.playerSlot.appendView(e.volumeButton));e.config.replayButton&&(e.replayButton=e.createReplaylButton(),e.replayButton.style.opacity=0,e.replayButton.hide(),e.playerSlot.appendView(e.replayButton));e.config.detailButton&&(e.detailButton=e.createDetailButton(),e.detailButton.style.opacity=0,e.detailButton.hide(),e.playerSlot.appendView(e.detailButton));e.loadingButton=e.createLoadingButton(),e.loadingButton.show(),e.playerSlot.appendView(e.loadingButton)}(this),function(e){var t=document.createElement("div");t.className="dac-ivt-ad-filter",t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.opacity=0,t.style.pointerEvents="none",e.element.appendChild(t)}(this),this}},{key:"createAdmarkButton",value:function(){var e={option:{top:"3px",left:"3px",size:this.admarkButtonSize}};return new Ke(e)}},{key:"createCloseButton",value:function(){var e={option:{top:"3px",right:"3px",size:this.closeButtonSize}},t=new Ze(e);return t.delegate=this,t}},{key:"createDetailButton",value:function(){var e={option:{bottom:"3px",right:"3px",size:this.detailButtonSize}},t=new $e(e);return t.delegate=this,t}},{key:"createLoadingButton",value:function(){var e={style:{margin:"auto"},option:{top:"0",bottom:"0",left:"0",right:"0",size:this.loadingButtonSize}};return new et(e)}},{key:"createReplaylButton",value:function(){var e={option:{bottom:"3px",left:"3px",size:this.replayButtonSize}},t=new tt(e);return t.delegate=this,t}},{key:"createOptoutButton",value:function(){var e={option:{top:"0px",left:"1px",size:this.optoutButtonSize}},t=new Xe(e);return t.delegate=this,t}},{key:"createVolumeButton",value:function(){var e={option:{bottom:"3px",left:"3px",size:this.volumeButtonSize}},t=new Je(e);retvalue:function(e){var t=new nt(e);return t.delegate=this,t}},{key:"loaded",value:(c=m()(v.a.mark((function e(){var t,n,r,i,a,o,u,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(h.prototype),"loaded",this).call(this);case 2:null===(t=this.admarkButton)||void 0===t||t.show(),null===(n=this.closeButton)||void 0===n||n.hide(),null===(r=this.optoutButton)||void 0===r||r.show(),null===(i=this.detailButton)||void 0===i||i.hide(),null===(a=this.loadingButton)||void 0===a||a.show(),null===(o=this.replayButton)||void 0===o||o.hide(),null===(u=this.volumeButton)||void 0===u||u.hide(),null===(s=this.endCard)||void 0===s||s.hide();case 10:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"started",value:(s=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(h.prototype),"started",this).call(this);case 2:null===(t=this.loadingButton)||void 0===t||t.hide(),this.admarkButton&&(this.admarkButton.element.style.display=""),this.closeButton&&(this.closeButton.element.style.display=""),this.optoutButton&&(this.optoutButton.element.style.display="");case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"playing",value:(u=m()(v.a.mark((function e(){var t,n,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(h.prototype),"playing",this).call(this);case 2:return this._ending=!1,e.next=5,Promise.all([null===(t=this.detailButton)||void 0===t?void 0:t.fadeout(),null===(n=this.replayButton)||void 0===n?void 0:n.fadeout()]).then((function(){var e,t;null===(e=r.closeButton)||void 0===e||e.fadein(),null===(t=r.volumeButton)||void 0===t||t.fadein(),r.endCard&&r.endCard.hide()}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"pch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"ended",value:(a=m()(v.a.mark((function e(t){var n,r,i=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(h.prototype),"ended",this).call(this,t);case 2:return this._ending=!0,r=null==t?void 0:t.isToClose,e.next=6,Promise.all([null===(n=this.volumeButton)||void 0===n?void 0:n.fadeout()]).then((function(){var e,t;r||i._ending&&(null===(e=i.detailButton)||void 0===e||e.fadein(),null===(t=i.replayButton)||void 0===t||t.fadein(),i.endCard&&i.endCard}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"muted",value:(n=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(h.prototype),"muted",this).call(this);case 2:null===(t=this.volumeButton)||void 0===t||t.mute();case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"unmuted",value:(t=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(h.prototype),"unmuted",this).call(this);case 2:null===(t=this.volumeButton)||void 0===t|)}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"updateLayout",value:function(){return function(e){var t=e,n=t.element.getClientSize(),r=n.width,i=n.height,a=function(e,t){var n=e,r=n.headerFrameDefaultSize,i=t/r.width||0,a=r.height*i;return a=0<a?Math.floor(a):0,n.headerFrame.w="100%",n.headerFrame.h=a,a}(t,r),o=function(e,t){var n=e,r=n.footerFrameDefaultSize,i=t/r.width||0,a=r.height*i;return a=0<a?Math.floor(a):0,n.footerFrame.w="100%",n.footerFrame.h=a,a}(t,r),u=function(e,t,n,r,i){var a=e,o=a.config.height;if(0<n){o=(n||0)-(r||0)-(i||0)}else{var u=a.leftSideFrameDefaultSize,s=a.rightSideFrameDefaultSize,l=a.playerFrameDefaultSize,c=u.width*(l.height/u.height)||0,d=s.width*(l.height/s.height)||0,f=l.width+c+d;o=l.height*(t/f)}return o=0<o?Math.floor(o):0,a.mainFrame.w="100%",a.mainFrame.h=o,o}(t,r,i,a,o),s=function(e,t){var n=e,r=n.leftSideFrameDefaultSize,i=t/r.height||1,a=r.width*i;return a=0<a?Math.floor(a):0,n.leftSideFrame.w=a,n.leftSideFrame.h="100%",a}(t,u),l=function(e,t){var n=e,r=n.rightSideFrameDefaultSize,i=t/r.height||1,a=r.width*i;return a=0<a?Math.floor(a):0,n.rightSideFrame.w=a,n.rightSideFrame.h="100%",a}(t,u),c=Math.floor(r-s-l),d=Math.floor(u);return t.playerFrame.element.w=c,t.playerFrame.element.h=d,t.videoView.updateLayout(),n}(this)}},{key:"onUserVideoClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}},{key:"onUserClose",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserClose(this)}},{key:"onUserOptout",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserOptout(this)}},{key:"onUserVolumeSwitch",value:function(){var e;null===(e=this.delegate)||void 0=null===(e=this.delegatey:"hasEndCard",get:function(){return Boolean(this.endCard)}},{key:"admarkButtonSize",get:function(){return we.admarkButtonSize}},{key:"closeButtonSize",get:function(){return we.closeButtonSize}},{key:"detailButtonSize",get:function(){return we.detailButtonSize}},{key:"loadingButtonSize",get:function(){return we.loadingButtonSize}},{key:"replayButtonSize",get:function(){return we.replayButtonSize}},{key:"optoutButtonSize",get:functionolumeButtonSize",get:function(){return we.volumeButtonSize}},{key:"headerFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}},{key:"footerFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}},{key:"leftSideFrameDefaultSize",get:function(){returFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}}]),h}(jt);function dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}S.a.namespace();var fn=function(e){M()(n,e);var t=dn(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"headerView",null),p()(Z()(e),"footerView",null),p()(Z()(e),"_headerFrameSize",new Se(0,0)),p()(Z()(e),"_footerFrameSize",new Se(0,0)),e}return d()(n,[{key:"clear",value:function(){var e,t;this._headerFrameSize=null,this._footerFrameSize=null,null===(e=this.headerView)||void 0===e||e.clear(),this.headerView=null,null===(t=this.footerView)||void 0===t||t.clear(),this.footerView=null,A()(k()(n.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var t,r,i,a,o=e||{};A()(k()(n.prototype),"setup",this).call(this,o);var u=this.config.footerCompanion,s=this.config.headerCompanion;return S.a.isValue(u)&&0<(null===(t=u.size)||void 0===t?void 0:t.width)&&0<(null===(r=u.size)||void 0===r?void 0:r.height)&&(this.footerView=new hn(u),this.footerView.delegate=this,this.footerFrame.appendChild(this.footerView.element),this._footerFrameSize.width=Number(u.size.width),this._footerFrameSize.height=Number(u.size.height)),S.a.isValue(s)&&0<(null===(i=s.size)||void 0===i?void 0:i.width)&&0<(null===(a=s.size)||void 0===a?void 0:a.height)&&(this.headerView=new pn(s.src),this.headerView.delegate=this,this.headerFrame.appendChild(this.headerView.element),this._headerFrameSize.width=Number(s.size.width),this._headerFrameSize.height=Number(s.size.height)),this}},{key:"headerFrameDefaultSize",get:function(){returmeDefaultSize",get:function(){return this._footerFrameSize}}]),n}(cn),pn=function(e){M()(n,e);var t=dn(n);function n(e,r){var i;l()(this,n);var a={attributes:{id:"dac-ivt-header"},style:{position:"relative"},option:{layout:"contain",size:{width:"100%",height:"100%"},sources:{normal:e}}};return(i=t.call(this)).setup([].concat(r,a)),i}return n}(_e),hn=function(e){M()(n,e);var t=dn(n);function n(e,r){var i;l()(this,n);return(i=t.call(this)).setup(e,[].concat(r,{attributes:{id:"dac-ivt-footer"},option:{layout:"contain",ents,i)}else n=r.apply(this,arguments);return j()(this,n)}}S.a.namespace();var mn=function(e){M()(n,e);var t=yn(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"_leftCompanionSize",new r.IvtSize(0,0)),p()(Z()(e),"_rightCompanionSize",new r.IvtSize(0,0)),e}return d()(n,[{key:"clear",value:function(){this._leftCompanionSize=null,this._rightCompanionSize=null,A()(k()(n.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var t=e||{};A()(k()(n.prototype),"setup",this).call(this,t);var i=this.config.leftCompanion;if(i){this.leftCompanion=(new Te).setup(i,[{option:{size:{width:"100%",height:"100%"}}}]),this.leftCompanion.delegate=this,this.leftSideFrame.appendChild(this.leftCompanion.element),this._leftCompanionSize=new r.IvtSize(i.size)}var a=this.config.rightCompanion;if(a){this.rightCompanion=(new Te).setup(a,[{option:{size:{width:"100%",height:"100%"}}}]),this.rightCompanion.delegate=this,this.rightSideFrame.appendChild(this.rightCompanion.element),this._rightCompanionSize=new r.IvtSize(a.size)}return this}},{key:"closeButtonSize",get:function(){return we.billboardCloseButtonSize}},{key:"detailButtonSize",get:function(){return we.billboardDetailButtonSize}},{key:"loadingButtonSize",get:function(){return we.billboardLoadingButtonSize}},{key:"replayButtonSize",get:function(){return we.billboardReplayButtonSize}},{key:"volumeButtonSize",get:function(){return we.billboardVolumeButtonSize}},{key:"leftSideFrameDefaultSize",get:function(){return this._leftCompanionSize}},{key:"rightSideFrameDefaultSize",get:function(){return this._rightCompanionSize}}]),n}(vn);function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}function An(e){var t=e,n=new r.IvtSize(0,0),i=t.element.getClientSize(),a=i.width,o=i.height,u=t.playerFrameDefaultSize;if(u.height<=0)return n;if(t.element.parentElement.style.height.includes("auto")){var s=a-u.width;n.width=0<s?s:0,n.height=u.height}else{var l=a-(u.width*(o/u.height)||0);n.width=0<l?l:0,n.height=o}return n}function wn(e){var t=e,n=new r.IvtSize(0,0),i=t.element.getClientSize(),a=i.width,o=i.height,u=t.playerFrameDefaultSize;if(u.width<=0)return n;var s=u.height*(a/u.width)||0;if(t.element.parentElement.style.height.includes("auto"))n.width=a,n.height=s;else{var l=o-s;n.width=a,n.height=0<l?l:0}return n}var kn=function(e){M()(n,e);var t=gn(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"_companionView",null),p()(Z()(e),"_prButton",null),e}return d()(n,[{key:"clear",value:function(){this._companionView.clear(),this._companionView=null,this._prButton.clear(),this._prButton=null,A()(k()(n.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var t=e||{};A()(k()(n.prototype),"setup",this).call(this,t);var r=this.config.infeedStyle;if(S.a.isBlank(r)||this.footerView)return this;var a=function(e){var t=null==e?void 0:e.text.adTitle.textContent,n=null==e?void 0:e.text.advertiser.textContent,r=null==e?void 0:e.text.description.textContent;if(S.a.isBlank(t)||S.a.isBlank(r)||S.a.isBlank(n))return null;var a={style:{cursor:"pointer"}};e.area&&S.a.deepMerge(a.style,e.area.style);var o=(new Ve).setup("div",a);if(o.element.style.position="relative",o.element.style.width="100%",o.element.style.height="100%",S.a.isObject(e.text.adTitle.style)){var u=i.createElement("span");u.textContent=t,S.a.deepMerge(u.style,e.text.adTitle.style),o.element.appendChild(u)}if(S.a.isObject(e.text.description.style)){var s=i.createElement("span");s.textContent=r,S.a.deepMerge(s.style,e.text.description.style),o.element.appendChild(s)}if(S.a.isObject(e.text.advertiser.style)){var l=i.createElement("span");l.textContent=n,S.a.deepMerge(l.style,e.text.advertiser.style),o.element.appendChild(l)}return o}(r);if(a&&S.a.isPresent(r.area)&&S.a.isPresent(r.area.position)){switch(r.area.position){case"left":this.leftSideFrame.appendChild(a.element);break;case"right":this.rightSideFrame.appendChild(a.element);break;case"top":this.headerFrame.appendChild(a.element);break;case"bottom":this.footerFrame.appendChild(a.element)}a.element.parentElement&&(a.delegate=this,this._companionView=a)}var o=function(e){var t=(e||{}).infeedStyle||{};if(S.a.isBlank(t.prButton))return null;var n={};t.prButton.style&&(n.style={},S.a.deepMerge(n.style,t.prButton.style));if(S.a.isString(t.prButton.position)){switch(t.prButton.position.trim()){case"leftTop":n.option={top:"3px",left:"3px"};break;case"rightTop":n.option={top:"3px",right:"3px"};break;case"leftBottom":n.option={bottom:"3px",left:"3px"};break;case"rightBottom":n.option={bottom:"3px",right:"3px"}}n.option.size=we.infeedPrButtonSize}return new rt([n])}({infeedStyle:r});return o&&(o.delegate=this,this.appendView(o),this._prButton=o),this}},{key:"onViewClick",value:function(e){e===this._companionView?this.onUserVideoClick():A()(k()(n.prototype),"onViewClick",this).call(this,e)}},{key:"closeButtonSize",get:function(){return we.infeedCloseButtonSize}},{key:"detailButtonSize",get:function(){return we.infeedDetailButtonSize}},{key:"loadingButtonSize",get:function(){return we.infeedLoadingButtonSize}},{key:"replayButtonSize",get:function(){return we.infeedReplayButtonSize}},{key:"volumeButtonSize",get:function(){return we.infeedVolumeButtonSize}},{key:"leftSideFrameDefaultSize",get:function(){var e,t;return this.leftSideFrame===(null===(e=this._companionView)||void 0===e||null===(t=e.element)||void 0===t?void 0:t.parentElement)?An(this):new r.IvtSize(0,0)}},{key:"rightSideFrameDefaultSize",get:function(){var e,t;return this.rightSideFrame===(null===(e=this._companionView)||void 0===e||null===(t=e.element)||void 0===t?void 0:t.parentElement)?An(this):new r.IvtSize(0,0)}},{key:"headerFrameDefaultSize",get:function(){var e,t;return this.headerFrame===(null===(e=this._companionView)||void 0===e||null===(t=e.element)||void 0===t?void 0:t.parentElement)?wn(this):new r.IvtSize(0,0)}},{key:"footerFrameDefaultSize",get:function(){var e,t;return this.footerView?A()(k()(n.prototype),"footerFrameDefaultSize",this):this.footerFrame===(null===(e=this._companionView)||void 0===e||null===(t=e.element)||void 0===t?void 0:t.parentElement)?wn(this):new r.IvtSize(0,0)}}]),n}(vn);function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Sn=S.a.namespace(),Cn=we.inreadVolumeOffButtonSrc,xn=we.inreadVolumeOnButtonSrc,En=we.inreadRTVolumeButtonSize,Vn=we.inreadTimeBarSize,Bn=we.inreadVolumeBarSize,In=we.inreadVolumeButtonSize,Rn=we.inreadVolumeSliderSize,Pn=function(e){M()(f,e);var t,n,r,a,o,s,c=bn(f);function f(){var e;l()(this,f),e=c.call(this),p()(Z()(e),"_requestId",void 0),e._requestId=null;var t=Sn(Z()(e));return t.volumeBar=null,t.volumeButtonOnBar=null,t.volumeSlider=null,t.timeBar=null,e}return d()(f,[{key:"clear",value:function(){Fn(this);var e=Sn(this);e.volumeButtonOnBar&&e.volumeButtonOnBar.clear(),e.volumeButtonOnBar=null,delete e.volumeButtonOnBar,e.volumeSlider&&e.volumeSlider.clear(),e.volumeSlider=null,delete e.volumeSlider,e.volumeBar&&e.volumeBar.clear(),e.volumeBar=null,delete e.volumeBar,e.timeBar&&e.timeBar.clear(),e.timeBar=null,delete e.timeBar,A()(k()(f.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var t,n,r;(A()(k()(f.prototype),"setup",this).call(this,e),null===(t=this.closeButton)||void 0===t||t.clear(),this.closeButton=null,null===(n=this.detailButton)||void 0===n||n.clear(),this.detailButton=null,0<qr.configStore.adService.autoCloseDuration)&&(null===(r=this.replayButton)||void 0===r||r.clear(),this.replayButton=null);return function(e){var t=e,n=Sn(t);fe.deviceType===u.IvtDeviceType.PC&&(fe.browserType===u.IvtBrowserType.Safari&&11<=fe.browserVersion&&fe.browserVersion<13||(t.playerSlot.onMouseover=function(e){!function(e){var t=Sn(e);t.volumeBar.show(),t.volumeSlider.show(),t.volumeButtonOnBar.show()}(t)},t.playerSlot.onMouseout=function(){!function(e){var t=Sn(e);t.volumeBar.hide(),t.volumeSlider.hide(),t.volumeButtonOnBar.hide()}(t)}));n.timeBar=(r=i.createElement("timebar"),r.style.backgroundColor="#FFD700",r.style.position="absolute",r.style.left="0px",r.style.bottom="0px",r.style.zIndex="20",r.size=Vn,r),t.playerSlot.element.appendChild(n.timeBar),n.volumeBar=function(e,t){var n=i.createElement("volumeBar");return n.style.backgroundColor="#999999",n.style.opacity="0.5",n.style.position="absolute",n.style.right="0px",n.style.top="0px",n.style.zIndex="20",n.size=Bn,n}(),n.volumeBar.hide(),t.playerSlot.element.appendChild(n.volumeBar),n.volumeSlider=function(e,t){var n=e,r=t||{},i=(new Tn).setup(r);return i.delegate=n,i}(t),n.volumeSlider.hide(),t.playerSlot.appendView(n.volumeSlider),n.volumeButtonOnBar=function(e){var t=e,n=new Je({option:{top:"5px",right:"110px",size:En,sources:{normal:Cn}}});return n.volumeOffButtonSrc=Cn,n.volumeOnButtonSrc=xn,n.delegate=t,n}(t),n.volumeButtonOnBar.hide(),t.playerSlot.appendView(n.volumeButtonOnBar);var r}(this),this}},{key:"createVolumeButton",value:function(){var e=new Je({option:{bottom:"5px",right:"5px",size:In,sources:{normal:Cn}}});return e.volumeOffButtonSrc=Cn,e.volumeOnButtonSrc=xn,e.delegate=this,e}},{key:"playing",value:(s=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(f.prototype),"playing",this).call(this);case 2:_n(this);case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"paused",value:(o=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(f.prototype),"paused",this).call(this);case 2:Fn(this);case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"ended",value:(a=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(f.prototype),"ended",this).call(this,t);case 2:Fn(this),(n=Sn(this)).timeBar&&(n.timeBar.w=0);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"muted",value:(r=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(f.prototype),"muted",this).call(this);case 2:(t=Sn(this)).volumeButtonOnBar&&t.volumeButtonOnBar.mute();case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"unmuted",value:(n=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(f.prototype),"unmuted",this).call(this);case 2:(t=Sn(this)).volumeButtonOnBar&&t.volumeButtonOnBar.unmute(),t.volumeSlider.element.value=100*this.player.volume;case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"volumeChange",value:(t=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A()(k()(f.prototype),"volumeChange",this).call(this,t);case 2:n=Sn(this),0<t?n.volumeSlider&&(n.volumeSlider.element.value=100*t):0===t&&n.volumeSlider&&(n.volumeSlider.element.value=0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"updateLayout",value:function(){var e=A()(k()(f.prototype),"updateLayout",this).call(this),t=Sn(this),n=this.element.w;return t.volumeBar&&t.volumeBar.wh(n,32),e}},{key:"onUserVolumeChange",value:function(){var e=Sn(this).volumeSlider.element.value;if(e){var t,n=e/100;null===(t=this.delegate)||void 0===t||t.onUserVolumeChange(n)}}}]),f}(cn);function _n(e){var t=e;if(!t._requestId){t._requestId=window.requestAnimationFrame((function e(){On(t),t._requestId=window.requestAnimationFrame(e)}))}}function Fn(e){var t=e;t._requestId&&(window.cancelAnimationFrame(t._requestId),t._requestId=null),On(t)}function On(e){var t=e,n=t.player;if(n){var r=Sn(t),i=n.duration,a=n.currentTime,o=t.element.w,u=r.timeBar.w;0<i&&(u=o*a/i),o<u&&();var t=bn(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"setup",value:function(e){var t=e||{};return A()(k()(n.prototype),"setup",this).call(this,{type:"range",value:0,style:{position:"absolute"}}),this.element.className="dac-ivt-volume-slider",this.element.size=Rn,this.element.style.padding="0",this.element.style.top="14px",this.element.style.right="20px",this.element.style.zIndex="20",Object.assign(this.element.style,t),this}},{key:"onInput",value:function(e){var t,n;null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}},{key:"onChange",value:function(e){var t,n;null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}},{key:"onClick",value:function(e){var t,n;null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}}]),n}(Oe),Un=Pn,zn=we.closeButtonSize,Dn=we.volumeButtonSize,Ln=function(){function e(){l()(this,e)}return d()(e,null,[{key:"create",value:function(e){if(S.a.isBlank(e.adContainerId))throw new Error('"setup(); failed; Not declared adContainerId;"');return Mn.create(this,e)}}]),e}(),Mn=function(){function e(){l()(this,e)}return d()(e,null,[{key:"create",value:function(t,n){var r,i,a=null==n?void 0:n.adContainerId,o=null,u=null;S.a.isValue(null==n||null===(r=n.config)||void 0===r?void 0:r.closeButton)&&(o=e.createCloseButton()),S.a.isValue(null==n||null===(i=n.config)||void 0===i?void 0:i.volumeButton)&&(u=e.createVolumeButton());var s=(new at).setup({adContainerId:a,closeButton:o,volumeButton:u});return s.element.style.top="-26px",s.element.style.left="0px",s.element.style.width="100%",s.element.style.height="24px",s.element.style.position="absolute",s}},{key:"createCloseButton",value:function(){return new Ze({option:{right:"3px",size:zn}})}},{key:"createVolumeButton",value:function(){return new Je({option:{left:"3px",size:Dn}})}}]),e}();function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var jn=function(e){M()(f,e);var t,n,r,i,a,o,u,s,c=Nn(f);function f(){return l()(this,f),c.call(this)}return d()(f,[{key:"didAdLoad",value:(s=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.loaded();case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"didAdStart",value:(u=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.playing();case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"didAdPlay",value:(o=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.playing();case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"didAdPause",value:(a=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.paused();case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"didAdStop",value:(i=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.ended();case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"didAdReplay",value:(r=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.playing();case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"didAdMute",value:(n=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.muted();case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"didAdUnmute",value:(t=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.unmuted();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onUserClose",value:function(){Ki.userAction.close(this.adContainerId)}},{key:"onUserVolumeSwitch",value:function(){qr.adStore.isMuted?Ki.userAction.unmute():Ki.userAction.mute()}},{key:"adContainerId",get:function(){return this.view.adContainerId}},{key:"view",get:function(){return A()(k()(f.prototype),"view",this)}}]),d()(f,[{key:"setup",value:function(e){return A()(k()(f.prototype),"setup",this).call(this,e),this}}]),f}(kt),Wn=function(){function e(){l()(this,e)}return d()(e,null,[{key:"create",value:function(e){var t=null==e?void 0:e.view;return(new jn).setup({view:t})}}]),e}();n(112);function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Hn=function(e){M()(h,e);var t,n,r,i,a,o,u,s,c,f=Qn(h);function h(){var e;return l()(this,h),e=f.call(this),p()(Z()(e),"_callbacks",void 0),p()(Z()(e),"_creative",void 0),p()(Z()(e),"_vastDuration",void 0),e}return d()(h,[{key:"setCreative",value:function(e){S.a.isPresent(e)?(this.setCreative(void 0),this._creative=e,qn.subscribeToCreative(this)):(qn.unsubscribeToCreative(this),this._creative=void 0)}},{key:"validateLoadParameter",value:function(e){if(S.a.isBlank(e))throw new Error('"VpaidVideoView::load(); failed; parameter is blank;"');var t=null==e?void 0:e.width;if(S.a.isBlank(t))throw new Error('"VpaidVideoView::load(); failed; parameter.width is blank;"');var n=null==e?void 0:e.height;if(S.a.isBlank(n))throw new Error('"VpaidVideoView::load(); failed; parameter.height is blank;"');var r=null==e?void 0:e.viewMode;if(S.a.isBlank(r))throw new Error('"VpaidVideoView::load(); failed; parameter.viewMode is blank;"');var i=null==e?void 0:e.desiredBitrate;if(S.a.isBlank(i))throw new Error('"VpaidVideoView::load(); failed; parameter.desiredBitrate is blank;"');if(S.a.isBlank(null==e?void 0:e.creativeData))throw new Error('"VpaidVideoView::load(); failed; parameter.creativeData is blank;"');if(S.a.isBlank(null==e?void 0:e.environmentVars))throw new Error('"VpaidVideoView::load(); failed; parameter.environmentVars is blank;"')}},{key:"videoLoad",value:(c=m()(v.a.mark((function e(t){var n=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n._creative.subscribe((function t(r){n._creative.unsubscribe(t,"AdLoaded"),n._lastVolume=qn.getVolume(n),e(!0)}),"AdLoaded",n);var i=t.width,a=t.height,o=t.viewMode,u=t.desiredBitrate,s=t.creativeData,l=t.environmentVars;n._creative.initAd(i,a,o,u,s,l)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"videoUnload",value:(s=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this._creative)||void 0===t||null===(n=t.stopAd)||void 0===n||n.call(t);case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"videoStart",value:(u=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this._creative)||void 0===t||null===(n=t.startAd)||void 0===n||n.call(t);case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"videoStop",value:(o=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this._creative)||void 0===t||null===(n=t.stopAd)||void 0===n||n.call(t);case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"videoResume",value:(a=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this._creative)||void 0===t||null===(n=t.resumeAd)||void 0===n||n.call(t);case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"videoPause",value:(i=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=this._creative)||void 0===t||null===(n=t.pauseAd)||void 0===n||n.call(t);case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"videoMute",value:(r=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.videoElement.muted=!0,this.videoVolumeChange(0);case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"videoUnmute",value:(n=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.videoElement.muted=!1,this.videoVolumeChange(1);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"videoVolumeChange",value:(t=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=this._creative)||void 0===n||null===(r=n.setAdVolume)||void 0===r||r.call(n,t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onVpaidAdStarted",value:function(){Yn.onVpaidAdStarted(this)}},{key:"onVpaidAdStopped",value:function(){Yn.onVpaidAdStopped(this)}},{key:"onVpaidAdPlaying",value:function(){Yn.onVpaidAdPlaying(this)}},{key:"onVpaidAdPaused",value:function(){Yn.onVpaidAdPaused(this)}},{key:"onVpaidAdVolumeChange",value:function(){Yn.onVpaidAdVolumeChange(this)}},{key:"onVpaidAdVideoStart",value:function(){Yn.onVpaidAdVideoStart(this)}},{key:"onVpaidAdVideoFirstQuartile",value:function(){Yn.onVpaidAdVideoFirstQuartile(this)}},{key:"onVpaidAdVideoMidpoint",value:function(){Yn.onVpaidAdVideoMidpoint(this)}},{key:"onVpaidAdVideoThirdQuartile",value:function(){Yn.onVpaidAdVideoThirdQuartile(this)}},{key:"onVpaidAdVideoComplete",value:function(){Yn.onVpaidAdVideoComplete(this)}},{key:"onVpaidAdImpression",value:function(){Yn.onVpaidAdImpression(this)}},{key:"onVpaidAdDurationChange",value:function(){Yn.onVpu",value:function(e,t,n){Yn.onVpaidAdClickThru(this,e,t,n)}},{key:"onVpaidAdUserClose",value:function(){Yn.onVpaidAdUserClose(this)}},{key:"onVpaidAdExpandedChange",value:function(){Yn.onVpaidAdExpandedChange(this)}},{key:"onVpaidAdSkipped",value:function(){Yn.onVpaidAdSkipped(this)}},{key:"onVpaidAdUserAcceptInvitation",value:function(){Yn.onVpaidAdUserAcceptInvitation(this)}},{key:"onVpaidAdUserMinimize",value:function(){Yn.onVpaidAdUserMinimize(this)}},{key:"onVpaidAdError",value:function(e){Yn.onVpaidAdError(this,e)}},{key:"onVpaidAdLog",value:function(e){Yn.onVpaidAdLog(this,e)}},{key:"setup",value:function(e){A()(k()(h.prototype),"setup",this).call(this,null==e?void 0:e.videoElement),qn.reset(this);var t=null==e?void 0:e.duration;return 0<t&&(this._vastDuration=t),this}},{key:"clear",value:function(){qn.reset(this),A()(k()(h.prototype),"clear",this).call(this)}}]),d()(h,[{key:"adDuration",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdDuration)||void 0===t?void 0:t.call(e)}},{key:"adVolume",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdVolume)||void 0===t?void 0:t.call(e)}},{key:"adLinear",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdLinear)||void 0===t?void 0:t.call(e)}},{key:"adWidth",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdWidth)||void 0===t?void 0:t.call(e)}},{key:"adHeight",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdHeight)||void 0===t?void 0:t.call(e)}},{key:"adExpanded",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdExpanded)||void 0===t?void 0:t.call(e)}},{key:"adSkippableState",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdSkippableState)||void 0===t?void 0:t.call(e)}},{key:"adCompanions",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdCompanions)||void 0===t?void 0:t.call(e)}},{key:"adIcons",get:function(){var e,t;return null===(e=this._creative)||void 0===e||null===(t=e.getAdIconsll===(t=e.getAdRemainingTime)||void 0===t?void 0:t.call(e)}}]),h}(Ot),qn=function(){function e(){l()(this,e)}return d()(e,null,[{key:"getProgress",value:function(e){var t,n,r=e.duration,i=null===(t=e._vpaid)||void 0===t?void 0:t.adRemainingTime;if(0<r&&0<=i){var a=r-i;return 0<a?a:0}var o=null===(n=e.videoElement)||void 0===n?void 0:n.currentTime;if(0<=o){return o<r?o:r}return NaN}},{key:"getDuration",value:function(e){var t,n=e.adDuration;return 0<n||0<(n=null===(t=e.videoElement)||void 0===t?void 0:t.duration)||0<(n=e._vastDuration)?(e._lastDuration=n,n):NaN}},{key:"getVolume",value:function(e){var t,n=e.adVolume;return 0<=n||0<=(n=null===(t=e.videoElement)||void 0===t?void 0:t.volume)?n:0}},{key:"subscribeToCreative",value:function(e){var t=e._creative;if(!S.a.isBlank(t)){var n=new Map;n.set("AdStarted",(function(){e.onVpaidAdStarted()})),n.set("AdStopped",(function(){e.onVpaidAdStopped()})),n.set("AdPlaying",(function(){e.onVpaidAdPlaying()})),n.set("AdPaused",(function(){e.onVpaidAdPaused()})),n.set("AdVolumeChange",(function(){e.onVpaidAdVolumeChange()})),n.set("AdVideoStart",(function(){e.onVpaidAdVideoStart()})),n.set("AdVideoFirstQuartile",(function(){e.onVpaidAdVideoFirstQuartile()})),n.set("AdVideoMidpoint",(function(){e.onVpaidAdVideoMidpoint()})),n.set("AdVideoThirdQuartile",(function(){e.onVpaidAdVideoThirdQuartile()})),n.set("AdVideoComplete",(function(){e.onVpaidAdVideoComplete()})),n.set("AdImpression",(function(){e.onVpaidAdImpression()})),n.set("AdDurationChange",(fun"AdClickThru",(function(t,n,r){e.onVpaidAdClickThru(t,n,r)})),n.set("AdUserClose",(function(){e.onVpaidAdUserClose()})),n.set("AdExpandedChange",(function(){e.onVpaidAdExpandedChange()})),n.set("AdSkipped",(function(){e.onVpaidAdSkipped()})),n.set("AdUserAcceptInvitation",(function(){e.onVpaidAdUserAcceptInvitation()})),n.set("AdUserMinimize",(function(){e.onVpaidAdUserMinimize()})),n.set("AdError",(function(t){e.onVpaidAdError(t)}))aidAdLog(t)})),n.forEach((function(n,r){t.subscribe(n,r,e)})),e._callbacks=n}}},{key:"unsubscribeToCreative",value:function(e){var t,n=e._creative;S.a.i)||void 0===t||t.forEach((function(e,t){n.unsubscribe(e,t)})))}},{key:"reset",value:function(e){e.setCreative(void 0),e._vastDuration=-1}}]),e}(),Yn=function(){function e(){lge(!0),e.onVideoEndedChange(!1),e.onVideoPlayingChange(!0)}},{key:"onVpaidAdStopped",value:function(e){e.onVideoStartedChange(!1),e.onVideoPlayingChange(!1)}},{key:"onVpaidAdPlaying",value:function(e){e.onVideoEndedChange(!1),e.onVideoPlayingChange(!0)}},{key:"onVpaidAdPaused",value:function(e){this.vpaidIsEnded(e)&&e.onVideoEndedChange(!0),e.onVideoPlayingChange(!1)}},{key:"onVpaidAdVolumeChange",value:function(e){var t=e._lastVolume,n=qn.getVolume(e);e.onVideoVolumeChange(n),0===n&&0<t?e.onVideoMutedChange(!0):0===t&&0<n&&e.onVideoMutedChange(!1)}},{key:"onVpaidAdVideoStart",value:function(e){e.onVideoProgressChange(qn.getProgress(e)),e.onVideoProgressStart()}},{key:"onVpaidAdVideoFirstQuartile",value:function(e){e.onVideoProgressChange(qn.getProgress(e)),e.onVideoProgressFirstQuartile()}},{key:"onVpaidAdVideoMidpoint",value:function(e){e.onVideoProgressChange(qn.getProgress(e)),e.onVideoProgressMidpoint()}},{key:"onVpaidAdVideoThirdQuartile",value:function(e){e.onVideoProgressChange(qn.getProgress(e)),e.onVideoProgressThirdQuartile()}},{key:"onVpaidAdVideoComplete",value:function(e){e.onVideoProgressChange(qn.getProgress(e)),e.odeoProgressChange(qn.getProgress(e)),etion(e){var t=qn.getDuration(e);e.onVideoDurationChange(t)}},{key:"onVpaidAdClickThru",value:function(e,t,n,r){var i,a;null===(i=e.delegate)||void 0===i||null===(a=i.onVpaidAdClickThru)||void 0===a||a.call(i,e,t,n,r)}},{key:"onVpaidAdUserClose",value:function(e){var t,n;null===(t=e.delegate)||void 0===t||null===(n=t.onVpaidAdUserClose)||void 0===n||n.call(t,e)}},{key:"onVpaidAdExpandedChange",value:function(e){var t,n;null===(t=e.delegate)||void 0===t||null===(n=t.onVpaidAdExpandedChange)||void 0===n||n.call(t,e)}},{key:"onVpaidAdUserAcceptInvitation",value:function(e){var t,n;null===(t=e.delegate)||void 0===t||null===(n=t.onVpaidAdUserAcceptInvitation)||void 0===n||n.call(t,e)}},{key:"onVpaidAdUserMinimize",value:function(e){var t,n;null===(t=e.delegate)||void 0===t||null===(n=t.onVpaidAdUserMinimiz=t||null===(n=t.onVpaidAdSkipped)||void 0===n||n.call(t,e)}},{key:"onVpaidAdError",value:function(e,t){var n=null==t?void 0:t.message;S.a.isBlank(n)&&(n=S.a.isPresent(e.videoElement.error)?e.videoElement.error.message:"VpaidVideoView::onVpaidAdError(): an error has occurred;");var r=new J(n,u.IvtErrorCode.vpaid);e.onVideoError(r)}},{key:"onVpaidAdLog",value:function(e,t){null==t||t.message}},{key:"vpaidIsEnded",value:function(e){var t=qn.getProgress(e),n=e.duration;return 0<=t&&0<n&&n<=t+.1}}]),e}();function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Kn=function(e){M()(h,e);var t,n,r,i,a,o,u,s,c,f,p=Gn(h);function h(){return l()(this,h),p.call(tloadParameter);case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"willAdUnload",value:(c=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.unload();case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"willAdStart",value:(s=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.start();case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"willAdStop",value:(u=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.stop();case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"willAdPlay",value:(o=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.resume();case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"willAdPause",value:(a=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.pause();case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"willAdMute",value:(i=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.mute();case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"willAdUnmute",value:(r=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.unmute();case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"willAdVolumeChange",value:(n=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null==t?void 0:t.volume)||0,e.next=4,this.view.volumeChange(n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"willAdReplay",value:(t=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.view.start();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"init",value:function(e){return Zn.reset(this),A()(k()(h.prototype),"setup",this).call(this,e),this}},{key:"deinit",value:function(){Zn.reset(this),A()(k()(h.prototype),"clear",this).call(this)}},{key:"loadParameter",get:function(){throw new Error("AbstractAdVideoViewController::loadParameter(); need to implement;")}},{key:"view",get:function(){return A()(k()(h.prototype),"view",this)}}]),h}(kt),Zn=function(){function e(){l()(this,e)}return d()(e,null,[{key:"reset",value:function(e){}}]),e}();function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Jn=function(e){M()(n,e);var t=Xn(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"onVideoPlayingChange",value:function(e,t){if(null==t?void 0:t.isPlaying){var n=u.IvtPlayerPausedReason.pausing;Ki.adAction.play(n)}else{var r=u.IvtPlayerPausedReason.outview;e.isEnded&&(r=u.IvtPlayerPausedReason.ended),Ki.adAction.pause(r)}}},{key:"onVideoMutedChange",value:function(e,t){(null==t?void 0:t.isMuted)?Ki.userAction.mute():Ki.userAction.unmute()}},{key:"onVideoVolumeChange",value:function(e,t){var n=null==t?void 0:t.volume;Ki.userAction.volumeChange(n)}},{key:"onVideoEndedChange",value:function(e,t){var n=null==t?void 0:t.isEnded;Ki.adAction.videoEndedChange(n)}},{key:"onVideoProgressChange",value:function(e,t){var n=t.progress,r=t.duration;Ki.adAction.videoProgress(n,r)}},{key:"onVideoProgressStart",value:function(e,t){var n=t.progress,r=t.duration;Ki.adAction.videoStart(n,r)}},{key:"onVideoProgressFirstQuartile",value:function(e,t){var n=t.progress,r=t.duration;Ki.adAction.videoFirstQuartile(n,r)}},{key:"onVideoProgressMidpoint",value:function(e,t){var n=t.progress,r=t.duration;Ki.adAction.videoMidpoint(n,r)}},{key:"onVideoProgressThirdQuartile",value:function(e,t){var n=t.progress,r=t.duration;Ki.adAction.vidr n=t.progress,r=t.duration;Ki.adAction.videoComplete(n,r)}},{key:"onVideoImpression",value:function(e,t){t.progress;Ki.adAction.impression()}},{key:"onVideoError",value:function(e,t){var n=null==t?void 0:t.error,r=null==n?void 0:n.code,i=null==n?void 0:n.message,a=u.IvtErrorCode.linearNotDisplayMediaFile;switch(r){case MediaError.MEDIA_ERR_ABORTED:break;case MediaError.MEDIA_ERR_DECODE:a=u.IvtErrorCode.linearUnsupportedCodecs;break;case MediaError.MEDIA_ERR_NETWORK:a=u.IvtErrorCode.linearTimeout;break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:a=u.IvtErrorCode.linearNotFound}Ki.adAction.raiseError(a,i)}},{key:"init",value:function(e){return A()(k()(n.prototype),"init",this).call(this,e),this}},{key:"deinit",value:function(){A()(k()(n.prototype),"deinit",this).call(this)}},{key:"view",get:function(){return Aeter",get:function(){return{url:qr.adStore.vast.media.uri}}}]),n}(Kn);function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var er=function(e){M()(n,e);var t=$n(n);function n(){return l()(this,n),t.call(this)}return d()(n,[{key:"onVideoStartedChange",value:function(e,t){(null==t?void 0:t.isStarted)||Ki.adAction.stop()}},{key:"onVideoPlayingChange",value:function(e,t){if(null==t?void 0:t.isPlaying){var n=u.IvtPlayerPausedReason.pausing;Ki.userAction.play(n)}else{var r=!0,i=u.IvtPlayerPausedReason.vpaid;e.isEnded&&(r=!1,i=u.IvtPlayerPausedReason.ended),r?Ki.userAction.pausehru",value:function(e,t,n,r){Ki.userAction.videoClick(t,r)}},{key:"onVpaidAdUserClose",value:function(e){Ki.userAction.close()}},{key:"onVpaidAdExpandedChange",value:function(e){Ki.userAction.expand()}},{key:"onVpaidAdSkipped",value:function(e){Ki.userAction.skip()}},{key:"onVpaidAdUserAcceptInvitation",value:function(e){Ki.userActAdUserMinimize",value:functe:function(e){Ki.action.raiseError(u.IvtErrorCode.vpaid,e)}},{key:"onVpaidAdDurationChange",value:function(){}},{key:"view",get:function(){return A()(k()(n.prototype),"view",this)}},{key:"loadParameter",get:function(){qr.adStore.vast;var e,t,n,r,i,a=null===(e=qr.adStore.vast)||void 0===e?void 0:e.adParameters,o=null===(t=qr.adStore.vast)||void 0===t?void 0:t.media,u=null==o?void 0:o.width,s=null==o?void 0:o.height,l=null==o?void 0:o.bitrate;return{width:isFinite(u)?u:640,height:isFinite(s)?s:360,viewMode:"normal",desiredBitrate:l,creativeData:{AdParameters:a},environmentVars:{slot:null===(n=qr.primaryAdContainer.view)||void 0===n||null===(r=n.adView)||void 0===r||null===(i=r.playerSlot)||void 0===i?void 0:i.element,videoSlot:this.view.videoElement,videoSlotCanAutoPlay:!0}}}}]),n}(Jn);function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.}var nr=function(){function e(t){l()(this,e),this.config=t}return d()(e,[{key:"createAdView",value:function(){return null}},{key:"createAdViewController",value:function(){return new Kt}},{key:"createVideoView",value:function(){var e,t=this.config,n=qr.videoElement,r=null;if(qr.configStore.primaryConfig===t)if(null===(e=t.adVpaid)||void 0===e?void 0:e.isVpaid){var i,a=null===(i=t.adVpaid)||void 0===i?void 0:i.duration;r=(new Hn).setup({videoElement:n,duration:a}),(new er).setup({view:r}),r.show()}else r=(new Qt).setup({videoElement:n}),(new Jn).setup({view:r}),r.show();else r=(new zt).setup({videoElement:n}),(new Lt).setup({view:r}),r.show();return r}},{key:"build",value:function(){var e=this.config,t=e.adContainerId,n=this.createVideoView(),r=this.createAdView();r.setup({adContainerId:t,videoView:n});var i=this.createAdViewController();i.setup({adContainerId:t,view:r});var a=[];e.masks&&e.masks.forEach((function(e){var n=(new Ie).setup({adContainerId:t,config:e});a.push(n)}));var o=void 0,u=void 0;e.toolbar&&(o=Ln.create({adContainerId:t,config:e.toolbar}),u=Wn.create({view:o}));var s={id:t,adView:r,adMaskViews:a,adToolbarView:o,config:e},l=void 0;switch(e.adContainerType){case"interstitial":l=(new pt).setup(s);break;case"adhesion":l=(new ht).setup(s);break;case"overlay":l=(new vt).setup(s);break;case"wipe":l=(new yt).setup(s);break;default:l=(new ft).setup(s)}var c=(new St).setup({view:l});return{adView:r,adViewController:i,adMaskViews:a,adToolbarView:o,adToolbarController:u,containerView:l,containerViewController:c}}},{key:"playerVolume",get:function(){return 1}}]),e}(),rr=function(e){M()(n,e);var t=tr(n);function n(e){return l()(this,n),t.call(this,e)}return d()(n,[{key:"createAdView",value:function(){return new jt}}]),n}(nr),ir=function(e){M()(n,e);var t=tr(n);function n(e){return l()(this,n),t.call(this,e)}return d()(n,[{key:"createAdView",value:function(){return new vn}}]),n}(nr),ar=function(e){M()(n,e);var t=tr(n);function n(e){return l()(this,n),t.call(this,e)}return d()(n,[{key:"createAdView",value:function(){return new mn}}]),n}(nr),or=function(e){M()(n,e);var t=tr(n);function n(e){return l()(this,n),t.call(this,e)}return d()(n,[{key:"createAdView",value:function(){return new kn}}]),n}(nr),ur=function(e){M()(n,e);var t=tr(n);function n(e){return l()(this,n),t.call(this,e)}return d()(n,[{key:"createAdView",value:function(){return new Un}},{key:"playerVolume",get:function(){return.5}}]),n}(nr),sr=function(e){M()(n,e);var t=tr(n);function n(e){return l()(this,n),t.call(this,e)}return d()(n,[{key:"createAdView",value:function(){return new on}},{key:"createAdViewController",value:function(){return new sn}}]),n}(nr),lr=function(e){M()(n,e);var t=tr(n);function n(e){return l()(this,n),t.call(this,e)}return d()(n,[{key:"createAdView",value:function(){return new Vt}},{key:"createAdViewController",value:function(){rar t=tr(n);function n(e){return l()(this,n),t.call(this,e)}return d()(n,[{key:"createAdView",value:funey:"createAdViewController",value:function(){return new It}}]),n}(nr),dr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"create",value:function(e){if(e.adVpaid.isVpaid)return new sr(e);var t=e.adFrameType,n=e.adInterface;if("player"===t)switch(n){case"blank":return new rr(e);case"infeed":return new or(e);case"inread":return new ur(e);case"billboard":return new ar(e);case"sva":return new ir(e);default:return null}if("reminder"===t)switch(n){case"text":return new lr(e);case"image":return new cr(e);default:return null}return null}}]),e}();var fr=function(){function e(){l()(this,e),p()(this,"rootAdContainer",null),p()(this,"adContainers",[]),p()(this,"presentedAdContainerStack",[]),p()(this,"currentAdViewController",null),p()(this,"_videoView",null),p()(this,"_hasSubAdContainer",!1),p()(this,"_hasReminder",!1),p()(this,"_currentWidth",null),p()(this,"_styleElement",null)}return d()(e,[{key:"init",value:function(){var e=this;qr.adContainerStore.setCurrentWidth(S.a.viewportWidth),function(e){var t=e,n=qr.configStore.config,r="dac-adcontainer-root";S.a.isValue(n.placementId)&&(r+="-".concat(n.placementId));var i=(new dt).setup({id:r,adView:null});t.rootAdContainer=(new St).setup({view:i});var a=n.adPresentation.targetElement;a.parentElement.insertBefore(t.rootAdContainer.view.element,a)}(this),qr.configStore.adPresentation.adContainerGroup.forEach((function(t,n){"normal"!==t.adContainerType&&(e._hasSubAdContainer=!0),"reminder"===t.adFrameType&&(e._hasReminder=!0);var r,i=(r=t,dr.create(r).build().containerViewController);i.view;e.addAdContainer(i)}))}},{key:"clear",value:function(){}},{key:"addAdContainer",value:function(e){this.rootAdContainer.view.appendView(e.view),this.adContainers.push(e)}},{key:"remove",value:function(e){var t=this,n=this.getAdContainer(e);n&&(this.presentedAdContainerStack=this.presentedAdContainerStack.filter((function(e){return e!==n})),this.adContainers=this.adContainers.filter((function(e){return e!==n})),this.rootAdContainer.view.removeView(n.view),this._hasSubAdContainer&&(this._hasSubAdContainer=!1,this.adContainers.forEach((function(e){"normal"!==e.view.type&&(t._hasSubAdContainer=!0)}))))}},{key:"isPrimary",value:function(e){retururn this.adContainers.find((fuy:"setCurrentWidth",value:functdAdContainerStack[this.presentearyAdContainer",get:function(){return this.adContainers[0]}},{key:"hasSubAdContainer",get:function(){return this._hasSubAdContainer}},{key:"hasReminder",getaryAdContainer.view.adView)||void 0===e?void 0:e.videoView}},{key:"currentWidth",get:function(){return this._currentWidth}}]),e}();function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);),"_adService",void 0),p()(Z()(e),"_placementId",void 0),e}return d()(n,[{key:"init",value:function(e){return A()(k()(n.prototype),"init",this).call(this),this._adPresentation=e.adPresentation,this._adService=e.adService,this._placementId=e.placementId,this}},{key:"reset",value:function(){this._placementId=null,this._adPresentation=null,this._adService=null,A()(k()(n.prototype),"reset",this).call(this)}},{key:"adPresentation",get:function(){return this._adPresentation}},{key:"adService",get:function(){return this._adService}},{key:"placementId",get:function(){return this._placementId}}]),n}(me),vr=(n(208),n(209),function(){function e(){l()(this,e)}return d()(e,null,[{key:"generate",value:function(e){try{var t=null;return S.a.isObject(e)&&(t=S.a.deepClone(e),yr.translateIvtOption(t)),t}catch(n){throw n}}}]),e}()),yr=function(){function e(){l()(this,e)}return d(=function(t){e.convertIvtOption(t),e.normalizeIvtOption(t)};n(t),t.talue(t.adContainers,(function(t,n){e.translateIvtOption(t)}))}},{key:"convertIvtOption",value:function(e){S.a.isValue(e.type)&&S.a.isNil(e.adContainerType)&&(e.adContainerType=e.type,delete e.type),S.a.toBool(e.adhesion)&&S.a.isNil(e.adContainerType)&&(e.adContainerType="adhesion",delete e.adhesion),S.a.toBool(e.interstitial)&&S.a.isNil(e.adContainerType)&&(e.adContainerType="interstitial",delete e.interstitial),S.a.toBool(e.overlay)&&S.a.isNil(e.adContainerType)&&(e.adContainerType="overlay",delete e.overlay),S.a.toBool(e.wipe)&&S.a.isNil(e.adContainerType)&&(e.adContainerType="wipe",delete e.wipe);S.a.isValue(e.interface)&&S.a.isNil(e.adInterface)&&(e.adInterface=e.interface,delete e.interface);S.a.isValue(e.wrapperWidth)&&S.a.isNil(e.width)&&(e.width=e.wrapperWidth,delete e.wrapperWidth),S.a.isValue(e.wrapperHeight)&&S.a.isNil(e.height)&&(e.height=e.wrapperHeight,delete e.wrapperHeight),S.a.isValue(e.wrapperZindex)&&S.a.isNil(e.zIndex)&&(e.zIndex=e.wrapperZindex,delete e.wrapperZindex),S.a.isValue(e.noCloseButton)&&S.a.isNil(e.closeButton)&&(e.closeButton=!S.a.toBool(e.noCloseButton),delete e.noCloseButton),S.a.isValue(e.noDetailButton)&&S.a.isNil(e.detailButton)&&(e.detailButton=!S.a.toBool(e.noDetailButton),delete e.noDetailButton),S.a.isValue(e.noReplayButton)&&S.a.isNil(e.replayButton)&&(e.replayButton=!S.a.toBool(e.noReplayButton),delete e.noReplayButton),S.a.isValue(e.noVolumeButton)&&S.a.isNil(e.volumeButton)&&(e.volumeButton=!S.a.toBool(e.noVolumeButton),delete e.noVolumeButton),S.a.isValue(e.adMark)&&S.a.isNil(e.admarkButton)&&(e.admarkButton=S.a.toBool(e.adMark),delete e.adMark),S.a.isValue(e.optout)&&S.a.isNil(e.optoutButton)&&(e.optoutButton=S.a.toBool(e.optout),delete e.optout),S.a.isValue(e.noButton)&&S.a.isNil(e.enableButton)&&(e.enableButton=!S.a.toBool(e.noButton),delete e.noButton),S.a.isValue(e.noSlideDown)&&S.a.isNil(e.enableSlideDown)&&(e.enableSlideDown=S.a.toBool(!e.noSlideDown),delete e.noSlideDown),S.a.isValue(e.isForceStartEnabled)&&S.a.isNil(e.enableForceStart)&&(e.enableForceStart=S.a.toBool(e.isForceStartEnabled),delete e.isForceStartEnabled),S.a.isValue(e.isInviewCheckEnabled)&&S.a.isNil(e.enableInviewCheck)&&(e.enableInviewCheck=S.a.toBool(e.isInviewCheckEnabled),delete e.isInviewCheckEnabled),function(){if(S.a.isArray(e.adContainers)){var t=e.adContainers;e.adContainers={primary:S.a.ife(S.a.isObject,t[0],null),sub:S.a.ife(S.a.isObject,t[1],null)},S.a.isNil(e.adContainers.primary)&&delete e.adContainers.primary,S.a.isNil(e.adContainers.sub)&&delete e.adContainers.sub,S.a.isBlank(e.adContainers)&&delete e.adContainers}}()}},{key:"normalizeIvtOption",value:function(e){var t,n,r=null===(t=e.adContainerType)||void 0===t?void 0:t.toLowerCase().trim();"adhesion"!==r&&"interstitial"!==r&&"overlay"!==r&&"wipe"!==r&&"normal"!==r||(e.adContainerType=r);var i=null===(n=e.adInterface)||void 0===n?void 0:n.toLowerCase().trim();"blank"!==i&&"billboard"!==i&&"infeed"!==i&&"inread"!==i&&"sva"!==i||(e.adInterface=i),this._normalizeValue(e,"id"),this._normalizeValue(e,"backgroundColor"),this._normalizeValue(e,"width",(function(e){return S.a.ife(S.a.isValue,S.a.toStyleLength(e,null),null)})),this._normalizeValue(e,"height",(function(e){return S.a.ife(S.a.isValue,S.a.toStyleLength(e,null),null)})),this._normalizeValue(e,"zIndex",(function(e){return S.a.ife(Number.isFinite,S.a.toDecimal(e),null)})),this._normalizeValue(e,"wrapperAutoTateyoko",S.a.toBool),this._normalizeValue(e,"wrapperBorder",S.a.toBool),this._normalizeCss(e),this._normalizeObject(e,"closeButton"),this._normalizeObject(e,"volumeButton"),this._normalizeObject(e,"replayButton"),this._normalizeObject(e,"detailButton"),this._normalizeObject(e,"admarkButton"),this._normalizeObject(e,"optoutButton"),this._normalizeValue(e,"tomeSize",S.a.stringToSize),this._normalizeValue(e,"headerImgUrl"),this._normalizeValue(e,"headerSize",S.a.stringToSize),this._normalizeValue(e,"companionSize",S.a.stringToSize),this._normalizeValue(e,"leftCompanionSize",S.a.stringToSize),this._normalizeValue(e,"rightCompanionSize",S.a.stringToSize),this._normalizeObject(e,"infeedStyle"),this._normalizeValue(e,"enableSlideDown",S.a.toBool),this._normalizeValue(e,"reminderSize",S.a.stringToSize),this._normalizeToolbar(e),this._normalizeMasks(e),this._normalizeValue(e,"impressionOffset",(function(e){return S.a.ife(S.a.isPositiveOrZeroNum,S.a.toNumber(e),null)})),this._normalizeValue(e,"viewableOffset",(function(e){return S.a.ife(S.a.isPositiveOrZeroNum,S.a.toNumber(e),null)})),this._normalizeValue(e,"inviewPercentage",(function(e){return S.a.ife(S.a.isPositiveOrZeroNum,S.a.toNumber(e),null)})),this._normalizeValue(e,"autoCloseDuration",(function(e){return S.a.ife(S.a.isPositiveOrZeroNum,S.a.toNumber(e),null)})),this._normalizeValue(e,"autoReplayTimes",(function(e){return S.a.ife(S.a.isPositiveOrZeroNum,S.a.toNumber(e),null)})),this._normalizeValue(e,"outviewSkip",S.a.toBool),this._normalizeValue(e,"contentHeaderHeight",(function(e){return S.a.ife(Number.isFinite,S.a.toDecimal(e),null)})),this._normalizeValue(e,"contentFooterHeight",(function(e){return S.a.ife(Number.isFinite,S.a.toDecimal(e),null)})),this._normalizeValue(e,"enableForceStart",S.a.toBool),this._normalizeValue(e,"enableInviewCheck",S.a.toBool),this._normalizeValue(e,"eventCallback",(function(e){return S.a.ife(S.a.isFunction,e,null)}))}},{key:"_normalizeValue",value:function(e,t,n){var r=e[t];S.a.isString(r)&&(r=r.trim()),S.a.isBlank(r)?delete e[t]:(S.a.isFunction(n)&&(r=n(r)),S.a.isBlank(r)?delete e[t]:e[t]=r)}},{key:"_normalizeObject",value:function(e,t){var n=e[t];S.a.isObject(n)?e[t]=n:S.a.isPresent(n)?e[t]=!!S.a.toBool(n)&&{}:delete e[t]}},{key:"_normalizeCss",value:function(e){var t=e.css;if(delete e.css,S.a.isObject(t)){var n={};Object.keys(t).forEach((function(e){var r=function(e){for(var t=/([\w-]*)\s*:\s*([^;]*)/g,n={},r=t.exec(e);r;)n[r[1]]=r[2].trim(),r=t.exec(e);return n}(t[e]);S.a.isPresent(r)&&(n[e]=r)})),e.css=n}}},{key:"_normalizeToolbar",value:function(e){this._normalizeObject(e,"toolbar"),e.toolbar&&S.a.isBlank(e.toolbar)&&(e.toolbar.closeButton={},e.toolbar.volumeButton={})}},{key:"_normalizeMasks",value:function(e){var t=e.masks;delete e.masks;var n=null;if(S.a.isArray(t))n=t;else{if(!S.a.isObject(t))return;n=Object.values(t)}e.masks=n}}]),e}(),mr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"generateID",value:function(e,t){var n="dac-ivt-ad-container";return S.a.isString(t)&&(n+="-".concat(t.trim())),S.a.isString(e)&&(n+="-".concat(e.trim())),n}}]),e}(),gr={width:640,height:360},Ar={width:640,height:60},wr={width:300,height:82},kr={width:263,height:250},br={width:263,height:250},Sr={width:300,height:50},Cr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"modify",value:function(e,t){try{xr.supply(e,t),xr.supplyEndcardCompanion(e),xr.supplyHeaderCompanion(e),xr.supplyFooterCompanion(e),xr.supplyLeftCompanion(e),xr.supplyRightCompanion(e),xr.supplyReminderCompanion(e),xr.modifyCss(e)}catch(n){throw n}}}]),e}(),xr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"supply",value:function(e,t){e.name=t,e.endcardCompanion=null,e.headerCompanion=null,e.footerCompanion=null,e.leftCompanion=null,e.rightCompanion=null,e.adContainerId=mr.generateID(e.id,t),e.adContainerType=S.a.ifValue(e.adContainerType,"normal"),e.adFrameType=S.a.ifValue(e.adFrameType,"player"),e.adInterface=S.a.ifValue(e.adInterface,"sva"),e.backgroundColor=S.a.ifValue(e.backgroundColor,"rgb(0, 0, 0)"),e.width=S.a.ifValue(e.width,"300px"),e.height=S.a.ifValue(e.height,"auto"),e.zIndex=S.a.ifValue(e.zIndex,this._defaultZIndex(e)),e.wrapperAutoTateyoko=S.a.ifValue(e.wrapperAutoTateyoko,!1),e.wrapperBorder=S.a.ifValue(e.wrapperBorder,!1),e.enableButton=S.a.ifValue(e.enableButton,!0),e.admarkButton=S.a.ifValue(e.admarkButton,{}),e.closeButton=S.a.ifValue(e.closeButton,{}),e.detailButton=S.a.ifValue(e.detailButton,{}),e.optoutButton=S.a.ifValue(e.optoutButton,null),e.replayButton=S.a.ifValue(e.replayButton,{}),e.volumeButton=S.a.ifValue(e.volumeButton,{}),e.tomeSize=S.a.ifValue(e.tomeSize,gr),e.headerImgUrl=S.a.ifValue(e.headerImgUrl,null),e.headerSize=S.a.ifValue(e.headerSize,Ar),e.companionSize=S.a.ifValue(e.companionSize,wr),e.leftCompanionSize=S.a.ifValue(e.leftCompanionSize,kr),e.rightCompanionSize=S.a.ifValue(e.rightCompanionSize,br),e.enableSlideDown=S.a.ifValue(e.enableSlideDown,!0),e.reminderSize=S.a.ifValue(e.reminderSize,Sr),e.impressionOffset=S.a.ifValue(e.impressionOffset,1),e.viewableOffset=S.a.ifValue(e.viewableOffset,2),e.contentHeaderHeight=S.a.ifValue(e.contentHeaderHeight,null),e.contentFooterHeight=S.a.ifValue(e.contentFooterHeight,null),e.inviewPercentage=S.a.ifValue(e.inviewPercentage,50),e.outviewSkip=S.a.ifValue(e.outviewSkip,!1),e.autoCloseDuration=S.a.ifValue(e.autoCloseDuration,NaN),e.autoReplayTimes=S.a.ifValue(e.autoReplayTimes,0),e.enableInviewCheck=S.a.ifValue(e.enableInviewCheck,!0),e.enableForceStart=S.a.ifValue(e.enableForceStart,!1),e.enableForcePlay=S.a.ifValue(e.enableForcePlay,!1),e.enableForceClose=S.a.ifValue(e.enableForceClose,!1),e.eventCallback=S.a.ifValue(e.eventCallback,null),e.adEventTimeout=S.a.ifValue(e.adEventTimeout,null)}},{key:"_defaultZIndex",value:function(e){switch(e.adContainerType){case"interstitial":case"adhesion":case"overlay":case"wipe":return 5e6;case"normal":default:return 50}}},{key:"supplyEndcardCompanion",value:function(e){var t,n,r=S.a.toDecimal(null===(t=e.tomeSize)||void 0===t?void 0:t.width),i=S.a.toDecimal(null===(n=e.tomeSize)||void 0===n?void 0:n.height);if(0<r&&0<i){var a,o=null===(a=e.adCompanions)||void 0===a?void 0:a.find((function(e){var t=S.a.toDecimal(e.size.width),n=S.a.toDecimal(e.size.height);return t===r&&n===i}));e.endcardCompanion=S.a.ifValue(o,null)}}},{key:"supplyHeaderCompanion",value:function(e){var t=e.headerImgUrl;S.a.isPresent(t)&&(e.headerCompanion={id:"header",type:"static",size:e.headerSize,src:t})}},{key:"supplyFooterCompanion",value:function(e){var t,n,r=S.a.toDecimal(null===(t=e.companionSize)||void 0===t?void 0:t.width),i=S.a.toDecimal(null===(n=e.companionSize)||void 0===n?void 0:n.height);if(0<r&&0<i){var a,o=null===(a=e.adCompanions)||void 0===a?void 0:a.find((function(e){var t=S.a.toDecimal(e.size.width),n=S.a.toDecimal(e.size.height);return t===r&&n===i}));e.footerCompanion=S.a.ifValue(o,null)}}},{key:"supplyLeftCompanion",value:function(e){var t,n,r=null===(t=e.adCompanions)||void 0===t?void 0:t.find((function(e){return"left"===e.id}));if(S.a.isValue(r))e.leftCompanion=r;else{var i=null===(n=e.adCompanions)||void 0===n?void 0:n.find((function(e){var t=S.a.toDecimal(e.size.width),n=S.a.toDecimal(e.size.height);return 11===t&&11===n}));S.a.isValue(i)&&(i.size=e.leftCompanionSize,e.leftCompanion=i)}}},{key:"supplyRightCompanion",value:function(e){varvoid 0===t?void 0:t.find((function(e){return"right"===e.id}));if(S.a.isValue(r))e.rightCompanion=r;else{var i=null===(n=e.adCompanions)||void 0===n?void 0:n.find((function(e){var t=S.a.toDecimal(e.size.width),n=S.a.toDecimal(e.size.height);return 22===t&&22===n}));S.a.isValue(i)&&(i.size=e.rightCompanionSize,e.rightCompanion=i)}}},{key:"supplyReminderCompanion",value:function(e){var t,n,r=S.a.toDecimal(null===(t=e.reminderSize)||void 0===t?void 0:t.width),i=S.a.toDecimal(null===(n=e.reminderSize)||void 0===n?void 0:n.height);if(0<r&&0<i){var a,o=null===(a=e.adCompanions)||void 0===a?void 0:a.find((function(e){var t=S.a.toDecimal(e.size.width),n=S.a.toDecimal(e.size.height);return t===r&&n===i}));e.reminderCompanion=S.a.ifValue(o,null)}}},{key:"modifyCss",value:function(e){var t=e.css,n=e.zIndex,r=e.wrapperBorder,i=S.a.toStyleLength(e.width),a=S.a.toStyleLength(e.height);e.wrapperAutoTateyoko&&"vertical"===e.layoutType&&(a="auto");var o={"z-index":n,width:i,"padding-top":a,position:"relative",margin:"auto",opacity:"1.00"};r&&(o["border-style"]="solid",o["border-width"]="1px 1px 1px 1px",o["border-color"]="gray",o["box-sizing"]="border-box");var u=this._modifyCssObject("base",null==t?void 0:t.base,o),s=this._modifyCssObject("load",null==t?void 0:t.load,{opacity:"0.99"}),l=S.a.ife(S.a.isObject,null==t?void 0:t.appear,{transition:"0.75s linear"}),c=this._modifyCssObject("appear",l,{opacity:"1.00"}),d=S.a.ife(S.a.isObject,null==t?void 0:t.disappear,{"padding-top":"0px",transition:"0.75s linear"}),f=this._modifyCssObject("disappear",d,{opacity:"0.00"});e.css={base:u,load:s,appear:c,disappear:f}}},{key:"_modifyCssObject",value:function(e,t,n){var r=this,i=S.a.deepMerge({},t);return this._modifyCssHeightToPaddingTopIfNeeded(i),S.a.objectForEachValue(n,(function(e,t){r._modifyCssPropertyIfNil(i,t,e)})),i}},{key:"_modifyCssHeightToPaddingTopIfNeeded",value:function(e){if(!S.a.isBlank(null==e?void 0:e.height)&&S.a.isBlank(null==e?void 0:e["padding-top"])){var t=S.a.toStyleLength(null==e?void 0:e.height);delete e.height,e["padding-top"]=t}}},{key:"_modifyCssPropertyIfNil",value:function(e,t,n){S.a.isNil(e)||S.a.isNil(n)||S.a.isBlank(t)||S.a.isPresent(null==e?void 0:e[t])||(e[t]=n)}}]),e}(),Er=function(){function e(){l()(this,e)}return d()(e,null,[{key:"modify",value:function(e){try{Vr.modifyForAdInterface(e),Vr.disableButtonIfNeeded(e),Vr.disableReminderIfNeeded(e)}catch(t){throw t}}}]),e}(),Vr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"modifyForAdInterface",value:function(e){var t;if(!S.a.isNil(e.adContainers))switch(null===(t=e.adContainers.primary)||void 0===t?void 0:t.adInterface){case"inread":this._modifyForInread(e)}}},{key:"_modifyForInread",value:function(e){var t;this._addReminderIfNeeded(e);var n=e.adContainers.primary;n.volumeButton||(n.volumeButton={}),e.enableSlideDown&&(n.css.load["padding-top"]="0px"),S.a.isBlank(null===(t=n.css.disappear)||void 0===t?void 0:t["padding-top"])&&(n.css.disappear["padding-top"]="0px")}},{key:"_addReminderIfNeeded",value:function(e){var t=e.adContainers.reminder;if(!S.a.isValue(t)){var n={adContainerId:mr.generateID(e.id,"reminder"),adContainerType:"normal",adFrameType:"reminder",adInterface:"text",width:"100%",height:"22px",backgroundColor:"transparent",css:{base:{width:"100%","padding-top":"22px","background-color":"transparent"},load:{"padding-top":"0px"},disappear:{"padding-top":"0px"}}};S.a.isValue(e.reminderCompanion)&&(n.adInterface="image",n.css.base.width=S.a.toStyleLength(e.reminderCompanion.size.width),n.css.base["padding-top"]=S.a.toStyleLength(e.reminderCompanion.size.height));var r=S.a.deepMerge({},e,n);delete r.adContainers,e.adContainers.reminder=r}}},{key:"disableButtonIfNeeded",value:function(e){e.enableButton||(e.admarkButton=null,e.closeButton=null,e.detailButton=null,e.optoutButton=null,e.replayButton=null,e.volumeButton=null),0<e.autoCloseDuration&&(e.replayButton=null)}},{key:"disableReminderIfNeeded",value:function(e){var t,n=null===(t=e.adContainers)||void 0===t?void 0:t.primary;S.a.isNil(n)||("normal"===n.adContainerType||S.a.isValue(e.adContainers.reminder)&&delete e.adContainers.reminder)}}]),e}(),Br=function(){function e(){l()(this,e)}return d()(e,null,[{key:"modify",value:function(e){try{Ir.y(e,t)}),e),Ir.modify((function(e,t){return Er.modify(e,t)}),e)}catch(t){throw t}}}]),e}(),Ir=function(){function e(){l()(this,e)}return d()(e,null,[{key:"modify",value:function(t,n,r){t(n,r),S.a.objectForEachValue(n.adContainers,(function(n,r){e.modify(t,n,r)}))}}]),e}(),Rr=["moatads.com"];var Pr=["adsafeprotected"];Pr=Pr.concat(Rr);var _r=["adsafeprotected"];_r=_r.concat(Rr);var Fr=[];Fr=Fr.concat(Rr);var Or=[],Tr=["ulizassp"],Ur=function(){function e(){l()(this,e)}return d()(e,null,[{key:"generate",value:function(e){try{var t=zr.generateVastOption(e),n=e.isVpaid?zr.generateVpaidOption(e):{};return S.a.deepMerge({},t,n)}catch(r){throw r}}}]),e}(),zr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"generateVastOption",value:function(e){var t,n,r,i={isVpaid:!1,mediaUri:e.media.uri,adCompanions:this.generateVastAdCompanionsOption(e),duration:NaN,infeedStyle:{text:{}},videoClicksThrough:e.tracks.videoClicksThrough,layoutType:e.media.layoutType},a=S.a.toNumber(e.duration);S.a.isPositiveOrZeroNum(a)&&(i.duration=a);var o=null===(t=S.a.toString(e.adTitle))||void 0===t?void 0:t.trim();S.a.isPresent(o)&&(i.infeedStyle.text.adTitle={textContent:o});var u=null===(n=S.a.toString(e.advertiser))||void 0===n?void 0:n.trim();S.a.isPresent(u)&&(i.infeedStyle.text.advertiser={textContent:u});var s=null===(r=S.a.toString(e.description))||void 0===r?void 0:r.trim();return S.a.isPresent(s)&&(i.infeedStyle.text.description={textContent:s}),i}},{key:"generateVastAdCompanionsOption",value:function(e){var t,n=[],r=null===(t=e.companionAdsObject)||void 0===t?void 0:t.companions;return S.a.isArray(r)?(r.forEach((function(e){var t=e.id,r=e.width,i=e.height,a=null,o=null;if(S.a.isPresent(e.staticResourceUri)?(a=e.staticResourceUri,o="static"):S.a.isPresent(e.iframeResourceUri)?(a=e.iframeResourceUri,o="iframe"):S.a.isPresent(e.htmlResourceUri)&&(a=e.htmlResourceUri,o="html"),S.a.isValue(a)&&S.a.isValue(o)){var u={id:t,src:a,type:o,size:{width:r,height:i}};n.push(u)}})),n):n}},{key:"generateVpaidOption",value:function(e){var t=e.media.uri,n=document.createElement("a");n.href=t;var r=n.href,i=n.hostname,a=this._getVpaidType(i),o=this._getIsAddedIframeByDocumentWrite(r),u=this._getEnableButton(i),s=this._getEnableForceClose(i),l={isVpaid:!0,isAddedIframeByDocumentWrite:o,vpaidType:a,adInterface:"blank",wrapperBorder:!1,detailButton:!1,optoutButton:!1,replayButton:!1,tomeSize:null,headerImgUrl:null,headerSize:null,companionSize:null,leftCompanionSize:null,rightCompanionSize:null,reminderSize:null,autoCloseDuration:NaN,autoReplayTimes:0,enableForcePlay:this._getEnableForcePlay(i),enableForceClose:s,enableInviewCheck:this._getEnableInviewCheck(i)};return u||(l.admarkButton=!1,l.closeButton=!1,l.volumeButton=!1),l}},{key:"_getVpaidType",value:function(e){return Rr.some((function(t){return 0<=e.indexOf(t)}))?"moat":"others"}},{key:"_getEnableButton",value:function(e){return Pr.some((function(t){return 0<=e.indexOf(t)}))}},{key:"_getEnableForceClose",value:function(e){return _r.some((function(t){return 0<=e.indexOf(t)}))}},{key:"_getEnableForcePlay",value:function(e){return Fr.some((function(t){return 0<=e.indexOf(t)}))}},{key:"_getEnableInviewCheck",value:function(e){return!Or.some((function(t){return 0<=e.indexOf(t)}))}},{key:"_getIsAdtion(e){return!Tr.some((function(t){return 0<=e.indexOf(t)}))}}]),e}(),Dr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"generate",value:function(e){try{var t=Lr.generateDefault(e.option),n=vr.generate(e.option),r=vr.generate(e.vast.renderOption),i=Ur.generate(e.vast),a=Lr.mergeOption(t,n,r,i);return Br.modify(a),a}catch(o){throw o}}}]),e}(),Lr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"generateDefault",value:function(){return{adContainers:{primary:{}},adCompanions:[]}}},{key:"mergeOption",value:function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=S.a.deepMerge.apply(S.a,[{}].concat(n)),a=i.adContainers;if(S.a.isPresentct.keys(a).forEach((function(t){o[t]=e.mergeOption(i,a[t])})),i.adContainers=o}return i}catch(u){throw u}}}]),e}(),Mr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"create",value:function(e){try{var t=e.option.targetElement,n=e.option.placementId,r=Dr.generate({option:e.option.option,vast:e.vast}),i={autoCloseDuration:r.autoCloseDuration,autoReplayTimes:r.autoReplayTimes,enableForceClose:r.enableForceClose,enableForceStart:r.enableForceStart,enableForcePlay:r.enableForcePlay,enableInviewCheck:r.enableInviewCheck,enableOutviewSkip:r.outviewSkip,impressionOffset:r.impressionOffset,viewableOffset:r.viewableOffset,inviewPercentage:r.inviewPercentage,contentHeaderHeight:r.contentHeaderHeight,contentFooterHeight:r.contentFooterHeight,videoClicksThrough:r.videoClicksThrough},a={targetElement:t,adContainerGroup:Nr.generateAdContainerGroup(r)};return(new hr).init({adService:i,adPresentation:a,placementId:n})}catch(o){throw o}}}]),e}(),Nr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"generateAdContainerGroup",value:function(t){ction(t,r){var i=e.generateAdContainerConfig(t);n.set(r,i)})),n}},{key:"generateAdContainerConfig",value:function(t){var n,r,i,a,o,u,s={};return s.adContainerId=t.adContainerId,s.adContainerType=t.adContainerType,s.adFrameType=t.adFrameType,s.adInterface=t.adInterface,s.css=S.a.isObject(t.css)?S.a.deepClone(t.css):null,s.width=null===(n=t.css)||void 0===n||null===(r=n.base)||void 0===r?void 0:r.width,s.height=null===(i=t.css)||void 0===i||null===(a=i.base)||void 0===a?void 0:a["padding-top"],s.zIndex=null===(o=t.css)||void 0===o||null===(u=o.base)||void 0===u?void 0:u["z-index"],s.backgroundColor=t.backgroundColor,s.admarkButton=S.a.isObject(t.admarkButton)?S.a.deepClone(t.admarkButton):null,s.closeButton=S.a.isObject(t.closeButton)?S.a.deepClone(t.closeButton):null,s.detailButton=S.a.isObject(t.detailButton)?S.a.deepClone(t.detailButton):null,s.optoutButton=S.a.isObject(t.optoutButton)?S.a.deepClone(t.optoutButton):null,s.replayButton=S.a.isObject(t.replayButton)?S.a.deepClone(t.replayButton):null,s.volumeButton=S.a.isObject(t.volumeButton)?S.a.deepClone(t.volumeButton):null,s.endcardCompanion=S.a.isObject(t.endcardCompanion)?S.a.deepClone(t.endcardCompanion):null,s.headerCompanion=S.a.isObject(t.headerCompanion)?S.a.deepClone(t.headerCompanion):null,s.footerCompanion=S.a.isObject(t.footerCompanion)?S.a.deepClone(t.footerCompanion):null,s.leftCompanion=S.a.isObject(t.leftCompanion)?S.a.deepClone(t.leftCompanion):null,s.rightCompanion=S.a.isObject(t.rightCompanion)?S.a.deepClone(t.rightCompanion):null,s.reminderCompanion=S.a.isObject(t.reminderCompanion)?S.a.deepClone(t.reminderCompanion):null,s.infeedStyle=S.a.isObject(t.infeedStyle)?S.a.deepClone(t.infeedStyle):null,s.toolbar=e._generateAdToolbarConfig(t),s.masks=S.a.isArray(t.masks)?S.a.deepCloneArray(t.masks):null,s.inviewPercentage=t.inviewPercentage,s.contentHeaderHeight=t.contentHeaderHeight,s.contentFooterHeight=t.contentFooterHeight,s.adVpaid=e.generateAdVpaidConfig(t),s}},{key:"_generateAdToolbarConfig",value:function(e){if(S.a.isObject(e.toolbar)){var t={};return t.closeButton=S.a.isObject(e.toolbar.closeButton)?S.a.deepClone(e.toolbar.closeButton):null,t.volumeButton=S.a.isObject(e.toolbar.volumeButton)?S.a.deepClone(e.toolbar.volumeButtocumentWrite,t.mediaUri=e.mediaUri,t.duration=e.duration,t}}]),e}(),jr=function(){function e(){l()(this,e),p()(this,"config",void 0),p()(this,"adActions",[])}return d()(e,[{key:"adService",get:function(){var e;return null===(e=this.config)null===(e=this.config)||void 0===e?void 0:e.adPresentation}}]),d()(e,[{key:"clear",value:function(){}},{key:"init",value:function(e,t){var n=Mr.create({option:e,vast:t});return this.config=n,this.adActions=Wr.create(n.adPresentation.adContainerGroup),this}},{key:"findConfig",value:function(e){return S.a.isValue(e)?Array.from(this.config.adPresentation.adContainerGroup.values()).find((function(t){return t.adContainerId===e})):this.primaryConfig}},{key:"remove",value:function(e){this.config.adPresentation.adConons.filter((function(t){return t.s.filter((function(n){retuthis.config.adPresentation.adContainerGroup.get("primary")}}]),e}(),Wr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"create",value:function(e){var t,n,r,i=null===(t=e.get("primary"))||void 0===t?void 0:t.adContainerId,a=null===(n=e.get("sub"))||void 0===n?void 0:n.adContainerId,o=null===(r=e.get("reminder"))||void 0===r?void 0:r.adContainerId,u=[{subject:i,state:"didInview",target:i,action:"present",times:1}];return o&&(u.push({subject:i,state:"didDisappear",target:o,action:"appear"}),u.push({subject:o,state:"didDisappear",target:i,action:"appear"})),a&&(u.push({subject:i,state:"didInview",target:a,action:"disappear"}),u.push({subject:i,state:"didOutview",target:a,action:"appear"})),u}}]),e}(),Qr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"create",value:function(){var e=i.createElement("video");return e.setAttribute("playsinline",""),e.setAttribute("muted",""),e.setAttribute("controlsList","nodownload noremoteplayback nofullscreen"),e.className="dac-ivt-video-element",e.style.width="100%",e.style.height="100%",e.style.objectFit="contain",e.muted=!0,e}}]),e}(),Hr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"option",get:function(){return this._option}},{key:"adContainerStore",get:function(){return this._adContainerStore}},{key:"adStore",get:function(){return this._adStore}},{key:"configStore",get:function(){return this._configStore}},{key:"videoElement",get:function(){return this._videoElement}}]),d()(e,null,[{key:"init",value:function(e){var t=e||{};return t.dataset=t.dataset||{},t.target=t.target||null,this._adStore=new mt,this._adContainerStore=new fr,this._option=new ke(t),this._configStore=new jr,this._videoElement=Qr.create(),this}},{key:"deinit",value:function(){try{var e,t,n,r;null===(e=this.adContainerStore)||void 0===e||e.clear(),null===(t=this.configStore)||void 0===t||t.clear(),null===(n=this.adStore)||void 0===n||n.clear(),null===(r=this.videoElement)||void 0===r||r.clear(),this._videoElement=void 0}catch(i){}}},{key:"validate",value:function(){if(!this.option)throw new Error('"[Store]::setup(); failed; Not declared opt;"');if(!this.option.targetElement)throw new Error('"[Store]::setup() failed; Not declared targetNode;"')}},{key:"getConfig",value:function(e){return tfunction(e){return this.adContainerStore.getAdContainer(e)}},{key:"videoView",get:function(){returet:function(){return this.adContAdContainer(this.configStore.primaryConfig.adContainerId)}}]),e}();p()(Hr,"_option",void 0),p()(Hr,"_adContainerStore",void 0),p()(Hr,"_adStore",void 0),p()(Hr,"_configStore",void 0),p()(Hr,"_videoElement",voiis,"_closeButton",null),p()(this,"_containerElement",null)}return d()(e,[{key:"clear",value:function(){var e;(this._closeButton&&(this._closeButton.clear(),this._closeButton=null),this._containerElement)&&(null===(e=this._containerElement.parentElement)||void 0===e||e.removeChild(this._containerElement),this._containerElement=null)}},{key:"open",value:function(e){try{var t,n=e||{},i=n.placementId,a=n.targetElement,o=n.adsenseElement,u=n.noscriptElement,s=S.a.ifValue(n.enablePassbackIframe,!0),l=new r.IvtSize(n.size);n.zIndex;this._containerElement=Kr.createContainerElement(this,i),a.parentElement.insertBefore(this._containerElement,a),S.a.isValue(o)?Kr.showAdsense(this,o,l):0<(null==u||null===(t=u.innerText)||void 0===t?void 0:t.trim().length)&&(s?Kr.showPassbackWithIframe(this,u,l):Kr.showPassbackWithoutIf,{key:"close",value:functiClose",value:function(){this.close(),Ki.userAction.close()}}]),e}(),Kr=function(){function e(){l()(this,e)}return d()(e,null,[{key:"createCloseButton",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n={style:{zIndex:t},option:{top:"3px",right:"3px",size:Yr}},r=new Ze([n]);return r}},{key:"createContainerElement",value:function(e,t){var n="dac-ivt-passback-container";S.a.isPresent(t)&&(n+="-".concat(t));var r=i.createElement("div");return r.className="dac-ivt-passback-container",r.id=n,r.style.position="relative",r.style.margin="auto",r.style.padding="0",r.style.border="none",r}},{key:"showAdsense",value:function(t,n,r){var a=t._containerElement,o=i.createElement("script");o.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",a.appendChild(o);var u=i.createElement("ins");u.setAttribute("class","adsbygoogle"),u.style.margin="0",u.style.padding="0",u.style.border="none",u.style.display="inline-block",u.size=e._computedIframeSize(t,r),u.dataset.adClient=n.dataset.adClient,u.dataset.adSlot=n.dataset.adSlot,a.appendChild(u);var s=i.createElement("script");s.innerHTML="  (adsbygoogle = window.adsbygoogle || []).push({});",a.appendChild(s),a.w=u.w,a.h=u.h}},{key:"showPassbackWithIframe",value:function(t,n,r){var a=t._containerElement,o=i.createElement("iframe");o.style.position="absolute",o.style.left=0,o.style.top=0,o.style.margin="0 auto",o.style.padding="0",o.style.border="none",a.appendChild(o);var u=o.contentWindow.document,s="<body><script>inDapIF = true;<\/script>"+n.innerText+"</body>";u.open(),u.write(s),u.write("<style> body {margin:0} </style>"),u.close();var l=e._computedIframeSize(t,r);o.width=l.width,o.height=l.height,a.w=l.width,a.h=l.height}},{key:"showPassbackWithoutIframe",value:function(e,t,n){var r=e._containerElement,i=!0;Element.prototype.replaceWith||(i=!1),CharacterData.prototype.replaceWith||(i=!1),DocumentType.prototype.replaceWith||(i=!1),i&&(r.innerHTML=t.te",t.textContent=e.textContent,t.src=e.src,e.replaceWith(t)})),r.w=n.width,r.h=n.height)}},{key:"_computedIframeSize",value:function(t,n){var i=t._containerElement,a=n.width;"string"==typeof a&&0<=a.indexOf("%")&&(a=e._ancestorWidth(i)*(parseInt(a,10)/100));a=parseInt(a,10);var o=n.height;return"auto"===o&&(o=a/16*9),o=parseInt(o,10),new r.IvtSize(a,o)}},{key:"_ancestorWidth",value:function(t){var n,r=null==t||null===(n=t.parentElement)||void 0===n?void 0:n.clientWidth;return 0<r?r:S.a.isValue(null==t?void 0:t.parentElement)?e._ancestorWidth(null==t?void 0:t.parentElement):document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth}}]),e}(),Zr=function(){function e(){l()(this,e),p()(this,"_isStarting",void 0),p()(this,"_isPlaying",void 0),p()(this,"_isPausing",void 0)}var t,n,r,i,a,u,s,c,f,h,y,g,A,w,k,b,C,x,E,V,B,I,R,P,_,F;return d()(e,[{key:"init",value:function(){this._isStarting=!1,{this._isStarting=!1,this._isPlaying=!1,this._isPausing=!1}},{key:"request",value:(F=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr.adStore.status,S.a.isFlag(n,null,ce.request)){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,fe.isSupport(null===(t=qr.option)||void 0===t?void 0:t.unsupportedBrowsers)){e.next=11;break}return Xr.didAdError(this,new Error("not supported os or browser;")),e.abrupt("return");case 11:return e.next=14,qr.adStore.setLastEvent({name:le.willVastRequest});case 14:return e.next=16,qr.adStore.addState(ce.request);case 16:return e.next=18,qr.adStore.setLastEvent({name:le.didVastRequest});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(4),Xr.didAdError(this,e.t0),e.abrupt("return");case 25:return e.prev=25,e.finish(25);case 28:this.create();case 29:case"end":return e.stop()}var n}),e,this,[[4,20,25,28]])}))),function(){return F.apply(this,arguments)})},{key:"create",value:(_=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qr.adStore.status,S.a.isFlag(t,ce.request,ce.create)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,qr.configStore.init(qr.option,qr.adStore.vast),qr.adContainerStore.init(),Xr.validate(this),e.next=12,qr.adStore.setLastEvent({name:le.willAdCreate});case 12:return e.next=14,qr.adStore.addState(ce.create);case 14:return e.next=16,qr.adStore.setLastEvent({name:le.didAdCreate});case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(4),Xr.didAdError(this,e.t0),e.abrupt("return");case 23:return e.prev=23,e.finish(23);case 26:this.load();case 27:case"end":return e.stop()}var t}),e,this,[[4,18,23,26]])}))),function(){return _.apply(this,arguments)})},{key:"load",value:(P=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qr.adStore.status,S.a.isFlag(t,ce.create,ce.load)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=8,qr.adStore.setLastEvent({name:le.willAdLoad});case 8:return e.next=10,qr.adStore.addState(ce.load);case 10:return e.next=12,qr.adStore.setLastEvent({name:le.didAdLoad});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(4),Xr.didAdError(this,e.t0),e.abrupt("return");case 19:return e.prev=19,e.finish(19);case 22:case"end":return e.stop()}var t}),e,this,[[4,14,19,22]])}))),function(){return P.apply(this,arguments)})},{key:"unload",value:(R=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qr.adStore.status,S.a.isFlag(t,ce.load)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=8,qr.adStore.setLastEvent({name:le.willAdUnload});case 8:return e.next=10,qr.adStore.removeState(ce.load);case 10:return e.next=12,qr.adStore.setLastEvent({name:le.didAdUnload});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return");case 18:return e.prev=18,e.finish(18);case 21:case"end":return e.stop()}var t}),e,this,[[4,14,18,21]])}))),function(){return R.apply(this,arguments)})},{key:"start",value:(I=m()(v.a.mark((function e(){var t=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr.adStore.status,!t._isStarting&&S.a.isFlag(n,ce.load,ce.start)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,this._isStarting=!0,e.next=9,qr.adStore.setLastEvent({name:le.willAdStart});case 9:return e.next=11,qr.adStore.addState(ce.start|ce.play);case 11:return e.next=13,qr.adStore.setLastEvent({name:le.didAdStart});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),Xr.didAdError(this,e.t0),e.abrupt("return");case 20:return e.prev=20,this._isStarting=!1,e.finish(20);case 24:case"end":return e.stop()}var n}),e,this,[[4,15,20,24]])}))),function(){return I.apply(this,arguments)})},{key:"stop",value:(B=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qr.adStore.status,S.a.isFlag(r,ce.start)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,n={isToClose:null==t?void 0:t.isToClose},e.next=9,qr.adStore.setLastEvent({name:le.willAdStop});case 9:return e.next=11,qr.adStore.removeState(ce.start);case 11:return e.next=13,qr.adStore.setLastEvent({name:le.didAdStop,detail:n});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),Xr.didAdError(this,e.t0),e.abrupt("return");case 20:return e.prev=20,e.finish(20);case 23:if(!qr.configStore.adService.enableForceClose){e.next=26;break}return Ki.adAction.close(),e.abrupt("return");case 26:if(!(qr.adStore.isEnded&&qr.adStore.replayTimes<qr.configStore.adService.autoReplayTimes)){e.next=35;break}return e.prev=27,Ki.adAction.replay(),qr.adStore.incrementReplayTimes(),e.abrupt("return");case 33:e.prev=33,e.t1=e.catch(27);case 35:0<qr.configStore.adService.autoCloseDuration&&window.setTimeout((function(){Ki.adContainerAction.close()}),1e3*qr.configStore.adService.autoCloseDuration);case 36:case"end":return e.stop()}var r}),e,this,[[4,15,20,23],[27,33]])}))),function(e){return B.apply(this,arguments)})},{key:"play",value:(V=m()(v.a.mark((function e(){var t,n,r=this,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:ae.userInteraction,n=function(e){return!r._isPlaying&&S.a.isFlag(e,ce.start,ce.play)&&qr.adStore.isEmptyPausedReason&&!qr.adStore.isEnded},qr.adStore.removePausedReason(t),n(qr.adStore.status)){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,this._isPlaying=!0,e.next=11,qr.adStore.setLastEvent({name:le.willAdPlay,timeout:500});case 11:return e.next=13,qr.adStore.addState(ce.play);case 13:return e.next=15,qr.adStore.setLastEvent({name:le.didAdPlay});case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(6),e.t0 instanceof o.TimeoutError){e.next=23;break}return Xr.didAdError(this,e.t0),e.abrupt("return");case 23:return e.prev=23,this._isPlaying=!1,e.finish(23);case 27:case"end":return e.stop()}}),e,this,[[6,17,23,27]])}))),function(){return V.apply(this,arguments)})},{key:"pause",value:(E=m()(v.a.mark((function e(){var t,n,r=this,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:ae.userInteraction,n=function(e){return!r._isPausing&&S.a.isFlag(e,ce.play)&&!qr.adStore.isEnded},qr.adStore.addPausedReason(t),n(qr.adStore.status)){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,this._isPausing=!0,e.next=11,qr.adStore.setLastEvent({name:le.willAdPause,timeout:500});case 11:return e.next=13,qr.adStore.removeState(ce.play);case 13:return e.next=15,qr.adStore.setLastEvent({name:le.didAdPause});case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(6),e.t0 instanceof o.TimeoutError){e.next=23;break}return Xr.didAdError(this,e.t0),e.abrupt("return");case 23:return e.prev=23,this._isPausing=!1,e.finish(23);case 27:case"end":return e.stop()}}),e,this,[[6,17,23,27]])}))),function(){return E.apply(this,arguments)})},{key:"replay",value:(x=m()(v.a.mark((function e(){var t=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr.adStore.status,!t._isStarting&&S.a.isFlag(n,ce.load)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,this._isStarting=!0,e.next=9,qr.adStore.setLastEvent({name:le.willAdReplay});case 9:return e.next=11,qr.adStore.addState(ce.start|ce.play);case 11:return e.next=13,qr.adStore.setLastEvent({name:le.didAdReplay});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),Xr.didAdError(this,e.t0),e.abrupt("return");case 20:return e.prev=20,this._isStarting=!1,e.finish(20);case 24:case"end":return e.stop()}var n}),e,this,[[4,15,20,24]])}))),function(){return x.apply(this,arguments)})},{key:"close",value:(C=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stop({isToClose:!0});case 2:return e.prev=2,e.next=6,qr.adStore.setLastEvent({name:le.willAdClose});case 6:return e.next=8,Promise.all(qr.adContainerStore.adContainers.map(fuext=2,t.view.disappear();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,qr.adStore.setLastEvent({name:le.didAdClose});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(2),Xr.didAdError(this,e.t0),e.abrupt("return");case 17:return e.prev=17,e.finish(17);case 20:this.unload();case 21:case"end":return e.stop()}}),e,this,[[2,12,17,20]])}))),function(){return C.apply(this,arguments)})},{key:"mute",value:(b=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==qr.adStore.isMuted){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=7,qr.adStore.setLastEvent({name:le.willAdMute});case 7:return e.next=9,qr.adStore.setIsMuted(!0);case 9:return e.next=11,qr.adStore.setLastEvent({name:le.didAdMute});case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),Xr.didAdError(this,e.t0),e.abrupt("return");case 18:return e.prev=18,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])}))),function(){return b.apply(this,arguments)})},{key:"unmute",value:(k=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==qr.adStore.isMuted){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=7,qr.adStore.setLastEvent({name:le.willAdUnmute});case 7:return e.next=9,qr.adStore.setIsMuted(!1);case 9:return e.next=11,qr.adStore.setLastEvent({name:le.didAdUnmute});case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),Xr.didAdError(this,e.t0),e.abrupt("return");case 18:return e.prev=18,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])}))),function(){return k.apply(this,arguments)})},{key:"volumeChange",value:(w=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qr.adStore.volume!==t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,n={volume:t},e.next=8,qr.adStore.setLastEvent({name:le.willAdVolumeChange,detail:n});case 8:return e.next=10,qr.adStore.setVolume(t);case 10:return e.next=12,qr.adStore.setLastEvent({name:le.didAdVolumeChange,detail:n});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(3),Xr.didAdError(this,e.t0),e.abrupt("return");case 19:return e.prev=19,e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[3,14,19,22]])}))),function(e){return w.apply(this,arguments)})},{key:"videoClick",value:(A=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pause(ae.visible),e.prev=1,n=S.a.ifValue(t,qr.configStore.adService.videoClicksThrough),r={url:n},e.next=7,qr.adStore.setLastEvent({name:le.willAdClick,detail:r});case 7:return Xr.openUrl(this,n),e.next=10,qr.adStore.setLastEvent({name:le.didAdClick,detail:r});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),Xr.didAdError(this,e.t0),e.abrupt("return");case 17:return e.prev=17,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,12,17,20]])}))),function(e){return A.apply(this,arguments)})},{key:"optout",value:(g=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pause(ae.visible),e.prev=1,n=S.a.ifValue(t,"//feedback.impact-ad.jp/optout"),r={url:n},e.next=7,qr.adStore.setLastEvent({name:le.willAdOptout,detail:r});case 7:return Xr.openUrl(this,n),e.next=10,qr.adStore.setLastEvent({name:le.didAdOptout,detail:r});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),Xr.didAdError(this,e.t0),e.abrupt("return");case 17:return e.prev=17,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,12,17,20]])}))),function(e){return g.apply(this,arguments)})},{key:"impression",value:(y=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.impression=function(){},e.prev=1,e.next=5,qr.adStore.setLastEvent({name:le.willAdImpression});case 5:return e.next=7,qr.adStore.setLastEvent({name:le.didAdImpression});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return");case 13:return e.prev=13,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,9,13,16]])}))),function(){return y.apply(this,arguments)})},{key:"viewable",value:(h=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.viewable=function(){},e.prev=1,e.next=5,qr.adStore.setLastEvent({name:le.willAdViewable});case 5:return e.next=7,qr.adStore.setLastEvent({name:le.didAdViewable});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return");case 13:return e.prev=13,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,9,13,16]])}))),function(){return h.apply(this,arguments)})},{key:"videoProgress",value:(f=m()(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={progress:t,duration:n,percent:t/n*100},e.next=5,qr.adStore.setLastEvent({name:le.didVideoProgress,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Xr.didAdError(this,e.t0),e.abrupt("return");case 12:qr.configStore.adService.impressionOffset<=t&&this.impression(),qr.configStore.adService.viewableOffset<=t&&this.viewable();case 14:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return f.apply(this,arguments)})},{key:"videoStart",value:(c=m()(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.videoEndedChange(!1),r={progress:t,duration:n,percent:0},e.next=6,qr.adStore.setLastEvent({name:le.didVideoStart,detail:r});case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),Xr.didAdError(this,e.t0),e.abrupt("return");case 13:return e.prev=13,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[0,8,13,16]])}))),function(e,t){return c.apply(this,arguments)})},{key:"videoFirstQuartile",value:(s=m()(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={progress:t,duration:n,percent:25},e.next=5,qr.adStore.setLastEvent({name:le.didVideoFirstQuartile,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Xr.didAdError(this,e.t0),e.abrupt("return");case 12:return e.prev=12,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,7,12,15]])}))),function(e,t){return s.apply(this,arguments)})},{key:"videoMidpoint",value:(u=m()(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={progress:t,duration:n,percent:50},e.next=5,qr.adStore.setLastEvent({name:le.didVideoMidpoint,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Xr.didAdError(this,e.t0),e.abrupt("return");case 12:return e.prev=12,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,7,12,15]])}))),function(e,t){return u.apply(this,arguments)})},{key:"videoThirdQuartile",value:(a=m()(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={progress:t,duration:n,percent:75},e.next=5,qr.adStore.setLastEvent({name:le.didVideoThirdQuartile,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Xr.didAdError(this,e.t0),e.abrupt("return");case 12:return e.prev=12,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,7,12,15]])}))),function(e,t){return a.apply(this,arguments)})},{key:"videoComplete",value:(i=m()(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={progress:t,duration:n,percent:100},e.next=5,qr.adStore.setLastEvent({name:le.didVideoComplete,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Xr.didAdError(this,e.t0),e.abrupt("return");case 12:return e.prev=12,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,7,12,15]])}))),function(e,t){return i.apply(this,arguments)})},{key:"videoEndedChange",value:(r=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Boolean(t))!==qr.adStore.isEnded){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,qr.adStore.setIsEnded(n),e.next=8,qr.adStore.setLastEvent({name:le.didVideoEndedChange,detail:{isEnded:n}});case 8:n&&this.stop(),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(3),Xr.didAdError(this,e.t0),e.abrupt("return");case 16:return e.prev=16,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,11,16,19]])}))),function(e){return r.apply(this,arguments)})},{key:"updateLayout",value:(n=m()(v.a.mark((function e(){var t,n,r,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(i.length>0&&void 0!==i[0])||i[0],n=S.a.viewportWidth,r=qr.adContainerStore.currentWidth,!t){e.next=6;break}if(r!==n){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=10,qr.adStore.setLastEvent({name:le.willAdUpdateLayout});case 10:return qr.adContainerStore.setCurrentWidth(n),e.next=13,qr.adStore.setLastEvent({name:le.didAdUpdateLayout});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(6),Xr.didAdError(this,e.t0),e.abrupt("return");case 20:return e.prev=20,e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[6,15,20,23]])}))),function(){return n.apply(this,arguments)})},{key:"raiseError",value:(t=m()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xr.didAdError(this,{errorCode:t,message:n});case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),Xr=function(){function e(){l()(this,e)}var t;return d()(e,null,[{key:"validate",value:function(t){try{var n=qr.adStore.vast;if(S.a.isBlank(null==n?void 0:n.ad1))throw new J("\"reason = 'no ad'. code = ".concat(ie.noAd,';"'),ie.noAd);var r,i,a=null==n?void 0:n.media;if(S.a.isBlank(null==a?void 0:a.uri))throw new J("\"reason = 'no ad'. code = ".concat(ie.noAd,';"'),ie.noAd);if(null==a?void 0:a.isVpaid)if("normal"!==(null===(r=qr.configStore.primaryConfig)||void 0===r?void 0:r.adContainerType)&&"wipe"!==(null===(i=qr.configStore.primaryConfig)||void 0===i?void 0:i.adContainerType))throw new J("\"reason = 'not supported Ad Interface'. code = ".concat(ie.vpaid,';"'),ie.vpaid)}cat{key:"openUrl",value:function(e,t){window.open(t,"_blank")}},{key:"didAdError",value:(t=m()(v.a.mark((function e(t,n){var r,i,a,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=null==n?void 0:n.errorCode,i=null==n?void 0:n.message,a={errorCode:r,message:i},e.next=7,qr.adStore.setLastEvent({name:le.didAdError,detail:a});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:return e.prev=12,e.finish(12);case 15:return o=qr.option,u={placementId:o.placementId,targetElement:o.targetElement,adsenseElement:o.adsenseElement,noscriptElement:o.noscriptElement,enablePassbackIframe:o.passbackIframe,size:new Se(o.passbackIframeSize),zIndex:o.wrapperZindex},e.next=19,Ki.adAction.unload();case 19:return e.next=21,qr.deinit();case 21:return e.next=23,Ki.deinit();case 23:(new Gr).open(u);case 24:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),function(e,n){return t.apply(this,arguments)})}]),e}(),Jr=function(){function e(){l()(this,e)}var t,n,r,i,a,o,u;return d()(e,[{key:"clear",value:function(){}},{key:"inview",value:(u=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$r.doAction(this,t,"didInview");case 1:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"outview",value:(o=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$r.doAction(this,t,"didOutview");case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"appear",value:(a=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr.adContainerStore.getAdContainer(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.view.appear();case 5:if(!e.sent){e.next=7;break}$r.doAction(this,t,"didAppear");case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"disappear",value:(i=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr.adContainerStore.getAdContainer(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.view.disappear();case 5:if(!e.sent){e.next=7;break}$r.doAction(this,t,"didDisappear");case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"present",value:(r=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr.adContainerStore,r=n.getAdContainer(t),n.currentAdContainer,r){e.next=7;break}return e.abrupt("return");case 7:n.presentedAdContainerStack.includes(r)||n.presentedAdContainerStack.push(r),this.appear(t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"dismiss",value:(n=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr.adContainerStore,r=n.getAdContainer(t)){e.next=5;break}return e.abrupt("return");case 5:n.prpresentedAdContainerStack.filter((function(e){return e!==r})),n.currentAdContainer,this.disappear(t);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"close",value:(t=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr.adContainerStore,r=n.getAdContainer(t),!S.a.isBlank(r)&&r!==n.primaryAdContainer){e.next=13;break}return e.next=5,$r.showReminderIfPossible(this);case 5:if(!e.sent){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,Ki.adAction.close();case 11:e.next=14;break;case 13:r&&$r.remove(this,r);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),$r=function(){function e(){l()(this,e)}var t,n;return d()(e,null,[{key:"remove",value:(n=m()(v.a.mark((function e(t,n){var r,i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id,e.next=3,null===(r=(i=n.view).unload)||void 0===r?void 0:r.call(i);case 3:qr.adContainerStore.remove(a),qr.configStore.remove(a);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"doAction",value:function(e,t,n){qr.configStore.filterAdActions(t,n).forEach((function(e){var t,n;if(S.a.isFinite(e.times)){if(e.times<1)return;e.times-=1}var r=e.target,i=e.action;null===(t=(n=Ki.adContainerAction)[i])||void 0===t||t.call(n,r)}))}},{key:"showReminderIfPossible",value:(t=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!qr.adContainerStore.hasReminder){e.next=9;break}return Ki.adAction.stop(),n=qr.adContainerStore.primaryAdContainer.id,e.next=6,Ki.adContainerAction.disappear(n);case 6:return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return t.apply(this,arguments)})}]),e}(),ei=function(){var e=function(){return!1};void 0!==document.hidden?e=function(){return document.hidden}:void 0!==document.webkitHidden?e=function(){return document.webkitHidden}:void 0!==document.msHidden&&(e=function(){return document.msHidden});return e}();function ti(e,t){var n=e;t?ri(n):ni(n)}function ni(e){var t=e;t._inviewCheckTimer&&(window.clearTimeout(t._inviewCheckTimer),t._inviewCheckTimer=void 0)}function ri(e){var t=e;teout((function(){!function(e){ii.apply(this,arguments)}(t)}),100))}function ii(){return(ii=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,!0,e.next=5,n._action();case 5:e.next=7;break;case 7:n._inviewCheckTimer&&(n._inviewCheckTimer=void 0,ri(n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ai(e){return oi.apply(this,arguments)}function oi(){return(oi=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!qr.configStore.adService.enableForceStart){e.next=10;break}return n._action=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(n));case 1:case"end":return e.stop()}}),e)}))),e.next=5,Ki.userAction.start();case 5:return r=qr.primaryAdContainer.id,e.next=8,Ki.adContainerAction.inview(r);case 8:e.next=15;break;case 10:if(!li(n)){e.next=15;break}return n._action=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(n));case 1:case"end":return e.stop()}}),e)}))),e.next=15,Ki.userAction.start();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ui(e){return si.apply(this,arguments)}function si(){return(si=m()(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!li(t)){e.next=14;break}if(!qr.configStore.adService.enableForcePlay){e.next=9;break}if(!qr.adStore.isPaused){e.next=7;break}return e.next=7,Ki.userAction.play(ae.pausing);case 7:e.next=12;break;case 9:if(!qr.adStore.isPausedReason(ae.outview)){e.next=12;break}return e.next=12,Ki.userAction.play(ae.outview);case 12:e.next=28;break;case 14:if(qr.configStore.adService.enableInviewCheck){e.next=16;break}return e.abrupt("return");case 16:if(!qr.configStore.adService.enableOutviewSkip||!(null===(n=qr.configStore.primaryConfig)||void 0===n?void 0:n.endcardCompanion)){e.next=21;break}return e.next=19,Ki.adAction.stop();case 19:e.next=28;break;case 21:if(qr.adStore.isPausedReason(ae.outview)){e.next=28;break}if(!qr.adContainerStore.hasSubAdContainer){e.next=26;break}return e.abrupt("return");case 26:return e.next=28,Ki.userAction.pause(ae.outview);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e){if(ei())return!1;var t=qr.adContainerStore.primaryAdContainer;return t&&t.view.updateInviewStatus()||!1}var ci=function(){function e(){var t=this;l()(this,e),p()(this,"_adStoreChangedFunc",void 0),p()(this,"_inviewCheckTimer",voupt("return",ai(t));case 1:case"end":return e.stop()}}),e)}))),this._adStoreChangedFunc=mt.changed.bind(void 0,this),qr.adStore.addObsever(this._adStoreChangedFunc)}return d()(e,[{key:"clear",value:function(){ni(this),qr.adStore.removeObsever(this._adStoreChangedFunc),this._adStoreChangedFunc=void 0,this._action=void 0}},{key:"enable",value:function(){qr.adStore.isStopped||ti(this,!0)}},{key:"disable",value:function(){ti(this,!1)}},{key:"didAdLoais,!0)}},{key:"willAdUnload",value:function(){this.clear()}},{key:"didAdReplay",value:function(){ti(this,!0)}},{key:"didAdSi(this,!0)}},{key:"didAdStop",value:function(){ti(this,!1)}},{key:"didVideoEndedChange",value:function(e){ti(this,!(null==e?void 0:e.isEnded))}},{key:"isEnabled",get:function(){return Boolean(this._inviewCheckTimer)}}]),e}(),di=function(){function e(){l()(this,e)}var t,n,r,i,a,o,u,s,c,f,p,h,y,g;return d()(e,[{key:"deinit",value:function(){}},{key:"start",value:(g=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={pausedReason:ae.userInteraction},n={name:le.didUserPlay,detail:t},e.next=4,qr.adStore.setLastEvent(n);case 4:return e.next=6,Ki.adAction.start();case 6:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})},{key:"play",value:(y=m()(v.a.mark((function e(){var t,n,r,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:ae.userInteraction,n={pausedReason:t},r={name:le.didUserPlay,detail:n},e.next=5,qr.adStore.setLastEvent(r);case 5:return e.next=7,Ki.adAction.play(t);case 7:case"end":return e.stop()}}),e)}))),function(){return y.apply(this,arguments)})},{key:"pause",value:(h=m()(v.a.mark((function e(){var t,n,r,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:ae.userInteraction,n={pausedReason:t},r={name:le.didUserPause,detail:n},e.next=5,qr.adStore.setLastEvent(r);case 5:return e.next=7,Ki.adAction.pause(t);case 7:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"replay",value:(p=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:le.didUserReplay},e.next=3,qr.adStore.setLastEvent(t);case 3:return e.next=5,Ki.adAction.replay();case 5:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"close",value:(f=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={adContainerId:t},r={name:le.didUserClose,detail:n},e.next=4,qr.adStore.setLastEvent(r);case 4:return e.next=6,Ki.adContainerAction.close(t);case 6:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"mute",value:(c=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:le.didUserMute},e.next=3,qr.adStore.setLastEvent(t);case 3:return e.next=5,Ki.adAction.mute();case 5:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"unmute",value:(s=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:le.didUserUnmute},e.next=3,qr.adStore.setLastEvent(t);case 3:return e.next=5,Ki.adAction.unmute();case 5:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"volumeChange",value:(u=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==S.a.isFinite(t)){e.next=2;break}return e.abrupt("return");case 2:return n={volume:t},r={name:le.didUserVolumeChange,detail:n},e.next=6,qr.adStore.setLastEvent(r);case 6:return e.next=8,Ki.adAction.volumeChange(t);case 8:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"videoClick",value:(o=m()(v.a.mark((function e(t){var n,r,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],r={url:t,playerHandles:n},e.next=5,qr.adStore.setLastEvent({name:le.didUserVideoClick,detail:r});case 5:if(!n){e.next=8;break}return e.next=8,Ki.adAction.videoClick(t);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"optout",value:(a=m()(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:t},r={name:le.didUserOptout,detail:n},e.next=5,qr.adStore.setLastEvent(r);case 5:return e.next=7,Ki.adAction.optout(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"acceptInvitation",value:(i=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n={name:le.didUserAcceptInvitation,detail:t},e.next=5,qr.adStore.setLastEvent(n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"collapse",value:(r=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n={name:le.didUserCollapse,detail:t},e.next=5,qr.adStore.setLastEvent(n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"expand",value:(n=m()(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},n={name:le.didUserExpand,detail:t},e.next=5,qr.adStore.setLastEvent(n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"skip",value:(t=m()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:le.didUserSkip,detail:{}},e.next=4,qr.adStore.setLastEvent(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),fi=(n(157),n(212),n(159),function(){function e(){l()(this,e)}return d()(e,null,[{key:"queryAll",value:function(e,t){return e&&e.querySelectorAll(t)||[]}},{key:"queryOne",value:function(e,t,n){var r=n||0,i=this.queryAll(e,t,r);return S.a.isPresent(i)?i[r]:null}},{key:"queryOneWithFilter",value:function(e,t,n,r){var i=t;for(var a in n)n.hasOwnProperty(a)&&(i=i+"["+a+'="'+n[a]+'"]');return this.queryOne(e,i,r)}},{key:"elementContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(S.a.isBlank(e)||!S.a.isElement(e))return t;var n=e.textContent;return S.a.isString(n)?n.trim():t}},{key:"elementAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(S.a.isBlank(e)||!S.a.isElement(e)||S.a.isBlank(t))return n;var r=e.getAttribute(t);return S.a.isString(r)?r.trim():n}},{key:"elementSubElements",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(S.a.isBlank(t)||!S.a.isElement(t)||S.a.isBlank(n))return i;var a=e(a,0),u=o.map((function(e){return Reflect.construct(r,[e])}));return S.a.isBlank(u)?i:u}},{key:"toSec",value:function(e){if(S.a.isBlank(e))return NaN;var t=e.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)}},{key:"popSmaller",value:function(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&r<=t&&(n=n.concat(e[r]),delete e[r]);return n}}]),e}()),pi=function(){function e(){l()(this,e)}return d()(e,[{key:"create",value:function(e){try{var t=null==e?void 0:e.adSubElement;if(S.a.isBlank(t))return null;var n=fi.queryOne(t,"Extensions>Extension>RenderID"),r=fi.elementContent(n);if(S.a.isBlank(r))return null;var i=JSON.parse(r);return S.a.isBlank(i)?null:i}catch(a){return}}}]),e}(),hi=(n(156),S.a.namespace()),vi=function(){function e(t){l()(this,e),function(e,t){if(S.a.isBlank(t))throw new TypeError('"IvtVastElementCompanionClickThrough::constructor(); failed; argment is undefined or null;"');e.content=fi.elementContent(t),e.creativeType=fi.elementAttribute(t,"creativeType")}(hi(this),t)}return d()(e,[{key:"content",get:function(){return hi(this).content}},{key:"uri",get:function(){return hi(this).content}}]),e}();var yi=S.a.namespace(),mi=function(){function e(t){l()(this,e),function(e,t){if(S.a.isBlank(t))throw new TypeError('"IvtVastElementHtmlResource::constructor(); failed; argment is undefined or null;"');e.content=fi.elementContent(t),e.creativeType=fi.elementAttribute(t,"creativeType")}(yi(this),t)}return d()(e,[{key:"content",get:function(){return yi(this).content}},{key:"uri",get:function(){return yi(this).content}}]),e}();var gi=S.a.namespace(),Ai=function(){function e(t){l()(this,e),function(e,t){if(S.a.isBlank(t))throw new TypeError('"IvtVastElementIframeResource::constructor(); failed; argment is undefined or null;"');e.content=fi.elementContent(t),e.creativeType=fi.elementAttribute(t,"creativeType")}(gi(this),t)}return d()(e,[{key:"content",get:function(){return gi(this).content}},{key:"uri",get:function(){return gi(this).content}}]),e}();var wi=S.a.namespace(),ki=function(){function e(t){l()(this,e),function(e,t){if(S.a.isBlank(t))throw new TypeError('"IvtVastElementStaticResource::constructor(); failed; argment is undefined or null;"');e.content=fi.elementContent(t),e.creativeType=fi.elementAttribute(t,"creativeType")}(wi(this),t)}return d()(e,[{key:"content",get:function(){return wi(this).content}},{key:"uri",get:function(){return wi(this).content}},{key:"creativeType",get:function(){return wi(this).creativeType}}]),e}();var bi=S.a.namespace(),Si=function(){function e(t){l()(this,e),function(e,t){if(S.a.isBlank(t))throw new TypeError('"IvtVastElementCompanion::constructor(); failed; argment is undefined or null;"');e.staticResources=fi.elementSubElements(t,"StaticResource",ki),e.iframeResources=fi.elementSubElements(t,"IFrameResource",Ai),e.htmlResources=fi.elementSubElements(t,"HTMLResource",mi),e.companionClickThrough=fi.elementSubElements(t,"CompanionClickThrough",vi)[0]||null,e.width=parseInt(fi.elementAttribute(t,"width"),10),e.height=parseInt(fi.elementAttribute(t,"height"),10),e.id=fi.elementAttribute(t,"id"),e.assetWidth=parseInt(fi.elementAttribute(t,"assetWidth"),10),e.assetHeight=parseInt(fi.elementAttribute(t,"assetHeight"),10),e.expandedWidth=parseInt(fi.elementAttribute(t,"expandedWidth"),10),e.expandedHeight=parseInt(fi.elementAttribute(t,"expandedHeight"),10),e.apiFramework=fi.elementAttribute(t,"apiFramework"),e.adslotID=fi.elementAttribute(t,"adslotID"),e.pxratio=parseFloat(fi.elementAttribute(t,"pxratio",1)),e.staticResourceUri=e.staticResources[0]?e.staticResources[0].uri:null,e.iframeResourceUri=e.iframeResources[0]?e.iframeResources[0].uri:null,e.htmlResourceUri=e.htmlResources[0]?e.htmlResources[0].uri:null,e.clickThroughUri=e.companionClickThrough?e.companionClickThrs),t)}return d()(e,[{key:"isClass",get:function(){return!0}},{key:"staticResources",get:function(){return bi(this).staticResources}},{key:"iframeResources",get:function(){return bi(this).iframeResources}},{key:"htmlResources",get:function(){return bi(this).htmlResources}},{key:"companionClickThrough",get:function(){return bi(this).companionClickThrough}},{key:"width",get:function(){return bi(this).width}},{key:"height",get:function(){return bi(this).height}},{key:"id",get:function(){return bi(this).id}},{key:"assetWidth",get:function(){return bi(this).assetWidth}},{key:"assetHeight",get:function(){return bi(this).assetHeight}},{key:"expandedWidth",get:function(){return bi(this).expandedWidth}},{key:"expandedHeight",get:function(){return bi(this).expandedHeight}},{key:"apiFramework",get:function(){return bi(this).apiFramework}},{key:"adslotID",get:function(){return bi(this).adslotID}},{key:"pxratio",get:function(){return bi(this).pxratio}},{key:"staticResourceUri",get:function(){return bi(this).staticResourceUri}},{key:"iframeResourceUri",get:function(){return bi(this).iframeResourceUri}},{key:"htmlResourceUri",get:function(){return bi(this).htmlResourceUri}},{key:"clickThroughUri",get:function(){return bi(this).clickThroughUri}}]),e}();var Ci=S.a.namespace(),xi=function(){function e(t){l()(this,e),function(e,t){if(S.a.isBlank(t))throw new TypeError('"IvtVastElementCompanionAds::constructor(); failed; argment is undefined or null;"');e.companions=fi.elementSubElements(t,"Companion",Si),e.required=fi.elementAttribute(t,"required")}(Ci(this),t)}return d()(e,[{key:"companions",get:function(){return Ci(this).companions}},{key:"required",get:function(){return Ci(this).required}}]),e}();var Ei=S.a.namespace(),Vi=function(){function e(t){l()(this,e),function(e,t){if(S.a.isBlank(t))throw new TypeError('"IvtVastElementMediaFile::constructor(); failed; argment is undefined or null;"');var n=Ei(e);n._content=fi.elementContent(t),n._delivery=fi.elementAttribute(t,"delivery"),n._type=fi.elementAttribute(t,"type"),n._width=parseInt(fi.elementAttribute(t,"width"),10),n._height=parseInt(fi.elementAttribute(t,"height"),10),n._codec=fi.elementAttribute(t,"codec"),n._id=fi.elementAttribute(t,"id"),n._bitrate=parseInt(fi.elementAttribute(t,"bitrate"),10),n._minBitrate=parseInt(fi.elementAttribute(t,"minBitrate"),10),n._maxBitrate=parseInt(fi.elementAttribute(t,"maxBitrate"),10),n._scalable=S.a.stringToBool(fi.elementAttribute(t,"scalable"),!0),n._maintainAspectRatio=S.a.stringToBool(fi.elementAttribute(t,"maintainAspectRatio"),!0),n._apiFramework=fi.elementAttribute(t,"apiFramework"),n._isVpaid="application/javascript"===n._type&&"VPAID"===n._apiFramework,n._layoutType=n._height>=n._width?"vertical":"horizontal"}(this,t)}return d()(e,[{key:"content",get:function(){return Ei(this)._content}},{key:"uri",get:function(){return Ei(this)._content}},{key:"delivery",get:function(){return Ei(this)._delivery}},{key:"type",get:function(){return Ei(this)._type}},{key:"width",get:function(){return Ei(this)._width}},{key:"height",get:function(){return Ei(this)._height}},{key:"codec",get:function(){return Ei(this)._codec}},{key:"id",get:function(){return Ei(this)._id}},{key:"bitrate",get:function(){return Ei(this)._bitrate}},{key:"minBitrate",get:function(){return Ei(this)._minBitrate}},{key:"maxBitrate",get:function(){return Ei(this)._maxBitrate}},{key:"scalable",get:function(){return Ei(this)._scalable}},{key:"maintainAspectRatio",get:function(){return Ei(this)._maintainAspectRatio}},{key:"apiFramework",get:function(){return Ei(this)._apiFramework}},{key:"isVpaid",get:function(){return Ei(this)._isVpaid}},{key:"layoutType",get:function(){return Ei(this)._layoutType}}]),e}();var Bi=S.a.namespace(),Ii=function(){function e(t){l()(this,e),function(e,t){var n=Bi(e);if(S.a.isBlank(t))throw new TypeError('"IvtVastElementMediaFiles::constructor(); failed; argment is undefined or null;"');n._mediaFiles=fi.elementSubElements(t,"MediaFile",Vi)}(this,t)}return d()(e,[{key:"findOptimalMediaFile",value:fuey:"mediaFiles",get:function(){return Bi(this)._mediaFiles}}]),e}();function Ri(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,n=e.filter((function(e){return S.a.isBlank(e.dr((function(e){return"video/mp4application/javascript"===e.type&&"VPAID"===e.apiFramework}))),S.a.isBlank(r))return null;var i=r.sort((function(e,n){return e.bitrate<=t&&n.bitrate<=t?n.bitrate-e.bitrate:e.bitrate-n.bitrate}));return i[0]}function Pi(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fi=S.a.namespace();var Oi=function(){function e(){l()(this,e),p()(this,"ads",[]),p()(this,"ad1",null),p()(this,"duration",0),p()(this,"isEnabledTracking",!0),p()(this,"trackeds",[]),p()(this,"tracks",{videoClicksThrough:null,errors:[],impressions:[],videoClicksTracking:[],progresses:{},percents:{0:[],25:[],50:[],75:[],100:[]}}),p()(this,"duration",NaN),p()(this,"adTitle",null),p()(this,"advertiser",null),p()(this,"description",null),p()(this,"renderOption",null),p()(this,"adId",null),p()(this,"adSystem",null),p()(this,"creativeId",null),p()(this,"vastUrl",null);var t=Fi(this);t._media=void 0,t._mediaFilesObject=null,t._companionAdsObject=null}var t,n,r,i,a;return d()(e,[{key:"clear",value:function(){var e=Fi(this);e._media=null,delete e._media,e._mediaFilesObject=null,delete e._mediaFilesObject,e._companionAdsObject=null,delete e._companionAdsObject,this.ads=null,this.ad1=null,this.duration=null,this.isEnabledTracking=null,this.trackeds=null,this.tracks=null,this.duration=null,this.adTitle=null,this.advertiser=null,this.description=null,this.adId=null,this.adSystem=null,this.creativeId=null,this.vastUrl=null}},{key:"load",value:(a=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti.load(this,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"loadAndLocate",value:(i=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti.loadAndLocate(this,t));case 1:case"end":return e.stop()}}),e,this)}))),function)})},{key:"locateAd",value:function(e){Ti.locateAd(this,e)}},{key:"dispatchVastEvent",value:(r=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti.dispatchVastEvent(this,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"dispatchVastError",value:(n=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti.dispatchVastEvent(this,"errors",t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"companion",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Number(e),i=Number(t);return r&&mpanion(this,(function(e){return e.width===r&&e.height===i}),n)):null}},{key:"companionFromId",value:function(e){var t=arguments.length>1&&void 0!;return Ti.findCompanion(this,(function(t){return t.id===e}),t)}},{key:"onTimeupdate",value:(t=m()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti.onTimeupdate(this,t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"numAds",get:function(){return Ti.getNumAds(this)}},{key:"adParameters",get:function(){return fi.elementContent(fi.queryOne(this.ad1,"Creatives Creative Linear AdParameters",0))}},{key:"media",get:function(){return Ti.getMedia(this)}},{key:"mediaFilesObject",get:function(){return Tject",get:function(){return Ti.getCompanionAdsObject(this)}},{key:"isVpaid",get:function(){var e;return S.a.ifValue(null===(e=this.media)||void 0===e?void 0:e.isVpaid,!1)}}]),e}(),Ti=function(){function e(){l()(this,e)}var t,n,r,a,o,u,s,c,f,p,h,y;return d()(e,null,[{key:"_loadVast",value:(y=m()(v.a.mark((function t(n,r){var i,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,a=null,t.prev=3,!r.includes("<")){t.next=8;break}i=e._parseXML(n,r),t.next=12;break;case 8:return t.next=10,e._requestVast(n,r);case 10:i=t.sent,a=r;case 12:return t.next=14,e._parseVast(n,i,a);case 14:t.next=20;break;case 16:throw t.prev=16,t.t0=t.catch(3),t.t0;case 20:case"end":return t.stop()}}),t,null,[[3,16]])}))),function(e,n(e,t){return(new DOMParser).parseFromString(t,"text/xml")}},{key:"_parseVast",value:(h=m()(v.a.mark((function t(n,r){var i,a,o,u=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.length>2&&void 0!==u[2]?u[2]:null,t.prev=2,!(a=fi.queryOne(r,"VAST>Ad>InLine"))){t.next=10;break}return t.next=7,e._parseInline(n,a,i);case 7:if(!t.sent){t.next=10;break}return t.abrupt("return");case 10:if(!(o=fi.queryOne(r,"VAST>Ad>Wrapper"))){t.next=17;break}return t.next=14,e._parseWrapper(n,o,i);case 14:if(!t.sent){t.next=17;break}return t.abrupt("return");case 17:e._pushError(n,r),t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(2),t.t0;case 24:case"end":return t.stop()}}),t,null,[[2,20]])}))),function(e,t){return h.apply(this,arguments)})},{key:"_parseInline",value:(p=m()(v.a.mark((function t(n,r){var i,a,o,u,s,l,c=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=c.length>2&&void 0!==c[2]?c[2]:null,t.prev=1,(a=(new pi).create({adSubElement:r}))&&(n.renderOption=a),o=fi.queryOne(r,"Creatives>Creative>Linear>MediaFiles"),!S.a.isBlank(o)){t.next=9;break}return t.abrupt("return",!1);case 9:if(u=new Ii(o),!(s=null==u?void 0:u.findOptimalMediaFile()).isVpaid){t.next=14;break}return t.next=14,e._parseIasVpaidIfNeeded(n,s);case 14:return S.a.isBlank(n.vastUrl)&&(n.vastUrl=i),S.a.isBlank(n.ads)&&(n.ads=[r.parentNode]),S.a.isBlank(n.ad1)&&(n.ad1=r),l=Fi(n),S.a.isBlank(l._mediaFilesObject)&&(l._mediaFilesObject=u),S.a.isBlank(l._media)&&(l._media=s),e._pushTrackingEvents(n,r),t.abrupt("return",!0);case 22:return t.prev=22,t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[1,,22,25]])}))),function(e,t){return p.apply(this,arguments)})},{key:"_parseWrapper",value:(f=m()(v.a.mark((function t(n,r){var i,a,o,u,s=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.length>2&&void 0!==s[2]&&s[2],t.prev=1,(i=(new pi).create({adSubElement:r}))&&(n.renderOption=i),e._pushTrackingEvents(n,r),a=fi.elementContent(fi.queryOne(r,"VASTAdTagURI")),!S.a.isBlank(a)){t.next=9;break}return t.abrupt("return",!1);case 9:return t.next=11,e._requestVastWrapper(n,a);case 11:if(o=t.sent,!S.a.isBlank(o)){t.next=14;break}return t.abrupt("return",!1);case 14:return t.next=16,e._parseVast(n,o,a);case 16:return u=t.sent,t.abrupt("return",u);case 18:return t.prev=18,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[1,,18,21]])}))),function(e,t){return f.apply(this,arguments)})},{key:"_parseIasVpaidIfNeeded",value:(c=m()(v.a.mark((function t(n,r){var i,a,o,u,s,l,c,d,f,p,h,y,m,g;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=RegExp("IASVideo.js$","i"),o=r.uri,(u=document.createElement("a")).href=o,s=a.test(u.pathname),l=u.search,c=null==l||null===(i=l.toLowerCase())||void 0===i?void 0:i.indexOf("originalvast="),d=l.slice(c+"originalvast=".length),s&&!S.a.isBlank(d)){t.next=14;break}return t.abrupt("return",!1);case 14:return t.next=16,e._requestVastWrapper(n,d);case 16:if(f=t.sent,p=fi.queryOne(f,"VAST>Ad>InLine"),!(h=fi.queryOne(p,"Creatives>Creative>Linear>MediaFiles"))){t.next=32;break}if(new Ii(h).findOptimalMediaFile().isVpaid){t.next=25;break}return t.abrupt("return",!1);case 25:return t.next=28,e._parseVast(n,f,d);case 28:return y=t.sent,t.abrupt("return",y);case 32:return m=fi.queryOne(f,"VAST>Ad>Wrapper"),t.next=36,e._parseWrapper(n,m,d);case 36:return g=t.sent,t.abrupt("return",g);case 38:return t.prev=38,t.finish(38);case 41:case"end":return t.stop()}}),t,null,[[0,,38,41]])}))),function(e,t){return c.apply(this,arguments)})},{key:"_requestVast",value:(s=m()(v.a.mark((function t(n,r){var i,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,!S.a.isBlank(r)){t.next=4;break}throw new Error("vast url is empty;");case 4:if(!(i=e._conversionMacro(r)).includes("//img.ak.impact-ad.jp/ic/pone/VAST/VAST.xml")){t.next=8;break}throw new Error("m1 empty vast error;");case 8:return t.next=10,e._httpRequest(i);case 10:if(a=t.sent){t.next=13;break}throw new Error("vast format error;");case 13:return t.abrupt("return",a);case 16:throw t.prev=16,t.t0=t.catch(1),t.t0;case 20:case"end":return t.stop()}}),t,null,[[1,16]])}))),function(e,t){return s.apply(this,arguments)})},{key:"_requestVastWrapper",value:(u=m()(v.a.mark((function t(n,r){var i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=1,!S.a.isBlank(r)){t.next=4;break}throw new Error('"vast url is empty;"');case 4:if(!r.includes("//img.ak.impact-ad.jp/ic/pone/VAST/VAST.xml")){t.next=6;break}throw new Error('"m1 empty vast error;"');case 6:return t.next=8,e._requestVast(n,r);case 8:return i=t.sent,t.abrupt("return",i);case 12:throw t.prev=12,t.t0=t.catch(1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),function(e,t){return u.apply(this,arguments)})},{key:"_httpRequest",value:(o=m()(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new XMLHttpRequest;r.addEventListener("load",(function(){200===r.status?e(r.response):n(new Error("invalid url :"+t))}),!1),r.addEventListener("error",(function(e){n(e)}),!1),r.open("GET",thCredentials=ge.filter((function(e){return t.indexOf(e)>=0})).length<=0,r.send()})));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"_conversionMacro",value:function(e){var t=e;return t=(t=(t=(t=(t=t.replace("$rand$",Math.random(Date.now()))).replace(/{IMPRESSION_ID}/g,S.a.randomNum())).replace(/{REFERER_ESC}/g,encodeURIComponent(S.a.getReferrer()))).replace(/{WIDTH}/g,S.a.getWidth())).replace(/{HEIGHT}/g,S.a.getHeight())}},{key:"_conversionErrorMacro",value:function(e,t,n){var r=t||"900",ent(n)||"",o=function(e){function t(e){return e<10?"0"+e:e}var n=e.getFullYear(),r=t(e.getMonth()+1),i=t(e.getDate()),a=t(e.getHours()),o=e.getMinutes(),u=e.getSeconds(),s=(e.getMilliseconds()/1e3).toFixed(3).slice(2,5),l=t(e.getTimezoneOffset()/-60);return"".concat(n,"-").concat(r,"-").concat(i,"T").concat(a,":").concat(o,":").concat(u,":").concat(s,"+").concat(l)}(new Date),u=e;return u=(u=(u=(u=(u=u.replace(/\[ERRORCODE\]/g,r)).replace(/\[CONTENTPLAYHEAD\]/g,"00:00:00.000")).replace(/\[CACHEBUSTING\]/g,i)).replace(/\[ASSETURI\]/g,a)).replace(/\[TIMESTAMP\]/g,o)}},{key:"dispatchVastEvent",value:function(t,n,r){var i=t.tracks[n];return new Promise((function(a,o){if(S.a.isBlank(i))a();else{var u,s=[],l=Pi(i);try{for(l.s();!(u=l.n()).done;){var c=u.value,d=c;if("errors"===n){var f=null==r?void 0:r.code;d=e._conversionErrorMacro(c,f,t.vastUrl)}s.push(e._beacon(t,d))}}catch(p){f()}Promise.all(s).then((function(){a()}),(function(e){a()}))}}))}},{key:"_pushError",value:function(e,t){var n,r=e.tracks,i=Pi(fi.queryAll(t,"VAST>Error"));try{for(i.s();!(n=i.n()).done;){var a=n.value;r.errors.push(fi.elementContent(a))}}catch(o){i.e(o)}finally{i.f()}}},{key:"_pushTrackingEvents",value:function(e,t){var n,r=e.tracks,i=Pi(fi.queryAll(t,"Error"));try{for(i.s();!(n=i.n()).done;){var a=n.value;r.errors.push(fi.elementContent(a))}}catch(k){i.e(k)}finally{i.f()}var o,u=Pi(fi.queryAll(t,"Impression"));try{for(u.s();!(o=u.n()).done;){var s=o.value;r.impressions.push(fi.elementContent(s))}}catch(k){u.e(k)}finally{u.f()}var l,c=Pi(fi.queryAll(t,"Creatives Creative Linear VideoClicks ClickTracking"));try{for(c.s();!(l=c.n()).done;){var d=l.value;r.videoClicksTracking.push(fi.elementContent(d))}}catch(k){c.e(k)}finally{c.f()}var f=fi.queryAll(t,"Creatives Creative Linear VideoClicks ClickThrough");S.a.isPresent(f)&&(r.videoClicksThrough=fi.elementContent(f[0]));var p,h=Pi(fi.queryAll(t,"Creatives Creative Linear TrackingEvents Tracking",0));try{for(h.s();!(p=h.n()).done;){var v=p.value,y=v.getAttribute("event"),m=fi.elementContent(v);if("progress"===y){var g=v.getAttribute("offset");if("%"===g.slice(-1)){var A=S.a.toDecimal(g,NaN);0<=A&&(Array.isArray(r.percents[A])||(r.percents[A]=[]),r.percents[A].push(m))}else{var w=fi.toSec(g);0<=w&&(Array.isArray(r.progresses[w])||(r.progresses[w]=[]),r.progresses[w].push(m))}}else"start"===y?r.percents[0].push(m):"firstQuartile"===y?r.percents[25].push(m):"midpoint"===y?r.percents[50].push(m):"thirdQuartile"===y?r.percents[75].push(m):"complete"===y?r.percents[100].push(m):(r[y]=r[y]?r[y]:[],r[y].push(m))}}catch(k){h.e(k)}finally{h.f()}}},{key:"_beacon",value:(a=m()(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=i.createBeacon("img");r.style.display="none",r.on("load",(function(){t.trackeds.push(n),r&&r.parentNode&&r.parentNode.removeChild(r),e()})),r.on("error",(function(i){t.trackeds.push(n),r&&r.parentNode&&r.parentNode.removeChild(r),e()})),r.src=n,document.body.appendChild(r)})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"onTimeupdate",value:(r=m()(v.a.mark((function t(n,r,i){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){if(n.isEnabledTracking){var o=fi.popSmaller(n.tracks.progresses,r),u=fi.popSmaller(n.tracks.percents,i),s=o.concat(u);if(s.length){var l,c=[],d=Pi(s);try{for(d.s();!(l=d.n()).done;){var f=l.value;c.push(e._beacon(n,f))}}catch(p){()}Promise.all(c).then((function(){t()}),(function(e){a(e)}))}else )}}),t)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"lo.next=3,e._loadVast(n,r);case 3:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})},{key:"loadAndLocate",value:(t=m()(v.a.mark((function t(n,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e.load(n,r);case 3:if(e.locateAd(n,0)){t.next=5;break}throw new Errorp()}}),t)}))),function(e,n){return t.apply(this,arguments)})},{key:"locateAd",value:function(e,t){var n=e.ads[t];if(S.a.isNil(n))return!1;var r=e.ad1;return!S.a.isNil(r)&&(e.adId=n.getAttribute("id"),e.creativeId=fi.queryOne(r,"Creatives Creative ",0).getAttribute("id"),e.adSystem=fi.elementContent(fi.queryOne(r,"AdSystem",0)).replace(/\s+/g,""),e.duration=fi.toSec(fi.elementContent(fi.queryOne(r,"Creatives Creative Linear Duration",0))),e.adTitle=fi.elementContent(fi.queryOne(r,"AdTitle",0)),e.description=fi.elementContent(fi.queryOne(r,"Description",0)),e.advertiser=fi.elementContent(fi.queryOne(r,"Advertiser",0)),S.a.isBlank(e.advertiser)&&(e.advertiser=fi.elementContent(fi.queryOne(r,"Extensi)}},{key:"getNumAds",value:function(e){return e.ads.length}},{key:"getMediaFilesObject",value:function(e){try{var t=Fi(e);if(t._mediaFilesObject)return t._mediaFilesObject;var n=fi.queryOne(e.ad1,"Creatives Creative Linear MediaFiles");return t._mediaFilesObject=new Ii(n),t._mediaFilesObject}catch(r){return null}}},{key:"getMedia",value:function(e){var t=Fi(e);return S.a.isUndefined(t._media)&&(t._media=e.mediaFilesObject.findOptimalMediaFile()),t._media}},{key:"getCompanionAdsObject",value:function(e){try{var t=Fi(e);if(t._companionAdsObject)return t._companionAdsObject;var n=fi.queryOne(e.ad1,"Creatives CompanionAds");return t._companionAdsObject=new xi(n),t._companionAdsObject}catch(r){return null}}},{key:"findCompanion",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{return e.companionAdsObth);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Di="Succeeded",Li="Failed",Mi=0,Ni=1,ji=2,Wi=3,Qi=function(){function e(t,n){l()(this,e),p()(this,"_vastUrls",[]),p()(this,"_timeout",1e3),p()(this,"_currentIndex",0),p()(this,"_loadStatus",Mi),p()(this,"_loadedVasts",[]),p()(this,"_promiseFunctions",[]),p()(this,"_succeededVasts",[]),p()(this,"_timeoutId",void 0),this._vastUrls=t||this._vastUrls,this._timeout=n||this._timeout}return d()(e,[{key:"clear",value:function(){window.clearTimeout(this._timeoutId),this._vastUrls=void 0,this._timeout=void 0,this._currentIndex=void 0,this._loadStatus=void 0,this._loadedVasts=void 0,this._promiseFunctions=void 0,this._succeededVasts=void 0,this._timeoutId=void 0}},{key:"loadVasts",value:function(){var e=this;if(!(Ni<=this._loadStatus)){this._loadStatus=Ni;for(var t=this._vastUrls,n=[],r=[],i=0,a=Object.entries(t);i<a.length;i++){var o=xe()(a[i],2),u=o[0],s=o[1],l=new Oi;l.priority=u,l.url=s,n.push(Hi.loadVast(this,l))}m()(v.a.mark((function t(){var i,a,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Ui(n),t.prev=1,i.s();case 3:if((a=i.n()).done){t.next=11;break}return o=a.value,t.next=7,o;case 7:u=t.sent,Hi.didEnd(e,u);case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),i.e(t.t0);case 16:return t.prev=16,i.f(),t.finish(16);case 19:return t.next=21,Promise.all(r);case 21:Hi.didFinish(e);case 22:case"end":return t.stop()}}),t,null,[[1,13,16,._timeoutId=window.setTimeout((function(){Hi.didTimeout(e)}),this._timeout))}}},{key:"next",value:function(){var e=this,t=this._currentIndex;return this._currentIndex+=1,new Promise((function(n,r){if(t<e._succeededVasts.length)n(e._succeededVasts[t]);else if(ji<=e._loadStatus){e._currentIndex=NaN;var i=Wi<=e._loadStatus?u.IvtErrorCode.noAd:u.IvtErrorCode.timeout;r(new J("no ad",i))}else{var a={resolve:n,reject:r};e._promiseFunctions.push(a)}}))}}]),e}(),Hi=function(){function e(){l()(this,e)}return d()(e,null,[{key:"loadVast",value:function(e,t){return new Promise((function(n){t.loadAndLocate(t.url).then((function(){var r;null===(r=e._loadedVasts)||void 0===r||r.push(t),n({vast:t,status:Di,error:null})}),(function(e){e.errorCode=u.IvtErrorCode.noAd,n({vast:t,status:Li,error:e})}))}))}},{key:"didEnd",value:function(t,n){n.status===Li?e.didFail(t,n.vast,n.error):e.didSucceed(t,n.vast)}},{key:"didSucceed",value:function(e,t){var n;if(!(S.a.isNil(e._loadStatus)||Wi<=e._loadStatus)){e._loadedVasts=e._loadedVasts.filter((function(e){return e!==t})),e._succeededVasts.push(t);var r=e._promiseFunctions.shift();null==r||null===(n=r.resolve)||void 0===n||n.call(r,t)}}},{key:"didFail",value:function(e,t,n){null==t||t.dispatchVastError(n.errorCode),S.a.isNil(e._loadStatus)||e._loadStatus}},{key:"didFinish",value:function(e){if(!(S.a.isNil(e._loadStatus)||Wi<=e._loadStatus)){S.a.isValue(e._timeoutId)&&(window.clearTimeout(e._timeoutId),e._timeoutId=void 0),e._loadStatus=Wi;var t,n=new J("no ad",u.IvtErrorCode.noAd),r=Ui(e._promiseFunctions);try{for(r.s();!(t=r.n()).done;){var i,a=t.value;null==a||null===(i=a.reject)||void 0===i||i.call(a,n)}}catch(o){r.e(o)}finally{r.f()}e._promiseFunctions=[],e._loadedVasts=[]}}},{key:"didTimeout",value:function(t){if(!(S.a.isNil(t._loadStatus)||ji<=t._loadStatus)){t._timeoutId&&(window.clearTimeout(t._timeoutId),t._timeoutId=null),t._loadStatus=ji,t._loadedVasts.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));var n,r=Ui(t._loadedVasts);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.didSucceed(t,i)}}catch(a){ion e(){l()(this,e),p()(this,"_adStoreChangedFunc",void 0)}var t;return d()(e,[{key:"init",value:function(){return this._adStoreChangedFunc=mt.changed.bind(null,this),qr.adStore.addOer(this._adStoreChangedFunc),this._adStoreChangedFunc=null}},{key:"willVastRequest",value:(t=m()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yi.requestVast(this);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Yi=function(){function e(){l()(this,e)}var t;return d()(e,null,[{key:"requestVast",value:(t=m()(v.a.mark((function e(t){var n,r,i,a,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null===(n=qr.option)||void 0===n?void 0:n.urls,a=null===(r=qr.option)||void 0===r?void 0:r.multiVastTimeout,e.prev=2,(o=new Qi(i,a)).loadVasts(),e.next=8,o.next();case 8:u=e.sent,o.clear(),qr.adStore.setVast(u),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 17:return e.prev=17,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,13,17,20]])}))),function(e){return t.apply(this,arguments)})}]),e}(),Gi=function(){function e(){l()(this,e)}return d()(e,null,[{key:"init",value:function(){try{fe.browserType,fe.browserVersion,fe.osType,fe.osVersion;this._adAction=new Zr,this._adContainerAction=new Jr,this._inviewCheckAction=new ci,this._userAction=new di,this._vastAction=(new qi).init()}catch(e){}return this}},{key:"deinit",value:function(){try{var e,t,n,r,i;null===(e=this._adAction)||void 0===e||e.deinit(),null===(t=this._adContainerAction)||void 0===t||t.clear(),null===(n=this._inviewCheckAction)||void 0===n||n.clear(),null===(r=this._userAction)||void 0===r||r.deinit(),null===(i=this._vastAction)||void 0===i||i.deinit()}catch(a){}}},{key:"adAction",get:function(){return this._adAction}},{key:"adContainerAction",get:function(){return this._adContainerAction}},{key:"inviewCheckAction",get:function(){return this._inviewCheckAction}},{key:"userAction",get:function(){return this._userAction}},{key:"vastAction",get:function(){return this._vastAction}}]),e}();p()(Gi,"_adAction",null),p()(Gi,"_adContainerAction",null),p()(Gi,"_inviewCheckAction",null),p()(Gi,"_userAction",null),p()(Gi,"_vastAction",null);var Ki=Gi,Zi=(S.a.namespace(),function(){function e(){l()(this,e)}return d()(e,[{key:"clear",value:function(){}},{key:"loadAd",value:function(){Ki.adAction.load()}},{key:"startAd",value:function(){Ki.adAction.start()}},{key:"finishAd",value:function(){Ki.adAction.unload()}},{key:"resumeAd",value:function(){Ki.adAction.play()}},{key:"pauseAd",value:function(){Ki.adAction.pause()}},{key:"replayAd",value:function(){Ki.adAction.replay()}},{key:"muteAd",value:function(){Ki.adAction.mute()}},{key:"unmuteAd",vai.adAction.unmute()}},{key:"resizeAd",value:function(e,t){}},{key:"adUserInteraction",value:function(e){var t=Array.prototype.slice.call(arguments,1);switch(e){case u.IvtAdUIType.click:Ki.userAction.videoClick();break;case u.IvtAdUIType.mute:Ki.userAction.mute();break;case u.IvtAdUIType.unmute:Ki.userAction.unmute();break;case u.IvtAdUIType.volumeChange:var n=t[0];Ki.userAction.volumeChange(n);break;case u.IvtAdUIType.pause:var r=t[0];Ki.userAction.pause(r);break;case u.IvtAdUIType.resume:var i=t[0];Ki.userAction.play(i);break;case u.IvtAdUIType.rewind:Ki.userAction.replay();break;case u.IvtAdUIType.close:Ki.userAction.close();break;case u.IvtAdUIType.optout:Ki.userAction.optout();break;case u.IvtAdUIType.acceptInvitation:Ki.userAction.acceptInvitation()}}},{key:"adPlayer",get:function(){return qr.videoElement}},{key:"adPlayerSlot",get:function(){var e,t;return null===(e=qr.primaryAdContainer)||void 0===e||null===(t=e.adView)||void 0===t?void 0:t.playerSlot}},{key:"adPlayerState",get:function(){return"normal"}},{key:"adProgress",get:function(){var e;return null===(e=qr.videoView)||void 0===e?void 0:e.progress}},{key:"adDuration",get:function(){var e;return null===(e=qr.videoView)||void 0===e?void 0:e.duration}},{key:"adVolume",get:function(){var e;return null===(e=qr.videoView)||void 0===e?void 0:e.volume},set:function(e){var t,n;null===(t=qr.videoView)||void 0===t||null===(n=t.eturn null===(e=qr.videoView)||void 0===e?void 0:e.isMuted}},{key:"isAdFullscreen",get:function(){return!1}},{key:"isAdVpaid",get:function(){var e;return null===(e=qr.configStore.primaryConfig)||void 0===e?void 0:e.adVpaid.isVpaid}},{key:"isAdPlaying",get:function(){var e;return S.a.toBool(null===(e=qr.adStore)||void 0===e?void 0:e.isPlayed)}},{key:"isAdPaused",get:function(){var e;return S.a.toBool(null===(e=qr.adStoBool(null===(e=qr.adStore)||void 0===e?void 0:e.isStopped)}},{key:"vastCurrentMediaFile",get:function(){var e,t;return null===(e=qr.adStore)||void 0===e||null===(t=e.vast)||void 0===t?void 0:t.media}},{key:"vastMediaFiles",get:function(){var e,t;return null===(e=qr.adStore)||void 0===e||null===(t=e.vast)||void 0===t?vull===(n=t.tracks)||void 0===|null===(t=e.vast)||void 0===t?void 0:t.companionAdsObject}}]),e}());function Xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var i=k()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j()(this,n)}}var Ji=S.a.namespace(),$i=u.IvtAdEvent,ea=u.IvtAdUIType,ta=function(e){M()(n,e);var t=Xi(n);function n(){var e;return l()(this,n),e=t.call(this),p()(Z()(e),"_adStoreChangedFunc",void 0),e._adStoreChangedFunc=mt.changed.bind(null,Z()(e)),qr.adStore.addObsever(e._adStoreChangedFunc),Ji(Z()(e)).controller=null,e}return d()(n,[{key:"controller",get:function(){return Ji(this).controller}}]),d()(n,[{key:"clear",value:function(){var e=Ji(this);e.controller=null,delete e.controller,e.adStoreChangedFunc=null,delete e.adStoreChangedFunc,A()(k()(n.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){if(!e.controller)throw new Error('"setup(); failed; Not declared controller;"');return Ji(this).contn=this.controller)||void 0===n||===(t=qr.adStore.vast)||void 0===t||t.dispatchVastEvent(e)}},{key:"dispatchVastProgress",value:function(e,t){var n;null===(n=qr.adStore.vast)||void 0===n||n.onTimeupdate(e,t)}},{key:"dispatchVastError",value:function(e){var t;null===(t=qr.adStore.vast)||void 0===t||t.dispatchVastError({code:e})}},{key:"didVastRequest",value:function(){this.notifyEventCallback($i.didVastRequest)}},{key:"didAdCreate",value:function(){}},{key:"didAdLoad",value:function(){this.dispatchVastEvent("creativeView"),this.notifyEventCallback($i.didAdLoad)}},{key:"didAdStart",value:function(){this.notifyEventCallback($i.didAdStart)}},{key:"didAdStop",value:function(){this.notifyEventCallback($i.didAdStop)}},{key:"didAdPlay",value:function(){this.notifyEventCallback($i.didAdPlay)}},{key:"didAdPause",value:function(){this.nofyEventCallback($i.didAdUnload),this.controller.finishAd()}},{key:"didAdClose",value:function(){this.notifyEventCallback($i.didAdClose)}},{key:"didAdImpression",value:function(){this.dispatchVastEvent("impressions"),this.notifyEvelue:function(e){this.notifyEventCallback($i.didAdViewable)}},{key:"didClick",value:function(){this.notifyEventCallback($i.didAdClick)}},{key:"didAdOptout",value:function(){this.notifyEventCallback($i.didAdOptout)}},{key:"didSizeChange",value:function(){this.notifyEventCallback($i.didAdSizeChange)}},{key:"didAdMute",value:function(){this.notifyEventCallback($i.didAdMute)}},{key:"didAdUnmute",value:function(){this.notifyEventCallback($i.didAdUnmute)}},{key:"didAdVolumeChange",value:function(){this.notifyEve,value:function(){this.notifyEventCallback($i.didAdReplay)}},{key:"didVideoProgress",value:function(e){var t=null==e?void 0:e.progress,n=null==e?void 0:e.duration,r=null==e?void 0:e.percent;(0<=t||0<=r)&&(this.dispatchVastProgress(t,r),this.notifyEventCallback($i.didVideoProgress,{progress:t,percent:r,duration:n}))}},{key:"didVideoStart",value:function(e){var t=null==e?void 0:e.progress,n=(null==e||e.duration,null==e?void 0:e.percent);(0<=t||0<=n)&&(this.dispatchVastProgress(t,n),this.notifyEventCallback($i.didVideoStart))}},{key:"didVideoFirstQuartile",value:function(e){var t=null==e?void 0:e.progress,n=(null==e||e.duration,null==e?void 0:e.percent);(0<=t||0<=n)&&(this.dispatchVastProgress(t,n),this.notifyEventCallback($i.didVideoFirstQuartile))}},{key:"didVideoMidpoint",value:function(e){var t=null==e?void 0:e.progress,n=(null==e||e.duration,null==e?void 0:e.percent);(0<=t||0<=n)&&(this.dispatchVastProgress(t,n),this.notifyEventCallback($i.didVideoMidpoint))}},{key:"didVideoThirdQuartile",value:function(e){var t=null==e?void 0:e.progress,n=(null==e||e.duration,null==e?void 0:e.percent);(0<=t||0<=n)&&(this.dispatchVastProgress(t,n),this.notifyEventCallback($i.didVideoThirdQuartile))}},{key:"didVideoComplete",value:function(e){var t=null==e?void 0:e.progress,n=(null==e||e.duration,null==e?void 0:e.percent);(0<=t||0<=n)&&(this.dispatchVastProgress(t,n),this.notifyEventCallback($i.didVideoComplete))}},{key:"didUserVideoClick",value:function(e){null==e||e.url,null==e||e.id;this.dispatchVastEvent("videoClicksTracking"),this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.click})}},{key:"didUserMute",value:function(){this.dispatchVastEvent("mute"),this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.mute})}},{key:"didUserUnmute",value:function(){this.dispatchVastEvent("unmute"),this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.unmute})}},{key:"didUserVolumeChange",value:function(e){null==e||e.volume;this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.volumeChange})}},{key:"didUserPause",value:function(e){null==e||e.pausedReason;this.dispatchVastEvent("pause"),this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.pause})}},{key:"didUserPlay",value:function(e){null==e||e.pausedReason;this.dispatchVastEvent("resume"),this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.resume})}},{key:"didUserReplay",value:function(e){this.dispatchVastEvent("rewind"),this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.rewind})}},{key:"didUserClose",value:function(e){var t=null==e?void 0:e.adContainerId;qr.primaryAdContainer.id===t&&(this.dispatchVastEvent("close"),this.dispatchVastEvent("closeLinear"),this.notifyEventCallback($i.AdUserInteractioCallback($i.AdUserInteraction,{interactionType:ea.optout})}},{key:"didUserAcceptInvitation",value:function(){this.dispatchVastEvent("acceptInvitation"),this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.acceptInvitation})}},{key:"didUserCollapse",value:function(e){this.dispatchVastEvent("collapse"),this.notifyEventCallback($i.AdUserInteraction,{interactionType:ea.collapse})}},{key:"didUserExpand",value:function(e){this.dispatchVastEvent("expand"),this.notifyEventCallback($i.AdUserInteractUserSkip",value:function(e){this.dispatchVastEvent("skip")}},{key:"didAdError",value:function(e){var t=null==e?void 0:e.message,n=null==e?void 0:e.errorCode;this.controller.didAdError(),this.dispatchVastError(n),this.notifyEventCallback($i.AdError,{message:t})}}]),n}(a.IvtEventTarget),na=S.a.namespace();function ra(e){var t,n=na(e),r=n.onVisibilityChange;r&&(window.document.removeEventListener("visibilitychange",r,!1),n.onVisibilityChange=void 0),n.adViewController&&n.adViewController.clear(),n.adViewController=null,null===(t=n.vastLoader)||void 0===t||t.clear()}var ia=function(){function e(){l()(this,e),p()(this,"vast",null),p()(this,"isAdAutoInit",!0);var t=na(this);t.eventCallback=null,t.adViewController=null,t.isTransitioning=!1,t.vastLoader=null,t.controllerApi=new Zi({controller:this}),t.onResizeFunc=function(e){Ki.adAction.updateLayout()},t.onVisibilityChange=function(e){!function(e,t){if("visible"===window.document.visibilityState){var n=u.IvtPlayerPausedReason.visible;qr.configStore.adService.enableForcePlay&&(n=S.a.addFlag(n,u.IvtPlayerPausedReason.vpaid)),Ki.adAction.play(n),Ki.inviewCheckAction.enable()}else Ki.inviewCheckAction.disable(),Ki.adAction.pause(u.IvtPlayerPausedReason.visible)}()},t.isResizeAdViewController=!0}return d()(e,[{key:"setup",value:function(e){na(this).eventCallback=qr.option.eventCallback,function(e){var t=na(e);window.addEventListener("resize",t.onResizeFunc,!1),window.addEventListener("orientationchange",t.onResizeFunc,!1),window.document.addEventListener("visibilitychange",t.onVisibilityChange,!1)}(this),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",(function(){Ki.userAction.play()})),navigator.mediaSession.setActionHandler("pause",(function(){Ki.userAction.pause()})));var t={controller:this};return this.eventManager=(new ta).setup(t),this}},{key:"clear",value:function(){var e=this,t=na(this);ra(this),function(e){var t=na(e);window.removeEventListener("resize",t.onResizeFunc,!1),window.removeEventListener("orientationchange",t.onResizeFunc,!1),window.document.removeEventListener("visibilitychange",t.onVisibilityChange,!1)}(this),e.vast=null,delete e.vast,e.isAdAutoInit=null,delete e.isAdAutoInit,t.eventCallback=null,delete t.eventCallback,t.adViewController=null,delete t.adViewController,t.closeButton=null,delete t.closeButton,t.isTransitioning=null,delete t.isTransitioning,t.vastLoader=null,delete t.vastLoader,t.controllerApi&&t.controllerApi.clear(),t.controllerApi=null,delete t.controllerApi,t.onResizeFunc=null,delete t.onResizeFunc,t.onVisibilityChange=null,delete t.onVisibilityChange,t.isResizeAdViewController=null,ewController}},{key:"didAdError",value:function(){ra(this)}},{key:"fini,value:function(e,t){na(this).adViewController.resize(e,t)}},{key:"notifyEventCallback",value:function(e,t){var n=na(this);if(S.a.isFunction(n.eventCallback)&&(e!==u.IvtAdEvent.AdSizeChange||!n.isTransitioning)){var r=a.createEvent(e,{detail:t});n.eventCallback(n.controllerApi,r)}}}]),e}(),aa=function(){function e(){l()(this,e)}return d()(e,null,[{key:"init",value:function(e){try{oa.initControllerWithCurrentTag()||oa.initControllerWithOldTag(e)}catch(t){}}}]),e}();p()(aa,"version","dac-ivt-version_2.20200929.1");var oa=function(){function e(){l()(this,e)}return d()(e,null,[{key:"initControllerWithCurrentTag",value:function(){varn=null;if(t.some((function(e){return!e.processed&&(n=e,!0)})),n){n.processed=!0;var r=document.getElementById(n.id);return e._initAdController(r,n),!0}return!1}},{key:"initControllerWithOldTag",value:function(t){var n=document.currentScript;if(!n){var r=document.getElementsByTagName("script");n=r.item(r.length-1)}if(!S.a.isNil(n)){var i,a=n.previousElementSibling;if(S.a.isValue(t))a=null===(i=a)||void 0===i?void 0:i.previousElementSibling;if(!S.a.isNil(a)){var o=S.a.ifValue(window.dacParams,a.dataset);o&&(o.urls||o.url||o.n)&&(o.exec=o.exec||"false",S.a.toBool(o.exec)||(o.exec="true",e._initAdController(a,o)))}}}},{key:"_initAdController",value:function(e,t){var n={target:e,dataset:t};qr.init(n),qr.validate(n),Ki.init();(new ia).setup(n);Ki.adAction.request()}}]),e}();window.DacIvtController=aa,aa.init()}]);