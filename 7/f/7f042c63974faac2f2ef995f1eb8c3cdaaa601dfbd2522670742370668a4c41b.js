/* Copyright (c) 2017 WalkMe v2.14.7 */
;(function () { var __wmPrelibConfig = {"buildDate":"2022-06-09T08:25:38.331Z","plugins":[{"name":"wm-plugin-teach-me-widget@2.0.28@prelib","url":"prelib"},{"name":"wm-plugin-user-behavior@5.0.61@prelib","url":"prelib"},{"name":"wm-plugin-visions-recorder@2.0.17@prelib","url":"prelib"}]};}},function(t,e){"use strict";function n(){if(s()){var t=arguments;try{t.stack=(new Error).stack}catch(n){}r(t);var e=Array().slice.call(t);console.log.apply(console,e)}function o(){return g}function i(t){v=t}function a(){return d,h,v="walkme_prelib_log_enabled",y=1e4,g=[],m={write:n,getCookieName:a,setCookieName:i,enableLog:u,disableLog:c,isLogEnabled:s,readCookie:l,writeCookie:p,getLogHistoryRecords:o};t.exports=m},function(t,e,n){(function(t,r){function o(){var t=document.createElement("iframe");return t.id="walkme-native-functions",t.style.display="none",t.style.position="absolute",t.style.visibility="hidden",t.style.zIndex="-2147483647",document.body.appendChild(t),t.contentWindow}var }(),a=i&&i.Promise,u={};a?(a.Promise=i.Promise,u=a,u.on=function(){},u.defer=function(){return wmjQuery.Deferred()}):/*!
	  * @overview RSVP - a tiny implementation of Promises/A+.
	  * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
	  * @license   Licensed under MIT license
	  *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
	  * @version   3.1.0
	  */
}(),e.promiseManager=u}).call(e,n(9),function(){return this}())}]);
})();

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-teach-me-widget@2.0.28@prelib",{name:"wm-plugin-teach-me-widget",version:"2.0.28",toolbelt:"1.2.9",packageDate:"2021-11-02T13:14:17.097Z",entry:"prelib"},function(e){return function(e){var a={};function m(l){if(a[l])return a[l].exports;var t=a[l]={exports:{},id:l,loaded:!1};return e[l].call(t.exports,t,t.exports,m),t.loaded=!0,t.exports}return m.m=e,m.c=a,m.p="",m(0)}([function(e,a,m){e.exports=m(1)},function(e,a,m){!function(a,m){"object"==typeof e&&"object"==typeof e.exports?e.exports=m:a.teachMeWidgetPlugin=m}(this,function(e){var a=e(),l=a.ctx;a.di;function t(){var e,a,m,l,t,n=this;function w(m){e=m,a=m}n.load=function(e){m=e.config,w(e.jQuery),l=e.callback,t=e.utils;try{o()}catch(a){_makeTutorial.Logger.customerLog("not loading widget - error injecting widget css",1)}};function o(){window.walkme_special_css_file?k(window.walkme_special_css_file):window._walkmeInternals&&_walkmeInternals.widget_css_jsonp?i(_walkmeInternals.widget_css_jsonp):p()}function k(a){var m=!0,n=t.getHostData().browser;"IE"!=n.name&&"Chrome"!=n.name||(m=!1);var w=r(a);if(w.onload=m?null:function(){l()},e("head").get(0).appendChild(w),m){var o=document.createElement("img");o.onerror=function(){l()},o.src=a}}function r(e){var a=document.createElement("link");return a.type="text/css",a.rel="stylesheet",a.href=e,a.media="screen",a.id="mt-css",a}function i(e){window.wmjQuery.ajax(e,{cache:!1,dataType:"jsonp",success:s}function s(e){var m=h(e);t.ResourceManager.injectCss(m,"walkme-player-css",a("head")),l()}function h(e){return e.replace("../../../player/resources/","").replace(/url\((?!http)/g,"url("+wmContext.cdnServerName+"/player/resources/")}}var t=new t;function n(){var e,a,m,t,n,w,o,k,r,i,c,p,s,h,u=l.create("WalkmeOOP",this),d=-1,b=_walkMe.getTimerManager(),g='<div class="{{wmPrefix}}-lesson-item {{wmPrefix}}-lesson"><div class="{{wmPrefix}}-lesson-list"><div><ul><li id="{{wmPrefix}}-{{courseId}}-{{lessonId}}" class="{{wmPrefix}}-lesson-row {{prefix}}-menu {{prefix}}-teach-me"></li></ul></div></div></div>',y='<div class="{{wmPrefix}}-lesson-item {{wmPrefix}}-lesson"><div class="{{wmPrefix}}-lesson-list catlist"><div><ul><div id="lesson-{{lessonId}}" class="{{prefix}}-{{lessonType}} {{prefix}}-deployable {{wmPrefix}}-special-li"><div class="{{prefix}}-deployable-icon {{prefix}}-icon {{prefix}}-override {{prefix}}-css-reset {{lessonCompleted}}"></div><span class="{{lessonCompleted}}">{{{lessonName}}}</span></div><li id="{{wmPrefix}}-cat-{{lessonId}}" class="{{wmPrefix}}-lesson-row {{prefix}}-menu {{prefix}}-teach-me"></li></ul></div></div></div>',f='<div id="{{prefix}}-deployable-wrapper-{{lessonId}}" class="{{prefix}}-deployable-wrapper"><div id="{{prefix}}-deployable-{{lessonId}}" class="{{prefix}}-lesson-{{catId}} {{cssClasses}} {{prefix}}-{{lessonType}} {{resourceType}} {{prefix}}-deployable {{prefix}}-activatable {{wmPrefix}}-special-li"><div class="{{prefix}}-deployable-icon {{prefix}}-icon {{prefix}}-override {{prefix}}-css-reset {{lessonCompleted}}"></div><span class="{{lessonCompleted}}">{{{lessonName}}}</span></div><div class="{{prefix}}-deployable-tooltip-wrapper {{prefix}}-css-reset"><div class="{{prefix}}-tooltip {{prefix}}-css-reset">{{{blockedLessonItemTooltip}}}</div><div class="{{prefix}}-tooltip-arrow {{prefix}}-css-reset"></div></div></div>',v='<a><button class="{{course_btn_placeholder}}">{{courseButton}}</button></a><div class="{{wmPrefix}}-date-progress-wrapper"><div class="{{wmPrefix}}-course-progress"><div class="{{course_progress_placeholder}}" style="width:{{courseProgress}}%;"></div></div><div class="{{wmPrefix}}-percent-wrapper"><span class="{{wmPrefix}}-percent {{coursePercentProgress}}"  style="left:{{courseProgressLocation}}%;">{{courseProgress}}%</span></div></div>',x='<h1>{{courseText}}: {{{uiCourseName}}}</h1><p>{{courseProgressText}}: </p><div id="{{wmPrefix}}-course-progress-{{courseId}}" class="{{wmPrefix}}-progress"><div class="{{courseProfileProgress}}" style="width:{{courseProgress}}%"></div></div><span class="{{wmPrefix}}-percent {{coursePercentProgress}}" style="left:{{courseProgressLocation}}%">{{courseProgress}}%</span>',S='<div id="{{prefix}}-teachme-menu" class="{{prefix}}-menu {{prefix}}-teach-me {{prefix}}-container {{prefix}}-theme-{{theme}} {{additionalCssClasses}} {{prefix}}-direction-{{direction}} {{prefix}}-position-major-{{menuMajorPosition}} {{prefix}}-position-minor-{{menuMinorPosition}} {{prefix}}-menu-open-{{isIE}} {{isMultiLanguage}} {{accessibleClass}}" style="display: none;"><div class="{{prefix}}-minimize {{prefix}}-icon-font {{prefix}}-menu-click-close {{animationHide}}" title="{{menuCloseTooltip}}"></div><div id="{{prefix}}-main" class="{{prefix}}-main"><div id="{{prefix}}-title" class="{{prefix}}-css-reset {{prefix}}-animation-hide {{prefix}}-title"><div class="{{prefix}}-logo"></div></div><div id="{{tabsWrapper}}" class="{{prefix}}-contents {{animationHide}}"><div class="{{wmPrefix}}-profile"><div class="{{wmPrefix}}-picture-wrapper"><div class="{{wmPrefix}}-picture {{prefix}}-direction-{{direction}}"></div></div><div class="{{wmPrefix}}-links {{prefix}}-direction-{{direction}}"><a class="return-btn-hide {{prefix}}-direction-{{direction}}">{{returnToCourseMenuButtonText}}</a></div><div id="{{wmPrefix}}-course-view" class="{{wmPrefix}}-current-action {{prefix}}-direction-{{direction}}"><h1>{{welcomeMessageText}}, {{currentAction}}</h1><p class="{{prefix}}-direction-{{direction}}">{{overallProgressText}}: </p><div id="{{wmPrefix}}-lms-progress" class="{{wmPrefix}}-progress"><div class="{{wmPrefix}}-course-{{lms_placeholder}}" style="width:{{lmsProgressPercentage}}%"></div></div><span class="{{wmPrefix}}-percent {{lms_placeholder}}" style="left:{{lmsProgressPercentageLocation}}%">{{lmsProgressPercentage}}%</span></div>{{#uiObjects}}<div id="{{wmPrefix}}-lesson-view-{{courseId}}" class="{{wmPrefix}}-current-action {{wmPrefix}}-lesson-view {{prefix}}-direction-{{direction}}">'+x+'</div>{{/uiObjects}}</div><div class="{{prefix}}-test {{prefix}}-jspScrollable"><div class="{{wmPrefix}}-course-main"><h1 style="float: left">{{courseListText}}</h1>{{#uiObjects}}<div id="{{wmPrefix}}-course-item-wrapper-{{courseId}}" class="{{wmPrefix}}-course-item-wrapper {{courseQuizStatus}} {{courseStatus}} {{prefix}}-direction-{{direction}}"><div class="{{wmPrefix}}-course-item" id="{{wmPrefix}}-course-item-{{courseId}}"><a class="{{wmPrefix}}-course-box"><div id="{{wmPrefix}}-course-image-{{courseId}}" class="{{wmPrefix}}-course-image"></div>{{{QuizScoreHtml}}}<div class="{{wmPrefix}}-course-title">{{{uiCourseName}}}</div></a><div id="{{wmPrefix}}-progress-{{courseId}}" class="{{wmPrefix}}-course-action">'+v+'</div></div><div class="{{wmPrefix}}-course-tooltip-wrapper {{prefix}}-css-reset"><div class="{{wmPrefix}}-course-tooltip {{prefix}}-css-reset">{{{blockedCourseTooltip}}}</div><div class="{{wmPrefix}}-course-tooltip-arrow {{prefix}}-css-reset"></div></div></div>{{/uiObjects}}{{^uiObjects}}<div><div class="{{wmPrefix}}-no-courses">{{noCoursesText}}</div></div>{{/uiObjects}}</div>{{#uiObjects}}<div id="{{wmPrefix}}-course-{{courseId}}" class="{{wmPrefix}}-lessons">{{{CoursesHtml}}}{{{QuizHtml}}}</div>{{/uiObjects}}</div></div></div></div>',T=l.get("LmsProgressProvider"),j=l.get("CoursesManager"),C=l.get("StringTrimmer"),_=l.get("LmsConsts"),E=l.get("LmsTeachMeConfigProvider"),P="left-top",I="walkme",z="wm",A="teachMeMultiLang",L=(u.Prop.Protected("supportedLanguages"),""),M="walkme-main",N="walkme-search-box",D="walkme-search-results-list",O="walkme-search-results-list-inner",B="walkme-progress-bar",Q="walkme-loading-results",U="walkme-has-tabs",F="walkme-languages-dropdown-data",R="walkme-triangle-outter-ie7",q="walkme-triangle-inner-ie7",W="walkme-deployables-list",V="category",H="content",Y="visible",G="opened",Z=411,X=48,K=70,J="go-to-quiz-button";function $(k){var r=l.get("WidgetMenuBase");u.Extends(r,k),ee(k.jQuery),e=l.get("TeachMeWidgetUtils"),a=u._base.menu,m=u._base,t=m.config,n=m.utils,o=m.consts,w=n().getCommonEvents(),P=k.menuPosition||P,p=n().isFeatureActive("buildMenuOnShow")||n().isFeatureActive("dontShowTabsWithNoVisibleChildren"),h=n().UiProperties(),_walkmeInternals.bind(o().EVENTS.WidgetMenu.MenuShow,la)}function ee(e){k=e,r=e}u.Public("setSelectedCourseId}),u.Override("languageChanged",function(){m.menu()&&(m.languageChanged(),na()&&Ae(s)(),la())}),u.Override("drawLanguagesBar",function(){n().isFeatureActive(A)&&m.drawLanguagesBar()});function ae(e){var a=ke(e.id());if(!a)return"";var l=te(a)&&!ne(e),t='<div class="wm-quiz-banner wm-{{QuizScoreClass}} wm-quiz-{{QuizEnabled}}"><div class="basic-walk-image"></div><div class="basic-walk-text"><div class="basic-walk-title">{{{QuizTitle}}}</div><div class="basic-walk-description">{{{QuizDescription}}}</div><div class="basic-walk-tested">{{QuizScoreText}}</div><div class="go-to-quiz-button">{{{QuizButtonText}}}</div></div></div>',n=m.mustache().to_html(t,{QuizScoreClass:ie(e.id()),QuizScoreText:re(e.id()),QuizTitle:me(e,a,l),QuizDescription:le(a,l),QuizButtonText:a.WelcomePage.ButtonText,QuizEnabled:l?"disabled":"enabled"});return n}function me(e,a,m){return m?e.name()+" - Quiz":C.getTrimmedString(a.WelcomePage.Title,X)}function le(e,a){return a?E.get("QuizDisabledMessageText"):C.getTrimmedString(e.WelcomePage.Description,Kfunction we(e){return T.getCourseProgress(e)>0}function oe(e){var a=ke(e);if(!a)return"";var l='<div class="wm-quiz-score-result wm-{{QuizScoreClass}}"><div class="basic-walk-tested">{{QuizScoreText}}</div></div>',t=m.mustache().to_html(l,{QuizScoreClass:ie(e),QuizScoreText:re(e)});return }function re(e){return ce("QUIZ_STATUS_TEXT",e}function ce(a,m){var l=ke(m);if(!l)return;var t,n=o().TeachMe,w=e.getQuizStatus(l);switch(w){case n.QUIZ_STATUS.NOT_TESTED:t=pe(a,n);break;case n.QUIZ_STATUS.FAILED:t=se(a,n);break;case n.QUIZ_STATUS.PASSED:t=he(a,n)}return t}function pe(e,a){if("QUIZ_STATUS_CLASS"==e)return a[e].NOT_TESTED;return E.get("QuizNotTestedText")}function se(e,a){if("QUIZ_STATUS_CLASS"==e)return a[e].FAILED;return E.get("QuizFailedText")}function he(e,a){if("QUIZ_STATUS_CLASS"==e)return a[e].PASSED;return E.get("QuizPassedText")}function ue(){var e=r("."+J);if(!e)return;e.clic})}u.Override("getTemplate",function(){return S}),u.Override("eventBinding",function(){na()&&Ae(s)()}),u.Override("isJspEnabled",function(){if(n().isFeatureActive("noJSP"))return!1;var e=n().getHostData();return n().isFeatureActive("noIeJSP")?!e.isIE():!e.isIE(8,"lte")}),u.Override("updateDesgin}),u.Override("removeOutdatedUi",function(){m.hideInvisibleTabs();var e=(a().find("."+W),a().find("."+z+"-lesson-row")),l=a().find("."+z+"-progress"),t=a().find("."+z+"-course-action"),n=e.children();n.remove(),l.children().remove(),t.children().remove();var w=m.getCurrentTabInUiTree();w&&m.clearSearchResults(w),m.hideSearchBoxesAndProgressBars()}),u.Override("refreshData",function(){var e=l.get("LmsUiDataProvider").lmsUiObjectsTree(),a=n().getUiDataProvider().uiObjectsTree(),m=a[0];m.children().length=0,r(e).eac}),de([m]),t(n().getSiteConfig())});function de(e){c=e}var be=(u.Override("getMustacheDictionary",function(){var e=m.getMustacheDictionary();return e.isLoaded=!0,e.uiObjects=Ge(),e.isUiObjects=Ye(),e.uiCourseName=function(){return this.name()},e.currentAction=Ve(),e.lms_placeholder=He(),e.lmsProgressPercentage=qe(),e.lmsProgressPercentageLocation=We(),e.course_btn_placeholder=function(){if(!Ne(this))return z+"-btn";if(Ne(this))return z+"-completed-btn"},e.courseButton=function(){var e=T;if(0===e.getCourseProgress(this))return E.get("StartCourseButtonText");if(ne(this)){if(!Ne(this))return E.get("TakeQuizButtonText");return"completed"}return E.get("ResumeCourseButtonText")},e.course_progress_placeholder=function(){if(!Ne(this))return z+"-course-bar";if(Ne(this))return z+"-course-progress-completed"},e.courseProgres},e.courseProgressLocatio},e.courseI},e.courseProfileProgress=function(){if(!Ne(this))return z+"-course-progress-uncompleted";if(Ne(this))return z+"-course-progress-completed"},e.wmPrefix=z,e.coursePercentProgress="",e.addLanguagesBar=m.isLanguagesBar(),e.CoursesHtml=function(){return Qe(this)},e.QuizHtm},e.QuizScoreHtm},e.menuCloseTooltip=t().MenuCloseTooltip,e.titleCaption=t().TitleCaption,e.isLtr=ra(),e.blockedCourseTooltip=E.get("CourseDisabledTooltip"),e.isMultiLanguage&&(e.currentLanguage=oa(n().getCurrentLanguage()),e.addTriangleForIE7=n().getHostData().isIE(7,"lte")),e.courseQuizStatus=function(){var e=ie(this.id());if(e)return z+"-quiz-"+ie(this.id())},e.courseStatus=function(){return T.getCourseProgress(this)>0?"wm-course-started":""},e.returnToCourseMenuButtonText=E.get("ReturnToCourseMenuButtonText"),e.courseListText=E.get("CourseListText"),e.noCoursesText=E.get("NoCoursesText"),e}),function(){var e={course_btn_placeholder:function(e){if(!Ne(e))return z+"-btn";if(Ne(e))return z+"-completed-btn"},courseButton:function(e){if(!we(e))return E.get("StartCourseButtonText");if(ne(e)){if(!Ne(e))return E.get("TakeQuizButtonText");return""}return E.get("ResumeCourseButtonText")},course_progress_placeholder:function(e){if(!Ne(e))return z+"-course-bar";if(Ne(e))return z+"-course-progress-completed"},courseProgres},courseProgressLocatio},courseProfileProgress:function(e){if(!Ne(e))return z+"-course-progress-uncompleted";if(Ne(e))return z+"-course-progress-completed"},coursePercentProgress:function(e){if(!Ne(e))return"progress-uncompleted";if(Ne(e))return"progress-completed"},courseText:E.get("CourseText"),courseProgressText:E.get("CourseProgressText")};return e});function ge(e){var a=Math.floor(T.getCourseProgress(e)),m=ke(e.id());if(m){var l=De(m);a=l?a:.97*a}return a}function ye(){var e='<h1 class="walkme-css-reset">{{welcomeMessageText}}, {{currentAction}}</h1><p class="walkme-css-reset">{{overallProgressText}}: </p><div id="'+z+'-lms-progress" class="'+z+'-progress walkme-css-reset"><div class="'+z+'-course-{{lms_placeholder}} walkme-css-reset" style="width:{{lmsProgressPercentage}}%"></div></div><span class="'+z+"-percent {{lms_placeholder}} walkme-css-reset "+I+'-direction-{{direction}}">{{lmsProgressPercentage}}%</span>',a=m.mustache().to_html(e,{currentAction:Ve(),lms_placeholder:He(),lmsProgressPercentage:qe(),lmsProgressPercentageLocation:We(),welcomeMessageText:E.get("WelcomeMessageText"),overallProgressText:E.get("OverallProgressText"),direction:t().Direction});r("#"+z+"-course-view").html(a)}function fe(){for(var e=Ge(),a=be(),m=0;m<e.length;m++){var l='<a><button class="walkme-css-reset '+a.course_btn_placeholder(e[m])+'">'+a.courseButton(e[m])+'</button></a><div class="'+z+'-date-progress-wrapper"><div class="'+z+'-course-progress"><div class="'+a.course_progress_placeholder(e[m])+'" style="width:'+a.courseProgress(e[m])+'%;"></div></div></div>',n=e[m].id();r("#"+z+"-progress-"+n).html(l);var w='<h1 class="walkme-css-reset">'+a.courseText+": "+e[m].name()+'</h1><p class="walkme-css-reset">'+a.courseProgressText+': </p><div id="'+z+"-course-progress-"+n+'" class="'+z+'-progress walkme-css-reset"><div class="'+a.courseProfileProgress(e[m])+'" style="width:'+a.courseProgress(e[m])+'%"></div></div><span class="'+z+"-percent "+a.coursePercentProgress(e[m])+" "+I+"-direction-"+t().Direction+'">'+a.courseProgress(e[m])+"%</span>";r("#"+z+"-lesson-view-"+n).html(w)}}function ve(e,a){e.off("click"),e.click(function(){e.hasClass("walkme-opened")?e.removeClass("walkme-opened"):e.addClass("walkme-opened"),a.toggle(),m.reInitJSP(e.parents(".wm-lessons"))})}function xe(a,l){var t=a.children(),n=j.getById(a.id()),w=n&&1==n.Settings.enforceOrder;if(t)for(var o,k=0;k<t.length;k++){var i=t[k];if(i.children()){var c=i.children(),p=i.id(),s=r("#lesson-"+p),h=r("#"+z+"-cat-"+p);ve(s,h);for(var u=0;u<c.length;u++){var d=c[u].id(),b=c[u].properties().getAll(),g=Be(c[u],p,m.getCssClasses(b));h.append(g);var y=m.commonUtils().isUiObjectActivatable(c[u]),f=e.isUiObjectVisible(c[u]);if(y){var v=h.find("#"+I+"-deployable-"+d);v.off("click"),w?f&&(Te(o)?Se(h,d):(o=c[u],v.click(je(d,c[u])))):v.click(je(d,c[u]))}}}else{var d=t[k].id(),x=a.id(),g=Be(i,x,m.getCssClasses(a.properties().getAll())),h=r("#"+z+"-"+x+"-"+d);h.append(g);var y=m.commonUtils().isUiObjectActivatable(t[k]),f=e.isUiObjectVisible(i);y&&(h.off("click"),w?f&&(Te(o)?Se(h,d):(o=i,h.click(je(d,i)))):h.click(je(d,i)))}}}function Se(e,a){var m=e.find("#"+I+"-deployable-wrapper-"+a);m.addClass(z+"-lesson-blocked")}function Te(e){return e&&!e.properties().hasProperty("completed")}function je(e,a){return function(){Ce(e,a),_e(a)&&w.raiseEvent(o().EVENTS.LoadingContentFromTeachMe),a.activate({type:o().STEP_PLAY_INITIATOR_ENUM.COURSE,appType:o().EVENT_SENDER_EVENT_APPS.Course,objectId:s}),m.displayer().closeMenu(void 0,function(){m.menuFinishedClosing()}),Oe(a)}}function Ce(e,a){var m={id:e,currentChild:a};w.raiseEvent(_.EVENTS.ItemActivatedFromTeachMe,m)}function _e(e){return e.type()==H}function Ee(){var e=r(".send-btn");e.click(function(){var e="mailto:''?subject=''&body=''",a=window.open(e,"emailWindow");a&&a.open&&!a.closed&&a.close()})}u.Override("getTabsWithSearch",function(){return m.refreshUiObjectsTree(),m.getTabsWithSearch()}),u.Override("createTabsHtml});function Pe(){var e=r(".return-btn-hide");e.click(function(){s=void 0,r(".return-btn-hide").hide(),Ie(),ze();var e=r("."+z+"-course-main");ta(e),m.initJSP(e)})}function Ie(){r("."+z+"-lessons").hide(),r("."+z+"-lesson-view").hide()}function ze(){r("."+z+"-course-main").show(),r("#"+z+"-course-view").show()}function Ae(e){return function(){s=e,r("."+z+"-course-main").hide(),r("#"+z+"-course-view").hide(),r(".return-btn-hide").show(),r("#"+z+"-course-"+e).show(),r("#"+z+"-lesson-view-"+e).show(),m.initJSP(r("#"+z+"-course-"+e))}}function Le(){for(var a=Ge(),m=0;m<a.length;m++)if(e.isUiObjectVisible(a[m])){var l=a[m].id(),t=r("#"+z+"-course-item-"+l);t.click(Ae(l))}Ee(),Pe(),Oe()}function Me(){for(var e=Ge(),a=1;a<e.length;a++){var m=j.getById(e[a].id()),l=m.Settings.onlyPreviousDone;if(!Ne(e[a])&&1==l&&!Ne(e[a-1])){var t=e[a].id(),n=r("#"+z+"-course-item-wrapper-"+t);n.addClass(z+"-course-blocked")}}}function Ne(e){var a=ke(e.id()),m=!0;return a&&(m=De(a)),ne(e)&&m}function De(a){var m=o().TeachMe,l=e.getQuizStatus(a);return l==m.QUIZ_STATUS.PASSED}function Oe(e,a){if(e)xe(e,a);else for(var m=Ge(),l=0;l<m.length;l++)xe(m[l])}function Be(e,a,l){var t={prefix:I,wmPrefix:z,catId:a||"",lessonId:e.id(),lessonName:e.name(),lessonType:e.type(),cssClasses:l,lessonCompleted:function(){return e.properties().hasProperty("completed")?z+"-completed":""},resourceType:function(){return e.properties().hasProperty("video")?z+"-video":e.properties().hasProperty("article")?z+"-article":""},blockedLessonItemTooltip:E.get("ItemDisabledTooltip")},n=m.getUiObjectHtml(t);return n}function Qe(e){for(var a=L,l=0;l<e.children().length;l++){var t=e.children()[l];if(t.children()&&t.children().length>0){var n=t;a+=Ue(n)}else t.properties().hasProperty(h.Visible)&&t.properties().hasProperty(h.Accessible)&&(a+=Fe(t,e))}return a+=m.emptyTabHtml()}function Ue(e){var a=e.properties().getAll(),l="walkme-tab-content "+m.getCssClasses(a),n=Xe(),w=e.properties(),o=w.hasProperty(h.Search),k=w.hasProperty(h.ProgressBar),r=m.mustache().to_html(n,{prefix:I,wmPrefix:z,lessonId:e.id(),lessonName:e.name(),lessonType:e.type(),lessonCompleted:function(){return e.properties().hasProperty("completed")?z+"-completed":""},resourceType:function(){return e.properties().hasProperty("video")?z+"-video":e.properties().hasProperty("article")?z+"-article":""},tabContentId:m.getTabContentId(e),tabContentClasses:l,direction:t().Direction,searchBoxClass:N,deployablesList:W,searchResults:D,searchResultsInner:O,progressBarClass:B,supportsSearch:o,loadingClass:Q,supportProgress:k,searchBoxCaption:t().SearchBoxCaption});return r}function Fe(e,a){var l=e.properties().getAll(),n="walkme-tab-content "+m.getCssClasses(l),w=Ze(),o=e.properties(),k=o.hasProperty(h.Search),r=o.hasProperty(h.ProgressBar),i=m.mustache().to_html(w,{prefix:I,wmPrefix:z,courseId:a.id(),lessonId:e.id(),lessonName:e.name(),lessonType:e.type(),lessonCompleted:function(){return e.properties().hasProperty("completed")?z+"-completed":""},resourceType:function(){return e.properties().hasProperty("video")?z+"-video":e.properties().hasProperty("article")?z+"-article":""},tabContentId:m.getTabContentId(e),tabContentClasses:n,direction:t().Direction,searchBoxClass:N,deployablesList:W,searchResults:D,searchResultsInner:O,progressBarClass:B,supportsSearch:k,loadingClass:Q,supportProgress:r,searchBoxCaption:t().SearchBoxCaption});return i}function Re(e){return 100===e?e-=8:e>8&&(e-=4),e}function qe(){return Math.floor(T.getProgressPercentage()function He(){if(100==T.getProgressPercentage())return"progress-completed";return h.Uncompleted}function Ye(){for(var a=Ge(),m=0;m<a.length;m++)if(e.isUiObjectVisible(a[m]))return!0;return!1}function Ge(){return e.getAllVisibleCourses(c[0].children())}var Ze=u.Override("getTabTemplate",function(){return g}),Xe=u.Override("getTabxTemplate",function(){return y});u.Override("addTabIndexes",function(){m.commonUtils().addTabIndex(a()),m.commonUtils().addTabIndex(m.closeButton()),m.commonUtils().addTabIndex(Ke());for(var e=Je(),l=0;l<e.length;l++)m.commonUtils().addTabIndex(r(e[l]))}}function Je(){return a().find("#walkme-languages-dropdown").children()}var $e=(u.Override("getTabButtonHtmlTemplate}),u.Override("getUiObjectHtmlTemplate",function(){return f}),u.Override("createTabsBar",function(e){var l=a().find("#"+M);if(e<2)return l.removeClass(U),r('<div class="walkme-tabs-placeholder" />');l.addClass(U);var t=m.createTabsBar();return t.addClass("walkme-"+e+"-tabs"),t}),[{id:"lato",name:"lato-regular",url:"/player/resources/fonts/lato-regular"},{id:"widgetFont",name:"widget-font",url:"/player/resources/fonts/widget-font_v3",dummeyText:"&#xe60c;"}]);u.Override("preloadResources",function(e){n().ResourceManager.preloadResources(e,$e)}),u.Override("addResources",function(e,a){n().ResourceManager.fonts($e,r("head"),e,a)}),u.Override("getSearchActivator}),u.Override("bindMenuEvents",function(){m.bindMenuEvents(),ma()}),u.Override("unbindMenuEvents}),u.Override("contentHeightCalculation});function ea(e){var m=e.length,l=!1,t=0;a().show();for(var n=0;n<m&&!l;n++){var w=r(a().find("#walkme-"+e[n].id()+"-tab-content"));w.show();var o=w.find("."+W);o.show();var l=aa(e[n],o);if(!l){var k=o.find(".walkme-tab").height();t=k>t?k:t}o.empty(),o.hide(),w.hide()}return a().hide(),newHeight=l?d:t,newHeight}function aa(e,a,l){var t=m.commonUtils().isUiObjectActivatable(e),n=e.type()==V?[Y,G]:[Y],w=m.getTemplateDictionary(t,e.id(),e.name(),e.type(),e.description(),m.getDeployableElementClass(e),m.getCssClasses(n)),o=m.getUiObjectHtml(w),k=r(o);if(a.append(k),l&&l.height()>=Z)return!0;k.hasClass("walkme-tab")&&(l=k);var i=e.children();if(i)for(var c=0;c<i.length;c++)if(aa(i[c],k,l))return!0;m.hideIfNoVisibleChildren&&m.hideIfNoVisibleChildren(k,e)}function ma(){r(window).bind("resize.walkme_widget",function(){if(i)return;i=b.setWalkmeTimeou},50),la()})}function la(){var e="."+z;e+=na()?"-lessons":"-course-main",ta(e),m.initJSP(r(e))}function ta(e){var a=r("."+z+"-course-item-wrapper").outerWidth(!0);a&&r(e).css({"min-width":2*a+"px"}u.Override("closeOpenMenus",function(){var e=a().find("#"+F);e.is(":visible")&&e.hide(),n().getHostData().isIE(7,"lte")&&(a().find("#"+R).hide(),a().find("#"+q).hide())});function oa(e){for(var a=0;a<m.supportedLanguages().length;a++){var l=m.supportedLanguages()[a];if(l.shortName==e)break}return ka(l.displayName}function ra(){return"ltr"==t().Direction}u.Override("position",function(){return P}),u.Override("name",function(){return"TeachMe"});$.apply(null,arguments)}/*! TeachMeMenu END */
function w(){var e,a,m,t,n,w,o=l.create("WalkmeOOP",this),r="walkme";function i(l){o.Extends(k,l),c(l.jQuery),t=l.isTeachMe,o._base.name("Panel"),e=o._base,a=e.config,m=e.utils}function c(e){n=e,w=e}o.Override("buildHtml",function(){var m='<div id="{{id}}" class="{{prefix}}-player {{prefix}}-panel {{prefix}}-theme-{{theme}} {{prefix}}-direction-{{direction}} {{prefix}}-{{isIe}} {{prefix}}-position-major-{{positionMajor}} {{#isTeachMePlayer}}{{prefix}}-teach-me-player{{/isTeachMePlayer}} {{prefix}}-position-minor-{{positionMinor}} {{accessibleClass}} {{prefix}}-{{isIe8}}"><div class="{{prefix}}-out-wrapper"><div class="{{prefix}}-in-wrapper"><div class="{{prefix}}-title"></div><div class="{{prefix}}-bar"></div></div></div></div>',l=e.mustache().to_html(m,{prefix:r,id:e.id(),theme:a().TriangleTheme,direction:a().Direction,isIe:e.isIeClass(),isIe8:e.isIe8Class(),positionMajor:e.positionMajor(),positionMinor:e.positionMinor(),title:a().ClosedMenuTitle,accessibleClass:e.accessibleClass(),isTeachMePlayer:t});return l}),o.Override("addResources",function(e,a){var l=[{id:"widgetFont",name:"widget-font",url:"/player/resources/fonts/widget-font_v3",dummeyText:"&#xe60c;"},{id:"opensans",name:"opensans",url:"/player/resources/fonts/opensans"}];m().ResourceManager.fonts(l,w("head"),e,a)}),o.Override("position});i.apply(null,arguments)}function o(){var e,a,m,o,k,i,c,p,s,h,u,d,b,g,y,f=this,v=window.mtjQuery,x=window.wmjQuery,S=!1,T=l.get("LmsConsts"),j="walkme-player-panel",C=1,_="MenuDisplay";function E(e){I(U),b=e.lib,d=e.libAPI,s=b.getSiteConfig(),h=b,c=h.getAttentionGrabberManager(),u=h.getCommonUtils(),b.profilerAPI.registerProfilerCallback(P),g=h.getCommonEvents(),y=h.getConsts(),l.has("ApplicationsInitiator")&&l.get("ApplicationsInitiator").waitForAppsToLoad?l.get("ApplicationsInitiator").waitForAppsToLoad().then(function(){R()}):R()}function P(e){z=e.profile("widget.init_menuContainer",z),M=e.profile("widget.embedWidgetOnBiggestFrame",M),t.load=e.profile("widget.CssLoader.load",t.load),X=e.profile("widget.initPlayer",X),K=e.profile("widget.postInitPlayer",K),F=e.profile("widget.createApi",F),pe=e.profile("widget.showPlayer",pe)}function I(e){v=e,x=e}function z(){A(),m=window,a=N(),L()&&(h.shouldHandlePageAsFramesets()?M():a=v("html"))}function A(){e=void 0,a=void 0,m=void 0}function L(){return a[0]&&a[0].tagName&&a[0].tagName.toUpperCase&&"FRAMESET"==a[0].tagName.toUpperCase()}function M(){o=h.getBiggestFrame(),O(o,R),e=Q(o),o.contentWindow._teachMePlayer=f,a=U("body"),m=o.contentWindow}function N(){var e=v("body");return 0==e.length&&(e=v("frameset")),e}function D(e){B(})}function O(e,a){B(})}function B(e,a){try{if(a(e),e.contentWindow.parent!=window){var m=getFrameParentFrame(e);m&&B(m,a)}}catch(l){h.Logger.customerLog("Error in frames chain: "+l)}}function Q(e){var a;try{a=e.contentDocument?e.contentDocument:e.contentWindow?e.contentWindow.document:null}catch(m){u.handleCrossDomainError(m),a=null}return a}function U(a){if(e)return window.mtjQuery(a,e);return window.mtjQuery(a)}function F(e,a){var m=new r({menu:a,player:e,manager:f}),l={type:y.EVENT_SENDER_EVENT_APPS.TeachMe,WalkMePlayerAPI:m};g.raiseEvent(y.EVENTS.Widget.TeachMeWidgetAPICreated,l),window.TeachMePlayerAPI=p=m}function R(){z();var e=b.getUiTracker();e&&e.bind(q),W(f.initTeachMeInstances=function(){if(!V())return;var e=w,a=n,m=l.get("WidgetMenuDisplay"),t=m[H()];Y(e,a,t)};function V(){var e=b.getSiteConfig().Settings;if(e.hideLmsWhenCompleted){var a=l.get("LmsProgressProvider").getProgressPercentage();return a<100}return!0}function H(){var e=b.getSiteConfig().Settings,a=e.teachme&&e.teachme.displayer?e.teachme.displayer:C;return T.MENU_DISPLAYER[a]+_}f.getMenu=function(){return i};function Y(e,l,t){var n={type:y.EVENT_SENDER_EVENT_APPS.TeachMe,config:s,utils:h,jQuery:U,topContainer:a,windowTopContainer:m,menuDisplayClass:t,menuPosition:G(),isTeachMe:!0};g.raiseEvent(y.EVENTS.Widget.WidgetInitInstances,n),e&&"none"!==Z()?X(n,e,l):K(n,void 0,l)}function G(){var e=b.getSiteConfig().Settings,a=e.teachme&&e.teachme.position?e.teachme.position:void 0;return a}function Z(){var e=b.getSiteConfig().Settings,a=e.teachme&&e.teachme.playerVisibility&&"none"===e.teachme.playerVisibility?"none":void 0;return a}function X(e,a,m){k=new a(e),k.bind("on-show}),k.init({callback:u.encloseCall(K,e,k,m)})}function K(e,a,m){m?(i=new m(e),i.init({callback:u.encloseCall($,a,i),menuDisplayClass:e.menuDisplayClass})):$(a,void 0)}f.clearAttentionGrabberHandle},f.resetAttentionGrabbe};function J(e,a){var m;if(e&&(m=e.hideAttentionGrabber),l.get("FeaturesManager").isFeatureEnabled("teachMeIgnoreAG")||m||S)return;S=!0,c.init({config:s,player:k,menu:i}),c.load(),a.bind("on-hide",f.clearAttentionGrabberHandler),a.bind("pre-activate",f.clearAttentionGrabberHandler}function ee(e,a){var m=h.Logger.timer("widget: post init instances");re(e,a),me(),h.injectCustomCSS(),pe(e),h.widgetLoaded(e),m.stop(),b.addTimeStamp("widgetEndInit"),u.sendMenuEvent("TeachMePlayerInitComplete"}function me(){_walkmeInternals&&(_walkmeInternals.bind("languageChanged",ie),le())}function le(){_walkmeInternals.bind(y.EVENTS.Quizzes.QuizPlay,p.toggleMenu),_walkmeInternals.bind(y.EVENTS.Quizzes.QuizSummarySuccessButtonClicked,p.toggleMenu),_walkmeInternals.bind(y.EVENTS.Quizzes.QuizResultsActionButtonClicked,p.toggleMenu),_walkmeInternals.bind(y.EVENTS.Quizzes.QuizXButtonClicked,p.toggleMenu),_walkmeInternals.bind(y.EVENTS.LoadingContentFromTeachMe,te),_walkmeInternals.bind(y.EVENTS.LoadingContentFromTeachMe,ne)}function te(){_walkmeInternals.one(y.EVENTS.ContentRemoved,we}function we(){_walkmeInternals.unbind(y.EVENTS.LoadingContentInNewTab,oe),p.toggleMenu({type:_walkMe.getPlayInitiatorEnum().AUTOSTART})}function oe(){_walkmeInternals.unbind(y.EVENTS.ContentRemoved,we),_walkmeInternals.one(y.EVENTS.WidgetPlayer.PlayerShow,ke)}function ke(e,a){a[1]==j&&p.toggleMenu({type:_walkMe.getPlayInitiatorEnum().AUTOSTART})}function re(e,a){a&&e&&(l.get("FeaturesManager").isFeatureEnabled("teachMeApp")&&l.has("ApplicationsManager")?(e.bind("on-activate",function(){l.get("ApplicationsManager").getApplicationById("teachme").setVisible(),e.hide()}),l.get("ApplicationsManager").getApplicationById("teachme").onHid})):e.bind("on-activate",a.open),a.bind("on-open-begin",e.hide),a.bind("on-close-end",e.show))}function ie(){s=b.getSiteConfig(),i&&i.languageChanged(),k&&k.languageChanged(s),ce()}function ce(){var e={type:y.EVENT_SENDER_EVENT_APPS.TeachMe,config:s,player:k,menu:i};g.raiseEvent(y.EVENTS.Widget.WidgetLanguageChanged,e)}function pe(e){if(!e)return;e.show()}f.destroyAll=function(){se(k,i),ae(),o&&(D(o),o=void 0),WalkMePlayerAPI=void 0};function se(){var e={type:y.EVENT_SENDER_EVENT_APPS.TeachMe,player:k,menu:i};g.raiseEvent(y.EVENTS.Widget.WidgetDestroyAll,e)}E.apply(null,arguments)}/*! BasePlayer BEGIN */
function k(){var e,a,m,t,n,w,o,k,r,i,c,p,s,h,u,d=l.create("WalkmeOOP",this),b=this,g="monitorWidget",y="monitorWidget",f="wm-wa",v=3600,x="TrianglePosition",S=5e3,T=!1,j=_walkMe.getTimerManager(),C=d.Prop.Protected("config"),_=d.Prop.Protected("html"),E=(d.Prop.Protected("name"),d.Prop.Protected("id")),P=d.Prop.Protected("mustache"),I=d.Prop.Protected("coordinates"),z=d.Prop.Protected("uiUtils"),A=d.Prop.Protected("player"),L=d.Prop.Protected("showWidgetLogger"),M=d.Prop.Protected("utils"),N=d.Prop.Protected("changeTrackerLogger"),D=d.Prop.Protected("windowTopContainer");function O(e){E("walkme-player-panel"),Q(e.jQuery),C(e.config),M(e.utils),c=e.utils.getCommonEvents(),p=e.utils.getConsts(),t=M().UiProperties(),k=M().getCommonUtils(),z(M().getUiUtils()),L(M().Logger.wrapCustomerLog("showWidget")),m=L(),M().profilerAPI.registerProfilerCallback(B),N(M().Logger.wrapCustomerLog("changeTracker")),s=N(),o=e.topContainer,D(e.windowTopContainer),n=a(b),P(M().getMustache()),r=!M().isFeatureActive("noWdgtAnim"),h=l.get("LmsUiDataProvider"),u=l.get("TeachMeWidgetUtils")}function B(e){$=e.profile("player.buildPlayer",$),R=e.profile("player.showPlayer",R),U=e.profile("player.shouldShowPlayer",U}function U(){if(!M().shouldShowWidgetAccordingToAbTesting())return m("Show widget - not showing widget according to AB Testing.",2),!1;if(!M().checkShowOnlyInUrl())return m("Show widget - not showing widget because it was segmented out.",2),!1;return F()}function F(){var e=u.getAllVisibleCourses(h.lmsUiObjectsTree()),a=e.length>0;return a||m("Show TeachMe widget - no visible courses found - not showing TeachMe widget",2),a}var R=function(e){function a(){i=j.setWalkmeTimeout(function(){T?V():W(),pe(),c.raiseEvent(p.EVENTS.WidgetPlayer.PlayerShow,[A(),E()]),e&&e()},0)}M().isFeatureActive("noWidgetIcons")?a():ae(a,a)};function q(){M().getHostData().isIE(8)&&!M().isFeatureActive("noWidgetIcons")&&M().ResourceManager.refreshContentCss(a("head"),".walkme-player"),oe("on-show",{player:A()})}function W(){var e=M().checkRepeatCookie(f,v,!0);e.shouldStart?(V(),e.store()):(A().show(),q()),M().userSawWalkMe(),T=!0}function V(){if(r){var e=Y(),m={};A().stop(!0),m[re()]="0px",A().css(re(),"-"+e),A().show(),A().animate(m,60})}else A().show(),q()}function H(e){if(r){var m=Y(),l={};A().stop(!0),l[re()]="-"+m;var e=e?e:{};e.menuStartSize=b.getPlayerSize(),A().animate(l,20})}else A().hide(),oe("on-activate",e}d.Virtual.Public("evalState",function(){U()?X()?s("show widget - player is visible.",3):(s("show widget - player is not visible.",3),M().isFeatureActive("forceWidgetRecreation")&&(s("show widget - rebuild player.",3),A().remove(),$()),R()):(s("show widget - shouldn't show player.",3),b.hide())});function G(){b.evalState(),w=j.setWalkmeTimeout(function(){G()},S)}function Z(){o.append(_()),A(a("#"+E())),A().hide(),k.addTabIndex(A())}var X=d.Protected("isVisible});function K(){!C().Settings[g]&&!M().isFeatureActive(y)||w||G(}var $=function(){var e=ne();e=ee(e),_(e),Z(),me(),we(),c.raiseEvent(p.EVENTS.WidgetPlayer.PlayerBuilt,[A()])};function ee(e){var a={playerHtml:e,defaultValue:e};return c.raiseEvent(p.EVENTS.WidgetPlayer.PlayerHtml,a),a.returnValue}var ae=d.Virtual.Protected("addResources});function me(){z().addWalkmeClasses(A()),z().addBrowserSpecificClasses(A());var e=M().getCurrentLanguage()||"default";A().addClass("walkme-language-"+e),le(),z().setLangAttribute(A()),k.elementLastKeeper.addElement(A())}function le(){var e=C().PlayerFontSize;if(e==-1)return;A().find(".walkme-title").important("font-size",e+"px")}function te(){var e=M().getConsts();M().getCommonEvents().raiseEvent(e.EVENTS.PlayerClicked)}var ne=d.Virtual.Protected("buildHtml",function(){}),we=d.Virtual.Protected("initBindings}),oe=d.Protected("trigger",function(e,a){n.trigger(e,a)}),ke=d.Virtual.Protected("position}),re=(d.Protected("isIeClass",function(){return M().getHostData().isIE(10,"lte")?"ie":"notie"}),d.Protected("isIe8Class",function(){return M().getHostData().isIE(8,"lte")?"ie-8":""}),d.Protected("positionMajor}));d.Protected("positionMinor}),d.Protected("accessibleClass}),d.Public("init}),d.Virtual.Public("languageChanged",function(e){var a=A().is(":mt_visible");k.elementLastKeeper.removeElement(A()),C(e),A().remove(),$(),a&&A().show(),ie(e)});function ie(e){var a={player:A(),newConfig:e};c.raiseEvent(p.EVENTS.WidgetPlayer.PlayerLanguageChanged,a)}var ce=(d.Public("setContainer}),d.Public("calculatePosition",function(){var e;X()||(e=A().css("display"),A().show());var a=A().offset(),m=C()[x].indexOf("bottom-")>=0,l=m?0:A().height()/2,t=a.top+l,n=a.left+A().width()/2;return e&&A().css("display",e),{top:t,left:n}}),d.Public("getPlayerSize}),d.Virtual.Public("show",function(e,a){U()&&!X()&&R(a),K()}),d.Virtual.Public("hide",function(){i&&(clearTimeout(i),i=null),A().hide(),J(),oe("on-hide"),c.raiseEvent(p.EVENTS.WidgetPlayer.PlayerHide,[A()])}),d.Public("simpleHide",function(){A().hide()}),d.Public("simpleShow",function(){A().show()}),d.Public("simpleRemove}),d.Virtual.Public("destroy",function(){try{k.elementLastKeeper.removeElement(A()),A().stop(!0).remove(),oe("on-destroy"),b.unbindAll(),J()}catch(e){M().Logger.error(e,"Exception while destroying player")}}),d.Virtual.Public("activate",function(e){oe("pre-activate"),e.initiator={type:M().getPlayInitiatorEnum().WIDGET},I(b.calculatePosition()),J(),H(e),te()})),pe=(d.Public("bind}),d.Public("unbind}),d.Public("unbindAll}),d.Virtual.Protected("customSizeHandler",function(){}));O.apply(null,arguments)}/*! BasePlayer END */
function r(){var e,m,t,n,w,o,k,r,i,c,p,s,h,u,d,b=this,g=(window.mtjQuery,window.wmjQuery);b.getOverallCompletion=f,b.getCourses=v,b.getCourseProgress=x,b.getCoursesWithQuiz=T,b.getQuizzes=j,b.getQuiz=C,b.toggleCourse=_,b.startQuizByCourseId=E,b.startQuizByQuizId=P,b.hidePlayer=I,b.showPlayer=z,b.removePlayer=A,b.hideMenu=L,b.showMenu=M,b.removeMenu=N,b.toggleMenu=D,b.removeAttenGrab=B,b.redrawPlayer=Q,b.isMenuOpen=U,b.showWalkthruPlayer=F,b.hideWalkthruPlayer=R,b.removeWalkthruPlayer=q,b.showWalkthruMenu=W,b.hideWalkthruMenu=V,b.removeWalkthruMenu=H,b.isWalkthruMenuOpen=Y,_walkMe.getCommonEvents().raiseEvent(_walkMe.getConsts().EVENTS.WalkmePlayerApiStarted,{object:b});function y(b){m=b.menu,t=b.player,n=b.manager,e=l.get("TeachMeWidgetUtils"),w=l.get("CoursesManager"),k=l.get("LmsProgressProvider"),r=l.get("LmsCoursesProvider"),o=l.get("LmsUiDataProvider"),c=l.get("TeachMePlayerAPIConsts"),i=a.ctx.get("PrelibLogger"),p=l.get("CourseMapper"),s=l.get("ArrayUtils"),h=l.get("DictionaryUtils"),u=l.get("FeaturesManager"),d=l.has("ApplicationsManager")&&l.get("ApplicationsManager")}function f(){return Math.floor(k.getProgressPercentage())}function v(){var a=e.getAllVisibleCourses(o.lmsUiObjectsTree()),m=w.getDeployablesDict(),l={};return g.each(a,function(e,a){var t=p.map(m[a.id()],a,r.getCourseInfo(a));l[a.id()]=t}),l}function x(e){var a=S(e);if(a)return Math.floor(k.getCourseProgress(a));e&&i.write(c.NO_VISIBLE_COURSE_WITH_COURSE_ID+e)}function S(a){if(a)return e.getLmsUiObjectByCourseId(o.lmsUiObjectsTree(),a);i.write(c.ARGUMENT_MISSING_COURSE_ID)}function T(){var e=b.getCourses(),a={};return g.each(e,function(m,l){e[m].Quiz&&(a[m]=e[m])}),a}function j(){var e=b.getCoursesWithQuiz(),a={};return g.each(}),a}function C(e){if(e){var a=b.getQuizzes(),m=a[e];if(m)return m;i.write(c.NO_QUIZ_WITH_QUIZ_ID+e)}else i.write(c.ARGUMENT_MISSING_QUIZ_ID)}function _(e,a){S(e)?m.setSelectedCourseId(e):(e&&i.write(c.NO_VISIBLE_COURSE_WITH_COURSE_ID+e),i.write(c.TOGGLING_MAIN_COURSE_MENU),m.setSelectedCourseId()),b.toggleMenu(a)}function E(e){if(S(e)){var a=w.getQuizByCourseId(e);a?(w.activateQuizByCourseId(e),m&&m.simpleHide()):i.write(c.NO_QUIZ_FOR_COURSE_WITH_COURSE_ID+e)}else e&&i.write(c.NO_VISIBLE_COURSE_WITH_COURSE_ID+e)}function P(e){if(e){var a=w.getCourseByQuizId(e);a?E(a.Id):i.write(c.NO_QUIZ_WITH_QUIZ_ID+e)}else i.write(c.ARGUMENT_MISSING_QUIZ_ID)}function I(){t&&t.simpleHide()}function z(){if(!_makeTutorial.isWalkMeVisible())return!1;t&&t.simpleShow()}function A(){t&&t.destroy()}function L(){m&&m.simpleHide()}function M(){if(!_makeTutorial.isWalkMeVisible())return!1;m&&m.simpleShow()}function N(){m&&m.destroy()}function D(e){if(!_makeTutorial.isWalkMeVisible())return!1;var a={};t&&(a.menuStartSize=t.getPlayerSize()),a.initiator=O(e),u.isFeatureEnabled("teachMeApp")&&d?g("#wm-application-wrapper-teachme").is(":visible")?(d.getApplicationById("teachme").setHidden(),t&&t.show()):(d.getApplicationById("teachme").setVisible(),t&&t.hide()):m&&m.toggle(a)}function O(e){if(e){var a=s.indexOf(e.type,h.getDictionaryValues(_walkMe.getPlayInitiatorEnum()))>=0;return a?e:{type:_walkMe.getPlayInitiatorEnum().AUTOSTART}}return{type:_walkMe.getPlayInitiatorEnum().APIunction F(){if(!_makeTutorial.isWalkMeVisible())return!1;b.showPlayer()}function R(){b.hidePlayer()}function q(){b.removePlayer()}function W(){if(!_makeTutorial.isWalkMeVisible())return!1;b.showMenu()}function V(){b.hideMenu(y.apply(null,arguments)}function i(){var e=this;e.hidePlayer=o("hidePlayer"),e.showPlayer=o("showPlayer"),e.removePlayer=o("removePlayer"),e.hideMenu=o("hideMenu"),e.showMenu=o("showMenu"),e.removeMenu=o("removeMenu"),e.toggleMenu=o("toggleMenu"),e.removeAttenGrab=o("removeAttenGrab"),e.showWalkthruPlayer=o("showWalkthruPlayer"),e.hideWalkthruPlayer=o("hideWalkthruPlayer"),e.removeWalkthruPlayer=o("removeWalkthruPlayer"),e.showWalkthruMenu=o("showWalkthruMenu"),e.hideWalkthruMenu=o("hideWalkthruMenu"),e.removeWalkthruMenu=o("removeWalkthruMenu"),e.redrawPlayer=w,e.isMenuOpen=k,e.isWalkthruMenuOpen=k;var a,m;function t(){a=l.get("Consts"),m=l.get("TimerManager"),wmjQuery(_walkmeInternals).on(a.EVENTS.Widget.TeachMeWidgetAPICreated,n)}function n(a,m){for(var l in m.WalkMePlayerAPI)m.WalkMePlayerAPI.hasOwnProperty(l)&&(e[l]=m.WalkMePlayerAPI[l]}function o(a){return function(){var l=arguments;wmjQuery(_walkmeInternals).one("TeachMePlayerInitComplete",function(){m.setWalkmeTimeou},0)}),w()}t()}function c(e,a){var m=this;m.init=w;function t(){}function n(){if(a.isFeatureEnabled("lms_course_items")){var e=l.get("CourseItemCompletionConditionFunction");WalkMeAPI.conditions.handlers.registerAsync("TeachMeQuizCompletion",e.validateQuizCompletion),WalkMeAPI.conditions.handlers.registerAsync("TeachMeCourseCompleted",e.completed),WalkMeAPI.conditions.handlers.registerAsync("TeachMeCourseNotCompleted",e.notCompleted),WalkMeAPI.conditions.handlers.registerAsync("TeachMeCourseItemCompleted",e.completed),WalkMeAPI.conditions.handlers.registerAsync("TeachMeCourseItemNotCompleted",e.notCompleted),WalkMeAPI.conditions.handlers.registerAsync("TeachMeCourseLessonCompleted",e.completed),WalkMeAPI.conditions.handlers.registerAsync("TeachMeCourseLessonNotCompleted",e.notCompleted)}else WalkMeAPI.conditions.handlers.registerAsync("TeachMeQuizCompletion",l.get("QuizCompletionConditionFunction").handler}t.apply(null,arguments)}l.register("TeachMeConditionFunctionsManager").asCtor(c).dependencies("EventsListener, FeaturesManager");function p(e,a,m){var l=this;l.handler=r;function t(){}function n(e){var m=w(e.CourseId);switch(e.QuizState){case"1":return m===a.TeachMe.QUIZ_STATUS.PASSED;case"2":return m===a.TeachMe.QUIZ_STATUS.FAILED;case"3":return m===a.TeachMe.QUIZ_STATUS.NOT_TESTED;default:return!1}}function w(e){var a=TeachMePlayerAPI.getCoursesWithQuiz()[e];return a?a.Quiz.CompletionStatus:-1}function o(e,a){var m=n(a.funcArgs);e&&e.getValue()!=m&&e.setValue(m)}function k(a,m){e.on("TeachMePlayerInitComplete})}function r(e,a){if(m.isTeachMePlayerAPIAvailable()&&"function"==typeof TeachMePlayerAPI.getCoursesWithQuiz)return void o(e,a);k(e,a)}t.apply(null,arguments)}l.register("QuizCompletionConditionFunction").asCtor(p).dependencies("EventsListener, Consts, TeachMeWidgetUtils");function s(e,a,m){var l=this;l.validateQuizCompletion=w,l.completed=c,l.notCompleted=p;function t(e,m){var l,t=TeachMePlayerAPI.getCoursesWithQuiz()[e],n=t?t.Quiz.CompletionStatus:-1;switch(m){case"1":l=n===a.TeachMe.QUIZ_STATUS.PASSED;break;case"2":l=n===a.TeachMe.QUIZ_STATUS.FAILED;break;case"3":l=n===a.TeachMe.QUIZ_STATUS.NOT_TESTED;break;default:l=!1}return l}function n(a,l){function t(){o(a,l())}m.isTeachMePlayerAPIAvailable()&&"function"==typeof TeachMePlayerAPI.getCoursesWithQuiz?t():e.on("TeachMePlayerInitComplete",t)}function w(e,a){n(e,function(){return t(a.funcArgs.CourseId,a.funcArgs.QuizState)})}function o(e,a){e&&e.getValue()!=a&&e.setValue(a)}function k(e,a){for(var m=0,l=e.length;m<l;m+=1){var t=e[m];if(t.Id===a)return t;if("lesson"===t.Type){var n=k(t.Children,a);if(null!==n)return n}}return null}function r(e,a){var m=k(e,a);if(!m)return!1;if("lesson"===m.Type){if(!m.Children||!m.Children.length)return!1;for(var l=0,t=m.Children.length;l<t;l+=1){var n=m.Children[l];if(n.Completed===!1)return!1}return!0}return m.Completed}function i(e,a){var m=TeachMePlayerAPI.getCourses()[e];if(!m)return!1;if(!a)return m.CompletionPercentage>=100;if(a)return!!r(m.Children,parseInt(a));throw new Error("Logic error- invalid parameters, condition should have CourseItemId or CourseItemId and CourseItemId as parameters")}function c(e,a){n(})}function p(e,a){n(e,function(){return!i(a.funcArgs.CourseId,a.funcArgs.CourseItemId)})}}l.register("CourseItemCompletionConditionFunction").asCtor(s).dependencies("EventsListener, Consts, TeachMeWidgetUtils");function h(){var e=this;e.init=t;var a="teach-me-courses";function m(){}function t(){l.decorate("BBTagHandlerProvider",function(e){var m=e.get;return e.get=function(t){if(t.toLowerCase()!=a)return m.apply(e,arguments);return l.get("TeachMeBBCodeHandler")},e})}m()}l.register("TeachMeBBCodeParser").asCtor(h);function u(e,a,m,l,t){var n=this;n.getHTML=k;var w="CourseName";function o(){}function k(m,l,t,n){var o=e.getProperties(["filter"],t),k=c()?i(o.filter):[],p="";return k.length&&(p="<ul class='bbcode-courses-list'>"+a.map(k,function(e){return r("<li class='bbcode-courses-list-item'>"+(n||w)+"</li>",e)}).join("")+"</ul>"),p}function r(e,a){return e.replace(w,a.Name).replace("CourseCompletionPercentage",a.CompletionPercentage)}function i(e){switch(e){case"withQuiz":return p();case"withPassedQuiz":return s(p(),l.TeachMe.QUIZ_STATUS.PASSED);case"withNotTestedQuiz":return s(p(),l.TeachMe.QUIZ_STATUS.NOT_TESTED);case"withFailedQuiz":return s(p(),l.TeachMe.QUIZ_STATUS.FAILED)}return m.getDictionaryValues(TeachMePlayerAPI.getCourses())}function c(){return t.isTeachMePlayerAPIAvailable()&&"function"==typeof TeachMePlayerAPI.getCoursesWithQui}function s(e,m){return a.filter(})}o()}l.register("TeachMeBBCodeHandler").asCtor(u).dependencies("BBCodeUtils, ArrayUtils, DictionaryUtils, Consts, TeachMeWidgetUtils");(function(){function e(){this._promiseManager=a.ctx.get("PromiseManager"),this._eventsListener=a.ctx.get("EventsListener"),this._eventsTrigger=a.ctx.get("EventsTrigger"),this._logger=a.ctx.get("PrelibLogger")}return e.prototype.ru},e})();function d(e){var a=this;a.isUiObjectVisible=m,a.getAllVisibleCourses=l,a.getLmsUiObjectByCourseId=t,a.getVisibleCourseChildren=n,a.getQuizStatus=w,a.mapFields=k,a.getObjectKeys=r,a.isTeachMePlayerAPIAvailable=i;function m(e){return e.properties().hasProperty("visible"}function t(e,a){var m=wmjQuery.grep(l(e});return m[0]}function n(e,a){if(!e)return;var m=o(e);return wmjQuery.each(m,function(e,m){var l=wmjQuery.extend(!0,{},m);l._children=n(m.children(),[]),a.push(l)}),a}function w(a){var m=e.getQuizStatus(a);if(null==m)return;return }function k(e,a){if(!e)return{};var m={};return wmjQuery.each(}),m}function r(e){if(!e)return;if(Object.keys)return Object.keys(e);if("object"==typeof e){var a=[];return wmjQuery.each(}),a}}l.register("TeachMeWidgetUtils").asCtor(d).dependencies("QuizStatusManager");function b(){this.ARGUMENT_MISSING_COURSE_ID="Argument missing: courseId",this.ARGUMENT_MISSING_QUIZ_ID="Argument missing: quizId",this.NO_QUIZ_WITH_QUIZ_ID="No quiz with quizId = ",this.NO_VISIBLE_COURSE_WITH_COURSE_ID="No visible course with courseId = ",this.NO_QUIZ_FOR_COURSE_WITH_COURSE_ID="No quiz for course with courseId = ",this.TOGGLING_MAIN_COURSE_MENU="Toggling main Course Menu",this.BASE_COURSE_FIELDS=["Name","Id","OrderIndex"],this.ADDITIONAL_COURSE_FIELDS=["CompletionPercentage","Settings","Children"],this.COURSE_QUIZ_FIELD=["Quiz"],this.COURSE_WITHOUT_QUIZ_FIELDS=this.BASE_COURSE_FIELDS.concat(this.ADDITIONAL_COURSE_FIELDS),this.COURSE_WITH_QUIZ_FIELDS=this.COURSE_WITHOUT_QUIZ_FIELDS.concat(this.COURSE_QUIZ_FIELD),this.COURSE_SETTINGS_FIELDS=["enforceOrder","onlyPreviousDone"],this.COURSE_CHILDREN_LESSON_FIELDS=["Type","Id","Name","Description","Keywords","Children"],this.COURSE_CHILDREN_ITEM_FIELDS=this.COURSE_CHILDREN_LESSON_FIELDS.concat(["Completed"]),this.QUIZ_BASE_FIELDS=["Id","IsEnabled","Passmark"],this.QUIZ_ADDITINAL_FIELDS=["CourseId","Settings","CompletionStatus","Questions"],this.QUIZ_FIELDS=this.QUIZ_BASE_FIELDS.concat(this.QUIZ_ADDITINAL_FIELDS),this.QUIZ_SETTINGS_FIELDS=["isLimited","isQuizResults","randAnswers","randQuestions"],this.QUESTION_FIELDS=["Id","OrderIndex","Question","Description","Explanation","QuestionType","Settings","Answers"],this.QUESTION_SETTINGS_FIELDS=["hasExplanation"],this.ANSWER_FIELDS=["Id","OrderIndex","Text"]}l.register("TeachMePlayerAPIConsts").asCtor(b);function g(e,a){this.map=m;function m(m){if(!m||0==e.getObjectKeys(m).length)return{};var l=a.ANSWER_FIELDS,t=e.mapFields(m,l);return t}}l.register("QuizAnswerMapper").asCtor(g).dependencies("TeachMeWidgetUtils, TeachMePlayerAPIConsts");function y(e,a,m){this.map=l;function l(m){if(!m||0==e.getObjectKeys(m).length)return{};var l=a.QUESTION_FIELDS,w=e.mapFields(m,l);return t(w,m),n(w,m),w}function t(m,l){var t=a.QUESTION_SETTINGS_FIELDS;m.Settings=e.mapFields(l.Settings,t)}function n(e,a){e.Answers=[],wmjQuery.each(a.Answers,function(a,l){e.Answers.push(m.map(l))})}}l.register("QuizQuestionMapper").asCtor(y).dependencies("TeachMeWidgetUtils, TeachMePlayerAPIConsts, QuizAnswerMapper");function f(e,a,m){this.map=l;function l(m,l){if(!m||!l||0==e.getObjectKeys(m))return{};var w=a.QUIZ_BASE_FIELDS,o=e.mapFields(m,w);return o.CourseId=l,o.CompletionStatus=e.getQuizStatus(m),t(o,m),n(o,m),o}function t(m,l){var t=a.QUIZ_SETTINGS_FIELDS;m.Settings=e.mapFields(l.Settings,t)}function n(e,a){e.Questions=[],wmjQuery.each(a.Question})}}l.register("QuizMapper").asCtor(f).dependencies("TeachMeWidgetUtils, TeachMePlayerAPIConsts, QuizQuestionMapper");function v(e,a,m,l){this.map=t;function t(m,l,t){if(!m||!l||!t)return{};if(0==e.getObjectKeys(m).length||0==e.getObjectKeys(l).length||0==e.getObjectKeys(t).length)return{};var k=a.BASE_COURSE_FIELDS,r=e.mapFields(m,k);return r.CompletionPercentage=Math.floor(t.completionPercentage),n(r,l),w(r,m),o(r,m),r}function n(a,m){var t=e.getVisibleCourseChildren(m.children(),[]);a.Children=l.map(t)}function w(m,l){var t=a.COURSE_SETTINGS_FIELDS;m.Settings=e.mapFields(l.Settings,t)}function o(e,a){a.Quiz&&(e.Quiz=m.map(a.Quiz,a.Id))}}l.register("CourseMapper").asCtor(v).dependencies("TeachMeWidgetUtils, TeachMePlayerAPIConsts, QuizMapper, CourseChildrenMapper");function x(){this.map=}function a(e,m){if(!e)return[];return wmjQuery.each(e,function(e,l){var t={Type:l.type(),Id:l.id(),Name:l.name(),Description:l.description(),Keywords:l.keywords(),Children:a(l.children(),[])};"lesson"!=l.type()&&(t.Completed=l.properties().hasProperty("completed")),m.push(t)}),m}}l.register("CourseChildrenMapper").asCtor(x);var S=a.ctx.get("EventsListener");S.once("mainCreationStart});function T(){m(2)(a.ctx);var e=m(60);e=E(e);var l=a.ctx.get("ResourceManager");l.injectCss(e,"walkme-teachme-css"),window.TeachMePlayerAPI=new i,a.ctx.get("TeachMeConditionFunctionsManager").init(),a.ctx.get("TeachMeBBCodeParser").init()}var j=window.wmjQuery.Deferred(),C=window.wmjQuery.Deferred();S.once("BeforeStorageLoadedCallback",function(e){var m=a.ctx.get("ServerStorageSettingsService").isServerStorageOn();m?(a.ctx.get("LmsManager").start(),j.resolve()):(a.ctx.get("PrelibLogger").write("TeachMe was not loaded because your account's storage settings. Please contact support or your Customer Success Manager."),j.reject())}),S.once("PlayerInitComplete}),window.wmjQuery.when(C.promise(),j.promise()).then(_);function _(){a.ctx.get("LmsProgressVarProvider").updateSegmentation();new o({lib:_makeTutorial,libAPI:WalkMeAPI});a.ctx.get("LmsManager").postEvents()}function E(e){var m=a.ctx.get("CdnServer").get();return e.replace(/url\((?!http)/g,"url("+m+"/")}})},function(e,a,m){!function(a,m){"object"==typeof e&&"object"==typeof e.exports?e.exports=m:a.teachmeCore=m}(this,function(e){for(var a=m(3)(e),l=[m(10),m(11),m(12),m(13),m(14),m(15),m(16),m(17),m(18),m(19),m(20),m(21),m(22),m(23),m(24),m(25),m(26),m(27),m(28),m(29),m(30),m(31),m(32)(e),m(33),m(34),m(35),m(36),m(37),m(38),m(39),m(40),m(41),m(42),m(43),m(44),m(45),m(46)(e,a.popupBase),m(47),m(48),m(49),m(50),m(51)(a.shoutOutBase),m(52),m(53),m(54),m(55),m(56),m(57),m(58),m(59)],t=0;t<l.length;t++){var n=l[t],w=e.register(n.serviceName).asCtor(n.service).dependencies(n.dependencies);n.isProto&&w.asProto()}})},function(e,a,m){!function(a,m){"object"==typeof e&&"object"==typeof e.exports?e.exports=m:a.uiComponents=m}(this,function(e){var a=m(4)(),l=m(5),t=m(6)(e,a),n=m(8)(t),w=m(9)(n);return{eventBasedObject:a,idisplayer:l,uiComponentBase:t,popupBase:n,shoutOutBase:w}})},function(e,a){e.export};var m=function(}return e.prototype.once=function(e,a){this.eventBase.one(e,a)},e.prototype.bind=function(e,a){this.eventBase.bind(e,a)},e.prototype.unbind=function(e,a){this.eventBase.unbind(e,a)},e.prototype.trigge},e}()},function(e,a){},function(e,a,m){var l,t=m(7)();e.exports=function(e,a){l=e;var m=function(e){t(a,e);function a(a){e.call(this),this.LocalSVNRevision="$Rev: 4206 $",this._uiComponent=a,this._settings=a.Settings||{},this._variations=this.createVariations(),this._uiCreator=l.get("UICreator")}return a.prototype.getComponent=function(){return this._uiComponent},a.prototype.getU},a.prototype.createUi=function(){this._displayer=l.get("DisplayersFactory").get(this._uiComponent.DisplayerId,[this._uiComponent.Settings]);var e=this._displayer.getContainer(),a=e?e[0].document:document;this._uiCreator.setUI(this._uiComponent,this._variations,this.createConfig(),a),this.registerEvents(),this._displayer.setUiObject(this._uiCreator.getUI())},a.prototype.registerEvents=function(){},a.prototype.createVariation},a.prototype.createConfi},a.prototype.append=function(){var e=this;this.trigger("append-begin"),l.get("TemplatesFactory").addResources(this._uiComponent.UITemplateId,this._uiComponent.UITemplateVersion,this._variations,wmjQuery.proxy(function(){e._displayer.append(wmjQuery.prox},e))},this))},a.prototype.destroy=function(){var e=this;if(this._isDead)return;this.trigger("destroy-begin"),this._displayer.remove(wmjQuery.prox},this))},a.prototype.show=function(){this.trigger("show-begin"),this._displayer.show(wmjQuery.proxy(function(){this.trigger("show-end")},this))},a.prototype.hid},a.prototype.toggl},a}(a);return m}},function(e,a)}(this,function(){var };return e})},function(e,a,m){var l=m(7)();e.exports=function(e){var a=function(e){l(a,e}return a.prototype.registerEvents=function(){e.prototype.registerEvents.call(this),this.registerXButton()},a.prototype.registerXButto},a.prototype.createConfi},a}(e);return a}},function(e,a,m){var l=m(7)();e.exports=function(e){var a=function(e){l(a,e);function a(a,m,l,t,n){e.call(this,n,t),this.LocalSVNRevision="$Rev: 4206 $",this.CLOSE_ACTIONS_TYPE="destroy",this.CLASS_ACTION_PREFIX="walkme-action-",this._actionsFactory=a,this._bbCodeParser=l,this._commonUtils=m,this._actions=this.getActions(n),this._position=0==n.Settings.position?"top":"bottom"}return a.prototype.getActions=function(e){var a=[];if(!e.Actions)return a;for(var m=0,l=e.Actions.length;m<l;m++){var t=e.Actions[m];t.IsActive&&(this.isCloseAction(t)?t[this.CLOSE_ACTIONS_TYPE]=!0:t[t.Type]=!0,t.CssClass=this.generateActionClass(a.length,e.Actions[m]),a.push(e.Actions[m]))}return a},a.prototype.registerEvent},a.prototype.registerActions=function(){for(var e=0,a=this._actions.length;e<a;e++){var m=this._actions[e];m.Args=m.Args||{},m.Args.uiComponent=this;var l,t=this._actionsFactory.get(m.Type,m.Args,this.getInitiatorType(),this._uiComponent),n=this.generateActionClass(e,this._actions[e]),w=n.replace(/-/gi,"_"),o=t.args||{};l=t.mobileAction?wmjQuery.prox},this,t.Type):wmjQuery.proxy(function(e){this.trigger("action-start",e.Type),e.doAction(),e.Type!=_consts.DEPLOYABLE_ACTION_TYPES.Close&&this.destroy()},this,t),o.libAction=l,this._uiCreator.registerEvents("."+n,"click",t.mobileAction||_consts.MOBILE_COMMANDS.ACTION.libAction,o,w||"")}},a.prototype.getInitiatorType=function(){},a.prototype.isCloseAction=function(e){var a=this._actionsFactory.get(e.Type).Type;return a===_consts.DEPLOYABLE_ACTION_TYPES.Close||a===_consts.DEPLOYABLE_ACTION_TYPES.RemindMeLater},a.prototype.generateActionClas},a.prototype.createConfig=function(){var a=e.prototype.createConfig.call(this);return a.Title=this.handleText(this._uiComponent.Title),a.Description=this.handleText(this._uiComponent.Description),a.Actions=this._actions,a.Position=this._position,a},a.prototype.handleTex},a}(e);return a}},function(e,a){e.exports={service:m,serviceName:"DeployablesTreeHelper",dependencies:"LmsUiDataProvider"};function m(e){var a=this;a.getPath=r,a.getNestedChildren=o,a.isNodeTypeOf=l,a.getNodeData=w,a.getTreeNodesByType=n,a.isChildOf=c,a.isVisible=p,a.hasProperty=t;function m(){}function l(e,a){return e.typeId()==a}function t(e,a){if(!e)return!1;return e.properties().hasProperty(a)}function n(a){var m=[],l=[];Array.prototype.push.apply(m,e.lmsUiObjectsTree());for(var t=0;t<m.length;t++){var n=m[t];n.typeId()==a&&l.push(n);var w=n.children();w&&Array.prototype.push.apply(m,w)}return l}function w(e){return{id:e.id(),name:e.name(),typeId:e.typeId(),hasPropert},propertie}}}function o(e){if(!e)return[];var a=[];return k(e,a),a}function k(e,a){var m=e.children();if(m){a.push({children:m,parent:e});for(var l=0;l<m.length;l++)k(m[l],a)}}function r(a,m){for(var l=e.lmsUiObjectsTree(),t=null,n=0;n<l.length&&!t;n++){var w=l[n];t=i(w,a,m)}return t}function i(e,a,m){var l=e.children();if(e.typeId()===a&&e.id()===m)return[e];if(!l||0===l.length||!p(e))return null;for(var t=null,n=0;n<l.length&&!t;n++)t=i(l[n],a,m);return t&&t.unshift(e),t}function c(e,a){for(var m=o(e),l=0;l<m.length;l++)for(var t=0;t<m[l].children.length;t++){var n=m[l].children[t];if(a.id==n.id()&&a.typeId==n.typeId())return!0}return!}m.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsBizFlowsEventsHandler",dependencies:"Consts,LmsConsts,LmsEventsManager,LmsStepCompletionMarker ,LmsDeployablesEventsFilter, LmsDeployablesStartTimeLogger"};function m(e,a,m,l,t,n){var w=this,o=e.EVENTS.Flows.FlowCompleted,k=e.EVENTS.Flows.FlowStarted,r=["businessSolutionId"];w.startListen=c;function i(){}function c(){m.subscribe({type:o,filter:t.filter,filtersParams:{DeployableType:e.DEPLOYABLE_TYPE.BusinessSolution},notify:p,params:r}),m.subscribe({type:k,filter:t.filter,filtersParams:{DeployableType:e.DEPLOYABLE_TYPE.BusinessSolution},notify:s,params:r})}function p(m){l.markAsCompleted(e.DEPLOYABLE_TYPE.BusinessSolution,m,a.LMS_STEP_COMPLETION_TYPE.Completion)}function s(a){var m=new Date;n.logStartEvent(a,m,e.DEPLOYABLE_TYPE.BusinessSolution)}i.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsCompletionEventsHandler",dependencies:"Consts, LmsEventsManager, LmsCoursesProvider, LmsStepsProvider, LmsProgressProvider, LmsCourseCompletionEventHandler, LmsStepCompletionEventHandler, DeployableTypeToEventSenderAppTypeMapper, ReportInitiatorMapper, LmsProgressVarProvider"};function m(e,a,m,l,t,n,w,o,k,r){var i=this,c=["deployableType","deployableId"];i.startListen=h;var p=100;function s()}function u(e,a){if(!l.isStep(e))return;var m=l.getStepInfo(e,a);if(!m)return;var t=l.getStepCourses(m);if(!t)return;for(var n=0;n<t.length;n++)d(m,t[n],e)}function d(a,l,i){var c=m.getCourseInfo(l),s=t.getProgressPercentage(),h=o.map(a.typeId),u=k.map({type:e.STEP_PLAY_INITIATOR_ENUM.COURSE,appType:e.EVENT_SENDER_EVENT_APPS.Course,objectId:l.id()});w.postEvent({stepId:a.id,typeId:i,eventSenderAppType:h,stepName:a.name,courseCompletion:c.completionPercentage,lmsCompletionPercentage:s,playerInitiator:u}),c.completionPercentage===p&&(r.updateSegmentation(),n.postEvent(c.id,c.name,s,u))}s.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsCompletionManager",dependencies:"CommonUtils, LmsCompletionSettingsProvider, ClientOrServerStorageManager, CommonEvents, Consts, CoursesManager, LessonsManager, WalkMeInfo, TeachMeEventsLogger"};function m(e,a,m,l,t,n,w,o,k){var r=this;r.isCompleted=c,r.markAsCompleted=s,r.getMatchingCompletionType=h;function i(){}function c(e,m){var l=u(),t=a.createKey(e,m);return p(l,t)}function p(e,a){return!!e&&wmjQuery.inArray(a,e)>-1}function s(t,n){var w=a.createKey(t,n),o=a.getDictionaryKey(),r=(a.getDefaultExpiredSeconds(),u(o)),i={completionDictionary:e.toJSON(r),deployableId:n,deployableType:t};k.log("Getting completion data from server storage in markAsCompleted",i);var c=r||[];if(!p(r,w)){c.push(w);var i={completionDictionary:e.toJSON(c),deployableId:n,deployableType:t};k.log("Setting new completion data in server storage in markAsCompleted - previous value didn't have the given key in array before",i),m.addToSet(o,[w],a.getDefaultExpiredSeconds())}l.sendInternalEvent("LmsStepCompleted",{deployableType:t,deployableId:n})}function h(e,a,m,l){var o;if(m==t.DEPLOYABLE_TYPE.Course?o=n.getById(l):m==t.DEPLOYABLE_TYPE.Lesson&&(o=w.getById(l)),!o)return;for(var k=0;k<o.LinkedDeployables.length;k++)if(o.LinkedDeployables[k].DeployableID==a&&o.LinkedDeployables[k].DeployableType==e)return!!o.LinkedDeployables[k].Settings&&o.LinkedDeployables[k].Settings.cmplType}function u(e){e=e||a.getDictionaryKey();var l=m.getData(e);if(!l){var t=a.getOldDictionaryKey();l=m.getData(t),l&&(k.log("Migrating completion cookie from V2 to V3",{beforeMigrateCompletionData:l}),l=d(l,e),m.removeData(t))}return l}function d(l,t){var n,w=20,o=[],r=[],i=1;for(var c in l)l.hasOwnProperty(c)&&(n=e.secureEvalJSON(l[c]),n.isCompleted&&(o.push(c),r.push(c),i==w?(p(t,r),r=[],i=1):i++));return r.length>0&&p(t,r),o;function p(l,t){var n={currentBatchAdded:e.toJSON(t)};k.log("migrateCompletionCookie - calling addToSet",n),m.addToSet(l,t,a.getDefaultExpiredSeconds())}}i.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsCompletionSettingsProvider",dependencies:"LmsConsts"};function m(e){var a=this,m="_";a.createKey=t,a.getDictionaryKey=w,a.getDefaultExpiredSeconds=k,a.getDeployableDataFromKey=n,a.getOldDictionaryKey=o;function l()}function n(e){var a=e.split(m),l={};return l.deployableType=Number(a[0]),l.deployableId=Number(a[1]),l}function w(){return e.LMS_PREFIX_KEY+"c-v3}function k(){return e.TWO_YEARS}l.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsConsts",dependencies:""};function m(){var e=this;e.TWO_YEARS=63072e3,e.LMS_PREFIX_KEY="wm-lms_",e.LMS_STEP_COMPLETION_TYPE={Completion:0,Goal:1},this.QUIZ_ANNOUNCEMENT_TYPES={WelcomeScreen:1,SuccessScreen:2,FailureScreen:3},this.QUIZ_ANNOUNCEMENT_TYPE_NAMES={1:"WelcomeScreen",2:"SuccessScreen",3:"FailureScreen"},e.QUIZ_QUESTION_TYPES={SingleSelection:0,MultiSelection:1},e.TeachMeLogzIoType="TeachMe",e.EVENTS={ItemActivatedFromTeachMe:"ItemActivatedFromTeachMe"},e.MENU_DISPLAYER={1:"Docked",2:"Splash"},e.DEFAULT_TEACH_ME_CONFIG={QuestionNumbering:"A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z",QuestionXOutOfYText:"Question X out of Y",PreviousButtonText:"Previous",NextButtonText:"Next",SubmitText:"Submit",QuizResultsText:"Quiz Results",WelcomeMessageText:"Welcome",CourseDisabledTooltip:"Complete the previous course to be able to start this course",ItemDisabledTooltip:"Complete all previous items in the course in order to activate this item",QuizDisabledMessageText:"You need to complete all the course work before you can take this quiz",ResumeCourseButtonText:"Resume",StartCourseButtonText:"Start",TakeQuizButtonText:"Take quiz",CourseText:"Course",CourseProgressText:"Here's the completion for this course",ReturnToCourseMenuButtonText:"Return to Course Menu",OverallProgressText:"Here's the completion for your training",CourseListText:"My Course List",NoCoursesText:"No courses to complete at this time",QuizFailedText:"Quiz Failed",QuizNotTestedText:"Not Tested",QuizPassedText:"Quiz Passed",YourAnswerText:"Your answer",CorrectAnswerText:"Correct answer",ExplanationText:"Explanation",QuestionsText:"questions",PassmarkText:"Passmark",YourGradeText:"Your grade",GoBackToCoursesButtonText:"Go Back To Courses",ViewFullQuizResultsButtonText:"view full quiz results"}}},function(e,a){e.exports={service:m,serviceName:"LmsContentsEventsFilter",dependencies:""};function m(){var e=this;e.filter=m;function a(){}function m(e){if(!e)return!1;return 0===e.Type||1===e.Type}a.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsContentsEventsHandler",dependencies:"Consts, LmsConsts, LmsEventsManager, LmsStepCompletionMarker, LmsContentsEventsFilter"};function m(e,a,m,l,t){var n=this,w="LoadingContent",o=["Id"];n.startListen=r;function k(){}function r(){m.subscribe({type:w,filter:t.filter,params:o,notify:i})}function i(m){l.markAsCompleted(e.DEPLOYABLE_TYPE.Content,m,a.LMS_STEP_COMPLETION_TYPE.Completion)}k.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsCourseCompletionEventHandler",dependencies:"EventSender, Consts"};function m(e,a){var m=this;m.postEvent=t;function l(){}function t(m,l,t,n){e.postEvent(e.EVENT_TYPES.TeachMeCourseCompletion,{type:a.EVENT_SENDER_EVENT_APPS.TeachMe,oId:m,oName:l,globalRatio:t,pInit:n})}l.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsCourseCompletionMarker",dependencies:"LmsCompletionManager"};function m(e){var a=this;a.markAsCompleted=e.markAsCompleted;function m(){}m.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsCourseProgressFilters",dependencies:"DeployablesTreeHelper"};function m(e){function a(){}this.shouldCalculateDeployableInProgress=function(a,m){var l=e.getNodeData(m),t=l.hasProperty("visible");return t},a.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsCoursesProvider",dependencies:"Consts, DeployablesTreeHelper, LmsCompletionManager, LmsStepsProvider, LmsCourseProgressFilters"
};function m(e,a,m,l,t){var n=this;n.getCourseInfo=r,n.getCoursesInfo=o,n.getCourseSteps=k;function w(){}function o(){for(var m=a.getTreeNodesByType(e.DEPLOYABLE_TYPE.Course),l=[],t=0;t<m.length;t++){if(!a.isVisible(m[t]))continue;var w=n.getCourseInfo(m[t]);l.push(w)}return l}function k(e){return a.getNestedChildren(e)}function r(e){if(!e)return null;for(var w=n.getCourseSteps(e),o=[],k=[],r=0;r<w.length;r++)for(var i=a.getNodeData(w[r].parent),c=0;c<w[r].children.length;c++){var p=w[r].children[c],s=a.getNodeData(p);if(l.isStep(s.typeId)){if(!t.shouldCalculateDeployableInProgress(e,p))continue;m.isCompleted(s.typeId,s.id,i.typeId,i.id)?o.push(s):k.push(s)}}var h=a.getNodeData(e),u=o.length+k.length;return{name:h.name,id:h.id,typeId:h.typeId,completedSteps:o,uncompletedSteps:k,completionPercentage:0===u?0:o.length/u*100}}w.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsEventsManager",dependencies:"WmInternals"};function m(e){var a=this;a.subscribe=l;function m(){}function l(a){if(null==a||null==a.type||null==a.notify)return;e.bind(a.type,function(e,m,l){if(!a.filter||a.filter(m,a.filtersParams)){var n=a.params&&a.params.length>0?t(m,a.params):[m];a.notify.apply(null,n)}})}function t(e,a){for(var m=[],l=0;l<a.length;l++){var t=a[l],w=n(e,t);m.push(w)}return m}function n(e,a){for(var m=a.split("."),l=e,t=0;t<m.length;t++){if(!l)return null;l=l[m[t]]}return l}m.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsGoalsEventsFilter",dependencies:"LmsSupportedGoalsManager"};function m(e){var a=this;a.filter=l;function m(){}function l(a){if(!a)return!1;return a.goal&&a.goal.IsMainGoal===!0&&e.isSupportedGoalType(a.goal.GoalType)}m.apply(this,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsGoalsEventsHandler",dependencies:"LmsConsts, LmsEventsManager, LmsStepCompletionMarker, LmsGoalsEventsFilter, Lib"};function m(e,a,m,l,t){var n=this,w="GoalCompleted",o=["goal.GoalType","goal.RelatedObjectId"];n.startListen=r;function k(){}function r(){a.subscribe({type:w,filter:l.filter,params:o,notify:i}}k.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsManager",dependencies:"LmsVisibleEventsHandler, LmsGoalsEventsHandler, LmsContentsEventsHandler, LmsWalkthrusEventsHandler, LmsCompletionEventsHandler, LmsBizFlowsEventsHandler, LmsProgressProvider, LmsCompletionSettingsProvider, CommonUtils, TeachMeEventsLogger, ItemActivationEventsHandler, CourseStartedEventsHandler"};function m(e,a,m,l,t,n,w,o,k,r,i,c){var p=this;p.start=h,p.postEvents=d;function s()}function u(){a.startListen(),m.startListen(),l.startListen(),n.startListen(),t.startListen(),i.startListen(),c.startListen(}s.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsProgressProvider",dependencies:"LmsCoursesProvider, CourseStatusUpdateEventsHandler"};function m(e,a){var m=this;m.getProgressInfo=n,m.getProgressPercentage=t,m.getCourseProgress=w;function l()}function n(){for(var m=e.getCoursesInfo(),l=[],t=[],n=0;n<m.length;n++)Array.prototype.push.apply(l,m[n].completedSteps),Array.prototype.push.apply(t,m[n].uncompletedSteps);var w=0,o=l.length,k=t.length,r=o+k;return r>0&&(w=o/r*100),a.postUpdateEvent(m,w),{coursesNumber:m.length,completedSteps:l,uncompletedSteps:t,completionPercentage:w}}function w(a){var m=e.getCourseInfo(a);if(!m)return null;return m.completionPercentage}l.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsProgressVarProvider",dependencies:"LmsProgressProvider"};function m(e){function a(){}this.updateSegmentation=function(){_walkMe&&_walkMe.getSiteConfig()&&_walkMe.getSiteConfig().Settings&&_walkMe.getSiteConfig().Settings.hideTeachMeWhenCompleted&&(window.TeachMeProgressPercentages=e.getProgressPercentage())},a.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsStepCompletionEventHandler",dependencies:"EventSender, LmsStepDurationProvider"};function m(e,a){var m=this;m.postEvent=t;function l(){}function t(m){e.postEvent(e.EVENT_TYPES.TeachMeStepCompletion,{type:m.eventSenderAppType,oId:m.stepId,oName:m.stepName,ratio:m.courseCompletion,globalRatio:m.lmsCompletionPercentage,duration:a.get(m.typeId,m.stepId),pInit:m.playerInitiator})}l.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsStepCompletionMarker",dependencies:"LmsCompletionManager, LmsStepsProvider, LmsCoursesProvider, LmsCourseCompletionMarker"};function m(e,a,m,l){var t=this,n=100;t.markAsCompleted=o;function w(){}function o(m,t,w){if(!a.isStep(m))return;var o=a.getStepInfo(m,t);if(!o||!o.parentInfo)return;var k=o.parentInfo.typeId,r=o.parentInfo.id,i=e.getMatchingCompletionType(m,t,k,r);if(i==w){if(e.markAsCompleted(m,t,k,r),!o.coursesInfos)return;for(var c=0;c<o.coursesInfos.length;c++){var p=o.coursesInfos[c];p&&p.completionPercentage>=n&&l.markAsCompleted(p.typeId,p.id)}}}w.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsStepDurationProvider",dependencies:"Consts, LmsDeployablesStartTimeLogger"};function m(e,a){var m=this;m.get=t;function l(){}function t(m,l){if(m!=e.DEPLOYABLE_TYPE.Tutorial&&m!=e.DEPLOYABLE_TYPE.BusinessSolution)return 0;var t=new Date,n=a.getStartTime(l,m);if(n){var w=(t-n)/1e3;return w}return null}l.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsSupportedDeployablesService",dependencies:"Consts"};function m(e){var a=this;a.isSupported=l;var m=[e.DEPLOYABLE_TYPE.Tutorial,e.DEPLOYABLE_TYPE.Content,e.DEPLOYABLE_TYPE.BusinessSolution];function l(e){return wmjQuery.inArray(e,m)>-1}}},function(e,a){e.exports=l;var }var t={service:n,serviceName:"LmsStepsProvider",dependencies:"Consts, DeployablesTreeHelper, LmsSupportedDeployablesService"};function n(e,a,l){var t,n=this;n.getStepCourses=w,n.isStep=i,n.getStepInfo=k;function w(m){var l=a.getTreeNodesByType(e.DEPLOYABLE_TYPE.Course);if(!l||!l.length)return null;for(var t=[],n=0;n<l.length;n++){var w=l[n],k=o(w,m);k&&t.push(l[n])}return t}function o(e,m){return a.isVisible(e)&&a.isChildOf(e,{id:m.id,typeId:m.typeId})}function k(e,m){var l=a.getPath(e,m);if(!l)return null;var t=l[l.length-1],n=a.getNodeData(t),w=l[l.length-2];return n.parentInfo={id:w.id(),typeId:w.typeId()},r(n),n}function r(e){var a=w(e);if(!a||!a.length)return;e.coursesInfos=[];for(var m=0;m<a.length;m++)e.coursesInfos.push(t.getCourseInfo(a[m]))}function i(e){return l.isSupported(e)}n.ready=function(e){t=e||m.get("LmsCoursesProvider")}}},function(e,a){e.exports={service:m,serviceName:"LmsSupportedGoalsManager",dependencies:"Consts, LmsSupportedDeployablesService"};function m(e,a){var m=this;m.isSupportedGoalType=t;function l()}l.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsUiDataProvider",dependencies:"Consts, ObjectsTreeGenerator, DeployablesManagerFactory"};function m(e,a,m){var l=this;l.lmsUiObjectsTree=function(){return a.generate(t(e.DEPLOYABLE_TYPE.Course))};function t(e){for(var a=m.get(e).getAll(),l=0;l<a.length;l++)a[l].deployableType=e;return a}}},function(e,a){e.exports={service:m,serviceName:"LmsVisibleEventsHandler",dependencies:"Consts, EventSender, ClientStorageManager, LmsCoursesProvider, LmsVisibleEventsSettingsProvider, LmsUiDataProvider"};function m(e,a,m,l,t,n){var w,o,k=this;k.postEventIfNeeded=}function i(){if(!p())return;c()}function c(){var l=new Date;a.postEvent(a.EVENT_TYPES.Visible,{type:e.EVENT_SENDER_EVENT_APPS.TeachMe}),m.saveData(w,l.getTime(),o)}function p(){var e=s();if(!e)return!1;var a=m.getData(w);if(a){var l=(new Date).getTime()-a;return l>t.getIntervalTimeInMiliseconds()}return!0}function s(){for(var e=!1,a=n.lmsUiObjectsTree(),m=0;m<a.length;m++){var l=a[m];if(l.properties().hasProperty("visible")){e=!0;break}}return e}r.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsVisibleEventsSettingsProvider",dependencies:"LmsConsts"};function m(e){var a=this,m=e.LMS_PREFIX_KEY+"previous_login",l=864e5;a.getStorageKey=n,a.getStorageExpires=w,a.getIntervalTimeInMiliseconds=o;function t(){}function n(){return m}function w(){return e.TWO_YEAR}t.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsWalkthrusEventsHandler",dependencies:"Consts,LmsConsts,LmsEventsManager,LmsStepCompletionMarker ,LmsDeployablesEventsFilter, LmsDeployablesStartTimeLogger"};function m(e,a,m,l,t,n){var w=this,o="WalkthruCompleted",k="LoadWt",r=["TutorialId"];w.startListen=c;function i(){}function c(){m.subscribe({type:o,filter:t.filter,filtersParams:{DeployableType:e.DEPLOYABLE_TYPE.Tutorial},notify:p,params:r}),m.subscribe({type:k,filter:t.filter,filtersParams:{DeployableType:e.DEPLOYABLE_TYPE.Tutorial},notify:s,params:r})}function p(m){l.markAsCompleted(e.DEPLOYABLE_TYPE.Tutorial,m,a.LMS_STEP_COMPLETION_TYPE.Completion)}function s(a){var m=new Date;n.logStartEvent(a,m,e.DEPLOYABLE_TYPE.Tutorial)}i.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsDeployablesEventsFilter",dependencies:"Consts"};function m(e){var a=this;a.filter=t;var m={};function l(){m[e.DEPLOYABLE_TYPE.Tutorial]="TutorialId",m[e.DEPLOYABLE_TYPE.BusinessSolution]="businessSolutionId"}function t(e,a){if(!a)return;return null!=e&&null!=e[m[a.DeployableType]]}l.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsDeployablesStartTimeLogger",dependencies:"ClientStorageManager, LmsDeployablesStartTimeLoggerSettingsProvider"};function m(e,a){var m=this;m.logStartEvent=t,m.getStartTime=n;function l(){}function t(m,l,t){var n=a.getKey(t);if(!n)return;var w=a.getExpiresSeconds();e.saveData(n,l.getTime(),w)}function n(m,l){var t=a.getKey(l),n=e.getData(t);return e.removeData(t),n?new Date(n):null}l.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsDeployablesStartTimeLoggerSettingsProvider",dependencies:"LmsConsts, Consts"};function m(e,a){var m=this,l={};m.getKey=n,m.getExpiresSeconds=w;function t(){l[a.DEPLOYABLE_TYPE.Tutorial]=e.LMS_PREFIX_KEY+"wt_starttime",l[a.DEPLOYABLE_TYPE.BusinessSolution]=e.LMS_PREFIX_KEY+"bf_starttimet.apply(null,arguments)}},function(e,a){e.exports={service:m,serviceName:"LmsTeachMeConfigProvider",dependencies:"LmsConsts, TeachMeConfigManager"};function m(e,a){this.get=function(m){return a.get()[m]||e.DEFAULT_TEACH_ME_CONFIG[m]}}},function(e,a){var m=function(}return e.prototype.getButtonText=function(e,a){return e.ButtonText},e.prototype.getButtonAction=function(e){var a=this;return function(e){return a.goBackToCourses(e)}},e.prototype.goBackToCourses=function(e){e.destroy(),this._commonEvents.raiseEvent(this._consts.EVENTS.Quizzes.QuizSummarySuccessButtonClicked)},e.prototype.getLinkActio},e.prototype.openQuizResults=function(e){e.trigger("open-quiz-results"),e.destroy()},e.prototype.calculateGrade=function(e,a){return 100/e*a.totalCorrectAnswers},e}();e.exports={service:m,serviceName:"SummarySuccessScreenDataProvider",dependencies:"CommonEvents, Consts"}},function(e,a){var m=function(}return e.prototype.getButtonText=function(e,a){return a?e.ButtonText:this.noFullResultsButtonText},e.prototype.getButtonAction=function(e){var a=this;return e?function(e){return a.openQuizResults(e)}},e.prototype.openQuizResults=function(e){e.trigger("open-quiz-results"),e.destroy(),this._commonEvents.raiseEvent(this._consts.EVENTS.Quizzes.QuizSummaryFailureButtonClicked)},e.prototype.goBackToCourses=function(e){e.destroy(),this._commonEvents.raiseEvent(this._consts.EVENTS.Quizzes.QuizSummarySuccessButtonClicked)},e.prototype.calculateGrade=function(e,a){return 100/e*a.totalCorrectAnswers},e.prototype.getLinkAction=function(){return function(e){}},e}();e.exports={service:m,serviceName:"SummaryFailureScreenDataProvider",dependencies:"CommonEvents, Consts"}},function(e,a){var m=function(){function e(){}return e.prototype.getButtonTex},e.prototype.getButtonAction=function(e){retur}},e.prototype.calculateGrad},e.prototype.getLinkActio},e}();e.exports={service:m,serviceName:"WelcomeScreenDataProvider",dependencies:""}},function(e,a){var m=function(){function e(e,a,m,l){this.quizAnnouncementDataProviders={},this.quizAnnouncementDataProviders[e.QUIZ_ANNOUNCEMENT_TYPES.WelcomeScreen]=a,this.quizAnnouncementDataProviders[e.QUIZ_ANNOUNCEMENT_TYPES.SuccessScreen]=m,this.quizAnnouncementDataProviders[e.QUIZ_ANNOUNCEMENT_TYPES.FailureScreen]=l}return e.prototype.ge},e}();e.exports={service:m,serviceName:"QuizAnnouncementDataProviderFactory",dependencies:"LmsConsts, WelcomeScreenDataProvider, SummarySuccessScreenDataProvider, SummaryFailureScreenDataProvider"}},function(e,a,m){e.exports=function(e,a){var l=m(7)(),t=function(a){l(m,a);function m(e,m,l,t,n,w,o,k){a.call(this,k,m),this._quizResultsCalculator=e,this._lmsConsts=l,this._jScrollPaneUtils=t,this._commonUtils=n,this._arrayUtils=w,this._lmsTeachMeConfigProvider=o,this._results={},this._currentQuestionIdx=0,this.NEXT_BUTTON_CLASS_SELECTOR=".wm-quiz-wizard-steps-next",this.PREVIOUS_BUTTON_CLASS_SELECTOR=".wm-quiz-wizard-steps-previous",this.SUBMIT_BUTTON_CLASS_SELECTOR=".wm-quiz-wizard-steps-submit",this.ANSWER_BUTTON_CLASS_SELECTOR=".wm-answer-button-",this.QUESTION_INDEX_CLASS_SELECTOR=".wm-quiz-wizard-current-step-number",this.ANSWERS_PREFIX_CLASS=".wm-items-",this.A_CHAR_CODE="A".charCodeAt(0),this.setQuetions(k),this.handleShuffleAnswers(this._questions,1==k.Settings.randAnswers),this.createUi(),this.initializeUi()}return m.prototype.setQuetions=function(a){if(a.Settings&&1==a.Settings.randQuestions){var m=e.get("ArrayUtils");this._questions=m.shuffle(a.Questions)}else this._questions=a.Questions},m.prototype.createConfig=function(){var e=this,m=a.prototype.createConfig.call(this),l=[],t=this._lmsTeachMeConfigProvider.get("QuestionNumbering").split(/ *, */g),n=!0;t.length<this.getMaxAnswers()&&(n=!1);for(var w=function(){l.push(wmjQuery.extend({},o._questions[k]));var a=0;n?l[k].getCurrentLette}:l[k].getCurrentLetter=function(m){return String.fromCharCode(e.A_CHAR_CODE+a++)}},o=this,k=0;k<this._questions.length;k++)w();var r=this._lmsTeachMeConfigProvider.get("QuestionXOutOfYText"),i=/^(\D*) X (\D*) Y$/,c=i.exec(r);return c&&3==c.length?(m.QuestionFooterText=c[1],m.TotalQuestionsAmountText=c[2]+" "+this._questions.length):(m.TotalQuestionsAmountText="out of "+this._questions.length,m.QuestionFooterText="Question"),m.Questions=l,m.PreviousButtonText=this._lmsTeachMeConfigProvider.get("PreviousButtonText"),m.NextButtonText=this._lmsTeachMeConfigProvider.get("NextButtonText"),m.SubmitButtonText=this._lmsTeachMeConfigProvider.get("SubmitText"),m},m.prototype.registerEvents=function(){a.prototype.registerEvents.call(this),this.registerNavigationButtons(),this.registerQuestionsEvents()},m.prototype.getMaxAnswers=function(){for(var e=0,a=0;a<this._questions.length;a++)this._questions[a].Answers.length>e&&(e=this._questions[a].Answers.length);return e},m.prototype.bindEvent=function(e,a){var m=wmjQuery.prox},this);this._uiCreator.registerEvents(e,"click",null,{libAction:m})},m.prototype.registerNavigationButton},m.prototype.registerPreviousButton=function(){var e=this;this.bindEvent(this.PREVIOUS_BUTTON_CLASS_SELECTOR,function(){if(0==e._currentQuestionIdx)return;e.moveToQuestion(e._currentQuestionIdx-1),e.hideButton(e.SUBMIT_BUTTON_CLASS_SELECTOR),e.showButton(e.NEXT_BUTTON_CLASS_SELECTOR)})},m.prototype.registerSubmitButton=function(){var e=this;this.bindEvent(this.SUBMIT_BUTTON_CLASS_SELECTOR,function(){var a=e._quizResultsCalculator.calculate(e._uiComponent,e._results);e.destroy(),e.trigger("quiz-submitted",[e._uiComponent,a])})},m.prototype.registerNextButton=function(){var e=this;this.bindEvent(this.NEXT_BUTTON_CLASS_SELECTOR,function(){e.moveToQuestion(e._currentQuestionIdx+1),e.showButton(e.PREVIOUS_BUTTON_CLASS_SELECTOR)})},m.prototype.moveToQuestion=function(e){var a=this._questions[this._currentQuestionIdx];this.getQuestionJQueryById(a.Id).hide(),this._currentQuestionIdx=e,this.updateQuestionIndex(),this._currentQuestionIdx>=this._questions.length-1&&(this.hideButton(this.NEXT_BUTTON_CLASS_SELECTOR),this.showButton(this.SUBMIT_BUTTON_CLASS_SELECTOR)),this._currentQuestionIdx<=0&&this.hideButton(this.PREVIOUS_BUTTON_CLASS_SELECTOR);var m=this._questions[this._currentQuestionIdx];m&&this.getQuestionJQueryById(m.Id).show(),this.reInitScroll(m.Id)},m.prototype.registerQuestionsEvents=function(){for(var e=this,a=function(a){var l,t=m._questions[a].Answers;switch(m._questions[a].QuestionType){case m._lmsConsts.QUIZ_QUESTION_TYPES.SingleSelection:l=m.registerSingleSelectAnswer;break;case m._lmsConsts.QUIZ_QUESTION_TYPES.MultiSelection:l=m.registerMultiSelectAnswer}for(var n=function(n){m.bindEvent(m.ANSWER_BUTTON_CLASS_SELECTOR+t[n].Id,function(){l.call(e,e._questions[a].Id,t[n])})},w=0;w<t.length;w++)n(w)},m=this,l=0;l<this._questions.length;l++)a(l)},m.prototype.registerMultiSelectAnswer=function(e,a){var m=this._ui.find(this.ANSWER_BUTTON_CLASS_SELECTOR+a.Id);if(m.hasClass("active")){m.removeClass("active");for(var l=-1,t=0;t<this._results[e].length;t++){var n=this._results[e][t];if(n.answerId==a.Id){l=t;break}}l!=-1&&this._results[e].splice(l,1)}else m.addClass("active"),this._results[e]=this._results[e]||[],this._results[e].push({answerId:a.Id,answerText:a.Text,isCorrect:a.IsCorrect})},m.prototype.registerSingleSelectAnswer=function(e,a){var m=this._ui.find(this.ANSWER_BUTTON_CLASS_SELECTOR+a.Id);if(m.hasClass("active"))return;this.getQuestionJQueryById(e).find(".active").removeClass("active"),m.addClass("active"),this._results[e]=[{answerId:a.Id,answerText:a.Text,isCorrect:a.IsCorrect}]},m.prototype.initializeUi=function(){this._ui=a.prototype.getUI.call(this),0===this._currentQuestionIdx&&(this.hideButton(this.PREVIOUS_BUTTON_CLASS_SELECTOR),this.updateQuestionIndex(),this._questions.length>1?this.hideButton(this.SUBMIT_BUTTON_CLASS_SELECTOR):this.hideButton(this.NEXT_BUTTON_CLASS_SELECTOR)),this._jScrollPaneUtils.isJspEnabled()||this._ui.find(".wm-quiz-wizard-answers-list-items").css("overflow","auto"),this.hideAllQuestionsButFirst(),this.showFirstQuestion()},m.prototype.hideAllQuestionsButFirst=function(){for(var e=this._questions.length-1;e>=1;e--){var a=this._questions[e].Id;this.getQuestionJQueryById(a).hide();var m=this._ui.find(this.ANSWERS_PREFIX_CLASS+a);this._jScrollPaneUtils.initJSP(m)}},m.prototype.showFirstQuestion=function(){var e=this;this.updateQuestionIndex();var a=this._questions[0].Id,m=this._ui.find(this.ANSWERS_PREFIX_CLASS+a);this._jScrollPaneUtils.initJSP(m),this._commonUtils.libSetTimeout(function(){e.reInitScroll(a)},1)},m.prototype.getQuestionJQueryById=function(e){var a=".wm-question-";return this._ui.find(a+e)},m.prototype.updateQuestionIndex=function(){this._ui.find(this.QUESTION_INDEX_CLASS_SELECTOR).text(this._currentQuestionIdx+1)},m.prototype.hideButton=function(e){this._ui.find(e).addClass("hidden")},m.prototype.showButto},m.prototype.reInitScroll=function(e){var a=this._ui.find(this.ANSWERS_PREFIX_CLASS+e);this._jScrollPaneUtils.reInitJSP(a)},m.prototype.handleShuffleAnswers=function(e,a){if(void 0===a&&(a=!1),!a)return e;for(var m=0;m<e.length;m++)e[m].Answers=this._arrayUtils.shuffle(e[m].Answers);return e},m}(a);return{service:t,serviceName:"Quiz",dependencies:"QuizResultsCalculator, Consts, LmsConsts, JScrollPaneUtils, CommonUtils, ArrayUtils, LmsTeachMeConfigProvider",isProto:!0}}},function(e,a){e.exports={service:m,serviceName:"QuizResultsCalculator",dependencies:"LmsConsts"};function m(e){var a=this;a.calculate=m;function m(e,a){for(var m={questionsResults:[]},t=0,n=0;n<e.Questions.length;n++){var w=e.Questions[n],o=a[w.Id]||[],k={};k=l(w,o),m.questionsResults.push(k),k.didPass&&t++}return m.totalCorrectAnswers=t,m.score=t/e.Questions.length*100,m.didPassQuiz=+(m.score>=e.Passmark),m}function l(e,a){for(var m=[],l=0;l<e.Answers.length;l++)e.Answers[l].IsCorrect&&m.push(e.Answers[l].Text);for(var t=e.Settings&&e.Settings.hasExplanation,n={question:e.Question,questionId:e.Id,correctAnswers:m.join(", "),didPass:!0,hasExplanation:t,explanation:t?e.Explanation:void 0},w=[],o=[],l=0;l<a.length;l++)a[l].isCorrect||(n.didPass=!1),w.push(a[l].answerText),o.push(a[l].answerId);return a.length!=m.length&&(n.didPass=!1),n.didPass||(n.userAnswers=w.join(", ")),n.userAnswersIds=o,n}}},function(e,a){e.exports={service:m,serviceName:"QuizResultsTemplateProvider"};function m(){var e=this;e.get=a;function a(){return'<div class="wm-quiz-results-outer-div wm-position-center walkme-direction-{{direction}} walkme-css-reset"><span class="wm-quiz-results-close-button walkme-css-reset">&times;</span><div class="wm-quiz-results-inner-div walkme-css-reset"><div class="wm-quiz-results-title walkme-css-reset">{{quizResultsText}}</div><div class="wm-quiz-results-wrapper walkme-css-reset"><ul class="wm-quiz-results-list-items walkme-css-reset">{{#questionsResults}}<li class="wm-quiz-results-item walkme-css-reset"><p class="wm-quiz-question-text walkme-css-reset">{{orderIndex}}. {{{question}}}</p>{{#didPass}}<p class="wm-quiz-results-answer-correct walkme-css-reset"><span class="walkme-css-reset">&#x2713;</span> {{yourAnswerText}}: {{{correctAnswers}}}</p>{{/didPass}}{{^didPass}}<p class="wm-quiz-results-answer-incorrect walkme-css-reset"><span class="walkme-css-reset">&#x2717;</span> {{yourAnswerText}}: {{{userAnswers}}}</p><p class="wm-quiz-results-answer-correct walkme-css-reset"><span class="walkme-css-reset">&#x2713;</span> {{correctAnswerText}}: {{{correctAnswers}}}</p>{{/didPass}}{{#hasExplanation}}<p class="wm-quiz-results-answer-explantion walkme-css-reset">{{explanationText}}: {{{explanation}}}</p>{{/hasExplanation}}</li>{{/questionsResults}}</ul></div></div><button class="wm-quiz-announcements-action-button walkme-css-reset">{{goBackToCoursesButtonText}}</button></div>'}}},function(e,a){e.exports={service:m,serviceName:"QuizResultsHTMLCreator",dependencies:"Mustache, QuizResultsTemplateProvider, LmsTeachMeConfigProvider, SiteConfigManager"};function m(e,a,m,l){var t=this;t.createHTML=n;function n(t){w(t);var n={quizResultsText:m.get("QuizResultsText"),yourAnswerText:m.get("YourAnswerText"),correctAnswerText:m.get("CorrectAnswerText"),explanationText:m.get("ExplanationText"),goBackToCoursesButtonText:m.get("GoBackToCoursesButtonText"),direction:l.get().Direction};return e.to_html(a.get(),wmjQuery.extend({},t,n))}function w(e){for(var a=0;a<e.questionsResults.length;a++)e.questionsResults[a].orderIndex=a+1}}},function(e,a){e.exports={service:m,serviceName:"QuizResultsDisplayer",dependencies:"QuizResultsHTMLCreator, TopContainerProvider, OverlayManager, ElementCenterer, JScrollPaneUtils, CommonEvents, Consts",isProto:!0};function m(e,a,m,l,t,n,w,o){var k=this;k.show=s,k.destroy=h;var r,i,c;function p(){u(),i=m.create(r),c=mtjQuery.Deferred()}function s(){return b(),l.centerElementInPage(r),g(),y(),f(),i.show(),c.promise()}function h(){d(),c.reject()}function u(){r=mtjQuery(e.createHTML(o.quizResults)),r.css({zIndex:2147483632})}function d(){r.remove(),i.remove(function y(){var e=r.find(".wm-quiz-results-close-button");e.on("click})}function f(){var e=r.find(".wm-quiz-announcements-action-button");e.on("click",function(){n.raiseEvent(w.EVENTS.Quizzes.QuizResultsActionButtonClicked),d(),c.resolve()})}p()}},function(e,a,m){e.exports=function(e){var a=m(7)(),l=function(e){a(m,e);function m(a,m,l,t,n,w,o,k,r,i){this.BUTTON_CLASS="wm-quiz-announcements-action-button",this.LINK_CLASS="wm-quiz-announcements-link-text",this.DISABLE_CLASS="wm-disabled",k.Settings=k.Settings||{overlay:{},position:8},e.call(this,a,m,l,t,k),this.updateAttributes(k,w,r,n,i,o),this.createUi()}return m.prototype.updateAttributes=function(e,a,m,l,t,n){this._uiComponent=e,this._lmsConsts=a,this._totalQuestionsAmount=m.Questions.length,this._passmark=m.Passmark,this._isQuizResults="1"==m.Settings.isQuizResults,this._dataProvider=l.get(e.Type),this._grade=Math.round(this._dataProvider.calculateGrade(this._totalQuestionsAmount,t)),this._lmsTeachMeConfigProvider=n},m.prototype.registerEvent},m.prototype.registerActionButton=function(){var e=wmjQuery.proxy(function(){this._dataProvider.getButtonAction(this._isQuizResults)(this)},this);this._uiCreator.registerEvents("."+this.BUTTON_CLASS,"click",this._consts.MOBILE_COMMANDS.ACTION.libAction,{libAction:e},"Action")},m.prototype.registerActionLink=function(){var e=wmjQuery.proxy(function(){this._dataProvider.getLinkAction()(this)},this);this._uiCreator.registerEvents("."+this.LINK_CLASS,"click",this._consts.MOBILE_COMMANDS.ACTION.libAction,{libAction:e},"Action")},m.prototype.createConfig=function(){var a=e.prototype.createConfig.call(this);return a.TotalQuestionsAmount=this._totalQuestionsAmount,a.Passmark=this._passmark,a.Grade=this._grade,a.Title=this._uiComponent.Title,a.Description=this._uiComponent.Description,a.AnnouncementType=this._lmsConsts.QUIZ_ANNOUNCEMENT_TYPE_NAMES[this._uiComponent.Type],a.isDisabledClass=this._isQuizResults?"":this.DISABLE_CLASS,a.ButtonText=this._dataProvider.getButtonText(this._uiComponent,this._isQuizResults),a.QuestionsText=this._lmsTeachMeConfigProvider.get("QuestionsText"),a.PassmarkText=this._lmsTeachMeConfigProvider.get("PassmarkText"),a.YourGradeText=this._lmsTeachMeConfigProvider.get("YourGradeText"),a.ViewFullQuizResultsButtonText=this._lmsTeachMeConfigProvider.get("ViewFullQuizResultsButtonText"),a},m}(e);return{service:l,serviceName:"QuizAnnouncement",dependencies:"ActionsFactory, CommonUtils, BBCodeParser, Consts, QuizAnnouncementDataProviderFactory, LmsConsts, LmsTeachMeConfigProvider",isProto:!0}}},function(e,a){e.exports={service:m,serviceName:"JScrollPaneUtils",dependencies:"FeaturesManager, HostData, CommonUtils"};function m(e,a,m){var l=this;l.isJspEnabled=t,l.initJSP=n,l.reInitJSP=w;function t(){if(e.isFeatureEnabled("noJSP"))return!1;if("Safari"===a.browser.name)return!1;return e.isFeatureEnabled("noIeJSP")?!a.isIE():!a.isIE(8,"lte")}function n(e){if(!t())return;var a={mouseWheelSpeed:12,alwaysScrollVertical:!1,containerDoc:window.document,verticalDragMinHeight:50,contentWidth:"0px",getBodyFunc:m.getBody};if(!e||!e.length)return;e.jScrollPane(a)}function w(e){if(!t())return;if(!e.length)return;var a=e.data("walkme-jsp");if(!a)return;a.reinitialise()}}},function(e,a){e.exports={service:m,serviceName:"StringTrimmer",dependencies:""};function m(){var e=this;e.getTrimmedString=}}},function(e,a){e.exports={service:m,serviceName:"CourseStatusManager",dependencies:"ClientOrServerStorageManager, LmsConsts"};function m(e,a){var m=this;m.getLatestStatus=l,m.setCourseStatus=t,m.getDictionaryKey=n;function l(a){var m=e.getData(n());if(m)return m[a.id]}function t(m){e.addToDictionary(n(),m.id,m.completionPercentage,a.TWO_YEARS)}function n(){return a.LMS_PREFIX_KEY+"course_status"}}},function(e,a){e.exports={service:m,serviceName:"CourseStartedManager",dependencies:"ClientOrServerStorageManager, LmsConsts"};function m(e,a){var m=this;m.getCourseStarted=l,m.setCourseStarted=t,m.getDictionaryKey=n;function l(a){var m=e.getData(n());if(m)return m[a]}function t(m){e.addToDictionary(n(),m,m,a.TWO_YEARS)}function n(){return a.LMS_PREFIX_KEY+"course_started"}}},function(e,a){e.exports={service:m,serviceName:"CourseStatusUpdateEventsHandler",dependencies:"CourseStatusManager, EventSender, ReportInitiatorMapper, Consts"};function m(e,a,m,l){var t=this;t.postUpdateEvent=n;function n(a,m){for(var l=0;l<a.length;l++){var t=e.getLatestStatus(a[l]);void 0!=t&&t==a[l].completionPercentage||(w(a[l],m),e.setCourseStatus(a[l]))}}function w(e,t){var n=m.map({type:l.STEP_PLAY_INITIATOR_ENUM.COURSE,appType:a.EVENT_APPS.Course,objectId:e.id}),w={type:a.EVENT_APPS.TeachMe,oId:e.id,oName:e.name,globalRatio:t,ratio:e.completionPercentage,pInit:n};a.postEvent(a.EVENT_TYPES.TeachMeCompletionUpdate,w),100===e.completionPercentage&&a.postEvent(a.EVENT_TYPES.TeachMeCourseCompletion,w)}}},function(e,a){e.exports={service:m,serviceName:"TeachMeEventsLogger",dependencies:"LmsConsts, EventCollectorLogger"};function m(e,a){var m=this;m.log=l;function l(m,l){var t=wmjQuery.extend({plugin:e.TeachMeLogzIoType},l||{});a.log.info(m,t)}}},function(e,a){e.exports={service:m,serviceName:"ItemActivationEventsHandler",dependencies:"Consts, LmsConsts, EventSender, LmsEventsManager, LmsProgressProvider, LmsStepsProvider, ReportInitiatorMapper"};function m(e,a,m,l,t,n,w){var o=this;o.startListen=k;function k(){l.subscribe({type:a.EVENTS.ItemActivatedFromTeachMe,notify:r})}function r(e){for(var a=n.getStepInfo(e.currentChild.typeId(),e.id),m=t.getProgressPercentage(),l=0;l<a.coursesInfos.length;l++)i(e,m,a.coursesInfos[l])}function i(a,l,t){var n=w.map({type:e.STEP_PLAY_INITIATOR_ENUM.COURSE,appType:e.EVENT_SENDER_EVENT_APPS.Course,objectId:t.id});m.postEvent(m.EVENT_TYPES.TeachMeStepStarted,{type:m.EVENT_APPS.TeachMe,oId:a.id,oName:a.currentChild.name(),ratio:t.completionPercentage,globalRatio:l,pInit:n})}}},function(e,a){e.exports={service:m,serviceName:"CourseStartedEventsHandler",dependencies:"Consts, LmsConsts, EventSender, LmsEventsManager, LmsStepsProvider, ReportInitiatorMapper, CourseStartedManager,LmsDeployablesEventsFilter, LmsContentsEventsFilter, DeployablesManagerFactory, ArrayUtils"};function m(e,a,m,l,t,n,w,o,k,r,i){var c=this;c.startListen=p;function p(){l.subscribe({type:"QuizPlay",notify:d}),l.subscribe({type:"LoadingContent",filter:k.filter,params:["Id"],notify:s}),l.subscribe({type:e.EVENTS.Flows.FlowStarted,filter:o.filter,filtersParams:{DeployableType:e.DEPLOYABLE_TYPE.BusinessSolution},notify:h,params:["businessSolutionId"]}),l.subscribe({type:"LoadWt",filter:o.filter,filtersParams:{DeployableType:e.DEPLOYABLE_TYPE.Tutorial},notify:u,params:["TutorialId"]})}function s(a){var m=t.getStepInfo(e.DEPLOYABLE_TYPE.Content,a);m&&b(m.coursesInfos)}function h(a){var m=t.getStepInfo(e.DEPLOYABLE_TYPE.BusinessSolution,a);m&&b(m.coursesInfos)}function u(a){var m=t.getStepInfo(e.DEPLOYABLE_TYPE.Tutorial,a);m&&b(m.coursesInfos)}function d(a){var m=r.get(e.DEPLOYABLE_TYPE.Course).getAll(),l=i.find(});b([{id:l.Id,name:l.Name}])}function b(e){for(var a=0;a<e.length;a++)g(e[a])||(y(e[a]),w.setCourseStarted(e[a].id))}function g(e){return void 0!==w.getCourseStarted(e.id)}function y(a){var l=n.map({type:e.STEP_PLAY_INITIATOR_ENUM.COURSE,appType:e.EVENT_SENDER_EVENT_APPS.Course,objectId:a.id});m.postEvent(m.EVENT_TYPES.TeachMeCourseStarted,{type:m.EVENT_APPS.Course,oId:a.id,oName:a.name,pInit:l})}}}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-user-behavior@5.0.61@prelib",{name:"wm-plugin-user-behavior",version:"5.0.61",toolbelt:"1.2.9",packageDate:"2021-08-17T13:23:50.263Z",entry:"prelib"},function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){var n=r(2).createPluginEntry;e.exports=n(function(e){var t=r(3).WmPluginAbra;e(new t)})},function(e,t){var r,n={createPluginEntry:i,getCtx:a};function i(e){return function(t){r=t(),e(o)}}function a(){return r.ctx}function o(e){r.plugin(e)}t.__esModule=!0,t["default"]=n,t.createPluginEntry=n.createPluginEntry,t.getCtx=n.getCtx},function(e,t,r){var n=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},}(),a=function(}return e.prototype.getLocatio},e.prototype.getElementAttributes=function(e){var t=this.privacyUtils.shouldCensorText(null,e);return this.xPathGenerator.getAttributes(this.jQuery(e),V.createKeyValuePair,t)},e.prototype.getElementId=function(e){return this.xPathGenerator.getId(this.jQuery(e))},e.prototype.getElementClasse},e.prototype.getElementTex},e.prototype.loa},e}();i.registerClass("Abra:CaptureElementApiLoader",a,"wmjQuery, Abra:XPathGenerator, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, CommonEventAttributesProvider, Abra:PrivacyUtils");var }();i.registerClass("Abra:CollectionIndicator",o,"Abra:Logger, EventsTrigger, Abra:TimingUtils, Abra:DataCollectionSettingsWrapper");var s;!function(e){e.App={name:"abra",version:"5.0.61",rev:"88db872"},e.WalkmeInternals=window._walkmeInternals,e.AbraObject={version:e.App.version,rev:e.App.rev}e.setState=}e.setErrorInfo=r;function n(e){try{var t=e.get("EventsListener"),n=function(){!e.has("Abra:InsightsConfigurationGetter")&&e.has("wmjQuery")&&e.has("SettingsFile")&&e.has("PromiseManager")&&e.has("TimerManager")&&(e.register("Abra:InsightsConfigurationGetter").asCtor(u).dependencies("wmjQuery, SettingsFile, PromiseManager, TimerManager"),e.get("Abra:InsightsConfigurationGetter").get())};t.once("DICreated",n);var i=R.allowOnc});t.once("wm.pagescript.envIdInjected",i),t.once("BeforeWalkmeReady",i),T.enable(e),a(e)}catch(s){r({error:s})}return null}e.start=}(s||(s={})),e.exports=s;var u=function(}return e.prototype.ge},e.prototype.getSyn},e.prototype.overrideConfiguratio},e.prototype.fetch=function(){var e=this,t=new this.promiseManager.Promise(function(t,r){var n=localStorage["ubt-te-whitelist-url"]||e.settingsFile.getSettingsFile().InsightsConfigurationFile;n?e.ajax(n,t,r,1):t()});return t.the}),t},e.prototype.aja},e}(),}();i.registerClass("Abra:Loader",l,"Abra:Logger, Abra:StorageSynchronizer, Abra:EventsSenderWrapper, EventsTrigger, wmjQuery, Abra:UserEventCreator, Abra:IdleEventCreator, Abra:WindowIdGetter, Abra:ErrorUtils, Abra:FrameBinder, Abra:PageInfoCreator, Abra:TimingUtils, EventsListener, Abra:UserEventListener, Abra:KeypressEventCreator, Abra:CaptureElementApiLoader, Abra:InsightsConfigurationGetter, FeaturesManager");var }(),}(),}();i.registerClass("Abra:ElementParentsGetter",p,"Abra:Logger, wmjQuery, Abra:ErrorUtils, FeaturesManager");var }(),}();i.registerClass("Abra:LabelGetter",d,"HostData, wmjQuery");var }();i.registerClass("Abra:ElementDescriptionGenerator",f,"wmjQuery, Abra:PrivacyUtils, Abra:TextUtils, Abra:Logger, Abra:XPathGenerator, Abra:QueryGenerator, Abra:LabelGetter, FeaturesManager, Abra:OverlappedText");var }();i.registerClass("Abra:OverlappedText",v);var }();i.registerClass("Abra:MeaningfulElementGetter",m,"wmjQuery");var b=function(){function e(e,t,r,n,i){this.jQuery=e,this.dataCollectionSettings=t,this.xpathEscaper=r,this.urlCensorshipController=n,this.xpathReducer=i,this.textProperties=V.convertArrayToObject(["name","title"]),this.attributesToCollect=this.getAttributesToCollect(t.get()),this.settings=t.get().element.xpath,this.attributeFormatter=this.attributeFormatter.bind(this)}return e.prototype.getAttributesToCollec},e.prototype.filterAttributesByCensorshi},e.prototype.generat},e.prototype.generateXpathParts=function(e,t){var r=this;return this.jQuery(e).map(function(e,n){var i=r.jQuery(n);return{tagName:g.getLowerCaseTagName(n),tagIndex:r.getTagIndex(n),classes:r.getClasses(i),id:r.getId(i),attributes:r.getAttributes(i,r.attributeFormatter,t)}}).toArray()},e.prototype.getAttributes=function(t,r,n){var i=this,a=[];return this.attributesToCollect&&this.xpathReducer.shouldCollectAttributesOrClasses(t)&&this.jQuery.each(this.attributesToCollect,function(o,s){if(n&&i.textProperties[s])return;var u=t.attr(s);if(void 0!==u){var l=i.attributesToCollect[o];u.length<=i.settings.attributeMaxLength&&e.shouldCollectAttribute(u)?a.push(r(l,u)):a.push(r(l))}}),a},e.prototype.getClasse},e.prototype.getI},e.prototype.convertXpathToStringArray=function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];if(r.push(i.tagName),r.push("["),r.push((i.tagIndex+1).toString()),r.push("]"),i.id&&(r.push("#"),r.push(i.id)),i.classes){var a=this.jQuery.map(i.classe});r.push.apply(r,a)}i.attributes&&r.push.apply(r,i.attributes),r.push(e.delimiter)}return r.pop(),r},e.prototype.attributeFormatter=function(e,t){return t?"&"+e+"="+this.xpathEscaper.escape(t):"&"+e},e.prototype.applyXpathLengthLimitatio},e.prototype.getTagInde},e.shouldCollectClassOrI},e.shouldCollectAttribut},e.forbiddenCharsRegex=/[&=\.\]\[\/\#]/,e.classDelimiter=/[\s\uFEFF\xA0]+/,e.delimiter="/",e}();i.registerClass("Abra:XPathGenerator",b,"wmjQuery, Abra:DataCollectionSettingsWrapper, Abra:XpathEscaper, Abra:UrlCensorshipController, Abra:XpathReducer");var }();i.registerClass("Abra:XpathReducer",y);var }();i.registerClass("Abra:EventHandler",E,"Abra:EventBuilder, Abra:EventsSenderWrapper, EventsTrigger, Abra:Logger, Abra:WindowIdGetter, CommonEventAttributesProvider, wmjQuery, Abra:EventObfuscator, Abra:TextValueCensorship, Abra:CollectionIndicator, WebhooksIdsAdder, FeaturesManager");var C={active:"active",idle:"idle",pageChange:"pageChange"},}();i.registerClass("Abra:IdleEventCreator",x,"Abra:EventHandler, Abra:UserEventListener, Abra:ReusableTimerFactory, Abra:ErrorUtils, Throttle");var }();i.registerClass("Abra:KeypressEventCreator",A,"Abra:UserEventListener, Abra:ErrorUtils, Abra:EventHandler, Abra:ReusableTimerFactory, Abra:ElementDescriptionGenerator, Abra:TextValueCensorship, Abra:CollectionIndicator");var }();i.registerClass("Abra:PageInfoCreator",w,"Abra:Logger, PageVisitIdProvider, Abra:EventHandler, Abra:PageLoadSync, EventsListener");var }(),}();i.registerClass("Abra:UserEventBinder",I,"wmjQuery, Abra:CompatibilityUtils");var S=function(}return e.prototype.createEvent=function(e){if(!this.collectionIndicator.shouldCollect())return;var t=e.getElement(),r=e.getEventType();if(!t||!this.shouldCreateEvent(t,r))return;var n,i=this.meaningfulElementGetter(r,t);i&&(n={type:i.type,climb:i.climb});var a=i?i.element:t,o=this.generateElementDescription(e,a),s=o.desc,u=o.misc,l=o.xpathParts;u&&(n=this.jQuery.extend(u,n));var c=this.trackedElementsFilter.shouldSend(e,s,l);if(!c.result)return;if(this.eventThrottle.shouldThrottle(s,r))return;this.eventHandler.initiate({event:{type:r,element:s,misc:n,reason:c.reason},data:{event:e,censorshipData:this.textValueCensorship.createCensorshipData(e)}})},e.prototype.shouldCreateEven},e.prototype.loa},e.prototype.unload=function(){this.userEventListener.unregister(this.registerId)},e.BlockedTags=["html","body"],e.MaxTextContent=250,e}();i.registerClass("Abra:UserEventCreator",S,"Abra:UserEventListener, Abra:EventHandler, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, wmjQuery, Abra:ErrorUtils, Abra:TextValueCensorship, Abra:CollectionIndicator, Abra:EventThrottle, Abra:TrackedElementsFilter");var }();i.registerClass("Abra:UserEventListener",L,"Abra:UserEventBinder, Abra:FrameBinder, Abra:ErrorUtils, Abra:UserEventWrapper");var }(),}();i.registerClass("Abra:UserEventWrapper",P,"Abra:ElementParentsGetter");var M=function(){function e(e){this.jQuery=e}return e.prototype.ge},e.prototype.classInElementTree=function(e,t){e.compiled||(e.compiled=this.convertClassArrayToRegex(e.values));for(var r=t.length-1;r>=0;r--){var n=this.jQuery(t[r]).attr("class");if(n&&e.compiled.test(n))return!0}return!1},e.prototype.convertClassArrayToRege},e.prototype.idInElementTree=function(e,t){if(this.isIdsExistInElementArray(t,e.values))return!0;return!1},e.prototype.isIdsExistInElementArra},e}();i.registerClass("Abra:CensorshipConditionsGetter",M,"wmjQuery");var F=function(}return e.prototype.getCensorshipRule},e.prototype.provid},e}();i.registerClass("Abra:CensorshipMethodsProvider",F,"wmjQuery, Abra:Logger, Abra:CensorshipConditionsGetter, Abra:DataCollectionSettingsWrapper");var }();i.registerClass("Abra:TextValueCensorship",j,"Abra:PrivacyUtils");var k;!function(e){e[e.Creating=0]="Creating",e[e.Altering=1]="Altering",e[e.Finalizing=1e3]="Finalizing"}(k||(k={}));var }();i.registerClass("Abra:EventBuilder",U,"PromiseManager, wmjQuery, Abra:Logger");var }();i.registerClass("Abra:EventThrottle",Q);var }();i.registerClass("Abra:CompatibilityUtils",O,"Abra:Walkme");var }();i.registerClass("Abra:ErrorUtils",N,"PromiseManager, wmjQuery, Abra:Logger");var }();i.registerClass("Abra:EventsSenderWrapper",G,"EventsSenderFactory");var }();i.registerClass("Abra:FrameBinder",W,"IFramesManager, UIChangeTracker, FeaturesManager, Abra:Logger");var R,}()}(R||(R={}));var V,}();!function(e}e.createKeyValuePair=}e.convertArrayToObject=r}(V||(V={}));var X=function(}return e.prototype.isPrivacyUnsafeElementTyp},e.prototype.filterCreditCar},e.isCreditCar},e.prototype.shouldCensorText=function(e,t){if(this.censorAllText)return!0;return e=e||this.elementParentsGetter.getFromElement(t),this.censorshipMethodsProvider.provide(e).removeTextValues},e.creditCardRegex=/(?:[\s\xA0-]{0,5}\d{4,}){3}/,e}();i.registerClass("Abra:PrivacyUtils",X,"wmjQuery, Abra:CensorshipMethodsProvider, Abra:ElementParentsGetter, FeaturesManager, Abra:DataCollectionSettingsWrapper");var }();i.registerClass("Abra:StatisticsUtils",_);var }();i.registerClass("Abra:JSON",J,"CommonUtils");var }();i.registerClass("Abra:WindowIdGetter",z,"Abra:StorageManager, PromiseManager, GuidGenerator, SessionPersister, wmjQuery");var }(),}(q),}(),}();i.registerClass("Abra:DataCollectionSettingsWrapper",Z,"Abra:Logger, wmjQuery, Abra:StatisticsUtils");var }();i.registerClass("Abra:UrlCensorshipController",Y,"Abra:DataCollectionSettingsWrapper, FeaturesManager");var e}(),t}(),r}();i.registerClass("Abra:StorageManager",re,"Abra:Walkme");var n}();i.registerClass("Abra:StorageSynchronizer",ne,"PromiseManager, Abra:StorageManager");var i}(),a}(),o}(),s}();i.registerClass("Abra:TextUtils",se,"Abra:PrivacyUtils");var u}();i.registerClass("Abra:TimingUtils",ue,"TimerManager, Abra:ErrorUtils");var l}();i.registerClass("Abra:ReusableTimerFactory",le,"Abra:TimingUtils");var ce,h}()}(ce||(ce={}));var pe}(pe||(pe={}));var g}();i.registerClass("Abra:EventSampler",ge,"Abra:StatisticsUtils, Abra:InsightsConfigurationGetter");var de=function(}return e.prototype.shouldSend=function(t,r,n){var i=t.getEventType();if("mousedown"!==i&&"change"!==i)return e.Results.Collect;var a=this.trackedElementsGetter.get(i);if(!a||!n)return e.Results.Collect;var o=this.logger.perf("whitelist filter");o.step("ids and classes");for(var s=n.length-1;s>=0;s--){var u=n[s];if(u.id&&a.ids&&a.ids[u.id])return e.Results.TrackedEvent;for(var l=0;l<u.classes.length;l++)if(a.classes&&a.classes[u.classes[l]])return e.Results.TrackedEvent}if(o.step("text"),r&&r.text&&a.text&&a.text[r.text])return e.Results.TrackedEvent;if(o.step("labels"),r&&r.label&&a.labels&&a.labels[r.label])return e.Results.TrackedEvent;if(o.step("selectors"),a.selectors)for(var c=this.jQuery(this.prepareParents(t.getParents())),s=0;s<a.selectors.length;s++)try{if(a.selectors[s]&&c.is(a.selectors[s]))return e.Results.TrackedEvent}catch(h){a.selectors[s]=null}if(o.stop(),this.eventSampler.shouldSample())return e.Results.Sampling;return e.Results.DoNotCollect},e.prototype.prepareParents=function(t){var r=t.slice(-e.SelectorsMaxParents);return r.reverse(),r},e.SelectorsMaxParents=50,e.Results={DoNotCollect:{result:!1},Collect:{result:!0},TrackedEvent:{result:!0,reason:pe.TrackedEvent},Sampling:{result:!0,reason:pe.Sampling}},e}();i.registerClass("Abra:TrackedElementsFilter",de,"wmjQuery, Abra:TrackedElementsGetter, Abra:EventSampler, Abra:Logger");var f}();i.registerClass("Abra:TrackedElementsGetter",fe,"Abra:InsightsConfigurationGetter")}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-visions-recorder@2.0.17@prelib",{name:"wm-plugin-visions-recorder",version:"2.0.17",toolbelt:"1.2.12",packageDate:"2022-06-07T15:47:29.413Z",entry:"prelib"},function(t){retur}},function(t,e,n){var r=n(2).getCtx,i=n(4).log,o=n(5),a=n(6),s=n(7);n(8);var u=["MOUSE_CLICK","MOUSE_OVER","MOUSE_POSITION","INPUT","SCROLL","SELECTION"];function c(){var t=r();this._jacoInitializedPromise=t.get("PromiseManager").defer(),t.register("Jaco").asInstance(I(this._jacoInitializedPromise))}var d=[],f=!1,h=!1;c.prototype.run=function(){var t=r();if(S())return void i("Visions will be loaded only in publish mode (not in editor and not in preview)");if(window.JacoRecorder.state&&window.JacoRecorder.state.recordingDisabled)return void i("recording is disabled");u=u.ma});var e=b(),n=this._jacoInitializedPromise;e?(_(n),t.get("EventsListener").on("VisionsRecorder:RecordingStarted}),t.get("EventsListener").on("NewSession",function(){JacoRecorder.state.isRecording&&t.get("SessionManager").getCurrentSession()===JacoRecorder.state.config.sessionId||(h=!1)}),t.get("EventsListener").on("CloseSession",function(e,n){var r=t.get("PromiseManager").defer();window.JacoRecorder.__state.client.closeSession(r.resolve),n.beforeNewSessionPromises.push(r.promise())}),t.get("EventsListener").once("StorageLoaded",function(){if(!v(t))return void i("no audit is enabled");l(t,e,n),t.get("EventsListener").once("WalkMeReady",function(){JacoRecorder.state.onEventHandled=function(r){if(!JacoRecorder.state.config)return;if(t.get("SessionManager").getCurrentSession()===JacoRecorder.state.config.sessionId||f||u.indexOf(r.action)===-1)return;JacoRecorder.state.config.sessionId=t.get("SessionManager").getCurrentSession(),d=JacoRecorder.state.eventsQueue.splice(JacoRecorder.state.eventsQueue.length-1,1),JacoRecorder.state.eventsQueue.length=0,JacoRecorder.__state.initCalled=!1,JacoRecorder.state.isInitialized=!1,l(t,e,n,!0)}})})):(n.reject(new Error("Visions API key is not available")),i("Visions API key is not available"))};function l(t,e,n,r){f=!0,h=!1;var i=p(t);g(e,i,function(t,e){window._testhook&&window._testhook("InitDone",t,e),f=!1,e||(t=new Error("Project is throttled")),D(t,e),r&&(d.push.apply(d,JacoRecorder.state.eventsQueue),JacoRecorder.state.eventsQueue.length=0,JacoRecorder.__state.client.newPageEvent(),JacoRecorder.state.eventsQueue.push.apply(JacoRecorder.state.eventsQueue,d),d=[],r=!1),t?n.reject(t):n.resolve(e)})}function p(t){var e=o(t.get("ClientStorageManager")),n=y(),r=m(),i=!a(window)&&s(window),u=t.get("SessionManager").getCurrentSession();return{sessionId:u,identityStorage:e,crossOriginIFrame:i,rapiUrl:n,environmentSettings:r}}function v(t){var e=t.get("AuditingEnabledIndicator");return e.isEnabled()}function _(t){var e=function(e,n){try{i("wm event received",n),n.handled=!0,t.promise().the})}catch(r){}};wmjQuery(window._walkmeInternals).bind("AnalyticsEventSent",e),wmjQuery(window._walkmeInternals).bind("removeWalkMe",function(t,n){i("remove walkMe raised"),wmjQuery(window._walkmeInternals).unbind("AnalyticsEventSent",e)})}function g(t,e,n){i("init:"+t),window.JacoRecorder.init(t,e,n),i("post init")}function b(){var t,e,n;try{return t=E("userGuids")[0],e=w("Environment"),t+"__"+e}catch(r){n=r}if(n||!t||void 0===e)return void window.JacoRecorder.logOurError(new Error("Failed to get guid and env for user"),{session:window.JacoRecorder.state.session,error:n,wmGuid:t,wmEnvId:e})}function y(){var t=w("RapiServer"),e=t.replace("//rapi.","//ec-playback.");return e}function m(){return r().get("DataCollectionSettings").get()}function w(t){var e=wmSnippet.getSettingsFile();if(e)return e[t];return}function E(t){var e=wmSnippet.getServerSettings();if(e)return e[t];return}function O(t){i("sendToJaco: time = "+t.eventData.time),window.JacoRecorder.trackEvent(t.eventName||"walkmeEvent",t.eventData),i("post JacoRecorder.trackEvent")}function I(t){return{get:function(){var t=r();return t.get("PromiseManager").resolve(window.JacoRecorder)},getInitialize},getSessionInf},isRecordin}}}function S(){return void 0!=window.wmPreviewSnippet||void 0==window.wmSnippet}function D(t,e){if(window.onWalkMeInsightsAPIReady&&window.onWalkMeInsightsAPIReady instanceof Function)try{window.onWalkMeInsightsAPIReady(t,e)}catch(n){i("Error from onWalkMeInsightsAPIReady",n)}}e.VisionsPlugin=c},function(t,e,n){var r=n(2).getCtx,i=r().get("PrelibLogger");function o(){var t=Array().slice.call(arguments);t.unshift("[ VisionsRecorder ]"),i.write.apply(i,t)}e.log=o},function(t,e){var n=43200,r="wm-v-uid",i="wm-v-pid";function o(t){return{getUid:function(){return t.getData(r)},getProvidedId:function(){return t.getData(i)},setUid:function(e){return t.saveData(r,e,n),!0},setProvidedI},removeUid:function(){return t.removeData(r)},removeProvidedI}}}t.exports=o},function(t,e}t.exports=n},function(t,e){function n(t){var e=t!==t.parent;if(e){var n=null;try{n=t.parent.document.body.innerHTML}catch(r){}return null===n}return!1}t.exports=n},function(t,e,n){var r,r;(function(t){var e=!1}()({1},{}],2:[function(t,e,n){e.exports={development:"//backoffice.docker.localhost",test:"//backoffice.docker.localhost",staging:"//bo-staging.getjaco.com",production:"//bo.getjaco.com"}},{}],3:[function(t,e,n){e.exports={development:"http://recorder-api.docker.localhost",test:"http://localhost:3011",staging:"https://rapi-staging.getjaco.com",production:"https://rapi.getjaco.com"}},{}],4},{}],5:[function(t,e,n){var r=r||{};r.DOMNodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,STYLE_NODE:1e3,SVG_NODE:1001,IMG_NODE:1003,LINK_NODE:1004,VIDEO_NODE:1005,SOURCE_NODE:1006,IFRAME_NODE:1007,INPUT_NODE:1008,FORM_NODE:1009},r.KeyValue=function(){this.bb=null,this.bb_pos=0},r.KeyValue.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.KeyValue.getRootAsKeyValue=function(t,e){return(e||new r.KeyValue).__init(t.readInt32(t.position())+t.position(),t)},r.KeyValue.prototype.key=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},r.KeyValue.prototype.value=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},r.KeyValue.startKeyValue=function(t){t.startObject(2)},r.KeyValue.addKey=function(t,e){t.addFieldOffset(0,e,0)},r.KeyValue.addValue=function(t,e){t.addFieldOffset(1,e,0)},r.KeyValue.endKeyValue=function(t){var e=t.endObject();return t.requiredField(e,4),t.requiredField(e,6),e},r.Vec3=function(){this.bb=null,this.bb_pos=0},r.Vec3.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.Vec3.prototype.},r.Vec3.prototype.y=function(){return this.bb.readFloat32(this.bb_pos+4)},r.Vec3.prototype.},r.Vec3.createVec3=function(t,e,n,r){return t.prep(4,12),t.writeFloat32(r),t.writeFloat32(n),t.writeFloat32(e),t.offset()},r.DOMNode=function(){this.bb=null,this.bb_pos=0},r.DOMNode.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.DOMNode.getRootAsDOMNode=function(t,e){return(e||new r.DOMNode).__init(t.readInt32(t.position())+t.position(),t)},r.DOMNode.prototype.data=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?(t||new r.DOMNodeData).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null},r.DOMNode.prototype.children=function(t,e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new r.DOMNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.DOMNode.prototype.childrenLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},r.DOMNode.startDOMNode=function(t){t.startObject(2)},r.DOMNode.addData=function(t,e){t.addFieldOffset(0,e,0)},r.DOMNode.addChildren=function(t,e){t.addFieldOffset(1,e,0)},r.DOMNode.createChildrenVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.DOMNode.startChildrenVector=function(t,e){t.startVector(4,e,4)},r.DOMNode.endDOMNode=function(t){var e=t.endObject();return e},r.DOMNode.finishDOMNodeBuffer=function(t,e){t.finish(e)},r.DOMNodeData=function(){this.bb=null,this.bb_pos=0},r.DOMNodeData.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.DOMNodeData.getRootAsDOMNodeData=function(t,e){return(e||new r.DOMNodeData).__init(t.readInt32(t.position())+t.position(),t)},r.DOMNodeData.prototype.nodeId=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0},r.DOMNodeData.prototype.attributes=function(t,e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.DOMNodeData.prototype.attributesLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},r.DOMNodeData.prototype.style=function(t,e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.DOMNodeData.prototype.styleLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},r.DOMNodeData.prototype.tagName=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null},r.DOMNodeData.prototype.isCensored=function(){var t=this.bb.__offset(this.bb_pos,12);return!!t&&!!this.bb.readInt8(this.bb_pos+t)},r.DOMNodeData.prototype.ns=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null},r.DOMNodeData.prototype.extraData=function(t,e){var n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},r.DOMNodeData.prototype.extraDataLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0},r.DOMNodeData.prototype.scrollPosition=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?(t||new r.Vec3).__init(this.bb_pos+e,this.bb):null},r.DOMNodeData.prototype.nodeType=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):r.DOMNodeType.ELEMENT_NODE},r.DOMNodeData.prototype.parentNodeId=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt32(this.bb_pos+t):0},r.DOMNodeData.prototype.previousSiblingId=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt32(this.bb_pos+t):0},r.DOMNodeData.prototype.shadowRoot=function(t){var e=this.bb.__offset(this.bb_pos,26);return e?(t||new r.DOMNode).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null},r.DOMNodeData.startDOMNodeData=function(t){t.startObject(12)},r.DOMNodeData.addNodeId=function(t,e){t.addFieldInt32(0,e,0)},r.DOMNodeData.addAttributes=function(t,e){t.addFieldOffset(1,e,0)},r.DOMNodeData.createAttributesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.DOMNodeData.startAttributesVector=function(t,e){t.startVector(4,e,4)},r.DOMNodeData.addStyle=function(t,e){t.addFieldOffset(2,e,0)},r.DOMNodeData.createStyleVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.DOMNodeData.startStyleVector=function(t,e){t.startVector(4,e,4)},r.DOMNodeData.addTagName=function(t,e){t.addFieldOffset(3,e,0)},r.DOMNodeData.addIsCensored=function(t,e){t.addFieldInt8(4,+e,0)},r.DOMNodeData.addNs=function(t,e){t.addFieldOffset(5,e,0)},r.DOMNodeData.addExtraData=function(t,e){t.addFieldOffset(6,e,0)},r.DOMNodeData.createExtraDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.DOMNodeData.startExtraDataVector=function(t,e){t.startVector(4,e,4)},r.DOMNodeData.addScrollPosition=function(t,e){t.addFieldStruct(7,e,0)},r.DOMNodeData.addNodeType=function(t,e){t.addFieldInt16(8,e,r.DOMNodeType.ELEMENT_NODE)},r.DOMNodeData.addParentNodeId=function(t,e){t.addFieldInt32(9,e,0)},r.DOMNodeData.addPreviousSiblingId=function(t,e){t.addFieldInt32(10,e,0)},r.DOMNodeData.addShadowRoot=function(t,e){t.addFieldOffset(11,e,0)},r.DOMNodeData.endDOMNodeData=function(t){var e=t.endObject();return e},n.Serializer=r},{}],6:[function(t,e,n){var r=r||{};r.Action={CSS_RULE_SNAPSHOT:0,FOCUS:1,FOCUS_IN:2,FOCUS_OUT:3,MOUSE_CLICK:4,MOUSE_OVER:5,MOUSE_POSITION:6,MUTATION_EVENT:7,VIDEO_PAUSE:8,VIDEO_PLAY:9,VIDEO_TIME_UPDATE:10,VIDEO_VOLUME_CHANGE:11,INPUT:12,INPUT_PROGRAMMATIC_CHANGE:13,SCROLL:14,SELECTION:15,URL_CHANGED:16,VISIBILITY:17,WINDOW_CLOSE:18,VIEWPORT_CHANGED:19,FINISHED_SNAPSHOT:20,DOM_SNAPSHOT:21,PAGE_SNAPSHOT_EVENTS:22,CANVAS_UPDATE:23,ERROR:24,ERROR_OUR:25,IDENTIFY:26,SET_USER_INFO:27,TOUCH_CANCEL:28,TOUCH_END:29,TOUCH_MOVE:30,TOUCH_START:31,PRESS:32,DOUBLE_TAP:33,SWIPE_RIGHT:34,SWIPE_LEFT:35,SWIPE_DOWN:36,SWIPE_UP:37,IDLE_TIME:38,CUSTOM_EVENT:39,CLOSE_SESSION:40},r.DataType={NONE:0,StringList:1,Serializer_DOMNode:2,MutationData:3},r.StringList=function(){this.bb=null,this.bb_pos=0},r.StringList.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.StringList.getRootAsStringList=function(t,e){return(e||new r.StringList).__init(t.readInt32(t.position())+t.position(),t)},r.StringList.prototype.values=function(t,e){var n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},r.StringList.prototype.valuesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},r.StringList.startStringList=function(t){t.startObject(1)},r.StringList.addValues=function(t,e){t.addFieldOffset(0,e,0)},r.StringList.createValuesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.StringList.startValuesVector=function(t,e){t.startVector(4,e,4)},r.StringList.endStringList=function(t){var e=t.endObject();return e},r.MutationData=function(){this.bb=null,this.bb_pos=0},r.MutationData.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.MutationData.getRootAsMutationData=function(t,e){return(e||new r.MutationData).__init(t.readInt32(t.position())+t.position(),t)},r.MutationData.prototype.remove},r.MutationData.prototype.removedLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},r.MutationData.prototype.removedArra},r.MutationData.prototype.moved=function(t,e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new r.DOMNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.MutationData.prototype.movedLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},r.MutationData.prototype.attributes=function(t,e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new r.StringList).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.MutationData.prototype.attributesLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},r.MutationData.prototype.text=function(t,e){var n=this.bb.__offset(this.bb_pos,10);return n?(e||new r.StringList).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.MutationData.prototype.textLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0},r.MutationData.startMutationData=function(t){t.startObject(4)},r.MutationData.addRemoved=function(t,e){t.addFieldOffset(0,e,0)},r.MutationData.createRemovedVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()},r.MutationData.startRemovedVector=function(t,e){t.startVector(4,e,4)},r.MutationData.addMoved=function(t,e){t.addFieldOffset(1,e,0)},r.MutationData.createMovedVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.MutationData.startMovedVector=function(t,e){t.startVector(4,e,4)},r.MutationData.addAttributes=function(t,e){t.addFieldOffset(2,e,0)},r.MutationData.createAttributesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.MutationData.startAttributesVector=function(t,e){t.startVector(4,e,4)},r.MutationData.addText=function(t,e){t.addFieldOffset(3,e,0)},r.MutationData.createTextVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.MutationData.startTextVector=function(t,e){t.startVector(4,e,4)},r.MutationData.endMutationData=function(t){var e=t.endObject();return e},r.Even},r.Event.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.Event.getRootAsEvent=function(t,e){return(e||new r.Event).__init(t.readInt32(t.position())+t.position(),t)},r.Event.prototype.action=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):r.Action.CSS_RULE_SNAPSHOT},r.Event.prototype.dataType=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):r.DataType.NONE},r.Event.prototype.dat},r.Event.prototype.shouldCenso},r.Event.prototype.windowId=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null},r.Event.prototype.sequenc},r.Event.prototype.sequenceIndex=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0},r.Event.prototype.parentWindowId=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null},r.Event.startEvent=function(t){t.startObject(8)},r.Event.addAction=function(t,e){t.addFieldInt16(0,e,r.Action.CSS_RULE_SNAPSHOT)},r.Event.addDataType=function(t,e){t.addFieldInt8(1,e,r.DataType.NONE)},r.Event.addData=function(t,e){t.addFieldOffset(2,e,0)},r.Event.addShouldCenso},r.Event.addWindowId=function(t,e){t.addFieldOffset(4,e,0)},r.Event.addSequenc},r.Event.addSequenceIndex=function(t,e){t.addFieldInt32(6,e,0)},r.Event.addParentWindowId=function(t,e){t.addFieldOffset(7,e,0)},r.Event.endEvent=function(t){var e=t.endObject();return t.requiredField(e,8),t.requiredField(e,12),e},r.Event.finishEventBuffer=function(t,e){t.finish(e)},n.Serializer=r},{}],7:[function(t,e,n){var r=t(5).Serializer,i=t(20),o={};o.build=function(t,e){var n=c(t,e),i=r.DOMNode.createChildrenVector(t,n),o=u(t,e);return r.DOMNode.startDOMNode(t),r.DOMNode.addData(t,o),r.DOMNode.addChildren(t,i),r.DOMNode.endDOMNode(t)};function a(t,e){return e.reduce(function(e,n){var i=t.createString(n[0]),o=t.createString(n[1]);return r.KeyValue.startKeyValue(t),r.KeyValue.addKey(t,i),r.KeyValue.addValue(t,o),e.push(r.KeyValue.endKeyValue(t)),e},[])}function s(t,e){return e.reduce(function(e,n){var r;return r=n&&n.constructor===Array||null===n?JSON.stringify(n):n.toString(),e.push(t.createString(r)),e},[])}function u(t,e){var n,u,c=e[2],d=t.createString(c[2]||""),f=t.createString(c[3]||"");c[6]?(n=parseInt(c[6][0],10),u=parseInt(c[6][1],10)):(n=0,u=0);var h,l=c[0],p=l.filte}),v=a(t,p),_=r.DOMNodeData.createAttributesVector(t,v),g=a(t,c[1]),b=r.DOMNodeData.createStyleVector(t,g),y=s(t,c[5]),m=r.DOMNodeData.createExtraDataVector(t,y);return e[8]&&(h=o.build(t,e[8])),r.DOMNodeData.startDOMNodeData(t),r.DOMNodeData.addNodeId(t,e[0]),r.DOMNodeData.addNodeType(t,e[1]),r.DOMNodeData.addAttributes(t,_),r.DOMNodeData.addIsCensored(t,e[3]),r.DOMNodeData.addStyle(t,b),r.DOMNodeData.addTagName(t,d),r.DOMNodeData.addNs(t,f),r.DOMNodeData.addExtraData(t,m),r.DOMNodeData.addScrollPosition(t,r.Vec3.createVec3(t,n||0,u||0,0)),r.DOMNodeData.addPreviousSiblingId(t,e[6]),r.DOMNodeData.addParentNodeId(t,e[7]),h&&r.DOMNodeData.addShadowRoot(t,h),r.DOMNodeData.endDOMNodeData(t)}function c(t,e){var n=e[5];return n.reduce(function(e,n){return e.push(o.build(t,n)),e},[])}e.exports=o},{20:20,5:5}],8:[function(t,e,n){var r=t(19).flatbuffers,i=t(6).Serializer,o=t(14),a=t(15),s={};s.getBuilde},s.buil},s.buildFromEventAttributes=function(t){var e={windowId:t.window_id,parentWindowId:t.parent_window_id,sequence:t.sequence,sequenceIndex:t.sequence_index,action:t.action,data:t.data,dataType:a(t.action)};return s.build(e)},s.fromBuffer=function(t){var e=new r.ByteBuffer(t);return i.Event.getRootAsEvent(e)};function u(t){if(t.data.builder)return t.data.builder;return new r.Builder(0)}e.exports=s},{14:14,15:15,19:19,6:6}],9:[function(t,e,n){var r=t(6).Serializer,i=t(7),o=t(13),a={};a.build=function(t,e,n,i,o){var a=r.MutationData,u=a.createRemovedVector(t,e),c=i.map(function(e){var n=t.createString(e[0].toString()),i=t.createString(""+e[1]),o=t.createString(""+e[2]),a=r.StringList.createValuesVector(t,[n,i,o]);return s(t,a)}),d=o.map(function(e){var n=t.createString(e[0].toString()),i=t.createString(e[1]||""),o=r.StringList.createValuesVector(t,[n,i]);return s(t,o)}),f=a.createTextVector(t,d),h=a.createAttributesVector(t,c),l=a.createMovedVector(t,n);a.startMutationData(t),a.addRemoved(t,u),a.addAttributes(t,h),a.addText(t,f),a.addMoved(t,l);var p=a.endMutationData(t);return{builder:t,offset:p}};function s(t,e){return r.StringList.startStringList(t),r.StringList.addValues(t,e),r.StringList.endStringList(t)}a.buildFromDataArray=function(t,e){var n=e[1].reduc},[]),a=r.MutationData.createRemovedVector(t,e[0]),s=r.MutationData.createMovedVector(t,n),u=r.MutationData.createAttributesVector(t,e[2].map(function(e){return o(t,e)})),c=r.MutationData.createTextVector(t,e[3].map(function(e){return o(t,e)}));return r.MutationData.startMutationData(t),r.MutationData.addRemoved(t,a),r.MutationData.addMoved(t,s),r.MutationData.addAttributes(t,u),r.MutationData.addText(t,c),r.MutationData.endMutationData(t)},e.exports=a},{13:13,6:6,7:7}],10:[function(t,e,n){var r=t(19).flatbuffers,i=t(18).RecordEvent,o=t(17),a=t(26),s={},u=4;s.build=function(t,e){var n=new r.Builder(0),s=t.eventsUint8Array.map(function(t){var r=e?a.gzip(t,{level:u,to:"string"}):JSON.stringify(o(t));return n.createString(r)}),c=i.createMessagesVector(n,s),d=n.createString(t.uid),f=n.createString(t.sessionId),h=n.createString(t.apiToken),l=n.createString(t.sessionStartTime),p=n.createString(t.batchDelta);return i.startRecordEvent(n),i.addUid(n,d),i.addSessionId(n,f),i.addApiToken(n,h),i.addSessionStartTime(n,l),i.addBatchDelta(n,p),i.addMessages(n,c),i.finishRecordEventBuffer(n,i.endRecordEvent(n)),n},s.fromBuffe},e.exports=s},{17:17,18:18,19:19,26:26}],11:[function(t,e,n){var r=t(6).Serializer.Action,i={};i[i.CSS_RULE_SNAPSHOT=r.CSS_RULE_SNAPSHOT]="CSS_RULE_SNAPSHOT",i[i.focus=r.FOCUS]="focus",i[i.focusIn=r.FOCUS_IN]="focusIn",i[i.focusOut=r.FOCUS_OUT]="focusOut",i[i.mouseClick=r.MOUSE_CLICK]="mouseClick",i[i.mouseOver=r.MOUSE_OVER]="mouseOver",i[i.mousePosition=r.MOUSE_POSITION]="mousePosition",i[i.mutationEvent=r.MUTATION_EVENT]="mutationEvent",i[i.videoPause=r.VIDEO_PAUSE]="videoPause",i[i.videoPlay=r.VIDEO_PLAY]="videoPlay",i[i.videoTimeUpdate=r.VIDEO_TIME_UPDATE]="videoTimeUpdate",i[i.videoVolumeChange=r.VIDEO_VOLUME_CHANGE]="videoVolumeChange",i[i.input=r.INPUT]="input",i[i.inputProgrammaticChange=r.INPUT_PROGRAMMATIC_CHANGE]="inputProgrammaticChange",i[i.scroll=r.SCROLL]="scroll",i[i.selection=r.SELECTION]="selection",i[i.url=r.URL_CHANGED]="url",i[i.visibility=r.VISIBILITY]="visibility",i[i.windowClose=r.WINDOW_CLOSE]="windowClose",i[i.viewport=r.VIEWPORT_CHANGED]="viewport",i[i.finishSnapshot=r.FINISHED_SNAPSHOT]="finishSnapshot",i[i.domSnapshot=r.DOM_SNAPSHOT]="domSnapshot",i[i.pageSnapshotEvents=r.PAGE_SNAPSHOT_EVENTS]="pageSnapshotEvents",i[i.canvasUpdate=r.CANVAS_UPDATE]="canvasUpdate",i[i.error=r.ERROR]="error",i[i.our_error=r.ERROR_OUR]="our_error",i[i.identify=r.IDENTIFY]="identify",i[i.setUserInfo=r.SET_USER_INFO]="setUserInfo",i[i.touchcancel=r.TOUCH_CANCEL]="touchcancel",i[i.touchend=r.TOUCH_END]="touchend",i[i.touchmove=r.TOUCH_MOVE]="touchmove",i[i.touchstart=r.TOUCH_START]="touchstart",i[i.press=r.PRESS]="press",i[i.doubleTap=r.DOUBLE_TAP]="doubleTap",i[i.swipeRight=r.SWIPE_RIGHT]="swipeRight",i[i.swipeLeft=r.SWIPE_LEFT]="swipeLeft",i[i.swipeDown=r.SWIPE_DOWN]="swipeDown",i[i.swipeUp=r.SWIPE_UP]="swipeUp",i[i.idleTime=r.IDLE_TIME]="idleTime",i[i.customEvent=r.CUSTOM_EVENT]="customEvent",e.export}},{6:6}],12:[function(t,e,n){var r=t(22),i=t(21);e.exports=function(t,e){for(var n=[],o=0,a=e.length;o<a;o++){var s,u=e[o];s=i(u)?"null":r(u)?u:JSON.stringify(u),s||("symbol"==typeof u?s=Symbol.keyFor(u):"function"==typeof u&&(s="")),n.push(t.createString(s))}return n}},{21:21,22:22}],13:[function(t,e,n){var r=t(6).Serializer,i=t(12);function o(t,e){var n=i(t,e),o=r.StringList.createValuesVector(t,n);return r.StringList.startStringList(t),r.StringList.addValues(t,o),r.StringList.endStringList(t)}e.exports=o},{12:12,6:6}],14:[function(t,e,n){var r=t(6).Serializer,i=t(7),o=t(9),a=t(15),s=t(16),u=t(11),c=t(22),d=t(13);function f(t,e,n){if(e.offset)return e.offset;var a;switch(n){case r.DataType.StringList:a=d(t,e);break;case r.DataType.Serializer_DOMNode:a=i.build(t,e);break;case r.DataType.MutationData:a=o.buildFromDataArray(t,e);break;default:a=null}return a}function h(t,e,n,i){var o=r.Event;n=e.windowId?e.windowId:n,i=e.parentWindowId?e.parentWindowId:i;var d,h=e.dataType?e.dataType:a(e.action),l=f(t,e.data,h),p=e.sequenceIndex;e.sequence?d=e.sequence:e.timestamp&&(d=e.timestamp);var v,_=t.createString(n);return i&&(v=t.createString(i)),o.startEvent(t),o.addAction(t,c(e.action)?u(e.action):e.action),o.addDataType(t,h),o.addData(t,l),o.addSequence(t,s(d)),o.addWindowId(t,_),i&&o.addParentWindowId(t,v),o.addSequenceIndex(t,p),o.addShouldCensor(t,e.shouldCensor),o.finishEventBuffer(t,o.endEvent(t)),t}e.exports=h},{11:11,13:13,15:15,16:16,22:22,6:6,7:7,9:9}],15:[function(t,e,n){var r=t(6).Serializer.DataType;e.exports=function(t){var e;switch(t){case"mutationEvent":e=r.MutationData;break;case"domSnapshot":e=r.Serializer_DOMNode;break;default:e=r.StringList}return e}},{6:6}],16:[function(t,e,n){var r=t(19).flatbuffers,i=65536,o=i*i,a=o*o,s=a/2;function u(t){if(t<=-s)return r.Long.create(0,-2147483648,!1);if(t+1>=s)return r.Long.create(-1,2147483647);return r.Long.create(t%o|0,t/o|0,!1)}e.exports=u},{19:19}],17:[function(t,e,n){var r=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable);function i(t){for(var e=Object.keys(t).filte}),n=e.length,i=new Array(n),o=0;o<n;++o)i[o]=t[e[o]];return i}e.exports=i},{}],18:[function(t,e,n}r.prototype.__ini},r.getRootAsRecordEven},r.prototype.message},r.prototype.messagesLengt},r.prototype.uid=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},r.prototype.sessionId=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null},r.prototype.apiToken=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null},r.prototype.sessionStartTime=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null},r.prototype.batchDelt},r.startRecordEven},r.addMessages=function(t,e){t.addFieldOffset(0,e,0)},r.createMessagesVecto},r.startMessagesVector=function(t,e){t.startVector(4,e,4)},r.addUid=function(t,e){t.addFieldOffset(1,e,0)},r.addSessionId=function(t,e){t.addFieldOffset(2,e,0)},r.addApiToken=function(t,e){t.addFieldOffset(3,e,0)},r.addSessionStartTime=function(t,e){t.addFieldOffset(4,e,0)},r.addBatchDelt},r.endRecordEven},r.finishRecordEventBuffe},n.RecordEvent=r},{}],19:[function(t,e,n){var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Lon},r.Long.creat},r.Long.prototype.toFloat6},r.Long.prototype.equal},r.Long.ZERO=new r.Long(0,0),r.Builder=function(t){t||(t=1024),this.bb=r.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,
this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Arra},r.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var n=~(this.bb.capacity()-this.space+e)+1&t-1;this.space<n+t+e;){var i=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},r.Builder.prototype.pa},r.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},r.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},r.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},r.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},r.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},r.Builder.prototype.writeFloat6},r.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},r.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},r.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},r.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},r.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},r.Builder.prototype.addFloat6},r.Builder.prototype.addFieldInt8=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))},r.Builder.prototype.addFieldInt16=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))},r.Builder.prototype.addFieldInt32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))},r.Builder.prototype.addFieldInt6},r.Builder.prototype.addFieldFloat32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))},r.Builder.prototype.addFieldFloat64=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))},r.Builder.prototype.addFieldOffse},r.Builder.prototype.addFieldStruc},r.Builder.prototype.neste},r.Builder.prototype.notNeste},r.Builder.prototype.slo},r.Builder.prototype.offse},r.Builder.growByteBuffe},r.Builder.prototype.addOffse},r.Builder.prototype.startObjec},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);var n=2;this.addInt16(t-this.object_start),this.addInt16((this.vtable_in_use+n)*r.SIZEOF_SHORT);var i=0;t:for(var e=0;e<this.vtables.length;e++){var o=this.bb.capacity()-this.vtables[e],a=this.space,s=this.bb.readInt16(o);if(s==this.bb.readInt16(a)){for(var u=r.SIZEOF_SHORT;u<s;u+=r.SIZEOF_SHORT)if(this.bb.readInt16(o+u)!=this.bb.readInt16(a+u))continue t;i=this.vtables[e];break}}return i?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,i-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},r.Builder.prototype.finish=function(t,e){if(e){if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH),e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var n=r.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(e.charCodeAt(n))}this.prep(this.minalign,r.SIZEOF_INT),this.addOffset(t),this.bb.setPosition(this.space)},r.Builder.prototype.requiredField=function(t,e){var n=this.bb.capacity()-t,r=n-this.bb.readInt32(n),i=0!=this.bb.readInt16(r+e);if(!i)throw new Error("FlatBuffers: field "+e+" must be set")},r.Builder.prototype.startVecto},r.Builder.prototype.endVecto},r.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else for(var e=[],n=0;n<t.length;){var r,i=t.charCodeAt(n++);if(i<55296||i>=56320)r=i;else{var o=t.charCodeAt(n++);r=(i<<10)+o+-56613888}r<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(63&r|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var n=0,a=this.space,s=this.bb.bytes();n<e.length;n++)s[a++]=e[n];return this.endVector()},r.Builder.prototype.createLong=function(t,e){return r.Long.create(t,e)},r.ByteBuffe},r.ByteBuffer.allocat},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.positio},r.ByteBuffer.prototype.setPositio},r.ByteBuffer.prototype.capacit},r.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},r.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},r.ByteBuffer.prototype.readInt1},r.ByteBuffer.prototype.readUint1},r.ByteBuffer.prototype.readInt3},r.ByteBuffer.prototype.readUint3},r.ByteBuffer.prototype.readInt64=function(t){return new r.Long(this.readInt32(t),this.readInt32(t+4))},r.ByteBuffer.prototype.readUint6},r.ByteBuffer.prototype.readFloat3},r.ByteBuffer.prototype.readFloat6},r.ByteBuffer.prototype.writeInt},r.ByteBuffer.prototype.writeInt1},r.ByteBuffer.prototype.writeInt3},r.ByteBuffer.prototype.writeInt6},r.ByteBuffer.prototype.writeFloat3},r.ByteBuffer.prototype.writeFloat6},r.ByteBuffer.prototype.__offse},r.ByteBuffer.prototype.__unio},r.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var n=this.readInt32(t),i="",o=0;if(t+=r.SIZEOF_INT,e===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;o<n;){var a,s=this.readUint8(t+o++);if(s<192)a=s;else{var u=this.readUint8(t+o++);if(s<224)a=(31&s)<<6|63&u;else{var c=this.readUint8(t+o++);if(s<240)a=(15&s)<<12|(63&u)<<6|63&c;else{var d=this.readUint8(t+o++);a=(7&s)<<18|(63&u)<<12|(63&c)<<6|63&d}}}a<65536?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode((a>>10)+55296,(1023&a)+56320))}return i},r.ByteBuffer.prototype.__indirec},r.ByteBuffer.prototype.__vecto},r.ByteBuffer.prototype.__vector_le},r.ByteBuffer.prototype.__has_identifie},r.ByteBuffer.prototype.createLon},n.flatbuffers=r},{}],20:[function(t,e,n){function r(t){var e={"@role":!0,onabort:!0,onautocomplete:!0,onautocompleteerror:!0,onblur:!0,oncanplay:!0,oncanplaythrough:!0,oncancel:!0,onchange:!0,onclick:!0,onclose:!0,oncontextmenu:!0,oncuechange:!0,ondblclick:!0,ondrag:!0,ondragend:!0,ondragenter:!0,ondragexit:!0,ondragleave:!0,ondragover:!0,ondragstart:!0,ondragdrop:!0,ondrop:!0,ondurationchange:!0,onemptied:!0,onerror:!0,onended:!0,onfocus:!0,oninput:!0,oninvalid:!0,onkeydown:!0,onkeypress:!0,onkeyup:!0,onload:!0,onloadeddata:!0,onloadedmetadata:!0,onloadstart:!0,onmousedown:!0,onmousemove:!0,onmouseout:!0,onmouseover:!0,onmouseup:!0,onmouseleave:!0,onmousewheel:!0,onsubmit:!0,onpause:!0,onplay:!0,onplaying:!0,onprogress:!0,onratechange:!0,onreset:!0,onresize:!0,onscroll:!0,onseeked:!0,onseeking:!0,onselect:!0,onshow:!0,onsort:!0,onstalled:!0,onsuspend:!0,ontimeupdate:!0,ontoggle:!0,onvolumechange:!0,onwaiting:!0,onafterprint:!0,onbeforeprint:!0,onbeforeunload:!0,onhashchange:!0,onlanguagechange:!0,onmessage:!0,onoffline:!0,ononline:!0,onpagehide:!0,onpageshow:!0,onpopstate:!0,onrejectionhandled:!0,onstorage:!0,onunhandledrejection:!0,onunload:!0,integrity:!0},n="A-Za-z:_À-ÖØ-öø-ÿʻ-ˁͰ-ͽͿՙۥu06E6",r="\\-.0-9·̀-ͯ·‿-⁀",i=new RegExp("^["+n+"]["+n+r+"]*$");if(0===t.length||e[t.toLowerCase()])return!1;return i.test(t)}e.exports=r},{ null===t||void 0===t}e.exports=r},{urn"string"==typeof t}e.exports=r},{}],23:[function(t,e,n){function r(t){this.sha256=t}r.prototype.isAllowed=function(t,e,n){var r=e.split(","),o=r[0],a=parseInt(r[1]),s=r[2];if(32!==n.length||0!==n.indexOf(o))throw new Error("validation token parse: integrity error");if(32!==s.length)throw new Error("validation token parse: invalid hash length");if(a<1||a>4)throw new Error("validation token parse: segment count is not valid");var u=i(t,a);return 0!==this.s.slice(0,e).join(".")}e.exports=r},{on r(t){this.sha256=t}var i=4,o=32;r.prototype.createFilter=function(t,e){var n=[];n.push(e.slice(0,i));var r=t.split("."),a="*"===r[r.length-1]?r.length-1:r.length;n.push(a);var s=r.slice(0,a).join(".");return n.push(this.sha256(s,e).slice(0,o)),n.join(",")Hasher:r,IpChecker:i}},{23:23,24:24}],26:[function(n,r,i){(fuself:this,o.pako=n;s++(n,o))}=n?e:n+s[t[n]]>e?n:i|o<<16var o=rfrom Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messagncompattally=C,n._tr_align=M},{".s.adler=0}e.exports=r},deflateRaw=o,n.gzip=a},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")})}).call(this)}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,e,n){var r=t(50),i=t(36),o=t(67);if(f()&&navigator&&navigator.userAgent)try{h();var a=t(150),s=t(151),u=window.JacoRecorder?window.JacoRecorder.q||window.JacoRecorder:[];window.JacoRecorder=new a(window,document,s),window.JacoRecorder.runQueuedMethods_(u,window.JacoRecorder)}catch(c){r.info("Error initializing JacoRecorder instance\t",c)}else window.JacoRecorder={init:function(){},startRecording:function(){},stopRecording:function(){},removeUserTracking:function(){},identify:function(){},trackE(){},push:function(){},state:{recordingDisabled:!0}};window.WalkMeInsightsAPI&&window.wmjQuery?window.WalkMeInsightsAPI=window.wmjQuery.extend({},window.WalkMeInsightsAPI,window.JacoRecorder):window.WalkMeInsightsAge}catch(t){return!1}}function f()patch(),t(96).patch()}function l()n window!==window.top}function v(){try{return!!window.parent.JacoRecorder||!!window.parent.parent.JacoRecorder}catch(t){return!1}}},{150:150,151:151,36:36,50:50,67:67,96:96,97:97}],28:[function(t,e,n){var r=["\f","\n","\r","\t","\x0B"," "],i="0";function o(t){for(var e,n,r=t.length;r;e=Math.floor(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);return t}function a(t){var e=s(t).split(""),n=o(e);return u(t,n)}function s(t){var e=r.join(""),n=new RegExp("["+e+"]","g");return t.replace(n,"")}function u(t,e){var n=0;return t.split("").map(function(t){return r.indexOf(t)>-1?t:e[n++]}).join("")}n.censorString=function(t){if(t)return a(t);return""},n.censorInput=function(t,e){t=t||"";var n="";return n="number"==e?new Array(t.length+1).jot.length+1).join("?")}).join(" ")}},{}],29:[function(t,e,n){var r="***";function i(t,e,n){if(!e)return t;var i=new RegExp(e,"g");return t.replace(i,n||r)}e.exports=i},{}],30:[function(t,e,n){var r="_unction i(t,e){t[r]=e}function o(t){return t[r]}n.mark=i,n.isCensored=o},{}],31:[function(t,e,n){function r(t){if("*"===t)return new RegExp(".*");var e=t.replace(/^http(s)?:\/\//,"").replace(/\*\./g,"([^\\w]*\\.)?").replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp(e)}e.exports=r},{}],32:[function(t,e,n){var r=t(45).getWmUid,i=t(25).IpChecker,o=t(31),a=t(41).getHasher;function s(t,e){for(var n=c(t,"byUrlWildcard"),r=0;r<n.length;r++)for(var i=0;i<n[r].values.length;i++){var a=o(n[r].values[i]);if(a.test(e))return!0}return!1}function u(t,e){var n=c(t,"byIpWildcard");if(n.length>0)var o=new i(a());for(var s=r(),u=0;u<n.length;u++)for(var d=0;d<n[u].values.length;d++)if(!o.isAllowed(e,n[u].values[d],s))return!0;return!1}function c(t,e){for(var n=t&&t.trafficBlocker||[],r=[],i=0;i<n.length;i++)n[i]&&n[i].values&&n[i].type===e&&r.push(n[i]);return r}e.exports={isRestrictedHostname:s,isRestrictedIp:u}},{25:25,31:31,41:41,45:45}],33:[function(t,e,n){var r=t(30),i=t(57).includes,o="text",a=["range","color","button","submit","date","time","checkbox","radio","select-one","select-multiple"],s="password",u=["input","textarea"];function c(t,e){if(!y(t))return f(t,e);var n=d(t);if(void 0!==n)return n;return h(t,e)||l(t,e)||p(t,e)||v(t,e)||f(t,e)}function d(t){return r.isCensored(t)}function f(t,e){var n=t.parentNode;if(n){var i=c(n,e);return r.mark(n,i),i}return!1}function h(t,e){return t.tagName&&i(e.tags,t.tagName.toLowerCase())}function l(t,e){if(!t.tagName||!i(u,t.tagName.toLowerCase()))return!1;var n=(_(t,"type")||o).toLowerCase(),r=i(a,n),c=i(s,n),d=e.isCensorInputContents;return!r&&(c||d)}function p(t,e){var n=t.id||"";return ction(t){return n===t})}function v(t,e){var n=e.classNames;return n&&g(t,n)}function _(t,e){return t.getAttribute?t.getAttribute(e):void 0}function g(t,e){retclassList.contains(e)}):b(t).split(" ").some(function(t){return e.indexOf(t)>-1})}function b(t){var e;return e="string"==typeof t.className?t.className:t.getAttribute("class"),e||""}function y(t){return t.getAttribute}e.exports=c},{30:30,57:57}],34:[function(t,e,n){e.exror("NOT A FUNCTION")}},{}],35:[function(t,e,n){var r=t(34).assertIsFunction,i=t(48).isObject;function o(t,e,n){var o,a,s,u,c,d,f,h=0,l=!1,p=!0;if(r(t),e=e<0?0:e,n===!0){var v=!0;p=!1}else i(n)&&(v=n.leading,l="maxWait"in n&&Math.max(+n.maxWait||0,e),p="trailmeout(a),a=d=f=void 0}function g(){var n=e-(Date.now()-u);if(n<=0||n>e){a&&clearTimeout(a);var r=f;a=d=f=void 0,r&&(h=Date.now(),s=t.apply(c,o),d||a||(o=c=null))}else d=setTimeout(g,n)}function b(){d&&clearTimeout(d),a=d=f=void 0,(p||l!==e)&&(h=Date.now(),s=t.apply(c,o),d||a||(o=c=null))}function y(){if(o=arguments,u=Date.now(),c=this,f=p&&(d||!v),l===!1)var n=v&&!d;else{a||v||(h=u);var r=l-(u-h),i=r<=0||r>l;i?(a&&(a=clearTimeout(a)),h=u,s=t.apply(c,o)):a||(a=setTimeout(b,r))}return i&&d?d=clearTimeout(d):d||e===l||(d=setTimeout(g,e)),n&&(i=!0,s=t.apply(c,o)),!i||d||a||(o=c=null),s}return y.cancel=_,y}e.exports.debounce=o},{34:34,48:48}],36:[function(t,e,n){function r(t){return!!t.MutationObserver}e.exports=r},{}],37:[function(t,e,n){var r=t(38).getElementSelector,i=t(29),o=t(115);function a(t){var e=t.className,n=e&&void 0!==e.baseVal;return n?e.baseVal:e}function s(t,e,n,s,u,c){var d,f=t.target,h=a(f),l="";f.childNodes.length>0&&3===f.childNodes[0].nodeType&&(l=f.childNodes[0].textContent),"INPUT"!==f.tagName||"button"!==f.type&&"reset"!==f.type&&"submit"!==f.type||(l=f.value),l=e?"CENSORED":l,l=l||"",o(l)&&(l=l.slice(0,1e4)+"...");var p=r(f,c);return d=[t.which,t.clientX,t.clientY,t.screenX,t.screenY,t.pageX,t.pageY,n,f.id,f.tagName,f.href,l,h,p,e,i(location.href,s.urlRegex,s.urlReplaceText),u]}e.exports.getClickEventData=s},{115:115,29:29,38:38}],38:[function(t,e,n){var r=t(49),i=t(114),o=100;function a(t,e){if(null===s(t))return"";var n="";t.id&&(n="#"+t.id);var r=t.getAttribute("class");r&&(n+="."+r.split(/\s+/).join("."));var i=c(u(t,e));return n+=i,a(s(t),e)+" "+t.tagName.toLowerCase()+n}function s(t){var e=t.parentElement;return!e&&r(t)&&(e=t.parentNode),e}function u(t,e){for(var n=t.attributes,r=[],a=0;a<n.length;a++){var s=n[a];e.indexOf(s.name)>-1&&!i(t,s.name)&&s.value.length<o&&r.push(s)}return r}function c(t){for(var e="",n=0;n<t.length;n++){var r=t[n];e+="["+r.name+'="'+encodeURIComponent(r.value)+'"]'}return e}e.exports.getElementSelector=a},{114:114,49:49}],39:[function(t,e,n){var r;function i(){if(!r)try{r=window._walkmeInternals.ctx.get("WalkMeInfo").getLibVersion()}catch(t){}return r}e.exports=i},{}],40:[function(t,e,n){function r(t){return[t.clientX,t.clientY,t.screenX,t.screenY,t.pageX,t.pageY]}e.exports.getMousePositionData=r},{}],41:[function(t,e,n){var r;e.exports.getHasher=function(){if(!r)try{r=window._walkmeInternals.ctx.get("Hasher").hash}catch(t){}return r}},{}],42:[function(t,e,n){function r(){var t=window.JacoRecorder&&window.JacoRecorder.state&&window.JacoRecorder.state.config&&window.JacoRecorder.state.config.sessionId;if(t)return t;var e=window._walkmeInternals&&window._walkmeInternals.ctx;if(e&&e.has("SessionManager"))return window._walkmeInternals.ctx.get("SessionManager").getCurrentSession()}e.exports=r},{}],43:[function(t,e,n){var r=0;function i(){var t=window.performance,e=Math.round(1e3*(t.timing.navigationStart+t.now()));return e<=r&&(e=r+1),r=e,e}e.exports.getTimestamp=i},{}],44:[function(t,e,n){var r=t(38).getElementSelector,i=t(29);function o(t){var e=t.className,n=e&&void 0!==e.baseVal;return n?e.baseVal:e}function a(t,e){var n=o(t),i=r(t,e),a="";return t.childNodes.length>0&&3===t.childNodes[0].nodeType&&(a=t.childNodes[0].textContent),{targetId:t.id,targetClassName:n,targetTagName:t.tagName,targetText:a,elementSelector:i}}function s(t,e){var n=a(t.target,e);return{clientX:t.clientX,clientY:t.clientY,force:t.force,identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,radiusX:t.radiusX,radiusY:t.radiusY,rotationAngle:t.rotationAngle,screenX:t.screenX,screenY:t.screenY,targetId:n.targetId,targetClassName:n.targetClassName,targetTagName:n.targetTagName,targetText:n.targetText,elementSelector:n.elementSelector}}function u(t,e,n,r,o){var u,c=t.target,d=a(c,o),f=t.touches[0on h(t){return s(t,o)}var l=Array.prototype.slice.call(t.touches).map(h),p=Array.prototype.slice.call(t.changedTouches).map(h),v=e&&d.targetText?"CENSORED":d.targetText;return u=[t.which,l,p,f.clientX,f.clientY,f.screenX,f.screenY,f.pageX,f.pageY,n,d.targetId,d.targetTagName,t.target.href,v,d.targetClassName,d.elementSelector,e,i(location.href,r.urlRegex,r.urlReplaceText)]}e.exports.getTouchEventData=u},{29:29,38:38}],45:[function(t,e,n){var r;e.exports.getWmUid=function(){if(!r)try{r=window._walkmeInternals.ctx.get("WalkMeInfo").getUserGuid()}catch(t){}return r}},{}],46:[function(t,e,n){e.expoturn n.toString(16)})}},{}],47:[function(t,e,n){vsuper__=e.prototype,t}e.exports.extend=i},{e||t&&"object"==e||!1}e.exports.isObject=r},{}],49:[function(t,e,n){function r(t){return null!==t.ownerSVGElement&&void 0!==t.ownerSVGElement||t.nodeName&&"svg"===t.nodeName.toLowerCase()}e.exports=r},{}],50:[function(t,e,n){var r={log:function(){i("log",arguments)},info:function(){i("i{i("error",arguments)}};function i(t,e){var n=Array().slice.call(e),r=Function.prototype.bind.call(console[t],console);r.apply(console,n)}e.exports=r},{}],51:[function(t,e,n){var r=t(58);function i(t,e){return t.length===e.length&&r(t,e).length===t.length}e.exports=i},{58:58}],52:[function(t,e,n){function r(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0===i||null===i)continue;for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var u=o[a],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(n[u]=i[u])}}return return t}}e.exports=r},{}],54:[function(t,e,n){function r(t){return 0===t.length}e.exports=r},{pe.concat.apply([],t)}e.exports=r},{eturn t.indexOf(e)>-l:t(51),assign:t(52)}},{51:51,52:52,53:53,54:54,55:55,56:56,58:58,59:59,60:60,61:61,62:62,63:63,64:64}],58:[functon(t){return r(e,t)})}e.exports=i},{56:56}],59:[function(t,e,n(t)?Object.keys(t):[]}e.exports=i},{48:48ath.random()*(e-t))+t}e.exports=r},{}],61:[function(t,e,n){function r(t,e,n){for(var r=void 0===n?void 0:n,i=0;i<t.length;i++)r=void 0!==r?e(r,t[i],i,t):t[i];return r}e.exports=r},{n]))return!0;return!1}e.exports=r},{rn n.indexOf(t)===e}0].apply(n,arguments)},{17:17}],65:[function(t,e,n){function r(t,e){var n,r="NOT A FUNCTION";if("function"!=typeof e){if("function"!=typeof t)throw new TypeError(r);on i(t){return r(t,2)}e.exports.once=i},{}],66:[function(t,e,n){function r(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat.apply(e,arguments))}}e.exports=r},{}],67:[function(t,e,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:window;e.exports=r},{}],68:[function(t,e,n){var r=t(6).Serializer,n o(){this._counter=0}o.prototype.getAndIncrease=function(t){return i.indexOf(t)>-1?this._counter:(this._counter++,this._countion(){this._counter=0},e.exports=new o},{6:6}],69:[function(t,e,n){var r=t(162),i=t(39),o=t(42);function a(){this._eventSenderErrorLogger,this._logsQueue=[];try{this._setEventSenderErrorLoggerWhenReady()}catch(t){}}a.prototype.sendLog=function(t,e,n){if(e=e||{},e.sId=e.sId||o(),!this._eventSenderErrorLogger)return void this._logsQueue.push({message:t,data:e,level:n});e.app="visions-recorder",e.version=r,e.libVersion=i(),n&&(e.level=n);try{this._eventSenderErrorLogger.logError(t,e)}catch(s.sendLog(t,e,"info")},a.prototype._setEventSenderErrorLoggerWhenReady=function(){var t=this,e=window._walkmeInternals.ctx;if(e.has("EventSenderErrorLogger"))return void(this._eventSenderErrorLogger=e.get("EventSenderErrorLogger"));e.get("EventsListener").onr"),t._releaseQueue()})},a.prototype._releaseQueue=function(){for(;this._logsQueue.length>0;){var t=this._logsQueue.shift();this.sendLog(t.message,t.data,t.level)}},e.exports=new a},{162:162,39:39,42:42}],70:[function(t,e,n){var r=t(2).production;function i(t){var e="https";return e+":"+r+"/backoffice/sessions/"+t}n.get=i},{2:2}],71:[function(t,e,n){var r=t(34).assertIsFunction,i=t(48).isObject,o=t(35).debounce,a={leading:!1,maxWait:0,trailing:!1};function s(t,e,n){var s=!0,u=!0;return r(t),n===!1?s=!1:i(n)&&(s="leading"in n?!!n.leading:s,u="trailing"in n?!!n.trailing:u),a.leading=s,a.maxWait=+e,a.trailing=u,o(t,e,a)}e.exports.throttle=s},{34:34,35:35,48:48}],72:[function(t,e,n){var r=t(3).production,i=t(67),o="";function a(t){return(new Date).getTime()-t}function s(t,e,n){var r=a(e),i=new Error(t);return i.timeElapsed=r,i.requestBody=n,i}function u(t,e,n){var r,i=new XMLHttpRequest,o=(new Date).getTime();return i.open(t,e,!0),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.overrideMimeType("text/plain"),i.onload=function(){f(i,n)},i.onerror=function(t){var i="network error for path: "+e,a=s(i,o,r);h(e,t,a,n)},i.sendRequest=function(t){r=t,this.send(t)},i}function c(t,e,n){var r=new XDomainRequest,i=(new Date).getTime();return e=e.replace("http:","").replace("https:",""),r.open(t,e),r.onprogress){r.status=200,f(r,n)},r.onerror=function(t){var r="network error for path: "+e,o=s(r,i);h(ectest?c(t,e,n):u(t,e,n)}function f(t,e){var n=t.status;return 200===t.status?"Unauthorized request"===t.responseText?e({status:403}):e(null,t.responseText):e(429===n?{status:429}:t)}function h(t,e,n,r){return e.preventDefault(),r(n)}function l(t,e,n,i){i=i||b;var a=o?o:r,s=d(t,a+e,i);re,n){l("POST",t,e,n)}function _(t,e){if(navigator&&navigator.sendBeacon){var n=o?o:r;navigaunction g(t){t&&(o=t)}function b(){}e.exports={getRequest:p,postRequest:v,beaconRequest:_,updateRapiUrl:g}},{3:3,67:67}],73:[function(t,e,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){for(var n,s=Object.keys(o),u=0,c=s.length;u<c;u++){var d=s[u],f=o[d].exports;if(f===t){n=d;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},u=0,c=s.length;u<c;u++){var d=s[u];h[d]=d}i[n]=["function(require,module,exports){"+t+"(self); }",h]}var l=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[n]=n,i[l]=["function(require,module,exports){var f = require("+a(n)+");(f.default ? f.default : f)(sel[t][1][e];v[n]||_(n)}}var g="("+r+")0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(l)+"])",b=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return y;var m=b.createObjectURL(y),w=new Worker(m);return w.objectURL=m,w}},{}],74:[function(t,e,n){var r=t(79),i=t(80),o=t(77),a=t(92),s=t(82),u=t(91),c=t(84),d=t(86),f=t(90),h=t(93),l=t(89),p=t(83),v=t(85),_=t(78),g=t(49),b={};b[t(5).Serializer.DOMNodeType.DOCUMENT_NODE]=r,b[t(5).Serializer.DOMNodeType.DOCUMENT_FRAGMENT_NODE]=_,b[t(5).Serializer.DOMNodeType.DOCUMENT_TYPE_NODE]=i,b[t(5).Serializer.DOMNodeType.COMMENT_NODE]=o,b[t(5).Serializer.DOMNodeType.TEXT_NODE]=a,e.exports=function(t){var e;return e=b[t.nodeType]?b[t.nodeType]:g(t)?u:y("img",t)?c:y("link",t)?d:y("style",t)?f:y("video",t)?h:y("source",t)?l:y("iframe",t)?p:y("input",ame.toLowerCase()===t}},{49:49,5:5,77:77,78:78,79:79,80:80,82:82,83:83,84:84,85:85,86:86,89:89,90:90,91:91,92:92,93:93}],75:[function(t,e,n){var r="__jaco_node_map_id__",i=1;function o(){}o.prototype.getOrSet=function(t){return o.hasId(t)||o.set(t),o.get(t)},o.set=function(t,e){void 0===e?turn nul){returnnction(t){t[r]=void 0},e.exports=o},{}],76:[function(t,e,n){var r=t(75);function i(t){t=t||{},this.nodes={},this.values={},this.nodeId=new r,this.onNodeAdd=t.onNodeAdd?t.onNodeAdd:function(){},this.onNodeRemove=t.onNodeRemove?t.onNodeRemove:function(){}}i.prototype.set=function(t,e,n){var r=this.nodeId.getOrSet(t);return this.nodes[r]=t,this.values[r]=e,n&&o(this.onNodeAddreturn this.values[e]},i.prototype.getById=function(t){return this.values[t]},i.prototype.has=function(t){return this.nodeId.getOrSet(t)in this.nodes},i.prototype.remove=function(t,e){e&&o(this.onNodeRemove,t);var n=this.nodeId.getOrSet(t);this.nodes[n]=void 0,this.values[n]=void 0},i.prototype.keys=function(){for(var t=[],e=this,n=Object.keys(this.nodes),r=0,i=n.length;r<i;r++){var o=n[r],a=e.nodes[o];a&&t.push(a)}return t},i.prototype.restoreNodeId=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e)&&t===this.nodes[e])return r.set(t,parseInt(e)),!0;retur=[],this.nodeId=new r};function o(t){var e=Array.prototype.slice.call(aion(){t.apply(null,e)},0)}e.exports=i},{75:75}],77:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.COMMEunction(t){return[""]},e.exports=o},{47:47,5:5,87:87}],78:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.DOCUMENT_FRAGMENT_NODE,e.exports=o},{47:47,5:5,87:87}],79:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.DOCUMENT_NODE,o._getNodeData=function(t){return[t.URL,t.alinkColor,t.baseURI,t.bgColor,t.characterSet,t.charset,t.compatMode,t.contentType,"",t.dir,t.title,t.readyState]},e.exports=o},{47:47,5:5,87:87}],80:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.DOCUMENT_TYId,t.systemId,t.name]},e.exports=o},{47:47,5:5,87:87}],81:[function(t,e,n){var r,i=t(104),o=t(75),a={},s=[],u=[],c=null;function d(){return null===c&&(c=i.isFeatureEnabled(i.featuresNames.DYNAMIC_CSS)),c}function f(){if(void 0!==r)return;var t=-1;r=setInterval(function(){if(u.length>0){var e=window.performance.now();if(e-t>=1e3){t=e;for(var n=0;n<u.length;n++)try{y(u[n])}catch(r){}u=[]}}},100),b()}function h(t){if(!d())return;s.push(t),f()}function l(t){return"style"===t.localName&&!t.textContent&&t.sheet}function p(t){return"/* CSS-in-JS Polifill */"+[].slice.call(t.sheet.cssRules||[]).map(function(t){return t.cssText}).join(" ")}function v(t){if(!d()||!l(t))return{};var e=_(t);return a[o.get(t)]=o.get(e),{firstChild:e,_forceRecursive:!0}}function _(t,e){var n={nodeType:3,parentNode:t,textContent:p(t),_unlimitedText:!0};return o.set(n,e),n}function g(t){return{added:[],removed:[],reparented:[],reordered:[],attributeChanged:{},characterDataChanged:[t]}}function b(){for(var t=["addRule","deleteRule","insertRule","removeRule","replace","replaceSync"],e=0;e<t.length;e++)m(t[e],w)}function y(t){var e=t.ownerNode&&o.get(t.ownerNode);if(void 0!==e&&void 0!==a[e])for(var n=g(_(t.ownerNode,a[e])),r=0;r<s.length;r++)try{s[r](n)}catch(i){}}function m(t,e){var n=window.CSSStyleSheet&&window.CSSStyleSheet.prototype[t];if(!n)return;window.CSSStyleSheet.prototype[t]=function(){try{e(this)}catch(t){}return n&&n.apply(this,arguments)}}function w(t){t&&u.indexOf(t)===-1&&u.push(t)}n.createOverride=v,n.onChange=h},{104:104,75:75}],82:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.ELEMENT_NODE,e.exports=o},{47:47,5:5,87:87}],83:[function(t,e,n){var r=t(87),i=t(47).extend,o=t(160).getIFrameId,a={};i(a,r),a.type=t(5).Serializer.DOMNodeType.IFRAME_NODE,a._getNodeData=function(t,e,n){var r;if(n){var i=n.get(t);if(i){var a=n.getById(i.nodeId);a&&a.__JACO_IFRAME_ID&&(r=a.__JACO_IFRAME_ID)}}return!r&&t.__JACO_IFRAME_ID&&(r=t.__JACO_IFRAME_ID),r||(r=o(),t.__JACO_IFRAME_ID=r),[r]},e.exports=a},{160:160,47:47,5:5,87:87}],84:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.IMG_NODE,o._filterAttribute=function(t,e,n){return!(n&&("src"===t.name||"srcset"===t.name))},e.exports=o},{47:47,5:5,87:87}],85:[function(t,e,n){var r=t(87),i=t(47).extend,o=t(28).censorInput,a={};i(a,r),a.type=t(5).Serializer.DOMNodeType.INPUT_NODE,a._getNodeData=function(t,e){var n=[],r=void 0;switch(t.type.toLowerCase()){case"checkbox":case"radio":n.push([t.checked,t.indeterminate]);break;case"select-one":case"select-multiple":n.push([t.selectedIndex]);break;case"hidden":"__viewstate"===(t.name||"").toLowerCase()&&(r="?"),n.push([]);break;default:n.push([])}return n.push(r||(e?o(t.value,t.type):t.value)),n.push(t.disabled),n.push(t.readOnly),n},e.exports=a},{28:28,47:47,5:5,87:87}],86:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.LINK_NODE,e.exports=o},{47:47,5:5,87:87}],87:[function(t,e,n){var r=t(5).Serializer,i=t(12),o=t(28).censorInput,a=t(115),s=t(114);function u(t,e,n){var i=t.createString(e),o=t.createString(n);return r.KeyValue.startKeyValue(t),r.KeyValue.addKey(t,i),r.KeyValue.addValue(t,o),r.KeyValue.endKeyValue(t)}var c=function(t){return"http://www.w3.org/1999/xhtml"===t.namespaceURI?"__":t.namespaceURI||""},d={};d.serialize=function(t,e,n,o,a,s,u){var d=t.createString(e.tagName||""),f=t.createString(c(e)),h=r.DOMNodeData.createAttributesVector(t,this._serializeAttributes(t,e,s)),l=i(t,this._getNodeData(e,s,u)),p=r.DOMNodeData.createExtraDataVector(t,l),v=r.Vec3.createVec3(t,e.scrollLeft||0,e.scrollTop||0,0);return r.DOMNodeData.startDOMNodeData(t),r.DOMNodeData.addScrollPosition(t,v),r.DOMNodeData.addAttributes(t,h),r.DOMNodeData.addNodeType(t,this.type||e.nodeType),r.DOMNodeData.addTagName(t,d),r.DOMNodeData.addNs(t,f),r.DOMNodeData.addExtraData(t,p),r.DOMNodeData.addIsCensored(t,s),null!==o&&r.DOMNodeData.addParentNodeId(t,o),null!==n&&r.DOMNodeData.addPreviousSiblingId(t,n),r.DOMNodeData.addNodeId(t,a),r.DOMNodeData.endDOMNodeData(t)},d._serializeAttributes=function(t,e,n){var r=e.attributes,i=[];if(!r)return i;for(var c=0,d=r.length;c<d;c++){var f=r[c];if(f&&f.specified&&this._filterAttribute(f,e,n)){var h=f.value;"src"===f.name?h=e.currentSrc||e.src:"href"===f.name&&"A"!==e.tagName?h=e.href:"value"===f.name&&n&&h?h=o(h,e.getAttribute("type")):"poster"===f.name?h=e.poster:"srcset"===f.name?(i.push(u(t,"nodeWidth",e.width||"")),i.push(u(t,"nodeHeight",e.height||"")),i.push(u(t,"pixelRatio",window.devicePixelRatio+"")),
i.push(u(t,"hasSrcset","true")),h=""):s(e,f.name)&&(h=""),h=h||"",a(h,f.name)&&(h="");var l=u(t,f.name,h);i.push(l)}}return n&&(r.width||e.style.width||i.push(u(t,"width",e.clientWidth+"")),r.height||e.style.height||i.push(u(t,"height",e.clientHeight+"")))ction(t,e,n){reunction(t,e){return[]},e.exports=d},{114:114,115:115,12:12,28:28,5:5}],88:[function(t,e,n){var r=t(5).Serializer,i=t(33),ourn c(t,e,n,r,i,o,!0)}function c(t,e,n,u,d,f,h){var l=i(e,f),p="IFRAME"===e.tagName&&!l,v=d.set(e,e,p);o.mark(e,l);var _=s.createOverride(e),g=a(e).serialize(t,e,n,u,v,l),b=[];if(h||_._forceRecursive)for(var y=_.firstChild||e.firstChild;y;){var m=c(t,y,null,null,d,f,h||_._forceRecursive);b.push(m),y=y.nextSibling}var w=r.DOMNode.createChildrenVector(t,b);return r.DOMNode.startDOMNode(t),r.DOMNode.addData(t,g),r.DOMNode.addChildren(t,w),r.DOMNode.endDOMNode(t)}function d(t,e,n,i,o,s,u){var c=a(e).serialize(t,e,i,o,n,s,u),d=r.DOMNode.createChildrenVector(t,[]);return r.DOMNode.startDOMNode(t),r.DOMNode.addData(t,c),r.DOMNode.addChildren(t,d),r.DOMNode.endDOMNode(t)}n.serializeSubTree=u,n.serializeNodeWithCensorship=c,n.serializeNode=d},{30:30,33:33,5:5,74:74,81:81}],89:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.SOURCE_NODE,e.exports=o},{47:47,5:5,87:87}],90:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.STYLE_NODE,e.exports=o},{47:47,5:5,87:87}],91:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.Seturn[t.namespaceURI]},e.exports=o},{47:47,5:5,87:87}],92:[function(t,e,n){var r=t(87),i=t(28),o=t(47).extend,a={};o(a,r),a.type=t(5).Serializer.DOMNodeType.TEXT_NODE,a._getNodeData=function(t,e,n){var r,o="",a=t.parentNode;if(!a&&n){var u=n.get(t);u&&u.parentNodeId&&(a=n.getById(u.parentNodeId))}return a&&"script"!==a.nodeName.toLowerCase()&&(o=t.textContent),r=e?s(a)?i.censorInput(o):i.tagName.toLowerCase()}e.exports=a},{28:28,47:47,5:5,87:87}],93:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.VIDEO_NODE,o._getNodeData=function(t){return[t.currentSrc||t.src,t.currentTime]},e.exports=o},{47:47,5:5,87:87}],94:[function(t,e,n){e.exports=function(){var t=window._testhook_hostname||document.location.hostname;if(!t){t=document.location.host;var e=t.lastIndexOf(":");t.substring(0,e)}return t}},{}],95:[function(t,e,n){function r(){this.pairs=[]}r.prototype.set=function(t,e){var n=this._getIndex(t);if(n>=0)this.pairs[n][1]=e;else{var r=[t,e];this.pairs.push(r)}},r.prototype.get=function(t){var e=this._getIndex(t);return e>=0?this.pairs[e][1]:v this._getIndex(t)>-1},r.prototype._getIndex=function(t){for(var e in this.pairs){var n=this.pairs[e];if(n[0]===t)return e}return-1},e.exports=function(t){if(t&&t.Map)return t.Map;return r}},{}],96:[function(t,e,n){var r=t(67);function i(){var t=Math.pow(10,10),e=1;if("performance"in r==!1&&(r.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"timing"in r.performance==0&&(r.performance.timing={}),"navigationStart"in r.performance.timing==0&&(r.performance.timing.navigationStart=Date.now()),"now"in r.performance==0){var n=r.performance.timing.navigationStart;r.performance.now=function(){var r=e++%t/t;return Date.now()-n+r}}}e.exports={patch:i}},{67:67}],97:[function(t,e,n){"use strict";var r=t(67);function i(){!function\[object *|\]$/g,"")}function o(t){retun u(t){return t>>>0}var c=Math.LN2,d=Math.abs,f=Math.floor,h=Math.log,l=Math.max,p=Math.min,v=r&&(e[n]=r.value),e})}();function g(e){if("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in t)return;if(e.length>n)throw RangeError("Array to:!0,configurable:!1})}var i;for(i=32-e;return t<<n>>>n}function m(t){return[255&t]}function?0:t>255?255:255&t]}function S(t){return[255&t,t>>8&255]}function D(t){retn y(t[1]<<8|t[0],16)}function M(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function R(t){return b(t[3]<<24|t[2<16|t[1]<<8|t[0],32)}function A(t e+1;return e%2?e+1:e}var o,a,s;if(t!==t)a=(1<<e)-1,s=v(2,n-1),o=0;else if(t===1/0||t===-(1/0))a=(1<<e)-1,s=0,o=t<0?1:0;else if(0===t)a=0,s=0,o=1/t===-(1/0)?1:0;else if(o=t<0,t=d(t),t>=v(2,1-r)){a=p(f(h(t)/c),1023);var u=t/v(2,a);u<1&&(a-=1,u*=2),u>=2&&(a+=1,u/=2);var l=v(2,n);s=i(u*l)-l,a+=r,s/l>=1&&(a+=1,s=0),a>2*r&&(a=(1<<e)-1,s=0)}else a=0,s=i(t/v(2,1-r-n));var _,g=[];for(_=n;_;_-=1)g.push(s%2?1:0),s=f(s/2);for(_=e;_;_-=1)g.push(a%2?1:0),a=f(a/2);g.push(o?1:0),g.reverse();for(var b=g.join(""),y=[];b.length;)y.unshift(parseInt(b.substring(0,8),2)),b=b)*(d/v(2,n)):u<0?-0:0}function k(t){return L(t,11,52)}function P(t){return A(t,11,52)}functionB(t){return A(t,8,23)}!function(){function n(t){if(t=s(t),t<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"_bytes",{value:Array(t)}),n.prototype.slice=function(t,r){var i=new b(this);r==e&&(r=i.length);for(var o=new n(r-t),a=new b(o),s=0;s<a.length;s++)a[s]=i[s+t];return o};for(var r=0;r<t;r+=1)this._bytes[r]=0}t.ArrayBuffer=t.ArrayBuffer||n;function c(){if(!arguments.length||"object"!=typeof arguments[0])return function(t){if(t=s(t),t<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:t}),Object.defineProperty(this,"byteLength",{value:t*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new n(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&argumentsetter(r,t._getter(r))}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&!(arguments[0]instanceof c)&&!(arguments[0]instanceof n||"ArrayBuffer"===i_setter(r,Number(i))}}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&(arguments[0]instanceof n||"ArrayBuffer"===i(arguments[0])))return function(t,n,r){if(n=u(n),n>t.byteLength)throw RangeError("byteOffset out of range");if(n%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(r===e){var i=t.byteLength-n;if(i%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=i/this.BYTES_PER_ELEMENT}else r=u(r),i=r*this.BYTES_PER_ELEMENT;if(n+i>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:i}),Object.defineProperty(this,"byteOffset",{value:n}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}Object.definePrt){return new this(t)}}),Object.definen new this(arguments)}});var h={};c.prototype=h,Object.defineProperty(c.prototype,"_getter",{value:function(t){if(arguments.length<1)throw SyntaxError("Not enough arguments");if(t=u(t),t>=this.length)return e;var n,r,i=[];for(n=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)i.push(this.buffer._bytes[r]);return this._unpack(i)}}),Object.defineProperty(c.prototype,"get",{value:c.prototype._getter}),Object.defineProperty(c.prototype,"_setter",{value:function(t,e){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(t=u(t),t>=this.length)return;var n,r,i=this._pack(e);for(n=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]}}),Object.defineProperty(c.prototype,"constructor",{value:c}),Object.defineProperty(c.prototy=b,d+=b,y-=1;return i}}),Object.defineProperty(c.pr,n))return!1;return!0}}),Object.defineProperty(c.per(d,t),d+=1;return i}}),Object.defineProperty(c.prow this.constructor(i)}}),Object.defineProperty(c.prototype,"find",{value:function(t){var n=a(this),r=n.length,i=u(r);if(!o(t))throw TypeError();for(var s=arguments.length>1?arguments[1]:e,c=0;c<i;){var d=n._getter(c),f=t.call(s,d,c,n);if(f)return d;++c}return e}}),Object.defineProperty(c.prototype,"findIndex",{value:function(t){var n=a(this),r=n.length,i=u(r);if(!o(t))throw TypeError();for(var s=arguments.length>1?arguments[1]:e,c=0;c<i;){var d=n._getter(c),f=t.call(s,d,c,n);if(f)return c;++c}return-1}}),Object.defineProperty(c.protl(i,n._getter(a),a,n)}}),Object.defineProperty(c.prototype,"indexOf",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(0===r)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*f(d(i)))),i>=r)return-1;for(var o=i>=0?i:l(r-d(i),0);o<r;o++)if(n._getter(o)===t)return o;return-1}}),Object.defineProperty(c.pn i.join(t===e?",":t)}}),Object.defineProperty(c.prototype,"lastIndexOf",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(0===r)return-1;var i=r;arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*f(d(i))));for(var o=i>=0?p(i,r-1):r-d(i);o>=0;o--)if(n._getter(o)===t)return o;return-1}}),Object.defineProperty(c.w this.constructor(i)}}),Object.defineProperty(c.pro(a),a,n),a++;return i}}),Object.defineProperty(c.prototyp(a),a,n),a--;return i}}),Object.defineProperty(c.prot_setter(o,a)}return t}}),Object.defineProperty(c.prototype,"set",{value:function(){if(arguments.length<1)throw SyntaxError("Not enough arguments");var t,e,n,r,i,o,a,s,c,d;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(t=arguments[0],n=u(arguments[1]),n+t.length>this.length)throw RangeError("Offset plus length of array is out of range");if(s=this.byteOffset+n*this.BYTES_PER_ELEMENT,c=t.length*this.BYTES_PER_ELEMENT,t.buffer===this.buffer){for(d=[],i=0,o=t.byteOffset;i<c;i+=1,o+=1)d[i]=t.buffer._bytes[o];for(i=0,a=s;i<c;i+=1,a+=1)this.buffer._bytes[a]=d[i]}else for(i=0,o=t.byteOffset,a=s;i<c;i+=1,o+=1,a+=1)this.buffer._bytes[a]=t.buffer._bytes[o]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(e=arguments[0],r=u(e.length),n=u(arguments[1]),n+r>this.length)throw RangeError("Offset plus length of array is out of range");for(i=0;i<r;i+=1)o=e[i],this._setter(n+i,Number(o))}}}),Object.defineProperty(c.prb,y),++d,++b}return g}}),Object.defineProperty(c.p,n))return!0;return!1}}),Object.defineProperty(c.prototype,"sort",{value:function(t){if(this===e||null===this)throw TypeError();for(var n=Object(this),r=u(n.length),i=Array(r),o=0;o<r;++o)i[o]=n._getter(o);function a(n,r){if(n!==n&&r!==r)return 0;if(n!==n)return 1;if(r!==r)return-1;if(t!==e)return t(n,r);if(n<r)return-1;if(n>r)return 1;return 0}for(i.sort(a),o=0;o<r;++o)n._setter(o,i[o]);return n}}),Object.defineProperty(c.proto.B_unpack",{value:n}),r}var _=v(1,m,w),b=v(1,E,O),y=v(1,I,O),A=v(2,S,D),L=v(2,T,N),F=v(4,M,R),V=v(4,C,x),j=v(4,B,U),z=v(8,P,k);t.Int8Array=t.Int8Array||_,t.Uint8Array=t.Uint8Array||b,t.Uint8ClampedArray=t.Uint8ClampedArray||y,t.Int16Array=t.Int16Array||A,t.Uint16Array=t.Uint16Array||L,t.Int32Array=t.Int32Array||F,t.Uint32Array=t.Uint32Array||V,t.Float32Array=t.Float32Array||j,t.Float64Array=t.Float64(t.get)?t.get(e):t[e]}var r=function(){var t=new Uint16Array([4660]),e=new Uint8Array(t.buffer);return 18===n(e,0)}();function a(t,n,r){if(!(t instanceof ArrayBuffer||"ArrayBuffer"===i(t)))throw TypeError();if(n=u(n),n>t.byteLength)throw RangeError("byteOffset out of range");if(r=r===e?t.byteLength-n:u(r),n+r>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:n})}function s(t){return function(e,i){if(e=u(e),e+t.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");e+=this.byteOffset;for(var o=new Uint8Array(this.buffer,e,t.BYTES_PER_ELEMENT),a=[],s=0;s<t.BYTES_PER_ELEMENT;s+=1)a.push(n(o,s));return Boolean(i)===Boolean(r)&&a.reverse(),n(new t(new Uint8Array(a).buffer),0)}}Object.defineProperty(a.prototype,"getUint8",{value:s(Uint8Array)}),Object.defineProperty(a.prototype,"getInt8",{value:s(Int8Array)}),Object.defineProperty(a.prototype,"getUint16",{value:s(Uint16Array)}),Object.defineProperty(a.prototype,"getInt16",{value:s(Int16Array)}),Object.defineProperty(a.prototype,"getUint32",{value:s(Uint32Array)}),Object.defineProperty(a.prototype,"getInt32",{value:s(Int32Array)}),Object.defineProperty(a.prototype,"getFloat32",{value:s(Float32Array)}),Object.defineProperty(a.prototype,"getFloat64",{value:s(Float64Array)});function c(t){return function(e,i,o){if(e=u(e),e+t.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var a,s,c=new t([i]),d=new Uint8Array(c.buffer),f=[];for(a=0;a<t.BYTES_PER_ELEMENT;a+=1)f.push(n(d,a));Boolean(o)===Boolean(r)&&f.reverse(),s=new Uint8Array(this.buffer,e,t.BYTES_PER_ELEMENT),s.set(f)}}Object.defineProperty(a.prototype,"setUint8",{value:c(Uint8Array)}),Object.defineProperty(a.prototype,"setInt8",{value:c(Int8Array)}),Object.defineProperty(a.prototype,"setUint16",{value:c(Uint16Array)}),Object.defineProperty(a.prototype,"setInt16",{value:c(Int16Array)}),Object.defineProperty(a.prototype,"setUint32",{value:c(Uint32Array)}),Object.defineProperty(a.prototype,"setInt32",{value:c(Int32Array)}),Object.defineProperty(a.prototype,"setFloat32",{value:c(Float32Array)}),Object.defineProperty(a.prototype,"setFloat64",{value:c(Float64Array)}),t.DataView=t.DataView||a}()}(r)}e.exports={patch:i}},{67:67}],98:[function(t,e,n){"use strict";var r=t(rror:t,messageId:n})}function s(){self.addEventListener("message",function(t){var e=t.data.messageId,n=t.data.params.concat([o(self,e)]),r=i[t.data.command];r&&r.apply(null,n)})}e.exports=s},{112:112}],99:[function(t,e,n){var r="jaco_uid",i="jaco_referer",o="jaco_provi()+1),t.toUTCString()}function c(t,e){var n=d(t,e);return n||(n=d(t,e+s)),n}function d(t,e){for(var n,r,i=0,o=1,a={},s=t.split(";"),u=0,c=s.length;u<c;u++)if(r=s[u],n=r.replace(/^\s+|\s+$/g,"").split("="),""!==n[o])try{a[n[i]]=decodeURIComponent(n[o])}catch(d){a[n[i]]=n[o]}return a[e]}function f(t,e,n,r,i){var o=t+"="+encodeURIComponent(e),a=[];if(a.push(o),null!==n){var s="domain=."+encodeURIComponent(n);a.push(s)}return a.push("expires="+r),a.push("path="+i),a.join(";")}function h(t,e){var n;if(t&&"all"!==t)n=t;else if(e){var r=document.location.hostname.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i);n=r?r[0]:null}else n=document.location.hostname;return n}function l(){}l._saveCookie=function(t,e,n){var r,i=u();return this.domain=h(n,!0),document.cookie=f(t,e,this.domain,i,a),r=d(document.cookie,t),r||(t+=s,this.domain=h(n,!1),document.cookie=f(t,e,this.domain,i,a),r=d(document.cookie,t)),r||""},l._removeCookie=function(t){var e=u();d(document.cookie,t)?document.cookie=f(t,"",this.domain,e,a):(t+=s,d(document.cookie,t)&&(document.cookie=f(t,"",this.domain,e,a)))},l.getUid=function(){return c(document.c c(document.cookdocument.cookie,p(t))},l.setUid=function(t,e){return e=e||"all",this._saveCookie(r,t,e)},l.setProvidedId=function(t,e,n){return this._saveCookie(p(e),t,n)},l.removeUid=function(){this._removeCookthis._removeCookie(s._removeCookie(p(t))},n p(t){return o+"_"+t}e.exports=l},{}],100:[function(t,e,n){var r,i="wm-visions-init-response",o=43200;function a(){r||(r=window._walkmeInternals.ctx.get("ClientStorageManager"))}function s(t){a();var e=r.getToDictionary(i,e,t,o)}e.exports={get:s,set:u}},{}],101:[function(t,e,n){var r=t(55),i=["wm-hide","jaco-hide"],o="[?#].+",a="###";function s(t){var e=t.element||{},n=e.censorshipRules||[],r=t.page||{},s=r.censorship||{},c=u(n,"tagInElementTree");"remove"===s.title&&c.push("title");var d=u(n,"idInElementTree"),f=u(n,"classInElementTree").concat(i),h="collect"!==e.inputValues,l=s.url?o:void 0,p=s.url?a:void 0;return{enabled:!0,tags:c,ids:d,classNames:f,isCensorInputContents:h,urlRegex:l,urlReplaceText:p}}function u((t){return t.type===e}).map(function(t){return t.values}))}e.exports=s},{55:55}],102:[function(t,e,n){var r=t(57);function i(t){var e={},n=Object.getOwnPropertyNames(t),r=["filename","message","lineno","colno","timeStamp","name","stack","status","statusText","responseText","response","timeElapsed","requestBody"];n=n.concat(r);for(var i=0;i<n.length;i++){var o=n[i];t[o]&&(e[o]=t[o])}return e}e.exports=function(t,e,n){var o=i(e),a=r.assign({},o,n);return t&&t.mainFrame?(a.apiToken=t.apiToken,a.uId=t.uid,a.sessionStart=t.session&&t.session.startTime,a.state={isRecording:t.isRecording,isInitialized:t.isInitialized,windowId:t.mainFrame.windowId}):(a.apiToken=null,a.state=null),a}},{57:57}],103:[function(t,e,n){var r=t(68);e.exports=function(t,e,n,i,o){return{data:t,dataType:e,isCensored:n,timestamp:i,action:o,sequenceIndex:r.getAndIncrease(o)}}},{68:68}],104:[function(t,e,n){var r,i={INTERVAL_MUTATIONS:"visionsIntervalMutations",NO_TRANSFERABLE_LIST:"visionsNoTransferableList",RECURSIVE_IFRAME_DETECTOR:"visionsRecursiveIframeDetector",DYNAMIC_CSS:"visionsDynamicCSS"};function o(t){return r||(r=window._walkmeInternals.ctx.get("FeaturesManager")),r.isFeatureEnabled(t)}n.featuresNames=i,n.isFeatureEnabled=o},{},this._subscribers=[]}r.prototype.clearReadyFlag=function(){this._isReadyToHost=!1},r.prototype.notifyReady=function(){this._isReadyToHost=!0;for(var t=0;t<this._subscribers.length;t++)this._subscribers[t]();this._subscribers=[]},r.p!!this._isReadyToHos._subscribers.push(t)},e.e=function(){return!1}},{}],107:[function(t,e,n){var r=t(4).production,i="prelib-plugin";function o(t){return t.filename.indexOf(r)>-1||t.filename.indexOf(i)>-1}e.exports=o},{4:4}],108:[function(t,e,n){var r=t(69),i=t(102);e.exports=function(t,e,n){n=n||{};var o=n.extraInformation;e.preventDefault&&e.preventDefault();var a=i(t,e,o);r.sendLog(e.message,a)}},{102:102,69:69}],109:[function(t,e,n){var r=t(69),i=t(102),o=t(106),a=t(50);e.exports=function(t,e,n){e.preventDefault&&e.preventDefault(),o()&&a.error(e,n);var s=i(t,e,n);r.sendLog(e.message,s)}},{102:102,106:106,50:50,69:69}],110:[function(t,e,n){e.exports=function(t,e,n){return t.requestIdleCallback?t.requestIdleCallback(e,n):t.setTimeout(e,50)}},{}],111:[function(t,e,n){var r=t(57);e.exports=function(t,e,n){var o=0,a=e.retries||1/0,s=e.retryCooldown||0,u=e.retryCallback||function(){},c=e.shouldDisableRetryPredicate||r.constant(!1);if(0===a&&s===1/0)throw new Error("Retry infinity times with 0 interval is dangerous and not supported");n=n||function(){};var d=function f(){t(function(t){if(t&&++o<a&&!c(t)){var r=i(e,o);u.call(this,t,o),setTimeout(f,r)}else{var s=Array.prototype.slice.call(argumentsion(){n.apply(this,s)},0)}})};d()};function i(t,e){return t.retryCooldown instanceof Function?t.retryCooldown(e):t.retryCooldown}},{57:57}],112:[function(t,e,n){var r=t(10),i=t(113),o=t(57),a=t(1),s=8283750.4;function u(t,e,n,u){var d=!e,f=d?a.recordJSON:a.record,h=r.build(t,e),l=d?JSON.stringify(o.values(h.asUint8Array())):c(h),p=d?l.length:l.byteLength;if(p>s)return void u(new Error("Payload size exceeds limit. r message skipped."));i(f,l,{rapiUrl:n},u)}function c(t){var e=t.dataBuffer(),n=e.bytes();return n.buffer.slice(e.position(),e.position()+t.offset())}e.exports=u},{1:1,10:10,113:113,57:57}],113:[function(t,e,n){var r=t(72),i=t(111);function o(t,e,n,o){n=n||{};var s=n.retryCallback,u=n.shouldDisableRetryPredicate;n.rapiUrl&&r.updateRa{r.postRequest(t,e,n)};i(c,{retryCooldown:a,retryCallback:s,shouldDisabt<10?1e3:t<30?5e3:2e4}e.exports=o},{111:111,72:72}],114:[function(t,e,n){var r=["type","class","id","style","accept","accesskey","autocomplete","autofocus","capture","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","selectionDirection","selectionEnd","selectionStart","size","spellcheck","src","step","tabindex","usemap","width","autocorrect","incremental","mozactionhint","results","webkitdirectory","x-moz-errormessage","autocapitalize","contenteditable","contextmenu","dir","draggable","dropzone","hidden","is","itemid","itemprop","itemref","itemscope","itemtype","lang","slot","title","translate"];function i(t){return"INPUT"===t.tagName&&"password"===t.getAttribute("type")}function o(t,e){return i(t)&&r.indexOf(e.toLowerCase())<0}e.exports=o},{}],115:[function(t,e,n){var r=1e4,i=5e4;e.exports=function(t,e){var n=r;return"style"===e&&(n=i),t.length>=n}},{}],116:[function(t,e,n){var r=6e4;function i(t,e){var n=(new Date).getTime(),i=t[e]||[],o=i[0],a=i[1]||n;if(n-a<=r&&e&&e===o)return!1;return!0}e.exports=i},{}{this._isSuspended=!1}r.prototype.setSuspended=function(t){this._isSuspended=t},r.prototype.isSuspended=function(){return this._isSuspended},e.exports=new r},{}],118:[function(t,e,n){var r=t(117),i=window._walkmeInternals.ctx,o=i.get("EventsListener");function a(){o.on("UBT:CollectionStatusChanged",function(t,e){var n=window.JacoRecorder.state,i=e.isCollecting;!i&&n.isRecording&&(window.JacoRecorder.stopRecording(),r.setSuspended(!0)),i&&!n.isRecording&&r.isSuspended()&&window.JacoRecorder.startPlaybackRecording()})}function s(){var t={shouldRecord:!0,isManual:!1},e=window._walkmeInternals.ctx.get("DataCollectionSettings").get();return t.isManual=e.loading&&"manual"===e.loading.mode,t.isManual&&(t.shouldRecord=!1),"function"==typeof window.isWalkmeUserBehaviorDataCollectionEnabled&&(t.shouldRecord=window.isWalkmeUserBehaviorDataCollectionEnabled()===!0),t}e.exports={startUbtSync:a,getUbtStatus:s}},{117:117}],119:[function(t,e,n){function r(t,e,n){var r="TrackEvent: ",i=null;return(t||e.length>0||n.length>0)&&(i=r,t&&(i+="a property with an empty string as a name is found and not saved because property names can't be empty.\n"),e.length>1&&(i+=e.length+" properties with a name longer than 200 characters found and weren't saved because property name's length should be no longer than 200 characters ("+e.join(",")+").\n"),1===e.length&&(i+="1 property with a name longer than 200 characters found and wasn't saved because property name's length should be no longer than 200 characters ("+e[0]+").\n"),n.length>1&&(i+=n.length+" properties with a string value longer than 1000 characters found and weren't saved because string property value should be no longer than 1000 characters ("+n.join(",")+").\n"),1===n.length&&(i+="1 property with a string value longer than 1000 characters found and wasn't saved because string property value should be no longer than 1000 characters ("+n[0]+").\n"),i=i.slice(0,-1)),i}function i(t,e){var n=null;return e&&(n="Invalid timestamp override provided #{"+t.timestamp+"}, please either omit the timestamp or provide a valid UNIX timestamp"),n}function o(e){var n,o,a=t(22),s=!1,u=[],c=[],d=!1,f={};return e&&Object.keys(e).forEach(function(t){t.length<1?s=!0:t.length>200?u.push(t):a(e[t])&&e[t].length>1e3?c.push(t):"timestamp"===t&&e[t]!==parseInt(e[t],10)?d=!0:f[t]=e[t]}),n=r(s,u,c),o=i(e,d),{validatedData:f,warning:n,error:o}}e.exports=o},{22:22}],120:[function(t,e,n){var r=t(104);function i(t,e,n){this.callbacks=e,this.element=n,this.observer=void 0,this.isRecursive=r.isFeatureEnabled(r.featuresNames.RECURSIVE_IFRAME_DETECTOR)}function o(t,e,n,r){var i={attributes:!1,childList:!0,subtree:!0},o=function(t){for(var i=0;i<t.length;i++){var o=t[i];"childList"===o.type&&(s(o.addedNodes,e,r),s(o.removedNodes,n,r))}};this.observer=new MutationObserver(o),this.observer.observe(t,i)}function a(t,e){for(var n=t.getElementsByTagName("iframe"),r=0;r<n.length;r++){var i=n[r];e(i)}}function s(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];"IFRAME"===i.nodeName?e(i):n&&i.children&&s(i.children,e,n)}}i.prototype.startDetectingIframes=function(){a(this.element,this.callbacks.onIframeAdded),window.MutationObserver&&o(this.element,this.callbacks.onIframeAdded,this.callbacks.onIframeRemoved,this.isRecursive)},observer.disconnect()},e.exports=i},{104:104}],121:[function(t,e,n){var t,e,n,i,o){r(e,n,i,o)}e.exports={start:i,sendMessage:o}},{112:112}],122:[function(t,e,n)&!!t.MutationObserver}function a(){}a.get=function(){return o(window)?r:i},a.sendMessageToServer=function(t,e,n){var r=o(window),i=t.state.config.rapiUrl;return a.get().sendMessage(t,e,r,i,n)},a.load=function(){return a.get().load.apply(null,arguments)},a.start=function(){return a.get().start.apply(null,arguments)},e.exports=a},{121:121,161:161}],123:[function(t,e,n){var r=t(103);function i(t){this.document=t.window.document,this.window=t.window,this.nodeMap=t.nodeMap,this.element=t.element,this.beforeSnapshotDone=!0}i.ps not implemented");
},i.prototype.observe=function()0,this.element=void 0},i.prototbeforeSnapshot){return r(t,e,n,i,o)},e.exports=i},{103:103}],124:[function(t,e,n){var r=t(123),i=t(6).Serializer.Action,o=t(75),a=t(43).getTimestamp,s=t(57).includes,u=t(6).Serializer,c={SNAPSHOT:"snapshot",RECORD:"record"},d=1,f=c.SNAPSHOT;t(47).extend(h,r);function h(){return this.lastSnapshots={},this.takenCanvasesIds={},this.snapshotTimeout=0,h.__super__.constructor.apply(this,arguments)}h.emittedActions=[i.CANVAS_UPDATE],h.prototype.observe=function(t,e){var n=t.state.config.canvasRecordingMode||f,r=t.state.config.canvasRecordingFPS||d,i=t.state.censorshipSettings,o={censorshipSettings:i,canvasRecordingMode:n,canvasRecordingFPS:r};l(this,e,o)},this.snapshotTimeout)};function l(t,e,n){t.snapshotTimeot(function(){p(t,e,n)},1e3/n.canvasRecordingFPS)}function p(t,e,n){for(var s=t.window.document.getElementsByTagName("canvas"),c=0;c<s.length;c++){var d=s[c],f=o.get(d);if(v(t,f,n.canvasRecordingMode,n.censorshipSettings)){g(t,f);var h;try{h=d.toDataURL("image/png",.2)}catch(p){h=""}t.lastSnapshots[f]!==h&&(t.lastSnapshots[f]=h,e(r.createEvent([f,h],u.DataType.StringList,!1,a(),i.CANVAS_UPDATE)))}}l(t,e,n)}function v(t,e,n,r){return!s(r.tags,"canvas")&&(n==c.RECORD||nkenCanvasesIds[e]=!0}e.exports=h},{123:123,43:43,47:47,57:57,6:6,75:75}],125:[function(t,e,n){var r=t(123),i=t(6).Serializer.Action,o=t(43).getTimestamp,a=t(109),s=t(71).throttle,u=t(116),c=t(107),d=t(6).Serializer;t(47).extend(f,r);function f(){return this.errorMap={},f.__super__.constructor.apply(this,arguments)}f.emittedActions=[i.ERROR],f.prototype.observe=function(t,e){var n=this;this._onErrorListener=s(function(r){h(n,r,t,e)},1e3),this.window.addEventListener("error",this._onErrorListener,!1)},._onErrorListener,!1)};function h(t,e,n,r){var s,d=[e.filename,e.message,e.lineno,e.colno,e.timeStamp,void 0,void 0],f=e.message;return e.error&&(f=e.error.message||e.message,d[1]=f,d[5]=e.error.name,s=e.error.stack,d[6]=s),c(e)?(a(n.state,e),e.stopPropagation(),e.preventDefault(),!1):(this.beforeSnapshotDone||(u(t.errorMap,f)&&r(l(d,!1,o(),i.ERROR)),t.errorMap[f]=[f,(new Date).getTime()]),!0)}function l(t,e,n,i){return r.createEvent(t,d.DataType.StringList,e,n,i)}e.exports=f},{107:107,109:109,116:116,123:123,43:43,47:47,6:6,71:71}],126:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(43).getTimestamp,a=t(75),s=t(6).Serializer;t(47).extend(u,i);function u(){return u.__super__.constructor.apply(this,arguments)}u.emittedActions=[r.FOCUS,r.FOCUS_IN,r.FOCUS_OUT],u.prototype.observe=function(t,e){var n=this;this._onBlur=functionFocus=function(){c(e)},this._onFocusIn=function(t){f(t,n,e)},this._onFocusOut=function(t){h(t,n,e)},this.window.addEventListener("focus",this._onFocus,!1),this.window.addEventListener("focusin",this._onFocusIn,!1),this.window.addEventListener("focusout",this._onFocusOut,!1),this.window.addEventListener("blur",this._onBlur,!1)},lur",this._onBlur,!1)};function c(t){return t(l([!0],!1,o(),r.FOCUS))}function d(t){return t(l([!1],!1,o(),r.FOCUS))}function f(t,e,n){var i=o(),s=a.get(t.target),u=a.get(t.relatedTarget);if(!e.beforeSnapshotDone||s||u){var c=[s,u,t.timeStamp];return n(l(c,!1,i,r.FOCUS_IN))}}function h(t,e,n){var i=o(),s=a.get(t.target),u=a.get(t.relatedTarget);if(!e.beforeSnapshotDone||s||u){var c=[s,u,t.timeStamp];n(l(c,!1,i,r.FOCUS_OUT))}}function l(t,e,n,r){return i.createEvent(t,s.DataType.StringList,e,n,r)}e.exports=u},{123:123,43:43,47:47,6:6,75:75}],127:[function(t,e,n){var r=t(57),i=t(138).OBSERVERS;function o(t,e){return eturn e.indexOf(t)>-1})&&!r.e a(t,e){return o(t,e)}function s(t){return r.reduce(r.values(i),function(e,n){return e.concat(a(n,t)?[n]:[])},[])}e.exports=s},{138:138,57:57}],128:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(38).getElementSelector,a=t(43).getTimestamp,s=t(71).throttle,u=t(75),c=t(65).once,d=t(33),f=t(29),h=t(6).Serializer,l=t(28).censorInput,p=t(69);t(47).extend(_,i);var v=1e4;function _(){_.__super__.constructor.apply(this,arguments),this.lastTarget=null,this._patchOnce=c(O),this._overriddedProps={}}_.emittedActions=[r.INPUT,r.INPUT_PROGRAMMATIC_CHANGE],_.prototype.observe=function(t,e){var n=this,r=t.state.censorshipSettings;this.attributesToCollect=t.state.config.environmentSettings&&t.state.config.environmentSettings.element&&t.state.config.environmentSettings.element.attributesToCollect||[],this._onInput=s(function(t){b(t,n,r,e)},100),this._onChange=function(t){g(t,n,r,e)},this._patchActive=!1,this.window.addEventListener("input",this._onInput,!0),this.window.addEventListener("change",this._onChange,!0),this._addSelectedIndexSetterListener(),this._addOptionSelectedSetterListener(unction(t){y(t,n,r,e)}),this._patchActive=!0},_.prototype.disconnect=function(){this.window.removeEventListener("input",this._onInput,!0),this.window.removeEventListener("change",this._onChange,!0),this._removeSelectedIndexSetterListener(),this._removeOptionSelectedSetterListener(),this._patchActive=!1},_.prototype._addSelectedIndexSetterListener=function(){var t=this;if("selectedIndex"in t._overriddedProps)return;t._overriddedProps.selectedIndex=Object.getOwnPropertyDescriptor(HTMLSelectElement.prototype,"selectedIndex"),Object.defineProperty(HTMLSelectElement.prototype,"selectedIndex",{set:function(e){t._overriddedProps.selectedIndex.set.call(this,e);var n={target:this,trusted:!0};try{t._onChange(n)}catch(r){var i={message:r.message,stack:r.stack};p.sendLog("Critical Error",{errorData:i},"error")}},configurable:!0})},_.prototype._addOptionSelectedSetterListener=function(){var t=this;if("selected"in t._overriddedProps)return;t._overriddedProps.selected=Object.getOwnPropertyDescriptor(HTMLOptionElement.prototype,"selected"),Object.defineProperty(HTMLOptionElement.prototype,"selected",{set:function(e){t._overriddedProps.selected.set.call(this,e);var n=this;setTimeout(function(){try{var e=n.parentElement;if(e&&"SELECT"===e.tagName&&u.hasId(e)){var r={target:e,trusted:!0};t._onChange(r)}}catch(i){var o={message:i.message,stack:i.stack};p.sendLog("Critical Error",{errorData:o},"error")}},100)},configurable:!0})},_.prototype._removeSelectedIndexSetterListener=function(){if(!("selectedIndex"in this._overriddedProps))return;Object.defineProperty(HTMLSelectElement.prototype,"selectedIndex",this._overriddedProps.selectedIndex),delete this._overriddedProps.selectedIndex},_.prototype._removeOptionSelectedSetterListener=function(){if(!("selected"in this._overriddedProps))return;Object.defineProperty(HTMLOptionElement.prototype,"selected",this._overriddedProps.selected),delete this._overriddedProps.selected};function g(t,e,n,r){E(t)&&m(t.target,e,n,r)}function b(t,e,n,r){E(t)&&m(t.target,e,n,r)}function y(t,e,n,r){e._patchActive&&m(t,e,n,r,!0)}function m(t,e,n,i,o){var a=u.get(t);e.beforeSnapshotDone&&!t||(e.lastTarget!==t&&(e.lastTarget=t,o||i(w(t,a,r.INPUT,n,e.attributesToCollect))),i(w(t,a,r.INPUT_PROGRAMMATIC_CHANGE,n,[])))}function w(t,e,n,r,s){var u=d(t,r),c=t.value||"";c=u?l(c,t.type):c,c.length>=v&&(c=c.slice(0,v));var p="";t.labels&&t.labels.length>0&&(p=t.labels[0].textContent);var _=[];if("SELECT"===t.nodeName)for(var g=0,b=t.options,y=b.length;g<y;g++)b[g].selected&&_.push(b[g].index);var m=[e,c,t.type,t.name,p,t.checked,t.indeterminate,t.disabled,t.readOnly,_,o(t,s),f(location.href,r.urlRegex,r.urlReplaceText)];return i.createEvent(m,h.DataType.StringList,!1,a(),n)}function E(t){return u.hasId(t.target)||!!t.isTrusted}function O(t,e){var n=t.window;I()&&(S(n.HTMLInputElement,"value",e),S(n.HTMLInputElement,"checked",e),S(n.HTMLSelectElement,"value",e),S(n.HTMLTextAreaElement,"value",e))}function I(){var t=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");return t&&t.set}function S(t,e,n){var r=Object.getOwnPropertyDescriptor(t.prototype,e);Object.defineProperty(t.prototype,e,{set:function(t){var i=this;returon(){u.hasId(i)&&n(i)},0),rturn r.get.call(this)}})}e.exports=_},{123:123,28:28,29:29,33:33,38:38,43:43,47:47,6:6,65:65,69:69,71:71,75:75}],129:[function(t,e,n){var r=t(71).throttle,i=t(6).Serializer.Action,o=t(123),a=t(43).getTimestamp,s=t(37).getClickEventData,u=t(75),c=t(40).getMousePositionData,d=t(33),f=t(6).Serializer,h=t(44).getTouchEventData,l=t(109);t(47).extend(p,o);function p(){return p.__super__.constructor.apply(this,arguments)}p.emittedActions=[i.TOUCH_MOVE,i.TOUCH_START,i.TOUCH_END,i.TOUCH_CANCEL,i.MOUSE_POSITION,i.MOUSE_CLICK,i.MOUSE_OVER];var v=100,_=100;p.prototype.observe=function(t,e){var n=t.state.censorshipSettings,o=t.state.config.environmentSettings&&t.state.config.environmentSettings.visions&&parseInt(t.state.config.environmentSettings.visions.mousePositionThrottleMs,10)||v,a=t.state.config.environmentSettings&&t.state.config.environmentSettings.visions&&parseInt(t.state.config.environmentSettings.visions.mouseOverThrottleMs,10)||_,s=this;this.state=t.state,this.attributesToCollect=t.state.config.environmentSettings&&t.state.config.environmentSettings.element&&t.state.config.environmentSettings.element.attributesToCollect||[],this._moveEventCounter=0,this._onTouchMove=r(function(t){y(t,s,i.TOUCH_MOVE,n,e)},16),this._onTouchStart=function(t){m(s,i.TOUCH_START,n,e,t)},this._onTouchEnd=function(t){w(s,i.TOUCH_END,n,e,ti.TOUCH_CANCEL,e,i.MOUSE_POSITIO,n,e,i.MOUSE_CLICK=function(t){E(s,e,t)},a>0&&(this._onMouseOver=r(this._onMouseOver,a)),this.window.addEventListener("touchstart",this._onTouchStart,!0),this.window.addEventListener("touchmove",this._onTouchMove,!0),this.window.addEventListener("touchcancel",this._onTouchCancel,!0),this.window.addEventListener("touchend",this._onTouchEnd,!0),this.window.addEventListener("mouseover",this._onMouseOver,!0),this.window.addEventListener("mousemove",this._onMove,!0),this.window.addEventListener("mouseup",this._onClick,!0)},p.prototype.disconnect=function(){this.window.removeEventListener("mouseup",this._onClick,!0),this.window.removeEventListener("mousemove",this._onMove,!0),this.window.removeEventListener("mouseover",this._onMouseOver,!0),this.window.removeEventListener("touchmove",this._onTouchMove,!0),this.window.removeEventListener("touchend",this._onTouchEnd,!0),this.window.removeEventListener("touchcancel",this._onTouchCancel,!0),this.window.removeEventListener("touchstart",this._onTouchStart,!0)};function g(t,e,n,r,i){if(t._isTouchMode)return void(t._isTouchMode=!1);if(t._moveEventCounter<2)return;var c=i.target,h=u.get(c),p=!1;if(!t.beforeSnapshotDone||h){var v=d(c,e);t.lastTarget===c&&(p=!0);var _;try{_=s(i,v,h,e,p,t.attributesToCollect)}catch(g){return void l(t.state,g,{})}t.lastTarget=c,n(o.createEvent(_,f.DataType.StringList,v,a(),r))}}function b(t,e,n,r){if(t._isTouchMode)return;if(t._moveEventCounter<2)return t._moveEventCounter=t._moveEventCounter+1,void(2===t._moveEventCounter&&window._testhook&&(window._testhook("ReadyToRecordClicks"),window._testhook_isReadyToRecordClicks=!0));var i=c(r);e(o.createEvent(i,f.DataType.StringList,!1,a(),n))}function y(t,e,n,r,i){var s=t.target,c=u.get(s);if(!e.beforeSnapshotDone||c){var l=d(s,r),p=h(t,l,c,r,e.attributesToCollect);i(o.createEvent(p,f.DataType.StringList,l,a(),n))}}function m(t,e,n,r,i){t._isToue,n,r,i){y(i,t,e,n,r)}function E(t,e,n){if(t._isTouchMode)return;var r=u.get(n.target),s=n.relatedTarget;if(!t.beforeSnapshotDone||r||u.get(s)){var c=[n.clientX,n.clientY,n.screenX,n.screenY,n.pageX,n.pageY,r,u.get(s)];e(o.createEvent(c,f.DataType.StringList,!1,a(),i.MOUSE_OVER))}}e.exports=p},{109:109,123:123,33:33,37:37,40:40,43:43,44:44,47:47,6:6,71:71,75:75}],130:[function(t,e,n){var r=t(88),i=t(134),o=t(76),a=t(6).Serializer.Action,s=t(123),u=t(75),c=t(33),d=t(28),f=t(30),h=t(8),l=t(9),p=t(6).Serializer,v=t(114),_=t(110),g=t(104),b=t(57),y=t(115),m=t(43).getTimestamp,w=t(81),Eapply(this,arguments)}O.emittedActions=[a.MUTATION_EVENT];var I=O.prototype;I.observe=function(t,e){var n=t.state.censorshipSettings,r=g.isFeatureEnabled(g.featuresNames.DELAYED_MUTATIONS),o=g.isFeatureEnabled(g.featuresNames.INTERVAL_MUTATIONS),a=this;w.onChange(function(t){S(n,a.nodeMap,t,e,r,m())}),this.observer=new i({rootNode:this.document,supportIntervalMutations:o,callback:function(t,i){S(n,a.nodeMap,t,eobserver.disconnect()};function S(t,e,n,r,i,o){for(var a,s=h.getBuilder(),c=b.reduce(Object.keys(n.attributeChanged).map(function(e){return n.attributeChanged[e].map(function(n){var r=u.get(n);D(n,t);var i=n.getAttribute(e);return null!==i&&(y(i,e)||v(n,e))&&(i=""),[r,e,i]})}),function(t,e){return t.concat(e)},[]),d=R(s,n,e,t,i),f=new Array(n.characterDataChanged.length),l=0,p=n.characterDataChanged.length;l<p;l++){a=n.characterDataChanged[l];var _=T(a,t)||"";!a._unlimitedText&&y(_)&&(_=_.slice(0,1e4)+"..."),f[l]=[u.get(a),_]}var g,m=new Array(n.removed.length);for(l=0,p=n.removed.length;l<p;l++)a=n.removed[l],m[l]=u.get(a),g="IFRAME"===a.tagName,e.remove(a,g),u.unset(a);x(s,o,e,c,d,f,m,r,i)}function D(t,e){f.mark(t,c(t,e))}function T(t,e){return c(t,e)?d.censorString(t.textContent):t.textContent}function N(t){for(var e=new o,n=0,r=t.length;n<r;n++){var i=t[n],a=i.parentNode,s=e.get(a);s||(s=new o,e.set(a,s)),s.set(i,!0)}return e}function M(t,e,n,r,i){var o=c(t,e),a="IFRAME"===t.tagName&&!o,s=n.set(t,t,a);f.mark(t,o);var u=t.cloneNode(!1),d={domNode:u,nodeId:s,previousSiblingId:r,parentNodeId:i,shouldCensor:o};return n.set(u,d),d}function R(t,e,n,i,o){for(var a=e.added.concat(e.reparented,e.reordered),s=N(a),c=new Array(a.length),d=0,f=s.keys(),h=0,l=f.length;h<l;h++)for(var p=f[h],v=s.get(p),_=v.keys();_.length;){var g=_[0];if(!v.has(g)){var b=v.restoreNodeId(g);if(!b){v.remove(g,!1),v.set(g,!0,!1),_=v.keys();continue}}for(;g.previousSibling&&v.has(g.previousSibling);)g=g.previousSibling;for(;g&&v.has(g);){var y,m=g.previousSibling?u.get(g.previousSibling):null,w=g.parentNode?u.get(g.parentNode):null;y=o?M(g,i,n,m,w):r.serializeNodeWithCensorship(t,g,m,w,n,i),c[d++]=y,v.remove(g),g=g.nextSibling}_=v.keys()}return c}function C(t,e,n,r,i,o){return s.createEvent(l.build(t,e,n,r,i),p.DataType.MutationData,!1,o,a.MUTATION_EVENT)}function x(t,e,n,i,o,a,s,u,c){c?_(window,function(){for(var c=new Array(o.length),d=0,f=o.length;d<f;d++){var h=o[d],l=r.serializeNode(t,h.domNode,h.nodeId,h.previousSiblingId,h.parentNodeId,h.shouldCensor,n);c[d]=l}u(C(t,s,c,i,a,e))},{timeout:E}):u(C(t,s,o,i,a,e))}e.exports=O},{104:104,110:110,114:114,115:115,123:123,134:134,28:28,30:30,33:33,43:43,47:47,57:57,6:6,75:75,76:76,8:8,81:81,88:88,9:9}],131:[function(t,e,n){var r={};r[r.STAYED_OUT=0]="STAYED_OUT",r[r.ENTERED=1]="ENTERED",r[r.STAYED_IN=2]="STAYED_IN",r[r.REPARENTED=3]="REPARENTED",r[r.REORDERED=4]="REORDERED",r[r.EXITED=5]="EXITED",e.exports=r},{}],132:[function(t,e,n){var r;r="undefined"!=typeof window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver,e.exports=r},{}],133:[function(t,e,n){var r=tw i,this.moved=void 0}function s(t,e){this.rootNode=t,this.mutations=e,this.calcReordered=!0,this.treeChanges=new r(t,e),this.entered=[],this.exited=[],this.stayedIn=new i,this.visited=new i,this.childListChangeMap=void 0,this.processMutations()}s.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;for(var t=this.treeChanges.keys(),e=0,n=t.length;e<n;e++)this.visitNode(t[e],void 0)},s.prototype.visitNode=function(t,e){if(this.visited.has(t))return;this.visited.set(t,!0);var n=this.treeChanges.get(t),r=e;if((n&&n.childList||void 0==r)&&(r=this.treeChanges.reachabilityChange(t)),r===o.STAYED_OUT)return;if(r===o.ENTERED)this.entered.push(t);else if(r===o.EXITED)this.exited.push(t);else if(r===o.STAYED_IN){var i=o.STAYED_IN;n&&n.childList&&(n.oldParentNode!==t.parentNode?i=o.REPARENTED:this.calcReordered&&this.wasReordered(t)&&(i=o.REORDERED)),this.stayedIn.set(t,i)}if(r===o.STAYED_IN)return;for(var a=t.firstChild;a;a=a.nextSibling)this.visitNode(a,r)},s.prototype.getChanged=function(t){var e=this;this.entered.forEach(function(e){t.added.push(e)});var n=this.stayedIn.keys();n.forEach(function(n){if(t.reparented||t.reordered){var r=e.stayedIn.get(n);t.reparented&&r===o.REPARENTED?t.reparented.push(n):t.reordered&&r===o.REORDERED&&t.reordered.push(n)}(e){t.removed.push(e)})},s.prot);return t.parentNode},s.prototype r.oldPrevious.get(t)},s.probute name.");return r},s.prototype.attributeChangedNodes=function(){if(!this.treeChanges.anyAttributesChanged)return{};for(var t,e={},n=this.treeChanges.keys(),r=0,i=n.length;r<i;r++){var a=n[r],s=this.treeChanges.get(a);if(!s.attributes)continue;if(o.STAYED_IN!==this.treeChanges.reachabilityChange(a))continue;for(var u=a,c=s.getAttributeNamesMutated(),d=0,f=c.length;d<f;d++){var h=c[d];if(t&&!t[h]&&!s.isCaseInsensitive)continue;var l=s.getAttributeOldValue(h);if(l===u.getAttribute(h))continue;e[h]=e[h]||[],e[h].push(u)}}return e},s.prototycharacterDataOldValue},s.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var t=this.treeChanges.keys(),e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(o.STAYED_IN!==this.treeChanges.reachabilityChange(i))continue;var a=this.treeChanges.get(i);if(!a.characterData||i.textContent===a.characterDataOldValue)continue;e.push(i)}return e},s.prototChangeMap.set(t,e)),e},s.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;function t(t,e,n){if(!t||n.oldPrevious.has(t)||n.added.has(t)||n.maybeMoved.has(t))return;if(e&&(n.added.has(e)||n.maybeMoved.has(e)))return;n.oldPrevious.set(t,e)}this.childListChangeMap=new i;for(var e=0;e<this.mutations.length;e++){var n=this.mutations[e];if("childList"!=n.type)continue;if(this.treeChanges.reachabilityChange(n.target)!==o.STAYED_IN)continue;var r,a,s=this.getChildlistChange(n.target),u=n.previousSibling;for(r=0;r<n.removedNodes.length;r++)a=n.removedNodes[r],t(a,u,s),s.added.has(a)?s.added.remove(a):(s.removed.set(a,!0),s.maybeMoved.remove(a)),u=a;for(t(n.nextSibling,u,s),r=0;r<n.addedNodes.length;r++)a=n.addedNodes[r],s.removed.has(a)?(s.removed.remove(a),s.maybeMoved.set(a,!0)):s.added.set(a,!0)}},s.prototype.wasReordered=function(t){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var e=t.parentNode,n=this.treeChanges.get(t);n&&n.oldParentNode&&(e=n.oldParentNode);var r=this.childListChangeMap.get(e);if(!r)return!1;if(r.moved)return r.moved.get(t);r.moved=new i;var o=new i;function a(t){if(!t)return!1;if(!r.maybeMoved.has(t))return!1;var e=r.moved.get(t);if(void 0!==e)return e;return o.has(t)?e=!0:(o.set(t,!0),e=d(t)!==u(t)),o.has(t)?(o.remove(t),r.moved.set(t,e)):e=r.moveSibling),s.g;return c.set(t,e),e}return r.maybeMoved.keys().forEach(a),r.moved.get(t)},e.exports=s},{131:131,137:137,76:76}],134:[function(t,e,n){var r=t(133),i=t(136),o=t(132),a=["added","removed","reordered","reparented","valueChanged","characterDataChanged"],s=t(43).getTimestamp,u=250;function c(t){var e=this;this.connected=!1,this.options=c.validateOptions(t),this.observerOptions=c.createObserverOptions(),this.root=this.options.rootNode,this.callback=this.options.callback,this.calcReordered=!0,this.options.supportIntervalMutations?(this.mutationRecordsQueue=[],this.nextRecordsTimestamp=0,this.processing=!1,window.setInterval(function(){if(!e.processing&&e.mutationRecordsQueue.length>0){e.processing=!0;var t=e.mutationRecordsQueue,n=e.nextRecordsTimestamp;e.mutationRecordsQueue=[],e.nextRecordsTimestamp=0,e.observerCallback(t,n),e.processing=!1}},u),this.observer=new o(function(t){e.nextRecordsTimestamp||(e.nextRecordsTimestamp=s()),e.mutationRecordsQueue=e.mutationRecordsQueue.concat(t)}serverCallback(t,s())}),this.reconnect()}cacterDataOldValue:!0}},c.validateOptions=function(t){for(var e in t)if(!(e in c.optionKeys))throw Error("Invalid option: "+e);if("function"!=typeof t.callback)throw Error("Invalid options: callback is required and must be a function");return{callback:t.callback,rootNode:t.rootNode||document,oldPreviousSibling:!!t.oldPreviousSibling,supportIntervalMutations:t.supportIntervalMutations}},c.prototype.createSummary=function(t){if(!t||!t.length)return[];var e=new r(this.root,t);return new i(e)},c.prototype.changesToReporturn t[e]&&t[e].length}))return!0;if(t.attributeChanged){var e=Object.keys(t.attrbuteChanged[e].length});if(n)return!0}return!1},c.prototype.observerCallback=function(t,e){this.observer.disconnect();var n=this.createSummary(t);this.changesToReport(n)&&this.callback(n,e),this.connected&&this.observer.observe(this.root,this.observerOptions)},c.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0},c.psToReport(t)?t:void 0},c.prototype.disconnect=function(){if(!this.connected)return[];var t=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,t},c.optionKeys={callback:!0,rootNode:!0,oldPreviousSibling:!0,supportIntervalMutations:!0},e.exports=c},{132:132,133:133,136:136,43:43}stanceof HTMLDocument}r.prototype.getAttributeOldValue=function(t){if(!this.attributeOldValues)return;return this.isCaseInsensitive&&(t=t.toLowerCase()),this.attributeOldValues[t]},r.prototype.getAttributeNamesMutated=function(){var t=[];if(!this.attributeOldValues)return t;return Object.keys(this.attributeOldValues)},r.prototype.attributeMutated=function(t,e){if(this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},t in this.attributeOldValues)return;this.attributeOldValues[t]=e},r.prototype.characterDataMutated=function(t){if(this.characterData)return;this.characterData=!0,this.characterDataOldValue=t},r.proto:this.oldParentNode=t},r.prototList=!0,this.added=!0},r. this.node.parentNode},e.exports=r},{}],136:[function(t,e,n){function r(t){this.projection=t,this.added=[],this.removed=[],this.reparented=[],this.reordered=[],t.getChanged(this),this.attributeChanged=t.attributeChangedNodes(),this.characterDataChanged=t.getCharacterDataChanged()}r.prototype.getOldParentNode=function(t){return this.projection.getOldParentNode(t)},r.pro.getOldAttribute(t,e)},r.prototype.getOldCharacterData=function(t){return this.projection.getOldCharacterData(t)},e.exports=r},{}],137:[function(t,e,n){var r=t(76),i=t(135),o=t(131),a=this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r};a(s,r);function s(t,e){var n,i,o=this;r.call(this),this.rootNode=t,this.reachableCache=void 0,this.wasReachableCache=void 0,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var a=0,s=e.length;a<s;a++){var u=e[a];switch(u.type){case"childList":this.anyParentsChanged=!0;for(var c=0,d=u.removedNodes.length;c<d;++c)i=u.removedNodes[c],o.getChange(i).removedFromParent(u.target);for(var f=0,h=u.addedNodes.length;f<h;++f)i=u.addedNodes[f],o.getChange(i).insertedIntoParent(u.target);break;case"attributes":this.anyAttributesChanged=!0,n=this.getChange(u.target),n.attributeMutated(u.attributeName,u.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,n=this.getChange(u.target),n.characterDataMutated(u.oldValue)}}i(t),this.set(t,e)),e},s.Parent():t.parentNode},s.prableCache.set(t,e)),e},s.proableCache.set(t,e)),e},s.prototype.reachabilityChange=function(t){if(this.getIsReachable(t))return this.getWasReachable(t)?o.STAYED_IN:o.ENTERED;return this.getWasReachable(t)?o.EXITED:o.STAYED_OUT},e.exports=s},{131:131,135:135,76:76}],138:[function(t,e,n){var r=t(57),i={INPUT:t(128),WINDOW_CLOSE:t(146),VISIBILITY:t(145),URL:t(142),VIEWPORT:t(144),SCROLL:t(140),MUTATION:t(130),MOUSE_AND_TOUCH:t(129),TEXT_SELECTION:t(141),FOCUS:t(126),VIDEO:t(143),ERROR:t(125),CANVAS:t(124),PAGE_HIDE:t(139)};function o(t,e,n){this.data={window:t,nodeMap:n,element:e},this.observers=[]}o.prototype.getInactiveObservers=function(t){var e=this.observers;reteturn!r.tion(t){return!a(e,t)})},o.prototype.startObservers=function(t,e,n){var r=this.data,i=this.observers;e.forEach(function(e){var o=new e(r);o.observe(t,n),i.push(o)})};function return t instanceof e})}o.prototype.stop=function(){this.isObservedWindowClosed()||connect(),t.cleanUp()}),this.observers=void 0},o.prototetDomsnapshotDone()})},o.prototype.isObservedWindowClosed=function(){try{return this.data.window.document,this.data.window.closed||!this.data.window.addEventListener}catch(t){return!0}},o.OBSERVERS=i,e.exports=o},{124:124,125:125,126:126,128:128,129:129,130:130,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,57:57}],139:[function(t,e,n){var r=t(123);t(47).extend(i,r);function i(){return i.__super__.constructor.apply(this,arguments)}i.emittedActions=[],i.prototype.observe=function(t,e){return this._onPageHide=function(e){o(e,t)},this.window.addEventListener("pagehide",this._onPageHide,!0)},i.prototype.disconnect=function(){return this.window.removeEventListener("pagehide",this._onPageHide,!0)};function o(t,e){try{e.flush(e)}catch(n){e&&e.state&&e.state.eventsQueue&&e.state.eventsQueue.length&&e.state.eventsQueue.splice(0,e.state.eventsQueue.length),window.JacoRecorder?window.JacoRecorder.logOurError(new Error("pagehide error"),{eventType:t.type}):""}}e.exports=i},{123:123,47:47}],140:[function(t,e,n){var r=t(71).throttle,i=t(6).Serializer.Action,o=t(123),a=t(43).getTimestamp,s=t(75),u=t(6).Serializer;t(47).extend(c,o);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[i.SCROLL],c.prototype.observe=function(t,e){var n=this;this._onDocumentChange=function(t){d(t,n,e)},this._onWindowChange=function(t){f(t,n,e)},this._throttledOnWindowChange=r(this._onWindowChange,100),this._throttledOnDocumentChange=r(this._onDocumentChange,100),this.window.document.documentElement.addEventListener("scroll",this._throttledOnDocumentChange,!0),this.window.addEventListener("scroll",this._throttledOnWindowChange,!0)},c.prototype.disconnect=function(){this.window.document.documentElement.removeEventListener("scroll",this._throttledOnDocumentChange,!0),this.window.removeEventListener("scroll",this._throttledOnWindowChange,!0)};function d(t,e,n){var r=a(),c=s.get(t.target);if(!e.beforeSnapshotDone||c){var d=t.target.scrollLeft,f=t.target.scrollTop;n(o.createEvent([d,f,c],u.DataType.StringList,!1,r,i.SCROLL))}}function f(t,e,n){var r=a(),c=e.window.document.body,d=s.get(c),f=0,h=0;e.beforeSnapshotDone&&!d||("pageXOffset"in e.window?(f=e.window.pageXOffset,h=e.window.pageYOffset):(f=e.rootElement.body.scrollLeft,h=e.rootElement.body.scrollTop),n(o.createEvent([f,h,d],u.DataType.StringList,!1,r,i.SCROLL)))}e.exports=c},{123:123,43:43,47:47,6:6,71:71,75:75}],141:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(43).getTimestamp,a=t(109),s=t(75),u=t(6).Serializer;t(47).extend(c,i);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[r.SELECTION],c.prototype.observe=function(t,e){var n=this;return this._onChange=function(){d(n,e)},this.window.document.addEventListener("selectionchange",this._onChange,!0)},c.prototype.disconnect=function(){return this.window.document.removeEventListener("selectionchange",this._onChange,!0)};function d(t,e){try{var n="function"==typeof t.document.getSelection&&t.document.getSelection();if(!n)return;var c,d;if(c=s.get(n.anchorNode),d=s.get(n.focusNode),!t.beforeSnapshotDone||c||d){var f=[c,n.anchorOffset,d,n.focusOffset];e(i.createEvent(f,u.DataType.StringList,!1,o(),r.SELECTION))}}catch(h){return void a(t.state,h,{})}}e.exports=c},{109:109,123:123,
43:43,47:47,6:6,75:75}],142:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(43).getTimestamp,a=t(29),s=t(6).Serializer;t(47).extend(u,i);function u(){return u.__super__.constructor.apply(this,arguments)}u.emittedActions=[r.URL_CHANGED],u.prototype.observe=function(t,e){var n=this,r=t.state.censorshipSettings;return this._onHashChange=function(t){d(t,r,n,e)}t,i,o){c(t,i,o,r,n,e)},this.lastUrl=a(location.href,r.urlRegex,r.urlReplaceText),history.pushState&&(this.window.addEventListener("popstate",this._onHistoryChange,!0),this.oldPushState=history.pushState,history.pushState=function(){n.oldPushState.apply(this,arguments),n._onHistoryChange.apply(n,arguments)},this.oldReplaceState=history.replaceState,history.replaceState=function(){n.oldReplaceState.apply(this,arguments),n._onHistoryChange.apply(n,arguments)}),this.window.addEventListener("hashchange",this._onHashChange,!0)},u.prototype.disconnect=function(){return history.pushState=this.oldPushState,history.replaceState=this.oldReplaceState,this.window.removeEventListener("popstate",this._onHistoryChange,!0),this.window.removeEventListener("hashchange",this._onHashChange,!0)};function c(t,e,n,i,s,u){var c=a(location.href,i.urlRegex,i.urlReplaceText);return s.lastUrl!==c&&(u(f([s.lastUrl,c],!1,o(),r.URL_CHANGED)),s.lastUrl=c),s}function d(t,e,n,i){var s=a(location.href,e.urlRegex,e.urlReplaceText),u=[n.lastUrl,s];i(f(u,!1,o(),r.URL_CHANGED)),n.lastUrl=s}function f(t,e,n,r){return i.createEvent(t,s.DataType.StringList,e,n,r)}e.exports=u},{123:123,29:29,43:43,47:47,6:6}],143:[function(t,e,n){var r=t(6).Serializer.Action,i=t(71).throttle,o=t(123),a=t(43).getTimestamp,s=t(75),u=t(6).Serializer;t(47).extend(c,o);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[r.VIDEO_PLAY,r.VIDEO_PAUSE,r.VIDEO_TIME_UPDATE,r.VIDEO_VOLUME_CHANGE],c.prototype.observe=function(t,e){var n=this;this._onPlay=function(t){d(t,n,e)},this._onPause=function(t){f(t,n,e)},this._onTimeupdate=i(function(t){h(t,n,e)},200),this._onVolumechange=function(t){l(t,n,e)},this.window.addEventListener("play",this._onPlay,!0),this.window.addEventListener("pause",this._onPause,!0),this.window.addEventListener("timeupdate",this._onTimeupdate,!0),this.window.addEventListener("volumechange",this._onVolumechange,!0)},c.prototype.disconnect=function(){this.window.removeEventListener("play",this._onPlay,!0),this.window.removeEventListener("pause",this._onPause,!0),this.window.removeEventListener("timeupdate",this._onTimeupdate,!0),this.window.removeEventListener("volumechange",this._onVolumechange,!0)};function d(t,e,n){return p(t,e.beforeSnapshotDone,r.VIDEO_PLAY,n)}function f(t,e,n){return p(t,e.beforeSnapshotDone,r.VIDEO_PAUSE,n)}function h(t,e,n){return p(t,e.beforeSnapshotDone,r.VIDEO_TIME_UPDATE,n)}function l(t,e,n){return p(t,e.beforeSnapshotDone,r.VIDEO_VOLUME_CHANGE,n)}function p(t,e,n,r){var i=a(),c=s.get(t.target);if(!e||c){var d=[c,t.target.currentTime,t.target.volume];r(o.createEvent(d,u.DataType.StringList,!1,i,n))}}e.exports=c},{123:123,43:43,47:47,6:6,71:71,75:75}],144:[function(t,e,n){var r=t(35).debounce,i=t(6).Serializer.Action,o=t(123),a=t(43).getTimestamp,s=t(6).Serializer,u=t(109);t(47).extend(f,o);function c(t){return t.innerWidth}function d(t){return t.innerHeight}function f(){return f.__super__.constructor.apply(this,arguments)}f.emittedActions=[i.VIEWPORT_CHANGED],f.prototype.observe=function(t,e){var n=this;this.state=t.state,this.windowX=this.windowY=0,this._onChange=r(function(t){h(t,n,e)},500),this.window.addEventListener("resize",this._onChange,!0)},f.prototype.disconnect=function(){this.window.removeEventListener("resize",this._onChange,!0)};function h(t,e,n){var r,f;try{r=c(e.window),f=d(e.window)}catch(h){return void("object expected"===h.message.toLowerCase()&&"permission denied"===h.message.toLowerCase()||u(e.state,h,{}))}var l=[e.windowX,e.windowY,r,f];n(o.createEvent(l,s.DataType.StringList,!1,a(),i.VIEWPORT_CHANGED))}e.exports=f},{109:109,123:123,35:35,43:43,47:47,6:6}],145:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(43).getTimestamp,a=t(6).Serializer;t(47).extend(s,i);function s(){return s.__super__.constructor.apply(this,arguments)}s.emittedActions=[r.VISIBILITY],s.prototype.observe=function(t,e){var n=this;this._onVisibilityChanged=function(t){u(n,e)},"undefined"!=typeof this.document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof this.document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.window.document.addEventListener(this.visibilityChange,this._onVisibilityChanged,!1)},s.prototype.disconnect=function(){this.window.document.removeEventListener(this.visibilityChange,this._onVisibilityChanged,!1)};function u(t,e){e(i.createEvent([!t.document[t.hidden]],a.DataType.StringList,!1,o(),r.VISIBILITY))}e.exports=s},{123:123,43:43,47:47,6:6}],146:[function(t,e,n){var r=t(123),i=t(43).getTimestamp,o=t(6).Serializer,a=t(6).Serializer.Action;t(47).extend(s,r);function s(){return s.__super__.constructor.apply(this,arguments)}s.emittedActions=[a.WINDOW_CLOSE],s.prototype.observe=function(t,e){this._onUnload=function(){u(e)},this.window.addEventListener("beforeunload",this._onUnload,!1)},s.prototype.disconnect=function(){this.window.removeEventListener("beforeunload",this._onUnload,!1)};function u(t){t(r.createEvent([],o.DataType.StringList,!1,i(),a.WINDOW_CLOSE))}e.exports=s},{123:123,43:43,47:47,6:6}],147:[function(t,e,n){"use strict";var r=t(8),i=t(6).Serializer,o=t(88),a=i.Action,s=t(103),u=t(29),c=t(43).getTimestamp,d=t(105);function f(){}f.newPageEvents=function(t,e,n,r,i){var o=[p(n,t.urlRegex,t.urlReplaceText,c())];return e.indexOf(a.PAGE_SNAPSHOT_EVENTS)<0&&(o.push(_(n,c())),o.push(h(r,i,t,c())),o.push(v(n,c()))),o};function h(t,e,n,o){d.notifyReady();var u=r.getBuilder(),c=l(u,t,e,n);return s({offset:c,builder:u},i.DataType.Serializer_DOMNode,!1,o,a.DOM_SNAPSHOT)}function l(t,e,n,r){return e.clear(),o.serializeSubTree(t,n,null,null,e,r)}function p(t,e,n,r){var o=u(t.location.href,e,n),c=[null,o];return s(c,i.DataType.StringList,!1,r,a.URL_CHANGED)}function v(t,e){var n=[t.scrollX,t.scrollY,null];return s(n,i.DataType.StringList,!1,e,a.SCROLL)}function _(t,e){var n=[t.screenLeft-t.screen.availLeft,t.screenTop-t.screen.availTop,t.innerWidth,t.innerHeight];return s(n,i.DataType.StringList,!1,e,a.VIEWPORT_CHANGED)}e.exports=f},{103:103,105:105,29:29,43:43,6:6,8:8,88:88}],148:[function(t,e,n){function r(){this.__timeoutID=null,this.__lastBatchTimeInMS=0}function i(t,e,n){e.pollingIntervalInMS=void 0!==e.pollingIntervalInMS?e.pollingIntervalInMS:500,e.timeoutInMS=void 0!=e.timeoutInMS?e.timeoutInMS:2e3,e.batchSize=void 0!=e.batchSize?e.batchSize:50,this.__timeoutID&&clearTimeout(this.__timeoutID),this.__lastBatchTimeInMS=performance.now(),this.pollQueue(t,e,n)}Object.defineProperty(r.prototype,"watch",{valuthis.__timeoutID=null},r.prototype.pollQueue=function(t,e,n){var r=!1;if(o(t,e.batchSize)||a(this.__lastBatchTimeInMS,e.timeoutInMS)){var i=s(t,e.batchSize);if(this.__lastBatchTimeInMS=performance.now(),i.length>0){r=!0;var c=this;n(i,function(){u(t,i.length),c.scheduleNextIteration(t,e,n)})}}r||this.scheduleNextIteration(t,e,n)} t.splice(0,t.length)},r.prototype.scheduleNextIteration=function(t,e,n){var r=this;clearTimeout(this.__timeoutID),this.(){r.pollQueue(t,e,n)},ee){return t.length>=e}function a(t,e){return 0!=t&&performance.now()-t>e}function s(t,{return t.splice(0,e)}e.exports=r},{}],149:[function(t,e,n){var r=t(6).Serializer,i=t(6).Serializer.Action,o=t(43).getTimestamp,a=t(103);function s(t){return t.timestamp?1e3*t.timestamp:o()}function u(t,e,n,i){var o=a(n,r.DataType.StringList,!1,i,e);t.handleManualEvent(o)}function c(t,e,n){var r=s(n),o=[e,JSON.stringify(n)];u(t,i.CUSTOM_EVENT,o,r)}function d(t,e){var n=s(e),r=[JSON.stringify(e)];u(t,i.IDENTIFY,r,n)}function f(t){u(t,i.CLOSE_SESSION,["{}"],o())}e.exports={recordCustomEvent:c,recordIdentifyEvent:d,recordCloseSession:f}},{103:103,43:43,6:6}],150:[function(t,e,n){var r=t(22),i=t(162),o=t(6),a=t(50),s=t(32).isRestrictedHostname,u=t(94);function c(t,e,n){this.config={},this.__state=d(t,e,n),this.state=this.__state.client.state}c.prototype.ACTIONS=o.Serializer.Action,c.prototype.__VERSION=i,c.prototype.push=function(){for(var t=Array.prototype.slice.call(arguments),e=0;e<t.length;e++){var n=t[e];if(void 0===this[n[0]]){var r="string"==typeof n[0]?n[0].substring(0,100):"";this.logOurError(new Error("Unsupported function: JacoRecorder.push"),{functionName:r})}else this[n[0]].apply(this,n.slice(1))}return apply(this,arguments)},c.prototype.init=function(t,e,n){try{e instanceof Function&&(n=e,e={}),n=n||l;var i=u();if(s(e.environmentSettings,i))return n("Init: Blocked domain");var o=/^([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})|(.*__\d+)$/i;if(r(t)&&!t.match(o))return n("Init: Invalid API Key, expected 'String' UUID or {guid}__{envId}, received "+Object.prototype.toString.call(t));if(this.__state.initCalled)return this;return this.__state.initCalled=!0,e=e?e:{},this.__state.initConfig=e,this.__state.client.init(this.__state.client,t,e,n),this}catch(a){return this.logOurError(a),!1}},c.prototype.identify=function(t,e){try{var n=h(this,this.state.apiToken,t,e||l);this.__state.client.identify(this.__state.client,t,this.__state.initCalled,n)}catch(r){return this.logOurError(r),!1}},c.prototype.trackEvent=function(t,e,n){try{var r=n||l;this.__state.client.trackEvent(this.__state.client,t,e,this.__state.initCalled,r)}catch(i){return this.logOurError(i),!1}},c.prototype.removeUserTracking=function(t){try{return this.__state.client.removeUserTracking(this.__state.client,f(this,this.__state.windowObject,this.__state.rootElement,this.__state.ClientObject,t)),this}catch(e){return this.logOurError(e),!1}},c.prototype.startRecording=function(){return this.__state.client.startRecording(this.__state.client),this},c.prototype.stopRecording=function(){try{return this.__state.client.stopRecording(this.__state.client),this}catch(t){return this.logOurError(t),!1}},c.prototype.runQueuedMethods_=function(t){for(;t.length;){var e=t.shift();this.push(e)}},c.prototype.logOurError=function(t,e){try{this.__state.client.logOurError(this.__state.client,t,e)}catch(n){return!1}},c.prototype.startPlaybackRecording=function(t){t=t||function(){};try{this.__state.initConfig.isProcessingManualStart=!0,this.__state.client.startPlaybackRecording(this.__state.client,t)}catch(e){return this.logOurError(e),!1}};function d(t,e,n,r){return{windowObject:t,rootElement:e,ClientObject:n,client:new n(t,e),initCalled:!1,initConfig:r}}function f(t,e,n,r,i){return function(){t.__state=d(e,n,r,t.__state.initConfig),t.state=t.__state.client.state,i instanceof Function&&i()}}function h(t,e,n,i){return function(o){if(o&&r(o.message)&&o.message.indexOf("Already identified")>-1)return t.removeUserTracking(function(){return t.init(e,t.__state.initConfig,function(){return t.__state.client.identify(t.__state.client,n,t.__state.ition l(t){t&&a.log(t)}e.exports=c},{162:162,22:22,32:32,50:50,6:6,94:94}],151:[function(t,e,n){var r=t(76),i=t(138),o=t(120),a=t(152),s=t(158),u=t(153),c=t(109),d=t(108),f=t(66),h=t(99),l=t(156),p=t(157),v=t(154),_=t(70).get,g=t(155),b=t(148),y=t(8),m=t(43).getTimestamp,w=t(147),E=t(127),O=t(95)(window),I=t(57),S=t(160),D=t(11),T=t(160).getIFrameId,N=t(122),M=t(6).Serializer.Action,R=t(68),C=t(101),x=t(46).generateRandomGUID,A=t(105),L=t(149).recordCloseSession,k=22,P=1014,U="access is denied";function B(t,e){this.state={mainFrame:{window:t,windowId:S.getWindowId(),rootElement:e},eventsQueue:[],eventsQueueWatcher:new b,isInitialized:!1,isRecording:!1,waitingForInit:[],apiToken:null,uid:null,worker:null,lastBatchTime:m(),observerManagers:{},crossOriginWindowsToIFrameIdMap:new O,iframeStates:{}}}B.prototype.init=u,B.prototype.identify=a,B.prototype.trackEvent=s,B.prototype.startRecording=l,B.prototype.stopRecording=p,B.prototype.removeUserTracking=v,B.prototype.startPlaybackRecording=g,B.prototype.flush=st,B.prototype.handleManualEvent=nt,B.prototype.logOurError=vt,B.prototype.newPageEvent=Y,B.prototype.closeSession=J,B.prototype.__observeWindow=W,B.prototype.__onInitDone=j,B.prototype.__onWorkerError=pt,B.prototype.__startQueueWatchers=F,B.prototype.__updateUntrackedEvents=G;function F(t){t.state.eventsQueueWatcher.watch(t.state.eventsQueue,{timeoutInMS:3e3,batchSize:50},function(e,n){if(!t.state.isInie){e?c(t.state,e):n()})})}function V(t,e){e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n].asUint8Array();t.state.eventsQueue.push(r)}}function j(t,e,n){try{R.reset(),t.state.session={id:t.state.sessionId,startTime:Date.now()};var r=t.state.identityStorage.getUid();r&&"undefined"!==r||(r=x(),t.state.identityStorage.setUid(r)),t.state.uid=r,t.state.censorshipSettings=C(t.state.config.environmentSettings),t.state.isInitialized=!0,t.state.initResponse=e;var i=[];t.state.untrackedEvents=i.map(D),t.state.providedId=t.state.identityStorage.getProvidedId(t.state.apiToken),dt(t),t.startRecording(t);var o={id:t.state.session.id,startTime:t.state.session.startTime,sessionUrl:_(t.state.session.id),providedId:t.state.providedId};n(null,o),z(t),t.state.e){e[0].apply(t,e[1])}),t.state.waitingForInit=[],h.removeReferer()}catch(a){c(t.state,a)}}function z(t){t.state.mainFrame.window.addEventListener("message",function(e){if("request-init-cross-origin-iframe"===e.data.type){var n=e.source,r=t.state.crossOriginWindowsToIFrameIdMap.get(n);r&&H(t,n,r)}})}function H(t,e,n){var r={type:"init-cross-origin-iframe",data:{initResponse:t.state.initResponse,iframeId:n,parentWindowId:t.state.mainFram{e.postMessage(r,"*")})}function W(t,e){var n=new r;e.nodeMap=n;var a=E(t.state.untrackedEvents);e.parentWindowId&&a.push(i.OBSERVERS.PAGE_HIDE);var s=new i(e.window,e.rootElement,n),u=s.getInactiveObservers(a);if(s.startObservers(t,u,f(tt,t,e)),t.state.untrackedEvents.indexOf(M.URL_CHANGED)<0){var c=rt(t,e);c.forEach(f(tt,t,e))}s.setDomSnapshotDone(),t.state.observerManagers[e.windowId]=(n){q(t,n,e.winded:function(e){K(t,e)}},h=new o(t,d,e.rootElement);h.startDetectingIframes(),e.iframeDetector=h}function Y(t){t||(t=this.state.mainFrame);var e=rt(this,t);e.forEach(f(tt,this,t))}function J(t){L(this),ut(this,t)}function G(t,e){var n=I.areArraysEqual(t.state.untrackedEvents,e);if(n)return;t.state.untrackedEvents=e,t.state.initResponse.settings.untrackedEvents=e;var r=t.state.observerManagers;Object.keys(r).forEach(function(n){var r,o=t.state.observerManagers[n],a=e;t.state.mainFrame.windowId===n?r=t.state.mainFrame:(a=a.concat([i.OBSERVERS.PAGE_HIDE]),r=t.state.iframeStates[n]);var s=rt(t,r);s.shift(-1),s.forEach(f(tt,t,r));var u=o.getInactiveObservers(a);o.startObservers(t,u,f(tt,t,r))})}function q(t,e,n){if(n!==t.state.mainFrame.windowId)return;var r;e.__JACO_IFRAME_ID?r=e.__JACO_IFRAME_ID:(r=T(),e.__JACO_IFRAME_ID=r);var i=!$(e),o=!i&&X(e),a=i&&Z(e)||o;a&&Q(t,e,n),e.addEventListener("load",function(){if(!Z(e))return;var r=t.state.crossOriginWindowsToIFrameIdMap.has(e.contentWindow),i=$(e)&&e.contentWindow.__JACO_IFRAME_OBSERVED,o=r||i;o||Q(t,e,n)})}function Q(t,e,n){var r=e.__JACO_IFRAME_ID,i={windowId:r,parentWindowId:n,window:e.contentWindow};t.state.iframeStates[r]=i,$(e)?(e.contentWindow.__JACO_IFRAME_OBSERVED=!0,e.contentWindow.JacoRecorder=t.state.mainFrame.window.JacoRecorder,i.rootElement=e.contentDocument,W(t,i)):(i.isCrossOrigin=!0,t.state.crossOriginWindowsToIFrameIdMap.set(e.contentWindow,r),H(t,e.contentWindow,r))}function K(t,e){var n=e.__JACO_IFRAME_ID;if(t.state.observerManagers[n]&&(t.state.observerManagers[n].stop(),delete t.state.observerManagers[n]),t.state.iframeStates[n]){var r=t.state.iframeStates[n];t.state.crossOriginWindowsToIFrameIdMap["delete"](r.window),r.nodeMap&&r.nodeMap.clear(),delete t.state.iframeStates[n]}}function X(t){return t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement&&"about:blank"!=t.contentWindow.location.href}function Z(t){return t.contentWindow}function $(t){try{var e=t.contentDocument||t.contentWindow.document}catch(n){return!1}return!!e}function tt(t,e,n){if(window._testhook&&window._testhook("NewEvent",n),et(t,n.action)){var r=y.build(n,e.windowId,e.parentWindowId);V(t,r),t.state.onEventHandled&&t.state.onEventHandled(n)}}function et(t,e){if(t.state.untrackedEvents.indexOf(e)>-1)return!1;return!0}function nt(t){var e=this.state.mainFrame.windowId,n=y.build(t,e,null);V(this,n)}function rt(t,e){return w.newPageEvents(t.state.censorshipSettings,t.state.untrackedEvents,e.window,e.nodeMap,e.rootElement)}function it(t,e,n){var r=ot(t,e);at(t,r,n)}function ot(t,e){var n=m(),r=n-t.state.lastBatchTime;return t.state.lastBatchTime=n,{uid:t.state.uid,sessionId:t.state.session.id,apiToken:t.state.apiToken,sessionStartTime:t.state.session.startTime.toString(),eventsUint8Array:e,baessageToServer(t,e,n)}function st(t){var e=t.state.eventsQueueWatcher.flushSync(t.state.eventsQueue).filter(ct);if(e.length>0){var n=ot(t,e),r=ft(n);try{window.localStorage.setItem("__jaco."+m(),r)}catch(i){var o={};i.code===k||i.code===P||i.message.toLowerCase().indexOf(U)>-1||c(t.state,i,o),N.sendMessageToServer(t,n)}}}function ut(t,e){var n=t.state.eventsQueueWatcher.flushSync(t.state.eventsQueue).filter(ct)t.buffer.byteLength>0}function dt(t){Object.keys(localStorage).forEach(function(e){if("__jaco"===e.split(".")[0]){var n=localStorage.getItem(e);if(localStorage.removeItem(e),n){var r=lt(n);N.sendMessageToServer(t,r)}}})}function ft(t){return JSON.stringify(t,function(t,e){if("eventsUint8Array"===t)retur++)e[n]=t[n];return e}function lt(t){return JSON.parse(t,function(t,e){if("eventsUint8Aurn new Uintt(t,e,n){c(e.state,n)}function vt(t,e,n){d(t.state,e,{extraInformation:n})}e.exports=B},{101:101,105:105,108:108,109:109,11:11,120:120,122:122,127:127,138:138,147:147,148:148,149:149,152:152,153:153,154:154,155:155,156:156,157:157,158:158,160:160,43:43,46:46,57:57,6:6,66:66,68:68,70:70,76:76,8:8,95:95,99:99}],152:[function(t,e,n){var r=t(22),i=t(149).recordIdentifyEvent;e.exports=function(t,e,n,o){var a,s=t.state.identityStorage.getProvidedId(t.state.apiToken),u=r(e),c=""+e,d=null==e;if(d&&s)a="Identify: Already identified with "+s;else{if(d)return o();u?c.length<1||c.length>100?a="Identify: user id should be between 1 and 100 characters":n?s&&s!==c&&(a="Identify: Already identified with "+s):a="Identify: Please call init before calling identify":a="Identify: invalid user id, expected 'String', received "+Object.prototype.toString.call(e)}var f={isString:""+u,userId:""+e,oldId:""+s,errorMessage:""+a};if(d||i(t,f),a){var h=new Error(a);return o(h)}return t.state.identityStorage.setProvidedId(e,t.state.apiToken),o()}},{149:149,22:22}],153:[function(t,e,n){var r=t(46).generateRandomGUID,i=t(45).getWmUid,o=t(113),a=t(108),s=t(1),u=t(99),c=t(122),d=t(50),f=t(32).isRestrictedIp,h=t(118),l=t(117),p=treturn 403===t.status}e.exports=function(t,e,n,a){var c=r();t.state.apiToken=e,t.state.identityStorage=n.identityStorage||u,t.state.config=n,t.state.sessionId=n.sessionId,p.clearReadyFlag();var d=function(t){a.apply(this,arguments),t||window._walkmeInternals.ctx.get("EventsTrigger").sync("VisionsRecorder:RecordingStarted")};if(n.crossOriginIFrame)b(t,n,d);else{var f={sId:t.state.sessionId,wm:{uId:i()}},h=JSON.stringify(f);function l(e,n,r){_.set(n,t.state.sessionId),m(e,n,{client:t,retryCount:r,initRequestId:c},d)}if(w(n)&&!n.isProcessingManualStart)return void d("Init aborted: waiting for manual start command");var v=_.get(t.state.sessionId);if(v)return void m(null,v,{client:t,retryCount:0,initRequestId:c},d);o(s.init,h,{shouldDisableRetryPredicate:g,rapiUrl:n.rapiUrl},l)}};function b(t,e,n){var r=e.allowedOrigin||"*";t.state.mainFrame.window.parent.postMessage({type:"request-init-cross-origin-iframe"},r),t.state.mainFrame.window.addEventListener("message",function(e){if("*"!==r&&e.origin!==r)return;var i=e.data.data,o=e.data.type;if("init-cross-origin-iframe"===o)t.state.mainFrame.windowId=i.iframeId,t.state.mainFrame.parentWindowId=i.parentWindowId,y(t),t.__onInitDone(t,i.initResponse,n);else if("start-playback-recording-corss-origin-iframe"===o){var a=i.untrackedEvents;t.__updateUntrackedEvents(t,a)}})}function y(t){r(t.state.worker,t,e)})}function m(t,e,n,r){var i,o=n.client,s=n.retryCount,u=n.initRequestId;if(t&&403===t.status)i="JacoRecorder: you're unauthorized to record this domain",r(new Error(i)),d.log(i);else if(t)a(o.state,t,{extraInformation:{errMessage:"failed to init session and retry stopped",retryCount:s,initRequestId:u}}),r(t);else{var c=JSON.parse(e);if(c.error)return r(c.error);if(c.throttling===!0)return i="JacoRecorder: Rate limit exceeded",r(i);var p=c.env&&c.env.ip;if(!p)return r("Init: Missing IP address");try{if(f(o.state.config.environmentSettings,p))return r("Init: Blocked IP address")}catch(t){return a(o.state,t,{extraInformation:{errMessage:"failed to check IP restriction rules",initRequestId:u}}),r("Init: Blocked IP address")}s>0&&a(o.state,new Error("init started with retries"),{extraInformation:{errMessage:"init started with retries",retryCount:s,initRequestId:u}}),h.startUbtSync();var _=h.getUbtStatus();if(!_.shouldRecord)return _.isManual||l.setSuspended(!0),r("Can not start recording because UBT is not recording");y(o),o.__onInitDone(o,c,r=e.visionsLoadingMode}},{1:1,100:100,105:105,108:108,113:113,117:117,118:118,122:122,32:32,45:45,46:46,50:50,69:69,99:99}],154:[funopRecording(t,r(e,t))};function r(t,e){return function(){e.state.identityStorage.removeUid(),e.state.identityStorage.removeProvidedId(e.state.apiToken),t()}}},{}],155:[function(t,e,n){var r=t(153),i=t(52),o=t(117),a=t(118);e.exports=function(t,e){var n=a.getUbtStatus();if(!n.shouldRecord)throw window.JacoRecorder&&window.JacoRecorder.logOurError(new Error("Attempt to start Visions Recorder while DXA is not recording")),new Error("Can not start Visions Recorder because DXA is not recording.");var s=i({},t.state.config,{isProcessingManualStart:!0}),u=t.state.apiToken;r(t,u,s,e),o.setSuspended(!1)}},{117:117,118:118,153:153,52:52}],156:[function(t,e,n){var r=t(159);e.exports=function(t){return r(t,i)};function i(t){if(window._testhook&&window._testhook("RecordingStarted",t),t.state.isRecording)return t.__startQueueWatchers(t),this;t.state.isRecording=!0,t.__startQueueWatchers(t),t.__observeWindow(t,t.state.mainFrame)}},{159:159}],157:[function(t,e,n){var r=t(159),i=t(117);e.exports=function(t,e){return i.setSuspended(!1),r(t,o(e))};function o(t){return function(e){if(e.state.isRecording){e.state.isRecording=!1;for(var n in e.state.observerManagers){var r=e.state.observerManagers[n];r.stop()}e.state.mainFrame.iframeDetector.disconnect()}if(t instanceof Function)return t()}}},{117:117,159:159}],158:[function(t,e,n){var r=t(22),i=t(149).recordCustomEvent,o=t(119),a=t(109),s=t(108);e.exports=function(t,e,n,u,c){var d,f,h,l=""+e,p="TrackEvent: track failed - ";if(u?r(e)?l.length<1?d=p+"event name can't be empty":l.length>200?d=p+"event name's length should be no longer than 200 characters":n&&"[object Object]"!==Object.prototype.toString.call(n)?d=p+"event's properties are optional but if passed - must be an object":n&&Object.keys(n).length>500?d=p+"event can have up to 500 data parameters":(h=o(n),f=h.warning,h.error&&(d=p+h.error)):d=p+"event name must be a string":d=p+"please call init before calling trackEvent",d){var v=new Error(d);return v.requestBody=JSON.stringify(n),a(t.state,v),s(t.state,v),c(v)}return i(t,l,h.validatedData),f?c(new Error(f)):c()}},{108:108,109:109,119:119,149:149,22:22}],159:[function(t,e,n){var r=t(109);e.exports=function(t,e,n){if(t.state.isInitialized)return e.apply(t,[t]);n?r(t.state,new Error(e+" called before init, illegal")):t.state.waitingForInit.push([e,[t]])}},{109:109}],160:[function(t,e,n){var r,i=t(46).generateRandomGUID,o=window.sessionStorage,a="__jacoWindowId",s="__jacoUsedWindowId_";function u(){if(r)return r;var t=d();return t&&!p(t)||(t=i(),f(t)),h(t),window.addEventListener("beforeunload",fction f(t){_(o,a,t)}function h(t){var e=v(tStorage.removeItem(e)}function p(t){var e=v(t);return!!localStorage.getItem(e)}function v(t){return s+"__"+t}function _(t,e,n){try{t.setItem(e,n)}catch(r){return!1}return!0}n.getWindowId=u,n.getIFrameId=c},{46:46}],161:[function(t,e,n){var r=t(46).generateRandomGUID,i=t(73),o=t(8),a=t(11),s=t(104),u=["customEvent","mouseClick","input","url","error"],c={};function d(e){var n=i(t(98));return n.addEventListener("message",function(t){var e=t.data.messageId,n=t.data.error;h(e)&&(l(n,e),delete c[e])}),n.addEventListener("error",e),n}function f(t,e,n,i,o){var a=r();c[a]=o,t.postMessage({command:e,paion h(t){return!!c[t]}function l(t,e){var n=c[e];n(t)}function p(t,e,n,r,i){var o=s.isFeatureEnabled(s.featuresNames.NO_TRANSFERABLE_LIST),a=o?[]:e.eventsUint8Array.filter(v).map(function(t){return t.buffer});f(t.state.worker,"sendMessage",[e,n,r],a,i)}function v(t){var e=o.fromBuffer(t).action(),n=a(e);return u.indexOf(n)===-1}e.exports={start:d,sendToWorker:f,sendMessage:p}},{104:104,11:11,46:46,n){e.exports="2.0.17"},unction(){return this}())}])});