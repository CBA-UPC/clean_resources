"use strict";(self.webpackChunkphotobucket_web=self.webpackChunkphotobucket_web||[]).push([[4472],{23457:function(e,t,i){i.d(t,{Z:function(){return n}});var r=i(46417);function n(e){var t=e.width,i=e.height;return(0,r.jsx)("svg",{viewBox:"0 0 191 120",width:t,height:i,children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsxs)("g",{transform:"translate(38.136)",children:[(0,r.jsx)("rect",{stroke:"#333",strokeWidth:2.105,x:1.053,y:1.053,width:130.267,height:91.826,rx:6.537}),(0,r.jsx)("path",{stroke:"#333",strokeWidth:2.105,d:"M56.563 92.982h19.245v25.647H56.563z"}),(0,r.jsx)("path",{fill:"#333",d:"M38.404 117.895h55.511V120H38.404zM0 78.622h132.372v2.105H0z"})]}),(0,r.jsxs)("g",{transform:"translate(151.714 55.564)",children:[(0,r.jsx)("rect",{stroke:"#333",strokeWidth:2.105,x:1.053,y:1.053,width:36.299,height:61.629,rx:3.268}),(0,r.jsx)("path",{fill:"#333",d:"M1.067 8.498h36.271v2.105H1.067zM1.634 50.661h36.271v2.105H1.634z"}),(0,r.jsx)("rect",{fill:"#333",x:13.868,y:55.564,width:10.668,height:2.105,rx:1.053})]}),(0,r.jsxs)("g",{transform:"translate(3 70.272)",children:[(0,r.jsx)("path",{d:"M35.454-1.053H22.56c-2.877 0-4.999.863-6.427 2.471-1.232 1.387-1.964 3.373-2.116 5.998h-15.07v40.212h60.12V7.416H43.997c-.152-2.625-.884-4.611-2.116-5.998-1.428-1.608-3.55-2.47-6.427-2.47z",stroke:"#333",strokeWidth:2.105}),(0,r.jsx)("ellipse",{stroke:"#333",strokeWidth:2.105,cx:29.007,cy:27.522,rx:11.796,ry:11.638}),(0,r.jsx)("circle",{fill:"#333",cx:7.477,cy:14.808,r:2.105})]})]})})}n.defaultProps={width:191,height:120}},46171:function(e,t,i){i.d(t,{Z:);var r=i(11149),n=i(76391),s=i(33594),o=i(15861),a=i(1413),l=i(29439),d=i(64687),u=i.n(d),c=i(90297),h=i(8566),p=i(90110),f=i(24813),v=i(20201),g=i(16031),x=i.n(g),m=i(47313),b=i(58467),Z=i(91345),k=i(25258),y=i(4587),j=i(30183),w=i(11069),M=i(17592),P=i(71651),T=i(944),z=i(35982),D=i(20716),S=i(19332),B=i(47053),H=i(65582),C=i(96849),R=i(62982),A=i(46417),E=(0,M.ZP)("img")((),F=(0,M.ZP)("div")((function(e){var t=e.theme;return{position:"relative",display:"flex",borderWidth:3,borderStyle:"solid",borderColor:e.isSelected?t.palette.primary.main:"transparent",transition:"opacity 0.25s ease, border-color 0.25s ease","&:hover":{"& $check":{display:"inline"},"& $easyLinkContainer":{display:"inline"}}}}));function I(e){var t,i=e.item,r=e.items,n=e.zoom,s=e.settings,o=e.isLimitedHostingAccount,a=e.selectModeEnabled,l=e.width,d=e.isPublic,u=e.isFavoriteDisabled,h=(0,b.TH)(),p=(0,m.useRef)(null),f=!(0,c.l)(Z.YR)&&(null===i||void 0===i?void 0:i.isBlurred),g=(0,b.s0)(),x=(0,D.Z)(),y=x.toggleSelect,M=x.isEmpty,I=x.isSelected,L=x.toggleBulkSelect,W=I(i.id),V=(0,S.Z)().mutation,G=(0,v.Z)(),N=!(null===i||void 0===i||null===(t=i.attributes)||void 0===t||!t.find(()),O=(0,P.Z)(p),_=(0,z.Z)(),$=_.getDragImage,K=_.removeDragImage,U="small";n<4&&(U="medium"),k.Z.debug(o);var Y=(0,B.Z)(i,l);return(0,A.jsxs)(F,{id:i.id,isSelected:W,ref:p,draggable:"false",children:[(0,A.jsxs)(C.Z,{isActive:a||W||O,onClick:function(e){e.shiftKey?L(i.id,r):y(i.id)},sx:{top:8,left:8,zIndex:1,backgroundColor:W?G.palette.primary.main:"rgba(71,85,105,0.5)","&:hover":{backgroundColor:W?"white":"rgba(71,85,105,0.9)"}},"data-test":W?"deselect":"select",children:[W&&(0,A.jsx)(j.Z,{color:"inherit",fontSize:U,sx:{background:G.palette.primary.main,borderRadius:"50%",padding:"2px"}}),!W&&(0,A.jsx)(j.Z,{color:"inherit",fontSize:U,sx:{background:"transparent",borderRadius:"50%",padding:"2px"}})]}),!u&&!d&&!i.isBlurred&&(0,A.jsxs)(C.Z,{isActive:N||O,sx:{top:8,right:8,"&:hover":{backgroundColor:"rgba(71,85,105,0.9)"}},onClick:function(){var e={imageIds:[i.id],add:["favorite"]};N&&(delete e.add,e.delete=["favorite"]),V({variables:e})},children:[N&&(0,A.jsx)(w.Z,{fontSize:U,sx:{stroke:"white",strokeWidth:2,padding:"2px"}}),!N&&(0,A.jsx)(w.Z,{fontSize:U,sx:{stroke:G.palette.primary.contrastText,fillOpacity:0,strokeWidth:2,zIndex:1,padding:"2px"}})]}),(0,A.jsx)(E,{alt:i.title,isBlurred:f,"data-test":"image",onClick:function(e){var t;M()&&!a?(d&&(t={returnUri:"".concat(h.pathname),password:(h.state||{}).password}),g("".concat(h.pathname,"/p/").concat(i.id),{state:t})):e.shiftKey?L(i.id,r):y(i.id)},onError:function(e){e.stopPropagation(),e.currentTarget.src=i.isVideoType?T.h:T.N,e.currentTarget.srcset=i.isVideoType?T.h:T.N},onDragStart:function(e){e.stopPropagation();var t=$(i,W),r=W?"all":i.id;return e.dataTransfer.setData("id",r),e.dataTransfer.setDragImage(t,0,0),!1},onDragEnd:role:"presentation",src:Y,srcSet:Y}),i.isBlurred&&(0,A.jsx)(H.Z,{}),(0,A.jsx)(R.Z,{media:i,isActive:!d&&(W||O),settings:s,displayFab:n>5})]})}I.defaultProps={isPublic:!1,isLimitedHostingAccount:!1,isFavoriteDisabled:!1,width:void 0};var L=i(63694),W={xs:[1,1,1,1,1,3,3,3,3,3,3],sm:[1,1,1,1,1,3,3,3,3,3,3],md:[1,1,2,3,4,5,6,7,8,9,10],lg:[1,1,2,3,4,5,6,7,8,9,10],xl:[1,1,2,3,4,5,6,7,8,9,10]};function V(e){var t,i,n,s,d,g,j,w,M,P,T,z,D,S=e.items,B=e.hasMore,H=e.loading,C=e.fetchMore,R=e.isPublic,E=(0,b.UO)().albumId,F=(0,c.l)(Z._N),V=(0,m.useRef)(null),G=(0,m.useState)(3),N=(0,l.Z)(G,2),O=N[0],_=N[1],$=(0,m.useRef)(0),K=(0,r.Z)().settings.zoom,U=(0,L.Z)(),Y=(0,Z.at)(),q=(0,v.Z)(),J=(0,f.Z)(q.breakpoints.up("sm")),Q=(0,f.Z)(q.breakpoints.up("md")),X=(0,f.Z)(q.breakpoints.up("lg")),ee=(0,f.Z)(q.breakpoints.up("xl")),te=!(null===Y||void 0===Y||null===(t=Y.profile)||void 0===t||null===(i=t.subscription)||void 0===i||null===(n=i.plan)||void 0===n||!n.hostingThreshold)&&!(null!==Y&&void 0!==Y&&null!==(s=Y.profile)&&void 0!==s&&null!==(d=s.subscription)&&void 0!==d&&null!==(g=d.plan)&&void 0!==g&&null!==(j=g.hostingThreshold)&&void 0!==j&&j.maxHostingThreshold),ie=(0,a.Z)({easyLinkingMode:!(null===Y||void 0===Y||null===(w=Y.profile)||void 0===w||null===(M=w.albumsSettings)||void 0===M||!M.easyLinkingMode),linkBackOption:!(null===Y||void 0===Y||null===(P=Y.profile)||void 0===P||null===(T=P.albumsSettings)||void 0===T||!T.linkBackOption)},null===Y||void 0===Y||null===(z=Y.profile)||void 0===z||null===(D=z.albumsSettings)||void 0===D?void 0:D.links);(0,m.useEffect)((function(){var e=K;_(ee?W.xl[e]:X?W.lg[e]:Q?W.md[e]:J?W.sm[e]:W.xs[e])}),[J,Q,X,ee,K]),(0,m.useEffect)((function(){return(0,Z.WV)([]),(0,Z._N)({}),(0,Z.MD)(null),(0,Z.eG)({}),function(){(0,Z.WV)([]),(0,Z._N)({}),(0,Z.MD)(null),(0,Z.eG)({})}}),[E]);var re=function(){var e=(0,o.Z)(u().mark((function e(){var t,i,r,n,s,o,a,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null===(t=V.current)||void 0===t?void 0:t.getVisibleItems(),k.Z.debug("current visible items: %j",i),r=null,n=null,i&&i[0].key&&(s=i[0].key.replaceAll(/[.$]/g,""),o=x().filter(S,(function(e){return e.id===s})),k.Z.debug("current first visible items: %j %s",o,s),o[0]&&(r=o[0].uploadDate)),i&&i[i.length-1].key&&(a=i[i.length-1].key.replaceAll(/[.$]/g,""),l=x().filter(S,(),k.Z.debug("current last visible items: %j %s",l,a),l[0]&&(n=l[0].uploadDate)),r&&n&&(0,Z.eG)({startDate:r,endDate:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,o.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=V.current)||void 0===t||t.renderItems({useResize:!0}),e.next=3,re();case 3:case"end":return e.stop()}}),e)})));return ();if(!S.length)return null;var se=function(){var e=(0,o.Z)(u().mark((function e(t){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.wait,r=t.ready,H||!B){e.next=6;break}return i(),e.next=5,C();case 5:r();case 6:case"end":return e.stop()}}),e)})));return (),oe=function(e){e.currentTarget.scrollTop>$.current?(0,Z.MD)("down"):(0,Z.MD)("up"),$.current=e.currentTarget.scrollTop};return(0,A.jsxs)("div",{id:"grid-container","data-test":"grid-container",style:{flex:1,position:"relative"},children:[!R&&(0,A.jsx)(y.Z,{}),(0,A.jsx)(h.Z,{children:function(e){var t=e.height,i=e.width;return i?(0,A.jsx)("div",{style:{height:t,width:i,overflow:"scroll",paddingTop:84},onScroll:oe,children:(0,A.jsx)(p.L2,{loading:H?(0,A.jsx)("div",{children:"Loading..."}):(0,A.jsx)("div",{}),threshold:5,useRecycle:!0,useFit:!0,horizontal:!1,maxResizeDebounce:5,percentage:!0,autoResize:!0,"data-test":"grid",id:"grid",ref:V,column:O,containerTag:"#grid-container",gap:0,align:"stretch",onRequestAppend:se,onRenderComplete:ne,children:S.map((function(e){return(0,A.jsx)(I,{item:e,items:S,settings:ie,isLimitedHostingAccount:te,isFavoriteDisabled:U.isFavoriteDisabled,selectModeEnabled:Boolean(F.media),isPublic:R,zoom:K,width:Math.floor(i/O)},null===e||void 0===e?void 0:e.id)}))})}):(0,A.jsx)("div",{})}})]})}function G(e){var t=e.items,i=e.hasMore,o=e.fetchMore,a=e.isPublic,l=e.loading;switch((0,r.Z)().settings.layout){case n.sH.MasonryVertical:return(0,A.jsx)(V,{items:t,hasMore:i,fetchMore:o,isPublic:a,loading:l});case n.sH.Grid:default:return(0,A.jsx)(s.Z,{items:t,hasMore:i,fetchMore:o,isPublic:a})}}V.defaultProps={isPublic:!1,loading:!1},G.defaultProps={isPublic:!1}},90706:function(e,t,i){i.r(t),i.d(t,{default:function(){return D}});var r=i(72668),n=i(16031),s=i(47313),o=i(39837),a=i(28422),l=i(91345),d=i(11149),u=i(39437),c=i(98976),h=i(4942),p=i(17592),f=i(61113),v=i(24193),g=i(19860),x=i(24813),m=i(58467),b=i(23457),Z=i(46417),k=(0,p.ZP)("div")((function(e){return(0,h.Z)({border:"1px dashed #999",margin:"20px",padding:"90px 20px",display:"flex",justifyContent:"center",alignItems:"center"},e.theme.breakpoints.down("sm"),{flexDirection:"column",padding:0,border:"none"})})),y=(0,p.ZP)("div")((function(e){return(0,h.Z)({marginLeft:"40px","& p":{margin:"10px 0 20px"}},e.theme.breakpoints.down("sm"),{margin:0,"& p":{display:"none"}})})),j=(0,p.ZP)(f.Z)((function(e){return(0,h.Z)({fontSize:"20px",fontWeight:"bold"},e.theme.breakpoints.down("sm"),{margin:"20px 0 40px"})})),w=(0,p.ZP)(v.Z)((function(e){return(0,h.Z)({},e.theme.breakpoints.down("sm"),{width:"100%"})}));function M(e){var t=e.username,i=(0,m.s0)(),r=(0,g.Z)(),n=(0,x.Z)(r.breakpoints.down("md"));return(0,Z.jsxs)(k,{sx:{minHeight:0},children:[(0,Z.jsx)(b.Z,{width:n?121:188,height:n?76:120}),(0,Z.jsxs)(y,{children:[(0,Z.jsx)(j,{variant:"h2",children:"No Favorites selected!"}),(0,Z.jsx)(f.Z,{children:"Browse your images to select your Favorites"}),(0,Z.jsx)(w,{"data-test":"goto-mybucket",id:"goto-mybucket",size:"large",variant:"contained",onClick:children:"GO TO MY BUCKET"})]})]})}var P=i(46171),T=i(32756),z=i(52442);function D(){var e,t,i,h,p,f=(0,l.at)(),v=(0,d.Z)().settings,g=(0,u.Z)().createAlert,x=(0,r.a)(a.G1w,{variables:{attributes:["favorite"],sortBy:null===v||void 0===v||null===(e=v.sortBy)||void 0===e?void 0:e.field,desc:null===v||void 0===v||null===(t=v.sortBy)||void 0===t?void 0:t.desc,pageSize:c.IV},onError:),m=(null===x||void 0===x||null===(i=x.data)||void 0===i?void 0:i.imagesReadByAttributes.items)||[],b=null===(h=x.data)||void 0===h?void 0:h.imagesReadByAttributes.scrollPointer,k=(null===(p=x.data)||void 0===p?void 0:p.imagesReadByAttributes.total)||0;(0,s.useEffect)((function(){(0,l.sE)({shouldPrivacyMenuHide:!0,isTitleMenuEditDisabled:!0,isGroupedMenuHidden:!0,overridenAlbumTitle:"Favorites",overridenImageCount:k,isSubAlbumChipHidden:!0})}),[k]);var y,j=(0,n.debounce)((function(){b&&x.fetchMore({variables:{scrollPointer:b}})}),500,{leading:!0});return x.data||x.error?(0,n.isEmpty)(m)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{title:"Favorites"}),(0,Z.jsx)(z.Z,{}),(0,Z.jsx)(M,{username:null===f||void 0===f||null===(y=f.profile)||void 0===y?void 0:y.username})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{title:"Favorites"}),(0,Z.jsx)(z.Z,{}),(0,Z.jsx)(P.Z,{items:m,fetchMore:j,hasMore:!!b,loading:x.loading}),(0,Z.jsx)(T.Z,{items:m,fetchMore:j,hasMore:!!b})]}):null}}}]);