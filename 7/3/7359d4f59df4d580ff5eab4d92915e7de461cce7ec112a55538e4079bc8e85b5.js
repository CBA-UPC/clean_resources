"use strict";(self.webpackChunkphotobucket_web=self.webpackChunkphotobucket_web||[]).push([[1165],{23457:function(e,t,i){i.d(t,{Z:function(){return r}});var n=i(46417);function r(e){var t=e.width,i=e.height;return(0,n.jsx)("svg",{viewBox:"0 0 191 120",width:t,height:i,children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsxs)("g",{transform:"translate(38.136)",children:[(0,n.jsx)("rect",{stroke:"#333",strokeWidth:2.105,x:1.053,y:1.053,width:130.267,height:91.826,rx:6.537}),(0,n.jsx)("path",{stroke:"#333",strokeWidth:2.105,d:"M56.563 92.982h19.245v25.647H56.563z"}),(0,n.jsx)("path",{fill:"#333",d:"M38.404 117.895h55.511V120H38.404zM0 78.622h132.372v2.105H0z"})]}),(0,n.jsxs)("g",{transform:"translate(151.714 55.564)",children:[(0,n.jsx)("rect",{stroke:"#333",strokeWidth:2.105,x:1.053,y:1.053,width:36.299,height:61.629,rx:3.268}),(0,n.jsx)("path",{fill:"#333",d:"M1.067 8.498h36.271v2.105H1.067zM1.634 50.661h36.271v2.105H1.634z"}),(0,n.jsx)("rect",{fill:"#333",x:13.868,y:55.564,width:10.668,height:2.105,rx:1.053})]}),(0,n.jsxs)("g",{transform:"translate(3 70.272)",children:[(0,n.jsx)("path",{d:"M35.454-1.053H22.56c-2.877 0-4.999.863-6.427 2.471-1.232 1.387-1.964 3.373-2.116 5.998h-15.07v40.212h60.12V7.416H43.997c-.152-2.625-.884-4.611-2.116-5.998-1.428-1.608-3.55-2.47-6.427-2.47z",stroke:"#333",strokeWidth:2.105}),(0,n.jsx)("ellipse",{stroke:"#333",strokeWidth:2.105,cx:29.007,cy:27.522,rx:11.796,ry:11.638}),(0,n.jsx)("circle",{fill:"#333",cx:7.477,cy:14.808,r:2.105})]})]})})}r.defaultProps={width:191,height:120}},61165:function(e,t,i){i.r(t),i.d(t,{default:function(){return He}});var n=i(29439),r=i(72668),o=i(61113),l=i(16031),a=i(47313),d=i(2135),s=i(58467),c=i(17455),u=i(28422),h=i(91345),v=i(25258),g=i(31805),f=i(91443),p=i(15861),m=i(1413),x=i(64687),b=i.n(x),k=i(36241),Z=i(8566),y=i(17189),j=i(72657),w=i(46663),T=i(4942),I=i(61511),M=i(90297),S=i(77406),C=i(19989),L=i(19860),z=i(24813),E=i(7003),A=i(19655),D=i(71651),P=i(71675),U=i(18140),R=i(60250),F=i(7564),H=i(62606),W=i(59824),B=i(44661),N=i(59344),O=i(40075),G=i(74839),_=i(48268),q=i(61689),Q=i(17551),V=i(47131),X=i(29210),Y=i(11686),$=i(70246),K=i(17592),J=i(20201),ee=i(50625),te=i(18248),ie=(i(28297),function(e,t){return"[URL=".concat(e).concat(t?"?width=".concat((null===t||void 0===t?void 0:t.width)||1920,"&height=").concat((null===t||void 0===t?void 0:t.height)||1080,"&fit=bounds"):"","][IMG]").concat(e).concat(t?"?width=".concat(null===t||void 0===t?void 0:t.width,"&height=").concat(null===t||void 0===t?void 0:t.height,"&fit=bounds"):"","[/IMG][/URL]")}),ne=function(e,t,i){return'<img src="'.concat(e).concat(i?"?width=".concat(null===i||void 0===i?void 0:i.width,"&height=").concat(null===i||void 0===i?void 0:i.height,"&fit=bounds"):"",'" alt="').concat(t,'"/>')},re=function(e,t,i){return'<a href="'.concat(e).concat(i?"?width=".concat(null===i||void 0===i?void 0:i.width,"&height=").concat(null===i||void 0===i?void 0:i.height,"&fit=bounds"):"",'" target="_blank">').concat(t,"</a>")},oe=function(e,t,i,n){return i?re(i,ne(e,t,n),n):ne(e,t,n)},le=i(46417),ae=[{icon:(0,le.jsx)(_.Z,{fontSize:"small"}),title:"Direct Link",id:"directLink"},{icon:(0,le.jsx)(B.Z,{fontSize:"small"}),title:"HTML Large",id:"htmlLarge"},{icon:(0,le.jsx)(G.Z,{fontSize:"small"}),title:"HTML Thumbnail",id:"htmlThumb"},{icon:(0,le.jsx)(N.Z,{fontSize:"small"}),title:"Fullsize Url",id:"imgLarge"},{icon:(0,le.jsx)(O.Z,{fontSize:"small"}),title:"Thumbnail Url",id:"imgThumb"}],de=(0,K.ZP)(X.Z,{shouldForwardProp:function(e){return"isActive"!==e}})((function(e){var t=e.isActive;return{display:"flex",position:"absolute",bottom:0,right:0,height:t?"auto":0,width:t?"auto":0,overflow:"hidden",padding:t?"6px":0,flexWrap:"wrap",flexDirection:"column-reverse",gap:"4px",alignItems:"flex-end",".MuiSpeedDial-actions":{margin:0,padding:0,flexWrap:"wrap"},"&:hover":{display:"flex"}}})),se=(0,K.ZP)("div",{shouldForwardProp:)((function(e){var t=e.isActive;return{display:"flex",position:"absolute",bottom:0,right:0,padding:t?"0 8px 8px 0":0,color:"white",height:t?"auto":0,width:t?"100%":0,overflow:"hidden",justifyContent:"flex-end",flexWrap:"wrap",gap:"4px"}}));function ce(e){var t=e.media,i=e.isActive,r=e.settings,o=e.displayFab,l=e.hide,d=(0,a.useState)(!1),s=(0,n.Z)(d,2),c=s[0],u=s[1],v=(0,ee.Z)(),g=(0,n.Z)(v,2),f=g[0],p=g[1],m=o?26:36,x=m,b=m,k=m,Z=(0,J.Z)();(0,a.useEffect)((,[o]),(0,a.useEffect)((function(){if(f.value){var e={id:(0,te.Z)(),message:"Copied to Clipboard",severity:"success"};(0,h.sh)([e])}}),[f]);var y=function(e){return function(){var i,n;if(t.imageUrl){var r,o,l=t.imageUrl;switch(e){case"htmlLarge":l=oe(t.imageUrl,null!==(i=null===t||void 0===t?void 0:t.title)&&void 0!==i?i:"N/A");break;case"htmlThumb":r=t.imageUrl,o=null!==(n=null===t||void 0===t?void 0:t.title)&&void 0!==n?n:"N/A",l=oe(r,o,void 0,{width:180,height:180});break;case"imgThumb":l=t.imageUrl);break;case"imgLarge":l=ie(t.imageUrl)}p(l)}else{var a={id:(0,te.Z)(),message:"Error trying to get a hosting url, contact support.",severity:"error"};(0,h.sh)([a])}}};return!r.easyLinkingMode||l?null:o?(0,le.jsx)(de,{ariaLabel:"QuickLinks",direction:"left",FabProps:{style:{minHeight:x,height:b,width:k}},icon:(0,le.jsx)($.Z,{}),isActive:i,onClick:open:c,children:ae.filter((function(e){return r[e.id]})).map((function(e){return(0,le.jsx)(Y.Z,{sx:{minHeight:x,height:b,width:k,margin:"2px",padding:0,maxWidth:"100%"},icon:e.icon,tooltipTitle:"Copy ".concat(e.title," Link"),onClick:y(e.id)},e.id)}))}):(0,le.jsx)(se,{isActive:i,children:ae.filter(().map((function(e){return(0,le.jsx)(q.Z,{title:"Copy ".concat(e.title," Link"),children:(0,le.jsx)("span",{children:(0,le.jsx)(V.Z,{"aria-label":"copy",onClick:y(e.id),size:"small",sx:{background:(0,Q.Fq)(Z.palette.primary.contrastText,.8),padding:"5px",boxShadow:"none","&:hover":{color:Z.palette.primary.main,background:(0,Q.Fq)(Z.palette.primary.contrastText,.8)}},children:e.icon})})},e.id)}))})}ce.defaultProps={displayFab:!1,hide:!1};var ue=i(57829);function he(e){var t=e.style;return(0,le.jsx)("div",{style:(0,m.Z)((0,m.Z)({},t),{},{top:Number(t.top)+84}),children:(0,le.jsx)(ue.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:t.width,height:t.height,background:"rgba(220, 54, 46, 0.1)",padding:"10px",textAlign:"center",top:Number(t.top)+84,borderStyle:"solid",borderWidth:3,borderColor:"transparent"},children:"There was an issue uploading your media. Please try again."})})}var ve=i(38464),ge=i(2953),fe=i(90253),pe=i(33317);function me(e){var t=e.bucketId,i=e.iconSize,n=e.isFavorite,r=e.isActive,o=e.mediaId,l=(0,J.Z)(),a=(0,fe.Z)().mutation,d=(0,ge.Z)().updateCache;return(0,le.jsxs)(pe.Z,{onClick:function(){a({variables:{bucketId:t,mediaId:o,data:{isFavorite:!n}},update:function(e,t){var i;if(null!==(i=t.data)&&void 0!==i&&i.bucketMediaUpdate){var n=t.data.bucketMediaUpdate;d(n)}}})},isActive:r,sx:{top:8,right:8,"&:hover":{backgroundColor:"rgba(71,85,105,0.9)"}},children:[n&&(0,le.jsx)(ve.Z,{fontSize:i,sx:{stroke:"white",strokeWidth:2,padding:"2px"}}),!n&&(0,le.jsx)(ve.Z,{fontSize:i,sx:{stroke:l.palette.primary.contrastText,fillOpacity:0,strokeWidth:2,zIndex:1,padding:"2px"}})]})}var xe=i(44368),be=i(68728);function ke(e){var t=e.isSelected,i=e.isActive,n=e.handleToggle,r=e.iconSize,o=(0,J.Z)();return(0,le.jsxs)(pe.Z,{isActive:i,onClick:n,sx:{top:8,left:8,zIndex:1,backgroundColor:t?o.palette.primary.main:"rgba(71,85,105,0.5)","&:hover":{backgroundColor:t?"white":"rgba(71,85,105,0.9)"}},"data-test":t?"deselect":"select",children:[t&&(0,le.jsx)(be.Z,{color:"inherit",fontSize:r,sx:{background:o.palette.primary.main,borderRadius:"50%",padding:"2px"}}),!t&&(0,le.jsx)(be.Z,{color:"inherit",fontSize:r,sx:{background:"transparent",color:"white",borderRadius:"50%",padding:"2px"}})]})}function Ze(e){var t,i,n,r,o,d,c,v,g=e.data,f=e.rowIndex,p=e.columnIndex,x=e.style,b=(0,L.Z)(),k=(0,z.Z)(b.breakpoints.down("sm")),Z=(0,P.Z)().restrictions,y=(0,F.Z)().uploadsInProgress,j=(0,w.Z)().settings,B=j.zoom,N=j.cropMode,O=(0,R.Z)(),G=O.selectedMedia,_=O.toggleSelectMedia,q=O.toggleBulkSelectMedia,Q=O.selectedModeEnabled,V=(0,s.s0)(),X=(0,U.Z)(),Y=X.getDragMedia,$=X.removeDragMedia,K=(0,a.useRef)(null),J=(0,D.Z)(K),ee=f*B+p,te=g[ee],ie=null===te||void 0===te?void 0:te.isFavorite,ne=te&&!!G.get(te.id),re=(0,s.UO)().albumId,oe=(0,I.x)().cache.readFragment({id:"UserProfile:".concat(null===(t=(0,A.v0)().currentUser)||void 0===t?void 0:t.uid),fragment:u.$8X}),ae="small";B<4&&(ae="medium");var de={easyLinkingMode:!(null===oe||void 0===oe||!oe.isQuickLinksEnabled),showImageTitle:!(null===oe||void 0===oe||null===(i=oe.desktopSettings)||void 0===i||!i.showImageTitle),directLink:!(null===oe||void 0===oe||null===(n=oe.linkSettings)||void 0===n||!n.directLink),htmlLarge:!(null===oe||void 0===oe||null===(r=oe.linkSettings)||void 0===r||!r.htmlLarge),htmlThumb:!(null===oe||void 0===oe||null===(o=oe.linkSettings)||void 0===o||!o.htmlThumb),imgLarge:!(null===oe||void 0===oe||null===(d=oe.linkSettings)||void 0===d||!d.imgLarge),imgThumb:!(null===oe||void 0===oe||null===(c=oe.linkSettings)||void 0===c||!c.imgThumb)},se=(0,M.l)(h.YR),ue=null===te||void 0===te?void 0:te.isBanned,ve=Z.favorites,ge=Z.hosting,fe=y.get(null===te||void 0===te?void 0:te.id)&&"COMPLETE"!==y.get(null===te||void 0===te?void 0:te.id),pe=(0,H.Z)(te,Number(x.width)),be=null!==te&&void 0!==te&&null!==(v=te.imageUrl)&&void 0!==v&&v.includes("blob")?te.imageUrl:pe,Ze=te&&y.get(te.id),ye=function(e){te&&(e.shiftKey?q(te.id,g):_(te.id))};return te?"ERROR"===Ze?(0,le.jsx)(he,{style:x}):(0,le.jsxs)("div",{style:(0,m.Z)((0,m.Z)({},x),{},{top:Number(x.top)+84}),"data-test":"cell-".concat(ee),ref:K,children:[(0,le.jsx)(ke,{iconSize:ae,isSelected:ne,isActive:!fe&&(Q||ne||J),handleToggle:ye}),!ve&&(0,le.jsx)(me,{bucketId:te.bucketId,iconSize:ae,isActive:!!ie||!k&&J,isFavorite:!!ie,mediaId:te.id}),te.mediaType.includes("video")&&(0,le.jsx)(C.Z,{"data-test":"media-".concat(ee),sx:(0,T.Z)({color:"white",opacity:"0.8",position:"absolute",bottom:8,right:8},b.breakpoints.down("sm"),{fontSize:"large"})}),(0,le.jsx)(xe.Z,{id:te.id}),se&&ue&&(0,le.jsx)(S.Z,{sx:(0,T.Z)({color:"red",opacity:"0.8",position:"absolute",top:8,right:20},b.breakpoints.down("sm"),{fontSize:"large"})}),(0,le.jsx)("img",{"data-test":"media-".concat(ee),alt:te.id,role:"presentation",src:be,srcSet:be,onClick:function(e){if(Q)ye(e);else{var t="/bucket/".concat(te.bucketId);t+=re?"/album/".concat(re,"/media/").concat(te.id):"/media/".concat(te.id),V(t)}},onError:function(e){e.currentTarget.src=te.mediaType.includes("video")?W.h:W.N,e.currentTarget.srcset=te.mediaType.includes("video")?W.h:W.N},onDragStart:function(e){e.stopPropagation();var t=Y(te,!!ne),i=ne?"all":te.id;return e.dataTransfer.setData("id",i),e.dataTransfer.setDragImage(t,0,0),!1},onDragEnd:style:{borderStyle:"solid",borderWidth:3,borderColor:"transparent",filter:"none",width:x.width,height:x.height,objectFit:N?"contain":"cover",display:"flex",opacity:"IN_PROGRESS"===Ze||(0,l.isNumber)(Ze)?"0.3":"1"}}),!ge&&(0,le.jsx)(ce,{media:te,isActive:ne||J,settings:de,displayFab:k||j.zoom>4||(null===de||void 0===de?void 0:de.showImageTitle),hide:k&&j.zoom>3}),(null===j||void 0===j?void 0:j.showImageTitle)&&!k&&(0,le.jsx)(E.Z,{title:te.title,position:"bottom"})]}):null}var ye=(0,a.forwardRef)((function(e,t){var i=e.children,n=e.style,r=e.onScroll,o=(0,a.useRef)(0);return(0,le.jsx)("div",{id:"gallery","data-test":"grid",style:(0,m.Z)((0,m.Z)({},n),{},{overflowX:"hidden"}),onScroll:function(e){var t=e.currentTarget.scrollTop;t>100&&t>o.current?(0,h.MD)("down"):(0,h.MD)("up"),o.current=e.currentTarget.scrollTop,r(e)},ref:t,children:i})})),je=(0,a.forwardRef)((function(e,t){var i=e.style,n=e.children;return(0,le.jsx)("div",{ref:t,style:(0,m.Z)((0,m.Z)({},i),{},{height:Number(i.height)+84}),children:n})}));function we(e){var t=e.items,i=e.fetchMore,n=e.hasMore,r=(0,w.Z)().settings,o=r.zoom,l=r.sortBy,d=k.isMobile?0:14,c=v=(0,a.useRef)(null),g=(0,s.UO)().albumId,m=(0,s.TH)();(0,a.useEffect)((function(){if(0!==t.length){var e=(null===l||void 0===l?void 0:l.field)===u.g7C.DateTaken?t[0].dateTaken:t[0].createdAt,i=(null===l||void 0===l?void 0:l.field)===u.g7C.DateTaken?t[t.length-1].dateTaken:t[t.length-1].createdAt;e&&i&&(0,h.eG)({startDate:e,endDate:i})}}),[l,t]),(0,a.useEffect)((function(){return(0,h.MD)(null),(0,h.eG)({}),(0,h.nt)(null),function(){(0,h.MD)(null),(0,h.eG)({}),(0,h.nt)(null)}}),[g]),(0,a.useEffect)((function(){var e=new URLSearchParams(m.search).get("scrollTo");if(e&&t.length>0){var i=t.findIndex(();-1!==i&&requestAnimationFrame((function(){if(v.current){var e=Math.floor(i/o);v.current.scrollToItem({align:"start",rowIndex:e,columnIndex:0})}}))}}),[t,o,m.search]);var x=function(){var e=(0,p.Z)(b().mark((function e(n,r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[r]||i();case 1:case"end":return e.stop()}}),e)})));return ();return(0,le.jsxs)("div",{"data-test":"drag-and-drop",style:{flex:1,position:"relative"},children:[(0,le.jsx)(f.Z,{}),(0,le.jsx)(Z.Z,{children:function(e){var i=e.height,r=e.width;return r&&i?(0,le.jsx)(j.Z,{isItemLoaded:c,itemCount:t.length+Number(n),loadMoreItems:x,children:function(e){var n=e.onItemsRendered,a=e.ref;return(0,le.jsx)(y.Ym,{columnCount:o,columnWidth:Math.floor(r/o)-Math.floor(d/o),height:i,innerElementType:je,itemData:t,ref:outerElementType:ye,rowCount:Math.ceil(t.length/o),rowHeight:Math.floor(r/o)-Math.floor(d/o),width:r,onItemsRendered:function(e){var i=e.overscanRowStartIndex*o,r=e.overscanRowStopIndex*o,a=e.visibleRowStartIndex*o,d=e.visibleRowStopIndex*o,s=(null===l||void 0===l?void 0:l.field)===u.g7C.DateTaken?t[a].dateTaken:t[a].createdAt,c=(null===l||void 0===l?void 0:l.field)===u.g7C.DateTaken?t[d].dateTaken:t[d].createdAt;n({overscanStartIndex:i,overscanStopIndex:r,visibleStartIndex:a,visibleStopIndex:d}),s&&c&&(0,h.eG)({startDate:s,endDate:c})},children:Ze})}}):(0,le.jsx)("div",{})}})]})}var Te=i(4176),Ie=i(80082),Me=i(12990),Se=i(76256),Ce=i(24193),Le=i(23457),ze=i(15919),Ee=i(83247),Ae=(0,K.ZP)("div")((function(e){return(0,T.Z)({border:"1px dashed #999",margin:"20px",padding:"90px 20px",display:"flex",justifyContent:"center",alignItems:"center"},e.theme.breakpoints.down("sm"),{flexDirection:"column",padding:0,border:"none"})})),De=(0,K.ZP)("div")((function(e){return(0,T.Z)({marginLeft:"40px","& p":{margin:"10px 0 20px"}},e.theme.breakpoints.down("sm"),{margin:0,"& p":{display:"none"}})})),Pe=(0,K.ZP)(o.Z)((function(e){return(0,T.Z)({fontSize:"20px",fontWeight:"bold"},e.theme.breakpoints.down("sm"),{margin:"20px 0 40px"})})),Ue=(0,K.ZP)(Ce.Z)((function(e){return(0,T.Z)({},e.theme.breakpoints.down("sm"),{width:"100%"})}));function Re(){var e,t,i=(0,L.Z)(),n=null===(e=(0,A.v0)().currentUser)||void 0===e?void 0:e.uid,r=(0,s.UO)().albumId,l=(0,Me.Z)(),a=l.bucketUser,d=l.bucket,c=(0,Ee.Z)().query,h=null===d||void 0===d?void 0:d.id,v=(0,P.Z)(),g=v.restrictions,f=v.tooltipTitle,p=(0,z.Z)(i.breakpoints.down("md")),m=(null===a||void 0===a?void 0:a.userRole)===u.PMe.Viewer&&!(null!==a&&void 0!==a&&null!==(t=a.permissions)&&void 0!==t&&t.mediaCreate),x=g.uploadMedia||m,b=!x,k=f("uploadMedia"),Z=(0,ze.Z)().uploadMultiple,y=!r;return(0,le.jsxs)(Ae,{style:{marginTop:84,minHeight:y?"calc(100vh - 270px)":0},children:[(0,le.jsx)(Le.Z,{width:p?121:188,height:p?76:120}),(0,le.jsxs)(De,{children:[(0,le.jsx)(Pe,{variant:"h2",children:y?"Start filling your bucket!":"Start filling your album!"}),(0,le.jsx)(o.Z,{children:"Drag & drop here or click the button below"}),(0,le.jsxs)("label",{htmlFor:"contained-button-file",children:[(0,le.jsx)("input",{accept:"image/*, .heic, .mov, .mp4, .heif",style:{display:"none"},id:"contained-button-file",type:"file",multiple:!0,onChange:onClick:function(e){m&&e.preventDefault(),e.target.value=""},"data-test":"file-upload"}),(0,le.jsx)(q.Z,{PopperProps:{disablePortal:b},disableFocusListener:b,disableHoverListener:b,disableTouchListener:b,title:m?"You do not have permission to upload media":k,children:(0,le.jsx)(Ue,{onClick:function(){h&&n&&c({variables:{bucketId:h,userId:n}})},disabled:x,component:"span","data-test":"appbar-upload",id:"appbar-upload",size:"large",variant:"contained",children:"Upload Images"})})]})]})]})}function Fe(){var e,t,i,g,p,m=(0,Ie.Z)().createAlert,x=(0,s.UO)(),b=x.bucketId,k=x.albumId,Z=(0,Me.Z)().bucket,y=(0,Se.Z)(),j=y.media,T=y.fetchMore,I=y.nextToken,M=y.loading,S=(0,w.Z)().settings,C=(0,d.lr)(),L=(0,n.Z)(C,2),z=L[0],E=L[1],A="true"===z.get("inviteModal"),D=null===(e=(0,r.a)(u.XPg,{skip:!b||!k,variables:{bucketId:b,albumId:k},onError:).data)||void 0===e?void 0:e.bucketAlbum,P=null!==(t=null===Z||void 0===Z||null===(i=Z.counters)||void 0===i?void 0:i.totalMedia)&&void 0!==t?t:0,U=null!==(g=null===D||void 0===D||null===(p=D.counters)||void 0===p?void 0:p.totalMedia)&&void 0!==g?g:0,R=k?U:P,F=k?null===D||void 0===D?void 0:D.title:"All Media",H=null===Z||void 0===Z?void 0:Z.title,W=!k;if((0,a.useEffect)((function(){A&&!M&&((0,h._$)("bucketInvite"),E(void 0))}),[A,E,M]),M)return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Te.Z,{title:F,mediaCount:R,bucketTitle:H,disableEditTitle:W}),(0,le.jsx)(c.Z,{})]});var B=null===S||void 0===S?void 0:S.filterBy,N=null===(null===B||void 0===B?void 0:B.mediaType),O=null===(null===B||void 0===B?void 0:B.owner),G=void 0===(null===B||void 0===B?void 0:B.isFavorite)||!1===(null===B||void 0===B?void 0:B.isFavorite),_=N&&O&&G||null===B;if(0===R&&_)return(0,le.jsxs)("div",{"data-test":"drag-and-drop",style:{flex:1,position:"relative"},children:[(0,le.jsx)(f.Z,{}),(0,le.jsx)(Te.Z,{title:F,mediaCount:R,bucketTitle:H,disableEditTitle:W}),(0,le.jsx)(Re,{})]});if((0,l.isEmpty)(j)&&!_){return(0,le.jsxs)("div",{"data-test":"drag-and-drop",style:{flex:1,position:"relative"},children:[(0,le.jsx)(f.Z,{}),(0,le.jsx)(Te.Z,{title:F,mediaCount:R,bucketTitle:H,disableEditTitle:W}),(0,le.jsx)(o.Z,{align:"center",variant:"h5",sx:{marginTop:12},children:"No media matches your filter criteria"})]})}return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Te.Z,{title:F,mediaCount:R,bucketTitle:H,disableEditTitle:W}),(0,le.jsx)(we,{items:j,fetchMore:T,hasMore:!!I})]})},76256:function(e,t,i){i.d(t,{Z:);var n=i(1413),r=i(72668),o=i(16031),l=i(58467),a=i(28422),d=i(25258),s=i(80082),c=i(46663);function u(){var e,t,i,u,h=(0,s.Z)().createAlert,v=(0,c.Z)().settings,g=(0,l.bS)("/bucket/:bucketId/:slug"),f=(0,l.UO)(),p=f.bucketId,m=f.albumId,x=v.sortBy?(0,n.Z)({},v.sortBy):null,b=v.filterBy?(0,n.Z)({},v.filterBy):null;(0,o.isEmpty)(x)&&(x=null),(0,o.isEmpty)(b)&&(b=null),"trash"===(null===g||void 0===g?void 0:g.params.slug)&&(b={status:a.E66.Trash},x=null);var k=(0,r.a)(a.Bzm,{skip:!p,variables:{bucketId:p,albumId:m,filterBy:b,sortBy:x},onError:function(e){e.graphQLErrors.length?e.graphQLErrors.forEach(():(h("There was a problem dretrieving your bucket details. Please try again later."),d.Z.error(e))}}),Z=(null===(e=k.data)||void 0===e||null===(t=e.bucketMediaByAlbumId)||void 0===t?void 0:t.items)||[],y=null===(i=k.data)||void 0===i||null===(u=i.bucketMediaByAlbumId)||void 0===u?void 0:u.nextToken,j=!k.called||k.loading,w=(0,o.debounce)((function(){y&&k.fetchMore({variables:{nextToken:y}})}),500,{leading:!0});return{media:Z,nextToken:y,loading:j,fetchMore:w}}}}]);