"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3204],{23204:function(t,e,r){r.d(e,{JB:function(){return p},JL:function(){return m},NJ:function(){return b},bb:function(){return k},dD:function(){return h},eV:function(){return g},jN:function(){return f},mD:function(){return x},vp:function(){return v},vw:function(){return w},yS:);var n=r(27812),a=r(50029),u=r(87794),i=r.n(u),s=r(53416),o=r(11163),c=r.n(o),d="https://api-wbguru.wildberries.ru/api/v1",l=function(){var t=(0,a.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok||401!==e.status){t.next=3;break}throw c().push("/"),new Error(e.statusText);case 3:if(e.ok||403!==e.status){t.next=6;break}throw c().push("/editor/pending"),new Error(e.statusText);case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)(i().mark((function t(e){var r,n,a,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d+"/user/regional/brands?status="+e,n={method:"GET",credentials:"include"},t.next=4,fetch(r,n).then(l);case 4:if(200!==(a=t.sent).status){t.next=10;break}return t.next=8,a.json();case 8:return u=t.sent,t.abrupt("return",{status:a.status,data:u.map((function(t){var e,r,n;return{id:t.brandId,title:t.title,version:t.version,thumbURL:t.thumbUrl,status:null===(e=t.mainArticle)||void 0===e?void 0:e.text_status,summary:null===t||void 0===t?void 0:t.summary,articleId:null===(r=t.mainArticle)||void 0===r?void 0:r.id,publicationDate:null===(n=t.mainArticle)||void 0===n?void 0:n.publication_date,route:"/editor/regions/"+t.brandId}}))});case 10:if(204!==a.status){t.next=12;break}return t.abrupt("return",{data:[],status:a.status});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)(i().mark((function t(){var e,r,n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d+"/user/regional/statuses",e={method:"GET",credentials:"include"},t.next=5,fetch("https://api-wbguru.wildberries.ru/api/v1/user/regional/statuses",e).then(l);case 5:if(200!==(r=t.sent).status){t.next=11;break}return t.next=9,r.json();case 9:return a=t.sent,t.abrupt("return",{status:r.status,data:a.map(().sort(()});case 11:if(204!==r.status){t.next=13;break}return t.abrupt("return",{data:[],status:r.status});case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)(i().mark((function t(e){var r,n,a,u,o,c,l,v,p,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d+"/user/regional/brands/"+e,n={method:"GET",credentials:"include"},t.next=4,fetch(r,n);case 4:if(200!==(a=t.sent).status){t.next=10;break}return t.next=8,a.json();case 8:return f=t.sent,t.abrupt("return",{data:{brand:f,regionId:null===f||void 0===f?void 0:f.objectId,logo:null===f||void 0===f?void 0:f.logoUrl,tags:null!==f&&void 0!==f&&f.tagIds?null===f||void 0===f?void 0:f.tagIds:[],images:f.imageUrls?null===f||void 0===f?void 0:f.imageUrls.map(():[],airports:f.airports?null===f||void 0===f?void 0:f.airports.map((function(t){return{label:"".concat(t.nameRus,", ").concat(t.iataCode),value:"".concat(t.nameRus),code:t.iataCode,city:"",name:t.nameRus}})):[],content:null!==f&&void 0!==f&&f.mainArticle?null===f||void 0===f||null===(u=f.mainArticle)||void 0===u?void 0:u.text:"",contentTitle:null!==f&&void 0!==f&&f.mainArticle?null===f||void 0===f||null===(o=f.mainArticle)||void 0===o?void 0:o.title:"",summary:null!==(c=null===f||void 0===f?void 0:f.summary)&&void 0!==c?c:"",contentImage:{file:null,dataUrl:null===f||void 0===f||null===(l=f.mainArticle)||void 0===l||null===(v=l.images)||void 0===v?void 0:v.preview},categories:null===f||void 0===f||null===(p=f.checkList)||void 0===p?void 0:p.checkListCategories.map((function(t){var e=t.categoryId,r=t.categoryName,n=t.items,a=void 0===n?[]:n;return{id:e,label:r,order:t.position,value:a.map((function(t){var e=t.id,r=t.title,n=t.position,a=t.imageUrl,u=t.articleUrl,i=t.location,o=t.description;return{id:null!==e&&void 0!==e?e:(0,s.x0)(10),title:r,order:n,imageUrl:a,articleUrl:u,location:i,description:o}})).sort((function(t,e){return t.order>e.order}))}})).sort(()},status:a.status});case 10:if(204!==a.status){t.next=12;break}return t.abrupt("return",{data:{brand:{},regionId:null,image:null,logo:null,tags:[],thumbs:[],categories:[]},status:a.status});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)(i().mark((function t(){var e,r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d+"/user/regional/regions",e={method:"GET",credentials:"include"},t.next=4,fetch("https://api-wbguru.wildberries.ru/api/v1/user/regional/regions",e);case 4:if(200!==(r=t.sent).status){t.next=10;break}return t.next=8,r.json();case 8:return n=t.sent,t.abrupt("return",{status:r.status,data:n.map(()});case 10:if(204!==r.status){t.next=12;break}return t.abrupt("return",{data:[],status:r.status});case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)(i().mark((function t(e){var r,a,u,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d+"/user/regional/airports/"+encodeURI(e),a={method:"GET",credentials:"include"},t.next=4,fetch(r,a);case 4:if(200!==(u=t.sent).status){t.next=10;break}return t.next=8,u.json();case 8:return s=t.sent,t.abrupt("return",{status:u.status,data:s.reduce((function(t,e){return[].concat((0,n.Z)(t),(0,n.Z)(e.hub.map((function(t){return{label:"".concat(t.nameRus,", ").concat(t.iataCode.toUpperCase()),value:"".concat(t.nameRus,", ").concat(e.cityRus,", ").concat(e.countryRus),code:t.iataCode,city:e.cityRus,name:t.nameRus}}))))}),[])});case 10:if(204!==u.status){t.next=12;break}return t.abrupt("return",{data:[],status:u.status});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=(0,a.Z)(i().mark((function t(){var e,r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d+"/user/regional/tags",e={method:"GET",credentials:"include"},t.next=4,fetch("https://api-wbguru.wildberries.ru/api/v1/user/regional/tags",e);case 4:if(200!==(r=t.sent).status){t.next=10;break}return t.next=8,r.json();case 8:return n=t.sent,t.abrupt("return",{status:r.status,data:n.map(()});case 10:if(204!==r.status){t.next=12;break}return t.abrupt("return",{data:[],status:r.status});case 12:case"end":return t.stop()}}),t)})));return (),h=function(){var t=(0,a.Z)(i().mark((function t(e){var r,n,a,u,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(t){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}).format(function(t){var e=new Date(t);return e instanceof Date&&!isNaN(e)?e:new Date}(t))},r=e.query,n=d+"/user/regional/articles?"+(void 0===r?"status=draft":r),a={method:"GET",credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Expires:0}},t.next=6,fetch(n,a);case 6:if(200!==(s=t.sent).status){t.next=12;break}return t.next=10,s.json();case 10:return o=t.sent,t.abrupt("return",{status:s.status,data:{total:null===o||void 0===o?void 0:o.total_num,previews:null!==o&&void 0!==o&&o.previews?null===o||void 0===o?void 0:o.previews.map((function(t){return{id:null===t||void 0===t?void 0:t.id,thumbnail:null===t||void 0===t?void 0:t.thumbnail,portal:null===t||void 0===t?void 0:t.portal,publicationDate:(null===t||void 0===t?void 0:t.publication_date)&&u(null===t||void 0===t?void 0:t.publication_date),title:null===t||void 0===t?void 0:t.title,modifiedDate:(null===t||void 0===t?void 0:t.modified_date)&&u(null===t||void 0===t?void 0:t.modified_date),creationDate:(null===t||void 0===t?void 0:t.creation_date)&&u(null===t||void 0===t?void 0:t.creation_date),status:null===t||void 0===t?void 0:t.text_status}})):[]}});case 12:if(204!==s.status){t.next=14;break}return t.abrupt("return",{status:s.status,data:{total:0,previews:[]}});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=(0,a.Z)(i().mark((function t(e){var r,n,a,u,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(t){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}).format(function(t){var e=new Date(t);return e instanceof Date&&!isNaN(e)?e:new Date}(t))},r=e.query,n=d+"/user/regional/articles/events?"+(void 0===r?"status=draft":r),a={method:"GET",credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Expires:0}},t.next=6,fetch(n,a);case 6:if(200!==(s=t.sent).status){t.next=12;break}return t.next=10,s.json();case 10:return o=t.sent,t.abrupt("return",{status:s.status,data:{total:null===o||void 0===o?void 0:o.total_num,previews:null!==o&&void 0!==o&&o.previews?null===o||void 0===o?void 0:o.previews.map((function(t){return{id:null===t||void 0===t?void 0:t.id,thumbnail:null===t||void 0===t?void 0:t.thumbnail,title:null===t||void 0===t?void 0:t.title,portal:null===t||void 0===t?void 0:t.portal,publicationDate:(null===t||void 0===t?void 0:t.publication_date)&&u(null===t||void 0===t?void 0:t.publication_date),modifiedDate:(null===t||void 0===t?void 0:t.modified_date)&&u(null===t||void 0===t?void 0:t.modified_date),creationDate:(null===t||void 0===t?void 0:t.creation_date)&&u(null===t||void 0===t?void 0:t.creation_date),startEventDate:(null===t||void 0===t?void 0:t.start_event_date)&&u(null===t||void 0===t?void 0:t.start_event_date),endEventDate:(null===t||void 0===t?void 0:t.end_event_date)&&u(null===t||void 0===t?void 0:t.end_event_date),status:null===t||void 0===t?void 0:t.text_status}})):[]}});case 12:if(204!==s.status){t.next=14;break}return t.abrupt("return",{status:s.status,data:{total:0,previews:[]}});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)(i().mark((function t(e){var r,n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d+"/user/regional/brands/status",r={method:"POST",credentials:"include",body:JSON.stringify(e)},t.next=4,fetch("https://api-wbguru.wildberries.ru/api/v1/user/regional/brands/status",r);case 4:if(200!==(n=t.sent).status){t.next=10;break}return t.next=8,n.json();case 8:return a=t.sent,t.abrupt("return",{data:a,status:n.status});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=(0,a.Z)(i().mark((function t(e){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d+"/user/articles/status",r={method:"POST",credentials:"include",body:JSON.stringify(e)},t.next=4,fetch("https://api-wbguru.wildberries.ru/api/v1/user/articles/status",r);case 4:return n=t.sent,t.abrupt("return",{status:n.status});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=(0,a.Z)(i().mark((function t(e){var r,n,a,u,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d+"/user/previews",(n=new FormData).append("file",e),n.append("name",r()),n.append("path","wbkids_articles_editor/sup_images"),a={method:"POST",credentials:"include",body:n},t.next=9,fetch("https://api-wbguru.wildberries.ru/api/v1/user/previews",a);case 9:if(200!==(u=t.sent).status){t.next=17;break}return t.next=13,u.json();case 13:return s=t.sent,t.abrupt("return",s.preview_url);case 17:return t.abrupt("return","");case 18:case"end":return t.stop()}}),t)})));return ()}}]);