"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4684],{"8W94":function(e,t,n){n.d(t,{Z:function(){return f}});var i=n("beVP"),s=n("2GZr"),a=n("QslU"),r=n("Oz0t"),o=n("V67U"),c=n.n(o),l=n("FhAj"),u=n("bBVy"),d=n("UT5F"),_=n("L0jl"),E=n("XErn"),T=n("5P95"),g=function(e){var t=e.title,n="ma-ModalRemoveAdHeader",i=(0,r.useContext)(u.Z),s=i.domain,o=i.i18n,c=s.get("config").get("BASE_IMAGES_URL_STATICS");return(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(E.ZP,{align:E.ZP.alignTypes.center,as:"h1",size:E.ZP.sizeTypes.xl,fontWeight:E.ZP.fontWeightTypes.bold,className:n+"-title",children:o.t("MODAL_SELL_AD_HEADER_TITLE")}),(0,a.jsx)(E.ZP,{align:E.ZP.alignTypes.center,as:"h2",size:E.ZP.sizeTypes.m,className:n+"-subtitle",children:o.t("MODAL_SELL_AD_HEADER_SUBTITLE",{adTitle:t})}),(0,a.jsx)("img",{className:n+"-confetti",src:c+"/images/myClassifieds/sellAd/confetti.0f50612d1c.svg"})]})};g.propTypes={title:c().string.isRequired};var S=g,A="ma-ModalRemoveAd",I=function(e){var t=e.userId,n=e.ad,o=e.visible,c=e.onClose,g=e.onAccept,I=void 0===g?function(){}:g,f=e.onSuccess,C=void 0===f?function(){}:f,O=(0,r.useContext)(u.Z),N=O.i18n,R=O.domain,p=(0,r.useState)(!1),v=p[0],h=p[1],L=(0,r.useState)(""),m=L[0],Z=L[1],x=(0,T.ZJ)(n),M=R.get("config"),D=M.get("AD_MANAGEMENT").REMOVE.OPTIONS,P=M.get("PAGES").USER_RATING,y=(0,i.Z)((function(){var e;return(0,s.__generator)(this,(function(t){return e=M.get("TRACKING_EVENTS_NAMES").USER_RATING_BUYER_NOT_LISTED_BUTTON_CLICKED,R.get("call_link_tracking_use_case").execute({page:P,event:e,data:{}}),C({optionSelected:m}),[2]}))}));return(0,a.jsx)(d.Z,{visible:o,size:d.Z.SIZES.MEDIUM,onClose:c,isContentless:!0,floatingIconClose:!0,children:v?(0,a.jsxs)(d.Z.Content,{withoutIndentation:!0,children:[(0,a.jsx)(S,{title:n.title}),(0,a.jsx)("div",{className:A+"-picker",children:(0,a.jsx)(T.ZP,{userId:t,ad:n,onBuyerNotListed:y,onClose:onTrack:function(e){var t=M.get("TRACKING_EVENTS_NAMES").USER_RATING_BUTTON_CLICKED;if(e===T.Iy.CONFIRM)R.get("call_link_tracking_use_case").execute({page:P,event:t,data:{}})},onFeedbackInputTrack:function(e,t,n){var i=M.get("TRACKING_EVENTS_NAMES"),s=i.USER_RATING_STEP_1_COMPLETED,a=i.USER_RATING_STEP_2_COMPLETED;switch(e){case T.dO.CONFIRM_SUBMIT_SUCCESS_RECEIPT:var r=t.tradeRole;R.get("call_link_tracking_use_case").execute({page:P,event:a,data:{user_type:null==r||null==r.toLowerCase?void 0:r.toLowerCase()}});break;case T.dO.SHOW_STEP:if(1===n){var o=t.tradeRole;R.get("call_link_tracking_use_case").execute({page:P,event:s,data:{user_type:null==o||null==o.toLowerCase?void 0:o.toLowerCase()}})}break;case T.dO.EXIT:C({optionSelected:m})}}})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.Z.Content,{children:[(0,a.jsx)(E.ZP,{as:"h3",align:E.ZP.alignTypes.center,fontWeight:E.ZP.fontWeightTypes.bold,size:E.ZP.sizeTypes.xl,className:A+"-title",children:N.t("MODAL_REMOVE_AD_TITLE")}),(0,a.jsx)(E.ZP,{as:"h4",size:E.ZP.sizeTypes.m,align:E.ZP.alignTypes.center,className:A+"-item",children:n.title}),(0,a.jsx)(E.ZP,{className:A+"-optionsListTitle",size:E.ZP.sizeTypes.m,fontWeight:E.ZP.fontWeightTypes.medium,align:E.ZP.alignTypes.center,children:N.t("MODAL_REMOVE_AD_OPTION_LIST_TITLE")}),(0,a.jsx)("div",{className:A+"-optionsListContainer",children:(0,a.jsx)(_.Z,{value:m,onChange:function(e){Z(e.target.value)},children:D.map((function(e){return(0,a.jsx)(_.Z.Option,{value:e.text,text:N.t(e.text)},e.text)}))})})]}),(0,a.jsx)(d.Z.Footer,{children:(0,a.jsx)(d.Z.FooterActions,{children:(0,a.jsx)(l.ZP,{color:"primary",onClick:function(){I&&I({optionSelected:m}),x&&"MODAL_REMOVE_AD_SOLD_MILANUNCIOS"===m?h(!0):C({optionSelected:m})},disabled:!m,children:N.t("GENERIC_BUTTON_TEXT_REMOVE")})})})]})})};I.displayName="ModalRemoveAd",I.propTypes={userId:c().string.isRequired,ad:c().object,visible:c().bool,onClose:c().func,onSuccess:c().func,onAccept:c().func};var f=I},YevG:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n("beVP"),s=n("11lP"),a=n("dLhX"),r=n("2GZr"),o=n("QslU"),c=n("Oz0t"),l=n("V67U"),u=n.n(l),d=n("FhAj"),_=n("bBVy"),E=n("LF2G"),T=n("UT5F"),g=n("VG2F"),S=n("5P95"),A=n("XErn"),I="ma-ModalSellAdHeader";function f(e){var t=e.title,n=(0,c.useContext)(_.Z),i=n.domain,s=n.i18n,a=i.get("config").get("BASE_IMAGES_URL_STATICS");return(0,o.jsxs)("div",{className:I,children:[(0,o.jsx)(A.ZP,{align:A.ZP.alignTypes.center,as:"h1",size:A.ZP.sizeTypes.xl,fontWeight:A.ZP.fontWeightTypes.bold,className:I+"-title",children:s.t("MODAL_SELL_AD_HEADER_TITLE")}),(0,o.jsx)(A.ZP,{align:A.ZP.alignTypes.center,as:"h2",size:A.ZP.sizeTypes.m,className:I+"-subtitle",children:s.t("MODAL_SELL_AD_HEADER_SUBTITLE",{adTitle:t})}),(0,o.jsx)("img",{className:I+"-confetti",src:a+"/images/myClassifieds/sellAd/confetti.0f50612d1c.svg"})]})}f.displayName="ModalSellAdHeader",f.propTypes={title:u().string.isRequired};var C=n("L0jl"),O="ma-ModalSellAdOptionsList";function N(e){var t=e.value,n=e.onChange,i=(0,c.useContext)(_.Z),a=i.domain,r=i.i18n,l=a.get("config"),u=l.get("BASE_IMAGES_URL_STATICS"),d=l.get("AD_MANAGEMENT").DELETE_REASONS,E=d.SOLD_ON_SITE,T=d.SOLD_OTHER,g=[{avatarSrc:u+"/images/myClassifieds/sellAd/green-avatar.8b8605d53b.svg",text:r.t("MODAL_SELL_AD_OPTION_SOLD_ON_SITE"),value:E},{avatarSrc:u+"/images/myClassifieds/sellAd/gray-avatar.329899faa3.svg",text:r.t("MODAL_SELL_AD_OPTION_SOLD_OUTSIDE"),value:T}];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(A.ZP,{className:O+"Title",size:A.ZP.sizeTypes.m,fontWeight:A.ZP.fontWeightTypes.medium,align:A.ZP.alignTypes.center,children:r.t("MODAL_SELL_AD_OPTION_LIST_TITLE")}),(0,o.jsx)("div",{className:O+"Container",children:(0,o.jsx)(C.Z,{onChange:n,value:t,children:g.map((function(e){return(0,c.createElement)(C.Z.OptionAvatar,(0,s.Z)({},e,{key:e.value}))}))})})]})}N.propTypes={value:u().oneOf(["SOLD_ON_SITE","SOLD_OUTSIDE",""]),onChange:u().func.isRequired};var R="ma-ModalSellAd";function p(e){var t=e.userId,n=e.ad,l=e.isVisible,u=e.onClickSoldOther,A=void 0===u?function(){}:u,I=e.onClose,C=void 0===I?function(){}:I,O=(0,a.Z)(e,["userId","ad","isVisible","onClickSoldOther","onClose"]),p=(0,c.useContext)(_.Z),v=p.i18n,h=p.domain,L=(0,g.e)().add,m=(0,c.useState)(""),Z=m[0],x=m[1],M=(0,c.useState)(!1),D=M[0],P=M[1],y=(0,S.ZJ)(n),k=h.get("config"),j=k.get("PAGES").USER_RATING,b=(0,E.Z)((0,i.Z)((function(e){var t,i;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return[4,h.get("delete_ad_use_case").execute({adId:n.id,reason:e})];case 1:return t=s.sent(),(i=t[0])?[2,[i,null]]:[2,[null,e]]}}))})),{onSuccess:function(e){var t=k.get("AD_MANAGEMENT").DELETE_REASONS.SOLD_ON_SITE,i=h.get("config").get("PAGES").MY_ADS,a=h.get("config").get("TRACKING_EVENTS_NAMES").MY_AD_AD_DELETED,r=(null==n?void 0:n.trackingData)||{};if(h.get("call_link_tracking_use_case").execute({page:i,event:a,data:(0,s.Z)({},r,{reason_ad_deleted:e===t?"MODAL_REMOVE_AD_SOLD_MILANUNCIOS":"MODAL_REMOVE_AD_SOLD_OTHER",hit_origin:"vendido"}),options:{protocols:{event_version:2}}}),e===t)return y?void P(!0):(L({content:v.t("MODAL_SELL_AD_TOAST")}),void C());A()},onError:function(){L({content:v.t("NOTIFICATION_GENERIC_ERROR"),type:"error"})}}),U=b[0],G=b[1].isLoading,V=(0,i.Z)((function(){var e;return(0,r.__generator)(this,(function(t){return e=k.get("TRACKING_EVENTS_NAMES").USER_RATING_BUYER_NOT_LISTED_BUTTON_CLICKED,h.get("call_link_tracking_use_case").execute({page:j,event:e,data:{}}),C(),L({content:v.t("MODAL_SELL_AD_TOAST")}),[2]}))})),B=(0,i.Z)((function(){return(0,r.__generator)(this,()}));return(0,o.jsx)(T.Z,(0,s.Z)({visible:l,size:T.Z.SIZES.MEDIUM,onClose:function(){D&&L({content:v.t("MODAL_SELL_AD_TOAST")}),C()},floatingIconClose:!0,isContentless:!0},O,{children:D?(0,o.jsxs)(T.Z.Content,{withoutIndentation:!0,children:[(0,o.jsx)(f,{title:n.title}),(0,o.jsx)("div",{className:R+"-picker",children:(0,o.jsx)(S.ZP,{userId:t,ad:n,onBuyerNotListed:V,onFeedbackInputTrack:function(e,t,n){var i=k.get("TRACKING_EVENTS_NAMES"),s=i.USER_RATING_STEP_1_COMPLETED,a=i.USER_RATING_STEP_2_COMPLETED;switch(e){case S.dO.CONFIRM_SUBMIT_SUCCESS_RECEIPT:var r=t.tradeRole;h.get("call_link_tracking_use_case").execute({page:j,event:a,data:{user_type:null==r||null==r.toLowerCase?void 0:r.toLowerCase()}});break;case S.dO.SHOW_STEP:if(1===n){var o=t.tradeRole;h.get("call_link_tracking_use_case").execute({page:j,event:s,data:{user_type:null==o||null==o.toLowerCase?void 0:o.toLowerCase()}})}}},onTrack:function(e){var t=k.get("TRACKING_EVENTS_NAMES").USER_RATING_BUTTON_CLICKED;if(e===S.Iy.CONFIRM)h.get("call_link_tracking_use_case").execute({page:j,event:t,data:{}})},onClose:function(){C(),L({content:v.t("MODAL_SELL_AD_TOAST")})}})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(T.Z.Content,{children:[(0,o.jsx)(f,{title:n.title}),(0,o.jsx)(N,{value:Z,onChange:)]}),(0,o.jsx)(T.Z.Footer,{children:(0,o.jsx)(T.Z.FooterActions,{children:(0,o.jsx)(d.ZP,{color:"primary",design:"solid",disabled:""===Z,onClick:B,isLoading:G,children:v.t("MODAL_SELL_AD_NEXT_BUTTON")})})})]})}))}p.displayName="ModalSellAd",p.propTypes={isVisible:u().bool,userId:u().string,ad:u().shape({id:u().string.string,title:u().string.isRequired,trackingData:u().object}),onClickSoldOther:u().func.isRequired,onClose:u().func.isRequired}},L0jl:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n("QslU"),s=n("Oz0t"),a=n("t2Qr"),r=n("7aI0"),o=n.n(r),c=n("V67U"),l=n.n(c),u=n("XErn"),d="ma-SharedOptionsListItem",_=function(e){var t,n=e.text,s=e.value,a=e.isChecked,r=e.onChange,c=o()(d+"-container",((t={})[d+"--checked"]=a,t));return(0,i.jsx)("li",{className:d,children:(0,i.jsxs)("label",{className:c,"aria-checked":a,children:[(0,i.jsx)(u.ZP,{size:u.ZP.sizeTypes.s,className:d+"-text",children:n}),(0,i.jsx)("input",{onChange:r,checked:a,type:"radio",value:s,id:s,className:d+"-inputRadio"})]})})};_.propTypes={text:l().string.isRequired,value:l().string.isRequired,isChecked:l().bool,onChange:l().func};var E=_,T=n("bBVy"),g=n("zscR"),S="ma-SharedOptionsListItem",A=function(e){var t,n=e.avatarSrc,a=e.text,r=e.value,c=e.isChecked,l=e.onChange,d=(0,s.useContext)(T.Z),_=d.i18n,E=d.domain.get("config").get("BASE_IMAGES_URL_STATICS"),A=o()(S+"-container",S+"-container--withAvatar",((t={})[S+"--checked"]=c,t)),I=o()(S+"-text",S+"-text--isAvatar");return(0,i.jsx)("li",{className:S,children:(0,i.jsxs)("label",{className:A,"aria-checked":c,children:[(0,i.jsx)(g.ZP,{src:n,fallbackIcon:(0,i.jsx)("img",{src:E+"/images/myClassifieds/sellAd/green-avatar.8b8605d53b.svg",alt:_.t("SHARED_OPTION_LIST_AVATAR_ALT",{user:a}),loading:"lazy"})}),(0,i.jsx)(u.ZP,{className:I,size:u.ZP.sizeTypes.s,children:a}),(0,i.jsx)("input",{onChange:l,checked:c,type:"radio",value:r,id:r,className:S+"-inputRadio"})]})})};A.propTypes={avatarSrc:l().string.isRequired,text:l().string.isRequired,value:l().string.isRequired,isChecked:l().bool,onChange:l().func};var I=A;function f(e){var t=e.children,n=e.onChange,r=void 0===n?function(){}:n,o=e.value,c=e.defaultValue,l=(0,a.Z)(o,c),u=l[0],d=l[1],_=l[2],E=function(e){if(_)return r(e);d(e.target.value)};return(0,i.jsx)("ul",{className:"ma-SharedOptionsList",children:s.Children.map(t,(function(e){return s.cloneElement(e,{onChange:E,isChecked:u===e.props.value})}))})}f.displayName="SharedOptionsList",f.OptionAvatar=I,f.Option=E},"5P95":function(e,t,n){n.d(t,{dO:function(){return E},Iy:function(){return _},ZP:function(){return T},ZJ:);var i=n("beVP"),s=n("2GZr"),a=n("QslU"),r=n("Oz0t"),o=n("V67U"),c=n.n(o),l=n("bBVy"),u=n("nEQ8");function d(e){var t,n,i=(0,r.useContext)(l.Z).domain.get("config").get("AD_MANAGEMENT").RATING,s=i.DISABLED_RATING_CATEGORIES,a=i.ENABLED_RATING_SUBCATEGORIES,o=null==(t=e.categoryTree)?void 0:t.cat1_nombre,c=null==(n=e.categoryTree)?void 0:n.cat2_nombre,u=s.includes(o);return a.includes(c)||!u}var _={VIEW:"VIEW",CONFIRM:"CONFIRM",ERROR:"ERROR"},E={CONFIRM_SUBMIT_SUCCESS_RECEIPT:"CONFIRM_SUBMIT_SUCCESS_RECEIPT",SHOW_STEP:"SHOW_STEP",EXIT:"EXIT"};function T(e){var t=e.ad,o=e.userId,c=e.onBuyerNotListed,d=e.onClose,T=e.onTrack,g=void 0===T?function(){}:T,S=e.onFeedbackInputTrack,A=void 0===S?S,I=(0,r.useRef)(),f=(0,r.useContext)(l.Z).domain,C=(0,u.Z)(c),O=(0,u.Z)(d),N=(0,u.Z)(g),R=(0,u.Z)(A),p=t.id,v=t.title;return(0,r.useEffect)((function(){var e=(0,i.Z)((function(e){var t,i,a;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:t=e.settings,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.e(4886).then(n.t.bind(n,"RW3z",23))];case 2:return(i=s.sent().pickABuyer)&&(null==i||i.run(I.current,t)),[3,4];case 3:return a=s.sent(),console.log(a),[3,4];case 4:return[2]}}))})),t=f.get("config"),a=t.get("API_TRUST_MICROSERVICES_URL")+"/"+t.get("API_TRUST_MICROSERVICES_VERSION_1")+"/rating",r=t.get("AD_MANAGEMENT").REMOVE.FLAGS.segmentId,c="es-ES",l=(0,i.Z)((function(){var e,t,n;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return[4,f.get("get_trust_auth_token_use_case").execute({userId:o})];case 1:return e=i.sent(),t=e[0],n=e[1],[2,t?window.console.error(t):n.token]}}))}));e({settings:{locale:c,debug:!0,features:{stepperLines:!1,dateCustomizer:shouldAutoAdvance:!1,feedbackNavigation:!1,backButton:!0,hintType:"SUBTITLE"},onError:apiUrl:a,getUserToken:l,callbacks:{onBuyerNotListed:C,onClose:O},tracking:{view:function(){N(_.VIEW)},confirm:function(){N(_.CONFIRM)},error:,feedbackInput:{locale:c,tracking:{confirmSubmitSuccesReceipt:function(e){R(E.CONFIRM_SUBMIT_SUCCESS_RECEIPT,e)},showStep:(0,i.Z)((function(e,t){return(0,s.__generator)(this,(function(n){return R(E.SHOW_STEP,e,t),[2]}))})),exit:},itemId:"sdrn:milanuncios.com:classified:"+p,sellerId:"sdrn:milanuncios.com:user:"+o,itemTitle:v,segmentId:r}})}),[f,p,v,o,C,N,R,O]),(0,a.jsx)("div",{ref:I,className:"ma-TrustPickBuyer"})}T.displayName="TrustPickBuyer",T.propTypes={ad:c().object.isRequired,userId:c().string.isRequired,onBuyerNotListed:c().func,onClose:c().func,onTrack:c().func,onFeedbackInputTrack:c().func}}}]);