!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[4998],{86148:90612:18997:(e,s,l)=>{l.d(s,{Z:()=>x});var a=l(54138),r=l.n(a),t=l(5754),o=l.n(t),n=l(45222),i=l(17287),c=l(27690),d=l(19299),h=l(90127),g=l(55673),p=l(63583),u=l.n(p);let m={blogRow:"Ut4iZ",blogLinkCover:"Ro4PU",clickableBlogRow:"wmRou",avatar:"qgKw0",leftAlignedWrapper:"yElCb",blogDescription:"QK2Zh",blogName:"gLEkw",blogTitle:"fTJAC",displayName:"UulOO",floatingButton:"SbeG8",closeButton:"Mk7yS",blogPrivate:"vu9JS",blogFollowing:"isGvB",light:"veU9u",useBlogTheme:"ZOX9S",mobile:"KXYTk",noGutters:"Gef25",noHover:"QQQHB"};var v=l(2629);let x=e=>{var s,l,a=e.avatar,t=e.avatarSize,p=e.avatarStyle,x=e.avatarShape,b=e.blogName,w=e.blogTitle,y=e.blogUrl,N=e.theme,j=e.isPrivateChannel,f=e.openInPeepr,T=e.isMobile,Z=e.floatingButton,R=e.closeButton,C=e.onClick,S=e.badge,k=e.children,B=e.openBlogCard,_=void 0===B?"none":B,q=e.className,F=e.clickableBlogRowClassName,P=e.blogTitleClassName,D=e.following,U=e.followingYou,J=e.followingPage,E=void 0!==J&&J,G=e.followingInfoText,I=e.liveNow,L=e.internalLink,A=e.noHover,H=e.noGutters,O={width:12,height:12},Q=j&&(0,v.jsx)("div",{className:m.blogPrivate,children:(0,v.jsx)(d.Z,{size:O,colors:{primary:"light"===N?u().paletteGray65:u().paletteTransparentWhite65}})}),z=(void 0!==D&&D&&!E||void 0!==U&&U&&E)&&(0,v.jsx)("div",{className:m.blogFollowing,title:G,"aria-label":G,children:(0,v.jsx)(c.Z,{size:O,colors:{primary:u().paletteGreen}})}),W={blogName:b,href:y,onClick:C,showBlogCard:"body"===_},M=(0,v.jsxs)("div",{className:m.avatar,children:[(0,v.jsx)(n.Z,{name:b,dimension:void 0===t?37:t,imgStyleProps:p,imageResponse:a,avatarShape:x,showBlogCard:"avatar"===_,isLink:!1,liveNow:I}),S]}),X=(0,v.jsxs)("div",{className:m.blogName,children:[(0,v.jsx)("span",{className:m.displayName,children:k||b})," ",Q," ",z]}),$=(0,v.jsx)("div",{className:o()(m.blogTitle,P),children:w});return s=C||"avatar"!==_?(0,v.jsxs)("div",{className:m.leftAlignedWrapper,children:[M,(0,v.jsxs)("div",{className:m.blogDescription,children:[X,$]})]}):(0,v.jsxs)("div",{className:m.leftAlignedWrapper,children:[M,(0,v.jsxs)(i.Z,r()(r()({className:m.blogDescription},W),{},{children:[X,$]}))]}),l=void 0!==L&&L?(0,v.jsx)(g.rU,{to:y,className:o()(m.clickableBlogRow,F),children:s}):void 0===f||f?"avatar"===_?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.Z,r()({className:m.blogLinkCover},W)),(0,v.jsx)("div",{className:o()(m.clickableBlogRow,F),children:s})]}):(0,v.jsx)(i.Z,r()(r()({className:o()(m.clickableBlogRow,F)},W),{},{children:s})):(0,v.jsx)(g.rU,{className:m.clickableBlogRow,onClick:C,to:(0,h.vw)({blogName:b}),children:s}),(0,v.jsxs)("div",{className:o()(m.blogRow,q,{[m.light]:"light"===N,[m.useBlogTheme]:"blog"===N,[m.mobile]:T,[m.noHover]:void 0!==A&&A,[m.noGutters]:void 0!==H&&H}),children:[l,Z&&(0,v.jsx)("div",{className:o()(m.floatingButton,m.follow),children:Z}),R&&(0,v.jsx)("div",{className:o()(m.floatingButton,m.closeButton),children:R})]})}},56610:(e,s,l)=>{l.d(s,{Z:()=>v});var a=l(54138),r=l.n(a),t=l(54589),o=l.n(t),n=l(50209),i=l.n(n),c=l(95004),d=l(18997),h=l(31571),g=l(86148),p=l(2629),u=["isFollowed"];class m extends c.PureComponent{constructor(){super(...arguments),i()(this,"state",{followed:!!this.props.isFollowed}),i()(this,"onFollow",(e,s)=>{var l,a;this.setState({followed:s}),null===(l=(a=this.props).onClickFollow)||void 0===l||l.call(a,e)})}render(){var e=this.state.followed,s=this.props,l=(s.isFollowed,o()(s,u)),a=this.props,t=a.blogName,n=a.blogUrl,i=!e&&(0,p.jsx)(h.Z,{className:g.Z.blogRowFollowButton,following:e,blogName:t,blogUrl:n,onFollow:this.onFollow});return(0,p.jsx)("div",{className:"bIcAM",children:(0,p.jsx)(d.Z,r()(r()({},l),{},{isMobile:!1,floatingButton:i,theme:"light",openBlogCard:"none"}))})}}let v=m},25139:(e,s,l)=>{l.r(s),l.d(s,{default:()=>Z});var a=l(54138),r=l.n(a),t=l(50209),o=l.n(t),n=l(5754),i=l.n(n),c=l(95004),d=l(55673),h=l(17287),g=l(29846),p=l(54382),u=l(90127),m=l(78667),v=l(29742),x=l(72010),b=l(43523),w=l(86334),y=l(90612),N=l(2629);class j extends c.Component{constructor(){super(...arguments),o()(this,"query",this.props.query),o()(this,"state",{recentSearches:[]})}loadRecentSearches(){var e=(0,w.X5)();this.setState({recentSearches:e})}houldComponentUpdate(e){return this.props.tags!==e.tags&&(this.query=e.query),!0}render(){var e=this.props,s=e.followedTags,l=e.tags,a=e.blogs,r=e.isFullscreen,t=e.closeContainingPopover,o=e.appContext.logEvent,n=e.logSearchEvent,c=this.state.recentSearches,m=this.query,j=e=>{o({eventName:b.J.SearchSuggestionRecentSearchTap,eventDetails:{result:e,result_type:"search_query"}}),t()},f=e=>{o({eventName:b.J.SearchSuggestionRecentSearchClearTap,eventDetails:{result:e,result_type:"search_query"}}),(0,w.DL)(e),this.loadRecentSearches()},T=(e,s,l)=>{o({eventName:b.J.SearchSuggestionFollowedTagTap,eventDetails:{result:e,result_type:"tag",position:l}}),s&&o({eventName:b.J.SearchSuggestionTrendingTagTap,eventDetails:{result:e,result_type:"tag",position:l}}),t()},Z=(e,s,l)=>{n(b.J.SearchTypeaheadTagResultTap,{result:e,result_type:"tag",search_query:m,position:l}),s&&n(b.J.SearchSuggestionTrendingTagTap,{result:e,result_type:"tag",search_query:m,position:l}),t()},R=(e,s)=>{n(b.J.SearchTypeaheadBlogResultTap,{result:e,result_type:"blog",search_query:m,position:s}),t()},C=e=>{n(b.J.SearchTypeaheadGoToBlogTap,{search_query:e}),t()},S=(e,s)=>{n(b.J.SearchTypeaheadBlogFollowTap,{result:e,result_type:"blog",search_query:m,position:s})},k=!!s.length&&(0,N.jsxs)("div",{className:y.Z.searchResult,children:[(0,N.jsx)("h3",{className:y.Z.resultTitle,children:(0,N.jsx)(p.ZP,{children:"Tags you follow"})}),s.map((e,s)=>(0,N.jsx)(d.rU,{className:y.Z.typeaheadRow,to:(0,u.fO)(e.name,{src:"followed_tag"}),onClick:()=>T(e.name,!!e.trending,s),children:(0,N.jsx)(x.Z,{name:e.name,thumbnail:e.thumbUrl})},e.name))]}),B=""===m&&!!(null!=c&&c.length)&&(0,N.jsxs)("div",{className:y.Z.searchResult,children:[(0,N.jsx)("h3",{className:y.Z.resultTitle,children:(0,N.jsx)(p.ZP,{comment:"Label pointing to recent searches",children:"Recent"})}),c.map(e=>(0,N.jsx)(d.rU,{className:y.Z.typeaheadRow,to:(0,u.W8)(e,"search",{src:"recent_search"}),onClick:()=>j(e),children:(0,N.jsx)(x.Z,{recent:e,onRemove:()=>f(e)})},e))]}),_=m.trim(),q="#"===_[0]?_.slice(1):_,F=(""!==_||!!l.length)&&(0,N.jsxs)("div",{className:y.Z.searchResult,children:[(0,N.jsx)(d.rU,{className:y.Z.typeaheadRow,to:(0,u.fO)(q,{src:"typed_query"}),onClick:()=>{n(b.J.SearchTypeaheadGoToHubTap,{search_query:m}),t()},children:(0,N.jsx)(x.Z,{children:(0,N.jsx)(p.ZP,{components:{action:(0,N.jsx)("span",{className:y.Z.goToAction}),query:(0,N.jsx)("span",{className:y.Z.goToTag,children:`#${q}`})},children:"[action]Go to [/action][query/]"})})},q),l.map((e,s)=>(0,N.jsx)(d.rU,{className:y.Z.typeaheadRow,to:(0,u.W8)(e.tag,"search",{src:"suggested_tag"}),onClick:()=>Z(e.tag,!!e.trending,s),children:(0,N.jsx)(x.Z,{query:m,name:e.tag})},e.tag))]}),P=(0,v.Z)(_),D=(P||!!a.length)&&(0,N.jsxs)("div",{className:y.Z.searchResult,children:[(0,N.jsx)("h3",{className:y.Z.resultTitle,children:(0,N.jsx)(p.ZP,{children:"Tumblrs"})}),P&&(0,N.jsx)(h.Z,{className:y.Z.typeaheadRow,blogName:_,showBlogCard:!1,onClick:children:(0,N.jsx)(x.Z,{children:(0,N.jsx)(p.ZP,{components:{blogName:(0,N.jsx)("span",{className:y.Z.goToBlog,children:_})},children:"Go to @[blogName/]"})},"@blog")}),a.map((e,s)=>(0,N.jsx)(x.Z,{query:m,onClick:()=>R(e.name,s),onClickFollow:blog:e},e.name))]}),U=(F||D)&&(0,N.jsxs)(N.Fragment,{children:[F,D]}),J=r&&(0,N.jsx)(g.Z,{overflow:"hidden"});return(0,N.jsxs)("div",{className:i()(y.Z.typeaheadDropdown,{[y.Z.fullscreen]:r}),children:[J,B,U,a.length?"":k]})}}o()(j,"defaultProps",{followedTags:[],tags:[],blogs:[],isFullscreen:!1,query:""});var f=(0,m.HJ)(j);class T extends c.Component{render(){return(0,N.jsx)(f,r()({},this.props))}}o()(T,"defaultProps",j.defaultProps);let Z=T},72010:(e,s,l)=>{l.d(s,{Z:()=>y});var a=l(50209),r=l.n(a),t=l(95004),o=l(56610),n=l(19486),i=l(38149),c=l(2541),d=l(63583),h=l.n(d),g=l(44009),p=l(98478);let u={typeaheadRow:"a8XCP",highlightQuery:"ySrcn",searchIcon:"BR9Jy",dismissRecentSearch:"CrOVJ",img:"FiOas",imgEmpty:"Ok4ZN",tagText:"sCYjs",blogName:"OrRZL"};var m=l(2629),v=e=>!!e.name,x=e=>!!e.blog,b=class w extends t.Component{constructor(){super(...arguments),r()(this,"renderAvatar",e=>e?(0,m.jsx)("div",{className:u.img,children:(0,m.jsx)(i.wZ,{imageResponse:[{url:e,width:36,height:36}],isSquare:!0})}):(0,m.jsx)("div",{className:u.imgEmpty})),r()(this,"renderHighlightedText",e=>{if(!this.props.query||!e)return e;var s=this.props.query.trim(),l=RegExp(`(${(0,c.h)(s)})`,"gi");return e.split(l).reduce((e,l,a)=>{if(!l)return e;var r=l.toLowerCase()===s.toLowerCase()?(0,m.jsx)("span",{className:u.highlightQuery,children:l},a):l;return e.push(r),e},[])})}render(){return v(this.props)?this.renderTag(this.props):x(this.props)?this.renderBlog(this.props):b(this.props)?this.renderRecent(this.props):this.renderContent(this.props)}renderTag(e){var s=e.name,l=e.thumbnail,a=e.query;return(0,m.jsxs)("div",{className:u.typeaheadRow,children:[a?(0,m.jsx)("div",{className:u.searchIcon,children:(0,m.jsx)(n.Z,{colors:{primary:h().paletteBlack}})}):this.renderAvatar(l),(0,m.jsx)("span",{className:u.tagText,children:this.renderHighlightedText(s)})]})}renderRecent(e){var s=e.recent,l=e.onRemove;return(0,m.jsxs)("div",{className:u.typeaheadRow,children:[(0,m.jsx)("div",{className:u.searchIcon,children:(0,m.jsx)(n.Z,{colors:{primary:h().paletteBlack}})}),(0,m.jsx)("span",{className:u.tagText,children:s}),(0,m.jsx)("div",{className:u.dismissRecentSearch,children:(0,m.jsx)(g.Z,{onClick:children:(0,m.jsx)(p.Z,{size:{width:12,height:12},colors:{primary:h().paletteBlack}})})})]})}renderBlog(e){var s=e.blog,l=s.name,a=s.title,r=s.avatar,t=s.followed,n=s.url,i=s.liveNow,c=e.onClick,d=e.onClickFollow;return(0,m.jsx)(o.Z,{blogUrl:n,blogName:l,avatar:r,blogTitle:(0,m.jsx)("span",{className:u.blogTitle,children:this.renderHighlightedText(a)}),isFollowed:t,liveNow:i,onClick:c,onClickFollow:d,children:(0,m.jsx)("span",{className:u.blogName,children:this.renderHighlightedText(l)})})}renderContentr()(w,"defaultProps",{query:void 0,blog:void 0,name:void 0,recent:void 0});let y=w},2541:(e,s,l)=>{l.d(s,{h:()=>t});var a=/[\\^$.*+?()[\]{}|]/g,r=RegExp(a.source);,29742:]);