!function(){"use strict";r n=function(){function n(t){!this,n),e(this,"bannerId",void 0),e(this,"currentScript",void 0),e(this,"containerEl",void 0),e(this,"document",void 0),e(this,"domain",void 0),e(this,"height",void 0),e(this,"iframeEl",void 0),e(this,"imageEl",void 0),e(this,"imageSrc",void 0),e(this,"parentNode",void 0),e(this,"preloadAttemptCount",2),e(this,"resizeTimeoutId",void 0),e(this,"width",void 0),e(this,"window",void 0),e(this,"zoneId",void 0),this.zoneId=t}var i,r,a;return i=n,a=[{key:"init",value:function(t){var e=t.bannerId,i=t.currentScript,r=t.document,a=t.domain,o=t.height,c=t.imageSrc,d=t.topWindow,s=t.width,h=t.zoneId;n.instance=new n(h),n.instance.bannerId=e,n.instance.document=r,n.instance.domain=a,n.instance.currentScript=i,n.instance.height=o,n.instance.imageSrc=c,n.instance.parentNode=i.parentElement,n.instance.width=s,n.instance.window=d,function t(){n.instance.preloadAttemptCount?n.instance.preload((function(){n.instance.handlerResize(),n.instance.window.addEventListener("resize",(),n.instance.containerEl.style.display="block"}),(function(){console.error("banner: preload error"),n.instance.preloadAttemptCount--,t()})):n.instance.parentNode&&n.instance.containerEl&&n.instance.parentNode.removeChild(n.instance.containerEl)}(),n.instance.create()}}],(r=[{key:"create",value:function(){var t=this;this.imageEl.style.cursor="pointer",this.imageEl.style.display="block",this.imageEl.style.maxHeight="".concat(this.height,"px"),this.imageEl.style.maxWidth="".concat(this.width,"px"),this.imageEl.style.width="100%",this.containerEl=this.createContainer((function(e){try{e.contentDocument.body.appendChild(t.imageEl);var n=t.createTag((,(function(){console.error("banner: container create tag error")}));e.contentDocument.head.appendChild(n)}catch(t){console.error("banner: container append child element error")}}),();var e=this.document.createElement("a");e.setAttribute("id",this.bannerId),e.setAttribute("href","//".concat(this.domain,"/4/").concat(this.zoneId)),e.setAttribute("style","background: transparent !important;\n            border: 0 !important;\n            display: block !important;\n            margin: 0 auto !important;\n            outline: none !important;\n            max-width: ".concat(this.width,"px !important;\n            width: 100% !important;")),e.setAttribute("target","_blank"),e.appendChild(this.containerEl),this.parentNode.insertBefore(e,this.currentScript)}},{key:"preload",value:function(t,e){this.imageEl=this.document.createElement("img"),this.imageEl.src=this.imageSrc,this.imageEl.onload=function(){return t()},this.imageEl.onerror=},{key:"createContainer",value:function(t,e){var n=this.document.createElement("style");try{n.appendChild(this.document.createTextNode("body { margin: 0; padding: 0; }"))}catch(t){e()}var i=this.document.createElement("iframe");return i.setAttribute("style","background: transparent !important;\n            border: 0 !important;\n            display: none;\n            font-size: 0 !important;\n            margin: 0 auto !important;\n            max-height: ".concat(this.height,"px !important;\n            max-width: ").concat(this.width,"px !important;\n            overflow: hidden !important;\n            outline: none !important;\n            padding: 0 !important;\n            pointer-events: none !important;\n            width: 100% !important;")),i.onload=function(){try{i.contentDocument.head.appendChild(n),t(i)}catch(t){e()}},i}},{key:"createTag",value:function(t,e){var n=this.document.createElement("script");return n.async=!0,n.onerror=e,n.onload=t,n.setAttribute("data-cfasync","false"),n.src="//".concat(this.domain,"/5/").concat(this.zoneId),n.type="text/javascript",n}},{key:"handlerResize",value:function(){var t=this;this.window.clearTimeout(this.resizeTimeoutId),this.resizeTimeoutId=this.window.setTimeout((function(){var e=n.instance.containerEl.getBoundingClientRect();n.instance.containerEl.style.height="".concat(e.width*t.height/t.width,"px")}),250)}}])&&t(i.prototype,r),a&&t(i,a),Object.defineProperty(i,"prototype",{writable:!1}),n}();e(n,"instance",void 0);var i=n,r="",a="",o=90,c="",d=window,s=728,h=0,l=document.currentScript,u=function(t,e){return isNaN(parseInt(t))?e:parseInt(t)};try{var m,p;r=l.dataset.id,a=l.dataset.domain,o=u(null==l||null===(m=l.dataset)||void 0===m?void 0:m.height,o),c=l.dataset.image,s=u(null==l||null===(p=l.dataset)||void 0===p?void 0:p.width,s),h=parseInt(l.dataset.zone)}catch(t){console.error("banner: currentScript error")}try{for(;d.top!==d;){var v=d.top.document.createElement("script");d.top.document.documentElement.appendChild(v),d.top.document.documentElement.removeChild(v),d=d.top}}catch(t){console.error("banner: top window error")}i.init({bannerId:r,height:o,currentScript:l,document:document,domain:a,imageSrc:c,topWindow:d,width:s,zoneId:h})}();
