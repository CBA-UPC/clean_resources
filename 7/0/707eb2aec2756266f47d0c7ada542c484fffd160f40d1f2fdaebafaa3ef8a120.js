!"undefined"!=typeof self?self:this,(function(){return [function(n,e,r){"use strict";e),r.d(e,"PopupOpenError",(function(){return Mn})),r.d(e,"create",(function(){return Ir})),r.d(e,"destroy",(function(){return Mr})),r.d(e,"destroyComponents",(function(){return zr})),r.d(e,"destroyAll",(function(){return Fr})),r.d(e,"PROP_TYPE",(function(){return wr})),r.d(e,"PROP_SERIALIZATION",(function(){return pr})),r.d(e,"CONTEXT",(function(){return mr})),r.d(e,"EVENT",(function(){return vr}));var u,c=[],s=[],d=0; w=);function p(n){return"[object RegExp]"==={}.toString.call(n)}var m={IFRAME:"iframe",POPUP:"popup"},v="Call was rejected by callee.\r\n";){fn=dn},ln(();var Wn=rn(Error));unction Dn(){return Boolean(document.body)&&"complete"===document.readyState}r Fn,Mn=Wn);defined"!=typeof document?document.currentScript:null,$n=ln((),Kn=un();var ie=function(){return{}};ar ue,ce=function(){};(ue={}).function=function(){},ue.error=ue.promise=function(){},ue.regex=ue.date=ue.array=function(n){return n},ue.object=function(n){return n},ue.string=function(n){return n},ue.number=function(n){return n},ue.boolean=function(n){return n},ue.null=function(n){return n},ue[void 0]=function(n){return ge("undefined",n)},ue),_e={},xe=((be={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},be.error=be.promise=be.regex=function(n){return new RegExp(n)},be.date=be.array=function(n){return n},be.object=function(n){return n},be.string=function(n){return n},be.number=function(n){return n},be.boolean=function(n){return n},be.null=function(n){return n},be[void 0]=function(){},be),Pe={};=new w(();;e={};unction Ge(n){return ae("responseListeners").get(n)}ction Ke(n,e,r,t){var o=t.on,i=t.send,a=$e({name:r.name,win:n,domain:e}),u="postrobot_method"===r.name&&r.data&&"string"==typeof r.data.name?r.data.name+"()":r.name;eturn w.all([w.flush().then((),w.try(().then((,()]).then(wn).catch(()}ostrobot_post_message=Ye.postrobot_bridge=Ye.postrobot_global=var tr,or=n lr(n){var e,r,t=n.data,o=n.metaData,i=n.sender,a=n.receiver,u=n.passByReference,c=void 0!==u&&u,s=n.basic,d=void 0!==s&&s,f=ir(a.win),l=d?JSON.stringify(t):Je(f,a.domain,t,{on:rr,send:or}),h=c?(e=l,r=un(),fr(window)[r]=e,{type:"uid",uid:r}):l);return{serializedData:dr({sender:{domain:i.domain},metaData:o,reference:h}),cleanReference:}function hr(n){var e,r,t=n.sender,o=n.basic,i=void 0!==o&&o,a=n.data),u=a.reference,c=a.metaData;e="function"==typeof t.win?t.win({metaData:c}):t.win,r="function"==typeof t.domain?t.domain({metaData:c}):"string"==typeof t.domain?t.domain:a.sender.domain;var s=e,u);return{data:i?JSON.parse(s):e,r,s),metaData:c,sender:{win:e,domain:r},reference:u}}tr={setupBridge:ze,openBridge:linkWindow:Ie,linkUrl:isBridge:Ne,needsBridge:Se,needsBridgeForBrowser:Oe,hasBridge:needsBridgeForWin:Ce,needsBridgeForDomain:We,destroyBridges:;var wr={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number",ARRAY:"array"},pr={JSON:"json",DOTIFY:"dotify",BASE64:"base64"},mr=m,vr={RENDER:"zoid-render",RENDERED:"zoid-rendered",DISPLAY:"zoid-display",ERROR:"zoid-error",CLOSE:"zoid-close",DESTROY:"zoid-destroy",PROPS:"zoid-props",RESIZE:"zoid-resize",FOCUS:"zoid-focus"};r br=ln(();ction Pr(){return w.try((function(){window.focus()}))}ar Cr=function(){return wn},Wr=unction Dr(n,e,r){var t={};return w.all(function(n,e,o){var i=[];return Sr(n,e,(function(n,e,o){var a=function(n,e,o){return w.resolve().then((function(){var i,a;if(null!=o&&e){var u=(i={},i.get=e.queryParam,i.post=e.bodyParam,i)[r],c=(a={},a.get=e.queryValue,a.post=e.bodyValue,a)[r];if(u)return w.hash({finalParam:w.try((),finalValue:w.try(()}).then((function(r){var o,i=r.finalParam,a=r.finalValue;if("boolean"==typeof a)o=a.toString();else if("string"==typeof a)o=a.toString();else if("object"==typeof a&&null!==a){if(e.serialization===pr.JSON)o=JSON.stringify(a);else if(e.serialization===pr.BASE64)o=an(JSON.stringify(a));else if(e.serialization===pr.DOTIFY||!e.serialization){o=a,n);for(var u=0,c=Object.keys(o);u<c.length;u++){var s=c[u];t[s]=o[s]}return}}else"number"==typeof a&&(o=a.toString());t[i]=o}))}}))}(n,e,o);i.push(a)})),i}(e,n)).then((function(){return t}))}function Nr(n){var e,r,t,o,a,u,c,s,d=n.uid,f=n.options,l=n.overrides,h=void 0===l?{}:l,p=n.parentWin,m=void 0===p?window:p,v=f.propsDef,y=f.containerTemplate,g=f.prerenderTemplate,b=f.tag,E=f.name,_=f.attributes,x=f.dimensions,P=f.autoResize,S=f.url,D=f.domain,N=f.exports,A=new w,j=[],R=On(),T={},I={},z={visible:!0},F=h.event?h.event:(e={},r={},t={on:once:trigger:triggerOnce:reset:),U=h.props?h.props:{},Y=h.onError,G=h.getProxyContainer,X=h.show,$=h.hide,K=h.close,Q=h.renderContainer,nn=h.getProxyWindow,en=h.setProxyWin,rn=h.openFrame,tn=h.openPrerenderFrame,on=h.prerender,an=h.open,cn=h.openPrerender,sn=h.watchForUnload,dn=h.getInternalState,fn=h.setInternalState,hn=function(){return"function"==typeof x?x({props:U}):x},gn=xn=Pn=Cn=Wn=Sn=Dn=Nn=function(){return X?X():w.hash({setState:Wn({visible:!0}),showElement:a?a.get().then(Jn):null}).then(wn)},An=jn=function(){return"function"==typeof S?S({props:U}):S},kn=Fn=Un=Xn=$n=Kn=Qn=ne=ee=re=oe=ln((),ie=ae=ue=ce=se=new w,de=ne.onError=ce;var fe=le=he=we=pe=function(n){void 0===n&&(n={});var e=s,r=we();yn(I,n),function(n,e,r,t,o){var i=t.state,a=t.close,u=t.focus,c=t.event,s=t.onError;Sr(r,n,(function(n,t,d){var f=!1,l=d;Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return f?l:(f=!0,function(){if(!t)return l;var f=t.alias;if(f&&!_n(d)&&_n(r[f])&&(l=r[f]),t.value&&(l=t.value({props:e,state:i,close:a,focus:u,event:c,onError:s,container:o})),!t.default||_n(l)||_n(r[n])||(l=t.default({props:e,state:i,close:a,focus:u,event:c,onError:s,container:o})),_n(l)){if(t.type===wr.ARRAY?!Array.isArray(l):typeof l!==t.type)throw new TypeError("Prop is not of type "+t.type+": "+n)}else if(!1!==t.required&&!_n(r[n]))throw new Error('Expected prop "'+n+'" to be defined');return _n(l)&&t.decorate&&(l=t.decorate({value:l,props:e,state:i,close:a,focus:u,event:c,onError:s,container:o})),l}())}})})),Sr(e,n,wn)}(v,U,I,r,e)},me=ve=return{init:render:function(n){var e=n.target,r=n.container,t=n.context,i=n.rerender;return w.try((function(){var n=Fn(),a=D||Fn();!e,a,r);var u=w.try((),c=U.window,s=ae(),l=Dr(v,U,"post"),h=F.trigger(vr.RENDER),p=ve(r),m=Sn(),y=p.then((),g=y.then((function(){return Dr(v,U,"get").then(()})),_=m.then((),x=_.then((),P=Xn(t),W=w.hash({proxyContainer:p,proxyFrame:x,proxyPrerenderFrame:P}).then(().then((),S=w.hash({windowName:_,proxyFrame:x,proxyWin:m}).then((),N=w.hash({proxyWin:S,proxyPrerenderFrame:P}).then((),j=S.then((),T=w.hash({proxyPrerenderWin:N,state:j}).then((),I=w.hash({proxyWin:S,windowName:_}).then((),z=w.hash({body:l}).then((),M=w.hash({proxyWin:S,windowUrl:g,body:l,method:z,windowName:I,prerender:T}).then((),L=S.then((),H=w.hash({container:W,prerender:T}).then((function(){return F.trigger(vr.DISPLAY)})),Y=S.then((),V=M.then((),K=A.then(();return w.hash({initPromise:A,buildUrlPromise:g,onRenderPromise:h,getProxyContainerPromise:p,openFramePromise:x,openPrerenderFramePromise:P,renderContainerPromise:W,openPromise:S,openPrerenderPromise:N,setStatePromise:j,prerenderPromise:T,loadUrlPromise:M,buildWindowNamePromise:_,setWindowNamePromise:I,watchForClosePromise:L,onDisplayPromise:H,openBridgePromise:Y,runTimeoutPromise:V,onRenderedPromise:K,delegatePromise:u,watchForUnloadPromise:s,finalSetPropsPromise:y})})).catch(().then(wn)},destroy:re,getProps:function(){return U},setProps:pe,export:de,getHelpers:we,getDelegateOverrides:getExports:}r Rr=On(),Tr=On();function kr(n){var e,r,t=n),o=t.name,a=t.tag,u=t.defaultContext,c=t.eligible,s=t.children,d=ur(window),f=[],l=h=ln(();if(h(),e=rr("zoid_allow_delegate_"+o,(function(){return!0})),r=rr("zoid_delegate_"+o,(),Tr.register(e.cancel),Tr.register(r.cancel),d.components=d.components||{},d.components[a])throw new Error("Can not register multiple components with the same tag: "+a);return d.components[a]=!0,{init:instances:f,driver:isChild:l,canRenderTo:registerChild:h}}var Ir=function(n){var e,r,t,o;oe().initialized||(oe().initialized=!0,r=(e={on:rr,send:or}).on,t=e.send,(o=oe()).receiveMessage=o.receiveMessage||{on:rr,send:or}),ze({on:rr,send:or,receiveMessage:er}),{on:rr,send:or}));var i=kr(n),a=function(n){return i.init(n)};a.driver=function(n,e){return i.driver(n,e)},a.isChild=function(){return i.isChild()},a.canRenderTo=function(n){return i.canRenderTo(n)},a.instances=i.instances;var u=i.registerChild();return u&&(window.xprops=a.xprops=u.getProps()),a};ar Fr=zr;function Mr(n){return Fr(),delete window.__zoid_9_0_86__,),(e=ae().get("postMessageListener"))&&e.cancel(),delete window.__post_robot_10_0_44__,Tr.all(n);var e}}])}));
//# sourceMappingURL=zoid.min.js.map