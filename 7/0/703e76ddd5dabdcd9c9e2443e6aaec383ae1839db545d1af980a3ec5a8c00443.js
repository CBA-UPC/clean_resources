var C={setDelegate:!0};unction Le(e){var t={},r=Z(e),n,a;for(var o in e)n=null,a=null,r&&(n=e.__lookupGetter__(o),a=e.__lookupSetter__(o)),n||a?(n&&t.__defineGetter__(o,n),a&&t.__defineSetter__(o,a)):t[o]=e[o];return t}function E(e){return typeof e<"u"}nction q(e){return Q(e)&&e.length===0}unction $(e){return L(e)&&Object.keys(e).length===0}function v(e){return typeof e=="function"}unction J(e){return S(e)&&e%1===0}unction Te(e){return!!e&&e.nodeType==1}function M(e){return!!e&&e.constructor===Array}unction we(e){var t=[];for(var r in e){var n=e[r];e.hasOwnProperty(r)&&!v(n)&&t.push(n)}return t}function De(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&!v(e[r])&&t.push(r);return t}function Ie(e){for(var t in e)if(e.hasOwnProperty(t))return!0}function Ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0}unction Pe(e){var t=[];for(var r in e){var n=e[r];e.hasOwnProperty(r)&&v(n)&&t.push(n)}return t}function Ce(e){var t={};for(var r in e)e.hasOwnProperty(r)&&!v(e[r])&&(t[e[r]]=r);return t}unction U(e,t,r,n){for(var a=r?n||{}:{},o,l=3;l<arguments.length;l++){o=arguments[l];for(var i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var s=o[i];(e||s!=null)&&(t||typeof s!="function")&&(a[i]=s)}}return a}function Me(e){for(var t=0;t<e.length;t++){var r=e[t];C[r]=!0}}unction re(e,t,r,n){var a=!1;if(e&&t){n=n||{},r=r||t;var o=for(var l in t)if(!(l in n)&&t[l]&&v(t[l])){var i=e[l],s=i&&v(i),c=null;s&&(i.attachedMethod===!0?c=i:c=i.bind(e)),e[l]=o(r,c,t,l),a=!0}}return a}function ne(e){var t=!1;for(var r in e)if(v(e[r])&&e[r].attachedMethod===!0){var n=e[r].origFunction;if(n)for(;e[r].origFunction;)e[r]=e[r].origFunction,t=!0;else delete e[r]}return t}function Ue(e,t){var r={};for(var n in e)t[n]&&v(e[n].setDelegate)&&(r[n]=e[n].setDelegate(t[n]));return r}var Ve=function(t){var r=!1;for(var n in t){var a=t[n];a&&typeof a=="object"&&v(a.setDelegate)&&(r|=ne(a))}return!!r};function ke(e,t){var r=null;if(e&&t&&t.setDelegate){var n={},a;for(a in e)v(e[a])&&e[a].origFunction&&(n[a]=e[a]);r=t.setDelegate(n)}return r}ar d=Object.freeze({__proto__:null,_utResetNonOverridableFunctions:be,shallowClone:Le,isDefined:E,isDefinedNonNull:g,isDefinedNonNullNonEmpty:xe,isEmptyString:q,isEmptyArray:H,isEmptyObject:$,isFunction:v,isNumber:S,isInteger:J,isString:Q,isElement:Te,isArray:M,isObject:L,values:we,keys:De,hasAnyKeys:Ie,hasAnyNonNullKeys:Ne,hasGetterAndSetterMethods:Z,methods:Pe,invert:Ce,extend:ee,copyKeysAndValues:U,addNonOverrideableFunctions:Me,attachMethods:re,detachMethods:ne,attachDelegate:te,setDelegates:Ue,resetDelegates:Ve,copyDelegatedFunctions:ke,dedupedArray:V}),T={exponential:{maxWait:1500,initialDelay:100,factor:2}},ae=function(e,t,r){this.delay=e||T.exponential.initialDelay,this.maxWait=S(t)?t:T.exponential.maxWait,this.factor=r||T.exponential.factor,this.timeWaited=0};ae.prototype.nextDelay=function(){var t=null,r=this.maxWait-this.timeWaited;return r>0&&(this.delay=Math.min(this.delay,r),this.timeWaited+=this.delay),(this.maxWait===0||r>0)&&(t=this.delay,this.delay=this.delay*this.factor),t};function oe(e,t,r,n){var a=t.call(t,r,a)}function Xe(e,t,r,n,a,o){var l=new ae(n,a,o);oe(l,e,t,r)}var Fe=Object.freeze({__proto__:null,exponentialBackoff:Xe});function le(e,t,r){var n=void 0;if(E(e))if(E(t)||(t=1024*1024),E(r)||(r=2),S(e)&&S(t)&&t>0&&J(r)&&r>=0){var a=Math.pow(10,r),o=e>0?"floor":"ceil";n=Math[o](e/t/a)*a}else n=NaN;return n}var Ge=Object.freeze({__proto__:null,deResNumber:le});unction Be(e){return k.call(this,e)}function k(e){var t=this.value("denylistedEvents",e),r=this.value("blacklistedEvents",e);return V(r,t)}unction X(e){var t=this.value("denylistedFields",e),r=this.value("blacklistedFields",e);return V(r,t)}function ze(e,t){return se.call(this,e,t)}nction ue(e,t){var r=ie.call(this,t)||(e?k.call(this,t).indexOf(e)>-1:!1);return r}function fe(e){var t=this.value("deResFields",e);return t||[]}function je(e,t){if(e){var r=fe.call(this,t),n;r.forEach(function(a){n=a.fieldName,n in e&&(e[n]=le(e[n],a.magnitude,a.significantDigits))})}return e}var Ke=Object.freeze({__proto__:null,disabled:ie,blacklistedEvents:Be,denylistedEvents:k,blacklistedFields:We,denylistedFields:X,removeBlacklistedFields:ze,removeDenylistedFields:se,metricsDisabledOrBlacklistedEvent:Ye,metricsDisabledOrDenylistedEvent:ue,deResFields:fe,applyDeRes:je}),F="0123456789",qe=F+"ABCDEF",ve=F+"ABCDEFGHIJKLMNOPQRSTUVWXYZ",ce=ve+"abcdefghijklmnopqrstuvwxy",he=ce+"z";function He(e,t,r){var n=!1;return e&&t&&(e=e.substr(0,t.length),r&&(e=e.toLowerCase(),t=t.toLowerCase()),n=e.indexOf(t)===0),n}function $e(e,t,r){var n=!1;if(e&&t){r&&(e=e.toLowerCase(),t=t.toLowerCase());var a=e.length-t.length;n=a>=0&&e.lastIndexOf(t)===a}return n}function D(e,t,r){var n=null,a=`	
\v\f\r             　\u2028\u2029​`,o=new RegExp("^["+a+"]+"),l=new RegExp("["+a+"]+$");if(e)if(!r&&(!t||t==a)&&e.trim)n=e.trim();else{var i=null,s=null,c=null;t&&typeof t<"u"?(t=t.replace(/([.?*+^$[\]\\(){}-])/g,"\\$1"),i="["+t+"]",s=new RegExp("^"+i+"+"),c=new RegExp(i+"+$")):(i=a,s=o,c=l);var p=e.replace(s,"");n=p.replace(c,"")}return n}function de(e,t){var r="";if(e)for(var n=e.toLowerCase().split("_"),a,o=0;o<n.length;o++)a=n[o][0],(o!==0||t)&&(a=a.toUpperCase()),rion Je(e){return de(e,!0)}function Qe(e){var t="",r="",n=!0;for(var a in e){var o=e[a];(o||o===0||o===!1)&&(t+=r+a+"="+encodeURIComponent(o) undefined (no 'return')"}function et(e,t){var r=null;t=t||"\\S+";var n=new RegExp("\\b"+t+"/(\\S+)\\b","i"),a=n.exec(e);return a&&a[1]&&(r=a[1]),r}function tt(e){var t="z",r=Date.now(),n=Math.floor(Math.random()*1e5);return r=r.toString(36).toUpperCase(),n=n.toString(36).toUpperCase(),e+t+r+t+n}function rt(e){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="",n,a=0,o=t.length;a<o;a++)n=t.charAt(a),n==="x"?r+=O(e):n==="y"?r+=O(e,"8","b"):r+=n;return r}function O(e,t,r){var n=globalThis.crypto||globalThis.msCrypto,a;return e?a=(e()*16|0).toString(16):n&&n.getRandomValues?a=(n.getRandomValues(new Uint8Array(1))[0]&15).toString(16):n&&n.randomBytes?a=n.randomBytes(1).toString("hex")[0]:a=(Math.random()*16|0).toString(16),t&&r&&(a<t||a>r)&&(a=O(e,t,r)),a}function nt(e,t){var r="",n=t.length;if(n<=36)r=e.toString(n).toUpperCase();else{for(var a,o,l=[];e>0;)a=e%n,o=t.charAt(a),l.push(o),e=(e-a)/n;r=l.reverse().join("")}return r===""&&(r="0"),r}function at(e){var t;if(Math.floor(4294967295/256)==16777215){var r=globalThis.crypto||globalThis.msCrypto,n,a,o,l,i;if(r&&r.getRandomValues)n=r.getRandomValues(new Uint32Array(16/Uint32Array.BYTES_PER_ELEMENT)),i=!0;else if(r&&r.randomBytes){var s=r.randomBytes(16);n=new Uint32Array(s.buffer,s.byteOffset,s.byteLength/Uint32Array.BYTES_PER_ELEMENT),i=!0}else for(n=new Uint32Array(16/Uint32Array.BYTES_PER_ELEMENT),a=0;a<n.length;a++)n[a]=Math.floor(Math.random()*Math.floor(4294967295));if(n){for(t="",a=0;a<n.length;a++)for(l=n[a],o=0;o<6;o++)t+=he[l%62],l=Math.floor(l/62);e&&(t="1_"+(i?"1":"2")+"_"+t)}}return t}var _e=Object.freeze({__proto__:null,base10Alphabet:F,base16Alphabet:qe,base36Alphabet:ve,base61Alphabet:ce,base62Alphabet:he,startsWith:He,endsWith:$e,trim:D,snakeCaseToCamelCase:de,snakeCaseToUpperCamelCase:Je,exceptionString:Ze,paramString:Qe,versionStringFromUserAgent:et,requestId:tt,uuid:rt,randomHexCharacter:O,convertNumberToBaseAlphabet:nt,cryptoRandomBase62tion(t){return te(this,t)},cookie:function(){var t;if(typeof window<"u"&&"iTunes"in window&&"cookie"in iTunes)t=iTunes;else if(typeof itms<"u"&&E(itms.cookie))t=itms;else if(typeof document<"u")t=document;else throw"cookies.cookie: No cookie object availturn r&&(r=unaped:function(t,r,n,a,o){},getUnescaped:function(t){var r=null,n=this._getRaw();if(n&&t)for(var a=n.split(";"),o=a.length-1;!r&&o>=0;o--){var l=a[o],i=l.indexOf("=");if(i>0)if(i+1==l.length)r="";else{var s=D(l.substring(0,i));s==t&&(r=D(l.substrin",this.E{return this.cookie()||""}};f.EXPIRE_NOW=-1;f.EXPIRE_SESSION=null;f.EXPIRE_ONE_SECOND=1;f.EXPIRE_ONE_MINUTE=f.EXPIRE_ONE_SECOND*60;f.EXPIRE_ONE_HOUR=f.EXPIRE_ONE_MINUTE*60;f.EXPIRE_ONE_DAY=f.EXPIRE_ONE_HOUR*24;f.EXPIRE_ONE_WEEK=f.EXPIRE_ONE_DAY*7;f.EXPIRE_ONE_MONTH=f.EXPIRE_ONE_DAY*31;f.EXPIRE_ONE_YEAR=f.EXPIRE_ONE_DAY*365;f.EXPIRE_ONE_SIDEREAL_YEAR=f.EXPIRE_ONE_DAY*365.25;f.EXPIRE_SIX_MONTHS=f.EXPIRE_ONE_DAY*180;var _={},w={},j=function(t){var r={};return typeof t.mtName=="function"&&typeof t.mtVersion=="function"&&(r.name=t.mtName(),r.version=t.mtVersion()),r},I=function(t){var r;return typeof t.mtName=="function"&&typeof t.mtVersion=="function"&&(r=t.mtName()+t.mtVersion()),r};function ot(e,t){var r=I(e),n=I(t);r&&n&&(_[n]||(_[n]=j(t)),_[r]||(_[r]=j(e),w[r]={}),_[r].delegates?w[r][n]||_[r].delegates.push(_[n]):_[r].detion lt(e){return _[I(e)]}var it=Object.freeze({__proto__:null,storeDelegateInfo:ot,getStoredDelegateObject:lt});function pe(e,t,r){var n=t;if(e&&t)for(var a=e.split("."),o=0;n&&o<a.length;o++){var l=a[o];!(l in n)&&r&&(n[l]={}),l in n?n=n[l]:n=null}return n}function N(e){var t=null;if(e&&arguments.length>1)for(var r=Ee(Array.prototype.slice.call(arguments,1)),n=r.length-1;n>=0;n--){var a=r[n];if(t=p];t=t.concat(a)}return t}var ut=Object.freeze({__proto__:null,valueForKeyPath:N,createObjectAtKea)}return U.apply(null,r)}function ft(e,t,r,n){var a=P(n),o=a;if(e&&t){function(p){return p in a})),t.length)for(var i=0;i<t.length;i++){var s=t[i],c=e[s];v(c)&&(l[s]=c.call(e,a))}o=P(o,l)}return o}function vt(e,t,r,n){var a,o,l;if(e&&t&&r)if(o={},a=N(t,r,r.custom),a){var i,s;if(M(a))for(i=0;i<a.length;++i)s=e[a[i]],g(s)&&(o[a[i]]=s);else if(L(a)){for(var c in a)for(i=0;i<a[c].length;++i)if(s=N(a[c][i],e),g(s)){o[c]=s;break}}else l="metrics: incorrect data type provided to applyFieldsMap (only accepts objects and Arrays)"}else l="metrics: unable to get "+t+" section from fieldsMap";else{var p=[];e||p.push("data"),t||p.push("sectionName"),r||p.push("fieldsMap"),l="metrics: missing argument(s): "+p.join(",")+" not provided to applyFieldsMap"}return l&&v(n)&&n(l),o}var ct=Object.freeze({__proto__:null,mergeAndCleanEventFields:P,processMetricsData:ft,applyFieldsMap:vt});function ht(e,t,r){ye(e,"GET",null,t,r)}function ye(e,t,r,n,a,o){var l=new XMLHttpRequest;r=r||void 0,o=o||{},n=v((){},a=v(a)?a:function(){};var i=o.async!==!1;o.timeout&&i&&(l.t"+l.statusa(new Error("XHR error"))},l.open(t,e,i),l.withCredentials=typeof o.withCredentials=="boolean"?o.withCredentials:!0,l.setRequestHeader("Content-type","application/json"),l.send(r)}var dt=Object.freeze({__proto__:null,makeAjaxGetRequest:ht,maull,e),r)),n=a}return n}function pt(e,t,r,n,a){return t||Se(e,r,n)||G(a)}var Et=Object.freeze({__proto__:null,_utClearSessions:_t,lottery:G,sessionSampled:Se,isSampledIn:pt}),B={STORAGE_TYPE:{LOCAL_STORAGE:"localStorage",SESSION_STOte this.storage[a]}})),r}};function W(e){var t=null,r=null,n=e===B.STORAGE_TYPE.LOCAL_STORAGE;try{r=n?typeof localStorage:typeof sessionStorage,r!=="undefined"?t=n?localStorage:sessionStorage:t=null}catch(a){t=null,console.error("_utils.storage._defaultStorageObject: Unable to retrieve stounction yt(e){return W(e)}var gt=me(W(B.STORAGE_TYPE.LOCAL_STORAGE)),St=me(W(B.STORAGE_TYPE.SESSION_STORAGE));function mt(e,t,r){var n=null;if(r)try{e.setItem(t,JSON.stringify(r)),n=r}catch(a){}else n=e.removeItem(t);return n}function At(e,t){var r=null,n=e.getItem(t);if(n)try{r=JSON.parse(n)}catch(a){r=void 0}return r}var Ot=Object.freeze({__proto__:null,_utDefaultStorageObject:yt,localStorageObject:gt,sessionStorageObject:St,saveObjectToStorage:mt,objectFromStorage:At});const wt=Object.freeze(Object.defineProperty({__proto__:null,backoff:Fe,config:Ke,cookies:f,delegatesInfo:it,eventFields:ct,keyValue:ut,network:dt,number:Ge,reflect:d,sampling:Et,storage:Ot,string:_e},Symbol.toSt;function A(e){this.key=e}A.prototype.toString=function(){return this.key};var h={flagArguments:{INCLUDE_CALL_STACK:new A("INCLUDE_CALL_STACK"),MIRROR_TO_SERVER:new A("MIRROR_TO_SERVER"),SUPPRESS_CLIENT_OUTPUT:new A("SUPPRESS_CLIENT_OUTPUT")},setDelegate:function(t){return d.attachDelegate(this,t)},execute:function(t,r,n){var a=t.levelStringToIntMap[r];if(t.level()!==t.NONE&&t.level()<=a){var o=Array.prototype.slice.call(n),l=h.nonFlagLogArguments(o),i=h.logOptions(t,a,o),s=i.includeCallStack?new Error().stack:null,c=s?l.concat(`
`+s):l;if(t[r]._lastLog=c,i.mirrorToServer&&h.sendToServer(t,r,l,s),i.throwInsteadOfPrint)throw new Error(l.toString());i.suppressClientOutput||(console[r]?console[r].apply(console,c):console.log.apply(agArguments[t.toStrieturn!h.isFlagObject(r)})},logOptions:function(t,r,n){vse(l.toString()),a[o]=!0)}),d.isFunction(t.mirrorToServerLevel)&&t.mirrorToServerLevel()!==t.NONE&&t.mirrorToServerLevel()<=r&&(a.mirrorToServer=!0),t.throwLevel()!==t.NONE&&t.throwLevel()<=r&&(a.throwInsteadOServer:function(t,r,n,a){}},R={NONE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},b={MIN_LEVEL:R.NONE,MAX_LEVEL:R.ERROR,levelIntToStringMap:{0:"none",1:"debug",2:"info",3:"warn",4:"error"},levelStringToIntMap:{none:0,debug:1,info:2,warn:3,error:4}};d.extend(b,R);var z={loggerName:"defaultLogger",level:b.INFO,throwLevel:b.NONE},K=!1,m={};function u(e){this._loggerName=e,this._level,this._throwLevel,K||(K=!0,d.extend(u.prototype,b),d.extend(u.prototype,h.flagArguments))}function Rt(e){e=e||z.loggerName;var t=m[e];return t||(t=new u(e),m[e]=t),t}fune m[e]}function Lt(){m={}}u.level=function(){reion(){return z.throwLeve d.attachDelegate(this,){return this._loggerName};u.prototype.levelParameterAsInt=function(t){var r=null,n;return d.isString(t)?n=this.levelStringToIntMap[t.toLowerCase()]:d.isNumber(t)&&(n=t),n>=this.MIN_LEVEL&&n<=this.MAX_LEVEL&&(r=n),r};u.prototype.setLevel=function(t){var r=this.levelParameterAsInt(t);r!==null&&(this._level=r)};u.prototype.setThrowLevel=function(t){var r=this.levelParameterAsInt(t);r!==null&&(this._throwLevel=r)};u.prototype.level=function(){var t=this._level;return d.isNumber(t)?t:u.level(ToStringMap[this.level(umber(t)?t:u.throwLevel()};u.prototype.debug=function(){h.execute(this,"debug",arguments)};u.prototype.info=function(){h.execute(this,"info",arguments)};u.prototype.warn=function(){h.execute(this,"warn",arge(this,"error",argum[t]?this[t]._lastLog:null};var xt=u.level,Tt=u.throwLevel;const Dt=Object.freeze(Object.defineProperty({__proto__:null,LOG_LEVELS:R,default:u,level:xt,loggerNamed:Rt,removeLogger:bt,resetLoggerCache:Lt,throwLevel:Tt,utils:h},Symbol.toStringTag,{value:"Module"}));export{R as L,Ot as a,u as b,Ke as c,Et as d,ct as e,Fe as f,Dt as g,ut as k,Rt as l,wt as m,dt as n,d as r,_e as s,h as u};

