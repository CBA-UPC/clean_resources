/*! permutive-javascript-sdk v19.104.0 (web) (built 2024-01-31T10:23:31.431Z) */(()=>{"use strict";var __webpack_modules__={2688:787:7183:3992:2851:2116:6967:8612:(e,t,n)=>{n.d(t,{lg:()=>p,Bt:()=>h});var r=n(7582),i=n(1500),o=n(3735),s=n(6567),a=n(2751),u=n(2652);var c=n(2851),l=n(4923),d=n(2197);const f=d.ff((e=>void 0===e));class p{et identities(){return this.identityMapRef.current}prepareThirdPartyIdentities(){this.logger.debug("[Identities]","loading 3rd party identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),n=[{load:,{load:e=>(e.userId,e.network,e.api,e.logger,s.YP)},{load:,{load:,{load:],r=(0,i.oA)(n.map((e=>e.load(this.identityProviderEnv)))).map(();return Promise.all(r).then(().then((e=>this.setIdentities(e))).then((0,u.bw)(())}getPrioritizedIdentities(e){const t={default:0},n=Object.entries(e).map((),r=n.filter((),o=n.filter((),u=(0,i.DZ)(()(r),c=u.length>0?Math.max(...u):0,l=r.map((),d=o.map(();return l.concat(d)}56Regex=/^[a-f0-9]{64}$/;const g=new Set(["public","email","email_md5","email_sha256","ip_address"]),h=_=2,m=3,v={},y={}},7658:922:4673:8975:(e,t,n)=>{n.d(t,{v:()=>o});ar i=n(9853);class o{constructor(e,t,n){this.logger=e,this.permutive=t,this.clientContext=n,this.optimisedActivationsConfig={dfp:{dfp:[88584,178997,179651,179650],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:0},appnexus:{},appnexus_adserver:[],nativo:[],rubicon_ssp:[],smart:[],freewheel:[88584,178997,179651,179650]}}getSpecializedActivations(e){return this.optimisedActivationsConfig[e]},9853:(e,t,n)=>{n.d(t,{$S:()=>s,Hn:()=>i,MU:()=>o});const r={web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!1,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},freewheel:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]}},i=o=i("web"),s=i("dfp");i("facebook_pixel_v2")},2836:389:5865:3577:5700:5461:9773:342:8491:5619:4454:4074:8317:4026:569:7575:7256:7274:9117:9880:7554:9332:8259:2497:5165:6037:(e,t,n)=>{n.d(t,{C:()=>u});var r=n(7582),i=n(1500),o=n(3735);const s=(a=[[{name:"dfp",import:Promise.resolve().then(n.bind(n,4388))}],[],[],[],[],[],[],[],[],[],[],[],[{name:"freewheel",import:Promise.resolve().then(n.bind(n,2097))}],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[{name:"web",import:Promise.resolve().then(n.bind(n,4400))}],[],[],[]],(0,o.zG)((0,i.xH)(a),(0,i.u4)({},()));var a;const u=,2721:(e,t,n)=>{n(9853),n(2652)},3248:9624:9658:4388:4400:9078:533:7423:4586:310:2849:(e,t,n)=>{n.r(t),n.d(t,{nextGenWeb:()=>bn,runNextGenFeaturesWeb:()=>yn});var r=n(7582),i=n(2116);ar s=n(2688),a=n(3735);const u=c=l=d=e=>void 0!==e.request_id,f=var p=n(4730);ar h=n(6567),_=n(7407),m=n(1828),v=n(922),y=n(3328),b=n(3992),w=n(8377);const E=k=w.li,S=w.Yg,P=var I=n(2851);const D="RefEventual",M=e=>I.a9(E(e)),O=C=T=e=>k(e.current),U=I.UI(k),x=I.UI(S),A={URI:D,map:(e,t)=>O(t)(e)},G={URI:D,map:A.map,ap:;var q=n(6392),z=n(2652);const L=R=j=B=K=W=$=N=F=Y=Q=H=V=new Set(["ThirdPartySegments","SlotRendered"]),J=new Set(["AdRequest","Reaction",...v.D0?["PageviewEngagement"]:[],...v.ED?["SegmentEntry","SegmentExit"]:[]]),X=new Set(["PageviewComplete"]),Z=new Set(["ContentStart","Pageview","Playing","StreamStart"]);r ne=n(365),re=n(4767);var ie=n(7554);nst ae="permutive-events-cache",ue="permutive-events-for-page",ce="[EVENTSCACHE]",le=onst fe=()=>[];nst he="[PrebidJS]";ar me=n(9853);const ve="_pnativo",ye=var be=n(7927),we=n(6017);nst Se=(0,a.ls)(be.UI((),be.hX((0,a.zG)(Boolean,(0,we.xD)((0,we.ff)(be.xb)))));var Pe,Ie,De,Me,Oe,Ce=-1,Te=Ue=xe=Ae=Ge=qe=ze=Le=Re=je=-1,Be=Ke=We=function(){addEventListener("visibilitychange",Ke,!0),addEventListener("prerenderingchange",Ke,!0)},$e=Ne=Fe=Ye=[1800,3e3],Qe=[.1,.25],He=Ve={passive:!0,capture:!0},Je=new Date,Xe=Ze=et=tt=nt=[100,300],rt=0,it=1/0,ot=0,st=at=ut=ct=[200,500],lt=0,dt=ft=[],pt={},gt=ht=[2500,4e3],_t={};const mt=const vt=var yt=n(926),bt=n(4923),wt=n(7341);n(856);const Et=e=>E(ne.F2(e)),kt=St=wt.UI(A,ne.dO),Pt=(ne.G5,,It=Dt=Mt=var Ot=n(4870);const Ct=Tt=Ut=xt=t="clean_room";const Kt=function(e,t){return i.of(h.YP)};var Wt=n(7241),$t=n(2197);const Nt="[Prebid Monitoring]",Ft=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_flag_count_total",labels:t,value:1})},Yt=Qt=const Ht=Vt=Jt=Xt=const Zt="_pssps",en=var tn=n(2097);const nn=function(e,t){return i.of(h.YP)},rn=const on=(e,t)=>i.vP({classificationModels:nn(e,t)}),sn=const an=un=onst ln=dn=fn=(0,a.ls)(JSON.stringify,z.vp);const pn=var gn=n(5619);const hn=const _n=(e,t)=>i.vP({contextual:hn(e,t)}),mn={empty:((),concat:;I.a9([]),I.a9([]),I.a9([]),I.a9(gn.b()),I.a9(h.YP),I.a9(h.YP);function vn(e,t,n){const{addonsLoaded:r,consent:o,currentTimestampSecs:s,enabledAddons:u,identities:c,realtime:l,sdkVariant:d,sessionId:f,userId:p,viewId:g}=t,[_,m]=I.Ue({}),[v,w]=(0,a.zG)(I.Ue(I.a9(h.YP)),();return(0,a.zG)(i.vP({lookalikeModels:rn(e),metricContext:gn.X({sdkVariant:d,sessionId:f,userId:p,viewId:g}),computeTimeMetrics:(E=e.metrics,i.K4(()),audiences:_n(e,t)}),i.ak("sdkql",(),i.ak("strategicPartnerships",(),i.ak("demandPartners",(),i.ak("mediaAndEntertainment",(t=>{let{sdkql:{queryLanguage:n}}=t;return((e,t)=>(0,a.zG)(i.vP({freewheel:(0,tn.freewheelService)(Object.assign({activationManager:e.activationManager,externalData:e.externalData},t))}),i.UI((0,a.a9)({}))))(e,{addonsLoaded:r,consent:o,initdAddons:u,queryLanguageCohorts:U(n.cohorts.all)})})),i.ak("publishers",(),i.ak("advertisers",(),i.bw((),i.ak("nonQlCohortTypes",(),i.UI(());var E}6640:4564:1410:7708:4769:30:3298:(e,t,n)=>{n.d(t,{S:()=>v});var r=n(3735),i=n(7582),o=n(6567),s=n(1500),a=n(2851),u=n(8612),c=n(2497),l=n(5165),d=n(3992);var f=n(2652);ar g=n(5057);class h{(e,t){return this.nextGen.eventCollection.on(e,t)},t){const s=Object.assign(Object.assign({},t),{permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,state:this.state,queryManager:this.queryManager,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,addons:this.addons,enrichers:this.enrichers,externalData:this.externalData,cookies:this.cookies,nextGenOutput:this.nextGen,identities:this.identities}),u=((0,r.zG)(this.nextGen.pbjsPair,a.UI(o.UI((0,f.vg)("pbjs")))),;if("contextual"!==e)if(-1===this.initialisedAddons.indexOf(e))switch(u(e),e){case"web":Promise.resolve().then(n.bind(n,4400)).then((e=>this.addons.web=new e.WebAddon(s))).then(();break;case"publishers":case"overlays":case"scriptrunner":case"nativo":case"facebook_pixel_v2":case"tiktok_pixel":case"eyeota_pixel":case"rubicon":case"rubicon_ssp":case"tracking_pixel":case"twitter_pixel":case"pinterest_pixel":case"local_storage":case"appnexus_adserver":case"prebid":case"classification_models":case"clean_room":case"gam_log":case"smart":case"tradedesk":case"ddp":case"dbm":case"appnexus":case"pubmatic":case"ctv":case"ssp":0;break;case"dfp":Promise.resolve().then(n.bind(n,9658)).then(();break;case"freewheel":Promise.resolve().then(n.bind(n,2097)).then(()}else"web"===e&&!0!==t.auto_init?(((,"permutive:web:ready",this.messages).catch(():"ctv"===e&&(null==t||t.auto_init)}ar _=n(4769);const m=v=,6416:5057:5919:7985:7078:4922:333:2652:6574:4730:4996:3030:2097:(e,t,n)=>{n.r(t),n.d(t,{FreeWheelAddon:()=>g,freewheelService:()=>c,load:()=>p,realService:()=>d,stubService:()=>l});var r=n(9853),i=n(2851),o=n(3735),s=n(3328),a=n(2116),u=n(4011);const c=d;unction d(e){const{activationManager:t,consent:n,externalData:r,initdAddons:c,queryLanguageCohorts:l,addonsLoaded:d}=e;return(0,o.zG)(i.vP({consent:n,addonsLoaded:d,addonInitd:i.UI((e=>e.has(f)),c)}),a.KD([[a.K4((()=>r.removeExternalData(h)))],[a.K4(o.Q1)],a.K4((e=>{let{onServiceStop:n}=e;const a=t.getSpecializedActivations(f),c=new Set([...a]);(0,o.zG)(l,i.UI(s.hX((e=>c.has(e)))),i.D8(s.Eh(u.Eq)),i.UI(s.UI((e=>e.toString()))),i.YP((e=>r.setExternalJsonData(h,e))),(e=>n(e)))}))]),a.UI(o.Q1))}const f="freewheel",p=onst h="_pfws"},122:7748:3116:6341:2546:6197:8036:1628:(e,t,n)=>{n.d(t,{c:()=>$e,e:()=>Ke});var r=n(7183),i=n(2688),o=n(3735),s=n(4767);const a=u=e=>({kind:"string",value:e}),c=e=>({kind:"number",value:e}),l=e=>({kind:"array",value:e}),d=e=>({kind:"object",value:e}),f=e=>e,p=g=e=>({kind:"inner",a:e}),h=e=>({kind:"top",error:e}),_=e=>({kind:"unbounded",group:e}),m=v=(e,t,n)=>({kind:"countLimit",n,limit:t,group:e}),y=b=e=>({kind:"numberGroup",group:e}),w=e=>({kind:"stringGroup",group:e}),E=k=e=>({state:e}),S=var P=n(7209),I=n(2751);const D=M=var O=n(6567),C=n(1885),T=n(1500),U=n(365),x=ction z(e,t){return new Map([...e].map(t))}ar R=n(4268),j=n(4011);st $=N={encode:decode:,F={encode:e=>e.value,decode:e=>"string"==typeof e?(0,U.F2)(u(e)):$(e,"SimpleString")},Y={encode:e=>e.value,decode:,Q={encode:decode:,H={encode:decode:;st he={strategy:operation:extend:,_e={fromNumber:o.yR,plus:(e,t)=>e+t,times:;=n(7407),Se=n(922),Pe=n(2652),Ie=n(4730),De=n(8036);onst Oe="bootstrap",Ce="process",Te="processTransitions",Ue="updateExternalState",xe="updateLAL",Ae="updateTPD";var Ge=n(2851),qe=n(3328);const ze="permutive:query:changed",Le="internal_query_states",Re="external_query_states",je=var Be=n(3992);function Ke(){{const e=n(4386).Z;return(0,r.h)(new e)}}class We{constructor(e){this.queryMetadata={88584:"0c8b70cdb7",178997:"b70dc1a3b8",179362:"f8b540a928",179363:"190610671c",179364:"13dabadd34",179375:"1d5f2a977e",179376:"0a01b96893",179377:"4604806c9d",179645:"423a499533",179646:"245105df23",179650:"d66f33252a",179651:"1f9c4cc9a8"},this.externalQueries=new Set([]),this.customProperties=e.customProperties,this.externalData=e.externalData,this.logger=e.logger,this.messages=e.messages,this.api=e.api,this.permutive=e.permutive,this.permutiveData=e.permutiveData,this.queryWorker=e.queryWorker,this.realtime=e.realtime,this.sessionManager=e.sessionManager,this.transitionDebounceMaxTime=e.transitionDebounceMaxTime,this.transitionDebounceTime=e.transitionDebounceTime,this.userId=e.userId,this.viewId=e.viewId,this.metrics=e.metrics},8318:3622:1229:926:1828:1500:6862:365:856:4268:2690:9679:7341:6392:1885:6567:7209:6017:3328:7241:4923:8377:7927:2197:4870:7407:4767:5605:3735:9384:4011:2751:4386:477:7582:,__webpack_module_cache__={};_webpack_require__.n=__webpack_require__.d=__webpack_require__.o=__webpack_require__.r=var __webpack_exports__={},_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__;_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3992),(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.ho)(!0),(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.HJ)(()})();