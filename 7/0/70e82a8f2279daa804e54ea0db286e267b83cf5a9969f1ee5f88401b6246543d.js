unction isAllowedDomain(e,t){var n=getUrlDomain(e),o=t.filter?t.filter(function(e){if("*"===e[0]){var t=new RegExp("^.*"+e.slice(1)+"$");return t.test(n)}return e===n}):[];return!!o.length}!function(){var e=document.getElementById("kplConfig"),t=document.getElementById("formJson");e&&(window.kplConfig=JSON.parse(e.textContent)),t&&(window.formJson=JSON.parse(t.textContent))}(),function(e){"use strict";e.DigGlobals={appTreeLiveFormJson:{wcagSupport:{ratingLegend:{provision:"formTemplatesWCAG"}}}}}(window),function(){"use strict";void 0===window.closeWindow&&(window.closeWindow=function(){window.close()}),window.exports=window.exports||{},window.getUrlParam=function(e){var t=location.search.substr(location.search.indexOf("?")+1),n="";t=t.split("&");for(var o=0;o<t.length;o++){var i=t[o].split("=");i&&[i[0]]==e&&(n=i[1])}return n}}();var KAMPYLE_UTILS={isIos:triggerCustomEvent:function(e,t){t=t||{};var n=new CustomEvent(e,t);window.dispatchEvent(n)},createFormUrl:function(e,t){e+="?formId="+t,e+="&type=live";var n=window.location.href,o=n.split("?");o&&o.length&&(n=o[0]),e+="&referrer="+encodeURIComponent(n);var i=KAMPYLE_DATA.getMemoryData("region");return i&&(e+="&region="+i),KAMPYLE_DATA.isFeatureEnabled("WCAG")&&(e+="&isWCAG=true"),e},isDebugMode:showErrorStack:showWarning:addStyle:function(e,t){t=t||window.document;var n=t.getElementById("kampyleStyle");if(null===n){n=t.createElement("style"),n.type="text/css",n.id="kampyleStyle";var o=t.head||t.getElementsByTagName("head")[0];o.appendChild(n)}n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))},getViewportSize:getDocumentSize:function(){var e=document.body,t=document.documentElement,n=Math.max(e.scrollHeight||0,e.offsetHeight||0,t.clientHeight||0,t.scrollHeight||0,t.offsetHeight||0),o=Math.max(e.scrollWidth||0,t.scrollWidth||0,e.offsetWidth||0,t.offsetWidth||0,t.clientWidth||0);return{width:o+(e.getBoundingClientRect?e.getBoundingClientRect().left||0:0),height:n+(e.getBoundingClientRect?e.getBoundingClientRect().top||0:0)}},getTimeDiff:function(e,t){var n="undefined"!=typeof e?e:"2014-01-01 01:02:03.123456";n=new Date(n).getTime();var o=Date.now();if(isNaN(n))return"";var i=0;switch(i=n<o?o-n:n-o,t){case KAMPYLE_CONSTANT.TIME_FORMATS.SECONDS:return i.toFixed(1)/1e3;case KAMPYLE_CONSTANT.TIME_FORMATS.DAYS:return Math.floor(i/1e3/60/60/24);default:return i}},setEventHandler:removeEventHandler:setElementStyle:function(e,t,n){var o,i;if(n=n?"important":"",e)for(o in t)if(t.hasOwnProperty(o))if(n&&e&&e.style.setProperty){i=KAMPYLE_UTILS.camelToDash(o);try{e.style.setProperty(i,""+t[o],n)}catch(r){e.style.setProperty(i,""+t[o],"!"+n)}}else e.style[o]=t[o]},isNear:function(e,t,n){var o=document.getElementById(e);if(!o)return!1;var i=KAMPYLE_UTILS.offset(o).left-t,r=KAMPYLE_UTILS.offset(o).top-t,a=i+o.clientWidth+2*t,s=r+o.clientHeight+2*t,l=n.pageX,d=n.pageY;return l>i&&l<a&&d>r&&d<s},offset:function(e){if(!e)return!1;var t=e.getBoundingClientRect(),n=document.body;return{top:+t.top+n.scrollTop,left:t.left+n.scrollLeft}},createIframe:function(e,t,n,o){var i=document.createElement("iframe");return i.width=t,i.height=n,i.src=e,i.id=o,i.style.border=0,i.frameBorder=0,i.style.display="inline-block",i},getUrlParam:function(e){var t=location.search.substr(location.search.indexOf("?")+1);""===t&&(t=location.hash.substr(location.hash.indexOf("?")+1));var n="";t=t.split("&");for(var o=t.length,i=0;i<o;i++){var r=t[i].split("=");r&&[r[0]]==e&&(n=r[1])}return n},htmlDecode:function(e){e=e||"";var t;return t=new RegExp("&lt","g"),e=e.replace(t,"<"),t=new RegExp("&gt","g"),e=e.replace(t,">")},escapeRegExp:function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},replaceAll:sendMessageToIframe:function(e,t){var n,o,i;if(e&&(i=document.getElementById(e),i&&i.getAttribute)){var n=i.getAttribute("origin")||"*",o=i.contentWindow;o&&o.postMessage&&o.postMessage(JSON.stringify(t),n)}},getBrowser:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(n[1]))return e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""};if("Chrome"===n[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!=e)){var o=e.slice(1);return{name:o[0].replace("OPR","Opera"),version:o[1]||""}}return n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]}},initEventSubscriptions:function(e,t){for(var n in e)e.hasOwnProperty(n)&&KAMPYLE_EVENT_DISPATCHER.subscribe(n,t)},kampyleGetUserId:kampyleCreateUUID:function(){for(var e=8,t=n=t(),o=0;o<e-1;o++)n+="-"+t();return n},removeAllContent:function(e){if(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.parentNode.removeChild(e)}},safeToLower:kampyleSetCookie:getCookie:function(e){this.name=e+"=",this.ca=document.cookie.split(";");for(var t=0;t<this.ca.length;t++){for(this.c=this.ca[t];" "===this.c.charAt(0);)this.c=this.c.substring(1);if(0===this.c.indexOf(this.name)){var n=this.c.substring(this.name.length,this.c.length);return n}}return null},kampyleGetCookie:function(e){this.name=e+"=",this.ca=document.cookie.split(";");for(var t=0;t<this.ca.length;t++){for(this.c=this.ca[t];" "===this.c.charAt(0);)this.c=this.c.substring(1);if(0===this.c.indexOf(this.name))return this.c.substring(this.name.length,this.c.length)}return""},getByteSize:getAllKampyleData:function(){for(var e=["SUBMITTED_DATE","kampyleUserPercentile","kampyleUserSession","kampyle_userid","kampyleInvitePresented","DECLINED_DATE","LAST_INVITATION_VIEW"],t={},n=e.length-1;n>=0;n--)t[e[n]]=KAMPYLE_DATA.getData(e[n]);return t},kampyleDeleteCookie:function(e){var t="expires=Thu, 01 Jan 1970 00:00:00 UTC";document.cookie=e+"= ; "+t+"; path=/"},kampyleIsCookieEnabled:function(){return navigator.cookieEnabled},kampyleCompareTimestamps:function(e,t,n){if("number"!=typeof e||"number"!=typeof t)return!1;switch(e=new Date(e),t=new Date(t),e.setHours(0,0,0,0),n){case"equals":return t.setHours(0,0,0,0),e.getTime()===t.getTime();case"laterthan":return t.setHours(23,59,59,999),e>t;case"earlierthan":return t.setHours(0,0,0,0),e<t;case"doesnotequal":return t.setHours(0,0,0,0),e.getTime()!==t.getTime();default:return!1}},kampyleCompareByOperator:function(e,t,n,o){o=KAMPYLE_UTILS.safeToLower(o);var i=!1;if(void 0===e)return i;switch(n=KAMPYLE_UTILS.safeToLower(n)){case"equals":i="datetime"===o?KAMPYLE_UTILS.kampyleCompareTimestamps(e,t,n):e===t;break;case"doesnotequal":i="datetime"===o?KAMPYLE_UTILS.kampyleCompareTimestamps(e,t,n):e!==t;break;case"greaterthan":i=e>t;break;case"laterthan":i="datetime"===o?KAMPYLE_UTILS.kampyleCompareTimestamps(e,t,n):e>t;break;case"smallerthan":i=e<t;break;case"earlierthan":i="datetime"===o?KAMPYLE_UTILS.kampyleCompareTimestamps(e,t,n):e>t;break;case"contains":i=!!e&&e.indexOf&&e.indexOf(t)!==-1;break;case"doesnotcontain":i=!!e&&e.indexOf&&e.indexOf(t)===-1;break;case"startswith":i=!!e&&e.indexOf&&0===e.indexOf(t);break;case"endswith":i=!!e&&e.indexOf&&e.length&&e.indexOf(t,e.length-e.length)!==-1;break;case"hasvalue":i=!!e||""===e||e===!1||0===e}return i},setNestedPropertyValue:getNestedPropertyValue:function(e,t){if(!e||!t)return null;for(var n=t.split("."),o=e,i=n.length,r=0;r<i;r++){if(!o||!o.hasOwnProperty(n[r])&&!o[n[r]])return null;o=o[n[r]]}return o},validateKampyleDomain:function(e){var t=/(^https?:\/\/[A-Za-z0-9\-]+\.kampyle\.com(\/[A-Za-z0-9\-\._~:\/\?#\[\]@!$&'\(\)\*\+,;\=]*)?)/,n=t.test(e);return n||console.warn("Invalid url in validateKampyleDomain: "+e),n},camelToDash:function(e){return"string"!=typeof e?e:e.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},objectPropertyObserver:function(e,t,n){function o(){var s=KAMPYLE_UTILS.getNestedPropertyValue(e,t);return s&&n instanceof Function?n(s):void(a++<i&&window.setTimeout(o,r))}var i=100,r=100,a=0;window.setTimeout(o,r)},showInvite:function(){var e=document.getElementById("kampyleInvite");KAMPYLE_UTILS.setElementStyle(e,{visibility:"visible"},!0)},hideInvite:function(){var e=document.getElementById("kampyleInvite");KAMPYLE_UTILS.setElementStyle(e,{visibility:"hidden"},!0)},getNumericValue:function(e){return""===e||null===e?null:"number"!=typeof e&&isNaN(Number(e))?null:Number(e)},httpGetRequest:function(e,t,n,o){function i(){KAMPYLE_EVENT_DISPATCHER.trigger("neb_beforeHttpGetRequest");var a=new XMLHttpRequest;a.open("GET",e,!0),a.timeout=n||0,a.onerror=a.ontimeout=function(){if(r<t)r++,i();else{if(KAMPYLE_EVENT_DISPATCHER.trigger("neb_afterHttpGetRequestOnTimeout"),"function"!=typeof o)return;o()}},a.onload=function(){if(200===a.status){var e=JSON.parse(a.responseText);if(KAMPYLE_EVENT_DISPATCHER.trigger("neb_afterHttpGetRequest",{dataFromNode:Object.assign({},e)}),"function"!=typeof o)return;o(null,e)}else if(r<t)r++,i();else{if(KAMPYLE_EVENT_DISPATCHER.trigger("neb_afterHttpGetRequest",{dataFromNode:a.status}),"function"!=typeof o)return;o(a.status)}},a.send()}var r=0;i()},httpPostRequest:function(e,t,n){var o={postData:Object.assign({},t)};KAMPYLE_EVENT_DISPATCHER.trigger("neb_beforeHttpPostRequest",o);var i=new XMLHttpRequest;i.open("POST",e),i.setRequestHeader("Content-Type","application/json"),i.onerror=function(){KAMPYLE_EVENT_DISPATCHER.trigger("neb_afterHttpPostRequestOnError",{postData:i.status}),"function"==typeof n&&n()},i.onload=function(){if(200===i.status){if(KAMPYLE_EVENT_DISPATCHER.trigger("neb_afterHttpPostRequest",o),"function"!=typeof n)return;n(null,data)}else{if(KAMPYLE_EVENT_DISPATCHER.trigger("neb_afterHttpPostRequest",{postData:i.status}),"function"!=typeof n)return;n(i.status)}},i.send(JSON.stringify(t))},lowerize:function(e){return e.toLowerCase()},trim:getDeviceTypeByUserAgent:function(e){for(var t,n,o,i,r,a,s="function",l="model",d="object",c="type",u="vendor",m="mobile",p="tablet",g="smarttv",f="desktop",b={},h=[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,u,[c,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[u,"Apple"],[c,p]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/SHIELD Tablet/,/A500/,/LG-V410\/V41020c/,/Puffin/,/^(?!.*Mobile).*Android.*$/],[u,l,[c,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[u,"Amazon"],[c,p]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,u,[c,m]],[/\((ip[honed|\s\w*]+);/i],[l,[u,"Apple"],[c,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,l,[c,m]],[/\(bb10;\s(\w+)/i],[l,[u,"BlackBerry"],[c,m]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[l,[u,"Asus"],[c,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[l,"Xperia Tablet"],[c,p]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[u,"Sony"],[l,"Xperia Phone"],[c,m]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[u,l,[c,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[u,[l,/_/g," "],[c,m]],[/(nexus\s9)/i],[l,[u,"HTC"],[c,p]],[/(nexus\s6p)/i],[l,[u,"Huawei"],[c,m]],[/(microsoft);\s(lumia[\s\w]+)/i],[u,l,[c,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[u,"Microsoft"],[c,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[l,[u,"Motorola"],[c,m]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[u,"Motorola"],[c,p]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],l,[c,p]],[/smart-tv.+(samsung)/i],[u,[c,g],l],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[u,"Samsung"],l,[c,m]],[/sie-(\w+)*/i],[l,[u,"Siemens"],[c,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[u,"Nokia"],l,[c,m]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[l,[u,"Acer"],[c,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],l,[c,p]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[l,[u,"LG"],[c,m]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[u,"Lenovo"],[c,p]],[/linux;.+((jolla));/i],[u,l,[c,m]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,l,[c,m]],[/android.+;\s(pixel c)\s/i],[l,[u,"Google"],[c,p]],[/android.+;\s(pixel xl|pixel)\s/i],[l,[u,"Google"],[c,m]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[l,/_/g," "],[u,"Xiaomi"],[c,m]],[/android.+a000(1)\s+build/i],[l,[u,"OnePlus"],[c,m]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,KAMPYLE_UTILS.lowerize],u,l],[/Mobile|iP(hone|od|ad)|(Android).*(Mobile|sdk)|BlackBerry|portalmmm|BOLT|Vodafone|WindowsCE|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/],[u,l,[c,m]]],v=e||navigator.userAgent,y=0;y<h.length&&!r;){var E=h[y],T=h[y+1];for(t=n=0;t<E.length&&!r;)if(r=E[t++].exec(v))for(o=0;o<T.length;o++)a=r[++n],i=T[o],typeof i===d&&i.length>0?2==i.length?typeof i[1]==s?b[i[0]]=i[1].call(b,a):b[i[0]]=i[1]:3==i.length?typeof i[1]!==s||i[1].exec&&i[1].test?b[i[0]]=a?a.replace(i[1],i[2]):void 0:b[i[0]]=a?i[1].call(b,a,i[2]):void 0:4==i.length&&(b[i[0]]=a?i[3].call(b,a.replace(i[1],i[2])):void 0):b[i]=a?a:void 0;y+=2}return!b[c]||b[c]!==m&&b[c]!==p?f:b[c]}};(function(){var e;e=angular.element,angular.module("validator.directive",["validator.provider"]).directive("validator",["$injector",function(t){return{restrict:"A",require:"ngModel",link:function(n,o,i,r){var a,s,l,d,c,u,m,p,g,f;return s=t.get("$validator"),a=t.get("$parse"),d=a(i.ngModel),g=[],f=function(e,a){var s,l,c,u,m,p,f;if(null==a&&(a={}),u=0,s=0,l=function(){var e,s,l;if(++u>=g.length){for(r.$setValidity(i.ngModel,!0),s=0,l=g.length;s<l;s++)e=g[s],e.success(d(n),n,o,i,t);"function"==typeof a.success&&a.success()}},0===g.length)return l();for(m=function(e){return e.validator(d(n),n,o,i,{success:function(){return l()},error:function(){if(e.enableError&&1===++s&&(r.$setValidity(i.ngModel,!1),e.error(d(n),n,o,i,t)),1===("function"==typeof a.error?a.error():void 0))try{return o[0].select?o[0].select():o.parent().children().find("input")[0].select()}catch(l){console.warn("Error trying to select element ",l.message,o)}}})},p=0,f=g.length;p<f;p++){switch(c=g[p],e){case"blur":if("blur"!==c.invoke)continue;c.enableError=!0;break;case"watch":if("watch"!==c.invoke&&!c.enableError){l();continue}break;case"broadcast":c.enableError=!0}m(c)}},m=function(){var e;return e=s.getRule("required"),null==e&&(e=s.convertRule("required",{validator:/^.+$/,invoke:"watch"})),g.push(e)},p=function(e){var r,a,s,l,c;for(c=[],r=a=0,s=g.length;a<s;r=a+=1)(null!=(l=g[r])?l.name:void 0)===e&&(g[r].success(d(n),n,o,i,t),g.splice(r,1),c.push(r--));return c},i.$observe("validator",function(e){var r,a,l,d,u,p,f;if(g.length=0,(c.validatorRequired||c.required)&&m(),r=e.match(/^\/(.*)\/$/))return l=s.convertRule("dynamic",{validator:RegExp(r[1]),invoke:i.validatorInvoke,error:i.validatorError}),void g.push(l);if(r=e.match(/^\[(.+)\]$/)){for(d=r[1].split(","),f=[],u=0,p=d.length;u<p;u++)a=d[u],l=s.getRule(a.replace(/^\s+|\s+$/g,"")),"function"==typeof l.init&&l.init(n,o,i,t),l?f.push(g.push(l)):f.push(void 0);return f}}),i.$observe("validatorError",function(e){var t,n;if(t=i.validator.match(/^\/(.*)\/$/))return p("dynamic"),n=s.convertRule("dynamic",{validator:RegExp(t[1]),invoke:i.validatorInvoke,error:e}),g.push(n)}),c={validatorRequired:!1,required:!1},i.$observe("validatorRequired",function(e){return e&&"false"!==e?(m(),c.validatorRequired=!0):c.validatorRequired?(p("required"),c.validatorRequired=!1):void 0}),i.$observe("required",function(e){return e&&"false"!==e?(m(),c.required=!0):c.required?(p("required"),c.required=!1):void 0}),l=function(e,t){var o,r,s,l;return!t||(i.validatorGroup===t||(e.targetScope===n?0===i.ngModel.indexOf(t):(o=function(e,t){var n,i;for(n in e)switch(i=e[n],typeof i){case"string":if("$$hashKey"===n&&i===t)return!0;break;case"object":if(o(i,t))return!0}return!1},r=i.ngModel.indexOf("."),s=r>=0?i.ngModel.substr(0,r):i.ngModel,l=a(s)(n),l&&l.$$hashKey?o(a(t)(e.targetScope),l.$$hashKey):null)))},n.$on(s.broadcastChannel.prepare,function(e,t){if(l(e,t.model))return t.accept()}),n.$on(s.broadcastChannel.start,function(e,t){if(l(e,t.model))return f("broadcast",{success:t.success,error:t.error})}),n.$on(s.broadcastChannel.reset,function(e,a){var s,c,u;if(l(e,a.model)){for(c=0,u=g.length;c<u;c++)s=g[c],s.success(d(n),n,o,i,t),"watch"!==s.invoke&&(s.enableError=!1);return r.$setValidity(i.ngModel,!0)}}),n.$watch(i.ngModel,function(e,t){if(e!==t)return f("watch",{oldValue:t})}),u=function(){return n.$root.$$phase?f("blur"):n.$apply(function(){return f("blur")})},e(o).bind("blur",u),n.$on("$destroy",}}}])}).call(this),function(){angular.module("validator",["validator.directive"])}.call(this),function(){var e;e=angular.element,angular.module("validator.provider",[]).provider("$validator",function(){function t(e){for(var t=e;t&&t.hasAttribute&&!t.hasAttribute("data-neb-uuid")&&t.parentElement;)t=t.parentElement;return t&&t.hasAttribute&&t.hasAttribute("data-neb-uuid")?t.getAttribute("data-neb-uuid"):null}var n,o,i;n=null,o=null,i=null,this.rules={},this.broadcastChannel={prepare:"$validatePrepare",start:"$validateStart",reset:"$validateReset"},this.setupProviders=function(e){return n=e,o=n.get("$q"),i=n.get("$timeout")},this.convertError=function(n){var o;return"function"==typeof n?n:(o=n.constructor===String?n:"",function(n,i,r,a){var s,l,d,c,u,m,p;for(d=e(r).parent(),p=[];0!==d.length;){if(d.hasClass("form-group")||d.hasClass("kplFormHolder")){for(d.addClass("has-error"),m=d.find("label"),c=0,u=m.length;c<u;c++)l=m[c],e(l).hasClass("error")&&e(l).remove();s=e("<label class='control-label error' data-aut='error-msg-label' err-msg-txt='"+o+"'>"+o+"</label>");var g=null,f=null,b=t(r[0]);if(b){g=document.querySelector('[data-neb-uuid="'+b+'"] [aria-labelledby]'),f=g?g.getAttribute("aria-labelledby"):null;var h="error_message_"+b;s.attr("id",h),s.attr("aria-hidden","true"),f&&f.indexOf(h)===-1&&(f+=" "+h,g.setAttribute("aria-labelledby",f))}a.id&&s.attr("for",a.id),e(r).parent().hasClass("input-group")?e(r).parent().parent().append(s):e(r).parent().append(s);break}p.push(d=d.parent())}return p})},this.convertSuccess=function(t){return"function"==typeof t?t:function(t,n,o){var i,r,a,s,l,d;for(r=e(o).parent(),d=[];0!==r.length;){if(r.hasClass("has-error")){for(r.removeClass("has-error"),l=r.find("label"),a=0,s=l.length;a<s;a++)i=l[a],e(i).hasClass("error")&&e(i).remove();break}d.push(r=r.parent())}return d}},this.convertValidator=function(e){var t,i,r;return r=function(){},e.constructor===RegExp?(i=e,r=function(e,t,n,o,r){return null==e&&(e=""),i.test(e)?"function"==typeof r.success?r.success():void 0:"function"==typeof r.error?r.error():void 0}):"function"==typeof e&&(t=e,r=function(e,i,r,a,s){return o.all([t(e,i,r,a,n)]).then(function(e){return e&&e.length>0&&e[0]?"function"==typeof s.success?s.success():void 0:"function"==typeof s.error?s.error():void 0},}),r},this.convertRule=function(e){return function(t,n){var o,i,r;return null==n&&(n={}),o={name:t,enableError:"watch"===n.invoke,invoke:n.invoke,init:n.init,validator:null!=(i=n.validator)?i:function(){return!0},error:null!=(r=n.error)?r:"",success:n.success},o.error=e.convertError(o.error),o.success=e.convertSuccess(o.success),o.validator=e.convertValidator(o.validator),o}}(this),this.register=function(e,t){return null==t&&(t={}),this.rules[e]=this.convertRule(e,t)},this.getRule=function(e){return this.rules[e]?angular.copy(this.rules[e]):null},this.validate=function(e){return function(t,r){var a,s,l,d,c;return l=o.defer(),c=l.promise,s={total:0,success:0,error:0},d={promises:{success:[],error:[],then:[]},accept:validatedSuccess:function(){var e,t,n,o,i,r,a;if(++s.success===s.total){for(r=d.promises.success,t=0,o=r.length;t<o;t++)(e=r[t])();for(a=d.promises.then,n=0,i=a.length;n<i;n++)(e=a[n])()}return s.success},validatedError:function(){var e,t,n,o,i,r,a;if(0===s.error++){for(r=d.promises.error,t=0,o=r.length;t<o;t++)(e=r[t])();for(a=d.promises.then,n=0,i=a.length;n<i;n++)(e=a[n])()}return s.error}},c.success=function(e){return d.promises.success.push(e),c},c.error=function(e){return d.promises.error.push(e),c},c.then=a={model:r,accept:d.accept,success:d.validatedSuccess,error:d.validatedError},t.$broadcast(e.broadcastChannel.prepare,a),i(function(){var e,o,i,r,l;{if(0!==s.total)return e=n.get("$validator"),t.$broadcast(e.broadcastChannel.start,a);for(l=d.promises.success,i=0,r=l.length;i<r;i++)(o=l[i])()}}),c}}(this),this.reset=function(e){return function(t,n){return t.$broadcast(e.broadcastChannel.reset,{model:n})}}(this),this.get=function(e){return this.setupProviders(e),{rules:this.rules,broadcastChannel:this.broadcastChannel,register:this.register,convertRule:this.convertRule,getRule:this.getRule,validate:this.validate,reset:this.reset}},this.get.$inject=["$injector"],this.$get=this.get})}.call(this),function(){angular.module("validator.rules",["validator"]).config(["$validatorProvider",function(e){var t=KAMPYLE_UTILS.getNestedPropertyValue(window,"formJson.settings.formAdvanceSettings.requiredErrorMsg"),n=KAMPYLE_UTILS.getNestedPropertyValue(window,"formJson.settings.formAdvanceSettings.emailValidationErrorMsg");e.register("required",{invoke:"watch",validator:/.+/,error:t||"This Field is Required."}),e.register("number",{invoke:"watch",validator:/^[-+]?[0-9]*[\.]?[0-9]*$/,error:"Please enter a valid number."}),e.register("email",{invoke:"blur",validator:/^(|(([a-zA-Z0-9]+(\.[a-zA-Z0-9]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))$/,error:n||"A valid email address is required. For example: 'name@example.com'"})}])}.call(this),function(){var e;e=function(e,t){var n,o;for(n in e)o=e[n],"$$hashKey"!==n&&(t[n]=o)},angular.module("builder.controller",["builder.provider"]).controller("fbFormObjectEditableController",["$scope","$injector","CustomParamsModelService","ecFieldIntegrationService",function(t,n,o,i){var r,a;r=n.get("$builder"),a=n.get("Profile"),t.nebCustomParamCbLabel=function(e){t.label=e,t.popover.autoSave()},t.nebCustomParamCbLabelWithCP=function(e,n){t.labelWithCP=e,t.popover.autoSave()},t.nebCustomParamCbDescription=function(e){t.description=e,t.popover.autoSave()},t.nebCustomParamCbDescriptionWithCp=function(e,n){t.descriptionWithCP=e,t.popover.autoSave()},t.isCustomParamsFeatureEnabled=function(){return o.isCustomParamsFeatureEnabled()},t.isAnywherePropertyType=function(){return a.isAnywhereProperty()},t.getIsReausableByTypeAndKey=function(e,t){return i.getIsReausableByTypeAndKey(e,t)||!1},t.isMultiOption=function(e){return _.isObject(e)},t.getShortUSDateFormat=var s=!1;return t.setupScope=function(n){!s&&t.$on("NebFormSaved",function(){t.ecKey=n.ecKey,t.ecFriendlyName=n.ecFriendlyName,t.ecOptionsChanged=!1}),s=!0;var o;return e(n,t),t.optionsText=n.options.join("\n"),t.$watch("[label, description, placeholder, required, role, options, validation , unique_name , max_chars , custom_css , num_of_lines , image_url , image_align , border_style , borderOptions , date_format , display , conditionalDisplay, nebUuid,cdSource, randomStrategy, customLabels, ratingScalesValues, shouldShowAriaLabelInRating, labelWithCP, descriptionWithCP, useCustomParams, currentId, ecKey, ecFriendlyName, ecOptionsChanged, labelContent, thickness, ratingViewType,screenCaptureDynamicFieldContract, position]",function(){const e=a.isMobileProperty()&&a.checkProvision(DigProvisions.LIVE_FORM_V2);return n.label=t.label,n.description=t.description,n.placeholder=e&&"RatingGroup"===t.kampyleGroup?t.num_of_lines:t.placeholder,n.required=t.required,n.role=t.role,n.options=t.options,n.unique_name=t.unique_name,n.max_chars=t.max_chars,n.custom_css=t.custom_css,n.num_of_lines=t.num_of_lines,n.image_url=t.image_url,n.image_align=t.image_align,n.border_style=t.border_style,n.borderOptions=t.borderOptions,n.date_format=t.date_format,n.display=t.display,n.conditionalDisplay=t.conditionalDisplay,n.nebUuid=t.nebUuid,n.cdSource=t.cdSource,n.randomStrategy=t.randomStrategy,n.customLabels=t.customLabels,n.ratingScalesValues=t.ratingScalesValues,n.shouldShowAriaLabelInRating=t.shouldShowAriaLabelInRating,n.labelWithCP=t.labelWithCP,n.descriptionWithCP=t.descriptionWithCP,n.useCustomParams=t.useCustomParams,n.currentId=t.currentId,n.ecKey=t.ecKey,n.ecFriendlyName=t.ecFriendlyName,n.labelContent=t.labelContent,n.thickness=t.thickness,n.ratingViewType=t.ratingViewType,n.ecOptionsChanged=t.ecOptionsChanged,n.screenCaptureDynamicFieldContract=t.screenCaptureDynamicFieldContract,n.position=t.position,n.mediaCaptureDynamicFieldContract=t.mediaCaptureDynamicFieldContract,n.validation=t.validation},!0),"grading1to10"!==t.component||a.getPropertyType()!==PropertyTypes.IOS&&a.getPropertyType()!==PropertyTypes.ANYWHERE||t.$watch("ratingViewType",,a.checkProvision("multiOptionsID")||t.$watch("optionsText",function(e){var n;t.options=function(){var t,o,i,r;for(i=e.split("\n"),r=[],t=0,o=i.length;t<o;t++)n=i[t],n.length>0&&r.push(n);return r}()}),"checkbox"!==t.component&&"radio"!==t.component||t.position||(t.position=t.placeholder?"horizontal":"vertical"),o=r.components[n.component],t.validationOptions=o.validationOptions},t.data={model:null,backup:function(){return this.model={label:t.label,description:t.description,placeholder:t.placeholder,required:t.required,role:t.role,optionsText:t.optionsText,validation:t.validation,unique_name:t.unique_name,border_style:t.border_style,custom_css:t.custom_css,date_format:t.date_format,max_chars:t.max_chars,num_of_lines:t.num_of_lines,conditionalDisplay:t.conditionalDisplay,conditionalDisplayTargets:t.conditionalDisplayTargets,display:t.display,labelWithCP:t.labelWithCP,descriptionWithCP:t.descriptionWithCP,useCustomParams:t.useCustomParams,labelContent:t.labelContent,thickness:t.thickness,ratingViewType:t.ratingViewType,screenCaptureDynamicFieldContract:t.screenCaptureDynamicFieldContract,position:t.position,mediaCaptureDynamicFieldContract:t.mediaCaptureDynamicFieldContract}},rollback:function(){if(this.model)return t.label=this.model.label,t.description=this.model.description,t.placeholder=this.model.placeholder,t.required=this.model.required,t.role=this.model.role,t.optionsText=this.model.optionsText,t.ratingViewType=this.model.ratingViewType,t.thickness=this.model.thickness,t.validation=this.model.validation}}}]).controller("fbComponentsController",["$scope","$injector","Common",function(e,t,n){var o;return o=t.get("$builder"),e.selectGroup=function(t,n){var i,r,a,s;null!=t&&t.preventDefault(),e.activeGroup=n,e.components=[],a=o.components,s=[];for(r in a)i=a[r],i.group===n&&s.push(e.components.push(i));return s},e.groups=o.groups,e.activeGroup=e.groups[0],e.allComponents=o.components,e.$watch("allComponents",}]).controller("fbComponentController",["$scope",function(t){return t.copyObjectToScope=function(n){return e(n,t)}}]).controller("fbFormController",["$scope","$injector",function(e,t){var n,o;return n=t.get("$builder"),o=t.get("$timeout"),null==e.input&&(e.input=[]),e.$watch("form",function(){return e.input.length>e.form.length&&e.input.splice(e.form.length),o(},!0)}]).controller("fbFormObjectController",["$scope","FormModel",function(t,n){return t.copyObjectToScope=function(n){return e(n,t)},t.updateInput=function(e){var o;return o={id:t.formObject.id,label:t.formObject.label,value:null!=e?e:"",unique_name:t.formObject.unique_name,nebUuid:t.formObject.nebUuid,type:t.formObject.component},n.setFieldData(o),t.$parent.input.splice(t.$index,1,o)}}])}.call(this),function(){var e=5;angular.module("builder.drag",[]).provider("$drag",function(){var t,n,o;t=null,n=null,this.data={draggables:{},droppables:{}},this.mouseMoved=!1,this.mx=0,this.my=0,this.isMouseMoved=this),this.enableOpenByCode=!1,this.lastMousePosition={x:0,y:0},this.hooks={down:{},move:{},up:{}},this.eventMouseMove=function(){},this.eventMouseUp=function(){},$(function(t){return function(){return $(document).on("mousedown",function(e){var n,o,i;t.mouseMoved=!1,i=t.hooks.down;for(o in i)(n=i[o])(e);t.lastMousePosition={x:e.clientX,y:e.clientY}}),$(document).on("mousemove",function(n){if(n.pageX!==t.mx||n.pageY!==t.my){if(t.mx=n.pageX,t.my=n.pageY,1===(1&n.buttons)&&!t.mouseMoved){var o=Math.sqrt(Math.pow(n.clientX-t.lastMousePosition.x,2)+Math.pow(n.clientY-t.lastMousePosition.y,2));if(o<e)return}var i,r,a;t.mouseMoved=!0,a=t.hooks.move;for(r in a)(i=a[r])(n)}}),$(document).on("mouseup",function(e){var n,o,i;i=t.hooks.up;for(o in i)(n=i[o])(e)})}}(this)),this.currentId=0,this.getNewId=function(e){return (this),this.setupEasing=function(){return jQuery.extend(jQuery.easing,{easeOutQuad:)},this.setupProviders=function(e){return t=e,n=t.get("$rootScope")},this.isHover=function(e){return function(e,t){var n,o,i,r,a;return o=e.offset(),i=t.offset(),r={width:e.width(),height:e.height()},a={width:t.width(),height:t.height()},n={x:!1,y:!1},n.x=o.left>i.left&&o.left<i.left+a.width,n.x=n.x||o.left+r.width>i.left&&o.left+r.width<i.left+a.width,!!n&&(n.y=o.top>i.top&&o.top<i.top+a.height,n.y=n.y||o.top+r.height>i.top&&o.top+r.height<i.top+a.height,n.x&&n.y)}}(this),o=function(e,t){return setTimeout(function(){return t()},e)},this.autoScroll={up:!1,down:!1,scrolling:!1,scroll:function(e){return function(){return e.autoScroll.scrolling=!0,e.autoScroll.up?($("html, body").dequeue().animate({scrollTop:$(window).scrollTop()-50},100,"easeOutQuad"),o(100,function(){return e.autoScroll.scroll()})):e.autoScroll.down?($("html, body").dequeue().animate({scrollTop:$(window).scrollTop()+50},100,"easeOutQuad"),o(100,):e.autoScroll.scrolling=!1}}(this),start:function(e){return function(t){if(t.clientY<50){if(e.autoScroll.up=!0,e.autoScroll.down=!1,!e.autoScroll.scrolling)return e.autoScroll.scroll()}else{if(!(t.clientY>$(window).innerHeight()-50))return e.autoScroll.up=!1,e.autoScroll.down=!1;if(e.autoScroll.up=!1,e.autoScroll.down=!0,!e.autoScroll.scrolling)return e.autoScroll.scroll()}}}(this),stop:function(e){return function(){return e.autoScroll.up=!1,e.autoScroll.down=!1}}(this)},this.dragMirrorMode=function(e){return function(t,n,o){var i;return null==n&&(n=!0),i={id:e.getNewId(),mode:"mirror",maternal:t[0],element:null,object:o},t.on("mousedown",function(o){var r;if(o.preventDefault(),r=t.clone(),i.element=r[0],r.addClass("fb-draggable form-horizontal prepare-dragging"),e.hooks.move.drag=function(n,o){var a,s,l,d;if(!r.hasClass("prepare-dragging")||(r.css({width:t.width(),height:t.height()}),r.removeClass("prepare-dragging"),r.addClass("dragging"),!o)){r.offset({left:n.pageX-r.width()/2,top:n.pageY-r.height()/2}),e.autoScroll.start(n),l=e.data.droppables,d=[];for(s in l)a=l[s],e.isHover(r,$(a.element))?d.push(a.move(n,i)):d.push(a.out(n,i));return d}},e.hooks.up.drag=function(t){var n,o,a,s;s=e.data.droppables;for(o in s)n=s[o],a=e.isHover(r,$(n.element)),n.up(t,a,i);return delete e.hooks.move.drag,delete e.hooks.up.drag,i.element=null,r.remove(),e.autoScroll.stop()},$("body").append(r),!n)return e.hooks.move.drag(o,n)}),i}}(this),this.dragDragMode=function(e){return function(t,n,o){var i;return null==n&&(n=!0),i={id:e.getNewId(),mode:"drag",maternal:null,element:t[0],object:o},t.addClass("fb-draggable"),t.on("mousedown",function(o){if(o.preventDefault(),!t.hasClass("dragging"))return t.addClass("prepare-dragging"),e.hooks.move.drag=function(n,o){var r,a,s;if(!t.hasClass("prepare-dragging")||(t.css({width:t.width(),height:t.height()}),t.removeClass("prepare-dragging"),t.addClass("dragging"),!o)){t.offset({left:n.pageX-t.width()/2,top:n.pageY-t.height()/2}),e.autoScroll.start(n),s=e.data.droppables;for(a in s)r=s[a],e.isHover(t,$(r.element))?r.move(n,i):r.out(n,i)}},e.hooks.up.drag=function(n){var o,r,a,s;s=e.data.droppables;for(r in s)o=s[r],a=e.isHover(t,$(o.element)),o.up(n,a,i);return delete e.hooks.move.drag,delete e.hooks.up.drag,t.css({width:"",height:"",left:"",top:""}),t.removeClass("dragging defer-dragging"),e.autoScroll.stop()},n?void 0:e.hooks.move.drag(o,n)}),i}}(this),this.dropMode=function(e){return function(t,o){var i;return i={id:e.getNewId(),element:t[0],move:function(e,t){return n.$apply(function(){return"function"==typeof o.move?o.move(e,t):void 0})},up:function(e,t,i){return n.$apply(function(){return"function"==typeof o.up?o.up(e,t,i):void 0})},out:function(e,t){return n.$apply(function(){return"function"==typeof o.out?o.out(e,t):void 0})}}}}(this),this.draggable=function(e){return function(t,n){var o,i,r,a,s,l,d;if(null==n&&(n={}),r=[],"mirror"===n.mode)for(a=0,l=t.length;a<l;a++)i=t[a],o=e.dragMirrorMode($(i),n.defer,n.object),r.push(o.id),e.data.draggables[o.id]=o;else for(s=0,d=t.length;s<d;s++)i=t[s],o=e.dragDragMode($(i),n.defer,n.object),r.push(o.id),e.data.draggables[o.id]=o;return r}}(this),this.droppable=function(e){return function(t,n){var o,i,r,a,s;for(null==n&&(n={}),r=[],a=0,s=t.length;a<s;a++)i=t[a],o=e.dropMode($(i),n),r.push(o),e.data.droppables[o.id]=o;return r}}(this),this.get=function(e){return this.setupEasing(),this.setupProviders(e),{isMouseMoved:this.isMouseMoved,data:this.data,draggable:this.draggable,droppable:this.droppable}},this.get.$inject=["$injector"],this.$get=this.get})}.call(this),function(){angular.module("builder.directive",["builder.provider","builder.controller","builder.drag","validator"]).directive("fbBuilder",["$injector","ComponentPropertiesService","$rootScope","FormModel",function(e,t,n,o){var i,r,a,s,l;i=e.get("$builder"),r=e.get("$drag"),a=e.get("ModalHelper"),l=e.has("Profile")?e.get("Profile"):null;try{s=e.get("ConditionalDisplayConf")}catch(d){}return{restrict:"A",scope:{fbBuilder:"@"},template:"<div class='form-horizontal'>\n    <div ng-click=\"editField()\" class='fb-form-object-editable' ng-repeat=\"object in formObjects\"\n        fb-form-object-editable=\"object\" data-aut='livePreview-{{object.component}}'></div>\n</div>",link:function(e,o,l){var d,c,u;return e.editField=e.formName=l.fbBuilder,null==(c=i.forms)[u=e.formName]&&(c[u]=[]),e.formObjects=i.forms[e.formName],d=!0,$(o).addClass("fb-builder"),t.removeAllItems(),r.droppable($(o),{move:function(e){var n,i,r,a,s,l,c,u,m,p,g;if(d&&(t.hideAllItems(),d=!1),r=$(o).find(".fb-form-object-editable:not(.empty,.dragging)"),0===r.length)return void(0===$(o).find(".fb-form-object-editable.empty").length&&$(o).find(">div:first").append($("<div class='fb-form-object-editable empty'></div>")));for(c=[],c.push(-1e3),s=u=0,p=r.length;u<p;s=u+=1)i=$(r[s]),l=i.offset(),a=i.height(),c.push(l.top+a/2);for(c.push(c[c.length-1]+1e3),s=m=1,g=c.length;m<g;s=m+=1)if(e.pageY>c[s-1]&&e.pageY<=c[s]){$(o).find(".empty").remove(),n=$("<div class='fb-form-object-editable empty'></div>"),s-1<r.length?n.insertBefore($(r[s-1])):n.insertAfter($(r[s-2]));break}},out:function(){return d&&(t.hideAllItems(),d=!1),$(o).find(".empty").remove()},up:function(t,l,c){var u,m,p;if(d=!0,!r.isMouseMoved())return void $(o).find(".empty").remove();if(l||"drag"!==c.mode){if(l&&("mirror"===c.mode&&i.insertFormObject(e.formName,$(o).find(".empty").index(".fb-form-object-editable"),{component:c.object.componentName}),"drag"===c.mode)){p=c.object.formObject.index,m=$(o).find(".empty").index(".fb-form-object-editable"),p<m&&m--,i.updateFormObjectIndex(e.formName,p,m);var g=s.getImpactedCdComponents();if(g.length){var f,b=h=function(){s.cleanConditionalDisplays(g)};n.texts?(f='<span class="sans-md-regular">{{reorderField}}</span><br/><br/>',f+='<span class="sans-md-regular">{{reorderFieldNote}}</span>',f=f.replace("{{reorderField}}",n.texts.app.pages.forms.builder.reorderFieldConf),f=f.replace("{{reorderFieldNote}}",n.texts.app.pages.forms.builder.reorderFieldNote)):f='<span class="sans-md-regular">Conditional display settings will be affected</span><br/><ul>{{affectedComponents}}</ul>';var v={headerText:n.texts?n.texts.app.pages.forms.builder.reorderField:"Reorder Field",bodyTemplate:f,cancelCallback:b,okCallback:h,okBtnText:"Continue",okBtnClass:"btn-primary",cancelBtnText:"Cancel"};a.openConfirmDialog(v)}}}else u=c.object.formObject;return setTimeout(function(){document.body.scrollIntoView()},200),$(o).find(".empty").remove()}})}}}]).directive("fbFormObjectEditable",["$injector","Common","Provision","$rootScope","$modal","$sce","$timeout","FormModel","ComponentPropertiesService","FieldMappingStateService",function(e,t,n,o,i,r,a,s,l,d){var c,u,m,p,g,f;c=e.get("$builder"),m=e.get("$drag"),u=e.get("$compile"),p=e.get("$validator");var b,h;return b=e.has("Profile")?e.get("Profile"):null,h=e.has("WcagService")?e.get("WcagService"):null,g=e.has("ConditionalDisplayConf")?e.get("ConditionalDisplayConf"):null,f=e.has("CsatFlagService")?e.get("CsatFlagService"):null,CustomParamsModelNebula=e.has("CustomParamsModelNebula")?e.get("CustomParamsModelNebula"):null,ConditionalDisplayService=e.has("ConditionalDisplayService")?e.get("ConditionalDisplayService"):null,ModalHelper=e.get("ModalHelper"),{restrict:"A",controller:"fbFormObjectEditableController",scope:{formObject:"=fbFormObjectEditable"},link:function(e,a){function v(){var t=g.getCdSource(e.nebUuid);return t&&"formula"===t.type}function y(e){return Array.isArray(e)?e.reduce(function(e,t){if("custom-param"===t.type)return e.push(t),e;for(var n in t){var o=t[n];Array.isArray(o)&&e.push.apply(e,y(o))}return e},[]):[]}function E(e,t){return 0===t.filter(function(t){return t.name===e}).length}unction _(){if(f.isCsatFlagRole(e.role)){var n=t.getSingleText("texts.app.pages.forms.builder.deleteComponentNote");return n+"<br/>"+t.getSingleText("texts.app.pages.forms.builder.tabs.fieldSettings.csatFlag.modal.delete.noteText","Unless you designate another CSAT Field, no CSAT will be calculated for this form if you delete it.")}return e.isWarningVisible?t.getSingleText("texts.app.pages.forms.builder.deleteComponentNote","Rules and/or conditional display options may be affected"):""}var C;e.CsatFlagService=f,e.Common=t,e.Provision=n,e.FormModel=s,e.isCustomHtml=o.globalSelectedForm.customHTMLEnabled,e.livePreview=!1,e.inputText=null,e.formObject.ratingOptions=e.formObject.ratingOptions||{},e.formObject.ratingOptions.emoticons=[{stateOn:"kIcon rating-emoticon-1",stateOff:"kIcon rating-emoticon-1-off"},{stateOn:"kIcon rating-emoticon-2",stateOff:"kIcon rating-emoticon-2-off"},{stateOn:"kIcon rating-emoticon-3",stateOff:"kIcon rating-emoticon-3-off"},{stateOn:"kIcon rating-emoticon-4",stateOff:"kIcon rating-emoticon-4-off"},{stateOn:"kIcon rating-emoticon-5",stateOff:"kIcon rating-emoticon-5-off"}],e.resourcesTypes=t.getNestedProperty(o,"app.resourcesTypes.images"),e.questionScoreSelectionHandler=function(t){e.formObject.score=t.value,e.popover.autoSave()},e.isQuestionScoreEnabled=function(){return b.isAnywhereProperty()&&b.checkProvision(DigProvisions.ANYWHERE_QUESTION_SCORE)},e.isQuestionRandomizationEnabled=function(){return b.isAnywhereProperty()&&b.checkProvision(DigProvisions.ANYWHERE_QUESTION_RANDOMIZATION)},e.setQuestionScoreIfNeeded=function(){e.isQuestionScoreEnabled()&&(e.formObject.score=e.formObject.score||1)},e.imageSelectionHandler=function(t){e.image_url={resourceId:t.id,url:t.url,name:t.fileName},e.popover.autoSave()},e.initNps=function(){e.livePreview||(e.inputText=11)},e.initRating1To10=function(){e.livePreview||(e.inputText=11)},e.initRating1To7=function(){e.livePreview||(e.inputText=7)},e.initRating=t.getTexts().then(function(t){e.texts=t}),o.$on("draggedElement",function(t){e.$emit("fieldClicked",t)}),e.addImageResultToObject=function(t){e.image_url=t,e.popover.autoSave()},e.getImageObject=function(){return e.image_url},e.deleteComponent=e.isWebProperty=function(){return b&&window.PropertyTypes&&b.getPropertyType()===window.PropertyTypes.WEBSITE},e.isMobileWCAG=function(){return h&&!e.isWebProperty()&&h.shouldApplyMobileWcagSupportToForm()},e.hideReuseOption=function(e){const t=n.checkProvision(DigProvisions.HIDE_OPTIONS);return!t||!e.hidden},e.shouldSupportMobileSpecialRatingTypes=function(){return!e.isWebProperty()&&(!e.isMobileWCAG()||b.checkProvision(DigProvisions.LIVE_FORM_V2))},e.openWysiwygModal=function(){var t=i.open({templateUrl:"assets/views/templates/modals/wysiwyg.html",controller:"wysiwygCtrl",size:"md",scope:e,resolve:{labelHtml:function(){return angular.copy(e.labelContent)}}});t.result.then(},e.disableRole=function(t){t=t||"category";var n=function(n){if(n.nebUuid!==e.nebUuid&&n.role===t)return!0};return s.iterateComponents(n,!0)||!1},g&&(e.resetConditionalDisplaySettings=,e.setConditionalDisplayMessage=function(){var n=t.getSingleText("texts.app.pages.forms.builder.tabs.fieldSettings.alwaysDisplay");return g.hasCdSource(e.nebUuid)&&(!e.isConditionTargetInvalidCustomParam()||e.isConditionTargetInvalidCustomParam()&&v())&&(n=t.getSingleText("texts.app.pages.forms.builder.tabs.fieldSettings.conditional")),n},e.openConditionalDisplayModal=function(t){if(e.isWebProperty()&&b.checkProvision(DigProvisions.ADVANCED_CONDITIONAL_DISPLAY)||b.checkProvision(DigProvisions.MOBILE_SDKV2_ENABLE_ADVANCED_CONDITIONAL))ConditionalDisplayService.configureConditionalDisplay({isFormPublished:!!b.checkProvision(DigProvisions.ENABLE_SURVEY_DRAFTS)&&o.globalSelectedForm.published,component:component=s.getComponentByNebUuid(e.nebUuid),availableComponents:g.getAllPreviousComponents(e.nebUuid),customParams:CustomParamsModelNebula.getParamsByFormId(s.getForm().id),onSubmit:function(t){g.updateCdSource(e.nebUuid,t),e.cdSource=t,e.popover.autoSave()}});else{var n=function(t){g.updateCdSource(e.nebUuid,t),e.cdSource=t,e.popover.autoSave()};ModalHelper.openModal({templateUrl:"assets/views/templates/modals/conditionalDisplay.html",size:"lg",controller:"conditionalDisplayCtrl",okCallback:n,data:{nebUuid:e.nebUuid}})}},e.isConditionalDisplaySupported=function(){return!b.isAnywhereProperty()||b.checkProvision(DigProvisions.ANYWHERE_CONDITIONAL_DISPLAY)},e.isConditionTargetInvalidCustomParam=function(){var t=CustomParamsModelNebula.getParamsByFormId(s.getForm().id);if(null==g||null==t)return!1;var n=g.getCdSource(e.nebUuid);if(n&&v()){var o=n&&n.conditions&&y(n.conditions);return o.some(}return!(!n||"custom-param"!=n.type)&&E(n.customParamName,t)},e.removeMediaCaptureFormats=function(n){t.getNestedProperty(e.mediaCaptureDynamicFieldContract,"supportedMediaTypes")&&(e.mediaCaptureDynamicFieldContract.supportedMediaTypes=e.mediaCaptureDynamicFieldContract.supportedMediaTypes.filter()},e.addMediaCaptureFormats=function(n){t.getNestedProperty(e.mediaCaptureDynamicFieldContract,"supportedMediaTypes")&&e.mediaCaptureDynamicFieldContract.supportedMediaTypes.push(n)},e.setMaxVideoLength=function(t){e.mediaCaptureDynamicFieldContract.maxLength=t},e.setAudioAltText=function(t){e.mediaCaptureDynamicFieldContract.audioAltText=t},e.setVideoAltText=function(t){e.mediaCaptureDynamicFieldContract.videoAltText=t},e.setUploadMediaAltText=function(t){e.mediaCaptureDynamicFieldContract.uploadAltText=t},e.setAudioPlaceholderText=e.validateUniqueInternalName=function(t){e.duplicateInternalName&&(e.unique_name=e.unique_name_backup,e.duplicateInternalName=!1,o.formValidationsCounters.duplicateInternalNameErrors--)},e.isReadOnly=function(){return!!b.checkProvision(DigProvisions.ENABLE_SURVEY_DRAFTS)&&o.globalSelectedForm.published},e.backupInternalName=e.genformerateMaxIndex=function(){return 0===o.pageComponenetsCounter&&(o.pageComponenetsCounter=o.globalSelectedPage.dynamicData.length),o.pageComponenetsCounter++,o.pageComponenetsCounter},e.deleteComponent=function(t){var n=s.getForm(),i=g.getImpactedCdComponentsWhenDeleted(n,e.nebUuid);e.isWarningVisible=i.length;var r=function(){g.cleanConditionalDisplays(i),e.popover.remove(t),b.checkProvision(DigProvisions.SELF_SERVICE_FIELDS)&&d.removeField(e.nebUuid)},a={headerText:o.texts?o.texts.app.pages.forms.builder.deleteComponent:"Delete field?",bodyText:T(),noteText:_(),okCallback:r,windowClass:"neb-modal"};ModalHelper.openConfirmDialog(a)},e.setDropdownValueToModel=function(t,n){e[t]=n,e.popover.autoSave()},e.checkValidMaxCharsValue=function(t){parseInt(t)>1e3&&(e.max_chars="1000"),""!=t&&"0"!=t||(e.max_chars="50")},e.checkValidNumOfLinesValue=function(t){parseInt(t)>50&&(e.num_of_lines="50"),""!=t&&"0"!=t||(e.num_of_lines="3")},e.checkValidThicknessValue=function(t){parseInt(t)>50&&(e.thickness="50"),""!=t&&"0"!=t||(e.thickness="1")},e.validateInternalName=function(t){var n=!1;if(e.duplicateInternalName&&(n=!0),e.duplicateInternalName=!1,o.globalSelectedForm.pages.forEach(function(i){i.dynamicData.forEach(function(i){if(i.unique_name==t){if(!e.duplicateInternalName){e.duplicateInternalName=!0;var r={};r.component=i,r.pageName=o.globalSelectedPage.name,n||o.formValidationsCounters.duplicateInternalNameErrors++}}else e.popover.autoSave()})}),n&&!e.duplicateInternalName)o.formValidationsCounters.duplicateInternalNameErrors--;else if(b.checkProvision(DigProvisions.SELF_SERVICE_FIELDS)){var i=d.getState()[e.nebUuid];i&&(i.uniqueName=t,d.updateFieldState(e.nebUuid,i))}},e.initBorderStyle=function(){switch(e.border_style.label){case"dashed":e.border_style=e.borderOptions[1];break;case"dotted":e.border_style=e.borderOptions[3];break;default:e.border_style=e.borderOptions[2]}},e.htmlDecode=function(e){var t;return t=new RegExp("&lt","g"),e=e.replace(t,"<"),t=new RegExp("&gt","g"),e=e.replace(t,">"),r.trustAsHtml(e)},e.generateInternalName=function(n,i,r){e.nebUuid=e.nebUuid||t.generateUuid(),""==r&&(e.unique_name=o.globalSelectedPage.name+" "+n+" "+Math.floor(1e5*Math.random()+1)),e.popover.autoSave()},o.$on("closeElement",function(e){l.hidePropsForField(a)}),o.$on("savePopover",,e.inputArray=[],e.$component=c.components[e.formObject.component],e.setupScope(e.formObject),e.$watch("$component.template",function(t){var n;if(t)return n=u(t)(e),$(a).html(n)}),$(a).on("click",function(e){return m.isMouseMoved()||l.showPropsForField(a),!1}),e.FormModel.getIsReadOnlyMode()||m.draggable($(a),{object:{formObject:e.formObject}}),e.formObject.editable&&(C={},e.$watch("$component.popoverTemplate",function(t){t&&($(a).removeClass(C.id),C={id:"fb-"+Math.random().toString().substr(2),view:null,html:t},C.html=$(C.html).addClass(C.id),C.view=u(C.html)(e),$(a).attr("aria-describedby",C.id),l.setDataForField(a,C))}),e.popover={autoSave:function(){p.validate(e)},remove:function(t){t.preventDefault(),c.removeFormObject(e.$parent.formName,e.$parent.$index),l.hidePropsForField(a)}})}}}]).directive("fbComponents",.directive("fbComponent",["$injector","Common",function(e,t){var n,o,i;return n=e.get("$builder"),i=e.get("$drag"),o=e.get("$compile"),{restrict:"A",scope:{component:"=fbComponent"},controller:"fbComponentController",link:function(e,n){return t.getTexts().then(function(t){e.texts=t}),e.copyObjectToScope(e.component),i.draggable($(n),{mode:"mirror",defer:!1,object:{componentName:e.component.name}}),e.$watch("component.template",function(t){var i;if(t)return i=o(t)(e),$(n).html(i)})}}}]).directive("fbForm",["$injector","$rootScope","$filter",function(e,t,n){return{restrict:"A",require:"ngModel",scope:{formName:"@fbForm",input:"=ngModel","default":"=fbDefault"},template:'<div class=\'fb-form-object\' ng-repeat="object in form" fb-form-object="object"></div>',controller:"fbFormController",link:function(n,o,i){n.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n.isMobile=!0);var r,a,s;return r=e.get("$builder"),n.livePreview=!0,n.opened=!1,n.inputText=null,n.getComponentObjByUniqueName=function(e){for(var n,o=t.globalSelectedForm.pages.length-1;o>=0;o--){n=t.globalSelectedForm.pages[o].dynamicData;for(var i=n.length-1;i>=0;i--)if(n[i].unique_name===e)return n[i]}},n.customCheckboxValidation=function(e,t,n){if(e===!1||!t)return t;for(checked in t)t[checked]!==!1&&void 0!==t[checked]||delete t[checked];return angular.equals({},t)&&!Object.keys(t||{}).length&&(t=null),t},null==(a=r.forms)[s=n.formName]&&(a[s]=[]),n.form=r.forms[n.formName]}}}]).directive("fbFormObject",["$injector","LiveFormService","UserAgent","$rootScope",function(e,t,n,o){var i,r,a,s;i=e.get("$builder"),r=e.get("$compile"),a=e.get("$parse");var l=e.get("Common"),d=e.get("Provision"),c=e.get("FormModel");o=e.get("$rootScope");e.get("$timeout");try{s=e.get("ConditionalDisplayRun")}catch(u){}return $sce=e.get("$sce"),{restrict:"A",controller:"fbFormObjectController",link:function(e,o,u){function m(t){return t.unique_name===e.unique_name&&(!!t.value||0===t.value)&&""!==t.value}return e.formObject=a(u.fbFormObject)(e),e.$component=i.components[e.formObject.component],e.inputText=null,e.FormModel=c,e.openCalendar=function(t){e.opened=!e.opened,t.preventDefault(),t.stopPropagation()},e.upDateDropDownInput=function(t){e.inputText=t},e.Common=l,e.Provision=d,e.radioUpdated=function(t,n){console.log(e.inputText)},e.checkboxUpdated=function(t,n){e.inputText=e.customCheckboxValidation(t,e.inputText,n),e.checkConditionalDisplay(e.inputText)},e.validateMaxLength=function(e){const t=e.target,n=Number(t.getAttribute("maxlength"));t.value.length>n&&(e.target.value=t.value.substr(0,n))},e.toggleCheckbox=function(e){var t=e.currentTarget;if(t&&t.getAttribute("aria-checked")){var n=t.getAttribute("aria-checked").toLowerCase();("click"===e.type||"keydown"===e.type&&32===e.keyCode)&&("true"===n?t.setAttribute("aria-checked","false"):t.setAttribute("aria-checked","true"),e.stopPropagation())}},e.isMultiOption=e.handleGroupOptionsInMobileWeb=function(){var t=!1;if(n.isIos())for(var o=0;o<Object.keys(e.options).length;o++)if(d.checkProvision(DigProvisions.MULTI_OPTIONS_ID)){if(e.options[o].label.length>30){t=!0;break}}else if(e.options[o].length>30){t=!0;break}return t},e.hideReuseOption=function(e){return!d.checkProvision(DigProvisions.HIDE_OPTIONS)||!e.hidden},e.getUrlParameter=e.hideOverlay=e.showOverlay=function(){var e=document.createElement("div");e.id="neb-greyed-out",angular.element("body").prepend(e)},e.checkConditionalDisplay=function(t,n){n=n||e.nebUuid;var o=s.checkConditionalDisplay(t,n,e.input);if(o&&o.length>0)for(var i=o.length,r=0;r<i;r++)for(var a=e.input.length,l=0;l<a;l++)o[r]===e.input[l].nebUuid&&e.checkConditionalDisplay(e.input[l].value,o[r])},e.setValidatorGroup=function(){return e.display&&(e.required||e.inputText)?e.formName:"NO_GROUP"},e.htmlDecode=function(e){var t;return t=new RegExp("&lt","g"),e=e.replace(t,"<"),t=new RegExp("&gt","g"),e=e.replace(t,">"),$sce.trustAsHtml(e)},e.$on(i.broadcastChannel.updateInput,function(){var t=e.$parent.$parent.$parent.$parent;return t.input&&t.input.length>0&&t.input.forEach(,e.updateInput(e.inputText)}),e.$component.arrayToText&&(e.inputArray=[],e.$watch("inputArray",function(t,n){var o,i,r;if(t!==n){o=[];for(i in e.inputArray)e.inputArray[i]&&o.push(null!=(r=e.options[i])?r:e.inputArray[i]);return e.inputText=o.join(", ")}},!0)),e.$watch("inputText",function(t,n){e.updateInput(e.inputText),!n&&t&&e.checkConditionalDisplay(t)}),e.$watch(u.fbFormObject,function(){return e.copyObjectToScope(e.formObject)},!0),e.$watch("$component.template",function(n){var i,a,s;if(n)return t.prepareComponentsData(e),a=$(n),i=a.find("[ng-model='inputText']"),i.attr({validator:"{{validation}}"}),s=r(a)(e),$(o).html(s)}),!e.$component.arrayToText&&e.formObject.options.length>0,e.$watch("default['"+e.formObject.id+"']",function(t){if(t)return e.$component.arrayToText?e.inputArray=t:e.inputText=t})}}}]).service("LiveFormService",function(){unction t(t){if(t.$component&&t.$component.name&&t.options&&n.indexOf(t.$component.name)!==-1&&angular.isArray(t.options)&&!(t.options.length<=1))switch(t.randomStrategy){case"RANDOM_ALL":e(t.options);break;case"RANDOM_EXCEPT_FOR_LAST":var o=t.options.pop();e(t.options),t.options.push(o)}}var n=["select","checkbox","radio"];this.prepareComponentsData=).service("ComponentPropertiesService",function(){var e="field.properties",t=n=o=function(e,t){var n=e.id,o=t.find("#"+n);if(0===o.length){var i=document.createElement("div");i.setAttribute("id",n),i.setAttribute("class","popover fade");for(var r=0;r!==e.view.length;r++)i.appendChild(e.view[r]);return t.append(i),$(i)}return o},i=function(e){e.css("display","block"),setTimeout(function(){e.addClass("in")},0)},r=function(){n().css("display","none").removeClass("in")},a=return{removeAllItems:a,hideAllItems:r,setDataForField:function(n,a){$(n).data(e,{show:function(){r(),i(o(a,t()))},hide:function(){var e=t().find("#"+a.id);e.css("display","none").removeClass("in")}})},showPropsForField:function(t){var n=$(t).data(e);null!=n&&n.show()},hidePropsForField:function(t){var n=$(t).data(e);null!=n&&n.hide()}}})}.call(this),function(){angular.module("builder",["builder.directive"])}.call(this),function(){var e=[].indexOf||angular.module("builder.provider",[]).provider("$builder",function(){function t(e){if(e){var t;t=e.replace(/&lt/gm,"<"),t=t.replace(/&gt/gm,">")}return t||e}function n(e){return("select"===e.component||"checkbox"===e.component||"radio"===e.component)&&Array.isArray(e.options)}var o,i,r,a,s;i=null,o=null,r=null,a=null,s=null,this.config={popoverPlacement:"right"},this.components={},this.groups=[],this.broadcastChannel={updateInput:"$updateInput"},this.forms={"default":[]},this.convertComponent=function(e,t){var n,o,i,r,a,s,l,d,c,u,m,p,g,f,b,h,v,y,E,T,_,C,C,k,S,M,A,w,x,N,D,P,I,O,R,F,L,$,q,U;return n={name:e,group:null!=(o=t.group)?o:"Default",label:null!=(i=t.label)?i:"",description:null!=(r=t.description)?r:"",placeholder:null!=(a=t.placeholder)?a:"",editable:null==(s=t.editable)||s,required:null!=(l=t.required)&&l,validation:null!=(d=t.validation)?d:"/.*/",validationOptions:null!=(c=t.validationOptions)?c:[],options:null!=(u=t.options)?u:[],componentType:null!=(w=t.componentType)?w:"",unique_name:null!=(p=t.unique_name)?p:"",max_chars:null!=(g=t.max_chars)?g:"",custom_css:null!=(f=t.custom_css)?f:"",num_of_lines:null!=(b=t.num_of_lines)?b:"",image_url:null!=(h=t.image_url)?h:"",image_align:null!=(v=t.image_align)?v:"",border_style:null!=(y=t.border_style)?y:"",borderOptions:null!=(E=t.borderOptions)?E:"",date_format:null!=(T=t.date_format)?T:"",kampyleGroup:null!=(_=t.kampyleGroup)?_:"",ratingOptions:null!=(C=t.ratingOptions)?C:"",display:null==(k=t.display)||k,arrayToText:null!=(m=t.arrayToText)&&m,role:null!=(S=t.role)?S:null,nebUuid:""!=(M=t.nebUuid)?M:"",cdSource:""!=(A=t.cdSource)?A:"",selectionStyle:""!=(x=t.selectionStyle)?x:"",labelWithCP:""!=(N=t.labelWithCP)?N:"",descriptionWithCP:""!=(D=t.descriptionWithCP)?D:"",useCustomParams:0!=(P=t.useCustomParams)&&P,template:t.template,templateUrl:t.templateUrl,popoverTemplate:t.popoverTemplate,popoverTemplateUrl:t.popoverTemplateUrl,currentId:t.currentId,ecKey:null!=(I=t.ecKey)?I:"",ecFriendlyName:null!=(O=t.ecFriendlyName)?O:"",ecOptionsChanged:null!=(R=t.ecOptionsChanged)&&R,labelContent:null!=(F=t.labelContent)?F:"",thickness:null!=(L=t.thickness)?L:"",ratingViewType:null!=($=t.ratingViewType)?$:"",screenCaptureDynamicFieldContract:null!=(q=t.screenCaptureDynamicFieldContract)?q:null,position:null!=(U=t.position)?U:null,mediaCaptureDynamicFieldContract:null!=(_ref40=t.mediaCaptureDynamicFieldContract)?_ref40:null},n.template||n.templateUrl||console.error("The template is empty."),n.popoverTemplate||n.popoverTemplateUrl||console.error("The popoverTemplate is empty."),n},this.convertFormObject=function(e,o){function i(){return s&&s.shouldApplyMobileWcagSupportToForm()&&!a.checkProvision(DigProvisions.LIVE_FORM_V2)&&"grading"!==o.component?"numbersSquare":o.ratingViewType}var r,l,d,c,u,m,p,g,f,b,h,v,y,E,T,_,C,k,S,M,A,w,x,N,D,P,I,O,R,F,L,$,q,U,H,B,G,V,j,K;if(null==o&&(o={}),r=this.components[o.component],null==r)throw"The component "+o.component+" was not registered.";n(o)&&o.options.map(;var W={grading:[1,2,3,4,5],grading1to7:[1,2,3,4,5,6,7],grading1to10:[1,2,3,4,5,6,7,8,9,10],grading0to10:[0,1,2,3,4,5,6,7,8,9,10]},Y=angular.copy(o.ratingScalesValues);return r.name.includes("grading")&&(Y=W[r.name]),l={id:o.id,component:o.component,editable:null!=(d=o.editable)?d:r.editable,index:null!=(c=o.index)?c:0,label:null!=(u=t(o.label))?u:r.label,description:null!=(m=t(o.description))?m:r.description,placeholder:null!=(p=o.placeholder)?p:r.placeholder,options:null!=(g=o.options)?g:angular.copy(r.options),required:null!=(f=o.required)?f:r.required,validation:null!=(b=o.validation)?b:r.validation,unique_name:null!=(h=o.unique_name)?h:r.unique_name,max_chars:null!=(v=o.max_chars)?v:r.max_chars,custom_css:null!=(y=o.custom_css)?y:r.custom_css,num_of_lines:null!=(E=o.num_of_lines)?E:r.num_of_lines,image_url:null!=(T=o.image_url)?T:r.image_url,image_align:null!=(_=o.image_align)?_:r.image_align,border_style:null!=(C=o.border_style)?C:r.border_style,borderOptions:null!=(k=o.borderOptions)?k:r.borderOptions,date_format:null!=(S=o.date_format)?S:r.date_format,conditionalDisplay:null!=(M=o.conditionalDisplay)?M:r.conditionalDisplay,kampyleGroup:null!=(A=o.kampyleGroup)?A:r.kampyleGroup,ratingOptions:null!=(w=o.ratingOptions)?w:r.ratingOptions,conditionalDisplayTargets:null!=(x=o.conditionalDisplayTargets)?x:r.conditionalDisplayTargets,display:null!=(N=o.display)?N:r.display,role:null!=(D=o.role)?D:r.role,nebUuid:null!=(P=o.nebUuid)?P:r.nebUuid,cdSource:null!=(_ref26=o.cdSource)?_ref26:r.cdSource,componentType:null!=(I=o.componentType)?I:r.componentType,selectionStyle:null!=(O=o.selectionStyle)?O:angular.copy(r.selectionStyle),randomStrategy:null!=(R=o.randomStrategy)?R:r.randomStrategy,labelWithCP:null!=(F=o.labelWithCP)?F:r.labelWithCP,descriptionWithCP:null!=(L=o.descriptionWithCP)?L:r.descriptionWithCP,useCustomParams:null!=($=o.useCustomParams)?$:r.useCustomParams,customLabels:angular.copy(o.customLabels),ratingScalesValues:Y,shouldShowAriaLabelInRating:angular.copy(o.shouldShowAriaLabelInRating),currentId:o.currentId||r.currentId,ecKey:null!=(q=o.ecKey)?q:r.ecKey,ecFriendlyName:null!=(U=o.ecFriendlyName)?U:r.ecFriendlyName,ecOptionsChanged:null!=(H=o.ecOptionsChanged)?H:r.ecOptionsChanged,labelContent:null!=(B=o.labelContent)?B:r.labelContent,thickness:null!=(G=o.thickness)?G:r.thickness,ratingViewType:null!=(V=i())?V:r.ratingViewType,screenCaptureDynamicFieldContract:null!=(j=o.screenCaptureDynamicFieldContract)?j:r.screenCaptureDynamicFieldContract,position:null!=(K=o.position)?K:r.position,mediaCaptureDynamicFieldContract:null!=(_ref41=o.mediaCaptureDynamicFieldContract)?_ref41:angular.copy(r.mediaCaptureDynamicFieldContract),score:o.score||1}},this.reindexFormObject=function(e){return function(t){var n,o,i,r;for(n=e.forms[t],o=i=0,r=n.length;i<r;o=i+=1)n[o].index=o}}(this),this.setupProviders=function(e){return function(e){return i=e,o=i.get("$http"),a=i.has("Provision")?i.get("Provision"):null,s=i.has("WcagService")?i.get("WcagService"):null,r=i.get("$templateCache")}}(this),this.loadTemplate=function(e){if(null==e.template&&o.get(e.templateUrl,{cache:r}).success(function(t){return e.template=t}),null==e.popoverTemplate)return o.get(e.popoverTemplateUrl,{cache:r}).success(},this.registerComponent=function(t){return function(n,o){var r,a;null==o&&(o={}),null==t.components[n]?(r=t.convertComponent(n,o),t.components[n]=r,null!=i&&t.loadTemplate(r),a=r.group,e.call(t.groups,a)<0&&t.groups.push(r.group)):console.error("The component "+n+" was registered.")}}(this),this.addFormObject=function(e){return function(t,n){var o;return null==n&&(n={}),null==(o=e.forms)[t]&&(o[t]=[]),e.insertFormObject(t,e.forms[t].length,n)}}(this),this.insertFormObject=function(e){return function(t,n,o){var i;return null==o&&(o={}),null==(i=e.forms)[t]&&(i[t]=[]),n>e.forms[t].length?n=e.forms[t].length:n<0&&(n=0),e.forms[t].splice(n,0,e.convertFormObject(t,o)),e.reindexFormObject(t),e.forms[t][n]}}(this),this.removeFormObject=function(e){return function(t,n){var o;return o=e.forms[t],o.splice(n,1),e.reindexFormObject(t)}}(this),this.updateFormObjectIndex=function(e){return function(t,n,o){var i,r;if(n!==o)return r=e.forms[t],i=r.splice(n,1)[0],r.splice(o,0,i),e.reindexFormObject(t)}}(this),this.$get=["$injector",function(e){return function(t){var n,o,i;e.setupProviders(t),i=e.components;for(o in i)n=i[o],e.loadTemplate(n);return{config:e.config,components:e.components,groups:e.groups,forms:e.forms,broadcastChannel:e.broadcastChannel,registerComponent:e.registerComponent,addFormObject:e.addFormObject,insertFormObject:e.insertFormObject,
removeFormObject:e.removeFormObject,updateFormObjectIndex:e.updateFormObjectIndex}}}(this)]})}.call(this),function(){angular.module("nebFormTemplates.module",[])}(),function(){function e(e){ar n={builderComponentTemplate:{common:{template:'\n\t\t\t\t\t\t<div class="kpl_btn" ng-if="!livePreview">\n\t\t              <img class="kpl_btn_img" ng-src="{{imageSource}}" alt="Image">\n\t\t              <div class="kpl_btn_text">\n\t\t                  {{componentType}}\n\t\t              </div>\n\t\t          </div>\n\t\t\t\t\t',textTemplate:'\n\t\t\t\t\t\t\t<div ng-click="manualAdd({{component}})" class="kpl_btn" ng-if="!livePreview">\n                <img class="kpl_btn_img" ng-src="{{imageSource}}" alt="Image">\n                <div class="kpl_btn_text">\n                    {{componentType}}\n                </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t'},select:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_dropdown.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.dropDown}}"},textInput:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_text-input.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.textInput}}"},textArea:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_text-area.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.textArea}}"},radio:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_single_choice.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.radioButtons}}"},checkbox:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_checkbox.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.checkbox}}"},grading:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_grading.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.rating}}"},grading1to7:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/icon_rating1to7_grey.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.rating1To7}}"},grading1to10:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/icon_rating.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.rating1To10}}"},grading0to10:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/icon_rating_0-10.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.rating0To10}}"},nps:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_nps.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.nps}}"},date:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_date.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.date}}"},emailInput:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_email.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.email}}"},label:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_label.png'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.label}}"},image:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_image.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.image}}"},sectionBreak:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/grey_section_break.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.sectionBreak}}"},screenCaptureComponent:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/screen_capture.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.screenCapture}}"},mediaCapture:{imageSrc:"{{prefix + '/assets/images/kampyle/icons/gray_media_capture.svg'}}",componentType:"{{texts.app.pages.forms.builder.tabs.addField.mediaCapture}}"}},common:{nebRating:'\n          <div class="{{componentClass}} neb-content neb-wcag" data-aut="{{componentType}}">\n\t\t\t\t\t\t<neb-rating\n\t\t\t\t\t\t\tclass="{{additionalClasses}}"\n\t\t\t\t\t\t\tmin-value="{{minValue}}"\n\t\t\t\t\t\t\tmax-value="{{maxValue}}"\n\t\t\t\t\t\t\tng-model="inputText"\n\t\t\t\t\t\t\tng-change="checkConditionalDisplay(inputText)"\n\t\t\t\t\t\t\tneb-selection-style="selectionStyle.value"\n\t\t\t\t\t\t\tneb-format="ratingViewType"\n\t\t\t\t\t\t\tneb-labeled-by="label_{{nebUuid}}"\n\t\t\t\t\t\t\tneb-described-by="desc_{{nebUuid}}"\n\t\t\t\t\t\t\tneb-disable="!livePreview"\n\t\t\t\t\t\t\tvalidator-group="{{setValidatorGroup()}}"\n\t\t\t\t\t\t\tvalidator-required="{{display && required}}"\n\t\t\t\t\t\t\tcustom-labels="customLabels"\n\t\t\t\t\t\t\tshould-show-aria-label="shouldShowAriaLabelInRating"\n\t\t\t\t\t\t\tneb-read-only="!livePreview"\n\t\t\t\t\t\t\tneb-rating-type="{{component.componentType}}"\n\t\t\t\t\t\t\tneb-required="{{display && required}}"\n            />\n\t\t\t\t\t</div>\n        ',select:'\n           <div class="{{componentClass}} neb-content neb-wcag neb-relative"\n           ng-class="{\'native-arrow\': !isMobile && Provision.checkProvision(\'formTemplatesWCAG\'),\'direction-right-to-left\': FormModel.getIsRtl()}"\n           data-aut="livePreview-dropDown">\n            <div class="kpl-disable" ng-if="!livePreview"></div>\n            <select\n            \tid="{{nebUuid}}"\n            \taria-labelledby="label_{{nebUuid}}"\n            \taria-describedby="desc_{{nebUuid}}"\n              style="background: #fff"\n              ng-model="inputText"\n              ng-options="(isMultiOption(item) ? item.id : item) as  (isMultiOption(item) ? item.label : item) group by handleGroupOptionsInMobileWeb() ? \'\' : none for item in options|filter:hideReuseOption"\n              ng-class="{\'placeHolderColor\': !inputText && !Provision.checkProvision(\'20dcr4_MPC2905_wcagReviewFixes\') ,\'placeholderContrast\':!isMobile && Provision.checkProvision(\'20dcr4_MPC2905_wcagReviewFixes\') && !inputText}"\n              ng-change="upDateDropDownInput(inputText);checkConditionalDisplay(inputText)"\n              validator-group="{{setValidatorGroup()}}"\n              validator-required="{{display && required}}"\n              ng-required="{{display && required}}">\n                <option class="text-muted" value="" selected disabled>{{placeholder}}</option>\n            <select/>\n          </div>\n        ',sectionBreak:'\n    \t\t\t<div class="{{componentClass}} neb-content neb-wcag" data-aut="livePreview-sectionBreak">\n            <div  ng-class="{\'sectionBreakCanvasView\' : !livePreview}">\n                <div class="{{custom_css}}" style="height: 1px;" ng-style="{\'border-bottom\':border_style.style , \'border-width\':thickness+\'px\'}"></div>\n            </div>\n          </div>\n        ',screenCaptureComponent:'<div class="{{componentClass}} neb-content neb-wcag" ng-class="{\'direction-right-to-left\': FormModel.getIsRtl()}" data-aut="livePreview-screenCapture">\n          <neb-screen-capture\n           readonly="!livePreview"\n           placeholder="{{placeholder}}"\n           check-conditional-display="checkConditionalDisplay()"\n           display="display"\n           label="{{label}}"\n           logo-background-color="screenCaptureDynamicFieldContract.logoBackgroundColor"\n           retake-text="screenCaptureDynamicFieldContract.retakeText"\n           delete-button-tooltip="screenCaptureDynamicFieldContract.deleteButtonTooltip"\n           screen-capture-dynamic-contract="screenCaptureDynamicFieldContract"\n           neb-uuid="{{nebUuid}}"\n           should-auto-open-widget="cdSource.autoOpenScreenCapture"\n           validator-group="{{setValidatorGroup()}}"\n           validator-required="{{display && required}}"\n           neb-model="inputText"\n          />\n          <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n      </div>',image:'\n          <div class="{{componentClass}} neb-content neb-wcag" data-aut="livePreview-image" ng-init="checkConditionalDisplay()">\n            <div ng-style="{ \'text-align\' : image_align }">\n               <img class="img-responsive img-fluid formTemplate-img inline-block" ng-if="image_url.url" ng-src="{{image_url.url}}" alt="{{label}}">\n               <div ng-if="!image_url || !image_url.url"  id="canvas-img-placeholder"></div>\n            </div>\n          </div>\n        ',grading:'\n          <div class="{{componentClass}} neb-content neb-wcag">\n              <div class="kplGrading" ng-if="ratingViewType == \'numbers\'" ng-init="initRating()" data-aut="livePreview-grading1to10">\n                  <rating\n                  \taria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay( $parent.inputText)"\n                    ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.numbers"\n                    class="neb-grading">\n                  </rating>\n              </div>\n              <div class="kplGrading" ng-if="ratingViewType == \'smilies\'" ng-init="initRating()">\n                  <rating\n                  \taria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay( $parent.inputText)"\n                    ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.smilies"\n                    class="neb-grading">\n                  </rating>\n              </div>\n              <div class="kplGrading" ng-if="ratingViewType == \'stars\'"\n                   ng-init="initRating()" data-aut="livePreview-grading">\n                  <rating\n                  \taria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay($parent.inputText)"\n\t                  ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.stars"\n\t                  class="neb-grading">\n                  </rating>\n              </div>\n              <div class="kplGrading" ng-if="ratingViewType == \'bars\'" ng-init="initRating()">\n                  <rating\n                  \taria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay($parent.inputText)"\n                    ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.bars"\n                    class="neb-grading">\n                  </rating>\n              </div>\n              <div class="kplGrading" ng-if="ratingViewType == \'emoticons\'" ng-init="initRating()">\n                  <rating\n                  \taria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay($parent.inputText)"\n                    ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.emoticons"\n                    class="neb-grading">\n                  </rating>\n              </div>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          </div>\n        '},website:{footer:"",common:{label:'\n\t\t\t\t\t\t<label for="{{nebUuid}}" id="label_{{nebUuid}}" class="control-label commonLabel" data-aut="live-form-content_{{label}}" ng-init="checkConditionalDisplay()">\n\t\t\t\t\t\t{{label}}<i ng-show="required" class="fa fa-asterisk required-sign" aria-hidden="true" aria-label="{{required ? \'required\' : \'\'}}"></i>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t',helpBlock:"\n\t\t\t\t\t\t<p aria-hidden='{{!description}}' id=\"desc_{{nebUuid}}\" class='description help-block'>{{description}}</p>\n\t\t\t\t\t",templateWrapper:'\n\t\t\t\t\t\t<div data-neb-uuid="{{nebUuid}}" id="wrapper_{{nebUuid}}" ng-class="{\'direction-right-to-left\': FormModel.getIsRtl()}" neb-web-component ng-init="checkConditionalDisplay(value)" class="neb-component neb-web-component neb-{{component}} kplFormHolder {{custom_css}}" ng-show="display || !livePreview">\n            {{commonLabel}}\n\t\t\t\t\t\t\t{{content}}\n\t\t\t\t\t\t\t{{commonHelpBlock}}\n\t            {{buttonBuilder}}\n\t          </div>\n          ',templateWrapperLabel:'\n\t\t\t\t\t\t<div data-neb-uuid="{{nebUuid}}" neb-web-component class="neb-component neb-web-component neb-{{component}} kplFormHolder {{custom_css}}" ng-show="display || !livePreview">\n              {{content}}\n              {{buttonBuilder}}\n            </div>\n          '},nps:'\n          <div class="neb-content neb-wcag" data-aut="livePreview-nps">\n              <div class="kplNps" ng-if="ratingViewType == \'numbersCircle\'"\n                   ng-init="initNps()">\n                  <rating aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay($parent.inputText)"\n                          ng-model="$parent.inputText" readonly="!livePreview"\n                          rating-states="ratingOptions.numbersCircle" ng-class="{npsMobile: isMobile}"></rating>\n              </div>\n              <div class="kplNps" ng-if="ratingViewType == \'numbersSquare\'"\n                   ng-init="initNps()">\n                  <rating ng-click="checkConditionalDisplay($parent.inputText)"\n                          ng-model="$parent.inputText" readonly="!livePreview"\n                          rating-states="ratingOptions.numbersSquare" ng-class="{npsMobile: isMobile}"></rating>\n              </div>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          </div>\n\t      ',grading1to7:'\n          <div class="{{componentClass}} neb-content">\n              <div class="kplGrading" ng-if="ratingViewType == \'numbersSquare\'" ng-init="initRating1To7()">\n                  <rating\n                    aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay( $parent.inputText)"\n                    ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.numbersSquare"\n                    class="neb-grading">\n                  </rating>\n              </div>\n              <div class="kplGrading" ng-if="ratingViewType == \'numbersCircle\'" ng-init="initRating1To7()">\n                  <rating\n                    aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay( $parent.inputText)"\n                    ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.numbersCircle"\n                    class="neb-grading">\n                  </rating>\n              </div>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          </div>\n        ',grading1to10:'\n          <div class="{{componentClass}} neb-content neb-wcag">\n              <div class="kplGrading" ng-if="ratingViewType == \'numbersSquare\'" ng-init="initRating1To10()">\n                  <rating\n                    aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay( $parent.inputText)"\n                    ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.numbersSquare"\n                    class="neb-grading">\n                  </rating>\n              </div>\n              <div class="kplGrading" ng-if="ratingViewType == \'numbersCircle\'" ng-init="initRating1To10()">\n                  <rating\n                    aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-click="checkConditionalDisplay( $parent.inputText)"\n                    ng-model="$parent.inputText" readonly="!livePreview" rating-states="ratingOptions.numbersCircle"\n                    class="neb-grading">\n                  </rating>\n              </div>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          </div>\n        ',radio:'\n          <div class="neb-content neb-wcag" data-aut="livePreview-radio">\n              <md-radio-group  ng-attr-dir="{{FormModel.getIsRtl() && \'rtl\'}}" ng-class="{\'direction-right-to-left\': FormModel.getIsRtl()}" ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}">\n              <div class=\'radio clip-radio radio-primary {{custom_css}}\'\n              ng-class=\'{"checkbox-inline": position === "horizontal"}\' ng-show="hideReuseOption(item,0)"\n                   ng-repeat="item in options track by $index">\n                  <md-radio-button  ng-disabled="!livePreview" aria-label="{{label + \':\' + (isMultiOption(item) ? item.label : item)}}"\n                      id="{{formName+index+$index}}" name=\'{{formName+index}}\' ng-model="$parent.inputText"\n                      validator-group="{{formName}}" value="{{item.id || item}}">{{isMultiOption(item) ? item.label : item}}</md-radio-button>\n              </div>\n\t\t\t\t\t\t\t</md-radio-group>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          </div>\n        ',checkbox:'\n          <div class="neb-content neb-wcag" data-aut="livePreview-checkbox" ng-attr-dir="{{FormModel.getIsRtl() && \'rtl\'}}"  ng-class="{\'direction-right-to-left\': FormModel.getIsRtl()}">\n              <div ng-model="inputText" class=\'checkbox clip-check check-primary {{custom_css}}\'\n              ng-class=\'{"checkbox-inline": position === "horizontal"}\'\n                   ng-repeat="item in options | filter: hideReuseOption track by $index" aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}">\n                <md-checkbox aria-label="{{label + (required ? \' required\' : \'\') + \':\' + (isMultiOption(item) ? item.label : item)}}"\n                  ng-change="checkboxUpdated(required, $index)"\n                  id="{{formName+index+$index}}" name=\'{{formName+index}}\' ng-model="$parent.inputText[item.id || item]"\n                  validator-group="{{formName}}" value="{{item.id || item}}"\n                  ng-disabled="!livePreview"\n\t\t\t\t\t\t\t\t\tng-click="toggleCheckbox($event)"\n\t\t\t\t\t\t\t\t\tng-keydown="toggleCheckbox($event)"\n\t\t\t\t\t\t\t\t\taria-checked="false">\n                  {{isMultiOption(item) ? item.label : item}}\n\t\t\t\t\t      </md-checkbox>\n              </div>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}"/>\n          </div>\n        ',label:'\n          <div ng-if="labelContent"  class="neb-content neb-wcag" data-aut="livePreview-label" ng-class="{\'wcag-link-contrast\': Provision.checkProvision(\'formTemplatesWCAG\')}" ng-init="checkConditionalDisplay()">\n             <p ng-bind-html="htmlDecode(labelContent)" tabindex="-1"></p>\n          </div>\n          <div ng-if="labelContent === \'\'"  id="canvas-img-placeholder"></div>\n        ',date:'\n          <div class="neb-content" data-aut="livePreview-date">\n            <div class="input-group kCalendar">\n                <input neb-input-field ng-change="checkConditionalDisplay(inputText)" type="text" class="form-control calendarInput" datepicker-popup="{{date_format}}"\n                       ng-click="openCalendar($event)"\n                       show-button-bar="{{!livePreview}}"\n                       validator-required="{{display && required}}"\n                       validator-group="{{formName}}" id="{{formName+index}}"\n                       ng-model="inputText" is-open="opened" min-date="minDate"\n                       aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}"\n                       readonly\n                        datepicker-options="dateOptions"\n                        date-disabled="disabled(date, mode)" ng-required="{{display && required}}"\n                        placeholder="{{placeholder}}"/>\n                <span class="input-group-btn">\n                    <button  type="button" class="btn btn-default"\n                             ng-disabled="!livePreview" ng-click="openCalendar($event)">\n                          <i class="fa fa-calendar" aria-hidden="true"></i>\n                    </button>\n                </span>\n            </div>\n        \t</div>\n        ',emailInput:'\n          <div class="neb-content neb-wcag" data-aut="livePreview-emailInput" ng-class="{\'placeholder-contranst\': !isMobile && Provision.checkProvision(\'20dcr4_MPC2905_wcagReviewFixes\')}">\n            <input\n\t\t\t\t\tneb-input-field\n\t\t\t\t\ttype="text"\n\t\t\t\t\tid="{{formName+index}}" neb-uuid="{{nebUuid}}"\n\t\t\t\t\tclass="form-control"\n\t\t\t\t\tng-blur="checkConditionalDisplay(inputText)"\n\t\t\t\t\tng-model="inputText"\n\t\t\t\t\tvalidator-required="{{display && required}}"\n\t\t\t\t\tvalidator-group="{{setValidatorGroup()}}"\n\t\t\t\t\taria-labelledby="label_{{nebUuid}}"\n\t\t\t\t\taria-describedby="desc_{{nebUuid}}"\n\t\t\t\t\tplaceholder="{{placeholder}}"\n\t\t\t\t\tng-required="{{display && required}}"/>\n          </div>\n        ',textInput:'\n          <div class="neb-content neb-wcag" data-aut="livePreview-textInput"\n          ng-class="{\'placeholder-contranst\': !isMobile && Provision.checkProvision(\'20dcr4_MPC2905_wcagReviewFixes\'),\'direction-right-to-left\': FormModel.getIsRtl()}">\n            <input\n\t\t\t        neb-input-field\n              name="testMe" aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}} chars_counter_{{nebUuid}}"\n              ng-blur="checkConditionalDisplay(inputText)" type="text" maxlength="{{max_chars}}"\n              ng-model="inputText" validator-required="{{display && required}}" validator-group="{{formName}}" class="form-control"\n              placeholder="{{placeholder}}"\n              ng-required="{{display && required}}"/>\n            <label id="chars_counter_{{nebUuid}}" aria-live="assertive" aria-atomic="true" aria-hidden="true" class="chars-limit-desc"> {{inputText.length || \'0\'}} of {{max_chars}} characters</label>\n            <label style="" class="chars-limit-label">\n            \t{{inputText.length || \'0\'}}/{{max_chars}}\n            </label>\n          </div>\n        ',textArea:'\n          <div class="neb-content neb-wcag" data-aut="livePreview-textArea"\n           ng-class="{\'placeholder-contranst\': !isMobile && Provision.checkProvision(\'20dcr4_MPC2905_wcagReviewFixes\'),\'direction-right-to-left \': FormModel.getIsRtl()}">\n            <textarea\n            \tneb-input-field\n            \taria-labelledby="label_{{nebUuid}}"\n            \taria-describedby="desc_{{nebUuid}}"  ng-blur="checkConditionalDisplay(inputText)" type="text" ng-model="inputText"\n            \tvalidator-required="{{display && required}}"\n            \tvalidator-group="{{formName}}" id="{{formName+index}}"\n            \tclass="form-control" rows="{{num_of_lines}}"\n            \tng-attr-placeholder="{{placeholder}}"\n            \tng-required="{{display && required}}"></textarea>\n          </div>\n        ',wcag:{radio:'<div class="neb-content neb-wcag">\n\t\t\t\t\t\t\t<div  class="neb-native-radio {{position}}" ng-class=\'{"checkbox-inline": position === "horizontal"}\' role="radiogroup" aria-labelledby="label_{{nebUuid}}" aria-describedby="desc_{{nebUuid}}">\n\t\t\t\t\t\t\t\t<span ng-repeat="item in options track by $index" class="radio-option">\n\t\t\t\t\t\t\t\t\t<input id="{{formObject.nebUuid + $index}}" class="wcag-radio-border"\n\t\t\t\t\t\t\t\t\t\t\tname="{{unique_name}}" ng-disabled="!livePreview" type="radio" ng-model="$parent.inputText" value="{{item.id || item}}" ng-change="checkConditionalDisplay(inputText)"\n\t\t\t\t\t\t\t\t\t\t\tng-required="{{display && required}}"/>\n\t\t\t\t\t\t\t\t\t<label for="{{formObject.nebUuid + $index}}" class="neb-native-radio-option-label">{{isMultiOption(item) ? item.label : item}}</label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n\t\t\t\t\t\t\t</div>\n          \t\t\t\t</div>\n\t\t\t\t'}},mobile:{footer:"",common:{label:'\n            <div class="content-block-title commonLabel" tabindex="0">\n              <label\n                ng-attr-id="{{Provision.checkProvision(\'mobileSDKV2FixRequiredRatingFocusIssue\') ? \'label_\' + nebUuid : undefined}}"\n                aria-label="{{required ? label + \' required\' : \'\'}}"\n                role="text"\n                for="{{formName+index}}" class="control-label"\n                data-aut="label_{{label}}_{{index}}">\n                  {{label}}\n                  <i\n                    ng-show="required" class="fb-required"\n                    aria-hidden="true"\n                    aria-label="{{required ? \'required\' : \'\'}}"></i>\n              </label>\n            </div>\n          ',emailInput:'\n\t\t\t\t\t\t<div class="neb-content">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n                \t<div class="item-content">\n\t\t\t\t\t\t\t\t\t\t<div class="item-inner">\n\t\t\t\t\t\t\t\t\t\t\t<div class="item-input">\n                    \t\t<input\n                          data-aut="label_Input_{{label}}_{{index}}"\n                          ng-blur="checkConditionalDisplay(inputText)"\n                          type="text"\n                          ng-model="inputText"\n                          validator-required="{{display && required}}"\n                          validator-group="{{formName}}"\n                          id="mobile-emailInput"\n                          class="form-control"\n                          placeholder="{{placeholder}}"\n                          ng-required="{{display && required}}"\n                          aria-invalid="false"/>\n                  \t\t</div>\n                  \t</div>\n                \t</div>\n              \t</li>\n        \t\t\t</ul>\n            </div>\n          ',helpBlock:'<div tabindex="0" id="desc_{{nebUuid}}" class="list-block-label help-block"><p class=\'help-block\'>{{description}}</p></div>',templateWrapper:'\n            <div data-neb-uuid="{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" ng-init="checkConditionalDisplay(value)" class="list-block neb-component neb-mobile-component neb-{{component}} kplFormHolder {{custom_css}}" ng-show="display || !livePreview">\n              {{commonLabel}}\n              {{content}}\n              {{commonHelpBlock}}\n              {{buttonBuilder}}\n            </div>',templateWrapperLabel:'\n            <div data-neb-uuid="{{nebUuid}}" aria-describedby="desc_{{nebUuid}}" class="neb-component neb-mobile-component neb-{{component}} kplFormHolder {{custom_css}}" ng-show="display || !livePreview">\n              {{content}}\n              {{buttonBuilder}}\n            </div>\n          '},wcag:{radio:'\n            <div class="neb-content mobile-wcag-content" id="mobile-wcag-radio">\n              <ul>\n                <li ng-model="inputText" class="{{custom_css}}" ng-repeat="item in options | filter: hideReuseOption  track by $index">\n                  <div class="mobile-wcag-radio-wrapper">\n                    <input\n                      type="radio"\n                      class="mobile-wcag-radio"\n                      ng-change="checkConditionalDisplay(inputText)"\n                      id="{{formName+index+$index}}"\n                      name="{{formName+index}}"\n                      ng-model="$parent.inputText"\n                      validator-group="{{setValidatorGroup()}}"\n                      validator-required="{{display && required}}"\n                      value="{{item.id || item}}"\n                      ng-required="{{display && required}}"\n                    />\n                    <label class="{{custom_css}}" for="{{formName+index+$index}}">\n                      {{isMultiOption(item) ? item.label : item}}\n                    </label>\n                  </div>\n                </li>\n                <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n              </ul>\n            </div>\n          ',checkbox:'\n            <div class="neb-content mobile-wcag-content" id="mobile-wcag-checkbox">\n              <ul>\n                <li class="{{custom_css}}" ng-repeat="item in options | filter: hideReuseOption  track by $index">\n                  <div class="mobile-wcag-checkbox-wrapper">\n                    <input\n                      type="checkbox"\n                      class="mobile-wcag-checkbox"\n                      ng-change="checkConditionalDisplay(inputText); $parent.inputText = customCheckboxValidation(required,inputText, $index)"\n                      id="{{formName+index+$index}}"\n                      name="{{formName+index}}"\n                      ng-model="$parent.inputText[item.id || item]"\n                      validator-group="{{setValidatorGroup()}}"\n                      validator-required="{{display && required}}"\n                      value="{{item.id || item}}"\n                      ng-required="{{display && required}}"\n                    />\n                    <label class="{{custom_css}}" for="{{formName+index+$index}}">\n                      {{isMultiOption(item) ? item.label : item}}\n                    </label>\n                  </div>\n                </li>\n                <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n              </ul>\n            </div>\n          '},nps:'\n        \t<div class="neb-content slider-rating" ng-show="!ratingViewType || ratingViewType === \'gradingSlider\'" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}">\n            <md-slider-container class="_md">\n              <span>0</span>\n              <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="0" max="10" aria-label="rating" id="mobile-nps">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n              <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n              <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n            </div>\n          </div>\n\t\t\t    <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n\t\t\t\t\t\t<neb-rating\n\t\t\t\t\t\t\tclass="{{additionalClasses}}"\n\t\t\t\t\t\t\tmin-value="0"\n\t\t\t\t\t\t\tmax-value="10"\n\t\t\t\t\t\t\tng-model="inputText"\n\t\t\t\t\t\t\tng-change="checkConditionalDisplay(inputText)"\n\t\t\t\t\t\t\tneb-selection-style="selectionStyle.value"\n\t\t\t\t\t\t\tvalidator-group="{{setValidatorGroup()}}"\n\t\t\t\t\t\t\tneb-format="numbersSquare"\n\t\t\t\t\t\t\tneb-labeled-by="label_{{nebUuid}}"\n\t\t\t\t\t\t\tneb-described-by="desc_{{nebUuid}}"\n\t\t\t\t\t\t\tneb-disable="!livePreview"\n              validator-required="{{display && required}}"\n              should-show-aria-label="shouldShowAriaLabelInRating"\n              custom-labels="customLabels"\n\t\t\t\t\t\t\tneb-required="{{display && required}}"/>\n          </div>\n        ',grading1to10:'\n          <div class="neb-content slider-rating" ng-form="$root.Forms[unique_name]" ng-show="ratingViewType == \'gradingSlider\'">\n            <md-slider-container class="_md">\n              <span>1</span>\n              <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="1" max="10" aria-label="rating" id="mobile-grading1to10">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          </div>\n        ',
grading0to10:'\n          <div class="neb-content slider-rating" ng-form="$root.Forms[unique_name]" ng-show="ratingViewType == \'gradingSlider\'">\n            <md-slider-container class="_md">\n              <span>0</span>\n              <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="0" max="10" aria-label="rating" id="mobile-grading0to10">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          </div>\n        ',radio:'\n          <div class="neb-content">\n            <ul>\n              <li ng-model="inputText" class=\'radio clip-radio radio-primary {{placeholder}} {{custom_css}}\' ng-repeat="item in options | filter: hideReuseOption track by $index" id="mobile-radio">\n                <label class="label-radio item-content">\n                  <input ng-change="checkConditionalDisplay(inputText)" id="{{formName+index+$index}}" name=\'{{formName+index}}\' ng-model="$parent.inputText"\n                         validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" value="{{item.id || item}}" type=\'radio\'/>\n                  <div class="item-inner" ng-class="{selectedRadioItem: $parent.inputText === (item.id || item)}">\n                    <div class="{{custom_css}} item-title">{{isMultiOption(item) ? item.label : item}}</div>\n                  </div>\n                </label>\n              </li>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            </ul>\n          </div>\n\t      ',checkbox:'\n          <div class="neb-content" id="mobile-checkbox">\n            <ul>\n              <li ng-model="inputText" class=\'checkbox clip-check check-primary {{placeholder}} {{custom_css}}\'\n                   ng-repeat="item in options | filter: hideReuseOption track by $index">\n                <label class="label-checkbox item-content">\n                  <input ng-change="checkConditionalDisplay(inputText);\n                       $parent.inputText = customCheckboxValidation(required,inputText, $index)"\n                         id="{{formName+index+$index}}" name=\'{{formName+index}}\' ng-model="$parent.inputText[item.id || item]"\n                         validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" value="{{item.id || item}}" type=\'checkbox\'\n                         ng-required="{{display && required}}"/>\n                  <div class="item-media"><i class="icon icon-form-checkbox"></i></div>\n                  <div class="item-inner">\n                    <div class="{{custom_css}} item-title">{{isMultiOption(item) ? item.label : item}}</div>\n                  </div>\n                </label>\n              </li>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            </ul>\n          </div>\n          ',label:'\n  \t\t\t\t\t<div class="card neb-content" ng-class="{\'wcag-link-contrast\': Provision.checkProvision(\'formTemplatesWCAG\')}" ng-init="checkConditionalDisplay()">\n              <div ng-if="labelContent"  class="card-content kpl_label">\n                 <p ng-bind-html="htmlDecode(labelContent)" class="card-content-inner"></p>\n              </div>\n              <div ng-if="labelContent === \'\'"  id="canvas-img-placeholder"></div>\n            </div>\n          ',date:"",emailInput:'\n            <div class="neb-content">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n                \t<div class="item-content">\n\t\t\t\t\t\t\t\t\t\t<div class="item-inner">\n\t\t\t\t\t\t\t\t\t\t\t<div class="item-input">\n                    \t\t<input\n                          ng-blur="checkConditionalDisplay(inputText)"\n                          type="text" ng-model="inputText" validator-required="{{display && required}}"\n                          validator-group="{{setValidatorGroup()}}" id="{{formName+index}}" class="form-control" placeholder="{{placeholder}}"\n                          ng-required="{{display && required}}"/>\n                  \t\t</div>\n                  \t</div>\n                \t</div>\n              \t</li>\n        \t\t\t</ul>\n            </div>\n          ',textInput:'\n\t\t\t\t\t\t<div class="neb-content">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n                \t<div class="item-content">\n\t\t\t\t\t\t\t\t\t\t<div class="item-inner">\n\t\t\t\t\t\t\t\t\t\t\t<div class="item-input">\n                    \t\t<input data-aut="label_Input_{{label}}_{{index}}" ng-blur="checkConditionalDisplay(inputText)" type="text" ng-maxlength="max_chars"  maxlength="{{max_chars}}" ng-model="inputText" validator-required="{{display && required}}" validator-group="{{formName}}" id="mobile-textInput" class="form-control" placeholder="{{placeholder}}"\n                        ng-keyup="validateMaxLength($event)"\n                    \t\t ng-required="{{display && required}}" aria-invalid="false"/>\n                  \t\t</div>\n                  \t</div>\n                \t</div>\n              \t</li>\n        \t\t\t</ul>\n            </div>\n          ',textArea:'\n\t\t\t\t\t\t<div class="neb-content">\n              <ul>\n\t\t\t\t\t\t\t\t<li>\n                \t<div class="item-content">\n\t\t\t\t\t\t\t\t\t\t<div class="item-inner">\n\t\t\t\t\t\t\t\t\t\t\t<div class="item-input">\n                    \t\t<textarea ng-blur="checkConditionalDisplay(inputText)" type="text" ng-model="inputText" validator-required="{{display && required}}" id="mobile-textArea"\n\t\t                      validator-group="{{formName}}" id="{{formName+index}}"\n\t\t                      class="form-control" rows="{{num_of_lines}}"\n\t\t                      ng-attr-placeholder="{{placeholder}}"\n\t\t                      ng-required="{{display && required}}" aria-invalid="false"></textarea>\n                  \t\t</div>\n                  \t</div>\n                \t</div>\n              \t</li>\n        \t\t\t</ul>\n            </div>\n          ',mediaCapture:'\n          <div class="{{componentClass}} neb-content neb-wcag neb-media-capture" data-aut="livePreview-mediaCapture">\n              <react-media-capture-formats-preview\n              media-capture-dynamic-field-contract="mediaCaptureDynamicFieldContract"\n              property-type="$root.Profile.getPropertyType()"/>\n          </div>\n          '},anywhere:{grading1to7:'\n        <div class="neb-content slider-rating" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}" ng-show="ratingViewType == \'gradingSlider\'">\n          <md-slider-container class="_md">\n            <span>1</span>\n            <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="1" max="7" aria-label="rating">\n            </md-slider>\n            <span>7</span>\n          </md-slider-container>\n          <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n            <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n            <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n          </div>\n        </div>\n        <div class="{{componentClass}} neb-content neb-relative neb-grading-select" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingDropdown\'}}" ng-show="ratingViewType == \'gradingDropdown\'">\n          <div class="kpl-disable" ng-if="!livePreview"></div>\n            <select\n            id="{{nebUuid}}"\n            style="background: #fff"\n            ng-model="inputText"\n            ng-change="upDateDropDownInput(inputText);checkConditionalDisplay(inputText)"\n            validator-group="{{setValidatorGroup()}}"\n            validator-required="{{display && required}}">\n            <option class="text-muted" disabled selected="selected">{{num_of_lines}}</option>\n            <option ng-repeat="i in [1,2,3,4,5,6,7] track by $index" value={{i}} label={{i}}>{{i}}</option>\n          <select/>\n        </div>\n        <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n      <neb-rating\n        class="{{additionalClasses}}"\n        min-value="1"\n        max-value="7"\n        ng-model="inputText"\n        ng-change="checkConditionalDisplay(inputText)"\n        neb-selection-style="selectionStyle.value"\n        validator-group="{{setValidatorGroup()}}"\n        neb-format="numbersSquare"\n        neb-labeled-by="label_{{nebUuid}}"\n        neb-described-by="desc_{{nebUuid}}"\n        neb-disable="!livePreview"\n        validator-required="{{display && required}}"\n        should-show-aria-label="shouldShowAriaLabelInRating"\n        custom-labels="customLabels"\n        neb-required="{{display && required}}"/>\n    </div>\n      ',grading1to10:'\n          <div class="neb-content slider-rating" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}" ng-show="ratingViewType == \'gradingSlider\'">\n            <md-slider-container class="_md">\n              <span>1</span>\n              <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="1" max="10" aria-label="rating">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n              <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n              <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n            </div>\n          </div>\n          <div class="{{componentClass}} neb-content neb-relative neb-grading-select" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingDropdown\'}}" ng-show="ratingViewType == \'gradingDropdown\'">\n            <div class="kpl-disable" ng-if="!livePreview"></div>\n              <select\n              id="{{nebUuid}}"\n              style="background: #fff"\n              ng-model="inputText"\n              ng-change="upDateDropDownInput(inputText);checkConditionalDisplay(inputText)"\n              validator-group="{{setValidatorGroup()}}"\n              validator-required="{{display && required}}">\n              <option class="text-muted" disabled selected="selected">{{num_of_lines}}</option>\n              <option ng-repeat="i in [1,2,3,4,5,6,7,8,9,10] track by $index" value={{i}} label={{i}}>{{i}}</option>\n            <select/>\n          </div>\n          <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n          \t\t<input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n\t\t\t\t<neb-rating\n\t\t\t\t\tclass="{{additionalClasses}}"\n\t\t\t\t\tmin-value="1"\n\t\t\t\t\tmax-value="10"\n\t\t\t\t\tng-model="inputText"\n\t\t\t\t\tng-change="checkConditionalDisplay(inputText)"\n\t\t\t\t\tneb-selection-style="selectionStyle.value"\n\t\t\t\t\tvalidator-group="{{setValidatorGroup()}}"\n\t\t\t\t\tneb-format="numbersSquare"\n\t\t\t\t\tneb-labeled-by="label_{{nebUuid}}"\n\t\t\t\t\tneb-described-by="desc_{{nebUuid}}"\n\t\t\t\t\tneb-disable="!livePreview"\n          validator-required="{{display && required}}"\n          should-show-aria-label="shouldShowAriaLabelInRating"\n          custom-labels="customLabels"\n\t\t\t\t\tneb-required="{{display && required}}"/>\n\n\t\t  </div>\n        ',grading0to10:'\n          <div class="neb-content slider-rating" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}" ng-show="ratingViewType == \'gradingSlider\'">\n            <md-slider-container class="_md">\n              <span>0</span>\n              <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="0" max="10" aria-label="rating">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n              <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n              <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n            </div>\n          </div>\n          <div class="{{componentClass}} neb-content neb-relative neb-grading-select" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingDropdown\'}}" ng-show="ratingViewType == \'gradingDropdown\'">\n            <div class="kpl-disable" ng-if="!livePreview"></div>\n              <select\n              id="{{nebUuid}}"\n              style="background: #fff"\n              ng-model="inputText"\n              ng-change="upDateDropDownInput(inputText);checkConditionalDisplay(inputText)"\n              validator-group="{{setValidatorGroup()}}"\n              validator-required="{{display && required}}">\n              <option class="text-muted" disabled selected="selected">{{num_of_lines}}</option>\n              <option ng-repeat="i in [0,1,2,3,4,5,6,7,8,9,10] track by $index" value={{i}} label={{i}}>{{i}}</option>\n            <select/>\n          </div>\n          <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n          \t\t<input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n\t\t\t\t<neb-rating\n\t\t\t\t\tclass="{{additionalClasses}}"\n\t\t\t\t\tmin-value="0"\n\t\t\t\t\tmax-value="10"\n\t\t\t\t\tng-model="inputText"\n\t\t\t\t\tng-change="checkConditionalDisplay(inputText)"\n\t\t\t\t\tneb-selection-style="selectionStyle.value"\n\t\t\t\t\tvalidator-group="{{setValidatorGroup()}}"\n\t\t\t\t\tneb-format="numbersSquare"\n\t\t\t\t\tneb-labeled-by="label_{{nebUuid}}"\n\t\t\t\t\tneb-described-by="desc_{{nebUuid}}"\n\t\t\t\t\tneb-disable="!livePreview"\n\t\t\t\t\tvalidator-required="{{display && required}}"\n          neb-rating-type="grading0to10"\n          should-show-aria-label="shouldShowAriaLabelInRating"\n          custom-labels="customLabels"\n\t\t\t\t\tneb-required="{{display && required}}"/>\n\n\t\t  </div>\n        '},mobileIOS:{grading1to7:'\n       <div class="neb-content slider-rating" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}" ng-show="ratingViewType == \'gradingSlider\'">\n          <md-slider-container class="_md">\n            <span>1</span>\n            <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="1" max="7" aria-label="rating">\n            </md-slider>\n            <span>7</span>\n          </md-slider-container>\n          <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n            <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n            <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n          </div>\n        </div>\n        <div class="{{componentClass}} neb-content neb-relative neb-grading-select" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingDropdown\'}}" ng-show="ratingViewType == \'gradingDropdown\'">\n          <div class="kpl-disable" ng-if="!livePreview"></div>\n            <select\n            id="{{nebUuid}}"\n            style="background: #fff"\n            ng-model="inputText"\n            ng-change="upDateDropDownInput(inputText);checkConditionalDisplay(inputText)"\n            validator-group="{{setValidatorGroup()}}"\n            validator-required="{{display && required}}">\n            <option class="text-muted" disabled selected="selected">{{num_of_lines}}</option>\n            <option ng-repeat="i in [1,2,3,4,5,6,7] track by $index" value={{i}} label={{i}}>{{i}}</option>\n          <select/>\n        </div>\n        <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n      <neb-rating\n        class="{{additionalClasses}}"\n        min-value="1"\n        max-value="7"\n        ng-model="inputText"\n        ng-change="checkConditionalDisplay(inputText)"\n        neb-selection-style="selectionStyle.value"\n        validator-group="{{setValidatorGroup()}}"\n        neb-format="numbersSquare"\n        neb-labeled-by="label_{{nebUuid}}"\n        neb-described-by="desc_{{nebUuid}}"\n        neb-disable="!livePreview"\n        validator-required="{{display && required}}"\n        should-show-aria-label="shouldShowAriaLabelInRating"\n        custom-labels="customLabels"\n        neb-required="{{display && required}}"/>\n    </div>\n      ',grading1to10:'\n          <div class="neb-content slider-rating" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}" ng-show="ratingViewType == \'gradingSlider\'">\n            <md-slider-container class="_md">\n              <span>1</span>\n              <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="1" max="10" aria-label="rating">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n              <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n              <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n            </div>\n          </div>\n          <div class="{{componentClass}} neb-content neb-relative neb-grading-select" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingDropdown\'}}" ng-show="ratingViewType == \'gradingDropdown\'">\n            <div class="kpl-disable" ng-if="!livePreview"></div>\n              <select\n              id="{{nebUuid}}"\n              style="background: #fff"\n              ng-model="inputText"\n              ng-change="upDateDropDownInput(inputText);checkConditionalDisplay(inputText)"\n              validator-group="{{setValidatorGroup()}}"\n              validator-required="{{display && required}}">\n              <option class="text-muted" disabled selected="selected">{{num_of_lines}}</option>\n              <option value="1" label="1">1</option>\n              <option value="2" label="2">2</option>\n              <option value="3" label="3">3</option>\n              <option value="4" label="4">4</option>\n              <option value="5" label="5">5</option>\n              <option value="6" label="6">6</option>\n              <option value="7" label="7">7</option>\n              <option value="8" label="8">8</option>\n              <option value="9" label="9">9</option>\n              <option value="10" label="10">10</option>\n            <select/>\n          </div>\n          <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n          \t\t<input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n\t\t\t\t<neb-rating\n\t\t\t\t\tclass="{{additionalClasses}}"\n\t\t\t\t\tmin-value="1"\n\t\t\t\t\tmax-value="10"\n\t\t\t\t\tng-model="inputText"\n\t\t\t\t\tng-change="checkConditionalDisplay(inputText)"\n\t\t\t\t\tneb-selection-style="selectionStyle.value"\n\t\t\t\t\tvalidator-group="{{setValidatorGroup()}}"\n\t\t\t\t\tneb-format="numbersSquare"\n\t\t\t\t\tneb-labeled-by="label_{{nebUuid}}"\n\t\t\t\t\tneb-described-by="desc_{{nebUuid}}"\n\t\t\t\t\tneb-disable="!livePreview"\n          validator-required="{{display && required}}"\n          should-show-aria-label="shouldShowAriaLabelInRating"\n          custom-labels="customLabels"\n\t\t\t\t\tneb-required="{{display && required}}"/>\n\n\t\t  </div>\n        ',grading0to10:'\n          <div class="neb-content slider-rating" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}" ng-show="ratingViewType == \'gradingSlider\'">\n            <md-slider-container class="_md">\n              <span>0</span>\n              <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="0" max="10" aria-label="rating">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n              <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n              <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n            </div>\n          </div>\n          <div class="{{componentClass}} neb-content neb-relative neb-grading-select" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingDropdown\'}}" ng-show="ratingViewType == \'gradingDropdown\'">\n            <div class="kpl-disable" ng-if="!livePreview"></div>\n              <select\n              id="{{nebUuid}}"\n              style="background: #fff"\n              ng-model="inputText"\n              ng-change="upDateDropDownInput(inputText);checkConditionalDisplay(inputText)"\n              validator-group="{{setValidatorGroup()}}"\n              validator-required="{{display && required}}">\n              <option class="text-muted" disabled selected="selected">{{num_of_lines}}</option>\n              <option value="0" label="0">0</option>\n              <option value="1" label="1">1</option>\n              <option value="2" label="2">2</option>\n              <option value="3" label="3">3</option>\n              <option value="4" label="4">4</option>\n              <option value="5" label="5">5</option>\n              <option value="6" label="6">6</option>\n              <option value="7" label="7">7</option>\n              <option value="8" label="8">8</option>\n              <option value="9" label="9">9</option>\n              <option value="10" label="10">10</option>\n            <select/>\n          </div>\n          <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n          \t\t<input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n\t\t\t\t<neb-rating\n\t\t\t\t\tclass="{{additionalClasses}}"\n\t\t\t\t\tmin-value="0"\n\t\t\t\t\tmax-value="10"\n\t\t\t\t\tng-model="inputText"\n\t\t\t\t\tng-change="checkConditionalDisplay(inputText)"\n\t\t\t\t\tneb-selection-style="selectionStyle.value"\n\t\t\t\t\tvalidator-group="{{setValidatorGroup()}}"\n\t\t\t\t\tneb-format="numbersSquare"\n\t\t\t\t\tneb-labeled-by="label_{{nebUuid}}"\n\t\t\t\t\tneb-described-by="desc_{{nebUuid}}"\n\t\t\t\t\tneb-disable="!livePreview"\n\t\t\t\t\tvalidator-required="{{display && required}}"\n          neb-rating-type="grading0to10"\n          should-show-aria-label="shouldShowAriaLabelInRating"\n          custom-labels="customLabels"\n\t\t\t\t\tneb-required="{{display && required}}"/>\n\n\t\t  </div>\n        '},mobileAndroid:{radio:'\n\t\t\t\t\t<div class="neb-content">\n            <ul>\n              <li ng-model="inputText" class=\'radio clip-radio radio-primary {{placeholder}} {{custom_css}}\' ng-repeat="item in options | filter: hideReuseOption  track by $index">\n                <label class="label-radio item-content">\n                  <input ng-change="checkConditionalDisplay(inputText)" id="{{formName+index+$index}}" name=\'{{formName+index}}\' ng-model="$parent.inputText"\n                        validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" value="{{item.id || item}}" type=\'radio\'/>\n                  <div class="item-media"><i class="icon icon-form-radio"></i></div>\n                  <div class="item-inner">\n                    <div class="{{custom_css}} item-title">{{isMultiOption(item) ? item.label : item}}</div>\n                  </div>\n                </label>\n              </li>\n              <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            </ul>\n          </div>\n\t      ',select:'\n          <div class="{{componentClass}} neb-content neb-relative" id="mobile-android-dropDown">\n            <div class="kpl-disable" ng-if="!livePreview"></div>\n              <md-input-container>\n                <md-select id="{{nebUuid}}"\n                  mobile-md-select-esc-blocker\n                  md-on-close="hideOverlay()"\n                  md-on-open="showOverlay()"\n                  aria-labelledby="label_{{nebUuid}}"\n                  aria-describedby="desc_{{nebUuid}}"\n                  ng-model="inputText"\n                  ng-change="checkConditionalDisplay(inputText)"\n                  placeholder="{{placeholder}}"\n                  validator-group="{{setValidatorGroup()}}"\n                  validator-required="{{display && required}}" class="md-no-underline">\n                    <md-option ng-repeat="item in options | filter: hideReuseOption" value="{{item.id || item}}">{{isMultiOption(item) ? item.label : item}}</md-option>\n                  </md-select>\n              </md-input-container>\n          </div>\n        ',grading1to7:'\n        <div class="neb-content slider-rating" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}" ng-show="ratingViewType == \'gradingSlider\'">\n          <md-slider-container class="_md">\n            <span>1</span>\n            <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="1" max="7" aria-label="rating">\n            </md-slider>\n            <span>7</span>\n          </md-slider-container>\n          <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n          <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n            <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n            <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n          </div>\n        </div>\n        <div class="{{componentClass}} neb-content neb-relative neb-grading-select" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingDropdown\'}}" ng-show="ratingViewType == \'gradingDropdown\'">\n          <div class="kpl-disable" ng-if="!livePreview"></div>\n            <md-input-container>\n              <md-select id="{{nebUuid}}"\n                md-on-close="hideOverlay()"\n                md-on-open="showOverlay()"\n                ng-model="inputText"\n                ng-change="checkConditionalDisplay(inputText)"\n                placeholder="{{num_of_lines}}"\n                validator-group="{{setValidatorGroup()}}"\n                validator-required="{{display && required}}" class="md-no-underline">\n                <md-option ng-repeat="i in [1,2,3,4,5,6,7] track by $index" value={{i}} label={{i}}>{{i}}</md-option>\n                </md-select>\n            </md-input-container>\n        </div>\n        <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n          <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n      <neb-rating\n        class="{{additionalClasses}}"\n        min-value="1"\n        max-value="7"\n        ng-model="inputText"\n        ng-change="checkConditionalDisplay(inputText)"\n        neb-selection-style="selectionStyle.value"\n        validator-group="{{setValidatorGroup()}}"\n        neb-format="numbersSquare"\n        neb-labeled-by="label_{{nebUuid}}"\n        neb-described-by="desc_{{nebUuid}}"\n        neb-disable="!livePreview"\n        custom-labels="customLabels"\n        should-show-aria-label="shouldShowAriaLabelInRating"\n        validator-required="{{display && required}}"/>\n    </div>\n      ',grading1to10:'\n          <div class="neb-content slider-rating" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}" ng-show="ratingViewType == \'gradingSlider\'">\n            <md-slider-container class="_md">\n              <span>1</span>\n              <md-slider name="{{unique_name}}" ng-disabled="!livePreview" flex class="md-primary" md-discrete ng-model="inputText" ng-change="checkConditionalDisplay(inputText)" step="1" min="1" max="10" aria-label="rating">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n              <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n              <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n            </div>\n          </div>\n          <div class="{{componentClass}} neb-content neb-relative neb-grading-select" ng-form="{{ unique_name | ngFormNameGenerator:\'gradingDropdown\'}}" ng-show="ratingViewType == \'gradingDropdown\'">\n            <div class="kpl-disable" ng-if="!livePreview"></div>\n              <md-input-container>\n                <md-select id="{{nebUuid}}"\n                  md-on-close="hideOverlay()"\n                  md-on-open="showOverlay()"\n                  ng-model="inputText"\n                  ng-change="checkConditionalDisplay(inputText)"\n                  placeholder="{{num_of_lines}}"\n                  validator-group="{{setValidatorGroup()}}"\n                  validator-required="{{display && required}}" class="md-no-underline">\n                    <md-option value="1">1</md-option>\n                    <md-option value="2">2</md-option>\n                    <md-option value="3">3</md-option>\n                    <md-option value="4">4</md-option>\n                    <md-option value="5">5</md-option>\n                    <md-option value="6">6</md-option>\n                    <md-option value="7">7</md-option>\n                    <md-option value="8">8</md-option>\n                    <md-option value="9">9</md-option>\n                    <md-option value="10">10</md-option>\n                  </md-select>\n              </md-input-container>\n          </div>\n          <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n          \t<input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n\t\t\t\t<neb-rating\n\t\t\t\t\tclass="{{additionalClasses}}"\n\t\t\t\t\tmin-value="1"\n\t\t\t\t\tmax-value="10"\n\t\t\t\t\tng-model="inputText"\n\t\t\t\t\tng-change="checkConditionalDisplay(inputText)"\n\t\t\t\t\tneb-selection-style="selectionStyle.value"\n\t\t\t\t\tvalidator-group="{{setValidatorGroup()}}"\n\t\t\t\t\tneb-format="numbersSquare"\n\t\t\t\t\tneb-labeled-by="label_{{nebUuid}}"\n\t\t\t\t\tneb-described-by="desc_{{nebUuid}}"\n          neb-disable="!livePreview"\n          custom-labels="customLabels"\n          should-show-aria-label="shouldShowAriaLabelInRating"\n\t\t\t\t\tvalidator-required="{{display && required}}"/>\n\t\t  </div>\n        ',
grading0to10:'\n          <div\n            class="neb-content slider-rating"\n            ng-form="{{ unique_name | ngFormNameGenerator:\'gradingSlider\'}}"\n            ng-show="ratingViewType == \'gradingSlider\'">\n            <md-slider-container class="_md">\n              <span>0</span>\n              <md-slider\n                name="{{unique_name}}"\n                ng-disabled="!livePreview"\n                flex\n                class="md-primary"\n                md-discrete\n                ng-model="inputText"\n                ng-change="checkConditionalDisplay(inputText)"\n                step="1"\n                min="0"\n                max="10"\n                validator-group="{{setValidatorGroup()}}"\n                validator-required="{{display && required}}"\n                neb-required="{{display && required}}"\n                aria-label="rating">\n              </md-slider>\n              <span>10</span>\n            </md-slider-container>\n            <input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            <div aria-hidden="true" class="edge-labels" ng-show="shouldShowAriaLabelInRating">\n              <span id="leftEdge">{{(customLabels || [])[0]}}</span>\n              <span id="rightEdge">{{customLabels && customLabels[customLabels.length - 1]}}</span>\n            </div>\n          </div>\n          <div class="{{componentClass}} neb-content neb-relative neb-grading-select"\n            ng-form="$root.Forms[unique_name]    .gradingDropdown"\n            ng-show="ratingViewType == \'gradingDropdown\'">\n            <div class="kpl-disable" ng-if="!livePreview"></div>\n              <md-input-container>\n                <md-select id="{{nebUuid}}"\n                  md-on-close="hideOverlay()"\n                  md-on-open="showOverlay()"\n                  ng-model="inputText"\n                  ng-change="checkConditionalDisplay(inputText)"\n                  placeholder="{{num_of_lines}}"\n                  validator-group="{{setValidatorGroup()}}"\n                  validator-required="{{display && required}}"\n                  class="md-no-underline">\n                  \t<md-option value="0">0</md-option>\n                    <md-option value="1">1</md-option>\n                    <md-option value="2">2</md-option>\n                    <md-option value="3">3</md-option>\n                    <md-option value="4">4</md-option>\n                    <md-option value="5">5</md-option>\n                    <md-option value="6">6</md-option>\n                    <md-option value="7">7</md-option>\n                    <md-option value="8">8</md-option>\n                    <md-option value="9">9</md-option>\n                    <md-option value="10">10</md-option>\n                  </md-select>\n              </md-input-container>\n          </div>\n          <div class="neb-content mobile-numbers-squares" ng-form="{{ unique_name | ngFormNameGenerator:\'numbersSquare\'}}" ng-show="ratingViewType === \'numbersSquare\'">\n          \t<input type="hidden" ng-model="inputText" validator-group="{{setValidatorGroup()}}" validator-required="{{display && required}}" />\n            <neb-rating\n              class="{{additionalClasses}}"\n              min-value="0"\n              max-value="10"\n              ng-model="inputText"\n              ng-change="checkConditionalDisplay(inputText)"\n              neb-selection-style="selectionStyle.value"\n              validator-group="{{setValidatorGroup()}}"\n              validator-required="{{display && required}}"\n              neb-format="numbersSquare"\n              neb-labeled-by="label_{{nebUuid}}"\n              neb-described-by="desc_{{nebUuid}}"\n              neb-disable="!livePreview"\n              custom-labels="customLabels"\n              should-show-aria-label="shouldShowAriaLabelInRating"\n              neb-rating-type="grading0to10"/>\n          </div>\n        '}};return{get:t}}angular.module("nebFormTemplates.module").service("FormTemplatesModel",e),e.$inject=["Common"]}(),function(){function e(e,n,o,i,r,a,s){function l(t,n){var o;switch(n){case"textArea":o=e.get("builderComponentTemplate.common.textTemplate")||"",o=o.replace("{{component}}",n);break;default:o=e.get("builderComponentTemplate.common.template")}return o=o||"",o=o.replace("{{imageSource}}",e.get("builderComponentTemplate.".concat(n,".imageSrc"))),o=o.replace("{{componentType}}",e.get("builderComponentTemplate.".concat(n,".componentType")))}function d(e,t,n){return e?FormComponents.NPS:1===t&&10===n?FormComponents.GRADING1TO10:1===t&&7===n?FormComponents.GRADING1TO7:1===t&&5===n?FormComponents.GRADING1TO10:FormComponents.GRADING0TO10}function c(t){var n=t.nps,o=void 0===n||n,i=t.minValue,r=void 0===i?0:i,a=t.maxValue,s=void 0===a?10:a,l=t.propertyType,c=void 0===l?"website":l,u=e.get("common.nebRating")||"",m=d(o,r,s);return u=u.replace("{{componentClass}}","neb-".concat(c,"-").concat(m)),u=u.replace("{{componentType}}",m),u.replace("{{minValue}}",r).replace("{{maxValue}}",s)}unction m(e){switch(e){case FormComponents.GRADING1TO5:return{minValue:1,maxValue:5};case FormComponents.GRADING1TO7:return{minValue:1,maxValue:7};case FormComponents.GRADING1TO10:return{minValue:1,maxValue:10};case FormComponents.GRADING0TO10:return{minValue:0,maxValue:10}}}function p(e,t){var n={nps:!1,propertyType:"website"};return e&&(n.propertyType=e),n=Object.assign({},n,m(t)),c(n)}function g(e){return!![FormComponents.NPS,FormComponents.GRADING1TO5,FormComponents.GRADING1TO10,FormComponents.GRADING0TO10,FormComponents.GRADING1TO7].find(}function f(e,t){var n;switch(e){case FormComponents.NPS:n=u(t);break;case FormComponents.GRADING1TO5:case FormComponents.GRADING1TO7:case FormComponents.GRADING1TO10:case FormComponents.GRADING0TO10:n=p(t,e)}return n}function b(e,o){var i="grading",a=n.isMobileProperty()&&!n.isAnywhereProperty(),l=r.checkProvision(DigProvisions.MOBILE_SDKV2_RESPONSIVE_1TO5_GRADING)||r.checkProvision(DigProvisions.LIVE_FORM_V2);return a&&l?o===i:g(o)&&(e===t.WEBSITE||s.shouldApplyMobileWcagSupportToForm())}function h(n,o,i){void 0===i&&(i="");var r;if(i=i?".".concat(i):i,b(n,o))r=f(o,n),r=r.replace("{{additionalClasses}}",o===FormComponents.NPS?"":FormComponents.GRADING1TO5);else if(e.get("common.".concat(o))&&!e.get("".concat(n,".").concat(o)))r=e.get("common.".concat(o)),r=r.replace("{{componentClass}}","neb-"+n+"-"+o);else switch(n){case t.WEBSITE:r=e.get("".concat(n).concat(i,".").concat(o))||e.get("".concat(n,".").concat(o));break;case t.MOBILE_IOS:case t.ANYWHERE:case t.MOBILE_ANDROID:r=e.get("".concat(n).concat(i,".").concat(o))||e.get("mobile".concat(i,".").concat(o))||e.get("".concat(n,".").concat(o))||e.get("mobile.".concat(o))}return r}function v(t,n){return e.get("".concat(t,".common.").concat(n))||e.get("mobile.common.".concat(n))||""}function y(t,n){return e.get("".concat(t,".common.").concat(n))||""}unction T(e){var n=S===t.MOBILE_IOS||S===t.MOBILE_ANDROID||S===t.ANYWHERE,o=h(S,e,E()),i=l(S,e);switch(e){case"label":case"image":case"screenCaptureComponent":case"sectionBreak":k=n?v(S,"templateWrapper"):y(S,"templateWrapperLabel"),k=k||"",k=k.replace("{{component}}",e),k=k.replace("{{content}}",o),k=k.replace("{{buttonBuilder}}",i);break;default:if(n?(k=v(S,"templateWrapper"),k=k.replace("{{commonLabel}}",v(S,"label")),k=k.replace("{{component}}",e),k=k.replace("{{content}}",o),k=k.replace("{{commonHelpBlock}}",v(S,"helpBlock"))):(k=y(S,"templateWrapper"),k=k.replace("{{commonLabel}}",y(S,"label")),k=k.replace("{{component}}",e),k=k.replace("{{content}}",o),k=k.replace("{{commonHelpBlock}}",y(S,"helpBlock"))),!k)return null;k=k.replace("{{buttonBuilder}}",i)}return k}function _(){var e=o.defer();return S?e.resolve(S):i.$on("NebProfileArrived",function(n,o){void 0===o&&(o={propertyType:t.WEBSITE}),r.getProvisionsAsync().then(}),e.promise}function C(e){var t=n.getPropertyType();return a.getNestedProperty(M(),"".concat(t,".").concat(e))||"HIDE"}var k,S,M=function(){var e,t,o,i;return{website:(e={},e[FormComponents.TEXT_INPUT]="InputGroup",e[FormComponents.TEXT_AREA]="InputGroup",e[FormComponents.SELECT]="SelectionGroup",e[FormComponents.RADIO]="SelectionGroup",e[FormComponents.CHECKBOX]="SelectionGroup",e[FormComponents.GRADING1TO5]="RatingGroup",e[FormComponents.GRADING1TO7]="RatingGroup",e[FormComponents.GRADING1TO10]="RatingGroup",e[FormComponents.GRADING0TO10]="RatingGroup",e[FormComponents.NPS]="RatingGroup",e.date="DEUGroup",e[FormComponents.EMAIL_INPUT]="DEUGroup",e[FormComponents.LABEL]="NoInputGroup",e[FormComponents.IMAGE]="NoInputGroup",e[FormComponents.SECTION_BREAK]="NoInputGroup",e[FormComponents.SCREEN_CAPTURE]="NoInputGroup",e),mobileIOS:(t={},t[FormComponents.TEXT_INPUT]="InputGroup",t[FormComponents.TEXT_AREA]="InputGroup",t[FormComponents.SELECT]="SelectionGroup",t[FormComponents.RADIO]="SelectionGroup",t[FormComponents.CHECKBOX]="SelectionGroup",t[FormComponents.GRADING1TO5]="RatingGroup",t[FormComponents.GRADING1TO7]="RatingGroup",t[FormComponents.GRADING1TO10]="RatingGroup",t[FormComponents.GRADING0TO10]="RatingGroup",t[FormComponents.NPS]="RatingGroup",t[FormComponents.EMAIL_INPUT]=n.checkProvision(DigProvisions.LIVE_FORM_V2)&&"DEUGroup",t[FormComponents.LABEL]="NoInputGroup",t[FormComponents.IMAGE]="NoInputGroup",t[FormComponents.MEDIA_CAPTURE]="NoInputGroup",t),mobileAndroid:(o={},o[FormComponents.TEXT_INPUT]="InputGroup",o[FormComponents.TEXT_AREA]="InputGroup",o[FormComponents.SELECT]="SelectionGroup",o[FormComponents.RADIO]="SelectionGroup",o[FormComponents.CHECKBOX]="SelectionGroup",o[FormComponents.GRADING1TO5]="RatingGroup",o[FormComponents.GRADING1TO7]="RatingGroup",o[FormComponents.GRADING1TO10]="RatingGroup",o[FormComponents.GRADING0TO10]="RatingGroup",o[FormComponents.NPS]="RatingGroup",o[FormComponents.EMAIL_INPUT]=n.checkProvision(DigProvisions.LIVE_FORM_V2)&&"DEUGroup",o[FormComponents.LABEL]="NoInputGroup",o[FormComponents.IMAGE]="NoInputGroup",o[FormComponents.MEDIA_CAPTURE]="NoInputGroup",o),anywhere:(i={},i[FormComponents.TEXT_INPUT]="InputGroup",i[FormComponents.TEXT_AREA]="InputGroup",i[FormComponents.SELECT]="SelectionGroup",i[FormComponents.RADIO]="SelectionGroup",i[FormComponents.CHECKBOX]="SelectionGroup",i[FormComponents.GRADING1TO5]="RatingGroup",i[FormComponents.GRADING1TO7]="RatingGroup",i[FormComponents.GRADING1TO10]="RatingGroup",i[FormComponents.GRADING0TO10]="RatingGroup",i[FormComponents.NPS]="RatingGroup",i[FormComponents.IMAGE]="NoInputGroup",i)}},A=function(){return S};return{getTemplate:T,init:_,getKampyleComponentGroup:C,getNps:u,getGrading:p,getCommonContent:h,getButtonBuilderTemplate:l,getPropertyType:A,getNebRating:c,isGradingComponent:g,getContentByComponentType:f,getMinMaxValues:m,getRatingComponentType:d}}var t={WEBSITE:"website",MOBILE_IOS:"mobileIOS",MOBILE_ANDROID:"mobileAndroid",ANYWHERE:"anywhere"};angular.module("nebFormTemplates.module").service("FormTemplates",e),e.$inject=["FormTemplatesModel","Profile","$q","$rootScope","Provision","Common","WcagService"]}(),function(){"use strict";angular.module("builder.components",["builder","validator.rules","nebFormTemplates.module","profile.module"]).run(["$builder","FormTemplates","$rootScope","Profile","$injector","WcagService",function(e,t,n,o,i,r){function a(t,n){e.components[t]||e.registerComponent(t,n)}function s(){return o.isWebProperty()?RatingViewTypes.CIRCLES:o.isAnywhereProperty()||r.shouldApplyMobileWcagSupportToForm()&&!o.checkProvision(DigProvisions.LIVE_FORM_V2)?RatingViewTypes.SQUARES:RatingViewTypes.SLIDER}var l={getCPEditorTemplate:function(){return{template:""}},getReusableFieldTemplate:function(){return{template:""}},getMultiOptionTemplate:function(){return{template:""}},getImageDescriptionLabel:function(){return{template:""}},getNebRatingEditorTemplate:function(){return{template:""}},getNebRatingPopoverTemplate:function(e,t,n,o,i,r,a){return{template:""}},getMediaCaptureFormats:function(){return{template:""}},getConditionalDisplayTemplate:function(){return{template:""}},getCustomCssTemplate:function(){return{template:""}},getRequiredFiledTemplate:function(){return{template:""}},getMediaCaptureAccessibilitySettings:;try{l=i.get("FormPopoverModel")}catch(d){}var c=[{label:"Accumulative",icon:"neb-icon-accumulative-select",value:"accumulate"},{label:"Single select",icon:"neb-icon-single-select",value:"single"}],u=function(){var e=o.getPropertyType();return"mobileAndroid"===e?[SUPPORTED_MEDIA_TYPES.VIDEO,SUPPORTED_MEDIA_TYPES.AUDIO,SUPPORTED_MEDIA_TYPES.UPLOAD]:[SUPPORTED_MEDIA_TYPES.VIDEO,SUPPORTED_MEDIA_TYPES.AUDIO]},m=function(){return o.isWebProperty()||o.isAnywhereProperty()||r.shouldApplyMobileWcagSupportToForm()&&!o.checkProvision(DigProvisions.LIVE_FORM_V2)},p=function(){var e="Screen Capture, ";return(o.checkProvision(DigProvisions.CSP_RULES)?"":e)+"Click Capture Image button or drag the cursor to highlight a specific area."};t.init().then(function(){a("textInput",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("textInput"),group:"Default",label:"Text Input",display:!0,description:"",neb_uuid:"",placeholder:"",max_chars:50,custom_css:"",required:!1,labelWithCP:"",descriptionWithCP:"",useCustomParams:!1,validationOptions:[{label:"none",rule:"/.*/"},{label:"number",rule:"[number]"},{label:"email",rule:"[email]"},{label:"url",rule:"[url]"}],template:t.getTemplate("textInput"),popoverTemplate:'\n            <form class="fieldSettingsPopover">\n                <div class="item-popover-title">\n                  <span class="popover-title-image"><img class="kIcon35 kpl-tooltip alignBottom" src="assets/images/kampyle/icons/blue_text-input.svg"></span>\n                  <span class="popover-title-text" ng-bind="texts.app.pages.forms.builder.tabs.addField.textInput"></span>\n                  <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                 </button>\n                </div>\n                '.concat(l.getReusableFieldTemplate(),'\n                <div class="form-group" data-aut="internalName">\n                    <label class=\'control-label\'>\n                      <span class="symbol required"></span>\n                        {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                        <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                       tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}"></i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kpl-ellipsis"/>\n                    <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name</p>\n                </div>\n                    ').concat(l.getCPEditorTemplate(),'\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}"></i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label"  class=\'form-control kLightGrey \'/>\n                </div>\n\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n                    <i class="fa fa-question-circle kpl-tooltip"\n                         tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}"></i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control kLightGrey \'/>\n                </div>\n                <div class="form-group" data-aut="placeHolder">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.placeHolder}}\n                      <i class="fa fa-question-circle kpl-tooltip"\n                         tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.placeHolder}}"></i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="placeholder" class=\'form-control kLightGrey \'/>\n                </div>\n                <div ng-hide="isAnywherePropertyType()" class="form-group">\n                    <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                    <label class="control-label">{{texts.app.pages.forms.builder.tabs.fieldSettings.inputTextChars}}&nbsp;&nbsp;<i class="fa fa-question-circle kpl-tooltip" tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.inputTextChars}}"></i></label>\n                    <input ng-disabled="isReadOnly()" ng-blur="checkValidMaxCharsValue(max_chars)" numeric-input ng-change="popover.autoSave()" type="text" ng-model="max_chars" class="form-control kLightGrey"/>\n                </div>\n                <div class="row" ng-hide="::isQuestionRandomizationEnabled()">\n                  <div class="col-sm-4">\n                    <div class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                      <label\n                        class=\'control-label\'\n                        for="{{unique_name}}_RequiredCheckbox">\n                        {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                      </label>\n                    </div>\n                  </div>\n                  <div ng-hide="isAnywherePropertyType()" class="col-sm-8">\n                      <neb-checkbox data-aut="contactNameCheckbox"\n                          neb-disabled="isReadOnly() ? true : disableRole(\'contactName\')"\n                          neb-tooltip-direction="top"\n                          neb-tooltip="disableRole(\'contactName\') ? texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.contactNameDisabled : texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.contactName"\n                          neb-tooltip-class-name="disableRole(\'contactName\') ? \'fa-lock\' : \'fa-question-circle\'"\n                          neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.contactNameField"\n                          neb-model="role"\n                          neb-on-change="popover.autoSave"\n                          neb-true-value="\'contactName\'"\n                          neb-false-value="null"\n                          neb-class-name="control-label"\n                          data-aut="contactNameCheckbox">\n                      </neb-checkbox>\n                  </div>\n                </div>\n                ').concat(l.getConditionalDisplayTemplate(),'\n                <div class="form-group row" ng-if="isQuestionScoreEnabled()">\n                  <div class="col-md-12">\n                    <react-question-score-selection\n                      ng-disabled="isReadOnly()"\n                      selected-score="formObject.score"\n                      on-select="questionScoreSelectionHandler"\n                      ng-init="setQuestionScoreIfNeeded()" />\n                  </div>\n                </div>\n\n                <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="fieldCustomCssClass">\n                    <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}"></i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey\'/>\n                </div>\n            </form>\n          '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("textArea",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("textArea"),group:"Default",label:"Text Area",display:!0,description:"",neb_uuid:"",placeholder:"",num_of_lines:3,required:!1,template:t.getTemplate("textArea"),popoverTemplate:'\n            <form  class="fieldSettingsPopover">\n                <div class="item-popover-title">\n                    <span class="popover-title-image"><img class="kIcon35 kpl-tooltip alignBottom" src="assets/images/kampyle/icons/text_area.svg"></span>\n                    <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.textArea}}</span>\n                    <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                        </button>\n                </div>\n                '.concat(l.getReusableFieldTemplate(),'\n                <div class="form-group" data-aut="internalName">\n                    <label class=\'control-label\'>\n            <span class="symbol required"></span>\n            {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip-placement="right" tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}"></i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kpl-ellipsis"/>\n                    <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n                </div>\n                ').concat(l.getCPEditorTemplate(),'\n                <div  class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                      <i class="fa fa-question-circle kpl-tooltip"\n                         tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                      </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label"  class=\'form-control\'/>\n                </div>\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n\n                      <i class="fa fa-question-circle kpl-tooltip"\n                      tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}">\n                      </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control\'/>\n                </div>\n                <div class="form-group" data-aut="placeHolder">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.placeHolder}}\n                      <i class="fa fa-question-circle kpl-tooltip"\n                         tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.placeHolder}}">\n                      </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="placeholder" class=\'form-control\'/>\n                </div>\n                <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="numberOfLines">\n                    <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.textAreaLines}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.textAreaLines}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-blur="checkValidNumOfLinesValue(num_of_lines)" numeric-input ng-change="popover.autoSave()" type=\'text\'  ng-model="num_of_lines" class=\'form-control kLightGrey \'/>\n                </div>\n                <div ng-hide="::isQuestionRandomizationEnabled()" class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                  <div class="checkbox clip-check check-primary checkbox-inline">\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                      <label class=\'control-label\' for="{{unique_name}}_RequiredCheckbox">\n                          {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                      </label>\n                  </div>\n                </div>\n                ').concat(l.getConditionalDisplayTemplate(),'\n\n                <div class="form-group row" ng-if="isQuestionScoreEnabled()">\n                  <div class="col-md-12">\n                    <react-question-score-selection\n                      ng-disabled="isReadOnly()"\n                      selected-score="formObject.score"\n                      on-select="questionScoreSelectionHandler"\n                      ng-init="setQuestionScoreIfNeeded()" />\n                  </div>\n                </div>\n\n                <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="fieldCustomCssClass">\n                    <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey \'/>\n                </div>\n            </form>\n          '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:"",component:""}}),a("select",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("select"),group:"Default",label:"Drop Down",description:"",neb_uuid:"",placeholder:"Please Select Option",required:!1,role:null,options:o.checkProvision("multiOptionsID")?[{id:"ID-001",label:"Option One"},{id:"ID-002",label:"Option Two"}]:["Option One","Option Two"],currentId:2,template:t.getTemplate("select"),popoverTemplate:'\n            <form class="fieldSettingsPopover">\n                <div class="item-popover-title">\n                    <span class="popover-title-image"><img class="kIcon35 kpl-tooltip alignBottom" src="assets/images/kampyle/icons/blue_dropdown.svg"></span>\n                    <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.dropDown}}</span>\n                    <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                        </button>\n                </div>\n\t\t\t\t\t\t\t\t'.concat(l.getReusableFieldTemplate(),'\n                <div class="form-group" data-aut="internalName">\n                    <label class=\'control-label\'>\n            <span class="symbol required"></span>\n            {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                       <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                         tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                      </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kSmallText kpl-ellipsis"/>\n                    <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n                </div>\n                ').concat(l.getCPEditorTemplate(),'\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                    <i class="fa fa-question-circle kpl-tooltip"\n                       tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                    </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label"  class=\'form-control kLightGrey kSmallText\'/>\n                </div>\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n                    <i class="fa fa-question-circle kpl-tooltip"\n                       tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}">\n                    </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control kLightGrey kSmallText\'/>\n                </div>\n                <div class="form-group" data-aut="placeHolder">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.placeHolder}}\n                    <i class="fa fa-question-circle kpl-tooltip"\n                       tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.placeHolder}}">\n                    </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="placeholder" class=\'form-control kLightGrey kSmallText\'/>\n                </div>\n                ').concat(l.getMultiOptionTemplate(),'\n                <div ng-hide="isAnywherePropertyType()" class="form-group" neb-element-id="pages.builder.components.globalFeature.randomFormFieldValues">\n                \t<neb-random-strategy-picker disabled="{{isReadOnly()}}" value="randomStrategy"></neb-random-strategy-picker>\n                </div>\n                <div class="row" ng-hide="::isQuestionRandomizationEnabled()">\n                  <div class="col-sm-4">\n                    <div class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                      <label\n                        class=\'control-label\'\n                        for="{{unique_name}}_RequiredCheckbox">\n                        {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                      </label>\n                    </div>\n                  </div>\n                  <div ng-hide="isAnywherePropertyType()" class="col-sm-8">\n                      <neb-checkbox\n                          neb-disabled="isReadOnly() ? true : disableRole(\'category\')"\n                          neb-tooltip-direction="top"\n                          neb-tooltip="disableRole(\'category\') ? texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.categoryDisabled : texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.category"\n                          neb-tooltip-class-name="disableRole(\'category\') ? \'fa-lock\' : \'fa-question-circle\'"\n                          neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.categoryField"\n                          neb-model="role"\n                          neb-on-change="popover.autoSave"\n                          neb-true-value="\'category\'"\n                          neb-false-value="null"\n                          neb-class-name="control-label"\n                          data-aut="categoryCheckbox">\n                      </neb-checkbox>\n                  </div>\n                </div>\n                ').concat(l.getConditionalDisplayTemplate(),'\n\n                <div class="form-group row" ng-if="isQuestionScoreEnabled()">\n                  <div class="col-md-12">\n                    <react-question-score-selection\n                      ng-disabled="isReadOnly()"\n                      selected-score="formObject.score"\n                      on-select="questionScoreSelectionHandler"\n                      ng-init="setQuestionScoreIfNeeded()" />\n                  </div>\n                </div>\n\n                <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="fieldCustomCssClass">\n                <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                      <i class="fa fa-question-circle kpl-tooltip"\n                         tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                      </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey kSmallText\'/>\n                </div>\n\n                     </form>\n          '),
conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("radio",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("radio"),group:"Default",label:"Radio Buttons",description:"",neb_uuid:"",placeholder:"",required:!1,role:null,currentId:2,options:o.checkProvision("multiOptionsID")?[{id:"ID-001",label:"Option One"},{id:"ID-002",label:"Option Two"}]:["Option One","Option Two"],template:t.getTemplate("radio"),popoverTemplate:'\n              <form class="fieldSettingsPopover">\n                  <div class="item-popover-title">\n                      <span class="popover-title-image"><img class="kIcon35 kBlue alignBottom" src="assets/images/kampyle/icons/blue_single_choice.svg"></span>\n                      <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.radioButtons}}</span>\n                      <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                         </button>\n                  </div>\n\t\t\t\t\t\t\t\t\t'.concat(l.getReusableFieldTemplate(),'\n                  <div class="form-group" data-aut="internalName">\n                      <label class=\'control-label\'>\n                          <span class="symbol required"></span>\n                          {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                          <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kSmallText kpl-ellipsis"/>\n                      <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n                  </div>\n                  ').concat(l.getCPEditorTemplate(),'\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label"  class=\'form-control kLightGrey kSmallText\'/>\n                  </div>\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control kLightGrey kSmallText\'/>\n                  </div>\n                  <div class="form-group" ng-show="isWebProperty()">\n                      <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <div  style="margin-bottom: 0" class="panel panel-transparent">\n                          <div style="padding-left: 0;padding-bottom:0;margin-bottom:0px;padding-top:0;min-height: 10px" class="panel-heading">\n                              <label  class="control-label">{{texts.app.pages.forms.builder.tabs.fieldSettings.multiPosition.title}}\n                                  <i class="fa fa-question-circle kpl-tooltip"\n                                     tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.multiPosition}}">\n                                  </i>\n                              </label>\n                          </div>\n                          <div   style="padding-left: 0;padding-top:0;padding-bottom:0" class="panel-body">\n                              <div class="radio clip-radio radio-primary" data-aut="clip-radio_positions">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="position" type="radio" id="{{unique_name+index}}_horizontal" name="vertical" value="horizontal">\n                                  <label style="width:50%" class=\'control-label\' for="{{unique_name+index}}_horizontal">\n                                     {{texts.app.pages.forms.builder.tabs.fieldSettings.multiPosition.horizontal}}\n                                  </label>\n                              </div>\n                              <div style="margin-bottom: 0" class="radio clip-radio radio-primary" data-aut="clip-radio_positions">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="position" type="radio" id="{{unique_name+index}}_vertical" name="vertical" value="vertical">\n                                  <label style="width:50%" class=\'control-label\' for="{{unique_name+index}}_vertical">\n                                     {{texts.app.pages.forms.builder.tabs.fieldSettings.multiPosition.vertical}}\n                                  </label>\n\n                              </div>\n\n\n                          </div>\n                      </div>\n                  </div>\n                  ').concat(l.getMultiOptionTemplate(),'\n                <div ng-hide="isAnywherePropertyType()" class="form-group" neb-element-id="pages.builder.components.globalFeature.randomFormFieldValues">\n                \t<neb-random-strategy-picker disabled="{{isReadOnly()}}" value="randomStrategy"></neb-random-strategy-picker>\n                </div>\n\n                  <div class="row" ng-hide="::isQuestionRandomizationEnabled()">\n                    <div class="col-sm-4" data-aut="requiredCheckbox">\n                      <div class="checkbox clip-check check-primary checkbox-inline">\n                        <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                        <label\n                          class=\'control-label\'\n                          for="{{unique_name}}_RequiredCheckbox">\n                          {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                        </label>\n                      </div>\n                    </div>\n                    <div ng-hide="isAnywherePropertyType()" class="col-sm-8">\n                      <div class="checkbox clip-check check-primary checkbox-inline" >\n                        <div class="kpl-disable" ng-if="disableRole(\'category\')"></div>\n                        <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="role" type="checkbox" id="{{unique_name}}_RoleCheckbox" ng-true-value="\'category\'" ng-false-value="null">\n                        <label class=\'control-label\' for="{{unique_name}}_RoleCheckbox">\n                          {{texts.app.pages.forms.builder.tabs.fieldSettings.categoryField}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.category}}">\n                          </i>\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                  ').concat(l.getConditionalDisplayTemplate(),'\n\n                  <div class="form-group row" ng-if="isQuestionScoreEnabled()">\n                    <div class="col-md-12">\n                      <react-question-score-selection\n                        ng-disabled="isReadOnly()"\n                        selected-score="formObject.score"\n                        on-select="questionScoreSelectionHandler"\n                        ng-init="setQuestionScoreIfNeeded()" />\n                    </div>\n                  </div>\n\n                  <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="fieldCustomCssClass">\n                      <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey kSmallText\'/>\n                  </div>\n              </form>\n            '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("checkbox",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("checkbox"),group:"Default",label:"Checkboxes",position:"horizontal",description:"",neb_uuid:"",placeholder:"checkbox-inline",required:!1,currentId:2,options:o.checkProvision("multiOptionsID")?[{id:"ID-001",label:"Option One"},{id:"ID-002",label:"Option Two"}]:["Option One","Option Two"],template:t.getTemplate("checkbox"),popoverTemplate:'\n              <form class="fieldSettingsPopover">\n                  <div class="item-popover-title">\n                    <span class="popover-title-image">\n                    <img class="kIcon35 kBlue alignBottom" src="assets/images/kampyle/icons/blue_checkbox.svg">\n                    </span>\n                    <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.checkbox}}</span>\n                    <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                       </button>\n                  </div>\n\t\t\t\t\t\t\t\t\t'.concat(l.getReusableFieldTemplate(),'\n                  <div class="form-group" data-aut="internalName">\n                      <label class=\'control-label\'>\n                          <span class="symbol required"></span>\n                          {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                          <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kSmallText kpl-ellipsis"/>\n                      <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n                  </div>\n                  ').concat(l.getCPEditorTemplate(),'\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label"  class=\'form-control kLightGrey kSmallText\'/>\n                  </div>\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control kLightGrey kSmallText\'/>\n                  </div>\n                  <div class="form-group" ng-show="isWebProperty()">\n                      <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <div  style="margin-bottom: 0" class="panel panel-transparent">\n                          <div style="padding-left: 0;padding-bottom:0;margin-bottom:0px;padding-top:0;min-height: 10px" class="panel-heading">\n                              <label  class="control-label">{{texts.app.pages.forms.builder.tabs.fieldSettings.multiPosition.title}}\n                                  <i class="fa fa-question-circle kpl-tooltip"\n                                     tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.multiPosition}}">\n                                  </i>\n                              </label>\n                          </div>\n                          <div   style="padding-left: 0;padding-top:0;padding-bottom:0" class="panel-body">\n                              <div class="radio clip-radio radio-primary" data-aut="clip-radio_positions">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="position" type="radio" id="{{unique_name+index}}_horizontal" name="vertical" value="horizontal">\n                                  <label style="width:50%" class=\'control-label\' for="{{unique_name+index}}_horizontal">\n                                     {{texts.app.pages.forms.builder.tabs.fieldSettings.multiPosition.horizontal}}\n                                  </label>\n                              </div>\n                              <div style="margin-bottom: 0" class="radio clip-radio radio-primary" data-aut="clip-radio_positions">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="position" type="radio" id="{{unique_name+index}}_vertical" name="vertical" value="vertical">\n                                  <label style="width:50%" class=\'control-label\' for="{{unique_name+index}}_vertical">\n                                     {{texts.app.pages.forms.builder.tabs.fieldSettings.multiPosition.vertical}}\n                                  </label>\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n                  ').concat(l.getMultiOptionTemplate(),'\n                  <div ng-hide="isAnywherePropertyType()" class="form-group" neb-element-id="pages.builder.components.globalFeature.randomFormFieldValues">\n                \t<neb-random-strategy-picker disabled="{{isReadOnly()}}" value="randomStrategy"></neb-random-strategy-picker>\n                  </div>\n                  <div ng-hide="::isQuestionRandomizationEnabled()" class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                    <div class="checkbox clip-check check-primary checkbox-inline">\n                        <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                        <label class=\'control-label\' for="{{unique_name}}_RequiredCheckbox">\n                            {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                        </label>\n                    </div>\n                  </div>\n                  ').concat(l.getConditionalDisplayTemplate(),'\n\n                  <div class="form-group row" ng-if="isQuestionScoreEnabled()">\n                    <div class="col-md-12">\n                      <react-question-score-selection\n                        ng-disabled="isReadOnly()" \n                        selected-score="formObject.score"\n                        on-select="questionScoreSelectionHandler"\n                        ng-init="setQuestionScoreIfNeeded()" />\n                    </div>\n                  </div>\n\n                   <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="fieldCustomCssClass">\n                      <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey kSmallText\'/>\n                  </div>\n              </form>\n            '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("grading",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("grading"),group:"Default",label:"Rating",display:!0,ratingViewType:"stars",description:"",neb_uuid:"",required:!1,ratingOptions:{stars:[{stateOn:"kIcon rating-star-1",stateOff:"kIcon rating-star-off"},{stateOn:"kIcon rating-star-2",stateOff:"kIcon rating-star-off"},{stateOn:"kIcon rating-star-3",stateOff:"kIcon rating-star-off"},{stateOn:"kIcon rating-star-4",stateOff:"kIcon rating-star-off"},{stateOn:"kIcon rating-star-5",stateOff:"kIcon rating-star-off"}],bars:[{stateOn:"kIcon rating-bar-1",stateOff:"kIcon rating-bar-off"},{stateOn:"kIcon rating-bar-2",stateOff:"kIcon rating-bar-off"},{stateOn:"kIcon rating-bar-3",stateOff:"kIcon rating-bar-off"},{stateOn:"kIcon rating-bar-4",stateOff:"kIcon rating-bar-off"},{stateOn:"kIcon rating-bar-5",stateOff:"kIcon rating-bar-off"}],numbers:[{stateOn:"kIcon rating-number-1",stateOff:"kIcon rating-number-1-off"},{stateOn:"kIcon rating-number-2",stateOff:"kIcon rating-number-2-off"},{stateOn:"kIcon rating-number-3",stateOff:"kIcon rating-number-3-off"},{stateOn:"kIcon rating-number-4",stateOff:"kIcon rating-number-4-off"},{stateOn:"kIcon rating-number-5",stateOff:"kIcon rating-number-5-off"}],smilies:[{stateOn:"kIcon rating-smilie-1",stateOff:"kIcon rating-smilie-1-off"},{stateOn:"kIcon rating-smilie-2",stateOff:"kIcon rating-smilie-2-off"},{stateOn:"kIcon rating-smilie-3",stateOff:"kIcon rating-smilie-3-off"},{stateOn:"kIcon rating-smilie-4",stateOff:"kIcon rating-smilie-4-off"},{stateOn:"kIcon rating-smilie-5",stateOff:"kIcon rating-smilie-5-off"}]},selectionStyle:{options:c,value:"accumulate"},template:t.getTemplate("grading"),popoverTemplate:'\n              <form ng-click="popover.autoSave()" class="fieldSettingsPopover">\n                  <div class="item-popover-title">\n                      <span class="popover-title-image"><img class="kIcon35 kpl-tooltip alignBottom" src="assets/images/kampyle/icons/blue_grading.svg"></span>\n                      <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.rating}}</span>\n                      <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                           </button>\n                  </div>\n\t\t\t\t\t\t\t\t\t'.concat(l.getReusableFieldTemplate(),'\n                  <div class="form-group" data-aut="internalName">\n                      <label class=\'control-label\'>\n              <span class="symbol required"></span>\n              {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                          <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-change="validateInternalName(unique_name)" ng-init="generateInternalName(component,index,unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kSmallText kpl-ellipsis"/>\n                      <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n                  </div>\n                  ').concat(l.getCPEditorTemplate(),'\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" type=\'text\' ng-model="label"  class=\'form-control kLightGrey kSmallText\'/>\n                  </div>\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control kLightGrey \'/>\n                  </div>\n                  <div ng-hide="isAnywherePropertyType()" class="form-group">\n                  <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <div  style="margin-bottom: 0" class="panel panel-transparent">\n                          <div style="padding-left: 0;padding-bottom:0;margin-bottom:0px;padding-top:0;min-height: 10px" class="panel-heading">\n                              <label  class="control-label">{{texts.app.pages.forms.builder.tabs.fieldSettings.npsFormat}}\n                                  <i class="fa fa-question-circle kpl-tooltip"\n                                     tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.ratingFormat}}">\n                                  </i>\n                              </label>\n                          </div>\n                          <div   style="padding-left: 0;padding-top:0;padding-bottom:0" class="panel-body gradingCheckboxes">\n                              <div style="margin-bottom: 0" class="radio clip-radio radio-primary" data-aut="format-emoticons">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="ratingViewType" type="radio" id="{{unique_name+index}}_emoticons" name="vertical" value="emoticons" >\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_emoticons">\n                                      <div  ng-init="x = 5"><rating ng-model="x" readonly="true" rating-states="ratingOptions.emoticons"></rating></div>\n                                  </label>\n                              </div>\n                              <div style="margin-bottom: 0" class="radio clip-radio radio-primary" data-aut="format-stars">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="ratingViewType" type="radio" id="{{unique_name+index}}_stars" name="vertical" value="stars" >\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_stars">\n                                      <div  ng-init="x = 5"><rating ng-model="x"   readonly="true" rating-states="ratingOptions.stars"></rating></div>\n                                  </label>\n                              </div>\n                              <div style="margin-bottom: 0" class="radio clip-radio radio-primary" data-aut="format-numbers">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="ratingViewType" type="radio" id="{{unique_name+index}}_numbers" name="vertical" value="numbers" >\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_numbers">\n                                      <div  ng-init="x = 5"><rating ng-model="x"   readonly="true" rating-states="ratingOptions.numbers"></rating></div>\n                                  </label>\n                              </div>\n                            ').concat(o.checkProvision(DigProvisions.LIVE_FORM_V2)?"":'<div style="margin-bottom: 0" class="radio clip-radio radio-primary" data-aut="format-smilies">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="ratingViewType" type="radio" id="{{unique_name+index}}_smilies" name="vertical" value="smilies" >\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_smilies">\n                                      <div  ng-init="x = 5"><rating ng-model="x"   readonly="true" rating-states="ratingOptions.smilies"></rating></div>\n                                  </label>\n                              </div>\n                              <div style="margin-bottom: 0" class="radio clip-radio radio-primary" data-aut="format-bars">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="ratingViewType" type="radio" id="{{unique_name+index}}_bars" name="vertical" value="bars" >\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_bars">\n                                      <div  ng-init="x = 5"><rating ng-model="x"   readonly="true" rating-states="ratingOptions.bars"></rating></div>\n                                  </label>\n                              </div>','\n                          </div>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                      ').concat(l.getNebRatingEditorTemplate(),'\n                  </div>\n                  <div ng-hide="isAnywherePropertyType()" class="form-group"  data-aut="style">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.selectionStyle}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.selectionStyle}}"></i>\n                    </label>\n                    <neb-button-group neb-disabled="isReadOnly()" buttons-data="selectionStyle" ng-model="selectionStyle.value"> </neb-button-group>\n                  </div>\n                  <div class="row" ng-hide="::isQuestionRandomizationEnabled()">\n                      <div class="col-sm-4">\n                        <div class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                          <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                          <label\n                            class=\'control-label\'\n                            for="{{unique_name}}_RequiredCheckbox">\n                            {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                          </label>\n                        </div>\n                      </div>\n                      <div ng-hide="isAnywherePropertyType()" class="col-sm-8">\n                          <neb-checkbox ng-show="CsatFlagService.isSelectedCsat(\'').concat(FormComponents.GRADING1TO5,'\')"\n                          neb-disabled="isReadOnly() ? true : disableRole(\'CSAT\')"\n                          neb-tooltip-direction="top"\n                          neb-tooltip="CsatFlagService.getTooltipLabelByState(disableRole(\'CSAT\'))"\n                          neb-tooltip-class-name="CsatFlagService.getTooltipClassNameByState(disableRole(\'CSAT\'))"\n                          neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.csatFlag.label"\n                          neb-model="role"\n                          neb-true-value="\'CSAT\'"\n                          neb-false-value="null"\n                          neb-should-change-async="CsatFlagService.handleCsatFlagStateChange"\n                          neb-class-name="control-label"\n                          data-aut="csatFlagCheckbox">\n                          </neb-checkbox>\n                      </div>\n                </div>\n                \n                ').concat(l.getConditionalDisplayTemplate(),'\n\n                  <div class="form-group row" ng-if="isQuestionScoreEnabled()">\n                    <div class="col-md-12">\n                      <react-question-score-selection\n                        ng-disabled="isReadOnly()" \n                        selected-score="formObject.score"\n                        on-select="questionScoreSelectionHandler"\n                        ng-init="setQuestionScoreIfNeeded()" />\n                    </div>\n                  </div>\n\n                  <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="fieldCustomCssClass">\n                  <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey \'/>\n                  </div>\n              </form>\n            '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:"",component:"",targetType:""}}),a("grading1to7",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("grading1to7"),group:"Default",label:"Rating",display:!0,ratingViewType:m()?"numbersSquare":"gradingSlider",
num_of_lines:"",description:"",neb_uuid:"",required:!1,ratingOptions:{numbersSquare:[{stateOn:"kIcon rating1To10-square-1",stateOff:"kIcon rating1To10-square-1-off"},{stateOn:"kIcon rating1To10-square-2",stateOff:"kIcon rating1To10-square-2-off"},{stateOn:"kIcon rating1To10-square-3",stateOff:"kIcon rating1To10-square-3-off"},{stateOn:"kIcon rating1To10-square-4",stateOff:"kIcon rating1To10-square-4-off"},{stateOn:"kIcon rating1To10-square-5",stateOff:"kIcon rating1To10-square-5-off"},{stateOn:"kIcon rating1To10-square-6",stateOff:"kIcon rating1To10-square-6-off"},{stateOn:"kIcon rating1To10-square-7",stateOff:"kIcon rating1To10-square-7-off"}],numbersCircle:[{stateOn:"kIcon rating1To10-circle-1",stateOff:"kIcon rating1To10-circle-1-off"},{stateOn:"kIcon rating1To10-circle-2",stateOff:"kIcon rating1To10-circle-2-off"},{stateOn:"kIcon rating1To10-circle-3",stateOff:"kIcon rating1To10-circle-3-off"},{stateOn:"kIcon rating1To10-circle-4",stateOff:"kIcon rating1To10-circle-4-off"},{stateOn:"kIcon rating1To10-circle-5",stateOff:"kIcon rating1To10-circle-5-off"},{stateOn:"kIcon rating1To10-circle-6",stateOff:"kIcon rating1To10-circle-6-off"},{stateOn:"kIcon rating1To10-circle-7",stateOff:"kIcon rating1To10-circle-7-off"}]},selectionStyle:{options:c,value:"accumulate"},template:t.getTemplate("grading1to7"),popoverTemplate:l.getNebRatingPopoverTemplate(FormComponents.GRADING1TO7,"assets/images/kampyle/icons/icon_rating1to7_blue.svg","",'neb-element-id="pages.builder.components.grading1to7.popover.displayType"',"seven grading",1,7),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:"",component:"",targetType:""}}),a("grading1to10",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("grading1to10"),group:"Default",label:"Rating",display:!0,ratingViewType:m()?"numbersSquare":"gradingSlider",num_of_lines:"",description:"",neb_uuid:"",required:!1,ratingOptions:{numbersSquare:[{stateOn:"kIcon rating1To10-square-1",stateOff:"kIcon rating1To10-square-1-off"},{stateOn:"kIcon rating1To10-square-2",stateOff:"kIcon rating1To10-square-2-off"},{stateOn:"kIcon rating1To10-square-3",stateOff:"kIcon rating1To10-square-3-off"},{stateOn:"kIcon rating1To10-square-4",stateOff:"kIcon rating1To10-square-4-off"},{stateOn:"kIcon rating1To10-square-5",stateOff:"kIcon rating1To10-square-5-off"},{stateOn:"kIcon rating1To10-square-6",stateOff:"kIcon rating1To10-square-6-off"},{stateOn:"kIcon rating1To10-square-7",stateOff:"kIcon rating1To10-square-7-off"},{stateOn:"kIcon rating1To10-square-8",stateOff:"kIcon rating1To10-square-8-off"},{stateOn:"kIcon rating1To10-square-9",stateOff:"kIcon rating1To10-square-9-off"},{stateOn:"kIcon rating1To10-square-10",stateOff:"kIcon rating1To10-square-10-off"}],numbersCircle:[{stateOn:"kIcon rating1To10-circle-1",stateOff:"kIcon rating1To10-circle-1-off"},{stateOn:"kIcon rating1To10-circle-2",stateOff:"kIcon rating1To10-circle-2-off"},{stateOn:"kIcon rating1To10-circle-3",stateOff:"kIcon rating1To10-circle-3-off"},{stateOn:"kIcon rating1To10-circle-4",stateOff:"kIcon rating1To10-circle-4-off"},{stateOn:"kIcon rating1To10-circle-5",stateOff:"kIcon rating1To10-circle-5-off"},{stateOn:"kIcon rating1To10-circle-6",stateOff:"kIcon rating1To10-circle-6-off"},{stateOn:"kIcon rating1To10-circle-7",stateOff:"kIcon rating1To10-circle-7-off"},{stateOn:"kIcon rating1To10-circle-8",stateOff:"kIcon rating1To10-circle-8-off"},{stateOn:"kIcon rating1To10-circle-9",stateOff:"kIcon rating1To10-circle-9-off"},{stateOn:"kIcon rating1To10-circle-10",stateOff:"kIcon rating1To10-circle-10-off"}]},selectionStyle:{options:c,value:"accumulate"},template:t.getTemplate("grading1to10"),popoverTemplate:l.getNebRatingPopoverTemplate(FormComponents.GRADING1TO10,"assets/images/kampyle/icons/icon_rating_blue.svg","",'neb-element-id="pages.builder.components.grading1to10.popover.displayType"',"ten grading",1,10),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:"",component:"",targetType:""}}),a("grading0to10",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("grading0to10"),group:"Default",label:"Rating",display:!0,ratingViewType:m()?"numbersSquare":"gradingSlider",num_of_lines:"",description:"",componentType:"grading0to10",neb_uuid:"",required:!1,selectionStyle:{options:c,value:"accumulate"},template:t.getTemplate("grading0to10"),popoverTemplate:l.getNebRatingPopoverTemplate(FormComponents.GRADING0TO10,"assets/images/kampyle/icons/icon_rating_0-10_blue.svg","","","grading",0,10),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:"",component:"",targetType:""}}),a("nps",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("nps"),group:"Default",label:"NPS",ratingViewType:s(),description:"",neb_uuid:"",required:!1,ratingOptions:{numbersCircle:[{stateOn:"kIcon nps-number-0-on",stateOff:"kIcon nps-number-0"},{stateOn:"kIcon nps-number-1-on",stateOff:"kIcon nps-number-1"},{stateOn:"kIcon nps-number-2-on",stateOff:"kIcon nps-number-2"},{stateOn:"kIcon nps-number-3-on",stateOff:"kIcon nps-number-3"},{stateOn:"kIcon nps-number-4-on",stateOff:"kIcon nps-number-4"},{stateOn:"kIcon nps-number-5-on",stateOff:"kIcon nps-number-5"},{stateOn:"kIcon nps-number-6-on",stateOff:"kIcon nps-number-6"},{stateOn:"kIcon nps-number-7-on",stateOff:"kIcon nps-number-7"},{stateOn:"kIcon nps-number-8-on",stateOff:"kIcon nps-number-8"},{stateOn:"kIcon nps-number-9-on",stateOff:"kIcon nps-number-9"},{stateOn:"kIcon nps-number-10-on",stateOff:"kIcon nps-number-10"}],numbersSquare:[{stateOn:"kIcon nps-square-number-0",stateOff:"kIcon nps-square-number-0-off"},{stateOn:"kIcon nps-square-number-1",stateOff:"kIcon nps-square-number-1-off"},{stateOn:"kIcon nps-square-number-2",stateOff:"kIcon nps-square-number-2-off"},{stateOn:"kIcon nps-square-number-3",stateOff:"kIcon nps-square-number-3-off"},{stateOn:"kIcon nps-square-number-4",stateOff:"kIcon nps-square-number-4-off"},{stateOn:"kIcon nps-square-number-5",stateOff:"kIcon nps-square-number-5-off"},{stateOn:"kIcon nps-square-number-6",stateOff:"kIcon nps-square-number-6-off"},{stateOn:"kIcon nps-square-number-7",stateOff:"kIcon nps-square-number-7-off"},{stateOn:"kIcon nps-square-number-8",stateOff:"kIcon nps-square-number-8-off"},{stateOn:"kIcon nps-square-number-9",stateOff:"kIcon nps-square-number-9-off"},{stateOn:"kIcon nps-square-number-10",stateOff:"kIcon nps-square-number-10-off"}]},selectionStyle:{options:c,value:"accumulate"},template:t.getTemplate("nps"),popoverTemplate:'\n              <form ng-click="popover.autoSave()" class="fieldSettingsPopover">\n                  <div class="item-popover-title">\n                      <span class="popover-title-image"><img class="kIcon35 kBlue alignBottom" src="assets/images/kampyle/icons/blue_nps.svg"></span>\n                      <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.nps}}</span>\n                      <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                           </button>\n                  </div>\n\t\t\t\t\t\t\t\t\t'.concat(l.getReusableFieldTemplate(),'\n                  <div class="form-group" data-aut="internalName">\n                      <label class=\'control-label\'>\n              <span class="symbol required"></span>\n              {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                          <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}"></i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-change="validateInternalName(unique_name)" ng-init="generateInternalName(component,index,unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kSmallText kpl-ellipsis"/>\n                  </div>\n                  ').concat(l.getCPEditorTemplate(),'\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}"></i>\n                   </label>\n                    <input ng-disabled="isReadOnly()" type=\'text\' ng-model="label"  class=\'form-control kLightGrey kSmallText\'/>\n                  </div>\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}"></i>\n                   </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control kLightGrey \'/>\n                  </div>\n                  <div ng-hide="isAnywherePropertyType()" class="form-group">\n                      <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <div  style="margin-bottom: 0" class="panel panel-transparent">\n                          <div style="padding-left: 0;padding-bottom:0;margin-bottom:0px;padding-top:0;min-height: 10px" class="panel-heading">\n                              <label  class="control-label">{{texts.app.pages.forms.builder.tabs.fieldSettings.npsFormat}}\n                                  <i class="fa fa-question-circle kpl-tooltip"\n                                     tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.npsFormat}}">\n                                  </i>\n                              </label>\n                          </div>\n                          <div style="padding-left: 0;padding-top:0;padding-bottom:0" class="panel-body npsCheckboxes">\n                              <div style="margin-bottom: 0" class="radio clip-radio radio-primary" ng-show="isWebProperty()" data-aut="format-numbersCircle">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="ratingViewType" type="radio" id="{{unique_name}}_numbersCircle" name="vertical" value="numbersCircle">\n                                  <label style="width:60%" class=\'control-label\' for="{{unique_name}}_numbersCircle">\n                                      <span>\n                                          <i class="glyphicon kIcon nps-number-0-on"> </i>\n                                      </span>\n                                      <span>\n                                           <i class="glyphicon kIcon nps-number-1-on">\n\n                                           </i>\n                                      </span>\n                                      <span style="font-size:23px" class="control-label">\n                                          ..\n                                      </span>\n                                      <span>\n                                          <i class="glyphicon kIcon nps-number-9-on"> </i>\n                                      </span>\n                                      <span>\n                                           <i class="glyphicon kIcon nps-number-10-on">\n\n                                           </i>\n                                      </span>\n\n                                  </label>\n                              </div>\n                              <div class="radio clip-radio radio-primary slider-type" ng-hide="!shouldSupportMobileSpecialRatingTypes()" >\n                                <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="ratingViewType" type="radio" id="{{unique_name}}_slider" name="vertical" value="gradingSlider">\n                                <label class=\'control-label\' for="{{unique_name}}_slider">\n                                    <span>\n                                      <img class="kIcon36 kBlue alignBottom margin-bottom-14" src="assets/images/kampyle/icons/slider.svg">\n                                    </span>\n                                </label>\n                              </div>\n                              <div style="margin-bottom:0" class="radio clip-radio radio-primary" data-aut="format-numbersSquare">\n                                  <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="ratingViewType" type="radio" id="{{unique_name}}_numbersSquare" name="vertical" value="numbersSquare">\n                                  <label style="width:60%" class=\'control-label\' for="{{unique_name}}_numbersSquare">\n                                      <span>\n                                      <i class="glyphicon kIcon nps-square-number-0"> </i>\n                                      </span>\n                                      <span>\n                                           <i class="glyphicon kIcon nps-square-number-1">\n\n                                           </i>\n                                      </span>\n                                      <span style="font-size:23px" class="control-label">\n                                          ..\n                                      </span>\n                                      <span>\n                                          <i class="glyphicon kIcon nps-square-number-9"> </i>\n                                      </span>\n                                      <span>\n                                           <i class="glyphicon kIcon nps-square-number-10">\n\n                                           </i>\n                                      </span>\n                                  </label>\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n                  <div class="form-group">\n                    ').concat(l.getNebRatingEditorTemplate(),'\n                  </div>\n\t\t\t\t\t\t\t\t\t<div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="style">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.selectionStyle}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.selectionStyle}}"></i>\n                    </label>\n                    <neb-button-group neb-disabled="isReadOnly()" buttons-data="selectionStyle" ng-model="selectionStyle.value"> </neb-button-group>\n                  </div>\n                  <div ng-hide="::isQuestionRandomizationEnabled()" class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                    <div class="checkbox clip-check check-primary checkbox-inline">\n                        <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                        <label class=\'control-label\' for="{{unique_name}}_RequiredCheckbox">\n                            {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                        </label>\n                    </div>\n                  </div>\n\n                  ').concat(l.getConditionalDisplayTemplate(),'\n\n                  <div class="form-group row" ng-if="isQuestionScoreEnabled()">\n                    <div class="col-md-12">\n                      <react-question-score-selection\n                        ng-disabled="isReadOnly()" \n                        selected-score="formObject.score"\n                        on-select="questionScoreSelectionHandler"\n                        ng-init="setQuestionScoreIfNeeded()" />\n                    </div>\n                  </div>\n\n                  <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="fieldCustomCssClass">\n                      <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey \'/>\n                  </div>\n              </form>\n            '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("date",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("date"),group:"Default",label:"Date",description:"",neb_uuid:"",required:!1,date_format:"dd-MMMM-yyyy",template:t.getTemplate("date"),popoverTemplate:'\n              <form class="fieldSettingsPopover">\n                  <div class="item-popover-title">\n                      <span class="popover-title-image"><img class="kIcon35 kBlue alignBottom" src="assets/images/kampyle/icons/blue_date.svg"></span>\n                      <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.date}}</span>\n                      <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div></button>\n                  </div>\n\t\t\t\t\t\t\t\t\t'.concat(l.getReusableFieldTemplate(),'\n                  <div class="form-group" data-aut="internalName">\n                      <label class=\'control-label\'>\n              <span class="symbol required"></span>\n              {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                          <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-change="validateInternalName(unique_name)" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kpl-ellipsis"/>\n                      <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n                  </div>\n                  ').concat(l.getCPEditorTemplate(),'\n\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label"  class=\'form-control kLightGrey \'/>\n                  </div>\n                  <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control kLightGrey \'/>\n                  </div>\n                  <div class="form-group" ng-if="').concat(!o.checkProvision(DigProvisions.LIVE_FORM_V2),'">\n                    <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <div  style="margin-bottom: 0" class="panel panel-transparent">\n                          <div style="padding-left: 0;padding-bottom:0;margin-bottom:5px;padding-top:0;min-height: 10px" class="panel-heading">\n                              <label  class="control-label">{{texts.app.pages.forms.builder.tabs.fieldSettings.dateFormat}}\n                                  <i class="fa fa-question-circle kpl-tooltip"\n                                     tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.dateFormat}}">\n                                  </i>\n                              </label>\n                          </div>\n                          <div   style="padding-left: 0;padding-top:0;padding-bottom:0" class="panel-body">\n                              <div style="margin-top: 0" class="radio clip-radio radio-primary">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="date_format" type="radio" id="{{unique_name+index}}_date1" name="vertical" value="dd-MMMM-yyyy">\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_date1">\n                                      {{texts.app.pages.forms.builder.tabs.fieldSettings.dateOptions.long}}\n                                  </label>\n                              </div>\n                              <div style="margin-top: 0;" class="radio clip-radio radio-primary">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="date_format" type="radio" id="{{unique_name+index}}_date4" name="vertical" value="{{getShortUSDateFormat()}}">\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_date4">\n                                      {{texts.app.pages.forms.builder.tabs.fieldSettings.dateOptions.us}}\n                                  </label>\n\n                              </div>\n\n                              <div style="margin-top: 0" class="radio clip-radio radio-primary">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="date_format" type="radio" id="{{unique_name+index}}_date3" name="vertical" value="dd.MM.yyyy">\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_date3">\n                                      {{texts.app.pages.forms.builder.tabs.fieldSettings.dateOptions.eu}}\n                                  </label>\n\n                              </div>\n                              <div style="margin-top: 0;margin-bottom:0" class="radio clip-radio radio-primary">\n                                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="date_format" type="radio" id="{{unique_name+index}}_date2" name="vertical" value="yyyy/MM/dd">\n                                  <label style="width:80%" class=\'control-label\' for="{{unique_name+index}}_date2">\n                                      {{texts.app.pages.forms.builder.tabs.fieldSettings.dateOptions.inter}}\n                                  </label>\n\n                              </div>\n\n                          </div>\n                      </div>\n                  </div>\n\n                  <div>\n                      <div class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                        <input  ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                        <label class=\'control-label\' for="{{unique_name}}_RequiredCheckbox">\n                            {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                        </label>\n                      </div>\n                  </div>\n                  ').concat(l.getConditionalDisplayTemplate(),'\n                  <div class="form-group" data-aut="fieldCustomCssClass">\n                  <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.dateFormat}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey \'/>\n                  </div>\n              </form>\n            '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("emailInput",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("emailInput"),group:"Default",label:"Email",description:"",neb_uuid:"",placeholder:"",required:!1,validation:"[email]",template:t.getTemplate("emailInput"),popoverTemplate:'\n            <form  class="fieldSettingsPopover">\n                <div class="item-popover-title">\n                    <span class="popover-title-image"><img class="kIcon35 kBlue alignBottom" src="assets/images/kampyle/icons/blue_email.svg"></span>\n                    <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.email}}</span>\n                    <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                        </button>\n                </div>\n                '.concat(l.getReusableFieldTemplate(),'\n                <div class="form-group" data-aut="internalName">\n                    <label class=\'control-label\'>\n            <span class="symbol required"></span>\n            {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                        <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kpl-ellipsis"/>\n                    <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n                </div>\n                ').concat(l.getCPEditorTemplate(),'\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label" class=\'form-control kLightGrey \'/>\n                </div>\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control kLightGrey \'/>\n                </div>\n                <div class="form-group" data-aut="placeHolder">\n\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.placeHolder}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.placeHolder}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="placeholder" class=\'form-control kLightGrey \'/>\n                </div>\n\n                <div class="row">\n                  <div class="col-sm-4">\n                    <div class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                      <label\n                        class=\'control-label\'\n                        for="{{unique_name}}_RequiredCheckbox">\n                        {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                      </label>\n                    </div>\n                  </div>\n                  <div class="col-sm-8">\n                      <neb-checkbox\n                          ng-disabled="isReadOnly()"\n                          neb-disabled="disableRole(\'contactEmail\')"\n                          neb-tooltip-direction="top"\n                          neb-tooltip="disableRole(\'contactEmail\') ? texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.contactEmailDisabled : texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.contactEmail"\n                          neb-tooltip-class-name="disableRole(\'contactEmail\') ? \'fa-lock\' : \'fa-question-circle\'"\n                          neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.contactEmailField"\n                          neb-model="role"\n                          neb-on-change="popover.autoSave"\n                          neb-true-value="\'contactEmail\'"\n                          neb-false-value="null"\n                          neb-class-name="control-label"\n                          data-aut="contactEmailCheckbox">\n                      </neb-checkbox>\n                  </div>\n                </div>\n\n\n                ').concat(l.getConditionalDisplayTemplate(),'\n                <div class="form-group" data-aut="fieldCustomCssClass">\n                <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                        </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey \'/>\n                </div>\n            </form>\n          '),
conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("label",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("label"),group:"Default",label:"Label Field",description:"Open Sans",neb_uuid:"",num_of_lines:18,placeholder:"Insert label text",image_url:"",labelContent:"",image_align:"center",required:!1,template:t.getTemplate("label"),popoverTemplate:'\n              <form  class="fieldSettingsPopover">\n                  <div class="item-popover-title">\n                      <span class="popover-title-image"><img class="kIcon35 alignBottom" src="assets/images/kampyle/icons/blue_label.png"></span>\n                      <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.label}}</span>\n                      <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                           </button>\n                  </div>\n                  <div class="form-group" data-aut="internalName">\n                      <label class=\'control-label\'>\n              <span class="symbol required"></span>\n              {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                          <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                          </i>\n                      </label>\n\n                      <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(\'text\',index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kpl-ellipsis"/>\n                  </div>\n\n                  <div class="row form-group margin-top-15 margin-bottom-15">\n                      <div class="col-sm-4">\n                          <button ng-disabled="isReadOnly()" class="btn btn-wide btn-primary" ng-click="openWysiwygModal()" data-aut="editABCText">\n                              <i  class="fa fa-pencil clickable icon-size-20 padding-right-10"></i>{{texts.app.pages.forms.builder.tabs.fieldSettings.labelBtn}}\n                          </button>\n                      </div>\n                  </div>\n                  '.concat(l.getConditionalDisplayTemplate(),'\n                  <div class="form-group" data-aut="fieldCustomCssClass">\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey \'/>\n                  </div>\n              </form>\n            '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("image",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("image"),group:"Default",label:"Image",description:"",neb_uuid:"",placeholder:"",image_url:"",image_align:"center",required:!1,template:t.getTemplate("image"),popoverTemplate:'\n              <form  class="fieldSettingsPopover">\n                  <div class="item-popover-title">\n                      <span class="popover-title-image"><img class="kIcon35 kpl-tooltip alignBottom" src="assets/images/kampyle/icons/blue_image.svg"></span>\n                      <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.image}}</span>\n                      <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                           </button>\n                  </div>\n                  <div class="form-group" data-aut="internalName">\n                      <label class=\'control-label\'>\n              <span class="symbol required"></span>\n              {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                          <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                          </i>\n                      </label>\n\n                      <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kpl-ellipsis"/>\n                  </div>\n                  '.concat(o.checkProvision(DigProvisions.MOBILE_SDKV2_FORM_WCAG_SUPPORT)||o.isWCAG()||o.checkProvision(DigProvisions.LIVE_FORM_V2)?'<div class="form-group" data-aut="label">\n                    <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.alternateText}}\n                      <i class="fa fa-question-circle kpl-tooltip"\n                        tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.alternateText}}">\n                      </i>\n                    </label>\n                    <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label" class=\'form-control kLightGrey \'/>\n                  </div>':"","\n                  ").concat(o.checkProvision(DigProvisions.REUSABLE_RESOURCES_LIBRARY)?'\n                  \t<div class="form-group">\n                      <label class=\'control-label\'>{{texts.app.resourcesSelect.label.formBuilder.image}}</label>\n                      <div class="row">\n                          <div class="col-sm-12">\n                             <react-resources-select placeholder="texts.app.resourcesSelect.placeholder.images"\n                             ng-disabled="isReadOnly()"\n                             resource-id="image_url.resourceId"\n                             on-select="imageSelectionHandler"\n                             no-options-header="texts.app.resourcesSelect.noOptionsHeader.images"\n                             types="resourcesTypes"\n                             data-aut="imageSelection"/>\n                          </div>\n                      </div>\n                  </div>':'\n                  \t<div class="form-group">\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.imageUrl}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.imageUpload.tooltip}}">\n                          </i>\n                      </label>\n                      <div class="row kpl-image-upload-row" ng-controller="imageUploadCtrl">\n                          <div class="col-sm-8">\n                              <div ng-if="image_url && image_url.name"\n                                  class="kLightGrey kpl-ellipsis kpl-image-name"\n                                  tooltip="{{image_url.name}}"\n                                  tooltip-enable="{{image_url.name && image_url.name.length >= 20}}">\n                                  {{image_url.name}}\n                              </div>\n                              <div ng-if="!image_url || !image_url.name"\n                                   class="kLightGrey kpl-ellipsis kpl-image-name">\n                                      {{texts.app.pages.forms.builder.tabs.fieldSettings.uploadImage}}\n                              </div>\n                          </div>\n                          <div class="col-sm-1 padding-top-2">\n                              <i  ng-click="deleteUploadedImage()"\n                                  ng-if="image_url && image_url.name" class="fa fa-trash-o kpl-delete-image clickable"></i>\n                          </div>\n                          <div class="col-sm-3">\n                              <div type="button" class="btn btn-primary btn-xs btn-file kpl-image-upload">\n                                  <span class="glyphicon glyphicon-upload"></span>\n                                  <input ng-disabled="isReadOnly()" id="uploadInput" class="kpl-upload-input" type="file" nv-file-select="" uploader="uploader"/>Upload\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n\t\t\t\t\t','\n\n                  <div ng-hide="isAnywherePropertyType()" class="panel panel-transparent">\n                      <div style="padding-left: 0;padding-bottom: 0" class="panel-heading">\n                          <label  class="control-label">{{texts.app.pages.forms.builder.tabs.fieldSettings.imageAligment.title}}\n                              <i class="fa fa-question-circle kpl-tooltip"\n                                 tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.imageAligment}}">\n                              </i>\n                          </label>\n                      </div>\n                      <div   style="padding-left: 0;padding-top: 0;padding-bottom: 0" class="panel-body">\n                          <div class="radio clip-radio radio-primary">\n                              <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="image_align" type="radio" id="{{unique_name+index}}_alignRadioRight" name="vertical" value="right">\n                              <label class=\'control-label\' for="{{unique_name+index}}_alignRadioRight">\n                                  {{texts.app.pages.forms.builder.tabs.fieldSettings.imageAligment.right}}\n                              </label>\n                          </div>\n                          <div class="radio clip-radio radio-primary">\n                              <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="image_align" type="radio" id="{{unique_name+index}}_alignRadioCenter" name="vertical" value="center">\n                              <label class=\'control-label\' for="{{unique_name+index}}_alignRadioCenter">\n                                  {{texts.app.pages.forms.builder.tabs.fieldSettings.imageAligment.center}}\n                              </label>\n                          </div>\n                          <div class="radio clip-radio radio-primary">\n                              <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="image_align" type="radio" id="{{unique_name+index}}_alignRadioLeft" name="vertical" value="left">\n                              <label class=\'control-label\' for="{{unique_name+index}}_alignRadioLeft">\n                                  {{texts.app.pages.forms.builder.tabs.fieldSettings.imageAligment.left}}\n                              </label>\n                          </div>\n                      </div>\n                  </div>\n                  ').concat(l.getConditionalDisplayTemplate(),'\n\n                  <div class="form-group row" ng-if="isQuestionScoreEnabled()">\n                    <div class="col-md-12">\n                      <react-question-score-selection\n                        ng-disabled="isReadOnly()"\n                        selected-score="formObject.score"\n                        on-select="questionScoreSelectionHandler"\n                        ng-init="setQuestionScoreIfNeeded()" />\n                    </div>\n                  </div>\n\n                  <div ng-hide="isAnywherePropertyType()" class="form-group" data-aut="fieldCustomCssClass">\n                      <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                          <i class="fa fa-question-circle kpl-tooltip"\n                             tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                          </i>\n                      </label>\n                      <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey \'/>\n                  </div>\n              </form>\n            '),conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("sectionBreak",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("sectionBreak"),neb_uuid:"",group:"Default",borderOptions:[{label:"spaced",style:"white_space"},{label:"dashed",style:"dashed "+(o.isWCAG()?"#595959":"#c6c6c6")},{label:"solid",style:"solid "+(o.isWCAG()?"#595959":"#c6c6c6")},{label:"dotted",style:"dotted "+(o.isWCAG()?"#595959":"#c6c6c6")}],border_style:"",thickness:1,required:!1,template:t.getTemplate("sectionBreak"),popoverTemplate:'<form  class="fieldSettingsPopover">\n            <div class="item-popover-title">\n                <span class="popover-title-image"><img class="kIcon35 kpl-tooltip alignBottom" src="assets/images/kampyle/icons/blue_section_break.svg"></span>\n                <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.sectionBreak}}</span>\n                <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                   </button>\n            </div>\n            <div class="form-group" data-aut="internalName">\n                <label class=\'control-label\'>\n        <span class="symbol required"></span>\n        {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                    <i class="fa fa-question-circle kpl-tooltip" tooltip-placement="right"\n                       tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}">\n                    </i>\n                </label>\n                <input ng-disabled="isReadOnly()" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kSmallText kpl-ellipsis"/>\n                <p ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n            </div>\n            <div class="form-group">\n                <div   ng-init="initBorderStyle(border_style)" class="panel panel-transparent">\n                    <div style="padding-left: 0;padding-bottom:0;margin-bottom:5px" class="panel-heading">\n                        <label  class="control-label">{{texts.app.pages.forms.builder.tabs.fieldSettings.sectionBreakStyle}}\n                            <i class="fa fa-question-circle kpl-tooltip"\n                               tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.sectionBreakStyle}}">\n                            </i>\n                        </label>\n                    </div>\n                    <div   style="padding-left: 0;padding-top:0" class="panel-body" id="seperator-style">\n                        <div class="radio clip-radio radio-primary">\n                            <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="border_style" type="radio" id="{{unique_name}}_solidBorder" name="vertical" ng-value="borderOptions[2]">\n                            <label style="width:50%" class=\'control-label\' for="{{unique_name}}_solidBorder">\n                                <div style="height: 1px;padding-top:5px" ng-style="{\'border-bottom\':\'solid 1px #c6c6c6\'}" class="breakSectionItem col-xs-12 kFloatRight"></div>\n                            </label>\n                        </div>\n                        <div class="radio clip-radio radio-primary">\n                            <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="border_style" type="radio" id="{{unique_name+index}}_dashedBorder" name="vertical" ng-value="borderOptions[1]">\n                            <label style="width:50%" class=\'control-label\' for="{{unique_name+index}}_dashedBorder">\n                                <div style="height: 1px;padding-top:5px" ng-style="{\'border-bottom\':\'dashed  1px #c6c6c6\'}" class="breakSectionItem col-xs-12 kFloatRight"></div>\n                            </label>\n                        </div>\n                        <div class="radio clip-radio radio-primary">\n                            <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="border_style" type="radio" id="{{unique_name+index}}_dottedBorder" name="vertical" ng-value="borderOptions[3]">\n                            <label style="width:50%" class=\'control-label\' for="{{unique_name+index}}_dottedBorder">\n                                <div style="height: 1px;padding-top:5px" ng-style="{\'border-bottom\':\'dotted  1px #c6c6c6\'}" class="breakSectionItem col-xs-12 kFloatRight"></div>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="form-group">\n                <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.sectionBreakThinkness}}\n                    <i class="fa fa-question-circle kpl-tooltip"\n                       tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.sectionBreakThinkness}}">\n                    </i>\n                </label>\n                <input ng-disabled="isReadOnly()" numeric-input ng-blur="checkValidThicknessValue(thickness)" ng-change="popover.autoSave()" type=\'text\' ng-model="thickness"  class=\'form-control kLightGrey kSmallText\'/>\n            </div>\n            '.concat(l.getConditionalDisplayTemplate(),'\n            <div class="form-group" data-aut="fieldCustomCssClass">\n                <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                    <i class="fa fa-question-circle kpl-tooltip"\n                       tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}">\n                    </i>\n                </label>\n                <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey kSmallText\'/>\n            </div>\n        </form>'),conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("screenCaptureComponent",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("screenCaptureComponent"),group:"Default",label:"Capture a screen or highlight specific area",description:"",neb_uuid:"",placeholder:"Take a screen capture",required:!1,template:t.getTemplate("screenCaptureComponent"),popoverTemplate:'\n            <form id="screen-capture-popover" class="fieldSettingsPopover">\n                <div class="item-popover-title">\n                  <span class="popover-title-image">\n                    <img class="kIcon35 kpl-tooltip alignBottom" alt="Screen Capture" src="assets/images/kampyle/icons/ScreenCapture_blue_icon.svg">\n                  </span>\n                  <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.screenCapture}}</span>\n                  <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                  </button>\n                </div>\n                <div class="form-group" data-aut="internalName">\n                  <label class=\'control-label\'>\n                    <span class="symbol required"></span>\n                     {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                    <i class="fa fa-question-circle kpl-tooltip"\n                     tooltip-placement="right" tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}"></i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kpl-ellipsis"/>\n                  <p ng-if="duplicateInternalName" class="kError">Duplicate Internal Name</p>\n                </div>\n                  '.concat(l.getCPEditorTemplate(),'\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                    <i class="fa fa-question-circle kpl-tooltip"\n                     tooltip-placement="right"\n                     tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                    </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label" class=\'form-control\'/>\n                </div>\n                <div class="form-group"  data-aut="placeholder">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.text}}\n                   <i class="fa fa-question-circle kpl-tooltip"\n                      tooltip-placement="right"\n                      tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.text}}">\n                   </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="placeholder" maxlength="32" class=\'form-control\'/>\n                </div>\n                <div class="form-group"  data-aut="retakeText">\n                 <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.retakeText}}\n                   <i class="fa fa-question-circle kpl-tooltip"\n                     tooltip-placement="right"\n                     tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.retakeText}}">\n                   </i>\n                 </label>\n                 <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="screenCaptureDynamicFieldContract.retakeText" maxlength="32" class=\'form-control\'/>\n                </div>\n                <div class="form-group space-between align-items-center" data-aut="color">\n                  <div class="color-label">\n                    <label class=\'control-label col-mx-4 col-form-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.color}}</label>\n                  </div>\n                  <div class="col-mx-6 screenCapture-color">\n                     <neb-input\n                     neb-disabled="isReadOnly()"\n                     neb-input-type="color"\n                     neb-name="screenCapture"\n                     neb-color-position="bottom right"\n                     neb-model="screenCaptureDynamicFieldContract.logoBackgroundColor"\n                     data-aut="screenCaptureBackgroundColor"\n                     ></neb-input>\n                  </div>\n                </div>\n                <div class="form-group"  data-aut="delete-tooltip">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.deleteTooltipLabel}}\n                     <i class="fa fa-question-circle kpl-tooltip"\n                      tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.deleteScreenCapture}}"\n                      tooltip-placement="right">\n                     </i>\n                  </label>\n                 <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' maxLength="50" ng-model="screenCaptureDynamicFieldContract.deleteButtonTooltip" class=\'form-control\'/>\n               </div>\n               <div class="checkbox clip-check check-primary checkbox-inline" data-aut="requiredCheckbox">\n                  <div class="checkbox clip-check check-primary checkbox-inline">\n                      <input  ng-disabled="isReadOnly()" ng-change="popover.autoSave()" ng-model="required" type="checkbox" id="{{unique_name}}_RequiredCheckbox">\n                      <label class=\'control-label\' for="{{unique_name}}_RequiredCheckbox">\n                          {{texts.app.pages.forms.builder.tabs.fieldSettings.require}}\n                      </label>\n                  </div>\n               </div>\n               ').concat(l.getConditionalDisplayTemplate(),'\n             <div class="form-group" data-aut="fieldCustomCssClass">\n              <div class="kpl-disable" ng-if="isCustomHtml"></div>\n                 <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.customCss}}\n                   <i class="fa fa-question-circle kpl-tooltip"\n                     tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.customCss}}"\n                     tooltip-placement="right">\n                   </i>\n                 </label>\n                 <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="custom_css" class=\'form-control kLightGrey\'/>\n              </div>\n              <br/>\n         <div class="form-group">\n          <div class="horizontal-line"></div>\n         </div>\n         <br/>\n         <div class="col-mx-12">\n            <span class="widget-title" ng-bind="texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.widgetSettings.title"></span>\n            <i tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.widgetSettings}}" class="fa fa-question-circle kpl-tooltip">\n            </i>\n        </div>\n        <br/>\n        <div>\n            <span class=\'widget-subtitle\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.instructionsText}}\n              <i class="fa fa-question-circle kpl-tooltip"\n                 tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.instructions}}"\n                 tooltip-placement="right">\n              </i>\n          </span>\n        </div>\n        ').concat(o.checkProvision(DigProvisions.CSP_RULES)?'\n        <div class="form-group">\n            <neb-input\n                neb-input-type="text"\n                neb-max-length="25"\n                neb-name="screenCapture"\n                neb-model="screenCaptureDynamicFieldContract.titleInstructionsScreenCapture"\n                neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.instructionsTitle"\n                neb-disabled="isReadOnly()"\n                data-aut="titleInstructionText"></neb-input>\n        </div>\n        ':"",'\n        <div class="form-group"  data-aut="instructionText">\n          <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.instructionsBody}}</label>\n          <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="screenCaptureDynamicFieldContract.instructionsScreenCapture" class=\'form-control\'/>\n        </div>\n        <br/>\n        <div>\n          <div class="col-mx-12">\n            <span class="widget-subtitle" ng-bind="texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.widgetSettings.captureButton"></span>\n         </div>\n         <div class="col-mx-8 form-group">\n            <neb-input\n            neb-disabled="isReadOnly()"\n            neb-input-type="text"\n            neb-max-length="50"\n            neb-name="screenCapture"\n            neb-model="screenCaptureDynamicFieldContract.submitScreenCaptureLabel"\n            neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.widgetSettings.buttonText"\n            data-aut="screenCaputreButtonText"\n            ></neb-input>\n         </div>\n         <div class="col-mx-8 form-group">\n            <neb-input\n             neb-disabled="isReadOnly()"\n             neb-input-type="text"\n             neb-model="screenCaptureDynamicFieldContract.submitScreenCaptureTooltip"\n             neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.widgetSettings.submitTooltip"\n             data-aut="screenCaputreButtonText"\n             neb-name="screenCapture"\n             ></neb-input>\n         </div>\n         </br>\n         <div class="col-mx-12">\n             <span class="widget-subtitle" ng-bind="texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.widgetSettings.dissmisButton"></span>\n         </div>\n        <div class="col-mx-8 form-group">\n           <neb-input\n           neb-disabled="isReadOnly()"\n           neb-input-type="text"\n           neb-name="screenCapture"\n           neb-model="screenCaptureDynamicFieldContract.cancelScreenCaptureLabel"\n           neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.widgetSettings.buttonText"\n           data-aut="screenCaputreButtonText"\n            ></neb-input>\n        </div>\n        <div class="col-mx-8 form-group">\n            <neb-input\n            neb-disabled="isReadOnly()"\n            neb-input-type="text"\n            neb-name="screenCapture"\n            neb-model="screenCaptureDynamicFieldContract.cancelScreenCaptureTooltip"\n            neb-label="texts.app.pages.forms.builder.tabs.fieldSettings.screenCapture.widgetSettings.submitTooltip"\n            data-aut="screenCaputreButtonText"\n            ></neb-input>\n        </div>\n    </form>\n        '),image_url:"",conditionalDisplayTargets:[],screenCaptureDynamicFieldContract:{submitScreenCaptureLabel:"Capture Image",submitScreenCaptureTooltip:"Capture Screen",cancelScreenCaptureLabel:"Cancel",cancelScreenCaptureTooltip:"Back to Feedback",titleInstructionsScreenCapture:"Screen Capture",instructionsScreenCapture:p(),wcagDisabledScreenCaptureTooltip:"",wcagScreenCaptureTooltip:"",retakeText:"Retake a screen capture",deleteButtonTooltip:"Remove captured image",logoBackgroundColor:"#034CCB"},conditionalDisplay:{unique_name:"",targetField:"",targetValue:""}}),a("mediaCapture",{unique_name:"",kampyleGroup:t.getKampyleComponentGroup("mediaCapture"),group:"Default",label:"Media Capture",display:!0,description:"",neb_uuid:"",required:!1,mediaCaptureDynamicFieldContract:{ecId:"",maxLength:300,audioPlaceholderText:"Tap to record audio",supportedMediaTypes:u(),audioAltText:"Tap to record audio response",videoAltText:"Tap to record video response",uploadAltText:"Tap to upload video file"},template:t.getTemplate("mediaCapture"),popoverTemplate:'\n            <form  class="fieldSettingsPopover">\n                <div class="item-popover-title">\n                    <span class="popover-title-image"><img class="kIcon35 kpl-tooltip alignBottom" src="assets/images/kampyle/icons/media_captrue.svg"></span>\n                    <span class="popover-title-text">{{texts.app.pages.forms.builder.tabs.addField.mediaCapture}}</span>\n                    <button ng-disabled="isReadOnly()" style="float: right;height: 35px" class="btn btn-danger" type="button" ng-click="deleteComponent($event , conditionalDisplayTargets)" data-aut="deleteField"> <div style="height: 15px;width: 15px" ng-include="\'assets/images/kampyle/icons/white_trash.svg\'"></div>\n                        </button>\n                </div>\n                '.concat(l.getReusableFieldTemplate(),'\n                <div class="form-group" data-aut="internalName">\n                    <label class=\'control-label\'>\n            <span class="symbol required"></span>\n            {{texts.app.pages.forms.builder.tabs.fieldSettings.internalName}}\n                        <i class="fa fa-question-circle kpl-tooltip"\n                           tooltip-placement="right" tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.internalName}}"></i>\n                    </label>\n                    <input  ng-disabled="isReadOnly()" ng-focus="backupInternalName(unique_name)" ng-blur="validateUniqueInternalName($event)" ng-class="{\'kErrorBorder\':duplicateInternalName}" ng-init="generateInternalName(component,index,unique_name)" ng-change="validateInternalName(unique_name)" type=\'text\' ng-model="unique_name" validator="[required]" class="form-control kLightGrey kpl-ellipsis"/>\n                    <p ng-if="duplicateInternalName" class="kError"> Duplicate Internal Name </p>\n                </div>\n                 ').concat(l.getCPEditorTemplate(),'\n                <div  class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="label">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.label}}\n                      <i class="fa fa-question-circle kpl-tooltip"\n                         tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.label}}">\n                      </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="label"  class=\'form-control\'/>\n                </div>\n                <div class="form-group" ng-show="!isCustomParamsFeatureEnabled() || !useCustomParams" data-aut="description">\n                  <label class=\'control-label\'>{{texts.app.pages.forms.builder.tabs.fieldSettings.description}}\n\n                      <i class="fa fa-question-circle kpl-tooltip"\n                      tooltip="{{texts.app.pages.forms.builder.tabs.fieldSettings.tooltips.description}}">\n                      </i>\n                  </label>\n                  <input ng-disabled="isReadOnly()" ng-change="popover.autoSave()" type=\'text\' ng-model="description" class=\'form-control\'/>\n                </div>\n                ').concat(l.getMediaCaptureFormats(),"\n                ").concat(l.getRequiredFiledTemplate(),"\n                ").concat(l.getConditionalDisplayTemplate(),"\n                ").concat(l.getCustomCssTemplate(),"\n                ").concat(l.getMediaCaptureAccessibilitySettings(),"\n            </form>\n          "),
conditionalDisplayTargets:[],conditionalDisplay:{unique_name:"",targetField:"",targetValue:"",component:""}}),n.$broadcast("NebFormComponentsReady")})}])}.call(this),Object.defineProperty(exports,"__esModule",{value:!0}),exports.tabManager=void 0;var Directions;!Directions||(Directions={}));var KeyNames;!function(e){e.Tab="Tab"}(KeyNames||(KeyNames={})),exports.tabManager=function(){nction n(e){for(var t=e.length,n=t-1;n>=0;n--)if(e[n].offsetParent)return e[n]}function o(t){var n=e(t).firstElement;return n}function i(t){var n=e(t).lastElement;return n}function r(e){var t=o(e);t&&t.focus&&t.focus()}function a(e){c=document.addEventListener("keydown",c)}nction d(t,n){if(t.key===KeyNames.Tab){var o=t.shiftKey?Directions.Backward:Directions.Forward,i=t.target,r=e(n),a=r.firstElement,s=r.lastElement;if(!s||!a)return;if(o===Directions.Forward&&(i===document.body||l(i,s)))return t.preventDefault(),void a.focus();if(o===Directions.Backward&&(i===document.body||l(i,a)))return t.preventDefault(),void s.focus()}}var c;return{setTabLoop:a,removeTabLoop:s,setInitFocus:r,getFirstElement:o,getLastElement:i,collectElements:e}},Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAbsoluteUrl=exports.isAllowedDomain=void 0,exports.isAllowedDomain=isAllowedDomain,exports.isAbsoluteUrl=Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadJson=void 0,exports.loadJson=function(e){var t=e.url,n=e.onSuccess,o=e.onError,i=e.tries,r=void 0===i?1:i,a=e.retryDelay,s=void 0===a?1e3:a,l=new XMLHttpRequest,d=function(e,i){r<=1?o(e,i):setTimeout(function(){exports.loadJson({url:t,onSuccess:n,onError:o,tries:r-1,retryDelay:s})},s)};l.onreadystatechange=l.onerror=function(){d(this.status,this.statusText)},l.ontimeout=l.open("GET",t),l.setRequestHeader("Accept","application/json"),l.send()};var UserRoles;!UserRoles||(UserRoles={}));var UserRolesAsString;!UserRolesAsString||(UserRolesAsString={}));var OPERATORS;!function(e){e.HAS_VALUE="hasValue",e.REGEX="regex"}(OPERATORS||(OPERATORS={}));var FormComponents;!FormComponents||(FormComponents={}));var DigFeatures;!function(e){e.INCREASED_FEEDBACK_POLLING_TIME="increasedFeedbackPollingTime"}(DigFeatures||(DigFeatures={}));var eventTypes;!function(e){e.MOUSE_OVER="mouseover",e.MOUSE_LEAVE="mouseleave",e.CLICK="click",e.KEYDOWN="keydown"}(eventTypes||(eventTypes={}));var RatingViewTypes;!function(e){e.SQUARES="numbersSquare",e.SLIDER="gradingSlider",e.CIRCLES="numbersCircle"}(RatingViewTypes||(RatingViewTypes={}));var DigProvisions;!DigProvisions||(DigProvisions={}));var DigEventNames;!function(e){e.SCROLL_TO_TOP="scrollToTop"}(DigEventNames||(DigEventNames={}));var FormFieldRoleTypes;!function(e){e.CSAT="CSAT",e.CATEGORY="category",e.CONTACT_EMAIL="contactEmail",e.CONTACT_NAME="contactName"}(FormFieldRoleTypes||(FormFieldRoleTypes={}));var LiveFormMessageIds;!function(e){e.FEEDBACK_UUID_IS_NULL="feedbackUUIDisNull",e.SUBMIT_FEEDBACK_FAILED="submitFeedbackFailed"}(LiveFormMessageIds||(LiveFormMessageIds={}));var FormButtons;!function(e){e.CLOSE="Close",e.NEXT="Next",e.BACK="Back",e.SUBMIT="Submit"}(FormButtons||(FormButtons={}));var FormTriggerTypes;!function(e){e.EMBEDDED=".EmbeddedContract",e.CODE=".CodeContract",e.BUTTON=".ButtonContract",e.INVITE=".InvitationContract",e.MOBILE=".MobileInvitationContract"}(FormTriggerTypes||(FormTriggerTypes={}));var MobileTriggerTypesLabels;!function(e){e.TRIGGER_BY_CODE="triggerByCode",e.TRIGGER_BY_TARGETING="triggerByTargeting"}(MobileTriggerTypesLabels||(MobileTriggerTypesLabels={}));var FormTriggerTypesLabels;!function(e){e.INVITE="Invite",e.BUTTON="Button",e.CODE="Code",e.EMBEDDED="Embedded"}(FormTriggerTypesLabels||(FormTriggerTypesLabels={}));var ResultCode;!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(ResultCode||(ResultCode={}));var DigHttpRequestTypes;!function(e){e.GET="GET",e.POST="POST",e.DELETE="DELETE"}(DigHttpRequestTypes||(DigHttpRequestTypes={}));var DigLiveFormEvents;!DigLiveFormEvents||(DigLiveFormEvents={}));var EngagementTypes;!function(e){e.Form="Form",e.AppRating="AppRating"}(EngagementTypes||(EngagementTypes={}));var DigFormDisplayTypes;!function(e){e.LIGHTBOX="lightbox",e.EMBEDDED="embedded",e.ANIMATION="animation",e.POPUP="popup"}(DigFormDisplayTypes||(DigFormDisplayTypes={}));var FormAdvanceSettings;!FormAdvanceSettings||(FormAdvanceSettings={}));var DigSortOrder;!function(e){e.ASCENDING="asc",e.DESCENDING="desc"}(DigSortOrder||(DigSortOrder={}));var DigClassNamePrefix;!function(e){e.FORM_LANGUAGE="dig-form-language-"}(DigClassNamePrefix||(DigClassNamePrefix={}));var MobileInvitationType;!function(e){e.BANNER="BANNER",e.PUSH_NOTIFICATION="PUSH_NOTIFICATION",e.ALERT="ALERT",e.LOCAL_NOTIFICATION="LOCAL_NOTIFICATION",e.CUSTOM_INTERCEPT="CUSTOM"}(MobileInvitationType||(MobileInvitationType={}));var MobileInvitationPosition;!MobileInvitationPosition||(MobileInvitationPosition={}));var DigColors;!function(e){e.INVITAION_TEXT="#40404a",e.INVITAION_DECLINE_BUTTON_COLOR_WCAG="#F7F7F7",e.INVITAION_DECLINE_BUTTON_COLOR_TEXT_COLOR_WCAG="#393941"}(DigColors||(DigColors={}));var FormViewTypes;!function(e){e.LIST="list",e.GRID="grid"}(FormViewTypes||(FormViewTypes={}));var PollingIntervals;!function(e){e[e.UNREAD_FEEDBACKS=3e4]="UNREAD_FEEDBACKS"}(PollingIntervals||(PollingIntervals={}));var FEEDBACK_URL;!function(e){e.PREVIEW="[Preview]",e.PREVIEW_DRAFT="[Preview (Draft)]",e.DIRECT="[Direct]"}(FEEDBACK_URL||(FEEDBACK_URL={}));var MobileFormDisplayType;!function(e){e.FULL="full",e.PARTIAL="modal"}(MobileFormDisplayType||(MobileFormDisplayType={}));var DISPLAY_MODE;!function(e){e.DRAFT_PREVIEW="DraftPreview",e.PREVIEW="Preview",e.LIVE="live"}(DISPLAY_MODE||(DISPLAY_MODE={}));var FORM_BACKGROUND_IMAGE_POSITION;!function(e){e.CENTER="Center",e.REPEAT="Tile",e.COVER="Fill to screen"}(FORM_BACKGROUND_IMAGE_POSITION||(FORM_BACKGROUND_IMAGE_POSITION={}));var FORM_BACKGROUND_IMAGE_POSITION_FIELDS;!function(e){e.REPEAT="doReapet",e.COVER="doCover"}(FORM_BACKGROUND_IMAGE_POSITION_FIELDS||(FORM_BACKGROUND_IMAGE_POSITION_FIELDS={}));var PAGES_KEYS;!PAGES_KEYS||(PAGES_KEYS={}));var NOTIFICATION_TYPES;!function(e){e.SUCCESS="success",e.FAILURE="danger"}(NOTIFICATION_TYPES||(NOTIFICATION_TYPES={}));var JOB_TYPES;!function(e){e.DELETE="DELETE"}(JOB_TYPES||(JOB_TYPES={}));var FOLDER_ACTIONS;!function(e){e.DELETE="Delete",e.RENAME="Rename",e.MOVE="Move"}(FOLDER_ACTIONS||(FOLDER_ACTIONS={}));var REQUEST_HEADERS;!function(e){e.X_MD_REQ_ID="X-MD-REQ-ID"}(REQUEST_HEADERS||(REQUEST_HEADERS={}));var DEVICE_TYPES;!function(e){e.TABLET="tablet",e.MOBILE="mobile",e.DESKTOP="desktop"}(DEVICE_TYPES||(DEVICE_TYPES={}));var KAMPYLE_IDS;!function(e){e.FREEZE_MODE="propertyInFreezeMode",e.RESOURCE_DELETED="resourceDeleted",e.ILLEGAL_ARGUMENT="illegalArgumentException"}(KAMPYLE_IDS||(KAMPYLE_IDS={}));var ALERTS;!function(e){e.FREEZE_MODE_ADMIN='We currently can\'t handle your request as the command center is in "Freeze Mode"',e.RESOURCE_DELETED="You're trying to use a file which has been deleted, please choose a different file and save."}(ALERTS||(ALERTS={}));var CONSTANTS;!function(e){e.DEFAULT_LANGUAGE="en"}(CONSTANTS||(CONSTANTS={}));var INVITATION_FIELDS;!function(e){e.DECLINE_BUTTON_COLOR_WCAG="invitationDeclineButtonColor",e.DECLINE_BUTTON_COLOR_TEXT_COLOR_WCAG="invitationDeclineButtonTextColor"}(INVITATION_FIELDS||(INVITATION_FIELDS={}));var BUTTON_TYPE;!function(e){e.CUSTOM="CUSTOM",e.VERTICAL="VERTICAL",e.TRIANGULAR="TRIANGULAR"}(BUTTON_TYPE||(BUTTON_TYPE={}));var KeyCodes;!KeyCodes||(KeyCodes={}));var KeyNames;!KeyNames||(KeyNames={}));var GRADING1TO5_VIEW_TYPES;!GRADING1TO5_VIEW_TYPES||(GRADING1TO5_VIEW_TYPES={}));var SUPPORTED_MEDIA_TYPES;!function(e){e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.UPLOAD="UPLOAD"}(SUPPORTED_MEDIA_TYPES||(SUPPORTED_MEDIA_TYPES={}));var CP_ORIGIN_TYPE;!function(e){e.URL="URL",e.COOKIE="Cookie",e.VAR="Var"}(CP_ORIGIN_TYPE||(CP_ORIGIN_TYPE={}));var FORM_STATUS;!function(e){e.PUBLISHED="Published",e.DRAFT="Draft",e.PUBLISHED_WITH_DRAFT="Published *"}(FORM_STATUS||(FORM_STATUS={}));var FormEditingTypes;!FormEditingTypes||(FormEditingTypes={}));var ShownVersion;!function(e){e.PUBLISHED="published",e.DRAFT="draft"}(ShownVersion||(ShownVersion={}));var SelectionType;!function(e){e.DUPLICATE="duplicateSelect",e.UNPUBLISH="unpublishSelect"}(SelectionType||(SelectionType={}));var CustomParamsActionsIds;!CustomParamsActionsIds||(CustomParamsActionsIds={}));var TextAreaLimitOption;!TextAreaLimitOption||(TextAreaLimitOption={})),function(e){"use strict";var t="ROLE_GLANCE",n=["ROLE_VIEWER","ROLE_USER","ROLE_USER_GROUP_MANAGER","ROLE_ADMIN"],o=function(){eturn e.prototype.setRole=e.prototype.getRole=e.prototype.getRoleEnum=e.prototype.isGlanceUser=e.prototype.hasSufficientRole=function(e,t){void 0===e&&(e=UserRoles.ROLE_TOP),void 0===t&&(t=this.getRole());var n=isNaN(e)?UserRoles[e]:e,o=isNaN(t)?UserRoles[t]:t;return+n<=+o},e.prototype.getAllRoles=function(){return n},e.prototype.getDefaultRedirect=function(){switch(this.getRole()){case t:return{pathToRedirect:"/login/signin",action:this.REDIRECT_ACTIONS.LOGOUT};default:return{pathToRedirect:"/dashboard",action:this.REDIRECT_ACTIONS.NONE}}},e.$inject=[],e}();e.angular.module("NebRole.module",[]).service("NebRole",o)}(window),angular.module("NebProperty.module",[]).service("NebProperty",[function(){ar t,n,o,i,r=this;this.setPropertyId=this.getPropertyId=function(){return t=t||parseInt(sessionStorage.getItem("nebCurrentPropertyId"),10),r.setPropertyId(t),t},this.setPropertyName=function(e){return n=e},this.getPropertyName=function(){return n},this.setPropertyColor=function(e){return o=e},this.getPropertyColor=function(){return o},this.setPropertySettings=this.hasPropertySetting=function(t){return e(t)?i[t.substr(1)]!==!0:i[t]===!0},this.isSSO=this.getPropertyTypeDisplayName=this.clearPropertyId=this.replacePropertyIdInUrl=function(e){return e.replace("/property/#propertyIdReplaceByInterceptor#","/property/".concat(r.getPropertyId()))},this.getPropertySettings=function(){return i}}]);var PropertyTypes={WEBSITE:"website",IOS:"mobileIOS",ANDROID:"mobileAndroid",ANYWHERE:"anywhere"},NebProvisions={TIMEZONE:"timeZoneSupport"};!function(){"use strict";function e(t,n,o,i,r,a,s){function l(e){F=e,d(e),i.setProvisions(F.provisioning),a.setRole(F.userRole),s.setPropertyColor(F.propertyColorContract),s.setPropertyName(F.propertyName),e.propertyType&&A(e.propertyType),e.websiteId&&(t.currentWebSiteId=e.websiteId)}function d(e){var t=e.isWCAG,n=e.isSSO,o=e.defaultLanguage,i=e.customCssUpload,r=e.sharedDomain,a=e.showExportFeedbackWarning,l=void 0!==a&&a;s.setPropertySettings({isWCAG:t,isSSO:n,defaultLanguage:o,customCssUpload:i,sharedDomain:r,showExportFeedbackWarning:l})}function c(e){return i.checkProvision(e)}function u(){return e&&window.PropertyTypes&&v()===window.PropertyTypes.WEBSITE}unction p(){return F&&F.email?F.email:null}function g(){return F&&F.selectedCsatScale?F.selectedCsatScale:null}function f(){return F&&F.accountType?F.accountType:null}unction h(){return a.getAllRoles().map(function(e){return{val:e,label:o.getSingleText("texts.app.roles.".concat(e))}})}function v(){return o.getNestedProperty(F,"propertyType")}function y(){return o.getNestedProperty(F,"websiteId")}function E(){var e=v();return e===PropertyTypes.WEBSITE}function T(){var e=v();return e===PropertyTypes.IOS||e===PropertyTypes.ANDROID||e===PropertyTypes.ANYWHERE}function _(){return[PropertyTypes.IOS,PropertyTypes.ANDROID].includes(v())}unction k(){var e=v();return e===PropertyTypes.ANYWHERE}function S(e){var t=v();return t===e}function M(){var e=n.defer(),o=1e4;return L()?e.resolve(v()):t.$on("NebProfileArrived",function(t,n){e.resolve(v())}),setTimeout(function(){L()?e.resolve(v()):e.reject(!1)},o),e.promise}function A(e){F=F||{},F.propertyType=e,t.$broadcast("NebProfileArrived",F);try{var n=r.get("NebStorage");n.setDataToLocalStorage("propertyType",e)}catch(o){}}function w(e){F=F||{},F.websiteId=Number(e)}function x(){var e=o.getNestedProperty(F,"timezone");return e&&c(NebProvisions.TIMEZONE)?e:null}function N(){return(F||{}).isWCAG}function D(e){F=F||{},F.isWCAG=e}function P(){return(F||{}).customCssUpload}function I(e){F=F||{},F.customCssUpload=e}function O(){return a.getRoleEnum()}ar F,L=$=q=U=function(){return o.getNestedProperty(F,"secretToken")},H=function(){return o.getNestedProperty(F,"propertyId")},B=return{getInboxPollingTime:B,checkProvision:c,setProfile:l,getEmail:p,getCsatType:g,getAccountType:f,getEmbedUrl:b,getRole:O,getPropertyType:v,getPropertyId:H,getPropertyTypeAsync:M,setPropertyType:A,hasPropertyType:$,hasProvisions:q,hasPropertyTypeConfigured:L,getAllRoles:h,hasSufficientRole:a.hasSufficientRole,isWebsiteProperty:E,isMobileProperty:T,isMobileType:S,isSDKProperty:_,isWebProperty:u,isSurveyDraftEnabled:m,getSecretToken:U,getTimezone:x,getWebsiteId:y,setWebsiteId:w,isWCAG:N,setIsWCAG:D,getUserId:R,isCustomCss:P,setCustomCss:I,isAnywhereProperty:k,getMaxQuestionAllowed:C}}angular.module("profile.module",[]).service("Profile",e),e.$inject=["$rootScope","$q","Common","Provision","$injector","NebRole","NebProperty"]}(),function(){function e(e,t,n){function o(){return s}function i(){var n=t.defer();return s&&n.resolve(s),e.$on("NebProvisionsArrived",function(){n.resolve(s)}),n.promise}function r(t){s=t,e.$broadcast("NebProvisionsArrived")}function a(e){return!!s&&(s[e]===!0||"true"===s[e])}var s;return{getProvisions:o,getProvisionsAsync:i,setProvisions:r,checkProvision:a}}angular.module("nebProvision",[]).service("Provision",e),e.$inject=["$rootScope","$q","$injector"]}(),),function(){"use strict";function e(){nction n(e,t){if(!e||"string"!=typeof e||!t||"function"!=typeof t)return!1;var n=a[e];if("undefined"!=typeof n){var o=n.indexOf(t);o!==-1&&n.splice(o,1)}return!0}function o(e,t){if(!e||"string"!=typeof e||!t||"function"!=typeof t)return!1;var n=a[e];"undefined"==typeof n&&(n=a[e]=[]);var o=n.indexOf(t);return o===-1&&n.push(t),!0}function i(e,t,n){var o,i,r=a[e];if("undefined"==typeof r)return!1;for(t=t instanceof Array?t:[t],n=n||null,i=r.length,o=0;o<i;o+=1)try{r[o].apply(n,[e].concat(t))}catch(s){console.log("Error: ".concat(s));continue}return!0}function r(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=0;n<e[t].length;n++)o(t,e[t][n])}var a;return{subscribe:o,subscribeMany:r,trigger:i,unsubscribe:n,init:e,getEventSubscriptions:t}}angular.module("nebUtils").service("eventDispatcher",e)}(),function(){"use strict";angular.module("nebUtils").factory("Common",["$http","API_URLS","$rootScope","$q","$window","$sce","$timeout","UserAgent","Provision",function(e,t,n,o,i,r,a,s,l){function d(e,t,n){for(var o=e,i=t.split("."),r=i.length,a=0;a<r-1;a++){var s=i[a];o[s]||(console.warn("The property ".concat(s," does not exist in the object ").concat(e)),o[s]={}),o=o[s]}o[i[r-1]]=n}function c(e,t){if(!e||!t)return!1;for(var n=t.split("."),o=e,i=0;i<n.length;i++){if(!o||void 0===o[n[i]])return null;o=o[n[i]]}return o}unction m(){for(var e=8,t=u(),n=0;n<e-1;n++)t+="-"+u();return t}function p(){var e=Date.now();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx".replace(/[x]/g,}function g(e,t){return t=t||"",n.texts?c(n,e)||t:t}function f(){var e=s.getDeviceTypeByUserAgentAndOrientationEvent();return s.isMobileSDK()||e===DEVICE_TYPES.MOBILE||e===DEVICE_TYPES.TABLET}function b(e){try{return"object"==typeof e?e:JSON.parse(e)}catch(t){return console.warn("safeJsonParse function: cannot parse string"),null}}nction y(e,t,o){void 0===e&&(e="success"),void 0===o&&(o=""),n.addAlert(e,g(t,o))}function E(e,t){if(!e||!t)return null;for(var n=t.split("."),o=e,i=n.length,r=0;r<i;r++){if(!o||!o.hasOwnProperty(n[r])&&!o[n[r]])return null;o=o[n[r]]}return o}unction _(e){return"string"!=typeof e?e:e.toLowerCase()}function C(e){return""===e||null===e?null:"number"!=typeof e&&isNaN(Number(e))?null:Number(e)}function k(e){this.name=e+"=",this.ca=document.cookie.split(";");for(var t=0;t<this.ca.length;t++){for(this.c=this.ca[t];" "===this.c.charAt(0);)this.c=this.c.substring(1);if(0===this.c.indexOf(this.name)){var n=this.c.substring(this.name.length,this.c.length);return n}}return null}function S(e){e=e||{};var t=e.value,n=e.source||"var",o=e.type||"",i=e.name;if(void 0===t)switch(_(n)){case"var":t=E(window,i);break;case"url":t=j(i),""===t&&(t=null);break;case"cookie":t=k(i);break;default:t=null}if(null!==t)switch(o.toLowerCase()){case"datetime":t="string"==typeof t?parseInt(t)||null:t instanceof Date||t.getTime&&!isNaN(t.getTime())?t.getTime():null;break;case"number":t=C(t);break;case"text":"string"!=typeof t&&(t=null);break;case"boolean":"true"===t?t=!0:"false"===t&&(t=!1),"boolean"!=typeof t&&(t=null);break;default:t=null,console.error("Invalid custom parameter type "+o)}return t}function M(e){if("undefined"==typeof e||null===e)return!1;var t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(n){return console.log("Oops, unable to copy"),!1}return document.body.removeChild(t),!0}function A(e){return c(e,"settings.formMobileSettingsContract.formViewType")===MobileFormDisplayType.PARTIAL}on O(e,t,n){t=angular.isUndefined(t)?0:t,n=!!angular.isUndefined(n)||n;var o=0;return function(){var i=this,r=arguments;o++;var s=function(t){return function(){if(t===o)return e.apply(i,r)}}(o);return a(s,t,n)}}function R(){if("object"==typeof window.KAMPYLE_UTILS&&window.KAMPYLE_UTILS.getDocumentSize)return window.KAMPYLE_UTILS.getDocumentSize();var e=document.body;return{width:e.scrollWidth||0,height:e.scrollHeight||0}}function F(){i.KAMPYLE_ONSITE_SDK&&i.KAMPYLE_ONSITE_SDK.startInviteTargeting?i.KAMPYLE_ONSITE_SDK.startInviteTargeting():i.addEventListener("neb_OnsiteLoaded",}function L(e){var t;if(null===e||""===e)t=!0;else{var n=/^(https?:\/\/)(([a-zA-Z0-9-]){1,}\.){1,4}([a-zA-Z]){2,6}(:\d{2,5})?(?:\/[a-zA-Z0-9?_()&%=+~-]+(([\/\.](?!\/\.))[a-zA-Z0-9?_()&%, =+~-]+)*)+$/;t=n.test(e)}return t}var $=function(e){return angular.isObject(e.data)&&e.data.message?o.reject(e.data.message):o.reject("An unknown error occurred.")},q=function(e){return e.data},U=function(){var n=t.kampyleS3.getToolTips,o=e({method:"GET",url:n});return o.then(q,$)},H=function(){var n=t.kampyleS3.getTexts,o=e({method:"GET",url:n});return o.then(q,$)},B=function(){var e=i.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i};for(var n in t)if(t[n].test(e))return n},G=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].y;var o;if(t>0)for(var i=0;i<e.length;i++)o=e[i].y/t*100,e[i].percentage=o;return e},V=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].y;var o,i=0;if(t>0)for(var r=0;r<e.length;r++){o=e[r].y/t*100;var a=Math.floor(Number(o));e[r].percentage=a,i+=a}for(var n=0;i<100&&n<e.length;n++,i++)e[n].percentage++;return e},j=function(e,t){void 0===t&&(t=location.href);var n="";if(t&&e){var o=t.substr(t.indexOf("?")+1);o=o.split("&");for(var i=0;i<o.length;i++){var r=o[i].split("=");r&&[r[0]]==e&&(n=r[1])}}return n},K=function(e,t){return e&&e.length>t&&(e=e.substring(0,t)+"..."),e},W=function(e){if(e.url){var t=e.url;if(e.params){t+="?";for(var n in e.params)t+=n+"="+e.params[n]+"&"}i.location.href=t}},Y=function(e,t,n){var o=e.substr(e.length-1);return e="&"===o||"?"===o?e:e+"&",e+=t+"="+n},z=function(e,t){if(e&&e.length&&"object"==typeof t&&!angular.equals({},t)){e.indexOf("?")===-1&&(e+="?");for(var n in t)if(t[n]||0===t[n])if(t[n].constructor===Array)for(var o=t[n].length-1;o>=0;o--)e=Y(e,n,t[n][o]);else e=Y(e,n,t[n]);return e}},X=function(e){if(e){var t=new RegExp("<","g"),n=e;return n=n.replace(t,"&lt;"),t=new RegExp(">","g"),n=n.replace(t,"&gt;")}},Q=function(e){if(e){var t;return t=new RegExp("&lt","g"),e=e.replace(t,"<"),t=new RegExp("&gt","g"),e=e.replace(t,">"),r.trustAsHtml(e)}},Z=function(e){if(l.checkProvision(DigProvisions.GREATER_SMALLER_THEN_DECODE)&&e){var t=Q(JSON.stringify(e));return JSON.parse(t)}return e},J=function(e,t){if(!angular.isArray(e)||!e.length||!t&&0!==t)return e;var n=e.map(;return n},ee=function(){return"dev"===window.kplConfig.region&&!!window.kplConfig.serverPrefix&&""!==window.kplConfig.serverPrefix&&!!window.btoa},te=ne=function(e){if(e&&e.replace)return e.replace(/^\s*[\r\n]/gm,"").replace(/ /g,"").trim()},oe=function(e,t){if(!e||!t)return!1;for(var n=t.split("."),o=e,i=0;i<n.length;i++){if(!o||!o.hasOwnProperty(n[i]))return!1;o=o[n[i]]}return!0},ie=function(e,t){if(!angular.isArray(e)||!angular.isArray(t))return!1;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])===-1)return!1;return!0},re=function(){var e=["<span>","{{CONTENT}}","&nbsp;",'<a href="#" ng-click="Common.openFilterModal($event)">{{HERE}}</a>',"</span>"].join(""),t=g("texts.app.pages.reports.errors.invalidRuleId","Filter set is invalid, please change configured filter");return e=e.replace("{{CONTENT}}",t),e=e.replace("{{HERE}}","here")},ae=return{getToolTips:U,getBrowser:B,getTexts:H,getSingleText:g,calcNpsPercentage:G,calcNpsPercentageAsNum:V,truncateText:K,getUrlParam:j,appendToUrl:z,doRedirect:W,htmlDecode:Q,jsonHtmlDecode:Z,arrOfObjToArrOfString:J,isEmulatorServerActive:ee,safeToLowerCase:te,formatUrlTextArea:ne,
checkNestedProperty:oe,getNestedProperty:c,setNestedProperty:d,generateUuid:m,isSubArray:ie,setInvalidRuleText:re,openFilterModal:ae,isMobile:f,safeJsonParse:b,toQueryString:h,isArray:v,addAlert:y,isObjectDate:T,isActiveTab:w,getSafeCustomParamVal:S,copyTextToClipboard:M,isMultiOptionComponent:x,isMobilePartialView:A,flatten:N,generateAlternativeUuid:p,isFocused:D,isHTMLElement:P,isActiveElement:I,debounce:O,getDocumentSize:R,simpleHtmlEncode:X,startInviteTargeting:F,isValidCssUrlFormat:L}}])}(),function(){"use strict";var e=function(){eturn e.prototype.getToday=function(){return[this.getMomentWithTimezone().startOf("day"),this.getMomentWithTimezone().endOf("day")]},e.prototype.getLastSevenDays=function(){return[this.getMomentWithTimezone().subtract(7,"days").startOf("day"),this.getMomentWithTimezone().endOf("day")]},e.prototype.getLastThirtyDays=function(){return[this.getMomentWithTimezone().subtract(30,"days").startOf("day"),this.getMomentWithTimezone().endOf("day")]},e.prototype.getUnlimitedDates=function(){return[this.getMomentWithTimezone().subtract(365,"days").startOf("day"),this.getMomentWithTimezone().endOf("day")]},e.prototype.getDateRange=function(e){switch(e=this.Common.safeToLowerCase(e)){case"today":return this.getToday();case"last 7 days":return this.getLastSevenDays();case"last 30 days":return this.getLastThirtyDays();case"unlimited":return this.getUnlimitedDates();default:return null}},e.prototype.getDefaultDates=e.prototype.toUtc=e.prototype.getTimeDifference=function(e){var t=e||this.Profile.getTimezone();return t?-moment().tz(t).utcOffset():0},e.prototype.getAdjustedDate=function(e,t){if(!this.isTimezoneProvisioned())return moment(e);var n=t||"UTC";return moment(e).tz(n)||null},e.prototype.getDateUtcTimestamp=function(e){return e.getTime()-6e4*e.getTimezoneOffset()},e.prototype.isTimezoneProvisioned=e.prototype.getMomentWithTimezone=function(){return this.isTimezoneProvisioned()&&this.Profile.getTimezone()?moment().tz(this.Profile.getTimezone()):moment()},e.$inject=["$rootScope","Common","Profile"],e}();angular.module("nebUtils").service("DateSrv",e)}(),function(){"use strict";var e=function(){function e(e,t){this.$http=e,this.$q=t,this.counter=0,this.limit=4,this.requestsQueue=[]}return e.prototype.enqueueRequest=function(e){var t=this.addToQueue(e);return++this.counter<this.limit&&this.executeNextRequest(),t},e.prototype.enqueue=e.prototype.dequeue=e.prototype.addToQueue=function(e){var t=this,n=this.$q.defer();return this.enqueue({body:e,success:function(e){t.counter--,n.resolve(e),t.executeNextRequest()},failure:),n.promise},e.prototype.executeNextRequest=function(){var e=this.dequeue();e&&this.$http(e.body).then(e.success,e.failure)},e}();e.$inject=["$http","$q"];var t=function(){eturn e.prototype.call=function(e,t){var n=this;if(n.cache[e])return n.cache[e];var o=Object.assign({},t,{url:e});return n.cache[e]=this.$http(o),n.cache[e]},e.$inject=["$http","$q"],e}();angular.module("NebHttp",[]).service("NebHttpQueue",e).service("NebHttpSingleCaller",t)}(),function(){"use strict";function e(e){function t(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1}nction i(){return n()&&navigator.userAgent.toLowerCase().indexOf("ipad")>-1}unction a(){return c()&&!r()&&("MacIntel"===navigator.platform||"Mac-Intel"===navigator.platform)&&navigator.maxTouchPoints>1}function s(){return/ MobileSDK$/.test(navigator.userAgent)||window.isMobileSDK}function l(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=0;t>0&&(n=parseInt(e.substring(t+5,e.indexOf(".",t)),10));var o=e.indexOf("Trident/");if(o>0){var i=e.indexOf("rv:");n=parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0&&(n=parseInt(e.substring(r+5,e.indexOf(".",r)),10)),!!n}function d(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("firefox")>-1}function c(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("safari")>-1&&e.indexOf("chrome")===-1}function u(){return a()?DEVICE_TYPES.TABLET:p(navigator)}unction p(t){var n=e.checkProvision(DigProvisions.ENABLE_CLIENT_HINTS),o=n&&t.userAgentData&&t.userAgentData.platform;return o?t.userAgentData.mobile?DEVICE_TYPES.MOBILE:"android"===t.userAgentData.platform.toLowerCase()?DEVICE_TYPES.TABLET:DEVICE_TYPES.DESKTOP:"object"==typeof window.KAMPYLE_UTILS&&window.KAMPYLE_UTILS.getDeviceTypeByUserAgent?window.KAMPYLE_UTILS.getDeviceTypeByUserAgent(t.userAgent):"desktop"}return{getIosVersion:t,isIos:n,isIpad:i,isIos9:o,isIphone:r,isIpadIos13:a,getDeviceTypeByUserAgentAndOrientationEvent:u,getDeviceTypeByUserAgent:p,isIE:l,isFirefox:d,isSafari:c,isMobileSDK:s,isDesktop:m}}angular.module("nebUtils").service("UserAgent",e),e.$inject=["Provision"]}(),function(){"use strict";angular.module("nebUtils").filter("ngFormNameGenerator",[function(){return function(e,t,n){return void 0===n&&(n=!0),"".concat(n?"$root.":"","Forms._").concat(e.replace(/\s/g,"_"),".").concat(t)}}])}(),),function(){function e(e,t){function n(t){return e.getNestedProperty(t,"triggers.0.triggerType")===FormTriggerTypes.EMBEDDED||e.getNestedProperty(t,"triggers.0.displayType")===DigFormDisplayTypes.EMBEDDED}function o(t,o){var i=n(o),r=e.getNestedProperty(o,"settings.formBasicSettings.isFullWidthEmbedded"),a=null===r;return i?!!a||r:null}function i(t,o,i){var r=i?"settings.formBasicSettings.isShowCloseButton":"settings.formThankYouPageSettings.isShowCloseButton",a=!!e.getNestedProperty(o,r);return n(o)?a:null}function r(e){return e?"#4050C6":t.isWCAG()?"#004ccb":"#5081ff"}function a(e){return e?"#6200EE":t.checkProvision(DigProvisions.MOBILE_SDKV2_NEW_ANDROID_BUTTON)?"#004ccb":"#ffffff"}unction l(){var e=t.checkProvision(DigProvisions.LIVE_FORM_V2);switch(t.getPropertyType()){case PropertyTypes.WEBSITE:return r(e);case PropertyTypes.ANDROID:return a(e);case PropertyTypes.IOS:case PropertyTypes.ANYWHERE:return s(e);default:return null}}function d(){return t.isMobileProperty()&&t.checkProvision(DigProvisions.LIVE_FORM_V2)?"#000000":"#40404a"}function c(){var e=t.getPropertyType()!==PropertyTypes.ANDROID,n=t.checkProvision(DigProvisions.LIVE_FORM_V2)||t.checkProvision(DigProvisions.MOBILE_SDKV2_NEW_ANDROID_BUTTON);return e||n?"#ffffff":"#004ccb"}function u(){return t.checkProvision(DigProvisions.LIVE_FORM_V2)?"#F7F7F8":t.isWCAG()?"#4D4D51":"#9f9fa4"}function m(){return t.checkProvision(DigProvisions.LIVE_FORM_V2)?"#121826":""}return{isShowCloseButton:i,isFullWidthEmbedded:o,getPrimaryButtonColor:l,getSecondaryButtonColor:u,getSecondaryButtonTextColor:m,getPrimaryButtonTextColor:c,getFormTextColor:d}}function t(e){function t(t){void 0===t&&(t="");var n;try{return n=e.get(t),angular.copy(n)}catch(o){return null}}function n(t){void 0===t&&(t="");try{return!!e.get(t)||!1}catch(n){return!1}}eturn{get:t,hasContract:n,getForceFunctionProperties:o}}function n(e,t,n){var o=['<p style="text-align:center;>',"<span style=\"font-size:16px; font-family: 'Open Sans';\">","<strong>Screen Capture</strong>","</span>","</p>","<p style=\"text-align:center; font-size:12px; font-family: 'Open Sans';\">","Click Capture Image button or drag the cursor to highlight a specific area.","</p>"].join(" ");return{name:"Default Form Name",propertyType:e.getPropertyType,customHTMLEnabled:!1,customHTML:{customHTMLName:null,customHTMLModificationTime:null,tempCustomHTMLFileId:null},settings:{formBasicSettings:{backButtonLabel:"Back",closeButtonLabel:"Close",nextButtonLabel:"Next",submitButtonLabel:"Submit",isFullWidthEmbedded:isShowBackButton:function(e,n){return"string"==typeof t.getNestedProperty(n,"settings.formBasicSettings.navigationButtons")&&n.settings.formBasicSettings.navigationButtons.indexOf("Back")!==-1},isShowCloseButton:function(e,t){return n.isShowCloseButton(e,t,!0)},backButtoncolor:n.getPrimaryButtonColor,closeButtoncolor:n.getSecondaryButtonColor,nextButtoncolor:n.getPrimaryButtonColor,submitButtoncolor:n.getPrimaryButtonColor,closeButtonTextColor:n.getSecondaryButtonTextColor,displayType:"lightbox",displayDirection:"centerRight",widthPX:450,heightPX:function(e,n){var o=t.getNestedProperty(n,"settings.formBasicSettings.heightPX");return o&&"null"!==o?o:450},isFixedSize:!0,submitButtonTextColor:n.getPrimaryButtonTextColor,closeModalButton:"Close Survey",formAnnouncement:"Feedback Survey"},formAdvanceSettings:{requiredErrorMsg:null,emailValidationErrorMsg:null,urlValidationErrorMsg:null,htmlLanguage:"en",isCustomParamEnabled:!1},formThankYouPageSettings:{headline:"Thank You For Providing Feedback",logoURL:{name:"",uuid:"",url:""},logoLabel:"",buttonColor:n.getPrimaryButtonColor,textColor:"#FFFFFF",includeThankYouPage:!0,isShowCloseButton:n.isShowCloseButton,closeButtonLabel:"Close",closeModalButton:"Close Survey",thankYouPageAnnouncement:"Survey completion message"},formScreenCaptureSettings:{enabled:!1,buttonImage:{name:"",uuid:"",url:""},buttonTooltip:"Attach a Screen Capture to your feedback",submitScreenCaptureLabel:"Capture Image",submitScreenCaptureTooltip:"Take snapshot",cancelScreenCaptureLabel:"Cancel",cancelScreenCaptureTooltip:"Back to Feedback",instructionsScreenCapture:o,wcagDisabledScreenCaptureTooltip:"Feedback Screen Capture Button Disabled",wcagScreenCaptureTooltip:"Feedback Screen Capture Button",titleInstructionsScreenCapture:"Screen Capture",bodyInstructionsScreenCapture:'Click "Capture Image" button or drag the cursor to highlight a specific area'},formDesignSettings:{backgroundColor:"",backgroundImgUrl:{name:"",uuid:"",url:""},customCssFile:"",doReapet:!1,textColor:n.getFormTextColor}},pages:[{name:"Page 1",index:0,dynamicData:[],pageSettings:{backgroundColor:"",backgroundImgUrl:null,doBackgroundReapet:!1,customCssClass:""}}]}}angular.module("contractValidator.contracts",[]).constant("MobileTriggerRulesContract",{MobileFrequency:{params:{frequency:30,type:"INVITE_PERCENTAGE_OF_VISITORS"},type:"MobileFrequency",isActive:!0},MobileNumberOfAppSession:{params:{compareString:"greaterThan",numberOfRepeats:null},type:"MobileNumberOfAppSession",isActive:!1},MobileOsVersion:{params:{versions:null},type:"MobileOsVersion",isActive:!1},MobileDontInviteOnDeclined:{params:{days:null},type:"MobileDontInviteOnDeclined",isActive:!1},MobileDontInviteOnSubmitted:{params:{days:null},type:"MobileDontInviteOnSubmitted",isActive:!1},MobileAppVersion:{params:{versions:null},type:"MobileAppVersion",isActive:!1},MobileTimeInForeground:{params:{compareString:"greaterThan",seconds:30},type:"MobileTimeInForeground",isActive:!0}}).constant("ExistingMobileTriggerRulesContract",{MobileFrequency:{params:{frequency:30,type:"INVITE_PERCENTAGE_OF_VISITORS"},type:"MobileFrequency",isActive:!1},MobileNumberOfAppSession:{params:{compareString:"greaterThan",numberOfRepeats:null},type:"MobileNumberOfAppSession",isActive:!1},MobileOsVersion:{params:{versions:null},type:"MobileOsVersion",isActive:!1},MobileDontInviteOnDeclined:{params:{days:null},type:"MobileDontInviteOnDeclined",isActive:!1},MobileDontInviteOnSubmitted:{params:{days:null},type:"MobileDontInviteOnSubmitted",isActive:!1},MobileAppVersion:{params:{versions:null},type:"MobileAppVersion",isActive:!1},MobileTimeInForeground:{params:{compareString:"greaterThan",seconds:120},type:"MobileTimeInForeground",isActive:!1}}).constant("TriggerRulesContract",{DontInviteOnSubmitted:{type:"DontInviteOnSubmitted",id:95055,params:{days:21}},DontInviteOnDeclined:{type:"DontInviteOnDeclined",id:95054,params:{days:21}},TimeInSession:{type:"TimeInSession",id:95051,params:{seconds:300}},Frequency:{type:"Frequency",id:95053,params:{type:"INVITE_PERCENTAGE_OF_VISITORS",frequency:30}},TimeOnPage:{type:"TimeOnPage",id:95052,params:{seconds:180}},DeviceTypes:{type:"DeviceTypes",id:95049,params:{devices:["desktop","tablet","mobile"]}}}).constant("InvitationContract",{triggerType:".InvitationContract",displayType:"lightbox",displayDirection:"centerRight",horizontal:700,vertical:400,customCssUrl:null,skipInvitation:!1,provideButtonText:"Provide Feedback",declineButtonText:"Not Right Now",invitationHeadline:"Let us know what you think",invitationText:"It only takes a couple of minutes and will help us improve our service",helpTooltipText:null,invitationBackgroundColor:"#ececec",invitationPosition:"top",invitationProvideButtonColor:"#007aff",invitationProvideButtonTextColor:"#ffffff",invitationDeclineButtonColor:"#ffffff",invitationDeclineButtonTextColor:"#8e8e93",invitationContentText:null,invitationAnnouncement:"Invitation to provide feedback",invitationLogoLabel:"",logoUrl:{name:"",uuid:null,url:""},desktopDesign:{provideButtonText:"Provide Feedback",declineButtonText:"Not Right Now",invitationHeadline:"Let us know what you think",invitationText:"It only takes a couple of minutes and will help us improve our service",helpTooltipText:null,invitationBackgroundColor:"#ececec",invitationProvideButtonColor:"#007aff",invitationProvideButtonTextColor:"#ffffff",invitationDeclineButtonColor:"#ffffff",invitationDeclineButtonTextColor:"#8e8e93",invitationContentText:'&ltp style="text-align:center"&gt&ltspan style="color:#40404a"&gt&ltspan style="font-size:40px"&gtLet us know what you think&lt/span&gt&ltbr/&gt&ltspan style="font-size:18px"&gtIt only takes a couple of minutes and will help us improve our service&lt/span&gt&lt/span&gt&lt/span&gt&lt/p&gt',logoUrl:{name:"",uuid:null,url:"",resourceId:null},customCssFileResource:null,closeModalButton:"Close Survey",invitationLogoLabel:"",titleElement:null},mobileDesign:{provideButtonText:"Provide Feedback",invitationHeadline:"Let us know what you think",invitationText:"It only takes a couple of minutes and will help us improve our service",invitationBackgroundColor:"#ececec",invitationProvideButtonColor:"#007aff",invitationProvideButtonTextColor:"#ffffff"}}).constant("MobileInvitationContract",{triggerType:".MobileInvitationContract",invitationHeadline:"Let us know what you think",invitationText:"It only takes a couple of minutes and will help us improve our app",provideButtonText:"Provide Feedback",declineButtonText:"No Thanks",laterButtonText:"Maybe Later",skipInvitation:!1,invitationType:"BANNER",triggerCustomBannerContract:{invitationTitle:"Let us know what you think",invitationBody:"It only takes a couple of minutes and will help us improve our app",textColor:"#000000",handleTextColor:"#cccccc",backgroundColor:"#ececec",position:"TOP",isPartial:!0,invitationTimeout:5e3}}).constant("SmartReplyContract",{isEnabled:!1,type:"reply",name:""}).constant("AutoForwardContract",{type:"forward"}).constant("ButtonContract",{triggerType:".ButtonContract",rules:{},displayType:"lightbox",displayDirection:"centerRight",type:"VERTICAL",buttonBackgroundColor:"#5081ff",buttonBackgroundHoverColor:"#396CEF",buttonText:"Feedback",buttonTextColor:"#FFFFFF",buttonTextHoverColor:"#FFFFFF",buttonImageUrl:{name:null,uuid:null,url:null},position:"RIGHT",cornerMargin:40,verticalOffset:0}).constant("CodeContract",{triggerType:".CodeContract",id:1053,rules:{},displayType:"lightbox",displayDirection:"centerRight"}).constant("EmbeddedContract",{triggerType:".EmbeddedContract",id:1053,rules:{},pageElementId:null,displayType:"embedded",displayDirection:"centerRight"}).constant("ScheduledReportsContract",{basic:{timePeriods:{daily:!1,weekly:!1,monthly:!1}},feedbackDigest:{timePeriods:{daily:!1,weekly:!1,monthly:!1},ruleId:null},customReports:[]}).constant("MobileIOSContract:FormContract",{settings:{formBasicSettings:{widthPX:function(){return 340},heightPX:function(){return 586},isFixedSize:!0},formMobileSettingsContract:{title:"Feedback",titleTextColor:"#000000",titleBackgroundColor:"#ebeced"}}}).constant("MobileAndroidContract:FormContract",{settings:{formBasicSettings:{widthPX:function(){return 327},heightPX:isFixedSize:!0},formMobileSettingsContract:{title:"Feedback",titleTextColor:"#000000",titleBackgroundColor:"#ebeced"}}}).constant("UserContract",{name:"",email:"",phone:"",password:"",ssoGivenName:"",ssoFamilyName:"",userRole:"ROLE_USER",accessFilterRule:null}).constant("RuleContract",{id:0,name:"",searchEnabled:!1,searchReady:!1,criteriaGroup:{},associatedActions:[],associatedTriggers:[],associatedScheduledReports:[],associatedUsersAccess:[]}).constant("MobileAndroidContract:FormContractForceFunctions",["settings.formBasicSettings.widthPX","settings.formBasicSettings.heightPX"]).constant("MobileIOSContract:FormContractForceFunctions",["settings.formBasicSettings.widthPX","settings.formBasicSettings.heightPX"]).constant("FormContractForceFunctions",["settings.formBasicSettings.isShowCloseButton","settings.formThankYouPageSettings.isShowCloseButton","settings.formBasicSettings.isFullWidthEmbedded"]).constant("EmbeddedRulesContract",{DeviceTypes:{type:"DeviceTypes",id:95049,params:{devices:["desktop","tablet","mobile"]}}}).service("ContractFactory",t).service("FormContract",n).service("FormContractService",e),e.$inject=["Common","Profile"],t.$inject=["$injector","MobileInvitationContract","MobileTriggerRulesContract","FormContract","SmartReplyContract","AutoForwardContract","InvitationContract","ButtonContract","EmbeddedContract","ScheduledReportsContract","CodeContract","TriggerRulesContract","MobileIOSContract:FormContract","MobileAndroidContract:FormContract","FormContractForceFunctions","EmbeddedRulesContract"],n.$inject=["Profile","Common","FormContractService"]}(),function(){"use strict";function e(e){function t(e,t,n){if(!t)return null;for(var o=e,i=t.split("."),r=i.length,a=0;a<r-1;a++){var s=i[a];o[s]||(o[s]={}),o=o[s]}o[i[r-1]]=n}function n(e,t){var n,o=t.split("."),i=e;for(n=0;n<o.length;++n){if(void 0===i[o[n]])return;i=i[o[n]]}return i}function o(e,t,n,i,r){void 0===r&&(r=[]);var a,s;for(var l in e)if(a=void 0===t[l]||null===t[l]||"null"===t[l],s=r.indexOf("".concat(n,".").concat(l))!==-1,a||s)"function"==typeof e[l]?t[l]=e[l].apply(this,[e[l],i]):t[l]=angular.copy(e[l]);else if("object"==typeof e[l]){var d=""===n?l:n+"."+l;o(e[l],t[l],d,i,r)}}function i(t,n){void 0===t&&(t={}),void 0===n&&(n="");var i=e.get(n),r=e.getForceFunctionProperties(n)||[];if(!i)return t;if(o(i,t,"",t,r),n.indexOf(":")!==-1){var a=n.split(":")[1]||"",s=e.get(a)||{},l=e.getForceFunctionProperties(a)||[];o(s,t,"",t,l)}return t}unction a(t){return e.hasContract(t)?i({},t):null}function s(e,t){if(!e||!e.length||!t)return e;for(var n=0,o=e;n<o.length;n++){var r=o[n];r=i(r,t)}return e}return{setNestedProperty:t,getNestedProperty:n,getContracts:r,iterate:o,createObjectFromContract:a,validifyJson:i,validifyCollection:s}}var t=angular.module("contractValidator.module");t.service("ContractValidator",e),e.$inject=["ContractFactory"]}(),function(e,t,n){"use strict";unction i(e,t){e.decorator("$$rAF",["$delegate",r]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}nction s(e,t,n){var o=n.mdAutoFocus||n.mdAutofocus||n.mdSidenavFocus;e.$watch(o,}unction d(e){function n(e){var t=r+"-"+e,n=i(t),a=n.charAt(0).toLowerCase()+n.substring(1);return o(e)?e:o(n)?n:o(a)?a:e}r r=e.vendorPrefix,a=/webkit/i.test(r),s=/([:\-_]+(.))/g,l=document.createElement("div");return{KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(a?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(a?" webkitAnimationEnd":""),TRANSFORM:n("transform"),TRANSFORM_ORIGIN:n("transformOrigin"),TRANSITION:n("transition"),TRANSITION_DURATION:n("transitionDuration"),ANIMATION_PLAY_STATE:n("animationPlayState"),ANIMATION_DURATION:n("animationDuration"),ANIMATION_NAME:n("animationName"),ANIMATION_TIMING:n("animationTimingFunction"),ANIMATION_DIRECTION:n("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]}}nction m(e,n){nction r(e,t){e=e[0]||e;for(var n=o(t),i=0;i<n.length;i++)if(e.hasAttribute(n[i]))return!0;return!1}var a=["data","x"];return e?n?i(e):o(e):{buildList:o,buildSelector:i,hasAttribute:r}}function p(o,i,r,a,s,l,d,c,u){ar p=l.startSymbol(),g=l.endSymbol(),f="{{"===p&&"}}"===g,b=h={dom:{},now:e.performance?t.bind(e.performance,e.performance.now):Date.now||bidi:function(e,n,i,r){function a(e){return e?s(e)?e:e+"px":"0"}ar l=!("rtl"==o[0].dir||"rtl"==o[0].body.dir);return 0==arguments.length?l?"ltr":"rtl":void(l&&t.isDefined(i)?t.element(e).css(n,a(i)):!l&&t.isDefined(r)&&t.element(e).css(n,a(r)))},clientRect:offsetRect:nodesToArray:scrollTop:function(e){e=t.element(e||o[0].body);var i=e[0]==o[0].body?o[0].body:n,r=i?i.scrollTop+i.parentElement.scrollTop:0;return r||Math.abs(e[0].getBoundingClientRect().top)},findFocusTarget:disableScrollAround:function(e,n){function i(e){=t.element(e||s)[0];var o=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>');return e.appendChild(o[0]),o.on("wheel",n),o.on("touchmove",n),function(){o.off("wheel"),o.off("touchmove"),o[0].parentNode.removeChild(o[0]),delete h.disableScrollAround._enableScrolling}}function r(){var e=s.parentNode,t=e.style.cssText||"",n=s.style.cssText||"",o=h.scrollTop(s),i=s.clientWidth;return s.scrollHeight>s.clientHeight+1&&(a(s,{position:"fixed",width:"100%",top:-o+"px"}),e.style.overflowY="scroll"),s.clientWidth<i&&a(s,{overflow:"hidden"}),function(){s.style.cssText=n,e.style.cssText=t,s.scrollTop=o,e.scrollTop=o}}f(h.disableScrollAround._count=h.disableScrollAround._count||0,++h.disableScrollAround._count,h.disableScrollAround._enableScrolling)return h.disableScrollAround._enableScrolling;var s=o[0].body,l=r(),d=i(n);return h.disableScrollAround._enableScrolling=function(){--h.disableScrollAround._count||(l(),d(),delete h.disableScrollAround._enableScrolling)}},enableScrolling:floatingScrollbars:forceFocus:createBackdrop:supplant:fakeNgModel:debounce:throttle:time:valueOnUse:nextUid:disconnectScope:reconnectScope:getClosest:function(e,n,o){if(e instanceof t.element&&(e=e[0]),n=n.toUpperCase(),o&&(e=e.parentNode),!e)return null;do if(e.nodeName===n)return e;while(e=e.parentNode);return null},elementContains:extractElementByName:initOptionalProperties:nextTick:processTemplate:getParentWithPointerEvents:getNearestContentElement:parseAttributeBoolean:hasComputedStyle:b};return h.dom.animator=s(h),
h}function g(e,n,o,i){function r(e,o,i){var r=t.element(e)[0]||e;!r||r.hasAttribute(o)&&0!==r.getAttribute(o).length||d(r,o)||(i=t.isString(i)?i.trim():"",i.length?e.attr(o,i):n.warn('ARIA: Attribute "',o,'", required for accessibility, is missing on node:',r))}rn{expect:r,expectAsync:a,expectWithText:s}}unction b(n,o,i){ l=navigator.userAgent||navigator.vendor||e.opera,d=l.match(/ipad|iphone|ipod/i),c=l.match(/android/i),u="undefined"!=typeof e.jQuery&&t.element===e.jQuery,m={handler:s,register:a,isHijackingClicks:(d||c)&&!u&&!W};if(m.isHijackingClicks){var p=6;m.handler("click",{options:{maxDistance:p},onEnd:r("click")}),m.handler("focus",{options:{maxDistance:p},onEnd:function(e,t){function n(e){var t=["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"];return"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("DISABLED")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||t.indexOf(e.nodeName)!=-1)}t.distance<this.state.options.maxDistance&&n(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),m.handler("mouseup",{options:{maxDistance:p},onEnd:r("mouseup")}),m.handler("mousedown",{onStart:)}return m.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:).handler("hold",{options:{maxDistance:6,delay:500},onCancel:onStart:onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,o=this.state.pos.y-t.y;Math.sqrt(n*n+o*o)>this.options.maxDistance&&this.cancel()},onEnd:).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:onMove:function(e,t){var n,o;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,o=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,o=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=E(e),C(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):o&&this.cancel())},dispatchDragMove:o.throttle(,onEnd:).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:)}unction v(){unction o(t,n,o){o=o||V;var i;"click"===n||"mouseup"==n||"mousedown"==n?(i=document.createEvent("MouseEvents"),i.initMouseEvent(n,!0,!0,e,t.detail,o.x,o.y,o.x,o.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(n,!0,!0,{})),i.$material=!0,i.pointer=o,i.srcEvent=t,o.target.dispatchEvent(i)}var i="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return h.prototype={options:{},dispatchEvent:i?n:o,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:move:end:cancel:getNearestParent:registerElement:function(e,t){function n(){delete e[0].$mdGesture[o.name],e.off("$destroy",n)}var o=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},h}function y(e,n){unction i(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||_(e)?(Y=null,"label"==e.target.tagName.toLowerCase()&&(Y={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),Y=null)}ment.contains||(document.contains=,!z&&e.isHijackingClicks&&(document.addEventListener("click",i,!0),document.addEventListener("mouseup",o,!0),document.addEventListener("mousedown",o,!0),document.addEventListener("focus",o,!0),z=!0);var d="mousedown touchstart pointerdown",c="mousemove touchmove pointermove",u="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(d,a).on(c,s).on(u,l).on("$$mdGestureReset",}ion S(e,n,o,i,r){this.compile=function(a){var s=a.templateUrl,l=a.template||"",d=a.controller,c=a.controllerAs,u=t.extend({},a.resolve||{}),m=t.extend({},a.locals||{}),p=a.transformTemplate||t.identity,g=a.bindToController;return t.forEach(u,,t.extend(u,m),s?u.$template=n(s).then(function(e){return e}):u.$template=e.when(l),e.all(u).then(function(e){var n,o=p(e.$template,a),s=a.element||t.element("<div>").html(o.trim()).contents(),l=i(s);return n={locals:e,element:s,link:function(o){if(e.$scope=o,d){var i=r(d,e,!0);g&&t.extend(i.instance,e);var a=i();s.data("$ngControllerController",a),s.children().data("$ngControllerController",a),c&&(o[c]=a),n.controller=a}return l(o)}}})}}function M(){function e(e){a=["onHide","onShow","onRemove"],s={},l={presets:{}},d={setDefaults:n,addPreset:i,addMethod:o,$get:r};return d.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),r.$inject=["$$interimElement","$injector"],d}function o(e,o,i,r,a,s,l,d,c,u,m){return function(){function p(e){e=e||{};var t=new h(e||{}),n=!e.skipHide&&E.length?v.cancel():o.when(!0);return n["finally"](function(){E.push(t),t.show()["catch"](function(e){return e})}),t.deferred.promise}function g(e,t){function i(n){return n.remove(e,!1,t||{})["catch"](function(e){return e}),n.deferred.promise}if(!E.length)return o.when(e);if(t=t||{},t.closeAll){var r=o.all(E.reverse().map(i));return E=[],r}if(t.closeTo!==n)return o.all(E.splice(t.closeTo).map(i));var a=E.pop();return i(a)}function f(e,n){var i=E.pop();return i?(i.remove(e,!0,n||{})["catch"](,i.deferred.promise["catch"](t.noop)):o.when(e)}function b(e){var n=e?null:E.shift(),i=t.element(e).length?t.element(e)[0].parentNode:null;if(i){var r=E.filter(function(e){var t=e.options.element[0];return t===i});r.length>0&&(n=r[0],E.splice(E.indexOf(n),1))}return n?n.remove(y,!1,{$destroy:!0}):o.when(y)}function h(m){function p(){return o(function(e,t){(m).then(function(t){k=h(t,m),S=T(k,m,t.controller).then(e,n)},n)})}function g(e,n,i){function r(e){C.deferred.resolve(e)}eturn k?(m=t.extend(m||{},i||{}),m.cancelAutoHide&&m.cancelAutoHide(),m.element.triggerHandler("$mdInterimElementRemove"),m.$destroy===!0?_(m.element,m).then(function(){n&&a(e)||r(e)}):(o.when(S)["finally"](function(){_(m.element,m).then(a)}),C.deferred.promise)):o.when(!1)}ion T(e,n,i){var r=n.onShowing||t.noop,a=n.onComplete||t.noop;return r(n.scope,e,n,i),o(}function _(e,n){var o=n.onRemoving||t.noop;return i(function(t,r){try{var a=i.when(n.onRemove(n.scope,e,n)||!0);o(e,a),1==n.$destroy?t(e):a.then(r)}catch(s){r(s)}})}var C,k,S=o.when(!0);return m=f(m),C={options:m,deferred:o.defer(),show:p,remove:g}}var v,y=!1,E=[];return v={show:p,hide:g,cancel:f,destroy:b,$injector_:m}}}return e.$get=o,o.$inject=["$document","$q","$$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector"],e}on I(e){ion l(e,o){unction r(n,r){function a(){return l=r.controller("mdTheme")||n.data("$mdThemeController"),l&&l.$mdTheme||("default"==u?"":u)}ar l=r.controller("mdTheme"),d=n.attr("md-theme-watch"),c=(m||t.isDefined(d))&&"false"!=d;s(a()),n.on("$destroy",c?e.$watch(a,s):t.noop)}var a=return a.THEMES=t.extend({},c),a.PALETTES=t.extend({},Q),a.inherit=r,a.registered=i,a.defaultTheme=a.generateTheme=a}Q={};var d,c={},u="default",m=!1;return t.extend(Q,e),l.$inject=["$rootScope","$log"],d={definePalette:o,extendPalette:i,theme:a,disableTheming:setNonce:function(e){me=e},setDefaultTheme:function(e){u=e},alwaysWatchTheme:function(e){m=e},generateThemesOnDemand:$get:l,_LIGHT_DEFAULT_HUES:le,_DARK_DEFAULT_HUES:de,_PALETTES:Q,_THEMES:c,_parseRules:F,_rgba:H}}function O(e,n,o){return{priority:100,link:{pre:function(i,r,a){var s=[],l={registerChanges:$setTheme:function(t){e.registered(t)||o.warn("attempted to use unregistered theme '"+t+"'"),l.$mdTheme=t,s.forEach(function(e){e()})}};r.data("$mdThemeController",l),l.$setTheme(n(a.mdTheme)(i)),a.$observe("mdTheme",l.$setTheme)}}}}unction F(e,n,o){q(e,n),o=o.replace(/THEME_NAME/g,e.name);var i=[],r=e.colors[n],a=new RegExp(".md-"+e.name+"-theme","g"),s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),l=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,d=Q[r.name];return o=o.replace(l,,t.forEach(r.hues,function(t,n){var r=o.replace(s,;if("default"!==n&&(r=r.replace(a,".md-"+e.name+"-theme.md-"+n)),"default"==e.name){var l=/((?:(?:(?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)+) )?)((?:(?:\w|\.|-)+)?)\.md-default-theme((?: |>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;r=r.replace(l,function(e,t,n,o){return e+", "+t+n+o})}i.push(r)}),i}function L(e,n){function o(e,n){var o=e.contrastDefaultColor,i=e.contrastLightColors||[],r=e.contrastStrongLightColors||[],a=e.contrastDarkColors||[];"string"==typeof i&&(i=i.split(" ")),"string"==typeof r&&(r=r.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(n,s){f(!t.isObject(n)){var d=U(n);if(!d)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",e.name).replace("%3",s));e[s]={value:d,contrast:l()}}})}var i=document.head,r=i?i.firstElementChild:null,a=!pe&&e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(r&&0!==a.length){t.forEach(Q,o);var s=a.split(/\}(?!(\}|'|"|;))/).filter(.map(,l=new RegExp("md-("+ae.join("|")+")","g");ae.forEach(function(e){ge[e]=""}),s.forEach(,ue||t.forEach(n.THEMES,function(e){Z[e.name]||"default"!==n.defaultTheme()&&"default"===e.name||$(e,e.name,me)})}}tion B(n,o,i,r,a){var s;return s={translate3d:function(e,t,n,o){function i(n){return a(e,{to:n||t,addClass:o.transitionOutClass,removeClass:o.transitionInClass}).start()}return a(e,{from:t,to:n,addClass:o.transitionInClass,removeClass:o.transitionOutClass}).start().then(function(){return i})},waitTransitionEnd:calculateTransformValues:calculateZoomToOrigin:function(e,o){var i="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",r=t.bind(null,n.supplant,i);return r(s.calculateTransformValues(e,o))},calculateSlideToOrigin:toCss:function(e){ar o={},i="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,a){if(!t.isUndefined(e))if(i.indexOf(a)>=0)o[a]=e+"px";else switch(a){case"transition":n(a,r.CSS.TRANSITION,e);break;case"transform":n(a,r.CSS.TRANSFORM,e);break;case"transformOrigin":n(a,r.CSS.TRANSFORM_ORIGIN,e)}}),o},toTransformCss:copyRect:clientRect:centerPointFor:}t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.gestures","material.core.theming"]).config(i).run(o),o.$inject=["$log","$injector"],i.$inject=["$provide","$mdThemingProvider"],r.$inject=["$delegate"],t.module("material.core").directive("mdAutofocus",a).directive("mdAutoFocus",a).directive("mdSidenavFocus",a),t.module("material.core").factory("$mdColorUtil",l),t.module("material.core").factory("$mdConstant",d),d.$inject=["$sniffer"],t.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=c,e}])}]),t.module("material.core").factory("$mdMedia",u),u.$inject=["$mdConstant","$rootScope","$window"],t.module("material.core").config(["$provide",);var G=0;t.module("material.core").factory("$mdUtil",p),p.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window"],t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||t.module("material.core").service("$mdAria",g),g.$inject=["$$rAF","$log","$window","$interpolate"];var V,j,K={},W=!1,Y=null,z=!1;t.module("material.core.gestures",[]).provider("$mdGesture",f).factory("$$MdGestureHandler",v).run(y),f.prototype={skipClickHijack:function(){return W=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",},b.$inject=["$$MdGestureHandler","$$rAF","$timeout"],y.$inject=["$mdGesture","$$MdGestureHandler"],t.module("material.core").service("$mdCompiler",S),S.$inject=["$q","$templateRequest","$injector","$compile","$controller"],t.module("material.core").provider("$$interimElement",M),function(){function e(e){ar l=/^((?:x|data)[\:\-_])/i,d=/([\:\-\_]+(.))/g,c=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],u=["layout","flex","flex-order","flex-offset","layout-align"],m=["show","hide","layout-padding","layout-margin"];t.forEach(c,,e.directive("mdLayoutCss",n).directive("ngCloak",o("ng-cloak")).directive("layoutWrap",r("layout-wrap")).directive("layoutNowrap",r("layout-nowrap")).directive("layoutNoWrap",r("layout-no-wrap")).directive("layoutFill",r("layout-fill")).directive("layoutLtMd",s("layout-lt-md",!0)).directive("layoutLtLg",s("layout-lt-lg",!0)).directive("flexLtMd",s("flex-lt-md",!0)).directive("flexLtLg",s("flex-lt-lg",!0)).directive("layoutAlignLtMd",s("layout-align-lt-md")).directive("layoutAlignLtLg",s("layout-align-lt-lg")).directive("flexOrderLtMd",s("flex-order-lt-md")).directive("flexOrderLtLg",s("flex-order-lt-lg")).directive("offsetLtMd",s("flex-offset-lt-md")).directive("offsetLtLg",s("flex-offset-lt-lg")).directive("hideLtMd",s("hide-lt-md")).directive("hideLtLg",s("hide-lt-lg")).directive("showLtMd",s("show-lt-md")).directive("showLtLg",s("show-lt-lg"))}function n(){return{restrict:"A",priority:"900",compile:function(e,n){return k.enabled=!1,t.noop}}}ction a(e,n){var o;return function(i){var r=d(n,i||"");t.isDefined(r)&&(o&&e.removeClass(o),o=r?n+"-"+r.replace(y,"-"):n,e.addClass(o))}}nction d(e,n,o){var i=n;if(!u(n)){switch(e.replace(v,"")){case"layout":p(n,T)||(n=T[0]);break;case"flex":p(n,E)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":n&&!isNaN(+n)||(n="0");break;case"layout-align":var r=g(n);n=f.supplant("{main}-{cross}",r);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":n=""}n!=i&&(o||t.noop)(n)}return n}nction m(e,t,n){var o=t.$normalize(e);return t[o]?t[o].replace(y,"-"):n||null}unction g(e){var t,n={main:"start",cross:"stretch"};return e=e||"",0!=e.indexOf("-")&&0!=e.indexOf(" ")||(e="none"+e),t=e.toLowerCase().trim().replace(y,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),_.indexOf(n.main)<0&&(n.main="start"),C.indexOf(n.cross)<0&&(n.cross="stretch"),n}var f,b,h,v=/(-gt)?-(sm|md|lg|print)/g,y=/\s+/g,E=["grow","initial","auto","none","noshrink","nogrow"],T=["row","column"],_=["","start","center","end","stretch","space-around","space-between"],C=["","start","center","end","stretch"],k={enabled:!0,breakpoints:[]};e(t.module("material.core.layout",["ng"]))}(),t.module("material.core").factory("$mdComponentRegistry",A),A.$inject=["$log","$q"],function(){.module("material.core").factory("$mdButtonInkRipple",e),e.$inject=["$mdInkRipple"]}(),function(){.module("material.core").factory("$mdCheckboxInkRipple",e),e.$inject=["$mdInkRipple"]}(),function(){function e(e){function n(n,o,i){return e.attach(n,o,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}return{attach:n}}t.module("material.core").factory("$mdListInkRipple",e),e.$inject=["$mdInkRipple"]}(),t.module("material.core").provider("$mdInkRipple",x).directive("mdInkRipple",w).directive("mdNoInk",P).directive("mdNoBar",P).directive("mdNoStretch",P);var X=450;w.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],N.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],
N.prototype.color=N.prototype.calculateColor=function(){return this.color()},N.prototype._parseColor=N.prototype.bindEvents=N.prototype.handleMousedown=N.prototype.handleMouseup=function(){D(this,this.clearRipples)},N.prototype.handleTouchmove=N.prototype.deleteRipples=N.prototype.clearRipples=N.prototype.createContainer=N.prototype.clearTimeout=N.prototype.isRippleAllowed=N.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},N.prototype.createRipple=N.prototype.fadeInComplete=N.prototype.removeRipple=function(e){var t=this,n=this.ripples.indexOf(e);n<0||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},X,!1))},N.prototype.fadeOutComplete=function(){.module("material.core").factory("$mdTabInkRipple",e),e.$inject=["$mdInkRipple"]}(),t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}}),t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",O).directive("mdThemable",R).provider("$mdTheming",I).run(L);var Q,Z={},J={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},ee={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},te="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",ne="",oe=U("rgba(0,0,0,0.87)"),ie=U("rgba(255,255,255,0.87)"),re=U("rgb(255,255,255)"),ae=["primary","accent","warn","background"],se="primary",le={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},de={background:{"default":"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};ae.forEach(;var ce=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],ue=!1,me=null,pe=!1;I.$inject=["$mdColorPalette"],O.$inject=["$mdTheming","$interpolate","$log"],R.$inject=["$mdTheming"];var ge={};L.$inject=["$injector","$mdTheming"],t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",),t.version.minor>=4?t.module("material.core.animate",[]):!function(){ar n=t.forEach,o=t.isDefined(document.documentElement.style.WebkitAppearance),i=o?"-webkit-":"",r=(o?"webkitTransitionEnd ":"")+"transitionend",a=(o?"webkitAnimationEnd ":"")+"animationend",s=["$document",,l=["$$rAF",,d=["$q","$$rAFMutex",function(e,o){ar r=0,a=1,s=2;return i.prototype={setHost:done:progress:t.noop,getPromise:then:"catch":function(e){return this.getPromise()["catch"](e)},"finally":pause:function(){this.host.pause&&this.host.pause()},resume:end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:complete:_resolve:,i}];t.module("material.core.animate",[]).factory("$$forceReflow",s).factory("$$AnimateRunner",d).factory("$$rAFMutex",l).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",)}(),)}(window,window.angular),function(e,t,n){"use strict";function o(e,n,o,i,r,a){function s(s,d){var c=s.children(),u=r.parseAttributeBoolean(d.mdIndeterminate);return d.$set("tabindex",d.tabindex||"0"),d.$set("type","checkbox"),d.$set("role",d.type),s.on("click",,c.on("focus",function(){s.focus()}),function(s,d,c,m){unction g(e){var t=e.which||e.keyCode;t!==o.KEY_CODE.SPACE&&t!==o.KEY_CODE.ENTER||(e.preventDefault(),d.hasClass("md-focused")||d.addClass("md-focused"),f(e))}function f(e){d[0].hasAttribute("disabled")||s.$apply(function(){var t=c.ngChecked?c.checked:!m.$viewValue;m.$setViewValue(t,e&&e.type),m.$render()})}function b(){m.$viewValue&&!v?d.addClass(l):d.removeClass(l)}ar v;m=m||r.fakeNgModel(),i(d),u&&(h(),s.$watch(c.mdIndeterminate,h)),c.ngChecked&&s.$watch(s.$eval.bind(s,c.ngChecked),m.$setViewValue.bind(m)),p("ngDisabled","tabindex",{"true":"-1","false":c.tabindex}),n.expectWithText(d,"aria-label"),e.link.pre(s,{on:t.noop,0:{}},c,[m]),s.mouseActive=!1,d.on("click",f).on("keypress",g).on("mousedown",.on("focus",function(){s.mouseActive===!1&&d.addClass("md-focused")}).on("blur",function(){d.removeClass("md-focused")}),m.$render=b}}e=e[0];var l="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="_md-container" md-ink-ripple md-ink-ripple-checkbox><div class="_md-icon"></div></div><div ng-transclude class="_md-label"></div>',compile:s}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",o),o.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(window,window.angular),function(e,t,n){"use strict";function o(e,n,o,i){nction s(){return{init:add:function(e){this._radioButtonRenderFns.push(e)},remove:render:setViewValue:getViewValue:selectNext:selectPrevious:setActiveDescendant:}eturn a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:r}}}function i(e,t,n){function o(o,r,a,s){function l(e){if(!s)throw"RadioGroupController not found.";s.add(c),a.$observe("value",c),r.on("click",d).on("$destroy",function(){s.remove(c)})}function d(e){r[0].hasAttribute("disabled")||o.$apply(}function c(){function e(e){"MD-RADIO-GROUP"!=r.parent()[0].nodeName&&r.parent()[e?"addClass":"removeClass"](i)}var t=s.getViewValue()==a.value;t!==m&&(m=t,r.attr("aria-checked",t),t?(e(!0),r.addClass(i),s.setActiveDescendant(r.attr("id"))):(e(!1),r.removeClass(i)))}function u(n,o){function i(){return a.id||"radio_"+t.nextUid()}o.ariaId=i(),n.attr({id:o.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var m;n(r),u(r,o),l()}var i="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="_md-container" md-ink-ripple md-ink-ripple-checkbox><div class="_md-off"></div><div class="_md-on"></div></div><div ng-transclude class="_md-label"></div>',link:o}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",o).directive("mdRadioButton",i),o.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],i.$inject=["$mdAria","$mdUtil","$mdTheming"]}(window,window.angular),function(e,t,n){"use strict";t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,t,n,o,i,r,a,s){function l(t,l,c){n.pin&&n.pin(l,o),a(function(){var t=i.getComputedStyle(s[0].body);if("fixed"==t.position){var n=parseInt(t.height,10)+Math.abs(parseInt(t.top,10));l.css({height:n+"px"})}var o=l.parent()[0];if(o){"BODY"==o.nodeName&&l.css({position:"fixed"});var a=i.getComputedStyle(o);"static"==a.position&&r.warn(d)}l.parent().length&&e.inherit(l,l.parent())})}var d="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:l}}])}(window,window.angular),function(e,t,n){"use strict";function o(e,o,i,r,a,s){function l(a,l){var d=t.element("<md-select-value><span></span></md-select-value>");if(d.append('<span class="_md-select-icon" aria-hidden="true"></span>'),d.addClass("_md-select-value"),d[0].hasAttribute("id")||d.attr("id","select_value_label_"+o.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),l.mdOnOpen&&(a.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),a.find("md-option").attr("ng-show","$$loadingAsyncDone")),l.name){var c=t.element('<select class="_md-visually-hidden">');c.attr({name:"."+l.name,"ng-model":l.ngModel,"aria-hidden":"true",tabindex:"-1"});var u=a.find("md-option");t.forEach(u,,a.parent().append(c)}var m=o.parseAttributeBoolean(l.multiple),p=m?"multiple":"",g='<div class="_md-select-menu-container" aria-hidden="true"><md-select-menu {0}>{1}</md-select-menu></div>';return g=o.supplant(g,[p,a.html()]),a.empty().append(d),a.append(g),l.tabindex||l.$set("tabindex",0),function(a,l,d,c){ion h(e){var n=[32,13,38,40];if(n.indexOf(e.keyCode)!=-1)e.preventDefault(),v(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var o=P.optNodeForKeyboardSearch(e);if(!o)return;var i=t.element(o).controller("mdOption");P.isMultiple||P.deselect(Object.keys(P.selected)[0]),P.select(i.hashKey,i.value),P.refreshViewValue()}}ar y,E,T=!0,_=c[0],C=c[1],k=c[2],S=c[3],M=l.find("md-select-value"),A=t.isDefined(d.readonly),w=o.parseAttributeBoolean(d.mdNoAsterisk);if(_){var x=_.isErrorGetter||if(_.input&&l.find("md-select-header").find("input")[0]!==_.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");_.input=l,_.label||r.expect(l,"aria-label",l.attr("placeholder")),a.$watch(x,_.setInvalid)}var N,D,P;if(b(),i(l),d.name&&S){var I=l.parent()[0].querySelector('select[name=".'+d.name+'"]');o.nextTick(function(){var e=t.element(I).controller("ngModel");e&&S.$removeControl(e)})}S&&t.isDefined(d.multiple)&&o.nextTick(;var O=k.$render;k.$render=function(){O(),p(),g(),f()},d.$observe("placeholder",k.$render),_&&_.label&&d.$observe("required",,C.setLabelText=function(e){if(C.setIsPlaceholder(!e),d.mdSelectedText)e=s(d.mdSelectedText)(a);else{var t=d.placeholder||(_&&_.label?_.label.text():"");e=e||t||""}var n=M.children().eq(0);n.html(e)},C.setIsPlaceholder=A||(l.on("focus",function(e){_&&_.element.hasClass("md-input-has-value")&&_.setFocused(!0)}),l.on("blur",),C.triggerClose=a.$$postDigest(,a.$watch(function(){return P.selectedLabels()},p);var R;d.$observe("ngMultiple",,d.$observe("disabled",,d.hasOwnProperty("disabled")||d.hasOwnProperty("ngDisabled")||(l.attr({"aria-disabled":"false"}),l.on("click",v),l.on("keydown",h));var F={role:"listbox","aria-expanded":"false","aria-multiselectable":m&&!d.ngMultiple?"true":"false"};l[0].hasAttribute("id")||(F.id="select_"+o.nextUid());var L="select_container_"+o.nextUid();N.attr("id",L),F["aria-owns"]=L,l.attr(F),a.$on("$destroy",}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:l,controller:function(){}}}function i(e,o,i){unction a(i,r,a){r d=this;d.isMultiple=t.isDefined(r.multiple),d.selected={},d.options={},i.$watchCollection(function(){return d.options},function(){d.ngModel.$render()});var u,m;d.setMultiple=function(e){ar o=d.ngModel;m=m||o.$isEmpty,d.isMultiple=e,u&&u(),d.isMultiple?(o.$validators["md-multiple"]=n,o.$render=s,i.$watchCollection(d.modelBinding,function(e){n(e)&&s(e),d.ngModel.$setPristine()}),o.$isEmpty=:(delete o.$validators["md-multiple"],o.$render=l)};var p,g,f,b="",h=300;d.optNodeForKeyboardSearch=function(e){p&&clearTimeout(p),p=setTimeout(h),b+=String.fromCharCode(e.keyCode);var o=new RegExp("^"+b,"i");g||(g=a.find("md-option"),f=new Array(g.length),t.forEach(g,);for(var i=0;i<f.length;++i)if(o.test(f[i]))return g[i]},d.init=function(n,o){if(d.ngModel=n,d.modelBinding=o,d.ngModel.$isEmpty=n.$options&&n.$options.trackBy){var r={},a=e(n.$options.trackBy);d.hashGetter=else d.hashGetter=d.setMultiple(d.isMultiple)},d.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=o.nodesToArray(a[0].querySelectorAll("md-option[selected]"));if(n.length){var i;return"html"==t?i=function(e){var t=e.innerHTML,n=e.querySelector(".md-ripple-container");return n?t.replace(n.outerHTML,""):t}:"aria"==t&&(i=,n.map(i).join(", ")}return""},d.select=d.deselect=d.addOption=function(e,n){if(t.isDefined(d.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');d.options[e]=n,t.isDefined(d.selected[e])&&(d.select(e,n.value),d.refreshViewValue())},d.removeOption=d.refreshViewValue=function(){var e,n=[];for(var o in d.selected)(e=d.options[o])?n.push(e.value):n.push(d.selected[o]);var i=d.ngModel.$options&&d.ngModel.$options.trackBy,r=d.isMultiple?n:n[0],a=d.ngModel.$modelValue;(i?t.equals(a,r):a==r)||(d.ngModel.$setViewValue(r),d.ngModel.$render())}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:a,link:{pre:r}}}function r(e,n){function o(e,n){return e.append(t.element('<div class="_md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),i}function i(o,i,r,a){r d=a[0],c=a[1];c.isMultiple&&(i.addClass("_md-checkbox-enabled"),i.prepend(u.clone())),t.isDefined(r.ngValue)?o.$watch(r.ngValue,s):t.isDefined(r.value)?s(r.value):o.$watch(s),r.$observe("disabled",,o.$$postDigest(,e.attach(o,i),l(),o.$on("$destroy",}eturn r.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:r,compile:o}}function a(){function e(e,n){unction i(){var o=e.find("label");o.length||(o=t.element("<label>"),e.prepend(o)),o.addClass("_md-container-ignore"),n.label&&o.text(n.label)}o()||i()}return{restrict:"E",compile:e}}unction l(e){function o(e,o,l,c,u,m,p,g,f){function b(e,t,n){unction i(){t.removeClass("_md-active"),t.attr("aria-hidden","true"),t[0].style.display="none",v(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?i():o().then(i)}function h(i,r,a){n k(){unction i(t){var n=o.KEY_CODE;switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case n.UP_ARROW:return c();case n.DOWN_ARROW:return d();case n.SPACE:case n.ENTER:var i=l.getClosest(t.target,"md-option");i&&(m.triggerHandler({type:"click",target:i}),t.preventDefault()),u(t);break;case n.TAB:case n.ESCAPE:t.stopPropagation(),t.preventDefault(),a.restoreFocus=!0,l.nextTick(e.hide,!0);break;default:if(t.keyCode>=31&&t.keyCode<=90){var r=m.controller("mdSelectMenu").optNodeForKeyboardSearch(t);a.focusedNode=r||a.focusedNode,r&&r.focus()}}}unction d(){s("next")}(!a.isRemoved){var m=a.selectEl,p=m.controller("mdSelectMenu")||{};return r.addClass("_md-clickable"),a.backdrop&&a.backdrop.on("click",t),m.on("keydown",i),m.on("click",u),}return C(),v(i,a),a.hideBackdrop=b(i,r,a),s(i,r,a).then(a.hideBackdrop)}unction y(e,n,o){var u,m=n[0],p=o.target[0].children[0],g=f[0].body,b=o.selectEl[0],h=o.contentEl[0],v=g.getBoundingClientRect(),y=p.getBoundingClientRect(),E=!1,T={left:v.left+d,top:d,bottom:v.height-d,right:v.width-d-(l.floatingScrollbars()?16:0)},_={top:y.top-T.top,left:y.left-T.left,right:T.right-(y.left+y.width),bottom:T.bottom-(y.top+y.height)},C=v.width-2*d,k=b.querySelector("md-option[selected]"),S=b.getElementsByTagName("md-option"),M=b.getElementsByTagName("md-optgroup"),A=s(n,h),w=i(o.loadingAsync);u=w?h.firstElementChild||h:k?k:M.length?M[0]:S.length?S[0]:h.firstElementChild||h,h.offsetWidth>C?h.style["max-width"]=C+"px":h.style.maxWidth=null,E&&(h.style["min-width"]=y.width+"px"),A&&b.classList.add("_md-overflow");var x=u;"MD-OPTGROUP"===(x.tagName||"").toUpperCase()&&(x=S[0]||h.firstElementChild||h,u=x),o.focusedNode=x,m.style.display="block";var N=b.getBoundingClientRect(),D=a(u);if(u){var P=c.getComputedStyle(u);D.paddingLeft=parseInt(P.paddingLeft,10)||0,D.paddingRight=parseInt(P.paddingRight,10)||0}if(A){var I=h.offsetHeight/2;h.scrollTop=D.top+D.height/2-I,_.top<I?h.scrollTop=Math.min(D.top,h.scrollTop+I-_.top):_.bottom<I&&(h.scrollTop=Math.max(D.top+D.height-N.height,h.scrollTop-I+_.bottom))}var O,R,F,L;E?(O=y.left,R=y.top+y.height,F="50% 0",R+N.height>T.bottom&&(R=y.top-N.height,F="50% 100%")):(O=y.left+D.left-D.paddingLeft+2,R=Math.floor(y.top+y.height/2-D.height/2-D.top+h.scrollTop)+2,F=D.left+y.width/2+"px "+(D.top+D.height/2-h.scrollTop)+"px 0px",L=Math.min(y.width+D.paddingLeft+D.paddingRight,C));var $=m.getBoundingClientRect(),q=Math.round(100*Math.min(y.width/N.width,1))/100,U=Math.round(100*Math.min(y.height/N.height,1))/100;return{container:{element:t.element(m),styles:{left:Math.floor(r(T.left,O,T.right-$.width)),top:Math.floor(r(T.top,R,T.bottom-$.height)),"min-width":L}},dropDown:{element:t.element(b),styles:{transformOrigin:F,transform:o.alreadyOpen?"":l.supplant("scale({0},{1})",[q,U])}}}}var E="$mdSelect.show() expected a target element in options.target but got '{0}'!",T=l.dom.animator;return{parent:"body",themable:!0,onShow:h,onRemove:b,hasBackdrop:!0,disableParentScroll:!0}}rn o.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],e("$mdSelect").setDefaults({methods:["target"],options:o})}var d=8,c=0,u=t.element('<div class="_md-container"><div class="_md-icon"></div></div>');t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",o).directive("mdSelectMenu",i).directive("mdOption",r).directive("mdOptgroup",a).directive("mdSelectHeader",s).provider("$mdSelect",l),o.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$compile","$parse"],i.$inject=["$parse","$mdUtil","$mdTheming"],r.$inject=["$mdButtonInkRipple","$mdUtil"],l.$inject=["$$interimElementProvider"]}(window,window.angular),function(){"use strict";var e={grading:{min:1,max:5},grading0to10:{min:0,max:10},grading1to7:{min:1,max:7},grading1to10:{min:1,max:10},nps:{min:1,max:10}},t={ACCUMULATE:"accumulate",SINAGULAR:"single"},n={EMOTICONS:"emoticons",NUMBERS:"numbers",NUMBERS_CIRCLE:"numbersCircle",SMILIES:"smilies",STARS:"stars",BARS:"bars",NUMBERS_SQUARE:"numbersSquare",GRADING_SLIDER:"gradingSlider",GRADING_DROPDOWN:"gradingDropdown"},o={emoticons:["Hate","Dislike","Neutral","Like","Love"],smilies:["Hate","Dislike","Neutral","Like","Love"],stars:["Terrible","Poor","Average","Good","Excellent"],bars:["Terrible","Poor","Average","Good","Excellent"],numbers:["Terrible","Poor","Average","Good","Excellent"],grading1to7:["Strongly Disagree","Disagree","Somewhat Disagree","Neither Agree Not Disagree","Somewhat Agree","Agree","Strongly Agree"],grading1to10:["Terrible","Extremely Poor","Very Poor","Poor","Average","Ok","Good","Very Good","Extremely Good","Excellent"],grading0to10:["Terrible","Extremely Poor","Very Poor","Poor","Below Average","Average","Good","Very Good","Great","Excellent","Outstanding"],nps:["Terrible","Extremely Poor","Very Poor","Poor","Average","Ok","Good","Very Good","Extremely Good","Excellent","Outstanding"],Default:""},i='\n<div class="neb-rating {{ $ctrl.nebFormat }}" \nng-class="[($ctrl.Provision.checkProvision(\'formTemplatesWCAG\') && \'wcag-rating-contrast\'),\t\n\t\t\t\t($ctrl.getRatingWidthClass()),\n\t\t   ($ctrl.Provision.checkProvision(\'21DCR1_MPC3199_enable_RatingLabelAlign\') && \'rating-label-align\')]"\nng-mouseleave="$ctrl.handleMouseEvent($event)">\n  <form>\n\t<span\n\t  ng-class="($ctrl.Profile.isMobileProperty() && $ctrl.getClassByRatingType())"\n      neb-rating-field\n\t  aria-required="{{$ctrl.nebRequired}}"\n      aria-labelledby="{{ $ctrl.nebLabeledBy }}"\n      aria-describedby="{{ $ctrl.nebDescribedBy }}"\n      ng-keydown="$ctrl.handleKeydown($event)"\n\t\t\tng-attr-tabindex="{{$ctrl.Provision.checkProvision(\'mobileSDKV2FixRequiredRatingFocusIssue\') ? -1 : undefined}}"\n      ng-attr-role="{{$ctrl.shouldFixIOSFocusingIssue() ? \'region\' : \'radiogroup\'}}" ng-required="{{$ctrl.nebRequired}}">\n\t   <span class="neb-rating-value" ng-repeat="value in $ctrl.ratingValues track by $index" ng-class="$ctrl.getRatingValueClass()">\n        <label class="rating-label {{ $ctrl.valueClasses[value] }}"\n          ng-mouseover="$ctrl.handleMouseEvent($event)"\n          ng-click="$ctrl.handleMouseEvent($event)"\n          data-rating-value="{{ value }}"\n          ng-class="{ on: $ctrl.nebDisable, selected: $ctrl.selectedValue === value }">\n            <span class="native-display-value-in-rating" aria-hidden="true">{{value}}</span>\n            <input aria-label="{{$ctrl.getCurrentAriaLabel(value)}}" type="radio" name="rating" ng-value="value" ng-model="$ctrl.selectedValue" ng-change="$ctrl.handleChange()"\n                    onfocus="this.parentElement.parentElement.setAttribute(\'class\',  this.parentElement.parentElement.getAttribute(\'class\')+ \' on-focus\');"\n                    onblur="this.parentElement.parentElement.setAttribute(\'class\', this.parentElement.parentElement.getAttribute(\'class\').replace(\' on-focus\', \'\'))"\n                     />\n        </label>\n      </span>\n    </span>\n  </form>\n  <div aria-hidden="true" class="edge-labels"\n   ng-class="$ctrl.Profile.isMobileProperty() && $ctrl.getClassByRatingType()"\n   ng-show="$ctrl.shouldShowAriaLabel">\n    <span id="leftEdge" ng-class="::$ctrl.getAnywhereLeftRatingClass()" >{{$ctrl.getRatingNames()[0]}}</span>\n    <span id="rightEdge" ng-class="::$ctrl.getAnywhereRightRatingClass()" >{{$ctrl.getRatingNames()[$ctrl.getRatingNames().length - 1]}}</span>\n  </div>\n</div>\n\n',r=function(){function e(e,t,n,o,i,r,a){this.$scope=e,this.$element=t,this.NebRatingService=n,this.Profile=o,this.UserAgent=i,this.Provision=r,this.$rootScope=a,3===angular.version.minor&&this.initializeDefaultValues(),DigProvisions.RATING_ORIENTATION_CHANGE&&!i.isDesktop()&&window.addEventListener("resize",this.$scope.$evalAsync.bind(e))}return e.prototype.initializeDefaultValues=function(){var e=this;this.ngModel=this.$element.controller("ngModel"),this.ratingValues=this.getRatingValues(),this.nebFormat=this.nebFormat||n.NUMBERS_SQUARE,this.nebSelectionStyle=this.nebSelectionStyle||t.ACCUMULATE,this.minValue=Number(this.minValue)||0,this.maxValue=Number(this.maxValue)||10,this.selectedValue=this.minValue-1,this.valueClasses=["zero","one","two","three","four","five","six","seven","eight","nine","ten"],setTimeout(,this.ratingType=this.NebRatingService.getRatingType(this.nebFormat,this.minValue,this.maxValue,this.nebRatingType)},e.prototype.$onInit=function(){this.initializeDefaultValues()},e.prototype.initRatingValue=function(){this.selectedValue=this.ngModel&&this.ngModel.$modelValue?this.ngModel.$modelValue:this.minValue-1,this.selectedValue!==this.minValue-1&&(this.handleChange(),this.markLabels(this.selectedValue,this.nebSelectionStyle))},e.prototype.getClassByRatingType=function(){return this.ratingType===FormComponents.GRADING1TO7&&"grading-one-to-seven-container"},e.prototype.getAnywhereRightRatingClass=function(){return this.Profile.isAnywhereProperty()&&"anywhere-right-rating-label"},e.prototype.getAnywhereLeftRatingClass=function(){return this.Profile.isAnywhereProperty()&&"anywhere-left-rating-label"},e.prototype.getRatingValueClass=function(){if(this.Profile.isAnywhereProperty())return"neb-rating-value-anywhere";if(this.Profile.isWebsiteProperty()){if(!this.Provision.checkProvision(DigProvisions.RESPONSIVE_RATING_COMPONENT))return"";var e=null!=this.$rootScope.getFormWidthMode?this.$rootScope.getFormWidthMode():void 0;return e?"neb-rating-".concat(e,"-size"):""}},e.prototype.shouldFixIOSFocusingIssue=function(){return this.Provision.checkProvision(DigProvisions.MOBILE_SDKV2_FIX_REQUIRED_RATING_FOCUS_ISSUE)&&this.Profile.getPropertyType()===PropertyTypes.IOS},e.prototype.getRatingWidthClass=function(){if(!this.Profile.isWebsiteProperty()||!this.Provision.checkProvision(DigProvisions.RATING_LABEL_ALIGN))return"";var e=null!=this.$rootScope.getFormWidthMode?this.$rootScope.getFormWidthMode():void 0;return e?"neb-rating-".concat(e,"-width"):""},e.prototype.isPositiveValue=e.prototype.getRatingNames=e.prototype.getCurrentAriaValue=function(){if(this.ngModel.$modelValue&&this.selectedValue!==this.ngModel.$modelValue&&(this.selectedValue=this.ngModel.$modelValue,this.markLabels(this.selectedValue,this.nebSelectionStyle)),this.selectedValue<parseInt(this.minValue)||void 0===this.selectedValue)return this.minValue+"to"+this.maxValue;var e=this.selectedValue+",",t=this.getRatingNames();return t&&t[this.selectedValue-parseInt(this.minValue)]&&(e+=t[this.selectedValue-parseInt(this.minValue)]+","),e+=this.selectedValue+" of "+this.maxValue},e.prototype.toggleAriaChecked=function(e){var t=e.currentTarget;if(t&&t.getAttribute("aria-checked")){var n=t.getAttribute("aria-checked").toLowerCase();(e.type===eventTypes.CLICK||e.type===eventTypes.MOUSE_OVER||e.type===eventTypes.KEYDOWN&&32===e.keyCode)&&("true"===n?t.setAttribute("aria-checked","false"):t.setAttribute("aria-checked","true"),e.stopPropagation())}},e.prototype.getCurrentAriaLabel=function(e){var t=this.getRatingNames();return this.shouldShowAriaLabel?"".concat(e,",").concat(t[e-parseInt(this.minValue)]):e},e.prototype.handleChange=function(){this.selectedValue=Number(this.selectedValue),this.ngModel.$setViewValue(this.selectedValue),this.ngModel.$commitViewValue()},e.prototype.handleMouseEvent=function(e){if(!this.nebReadOnly){var t=Number(angular.element(e.currentTarget).attr("data-rating-value"))||0;
e.type===eventTypes.MOUSE_LEAVE&&(t=this.selectedValue),this.markLabels(t,this.nebSelectionStyle,"mouseover"===e.type),this.toggleAriaChecked(e)}},e.prototype.handleKeydown=function(e){var t=this.selectedValue||this.minValue-1;39===e.keyCode&&t<this.maxValue?this.selectedValue++:37===e.keyCode&&t>=this.minValue&&this.selectedValue--,this.markLabels(this.selectedValue,this.nebSelectionStyle),t!==this.selectedValue&&this.handleChange()},e.prototype.markLabels=function(e,n,o){void 0===o&&(o=!1);var i=Number(e);if(isNaN(i)||this.nebDisable)return!1;var r=o&&this.Profile.isWebsiteProperty();angular.forEach($(".rating-label",this.$element),function(e){var o=Number(angular.element(e).attr("data-rating-value"));o<=i&&n===t.ACCUMULATE?(e.classList.add(r?"hover":"on"),e.classList.remove(r?"on":"hover")):o===i&&n===t.SINAGULAR?(e.classList.add(r?"hover":"on"),e.classList.remove(r?"on":"hover")):(e.classList.remove("on"),e.classList.remove("hover"))})},e.prototype.getRatingValues=function(){for(var e=[],t=Number(this.minValue);t<=this.maxValue;t++)e.push(t);return e},e.$inject=["$scope","$element","NebRatingService","Profile","UserAgent","Provision","$rootScope"],e}(),a=function(){function e(){this.restrict="E",this.controller="nebRatingCtrl",this.controllerAs="$ctrl",this.bindToController=!0,this.template=i,this.scope={minValue:"@",maxValue:"@",nebTabindex:"@",nebLabeledBy:"@",nebDescribedBy:"@",nebSelectionStyle:"=",nebDisable:"=",nebFormat:"=",customLabels:"=",shouldShowAriaLabel:"=",nebReadOnly:"=",nebRatingType:"@",nebRequired:"@"}}return e}(),s=angular.module("nebRating.module",[]);s.controller("nebRatingCtrl",r).service("NebRatingService",[function(){this.getRatingType=function(e,t,o,i){if(i===FormComponents.GRADING0TO10)return i;switch(e){case n.NUMBERS_SQUARE:case n.NUMBERS_CIRCLE:case n.GRADING_DROPDOWN:case n.GRADING_SLIDER:if(0===t)return FormComponents.NPS;if(1===t&&10===o)return FormComponents.GRADING1TO10;if(1===t&&7===o)return FormComponents.GRADING1TO7;default:return e}},this.getNebRatingMaxValue=function(e){switch(e){case FormComponents.NPS:case FormComponents.GRADING0TO10:case FormComponents.GRADING1TO10:return 10;case FormComponents.GRADING1TO5:return 5;case FormComponents.GRADING1TO7:return 7}throw Error("invalid nebFormat")},this.getNebRatingMinValue=function(e){if([FormComponents.GRADING1TO5,FormComponents.GRADING1TO10,FormComponents.GRADING1TO7].indexOf(e)!==-1)return 1;if([FormComponents.NPS,FormComponents.GRADING0TO10].indexOf(e)!==-1)return 0;throw Error("invalid nebFormat")},this.getTypeScale=function(t){return _.clone(e[t])},this.isGradingComponent=]).directive("nebRating",,s.constant("NEB_RATING_DEFAULT_LABELS",o)}(),function(){function e(e){function t(t){var n=!!e.getProvisions();return n?t?DigClassNamePrefix.FORM_LANGUAGE+t:null:void 0}return{getClassNameByFormLanguage:t}}angular.module("nebLocalization",[]).service("Localization",e),e.$inject=["Provision"]}(),function(){"use strict";window.app=angular.module("liveForm",["ngAnimate","ui.bootstrap","builder","builder.components","ngSanitize","ui.select","nebUtils","nebProvision","NebHttp","profile.module","contractValidator.module","material.components.checkbox","material.components.radioButton","material.components.select","nebRating.module","NebRole.module","NebProperty.module","nebLocalization"])}(),function(){"use strict";function e(e,t,n,o,i,r){r.init(),e.$on("NebProfileArrived",function(e,r){if(t.getNestedProperty(r,"propertyType"))switch(r.propertyType.toLowerCase()){case"website":n.init();break;case"mobileandroid":o.init();break;case"mobileios":i.init()}})}app.config(["$httpProvider",function(e){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}]),app.config(["$tooltipProvider",),app.config(["$sceDelegateProvider",function(e){e.resourceUrlWhitelist(["self",(window.kplConfig?window.kplConfig.prefix:"")+"**"]),e.resourceUrlBlacklist([])}]),e.$inject=["$rootScope","Common","webInterface","androidInterface","iosInterface","eventDispatcher"],app.run(e)}();var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},__assign.apply(this,arguments)},KAMPYLE_TRIGGER_TYPES={CODE:"code",LIVE:"live"},RATING1TO10_TYPE={SLIDER:"gradingSlider",DROPDOWN:"gradingDropdown",NUMBERS_SQUARE:"numbersSquare"},COMPONENT_QUESTION_TYPES={RATING:"RATING",VERBATIM:"VERBATIM",SELECTION:"SELECTION"};!function(){"use strict";function e(e,t,n,o,i,r,a,s,l,d,c,u,m,p,g,f,b,h,v,y,E,T,_,C,k){function S(){b.subscribe("extraDataArrived",t.handleExtraDataEvent),b.subscribe("screenCaptureTaken",t.handleScreenCaptureEvent),b.subscribe("customParamsLoaded",t.setShownStateData),b.subscribe("screenCaptureLoaded",A),b.subscribe("setFormStyle",M)}function M(e,n){var o=(n.action,n.data);o=o||{},t.selectedFormKampyle.settings.formBasicSettings.heightPX=o.height||t.selectedFormKampyle.settings.formBasicSettings.heightPX,t.selectedFormKampyle.settings.formBasicSettings.widthPX=o.width||t.selectedFormKampyle.settings.formBasicSettings.widthPX,t.selectedFormKampyle.settings.formBasicSettings.isFixedSize="boolean"==typeof o.shouldBeStatic?o.shouldBeStatic:t.selectedFormKampyle.settings.formBasicSettings.isFixedSize}function A(){i(function(){t.isScreenCaptureLoaded=!0,m.checkProvision(DigProvisions.SCREEN_CAPTURE_AS_COMPONENT)&&h.setScreenCaptureLoaded()})}function w(e){return Math.abs(window.scrollY-e.getBoundingClientRect().top)}function x(e){for(var t=["select","radio","checkbox"],n=0;n<e.pages.length;n++)for(var o=0;o<e.pages[n].dynamicData.length;o++)t.indexOf(e.pages[n].dynamicData[o].component)!==-1&&null!=e.pages[n].dynamicData[o].optionsById&&e.pages[n].dynamicData[o].optionsById.length>0&&(e.pages[n].dynamicData[o].options=angular.copy(e.pages[n].dynamicData[o].optionsById),e.pages[n].dynamicData[o].optionsById=null)}function N(){u.setNestedProperty(t,"selectedFormKampyle.settings.formBasicSettings.isFixedSize",angular.copy(t.originalIsFixedSize))}function D(){function a(){t.isMobile&&(p.isIos9()&&setTimeout(2),angular.element("md-slider").children().blur(function(e){angular.element(e.target).parent().addClass("_md-active")}),p.isIos()&&angular.element("md-slider").on("touchstart",function(e){return e.preventDefault()}))}function s(e){return!h.isRatingField(e)&&e!==FormComponents.SELECT&&e!==FormComponents.RADIO&&e!==FormComponents.TEXT_INPUT&&e!==FormComponents.TEXT_AREA&&e!==FormComponents.EMAIL_INPUT}function c(e,t){var n=e.getAttribute(t);e.setAttribute(t,""),e.addEventListener("blur",}function g(e,t){switch(h.isRatingField(t)&&(e=e.querySelector(".neb-rating-value .rating-label input")||e),t){case FormComponents.RADIO:e=e.querySelector(".neb-native-radio .radio-option input")||e;break;case FormComponents.SELECT:e=e.getElementsByTagName("select")[0];var n=e.querySelector("[selected='selected']");c(n,"aria-label");break;case FormComponents.TEXT_INPUT:e=e.getElementsByTagName("input")[0],c(e,"placeholder");break;case FormComponents.TEXT_AREA:e=e.getElementsByTagName("textarea")[0],c(e,"placeholder");break;case FormComponents.EMAIL_INPUT:e=e.getElementsByTagName("input")[0],c(e,"placeholder")}return e}function y(){return m.checkProvision(DigProvisions.ALTERNATIVE_UUID)?u.generateAlternativeUuid():u.generateUuid()}unction C(){var e=L(),t=U(),n=q();return{nps:e,grading:e,grading0to10:e,grading1to7:e,grading1to10:e,checkbox:n,radio:n,select:n,textInput:t,textArea:t,date:t,emailInput:t}}t.handleExtraDataEvent=function(n,o){var s=u.getNestedProperty(o,"provisions")||{};m.setProvisions(s);var l=m.checkProvision(DigProvisions.ENABLE_CLIENT_HINTS),d=l&&u.getNestedProperty(navigator,"userAgentData.platform");if(d&&navigator.userAgentData.getHighEntropyValues(o.clientHints||[]).then(function(e){t.clientHintsValues=e})["catch"](console.warn),m.checkProvision(DigProvisions.SEPARATE_FORM_TEMPLATE_FROM_DATA)&&f.isWebProperty()){var c=u.getNestedProperty(o,"formData")||{},p=__assign(__assign({},c),{formLanguage:u.getNestedProperty(o,"formLanguage")});t.setFormData(p),r.register("required",{invoke:"watch",validator:/.+/,error:u.getNestedProperty(window.formJson,"settings.formAdvanceSettings.requiredErrorMsg")||"This Field is Required."}),r.register("email",{invoke:"blur",validator:/^(|(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))$/,error:u.getNestedProperty(window.formJson,"settings.formAdvanceSettings.emailValidationErrorMsg")||"A valid email address is required. For example: 'name@example.com'"}),t.initFormData(),m.checkProvision(DigProvisions.HIDE_SURVEY_UNTIL_CSS_LOADED)&&k.showSpinner(o.customCssUpload,t.selectedFormKampyle)}u.getNestedProperty(o,j)&&h.setIsRtl(!0),i(function(){var n="selectedFormKampyle.formLanguage";t.formLanguage=u.getNestedProperty(t,n)||"en",t.submitUrlPrefix=o.submitUrlPrefix,t.submitUrlSuffix=o.submitUrlSuffix,t.submitUrlWithBackendUUID=o.submitUrlWithBackendUUID,t.globalResourcesUrl=o.globalResourcesUrl,t.versionedResourcesUrl=o.versionedResourcesUrl,t.uuid=o.uuid||y(),h.setFeedbackCorrelationUUID(t.uuid),t.displayType=o.displayType,t.mobileDeviceData=u.getNestedProperty(o,"deviceData"),t.secretToken=u.getNestedProperty(o,"secretToken"),t.endUserIdentifier=o.endUserIdentifier,t.selectedFormKampyle.integrations=t.selectedFormKampyle.integrations||{},o.integrations&&(t.selectedFormKampyle.integrations=o.integrations),t.selectedFormKampyle.screenCapture=u.getNestedProperty(o,"screenCapture")||{},t.screenCaptureOnsiteEnabled=o.isScreenCaptureEnabled,_.injectCustomParametersInForm(),t.triggerType=o.triggerType||DISPLAY_MODE.LIVE,t.url=decodeURIComponent(o.url),m.checkProvision("onPremHybrid")&&(t.onPremPackageVersion=o.onPremPackageVersion||null),f.setWebsiteId(o.websiteId),f.setCustomCss(o.customCssUpload),u.setNestedProperty(e,"isCustomCssAvailable",k.isCustomCssAvailableCheck(f.isCustomCss()));var i=null;i=m.checkProvision(DigProvisions.BACKEND_GENERATED_UUID)?{formId:t.formId||null,feedbackCorrelationUUID:t.uuid}:{formId:t.formId||null,uuid:t.uuid,feedbackUUID:t.uuid},b.trigger("setInterfaceData",i),t.sendPageMessage(),a()},0,!0)},t.setScreenCaptureTaken=function(){t.selectedFormKampyle.integrations&&t.selectedFormKampyle.integrations.screenCapture&&(t.selectedFormKampyle.integrations.screenCapture.isTaken=!0,$(".tooltip").hide())},t.handleScreenCaptureEvent=t.getFormLanguage=t.setShownStateData=function(e,n){t.selectedFormKampyle=t.selectedFormKampyle||{},t.selectedFormKampyle.customParams=n.customParams||null,T.setCustomParams(n.customParams),_.injectCustomParametersInForm(),t.triggerType=t.triggerType||n.triggerType||DISPLAY_MODE.LIVE},t.addIdByInternalName=function(e,n){return angular.forEach(t.selectedFormKampyle.pages[n].dynamicData,function(t,n){if(t.unique_name===e.unique_name)return e.id=t.id,e}),e},t.get0To10Value=function(e,t){var n=(e||{}).value,o=Number(n);return n||0===n?isNaN(o)?null:o:null},t.isSliderComponent=function(e,n){return!!u.getNestedProperty(t,"Forms.".concat(e,".$dirty"))||!!u.getNestedProperty(t,"Forms.".concat(e,".").concat(n,".$dirty"))},t.getRating1to7Value=function(e,t){return e.value?f.getPropertyType()===window.PropertyTypes.WEBSITE?e.value:f.isMobileProperty()?Number(e.value):null:null},t.getRating1to10Value=function(e,t){return e.value?f.getPropertyType()===window.PropertyTypes.WEBSITE?e.value:m.checkProvision(DigProvisions.MOBILE_SDKV2_FORM_WCAG_SUPPORT)?Number(e.value):S(e.unique_name,t)?Number(e.value):null:null};var S=function(e,n){var o=d("ngFormNameGenerator")(e,n,!1),i=o.replace(".".concat(n),"");return!(!u.getNestedProperty(t,"".concat(i,".$dirty"))&&!u.getNestedProperty(t,"".concat(o,".$dirty")))};t.formatValuesBeforeSubmit=function(e,n){void 0===e&&(e={});var o=n.placeholder;switch(e.type){case FormComponents.NPS:case FormComponents.GRADING0TO10:e.value=t.get0To10Value(e,n.ratingViewType||o);break;case FormComponents.GRADING1TO7:e.value=t.getRating1to7Value(e,n.ratingViewType||o);break;case FormComponents.GRADING1TO10:e.value=t.getRating1to10Value(e,n.ratingViewType||o);break;case"date":e.value=u.isObjectDate(e.value)?v.getDateUtcTimestamp(e.value):null;break;case FormComponents.GRADING1TO5:0===e.value&&(e.value=null);break;case FormComponents.CHECKBOX:e.value=$.map(e.value||null,,e.value&&0!==e.value.length||(e.value="");break;case FormComponents.SELECT:f.checkProvision(DigProvisions.MULTI_OPTIONS_ID)&&e.value.id&&(e.value=e.value.id)}return e},t.formatRoleBeforeSubmit=function(e,t){switch(void 0===e&&(e={}),e.type){case FormComponents.NPS:case FormComponents.GRADING0TO10:case FormComponents.GRADING1TO7:case FormComponents.GRADING1TO10:case FormComponents.GRADING1TO5:t.role&&(e.role=t.role)}return e},t.manipulateForm=function(){t.$on("NebFormComponentsReady",O),V||t.formReady()},t.closeWindow=function(e){var n=void 0===e?{}:e,o=n.isFormSubmitted,i=void 0!==o&&o,r=!!u.getNestedProperty(t,"isThankYouPageShown"),a=!i&&!r,s=!!i;r&&b.trigger(DigLiveFormEvents.THANK_YOU_CLOSE),a&&b.trigger(DigLiveFormEvents.FORM_CLOSE_NO_SUBMIT),s&&b.trigger(DigLiveFormEvents.FORM_CLOSE_SUBMIT),b.trigger("formClose",{formId:t.formId}),t.isMobile||l.removeEventListener("beforeunload",t.handlePopupClose)},t.checkEscPressed=function(e){27!==e.keyCode||I()||t.closeWindow({isFormSubmitted:!1})},l.addEventListener("keyup",t.checkEscPressed),t.broadcastInputValues=function(){t.input=t.allInputs[t.pageIndex]||[],t.$broadcast(o.broadcastChannel.updateInput)},t.nextPage=function(e){t.shouldFocusOnEmbeddedForm=!0,i(function(){r.validate(t,t.selectedFormKampyle.pages[e].name).success(function(){t.allInputs[t.pageIndex]=angular.copy(t.input),t.pageIndex=e+1,t.selectedPage=t.selectedFormKampyle.pages[t.pageIndex],b.trigger(DigLiveFormEvents.FORM_NEXT_PAGE,{formId:t.formId}),i(function(){t.broadcastInputValues()},0,!0),t.sendPageMessage()}).error(},0,!0)},t.prevPage=function(e){t.shouldFocusOnEmbeddedForm=!0,i(function(){t.allInputs[t.pageIndex]=angular.copy(t.input),t.pageIndex=e-1,t.selectedPage=t.selectedFormKampyle.pages[t.pageIndex],b.trigger(DigLiveFormEvents.FORM_BACK_PAGE,{formId:t.formId}),i(function(){t.broadcastInputValues()},0,!0)},0,!0),t.sendPageMessage()},t.needToShowThankYouPage=function(){return"website"===f.getPropertyType()&&!!u.getNestedProperty(t,"selectedFormKampyle.settings.formThankYouPageSettings.includeThankYouPage")},t.getSiteUrl=function(e){var n=decodeURIComponent(t.url||document.referrer),o=n.indexOf("?");return e?o===-1?null:n.substr(o+1):o===-1?n:n.substr(0,o)},t.shouldSendFormSubmitPending=function(){return!(!t.type||!t.type.toLowerCase||"preview"===t.type.toLowerCase()||t.needToShowThankYouPage())||"website"!==f.getPropertyType()},t.triggerScreenCapture=function(){var e=t.selectedFormKampyle.settings.formScreenCaptureSettings||{},n=t.selectedFormKampyle.settings,o=n.formDesignSettings,i=n.formBasicSettings;e.backgroundColor=o.backgroundColor,e.submitButtoncolor=i.submitButtoncolor,e.closeButtoncolor=i.closeButtoncolor,e.submitButtonTextColor=i.submitButtonTextColor,e.closeButtonTextColor=i.closeButtonTextColor,b.trigger("triggerScreenCapture",{screenCaptureSettings:e,feedbackUUID:t.uuid})},t.submit=function(){t.submitInProgress||r.validate(t,t.selectedFormKampyle.pages[t.pageIndex].name).success(function(e){if(!t.submitInProgress){t.submitInProgress=!0,t.allInputs[t.pageIndex]=t.input,t.uuid||b.trigger(LiveFormMessageIds.FEEDBACK_UUID_IS_NULL);for(var n=[],o=[],i=function(e){var i={pageName:t.selectedFormKampyle.pages[e].name,components:[]};angular.forEach(t.allInputs[e],function(n,r){if(t.nonSubmittableTypes.indexOf(n.type)===-1&&t.selectedFormKampyle.pages[e].dynamicData[r].display!==!1){var a=h.getComponentByNebUuid(n.nebUuid);n=t.formatValuesBeforeSubmit(n,a),n=t.formatRoleBeforeSubmit(n,a),n=t.addIdByInternalName(n,e);var s={id:n.id,unique_name:n.unique_name,type:n.type,value:n.value,role:n.role};i.components.push(s);var l=K(a,s,n);o.push(l)}}),n.push(i)},r=0;r<t.selectedFormKampyle.pages.length;r++)i(r);var a,s;f.isWebProperty()&&(a=t.getSiteUrl(!1)),s=t.getSiteUrl(!0);var l=window.screen.width+" X "+window.screen.height,d={formId:t.formId,mobileVersion:u.getNestedProperty(window,"kplConfig.mobileVersion"),pages:n,siteUrl:a,siteUrlQueryParams:s,triggerType:t.triggerType,customParams:t.selectedFormKampyle.customParams,screenResolution:l,uuid:t.uuid,integrations:t.selectedFormKampyle.integrations,screenCapture:t.selectedFormKampyle.screenCapture,mobileDeviceData:t.mobileDeviceData,secretToken:t.secretToken,endUserIdentifier:t.endUserIdentifier,screenCaptureUuid:null,onPremData:null,formLanguage:null,submitUrlPrefix:t.submitUrlPrefix,submitUrlSuffix:t.submitUrlSuffix,submitUrlWithBackendUUID:t.submitUrlWithBackendUUID,submitEventPayload:o,clientHintsValues:t.clientHintsValues};if(t.shouldSendFormSubmitPending()&&b.trigger("formSubmitPending"),m.checkProvision(DigProvisions.ON_PREM_HYBRID)){var c=null;switch(t.triggerType){case DISPLAY_MODE.PREVIEW:c=FEEDBACK_URL.PREVIEW;break;case DISPLAY_MODE.DRAFT_PREVIEW:c=FEEDBACK_URL.PREVIEW_DRAFT;break;default:c=t.onPremPackageVersion}d.onPremData={packageVersion:c}}d.formLanguage=u.getNestedProperty(t,"selectedFormKampyle.formLanguage"),m.checkProvision(DigProvisions.SCREEN_CAPTURE_AS_COMPONENT)&&u.getNestedProperty(t,"selectedFormKampyle.settings.formScreenCaptureSettings.screenCaptureAsComponentEnabled")&&(d.screenCaptureUuid=h.getScreenCaptureUUID(),u.setNestedProperty(d,"integrations.screenCapture.isTaken",!!d.screenCaptureUuid)),t.submitFeedbackHandler(d)}}).error(},t.submitFeedbackHandler=function(e){if(e){var o=u.getNestedProperty(e,"mobileDeviceData.sdkVersion");o&&(o=Number(o.replace(/\.[^.]*?$/,""))),e.mobileDeviceData?b.trigger("formFeedbackData",t.prepareFeedbackData(e)):n.submitFeedback(e).then(E(e))["catch"](function(e){b.trigger(LiveFormMessageIds.SUBMIT_FEEDBACK_FAILED,{errorMessage:e.message,errorStack:e.stack}),console.error(e)})}},t.prepareFeedbackData=function(e){return{formId:e.formId,triggerType:e.triggerType,uuid:e.uuid,integrations:e.integrations,screenCapture:e.screenCapture,mobileDeviceData:e.mobileDeviceData,endUserIdentifier:e.endUserIdentifier,onPremData:e.onPremData,url:e.siteUrl,urlQueryParams:e.siteUrlQueryParams,screenCaptureUuid:e.screenCaptureUuid,dynamicData:{customParams:e.customParams,pages:e.pages},fallbackScreenResolution:e.screenResolution,formLanguage:e.formLanguage}},t.setFocusOnRequiredElement=function(){for(var e=f.getPropertyType(),n=document.getElementsByClassName("has-error"),o=0;o<n.length;o++)n[o].setAttribute("ariaInvalid","true");if(n&&n.length){var i=n[0],r=w(i),a=m.checkProvision(DigProvisions.MOBILE_SDKV2_FORM_WCAG_SUPPORT)&&f.isMobileProperty(),l=h.getComponentByNebUuid(i.getAttribute("data-neb-uuid")).component;a?h.isRatingField(l)?i=i.querySelector('[aria-describedby][aria-labelledby][tabindex="-1"]')||i:e===PropertyTypes.IOS&&(i=i.querySelector("input")||i):m.checkProvision(DigProvisions.FORM_WCAG)&&(i=g(i,l)),s(l)&&i.setAttribute("tabIndex",-1),i.focus(),t.isMobile&&b.trigger("scrollFromTop",{formId:t.formId,numberOfPixels:r,isMobile:!0})}};var M=t.collectComponents=M,t.handleSubmitSuccess=function(n,o){var i={isFormSubmitted:!0};if(m.checkProvision(DigProvisions.BACKEND_GENERATED_UUID)){var r=n.resultObject&&n.resultObject.uuid;void 0===r||null===r?b.trigger(LiveFormMessageIds.FEEDBACK_UUID_IS_NULL):i.feedbackUUID=r}if(R()&&"SUCCESS"===n.resultCode){var a=C(),s=(o||{}).submitEventPayload,l=(s||[]).reduce(M,[]).filter(function(e){return a[(e||{}).type]});i.content=l}F()&&(i.formLanguage=o.formLanguage),b.trigger("formSubmitted",i),t.needToShowThankYouPage()?(t.showThankYouPage=!0,e.$broadcast("showThankYouPage"),b.trigger(DigLiveFormEvents.THANK_YOU_DISPLAYED,{formId:t.formId}),t.isThankYouPageShown=!0,t.sendPageMessage({actualPage:t.THANK_YOU_PAGE_ID})):t.closeWindow({isFormSubmitted:!0})},t.handlePopupClose=function P(){t.defaultGroup=[],t.textGroup=[],t.othersGroup=[],t.THANK_YOU_PAGE_ID=-1,t.pageIndex=0,t.allInputs=[],t.livePreview=!0,t.showThankYouPage=!1,t.prefix=window.kplConfig?kplConfig.prefix+kplConfig.resourcesPrefix:"",t.formId=window.getUrlParam("formId")||u.getNestedProperty(window,"formJson.id"),t.displayType=decodeURIComponent(window.getUrlParam("displayType")),t.formLanguage=t.getFormLanguage(),t.type=window.getUrlParam("type"),t.referrer=decodeURIComponent(window.getUrlParam("referrer"));var e=decodeURIComponent(window.getUrlParam("provisions"));if(e)try{m.setProvisions(JSON.parse(e))}catch(n){console.warn("could not set provisions")}var i=decodeURIComponent(window.getUrlParam("websiteId"));f.setWebsiteId(i),t.triggerType="preview"===t.type?DISPLAY_MODE.PREVIEW:DISPLAY_MODE.LIVE,t.nonSubmittableTypes=["label","sectionBreak"],t.input=[];for(var r in o.components)if(o.components.hasOwnProperty(r)){var a=o.components[r];switch(a.kampyleGroup){case"DefaultGroup":t.defaultGroup.push(a);break;case"textGroup":t.textGroup.push(a);break;case"othersGroup":t.othersGroup.push(a)}}V?t.formReady():t.setFormData(window.formJson),t.isMobile||l.addEventListener("beforeunload",t.handlePopupClose),y.init().then(function(){t.isMobileWeb="website"!==f.getPropertyType(),b.trigger("formLoaded",{formId:t.formId,isScreenCaptureEnabled:!!u.getNestedProperty(t,"selectedFormKampyle.settings.formScreenCaptureSettings.enabled")})})}function I(){return t.displayType===DigFormDisplayTypes.EMBEDDED||u.getNestedProperty(t,"selectedFormKampyle.triggers.0.triggerType")===FormTriggerTypes.EMBEDDED}function O(){t.selectedFormKampyle.settings=u.jsonHtmlDecode(t.selectedFormKampyle.settings),f.checkProvision(DigProvisions.MULTI_OPTIONS_ID)&&x(t.selectedFormKampyle),h.shouldRemoveScreenCaptureComponent(t.displayType)&&h.removeComponentIfExist(t.selectedFormKampyle,FormComponents.SCREEN_CAPTURE),t.selectedFormKampyle.pages.forEach(function(e){o.forms[e.name]=[],e.dynamicData.forEach(});for(var n=0;n<t.selectedFormKampyle.pages.length;n++)t.selectedFormKampyle.pages[n].dynamicData=o.forms[t.selectedFormKampyle.pages[n].name];t.selectedFormKampyle.pages.length>0&&(t.selectedPage=t.selectedFormKampyle.pages[0],t.shadowPageName=angular.copy(t.selectedPage.name)),e.globalSelectedForm=t.selectedFormKampyle,e.globalSelectedPage=t.selectedFormKampyle.pages[0],s[0].title=""}function R(){return f.checkProvision(DigProvisions.EVENT_INCLUDE_FEEDBACK_CONTENT)||f.checkProvision(DigProvisions.EXPOSE_SELECTION_QUESTIONS)||f.checkProvision(DigProvisions.EXPOSE_VERBATIM_QUESTIONS)}function F(){return m.checkProvision(DigProvisions.EXPOSE_SELECTION_QUESTIONS)||m.checkProvision(DigProvisions.EXPOSE_VERBATIM_QUESTIONS)}unction q(){return m.checkProvision(DigProvisions.EXPOSE_SELECTION_QUESTIONS)}unction H(e,t){var n=e.filter(;return n[0]&&n[0].label}function B(e,t){void 0===e&&(e={});var n=t.options,o=m.checkProvision(DigProvisions.MULTI_OPTIONS_ID);switch(e.type){case FormComponents.CHECKBOX:e.value=e.value&&e.value.map(function(e){if(o){var t=H(n,e);return{selection_id:e,label:t}}});break;case FormComponents.RADIO:case FormComponents.SELECT:if(o){var i=H(n,e.value);e.value={selection_id:e.value,label:i}}}return e}function G(e,t){var n=window.exports&&window.exports.isAbsoluteUrl||function(){},o=window.exports&&window.exports.loadJson||function(){},i=decodeURIComponent(window.getUrlParam("domainsListRelativePath")).replace(/\|/g,"/"),r="".concat(i,"/domains-configuration.json");return i?n(i)?void console.error("relative domains list path param contains an absolute url"):void o({url:r,onSuccess:e,onError:t,tries:3}):void console.error("relative domains list path param is not available")}var V=window.getUrlParam("isSeparateFormTemplateFromData"),j="formData.settings.formAdvanceSettings.isRtl";t.isMobile=u.isMobile(),t.$window=l,e.Forms={},t.shouldFocusOnEmbeddedForm=!1,e.initFormLoad=!1,t.sendPageMessage=function(e){N();var n={pageNumber:u.getNestedProperty(e,"actualPage")||t.pageIndex+1};b.trigger("formPageShown",n),t.shouldScrollToTop()&&b.trigger(DigEventNames.SCROLL_TO_TOP)},t.shouldScrollToTop=function(){return m.checkProvision(DigProvisions.MOBILE_WEB_DYNAMIC_FORM_SIZE)&&t.isMobile},t.notifyEmbeddedFormHeightChanged=function(){var e;if(t.selectedFormKampyle.settings.formBasicSettings.isFixedSize)e=u.getDocumentSize().height;else{var n=E.find(".live-form-content")[0];e=null!=n?n.scrollHeight:u.getDocumentSize().height}i(},t.notifyGenericHeightChanged=function(e){if(I()||m.checkProvision(DigProvisions.MOBILE_WEB_DYNAMIC_FORM_SIZE)){var n=E.find(".live-form-content")[0],o=n.scrollHeight;p.getIosVersion()&&p.getIosVersion()>7&&(o+=25),o&&o===e?b.trigger("iFrameHeightChanged",{newHeight:o}):i(100)}},t.setFormData=function(e){void 0===e&&(e={});var n=g.validifyJson(e,"FormContract")||{};window.formJson=t.selectedFormKampyle=Object.assign({},n,t.selectedFormKampyle),b.trigger("setInterfaceData",{formId:t.formId}),t.manipulateForm()},t.initFormData=function(){var e=window.getUrlParam("propertyType")||u.getNestedProperty(window,"formJson.propertyType")||"website";f.setPropertyType(e),t.originalIsFixedSize=angular.copy(u.getNestedProperty(t,"selectedFormKampyle.settings.formBasicSettings.isFixedSize"))},t.formReady=t.setFormLanguageClasses=function(){var e=u.getNestedProperty(t,"selectedFormKampyle.formLanguage");return C.getClassNameByFormLanguage(e)},t.setFormPreviewClass=function(){if(I())return null;var e=t.triggerType===DISPLAY_MODE.PREVIEW||t.triggerType===DISPLAY_MODE.DRAFT_PREVIEW;return e?"dig-preview":null},t.$on("$destroy",;var K=function(e,t,n){var o=B(n,e);return q()||U()?__assign(__assign({},t),{label:n.label,value:o.value}):t};t.initData=P,D(),S(),p.isMobileSDK()?P():G(function(t){t&&"undefined"!=typeof t.allDomainsAllowed?(e.domainsListConfig=t,P()):console.error("domains list is in invalid format")},}app.controller("LiveFormCtrl",e),e.$inject=["$rootScope","$scope","FormBuilderService","$builder","$timeout","$validator","$location","$document","$window","$filter","ConditionalDisplayRun","Common","Provision","UserAgent","ContractValidator","Profile","eventDispatcher","FormModel","DateSrv","LiveFormInitializationService","$element","CustomParametersModel","CustomParametersService","Localization","CustomCssLoader"],app.directive("nebLiveForm",function(){return{restrict:"A",link:function(e,t){function n(){var n="5%",o="auto",i="preview"===e.type,r="lightbox"===e.displayType;!e.isMobile&&r||i||(n="0"),t.css({paddingTop:n,overflowY:o})}n(),e.$watch("displayType",n)}}}),app.directive("focusOnClick",function(){return{restrict:"A",link:function(e,t){t[0].onclick=}});var t=27,n=8;app.directive("mobileMdSelectEscBlocker",function(){return{restrict:"A",link:function(e,o){angular.element("._md-select-menu-container",o).keyup(function(e){e.keyCode!==n&&e.keyCode!==t||(e.preventDefault(),e.stopPropagation())})}}})}();var __spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};!function(e){"use strict";e.digServices=e.digServices||{},e.digServices.webInterface=function(t,n,o){unction r(t){var n=void 0;n=e.opener?e.opener:e.parent!==e.top?e.parent:e.top!==e.self?top.window:e,void 0!=n&&n.postMessage(JSON.stringify(t),u)}function a(n,o){var i=Object.assign({},d);Object.assign(i,{action:n});for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a]);(document.referrer||t.getUrlParam("referrer",e.location.href))&&r(i)}function s(o){var i=e.exports.isAllowedDomain||function(){},a=c||{},s=a.allDomainsAllowed,l=a.domainsNames;if(!s&&!i(o.origin,__spreadArray(__spreadArray([],l||[],!0),[e.location.hostname],!1)))return console.error("message origin domain is not allowed "),r({action:"MDigital_Invalid_Origin",formId:t.getUrlParam("formId")}),!1;if(!t.getNestedProperty(o,"data"))return!1;var d;try{d=JSON.parse(o.data)}catch(m){d={}}switch(d.action){case"setExtraData":u=o.origin,n.trigger("extraDataArrived",d);break;case"setFocus":n.trigger("setFocus");break;case"takenScreenCapture":n.trigger("screenCaptureTaken",d);break;case"cancelScreenCapture":n.trigger("screenCaptureCanceled",d);break;case"customParamsLoaded":n.trigger("customParamsLoaded",d);break;case"setFormId":break;case"screenCaptureLoaded":n.trigger("screenCaptureLoaded",d);break;case"setFormStyle":n.trigger("setFormStyle",d);break;case"MDigital_validate_origin":break;default:console.warn('Unknown action: "'.concat(d.action,'"'))}}function l(){d={},c=o.domainsListConfig,e.addEventListener("message",s,!1);var t={setInterfaceData:[i],SendMessageToGeneric:[a],formPageShown:[i,a],formSubmitted:[i,a],triggerScreenCapture:[a],screenCaptureDelete:[a],screenCaptureRetake:[a],formClose:[a],formLoaded:[a],formSubmitPending:[a],iFrameHeightChanged:[a],scrollToTop:[a],scrollFromTop:[a],feedbackUUIDisNull:[a],submitFeedbackFailed:[a],MDigital_Form_Next_Page:[a],MDigital_Form_Back_Page:[a],MDigital_Form_Close_No_Submit:[a],MDigital_ThankYou_Displayed:[a],MDigital_ThankYou_Close:[a],MDigital_Form_Close_Submitted:[a]};n.subscribeMany(t)}var d,c,u="*";return{init:l,handleGenericMessage:s}}}(window),function(e){"use strict";e.digServices=e.digServices||{},e.digServices.androidInterface=function(t,n,o){function i(e,t){var n=m[e];return!!n&&void r(n,t)}function r(t,n){var o=!1;if("formSubmitPendingShouldCloseFalse"===t&&(t="submitPending",o=!0),e.NebulaAndroid&&e.NebulaAndroid[t])switch(console.info("Calling method window.NebulaAndroid: ".concat(t)),t){case"ready":case"getDeviceData":case"getProvisions":case"getSecretToken":case"getCustomParams":case"submitSuccess":case"close":return e.NebulaAndroid[t]();case"submitPending":return o?e.NebulaAndroid[t](!1):e.NebulaAndroid[t]();case"sendFeedbackToMobileSdk":return e.NebulaAndroid[t](JSON.stringify(n));default:console.warn("No method found ot invoke"+t)}else console.warn("Problem with invoking "+t)}function a(){var e=s();n.trigger("extraDataArrived",e)}function s(){var e=t.safeJsonParse(r("getDeviceData",null)),n=t.safeJsonParse(r("getProvisions",null)),o=r("getSecretToken",null),i={deviceData:e,provisions:n,secretToken:o};return i}function l(){var e=t.safeJsonParse(r("getCustomParams",null)),i=o.formatCustomParams(e);n.trigger("customParamsLoaded",i)}function d(e){var i=t.safeJsonParse(r("getCustomParams",null)),a=o.formatCustomParams(i);p.triggerType=e.triggerType||KAMPYLE_TRIGGER_TYPES.CODE,p.customParams=a||{},n.trigger("customParamsLoaded",p)}unction u(){c();var e={formLoaded:[a],requestCustomParams:[l],
formReady:[i],formSubmitted:[i],formFeedbackData:[i],formClose:[i],formSubmitPending:[i],formSubmitPendingShouldCloseFalse:[i]};n.subscribeMany(e)}var m={formFeedbackData:"sendFeedbackToMobileSdk",formSubmitted:"submitSuccess",formClose:"close",formSubmitPending:"submitPending",formSubmitPendingShouldCloseFalse:"formSubmitPendingShouldCloseFalse",formLoaded:"sendExtraDataToForm",formReady:"ready"},p={triggerType:null,customParams:null};return{init:u,invokeMobileSDKFunction:r,getFormData:s}}}(window),function(e){"use strict";e.digServices=e.digServices||{},e.digServices.iosInterface=function(t,n,o){function i(n,o){var i=t.getNestedProperty(e,p[n]);if("function"==typeof i)try{switch(n){case"formReady":t.getNestedProperty(e,"webkit.messageHandlers.ready.postMessage")&&e.webkit.messageHandlers.ready.postMessage("");break;case"formSubmitPending":t.getNestedProperty(e,"webkit.messageHandlers.submitPending.postMessage")&&e.webkit.messageHandlers.submitPending.postMessage(!0);break;case"formSubmitPendingShouldCloseFalse":t.getNestedProperty(e,"webkit.messageHandlers.submitPending.postMessage")&&e.webkit.messageHandlers.submitPending.postMessage(!1);break;case"formClose":t.getNestedProperty(e,"webkit.messageHandlers.close.postMessage")&&e.webkit.messageHandlers.close.postMessage("");break;case"formSubmitted":t.getNestedProperty(e,"webkit.messageHandlers.submitSuccess.postMessage")&&e.webkit.messageHandlers.submitSuccess.postMessage("");break;case"formFeedbackData":t.getNestedProperty(e,"webkit.messageHandlers.sendFeedbackToMobileSdk.postMessage")&&e.webkit.messageHandlers.sendFeedbackToMobileSdk.postMessage(JSON.stringify(o))}}catch(r){console.warn("IOS: (in catch) Problem with invoking ".concat(n," :  ").concat(i,", error: ").concat(r))}else console.warn("Problem with invoking ".concat(n," : ").concat(i))}function r(n){t.getNestedProperty(e,"webkit.messageHandlers.getSecretToken.postMessage")&&e.webkit.messageHandlers.getSecretToken.postMessage(""),t.getNestedProperty(e,"webkit.messageHandlers.getDeviceData.postMessage")&&e.webkit.messageHandlers.getDeviceData.postMessage(""),t.getNestedProperty(e,"webkit.messageHandlers.getProvisions.postMessage")&&e.webkit.messageHandlers.getProvisions.postMessage(""),t.getNestedProperty(e,"webkit.messageHandlers.getSDKData.postMessage")&&e.webkit.messageHandlers.getSDKData.postMessage("")}unction s(){t.getNestedProperty(e,"webkit.messageHandlers.getCustomParams.postMessage")&&e.webkit.messageHandlers.getCustomParams.postMessage("")}function l(e){for(var t in e)if(!e[t])return!1;return n.trigger("extraDataArrived",e),!0}function d(){e.NebulaForm=e.NebulaForm||{},e.NebulaForm.setSecretToken=function(e){void 0===e&&(e=null),u.secretToken=e,l(u)},e.NebulaForm.setDeviceData=function(e){u.deviceData=t.safeJsonParse(e)||null,l(u)},e.NebulaForm.setProvisions=function(e){u.provisions=t.safeJsonParse(e)||null,l(u)},e.NebulaForm.setSDKData=function(){},e.NebulaForm.setCustomParams=function(e){var i=o.formatCustomParams(t.safeJsonParse(e))||null;m.customParams=i,n.trigger("customParamsLoaded",m)},e.NebulaForm.show=function(n){n=t.safeJsonParse(n)||{},m.triggerType=n.triggerType||KAMPYLE_TRIGGER_TYPES.CODE,t.getNestedProperty(e,"webkit.messageHandlers.getCustomParams.postMessage")&&e.webkit.messageHandlers.getCustomParams.postMessage("")}}function c(){d();var e={formFeedbackData:[i],formSubmitted:[i],formClose:[i],formLoaded:[r],formReady:[a],requestCustomParams:[s],formSubmitPending:[i],formSubmitPendingShouldCloseFalse:[i]};n.subscribeMany(e)}var u={deviceData:null,provisions:null,secretToken:null},m={triggerType:null,customParams:null},p={formFeedbackData:"webkit.messageHandlers.sendFeedbackToMobileSdk.postMessage",formSubmitted:"webkit.messageHandlers.submitSuccess.postMessage",formClose:"webkit.messageHandlers.close.postMessage",formSubmitPending:"webkit.messageHandlers.submitPending.postMessage",formSubmitPendingShouldCloseFalse:"webkit.messageHandlers.submitPending.postMessage",formReady:"webkit.messageHandlers.ready.postMessage"};return{init:c,invokeMobileSDKFunction:i,initNebulaFormObj:d,isDataComplete:l,callSdkReady:a}}}(window),function(e){"use strict";app.factory("webInterface",["Common","eventDispatcher","$rootScope",e.digServices.webInterface])}(window),function(e){"use strict";app.factory("androidInterface",["Common","eventDispatcher","FormBuilderService",e.digServices.androidInterface])}(window),function(e){"use strict";app.factory("iosInterface",["Common","eventDispatcher","FormBuilderService",e.digServices.iosInterface])}(window),function(){function e(e){return{restrict:"A",link:function(t,n,o,i){for(var r=o.nebElementId.split(","),a=0;a<r.length;a++){var s=r[a];if(e.isElementInTree(s)&&e.getElementMode(s)!==ElementModes.SHOW){angular.element(n).remove();break}}}}}app.directive("nebElementId",e),e.$inject=["NebAppTree"]}();var ElementModes;!ElementModes||(ElementModes={})),function(){function e(e,t,n,o){function i(e){var n="!"===e.charAt(0)?e.substr(1):e;return!!t.getNestedProperty(b,n)}function r(e){var n="!"===(e||"").charAt(0),o=t.getNestedProperty(b,e.substr(Number(n))),i=!!o;o=o||{};var r=angular.isArray(o.provision)?o.provision[0]:o.provision,l=o.provisionByType,u=c(o.propertyTypes),m=!o.role||!!d(o.role),p=!o.provision||!!g(r);p=p&&s(l);var f=o.properties,h=a(f),v=o.mode||"SHOW";return!i||m&&p&&u&&h?n?ElementModes.HIDE:ElementModes.SHOW:n?ElementModes.SHOW:ElementModes[v]||ElementModes.HIDE}function a(e){if(!e)return!0;for(var t=0,n=e;t<n.length;t++){var i=n[t];if(!o.hasPropertySetting(i))return!1}return!0}function s(e){if(void 0===e&&(e={}),!e)return!0;var t=!0;for(var o in e)e.hasOwnProperty(o)&&e[o].indexOf(n.getPropertyType())!==-1&&(t=t&&n.checkProvision(o));return t}function l(e){void 0===e&&(e="");var t="!"===e.charAt(0);t&&(e=e.substr(1));var o=n.checkProvision(e);return t?!o:o}function d(e){void 0===e&&(e="");var t="!"===e.charAt(0);t&&(e=e.substr(1));var o=n.hasSufficientRole(e);return t?!o:o}function c(e){return!e||!!Array.isArray(e)&&e.indexOf(n.getPropertyType())!==-1}function u(){if(!b){var n=t.getNestedProperty(window,"kplConfig.prefix",""),o="".concat(n,"resources/appTree.json");void 0!==kplConfig.appTreeJson?(b=kplConfig.appTreeJson,window.DIG_APP_TREE={appTree:b}):e({method:"GET",url:o}).then(function(e){b=e.data,window.DIG_APP_TREE={appTree:b}})}}unction p(e,t){void 0===e&&(e="");var n=e.split(t).map(function(e){return e.trim()});switch(t){case"||":return n.some(l);case"&&":return n.every(l)}}function g(e){var t=f(e);return t?p(e,t):l(e)}ar b=t.getNestedProperty(window,"DigGlobals.appTreeLiveFormJson"),h=function(e){b=e};return{init:u,isElementInTree:i,isProvisioned:g,getElementMode:r,setNebAppTree:h,checkValidPropertyType:c,checkProvision:l,isElementVisible:m,checkProvisionByType:s,checkRole:d,checkPropertySettings:a,checkMultipleProvisions:p,getOperator:f}}app.factory("NebAppTree",e),e.$inject=["$http","Common","Profile","NebProperty"]}(),angular.module("liveForm").run(["$templateCache",),function(){"use strict";function e(e,t,n,o,i,r,a,s,l,d,c,u){function m(e){return isNaN(e)||(e+="px"),e}function p(){return i.isWebProperty()&&i.checkProvision(DigProvisions.RESPONSIVE_RATING_COMPONENT)||i.isMobileProperty()&&!i.isAnywhereProperty()}function g(){return e.shouldDisplayNewAndroidButton()?{backgroundColor:t.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.submitButtoncolor")}:S}unction b(t){var n=t.isBackButton,o=n?"isShowBackButton":"isShowCloseButton";return e.selectedFormKampyle.settings.formBasicSettings[o]!==!1}function h(){var t=e.selectedFormKampyle&&e.selectedFormKampyle.settings.formAdvanceSettings.isRtl;return t&&(e.livePreview||o.checkProvision(DigProvisions.ENABLE_RTL))}function v(){return i.isWebsiteProperty()&&(o.checkProvision(DigProvisions.RATING_LABEL_ALIGN)||o.checkProvision(DigProvisions.RESPONSIVE_RATING_COMPONENT))}function y(){var e=document.querySelector(".kpl_builder");if(!e)return"";var t=parseInt(window.getComputedStyle(e).width),n=[{condition:t<=352,name:"first"},{condition:t>=353&&t<=363,name:"second"},{condition:t>=364&&t<=374,name:"third"},{condition:t>=375&&t<=385,name:"fourth"},{condition:t>=386&&t<=396,name:"fifth"},{condition:t>=397&&t<=407,name:"sixth"},{condition:t>=408&&t<=528,name:"seventh"},{condition:t>=529,name:"eighth"},{condition:!0,name:""}];return n.find(function(e){return e.condition}).name}var E;if(e.isNewModalDialogs=o.checkProvision(DigProvisions.NEW_MODAL_DIALOGS),d.isLinkWithLoader=o.checkProvision(DigProvisions.HIDE_SURVEY_UNTIL_CSS_LOADED),d.getCustomCssHref=e.isNewModalDialogs&&!i.isMobileProperty()){var T=t.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.formAnnouncement")||"Feedback Survey";n.document.title=T}window.kplConfig?(E="".concat(window.kplConfig.prefix).concat(window.kplConfig.resourcesPrefix),e.prefix=E):e.prefix=e.versionedResourcesUrl,e.getLogoUrl=function(t){return window.kplConfig?"".concat(E,"assets/images/kampyle/CommandCenterFormLogo.svg"):e.globalResourcesUrl?"".concat(e.globalResourcesUrl,"/CommandCenterFormLogo.svg"):null},t.setNestedProperty(d,"isCustomCssAvailable",o.checkProvision(DigProvisions.REUSABLE_RESOURCES_LIBRARY)||o.checkProvision(DigProvisions.CUSTOM_CSS_UPLOAD)&&i.isCustomCss());var _=i.isWCAG()?"-wcag":"",C="#screencapture-button",k=angular.element(".canvasPanel").length>0&&void 0===e.displayType&&void 0===e.type,S={position:"relative",transform:"translateX(-50%) translateY(50%);",marginRight:"auto",marginLeft:"auto",width:"84px",lineHeight:"24px",height:"auto"};!e.livePreview&&o.checkProvision(DigProvisions.ENABLE_RTL)&&e.$watch("selectedFormKampyle",function(t){e.isDirectionRtl=e.selectedFormKampyle&&e.selectedFormKampyle.settings.formAdvanceSettings.isDefaultLanguageRtl}),e.isWcagCompatibleLogo=i.isWCAG()&&o.checkProvision("formTemplatesWCAG")&&o.checkProvision("21dcr1_mpc3281_alignWCAGLogoMarkup"),e.displayMobileSDKPoweredBy=i.checkProvision(DigProvisions.MOBILE_SDKV2_POWERED_BY_FOOTER)&&(k||t.getNestedProperty(e,"selectedFormKampyle.settings.formMobileSettingsContract.showPoweredBy"));var M="Close Survey";e.config={scImageUrl:"".concat(e.prefix,"assets/images/kampyle/form_sc_button_trans").concat(_,".png"),scCheckboxUrl:e.prefix+"assets/images/kampyle/form_sc_button_overlay_trans.png"},e.setWCAGClass=function(){return{"neb-focused":o.checkProvision("formTemplatesWCAG")}},e.Profile=i,e.getNoFieldsText=function(){var e="texts.app.pages.forms.builder.canvas.noFields";return i.getPropertyType()===PropertyTypes.ANDROID&&(e+="Android"),t.getSingleText(e)};var A=function(){return e.displayType||t.getNestedProperty(e,"selectedFormKampyle.triggers.0.displayType")};e.isFormEmbeddedDisplayType=function(){return A()===DigFormDisplayTypes.EMBEDDED},e.isFormAnimationDisplayType=function(){return A()===DigFormDisplayTypes.ANIMATION},e.isFormLightBoxDisplayType=e.shouldTakeFullWidth=function(){var n=!!t.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.isFullWidthEmbedded");return e.shouldGetMobileStyle()||e.livePreview&&n&&e.isFormEmbeddedDisplayType()},e.getInlineHeightWidth=function(){var t,n;return t=e.selectedFormKampyle.settings.formBasicSettings.widthPX,n=e.selectedFormKampyle.settings.formBasicSettings.heightPX,e.isDynamicSizeForm()&&(n="auto"),e.shouldTakeFullWidth()&&(t="100%"),e.shouldGetMobileStyle()&&(n="100%"),i.isAnywhereProperty()&&(t="375px"),{height:n,width:t}},e.handleXPressed=function(t){var n=t.which||t.keyCode;13!==n&&32!==n||(t.preventDefault(),t.stopPropagation(),e.closeWindow())},e.screenCaptureButtonEnabled=function(){return"live"!==e.type||e.isScreenCaptureLoaded&&!t.getNestedProperty(e,"selectedFormKampyle.integrations.screenCapture.isTaken")},e.setFormInlineStyle=function(n){if(!e.selectedFormKampyle||!e.page)return{};var o,r,a='url("#PLACEHOLDER#") center';a=e.page.pageSettings.backgroundImgUrl&&"http://"!==e.page.pageSettings.backgroundImgUrl&&!e.showThankYouPage?a.replace("#PLACEHOLDER#",e.page.pageSettings.backgroundImgUrl):e.selectedFormKampyle.settings.formDesignSettings.backgroundImgUrl&&e.selectedFormKampyle.settings.formDesignSettings.backgroundImgUrl.url?a.replace("#PLACEHOLDER#",e.selectedFormKampyle.settings.formDesignSettings.backgroundImgUrl.url):"",o=e.page.pageSettings.backgroundColor&&""!==e.page.pageSettings.backgroundColor&&!e.showThankYouPage?e.page.pageSettings.backgroundColor:e.showThankYouPage&&e.selectedFormKampyle.settings.formThankYouPageSettings.backgroundColor?e.selectedFormKampyle.settings.formThankYouPageSettings.backgroundColor:e.selectedFormKampyle.settings.formDesignSettings.backgroundColor;var s=e.getInlineHeightWidth();r={background:a,"background-color":o,width:s.width,height:s.height},"lightbox"!==e.displayType||e.isMobile||(r.marginBottom="2%"),e.selectedFormKampyle.settings.formDesignSettings.textColor&&(r.color=e.selectedFormKampyle.settings.formDesignSettings.textColor);var l=e.selectedFormKampyle;if(!t.isMobile()&&"modal"===t.getNestedProperty(l,"settings.formMobileSettingsContract.formViewType")){r.background=r.background.replace("_fullscreen.png","_partial.png");var d=void 0,c=void 0;switch(i.getPropertyType()){case PropertyTypes.IOS:case PropertyTypes.ANYWHERE:d=33,c=39,r["border-radius"]="20px";break;case PropertyTypes.ANDROID:d=30,c=39}r.width=r.width-d,r.height=r.height-c}return r.width=m(r.width),r.height=m(r.height),t.getNestedProperty(e,"selectedFormKampyle.settings.formDesignSettings.doCover")&&t.setNestedProperty(r,"background-size","cover"),r},e.setFormClasses=function(n){if(!e.selectedFormKampyle||!e.page)return{};var r,a;e.page.pageSettings.backgroundImgUrl&&"http://"!==e.page.pageSettings.backgroundImgUrl&&(r=e.page.pageSettings.doBackgroundReapet);var l;e.selectedFormKampyle.settings.formDesignSettings.backgroundImgUrl&&e.selectedFormKampyle.settings.formDesignSettings.backgroundImgUrl.url&&(l=e.selectedFormKampyle.settings.formDesignSettings.doReapet);var d;d=e.showThankYouPage||void 0===r?l||!1:r,a=!!o.checkProvision("formTemplatesWCAG");var c="#40404a",u=i.hasPropertyType(window.PropertyTypes.WEBSITE)&&e.selectedFormKampyle.settings.formDesignSettings.textColor!==c,m=!!i.checkProvision(DigProvisions.FORM_SPACING),g=p(),f=e.isFormEmbeddedDisplayType(),b=o.checkProvision(DigProvisions.MOBILE_WEB_DYNAMIC_FORM_SIZE)&&n,h=i.isWebsiteProperty(),v=i.isMobileProperty(),y=i.isAnywhereProperty(),E=v&&i.checkProvision(DigProvisions.MOBILE_SDKV2_UI_REVAMP)&&(k||t.getNestedProperty(e,"selectedFormKampyle.settings.formMobileSettingsContract.uiRevamp")),T=s.isIpad(),_=o.checkProvision(DigProvisions.MOBILE_SDKV2_FORM_WCAG_SUPPORT);return{"dig-embedded-live":f,noRepeatBackGroundImg:!d,"kpl-live-mobile":n,"neb-form-wcag":a,"neb-has-custom-text-color":u,"neb-spacing":m,"neb-rating-html-implementation":g,"neb-rating-image-implementation":!g,"neb-mobile-dynamic-form-size":b&&!f,"neb-website-form":h,"neb-mobile-form":v,"neb-anywhere-form":y,"mobile-form-revamp":E,"mobile-wcag-support":_,"ipad-detected":T}},e.setThankYouPageinlineStyle=function(){var t="30%";return e.selectedFormKampyle.settings.formThankYouPageSettings.logoURL&&e.selectedFormKampyle.settings.formThankYouPageSettings.logoURL.url&&(t="30px"),{height:"auto","margin-top":t}},e.isDynamicSizeForm=function(){var n=!!t.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.isFixedSize"),i=e.selectedFormKampyle.customHTMLEnabled,r=void 0!==e.displayType&&("lightbox"===e.displayType||e.isFormEmbeddedDisplayType()),a=void 0!==e.type&&"preview"===e.type,s=o.checkProvision("dynamicModalSizeInCustomHtml")||a,l=e.isMobile&&e.isFormEmbeddedDisplayType()&&!n;return!n&&(!e.isMobile||l)&&(r||a||k)&&(!i||i&&s)},e.loadTooltip=function(){var t=$(C),n=e.isDirectionRtl?' dir="rtl"':"";t.tooltip({placement:e.isDirectionRtl?"left":"right",html:!0,title:"<div ".concat(n,">").concat(e.selectedFormKampyle.settings.formScreenCaptureSettings.buttonTooltip,"</div>")
})},e.setSCButtonImageStyle=function(){t.getNestedProperty(e,"selectedFormKampyle.settings.formScreenCaptureSettings.buttonImage.url")?e.scButtonImageSrc=e.selectedFormKampyle.settings.formScreenCaptureSettings.buttonImage.url:e.scButtonImageSrc=e.config.scImageUrl;var n={maxWidth:50,maxHeight:35,cursor:"pointer"};return n},e.shouldRenderScreenCapture=function(){return!("live"===e.type&&!e.screenCaptureOnsiteEnabled)&&(!e.isFormEmbeddedDisplayType()&&(!e.isMobile&&o.checkProvision(DigProvisions.SCREEN_CAPTURE_ENABLED)&&!!t.getNestedProperty(e,"selectedFormKampyle.settings.formScreenCaptureSettings.enabled")))},e.showXBtn=function(){return("lightbox"===e.displayType||"preview"===e.type)&&!(!e.displayType&&"preview"!==e.type||e.isMobile)},e.isFixedCustomHtmlWeb=function(){return e.selectedFormKampyle.customHTMLEnabled&&!o.checkProvision("dynamicModalSizeInCustomHtml")&&!e.isMobileWeb},e.setCanvasStyle=function(){var t=e.isDynamicSizeForm(),n=e.selectedFormKampyle.settings.formBasicSettings.heightPX,o=55,i=110,r=250,a={};return e.isFixedCustomHtmlWeb()?a.height=n-o:t?a["min-height"]=r-i:t||(a={height:e.isMobileWeb?"100%":n-i}),a},e.shouldGetMobileStyle=function(){return e.isMobile&&e.displayType!==DigFormDisplayTypes.EMBEDDED},e.setFooterStyles=function(){if(!e.isMobileWeb){var t="absolute",n=void 0;return(e.isDynamicSizeForm()||e.shouldGetMobileStyle())&&(t="relative",n="85px"),{position:t,height:n}}},e.setMobileSubmitStyle=function(){var n={color:t.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.submitButtonTextColor")};return(i.hasPropertyType(window.PropertyTypes.IOS)||i.hasPropertyType(window.PropertyTypes.ANYWHERE))&&(n.backgroundColor=t.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.submitButtoncolor")),i.hasPropertyType(window.PropertyTypes.ANDROID)&&(n=Object.assign(n,g())),n},e.setLogoFooterStyle=function(e){if(!e)return{};var t=i.getWebsiteId(),n={visibility:f(t,e)?"hidden":"visible"};return n},e.isMobileWcagSupported=c.shouldApplyMobileWcagSupportToForm,e.shouldDisplayNewAndroidButton=function(){return i.hasPropertyType(window.PropertyTypes.ANDROID)&&(i.checkProvision(DigProvisions.MOBILE_SDKV2_NEW_ANDROID_BUTTON)||i.checkProvision(DigProvisions.LIVE_FORM_V2))&&(k||t.getNestedProperty(e,"selectedFormKampyle.settings.formMobileSettingsContract.newAndroidButton"))},e.showFooter=function(e){return 0!==e.dynamicData.length||i.hasPropertyType(window.PropertyTypes.WEBSITE)},e.isShowBackButton=function(){return b({isBackButton:!0})},e.isShowFormCloseButton=e.getCloseModalButtonLabel=function(){var n=t.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.closeModalButton");return n||M},e.getCloseModalButtonForThankYouPage=function(){var n=t.getNestedProperty(e,"selectedFormKampyle.settings.formThankYouPageSettings.closeModalButton");return n||M},e.getScreenCaptureAttrLabel=function(){var n,o=t.getNestedProperty(e,"selectedFormKampyle.integrations.screenCapture.isTaken");return n=o?t.getNestedProperty(e,"selectedFormKampyle.settings.formScreenCaptureSettings.wcagDisabledScreenCaptureTooltip"):t.getNestedProperty(e,"selectedFormKampyle.settings.formScreenCaptureSettings.wcagScreenCaptureTooltip")},e.isScreenCaptureEnabled=function(){return e.shouldRenderScreenCapture()&&(e.livePreview&&!t.getNestedProperty(e,"selectedFormKampyle.settings.formScreenCaptureSettings.screenCaptureAsComponentEnabled")||!e.livePreview&&!i.checkProvision(DigProvisions.SCREEN_CAPTURE_AS_COMPONENT))},e.isDirectionRtl=h(),e.formWidthMode=v()?y():"",v()&&e.$watch(function(t){e.formWidthMode=t}),d.getFormWidthMode=function(){return e.formWidthMode}}e.$inject=["$scope","Common","$window","Provision","Profile","$element","eventDispatcher","UserAgent","NebProperty","$rootScope","WcagService","CustomCssLoader"],app.controller("innerFormPartialCtrl",e),app.directive("mobileSubmitButton",function(){return{restrict:"A",link:function(e,t){var n=t.get(0);n.addEventListener("mouseup",function(e){return e.preventDefault()}),n.addEventListener("mousedown",function(e){return e.preventDefault()})}}}),app.directive("nebFormCloseBtn",function(){return{restrict:"A",link:function(e,t){t.css({"margin-top":"-50px","font-size":"35px"}),t.find("a").css({color:"#dddddd"})}}}),app.directive("nebLiveFormContainer",["$window","Provision","UserAgent","Profile","Common",function(e,t,n,o,i){return{restrict:"A",link:function(i,r){function a(){if(i.isMobile&&(r.css({position:c?"static":"fixed",height:"100%",width:"100%",maxHeight:"100%",zIndex:1e3}),o.getPropertyType()===PropertyTypes.IOS||o.getPropertyType()===PropertyTypes.ANYWHERE)){var e=document.body.scrollHeight,t=parseInt(window.getComputedStyle(document.body).height,10),n=t>100?Math.min(t,e):e;angular.element(l).css({minHeight:"".concat(n+s,"px")})}}var s=10,l=".live-form-content",d=n.getIosVersion(),c=t.checkProvision(DigProvisions.MOBILE_WEB_DYNAMIC_FORM_SIZE)&&d&&d>11,u={minHeight:null};i.getContentStyle=function(){if(o.getPropertyType()===PropertyTypes.IOS||o.getPropertyType()===PropertyTypes.ANYWHERE){var e="".concat(document.body.scrollHeight+s,"px");return null===u.minHeight?u.minHeight=e:_.throttle(300),u}return null},i.isMobile&&(a(),e.addEventListener("resize",a))}}}]),app.directive("loadCustomCss",["CustomCssLoader",function(e){return{restrict:"A",link:function(t,n,o){function i(e){e?r.setAttribute("href",e):r.removeAttribute("href")}var r=n[0];o.$observe("loadCustomCss",function(e){var t=r.getAttribute("href");e!==t&&i(e)}),r.addEventListener("load",e.hideSpinner),r.addEventListener("error",e.hideSpinner)}}}]),app.factory("CustomCssLoader",["$rootScope","$timeout","Provision","Common",function(e,t,n,o){function i(t,n){var o=a(t),i=s(o,n);i&&(l=!0,e.shouldHideSurveyUntilCssLoaded=!0)}function r(){l&&(l=!1,t(1e3))}function a(e){return n.checkProvision(DigProvisions.REUSABLE_RESOURCES_LIBRARY)||n.checkProvision(DigProvisions.CUSTOM_CSS_UPLOAD)&&e}function s(e,t){var n=o.getNestedProperty(t,"settings.formDesignSettings.customCssFileResource.url"),i=o.getNestedProperty(t,"settings.formDesignSettings.customCssFile");return e&&n||i}var l;return{showSpinner:i,hideSpinner:r,getCustomCssLink:s,isCustomCssAvailableCheck:a}}])}(),function(){"use strict";function e(e,t,n,o,i,r,a,s){function l(){var e=o.getNestedProperty(window,"kplConfig.mobileVersion");if(null!=window.kplConfig&&2!==e){var n=t.app||kplConfig;return"".concat(n.prefix).concat(n.resourcesPrefix,"assets/views/thankYouPage.html")}return"views/thankYouPage.html"}e.Profile=i,e.initCtrl=function(t){e.context=t||"liveform",e.isNewModalDialogs=s.checkProvision(DigProvisions.NEW_MODAL_DIALOGS),e.form&&(e.selectedFormKampyle=e.form),e.isNewModalDialogs&&(e.thankYouPageAnnouncement=o.getNestedProperty(e,"selectedFormKampyle.settings.formThankYouPageSettings.thankYouPageAnnouncement")||"Survey completion message")},e.setThankYouPageHeight=function(){var t,n=o.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.isFixedSize"),i=Number(e.selectedFormKampyle.settings.formBasicSettings.heightPX)||300;return"kma"===e.context?t=n:(t=e.isDynamicSizeForm&&!e.isDynamicSizeForm(),i-=57),e.isMobile?"calc(100% - 85px)":t?i:"auto"},e.setThankYouPageWidth=function(t){return void 0===t&&(t=100),e.isMobile?"100%":"kma"===e.context?t:"auto"},e.setThankYouPageInlineStyle=function(){var t={},n=o.getNestedProperty(e,"selectedFormKampyle.settings.formBasicSettings.widthPX")||470;return e.isEmbedded()?(t.paddingBottom="15px",e.isThankYouPageCloseBtnShown()&&(t.paddingBottom="0px")):t.paddingTop="30px",e.selectedFormKampyle&&e.selectedFormKampyle.settings&&e.selectedFormKampyle.settings.formThankYouPageSettings&&e.selectedFormKampyle.settings.formThankYouPageSettings.backgroundColor&&(t.backgroundColor=e.selectedFormKampyle.settings.formThankYouPageSettings.backgroundColor),t.height=e.setThankYouPageHeight(),t.width=e.setThankYouPageWidth(n),t},t.$on("showThankYouPage",function(){n(function(){if(s.checkProvision(DigProvisions.NEW_MODAL_DIALOGS))a.setInitFocus(document.querySelector(".kpl-thank-you"));else{var e=document.getElementById("thankYouPageText");e&&e.focus&&e.focus()}},0)}),e.thankYouPageUrl=r.trustAsResourceUrl(l()),e.setCloseButtonStyle=function(){var t={};return e.selectedFormKampyle&&e.selectedFormKampyle.settings.formThankYouPageSettings&&(e.selectedFormKampyle.settings.formThankYouPageSettings.buttonColor&&(t.background=e.selectedFormKampyle.settings.formThankYouPageSettings.buttonColor),e.selectedFormKampyle.settings.formThankYouPageSettings.textColor&&(t.color=e.selectedFormKampyle.settings.formThankYouPageSettings.textColor)),t},e.insertTextAlignLeft=function(e){var t=document.createElement("div"),n=t.childNodes;if(t.innerHTML=e,n&&n.length)for(var o=0;o<n.length;o++)if("UL"===n[o].nodeName)for(var i=n[o].childNodes,r=0;r<n[o].childNodes.length;r++)i[r].style&&!i[r].style.textAlign&&(i[r].style.textAlign="left");else n[o].style&&!n[o].style.textAlign&&(n[o].style.textAlign="left");return t.innerHTML},e.htmlDecode=function(t){var n;return n=new RegExp("&lt","g"),t=t.replace(n,"<"),n=new RegExp("&gt","g"),t=t.replace(n,">"),t=e.insertTextAlignLeft(t),r.trustAsHtml(t)},e.isEmbedded=function(){var t=o.getNestedProperty(e,"selectedFormKampyle.triggers.0.triggerType")||e.displayType;return"embedded"===t||t===FormTriggerTypes.EMBEDDED},e.hasImage=function(){var t=!!o.getNestedProperty(e,"selectedFormKampyle.settings.formThankYouPageSettings.logoURL.url");return t},e.isThankYouPageCloseBtnShown=function(){var t=!!o.getNestedProperty(e,"selectedFormKampyle.settings.formThankYouPageSettings.isShowCloseButton");return!e.isEmbedded()||t}}e.$inject=["$scope","$rootScope","$timeout","Common","Profile","$sce","TabManagerService","Provision"],app.controller("thankYouPageCtrl",e)}(),function(){"use strict";app.factory("FormBuilderService",["$http","$rootScope","$q","API_URLS","Common","Provision",function(e,t,n,o,i,r){function a(e){void 0===e&&(e=navigator.userAgent);var t={isIE:!1,trueVersion:0,actingVersion:0,isCompatibilityMode:!1},n=e.match(/Trident\/(\d+)/);n&&(t.isIE=!0,t.trueVersion=parseInt(n[1],10)+4);var o=e.match(/MSIE (\d+)/);return o?(t.isIE=!0,t.actingVersion=parseInt(o[1],10)):t.actingVersion=t.trueVersion,t.isIE&&t.trueVersion>0&&t.actingVersion>0&&(t.isCompatibilityMode=t.trueVersion!==t.actingVersion),t.isIE&&t.isCompatibilityMode}function s(e){void 0===e&&(e={});var t=e.status||"UNKNOWN";return angular.isObject(e.data)&&e.data.message?(e.data.message+=". Status code: ".concat(t),n.reject(e.data)):n.reject({message:"Status Code: ".concat(t,". Most likely this request didn't make it to the backend.")})}function l(e){return e.data}function d(t){var n=t.formId,o=t.mobileVersion,d=void 0===o?null:o,c=t.pages,u=t.siteUrl,p=t.siteUrlQueryParams,g=t.triggerType,f=t.customParams,b=void 0===f?[]:f,h=t.screenResolution,v=t.uuid,y=t.integrations,E=t.screenCapture,T=t.mobileDeviceData,_=void 0===T?null:T,C=t.secretToken,k=void 0===C?null:C,S=t.endUserIdentifier,M=void 0===S?null:S,A=t.onPremData,w=void 0===A?null:A,x=t.screenCaptureUuid,N=void 0===x?null:x,D=t.formLanguage,P=void 0===D?null:D,I=t.clientHintsValues,O=void 0===I?null:I,R=t.submitUrlPrefix,F=void 0===R?i.getNestedProperty(window,"kplConfig.submitUrlPrefix"):R,L=t.submitUrlSuffix,$=void 0===L?i.getNestedProperty(window,"kplConfig.submitUrlSuffix"):L,q=t.submitUrlWithBackendUUID,U=void 0===q?i.getNestedProperty(window,"kplConfig.submitUrlWithBackendUUID"):q,H={formId:n,triggerType:g,uuid:r.checkProvision(DigProvisions.BACKEND_GENERATED_UUID)?null:v,integrations:y,screenCapture:E,screenCaptureUuid:N,mobileDeviceData:_,endUserIdentifier:M,onPremData:w,url:u,urlQueryParams:p,dynamicData:{customParams:b,pages:c},fallbackScreenResolution:h,formLanguage:P,clientCorrelationId:r.checkProvision(DigProvisions.BACKEND_GENERATED_UUID)?v:null,clientHintsValues:O},B={"Content-Type":"application/json"};2!==d?H.secretToken=k:B.Authorization="Bearer_"+k;var G=F+$;if(r.checkProvision(DigProvisions.BACKEND_GENERATED_UUID)&&(G=U),a())return m.makeAjaxCall(H,G,"POST",!0);var V=e({method:"POST",url:G,data:H,headers:B});return V.then(l,s)}function c(e){void 0===e&&(e={});var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({unique_name:n,value:e[n]});return t}ar m={initSafeJSON:function(){if("undefined"!=typeof window.JSON)return window.JSON;var e=window.JSON||{};return e.stringify=e.stringify||function(t){var n=typeof t;if("object"!=n||null===t)return"string"==n&&(t='"'+t+'"'),String(t);var o=void 0,i=void 0,r=[],a=t&&t.constructor==Array;for(o in t)i=t[o],n=typeof i,"string"==n?i='"'+i+'"':"object"==n&&null!==i&&(i=e.stringify(i)),r.push((a?"":'"'+o+'":')+String(i));return(a?"[":"{")+String(r)+(a?"]":"}")},e.parse=e.parse||function(e){""===e&&(e='""');var t=" ".concat(e," ");return t},e},makeAjaxCall:function(e,t,o,i){var r=n.defer(),s=new XMLHttpRequest;if("withCredentials"in s?(s.open(o,t,!0),s.setRequestHeader("Content-type","application/json")):"undefined"!=typeof XDomainRequest?(s=new XDomainRequest,s.open(o,t)):s=null,s)return s.onload=function(e){r.resolve(e)},s.onerror=function(e){r.reject(e)},s.onprogress=function(){},s.ontimeout=setTimeout(function(){var t=JSON;a()&&(t=m.initSafeJSON()),s.send(t.stringify(e))},0),r.promise}},p=function(t){var n=o.form.getUndeletedForms+"/".concat(t),i=e({method:"GET",url:n});return i.then(l,s)};return{getForm:p,submitFeedback:d,formatCustomParams:c,isIECompatibilityMode:a,shouldExcluderFromTabOrder:u}}]),app.constant("API_URLS",{})}();var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},__assign.apply(this,arguments)};!function(){"use strict";app.factory("FormModel",["$rootScope","Profile","Common",function(e,t,n){function o(e,t,n){var o,i=n||u();if(!i||!i.pages)return!1;for(var r=0;r<i.pages.length;r++)for(var a=i.pages[r].dynamicData,s=0;s<a.length;s++)if(void 0!==t){if(o=e(a[s]),o===t)return t}else e(a[s])}function i(e){if(void 0===e&&(e={}),"nebUuid"in e){var t=s[e.nebUuid];t?s[e.nebUuid]=__assign(__assign({},t),e):s[e.nebUuid]=e}}function r(e){return s[e]}var a={},s={},l=!1,d=!1,c=!1,u=m=function(e){a.feedbackCorrelationUUID=e},p=function(){return a.feedbackCorrelationUUID},g=f=function(){return a.screenCaptureComponentUUID},b=function(){l=!0},h=function(){return l},v=function(e){if(!e&&0!==e||isNaN(e))return null;var t=u();return t&&t.pages&&t.pages[e]?t.pages[e].dynamicData:null},y=function(e){if("string"!=typeof e)return null;var t=u();if(!t||!t.pages||!t.pages.length)return null;for(var n=0;n<t.pages.length;n++)if(t.pages[n].name===e)return t.pages[n].dynamicData;return null},E=function(e){var t=u();if(!t||!t.pages)return null;for(var n=0;n<t.pages.length;n++)for(var o=t.pages[n].dynamicData,i=0;i<o.length;i++)if(o[i].nebUuid===e)return t.pages[n].index;return null},T=function(e){var t=u();if(!e||!t||!t.pages)return null;for(var n=0;n<t.pages.length;n++)for(var o=t.pages[n].dynamicData,i=0;i<o.length;i++)if(o[i].nebUuid===e)return o[i];return null},_=function(e){if(!e)return null;var t,n=return o(n,!0),t},C=k=function(e){var t=n.getNestedProperty(e,"triggers.0.displayType");return(t||"").toLowerCase()},S=function(e,t){return e.pages.forEach(},M=function(e){var o=t.checkProvision(DigProvisions.SCREEN_CAPTURE_AS_COMPONENT);return!o||o&&e==DigFormDisplayTypes.EMBEDDED||o&&n.isMobile()},A=w=function(){return d},x=function(e){d=e},N=function(){return c},D=function(e){c=e};return{getForm:u,getComponentsByPage:v,getPageByNebUuid:E,getComponentByNebUuid:T,iterateComponents:o,getComponentsByPageName:y,getNebUuidByUniqueName:_,isRatingField:C,setFeedbackCorrelationUUID:m,getFeedbackCorrelationUUID:p,setScreenCaptureUUID:g,getScreenCaptureUUID:f,getFormDisplayType:k,removeComponentIfExist:S,shouldRemoveScreenCaptureComponent:M,shouldRemoveMediaCaptureComponent:A,setScreenCaptureLoaded:b,isScreenCaptureLoaded:h,getIsRtl:w,setIsRtl:x,getIsReadOnlyMode:N,setIsReadOnlyMode:D,setFieldData:i,getFieldData:r}}])}(),function(){"use strict";function e(e,t,n,o){return{shouldApplyMobileWcagSupportToForm:function(){var i=!!e.app&&"Medallia Digital"===e.app.name,r=t.checkProvision(DigProvisions.MOBILE_SDKV2_FORM_WCAG_SUPPORT),a=o.getNestedProperty(n.getForm(),"settings.formMobileSettingsContract.wcagSupport");return r&&(i||a)}}}app.factory("WcagService",e),e.$inject=["$rootScope","Provision","FormModel","Common"]}(),function(){"use strict";function e(){function e(){return o}unction n(e){return null!=o?o.filter(function(t){return t.unique_name===e})[0]:null}var o;return{getCustomParams:e,setCustomParams:t,getCustomParamByName:n}}e.$inject=[],app.service("CustomParametersModel",e)}(),function(){"use strict";app.factory("Comperator",["CompareOperators","Common","FormModel",function(e,t,n){function o(e,t){try{var n=new RegExp(t);return!!n.test(e)}catch(o){return console.error("regex is not valid"),!1}}function i(e,t){var n=e&&t&&e.map&&t.map;if(n)for(var o=0;o<t.length;o++)if(e.includes(t[o]))return!0;return!1}var r=e.operators,a=function(t){var n=e.componentTypeToOperatorMap;return"string"==typeof t&&n[t]},s=l=function(e,t,n,o){var i=!!n&&"string"==typeof n&&typeof e===o&&(typeof t===o||s(n,r.hasValue))||!!n&&n===r.hasNoValue;return i},d=function(e){var t=!!n.getScreenCaptureUUID();switch(e){case r.hasValue:return!!t;case r.hasNoValue:return!t;default:return!1}},c=function(e,t,n){switch(n){case r.equals:return e===t;case r.hasValue:return null!==e&&void 0!==e;case r.hasNoValue:return null===e||void 0===e;default:return!1}},u=function(e,n,i){if(!l(e,n,i,"string"))return!1;if(!e)return i===r.hasNoValue;switch(e=t.safeToLowerCase(e),n=t.safeToLowerCase(n),i){case r.equals:return e===n;case r.notEquals:return e!==n;case r.contains:return e.indexOf(n)!==-1;case r.notContains:return e.indexOf(n)===-1;case r.startWith:return 0===e.indexOf(n);case r.endWith:return!!e.length&&!!n.length&&e.endsWith(n);case r.hasValue:return!!e||""===e||e===!1||0===e;case r.hasNoValue:return!e;case r.regexp:return o(e,n);default:return!1}},m=function(e,t,n){if(!l(e,t,n,"number"))return!1;if(""===e||void 0===e||null===e)return n===r.hasNoValue;switch(n){case r.equals:return e===t;case r.notEquals:return e!==t;case r.greater:return e>t;case r.smaller:return e<t;case r.hasValue:return!!e||0===e;default:return!1}},p=function(e,t,n){if(!l(e,t,n,"number"))return!1;if(!e)return n===r.hasNoValue;switch(e=new Date(e),t=new Date(t),e.setHours(0,0,0,0),n){case r.equals:return t.setHours(0,0,0,0),e.getTime()===t.getTime();case r.later:return t.setHours(23,59,59,999),e>t;case r.earlier:return t.setHours(0,0,0,0),e<t;case r.notEquals:return t.setHours(0,0,0,0),e.getTime()!==t.getTime();case r.hasValue:return!!e;default:return!1}},g=function(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n].trim());return t},f=function(e,n,o){var a=[];for(var s in e)e.hasOwnProperty(s)&&e[s]&&a.push(s);var l=g(a).sort();if(o===r.hasNoValue)return!l.length;if(o===r.hasValue)return l.length>0;if("string"!=typeof n||!l.length)return!1;var d=n.split(",");switch(d=g(d).sort(),o){case r.equals:return angular.equals(l,d);case r.notEquals:return!angular.equals(l,d);case r.contains:return t.isSubArray(l,d);case r.notContains:return!t.isSubArray(l,d);case r.anyOf:return i(d,l);default:return!1}},b=function(e){var t=e.type,n=e.operator,o=e.source,i=e.toCompare;switch(t){case"Number":return m(o,i,n);case"Text":return u(o,i,n);case"Boolean":return c(o,i,n);case"Datetime":return p(o,i,n);default:return!1}},h=function(e){if(e=e||{},!a(e.type))return!1;switch(e.type){case"date":return p(e.source,e.toCompare,e.operator);case FormComponents.RADIO:case FormComponents.SELECT:case FormComponents.EMAIL_INPUT:case FormComponents.TEXT_AREA:case FormComponents.TEXT_INPUT:return u(e.source,e.toCompare,e.operator);case FormComponents.GRADING1TO5:case FormComponents.GRADING1TO7:case FormComponents.GRADING1TO10:case FormComponents.GRADING0TO10:case FormComponents.NPS:return m(e.source,e.toCompare,e.operator);case FormComponents.CHECKBOX:return f(e.source,e.toCompare,e.operator);case FormComponents.SCREEN_CAPTURE:return d(e.operator);default:return!1}};return{compareStrings:u,compareBooleans:c,compareNumbers:m,compareCheckbox:f,compareDates:p,trimElements:g,validComparisonParams:l,compareByType:b,compareByComponentType:h}}]),app.constant("CompareOperators",function(){var e,t={equals:"Equals",notEquals:"Does Not Equal",contains:"Contains",notContains:"Does Not Contain",startWith:"Starts With",endWith:"Ends With",earlier:"Earlier Than",later:"Later Than",greater:"Greater Than",smaller:"Smaller Than",hasValue:"Has Value",hasNoValue:"Has No Value",regexp:"Regexp",anyOf:"Any of"},n=[t.equals,t.notEquals,t.contains,t.notContains,t.startWith,t.endWith,t.hasValue],o=[t.equals,t.notEquals,t.hasValue],i=[t.equals,t.notEquals,t.contains,t.notContains,t.hasValue],r=[t.equals,t.notEquals,t.earlier,t.later,t.hasValue],a=[t.equals,t.notEquals,t.greater,t.smaller,t.hasValue],s=[t.hasValue],l=[t.hasValue],d=[t.equals,t.hasValue],c={Number:a,Text:n,Datetime:r,Boolean:d},u=(e={},e[FormComponents.TEXT_INPUT]=n,e.urlInput=n,e[FormComponents.EMAIL_INPUT]=n,e[FormComponents.TEXT_AREA]=n,e[FormComponents.CHECKBOX]=i,e[FormComponents.SELECT]=o,e[FormComponents.RADIO]=o,e.date=r,e[FormComponents.GRADING1TO5]=a,e[FormComponents.GRADING1TO7]=a,e[FormComponents.GRADING1TO10]=a,e[FormComponents.GRADING0TO10]=a,e[FormComponents.NPS]=a,e[FormComponents.SCREEN_CAPTURE]=s,e[FormComponents.MEDIA_CAPTURE]=l,e),m=function(e){return e&&u[e]?u[e]:[]},p=return{operators:t,componentTypeToOperatorMap:u,getOperatorsByType:p,getOperatorsByComponentType:m}}()),Array.prototype.indexOf||(Array.prototype.indexOf=}(),function(){"use strict";function e(e,t,n,o,i){function r(){return o.getNestedProperty(n.getForm(),"settings.formAdvanceSettings.isCustomParamEnabled")}function a(e){var t=!1;return i.getPropertyType()===PropertyTypes.WEBSITE?null!==o.getSafeCustomParamVal(e)&&(t=!0):e&&null!==e.value&&void 0!==e.value&&(t=!0),t}function s(e,t){for(var n,o=[];n=t.exec(e);)o.push(n);return o}function l(e,t){for(var n=!1,o=s(e,m),i=0,r=o;i<r.length;i++)for(var l=r[i],d=0,c=t;d<c.length;d++){var u=c[d];if(u.unique_name===l[1]){var p="";a(u)&&(p=u.value,n=!0),e=e.replace("##".concat(l[1],"##"),p)}}return n?e.trim():null}function d(t,n){var o="".concat(n,"WithCP");if(t&&t[o]){var i=e.getCustomParams();if(i.length)return l(t[o],i)}return null}function c(e){return e&&e.useCustomParams&&(e.label=d(e,"label")||e.label,e.description=d(e,"description")||e.description),e}function u(){r()&&n.iterateComponents(c,!1,!1)}var m=/##(.*?)##/g;return{hasCustomParamValue:a,injectCustomParametersInForm:u,replaceCpPlaceholdersWithValues:l,replaceCustomParamsValues:d,replaceFieldsWithCustomParams:c}}e.$inject=["CustomParametersModel","Provision","FormModel","Common","Profile"],app.service("CustomParametersService",e)}();var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||!function(){"use strict";app.factory("ConditionalDisplayConf",["$rootScope","FormModel","Common","Profile",function(e,t,n,o){function i(e,t){if("group"===e.type||"formula"===e.type){var n=__assign({},e);return n.conditions=n.conditions.map(function(e){return e.nebUuid||"custom-param"!==e.type?e.nebUuid?t.includes(e.nebUuid)?e:null:i(e,t):e}).filter(function(e){return null!=e}),n}return e}var r=function(e){for(var n=[],o=t.getPageByNebUuid(e),i=function(e){var o=t.getForm().pages[e].name,i=t.getComponentsByPage(e),r=i.map(function(e){return e=__assign(__assign({},e),{pageName:o})});n.push.apply(n,r.filter()},r=0;r<o;r++)i(r);return n.push.apply(n,a(e)),n},a=function(e){if(!e)return null;var n=t.getPageByNebUuid(e),o=t.getComponentsByPage(n);if(o&&o.length){for(var i=[],r=o.length,a=0;a<r&&e!==o[a].nebUuid;a++)s(o[a].component)&&i.push(o[a]);return i}return null},s=l=function(e){var n=t.getComponentByNebUuid(e);return!!n&&n.cdSource},d=function(e){var n=t.getComponentByNebUuid(e),o=null===n||void 0===n?void 0:n.cdSource;return o&&(o.conditions&&o.conditions.length||o.nebUuid||o.customParamName)},c=u=m=function(e){e.forEach(function(e){"advanced"===e.conditionType?p(e):u(e.nebUuid)})},p=function(e){var t=e.validComponents,n=i(e.condition,t),o=g(n);c(e.nebUuid,o)},g=function(e){if("group"===e.type||"formula"===e.type){var t=__assign({},e);return t.conditions=t.conditions.map(function(e){return g(e)}).filter(,t.conditions.length?t:null}return e},f=function(e){return[].concat.apply([],e.conditions.map(function(e){return void 0!=e.nebUuid?[e.nebUuid]:"formula"===e.type||"group"===e.type?f(e):[]}))},b=h=function(e,t){var n=__assign(__assign({},e),{pages:e.pages.map(function(e){return __assign(__assign({},e),{dynamicData:e.dynamicData.filter(})})});return v(n)},v=function(e){var n=[],o=[],i=function(e){var t;if(!e.cdSource)return o.push(e.nebUuid),!1;var i="formula"===e.cdSource.type;if(i){var r=f(e.cdSource);r.length&&!b(o,r)&&n.push({conditionType:"advanced",unique_name:e.unique_name,nebUuid:e.nebUuid,condition:e.cdSource,validComponents:__spreadArray([],o,!0)})}else if(void 0!=(null===(t=e.cdSource)||void 0===t?void 0:t.nebUuid)){var a=e.cdSource.nebUuid;o.indexOf(a)===-1&&n.push({conditionType:"simple",unique_name:e.unique_name,nebUuid:e.nebUuid})}o.push(e.nebUuid)};return t.iterateComponents(i,!0,e),n},y=function(){var e=function(e){e.nebUuid||(e.nebUuid=n.generateUuid())},o=function(e){var n;e.conditionalDisplay&&e.conditionalDisplay.unique_name&&!e.cdSource&&(n=t.getNebUuidByUniqueName(e.conditionalDisplay.unique_name),n&&(e.cdSource={nebUuid:n,operator:e.conditionalDisplay.targetField,value:e.conditionalDisplay.targetValue,componentType:e.conditionalDisplay.targetType},delete e.conditionalDisplay,e.conditionalDisplayTargets&&delete e.conditionalDisplayTargets))};t.iterateComponents(e),t.iterateComponents(o)};return{getPreviousComponents:a,updateCdSource:c,resetConditionalDisplaySettings:u,hasCdSource:d,getImpactedCdComponents:v,validifyComponents:y,getCdSource:l,getAllPreviousComponents:r,getImpactedCdComponentsWhenDeleted:h,cleanConditionalDisplays:m}}])}();var __assign=this&&this.__assign||!function(){"use strict";app.factory("ConditionalDisplayRun",["FormModel","Comperator","ConditionalDisplayConf","CustomParametersModel",function(e,t,n,o){function i(e,t){return m(e)?"or"===e.logicalOperator?e.conditions.some(function(e){return i(e,t)}):!e.conditions.some(:t(e)}function r(e,t){return m(e)?void e.conditions.forEach(function(e){return r(e,t)}):t(e)}function a(e){var t={},n=function(n){r(e[n],function(e){if("nebUuid"in e){var o=e.nebUuid,i=t[o];i?i.includes(n)||i.push(n):t[o]=[n]}})};for(var o in e)n(o);return d(t)}function s(){function t(e){if(m(e)){var n=[];if(e.conditions.forEach(,n.length)return __assign(__assign({},e),{conditions:n})}else{var i=e.customParamName;if(!i)return e;var r=o.getCustomParamByName(i);if(void 0!==r)return e}}var n={};return e.iterateComponents(function(e){if(e&&e.cdSource&&e.cdSource){var o=t(e.cdSource);o&&(n[e.nebUuid]=__assign({},o))}}),u(n)}unction d(e){return S=e}nction m(e){return e&&"type"in e&&("group"===e.type||"formula"===e.type)&&!!e.conditions}function p(e){return e&&"number"!=typeof e?"string"==typeof e?(e=new Date(e),e&&e.getTime?e.getTime():null):e instanceof Date||e.getTime&&!isNaN(e.getTime())?e.getTime():null:e}function g(e){var t=parseInt(e,10);return t?t:e}function f(e,t){if(null==e)return null;switch(t){case"Boolean":return b(e);case"Number":var n=parseInt(e);return isNaN(n)?null:n;case"Datetime":return new Date(e).getTime();case"Text":return e}}function b(e){if("boolean"==typeof e)return e;if("string"!=typeof e)return null;switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1;default:return Boolean(e)}}function h(e,t){switch(t){case FormComponents.NPS:return g(e);case FormComponents.GRADING0TO10:var n=parseInt(e);return isNaN(n)?null:n;case FormComponents.GRADING1TO5:case FormComponents.GRADING1TO7:case FormComponents.GRADING1TO10:return parseInt(e)||null;case"date":return p(e);default:return e||null}}unction y(e){var n=o.getCustomParamByName(e.customParamName);if(null!=n){var i=f(e.value,n.type),r=f(n.value,n.type);return t.compareByType({source:r,toCompare:i,operator:e.operator,type:n.type})}return!0}function E(n){var o=e.getFieldData(n.nebUuid),i=e.getComponentByNebUuid(n.nebUuid);if(o){var r=i.display?h(o.value,o.type):null,a=h(n.value,n.componentType);return t.compareByComponentType({source:r,toCompare:a,operator:n.operator,type:n.componentType})}return!0}function T(e){if(e){if(!("type"in e))return E(e);switch(e.type){case"custom-param":return y(e);case"component":return E(e)}}return!0}function _(t,n,o){A||k();var r=v(t);if(t!==n||o){var a=i(M[t],T),s=e.getComponentByNebUuid(t);s.display=a}r.length&&r.map(}function C(t,n){var o=!e.getFieldData(n).cdInitialized;e.setFieldData({value:t,nebUuid:n,cdInitialized:!0}),_(n,n,o)}function k(){try{n.validifyComponents(),l(),A=!0}catch(e){console.error("Conditional display could not start")}}var S,M,A=!1;return{formatValueByType:h,formatValueByParameterType:f,npsFormatValue:g,safeDateParse:p,buildDependenciesMap:a,checkDependingFieldsConditions:_,setCdSourceMap:u,buildCdMaps:l,getCdDependeniesMap:c,checkConditionalDisplay:C,init:k}}])}(),function(){"use strict";function e(e,t,n,o,i,r){function a(e){e=e||{};var t=i.open({templateUrl:"assets/views/templates/confirm.html",controller:["$scope","$modalInstance","texts","btnClasses","bodyTemplate","hiddenElements","Profile","NebGetProperties","NebProperty",function(e,t,n,o,i,r,a,s,l){e.propertyName=l.getPropertyName(),
s.fetch().then(,e.texts=n,e.texts.bodyText=i||e.texts.bodyText,e.btnClasses=o,e.hiddenElements=r,e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}}],windowClass:e.windowClass||"",backdrop:"true",size:e.size||"md",resolve:{texts:function(){return{headerText:e.headerText||"",bodyText:e.bodyText||"",noteText:e.noteText||"",okBtnText:e.okBtnText||"OK",cancelBtnText:e.cancelBtnText||"Cancel"}},btnClasses:function(){return{okBtnClass:e.okBtnClass||"btn-danger",cancelBtnClass:e.cancelBtnClass||"btn-default"}},hiddenElements:bodyTemplate:});t.result.then(e.okCallback,e.cancelCallback)}function s(e,t,n,o){e.modalTexts=t,e.nameOptions=n,e.ok=e.cancel=function(){o.dismiss("cancel")}}unction d(e){if(void 0===e&&(e={}),e.templateUrl||e.template){if(e.modalId){if(m[e.modalId])return;m[e.modalId]=!0}var t={};for(var n in e.data)e.data.hasOwnProperty(n)&&!n);var o=void 0;o=e.controller?e.controller:u[e.controllerType]||u["default"];var r={controller:o,backdrop:e.backdrop||"true",size:e.size||"lg",resolve:t,templateUrl:void 0,template:void 0,controllerAs:e.controllerAs,windowClass:e.windowClass,scope:e.scope};e.templateUrl&&(r.templateUrl=e.templateUrl),e.template&&(r.template=e.template);var a=i.open(r);a.result.then(e.okCallback,e.cancelCallback)}else console.warn("missing template url")}var c=function(e,t){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}},u={"default":c,add:s},m={};s.$inject=["$scope","modalTexts","nameOptions","$modalInstance"];var p=return{openConfirmDialog:a,openModal:d,freeOpenModal:l,dismissAllModals:p}}app.factory("ModalHelper",e),e.$inject=["$http","API_URLS","$rootScope","$q","$modal","$modalStack"]}(),function(){"use strict";app.factory("TabManagerService",function(){var e=window.exports&&window.exports.tabManager?window.exports.tabManager():{},t=return{setTabLoop:e.setTabLoop||t,removeTabLoop:e.removeTabLoop||t,setInitFocus:e.setInitFocus||t,getFirstElement:e.getFirstElement||t,getLastElement:e.getLastElement||t,collectElements:e.collectElements||t}})}(),function(){app.directive("nebOverlay",[function(){return{restrict:"A",scope:{overlay:"=nebOverlay",overlayColor:"=nebOverlayColor"},link:function(e,t,n,o){var i=angular.element("<div></div>");i.css({width:"100%",height:"100%",position:"absolute",backgroundColor:e.overlayColor||"rgb(255,255,255)",zIndex:5,opacity:.3,cursor:"not-allowed",top:0,left:0}),t.css("position","relative"),t.append(i),e.$watch("overlay",function(e,t,n){var o=e?"block":"none";i.css("display",o)}),i.on("click dblclick",}}}])}(),function(){"use strict";var e=!1,t=function(e){var t="SendMessageToGeneric",n=e.get("$rootScope"),o={action:"scrollToForm",formId:n.globalSelectedForm.id};return e.has("eventDispatcher")?void e.get("eventDispatcher").trigger(t,o):void n.$broadcast(t,o)},n=function(e,t,n){var o=e.get("$rootScope"),i=e.has("eventDispatcher")?e.get("eventDispatcher").subscribe:o.$on.bind(o);i(t,n)},o=function(){function o(o,i,r,a){var s=this;this.$timeout=o,this.$injector=i,this.UA=r,this.Profile=a,this.restrict="A",this.link=function(o,i){var r=s;a.isMobileProperty()&&r.UA.getIosVersion()&&r.UA.getIosVersion()>=12&&a.checkProvision("mobileSdkFixIos12KeyboardIssue")&&i.on("blur",function(){setTimeout(function(){angular.element("html").animate({height:"100.1vh"},10,function(){angular.element(this).animate({height:"100vh"},1)})},100)}),r.UA.getIosVersion()&&r.UA.getIosVersion()>7&&!a.checkProvision("mobileWebDynamicFormSizeInFormBuilder")&&(i.on("focus",function(){e||(t(r.$injector),e=!e),r.$timeout(500)}),n(r.$injector,"formClose",),r.UA.isIE()||a.checkProvision(DigProvisions.NEW_MODAL_DIALOGS)||i[0].addEventListener("keydown",function(e){if(9===(e.which||e.keyCode)){var t=angular.element(".neb-component:not(.neb-sectionBreak, .neb-label, .neb-image)").toArray(),n=t.find(;if(!e.shiftKey){var o=r.UA.isFirefox()?10:0;r.UA.isSafari()||e.target.blur(),r.$timeout(o)}}})}}return o.prototype.isElementDisplayed=o.prototype.focusOnNextVisibleElement=function(e,t){var n=this,o=e.indexOf(t);if(o!==e.length-1){var i=e.slice(o+1).find(||angular.element("neb-form-footer"),r="\n          button,\n          input:not([tabindex=-1]),\n          textarea:not([tabindex=-1]),\n          [tabindex=0]\n        ";angular.element(i).find(r).get(0)&&angular.element(i).find(r).get(0).focus()}},o}();app.directive("nebInputField",["$timeout","$injector","UserAgent","Profile",function(e,t,n,i){return new o(e,t,n,i)}])}(),function(){"use strict";ar t=function(){function t(){this.link=function(t,n,o){n.on("keydown",function(t){9===(t.which||t.keyCode)&&("first"===o.nebTabBoundary&&t.shiftKey&&(e(t),document.querySelector('[neb-tab-boundary="last"]').focus()),"last"!==o.nebTabBoundary||t.shiftKey||(e(t),document.querySelector('[neb-tab-boundary="first"]').focus()))})}}return t}();app.directive("nebTabBoundary",["Provision",function(e){return e.checkProvision(DigProvisions.NEW_MODAL_DIALOGS)?{}:new t}])}(),function(){"use strict";var e=function(){function e(e){this.Common=e,this.restrict="A",this.link=function(t,n){if(e.isMobile())switch(t.component){case"nps":case"grading":case"grading1to10":n.find(".control-label").attr({tabindex:"0","aria-hidden":"false"}),n.find("p.description").attr("tabindex","0")}}}return e}();app.directive("nebWebComponent",["Common",)}(),function(){"use strict";app.directive("nebFormFields",["$window","Common","Profile","FormModel","$timeout","eventDispatcher","FormBuilderService","TabManagerService","$rootScope",function(e,t,n,o,i,r,a,s,l){var d=90;return{restrict:"A",link:function(c,u){function m(){if(!c.isMobileWeb){var e=n.checkProvision("mobileWebDynamicFormSizeInFormBuilder");u.css({height:"calc(100% - 85px)",maxHeight:"calc(100% - 85px)",overflow:e?"hidden":"auto"})}}function p(){var e;e="auto",!g()&&c.isDynamicSizeForm()||(e=c.selectedFormKampyle.settings.formBasicSettings.heightPX-d),u.css("height",e)}function g(){return void 0!==c.displayType&&c.displayType!==DigFormDisplayTypes.LIGHTBOX&&c.displayType!==DigFormDisplayTypes.EMBEDDED}function f(){return(c.isMobile||c.isMobileWeb)&&c.displayType!==DigFormDisplayTypes.EMBEDDED}function b(){return c.displayType===DigFormDisplayTypes.EMBEDDED&&c.shouldFocusOnEmbeddedForm||c.displayType!==DigFormDisplayTypes.EMBEDDED}function h(){var e=document.querySelector("div.neb-form-wcag");e&&!t.isFocused(e)&&e.focus()}function v(){var e=document.querySelector("[neb-form-fields] [neb-web-component]");if(e&&!c.showXBtn()&&(e.querySelector("div.neb-wcag").setAttribute("neb-tab-boundary","first"),e.querySelector("div.neb-wcag").setAttribute("tabindex","0")),!e)return!1;var i,r,s=o.getComponentByNebUuid(e.getAttribute("data-neb-uuid")).component;switch(s){case FormComponents.TEXT_INPUT:case FormComponents.TEXT_AREA:case FormComponents.EMAIL_INPUT:case FormComponents.NPS:case FormComponents.GRADING1TO5:case FormComponents.GRADING0TO10:case FormComponents.GRADING1TO7:case FormComponents.GRADING1TO10:r=".neb-rating-value .rating-label";break;case FormComponents.RADIO:r=n.isWCAG()?".neb-content .neb-native-radio input":".neb-content md-radio-group";break;case FormComponents.CHECKBOX:r=".neb-content md-checkbox";break;case FormComponents.SELECT:r=".neb-content select";break;case FormComponents.LABEL:r=".neb-content p";break;case FormComponents.IMAGE:r=".neb-content img";break;case FormComponents.SECTION_BREAK:r=".neb-website-sectionBreak";break;default:console.warn("first element cant be selected (robustness problem on the selectors)")}return i=e.querySelector(r),!(!r||!i)&&(a.shouldExcluderFromTabOrder(s)&&(i=s===FormComponents.LABEL?t.getNestedProperty(i,"firstChild"):i,i.setAttribute("tabindex","-1")),void(i&&"function"==typeof i.focus&&i.focus()))}function y(){if(l.initFormLoad)s.setInitFocus(document.querySelector("[neb-form-fields]"));else{var e=c.isFormAnimationDisplayType()?1e3:0;i(e)}}r.subscribe("setFormStyle",p),n.isWCAG()&&r.subscribe("setFocus",h),f()?(m(),e.addEventListener("resize",m)):(c.$evalAsync(p),e.addEventListener("resize",p),c.$watch("displayType",p)),i(function(){b()&&(n.checkProvision(DigProvisions.NEW_MODAL_DIALOGS)?y():(h(),v())),l.initFormLoad=!0})}}}])}(),function(){"use strict";function e(e,t,n,o,i){function l(){return n.checkProvision(DigProvisions.ALTERNATIVE_UUID)?o.generateAlternativeUuid():o.generateUuid()}var d=this;d.$onInit=function(o){if(d.nebModel=null,d.wasPictureTaken=!1,d.screenCaptureReady=!1,d.tempGeneratedUUID=null,d.isWcagEnabled=n.checkProvision("formTemplatesWCAG"),!d.readonly){var i={screenCaptureTaken:[d.onScreenCaptureTaken].concat(n.checkProvision(DigProvisions.FORM_WCAG)?[d.focusOnElement]:[]),screenCaptureLoaded:[d.handleScreenCaptureLoaded],screenCaptureCanceled:n.checkProvision(DigProvisions.FORM_WCAG)?[d.focusOnElement]:[]};e.subscribeMany(i)}t.isScreenCaptureLoaded()&&d.handleScreenCaptureLoaded(),d.checkConditionalDisplay()},d.focusOnElement=function(e){setTimeout(500)},d.handleScreenCaptureLoaded=function(){d.screenCaptureReady||(d.screenCaptureReady=!0,i.$watch("$ctrl.display",function(e){e&&d.shouldAutoOpenWidget?d.openScreenCaptureWidget():e||t.setScreenCaptureUUID(null)}))},d.onScreenCaptureTaken=function(){t.setScreenCaptureUUID(d.tempGeneratedUUID),d.loadTooltip(),d.wasPictureTaken||(d.wasPictureTaken=!0),d.isRequired()&&(d.nebModel=!0),d.checkConditionalDisplay()},d.openScreenCaptureWidget=function(){if(!d.readonly&&d.screenCaptureReady){d.tempGeneratedUUID=l();var n=Object.assign({},d.screenCaptureDynamicContract,{screenCaptureAsComponentEnabled:!0});e.trigger("triggerScreenCapture",{screenCaptureSettings:n,screenCaptureUuid:d.tempGeneratedUUID,feedbackCorrelationUUID:t.getFeedbackCorrelationUUID()}),d.wasPictureTaken&&e.trigger("screenCaptureRetake")}},d.getStyle=d.cancelScreenCapture=function(n){t.setScreenCaptureUUID(null),d.checkConditionalDisplay(),n.stopPropagation(),d.isRequired()&&(d.nebModel=null),e.trigger("screenCaptureDelete")},d.loadTooltip=function(){var e=angular.element(r);e.tooltip({title:d.deleteButtonTooltip,container:"#screen-capture-wrapper"})},d.openScreenCaptureWidgetByKeyboard=d.cancelScreenCaptureByKeyboard=d.hasPicture=d.getDefaultPlaceholder=function(){return d.hasPicture()||d.placeholder.length?"":s},d.isRequired=function t(){var e='\n        <div id="screen-capture-container">\n            <label for="screen-capture-wrapper">{{$ctrl.label}}</label><i ng-show="$ctrl.isRequired()" class="fa fa-asterisk required-sign" aria-hidden="true" aria-label="{{$ctrl.isRequired() ? \'required\' : \'\'}}"></i>\n            <div id="screen-capture-wrapper" ng-class="{\'wcag-contrast\': $ctrl.isWcagEnabled }" ng-keydown="$ctrl.openScreenCaptureWidgetByKeyboard($event)" ng-click="$ctrl.openScreenCaptureWidget()">\n                <div class="icon-wrapper" ng-style="$ctrl.getStyle()" ng-if="!$ctrl.hasPicture()" >\n                    '.concat(n,'\n                </div>\n                <div class="icon-wrapper" ng-style="$ctrl.getStyle()" ng-if="$ctrl.hasPicture()">\n                    ').concat(o,'\n                </div>\n                <span ng-class="{\'retake-text-wrapper\': $ctrl.hasPicture() }" id="screen-capture-text-wrapper" class="text-wrapper" role="button" tabIndex="0" aria-labelledby="label_{{$ctrl.nebUuid}}" aria-label="{{$ctrl.getDefaultPlaceholder()}}" aria-describedby="desc_{{$ctrl.nebUuid}}">{{$ctrl.hasPicture() ? $ctrl.retakeText : $ctrl.placeholder}}</span>\n                <span ng-keydown="$ctrl.cancelScreenCaptureByKeyboard($event);" class="cancel-icon-wrapper" ng-show="$ctrl.hasPicture()" tabIndex="0" role="button" ng-click="$ctrl.cancelScreenCapture($event);">\n                    ').concat(i,"\n                </span>\n            </div>\n        </div>\n\t\t");return{restrict:"E",template:e,controllerAs:"$ctrl",bindToController:!0,transclude:!0,scope:{readonly:"=",placeholder:"@",logoBackgroundColor:"=",retakeText:"=",label:"@",checkConditionalDisplay:"&",display:"=",deleteButtonTooltip:"=",screenCaptureDynamicContract:"=",nebUuid:"@",shouldAutoOpenWidget:"=",nebModel:"=",validatorRequired:"@"},controller:"nebScreenCaptureCtrl",link:}var n='<svg focusable="false" id="none-taken-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="26" height="26" viewBox="0 0 26 26"><defs><style>.a{fill:#fff;}.b{clip-path:url(#a);}.c{fill:#fff;}</style><clipPath id="a-screen-capture-none-taken"><rect class="a" width="26" height="26" transform="translate(218 45)"/></clipPath></defs><g class="b" transform="translate(-218 -45)"><path class="c" d="M-5871-1848a2,2,0,0,1-2-2v-7.53a2,2,0,0,1,2-2h2.285V-1860a2,2,0,0,1,2-2h5.427a2,2,0,0,1,2,2v.471H-5857a2,2,0,0,1,2,2v7.53a2,2,0,0,1-2,2Zm3-6a4,4,0,0,0,4,4,4,4,0,0,0,4-4,4.005,4.005,0,0,0-4-4A4.005,4.005,0,0,0-5868-1854Zm2,0a2,2,0,0,1,2-2,2,2,0,0,1,2,2,2,2,0,0,1-2,2A2,2,0,0,1-5866-1854Z" transform="translate(6095.001 1912.999)"/></g></svg>',o='<svg focusable="false" id="picture-taken-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="26" height="26" viewBox="0 0 26 26"><defs><style>.a{fill:#fff;}.b{clip-path:url(#a);}</style><clipPath id="a-screen-capture-taken"><rect class="a" width="26" height="26" transform="translate(315 43)"/></clipPath></defs><g class="b" transform="translate(-315 -43)"><path class="a" d="M-5871-1849a2,2,0,0,1-2-2v-7.529a2,2,0,0,1,2-2h2.286V-1861a2,2,0,0,1,2-2h4.795a6.01,6.01,0,0,0,2.023,3.564A6,6,0,0,0-5856-1858a6.1,6.1,0,0,0,1-.083V-1851a2,2,0,0,1-2,2Zm3-6a4,4,0,0,0,4,4,4,4,0,0,0,4-4,4,4,0,0,0-4-4A4.006,4.006,0,0,0-5868-1855Zm2,0a2,2,0,0,1,2-2,2,2,0,0,1,2,2,2,2,0,0,1-2,2A2,2,0,0,1-5866-1855Zm5-9a5.006,5.006,0,0,1,5-5,5.006,5.006,0,0,1,5,5,5.006,5.006,0,0,1-5,5A5.006,5.006,0,0,1-5861-1864Zm2,.476,1.917,1.918,4.117-4.117-.764-.831-3.353,3.453-1.231-1.253Z" transform="translate(6192 1912.001)"/></g></svg>',i='<svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><defs><style>.cancel-capture{fill:#595959;opacity:0.572;} .cancel-capture:hover{fill:#484848}</style></defs><path class="cancel-capture" d="M6.032,5,9.786,8.755A.729.729,0,0,1,8.755,9.786L5,6.031,1.245,9.786A.729.729,0,0,1,.214,8.755L3.969,5,.214,1.245A.729.729,0,0,1,1.245.214L5,3.969,8.755.215A.729.729,0,1,1,9.786,1.246L6.032,5Z"/></svg>',r=".cancel-icon-wrapper",a={ENTER:13,SPACE:32},s="Take a screen capture";app.controller("nebScreenCaptureCtrl",e).directive("nebScreenCapture",t),e.$inject=["eventDispatcher","FormModel","Provision","Common","$scope"]}(),function(){"use strict";var e=function(){function e(e,t,n,o){this.Provision=e,this.$timeout=t,this.$parse=n,this.TabManagerService=o,this.restrict="A",this.link=this.link.bind(this)}return e.prototype.link=function(e,t,n){var o=this,i=o.Provision,r=o.TabManagerService,a=o.$parse;if(i.checkProvision(DigProvisions.NEW_MODAL_DIALOGS)){var s=a(n.tabNavigationScope),l=s()||{},d=l.initFocus,c=l.tabLoop;this.$timeout(function(){var e=t[0];d&&r.setInitFocus(e),c&&r.setTabLoop(e)})}},e}();app.directive("tabNavigationScope",["Provision","$timeout","$parse","TabManagerService",)}(),function(){"use strict";function e(e,t,n,o){function i(){return e.all([t.getPropertyTypeAsync(),n.init("".concat(r,"resources/appTreeLiveForm.json"))]).then(function(){t.setIsWCAG("true"===o.getUrlParam("isWCAG",location.href))})}var r=o.getNestedProperty(window,"kplConfig.prefix","");return{init:i}}app.factory("LiveFormInitializationService",e),e.$inject=["$q","Profile","NebAppTree","Common"]}(),function(){"use strict";app.factory("ResizeService",[function(){function e(e){var t=e.target||e.srcElement;t.__resizeRAF__&&r(t.__resizeRAF__),t.__resizeRAF__=i(}function t(t){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",e)}var n=document.attachEvent,o=navigator.userAgent.match(/Trident/),i=),r=);return{addResizeListener:function(i,r){if(!i.__resizeListeners__)if(i.__resizeListeners__=[],n)i.__resizeTrigger__=i,i.attachEvent("onresize",e);else{"static"==getComputedStyle(i).position&&(i.style.position="relative");var a=i.__resizeTrigger__=document.createElement("object");a.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),a.__resizeElement__=i,a.onload=t,a.type="text/html",o&&i.appendChild(a),a.data="about:blank",o||i.appendChild(a)}i.__resizeListeners__.push(r)},removeResizeListener:function(t,o){t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(o),1),t.__resizeListeners__.length||(n?t.detachEvent("onresize",e):(t.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",e),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)))}}}])}(),app.directive("nebOnResize",["$parse","Profile",function(e,t){return{restrict:"A",link:function(n,o,i){if(!t.checkProvision(DigProvisions.PREVENT_IFRAME_SCROLLBAR_FLICKERING)||!n.isFormEmbeddedDisplayType()){var r=e(i.nebOnResize),a=!1,s={height:void 0,width:void 0};n.$watch(function(){a||(a=!0,setTimeout(function(){a=!1;var e=!1,t={height:void 0,width:void 0};s.height!==o[0].offsetHeight&&(s.height=o[0].offsetHeight,t.height=o[0].offsetHeight,e=!0),s.width!==o[0].offsetWidth&&(s.width=o[0].offsetWidth,t.width=o[0].offsetWidth,e=!0),e&&r(n,{data:t})}))})}}}}]),app.directive("nebOnElementResize",["Common","ResizeService","Profile",function(e,t,n){return{restrict:"A",link:function(o,i,r){if(n.checkProvision(DigProvisions.PREVENT_IFRAME_SCROLLBAR_FLICKERING)&&o.isFormEmbeddedDisplayType()){var a=e.debounce(100,!1);t.addResizeListener(i[0],a),a()}}}}]);