/*@license For license information please refer to shared-ui-customer-notifications.licenses.txt*/
(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[85],{65297:function(e,t,n){n.d(t,{OD:function(){return Ae},Pd:function(){return zn},R5:function(){return Fn},Yx:function(){return Kn}});var i=n(67294),l=n(46829),o=n(95878),a=n(71439),r=n(98250),c=n(30082),d=n(20515),u=n(78987),s=n(93351),m=n(56095),v=n(70094),E=n(13413),f=n(46605),g=n(51330),p=n(23984),h=n(91233),b=n(30300),y=n(19633),_=n(8470),k=n(85213),A=n(29097),N=n(10333),T=n(41913),C=n(34353),L=n(49349),S=n(61124),x=n(53274),I=n(8315),w=n(73030),O=n(89191),R=n(5419),P=n(95128),D=n(35957),M=n(84139),z=n(16550),F=n(27764),U=n(58153),B=n(18397),G=n(68369),Y=n(52818),V=n(32926),q=n(23236),j=n(22809),W=n(85395),H=n(17684),K=n(32877),Q=n(12108),$=n(41419),Z=n(79221),X=n(4959);n(70703);var e=de(["\n  fragment NotificationActionSchema on NotificationSchema {\n    __typename\n    name\n    messageContent {\n      __typename\n      name\n      value\n    }\n  }\n\n  fragment NotificationActionAnalytics on NotificationAnalytics {\n    __typename\n    description\n    referrerId\n    schema {\n      ...NotificationActionSchema\n    }\n  }\n\n  fragment NotificationActionEgClickstream on NotificationAnalyticsEgClickstream {\n    __typename\n    description\n    event {\n      __typename\n      eventName\n      eventType\n      eventCategory\n      eventVersion\n      actionLocation\n    }\n    schema {\n      ...NotificationActionSchema\n    }\n  }\n\n  fragment NotificationAction on NotificationAction {\n    __typename\n    ...NotificationActionAnalytics\n    ...NotificationActionEgClickstream\n    ... on NotificationCookie {\n      name\n      value\n      expires\n    }\n  }\n"]);return ve=function(){return e},e}function Ee(){var e=de(["\n  mutation SendTextToDownloadAppMutation($context: ContextInput!, $placementId: String!, $customerInput: NotificationUserInput!) {\n    sendTextToDownloadApp(context: $context, placementId: $placementId, customerInput: $customerInput) {\n      messageType\n      messageBody\n      invalidFields\n    }\n  }\n"]);return Ee=function(){return e},e}function fe(){var e=de(["\n  mutation ConsentMgmtMutation($context: ContextInput!, $request: SavePrefRequestInput!) {\n    consentMgmtPrefSubmit(context: $context, request: $request) {\n      success\n    }\n  }\n"]);return fe=function(){return e},e}ar pe,he=Object.defineProperty,be=function(e,t,n){return e,"symbol"!==(void 0===t?"undefined":t))?t+"":t,n),n},ye=_e=function(e,t,n){var i=Array.isArray(t)?t:function(e){return e.split(".").map(()}(t),l=ue(i),o=l[0],a=l.slice(1);Object.prototype.hasOwnProperty.call(e,o)||(a.length?e[o]=ye(a[0])?[]:{}:e[o]=n),a.length&&_e(e[o],a,n)},ke=((0,a.gql)(ve()),function(){var e=(0,r.useClickTracker)(),t=(0,r.useEgClickstream)(),n=(0,i.useMemo)((function(){return{NotificationCookie:NotificationAnalyticsEgClickstream:function(e){var n,i,l,o,a,r;t((o=(n=e).event,a=n.schema,r={event:{event_name:o.eventName,event_type:o.eventType,event_category:o.eventCategory,event_version:o.eventVersion,action_location:null!==(l=o.actionLocation)&&void 0!==l?l:""}},null===(i=a)||void 0===i||i.forEach((function(e){var t=e.name;e.messageContent.forEach((function(e){var n=e.name,i=e.value;_e(r,"".concat(t,".").concat(n),i)}))})),r))},NotificationAnalytics:function(t){e(t.referrerId,t.description||"",void 0,function(e){var t,n=[];return null===(t=e.schema)||void 0===t||t.forEach((function(e){var t={};e.messageContent.forEach((function(e){var n=e.name,i=e.value,l=n.split(".");if(1===l.length)t[n.replace(/\s/g,"-")]=i;else{var o,a=ae({},(t[l[0]]||[{}])[0]);ye(i)||function(e){var t,n;return"boolean"==typeof e||"string"==typeof e&&("true"===(null===(t=e)||void 0===t?void 0:t.toLowerCase())||"false"===(null===(n=e)||void 0===n?void 0:n.toLowerCase()))}(i)?a[l[1]]=ye(i)?Number.parseInt(i,10):JSON.parse(null===(o=i)||void 0===o?void 0:o.toLowerCase()):a[l[1]]=i,t[l[0]]=[a]}})),n.push({schemaName:e.name,messageContent:t})})),n}(t))}}}),[e,t]);return(0,i.useCallback)((function(e){var t;null===(t=e)||void 0===t||t.forEach((function(e){var t,i;null===(t=(i=n)[e.__typename])||void 0===t||t.call(i,e)}))}),[n])}),Ae=Ae||{}),Ne=function(){return i.createElement(i.Fragment,null,i.createElement(c.t,{backgroundTheme:"global-loyalty-standard",padded:!1,"data-stid":"customer-notifications-placeholder"},i.createElement(d.U,null,i.createElement(u.H,null)),i.createElement(d.U,null,i.createElement(u.H,{animation:!0,type:"secondary"}))))},Te=function(e,t){if(e){var n=new URL(e);return n.searchParams.has("$canonical_url")||!t?"".concat(n):"".concat(n,"&").concat(encodeURIComponent("$canonical_url"),"=").concat(encodeURIComponent(t))}},Ce=function(e){var t,n,l,o=e.title,a=e.revealActions,r=e.logo,c=e.tuneLink,d=e.dismiss,u=e.referer,y=ce(i.useState(!0),2),_=y[0],k=y[1],A=ke();i.useEffect((function(){A(a)}),[]);if(!_)return null;var N=Te(null===(n=c)||void 0===n||null===(t=n.uri)||void 0===t?void 0:t.value,u),T="data:image/svg+xml,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg"><linearGradient id="g" gradientTransform="rotate(45)"><stop offset="0%" stop-color="#212841"  /><stop offset="54.45%" stop-color="#184268" /><stop offset="100%" stop-color="#0576B6" /></linearGradient><rect width="100%" height="150%" fill="url(#g)" /></svg>'));return i.createElement(s.l,{padding:"six"},i.createElement(g.N,{src:T},i.createElement(p.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"end"},i.createElement(m.n,{onClick:"aria-label":d.icon.description},i.createElement(f.fR,{name:"close"}))),i.createElement(h.t,{alignSelf:"center"},i.createElement("div",null,i.createElement("img",{alt:r.description,src:r.url,width:"64",height:"64"}))),i.createElement(h.t,null,i.createElement(s.l,{margin:{blockstart:"six"}},i.createElement("div",null,o.items.map((function(e,t){var n=e.text;return i.createElement(b.b,{key:"text-element-".concat(t),theme:"inverse",align:"center",size:700,weight:"medium"},n)}))))),(null===(l=c)||void 0===l?void 0:l.uri)&&i.createElement(h.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"six",blockend:"three"}},i.createElement(v.Y,{inverse:!0,href:N,size:E.xY.LARGE,onClick:function(){var e;A(null===(e=c)||void 0===e?void 0:e.actions)}},c.text))))))},Le=function(e,t,n){var i=n||"PRE_HEADER",l=e.identify({type:t,notificationLocation:i,__typename:"InlineNotification"});e.evict({id:l}),e.gc()},Se=(ie(pe={},"PRIMARY_BUTTON",v.Y),ie(pe,"SECONDARY_BUTTON",x.p),ie(pe,"TERTIARY_BUTTON",I.m),pe),xe=function(e){return Se["".concat(e)]||v.Y},Ie=function(e){var t,n,o,a,r,c,d,u,v,x,I,w,O,R,P,D,M,z,F,U,B,G,Y,V,q=e.type,j=e.notificationLocation,W=e.body,H=e.title,K=e.logo,Q=e.dismiss,$=e.qrCodeUrl,Z=e.qrCodeDesc,X=e.qrCodeTitle,J=e.bannerLink,ee=e.revealActions,te=e.referer,ne=e.termsAndConditions,ie=e.termsAndConditionsText,le=e.dismissCallback,oe=ce(i.useState(!0),2),ae=oe[0],re=oe[1],de=(0,l.useApolloClient)().cache,ue=ke(),se=i.useRef(null),me=i.useCallback((function(){return ae&&ue(ee),ae}),[ae]),ve=i.useCallback((function(){var e,t;null===(e=le)||void 0===e||e(),ue(null===(t=Q)||void 0===t?void 0:t.actions),Le(de,q,j),re(!1)}),[]),Ee=i.useCallback((function(){var e;ue(null===(e=J)||void 0===e?void 0:e.actions)}),[]),fe=i.useMemo((function(){var e,t;return Te(null===(t=J)||void 0===t||null===(e=t.uri)||void 0===e?void 0:e.value,te)}),[]),ge=i.useMemo((,[]),pe=$&&X;return i.createElement(i.Fragment,null,ae&&me()&&i.createElement(y.Viewport,null,i.createElement(y.ViewSmall,null,i.createElement(T.U,{isVisible:ae},i.createElement(C.K,{isVisible:ae,type:"bottom",triggerRef:se},i.createElement(S.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},i.createElement(s.l,{margin:{blockstart:"three",blockend:"six",inline:"two"}},i.createElement(L.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},i.createElement(p.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"end"},i.createElement(s.l,{margin:{blockstart:"one",blockend:"four",inlineend:"one"}},i.createElement(m.n,{onClick:ve,"aria-label":"close"},i.createElement(f.fR,{name:"close",size:f.eZ.MEDIUM,theme:"primary",title:"Close Sheet",id:"sheet-close-button"})))),i.createElement(h.t,{alignSelf:"center"},i.createElement("img",{alt:null===(t=K)||void 0===t?void 0:t.description,src:null===(n=K)||void 0===n?void 0:n.url,width:56})),i.createElement(h.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(b.b,{theme:"inverse",align:"center",weight:"medium",size:600},null===(r=W)||void 0===r||null===(a=r[0].items)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.text))),(null===(c=J)||void 0===c?void 0:c.uri)&&fe&&(null===(d=J)||void 0===d?void 0:d.text)&&i.createElement(h.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"six",blockend:"four"}},i.createElement(ge,{href:fe,size:E.xY.LARGE,onClick:Ee},J.text))),ie&&(null===(u=ne)||void 0===u?void 0:u.uri)&&i.createElement(h.t,null,i.createElement(s.l,{margin:{blockstart:"two",blockend:"four",inline:"one"}},i.createElement(N.M,{align:"center",size:"small",theme:"inverse",inline:!0},i.createElement("a",{href:ne.uri.value,target:"_blank",rel:"noopener noreferrer"},ie))))))))))),i.createElement(y.ViewMedium,null,i.createElement(T.U,{isVisible:ae},i.createElement(C.K,{isVisible:ae,type:"bottom",triggerRef:se},i.createElement(S.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},i.createElement(s.l,{margin:{inlinestart:"one",inlineend:"two",blockstart:"three",blockend:"six"}},i.createElement(L.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},i.createElement(p.v,{direction:"row-reverse"},i.createElement(h.t,null,i.createElement(s.l,{margin:{inlineend:"one",blockstart:"one"}},i.createElement(m.n,{name:null===(x=Q)||void 0===x||null===(v=x.icon)||void 0===v?void 0:v.id,onClick:ve,"aria-label":"close"},i.createElement(f.fR,{name:"close",size:f.eZ.EXTRA_SMALL,theme:"primary",description:null===(w=Q)||void 0===w||null===(I=w.icon)||void 0===I?void 0:I.description,id:"sheet-close-button"}))))),i.createElement(k.a,{columns:10},i.createElement(A.P,{colSpan:pe?8:10},i.createElement("div",null,i.createElement(k.a,{columns:pe?8:10},i.createElement(A.P,{colSpan:1,alignSelf:"center"},i.createElement(s.l,{padding:{inlinestart:"one"}},i.createElement("img",{src:null===(O=K)||void 0===O?void 0:O.url,alt:null===(R=K)||void 0===R?void 0:R.description,height:45}))),(null===(D=H)||void 0===D||null===(P=D.items[0])||void 0===P?void 0:P.text)&&i.createElement(A.P,{colSpan:pe?7:9,alignSelf:"center"},i.createElement(s.l,{padding:{block:"two"}},i.createElement(b.b,{theme:"inverse",align:"left",size:600,weight:"bold"},null===(z=H)||void 0===z||null===(M=z.items[0])||void 0===M?void 0:M.text)))),i.createElement(k.a,null,i.createElement(A.P,null,i.createElement(s.l,{padding:{block:"three",inlineend:"four",inlinestart:"one"}},i.createElement(b.b,{theme:"inverse",weight:"medium",size:500},null===(B=W)||void 0===B||null===(U=B[0].items)||void 0===U||null===(F=U[0])||void 0===F?void 0:F.text)))),(null===(G=J)||void 0===G?void 0:G.text)&&fe&&"INVERSE"!==(null===(Y=J)||void 0===Y?void 0:Y.linkTheme)&&i.createElement(k.a,{columns:10},i.createElement(A.P,{colSpan:5},i.createElement("div",null,i.createElement(s.l,{margin:{inlinestart:"one"}},i.createElement(ge,{href:fe,size:E.xY.LARGE,onClick:Ee},J.text))))),ie&&(null===(V=ne)||void 0===V?void 0:V.uri)&&i.createElement(s.l,{padding:{blockstart:"four"}},i.createElement("div",null,i.createElement(s.l,{margin:{inlinestart:"one",blockend:"one"}},i.createElement(N.M,{size:"small",theme:"inverse",inline:!0},i.createElement("a",{href:ne.uri.value,target:"_blank",rel:"noopener noreferrer"},ie))))))),pe&&i.createElement(A.P,{colSpan:2},i.createElement("div",null,i.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},i.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":X})),i.createElement(s.l,{padding:{inlinestart:"four",blockstart:"six"}},i.createElement("div",null,i.createElement(g.N,{ratio:g.s.R1_1},i.createElement(_.p,{src:$,alt:Z})))),i.createElement(s.l,{padding:{blockstart:"three",inlinestart:"four"}},i.createElement(b.b,{theme:"inverse",align:"center",weight:"medium",size:200,"aria-hidden":"true"},X)))))))))))))};Ie.displayName="sharedui-BottomSheet";var we=i.memo(Ie),Oe=function(e){var t,n,l,o,a,r=e.data,c=e.inputs,d=e.dismissCallback,u=r.notificationLocation,s=r.legalText,m=r.title,v=r.body,E=r.logo,f=r.links,g=r.revealActions,p=r.customQrCode,h=r.dismiss,b=c.optionalContext,y=null===(n=s)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.find((function(e){return"NotificationPhraseLinkNode"===e.__typename})),_=(null===(l=y)||void 0===l?void 0:l.uri)&&y.uri.value?y:void 0,k=null===(a=s)||void 0===a||null===(o=a.items)||void 0===o?void 0:o[0].text,A=i.useMemo((function(){var e,t,n,i,l,o,a;return{type:"BOTTOM_SHEET",notificationLocation:u,body:v,title:m,logo:E,dismiss:h,qrCodeUrl:null===(t=p)||void 0===t||null===(e=t.image)||void 0===e?void 0:e.url,qrCodeDesc:null===(i=p)||void 0===i||null===(n=i.image)||void 0===n?void 0:n.description,qrCodeTitle:null===(l=p)||void 0===l?void 0:l.title,bannerLink:null===(o=f)||void 0===o?void 0:o[0],revealActions:g,referer:null===(a=b)||void 0===a?void 0:a.referer,termsAndConditions:_,termsAndConditionsText:k,dismissCallback:d}}),[]);return E&&h?i.createElement(we,ae({},A)):null},Re=function(e){var t,n,o,a,r,c,d,u,m,v,f,x,R,P,D,M,z,F,U,B,G,Y,V,q,j,W,H,K,Q,$,Z,X,J,ee,te,ne,ie,le,oe,ae,re,de,ue=e.type,se=e.notificationLocation,me=e.body,ve=e.title,Ee=e.logo,fe=e.dismiss,ge=e.qrCodeUrl,pe=e.qrCodeDesc,he=e.qrCodeTitle,be=e.bannerLink,ye=e.revealActions,_e=e.referer,Ae=e.termsAndConditions,Ne=e.termsAndConditionsText,Ce=e.subLink,Se=e.brandTheme,Ie=ce((0,w.useDialog)("customer-notification-centered-sheet-dialog"),3),we=Ie[0],Oe=Ie[1],Re=Ie[2],Pe=(0,l.useApolloClient)().cache,De=ke(),Me=i.useRef(null),ze=i.useCallback((function(){return we&&De(ye),we}),[we]),Fe=i.useCallback((function(){var e;Oe.closeDialog(),De(null===(e=fe)||void 0===e?void 0:e.actions),Le(Pe,ue,se)}),[]),Ue=i.useCallback((function(){var e;De(null===(e=be)||void 0===e?void 0:e.actions)}),[]);i.useEffect((,[]);var Be="NotificationCardTheme"===(null===(t=Se)||void 0===t?void 0:t.__typename),Ge=!Be,Ye=Be?"primary":"brand_promo_primary",Ve=i.useMemo((function(){var e,t;return Te(null===(t=be)||void 0===t||null===(e=t.uri)||void 0===e?void 0:e.value,_e)}),[]),qe=i.useMemo((function(){var e,t;return Te(null===(t=Ce)||void 0===t||null===(e=t.uri)||void 0===e?void 0:e.value,_e)}),[]),je=i.useMemo((function(){var e;return xe((null===(e=be)||void 0===e?void 0:e.type)||"")}),[]),We=ge&&he;return i.createElement(i.Fragment,null,we&&ze()&&i.createElement(y.Viewport,null,i.createElement(y.ViewSmall,null,i.createElement(T.U,{isVisible:we},i.createElement(Re,null,i.createElement(s.l,{margin:{inline:"six"}},i.createElement(C.K,{isVisible:we,type:"centered",triggerRef:Me,centeredSheetSize:"small"},fe&&i.createElement(s.l,{padding:{inlinestart:"one",blockstart:"one"}},i.createElement(O.N,{overlay:!0,navigationContent:{onClick:Fe,navIconLabel:null===(o=fe)||void 0===o||null===(n=o.icon)||void 0===n?void 0:n.description,navButtonId:null===(r=fe)||void 0===r||null===(a=r.icon)||void 0===a?void 0:a.id}})),i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement(S.K,{canvasTheme:Ye,layout:"fullwidth"},i.createElement(s.l,{margin:{block:"six",inline:"two"}},i.createElement(L.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},i.createElement(p.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},(null===(c=Ee)||void 0===c?void 0:c.description)&&(null===(d=Ee)||void 0===d?void 0:d.url)?i.createElement(h.t,{alignSelf:"center"},i.createElement("img",{alt:null===(u=Ee)||void 0===u?void 0:u.description,src:null===(m=Ee)||void 0===m?void 0:m.url,width:56})):i.createElement(s.l,{padding:{block:"four"}},i.createElement(b.b,{theme:Be?"default":"inverse",align:"left",size:600,weight:"bold"},null===(v=ve)||void 0===v?void 0:v.items[0].text)),i.createElement(h.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(b.b,{theme:Be?"default":"inverse",align:"center",weight:"medium",size:600},null===(R=me)||void 0===R||null===(x=R[0].items)||void 0===x||null===(f=x[0])||void 0===f?void 0:f.text))),Ge&&(null===(P=be)||void 0===P?void 0:P.text)&&(null===(D=be)||void 0===D?void 0:D.text)&&Ve?i.createElement(h.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"six",blockend:"four"}},i.createElement(je,{href:Ve,size:E.xY.LARGE,onClick:Ue},be.text))):(null===(M=be)||void 0===M?void 0:M.text)&&(null===(z=Ce)||void 0===z?void 0:z.text)&&i.createElement(s.l,{margin:{blockstart:"six",blockend:"four"}},i.createElement(p.v,{justifyContent:"center",space:"six"},i.createElement(h.t,null,i.createElement("div",null,i.createElement(I.m,{alignLabelToContent:"start",onClick:Fe},null===(F=be)||void 0===F?void 0:F.text))),i.createElement(h.t,null,i.createElement("div",null,i.createElement(je,{href:qe,size:E.xY.LARGE,onClick:Ue,isFullWidth:!1},null===(U=Ce)||void 0===U?void 0:U.text))))),(null===(B=Ae)||void 0===B?void 0:B.uri)&&i.createElement(h.t,null,i.createElement(s.l,{margin:{blockstart:"two",blockend:"four",inline:"one"}},i.createElement(N.M,{align:"center",size:"small",theme:"inverse",inline:!0},i.createElement("a",{href:Ae.uri.value,target:"_blank",rel:"noopener noreferrer"},Ne)))))))))))))),i.createElement(y.ViewMedium,null,i.createElement(T.U,{isVisible:we},i.createElement(Re,null,i.createElement(C.K,{isVisible:we,type:"centered",triggerRef:Me,centeredSheetSize:"medium"},fe&&i.createElement(s.l,{padding:{inlinestart:"one",blockstart:"one"}},i.createElement(O.N,{overlay:!0,navigationContent:{onClick:Fe,navIconLabel:null===(Y=fe)||void 0===Y||null===(G=Y.icon)||void 0===G?void 0:G.description,navButtonId:null===(q=fe)||void 0===q||null===(V=q.icon)||void 0===V?void 0:V.id}})),i.createElement(S.K,{canvasTheme:Ye,layout:"fullwidth"},i.createElement(L.z,{padded:!1},i.createElement(s.l,{margin:{blockstart:"twelve",blockend:"six",inline:"six"}},i.createElement(k.a,{columns:10},i.createElement(A.P,{colSpan:We?8:10,alignSelf:"center"},i.createElement("div",null,i.createElement(k.a,{columns:We?7:9},(null===(j=Ee)||void 0===j?void 0:j.description)&&(null===(W=Ee)||void 0===W?void 0:W.url)&&i.createElement(A.P,{colSpan:1},i.createElement("img",{alt:null===(H=Ee)||void 0===H?void 0:H.description,src:null===(K=Ee)||void 0===K?void 0:K.url,width:55})),(null===($=ve)||void 0===$||null===(Q=$.items[0])||void 0===Q?void 0:Q.text)&&i.createElement(A.P,{colSpan:We?6:8,alignSelf:"center"},i.createElement(s.l,null,i.createElement(b.b,{theme:Be?"default":"inverse",align:"left",size:600,weight:"bold"},null===(Z=ve)||void 0===Z?void 0:Z.items[0].text)))),i.createElement(k.a,null,i.createElement(A.P,null,i.createElement(s.l,{padding:{block:"six",inlineend:"four"}},i.createElement(b.b,{theme:Be?"default":"inverse",weight:"medium",size:500},null===(ee=me)||void 0===ee||null===(J=ee[0].items)||void 0===J||null===(X=J[0])||void 0===X?void 0:X.text)))),Ge&&(null===(te=be)||void 0===te?void 0:te.text)&&Ve&&"INVERSE"!==(null===(ne=be)||void 0===ne?void 0:ne.linkTheme)?i.createElement(k.a,{columns:10},i.createElement(A.P,{colSpan:4},i.createElement("div",null,i.createElement(je,{href:Ve,size:E.xY.LARGE,onClick:Ue,isFullWidth:!1},null===(ie=be)||void 0===ie?void 0:ie.text)))):i.createElement(s.l,{margin:{blockstart:"two",blockend:"two"}},i.createElement(p.v,{justifyContent:"center",space:"six"},(null===(le=be)||void 0===le?void 0:le.text)&&i.createElement(h.t,null,i.createElement("div",null,i.createElement(I.m,{alignLabelToContent:"start",onClick:Fe},null===(oe=be)||void 0===oe?void 0:oe.text))),(null===(ae=Ce)||void 0===ae?void 0:ae.text)&&qe&&i.createElement(h.t,null,i.createElement("div",null,i.createElement(je,{href:qe,size:E.xY.LARGE,onClick:Ue,isFullWidth:!1},null===(re=Ce)||void 0===re?void 0:re.text))))),(null===(de=Ae)||void 0===de?void 0:de.uri)&&i.createElement(s.l,{padding:{blockstart:"four"}},i.createElement("div",null,i.createElement(N.M,{size:"small",theme:"inverse",inline:!0},i.createElement("a",{href:Ae.uri.value,target:"_blank",rel:"noopener noreferrer"},Ne)))))),We&&i.createElement(A.P,{colSpan:2},i.createElement("div",null,i.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},i.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":he})),i.createElement(s.l,{padding:{inlinestart:"two"}},i.createElement("div",null,i.createElement(g.N,{ratio:g.s.R1_1},i.createElement(_.p,{src:ge,alt:pe})))),i.createElement(s.l,{padding:{blockstart:"four",inlinestart:"two"}},i.createElement(b.b,{theme:"inverse",align:"center",weight:"medium",size:200,"aria-hidden":"true"},he))))))))))))))};Re.displayName="sharedui-CenteredSheet";var Pe=i.memo(Re),De=function(e){var t,n,l,o,a,r=e.data,c=r.notificationLocation,d=r.legalText,u=r.title,s=r.body,m=r.logo,v=r.links,E=r.revealActions,f=r.customQrCode,g=r.dismiss,p=r.theme,h=e.inputs.optionalContext,b=null===(n=d)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.find((function(e){return"NotificationPhraseLinkNode"===e.__typename})),y=(null===(l=b)||void 0===l?void 0:l.uri)&&b.uri.value?b:void 0,_=null===(a=d)||void 0===a||null===(o=a.items)||void 0===o?void 0:o[0].text,k=i.useMemo((function(){var e,t,n,i,l,o,a,r;return{type:"CENTERED_SHEET",notificationLocation:c,body:s,title:u,logo:m,dismiss:g,qrCodeUrl:null===(t=f)||void 0===t||null===(e=t.image)||void 0===e?void 0:e.url,qrCodeDesc:null===(i=f)||void 0===i||null===(n=i.image)||void 0===n?void 0:n.description,qrCodeTitle:null===(l=f)||void 0===l?void 0:l.title,bannerLink:null===(o=v)||void 0===o?void 0:o[0],revealActions:E,referer:null===(a=h)||void 0===a?void 0:a.referer,termsAndConditions:y,termsAndConditionsText:_,subLink:null===(r=v)||void 0===r?void 0:r[1],brandTheme:p}}),[]);return i.createElement(Pe,ae({},k))},Me=function(e){var t=e.bodyText,n=e.cardImage,l=e.headingText,o=e.learnMoreLink,a=e.revealActions,r=ke();i.useEffect((function(){r(a)}),[]);var u;return i.createElement(c.t,null,i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"four"},i.createElement("div",null,i.createElement("img",{src:n.url,alt:n.description}),i.createElement(s.l,{padding:{block:"two"}},i.createElement(R.y,{tag:"h2",size:5},l)),i.createElement(b.b,{size:300},t),i.createElement(s.l,{padding:{blockstart:"two",inlineend:"six"}},i.createElement(N.M,{onClick:(u=o,function(){r(u.actions)}),inline:!0},o.uri?i.createElement("a",{href:o.uri.value,target:"_blank",rel:"noopener noreferrer"},o.text):i.createElement("button",{type:"button"},o.text)))))))};Me.displayName="sharedui-CitiCobrandVerticalAd";var ze=function(e){var t=e.bodyText,n=e.cardImage,l=e.headingText,o=e.learnMoreLink,a=e.revealActions,r=ke();i.useEffect((function(){r(a)}),[]);var u;return i.createElement(c.t,null,i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"four"},i.createElement("div",null,i.createElement(k.a,{columns:3},i.createElement(A.P,{colSpan:"all"},i.createElement("div",null,i.createElement(R.y,{tag:"h2",size:6},l))),i.createElement(s.l,{padding:{blockstart:"three",inlineend:"one"}},i.createElement(A.P,{colSpan:2},i.createElement("div",null,i.createElement(b.b,{align:"left",size:300},t),i.createElement(s.l,{padding:{blockstart:"two",inlineend:"six"}},i.createElement(N.M,{onClick:(u=o,function(){r(u.actions)}),inline:!0},o.uri?i.createElement("a",{href:o.uri.value,target:"_blank",rel:"noopener noreferrer"},o.text):i.createElement("button",{type:"button"},o.text)))))),i.createElement(s.l,{padding:{blockstart:"three"}},i.createElement(A.P,{colSpan:1},i.createElement(p.v,{alignItems:"end",direction:"column"},i.createElement("img",{src:n.url,alt:n.description})))))))))};ze.displayName="sharedui-CitiCobrandAd";var Fe,Ue,Be,Ge,Ye,Ve,qe,je,We,He,Ke,Qe=function(e){var t,n,l,o,a,r,c=e.data||{},d=c.type,u=c.title,s=c.backgroundImage,m=c.body,v=c.links,E=c.revealActions;return s&&m&&v&&E&&u?d&&"CITI_COBRAND_VERTICAL"===d?i.createElement(Me,{bodyText:null===(a=m[0])||void 0===a||null===(o=a.items[0])||void 0===o?void 0:o.text,cardImage:s,headingText:null===(r=u.items[0])||void 0===r?void 0:r.text,learnMoreLink:v[0],revealActions:E}):i.createElement(ze,{bodyText:null===(n=m[0])||void 0===n||null===(t=n.items[0])||void 0===t?void 0:t.text,cardImage:s,headingText:null===(l=u.items[0])||void 0===l?void 0:l.text,learnMoreLink:v[0],revealActions:E}):null},$e=function(e){var t=e.iconName,n=e.title,l=e.subtitle;return i.createElement(A.P,null,i.createElement(p.v,{alignItems:"center",space:"four"},i.createElement(h.t,{minWidth:"fifteen"},i.createElement(p.v,null,i.createElement(f.fR,{name:t,spotlight:"standard"}))),i.createElement(h.t,null,i.createElement(p.v,{direction:"column"},i.createElement(h.t,null,i.createElement(R.y,{size:7},n)),i.createElement(h.t,null,i.createElement(b.b,null,l))))))},Ze=function(e){var t=e.title,n=e.subtitle,l=e.messages;return i.createElement(p.v,{space:"four",direction:"column"},i.createElement(h.t,null,i.createElement("div",null,i.createElement(R.y,{tag:"h2",size:3},t),i.createElement(P.a,null,n))),i.createElement(h.t,null,i.createElement(k.a,{columns:{small:1,medium:2},space:"four"},l.map(())))},Xe={INVERSE:"inverse",DEFAULT:"default"},Je={SMALL:"small",MEDIUM:"medium",LARGE:"large"},et=function(e){return null!==(Ue=Je["".concat(e)])&&void 0!==Ue?Ue:"medium"},tt={H:"LODGING",P:"PACKAGES",F:"FLIGHT",C:"CAR",CR:"CRUISES",A:"ACTIVITIES",U:"UNCLASSIFIED",R:"RAILS",GT:"GROUNDTRANSFERS"},nt={0:"SYSTEM",10:"ENTRY",20:"SEARCH_RESULTS",30:"DETAILS",40:"CHECKOUT",50:"CHECKOUT_ERROR",60:"PAYMENT_ERROR",70:"CONFIRMATION",80:"POST_BOOKING",90:"USER",500:"FEATURES"},it=Object.freeze((ie(Be={},"BOLD","bold"),ie(Be,"MEDIUM","medium"),ie(Be,"REGULAR","regular"),Be)),lt=Object.freeze((ie(Ge={},"NEGATIVE","negative"),ie(Ge,"POSITIVE","positive"),ie(Ge,"EMPHASIS","emphasis"),ie(Ge,"PRIMARY","emphasis"),ie(Ge,"LOYALTY","loyalty"),ie(Ge,"SECONDARY","default"),ie(Ge,"INVERSE","inverse"),Ge)),ot={100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900},at={REGULAR:"regular",MEDIUM:"medium",BOLD:"bold"},rt=function(e){return null!==(Ye=lt["".concat(e)])&&void 0!==Ye?Ye:lt.INVERSE},ct=function(e){return null!==(Ve=ot["".concat(e)])&&void 0!==Ve?Ve:500},dt=function(e){return null!==(qe=at["".concat(e)])&&void 0!==qe?qe:"regular"},ut={PRIMARY:M.iQ.PRIMARY,SECONDARY:M.iQ.SECONDARY,GLOBAL_LOYALTY_STANDARD:M.iQ.GLOBAL_LOYALTY_STANDARD,GLOBAL_LOYALTY_LOW:M.iQ.GLOBAL_LOYALTY_LOW,GLOBAL_LOYALTY_HIGH:M.iQ.GLOBAL_LOYALTY_HIGH,GLOBAL_LOYALTY_EXTRAHIGH:M.iQ.GLOBAL_LOYALTY_EXTRAHIGH,GLOBAL_LOYALTY_MIDDLE:M.iQ.GLOBAL_LOYALTY_MIDDLE},st={PRIMARY:"primary",SECONDARY:"secondary",BRAND_PROMO_PRIMARY:"brand_promo_primary",NONE:"none"},mt=function(e){return null!==(je=ut["".concat(e)])&&void 0!==je?je:M.iQ.GLOBAL_LOYALTY_STANDARD},vt=function(e){return null!==(We=st["".concat(e)])&&void 0!==We?We:st.BRAND_PROMO_PRIMARY},Et=function(e){var t=e.background,n=e.border,l=e.children;return i.createElement(c.t,{border:n,backgroundTheme:mt(t),padded:!0},l)},ft=function(e){var t=e.children,n=e.bannerLink,l=e.onCardClickCallback;return n?i.createElement("a",{href:n,onClick:l,onKeyDown:l},t):i.createElement(i.Fragment,null,t)},gt=(ie(He={},"PRE_HEADER",(),ie(He,"IN_PAGE",Et),He),pt=function(e){var t,n,l,o,a,r=e.body,c=null===(l=r)||void 0===l||null===(n=l[0])||void 0===n||null===(t=n.egdsItems)||void 0===t?void 0:t[0],d="NotificationEGDSTextNode"===(null===(o=c)||void 0===o?void 0:o.__typename)?null===(a=c)||void 0===a?void 0:a.theme:"INVERSE";return i.createElement(i.Fragment,null,r.map((function(e,t){var n;return null===(n=e.items)||void 0===n?void 0:n.map((function(e,n){var l,o=e.text,a=e.styles;return i.createElement(b.b,{key:"body-".concat(t,".item-").concat(n),theme:rt(d),align:"left",size:300,weight:"IMPORTANT"===(null===(l=a)||void 0===l?void 0:l[0])?"bold":"regular"},o)}))})))},ht=(ie(Ke={},"PRIMARY_BUTTON",v.Y),ie(Ke,"SECONDARY_BUTTON",x.p),ie(Ke,"TERTIARY_BUTTON",I.m),Ke),bt=function(e){var t,n=e.links,l=e.isMobile,o=e.isButtonOnRight,a=e.referer,r=ke(),c=(0,z.useLocation)(),d=c.pathname,u=c.search,m=o?{padding:{extra_large:{blockstart:"unset",inlinestart:"unset"},large:{blockstart:"unset",inlinestart:"unset"},medium:{blockstart:"three",inlinestart:"unset"},small:{blockstart:"three",inlinestart:"unset"}}}:{padding:{blockstart:"three",inlinestart:"unset"}};return i.createElement(h.t,{shrink:0},i.createElement(s.l,{padding:m.padding},i.createElement(p.v,{direction:"row",alignItems:"center"},null===(t=n)||void 0===t?void 0:t.map((function(e,t){var n,o,c,m,f,g,h,b,y=null===(n=e)||void 0===n?void 0:n.id,_="logIn-mod"===y||"signUp-mod"===y?function(e,t,n){var i=t;return"/"===t.charAt(0)&&(i=t.substring(1,t.length)),e+(i+n)}((null===(o=e.uri)||void 0===o?void 0:o.value)||"",d,u):Te(null===(c=e.uri)||void 0===c?void 0:c.value,a);if("ANCHOR"===e.type)return i.createElement(s.l,{key:"".concat(null===(f=e)||void 0===f?void 0:f.id,"-").concat(t),padding:{block:"two"}},i.createElement(p.v,{direction:"row",alignItems:"start",justifyContent:"space-between"},i.createElement(N.M,{noWrap:!0,theme:(b=null===(g=e)||void 0===g?void 0:g.linkTheme,null!==(Fe=Xe["".concat(b)])&&void 0!==Fe?Fe:"inverse"),onClick:function(){return r(e.actions)}},i.createElement("a",{"aria-label":null===(h=e)||void 0===h?void 0:h.text,href:_,target:"_blank",rel:"noopener noreferrer"},e.text))));var k,A=(k=e.type,ht["".concat(k)]||v.Y),T="TERTIARY_BUTTON"===e.type,C=l?E.xY.SMALL:E.xY.MEDIUM;return i.createElement(s.l,{margin:{inlineend:"three"},key:"".concat(null===(m=e)||void 0===m?void 0:m.id,"-").concat(t)},i.createElement(A,{href:_,size:C,inverse:T,onClick:,e.text))})))))},yt=function(e){var t,n,l,o,a,r=null===(l=e.subBody)||void 0===l||null===(n=l[0].title)||void 0===n||null===(t=n.egdsItems)||void 0===t?void 0:t[0],c="NotificationEGDSTextNode"===(null===(o=r)||void 0===o?void 0:o.__typename)?null===(a=r)||void 0===a?void 0:a.theme:"INVERSE",d=r&&"text"in r&&r.text,u=r&&"weight"in r&&r.weight||"REGULAR";return i.createElement(b.b,{theme:rt(c),weight:u&&it[u],size:300},d)},_t=function(e){var t,n,o,a,r,c,d,u,v,k,A,N,T,C,L,S,x,I,w,O,R,P,M,z,F,U,B,G=e.type,Y=e.notificationLocation,V=e.title,q=e.revealActions,j=e.logo,W=e.links,H=e.containerLink,K=e.dismiss,Q=e.referer,$=e.body,Z=e.subBody,X=e.icon,J=e.qrCode,ee=e.backgroundTheme,te=e.border,ne=ke(),ie=ce(i.useState(!0),2),le=ie[0],oe=ie[1],ae=(0,l.useApolloClient)().cache,re="IN_PAGE"===Y,de="IN_PAGE_AD"===Y,ue=re?"four":"three",se=null===(n=V)||void 0===n||null===(t=n.egdsItems)||void 0===t?void 0:t[0],me="NotificationEGDSTextNode"===(null===(o=se)||void 0===o?void 0:o.__typename)?null===(a=se)||void 0===a?void 0:a.theme:"INVERSE",ve=null!=te?te:void 0,Ee=i.useCallback((,[le]),fe=re?10:12,ge=re?{margin:{blockstart:"one"}}:{margin:{}},pe=i.useMemo((function(){return gt["".concat(Y)]||Et}),[]),he=i.useMemo((function(){var e,t;return Te(null===(t=H)||void 0===t||null===(e=t.uri)||void 0===e?void 0:e.value,Q)}),[]),be=i.useCallback((function(){var e;oe(!1),ne(null===(e=K)||void 0===e?void 0:e.actions),Le(ae,G,Y)}),[]),ye=i.useCallback((function(){var e;ne(null===(e=H)||void 0===e?void 0:e.actions)}),[]);return i.createElement(i.Fragment,null,le&&Ee()&&i.createElement(y.Viewport,null,i.createElement(y.ViewLarge,null,i.createElement(pe,{background:ee,border:ve},i.createElement(p.v,{direction:"row",alignContent:"center",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"center"},i.createElement(ft,{bannerLink:re?null:he,onCardClickCallback:ye},i.createElement(s.l,{padding:{block:re?"unset":"three",inline:de?"two":"unset"}},i.createElement(p.v,{direction:"row",alignItems:"center"},i.createElement(h.t,{alignSelf:"center",grow:0,shrink:re?0:1},(null===(r=j)||void 0===r?void 0:r.url)?i.createElement(D.F,{url:j.url,description:j.description,size:fe}):null,(null===(c=X)||void 0===c?void 0:c.id)?i.createElement("span",null,i.createElement(f.fR,{name:X.id,title:X.title||"",description:X.description,spotlight:{theme:"standard",background:!0}})):null),i.createElement(h.t,{alignSelf:"center",grow:0,shrink:1},i.createElement(s.l,{padding:{inlinestart:de?"six":ue}},i.createElement(p.v,{direction:"column",alignItems:"start",space:re?"half":void 0},null===(u=V)||void 0===u||null===(d=u.items)||void 0===d?void 0:d.map((function(e,t){var n,l=e.text,o=e.styles;return i.createElement(b.b,{key:"text-element-".concat(t),theme:rt(me),align:"left",size:de?400:300,weight:"IMPORTANT"===(null===(n=o)||void 0===n?void 0:n[0])?"bold":"medium"},l)})),$&&i.createElement(pt,{body:$}),Z&&i.createElement(yt,{subBody:Z}),W&&(null===(v=J)||void 0===v?void 0:v.title)&&i.createElement(bt,{links:W,referer:Q})))))))),K&&i.createElement(h.t,{alignSelf:"center"},i.createElement(m.n,{onClick:be,name:"close","aria-label":"close",size:E.xY.SMALL},i.createElement(f.fR,{name:"close",size:f.eZ.SMALL}))),W&&!J&&i.createElement(bt,{links:W,isButtonOnRight:!0,referer:Q}),J&&i.createElement(h.t,{grow:1,minWidth:76,maxWidth:76,alignSelf:"center"},i.createElement(p.v,{direction:"column",wrap:"wrap"},(null===(A=J)||void 0===A||null===(k=A.image)||void 0===k?void 0:k.url)&&i.createElement(h.t,{grow:1,minWidth:78,maxWidth:150,alignSelf:"end"},i.createElement(g.N,{imageFit:"contain"},i.createElement(_.p,{src:null===(T=J)||void 0===T||null===(N=T.image)||void 0===N?void 0:N.url,alt:J.image.description,placeholderImage:!0}))),(null===(L=J)||void 0===L||null===(C=L.image)||void 0===C?void 0:C.url)&&(null===(S=J)||void 0===S?void 0:S.title)&&i.createElement(h.t,null,i.createElement(b.b,{theme:"inverse",size:300,align:"center"},null===(x=J)||void 0===x?void 0:x.title))))))),i.createElement(y.ViewMedium,null,i.createElement(pe,{background:ee,border:ve},i.createElement(p.v,{direction:"row",alignContent:"center",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"center"},i.createElement(ft,{bannerLink:re?null:he,onCardClickCallback:ye},i.createElement(s.l,{padding:{block:re?"unset":"three"}},i.createElement(p.v,{direction:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"start",grow:0,shrink:re?0:1},i.createElement(s.l,{margin:ge.margin},(null===(I=j)||void 0===I?void 0:I.url)?i.createElement(D.F,{url:j.url,description:j.description,size:fe}):null,(null===(w=X)||void 0===w?void 0:w.id)?i.createElement("span",null,i.createElement(f.fR,{name:X.id,title:X.title||"",description:X.description,theme:"primary",size:f.eZ.LARGE,spotlight:"standard"})):null)),i.createElement(h.t,{alignSelf:"center",grow:1,shrink:1},i.createElement(s.l,{padding:{inlinestart:re?"four":"three"}},i.createElement(p.v,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"space-between"},null===(R=V)||void 0===R||null===(O=R.items)||void 0===O?void 0:O.map((function(e,t){var n=e.text,l=e.styles;return i.createElement(b.b,{key:"text-element-".concat(t),theme:rt(me),align:"left",size:de?400:300,weight:"IMPORTANT"===l[0]?"bold":"regular"},n)})),$&&i.createElement(pt,{body:$}),Z&&(null===(P=J)||void 0===P?void 0:P.title)&&i.createElement(yt,{subBody:Z}),W&&i.createElement(bt,{links:W,isMobile:!0,referer:Q})))))))),K&&i.createElement(h.t,{alignSelf:"center"},i.createElement(m.n,{onClick:be,name:"close","aria-label":"close",size:E.xY.SMALL},i.createElement(f.fR,{name:"close",size:f.eZ.SMALL})))))),i.createElement(y.ViewSmall,null,i.createElement(pe,{background:ee,border:ve},i.createElement(p.v,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"center"},i.createElement(ft,{bannerLink:re?null:he,onCardClickCallback:ye},i.createElement(s.l,{padding:{block:re?"unset":"three"}},i.createElement(p.v,{direction:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:re||de?"start":"center",grow:0,shrink:re?0:1},i.createElement(s.l,{margin:ge.margin},(null===(M=j)||void 0===M?void 0:M.url)?i.createElement(D.F,{url:j.url,description:j.description,size:fe}):null,(null===(z=X)||void 0===z?void 0:z.id)?i.createElement("span",null,i.createElement(f.fR,{id:X.id,name:X.id,title:X.title||"",description:X.description,theme:"primary",size:f.eZ.LARGE,spotlight:"standard"})):null)),i.createElement(h.t,{alignSelf:"center",grow:1,shrink:1},i.createElement(s.l,{padding:{inlinestart:re?"four":"three",inlineend:re?"six":"unset",blockend:re?"one":"unset"}},i.createElement(p.v,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"start"},null===(U=V)||void 0===U||null===(F=U.items)||void 0===F?void 0:F.map((function(e,t){var n=e.text,l=e.styles;return i.createElement(b.b,{key:"text-element-".concat(t),theme:rt(me),align:"left",size:300,weight:"IMPORTANT"===l[0]?"bold":"regular"},n)})),$&&i.createElement(pt,{body:$}),Z&&(null===(B=J)||void 0===B?void 0:B.title)&&i.createElement(yt,{subBody:Z}),W&&i.createElement(bt,{links:W,isMobile:!0,referer:Q})))))))),K&&i.createElement(h.t,{alignSelf:"center"},i.createElement(m.n,{onClick:be,name:"close","aria-label":"close",size:E.xY.SMALL},i.createElement(f.fR,{name:"close",size:f.eZ.SMALL}))))))))};_t.displayName="sharedui-ConfigurableBanner";var kt,At=i.memo(_t),Nt=function(e){var t,n,l,o,a=e.data,r=e.inputs,c=a||{},d=c.notificationLocation,u=c.title,s=c.logo,m=c.dismiss,v=c.revealActions,E=c.links,f=c.containerLink,g=c.body,p=c.subBody,h=c.icon,b=c.customQrCode,y=c.theme,_=r.optionalContext,k="NotificationCardTheme"===(null===(t=y)||void 0===t?void 0:t.__typename)?null===(n=y)||void 0===n?void 0:n.themeValue:null,A="NotificationCardTheme"===(null===(l=y)||void 0===l?void 0:l.__typename)&&(null===(o=y)||void 0===o?void 0:o.cardBorder),N=i.useMemo((function(){var e;return{type:"CONFIGURABLE",notificationLocation:d,title:u,revealActions:v,logo:s,links:E,containerLink:f,dismiss:m,referer:null===(e=_)||void 0===e?void 0:e.referer,body:g,subBody:p,icon:h,qrCode:b,backgroundTheme:k,border:A}}),[]);return u?i.createElement(At,ae({},N)):null},Tt=function(e){var t,n,o,a,c,d,u,m,v,f,A,T,x,I,R,P,M,z,F,U,B,G,Y,V,q,j,W,H,K,Q,$,Z,X,J,ee,te,ne,ie,le,oe,ae,re,de=e.type,ue=e.bannerTheme,se=e.notificationLocation,me=e.sheetTitle,ve=e.sheetBody,Ee=e.logo,fe=e.switchToTheAppLink,ge=e.dismissCta,pe=e.dismiss,he=e.termsAndConditions,be=e.backgroundImage,ye=e.referer,_e=e.layout,Ae=e.revealActions,Ne=ce((0,w.useDialog)("customer-notification-full-sheet-dialog"),3),Ce=Ne[0],Se=Ne[1],Ie=Ne[2],we=(0,l.useApolloClient)().cache,Oe=ke(),Re=(0,r.useClickTracker)(),Pe="LEFT"===_e,De=vt(ue),Me=ct(null===(t=me)||void 0===t?void 0:t.textSize),ze=dt(null===(n=me)||void 0===n?void 0:n.weight),Fe=ct(null===(o=ve)||void 0===o?void 0:o.textSize),Ue=dt(null===(a=ve)||void 0===a?void 0:a.weight),Be=et(null===(c=he)||void 0===c?void 0:c.size),Ge="brand_promo_primary"!==De?"default":"inverse",Ye=!!(null===(d=be)||void 0===d?void 0:d.url),Ve=i.useRef(null),qe=function(){var e;Se.closeDialog(),Oe(null===(e=pe)||void 0===e?void 0:e.actions),Le(we,de,se)},je=function(){var e;Se.closeDialog(),Oe(null===(e=ge)||void 0===e?void 0:e.actions),Le(we,de,se)},We=function(){Oe(fe.actions)},He=function(){var e,t,n,i;Re(null!==(n=null===(e=he)||void 0===e?void 0:e.action.analytics.referrerId)&&void 0!==n?n:"",null!==(i=null===(t=he)||void 0===t?void 0:t.action.analytics.linkName)&&void 0!==i?i:"")},Ke=xe(fe.type),Qe=xe(null===(u=ge)||void 0===u?void 0:u.type),$e=Te(null===(m=fe.uri)||void 0===m?void 0:m.value,ye);return i.useEffect((function(){Se.openDialog(),Oe(Ae)}),[]),i.createElement(i.Fragment,null,Ce&&i.createElement(y.Viewport,null,i.createElement(y.ViewSmall,null,i.createElement(Ie,null,i.createElement(C.K,{isVisible:Ce,type:"full",triggerRef:Ve,theme:"dark"},(null===(f=pe)||void 0===f||null===(v=f.icon)||void 0===v?void 0:v.id)&&i.createElement(s.l,{padding:{inlinestart:"three",blockstart:"six"}},i.createElement(O.N,{overlay:!0,navigationContent:{onClick:qe,navIconLabel:null===(T=pe)||void 0===T||null===(A=T.icon)||void 0===A?void 0:A.description,navButtonId:null===(I=pe)||void 0===I||null===(x=I.icon)||void 0===x?void 0:x.id}})),i.createElement(k.a,{blockSize:"full_size"},i.createElement(S.K,{canvasTheme:De,layout:"fullwidth"},i.createElement(s.l,{padding:{block:"eight"}},i.createElement(L.z,{fullSheetContentMaxWidth:"extra-large",padded:!1},i.createElement(p.v,{direction:"column",alignContent:"space-around",justifyContent:"start",blockSize:"full_size",space:"one"},i.createElement(h.t,{alignSelf:Pe?"start":"stretch",minWidth:Pe?64:void 0},i.createElement(s.l,{padding:{blockstart:Ye?"six":"sixteen",inlinestart:!Ye&&Pe?"six":void 0}},i.createElement(p.v,{direction:"column",wrap:Pe?"wrap":"nowrap"},(null===(R=Ee)||void 0===R?void 0:R.description)&&(null===(P=Ee)||void 0===P?void 0:P.url)&&i.createElement(h.t,{grow:0,shrink:1,minWidth:64},i.createElement(D.F,{url:Ee.url,description:Ee.description,size:12})),(null===(M=be)||void 0===M?void 0:M.url)&&be.description&&i.createElement(h.t,{grow:1},i.createElement(g.N,{imageFit:"contain",ratio:g.s.R16_9},i.createElement(_.p,{src:null===(z=be)||void 0===z?void 0:z.url,alt:null===(F=be)||void 0===F?void 0:F.description})))))),i.createElement(s.l,{margin:{blockstart:Ye?"three":"six",inline:"six"}},i.createElement(h.t,{grow:1},i.createElement(p.v,{direction:"column",space:"six"},i.createElement(h.t,null,i.createElement(b.b,{theme:Ge,align:Pe?"left":"center",weight:ze,size:Me},null===(U=me)||void 0===U?void 0:U.text)),(null===(B=ve)||void 0===B?void 0:B.text)&&i.createElement(h.t,null,i.createElement(b.b,{theme:Ge,align:Pe?"left":"center",weight:Ue,size:Fe},ve.text)),fe.text&&$e&&i.createElement(h.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"three"}},i.createElement(Ke,{href:$e,size:E.xY.LARGE,onClick:We,isFullWidth:!0,theme:E.NR.SOLID},fe.text))),(null===(G=ge)||void 0===G?void 0:G.text)&&ge.actions&&i.createElement(h.t,{alignSelf:"center"},i.createElement(Qe,{size:E.xY.LARGE,onClick:je,isFullWidth:!0},i.createElement(b.b,{theme:Ge,size:300},ge.text))),(null===(Y=he)||void 0===Y?void 0:Y.action.resource)&&he.text&&i.createElement(h.t,{grow:1},i.createElement(p.v,{justifyContent:"center",alignItems:"end"},i.createElement(h.t,{grow:2},i.createElement(N.M,{align:"center",size:Be,theme:Ge,onClick:He},i.createElement("a",{href:null===(V=he)||void 0===V?void 0:V.action.resource.value,target:"_blank",rel:"noopener noreferrer"},null===(q=he)||void 0===q?void 0:q.text)))))))))))))))),i.createElement(y.ViewMedium,null,i.createElement(Ie,null,i.createElement(C.K,{isVisible:Ce,type:"full",triggerRef:Ve,theme:"dark"},(null===(W=pe)||void 0===W||null===(j=W.icon)||void 0===j?void 0:j.id)&&i.createElement(s.l,{padding:{inlinestart:"three",blockstart:"six"}},i.createElement(O.N,{overlay:!0,navigationContent:{onClick:qe,navIconLabel:null===(K=pe)||void 0===K||null===(H=K.icon)||void 0===H?void 0:H.description,navButtonId:null===($=pe)||void 0===$||null===(Q=$.icon)||void 0===Q?void 0:Q.id}})),i.createElement(k.a,{blockSize:"full_size"},i.createElement(S.K,{canvasTheme:De,layout:"fullwidth"},i.createElement(s.l,{padding:{block:"twelve"}},i.createElement(L.z,{fullSheetContentMaxWidth:"extra-large",padded:!1},i.createElement(p.v,{direction:"column",alignContent:"space-around",justifyContent:"start",blockSize:"full_size",space:"one"},i.createElement(h.t,{alignSelf:Pe?"start":"stretch",minWidth:Pe?64:void 0,maxWidth:"96x"},i.createElement(s.l,{padding:{blockstart:Ye?"unset":"sixteen"}},i.createElement(p.v,{direction:"column",wrap:Pe?"wrap":"nowrap"},(null===(Z=Ee)||void 0===Z?void 0:Z.description)&&(null===(X=Ee)||void 0===X?void 0:X.url)&&i.createElement(h.t,{minWidth:64},i.createElement(D.F,{url:Ee.url,description:Ee.description,size:12})),(null===(J=be)||void 0===J?void 0:J.url)&&be.description&&i.createElement(h.t,{maxWidth:500,alignSelf:"center"},i.createElement(g.N,{imageFit:"contain",ratio:g.s.R21_9},i.createElement(_.p,{src:null===(ee=be)||void 0===ee?void 0:ee.url,alt:null===(te=be)||void 0===te?void 0:te.description})))))),i.createElement(s.l,{margin:{blockstart:Ye?"three":"six"}},i.createElement(h.t,{grow:1,maxWidth:"96x"},i.createElement(p.v,{direction:"column",space:"six"},i.createElement(h.t,null,i.createElement(b.b,{theme:Ge,align:Pe?"left":"center",weight:ze,size:Me},null===(ne=me)||void 0===ne?void 0:ne.text)),(null===(ie=ve)||void 0===ie?void 0:ie.text)&&i.createElement(h.t,null,i.createElement(b.b,{theme:Ge,align:Pe?"left":"center",weight:Ue,size:Fe},ve.text)),fe.text&&$e&&i.createElement(h.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"three"}},i.createElement(Ke,{href:$e,size:E.xY.LARGE,onClick:We,isFullWidth:!0,theme:E.NR.SOLID},fe.text))),(null===(le=ge)||void 0===le?void 0:le.text)&&ge.actions&&i.createElement(h.t,{alignSelf:"center"},i.createElement(Qe,{size:E.xY.LARGE,onClick:je,isFullWidth:!0},i.createElement(b.b,{theme:Ge,size:300},ge.text))),(null===(oe=he)||void 0===oe?void 0:oe.action.resource)&&he.text&&i.createElement(h.t,{grow:1},i.createElement(p.v,{justifyContent:"center",alignItems:"end"},i.createElement(h.t,{grow:2},i.createElement(N.M,{align:"center",size:Be,theme:Ge,onClick:He},i.createElement("a",{href:null===(ae=he)||void 0===ae?void 0:ae.action.resource.value,target:"_blank",rel:"noopener noreferrer"},null===(re=he)||void 0===re?void 0:re.text))))))))))))))))))},Ct=function(e){var t=e.align,n=e.text,l=e.size,o=e.weight,a=e.theme,r=e.overflow,c=e.className;return i.createElement(b.b,{theme:rt(a),align:t,weight:dt(o),size:ct(l),overflow:r,className:c},n)},Lt=function(e){var t=e.align,n=e.size,l=e.theme,o=e.resource,a=e.text,r=e.className,c=e.onClick,d="brand_promo_primary"!==vt(l)?"default":"inverse";return i.createElement(N.M,{align:t,size:et(n),theme:d,className:r,onClick:c},i.createElement("a",{href:o},a))},St=function(e){var t,n,o,a,c,d,u,m,v,f,b,A,N,T=e.type,x=e.bannerTheme,I=e.notificationLocation,R=e.sheetTitle,P=e.logo,M=e.switchToTheAppLink,z=e.dismiss,F=e.termsAndConditions,U=e.backgroundImage,B=e.referer,G=e.revealActions,Y=i.useRef(null),V=ce((0,w.useDialog)("customer-notification-full-sheet-dialog"),3),q=V[0],j=V[1],W=V[2],H=(0,l.useApolloClient)().cache,K=ke(),Q=(0,r.useClickTracker)(),$=vt(x),Z=F?{blockend:"two"}:{blockstart:"six",blockend:"twelve"},X=Te(null===(t=M.uri)||void 0===t?void 0:t.value,B),J=xe(M.type);return i.useEffect((,[]),i.createElement(i.Fragment,null,q&&i.createElement(y.Viewport,null,i.createElement(y.ViewSmall,null,i.createElement(W,null,i.createElement(C.K,{isVisible:q,type:"full",triggerRef:Y,theme:"dark"},(null===(o=z)||void 0===o||null===(n=o.icon)||void 0===n?void 0:n.id)&&i.createElement(s.l,{padding:{inlinestart:"three",blockstart:"six"}},i.createElement(O.N,{navigationContent:{onClick:function(){var e;j.closeDialog(),K(null===(e=z)||void 0===e?void 0:e.actions),Le(H,T,I)},navIconLabel:null===(c=z)||void 0===c||null===(a=c.icon)||void 0===a?void 0:a.description,navButtonId:null===(u=z)||void 0===u||null===(d=u.icon)||void 0===d?void 0:d.id}})),i.createElement(L.z,{padded:!1},i.createElement(k.a,{blockSize:"full_size"},i.createElement(p.v,{direction:"column",style:{height:"100%"}},i.createElement(h.t,{grow:1,style:{maxHeight:F?"65%":"75%"}},U.url&&i.createElement(g.N,{imageFit:"cover"},i.createElement(_.p,{src:U.url,alt:U.description,placeholderImage:!0}))),i.createElement(h.t,{grow:2},i.createElement(S.K,{canvasTheme:$,layout:"fullwidth"},i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(p.v,{direction:"column",justifyContent:F?"center":"start",space:"six",wrap:"wrap"},i.createElement(h.t,{alignSelf:"start"},i.createElement(D.F,{url:P.url,description:P.description,size:12})),R.text&&i.createElement(h.t,{shrink:1,maxWidth:"180x"},i.createElement(s.l,{margin:{inlineend:"twelve"}},i.createElement(Ct,{theme:null!==(A=R.theme)&&void 0!==A?A:"INVERSE",weight:null===(m=R)||void 0===m?void 0:m.weight,size:null===(v=R)||void 0===v?void 0:v.textSize,text:null===(f=R)||void 0===f?void 0:f.text,overflow:"truncate-4-lines"}))),M.text&&X&&i.createElement(h.t,{alignSelf:"start"},i.createElement(s.l,{margin:Z},i.createElement(J,{href:X,size:E.xY.LARGE,theme:E.NR.SOLID,onClick:function(){K(M.actions)}},M.text))),(null===(b=F)||void 0===b?void 0:b.text)&&i.createElement(h.t,null,i.createElement(p.v,{justifyContent:"center",alignItems:"end"},i.createElement(h.t,{grow:2,alignSelf:"end"},i.createElement(s.l,{margin:Z},"EGDSStandardLink"===F.__typename&&F.action.resource.value&&i.createElement(Lt,{align:"center",size:F.size,theme:null!=x?x:"PRIMARY",onClick:function(){var e,t,n,i,l;"EGDSStandardLink"===(null===(e=F)||void 0===e?void 0:e.__typename)&&Q(null!==(i=null===(t=F)||void 0===t?void 0:t.action.analytics.referrerId)&&void 0!==i?i:"",null!==(l=null===(n=F)||void 0===n?void 0:n.action.analytics.linkName)&&void 0!==l?l:"")},resource:F.action.resource.value,text:F.text}),"EGDSStylizedText"===F.__typename&&F.text&&i.createElement(Ct,{text:F.text,align:"center",weight:F.weight,size:F.textSize,theme:null!==(N=F.theme)&&void 0!==N?N:"INVERSE"})))))))))))))))))},xt=function(e){var t=e.heading,n=e.body,l=e.links,o=e.revealActions,a=ke();i.useEffect((function(){a(o)}),[]);var r=i.useCallback((function(e){return function(){a(e)}}),[a]);return i.createElement(c.t,{border:!0},i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement(d.U,null,t&&i.createElement("div",null,i.createElement(R.y,{tag:"h3",size:5},t)),n&&i.createElement("div",null,n.map((function(e,t){var n,l;return i.createElement(b.b,{key:"body-".concat(t),spacing:"one",size:300},null===(l=e.items)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.text)}))),l&&i.createElement(s.l,{margin:{blockstart:"two"}},i.createElement(b.b,{spacing:"three",size:300},l.map((function(e,t){var n,l;return i.createElement(s.l,{key:"link-".concat(t),margin:{inlineend:"twelve"}},i.createElement(N.M,{inline:!0},i.createElement("a",{"aria-label":e.text,href:null===(n=e.uri)||void 0===n?void 0:n.value,target:"_blank",rel:"noopener noreferrer",onClick:r(e.actions)},e.text,(null===(l=e.icon)||void 0===l?void 0:l.description)&&i.createElement("span",{className:"is-visually-hidden"}," ",e.icon.description))))})))))))},It=(ie(kt={},"INFO","info"),ie(kt,"POSITIVE","positive"),ie(kt,"STANDARD","standard"),ie(kt,"WARNING","warning"),kt),wt=function(e){var t=e.heading,n=e.body,l=e.links,o=e.icon,a=e.revealActions,r=ke();i.useEffect((function(){r(a)}),[]);var d,u,m=i.useCallback((,[r]);return i.createElement(c.t,{padded:!0,border:!0},i.createElement(p.v,{alignItems:"center",space:"three"},i.createElement(h.t,null,i.createElement("div",null,i.createElement(f.fR,{id:o.description||o.title?"generic-notification-icon-".concat(o.id):void 0,name:o.id,spotlight:{theme:o.spotLight?It[o.spotLight]:void 0,background:o.withBackground?o.withBackground:void 0},description:null!==(d=o.description)&&void 0!==d?d:void 0,title:null!==(u=o.title)&&void 0!==u?u:void 0}))),i.createElement(h.t,null,i.createElement("div",null,t&&i.createElement(R.y,{size:7,tag:"h2"},t),n&&i.createElement(s.l,{margin:{blockstart:"half"}},n.map((function(e,t){var n,l;return i.createElement(b.b,{key:"body-text-".concat(t)},null===(l=e.items)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.text)}))),l&&i.createElement(F.Y,{bullet:"no-bullet",orientation:"inline",size:2,spacing:!0,type:"unordered"},i.createElement(U.m,null,l.map((function(e,t){var n;return i.createElement(N.M,{inline:!0,key:"link-text-".concat(t)},i.createElement("a",{href:null===(n=e.uri)||void 0===n?void 0:n.value,"aria-label":e.text,onClick:m(e.actions)},e.text))}))))))))},Ot=function(e){var t,n,l,o,a,r,c=e.data||{},d=c.title,u=c.body,s=c.links,m=c.revealActions,v=c.icon;return v?i.createElement(wt,{heading:null===(l=d)||void 0===l||null===(n=l.items)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.text,body:u,links:s,icon:v,revealActions:m}):i.createElement(xt,{heading:null===(r=d)||void 0===r||null===(a=r.items)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.text,body:u,links:s,revealActions:m})},Rt=function(e){var t,n,o,a=e.type,r=e.notificationLocation,c=e.title,d=e.revealActions,u=e.logo,v=e.containerLink,g=e.dismiss,y=e.referrer,_=e.body,k=ke(),A=ce(i.useState(!0),2),N=A[0],T=A[1],C=(0,l.useApolloClient)().cache;if(i.useEffect((function(){k(d)}),[]),!N)return null;var L=Te(null===(n=v)||void 0===n||null===(t=n.uri)||void 0===t?void 0:t.value,y),x=function(){var e;k(null===(e=v)||void 0===e?void 0:e.actions)};return i.createElement(S.K,{canvasTheme:"brand_promo_primary",layout:"centered"},i.createElement(p.v,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"center"},i.createElement("section",null,i.createElement("a",{href:L,onClick:x,onKeyDown:x},i.createElement(s.l,{padding:{block:"three"}},i.createElement(p.v,{direction:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"center",grow:0,shrink:1},i.createElement("img",{alt:u.description,src:u.url,width:"48",height:"48"})),i.createElement(h.t,{alignSelf:"center",grow:1,shrink:1},i.createElement(p.v,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"space-between"},c&&i.createElement(s.l,{padding:{inlinestart:"three"}},null===(o=c.items)||void 0===o?void 0:o.map((function(e,t){var n=e.text;return i.createElement(b.b,{key:"text-element-".concat(t),theme:"inverse",align:"left",size:300,weight:"medium"},n)}))),_&&i.createElement(s.l,{padding:{inlinestart:"three"}},_.map((function(e,t){var n;return null===(n=e.items)||void 0===n?void 0:n.map((function(e,n){var l=e.text;return i.createElement(b.b,{key:"body-".concat(t,".item-").concat(n),theme:"inverse",align:"left",size:300},l)}))})))))))))),i.createElement(h.t,{alignSelf:"center"},i.createElement(m.n,{onClick:function(){var e;T(!1),k(null===(e=g)||void 0===e?void 0:e.actions),Le(C,a,r)},name:"close","aria-label":"close",size:E.xY.SMALL},i.createElement(f.fR,{name:"close",size:f.eZ.SMALL})))))};Rt.displayName="sharedui-HeaderBanner";var Pt={countryCode:"",phoneNumber:"",phoneNumberErrMsg:"",hasInvalidFields:!1},Dt=i.createContext({state:Pt}),Mt=zt=function(e){var t=e.children,n=e.defaultSelectedOptionVal,l=re(ae({},Pt),{countryCode:n}),o=ce(i.useReducer(Mt,l),2),a=o[0],r=o[1];return i.createElement(Dt.Provider,{value:{state:a,dispatch:r}},t)},Ft=function(e){var t=e.data,n=t.label,l=t.id,o=t.options,a=i.useContext(Dt),r=a.state,c=a.dispatch;return o&&o.length?i.createElement(B.e,{id:l,name:l,label:n,value:r.countryCode,onChange:function(e){return c({field:e.target.name,value:e.target.value})}},o.map((function(e){return i.createElement("option",{key:e.id,value:e.value},e.id===r.countryCode?e.shortLabel:e.text)}))):null};Ft.displayName="sharedui-CustomerNotificationSelectionField";var Ut,Bt=function(e){var t=e.data,n=t.label,l=t.id,o=i.useContext(Dt),a=o.state,r=o.dispatch,c=i.useRef();return i.useEffect((function(){var e,t,n;a.hasInvalidFields&&(null===(e=c)||void 0===e?void 0:e.current)&&"function"==typeof(null===(t=c)||void 0===t?void 0:t.current.focus)&&(null===(n=c)||void 0===n||n.current.focus())}),[c,a.hasInvalidFields]),i.createElement(G.w,{id:l,name:l,label:n,value:a.phoneNumber,invalid:a.phoneNumberErrMsg,onChange:domRef:c})};Bt.displayName="sharedui-CustomerNotificationTextInputField";var Gt=(ie(Ut={},"PRIMARY_BUTTON",v.Y),ie(Ut,"SECONDARY_BUTTON",x.p),Ut),Yt=Vt=function(e){var t=e.data,n=t.id,l=t.label,o=t.buttonType,a=Yt(o);return i.createElement(a,{id:n,name:n,type:"submit",size:E.xY.LARGE,isFullWidth:!0},l)};Vt.displayName="sharedui-CustomerNotificationSubmitButton";var qt={NotificationTextInputField:Bt,NotificationSubmitButton:Vt,NotificationSelectionField:Ft},jt=i.createContext({rootElements:{heading:!1,body:!1,qrCode:!1,formSections:!1,qrCodeTitle:!1,backgroundImageUrl:!1}}),Wt=function(e){var t,n,l,o,a,r,c,d,u,s=e.children,m=e.data,v=m.title,E=m.body,f=m.customQrCode,g=m.form,p=m.backgroundImage,h={rootElements:{heading:!!(null===(n=v)||void 0===n||null===(t=n.items[0])||void 0===t?void 0:t.text),body:!!E,qrCode:!!((null===(o=f)||void 0===o||null===(l=o.image)||void 0===l?void 0:l.url)&&(null===(r=f)||void 0===r||null===(a=r.image)||void 0===a?void 0:a.description)),formSections:!!(null===(c=g)||void 0===c?void 0:c.sections),qrCodeTitle:!!(null===(d=f)||void 0===d?void 0:d.title),backgroundImageUrl:!!(null===(u=p)||void 0===u?void 0:u.url)}};return i.createElement(jt.Provider,{value:h},s)},Ht=Kt=function(e){var t=e.title,n=e.fields,l=e.formTitle,o=Ht().rootElements,a=o.body||o.heading?"six":"unset";return i.createElement(i.Fragment,null,t&&i.createElement(s.l,{padding:{blockstart:a,blockend:"three"}},i.createElement("div",null,i.createElement(R.y,{tag:"h3",size:5},t))),l&&i.createElement("span",{className:"is-visually-hidden"},l),i.createElement(s.l,{padding:{blockstart:"unset"}},i.createElement(p.v,{space:"four",wrap:"wrap"},n.map((function(e,t){var n=qt[e.__typename];return i.createElement(h.t,{key:t,grow:2,minWidth:"twenty_four"},i.createElement("div",null,i.createElement(n,{data:e})))})))))};Kt.displayName="MadMarqueeFormSection";var Qt=function(e){var t=e.data,n=e.formTitle,l=t.title,o=t.fields;return o&&o.length?i.createElement(Kt,{title:l,fields:o,formTitle:n}):null},$t=function(e){var t,n,l=e.body,o=e.isMobile,a=Ht().rootElements,r=a.formSections,c=a.qrCode,d=a.qrCodeTitle,u=!r&&c&&d,m=o?{padding:{blockstart:"one",blockend:"two"}}:{padding:{blockstart:"two",inlineend:"four"}};return i.createElement(i.Fragment,null,u&&i.createElement(s.l,{padding:{blockstart:"six",inlineend:"four",blockend:"six"}},i.createElement(F.Y,{spacing:!1},l.map((function(e,t){var n,l,o=null===(n=e.items)||void 0===n?void 0:n[0];return i.createElement(b.b,{key:t,weight:"IMPORTANT"===o.styles[0]?"bold":"regular",size:"IMPORTANT"===o.styles[0]?500:400},null===(l=o)||void 0===l?void 0:l.text)})))),l.length>1&&!u&&i.createElement(s.l,{padding:{blockstart:"three",inlineend:"four"}},i.createElement(F.Y,{spacing:!1},l.map((function(e,t){var n,l;return i.createElement(U.m,{key:t},null===(l=e.items)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.text)})))),1===l.length&&!u&&i.createElement(s.l,{padding:m.padding},i.createElement(b.b,{className:"uitk-type-paragraph-300"},null===(n=l[0].items)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.text)))};$t.displayName="MadMarqueeSubSection";var Zt=function(e){var t=e.appDownloadLink,n=e.tuneLink,l=e.onClickButton,o=Yt(n.type);return i.createElement(o,{id:"download-btn",name:"download-btn",href:t,onClick:l,size:E.xY.LARGE,isFullWidth:!0},n.text)},Xt=function(e){var t,n,l=e.onSecondaryClickButton,o=e.secondaryLink,a=e.secondLink;return i.createElement(N.M,{noWrap:!0,inline:!0,onClick:l},i.createElement("a",{"aria-label":null===(t=a)||void 0===t?void 0:t.text,href:o,target:"_blank",rel:"noopener noreferrer"},null===(n=a)||void 0===n?void 0:n.text))},Jt=function(e){var t,n=e.subBody;if(n&&0===n[0].title.egdsItems.length)return null;var l=null===(t=n)||void 0===t?void 0:t[0].title.egdsItems[0],o=l&&"text"in l&&l.text,a=l&&"weight"in l&&l.weight||void 0;return o&&a?i.createElement(s.l,{padding:{blockstart:"twelve",inlineend:"four",blockend:"two"}},i.createElement(b.b,{weight:a&&it[a],size:400},o)):null},en=function(e){var t,n,l,o=e.backgroundImageUrl,a=e.backgroundImageDescription,r=e.heading,u=e.body,m=e.subBody,v=e.qrCodeUrl,E=e.qrCodeDesc,f=e.qrCodeTitle,b=e.tuneLink,N=e.secondLink,T=e.revealActions,C=e.referer,L=ke();i.useEffect((function(){L(T)}),[]);var S=function(){L(b.actions)},x=function(){var e;L(null===(e=N)||void 0===e?void 0:e.actions)},I=4,w=!1,O=!1;v&&E&&("app_71",I=3,u&&f&&(I=5,w=!0,O=!0));var P=Te(null===(t=b.uri)||void 0===t?void 0:t.value,C),D=Te(null===(l=N)||void 0===l||null===(n=l.uri)||void 0===n?void 0:n.value,C);return i.createElement(y.Viewport,null,i.createElement(y.ViewLarge,null,i.createElement(c.t,{border:!0},i.createElement(k.a,{columns:3},i.createElement(A.P,{colSpan:3},i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement(k.a,{columns:w?7:4,space:"half"},i.createElement(A.P,{alignSelf:"start",colSpan:I},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(s.l,{padding:{blockend:w?"six":"one"}},r&&i.createElement(R.y,{tag:"h2",size:3,id:"marquee-title"},r)),u&&i.createElement($t,{body:u}),m&&i.createElement(Jt,{subBody:m}))),v&&E&&i.createElement(A.P,{colSpan:O?2:1},i.createElement("div",null,f&&i.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},i.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":f})),i.createElement(s.l,{padding:{blockstart:O?"unset":"four"}},i.createElement("div",null,i.createElement(g.N,{ratio:g.s.R1_1},i.createElement(_.p,{src:v,alt:E})))),f&&i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement(R.y,{tag:"h3",align:"center",size:7,"aria-hidden":"true"},f))))))))))),i.createElement(y.ViewMedium,null,i.createElement(c.t,{border:!0},i.createElement(k.a,{columns:3},i.createElement(i.Fragment,null,o&&i.createElement(A.P,{colSpan:1},i.createElement(g.N,{ratio:g.s.R16_9},i.createElement(_.p,{placeholderImage:!0,src:o,alt:a}))),i.createElement(A.P,{colSpan:o?2:3},i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(R.y,{tag:"h2",size:3,id:"marquee-title"},r),u&&i.createElement($t,{body:u}),i.createElement(k.a,{space:"six",columns:N?8:6},i.createElement(A.P,{colSpan:w?8:4},i.createElement(s.l,{padding:{blockstart:w?"unset":"six"}},i.createElement("div",null,i.createElement(Zt,{appDownloadLink:P,tuneLink:b,onClickButton:S})))),N&&i.createElement(A.P,{alignSelf:"center",colSpan:1},i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement("div",null,i.createElement(Xt,{secondaryLink:D,onSecondaryClickButton:x,secondLink:N}))))))))))))),i.createElement(y.ViewSmall,null,i.createElement(c.t,{border:!0},o&&i.createElement(g.N,{className:"all-image-fit-cover",ratio:g.s.R21_9},i.createElement(_.p,{placeholderImage:!0,src:o,alt:a})),i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement(k.a,{columns:4},i.createElement(A.P,{colSpan:4},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(R.y,{tag:"h2",size:5,id:"marquee-title"},r),u&&i.createElement($t,{body:u,isMobile:!0}),i.createElement(s.l,{padding:{blockstart:w?"unset":"four"}},i.createElement(p.v,{space:"four",direction:"column",alignItems:"center"},i.createElement(i.Fragment,null,i.createElement(h.t,null,i.createElement(Zt,{appDownloadLink:P,tuneLink:b,onClickButton:S})),N&&i.createElement(h.t,null,i.createElement(s.l,{padding:{blockstart:"four"}},i.createElement("div",null,i.createElement(Xt,{secondaryLink:D,onSecondaryClickButton:x,secondLink:N})))))))))))))))};en.displayName="CustomInpageMarquee";var tn=(0,a.gql)(Ee()),nn=function(e){var t,n,a,r,c,d,u,m,v,E,f,g,p,h,y,_=e.formTitle,k=e.formSections,A=e.formMessages,N=e.placementId,T=e.successFormAnalytics,C=e.errorFormAnalytics,L=ke(),S=null===(n=k[0])||void 0===n||null===(t=n.fields)||void 0===t?void 0:t.find((function(e){return"NotificationSubmitButton"===e.__typename})),x=null===(r=S)||void 0===r||null===(a=r.actions)||void 0===a?void 0:a.find((function(e){return"NotificationAnalytics"===e.__typename})),I=(null===(c=x)||void 0===c?void 0:c.schema)?null===(d=S)||void 0===d?void 0:d.actions:T,w=ce((0,l.useMutation)(tn),2),O=w[0],R=w[1],P=R.loading,D=R.error,M=R.data,z=i.useContext(Dt),F=z.state,U=z.dispatch,B=G=[],q=[];null===(u=C)||void 0===u||u.forEach((function(e){var t,n;if("NotificationAnalytics"===(null===(t=e)||void 0===t?void 0:t.__typename))if("Invalid Phone Number omtr event"===e.description)null===(n=q)||void 0===n||n.push(e);else if("Unsuccessful text message omtr event"===e.description){var i;null===(i=G)||void 0===i||i.push(e)}}));var j=function(e,t){var n;null===(n=A)||void 0===n||n.forEach((function(n){var i;"FORM"===(null===(i=n)||void 0===i?void 0:i.displayType)&&n.level===e&&n.name===t&&(0,V.liveAnnounce)(n.text,V.Level.POLITE)}))};i.useEffect((function(){var e,t,n,i,l,o,a,r,c,d,u,s,m,v,E,f,g,p;P||D||"SUCCESS"!==(null===(t=M)||void 0===t||null===(e=t.sendTextToDownloadApp)||void 0===e?void 0:e.messageType)||((0,V.liveAnnounce)(null===(m=M)||void 0===m||null===(s=m.sendTextToDownloadApp)||void 0===s?void 0:s.messageBody,V.Level.POLITE),L(I));(!P&&"SERVICE_ERROR"===(null===(i=M)||void 0===i||null===(n=i.sendTextToDownloadApp)||void 0===n?void 0:n.messageType)&&!(null===(o=M)||void 0===o||null===(l=o.sendTextToDownloadApp)||void 0===l?void 0:l.invalidFields)||D)&&(j("ERROR","service_error_msg"),L((null===(v=x)||void 0===v?void 0:v.schema)?null===(E=S)||void 0===E?void 0:E.actions:G));P||D||F.hasInvalidFields||"SERVICE_ERROR"!==(null===(r=M)||void 0===r||null===(a=r.sendTextToDownloadApp)||void 0===a?void 0:a.messageType)||!(null===(u=M)||void 0===u||null===(d=u.sendTextToDownloadApp)||void 0===d||null===(c=d.invalidFields)||void 0===c?void 0:c[0])||(U({field:"hasInvalidFields",value:!0}),B(M.sendTextToDownloadApp.invalidFields[0],M.sendTextToDownloadApp.messageBody),(null===(f=q)||void 0===f?void 0:f.length)>0?L(q):L((null===(g=x)||void 0===g?void 0:g.schema)?null===(p=S)||void 0===p?void 0:p.actions:G))}));var W=(0,o.v)().context;return i.createElement("form",{onSubmit:function(e){A&&j("INFO","info_msg"),e.preventDefault(),U({field:"hasInvalidFields",value:!1}),B("phoneNumberErrMsg",""),O({variables:{context:W,placementId:N,customerInput:{inputs:[{value:F.phoneNumber,type:"phoneNumber"},{value:F.countryCode,type:"countryCode"}]}}})}},i.createElement(s.l,{padding:{blockend:"three"}},i.createElement("div",null,k.map(())),!P&&!D&&"SUCCESS"===(null===(v=M)||void 0===v||null===(m=v.sendTextToDownloadApp)||void 0===m?void 0:m.messageType)&&!F.hasInvalidFields&&i.createElement(s.l,{padding:{blockend:"three"}},i.createElement(b.b,{size:300,theme:"positive"},M.sendTextToDownloadApp.messageBody)),!P&&!D&&"SERVICE_ERROR"===(null===(f=M)||void 0===f||null===(E=f.sendTextToDownloadApp)||void 0===E?void 0:E.messageType)&&!F.hasInvalidFields&&!(null===(p=M)||void 0===p||null===(g=p.sendTextToDownloadApp)||void 0===g?void 0:g.invalidFields)&&i.createElement(s.l,{padding:{blockend:"three"}},i.createElement(b.b,{size:300,theme:"negative"},M.sendTextToDownloadApp.messageBody)),D&&(null===(y=A)||void 0===y||null===(h=y[0])||void 0===h?void 0:h.text)&&i.createElement(s.l,{padding:{blockend:"three"}},i.createElement(b.b,{size:300,theme:"negative"},A[0].text)),P&&i.createElement(Y.y,{isSmall:!0}),_&&i.createElement(b.b,{size:200,"aria-hidden":!0},_))};nn.displayName="MadMarqueeForm";var ln=function(e){var t,n,l,o,a,r,c=e.formTitle,d=e.formSections,u=e.formMessages,s=e.placementId,m=e.successFormAnalytics,v=e.errorFormAnalytics,E=null===(a=null===(l=d)||void 0===l||null===(n=l[0])||void 0===n||null===(t=n.fields)||void 0===t?void 0:t.find((function(e){return"NotificationSelectionField"===e.__typename})))||void 0===a||null===(o=a.options)||void 0===o?void 0:o.find(();return i.createElement(zt,{defaultSelectedOptionVal:(null===(r=E)||void 0===r?void 0:r.value)||""},i.createElement(nn,{formTitle:c,formSections:d,formMessages:u,placementId:s,successFormAnalytics:m,errorFormAnalytics:v}))};ln.displayName="MadMarqueeFormWrapper";var on=function(e){var t,n,l=e.legalText;return i.createElement(i.Fragment,null,null===(n=l)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.map((function(e,t){var n,l;return i.createElement("div",{key:"text-element-container-".concat(t)},i.createElement(s.l,{padding:{blockstart:"four"}},"NotificationPhraseLinkNode"===(null===(n=e)||void 0===n?void 0:n.__typename)&&(null===(l=e)||void 0===l?void 0:l.uri)&&e.uri.value?i.createElement("div",null,i.createElement(N.M,{inline:!0},i.createElement("a",{href:e.uri.value,key:"text-element-".concat(t),target:"_blank",rel:"noopener noreferrer"},e.text))):i.createElement("div",null,i.createElement(b.b,{size:300}," ",e.text," "))))})))},an=function(e){var t,n,l,o=e.backgroundImageUrl,a=e.backgroundImageDescription,r=e.heading,u=e.body,m=e.subBody,v=e.formTitle,E=e.formSections,f=e.formMessages,b=e.successFormAnalytics,N=e.errorFormAnalytics,T=e.qrCodeUrl,C=e.qrCodeDesc,L=e.qrCodeTitle,S=e.tuneLink,x=e.secondLink,I=e.revealActions,w=e.referer,O=e.legalText,P=ke();i.useEffect((function(){P(I)}),[]);var D=M=function(){var e;P(null===(e=x)||void 0===e?void 0:e.actions)},z="RIGHT_FULLBLEED_ONE_HALF"===a,F=4,U="app_72",B=!1,G=!1;T&&C&&(U="app_71",F=3,o||r||u||(F=5,B=!0),u&&!E&&L&&(F=5,B=!0,G=!0));var Y=Te(null===(t=S.uri)||void 0===t?void 0:t.value,w),V=Te(null===(l=x)||void 0===l||null===(n=l.uri)||void 0===n?void 0:n.value,w);return i.createElement(y.Viewport,null,i.createElement(y.ViewLarge,null,i.createElement(c.t,{border:!0},i.createElement(k.a,{columns:3},i.createElement(i.Fragment,null,o&&!z&&i.createElement(A.P,{colSpan:1},i.createElement(g.N,{ratio:g.s.R3_2},i.createElement(_.p,{placeholderImage:!0,src:o,alt:a}))),i.createElement(A.P,{colSpan:o?2:3},i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement(k.a,{columns:B?6:4,space:"six"},i.createElement(A.P,{alignSelf:G?"center":"start",colSpan:F},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},r&&i.createElement(R.y,{tag:"h2",size:3,id:"marquee-title"},r),u&&i.createElement($t,{body:u}),m&&i.createElement(Jt,{subBody:m}),x&&i.createElement(k.a,{space:"six",columns:6},i.createElement(A.P,{colSpan:3},i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement("div",null,i.createElement(Zt,{appDownloadLink:Y,tuneLink:S,onClickButton:D})))),i.createElement(A.P,{alignSelf:"center",colSpan:3},i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement("div",null,i.createElement(Xt,{secondaryLink:V,onSecondaryClickButton:M,secondLink:x}))))),E&&i.createElement(ln,{formTitle:v,formSections:E,formMessages:f,successFormAnalytics:b,errorFormAnalytics:N,placementId:U}),i.createElement(on,{legalText:O}))),T&&C&&i.createElement(A.P,{colSpan:1},i.createElement("div",null,L&&i.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},i.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":L})),i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement("div",null,i.createElement(g.N,{ratio:g.s.R1_1},i.createElement(_.p,{src:T,alt:C})))),L&&i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement(R.y,{tag:"h3",align:"center",size:7,"aria-hidden":"true"},L)))))))),o&&z&&i.createElement(A.P,{colSpan:1},i.createElement(g.N,{ratio:g.s.R16_9},i.createElement(_.p,{placeholderImage:!0,src:o,alt:a}))))))),i.createElement(y.ViewMedium,null,i.createElement(c.t,{border:!0},i.createElement(k.a,{columns:3},i.createElement(i.Fragment,null,o&&i.createElement(A.P,{colSpan:1},i.createElement(g.N,{ratio:g.s.R3_2},i.createElement(_.p,{placeholderImage:!0,src:o,alt:a}))),i.createElement(A.P,{colSpan:o?2:3},i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(R.y,{tag:"h2",size:3,id:"marquee-title"},r),u&&i.createElement($t,{body:u}),i.createElement(k.a,{space:"six",columns:x?6:3},i.createElement(A.P,{colSpan:B?6:1},i.createElement(s.l,{padding:{blockstart:B?"unset":"six"}},i.createElement("div",null,i.createElement(Zt,{appDownloadLink:Y,tuneLink:S,onClickButton:D})))),x&&i.createElement(A.P,{alignSelf:"center",colSpan:1},i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement("div",null,i.createElement(Xt,{secondaryLink:V,onSecondaryClickButton:M,secondLink:x}))))),i.createElement(on,{legalText:O}))))))))),i.createElement(y.ViewSmall,null,i.createElement(c.t,{border:!0},o&&i.createElement(g.N,{className:"all-image-fit-cover",ratio:g.s.R3_2},i.createElement(_.p,{placeholderImage:!0,src:o,alt:a})),i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement(k.a,{columns:4},i.createElement(A.P,{colSpan:4},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(R.y,{tag:"h2",size:5,id:"marquee-title"},r),u&&i.createElement($t,{body:u,isMobile:!0}),i.createElement(s.l,{padding:{blockstart:B?"unset":"four"}},i.createElement(p.v,{space:"four",direction:"column",alignItems:"center"},i.createElement(i.Fragment,null,i.createElement(h.t,null,i.createElement(Zt,{appDownloadLink:Y,tuneLink:S,onClickButton:D})),x&&i.createElement(h.t,null,i.createElement(s.l,{padding:{blockstart:"four"}},i.createElement("div",null,i.createElement(Xt,{secondaryLink:V,onSecondaryClickButton:M,secondLink:x})))),i.createElement(on,{legalText:O}))))))))))))};an.displayName="sharedui-MadMarquee";var rn=function(e){var t,n,l,o,a,r,c,d,u,s,m,v,E,f,g,p,h=e.data,b=e.inputs,y=b.optionalContext,_=b.notificationLocation,k=h.legalText,A=h.title,N=h.body,T=h.subBody,C=h.logo,L=h.links,S=h.revealActions,x=h.backgroundImage,I=h.form,w=h.customQrCode;if(!C||!(null===(t=L)||void 0===t?void 0:t.length))return null;var O,R,P,D,M,z,F,U,B=(null===(l=A)||void 0===l||null===(n=l.items[0])||void 0===n?void 0:n.text)||"";return"IN_PAGE"===_?i.createElement(Wt,{data:h},i.createElement(en,{body:N||null,subBody:T||null,heading:B,backgroundImageUrl:null===(O=x)||void 0===O?void 0:O.url,backgroundImageDescription:null===(R=x)||void 0===R?void 0:R.description,qrCodeUrl:null===(D=w)||void 0===D||null===(P=D.image)||void 0===P?void 0:P.url,qrCodeDesc:null===(z=w)||void 0===z||null===(M=z.image)||void 0===M?void 0:M.description,qrCodeTitle:null===(F=w)||void 0===F?void 0:F.title,tuneLink:L[0],secondLink:L[1],revealActions:S,referer:null===(U=y)||void 0===U?void 0:U.referer})):i.createElement(Wt,{data:h},i.createElement(an,{body:N||null,subBody:T||null,heading:B,backgroundImageUrl:null===(o=x)||void 0===o?void 0:o.url,backgroundImageDescription:null===(a=x)||void 0===a?void 0:a.description,formTitle:(null===(r=I)||void 0===r?void 0:r.title)||null,formSections:(null===(c=I)||void 0===c?void 0:c.sections)||null,formMessages:(null===(d=I)||void 0===d?void 0:d.feedbackMessages)||null,successFormAnalytics:(null===(u=I)||void 0===u?void 0:u.successFormAnalytics)||null,errorFormAnalytics:(null===(s=I)||void 0===s?void 0:s.errorFormAnalytics)||null,qrCodeUrl:null===(v=w)||void 0===v||null===(m=v.image)||void 0===m?void 0:m.url,qrCodeDesc:null===(f=w)||void 0===f||null===(E=f.image)||void 0===E?void 0:E.description,qrCodeTitle:null===(g=w)||void 0===g?void 0:g.title,tuneLink:L[0],secondLink:L[1],legalText:k,revealActions:S,referer:null===(p=y)||void 0===p?void 0:p.referer}))},cn=function(e){var t=e.checked,n=e.checkedLabel,l=e.toggleEnabledAnnounceMsg,o=e.uncheckedLabel,a=e.toggleDisabledAnnounceMsg,d=e.logoUrl,u=e.logoDescription,m=e.revealActions,v=e.checkedAnalytics,E=e.uncheckedAnalytics,f=e.switchHandler,g=e.backgroundTheme,b=ke(),y=(0,r.useClickTracker)();i.useEffect((function(){b(m)}),[]);var _=ce(i.useState(t),2),k=_[0],A=_[1],N=i.useCallback((function(){v&&!k&&(y(v.referrerId,v.linkName),l&&(0,V.liveAnnounce)(l,V.Level.POLITE)),E&&k&&(y(E.referrerId,E.linkName),a&&(0,V.liveAnnounce)(a,V.Level.POLITE)),A(!k),f(!k)}),[v,E,k,f]);return i.createElement(c.t,{backgroundTheme:mt(null!=g?g:"PRIMARY")},i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement(p.v,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"center"},i.createElement("section",null,i.createElement(s.l,{padding:{block:"two"}},i.createElement(p.v,{direction:"row",alignItems:"start",justifyContent:"space-between"},d&&u&&i.createElement(h.t,{grow:0,shrink:1},i.createElement(D.F,{url:d,description:u,size:q.M[7]})),n&&o&&i.createElement(h.t,{alignSelf:"center",grow:1,shrink:1},i.createElement(p.v,{direction:"column",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},i.createElement(s.l,{padding:{inline:"four"}},i.createElement(j.n,{id:"SwitchLabelTrailing",switchPosition:"trailing",checked:k,onChange:N,label:k?n:o,labelClassName:"uitk-type-400 uitk-type-medium"})))))))))))};cn.displayName="sharedui-OneKeyBanner";var dn,un,sn=i.memo(_t),mn=function(e){var t,n,l,o,a,r,c,d,u,s,m,v,E,f=e.data,g=e.switchHandler,p=e.useRewards,h=e.inputs,b=f.type,y=f.notificationLocation,_=f.title,k=f.logo,A=f.dismiss,N=f.revealActions,T=f.links,C=f.containerLink,L=f.body,S=f.subBody,x=f.icon,I=f.customQrCode,w=f.theme,O=f.switch,R=!!O,P=!0===(null===(t=O)||void 0===t?void 0:t.checked)&&!0===p,D="NotificationCardTheme"===(null===(n=w)||void 0===n?void 0:n.__typename)?null===(l=w)||void 0===l?void 0:l.themeValue:null,M="NotificationCardTheme"===(null===(o=w)||void 0===o?void 0:o.__typename)&&(null===(a=w)||void 0===a?void 0:a.cardBorder),z=i.useMemo((function(){var e;return{type:b,notificationLocation:y,title:_,revealActions:N,logo:k,links:T,containerLink:C,dismiss:A,referer:null===(e=h.optionalContext)||void 0===e?void 0:e.referer,body:L,subBody:S,icon:x,qrCode:I,backgroundTheme:D,border:M}}),[]);return i.createElement(i.Fragment,null,R?i.createElement(cn,{checked:P,checkedLabel:null===(r=O)||void 0===r?void 0:r.checkedLabel,toggleEnabledAnnounceMsg:null===(c=O)||void 0===c?void 0:c.checkedAccessibilityLabel,uncheckedLabel:null===(d=O)||void 0===d?void 0:d.uncheckedLabel,toggleDisabledAnnounceMsg:null===(u=O)||void 0===u?void 0:u.uncheckedAccessibilityLabel,logoUrl:null===(s=k)||void 0===s?void 0:s.url,logoDescription:null===(m=k)||void 0===m?void 0:m.description,revealActions:N,checkedAnalytics:null===(v=O)||void 0===v?void 0:v.checkedAnalytics,uncheckedAnalytics:null===(E=O)||void 0===E?void 0:E.uncheckedAnalytics,switchHandler:g||backgroundTheme:D}):i.createElement(sn,ae({},z)))},vn="cust-notif-onetrust-script",En=function(e,t){var n;if(e)return null===(n=e.find((function(e){return e.name&&e.name===t})))||void 0===n?void 0:n.value},fn=(0,a.gql)(fe()),gn=function(e,t,n){fetch(e,{method:"POST"}).then((function(e){if(!e.ok&&!e.redirected)throw new Error("OT_OIP_REQUEST_FAILED");"true"===t&&window.location.reload()})).catch((function(e){n(e)}))},pn=function(e,t){fetch(e,{method:"POST"}).then((function(e){if(!e.ok&&!e.redirected)throw new Error("OT_OIP_REQUEST_FAILED")})).catch(()},hn=(dn=function(e,t,n,i){var l,o,a,r,c,d,u,s,m,v,E,f,g,p;return me(this,(function(h){switch(h.label){case 0:return h.trys.push([0,12,,13]),a=En(t,"optInPrivacyValue"),r=En(t,"canSellCookieValue"),c=En(t,"optInUrl")||"",d=En(t,"optOutUrl")||"",u=null===(l=En(t,"consentCatagories"))||void 0===l?void 0:l.split("|"),s=window.OnetrustActiveGroups?window.OnetrustActiveGroups.split(",").filter(():[],m=En(t,"shouldReloadOnAccept"),v=En(t,"Experiment"),E=(null===(o=u)||void 0===o?void 0:o.every(())||!1,(f=v&&"true"===v)&&(g={context:e,request:{canSell:E}}),"gdpr|-1"===a||"null"===a&&"null"===r?f?[4,n({variables:g})]:[3,2]:[3,4];case 1:return h.sent().data,[3,3];case 2:E?gn(c,m,i):pn(d,i),h.label=3;case 3:return[3,11];case 4:return"gdpr|0"!==a&&"ccpa|0"!==r||!E?[3,8]:f?[4,n({variables:g})]:[3,6];case 5:return h.sent().data,[3,7];case 6:gn(c,m,i),h.label=7;case 7:return[3,11];case 8:return"gdpr|1"!==a&&"ccpa|1"!==r||E?[3,11]:f?[4,n({variables:g})]:[3,10];case 9:return h.sent().data,[3,11];case 10:pn(d,i),h.label=11;case 11:return[3,13];case 12:return p=h.sent(),i("OT_OIP_REQUEST_FAILED",p),[3,13];case 13:return[2]}}))},un=,bn=function(e){var t,n,a,r=e.onetrustAttributes,c=(0,W.wL)().error,d=ce(i.useState(!1),2),u=d[0],s=d[1];r&&(t=En(r,yn),n=En(r,"onetrustScriptId"),a=En(r,"blockingScriptUrl"));var m=En(r,"OneTrustUserId"),v=En(r,"OneTrustUserIdEncoded"),E=En(r,"ShouldAutoOpenPrefs"),f=m&&v&&"-1"!==m&&"null"!==v,g=ce((0,l.useMutation)(fn),1)[0],p=(0,o.v)().context;return i.useEffect((function(){u||(s(!0),!document.getElementById(vn)&&t&&n&&!window.OneTrust?(f&&(window.OneTrust={dataSubjectParams:{id:m,isAnonymous:!1,token:v}}),window.OptanonWrapper=function(){var e,t,n,i;(null===(t=window)||void 0===t||null===(e=t.OneTrust)||void 0===e?void 0:e.OnConsentChanged)?window.OneTrust.OnConsentChanged(():c("ERROR_LOAD_OT_NOT_DEFINED_ON_INIT"),"true"===E&&(null===(i=window)||void 0===i||null===(n=i.OneTrust)||void 0===n?void 0:n.ToggleInfoDisplay)&&window.OneTrust.ToggleInfoDisplay()},a&&document.head.appendChild(function(e){var t=document.createElement("script");return t.src=e,t.id=vn,t.type="text/javascript",t.setAttribute("data-document-language","true"),t}(a)),document.head.appendChild(function(e,t){var n=window.location.hostname.includes("karmalab")||window.location.hostname.includes("localhost")?"-test":"",i=document.createElement("script");return i.src=e,i.id=vn,i.setAttribute("data-domain-script","".concat(t).concat(n)),i.type="text/javascript",i.setAttribute("data-document-language","true"),i.setAttribute("charset","UTF-8"),i}(t,n))):c("ERROR_LOADING_OT_MISSING_PARAMS"))}),[u,c,t,n,r,a,f,m,v,E,hn,p,g]),null},yn="onetrustScriptURL",_n="cust-notif-osano-script";function kn(){var e;if(null===(e=window)||void 0===e?void 0:e.Osano)return window.Osano}var An=function(e,t){var n;if(e)return null===(n=e.find(())||void 0===n?void 0:n.value},Nn=function(e,t,n){fetch(e,{method:"POST"}).then((function(e){if(!e.ok&&!e.redirected)throw new Error("OIP_REQUEST_FAILED");"true"===t&&window.location.reload()})).catch((function(e){n("OSANO_OPT_IN_REQUEST_FAILED",e)}))},Tn=function(e,t){fetch(e,{method:"POST"}).then((function(e){if(!e.ok&&!e.redirected)throw new Error("OIP_REQUEST_FAILED")})).catch(()},Cn=function(e){var t,n,l,o,a,r,c=e.osanoAttributes,d=(0,W.wL)().error,u=ce(i.useState(),2),s=u[0],m=u[1],v=ce(i.useState(!1),2),E=v[0],f=v[1],g=ce((0,H.gw)(),2)[1],p=null===(n=c)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.value,h=null===(o=c)||void 0===o||null===(l=o[1])||void 0===l?void 0:l.value,b=(null===(r=c)||void 0===r||null===(a=r[2])||void 0===a?void 0:a.name)||"",y=An(c,"templateOverride"),_=k=function(){var e,t,n=kn();n?(n.cm.locale=h,e=b,(t=document.querySelector(".osano-cm-link"))&&(t.innerHTML=e),function(e,t,n){var i=function(e){if(e)try{var i,l,o,a,r=null===(i=t)||void 0===i?void 0:i[3].value,c=null===(l=t)||void 0===l?void 0:l[4].value,d=null===(o=t)||void 0===o?void 0:o[5].value,u=null===(a=t)||void 0===a?void 0:a[6].value.split("|"),s=An(t,"shouldReloadOnAccept"),m=u.every((function(t){return"ACCEPT"===e[t]}));"gdpr|-1"===r?m?Nn(c,s,n):Tn(d,n):"gdpr|0"===r&&m?Nn(c,s,n):"gdpr|1"!==r||m||Tn(d,n)}catch(v){n("OSANO_CM_SAVED_EVENT_FAILED",v)}};e.addEventListener("osano-cm-initialized",(function(e){return i(e)})),e.addEventListener("osano-cm-consent-saved",()}(n.cm,c,d)):d("NO_VALID_OSANO_SCRIPT_FOUND")};return i.useEffect((function(){if(!s&&!document.getElementById(_n))if(!E&&p&&h&&!kn())document.head.appendChild(function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"three",l=document.createElement("script");return l.src="".concat(e,"?language=").concat(t,"&variant=").concat(i),l.id=_n,l.onload=n,l}(p,h,k,y)),document.head.appendChild(((t=document.createElement("style")).innerHTML=".osano-cm-widget{display: none;}",t)),f(!0);else{var e=kn();e&&(m(e),_())}var t}),[E,d,c,_,s,p,h,b,y,k]),null},Ln=function(e){var t,n,o,a,r,c,d,u=e.type,g=e.notificationLocation,y=e.title,_=e.revealActions,k=e.logo,A=e.bannerLink,T=e.dismiss,C=e.referer,L=e.legalText,x=ce(i.useState(!0),2),I=x[0],w=x[1],O=ke(),R=(0,l.useApolloClient)().cache;i.useEffect((function(){O(_)}),[]);if(!I)return null;var P=Te(null===(n=A)||void 0===n||null===(t=n.uri)||void 0===t?void 0:t.value,C);return i.createElement(K.R,null,i.createElement(s.l,{padding:"six"},i.createElement(S.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},i.createElement(p.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},i.createElement(h.t,{alignSelf:"end"},i.createElement(m.n,{onClick:function(){w(!1),O(T.actions),Le(R,u,g)},"aria-label":"close"},i.createElement(f.fR,{name:"close"}))),i.createElement(h.t,{alignSelf:"center"},i.createElement("img",{alt:k.description,src:k.url,width:"64",height:"64"})),i.createElement(h.t,null,i.createElement(s.l,{margin:{blockstart:"six"}},null===(a=y)||void 0===a||null===(o=a.items)||void 0===o?void 0:o.map((function(e,t){var n=e.text;return i.createElement(b.b,{key:"text-element-".concat(t),theme:"inverse",align:"center",size:700,weight:"medium"},n)})))),(null===(r=A)||void 0===r?void 0:r.uri)&&i.createElement(h.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"six",blockend:"three"}},i.createElement(v.Y,{inverse:!0,href:P,size:E.xY.LARGE,onClick:,A.text))),null===(d=L)||void 0===d||null===(c=d.items)||void 0===c?void 0:c.map((function(e,t){var n,l;return"NotificationPhraseLinkNode"===(null===(n=e)||void 0===n?void 0:n.__typename)&&(null===(l=e)||void 0===l?void 0:l.uri)&&e.uri.value&&i.createElement(N.M,{align:"center",inline:!0,key:"uitkLink-element-".concat(t)},i.createElement("a",{href:e.uri.value,key:"text-element-".concat(t),target:"_blank",rel:"noopener noreferrer"},i.createElement(b.b,{key:"text-element-".concat(t),theme:"inverse"},e.text)))}))))))};Ln.displayName="TakeoverBanner";var Sn=function(e){var t,n=e.heading,l=e.message,o=e.icon,a=e.links,r=e.revealActions,c=e.queryInputs,d=e.actionCallback,u=ke(),m=ce(i.useState(!0),2),v=m[0],E=m[1],g=ce((0,w.useDialog)("multi-advisory-dialog"),3),y=g[0],_=g[1],k=g[2];if((0,Q._9)({query:{type:"TRAVEL_ADVISORY_HIDE"},onSignal:),i.useEffect((function(){u(r)}),[]),!v)return null;var A=function(e){return function(t){var n,i;u(e.actions),null===(n=d)||void 0===n||n({id:e.id,notificationType:"TRAVEL_ADVISORY",notificationLocation:c.notificationLocation,notificationLinkType:e.type}),(null===(i=e.uri)||void 0===i?void 0:i.value)||"open_multi_advisory_popup"===e.id?"open_multi_advisory_popup"===e.id&&_.openDialog():(t.preventDefault(),t.stopPropagation(),E(!1))}},C=null===(t=a)||void 0===t?void 0:t.map((function(e,t){return i.createElement(U.m,{key:t},i.createElement(N.M,{onClick:A(e),inline:!0},e.uri?i.createElement("a",{href:e.uri.value,target:"_blank",rel:"noopener noreferrer"},e.text):i.createElement("button",{type:"button"},e.text)))}));return i.createElement(i.Fragment,null,y&&i.createElement(T.U,{isVisible:y},i.createElement(k,null,i.createElement(Kn,{inputs:re(ae({},c),{notificationLocation:"POPUP"}),actionCallback:function(e){var t;"close_multi_advisory_popup"!==e.id&&"notification-not-found-error"!==e.id&&"notification-validation-error"!==e.id&&"notification-network-error"!==e.id||_.closeDialog(),null===(t=d)||void 0===t||t(e)}}))),i.createElement($.j,null,i.createElement(s.l,{padding:{block:"one"}},i.createElement(p.v,{alignItems:"center",space:"two"},o&&i.createElement(h.t,null,i.createElement(s.l,{margin:{inlinestart:"four",inlineend:"six"}},i.createElement(f.fR,{name:o.iconName,description:o.iconDescription,title:o.iconTitle}))),i.createElement(h.t,null,i.createElement("div",null,i.createElement(R.y,{tag:"h4"},n.heading),i.createElement(b.b,null,l),i.createElement(F.Y,{bullet:"no-bullet",orientation:"inline"},C)))))))};Sn.displayName="sharedui-TravelAdvisory";var xn=function(e){var t,n,l,o,a,r,c,d,u,s=e.data,m=e.inputs,v=e.actionCallback,E=s.title,f=s.body,g=s.links,p=s.revealActions,h=s.icon,b=null===(n=E)||void 0===n||null===(t=n.items)||void 0===t?void 0:t[0].text,y=null===(l=E)||void 0===l?void 0:l.accessibilityLabel,_=null===(a=f)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.items[0].text,k=null===(r=g)||void 0===r?void 0:r.slice(0,2),A=null===(c=h)||void 0===c?void 0:c.id,N=(null===(d=h)||void 0===d?void 0:d.description)||"",T=(null===(u=h)||void 0===u?void 0:u.title)||"";return _?(A||(A="warning"),i.createElement(Sn,{heading:{heading:b,accessibilityHeading:y},message:_,icon:{iconName:A,iconDescription:N,iconTitle:T},links:k,revealActions:p,queryInputs:m,actionCallback:v})):null},In=function(e){var t,n=e.index,l=e.separator,o=e.heading,a=e.message,r=e.possibleLink,c=e.actionCallback,d=ke();return i.createElement(i.Fragment,{key:n},""!==o&&i.createElement(R.y,{tag:"h3",size:6},i.createElement("span",{"data-stid":"customer-notification__travel-advisory-dialog-messages-heading-".concat(n)},o)),i.createElement("p",{"data-stid":"customer-notification__travel-advisory-dialog-messages-message-".concat(n)},a),r&&"NotificationPhraseLinkNode"===r.__typename&&r.uri&&r.uri.value&&i.createElement(N.M,{onClick:(t=r,function(){var e;d(t.actions),null===(e=c)||void 0===e||e({id:t.id,notificationType:"TRAVEL_ADVISORY",notificationLocation:"POPUP",notificationLinkType:t.type})})},i.createElement("a",{href:r.uri.value,target:"_blank",rel:"noopener noreferrer","data-stid":"customer-notification__travel-advisory-dialog-messages-link-".concat(n)},r.text,r.icon&&i.createElement("span",{className:"is-visually-hidden"},r.icon.description))),l&&i.createElement("hr",null))};In.displayName="TravelAdvisoryDialogItem";var wn=function(e){var t=e.heading,n=e.body,l=e.dismiss,o=e.revealActions,a=e.actionCallback,r=i.useRef(null),c=ke();i.useEffect((function(){c(o)}),[]);return i.createElement(C.K,{type:"full",isVisible:!0,triggerRef:r,returnFocusOnClose:!0},i.createElement(Z.b,{navigationContent:{onClick:function(){var e;c(l.actions),null===(e=a)||void 0===e||e({id:"close_multi_advisory_popup",notificationType:"TRAVEL_ADVISORY",notificationLocation:"POPUP",notificationLinkType:"BUTTON"})},navIconLabel:l.icon.description,navType:"close"}}),i.createElement(L.z,null,t&&i.createElement(R.y,{tag:"h2",size:3},t),i.createElement(s.l,{margin:{blockstart:"twelve"}},i.createElement("div",{"data-stid":"customer-notification__travel-advisory-dialog-messages"},n.map((function(e,t){return i.createElement(In,{key:t,index:t,separator:t<n.length-1,heading:e.items[0].text,message:e.items[1].text,possibleLink:e.items[2],actionCallback:a})}))))))};wn.displayName="sharedui-TravelAdvisoryDialog";var On=function(e){var t,n,l,o,a,r,d,u=e.graphicElement,m=e.markSize,v=e.title,E=e.body,g=e.links,y=e.layout,_=v.egdsItems[0],k="text"in _&&_.text,T="theme"in _&&_.theme||void 0,C="weight"in _&&_.weight||void 0,L=null===(n=E)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.egdsItems[0],S=L&&"text"in L&&L.text,x=L&&"theme"in L&&L.theme||void 0,I=L&&"weight"in L&&L.weight||void 0,w=ke(),O=i.createElement(i.Fragment,null,k&&i.createElement(b.b,{align:"left",size:400,spacing:"WITH_BORDER"!==y?"two":void 0,theme:T&&lt[T],weight:C&&it[C]},k),S&&i.createElement(b.b,{align:"left",size:300,spacing:"WITH_BORDER"!==y?"two":"one",theme:x&&lt[x],weight:I&&it[I]},S)),R=null===(l=g)||void 0===l?void 0:l.map((function(e,t){var n=e.actions;return i.createElement(h.t,{key:t,alignSelf:"start"},e.uri&&i.createElement(N.M,{onClick:function(){w(n)}},i.createElement("a",{href:e.uri.value,target:"_blank",rel:"noreferrer"},e.text)))})),P=i.createElement(i.Fragment,null,"Mark"===(null===(o=u)||void 0===o?void 0:o.__typename)&&i.createElement(D.F,{name:u.id,url:null===(a=u.url)||void 0===a?void 0:a.value,description:u.description,size:null!=m?m:12}),"Icon"===(null===(r=u)||void 0===r?void 0:r.__typename)&&i.createElement(f.fR,{id:Math.random().toString(),description:u.description,name:u.id,size:u.size?f.eZ[u.size]:f.eZ.MEDIUM,theme:null!==(d=u.theme)&&void 0!==d?d:void 0,spotlight:u.withBackground?"positive":void 0}));return i.createElement("li",null,i.createElement(A.P,null,function(e){switch(e){case"ICON_ON_SIDE":return i.createElement(c.t,{padded:!0},i.createElement(p.v,{alignItems:"center",space:"two"},i.createElement(h.t,null,P),i.createElement(h.t,{alignSelf:"center"},i.createElement("div",null,O,g&&i.createElement(s.l,{padding:{blockstart:"two"}},i.createElement(p.v,{alignItems:"center"},R))))));case"ICON_ON_TOP":return i.createElement(c.t,{padded:!0},i.createElement(p.v,{alignItems:"center",space:"two"},i.createElement(h.t,null,P)),O,R);case"WITH_BORDER":return i.createElement(c.t,{border:!0},i.createElement(s.l,{padding:"six"},i.createElement(p.v,{alignItems:"start",blockSize:"full_size"},i.createElement(h.t,null,P),i.createElement(h.t,null,i.createElement(s.l,{margin:{inlinestart:"two"}},i.createElement("div",null,O,g&&i.createElement(s.l,{margin:{blockstart:"one"}},i.createElement(p.v,{alignItems:"center"},R))))))));default:return null}}(y)))};On.displayName="sharedui-TrustMessage";var Rn,Pn=function(e){var t,n,l,o,a=e.data||{},r=a.title,d=a.subBody,u=a.revealActions,m=ke();if(i.useEffect((,[]),!d&&!r)return null;var v,E=null===(t=r)||void 0===t?void 0:t.egdsItems[0],f=E&&"weight"in E&&E.weight,g=E&&"theme"in E&&E.theme,p=null!==(v=null===(n=d)||void 0===n?void 0:n.length)&&void 0!==v?v:0,h="WITH_BORDER"===(d&&"layout"in d[0]?d[0].layout:null),_=null===(l=d)||void 0===l?void 0:l.map((function(e,t){var n="graphicElement"in e?e.graphicElement:null,l=n&&"markSize"in n&&n.markSize||q.j.LARGE;return i.createElement(On,{key:t,title:e.title,graphicElement:n,markSize:l,body:"body"in e?e.body:null,links:"links"in e?e.links:null,layout:"layout"in e?e.layout:null})})),N=(null===(o=r)||void 0===o?void 0:o.completeText)&&i.createElement(b.b,{weight:f?it[f]:void 0,size:700,theme:g?lt[g]:void 0},E&&"text"in E&&E.text);return i.createElement(i.Fragment,null,!h&&i.createElement(y.Viewport,null,i.createElement(y.ViewSmall,null,i.createElement(R.y,{size:3},N)),i.createElement(y.ViewMedium,null,i.createElement(R.y,{size:4},N))),d&&i.createElement(y.Viewport,null,i.createElement(y.ViewSmall,null,h?i.createElement(X.LG,{layout:"fullwidth",canvasTheme:"primary",paddedViewRow:!1},i.createElement(s.l,{padding:"four"},i.createElement("div",null,E&&"text"in E&&i.createElement(R.y,{size:4},i.createElement(b.b,{weight:f?it[f]:void 0,size:600,theme:g?lt[g]:void 0},E.text)),i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement(k.a,{columns:1,space:"four",tag:"ul"},i.createElement(A.P,{alignSelf:"center"}),_))))):i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(k.a,{columns:1,space:"four",tag:"ul"},_))),i.createElement(y.ViewMedium,null,h?i.createElement(c.t,null,i.createElement(s.l,{padding:"four"},i.createElement("div",null,E&&"text"in E&&i.createElement(R.y,{size:4},i.createElement(b.b,{weight:f?it[f]:void 0,size:600,theme:g?lt[g]:void 0},E.text)),i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement(k.a,{columns:3,space:"four",tag:"ul"},_))))):i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(k.a,{columns:2,space:"four",tag:"ul"},_))),i.createElement(y.ViewLarge,null,h?i.createElement(c.t,null,i.createElement(s.l,{padding:"four"},i.createElement(k.a,{columns:p+1,space:"four",tag:"ul"},i.createElement(A.P,{alignSelf:"center"},i.createElement(s.l,{padding:{block:"three",inlinestart:"six",inlineend:"four"}},E&&"text"in E&&i.createElement(R.y,{size:4},i.createElement(b.b,{weight:f?it[f]:void 0,size:600,theme:g?lt[g]:void 0,align:"left"},E.text)))),_))):i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(k.a,{columns:p,space:"four",tag:"ul"},_)))))};Pn.displayName="TrustMessageWrapper";var Dn,Mn=(ie(Rn={},"AFTER_HEADER|TRAVEL_ADVISORY",xn),ie(Rn,"AFTER_WIZARD|CLEANLINESS",(function(e){var t,n,l,o,a=e.data||{},r=a.title,c=a.body;if(!c||!r)return null;var d=null===(n=r.items)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.text,u=null===(o=r.items)||void 0===o||null===(l=o[1])||void 0===l?void 0:l.text,s=function(e){var t=[];return e.forEach((function(e){var n,i,l,o,a,r,c,d,u,s,m={title:null===(l=e)||void 0===l||null===(i=l.items)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.text,iconName:null===(c=e)||void 0===c||null===(r=c.items)||void 0===r||null===(a=r[0])||void 0===a||null===(o=a.icon)||void 0===o?void 0:o.id,subtitle:null===(s=e)||void 0===s||null===(u=s.items)||void 0===u||null===(d=u[1])||void 0===d?void 0:d.text};t.push(m)})),t}(c);return i.createElement(Ze,{title:d,subtitle:u,messages:s})})),ie(Rn,"AFTER_WIZARD|GENERIC",Ot),ie(Rn,"AFTER_WIZARD|ONE_KEY",mn),ie(Rn,"AFTER_WIZARD|TRAVEL_ADVISORY",xn),ie(Rn,"FOOTER|MAD_MARQUEE",rn),ie(Rn,"IN_PAGE_AD|CITI_COBRAND",Qe),ie(Rn,"IN_PAGE_AD|CITI_COBRAND_VERTICAL",Qe),ie(Rn,"IN_PAGE_AD|ONE_KEY",mn),ie(Rn,"IN_PAGE_AD|CONFIGURABLE",Nt),ie(Rn,"IN_PAGE|CONFIGURABLE",Nt),ie(Rn,"IN_PAGE|GENERIC",Ot),ie(Rn,"IN_PAGE|MAD_MARQUEE",rn),ie(Rn,"IN_PAGE|ONE_KEY",mn),ie(Rn,"IN_PAGE|TRUST_MSG_BANNER",Pn),ie(Rn,"IN_MODULE|GENERIC",Ot),ie(Rn,"IN_MODULE|CONFIGURABLE",Nt),ie(Rn,"IN_MODULE|BOTTOM_SHEET",Oe),ie(Rn,"IN_MODULE|CENTERED_SHEET",De),ie(Rn,"LEGAL|OSANO",(function(e){var t,n,l,o=(e.data||{}).attributes;return(null===(n=o)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.value)?i.createElement(Cn,{osanoAttributes:null===(l=o)||void 0===l?void 0:l.map((function(e){return{name:e.name,value:e.value}}))}):null})),ie(Rn,"LEGAL|ONETRUST",(function(e){var t,n=(e.data||{}).attributes;return En(n,yn)?i.createElement(bn,{onetrustAttributes:null===(t=n)||void 0===t?void 0:t.map(()}):null})),ie(Rn,"POPUP|BOTTOM_SHEET",Oe),ie(Rn,"POPUP|CENTERED_SHEET",De),ie(Rn,"POPUP|FULL_SHEET",(function(e){var t,n,l,o,a,r,c,d,u,s,m,v,E,f=e.data,g=f.type,p=f.bannerContainer,h=f.notificationLocation,b=f.title,y=f.body,_=f.logo,k=f.links,A=f.revealActions,N=f.dismiss,T=f.backgroundImage,C=f.legalText,L=e.inputs.optionalContext,S=null===(t=k)||void 0===t?void 0:t[0],x=null===(n=k)||void 0===n?void 0:n[1];if(!((null===(o=S)||void 0===o||null===(l=o.uri)||void 0===l?void 0:l.value)&&(b||y)&&b&&_&&A&&((null===(a=N)||void 0===a?void 0:a.icon.id)||(null===(r=x)||void 0===r?void 0:r.type))))return null;var I,w,O=null===(d=C)||void 0===d||null===(c=d.egdsTextItems)||void 0===c?void 0:c.find((),R=null;"EGDSStylizedText"===b.egdsTextItems[0].__typename&&(I=ce(b.egdsTextItems,1)[0]);"EGDSStylizedText"===(null===(u=y)||void 0===u?void 0:u[0].egdsTextItems[0].__typename)&&(w=ce(y[0].egdsTextItems,1)[0]);return"NotificationBannerTheme"===(null===(m=p)||void 0===m||null===(s=m.theme)||void 0===s?void 0:s.__typename)&&(R=p.theme.bannerTheme),i.createElement(Tt,{type:g,bannerTheme:R,backgroundImage:T,notificationLocation:h,sheetTitle:I,sheetBody:w,logo:_,switchToTheAppLink:S,dismissCta:x,dismiss:N,termsAndConditions:O,referer:null===(v=L)||void 0===v?void 0:v.referer,layout:null===(E=p)||void 0===E?void 0:E.layout,revealActions:A})})),ie(Rn,"POPUP|FULL_SHEET_MEDIA",(function(e){var t,n,l,o,a,r,c,d,u,s,m,v,E=e.data,f=E.type,g=E.bannerContainer,p=E.notificationLocation,h=E.title,b=E.logo,y=E.links,_=E.revealActions,k=E.dismiss,A=E.backgroundImage,N=E.legalText,T=e.inputs.optionalContext,C=null===(t=y)||void 0===t?void 0:t[0];if(!((null===(l=C)||void 0===l||null===(n=l.uri)||void 0===n?void 0:n.value)&&h&&b&&A&&_&&(null===(o=k)||void 0===o?void 0:o.icon.id)))return null;var L,S=null===(r=N)||void 0===r||null===(a=r.egdsTextItems)||void 0===a?void 0:a.find((function(e){var t,n;return"EGDSStandardLink"===(null===(t=e)||void 0===t?void 0:t.__typename)||"EGDSStylizedText"===(null===(n=e)||void 0===n?void 0:n.__typename)})),x="BRAND_PROMO_PRIMARY";"EGDSStylizedText"===(null===(u=h)||void 0===u||null===(d=u.egdsTextItems)||void 0===d||null===(c=d[0])||void 0===c?void 0:c.__typename)&&(L=ce(h.egdsTextItems,1)[0]);return"NotificationBannerTheme"===(null===(m=g)||void 0===m||null===(s=m.theme)||void 0===s?void 0:s.__typename)&&g.theme.bannerTheme&&(x=g.theme.bannerTheme),L?i.createElement(St,{type:f,bannerTheme:x,backgroundImage:A,notificationLocation:p,sheetTitle:L,logo:b,switchToTheAppLink:C,termsAndConditions:S,dismiss:k,referer:null===(v=T)||void 0===v?void 0:v.referer,revealActions:_}):null})),ie(Rn,"POPUP|TRAVEL_ADVISORY",(function(e){var t,n,l=e.data,o=e.actionCallback,a=l||{},r=a.title,c=a.body,d=a.dismiss,u=a.revealActions;return c&&d?i.createElement(wn,{heading:null===(t=r)||void 0===t?void 0:t.items[0].text,body:c,dismiss:d,revealActions:u,actionCallback:o}):(null===(n=o)||void 0===n||n({id:"notification-validation-error",notificationLocation:"POPUP",notificationType:"TRAVEL_ADVISORY"}),null)})),ie(Rn,"PRE_HEADER|APP_HERO",(function(e){var t,n,l,o=e||{},a=o.data,r=a.title,c=a.logo,d=a.links,u=a.dismiss,s=a.revealActions,m=o.inputs.optionalContext;return r&&c&&u?(null===(t=d)||void 0===t||t.forEach((function(e){"APP_DOWNLOAD_LINK"===e.type?l=e:e})),i.createElement(Ce,{title:r,logo:c,tuneLink:l,revealActions:s,dismiss:u,referer:null===(n=m)||void 0===n?void 0:n.referer})):null})),ie(Rn,"PRE_HEADER|CONFIGURABLE",Nt),ie(Rn,"PRE_HEADER|HEADER",(function(e){var t,n=e.data,l=e.inputs,o=n||{},a=o.type,r=o.notificationLocation,c=o.title,d=o.logo,u=o.dismiss,s=o.revealActions,m=o.containerLink,v=o.body,E=l.optionalContext;return d&&u?i.createElement(Rt,{type:a,notificationLocation:r,title:c,logo:d,containerLink:m,revealActions:s,dismiss:u,referrer:null===(t=E)||void 0===t?void 0:t.referer,body:v}):null})),ie(Rn,"PRE_HEADER|TAKEOVER",(function(e){var t,n,l,o=e||{},a=o.data,r=a.type,c=a.notificationLocation,d=a.title,u=a.logo,s=a.links,m=a.dismiss,v=a.revealActions,E=a.legalText,f=o.inputs.optionalContext;return d&&u&&m?(null===(t=s)||void 0===t||t.forEach((),i.createElement(Ln,{type:r,notificationLocation:c,title:d,logo:u,bannerLink:l,revealActions:v,dismiss:m,referer:null===(n=f)||void 0===n?void 0:n.referer,legalText:E})):null})),Rn),zn=zn||{}),Fn=function(){function e(){!this,e),be(this,"data",Object.keys(Ae).reduce((,{})),be(this,"events",Object.values(zn)),be(this,"stateFieldName","customerNotificationControlState")}var t,n,i;return t=e,(n=[{key:"update",value:function(e,t,n){var i=Object.assign(t);return n.data&&(i[n.data.location]={state:e,type:n.data.type}),i}}])&&ne(t.prototype,n),i&&ne(t,i),e}(),Un=function(e){var t=e.notificationLocation,n=e.notificationType,l=e.children,o=ce((0,H.gw)(),2)[1];return i.useEffect((,[o,t,n]),i.createElement(i.Fragment,null,l)},Bn=function(e){var t,n,l=e.notificationLocation,o=e.notificationType,a=e.data,r=e.inputs,c=e.actionCallback,d=e.switchHandler,u=e.useRewards,m=e.dismissCallback,v=e.spacingProps,E=(t=o,Mn["".concat(l,"|").concat(t)]||null);if(!E)return null===(n=c)||void 0===n||n({id:"notification-not-found-error",notificationLocation:l,notificationType:o}),null;var f,g,p=i.createElement(Un,{notificationLocation:l,notificationType:o},i.createElement(E,{data:a,inputs:r,actionCallback:c,switchHandler:d,useRewards:u,dismissCallback:m}));return v?i.createElement(s.l,{margin:null===(f=v)||void 0===f?void 0:f.margin,padding:null===(g=v)||void 0===g?void 0:g.padding},i.createElement("div",null,p)):i.createElement(i.Fragment,null,p)},Gn=function(e){if("string"==typeof e){var t=e.split("-").map((function(e){return e.trim()}));return{day:+t[2],month:+t[1],year:+t[0]}}return e},Yn=function(e){return re(ae({},e),{journeyCriterias:(t=e.journeyCriterias,t?t.map((function(e){var t,n,i,l;return(null===(n=e)||void 0===n||null===(t=n.dateRange)||void 0===t?void 0:t.start)&&(null===(l=e)||void 0===l||null===(i=l.dateRange)||void 0===i?void 0:i.end)?re(ae({},e),{dateRange:{start:Gn(e.dateRange.start),end:Gn(e.dateRange.end)}}):ae({},e.origin&&{origin:e.origin},e.destination&&{destination:e.destination},e.tripType&&{tripType:e.tripType},e.scheduleChangeStatus&&{scheduleChangeStatus:e.scheduleChangeStatus},e.scheduleChangeStatus&&{scheduleChangeStatus:e.scheduleChangeStatus},e.cabinClass&&{cabinClass:e.cabinClass},e.travelerDetail&&{travelerDetail:e.travelerDetail},e.filter&&{filter:e.filter},e.tripsData&&{tripsData:e.tripsData})})):t)});var t},Vn=function(e){var t=le({},e));return Yn(ae({},t))},qn=function(e,t,n){return e?"IN_PAGE"===n&&"CHECKOUT"===t?Yn(e):Vn(e):e};var jn=(ie(Dn={},"CPM_CC_ON_FILE_MESSAGE","message_module_agency_card_on_file"),ie(Dn,"CPM_CC_ON_FILE_ONLY_INSURANCE_PAYMENT_MESSAGE","message_module_agency_card_on_file_plus_insurance"),ie(Dn,"CPM_NO_PAYMENT_DUE_MESSAGE","message_module_agency_no_cc"),ie(Dn,"CPM_ONLY_INSURANCE_PAYMENT_DUE_MESSAGE","message_module_agency_no_cc_plus_insurance"),ie(Dn,"PAY_NOW_CC_ON_FILE_GIFT_CARD_COUPON_TOTAL_AMOUNT","message_module_agency_gift_card_coupons"),ie(Dn,"PAY_NOW_CC_ON_FILE_GIFT_CARD_TOTAL_AMOUNT","message_module_agency_gift_card"),ie(Dn,"PAY_NOW_CC_ON_FILE_OKC_COUPON_TOTAL_AMOUNT","message_module_agency_okc_coupons"),ie(Dn,"PAY_NOW_CC_ON_FILE_OKC_GIFT_CARD_COUPON_TOTAL_AMOUNT","message_module_agency_okc_gift_card_coupons"),ie(Dn,"PAY_NOW_CC_ON_FILE_OKC_GIFT_CARD_TOTAL_AMOUNT","message_module_agency_okc_gift_card"),ie(Dn,"PAY_NOW_CC_ON_FILE_OKC_TOTAL_AMOUNT","message_module_agency_okc"),ie(Dn,"PAY_NOW_GIFT_CARD_COUPON_TOTAL_AMOUNT","message_module_merchant_gift_card_coupons"),ie(Dn,"PAY_NOW_GIFT_CARD_TOTAL_AMOUNT","message_module_merchant_gift_card"),ie(Dn,"PAY_NOW_OKC_COUPON_TOTAL_AMOUNT","message_module_merchant_okc_coupons"),ie(Dn,"PAY_NOW_OKC_GIFT_CARD_COUPON_TOTAL_AMOUNT","message_module_merchant_okc_gift_card_coupons"),ie(Dn,"PAY_NOW_OKC_GIFT_CARD_TOTAL_AMOUNT","message_module_merchant_okc_gift_card"),ie(Dn,"PAY_NOW_OKC_TOTAL_AMOUNT","message_module_merchant_okc"),ie(Dn,"OKC_ADD_FAILED_MESSAGE","message_module_reroute"),ie(Dn,"OKC_REMOVAL_FAILED_MESSAGE","message_module_reroute"),ie(Dn,"COUPON_REMOVAL_FAILED_MESSAGE","message_module_reroute"),Dn),Wn={__typename:"InlineNotification",type:"NONE",theme:null,switch:null,title:null,body:null,subBody:null,legalText:null,containerLink:null,icon:null,logo:null,links:null,attributes:null,dismiss:null,revealActions:null,backgroundImage:null,customQrCode:null,form:null},Hn=(0,a.gql)(ge()),Kn=function(e){var t,n,a,r,c,d,u,s,m,v,E,f=e.inputs,g=f.xPageId,p=f.notificationLocation,h=f.optionalContext,b=e.actionCallback,y=e.skipSsr,_=void 0!==y&&y,k=e.isLoadingUI,A=void 0!==k&&k,N=e.switchHandler,T=e.useRewards,C=e.dismissCallback,L=e.spacingProps,S=(0,o.v)().context,x=function(e){var t=e.split(",").map(();return{pageId:t[0],lineOfBusiness:tt[t[1]]||"UNCLASSIFIED",pageLocation:nt[t[2]]||"ENTRY"}}(g),I={context:S,notificationLocation:p,lineOfBusiness:x.lineOfBusiness,pageLocation:x.pageLocation,optionalPageId:x.pageId.length>0?x.pageId:null,optionalContext:qn(h,x.pageLocation,p)},w=(0,l.useQuery)(Hn,{context:{useApq:!0},variables:I,ssr:!_}),O=w.error,R=w.data,P=w.previousData,D=w.loading,M=null===(t=P)||void 0===t?void 0:t.notification.inlineNotification,z=null!==(s=null!==(u=null===(a=R)||void 0===a||null===(n=a.notification)||void 0===n?void 0:n.inlineNotification)&&void 0!==u?u:M)&&void 0!==s?s:p),F=null===(r=P)||void 0===r?void 0:r.notification.inlineNotification.type,U=null!==(v=null!==(m=null===(c=z)||void 0===c?void 0:c.type)&&void 0!==m?m:F)&&void 0!==v?v:"NONE",B=null===(d=z)||void 0===d?void 0:d.revealActions,G=ke(),Y=!R&&!P;if(_&&A&&D)return i.createElement(Ne,null);if((O||Y)&&!D){if(O){var V,q,j,W,H;null===(V=b)||void 0===V||V({id:"notification-network-error",notificationLocation:p,notificationType:"NONE"});var K=function(e,t){return"IN_PAGE"===e?"message_module_reroute":t&&"IN_MODULE"===e?jn[t]:void 0}(p,null===(j=h)||void 0===j||null===(q=j.inModuleMessage)||void 0===q?void 0:q.name),Q=function(e){var t,n,i=e.errorName,l=e.errorDescription,o=e.clickStreamActionLocation;return{__typename:"NotificationAnalyticsEgClickstream",description:"message module failed",event:{__typename:"EGClickstreamEvent",eventName:"message_module.failed",eventType:"Outcome",eventVersion:"1.4.0",actionLocation:null!=o?o:null,eventCategory:"Search"},schema:[(t="error_list",n={"[0].error_name":i?"misconfiguration":"network_error","[0].error_description":l||"message module failed"},{__typename:"NotificationSchema",name:t,messageContent:Object.entries(n).map(()})]}}({errorName:null===(W=O)||void 0===W?void 0:W.name,errorDescription:null===(H=O)||void 0===H?void 0:H.message,clickStreamActionLocation:K});G([Q])}return null}return"NONE"===U&&(R||P||D)?(G(B),null===(E=b)||void 0===E||E({id:"notification-none-value",notificationLocation:p,notificationType:"NONE"}),null):i.createElement(Bn,{data:z,inputs:{xPageId:g,notificationLocation:p,optionalContext:h},actionCallback:b,switchHandler:N,useRewards:T,dismissCallback:C,notificationLocation:p,notificationType:U,spacingProps:L})};Kn.displayName="sharedui-CustomerNotification";var Qn=function(e){var t=e.spacing,n=e.children;return i.createElement(s.l,ae({},t),i.createElement("div",null,n))};Qn.displayName="CustomerNotificationStylingWrapper"}}]);
//# sourceMappingURL=shared-ui-customer-notifications.b7b4a0b2906d98cf10d3.js.map