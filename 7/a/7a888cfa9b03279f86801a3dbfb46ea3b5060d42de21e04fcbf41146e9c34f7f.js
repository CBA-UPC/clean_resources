(();function show_auth(method,message,source){mod=$('#auth-remodal');mod.html('<img src="/static/desktop/Images/loader.gif" class="loading_image" />');var inst=$.remodal.lookup[mod.data('remodal')];inst.open();request_url="/users/auth?ajax=1&register=1";if(method=='login')request_url="/users/auth?ajax=1&login=1";$.ajax({type:"GET",url:request_url,cache:false}).done(function(data){mod.html(data);if(method=='login'){$("#log_username").trigger('focus');}else if(method=='register'){$("#reg_username").trigger('focus');}
if(message){mod.find('h1').show().html(message);};if(source){$("#auth_register_form #reg_source").val(source);ga('send','event','auth source',source,{'nonInteraction':1})};})
return false;}
function do_login(form){mod=$('#auth-remodal');elem=$(form).find('button');$(form).removeAttr('onsubmit');$(elem).removeClass('ft-red').addClass('ft-light-blue').html('Processing...');$.ajax({type:"POST",url:"/users/auth?ajax=1&login=1",data:{'l_username':$('#log_username').val(),'l_password':$('#log_password').val(),'csrf_token':$('#csrf_token').val()},cache:false}).done(function(data){if(data=='OK'){mod.html('<img src="/static/desktop/Images/loader.gif" class="loading_image" />');location.reload();}else{mod.html(data);$("#auth_login_form").addClass('active_form');$("#log_username").trigger('focus');}})}
function do_register(form){mod=$('#auth-remodal');elem=$(form).find('button');$(form).removeAttr('onsubmit');$(elem).removeClass('ft-red').addClass('ft-light-blue').html('Processing...');ga('send','event','auth register','submit',{'nonInteraction':1})
$.ajax({type:"POST",url:"/users/auth?ajax=1&register=1",data:{'r_username':$('#reg_username').val(),'r_password':$('#reg_password').val(),'r_email':$('#reg_email').val(),'r_source':$('#reg_source').val(),'csrf_token':$('#csrf_token').val()},cache:false}).done(function(data){if(data=='OK'){ga('send','event','auth register','success',{'nonInteraction':1})
mod.html('<img src="/static/desktop/Images/loader.gif" class="loading_image" />');location.reload();}else{ga('send','event','auth register','failed',{'nonInteraction':1})
mod.html(data);$("#auth_register_form").addClass('active_form');$("#reg_username").trigger('focus');}})}
function activate_button(button){button.removeAttr('title').removeAttr('original-title');change_icon($(button),'','check-circle')}
function check_login(method){if(logged_in==1)return true;show_auth('register','',method)
return false;}
function api_call(action,obj_id,obj_data,type){if(window.is_search_bot)return false;type=(typeof type!=='undefined')?type:'POST';if(typeof(action)==='undefined')return false;if(typeof(obj_id)==='undefined')return false;if(typeof(obj_data)==='undefined')obj_data=0;if(action=='comment'&&obj_data.length<5){alert(translation['short_comment'])
return false;}
if(action=='achievement'&&logged_in==0)return false;return $.ajax({type:type,url:"/api/"+action,data:{id:obj_id,data:obj_data},dataType:"json",cache:false});}
function quick_search(keyword){keyword=$('header .search input').val().toLowerCase();if(keyword.length>1){window.location.href="/s/"+encodeURIComponent($('header .search input').val().toLowerCase().trim())+'/';}else{$('header .search input').focus();}}
var header_timeout;function setup_header(){nav_videos=$('header li.nav li.nav_videos')
nav_categories=$('header li.nav li.nav_categories')
nav_pornstars=$('header li.nav li.nav_pornstars')
nav_videos.mouseover(function(e){window.clearTimeout(header_timeout);})
nav_categories.mouseover(function(e){window.clearTimeout(header_timeout);})
nav_pornstars.mouseover(function(e){window.clearTimeout(header_timeout);})
nav_videos.mouseleave(function(e){header_timeout=window.setTimeout(function(){nav_videos.find('div.sub_menu').hide();nav_videos.find('a.nav_link').removeClass('activated');},400);})
nav_categories.mouseleave(function(e){header_timeout=window.setTimeout(function(){nav_categories.find('div.sub_menu').hide();nav_categories.find('a.nav_link').removeClass('activated');},400);})
nav_pornstars.mouseleave(function(e){header_timeout=window.setTimeout(400);})
nav_videos.find('a.nav_link').on('click',function(e){e.preventDefault();window.clearTimeout(header_timeout);elem=$(this)
nav_categories.find('div.sub_menu').hide();nav_pornstars.find('div.sub_menu').hide();nav_categories.find('a.nav_link').removeClass('activated');nav_pornstars.find('a.nav_link').removeClass('activated');if(elem.hasClass('activated')){nav_videos.find('div.sub_menu').hide();elem.removeClass('activated');}else{nav_videos.find('div.sub_menu').show();elem.addClass('activated');}
return false;})
nav_categories.find('a.nav_link').on('click',function(e){e.preventDefault();window.clearTimeout(header_timeout);elem=$(this)
nav_videos.find('div.sub_menu').hide();nav_pornstars.find('div.sub_menu').hide();nav_videos.find('a.nav_link').removeClass('activated');nav_pornstars.find('a.nav_link').removeClass('activated');if(elem.hasClass('activated')){nav_categories.find('div.sub_menu').hide();elem.removeClass('activated');}else{nav_categories.find('div.sub_menu').show();elem.addClass('activated');}
return false;})
nav_pornstars.find('a.nav_link').on('click',function(e){e.preventDefault();window.clearTimeout(header_timeout);elem=$(this)
nav_categories.find('div.sub_menu').hide();nav_videos.find('div.sub_menu').hide();nav_categories.find('a.nav_link').removeClass('activated');nav_videos.find('a.nav_link').removeClass('activated');if(elem.hasClass('activated')){nav_pornstars.find('div.sub_menu').hide();elem.removeClass('activated');}else{nav_pornstars.find('div.sub_menu').show();elem.addClass('activated');}
return false;})}
function show_notification_panel(elem){elem=$(elem);panel=elem.parent().find('.panel');if(elem.data("is_open")==1){elem.data("is_open",0);panel.hide();}else{elem.data("is_open",1);panel.show();$.ajax({method:"GET",url:"/users/notifications",success:function(data){var response=$('<html />').html(data);notifications=response.find('.notifications_list li:lt(5)');output_html='';notifications.each(function(){output_html=output_html+'<div class="entry">'+$(this).find('.snippet').html()+'</div>'})
if(output_html==''){output_html='<div class="entry">You have no notifications.</div>';}
output_html=output_html+'<div class="link"><a href="/users/notifications">View all notifications</a></div>';panel.html(output_html);}})}}
function switch_lang(){mod=$('#auth-remodal');mod.html('<div id="language_list">'+$('#language_holder').html()+'</div>');var inst=$.remodal.lookup[mod.data('remodal')];inst.open();return false;}
function switch_sex(){mod=$('#auth-remodal');mod.html('<div id="language_list">'+$('#sex_holder').html()+'</div>');var inst=$.remodal.lookup[mod.data('remodal')];inst.open();return false;}
function switch_ui(){if(confirm("Switch to Mobile?")===true){var save_ui=api_call('edition/ui',0,'mobile',"POST");save_ui.done(function(results){location.reload(true);});}}
function change_icon(element,old_icon,new_icon){if(old_icon){element.find('.i_svg.i_'+old_icon).replaceWith(svg_icon(new_icon));}else{element.find('.i_svg').replaceWith(svg_icon(new_icon));}}
function render_external_html(){var html_content='<h4>'+translation['please_signin']+'</h4><br/><p><span class="ft-button ft-red sign" onclick="show_auth (\'register\')">'+translation['signup_free']+'</span><span class="ft-button ft-blue" onclick="show_auth (\'login\')">'+translation['login']+'</span></p><section class="feature-list"><h3>'+svg_icon('bolt')+' '+translation['missing_features']+'</h3><div class="ft">'+svg_icon('cloud-download')+' '+translation['unlimited_dls']+'</div><div class="ft">'+svg_icon('video-camera')+' '+translation['hd_playback']+'</div><div class="ft">'+svg_icon('mobile')+' '+translation['mobile_access']+'</div><div class="ft">'+svg_icon('star')+' '+translation['vip_pls']+'</div><div class="ft">'+svg_icon('check-square')+' '+translation['follow_porn']+'</div><div class="ft">'+svg_icon('heart')+' '+translation['per_fav']+'</div></section><p><span class="ft-button ft-red sign" onclick="show_auth (\'register\')">'+translation['sign_up_now']+'</span></p>';$('#access-remodal').html(html_content);}
function show_feedback(){mod=$('#feedback-remodal');var inst=$.remodal.lookup[mod.data('remodal')];inst.open();$('#feedback_from .text-area-auto').trigger('focus');return false;}
function submit_feedback(){var feedback_text=$('#feedback_from .text-area-auto').val();if(feedback_text.length<5){alert('Your feedback is too short!')
return false;}
api_call('feedback',0,feedback_text);$('#feedback-remodal').html('<h4>Thank you!</h4>');return false;}
function show_message(user_id){if(check_login('message')){mod=$('#message-remodal');var inst=$.remodal.lookup[mod.data('remodal')];inst.open();$('#message_from .text-area-auto').trigger('focus');$('#message_from .user_id').val(user_id);return false;}}
function send_message(){var message_text=$('#message_from .text-area-auto').val();var user_id=$('#message_from .user_id').val();if(message_text.length<1){alert('Your message is too short!');return false;}
if(user_id<100){alert('Wrong user!');return false;}
api_call('message',user_id,message_text);$('#message-remodal').html('<h4>Your message has been sent!</h4>');return false;}
function show_broadcast(){if(check_login()){mod=$('#broadcast-remodal');var inst=$.remodal.lookup[mod.data('remodal')];inst.open();$('#broadcast_from .text-area-auto').trigger('focus');return false;}}
function send_broadcast(video_id){video_id=typeof video_id!=='undefined'?video_id:0;var message_text=$('#broadcast_from .text-area-auto').val();if(message_text.length<5){alert('Your message is too short!');return false;}
api_call('broadcast',message_text,video_id);$('#broadcast-remodal').html('<h4>Your message has been broadcasted!</h4>');if(video_id==0){setTimeout(function(){window.location.href="/users/broadcasts";},2000);}}
var hide_more_menu=function(){$(document).unbind('click',hide_more_menu);$('#popout_menu').hide();}
function show_more_menu(video_id,elem){$(document).unbind('click',hide_more_menu);var pos=$(elem).offset();var pop_elem=$('#popout_menu');if($('#popout_menu').is(':visible')&&window.current_item_pop_id==video_id){hide_more_menu();return;}
pop_elem.find('.wl').off('click').on('click',function(event){add_wl(video_id)});pop_elem.find('.fav').off('click').on('click',function(event){add_fav(video_id)});pop_elem.find('.pls').off('click').on('click',function(event){if(check_login('playlist')){show_playlist(video_id)}});pop_elem.find('.flag').off('click').on('click',function(event){add_flag(video_id)});var left_pos=pos.left;var top_pos=pos.top;if(left_pos+200>$(document).width())left_pos=left_pos-160;if(top_pos+200>$(document).height())top_pos=top_pos-200;pop_elem.css({top:top_pos+30,left:left_pos});$('#popout_menu').show();window.current_item_pop_id=video_id;setTimeout(300);}
function add_wl(video_id,elem){if(check_login('playlist')){$(elem).toggleClass('active');api_call('playlist/watchlater',video_id,'toggle');var inst=$.remodal.lookup[$('#playlist-remodal').data('remodal')];inst.close();}
analytics_track_event('listing','watchlist',video_id);}
function add_fav(video_id,elem){if(check_login('playlist')){$(elem).toggleClass('active');api_call('playlist/favorites',video_id,'toggle');var inst=$.remodal.lookup[$('#playlist-remodal').data('remodal')];inst.close();}
analytics_track_event('listing','fav',video_id);}
function add_flag(video_id){var report_template=`
  <h4>Report this video</h4>
  <p class="t">Please tell us why you are reporting this video:</p>
  <section class="report-list">
      <div class="flag">
          <p data-flag-id="100">Violent or Abusive</p>
          <p data-flag-id="101">Young, Minor, or Underage</p>
          <p data-flag-id="102">Contains Non-consensual acts</p>
          <p data-flag-id="103">Not a Porn Video</p>
          <p data-flag-id="104">Spam or Misleading</p>
          <p data-flag-id="107">Wrong Categories or Tags</p>
          <p data-flag-id="106">Other Reasons</p>
       </div>

      <p><span class="ft-button ft-blue report">Report</span></p>

      <p class="cancel_row"><span class="ft-button ft-red sign">`+svg_icon('times')+` Cancel</span></p>

  </section>
  `;var mod=$('#flag-remodal');mod.html(report_template);var report_btn=mod.find('.report');report_btn.removeClass('active');report_btn.off('click');$('#flag-remodal .flag p.active').removeClass('active');var inst=$.remodal.lookup[mod.data('remodal')];mod.find('.flag p').each(function(){var flag_elem=$(this);flag_elem.off('click').on('click',function(event){report_btn.addClass('active');$('#flag-remodal .flag p.active').removeClass('active');flag_elem.addClass('active');report_btn.off('click').on('click',function(event){save_flag(video_id,flag_elem.data('flag-id'));inst.close();});});});mod.find('.sign').off('click').on('click',function(event){inst.close();});inst.open();}
function save_flag(video_id,flag_id){api_call('report_v2',video_id,flag_id);analytics_track_event('listing','flag',video_id);}
function remove_flag(video_id,elem){api_call('report_v2_undo',video_id);analytics_track_event('listing','remove_flag',video_id);}
function delete_comment(comment_id){$('#comment_'+comment_id).fadeOut();api_call('comment/delete',comment_id);}
function save_pornstar_subscribe(pornstar_id,elem){if(check_login('subscribe')){api_call('pornstars/subscribe',pornstar_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['subscribed'])}}
function save_pornstar_unsubscribe(pornstar_id,elem){if(check_login('subscribe')){api_call('pornstars/unsubscribe',pornstar_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['unsubscribed'])}}
function save_playlist_subscribe(playlist_id,elem){if(check_login('subscribe')){api_call('user/subscribe_playlist',playlist_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['subscribed'])}}
function save_playlist_unsubscribe(playlist_id,elem){if(check_login('subscribe')){api_call('user/unsubscribe_playlist',playlist_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['unsubscribed'])}}
function init_warning_modal(){if(getCookie('age_pass')!='1'){warning_div=document.createElement('div');warning_div.innerHTML=`
    <div id="age_check">
    <div class="modal">
      <h2><img src="/static/desktop/Images/logo_v5@2x.png" title="SpankBang" alt="SpankBang"></h2>
      <h3>Are you 18 years of age or older?</h3>
      <p>You must be 18 years or older and agree to our Terms of Use to access and use this website.<br/> By clicking ENTER below, you certify that you are 18 years or older and that you accept our Terms of Use.</p>
      <div class="buttons">
        <button id="age_check_yes" class="ft-button ft-red" onclick="accept_warning_modal()">ENTER</button>
        <a href="https://www.google.com/search?q=cats&tbm=isch" class="ft-button" id="age_check_no">No</a>
      </div>

      <a href="/info/tos" class="parents" target="_blank">Terms of Use</a>

      <a href="https://www.rtalabel.org/index.php?content=parents" class="parents" target="_blank">Instructions for the parents</a>

      <a href="https://www.rtalabel.org/index.php?content=parents" class="parents" target="_blank"><img src="/static/desktop/Images/RTA.png" alt="RTA" /></a>

    </div>
  </div>
    `;document.body.insertBefore(warning_div,document.body.firstChild);}}
function accept_warning_modal(){setCookie('age_pass','1',365);document.getElementById("age_check").outerHTML="";api_call('age_check',1,1);}
function getParameterByName(name){url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g," "));}
function str_pad_left(string,pad,length){return(new Array(length+1).join(pad)+string).slice(-length);}
function toggle_nav_left(){$('#browse_new .main_results .nav_left').fadeToggle();if(localStorage.getItem('nav_left_toggle')===null){localStorage.setItem('nav_left_toggle',1);}else{localStorage.removeItem('nav_left_toggle');}}
function check_toggle_nav_left(){if(localStorage.getItem('nav_left_toggle')==1){$('#browse_new .main_results .nav_left').show();}}
function open_change_edition(){mod=$('#edition-remodal');var inst=$.remodal.lookup[mod.data('remodal')];inst.open();var edition_html=api_call('show_edition',0,0,"GET");edition_html.done(function(results){mod.find('div.list').html(results['html']);mod.find('.country_list li').each(function(){$(this).find('img').on('click',;})
mod.find('button.sign').on('click',function(){do_edit_country('');});});analytics_track_event('edition','show',site_user_edition);return false;}
function do_edit_country(country){mod=$('#container');elem=$('#edit_country_form').find('button');$('#edit_country_form').removeAttr('onsubmit');$(elem).removeClass('ft-red').addClass('ft-light-blue').html('Processing...');if(country=='')new_country=$('#reg_country').val();else new_country=country;if(!new_country)new_country='ww';var save_edition=api_call('show_edition',0,new_country,"POST");save_edition.done(function(results){location.reload(true);});analytics_track_event('edition','save',new_country);return false;}
function setup_thumbnail_actions(){return;$('.video-item').on('mouseenter',function(){this_elm=$(this);this_actions=this_elm.find('.actions');if(this_actions.length){this_actions.show();return;}
video_id=$(this).data('id');if(video_id){var action_html='<ul class="actions"><li onclick="add_wl('+(video_id)+', this)">'+svg_icon('clock')+'</li><li onclick="add_fav('+(video_id)+', this)">'+svg_icon('heart')+'</li><li onclick="show_flag('+(video_id)+')">'+svg_icon('flag')+'</li></ul>'
this_elm.append(action_html);}}).on('mouseleave',}
function thumb_round_size(size){if(size<=300)return 300;if(300<size&&size<=500)return 500;if(500<size&&size<=800)return 800;if(800<size&&size<=1280)return 1280;return 1600;}
function show_moderator_buttons(){$('.video-item').each(function(){var video_id=$(this).data('id');var element=$('<span class="mod_delete" data-id="'+(video_id)+'">X</span>').on('click',function(){api_call('admin/delete_video',$(this).data('id'));$(this).closest('.video-item').fadeOut(100);})
$(this).append(element);});if($('#video').length){var video_id=$('#video').data('videoid');var element=$('<li class="mod_delete" data-id="'+(video_id)+'">X</li>').on('click',function(){api_call('admin/delete_video',$(this).data('id'));$(this).text('OK');})
$('.video_toolbar').append(element);}}
window.canRunAds=function(){return(getComputedStyle(document.getElementById("dab_5151_ab"))["display"]=="none")?false:true;}()
if(typeof window.pg_window_location==="undefined"){window.pg_window_location=encodeURIComponent('https://spankbang.com'+window.location.pathname)}
if(typeof window.pg_page_metadata==="undefined"){if(typeof page_matadata!=="undefined"&&page_matadata instanceof Array){window.pg_page_metadata=page_matadata.join(',').toLowerCase();}else{window.pg_page_metadata='null';}}
function postgen_in_viewport(element){if(!element)return false;if(1!==element.nodeType)return false;var html=document.documentElement;var rect=element.getBoundingClientRect();return!!rect&&rect.bottom>=0&&rect.right>=0&&rect.left<=html.clientWidth&&rect.top<=html.clientHeight;}
function set_postgen_banners(){set_postgen_banners_partners();var placements=$('.ptgncdn_holder');if(window.canRunAds===false){placements.hide();return false;}
if(window.is_search_bot||window.logged_in==1)return false;placements.each(function(index){var elem=$(this);var placement_key=elem.data('key');var width=elem.data('width');var height=elem.data('height');elem.css({'display':'inline-block','width':width+'px','height':height+'px','overflow':'hidden'});var iframe_url=new URL('https://deliver.ptgncdn.com/cbdec');iframe_url.searchParams.append('key',placement_key);iframe_url.searchParams.append('cp.keywords',window.pg_page_metadata);if(typeof ads_channel!=='undefined')iframe_url.searchParams.append('ch',ads_channel);iframe_url.searchParams.append('o',window.pg_window_location);var iframe_url_href=iframe_url.href;elem.html('<iframe src="'+(iframe_url_href)+'" width="'+(width)+'" height="'+(height)+'" frameborder="0" scrolling="no" sandbox="allow-popups allow-popups-to-escape-sandbox allow-scripts allow-same-origin allow-forms" referrerpolicy="no-referrer-when-downgrade"></iframe>');var placement_refresh_key=elem.data('refresh-key');var refresh_interval=120;var check_interval=0.5;if(placement_refresh_key){var refresh_iframe_url=new URL('https://deliver.ptgncdn.com/cbdec');refresh_iframe_url.searchParams.append('key',placement_refresh_key);refresh_iframe_url.searchParams.append('cp.keywords',window.pg_page_metadata);if(typeof ads_channel!=='undefined')refresh_iframe_url.searchParams.append('ch',ads_channel);refresh_iframe_url.searchParams.append('o',window.pg_window_location);var refresh_iframe_url_href=refresh_iframe_url.href;var refresh_timer=0;var total_refreshed=0;var main_ad_viewed=postgen_in_viewport(elem[0]);setInterval(function(){refresh_timer=refresh_timer+check_interval;var elem_in_view=postgen_in_viewport(elem[0]);var window_in_view=!document.hidden;var player_in_view=window.main_player===undefined?false:window.main_player.isFullscreen();if(elem_in_view&&!main_ad_viewed)main_ad_viewed=true;if(!main_ad_viewed)refresh_timer=0;if(refresh_timer>=refresh_interval&&elem_in_view&&window_in_view&&!player_in_view){elem.html('<iframe src="'+(refresh_iframe_url_href)+'" width="'+(width)+'" height="'+(height)+'" frameborder="0" scrolling="no" sandbox="allow-popups allow-popups-to-escape-sandbox allow-scripts allow-same-origin allow-forms" referrerpolicy="no-referrer-when-downgrade"></iframe>');refresh_timer=0;total_refreshed=total_refreshed+1;if(total_refreshed==1)refresh_interval=60;}},check_interval*1000);}});}
function set_postgen_banners_partners(){var placements=$('.partner_ads');placements.each(function(index){var elem=$(this);var source_url=elem.data('src');iframe_url=source_url+'&keywords='+window.pg_page_metadata;elem.attr('src',iframe_url);});}
function fetch_browse_session(method,auto_reset){if(typeof(Storage)!=="undefined"){var current_time=Math.round(new Date().getTime()/1000);var browse_session=localStorage.getItem('browse_session');var vpv=0
var page_group='';var new_session=false;if(window.location.href.indexOf('/video/')!==-1){vpv=1;page_group='video';}
if(auto_reset===true&&(document.referrer.indexOf('spankbang.com')==-1&&document.referrer.indexOf('spankbang.party')==-1&&document.referrer.indexOf('.local:5757')==-1)){var new_session=true;}
if(browse_session&&!new_session){browse_session=JSON.parse(browse_session);if(browse_session['time']<current_time-2*3600){browse_session={'pv':1,'vpv':vpv,'time':current_time};}else{if(method=='set'){browse_session['pv']+=1;if(page_group=='video')browse_session['vpv']+=1;}}}else{browse_session={'pv':1,'vpv':vpv,'time':current_time};}
if(method=='set'||new_session)localStorage.setItem('browse_session',JSON.stringify(browse_session));return browse_session;}
return false;}
function postgen_native(){if(window.is_search_bot||window.logged_in==1)return false;var req_data={'key':'be1d4f15afdb5bc733cbc733b90606be','requestUrl':window.location.href,'requestRef':document.referrer}
$.getJSON("https://deliver.ptgncdn.com/ads-api-native?format=json",req_data).done(function(json_response){if(json_response.type=='error'){console.log('No native ads');return;}
if(json_response.images.length!=1){console.log('Native ad has bad format');return;}
for(var i=0;i<json_response.beacons.length;i++){new Image().src=json_response.beacons[i].url}
var native_banner_html=`
    <div class="similar_native_ad">
      <a href="${json_response.clickUrl}" target="_blank" rel="noindex nofollow" >
        <picture><img src="${json_response.images[0].url}" class="cover" /></picture>
        <span class="title">${json_response.title}</span>
        <span class="btn">${svg_icon('external-link-square')} ${json_response.ctaText}</span>
      </a>
    </div>
  `
$('#video .right .similar .video-item:eq(3)').after(native_banner_html);}).fail(function(jqxhr,textStatus,error){var err=textStatus+", "+error;console.log("Native Request Failed: "+err);});}
function postgen_in_player_link(){if(window.canRunAds===false)return;var req_data={'key':'08c30f9aa05983aa582693344dce248e','requestUrl':window.location.href,'requestRef':document.referrer}
$.getJSON("https://deliver.ptgncdn.com/cbdec-api-v3?format=json",req_data).done(function(json_response){if(json_response.type=='error'){console.log('No in video text ads');return;}
$('.inplayer_text_placement').html(json_response.code);$('.inplayer_text_placement').find('a').attr('target','_blank');}).fail(;}
function postgen_control_pop_interstitial(){var is_chrome=function(){var isChromium=window.chrome;var winNav=window.navigator;var vendorName=winNav.vendor;var isOpera=typeof window.opr!=="undefined";var isIEedge=winNav.userAgent.indexOf("Edg")>-1;var isIOSChrome=winNav.userAgent.match("CriOS");var isSamsungChrome=winNav.userAgent.indexOf("SamsungBrowser")>-1;if(isIOSChrome){return false;}else if(isChromium!==null&&typeof isChromium!=="undefined"&&vendorName==="Google Inc."&&isOpera===false&&isIEedge===false&&isSamsungChrome===false){return true;}else{return false;}}
var bypass_interstital_ad=function(cookieName,is_chrome){if(getCookie(cookieName)||window.logged_in==1||window.is_search_bot||document.hidden){return true;}else{if(is_chrome===true){return false;}else{try{var current_session=fetch_browse_session('get',true);}catch(e){return false;}
if(current_session['pv']>=2){return false;}else{return true;}}}}
var bypass_2nd_interstital_ad=function(cookieName,current_time){if(getCookie(cookieName)||window.logged_in==1||window.is_search_bot||document.hidden){return true;}else{try{var current_session=fetch_browse_session('get',true);}catch(e){return true;}
if(current_session['pv']<8){return true;}else{return false;}}}
var bypass_pop_ad=function(cookieName,is_chrome,current_time){if(getCookie(cookieName)||window.logged_in==1||window.is_search_bot){return true;}else{if(is_chrome===true){try{var current_session=fetch_browse_session('get',true);}catch(e){return true;}
if(current_session['pv']<3||current_time-current_session['time']<180){return true;}else{return false;}}else{return false;}}}
var create_interstitial_ad=function(cookieName,link_url){var event_method=(site_ui_version=='mobile')?'tap':'click';if(link_url!==undefined&&link_url!=''){var action_button=`<span class="cls">`+svg_icon('angle-right')+` Continue</span>`;var action_button_handler=function(ev){ev.stopImmediatePropagation();ev.preventDefault();window.location=link_url;$('#interstitial_div_v3 .top .cls').html("LOADING...");analytics_track_event('campaign','interstitial_hide',cookieName,'away');}}else{var action_button=`<span class="cls">`+svg_icon('times')+` Close</span>`;var action_button_handler=function(ev){ev.stopImmediatePropagation();ev.preventDefault();$('#interstitial_div_v3').remove();analytics_track_event('campaign','interstitial_hide',cookieName,'away');}}
if(site_ui_version=='mobile'){iframe_url_base='https://deliver.ptgncdn.com/z6o4o8rfgPy0y_P5QMAfIHtcOixjmCcfewS2MPtt9VTXAi_AzYf7UgZDC1jsIgis_GpD5xnai';}else{iframe_url_base='https://deliver.ptgncdn.com/zZbkw8Lc2uoWc56ePUsuDNM2ver_w-PnWOFQaOT_XXohEUWdHGFwhabNARYssyva0xx_fPGeY';}
iframe_url=new URL(iframe_url_base);iframe_url.searchParams.append('cp.keywords',window.pg_page_metadata);if(typeof ads_channel!=='undefined')iframe_url.searchParams.append('ch',ads_channel);iframe_url.searchParams.append('o',window.pg_window_location);interstitial_div_v3=document.createElement('div');interstitial_div_v3.innerHTML=`
    <div id="interstitial_div_v3">
      <div class="top"><img src="/static/desktop/Images/icons/v3/android-chrome-192x192.png" class="cls" /><em>Advertisement</em> `+action_button+` </div>
      <iframe src="`+(iframe_url.href)+`" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-scripts allow-same-origin allow-forms" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>`;document.body.insertBefore(interstitial_div_v3,document.body.firstChild);$('#interstitial_div_v3 .top .cls').on(event_method,function(ev){action_button_handler(ev);});setCookie(cookieName,1,0.5);analytics_track_event('campaign','interstitial_show',cookieName,'away');}
var create_pop_ad=function(cookieName,link_url){setCookie(cookieName,1,0.5);try{var nw=window.open(link_url,"_blank");if(!nw||nw.closed||typeof nw.closed=='undefined'){window.location=link_url;analytics_track_event('campaign','popup_blocked',cookieName,'away');return;}}catch(e){window.location=link_url;analytics_track_event('campaign','popup_blocked',cookieName,'away');return;}
nw.focus();if(site_ui_version=='mobile'){var page_url_promo_base='https://deliver.ptgncdn.com/zDSv0bnD_eOilQ5O6TwFC75ImLV7wpz6TP-Uz-K_cMDQVtjpp2VS3EOvLcK4oqqsCG9KRN2PM';if(window.canRunAds===false)var page_url_promo_base='https://aj1987.online/zY1CwWNDObpjPmTDXHmjpn_p4pqzI61JuveORjTbh8nl1YO1EllV8KPyJ0GeiQLwJ8wQ3mzfH';}else{var page_url_promo_base='https://deliver.ptgncdn.com/zc2lYE9NKyU5LyxT4ymyMFy_kbDb81Y7RP-w10OY-Ar5jnbKvrqOeUEvnKLPas3anbvzAqExD';if(window.canRunAds===false)var page_url_promo_base='https://aj1987.online/zduH1D_Q1qfQPcgiK-YlcVhCzJ-wULLWq8kODQm6F2LrhLoG9Y9Hk2dIjb4h385Qykd5t1YgI';}
page_url_promo=new URL(page_url_promo_base);page_url_promo.searchParams.append('cp.keywords',window.pg_page_metadata);if(typeof ads_channel!=='undefined')page_url_promo.searchParams.append('ch',ads_channel);page_url_promo.searchParams.append('o',window.pg_window_location);analytics_track_event('campaign','popup',cookieName,'away');setTimeout(5);}
var current_time=Math.round(new Date().getTime()/1000);var interstitial_cookie='pg_interstitial_v5';var interstitial_2nd_cookie='pg_interstitial_2_v5';var pop_cookie='pg_pop_v5';var event_method=(site_ui_version=='mobile')?'tap':'click';if(is_chrome()===true){if(bypass_interstital_ad(interstitial_cookie,true)===false){$('.video-item a').on(event_method,function(event){event.preventDefault();create_interstitial_ad(interstitial_cookie,$(this).attr('href'));});}
if(bypass_pop_ad(pop_cookie,true,current_time)===false){$('.video-item a').on(event_method,function(event){event.preventDefault();create_pop_ad(pop_cookie,$(this).attr('href'));});}}else{if(bypass_interstital_ad(interstitial_cookie,false)===false){create_interstitial_ad(interstitial_cookie);}
if(bypass_pop_ad(pop_cookie,false,current_time)===false){$('.video-item a').on(event_method,function(event){event.preventDefault();create_pop_ad(pop_cookie,$(this).attr('href'));});}}
if(bypass_2nd_interstital_ad(interstitial_2nd_cookie,current_time)===false){create_interstitial_ad(interstitial_2nd_cookie);}}
var rot_interval;function preLoadImages(arrayOfImages){$(arrayOfImages).each(;}
function preload_image(image_file,count){count=count+1;if(count>10)count=1;(new Image()).src=image_file.replace(/\-t[0-9]{1,2}?\-/,'-t'+count+'-');}
function image_rotate(query){nodes=document.querySelectorAll(query);[].forEach.call(nodes,function(elm){hoverintent(elm,function(){init_video_preview(this);},function(){end_video_preview(this);}).options({interval:200});});}
function image_rotate_live(query){nodes=document.querySelectorAll(query);[].forEach.call(nodes,function(elm){j_elm=$(elm)
perfomer_link=j_elm.attr('href')
if(perfomer_link.indexOf('spankbang.xxx')!==-1){if(session_sakey&&perfomer_link.indexOf('sakey=')===-1)j_elm.attr('href',perfomer_link+'&sakey='+session_sakey);j_elm.attr('target','_blank');}
hoverintent(elm,function(){init_live_preview(this);},.options({interval:20});});}
function init_video_preview(element){element=$(element);end_video_preview_manual(element);count=1;elm=$(element.find('img.cover'));if(!elm.length){return;}
image_file=elm.attr('src');if(image_file.indexOf('tb')===-1)return false;prnt=element.parent();prnt.addClass('is_rotating');if(elm.data('preview')){element.append('<a href="'+(element.attr('href'))+'" class="click_layer"><img src="/static/desktop/Images/blank.png"></img></a><video id="mp4t_video" class="video-js"></video>');window.player_mp4t_video=videojs('mp4t_video',{playsinline:true,loop:true,autoplay:'muted',muted:true,controls:false},function(){this.on('loadeddata',function(){$('#mp4t_video').show();});this.src({src:elm.data('preview'),type:'video/mp4'});this.muted(true);this.play();this.on('error',function(){var old_source=elm.data('preview');var new_source=old_source.replace('/tm.mp4','/t.mp4').replace('/td.mp4','/tm.mp4');if(old_source==new_source)return;elm.data('preview',new_source);init_video_preview(element);});});}else{elm.attr('src',image_file.replace(/\-t[0-9]{1,2}?\-/,'-t'+count+'-'));preload_image(image_file,count);rot_interval=setInterval(function(){count=count+1;if(count>10)count=1;elm.attr('src',image_file.replace(/\-t[0-9]{1,2}?\-/,'-t'+count+'-'));preload_image(image_file,count);},500);}}
function init_live_preview(element){element=$(element);if(element.parent().hasClass('is_rotating'))return;prnt=element.parent();prnt.addClass('is_rotating');var hls_feed_url=element.data('hls_feed');if(hls_feed_url==''){element.append('<span class="i-status i-join-private">'+svg_icon('smile-plus')+' JOIN ME!</span>');return;}
if(hls_feed_url.indexOf('naiadsystems')===-1){stream_url=hls_feed_url;perfomer_link=element.attr('href');perfomer_link_target='_blank';element.append('<a href="'+(perfomer_link)+'" target="'+(perfomer_link_target)+'" class="click_layer"><img src="/static/desktop/Images/blank.png"></img></a><video id="mp4t_live" class="video-js"></video>');window.player_mp4t_live=videojs('mp4t_live',{controls:false,playsinline:true,loop:true,autoplay:true,muted:true,html5:{nativeAudioTracks:videojs.browser.IS_ANY_SAFARI,nativeVideoTracks:videojs.browser.IS_ANY_SAFARI,vhs:{overrideNative:!videojs.browser.IS_ANY_SAFARI,smoothQualityChange:false,limitRenditionByPlayerDimensions:true}}},function onPlayerReady(){this.on('loadeddata',function(){$('#mp4t_live').fadeIn(100);});this.one('error',function(){element.append('<span class="i-status i-join-private">'+svg_icon('smile-plus')+' JOIN ME!</span>');});if(stream_url.indexOf('.m3u8')===-1){this.src({src:stream_url,type:'video/mp4'});}else{this.src({src:stream_url,type:'application/x-mpegURL'});}});return;}
$.ajax({dataType:"json",url:hls_feed_url,success:function(result){stream_url=result.formats['mp4-hls']['manifest'];perfomer_link=element.attr('href');perfomer_link_target='_top';if(perfomer_link.indexOf('spankbang.xxx')!==-1){if(session_sakey&&perfomer_link.indexOf('sakey=')===-1)perfomer_link=perfomer_link+'&sakey='+session_sakey;perfomer_link_target='_blank';}
element.append('<a href="'+(perfomer_link)+'" target="'+(perfomer_link_target)+'" class="click_layer"><img src="/static/desktop/Images/blank.png"></img></a><video id="mp4t_live" class="video-js"></video>');window.player_mp4t_live=videojs('mp4t_live',{controls:false,playsinline:true,loop:true,autoplay:true,muted:true,html5:{nativeAudioTracks:videojs.browser.IS_ANY_SAFARI,nativeVideoTracks:videojs.browser.IS_ANY_SAFARI,vhs:{overrideNative:!videojs.browser.IS_ANY_SAFARI,smoothQualityChange:false,limitRenditionByPlayerDimensions:true}}},function onPlayerReady(){this.on('loadeddata',;this.one('error',function(){element.append('<span class="i-status i-join-private">'+svg_icon('smile-plus')+' JOIN ME!</span>');});this.src({src:stream_url,type:'application/x-mpegURL'});});},error:function(){element.append('<span class="i-status i-join-private">'+svg_icon('smile-plus')+' JOIN ME!</span>')}});}
function end_video_preview(element){prnt=$(element).parent();prnt.removeClass('is_rotating');if(typeof window.player_mp4t_video!=='undefined'){window.player_mp4t_video.dispose();window.player_mp4t_video=undefined;}
prnt.find('.i-loading, #mp4t_video, .click_layer').remove();clearInterval(rot_interval);}
function end_video_preview_manual(element){prnt=$(element).closest('.video-rotate').find('div.is_rotating');prnt.removeClass('is_rotating');if(typeof window.player_mp4t_video!=='undefined'){window.player_mp4t_video.dispose();window.player_mp4t_video=undefined;}
prnt.find('.i-loading, #mp4t_video, .click_layer').remove();clearInterval(rot_interval);}
function end_live_preview(element){prnt=$(element).parent();prnt.removeClass('is_rotating');if(typeof window.player_mp4t_live!=='undefined'){window.player_mp4t_live.dispose();window.player_mp4t_live=undefined;}
prnt.find('.i-join-private, .i-loading, #mp4t_live, .click_layer').remove();}
function end_live_preview_manual(element){prnt=$(element).closest('.livecamv2-rotate').find('div.is_rotating');prnt.removeClass('is_rotating');if(typeof window.player_mp4t_live!=='undefined'){window.player_mp4t_live.dispose();window.player_mp4t_live=undefined;}
prnt.find('.i-join-private, .i-loading, #mp4t_live, .click_layer').remove();}
function sb_autocomplete(input_filed,result_holder,form_holder){var in_f=$(input_filed);var re_h=$(result_holder);var form=$(form_holder);var performing_search=false;var ajax_r;var send_ajax_request=function(keyword){if(performing_search)return;if(!keyword||keyword==' '){get_local_history();return;}
if(ajax_r)ajax_r.abort();ajax_r=$.ajax({dataType:"json",url:'/api/search/suggest',data:'id='+keyword}).done(function(data){render_results(data,keyword);});};var render_results=function(data,keyword){var results_html='';re_h.html('');data['suggestions'].forEach(function(entry){var re=new RegExp(keyword,"gi")
var this_keyword=entry['data'].replace(re,'<strong>'+keyword+'</strong>')
re_h.append($('<span></span>').attr('data-keyword',entry['data']).html(this_keyword).on('mouseenter',.on('click',);});if(!re_h.is(":visible"))re_h.slideDown(100);};var select_result=function(direction){if(!re_h.find('.active').length){if(direction=='down'){var item=$(re_h.find('span').first());}else{var item=$(re_h.find('span').last());}
item.addClass('active');in_f.val(item.data('keyword'))}else{var item=re_h.find('.active');item.removeClass('active');if(direction=='down'){var next_item=item.next();}else{var next_item=item.prev();}
if(next_item.length){next_item.addClass('active');in_f.val(next_item.data('keyword'));}else{select_result(direction);}}}
var get_local_history=function(){if(typeof(Storage)!=="undefined"){var search_history=localStorage.getItem('search_history');if(search_history){search_history=JSON.parse(search_history);var render_history={"suggestions":[]}
search_history.forEach(function(entry){render_history['suggestions'].push({'data':entry,'value':entry});});render_results(render_history,'');}}}
var set_local_history=function(keyword){if(typeof(Storage)!=="undefined"){var search_history=localStorage.getItem('search_history');keyword=keyword.trim().toLowerCase();if(search_history){search_history=JSON.parse(search_history);var new_history=[];var num=0;search_history.forEach(function(entry){entry=entry.trim().toLowerCase();num=num+1;if(num>10){return false;}
if(keyword!=entry)new_history.push(entry);});new_history.unshift(keyword);}else{var new_history=[keyword];}
localStorage.setItem('search_history',JSON.stringify(new_history));}}
var perform_search=function(keyword){performing_search=true;set_local_history(in_f.val());window.location.href="/s/"+encodeURIComponent(keyword.toLowerCase().trim())+'/';}
in_f.on("keyup",function(e){var code=(e.keyCode?e.keyCode:e.which);if(code==40){e.preventDefault();select_result('down');return;}else if(code==38){e.preventDefault();select_result('up');return;}else if(code==13){e.preventDefault();perform_search($('header .search input').val());return;}
send_ajax_request(in_f.val());})
in_f.on("blur",
in_f.on("focus",function(e){if(in_f.val()){re_h.slideDown(100);send_ajax_request(in_f.val());}else{get_local_history();}})}
!this,;;(function($){"use strict";var pluginName="remodal",defaults={hashTracking:false};$[pluginName]={lookup:[]};var current,scrollTop;var getTransitionDuration=function($elem){var duration=$elem.css('transition-duration')||$elem.css('-webkit-transition-duration')||$elem.css('-moz-transition-duration')||$elem.css('-o-transition-duration')||$elem.css('-ms-transition-duration')||0;var delay=$elem.css('transition-delay')||$elem.css('-webkit-transition-delay')||$elem.css('-moz-transition-delay')||$elem.css('-o-transition-delay')||$elem.css('-ms-transition-delay')||0;return(parseFloat(duration)+parseFloat(delay))*1000;};var getScrollbarWidth=function(){if($(document.body).height()<=$(window).height()){return 0;}
var outer=document.createElement("div");outer.style.visibility="hidden";outer.style.width="100px";document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow="scroll";var inner=document.createElement("div");inner.style.width="100%";outer.appendChild(inner);var widthWithScroll=inner.offsetWidth;outer.parentNode.removeChild(outer);return widthNoScroll-widthWithScroll;};var lockScreen=function(){$("html, body").addClass(pluginName+"_lock");$(document.body).css("padding-right","+="+getScrollbarWidth());};var unlockScreen=function(){$("html, body").removeClass(pluginName+"_lock");$(document.body).css("padding-right","-="+getScrollbarWidth());};function Remodal(modal,options){this.settings=$.extend({},defaults,options);this.modal=modal;this.buildDOM();this.addEventListeners();this.index=$[pluginName].lookup.push(this)-1;this.busy=false;}
Remodal.prototype.buildDOM=function(){this.body=$(document.body);this.bg=$("."+pluginName+"-bg");this.modalClose=$("<a href='#'>").addClass(pluginName+"-close");this.modalClose.html(svg_icon('times-circle'));this.overlay=$("<div>").addClass(pluginName+"-overlay");if(!this.modal.hasClass(pluginName)){this.modal.addClass(pluginName);}
this.modal.css("visibility","visible");this.modal.append(this.modalClose);this.overlay.append(this.modal);this.body.append(this.overlay);this.confirm=this.modal.find("."+pluginName+"-confirm");this.cancel=this.modal.find("."+pluginName+"-cancel");var tdOverlay=getTransitionDuration(this.overlay),tdModal=getTransitionDuration(this.modal),tdBg=getTransitionDuration(this.bg);this.td=tdModal>tdOverlay?tdModal:tdOverlay;this.td=tdBg>this.td?tdBg:this.td;};Remodal.prototype.addEventListeners=function(){var self=this;this.modalClose.on("click."+pluginName,;this.cancel.on("click."+pluginName,function(e){e.preventDefault();self.modal.trigger("cancel");self.close();});this.confirm.on("click."+pluginName,;$(document).on('keyup.'+pluginName,;this.overlay.on("click."+pluginName,function(e){var $target=$(e.target);if(!$target.hasClass(pluginName+"-overlay")){return;}
self.close();});};Remodal.prototype.open=function(){if(this.busy){return;}
this.busy=true;this.modal.trigger("open");var id=this.modal.attr("data-"+pluginName+"-id");if(id&&this.settings.hashTracking){scrollTop=$(window).scrollTop();location.hash=id;}
if(current&&current!==this){current.overlay.hide();current.body.removeClass(pluginName+"_active");}
current=this;lockScreen();this.overlay.show();var self=this;setTimeout(function(){self.body.addClass(pluginName+"_active");setTimeout(self.td+50);},25);};Remodal.prototype.close=function(){if(this.busy){return;}
this.busy=true;this.modal.trigger("close");if(this.settings.hashTracking&&this.modal.attr("data-"+pluginName+"-id")===location.hash.substr(1)){location.hash="";$(window).scrollTop(scrollTop);}
this.body.removeClass(pluginName+"_active");var self=this;setTimeout(function(){self.overlay.hide();unlockScreen();self.busy=false;self.modal.trigger("closed");},self.td+50);};if($){$["fn"][pluginName]=function(opts){var instance;this["each"](function(i,e){var $e=$(e);if(!$e.data(pluginName)){instance=new Remodal($e,opts);$e.data(pluginName,instance.index);if(instance.settings.hashTracking&&$e.attr("data-"+pluginName+"-id")===location.hash.substr(1)){instance.open();}}});return instance;};}
$(document).ready(function(){$(document).on("click","[data-"+pluginName+"-target]",;$(document).find("."+pluginName).each(function(i,container){var $container=$(container),options=$container.data(pluginName+"-options");if(!options){options={};}
$container[pluginName](options);});});var hashHandler=function(e,closeOnEmptyHash){var id=location.hash.replace("#","");if(typeof closeOnEmptyHash==="undefined"){closeOnEmptyHash=true;}
if(!id){if(closeOnEmptyHash){if(current&&!current.busy&&current.settings.hashTracking){current.close();}}}else{var $elem=$("[data-"+pluginName+"-id="+id.replace(new RegExp('/','g'),"\\/")+"]");if($elem.length){var instance=$[pluginName].lookup[$elem.data(pluginName)];if(instance&&instance.settings.hashTracking){instance.open();}}}};$(window).on("hashchange."+pluginName,hashHandler);})(window["jQuery"]||window["Zepto"]);());());());());());(function(){'use strict';var document=typeof window!=='undefined'&&typeof window.document!=='undefined'?window.document:{};var isCommonjs=typeof module!=='undefined'&&module.exports;var fn=(();var eventNameMap={change:fn.fullscreenchange,error:fn.fullscreenerror};var screenfull={request:function(element){return new Promise(function(resolve,reject){var onFullScreenEntered=function(){this.off('change',onFullScreenEntered);resolve();}.bind(this);this.on('change',onFullScreenEntered);element=element||document.documentElement;Promise.resolve(element[fn.requestFullscreen]({navigationUI:"hide"})).catch(reject);}.bind(this));},exit:toggle:onchange:function(callback){this.on('change',callback);},onerror:on:function(event,callback){var eventName=eventNameMap[event];if(eventName){document.addEventListener(eventName,callback,false);}},off:raw:fn};if(!fn){if(isCommonjs){module.exports={isEnabled:false};}else{window.screenfull={isEnabled:false};}
return;}
Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement]);}},element:{enumerable:true,get:,isEnabled:{enumerable:true,get:});if(isCommonjs){module.exports=screenfull;}else{window.screenfull=screenfull;}})();(window,);(this,);((window,;(window,);(window,);(window,);(window,);(window,);function remove_like(video_id,elem){$(elem).fadeOut();api_call('unlike',video_id);}
function remove_video_playlist(video_id,playlist_id,elem){$(elem).fadeOut();api_call('playlist/delete',playlist_id,video_id);}
function do_playlist(form){form=$(form)
var playlist_id=$(form).data('id');var text=form.find('#pl_name').val();if(text.length<3){alert(translation['short_name'])
return false;}
api_call('playlist/update',playlist_id,text);$('#update_button').html(svg_icon('check-square')+' '+translation['update']);}
function delete_playlist(){if(window.confirm(translation['del_playlist']+"?")){var playlist_id=$('#edit_form').data('id');api_call('playlist/destroy',playlist_id);setTimeout(function(){window.location.href="/users/playlists";},2000);}}
function delete_video(){if(window.confirm(translation['del_video']+"?")){var video_id=$('#edit_form').data('id');api_call('videos/destroy',video_id);setTimeout(function(){window.location.href="/users/videos";},2000);}}
function delete_account(){if(window.confirm(translation['sure'])){var user_time=$('#edit_form').data('id');api_call('account/destroy',user_time);setTimeout(function(){window.location.href="/users/logout";},2000);}}
function delete_notifications(){if(window.confirm(translation['sure'])){api_call('notifications/destroy',0,0);setTimeout(function(){window.location.href="/users/notifications";},2000);}}
function delete_history(){if(window.confirm(translation['sure'])){api_call('history/destroy',0,0);setTimeout(function(){window.location.href="/users/history";},2000);}}
function do_edit(form){mod=$('#container')
elem=$(form).find('button');$(form).removeAttr('onsubmit');$(elem).removeClass('ft-red').addClass('ft-light-blue').html('Processing...');$.ajax({type:"POST",url:"/users/account?ajax=1&update=1",data:$(form).serialize(),cache:false}).done(function(data){mod.html(data);})}
function select_thumbnail(thumb_id,elem){$('li.thumbnails img.active').removeClass('active');$(elem).addClass('active');$('#video_thumb_id').val(thumb_id)}
function delete_message(user_id){if(window.confirm("Do you want to delete this conversation?")){api_call('message/destroy',user_id);setTimeout(function(){window.location.href="/users/inbox";},2000);}}
function block_user(user_id){if(window.confirm("Do you want to block this user?")){api_call('user/block',user_id);setTimeout(2000);}}
function save_unsubscribe_from(user_id,elem){api_call('user/unsubscribe',user_id);$(elem).parent().fadeOut();}
function save_unsubscribe_me(user_id,elem){api_call('user/unsubscribe_me',user_id);$(elem).parent().fadeOut();}
function save_subscribe_accept(user_id,elem){api_call('user/subscribe_accept',user_id);$(elem).parent().fadeOut();}
function save_subscribe_permission(){if($("#sub_permission").is(':checked')){api_call('user/subscribe_permission',1);}else{api_call('user/subscribe_permission',0);}}
function save_subscribe_show(){if($("#sub_show").is(':checked')){api_call('user/subscribe_show',1);}else{api_call('user/subscribe_show',0);}}
function init_comment_rate(){$('ul.vote').each(function(){var parent=$(this);parent.find('.upvote').on('click',function(){comment_rate(parent,'up');});parent.find('.downvote').on('click',;})}
function comment_rate(elem,action){if(elem.data('action')===action)return;var c_vote=elem.data('votes');var c_id=elem.data('id');if(action=='up')var n_vote=c_vote+1;if(action=='down')var n_vote=c_vote-1;elem.data('votes',n_vote);elem.data('action',action);elem.removeClass('act_down act_up').addClass('act_'+action);if(n_vote>0)var c_class='pos';else var c_class='neg';elem.find('span').removeClass().addClass(c_class).html(n_vote);api_call('comment/rate',c_id,action);}
function add_emoji(code,elem){text_input=$(elem).parent().parent().find('textarea');text_input.trigger('focus').val(text_input.val()+' :'+code+': ');}
function show_playlist(video_id){var mod=$('#playlist-remodal')
var inst=$.remodal.lookup[mod.data('remodal')];inst.open();mod.find('.big-text-black').val('').trigger('focus');mod.find('.sign').unbind('click').on('click',function(event){save_playlist(mod,video_id);})
list_playlists(mod,video_id);}
function show_download(button){mod=$('#download-remodal');var inst=$.remodal.lookup[mod.data('remodal')];inst.open();list_downloads();}
function show_tag(button){var mod=$('#tag-remodal')
var inst=$.remodal.lookup[mod.data('remodal')];inst.open();mod.find('.big-text-black').val('').trigger('focus');mod.find('.sign').unbind('click').on('click',function(event){save_tag(mod);})}
function save_like(button){activate_button(button);api_call('like',stream_raw_id,1);api_call('achievement',0,4);api_call('achievement',stream_u_id,5);}
function save_dislike(button){activate_button(button);api_call('dislike',stream_raw_id,1);}
function save_comment(comment,parent_id){comment=$(comment)
var text=comment.find('textarea').val();if(text.length<5){alert(translation['short_comment'])
return false;}
api_call('comment',stream_raw_id+'-'+parent_id,text);comment.html('Posted! <br/><br/>');api_call('achievement',0,6);api_call('achievement',stream_u_id,7);}
function save_playlist(mod,video_id){var name=mod.find('.big-text-black').val();if(name.length<3){alert(translation['short_name']);}else{api_call('playlist/create',name,video_id);var inst=$.remodal.lookup[mod.data('remodal')];inst.close();}}
function save_tag(mod){var name=mod.find('.big-text-black').val();if(name.length<3){alert(translation['short_name']);}else{api_call('videos/tag',name,stream_raw_id);var inst=$.remodal.lookup[mod.data('remodal')];inst.close();$('.video_tag_list').append(name);}}
function save_flag_(video_id,mod){var flag_id=mod.find("input[type='radio']:checked").val();if(flag_id===undefined){alert('Please select a reason');return;}
api_call('report',video_id,flag_id);var inst=$.remodal.lookup[mod.data('remodal')];inst.close();}
function save_subscribe(user_id,permission,elem){if(check_login('subscribe')){api_call('user/subscribe',user_id);if(permission=='0'){$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['subscribed']);}else{$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['sent']);}}}
function save_subscribe_channel(channel_id,elem){if(check_login('subscribe')){api_call('user/subscribe_channel',channel_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['subscribed']);}}
function save_subscribe_playlist(playlist_id,elem){if(check_login('subscribe')){api_call('user/subscribe_playlist',playlist_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['subscribed']);}}
function save_subscribe_refresh(user_id,elem){if(check_login('subscribe')){api_call('user/subscribe',user_id);$(elem).removeAttr('onclick').html(svg_icon('refresh')+' Refreshing');setTimeout(function(){window.location.reload();},5000);}}
function save_unsubscribe(user_id,elem){if(check_login('subscribe')){api_call('user/unsubscribe',user_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['unsubscribed'])}}
function save_unsubscribe_channel(channel_id,elem){if(check_login('subscribe')){api_call('user/unsubscribe_channel',channel_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['unsubscribed'])}}
function save_unsubscribe_playlist(playlist_id,elem){if(check_login('subscribe')){api_call('user/unsubscribe_playlist',playlist_id);$(elem).removeAttr('onclick').html(svg_icon('check-circle')+' '+translation['unsubscribed'])}}
function add_playlist(id,video_id){api_call('playlist/save',id,video_id);var inst=$.remodal.lookup[$('#playlist-remodal').data('remodal')];inst.close();api_call('achievement',0,8);}
function add_favorites(){api_call('playlist/favorites',stream_raw_id);var inst=$.remodal.lookup[$('#playlist-remodal').data('remodal')];inst.close();api_call('achievement',0,8);}
function add_watchlater(){api_call('playlist/watchlater',stream_raw_id);var inst=$.remodal.lookup[$('#playlist-remodal').data('remodal')];inst.close();api_call('achievement',0,8);}
function list_playlists(mod,video_id){var pls=api_call('playlist/show',video_id,0);mod.find('.add_wl').off('click').on('click',function(event){add_wl(video_id)});mod.find('.add_fav').off('click').on('click',function(event){add_fav(video_id)});pls.done(function(pls){var list_html='';pls['results'].forEach(function(entry){if(entry.exists==0){icon='plus-square'}else{icon='check-circle'}
list_html+=('<p class="pl" onclick="add_playlist('+entry.id+','+video_id+')"> '+svg_icon(icon)+' '+entry.name+'</p>')});mod.find('div.list').html(list_html);})}
function list_downloads(recaptcha_token){if(typeof(recaptcha_token)==='undefined'){recaptcha_token='';}else{recaptcha_token=recaptcha_token+'||||||||'+$('#captcha_holder').data('captcha_num')}
var dls=api_call('download',$('#video').data('streamkey'),recaptcha_token);var btns=$('#download-remodal').find('section.download-list');dls.done(function(dls){btns.find('.loader').hide();$('#captcha_holder').hide();if(dls['locked']===true){$('#download-remodal').find('section.download-promo').show();$('#download-remodal').find('section.download-promo .continue').on('click',function(event){$('#download-remodal').find('section.download-promo').hide();return false;});}
dls['results'].forEach(function(entry){let download_url=entry.url;let download_quality=entry.quality;btns.find('.b_'+download_quality).fadeIn(250).on('click',});});analytics_track_event('video','download','button');}
function start_download(url,quality){if(url.indexOf('/users/upload')===-1){analytics_track_event('video','download',quality);window.location.href='/api/download/go?f='+encodeURIComponent(url)+'&q='+quality+'&id='+stream_raw_id;setTimeout(function(){mod=$('#download-remodal');var inst=$.remodal.lookup[mod.data('remodal')];inst.close();},3000);}else{window.location.href=url;}}
function trigger_downloads(){if($('li.dl_guest').length){check_login('download');}else{window.open($('li.dl a').attr('href'),"_blank");}}
function reply_comment(comment_id){comment_form=$('#comment_form').clone().removeAttr('id').on('submit',;$('#comment_'+comment_id).append(comment_form);$('#comment_'+comment_id+' .text-area').removeAttr('placeholder').trigger('focus');$('.text-area-auto').on('keydown',function(event){if(event.keyCode==13){$(this.form).submit();return false;}})}
function flag_comment(comment_id){var mod=$('#cflag-remodal')
var inst=$.remodal.lookup[mod.data('remodal')];mod.find('.sign').unbind('click').on('click',
inst.open();}
function save_comment_flag(comment_id,mod){var flag_id=mod.find("input[type='radio']:checked").val();if(flag_id===undefined){alert('Please select a reason');return;}
api_call('report_comment',comment_id,flag_id);var inst=$.remodal.lookup[mod.data('remodal')];inst.close();}
function report_video_category(eid,elem){$(elem).parent().fadeOut();api_call('report_video_category',eid);return;}
function report_video_tag(eid,elem){$(elem).parent().fadeOut();api_call('report_video_tag',eid);return;}
function report_video_pornstar(eid,elem){$(elem).parent().fadeOut();api_call('report_video_pornstar',eid);return;}
function comment_seek(){$('span.comment_text_body').each(function(){var comment=$(this);comment_text=comment.text();matches=comment_text.match(/(([0-9]+)?(:)?[0-9]+?:[0-9]+)/g)
if(matches!==null){matches.forEach(function(entry){var t_arr=entry.split(":");if(t_arr.length==2){seconds=parseInt(t_arr[0])*60+parseInt(t_arr[1]);}
if(t_arr.length==3){seconds=parseInt(t_arr[0])*3600+parseInt(t_arr[1])*60+parseInt(t_arr[2]);}
comment_text=comment_text.replace(entry,'<a href="#" onclick="seek_player('+seconds+')">'+entry+'</a>');});comment.html(comment_text);}})}
function set_similar_height(){if(logged_in!=0)return;var left_col=$('#video > .left');var right_col=$('#video > .right');var left_height=left_col.height();var right_height=right_col.height();if(right_height>left_height){right_col.find('.similar').css({'height':(left_height+1000)+'px','overflow':'hidden'})}
right_col.append($('<span>').html(svg_icon('chevron-circle-down')+' Show more').addClass('ft-button ft-red more_videos').on('click',function(){right_col.find('.similar').css({'height':'auto','overflow':'visible'});$(this).hide();$([document.documentElement,document.body]).animate({scrollTop:left_height+600},500);}))}
var current_tv_scene_index=0;var current_tv_scene_data=0;var time_tv_track_interval;var is_it_unmuted=0;function tv_load_station(station){setup_tv_mobile_ui();api_call('tv/create',station).done(function(data){tv_create_player();tv_init_play_station(data);current_tv_scene_data=data;})}
function setup_tv_mobile_ui(){window.onresize=}
function tv_create_player(){window.video_player_1=videojs('video_player_1',{controls:true,autoplay:false,playsinline:true,preload:'auto',muted:true,loop:false,height:'100%',width:'100%',userActions:{doubleClick:function(){screenfull.request($('#tv #video_container')[0]);},click:function(){tv_go_next_scene();}},controlBar:{fullscreenToggle:false,pictureInPictureToggle:false},html5:{nativeAudioTracks:false,nativeVideoTracks:false,hls:{overrideNative:true,bandwidth:1500000,useBandwidthFromLocalStorage:true,smoothQualityChange:false,}}},function onPlayerReady(){this.on('ended',function(){tv_go_next_scene();});this.tech_.off('mousedown');this.tech_.on('mousedown',function(e){e.preventDefault();});});window.video_player_2=videojs('video_player_2',{controls:true,autoplay:false,playsinline:true,preload:'auto',muted:true,loop:false,height:'100%',width:'100%',userActions:{doubleClick:function(){screenfull.request($('#tv #video_container')[0]);},click:function(){tv_go_next_scene();}},controlBar:{fullscreenToggle:false,pictureInPictureToggle:false},html5:{nativeAudioTracks:false,nativeVideoTracks:false,hls:{overrideNative:true,useBandwidthFromLocalStorage:true,smoothQualityChange:false,}}},function onPlayerReady(){this.on('ended',function(){tv_go_next_scene();});this.tech_.off('mousedown');this.tech_.on('mousedown',;});$('#tv #video_container').one('click tap',function(event){if(event)event.stopPropagation();if(is_it_unmuted==1)return;is_it_unmuted=1;window.video_player_1.muted(false);$('#tv #video_container .tap_to_unmute').hide();});}
function tv_init_play_station(data){segment_1=data[0]
segment_2=data[1]
window.video_player_1.src({src:segment_1['mp4_url'],type:'application/x-mpegURL'});window.video_player_1.one('play',function(){$('#tv .loading').fadeOut(500,function(){$('#video_container').fadeIn();})
window.main_player=window.video_player_1;});window.video_player_1.play();$('#tv .details .video_link').attr('href',segment_1['video_url']);window.video_player_2.src({src:segment_2['mp4_url'],type:'application/x-mpegURL'});window.video_player_2.one('play',;window.video_player_2.muted(true);window.video_player_2.play();current_tv_scene_index=1;}
function tv_go_next_scene(){data=current_tv_scene_data;index=current_tv_scene_index;if(index%2==0){var video_player_main=window.video_player_1;var video_player_next=window.video_player_2;var main_player_id='video_player_container_1';var next_player_id='video_player_container_2';}else{var video_player_main=window.video_player_2;var video_player_next=window.video_player_1;var main_player_id='video_player_container_2';var next_player_id='video_player_container_1';}
segment_1=data[index]
segment_2=data[index+1]
video_player_next.muted(true);video_player_main.muted(false);video_player_next.pause();$('#'+next_player_id).css('z-index',8);$('#'+main_player_id).css('z-index',10);$('#tv .details .video_link').attr('href',segment_1['video_url'])
video_player_main.play();window.main_player=video_player_main;analytics_track_pageview();video_player_next.src({src:segment_2['mp4_url'],type:'application/x-mpegURL'});video_player_next.muted(true);video_player_next.play();video_player_next.one('canplaythrough',function(){if(window.main_player!=video_player_next)video_player_next.pause();});current_tv_scene_index=current_tv_scene_index+1;}
function get_live_models(){if(typeof live_keywords==='undefined')return;var models=api_call('sexcamv7/search',0,live_keywords,'GET');models.done(function(results){if(results['html']=='empty')return;if(results['html']==window.old_live_search_results){return;}else{window.old_live_search_results=results['html'];}
$('.lv_cm_int_come_on').fadeTo('medium',0.7,function(){$('.lv_cm_int_come_on').html('<h1>'+svg_icon('star')+' Live Models</h1>'+results['html']);var observer=lozad('.lv_cm_int_come_on .lazyload',{rootMargin:'10px 0px',threshold:0.1,});observer.observe();$('.lv_cm_int_come_on').fadeTo('fast',1,function(){image_rotate_live('.lv_cm_int_come_on .livecamv2-rotate .thumb');});if(window.logged_in==1){var perfomer_ids=$('.lv_cm_int_come_on .livecamv2-rotate').data('id-list');console.log('perfomer_ids',perfomer_ids);analytics_track_event('live','view_thumb',perfomer_ids);$('.lv_cm_int_come_on .livecamv2-rotate .live-item .thumb').each(function(){$(this).click(function(){analytics_track_event('live','click_thumb',$(this).data('performer_id'));});});}});});}
function header_live_menu(){var models=api_call('sexcamv7/current',8,'','GET');models.done(function(results){if(results['html']=='empty')return;if(results['html']==window.old_live_header_results){return;}else{window.old_live_header_results=results['html'];}
$('ul.sub_livecams').fadeTo('medium',0.7,function(){$('.sub_livecams').html(results['html']);var observer=lozad('.sub_livecams .lazyload',{rootMargin:'10px 0px',threshold:0.1,});observer.observe();$('.sub_livecams').fadeTo('fast',1,function(){image_rotate_live('.sub_livecams .livecamv2-rotate .thumb');});if(window.logged_in==1){var perfomer_ids=$('.sub_livecams .livecamv2-rotate').data('id-list');analytics_track_event('live','view_thumb',perfomer_ids);$('.sub_livecams .livecamv2-rotate .live-item .thumb').each(function(){$(this).click(function(){analytics_track_event('live','click_thumb',$(this).data('performer_id'));});});}});});}
function home_live_list(){var models=api_call('sexcamv7/current',10,'','GET');models.done(function(results){if(results['html']=='empty')return;if(results['html']==window.old_live_home_results){return;}else{window.old_live_home_results=results['html'];}
$('.lv_cm_int_come_on').fadeTo('medium',0.7,function(){$('.lv_cm_int_come_on').html(results['html']);var observer=lozad('.lv_cm_int_come_on .lazyload',{rootMargin:'10px 0px',threshold:0.1,});observer.observe();$('.lv_cm_int_come_on').fadeTo('fast',1,;if(window.logged_in==1){var perfomer_ids=$('.lv_cm_int_come_on .livecamv2-rotate').data('id-list');analytics_track_event('live','view_thumb',perfomer_ids);$('.lv_cm_int_come_on .livecamv2-rotate .live-item .thumb').each(function(){$(this).click(function(){analytics_track_event('live','click_thumb',$(this).data('performer_id'));});});}});});}
document.addEventListener("DOMContentLoaded",function(){init_warning_modal();fetch_browse_session("set");var thumb_regex=new RegExp("w:[0-9]+");var observer_lozad=lozad(".lazyload",{rootMargin:"100px 0px",load:function(el){elm_src=el.getAttribute("data-src");this_width=thumb_round_size(el.offsetWidth);el.src=elm_src.replace(thumb_regex,"w:"+this_width);},});observer_lozad.observe();if(window.logged_in==1){window.addEventListener("load",function(){setTimeout(function(){if(window.performance){try{p=window.performance.getEntriesByType("navigation")[0];}catch(err){return;}
if(typeof p=="undefined")return;if(typeof p.type=="undefined")return;r=[];r.push(p.domainLookupEnd-p.domainLookupStart);r.push(p.connectEnd-p.connectStart);r.push(p.connectEnd-p.secureConnectionStart);r.push(p.responseStart-p.requestStart);r.push(p.domInteractive-p.responseEnd);r.push(p.domContentLoadedEventStart-p.responseEnd);r.push(p.domComplete-p.responseEnd);r.push(p.type);analytics_track_event("page","performance",r.join("-"));}},500);});}
((window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-120626106-1",{sampleRate:5});ga("require","displayfeatures");ga("send","pageview");sb_autocomplete("header .search input","header .search .auto_holder","header .search form");window.is_search_bot=detect_search_bot();if(site_user_id==30208)show_moderator_buttons();$("header .search form").on("submit",function(){sform=this;sinp=$(this).find("input");svalue=sinp.val();if(svalue.length<2){sinp.trigger("focus");sinp.attr("placeholder",translation["type_key"]);return false;}});image_rotate(".video-rotate .thumb");$(".bt_signup").on("click",function(event){show_auth("register","","header");return false;});$(".bt_signin").on("click",function(event){show_auth("login","","header");return false;});$(".text-area-auto").on("keydown",function(event){if(event.keyCode==13){$(this.form).submit();return false;}});$("#message_form").on("submit",;setup_thumbnail_actions();postgen_control_pop_interstitial();if($(".live_create_account").length){$("#reg_country").change(function(){if($("#reg_country").val()!="US"){$(".live_create_account .form_zip_code").hide();$("#reg_zip").val("00000");}else{$(".live_create_account .form_zip_code").show();$("#reg_zip").val("");}});}
var cache_buster='who do you call? cache busters!'
if($("div#playlist_list").length){var video_items=$("#playlist_list .video-item");var video_item_width=video_items.first().width();if((video_item_width+18)*video_items.length<$("body").width()){$("#playlist_prev_page, #playlist_next_page").hide();$("#playlist_holder").height(video_items.height()+50);}else{$("#playlist_list").width((video_item_width+18)*video_items.length);left_position_active=-1*($("#playlist_list .video-item-active").position().left-300);if(left_position_active>0)left_position_active=0;$("#playlist_list").animate({left:left_position_active});$("#playlist_prev_page").on("click",function(){left_position=$("#playlist_list").position().left+$("#playlist_holder").width();if(left_position>0)left_position=0;$("#playlist_list").animate({left:left_position});});$("#playlist_next_page").on("click",function(){left_position=$("#playlist_list").position().left-$("#playlist_holder").width();if(left_position<-1*($("#playlist_list").width()-$("#playlist_holder").width()))
left_position=-1*($("#playlist_list").width()-$("#playlist_holder").width());$("#playlist_list").animate({left:left_position});});}
setTimeout(function(){window.scrollTo(0,$("#playlist_holder").offset().top);load_player();window.main_player.one("ended",function(){next_element=$("#playlist_list .video-item-active").next();while($(next_element).hasClass("video-item-deleted")){next_element=$(next_element).next();}
document.location.href=next_element.find("a").attr("href")+"#autoplay";});},1000);}
$("#tv .start form").on("submit",function(){sform=this;sinp=$(this).find("input");svalue=sinp.val();if(svalue.length<2){sinp.trigger("focus");sinp.attr("placeholder",translation["type_key"]);return false;}});if($("div#user-panel").length){if($(".pending-video").length){setInterval(300000);}
if($(".edit_setting").length){$(".user_categories_data, .all_categories_data").sortable({connectWith:".connectedSortable",cursor:"move",opacity:0.5,}).disableSelection();}
if($("#ui_playlist_list").length){$(".playlist-item").each(function(){var playlist_id=$(this).data("id");$("<a/>",{class:"ui_edit",html:svg_icon("pencil-square")+" "+translation["edit"],href:"/users/playlists?id="+playlist_id,}).appendTo(this);});}
if($("#ui_like_list").length){$(".video-item").each(function(){var video_id=$(this).data("id");var parent=this;$("<a/>",{class:"ui_edit",html:svg_icon("times")+" "+translation["delete"],href:"#",}).bind("click",.appendTo(this);});}
if($("#ui_playlist_video_list").length){$(".video-item").each(function(){var video_id=$(this).data("id");var playlist_id=$("#edit_form").data("id");var parent=this;$("<a/>",{class:"ui_edit",html:svg_icon("times")+" "+translation["delete"],href:"#",}).bind("click",.appendTo(this);});}
if($("#video_list_panel").length){$(".video-item").each(function(){var video_id=$(this).data("id");var parent=this;$("<a/>",{class:"ui_edit",html:svg_icon("pencil-square")+" "+translation["edit"],href:"/users/editvideo?id="+video_id,}).appendTo(this);});}
if($(".message").length){$("#reply_form").on("submit",function(event){var text=$(this).find("textarea").val();if(text.length<5){alert(translation["short_comment"]);return false;}
api_call("message",$("#to_id").val(),text);$("div.message ul").prepend('<li class="you"><span class="f">'+
svg_icon("circle")+' You</span><span class="m">'+
text+'</span><span class="d">Now</span></li>');$(this).find("textarea").val("");return false;});}
if($(".broadcast_list").length){$("#broadcast_grid").masonry({itemSelector:"li",columnWidth:"li",percentPosition:true,});}}
if($("div#video").length){postgen_in_player_link();stream_raw_id=$("#video").data("videoid");var comment_section=$("section.comments");if(comment_section.height()>1500){comment_section.css({height:"1500px","overflow-y":"scroll"});}
$(".searches .expand").on("click",;var nav_elem=$(".video_toolbar");var b_like=nav_elem.find(".rt .hot");var b_dislike=nav_elem.find(".rt .not");var b_fav=nav_elem.find(".fv");var b_playlist=nav_elem.find(".pl");var b_download=nav_elem.find(".dl");var b_flag=nav_elem.find(".fl");var b_comment=nav_elem.find(".cm");var comment=$("#comment_form");var b_share=$(".share .b_share");var b_embed=$(".share .b_embed");var b_tag=$(".details .bt_tag_video");b_like.on("click",function(event){save_like(b_like);});b_dislike.on("click",function(event){save_dislike(b_dislike);});b_fav.on("click",function(event){if(check_login("favorite")){save_fav(b_fav);}});b_playlist.on("click",function(event){if(check_login("playlist")){show_playlist(stream_raw_id);}});b_download.on("click",function(event){if(check_login("download")){show_download(b_download);}});$(document).ready(function(){if(window.location.href.indexOf("#auto_download")!=-1){if(check_login("download")){show_download(b_download);}}});b_flag.on("click",;b_comment.on("click",;comment.on("submit",function(event){save_comment(this,0);return false;});b_share.on("click",function(event){if($(this).hasClass("active"))return false;b_embed.removeClass("active");$(this).addClass("active");$(".embed_box").hide();$(".share_box").show();});b_embed.on("click",function(event){if($(this).hasClass("active"))return false;b_share.removeClass("active");$(this).addClass("active");$(".embed_box").show();$(".share_box").hide();});b_tag.on("click",;set_similar_height();init_comment_rate();$("#vr_player").one("click",function(){$("#vr_player > span").hide();});}
if($("div#home").length){home_live_list();setInterval(function(){if(document.hidden)return false;home_live_list();},120000);}
if($(".category_page, .tag_page, .search_page, #video").length){get_live_models();setInterval(function(){if(document.hidden)return false;get_live_models();},120000);}
$("header").find(".live_cam_header_2 > a").one("mouseover",;if($("div#video #video_container").length){setup_main_player();}
if($("div#vr_player").length){document.addEventListener("x-dl8-evt-ready",;}
if($("div#tv #video_container").length){tv_load_station($("#video_container").data("station"));}
if($("div#upload").length){$("#upload input[name=file_url]").on("propertychange change keyup input paste",;var blocked_keywords_ajax=api_call("upload/get_keywords",0,0);blocked_keywords_ajax.done(function(blocked_keywords){blocked_keywords["results"].forEach(;});setup_form_nav();var tag_ms=$("#tag_inp").magicSuggest({placeholder:" ",hideTrigger:true,queryParam:"id",maxSelection:10,selectFirst:true,typeDelay:100,useTabKey:true,useCommaKey:true,minChars:3,data:"/api/autocomplete/tags",});$(tag_ms).on("selectionchange",function(e,m){$("#tag_inp input[type=text]").trigger("focus");});var pornstar_ms=$("#pornstar_inp").magicSuggest({placeholder:" ",hideTrigger:true,queryParam:"id",maxSelection:6,data:"/api/autocomplete/pornstars",});$(pornstar_ms).on("selectionchange",;$(".cat_label").on("tap click",function(){label_id=$(this).attr("for");if($(this).hasClass("is_selected")){$(this).removeClass("is_selected");$("#"+label_id).attr("checked",false);}else{if($("#upload input[name^=category]:checked").length==10){return false;}
$(this).addClass("is_selected");$("#"+label_id).attr("checked",true);}
return false;});}
if($("div#download_holder").length){setTimeout(list_downloads_upload,4200);}
if($("div#main_tags").length){$.getScript({url:"https://cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js",cache:true},function(){var options={valueNames:['keyword']};new List('main_tags',options);});}
if(window.is_search_bot===false)set_postgen_banners();});