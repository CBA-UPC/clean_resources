jsonp4545({
  "error" : "access_denied",
  "site_cookie_domain" : ".sueddeutsche.de",
  "email_confirmation_required" : null,
  "extend_expired_access_enabled" : false,
  "authorized_by_sso" : false
})/.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/,"$1.$2"),10)>=7,o=function(){var e=a.createElement("video"),t={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},i={};for(var r in t)for(var n=0,s=t[r].length;n<s;n++)if(t[r][n]in e||t[r][n]in a||"on"+t[r][n].toLowerCase()in a){i[r]=t[r][n];break}return i}();function d(e){var t=null;if("VIDEO"===e.tagName)t=e;else{var i=e.getElementsByTagName("video");i[0]&&(t=i[0])}return t}var u=null,c=null,h=function(){},p=[],v=!1;function m(e){var t=d(e);if(t&&t.webkitEnterFullscreen){try{t.readyState<t.HAVE_METADATA?(t.addEventListener("loadedmetadata",(function e(){t.removeEventListener("loadedmetadata",e,!1),t.webkitEnterFullscreen(),c=!!t.getAttribute("controls")}),!1),t.load()):(t.webkitEnterFullscreen(),c=!!t.getAttribute("controls")),u=t}catch(t){return E("not_supported",e)}return!0}return E(void 0===o.request?"not_supported":"not_enabled",e)}function f(){S.element||(b(),y())}function y(){s&&"webkitfullscreenchange"===o.change&&window.removeEventListener("resize",f,!1)}navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(v=parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/,"$1"),10)||!0);var g=function(e){var t=p[p.length-1];t&&(e!==t.element&&e!==u||!t.hasEntered)&&("VIDEO"===e.tagName&&(u=e),1===p.length&&S.onenter(S.element),t.enter.call(t.element,e||t.element),t.hasEntered=!0)},b=function(){!u||c||l||(u.setAttribute("controls","controls"),u.removeAttribute("controls")),u=null,c=null;var e=p.pop();e&&(e.exit.call(e.element),S.element||(p.forEach((function(e){e.exit.call(e.element)})),p=[],S.onexit()))},E=function(e,t){if(p.length>0){var i=p.pop();t=t||i.element,i.error.call(t,e),S.onerror(t,e)}},S={request:function(e,t,i,r){if(e=e||a.body,p.push({element:e,enter:t||h,exit:i||h,error:r||h}),void 0!==o.request)if(s&&!1===a[o.enabled])m(e);else if(!1!==v&&v<32)m(e);else{if(s&&void 0===o.enabled)return o.enabled="webkitFullscreenEnabled",e[o.request](),void setTimeout((function(){a[o.element]?a[o.enabled]=!0:(a[o.enabled]=!1,m(e))}),250);try{e[o.request](),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&setTimeout((function(){a[o.element]||E(s?"not_enabled":"not_allowed",e)}),100)}catch(t){E("not_enabled",e)}}else m(e)},exit:function(){y();try{a[o.exit]()}catch(e){E("not_enabled")}},toggle:function(e,t,i,r){S.element?S.exit():S.request(e,t,i,r)},videoEnabled:function(e){if(S.enabled)return!0;var t=d(e=e||a.body);return!(!t||void 0===t.webkitSupportsFullscreen)&&(t.readyState<t.HAVE_METADATA?"maybe":t.webkitSupportsFullscreen)},onenter:h,onexit:h,onchange:h,onerror:h};try{Object.defineProperties(S,{element:{enumerable:!0,get:function(){return u&&u.webkitDisplayingFullscreen?u:a[o.element]||null}},enabled:{enumerable:!0,get:function(){return"webkitCancelFullScreen"===o.exit&&!s||!(!1!==v&&v<32)&&(a[o.enabled]||!1)}}}),o.change&&a.addEventListener(o.change,(function(e){if(S.onchange(S.element),S.element){var t=p[p.length-2];t&&t.element===S.element?b():(g(S.element),s&&"webkitfullscreenchange"===o.change&&window.addEventListener("resize",f,!1))}else b()}),!1),a.addEventListener("webkitbeginfullscreen",(function(e){var t=!0;if(p.length>0)for(var i=0,r=p.length;i<r;i++)if(d(p[i].element)===e.srcElement){t=!1;break}t&&p.push({element:e.srcElement,enter:h,exit:h,error:h}),S.onchange(e.srcElement),g(e.srcElement)}),!0),a.addEventListener("webkitendfullscreen",(function(e){S.onchange(e.srcElement),b(e.srcElement)}),!0),o.error&&a.addEventListener(o.error,(function(e){E("not_allowed")}),!1)}catch(e){S.element=null,S.enabled=!1}void 0===(r=function(){return S}.call(t,i,t,e))||(e.exports=r)}(0,document,self!==top)},6154:function(e,t,i){"use strict";i.d(t,{G:function(){return s}});var r=JSON.parse('{"play":{"title":"Wiedergabe{{hasKeyboard?? [Leertaste oder K]}}","aria-controls":"{{assetitem}}"},"pause":{"title":"Pause{{hasKeyboard?? [Leertaste oder K]}}","aria-controls":"{{assetitem}}"},"seekforward":{"title":"10 Sekunden vorspulen{{hasKeyboard?? [L oder Pfeiltaste Rechts]}}","aria-controls":"{{assetitem}}"},"seekbackward":{"title":"10 Sekunden zur\xfcckspulen{{hasKeyboard?? [J oder Pfeiltaste Links]}}","aria-controls":"{{assetitem}}"},"subtitle":{"title":"Untertitel an / aus{{hasKeyboard?? [C oder U]}}","aria-label":"Untertitel {{pressed??ausschalten|einschalten}}","aria-pressed":"{{pressed}}"},"accessibility":{"title":"Barrierefreiheit an / aus","data-display-title":"Barrierefreiheit","aria-pressed":"{{pressed}}"},"language":{"title":"Sprache und Barrierefreiheit an / aus","data-display-title":"Sprache und Barrierefreiheit","aria-pressed":"{{pressed}}"},"recommend":{"title":"Empfehlungen an / aus","data-display-title":"Empfehlungen","aria-pressed":"{{pressed}}"},"sharing":{"title":"Teilen an / aus","data-display-title":"Teilen","aria-pressed":"{{pressed}}"},"info":{"title":"Info an / aus","data-display-title":"Info","aria-pressed":"{{pressed}}"},"sleeptimer":{"title":"Sleeptimer an / aus","data-display-title":"Sleeptimer","aria-pressed":"{{pressed}}"},"playlist":{"title":"Playliste an / aus","data-display-title":"Playliste","aria-pressed":"{{pressed}}"},"playlistNext":{"title":"N\xe4chster Titel","aria-pressed":"false"},"playlistPrev":{"title":"Vorheriger Titel","aria-pressed":"false"},"bookmark":{"title":"Merkliste","aria-pressed":"{{isBookmarked}}"},"download":{"title":"Clip herunterladen an / aus","data-display-title":"Clip herunterladen","aria-pressed":"{{pressed}}"},"volume":{"title":"Lautst\xe4rke einstellen{{hasKeyboard?? [Pfeiltasten hoch/runter] f\xfcr Ton an/aus [M]}}"},"volumeslider":{"title":"Schieberegler f\xfcr die Lautst\xe4rke{{hasKeyboard?? [Pfeiltasten hoch/runter] f\xfcr Ton an/aus [M]}}"},"volumeslider-thumb":{"role":"slider","title":"Schieberegler f\xfcr die Lautst\xe4rke{{hasKeyboard?? [Pfeiltasten hoch/runter] f\xfcr Ton an/aus [M]}}","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"{{volume}}","aria-valuetext":"{{volume}}% Lautst\xe4rke{{isMuted??, Ton Abgeschaltet}}"},"settings":{"title":"Einstellungen an / aus","data-display-title":"Einstellungen","aria-pressed":"{{pressed}}"},"metasettings":{"title":"Men\xfc an / aus","aria-pressed":"{{pressed}}"},"fullscreen-on":{"title":"Vollbild ein{{hasKeyboard?? [F]","aria-pressed":"{{pressed}}"},"fullscreen-off":{"title":"Vollbild aus{{hasKeyboard?? [F oder ESC]}}","aria-pressed":"{{pressed}}"},"progressbar":{"title":"Schieberegler zum Spulen des {{assetType}}s{{hasKeyboard?? [J (zur\xfcck) und L (vor)]}}"},"progressbar-thumb":{"title":"Schieberegler zum Spulen des {{assetType}}s{{hasKeyboard?? [J (zur\xfcck) und L (vor)]}}","role":"slider","aria-orientation":"horizontal","aria-live":"off","aria-valuemin":"0","aria-valuemax":"{{duration}}","aria-valuenow":"{{position}}","aria-valuetext":"{{positionlabel}}"},"time-playhead":{"role":"meter","aria-valuetext":"{{label}} {{timeString}}"},"time-remaining":{"role":"meter","aria-valuetext":"{{label}} {{timeString}}"},"posterbackdrop":{"title":"{{title}}{{imageSourceName?? \\\\| imageSourceName}}","alt":"{{alt}}"},"posterframe":{"title":"{{title}}{{imageSourceName?? \\\\| imageSourceName}}","alt":"{{alt}}"},"posterplay":{"title":"Wiedergabe{{hasKeyboard?? [Leertaste]}}","aria-controls":"{{assetitem}}"},"replay":{"title":"Video erneut abspielen{{hasKeyboard?? [0]}}","aria-controls":"{{assetitem}}"},"jump-to-live":{"title":"Zu Live-Position springen","aria-controls":"{{assetitem}}"},"jumpmark-next":{"title":"N\xe4chster Abschnitt: {{label}}{{hasKeyboard?? [Shift + L]}}","aria-disabled":"false"},"jumpmark-prev":{"title":"Vorheriger Abschnitt: {{label}}{{hasKeyboard?? [Shift + J]}}","aria-disabled":"false"},"jumpmark-next-none":{"title":"","aria-label":"Kein weiterer Abschnitt","aria-disabled":"true"},"jumpmark-prev-none":{"title":"","aria-label":"Kein vorheriger Abschnitt","aria-disabled":"true"},"jumpmarks":{"title":"Highlights an / aus","data-display-title":"Highlights"},"xr":{"title":"In den VR Mode wechseln"},"chromecast":{"title":"Chromecast"},"airplay":{"title":"Airplay"},"remote-select":{"title":"Auf anderem Ger\xe4t wiedergeben"},"pip":{"title":"In den Bild-In-Bild Modus wechseln"},"variant-selector":{"title":"{{menuTitle}} an / aus","data-display-title":"{{menuTitle}}"},"title-back":{"title":"Zur\xfcck"},"title-close":{"title":"Schliessen"},"title-deeplink":{"title":"{{title}}"}}'),n=JSON.parse('{"MC_JSON_FILE_NOT_FOUND":"Es wurde keine MediaCollection-Json-Datei gefunden.","MC_JSON_FILE_WRONG_URI":"Die URI f&uuml;r die MediaCollection-Json-Datei ist falsch.","MC_UNKNOWN":"Dieser Clip kann auf Ihrem Betriebssystem nicht abgespielt werden.","PC_JSON_FILE_NOT_FOUND":"Es wurde keine PlayerConfiguration-Json-Datei gefunden.","PC_JSON_FILE_WRONG_URI":"Die URI f&uuml;r die PlayerConfiguration-Json-Datei ist falsch.","PC_UNKNOWN":"Die PlayerConfiguration ist unbekannt.","IDENTIFIER_IS_UNDEFINED":"Identifier ist unbekannt."}');const a={Strings:JSON.parse('{"posterFrame":{"imgAlt":"ARD Player Poster"},"bottomSheet":{"backTitle":"Einen Bildschirm zur\xfcck gehen.","closeTitle":"Fenster schliessen."}}'),Accessibility:r,ErrorMessages:n},s=(0,i(6735).RH)(a,{})},8771:function(e,t,i){"use strict";i.d(t,{h:function(){return v}});var r=i(1225),n=i(5491),a=i(4736),s=i(8254),l=i(6154),o=i(4178),d=function(e){return'<div class="ardplayer-errorframe"><div class="ardplayer-errorframe-content"><i class="ardplayer-error-icon ardplayer-icon"></i><span class="ardplayer-error-message"></span></div></div>'},u=i(9825),c=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},h=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},p=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let v=(()=>{let e,t,i=[o.VP],v=[];var m=t=class{get criticalError(){return this.isFinalErrorState}constructor(e){this.player=null,this.isFinalErrorState=!1,this.player=e,m.errorMessagesParsed||(m.errorMessagesParsed=!0,m.parseErrorMessagesConfig(l.G.ErrorMessages))}static parseErrorMessagesConfig(e){var t;const i=/^addon/i,n=/^(addon[^_]+)_(.+)$/i;for(const a in e)if(i.test(a)){const[i,r,s]=null!==(t=n.exec(a))&&void 0!==t?t:[];void 0===m.addonMessages[r]&&(m.addonMessages[r]={}),m.addonMessages[r][s]=e[a]}else try{m[a]=e[a]}catch(e){r.iV.warn("Tried to override unknown error message",a)}}throwStreamError(e,t){var i,a,l;void 0===t&&(t=!1);let o="no stacktrace";try{o=null!==(i=(new Error).stack)&&void 0!==i?i:o}catch(e){}for(var d=arguments.length,u=new Array(d>2?d-2:0),c=2;c<d;c++)u[c-2]=arguments[c];const h=0===u.length?null:"\n"+u.join("\n\n")+"\n";if(null!==this.player){const i=this.player.model;let d="unknown stream",u="unknown mime",c="unknown plugin";const p=this.player.lastExecutionContext,v=p?String(p.type)+":"+String(p.initiator):"unknown";try{if(this.player.currentStream&&!1!==this.player.currentMedia){const e=this.player.currentStream.media[this.player.currentMedia];d=e.url,u=e.mimeType,c=null!==(a=this.player.currentPluginName)&&void 0!==a?a:c}}catch(e){r.iV.info(e)}r.iV.error("STREAM ERROR:\n",u,c,d,"\n",e,"\n","last interaction: "+v+"\n",null!=h?h:"no message","\n\nStack:\n"+o),t||this.player.pixelController.triggerCustomPixel(n.J.STREAM_ERROR,!1,{message:(null!=h?h:"")+("unkown"!==v?"\ninteraction: "+v:"")+"\n\nStack:\n"+o,stream:d,mime:u,plugin:c}),r.iV.log("[Error] {M:"+this.player.currentMedia+"} stream error"),(null===(l=this.player.getCtrl())||void 0===l?void 0:l.model.playstate)===s.S.PLAYSTATE_PLAYING&&(i.playerConfig.generic.isAutoplay=!0),this.player.streamError()}else r.iV.error("STREAM ERROR: ",e,h,o),this.throwError(e,!0,(null!=h?h:"")+"\n\nStack:\n"+o)}throwError(e,t,i,r,n){var a;void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=null);const s=null===(a=this.player)||void 0===a?void 0:a.lastExecutionContext,l=s?String(s.type)+":"+String(s.initiator):null,o=null==i?l:null==l?i:"last interaction:"+l+"\n"+i;this._throwErrorEvent(e,t,o),t&&(null!==r?this.showErrorUI(e,r,n):this.showGenericErrorUI(e,n))}_throwErrorEvent(e,t,i,n,s){var l,o,d,u,c;if(void 0===i&&(i=null),void 0===n&&(n=0),void 0===s&&(s=!1),s||void 0===(null===(l=this.player)||void 0===l?void 0:l.viewCtrl)||(null===(o=this.player)||void 0===o||o.loop.dispatchEvent(a.J.EVENT_ERROR,{isCritical:t,message:e,info:i}),s=!0),t){if(this.isFinalErrorState)return;(null===(d=this.player)||void 0===d?void 0:d.viewCtrl)?(this.isFinalErrorState=!0,null===(u=this.player.viewCtrl.bottomSheet)||void 0===u||u.conceal(null),this.player.viewCtrl.dispose(),this.player.finalErrorShutdown()):n<10&&this.player?this.player.safeTimeout((()=>{this._throwErrorEvent(e,t,i,n+1,s)})):(r.iV.error("Kritischer Fehler konnte nach "+n+" versuchen nicht korrekt behandelt werden!",e),null===(c=this.player)||void 0===c||c.finalErrorShutdown(),this.isFinalErrorState=!0)}}showGenericErrorUI(e,t){var i,r,n,a;void 0===t&&(t=null);let s="ardplayer-icon-error";null!==(a=null===(n=null===(r=null===(i=this.player)||void 0===i?void 0:i.model)||void 0===r?void 0:r.mediaCollection)||void 0===n?void 0:n.isGeoBlocked)&&void 0!==a&&a&&(e=m.ERROR_PLAYBACK_GEOBLOCK,s="ardplayer-icon-error-geoblock"),this.showErrorUI(e,s,t)}showErrorUI(e,t,i){var n,a,s,l,o,c;void 0===i&&(i=null);const h=null===(n=this.player)||void 0===n?void 0:n.getTarget();if(h){try{null===(a=this.player)||void 0===a||a.checkState()}catch(e){return void r.iV.warn("aborting async",e)}h.querySelectorAll(".ardplayer-errorframe").forEach((e=>{e.remove()}));const n=document.createElement("div");n.innerHTML=new u.B(d).renderTemplate({playerID:null!==(l=null===(s=this.player)||void 0===s?void 0:s.getId())&&void 0!==l?l:""}),h.append(n.firstElementChild),e=e.replace(/\${([^|]*)\|([^}]*)}/g,(null===(o=this.player)||void 0===o?void 0:o.isAudio)?"$2":"$1"),""!==m.ERROR_FOOTER_LINK&&(e+='<span class="ardplayer-error-link">'+m.ERROR_FOOTER_LINK+"</span>");const p=h.querySelector(".ardplayer-error-message");if(p&&(p.innerHTML=e),null===(c=h.querySelector(".ardplayer-error-icon"))||void 0===c||c.classList.add(t),h.classList.add("ardplayer","ardplayer-show-errorframe"),i){const e=h.querySelector(".ardplayer-errorframe-content");e&&i(e)}}else r.iV.error("could not display friendly error message",t,e)}dispose(){}};return p(t,"ErrorController"),c(null,e={value:t},i,{kind:"class",name:t.name},null,v),m=t=e.value,t.addonMessages={},t.errorMessagesParsed=!1,t.MC_JSON_FILE_NOT_FOUND="Es wurde keine MediaCollection-Json-Datei gefunden.",t.MC_JSON_FILE_WRONG_URI="Die URI f&uuml;r die MediaCollection-Json-Datei ist falsch.",t.MC_UNKNOWN="Dieser Clip kann auf Ihrem Betriebssystem nicht abgespielt werden.",t.MC_INVALID="Die MediaCollection konnte nicht validiert werden.",t.PC_JSON_FILE_NOT_FOUND="Es wurde keine PlayerConfiguration-Json-Datei gefunden.",t.PC_JSON_FILE_WRONG_URI="Die URI f&uuml;r die PlayerConfiguration-Json-Datei ist falsch.",t.PC_UNKNOWN="Die PlayerConfiguration ist unbekannt.",t.PC_INVALID="Die PlayerConfiguration konnte nicht validiert werden.",t.MEDIACANVAS_COULD_NOT_GENERATED="MediaCanvas konnte nicht generiert werden.",t.IDENTIFIER_IS_UNDEFINED="Identifier ist undefined.",t.ERROR_PLAYBACK="${Dieses Video|Dieser Audioclip} kann leider nicht abgespielt werden. Wir bitten um Ihr Verst&auml;ndnis.",t.ERROR_PLAYBACK_GEOBLOCK="${Dieses Video|Dieser Audioclip} kann leider nicht abgespielt werden. Wir bitten um Ihr Verst&auml;ndnis. Wichtig: Inhalte mit Geoblocking k\xf6nnen nur von Deutschland aus abgerufen werden.",t.ERROR_PLAYBACK_MATURITY_16="${Das Video|Der Audioclip} ist f\xfcr Kinder und Jugendliche unter 16 Jahren nicht geeignet und kann ab 22 Uhr abgespielt werden.",t.ERROR_PLAYBACK_MATURITY_18="${Das Video|Der Audioclip} ist f\xfcr Kinder und Jugendliche unter 18 Jahren nicht geeignet und kann ab 23 Uhr abgespielt werden.",t.ERROR_FOOTER_LINK="",h(t,v),m=t})()},5491:function(e,t,i){"use strict";i.d(t,{J:function(){return p}});var r=i(5855),n=i(1225),a=i(4736),s=i(4178),l=i(2009),o=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},d=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},u=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},h=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let p=(()=>{var e,t,i,p,v;let m,f,y=[s.VP],g=[];var b=f=class{constructor(r){this.player=r,e.set(this,0),t.set(this,""),i.set(this,!0),p.set(this,!1),v.set(this,!1),this._isReplay=!1,this.looper=null,this.looper=new l.J(r)}triggerEvent(e,t){var i;r.q.isDebugPixelEvent&&n.iV.log("[PIXEL]",e,t),null===(i=this.looper)||void 0===i||i.dispatchEvent(e,t)}loadStream(e){this.triggerEvent(b.STREAM_LOAD,{streamurl:e,isQualityChanged:u(this,p,"f"),isPluginChanged:u(this,v,"f")}),c(this,p,!1,"f"),c(this,v,!1,"f")}initialPlayTrigger(){u(this,i,"f")&&(c(this,i,!1,"f"),this.player.setExecutionContext(b.SUPER_INITIAL_PLAY,this.player.getExecutionContext(a.J.EVENT_PLAY_STREAM)),this.triggerPixel(b.SUPER_INITIAL_PLAY))}replayTrigger(){this._isReplay&&(this.player.setExecutionContext(b.SUPER_INITIAL_PLAY,this.player.getExecutionContext(a.J.EVENT_PLAY_STREAM)),this.player.pixelController.triggerPixel(b.SUPER_REPLAY),this._isReplay=!1)}triggerQualityChanged(e){c(this,p,!0,"f"),this.triggerPixel(e),this.triggerPixel(b.SUPER_QUALITY_CHANGE)}triggerTrackingPixelInitialPlay(){var t;0===u(this,e,"f")&&(this.triggerEvent(b.INTERACTION_INITIAL_PLAY,{}),c(this,e,(t=u(this,e,"f"),++t),"f"))}triggerPixel(e,i){void 0===i&&(i=!1),i&&e===u(this,t,"f")||(this.triggerEvent(e,{}),c(this,t,e,"f"))}triggerCustomPixel(e,i,r){i&&e===u(this,t,"f")||(this.triggerEvent(e,r),c(this,t,e,"f"))}dispose(){var e;null===(e=this.looper)||void 0===e||e.dispose(),this.looper=null}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,p=new WeakMap,v=new WeakMap,h(f,"PlayerPixelController"),o(null,m={value:f},y,{kind:"class",name:f.name},null,g),b=f=m.value,f.IA_MOUSE_SUBTITLE_ACTIVATION="ia_mouse_subtitle_activation",f.IA_MOUSE_SUBTITLE_DEACTIVATION="ia_mouse_subtitle_deactivation",f.IA_MOUSE_VOLUME_MUTE="ia_mouse_volume_mute",f.IA_MOUSE_VOLUME_UNMUTE="ia_mouse_volume_unmute",f.IA_MOUSE_VOLUME_CHANGE="ia_mouse_volume_change",f.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_FORWARD="ia_mouse_scrubbar_change_position_forward",f.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND="ia_mouse_scrubbar_change_position_rewind",f.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT="ia_mouse_scrubbar_change_position_rewind_timeshift",f.IA_MOUSE_FULLSCREEN_ACTIVATION_BUTTON="ia_mouse_fullscreen_activation_button",f.IA_MOUSE_FULLSCREEN_DEACTIVATION_BUTTON="ia_mouse_fullscreen_deactivation_button",f.IA_MOUSE_PLAY_BUTTON="ia_mouse_play_button",f.IA_MOUSE_PLAY_VIEWPORT="ia_mouse_play_viewport",f.IA_MOUSE_PAUSE_BUTTON="ia_mouse_pause_button",f.IA_MOUSE_PAUSE_VIEWPORT="ia_mouse_pause_viewport",f.IA_MOUSE_PLAY_AGAIN_BUTTON="ia_mouse_play_again_button",f.IA_MOUSE_PLAY_AGAIN_VIEWPORT="ia_mouse_play_again_viewport",f.IA_MOUSE_QUALITY_CHANGE="ia_mouse_quality_change",f.IA_KEY_SUBTITLE_ACTIVATION="ia_key_subtitle_activation",f.IA_KEY_SUBTITLE_DEACTIVATION="ia_key_subtitle_deactivation",f.IA_KEY_AUDIODESCRIPTION_ACTIVATION="ia_key_audiodescription_activation",f.IA_KEY_AUDIODESCRIPTION_DEACTIVATION="ia_key_audiodescription_deactivation",f.IA_KEY_SIGN_LANGUAGE_ACTIVATION="ia_key_sign_language_activation",f.IA_KEY_SIGN_LANGUAGE_DEACTIVATION="ia_key_sign_language_deactivation",f.IA_KEY_VOLUME_MUTE="ia_key_volume_mute",f.IA_KEY_VOLUME_UNMUTE="ia_key_volume_unmute",f.IA_KEY_VOLUME_CHANGE="ia_key_volume_change",f.IA_KEY_SCRUBBAR_CHANGE_POSITION_FORWARD="ia_key_scrubbar_change_position_forward",f.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND="ia_key_scrubbar_change_position_rewind",f.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT="ia_key_scrubbar_change_position_rewind_timeshift",f.IA_KEY_PLAY="ia_key_play",f.IA_KEY_PAUSE="ia_key_pause",f.IA_KEY_PLAY_AGAIN="ia_key_play_again",f.IA_KEY_QUALITY_CHANGE="ia_key_quality_change",f.STREAM_LOAD="stream_load",f.INTERACTION_INITIAL_PLAY="interaction_initial_play",f.CLIP_ENDED="clip_ended",f.SHARE="share",f.STREAM_ERROR="Stream_error",f.PLAYER_LOADING="player_loading",f.PLAYER_UNLOAD="player_unloading",f.SUPER_SUBTITLE_ACTIVATION="super_subtitle_activation",f.SUPER_SUBTITLE_DEACTIVATION="super_subtitle_deactivation",f.SUPER_SUBTITLE_UNAVAILABLE="super_subtitle_unavailable",f.SUPER_AUDIODESCRIPTION_ACTIVATION="super_audiodescription_activation",f.SUPER_AUDIODESCRIPTION_DEACTIVATION="super_audiodescription_deactivation",f.SUPER_AUDIODESCRIPTION_UNAVAILABLE="super_audiodescription_unavailable",f.SUPER_AUDIOSTREAM_CHANGE="super_audiostream_change",f.SUPER_SIGN_LANGUAGE_ACTIVATION="super_sign_language_activation",f.SUPER_SIGN_LANGUAGE_DEACTIVATION="super_sign_language_deactivation",f.SUPER_SIGN_LANGUAGE_UNAVAILABLE="super_sign_language_unavailable",f.SUPER_VOLUME_MUTE="super_volume_mute",f.SUPER_VOLUME_UNMUTE="super_volume_unmute",f.SUPER_VOLUME_CHANGE="super_volume_change",f.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD="super_scrubbar_change_position_forward",f.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND="super_scrubbar_change_position_rewind",f.SUPER_FULLSCREEN_ACTIVATION="super_fullscreen_activation",f.SUPER_FULLSCREEN_DEACTIVATION="super_fullscreen_deactivation",f.SUPER_PLAY="super_play",f.SUPER_PAUSE="super_pause",f.SUPER_REPLAY="super_replay",f.SUPER_INITIAL_PLAY="super_initial_play",f.SUPER_QUALITY_CHANGE="super_quality_change",f.SUPER_BACK_TO_LIVE="super_back_to_live",f.SUPER_DVR_ACTIVE="super_dvr_active",f.SUPER_PLAYHEAD_POSITION="super_playhead_position",f.JUMPMARK_SELECT="jumpmark_select",d(f,g),b=f})()},2927:function(e,t,i){"use strict";i.d(t,{I:function(){return Oe}});var r=i(6248),n=i(5855),a=i(4736);function s(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=l.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}var l=/["&<>]/,o=function(e){var t="",i=e||{};return function(e){t=t+'<!DOCTYPE html><html><body><div class="ardplayer-modal-container ardplayer-modal-container-toggle"><div class="ardplayer-modal-stage" role="dialog"'+s("aria-labelledby",`ardplayer-modal-title-${e}`,!0,!0)+'><div class="ardplayer-modal-topbar"><button class="ardplayer-modal-down-button ardplayer-icon ardplayer-icon-arrowdown" tabindex="0" aria-label="Ansicht schliessen"></button></div><div class="ardplayer-modal-content-wrapper"><div class="ardplayer-modal-content"></div></div></div></div></body></html>'}.call(this,"playerId"in i?i.playerId:"undefined"!=typeof playerId?playerId:void 0),t},d=i(9825);class u extends r.Sh{constructor(){super(...arguments),this.ID="AddonModalControls",this.configKey="modalControls",this.container=null,this.content=null,this.stage=null,this.topBar=null,this.btnClose=null,this.buttonMutex=!1,this.isClosing=!1,this.addonButtonsVisibleCache=!1,this.borrowedNodes=[]}isSupported(){var e;return this.player.isAudio&&!(null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e)&&!n.q.isFrame}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.SETUP_VIEW,this.eventSetupView),!0)}borrowNode(e,t,i){if(void 0===t&&(t=this.content),t&&(null==e?void 0:e.parentElement)){const r=e.cloneNode(!0);return e.parentElement.insertBefore(r,e),t.appendChild(e),null==i||i.forEach((t=>{e.classList.toggle(t)})),e.querySelectorAll("[tabindex]").forEach((e=>{e.tabIndex=0})),r.querySelectorAll("[tabindex]").forEach((e=>{e.tabIndex=-1})),r.setAttribute("aria-hidden","true"),this.borrowedNodes.push({node:e,standIn:r,toggledClasses:i}),e}return null}returnBorrowedNodes(){var e;this.borrowedNodes.forEach((e=>{var t,i;null===(t=e.standIn.parentElement)||void 0===t||t.insertBefore(e.node,e.standIn),null===(i=e.toggledClasses)||void 0===i||i.forEach((t=>{e.node.classList.toggle(t)})),e.standIn.remove()})),this.borrowedNodes=[],null===(e=this.player.viewCtrl)||void 0===e||e.updateAccessibleVisibility()}reveal(){var e;return!!this.player.getTarget().classList.contains("ardplayer-m")&&(this.log("revealing modal controls"),this.isClosing=!1,this.player.getTarget().classList.add("ardplayer-show-modal-player"),n.q.browserIsSafari&&document.body.classList.add("ardplayer-safari-noscroll-modal"),null===(e=this.stage)||void 0===e||e.setAttribute("aria-hidden","false"),!!this.content&&(this.addonButtonsVisibleCache=this.player.viewCtrl.addonButtonsVisible,this.player.viewCtrl.addonButtonsVisible=!0,this.player.viewCtrl.updateAccessibleVisibility(),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-posterbackdrop>picture")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-audio-subtitle")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-audio-title")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-center")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-time-playhead")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-time-remaining")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-controlbar")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-btn-chromecast"),this.topBar),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-btn-airplay"),this.topBar),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-addons-container-big"),this.content,["ardplayer-button-big"]),!0))}conceal(){var e;this.log("hiding modal controls"),this.isClosing=!0,null===(e=this.stage)||void 0===e||e.setAttribute("aria-hidden","true"),n.q.browserIsSafari&&document.body.classList.remove("ardplayer-safari-noscroll-modal"),this.player.getTarget().classList.remove("ardplayer-show-modal-player")}concealDone(){this.returnBorrowedNodes(),this.player.viewCtrl&&(this.player.viewCtrl.addonButtonsVisible=this.addonButtonsVisibleCache,this.player.viewCtrl.updateAccessibleVisibility()),this.isClosing=!1}handleResize(){this.content&&this.content.classList.toggle("ardplayer-modal-landscape",this.content.offsetWidth>=this.content.offsetHeight)}eventSetupView(e){var t,i,r;if(this.container=new d.B(o).renderTemplateAsElement({playerID:null!==(i=null===(t=this.player)||void 0===t?void 0:t.getId())&&void 0!==i?i:""}),null==this.container)throw new Error("could not load template");if(this.stage=this.container.querySelector(".ardplayer-modal-stage"),this.topBar=this.container.querySelector(".ardplayer-modal-topbar"),this.content=this.container.querySelector(".ardplayer-modal-content"),this.btnClose=this.container.querySelector(".ardplayer-modal-down-button"),!this.stage||!this.content)return;const n=e.controller.playerView;n.insertBefore(this.container,n.querySelector(".ardplayer-bottom-sheet-container")),null===(r=this.stage)||void 0===r||r.setAttribute("aria-hidden","true"),"function"==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{this.handleResize()})),this.handleResize(),this.resizeObserver.observe(this.content)),this.onClick(this.btnClose,(()=>{this.buttonMutex||this.conceal()})),this.onClick(this.topBar,(e=>{e.target!==this.topBar||this.buttonMutex||this.conceal()})),this.addEventListener(this.stage,"animationstart",(e=>{e.target===this.stage&&(this.buttonMutex=!0)})),this.addEventListener(this.stage,"animationend",(e=>{e.target===this.stage&&(this.buttonMutex=!1)}));const a=this.content.parentElement;a&&this.addEventListener(a,"animationend",(e=>{this.isClosing&&e.target===a&&this.concealDone()}));const s=e.controller.playerView.querySelector(".ardplayer-audio");s&&this.onClick(s,(e=>{this.reveal()&&e.stopImmediatePropagation()}))}dispose(){var e;super.dispose(),this.container=null,this.content=null,this.stage=null,this.btnClose=null,this.topBar=null,null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=void 0,n.q.browserIsSafari&&document.body.classList.remove("ardplayer-safari-noscroll-modal")}}var c=i(187);function h(e,t){if(void 0===t&&(t=!1),isNaN(e))return"00:00:00";let i=Math.floor(e/1e3);const r=i%60;let n=(i-r)/60;i=r;const a=n%60,s=(n-a)/60;return n=a,!t||s>0?String(s).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(i).padStart(2,"0"):String(n).padStart(2,"0")+":"+String(i).padStart(2,"0")}function p(e,t){if(void 0===t&&(t=!0),/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)){const i=new Date(e);return t?function(e){return""+e.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"})}(i)+" | "+function(e,t){return void 0===t&&(t=!0),String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+(t?" Uhr":"")}(i):i.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"})}return e}class v{constructor(e,t){void 0===e&&(e=48),void 0===t&&(t=3),this.width=e,this.stroke=t,this.radius=e/2-t,this.center=.5*this.width,this.circumference=2*this.radius*Math.PI,this.view=document.createElement("div"),this.view.className="sleep-timer-progress-ring",this.view.innerHTML='<svg width="'+this.width+'" height="'+this.width+'" style="transform: rotate(-90deg); transform-origin: 50% 50%">\n            <circle stroke-width="'+t+'" fill="transparent" r="'+this.radius+'" cx="'+this.center+'" cy="'+this.center+'"/>\n            <circle stroke-width="'+t+'" fill="transparent" r="'+this.radius+'" cx="'+this.center+'" cy="'+this.center+'"/>\n        </svg>',this.background=this.view.querySelectorAll("circle")[0],this.segment=this.view.querySelectorAll("circle")[1],this.svg=this.view.querySelector("svg"),this.segment.style.strokeDasharray=this.circumference+" "+this.circumference,this.segment.style.strokeDashoffset=""+this.circumference}setProgress(e){this.segment.style.strokeDashoffset=String(this.circumference-e/100*this.circumference)}setColor(e){this.segment.setAttribute("stroke",e)}setBGColor(e){this.background.setAttribute("stroke",e)}setRadius(e){this.radius=e,this.circumference=2*this.radius*Math.PI,this.width=2*this.radius+this.stroke,this.center=.5*this.width,this.view.style.width=this.width+"px",this.view.style.height=this.width+"px",this.svg.setAttribute("width",String(this.width)),this.svg.setAttribute("height",String(this.width)),this.background.setAttribute("cx",String(this.center)),this.background.setAttribute("cy",String(this.center)),this.background.setAttribute("r",String(this.radius)),this.segment.setAttribute("cx",String(this.center)),this.segment.setAttribute("cy",String(this.center)),this.segment.setAttribute("r",String(this.radius)),this.segment.style.strokeDasharray=this.circumference+" "+this.circumference,this.segment.style.strokeDashoffset=""+this.circumference}setStroke(e){this.stroke=e,this.width=2*this.radius+this.stroke,this.center=.5*this.width,this.svg.setAttribute("width",String(this.width)),this.svg.setAttribute("height",String(this.width)),this.background.setAttribute("cx",String(this.center)),this.background.setAttribute("cy",String(this.center)),this.background.setAttribute("stroke-width",String(this.stroke)),this.segment.setAttribute("cx",String(this.center)),this.segment.setAttribute("cy",String(this.center)),this.segment.setAttribute("stroke-width",String(this.stroke)),this.view.style.width=this.width+"px",this.view.style.height=this.width+"px"}}var m=i(8136),f=i(4307),y=i(2009);class g extends c.x{constructor(){super(...arguments),this.ID="AddonSleepTimer",this.configKey="sleepTimer",this.eventDispatcher=null,this.endTime=-1,this.activeSelection=0,this.interval=-1,this.lastTick=-1,this.screenHeading=null,this.screenHeadingProgressDisplay=null,this.timeSelect=null,this.progressDisplay=null,this.sleepTimes=[["Aus",-1],["5 Min.",3e5],["10 Min.",6e5],["15 Min.",9e5],["30 Min.",18e5],["45 Min.",27e5],["60 Min.",36e5],["90 Min.",54e5]]}get buttonOrder(){return 1}get requiresDom(){return!1}listAddonButtons(){return[{accessibilityKey:"sleeptimer",classList:["ardplayer-icon","ardplayer-icon-sleep"],screen:"default"}]}parcelData(){return 0===this.activeSelection?null:{activeSelection:this.activeSelection,endTime:this.endTime}}restoreParceledData(e){this.activeSelection=e.activeSelection,this.endTime=e.endTime}register(){return!!super.register()&&(this.player.isLive||this.sleepTimes.splice(1,0,["Ende der Episode",Number.MAX_SAFE_INTEGER]),(this.activeSelection>=this.sleepTimes.length||this.endTime===Number.MAX_SAFE_INTEGER)&&(this.activeSelection=0,this.endTime=-1),this.eventDispatcher=new y.J(this.player),!0)}eventSetupView(e){super.eventSetupView(e),0!==this.activeSelection&&this.startTimer()}renderToDisplayList(e,t){e.title="Sleeptimer",this.timeSelect=m.mf.renderSelect(e,"Einschlafzeit",this.sleepTimes.map((e=>e[0])),this.activeSelection,(e=>{var t,i;this.activeSelection=e;const r=this.sleepTimes[e][1];-1===r?(this.stopTimer(),null===(t=this.eventDispatcher)||void 0===t||t.dispatchEvent("AddonSleepTimer.TIMER_DISABLED",{})):(this.endTime=r,this.startTimer(),null===(i=this.eventDispatcher)||void 0===i||i.dispatchEvent("AddonSleepTimer.TIMER_SET",{duration:r===Number.MAX_SAFE_INTEGER?r:r/1e3}))}))}onDomRendered(e,t,i){var r,n;null===(n=null===(r=e.parentElement)||void 0===r?void 0:r.parentElement)||void 0===n||n.classList.add("ardplayer-addon-sleep-sheet"),this.screenHeading=f.SD.renderElem(t,"sleep-timer-done ardplayer-button-pill ardplayer-icon ardplayer-icon-sleep","<span></span>","Verbleibende Zeit","div",!0),this.screenHeading.setAttribute("aria-live","off"),this.screenHeading.setAttribute("aria-atomic","true"),this.screenHeading.setAttribute("role","timer"),this.screenHeadingProgressDisplay=new v(30,2),this.screenHeading.prepend(this.screenHeadingProgressDisplay.view),this.updateTimerUi()}startTimer(){-1===this.interval&&(this.lastTick=Date.now(),this.interval=this.player.safeInterval((()=>{this.tick()}),g.TICK_INTERVAL)),this.updateTimerUi()}stopTimer(){window.clearInterval(this.interval),this.lastTick=-1,this.interval=-1,this.endTime=-1,this.activeSelection=0,this.updateTimerUi()}tick(){this.player.withExecutionContext({type:"timeout",initiator:"sleeptimer"},(()=>{const e=Date.now()-this.lastTick;this.lastTick+=e,-1===this.endTime?this.stopTimer():this.endTime===Number.MAX_SAFE_INTEGER?0!==this.player.model.playstate&&(1e3*this.player.getDuration()-1e3*this.player.getCurrentTime()<=2*g.TICK_INTERVAL*this.player.model.playbackRate?(this.player.stopInternal(),this.stopTimer()):this.updateTimerUi()):2===this.player.model.playstate&&(this.endTime-=e,this.endTime<=0?(this.player.pauseInternal(),this.stopTimer()):this.updateTimerUi())}))}updateTimerUi(){var e,t,i,r;if(null===(e=this.timeSelect)||void 0===e||e.updateSelection(this.activeSelection),this.screenHeading){this.screenHeading.classList.toggle("sleep-timer-done",-1===this.endTime);const e=this.screenHeading.lastChild;e&&e!==(null===(t=this.screenHeadingProgressDisplay)||void 0===t?void 0:t.view)&&(e.textContent=-1===this.endTime?"":this.endTime!==Number.MAX_SAFE_INTEGER?h(this.endTime,!0):0===this.player.model.playstate?"Rest der Episode":h(1e3*(this.player.getDuration()-this.player.getCurrentTime()),!0))}if(-1!==this.endTime){const e=this.endTime===Number.MAX_SAFE_INTEGER?0===this.player.model.playstate?100:100-this.player.getCurrentTime()/this.player.getDuration()*100:this.endTime/this.sleepTimes[this.activeSelection][1]*100;this.progressDisplay?this.progressDisplay.setProgress(e):(0===this.buttons.length&&this.renderButtons(),this.buttons.length>0&&(this.progressDisplay=new v(35,2),this.buttons[0].button.prepend(this.progressDisplay.view),this.progressDisplay.setProgress(e))),null===(i=this.screenHeadingProgressDisplay)||void 0===i||i.setProgress(e)}else this.progressDisplay&&(null===(r=this.screenHeadingProgressDisplay)||void 0===r||r.setProgress(0),this.progressDisplay.setProgress(0))}onScreenClosed(e){super.onScreenClosed(e),this.screenHeading=null,this.screenHeadingProgressDisplay=null,this.timeSelect=null}dispose(){var e;super.dispose(),null===(e=this.eventDispatcher)||void 0===e||e.dispose(),this.eventDispatcher=null,this.stopTimer()}}g.TICK_INTERVAL=250;var b=g,E=i(6735);class S extends c.x{constructor(){var e;super(...arguments),this.ID="AddonPlaylist",this.configKey="playlist",this.playlists=[],this.nextUp=null,this.bookmarkPlaylistId=null,this.activeTabIndex=null,this.playingListIndex=null,this.playingItemId=null,this.playlistContainer=null,this.eventDispatcher=null,this.isAudioView=this.player.isAudio&&!(null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e),this.skipButtonNext=null,this.skipButtonPrev=null,this.comingUpTitle=null}get buttonOrder(){return 3}get requiresDom(){return!0}listAddonButtons(){const e={screen:"bookmark",classList:["ardplayer-icon",this.isBookmarked?"ardplayer-icon-bookmark":"ardplayer-icon-bookmark-outline"],accessibilityKey:"bookmark",accessibilityVariables:{isBookmarked:this.isBookmarked},heroPriority:1},t={screen:"default",classList:["ardplayer-icon","ardplayer-icon-playlist"],accessibilityKey:"playlist"};return 0===this.playlists.length?[]:null!==this.bookmarkPlaylistId&&this.mc.id?[e,t]:[t]}get isBookmarked(){var e,t,i;return(0,E.SL)(this.mc.id)&&(0,E.SL)(this.bookmarkPlaylistId)&&null!==(i=null===(t=null===(e=this.playlists.find((e=>e.id===this.bookmarkPlaylistId)))||void 0===e?void 0:e.items)||void 0===t?void 0:t.some((e=>e.id===this.mc.id)))&&void 0!==i&&i}register(){return!!super.register()&&(this.eventDispatcher=new y.J(this.player),this.eventDispatcher.addEventListener("Playlist.setPlayingItem",(e=>{this.setPlayingItem(e.playlistId,e.itemId)})),this.eventDispatcher.addEventListener("Playlist.removeItem",(e=>{this.removeItem(e.playlistId,e.itemId)})),this.eventDispatcher.addEventListener("Playlist.init",(e=>{this.init(e)})),this.eventDispatcher.addEventListener("Playlist.setPlaylist",(e=>{this.updatePlaylist(e)})),this.eventDispatcher.addEventListener("Playlist.showNextUp",(e=>{(0,E.SL)(e.itemId)&&(0,E.SL)(e.title)?(this.nextUp=e,this.showToast(e.title)):(this.hideToast(),this.nextUp=null),this.updateSkipButtons()})),0===this.playlists.length?this.eventDispatcher.dispatchEvent("Playlist.load",{}):(this.renderButtons(),this.updateSkipButtons()),this.onStreamEnd=this.onStreamEnd.bind(this),this.player.addEventListener("Player.EVENT_END_STREAM",this.onStreamEnd),!0)}parcelData(){return 0===this.playlists.length?null:{playlists:this.playlists,bookmarkPlaylistId:this.bookmarkPlaylistId,activeTabIndex:this.activeTabIndex,playingListIndex:this.playingListIndex,playingItemId:this.playingItemId}}restoreParceledData(e){this.playlists=e.playlists,this.bookmarkPlaylistId=e.bookmarkPlaylistId,this.activeTabIndex=e.activeTabIndex,this.playingListIndex=e.playingListIndex,this.playingItemId=e.playingItemId}dispose(){var e;super.dispose(),this.comingUpTitle=null,null===(e=this.eventDispatcher)||void 0===e||e.dispose(),this.eventDispatcher=null,this.player.removeEventListener("Player.EVENT_END_STREAM",this.onStreamEnd)}renderToDisplayList(e,t){e.title="Meine Listen"}onDomRendered(e,t,i){var r;null===(r=e.parentElement)||void 0===r||r.classList.add("ardplayer-addon-playlist-sheet"),this.playlistContainer=this.renderPlaylist(e),this.renderTabs()}onScreenClosed(e){super.onScreenClosed(e),this.playlistContainer=null}addonButtonClicked(e,t){var i,r;"bookmark"!==t.screen?super.addonButtonClicked(e,t):null===(i=this.eventDispatcher)||void 0===i||i.dispatchEvent("Playlist.toggleBookmark",{itemId:null!==(r=this.mc.id)&&void 0!==r?r:""})}eventSetupView(e){var t;super.eventSetupView(e),this.skipButtonNext=e.controller.playerView.querySelector(".ardplayer-button-nextclip"),this.skipButtonPrev=e.controller.playerView.querySelector(".ardplayer-button-prevclip"),this.onClick(this.skipButtonNext,(()=>{var e,t;if(null!==this.nextUp)null===(e=this.eventDispatcher)||void 0===e||e.dispatchEvent("Playlist.userSelectItem",{playlistId:this.nextUp.playlistId,itemId:this.nextUp.itemId});else if(null!==this.playingListIndex){const e=this.playlists[this.playingListIndex];null===(t=this.eventDispatcher)||void 0===t||t.dispatchEvent("Playlist.userSelectItem",{playlistId:e.id,itemId:e.items[e.items.findIndex((e=>e.id===this.playingItemId))+1].id})}})),this.onClick(this.skipButtonPrev,(()=>{var e;if(null!==this.playingListIndex){const t=this.playlists[this.playingListIndex];null===(e=this.eventDispatcher)||void 0===e||e.dispatchEvent("Playlist.userSelectItem",{playlistId:t.id,itemId:t.items[t.items.findIndex((e=>e.id===this.playingItemId))-1].id})}}));const i=document.createElement("div");i.className="ardplayer-addon-playlist-coming-up",this.comingUpTitle=document.createElement("p");const r=document.createElement("button");r.className="ardplayer-icon ardplayer-icon-close",this.onClick(r,(()=>{this.player.getTarget().classList.remove("ardplayer-state-coming-up")})),i.append(this.comingUpTitle,r),null===(t=e.viewport)||void 0===t||t.appendChild(i),this.updateSkipButtons()}showToast(e){this.isAudioView&&(0,E.SL)(e)&&this.comingUpTitle?(this.player.getTarget().classList.add("ardplayer-state-coming-up"),this.comingUpTitle.textContent=e):this.hideToast()}hideToast(){this.player.getTarget().classList.remove("ardplayer-state-coming-up")}onStreamEnd(){var e;if(null!==this.playingListIndex&&(0,E.SL)(this.playingItemId)){this.log("stream ended, next playlist item");const t=this.playlists[this.playingListIndex],i=t.items.findIndex((e=>e.id===this.playingItemId));i+1<t.items.length&&(null===(e=this.eventDispatcher)||void 0===e||e.dispatchEvent("Playlist.userSelectItem",{playlistId:t.id,itemId:t.items[i+1].id}))}this.hideToast()}init(e){if(this.playingListIndex=e.playlists.findIndex((t=>t.id===e.activePlaylistId)),this.playingItemId=(0,E.fp)(e.playingItemId)?null:e.playingItemId,this.bookmarkPlaylistId=(0,E.fp)(e.bookmarkPlaylistId)?null:e.bookmarkPlaylistId,null!==this.activeTabIndex){const t=this.playlists[this.activeTabIndex].id,i=e.playlists.findIndex((e=>e.id===t));this.activeTabIndex=-1!==i?i:null}if(null===this.activeTabIndex&&(this.activeTabIndex=-1!==this.playingListIndex?this.playingListIndex:e.playlists.length>0?0:null),this.playlists=e.playlists,this.playlistContainer){const e=this.playlistContainer.parentElement;this.playlistContainer.remove(),this.playlistContainer=e?this.renderPlaylist(e):null}this.renderButtons(),this.updateSkipButtons()}renderTabs(){var e;this.setTabs(this.playlists.map((e=>e.title)),null!==(e=this.activeTabIndex)&&void 0!==e?e:-1,(e=>{if(this.log("tab selected",this.playlists[e].id),this.activeTabIndex!==e&&(this.activeTabIndex=e,this.playlistContainer)){const e=this.playlistContainer.parentElement;this.playlistContainer.remove(),this.playlistContainer=e?this.renderPlaylist(e):null}}))}updateSkipButtons(){if(this.skipButtonNext&&this.skipButtonPrev){if(null!==this.playingListIndex||null!==this.nextUp){this.skipButtonNext.style.display="block",this.skipButtonPrev.style.display="block";const e=null===this.playingListIndex||this.playingListIndex<0?-1:this.playlists[this.playingListIndex].items.findIndex((e=>e.id===this.playingItemId)),t=null!==this.nextUp||null!==this.playingListIndex&&e>=0&&e+1<this.playlists[this.playingListIndex].items.length;this.skipButtonNext.classList.toggle("ardplayer-button-disabled",!t),this.skipButtonPrev.classList.toggle("ardplayer-button-disabled",e<=0)}else this.skipButtonNext.style.display="none",this.skipButtonPrev.style.display="none";this.player.viewCtrl.evalAccessibility(this.skipButtonNext,"playlistNext"),this.player.viewCtrl.evalAccessibility(this.skipButtonPrev,"playlistPrev")}}updatePlaylist(e){const t=this.playlists.findIndex((t=>t.id===e.id));if(-1===t)this.playlists.push(e);else if(this.playlists[t]=e,this.activeTabIndex===t&&this.playlistContainer){const e=this.playlistContainer.parentElement;this.playlistContainer.remove(),this.playlistContainer=e?this.renderPlaylist(e):null}this.renderTabs(),e.id===this.bookmarkPlaylistId&&this.mc.id&&this.renderButtons(),t===this.playingListIndex&&this.updateSkipButtons()}renderPlaylist(e){const t=document.createElement("div");if(t.className="ardplayer-container-vertical",e.appendChild(t),null===this.activeTabIndex)return t;const i=this.playlists[this.activeTabIndex];this.log("rendering playlist",i.id,i.title);const r=this.activeTabIndex!==this.playingListIndex||(0,E.fp)(this.playingItemId)?null:this.playingItemId,n=!1!==i.isEditable;if(0===i.items.length){const e=document.createElement("i");e.classList.add("ardplayer-icon",(0,E.fp)(i.iconClass)?"ardplayer-icon-info":i.iconClass),f.SD.createHorizontalContainer(t,"ardplayer-playlist-empty").appendChild(e),f.SD.renderBodyText(f.SD.createHorizontalContainer(t,"ardplayer-playlist-empty"),(0,E.fp)(i.emptyState)?"Diese Liste enth\xe4lt bisher keine Eintr\xe4ge":i.emptyState,"",!0)}else i.items.forEach(((e,a)=>{var s;const l=document.createElement("div");l.className="ardplayer-container-horizontal ardplayer-container-start ardplayer-playlist-item",l.dataset.id=e.id,l.tabIndex=0;const o=document.createElement("span");o.className="ardplayer-playlist-item-number",o.innerText=String(null!==(s=e.index)&&void 0!==s?s:a+1),e.id===r&&(l.classList.add("ardplayer-playlist-item-current"),o.classList.add("ardplayer-icon","ardplayer-icon-playlist-playing"));const d=document.createElement("p");d.className="ardplayer-playlist-item-title",d.innerText=e.title;const u=document.createElement("span");if(u.className="ardplayer-playlist-item-duration",e.duration&&(u.innerText=h(1e3*e.duration,!0)),l.append(o,d,u),n){const t=document.createElement("button");t.className="ardplayer-icon ardplayer-icon-close",l.append(t),(0,E.nx)(t,(t=>{var r;this.log("close clicked",i.id,e.id),t.stopPropagation(),null===(r=this.eventDispatcher)||void 0===r||r.dispatchEvent("Playlist.userRemoveItem",{itemId:e.id,playlistId:i.id})}),this.executionContextProvider)}(0,E.nx)(l,(()=>{var t;this.log("playlist item selected",i.id,e.id),null===(t=this.eventDispatcher)||void 0===t||t.dispatchEvent("Playlist.userSelectItem",{itemId:e.id,playlistId:i.id})}),this.executionContextProvider),t.appendChild(l)}));return t}removeItem(e,t){if(this.log("removing playlist item",e,t),(0,E.fp)(e)||(0,E.fp)(t))return;const i=this.playlists.findIndex((t=>t.id===e));if(-1!==i){if(this.playlists[i].items=this.playlists[i].items.filter((e=>e.id!==t)),this.playlistContainer&&this.activeTabIndex===i){const e=this.playlistContainer.parentElement;this.playlistContainer.remove(),this.playlistContainer=e?this.renderPlaylist(e):null}e===this.bookmarkPlaylistId&&this.mc.id&&this.renderButtons()}}setPlayingItem(e,t){var i;if(this.log("set playing item",e,t),this.playingListIndex=this.playlists.findIndex((t=>t.id===e)),this.playingItemId=t,this.playlistContainer&&(this.playlistContainer.querySelectorAll(".ardplayer-playlist-item-current").forEach((e=>{e.classList.remove("ardplayer-playlist-item-current"),e.firstElementChild&&(e.firstElementChild.className="ardplayer-playlist-item-number")})),null!==this.activeTabIndex&&null!==t&&this.playlists[this.activeTabIndex].id===e)){const e=this.playlistContainer.querySelector(".ardplayer-playlist-item[data-id="+t+"]");null==e||e.classList.add("ardplayer-playlist-item-current"),null===(i=null==e?void 0:e.firstElementChild)||void 0===i||i.classList.add("ardplayer-icon","ardplayer-icon-playlist-playing")}this.updateSkipButtons()}}var w=i(1821);class C extends r.Ky{constructor(){var e;super(...arguments),this.ID="AddonAirplay",this.configKey="airplay",this.isAudioView=this.player.isAudio&&!(null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e),this.buttonClassList=new Set(["ardplayer-btn-airplay","ardplayer-icon","ardplayer-icon-airplay"]),this.enabled=!1,this.active=!1}get buttonOrder(){return r.Ky.BUTTON_ORDER_RIGHTMOST}listAddonButtons(){return this.isAudioView?[{classList:Array.from(this.buttonClassList),accessibilityKey:"airplay"}]:[]}listSecondaryAddonButtons(){return this.isAudioView?[]:[{classList:Array.from(this.buttonClassList),accessibilityKey:"airplay"}]}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.SETUP_VIEW,this.eventSetupView),this.log("Addon registered: AddonAirplay"),this.enabled=!1,this.active=!1,!0)}eventSetupView(e){this.isSupported()&&this.setupView(e)}setupView(e){this.addonButtonClicked=this.addonButtonClicked.bind(this),this.addAirPlayListeners=this.addAirPlayListeners.bind(this),this.updateAvailable=this.updateAvailable.bind(this),this.updateWireless=this.updateWireless.bind(this),this.updateButton(),this.registerPlayerEvent(a.J.EVENT_READY,this.addAirPlayListeners)}addAirPlayListeners(){if(this.player.isAudio){const e=w._.createAudio(this.player);e.addEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}else{const e=w._.createVideo(this.player);e.addEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}}dispose(){if(super.dispose(),this.player.isAudio){const e=w._.createAudio(this.player);e.removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}else{const e=w._.createVideo(this.player);e.removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}}updateAvailable(e){switch(e.availability){case"available":w._.createVideo(this.player).removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),this.enabled=!0;break;case"not-available":this.enabled=!1}this.updateButton()}updateWireless(e){var t,i;this.active=null!==(i=null===(t=e.target)||void 0===t?void 0:t.webkitCurrentPlaybackTargetIsWireless)&&void 0!==i&&i;const r=this.player.getCtrl();if(r){r.remotePlaybackDevice=this.active?{kind:"airplay",deviceName:null,displayName:null}:null;const e=this.player.model.time,t=i=>{var r;i.currentTime!==e&&(this.player.loop.removeEventListener(a.J.EVENT_UPDATE_STREAM_TIME,t),null===(r=this.executionContextProvider)||void 0===r||r.withOptionalExecutionContext(this.executionContextProvider.getPreservedExecutionContext(a.J.EVENT_PLAY_STREAM),(()=>{this.player.loop.dispatchEvent(a.J.EVENT_INITIAL_FRAME,{})})))};this.player.loop.addEventListener(a.J.EVENT_UPDATE_STREAM_TIME,t)}this.active&&this.player.safeTimeout((()=>{this.player.playInternal()}),1e3),this.updateButton()}updateButton(){var e,t;this.player.viewCtrl.toggleForceControlsVisible(this.ID,this.active),this.active?(this.buttonClassList.add("active"),null===(e=this.player.viewCtrl)||void 0===e||e.playerView.classList.add("ardplayer-state-airplay","ardplayer-state-casting-volumecontrol")):(this.buttonClassList.delete("active"),null===(t=this.player.viewCtrl)||void 0===t||t.playerView.classList.remove("ardplayer-state-airplay","ardplayer-state-casting-volumecontrol")),this.enabled?this.buttonClassList.delete("ardplayer-button-disabled"):this.buttonClassList.add("ardplayer-button-disabled"),this.buttons.length>0?this.buttons[0].button.className=Array.from(this.buttonClassList).join(" "):this.secondaryButtons.length>0?this.secondaryButtons[0].button.className=Array.from(this.buttonClassList).join(" "):(this.renderButtons(),this.renderSecondaryButtons())}isSupported(){var e;return!(null!==(e=this.conf.isDisabled)&&void 0!==e&&e)&&window.WebKitPlaybackTargetAvailabilityEvent}secondaryAddonButtonClicked(){this.addonButtonClicked()}addonButtonClicked(){if(0===this.player.model.playstate){this.player.playInternal();const e=()=>{this.player.loop.removeEventListener(a.J.EVENT_PLAY_STREAM,e),this.player.safeTimeout((()=>{this.player.pauseInternal()})),this.addonButtonClicked()};return this.player.loop.addEventListener(a.J.EVENT_PLAY_STREAM,e),!1}return this.isAudioView?w._.createAudio(this.player).webkitShowPlaybackTargetPicker():w._.createVideo(this.player).webkitShowPlaybackTargetPicker(),!1}}var T=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))},A={exports:{name:"chromecast",library:()=>T(void 0,void 0,void 0,(function*(){return(yield i.e(988).then(i.bind(i,2347))).default})),canPlay:()=>!0,priority:1,canSubSelectQualities:()=>!1}},k=i(3675),_=i.n(k),I=i(5996);class P extends r.Ky{get buttonOrder(){return r.Ky.BUTTON_ORDER_RIGHTMOST}listAddonButtons(){return this.isAudioView?[{classList:Array.from(this.launcherClassList),accessibilityKey:"chromecast",accessibilityVariables:{pressed:!1}}]:[]}listSecondaryAddonButtons(){return this.isAudioView?[]:[{classList:Array.from(this.launcherClassList),accessibilityKey:"chromecast",accessibilityVariables:{pressed:!1}}]}constructor(e){var t;super(e),this.launcherClassList=new Set(["cast-wrapper","ardplayer-btn-chromecast","ardplayer-icon","ardplayer-icon-chromecast"]),this.isAudioView=this.player.isAudio&&!(null!==(t=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==t&&t),this.remoteCtx=null,this.remotePlayer=null,this.remotePlayerController=null,this.connectTimeout=-1,this.apiInjected=!1,this.notifyMutex=!1,this.ID="AddonChromecast",this.configKey="chromecast",this.emap=new(_())}get isPlayingInstance(){return I.K.get(I.K.SUFFIX_GLOBAL,I.K.CURRENT_PLAYERID,!0)===this.player.getId()}register(){if(!super.register())return!1;if(this.log("register chromecast"),this.registerPlayerEvent(a.J.SETUP_VIEW,this.eventSetupView),window.__onGCastApiAvailable=this.onCastAvailable.bind(this),P.apiInjected||!window.chrome||window.chrome.cast)this.log("api injected?",P.apiInjected);else{this.log("injecting api"),P.apiInjected=!0,this.apiInjected=!0;const e=document.createElement("script");e.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",e.async=!0,document.body.appendChild(e)}return I.K.for(this.player).storageListeners.add(this),!0}dispose(){window.__onGCastApiAvailable=null,I.K.for(this.player).storageListeners.delete(this),super.dispose(),this.emap.all()}eventSetupView(e){this.apiInjected||!0!==window.__onGCastApiAvailableFlag||this.onCastAvailable(!0)}onStorageValueChanged(e,t){e!==P.NOTIFY_KEY||this.notifyMutex||(this.notifyMutex=!0,this.onCastAvailable(t))}onCastAvailable(e){if(this.log("onCastAvailable: "+String(e),"(injected:"+String(P.apiInjected)+","+String(this.apiInjected)+")"),window.__onGCastApiAvailableFlag!==e&&(this.notifyMutex=!0,I.K.add(I.K.SUFFIX_GLOBAL,P.NOTIFY_KEY,e,!0,!0)),window.__onGCastApiAvailableFlag=e,!e)return void this.log("chromecast not available (non-https or localhost used?)");const t={receiverApplicationId:(0,E.fp)(this.conf.receiverApplicationId)?chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID:this.conf.receiverApplicationId,autoJoinPolicy:chrome.cast.AutoJoinPolicy.PAGE_SCOPED};this.remoteCtx=cast.framework.CastContext.getInstance(),this.remoteCtx.setOptions(t),this.handleCastState(this.remoteCtx.getCastState()),this.emap.map(this.remoteCtx,cast.framework.CastContextEventType.CAST_STATE_CHANGED,(e=>{this.log("CAST_STATE_CHANGED",e),this.onCastStateChanged(e)})),this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.emap.map(this.remotePlayerController,cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,(e=>{this.connectTimeout>=0&&("BUFFERING"===e.value||"PLAYING"===e.value)&&(this.log("statechange",e.value),clearTimeout(this.connectTimeout),this.connectTimeout=-1)})),this.emap.map(this.remotePlayerController,cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,(()=>{var e;if(null===cast||void 0===cast?void 0:cast.framework){const t=null===(e=this.remotePlayer)||void 0===e?void 0:e.isConnected;this.log("isConnected: "+String(t)+", playingInstance: "+String(this.isPlayingInstance)),t&&this.isPlayingInstance||(this.player.removeForcedPlugin(),this.player.loop.dispatchEvent(a.J.REMOTE_PLAYBACK_CHANGED,{isRemote:!1}))}}))}castingStarted(){var e,t,i,r;null===(e=this.player.getCtrl())||void 0===e||e.stopOtherPlayingPlayers();const n=null===(i=null===(t=cast.framework.CastContext.getInstance())||void 0===t?void 0:t.getCurrentSession())||void 0===i?void 0:i.getCastDevice();this.player.forcePlugin(A.exports),this.player.loop.dispatchEvent(a.J.REMOTE_PLAYBACK_CHANGED,{isRemote:!0,device:{kind:"chromecast",displayName:null!==(r=null==n?void 0:n.friendlyName)&&void 0!==r?r:null,deviceName:null}}),this.connectTimeout=this.player.safeTimeout((()=>{var e,t,i;const r=null!==(t=null===(e=this.remoteCtx)||void 0===e?void 0:e.getCastState())&&void 0!==t?t:"NULL";this.log("cast playback failed to initialise, try to end session",r),r!==cast.framework.CastState.CONNECTED&&r!==cast.framework.CastState.CONNECTING||null===(i=this.remoteCtx)||void 0===i||i.endCurrentSession(!0)}),3e4),this.launcherClassList.delete("cast-wrapper-hide"),this.launcherClassList.delete("ardplayer-icon-chromecast"),this.launcherClassList.add("ardplayer-button-active"),this.launcherClassList.add("ardplayer-icon-chromecast-connected"),this.updateButton()}onCastStateChanged(e){const t=e.castState;this.handleCastState(t)}handleCastState(e){this.log("CAST_STATE_CHANGED",e),e===cast.framework.CastState.NO_DEVICES_AVAILABLE?this.launcherClassList.add("cast-wrapper-hide"):e===cast.framework.CastState.NOT_CONNECTED&&(this.launcherClassList.delete("cast-wrapper-hide"),this.launcherClassList.delete("ardplayer-button-active"),this.launcherClassList.delete("ardplayer-icon-chromecast-connected"),this.launcherClassList.add("ardplayer-icon-chromecast")),this.updateButton()}updateButton(){this.buttons.length>0?this.buttons[0].button.className=Array.from(this.launcherClassList).join(" "):this.secondaryButtons.length>0?this.secondaryButtons[0].button.className=Array.from(this.launcherClassList).join(" "):(this.renderButtons(),this.renderSecondaryButtons())}secondaryAddonButtonClicked(){this.addonButtonClicked()}addonButtonClicked(){var e;if(this.log("castButtonClicked",this.player),this.remoteCtx){const t=this.remoteCtx,i=t.getCastState();this.log("castButtonClicked: "+i),i===cast.framework.CastState.NO_DEVICES_AVAILABLE||(i===cast.framework.CastState.NOT_CONNECTED?(this.isPlayingInstance||null===(e=this.player.getCtrl())||void 0===e||e.stopOtherPlayingPlayers(),t.requestSession().then((()=>{try{this.player.checkState()}catch(e){return void this.warn("aborting async",e)}this.castingStarted()})).catch((e=>{this.log("cast error",e)}))):i===cast.framework.CastState.CONNECTED?this.isPlayingInstance?t.endCurrentSession(!0):(this.warn("replacing session"),this.log("now current player?",this.isPlayingInstance),t.requestSession().then((()=>{try{this.player.checkState()}catch(e){return void this.warn("aborting async",e)}this.castingStarted()})).catch((e=>{this.log("cast error",e)}))):cast.framework.CastState.CONNECTING)}}isSupported(){return!n.q.browserIsSafari&&!!window.chrome&&("https:"===document.location.protocol||/^localhost(:\d+)?$/.test(document.location.host))}}P.apiInjected=!1,P.NOTIFY_KEY="ardplayer_chromecast_notify";var L=P;class x extends c.p{constructor(){super(...arguments),this.ID="AddonDownload",this.configKey="download",this.displayNames=[],this.qualities=[],this.selectedQuality=0}get buttonOrder(){return 7}listAddonButtons(){return[{accessibilityKey:"download",screen:"downloadMain",classList:["ardplayer-button-download","ardplayer-icon","ardplayer-icon-download"]}]}renderToDisplayList(e,t){e.title="Download",m.mf.renderSelect(e,"Qualit\xe4t",this.displayNames,this.selectedQuality,(e=>{this.selectedQuality=e})),m.mf.renderButton(m.mf.createHorizontalContainer(e,"ardplayer-container-end"),"Download",(()=>{this.log("downloading",this.displayNames[this.selectedQuality],this.qualities[this.selectedQuality]);const e=document.createElement("a");e.href=this.qualities[this.selectedQuality],e.target="_blank",e.download=this.qualities[this.selectedQuality].substr(this.qualities[this.selectedQuality].lastIndexOf("/")+1),document.body.append(e),e.click(),e.remove()}))}isSupported(){var e;return!(!super.isSupported()||this.player.isLive||null===(e=this.conf.isEnabled)||void 0===e||!e)&&(this.player.model.mediaCollection.streams.forEach((e=>{e.media.forEach(((t,i)=>{"application/vnd.apple.mpegurl"!==t.mimeType&&"application/dash+xml"!==t.mimeType&&(this.displayNames.push(e.streamLabel(i)),this.qualities.push(t.url))}))})),this.qualities.length>0)}}var M=i(9803);class O extends c.p{constructor(){super(...arguments),this.ID="AddonInfo",this.configKey="info",this.infoProvider=null,this.isButtonRendered=!1}get buttonOrder(){return 2}listAddonButtons(){return this.isButtonRendered=this.isButtonVisible,this.isButtonVisible?[{accessibilityKey:"info",screen:"infoMain",classList:["ardplayer-button-info","ardplayer-icon","ardplayer-icon-info"]}]:[]}setInfoProvider(e){this.infoProvider=e}updateInfo(){var e,t,i,r,n;(null===(t=null===(e=this.bottomSheet)||void 0===e?void 0:e.activeScreen)||void 0===t?void 0:t.addon)===this&&(this.hasStaticInfo||this.hasDynamicInfo?null===(i=this.bottomSheet)||void 0===i||i.nextScreen(this,null===(r=this.bottomSheet)||void 0===r?void 0:r.activeScreen.screenId,null):null===(n=this.bottomSheet)||void 0===n||n.prevScreen(null)),this.isButtonRendered!==this.isButtonVisible&&this.renderButtons()}renderToDisplayList(e,t){var i,r;if(e.title="Info",null===(i=this.infoProvider)||void 0===i?void 0:i.renderCurrentInfoToDisplayList(e))return;const n=this.mc.meta;if((0,E.SL)(n.availableToDateTime)){const t=864e5,i=14*t,r=new Date(n.availableToDateTime).getTime()-Date.now();r<=i&&r>0&&m.mf.renderChip(e,"Noch "+Math.ceil(r/t)+" Tag"+(r>t?"e":""),"",!0)}(0,E.SL)(n.title)?m.mf.renderHeading(e,n.title,"Titel"):(0,E.SL)(n.seriesTitle)&&m.mf.renderHeading(e,n.seriesTitle,"Sendereihe"),(0,E.SL)(n.broadcastedOnDateTime)&&m.mf.renderByline(e,p(n.broadcastedOnDateTime,!1),"Ver\xf6ffentlichungsdatum"),(0,E.SL)(n.title)&&(0,E.SL)(n.seriesTitle)&&m.mf.renderByline(e,n.seriesTitle,"Sendereihe"),n.publicationService&&(0,E.SL)(null===(r=n.publicationService)||void 0===r?void 0:r.name)&&m.mf.renderByline(e,n.publicationService.name,"Sender"),n.maturityContentRating&&m.mf.renderChip(e,"fsk"===n.maturityContentRating.kind?"FSK "+n.maturityContentRating.age:n.maturityContentRating.age+"+","Altersbeschr\xe4nkung"),this.mc.isLive&&m.mf.renderChip(e,"LIVE","Live\xfcbertragung"),(this.mc.subtitles.length>0||this.mc.streams.some((e=>"subtitle-burn-in"===e.kind)))&&m.mf.renderChip(e,"UT","Untertitel vorhanden"),this.mc.streams.some((e=>"sign-language"===e.kind))&&m.mf.renderChip(e,"DGS","Geb\xe4rdensprache vorhanden"),this.mc.streams.some((e=>e.media.some((e=>e.audios.some((e=>"audio-description"===e.kind))))))&&m.mf.renderChip(e,"AD","Audiodeskription vorhanden"),(0,E.SL)(n.synopsis)&&m.mf.renderBodyText(e,n.synopsis,"Zusammenfassung"),(0,E.SL)(n.clipSourceName)&&m.mf.renderByline(e,"Quelle: "+n.clipSourceName);const a=(0,M.g0)([this.player.viewCtrl.POSTER_IMAGE_TYPE_DEFAULT,"preview"],this.player.model).imageSourceName;(0,E.SL)(a)&&m.mf.renderByline(e,"Bildquelle: "+a),(0,E.SL)(n.availableToDateTime)&&m.mf.renderByline(e,"Verf\xfcgbar bis: "+p(n.availableToDateTime))}get hasStaticInfo(){const e=this.mc.meta;return(0,E.SL)(e.synopsis)||(0,E.SL)(e.title)||(0,E.SL)(e.seriesTitle)}get hasDynamicInfo(){var e;return!0===(null===(e=this.infoProvider)||void 0===e?void 0:e.hasCurrentInfo())}get isButtonVisible(){return this.hasStaticInfo||this.hasDynamicInfo}isSupported(){return!!super.isSupported()&&(this.hasStaticInfo||this.mc.isLive)}}var D=i(5491),V=i(1027),N=i(2333),R=i.n(N);class B extends c.x{constructor(){super(...arguments),this.ID="AddonSharing",this.configKey="sharing",this.videoDuration=0,this.startTime=-1,this.endTime=-1,this.subClipping=!1,this.streamDurationCallback=null}get buttonOrder(){return 5}get requiresDom(){return!0}eventSetupView(e){super.eventSetupView(e),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_DURATION,(()=>{null!==this.streamDurationCallback&&this.streamDurationCallback()}))}onScreenClosed(e){super.onScreenClosed(e),this.streamDurationCallback=null}listAddonButtons(){return[{classList:["ardplayer-button-sharing","ardplayer-icon",n.q.isIOSDevice?"ardplayer-icon-sharing-ios":"ardplayer-icon-sharing"],screen:"initial",accessibilityKey:"sharing"}]}get embedTitle(){return(0,E.SL)(this.conf.embedDialogTitle)?this.conf.embedDialogTitle:(this.player.isAudio?"Audio":"Video")+" Einbetten"}renderToDisplayList(e,t){e.title="embed"===t?this.embedTitle:"Teilen","initial"===t&&m.mf.createHorizontalScrollingContainer(e,"",".ardplayer-sharing-button")}onDomRendered(e,t,i){switch(i){case"initial":return void this.renderInitialScreen(e,t);case"embed":this.renderEmbedScreen(e,t)}}renderInitialScreen(e,t){var i,r,n,a,s,l;null===(i=e.parentElement)||void 0===i||i.classList.add("ardplayer-bottom-sheet-sharing");const o=e.firstElementChild;let d=!1,u=!1,c=!1;if(null===(r=this.conf.services)||void 0===r||r.forEach((e=>{var t,i,r,n,a,s;if("object"==typeof e)switch(e.id){case"email":c=e;break;case"embed":d=e;break;case"url":u=e;break;case"whatsapp":this.renderLinkButton(o,["ardplayer-icon-sharing-whatsapp",(0,E.SL)(e.class)?e.class:""],(0,E.SL)(e.title)?e.title:"Bei Whatsapp teilen","Whatsapp",(0,E.SL)(e.target)?e.target:"https://api.whatsapp.com/send?text=$link$",null!==(t=e.targetParams)&&void 0!==t?t:{});break;case"facebook":this.renderLinkButton(o,["ardplayer-icon-sharing-facebook",(0,E.SL)(e.class)?e.class:""],(0,E.SL)(e.title)?e.title:"Bei Facebook teilen","Facebook",(0,E.SL)(e.target)?e.target:"https://www.facebook.com/sharer.php?u=$link$",null!==(i=e.targetParams)&&void 0!==i?i:{});break;case"fb-messenger":this.renderLinkButton(o,["ardplayer-icon-sharing-fb-messenger",(0,E.SL)(e.class)?e.class:""],(0,E.SL)(e.title)?e.title:"Bei Facebook Messenger teilen","Messenger",(0,E.SL)(e.target)?e.target:"fb-messenger://share?link=$link$",null!==(r=e.targetParams)&&void 0!==r?r:{});break;case"threema":this.renderLinkButton(o,["ardplayer-icon-sharing-threema",(0,E.SL)(e.class)?e.class:""],(0,E.SL)(e.title)?e.title:"Bei Threema teilen","Threema",(0,E.SL)(e.target)?e.target:"threema://compose?text=$link$",null!==(n=e.targetParams)&&void 0!==n?n:{});break;case"telegram":this.renderLinkButton(o,["ardplayer-icon-sharing-telegram",(0,E.SL)(e.class)?e.class:""],(0,E.SL)(e.title)?e.title:"Bei Telegram teilen","Telegram",(0,E.SL)(e.target)?e.target:"tg://msg?text=$link$",null!==(a=e.targetParams)&&void 0!==a?a:{});break;case"twitter":this.renderLinkButton(o,["ardplayer-icon-sharing-twitter",(0,E.SL)(e.class)?e.class:""],(0,E.SL)(e.title)?e.title:"Bei Twitter teilen","Twitter",(0,E.SL)(e.target)?e.target:"https://twitter.com/intent/tweet?url=$link$",null!==(s=e.targetParams)&&void 0!==s?s:{})}else switch(e){case"email":c=c||{};break;case"embed":d=d||{};break;case"url":u=u||{};break;case"whatsapp":this.renderLinkButton(o,["ardplayer-icon-sharing-whatsapp"],"Bei Whatsapp teilen","Whatsapp","https://api.whatsapp.com/send?text=$link$");break;case"facebook":this.renderLinkButton(o,["ardplayer-icon-sharing-facebook"],"Bei Facebook teilen","Facebook","https://www.facebook.com/sharer.php?u=$link$");break;case"fb-messenger":this.renderLinkButton(o,["ardplayer-icon-sharing-fb-messenger"],"Bei Facebook Messenger teilen","Messenger","fb-messenger://share?link=$link$");break;case"threema":this.renderLinkButton(o,["ardplayer-icon-sharing-threema"],"Bei Threema teilen","Threema","threema://compose?text=$link$");break;case"telegram":this.renderLinkButton(o,["ardplayer-icon-sharing-telegram"],"Bei Telegram teilen","Telegram","tg://msg?text=$link$");break;case"twitter":this.renderLinkButton(o,["ardplayer-icon-sharing-twitter"],"Bei Twitter teilen","Twitter","https://twitter.com/intent/tweet?url=$link$")}})),u){const e=this.renderLinkButton(o,["ardplayer-icon-sharing-url"],"Link kopieren","Link kopieren",null!==(a=null===(n=this.conf.link)||void 0===n?void 0:n.replace("$params$",""))&&void 0!==a?a:"",{},(t=>{var i,r;const n=()=>{e.classList.remove("ardplayer-icon-sharing-url"),e.classList.add("ardplayer-icon-checkmark"),this.player.safeTimeout((()=>{e.classList.remove("ardplayer-icon-checkmark"),e.classList.add("ardplayer-icon-sharing-url")}),1e3)};if(null===(i=null===navigator||void 0===navigator?void 0:navigator.clipboard)||void 0===i?void 0:i.writeText){const e=null===(r=null===navigator||void 0===navigator?void 0:navigator.clipboard)||void 0===r?void 0:r.writeText(t);null!=e?e.then((()=>{try{this.player.checkState()}catch(e){return void this.warn("aborting async",e)}n()}),(()=>{alert("Link konnte nicht kopiert werden!")})).catch((()=>{alert("Link konnte nicht kopiert werden!")})):n()}else{const e=document.createElement("input");e.setAttribute("style","position: fixed; top: 0; left: 0; opacity: 0.001;"),o.appendChild(e),e.value=t,this.setAutoCopy(e),this.player.safeTimeout((()=>{e.focus(),n(),this.player.safeTimeout((()=>{o.removeChild(e)}))}))}}))}c&&this.renderLinkButton(o,["ardplayer-icon-sharing-contact"],"Als Mail Teilen","Mail","mailto:?subject="+(null!==(s=this.conf.subject)&&void 0!==s?s:"")+"&body="+(null!==(l=this.conf.body)&&void 0!==l?l:"")),d&&this.renderLinkButton(o,["ardplayer-icon-sharing-embedding"],this.embedTitle,"Einbetten","#",{},(()=>{var e;null===(e=this.bottomSheet)||void 0===e||e.nextScreen(this,"embed",null)}))}renderEmbedScreen(e,t){const[i,r]=f.SD.renderTextField(f.SD.createHorizontalContainer(e),"",this.createEmbedCode(!1),!0,!1,!1);this.setAutoCopy(r);const n=f.SD.renderButton(i,"Kopieren");if((0,E.nx)(n,(()=>{r.focus(),this.player.pixelController.triggerCustomPixel(D.J.SHARE,!1,{method:"embed"})}),this.executionContextProvider),n.classList.add("ardplayer-hide-s"),!this.mc.isLive&&!0!==this.conf.disableSubclipping){const t=f.SD.createHorizontalContainer(e,"ardplayer-sharing-time-container ardplayer-sharing-disabled"),i=f.SD.renderCheckbox(t,"",this.subClipping);f.SD.renderElem(t,"ardplayer-font-body ardplayer-sharing-time-label","Startzeit","","span");const[,n]=f.SD.renderTextField(t,"--:--",B.toDisplayTime(-1!==this.startTime?this.startTime:0),!1,!0);f.SD.renderElem(t,"ardplayer-font-body ardplayer-sharing-time-label","Endzeit","","span");const[,a]=f.SD.renderTextField(t,"--:--",-1!==this.endTime?B.toDisplayTime(this.endTime):"",!1,!0);f.SD.renderElem(t,"ardplayer-font-body ardplayer-sharing-time-label","Dauer","","span");const[,s]=f.SD.renderTextField(t,"--:--",-1!==this.startTime&&-1!==this.endTime?B.toDisplayTime(this.endTime-this.startTime):"",!0,!0),l=()=>{this.videoDuration=this.player.getDuration(),this.endTime=this.videoDuration,n.value=B.toDisplayTime(0),a.value=B.toDisplayTime(this.videoDuration),s.value=B.toDisplayTime(this.endTime-this.startTime)};-1!==this.startTime&&-1!==this.endTime||l(),this.streamDurationCallback=()=>{l()};const o=f.SD.createHorizontalContainer(e,"ardplayer-sharing-slider-container"),d=this.setupRangeSlider(o,n,a,s,r);o.style.display=this.subClipping?"flex":"none";const u=()=>{this.validateIOTimeFields(n,a,s,d,r)};n.addEventListener("blur",u),a.addEventListener("blur",u),n.addEventListener("keyup",(e=>{"enter"===e.key.toLowerCase()&&u()})),a.addEventListener("keyup",(e=>{"enter"===e.key.toLowerCase()&&u()})),i.addEventListener("change",(()=>{this.player.pauseInternal(),this.subClipping=i.checked,n.readOnly=!i.checked,n.disabled=!i.checked,a.readOnly=!i.checked,a.disabled=!i.checked,t.classList.remove("ardplayer-sharing-disabled"),i.checked||t.classList.add("ardplayer-sharing-disabled"),o.style.display=i.checked?"flex":"none",r.value=this.createEmbedCode(i.checked)}))}(0,E.SL)(this.conf.legal)&&f.SD.renderByline(f.SD.createHorizontalContainer(e),this.conf.legal,"",!0)}renderLinkButton(e,t,i,r,a,s,l){var o,d;void 0===s&&(s={});const u=document.createElement("a");u.title=i,u.target="_blank",u.textContent=r,u.classList.add("ardplayer-sharing-button","ardplayer-icon",...t),u.dataset.inititatorName="button-share-"+r;const c=null!==(d=null===(o=this.conf.link)||void 0===o?void 0:o.replace("$params$",""))&&void 0!==d?d:"";for(const n in s){const e=s[n].replace("$title$",this.mc.meta.title).replace("$link$",c);a=a.replace("$"+n+"$",encodeURIComponent(e))}u.href=a.replace(/\$link\$/g,encodeURIComponent(c)),l?(0,E.nx)(u,(e=>(e.preventDefault(),this.player.pixelController.triggerCustomPixel(D.J.SHARE,!1,{method:r}),l(a),!1)),this.executionContextProvider):u.href.startsWith("http")?(0,E.nx)(u,(()=>{this.player.pixelController.triggerCustomPixel(D.J.SHARE,!1,{method:r})}),this.executionContextProvider):(0,E.nx)(u,(e=>{e.preventDefault(),this.player.pixelController.triggerCustomPixel(D.J.SHARE,!1,{method:r});const i=()=>{u.classList.remove(...t),u.classList.add("ardplayer-icon-checkmark"),this.player.safeTimeout((()=>{u.classList.remove("ardplayer-icon-checkmark"),u.classList.add(...t)}),1e3)};let a=!1;const s=()=>{a=!0,n.q.isMobileDevice&&n.q.browserIsSafari?(i(),window.location.href=u.href):l()},l=()=>{a?alert(r+" konnte nicht ge\xf6ffnet werden!"):s()};return R()(u.href,l,i,500,s),!1}),this.executionContextProvider);const h=e.querySelector(".ardplayer-bottom-sheet-horizontal-padding:last-of-type");return h?e.insertBefore(u,h):e.appendChild(u),u}setAutoCopy(e){e.addEventListener("focus",(()=>{e.contentEditable="true",e.readOnly=!1;const t=document.createRange();t.selectNodeContents(e);const i=document.getSelection();null==i||i.removeAllRanges(),null==i||i.addRange(t),this.player.safeTimeout((()=>{e.setSelectionRange(0,999999),document.execCommand("copy"),this.player.safeTimeout((()=>{e.contentEditable="false",e.readOnly=!0}))}))})),e.addEventListener("contextmenu",(function(e){return e.stopPropagation(),!0}))}setupRangeSlider(e,t,i,r,n){e.innerHTML='\n<div class="ardplayer-controlbar ardplayer-iocontrolbar" tabindex="0">\n    <span class="ardplayer-controlbar-bg"></span>\n    <span class="ardplayer-controlbar-bg ardplayer-iocontrolbar-range"></span>\n</div>';const a=V.create(e.querySelector(".ardplayer-iocontrolbar"),{start:[Math.max(this.startTime,0)/this.videoDuration*100,-1===this.endTime?100:Math.min(100,this.endTime/this.videoDuration*100)],connect:!0,range:{min:0,max:100}});return a.on("slide",((e,a)=>{this.player.pauseInternal();const s=Number(e[a])/100;this.player.seekToInternal(this.videoDuration*s),0===a?(this.startTime=this.videoDuration*s,t.value=B.toDisplayTime(this.videoDuration*s)):(this.endTime=this.videoDuration*s,i.value=B.toDisplayTime(this.videoDuration*s)),r.value=B.toDisplayTime(this.endTime-this.startTime),n.value=this.createEmbedCode(!0)})),a}createEmbedCode(e){var t,i;return void 0===e&&(e=!0),(null!==(t=this.conf.embedCode)&&void 0!==t?t:"").replace("$params$",e?(null!==(i=this.conf.params)&&void 0!==i?i:"").replace("$start$",this.startTime.toFixed(2)).replace("$ende$",this.endTime.toFixed(2)):"")}static toDisplayTime(e){const t=Number(e),i=Math.floor(t/3600),r=Math.floor(t%3600/60),n=Math.floor(t%3600%60);return(0===i?"":(i<10?"0":"")+i+":")+(r<10?"0":"")+r+":"+(n<10?"0":"")+n}validateIOTimeFields(e,t,i,r,n){const a=(e,t,i,r)=>{const n=e.value.match(/(\d*)(:\d*)?(:\d*)?/);if(Array.isArray(n)){const a=n[1],s=void 0!==n[2]?n[2].substr(1):void 0,l=void 0!==n[3]?n[3].substr(1):void 0;let o;return o=void 0!==a&&void 0!==s&&void 0!==l?60*Number(a)*60+60*Number(s)+Number(l):void 0!==a&&void 0!==s?60*Number(a)+Number(s):Number(a),(o>i||o<t)&&(o=r),e.value=h(1e3*o,!0),o}return e.value=h(1e3*r,!0),r};this.startTime=a(e,0,this.endTime,this.startTime),this.endTime=a(t,this.startTime,this.videoDuration,this.videoDuration),i.value=B.toDisplayTime(this.endTime-this.startTime),r.set([this.startTime/this.videoDuration*100,this.endTime/this.videoDuration*100]),n.value=this.createEmbedCode(!0)}isSupported(){var e,t;return super.isSupported()&&!this.configEmpty()&&!this.player.model.playerConfig.isEmbedded&&!1!==this.conf.enableSharing&&(0,E.SL)(this.conf.link)&&(null!==(t=null===(e=this.conf.services)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0}}var U,F,H=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},j=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class K extends r.Sh{constructor(){super(...arguments),U.set(this,null),F.set(this,null)}get configKey(){return"tracking"+this.trackingKey}get conf(){if(null===H(this,U,"f")){const e=null!==this.immutableConf&&void 0!==this.immutableConf?JSON.parse(JSON.stringify(this.immutableConf)):{};return j(this,U,e,"f"),e}return H(this,U,"f")}get legacyPixelConfig(){return null===H(this,F,"f")&&j(this,F,this.pc.getPluginData("legacypixelconfig"),"f"),H(this,F,"f")}isSupported(){return super.isSupported()&&!1!==this.immutableConf.isEnabled}}U=new WeakMap,F=new WeakMap;var q=i(3386),W=i(1225);class z{constructor(e){this.delegate=e,this.prevPosition=0,this.prevEvent="",this.sessionId=(0,E.HP)(),this.prevTimestamp=performance.now(),this.isPlaying=!1,this.modifyEventWhitelist=["av.play","av.start","av.pause","av.resume","av.stop","av.heartbeat","av.buffer.start","av.buffer.heartbeat","av.rebuffer.start","av.rebuffer.heartbeat","av.seek.start","av.backward","av.forward"],W.iV.warn("[TrackingPiano]","USING COLLECTION API TRANSFORMER")}track(e){if(null!=e.options&&this.modifyEventWhitelist.includes(e.type)){const t=performance.now();"av.seek.start"===e.type&&(e.options.av_position=e.options.av_previous_position),["av.play","av.pause","av.stop"].includes(e.type)?this.isPlaying=!1:["av.start","av.resume"].includes(e.type)&&(this.isPlaying=!0),(["av.play","av.forward","av.backward"].includes(e.type)||"av.seek.start"===e.type&&!this.isPlaying)&&(this.prevTimestamp=t),e.options.av_prev_position=this.prevPosition,this.prevPosition=e.options.av_position,e.options.av_previous_event=this.prevEvent,this.prevEvent=e.type,e.options.av_duration=t-this.prevTimestamp,this.prevTimestamp=t,"av.stop"===e.type&&(this.prevPosition=0,this.sessionId=(0,E.HP)())}else null===e.options&&(e.options={});e.options.av_session_id=this.sessionId,this.delegate.track(e)}dispose(){this.delegate.dispose()}}var G,J,Y,Q,$,Z,X,ee,te,ie,re,ne=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},ae=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};const se={0:5,1:12,12:15,18:30},le={0:5,1:10,5:60};class oe extends K{constructor(){super(...arguments),this.ID="TrackingPiano",this.trackingKey="Piano",this.delegate=null,this.playbackEvents=[],this.eventWhitelist=[],G.set(this,!0),J.set(this,!1),Y.set(this,!0),Q.set(this,!1),$.set(this,-1),Z.set(this,!1),X.set(this,!1),this.trackStreamEnd=()=>{this.sendEvent("av.stop",{av_position:this.currentPositionMs},{av_interaction_source:this.avInteractionSource()}),this.setHeartbeat(0),ne(this,Y,!0,"f"),ne(this,$,-1,"f"),ne(this,Z,!1,"f"),ne(this,G,!0,"f")},this.trackStreamPlay=()=>{ne(this,Y,!1,"f"),ne(this,$,Math.max(0,this.currentPositionMs),"f"),this.sendEvent("av.play",{av_position:this.currentPositionMs},this.avPlayProperties()),this.sendEvent("av.buffer.start",{av_position:this.currentPositionMs},{}),ne(this,G,!0,"f"),ne(this,J,!1,"f"),ne(this,Z,!1,"f"),this.setHeartbeat(2)},ee.set(this,-1),te.set(this,0),ie.set(this,0),this.beatHeart=()=>{0!==ae(this,te,"f")&&(this.sendEvent(1===ae(this,te,"f")?"av.heartbeat":ae(this,G,"f")?"av.buffer.heartbeat":"av.rebuffer.heartbeat",{av_position:this.currentPositionMs},{}),this.setHeartbeatTimeout())},re.set(this,null)}dispose(){var e;this.trackStreamEnd(),null===(e=this.delegate)||void 0===e||e.dispose(),this.delegate=null,n.q.isEmbedded||window.removeEventListener("pagehide",this.trackStreamEnd),super.dispose()}register(){var e,t;if(super.register()){if("object"==typeof ARDPlayerPianoDelegate)return this.delegate=ARDPlayerPianoDelegate.getTracker(),this.loadConfig(),this.startTracking(),!0;if("web"===n.q.platform){if("function"==typeof(null===(t=null===(e=window.pa)||void 0===e?void 0:e.avInsights)||void 0===t?void 0:t.Media)){try{const e=new window.pa.avInsights.Media;this.log("created web sdk session",e.getSessionID);const t=()=>{this.info("dispose web sdk session",e.getSessionID)};this.delegate={dispose:t,track(t){e.track(t.type,t.options,null,t.properties)}}}catch(e){return this.error("could not create Piano SDK Media instance",e),!1}return this.loadConfig(),this.startTracking(),!0}return this.error("pa.avInsights.Media not found"),!1}}return!1}loadConfig(){var e,t,i,r;!0===(null===(e=this.conf.config)||void 0===e?void 0:e.useCollectionApiTransformer)&&null!=this.delegate&&(this.delegate=new z(this.delegate));const a=this.conf.avContent,s={};if(Object.getOwnPropertyNames(a).forEach((e=>{this.validatePropertyName(e)?s[e]=a[e]:this.warn("discarding invalid mediaProperty",e)})),this.conf.avContent=s,this.conf.avContent.av_player_version=Oe.core.version+"_"+n.q.platform,null===(t=this.conf.config)||void 0===t?void 0:t.dimensionTransform){const e=this.conf.config.dimensionTransform,t={};Object.getOwnPropertyNames(e).forEach((i=>{this.validatePropertyName(i)?this.validatePropertyName(e[i])?t[i]=e[i]:this.warn("ignoring renaming to invalid property key",e[i]):this.warn("ignoring renaming of invalid property key",i)})),this.conf.config.dimensionTransform=t}this.playbackEvents=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t}("av.play","av.buffer.start","av.start","av.pause","av.rebuffer.start","av.resume","av.stop","av.seek.start","av.forward","av.backward","av.heartbeat","av.buffer.heartbeat","av.rebuffer.heartbeat"),this.eventWhitelist=[...this.playbackEvents,...null!==(r=null===(i=this.conf.config)||void 0===i?void 0:i.events)&&void 0!==r?r:[]],this.info("event whitelist:",this.eventWhitelist)}isSupported(){var e,t;if(!super.isSupported())return!1;if(!this.conf.avContent||0===Object.getOwnPropertyNames(this.conf.avContent).length||(0,E.fp)(this.conf.avContent.av_content_id))return this.warn("no avContent or missing av_content_id"),!1;if((0,E.fp)(this.conf.avContent.av_launch_reason)&&this.warn("missing av_launch_reason in config"),"object"!=typeof ARDPlayerPianoDelegate){if("web"!==n.q.platform)return this.error("configured, but no delegate implementation available"),!1;if("function"!=typeof(null===(t=null===(e=window.pa)||void 0===e?void 0:e.avInsights)||void 0===t?void 0:t.Media))return this.error("configured, but neither delegate implementation nor pa.avInsights.Media found"),!1}return!0}startTracking(){const e=this.player.model;n.q.isEmbedded||window.addEventListener("pagehide",this.trackStreamEnd),this.registerPlayerEvent(a.J.EVENT_MEDIUM_CHANGE,(()=>{ne(this,X,!0,"f")})),this.registerPixelEvent("super_initial_play",(()=>{this.trackStreamPlay()})),this.registerPixelEvent("super_replay",(()=>{this.trackStreamPlay()})),this.registerPlayerEvent(a.J.EVENT_PLAY_STREAM,(()=>{ae(this,Y,"f")?this.trackStreamPlay():ae(this,Z,"f")&&!ae(this,Q,"f")&&(ne(this,Z,!1,"f"),this.sendEvent("av.resume",{av_position:this.currentPositionMs},{av_interaction_source:this.avInteractionSource()}),this.setHeartbeat(1))})),this.registerPlayerEvent(a.J.EVENT_INITIAL_FRAME,(()=>{-1!==ae(this,$,"f")&&(this.sendEvent("av.start",{av_position:ae(this,$,"f")},{}),ne(this,$,-1,"f"),this.setHeartbeat(1),ne(this,G,!1,"f"))})),this.registerPlayerEvent(a.J.EVENT_PAUSE_STREAM,(e=>{e.ended||ae(this,Y,"f")||ae(this,Z,"f")||(this.sendEvent("av.pause",{av_position:this.currentPositionMs},{av_interaction_source:this.avInteractionSource()}),ne(this,Z,!0,"f"),this.setHeartbeat(0))})),this.registerPlayerEvent(a.J.EVENT_END_STREAM,this.trackStreamEnd),this.registerPlayerEvent(a.J.EVENT_STOP_STREAM,(()=>{ae(this,X,"f")?ne(this,X,!1,"f"):this.trackStreamEnd()})),this.registerPlayerEvent(a.J.EVENT_SEEK_START_INTENT,(t=>{ae(this,Y,"f")||(ne(this,Q,!0,"f"),this.setHeartbeat(0),2===e.playstate&&this.sendEvent("av.pause",{av_position:this.positionToMs(t.from)},{av_interaction_source:this.avInteractionSource()}),this.sendEvent("av.seek.start",{av_previous_position:this.positionToMs(t.from)},{av_interaction_source:this.avInteractionSource()}),this.sendEvent(t.from<t.to?"av.forward":"av.backward",{av_previous_position:this.positionToMs(t.from),av_position:this.positionToMs(t.to)},{av_interaction_source:this.avInteractionSource()}))})),this.registerPlayerEvent(a.J.EVENT_SEEK_END,(t=>{ae(this,Y,"f")||(ne(this,Q,!1,"f"),2===e.playstate?(ne(this,Z,!1,"f"),this.sendEvent("av.resume",{av_position:this.positionToMs(t.position)},{}),this.setHeartbeat(1)):ne(this,Z,!0,"f"))})),this.registerPlayerEvent(a.J.EVENT_BUFFERING,(t=>{ae(this,Y,"f")||2!==e.playstate||ae(this,Q,"f")||(t.isBuffering?(ne(this,J,!ae(this,G,"f"),"f"),ae(this,J,"f")&&this.sendEvent("av.pause",{av_position:this.currentPositionMs},{av_interaction_source:this.avInteractionSource()}),2!==ae(this,te,"f")&&(this.sendEvent(ae(this,J,"f")?"av.rebuffer.start":"av.buffer.start",{av_position:this.currentPositionMs},{}),this.setHeartbeat(2))):ae(this,J,"f")&&(this.sendEvent("av.resume",{av_position:this.currentPositionMs},{}),this.setHeartbeat(1)))})),this.registerPlayerEvent(a.J.PLAYBACK_RATE_CHANGE,(e=>{this.sendEvent("av.speed",null,{av_speed:e.rate<0?1:e.rate,av_interaction_source:this.avInteractionSource()})})),this.registerPlayerEvent(a.J.EVENT_QUALITY_CHANGE,(e=>{if(!1!==e.toQuality&&e.fromQuality!==e.toQuality){const t=this.player.qualityList.find((t=>t.level===e.toQuality));t&&this.sendEvent("av.quality",null,{av_quality:t.label,av_interaction_source:this.avInteractionSource()})}})),this.registerPixelEvent(D.J.SUPER_VOLUME_CHANGE,(e=>{this.sendEvent("av.volume",null,{av_mute:e.muted,av_volume:Math.round(100*e.volume),av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(D.J.SUPER_VOLUME_MUTE,(e=>{this.sendEvent("av.volume.mute",null,{av_mute:!0,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(D.J.SUPER_VOLUME_UNMUTE,(e=>{this.sendEvent("av.volume.mute",null,{av_mute:!1,av_interaction_source:this.avInteractionSource()})}));let t={av_language:"",av_original_version:!1};this.registerPixelEvent(D.J.SUPER_AUDIOSTREAM_CHANGE,(e=>{var i;const r={av_language:null!==(i=e.language)&&void 0!==i?i:"off",av_original_version:!1,av_interaction_source:this.avInteractionSource()};t.av_language===r.av_language&&t.av_original_version===r.av_original_version?this.warn("skipped duplicate language event",r):(t=r,this.sendEvent("av.language",null,r))})),this.registerPixelEvent(D.J.SUPER_SUBTITLE_ACTIVATION,(e=>{this.sendEvent("av.subtitle",null,{av_subtitles:e.language,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(D.J.SUPER_SUBTITLE_DEACTIVATION,(()=>{this.sendEvent("av.subtitle",null,{av_subtitles:"off",av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(D.J.SUPER_AUDIODESCRIPTION_ACTIVATION,(e=>{this.sendEvent("av.audiodescription",null,{av_audio_description:!0,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(D.J.SUPER_AUDIODESCRIPTION_DEACTIVATION,(()=>{this.sendEvent("av.audiodescription",null,{av_audio_description:!1,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(D.J.SUPER_SIGN_LANGUAGE_ACTIVATION,(()=>{this.sendEvent("av.signlanguage",null,{av_sign_language:!0,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(D.J.SUPER_SIGN_LANGUAGE_DEACTIVATION,(()=>{this.sendEvent("av.signlanguage",null,{av_sign_language:!1,av_interaction_source:this.avInteractionSource()})})),this.registerPlayerEvent(a.J.EVENT_ERROR,(e=>{const t=e.message+((0,E.SL)(e.info)?"\n"+e.info:"");this.sendEvent("av.error",{av_player_error:t},{error_message:t})})),this.registerPixelEvent("Stream_error",(e=>{const t=e.plugin+" "+e.mime+" "+e.stream+" "+e.message;this.sendEvent("av.error",{av_player_error:t},{error_message:t})})),this.registerPixelEvent("dialog_open",(e=>{this.sendEvent("av.dialog.open",null,{av_dialog:this.mapDialogName(e.addonKey,e.dialog),av_interaction_source:this.avInteractionSource()+":"+String(e.addonKey)+"."+String(e.dialog)})})),this.registerPixelEvent("dialog_close",(e=>{this.sendEvent("av.dialog.close",null,{av_dialog:this.mapDialogName(e.addonKey,e.dialog),av_interaction_source:this.avInteractionSource()+":"+String(e.addonKey)+"."+String(e.dialog)})})),this.registerPlayerEvent(a.J.EMBED_BUTTON_PRESSED,(()=>{var e,t;this.sendEvent("av.embed.click",null,{av_embed:null!==(t=null===(e=this.player.model.mediaCollection.meta.embed)||void 0===e?void 0:e.enabled)&&void 0!==t&&t})})),this.registerPixelEvent(D.J.SHARE,(e=>{this.sendEvent("av.share",null,{av_sharing:e.method,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(D.J.JUMPMARK_SELECT,(e=>{var t,i;this.sendEvent("av.jumpmark",null,{av_jumpmark:String(null!==(t=e.title)&&void 0!==t?t:"")+((0,E.fp)(e.title)||(0,E.fp)(e.subtitle)?"":" - ")+String(null!==(i=e.subtitle)&&void 0!==i?i:""),av_interaction_source:this.avInteractionSource()})})),this.registerEvent("AddonRecommendations.EVENT_TEASER_SELECT",(e=>{const t=(0,E.SL)(e.id)?e.id:(0,E.SL)(e.payload.longTitle)?e.payload.longTitle:(0,E.SL)(e.payload.mediumTitle)?e.payload.mediumTitle:(0,E.SL)(e.payload.shortTitle)?e.payload.shortTitle:null;null!==t&&this.sendEvent("av.recommendation",null,{av_selected:t,av_launch_reason:e.timer?"Autoplay_First_Reco":0===e.index?"First_Reco":"Reco",av_auto_mode:this.av_auto_mode(),av_interaction_source:this.avInteractionSource()})})),this.registerEvent("Playlist.userSelectItem",(e=>{(0,E.SL)(e.itemId)&&this.sendEvent("av.playlist",null,{av_selected:e.itemId,av_interaction_source:this.avInteractionSource()})})),this.registerEvent("AddonSleepTimer.TIMER_DISABLED",(()=>{this.sendEvent("av.set.sleeptimer",null,{av_sleeptimer:"off"})})),this.registerEvent("AddonSleepTimer.TIMER_SET",(e=>{this.sendEvent("av.set.sleeptimer",null,{av_sleeptimer:e.duration===Number.MAX_SAFE_INTEGER?"clip_end":String(e.duration/60)})})),this.registerPlayerEvent(a.J.TOGGLE_FULLSCREEN,(e=>{this.sendEvent("av.playermode",null,{av_player_mode:this.avPlayerMode(),av_interaction_source:this.avInteractionSource()})})),this.registerPlayerEvent(a.J.REMOTE_PLAYBACK_CHANGED,(e=>{this.sendEvent("av.playermode",null,{av_player_mode:this.avPlayerMode(),av_interaction_source:this.avInteractionSource()})})),this.registerPlayerEvent(a.J.PIP_STATUS_CHANGE,(e=>{this.sendEvent("av.playermode",null,{av_player_mode:this.avPlayerMode(),av_interaction_source:this.avInteractionSource()})}))}setHeartbeat(e){ae(this,te,"f")!==e&&(clearTimeout(ae(this,ee,"f")),ne(this,te,e,"f"),0!==e&&(ne(this,ie,performance.now(),"f"),this.setHeartbeatTimeout()))}setHeartbeatTimeout(){var e,t,i,r;if(0!==ae(this,te,"f")){clearTimeout(ae(this,ee,"f"));const n=1===ae(this,te,"f")?null!==(t=null===(e=this.conf.config)||void 0===e?void 0:e.heartbeatDuration)&&void 0!==t?t:se:null!==(r=null===(i=this.conf.config)||void 0===i?void 0:i.bufferingHeartbeatDuration)&&void 0!==r?r:le,a=1===ae(this,te,"f")?5:1;if("object"==typeof n){const e=(performance.now()-ae(this,ie,"f"))/6e4;let t=-1;Object.getOwnPropertyNames(n).forEach((i=>{const r=parseInt(i,10);r>t&&r<=e&&(t=r)})),ne(this,ee,this.player.safeTimeoutWithContext({type:"timeout",initiator:"heartbeat"},this.beatHeart,1e3*Math.max(t<0?a:n[t],a)),"f")}else ne(this,ee,this.player.safeTimeoutWithContext({type:"timeout",initiator:"heartbeat"},this.beatHeart,1e3*Math.max(n,a)),"f")}}sendEvent(e,t,i){var r;if(this.delegate){if(ae(this,Y,"f")&&this.playbackEvents.includes(e))return void this.warn("skipped playback event outside of regular playback",e);if(!this.eventWhitelist.includes(e))return void this.warn("skipped event, not listed in config:",e);if(null!=ae(this,re,"f")&&ae(this,re,"f").type===e&&(0,E.vZ)(ae(this,re,"f").options,t)&&(0,E.vZ)(ae(this,re,"f").properties,i))return void this.info("skipped duplicate event",e);ne(this,re,{type:e,options:t,properties:i},"f"),!0===(null===(r=this.conf.config)||void 0===r?void 0:r.debug)&&this.info(e,t,i);const n=this.createEvent(e,t,i),a=this.transformEvent(n);try{this.delegate.track(a)}catch(e){this.error("error in piano delegate",e)}}else this.warn("unable to send event",e,t,i)}createEvent(e,t,i){return{type:e,options:t,properties:Object.assign({},this.conf.avContent,i)}}transformEvent(e){var t,i,r,n;const a=null===(i=null===(t=this.conf.config)||void 0===t?void 0:t.eventsTransform)||void 0===i?void 0:i[e.type],s=Object.assign({},e.properties);if(null===(r=this.conf.config)||void 0===r?void 0:r.dimensionTransform){const t=null===(n=this.conf.config)||void 0===n?void 0:n.dimensionTransform,i=[];Object.getOwnPropertyNames(t).forEach((r=>{(0,E.l$)(e.properties,r)&&(s[t[r]]=e.properties[r],i.push(t[r]),i.includes(r)||delete s[r])}))}return{type:(0,E.SL)(a)?a:e.type,options:e.options,properties:s}}validatePropertyName(e){return(0,E.SL)(e)&&/^(a:)?([snfdb]:)?[a-ln-z][a-z0-9_]{0,39}$/.test(e)&&!e.startsWith("visit_")}get currentPositionMs(){var e,t;return this.positionToMs(null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.getCurrentTimeWithoutSeek())&&void 0!==t?t:this.player.model.time)}positionToMs(e){return Math.floor(1e3*e)}mapDialogName(e,t){switch(e){case"info":return"info";case"sharing":return"share";case"playlist":return"playlist";case"internals/settings":return"settings";case"recommendation":return"recommendation";case"internals/language":return"accessibility";case"sleepTimer":return"sleeptimer";case"breakingNews":return"breakingnews";case"jumpmarks":return"jumpmark_highlights";case"internals/addonButtons":return"settings_overview";case"cast-ios":return"cast_targets";case"variant-selector":return"variants";default:return e+"."+t}}avInteractionSource(){var e;const t=this.player.executionContext;return null===t&&!0===(null===(e=this.conf.config)||void 0===e?void 0:e.debug)&&console.trace("no context"),null!==t?String(t.type)+":"+String(t.initiator):"unknown"}avPlayerMode(){var e,t,i;return this.player.isRemotePlayback?null!==(i=null===(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.remotePlaybackDevice)||void 0===t?void 0:t.kind)&&void 0!==i?i:"chromecast":this.player.isFullscreen?"fullscreen":this.player.isPiP?"pip":"normal"}av_auto_mode(){return"true"===I.K.for(this.player).get(oe.AUTOPLAY_SETTING,!0,"true")}avPlayProperties(){var e,t,i,r;const n=this.player.currentQuality,a=I.K.for(this.player),s=I.K.subtitleEnabled(this.player)||this.player.model.playerConfig.generic.isShowSubtitleAtStart?null!==(e=a.get(q.Z.SUBTITLE_LANGUAGE,!1,null))&&void 0!==e?e:a.get(q.Z.AUDIO_LANGUAGE,!1,"deu"):"off";return{av_autoplay:this.player.model.playerConfig.generic.isAutoplay,av_auto_mode:this.av_auto_mode(),av_audio_description:"audio-description"===a.get(q.Z.AUDIO_KIND,!1,"standard"),av_sign_language:"sign-language"===(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind),av_language:a.get(q.Z.AUDIO_LANGUAGE,!1,"deu"),av_original_version:!1,av_subtitles:s,av_embed:null!==(r=null===(i=this.player.model.mediaCollection.meta.embed)||void 0===i?void 0:i.enabled)&&void 0!==r&&r,av_quality:n<0?"Auto":this.player.qualityList[n].label,av_mute:I.K.muted(this.player),av_volume:Math.round(I.K.volume(this.player)),av_interaction_source:this.avInteractionSource()}}}G=new WeakMap,J=new WeakMap,Y=new WeakMap,Q=new WeakMap,$=new WeakMap,Z=new WeakMap,X=new WeakMap,ee=new WeakMap,te=new WeakMap,ie=new WeakMap,re=new WeakMap,oe.AUTOPLAY_SETTING="recos_allow_autoplay";var de,ue=oe,ce=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},he=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};de=new WeakMap;var pe=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))},ve=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))};const me=/maybe|probably/i;var fe=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))};const ye=/maybe|probably/i;var ge=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))};const be=[{Clazz:{exports:{name:"hls",library(){return pe(this,void 0,void 0,(function*(){return(yield i.e(377).then(i.bind(i,9484))).default}))},canPlay:(e,t)=>!n.q.browserIsSafari&&!n.q.isIOSDevice&&"application/vnd.apple.mpegurl"===e.mimeType&&(!n.q.isEmbedded||(n.q.debugBuild&&W.iV.warn("debug build: allowing HLS despite isEmbedded"),n.q.debugBuild)),priority:1,canSubSelectQualities:()=>!0}},package:"ardplayer-plugin-hls",type:"plugin",version:"bundled"},{Clazz:{exports:{name:"htmlAudio",library(){return ve(this,void 0,void 0,(function*(){return(yield i.e(663).then(i.bind(i,7864))).default}))},canPlay(e,t){if(!t||n.q.isEmbedded)return!1;if("MediaSource"in window&&MediaSource.isTypeSupported(e.mimeType))return!0;const i=document.createElement("audio");if(!(null==i?void 0:i.canPlayType))return!1;if(me.test(i.canPlayType(e.mimeType)))return!0;const r=/.*\.(\w{3,})(\??.*)$/gim.exec(e.url);if(r&&r.length>1){const e=r[1];let t=!1;switch(e){case"m3u":case"m3u8":t=me.test(i.canPlayType("audio/x-mpegurl"));break;case"mp3":t=me.test(i.canPlayType("audio/mpeg"))}return t||me.test(i.canPlayType("audio/"+e))}return!1},priority:0,canSubSelectQualities:()=>!1}},package:"ardplayer-plugin-html-audio",type:"plugin",version:"bundled"},{Clazz:{exports:{name:"htmlVideo",library(){return fe(this,void 0,void 0,(function*(){return(yield i.e(738).then(i.bind(i,9377))).default}))},canPlay(e,t){if(t)return!1;if(n.q.isEmbedded){if(!n.q.debugBuild)return!1;W.iV.warn("debug build: allowing HTMLVideo despite isEmbedded")}if("MediaSource"in window&&MediaSource.isTypeSupported(e.mimeType))return!0;const i=document.createElement("video");if(!(null==i?void 0:i.canPlayType))return!1;if(ye.test(i.canPlayType(e.mimeType)))return!0;if(Number.isInteger(e.fallbackGroup)&&!(0,E.fp)(e.mimeType))return!1;const r=/.*\.(\w{3,})(\??.*)$/gim.exec(e.url);if(r&&r.length>1){const e=r[1];let t=!1;switch(e){case"mp4":t=ye.test(i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'));break;case"ogg":t=ye.test(i.canPlayType('video/ogg; codecs="theora"'));break;case"webm":t=ye.test(i.canPlayType('video/webm; codecs="vp8, vorbis"'));break;case"m3u8":t=ye.test(i.canPlayType("application/x-mpegURL"))}return t||ye.test(i.canPlayType("video/"+e))}return!1},priority:0,canSubSelectQualities:()=>!1}},package:"ardplayer-plugin-html-video",type:"plugin",version:"bundled"},{Clazz:{exports:{name:"dashVideo",library(){return ge(this,void 0,void 0,(function*(){return(yield i.e(98).then(i.bind(i,23))).default}))},canPlay:(e,t)=>!t&&(!n.q.isIOSDevice||n.q.isIPadDevice)&&"application/dash+xml"===e.mimeType&&!n.q.isEmbedded,priority:2,canSubSelectQualities:()=>!0}},package:"ardplayer-plugin-dash-video",type:"plugin",version:"bundled"}];class Ee extends r.Sh{constructor(){super(...arguments),this.ID="AddonMediaSession",this.configKey="internals/mediaSession",this.setMetadata=()=>{var e,t,i,r;const n=this.mc.meta,a=this.getImage(this.player.isAudio?"audio":"preview");navigator.mediaSession.metadata=new MediaMetadata({title:(0,E.fp)(n.title)?null!==(e=n.seriesTitle)&&void 0!==e?e:"":n.title,artist:null!==(i=null===(t=n.publicationService)||void 0===t?void 0:t.name)&&void 0!==i?i:"",album:(0,E.fp)(n.title)?"":null!==(r=n.seriesTitle)&&void 0!==r?r:"",artwork:a?[{src:a}]:[]}),this.player.safeTimeout(this.updatePlaybackState),this.updatePlaybackState()},this.setSessionHandlers=()=>{const e=[["play",()=>{this.log("handle play"),this.player.playInternal()}],["pause",()=>{this.log("handle pause"),this.player.pauseInternal()}],["stop",()=>{this.log("handle stop"),this.player.stopInternal()}],["seekto",e=>{var t;e.fastSeek||this.player.seekToInternal(null!==(t=e.seekTime)&&void 0!==t?t:0)}],["seekbackward",e=>{var t;this.player.seekToInternal(Math.max(this.player.model.time-(null!==(t=e.seekOffset)&&void 0!==t?t:10),0)),this.player.viewCtrl.showAnimation("ssekback")}],["seekforward",e=>{var t;this.player.seekToInternal(Math.min(this.player.model.time+(null!==(t=e.seekOffset)&&void 0!==t?t:10),this.player.model.duration)),this.player.viewCtrl.showAnimation("seekfwd")}]];for(const[t,i]of e)try{navigator.mediaSession.setActionHandler(t,i)}catch(e){}},this.updatePlaybackState=()=>{try{switch(this.player.model.playstate){case 2:navigator.mediaSession.playbackState="playing";break;case 1:navigator.mediaSession.playbackState="paused";break;case 3:case 0:return navigator.mediaSession.playbackState="none",navigator.mediaSession.metadata=null,void navigator.mediaSession.setPositionState(void 0)}this.player.model.duration>0&&this.player.model.time>=0&&navigator.mediaSession.setPositionState({duration:isFinite(this.player.model.duration)?Math.round(this.player.model.duration):0,playbackRate:this.player.model.playbackRate,position:Math.round(Math.min(this.player.model.time,isFinite(this.player.model.duration)?this.player.model.duration:0))})}catch(e){this.log(e)}}}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.EVENT_PLAY_STREAM,(()=>{this.setMetadata(),this.setSessionHandlers()})),this.registerPlayerEvent(a.J.EVENT_PAUSE_STREAM,this.updatePlaybackState),this.registerPlayerEvent(a.J.EVENT_STATUS_CHANGE,this.updatePlaybackState),this.registerPlayerEvent(a.J.PLAYBACK_RATE_CHANGE,this.updatePlaybackState),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_TIME,this.updatePlaybackState),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_DURATION,this.updatePlaybackState),!0)}getImage(e){var t,i,r,n;if(!this.player)return null;let a=null;return"preview"!==e&&(a=null!==(i=null===(t=this.player.model.mediaCollection.meta.images.find((t=>t.kind===e&&!(0,E.fp)(t.url))))||void 0===t?void 0:t.url)&&void 0!==i?i:null),a=null!==(n=null!=a?a:null===(r=this.player.model.mediaCollection.meta.images.find((e=>"preview"===e.kind&&!(0,E.fp)(e.url))))||void 0===r?void 0:r.url)&&void 0!==n?n:null,null==a?null:this.player.model.playerConfig.generic.imageTemplateConfig.resolveTemplate(a)[0].url}isSupported(){return"mediaSession"in navigator&&!n.q.isEmbedded}}var Se,we,Ce,Te=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Ae=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class ke extends r.Ky{constructor(){super(...arguments),this.ID="AddonPiP",this.configKey="internals/pip",Se.set(this,!1),we.set(this,!0),Ce.set(this,!0),this.eventLoop=null,this.pipEnded=e=>{try{this.player.checkState()}catch(e){return void W.iV.warn("aborting promise",e)}Te(this,Se,"f")&&(Ae(this,Se,!1,"f"),this.player.viewCtrl.setIsPiP(!1),!0!==e&&this.player.loop.dispatchEvent(a.J.PIP_STATUS_CHANGE,{active:!1}))},this.pipStarted=e=>{try{this.player.checkState()}catch(e){return void W.iV.warn("aborting promise",e)}Te(this,Se,"f")||(Ae(this,Se,!0,"f"),this.player.viewCtrl.setIsPiP(!0),!0!==e&&this.player.loop.dispatchEvent(a.J.PIP_STATUS_CHANGE,{active:!0}))}}get buttonOrder(){return r.Ky.BUTTON_ORDER_RIGHTMOST/2}addonButtonClicked(e,t){}listAddonButtons(){return[]}listSecondaryAddonButtons(){return n.q.isEmbedded&&!Te(this,Ce,"f")?[]:[{classList:["ardplayer-icon","ardplayer-icon-pictureinpicture",...Te(this,we,"f")?[]:["ardplayer-button-disabled"]],accessibilityKey:"pip",accessibilityVariables:{pressed:!1}}]}secondaryAddonButtonClicked(e,t){"pip"===t.accessibilityKey&&(Te(this,Se,"f")?this.exitPiP():this.enterPiP())}register(){var e;return!!super.register()&&(n.q.isEmbedded?(Ae(this,Ce,!0===(null===(e=this.player.model.playerConfig.platformConfig)||void 0===e?void 0:e.allowPiP),"f"),this.eventLoop=new y.J(this.player),this.eventLoop.addEventListener("NativePip.pipSupportChange",(e=>{Ae(this,Ce,e.available,"f"),this.renderSecondaryButtons()})),this.registerPlayerEvent(a.J.PIP_STATUS_CHANGE,(e=>{var t;null===(t=this.executionContextProvider)||void 0===t||t.withExecutionContext({type:"api",initiator:"pip_status_changed"},(()=>{e.active?this.pipStarted(!0):this.pipEnded(!0)}))}))):this.registerPlayerEvent(a.J.PIP_CHANGE_REQUEST,(e=>{var t;null===(t=this.executionContextProvider)||void 0===t||t.withExecutionContext({type:"api",initiator:"pip_change_request"},(()=>{e.active?this.enterPiP():this.exitPiP()}))})),this.registerPlayerEvent(a.J.REMOTE_PLAYBACK_CHANGED,(e=>{var t;Ae(this,we,!e.isRemote,"f"),this.renderSecondaryButtons(),e.isRemote&&Te(this,Se,"f")&&(null===(t=this.executionContextProvider)||void 0===t||t.withExecutionContext({type:"synthetic",initiator:"remote_playback_start"},(()=>{this.exitPiP()})))})),!n.q.isEmbedded&&"pictureInPictureEnabled"in document&&document.pictureInPictureEnabled&&this.registerPlayerEvent(a.J.EVENT_READY,this.browserSetup),!0)}dispose(){var e;Te(this,Se,"f")&&this.exitPiP(),super.dispose(),null===(e=this.eventLoop)||void 0===e||e.dispose(),this.eventLoop=null}browserSetup(){this.player.mediaElement instanceof HTMLVideoElement&&(this.player.mediaElement.disablePictureInPicture=!1,this.player.mediaElement.addEventListener("enterpictureinpicture",(()=>{var e;null===(e=this.executionContextProvider)||void 0===e||e.withExecutionContext({type:"synthetic",initiator:"browser"},(()=>{this.pipStarted()}))})),this.player.mediaElement.addEventListener("leavepictureinpicture",(()=>{var e;null===(e=this.executionContextProvider)||void 0===e||e.withExecutionContext({type:"synthetic",initiator:"browser"},(()=>{this.pipEnded()}))})))}enterPiP(){var e,t;null===(e=this.executionContextProvider)||void 0===e||e.preserveExecutionContext(a.J.PIP_STATUS_CHANGE),n.q.isEmbedded?null===(t=this.eventLoop)||void 0===t||t.dispatchEvent("NativePip.pipStateRequest",{active:!0}):this.player.mediaElement instanceof HTMLVideoElement&&this.player.mediaElement.requestPictureInPicture().then((()=>{this.pipStarted()})).catch((e=>{W.iV.error(e),this.pipEnded()}))}exitPiP(){var e,t;null===(e=this.executionContextProvider)||void 0===e||e.preserveExecutionContext(a.J.PIP_STATUS_CHANGE),n.q.isEmbedded?null===(t=this.eventLoop)||void 0===t||t.dispatchEvent("NativePip.pipStateRequest",{active:!1}):this.player.mediaElement instanceof HTMLVideoElement&&document.exitPictureInPicture().then((()=>{this.pipEnded()})).catch(this.pipEnded)}isSupported(){return!this.player.isAudio&&("pictureInPictureEnabled"in document&&document.pictureInPictureEnabled||n.q.isEmbedded)}}Se=new WeakMap,we=new WeakMap,Ce=new WeakMap;class _e extends r.Ky{constructor(){super(...arguments),this.eventLoop=null,this.primaryButtonSet=[],this.secondaryButtonSet=[]}get ID(){return"AddonDynamicButtons"}get configKey(){return"internals/dynamicButtons"}get buttonOrder(){return r.Ky.BUTTON_ORDER_RIGHTMOST}register(){return!!super.register()&&(this.eventLoop=new y.J(this.player),this.eventLoop.addEventListener("DynamicButtons.addPrimary",(e=>{!(0,E.fp)(e.button.id)&&Array.isArray(e.button.classList)?(this.log("adding button",e.button.id),this.primaryButtonSet=this.primaryButtonSet.filter((t=>t.id!==e.button.id)),this.primaryButtonSet.push(e.button),this.renderButtons()):this.log("invalid button config")})),this.eventLoop.addEventListener("DynamicButtons.addSecondary",(e=>{!(0,E.fp)(e.button.id)&&Array.isArray(e.button.classList)?(this.log("adding button",e.button.id),this.secondaryButtonSet=this.secondaryButtonSet.filter((t=>t.id!==e.button.id)),this.secondaryButtonSet.push(e.button),this.renderSecondaryButtons()):this.log("invalid button config")})),this.eventLoop.addEventListener("DynamicButtons.remove",(e=>{(0,E.fp)(e.id)||(this.log("removing button",e.id),this.primaryButtonSet=this.primaryButtonSet.filter((t=>t.id===e.id)),this.secondaryButtonSet=this.secondaryButtonSet.filter((t=>t.id===e.id)),this.renderButtons(),this.renderSecondaryButtons())})),this.log("BottomSheetAddon registered"),!0)}dispose(){var e;super.dispose(),this.primaryButtonSet=[],this.secondaryButtonSet=[],null===(e=this.eventLoop)||void 0===e||e.dispose(),this.eventLoop=null}listAddonButtons(){return this.primaryButtonSet}addonButtonClicked(e,t){var i;null===(i=this.eventLoop)||void 0===i||i.dispatchEvent("DynamicButtons.buttonClicked",{id:t.id})}listSecondaryAddonButtons(){return this.secondaryButtonSet}secondaryAddonButtonClicked(e,t){var i;null===(i=this.eventLoop)||void 0===i||i.dispatchEvent("DynamicButtons.buttonClicked",{id:t.id})}isSupported(){return!0}}const Ie={core:{type:"core",Clazz:"app/index",package:"ardplayer-core",version:"6.6.0",rev:"[Y]0317afc",verb:"release",build:"(release) 2023-06-27T08:29:01.799Z",license:"CgU2LjYuMDIKW1ldMDMxN2FmYxoYQGFyZC1vbmxpbmUvYXJkYXVkaW90aGVrKhUICxoFMS4yLjEiCltZXWJjMzAyMWQqFQgRGgUxLjIuMSIKW1ldN2I3ZTk1ZSoVCA0aBTEuMi4xIgpbWV1mNDlmNWYxKhUIAxoFMi4zLjAiCltZXWZmN2Y2ZTAqFQgHGgUyLjMuMSIKW1ldODJkZWQwNioVCAgaBTIuMy4wIgpbWV1iYWVkNWNlKhUIChoFMi4zLjEiCltZXTk0MzE3MjgqFQgQGgUyLjMuMSIKW1ldN2NkMDM1YSojEg50cmFja2luZy1waWFubxoFMS4xLjAiCltZXWRmZmZjY2YqFQgEGgUyLjMuMCIKW1ldODNhNzg4MQ==",signature:"3065023100f9dbff5dbc92b76cc2c7a8da8ee8fe350b1a018dd096935ff7912e8ae2942d883f72728f563b403dace65dbd4f8bc980023011e1eda72535e201fd9330535c0cbb9631fc6111d3e9d29c1fbf5b2b7691923158c991d03b3184f448f8963b3a3bb44e"},libs:[{package:"hls.js",version:"1.1.5"},{package:"dashjs",version:"4.5.2"}],addon:[{Clazz:f.bi,package:"ardplayer-addon-bottomsheet-dom",type:"addon",version:"bundled"},{Clazz:Ee,package:"ardplayer-mediasession",type:"addon",version:"bundled"},{Clazz:ke,package:"ardplayer-pip",type:"addon",version:"bundled"},{Clazz:_e,package:"ardplayer-dynamic-buttons",type:"addon",version:"bundled"},{Clazz:q.Z,package:"ardplayer-language",type:"addon",version:"bundled"}].concat([{type:"addon",Clazz:u,package:"ardplayer-addon-modal-controls",version:"1.2.1",rev:"[Y]bc3021d"},{type:"addon",Clazz:b,package:"ardplayer-addon-sleep-timer",version:"1.2.1",rev:"[Y]7b7e95e"},{type:"addon",Clazz:S,package:"ardplayer-addon-playlist",version:"1.2.1",rev:"[Y]f49f5f1"},{type:"addon",Clazz:C,package:"ardplayer-addon-airplay",version:"2.3.0",rev:"[Y]ff7f6e0"},{type:"addon",Clazz:L,package:"ardplayer-addon-chromecast",version:"2.3.1",rev:"[Y]82ded06"},{type:"addon",Clazz:x,package:"ardplayer-addon-download",version:"2.3.0",rev:"[Y]baed5ce"},{type:"addon",Clazz:O,package:"ardplayer-addon-info",version:"2.3.1",rev:"[Y]9431728"},{type:"addon",Clazz:B,package:"ardplayer-addon-sharing",version:"2.3.1",rev:"[Y]7cd035a"},{type:"addon",Clazz:ue,package:"ardplayer-addon-tracking-piano",version:"1.1.0",rev:"[Y]dfffccf"},{type:"addon",Clazz:class extends K{constructor(){super(...arguments),this.ID="AddonATISmartTag",this.trackingKey="Ati",this.debugActive=!0,this.atiTag=null,de.set(this,0),this.playClick=!1,this.playClickOnce=!0,this.isPlaying=!1,this.buffering=!1}register(){var e,t,i,r,n,a;if(!super.register())return!1;if(void 0!==this.conf.debug&&(this.debugActive=this.conf.debug),!this.conf.richMedia)return this.log("richMedia missing"),!1;if("undefined"!=typeof ATInternet)this.atiTag=new ATInternet.Tracker.Tag(null!==(e=this.conf.config)&&void 0!==e?e:{}),this.registerSDK();else{if(0===(null!==(i=null===(t=this.conf.sdkUrls)||void 0===t?void 0:t.length)&&void 0!==i?i:0)||null===(n=null===(r=this.conf.sdkUrls)||void 0===r?void 0:r.some((e=>!(0,E.fp)(e))))||void 0===n||!n)return this.log("no sdk and no sdk resources"),!1;{const e=()=>{var e,t;he(this,de,(t=ce(this,de,"f"),--t),"f"),ce(this,de,"f")<=0&&("undefined"!=typeof ATInternet?(this.log("SDK loaded, init"),this.atiTag=new ATInternet.Tracker.Tag(null!==(e=this.conf.config)&&void 0!==e?e:{}),this.registerSDK()):this.log("SDK loaded, ATInternet class still missing"))};null===(a=this.conf.sdkUrls)||void 0===a||a.filter((e=>!(0,E.fp)(e))).forEach((t=>{var i;he(this,de,(i=ce(this,de,"f"),++i),"f"),(0,E.iM)(this.player,t.startsWith("//")?("http:"===location.protocol?"http:":"https:")+t:t,e,(()=>{this.log("sdk load failed!")}))}))}}return this.log("Addon registered: AddonATISmartTag"),!0}registerSDK(){var e,t,i,r;const n=this.conf.richMedia;if(!n)return;if(!n||!this.atiTag)return;n.mediaLabel=n.mediaLabel.replace("&","und"),n.mediaLabel=n.mediaLabel.replace("?","."),n.mediaTheme1&&(n.mediaTheme1=n.mediaTheme1.replace("&","und"),n.mediaTheme1=n.mediaTheme1.replace("?",".")),n.mediaTheme2&&(n.mediaTheme2=n.mediaTheme2.replace("&","und"),n.mediaTheme2=n.mediaTheme2.replace("?",".")),n.mediaTheme3&&(n.mediaTheme3=n.mediaTheme3.replace("&","und"),n.mediaTheme3=n.mediaTheme3.replace("?",".")),this.playClick=null!==(e=this.conf.playclick)&&void 0!==e&&e,this.playClickOnce=!(null!==(t=this.conf.autostart)&&void 0!==t&&t);const s=window.top!==window;if(void 0===this.conf.isEmbedded&&(this.conf.isEmbedded=s),void 0===n.webdomain)if(s)try{n.webdomain=null!==(r=null===(i=window.top)||void 0===i?void 0:i.location.href)&&void 0!==r?r:document.referrer}catch(e){n.webdomain=document.referrer}else n.webdomain="";void 0===n.refreshDuration&&(n.refreshDuration={0:5,1:12,12:15,18:30}),void 0!==n.duration&&"0"===n.duration&&(n.duration="1"),this.atiTag.richMedia.add(this.conf.richMedia),this.registerPlayerEvent(a.J.EVENT_PLAY_STREAM,this.eventPlayStream),this.registerPlayerEvent(a.J.EVENT_PAUSE_STREAM,this.eventPauseStream),this.registerPlayerEvent(a.J.EVENT_END_STREAM,this.eventEndStream),this.registerPlayerEvent(a.J.EVENT_BUFFERING,this.eventBuffering),this.registerPixelEvent(D.J.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,this.eventSeek),this.registerPixelEvent(D.J.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,this.eventSeek),this.registerPixelEvent(D.J.SUPER_REPLAY,this.eventReplay),this.registerPixelEvent(D.J.SUPER_INITIAL_PLAY,this.eventInitialPlay),this.registerPixelEvent(D.J.SUPER_SUBTITLE_ACTIVATION,this.eventSubtitleActivation),window.addEventListener("unload",this.eventUnload.bind(this)),this.log("Addon initialized")}dispose(){super.dispose(),this.eventUnload(),window.removeEventListener("unload",this.eventUnload)}log(){this.debugActive&&super.log(...arguments)}isSupported(){var e,t,i,r;if(!super.isSupported())return!1;if("undefined"==typeof ATInternet){if(0===(null!==(t=null===(e=this.conf.sdkUrls)||void 0===e?void 0:e.length)&&void 0!==t?t:0)||null===(r=null===(i=this.conf.sdkUrls)||void 0===i?void 0:i.some((e=>!(0,E.fp)(e))))||void 0===r||!r)return this.log("ATInternet class missing (from smarttag.js), no sdk configured"),!1;this.log("ATInternet class missing, sdk configured")}return!0}eventUnload(){var e;(null===(e=this.atiTag)||void 0===e?void 0:e.richMedia)&&(this.log("Unload"),this.atiTag.richMedia.removeAll(),this.atiTag=null)}eventPlayStream(){this.richMediaSend("play"),this.isPlaying=!0,this.playClick&&this.playClickOnce&&(this.playClickOnce=!1,this.clickSend("action"))}eventInitialPlay(){var e,t;this.log("Initial Play / Autoplay",this.pc.generic.isAutoplay),"function"!=typeof(null===(e=this.legacyPixelConfig)||void 0===e?void 0:e.track_player_pi)||this.pc.generic.isAutoplay||null===(t=this.legacyPixelConfig)||void 0===t||t.track_player_pi("Mobile Play")}eventReplay(){var e,t;"function"==typeof(null===(e=this.legacyPixelConfig)||void 0===e?void 0:e.track_player_pi)&&(null===(t=this.legacyPixelConfig)||void 0===t||t.track_player_pi("Erneut starten")),this.log("Erneut starten")}eventSubtitleActivation(){var e,t;"function"==typeof(null===(e=this.legacyPixelConfig)||void 0===e?void 0:e.track_player_pi)&&(null===(t=this.legacyPixelConfig)||void 0===t||t.track_player_pi("Untertitel")),this.log("UT")}eventSeek(){this.playClickOnce||(this.log("eventSeek"),this.richMediaSend("move"))}eventBuffering(e){this.buffering!==e.isBuffering&&(this.buffering=e.isBuffering,this.isPlaying&&this.richMediaSend("info",this.buffering))}eventPauseStream(){this.buffering&&this.richMediaSend("info",!1),this.isPlaying&&this.richMediaSend("pause"),this.isPlaying=!1}eventEndStream(){this.log("eventEndStream"),this.buffering&&(this.richMediaSend("info",!1),this.buffering=!1),this.isPlaying=!1,this.richMediaSend("stop"),this.playClickOnce=!0}richMediaSend(e,t){var i;if(void 0===t&&(t=!1),!this.atiTag)return void this.warn("tried to call richMediaSend without tag instance");const r=this.conf.richMedia;if(!r)return;const n={action:e,playerId:null!==(i=r.playerId)&&void 0!==i?i:"",mediaLabel:r.mediaLabel,mediaLevel2:r.mediaLevel2};r.mediaTheme1&&(n.mediaTheme1=r.mediaTheme1),r.mediaTheme2&&(n.mediaTheme2=r.mediaTheme2),r.mediaTheme3&&(n.mediaTheme3=r.mediaTheme3),"info"===e?(this.log("send buffering2",t),n.isBuffering=t):this.log("send "+e),this.atiTag.richMedia.send(n)}clickSend(e){var t,i;if(!this.atiTag)return void this.warn("tried to call clickSend without tag instance");const r=this.conf.richMedia;if(!r)return;const n=this.conf.page,a="video"===r.mediaType?"Video":"Audio",s={type:e,name:null!==(t=null==n?void 0:n.name)&&void 0!==t?t:r.mediaLabel};void 0!==n?(s.level2=null!==(i=n.level2)&&void 0!==i?i:r.mediaLevel2,n.chapter1&&(s.chapter1=n.chapter1),n.chapter2&&(s.chapter2=n.chapter2),n.chapter3&&(s.chapter3=n.chapter3),n.chapter4&&(s.chapter4=n.chapter4),n.customObject&&(s.customObject=n.customObject),n.customVars&&(s.customVars=n.customVars)):(s.level2=r.mediaLevel2,s.chapter1=a+"-Start",r.mediaTheme1&&(s.chapter2=r.mediaTheme1),r.mediaTheme2&&(s.chapter3=r.mediaTheme2),r.mediaTheme3&&(s.chapter4=r.mediaTheme3)),this.atiTag.page.send(s)}},package:"ardplayer-addon-atipixel-smarttag",version:"2.3.0",rev:"[Y]83a7881"}]),plugin:be.concat([])};var Pe=i(4178),Le=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},xe=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Me=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Oe=(()=>{let e,t,i=[Pe.VP],r=[];return t=class{static get core(){return Ie.core}static get libs(){return Ie.libs}static get addon(){return Ie.addon.concat(this.injectedAddons)}static get plugin(){return Ie.plugin.concat(this.injectedPlugins)}},Me(t,"Extensions"),Le(null,e={value:t},i,{kind:"class",name:t.name},null,r),t=e.value,t.injectedAddons=[],t.injectedPlugins=[],xe(t,r),t})()},9765:function(e,t,i){"use strict";i.d(t,{s:function(){return r}});class r{writeToParcel(e){const t=this.parcelData();null!==t&&(e[this.ID]=JSON.parse(JSON.stringify(t)))}restoreFromParcel(e){e&&e[this.ID]&&null!==e[this.ID]&&this.restoreParceledData(e[this.ID])}static makeParcel(e){const t={};return e.forEach((e=>{e.writeToParcel(t)})),t}}},6248:function(e,t,i){"use strict";i.d(t,{G6:function(){return p},Ky:function(){return m},Sh:function(){return v}});var r,n,a,s=i(1225),l=i(5855),o=i(6735),d=i(9765),u=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class h extends d.s{get executionContextProvider(){var e;return null!==(e=u(this,r,"f"))&&void 0!==e?e:null}constructor(e,t){void 0===t&&(t=null),super(),this.inputParcel=t,r.set(this,void 0),n.set(this,[]),this.listenerDisposers=[],c(this,r,e,"f")}parcelData(){return null}restoreParceledData(e){}register(){try{if(this.isDisabled())return this.log("Addon is disabled"),!1;if(!this.isSupported())return this.log("Addon not supported by current config."),!1;null!==this.inputParcel&&(this.restoreFromParcel(this.inputParcel),this.inputParcel=null)}catch(e){return this.warn("Addon threw error when detecting support - skipping",e),this.inputParcel=null,!1}return!0}registerEvent(e,t){const i=t.bind(this);u(this,n,"f").push({id:e,fnc:i}),u(this,r,"f").addEventListener(e,i)}registerPlayerEvent(e,t){const i=t.bind(this);this.listenerDisposers.push((()=>{u(this,r,"f").loop.removeEventListener(e,i)})),u(this,r,"f").loop.addEventListener(e,i)}registerPixelEvent(e,t){const i=t.bind(this);u(this,n,"f").push({id:e,fnc:i}),u(this,r,"f").addEventListener(e,i)}addEventListener(e,t,i,r){e.addEventListener(t,i,r),this.listenerDisposers.push((()=>{e.removeEventListener(t,i,r)}))}onClick(e,t,i){void 0===i&&(i=!0),this.listenerDisposers.push((0,o.nx)(e,t,this.executionContextProvider,i))}get player(){return u(this,r,"f")}get mc(){return this.player.model.mediaCollection}get pc(){return this.player.model.playerConfig}startupHook(){return!1}dispose(){this.log("dispose"),u(this,n,"f").forEach((e=>{u(this,r,"f").removeEventListener(e.id,e.fnc)})),this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),window.setTimeout((()=>{u(this,r,"f"),c(this,n,null,"f")}))}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.iV.log("["+this.ID+"]",...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.iV.info("["+this.ID+"]",...t)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.iV.warn("["+this.ID+"]",...t)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.iV.error("["+this.ID+"]",...t)}debugString(){return"-"}}r=new WeakMap,n=new WeakMap;class p extends h{get ID(){return"PlatformSupport-"+this.BaseId}isSupported(){return this.supportsPlatform(l.q.platform)}isDisabled(){return!1}static isInstance(e){return e.ID.startsWith("PlatformSupport-")}}class v extends h{constructor(){super(...arguments),a.set(this,null)}get conf(){return null===u(this,a,"f")&&c(this,a,(0,o.RH)(this.pc.getPluginData(this.configKey),this.mc.getPluginData(this.configKey)),"f"),u(this,a,"f")}get immutableConf(){return null===u(this,a,"f")&&c(this,a,(0,o.RH)(this.pc.getPluginData(this.configKey),this.mc.getPluginData(this.configKey)),"f"),u(this,a,"f")}configEmpty(){return 0===Object.keys(this.conf).length}isDisabled(){return!1===this.conf.isEnabled}isSupported(){return!this.configEmpty()}}a=new WeakMap;class m extends v{constructor(){super(...arguments),this.buttons=[],this.secondaryButtons=[],this.buttonRenderingPrevented=!1}get buttonOrder(){return 10}get buttonList(){var e,t;return null!==(t=null===(e=this.player)||void 0===e?void 0:e.buttonCentral)&&void 0!==t?t:null}register(){var e;return!!super.register()&&(null===(e=this.buttonList)||void 0===e||e.registerAddon(this),!0)}setButtonRenderingPrevented(e){this.buttonRenderingPrevented=e,this.renderButtons(),this.renderSecondaryButtons()}renderButtons(){var e;this.buttons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.buttons=[],this.buttonRenderingPrevented||this.listAddonButtons().forEach((e=>{var t;const i=document.createElement("button");i.classList.add(...e.classList),i.dataset.inititatorName="addon-button("+this.ID+":"+String(e.accessibilityKey)+")",i.setAttribute("tabindex","0"),(0,o.SL)(e.accessibilityKey)&&(null===(t=this.player.viewCtrl)||void 0===t||t.evalAccessibility(i,e.accessibilityKey,Object.assign({pressed:!1},e.accessibilityVariables)));const r=(0,o.nx)(i,(()=>{this.player.viewCtrl.setOutDelayed(),this.addonButtonClicked(i,e)}),this.executionContextProvider);this.buttons.push(Object.assign({},e,{button:i,disposeHandler:r}))})),null===(e=this.buttonList)||void 0===e||e.updateButtonList()}renderSecondaryButtons(){var e;this.secondaryButtons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.secondaryButtons=[],this.buttonRenderingPrevented||this.listSecondaryAddonButtons().forEach((e=>{var t;const i=document.createElement("button");i.classList.add(...e.classList),i.dataset.inititatorName="addon-button-secondary("+this.ID+":"+String(e.accessibilityKey)+")",i.setAttribute("tabindex","0"),(0,o.SL)(e.accessibilityKey)&&(null===(t=this.player.viewCtrl)||void 0===t||t.evalAccessibility(i,e.accessibilityKey,Object.assign({pressed:!1},e.accessibilityVariables)));const r=(0,o.nx)(i,(()=>{this.player.viewCtrl.setOutDelayed(),this.secondaryAddonButtonClicked(i,e)}),this.executionContextProvider);this.secondaryButtons.push(Object.assign({},e,{button:i,disposeHandler:r}))})),null===(e=this.buttonList)||void 0===e||e.updateSecondaryButtonList()}dispose(){super.dispose(),this.buttons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.buttons=[],this.secondaryButtons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.secondaryButtons=[]}listSecondaryAddonButtons(){return[]}secondaryAddonButtonClicked(e,t){}}m.BUTTON_ORDER_RIGHTMOST=Number.MAX_SAFE_INTEGER-1},187:function(e,t,i){"use strict";i.d(t,{p:function(){return o},x:function(){return d}});var r=i(6248),n=i(5855),a=i(4736),s=i(6735),l=i(4307);class o extends r.Ky{constructor(){super(...arguments),this.syntheticScreens={},this.screenHasTabs=!1}get bottomSheet(){var e,t,i;return null!==(i=null===(t=null===(e=this.player)||void 0===e?void 0:e.viewCtrl)||void 0===t?void 0:t.bottomSheet)&&void 0!==i?i:null}addonButtonClicked(e,t){var i;e.setAttribute("aria-pressed","true"),null===(i=this.bottomSheet)||void 0===i||i.reveal(this,t.screen)}getFocusButton(e){var t,i,r,n;return void 0===e&&(e=null),null!==(n=null!==(i=(0,s.fp)(e)?null:null===(t=this.buttons.find((t=>t.screen===e&&null!==t.button)))||void 0===t?void 0:t.button)&&void 0!==i?i:null===(r=this.buttons.find((e=>null!==e.button)))||void 0===r?void 0:r.button)&&void 0!==n?n:null}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.SETUP_VIEW,this.eventSetupView),this.log("BottomSheetAddon registered"),!0)}isSupported(){return!(this.player.isAudio&&!0!==this.player.model.playerConfig.web.isForcedVideoView&&n.q.isFrame)}eventSetupView(e){}onScreenClosed(e){this.buttons.filter((t=>t.screen===e)).forEach((e=>{e.button.setAttribute("aria-pressed","false")}))}onScreenClosedInternal(e){var t;e.startsWith("synthetic_")&&null!==(t=this.syntheticScreens[e])&&void 0!==t&&t?this.log("closed synthetic screen"):(this.screenHasTabs&&this.teardownTabs(),this.player.pixelController.triggerCustomPixel("dialog_close",!0,{addon:this.ID,addonKey:this.configKey,dialog:e}),this.onScreenClosed(e))}teardownTabs(){this.screenHasTabs=!1}renderScreenInternal(e,t,i){var r;e.startsWith("synthetic_")&&null!==(r=this.syntheticScreens[e])&&void 0!==r&&r?(this.log("rendering synthetic screen"),t.showBack=!0,this.syntheticScreens[e].render(t)):(this.syntheticScreens={},this.renderToDisplayList(t,e),this.player.pixelController.triggerCustomPixel("dialog_open",!0,{addon:this.ID,addonKey:this.configKey,dialog:e})),t.renderUsing(i)}}class d extends o{constructor(){super(...arguments),this.domAvailable="web"===n.q.platform}renderScreenInternal(e,t,i){super.renderScreenInternal(e,t,i),this.domAvailable&&i instanceof l.SD&&this.onDomRendered(i.domRoot,i.domTitle,e)}static renderElem(e,t,i,r,n,a){return void 0===a&&(a=!1),l.SD.renderElem(e,t,i,r,n,a)}setTabs(e,t,i,r){var n,a,l,o;if((null===(a=null===(n=this.bottomSheet)||void 0===n?void 0:n.activeScreen)||void 0===a?void 0:a.addon)!==this)return;if(this.screenHasTabs&&this.teardownTabs(),0===e.length)return;this.log("rendering tabs"),this.screenHasTabs=!0;const d=null===(l=this.bottomSheet)||void 0===l?void 0:l.stage,u=null===(o=this.bottomSheet)||void 0===o?void 0:o.contentWrapper;if(d&&u){const n=document.createElement("div");n.className="ardplayer-container-horizontal ardplayer-container-start ardplayer-container-tabs",n.setAttribute("role","tablist"),d.insertBefore(n,u),u.setAttribute("role","tabpanel"),u.id="ardplayer-bottom-sheet-content-tabpanel-"+this.player.getId(),n.setAttribute("aria-controls",u.id);const a=function(){var e;const a=n.querySelector(".ardplayer-option-active");null==a||a.classList.remove("ardplayer-option-active"),null==a||a.setAttribute("aria-selected","false"),this.classList.add("ardplayer-option-active"),this.setAttribute("aria-selected","true"),null===(e=this.parentElement)||void 0===e||e.scrollTo({left:this.offsetLeft,behavior:"smooth"}),t=Number(this.dataset.index),r&&(a&&a!==this&&r(a,a.innerText,!1,Number(a.dataset.index)),r(this,this.innerText,!0,t)),i(t)};e.forEach(((e,i)=>{const l=document.createElement("span");l.innerText=e,l.className="ardplayer-option",l.tabIndex=0,l.setAttribute("role","tab"),l.dataset.index=String(i),r&&r(l,e,i===t,i),i===t?(this.player.safeTimeout((()=>{var e;null===(e=l.parentElement)||void 0===e||e.scrollTo({left:l.offsetLeft,behavior:"smooth"})})),l.classList.add("ardplayer-option-active"),l.setAttribute("aria-selected","true")):l.classList.contains("ardplayer-option-disabled")?(l.tabIndex=-1,l.setAttribute("role","presentation")):l.setAttribute("aria-selected","false"),(0,s.nx)(l,a,this.executionContextProvider),n.appendChild(l)}))}}teardownTabs(){var e,t,i,r;if((null===(t=null===(e=this.bottomSheet)||void 0===e?void 0:e.activeScreen)||void 0===t?void 0:t.addon)!==this)return;this.log("tearing down tabs");const n=null===(i=this.bottomSheet)||void 0===i?void 0:i.contentWrapper;n&&(null===(r=n.previousElementSibling)||void 0===r||r.remove(),n.id="",n.removeAttribute("role")),super.teardownTabs()}onScreenClosed(e){super.onScreenClosed(e)}dispose(){super.dispose()}isSupported(){return!!super.isSupported()&&(!this.requiresDom||"web"===n.q.platform)}}},4169:function(e,t,i){"use strict";i.d(t,{K:function(){return p}});var r=i(4178),n=i(9765),a=i(2284),s=i(1225),l=i(2009),o=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},d=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},u=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},h=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let p=(()=>{var e;let t,i,p=[r.VP],v=[];return i=class extends n.s{constructor(t,i,r,n,a){super(),this.player=t,this.markerClassTarget=i,this.openCallback=r,this.closeCallback=n,this.addon=a,this.screenStack=[],e.set(this,null),this.btmLooper=new l.J(t)}get ID(){return"BottomSheetManager"}static getImpl(e,t,i,r){const n=e.addons.find((e=>a.x.isInstance(e)));if(null==n)throw Error("no BottomSheetRenderer Addon installed!");return n.createManager(e,t,i,r)}get renderer(){var t;return null==u(this,e,"f")&&(this.addon.setHandler({back:()=>{this.prevScreen(null)},close:()=>{this.conceal(null)}}),c(this,e,null!==(t=this.addon.listRenderer)&&void 0!==t?t:null,"f"),null==u(this,e,"f")&&s.iV.error("no DisplayListRenderer instance available!")),u(this,e,"f")}parcelData(){return 0===this.screenStack.length?null:{screenStack:this.screenStack.filter((e=>!e.screenId.startsWith("synthetic_"))).map((e=>({screenId:e.screenId,addon:e.addon.ID})))}}restoreParceledData(e){const t=e.screenStack.map((e=>({screenId:e.screenId,addon:this.player.addons.find((t=>t.ID===e.addon))})));t.some((e=>null===e.addon))||(this.screenStack.push(...t),this.performReveal(this.screenStack[this.screenStack.length-1],null))}dispose(){this.screenStack.splice(0,this.screenStack.length),this.btmLooper.dispose()}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.iV.log("[BTM]",...t)}get activeScreen(){return this.screenStack.length>0?this.screenStack[this.screenStack.length-1]:null}reveal(e,t,i,r,n){if(void 0===t&&(t="defaultScreen"),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n=null),this.log((r?"toggling":"revealing")+" bottom sheet",e.ID,t),this.screenStack.length>0){if(r){const i=this.screenStack[this.screenStack.length-1];if(i.screenId===t&&i.addon===e)return void this.prevScreen(n)}return void(i?this.conceal((()=>{this.reveal(e,t,!1,!1,n)})):this.nextScreen(e,t,n))}const a={addon:e,screenId:t};this.screenStack.push(a),this.performReveal(a,n)}performRevealInternal(e){this.btmLooper.dispatchEvent("BTM.reveal",{}),this.openCallback(e),this.renderScreen(e)}nextScreenInternal(e,t,i){if(void 0===i&&(i=null),this.log("showing next bottom sheet screen",e.ID,t),this.screenStack.length>0){const r=this.screenStack[this.screenStack.length-1];if(r.screenId===t&&r.addon===e)return this.renderScreen(r),null==i||i(),!0;r.addon.onScreenClosedInternal(r.screenId)}const r={addon:e,screenId:t};return this.screenStack.push(r),this.openCallback(r),this.renderScreen(r),!1}prevScreenInternal(e){if(void 0===e&&(e=null),this.log("showing prev bottom sheet screen"),this.screenStack.length<=1)return this.conceal(e),!0;const t=this.screenStack[this.screenStack.length-1];t.addon.onScreenClosedInternal(t.screenId),this.screenStack.pop();const i=this.screenStack[this.screenStack.length-1];return this.openCallback(i),this.renderScreen(i),!1}concealInternal(){this.log("concealing bottom sheet"),this.screenStack.forEach((e=>{e.addon.onScreenClosedInternal(e.screenId)})),this.screenStack.splice(0,this.screenStack.length),this.btmLooper.dispatchEvent("BTM.conceal",{}),this.closeCallback()}},e=new WeakMap,h(i,"BottomSheetManager"),o(null,t={value:i},p,{kind:"class",name:i.name},null,v),i=t.value,d(i,v),i})()},3386:function(e,t,i){"use strict";i.d(t,{Z:function(){return M}});var r=i(4736),n=i(5491);class a{constructor(e){this.addon=e}onSetupView(e){}onInit(){}onStop(){}onPlayStream(e){}onPauseStream(e){}onUpdateStreamTime(e){}onViewResize(e){}get priority(){return 0}suppressPlayerNotifications(){return!1}showSubtitles(e,t){void 0===t&&(t=!1)}hideSubtitles(e){void 0===e&&(e=!1)}dispose(){}}var s,l,o,d=i(6735),u=i(1225),c=i(5855),h=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))},p=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},v=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class m extends a{get priority(){return 3}constructor(e){super(e),this.subtitleContainer=null,this.imsc=null,this.imscRequested=!1,this.xmlCache={},this.currentLang="",this.ttObj=null,this.updateTimeInterval=-1,this.subtitlesShowing=!1,this.addon360=null,this.hasLongOrLat=!1,s.set(this,[]),l.set(this,[]),this.name="EBU-TT",o.set(this,0),this.renderCurrentSubtitle=()=>{var e,t,i,r;const n=performance.now();if(n-p(this,o,"f")<100)return;if(v(this,o,n,"f"),this.clearRenderedSubtitles(),null===this.ttObj||null===this.imsc||!this.subtitlesShowing)return;const a=this.imsc.generateISD(this.ttObj,this.addon.player.getCurrentTime());if(this.subtitleContainer){if("CONTAIN"===this.addon.player.model.videoScaleMode){let n=-1;try{const t=null===(e=this.addon.player.getCtrl())||void 0===e?void 0:e.mediaElement;t&&t.videoWidth>0&&t.videoHeight>0&&(n=t.videoWidth/t.videoHeight)}catch(e){}if(-1===n){const e=null!==(r=null===(i=null===(t=this.addon.player.currentMedium)||void 0===t?void 0:t.aspectRatio)||void 0===i?void 0:i.split(":"))&&void 0!==r?r:[];n=2===e.length&&Number.isInteger(e[0])&&Number.isInteger(e[1])?parseInt(e[0],10)/parseInt(e[1],10):16/9}const a=this.subtitleContainer.parentElement;if(!a)return;n>=a.clientWidth/a.clientHeight?(this.subtitleContainer.style.height=a.clientWidth/n+"px",this.subtitleContainer.style.width="100%"):(this.subtitleContainer.style.height="100%",this.subtitleContainer.style.width=a.clientHeight*n+"px")}else this.subtitleContainer.style.height="100%",this.subtitleContainer.style.width="100%";a&&(this.addon360&&this.addon360.ctrl360.renderSubtitle(a,this.getAngle(this.addon.player.getCurrentTime())),this.imsc.renderHTML(a,this.subtitleContainer,this.resolveImage.bind(this),this.subtitleContainer.clientHeight,this.subtitleContainer.clientWidth,!1,u.iV.error))}},this.resolveImage=this.resolveImage.bind(this)}onSetupView(e){var t;super.onSetupView(e),this.subtitleContainer=document.createElement("div"),this.subtitleContainer.classList.add(M.CLASS_SUBTITLE_PLACEHOLDER),null===(t=e.viewport)||void 0===t||t.appendChild(this.subtitleContainer)}onInit(){this.imscRequested||(this.imscRequested=!0,this.loadLibrary()),this.addon360=this.addon.player.addons.find((e=>"Addon360"===e.ID))}onPlayStream(e){super.onPlayStream(e),this.startInterval()}onPauseStream(e){super.onPauseStream(e),this.stopInterval()}onStop(){this.stopInterval()}onUpdateStreamTime(e){super.onUpdateStreamTime(e),this.renderCurrentSubtitle()}loadLibrary(){this.imsc=null,i.e(984).then(i.t.bind(i,3584,19)).then((e=>{this.imsc=e,this.beginRenderingCurrentSubtitle()})).catch((()=>{}))}beginRenderingCurrentSubtitle(){const e=this.xmlCache[this.currentLang];(0,d.fp)(e)||null===this.imsc||null!==this.ttObj||(this.ttObj=this.imsc.fromXML(e,u.iV.error),this.hasLongOrLat&&p(this,l,"f").length>0&&(v(this,s,p(this,l,"f").map((e=>({begin:m.parseTimeExpression(this.ttObj.tickRate,this.ttObj.effectiveFrameRate,e.begin),end:m.parseTimeExpression(this.ttObj.tickRate,this.ttObj.effectiveFrameRate,e.end),latitude:e.latitude,longitude:e.longitude}))),"f"),v(this,l,[],"f"),p(this,s,"f").sort(((e,t)=>{const i=e.begin-t.begin;return 0!==i?i:e.end-t.end}))),this.renderCurrentSubtitle())}onViewResize(e){super.onViewResize(e),this.renderCurrentSubtitle()}loadSubtitle(e){var t,i;if(this.currentLang!==e.languageCode&&(this.ttObj=null),this.currentLang=e.languageCode,(0,d.fp)(this.xmlCache[e.languageCode])){const r=null!==(i=null===(t=e.sources.find((e=>"ebutt"===e.kind)))||void 0===t?void 0:t.url)&&void 0!==i?i:"";fetch(c.q.isEmbedded&&r.startsWith("//")?"https:"+r:r).then((e=>h(this,void 0,void 0,(function*(){return yield e.text()})))).then((e=>(new DOMParser).parseFromString(e,"text/xml"))).then((t=>{var i,r,n;try{this.addon.player.checkState()}catch(e){return void u.iV.warn("aborting async",e)}this.hasLongOrLat=!1,v(this,s,[],"f"),v(this,l,[],"f");for(const e of t.getElementsByTagName("tt:p")){const t=e.attributes.getNamedItem("begin"),a=e.attributes.getNamedItem("end");(null==t?void 0:t.nodeValue)&&(t.nodeValue=t.nodeValue.replace(/^([1-9][0-9]+)(:[0-9:.]+)$/,((e,t,i)=>""+String(parseInt(t)-10).padStart(2,"0")+i))),(null==a?void 0:a.nodeValue)&&(a.nodeValue=a.nodeValue.replace(/^([1-9][0-9]+)(:[0-9:.]+)$/,((e,t,i)=>""+String(parseInt(t)-10).padStart(2,"0")+i)));const s=e.attributes.getNamedItem("imac:equirectangularLongitude"),o=e.attributes.getNamedItem("imac:equirectangularLatitude");this.hasLongOrLat||(this.hasLongOrLat=null!==s||null!==o),this.hasLongOrLat&&p(this,l,"f").push({begin:null!==(i=null==t?void 0:t.nodeValue)&&void 0!==i?i:"",end:null!==(r=null==a?void 0:a.nodeValue)&&void 0!==r?r:"",longitude:(null==s?void 0:s.nodeValue)?parseFloat(s.nodeValue):null,latitude:(null==o?void 0:o.nodeValue)?parseFloat(o.nodeValue):null});for(const i of e.getElementsByTagName("tt:span")){const e=document.createTextNode(null!==(n=i.textContent)&&void 0!==n?n:"");(0,d.cS)(i),i.append(e)}}this.xmlCache[e.languageCode]=(new XMLSerializer).serializeToString(t).replace(/\r\n/g,"\n"),this.beginRenderingCurrentSubtitle()})).catch((e=>{u.iV.error(e)}))}else this.beginRenderingCurrentSubtitle()}static parseTimeExpression(e,t,i){let r;if(null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(i))){if(null!==t)return parseFloat(r[1])/t}else if(null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(i))){if(null!==e)return parseFloat(r[1])/e}else{if(null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(i)))return parseFloat(r[1])/1e3;if(null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(i)))return parseFloat(r[1]);if(null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(i)))return 3600*parseFloat(r[1]);if(null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(i)))return 60*parseFloat(r[1]);if(null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(i)))return 3600*parseInt(r[1])+60*parseInt(r[2])+parseFloat(r[3]);if(null!==(r=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/.exec(i))&&null!==t)return 3600*parseInt(r[1])+60*parseInt(r[2])+parseInt(r[3])+(null===r[4]?0:parseInt(r[4])/t)}return 0}resolveImage(e,t){new Promise((function(t){const i=new Image;i.onload=function(){const e=document.createElement("canvas");e.width=i.naturalWidth,e.height=i.naturalHeight;const r=e.getContext("2d");null==r||r.drawImage(i,0,0),t(e.toDataURL("image/png"))},i.src=e})).then((e=>{t.src=e})).catch((()=>{}))}startInterval(){clearInterval(this.updateTimeInterval),this.updateTimeInterval=this.addon.player.safeInterval((()=>{this.renderCurrentSubtitle()}),250)}stopInterval(){clearInterval(this.updateTimeInterval)}getAngle(e){let t=0,i=p(this,s,"f").length-1;for(;t<=i;){const r=Math.floor((t+i)/2),n=p(this,s,"f")[r];if(n.begin<=e&&n.end>=e)return n;n.end<e?t=r+1:i=r-1}return null}clearRenderedSubtitles(){(0,d.cS)(this.subtitleContainer)}showSubtitles(e,t){void 0===t&&(t=!1),this.imscRequested||(this.imscRequested=!0,this.loadLibrary()),this.subtitlesShowing=!0,this.loadSubtitle(e)}hideSubtitles(e){void 0===e&&(e=!1),this.subtitlesShowing=!1,this.currentLang="",this.ttObj=null,this.clearRenderedSubtitles()}dispose(){var e,t;super.dispose(),this.stopInterval(),null===(t=null===(e=this.subtitleContainer)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.subtitleContainer),this.xmlCache={},v(this,s,[],"f"),v(this,l,[],"f"),this.ttObj=null}currentStateSupports(e){return this.supports(e)&&!this.addon.player.isRemotePlayback}supports(e){return e.sources.some((e=>"ebutt"===e.kind))}}s=new WeakMap,l=new WeakMap,o=new WeakMap;var f=i(3987);class y extends a{constructor(){super(...arguments),this.name="VTT"}hideSubtitles(e){var t,i;void 0===e&&(e=!1);try{const e=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(e){const t=e.textTracks;for(let e=0;e<t.length;e++){const i=t[e];"subtitles"!==i.kind&&"captions"!==i.kind||(i.mode="hidden")}null===(i=this.hlsCtrl)||void 0===i||i.setWebVTTSubtitlesEnabled(!1)}}catch(e){u.iV.error(e)}}showSubtitles(e,t){var i;void 0===t&&(t=!1);try{this.hideSubtitles(t);const r=this.findTrackFor(e);null!==r&&(r.mode="showing",null===(i=this.hlsCtrl)||void 0===i||i.setWebVTTSubtitlesEnabled(!0))}catch(e){u.iV.error(e)}}findTrackFor(e){var t;const i=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(!i)return null;const r=i.textTracks;for(let n=0;n<r.length;n++){const t=r[n];if(("subtitles"===t.kind||"captions"===t.kind)&&""!==t.label&&!t.id.startsWith("vtt-synthetic-track-")&&(0,d.Sz)(t.language,e.languageCode)&&(void 0===t.renderingType||void 0===t.isEmbedded||void 0===t.isTTML))return t}return null}currentStateSupports(e){return!!this.supports(e)&&null!==this.findTrackFor(e)}supports(e){return e.sources.some((e=>(0,d.fp)(e.url)&&("webvtt"===e.kind||"embedded"===e.kind)))}get hlsInUse(){return"hls"===this.addon.player.currentPluginName}get hlsCtrl(){return this.hlsInUse?this.addon.player.getCtrl():null}}class g extends y{constructor(e){c.q.isDebug&&c.q.isEmbedded&&u.iV.warn("debug build: Allowing VTTTrack Subtitle despite isEmbedded"),super(e),this.subtitleWaitingForInit=null,this.name="VTT-Track",this.onError=e=>{var t,i;const r=null===(i=null===(t=this.addon.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.mediaElement;r instanceof HTMLMediaElement&&(null==r||r.removeChild(e.target))}}get priority(){return 2}onInit(){super.onInit(),u.iV.log("vtt-track onInit",this.subtitleWaitingForInit),null!==this.subtitleWaitingForInit&&(u.iV.log("re-try adding vtt-track on stream init on next tick",this.subtitleWaitingForInit),this.addon.player.safeTimeout((()=>{null!==this.subtitleWaitingForInit?(this.showSubtitles(this.subtitleWaitingForInit),this.subtitleWaitingForInit=null):u.iV.info("vtt stream init superseded during tick!")})))}dispose(){super.dispose(),this.subtitleWaitingForInit=null}static getIdFor(e){return"vtt-synthetic-track-"+String(e.languageCode)}addTrackForSubtitle(e){var t,i,r;const n=g.getIdFor(e),a=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(a&&a instanceof HTMLVideoElement){if(null===a.textTracks.getTrackById(n)){a.setAttribute("crossorigin","anonymous");const t=document.createElement("track");t.setAttribute("default","false"),t.setAttribute("id",n),t.setAttribute("label",M.displayName(e)),t.setAttribute("kind","subtitles"),t.setAttribute("srclang",e.languageCode),t.setAttribute("src",null!==(r=null===(i=e.sources.find((e=>"webvtt"===e.kind&&!(0,d.fp)(e.url))))||void 0===i?void 0:i.url)&&void 0!==r?r:""),t.addEventListener("error",this.onError),a.appendChild(t)}}else this.subtitleWaitingForInit=e,u.iV.log("vtt track could not be added",this.subtitleWaitingForInit)}showSubtitles(e,t){void 0===t&&(t=!1),this.subtitleWaitingForInit=null,this.addTrackForSubtitle(e),super.showSubtitles(e,t)}hideSubtitles(e){void 0===e&&(e=!1),e||(this.subtitleWaitingForInit=null),super.hideSubtitles(e)}findTrackFor(e){var t,i;const r=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;return r instanceof HTMLMediaElement&&null!==(i=r.textTracks.getTrackById(g.getIdFor(e)))&&void 0!==i?i:null}currentStateSupports(e){var t,i;return this.supports(e)&&(null===(i=null===(t=this.addon.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.mediaElement)instanceof HTMLVideoElement}supports(e){return(!c.q.isEmbedded||c.q.isDebug)&&e.sources.some((e=>"webvtt"===e.kind&&!(0,d.fp)(e.url)))}}var b,E,S,w,C,T,A,k=i(187),_=i(5996),I=i(8136),P=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},L=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class x extends k.p{constructor(){super(...arguments),b.add(this),this.configKey="internals/language",this.capabilities=[],this.currentSubtitle=null,this.prevSubtitle=null,this.currentCapability=null,this.metaSubtitles=[],this.signLanguageStreams=[],this.metaAudioList=[],this.metaAudioListAd=[],this.currentAudio=null,E.set(this,null),this.languageSelect=null,this.audioDescriptionSelect=null,this.signLanguageSelect=null,this.subtitleSelect=null,this._lastTimeCode=0,this.displaySubtitles=!1,S.set(this,!1),w.set(this,!1),C.set(this,0),T.set(this,-2)}get ID(){return x.ID}get buttonOrder(){return 20}listAddonButtons(){return this.addonButtonVisible()?[{classList:["ardplayer-button-language","ardplayer-icon","ardplayer-icon-language"],screen:x.OVERVIEW_SCREEN,accessibilityKey:"language"}]:[]}listSecondaryAddonButtons(){return!this.player.isAudio&&0!==this.metaSubtitles.length&&this.metaSubtitles.some((e=>this.subtitleCurrentlyAvailable(e)))&&this.mc.streams.some((e=>"subtitle-burn-in"!==e.kind))?[{classList:["ardplayer-icon",null==this.currentSubtitle?"ardplayer-icon-ut":"ardplayer-icon-utactive"],accessibilityKey:"subtitle",accessibilityVariables:{pressed:null!==this.currentSubtitle}}]:[]}secondaryAddonButtonClicked(e,t){"subtitle"===t.accessibilityKey&&(this.toggleSubtitles(!1,!1,!0),e.classList.toggle("ardplayer-icon-ut",null==this.currentSubtitle),e.classList.toggle("ardplayer-icon-utactive",null!=this.currentSubtitle))}get targetAudio(){var e;return null!==(e=P(this,E,"f"))&&void 0!==e?e:this.currentAudio}get adActive(){var e;return"audio-description"===(null===(e=this.targetAudio)||void 0===e?void 0:e.kind)}describeAudio(e){return(0,d.NZ)(e)?"-":e.languageCode+" "+e.kind+(e.label?' "'+e.label+'"':"")}debugString(){var e,t,i,r,n,a;const s=this.currentSubtitle,l=null===(e=this.player.currentStream)||void 0===e?void 0:e.videoLanguageCode;return this.describeAudio(this.player.currentAudio)+" ("+this.describeAudio(this.targetAudio)+") | "+(null==s?"-":s.languageCode+" "+s.kind+" "+(null!==(i=null===(t=this.currentCapability)||void 0===t?void 0:t.name)&&void 0!==i?i:"-"))+((0,d.fp)(l)||"main"===(null===(r=this.player.currentStream)||void 0===r?void 0:r.kind)?"":" | "+(null!==(a=null===(n=this.player.currentStream)||void 0===n?void 0:n.kind)&&void 0!==a?a:"")+" "+(0,d.vY)(l))}get player(){return super.player}register(){return!!super.register()&&(this.registerPlayerEvent(r.J.EVENT_LOAD_STREAM,this.onLoadStream),this.registerPlayerEvent(r.J.EVENT_STREAM_LOADED,this.onStreamLoaded),this.registerPlayerEvent(r.J.REMOTE_PLAYBACK_CHANGED,this.onStreamLoaded),this.registerPlayerEvent(r.J.EVENT_KEYBOARD_RELEASE,this.onKeyboardRelease),this.registerPlayerEvent(r.J.SETUP_VIEW,this.onSetupView),this.registerPlayerEvent(r.J.SETUP_VIEW_COMPLETE,this.onSetupViewComplete),this.registerPlayerEvent(r.J.EVENT_PLAY_STREAM,this.onPlayStream),this.registerPlayerEvent(r.J.EVENT_PAUSE_STREAM,this.onPauseStream),this.registerPlayerEvent(r.J.EVENT_STOP_STREAM,this.onStopStream),this.registerPlayerEvent(r.J.EVENT_UPDATE_STREAM_TIME,this.onUpdateStreamTime),this.registerPlayerEvent(r.J.VIEWPORT_RESIZE,this.onViewResize),this.registerEvent(x.EVENT_TGGL_SUBTITLES,this.toggleSubtitles),this.registerEvent(x.EVENT_SHOW_SUBTITLES,(()=>{this.toggleSubtitleState(!0,!1,!0)})),this.registerEvent(x.EVENT_HIDE_SUBTITLES,(()=>{this.toggleSubtitleState(!1,!1,!0)})),_.K.for(this.player).storageListeners.add(this),this.log("subtitle enabled by default",this.player.model.playerConfig.generic.isShowSubtitleAtStart,this.metaSubtitles),this.restoreSubtitleTarget(),this.restoreStreamTarget(),this.log("registered"),!0)}restoreStreamTarget(){var e,t;const i=_.K.for(this.player),r=i.get(x.VIDEO_KIND,!1,"main"),n=i.get(x.VIDEO_LANGUAGE,!1,"dgs"),a=i.get(x.AUDIO_KIND),s=i.get(x.AUDIO_LANGUAGE,!1,"deu");if("sign-language"===r){this.log("stream target sign-language",n,"audio kind",a);const t="audio-description"!==a?this.signLanguageStreams:this.signLanguageStreams.filter((e=>e.media.some((e=>e.audios.some((e=>"audio-description"===e.kind))))));if(t.length>0)return this.player.preselectStartupStream(null!==(e=t.find((e=>(0,d.Sz)(n,e.videoLanguageCode))))&&void 0!==e?e:t[0]),void L(this,w,!0,"f")}if("audio-description"===a&&this.metaAudioListAd.length>0){this.log("stream target audio kind",a,"lang",s);const e=this.mc.streams.filter((e=>e.media.some((e=>e.audios.some((e=>e.kind===a))))));e.length>0&&(this.player.preselectStartupStream(1===e.length?e[0]:null!==(t=e.find((e=>e.media.some((e=>e.audios.some((e=>e.kind===a&&(0,d.Sz)(e.languageCode,s))))))))&&void 0!==t?t:e[0]),L(this,w,!0,"f"))}}restoreSubtitleTarget(){var e,t,i;if(this.log("restoreSubtitleTarget"),(!this.displaySubtitles||null==this.currentSubtitle)&&(this.player.model.playerConfig.generic.isShowSubtitleAtStart||_.K.subtitleEnabled(this.player))&&this.metaSubtitles.length>0){const r=null!==(t=null!==(e=_.K.for(this.player).get(x.SUBTITLE_LANGUAGE,!1,null))&&void 0!==e?e:_.K.for(this.player).get(x.AUDIO_LANGUAGE,!1,null))&&void 0!==t?t:"deu";this.currentSubtitle=null!==(i=this.metaSubtitles.find((e=>(0,d.Sz)(e.languageCode,r))))&&void 0!==i?i:this.metaSubtitles[0],this.displaySubtitles=!0,this.log("restored subtitle target",this.currentSubtitle)}}onScreenClosed(e){super.onScreenClosed(e),this.languageSelect=null,this.audioDescriptionSelect=null,this.signLanguageSelect=null,this.subtitleSelect=null}renderToDisplayList(e,t){if(e.title="Sprache",this.log("audiolist",this.metaAudioList,this.currentAudioIndex,this.currentAudio),this.metaAudioList.length>0&&(this.languageSelect=I.mf.renderSelect(e,"Audiosprache",this.metaAudioList.map((e=>x.audioDisplayName(e))),this.currentAudioIndex,(e=>{this.selectAudioLang(this.metaAudioList[e]),this.updateSubtitleUi()}),((e,t,i)=>this.audioCurrentlyAvailable(this.metaAudioList[i])))),this.metaAudioListAd.length>0&&(this.audioDescriptionSelect=I.mf.renderSelect(e,"Audiodeskription",["Aus","An"],this.adActive?1:0,(e=>{this.setAdActive(1===e),this.updateLanguageUI(),this.updateSignLanguageUi(),this.updateSubtitleUi()}),((e,t,i)=>0===i?this.metaAudioList.some((e=>!0!==e.adPhantomMarker)):this.adCurrentlyAvailable()))),this.signLanguageStreams.length>0&&(this.signLanguageSelect=I.mf.renderSelect(e,"Geb\xe4rdensprache",["Aus",...this.signLanguageStreams.map((e=>(0,d.vY)(e.videoLanguageCode)))],this.player.currentStream?this.signLanguageStreams.indexOf(this.player.currentStream)+1:0,(e=>{var t;0===e?this.disableSignedStream():(this.switchStream(this.signLanguageStreams[e-1]),_.K.for(this.player).add(x.VIDEO_KIND,"sign-language"),_.K.for(this.player).add(x.VIDEO_LANGUAGE,this.signLanguageStreams[e-1].videoLanguageCode),this.player.pixelController.triggerCustomPixel(n.J.SUPER_SIGN_LANGUAGE_ACTIVATION,!1,{language:null===(t=this.player.currentStream)||void 0===t?void 0:t.videoLanguageCode})),this.updateLanguageUI(),this.updateAudioDescriptionUi(),this.updateSubtitleUi()}),((e,t,i)=>0===i?this.mc.streams.some((e=>"main"===e.kind)):this.signedCurrentlyAvailable()))),this.capabilities.length>0){const t=["Aus",...this.metaSubtitles.map((e=>{const t=x.displayName(e);return 1===this.metaSubtitles.length&&"Unbekannt"===t?"An":t}))];this.subtitleSelect=I.mf.renderSelect(e,"Untertitel",t,this.currentSubtitle?this.metaSubtitles.indexOf(this.currentSubtitle)+1:0,(e=>{0===e?this.hideSubtitles(!1,!1,!1):this.showSubtitles(this.metaSubtitles[e-1],!1,!1,!1),this.updateSignLanguageUi()}),((e,t,i)=>0===i?this.mc.streams.some((e=>"subtitle-burn-in"!==e.kind)):this.subtitleCurrentlyAvailable(this.metaSubtitles[i-1])))}}updateSignLanguageUi(){var e;null===(e=this.signLanguageSelect)||void 0===e||e.updateSelection(this.player.currentStream?this.signLanguageStreams.indexOf(this.player.currentStream)+1:0)}updateSubtitleUi(){var e;null===(e=this.subtitleSelect)||void 0===e||e.updateSelection(this.currentSubtitle?this.metaSubtitles.indexOf(this.currentSubtitle)+1:0,!0),this.renderSecondaryButtons()}updateAudioDescriptionUi(){var e;null===(e=this.audioDescriptionSelect)||void 0===e||e.updateSelection(this.adActive?1:0)}updateLanguageUI(){var e;null===(e=this.languageSelect)||void 0===e||e.updateValues(this.metaAudioList.map((e=>x.audioDisplayName(e))),this.currentAudioIndex)}subtitleCurrentlyAvailable(e){return this.capabilities.some((t=>t.currentStateSupports(e)))}audioCurrentlyAvailable(e){var t,i,r,n;if(this.adActive&&"standard"!==e.kind)return!1;if(this.player.isAudio)return!0;const a="standard"===e.kind&&this.adActive?"audio-description":e.kind,s=!1===this.player.currentMedia?null:null!==(i=null===(t=this.player.currentStream)||void 0===t?void 0:t.media[this.player.currentMedia])&&void 0!==i?i:null;return null!==(n=null===(r=this.player.currentStream)||void 0===r?void 0:r.media.some((t=>t.audios.some((i=>(0,d.Sz)(i.languageCode,e.languageCode)&&i.kind===a&&(i.channels===e.channels||"audio-description"===a&&void 0===e.channels)&&(i.channelCount===e.channelCount||"audio-description"===a&&void 0===e.channelCount)&&((0,d.fp)(e.label)||i.label===e.label||this.adActive&&!0===e.default)&&(t!==s||this.audioNativeTrackAvailable(i,t.audios.length<2)))))))&&void 0!==n&&n||this.adActive&&this.metaAudioList[this.currentAudioIndex]===e}audioNativeTrackAvailable(e,t){var i,r;const n=null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.getAudioTracks())&&void 0!==r?r:[];if(0===n.length)return t;if(t&&1===n.length&&(0,d.fp)(n[0].language)&&(0,d.fp)(n[0].label))return!0;if(!(0,d.fp)(e.nativeId))return-1!==n.findIndex((t=>t.id===e.nativeId));if(!(0,d.fp)(e.label))return-1!==n.findIndex((t=>t.label===e.label));const a=n.filter((t=>(0,d.Sz)(t.language,e.languageCode)));return Number.isFinite(e.channelCount)?a.some((t=>t.channelCount===e.channelCount)):"surround"===e.channels?a.some((e=>{var t;return(null!==(t=e.channelCount)&&void 0!==t?t:-1)>2})):a.length>0}onLoadStream(){var e,t;L(this,S,null===this.currentAudio,"f"),null===(e=this.player.getCtrl())||void 0===e||e.addSubtitleListener(this),null===(t=this.player.getCtrl())||void 0===t||t.addAudioTrackListener(this)}onStreamLoaded(){var e,t,i;if(P(this,S,"f")){const r=_.K.for(this.player).get(x.AUDIO_LANGUAGE,!1,"deu"),n=_.K.for(this.player).get(x.AUDIO_KIND,!1,"standard");this.currentAudio=null!==(i=null!==(t=null!==(e="audio-description"===n?this.metaAudioListAd.find((e=>(0,d.Sz)(e.languageCode,r))):null)&&void 0!==e?e:this.metaAudioList.find((e=>e.kind===n&&(0,d.Sz)(e.languageCode,r))))&&void 0!==t?t:this.metaAudioList.find((e=>(0,d.Sz)(e.languageCode,r))))&&void 0!==i?i:null}this.player.safeTimeoutPreservingContext((()=>{var e,t,i,r,n,a,s;const l=this.currentAudio;this.updateCurrentAudio(),!l||(0,d.Sz)(null===(e=this.currentAudio)||void 0===e?void 0:e.languageCode,l.languageCode)&&(null===(t=this.currentAudio)||void 0===t?void 0:t.kind)===l.kind||this.setAudioConfig(l,!1,!P(this,S,"f")||P(this,w,"f"),!P(this,S,"f")),this.currentSubtitle?(null===(i=this.currentCapability)||void 0===i?void 0:i.currentStateSupports(this.currentSubtitle))?(null===(r=this.currentCapability)||void 0===r||r.onInit(),null===(n=this.currentCapability)||void 0===n||n.showSubtitles(this.currentSubtitle)):this.showSubtitles(this.currentSubtitle,P(this,S,"f"),!0,!0):"subtitle-burn-in"===(null===(a=this.player.currentStream)||void 0===a?void 0:a.kind)&&(this.currentSubtitle=null!==(s=this.metaSubtitles.find((e=>e.metaStream===this.player.currentStream)))&&void 0!==s?s:null),this.renderSecondaryButtons(),this.updateSubtitleUi(),this.updateSignLanguageUi(),L(this,S,!1,"f"),L(this,w,!1,"f")}))}onTextTracksChanged(e){var t;let i=!1;const r=0===this.metaSubtitles.length;if(this.log("subtitle track added",r,e),"addtrack"===e.type&&e.track&&!e.track.id.startsWith("vtt-synthetic-")&&("captions"===e.track.kind||"subtitles"===e.track.kind)&&!(0,d.fp)(e.track.language)&&"und"!==e.track.language&&"null"!==e.track.language){"showing"===e.track.mode&&(e.track.mode="hidden");const t=this.metaSubtitles.find((t=>{var i,r;return"normal"===t.kind&&(0,d.Sz)(t.languageCode,null!==(r=null===(i=e.track)||void 0===i?void 0:i.language)&&void 0!==r?r:"")}));if(t?t.sources.some((e=>"embedded"===e.kind))||(t.sources.push({kind:"embedded"}),i=!0):(this.metaSubtitles.push({languageCode:e.track.language,kind:"normal",sources:[{kind:"embedded"}]}),i=!0),i){const t={languageCode:e.track.language,kind:"normal",sources:[{kind:"embedded"}]};this.log("meta-subtitle added",t);const i=x.CAPABILITIES.filter((e=>!this.capabilities.some((t=>t instanceof e)))).map((e=>new e(this))).filter((e=>e.supports(t)));i.length>0&&(this.log("capabilities added",i.map((e=>e.name))),this.capabilities.push(...i),this.capabilities.sort(((e,t)=>t.priority-e.priority)),this.log("prioritized capabilities:",this.capabilities.map((e=>e.name+" - "+e.priority)))),this.renderButtons(),this.renderSecondaryButtons(),r&&this.restoreSubtitleTarget()}(null!=this.currentSubtitle&&null==this.currentCapability&&0===P(this,C,"f")||0!==P(this,C,"f"))&&(0!==P(this,C,"f")&&clearTimeout(P(this,C,"f")),this.log("timeout to try to restore inactive current subtitle"),L(this,C,this.player.safeTimeout((()=>{this.currentSubtitle&&(this.log("try to restore inactive current subtitle"),this.showSubtitles(this.currentSubtitle,!1,!0,!0)),L(this,C,0,"f")}),150),"f"))}null===(t=this.subtitleSelect)||void 0===t||t.updateEnabledOptions()}onAudioTracksChanged(e){var t;let i=!1;e.filter((e=>!(0,d.fp)(e.language)&&"und"!==e.language&&"null"!==e.language)).forEach((e=>{var t,r,n,a;const s=!0===e.isAudioDescription?"audio-description":e.isSimpleLanguage?"simple-language":!0===e.isSpeechOptimized?"speech-optimized":"standard",l="audio-description"===s?this.metaAudioListAd:this.metaAudioList,o=e.channelCount?e.channelCount<=1?"mono":e.channelCount>2?"surround":"stereo":"stereo",u=null!==(t=(0,d.fp)(e.id)?void 0:l.find((t=>t.nativeId===e.id&&(0,d.Sz)(e.language,t.languageCode))))&&void 0!==t?t:l.find((t=>t.kind===s&&(0,d.Sz)(t.languageCode,e.language)&&((0,d.fp)(e.label)||"audio-description"===s||e.label===t.label||(0,d.Sz)(e.label,t.languageCode))&&o===t.channels&&e.channelCount===t.channelCount&&(!0!==e.default||!0===t.default)));u?(null===(n=this.player.currentStream)||void 0===n?void 0:n.media[this.player.currentMedia||0].audios.some((e=>(0,d.Sz)(e.languageCode,u.languageCode)&&e.kind===u.kind)))||(null===(a=this.player.currentStream)||void 0===a||a.media[this.player.currentMedia||0].audios.push(u),i=!0):(null===(r=this.player.currentStream)||void 0===r||r.media[this.player.currentMedia||0].audios.push({isDynamic:!0,kind:s,languageCode:e.language,nativeId:e.id,label:e.label,channelCount:e.channelCount,default:e.default,channels:o}),l.find((t=>t.kind===s&&(0,d.Sz)(t.languageCode,e.language)&&((0,d.fp)(e.label)||"audio-description"===s||(0,d.fp)(t.label)||e.label===t.label||(0,d.Sz)(e.label,t.languageCode))&&(o===t.channels||void 0===t.channels)&&(e.channelCount===t.channelCount||void 0===t.channelCount||void 0===e.channelCount)))||l.push({kind:s,languageCode:e.language,label:(0,d.fp)(e.label)||e.label===e.language?void 0:e.label,channelCount:e.channelCount,default:e.default,channels:o}),i=!0)})),i?(this.updateCurrentAudio(),this.renderButtons(),this.renderSecondaryButtons()):null===(t=this.languageSelect)||void 0===t||t.updateEnabledOptions(),null!=P(this,E,"f")&&(this.log("retry audio switch after audios available"),this.setAudioConfig(P(this,E,"f"),!1,!0,!0),this.updateCurrentAudio())}onStorageValueChanged(e,t){e!==_.K.SUBTITLE_ENABLED||(0,d.NZ)(t)||this.displaySubtitles===t||this.toggleSubtitles(!0,!0,!0)}onStopStream(){var e;null===(e=this.currentCapability)||void 0===e||e.onStop()}onPlayStream(e){var t;this.updateCurrentAudio(),null===(t=this.currentCapability)||void 0===t||t.onPlayStream(e)}onPauseStream(e){var t;null===(t=this.currentCapability)||void 0===t||t.onPauseStream(e)}onUpdateStreamTime(e){var t;this._lastTimeCode!==e.currentTime&&(this._lastTimeCode=e.currentTime,null===(t=this.currentCapability)||void 0===t||t.onUpdateStreamTime(e))}onViewResize(e){var t;null===(t=this.currentCapability)||void 0===t||t.onViewResize(e)}onSetupView(e){this.capabilities.forEach((t=>{t.onSetupView(e)}))}onKeyboardRelease(e){var t;switch(null==e?void 0:e.shortcut){case"u":case"c":this.player.pixelController.triggerPixel(this.displaySubtitles?n.J.IA_KEY_SUBTITLE_DEACTIVATION:n.J.IA_KEY_SUBTITLE_ACTIVATION),this.toggleSubtitles(!1,!1,!0);break;case"a":this.player.pixelController.triggerPixel(this.adActive?n.J.IA_KEY_AUDIODESCRIPTION_DEACTIVATION:n.J.IA_KEY_AUDIODESCRIPTION_ACTIVATION),this.setAdActive(!this.adActive);break;case"g":this.player.pixelController.triggerPixel("sign-language"!==(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind)?n.J.IA_KEY_SIGN_LANGUAGE_ACTIVATION:n.J.IA_KEY_SIGN_LANGUAGE_DEACTIVATION),this.toggleSignLanguage()}}onSetupViewComplete(){this.displaySubtitles&&null!==this.currentSubtitle?this.showSubtitles(this.currentSubtitle,!0,!1,!0):this.hideSubtitles(!0,!0,!0)}toggleSubtitleState(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),e!==this.displaySubtitles&&this.toggleSubtitles(t,i)}toggleSubtitles(e,t,i){var r,a,s,l,o;if(void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===i&&(i=!1),null===(r=null==this?void 0:this.player)||void 0===r?void 0:r.getCtrl())if(0!==this.metaSubtitles.length){if(i||!this.displaySubtitles)if(this.displaySubtitles=!this.displaySubtitles,this.displaySubtitles){const i=null!==(l=null!==(s=null!==(a=this.prevSubtitle)&&void 0!==a?a:this.metaSubtitles.find((e=>{var t;return(0,d.Sz)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&this.subtitleCurrentlyAvailable(e)})))&&void 0!==s?s:this.metaSubtitles.find((e=>this.subtitleCurrentlyAvailable(e))))&&void 0!==l?l:null;if(null===i)return;this.showSubtitles(i,!1,t,e||t)}else this.hideSubtitles(!1,t,e||t);else{let i=null;for(let e=this.metaSubtitles.findIndex((e=>e===this.currentSubtitle));e<this.metaSubtitles.length;e++)if(!(0,d.Sz)(this.metaSubtitles[e].languageCode,null===(o=this.currentSubtitle)||void 0===o?void 0:o.languageCode)&&this.subtitleCurrentlyAvailable(this.metaSubtitles[e])){i=this.metaSubtitles[e];break}null!==i?this.showSubtitles(i,!1,t,e||t):(this.hideSubtitles(!1,t,e||t),this.prevSubtitle=this.metaSubtitles[0])}this.updateSubtitleUi(),this.updateSignLanguageUi()}else e||this.player.pixelController.triggerPixel(n.J.SUPER_SUBTITLE_UNAVAILABLE)}toggleSignLanguage(){var e,t,i,r;if(null===(e=null==this?void 0:this.player)||void 0===e?void 0:e.getCtrl()){if("sign-language"===(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind))this.disableSignedStream();else if(this.signedCurrentlyAvailable()){const e=_.K.for(this.player).get(x.VIDEO_LANGUAGE),t=null!==(r=null!==(i=this.signLanguageStreams.find((t=>(0,d.Sz)(t.videoLanguageCode,e))))&&void 0!==i?i:this.signLanguageStreams.find((e=>{var t;return(0,d.Sz)(e.videoLanguageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)})))&&void 0!==r?r:this.signLanguageStreams[0];_.K.for(this.player).add(x.VIDEO_KIND,"sign-language"),_.K.for(this.player).add(x.VIDEO_LANGUAGE,t.videoLanguageCode),this.switchStream(t),this.player.pixelController.triggerCustomPixel(n.J.SUPER_SIGN_LANGUAGE_ACTIVATION,!1,{language:t.videoLanguageCode})}else this.player.pixelController.triggerPixel(n.J.SUPER_SIGN_LANGUAGE_UNAVAILABLE);this.updateLanguageUI(),this.updateAudioDescriptionUi(),this.updateSubtitleUi()}}disableSignedStream(){var e,t,i,r;if(this.log("disableSignedStream",this.player.currentStream),"sign-language"!==(null===(e=this.player.currentStream)||void 0===e?void 0:e.kind))return;const a=this.currentAudio,s=this.mc.streams.filter((e=>"main"===e.kind));_.K.for(this.player).add(x.VIDEO_KIND,"main"),this.switchStream(null!==(r=null!==(i=null!==(t=s.find((e=>e.media.some((e=>e.audios.some((e=>(0,d.Sz)(e.languageCode,null==a?void 0:a.languageCode)&&e.kind===(null==a?void 0:a.kind))))))))&&void 0!==t?t:s.find((e=>e.media.some((e=>e.audios.some((e=>(0,d.Sz)(e.languageCode,null==a?void 0:a.languageCode))))))))&&void 0!==i?i:s.pop())&&void 0!==r?r:null),this.player.pixelController.triggerPixel(n.J.SUPER_SIGN_LANGUAGE_DEACTIVATION)}switchStream(e){var t,i;if(this.log("switchStream",e),null!==e&&e!==(null===(t=this.player)||void 0===t?void 0:t.currentStream)){const t=this.currentAudio,r=this.currentSubtitle;if(null!==r&&this.hideSubtitles(!0,!0,!0),this.player.switchStream(e),null!==r)if(this.subtitleCurrentlyAvailable(r))this.showSubtitles(r,!0,!0,!0);else{const e=this.metaSubtitles.filter((e=>(0,d.Sz)(e.languageCode,r.languageCode)&&(e.isMetaStream?this.subtitleCurrentlyAvailable({languageCode:e.languageCode,kind:e.kind,sources:e.sources}):this.subtitleCurrentlyAvailable(e)))),t=null!==(i=e.find((e=>e.kind===r.kind)))&&void 0!==i?i:e.pop();t&&this.showSubtitles(t,!0,!0,!0)}this.setAudioConfig(t,!1,!0)}}hideSubtitles(e,t,i){var r;this.displaySubtitles=!1,null===(r=this.currentCapability)||void 0===r||r.hideSubtitles(e),this.currentCapability=null,this.prevSubtitle=this.currentSubtitle,this.currentSubtitle=null,this.updateCurrentAudio(),e||i||_.K.for(this.player).add(_.K.SUBTITLE_ENABLED,!1,!1,!t,!1),t||this.player.pixelController.triggerPixel(n.J.SUPER_SUBTITLE_DEACTIVATION)}showSubtitles(e,t,i,r){var a,s;void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),this.displaySubtitles=!0;const l=this.capabilities.find((t=>t.currentStateSupports(e)));this.log("showing subtitle using capability",e,null==l?void 0:l.name),l?(this.currentCapability===l||(null===(a=this.currentCapability)||void 0===a||a.hideSubtitles(t),null===(s=this.currentCapability)||void 0===s||s.onStop(),this.currentCapability=l,this.currentCapability.onInit()),this.currentCapability.showSubtitles(e,t),this.currentSubtitle=e,this.updateCurrentAudio(),r||(_.K.for(this.player).add(x.SUBTITLE_LANGUAGE,e.languageCode),_.K.for(this.player).add(_.K.SUBTITLE_ENABLED,!0,!1,!i,!1)),i||this.player.pixelController.triggerCustomPixel(n.J.SUPER_SUBTITLE_ACTIVATION,!1,{language:this.currentSubtitle.languageCode})):t||this.hideSubtitles(t,i,r)}selectAudioLang(e){var t;this.setAudioConfig(this.adActive&&null!==(t=this.metaAudioListAd.find((t=>(0,d.Sz)(t.languageCode,e.languageCode))))&&void 0!==t?t:e,!0)}retryAudioConfigOnTracksChange(e){L(this,E,e,"f"),this.player.safeTimeout((()=>{L(this,E,null,"f")}),2e3)}setAudioConfig(e,t,i,n){var a,s,l,o,u,c,h,p,v,m,f,y,g;if(void 0===i&&(i=!1),void 0===n&&(n=!1),this.log("setAudio",e,t,n,i),!e)return;t&&(_.K.for(this.player).add(x.AUDIO_LANGUAGE,e.languageCode),_.K.for(this.player).add(x.AUDIO_KIND,e.kind)),L(this,E,null,"f");const b=null===(a=this.player.currentStream)||void 0===a?void 0:a.media[this.player.currentMedia||0].audios.filter((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode))),S=null!==(u=null!==(o=null!==(l=null!==(s=null==b?void 0:b.find((t=>t.nativeId===e.nativeId&&t.label===e.label&&t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==s?s:null==b?void 0:b.find((t=>t.label===e.label&&t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==l?l:null==b?void 0:b.find((t=>t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==o?o:null==b?void 0:b.find((t=>t.channels===e.channels)))&&void 0!==u?u:null==b?void 0:b.find((e=>!0));if(S)return this.log("setAudio","track found",S),this.player.switchAudio(S)||this.retryAudioConfigOnTracksChange(S),void this.updateCurrentAudio();if(i&&n){const t=null===(c=this.player.currentStream)||void 0===c?void 0:c.media[this.player.currentMedia||0].audios.find((t=>(0,d.Sz)(t.languageCode,e.languageCode)));if(this.log("setAudio","settling for",t),t)return this.player.switchAudio(t),void this.updateCurrentAudio()}if(!n){const r=null!==(p=null===(h=this.player.currentStream)||void 0===h?void 0:h.media.map(((e,t)=>({stream:e,idx:t}))).filter((t=>t.stream.audios.some((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode))))))&&void 0!==p?p:[];let n=1===r.length?r[0].idx:-1;if(r.length>1){const e=!1!==this.player.currentMedia&&null!==(m=null===(v=this.player.currentStream)||void 0===v?void 0:v.media[this.player.currentMedia])&&void 0!==m?m:null;if(null!=e){const t=["qualityLabel","isAdaptiveQualitySelectable","aspectRatio","maxHResolutionPx","videoCodec","isHighDynamicRange","isUltraLowLatency","hasEmbeddedSubtitles"];for(;-1===n&&t.length>0;)n=null!==(y=null===(f=r.find((i=>!t.some((t=>i.stream[t]!==e[t])))))||void 0===f?void 0:f.idx)&&void 0!==y?y:-1,t.pop();-1===n&&(n=r[0].idx)}}if(n>=0)return this.player.switchMedium(n,!0),void this.setAudioConfig(e,t,i,!0);i&&this.retryAudioConfigOnTracksChange(e)}if(!i){const t=null!==(g=this.mc.streams.find((t=>{var i;return t.kind===(null===(i=this.player.currentStream)||void 0===i?void 0:i.kind)&&t.media.some((t=>t.audios.some((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode)))))})))&&void 0!==g?g:this.mc.streams.find((t=>t.media.some((t=>t.audios.some((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode)))))));if(this.log("setAudio","streamswitch",t),t){this.player.switchStream(t);const i=()=>{this.player.removeEventListener(r.J.EVENT_READY,i),this.setAudioConfig(e,!1,!0)};return void this.player.addEventListener(r.J.EVENT_READY,i)}}this.updateCurrentAudio()}setAdActive(e){var t,i,r,a,s,l,o,u,c,h;if(this.log("setAdActive",e,"current:",this.currentAudio),e&&"audio-description"!==(null===(t=this.currentAudio)||void 0===t?void 0:t.kind))this.setAudioConfig(null!==(i=this.metaAudioListAd.find((e=>{var t;return(0,d.Sz)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)})))&&void 0!==i?i:this.metaAudioListAd[0],!0),this.adActive?this.player.pixelController.triggerCustomPixel(n.J.SUPER_AUDIODESCRIPTION_ACTIVATION,!1,{language:null===(r=this.currentAudio)||void 0===r?void 0:r.languageCode}):this.player.pixelController.triggerPixel(n.J.SUPER_AUDIODESCRIPTION_UNAVAILABLE);else if(!e&&"audio-description"===(null===(a=this.currentAudio)||void 0===a?void 0:a.kind)){const e=this.metaAudioList.filter((e=>{var t;return!0!==e.adPhantomMarker&&(0,d.Sz)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&"standard"===e.kind}));this.setAudioConfig(null!==(h=null!==(c=null!==(u=null!==(o=null!==(l=null!==(s=e.find((e=>{var t,i;return!0===e.default&&e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)&&e.channelCount===(null===(i=this.currentAudio)||void 0===i?void 0:i.channelCount)})))&&void 0!==s?s:e.find((e=>{var t,i;return e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)&&e.channelCount===(null===(i=this.currentAudio)||void 0===i?void 0:i.channelCount)})))&&void 0!==l?l:e.find((e=>{var t;return e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)})))&&void 0!==o?o:e.find((e=>!0)))&&void 0!==u?u:this.metaAudioList.find((e=>{var t;return!0!==e.adPhantomMarker&&(0,d.Sz)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&"simple-language"===e.kind})))&&void 0!==c?c:this.metaAudioList.find((e=>!0!==e.adPhantomMarker)))&&void 0!==h?h:null,!0),this.player.pixelController.triggerPixel(n.J.SUPER_AUDIODESCRIPTION_DEACTIVATION)}}adCurrentlyAvailable(){return this.metaAudioListAd.length>0}signedCurrentlyAvailable(){return this.signLanguageStreams.length>0}updateCurrentAudio(){var e,t,i;const r=this.currentAudio;this.currentAudio=this.player.currentAudio,r!==this.currentAudio&&(this.log("currentAudio",this.currentAudio),L(this,T,-2,"f"),P(this,S,"f")||null==r||r.languageCode===(null===(e=this.currentAudio)||void 0===e?void 0:e.languageCode)&&r.kind===this.currentAudio.kind||this.player.pixelController.triggerCustomPixel(n.J.SUPER_AUDIOSTREAM_CHANGE,!1,{language:null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode,kind:null===(i=this.currentAudio)||void 0===i?void 0:i.kind})),this.updateLanguageUI(),this.updateAudioDescriptionUi(),this.updateSubtitleUi()}get currentAudioIndex(){return-2!==P(this,T,"f")||(L(this,T,P(this,b,"a",A),"f"),this.player.safeTimeout((()=>{L(this,T,-2,"f")}))),P(this,T,"f")}isSupported(){if(this.metaSubtitles=this.player.model.mediaCollection.isAudioOnly?[]:this.mc.streams.filter((e=>"subtitle-burn-in"===e.kind)).map((e=>{var t,i;return{isMetaStream:!0,kind:"simple-language"===(null===(i=null===(t=e.media[0])||void 0===t?void 0:t.audios[0])||void 0===i?void 0:i.kind)?"simple-language":"normal",languageCode:e.videoLanguageCode,metaStream:e,sources:[]}})),!this.player.model.mediaCollection.isAudioOnly){const e=this.metaSubtitles.map((e=>e.languageCode));this.mc.subtitles.forEach((t=>{if(e.some((e=>(0,d.Sz)(e,t.languageCode)))){const e=this.metaSubtitles.find((e=>e.kind===t.kind&&(0,d.Sz)(e.languageCode,t.languageCode)));e?e.sources.push(...t.sources):this.metaSubtitles.push(t)}else this.metaSubtitles.push(t),e.push(t.languageCode)}))}return this.signLanguageStreams=this.mc.streams.filter((e=>"sign-language"===e.kind)),this.capabilities=x.CAPABILITIES.map((e=>new e(this))).filter((e=>this.metaSubtitles.some((t=>e.supports(t))))).sort(((e,t)=>t.priority-e.priority)),this.log("prioritized capabilities:",this.capabilities.map((e=>e.name+" - "+e.priority))),this.mc.streams.forEach((e=>{e.media.forEach((e=>{var t;null===(t=e.audios)||void 0===t||t.forEach((e=>{const t="audio-description"===e.kind?this.metaAudioListAd:this.metaAudioList;(0,d.fp)(e.languageCode)||"und"===e.languageCode||"null"===e.languageCode||-1!==t.findIndex((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode)&&t.channels===e.channels&&t.channelCount===e.channelCount&&t.label===e.label))||t.push(Object.assign({},e))}))}))})),this.metaAudioList.push(...this.metaAudioListAd.filter((e=>-1===this.metaAudioList.findIndex((t=>(0,d.Sz)(t.languageCode,e.languageCode))))).map((e=>Object.assign({},e,{kind:"standard",adPhantomMarker:!0})))),0===this.metaAudioListAd.length&&this.metaAudioList.filter((e=>!0===e.isLegacyDefaultEntry)).forEach((e=>{this.metaAudioList.splice(this.metaAudioList.indexOf(e),1)})),!0}addonButtonVisible(){return this.capabilities.length>0||this.metaAudioList.length>1||this.signLanguageStreams.length>0||this.metaAudioListAd.length>0}dispose(){super.dispose(),_.K.for(this.player).storageListeners.delete(this),this.capabilities.forEach((e=>{e.dispose()})),this.capabilities=[],this.languageSelect=null,this.audioDescriptionSelect=null,this.signLanguageSelect=null,this.subtitleSelect=null}static audioDisplayName(e){if(!(0,d.fp)(e.label))return e.label;let t="";switch(e.kind){case"simple-language":t=" - Einfache Sprache";break;case"speech-optimized":t=" - Klare Sprache"}const i=""+(0,d.vY)(e.languageCode)+t;switch(e.channels){case"mono":return i+" - Mono";case"surround":return Number.isFinite(e.channelCount)?i+" - "+String(e.channelCount)+"-Kanal":i+" - Surround";default:return i}}static displayName(e){return(0,d.vY)(e.languageCode)+("simple-language"===e.kind?" - Einfache Sprache":"")}}E=new WeakMap,S=new WeakMap,w=new WeakMap,C=new WeakMap,T=new WeakMap,b=new WeakSet,A=function(){const e=this.currentAudio;if(!e)return-1;const t=(0,d.fp)(e.nativeId)?-1:this.metaAudioList.findIndex((t=>t.nativeId===e.nativeId));if(t>=0)return t;const i=(0,d.fp)(e.label)?-1:this.metaAudioList.findIndex((t=>t.label===e.label&&(0,d.Sz)(t.languageCode,e.languageCode)));if(i>=0)return i;const r=this.metaAudioList.findIndex((t=>!0===t.default&&(0,d.Sz)(t.languageCode,e.languageCode)&&t.channels===e.channels&&t.channelCount===e.channelCount&&(this.adActive?"standard"===t.kind:t.kind===e.kind)));if(r>=0)return r;const n=this.metaAudioList.findIndex((t=>(0,d.Sz)(t.languageCode,e.languageCode)&&t.channels===e.channels&&t.channelCount===e.channelCount&&(this.adActive?"standard"===t.kind:t.kind===e.kind)));if(n>=0)return n;const a=this.metaAudioList.findIndex((t=>(0,d.Sz)(t.languageCode,e.languageCode)&&t.channels===e.channels&&(this.adActive?"standard"===t.kind:t.kind===e.kind)));return a>=0?a:this.metaAudioList.findIndex((t=>(0,d.Sz)(t.languageCode,e.languageCode)&&(this.adActive?"standard"===t.kind:t.kind===e.kind)))},x.ID="AddonLanguage",x.OVERVIEW_SCREEN="overview",x.SUBTITLE_LANGUAGE="subtitleLang",x.VIDEO_KIND="videoKind",x.VIDEO_LANGUAGE="videoLang",x.AUDIO_LANGUAGE="audioLang",x.AUDIO_KIND="audioKind",x.CLASS_SUBTITLE_PLACEHOLDER="ardplayer-untertitel",x.EVENT_HIDE_SUBTITLES="AddonUntertitel.hideSubtitles",x.EVENT_SHOW_SUBTITLES="AddonUntertitel.showSubtitles",x.EVENT_TGGL_SUBTITLES="AddonUntertitel.toggleSubtitles",x.CAPABILITIES=[g,class extends y{constructor(){super(...arguments),this.name="ExternalTrack"}get priority(){return 2}supports(e){return e.sources.some((e=>"webvtt"===e.kind&&!(0,d.fp)(e.url)))}},m,class extends a{constructor(){super(...arguments),this.name="DashJS"}get priority(){return 1}get dashInUse(){return"dashVideo"===this.addon.player.currentPluginName}get dashCtrl(){return this.dashInUse?this.addon.player.getCtrl():null}supports(e){return!c.q.isEmbedded&&e.sources.some((e=>"embedded"===e.kind))}currentStateSupports(e){var t,i;return this.dashInUse&&e.sources.some((e=>"embedded"===e.kind))&&(null!==(i=null===(t=this.dashCtrl)||void 0===t?void 0:t.getTextTrackIndex(e.languageCode))&&void 0!==i?i:-1)>=0}showSubtitles(e,t){var i;void 0===t&&(t=!1),null===(i=this.dashCtrl)||void 0===i||i.setSubtitleVisible(!0,e.languageCode)}hideSubtitles(e){var t;void 0===e&&(e=!1),null===(t=this.dashCtrl)||void 0===t||t.setSubtitleVisible(!1)}},class extends a{constructor(){super(...arguments),this.name="StreamSwitch"}get priority(){return-1}hideSubtitles(e){void 0===e&&(e=!1),this.switchStreamKind("main",e)}showSubtitles(e,t){void 0===t&&(t=!1),e.metaStream&&this.switchStream(e.metaStream,t)}supports(e){var t;return null!==(t=e.isMetaStream)&&void 0!==t&&t&&e.metaStream instanceof f.F6}currentStateSupports(e){var t,i,r,n,a,s,l,o,u,c,h,p,v,m,f,y,g,b,E;const S=null!==(o=null!==(n=null!==(i=null===(t=this.addon.currentAudio)||void 0===t?void 0:t.languageCode)&&void 0!==i?i:null===(r=this.addon.player.currentAudio)||void 0===r?void 0:r.languageCode)&&void 0!==n?n:null===(l=null===(s=null===(a=this.addon.player.currentStream)||void 0===a?void 0:a.media[this.addon.player.currentMedia||0])||void 0===s?void 0:s.audios[0])||void 0===l?void 0:l.languageCode)&&void 0!==o?o:"deu",w=null!==(y=null!==(p=null!==(c=null===(u=this.addon.targetAudio)||void 0===u?void 0:u.kind)&&void 0!==c?c:null===(h=this.addon.player.currentAudio)||void 0===h?void 0:h.kind)&&void 0!==p?p:null===(f=null===(m=null===(v=this.addon.player.currentStream)||void 0===v?void 0:v.media[this.addon.player.currentMedia||0])||void 0===m?void 0:m.audios[0])||void 0===f?void 0:f.kind)&&void 0!==y?y:"standard";return this.supports(e)&&("main"===(null===(g=this.addon.player.currentStream)||void 0===g?void 0:g.kind)||this.addon.player.currentStream===e.metaStream)&&null!==(E=null===(b=e.metaStream)||void 0===b?void 0:b.media.some((e=>e.audios.some((e=>(0,d.Sz)(e.languageCode,S)&&e.kind===w)))))&&void 0!==E&&E}switchStreamKind(e,t){void 0===t&&(t=!1),this.addon.player.switchStreamKind(e,t)}switchStream(e,t){void 0===t&&(t=!1),this.addon.player.switchStream(e,t)}suppressPlayerNotifications(){return!0}},y];var M=x},2284:function(e,t,i){"use strict";i.d(t,{x:function(){return n}});var r=i(6248);class n extends r.G6{constructor(){super(...arguments),this.supportType="BottomSheet"}register(){return super.register()}static isInstance(e){return super.isInstance(e)&&"BottomSheet"===e.supportType}}},8136:function(e,t,i){"use strict";i.d(t,{F$:function(){return l},b$:function(){return o},mf:function(){return n},pr:function(){return s}});var r=i(6735);class n{get focusRequest(){return this._focusRequest}toJSON(){const e=Object.assign({},this);return e.focusRequest=this._focusRequest,e}constructor(e,t,i){void 0===e&&(e=""),void 0===t&&(t=!1),void 0===i&&(i=[]),this.title=e,this.showBack=t,this.children=i,this.id="displaylist-"+(0,r.HP)(),this._focusRequest=null,this._renderer=null}findElementById(e,t){if(void 0===t&&(t=this),a(t)&&l(t)&&t.id===e)return t;const i=t;if(void 0!==i.children)for(let r=0;r<i.children.length;r++){const t=this.findElementById(e,i.children[r]);if(null!=t)return t}return null}setRequestedFocus(e){var t;this._focusRequest=(0,r.fp)(null==e?void 0:e.id)?null:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null}updateNode(e){var t;this.findElementById(e.id)&&(null===(t=this._renderer)||void 0===t||t.updateDisplayList(this,e))}renderUsing(e){this._renderer=e,e.renderDisplayList(this)}static getContaining(e){let t=e;for(;a(t)&&t._container;)t=t._container;return t&&t instanceof n?t:null}static copyAria(e,t){var i,r,n;e.ariaLabel=null!==(r=null!==(i=t.getAttribute("aria-label"))&&void 0!==i?i:t.getAttribute("title"))&&void 0!==r?r:void 0,e.ariaRole=null!==(n=t.getAttribute("role"))&&void 0!==n?n:void 0}static createHorizontalContainer(e,t,i){void 0===i&&(i=!1);const r={cssClass:t,centered:i,type:"hContainer",children:[],content:"",_container:e};return e.children.push(r),r}static createHorizontalScrollingContainer(e,t,i){const r={cssClass:t,contentSelector:i,type:"scrollingHContainer",children:[],content:"",_container:e};return e.children.push(r),r}static createVerticalContainer(e,t){const i={cssClass:t,type:"vContainer",children:[],content:"",_container:e};return e.children.push(i),i}static createUpdatingVerticalContainer(e,t){const i={cssClass:t,type:"updatingVContainer",id:"ardplayer-updatingVcontainer-"+(0,r.HP)(),children:[],content:"",_container:e,replaceContent(e){var t;this.children=[],e(this),null===(t=n.getContaining(this))||void 0===t||t.updateNode(this)}};return e.children.push(i),i}static renderJumpmark(e,t,i,a,s,l,o,d,u,c,h,p,v,m,f){const y="ardplayer-jumpmark-"+((0,r.fp)(f)?(0,r.HP)():f),g={type:"jumpmark",id:y,content:t,subtitle:s,synopsis:l,image:p,isEPG:o,isSelected:d,gutterIconUrl:v,gutterIconA11yDescription:m,highlightIconUrl:u,highlightIconA11yDescription:c,highlightTime:h,onClick:a?()=>{a.withExecutionContext({type:"synthetic",initiator:y},i)}:i,_container:e,updateRender(){var e;null===(e=n.getContaining(this))||void 0===e||e.updateNode(this)}};return e.children.push(g),g}static renderTeaser(e,t,i,n,a,s,l,o,d,u){const c={type:"teaser",id:"ardplayer-teaser-"+(0,r.HP)(),availability:(0,r.fp)(s)?void 0:s,content:null!=l?l:"",duration:a,timer:d,image:t,byline:o,onClick:i,onImpression:n,onTimer:u,_container:e};return e.children.push(c),c}static renderHeading(e,t,i,n,a){void 0===n&&(n="heading"),void 0===a&&(a=2);const s={content:t,type:"h",ariaRole:n,ariaLabel:(0,r.fp)(i)?void 0:i,level:a,_container:e};return e.children.push(s),s}static renderButton(e,t,i,n,a,s,l){void 0===n&&(n=""),void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===l&&(l="");const o={type:"button",content:t,icon:(0,r.fp)(n)?null:n,endIcon:(0,r.fp)(l)?null:l,onClick:i,id:"ardplayer-button-"+(0,r.HP)(),primary:a,pill:s,disabled:!1,_container:e};return e.children.push(o),o}static renderTextField(e,t,i,n,a,s){void 0===t&&(t=""),void 0===i&&(i=""),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===s&&(s=!0);const l={type:"input-text",id:"ardplayer-input-"+(0,r.HP)(),content:i,disabled:a,small:s,placeholder:t,readonly:n,_container:e};return e.children.push(l),l}static renderCheckbox(e,t,i){void 0===t&&(t=""),void 0===i&&(i=!1);const n={checked:i,content:t,disabled:!1,type:"checkbox",id:"ardplayer-check-"+(0,r.HP)(),_container:e};return e.children.push(n),n}static renderByline(e,t,i,n){void 0===n&&(n=!1);const a={type:"byline",ariaLabel:(0,r.fp)(i)?void 0:i,content:t,allowHtml:n,_container:e};return e.children.push(a),a}static renderChip(e,t,i,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1);const s={type:"chip",highlight:n,allowHtml:a,content:t,ariaLabel:(0,r.fp)(i)?void 0:i,_container:e};return e.children.push(s),s}static renderBodyText(e,t,i,n){void 0===n&&(n=!1);const a={type:"paragraph",content:t,allowHtml:n,ariaLabel:(0,r.fp)(i)?void 0:i,_container:e};return e.children.push(a),a}static renderSelect(e,t,i,a,s,l){const o={type:"select",id:"ardplayer-select-"+(0,r.HP)(),_container:e,content:t,values:i,enabled:l?i.map(((e,t)=>{var i;return null!==(i=l(e,t===a,t))&&void 0!==i&&i})):i.map((()=>!0)),selectedIndex:a,callbacks:{optionSelected:s,isOptionEnabled:l},updateEnabledOptions(){var e;this.enabled=l?i.map(((e,t)=>l(e,t===a,t))):i.map((()=>!0)),null===(e=n.getContaining(this))||void 0===e||e.updateNode(this)},updateSelection(e,t){var i;this.selectedIndex=e,!0===t?this.updateEnabledOptions():null===(i=n.getContaining(this))||void 0===i||i.updateNode(this)},updateValues(e,t){this.values=e,this.updateSelection(t,!0)},_enforceIntegrity(){this.enabled=l?i.map(((e,t)=>l(e,t===a,t))):i.map((()=>!0))}};return e.children.push(o),o}}function a(e){return void 0!==e.content}function s(e){return void 0!==e.children&&void 0!==e.content}function l(e){return function(e){return void 0!==e.type}(e)&&void 0!==e.id}function o(e){return void 0!==e.onImpression&&"function"==typeof e.onImpression}},4307:function(e,t,i){"use strict";i.d(t,{SD:function(){return y},bi:function(){return f}});var r=i(8136),n=i(6735),a=i(5855),s=i(2284),l=i(4178),o=i(3197),d=i(4169),u=i(1225),c=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},h=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},p=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},v=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},m=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let f=(()=>{var e,t,i;let r,n,a=[l.VP],o=[];return n=class extends s.x{constructor(){super(...arguments),this.BaseId="BottomSheet-DOM",e.set(this,null),t.set(this,null),i.set(this,null)}setHandler(i){p(this,e,i,"f"),null!=v(this,t,"f")&&(v(this,t,"f").callbackHandler=i)}get listRenderer(){if(null==v(this,t,"f")){const i=this.player.viewCtrl.bottomSheet,r=i._domContext;p(this,t,new y(r.content,r.contentWrapper,r.title,{addSyntheticScreen:(e,t)=>{var r,n;const a=null===(n=null===(r=i.activeScreen)||void 0===r?void 0:r.addon)||void 0===n?void 0:n.syntheticScreens;null!=a&&(a[e]={render:t})},showSyntheticScreen:e=>{var t;const r=null===(t=null==i?void 0:i.activeScreen)||void 0===t?void 0:t.addon;null!=r&&i.nextScreen(r,e,null)}},this.executionContextProvider),"f"),v(this,t,"f").callbackHandler=v(this,e,"f")}return v(this,t,"f")}createManager(e,t,r,n){return null==v(this,i,"f")&&p(this,i,new g(e,t,r,n,this),"f"),v(this,i,"f")}supportsPlatform(e){return"web"===e}},e=new WeakMap,t=new WeakMap,i=new WeakMap,m(n,"BottomSheetDomRenderer"),c(null,r={value:n},a,{kind:"class",name:n.name},null,o),n=r.value,h(n,o),n})();class y{constructor(e,t,i,r,n){var a;this.domRoot=e,this.contentWrapper=t,this.domTitle=i,this.context=r,this.executionContextProvider=n,this.disposables=[],this.callbackHandler=null,this.callbackHandlerInternal=(a=this,{back(){var e;a.clearDisposables(),null===(e=a.callbackHandler)||void 0===e||e.back()},close(){var e;a.clearDisposables(),null===(e=a.callbackHandler)||void 0===e||e.close()}})}clearDisposables(){this.disposables.forEach((e=>{e.dispose()})),this.disposables.splice(0)}renderDisplayList(e){this.clearDisposables(),this.domTitle.innerText=e.title,y.renderTree(e,e.focusRequest,this.domRoot,this,this.executionContextProvider,this.callbackHandlerInternal)}updateDisplayList(e,t){u.iV.warn("updateDisplayList called - make sure dom renderers replace generic update impl with in-situ update function"),this.renderDisplayList(e)}static renderTree(e,t,i,a,s,l,d){e.children.forEach((e=>{var u,c,h,p,v,m;let f,g=null,b=null;switch(e.type){case"hContainer":g=y.createHorizontalContainer(i,e.cssClass);break;case"scrollingHContainer":{const t=y.renderHorizontalScroller(i,e.cssClass,e.contentSelector);g=t.container,b=()=>{t.sealContainer(a.disposables)},f=(e,i)=>{t.addImpressionTarget(e,i,a.disposables)}}break;case"vContainer":g=y.createVerticalContainer(i,e.cssClass);break;case"updatingVContainer":g=y.createVerticalContainer(i,e.cssClass),e.replaceContent=t=>{var i,l,d;const u=document.activeElement&&(null==g?void 0:g.contains(document.activeElement))&&null!==(d=null===(l=null===(i=document.activeElement)||void 0===i?void 0:i.dataset)||void 0===l?void 0:l.displayNodeId)&&void 0!==d?d:null,c=e.children,h=a.contentWrapper.scrollTop;if((0,n.cS)(g),e.children=[],t(e),g&&e.children.length>0)if(this.renderTree(e,null,g,a,s),(0,n.SL)(u)){let e=g.querySelector('[data-display-node-id="'+u+'"]');if(!e){for(let t=c.findIndex((e=>(0,r.F$)(e)&&e.id===u));t>=0&&!e;t--)e=g.querySelector('[data-display-node-id="'+c[t].id+'"]');e||(e=g.querySelector("[data-display-node-id]"))}(0,o.n6)(e,!0)}else a.contentWrapper.scrollTop=h};break;case"h":g=y.renderHeading(i,e.content,null!==(u=e.ariaLabel)&&void 0!==u?u:void 0,"heading",e.level);break;case"chip":g=y.renderChip(i,e.content,null!==(c=e.ariaLabel)&&void 0!==c?c:void 0,e.highlight);break;case"byline":g=y.renderByline(i,e.content,null!==(h=e.ariaLabel)&&void 0!==h?h:void 0,e.allowHtml);break;case"paragraph":g=y.renderBodyText(i,e.content,null!==(p=e.ariaLabel)&&void 0!==p?p:void 0,e.allowHtml);break;case"select":{const t=y.renderSelect(a.context,s,i,e.content,e.values,e.selectedIndex,e.callbacks.optionSelected,e.callbacks.isOptionEnabled,l);e.updateEnabledOptions=t.updateEnabledOptions,e.updateSelection=t.updateSelection,e.updateValues=t.updateValues}break;case"button":(0,n.nx)(y.renderButton(i,e.content,null!==(v=e.icon)&&void 0!==v?v:void 0,e.primary,e.pill,null!==(m=e.endIcon)&&void 0!==m?m:void 0),e.onClick,s);break;case"teaser":g=y.renderTeaser(i,e),(0,n.nx)(g,(()=>{e.onClick()}),s);break;case"jumpmark":[g,e.updateRender]=y.renderJumpmark(i,e),(0,n.nx)(g,(()=>{e.onClick()}),s);break;case"internal":"domRenderer"===e.internalFor&&i.appendChild(e.domContent);break;default:g=y.renderElem(i,null,"URenderer("+e.type+"): "+e.content,null,"p")}null!=g&&((0,r.pr)(e)&&e.children.length>0&&this.renderTree(e,t,g,a,s,void 0,f),(0,r.F$)(e)&&(g.dataset.displayNodeId=e.id,t&&e.id===t&&(g.dataset.bsFocusRequest="true")),d&&d(e,g)),null!=b&&b()}))}static renderDomNode(e,t){const i={type:"internal",internalFor:"domRenderer",domContent:t,children:[],content:""};return e.children.push(i),i}static renderElem(e,t,i,r,a,s){void 0===s&&(s=!1);const l=document.createElement(a);return s?l.innerHTML=i:l.innerText=i,null!==t&&(l.className=t),(0,n.SL)(r)&&(l.title=r,l.setAttribute("aria-label",r)),e.appendChild(l),l}static createHorizontalContainer(e,t){void 0===t&&(t=null);const i=document.createElement("div");return i.classList.add("ardplayer-container-horizontal"),(0,n.SL)(t)&&i.classList.add(...t.split(" ")),e.appendChild(i),i}static renderHorizontalScroller(e,t,i){var s,l,o;if(void 0===t&&(t=null),void 0===i&&(i=":scope > :not(.ardplayer-bottom-sheet-horizontal-padding, .ardplayer-bottom-sheet-horizontal-gutter)"),null===(o=null===(l=null===(s=e.parentElement)||void 0===s?void 0:s.classList)||void 0===l?void 0:l.contains("ardplayer-bottom-sheet-content-wrapper"))||void 0===o||!o)throw Error("horizontal scroller can only be used as top-level container");const d=document.createElement("div");d.className="ardplayer-bottom-sheet-horizontal-scroller",(0,n.SL)(t)&&d.classList.add(...t.split(" ")),y.renderElem(d,"ardplayer-bottom-sheet-horizontal-padding","","","div"),e.appendChild(d);const c=function(e){var t,r,n,a;void 0===e&&(e=!1);const s=d.clientWidth,l=null!==(r=null===(t=d.querySelector(i))||void 0===t?void 0:t.clientWidth)&&void 0!==r?r:0;null===(a=null===(n=d.parentElement)||void 0===n?void 0:n.parentElement)||void 0===a||a.scrollBy({left:Math.floor(s/l)*(e?-l:l),behavior:"smooth"})};let h=!1;const p=[],v=()=>{try{p.forEach((e=>{var t,i;if(null!=e.elem.offsetParent){const r=e.elem.offsetLeft+e.elem.offsetWidth/2,n=null!==(t=e.elem.offsetParent.scrollLeft)&&void 0!==t?t:0,a=n+(null!==(i=e.elem.offsetParent.offsetWidth)&&void 0!==i?i:0);r>=n&&r<=a&&e.node.onImpression()}}))}catch(e){u.iV.error("could not send impressions",e)}};return{container:d,addImpressionTarget:(e,t,i)=>{var n,a;if((0,r.F$)(e)&&(0,r.b$)(e)&&(p.push({node:e,elem:t}),!h)){h=!0;let e=-1;const t=()=>{window.clearTimeout(e),e=window.setTimeout(v,300)};null===(a=null===(n=d.parentElement)||void 0===n?void 0:n.parentElement)||void 0===a||a.addEventListener("scroll",t),i.push({dispose:()=>{d.removeEventListener("scroll",t)}})}},sealContainer:t=>{var r;if(null===(r=e.parentElement)||void 0===r||r.classList.add("ardplayer-bottom-sheet-horizontal"),t.push({dispose:()=>{var t;null===(t=e.parentElement)||void 0===t||t.classList.remove("ardplayer-bottom-sheet-horizontal")}}),y.renderElem(d,"ardplayer-bottom-sheet-horizontal-padding","","","div"),p.length>0&&window.setTimeout(v,300),!a.q.isMobileDevice){const r=y.renderElem(d,"ardplayer-icon ardplayer-icon-arrowleft ardplayer-bottom-sheet-horizontal-gutter","","","button"),a=y.renderElem(d,"ardplayer-icon ardplayer-icon-arrowright ardplayer-bottom-sheet-horizontal-gutter","","","button");r.tabIndex=-2,a.tabIndex=-2,(0,n.nx)(r,(()=>{c(!0)}),null),(0,n.nx)(a,(()=>{c(!1)}),null),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&window.setTimeout((()=>{var n;if(null==e.offsetParent)return;const s=d.querySelectorAll(i);if(s.length>1){const e=s.item(0),i=new IntersectionObserver((t=>{t.forEach((t=>{(t.target===e?r:a).style.display=t.isIntersecting?"none":""}))}),{root:null===(n=d.parentElement)||void 0===n?void 0:n.parentElement,threshold:.9});i.observe(e),i.observe(s.item(s.length-1)),t.push({dispose(){i.disconnect()}})}}))}}}}static createVerticalContainer(e,t){void 0===t&&(t=null);const i=document.createElement("div");return i.classList.add("ardplayer-container-vertical"),(0,n.SL)(t)&&i.classList.add(...t.split(" ")),e.appendChild(i),i}static renderJumpmark(e,t){const i=this.renderElem(e,"ardplayer-addon-jumpmark-holder","",null,"div"),r=this.renderElem(i,"ardplayer-addon-jumpmark","",null,"div");r.tabIndex=0;const a=()=>{(0,n.cS)(r);const e=this.renderElem(r,"ardp-jpmrk-main","",null,"div");t.isSelected&&i.classList.add("ardp-jpmrk-selected");const a=this.renderElem(e,"ardp-jpmrk-hlgt","",null,"div");if((0,n.SL)(t.highlightIconUrl)){const e=document.createElement("i");e.style.backgroundImage="url("+t.highlightIconUrl+")",(0,n.SL)(t.highlightIconA11yDescription)&&(e.setAttribute("aria-label",t.highlightIconA11yDescription),e.title=t.highlightIconA11yDescription),a.appendChild(e)}if((0,n.SL)(t.highlightTime)){const e=document.createElement("p");e.textContent=t.highlightTime,a.appendChild(e)}(0,n.SL)(t.image)&&(this.renderElem(e,"ardp-jpmrk-img","",null,"div").style.backgroundImage="url("+t.image+")");const s=this.renderElem(e,"ardp-jpmrk-title","",null,"div");if((0,n.SL)(t.content)){const e=document.createElement("p");e.textContent=t.content,s.appendChild(e)}if((0,n.SL)(t.subtitle)){const e=document.createElement("p");e.textContent=t.subtitle,s.appendChild(e)}if((0,n.SL)(t.gutterIconUrl)){const i=this.renderElem(e,"ardp-jpmrk-gutter","",null,"div"),r=document.createElement("i");r.style.backgroundImage="url("+t.gutterIconUrl+")",(0,n.SL)(t.gutterIconA11yDescription)&&(r.setAttribute("aria-label",t.gutterIconA11yDescription),r.title=t.gutterIconA11yDescription),i.appendChild(r)}r.classList.toggle("ardp-jpmrk-epg",t.isEPG),t.isEPG&&(0,n.SL)(t.synopsis)&&this.renderElem(r,"ardp-jpmrk-synopsis",t.synopsis,null,"p")};return a(),[r,a]}static renderTeaser(e,t){var i;u.iV.log("render teaser",t);const r=this.renderElem(e,"ardplayer-addon-recos-teaser","",null,"div");r.tabIndex=0,this.renderElem(r,null,"",null,"img").src=t.image,(0,n.SL)(t.duration)&&this.renderElem(r,"ardplayer-chip ardplayer-recos-teaser-time",t.duration,null,"span"),(0,n.SL)(t.availability)&&this.renderElem(r,"ardplayer-chip-highlight ardplayer-recos-teaser-availability",t.availability,null,"span"),this.renderElem(r,"ardplayer-recos-teaser-title",t.content,null,"h3");const a=this.renderElem(r,"ardplayer-font-byline","",null,"div");return null===(i=t.byline)||void 0===i||i.forEach((e=>{this.renderByline(a,e)})),r}static renderButton(e,t,i,r,a,s){void 0===i&&(i=""),void 0===r&&(r=!0),void 0===a&&(a=!0),void 0===s&&(s="");const l=document.createElement("button");return l.innerText=t,l.dataset.inititatorName="BottomSheetButton("+t+")",(0,n.SL)(i)&&l.classList.add("ardplayer-icon",i),(0,n.SL)(s)&&l.classList.add("ardplayer-icon-after",s.replace("ardplayer-icon-","ardplayer-icon-after-")),a?(l.classList.add("ardplayer-button-pill"),r||l.classList.add("ardplayer-button-pill-secondary")):l.classList.add("ardplayer-button-rect"),e.appendChild(l),l}static renderCheckbox(e,t,i){void 0===t&&(t=""),void 0===i&&(i=!1);const r=document.createElement("input");r.type="checkbox",r.checked=i,r.id="ardplayer-check-"+(0,n.HP)(),r.className="ardplayer-checkbox";const a=document.createElement("label");return a.innerText=t,a.setAttribute("for",r.id),a.className="ardplayer-checkbox-label",e.appendChild(r),e.appendChild(a),r}static renderHeading(e,t,i,r,a){void 0===i&&(i=""),void 0===r&&(r="heading"),void 0===a&&(a=2);const s=document.createElement("h"+(a+1));return s.innerText=t,s.classList.add("ardplayer-font-title"),s.setAttribute("role",r),s.setAttribute("aria-level",String(a)),(0,n.SL)(i)&&(s.title=i,s.setAttribute("aria-label",i)),e.appendChild(s),s}static renderByline(e,t,i,r){return void 0===i&&(i=""),void 0===r&&(r=!1),this.renderElem(e,"ardplayer-font-byline",t,i,"span",r)}static renderChip(e,t,i,r,n){return void 0===i&&(i=""),void 0===r&&(r=!1),void 0===n&&(n=!1),this.renderElem(e,r?"ardplayer-chip-highlight":"ardplayer-chip",t,i,"span",n)}static renderBodyText(e,t,i,r){return void 0===i&&(i=""),void 0===r&&(r=!1),this.renderElem(e,"ardplayer-font-body ardplayer-font-paragraph",t,i,"p",r)}static renderTextField(e,t,i,r,a,s){void 0===t&&(t=""),void 0===i&&(i=""),void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===s&&(s=!0);const l=document.createElement("input");l.classList.add("ardplayer-input-text"),l.placeholder=t,(0,n.SL)(i)&&(l.value=i),r&&(l.readOnly=!0),a&&(l.disabled=!0);const o=document.createElement("div");return o.className="ardplayer-input-wrapper",o.appendChild(l),e.appendChild(o),s&&o.classList.add("ardplayer-input-small"),[o,l]}static renderSelect(e,t,i,r,s,l,o,d,u){const c=document.createElement("div");c.className="ardplayer-select",i.appendChild(c);const h=(e,i)=>{e.setAttribute("role","listbox"),e.setAttribute("aria-label",r),s.forEach(((a,s)=>{const o=document.createElement("span");o.innerText=a,o.className="ardplayer-option",o.tabIndex=0,o.setAttribute("role","option"),o.dataset.index=String(s),o.dataset.inititatorName="select("+r+")=>"+a,!1!==(null==d?void 0:d(a,s===l,s))?o.setAttribute("aria-selected","false"):(o.classList.add("ardplayer-option-disabled"),o.tabIndex=-1,o.setAttribute("role","presentation")),s===l&&(o.classList.add("ardplayer-option-active"),o.setAttribute("aria-selected","true")),(0,n.nx)(o,i,t),e.appendChild(o)}))},p=i=>{const v="synthetic_select_"+(0,n.HP)();e.addSyntheticScreen(v,(e=>{e.title=r;const t=document.createElement("div");t.classList.add("ardplayer-container-vertical","ardplayer-option-container"),this.renderDomNode(e,t),h(t,(function(){o(Number(this.dataset.index)),null==u||u.back()}))}));const m=a.q.isMobileDevice&&!a.q.isEmbedded,f=this.createHorizontalContainer(i,"ardplayer-container-end ardplayer-show-s");f.innerHTML='\n            <span class="ardplayer-option-label">'+r+'</span><span class="ardplayer-container-spacer"></span>\n            <'+(m?"label":"span")+' class="ardplayer-option ardplayer-option-active ardplayer-option-expand" tabindex="0">\n                '+(m?"":s[l])+'<i class="ardplayer-icon ardplayer-icon-arrowright"></i>\n            </'+(m?"label":"span")+">\n        ";const y=f.lastElementChild;if(m){const e=document.createElement("select");e.title=r,s.forEach(((t,i)=>{const r=document.createElement("option");r.textContent=t,d&&!d(t,i===l,i)&&(r.disabled=!0),e.appendChild(r)})),e.selectedIndex=l,e.addEventListener("change",(()=>{l=e.selectedIndex,(0,n.cS)(c),p(c),o(l)})),y.insertBefore(e,y.firstChild)}else(0,n.nx)(y,(()=>{e.showSyntheticScreen(v)}),t);const g=this.createHorizontalContainer(i,"ardplayer-container-start ardplayer-hide-s");g.innerHTML='<span class="ardplayer-option-label">'+r+"</span>",h(g,(function(){const e=g.querySelector(".ardplayer-option-active");null==e||e.classList.remove("ardplayer-option-active"),null==e||e.setAttribute("aria-selected","false"),this.classList.add("ardplayer-option-active"),this.setAttribute("aria-selected","true"),y.innerText=this.innerText,l=Number(this.dataset.index),d&&(e&&e!==this&&e.classList.toggle("ardplayer-option-disabled",!d(e.innerText,!1,Number(e.dataset.index))),this.classList.toggle("ardplayer-option-disabled",!d(this.innerText,!0,l))),o(l)}))};return p(c),{updateSelection:function(e,t){void 0===t&&(t=!1),(l!==e||t)&&i.contains(c)&&((0,n.cS)(c),l=e,p(c))},updateValues:(e,t)=>{i.contains(c)&&((0,n.cS)(c),s=e,l=t,p(c))},updateEnabledOptions:()=>{i.contains(c)&&((0,n.cS)(c),p(c))}}}}let g=(()=>{let e,t,i=[l.VP],s=[];return t=class extends d.K{constructor(e,t,i,r,a){super(e,t,i,r,a),this.animationEndListener=null,this.buttonMutex=!1,this.listenerDisposers=[];const s=t.querySelector(".ardplayer-bottom-sheet-container"),l=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-background"),o=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-stage"),d=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-content"),u=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-content-wrapper"),c=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-title"),h=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-close-button"),p=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-back-button");if(null==s||null==l||null==o||null==d||null==u||null==c||null==h||null==p)throw new Error("could not get dom references");this.container=s,this.background=l,this.stage=o,this.content=d,this.contentWrapper=u,this.title=c,this.btnClose=h,this.btnBack=p,this.stage.setAttribute("aria-hidden","true"),this.closeListener=()=>{this.buttonMutex||this.conceal()},this.backListener=()=>{this.buttonMutex||this.prevScreen()},this.animationStartListener=e=>{e.target===this.stage&&(this.buttonMutex=!0)},this.animationEndListenerDispatcher=e=>{e.target===this.stage&&(this.buttonMutex=!1,null!==this.animationEndListener&&(this.animationEndListener(e),this.animationEndListener=null))},this.stage.addEventListener("animationstart",this.animationStartListener),this.stage.addEventListener("animationend",this.animationEndListenerDispatcher),this.listenerDisposers.push((0,n.nx)(this.background,this.closeListener,e)),this.listenerDisposers.push((0,n.nx)(this.btnClose,this.closeListener,e)),this.listenerDisposers.push((0,n.nx)(this.btnBack,this.backListener,e)),this.updateButtons()}get ID(){return"BottomSheetManagerDom"}dispose(){super.dispose(),this.screenStack.splice(0,this.screenStack.length),this.title.innerHTML="",this.content.innerHTML="",this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),this.stage.removeEventListener("animationend",this.animationEndListenerDispatcher),this.stage.removeEventListener("animationstart",this.animationStartListener),a.q.browserIsSafari&&document.body.classList.remove("ardplayer-safari-noscroll")}performReveal(e,t){var i;void 0===t&&(t=null),this.stage.setAttribute("aria-hidden","false"),this.stage.setAttribute("aria-modal","true"),this.btnBack.tabIndex=0,this.btnClose.tabIndex=0,this.performRevealInternal(e),this.markerClassTarget.classList.add("ardplayer-show-bottom-sheet"),this.animationEndListener=()=>{this.setInitialScreenFocus(),null==t||t()},a.q.browserIsSafari&&("fixed"===getComputedStyle(this.container).position&&document.body.classList.add("ardplayer-safari-noscroll"),a.q.isOldWebkit&&(null===(i=this.animationEndListener)||void 0===i||i.call(this,null),this.animationEndListener=null))}setInitialScreenFocus(){var e;const t=this.content.querySelector('[data-bs-focus-request="true"]');t&&(0,o.n3)(t)?(t.offsetParent&&(t.offsetParent.scrollLeft=t.offsetLeft,t.offsetParent.scrollTop=t.offsetTop),(0,o.n6)(t)):(this.contentWrapper.scrollLeft=0,this.contentWrapper.scrollTop=0,(0,o.n6)(null!==(e=(0,o.of)(this.content))&&void 0!==e?e:(0,o.n3)(this.btnBack)?this.btnBack:this.btnClose))}nextScreen(e,t,i){void 0===i&&(i=null),this.nextScreenInternal(e,t,i)||(this.setInitialScreenFocus(),null==i||i())}prevScreen(e){var t;void 0===e&&(e=null),this.prevScreenInternal(e)||((0,o.n6)((null!==(t=(0,o.of)(this.content))&&void 0!==t?t:this.screenStack.length<=1)?this.btnClose:this.btnBack),null==e||e())}conceal(e){var t,i;void 0===e&&(e=null);const r=null!==(t=[this.screenStack.length>0?this.screenStack[this.screenStack.length-1].addon.getFocusButton(this.screenStack[this.screenStack.length-1].screenId):null,...this.player.viewCtrl.btnPlayPause,...this.player.viewCtrl.btnReplay].find((e=>(0,o.n3)(e))))&&void 0!==t?t:null;this.markerClassTarget.classList.remove("ardplayer-show-bottom-sheet"),this.concealInternal(),this.animationEndListener=()=>{this.log("bottom sheet concealed"),this.updateButtons(),(0,o.n6)(r),this.stage.setAttribute("aria-hidden","true"),this.stage.setAttribute("aria-modal","false"),this.btnBack.tabIndex=-1,this.btnClose.tabIndex=-1,this.title.innerHTML="",this.content.innerHTML="",this.renderer instanceof y&&this.renderer.clearDisposables(),null==e||e()},a.q.browserIsSafari&&(document.body.classList.remove("ardplayer-safari-noscroll"),a.q.isOldWebkit&&(null===(i=this.animationEndListener)||void 0===i||i.call(this,null),this.animationEndListener=null))}get _domContext(){return{content:this.content,contentWrapper:this.contentWrapper,title:this.title}}renderScreen(e){this.content.innerHTML="",this.title.innerHTML="",this.stage.className=this.stage.classList[0],this.content.className=this.content.classList[0];const t=this.content.parentElement;t&&(t.className=t.classList[0]);const i=this.renderer;if(null!=i){const t=new r.mf("",this.screenStack.length>1);e.addon.renderScreenInternal(e.screenId,t,i)}this.updateButtons()}updateButtons(){this.btnBack.style.display=this.screenStack.length<=1?"none":"block"}},m(t,"BottomSheetManagerDom"),c(null,e={value:t},i,{kind:"class",name:t.name},null,s),t=e.value,h(t,s),t})()},1225:function(e,t,i){"use strict";i.d(t,{qA:function(){return n.q},hW:function(){return c.h},AJ:function(){return r},J5:function(){return d.J},Sg:function(){return u.S},JL:function(){return h.J},iV:function(){return y},fF:function(){return m},fd:function(){return l.fd},O:function(){return s},O2:function(){return l.O2}});var r={};i.r(r);var n=i(5855),a=i(5996),s=i(1027),l=i(6735),o=i(2927),d=i(4736),u=i(8254),c=i(8771),h=i(5491);let p=!1;const v=window,m=(e,t,i,r)=>{if(p=e,e){const e=a.K.get("",a.K.DEBUG,!0,"").split("|"),n=["core",...(null!=t?t:e.includes("playerEvent"))?["playerEvent"]:[],...(null!=i?i:e.includes("pixelEvent"))?["pixelEvent"]:[],...(null!=r?r:e.includes("verboseUI"))?["verboseUI"]:[]];y.log("debug: "+n.join(", ")),a.K.add("",a.K.DEBUG,n.join("|"),!0)}else a.K.remove("",a.K.DEBUG,!0),y.log("debug: disabled");n.q.updateDebugSettings()},f=e=>{window.console.warn("ARDPlayer "+e+" - do not use in production")};((0,l.fp)(o.I.core.license)||"UNLICENSED"===o.I.core.license)&&f("build config untracked"),((0,l.fp)(o.I.core.signature)||"---"===o.I.core.signature)&&f("build unsigned"),"release"!==o.I.core.verb&&f("compiled in dev mode"),o.I.addon.concat(o.I.plugin).concat([o.I.core]).some((e=>{var t,i;return null!==(i=null===(t=e.rev)||void 0===t?void 0:t.startsWith("[D]"))&&void 0!==i&&i}))&&f("compiled from dirty source");const y=(()=>{const e="[ARDP]",t="|@|";let i=[],r=new Array(40),n=0;const a=[];let s=-1;const o=(e,t)=>{t.some((e=>"object"==typeof e))?r[n%r.length]=e+"("+n+")"+JSON.stringify(t,(0,l.fd)()):r[n%r.length]=e+"("+n+")"+JSON.stringify(t),n++},d=()=>{if(a.length-1>s){for(let t=s+1;t<a.length;t++)(a[t].collapsed?v.console.groupCollapsed:v.console.group)(e,...a[t].label);s=a.length-1}};return{get _buffer(){try{return btoa(unescape(encodeURIComponent(i.length+"|"+n%r.length+t+i.concat(r).join(t))))}catch(e){return""}},_clearBuffer(){i=[],r=new Array(40),n=0},_replayBuffer(e,i){const r=atob(decodeURIComponent(escape(e))).split(t),n=r[0].split("|"),a=parseInt(n[0],10),s=parseInt(n[1],10),l=[...r.slice(1,a+1),...r.slice(a+s+1),...r.slice(a+1,a+s+1)],o=/^(?<method>.)\((?<index>\d+)\)(?<message>.*)$/;l.forEach((e=>{var t,r,n,a,s;if(""!==e){const l=e.match(o);if(null!==l){const e=JSON.parse(null!==(r=null===(t=l.groups)||void 0===t?void 0:t.message)&&void 0!==r?r:"[]"),o="[REPLAY]["+(null!==(a=null===(n=l.groups)||void 0===n?void 0:n.index)&&void 0!==a?a:"?")+"]";switch(null===(s=l.groups)||void 0===s?void 0:s.method){case"i":window.console.info(o,...e);break;case"w":window.console.warn(o,...e);break;case"e":window.console.error(o,...e);break;case"t":window.console.log(o+"[TRACE]",...e);break;case"x":window.console.log(o+"[INIT]",...e),null==i||i(e);break;default:window.console.log(o,...e)}}}}))},init(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=>{i.push("x("+i.length+")"+JSON.stringify(e,(0,l.fd)())),o("i",["INIT_ENTRY_"+(i.length-1)])})(r),p&&(d(),v.console.info(e,...r))},info(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];o("i",i),p&&(d(),v.console.info(e,...i))},log(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];o("l",i),p&&(d(),v.console.log(e,...i))},warn(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];o("w",i),p&&(d(),v.console.warn(e,...i))},error(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];o("e",i),p&&(d(),v.console.error(e,...i))},trace(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];o("t",[...i,Error().stack]),p&&(d(),v.console.trace(e,...i))},group(){if(p){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.push({collapsed:!1,label:t})}},groupCollapsed(){if(p){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.push({collapsed:!0,label:t})}},groupEnd(){p&&(s>=0&&s>=a.length-1&&(v.console.groupEnd(),s=a.length-2),a.pop())}}})()},5855:function(e,t,i){"use strict";i.d(t,{q:function(){return v}});var r=i(1225),n=i(5996),a=i(6735),s=i(9340),l=i(2927),o=i(4178),d=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},u=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},c=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},h=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},p=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let v=(()=>{var e,t,i,v,m,f,y,g,b,E,S,w,C,T,A,k,_,I,P,L;let x,M,O=[o.VP],D=[];var V=M=class{static get isIPhoneDevice(){return c(V.I,e,"f")}static get isIPadDevice(){return c(V.I,t,"f")}static get isIPodDevice(){return c(V.I,i,"f")}static get isIOSDevice(){return c(V.I,v,"f")}static get isOldWebkit(){return c(V.I,m,"f")}static get isAndroidDevice(){return c(V.I,f,"f")}static get isHPDevice(){return c(V.I,y,"f")}static get isPlaybookDevice(){return c(V.I,g,"f")}static get isBlackBerryDevice(){return c(V.I,b,"f")}static get isWindowsPhone(){return c(V.I,E,"f")}static get isKindle(){return c(V.I,S,"f")}static get isMobileDevice(){return c(V.I,w,"f")}static get browserIsOpera(){return c(V.I,C,"f")}static get browserIsFirefox(){return c(V.I,T,"f")}static get browserIsSafari(){return c(V.I,A,"f")}static get isFrame(){return c(V.I,k,"f")}static get isEmbedded(){return s.F.hasEmbeddedConfig}static get isAndroidTV(){var e,t;return this.isEmbedded&&"android"===this.platform&&!0===(null===(t=null===(e=s.F.embeddedConfig)||void 0===e?void 0:e.android)||void 0===t?void 0:t.isTV)}static get platform(){var e,t,i;return void 0===V._platformKey&&(V._platformKey=V.isEmbedded&&null!==(i=null===(t=null===(e=window.controller)||void 0===e?void 0:e.getPlatformKey)||void 0===t?void 0:t.call(e))&&void 0!==i?i:"web"),V._platformKey}static get I(){var e;return null!==(e=V._instance)&&void 0!==e?e:new V}static init(){void 0===V._instance&&(V._instance=new V)}static resetSingleton(){V._instance=void 0}constructor(){var n;e.set(this,void 0),t.set(this,void 0),i.set(this,void 0),v.set(this,void 0),m.set(this,void 0),f.set(this,void 0),y.set(this,void 0),g.set(this,void 0),b.set(this,void 0),E.set(this,void 0),S.set(this,void 0),w.set(this,void 0),C.set(this,void 0),T.set(this,void 0),A.set(this,void 0),k.set(this,void 0),_.set(this,!1),I.set(this,!1),P.set(this,!1),L.set(this,!1),V._instance=this;try{h(this,k,window.self!==window.top,"f")}catch(e){h(this,k,!0,"f")}if(c(this,k,"f")&&window.innerHeight>400&&h(this,k,!1,"f"),h(this,e,null!==navigator.userAgent.match(/iPhone/i),"f"),h(this,t,/iPad/i.test(navigator.userAgent)||navigator.userAgent.toLowerCase().includes("macintosh")&&"ontouchend"in document,"f"),h(this,i,null!==navigator.userAgent.match(/iPod/i),"f"),c(this,i,"f")&&h(this,e,!1,"f"),h(this,v,null!==navigator.userAgent.match(/iOS/i)||c(this,t,"f")||c(this,e,"f")||c(this,i,"f"),"f"),c(this,v,"f")){const e=navigator.userAgent.match(/(\d+)(?:_\d+)* like Mac OS X/i);h(this,m,parseInt(null!==(n=null==e?void 0:e[1])&&void 0!==n?n:"0",10)<=12,"f")}else h(this,m,!1,"f");h(this,f,null!==navigator.userAgent.match(/Android/i),"f"),h(this,y,null!==navigator.userAgent.match(/webOS/i),"f"),h(this,g,null!==navigator.userAgent.match(/PlayBook/i),"f"),h(this,b,null!==navigator.userAgent.match(/BlackBerry/i)||c(this,g,"f"),"f"),h(this,E,null!==navigator.userAgent.match(/Windows Phone/i),"f"),h(this,S,/(Kindle|Silk|KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA)/i.test(navigator.userAgent),"f"),h(this,w,(c(this,b,"f")||c(this,y,"f")||c(this,f,"f")||c(this,v,"f")||c(this,E,"f")||c(this,S,"f"))&&!V.isAndroidTV,"f"),h(this,C,null!==navigator.userAgent.toLowerCase().match(/opera/i)||null!==navigator.userAgent.toLowerCase().match(/OPR\//i),"f"),h(this,T,null!==navigator.userAgent.toLowerCase().match(/firefox/i),"f"),h(this,A,!c(this,f,"f")&&(/Version\/[\d.]+.*Safari/.test(navigator.userAgent)||/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)||c(this,v,"f")||"ios"===V.platform),"f"),V.updateDebugSettings(),(0,r.fF)(c(this,_,"f"),c(this,I,"f"),c(this,P,"f"),c(this,L,"f"))}static updateDebugSettings(){const e=n.K.get("",n.K.DEBUG,!0,"");if((0,a.fp)(e))h(V.I,_,!1,"f"),h(V.I,I,!1,"f"),h(V.I,P,!1,"f"),h(V.I,L,!1,"f");else{h(V.I,_,!0,"f");const t=String(e).split("|");h(V.I,I,t.includes("playerEvent"),"f"),h(V.I,P,t.includes("pixelEvent"),"f"),h(V.I,L,t.includes("verboseUI"),"f")}}static get isDebug(){return c(V.I,_,"f")}static get isDebugPlayerEvent(){return c(V.I,I,"f")}static set isDebugPlayerEvent(e){h(V.I,I,e,"f"),(0,r.fF)(!0,c(V.I,I,"f"),c(V.I,P,"f"),c(V.I,L,"f"))}static get isDebugPixelEvent(){return c(V.I,P,"f")}static set isDebugPixelEvent(e){h(V.I,P,e,"f"),(0,r.fF)(!0,c(V.I,I,"f"),c(V.I,P,"f"),c(V.I,L,"f"))}static get isDebugVerboseUI(){return c(V.I,L,"f")}static set isDebugVerboseUI(e){h(V.I,L,e,"f"),(0,r.fF)(!0,c(V.I,I,"f"),c(V.I,P,"f"),c(V.I,L,"f"))}static setEmbeddedConfig(e){var t,i,r;s.F.setEmbeddedConfig(e),V._platformKey=V.isEmbedded&&null!==(r=null===(i=null===(t=window.controller)||void 0===t?void 0:t.getPlatformKey)||void 0===i?void 0:i.call(t))&&void 0!==r?r:"web"}static injectAddon(e){var t;e.rev="[I]"+(null!==(t=e.rev)&&void 0!==t?t:""),l.I.injectedAddons.push(e)}static injectPlugin(e){var t;e.rev="[I]"+(null!==(t=e.rev)&&void 0!==t?t:""),l.I.injectedPlugins.push(e)}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,S=new WeakMap,w=new WeakMap,C=new WeakMap,T=new WeakMap,A=new WeakMap,k=new WeakMap,_=new WeakMap,I=new WeakMap,P=new WeakMap,L=new WeakMap,p(M,"Environment"),d(null,x={value:M},O,{kind:"class",name:M.name},null,D),V=M=x.value,M._instance=void 0,M._platformKey=void 0,M.VERSION=l.I.core.version,M.debugBuild="dev"===l.I.core.verb||"watch"===l.I.core.verb,u(M,D),V=M})()},8254:function(e,t,i){"use strict";i.d(t,{S:function(){return h}});var r=i(4736),n=i(1225),a=i(4178),s=i(6735),l=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},o=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},u=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},c=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let h=(()=>{var e,t;let i,h,p=[a.VP],v=[];var m=h=class{get playerConfig(){return d(this,e,"f")||n.iV.trace("PlayerModel.playerConfig accessed before set"),d(this,e,"f")}set playerConfig(t){u(this,e,t,"f")}get mediaCollection(){return d(this,t,"f")||n.iV.trace("PlayerModel#mediaCollection accessed before set"),d(this,t,"f")}set mediaCollection(e){u(this,t,e,"f")}getDuration(){return this.duration}getTime(){return this.time}constructor(i){this.playstate=0,this.playbackRate=1,this.videoScaleMode="CONTAIN",e.set(this,void 0),t.set(this,void 0),this.time=0,this.duration=0,m.playerIDs[i.getId()]=this,m.players.push(i),this.player=i}static resetSingleton(){var e;m.playerIDs={},(null===(e=m.players)||void 0===e?void 0:e.length)>0&&m.players.forEach((e=>{var t;null===(t=null==e?void 0:e.getCtrl())||void 0===t||t.dispose()})),m.autoPlayerAlreadyActive=!1,m.players=[]}static getInstance(e){var t;return null!==(t=m.playerIDs[e.getId()])&&void 0!==t?t:new m(e)}static getAllPlayer(e){void 0===e&&(e="");const t=e instanceof r.J?e.getId():e;return(0,s.fp)(t)?m.players:m.players.filter((e=>e.getId()!==t))}static getPlayerById(e){var t;return null!==(t=m.players.find((t=>t.getId()===e)))&&void 0!==t?t:null}static forceRemovePlayer(e){const t=m.players.findIndex((t=>t===e));t>=0&&m.players.splice(t,1);const i=e.getId();delete m.playerIDs[i]}dispose(){this.reset(),m.forceRemovePlayer(this.player)}reset(){this.duration=0,this.time=0,this.playstate=0,this.videoScaleMode="CONTAIN"}};return e=new WeakMap,t=new WeakMap,c(h,"PlayerModel"),l(null,i={value:h},p,{kind:"class",name:h.name},null,v),m=h=i.value,h.PLAYSTATE_UNSPECIFIED=0,h.PLAYSTATE_PAUSED=1,h.PLAYSTATE_PLAYING=2,h.PLAYSTATE_STOPPED=3,h.playerIDs={},h.players=[],h.autoPlayerAlreadyActive=!1,o(h,v),m=h})()},3987:function(e,t,i){"use strict";i.d(t,{CT:function(){return d},F6:function(){return u},ib:function(){return c}});var r=i(6735),n=i(5855),a=i(4178),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},l=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},o=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let d=(()=>{let e,t,i=[a.VP],n=[];return t=class{constructor(e,t){this.url=e,this.mimeType=t,this.isHighDynamicRange=!1,this.isUltraLowLatency=!1,this.isAdaptiveQualitySelectable=!1,this.audios=[],this.forcedLabel=null}get qualityLabel(){if(this.forcedLabel)return this.forcedLabel;let e="Automatisch";return void 0!==this.maxHResolutionPx&&(e=(0,r.Iv)(this.maxHResolutionPx)),e+(this.isUltraLowLatency?" ULL":"")+(this.isHighDynamicRange?" HDR":"")}static validate(e){return"boolean"==typeof e.isHighDynamicRange&&"boolean"==typeof e.isUltraLowLatency&&Array.isArray(e.audios)&&e.audios.length>0&&"string"==typeof e.url&&"string"==typeof e.mimeType}},o(t,"StreamMedia"),s(null,e={value:t},i,{kind:"class",name:t.name},null,n),t=e.value,l(t,n),t})(),u=(()=>{let e,t,i=[a.VP],n=[];return t=class{constructor(e,t,i,n,a){var s,l,o;if(void 0===t&&(t="main"),void 0===i&&(i=!1),void 0===n&&(n=""),void 0===a&&(a=""),this.media=e,this.kind=t,this.isAudioOnly=i,this.kindName=n,this.videoLanguageCode=a,!Array.isArray(e)||e.length<=0)throw new Error("invalid media array for stream");this.videoLanguageCode=(0,r.fp)(this.videoLanguageCode)?null!==(o=null===(l=null===(s=this.media[0])||void 0===s?void 0:s.audios[0])||void 0===l?void 0:l.languageCode)&&void 0!==o?o:"deu":this.videoLanguageCode}streamLabel(e){let t=this.kindName;if((0,r.fp)(t))switch(this.kind){case"subtitle-burn-in":t="Untertitel";break;case"sign-language":t="Geb\xe4rdensprache";break;default:t=this.isAudioOnly?"Standardaudio":"Standardvideo"}const i=this.media[Math.min(e,this.media.length-1)].qualityLabel;return"Automatisch"===i?t:t+" ("+i+")"}static validate(e){return"boolean"==typeof e.isAudioOnly&&"string"==typeof e.kindName&&Array.isArray(e.media)&&e.media.length>0&&!e.media.some((e=>!d.validate(e)))}},o(t,"Stream"),s(null,e={value:t},i,{kind:"class",name:t.name},null,n),t=e.value,l(t,n),t})(),c=(()=>{let e,t,i=[a.VP],d=[];return t=class{constructor(){this.isGeoBlocked=!1,this.streams=[],this.subtitles=[],this.meta={images:[],title:""},this.pluginData={},this._dvrEnabledInPc=!1}getPluginData(e){const t=e+"@"+n.q.platform,i=e+"@all";return(0,r.nr)(this.pluginData,t)||(0,r.nr)(this.pluginData,i)?(0,r.RH)(this.pluginData[i],this.pluginData[t]):{}}get isLive(){return void 0!==this.live}get isDvrEnabled(){var e,t;return this._dvrEnabledInPc&&(null!==(t=null===(e=this.live)||void 0===e?void 0:e.dvrWindowSeconds)&&void 0!==t?t:0)>0}get isAudioOnly(){return this.streams.some((e=>e.isAudioOnly))}static validate(e){return Array.isArray(e.streams)&&e.streams.length>0&&!e.streams.some((e=>!u.validate(e)))&&Array.isArray(e.subtitles)&&"boolean"==typeof e.isGeoBlocked&&void 0!==e.meta&&null!==e.meta&&Array.isArray(e.meta.images)&&void 0!==e.pluginData&&null!==e.pluginData}},o(t,"MediaCollection"),s(null,e={value:t},i,{kind:"class",name:t.name},null,d),t=e.value,l(t,d),t})()},2978:function(e,t,i){"use strict";i.d(t,{HZ:function(){return d},QL:function(){return h},eu:function(){return c},z5:function(){return u}});var r=i(6735),n=i(5855),a=i(4178),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},l=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},o=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let d=(()=>{let e,t,i=[a.VP],n=[];return t=class{constructor(e,t){this.width={min:50,max:1080,stepSize:200},this.size=[{minWidth:0,value:"xs"},{minWidth:414,value:"s"},{minWidth:475,value:"m"},{minWidth:851,value:"l"},{minWidth:1441,value:"xl"}],e&&Object.assign(this.width,e),t&&t.length>0&&(this.size=t),this.size.sort(((e,t)=>e.minWidth-t.minWidth))}resolveTemplate(e){if((0,r.fp)(e))return[];const t=/{width}/g,i=t.test(e),n=/{size}/g,a=n.test(e);if(!a&&!i)return[{minWidth:0,url:e}];const s=[];if(i){for(let e=this.width.min;e<this.width.max;e+=this.width.stepSize)s.push(e);s.push(this.width.max)}return a&&s.push(...this.size.map((e=>e.minWidth))),s.sort(((e,t)=>e-t)).map((r=>{var s,l;let o=e;if(i&&(o=o.replace(t,(r>=this.width.max?this.width.max:r<=this.width.min?this.width.min:r-(r-this.width.min)%this.width.stepSize).toString(10))),a){const e=null!==(s=this.size.find((e=>e.minWidth>=r)))&&void 0!==s?s:this.size[this.size.length-1],t=null!==(l=this.size.find((e=>e.minWidth<=r)))&&void 0!==l?l:this.size[0];o=o.replace(n,(e.minWidth-r<r-t.minWidth?e:t).value)}return{minWidth:r,url:o}}))}},o(t,"ImageTemplateConfig"),s(null,e={value:t},i,{kind:"class",name:t.name},null,n),t=e.value,l(t,n),t})(),u=(()=>{let e,t,i=[a.VP],r=[];return t=class{constructor(e,t,i){void 0===e&&(e=100),void 0===t&&(t=!1),void 0===i&&(i=!1),this.volumePercent=e,this.isAutoplay=t,this.isShowSubtitleAtStart=i,this.isTimeRemainingDisplay=!1,this.isDvrEnabled=!1,this.isMuted=!1,this.vodStartSeconds=0,this.vodEndSeconds=0,this.vodInitialPlayheadSeconds=0,this.imageTemplateConfig=new d,this.volumePercent=Math.max(0,Math.min(100,e))}static validate(e){return"number"==typeof e.volumePercent&&e.volumePercent>=0&&e.volumePercent<=100&&"boolean"==typeof e.isAutoplay&&"boolean"==typeof e.isShowSubtitleAtStart}},o(t,"GenericConfig"),s(null,e={value:t},i,{kind:"class",name:t.name},null,r),t=e.value,l(t,r),t})(),c=(()=>{let e,t,i=[a.VP],n=[];return t=class{constructor(e,t,i){void 0===t&&(t=-1),this.baseUrl=e,this.forcedVolumePercent=t,this.isForcedAutoplay=i,this.forcedVolumePercent=-1===(null!=t?t:-1)?-1:Math.max(0,Math.min(100,t))}static validate(e){return!(0,r.fp)(e.baseUrl)&&(-1===e.forcedVolumePercent||e.forcedVolumePercent>=0&&e.forcedVolumePercent<=100)}},o(t,"WebConfig"),s(null,e={value:t},i,{kind:"class",name:t.name},null,n),t=e.value,l(t,n),t})(),h=(()=>{let e,t,i=[a.VP],d=[];return t=class{constructor(e,t,i){this.generic=e,this.web=t,this.pluginData=i}get platformConfig(){switch(n.q.platform){case"ios":return this.ios;case"android":return this.android;default:return}}get isEmbedded(){var e,t;return null!==(t=null===(e=this.platformConfig)||void 0===e?void 0:e.isEmbedded)&&void 0!==t&&t}get embeddedBaseUrl(){var e;return null===(e=this.platformConfig)||void 0===e?void 0:e.baseUrl}get allowEmbeddedAutoplay(){var e,t;return null!==(t=null===(e=this.platformConfig)||void 0===e?void 0:e.allowAutoplay)&&void 0!==t&&t}getPluginData(e){const t=e+"@"+n.q.platform,i=e+"@all";return(0,r.nr)(this.pluginData,t)||(0,r.nr)(this.pluginData,i)?(0,r.RH)(this.pluginData[i],this.pluginData[t]):{}}static validate(e){return u.validate(e.generic)&&c.validate(e.web)&&!!e.pluginData}},o(t,"PlayerConfig"),s(null,e={value:t},i,{kind:"class",name:t.name},null,d),t=e.value,l(t,d),t})()},9340:function(e,t,i){"use strict";i.d(t,{F:function(){return k}});var r=i(1225),n=i(6735),a=i(5855),s=i(2978),l=i(8771),o=i(4178),d=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},u=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},c=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))},h=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let p=(()=>{let e,t,i=[o.VP],p=[];var v=t=class{constructor(e){this.disablePosterImage=void 0,this._solaAnalyticsEnabled=void 0,this._solaAnalyticsConfig=void 0,this.representationArray=[],this.startTime=0,this.endTime=0,this.autoplay=void 0,this.autoplayForced=!1,this.isForcedVideoView=!1,this.isTimeRemainingDisplay=!1,this.showSubtitelAtStart=!1,this.baseUrl="",this.initialPlayhead=0,this.initialVolume=1,this.volume=-1,this.muted=!1,this.pixelConfig="",this.airplayEnabled=!0,this.addonConfig={},this.addonBreakingNews=void 0,this.chaptersEnabled=!0,this.enablePostMessage=!1,this.streamed_webvtt_enabled=!1,this.hlsOptimizationLevel=null,this.hlsConfig=void 0,this._mcdnConfig=void 0,null!=e&&"object"==typeof e&&(0,n.ZA)(this,e),"AUTOPLAY"===this.autoplay&&(this.autoplay=a.q.isMobileDevice?"NOTHING":"AUTOPLAY")}setRepresentation(e,t){"string"==typeof e?this.representationArray[0]=e.toLowerCase():this.representationArray[e]=t}parseToNextFormat(){const e=new s.QL(new s.z5(100*this.initialVolume,"AUTOPLAY"===this.autoplay||"FORCE"===this.autoplay||!0===this.autoplay,this.showSubtitelAtStart),new s.eu(this.baseUrl,-1===this.volume?-1:100*this.volume,"FORCE"===this.autoplay||this.autoplayForced),{});if(e.generic.vodStartSeconds=this.startTime,e.generic.vodEndSeconds=this.endTime,e.generic.vodInitialPlayheadSeconds=this.initialPlayhead,e.generic.isMuted=this.muted,e.generic.isTimeRemainingDisplay=this.isTimeRemainingDisplay,e.web.isForcedVideoView=this.isForcedVideoView,void 0!==this.enablePostMessage&&(e.web.enablePostMessage=this.enablePostMessage),void 0!==this.disablePosterImage&&(e.web.disablePosterImage=this.disablePosterImage),null!==this.hlsOptimizationLevel)switch(this.hlsOptimizationLevel){case"quality":case"responsive":case"smoothest":e.web.hlsOptimizationLevel=this.hlsOptimizationLevel;break;default:e.web.hlsOptimizationLevel="quality"}return this.parsePluginData(e),this.parseTracking(e),r.iV.info("parsed PlayerConfig to next format",this),e}parsePluginData(e){var t,i;const r=[["addonConfig","legacyaddonconfig@all"],["pixelConfig","legacypixelconfig@all"],["_mcdnConfig","multicdn@web"],["hlsConfig","plugin-hls@web"]];for(const[n,a]of r)void 0!==this[n]&&(e.pluginData[a]=this[n]);this.setOptionalPluginConfig(e,"airplay","isDisabled",!this.airplayEnabled),this._mcdnConfig&&this.setOptionalPluginConfig(e,"multicdn","isActive",null!==(i=null===(t=this._mcdnConfig)||void 0===t?void 0:t.isActive)&&void 0!==i&&i)}parseTracking(e){var t,i;if(Array.isArray(this.pixelConfig)){const r=this.pixelConfig.find((e=>"ATI"===(null==e?void 0:e.tracker)||"ATIdebug"===(null==e?void 0:e.tracker)));r&&((0,n.nr)(r,"clipData")&&(r.richMedia=r.clipData,r.isEmbedded=r.clipData.isEmbedded),r.config=null!==(t=r.config)&&void 0!==t?t:r.tagConfig,r.page=null!==(i=r.page)&&void 0!==i?i:r.playclickData,e.pluginData["trackingAti@all"]=r);const a=this.pixelConfig.find((e=>"AGF"===(null==e?void 0:e.tracker)||"AGFdebug"===(null==e?void 0:e.tracker)));a&&(e.pluginData["trackingAgf@all"]=a)}}setOptionalPluginConfig(e,t,i,r){(0,n.nr)(e.pluginData,t+"@web")?e.pluginData[t+"@web"][i]=r:(0,n.nr)(e.pluginData,t+"@all")?e.pluginData[t+"@all"][i]=r:e.pluginData[t+"@all"]={[i]:r}}static GetPlayerConfigByJsonCmd(e,t,i){if(i){if(null!=t){const r=e=>{if(null!==i)if(null!=e){const t=(0,n.nr)(e,"_representationArray")?e._representationArray:null;delete e._representationArray;const r=new v(e);null==t||t.forEach(((e,t)=>{r.setRepresentation(t,e._representationClass)})),i(r)}else i()};if("object"==typeof t)return void r(JSON.parse(JSON.stringify(t)));if(!(0,n.fp)(t))return void fetch(t).then((e=>c(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{r(e)})).catch((t=>{null!==i&&(i(void 0),i=null),null==e||e.throwError(l.h.PC_JSON_FILE_NOT_FOUND,!0)}))}null==e||e.throwError(l.h.PC_JSON_FILE_WRONG_URI,!0)}}};return h(t,"LegacyPlayerConfiguration"),d(null,e={value:t},i,{kind:"class",name:t.name},null,p),v=t=e.value,u(t,p),v=t})();var v=i(3987),m=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},f=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},y=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))},g=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};class b{constructor(e){this.mediaStreamArray=[!1,!1,!1,!1],this.plugin=e}addMediaStream(e){this.mediaStreamArray[e.quality]=e}}class E{constructor(e,t,i,r,a,s,l){if(void 0===r&&(r=""),void 0===a&&(a=""),void 0===s&&(s=""),void 0===l&&(l=""),this.quality=e,this.server=t,this.stream=i,this.cdn=r,this.label=a,this.description=s,this.audioLang=l,(0,n.fp)(r)&&(this.cdn="default"),(0,n.fp)(a))switch(e){case 5:case"5":this.label="4K";break;case 4:case"4":this.label="Full HD";break;case 3:case"3":this.label="sehr hohe";break;case 2:case"2":this.label="hohe";break;case 1:case"1":this.label="mittlere";break;case 0:case"0":this.label="niedrige";break;case"auto":this.label="automatische";break;default:this.label="Unbekannt ("+e+")"}if((0,n.fp)(s))switch(e){case 5:case"5":this.description="4K";break;case 4:case"4":this.description="Full HD";break;case 3:case"3":this.description="Sehr hohe Qualit\xe4t";break;case 2:case"2":this.description="Hohe Qualit\xe4t";break;case 1:case"1":this.description="Mittlere Qualit\xe4t";break;case 0:case"0":this.description="Niedrige Qualit\xe4t";break;case"auto":this.description="Automatische Qualit\xe4t";break;default:this.description="Unbekannt ("+e+")"}}get _stream(){return this.stream}}let S=(()=>{let e,t,i=[o.VP],d=[];var u=t=class{get _type(){return this.type}get _download(){var e;return null!==(e=this.download)&&void 0!==e&&e?this.download:void 0}constructor(e,t,i,r){this.geoblocked=!1,this._dvrEnabled=!1,this._mediaArray=[!1,!1,!1],this.alternativeMediaArrays=null,this.previewImage=void 0,this.audioImage=void 0,this.subtitleUrl=void 0,this.subtitleOffset=void 0,this.startTime=void 0,this.endTime=void 0,this.embedEnabled=!1,this.embedLink="",this.embedLinkText="",this.embedTitle="",this._title="",this.duration=0,this.durationEnabled=!0,this.chapters={chapterSpriteImage:null,chapterSpriteColumns:4},this.isLive=void 0,this.type=void 0,this.defaultQuality=void 0,this.download=void 0,this._sharing=void 0,this._vttElements=void 0,this.vttPreview=void 0,this.addon360=void 0,this._info=void 0,this._reco=void 0,this._dashConfig=void 0,null!==e||null!==t||null!==i||null==r||"object"!=typeof r?(this.type=e,this.isLive=t,this.defaultQuality=i):((0,n.ZA)(this,r),(0,n.nr)(r,"_chapters")&&(this.chapters=(0,n.Ue)(r._chapters)),Array.isArray(this.defaultQuality)||(this.defaultQuality=this.defaultQuality?[this.defaultQuality]:[]))}addMediaStream(e,t,i,r,n,a,s,l){const o=new E(t,i,r,n,a,s,l);return this._mediaArray[e].addMediaStream(o),this}addMedia(e){this._mediaArray[e]=new b(e)}addAlternativeMediaStream(e,t,i,r,n,a,s,l,o){const d=new E(i,r,n,a,s,l,o),u=this.getAlternativeMediaArrayByType(e);return!1===u[t]&&(u[t]=new b(t)),u[t].addMediaStream(d),this}getAlternativeMediaArrayByType(e){let t;null==this.alternativeMediaArrays&&(this.alternativeMediaArrays=[]);for(let i=0;i<this.alternativeMediaArrays.length&&(t=this.alternativeMediaArrays[i],-1===t._type.indexOf(e));i++)t=null;return null==t&&(t={_type:[e],_mediaArray:[!1,!1,!1]},this.alternativeMediaArrays.push(t)),t._mediaArray}parseToNextFormat(e,t){const i=new v.ib;return this.parseMeta(i,e),this.parsePluginData(i,e,t),this.parseStreams(i),this.parseSubtitles(i,t),this.parseOrphanSettings(i,t),this.parseTracking(i,t),this.handleMovedSettings(e),r.iV.info("parsed LegacyMediaCollection to next format",this),i}parseTracking(e,t){t._solaAnalyticsEnabled&&void 0!==t._solaAnalyticsConfig&&(e.pluginData["trackingSola@all"]="string"==typeof t._solaAnalyticsConfig?{configPath:t._solaAnalyticsConfig}:t._solaAnalyticsConfig)}handleMovedSettings(e){var t,i;void 0===e.generic&&(e.generic=new s.z5),e.generic.isDvrEnabled=this._dvrEnabled&&this.isLive,e.generic.vodStartSeconds=(null!==(t=this.startTime)&&void 0!==t?t:0)>0?this.startTime:e.generic.vodStartSeconds,e.generic.vodEndSeconds=(null!==(i=this.endTime)&&void 0!==i?i:0)>0?this.endTime:e.generic.vodEndSeconds}parseOrphanSettings(e,t){var i,r,a,s;null===(i=null==t?void 0:t.chaptersEnabled)||void 0===i||i||this.setOptionalPluginConfig(e,"jumpmarks","chaptersEnabled",!1),0!==(null!==(a=null===(r=this.chapters)||void 0===r?void 0:r.refresh)&&void 0!==a?a:0)&&this.setOptionalPluginConfig(e,"jumpmarks","refreshSeconds",this.chapters.refresh),(0,n.fp)(null===(s=this.chapters)||void 0===s?void 0:s.source)||this.setOptionalPluginConfig(e,"jumpmarks","url",this.chapters.source)}setOptionalPluginConfig(e,t,i,r){(0,n.nr)(e.pluginData,t+"@"+a.q.platform)?e.pluginData[t+"@"+a.q.platform][i]=r:(0,n.nr)(e.pluginData,t+"@all")?e.pluginData[t+"@all"][i]=r:e.pluginData[t+"@all"]={[i]:r}}parseStreams(e){var t;e.streams=[],e.isGeoBlocked=this.geoblocked;const i=this.parseMediaStreamArray(this._mediaArray,void 0!==e.live);i.length>0&&e.streams.push(new v.F6(i,"main","audio"===this.type));const a={signlanguage:["sign-language","Geb\xe4rdensprache"],audiodescription:["main","Audiodeskription"],untertitel:["subtitle-burn-in","Untertitel"]};null===(t=this.alternativeMediaArrays)||void 0===t||t.forEach((t=>{const[i,s]=a[t._type[0]];if(void 0!==i){let a="";for(let e=0;e<t._mediaArray.length;e++){const i=t._mediaArray[e];if(i){const e=Object.values(i.mediaStreamArray);for(let t=0;t<e.length;t++){const i=e[t];if(i&&!(0,n.fp)(i.audioLang)){a=i.audioLang;break}}if(!(0,n.fp)(a))break}}const l=this.parseMediaStreamArray(t._mediaArray,void 0!==e.live,"audiodescription"===t._type[0]);l.length>0?e.streams.push(new v.F6(l,i,!1,s,a)):r.iV.warn("empty mapped stream for type "+t._type[0])}else r.iV.warn("unmapped alternative media stream of type "+t._type[0])}))}parseSharingPlugin(e){return{link:e.link,embedCode:e.embed,params:e.params||"?startTime=$start$&endTime=$ende$",legal:e.legal||"",body:e.body||"Unbedingt anschauen! Mein Tipp aus der ARD Mediathek: $link$",subject:e.subject||"Empfehlung aus der ARD Mediathek",services:e.services||[]}}parsePluginData(e,t,i){void 0===t&&(t=null),void 0===i&&(i=null),"object"!=typeof e.pluginData&&(e.pluginData={});const r=[["_dashConfig","plugin-dash@"+a.q.platform],["chapters","jumpmarks@"+a.q.platform],["_reco","recommendation@"+a.q.platform],["vttPreview","vtt-preview@"+a.q.platform],["addon360","addon360@"+a.q.platform]];for(const[n,a]of r)void 0!==this[n]&&(e.pluginData[a]=this[n]);i&&"object"==typeof i.addonBreakingNews&&(e.pluginData["breakingNews@"+a.q.platform]=i.addonBreakingNews),void 0!==this._sharing&&(e.pluginData["sharing@"+a.q.platform]=this.parseSharingPlugin(this._sharing)),void 0!==this._download&&(e.pluginData["download@"+a.q.platform]={isEnabled:!1!==this._download&&!1!==this._download.enabled}),e.pluginData["recommendation@"+a.q.platform]&&(e.pluginData["recommendation@"+a.q.platform].url=e.pluginData["recommendation@"+a.q.platform].path,e.pluginData["recommendation@"+a.q.platform].timerSeconds=e.pluginData["recommendation@"+a.q.platform].timer),(null==t?void 0:t.pluginData)&&(e.pluginData=Object.assign({},t.pluginData,e.pluginData),t.pluginData["tracking@all"]&&(e.pluginData["tracking@all"]=Object.assign({},t.pluginData["tracking@all"],e.pluginData["tracking@all"])),t.pluginData["tracking@"+a.q.platform]&&(e.pluginData["tracking@"+a.q.platform]=Object.assign({},t.pluginData["tracking@"+a.q.platform],e.pluginData["tracking@"+a.q.platform])))}parseMeta(e,t){var i,r,a,s,l,o,d;if(void 0===t&&(t=null),this.isLive&&(e.live={dvrWindowSeconds:7e3},delete e.meta.broadcastedOnDateTime),this.duration){const t=parseInt(this.duration,10);t&&t>4&&(e.meta.durationSeconds=t)}this.durationEnabled||(e.meta.hideDuration=!0),(0,n.fp)(this._title)?(0,n.fp)(this.embedTitle)||(e.meta.title=this.embedTitle):e.meta.title=this._title,this._info&&((0,n.fp)(this._info.clipDescription)||(e.meta.synopsis=this._info.clipDescription),(0,n.fp)(this._info.seriesTitle)||(e.meta.seriesTitle=this._info.seriesTitle),(0,n.fp)(this._info.clipContentSrc)||(e.meta.clipSourceName=this._info.clipContentSrc),(0,n.fp)(this._info.clipAvailEnd)||(e.meta.availableToDateTime=this._info.clipAvailEnd),(0,n.fp)(this._info.clipDate)||(e.meta.broadcastedOnDateTime=this._info.clipDate)),this.embedEnabled&&(e.meta.embed={enabled:this.embedEnabled,link:this.embedLink,linkText:this.embedLinkText,title:this.embedTitle});const u="audio"===this.type&&void 0!==this.audioImage?this.audioImage:this.previewImage;if("string"==typeof u)(0,n.fp)(u)||(e.meta.images=[{kind:"preview",url:u,imageSourceName:(0,n.fp)(null===(i=this._info)||void 0===i?void 0:i.clipPosterSrc)?void 0:this._info.clipPosterSrc}]);else if(u){const i=u,c={xs:0,s:414,m:475,l:851,xl:1441};t&&(t.generic.imageTemplateConfig.size=Object.keys(i).filter((e=>!(0,n.fp)(i[e]))).map((e=>({minWidth:c[e],value:i[e]}))).sort(((e,t)=>e.minWidth-t.minWidth))),e.meta.images=[{kind:"preview",url:t&&t.generic.imageTemplateConfig.size.length>0?"{size}":null!==(o=null!==(l=null!==(s=null!==(a=null!==(r=u.m)&&void 0!==r?r:u.l)&&void 0!==a?a:u.xl)&&void 0!==s?s:u.s)&&void 0!==l?l:u.xs)&&void 0!==o?o:"",imageSourceName:(0,n.fp)(null===(d=this._info)||void 0===d?void 0:d.clipPosterSrc)?void 0:this._info.clipPosterSrc}]}}parseSubtitles(e,t){e.subtitles=[];const i=[];this.subtitleUrl&&i.push({kind:"ebutt",url:this.subtitleUrl}),this._vttElements&&this._vttElements.forEach((t=>{(0,n.fp)(t.lang)||"de"===t.lang||"deu"===t.lang?i.push({kind:"webvtt",url:t.src}):e.subtitles.push({kind:"normal",languageCode:t.lang,sources:[{kind:"webvtt",url:t.src}]})})),(null==t?void 0:t.streamed_webvtt_enabled)&&i.push({kind:"webvtt"}),i.length>0&&e.subtitles.unshift({kind:"normal",languageCode:"deu",sources:i})}parseMediaStreamArray(e,t,i){var r,a,s,l;if(void 0===i&&(i=!1),!e||!this.defaultQuality)return[];const o={};for(const n of e)if(!1!==n&&n.mediaStreamArray)for(const e of Object.keys(n.mediaStreamArray)){const t=n.mediaStreamArray[e];if(!1===t||!t.stream)continue;const i="Q"+t.quality;o[i]?o[i].push(t):o[i]=[t]}const d=[];for(const c of this.defaultQuality){const e="Q"+c,h=o[e];if(h)for(const o of h)for(const h of Array.isArray(o.stream)?o.stream:[o.stream]){const p=(null!==(r=o.server)&&void 0!==r?r:"")+h;let m=p.indexOf("?");const f=p.indexOf("#");m=f>0&&m>0?Math.max(m,f):f>0?f:m;const y=m>0?p.substring(0,m):p,g=new v.CT(p,t?"video/mpeg":"video/mp4");if((0,n.fp)(o.audioLang)?g.audios.push({kind:i?"audio-description":"standard",languageCode:"deu",isLegacyDefaultEntry:!0}):g.audios.push({kind:i?"audio-description":"standard",languageCode:u.normalizeLangCode(o.audioLang)}),"audio"===this.type)y.includes("m3u")?g.mimeType="application/vnd.apple.mpegurl":y.endsWith(".aac")?g.mimeType="audio/aac":/\.mpd(\?.*)?$/i.test(y)?g.mimeType="application/dash+xml":g.mimeType="audio/mpeg";else if(y.endsWith(".ts")?g.mimeType="video/mpeg":/\.mpd(\?.*)?$/i.test(y)?g.mimeType="application/dash+xml":y.includes("m3u8")&&(g.mimeType="application/vnd.apple.mpegurl"),5===c&&"application/dash+xml"===g.mimeType&&(g.isHighDynamicRange=!0),"application/dash+xml"===g.mimeType&&null!==(l=null===(s=null===(a=this._dashConfig)||void 0===a?void 0:a.streaming)||void 0===s?void 0:s.lowLatencyEnabled)&&void 0!==l&&l&&(g.isUltraLowLatency=!0),"application/dash+xml"!==g.mimeType&&"application/vnd.apple.mpegurl"!==g.mimeType)switch(e){case"Q0":g.maxHResolutionPx=320;break;case"Q1":g.maxHResolutionPx=640;break;case"Q2":g.maxHResolutionPx=960;break;case"Q3":g.maxHResolutionPx=1280;break;case"Q4":case"Qauto":g.maxHResolutionPx=1920;break;case"Q5":g.maxHResolutionPx=3840}(0,n.fp)(o.description)||(g.forcedLabel=o.description),d.push(g)}}return d}static normalizeLangCode(e){switch(e.toLowerCase()){case"sgg":return"gsw";case"ase":case"bfi":return"eng";case"fsl":return"fre";case"sgn":case"gsg":case"dgs":case"und":case"":return"deu";default:return e}}static GetMediaCollectionByJsonCmd(e,t,i){if(void 0!==i){if(null!=t){const r=e=>{if(null!==i)if(null!=e){let t=[];(0,n.nr)(e,"_mediaArray")&&(t=e._mediaArray,delete e._mediaArray);let r=[];(0,n.nr)(e,"_alternativeMediaArray")&&(r=e._alternativeMediaArray,delete e._alternativeMediaArray);const a=new u(null,null,null,e);t.forEach((e=>{a.addMedia(e._plugin),void 0!==e._mediaStreamArray&&Array.isArray(e._mediaStreamArray)&&e._mediaStreamArray.forEach((t=>{(t._server+t._stream).length>0&&a.addMediaStream(e._plugin,t._quality,t._server,t._stream,t._cdn,t._label,t._description,t._audiolang)}))})),r.forEach((e=>{e._mediaArray.forEach((t=>{void 0!==t._mediaStreamArray&&Array.isArray(t._mediaStreamArray)&&t._mediaStreamArray.forEach((i=>{(i._server+i._stream).length>0&&a.addAlternativeMediaStream(e._type[0],t._plugin,i._quality,i._server,i._stream,i._cdn,i._label,i._description,i._audiolang)}))}))})),i(a)}else i()};if("object"==typeof t)return void r(JSON.parse(JSON.stringify(t)));if(!(0,n.fp)(t))return void fetch(t).then((e=>y(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{r(e)})).catch((t=>{i&&(i(void 0),i=null),null==e||e.throwError(l.h.MC_JSON_FILE_NOT_FOUND,!0)}))}null==e||e.throwError(l.h.MC_JSON_FILE_WRONG_URI,!0)}}};return g(t,"LegacyMediaCollection"),m(null,e={value:t},i,{kind:"class",name:t.name},null,d),u=t=e.value,f(t,d),u=t})();var w=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},C=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},T=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}o((r=r.apply(e,t||[])).next())}))},A=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let k=(()=>{let e,t,i=[o.VP],a=[];var l=t=class{constructor(e,t){this.errorCtrl=e,this.initPlayer=t,this.isLegacy=!1,this.legacyPC=null,this.legacyMC=null,this.mc=null,this.pc=null}setPC(e,t){var i,a,l,o,d,u,c,h;if("string"!=typeof e){if(!(e instanceof s.QL||e instanceof p||"object"!=typeof e||!(0,n.nr)(e,"_autoplay")&&!(0,n.nr)(e,"_baseUrl")&&(0,n.nr)(e,"pluginData")))return this.isLegacy=!0,r.iV.warn("treating PlayerConfiguration input as legacy format"),void p.GetPlayerConfigByJsonCmd(this.errorCtrl,e,(e=>{this.setPC(e,t)}));if(e instanceof p)this.isLegacy=!0,this.legacyPC=t?t(e):e;else if(e instanceof s.QL)this.pc=e;else try{r.iV.warn("cast [object] to PlayerConfig",e);const t=JSON.parse(JSON.stringify(e));t.generic&&(t.generic.imageTemplateConfig=new s.HZ(null===(a=null===(i=t.generic)||void 0===i?void 0:i.imageTemplateConfig)||void 0===a?void 0:a.width,null===(o=null===(l=t.generic)||void 0===l?void 0:l.imageTemplateConfig)||void 0===o?void 0:o.size)),t.generic=Object.assign(new s.z5,t.generic),t.web.forcedVolume=null!==(d=t.web.forcedVolume)&&void 0!==d?d:-1,t.web=Object.assign(new s.eu(null!==(c=null===(u=t.web)||void 0===u?void 0:u.baseUrl)&&void 0!==c?c:""),t.web),t.pluginData=null!==(h=t.pluginData)&&void 0!==h?h:{},this.pc=Object.assign(Object.create(s.QL.prototype),t)}catch(t){return void r.iV.error("Invalid input for PlayerConfiguration",e,t)}this.checkReady()}else if(e.startsWith("{"))try{this.setPC(JSON.parse(e))}catch(t){r.iV.error("could not parse pc from string",e,t)}else fetch(e).then((e=>T(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{this.setPC(e)})).catch((t=>{r.iV.error("could not load pc from url",e,t)}))}setMC(e,t){var i,a;if("string"!=typeof e){if(!(e instanceof v.ib||e instanceof S||"object"!=typeof e)&&(0,n.nr)(e,"_mediaArray"))return this.isLegacy=!0,r.iV.warn("treating MediaCollection input as legacy format"),void S.GetMediaCollectionByJsonCmd(null,e,(e=>{this.setMC(e,t)}));if(e instanceof S)this.isLegacy=!0,this.legacyMC=t?t(e):e;else if(e instanceof v.ib)this.mc=e;else try{r.iV.warn("cast [object] to MediaCollection",e);const t=JSON.parse(JSON.stringify(e));t.subtitles=null!==(i=t.subtitles)&&void 0!==i?i:[],t.isGeoBlocked=null!==(a=t.isGeoBlocked)&&void 0!==a&&a,t.streams=t.streams.map((e=>{var t,i,r,n,a;return e.isAudioOnly=null!==(t=e.isAudioOnly)&&void 0!==t&&t,e.media=e.media.map((e=>Object.assign(new v.CT(e.url,e.mimeType),e))),e.videoLanguageCode=null!==(a=null!==(i=e.videoLanguageCode)&&void 0!==i?i:null===(n=null===(r=e.media[0])||void 0===r?void 0:r.audios[0])||void 0===n?void 0:n.languageCode)&&void 0!==a?a:"deu",Object.assign(new v.F6(e.media),e)})),this.mc=Object.assign(Object.create(v.ib.prototype),t)}catch(t){return void r.iV.error("Invalid input for MediaCollection",t,e)}this.checkReady()}else if(e.startsWith("{"))try{this.setMC(JSON.parse(e))}catch(t){r.iV.error("could not parse mc from string",e,t)}else fetch(e).then((e=>T(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{this.setMC(e)})).catch((t=>{r.iV.error("could not load mc from url",e,t)}))}checkReady(){var e,t,i,n;null!==this.initPlayer?(this.isLegacy&&null!==this.legacyPC&&null!==this.legacyMC&&(r.iV.warn("[Loader] initialising with legacy data model!"),this.pc=this.legacyPC.parseToNextFormat(),this.mc=this.legacyMC.parseToNextFormat(this.pc,this.legacyPC)),null!==this.mc&&null!==this.pc&&(l.embeddedConfig&&null!==(n=null!==(t=null===(e=l.embeddedConfig)||void 0===e?void 0:e.android)&&void 0!==t?t:null===(i=l.embeddedConfig)||void 0===i?void 0:i.ios)&&void 0!==n&&n&&(r.iV.info("[Loader] injecting embedded config"),Object.assign(this.pc,l.embeddedConfig)),this.mc._dvrEnabledInPc=this.pc.generic.isDvrEnabled,r.iV.init("[Loader][PC]",JSON.parse(JSON.stringify(this.pc))),r.iV.init("[Loader][MC]",JSON.parse(JSON.stringify(this.mc))),this.initPlayer(this.pc,this.mc),this.initPlayer=null)):r.iV.error("checkReady called with null callback!")}static get hasEmbeddedConfig(){return null!==l.embeddedConfig}static setEmbeddedConfig(e){var t,i;e&&null!==(i=null!==(t=null==e?void 0:e.android)&&void 0!==t?t:e.ios)&&void 0!==i&&i?(l.embeddedConfig={},e.android&&(l.embeddedConfig.android=e.android),e.ios&&(l.embeddedConfig.ios=e.ios)):l.embeddedConfig=null}};return A(t,"ConfigLoader"),w(null,e={value:t},i,{kind:"class",name:t.name},null,a),l=t=e.value,t.embeddedConfig=null,C(t,a),l=t})()},4736:function(e,t,i){"use strict";i.d(t,{J:function(){return ht}});var r=i(1225),n=i(6735),a=i(4178),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},l=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},o=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},d=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},u=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},c=(()=>{var e,t,i;let c,h,p=[a.VP],v=[];return h=class{constructor(){e.set(this,null),t.set(this,[]),i.set(this,new Map)}get executionContextProvider(){return this}get executionContext(){return 0===o(this,t,"f").length?null:o(this,t,"f")[o(this,t,"f").length-1]}get lastExecutionContext(){return o(this,e,"f")}withExecutionContext(i,n){if(o(this,t,"f").length>0&&o(this,t,"f")[o(this,t,"f").length-1]===i)return n();d(this,e,i,"f"),o(this,t,"f").push(i),r.iV.group("[EX]",String(i.type)+":"+String(i.initiator));try{return n()}finally{r.iV.groupEnd(),o(this,t,"f").pop()}}withOptionalExecutionContext(e,t){return null!=e?this.withExecutionContext(e,t):t()}setExecutionContext(e,t,r){void 0===r&&(r=500),(0,n.fp)(e)||((0,n.NZ)(t)?o(this,i,"f").delete(e):o(this,i,"f").set(e,Object.assign({},t,{keyedContextValidUntil:r<=0?-1:performance.now()+r})))}clearExecutionContext(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((e=>{this.setExecutionContext(e,null)}))}preserveExecutionContext(e,i){return void 0===i&&(i=500),o(this,t,"f").length>0&&(this.setExecutionContext(e,o(this,t,"f")[o(this,t,"f").length-1],i),!0)}preserveExecutionContextAlias(e,t){const i=this.getPreservedExecutionContext(e);if(i){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];n.forEach((e=>{this.setExecutionContext(e,i,t)}))}}getPreservedExecutionContext(e){const t=o(this,i,"f").get(e);return(0,n.s$)(t)&&(-1===t.keyedContextValidUntil||t.keyedContextValidUntil>=performance.now())?t:null}getExecutionContext(e){return o(this,t,"f").length>0?o(this,t,"f")[o(this,t,"f").length-1]:this.getPreservedExecutionContext(e)}},e=new WeakMap,t=new WeakMap,i=new WeakMap,u(h,"ExecutionContextProviderImpl"),s(null,c={value:h},p,{kind:"class",name:h.name},null,v),h=c.value,l(h,v),h})(),h=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},p=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},v=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},m=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},f=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let y=(()=>{var e,t;let i,s,l=[a.VP],o=[];return s=class extends c{constructor(){super(...arguments),e.set(this,{}),t.set(this,void 0)}registerDelegate(e){v(this,t,"f")||m(this,t,new Set,"f"),v(this,t,"f").add(e)}disposeDelegate(e){var i;null===(i=v(this,t,"f"))||void 0===i||i.delete(e)}on(e,t){this.addEventListener(e,t)}off(t,i){void 0===t&&(t=""),void 0!==v(this,e,"f")&&((0,n.fp)(t)||i?(0,n.fp)(t)?m(this,e,{},"f"):i&&this.removeEventListener(t,i):delete v(this,e,"f")[t])}dispatchEvent(e,t){this.dispatchEventInternal(Object.assign({type:e},t))}sendEvent(e){var i;(0,n.fp)(null==e?void 0:e.type)||(this.dispatchEventInternal(e),null===(i=v(this,t,"f"))||void 0===i||i.forEach((t=>{t.dispatchEventInternal(e)})))}addEventListener(t,i){void 0===v(this,e,"f")[t]&&(v(this,e,"f")[t]=[]),v(this,e,"f")[t].includes(i)||v(this,e,"f")[t].push(i)}hasEventListener(t,i){var r,n;return null!==(n=null===(r=v(this,e,"f")[t])||void 0===r?void 0:r.includes(i))&&void 0!==n&&n}removeEventListener(t,i){const r=v(this,e,"f")[t];if(void 0!==r){const e=r.indexOf(i);-1!==e&&r.splice(e,1)}}dispatchEventInternal(t){this.withOptionalExecutionContext(this.getPreservedExecutionContext(t.type),(()=>{var i,n;null===(i=v(this,e,"f")[t.type])||void 0===i||i.forEach((e=>{try{e.call(this,t)}catch(i){r.iV.error("Error in event listener for '"+String(t.type)+"' - "+e.name+" -",i,e)}})),null===(n=v(this,e,"f")["*"])||void 0===n||n.forEach((e=>{try{e.call(this,t)}catch(i){r.iV.error("Error in broadcast event listener for '"+String(t.type)+"' - "+e.name+" -",i,e)}}))}))}},e=new WeakMap,t=new WeakMap,f(s,"EventDispatcher"),h(null,i={value:s},l,{kind:"class",name:s.name},null,o),s=i.value,p(s,o),s})();var g=i(5996),b=i(8771),E=i(5491),S=i(5855),w=i(8254),C=i(9803),T=i(3197),A=i(2009),k=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},_=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},I=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},P=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},L=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let x=(()=>{var e,t,i,n,s,l,o,d,u,c,h;let p,v,m=[a.VP],f=[];return v=class{constructor(a){this.viewController=a,this.attached=!1,this.embedded=!1,this.isKeyboardNavigating=!1,this.preemptNavigationInputs=!1,e.set(this,-1),t.set(this,-1),i.set(this,10),n.set(this,60),s.set(this,P(this,i,"f")),l.set(this,null),o.set(this,null),d.set(this,void 0),u.set(this,[]),c.set(this,!1),h.set(this,!1),this.handleKeyDown=a=>{var l,o,u,p;let v=(null!==(l=null==a?void 0:a.key)&&void 0!==l?l:"").toLowerCase();if(r.iV.info("[ARDP][KeyboardCtrl]","keydown",v),"shift"===v||"control"===v)return;const m=a.shiftKey,f=a.ctrlKey,y=P(this,d,"f").getCtrl(),g=this.viewController.controlsVisible||this.viewController.posterFrameVisible;if(!this.embedded&&!this.attached&&"tab"===v)return void P(this,d,"f").safeTimeout((()=>{var e,t,i;null!==(t=null!==(null===(e=this.viewController)||void 0===e?void 0:e.lastFocusElement))&&void 0!==t&&t&&(this.showFocusOutlines(),(0,T.n6)(null===(i=this.viewController)||void 0===i?void 0:i.lastFocusElement))}));const b=null!==(o=document.activeElement)&&void 0!==o?o:null;if(null!==b){const e=b.nodeName.toLowerCase();if("textarea"===e||"input"===e&&"checkbox"!==b.type||!this.embedded&&!this.viewController.isWithinPlayer(b))return}if(this.embedded)switch(v){case"enter":g||(null==b?void 0:b.classList.contains("ardplayer-always-visible-control"))||(v="mediaplaypause"),this.isControlbar(this.viewController.lastFocusElement)&&(-1!==P(this,t,"f")&&(window.clearTimeout(P(this,t,"f")),I(this,t,-1,"f")),-1!==P(this,e,"f")&&(window.clearTimeout(P(this,e,"f")),I(this,e,-1,"f"),I(this,s,P(this,i,"f"),"f")),this.viewController.programmaticSeekDone(),P(this,d,"f").isPlaying||(v="mediaplaypause"));break;case"mediafastforward":case"mediarewind":return this.viewController.focusControlBar(),this.viewController.programmaticSeek("mediafastforward"===v,P(this,n,"f")),a.stopImmediatePropagation(),void a.preventDefault();case"tab":this.showFocusOutlines(),g||(null==b?void 0:b.classList.contains("ardplayer-always-visible-control"))||this.viewController.focusControlBar(),this.isControlbar(this.viewController.lastFocusElement)&&(this.viewController.programmaticSeek(!a.shiftKey,P(this,s,"f")),-1===P(this,t,"f")&&I(this,t,P(this,d,"f").safeTimeout((()=>{I(this,s,Math.min(P(this,n,"f"),P(this,s,"f")+P(this,i,"f")/2),"f"),I(this,t,-1,"f")}),1500),"f"),window.clearTimeout(P(this,e,"f")),I(this,e,P(this,d,"f").safeTimeout((()=>{I(this,e,-1,"f"),I(this,s,P(this,i,"f"),"f")}),250),"f"),a.stopImmediatePropagation(),a.preventDefault())}if(null!==b&&b instanceof HTMLElement&&b.tabIndex>=0&&(g||b.classList.contains("ardplayer-always-visible-control"))&&!b.classList.contains("ardplayer-controlbar")&&("enter"===v||" "===v&&!b.classList.contains("ardplayer-button-fullscreen")))return a.stopImmediatePropagation(),a.preventDefault(),void b.click();switch((this.embedded||"tab"!==v)&&this.viewController.setOver(),v){case"0":case"home":if(f)break;this.handleSeek(0);break;case"f8":case"mediaplaypause":case"k":case" ":if(f)break;a.stopImmediatePropagation(),a.preventDefault(),this.handlePlayPause(a);break;case"mediaplay":a.stopImmediatePropagation(),a.preventDefault(),this.viewController.posterFrameVisible?this.viewController.handlePosterFrame(a):P(this,d,"f").playInternal();break;case"mediapause":a.stopImmediatePropagation(),a.preventDefault(),P(this,d,"f").pauseInternal();break;case"mediastop":a.stopImmediatePropagation(),a.preventDefault(),P(this,d,"f").stopInternal();break;case"j":case"arrowleft":if(a.stopImmediatePropagation(),a.preventDefault(),m)return void P(this,d,"f").loop.dispatchEvent(ht.EVENT_KEYBOARD_RELEASE,{shortcut:a.key.toLowerCase(),shiftKey:a.shiftKey,ctrlKey:a.ctrlKey});y&&!f&&this.handleSeek(y.getCurrentTime()-Math.max(10,Math.floor(.01*y.getDuration())));break;case"l":case"arrowright":if(a.stopImmediatePropagation(),a.preventDefault(),m)return void P(this,d,"f").loop.dispatchEvent(ht.EVENT_KEYBOARD_RELEASE,{shortcut:a.key.toLowerCase(),shiftKey:a.shiftKey,ctrlKey:a.ctrlKey});y&&!f&&this.handleSeek(y.getCurrentTime()+Math.max(10,Math.floor(.01*y.getDuration())));break;case"arrowup":if(a.ctrlKey&&a.shiftKey)return I(this,h,!0,"f"),a.stopImmediatePropagation(),a.preventDefault(),this.showFocusOutlines(),g||(null==b?void 0:b.classList.contains("ardplayer-always-visible-control"))?void(this.preemptNavigationInputs||(0,T.pr)(this.viewController.playerView,!1,!1,null,!0,S.q.isEmbedded)):void this.viewController.setOver();case"audiovolumeup":a.stopImmediatePropagation(),a.preventDefault(),this.handleVolume(.1);break;case"arrowdown":if(a.ctrlKey&&a.shiftKey)return I(this,c,!0,"f"),a.stopImmediatePropagation(),a.preventDefault(),this.showFocusOutlines(),g||(null==b?void 0:b.classList.contains("ardplayer-always-visible-control"))?void(this.preemptNavigationInputs||(0,T.pr)(this.viewController.playerView,!0,!1,null,!0,S.q.isEmbedded)):void this.viewController.setOver();case"audiovolumedown":a.stopImmediatePropagation(),a.preventDefault(),this.handleVolume(-.1);break;case"audiovolumemute":case"m":if(a.shiftKey&&a.ctrlKey&&a.altKey)return a.stopImmediatePropagation(),a.preventDefault(),void P(this,d,"f").loop.dispatchEvent(ht.EVENT_KEYBOARD_RELEASE,{shortcut:"contextmenu",shiftKey:!1,ctrlKey:!1});f||this.handleMuteToggle();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":y&&!f&&this.handleSeek(y.getDuration()*(Number(a.key)/10));break;case"end":y&&!f&&this.handleSeek(y.getDuration());break;case"+":if(f)break;this.handleQuality(1);break;case"-":if(f)break;this.handleQuality(-1);break;case"f":if(f)break;this.handleFullscreen(a);break;case"tab":if(f)break;if(this.showFocusOutlines(),!this.embedded&&null!==(p=null!==(null===(u=this.viewController)||void 0===u?void 0:u.lastFocusElement))&&void 0!==p&&p&&!this.viewController.posterFrameVisible&&this.viewController.isOut)return a.stopImmediatePropagation(),a.preventDefault(),this.viewController.setOver(),void P(this,d,"f").safeTimeout((()=>{(0,T.n6)(this.viewController.lastFocusElement)}),500);null==this.viewController.bottomSheet.activeScreen&&(this.preemptNavigationInputs||(0,T.pr)(this.viewController.playerView,!m,!0,null,!0,S.q.isEmbedded))&&(a.stopImmediatePropagation(),a.preventDefault());break;case":":if(f)break;P(this,d,"f").loop.dispatchEvent(ht.EVENT_KEYBOARD_RELEASE,{shortcut:m?".":":",shiftKey:m,ctrlKey:a.ctrlKey});break;case";":if(f)break;P(this,d,"f").loop.dispatchEvent(ht.EVENT_KEYBOARD_RELEASE,{shortcut:m?",":";",shiftKey:m,ctrlKey:a.ctrlKey});break;default:P(this,d,"f").loop.dispatchEvent(ht.EVENT_KEYBOARD_RELEASE,{shortcut:v,shiftKey:!1,ctrlKey:a.ctrlKey})}},this.handleKeyUp=e=>{var t,i;if(this.embedded||this.attached){const r=null!==(t=document.activeElement)&&void 0!==t?t:null;if(null!==r){const e=r.nodeName.toLowerCase();if("textarea"===e||"input"===e&&"checkbox"!==r.type||!this.embedded&&!this.viewController.isWithinPlayer(r))return}switch((null!==(i=null==e?void 0:e.key)&&void 0!==i?i:"").toLowerCase()){case" ":e.preventDefault();break;case"arrowdown":P(this,c,"f")&&P(this,h,"f")&&P(this,d,"f").loop.dispatchEvent(ht.EVENT_KEYBOARD_RELEASE,{shortcut:"contextmenu",shiftKey:!1,ctrlKey:!0}),I(this,c,!1,"f");break;case"arrowup":P(this,c,"f")&&P(this,h,"f")&&P(this,d,"f").loop.dispatchEvent(ht.EVENT_KEYBOARD_RELEASE,{shortcut:"contextmenu",shiftKey:!1,ctrlKey:!0}),I(this,h,!1,"f")}}},I(this,d,a.player,"f"),this.embedded=S.q.isEmbedded;const p=e=>{const t=[...e.ctrlKey?["ctrl"]:[],...e.altKey?["alt"]:[],...e.shiftKey?["shift"]:[]];P(this,d,"f").withExecutionContext({type:"keydown",initiator:t.length>0?e.code+"("+t.join("-")+")":e.code},(()=>{this.handleKeyDown(e)}))};document.addEventListener("keydown",p),P(this,u,"f").push((()=>{document.removeEventListener("keydown",p)}));const v=e=>{P(this,d,"f").withExecutionContext({type:"keyup",initiator:e.code},(()=>{this.handleKeyUp(e)}))};document.addEventListener("keyup",v),P(this,u,"f").push((()=>{document.removeEventListener("keyup",v)})),S.q.isEmbedded&&(I(this,l,new A.J(P(this,d,"f")),"f"),P(this,l,"f").addEventListener("NavControl.backPressed",(()=>{var e;null===(e=P(this,o,"f"))||void 0===e||e.handleBackNavigation()})))}attach(){this.attached=!0}detach(){this.attached=!1}showFocusOutlines(){var e,t;null===(t=null===(e=this.viewController)||void 0===e?void 0:e.playerView)||void 0===t||t.classList.add("ardplayer-show-focus-outlines"),this.isKeyboardNavigating=!0}handlePlayPause(e){this.viewController.posterFrameVisible?this.viewController.handlePosterFrame(e):this.viewController.handlePlayPauseBtn(e)}handleSeek(e){const t=P(this,d,"f").getCtrl();if(!t)return;let i=0,r=0;const n=t.getCurrentTime();e=Math.min(Math.max(e,0),t.getDuration());const a=this.viewController;a._dvrEnabledAndRequested&&(i=Math.min(a._lastDuration-n,a._lastDuration),r=Math.min(a._lastDuration-e,a._lastDuration));const s={seekto:e,current:n,dvrRelativeFrom:i,dvrRelativeTo:r};e>n?(P(this,d,"f").pixelController.triggerCustomPixel(E.J.IA_KEY_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,s),P(this,d,"f").pixelController.triggerCustomPixel(E.J.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,s),a.showAnimation("seekfwd")):(P(this,d,"f").model.mediaCollection.isLive?P(this,d,"f").pixelController.triggerCustomPixel(E.J.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT,!1,s):P(this,d,"f").pixelController.triggerCustomPixel(E.J.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND,!1,s),P(this,d,"f").pixelController.triggerCustomPixel(E.J.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,!1,s),a.showAnimation("ssekback")),P(this,d,"f").seekToInternal(e)}handleVolume(e){let t=P(this,d,"f").viewCtrl.volumeLevel/100;0!==e&&(t+=e),t=Math.max(Math.min(t,1),0),P(this,d,"f").pixelController.triggerCustomPixel(E.J.IA_KEY_VOLUME_CHANGE,!0,{volume:t,muted:!1}),P(this,d,"f").pixelController.triggerCustomPixel(E.J.SUPER_VOLUME_CHANGE,!0,{volume:t,muted:!1}),P(this,d,"f").viewCtrl.setVolumeLevel(100*t,!0,!1,!0)}handleMuteToggle(){const e=P(this,d,"f").viewCtrl.volumeLevel/100,t=P(this,d,"f").viewCtrl.toggleVolumeMuted(!0);t||0!==e||P(this,d,"f").viewCtrl.setVolumeLevel(100,!0,!1,!0),P(this,d,"f").pixelController.triggerCustomPixel(E.J.IA_KEY_VOLUME_CHANGE,!0,{volume:e,muted:t}),P(this,d,"f").pixelController.triggerCustomPixel(E.J.SUPER_VOLUME_CHANGE,!0,{volume:e,muted:t}),t?(P(this,d,"f").pixelController.triggerPixel(E.J.IA_KEY_VOLUME_MUTE),P(this,d,"f").pixelController.triggerPixel(E.J.SUPER_VOLUME_MUTE)):(P(this,d,"f").pixelController.triggerPixel(E.J.IA_KEY_VOLUME_UNMUTE),P(this,d,"f").pixelController.triggerPixel(E.J.SUPER_VOLUME_UNMUTE))}handleQuality(e){const t=P(this,d,"f").qualityList;if(t.length<=1)return;const i=P(this,d,"f").currentQuality,r=P(this,d,"f").qualityList.findIndex((e=>e.level===i));if(-1===r)return;let n=i;e>0?r<t.length-1&&(n=t[r+1].level):r>0&&(n=t[r-1].level),n!==i&&(P(this,d,"f").pixelController.triggerQualityChanged(E.J.IA_KEY_QUALITY_CHANGE),P(this,d,"f").switchQuality(n))}handleFullscreen(e){this.viewController.toggleFullscreen(e)}setBackNavigationHandler(e){var t;I(this,o,e,"f"),S.q.isEmbedded&&(null===(t=window.controller)||void 0===t||t.updateStateBool("willHandleBackNav",!0))}removeBackNavigationHandler(e){var t;P(this,o,"f")===e&&(I(this,o,null,"f"),S.q.isEmbedded&&(null===(t=window.controller)||void 0===t||t.updateStateBool("willHandleBackNav",!1)))}isControlbar(e){return null!==e&&("ardplayer-controlbar"===e.className||"progress"===e.getAttribute("role")||"slider"===e.getAttribute("role"))}dispose(){var i;this.detach(),P(this,u,"f").forEach((e=>{e()})),null===(i=P(this,l,"f"))||void 0===i||i.dispose(),I(this,l,null,"f"),I(this,o,null,"f"),window.clearTimeout(P(this,t,"f")),window.clearTimeout(P(this,e,"f")),delete this.player,delete this.viewController}},e=new WeakMap,t=new WeakMap,i=new WeakMap,n=new WeakMap,s=new WeakMap,l=new WeakMap,o=new WeakMap,d=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,L(v,"KeyboardPlayerController"),k(null,p={value:v},m,{kind:"class",name:v.name},null,f),v=p.value,_(v,f),v})();var M=i(3386),O=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},D=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},V=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},N=(()=>{let e,t,i=[a.VP],r=[];return t=class{constructor(e){this.player=e,this.container=document.createElement("div"),this.container.className="ardplayer-debugger-container",this.container.dataset.verticalNavAfter=".ardplayer-buttons-main.ardplayer-button-big",this.container.dataset.panelType=this.constructor.name;const t=document.createElement("button");t.classList.add("ardplayer-icon","ardplayer-icon-close"),t.tabIndex=0,this.container.appendChild(t),t.addEventListener("click",(()=>{this.hide()})),e.safeTimeout((()=>{const t=e.getTarget();if(t.appendChild(this.container),S.q.isEmbedded||this.container.offsetHeight>t.offsetHeight&&"fixed"!==getComputedStyle(this.container).position){const e=Math.min(t.offsetHeight/this.container.offsetHeight,1);this.container.style.top="0",this.container.style.transform="scale("+e.toFixed(3)+")",this.container.style.transformOrigin="top"}else{const e=t.getBoundingClientRect();this.container.style.top=e.top+"px",this.container.style.left=e.left+"px"}}))}hide(){this.player.getTarget().removeChild(this.container),this.dispose()}static show(e,t){var i;const r=e.getTarget().querySelector(".ardplayer-debugger-container");r&&(null===(i=r.querySelector(".ardplayer-icon-close"))||void 0===i||i.click()),new t(e)}addRow(e){const t=document.createElement("span");t.innerText=e;const i=document.createElement("div");return this.container.append(t,i),i}},V(t,"DebugPanel"),O(null,e={value:t},i,{kind:"class",name:t.name},null,r),t=e.value,D(t,r),t})(),R=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},B=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},U=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let F=(()=>{let e,t,i=[a.VP],s=[];return t=class extends N{constructor(e){var t,i,a,s,l;console.log("SHOWING DEBUGGER"),super(e),this.polling=!1,this.bufferHistoryIndex=0,this.graphHeight=30,this.graphLength=300,this.graphColors=["#039BE5","#7CB342","#FFB300","#E53935","#8E24AA","#00ACC1","#C0CA33","#00897B","#5E35B1","#FDD835","#43A047","#3949AB"],this.eventSize=4,this.eventCount=0,this.lastEventTime=-this.eventSize,this.state=this.addRow("Status"),this.state.innerText=this.getPlayState();const o=this.addRow("Volume");o.innerText=this.player.getVolume()+"%"+(this.player.isMuted?" [mute]":""),this.resolution=this.addRow("Viewport / Resolution"),this.resolution.innerText=this.getRes(),this.frames=this.addRow("Frames"),this.frames.innerText=this.getFrames(),this.time=this.addRow("Duration / Time"),this.time.innerText=this.getTime(),this.lang=this.addRow("Audio / Subtitle"),this.lang.innerText=this.getLang();const d=this.addRow("Stream Selection"),u=this.addRow("Media selection"),c=()=>{var e;d.innerText=this.player.streamDebug();const t=this.player.qualityList.find((e=>e.level===this.player.currentQuality));u.innerText=t?t.level+" | "+t.label+" | "+(null!==(e=t.debug)&&void 0!==e?e:"-"):"-"};c();const h=this.addRow("Stream-URL");h.innerText=null!==(a=null===(i=null===(t=this.player.currentStream)||void 0===t?void 0:t.media[this.player.currentMedia||0])||void 0===i?void 0:i.url)&&void 0!==a?a:"-";const p=this.addRow("Buffer");p.className="ardplayer-debug-graph";const v=document.createElement("canvas");v.style.height=this.graphHeight+"px",v.style.width=this.graphLength+"px",v.height=this.graphHeight,v.width=this.graphLength,this.bufferRenderContext=v.getContext("2d"),this.bufferText=document.createElement("span"),this.bufferLegend=document.createElement("p");const m=document.createElement("p");m.className="ardplayer-legend-vertical",m.innerHTML='\n            <span style="background:#aa00ff" title="LOAD"></span>\n            <span style="background:#ffea00" title="PAUSE"></span>\n            <span style="background:#00e676" title="PLAY"></span>\n            <span style="background:#2979ff" title="SEEK"></span>\n            <span style="background:#ff0000" title="ERROR"></span>\n        ',p.append(v,this.bufferText,this.bufferLegend,m);const f=this.addRow("Plugin / Mime");f.innerText=this.getPlugin(),this.controller=this.addRow("Ctrl-Debug"),this.controller.innerText=null!==(l=null===(s=this.player.getCtrl())||void 0===s?void 0:s.debugString())&&void 0!==l?l:"-",this.dvr=this.player.isLive?this.addRow("DVR"):null,this.dvr&&(this.dvr.className="debug-dvr",this.dvr.innerText=this.getDvr());const y=this.addRow("Debug");y.innerHTML='\n            <label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" '+(S.q.isDebug?'checked="checked"':"")+'/>ON</label>\n            <label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" '+(S.q.isDebugPlayerEvent?'checked="checked"':"")+' />Player Events</label>\n            <label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" '+(S.q.isDebugPixelEvent?'checked="checked"':"")+' />Pixel Events</label>\n            <label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" '+(S.q.isDebugVerboseUI?'checked="checked"':"")+" />Verbose UI</label>\n        ";const b=Array.from(y.querySelectorAll("input")),[w,C,T,A]=b;b.forEach((e=>{e.parentElement&&(e.parentElement.dataset.verticalNavAfter=".ardplayer-debugger-container")})),(0,n.nx)(w,(function(){this.checked||(C.checked=!1,T.checked=!1,A.checked=!1),(0,r.fF)(this.checked)}),this.player),(0,n.nx)(C,(function(){this.checked&&(w.checked=!0),S.q.isDebugPlayerEvent=this.checked}),this.player),(0,n.nx)(T,(function(){this.checked&&(w.checked=!0),S.q.isDebugPixelEvent=this.checked}),this.player),(0,n.nx)(A,(function(){this.checked&&(w.checked=!0),S.q.isDebugVerboseUI=this.checked}),this.player);const k=this.addRow("");k.className="debug-id",k.innerText=this.player.getId(),k.tabIndex=-2,(0,n.nx)(k,(()=>{window.console.info("ARD Player instance "+this.player.getId(),this.player)}),this.player),this.listener=e=>{var t,i,r;switch(e.type){case ht.EVENT_ERROR:case E.J.STREAM_ERROR:this.addEventToGraph("#ff0000");break;case ht.EVENT_SEEK_START:case ht.EVENT_SEEK_END:this.addEventToGraph("#2979ff");break;case ht.EVENT_QUALITY_CHANGE:c();break;case ht.EVENT_LOAD_STREAM:case ht.EVENT_STATUS_CHANGE:h.innerText=null!==(r=null===(i=null===(t=this.player.currentStream)||void 0===t?void 0:t.media[this.player.currentMedia||0])||void 0===i?void 0:i.url)&&void 0!==r?r:"-",f.innerText=this.getPlugin(),c(),this.resolution.innerText=this.getRes(),this.state.innerText=this.getPlayState(),this.lang.innerText=this.getLang(),this.addEventToGraph(e.type===ht.EVENT_LOAD_STREAM?"#aa00ff":"pause"===e.status?"#ffea00":"#00e676");break;case ht.PLAYBACK_RATE_CHANGE:this.state.innerText=this.getPlayState();break;case E.J.SUPER_VOLUME_CHANGE:case E.J.SUPER_VOLUME_MUTE:case E.J.SUPER_VOLUME_UNMUTE:o.innerText=this.player.getVolume()+"%"+(this.player.isMuted?" [mute]":"");break;case ht.VIEWPORT_RESIZE:this.resolution.innerText=this.getRes();break;case E.J.SUPER_AUDIOSTREAM_CHANGE:this.lang.innerText=this.getLang();break;case ht.EVENT_UPDATE_STREAM_TIME:this.dvr&&(this.dvr.innerText=this.getDvr())}},this.player.addEventListener("*",this.listener),g.K.for(this.player).storageListeners.add(this),this.polling=!0,this.poll()}onStorageValueChanged(e,t){switch(e){case g.K.CURRENT_PLAYERID:this.state.innerText=this.getPlayState();break;case g.K.SUBTITLE_ENABLED:this.lang.innerText=this.getLang()}}poll(){var e,t;try{if(!this.polling)return;this.resolution.innerText=this.getRes(),this.frames.innerText=this.getFrames(),this.time.innerText=this.getTime(),this.controller.innerText=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugString())&&void 0!==t?t:"-",this.updateBuffer(),this.player.safeTimeout((()=>{this.poll()}),250)}catch(e){this.polling=!1}}dispose(){this.polling=!1,this.player.removeEventListener("*",this.listener),g.K.for(this.player).storageListeners.delete(this)}updateBuffer(){var e,t;const i=this.player.mediaElement;let r=0;if(i){const e=i.buffered,t=i.currentTime;for(let i=0;i<e.length;i++)if(e.start(i)<=t&&e.end(i)>=t){r=e.end(i)-t;break}}if(this.bufferRenderContext){const[i,a]=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugQualityLevel())&&void 0!==t?t:[-1,1],s=Math.min(r,60)/60*this.graphHeight,l=this.bufferRenderContext;if(l.clearRect(this.bufferHistoryIndex,0,3,this.graphHeight),l.fillStyle="red",l.fillRect(this.bufferHistoryIndex+1,0,1,this.graphHeight),l.fillStyle=this.graphColors[Math.max(0,i)%this.graphColors.length],l.fillRect(this.bufferHistoryIndex,this.graphHeight-s,1,s),i>=0){if(this.bufferLegend.style.display="block",this.bufferLegend.childElementCount!==a){(0,n.cS)(this.bufferLegend);for(let e=0;e<a;e++){const t=document.createElement("span");t.style.backgroundColor=this.graphColors[e%this.graphColors.length],t.title="Quality "+(e+1),this.bufferLegend.append(t)}}}else this.bufferLegend.style.display="none";this.bufferHistoryIndex=++this.bufferHistoryIndex>=this.graphLength?0:this.bufferHistoryIndex}this.bufferText.innerText=r.toFixed(2)+"s"}addEventToGraph(e){if(this.bufferRenderContext){Math.abs(this.bufferHistoryIndex-this.lastEventTime)>this.eventSize?(this.lastEventTime=this.bufferHistoryIndex,this.eventCount=0):this.eventCount++;const t=this.bufferRenderContext;t.fillStyle=e,t.fillRect(this.bufferHistoryIndex-this.eventSize,this.eventSize*this.eventCount,this.eventSize,this.eventSize),t.strokeStyle="black",t.strokeRect(this.bufferHistoryIndex-this.eventSize,this.eventSize*this.eventCount,this.eventSize,this.eventSize)}}getPlayState(){var e;const t=null!==(e={0:"UNSPECIFIED",1:"PAUSED",2:"PLAYING",3:"STOPPED"}[this.player.model.playstate])&&void 0!==e?e:"UNKNOWN "+this.player.model.playstate;return(this.player.isLive?"LIVE":"OD")+" | "+(2===this.player.model.playstate?t+" ["+this.player.model.playbackRate+"x]":t)+" | "+(this.player.getId()===g.K.get(g.K.SUFFIX_GLOBAL,g.K.CURRENT_PLAYERID,!0)?"ACTIVE":"INACTIVE")}getDvr(){var e,t,i,r,n,a,s,l,o,d,u,c,h,p,v,m,f,y;const g=1e3*(null!==(r=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrRelToUnix(null!==(i=null===(t=this.player.getCtrl())||void 0===t?void 0:t.getCurrentTime())&&void 0!==i?i:0))&&void 0!==r?r:0),b=1e3*(null!==(l=null===(n=this.player.getCtrl())||void 0===n?void 0:n.dvrRelToUnix(null!==(s=null===(a=this.player.getCtrl())||void 0===a?void 0:a.getDuration())&&void 0!==s?s:0))&&void 0!==l?l:0),E=1e3*(null!==(d=null===(o=this.player.getCtrl())||void 0===o?void 0:o.dvrRelToUnix(0))&&void 0!==d?d:0),S=null!==(c=null===(u=this.player.getCtrl())||void 0===u?void 0:u.__cumulativeDrift)&&void 0!==c?c:0;return"HEAD: "+(g<=0?0:new Date(g).toISOString())+" "+(null!==(p=null===(h=this.player.getCtrl())||void 0===h?void 0:h.getCurrentTime())&&void 0!==p?p:0).toFixed(2)+"\n        REAL: "+(b<=0?0:new Date(b).toISOString())+" "+(null!==(m=null===(v=this.player.getCtrl())||void 0===v?void 0:v.getDuration())&&void 0!==m?m:0).toFixed(2)+"\n        LEFT: "+(E<=0?0:new Date(E).toISOString())+"\n        WINDOW: "+(null!==(y=null===(f=this.player.getCtrl())||void 0===f?void 0:f.getDuration())&&void 0!==y?y:0).toFixed(2)+"\n        DRIFT: "+S.toFixed(4)}getRes(){var e,t;return this.player.getTarget().offsetWidth+"x"+this.player.getTarget().offsetHeight+" | "+(null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugResolution())&&void 0!==t?t:"-")}getPlugin(){var e,t,i;return((0,n.fp)(this.player.currentPluginName)?"-":this.player.currentPluginName)+" | "+(null!==(i=null===(t=null===(e=this.player.currentStream)||void 0===e?void 0:e.media[this.player.currentMedia||0])||void 0===t?void 0:t.mimeType)&&void 0!==i?i:"-")}getLang(){var e,t,i,r;return null!==(t=null===(e=this.player.addons.find((e=>e.ID===M.Z.ID)))||void 0===e?void 0:e.debugString())&&void 0!==t?t:(null!==(r=null===(i=this.player.currentAudio)||void 0===i?void 0:i.languageCode)&&void 0!==r?r:"-")+" | "+(g.K.subtitleEnabled(this.player)?String(g.K.for(this.player).get("subtitleLang")):"-")}getFrames(){var e,t;return null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugFrames())&&void 0!==t?t:"-"}getTime(){return this.player.model.duration.toFixed(2)+"s | "+this.player.model.time.toFixed(2)+"s"}},U(t,"Debugger"),R(null,e={value:t},i,{kind:"class",name:t.name},null,s),t=e.value,B(t,s),t})();var H=i(2927);function j(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=q(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function K(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",n="",a=Array.isArray(t),s=0;s<e.length;s++)(i=K(e[s]))&&(a&&t[s]&&(i=q(i)),r=r+n+i,n=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var r in e)r&&e[r]&&W.call(e,r)&&(t=t+i+r,i=" ");return t}(e):e||""}function q(e){var t=""+e,i=z.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var W=Object.prototype.hasOwnProperty,z=/["&<>]/,G=function(e){var t,i="",r=e||{};return function(e){i+='<ul class="ardplayer-contextmenu"><li data-vertical-nav-after=".ardplayer-buttons-main.ardplayer-button-big"><button class="ardplayer-context-debug" tabindex="0"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M20,8H17.19C16.74,7.2 16.12,6.5 15.37,6L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.05,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6C7.87,6.5 7.26,7.21 6.81,8H4V10H6.09C6.03,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.03,15.67 6.09,16H4V18H6.81C8.47,20.87 12.14,21.84 15,20.18C15.91,19.66 16.67,18.9 17.19,18H20V16H17.91C17.97,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.97,10.33 17.91,10H20V8M16,15A4,4 0 0,1 12,19A4,4 0 0,1 8,15V11A4,4 0 0,1 12,7A4,4 0 0,1 16,11V15M14,10V12H10V10H14M10,14H14V16H10V14Z"></path></svg></button><button class="ardplayer-context-config" tabindex="0"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M5,9.5L7.5,14H2.5L5,9.5M3,4H7V8H3V4M5,20A2,2 0 0,0 7,18A2,2 0 0,0 5,16A2,2 0 0,0 3,18A2,2 0 0,0 5,20M9,5V7H21V5H9M9,19H21V17H9V19M9,13H21V11H9V13Z"></path></svg></button><button class="ardplayer-context-copy" tabindex="0"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 448 512"><path fill="currentColor" d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></button><button class="ardplayer-context-close" tabindex="0"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg></button></li>',function(){var r=e;if("number"==typeof r.length)for(var n=0,a=r.length;n<a;n++)(s=r[n]).name?i=i+"<li"+j("class",K(["ardplayer-item",[s.inactive||s.disabled?"ardplayer-item-inactive":void 0]],[!1,!0]),!1,!0)+">"+q(null==(t=s.disabled?"[":"")?"":t)+q(null==(t=s.name)?"":t)+q(null==(t=s.version?"@"+s.version:"")?"":t)+q(null==(t=s.revision?"#"+s.revision:"")?"":t)+q(null==(t=s.disabled?"]":"")?"":t)+"</li>":i+='<li class="ardplayer-divider">---</li>';else for(var n in a=0,r){var s;a++,(s=r[n]).name?i=i+"<li"+j("class",K(["ardplayer-item",[s.inactive||s.disabled?"ardplayer-item-inactive":void 0]],[!1,!0]),!1,!0)+">"+q(null==(t=s.disabled?"[":"")?"":t)+q(null==(t=s.name)?"":t)+q(null==(t=s.version?"@"+s.version:"")?"":t)+q(null==(t=s.revision?"#"+s.revision:"")?"":t)+q(null==(t=s.disabled?"]":"")?"":t)+"</li>":i+='<li class="ardplayer-divider">---</li>'}}.call(this),i+="</ul>"}.call(this,"items"in r?r.items:"undefined"!=typeof items?items:void 0),i},J=i(9825),Y=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},Q=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},$=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},Z=(()=>{let e,t,i=[a.VP],r=[];return t=class extends N{constructor(e){console.log("SHOWING CONFIG DEBUGGER"),super(e),this.addRow("ID").innerText=(0,n.SL)(e.model.mediaCollection.id)?e.model.mediaCollection.id:"-";let t=0;this.player.model.mediaCollection.streams.forEach((e=>{var i;this.addRow("Stream "+t++).innerText=e.kind+("main"!==e.kind?" "+e.videoLanguageCode:"")+" "+(null!==(i=e.kindName)&&void 0!==i?i:"");let r=0;e.media.forEach((e=>{this.addRow("#"+r+++" >").innerHTML=(e.forcedLabel?e.forcedLabel+"<br>":"")+"V: "+this.describeVideo(e)+" <br>A: "+e.audios.filter((e=>!0!==e.isDynamic)).map(this.describeAudio).join(", ")}))})),this.addRow("Subtitles").innerText=""+this.player.model.mediaCollection.subtitles.map(this.describeSubtitle).join("\n")}describeSubtitle(e){return e.languageCode+("normal"!==e.kind?" "+e.kind:"")+" => "+e.sources.map((e=>e.kind)).join(", ")}describeVideo(e){var t,i;return e.mimeType+((0,n.SL)(e.videoCodec)?" "+e.videoCodec:"")+" "+(null!==(t=e.maxHResolutionPx)&&void 0!==t?t:"_")+"x"+(null!==(i=e.maxVResolutionPx)&&void 0!==i?i:"_")+" "+(e.aspectRatio?" "+e.aspectRatio:"")+(e.isAdaptiveQualitySelectable?" adaptiveSelect":"")+(e.hasEmbeddedSubtitles?" vtt":"")+(e.isUltraLowLatency?" ull":"")+(e.isHighDynamicRange?" hdr":"")}describeAudio(e){return(e.default?"<i>":"")+((0,n.SL)(e.label)?'"'+e.label+'" ':"")+e.languageCode+("standard"!==e.kind?" "+e.kind:"")+(e.channels?" "+e.channels:"")+(e.default?"</i>":"")}dispose(){}},$(t,"ConfigDebugger"),Y(null,e={value:t},i,{kind:"class",name:t.name},null,r),t=e.value,Q(t,r),t})(),X=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},ee=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},te=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let ie=(()=>{let e,t,i=[a.VP],s=[];return t=class{constructor(e,t,i){var a=this;if(this.menu=null,this.disposeKeydown=null,this.showClick=e=>null!=e&&null!==this.menu&&(e.preventDefault(),!(!e.altKey&&!e.ctrlKey)&&(this.show(Math.min(e.pageX-window.scrollX,window.innerWidth-this.menu.offsetWidth),Math.min(e.pageY-window.scrollY,window.innerHeight-this.menu.offsetHeight)),!1)),this.touchGesturePhase=0,this.showTouch=e=>{if(null!=e&&null!==this.menu){if("touchstart"===e.type){if(3!==e.touches.length||this.touchGesturePhase%2!=0)return void(this.touchGesturePhase=0);this.touchGesturePhase+=1}else if("touchend"===e.type){if(this.touchGesturePhase<0)return e.stopPropagation(),e.stopImmediatePropagation(),void(this.touchGesturePhase+=1);if(2!==e.touches.length||this.touchGesturePhase%2==0)return void(this.touchGesturePhase=0);this.touchGesturePhase+=1}this.touchGesturePhase<5||(this.touchGesturePhase=-2,e.stopPropagation(),e.stopImmediatePropagation(),this.show(Math.min(...[...e.touches].map((e=>e.pageX-window.scrollX)),window.innerWidth-this.menu.offsetWidth),Math.min(...[...e.touches].map((e=>e.pageY-window.scrollY)),window.innerHeight-this.menu.offsetHeight),!0))}},this.show=function(e,t,i){if(void 0===i&&(i=!1),null!==a.menu)if(a.hostElement.appendChild(a.menu),a.menu.classList.toggle("ardplayer-contextmenu-touch",i),S.q.isEmbedded){const e=Math.min(a.hostElement.offsetHeight/(25+a.menu.offsetHeight),1);a.menu.style.top=25*e+"px",a.menu.style.left="30%",a.menu.style.transform="scale("+e.toFixed(3)+")"}else if(a.menu.offsetHeight+25>window.innerHeight){const t=Math.min(window.innerHeight/(25+a.menu.offsetHeight),1);a.menu.style.top=25*t+"px",a.menu.style.left=e+"px",a.menu.style.transform="scale("+t.toFixed(3)+")"}else a.menu.style.left=e+"px",a.menu.style.top=Math.max(25,Math.min(t,window.innerHeight-a.menu.offsetHeight))+"px",a.menu.style.transform=""},this.hide=e=>{var t;null==e||e.stopImmediatePropagation(),null===(t=this.menu)||void 0===t||t.remove()},this.hostElement=t,this.menu=new J.B(G).renderTemplateAsElement({playerID:e.getId(),items:i},!0),null==this.menu)return;(0,n.nx)(this.menu.querySelector("button.ardplayer-context-debug"),(()=>{N.show(e,F),this.hide()}),e),(0,n.nx)(this.menu.querySelector("button.ardplayer-context-config"),(()=>{N.show(e,Z),this.hide()}),e),(0,n.nx)(this.menu.querySelector("button.ardplayer-context-copy"),(()=>{var e,t;let i=null!==(t=null===(e=this.menu)||void 0===e?void 0:e.innerText)&&void 0!==t?t:"";i+="\n_____license_____\n"+H.I.core.license+"|"+H.I.core.signature,i+="\n_____debug_____\n"+r.iV._buffer,this.copyToClipboard(i)}),e),(0,n.nx)(this.menu.querySelector("button.ardplayer-context-close"),(()=>{this.hide()}),e),this.hostElement.addEventListener("contextmenu",this.showClick),S.q.isMobileDevice&&(this.hostElement.addEventListener("touchstart",this.showTouch,{capture:!0,passive:!0}),this.hostElement.addEventListener("touchend",this.showTouch,{capture:!0,passive:!0}));const s=e=>{if(e.ctrlKey&&"contextmenu"===e.shortcut)if(S.q.isEmbedded)this.show(0,-10);else{const e=this.hostElement.getBoundingClientRect();this.show(e.left,e.top)}};this.disposeKeydown=()=>{e.loop.removeEventListener(ht.EVENT_KEYBOARD_RELEASE,s),this.disposeKeydown=null},e.loop.addEventListener(ht.EVENT_KEYBOARD_RELEASE,s)}copyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}dispose(){var e,t,i;this.menu&&(this.hide(),null===(t=null===(e=this.menu)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.menu),this.menu=null,this.hostElement.removeEventListener("contextmenu",this.showClick),S.q.isMobileDevice&&(this.hostElement.removeEventListener("touchstart",this.showTouch,{capture:!0}),this.hostElement.removeEventListener("touchend",this.showTouch,{capture:!0})),null===(i=this.disposeKeydown)||void 0===i||i.call(this))}},te(t,"ContextMenu"),X(null,e={value:t},i,{kind:"class",name:t.name},null,s),t=e.value,ee(t,s),t})();var re=i(1027),ne=i(8136),ae=i(187),se=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},le=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},oe=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},de=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},ue=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let ce=(()=>{var e;let t,i,r=[a.VP],s=[];var l=i=class extends ae.p{constructor(){super(...arguments),this.configKey="internals/addonButtons",this.ID="AddonButtonCentral",this.buttonContainer=null,this.secondaryButtonContainer=null,this.addonList=[],this.setupDone=!1,this.onKeyRelease=e=>{var t,i,r,n,a;e.shiftKey||e.ctrlKey||"contextmenu"!==e.shortcut||(null===(i=null===(t=this.bottomSheet)||void 0===t?void 0:t.activeScreen)||void 0===i?void 0:i.addon)===this&&(null===(n=null===(r=this.bottomSheet)||void 0===r?void 0:r.activeScreen)||void 0===n?void 0:n.screenId)===l.OverviewScreen||null===(a=this.bottomSheet)||void 0===a||a.reveal(this,l.OverviewScreen,!0)},e.set(this,null)}listAddonButtons(){return[]}getFocusButton(e){return void 0===e&&(e=null),(0,T.n3)(this.player.viewCtrl.btnMore)?this.player.viewCtrl.btnMore:super.getFocusButton(e)}registerAddon(e){this.addonList.push(e),this.setupDone&&(this.addonList.sort(((e,t)=>e.buttonOrder-t.buttonOrder)),e.renderButtons(),e.renderSecondaryButtons(),this.updateButtonList())}register(){return!!super.register()&&(this.registerPlayerEvent(ht.EVENT_KEYBOARD_RELEASE,this.onKeyRelease),!0)}eventSetupView(e){super.eventSetupView(e),this.buttonContainer=e.container,this.secondaryButtonContainer=e.secondaryContainer,this.addonList.sort(((e,t)=>e.buttonOrder-t.buttonOrder)),this.addonList.forEach((e=>{e.renderButtons()})),this.addonList.forEach((e=>{e.renderSecondaryButtons()})),this.setupDone=!0,this.updateButtonList(),this.updateSecondaryButtonList(),this.registerPlayerEvent(ht.VIEWPORT_RESIZE,this.updateHeaderSize)}renderToDisplayList(t,i){t.title="",oe(this,e,ne.mf.createUpdatingVerticalContainer(t),"f"),this.renderListToContainer(de(this,e,"f"))}onScreenClosed(t){super.onScreenClosed(t),oe(this,e,null,"f")}renderListToContainer(e){this.addonList.forEach((t=>{t.buttons.forEach((t=>{var i,r,n;const a=ne.mf.renderButton(e,null!==(r=null!==(i=t.button.dataset.displayTitle)&&void 0!==i?i:t.button.title)&&void 0!==r?r:"",(()=>{const e=t.button.tabIndex;t.button.tabIndex=-2,t.button.click(),t.button.tabIndex=e}),null!==(n=t.classList.find((e=>e.startsWith("ardplayer-icon-"))))&&void 0!==n?n:"",!1,!1,"ardplayer-icon-arrowright");ne.mf.copyAria(a,t.button)}))}))}updateButtonList(){if(this.setupDone&&null!==this.buttonContainer){(0,n.cS)(this.buttonContainer);const t=[];this.addonList.forEach((e=>{e.buttons.forEach((e=>{var i;null===(i=this.buttonContainer)||void 0===i||i.appendChild(e.button),void 0!==e.heroPriority&&t.push(e)}))})),this.player.viewCtrl.singleMenuButtonIsHero&&this.buttonContainer.childElementCount<=1?this.player.viewCtrl.setMenuState(this.buttonContainer.querySelector("button"),!1):t.length>0?(t.sort(((e,t)=>{var i,r;return(null!==(i=t.heroPriority)&&void 0!==i?i:0)-(null!==(r=e.heroPriority)&&void 0!==r?r:0)})),this.player.viewCtrl.setMenuState(t[0].button,this.buttonContainer.childElementCount>1)):this.player.viewCtrl.setMenuState(null,this.buttonContainer.childElementCount>0),null!==de(this,e,"f")&&de(this,e,"f").replaceContent((e=>{this.renderListToContainer(e)}))}}updateSecondaryButtonList(){var e;if(this.setupDone&&null!==this.secondaryButtonContainer){(0,n.cS)(this.secondaryButtonContainer);const t=[];this.addonList.forEach((e=>t.push(...e.secondaryButtons))),t.sort(((e,t)=>{var i,r;return(null!==(i=e.positionPriority)&&void 0!==i?i:0)-(null!==(r=t.positionPriority)&&void 0!==r?r:0)})),null===(e=this.secondaryButtonContainer)||void 0===e||e.append(...t.map((e=>e.button))),this.updateHeaderSize()}}updateHeaderSize(){if(this.secondaryButtonContainer){const e=window.getComputedStyle(this.secondaryButtonContainer),t=this.secondaryButtonContainer.offsetWidth+parseInt(e.marginLeft,10)+parseInt(e.marginRight,10);this.player.getTarget().style.setProperty("--headline-right-margin",t+"px")}}dispose(){super.dispose(),this.buttonContainer=null,this.secondaryButtonContainer=null,oe(this,e,null,"f"),this.addonList=[]}isSupported(){return!0}};return e=new WeakMap,ue(i,"ButtonCentralSheetAddon"),se(null,t={value:i},r,{kind:"class",name:i.name},null,s),l=i=t.value,i.OverviewScreen="overview",le(i,s),l=i})();var he=i(9765),pe=i(6154),ve=i(4169),me=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},fe=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},ye=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},ge=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},be=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Ee=(()=>{var e,t,i,s,l,o,d,u,c,h,p,v;let m,f,y=[a.VP],b=[];var w=f=class extends he.s{static supportsViewForConfigOf(e){return!1}get isSticky(){return this._isSticky}constructor(r,a){var m;super(),m=this,this.player=r,this.listenerDisposers=[],this.lastFocusElement=null,this.isOut=!0,this._lastDuration=0,this._dvrEnabled=!1,this._dvrIsLive=!0,this._dvrWindow=0,this._dvrEnabledAndRequested=!1,e.set(this,-1),t.set(this,-1),i.set(this,-1),s.set(this,-1),l.set(this,-1),o.set(this,-1),this.controlsVisible=!1,d.set(this,new Set),u.set(this,new Set),c.set(this,new Set),this._isSticky=!1,this.addonButtonsVisible=!0,this.settingsVisible=!1,this.posterFrameVisible=!1,this.volumeLevel=100,this.isMobile=S.q.isMobileDevice,h.set(this,!1),this.volumePixelDelayTimeout=-1,this.fadeOutTimeout=-1,this.volumeIsOut=!0,this.controlBarIsDragging=!1,this.controlBarMouseOver=!1,this.volumeIsDragging=!1,this.controlsHovered=!1,this.mediaQueries=[],this.volumeThumbSlider=[],this.mediaCanvas=null,this.controlBarHoverListeners=new Set,this.controlBarThumb=null,this.volumeBtn=[],this.volumeThumbInput=[],this.volumeThumb=[],this.volumeContainer=[],this.ID="ViewController",p.set(this,-1),this.programmaticSeekDone=()=>{ye(this,p,"f")>=0&&(window.clearTimeout(ye(this,p,"f")),this.player.withExecutionContext({type:"synthetic",initiator:"programmatic-seek"},(()=>{ge(this,p,-1,"f"),this.controlBarHoverListeners.forEach((e=>{var t;return null===(t=e.handleControlbarLeave)||void 0===t?void 0:t.call(e,!0)})),this.setOutDelayed(),this.controlbarSeek(this.controlBarThumbSlider.get(!0)),this.playerView.classList.remove("ardplayer-show-controlbar-thumb-hover"),this.controlBarIsDragging=!1,this.controlBarMouseOver=!1})))},this.handleMouseMove=()=>{this.setOver()},this.handleMouseLeave=()=>{this.setOut()},this.setOver=()=>{this.forcedControlsHidden?this.log("showControls() prevented by setForceUIHidden"):(this.isOut=!1,this.posterFrameVisible||this.showControls())},v.set(this,""),this.setOut=function(e){var t,i,r,n;if(void 0===e&&(e=!1),m.forcedOver&&!m.forcedControlsHidden)return m.log("setOut preempted: forcedOver"),void ge(m,v,"","f");if(m.isOut=!0,!m.forcedControlsHidden&&(!e&&!(null===(i=null===(t=m.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.isPlaying())||m.controlBarIsDragging||m.controlBarMouseOver&&!S.q.isEmbedded||m.volumeIsDragging||m.controlsHovered||m.settingsVisible||!m.controlsVisible||m.forcedControlsVisible)){m.setOutDelayed();const t=[e||(null===(n=null===(r=m.player)||void 0===r?void 0:r.getCtrl())||void 0===n?void 0:n.isPlaying())?"":"playing ",m.controlBarIsDragging?"ctrlBarDragging ":"",m.controlBarMouseOver?"ctrlBarMouseOver ":"",m.volumeIsDragging?"volumeDragging ":"",m.controlsHovered?"controlsHover ":"",m.settingsVisible?"settingsVisible ":"",m.controlsVisible?"":"controlsVisible ",m.forcedControlsVisible?"forcedControlsVisible ("+[...ye(m,d,"f")].join(", ")+") ":""].join("");ye(m,v,"f")!==t&&(ge(m,v,t,"f"),m.log("setOut prevented - ",t))}else m.log("setOut! forcedHidden clients: "+[...ye(m,u,"f")].join(", ")),ge(m,v,"","f"),m.controlsVisible=!1,m.playerView.classList.remove("ardplayer-show-controls"),m.player.loop.dispatchEvent(ht.EVENT_CTRLBAR_FADEOUT,{})},this.handlePlayPauseBtn=e=>{var t,i;const r=null===(t=this.player)||void 0===t?void 0:t.getCtrl();this.player&&null!=r?r.isPlaying()?((e instanceof MouseEvent||"undefined"!=typeof TouchEvent&&e instanceof TouchEvent)&&this.player.pixelController.triggerPixel(E.J.IA_MOUSE_PAUSE_BUTTON),this.player.pixelController.triggerPixel(E.J.SUPER_PAUSE),r.pause(),this.showAnimation("pause"),this.showPlayBtn()):((e instanceof MouseEvent||"undefined"!=typeof TouchEvent&&e instanceof TouchEvent)&&this.player.pixelController.triggerPixel(E.J.IA_MOUSE_PLAY_BUTTON),this.player.pixelController.triggerPixel(E.J.SUPER_PLAY),r.play(),this.showAnimation("play"),this.showPauseBtn()):null===(i=this.player)||void 0===i||i.playInternal()},this.handleReplayBtn=()=>{var e,t,i;null===(e=this.player)||void 0===e||e.pixelController.triggerPixel(E.J.IA_MOUSE_PLAY_AGAIN_BUTTON),this.hidePlayAgain(),null===(i=null===(t=this.player)||void 0===t?void 0:t.getCtrl())||void 0===i||i.restartMedia()},this.handleStatus=e=>{switch(e.status){case"play":this.hidePlayAgain(),this.showPauseBtn(),this.setOver();break;case"pause":this.showPlayBtn(),this.setOver()}},this.handlePosterFrame=e=>{e.stopImmediatePropagation(),e.preventDefault(),this.player&&(this.player.loop.dispatchEvent(ht.POSTER_FRAME_PRESSED,{}),this.handleInitialPlay(),e instanceof KeyboardEvent?this.player.pixelController.triggerPixel(E.J.IA_KEY_PLAY):this.player.pixelController.triggerPixel(E.J.IA_MOUSE_PLAY_VIEWPORT),this.player.pixelController.triggerPixel(E.J.SUPER_PLAY),this.player.playInternal())},this.handleControlBarEnter=e=>{this.isOut&&this.setOver(),this.controlBarMouseOver=!0,this.playerView.classList.add("ardplayer-show-controlbar-hover"),this.updateControlBarLabel(e)},this.handleControlBarMove=e=>{this.controlBarMouseOver=!0,this.updateControlBarLabel(e)},this.handleControlBarLeave=e=>{this.controlBarMouseOver=!1,this.playerView.classList.remove("ardplayer-show-controlbar-hover"),this.updateControlBarLabel(e),this.controlBarHoverListeners.forEach((e=>{var t;return null===(t=e.handleControlbarLeave)||void 0===t?void 0:t.call(e,!1)})),this.isMobile&&this.setOutDelayed()},this.handleControlBarClick=e=>{this.controlBarMouseOver=!1,this.updateControlBarLabel(e),this.controlBarHoverListeners.forEach((e=>{var t;return null===(t=e.handleControlbarLeave)||void 0===t?void 0:t.call(e,!1)})),this.isMobile&&this.setOutDelayed()},this.handleVolumeEnter=()=>{this.settingsVisible||(this.volumeIsOut=!1,this.playerView.classList.add("ardplayer-volume-open"))},this.handleVolumeLeave=()=>{this.volumeIsOut=!0,this.volumeIsDragging||this.playerView.classList.remove("ardplayer-volume-open")},this.handleVolumeClick=()=>{this.volumeBtn.length>0&&this.volumeBtn[0].classList.contains("ardplayer-icon-volume-mute")?this.setVolumeLevel(0===this.volumeLevel?100:this.volumeLevel,!0,!1):this.setVolumeLevel(this.volumeLevel,!0,!0)},this.handleResize=()=>{var e;this.applyMediaQueries(),(null===(e=this.player)||void 0===e?void 0:e.model)&&this.updateTimeline(this.player.model.time,this.player.model.duration)},this.focusHandler=e=>{if(this.hotfixActiveElement(e),this.isWithinPlayer(document.activeElement)){if(document.activeElement===this.playerView)return void(this.posterFrameVisible?this.lastFocusElement=this.btnPlayPausePosterframe:this.lastFocusElement=null);this.lastFocusElement=document.activeElement,clearTimeout(ye(this,t,"f")),ge(this,t,this.player.safeTimeout((()=>{this.setOver()})),"f"),this.keyboardCtrl.attach()}},this.blurHandler=e=>{this.hotfixActiveElement(e),this.isWithinPlayer(this.lastFocusElement)||(this.lastFocusElement=null,this.setOutDelayed(),this.keyboardCtrl.detach())},this.playerView=this.player.getTarget();const f=this.playerView,y=[];if(f.classList.forEach((e=>{e.startsWith("ardplayer")&&y.push(e)})),this.log("removing state classes",y),f.classList.remove(...y),y.includes("ardplayer-state-audio-sticky")&&document.documentElement.classList.remove("ardplayer-sticky-visible"),f.innerHTML=a,f.classList.add("ardplayer","ardplayer-init"),f.dataset.inititatorName="player-container",f.tabIndex=-2,this.player.model.mediaCollection.isLive&&(f.classList.add("ardplayer-state-live"),this.player.model.mediaCollection.isDvrEnabled||f.classList.add("ardplayer-state-live-nodvr")),S.q.isEmbedded&&f.classList.add("ardplayer-state-embedded"),S.q.isAndroidTV&&f.classList.add("ardplayer-android-tv"),S.q.isFrame&&f.classList.add("ardplayer-framed"),S.q.isOldWebkit&&f.classList.add("ardplayer-old-webkit"),this.isMobile)f.classList.add("ardplayer-state-mobile");else try{const e=document.createElement("video");e.volume=.42,.42!==e.volume&&f.classList.add("ardplayer-state-mobile")}catch(e){f.classList.add("ardplayer-state-mobile")}const g=this.playerView.querySelector(".ardplayer-viewport"),b=f.querySelector(".ardplayer-addons-container-big"),w=f.querySelector(".ardplayer-posterbackdrop"),C=f.querySelector(".ardplayer-controlbar"),T=f.querySelector(".ardplayer-controlbar-buffer"),A=f.querySelector(".ardplayer-controlbar-seek-indicator"),k=f.querySelector(".ardplayer-controlbar-thumb-input"),_=f.querySelector(".ardplayer-controlbar-hover"),I=f.querySelector(".ardplayer-time-playhead"),P=f.querySelector(".ardplayer-time-remaining"),L=f.querySelector(".ardplayer-button-volume button"),M=f.querySelector(".ardplayer-volume-fader-input"),O=f.querySelector(".ardplayer-button-volume"),D=f.querySelector(".ardplayer-button-settings-small"),V=f.querySelector(".ardplayer-button-jumpforward"),N=f.querySelector(".ardplayer-button-jumpbackward"),R=f.querySelector(".ardplayer-cast-label");if(null==g||null==b||null==w||null==C||null==T||null==A||null==k||null==_||null==I||null==P||null==L||null==M||null==O||null==D||null==V||null==N||null==R)throw new Error("could not get dom references");this.viewport=g,this.addonButtons=b,this.posterBackdropView=w,this.controlBar=C,this.bufferedBar=T,this.seekIndicatorBar=A,this.controlBarThumbInput=k,this.controlBarLabel=_,this.timePlayheadLabel=I,this.timeRemainingLabel=P,this.btnMore=D,this.btnSeekForward=V,this.btnSeekBackward=N,this.castLabel=R,this.volumeBtn.push(L),this.volumeThumbInput.push(M),this.volumeContainer.push(O),this.bottomSheetAriaModals=Array.from(f.querySelectorAll(".ardplayer-header, .ardplayer-center, .ardplayer-footer")),this.addonButtonsAriaModals=Array.from(f.querySelectorAll(".ardplayer-footer .ardplayer-buttons-main")),this.btnPlayPause=Array.from(f.querySelectorAll(".ardplayer-button-playpause")),this.btnReplay=Array.from(f.querySelectorAll(".ardplayer-button-replay")),this.btnJumpToLive=Array.from(f.querySelectorAll(".ardplayer-button-jumptolive")),this.btnPlayPausePosterframe=f.querySelector(".ardplayer-button-posterframe"),this.contextMenu=this.setupContextMenu(),this.setupTitleWidget(),this.bottomSheet=ve.K.getImpl(this.player,this.playerView,(()=>{this.settingsVisible=!0,this.updateAccessibleVisibility()}),(()=>{this.settingsVisible=!1,this.updateAccessibleVisibility(),this.setOver()})),this.btnPlayPause.forEach((e=>{this.onClick(e,this.handlePlayPauseBtn)})),this.btnReplay.forEach((e=>{this.onClick(e,this.handleReplayBtn)})),this.onClick(this.btnPlayPausePosterframe,this.handlePosterFrame),this.onClick(this.btnMore,(()=>{var e;null===(e=this.bottomSheet)||void 0===e||e.reveal(this.player.addons.find((e=>e instanceof ce)),ce.OverviewScreen)})),this.onClick(this.btnSeekBackward,(()=>{this.player.seekToInternal(Math.max(this.player.model.time-10,0)),this.showAnimation("ssekback"),this.setOutDelayed()})),this.onClick(this.btnSeekForward,(()=>{this.player.seekToInternal(Math.min(this.player.model.time+10,this.player.model.duration)),this.showAnimation("seekfwd"),this.setOutDelayed()})),this.btnJumpToLive.forEach((e=>{this.onClick(e,(()=>{var e;!this._dvrIsLive&&this._dvrEnabledAndRequested&&(this.player.pixelController.triggerPixel(E.J.SUPER_BACK_TO_LIVE),this.player.seekToLiveInternal(),this.player.isPlaying||null===(e=this.player.getCtrl())||void 0===e||e.play())}))})),this.player.loop.addEventListener(ht.EVENT_STATUS_CHANGE,this.handleStatus),this.player.loop.addEventListener(ht.REMOTE_PLAYBACK_CHANGED,(e=>{this.playerView.classList.toggle("ardplayer-state-casting",e.isRemote),this.castLabel.classList.toggle("ardplayer-hidden",!e.isRemote),e.isRemote?(0,n.fp)(e.device.displayName)?this.castLabel.innerHTML="Wiedergabe mit <b>"+("airplay"===e.device.kind?"AirPlay":"Chromecast")+"</b>":this.castLabel.innerHTML="Wiedergabe auf <b>"+e.device.displayName+"</b>":this.castLabel.innerHTML=""})),this.createPosterFrame(),this.controlBarThumbSlider=this.createControlBar(),this.updateTime(this.player.model.time),this.assetItemId=this.player.getId()+"-assetItem",this.observeTabIndex(),this.keyboardCtrl=new x(this)}continueConstructingAfterDOMComplete(){var e;this.setupAccessibility(),"function"==typeof ResizeObserver?this.resizeObserver=new ResizeObserver((()=>{this.handleResize()})):window.addEventListener("resize",this.handleResize),this.isMobile?(this.addEventListener(this.controlBar,"touchstart",this.handleControlBarEnter,{passive:!0}),this.addEventListener(this.controlBar,"touchmove",this.handleControlBarMove,{passive:!0}),this.addEventListener(this.controlBar,"touchend",this.handleControlBarLeave),this.addEventListener(this.controlBar,"touchcancel",this.handleControlBarLeave),this.addEventListener(this.controlBar,"touchend",this.handleControlBarClick),this.addEventListener(this.controlBar,"touchcancel",this.handleControlBarClick)):(this.addEventListener(this.playerView,"mousemove",this.handleMouseMove),this.addEventListener(this.playerView,"mouseleave",this.handleMouseLeave),this.addEventListener(this.controlBar,"mouseenter",this.handleControlBarEnter),this.addEventListener(this.controlBar,"mousemove",this.handleControlBarMove),this.addEventListener(this.controlBar,"mouseleave",this.handleControlBarLeave),this.addEventListener(this.controlBar,"click",this.handleControlBarClick),S.q.isEmbedded||null===(e=this.playerView.querySelectorAll(".ardplayer-footer, .ardplayer-center, .ardplayer-title-container"))||void 0===e||e.forEach((e=>{e&&(this.addEventListener(e,"mouseenter",(()=>{this.controlsHovered=!0})),this.addEventListener(e,"mouseleave",(()=>{this.controlsHovered=!1})))}))),this.volumeThumbInput.forEach((e=>this.volumeThumbSlider.push(this.createVolumeSlider(e)))),this.volumeBtn.forEach((e=>{this.addEventListener(e,"mouseenter",this.handleVolumeEnter)})),this.volumeContainer.forEach((e=>{this.addEventListener(e,"mouseleave",this.handleVolumeLeave)})),this.volumeBtn.forEach((e=>{this.onClick(e,this.handleVolumeClick)})),this.registerMediaQuery(this.playerView,this.playerBreakpoints),requestAnimationFrame((()=>{this.playerView.classList.remove("ardplayer-init")})),this.player.safeTimeoutWithContext({type:"lifecycle",initiator:"base-dom-complete"},(()=>{this.player&&(this.player.loop.dispatchEvent(ht.SETUP_VIEW,{controller:this,viewport:this.playerView.querySelector(".ardplayer-viewport-addon-overlays"),container:this.playerView.querySelector(".ardplayer-footer .ardplayer-addons-container"),secondaryContainer:this.playerView.querySelector(".ardplayer-header .ardplayer-addons-container")}),this.finishSetupAfterAddonsLoaded(),this.player.loop.dispatchEvent(ht.SETUP_VIEW_COMPLETE,{controller:this}),this.updateAccessibleVisibility(),S.q.isEmbedded&&this.focusPlayButton())}))}get playerBreakpoints(){return[{max:413,styles:["ardplayer-xs"]},{max:474,styles:["ardplayer-s"]},{max:850,styles:["ardplayer-m"]},{min:1441,styles:["ardplayer-xl"]}]}toggleUIElementHidden(e,t){switch(e){case"BackButton":this.toggleTitleWidgetHidden(t);break;case"FullscreenButton":this.playerView.classList.toggle("ardplayer-no-fullscreen",t)}}get isPiP(){return ye(this,h,"f")}setIsPiP(e){ge(this,h,e,"f"),S.q.isEmbedded?(this.playerView.classList.toggle("ardplayer-state-native-pip",e),e||(this.controlsVisible?this.player.loop.dispatchEvent(ht.EVENT_CTRLBAR_FADEIN,{}):this.setOver())):(this.playerView.classList.toggle("ardplayer-state-pip",e),this.toggleForceControlsVisible(this.ID,e),e||this.setOutDelayed())}get isFullscreen(){return!1}writeToParcel(e){super.writeToParcel(e),this.bottomSheet.writeToParcel(e)}restoreFromParcel(e){super.restoreFromParcel(e),this.player.safeTimeout((()=>{var t;null===(t=this.bottomSheet)||void 0===t||t.restoreFromParcel(e)}))}parcelData(){return null}restoreParceledData(e){}addEventListener(e,t,i,r){this.listenerDisposers.push((0,n.Vl)(e,t,i,this.player,r))}onClick(e,t,i){void 0===i&&(i=!0),this.listenerDisposers.push((0,n.nx)(e,t,this.player,i))}setupContextMenu(){var e,t;const i=[],r=H.I.core;if(i.push({name:r.package,version:r.version,revision:r.rev}),i.push({name:"build "+(null!==(e=r.build)&&void 0!==e?e:""),inactive:!0}),i.push({}),H.I.plugin.forEach((e=>{i.push({name:e.package.substr(10),version:e.version,revision:e.rev})})),i.push({}),H.I.addon.forEach((e=>{i.push({name:e.package.substr(10),version:e.version,revision:e.rev,disabled:!this.player.addons.some((t=>t.constructor.name===e.Clazz.name))})})),H.I.libs.length>0&&(i.push({}),H.I.libs.forEach((e=>{i.push({name:e.package,version:e.version,inactive:!0})}))),S.q.isEmbedded){const e=null===(t=this.player.model.playerConfig.platformConfig)||void 0===t?void 0:t.versionInfo;(0,n.SL)(e)&&(i.push({}),e.split("|").forEach((e=>{const[t,r]=e.split(":",2);(0,n.SL)(t)&&i.push({name:t,version:null!=r?r:"",inactive:!0})})))}return new ie(this.player,this.playerView,i)}setupTitleWidget(){var e,t,i,r;const n=null!==(t=null===(e=this.player.model.mediaCollection.meta.embed)||void 0===e?void 0:e.enabled)&&void 0!==t&&t;n||null!==(i=this.player.model.playerConfig.web.enableBackButton)&&void 0!==i&&i?this.renderTitleWidget(!n):null===(r=this.playerView.querySelector(".ardplayer-title-widget"))||void 0===r||r.remove()}renderTitleWidget(e){var t,i,a,s,l,o,d,u,c,h,p,v,m,f;const y=this.player.model.mediaCollection.meta,g=y.embed;try{if(this.playerView.classList.add(e?"ardplayer-showback":"ardplayer-embedded"),!0===this.player.model.playerConfig.web.allowBackButtonInFullscreen&&this.playerView.classList.add("ardplayer-showback-fullscreen"),e&&!0===this.player.model.playerConfig.web.disableBackButtonTitle)null===(t=this.playerView.querySelector(".ardplayer-title-widget-text"))||void 0===t||t.remove();else{const e=this.playerView.querySelector(".ardplayer-title-widget-main");e&&(e.innerText=null!==(a=null!==(i=null==g?void 0:g.title)&&void 0!==i?i:y.title)&&void 0!==a?a:"");let t=null!==(s=y.subHeading)&&void 0!==s?s:"";(0,n.fp)(y.seriesTitle)||(t=null!==(l=y.seriesTitle)&&void 0!==l?l:t,(0,n.fp)(null===(o=y.publicationService)||void 0===o?void 0:o.name)||(t+=" | "+(null!==(u=null===(d=y.publicationService)||void 0===d?void 0:d.name)&&void 0!==u?u:"")));const r=this.playerView.querySelector(".ardplayer-title-widget-byline");r&&(r.innerText=t);const h=this.playerView.querySelector(".ardplayer-title-widget-link span");h&&(h.innerText=null!==(c=null==g?void 0:g.linkText)&&void 0!==c?c:"Zur Mediathek")}if(e){const e=e=>{e.preventDefault(),e.stopPropagation(),this.player.loop.dispatchEvent(ht.BACK_BUTTON_PRESSED,{})};this.onClick(this.playerView.querySelector(".ardplayer-title-widget"),e);const t=this.playerView.querySelector(".ardplayer-title-widget .ardplayer-icon-arrowleft");this.onClick(t,e),!0===this.player.model.playerConfig.web.showBackButtonAsClose?(null==t||t.classList.remove("ardplayer-icon-arrowleft"),null==t||t.classList.add("ardplayer-icon-close"),this.evalAccessibility(t,"title-close")):this.evalAccessibility(t,"title-back")}else{if(""!==(null!==(h=null==g?void 0:g.link)&&void 0!==h?h:"")){const e=this.playerView.querySelector(".ardplayer-title-widget");null==e||e.setAttribute("href",null!==(p=null==g?void 0:g.link)&&void 0!==p?p:"#"),null==e||e.setAttribute("target","_blank"),this.evalAccessibility(e,"title-deeplink",{title:null!==(v=null==g?void 0:g.linkText)&&void 0!==v?v:"Zur Mediathek"}),this.onClick(e,(()=>{this.player.loop.dispatchEvent(ht.EMBED_BUTTON_PRESSED,{})}))}const e=this.playerView.querySelector(".ardplayer-title-widget-img");e&&(e.className="ardplayer-title-widget-img ardplayer-publisher-"+(null!==(f=null===(m=y.publicationService)||void 0===m?void 0:m.id)&&void 0!==f?f:"default"))}}catch(e){r.iV.error("EmbedSetup Error: ",e)}}setupAccessibility(){this.viewport.setAttribute("id",this.assetItemId),this.btnPlayPause.forEach((e=>{this.evalAccessibility(e,2===this.player.model.playstate?"pause":"play")})),this.btnReplay.forEach((e=>{this.evalAccessibility(e,"replay")})),this.btnJumpToLive.forEach((e=>{this.evalAccessibility(e,"jump-to-live")})),this.volumeBtn.forEach((e=>{this.evalAccessibility(e,"volume")})),this.evalAccessibility(this.btnSeekForward,"seekforward"),this.evalAccessibility(this.btnSeekBackward,"seekbackward"),this.evalAccessibility(this.btnPlayPausePosterframe,"posterplay"),this.evalAccessibility(this.btnMore,"metasettings",{pressed:this.settingsVisible}),this.evalAccessibility(this.controlBarThumb,"progressbar-thumb",{duration:0,position:0,positionlabel:"",assetType:this.player.isAudio?"Audio":"Video"})}updateAccessibleVisibility(){this.evalAccessibility(this.btnMore,"metasettings",{pressed:this.settingsVisible});const e=this.isModalViewShown;this.bottomSheetAriaModals.forEach((t=>{t.setAttribute("aria-hidden",e?"true":"false"),t.querySelectorAll('[tabindex]:not([tabindex="-2"]):not(.noUi-handle)').forEach((t=>{t.tabIndex=e?-1:0}))})),this.playerView.querySelectorAll(".ardplayer-control").forEach((t=>{t.setAttribute("aria-hidden",e?"true":"false"),t.tabIndex>=-1&&(t.tabIndex=e?-1:0),t.querySelectorAll('[tabindex]:not([tabindex="-2"]):not(.noUi-handle)').forEach((t=>{t.tabIndex=e?-1:0}))}));const t=this.isMainButtonBarObscured;this.addonButtonsAriaModals.forEach((e=>{e.setAttribute("aria-hidden",t?"true":"false"),e.querySelectorAll("[tabindex]:not(.noUi-handle)").forEach((e=>{e.tabIndex=t?-1:0}))}));const i=!this.addonButtonsVisible||e;this.addonButtons.setAttribute("aria-hidden",i?"true":"false"),this.addonButtons.querySelectorAll("[tabindex]:not(.noUi-handle)").forEach((e=>{e.tabIndex=i?-1:0}))}evalAccessibility(e,t,i){var a,s,l,o,d,u;if(!(0,n.s$)(e))return void r.iV.warn("attempted a11y update for nullish node");if(S.q.isEmbedded){let i="";switch(e.nodeName){case void 0:break;case"I":i="iconbutton-";break;default:i=e.nodeName.toLowerCase()+"-"}e.setAttribute("id",i+t)}const c=pe.G.Accessibility[t];(0,n.nr)(c,"title")&&!(0,n.nr)(c,"aria-label")&&(c["aria-label"]=c.title),i=Object.assign({title:null!==(s=null===(a=this.player)||void 0===a?void 0:a.model.mediaCollection.meta.title)&&void 0!==s?s:""},null!=i?i:null,{assetitem:this.assetItemId,puid:null!==(o=null===(l=this.player)||void 0===l?void 0:l.getId())&&void 0!==o?o:"",hasKeyboard:!(S.q.isEmbedded||S.q.isMobileDevice)});for(const r in c){let t=null!==(d=c[r])&&void 0!==d?d:"";for(const e of t.matchAll(/{{([a-z]+)(?:\?\?((?:[^|}]+?(?:\\[|}])*)*))?(?:\|([^}]*))?}}/gi)){const r=e[1],a=e[2],s=null!==(u=e[3])&&void 0!==u?u:"";t=t.replace(e[0],(0,n.l$)(i,r)&&("number"==typeof i[r]||"boolean"==typeof i[r]||(0,n.SL)(i[r]))?"boolean"==typeof i[r]&&((0,n.SL)(a)||(0,n.SL)(s))?!0===i[r]?a:s:(0,n.NZ)(a)?i[r]:a.replace(/\\\|/g,"|").replace(/\\}/g,"}").replace(new RegExp(""+r,"g"),i[r]):s)}(0,n.SL)(t)?e.setAttribute(r,t):e.removeAttribute(r)}}dispose(){var e,t,i,r,n,a,s,l,o,d;if(null===(e=this.player)||void 0===e||e.loop.removeEventListener(ht.EVENT_STATUS_CHANGE,this.handleStatus),this.mediaCanvas=null,this.controlBarHoverListeners.clear(),null===(t=this.viewport)||void 0===t||t.remove(),null===(i=this.keyboardCtrl)||void 0===i||i.dispose(),null===(r=this.bottomSheet)||void 0===r||r.dispose(),clearTimeout(this.fadeOutTimeout),window.removeEventListener("resize",this.handleResize),document.removeEventListener("focus",this.focusHandler,!0),document.removeEventListener("blur",this.blurHandler,!0),this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),null===(n=this.controlBarThumbSlider)||void 0===n||n.off(""),this.controlBarThumb=null,this.volumeThumbSlider.forEach((e=>{e.off("")})),this.volumeThumbSlider.splice(0),this.volumeThumb.splice(0),this.playerView){const e=[],t=[];this.mediaQueries.forEach((e=>{e.definitions.forEach((e=>t.push(...e.styles)))})),this.playerView.classList.forEach((i=>{i.startsWith("ardplayer")&&!t.includes(i)&&e.push(i)})),this.log("removing non-responsive state classes",e),this.playerView.classList.remove(...e),null!==(l=null===(s=null===(a=this.player)||void 0===a?void 0:a.errorCtrl)||void 0===s?void 0:s.criticalError)&&void 0!==l&&l||(null===(o=this.resizeObserver)||void 0===o||o.disconnect(),this.resizeObserver=void 0,null===(d=this.contextMenu)||void 0===d||d.dispose(),e.includes("ardplayer-state-audio-sticky")&&document.documentElement.classList.remove("ardplayer-sticky-visible"))}delete this.player,delete this.bottomSheet,delete this.keyboardCtrl}setMediaCanvas(e){this.removeMediaCanvas(),null!=e&&(this.mediaCanvas=e,this.viewport.appendChild(e),this.mediaCanvas.classList.add("ardplayer-mediacanvas"))}removeMediaCanvas(){null!==this.mediaCanvas&&(this.mediaCanvas.remove(),this.mediaCanvas=null)}get posterframeIsTransparent(){var e,t;return!!this.player&&null!==(e=this.player.model.playerConfig.web.disablePosterImage)&&void 0!==e&&e&&(!this.player.isAudio||null!==(t=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==t&&t)}createPosterFrame(){var e;if(!this.player)return;const t=this.player.model;this.posterframeIsTransparent&&this.playerView.classList.add("ardplayer-posterframe-transparent"),this.preparePosterBackdrop(),null!==(e=!t.playerConfig.generic.isAutoplay)&&void 0!==e&&e&&this.showPosterFrame()}registerMediaQuery(e,t,i){var r;this.mediaQueries.push({target:e,definitions:t,measureTarget:i}),null===(r=this.resizeObserver)||void 0===r||r.observe(null!=i?i:e),this.applyMediaQueries()}applyMediaQueries(){var e;null===(e=this.player)||void 0===e||e.safeTimeoutWithContext({type:"synthetic",initiator:"media-query"},(()=>{var e;null===(e=this.player)||void 0===e||e.loop.dispatchEvent(ht.VIEWPORT_RESIZE,{})})),this.mediaQueries.forEach((e=>{var t;const i=e.target,r=(null!==(t=e.measureTarget)&&void 0!==t?t:e.target).offsetWidth,n=[],a=[];e.definitions.forEach((e=>{var t,i,s,l;const o=e.styles,d=isNaN(null!==(t=e.min)&&void 0!==t?t:0)?0:null!==(i=e.min)&&void 0!==i?i:0,u=isNaN(null!==(s=e.max)&&void 0!==s?s:Number.MAX_VALUE)?Number.MAX_VALUE:null!==(l=e.max)&&void 0!==l?l:Number.MAX_VALUE;d<=r&&r<=u?a.push(...o):n.push(...o)})),(n.length>0||a.length>0)&&(i.classList.add("ardplayer-init"),n.length>0&&i.classList.remove(...n),a.length>0&&i.classList.add(...a),requestAnimationFrame((()=>{i.classList.remove("ardplayer-init")}))),i.dataset.size=String(r)}))}focusPlayButton(){this.posterFrameVisible?(0,T.n6)(this.btnPlayPausePosterframe):(this.setOver(),(0,T.n6)(this.btnPlayPause.find((e=>(0,T.n3)(e)))))}focusControlBar(){this.setOver(),this.controlBar.focus({preventScroll:!0}),this.lastFocusElement=this.controlBar}programmaticSeek(e,t){void 0===t&&(t=10),this.controlsVisible||this.setOver(),this.controlBarIsDragging=!0,this.playerView.classList.add("ardplayer-show-controlbar-thumb-hover");const i=this.controlBarThumbSlider.get(!0),r=(e?1:-1)*t/(this.player.model.duration/100),n=Math.max(0,Math.min(i+r,100));this.controlBarThumbSlider.setHandle(0,n,!1),window.clearTimeout(ye(this,p,"f")),ge(this,p,this.player.safeTimeout(this.programmaticSeekDone,1500),"f")}createControlBar(){const e=re.create(this.controlBarThumbInput,{start:0,connect:"lower",behaviour:"snap",orientation:"horizontal",direction:"ltr",keyboardSupport:!1,range:{min:0,max:100}});return e.off("update.__aria"),this.controlBarThumb=this.controlBarThumbInput.querySelector(".noUi-handle.noUi-handle-lower"),this.evalAccessibility(this.controlBarThumbInput,"progressbar",{assetType:this.player.isAudio?"Audio":"Video"}),this.controlBarThumbInput.addEventListener("touchend",(e=>{e.preventDefault()})),e.on("start",(()=>{this.controlsVisible||this.setOver(),this.playerView.classList.add("ardplayer-show-controlbar-thumb-hover"),this.controlBarIsDragging=!0})),e.on("end",(()=>{this.player.withExecutionContext({type:"synthetic",initiator:"controlbar-end"},(()=>{this.playerView.classList.remove("ardplayer-show-controlbar-thumb-hover"),this.controlBarIsDragging=!1,this.setOutDelayed(),this.controlbarSeek(e.get(!0))}))})),e.on("slide",(()=>{this.controlBarIsDragging=!0})),e.on("update",(()=>{this.controlBarIsDragging&&this.player.withExecutionContext({type:"synthetic",initiator:"controlbar-update"},(()=>{this.updateBufferProgress(0),this.handleControlBarMove(null)}))})),e}createVolumeSlider(e){const t=re.create(e,{start:0,connect:"lower",behaviour:"snap",orientation:"horizontal",direction:"ltr",keyboardSupport:!1,range:{min:0,max:100}});t.off("update.__aria");const i=e.querySelector(".noUi-handle.noUi-handle-lower");return i&&(this.volumeThumb.push(i),this.evalAccessibility(i,"volumeslider-thumb",{isMuted:this.player.isMuted,volume:Math.round(this.volumeLevel)})),this.evalAccessibility(e,"volumeslider"),t.on("start",(()=>{this.controlsVisible||this.setOver(),this.volumeIsDragging=!0})),t.on("end",(()=>{this.player.withExecutionContext({type:"synthetic",initiator:"volumebar-end"},(()=>{this.volumeIsDragging=!1,this.volumeIsOut&&this.handleVolumeLeave(),this.setVolumeLevel(t.get(!0),!1)}))})),t.on("slide",(()=>{this.player.withExecutionContext({type:"synthetic",initiator:"volumebar-slide"},(()=>{this.setVolumeLevel(t.get(!0),!1)}))})),t}setVolumeLevel(e,t,i,r,n){var a,s;if(void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),!this.player)return;this.volumeLevel=e;let l=!1,o=!1,d="ardplayer-icon-volume-low";switch(!0){case 0===e:case i:d="ardplayer-icon-volume-mute",l=!g.K.muted(this.player);break;case e>=50:d="ardplayer-icon-volume-high",o=g.K.muted(this.player);break;default:o=g.K.muted(this.player)}this.volumeBtn.forEach((e=>{e.classList.remove("ardplayer-icon-volume-high","ardplayer-icon-volume-low","ardplayer-icon-volume-mute"),e.classList.add(d)})),t&&this.volumeThumbSlider.forEach((t=>{t.setHandle(0,e,!1)})),null===(a=this.player.getCtrl())||void 0===a||a.setVolume(e,n),null===(s=this.player.getCtrl())||void 0===s||s.setMuted(0===e||i,n),this.volumeThumb.forEach((t=>{this.evalAccessibility(t,"volumeslider-thumb",{isMuted:0===e||i,volume:Math.round(e)})})),clearTimeout(this.volumePixelDelayTimeout),r||(this.volumePixelDelayTimeout=this.player.safeTimeoutWithContext(this.player.executionContext,(e=>{this.player&&(this.player.pixelController.triggerCustomPixel(E.J.IA_MOUSE_VOLUME_CHANGE,!0,{volume:e,muted:i}),this.player.pixelController.triggerCustomPixel(E.J.SUPER_VOLUME_CHANGE,!0,{volume:e,muted:i}),l&&(this.player.pixelController.triggerPixel(E.J.IA_MOUSE_VOLUME_MUTE),this.player.pixelController.triggerPixel(E.J.SUPER_VOLUME_MUTE)),o&&(this.player.pixelController.triggerPixel(E.J.IA_MOUSE_VOLUME_UNMUTE),this.player.pixelController.triggerPixel(E.J.SUPER_VOLUME_UNMUTE)))}),500,i?0:e/100))}setVolumeMuted(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),this.setVolumeLevel(this.volumeLevel,!0,e,t,i)}toggleVolumeMuted(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),!this.player)return!1;const i=!g.K.muted(this.player);return this.setVolumeLevel(this.volumeLevel,!0,i,e,t),i}showBufferingIndicator(){var e;(null===(e=this.player.model)||void 0===e?void 0:e.time)>0?-1===ye(this,i,"f")&&ge(this,i,this.player.safeTimeout((()=>{ge(this,i,-1,"f"),this.playerView.classList.add("ardplayer-state-buffering"),this.checkBufferingIndicator()}),150),"f"):(this.playerView.classList.add("ardplayer-state-buffering"),this.checkBufferingIndicator())}checkBufferingIndicator(){var e,t,i,r,n,a;if(window.clearTimeout(ye(this,s,"f")),null===(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.isSeeking())||void 0===t||t)ge(this,l,-1,"f"),ge(this,o,-1,"f");else{if(ye(this,o,"f")>0&&ye(this,l,"f")>0&&1e3*((null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.getCurrentTime())&&void 0!==r?r:0)-ye(this,o,"f"))>.9*(performance.now()-ye(this,l,"f")))return void this.hideBufferingIndicator();ge(this,o,null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.getCurrentTime())&&void 0!==a?a:-1,"f"),ge(this,l,performance.now(),"f")}ge(this,s,this.player.safeTimeout((()=>{this.checkBufferingIndicator()}),600),"f")}hideBufferingIndicator(){window.clearTimeout(ye(this,i,"f")),ge(this,i,-1,"f"),window.clearTimeout(ye(this,s,"f")),ge(this,s,-1,"f"),ge(this,l,-1,"f"),ge(this,o,-1,"f"),this.playerView.classList.remove("ardplayer-state-buffering")}createPosterBackdropDeferred(){let e=null;const t=()=>{null==e||e(),this.createPosterBackdrop()};e=()=>{this.player.loop.removeEventListener(ht.EVENT_INITIAL_FRAME,t);const i=this.listenerDisposers.findIndex((t=>t===e));i>=0&&(this.listenerDisposers[i]=null)},this.player.loop.addEventListener(ht.EVENT_INITIAL_FRAME,t)}createPosterBackdrop(){var e,t,i,r;const n=this.player.isAudio?"audio":"preview";(0,C.rJ)(this.playerView.querySelector(".ardplayer-posterbackdrop>picture"),n,this.player.model);const a=(0,C.g0)([n],this.player.model);a.title=null!==(i=null!==(e=a.title)&&void 0!==e?e:null===(t=this.player)||void 0===t?void 0:t.model.mediaCollection.meta.title)&&void 0!==i?i:"",a.alt=null!==(r=a.alt)&&void 0!==r?r:a.title,this.evalAccessibility(this.playerView.querySelector(".ardplayer-posterbackdrop>picture img"),"posterbackdrop",a)}setPosterImageType(e){var t,i,r,n;(0,C.rJ)(this.playerView.querySelector(".ardplayer-posterframe>picture"),e,this.player.model);const a=(0,C.g0)([e],this.player.model);a.title=null!==(r=null!==(t=a.title)&&void 0!==t?t:null===(i=this.player)||void 0===i?void 0:i.model.mediaCollection.meta.title)&&void 0!==r?r:"",a.alt=null!==(n=a.alt)&&void 0!==n?n:a.title,this.evalAccessibility(this.playerView.querySelector(".ardplayer-posterframe>picture img"),"posterframe",a)}showPosterFrame(){this.posterFrameVisible||(this.shouldRenderPosterframe&&(this.posterframeIsTransparent||this.setPosterImageType(this.POSTER_IMAGE_TYPE_DEFAULT),this.onClick(this.playerView.querySelector(".ardplayer-posterframe"),this.handlePosterFrame),this.playerView.classList.add("ardplayer-show-posterframe")),this.playerView.classList.add("ardplayer-state-inactive"),this.posterFrameVisible=!0,this.updateAccessibleVisibility())}hidePosterFrame(){this.posterFrameVisible&&(this.shouldRenderPosterframe&&this.isWithinPlayer(document.activeElement)&&this.player.safeTimeout((()=>{(0,T.n6)(this.btnPlayPause.find((e=>e.scrollWidth>0||e.scrollHeight>0)))})),this.playerView.classList.remove("ardplayer-state-inactive","ardplayer-show-posterframe"),this.posterFrameVisible=!1,this.updateAccessibleVisibility(),this.setOutDelayed())}showPlayAgain(){this.playerView.classList.add("ardplayer-state-completed")}hidePlayAgain(){this.playerView.classList.remove("ardplayer-state-completed")}showPlayBtn(){this.btnPlayPause.forEach((e=>{e.classList.remove("ardplayer-icon-pause"),e.classList.add("ardplayer-icon-play"),this.evalAccessibility(e,"play")}))}showPauseBtn(){this.btnPlayPause.forEach((e=>{e.classList.add("ardplayer-icon-pause"),e.classList.remove("ardplayer-icon-play"),this.btnPlayPause.forEach((e=>{this.evalAccessibility(e,"pause")}))}))}onDVRCallback(t,i,r){var n;if(!this.player||isNaN(i))return;const a=this._dvrIsLive;this._dvrEnabled=t,this._dvrIsLive=r,this._dvrWindow=i,this._dvrEnabledAndRequested=t&&this.player.model.mediaCollection.isDvrEnabled,this.playerView.classList.toggle("ardplayer-state-live-nodvr",this.player.model.mediaCollection.isLive&&!this._dvrEnabledAndRequested),this._dvrEnabledAndRequested&&(-1!==ye(this,e,"f")&&clearTimeout(ye(this,e,"f")),a!==r&&!r&&(null===(n=this.player.getCtrl())||void 0===n?void 0:n.isPlaying())&&ge(this,e,this.player.safeTimeout((()=>{var t,i,r;ge(this,e,-1,"f"),(null===(i=null===(t=this.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.isSeeking())||null===(r=this.player)||void 0===r||r.pixelController.triggerPixel(E.J.SUPER_DVR_ACTIVE,!1)}),500),"f"))}updateBufferProgress(e){this.bufferedBar.style.width=Math.min(Math.max(e,0),100)+"%"}updateTimeline(e,t){if(!this.controlBarIsDragging){const i=Math.min(Math.max(e/t*100,0),100);this.controlBarThumbSlider.setHandle(0,i,!1)}}updateTime(e){var t,i,r,n,a,s,l,o,d,u,c,h,p,v;e=Math.round(e);let m=null!==(i=null===(t=this.player)||void 0===t?void 0:t.model.duration)&&void 0!==i?i:0;m=Math.round(0!==m&&isFinite(m)?m:null!==(a=null===(n=null===(r=this.player)||void 0===r?void 0:r.model)||void 0===n?void 0:n.mediaCollection.meta.durationSeconds)&&void 0!==a?a:0),null!==(l=!(null===(s=this.player)||void 0===s?void 0:s.isLive))&&void 0!==l&&l&&(this.timePlayheadLabel.textContent=this.formatTimestring(e));const f=m-e;if(null!==(d=null===(o=this.player)||void 0===o?void 0:o.isLive)&&void 0!==d&&d){let e=!1;if(f<(null!==(h=null===(c=null===(u=this.player)||void 0===u?void 0:u.getCtrl())||void 0===c?void 0:c.minDisplayedLiveOffset)&&void 0!==h?h:-1))this.timeRemainingLabel.textContent="00:00",this.evalAccessibility(this.timeRemainingLabel,"time-remaining",{label:"Live-Wiedergabe",timeString:"Kein Zeitversatz"}),e=!0;else{const t=this.formatTimestring(f);e="00:00"===t,this.timeRemainingLabel.textContent=e?t:"-"+t,this.evalAccessibility(this.timeRemainingLabel,"time-remaining",{label:"Live-Wiedergabe Zeitversatz:",timeString:this.formatVerbalTimestring(f)})}this.btnJumpToLive.forEach((t=>{t.classList.toggle("ardplayer-button-disabled",e)}))}else null!==(v=null===(p=this.player)||void 0===p?void 0:p.model.playerConfig.generic.isTimeRemainingDisplay)&&void 0!==v&&v?(this.timeRemainingLabel.textContent="-"+this.formatTimestring(f),this.evalAccessibility(this.timeRemainingLabel,"time-remaining",{label:"Verbleibend:",timeString:this.formatVerbalTimestring(f)})):(this.timeRemainingLabel.textContent=this.formatTimestring(m),this.evalAccessibility(this.timeRemainingLabel,"time-remaining",{label:"Gesamtdauer:",timeString:this.formatVerbalTimestring(m)}));this.timeRemainingLabel.textContent.length>5&&this.timeRemainingLabel.classList.add("ardplayer-time-remaining-long"),this.evalAccessibility(this.timePlayheadLabel,"time-playhead",{label:this.player.isLive?"Live-Wiedergabe":"Wiedergabefortschritt: ",timeString:this.player.isLive?"":this.formatVerbalTimestring(e)}),this.evalAccessibility(this.controlBarThumb,"progressbar-thumb",{duration:m>>0,position:e>>0,positionlabel:this.formatVerbalProgressTimestring(e,m),assetType:this.player.isAudio?"Audio":"Video"})}formatVerbalProgressTimestring(e,t){return this.formatVerbalTimestring(e)+" von "+this.formatVerbalTimestring(t)}formatVerbalTimestring(e){let t=Math.max(e,0);const i=Math.floor(t/3600);t-=3600*i;const r=Math.floor(t/60);return t=Math.floor(t-60*r),(i>0?i+" Stunde"+(i>1?"n":"")+" ":"")+(e>60?r+" Minuten ":"")+t+" Sekunden"}formatTimestring(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=!0),void 0===r&&(r=!1),e=Math.max(e,0);const n=Math.floor(e/3600);e-=3600*n;const a=Math.floor(e/60);e=Math.floor(e-60*a);const s=i?":"+(e<10?"0":"")+e:"",l=(a<10?"0":"")+a;return n>0||t?(r&&n<10?"0":"")+n+":"+l+s:""+l+s}formatPointInTimeString(e,t,i,r){var n,a,s,l,o;if(void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!0),this._dvrEnabledAndRequested){const d=null!==(s=null===(a=null===(n=this.player)||void 0===n?void 0:n.getCtrl())||void 0===a?void 0:a.dvrRelToUnix(e))&&void 0!==s?s:0;if(d>0){const e=new Date(1e3*d),t=e.getHours(),n=e.getMinutes(),a=e.getSeconds();return(t<10?"0":"")+t+":"+(n<10?"0":"")+n+(i?"":":"+(a<10?"0":"")+a)+(r?" Uhr":"")}return"-"+this.formatTimestring((null!==(o=null===(l=this.player)||void 0===l?void 0:l.model.duration)&&void 0!==o?o:0)-e,t,!i,!0)}return this.formatTimestring(e,t,!i,t)}showControls(){var e;this.settingsVisible||(this.controlsVisible||(this.controlsVisible=!0,this.playerView.classList.add("ardplayer-show-controls"),null===(e=this.player)||void 0===e||e.loop.dispatchEvent(ht.EVENT_CTRLBAR_FADEIN,{})),this.setOutDelayed())}toggleForceOver(e,t){t?(ye(this,c,"f").add(e),this.setOver()):(ye(this,c,"f").delete(e),this.setOutDelayed()),this.log("forceOver clients: "+[...ye(this,d,"f")].join(", "))}get forcedOver(){return ye(this,c,"f").size>0}toggleForceControlsVisible(e,t){t?(ye(this,d,"f").add(e),this.setOver()):(ye(this,d,"f").delete(e),this.setOutDelayed()),this.log("forceControlsVisible clients: "+[...ye(this,d,"f")].join(", "))}get forcedControlsVisible(){return ye(this,d,"f").size>0}toggleForceControlsHidden(e,t){t?(ye(this,u,"f").add(e),this.setOut(!0)):(ye(this,u,"f").delete(e),this.setOver()),this.playerView.classList.toggle("ardplayer-force-hide-controls",ye(this,u,"f").size>0),this.log("forceControlsHidden clients: "+[...ye(this,u,"f")].join(", "))}get forcedControlsHidden(){return ye(this,u,"f").size>0}setOutDelayed(){clearTimeout(this.fadeOutTimeout),this.fadeOutTimeout=this.player.safeTimeout(this.setOut,w.UI_AUTOHIDE_DELAY)}updateControlBarLabel(e){var t,i;let r;const a=this.controlBar.offsetWidth;if(this.controlBarIsDragging)r=this.controlBarThumbSlider.get(!0)/100*a;else{if(null===e)return;{const t=(0,n.We)(e,this.controlBar);r=Math.min(Math.max(t.left,0),a)}}const s=r/a,l=(null!==(i=null===(t=this.player)||void 0===t?void 0:t.model.duration)&&void 0!==i?i:0)*s;this.controlBarHoverListeners.forEach((e=>{e.handleControlBarHover(s,l,-1!==ye(this,p,"f"))}));const o=this.controlBarLabel.firstChild;o&&(o.textContent=this.formatPointInTimeString(l)),this.seekIndicatorBar.style.width=100*s+"%";const d=this.controlBarLabel.offsetWidth;if(d>0){const e=Math.max(0,Math.min(a-d,r-d/2));this.controlBarLabel.style.transform="translateX("+e+"px)"}}controlbarSeek(e){var t;const i=null===(t=this.player)||void 0===t?void 0:t.getCtrl();if(!this.player||!i)return;const r=i.getCurrentTime();i.setTimeByPercent(e);const n=i.getCurrentTime(),a=this.player.pixelController;let s=0,l=0;const o=r,d=n,u=this.player.model.mediaCollection.isLive;this._dvrEnabledAndRequested&&(s=Math.min(this._lastDuration-o,this._lastDuration),l=Math.min(this._lastDuration-d,this._lastDuration));const c={seekto:d,current:o,dvrRelativeFrom:s,dvrRelativeTo:l};d>=o?(a.triggerCustomPixel(E.J.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,c),a.triggerCustomPixel(E.J.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,c)):(u?a.triggerCustomPixel(E.J.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT,!1,c):a.triggerCustomPixel(E.J.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND,!1,c),a.triggerCustomPixel(E.J.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,!1,c))}handleInitialPlay(){var e;if(this.hidePosterFrame(),!this.player.isAudio&&(this.setLiveInitialBufferState(),!this.posterframeIsTransparent)){this.posterBackdropView.style.display="block";const e=()=>{var t;null===(t=this.player)||void 0===t||t.loop.removeEventListener(ht.EVENT_INITIAL_FRAME,e),this.posterBackdropView.style.display=""};this.player.loop.addEventListener(ht.EVENT_INITIAL_FRAME,e)}null===(e=this.player)||void 0===e||e.pixelController.triggerTrackingPixelInitialPlay(),this.showPauseBtn()}setLiveInitialBufferState(){if(this.player.isLive&&this.player.model.mediaCollection.isDvrEnabled&&!this.playerView.classList.contains("ardplayer-state-live-initial-buffer")){this.playerView.classList.toggle("ardplayer-state-live-initial-buffer",!0);let e=null;const t=()=>{null==e||e(),this.playerView.classList.toggle("ardplayer-state-live-initial-buffer",!1)};e=()=>{this.player.loop.removeEventListener(ht.EVENT_INITIAL_FRAME,t),this.setOver();const i=this.listenerDisposers.findIndex((t=>t===e));i>=0&&(this.listenerDisposers[i]=null)},this.listenerDisposers.push(e),this.player.loop.addEventListener(ht.EVENT_INITIAL_FRAME,t)}}observeTabIndex(){"function"==typeof document.addEventListener&&(document.addEventListener("focus",this.focusHandler,!0),document.addEventListener("blur",this.blurHandler,!0))}isWithinPlayer(e){let t=e;for(;null!=(null==t?void 0:t.parentNode);){if(t===this.playerView)return!0;t=t.parentNode}return!1}hotfixActiveElement(e){if(void 0!==(null==e?void 0:e.target))try{null==document.activeElement&&(document.activeElement=e.target===document?null:e.target)}catch(e){}}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.iV.log("[VIEWCTRL]",...t)}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,s=new WeakMap,l=new WeakMap,o=new WeakMap,d=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,be(f,"ViewController"),me(null,m={value:f},y,{kind:"class",name:f.name},null,b),w=f=m.value,f.MULTI_CLICK_DELAY=300,f.UI_AUTOHIDE_DELAY=4e3,fe(f,b),w=f})();function Se(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=we.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}var we=/["&<>]/,Ce=function(e){var t="",i=e||{};return function(e,i,r,n){t+='<div class="ardplayer-posterbackdrop">',(!0!==i.web.disablePosterImage||e.isAudioOnly&&!0!==i.web.isForcedVideoView)&&0!==e.meta.images.length&&(t=t+"<picture><img"+Se("alt",r.posterFrame.imgAlt,!0,!0)+"></picture>"),t=t+'</div><div class="ardplayer-viewport" tabindex="-2" data-inititator-name="viewport"></div><div class="ardplayer-cast-label ardplayer-hidden"></div><div class="ardplayer-viewport-addon-overlays"></div><div class="ardplayer-background"></div><div class="ardplayer-title-container"><div class="ardplayer-title-sizer"><a class="ardplayer-title-widget" tabindex="-2" data-inititator-name="title-widget"><div class="ardplayer-title-widget-img" tabindex="0"></div><div class="ardplayer-title-widget-link"><span class="ardplayer-icon ardplayer-icon-arrowright"></span></div><i class="ardplayer-icon ardplayer-icon-arrowleft" tabindex="0" data-vertical-nav-offset="-1" data-vertical-nav-abs-pos="true" data-inititator-name="title-widget-button" aria-label="Zur\xfcck" role="button"></i><div class="ardplayer-title-widget-text"><p class="ardplayer-title-widget-main"></p><p class="ardplayer-title-widget-byline"></p></div></a></div></div><div class="ardplayer-header"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-center"><div class="ardplayer-buttons-main"><button class="ardplayer-button-prevclip ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" title="" tabindex="0" data-inititator-name="button-center-prevclip"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" title="" tabindex="0" data-inititator-name="button-center-skipbackward"></button><button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" title="" tabindex="0" data-inititator-name="button-center-jumpbackward"></button><button class="ardplayer-button-replay ardplayer-button-big ardplayer-icon ardplayer-icon-return" tabindex="0" data-inititator-name="button-center-replay"></button><button class="ardplayer-button-playpause ardplayer-button-big ardplayer-icon ardplayer-icon-play" tabindex="0" data-inititator-name="button-center-playpause"></button><button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" title="" tabindex="0" data-inititator-name="button-center-jumpforward"></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" title="" tabindex="0" data-inititator-name="button-center-skipforward"></button><button class="ardplayer-button-nextclip ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" title="" tabindex="0" data-inititator-name="button-center-nextclip"></button></div></div><div class="ardplayer-audio"><h3 class="ardplayer-audio-subtitle"></h3><h2 class="ardplayer-audio-title"></h2></div><div class="ardplayer-footer"><span class="ardplayer-time-playhead" aria-live="off" aria-atomic="true">00:00</span><span class="ardplayer-time-remaining" aria-live="off" aria-atomic="true">00:00</span><div class="ardplayer-controlbar" tabindex="0" data-vertical-nav-abs-pos="true"><div class="ardplayer-controlbar-hover" aria-live="off" role="tooltip" aria-atomic="true" aria-hidden="true">00:00</div><div class="ardplayer-controlbar-thumb-input"><span class="ardplayer-controlbar-seek-indicator"></span><span class="ardplayer-controlbar-buffer"></span></div></div><div class="ardplayer-buttons-main ardplayer-button-big"><button class="ardplayer-button-replay ardplayer-icon ardplayer-icon-return" tabindex="0" data-inititator-name="button-footer-replay"></button><button class="ardplayer-button-playpause ardplayer-icon ardplayer-icon-play" tabindex="0" data-inititator-name="button-footer-playpause"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" tabindex="0" data-inititator-name="button-footer-skipbackward"></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" tabindex="0" data-inititator-name="button-footer-skipforward"></button><button class="ardplayer-button-jumptolive ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" tabindex="0" data-inititator-name="button-footer-jumptolive"></button><div class="ardplayer-button-volume"><button class="ardplayer-icon ardplayer-icon-volume-low" tabindex="0" data-inititator-name="button-volume"></button><div class="ardplayer-volume-fader"><div class="slider-wrapper"><div class="ardplayer-volume-fader-input"></div></div></div></div></div><div class="ardplayer-addons-container-big ardplayer-button-big"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-button-fullscreen-container ardplayer-button-big" data-vertical-nav-offset="2"><button class="ardplayer-button-settings-small ardplayer-icon ardplayer-icon-addons" tabindex="0" data-inititator-name="button-addons"></button><button class="ardplayer-button-settings-reveal ardplayer-icon ardplayer-icon-more" tabindex="0" data-inititator-name="button-settings-reveal"></button><button class="ardplayer-button-fullscreen ardplayer-icon ardplayer-icon-fullscreen" tabindex="0" data-inititator-name="button-fullscreen"></button></div></div><div class="ardplayer-playstate-zoom ardplayer-icon"></div><div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"><div class="ardplayer-bottom-sheet-background" tabindex="-2" data-inititator-name="bottom-sheet:backdrop"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true"'+Se("aria-labelledby",`ardplayer-bottom-sheet-title-${n}`,!0,!0)+'><div class="ardplayer-bottom-sheet-topbar"><button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1"'+Se("title",r.bottomSheet.backTitle,!0,!0)+' data-inititator-name="bottom-sheet:button-back"></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1"'+Se("id",`ardplayer-bottom-sheet-title-${n}`,!0,!0)+'></h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1"'+Se("title",r.bottomSheet.closeTitle,!0,!0)+' data-inititator-name="bottom-sheet:button-close"></button></div><div class="ardplayer-bottom-sheet-content-wrapper"><div class="ardplayer-bottom-sheet-content"></div></div></div></div>\x3c!-- skip rendering posterframe--\x3e'}.call(this,"MC"in i?i.MC:"undefined"!=typeof MC?MC:void 0,"PC"in i?i.PC:"undefined"!=typeof PC?PC:void 0,"Strings"in i?i.Strings:"undefined"!=typeof Strings?Strings:void 0,"playerID"in i?i.playerID:"undefined"!=typeof playerID?playerID:void 0),t},Te=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},Ae=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},ke=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let _e=(()=>{let e,t,i=[a.VP],r=[];return t=class extends Ee{constructor(e,t){void 0===t&&(t=""),super(e,new J.B(Ce).renderTemplate({playerID:e.getId(),Strings:pe.G.Strings,PC:e.model.playerConfig,MC:e.model.mediaCollection})),this.handleMouseMove=()=>{},this.handleMouseLeave=()=>{},this.setOut=e=>{this.log("setOut skipped - AudioView")};const i=this.playerView;this.controlsVisible=!0,this.addonButtonsVisible=!1,i.classList.add("ardplayer-show-controls","ardplayer-state-audio"),this.player.model.playerConfig.web.isAudioSticky&&this.setSticky(!0);const r=i.querySelector(".ardplayer-button-settings-reveal");r&&this.onClick(r,(()=>{this.addonButtonsVisible=!this.addonButtonsVisible,this.playerView.classList.toggle("ardplayer-reveal-settings",this.addonButtonsVisible),r.classList.toggle("ardplayer-icon-minus",this.addonButtonsVisible),r.classList.toggle("ardplayer-icon-more",!this.addonButtonsVisible),this.evalAccessibility(r,"metasettings",{pressed:this.addonButtonsVisible}),this.updateAccessibleVisibility()})),super.continueConstructingAfterDOMComplete()}dispose(){var e,t;super.dispose(),this.playerView&&(null===(t=null===(e=this.player)||void 0===e?void 0:e.errorCtrl)||void 0===t?void 0:t.criticalError)&&(this.playerView.classList.add("ardplayer-state-audio"),this.isSticky&&this.playerView.classList.add("ardplayer-state-audio-sticky"))}get POSTER_IMAGE_TYPE_DEFAULT(){return"audio"}static supportsViewForConfigOf(e){var t,i;return e.isAudio&&null!==(t=e.model.playerConfig.web.isAudioSticky)&&void 0!==t&&t&&!(null!==(i=e.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i)&&!S.q.isEmbedded}finishSetupAfterAddonsLoaded(){this.setupTitleDeeplink()}toggleTitleWidgetHidden(e){}setupTitleWidget(){this.setupAudioTitle(),super.setupTitleWidget()}setupAudioTitle(){var e,t;const i=this.player.model.mediaCollection.meta,r=i.embed,a=this.playerView.querySelector(".ardplayer-audio-subtitle");a&&(a.innerText=(0,n.fp)(i.seriesTitle)?null!==(e=i.subHeading)&&void 0!==e?e:"":i.seriesTitle);const s=this.playerView.querySelector(".ardplayer-audio-title");s&&(s.innerText=(0,n.fp)(i.title)?null!==(t=null==r?void 0:r.title)&&void 0!==t?t:"":i.title)}setupTitleDeeplink(){const e=e=>{e.stopImmediatePropagation(),this.player.loop.dispatchEvent(ht.TITLE_TEXT_CLICKED,{})},t=this.playerView.querySelector(".ardplayer-audio");t&&(t.tabIndex=-2),(0,n.nx)(t,e,this.player),this.posterBackdropView.tabIndex=-2,(0,n.nx)(this.posterBackdropView,e,this.player)}get isModalViewShown(){return this.settingsVisible}get isMainButtonBarObscured(){return this.addonButtonsVisible||this.isModalViewShown}setSticky(e){return this.player.model.playerConfig.web.isAudioSticky=e,e?!!this.isSticky||!document.documentElement.classList.contains("ardplayer-sticky-visible")&&(this.playerView.classList.add("ardplayer-state-audio-sticky"),document.documentElement.classList.add("ardplayer-sticky-visible"),this._isSticky=!0,this.player.loop.dispatchEvent(ht.STICKY_STATE_CHANGED,{sticky:this.isSticky}),!0):(this.isSticky&&(this.playerView.classList.remove("ardplayer-state-audio-sticky"),document.documentElement.classList.remove("ardplayer-sticky-visible"),this._isSticky=!1,this.player.loop.dispatchEvent(ht.STICKY_STATE_CHANGED,{sticky:this.isSticky})),!0)}setFullscreen(e){this.log("ignored setFullscreen")}toggleFullscreen(e){this.log("ignored toggleFullscreen")}setVideoScale(e){this.log("ignored setVideoScale")}showAnimation(e){}get singleMenuButtonIsHero(){return!0}setMenuState(e,t){var i,r,a,s,l,o;const d=null!==(r=null===(i=this.playerView)||void 0===i?void 0:i.querySelector("[ardplayer-menu-hero]"))&&void 0!==r?r:null;null==d||d.removeAttribute("ardplayer-menu-hero"),this.playerView.classList.toggle("ardplayer-menu-none",!t&&null==e),this.playerView.classList.toggle("ardplayer-menu-collapse",!t&&null!==e),this.playerView.classList.toggle("ardplayer-menu-hero",t&&null!==e);const u=this.playerView.querySelector(".ardplayer-button-settings-reveal");if(u&&(d&&(null===(a=u.parentElement)||void 0===a?void 0:a.contains(d))&&(null===(s=u.parentElement)||void 0===s||s.removeChild(d)),null!==e))if(t){const t=e.cloneNode(!0);null===(l=u.parentElement)||void 0===l||l.insertBefore(t,u),t.setAttribute("ardplayer-menu-hero",""),(0,n.nx)(t,(()=>{const t=e.tabIndex;e.tabIndex=-2,e.click(),e.tabIndex=t}),this.player)}else null===(o=u.parentElement)||void 0===o||o.insertBefore(e,u),e.setAttribute("ardplayer-menu-hero","")}setOutDelayed(){this.log("setOutDelayed skipped - AudioView")}get shouldRenderPosterframe(){return!1}preparePosterBackdrop(){this.createPosterBackdrop(),this.posterBackdropView.style.display="block"}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];super.log("[AUDIOSTICKY]",...t)}},ke(t,"AudioStickyViewController"),Te(null,e={value:t},i,{kind:"class",name:t.name},null,r),t=e.value,Ae(t,r),t})();function Ie(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Pe(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Pe(e){var t=""+e,i=Le.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var Le=/["&<>]/,xe=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,l){if(i+='<div class="ardplayer-posterbackdrop">',(!0!==n.web.disablePosterImage||e.isAudioOnly&&!0!==n.web.isForcedVideoView)&&0!==e.meta.images.length&&(i=i+"<picture><img"+Ie("alt",a.posterFrame.imgAlt,!0,!0)+"></picture>"),i=i+'</div><div class="ardplayer-audio"><h3 class="ardplayer-audio-subtitle"></h3><h2 class="ardplayer-audio-title"></h2></div><div class="ardplayer-buffering"><div class="ardplayer-loader"><div class="ardplayer-loader-inner ardplayer-ball-scale-multiple"><div></div><div></div><div></div></div></div></div><div class="ardplayer-viewport" tabindex="-2" data-inititator-name="viewport"></div><div class="ardplayer-cast-label ardplayer-hidden"></div><div class="ardplayer-viewport-addon-overlays"></div><div class="ardplayer-background"></div><div class="ardplayer-title-container"><div class="ardplayer-title-sizer"><a class="ardplayer-title-widget" tabindex="-2" data-inititator-name="title-widget"><div class="ardplayer-title-widget-img" tabindex="0"></div><div class="ardplayer-title-widget-link"><span class="ardplayer-icon ardplayer-icon-arrowright"></span></div><i class="ardplayer-icon ardplayer-icon-arrowleft" tabindex="0" data-vertical-nav-offset="-1" data-vertical-nav-abs-pos="true" data-inititator-name="title-widget-button" aria-label="Zur\xfcck" role="button"></i><div class="ardplayer-title-widget-text"><p class="ardplayer-title-widget-main"></p><p class="ardplayer-title-widget-byline"></p></div></a></div></div><div class="ardplayer-header"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-center"><div class="ardplayer-buttons-main"><button class="ardplayer-button-replay ardplayer-button-big ardplayer-icon ardplayer-icon-return" tabindex="0" data-inititator-name="button-audioinline-replay"></button><button class="ardplayer-button-playpause ardplayer-button-big ardplayer-icon ardplayer-icon-play" tabindex="0" data-inititator-name="button-audioinline-playpause"></button><button class="ardplayer-button-prevclip ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" tabindex="0" data-inititator-name="button-audioinline-prevclip"></button><button class="ardplayer-button-nextclip ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" tabindex="0" data-inititator-name="button-audioinline-nextclip"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" tabindex="0" data-inititator-name="button-audioinline-skipbackward"></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" tabindex="0" data-inititator-name="button-audioinline-skipforward"></button><button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" tabindex="0" data-inititator-name="button-audioinline-jumpbackward"></button><button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" tabindex="0" data-inititator-name="button-audioinline-jumpforward"></button></div></div><div class="ardplayer-footer"><span class="ardplayer-time-playhead" aria-live="off" aria-atomic="true">00:00</span><span class="ardplayer-time-remaining" aria-live="off" aria-atomic="true">00:00</span><div class="ardplayer-controlbar" tabindex="0" data-vertical-nav-abs-pos="true"><div class="ardplayer-controlbar-hover" aria-live="off" role="tooltip" aria-atomic="true" aria-hidden="true">00:00</div><div class="ardplayer-controlbar-thumb-input"><span class="ardplayer-controlbar-seek-indicator"></span><span class="ardplayer-controlbar-buffer"></span></div></div><div class="ardplayer-buttons-main ardplayer-button-big"><div class="ardplayer-button-volume"><button class="ardplayer-icon ardplayer-icon-volume-low" tabindex="0" data-inititator-name="button-volume"></button><div class="ardplayer-volume-fader"><div class="slider-wrapper"><div class="ardplayer-volume-fader-input"></div></div></div></div></div><div class="ardplayer-addons-container-big ardplayer-button-big"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-button-fullscreen-container ardplayer-button-big" data-vertical-nav-offset="2"><button class="ardplayer-button-settings-small ardplayer-icon ardplayer-icon-addons" tabindex="0" data-inititator-name="button-addons"></button><button class="ardplayer-button-settings-reveal ardplayer-icon ardplayer-icon-more" tabindex="0" data-inititator-name="button-settings-reveal"></button><button class="ardplayer-button-fullscreen ardplayer-icon ardplayer-icon-fullscreen" tabindex="0" data-inititator-name="button-fullscreen"></button></div></div><div class="ardplayer-playstate-zoom ardplayer-icon"></div><div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"><div class="ardplayer-bottom-sheet-background" tabindex="-2" data-inititator-name="bottom-sheet:backdrop"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true"'+Ie("aria-labelledby",`ardplayer-bottom-sheet-title-${l}`,!0,!0)+'><div class="ardplayer-bottom-sheet-topbar"><button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1"'+Ie("title",a.bottomSheet.backTitle,!0,!0)+' data-inititator-name="bottom-sheet:button-back"></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1"'+Ie("id",`ardplayer-bottom-sheet-title-${l}`,!0,!0)+'></h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1"'+Ie("title",a.bottomSheet.closeTitle,!0,!0)+' data-inititator-name="bottom-sheet:button-close"></button></div><div class="ardplayer-bottom-sheet-content-wrapper"><div class="ardplayer-bottom-sheet-content"></div></div></div></div>\x3c!-- only render posterframe dom if needed--\x3e',n.web.isForcedVideoView){if(i+='<div class="ardplayer-posterframe" tabindex="-2" data-inititator-name="posterframe">',!0!==n.web.disablePosterImage&&0!==e.meta.images.length&&(i=i+"<picture><img"+Ie("alt",a.posterFrame.imgAlt,!0,!0)+"></picture>"),!0===n.web.disablePosterTitle||s.isBlank(e.meta.title)||(i=i+'<span class="ardplayer-posterframe-title">'+Pe(null==(t=e.meta.title)?"":t)+"</span>"),!0!==e.meta.hideDuration){const n=e.meta.durationSeconds;s.nullish(n)||n<=0||(i=i+'<span class="ardplayer-posterframe-duration">'+Pe(null==(t=n>=60?r.round(n/60):`${n<10?"00:0":"00:"}${n}`)?"":t)+" Min</span>")}i+='<div class="ardplayer-posterframe-buttons"><button class="ardplayer-button-posterframe ardplayer-button-big ardplayer-button-hero ardplayer-icon ardplayer-icon-play" tabindex="0" data-inititator-name="posterframe-button"></button></div></div>'}}.call(this,"MC"in r?r.MC:"undefined"!=typeof MC?MC:void 0,"Math"in r?r.Math:"undefined"!=typeof Math?Math:void 0,"PC"in r?r.PC:"undefined"!=typeof PC?PC:void 0,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"playerID"in r?r.playerID:"undefined"!=typeof playerID?playerID:void 0),i},Me=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},Oe=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},De=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Ve=(()=>{let e,t,i=[a.VP],r=[];return t=class extends Ee{constructor(e,t){var i,r;void 0===t&&(t=""),super(e,new J.B(xe).renderTemplate({playerID:e.getId(),Strings:pe.G.Strings,PC:e.model.playerConfig,MC:e.model.mediaCollection})),this.handleMouseMove=()=>{},this.handleMouseLeave=()=>{},this.setOut=e=>{this.log("setOut skipped - AudioView")};const n=this.playerView;this.controlsVisible=!0,this.addonButtonsVisible=!1,n.classList.add("ardplayer-show-controls","ardplayer-state-audio","ardplayer-state-audio-inline"),null!==(i=e.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i&&n.classList.add("ardplayer-state-audio-forced-video");const a=n.querySelector(".ardplayer-button-settings-reveal");a&&this.onClick(a,(()=>{this.addonButtonsVisible=!this.addonButtonsVisible,this.playerView.classList.toggle("ardplayer-reveal-settings",this.addonButtonsVisible),a.classList.toggle("ardplayer-icon-minus",this.addonButtonsVisible),a.classList.toggle("ardplayer-icon-more",!this.addonButtonsVisible),this.evalAccessibility(a,"metasettings",{pressed:this.addonButtonsVisible}),this.updateAccessibleVisibility()})),super.continueConstructingAfterDOMComplete(),this.playerView.classList.add("ardplayer-bs-break"),this.registerMediaQuery(this.playerView,[{max:413,styles:["ardplayer-bs-xs"]},{max:474,styles:["ardplayer-bs-s"]},{max:850,styles:["ardplayer-bs-m"]},{min:1441,styles:["ardplayer-bs-xl"]}],null!==(r=this.playerView.querySelector(".ardplayer-bottom-sheet-container"))&&void 0!==r?r:void 0)}get playerBreakpoints(){return[{max:250,styles:["ardplayer-xxs"]},{max:320,styles:["ardplayer-xs"]},{max:474,styles:["ardplayer-s"]},{max:850,styles:["ardplayer-m"]},{min:1441,styles:["ardplayer-xl"]}]}get POSTER_IMAGE_TYPE_DEFAULT(){return"audio"}static supportsViewForConfigOf(e){var t;return e.isAudio&&(!(null!==(t=e.model.playerConfig.web.isAudioSticky)&&void 0!==t&&t)||S.q.isEmbedded)}finishSetupAfterAddonsLoaded(){}toggleTitleWidgetHidden(e){}setupTitleWidget(){var e,t,i,r,n,a,s;null===(t=null===(e=this.player.model.mediaCollection.meta.embed)||void 0===e?void 0:e.enabled)||void 0===t||!t||null!==(i=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i?null===(r=this.playerView.querySelector(".ardplayer-title-widget"))||void 0===r||r.remove():(super.renderTitleWidget(!1),null===(n=this.playerView.querySelector(".ardplayer-title-widget-text"))||void 0===n||n.remove()),null!==(a=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==a&&a?null===(s=this.playerView.querySelector(".ardplayer-audio"))||void 0===s||s.remove():this.setupAudioTitle()}setupAudioTitle(){var e,t,i;const r=this.player.model.mediaCollection.meta,a=r.embed,s=this.playerView.querySelector(".ardplayer-audio-subtitle");if(s&&(s.innerText=(0,n.fp)(r.seriesTitle)?null!==(e=r.subHeading)&&void 0!==e?e:"":r.seriesTitle,(0,n.SL)(r.availableToDateTime))){const e=864e5,t=14*e,i=new Date(r.availableToDateTime).getTime()-Date.now();if(i<=t&&i>0){const t=document.createElement("span");t.className="ardplayer-chip-highlight",t.innerText="Noch "+Math.ceil(i/e)+" Tag"+(i>e?"e":""),s.prepend(t)}}const l=this.playerView.querySelector(".ardplayer-audio-title");l&&(l.innerText=r.embed&&null!==(t=r.embed.enabled)&&void 0!==t&&t&&(0,n.SL)(r.embed.title)?r.embed.title:(0,n.fp)(r.title)?null!==(i=null==a?void 0:a.title)&&void 0!==i?i:"":r.title)}setFullscreen(e){this.log("ignored setFullscreen")}toggleFullscreen(e){this.log("ignored toggleFullscreen")}setVideoScale(e){this.log("ignored setVideoScale")}setSticky(e){return!1}get isModalViewShown(){return this.settingsVisible}get isMainButtonBarObscured(){return this.addonButtonsVisible||this.isModalViewShown}setMenuState(e,t){var i,r,a,s,l,o;const d=null!==(r=null===(i=this.playerView)||void 0===i?void 0:i.querySelector("[ardplayer-menu-hero]"))&&void 0!==r?r:null;null==d||d.removeAttribute("ardplayer-menu-hero"),this.playerView.classList.toggle("ardplayer-menu-none",!t&&null==e),this.playerView.classList.toggle("ardplayer-menu-collapse",!t&&null!==e),this.playerView.classList.toggle("ardplayer-menu-hero",t&&null!==e);const u=this.playerView.querySelector(".ardplayer-button-settings-reveal");if(u&&(d&&(null===(a=u.parentElement)||void 0===a?void 0:a.contains(d))&&(null===(s=u.parentElement)||void 0===s||s.removeChild(d)),null!==e))if(t){const t=e.cloneNode(!0);null===(l=u.parentElement)||void 0===l||l.insertBefore(t,u),t.setAttribute("ardplayer-menu-hero",""),(0,n.nx)(t,(()=>{const t=e.tabIndex;e.tabIndex=-2,e.click(),e.tabIndex=t}),this.player)}else null===(o=u.parentElement)||void 0===o||o.insertBefore(e,u),e.setAttribute("ardplayer-menu-hero","")}showAnimation(e){}get singleMenuButtonIsHero(){return!0}setOutDelayed(){this.log("setOutDelayed skipped - AudioView")}get shouldRenderPosterframe(){var e;return null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e}preparePosterBackdrop(){this.createPosterBackdrop(),this.posterBackdropView.style.display="block"}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];super.log("[AUDIOINLINE]",...t)}},De(t,"AudioInlineViewController"),Me(null,e={value:t},i,{kind:"class",name:t.name},null,r),t=e.value,Oe(t,r),t})();function Ne(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Re(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Re(e){var t=""+e,i=Be.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var Be=/["&<>]/,Ue=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,l){if(i+='<div class="ardplayer-posterbackdrop">',(!0!==n.web.disablePosterImage||e.isAudioOnly&&!0!==n.web.isForcedVideoView)&&0!==e.meta.images.length&&(i=i+"<picture><img"+Ne("alt",a.posterFrame.imgAlt,!0,!0)+"></picture>"),i=i+'</div><div class="ardplayer-viewport" tabindex="-2" data-inititator-name="viewport"></div><div class="ardplayer-cast-label ardplayer-hidden"></div><div class="ardplayer-viewport-addon-overlays"></div><div class="ardplayer-background"></div><div class="ardplayer-title-container"><div class="ardplayer-title-sizer"><a class="ardplayer-title-widget" tabindex="-2" data-inititator-name="title-widget"><div class="ardplayer-title-widget-img" tabindex="0"></div><div class="ardplayer-title-widget-link"><span class="ardplayer-icon ardplayer-icon-arrowright"></span></div><i class="ardplayer-icon ardplayer-icon-arrowleft" tabindex="0" data-vertical-nav-offset="-1" data-vertical-nav-abs-pos="true" data-inititator-name="title-widget-button" aria-label="Zur\xfcck" role="button"></i><div class="ardplayer-title-widget-text"><p class="ardplayer-title-widget-main"></p><p class="ardplayer-title-widget-byline"></p></div></a></div></div><div class="ardplayer-header"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-center"><div class="ardplayer-buttons-main"><button class="ardplayer-button-prevclip ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" title="" tabindex="0" data-inititator-name="button-center-prevclip"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" title="" tabindex="0" data-inititator-name="button-center-skipbackward"></button><button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" title="" tabindex="0" data-inititator-name="button-center-jumpbackward"></button><button class="ardplayer-button-replay ardplayer-button-big ardplayer-icon ardplayer-icon-return" tabindex="0" data-inititator-name="button-center-replay"></button><button class="ardplayer-button-playpause ardplayer-button-big ardplayer-icon ardplayer-icon-play" tabindex="0" data-inititator-name="button-center-playpause"></button><button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" title="" tabindex="0" data-inititator-name="button-center-jumpforward"></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" title="" tabindex="0" data-inititator-name="button-center-skipforward"></button><button class="ardplayer-button-nextclip ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" title="" tabindex="0" data-inititator-name="button-center-nextclip"></button></div></div><div class="ardplayer-footer"><span class="ardplayer-time-playhead" aria-live="off" aria-atomic="true">00:00</span><span class="ardplayer-time-remaining" aria-live="off" aria-atomic="true">00:00</span><div class="ardplayer-controlbar" tabindex="0" data-vertical-nav-abs-pos="true"><div class="ardplayer-controlbar-hover" aria-live="off" role="tooltip" aria-atomic="true" aria-hidden="true">00:00</div><div class="ardplayer-controlbar-thumb-input"><span class="ardplayer-controlbar-seek-indicator"></span><span class="ardplayer-controlbar-buffer"></span></div></div><div class="ardplayer-buttons-main ardplayer-button-big"><button class="ardplayer-button-replay ardplayer-icon ardplayer-icon-return" tabindex="0" data-inititator-name="button-footer-replay"></button><button class="ardplayer-button-playpause ardplayer-icon ardplayer-icon-play" tabindex="0" data-inititator-name="button-footer-playpause"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" tabindex="0" data-inititator-name="button-footer-skipbackward"></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" tabindex="0" data-inititator-name="button-footer-skipforward"></button><button class="ardplayer-button-jumptolive ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" tabindex="0" data-inititator-name="button-footer-jumptolive"></button><div class="ardplayer-button-volume"><button class="ardplayer-icon ardplayer-icon-volume-low" tabindex="0" data-inititator-name="button-volume"></button><div class="ardplayer-volume-fader"><div class="slider-wrapper"><div class="ardplayer-volume-fader-input"></div></div></div></div></div><div class="ardplayer-addons-container-big ardplayer-button-big"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-button-fullscreen-container ardplayer-button-big" data-vertical-nav-offset="2"><button class="ardplayer-button-settings-small ardplayer-icon ardplayer-icon-addons" tabindex="0" data-inititator-name="button-addons"></button><button class="ardplayer-button-settings-reveal ardplayer-icon ardplayer-icon-more" tabindex="0" data-inititator-name="button-settings-reveal"></button><button class="ardplayer-button-fullscreen ardplayer-icon ardplayer-icon-fullscreen" tabindex="0" data-inititator-name="button-fullscreen"></button></div></div><div class="ardplayer-seeking-indicator"><div><div><div></div></div></div></div><div class="ardplayer-playstate-zoom ardplayer-icon"></div><div class="ardplayer-video-zoom"></div><div class="ardplayer-buffering"><div class="ardplayer-loader"><div class="ardplayer-loader-inner ardplayer-ball-scale-multiple"><div></div><div></div><div></div></div></div></div><div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"><div class="ardplayer-bottom-sheet-background" tabindex="-2" data-inititator-name="bottom-sheet:backdrop"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true"'+Ne("aria-labelledby",`ardplayer-bottom-sheet-title-${l}`,!0,!0)+'><div class="ardplayer-bottom-sheet-topbar"><button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1"'+Ne("title",a.bottomSheet.backTitle,!0,!0)+' data-inititator-name="bottom-sheet:button-back"></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1"'+Ne("id",`ardplayer-bottom-sheet-title-${l}`,!0,!0)+'></h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1"'+Ne("title",a.bottomSheet.closeTitle,!0,!0)+' data-inititator-name="bottom-sheet:button-close"></button></div><div class="ardplayer-bottom-sheet-content-wrapper"><div class="ardplayer-bottom-sheet-content"></div></div></div></div><div class="ardplayer-posterframe" tabindex="-2" data-inititator-name="posterframe">',!0!==n.web.disablePosterImage&&0!==e.meta.images.length&&(i=i+"<picture><img"+Ne("alt",a.posterFrame.imgAlt,!0,!0)+"></picture>"),!0===n.web.disablePosterTitle||s.isBlank(e.meta.title)||(i=i+'<span class="ardplayer-posterframe-title">'+Re(null==(t=e.meta.title)?"":t)+"</span>"),!0!==e.meta.hideDuration){const n=e.meta.durationSeconds;s.nullish(n)||n<=0||(i=i+'<span class="ardplayer-posterframe-duration">'+Re(null==(t=n>=60?r.round(n/60):`${n<10?"00:0":"00:"}${n}`)?"":t)+" Min</span>")}i+='<div class="ardplayer-posterframe-buttons"><button class="ardplayer-button-posterframe ardplayer-button-big ardplayer-button-hero ardplayer-icon ardplayer-icon-play" tabindex="0" data-inititator-name="posterframe-button"></button></div></div>'}.call(this,"MC"in r?r.MC:"undefined"!=typeof MC?MC:void 0,"Math"in r?r.Math:"undefined"!=typeof Math?Math:void 0,"PC"in r?r.PC:"undefined"!=typeof PC?PC:void 0,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"playerID"in r?r.playerID:"undefined"!=typeof playerID?playerID:void 0),i},Fe=i(7950),He=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},je=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Ke=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},qe=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},We=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let ze=(()=>{var e,t,i;let r,s,l=[a.VP],o=[];return s=class extends Ee{constructor(r,a){var s;void 0===a&&(a=""),super(r,new J.B(Ue).renderTemplate({playerID:r.getId(),Strings:pe.G.Strings,PC:r.model.playerConfig,MC:r.model.mediaCollection})),s=this,this.fullscreenEnabled=!1,this.viewportMultiClick=!1,this.viewportMultiTimeout=-1,e.set(this,"CONTAIN"),t.set(this,0),i.set(this,0),this.handleViewportClick=e=>{if("dblclick"!==e.type)if(this.player&&this.isMobile&&(!this.player.model.mediaCollection.isLive||this._dvrEnabledAndRequested)){e.stopImmediatePropagation(),e.preventDefault(),clearTimeout(this.viewportMultiTimeout);const t=this.player.model.duration;if(this.viewportMultiClick&&t>0){const i=(0,n.We)(e,this.playerView),r=this.playerView.offsetWidth,a=this.player.model.time;i.left<.5*r?(this.player.seekToInternal(Math.max(a-10,0)),this.showAnimation("ssekback")):(this.player.seekToInternal(Math.min(a+10,t)),this.showAnimation("seekfwd")),this.setOutDelayed(),this.viewportMultiTimeout=this.player.safeTimeout((()=>{this.viewportMultiClick=!1}),Ee.MULTI_CLICK_DELAY)}else this.viewportMultiClick=!0,this.viewportMultiTimeout=this.player.safeTimeoutWithContext(this.player.executionContext,(()=>{this.handleViewportClickNow()}),Ee.MULTI_CLICK_DELAY)}else this.isMobile?this.handleViewportClickNow():(e.stopImmediatePropagation(),e.preventDefault(),clearTimeout(this.viewportMultiTimeout),this.viewportMultiClick?(this.viewportMultiClick=!1,this.toggleFullscreen(e)):(this.viewportMultiClick=!0,this.viewportMultiTimeout=this.player.safeTimeoutWithContext(this.player.executionContext,(()=>{this.handleViewportClickNow()}),Ee.MULTI_CLICK_DELAY)))},this.toggleFullscreen=function(e){void 0===e&&(e=null);const t=s.fullscreenEnabled;s.player.preserveExecutionContext(ht.TOGGLE_FULLSCREEN);const i=()=>{var t,i,r;s.applyFullscreenState(!0),e instanceof KeyboardEvent||null===(t=s.player)||void 0===t||t.pixelController.triggerPixel(E.J.IA_MOUSE_FULLSCREEN_ACTIVATION_BUTTON),null===(i=s.player)||void 0===i||i.pixelController.triggerPixel(E.J.SUPER_FULLSCREEN_ACTIVATION),null===(r=s.player)||void 0===r||r.loop.dispatchEvent(ht.TOGGLE_FULLSCREEN,{fullscreen:!0})},r=()=>{var i,r,n;s.applyFullscreenState(!1),null!==(null===(i=s.player)||void 0===i?void 0:i.pixelController)&&void 0!==(null===(r=s.player)||void 0===r?void 0:r.pixelController)&&(!t||e instanceof KeyboardEvent||s.player.pixelController.triggerPixel(E.J.IA_MOUSE_FULLSCREEN_DEACTIVATION_BUTTON),s.player.pixelController.triggerPixel(E.J.SUPER_FULLSCREEN_DEACTIVATION)),null===(n=s.player)||void 0===n||n.loop.dispatchEvent(ht.TOGGLE_FULLSCREEN,{fullscreen:!1})};if(S.q.isEmbedded||!0===s.player.model.playerConfig.web.isFullscreenManagedExternally)s.fullscreenEnabled?r():i();else if(Fe.enabled||s.mediaCanvas instanceof HTMLVideoElement&&Fe.videoEnabled(s.mediaCanvas)){const e=()=>{document.activeElement&&!s.isWithinPlayer(document.activeElement)&&(0,T.n6)(s.viewport),null!==s.lastFocusElement&&s.player.safeTimeout((()=>{(0,T.n6)(s.lastFocusElement)}),1e3),i()};S.q.isIOSDevice&&(Fe.onchange=()=>{s.fullscreenEnabled&&r()}),Fe.toggle(s.playerView,e,r,console.error)}else"fixed"===s.playerView.style.position?(s.playerView.removeAttribute("style"),r()):(s.playerView.style.position="fixed",s.playerView.style.top="0",s.playerView.style.bottom="0",s.playerView.style.left="0",s.playerView.style.right="0",s.playerView.style.zIndex="20000",i());s.setOver()};const l=this.playerView,o=l.querySelector(".ardplayer-playstate-zoom"),d=l.querySelector(".ardplayer-footer .ardplayer-buttons-main"),u=l.querySelector(".ardplayer-button-fullscreen"),c=l.querySelector(".ardplayer-seeking-indicator"),h=l.querySelector(".ardplayer-video-zoom");if(null==o||null==d||null==u||null==c||null==h)throw new Error("template dom invalid");if(this.playstateZoom=o,this.mainButtons=d,this.btnFullscreen=u,this.seekIndicator=c,this.zoomIndicator=h,this.onClick(this.btnFullscreen,this.toggleFullscreen),this.onClick(this.viewport,this.handleViewportClick),this.addEventListener(this.viewport,"dblclick",this.handleViewportClick),this.addEventListener(this.playstateZoom,"animationend",(function(){this.classList.remove("ardplayer-icon-play","ardplayer-icon-pause")})),this.addEventListener(this.seekIndicator,"animationend",(function(){this.classList.remove("ardplayer-seek-anim-forward","ardplayer-seek-anim-back")})),this.addEventListener(this.zoomIndicator,"animationend",(function(){this.classList.remove("ardplayer-video-zoom-inward","ardplayer-video-zoom-outward")})),this.player.model.playerConfig.web.isForcedVideoView&&!this.isMobile){const e=document.createElement(this.volumeContainer[0].tagName);e.className=this.volumeContainer[0].className,e.innerHTML=this.volumeContainer[0].innerHTML,e.classList.add("ardplayer-show-s","ardplayer-control"),e.style.position="absolute";const t=e.querySelector(".ardplayer-button-volume button"),i=e.querySelector(".ardplayer-volume-fader-input");if(null==t||null==i)return;this.volumeBtn.push(t),this.volumeThumbInput.push(i),l.insertBefore(e,l.querySelector(".ardplayer-center")),this.volumeContainer.push(e),this.bottomSheetAriaModals.push(e)}super.continueConstructingAfterDOMComplete()}get playerBreakpoints(){return!S.q.isEmbedded&&!S.q.isMobileDevice||S.q.isAndroidTV?super.playerBreakpoints:[{max:413,styles:["ardplayer-xs"]},{max:599,styles:["ardplayer-s"]},{min:600,styles:["ardplayer-sm"]}]}static supportsViewForConfigOf(e){return!e.isAudio}get POSTER_IMAGE_TYPE_DEFAULT(){return"preview"}get isModalViewShown(){return this.settingsVisible||this.posterFrameVisible}get isMainButtonBarObscured(){return this.isModalViewShown}parcelData(){return{isFullscreen:this.fullscreenEnabled}}restoreParceledData(e){e.isFullscreen&&this.applyFullscreenState(!0)}finishSetupAfterAddonsLoaded(){if(S.q.isMobileDevice&&!S.q.isEmbedded){let e=0,t=-1;this.addEventListener(this.playerView,"touchstart",(t=>{e=Math.max(e,t.touches.length)})),this.addEventListener(this.playerView,"touchmove",(i=>{if(2===e&&2===i.touches.length){const e=Math.abs(i.touches[0].clientX-i.touches[1].clientX),r=Math.abs(i.touches[0].clientY-i.touches[1].clientY),n=Math.sqrt(e*e+r*r);-1!==t?Math.abs(n-t)>50&&(n<t?this.player.setVideoScaleInternal("CONTAIN"):this.player.setVideoScaleInternal("COVER"),t=n):t=n}})),this.addEventListener(this.playerView,"touchend",(i=>{0===i.touches.length&&(e=0,t=-1)})),this.addEventListener(this.playerView,"touchcancel",(i=>{0===i.touches.length&&(e=0,t=-1)}))}}setVideoScale(t){if(Ke(this,e,t,"f"),this.isFullscreen){const e=this.player.getCtrl();null!=e?(e.videoScale=t,this.showAnimation("COVER"===t?"scale_cover":"scale_contain")):this.player.model.videoScaleMode=t}}setSticky(e){return!1}toggleTitleWidgetHidden(e){var t,i,r;null!==(i=null===(t=this.player.model.mediaCollection.meta.embed)||void 0===t?void 0:t.enabled)&&void 0!==i&&i?this.playerView.classList.toggle("ardplayer-embedded",!e):null!==(r=this.player.model.playerConfig.web.enableBackButton)&&void 0!==r&&r&&this.playerView.classList.toggle("ardplayer-showback",!e)}showAnimation(e){switch(e){case"play":this.playstateZoom.classList.remove("ardplayer-icon-pause"),this.playerView.classList.contains("ardplayer-s")||this.playstateZoom.classList.add("ardplayer-icon-play");break;case"pause":this.playstateZoom.classList.remove("ardplayer-icon-play"),this.playerView.classList.contains("ardplayer-s")||this.playstateZoom.classList.add("ardplayer-icon-pause");break;case"seekfwd":{const e=performance.now();if(e-qe(this,t,"f")<300)return;Ke(this,t,e,"f"),requestAnimationFrame((()=>{this.seekIndicator.classList.remove("ardplayer-seek-anim-forward","ardplayer-seek-anim-back"),requestAnimationFrame((()=>{this.seekIndicator.classList.add("ardplayer-seek-anim-forward")}))}));break}case"ssekback":{const e=performance.now();if(e-qe(this,i,"f")<300)return;Ke(this,i,e,"f"),requestAnimationFrame((()=>{this.seekIndicator.classList.remove("ardplayer-seek-anim-forward","ardplayer-seek-anim-back"),requestAnimationFrame((()=>{this.seekIndicator.classList.add("ardplayer-seek-anim-back")}))}));break}case"scale_contain":case"scale_cover":this.zoomIndicator.classList.toggle("ardplayer-video-zoom-inward","scale_contain"===e),this.zoomIndicator.classList.toggle("ardplayer-video-zoom-outward","scale_contain"!==e)}}get singleMenuButtonIsHero(){return!1}setMenuState(e,t){var i,r;const n=null!==(r=null===(i=this.playerView)||void 0===i?void 0:i.querySelector("[ardplayer-menu-hero]"))&&void 0!==r?r:null;null==n||n.removeAttribute("ardplayer-menu-hero"),this.controlBar.parentElement&&(e&&e.setAttribute("ardplayer-menu-hero",""),S.q.isAndroidTV?(n&&this.mainButtons.contains(n)&&this.mainButtons.removeChild(n),e&&this.mainButtons.appendChild(e)):(n&&n!==e&&(delete n.dataset.verticalNavAfter,delete n.dataset.verticalNavAbsPos,this.controlBar.parentElement.contains(n)&&n.remove()),this.controlBar.parentElement.classList.toggle("ardplayer-controlbar-hero",null!==e),e&&(e.dataset.verticalNavAfter=".ardplayer-controlbar",e.dataset.verticalNavAbsPos="true",e.classList.add("ardplayer-button-big"),this.controlBar.nextElementSibling?this.controlBar.parentElement.insertBefore(e,this.controlBar.nextElementSibling):this.controlBar.parentElement.appendChild(e))))}setupAccessibility(){super.setupAccessibility(),this.evalAccessibility(this.btnFullscreen,this.fullscreenEnabled?"fullscreen-off":"fullscreen-on",{pressed:!1})}handleViewportClickNow(){var e;clearTimeout(this.viewportMultiTimeout),this.viewportMultiClick=!1;const t=null===(e=this.player)||void 0===e?void 0:e.getCtrl();if(this.player&&null!=t){if(S.q.isEmbedded||S.q.isMobileDevice)return void(this.isOut&&!this.controlsVisible?this.setOver():this.setOut(!0));t.isPlaying()?this.isMobile&&!this.controlsVisible?this.setOver():(this.player.pixelController.triggerPixel(E.J.IA_MOUSE_PAUSE_VIEWPORT),this.player.pixelController.triggerPixel(E.J.SUPER_PAUSE),t.pause(),this.showAnimation("pause")):(t.isAtEnd?this.player.pixelController.triggerPixel(E.J.IA_MOUSE_PLAY_AGAIN_VIEWPORT):(this.player.pixelController.triggerPixel(E.J.IA_MOUSE_PLAY_VIEWPORT),this.player.pixelController.triggerPixel(E.J.SUPER_PLAY)),t.play(),this.showAnimation("play"))}}get isFullscreen(){return this.fullscreenEnabled}applyFullscreenState(t){this.fullscreenEnabled=t,this.playerView.classList.toggle("ardplayer-state-fullscreen",t),this.btnFullscreen.classList.toggle("ardplayer-icon-smallscreen",t),this.btnFullscreen.classList.toggle("ardplayer-icon-fullscreen",!t),this.evalAccessibility(this.btnFullscreen,t?"fullscreen-off":"fullscreen-on",{pressed:!1});const i=this.player.getCtrl(),r=t?qe(this,e,"f"):"CONTAIN";i?i.videoScale=r:this.player.model.videoScaleMode=r}exitFullscreen(){this.fullscreenEnabled?this.toggleFullscreen():(S.q.isIPhoneDevice||S.q.isIPodDevice)&&Fe.exit()}setFullscreen(e){e?this.fullscreenEnabled||this.toggleFullscreen():this.exitFullscreen()}get shouldRenderPosterframe(){return!0}preparePosterBackdrop(){this.createPosterBackdropDeferred()}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];super.log("[VIDEO]",...t)}},e=new WeakMap,t=new WeakMap,i=new WeakMap,We(s,"VideoViewController"),He(null,r={value:s},l,{kind:"class",name:s.name},null,o),s=r.value,je(s,o),s})();const Ge=[ze,_e,Ve];var Je=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},Ye=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Qe=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let $e=(()=>{let e,t,i=[a.VP],r=[];return t=class{constructor(e){this.player=e,this.playerEventMap={[ht.EVENT_READY]:"canplay",[ht.EVENT_PLAY_STREAM]:"play",[ht.EVENT_PAUSE_STREAM]:"pause",[ht.EVENT_UPDATE_STREAM_TIME]:"currentTime"},this.lastMessage="",this.handleWindowMessage=e=>{const t=e.data,i=this.player.getCtrl();switch(t.method){case"play":this.player.playInternal();break;case"pause":this.player.pauseInternal();break;case"setCurrentTime":this.player.seekToInternal(t.value);break;case"setVolume":i&&i.setVolume(100*t.value);break;case"toggleplay":i&&i.togglePlay()}},this.handlePlayerEvent=e=>{this.sendMessage(this.playerEventMap["Player."+e.namespace])},this.addMessageListener()}sendMessage(e){const t=this.player.getCurrentTime(),i=this.player.getDuration(),r={event:e,data:{seconds:t.toFixed(2),percent:(t/i).toFixed(2),duration:i.toFixed(2),currentTime:t.toFixed(2)}};if(isFinite(i)){const e=JSON.stringify(r);this.lastMessage!==e&&(this.lastMessage=e,parent.postMessage(r,"*"))}}addMessageListener(){window.addEventListener("message",this.handleWindowMessage,!1);for(const e in this.playerEventMap)this.player.on(e,this.handlePlayerEvent)}dispose(){window.removeEventListener("message",this.handleWindowMessage,!1);for(const e in this.playerEventMap)this.player.off(e,this.handlePlayerEvent)}},Qe(t,"PostMessageController"),Je(null,e={value:t},i,{kind:"class",name:t.name},null,r),t=e.value,Ye(t,r),t})();var Ze=i(1821),Xe=i(6248),et=i(3987),tt=i(2978),it=i(9340),rt=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},nt=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},at=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let st=(()=>{let e,t,i=[a.VP],r=[];var n=t=class extends ae.p{constructor(){super(...arguments),this.configKey="internals/settings",this.ID="SettingsSheetAddon",this.speedRange=[.25,.5,.75,1,1.25,1.5,1.75,2],this.selectedSpeed=3,this.speedSelector=null,this.qualitySelector=null,this.hdResThreshold=1080,this.settingsExtensions=[],this.onKeyRelease=e=>{var t,i;e.shiftKey&&("."===e.shortcut?this.selectedSpeed<this.speedRange.length-1&&(this.selectedSpeed++,this.player.setPlaybackRateInternal(this.speedRange[this.selectedSpeed]),null===(t=this.speedSelector)||void 0===t||t.updateSelection(this.selectedSpeed)):","===e.shortcut&&this.selectedSpeed>0&&(this.selectedSpeed--,this.player.setPlaybackRateInternal(this.speedRange[this.selectedSpeed]),null===(i=this.speedSelector)||void 0===i||i.updateSelection(this.selectedSpeed)))}}get buttonOrder(){return this.player.isAudio?6:1e3}listAddonButtons(){return[{classList:["ardplayer-button-settings","ardplayer-icon","ardplayer-icon-settings"],accessibilityKey:"settings",screen:n.OverviewScreen}]}register(){return!!super.register()&&(this.registerPlayerEvent(ht.EVENT_LOAD_STREAM,this.onLoadStream),this.registerPlayerEvent(ht.REMOTE_PLAYBACK_CHANGED,this.onLoadStream),this.registerPlayerEvent(ht.EVENT_KEYBOARD_RELEASE,this.onKeyRelease),this.registerPlayerEvent(ht.EVENT_QUALITY_CHANGE,this.onQualityChange),this.registerPlayerEvent(ht.EVENT_INITIAL_FRAME,(()=>{this.onQualityChange()})),!0)}onScreenClosed(e){super.onScreenClosed(e),this.speedSelector=null,this.qualitySelector=null,this.player.loop.dispatchEvent(ht.EVENT_SHOW_OPTIONS,{visible:!1})}renderToDisplayList(e,t){e.title="Einstellungen",this.player.isAudio||(this.qualitySelector=ne.mf.renderSelect(e,"Qualit\xe4t",this.player.qualityList.map((e=>e.label)),this.player.qualityList.findIndex((e=>e.level===this.player.currentQuality)),(e=>{this.setQualityLevel(this.player.qualityList[e].level)}))),this.mc.isLive||(this.speedSelector=ne.mf.renderSelect(e,"Geschwindigkeit",this.speedRange.map((e=>1===e?"Normal":String(e))),this.selectedSpeed,(e=>{this.selectedSpeed=e,this.player.setPlaybackRateInternal(this.speedRange[e])}),((e,t,i)=>{var r,n;return-1!==(null===(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.mediaElement)||void 0===n?void 0:n.playbackRate)}))),this.settingsExtensions.forEach((t=>{t.renderSettingsPlugin(e)})),this.player.loop.dispatchEvent(ht.EVENT_SHOW_OPTIONS,{visible:!0})}onLoadStream(){var e,t,i;const r=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.mediaElement.playbackRate)&&void 0!==t?t:this.player.model.playbackRate;this.selectedSpeed=this.speedRange.indexOf(-1===r?1:r),null===(i=this.speedSelector)||void 0===i||i.updateSelection(this.selectedSpeed,!0),this.onQualityChange()}onQualityChange(e){var t,i;const r=null!==(t=null==e?void 0:e.toQuality)&&void 0!==t?t:this.player.currentQuality,n=this.player.qualityList.findIndex((e=>e.level===r));null===(i=this.qualitySelector)||void 0===i||i.updateValues(this.player.qualityList.map((e=>e.label)),n),this.updateHdStatus(this.player.qualityList[n])}updateHdStatus(e){var t,i,r,n,a,s,l;const o=!(null===(t=this.player)||void 0===t?void 0:t.model.mediaCollection.isAudioOnly)&&null!==(n=null===(r=null===(i=this.player)||void 0===i?void 0:i.currentStream)||void 0===r?void 0:r.media.some((e=>{var t;return(null!==(t=e.maxHResolutionPx)&&void 0!==t?t:this.hdResThreshold)>=this.hdResThreshold})))&&void 0!==n&&n,d=["ardplayer-icon-settings-hd-off","ardplayer-icon-settings-hd"],u=this.getFocusButton();if(null==u||u.classList.remove(...d),o){let t;if(e.width>0)t=e.width>=this.hdResThreshold;else{const e=null===(s=null===(a=this.player)||void 0===a?void 0:a.currentStream)||void 0===s?void 0:s.media[this.player.currentMedia||0];t=(null!==(l=null==e?void 0:e.maxHResolutionPx)&&void 0!==l?l:0)>=this.hdResThreshold}null==u||u.classList.add(d[t?1:0])}}setQualityLevel(e){var t,i;e!==this.player.currentQuality&&((null===(t=this.player.viewCtrl)||void 0===t?void 0:t._dvrEnabledAndRequested)&&!(null===(i=this.player.viewCtrl)||void 0===i?void 0:i._dvrIsLive)&&this.player.pixelController.triggerPixel(E.J.SUPER_BACK_TO_LIVE),this.player.pixelController.triggerQualityChanged(E.J.IA_MOUSE_QUALITY_CHANGE),this.player.switchQuality(e))}isSupported(){return!!super.isSupported()&&(!this.mc.isLive||!this.player.isAudio&&-1!==this.mc.streams.findIndex((e=>"main"===e.kind&&(e.media.length>1||e.media[0].isAdaptiveQualitySelectable))))}addSettingsExtension(e){this.settingsExtensions.includes(e)||this.settingsExtensions.push(e)}removeSettingsExtension(e){const t=this.settingsExtensions.indexOf(e);t>=0&&this.settingsExtensions.splice(t,1)}dispose(){super.dispose(),this.settingsExtensions=[]}};return at(t,"SettingsAddon"),rt(null,e={value:t},i,{kind:"class",name:t.name},null,r),n=t=e.value,t.OverviewScreen="overview",nt(t,r),n=t})();var lt=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},ot=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},dt=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},ut=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},ct=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let ht=(()=>{var e,t,s,l,o,d,u,c,h,p,v,m,f,C,T,k,_;let I,P,L,x,M,O,D,V,N,R,B,U,F,j,K,q,W,z,G,J,Y,Q,$,Z,X=[a.VP],ee=[],te=[];var ie=P=class extends y{get buttonCentral(){return dt(this,c,"f")}get settings(){return dt(this,h,"f")}get viewCtrl(){return dt(this,o,"f")}get mediaElement(){var e,t;return null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.mediaElement)&&void 0!==t?t:null}get currentPluginName(){var e,t;return null!==(t=null===(e=dt(this,T,"f"))||void 0===e?void 0:e.name)&&void 0!==t?t:""}get isRemotePlayback(){var e,t;return this.checkState(),null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.isRemotePlayback)&&void 0!==t&&t}get isPlaying(){var e,t;return this.checkState(),null!==(t=null===(e=this.getCtrl())||void 0===e?void 0:e.isPlaying())&&void 0!==t&&t}get isLive(){return this.checkState(),dt(this,v,"f")&&this.model.mediaCollection.isLive}get isAudio(){return this.checkState(),dt(this,v,"f")&&this.model.mediaCollection.isAudioOnly}get isSticky(){return this.checkState(),this.isAudio&&this.viewCtrl.isSticky}get isFullscreen(){return this.checkState(),this.viewCtrl.isFullscreen}get isPiP(){return this.checkState(),this.viewCtrl.isPiP}constructor(i,a,y,g,I){var P,L,x,M,O,D,V;let N;if(super(),this.loop=void lt(this,te),this.currentStream=null,e.set(this,[]),this.currentMedia=!1,t.set(this,!1),s.set(this,void 0),l.set(this,void 0),o.set(this,null),this.playerCtrl=null,this.pmc=null,this.addons=[],d.set(this,new Set),u.set(this,null),c.set(this,null),h.set(this,null),p.set(this,!1),v.set(this,!1),m.set(this,!1),f.set(this,!1),C.set(this,[]),T.set(this,null),k.set(this,null),_.set(this,null),r.iV._clearBuffer(),this.loop=new A.J(this),S.q.init(),ut(this,s,(0,n.HP)(),"f"),N="string"==typeof i?"#"!==i.charAt(0)?document.getElementById(i):document.getElementById(i.substring(1)):i,!(N instanceof HTMLElement))throw r.iV.error("Target div cannot be resolved: ",i,N),new Error("Target div cannot be resolved");ut(this,l,N,"f"),N.dataset.uuid=dt(this,s,"f"),this.model=w.S.getInstance(this),this.pixelController=new E.J(this),this.errorCtrl=new b.h(this);const R=()=>{this.safeTimeoutWithContext({type:"lifecycle",initiator:"constructor"},(()=>{this.construct(a,y,g,I)}))};if(S.q.isEmbedded)R();else{let t=!0;try{a instanceof tt.QL?t=null!==(L=null===(P=a.generic)||void 0===P?void 0:P.isAutoplay)&&void 0!==L&&L:(0,n.s$)(a)?(0,n.l$)(a,"generic")&&(t=!0===(null!==(M=null===(x=a.generic)||void 0===x?void 0:x.isAutoplay)&&void 0!==M&&M)):(0,n.SL)(a)&&(t=!0===(null!==(V=null===(D=null===(O=JSON.parse(a))||void 0===O?void 0:O.generic)||void 0===D?void 0:D.isAutoplay)&&void 0!==V&&V))}catch(e){}t?Ze._.prepareAudioAutoplay(this,R):R()}}construct(e,t,i,n){const a=new it.F(this.errorCtrl,((e,t)=>{dt(this,f,"f")?r.iV.warn("disposed before init done"):this.initialize(e,t)}));a.setPC(e,i),a.setMC(t,n)}initialize(e,t){var a,s;this.log("initialize",this.getId(),e,t);const l=e.embeddedBaseUrl;i.p=(0,n.fp)(l)?e.web.baseUrl:l,null!==this.pixelController&&this.pixelController.triggerPixel(E.J.PLAYER_LOADING),this.setPlayerConfigInternal(e)&&this.setMediaCollectionInternal(t)?this.pmc=null!==(s=null===(a=this.model)||void 0===a?void 0:a.playerConfig.web.enablePostMessage)&&void 0!==s&&s?new $e(this):null:r.iV.error("[Player] kritischer Fehler beim initialisieren!")}setMediaCollection(e){this.checkState(),this.setConfig(this.model.playerConfig,e)}setPlayerConfig(e){this.checkState(),this.setConfig(e,this.model.mediaCollection)}setConfig(t,i){var r,n,a,s,d;this.checkState(),this.log("re-init player"),this.loop.dispatchEvent(ie.RECONFIGURE,{}),dt(this,l,"f").classList.add("reinit-ardplayer"),null!==(n=null===(r=this.errorCtrl)||void 0===r?void 0:r.criticalError)&&void 0!==n&&n?(this.log("re-init from critical error state"),null===(a=this.errorCtrl)||void 0===a||a.dispose(),this.errorCtrl=new b.h(this),Ze._.disposePlayer(this)):ut(this,u,he.s.makeParcel(dt(this,o,"f")?this.addons.concat(dt(this,o,"f")):this.addons),"f"),this.disposeAddons(),this.model.reset(),null===(s=this.playerCtrl)||void 0===s||s.dispose(),this.playerCtrl=null,null===(d=dt(this,o,"f"))||void 0===d||d.dispose(),ut(this,o,null,"f"),Ze._.resetPlayer(this),ut(this,_,null,"f"),ut(this,e,[],"f"),this.currentMedia=!1,this.currentStream=null,ut(this,p,!1,"f"),ut(this,v,!1,"f");const c=new it.F(this.errorCtrl,((e,t)=>{this.withExecutionContext({type:"lifecycle",initiator:"reinit-load"},(()=>{this.initialize(e,t),t.isLive&&this.setPlaybackRateInternal(1),this.safeTimeout((()=>{dt(this,l,"f").classList.remove("reinit-ardplayer")}),300)}))}));c.setPC(t),c.setMC(i)}setMediaCollectionInternal(e){if(null!=e&&e instanceof et.ib){if(!et.ib.validate(e))return this.errorCtrl.throwError(b.h.MC_INVALID,!0),!1;if(this.model.mediaCollection=e,this.model.mediaCollection.streams.some((e=>e.media.length>0)))return ut(this,v,!0,"f"),this.ready(),!0}return this.errorCtrl.throwError(b.h.MC_UNKNOWN,!0),!1}setPlayerConfigInternal(e){var t;return null!=e&&e instanceof tt.QL?tt.QL.validate(e)?(this.model.playerConfig=e,this.model.playerConfig.generic.isAutoplay&&S.q.isMobileDevice&&!this.model.playerConfig.allowEmbeddedAutoplay&&(Ze._.mobileAudioAutoplayEnabled||(r.iV.warn("Mobile device autoplay restrictions could not be worked around, disabling autoplay"),this.model.playerConfig.generic.isAutoplay=!1)),this.model.playerConfig.generic.isAutoplay&&(!1===w.S.autoPlayerAlreadyActive||w.S.autoPlayerAlreadyActive===this.getId()||null!==(t=this.model.playerConfig.web.isForcedAutoplay)&&void 0!==t&&t?w.S.autoPlayerAlreadyActive=this.getId():this.model.playerConfig.generic.isAutoplay=!1),ut(this,p,!0,"f"),this.ready(),!0):(this.errorCtrl.throwError(b.h.PC_INVALID,!0),!1):(this.errorCtrl.throwError(b.h.PC_UNKNOWN,!0),!1)}disposeAddons(){this.addons.forEach((e=>{try{e.dispose()}catch(t){r.iV.error("Failed to dispose of addon "+e.ID)}})),this.addons=[],ut(this,h,null,"f"),ut(this,c,null,"f")}finalErrorShutdown(){var e;ut(this,m,!0,"f"),this.disposeAddons(),this.model.reset(),null===(e=this.playerCtrl)||void 0===e||e.dispose(),this.playerCtrl=null}dispose(){var e,t,i,a;try{this.checkState()}catch(e){return void r.iV.error("trying to dispose already disposed instance!")}this.log("dispose",dt(this,s,"f")),ut(this,m,!0,"f"),null===(e=this.pmc)||void 0===e||e.dispose(),this.pmc=null,ut(this,u,null,"f"),this.pixelController.triggerPixel(E.J.PLAYER_UNLOAD),this.disposeAddons();try{this.stopInternal()}catch(e){r.iV.error("stop() in dispose failed",e)}this.off(),g.K.disposeInstance(dt(this,s,"f")),Ze._.disposePlayer(this),null===(t=this.playerCtrl)||void 0===t||t.dispose(),this.playerCtrl=null,null===(i=this.errorCtrl)||void 0===i||i.dispose(),this.errorCtrl=null,this.model.dispose(),this.loop.dispose(),this.pixelController.dispose(),null===(a=dt(this,o,"f"))||void 0===a||a.dispose(),ut(this,o,null,"f"),w.S.forceRemovePlayer(this),w.S.autoPlayerAlreadyActive===dt(this,s,"f")&&(w.S.autoPlayerAlreadyActive=!1),ut(this,f,!0,"f"),ut(this,T,null,"f"),this.currentStream=null,this.model=null,this.pixelController=null,(0,n.cS)(dt(this,l,"f"))}sendEvent(e){dt(this,f,"f")&&r.iV.error("sending event to unchecked dispatcher after disposal"),super.sendEvent(e)}checkState(){if(dt(this,f,"f"))throw Error("Instance "+dt(this,s,"f")+" already disposed!")}checkStateStrict(){if(this.checkState(),dt(this,m,"f"))throw Error("Instance "+dt(this,s,"f")+" currently disposing!")}safeTimeout(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];return this.safeTimeoutWithContext({type:"timeout",initiator:t?"safeTimeout("+t+")":"stackBust"},e,t,...r)}safeTimeoutPreservingContext(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];return this.safeTimeoutWithContext(this.executionContext,e,t,...r)}safeTimeoutWithContext(e,t,i){for(var n=arguments.length,a=new Array(n>3?n-3:0),s=3;s<n;s++)a[s-3]=arguments[s];try{this.checkStateStrict()}catch(e){return r.iV.warn("skipping timeout",e),-1}return window.setTimeout((()=>{try{this.checkStateStrict()}catch(e){return void r.iV.warn("aborting timeout",e)}ie.__timersFrozen?(r.iV.info("timers frozen, deferring execution"),ie.__deferrals.push((()=>{this.withOptionalExecutionContext(e,(function(){t(...a)}))}))):this.withOptionalExecutionContext(e,(()=>t(...a)))}),i)}safeInterval(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];try{this.checkStateStrict()}catch(e){return r.iV.warn("skipping interval",e),-1}const s=window.setInterval((()=>{try{this.checkStateStrict()}catch(e){return r.iV.warn("aborting interval",e),void window.clearInterval(s)}ie.__timersFrozen?r.iV.info("timers frozen, skipping execution"):e(...n)}),t);return s}static pauseTimers(){this.__timersFrozen=!0}static resumeTimers(){this.__deferrals.forEach((e=>{try{e()}catch(e){r.iV.error("Exception while resuming timers",e)}})),this.__deferrals.splice(0),this.__timersFrozen=!1}setCtrl(e){var t;null!=e&&(null===(t=this.playerCtrl)||void 0===t||t.dispose(),this.playerCtrl=e)}getCtrl(){return this.playerCtrl}readyTrigger(){this.ready(!0)}ready(e){var t;if(void 0===e&&(e=!1),dt(this,p,"f")&&dt(this,v,"f")){if(!e){this.disposeAddons(),ut(this,c,new ce(this),"f"),dt(this,c,"f").register(),ut(this,h,new st(this),"f"),dt(this,h,"f").register(),this.addons.push(dt(this,h,"f")),this.addons.push(dt(this,c,"f"));for(const e of H.I.addon)try{const t=new e.Clazz(this,dt(this,u,"f"));t.register()&&(this.addons.push(t),this.log("registered",e.package,t.ID),t instanceof Xe.Ky&&dt(this,d,"f").has(t.ID)&&t.setButtonRenderingPrevented(!0))}catch(t){r.iV.error("Could not instantiate or register addon "+e.package,t)}}this.addons.some((e=>e.startupHook()))||(ut(this,o,function(e){const t=Ge.find((t=>t.supportsViewForConfigOf(e)));if(t)return new t(e);throw Error("no ViewController impl found for player!")}(this),"f"),dt(this,o,"f").restoreFromParcel(dt(this,u,"f")),ut(this,u,null,"f"),this.checkMaturity()&&(null!==dt(this,_,"f")?(this.switchStream(dt(this,_,"f"),!0),ut(this,_,null,"f")):this.switchStreamKind("main",!0),(null===(t=this.model)||void 0===t?void 0:t.playerConfig.generic.isAutoplay)&&this.initialLoad()))}}preselectStartupStream(e){this.log("pre-selecting stream for initial play:",e),ut(this,_,e,"f")}checkMaturity(){var e,t,i,r,a,s;if(null!==(t=null===(e=this.model.mediaCollection.meta.maturityContentRating)||void 0===e?void 0:e.isBlocked)&&void 0!==t&&t){null===(i=dt(this,o,"f"))||void 0===i||i.setPosterImageType("maturityContentBlocked");const e=18===(null===(a=null===(r=this.model.mediaCollection)||void 0===r?void 0:r.meta.maturityContentRating)||void 0===a?void 0:a.age),t=null!==(s=this.model.playerConfig.web.enableMaturityLogin)&&void 0!==s&&s;return this.errorCtrl.throwError(e?b.h.ERROR_PLAYBACK_MATURITY_18:b.h.ERROR_PLAYBACK_MATURITY_16,!0,null,e?"ardplayer-icon-fsk18":"ardplayer-icon-fsk16",t?e=>{const t=document.createElement("span");t.className="ardplayer-error-message",t.innerText="Wollen Sie die Altersbeschr\xe4nkung aufheben?",e.appendChild(t);const i=document.createElement("button");i.innerText="Anmelden und Alter best\xe4tigen",e.appendChild(i),(0,n.nx)(i,(()=>{this.loop.dispatchEvent(ie.MATURITY_LOGIN,{})}),this)}:null),!1}return!0}initialLoad(){var t,i;this.preserveExecutionContext(ie.EVENT_PLAY_STREAM),null===(t=dt(this,o,"f"))||void 0===t||t.handleInitialPlay(),null===(i=dt(this,o,"f"))||void 0===i||i.showBufferingIndicator(),0===dt(this,e,"f").length?this.streamError():this.switchMedium(dt(this,e,"f")[0][0])}streamError(){ut(this,t,!1,"f"),this.removeMediaFromCurrentMediaOrder(this.currentMedia),ut(this,C,[],"f"),this.nextMedium(!0,!0)}switchAudio(e){var t,i,a,s,l;if(null===this.playerCtrl)return r.iV.error("tried to switch audio track with null controller",e),!1;const o=(null!==(i=null===(t=this.playerCtrl)||void 0===t?void 0:t.getAudioTracks())&&void 0!==i?i:[]).filter((t=>(0,n.Sz)(t.language,e.languageCode)&&("audio-description"===e.kind?!0===t.isAudioDescription:!0!==t.isAudioDescription)));if(0===o.length)return r.iV.error("audio track not found in stream",e),!1;const d=(0,n.fp)(e.nativeId)?null:null==o?void 0:o.find((t=>e.nativeId===t.id));return null===(a=this.playerCtrl)||void 0===a||a.setAudioTrack(null!==(l=null!==(s=null!=d?d:(0,n.fp)(e.label)?null:o.find((t=>t.label===e.label)))&&void 0!==s?s:o.find((t=>t.label===e.kind)))&&void 0!==l?l:o[0]),!0}get currentMedium(){var e;return null!=this.currentStream&&!1!==this.currentMedia&&null!==(e=this.currentStream.media[this.currentMedia])&&void 0!==e?e:null}get currentAudio(){var e,t,i,r,a;if(!this.currentStream||!1===this.currentMedia)return null;const s=this.currentStream.media[this.currentMedia].audios;if(1===s.length)return s[0];const l=null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.getAudioTrack())&&void 0!==t?t:null;if(null===l)return s[0];const o=s.filter((e=>(0,n.Sz)(e.languageCode,l.language))),d=(0,n.fp)(l.id)?null:null==o?void 0:o.find((e=>l.id===e.nativeId));return null!==(a=null!==(r=null!==(i=null!=d?d:(0,n.fp)(l.label)?null:s.find((e=>e.label===l.label)))&&void 0!==i?i:null==o?void 0:o.find((e=>e.kind===l.label)))&&void 0!==r?r:null==o?void 0:o.pop())&&void 0!==a?a:s[0]}switchStreamKind(e,t){var i;void 0===t&&(t=!1),this.switchStream(null!==(i=this.model.mediaCollection.streams.find((t=>t.kind===e)))&&void 0!==i?i:this.model.mediaCollection.streams[0],t)}switchStream(t,i){if(void 0===i&&(i=!1),this.currentStream===t)return;this.log("Switching stream:",t),this.currentStream=t;const a=g.K.lastMime(this),s=g.K.lastResolution(this),l=s<=0?this.getTarget().clientWidth:s;this.log("Quality targets:",s,l,a);const o=H.I.plugin.map((e=>e.Clazz.exports)),d=this.currentStream.media.filter((e=>o.some((i=>{var r;return i.canPlay(e,null!==(r=null==t?void 0:t.isAudioOnly)&&void 0!==r&&r)}))));0===d.length&&r.iV.error("None of the configured media can be played back in the current Environment!");const u=[],c=[];d.forEach((e=>{const t=e.fallbackGroup;void 0!==t&&Number.isInteger(e.fallbackGroup)?Array.isArray(u[t])?u[t].push(e):u[t]=[e]:c.push([e])}));const h=u.concat(c).filter((e=>!!e)),p=(e,t)=>{var i,r;return Math.abs(l-(null!==(i=h[e][0].maxHResolutionPx)&&void 0!==i?i:0))-Math.abs(l-(null!==(r=h[t][0].maxHResolutionPx)&&void 0!==r?r:0))},v=(0,n.fp)(a)?[]:h.map(((e,t)=>e.some((e=>e.mimeType===a))?t:-1)).filter((e=>-1!==e)).sort(p).slice(0,1);v.push(...h.map(((e,t)=>e.some((e=>e.mimeType!==a&&("application/dash+xml"===e.mimeType||"application/vnd.apple.mpegurl"===e.mimeType)))?t:-1)).filter((e=>-1!==e&&!v.includes(e))).sort(p)),v.push(...h.map(((e,t)=>t)).filter((e=>!v.includes(e))).sort(p));const m=h.findIndex((e=>e.some((e=>e.isAdaptiveQualitySelectable&&H.I.plugin.map((e=>e.Clazz.exports)).some((t=>{var i,r;return t.canSubSelectQualities(e)&&t.canPlay(e,null!==(r=null===(i=this.currentStream)||void 0===i?void 0:i.isAudioOnly)&&void 0!==r&&r)})))))),f=e=>h[e].map((e=>t.media.indexOf(e)));if(-1!==m)this.log("found sub-selectable adaptive stream!"),ut(this,e,v.filter((e=>e!==m)).map((e=>f(e))),"f"),dt(this,e,"f").unshift(f(m));else{const t=s>0?-1:h.findIndex((e=>e.some((e=>e.qualityLabel.toLowerCase().startsWith("auto")))));-1!==t&&v.length>0&&v[0]!==t?(this.log('found "auto" stream at index != 0'),ut(this,e,v.filter((e=>e!==t)).map((e=>f(e))),"f"),dt(this,e,"f").unshift(f(t))):ut(this,e,v.map((e=>f(e))),"f")}this.log("Calculated quality order:",dt(this,e,"f").map((e=>e.join(","))).join(" "),"\n\t",dt(this,e,"f").map((e=>e.map((e=>{var i;return t.media[e].qualityLabel+" ("+t.media[e].mimeType+"@"+(null!==(i=t.media[e].maxHResolutionPx)&&void 0!==i?i:0)+")"})).join(" | "))).join("\n\t")),i||this.switchMedium(!1)}streamDebug(){var t,i;return this.model.mediaCollection.streams.map((e=>((e,t)=>{const i=t?">":"";switch(e){case"main":return i+"\u29c7";case"subtitle-burn-in":return i+"\u33c4";case"sign-language":return i+"\u29c6"}return i+"?"})(e.kind,e===this.currentStream))).join(" ")+" | "+(null!==(i=null===(t=this.currentStream)||void 0===t?void 0:t.media)&&void 0!==i?i:[]).map(((t,i)=>{if(this.currentMedia===i)return"\u235a";const r=dt(this,e,"f").find((e=>e.includes(i)));return void 0===r?"\u25ab":!1!==this.currentMedia&&r.includes(this.currentMedia)?"\u25c7":"\u2b25"})).join("")}removeMediaFromCurrentMediaOrder(t){if(!1===t)return;const i=dt(this,e,"f").findIndex((e=>e.includes(t)));-1!==i&&(dt(this,e,"f")[i].length<=1?dt(this,e,"f").splice(i,1):dt(this,e,"f")[i]=dt(this,e,"f")[i].filter((e=>e!==t)))}get currentQuality(){var e,i;return dt(this,t,"f")?null!==(i=null===(e=this.playerCtrl)||void 0===e?void 0:e.currentSubQuality)&&void 0!==i?i:-1:!1!==this.currentMedia?this.currentMedia:-1}get qualityList(){var i,r,a,s;if(dt(this,t,"f"))return null!==(r=null===(i=this.playerCtrl)||void 0===i?void 0:i.subQualities)&&void 0!==r?r:[{level:-1,label:"Auto",width:-1}];{const t=dt(this,e,"f").map((e=>e[0]));return(null!==(s=null===(a=this.currentStream)||void 0===a?void 0:a.media.map(((e,t)=>({index:t,media:e}))).filter((e=>t.includes(e.index)&&e.media.audios.some((e=>{var t,i,r;return e.kind===(null===(t=this.currentAudio)||void 0===t?void 0:t.kind)&&(0,n.Sz)(e.languageCode,null!==(r=null===(i=this.currentAudio)||void 0===i?void 0:i.languageCode)&&void 0!==r?r:"de")}))&&H.I.plugin.some((t=>{var i,r;return t.Clazz.exports.canPlay(e.media,null!==(r=null===(i=this.currentStream)||void 0===i?void 0:i.isAudioOnly)&&void 0!==r&&r)})))).sort(((e,t)=>{var i,r;return e.media.qualityLabel.toLowerCase().startsWith("auto")?-1:t.media.qualityLabel.toLowerCase().startsWith("auto")?1:(null!==(i=e.media.maxHResolutionPx)&&void 0!==i?i:0)-(null!==(r=t.media.maxHResolutionPx)&&void 0!==r?r:0)})))&&void 0!==s?s:[]).map((t=>{var i,r,n;return{level:t.index,label:S.q.isDebugVerboseUI?t.media.qualityLabel+" group"+(null!==(i=t.media.fallbackGroup)&&void 0!==i?i:"-")+" ("+t.media.audios.map((e=>e.languageCode+"-"+e.kind)).join(", ")+")":t.media.qualityLabel,width:null!==(r=t.media.maxHResolutionPx)&&void 0!==r?r:-1,debug:(null!==(n=dt(this,e,"f").find((e=>e.includes(t.index))))&&void 0!==n?n:[]).length-1+" fallbacks"}}))}}switchQuality(e){this.log("Switch to quality",e);const i=this.currentQuality;if(dt(this,t,"f")){if(!1===this.currentMedia||!this.playerCtrl)throw Error("sub-selecting quality of unset medium?!");this.playerCtrl.selectSubQuality(e)}else this.switchMedium(e);this.loop.dispatchEvent(ie.EVENT_QUALITY_CHANGE,{fromQuality:i,toQuality:e})}switchMedium(e,t,i){var r,n,a,s;void 0===t&&(t=!1),void 0===i&&(i=!1),this.log("Switch to medium:",e,t),this.loop.dispatchEvent(ie.EVENT_MEDIUM_CHANGE,{}),null!==this.playerCtrl&&(this.log("Disposing current plugin: "+(null!==(n=null===(r=dt(this,T,"f"))||void 0===r?void 0:r.name)&&void 0!==n?n:"")),this.playerCtrl.dispose(),this.playerCtrl=null,ut(this,T,null,"f")),this.currentMedia=e;const l=!1===e?null:null!==(s=null===(a=this.currentStream)||void 0===a?void 0:a.media[e])&&void 0!==s?s:null;if(null===l)return this.log("{M:"+String(this.currentMedia)+"} Error - data for medium not found. Trying next."),this.removeMediaFromCurrentMediaOrder(e),void this.nextMedium(t);Ze._.prebuild(this),ut(this,C,H.I.plugin.map((e=>e.Clazz.exports)).filter((e=>{var t,i;return e.canPlay(l,null!==(i=null===(t=this.currentStream)||void 0===t?void 0:t.isAudioOnly)&&void 0!==i&&i)})),"f"),this.log("{M:"+String(this.currentMedia)+"} Detected plugin support for current medium:",dt(this,C,"f").map((e=>e.name))),this.loadMedium(i)}loadMedium(e){var i,n,a,s;if(void 0===e&&(e=!1),!1===this.currentMedia)return void r.iV.error("Error, no valid medium set");if(0===dt(this,C,"f").length)return r.iV.log("Error, no more plugin available to playback medium",this.currentMedia),this.removeMediaFromCurrentMediaOrder(this.currentMedia),void this.nextMedium();dt(this,C,"f").sort(((e,t)=>{var i,r,n,a;return(null!==(i=e.priority)&&void 0!==i?i:0)>(null!==(r=t.priority)&&void 0!==r?r:0)?-1:(null!==(n=e.priority)&&void 0!==n?n:0)<(null!==(a=t.priority)&&void 0!==a?a:0)?1:0})),null!==dt(this,k,"f")?ut(this,T,dt(this,k,"f"),"f"):ut(this,T,null!==(i=dt(this,C,"f").shift())&&void 0!==i?i:null,"f"),this.log("{M:"+this.currentMedia+"} Initializing plugin: "+(null!==(a=null===(n=dt(this,T,"f"))||void 0===n?void 0:n.name)&&void 0!==a?a:""));const l=this.executionContext,d=this.currentMedia;null===(s=dt(this,T,"f"))||void 0===s||s.library(this.model.playerConfig,this.model.mediaCollection).then((i=>{this.withOptionalExecutionContext(l,(()=>{var r,n;this.log("{M:"+d+"} Plugin library loaded: "+(null!==(n=null===(r=dt(this,T,"f"))||void 0===r?void 0:r.name)&&void 0!==n?n:"")),dt(this,f,"f")||(new i.Generator).execute(this,(r=>{var n,a,s,l,u,c,h,p,v,m;if(this.log("{M:"+d+"} Plugin generator executed: "+(null!==(a=null===(n=dt(this,T,"f"))||void 0===n?void 0:n.name)&&void 0!==a?a:"")),dt(this,f,"f"))return;this.setCtrl(new i.Controller(this,r)),null===(s=dt(this,o,"f"))||void 0===s||s.setMediaCanvas(r instanceof HTMLMediaElement?r:null),null===(l=dt(this,o,"f"))||void 0===l||l.showBufferingIndicator();const y=null===(u=this.currentStream)||void 0===u?void 0:u.media[d];y&&(e||(g.K.setLastMime(this,null!==(c=y.mimeType)&&void 0!==c?c:""),g.K.setLastResolution(this,null!==(h=y.maxHResolutionPx)&&void 0!==h?h:-1)),ut(this,t,y.isAdaptiveQualitySelectable&&null!==(v=null===(p=dt(this,T,"f"))||void 0===p?void 0:p.canSubSelectQualities(y))&&void 0!==v&&v,"f"),null===(m=this.getCtrl())||void 0===m||m.loadStream(y),this.loop.dispatchEvent(ie.EVENT_READY,{}))}))}))}))}nextMedium(t,i){var r,n,a;if(void 0===t&&(t=!1),void 0===i&&(i=!1),dt(this,e,"f").length>0)this.switchMedium(dt(this,e,"f")[0][0],t,i);else{if(this.log("No more qualities available for playback. Final error."),null!==this.playerCtrl)try{this.log("try disposing current plugin: "+(null!==(n=null===(r=dt(this,T,"f"))||void 0===r?void 0:r.name)&&void 0!==n?n:"")),this.playerCtrl.dispose(),this.playerCtrl=null,ut(this,T,null,"f")}catch(e){this.log("Could not dispose of errored plugin",e)}this.isFullscreen&&this.setFullscreenInternal(!1),null===(a=this.errorCtrl)||void 0===a||a.throwError(b.h.ERROR_PLAYBACK,!0)}}forcePlugin(t){var i,r;null!==this.playerCtrl&&(this.log("Disposing current plugin: "+(null!==(r=null===(i=dt(this,T,"f"))||void 0===i?void 0:i.name)&&void 0!==r?r:"")),this.playerCtrl.dispose(),this.playerCtrl=null,ut(this,T,null,"f")),Ze._.prebuild(this),ut(this,T,ut(this,k,t,"f"),"f"),this.log("{M:"+this.currentMedia+"} Initializing plugin: "+dt(this,T,"f").name,dt(this,T,"f")),dt(this,T,"f").library(this.model.playerConfig,this.model.mediaCollection).then((t=>{var i;this.log("{M:"+this.currentMedia+"} Plugin library loaded: "+(null===(i=dt(this,T,"f"))||void 0===i?void 0:i.name)),dt(this,f,"f")||(new t.Generator).execute(this,(i=>{var r,n,a,s,l,d,u,c,h;if(this.log("{M:"+this.currentMedia+"} Plugin generator executed: "+(null===(r=dt(this,T,"f"))||void 0===r?void 0:r.name)),dt(this,f,"f"))return;this.setCtrl(new t.Controller(this,i)),null===(n=dt(this,o,"f"))||void 0===n||n.setMediaCanvas(i instanceof HTMLMediaElement?i:null),null===(a=dt(this,o,"f"))||void 0===a||a.showBufferingIndicator();let p=this.currentMedia;!1===p?p=dt(this,e,"f")[0][0]:(g.K.setLastMime(this,null!==(l=null===(s=this.currentStream)||void 0===s?void 0:s.media[p].mimeType)&&void 0!==l?l:""),g.K.setLastResolution(this,null!==(u=null===(d=this.currentStream)||void 0===d?void 0:d.media[p].maxHResolutionPx)&&void 0!==u?u:-1));const v=null===(c=this.currentStream)||void 0===c?void 0:c.media[p];v&&(null===(h=this.getCtrl())||void 0===h||h.loadStream(v)),this.loop.dispatchEvent(ie.EVENT_READY,{})}))}))}removeForcedPlugin(){null!==dt(this,k,"f")&&(ut(this,k,null,"f"),this.switchMedium(this.currentMedia,!1))}getId(){return dt(this,s,"f")}getTarget(){return dt(this,l,"f")}get isMuted(){return this.checkState(),g.K.muted(this)}setMuted(e){return this.setMutedInternal(e)}setMutedInternal(e){return this.checkState(),null!==dt(this,o,"f")&&(dt(this,o,"f").setVolumeMuted(e,!0,!0),e||dt(this,o,"f").volumeLevel/100!=0||dt(this,o,"f").setVolumeLevel(100,!0,!1,!0,!0),!0)}getVolume(){var e,t;return this.checkState(),null!==(t=null===(e=this.getCtrl())||void 0===e?void 0:e.getVolume())&&void 0!==t?t:g.K.volume(this)}setVolume(e){return this.setVolumeInternal(e)}setVolumeInternal(e){return this.checkState(),null!==dt(this,o,"f")&&(dt(this,o,"f").setVolumeLevel(Math.max(0,Math.min(e,100)),!0,!1,!0,!0),!0)}play(){return this.playInternal()}playInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.play(),this.playerCtrl):(this.initialLoad(),null)}stop(){return this.stopInternal()}stopInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.stop(),this.playerCtrl):null}pause(){return this.pauseInternal()}pauseInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.pause(),this.playerCtrl):null}setPlaybackRate(e){this.setPlaybackRateInternal(e)}setPlaybackRateInternal(e){var t;this.checkState(),this.model.playbackRate=e,null===(t=this.playerCtrl)||void 0===t||t.setPlaybackRate(e)}getCurrentTime(){return null!==this.playerCtrl?this.playerCtrl.getCurrentTime():0}getDuration(){return null!==this.playerCtrl?this.playerCtrl.getDuration():0}resume(){return this.resumeInternal()}resumeInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.play(),this.playerCtrl):null}seekTo(e){return this.seekToInternal(e)}seekToInternal(e){return this.checkState(),null!==this.playerCtrl?(this.preserveExecutionContext(ie.EVENT_SEEK_START),this.playerCtrl.setCurrentTime(e),this.playerCtrl):(this.model.time=e,null)}seekToLive(){return this.seekToLiveInternal()}seekToLiveInternal(){return this.checkState(),null!==this.playerCtrl&&(this.preserveExecutionContext(ie.EVENT_SEEK_START),this.playerCtrl.seekToLive()),this}seekToAndPlay(e){return this.seekToAndPlayInternal(e)}seekToAndPlayInternal(e){var t;return this.checkState(),null!==this.playerCtrl?(null===(t=this.seekToInternal(e))||void 0===t||t.play(),this.playerCtrl):(this.seekToInternal(e),this.playInternal(),null)}setSticky(e){return this.setStickyInternal(e)}setStickyInternal(e){var t,i;return this.checkState(),null!==(i=null===(t=this.viewCtrl)||void 0===t?void 0:t.setSticky(e))&&void 0!==i&&i}setFullscreen(e){this.setFullscreenInternal(e)}setFullscreenInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.setFullscreen(e)}setVideoScale(e){this.setVideoScaleInternal(e)}setVideoScaleInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.setVideoScale(e)}setForceButtonHidden(e,t){this.setForceButtonHiddenInternal(e,t)}setForceButtonHiddenInternal(e,t){var i;switch(this.checkState(),e){case"BackButton":this.viewCtrl.toggleUIElementHidden("BackButton",t);break;case"FullscreenButton":this.viewCtrl.toggleUIElementHidden("FullscreenButton",t);break;default:t?dt(this,d,"f").add(e):dt(this,d,"f").delete(e),null===(i=this.addons.find((t=>t.ID===e&&t instanceof Xe.Ky)))||void 0===i||i.setButtonRenderingPrevented(t)}}setForceUIHidden(e){this.setForceUIHiddenInternal(e)}setForceUIHiddenInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.toggleForceControlsHidden("PlayerAPI",e)}setIsPip(e){this.setIsPipInternal(e)}setIsPipInternal(e){this.checkState(),this.loop.dispatchEvent(S.q.isEmbedded?ie.PIP_STATUS_CHANGE:ie.PIP_CHANGE_REQUEST,{active:e})}setForceControlsVisible(e){this.setForceControlsVisibleInternal(e)}setForceControlsVisibleInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.toggleForceOver("PlayerAPI",e)}dispatchEvent(e,t){super.dispatchEvent(e,t)}get $(){return this}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.iV.log("[Player]",...t)}};return e=new WeakMap,t=new WeakMap,s=new WeakMap,l=new WeakMap,o=new WeakMap,d=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,C=new WeakMap,T=new WeakMap,k=new WeakMap,_=new WeakMap,ct(P,"Player"),L=[(0,a.w6)({type:"lifecycle",initiator:"set-config"})],x=[(0,a.w6)({type:"lifecycle",initiator:"dispose-addons"})],M=[(0,a.w6)({type:"lifecycle",initiator:"finalErrorShutdown"})],O=[(0,a.w6)({type:"lifecycle",initiator:"dispose"})],D=[(0,a.w6)({type:"lifecycle",initiator:"ready"})],V=[a.j6],N=[a.j6],R=[a.j6],B=[a.j6],U=[a.j6],F=[a.j6],j=[a.j6],K=[a.j6],q=[a.j6],W=[a.j6],z=[a.j6],G=[a.j6],J=[a.j6],Y=[a.j6],Q=[a.j6],$=[a.j6],Z=[a.j6],ot(P,null,L,{kind:"method",name:"setConfig",static:!1,private:!1,access:{has:e=>"setConfig"in e,get:e=>e.setConfig}},null,te),ot(P,null,x,{kind:"method",name:"disposeAddons",static:!1,private:!1,access:{has:e=>"disposeAddons"in e,get:e=>e.disposeAddons}},null,te),ot(P,null,M,{kind:"method",name:"finalErrorShutdown",static:!1,private:!1,access:{has:e=>"finalErrorShutdown"in e,get:e=>e.finalErrorShutdown}},null,te),ot(P,null,O,{kind:"method",name:"dispose",static:!1,private:!1,access:{has:e=>"dispose"in e,get:e=>e.dispose}},null,te),ot(P,null,D,{kind:"method",name:"ready",static:!1,private:!1,access:{has:e=>"ready"in e,get:e=>e.ready}},null,te),ot(P,null,V,{kind:"method",name:"setMuted",static:!1,private:!1,access:{has:e=>"setMuted"in e,get:e=>e.setMuted}},null,te),ot(P,null,N,{kind:"method",name:"setVolume",static:!1,private:!1,access:{has:e=>"setVolume"in e,get:e=>e.setVolume}},null,te),ot(P,null,R,{kind:"method",name:"play",static:!1,private:!1,access:{has:e=>"play"in e,get:e=>e.play}},null,te),ot(P,null,B,{kind:"method",name:"stop",static:!1,private:!1,access:{has:e=>"stop"in e,get:e=>e.stop}},null,te),ot(P,null,U,{kind:"method",name:"pause",static:!1,private:!1,access:{has:e=>"pause"in e,get:e=>e.pause}},null,te),ot(P,null,F,{kind:"method",name:"setPlaybackRate",static:!1,private:!1,access:{has:e=>"setPlaybackRate"in e,get:e=>e.setPlaybackRate}},null,te),ot(P,null,j,{kind:"method",name:"resume",static:!1,private:!1,access:{has:e=>"resume"in e,get:e=>e.resume}},null,te),ot(P,null,K,{kind:"method",name:"seekTo",static:!1,private:!1,access:{has:e=>"seekTo"in e,get:e=>e.seekTo}},null,te),ot(P,null,q,{kind:"method",name:"seekToLive",static:!1,private:!1,access:{has:e=>"seekToLive"in e,get:e=>e.seekToLive}},null,te),ot(P,null,W,{kind:"method",name:"seekToAndPlay",static:!1,private:!1,access:{has:e=>"seekToAndPlay"in e,get:e=>e.seekToAndPlay}},null,te),ot(P,null,z,{kind:"method",name:"setSticky",static:!1,private:!1,access:{has:e=>"setSticky"in e,get:e=>e.setSticky}},null,te),ot(P,null,G,{kind:"method",name:"setFullscreen",static:!1,private:!1,access:{has:e=>"setFullscreen"in e,get:e=>e.setFullscreen}},null,te),ot(P,null,J,{kind:"method",name:"setVideoScale",static:!1,private:!1,access:{has:e=>"setVideoScale"in e,get:e=>e.setVideoScale}},null,te),ot(P,null,Y,{kind:"method",name:"setForceButtonHidden",static:!1,private:!1,access:{has:e=>"setForceButtonHidden"in e,get:e=>e.setForceButtonHidden}},null,te),ot(P,null,Q,{kind:"method",name:"setForceUIHidden",static:!1,private:!1,access:{has:e=>"setForceUIHidden"in e,get:e=>e.setForceUIHidden}},null,te),ot(P,null,$,{kind:"method",name:"setIsPip",static:!1,private:!1,access:{has:e=>"setIsPip"in e,get:e=>e.setIsPip}},null,te),ot(P,null,Z,{kind:"method",name:"setForceControlsVisible",static:!1,private:!1,access:{has:e=>"setForceControlsVisible"in e,get:e=>e.setForceControlsVisible}},null,te),ot(null,I={value:P},X,{kind:"class",name:P.name},null,ee),ie=P=I.value,P.RECONFIGURE="Player.RECONFIGURE",P.EVENT_INIT="Player.EVENT_INIT",P.EVENT_READY="Player.EVENT_READY",P.EVENT_STATUS_CHANGE="Player.EVENT_STATUS_CHANGE",P.EVENT_QUALITY_CHANGE="Player.EVENT_QUALITY_CHANGE",P.EVENT_MEDIUM_CHANGE="Player.EVENT_MEDIUM_CHANGE",P.EVENT_ERROR="Player.EVENT_ERROR",P.EVENT_LOAD_STREAM="Player.EVENT_LOAD_STREAM",P.EVENT_STREAM_LOADED="Player.EVENT_STREAM_LOADED",P.EVENT_INITIAL_FRAME="Player.EVENT_INITIAL_FRAME",P.EVENT_PLAY_STREAM="Player.EVENT_PLAY_STREAM",P.EVENT_AUTOPLAY_STREAM_PROHIBITED="Player.EVENT_AUTOPLAY_STREAM_PROHIBITED",P.EVENT_END_STREAM="Player.EVENT_END_STREAM",P.EVENT_PAUSE_STREAM="Player.EVENT_PAUSE_STREAM",P.EVENT_SEEK_START="Player.EVENT_SEEK_START",P.EVENT_SEEK_START_INTENT="Player.EVENT_SEEK_START_INTENT",P.EVENT_SEEK_END="Player.EVENT_SEEK_END",P.EVENT_STOP_STREAM="Player.EVENT_STOP_STREAM",P.EVENT_BUFFERING="Player.EVENT_BUFFERING",P.EVENT_DVR_CHANGE="Player.EVENT_DVR_CHANGE",P.PLAYBACK_RATE_CHANGE="Player.PLAYBACK_RATE_CHANGE",P.EVENT_UPDATE_STREAM_TIME="Player.EVENT_UPDATE_STREAM_TIME",P.EVENT_UPDATE_STREAM_DURATION="Player.EVENT_UPDATE_STREAM_DURATION",P.EVENT_KEYBOARD_RELEASE="Player.EVENT_KEYBOARD_RELEASE",P.EVENT_CTRLBAR_FADEOUT="Player.EVENT_CTRLBAR_FADEOUT",P.EVENT_CTRLBAR_FADEIN="Player.EVENT_CTRLBAR_FADEIN",P.EVENT_SHOW_OPTIONS="Player.EVENT_SHOW_OPTIONS",P.VIEW_RESTORE_DEFAULTS="Player.VIEW_RESTORE_DEFAULTS",P.SETUP_VIEW="Player.SETUP_VIEW",P.SETUP_VIEW_COMPLETE="Player.SETUP_VIEW_COMPLETE",P.VIEWPORT_RESIZE="Player.VIEWPORT_RESIZE",P.TOGGLE_FULLSCREEN="Player.TOGGLE_FULLSCREEN",P.AUDIO_TRACK_LIST_CHANGED="Player.AUDIO_TRACK_LIST_CHANGED",P.CURRENT_AUDIO_TRACK_CHANGED="Player.CURRENT_AUDIO_TRACK_CHANGED",P.MATURITY_LOGIN="Player.MATURITY_LOGIN",P.BACK_BUTTON_PRESSED="Player.BACK_BUTTON_PRESSED",P.EMBED_BUTTON_PRESSED="Player.EMBED_BUTTON_PRESSED",P.POSTER_FRAME_PRESSED="Player.POSTER_FRAME_PRESSED",P.STICKY_STATE_CHANGED="Player.STICKY_STATE_CHANGED",P.TITLE_TEXT_CLICKED="Player.TITLE_TEXT_CLICKED",P.REMOTE_PLAYBACK_CHANGED="Player.REMOTE_PLAYBACK_CHANGED",P.PIP_CHANGE_REQUEST="Player.PIP_CHANGE_REQUEST",P.PIP_STATUS_CHANGE="Player.PIP_STATUS_CHANGE",P.__timersFrozen=!1,P.__deferrals=[],lt(P,ee),ie=P})()},4178:function(e,t,i){"use strict";i.d(t,{VP:function(){return n},fD:function(){return l},j6:function(){return a},w6:function(){return s}});var r=i(1225);function n(e,t){t.addInitializer((function(){Object.seal(e),Object.seal(e.prototype)}))}function a(e,t){let i={executionContextProvider:null};return t.addInitializer((function(){i=this})),function(){for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];const o=String(t.name)+"("+a.join(", ")+")";r.iV.info("[Player][API]",o);const d=i.executionContextProvider;return null==d||null==s?e.call(this,...a):d.withExecutionContext({type:"api",initiator:o},(()=>e.call(this,...a)))}}function s(e){return function(t,i){let r={executionContextProvider:null};return i.addInitializer((function(){r=this})),function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];const s=r.executionContextProvider;return null==s||null==e?t.call(this,...n):s.withExecutionContext(e,(()=>t.call(this,...n)))}}}function l(e,t){return void 0===t&&(t=null),function(i,r){let n={executionContextProvider:null};return r.addInitializer((function(){n=this})),function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var l;const o=n.executionContextProvider;return null==o?i.call(this,...a):o.withOptionalExecutionContext(null!==(l=o.getPreservedExecutionContext(e))&&void 0!==l?l:t,(()=>i.call(this,...a)))}}}},3197:function(e,t,i){"use strict";i.d(t,{n3:function(){return l},n6:function(){return o},of:function(){return s},pr:function(){return p}});var r=i(1225),n=i(5855),a=i(6735);function s(e){if(!e)return null;const t=e.querySelectorAll('[tabindex]:not([tabindex^="-"])');for(let i=0;i<t.length;i++){const e=t[i];if(l(e))return e}return null}function l(e){var t;return null!==(null!==(t=null==e?void 0:e.offsetParent)&&void 0!==t?t:null)}function o(e,t){if(void 0===t&&(t=!1),r.iV.log("[ARDP][SafeFocus]",null==e?void 0:e.className,t),e&&l(e)){const i=e.tabIndex;return e.tabIndex=0,e.blur(),t&&e.offsetParent&&((e.offsetParent.scrollTop>e.offsetTop||e.offsetParent.scrollTop+e.offsetParent.clientHeight<e.offsetTop+e.clientHeight)&&(e.offsetParent.scrollTop=Math.min(e.offsetParent.scrollHeight-e.offsetParent.clientHeight,Math.max(0,e.offsetTop-10))),(e.offsetParent.scrollLeft>e.offsetLeft||e.offsetParent.scrollLeft+e.offsetParent.clientWidth<e.offsetLeft+e.clientWidth)&&(e.offsetParent.scrollLeft=Math.min(e.offsetParent.scrollHeight-e.offsetParent.clientWidth,Math.max(e.offsetLeft-10,0)))),e.focus({preventScroll:!0}),e.tabIndex=i,!0}return!1}const d=[],u=()=>{d.forEach((e=>delete e._cachedBoundingRect)),d.splice(0)},c=e=>(e._cachedBoundingRect||(e._cachedBoundingRect=e.getBoundingClientRect(),d.push(e)),e._cachedBoundingRect),h=(e,t)=>c(e).left-c(t).left;function p(e,t,i,s,d,p){var v,m;void 0===i&&(i=!1),void 0===s&&(s=null),void 0===d&&(d=!1),void 0===p&&(p=!1);const f=null!=s?s:document.activeElement;if(e&&f&&(p||e.contains(f))){const r=[];e.querySelectorAll('[tabindex]:not([tabindex^="-"]):not([disabled])').forEach((t=>{var i,s,o;if(l(t)){const l="true"===t.dataset.verticalNavAbsPos?t:null!==(i=t.parentElement)&&void 0!==i?i:t,d=r.find((e=>e.parent===l||!e.isPositioned&&Math.abs(c(e.parent).top-c(l).top)<5));if(d)d.children.push(t),d.current=d.current||f===t,null===(s=d.debugParents)||void 0===s||s.add(l);else{const i=parseInt(null!==(o=l.dataset.verticalNavOffset)&&void 0!==o?o:"0"),s=(0,a.fp)(l.dataset.verticalNavBefore)?null:e.querySelector(l.dataset.verticalNavBefore),d=(0,a.fp)(l.dataset.verticalNavAfter)?null:e.querySelector(l.dataset.verticalNavAfter);r.unshift({parent:l,debugParents:n.q.isDebugVerboseUI?new Set([l]):null,parentTop:c(l).top,parentLeft:c(l).left,vBefore:s,vAfter:d,vOffset:i,isPositioned:0!==i||null!=s||null!=d,children:[t],current:f===t})}}})),r.sort(((e,t)=>{const i=e.parentTop-t.parentTop;return 0!==i?i:e.parentLeft-t.parentLeft}));for(let e=0;e<r.length;e++){if(r[e].vBefore){const t=r.findIndex((t=>t.parent===r[e].vBefore));r[e].vBefore=null,-1!==t&&(r[e].vOffset=t-e)}if(r[e].vAfter){const t=r.findIndex((t=>t.parent===r[e].vAfter));r[e].vAfter=null,-1!==t&&(r[e].vOffset=t-e)}if(0!==r[e].vOffset){const t=Math.max(0,Math.min(e+r[e].vOffset,r.length-1)),i=r.splice(e,1)[0];i.vOffset=0,r.splice(t,0,i)}}const s=r.findIndex((e=>e.current));let p,y=-1,g=!1,b=!1;if(-1!==s)if(i){r[s].children.sort(h);const e=r[s].children.findIndex((e=>e===f));t?e<r[s].children.length-1?(y=e+1,p=s):(p=s<r.length-1?s+1:s,y=s!==p?0:r[s].children.length-1,b=!(Math.abs(r[s].parentTop-r[p].parentTop)<5)):e>0?(y=e-1,p=s):(p=s>0?s-1:0,g=s>0,b=!(Math.abs(r[s].parentTop-r[p].parentTop)<5))}else{if(t)for(p=s+1;p<r.length&&Math.abs(r[s].parentTop-r[p].parentTop)<5;)p+=1;else{for(p=s;p>0&&Math.abs(r[s].parentTop-r[p].parentTop)<5;)p-=1;for(;p>0&&Math.abs(r[p-1].parentTop-r[p].parentTop)<5;)p-=1;Math.abs(r[s].parentTop-r[p].parentTop)<5&&(p=-1)}p<0?(p=0,b=!0):p>=r.length&&(p=r.length-1,g=!0,b=!0)}else p=t?0:r.length-1,g=!t;if(-1!==p)return b&&n.q.isEmbedded?(u(),!0):(p!==s&&r[p].children.sort(h),g?y=r[p].children.length-1:(!i||y<0)&&(y=0),u(),(f!==r[p].children[y]||!(0===p&&0===y||p===r.length-1&&y===r[p].children.length-1))&&(n.q.isDebugVerboseUI&&(-1!==s&&(null===(v=r[s].debugParents)||void 0===v||v.forEach((e=>{e.style.backgroundColor="#ff000066"}))),f.style.backgroundColor="#ffff0066",null===(m=r[p].debugParents)||void 0===m||m.forEach((e=>{e.style.backgroundColor="#0000ff66"})),r[p].children[y].style.backgroundColor="#00ff0066",setTimeout((()=>{var e,t;-1!==s&&(null===(e=r[s].debugParents)||void 0===e||e.forEach((e=>{e.style.backgroundColor=""}))),f.style.backgroundColor="",null===(t=r[p].debugParents)||void 0===t||t.forEach((e=>{e.style.backgroundColor=""})),r[p].children[y].style.backgroundColor=""}),300)),o(r[p].children[y],d)))}return u(),r.iV.log("movefocus reject - invalid args"),!1}},1821:function(e,t,i){"use strict";i.d(t,{_:function(){return c}});var r,n,a=i(6735),s=i(5855),l=i(1225),o=i(4736),d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},u=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class c{static get mobileAudioAutoplayEnabled(){return d(this,r,"f",n)}static prebuild(e){this.createVideo(e,!0),this.createAudio(e,!0)}static createVideo(e,t){void 0===t&&(t=!1);const i=this.getMediaElement("video",e);return i.poster="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t||this.registerFirstFrameHandler(e,i),i}static createAudio(e,t){void 0===t&&(t=!1);const i=this.getMediaElement("audio",e);return t||this.registerFirstFrameHandler(e,i),i}static prepareAudioAutoplay(e,t){l.iV.info("try mobile audio autoplay workaround");let i=!1;const s=e=>{if(!i){i=!0;try{null==e||e.pause(),(0,a.cS)(e)}catch(e){}t()}};try{const t=this.getMediaElement("audio",e),i=document.createElement("source");i.src=this.createSilentAudioBlob(2),i.type="audio/wav",t.appendChild(i);const a=t.play();null!=a?a.then((()=>{l.iV.log("autoplay success"),u(this,r,!0,"f",n),s(t)}),(e=>{l.iV.log("autoplay rejected",e),u(this,r,!1,"f",n),s(t)})).catch((e=>{l.iV.log("autoplay error",e),u(this,r,!1,"f",n),s(t)})):(l.iV.log("autoplay state uncertain"),s(t))}catch(e){l.iV.log("autoplay preparation failed!",e),s()}finally{e.safeTimeout(s,250)}}static resetPlayer(e){this.registerFirstFrameHandler(e,this.htmlMECache[e.getId()+"_video"]),this.registerFirstFrameHandler(e,this.htmlMECache[e.getId()+"_audio"])}static disposePlayer(e){e.log("disposing media element cache"),this.resetElement(this.htmlMECache[e.getId()+"_video"]),this.resetElement(this.htmlMECache[e.getId()+"_audio"]),delete this.htmlMECache[e.getId()+"_video"],delete this.htmlMECache[e.getId()+"_audio"]}static resetElement(e){e&&(e.src="",(0,a.cS)(e))}static getMediaElement(e,t){const i=t.getId()+"_"+e;if(void 0!==this.htmlMECache[i])return this.htmlMECache[i];const r=document.createElement(e);return r.dataset.uuid=(0,a.HP)(),r.setAttribute("playsinline","true"),r.setAttribute("preload","auto"),"audio"!==e&&r.setAttribute("crossorigin","anonymous"),r.tabIndex=-1,s.q.browserIsSafari||s.q.isIOSDevice||(r.disableRemotePlayback=!0),s.q.isAndroidDevice&&r.setAttribute("controlsList","nodownload"),this.htmlMECache[i]=r,r}static registerFirstFrameHandler(e,t){if(t){let i=2;const r=n=>{i--,t.removeEventListener(n.type,r),i<=0&&e.safeTimeoutWithContext(e.getPreservedExecutionContext(o.J.EVENT_PLAY_STREAM),(()=>{e.loop.dispatchEvent(o.J.EVENT_INITIAL_FRAME,{})}))};t.addEventListener("canplay",r),t.addEventListener("play",r)}}constructor(){this.createVideo=e=>c.createVideo(e),l.iV.error("Constructing instance of static class Html5MEFactory - this will break in future versions!")}static createSilentAudioBlob(e,t){void 0===t&&(t=44100);const i=e*t,r=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;if(!r)throw new Error("No AudioContext");const n=(new r).createBuffer(1,i,t);return URL.createObjectURL(c.bufferToWaveBlob(n,i))}static bufferToWaveBlob(e,t){const i=e=>{l.setUint16(h,e,!0),h+=2},r=e=>{l.setUint32(h,e,!0),h+=4},n=e.numberOfChannels,a=t*n*2+44,s=new ArrayBuffer(a),l=new DataView(s),o=[];let d,u,c=0,h=0;for(r(1179011410),r(a-8),r(1163280727),r(544501094),r(16),i(1),i(n),r(e.sampleRate),r(2*e.sampleRate*n),i(2*n),i(16),r(1635017060),r(a-h-4),d=0;d<e.numberOfChannels;d++)o.push(e.getChannelData(d));for(;h<a;){for(d=0;d<n;d++)u=Math.max(-1,Math.min(1,o[d][c])),u=0|(.5+u<0?32768*u:32767*u),l.setInt16(h,u,!0),h+=2;c++}return new Blob([s],{type:"audio/wav"})}}r=c,c.htmlMECache={},n={value:!1}},9803:function(e,t,i){"use strict";i.d(t,{g0:function(){return s},rJ:function(){return a}});var r=i(6735),n=i(5855);function a(e,t,i){var a;if(!e)return;const s=null!==(a=e.querySelector("img"))&&void 0!==a?a:document.createElement("img");(0,r.cS)(e);const o=function(e,t){if(!t)return[];let i=l([e],t);return i=i.length>0?i:[],i.map((e=>({metaImage:e,resolved:t.playerConfig.generic.imageTemplateConfig.resolveTemplate(e.url)})))}(t,i);if(0===o.length||!o.some((e=>e.resolved.length>0)))return;let d=null;const u=/\.(jpe?g|png)(\?.*)?$/i,c=i.mediaCollection.isAudioOnly?80:i.player.getTarget().offsetWidth;o.forEach((t=>{if(0!==t.resolved.length){if(!n.q.browserIsSafari){const i=document.createElement("source");i.srcset=t.resolved.map((e=>e.url+" "+Math.max(1,e.minWidth)+"w")).join(", ");const n=function(e){if(!(0,r.fp)(e)){if(/\.(p?jpe?g|jfif)(\?.*)?/i.test(e))return"image/jpeg";const t=/\.(a?png|webp|gif|avif|hei[cf])(\?.*)?/i;if(t.test(e)){const i=e.match(t);if(i&&i.length>1)return"image/"+i[1]}if(/\.svg(\?.*)?/i.test(e))return"image/svg+xml"}return null}(t.metaImage.url);n&&(i.type=n),e.append(i)}if(!d)for(let e=0;e<t.resolved.length;e++)(!d||t.resolved[e].minWidth<=1.5*c)&&u.test(t.resolved[e].url)&&(d=t.resolved[e].url)}})),s.src=null!=d?d:o[0].resolved[0].url,e.append(s)}function s(e,t){const i=new Set,n=new Set,a=new Set;return l(e,t).forEach((e=>{(0,r.fp)(e.imageSourceName)||i.add(e.imageSourceName),(0,r.fp)(e.alt)||n.add(e.alt),(0,r.fp)(e.title)||a.add(e.title)})),{imageSourceName:0===i.size?null:[...i].join(", "),alt:0===n.size?null:[...n].join(", "),title:0===a.size?null:[...a].join(", ")}}function l(e,t){var i,n;let a=null!==(i=t.mediaCollection.meta.images.filter((t=>e.includes(t.kind)&&!(0,r.fp)(t.url))))&&void 0!==i?i:[];return 0!==a.length||!e.includes("preview")&&(a=null!==(n=t.mediaCollection.meta.images.filter((e=>"preview"===e.kind&&!(0,r.fp)(e.url))))&&void 0!==n?n:[],a.length>0)?a:t.mediaCollection.meta.images.filter((e=>!(0,r.fp)(e.url)))}},5996:function(e,t,i){"use strict";i.d(t,{K:function(){return c}});var r=i(8771),n=i(6735),a=i(1225),s=i(5855),l=i(4178),o=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},d=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},u=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let c=(()=>{let e,t,i=[l.VP],c=[];var h=t=class{static get AVAILABLE(){return this._AVAILABLE}constructor(e,t){this.identifier=e,this.settingsSuffix=t,this.storageListeners=new Set,h.instances[e]=this,this.checkAvailability()}static resetSingleton(){h.instances={}}static disposeInstance(e){(0,n.fp)(e)||(a.iV.log("[Storage]","disposing instance",e),delete h.instances[e])}static getInstance(e,t){var i;if((0,n.fp)(e))throw new Error(r.h.IDENTIFIER_IS_UNDEFINED);return null!==(i=this.instances[e])&&void 0!==i?i:new h(e,t)}static for(e){return h.getInstance(e.getId(),e.isAudio?h.settingsSuffixAudio:h.settingsSuffixVideo)}checkAvailability(){if(!h._AVAILABLE)try{"undefined"!=typeof localStorage?(localStorage.setItem("ls_feature_test","available"),"available"===localStorage.getItem("ls_feature_test")&&(localStorage.removeItem("ls_feature_test"),h._AVAILABLE=!0)):h._AVAILABLE=!1}catch(e){}}static set(e,t){try{const i=Object.assign({},this.get(e),t);localStorage.setItem(this.settingsKey+e,JSON.stringify(i))}catch(e){}}static add(e,t,i,r,n,a){if(void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===a&&(a=!0),r)try{localStorage.setItem(this.settingsKey+e+"."+t,i)}catch(e){}else this.set(e,{[t]:i});n&&h.notify(e,t,i,a)}add(e,t,i,r,n){void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n=!0),h.add(this.settingsSuffix,e,t,i,r,n)}static notify(e,t,i,r){void 0===r&&(r=!0),a.iV.log("[Storage]","notify",t,i,r),Object.keys(this.instances).forEach((n=>{(r||this.instances[n].settingsSuffix===e)&&this.instances[n].notify(t,i)}))}notify(e,t){this.storageListeners.forEach((i=>{i.onStorageValueChanged(e,t)}))}static get(e,t,i,r){var a,s;if(void 0===t&&(t=""),void 0===i&&(i=!1),void 0===r&&(r={}),i)try{return null!==(a=localStorage.getItem(this.settingsKey+e+"."+t))&&void 0!==a?a:r}catch(e){}else try{const i=JSON.parse(null!==(s=localStorage.getItem(this.settingsKey+e))&&void 0!==s?s:"{}");return(0,n.fp)(t)?i:void 0!==i[t]?i[t]:r}catch(e){}return r}get(e,t,i){return void 0===e&&(e=""),void 0===t&&(t=!1),void 0===i&&(i={}),h.get(this.settingsSuffix,e,t,i)}static remove(e,t,i){if(void 0===i&&(i=!1),i)try{localStorage.removeItem(this.settingsKey+e+"."+t)}catch(e){}else{let i={};(0,n.fp)(t)||(i=this.get(e),delete i[t]);try{localStorage.setItem(this.settingsKey+e,JSON.stringify(i))}catch(e){}}}static lastMime(e){const t=h.for(e).get(h.QUALITY_MIME);return"string"==typeof t?t:""}static setLastMime(e,t){h.for(e).add(h.QUALITY_MIME,t)}static lastResolution(e){const t=h.for(e).get(h.QUALITY_RESOLUTION);return isNaN(t)?-1:parseInt(t)}static setLastResolution(e,t){h.for(e).add(h.QUALITY_RESOLUTION,t)}static isSubtitlePreferenceSet(e){return null!==h.for(e).get(h.SUBTITLE_ENABLED,!1,null)}static subtitleEnabled(e){var t;return null!==(t=h.for(e).get(h.SUBTITLE_ENABLED,!1,!1))&&void 0!==t&&t}static muted(e){const t=h.for(e).get(h.VOLUME_MUTE,!1,!1);return void 0===t?null!=h._muted&&h._muted:t}static setMuted(e,t){h._muted=t,h.for(e).add(h.VOLUME_MUTE,t)}static volume(e){if(s.q.isMobileDevice||s.q.isEmbedded)return 100;const t=Number(h.for(e).get(h.VOLUME_VALUE));return isNaN(t)?null==h._volume?100:0:t>0&&t<=1?100*t:t}static setVolume(e,t){h._volume=t,h.for(e).add(h.VOLUME_VALUE,t)}};return u(t,"Storage"),o(null,e={value:t},i,{kind:"class",name:t.name},null,c),h=t=e.value,t.LAST_VISIT="lastvisitedDate",t.DATE="currentDate",t.PLUGIN="lastUsedPlug-in",t.VOLUME_VALUE="changedVolumeValue",t.VOLUME_MUTE="changedMuteValue",t.SUBTITLE_ENABLED="showSubtitles",t.QUALITY_MIME="lastStreamMime",t.QUALITY_RESOLUTION="lastStreamRes",t.DEBUG="debug",t.CURRENT_PLAYERID="curpid",t.SUFFIX_GLOBAL="_global",t._AVAILABLE=!1,t.instances={},t.settingsKey="ard_mediathek_player_settings",t.settingsSuffixVideo="",t.settingsSuffixAudio="_audio",t._volume=null,t._muted=null,d(t,c),h=t})()},2009:function(e,t,i){"use strict";i.d(t,{J:function(){return h}});var r=i(4178),n=i(1225),a=i(5855),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,o=r.kind,d="getter"===o?"get":"setter"===o?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var v={};for(var m in r)v[m]="access"===m?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var f=(0,i[p])("accessor"===o?{get:c.get,set:c.set}:c[d],v);if("accessor"===o){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(l=s(f.get))&&(c.get=l),(l=s(f.set))&&(c.set=l),(l=s(f.init))&&n.push(l)}else(l=s(f))&&("field"===o?n.push(l):c[d]=l)}u&&Object.defineProperty(u,r.name,c),h=!0},l=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},o=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},d=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},u=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let c=(()=>{var e,t;let i,a,c=[r.VP],h=[];return a=class{constructor(){e.set(this,{}),t.set(this,void 0)}on(e,t){this.addEventListener(e,t)}off(t,i){void 0!==o(this,e,"f")&&(null==t||i?null==t?d(this,e,{},"f"):i&&this.removeEventListener(t,i):delete o(this,e,"f")[t])}dispatchEvent(e,t){this.dispatchEventInternal(Object.assign({type:e},t))}addEventListener(t,i){var r;void 0===o(this,e,"f")[t]&&(o(this,e,"f")[t]=new Set),null===(r=o(this,e,"f")[t])||void 0===r||r.add(i)}hasEventListener(t,i){var r,n;return null!==(n=null===(r=o(this,e,"f")[t])||void 0===r?void 0:r.has(i))&&void 0!==n&&n}removeEventListener(t,i){var r;null===(r=o(this,e,"f")[t])||void 0===r||r.delete(i)}addBroadcastListener(e){void 0===o(this,t,"f")&&d(this,t,new Set,"f"),o(this,t,"f").add(e)}removeBroadcastListener(e){var i;null===(i=o(this,t,"f"))||void 0===i||i.delete(e)}dispatchEventInternal(i){var r,a;null===(r=o(this,e,"f")[i.type])||void 0===r||r.forEach((e=>{try{e.call(this,i)}catch(t){n.iV.error("Error in event listener for '"+String(i.type)+"' - "+e.name+" -",t,e)}})),null===(a=o(this,t,"f"))||void 0===a||a.forEach((e=>{try{e.call(this,i)}catch(t){n.iV.error("Error in broadcast event listener for '"+String(i.type)+"' - "+e.name+" -",t,e)}}))}},e=new WeakMap,t=new WeakMap,u(a,"TypeSafeEventDispatcher"),s(null,i={value:a},c,{kind:"class",name:a.name},null,h),a=i.value,l(a,h),a})(),h=(()=>{let e,t,i=[r.VP],o=[];return t=class extends c{constructor(e){super(),this.eventDispatcherDelegate=e,this.eventDispatcherDelegate.registerDelegate(this)}dispatchEvent(e,t){const i=Object.assign({type:e},t);a.q.isDebugPlayerEvent&&n.iV.log("[EVENT]",i.type,i),this.eventDispatcherDelegate.withOptionalExecutionContext(this.eventDispatcherDelegate.getPreservedExecutionContext(i.type),(()=>{this.dispatchEventInternal(i),this.eventDispatcherDelegate.dispatchEventInternal(i)}))}dispose(){this.eventDispatcherDelegate.disposeDelegate(this)}},u(t,"DelegatingEventDispatcher"),s(null,e={value:t},i,{kind:"class",name:t.name},null,o),t=e.value,l(t,o),t})()},6735:function(e,t,i){"use strict";i.d(t,{HP:function(){return m},Iv:function(){return _},NZ:function(){return E},O2:function(){return v},RH:function(){return p},SL:function(){return g},Sz:function(){return k},Ue:function(){return d},Vl:function(){return C},We:function(){return f},ZA:function(){return o},cS:function(){return l},fd:function(){return P},fp:function(){return y},iM:function(){return A},l$:function(){return c},nr:function(){return u},nx:function(){return T},o8:function(){return S},s$:function(){return b},vY:function(){return I},vZ:function(){return w}});var r=i(5855),n=i(8254),a=i(5996),s=i(1225);function l(e){if(!e)return;const t=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.addEventListener("blur",t,{capture:!0});try{if(e.replaceChildren&&e.replaceChildren(),e.lastChild)for(;e.lastChild;)e.lastChild.remove()}catch(e){}e.removeEventListener("blur",t,{capture:!0})}function o(e,t){Object.keys(e).forEach((i=>{if(u(t,i))return void(e[i]=t[i]);const r="_"+i;u(t,r)&&(e[i]=t[r])}))}function d(e){if(Array.isArray(e))return e.map((e=>d(e)));const t={};return null!==e&&Object.keys(e).forEach((i=>{t[i.replace(/^_(.+)$/,"$1")]="object"==typeof e[i]?d(e[i]):e[i]})),t}function u(e,t){return!E(e)&&Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return!E(e)&&t in e}function h(e){var t,i,r,n;if(!e)return;for(let s=(null!==(i=null===(t=e.attributes)||void 0===t?void 0:t.length)&&void 0!==i?i:0)-1;s>=0;s-=1){const t=e.attributes[s].name;"function"==typeof e[t]&&(e[t]=null)}const a=null!==(n=null===(r=null==e?void 0:e.childNodes)||void 0===r?void 0:r.length)&&void 0!==n?n:0;for(let s=0;s<a;s+=1)h(e.childNodes[s])}function p(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),Array.isArray(t))return t;const i=Object.assign(Object.assign({},e),t);for(const r of Object.keys(t)){if("__proto__"===r)continue;const n=e[r],a=t[r];b(n)?i[r]=p(n,a):S(n)&&(b(a)?i[r]=p(Array.isArray(a)?[]:{},a):S(a)||(i[r]=a))}return i}function v(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const l=0===t.length||"all"===t[0];t=t.filter((e=>"all"!==e.toLowerCase())),(l?n.S.getAllPlayer():n.S.getAllPlayer().filter((e=>e.getId()in t))).forEach((e=>{try{e.stopInternal()}catch(e){s.iV.error("could not stop player",e)}try{e.dispose()}catch(e){s.iV.error("could not dispose player",e)}n.S.forceRemovePlayer(e),n.S.autoPlayerAlreadyActive===e.getId()&&(n.S.autoPlayerAlreadyActive=!1);const t=e.getTarget();t.remove(),h(t)})),l&&(s.iV.info("purge singletons"),r.q.resetSingleton(),n.S.resetSingleton(),a.K.resetSingleton())}function m(){const e=[];for(let t=0;t<36;t++)e[t]=Math.floor(16*Math.random());e[14]=4,e[19]=8|e[19];for(let t=0;t<36;t++)e[t]="0123456789ABCDEF"[e[t]];return e[8]=e[13]=e[18]=e[23]="-",e.join("")}function f(e,t){var i,r,n;let a=null;0===(null!==(i=e.type)&&void 0!==i?i:"").indexOf("touch")||void 0!==window.TouchEvent&&e instanceof TouchEvent?c(e,"originalEvent")?a=e.originalEvent.changedTouches[0]:c(e,"changedTouches")&&(a=e.changedTouches[0]):a=e;const s=(null!=t?t:null==a?void 0:a.target).getBoundingClientRect();return{left:(null!==(r=null==a?void 0:a.clientX)&&void 0!==r?r:0)-s.left,top:(null!==(n=null==a?void 0:a.clientY)&&void 0!==n?n:0)-s.top}}function y(e){return E(e)||"string"!=typeof e||/^\s*$/.test(e)}function g(e){return!y(e)}function b(e){return"object"==typeof e&&null!==e}function E(e){return null===e||S(e)}function S(e){return void 0===e||void 0===e}function w(e,t){if(b(e)&&b(t)){for(const i in e)if(!w(e[i],t[i]))return!1;for(const i in t)if(!w(e[i],t[i]))return!1;return!0}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0;i<t.length;i++)if(!w(e[i],t[i]))return!1;return!0}return e===t}function C(e,t,i,r,n){if(E(e))return null;function a(e){var t;if(null!=r){const n=e.type.startsWith("touch")?"touch":e.type.endsWith("click")?"click":e.type.includes("key")?"keydown":"other",a=null!==(t=this.dataset.inititatorName)&&void 0!==t?t:this.tagName+"."+this.className;r.withExecutionContext({type:n,initiator:"other"===n?e.type+":"+a:a},(()=>{i.call(this,e)}))}else i.call(this,e)}return e.addEventListener(t,a,n),()=>{e.removeEventListener(t,a,n)}}function T(e,t,i,r){if(void 0===r&&(r=!0),E(e))return null;let n=0;function a(e){var a,l,o;-1===this.tabIndex||this.classList.contains("ardplayer-button-disabled")||r&&!(performance.now()-n>=150)||(i?i.withExecutionContext({type:null!==(l=null===(a=i.executionContext)||void 0===a?void 0:a.type)&&void 0!==l?l:"click",initiator:null!==(o=this.dataset.inititatorName)&&void 0!==o?o:this.tagName+"."+this.className},(()=>{t.call(this,e)})):(s.iV.info("synthClick without context",Error().stack),t.call(this,e)))}let l=!1;function o(e){var a;l||-1===this.tabIndex||this.classList.contains("ardplayer-button-disabled")||(i?i.withExecutionContext({type:"touch",initiator:null!==(a=this.dataset.inititatorName)&&void 0!==a?a:this.tagName+"."+this.className},(()=>{t.call(this,e)})):(s.iV.info("synthTouch without context",Error().stack),t.call(this,e)),r&&(n=performance.now(),e.cancelable&&e.preventDefault())),l=!1}const d=()=>{l=!1},u=()=>{l=!0};return e.addEventListener("click",a),e.addEventListener("touchend",o),e.addEventListener("touchstart",d,{passive:!0}),e.addEventListener("touchmove",u,{passive:!0}),()=>{e.removeEventListener("click",a),e.removeEventListener("touchend",o),e.removeEventListener("touchstart",d,{passive:!0}),e.removeEventListener("touchmove",u,{passive:!0})}}function A(e,t,i,r){var n;void 0===i&&(i=null),void 0===r&&(r=null);const a=document.createElement("script"),s=document.getElementsByTagName("script")[0];a.async=!0,a.onload=function(){a.onload=a.onerror=null,null!=i&&e.safeTimeout((()=>{i()}))},a.onerror=function(){a.onload=a.onerror=null,null!=r&&r()},a.src=t,null===(n=s.parentNode)||void 0===n||n.insertBefore(a,s)}function k(e,t){return!(y(e)||y(t)||e!==t&&I(e)!==I(t))}function _(e){return e<1280?e>=854?"SD 480p":e>=640?"SD 360p":e>=426?"SD 240p":"SD":e>7680?"UHD 8K":e>=5120?"UHD 5K":e>=3830?"UHD 4K":e>=2048?"Ultra HD":e>=1920?"Full HD":"HD Ready"}function I(e){switch(e=e.toLowerCase()){case"sgn":case"gsg":case"dgs":return"DGS";case"sgg":return"DSGS";case"ase":return"ASL";case"bfi":return"BSL";case"fsl":return"LSF";case"und":case"":return"Unbekannt"}if("function"==typeof Intl.DisplayNames)try{const t=new Intl.DisplayNames([e],{type:"language"}).of(e);if(t&&t!==e)return t.length<e.length?I(t):t}catch(t){s.iV.warn("could not resolve autonym",t instanceof Error?t.message:t,e)}switch(e){case"de":case"ger":case"deu":return"Deutsch";case"nds":return"Niederdeutsch";case"frs":return"Ostfriesisch";case"wep":return"Westf\xe4lisch";case"bar":return"Bairisch";case"gsw":return"Schwiizerd\xfctsch";case"nl":case"dut":case"nld":return"Nederlands";case"en":case"eng":return"English";case"fr":case"fre":case"fra":return"Fran\xe7ais";case"it":return"Italiano";case"es":return"Espa\xf1ol"}if(e.indexOf("-")>0){const t=I(e.split("-")[0]);if(t.toLowerCase()!==e)return t}return e.toUpperCase()}function P(){const e=new WeakSet;return function(t,i){if(i instanceof Error){const e=Object.assign({},i);return i.name&&(e.name=i.name),i.message&&(e.message=i.message),i.stack&&(e.stack=i.stack),e}if(i instanceof Event){const e=Object.assign({},i);return i.type&&(e.type=i.type),i.target&&(e.target=i.target instanceof Element?i.target.outerHTML:i.target.toString()),e}if("object"==typeof i&&null!==i){if(e.has(i))return"[RECURSION]";e.add(i)}return i}}},9825:function(e,t,i){"use strict";i.d(t,{B:function(){return l}});var r=i(5855),n=i(1225),a=i(6735);const s={isBlank:a.fp,isNotBlank:a.SL,nullish:a.NZ,isUndefined:a.o8,isNonNullObject:a.s$};class l{constructor(e){this.template=e}renderTemplateAsElement(e,t){void 0===t&&(t=!1);const i=document.createElement("div");return i.innerHTML=this.renderTemplate(e,t),i.firstElementChild}renderTemplate(e,t){void 0===t&&(t=!1);const i=Object.assign({Utils:s},e);try{if(r.q.isDebug&&"undefined"!=typeof Proxy&&!t){const t={get(e,i){if(i in e)return"object"==typeof e[i]&&null!==e[i]?new Proxy(e[i],t):e[i];n.iV.warn("[TemplateLoader]","reading undefined variable:",i)}};n.iV.groupCollapsed("[TemplateLoader]"),n.iV.info("[TemplateLoader]","render",this.template,"using",e);const r=this.template(new Proxy(i,t));return n.iV.groupEnd(),r}return this.template(i)}catch(t){throw n.iV.error("[TemplateLoader]","could not render template\n",this.template,"\nusing vars\n",e),t}}}},2333:function(e){const t={getUserAgent:function(){return window.navigator.userAgent},userAgentContains:function(e){return e=e.toLowerCase(),this.getUserAgent().toLowerCase().indexOf(e)>-1},isOSX:function(){return this.userAgentContains("Macintosh")},isFirefox:function(){return this.userAgentContains("firefox")},isInternetExplorer:function(){return this.userAgentContains("trident")},isIE:function(){var e=this.getUserAgent().toLowerCase();return e.indexOf("msie")>0||e.indexOf("trident/")>0},isEdge:function(){return this.getUserAgent().toLowerCase().indexOf("edge")>0},isChrome:function(){const e=window.chrome,t=window.navigator,i=t.vendor,r=void 0!==window.opr,n=t.userAgent.indexOf("Edge")>-1,a=t.userAgent.match("CriOS");return null!=e&&"Google Inc."===i&&!1===r&&!1===n||a},isOpera:function(){return this.userAgentContains(" OPR/")}};let i;const r=(e,t,i)=>e.addEventListener?(e.addEventListener(t,i),{remove:function(){e.removeEventListener(t,i)}}):(e.attachEvent(t,i),{remove:function(){e.detachEvent(t,i)}}),n=(e,t)=>{let i=document.createElement("iframe");return i.src=t,i.id="hiddenIframe",i.style.display="none",e.appendChild(i),i},a=(e,t,a)=>{const s=setTimeout((function(){t(),o.remove()}),i);let l=document.querySelector("#hiddenIframe");l||(l=n(document.body,"about:blank"));const o=r(window,"blur",(()=>{clearTimeout(s),o.remove(),a()}));l.contentWindow.location.href=e};e.exports=(e,s,l,o=2e3,d)=>{const u=()=>{s&&s()},c=()=>{l&&l()},h=()=>{t.isFirefox()?(()=>{const e=window.navigator.userAgent;let t,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],parseFloat(t[1])||""):"Chrome"===i[1]&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),null!=t)?parseFloat(t[2]):(i=i[2]?[i[1],i[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),parseFloat(i[1]))})()>=64?a(e,u,c):((e,t,i)=>{let r=document.querySelector("#hiddenIframe");r||(r=n(document.body,"about:blank"));try{r.contentWindow.location.href=e,i()}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"==e.name&&t()}})(e,u,c):t.isChrome()?((e,t,n)=>{const a=setTimeout((function(){t(),l.remove()}),i);let s=window;for(;s.parent&&s!=s.parent;)s=s.parent;const l=r(s,"blur",(()=>{clearTimeout(a),l.remove(),n()}));window.location.href=e})(e,u,c):t.isOSX()?a(e,u,c):d&&d()};if(o&&(i=o),t.isEdge()||t.isIE())((e,t,i)=>{navigator.msLaunchUri(e,i,t)})(e,s,l);else if(document.hasFocus())h();else{let e=r(window,"focus",(()=>{e.remove(),h()}))}}},3675:function(e,t,i){(function(){var t,r,n=[].slice;t=i(4729),r=function(){function e(){this.dispatcherMap=new t}return e.prototype.map=function(e,t,i,r,a){var s,l,o,d,u,c,h,p,v,m;for(null==a&&(a=!1),m=null,d=0,u=(h=null!=(v=(c=null!=(p=this.dispatcherMap.get(e))?p:this.dispatcherMap.map(e,{}))[t])?v:c[t]=[]).length;d<u;d++)if((o=h[d]).h===i&&o.o===r&&o.u===a)return null;return l=r?s=function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],i.apply(r,e),null}:i,e.addEventListener?e.addEventListener(t,l,a):e.addListener?e.addListener(t,l,a):e.on?e.on(t,l,a):e.$on?m=e.$on(t,l,a):e.add&&e.add(t,i,r),h.push({d:e,o:r,h:i,u:a,c:s,unregister:m}),null},e.prototype.unmap=function(e,i,r,n,a){var s,l,o,d,u;if(null==a&&(a=!1),!(d=this.dispatcherMap.get(e)))return null;if(!(u=d[i]))return null;for(l=u.length;--l>=0;)(o=u[l]).h===r&&o.o===n&&o.u===a&&(u.splice(l,1),s=n?o.c:r,o.unregister?o.unregister():e.removeEventListener?e.removeEventListener(i,s,a):e.removeListener?e.removeListener(i,s,a):e.off?e.off(i,s,a):e.remove&&e.remove(i,r,n));return u.length||delete d[i],t.hasKeys(d)||this.dispatcherMap.unmap(e),null},e.prototype.all=function(){var e;return this.dispatcherMap.forEach((e=this,function(t,i){var r,n,a,s;for(s in i)for(a=i[s];n=a.shift();)r=n.o?n.c:n.h,n.unregister?n.unregister():t.removeEventListener?t.removeEventListener(s,r,n.u):t.removeListener?t.removeListener(s,r,n.u):t.off?t.off(s,r,n.u):t.remove&&t.remove(s,n.h,n.o);return e.dispatcherMap.unmap(t)})),null},e}(),e.exports=r.default=r}).call(this)},4729:function(e){(function(){var t;t=function(){function e(){this.datas={}}return e.uid=0,e.key="__dict_uid__",e.hasKeys=function(e){var t;for(t in e)return!0;return!1},e.getUID=function(t){var i,r;if(null==t)return"null";if(null!=(r=t[i=e.key]))return r;switch(typeof t){case"string":return"s::";case"number":return"n::";case"boolean":return"b::"}return r=++e.uid+"_"+Math.random(),e.uid===Number.MAX_VALUE&&(e.uid=0),null!=Object.defineProperty?Object.defineProperty(t,i,{value:r}):t[i]=r,r},e.prototype.map=function(t,i){return this.datas[e.getUID(t)]={key:t,value:i},i},e.prototype.unmap=function(t){return delete this.datas[e.getUID(t)],null},e.prototype.get=function(t){var i;return null!=(i=this.datas[e.getUID(t)])?i.value:void 0},e.prototype.has=function(t){return null!==this.datas[e.getUID(t)]},e.prototype.clear=function(){return this.datas={}},e.prototype.isEmpty=function(){var e;for(e in this.datas)return!0;return!1},e.prototype.length=function(){var e,t;for(t in e=0,this.datas)++e;return e},e.prototype.forEach=function(e){var t,i,r;for(r in i=this.datas)e((t=i[r]).key,t.value);return null},e}(),e.exports=t.default=t}).call(this)},1027:function(e,t){!function(e){"use strict";function t(e){return i(e)&&"function"==typeof e.from}function i(e){return"object"==typeof e&&"function"==typeof e.to}function r(e){e.parentElement.removeChild(e)}function n(e){return null!=e}function a(e){e.preventDefault()}function s(e){return e.filter((function(e){return!this[e]&&(this[e]=!0)}),{})}function l(e,t){return Math.round(e/t)*t}function o(e,t){var i=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,a=y(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),t?i.top+a.y-n.clientTop:i.left+a.x-n.clientLeft}function d(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function u(e,t,i){i>0&&(v(e,t),setTimeout((function(){m(e,t)}),i))}function c(e){return Math.max(Math.min(e,100),0)}function h(e){return Array.isArray(e)?e:[e]}function p(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function v(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function m(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function y(e){var t=void 0!==window.pageXOffset,i="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:i?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:i?e.documentElement.scrollTop:e.body.scrollTop}}function g(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function b(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}function E(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function S(e,t){return 100/(t-e)}function w(e,t,i){return 100*t/(e[i+1]-e[i])}function C(e,t){return w(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function T(e,t){return t*(e[1]-e[0])/100+e[0]}function A(e,t){for(var i=1;e>=t[i];)i+=1;return i}function k(e,t,i){if(i>=e.slice(-1)[0])return 100;var r=A(i,e),n=e[r-1],a=e[r],s=t[r-1],l=t[r];return s+C([n,a],i)/S(s,l)}function _(e,t,i){if(i>=100)return e.slice(-1)[0];var r=A(i,t),n=e[r-1],a=e[r],s=t[r-1];return T([n,a],(i-s)*S(s,t[r]))}function I(e,t,i,r){if(100===r)return r;var n=A(r,e),a=e[n-1],s=e[n];return i?r-a>(s-a)/2?s:a:t[n-1]?e[n-1]+l(r-e[n-1],t[n-1]):r}var P,L;e.PipsMode=void 0,(L=e.PipsMode||(e.PipsMode={})).Range="range",L.Steps="steps",L.Positions="positions",L.Count="count",L.Values="values",e.PipsType=void 0,(P=e.PipsType||(e.PipsType={}))[P.None=-1]="None",P[P.NoValue=0]="NoValue",P[P.LargeValue=1]="LargeValue",P[P.SmallValue=2]="SmallValue";var x=function(){function e(e,t,i){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t;var n=[];for(Object.keys(e).forEach((function(t){n.push([h(e[t]),t])})),n.sort((function(e,t){return e[0][0]-t[0][0]})),r=0;r<n.length;r++)this.handleEntryPoint(n[r][1],n[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return e.prototype.getDistance=function(e){for(var t=[],i=0;i<this.xNumSteps.length-1;i++)t[i]=w(this.xVal,e,i);return t},e.prototype.getAbsoluteDistance=function(e,t,i){var r,n=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[n+1];)n++;else e===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);i||e!==this.xPct[n+1]||n++,null===t&&(t=[]);var a=1,s=t[n],l=0,o=0,d=0,u=0;for(r=i?(e-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-e)/(this.xPct[n+1]-this.xPct[n]);s>0;)l=this.xPct[n+1+u]-this.xPct[n+u],t[n+u]*a+100-100*r>100?(o=l*r,a=(s-100*r)/t[n+u],r=1):(o=t[n+u]*l/100*a,a=0),i?(d-=o,this.xPct.length+u>=1&&u--):(d+=o,this.xPct.length-u>=1&&u++),s=t[n+u]*a;return e+d},e.prototype.toStepping=function(e){return k(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return _(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return I(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,i){var r=A(e,this.xPct);return(100===e||t&&e===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/i},e.prototype.getNearbySteps=function(e){var t=A(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(p);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var i;if(!d(i="min"===e?0:"max"===e?100:parseFloat(e))||!d(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(t[0]);var r=Number(t[1]);i?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=w([this.xVal[e],this.xVal[e+1]],t,0)/S(this.xPct[e],this.xPct[e+1]);var i=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),n=this.xVal[e]+this.xNumSteps[e]*r;this.xHighestCompleteStep[e]=n}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),M={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},O={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},D={tooltips:".__tooltips",aria:".__aria"};function V(e,t){if(!d(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function N(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function R(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function B(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function U(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new x(t,e.snap||!1,e.singleStep)}function F(e,t){if(t=h(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function H(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function j(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function K(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function q(e,t){var i,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(i=1;i<e.handles;i++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function W(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function z(e,t){if(!d(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function G(e,t){if(!d(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function J(e,t){var i;if(!d(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!d(t[0])&&!d(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],i=0;i<e.spectrum.xNumSteps.length-1;i++)if(e.padding[0][i]<0||e.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1],n=e.spectrum.xVal[0];if(r/(e.spectrum.xVal[e.spectrum.xVal.length-1]-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Y(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Q(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,n=t.indexOf("fixed")>=0,a=t.indexOf("snap")>=0,s=t.indexOf("hover")>=0,l=t.indexOf("unconstrained")>=0,o=t.indexOf("drag-all")>=0,d=t.indexOf("smooth-steps")>=0;if(n){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");z(e,e.start[1]-e.start[0])}if(l&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:i||a,drag:r,dragAll:o,smoothSteps:d,fixed:n,snap:a,hover:s,unconstrained:l}}function $(e,t){if(!1!==t)if(!0===t||i(t)){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(t)}else{if((t=h(t)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach((function(e){if("boolean"!=typeof e&&!i(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=t}}function Z(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function X(e,t){if(!i(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function ee(e,i){if(!t(i))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=i}function te(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function ie(e,t){e.documentElement=t}function re(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function ne(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(i){e.cssClasses[i]=e.cssPrefix+t[i]}))):e.cssClasses=t}function ae(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:M,format:M},i={step:{r:!1,t:V},keyboardPageMultiplier:{r:!1,t:N},keyboardMultiplier:{r:!1,t:R},keyboardDefaultStep:{r:!1,t:B},start:{r:!0,t:F},connect:{r:!0,t:q},direction:{r:!0,t:Y},snap:{r:!1,t:H},animate:{r:!1,t:j},animationDuration:{r:!1,t:K},range:{r:!0,t:U},orientation:{r:!1,t:W},margin:{r:!1,t:z},limit:{r:!1,t:G},padding:{r:!1,t:J},behaviour:{r:!0,t:Q},ariaFormat:{r:!1,t:X},format:{r:!1,t:ee},tooltips:{r:!1,t:$},keyboardSupport:{r:!0,t:te},documentElement:{r:!1,t:ie},cssPrefix:{r:!0,t:re},cssClasses:{r:!0,t:ne},handleAttributes:{r:!1,t:Z}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:O,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach((function(a){if(n(e[a])||void 0!==r[a])i[a].t(t,n(e[a])?e[a]:r[a]);else if(i[a].r)throw new Error("noUiSlider: '"+a+"' is required.")})),t.pips=e.pips;var a=document.createElement("div"),s=void 0!==a.style.msTransform,l=void 0!==a.style.transform;t.transformRule=l?"transform":s?"msTransform":"webkitTransform";var o=[["left","top"],["right","bottom"]];return t.style=o[t.dir][t.ort],t}function se(t,i,l){var d,p,S,w,C,T=g(),A=E()&&b(),k=t,_=i.spectrum,I=[],P=[],L=[],x=0,M={},O=t.ownerDocument,V=i.documentElement||O.documentElement,N=O.body,R="rtl"===O.dir||1===i.ort?0:100;function B(e,t){var i=O.createElement("div");return t&&v(i,t),e.appendChild(i),i}function U(e,t){var r=B(e,i.cssClasses.origin),n=B(r,i.cssClasses.handle);if(B(n,i.cssClasses.touchArea),n.setAttribute("data-handle",String(t)),i.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(e){return me(e,t)}))),void 0!==i.handleAttributes){var a=i.handleAttributes[t];Object.keys(a).forEach((function(e){n.setAttribute(e,a[e])}))}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===t?v(n,i.cssClasses.handleLower):t===i.handles-1&&v(n,i.cssClasses.handleUpper),r.handle=n,r}function F(e,t){return!!t&&B(e,i.cssClasses.connect)}function H(e,t){var r=B(t,i.cssClasses.connects);p=[],(S=[]).push(F(r,e[0]));for(var n=0;n<i.handles;n++)p.push(U(t,n)),L[n]=n,S.push(F(r,e[n+1]))}function j(e){return v(e,i.cssClasses.target),0===i.dir?v(e,i.cssClasses.ltr):v(e,i.cssClasses.rtl),0===i.ort?v(e,i.cssClasses.horizontal):v(e,i.cssClasses.vertical),v(e,"rtl"===getComputedStyle(e).direction?i.cssClasses.textDirectionRtl:i.cssClasses.textDirectionLtr),B(e,i.cssClasses.base)}function K(e,t){return!(!i.tooltips||!i.tooltips[t])&&B(e.firstChild,i.cssClasses.tooltip)}function q(){return k.hasAttribute("disabled")}function W(e){return p[e].hasAttribute("disabled")}function z(e){null!=e?(p[e].setAttribute("disabled",""),p[e].handle.removeAttribute("tabindex")):(k.setAttribute("disabled",""),p.forEach((function(e){e.handle.removeAttribute("tabindex")})))}function G(e){null!=e?(p[e].removeAttribute("disabled"),p[e].handle.setAttribute("tabindex","0")):(k.removeAttribute("disabled"),p.forEach((function(e){e.removeAttribute("disabled"),e.handle.setAttribute("tabindex","0")})))}function J(){C&&(be("update"+D.tooltips),C.forEach((function(e){e&&r(e)})),C=null)}function Y(){J(),C=p.map(K),ye("update"+D.tooltips,(function(e,t,r){if(C&&i.tooltips&&!1!==C[t]){var n=e[t];!0!==i.tooltips[t]&&(n=i.tooltips[t].to(r[t])),C[t].innerHTML=n}}))}function Q(){be("update"+D.aria),ye("update"+D.aria,(function(e,t,r,n,a){L.forEach((function(e){var t=p[e],n=Se(P,e,0,!0,!0,!0),s=Se(P,e,100,!0,!0,!0),l=a[e],o=String(i.ariaFormat.to(r[e]));n=_.fromStepping(n).toFixed(1),s=_.fromStepping(s).toFixed(1),l=_.fromStepping(l).toFixed(1),t.children[0].setAttribute("aria-valuemin",n),t.children[0].setAttribute("aria-valuemax",s),t.children[0].setAttribute("aria-valuenow",l),t.children[0].setAttribute("aria-valuetext",o)}))}))}function $(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return _.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=t.values-1,r=100/i,n=[];i--;)n[i]=i*r;return n.push(100),Z(n,t.stepped)}return t.mode===e.PipsMode.Positions?Z(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return _.fromStepping(_.getStep(_.toStepping(e)))})):t.values:[]}function Z(e,t){return e.map((function(e){return _.fromStepping(t?_.getStep(e):e)}))}function X(t){function i(e,t){return Number((e+t).toFixed(7))}var r=$(t),n={},a=_.xVal[0],l=_.xVal[_.xVal.length-1],o=!1,d=!1,u=0;return(r=s(r.slice().sort((function(e,t){return e-t}))))[0]!==a&&(r.unshift(a),o=!0),r[r.length-1]!==l&&(r.push(l),d=!0),r.forEach((function(a,s){var l,c,h,p,v,m,f,y,g,b,E=a,S=r[s+1],w=t.mode===e.PipsMode.Steps;for(w&&(l=_.xNumSteps[s]),l||(l=S-E),void 0===S&&(S=E),l=Math.max(l,1e-7),c=E;c<=S;c=i(c,l)){for(y=(v=(p=_.toStepping(c))-u)/(t.density||1),b=v/(g=Math.round(y)),h=1;h<=g;h+=1)n[(m=u+h*b).toFixed(5)]=[_.fromStepping(m),0];f=r.indexOf(c)>-1?e.PipsType.LargeValue:w?e.PipsType.SmallValue:e.PipsType.NoValue,!s&&o&&c!==S&&(f=0),c===S&&d||(n[p.toFixed(5)]=[c,f]),u=p}})),n}function ee(t,r,n){var a,s,l=O.createElement("div"),o=((a={})[e.PipsType.None]="",a[e.PipsType.NoValue]=i.cssClasses.valueNormal,a[e.PipsType.LargeValue]=i.cssClasses.valueLarge,a[e.PipsType.SmallValue]=i.cssClasses.valueSub,a),d=((s={})[e.PipsType.None]="",s[e.PipsType.NoValue]=i.cssClasses.markerNormal,s[e.PipsType.LargeValue]=i.cssClasses.markerLarge,s[e.PipsType.SmallValue]=i.cssClasses.markerSub,s),u=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],c=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function h(e,t){var r=t===i.cssClasses.value,n=r?o:d;return t+" "+(r?u:c)[i.ort]+" "+n[e]}function p(t,a,s){if((s=r?r(a,s):s)!==e.PipsType.None){var o=B(l,!1);o.className=h(s,i.cssClasses.marker),o.style[i.style]=t+"%",s>e.PipsType.NoValue&&((o=B(l,!1)).className=h(s,i.cssClasses.value),o.setAttribute("data-value",String(a)),o.style[i.style]=t+"%",o.innerHTML=String(n.to(a)))}}return v(l,i.cssClasses.pips),v(l,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(t).forEach((function(e){p(e,t[e][0],t[e][1])})),l}function te(){w&&(r(w),w=null)}function ie(e){te();var t=X(e),i=e.filter,r=e.format||{to:function(e){return String(Math.round(e))}};return w=k.appendChild(ee(t,i,r))}function re(){var e=d.getBoundingClientRect(),t="offset"+["Width","Height"][i.ort];return 0===i.ort?e.width||d[t]:e.height||d[t]}function ne(e,t,r,n){var a=function(a){var s=se(a,n.pageOffset,n.target||t);return!!s&&!(q()&&!n.doNotReject)&&!(f(k,i.cssClasses.tap)&&!n.doNotReject)&&!(e===T.start&&void 0!==s.buttons&&s.buttons>1)&&(!n.hover||!s.buttons)&&(A||s.preventDefault(),s.calcPoint=s.points[i.ort],void r(s,n))},s=[];return e.split(" ").forEach((function(e){t.addEventListener(e,a,!!A&&{passive:!0}),s.push([e,a])})),s}function se(e,t,i){var r=0===e.type.indexOf("touch"),n=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer"),s=0,l=0;if(0===e.type.indexOf("MSPointer")&&(a=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(r){var o=function(t){var r=t.target;return r===i||i.contains(r)||e.composed&&e.composedPath().shift()===i};if("touchstart"===e.type){var d=Array.prototype.filter.call(e.touches,o);if(d.length>1)return!1;s=d[0].pageX,l=d[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,o);if(!u)return!1;s=u.pageX,l=u.pageY}}return t=t||y(O),(n||a)&&(s=e.clientX+t.x,l=e.clientY+t.y),e.pageOffset=t,e.points=[s,l],e.cursor=n||a,e}function le(e){var t=100*(e-o(d,i.ort))/re();return t=c(t),i.dir?100-t:t}function oe(e){var t=100,i=!1;return p.forEach((function(r,n){if(!W(n)){var a=P[n],s=Math.abs(a-e);(s<t||s<=t&&e>a||100===s&&100===t)&&(i=n,t=s)}})),i}function de(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ce(e,t)}function ue(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return ce(e,t);var r=(i.dir?-1:1)*(e.calcPoint-t.startCalcPoint);Ce(r>0,100*r/t.baseSize,t.locations,t.handleNumbers,t.connect)}function ce(e,t){t.handle&&(m(t.handle,i.cssClasses.active),x-=1),t.listeners.forEach((function(e){V.removeEventListener(e[0],e[1])})),0===x&&(m(k,i.cssClasses.drag),ke(),e.cursor&&(N.style.cursor="",N.removeEventListener("selectstart",a))),i.events.smoothSteps&&(t.handleNumbers.forEach((function(e){_e(e,P[e],!0,!0,!1,!1)})),t.handleNumbers.forEach((function(e){Ee("update",e)}))),t.handleNumbers.forEach((function(e){Ee("change",e),Ee("set",e),Ee("end",e)}))}function he(e,t){if(!t.handleNumbers.some(W)){var r;1===t.handleNumbers.length&&(r=p[t.handleNumbers[0]].children[0],x+=1,v(r,i.cssClasses.active)),e.stopPropagation();var n=[],s=ne(T.move,V,ue,{target:e.target,handle:r,connect:t.connect,listeners:n,startCalcPoint:e.calcPoint,baseSize:re(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:P.slice()}),l=ne(T.end,V,ce,{target:e.target,handle:r,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers}),o=ne("mouseout",V,de,{target:e.target,handle:r,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers});n.push.apply(n,s.concat(l,o)),e.cursor&&(N.style.cursor=getComputedStyle(e.target).cursor,p.length>1&&v(k,i.cssClasses.drag),N.addEventListener("selectstart",a,!1)),t.handleNumbers.forEach((function(e){Ee("start",e)}))}}function pe(e){e.stopPropagation();var t=le(e.calcPoint),r=oe(t);!1!==r&&(i.events.snap||u(k,i.cssClasses.tap,i.animationDuration),_e(r,t,!0,!0),ke(),Ee("slide",r,!0),Ee("update",r,!0),i.events.snap?he(e,{handleNumbers:[r]}):(Ee("change",r,!0),Ee("set",r,!0)))}function ve(e){var t=le(e.calcPoint),i=_.getStep(t),r=_.fromStepping(i);Object.keys(M).forEach((function(e){"hover"===e.split(".")[0]&&M[e].forEach((function(e){e.call(Ue,r)}))}))}function me(e,t){if(q()||W(t))return!1;var r=["Left","Right"],n=["Down","Up"],a=["PageDown","PageUp"],s=["Home","End"];i.dir&&!i.ort?r.reverse():i.ort&&!i.dir&&(n.reverse(),a.reverse());var l,o=e.key.replace("Arrow",""),d=o===a[0],u=o===a[1],c=o===n[0]||o===r[0]||d,h=o===n[1]||o===r[1]||u,p=o===s[0],v=o===s[1];if(!(c||h||p||v))return!0;if(e.preventDefault(),h||c){var m=c?0:1,f=Ve(t)[m];if(null===f)return!1;!1===f&&(f=_.getDefaultStep(P[t],c,i.keyboardDefaultStep)),f*=u||d?i.keyboardPageMultiplier:i.keyboardMultiplier,f=Math.max(f,1e-7),f*=c?-1:1,l=I[t]+f}else l=v?i.spectrum.xVal[i.spectrum.xVal.length-1]:i.spectrum.xVal[0];return _e(t,_.toStepping(l),!0,!0),Ee("slide",t),Ee("update",t),Ee("change",t),Ee("set",t),!1}function fe(e){e.fixed||p.forEach((function(e,t){ne(T.start,e.children[0],he,{handleNumbers:[t]})})),e.tap&&ne(T.start,d,pe,{}),e.hover&&ne(T.move,d,ve,{hover:!0}),e.drag&&S.forEach((function(t,r){if(!1!==t&&0!==r&&r!==S.length-1){var n=p[r-1],a=p[r],s=[t],l=[n,a],o=[r-1,r];v(t,i.cssClasses.draggable),e.fixed&&(s.push(n.children[0]),s.push(a.children[0])),e.dragAll&&(l=p,o=L),s.forEach((function(e){ne(T.start,e,he,{handles:l,handleNumbers:o,connect:t})}))}}))}function ye(e,t){M[e]=M[e]||[],M[e].push(t),"update"===e.split(".")[0]&&p.forEach((function(e,t){Ee("update",t)}))}function ge(e){return e===D.aria||e===D.tooltips}function be(e){var t=e&&e.split(".")[0],i=t?e.substring(t.length):e;Object.keys(M).forEach((function(e){var r=e.split(".")[0],n=e.substring(r.length);t&&t!==r||i&&i!==n||ge(n)&&i!==n||delete M[e]}))}function Ee(e,t,r){Object.keys(M).forEach((function(n){var a=n.split(".")[0];e===a&&M[n].forEach((function(e){e.call(Ue,I.map(i.format.to),t,I.slice(),r||!1,P.slice(),Ue)}))}))}function Se(e,t,r,n,a,s,l){var o;return p.length>1&&!i.events.unconstrained&&(n&&t>0&&(o=_.getAbsoluteDistance(e[t-1],i.margin,!1),r=Math.max(r,o)),a&&t<p.length-1&&(o=_.getAbsoluteDistance(e[t+1],i.margin,!0),r=Math.min(r,o))),p.length>1&&i.limit&&(n&&t>0&&(o=_.getAbsoluteDistance(e[t-1],i.limit,!1),r=Math.min(r,o)),a&&t<p.length-1&&(o=_.getAbsoluteDistance(e[t+1],i.limit,!0),r=Math.max(r,o))),i.padding&&(0===t&&(o=_.getAbsoluteDistance(0,i.padding[0],!1),r=Math.max(r,o)),t===p.length-1&&(o=_.getAbsoluteDistance(100,i.padding[1],!0),r=Math.min(r,o))),l||(r=_.getStep(r)),!((r=c(r))===e[t]&&!s)&&r}function we(e,t){var r=i.ort;return(r?t:e)+", "+(r?e:t)}function Ce(e,t,r,n,a){var s=r.slice(),l=n[0],o=i.events.smoothSteps,d=[!e,e],u=[e,!e];n=n.slice(),e&&n.reverse(),n.length>1?n.forEach((function(e,i){var r=Se(s,e,s[e]+t,d[i],u[i],!1,o);!1===r?t=0:(t=r-s[e],s[e]=r)})):d=u=[!0];var c=!1;n.forEach((function(e,i){c=_e(e,r[e]+t,d[i],u[i],!1,o)||c})),c&&(n.forEach((function(e){Ee("update",e),Ee("slide",e)})),null!=a&&Ee("drag",l))}function Te(e,t){return i.dir?100-e-t:e}function Ae(e,t){P[e]=t,I[e]=_.fromStepping(t);var r="translate("+we(Te(t,0)-R+"%","0")+")";p[e].style[i.transformRule]=r,Ie(e),Ie(e+1)}function ke(){L.forEach((function(e){var t=P[e]>50?-1:1,i=3+(p.length+t*e);p[e].style.zIndex=String(i)}))}function _e(e,t,i,r,n,a){return n||(t=Se(P,e,t,i,r,!1,a)),!1!==t&&(Ae(e,t),!0)}function Ie(e){if(S[e]){var t=0,r=100;0!==e&&(t=P[e-1]),e!==S.length-1&&(r=P[e]);var n=r-t,a="translate("+we(Te(t,n)+"%","0")+")",s="scale("+we(n/100,"1")+")";S[e].style[i.transformRule]=a+" "+s}}function Pe(e,t){return null===e||!1===e||void 0===e?P[t]:("number"==typeof e&&(e=String(e)),!1!==(e=i.format.from(e))&&(e=_.toStepping(e)),!1===e||isNaN(e)?P[t]:e)}function Le(e,t,r){var n=h(e),a=void 0===P[0];t=void 0===t||t,i.animate&&!a&&u(k,i.cssClasses.tap,i.animationDuration),L.forEach((function(e){_e(e,Pe(n[e],e),!0,!1,r)}));var s=1===L.length?0:1;if(a&&_.hasNoSize()&&(r=!0,P[0]=0,L.length>1)){var l=100/(L.length-1);L.forEach((function(e){P[e]=e*l}))}for(;s<L.length;++s)L.forEach((function(e){_e(e,P[e],!0,!0,r)}));ke(),L.forEach((function(e){Ee("update",e),null!==n[e]&&t&&Ee("set",e)}))}function xe(e){Le(i.start,e)}function Me(e,t,i,r){if(!((e=Number(e))>=0&&e<L.length))throw new Error("noUiSlider: invalid handle number, got: "+e);_e(e,Pe(t,e),!0,!0,r),Ee("update",e),i&&Ee("set",e)}function Oe(e){if(void 0===e&&(e=!1),e)return 1===I.length?I[0]:I.slice(0);var t=I.map(i.format.to);return 1===t.length?t[0]:t}function De(){for(be(D.aria),be(D.tooltips),Object.keys(i.cssClasses).forEach((function(e){m(k,i.cssClasses[e])}));k.firstChild;)k.removeChild(k.firstChild);delete k.noUiSlider}function Ve(e){var t=P[e],r=_.getNearbySteps(t),n=I[e],a=r.thisStep.step,s=null;if(i.snap)return[n-r.stepBefore.startValue||null,r.stepAfter.startValue-n||null];!1!==a&&n+a>r.stepAfter.startValue&&(a=r.stepAfter.startValue-n),s=n>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&n-r.stepBefore.highestStep,100===t?a=null:0===t&&(s=null);var l=_.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(l))),null!==s&&!1!==s&&(s=Number(s.toFixed(l))),[s,a]}function Ne(){return L.map(Ve)}function Re(e,t){var r=Oe(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(t){void 0!==e[t]&&(l[t]=e[t])}));var s=ae(l);a.forEach((function(t){void 0!==e[t]&&(i[t]=s[t])})),_=s.spectrum,i.margin=s.margin,i.limit=s.limit,i.padding=s.padding,i.pips?ie(i.pips):te(),i.tooltips?Y():J(),P=[],Le(n(e.start)?e.start:r,t)}function Be(){d=j(k),H(i.connect,d),fe(i.events),Le(i.start),i.pips&&ie(i.pips),i.tooltips&&Y(),Q()}Be();var Ue={destroy:De,steps:Ne,on:ye,off:be,get:Oe,set:Le,setHandle:Me,reset:xe,disable:z,enable:G,__moveHandles:function(e,t,i){Ce(e,t,P,i)},options:l,updateOptions:Re,target:k,removePips:te,removeTooltips:J,getPositions:function(){return P.slice()},getTooltips:function(){return C},getOrigins:function(){return p},pips:ie};return Ue}function le(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=se(e,ae(t),t);return e.noUiSlider=i,i}var oe={__spectrum:x,cssClasses:O,create:le};e.create=le,e.cssClasses=O,e.default=oe,Object.defineProperty(e,"__esModule",{value:!0})}(t)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}};return n[e].call(i.exports,i,i.exports,s),i.exports}s.m=n,s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var n=Object.create(null);s.r(n);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&i;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){a[e]=function(){return i[e]}}));return a.default=function(){return i},s.d(n,a),n},s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,i){return s.f[i](e,t),t}),[]))},s.u=function(e){return"ardplayer-"+{98:"plugindash",377:"pluginhls",663:"pluginhtmla",738:"pluginhtmlv",984:"libimsc",988:"pluginchromecast"}[e]+"."+{98:"93d3ff7b",377:"069a9939",663:"531eb8f0",738:"723c1679",984:"1e112c93",988:"1aeb6c2e"}[e]+".chunk.js"},s.miniCssF=function(e){},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i={},r="ardplayer:",s.l=function(e,t,n,a){if(i[e])i[e].push(t);else{var l,o;if(void 0!==n)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==r+n){l=c;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",r+n),l.src=e),i[e]=[t];var h=function(t,r){l.onerror=l.onload=null,clearTimeout(p);var n=i[e];if(delete i[e],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),o&&document.head.appendChild(l)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="../dist/",function(){var e={179:0};s.f.j=function(t,i){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var n=new Promise((function(i,n){r=e[t]=[i,n]}));i.push(r[2]=n);var a=s.p+s.u(t),l=new Error;s.l(a,(function(i){if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,r[1](l)}}),"chunk-"+t,t)}};var t=function(t,i){var r,n,a=i[0],l=i[1],o=i[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);o&&o(s)}for(t&&t(i);d<a.length;d++)n=a[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0},i=self.webpackChunkardplayer=self.webpackChunkardplayer||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var l={};return function(){"use strict";s.r(l),s.d(l,{Environment:function(){return e.qA},ErrorController:function(){return e.hW},IconFontConfig:function(){return e.AJ},Player:function(){return e.J5},PlayerModel:function(){return e.Sg},PlayerPixelController:function(){return e.JL},console:function(){return e.iV},debug:function(){return e.fF},getCircularReplacer:function(){return e.fd},noUiSlider:function(){return e.O},removeArdPlayer:function(){return e.O2}});var e=s(1225)}(),l}()}}]);