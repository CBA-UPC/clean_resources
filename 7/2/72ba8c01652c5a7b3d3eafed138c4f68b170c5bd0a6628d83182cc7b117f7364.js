/*
 Copyright Â© 1995, 2021, Oracle and/or its affiliates. All rights reserved.

 For information, please see the following link:
 https://www.oracle.com/legal/copyright.html

 Oracle Infinity
 @preserve Copyright (c) 2017, 2018, 2019, Oracle and/or its affiliates. All rights reserved.
 odc.js v1.0.7
 Created: 2023-11-14T12:16:27+0000

 Oracle Personalization Module
 Copyright (c) 2022, 2023 Oracle and/or its affiliates. All rights reserved.
 personalization.js branch #main and build #1.3.0.4
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg;$jscomp.createTemplateTagFirstArgWithRaw;$jscomp.arrayIteratorImpl;$jscomp.arrayIterator;$jscomp.makeIterator;
$jscomp.arrayFromIterator;$jscomp.arrayFromIterable;$jscomp.getRestArguments;
)();
(function(){"undefined"!==typeof ORA&&!0===ORA.ready&&(!0===ORA.isInitCompleted?ORA.Debug.error("The tag is being loaded multiple times. Exiting second tag initialization request."):(ORA.isInitCompleted=!0,ORA.registerPlugin=ORA.registerPlugin,ORA.abortModuleHelper=ORA.abortModuleHelper,ORA.setLoaderConversionTimeoutDefault=ORA.setLoaderConversionTimeoutDefault,ORA.loaderConversionTimeoutDefault=ORA.loaderConversionTimeoutDefault,ORA.downloadLib=ORA.downloadLib,ORA.reset=ORA.reset,ORA.productLoadInit=
function(){ORA.analyticsModule=function(){};ORA.analyticsModule.prototype.oraConfigObj={i18n:!1,s_disableSeed:!1,alwaysLoad:!0,enabled:!0,DNTBehavior:"honorDNT",s_dependencies:"common:running",libUrl:"//d.oracleinfinity.io/infy/acs/account/3635138d8e594c2c1be5bc1f505e5b30/js/media_bu/analytics-production/analytics.js",accountGuid:"3635138d8e594c2c1be5bc1f505e5b30",tagId:"media_bu",cookieTypes:"firstpartyonly","ora-plugins":{html5Video:{enable:!0,poll:!1,pctInc:25,beraconType:"auto",seek:!0,load:!0,
cued:!1,loadMeta:!0,postMessage:!1,fixed:!1,quartile:!0,buffering:!1,pollRate:250,nameCallback:null,beaconCurve:{300:30,60:10,600:60,130:30,420:45,1800:150},pause:!0,screenMode:!0,beacon:!0,bins:15,beaconRate:60,metaTags:!0,volume:!0},fingerprint:{enable:!1,addTiming:!0,options:{excludeOpenDatabase:!1,excludeDeviceMemory:!1,excludeHasLiedBrowser:!1,excludeColorDepth:!1,excludeJsFonts:!0,swfContainerId:"",excludeCanvas:!0,excludeDoNotTrack:!1,excludeHasLiedResolution:!1,excludeAudioFP:!1,excludeTimezoneOffset:!1,
swfPath:"",excludeHasLiedLanguages:!1,excludeAvailableScreenResolution:!1,excludeWebGLVendorAndRenderer:!0,excludeLanguage:!1,excludePixelRatio:!1,excludePlatform:!1,excludeUserAgent:!1,excludeHasLiedOs:!1,excludeFlashFonts:!0,excludeAddBehavior:!1,excludeIEPlugins:!1,excludeSessionStorage:!1,excludePlugins:!1,excludeScreenResolution:!1,excludeCpuClass:!1,excludeAdBlock:!1,excludeIndexedDB:!1,excludeWebGL:!0,userDefinedFonts:[],excludeHardwareConcurrency:!1,excludeTouchSupport:!1}},udo:{enable:!0,
UDOName:"dataLayer",addClick:!0,addCommerce:!0},multitrack:{enable:!1},bluekaiUid:{enable:!0,blockCollect:!0},yt:{enable:!0,pctInc:25,seek:!0,pause:!0,load:!0,cued:!1,loadMeta:!0,beacon:!0,mode:"auto",quartile:!0,buffering:!0,loadAPI:!0,bins:15,beaconRate:60,volume:!0},ds:{enable:!0,domains:["navstage.khaleejtimes.com","www.khaleejtimes.com"]},debug:{enable:!0,ignoreparam:!1},blocklist:{enable:!1,allowlist:[],commerce:!0,denylist:["wt.password","wt.pan","wt.card"],video:!0},pp:{enable:!1,cookieDays:365,
lowerCaseValues:!0,defPrefix:"DCSext",params:"dcsvid infy riid rid customer_id elqCID elqCid elq_cid elq_mid product".split(" "),useMostRecent:!0,cookieName:"WTPERSIST"},plt:{enable:!0,waitTime:150,sampleRate:50,assetFilter:".*js",maxT:2,enablePerf:!1,perfLimit:50},adTracking:{enable:!0,autoCreateAdList:!0,addKey:!0,adsViewedParam:"wt.ad",adKeyParam:"wt.ad_key",sendOnce:!0,adClickParam:"wt.ac",blockCollect:!0},maskIP:{enable:!0},crossDomain:{enable:!1,encode:!0,ignoreOnsiteDoms:!1,guard:"~",denyListSelector:"localhost",
addIdTreatment:"auto",allowListSelector:"A",blockCollect:!0},cg:{enable:!0,cgDefs:["wt.cg_n","wt.cg_s","wt.cg_s2"],blockCollect:!0},mobileBrowser:{enable:!1},evtTrack:{enable:!0,trackSocial:!1,scroll_frequency:25,standardEvents:{anchor:!0,onsite:!0,offsite:!0,rightclick:!0,download:!0,javascript:!0,scrollTracking:!0},downloadtypes:".xls, .doc, .pdf, .txt, .csv, .zip, .docx, .xlsx, .rar, .gzip, .pptx",socialTypes:{}},fragment:{enable:!0,virtualDl:26,virtualPageView:!1,paramHandeling:"none",addAnchorName:"none",
applyClickEventOnly:!1,prefix:"fragment",blockCollect:!0},bc:{enable:!0,poll:!1,seek:!0,load:!0,cued:!1,maxBinds:10,mediaTags:!0,postMessage:!1,fixed:!0,playerId:"div[id^\x3d'vjs_video']:not([id$\x3d'_api']):not([id*\x3d'_component'])",quartile:!0,buffering:!0,beaconType:"auto",pctInc:25,pollRate:250,nameCallback:null,beaconCurve:{300:30,60:10,600:60,130:30,420:45,1800:150},pause:!0,preProcess:null,loadMeta:!0,screenMode:!0,beacon:!0,bins:15,beaconRate:60,volume:!0},tagMgr:{enable:!0,tagManager:"Google Tag Manager"},
heatmap:{enable:!1,maxymiserEnable:!0,selectorEngineType:"default",blockCollect:!0},cookieCutter:{readCookies:[{cookie:{TEST:"ora.cook_a"},options:{persist:!0}},{cookie:{_ga:"cp.google_id"},options:{persist:!0}},{cookie:{_fbp:"cp.facebook_id"},options:{persist:!0}},{cookie:{_gid:"cp.gid"},options:{persist:!0}},{cookie:{push_status:"cp.push_status"},options:{persist:!0}},{cookie:{auth0_sub:"cp.auth_id"},options:{persist:!0}},{cookie:{ORA_FPC:{id:"ora.f_id",ss:"ora.c_ss",lv:"ora.c_lv"}},options:{parseOn:":",
parseLv:"\x3d"}},{cookie:{ELOQUA:{GUID:"ora.elq.vid",FPCVISITED:"ora.eloqua_flag"}},options:{parseOn:"\x26",persist:!0}},{cookie:{utag_main:{_ss:"ora.u_ss",_st:"ora.u_st",v_id:"cp.tealium_vid",_sn:"ora.u_sn",ses_id:"ora.u_ses_id"}},options:{parseOn:"$",parseLv:":",persist:!0}},{cookie:{auth0_spajs:{'"given_name"':"cp.authgivenname",'"user_email"':"cp.authemail",'"name"':"cp.authusername",'"family_name"':"cp.authfamilyname"}},options:{parseOn:",",parseLv:":",persist:!0}},{cookie:{"pers-last-category":{'"url"':"cp.lasturl",
'"title"':"cp.lasttitle"}},options:{parseOn:",",parseLv:":",persist:!0}},{cookie:{WTPERSIST:{elqCid:"ora.elq.cid"}},options:{parseOn:"\x26",parseLv:"\x3d"}}],enable:!0},formTracking:{enable:!0,click_type:"mousedown",scroll_frequency:10,options:[{forms_to_track:[{interaction:!0,form_selector:"form",display_name:"my form",interaction_abandonment:!0,submit_selector:"button.submit",impression_abandonment:!0,impression:!0,form_submit:!0}]}]},msgListener:{domains:["http://my.site.com","https://mysite.com"],
enable:!1},rdyEvt:{enable:!0,blockCollect:!0},sbt:{enable:!0,eventList:[{url:{pattern:"",criteria:""},events:[{type:"",dom_selector:"",name:"",parameters:[{name:"",dom_selector:""},{name:"",value:""}]}]}]},optOutFooter:{background:"#DAA520",textColor:"#2f4f4f",optMsg:'This site uses cookies to analyze user activity in order to improve the Website.  See our \x3ca href\x3d#privacyPolicy\x3eprivacy policy\x3c/a\x3e for more information. You may opt-out of tracking for this site \x3cINPUT type\x3d"button" id\x3d"OptOut" style\x3d"background: gray; color: white;font-size:8pt" value\x3d"Opt Out" onclick\x3d"ORA.analytics.plugins.optOutFooter.optOut();"\x3e\x3c/button\x3e',
autoOptin:!0,optTime:15E3,enable:!1}},timezone:0,disableSSL:!1,defaultCollectionServer:"dc.oracleinfinity.io",s_useTrackingPipeline:!0,secureCookie:!0,FPCConfig:{name:"ORA_FPC",autoTLD:!0,sessionOnly:!1},destinations:[{accountGuid:"3635138d8e594c2c1be5bc1f505e5b30"}],s_TrackingPipelineTimeout:4E3};typeof ORA.analyticsModule.prototype.oraConfigObj.enabled&&!1===ORA.analyticsModule.prototype.oraConfigObj.enabled?ORA.Debug.debug("analytics  module disabled - exiting module setup"):(ORA.analyticsModule.prototype.preinit=
function(){try{ORA.Debug.debug("PREINIT: Executing Preinit script")}catch(h){ORA.abortModuleHelper("analytics",h)}},ORA.analyticsModule.prototype.init,ORA.analyticsModule.prototype.preload=function(){try{var h=0;ORA.analyticsModule.prototype.oraConfigObj.s_conversionTimeout&&
(h=ORA.analyticsModule.prototype.oraConfigObj.s_conversionTimeout);ORA.setLoaderConversionTimeoutDefault(Math.max(h,ORA.loaderConversionTimeoutDefault()));ORA.Debug.debug("PRELOAD:  Executing preload script")}catch(n){ORA.abortModuleHelper("analytics",n)}},ORA.analyticsModule.prototype.load,ORA.analyticsModule.prototype.postload,ORA.analyticsModule.prototype.abort=function(){try{ORA.Debug.debug("ABORT:  Executing analyticsModule abort")}catch(h){ORA.abortModuleHelper("analytics",h)}});ORA.analyticsModule.ProductName="analytics";
ORA.registerPlugin(ORA.analyticsModule,"production");ORA.personalizationModule=function(){};ORA.personalizationModule.prototype.oraConfigObj={"ora-plugins":{qatool:{enable:!0,dynamic:!0}},enabled:!0,s_dependencies:"",contentAssets:"//d.oracleinfinity.io/infy/personalization/3635138d8e594c2c1be5bc1f505e5b30/production/campaigns.js",edgeServer:"//dc.oracleinfinity.io/display/v1/account/3635138d8e594c2c1be5bc1f505e5b30/state",libUrl:"//d.oracleinfinity.io/infy/acs/account/3635138d8e594c2c1be5bc1f505e5b30/js/media_bu/personalization-production/personalization.js",
accountGuid:"3635138d8e594c2c1be5bc1f505e5b30",tagId:"media_bu",cookieName:"ORA_PERS",alwaysLoad:!0,doLoad:!0,defaultCollectionServer:"dc.oracleinfinity.io",s_useTrackingPipeline:!1,hide:{rule:"body { opacity: .01 !important; pointer-events: none !important; user-select: none !important; }",timeout:1E3},contentAssetsSandbox:"//d.oracleinfinity.io/infy/personalization/3635138d8e594c2c1be5bc1f505e5b30/sandbox/campaigns.js",destinations:[{accountGuid:"3635138d8e594c2c1be5bc1f505e5b30"}]};typeof ORA.personalizationModule.prototype.oraConfigObj.enabled&&
!1===ORA.personalizationModule.prototype.oraConfigObj.enabled?ORA.Debug.debug("personalization  module disabled - exiting module setup"):(ORA.personalizationModule.prototype.preinit,ORA.personalizationModule.prototype.init=function(){try{this.oraConfigObj.doLoad=this.oraConfigObj.doLoad||this.oraConfigObj.alwaysLoad}catch(h){ORA.abortModuleHelper("personalization",h)}},ORA.personalizationModule.prototype.preload=,ORA.personalizationModule.prototype.load=function(h){try{ORA.Debug.debug("LOAD:  Executing load phase"),ORA.setExecuteState("personalization",
"ready"),ORA.Debug.debug("setProductReady()","personalization")}catch(n){ORA.abortModuleHelper("personalization",n)}},ORA.personalizationModule.prototype.postload=function(){ORA.Debug.debug("POSTLOAD:  Executing postload personalization complete");try{ORA.Debug.info("LOADER:  ORA.personalizationModule.prototype: postload"),ORA.personalization.setup()}catch(h){ORA.abortModuleHelper("personalization",h)}},ORA.personalizationModule.prototype.abort=function(){try{ORA.Debug.debug("ABORT:  Executing personalizationModule abort"),
ORA.fireEvent(new ORA.Event(ORA.personalizationModule.ProductName+"_"+ORA.Event.LOADER_MODULE_ABORT,ORA.Event.STATUS_SUCCESS))}catch(h){ORA.abortModuleHelper("personalization",h)}});(function(h){function n(a,d,f){var e=new XMLHttpRequest;e.open("POST",q(y.edgeServer,P),!0);e.responseType="json";e.setRequestHeader("Content-Type","application/json");e.onreadystatechange=function(){4===e.readyState&&(200===e.status?d(e.response):f())};e.send(JSON.stringify(a))}function q(a,d){var f=Object.keys(d).map);f=0===f.length?"":"?"+f.join("\x26");return a+f}function v(){var a=t;var d=new Date;d.setFullYear(d.getFullYear()-1);d=d.toUTCString();a(void 0,"; expires\x3d"+d)}function t(a,d){w.productReady.push(["analytics",function(){if(a){var f={};for(var e=0;e<b.length;e++)Object.prototype.hasOwnProperty.call(a,b[e])&&(f[b[e]]=a[b[e]])}else f=a;E.setCookie(Y,JSON.stringify(f),d)}])}function x(a,d){try{var f=Object.keys(a.campaigns);return Object.entries(d).sort(function(e,
g){var m=$jscomp.makeIterator(e);m.next();m=m.next().value;var l=$jscomp.makeIterator(g);l.next();l=l.next().value;return(m.name||"").localeCompare(l.name||"")}).map).filter).reduce(function(e,g){e[g]=a.campaigns[g].activeBlocks.reduce(function(m,l){a:{var r;try{var u=d[g];var B=c[g]||{};if(u){var H=g+":"+l;if(!(-1<K.indexOf(H))&&(r=u.blocks[l])){if(k(r.masks,r.pages,V,h.location.href)){K.push(H);r.js({campaign:{name:u.name},
block:{name:r.name},isProduction:!R()},{html:r.html,css:r.css,global:w.personalizationModule.ud,model:{variables:r.variables,parameters:B}});var J=M.applied}else J=M.ignored;break a}}J=M.disabled}catch(fa){h.console.error('Oracle CX Tag caught an error thrown by "'+(u&&u.name)+'" personalization\'s "'+(r&&r.name)+'" node. You should fix the error in its code:\n'+fa.stack),J=M.failed}}m[l]=J;return m},{});return e},{})}catch(e){return w.Debug.error("Error happened during content block application, details: "+
e,"P13N"),{}}}function k(a,d,f,e){return D(a,e)||(null==d?void 0:d.find(function(g){var m;return D(null==(m=f&&f[g])?void 0:m.masks,e)}))}function D(a,d){return a&&!C(a.exclude,d)&&C(a.include,d)}function C(a,d){return a&&a.some(function(f){return(new RegExp("^"+A(f)+"$","gi")).test(d)})}function A(a){a=a.trim().replace(O,"\\$\x26");return a=a.replaceAll("*",".*")}function U(a,d){var f=null,e=null;return function(){var g=$jscomp.getRestArguments.apply(0,arguments),m=this;clearTimeout(e);null===f?
f=setTimeout,d):e=setTimeout,d)}}function S(a){if(a)return a&&-1!==a.indexOf("//")?a.replace(/^(http:|https:)/,""):h.location.origin+"/"+a.replace(/^\//,"");w.Debug.error("Content assets url is not defined","P13N")}function I(a,d){return Object.keys(a).find(function(f){return Object.keys(a[f].blocks).find(function(e){e=a[f].blocks[e];return k(e.masks,e.pages,V,d)})})}function Q(){if(p())return v();try{var a=JSON.parse(E.getCookie(Y))}catch(f){a=
{}}var d=a;n(d,function(f){var e=f.parameters,g;for(g in e)if(Object.prototype.hasOwnProperty.call(e,g)){var m=void 0,l=void 0,r=e[g],u=c[g]||{};c[g]=u;for(l in u)Object.prototype.hasOwnProperty.call(u,l)&&delete u[l];for(m in r)Object.prototype.hasOwnProperty.call(r,m)&&(u[m]=r[m])}x(f,N);t(f,"");z.show()})}function p(){return"1"===navigator.doNotTrack||"state\x3d1"===E.getCookie("Infinity.optout")}function W(){var a=y.libUrl.replace("personalization.js","qatool.js");
w.downloadLib("head",aa,ba,0,!0,S(a))}function aa(){w.Debug.debug("QA Tool has been loaded","P13N")function ca(){I(N,h.location.href)?(Q(),w.productReady.push(["analytics",function(){w.analytics.addMutation("PES",function(a){var d=a.payload||{};Z.map)});w.analytics.addMutation("updateState",U(Q,1E3))}])):z.show()}function da(){R()?(G(),z.show(),W()):ca();w.Debug.trace("Content assets has been loaded","P13N")}
function ea(){w.Debug.error("failure uploading web personalization content","P13N");z.show();R()&&W()}function G(){var a=F.getState();w.productReady.push(["analytics"]);var d=T(a);d=x(d,N);F.state=X(a,d)}function T(a){return{campaigns:a.campaigns.reduce(function(d,f){d[f.id]={activeBlocks:f.blocks.filter).map)};return d},{})}}function X(a,d){return{configuration:a.configuration,campaigns:Object.keys(d).map(function(f){return{id:f,
blocks:Object.keys(d[f]).map)}})}}function R(){var a=y["ora-plugins"];a=a&&a.qatool&&a.qatool.enable;var d=h.location.search.includes("_ora.pers\x3dqa"),f=E.getCookie("ORA_PERSQA");return a&&(d||f)}function L(a,d){d=void 0===d?[]:d;var f=[];if(Array.isArray(a)||Object(a)!==a)f.push({key:d.join("."),value:a});else for(var e=$jscomp.makeIterator(Object.entries(a)),g=e.next();!g.done;g=e.next()){var m=$jscomp.makeIterator(g.value);g=m.next().value;m=m.next().value;
f.push.apply(f,$jscomp.arrayFromIterable(L(m,[].concat($jscomp.arrayFromIterable(d),[g]))))}return f}var w=h.ORA;w.personalizationModule.ud={};var y=w.personalizationModule.prototype.oraConfigObj,M={applied:"Applied",ignored:"Ignored",failed:"Failed",disabled:"Disabled"},Y=y.cookieName||"ORA_PERS",N={},V={},O=RegExp("[-[\\]{}()+?.,\\\\^$|#]","g"),K=[],z=new function(a,d){var f=this,e;this.hide=function(){if(!e&&a&&a.hide&&a.hide.rule&&a.hide.timeout){var g=d.document.getElementsByTagName("head")[0];
e=d.document.createElement("style");e.setAttribute("id","iq_personalization_style_hide");e.setAttribute("type","text/css");e.textContent=a.hide.rule;g.insertBefore(e,g.lastChild);d.setTimeout,a.hide.timeout)}};this.show=function(){if(e){var g=d.document.getElementsByTagName("head")[0];g.contains(e)&&g.removeChild(e);e=null}}}(y,h),E=new function(){var a={},d=!1,f;this.setCookie=function(e,g,m){var l=m||"";g=void 0!==g?g:"";var r=w.common&&w.common.clientID&&w.common.clientID.cfg&&
w.common.clientID.cfg.cookie||{};if(r.enable){!r.sessionOnly&&r.expireDate instanceof Date&&-1===l.indexOf("expires")&&(l+="; expires\x3d"+r.expireDate.toUTCString());r.autoTLD&&w.plugins&&w.plugins.pp&&w.plugins.pp.Domain&&w.plugins.pp.Domain.getCookieDomain&&w.plugins.pp.Domain.getCookieDomain()?l+="; domain\x3d"+w.plugins.pp.Domain.getCookieDomain():r.domain&&(l+="; domain\x3d"+r.domain);l+="; path\x3d/";r=!0;w.common&&w.common._getConfigObject()&&!1===w.common._getConfigObject().secureCookie&&
(r=!1);var u="; secure";r&&"http:"!==document.location.protocol.toLowerCase()||(u="");document.cookie=e+"\x3d"+g+l+u;w.Debug.debug("setCookie: "+e+" with data: ["+g+"]"+m+u);d=!1}};this.getCookie=function(e){if(!d){if(f=document.cookie)for(var g=f.split(";"),m=0;m<g.length;m++){var l=g[m].split("\x3d"),r=l.shift().replace(/^\s+|\s+$/g,""),u=void 0;1<=l.length&&(u=l.join("\x3d"));l=u;r.replace(/\s/g,"");a[r]=l}d=!0}w.Debug.debug("getCookie: ["+e+", "+a[e]+"]");return a[e]};this.deleteCookie=function(e){var g=
"; expires\x3d"+(new Date(0)).toUTCString();this.setCookie(e,null,g);w.Debug.debug("deleteCookie: ["+e+"]")}},F=new function(){this.state=null;this.storeState=function(a){a?(a=JSON.stringify(a),E.setCookie("ORA_PERSQA",a)):E.deleteCookie("ORA_PERSQA")};this.getState=function(){if(!this.state){var a=E.getCookie("ORA_PERSQA");this.state=a?JSON.parse(a):{configuration:"Sandbox",campaigns:[]}}return this.state};this.setState=function(a){this.storeState(a);a=new URLSearchParams(h.location.search);a["delete"]("_ora.pers");
a=a.toString();h.location.replace(""+h.location.pathname+(a.length?"?":"")+a)}},P={},Z="ora.elq.aid wt.dcsvid rsys.customer_id rsys.riid ora.elq.cid ora.deviceid wt.co_f ora.elq.vid".split(" "),b=["id","ids","campaigns"],c={};w.personalizationModule.prototype.personalizationCallback=function(a){N=(null==a?void 0:a.campaigns)||{};V=(null==a?void 0:a.pages)||{};delete w.personalizationModule.prototype.personalizationCallback};w.personalization={setup:function(){if(p())return v();z.hide();w.downloadLib("head",
da,ea,0,!0,S((R()?"Sandbox"!==F.getState().configuration:1)?y.contentAssets:y.contentAssetsSandbox))},getConfiguration:function(){return N},getState,setState,cookieManager:E,render:function(a,d){if("string"!==typeof a||!d)return a;L(d).forEach(function(f){var e=new RegExp("{{\\s*it."+A(f.key)+"\\s*}}","g");a=a.replace(e,f.value)});return a}}})(window);ORA.personalizationModule.ProductName="personalization";ORA.registerPlugin(ORA.personalizationModule,
"production")}()()()()()(),ORA.productLoadInit(),ORA.start()))})();