"use strict";(self.webpackChunkjsxui=self.webpackChunkjsxui||[]).push([[499],{3810:function(e,t,n){n.d(t,{Z:function(){return g},w:function(){return m}});var i=n(70885),a=n(60175),r=n(85444),o=n(61555),c=n(53779),u=n(34444),s=n(42627),l=n(52103),_=n.n(l),d=n(4665),v=n(70799),f=n(28426),p=n(28610);function m(e){var t=(0,r.mx)()||{},n=((0,o.Hu)("MarketingBar")||{}).cumulativeRechargeV2,i=void 0===n?{}:n,a=e||t.openid,c=i.greyVal;return"undefined"===typeof c||"100"===c||!!a&&_().murmur3(a)%100+1<=parseInt(c||0,10)}function g(e){var t=e.accumulativeMessageInAds,n=e.accumulativeMessage,r=e.goJoinAcitivity,o=n||t,l=(0,s.KO)(c.Rj),_=(0,i.Z)(l,1)[0],g=(0,a.Z)().reportView,h=(0,u.M)("cumulativeRechargeMilestone");(0,d.useEffect)((,[]);var x=function(){if(n&&m(_.openid))return r(n);window.open(null===t||void 0===t?void 0:t.href,null===t||void 0===t?void 0:t.target)};return null!==o&&void 0!==o&&o.isPurePicture?(0,p.jsx)(v._,{message:o,onClick:x}):(0,p.jsx)("div",{"data-iformat":"ads_cumulative_recharge",className:"".concat(f.Z.item_box," ").concat(f.Z.theme),onClick:x,children:(0,p.jsxs)("div",{className:f.Z.item_wrap,style:{backgroundImage:"url(".concat(null===o||void 0===o?void 0:o.background)},children:[(0,p.jsx)("div",{className:f.Z.item_box_opacity}),(0,p.jsxs)("div",{className:f.Z.desc_box,children:[(0,p.jsx)("div",{className:f.Z.text,dangerouslySetInnerHTML:{__html:o.desc}}),(0,p.jsx)("img",{className:f.Z.item_check_img,alt:"\u7d2f\u5145\u6d3b\u52a8\u8425\u9500\u6761\u914d\u56fe",src:o.url}),o.href&&(0,p.jsx)("div",{className:f.Z.check_btn,children:o.btnText||h("go")})]})]})})}},70799:function(e,t,n){n.d(t,{Z:function(){return m},_:function(){return x}});var i=n(42982),a=n(70885),r=n(7354),o=n(4665),c=n(80335),u=n(28426),s=n(61226),l=n(53779),_=n(34444),d=n(42627),v=n(44606),f=(n(61424),n(31281),n(3810)),p=n(28610);function m(e){var t=(0,d.KO)(l.Qu),n=(0,a.Z)(t,2),_=(n[0],n[1]),m=(0,s.ZP)((),y=m.activityMessages,Z=m.goJoinAcitivity,b=m.loadSvga,M=m.accumulativeMessage,w=m.hasAccumulativeTopUpEvent,B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach((function(n){t=t.concat(e[n].filter((function(e){return e.isJsxUi})))})),(0,r.unionWith)(t,(function(e,t){return e.id&&t.id?e.id===t.id:"".concat(e.title,"-").concat(e.desc)==="".concat(t.title,"-").concat(t.desc)}))}(window.SERVER_DATA.advertiseConfig),j=(0,o.useMemo)((function(){return B.find(()}),[B]),N=B.filter((),T=(0,o.useState)(N),R=(0,a.Z)(T,2),I=R[0],C=R[1],A=(0,o.useState)(0),E=(0,a.Z)(A,2),S=E[0],U=E[1],P=e.openNewPage,V=void 0===P||P,O=e.onClickNotificationMore,H=void 0===O?function(){}:O,D=window.SERVER_DATA.jsxUiInteractionConfig,J=(void 0===D?{}:D).MarketingBar,L=void 0===J?{}:J;(0,o.useEffect)((function(){null!==y&&void 0!==y&&y.length&&C([].concat((0,i.Z)(y),(0,i.Z)(N)))}),[y]),(0,o.useEffect)((function(){"undefined"!==typeof w&&j&&!w&&C(()}),[w]);var Q=I.length,K=Q>0,q=I.map((function(e,t){var n=null,i=e.eventType?function(){return t=e.href,(e.target?"_blank"===e.target:V)?window.open(t):void(window.location.href=t);var t};return n=e.isNotification?(0,p.jsx)(h,{message:e,onClickMore:H}):e.IsAccumulativeTopUp?(0,p.jsx)(f.Z,{accumulativeMessageInAds:j,accumulativeMessage:M,goJoinAcitivity:Z}):e.isPurePicture?(0,p.jsx)(x,{message:e,onClick:i}):(0,p.jsx)(g,{message:e,confirmAction:i,loadSvga:b}),(0,p.jsx)(c.o5,{className:u.Z.swiper_slide,children:n},"".concat(e.title,"_").concat(t))}));return(0,p.jsx)(p.Fragment,{children:K&&(0,p.jsxs)("div",{className:"".concat(u.Z.marketing_bar," ").concat(1===Q&&u.Z.only_one),children:[(0,p.jsx)(c.tq,{onRealIndexChange:autoHeight:!0,loop:Q>1,direction:"vertical",mousewheel:!0,watchSlidesProgress:!0,autoplay:{delay:Number(null===L||void 0===L?void 0:L.swipeGapTime)||3e3,disableOnInteraction:!1},modules:[v.pt,v.Gk],className:u.Z.slide_box,children:q}),Q>1&&(0,p.jsx)(k,{length:Q,activeIndex:S})]})})}function g(e){var t=e.message,n=e.confirmAction,i=e.loadSvga,a=t.background?t.background:"";i(t);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.isVipMessage?"ads_vip":t?"ads_events":"ads"}(t,!(null===t||void 0===t||!t.eventType));return(0,p.jsx)("div",{"data-iformat":r,className:"".concat(u.Z.item_box," ").concat(u.Z.theme," ").concat(t.isVipMessage&&u.Z.vip_bar),onClick:function(){return n()},children:(0,p.jsxs)("div",{className:u.Z.item_wrap,style:a?{backgroundImage:"url(".concat(a)}:{},children:[(0,p.jsx)("div",{className:u.Z.item_box_opacity}),(0,p.jsxs)("div",{className:u.Z.desc_box,children:[(0,p.jsx)("div",{className:u.Z.text,dangerouslySetInnerHTML:{__html:t.desc}}),/\.svga/.test(t.url)?(0,p.jsx)("div",{className:u.Z.item_check_img,id:"demoCanvas_".concat(t.eventType)}):(0,p.jsx)("img",{className:u.Z.item_check_img,alt:"\u8425\u9500\u6a21\u5757\u914d\u56fe",src:t.url}),t.href&&t.buttonText&&!t.isVipMessage&&(0,p.jsx)("div",{className:u.Z.check_btn,children:t.buttonText||"Check it!"})]})]})})}function h(e){var t=e.message,n=e.onClickMore,i=(0,_.M)();return(0,p.jsx)("div",{"data-iformat":"ads_notice",className:"".concat(u.Z.item_box," ").concat(u.Z.attention),children:(0,p.jsxs)("div",{className:u.Z.item_wrap,children:[(0,p.jsx)("div",{className:u.Z.item_box_opacity}),(0,p.jsxs)("div",{className:u.Z.desc_box,children:[(0,p.jsxs)("div",{className:u.Z.horn_icon,children:[(0,p.jsx)("i",{className:"i-midas:announce icon"}),i("attention","Attention"),":"]}),(0,p.jsxs)("div",{className:u.Z.attention_text,children:[(0,p.jsxs)("div",{className:u.Z.text,children:[t.title," ",t.desc]}),(0,p.jsxs)("div",{"data-iformat":"amount_more",className:u.Z.more,onClick:children:[i("more","more"),(0,p.jsx)("i",{className:"i-midas:right icon"})]})]})]})]})})}function x(e){var t=e.message,n=e.onClick;return(0,p.jsx)("div",{"data-iformat":"ads_events",className:"".concat(u.Z.item_box," ").concat(u.Z.img_marketing),onClick:children:(0,p.jsx)("div",{className:u.Z.item_wrap,children:(0,p.jsx)("img",{src:t.background||t.url,alt:""})})})}function k(e){var t=e.length,n=void 0===t?0:t,i=e.activeIndex,a=void 0===i?0:i;return n<=0?null:(0,p.jsx)("div",{className:u.Z.slide_point_box,children:Array.from(Array(n).keys()).map((function(e,t){var n=t===a?" ".concat(u.Z.active):"";return(0,p.jsx)("div",{className:u.Z.point+n},e)}))})}},61226:function(e,t,n){n.d(t,{Hk:function(){return j},ZP:function(){return T},nN:function(){return N}});var i=n(4942),a=n(42982),r=n(74165),o=n(15861),c=n(1413),u=n(70885),s=n(61555),l=n(18522),_=n(10378),d=n(53779),v=n(79547),f=n(10223),p=n(60569),m=n(42627),g=n(4665),h=n(10846),x=n(27714),k=n(48293),y=n(18616),Z=n(72379),b=n(3810),M=n(89206),w=n(94450),B=n(55706),j=(0,m.cn)(0),N=(0,m.cn)(void 0);function T(e){var t,T,R=(0,f.Qf)(),I=window.SERVER_DATA,C=I.appid,A=I.gameConfig,E=I.country,S=I.countryInfo,U=(I.queryBalanceConfig,A.relatedEventResultType),P=void 0===U?["save"]:U,V=(0,m.KO)(d.Rj),O=(0,u.Z)(V,1)[0],H=(0,m.KO)(d.yf),D=(0,u.Z)(H,1)[0],J=(0,g.useReducer)((,0),L=(0,u.Z)(J,2),Q=L[0],K=L[1],q=(0,g.useRef)(null),G=(0,g.useRef)(null),Y=(0,g.useRef)(null),$=(0,x.Z)().balanceStatusClickHandler,z=(0,w.Z)().handleBalance,F=(0,m.KO)(v.pe),W=(0,u.Z)(F,1)[0].matches(v.D.success),X=(0,g.useState)(0),ee=(0,u.Z)(X,2),te=ee[0],ne=ee[1],ie=(0,g.useRef)(null),ae=(0,g.useRef)(null),re=(0,g.useState)(null),oe=(0,u.Z)(re,2),ce=oe[0],ue=oe[1],se=(0,M.Z)().jumpCurrency;ie.current=te,(0,g.useEffect)((),(0,g.useEffect)((function(){Y.current=W,W||ne(0)}),[W]);var le=(0,g.useState)(null),_e=(0,u.Z)(le,2),de=_e[0],ve=_e[1],fe=(0,m.KO)(j),pe=(0,u.Z)(fe,2),me=(pe[0],pe[1]),ge=(0,m.KO)(N),he=(0,u.Z)(ge,2),xe=he[0],ke=he[1],ye=Ze="EMBED_ACTIVITY_LOGIN_SUCC",be=function(){var e,t;K();var n=null===(e=localStorage)||void 0===e?void 0:e.getItem(Ze),i=null===(t=ae.current)||void 0===t?void 0:t.find(();if(i){var a=(0,p.gB)();a&&"object"===typeof a[i.eventType]&&a[i.eventType].show(),(0,k.Z)(Ze,null)}},Me=(0,g.useMemo)((function(){return de&&Object.keys(de).length?Object.entries(de).map((function(e){var t=(0,u.Z)(e,2),n=t[0],i=t[1],a=i.contentHtml,r=void 0===a?"":a,o=i.imageAside,s=void 0===o?"":o;return(0,c.Z)((0,c.Z)({},i),{},{desc:r,href:s,url:s,start:"",end:"",eventType:n,IsAccumulativeTopUp:ye(n)})})).filter(():[]}),[de]),we=(0,g.useMemo)((,[Me]),Be="accumrecharge_activity_landing_pop",je=null===(t=(0,f.Qf)())||void 0===t?void 0:t.resultPageType,Ne=((0,s.Hu)("MarketingBar")||{}).cumulativeRechargeV2;unction Re(){return Re=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,o,c,u,s,_,d,v,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.eventId,o=n.eventType,c=n.mpgoConfig,u=S.lang,s=S.iso,_=Array.isArray(null===s||void 0===s?void 0:s.language)?s.language:[null===s||void 0===s?void 0:s.language].filter(Boolean),d=[(0,l.Ax)(S)].concat((0,a.Z)(_),(0,a.Z)(u)),v=d.find((function(e){return((null===c||void 0===c?void 0:c.languages)||[]).includes(e)}))||"en",p=((null===c||void 0===c?void 0:c.terminals)||[]).find((function(e){return e===((0,h.Z)()?"mobile":"pc")}))||"mobile",t[o].preload({appid:C,debug:(0,f.jS)("debug"),from:(0,f.jS)("from"),activityId:i,activityEnv:(null===c||void 0===c?void 0:c.env)||"release",activityLanguage:v,activityTerminalId:p,country:E,mpgoConfig:c});case 8:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}var Ie=function(){return location.reload()};function Ce(e){return Ae.apply(this,arguments)}function Ae(){return Ae=(0,o.Z)((0,r.Z)().mark((function t(n){var a,o,u,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(0,_.Z)(),o=a.login,t.next=3,(0,p.R$)();case 3:u=t.sent,s=je?"https://".concat(location.hostname,"/midasbuy/").concat(E,"/buy/").concat(R.gameShortUrl||"pubgm"):location.href,n.forEach((function(t){var n=u[t.eventType];"object"===typeof n&&n.on("hide",().on("bindOpenid",(function(){var t;if(je)return null===(t=document.getElementById("backBtn"))||void 0===t?void 0:t.click();n.hide(),null===e||void 0===e||e()})).on("verifyOpenid",(function(){var e;if(je)return null===(e=document.getElementById("backBtn"))||void 0===e?void 0:e.click();n.hide(),q.current(()})).on("reload",Ie).on("init",be).on("loginSuccess",Ie).on("setNotificationBar",(function(e){ye(t.eventType)&&ke(!0),ve((function(n){return(0,c.Z)((0,c.Z)({},n),{},(0,i.Z)({},t.eventType,(0,c.Z)({customStyle:{}},e)))}))})).on("goTopup",(function(e){var t,i=e.remaining;(n.hide(),me(i),se({},"",null),Y.current)&&(null===(t=window.messageBus)||void 0===t||t.emit("resetPayState"))})).on("showLoginDialog",().emit("setShareUrl",s)}));case 6:case"end":return t.stop()}}),t)}))),Ae.apply(this,arguments)}function Ee(){return(Ee=(0,o.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=2;break}return e.abrupt("return",ce);case 2:if(t=null===R||void 0===R?void 0:R.resultPageType,!((0,B.UQ)()||t&&-1===P.indexOf(t))){e.next=5;break}return e.abrupt("return",[]);case 5:return e.prev=5,e.next=8,(0,p.R$)();case 8:if(T=e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,T.api.getManyValidEvents({appid:C,country:E,supportEmbed:"1"});case 13:return n=e.sent,ke(!!n.find(()),n.forEach((function(e){var t=e.eventId,n=e.eventType;e.mpgoConfig;(t||n)&&(Te(T,e),"cumulativeRecharge"===n&&T.cumulativeRecharge.on("canCollectAward",().on("updateCumulativeProgress",(function(e){var t=e.rewards;if((0,b.w)(O.openid)){if(Y.current&&!ie.current&&null!==t&&void 0!==t&&t.length)return ne(1),T.cumulativeRecharge.emit("showCollectNotification",{rewards:t});"1"!==Z.Z.get(Be)&&(T.cumulativeRecharge.emit("showCumulativeAds"),Z.Z.set(Be,"1",{domain:location.hostname,time:Ne.patFacePopTimes||864e5}))}})))})),ue(n),Ce(n),e.abrupt("return",n);case 21:e.prev=21,e.t0=e.catch(5),console.log("load api error");case 24:return e.prev=24,e.finish(24);case 26:case"end":return e.stop()}}),e,null,[[5,21,24,26]])})))).apply(this,arguments)}function Se(){return(Se=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,a,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.eventType,i=t.buttonAction,a=window,o=a.report,e.next=4,(0,p.R$)();case 4:e.sent[n].emit(i),"cumulativeRecharge"===n&&(c={canCollect:"accumrecharge_infobox_rewards_to_be_claimed",canNotCollect:"accumrecharge_infobox_top_up",noOpenid:"accumrecharge_infobox_top_up_unlogin"},o.click(c[null===de||void 0===de?void 0:de[n].status])),o.click("".concat(n,"_infobox_").concat(null===de||void 0===de?void 0:de[n].status));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}unction Pe(){return(Pe=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({uid:""},window.SERVER_DATA.user||{},{currentBindUser:t}),e.prev=1,e.next=4,(0,p.R$)();case 4:i=e.sent,null===ce||void 0===ce||ce.forEach((function(e){if("object"===typeof i[e.eventType]){var t,a;if("cumulativeRecharge"===e.eventType&&null!==(t=n.currentBindUser)&&void 0!==t&&t.openid&&!(0,b.w)(null===(a=n.currentBindUser)||void 0===a?void 0:a.openid))return;i[e.eventType].emit("setUserInfo",n)}})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return(0,g.useEffect)((function(){function e(){return(e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.R$)();case 3:n=e.sent,null===(t=ae.current)||void 0===t||t.forEach((function(e){"object"===typeof n[e.eventType]&&n[e.eventType].close()})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return function(){Ee.apply(this,arguments)}(),),[]),(0,g.useEffect)((function(){O.openid&&Ue((0,c.Z)((0,c.Z)({},O),{},{status:D}))}),[O.userid,O.zoneid,O.openid,O.verifytype,O.balance,D,Q]),(0,g.useEffect)((function(){(0,p.R$)().then((function(e){null===ce||void 0===ce||ce.forEach((function(t){"object"===typeof e[t.eventType]&&e[t.eventType].emit("refreshQualification")}))})).catch(()}),[W]),{activityProgress:de,eventsInfo:ce,goJoinAcitivity:notifyUserInfo:Ue,loadSvga:function(e){var t=e.url,i=e.eventType;/\.svga/.test(t)&&n.e(359).then(n.t.bind(n,43359,23)).then((function(e){var n=e.default,a=new n.Player("#demoCanvas_".concat(i));(new n.Parser).load(t,()})).catch(()},activityMessages:Me,accumulativeMessage:we,hasAccumulativeTopUpEvent:xe}}(0,p.Vg)()},71110:function(e,t,n){n.d(t,{Z:);var i=n(34444),a=n(69531),r=(0,i.M)();function o(){var e=r("title");(0,a.Z)(e)}},28426:function(e,t){t.Z={v0:"MarketingBar_v0__ZHWwf",tilt_text:"MarketingBar_tilt_text__6tVvx",tilt_bg:"MarketingBar_tilt_bg__op7ol",v1:"MarketingBar_v1__FY1dB",light_text:"MarketingBar_light_text__RUSd3",dark_text:"MarketingBar_dark_text__Iq4e5",v2:"MarketingBar_v2__kqYxz",v3:"MarketingBar_v3__HDX6h",v4:"MarketingBar_v4__0CJ4v",v5:"MarketingBar_v5__au5QK",v6:"MarketingBar_v6__p5Jz2",v7:"MarketingBar_v7__597ht",v8:"MarketingBar_v8__y1esq",pop_bg:"MarketingBar_pop_bg__rHbNk",pop_mode_box:"MarketingBar_pop_mode_box__n40+B",s_pop:"MarketingBar_s_pop__4FBvl",pop_mess:"MarketingBar_pop_mess__XF62t",active:"MarketingBar_active__yJEgH",m_pop:"MarketingBar_m_pop__oNJP5",l_pop:"MarketingBar_l_pop__HIPaX",c_pop:"MarketingBar_c_pop__Lqta2",mobile_show:"MarketingBar_mobile_show__I0nR9",tablet_show:"MarketingBar_tablet_show__7CQf-",pc_show:"MarketingBar_pc_show__fYPWM",loading_icon:"MarketingBar_loading_icon__dyjqp",LoadingRotateAni:"MarketingBar_LoadingRotateAni__Wyum8",marketing_bar:"MarketingBar_marketing_bar__HOMwj",only_one:"MarketingBar_only_one__9GR7u",slide_box:"MarketingBar_slide_box__hSsbE",swiper_slide:"MarketingBar_swiper_slide__rz313",item_box:"MarketingBar_item_box__AhfwY",desc_box:"MarketingBar_desc_box__sHa9C",img_marketing:"MarketingBar_img_marketing__wePCv",item_wrap:"MarketingBar_item_wrap__mU59B",attention:"MarketingBar_attention__g8tNI",horn_icon:"MarketingBar_horn_icon__QGEdp",text:"MarketingBar_text__LNYw9",more:"MarketingBar_more__HDicT",vip_bar:"MarketingBar_vip_bar__iUDoy",purple_theme:"MarketingBar_purple_theme__ZDUwm",check_btn:"MarketingBar_check_btn__6IN2e",blue_theme:"MarketingBar_blue_theme__ReRaQ",yellow_theme:"MarketingBar_yellow_theme__x-gm+",theme:"MarketingBar_theme__+auBQ",sub_text:"MarketingBar_sub_text__VzGDB",item_check_img:"MarketingBar_item_check_img__U2gui",item_box_opacity:"MarketingBar_item_box_opacity__lNSpe",slide_point_box:"MarketingBar_slide_point_box__Stj10",point:"MarketingBar_point__7Ln-V",attention_text:"MarketingBar_attention_text__VOyGU"}}}]);