"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1814],{ckve:function(e,t,n){n.r(t),n.d(t,{default:);var s=n("11lP"),r=n("dLhX"),i=n("fhF1"),a=n("QslU"),o=n("Oz0t"),l=n("V67U"),c=n.n(l),d=n("Lyiq"),E=n("gMkK"),_=n("bBVy"),u=n("DAsg"),h=n("beVP"),T=n("2GZr"),R=n("FhAj"),A=n("bPwt"),p=n("t/nd"),O=n("f+Nb"),L=n("UT5F"),D=n("VG2F"),C=n("op6l"),S="crosslinks",P="ma-ModalCrosslinkPageCreate",f=function(e){var t=e.visible,n=e.onClose,r=e.selectedPages,i=void 0===r?[]:r,l=(0,o.useContext)(_.Z),c=l.i18n,d=l.domain,E=((0,D.e)()||{}).add,u=1===i.length,f=(0,o.useState)(!1),I=f[0],g=f[1],x=(0,o.useState)([]),N=x[0],v=x[1],m=(0,o.useState)({}),j=m[0],y=m[1],b=(0,o.useState)(!1),M=b[0],k=b[1],G=(0,o.useState)({}),Z=G[0],w=G[1],B=N.length>0,U=function(e){var t=e.i18n,n=e.crosslinkList,s=e.haveCrosslinks;return{form:{id:"modal-crosslink-page-create",type:"group",fields:[{type:"text",display:"multiline",id:S,label:t.t("MODAL_CROSSLINK_PAGE_CREATE_FORM_LABEL"),hint:JSON.stringify([{path:"ejemplo",seoKeyword:"ejemplo"},{path:"ejemplo",seoKeyword:"ejemplo"}],null,2),required:!0,value:s?JSON.stringify(n,null,2):"",constraints:[{property:{maxlength:"20000"}}]}]}}}({i18n:c,crosslinkList:N,haveCrosslinks:B});(0,o.useEffect)((function(){if(t)if(t&&u){var e=(0,h.Z)((function(){var e,t,n,r,a,o;return(0,T.__generator)(this,(function(l){switch(l.label){case 0:return k(!0),[4,d.get("get_crosslink_page_seo_backweb_use_case").execute({path:i[0]})];case 1:return e=l.sent(),t=e[0],n=e[1],t?w(((r={})[S]=[c.t("MODAL_CROSSLINK_PAGE_CREATE_GET_CROSSLINK_ERROR")],r)):(a=n.crosslinkList,v(a),y((0,s.Z)({},a.length>0&&((o={})[S]=JSON.stringify(a),o)))),g(!0),k(!1),[2]}}))}));e()}else t&&!u&&g(!0);else w({})}),[t]);var K=(0,h.Z)((function(e){var t,s,r;return(0,T.__generator)(this,(function(a){switch(a.label){case 0:return t=e.form,k(!0),[4,d.get("add_crosslinks_page_seo_backweb_use_case").execute(t)];case 1:return s=a.sent(),r=s[0],E({content:r?c.t("MODAL_CROSSLINK_PAGE_CREATE_ADD_CROSSLINK_ERROR"):c.t("MODAL_CROSSLINK_PAGE_CREATE_SUCCESS",i.length),type:r?"error":"success"}),k(!1),n(),[2]}}))})),F=function(){var e;K({form:(e={pages:i},e[S]=JSON.parse(j[S]),e)})},W=function(e){var t=e.errors;w(t)},q=function(e){y(e)},H=function(){var e;if(j[S])try{JSON.parse(j[S])}catch(e){var t;w(((t={})[S]=[c.t("MODAL_CROSSLINK_PAGE_CREATE_FORM_ERROR_JSON")],t))}else w(((e={})[S]=[c.t("MODAL_CROSSLINK_PAGE_CREATE_FORM_ERROR_EMPTY")],e))},V=function(e){var t,n=e.id;return((t={})[S]={size:"long"},t)[n]};return(0,a.jsx)(L.Z,{visible:t,onClose:n,header:(0,a.jsxs)("div",{className:P+"-wrapper",children:[(0,a.jsx)("p",{className:P+"-title",children:c.t("MODAL_CROSSLINK_PAGE_CREATE_TITLE")}),(0,a.jsx)(C.Z,{value:u,children:function(){return(0,a.jsx)("p",{className:P+"-subtitle",children:i[0]})}})]}),withoutIndentation:!0,children:(0,a.jsxs)("div",{className:P,children:[(0,a.jsx)(C.Z,{value:M,children:function(){return(0,a.jsx)(A.Z,{})}}),(0,a.jsx)(C.Z,{value:I,children:function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Z,{value:!u,children:function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:P+"-paths",children:c.t("MODAL_CROSSLINK_PAGE_CREATE_SELECTED_PATHS")}),(0,a.jsx)("div",{className:P+"-dropdown-list",children:i.map((function(e){return(0,a.jsx)(p.ZP,{value:e,children:e},e)}))})]})}}),(0,a.jsx)(O.ZP,{fields:j,setFields:q,errors:Z,setErrors:w,onBlur:H,formJSON:U,renderer:V,onSubmitWithValidationErrors:W,onSubmitSuccessfully:F,children:(0,a.jsxs)("div",{className:P+"-buttons",children:[(0,a.jsx)(R.ZP,{onClick:n,isButton:!0,color:"neutral",children:c.t("MODAL_CROSSLINK_PAGE_CREATE_BUTTON_CANCEL")}),(0,a.jsx)(R.ZP,{isSubmit:!0,color:"primary",children:c.t("MODAL_CROSSLINK_PAGE_CREATE_BUTTON_SUBMIT")})]})})]})}})]})})};f.displayName="ModalCrosslinkPageCreate",f.propTypes={visible:c().bool,selectedPages:c().array.isRequired,onClose:c().func.isRequired};var I=f,g="ma-ModalHeaderDelete",x=function(e){var t=e.path,n=e.isMultiDelete,s=e.totalPagesToDelete,r=e.totalDeletedPages,i=(0,o.useContext)(_.Z).i18n;return(0,a.jsxs)("div",{className:g,children:[(0,a.jsx)("p",{className:g+"-title",children:n?n&&"number"==typeof s?i.t("MODAL_DELETE_PAGES_MULTI_TITLE",{total:s}):n&&"number"==typeof r?i.t("MODAL_DELETE_PAGES_MULTI_TITLE_ERRORS",{total:r}):void 0:i.t("MODAL_DELETE_PAGES_INDIVIDUAL_TITLE")}),(0,a.jsx)(C.Z,{value:t,children:function(){return(0,a.jsx)("p",{className:g+"-path",children:t})}})]})};x.displayName="ModalHeader",x.propTypes={path:c().string,isMultiDelete:c().bool,totalPagesToDelete:c().number,totalDeletedPages:c().number};var N=x,v=function(e){var t=e.source,n=e.onCopyClick,r=void 0===n?n,i=e.separator,o=void 0===i?"\n ":i,l=e.buttonProps,c=void 0===l?{}:l,d=e.children;return(0,a.jsx)(R.ZP,(0,s.Z)({},c,{onClick:function(){var e=Array.isArray(t)?t.join(o):t;if(navigator.clipboard)navigator.clipboard.writeText(e);else{var n=document.createElement("textarea");n.value=e,n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}r(e)},children:d}))};v.displayName="ButtonCopyClipboard",v.propTypes={source:c().oneOfType([c().string,c().arrayOf(c().string)]).isRequired,onCopyClick:c().func,separator:c().string,buttonProps:c().object,children:c().node};var m=v,j=n("p3Wl"),y="ma-MultiDeleteErrors",b=function(e){var t=e.errors,n=void 0===t?[]:t,s=e.onCopyClick,r=(0,o.useContext)(_.Z).i18n,i=n.length;return(0,a.jsxs)("div",{className:y,children:[(0,a.jsx)("p",{className:y+"-description",children:r.t("MODAL_DELETE_MULTI_PAGE_ERROR_DESCRIPTION",i)}),(0,a.jsxs)("p",{className:y+"-dropdown-label",children:[(0,a.jsx)(j.Z,{className:y+"-icon"}),r.t("MODAL_DELETE_MULTI_PAGE_ERROR_NOT_DELETED_TEXT",i)]}),(0,a.jsx)("div",{className:y+"-dropdown-list",children:n.map((function(e){return(0,a.jsx)(p.ZP,{value:e.page,children:e.page},e.page)}))}),(0,a.jsx)("div",{className:y+"-button",children:(0,a.jsx)(m,{source:n.map((),onCopyClick:s,buttonProps:{color:"primary"},children:r.t("MODAL_DELETE_PAGE_COPY_PATHS_NOT_DELETED_BUTTON",i)})})]})};b.displayName="MultiDeleteErrors",b.propTypes={errors:c().array,onCopyClick:c().func.isRequired};var M=b,k="ma-SingleDeleteRedirectedInfo",G=function(e){var t=e.redirectedPage,n=(0,o.useContext)(_.Z).i18n;return(0,a.jsxs)("div",{className:k,children:[(0,a.jsx)("p",{className:k+"-label",children:n.t("MODAL_DELETE_PAGES_INDIVIDUAL_LABEL_DESTINATION_PATH")}),(0,a.jsx)("p",{className:k+"-path",children:t})]})};G.displayName="SingleDeleteRedirectedInfo",G.propTypes={redirectedPage:c().string};var Z=G,w="ma-ModalDeletePages",B=function(e){var t=e.visible,n=e.selectedPages,r=void 0===n?[]:n,i=e.hasAnyRedirectedPage,l=e.redirectedPage,c=e.onClose,d=(0,o.useContext)(_.Z),E=d.i18n,u=d.domain,p=((0,D.e)()||{}).add,O=function(e){var t=e.text,n=e.type,s=void 0===n?"error":n;return p({content:E.t(t),type:s})},S=1===r.length,P=r.length>1,f=(0,o.useState)(!1),I=f[0],g=f[1],x=(0,o.useState)({}),v=x[0],m=x[1];(0,o.useEffect)((,[t]);var j=(0,h.Z)((function(e){var t,n,s,r;return(0,T.__generator)(this,(function(i){switch(i.label){case 0:return g(!0),t=e.map((function(e){return{path:e}})),[4,u.get("delete_pages_seo_backweb_use_case").execute({pages:t})];case 1:return n=i.sent(),s=n[0],r=n[1],s?(O({text:"MODAL_DELETE_INDIVIDUAL_PAGE_GENERIC_ERROR"}),c()):r.errors?function(e){var t=e.deletePagesResult;if(S)O({text:"MODAL_DELETE_INDIVIDUAL_PAGE_ERROR"}),c();else if(P){var n=t.deletedPages,s=t.errors;m({deletedPages:n,errors:s})}}({deletePagesResult:r}):(O({text:E.t(S?"MODAL_DELETE_INDIVIDUAL_PAGE_SUCCESS":"MODAL_DELETE_MULTI_PAGE_SUCCESS",{countPaths:e.length}),type:"success"}),c({requireAction:!0})),g(!1),[2]}}))})),y=b=function(){0===v.deletedPages?c():c({requireAction:!0})};return(0,a.jsx)(L.Z,{visible:t,onClose:c,header:(0,a.jsx)(N,(0,s.Z)({},S?{path:r[0]}:P&&!v.errors?{isMultiDelete:P,totalPagesToDelete:r.length}:P&&v.errors?{isMultiDelete:P,totalDeletedPages:v.deletedPages}:void 0)),withoutIndentation:!0,children:(0,a.jsxs)("div",{className:w,children:[(0,a.jsx)(C.Z,{value:I,children:function(){return(0,a.jsx)(A.Z,{})}}),(0,a.jsx)(C.Z,{value:!v.errors,children:function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Z,{value:S&&i,children:function(){return(0,a.jsx)(Z,{redirectedPage:l})}}),(0,a.jsx)("p",{className:w+"-description",children:E.t(S&&!i?"MODAL_DELETE_PAGES_INDIVIDUAL_DESCRIPTION":S&&i?"MODAL_DELETE_PAGES_INDIVIDUAL_DESCRIPTION_REDIRECT":P&&!i?"MODAL_DELETE_PAGES_MULTI_DESCRIPTION":P&&i?"MODAL_DELETE_PAGES_MULTI_DESCRIPTION_REDIRECT":void 0)}),(0,a.jsxs)("div",{className:w+"-buttons",children:[(0,a.jsx)(R.ZP,{color:"neutral",onClick:c,children:E.t("MODAL_DELETE_PAGE_BUTTON_CANCEL")}),(0,a.jsx)(R.ZP,{color:"error",onClick:y,children:E.t("MODAL_DELETE_PAGE_BUTTON_CONFIRM",r.length)})]})]})}}),(0,a.jsx)(C.Z,{value:P&&v.errors,children:function(){return(0,a.jsx)(M,{errors:v.errors,onCopyClick:b})}})]})})};B.displayName="ModalDeletePages",B.propTypes={visible:c().bool,selectedPages:c().array.isRequired,hasAnyRedirectedPage:c().bool,redirectedPage:c().string,onClose:c().func.isRequired};var U=B,K="seoKeyword",F="ma-ModalEditPages",W=function(e){var t=e.visible,n=e.selectedPages,r=void 0===n?[]:n,i=e.seoKeyword,l=void 0===i?"":i,c=e.onClose,d=(0,o.useContext)(_.Z),E=d.i18n,u=d.domain,S=((0,D.e)()||{}).add,P=r.length,f=1===P,I=P>1,g=function(e){var t=e.text,n=e.type,s=void 0===n?"error":n;return S({content:E.t(t,P),type:s})},x=(0,o.useState)(!1),N=x[0],v=x[1],m=(0,o.useState)({seoKeyword:l}),j=m[0],y=m[1],b=(0,o.useState)({}),M=b[0],k=b[1],G=function(e){var t=e.i18n,n=e.totalSelectedPages,s=e.seoKeyword;return{form:{id:"modal-edit-pages",type:"group",fields:[{type:"text",display:"",id:K,label:t.t("MODAL_EDIT_PAGES_FORM_SEO_KEYWORD_LABEL"),hint:t.t("MODAL_EDIT_PAGES_FORM_SEO_KEYWORD_PLACEHOLDER",n),value:s,required:!0,constraints:[{property:{notnull:""},message:t.t("MODAL_EDIT_PAGES_FORM_SEO_KEYWORD_ERROR_EMPTY")}]}]}}}({i18n:E,totalSelectedPages:P,seoKeyword:l});(0,o.useEffect)((,[t]);var Z=(0,h.Z)((function(e){var t,n,r;return(0,T.__generator)(this,(function(i){switch(i.label){case 0:return t=e.form,v(!0),n=t.pagesAllowedList,[4,u.get("edit_pages_seo_backweb_use_case").execute((0,s.Z)({},t,{pagesAllowedList:n.map(()}))];case 1:return r=i.sent(),r[0]?(g({text:"MODAL_EDIT_PAGES_GENERIC_ERROR"}),c()):(g({text:"MODAL_EDIT_PAGES_SUCCESS",type:"success"}),c({requireAction:!0})),v(!1),[2]}}))}));return(0,a.jsx)(L.Z,{visible:t,onClose:c,header:E.t("MODAL_EDIT_PAGES_TITLE"),withoutIndentation:!0,children:(0,a.jsxs)("div",{className:F,children:[(0,a.jsx)(C.Z,{value:N,children:function(){return(0,a.jsx)(A.Z,{})}}),(0,a.jsx)("p",{className:F+"-label",children:E.t("MODAL_EDIT_PAGES_LABEL_PATH",P)}),(0,a.jsx)(C.Z,{value:f,children:function(){return(0,a.jsx)("p",{className:F+"-path",children:r[0]})}}),(0,a.jsx)(C.Z,{value:I,children:function(){return(0,a.jsx)("div",{className:F+"-dropdown-list",children:r.map((function(e){return(0,a.jsx)(p.ZP,{value:e,children:e},e)}))})}}),(0,a.jsx)(O.ZP,{fields:j,setFields:function(e){y(e)},errors:M,setErrors:k,formJSON:G,onSubmitWithValidationErrors:function(e){var t=e.errors;k(t)},onSubmitSuccessfully:function(){var e;return Z({form:(e={pagesAllowedList:r},e[K]=j[K],e)})},children:(0,a.jsxs)("div",{className:F+"-buttons",children:[(0,a.jsx)(R.ZP,{onClick:c,isButton:!0,color:"neutral",children:E.t("MODAL_EDIT_PAGES_BUTTON_CANCEL")}),(0,a.jsx)(R.ZP,{isSubmit:!0,color:"primary",children:E.t("MODAL_EDIT_PAGES_BUTTON_CONFIRM")})]})})]})})};W.displayName="ModalEditPages",W.propTypes={visible:c().bool,selectedPages:c().array.isRequired,seoKeyword:c().string,onClose:c().func.isRequired};var q=W,H="originPages",V="destinationPage",Y="ma-ModalHeaderMultiRedirect",z=function(e){var t=e.totalOriginPages,n=e.totalOriginPagesErrors,s=e.destinationPage,r=(0,o.useContext)(_.Z).i18n;return(0,a.jsx)("p",{className:Y,dangerouslySetInnerHTML:{__html:r.t(n>0?"MODAL_REDIRECT_PAGES_CONFIRM_TITLE":"MODAL_REDIRECT_PAGES_TITLE",{countPaths:t-n,highlightStart:'<span class="'+Y+'-path">',path:s,highlightEnd:"</span>",paragraphBreak:"<br />"})}})};z.displayName="ModalHeaderMultiRedirect",z.propTypes={totalOriginPages:c().number.isRequired,totalOriginPagesErrors:c().number.isRequired,destinationPage:c().string.isRequired};var J=z,X=n("953K"),Q="ma-OriginErrorsMultiRedirect",$=function(e){var t=e.errors,n=(0,o.useContext)(_.Z).i18n;return(0,a.jsxs)("div",{className:Q,children:[(0,a.jsx)("p",{className:Q+"-description",children:n.t("MODAL_REDIRECT_PAGES_ERROR_DESCRIPTION",t.length)}),(0,a.jsxs)("p",{className:Q+"-label",children:[(0,a.jsx)(X.Z,{className:Q+"-icon"}),n.t("MODAL_REDIRECT_PAGES_PATH_NOT_REDIRECTED_TEXT")]}),(0,a.jsx)("div",{className:Q+"-errors",children:t.map(()})]})};$.displayName="OriginErrorsMultiRedirect",$.propTypes={errors:c().array.isRequired};var ee=$,te="ma-OriginFieldMultiRedirect",ne=function(e){var t=e.paths,n=(0,o.useContext)(_.Z).i18n;return(0,a.jsxs)("div",{className:te,children:[(0,a.jsx)("p",{className:te+"-label",children:n.t("MODAL_REDIRECT_PAGES_MULTI_FORM_ORIGIN_PAGE_LABEL")}),(0,a.jsx)("div",{className:te+"-paths",children:t.map(()})]})};ne.displayName="ModalRedirectPages",ne.propTypes={paths:c().string.isRequired};var se=ne,re="ma-OriginFieldSingleRedirect",ie=function(e){var t=e.path,n=(0,o.useContext)(_.Z).i18n;return(0,a.jsxs)("div",{className:re,children:[(0,a.jsx)("p",{className:re+"-label",children:n.t("MODAL_REDIRECT_PAGES_SINGLE_FORM_ORIGIN_PAGE_LABEL")}),(0,a.jsx)("p",{className:re+"-path",children:t})]})};ie.displayName="ModalRedirectPages",ie.propTypes={path:c().string.isRequired};var ae=ie,oe="ma-ModalRedirectPages",le=function(e){var t=e.visible,n=e.selectedPages,s=void 0===n?[]:n,r=e.onClose,l=(0,o.useContext)(_.Z),c=l.i18n,d=l.domain,E=function(e){var t=e.i18n;return{form:{id:"modal-redirect-pages",type:"group",fields:[{type:"text",display:"",id:V,label:t.t("MODAL_REDIRECT_PAGES_FORM_DESTINATION_PAGE_LABEL"),hint:t.t("MODAL_REDIRECT_PAGES_FORM_DESTINATION_PAGE_PLACEHOLDER"),required:!0,constraints:[{property:{notnull:""},message:t.t("MODAL_REDIRECT_PAGES_FORM_DESTINATION_PAGE_ERROR_EMPTY")},{property:{pattern:O.n9},message:t.t("MODAL_REDIRECT_PAGES_FORM_DESTINATION_PAGE_ERROR_INVALID")}]}]}}}({i18n:c}),u=((0,D.e)()||{}).add,p=function(e){var t=e.text,n=e.type,s=void 0===n?"error":n;return u({content:c.t(t),type:s})},S=(0,o.useState)(!1),P=S[0],f=S[1],I=(0,o.useState)({}),g=I[0],x=I[1],N=(0,o.useState)({}),v=N[0],j=N[1],y=(0,o.useState)([]),b=y[0],M=y[1],k=1===s.length,G=s.length>1,Z=b.length>0;(0,o.useEffect)((function(){t||(x({}),j({}),M([]))}),[t]);var w=B=U=function(){var e;K({form:(e={},e[H]=s,e[V]=g[V],e)})},K=(0,h.Z)((function(e){var t,n,i,a;return(0,T.__generator)(this,(function(o){switch(o.label){case 0:return t=e.form,f(!0),[4,d.get("redirect_page_seo_backweb_use_case").execute(t)];case 1:return n=o.sent(),i=n[0],a=n[1],i?function(e){var t,n,s=e.error,i=d.get("config").get("SEO_BACKWEB").ERRORS,a=i.DestinationPageIsRedirectedSeoBackwebError,o=i.DestinationPageNotInAllowedListSeoBackwebError;s instanceof a?j(((t={})[V]=[c.t("MODAL_REDIRECT_PAGES_FORM_DESTINATION_PAGE_ERROR_ALREADY_REDIRECTED")],t)):s instanceof o?j(((n={})[V]=[c.t("MODAL_REDIRECT_PAGES_FORM_DESTINATION_PAGE_ERROR_NOT_EXISTS")],n)):(p({text:k?"MODAL_REDIRECT_PAGES_FORM_ERROR_GENERIC":"MODAL_REDIRECT_PAGES_MULTI_FORM_GENERIC_ERROR"}),r())}({error:i}):a.errors.length?k?function(e){var t,n=e.error,s=d.get("config").get("SEO_BACKWEB").SEO_CONSTANTS.ORIGIN_PAGE_REDIRECT_ERROR_TYPES,i=s.PAGE_ALREADY_REDIRECTED,a=s.PAGE_NOT_IN_ALLOWED_LIST,o=s.INCORRECT_PAGE_FORMAT,l=s.PAGE_DESTINATION_OF_REDIRECT,c=s.REDIRECTION_LOOP_DETECTED;switch(r(),n){case i:t="MODAL_REDIRECT_PAGES_SINGLE_FORM_ORIGIN_PAGE_ERROR_ALREADY_REDIRECTED";break;case a:t="MODAL_REDIRECT_PAGES_SINGLE_FORM_ORIGIN_PAGE_ERROR_NOT_EXISTS";break;case o:t="MODAL_REDIRECT_PAGES_SINGLE_FORM_ORIGIN_PAGE_ERROR_INCORRECT_FORMAT";break;case l:t="MODAL_REDIRECT_PAGES_SINGLE_FORM_ORIGIN_PAGE_ERROR_DESTINATION_OF_PAGE";break;case c:t="MODAL_REDIRECT_PAGES_SINGLE_FORM_ORIGIN_PAGE_ERROR_REDIRECTION_LOOP_DETECTED";break;default:t=k?"MODAL_REDIRECT_PAGES_FORM_ERROR_GENERIC":"MODAL_REDIRECT_PAGES_MULTI_FORM_GENERIC_ERROR"}p({text:t})}({error:a.errors[0].error}):G&&M(a.errors):(l=k?c.t("MODAL_REDIRECT_PAGES_SINGLE_FORM_SUCCESS"):c.t("MODAL_REDIRECT_PAGES_MULTI_FORM_SUCCESS",{paths_redirected:s.length}),p({text:l,type:"success"}),w()),f(!1),[2]}var l}))})),F=W=k?c.t("MODAL_REDIRECT_PAGES_TITLE"):(0,a.jsx)(J,{totalOriginPages:s.length,totalOriginPagesErrors:b.length,destinationPage:g.destinationPage});return(0,a.jsx)(L.Z,{visible:t,onClose:r,header:W,withoutIndentation:!0,children:(0,a.jsxs)("div",{className:oe,children:[(0,a.jsxs)("div",{className:oe+"-content",children:[(0,a.jsx)(C.Z,{value:P,children:),(0,a.jsx)(C.Z,{value:k,children:function(){return(0,a.jsx)(ae,{path:s[0]})}}),(0,a.jsx)(C.Z,{value:G&&!Z,children:),(0,a.jsx)(C.Z,{value:k||G&&!Z,children:function(){return(0,a.jsx)(O.ZP,{fields:g,setFields:F,errors:v,setErrors:j,formJSON:E,onSubmitWithValidationErrors:B,onSubmitSuccessfully:U,children:(0,a.jsxs)("div",{className:oe+"-buttons",children:[(0,a.jsx)(R.ZP,{onClick:r,color:"neutral",children:c.t("MODAL_REDIRECT_PAGES_FORM_BUTTON_CANCEL")}),(0,a.jsx)(R.ZP,{isSubmit:!0,color:"primary",children:c.t("MODAL_REDIRECT_PAGES_FORM_BUTTON_SUBMIT")})]})})}}),(0,a.jsx)(C.Z,{value:G&&Z,children:)]}),(0,a.jsx)(C.Z,{value:G&&Z,children:function(){return(0,a.jsx)("div",{className:oe+"-footer",children:(0,a.jsx)(m,{source:b.reduce((function(e,t){return(0,i.Z)(e).concat([t.page])}),[]),onCopyClick:w,buttonProps:{color:"primary"},children:c.t("MODAL_REDIRECT_PAGES_COPY_PATHS_NOT_REDIRECTED_BUTTON")})})}})]})})};le.displayName="ModalRedirectPages",le.propTypes={visible:c().bool,selectedPages:c().arrayOf(c().string).isRequired,onClose:c().func.isRequired};var ce=le,de=n("jv9h"),Ee=n("TI3h"),_e=n("B50G"),ue=n("goU+"),he=n("BPq9"),Te=n("8uT8"),Re=n("XErn"),Ae="ma-TableAllowedListActions",pe=function(e){var t=e.showActions,n=e.designHead,s=void 0!==n&&n,r=e.disabledRedirect,i=e.disabledDelete,o=e.onClickAddCrosslink,l=e.onClickRedirect,c=e.onClickDelete,d=e.onClickEdit;return t?(0,a.jsx)(de.ZP,{placement:de.pd.BOTTOM_END,content:(0,a.jsxs)("div",{className:Ae+"-popover",children:[(0,a.jsx)(R.ZP,{type:"button",onClick:o,negative:!s,color:"neutral",design:s?R.hq.SOLID:R.hq.FLAT,leftIcon:(0,a.jsx)(Ee.Z,{className:Ae+"-button-icon"}),"data-testid":"SEO_BACKWEB_ADD_CROSSLINK_BUTTON",alignment:R.Kv.LEFT,fullWidth:!0,isFitted:!0,children:(0,a.jsx)(Re.ZP,{as:"span",i18nKey:"TABLE_ALLOWED_LIST_CROSSLINK_BUTTON",size:Re.ZP.sizeTypes.s})}),(0,a.jsx)(R.ZP,{type:"button",onClick:l,disabled:r,color:"neutral",negative:"false",design:R.hq.FLAT,leftIcon:(0,a.jsx)(Te.Z,{className:Ae+"-icon"}),"data-testid":"SEO_BACKWEB_REDIRECT_BUTTON",alignment:R.Kv.LEFT,fullWidth:!0,isFitted:!0,children:(0,a.jsx)(Re.ZP,{as:"span",i18nKey:"TABLE_ALLOWED_LIST_REDIRECT_BUTTON",size:Re.ZP.sizeTypes.s})}),(0,a.jsx)(R.ZP,{type:"button",onClick:d,color:"neutral",negative:"false",design:R.hq.FLAT,leftIcon:(0,a.jsx)(he.Z,{className:Ae+"-icon"}),"data-testid":"SEO_BACKWEB_EDIT_BUTTON",alignment:R.Kv.LEFT,fullWidth:!0,isFitted:!0,children:(0,a.jsx)(Re.ZP,{as:"span",i18nKey:"TABLE_ALLOWED_LIST_EDIT_BUTTON",size:Re.ZP.sizeTypes.s})}),(0,a.jsx)(R.ZP,{type:"button",onClick:c,disabled:i,negative:"false",color:"neutral",design:R.hq.FLAT,leftIcon:(0,a.jsx)(_e.Z,{className:Ae+"-icon"}),"data-testid":"SEO_BACKWEB_DELETE_BUTTON",alignment:R.Kv.LEFT,fullWidth:!0,isFitted:!0,children:(0,a.jsx)(Re.ZP,{as:"span",i18nKey:"TABLE_ALLOWED_LIST_DELETE_BUTTON",size:Re.ZP.sizeTypes.s})})]}),children:(0,a.jsx)("div",{children:(0,a.jsx)(R.ZP,{type:"button",negative:!s,color:"neutral",design:s?R.hq.SOLID:R.hq.FLAT,leftIcon:(0,a.jsx)(ue.Z,{className:Ae+"-icon"}),"data-testid":"SEO_BACKWEB_OPTIONS_BUTTON"})})}):null};pe.displayName="Actions",pe.propTypes={designHead:c().bool,disabledRedirect:c().bool,disabledDelete:c().bool,showActions:c().bool,onClickAddCrosslink:c().func,onClickRedirect:c().func,onClickDelete:c().func,onClickEdit:c().func};var Oe=pe,Le=n("7aI0"),De=n.n(Le),Ce=n("ksKk"),Se="ma-TableAllowedList-AllowedListSort",Pe={UP:"up",DOWN:"down"},fe=function(e){var t=e.sortType,n=e.onSortClick,s=e.children,r=function(e){var n,s=e.selectedSortType;return De()(Se+"-arrow",Se+"-arrow-"+s,((n={})[Se+"-arrow-"+s+"--active"]=s===t,n))};return(0,a.jsxs)("div",{className:Se,children:[s,(0,a.jsxs)("div",{className:Se+"-sort",onClick:n,onKeyDown:n,role:"button",tabIndex:0,"data-testid":"SORT_ALLOWED_LIST_BUTTON",children:[(0,a.jsx)(Ce.Z,{className:r({selectedSortType:Pe.DOWN}),"data-testid":"SORT_ALLOWED_LIST_ARROW_DOWN"}),(0,a.jsx)(Ce.Z,{className:r({selectedSortType:Pe.UP}),"data-testid":"SORT_ALLOWED_LIST_ARROW_UP"})]})]})};fe.displayName="Sort",fe.propTypes={sortType:c().oneOf(Object.values(Pe)),onSortClick:c().func.isRequired,children:c().node};var Ie=fe,ge=function(e,t){var n="ma-TableAllowedList"+(e||"");return n+" "+(n+"-"+(t||""))},xe=function(e){var t=e.children,n=e.elementClass,s=ge("BodyColumn",n);return(0,a.jsx)("div",{className:s,children:t})};xe.propTypes={children:c().node,elementClass:c().string};var Ne=xe,ve=n("IodX"),me=n("xoSl"),je="ma-TableAllowedList-PathBody",ye=function(e){var t=e.path,n=e.checkboxChecked,s=e.onChangeCheckbox;return(0,a.jsxs)("div",{className:je,children:[(0,a.jsx)("span",{className:je+"-checkbox",children:(0,a.jsx)(ve.ZP,{"data-testid":t,id:t,className:je+"-checkboxInput",onChange:s,checked:n,checkedIcon:me.Z})}),(0,a.jsx)("span",{className:je,children:t})]})};ye.displayName="PathBody",ye.propTypes={path:c().string,checkboxChecked:c().bool,onChangeCheckbox:c().func};var be=ye,Me=n("jAOJ"),ke="ma-TableAllowedList-StatusBody",Ge=function(e){var t=e.status,n=e.destinationPath,s=(0,o.useContext)(_.Z),r=s.i18n,i=s.domain.get("config").get("SEO_BACKWEB").SEO_CONSTANTS.PAGE_STATUS_LIST,l=function(e){switch(e.status){case i.INDEXED:return{text:"TABLE_ALLOWED_LIST_PATH_STATUS_INDEXED",className:ke+"-status-indexed"};case i.REDIRECTED:return{text:"TABLE_ALLOWED_LIST_PATH_STATUS_REDIRECTED",className:ke+"-status-redirected"};default:return""}}({status:t}),c=l.text,d=l.className;return(0,a.jsxs)("div",{className:ke,children:[(0,a.jsx)("span",{className:d,children:r.t(c)}),(0,a.jsx)(C.Z,{value:t===i.REDIRECTED,children:function(){return(0,a.jsx)(de.ZP,{placement:de.pd.TOP_END,content:(0,a.jsx)("p",{className:ke+"-popover",dangerouslySetInnerHTML:{__html:r.t("TABLE_ALLOWED_LIST_PATH_REDIRECTED_POPOVER",{highlightStart:'<span class="'+ke+'-popover-text">',highlightEnd:"</span>",paragraphBreak:"<br/>",pathRedirected:n})}}),children:(0,a.jsx)("span",{className:ke+"-icon",children:(0,a.jsx)(Me.Z,{})})})}})]})};Ge.displayName="StatusBody",Ge.propTypes={status:c().string,destinationPath:c().string};var Ze=Ge,we=function(e){var t=e.children,n=e.elementClass,s=ge("HeadColumn",n);return(0,a.jsx)("div",{className:s,children:t})};we.propTypes={children:c().node,elementClass:c().string};var Be=we,Ue="ma-TableAllowedList-PathHead",Ke=function(e){var t=e.checkboxChecked,n=e.onChangeCheckbox,s=(0,o.useContext)(_.Z).i18n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:Ue+"-checkbox",children:(0,a.jsx)(ve.ZP,{"data-testid":"SEO_BACKWEB_ALLOWED_LIST_CHECKBOX_ALL",className:Ue+"-checkbox",onChange:n,checked:t,checkedIcon:me.Z})}),(0,a.jsx)("span",{children:s.t("TABLE_ALLOWED_LIST_HEAD_PATH")})]})};Ke.displayName="PathHead",Ke.propTypes={checkboxChecked:c().bool,onChangeCheckbox:c().func};var Fe=Ke,We=ge(),qe="internalLinks",He="lastMonthVisits",Ve="path",Ye="relevance",ze="seoKeyword",Je="status",Xe="ADD_CROSSLINK",Qe="DELETE",$e="EDIT",et="REDIRECT",tt={show:""},nt={all:!1,totalChecked:0,checks:{}},st=function(e){var t=e.allowedList,n=void 0===t?[]:t,l=e.onActionUpdate,c=(0,o.useContext)(_.Z),h=c.i18n,T=c.domain.get("config").get("SEO_BACKWEB").SEO_CONSTANTS,R=T.PAGE_RELEVANCE_TYPES,A=T.PAGE_STATUS_LIST,p=T.PAGE_TYPE_LIST,O=(0,o.useState)(tt),L=O[0],D=O[1],S=(0,o.useState)(nt),P=S[0],f=S[1],g=(0,o.useState)({}),x=g[0],N=g[1],v=P.totalChecked>0,m=JSON.stringify(n);(0,o.useEffect)((,[m]);var j,y,b=function(e){var t=e.updatedChecks,n=e.totalPaths,s=Object.values(t);if(n===s.length&&s.every(Boolean))return{all:!0,totalChecked:s.length};var i=s.filter(Boolean).length;if(i)return{all:!1,totalChecked:i};return{checkboxesState:(0,r.Z)(nt,["checks"])}},M=function(e){var t,r=e.target.id,i=(0,s.Z)({},P.checks,((t={})[r]=!P.checks[r],t)),a=(0,s.Z)({checks:i},b({updatedChecks:i,totalPaths:n.length}));f(a)},k=function(){if(P.all)f(nt);else{var e=n.reduce((function(e,t){var n;return(0,s.Z)({},e,((n={})[t.path]=!0,n))}),{});f((0,s.Z)({checks:e},b({updatedChecks:e,totalPaths:n.length})))}},G=function(){return Object.entries(P.checks).some((function(e){var t=e[0];return e[1]&&n.some((function(e){return e.path===t&&e.status===A.REDIRECTED}))}))},Z=function(){return Object.entries(P.checks).reduce((function(e,t){var n=t[0];return t[1]?(0,i.Z)(e).concat([n]):e}),[])},w=function(){var e=Object.entries(P.checks).filter(();if(1===e.length){var t=e[0][0];return n.find(()}},B=function(){return D({show:et,selectedPages:Z()})},K=function(){var e=(w()||"").destinationPath;D((0,s.Z)({show:Qe,selectedPages:Z(),hasAnyRedirectedPage:G()},e&&{redirectedPage:e}))},F=function(){var e=(w()||"").seoKeyword;D((0,s.Z)({show:$e,selectedPages:Z()},e&&{seoKeyword:e}))},W=function(){return D({show:Xe,selectedPages:Z()})},H=function(e){var t=(void 0===e?{}:e).requireAction,n=void 0!==t&&t;D(tt),n&&l()},V=function(e){return"string"==typeof e?(e||"").toLowerCase():e},Y=function(e,t){var n=Object.entries(x).find(();if(!n)return 0;var s=n[0],r=n[1],i=V(e[s]),a=V(t[s]);return i>a?r===Pe.UP?1:-1:i<a?r===Pe.DOWN?1:-1:0},z=function(e){var t,n=e.field,s=function(e){var t=e.sortedType;return Object.values(Pe).some(()?t===Pe.UP?Pe.DOWN:t===Pe.DOWN?"":void 0:Pe.UP}({sortedType:x[n]});N(((t={})[n]=s,t))};return(0,a.jsxs)("div",{className:We,children:[(0,a.jsx)(E.ZP,{head:(j=Object.entries(P.checks).some((function(e){var t=e[0];return e[1]&&n.some(()})),y=G(),[(0,a.jsx)(Be,{children:(0,a.jsx)(Ie,{sortType:x[Ve],onSortClick:function(){return z({field:Ve})},children:(0,a.jsx)(Fe,{checkboxChecked:P.all,onChangeCheckbox:k})})}),(0,a.jsx)(Be,{children:(0,a.jsx)(Ie,{sortType:x[ze],onSortClick:function(){return z({field:ze})},children:h.t("TABLE_ALLOWED_LIST_HEAD_SEO_KEYWORD")})}),(0,a.jsx)(Be,{children:(0,a.jsx)(Ie,{sortType:x[He],onSortClick:function(){return z({field:He})},children:h.t("TABLE_ALLOWED_LIST_HEAD_LAST_MONTH_VISITS")})}),(0,a.jsx)(Be,{children:(0,a.jsx)(Ie,{sortType:x[qe],onSortClick:function(){return z({field:qe})},children:h.t("TABLE_ALLOWED_LIST_HEAD_INTERNAL_LINKS")})}),(0,a.jsx)(Be,{children:(0,a.jsx)(Ie,{sortType:x[Ye],onSortClick:function(){return z({field:Ye})},children:h.t("TABLE_ALLOWED_LIST_HEAD_RELEVANCE")})}),(0,a.jsx)(Be,{children:(0,a.jsx)(Ie,{sortType:x[Je],onSortClick:children:h.t("TABLE_ALLOWED_LIST_HEAD_STATUS")})}),(0,a.jsx)(Be,{children:(0,a.jsx)(Oe,{showActions:v,designHead:!0,onClickAddCrosslink:W,disabledRedirect:1===P.totalChecked&&(y||j),disabledDelete:1===P.totalChecked&&j,onClickRedirect:B,onClickDelete:K,onClickEdit:F})})]),body:[].concat(n).sort(Y).map((function(e){var t=e.destinationPath,n=e.internalLinks,s=e.lastMonthVisits,r=e.path,i=e.relevance,o=e.seoKeyword,l=e.status,c=e.type,E=l===A.REDIRECTED,_=c===p.CATEGORY,T=[{content:(0,a.jsx)(Ne,{children:(0,a.jsx)(be,{path:r,checkboxChecked:P.checks[r],onChangeCheckbox:M})})},{content:(0,a.jsx)(Ne,{elementClass:"seoKeyword",children:o})},{content:(0,a.jsx)(Ne,{children:h.n(s||0)})},{content:(0,a.jsx)(Ne,{children:h.n(n||0)})},{content:(0,a.jsx)(Ne,{children:i===R.STRATEGIC&&(0,a.jsx)(u.Z,{title:h.t("TABLE_ALLOWED_LIST_BODY_RELEVANCE_STRATEGIC"),color:d.wQ.primary,size:d.cz.medium})})},{content:(0,a.jsx)(Ne,{children:(0,a.jsx)(Ze,{status:l,destinationPath:t})})},{content:(0,a.jsx)(Oe,{showActions:!0,disabledRedirect:E||_,disabledDelete:_,onClickRedirect:function(){return function(e){var t=e.path;return D({show:et,selectedPages:[t]})}({path:r})},onClickDelete:function(){return function(e){var t=e.path,n=e.destinationPath;return D({show:Qe,selectedPages:[t],redirectedPage:n,hasAnyRedirectedPage:!!n})}({path:r,destinationPath:t})},onClickEdit:function(){return function(e){var t=e.path,n=e.seoKeyword;return D({show:$e,selectedPages:[t],seoKeyword:n})}({path:r,seoKeyword:o})},onClickAddCrosslink:function(){return function(e){var t=e.path;return D({show:Xe,selectedPages:[t]})}({path:r})}})}];return T})),cellPadding:E.Lf.m,borderBottom:!0,fullWidth:!0,zebraStriped:!0}),(0,a.jsx)(C.Z,{value:L.show===et,children:function(){return(0,a.jsx)(ce,{visible:!!L.show,selectedPages:L.selectedPages,onClose:H})}}),(0,a.jsx)(C.Z,{value:L.show===Qe,children:function(){return(0,a.jsx)(U,{visible:!!L.show,selectedPages:L.selectedPages,hasAnyRedirectedPage:L.hasAnyRedirectedPage,redirectedPage:L.redirectedPage,onClose:H})}}),(0,a.jsx)(C.Z,{value:L.show===$e,children:function(){return(0,a.jsx)(q,{visible:!!L.show,selectedPages:L.selectedPages,seoKeyword:L.seoKeyword,onClose:H})}}),(0,a.jsx)(C.Z,{value:L.show===Xe,children:function(){return(0,a.jsx)(I,{visible:!!L.show,selectedPages:L.selectedPages,onClose:H})}})]})};st.displayName="TableAllowedList",st.propTypes={allowedList:c().array,onActionUpdate:c().func};var rt=st}}]);