@font-face {
    font-family: "Ember";
    src: url(/sso/static/media/AmazonEmber-Regular.5e4033e3.ttf) format("truetype");
    font-weight: 400;
    font-style: normal
}

@font-face {
    font-family: "Ember";
    src: url(/sso/static/media/AmazonEmber-Bold.096beeeb.ttf) format("truetype");
    font-weight: 700
}

/* Footer - Start */

.footerAASAppSSO_footerAasApp__s_3ee {
    height: 80px;
    background: #232f3e;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    color: #f6f7f9;
    padding: 0 48px
}

.footerAASAppSSO_footerAasApp__s_3ee .footerAASAppSSO_footerEle__Nqn7I {
    margin-left: 24px
}

.footerAASAppSSO_footerAasApp__s_3ee .footerAASAppSSO_footerEle__Nqn7I.footerAASAppSSO_no-margin__tUjRj {
    margin-left: 0 !important
}

.footerAASAppSSO_footerAasApp__s_3ee .footerAASAppSSO_footerEle__Nqn7I a {
    color: #f6f7f9;
    text-decoration: none
}

.footerAASAppSSO_footerAasApp__s_3ee .footerAASAppSSO_footerEle__Nqn7I a:hover {
    text-decoration: underline
}

@media (max-width:900px) {
    .footerAASAppSSO_footerAasApp__s_3ee {
        display: flex;
        flex-direction: column !important;
        justify-content: center;
        padding: 0;
        font-size: 10px;
        flex-direction: row
    }

    .footerAASAppSSO_footerAasApp__s_3ee .footerAASAppSSO_footerEle__Nqn7I {
        margin-left: 12px
    }

    .footerAASAppSSO_footerAasApp__s_3ee .footerAASAppSSO_amazonInc__3Pvdi {
        margin-top: 10px
    }
}

.aasAppSssCommon_app__2Ai07 {
    font-family: Ember, sans-serif
}

/* Footer - End */

body{
    margin: 0px 0px;
    padding: 0px 0px;
    font-family: 'Lato', sans-serif;
}
header, .main, .top, .nav, .nav ul, .TitleHolder, .ContentMain, footer, footer ul{    
    display: inline-block;
    width: 100%;
}
header{
    background-image: url(../images/Sizmek_Home_1920x971.png); /*Change the image per page*/
    background-size: cover;
    background-position: 25% 45%;
    background-color: rgba(0, 104, 255, 0.85);
}
.top{
    padding: 35px 0px;
}
.logo{
    width: auto;
    height: 40px;
    z-index: 100;
    position: relative;
    top: -5px;
}
.main{
    background-color: rgba(0, 90, 149, 0.85);
    min-height: 500px;
}
.nav{
    text-align: right;
}
.nav ul{
    margin: 0px 0px;
    padding: 0px 0px;
}
.nav li{
    display: inline-block;
    list-style: none;
}
.nav li:last-child{
    margin-left: 15px;
}
.nav li a{
    border-radius: 2em;
    border: 2px solid #fff;
    padding: 14px 28px;
    margin-bottom: 0;
    letter-spacing: 1px;
    font-size: 14px;
    font-weight: 700;
    text-decoration: none;
    z-index: 1;
    color: #fff;
    opacity: 1;
    width: 100%;
    font-size: 14px;
    letter-spacing: .5px;
    text-transform: uppercase;
    z-index: 100;
    position: relative;
}
.nav li a:hover{
    border: 2px solid #fff !important;
    background-color: #0d2a4d !important;
}
.nav li:last-child a{
    background: #0d2a4d;
    border-radius: 2em;
    border: 2px solid #0d2a4d;
    padding: 14px 44px;
    margin-bottom: 0;
    letter-spacing: 1px;
    color: #fff!important;
}
.nav li:last-child a:hover{
    background-color: #0068ff !important;
}
.nav li ul{
    display: none;
}
.nav li:hover ul{
    display: inline-block;
    background: #0d2a4d;
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    z-index: 1;
    padding-top: 100px;
    padding-bottom: 40px;
    text-align: center;
}
.nav li ul li a{
    display: block;
    padding: 20px 20px !important;
    background: #144177 !important;
    text-align: left;
    min-width: 250px;
    border-radius: 10px !important;
}
.nav li ul li a span{
    display: inline-block;
    width: 100%;
    margin-top: 20px;
}
.mobile_nav{
    display: none;
}
.TitleHolder{
    text-align: center;
    color: #FFF;
    font-size: 26px;
    margin-top: 105px;
}
.TitleHolder h1{
    font-size: 48px;
}
.TitleHolder a{
    color: #FFF;
}
h1, h2{
    font-family: 'Titillium Web', sans-serif;
}

/*Content Area*/
.ContentMain{
    color: #0d2a4d;
    font-size: 20px;
    margin: 70px 0px;
}
.ContentMain h2, .ContentMain h2 strong{
    color: #005a95 !important;
}
.ContentMain h2{
    font-weight: 700;
}
.ContentMain h2 strong{
    font-weight: 700;
}
.ContentMain a{
    color: #005a95;
}
.ContentMain a:hover{
    color: #005a95;
    text-decoration: none;
}
.aligncenter{
    display: block;
    margin: 0px auto;
}

/*TABLE*/
table {
  background-color: rgba(0, 104, 255, 0.03);
  color: #0d2a4d;
  font-size: 13px;
  margin-bottom: 30px;
}
table td,
table th {
  padding: 20px;
}
table td p,
table th p {
  font-size: 13px;
  line-height: 1.333;
}
table td {
  border-left: 1px solid #0068ff;
}
table th {
  width: 20%;
}
table th h4 {
  color: #fff;
  font-size: 11px;
}
table tr {
  border-bottom: 1px solid #0068ff;
}
table tr.first-row {
  background-color: #0068ff;
  color: #fff;
  text-align: center;
  border-top: none;
  font-size: 11px;
  letter-spacing: 1px;
  border-bottom: none;
}
table tr.first-row th {
  border-left: 7px solid #fff;
  border-right: 6px solid #fff;
  text-align: center;
  padding: 20px 5px;
}
table tr.first-row th.end {
  border-right: none;
}
table tr.first-row .no-border,
table tr td:first-of-type {
  border-left: none;
}
/*TABLE*/

/*SIDEBAR*/
.sidebar{
    display: inline-block;
    width: 100%;
}
.sidebar a{
    text-decoration: none;
    display: inline-block;
    width: 100%;
    font-size: 14px;
    color: #005a95;
    margin-bottom: 20px;
}
.sidebar a:hover{
    text-decoration: underline;
}

/*Form*/
.sfholder{    
    background: #e9edf1;
    padding: 20px 30px
}
.sfholder h2{
    font-size: 20px;
    font-weight: bold;
}
.sfForm{
    border-radius: 0px;
    color: #909090;
    font-weight: 300;
    display: inline-block;
    font-size: 16px !important;
    line-height: 22px !important;
    margin-bottom: 0px;
    padding: 4px 6px;
    vertical-align: middle;
    border: none;
    outline: none;
}
.sfForm form{
    margin-bottom: 0px;
}
.sfForm select{
    background: white url(../images/form-arrow-AAblue.png) no-repeat scroll right;
    -webkit-appearance: none;
    text-indent: 0.01px;
    background-color: #ffffff;
    padding: 4px 6px;
    line-height: 22px;
}

.sfForm select:focus{
    color: #909090;
}

.sfForm input,select,textarea{
    width: 200px;
    color: #909090;
    margin-bottom: 20px;
}

.sfForm textarea{
    background-color: #FFF;
    height: 30px;
    overflow: auto;
    resize: none;
    border-radius: 0px;
    font-weight: 300;
    display: inline-block;
    padding: 4px 6px;
    vertical-align: middle;
    border: none;
    outline: none;
    border: #767676 solid 1px;
}
.sfForm label{
    width: 130px;
}
.ldescription{
    position: relative;
    top: -8px;
}
#submitBtn{
    color: rgb(255, 255, 255);
    background-color: rgb(13, 42, 77);
    border-radius: 2em;
    font-size: 14px;
    padding: 14px 42px;
    font-weight: 600;
    letter-spacing: 1px;
    margin-left: 130px;
    margin-bottom: 0px;
}

#submitBtn:hover {
    background-color: #0068ff;
}

.sfFormDescription h2{
    font-size: 26px !important;
    line-height: 32px;
    color: #000000;
    font-weight: 700;
    margin: 0 0 15px;
    text-align: left !important;
}
.spacer{
    margin-top: 60px;
    display: inline-block;
    width: 100%;
}

/*POP UP*/
.mobile-menu-wrapper{
    display: none;
    background: #0d2a4d;
    position: absolute;
    height: 100000%;
    top: 0px;
    left: 0px;
    width: 100%;
    z-index: 10000;
    text-align: center;
    color: #FFF;
    font-size: 18px;
}
.mobile-menu-wrapper ul{
    margin: 0px 0px;
    padding: 0px 0px;
}
.mobile-menu-wrapper li{
    list-style: none;
    padding: 0px 0px;
    margin: 0px 0px 15px;
}
.mobile-menu-wrapper li a{
    color: #FFF;
    text-decoration: none;
}
.mobile-menu-wrapper li a:hover{
    text-decoration: underline;
}
.close{
    font-size: 30px;
    display: block;
    padding-right: 40px;
    padding-top: 40px;
    text-align: right;
    cursor: pointer;
}
.mobile-menu-wrapper li ul{
    display: none;
}
.mobile-menu-wrapper li:hover ul{
    display: block;
}
.mobile-menu-wrapper li li{
    margin-bottom: 0px;
    font-size: 16px;
}
.mobile-menu-wrapper button{
    background: #FFF;
    position: relative;
    right: -5px;
    border: 0px;
    padding: 2px 5px;
    height: 30px;
    font-size: 19px;
    top: 1px;
}

/*Sticky Header*/
#sticky{
    display: none;
    background: #144177;
}

 body:not(#sticky) .anchor{
   /*position: relative;*/
   /* z-index: -1;*/
 }
 body:not(#sticky) .anchor:before {
   content: "";
   display: block;
   height: 100px;
   margin: -100px 0 0;
   visibility: hidden;
   pointer-events: none;
 }


.fixed{
    display: block !important;
    width: 100%;
    position: fixed;
    top: 0px;
    left: 0px;
}

.hnpt{
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    height: 0;
    width: 0;
    z-index: -1;
}

/*MEDIA QUERIES*/
@media (min-width: 1200px){
    .container, .content-area {
        width: 1170px;
    }
}
@media screen and (max-width: 1199px){
    .mobile_nav{
        display: block;
        color: #FFF;
        font-size: 22px;
        text-align: right;
        cursor: pointer;
    }
    .nav{
        display: none;
    }
}
@media screen and (max-width: 575px){
    .mobile_nav{
        margin-top: -26px;
    }
}d(e,{iF:()=>s,oo:()=>i});let a={};function i(t,e){a[t]=e}function s(t){clearInterval(a[t])}},7806:(t,e,n)=>{n.d(e,{MH:()=>o,iG:()=>s,tI:()=>i});let a={};function i(t,e){a[t]=e}function s(){Object.keys(a).forEach((t=>clearTimeout(a[t]))),a={}}function o(t){clearTimeout(a[t])}},6049:(t,e,n)=>{n.d(e,{Q:()=>i});var a=n(4284);async function i(){const{addJquery:t,jqueryVarName:e}=(0,a.wy)();if(t){let t;return""!==e&&null!=e&&(t=e.split(".").reduce(((t,e)=>t?t[e]:t),window)),t||window.jQuery||window.$}return window.jQuery}},3827:(t,e,n)=>{n.d(e,{CL:()=>L,oe:()=>P,sZ:()=>T,yT:()=>E,J5:()=>k,re:()=>O,UO:()=>I,pW:()=>C,z3:()=>R,rD:()=>B,Yg:()=>G,rl:()=>x,xC:()=>_,ST:()=>V,gy:()=>D});var a=n(1042),i=n(4284),s=n(3190),o=n(5027);const r=t=>t.reduce(((t,e)=>{const[n,a]=e;return 2===e.length?Object.assign(t,{[n]:a}):t}),{});var c=n(1117);const d=(0,c.W)(((t,e,n,a)=>t(a)?e(a):n(a)));var l=n(8390);const u=t=>t[t.length-1],g=(0,c.W)(((t,e)=>e.map(t))),h=(0,c.W)(((t,e)=>e.match(t)));var m=n(8075);const p=(0,c.W)(((t,e)=>e[t])),f=(0,c.W)(((t,e)=>e.reduce(((e,n)=>t(n)?e:e.concat(n)),[])));var v=n(294),y=n(2022);function w(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return(0,m.z)(h(t),d(s.k,(()=>""),u),(0,v.V)("&"),f(l.x),g((0,v.V)("=")),r)(e)}function A(t){return function(t){return/^(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:?[0-9]*)$/.test(t)}(t)||/\[(.)+\]/.test(t)}function T(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;if(!function(t){try{const{protocol:e}=t instanceof URL?t:new URL(t);return["http:","https:"].includes(e)}catch(t){return!1}}(t))return(0,a.vU)(`'${t}' is not an http url`),[];const e=S(t);return A(e)?[e]:(0,m.z)((t=>t.split(".")),(t=>t.reverse()),(t=>t.map(((e,n)=>{const a=t.reduce(((t,e,a)=>a<=n?`${e}.${t}`:t));return`.${a}`}))),(t=>t.length>1?t.slice(1):t))(e)}function b(t){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const e="ABTastyDomainTest=true",n=(0,i.wy)().isSecureCookie||(0,y.Lr)()?"Samesite=None;Secure;":"Samesite=Lax;",o=(0,m.z)((t=>T(t)),(t=>t.find((t=>(document.cookie=`${e};path=/;domain=${t};${n}`,-1!==document.cookie.indexOf(e))))))(t);return document.cookie=`${e};expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=${o};${n}`,(0,s.k)(o)||(0,l.x)(o)?((0,a.vU)(`no valid domain found for '${t}'`),null):o}(t)}const E=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const e={};return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const a=S(n);return e[a]||(e[a]=t(n)),e[a]}}();function S(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;try{return new URL(t).host}catch(e){return t}}function C(){return`${window.location.protocol}//`}function _(t){if(!t.includes("?")&&!t.includes("#"))return t;const e=t.match(/([^#?]+)((?:\?|\#)(?:.+))/i),n=e&&e[2]?e[2].match(/(?:\#|\?)([^#?]+)/gi):[],a=n&&n.reduce(((t,e)=>"?"===e[0]?[[...t[0],e],t[1]]:[t[0],[...t[1],e]]),[[],[]]).map((t=>t.map((t=>t.substring(1))))),i=a&&a[0].length?`?${a[0].join("&")}`:"",s=a&&a[1].length?`#${a[1].join("&")}`:"";return e?`${e[1]}${i}${s}`:t}function I(){return w(/\?([^#]+)/,arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href)}function k(){return w(/#([^?]+)/,arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href)}function O(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return(0,m.z)(I,p(t))(e)}function D(t){return-1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href).indexOf(t)}function R(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return(0,m.z)(B,p(t))(e)}function P(t,e,n){const a=new URL(n),i=""===a.search?"?":"&";return a.search+=`${i}${t}=${e}`,a.href}const N=/^([^=]+)=?(.*)$/;function B(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.includes("?")?(0,m.z)((t=>t.match(/\?([^#]+)/)),d(s.k,(()=>""),(t=>t[t.length-1])),(0,v.V)("&"),f((t=>(0,l.x)(t)||!N.test(t))),g((t=>t.match(N).slice(1))),d((()=>e),r,(t=>t)))(t):e?{}:[]}function L(t){if(null==t||""===t)return"";const e=t.includes("?")?"&":"?",n=B(t),a=B(window.location.href,!1),i=["gclid","cid","utm_source","utm_medium","utm_campaign","utm_term","utm_content","xtor","xts","xtdt","cm_mmc","MKZOID"],s=(0,m.z)((0,o.h)((t=>{let[e]=t;return!n[e]&&i.includes(e)})),g((t=>`${t[0]}=${t[1]}`)))(a);return 0===s.length?t:t+e+s.join("&")}function M(t){return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}function V(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;if(!t.includes("?")&&!e.includes("?"))return t;const n=B(t),a=B(e),i=`?${M(Object.assign({},a,n))}`,o=t.includes("#")?`#${M(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return t.includes("#")?(0,m.z)((t=>t.match(/#([^?]+)/)),d(s.k,(()=>""),(t=>t[t.length-1])),(0,v.V)("&"),f((t=>(0,l.x)(t)||!N.test(t))),g((t=>t.match(N).slice(1))),r)(t):{}}(t))}`:"",c=function(t){return t.includes("?")?t.indexOf("?"):t.includes("#")?t.indexOf("#"):t.length}(t);return`${t.slice(0,c)}${i}${o}`}function U(t,e){if(!t.includes(e))return t;const n=new URL(t);return n.search=n.search.replace(new RegExp(`${e}[^=&#?]*(=[^&#]+)?`,"g"),""),n.hash=n.hash.replace(new RegExp(`${e}[^=&#?]*(=[^&?]+)?`,"g"),""),n.href=n.href.replace(/\?$|\#$|&+$|(\?)&+|(\#)&+|(&)&+|\?(\#)|\#(\?)/g,"$1$2$3$4$5"),/\/[?#]/.test(t)?n.href:n.href.replace(/\/(\?|\#|$)/,"$1")}function $(t){return["tastypreprod","abtasty_qa_assistant"].reduce(U,t)}function j(t){try{return decodeURI(t)}catch(t){}return null}function x(t,e){let n,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;switch(t){case"is":case"simplematch":case"ignore_parameters":return n=function(t){const e=t?new URL(t):window.location,{origin:n,pathname:a}=e;return`${n}${a}`}(s),i=j(n),e===n||`${e}/`===n||e===i||`${e}/`===i;case"exact":case"equals":case"is strictly":return n=$(s||window.location.href),i=j(n),e===n||`${e}/`===n||e===i||`${e}/`===i;case"substring":case"contains":case"contain":return n=$(s||window.location.href),i=j(n),-1!==n.indexOf(e)||-1!==i.indexOf(e);case"regex":case"regexp":n=$(s||window.location.href);try{return new RegExp(e,"i").test(n)}catch(t){const n=`The url check used an invalid regular expression => ${e}`;return(0,a.vU)(n,t),!1}}}function G(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.host;return!(0,s.k)(t)&&!(0,l.x)(t)&&e.includes(t)}},4284:(t,e,n)=>{n.d(e,{$J:()=>f,DF:()=>v,MA:()=>o,Nn:()=>u,Oy:()=>g,Xx:()=>h,aD:()=>m,ae:()=>r,em:()=>d,kA:()=>p,ll:()=>c,wy:()=>l,zu:()=>s});var a=n(7230);const i={accountSettings:{id:52688,identifier:"1c0771ae02e29d7ce3e9557b9c6d87d6",accountName:"Awin",frameworkVersion:"latest",pack:"premium",quota:0,toleranceParams:[],toleranceRegex:null,omnitureIntegration:0,accountIframeException:!1,runAsThread:!1,addJquery:!1,jqueryVarName:null,ajaxAutoReload:!0,excludeIE:!0,hashMrasnAllowed:!0,globalCode:"",globalCodeOnDocReady:!0,customCookieDomain:null,customCookiePath:"/",isSecureCookie:!1,oneVisitorOneTest:!1,cookieLifespan:13,waitForConsent:{data:null,campaignRestrictions:{test:!0,perso:!0,redirection:!0,aa:!0,patch:!0},mode:"third_party"},storageMode:"cookies",datalayerVariable:"dataLayer",datalayerMaxToSend:100,tealiumAccountName:null,tealiumProfileName:null,apiTokenWeborama:null,getAlwaysWeborama:null,kruxNamespace:null,eulerianPixelURL:null,clarityProjectId:null,cookieless:!1,epoqId:null,emotionAiId:null,sampling:100,authorizedDomains:["awin.com"]},tests:{1061524:{name:"New advertiser copy",traffic:50,type:"ab",sub_type:"ab",parentID:0,targetingMode:"noajax",dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,size:2,mutationObserverEnabled:!1,displayFrequencyType:"any",codeOnDomReady:!0,isHashAllocationEnabled:!1,scopes:{urlScope:[{include:!0,condition:40,value:"https://www.awin.com/gb/advertisers"},{include:!1,condition:10,value:"product-quiz"}],testId:1061524},actionTrackings:{click:[{name:"Click Explore Awin's platform offers",selector:"#main .mt-8 .bg-accent-foreground"},{name:"Click Get Started (Access)",selector:"#awin-access .p-7 .inline-flex"},{name:"Click Request Pricing (Accelerate)",selector:"#awin-accelerate .p-7 .inline-flex"},{name:"Click Request Pricing (Advanced)",selector:"#awin-advanced .p-7 .inline-flex"},{name:"Click View Case Studies",selector:"#case-studies .mt-25 .border-background"},{name:"Click Explore Platform Offers (Bottom CTA)",selector:"#main .mx-auto .mt-12"},{name:"Click Explore All Features (Access)",selector:"#awin-access .mt-16 .underline"},{name:"Click Explore All Features (Accelerate)",selector:"#awin-accelerate .mt-16 .underline"},{name:"Click Explore All Features (Advanced)",selector:"#awin-advanced .mt-16 .underline"}]},campaignHash:"0450483fd0d9d274c16e49879c5020ba",id:1061524,additionalType:"redirection",isAsync:!0,asyncVariationInfoById:{1318004:{id:1318004,traffic:50,name:"Advertiser Alt Pages"}}},1115684:{name:"Access GB - Prospect Overlay Trigger",traffic:50,type:"ab",sub_type:"ab",parentID:0,targetingMode:"noajax",dynamicTrafficModulation:50,dynamicTestedTraffic:100,priority:0,size:2,mutationObserverEnabled:!1,displayFrequencyType:"any",codeOnDomReady:!0,isHashAllocationEnabled:!1,scopes:{urlScope:[{include:!0,condition:40,value:"https://www.awin.com/gb/design-system/pages/advertisers/awin-access"}],testId:1115684},customAnalytics:[{id:868,code:'window.hj=window.hj||function(){(hj.q=hj.q||[]).push(arguments)},window.hj("event","AB Tasty - [{{campaignId}}]{{campaignName}} - [{{variationId}}]{{variationName}}".replace(/`/g,""));',enabled:!0}],campaignHash:"f9f792ae8889ad7c9694596293d357fc",id:1115684,additionalType:"",isAsync:!0,asyncVariationInfoById:{1382870:{id:1382870,traffic:50,name:"Web to Prospect Overlay"}}},global:{needIPFetch:[],needGeolocFetch:[],needAdBlockDetection:[],needUAParserFetch:[],needDCInfosFetch:[],needModificationEngine:!1,needEngagementLevelFetch:[],needDynamicAlloc:[]}},widgets:{"@abtasty/virtual-click":{2.2:{code:'!function(){"use strict";const e=()=>Object.prototype.hasOwnProperty.call(window,"ABTastyEditor"),t="abtasty_executedCampaign";let n;const r=e=>{const t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});e.dispatchEvent(t)},c=()=>{(()=>{if((()=>{if(e()||(()=>{const e=!!document.getElementById("ABTastyPreviewBar"),t=location.href.includes("ab_project=preview");return e||t})())return!1;const t=ABTasty.getTestsOnPage()[TEST_ID];return!!t&&Object.keys(t.targetings.qaParameters).length>0})()){const e=(()=>{const e=(()=>{const{type:e}=DATA;return`${PACKAGE.replace("@abtasty/","")}${e?`_${e}`:""}`})();return`${e.charAt(0).toUpperCase()}${e.slice(1)}`.split("-").join(" ")})();window.console.log(`%c${e} - QA Mode for campaign ${TEST_ID}\\nWidget launch`,"background-color: rgba(0, 127, 145, 1); color: rgba(247, 247, 247, 1)")}})(),n=((e,t)=>{const n=()=>{try{return document.querySelector(e)}catch(e){return null}};let r=n();const c=[document.body||document.documentElement,{childList:!0,subtree:!0,attributes:!0}],o=()=>a.disconnect(),s=()=>a.observe(...c),a=new MutationObserver((()=>(r=n(),r&&!o()&&t(r))));return r?setTimeout((()=>t(r)),0):s(),{selector:e,clear:o,observe:s}})(DATA.selector,r)},o=e=>{let{detail:{campaignId:t}}=e;t===TEST_ID&&(c(),a())},s=()=>{window.removeEventListener(t,o),n.clear(),window.addEventListener(t,o)},a=()=>document.addEventListener("abtasty_resetActionTracking",s,{once:!0});e()||(c(),a())}();'}}},obsoletes:[1054870,1061045,1061276,1062081,1062135,1062181,1062196,1062449,1115960,1125670],integrationConnectors:[{id:2,name:"GA4",connectorType:"push",conf:[{name:"measurement_id",value:"286221329 ",secret:!1}],instances:[{id:1224,config:{measurement_id:"286221329 "},testIds:[1061524]}],code:'\'use strict\';\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar BASE_LOG = \'[Integrations][Push][GA4]\';\nvar CAMPAIGN_ID = 1100190;\nvar EVENT_NAME = \'abtasty\';\nvar checkEventKeys = function (event) {\n    var keysToCheck = [\'caid\', \'vaid\', \'caname\', \'vaname\', \'doWhen\'];\n    return keysToCheck.every(function (key) { return event.hasOwnProperty(key); });\n};\nfunction customGtag() {\n    var _a = Array.from(arguments), firstArg = _a[0], secondArg = _a[1], thridArgs = _a[2];\n    // check if the data already exists in DataLayer\n    if (firstArg === \'event\' && secondArg === EVENT_NAME) {\n        var alreadyExists = window.dataLayer.some(function (item) { return isArrayLike(item) && arrayLikesAreEqual(item, thridArgs); });\n        if (!alreadyExists) {\n            window.dataLayer.push(arguments);\n        }\n    }\n}\nfunction onCampaign(event, settings) {\n    var _a, _b, _c, _d;\n    return __awaiter(this, void 0, void 0, function () {\n        var check, _loop_1, _i, _e, instance;\n        return __generator(this, function (_f) {\n            try {\n                (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": starting execution..."));\n                check = checkEventKeys(__assign(__assign({}, event.data), event));\n                if (!check) {\n                    (_b = settings.logger) === null || _b === void 0 ? void 0 : _b.error("".concat(BASE_LOG, ": one or more of this keys [\'caid\', \'vaid\', \'caname\', \'vaname\', \'doWhen\'] are missing"));\n                    return [2 /*return*/];\n                }\n                if (typeof window.gtag !== \'function\') {\n                    window.gtag = customGtag;\n                }\n                _loop_1 = function (instance) {\n                    if (!((_c = instance.testIds) === null || _c === void 0 ? void 0 : _c.includes(+event.data.caid))) {\n                        return "continue";\n                    }\n                    event.doWhen(function () { var _a, _b; return !!((_a = window.google_tag_manager) === null || _a === void 0 ? void 0 : _a[(_b = instance.config) === null || _b === void 0 ? void 0 : _b.measurement_id]); }, function () {\n                        var _a, _b;\n                        settings.logger.info(\'[Integrations][Push][GA4] instance ====> \', instance);\n                        var parameter = __assign({ abtasty_campaign: "[".concat(event.data.caid, "] ").concat(event.data.caname), abtasty_variation: "[".concat(event.data.vaid, "] ").concat(event.data.vaname), send_to: (_a = instance.config) === null || _a === void 0 ? void 0 : _a.measurement_id }, (+event.data.caid > CAMPAIGN_ID && {\n                            exp_variant_string: "ABT-".concat(event.data.caid, "-").concat(event.data.vaid),\n                        }));\n                        window.gtag(\'event\', EVENT_NAME, parameter);\n                        (_b = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _b === void 0 ? void 0 : _b.info("".concat(BASE_LOG, ": data send to GA4"), parameter);\n                    }, 1000);\n                };\n                for (_i = 0, _e = settings.instances; _i < _e.length; _i++) {\n                    instance = _e[_i];\n                    _loop_1(instance);\n                }\n            }\n            catch (error) {\n                (_d = settings.logger) === null || _d === void 0 ? void 0 : _d.error("".concat(BASE_LOG, ":"), error.message);\n            }\n            return [2 /*return*/];\n        });\n    });\n}\nvar onConsent = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Consent callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onEvent = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Event callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onItem = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Item callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onPageview = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Pageview callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onSegment = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Segment callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onTransaction = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Transaction callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onPerformance = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Performance callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onVisitorevent = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Visitorevent callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onNps = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Nps callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onDatalayer = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Datalayer callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nvar onProduct = function (event, settings) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        (_a = settings === null || settings === void 0 ? void 0 : settings.logger) === null || _a === void 0 ? void 0 : _a.info("".concat(BASE_LOG, ": Product callback not defined"));\n        return [2 /*return*/];\n    });\n}); };\nfunction isArrayLike(item) {\n    return typeof item === \'object\' && item !== null && \'length\' in item;\n}\nfunction arrayLikesAreEqual(arrLike1, arrLike2) {\n    var keys1 = Object.keys(arrLike1).map(function (el) { return parseInt(el); });\n    var keys2 = Object.keys(arrLike2).map(function (el) { return parseInt(el); });\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n        var key = keys1_1[_i];\n        if (arrLike1[key] !== arrLike2[key]) {\n            return false;\n        }\n    }\n    return true;\n}\nvar getConnectors = function () { return ({\n    onCampaign: onCampaign,\n    onEvent: onEvent,\n    onItem: onItem,\n    onPageview: onPageview,\n    onSegment: onSegment,\n    onTransaction: onTransaction,\n    onPerformance: onPerformance,\n    onVisitorevent: onVisitorevent,\n    onNps: onNps,\n    onDatalayer: onDatalayer,\n    onProduct: onProduct,\n}); };\n'}]},s=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;const{pack:e,quota:n}=t.accountSettings;return 0===e.indexOf("quota")&&n<=0},o=function(){let{accountSettings:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return 1===Number(t.runAsThread)},r=()=>i,c=()=>r().accountLevelTrackings,d=t=>r().tests[t],l=()=>r().accountSettings,u=()=>l().identifier,g=()=>l().id,h=()=>r().crossDomainSettings||[],m=()=>a.Campaign.getGlobalCampaignsInfos().needGeolocFetch.length>0,p=()=>"cookies"===l().storageMode,f=()=>r().integrationConnectors,v=()=>l().cookieLifespan||13},1943:(t,e,n)=>{n.d(e,{BH:()=>o,DC:()=>i,o1:()=>s,xz:()=>a});const a=1,i=10,s=11,o=40},5136:(t,e,n)=>{n.r(e),n.d(e,{ABANDONED_CART:()=>Y,ACTION_TRACKING:()=>M,ADBLOCK:()=>I,ADOBE_DMP:()=>l,ADVALO_DMP:()=>r,AMOUNT:()=>X,BLUEKAI_DMP:()=>s,BROWSER:()=>v,BROWSER_LANGUAGE:()=>p,CAMPAIGN_EXPOSITION:()=>E,CODE:()=>B,CONTENT_INTEREST:()=>F,COOKIE:()=>m,COUPON:()=>tt,CSAT:()=>z,CUSTOM_VARIABLE:()=>L,DATALAYER:()=>U,DAYS_SINCE_FIRST_SESSION:()=>R,DAYS_SINCE_LAST_SESSION:()=>D,DELIVERY_METHOD:()=>Q,DEVICE:()=>u,ECOMMERCE_VARIABLE:()=>P,ENGAGEMENT_LEVEL:()=>H,EULERIAN_DMP:()=>a,GEOLOCATION:()=>h,INTEGRATIONS_PROVIDER:()=>K,IP:()=>g,JS_VARIABLE:()=>b,KEYWORD:()=>x,KRUX_DMP:()=>c,LANDING_PAGE:()=>f,LAST_PURCHASE:()=>$,NPS:()=>q,NUMBER_PAGES_VIEWED:()=>C,PAGE_INTEREST:()=>J,PAGE_VIEW:()=>W,PAYMENT_METHOD:()=>Z,PREVIOUS_PAGE:()=>A,PRODUCT_CATEGORY:()=>nt,PRODUCT_SKU:()=>et,PURCHASE_FREQUENCY:()=>j,RETURNING_VISITOR:()=>y,SAME_DAY_VISIT:()=>_,SCREEN_SIZE:()=>T,SELECTOR:()=>V,SESSION_NUMBER:()=>k,SOURCE:()=>S,SOURCE_TYPE:()=>w,TAGCOMMANDER_DMP:()=>i,TEALIUM_DMP:()=>G,URL_PARAMETER:()=>N,WEATHER:()=>O,WEBORAMA_DMP:()=>d,YSANCE_DMP:()=>o});const a=1,i=2,s=4,o=5,r=6,c=7,d=8,l=10,u=17,g=18,h=19,m=20,p=21,f=22,v=23,y=24,w=25,A=26,T=27,b=28,E=29,S=30,C=31,_=32,I=33,k=34,O=35,D=36,R=37,P=38,N=39,B=40,L=41,M=42,V=43,U=44,$=45,j=46,x=47,G=48,H=49,F=50,W=51,J=52,K=53,Y=54,z=55,q=56,Z=1,Q=2,X=3,tt=4,et=5,nt=6},6845:(t,e,n)=>{n.d(e,{Uo:()=>g,ZN:()=>h,dN:()=>u,dT:()=>l,fJ:()=>d,xj:()=>c});var a=n(1042),i=n(5536),s=n(7230),o=n(1789);const r={};function c(t){return s.Campaign.getGlobalCampaignsInfos().needDCInfosFetch.indexOf(t)>-1}function d(t){return s.Campaign.getGlobalCampaignsInfos().needIPFetch.indexOf(t)>-1}function l(t){return s.Campaign.getGlobalCampaignsInfos().needGeolocFetch.indexOf(t)>-1}function u(t){return s.Campaign.getGlobalCampaignsInfos().needUAParserFetch.indexOf(t)>-1}function g(t){return s.Campaign.getGlobalCampaignsInfos().needAdBlockDetection.indexOf(t)>-1}const h=t=>async(e,n)=>{if(void 0===n||null==n.targeting_groups||0===n.targeting_groups.length)return!0;const c=n.is_segment?i.GJ:i.RQ,d=(await Promise.all(n.targeting_groups.map((async n=>(await Promise.all(n.targetings.map((async i=>{const{targeting_type:d,success:l}=i;let u=void 0===l||l;if(!(0,o.isOnceTargeting)(d)||void 0===l){const l=r[d](t);if("function"==typeof l)return u=await l(i,e.id),(0,o.storeTargetingSuccess)(i,u),s.Campaign.updatePublicTargetingData(e.id,i,u,c,n.position),u;a.Kp("Cannot apply targeting",i),(0,o.storeTargetingSuccess)(i,u),s.Campaign.updatePublicTargetingData(e.id,i,u,c,n.position)}return u})))).every(Boolean))))).some(Boolean);return a.c2("Applying audience",n," for ",e,"result = ",d),d}},8302:(t,e,n)=>{n.d(e,{p:()=>u,v:()=>m});var a=n(4334),i=n(4564),s=n(1042);const o=(0,a.J)();let r=!1,c=[],d={mousedown:[],click:[],submit:[],focus:[],blur:[],hover:[]};const l=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(d[e]||[]).filter((e=>!(n&&!e.clicked)&&(t.matches(e.selector)||t.closest(e.selector))))},u=()=>{c=c.filter((t=>{let{event:e,listener:n}=t;return document.removeEventListener(e,n,!0),!1})),d={mousedown:[],click:[],submit:[],focus:[],blur:[],hover:[]},r=!1},g=t=>async e=>{const n=n=>{let{target:a}=n;return h(t)(a,e)},[a]=await(0,i.K)(!0,["type"]),s=a?.toLowerCase()??null;["mousedown","click"].includes(e)&&s&&"desktop"!==s&&"ontouchstart"in document.documentElement?r||(()=>{const t=t=>{let{target:e}=t;l(e,"mousedown").forEach((t=>t.clicked=!0)),l(e,"click").forEach((t=>t.clicked=!0))},e=t=>{let{target:e}=t;l(e,"mousedown").forEach((t=>t.clicked=!1)),l(e,"click").forEach((t=>t.clicked=!1))},n=t=>{let{target:e}=t;l(e,"mousedown",!0).forEach((t=>{const n=[t.name,null,t.testId??null,e];o?.then((t=>t.aggregateActionTracking(...n)))})),l(e,"click",!0).forEach((t=>{const n=[t.name,null,t.testId??null,e];o?.then((t=>t.aggregateActionTracking(...n)))}))};document.addEventListener("touchstart",t,!0),document.addEventListener("touchmove",e,!0),document.addEventListener("touchend",n,!0),c.push({event:"touchstart",listener:t},{event:"touchmove",listener:e},{event:"touchend",listener:n})})():"hover"===e&&s&&"desktop"===s?(t=>{let e,n,a=!1;const i=i=>{let{target:s}=i;if(a)return;a=!0,setTimeout((()=>a=!1));const o=s;d.hover?.forEach((a=>{let{selector:i}=a;(o.matches?.(i)||o.closest?.(i))&&(n=o,e=setTimeout((()=>{e=null,h(t)(s,"hover")}),500))}))},s=t=>{let{target:a}=t;e&&a===n&&(clearTimeout(e),e=null)};document.addEventListener("pointerenter",i,!0),document.addEventListener("pointerleave",s,!0),c.push({event:"pointerenter",listener:i},{event:"pointerleave",listener:s})})(t):(document.addEventListener(e,n,!0),c.push({event:e,listener:n})),r||(r=!0)},h=t=>(t,e)=>{d[e]&&d[e]?.forEach((e=>{let{selector:n,name:a,testId:i}=e;try{if(t.matches(n)||t.closest(n)){const e=[a,null,i??null,t];o?.then((t=>t.aggregateActionTracking(...e)))}}catch(t){(0,s.Kp)(`Provided for ${i} test selector ${n} is not valid: ${t}`)}}))},m=t=>(e,n)=>{Object.keys(e).forEach((a=>{d[a]&&0===d[a]?.length&&g(t)(a),((t,e,n)=>{e.forEach((e=>d[t]?.push({...e,testId:n})))})(a,e[a],n)}))}},2244:(t,e,n)=>{n.d(e,{n8:()=>o,oZ:()=>i,rJ:()=>s});var a=n(4874);const i="ABTastySessionHitHistory",s=(t,e)=>{const n=JSON.parse(a.Jo.getItem(a.vR,i)||"{}");if(n.cst===t.getCurrentSessionTimestamp())return!!n?.campaigns&&n?.campaigns?.includes(e);const{cst:s,campaigns:o,...r}=n;return Object.keys(r).length>0?a.Jo.setItem(a.vR,i,JSON.stringify(r)):a.Jo.removeItem(a.vR,i),!1},o=(t,e)=>{const n=JSON.parse(a.Jo.getItem(a.vR,i)||"{}");if(n?.campaigns?.includes(e))return n;const s=n?.campaigns&&n.cst===t.getCurrentSessionTimestamp()?{...n,cst:n.cst,campaigns:[...n.campaigns,e]}:{...n,cst:t.getCurrentSessionTimestamp(),campaigns:[e]};return a.Jo.setItem(a.vR,i,JSON.stringify(s)),s}},7230:(t,e,n)=>{n.d(e,{Campaign:()=>dt,u:()=>st,s:()=>ct});var a=n(2662),i=n(2109),s=n(6012),o=n(4284),r=n(8075),c=n(3190),d=n(8390),l=n(5027),u=n(1117);const g=(0,u.W)(((t,e)=>e.map((e=>e[t])))),h=(0,u.W)(((t,e,n)=>n[t]===e)),m=(0,u.W)(((t,e)=>{const n={};for(const a in e)t(e[a],a,e)&&(n[a]=e[a]);return n})),p=(0,u.W)(((t,e)=>Object.keys(e).reduce(((n,a)=>(n[a]=t(e[a],a,e),n)),{})));var f=n(1042),v=n(4692);const y=["addCSS","addImage","addLink","addParagraph","addHtml","addHTML","advanced sort","bring2back","bring2front","changeImage","changeLink","copy","copyAfter","copyBefore","cut","cutAfter","cutBefore","editAttributes","editHtml","editHTML","editPicture","editStyle","editText","editDirect","hide","hideByClass","hideContent","move","multivarCode","resize","resizeAndDrag","s&rImage","s&rText","sort","addCSS","editStyleCSS","hideByClassCSS","hideCSS"];var w=n(9267),A=n(83);const T=["editStyleCSS","sort","changeLink","addLink","editAttributes","addCSS","editPicture"],b=t=>t.filter((t=>{let{type:e,value:n}=t;return y.includes(e)&&null!=n})).map((t=>{const e=t;return T.includes(t.type)&&(e.value=(t=>{try{return JSON.parse(t)}catch(e){return t}})(t.value)),e})),E=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5?arguments[5]:void 0;if(s?.aborted)return void(0,f.c2)(`Campaign instance is outdated. Campaign ${n}`);const o=null!=e&&""!==e;null!=t&&(o&&document.querySelectorAll(e).length>0?await(0,A.w)(t,n,a):o?setTimeout((async()=>await E(t,e,n,a,i,s)),50):i?(0,w.A)((async()=>{s?.aborted?(0,f.c2)(`Campaign instance is outdated. Campaign ${n}`):await(0,A.w)(t,n,a)})):await(0,A.w)(t,n,a))},S=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=await undefined,o=b(t);o.length>0&&s&&s(o);const r=(t=>t.filter((t=>{let{type:e,value:n}=t;return-1===y.indexOf(e)})))(t);r.length>0&&r.forEach((async t=>{const{type:s}=t;"customScriptNew"===s?await E(t.oldValue,t.selector,e,n,a,i):/plugin_/.test(s)&&(0,f.Kp)("Ignoring old plugin modification.")}))};let C;C=n(9963);class _{constructor(t,e,n){let{id:a,name:i,traffic:s,modifications:o,widgets:r,components:c,redirections:d}=e;this.testId=t,this.id=a,this.name=i,this.traffic=s,this.modifications=o,this.codeOnDomReady=n,this.widgets=r,this.components=c,this.redirections=d}async apply(t){(0,f.um)(`applying modifications (campaign ${this.testId} - variation ${this.id})`,this.modifications),!(0,c.k)(this.redirections)&&this.redirections.length>0?(0,v.cf)(this.redirections,this.testId,this.id):((0,c.k)(this.modifications)||S(this.modifications,this.testId,this.id,this.codeOnDomReady,t),["widgets","components"].forEach((async(t,e)=>{(0,c.k)(this[t])||"widgets"===t&&await C.applyWidgets(this.widgets,this.testId,this.id)})))}}var I=n(7352);n(4564);const k={};var O=function(t){return t.single="'",t.double='"',t.back="`",t}(O||{});const D=async(t,e,n)=>{(0,f.um)(`applying analytics (campaign ${e.campaignId})`),(0,c.k)(t)||(async(t,e)=>{t.forEach((t=>{let{name:n,wave:a,tracker:i,implementation:s,functionName:o}=t;const r=k[n];r?r(e,a,i,s,o):(0,f.Kp)("Analytics tool is not supported by AB Tasty: ",n,`(for campaign ${e.campaignId})`)}))})(t,e),(0,c.k)(n)||(async(t,e)=>{const n=/([\'\"\`]{1})?{{([a-z]*)}}([\'\"\`]{1})?/gi,a=/([\`\'\"]{1})/gi;t.forEach((t=>{let{code:i}=t;const s=i.replace(n,((t,n,i,s)=>{const o="string"==typeof e[i]?e[i].replace(a,((t,e)=>`\\${e}`)):e[i];return[...Object.values(O).includes(n)?[n]:[O.back],o,...Object.values(O).includes(s)?[s]:[O.back]].join("")}));E(s,null,e.campaignId,e.variationId)}))})(n,e)};var R=n(8302),P=n(2622),N=n(4334),B=n(6125),L=n(5136),M=n(5536),V=n(8669),U=n(7806);var $=n(1789),j=n(8957),x=n(3555),G=n(4874);function H(t,e,n){const a=((0,x.s6)()||{})[`${t}`]||[],i=a.length;return a.map((t=>{const a=function(t,e,n){const a=e||50;return t*(a/100)+(100-a)/n}(t.traffic,n,i),s=function(t,e){return t*((e||100)/100)}(a,e);return{...t,traffic:s}}))}const F="ABTastyPreviousDynamicAllocation",W=t=>JSON.parse(G.Jo.getItem(G.op,F)||"{}")[t]||null,J=-1;function K(t){return t.reduce(((t,e)=>{const n=t[t.length-1]||0;return[...t,n+e]}),[])}const Y=(0,u.W)(((t,e,n,a)=>{let{isDynamic:i=!1,testedTraffic:s,modulation:o}=n;const r=a[a.length-1];let c=Math.max(...t);if(i){const t=function(t,e,n){return H(t,e,n).find((t=>{let{id:e}=t;return e===x.RH}))}(e,s,o);t&&(c=t.traffic)}r+c>100&&(i&&(0,f.vU)(`[addOriginalVariationSlots] The sum of dc infos traffics got greater than 100! We've ignored it but it's weird. Last slot: ${r}. OriginalVariationTraffic: ${c}`),c=100-r);const d=r+c;return[...a,d]}));function z(t,e,n){let a=[];const i=function(t,e,n){let{isDynamic:a=!1,testedTraffic:i,modulation:s}=n;const o=Object.keys(t);let r=t;if(a){const t=function(t,e,n){return H(t,e,n).filter((t=>{let{id:e}=t;return e!==x.RH}))}(e,i,s);t.length&&(r={},t.forEach((t=>{let{id:e,traffic:n}=t;r[e]={traffic:n}})))}return o.reduce(((t,e)=>[...t,r[e].traffic]),[])}(t,e,n);return a=(0,r.z)(K,Y(i,e,n))(i),a}function q(t,e,n,i,s){let o=[];try{o=z(e,n,i)}catch(t){return(0,f.vU)("Error on function allocateTraffic.",t),J}return function(t,e,n,i){const s=n.findIndex((e=>e>=t));return-1===s?a.dF.subsegment===i?0:J:s===n.length-1?0:parseInt(e[s],10)}(t,Object.keys(e),o,s)}var Z=n(6541);const Q=async(t,e,n,i,s,o)=>{const r=(0,Z.GD)(),d=r?JSON.parse(G.Jo.getItem(G.vR,"ABTastyForcedVariations")||"{}"):{},l=t.getId(),u=!t.isUsingHashAllocation(),g=async()=>{if(u)return Math.floor(100*Math.random()+1);try{const n=((t,e)=>{const n=new TextEncoder;return[a.b0.multipageTest,a.b0.multipagePersonalization].includes(t.getSubType())?n.encode(`${t.data.parentID}.${e}`):n.encode(`${t.data.id}.${e}`)})(t,e);return new Uint16Array(await crypto.subtle.digest("SHA-1",n))[0]%100+1}catch(t){return(0,f.Kp)("Check that your website is in https otherwise cookieless allocation won't work"),Math.floor(100*Math.random()+1)}};if(r&&!(0,c.k)(d[l]))return d[l];if(u||!t.isDynamicAllocation()||(0,c.k)(W(l))){if(u&&i)return i.variationID;if(u&&[a.b0.multipageTest,a.b0.multipagePersonalization].includes(t.getSubType())&&t.hasAlreadySeenBrothers(n)){const e=t.getSeenBrothers(n)[0];let a=null;if(e.variationID===st.Untracked)return e.variationID;{const n=ct(e.campaignId).getVariation(e.variationID);return a=n?n.masterVariationId:0,(0,c.k)(a)||0===a?st.Original:t.getVariationInfoByMasterId(a).id}}if(u&&t.isMultipageChild()&&t.hasSeenMaster(n)){const e=n.getCampaign(s);return n.removeCampaign(s),e.variationID===st.Untracked?e.variationID:e.variationID!==st.Original?t.getVariationInfoByMasterId(e.variationID).id:st.Original}return o&&!(0,c.k)((0,v.QX)().variationID)?(0,v.QX)().variationID:t.isAsync()?q(await g(),t.data.asyncVariationInfoById,l,t.getDynamicAllocationProperties(),t.getType()):q(await g(),t.data.variations,l,t.getDynamicAllocationProperties(),t.getType())}return W(l)};var X=n(724);var tt=n(2244);const et=864e5,nt=t=>{const e=new Date;return e.setUTCHours(t.getUTCHours()),e.setUTCMinutes(t.getUTCMinutes()),e.setUTCSeconds(t.getUTCSeconds()),e.setUTCMilliseconds(t.getUTCMilliseconds()),e},at=(t,e)=>{const n=e.getCampaign(t.data.id);if(!n)return!0;const{lastSessionSeen:i,lastViewTimestamp:s}=n,{type:o,unit:r,value:c}=t.getTargetingDisplayFrequency();switch(o){case a.oF.any:break;case a.oF.once:return!s;case a.oF.oncePerSession:if(s)return i!==e.getNumberOfSessions();case a.oF.regular:if(s)switch(r){case a.C_.session:return i===e.getNumberOfSessions()||i+c<=e.getNumberOfSessions();case a.C_.day:return((t,e)=>{const n=new Date(t),a=(nt(n).getTime()-t)/et;return 0===a||a/e>=1})(s,c);case a.C_.week:return((t,e)=>{const n=new Date(t),a=nt(n);for(;a.getUTCDay()!==n.getUTCDay();)a.setUTCDate(a.getUTCDate()-1);const i=(a.getTime()-t)/et/7;return 0===i||i/e>=1})(s,c)}}return!0};let it,st=function(t){return t[t.Original=0]="Original",t[t.Untracked=-1]="Untracked",t[t.Timeout=-2]="Timeout",t}({});it=n(9963);const ot={id:0,name:"Original",masterVariationId:0},rt={},ct=t=>rt[t];class dt{abortController=new AbortController;constructor(t){const{id:e}=t;if(ct(e))return ct(e);this.data=t,this.forceUntracking=!1,rt[e]=this,this.initPublicData(),this.hasBeenChecked=this.memoizeHasBeenChecked()}static resetCampaigns(){Object.keys(rt).forEach((t=>{const e=ct(Number(t));e.abortController.abort("Campaign has been reset."),e.chosenVariation=null,e.updatePublicData({id:null,name:null}),e.setStatus(s.c.pending),e.data.audienceTrigger&&(0,$.resetTargetingSuccess)(e.data.audienceTrigger),e.data.audienceSegment&&(0,$.resetTargetingSuccess)(e.data.audienceSegment),delete rt[t]}))}getType(){return this.data.type}getSubType(){if(this.isMultipageChild())return a.b0.multipageTest;if(this.isMultivariateChild())return a.b0.multivariate;if(this.isPersonalisationChild()){const t=dt.instantiate(this.data.parentID);return!!t&&t.data.sub_type||a.dF.subsegment}return a.dF.ab}getAdditionalType(){return this.data.additionalType||null}getConsentType(){return this.getAdditionalType()?this.getAdditionalType():this.isPersonalisation()||this.isPersonalisationChild()?"perso":"test"}getChildren(){return this.data.children||[]}getId(){return this.data.id}getName(){return this.data.name}getChosenVariation(){return this.chosenVariation}static instantiate(t){const e=dt.getCampaignData(t);if(e)return new dt(e)}static getActiveCampaigns(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,r.z)(m(((e,n)=>{let{status:a,variationID:i}=e;return(null!==t&&t===Number(n)||null===t)&&[s.c.accepted,s.c.acceptedByRedirection].includes(a)&&null!==i&&i!==st.Untracked})),p(((t,e)=>({...t,testDatas:ct(e).data}))))(window.ABTasty.results)}static getCampaignData(t){return(0,o.ae)().tests[t]}static getCampaignsDatas(t){const e=t||(0,o.ae)(),{global:n,...a}=e.tests;return Object.values(a)}static sortCampaignsParentsByPrioASC(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.sort(((t,e)=>Number(t.priority)-Number(e.priority))).reduce(((t,n)=>{const{priority:a,parentID:i}=n,o=0!==i,r=dt.instantiate(n.id);if(o)return r.isPersonalisationChild()&&e&&r.setStatus(s.c.notPrioritizedYet),t;r.isPersonalisation()&&e&&r.setStatus(s.c.notChecked);const c=void 0!==t[a]?[...t[a],n]:[n];return{...t,[a]:c}}),{})}static getGlobalCampaignsInfos(t){const e=t||(0,o.ae)(),{global:n}=e.tests;return n}static getParentCampaignsIDs=t=>(0,r.z)((0,l.h)(h("parentID",0)),g("id"))(t);static getCampaignsSortedByPrio=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return dt.sortCampaignsParentsByPrioASC(t,e)};static filterCampaignByPrio=(t,e)=>t[e];getVariation(t){return t===st.Original?ot:this.data.variations[t]}getVariationInfoByMasterId(t){return this.isAsync()?Object.values(this.data.asyncVariationInfoById).find((e=>this.data.variations[e.id].masterVariationId===t)):Object.values(this.data.variations).find((e=>e.masterVariationId===t))}getMasterVariationId(t){return this.getVariation(t).masterVariationId}getParent(){const t=dt.getCampaignData(this.data.parentID);return new dt(t)}getParentId(){return this.getParent().data.id}getParentName(){return this.getParent().data.name}getStatus(){return this.data.status||s.c.pending}getAbortSignal(){return this.abortController.signal}getSeenBrothers(t){const{parentID:e,siblings:n}=this.data;return 0===e||null==n||0===n.length?null:n.map((e=>{const n=t.getCampaign(e);return n?{campaignId:e,...n}:null})).filter((t=>!(0,c.k)(t)))}setStatus(t){this.data.status=t,(0,c.k)(window.ABTasty.results[this.data.id])&&this.initPublicData(),this.hasBeenCheckedResolve&&t!==s.c.checking&&this.hasBeenCheckedResolve(t),window.ABTasty.results[this.data.id].status=t}memoizeHasBeenChecked(){let t=null;return()=>t||(t=new Promise((t=>{this.hasBeenCheckedResolve=t})),t)}isContainer(){return[a.dF.multipage,a.dF.multivariate,a.dF.mastersegment].includes(this.data.type)}isChild(){return this.isMultipageChild()||this.isMultivariateChild()||this.isPersonalisationChild()}isMultivariate(){return this.data.type===a.dF.multivariate}isMultipage(){return this.data.type===a.dF.multipage}isPersonalisation(){return this.data.type===a.dF.mastersegment}isPatch(t,e){return(t||this.data.sub_type)===a.b0.patch||(e||this.data.additionalType)===a.$M.patch}isMultivariateChild(){if(0===this.data.parentID)return!1;return dt.instantiate(this.data.parentID).isMultivariate()}isMultipageChild(){if(0===this.data.parentID)return!1;return dt.instantiate(this.data.parentID).isMultipage()}isPersonalisationChild(){if(0===this.data.parentID)return!1;return dt.instantiate(this.data.parentID).isPersonalisation()}isDynamicAllocation(){return null!=this.data.dynamicTrafficGoalId&&""!==this.data.dynamicTrafficGoalId}isUsingHashAllocation(){return this.isChild()?this.getParent()?.data.isHashAllocationEnabled:this.data.isHashAllocationEnabled}getDynamicAllocationProperties(){return{isDynamic:this.isDynamicAllocation(),testedTraffic:this.data.dynamicTestedTraffic,modulation:this.data.dynamicTrafficModulation}}getTargetingDisplayFrequency(){const t={type:this.data.displayFrequencyType};return this.data.displayFrequencyUnit&&(t.unit=this.data.displayFrequencyUnit),this.data.displayFrequencyUnit&&(t.value=this.data.displayFrequencyValue),t}isAsync(){return this.data.isAsync||!1}isTargetByEvent(){return Boolean(this.data.scopes.urlScope?.find((t=>{let{value:e}=t;return e===M.Wx})))}isUsingCodeOnDomReady(){return this.isChild()?dt.instantiate(this.data.parentID).data.codeOnDomReady:this.data.codeOnDomReady}alreadySeenOneTest=t=>e=>{let n=!1;const{siblings:a=[]}=this.data,i=t.getCampaigns();return Object.keys(i).forEach((t=>{const s=(0,o.em)(Number(t)),r=i[t];null!=s&&null==s.type.match(/(mastersegment|subsegment)/)&&!this.isPatch(s.sub_type,s.additionalType)&&Number(t)!==e&&r.variationID!==st.Untracked&&a.indexOf(Number(t))<0&&(n=!0)})),n};initPublicData(){const{id:t,name:e,type:n,status:a}=this.data,i={name:e,type:n,sub_type:this.getSubType(),additional_type:this.getAdditionalType(),status:a,variationID:this.chosenVariation,variationName:null,targetings:{[M.ge]:{},[M.D$]:{}}};window.ABTasty.results&&(window.ABTasty.results[t]=window.ABTasty.results[t]??i)}static updatePublicTargetingData(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M.k5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const s=window.ABTasty.results[t];if(void 0===s||!e)return;let o=s.targetings[a];if([M.RQ,M.GJ].indexOf(a)>-1){o=o||[];const t={success:n,conditions:e.conditions,targeting_type:e.targeting_type,operator:e.operator,name:Object.keys(L).find((t=>L[t]===e.targeting_type)),group:i};o=o.filter((e=>e.targeting_type!==t.targeting_type||e.group!==t.group)),o.push(t)}else o=o||{},o[e.targeting_type]={...o[e.targeting_type],conditions:e.conditions,success:n},a===M.k5&&(o[e.targeting_type]={...o[e.targeting_type],operator:e.operator,name:Object.keys(L).find((t=>L[t]===e.targeting_type))});s.targetings[a]=o,window.ABTasty.results[t]=s}updatePublicData(t){let{id:e,name:n}=t;window.ABTasty.results[this.data.id].variationID=e,window.ABTasty.results[this.data.id].variationName=n}hasSeenMaster(t){const{parentID:e}=this.data;return 0===e?null:!(0,c.k)(t.getCampaign(e))}hasMultivariateSibling(t){const{id:e,parentID:n,siblings:a}=this.data;if(0===n)return!1;if(null==a||0===a.length)return!1;const i=t.getCampaigns();return Object.keys(i).some((t=>Number(t)===e))}hasBrotherAlreadyStarted(){const{parentID:t,siblings:e}=this.data;return 0!==t&&(null!=e&&0!==e.length&&e.some((t=>dt.instantiate(t).getStatus()===s.c.accepted)))}hasAlreadySeenBrothers(t){const e=this.getSeenBrothers(t);return!(0,c.k)(e)&&!(0,d.x)(e)}isCheckingOtherCampaigns(){if(this.isPersonalisation()||this.isPersonalisationChild())return!1;return dt.getCampaignsDatas().filter((t=>{let{id:e}=t;const n=ct(e);return e!==this.data.id&&!(0,c.k)(n)&&(!(n.isPersonalisation()||n.isMultipage()||n.isMultivariate())&&e!==this.data.id&&n.getStatus()===s.c.checking)})).length>0}isOneVisitorOneTestDone(t){const{oneVisitorOneTest:e}=(0,o.wy)(),{id:n,type:i,parentID:s}=this.data;if(e&&i!==a.dF.subsegment&&!this.isPatch()){let e=n;if(i===a.dF.ab&&this.isMultipageChild()&&(e=s),this.alreadySeenOneTest(t)(e)&&!this.hasMultivariateSibling(t))return!0}return!1}static abTastyStartTest=t=>function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a=ct(e);if(void 0!==a){if(n===st.Untracked)return void a.setStatus(s.c.traffic);if(n===st.Timeout)return void a.setStatus(s.c.timeout);const i=t.getCampaign(e);!(0,c.k)(n)&&(0,c.k)(i)&&t.campaignView(e,n,s.c.accepted,!a.isUsingHashAllocation()),a.executeCampaign(t)}};async updateCampaign(t,e){if(!this.isAsync()||t===st.Timeout||t===st.Untracked)return;const n=await Promise.all(e.map((async t=>await async function(t,e,n){const a=`https://try.abtasty.com/${(0,o.Nn)()}/${t}.${e}.json?${n}`;let i=!1;const s=(()=>{try{return new AbortController}catch(t){(0,f.Kp)("Cannot create AbortController",t)}})(),r=setTimeout((()=>{i||(s?.abort(),(0,f.Kp)(`Modifications can't be fetched for ${t}`))}),3e3);return(0,U.tI)(`modifiationsFetchLoop_${t}`,r),(0,V.U)(a,{signal:s?.signal}).then((t=>t.json())).then((t=>(clearTimeout(r),t&&t._taginfo&&delete t._taginfo,i=!0,[t,null]))).catch((t=>(clearTimeout(r),[null,t])))}(this.data.id,Number(t),this.data.campaignHash)))),a=n.map((t=>{let[e]=t;return e})),i=n.map((t=>{let[,e]=t;return e})),r=a.find((e=>e?.id===t));i.every((t=>null===t))?(0,d.x)(r)||(this.data.variations={[t]:r}):i.some((t=>"AbortError"===t?.name))?this.setStatus(s.c.timeout):this.forceUntracking=!0}sendExecutedCampaignEvent(t){(new I.C).dispatchCustomEvent(i.A.Name.executedCampaign,{campaignId:this.data.id,variationId:this.getVariation(t).id,status:this.getStatus(),type:this.getSubType()})}async applyGlobalCode(t,e,n,a){E(t,null,e,n,a)}async executeCampaign(t){if(this.getAbortSignal().aborted)return(0,f.c2)(`Campaign instance is outdated. Campaign ${this.getId()}`),!1;const e=t.getVisitorId(),n=this.data.id,a=this.data.parentID,o=t.getCampaign(n);let r=await Q(this,e,t,o,a,(0,v.uj)(this.getId()));return this.updateCampaign(r,this.data.asyncVariationInfoById?Object.keys(this.data.asyncVariationInfoById):[]).then((async()=>{const{id:e,parentID:n,status:a,name:o,variations:d,globalCode:l,widgets:u,analytics:g,customAnalytics:h,actionTrackings:m}=this.data;if(this.getAbortSignal().aborted)return(0,f.c2)(`Campaign instance is outdated. Campaign ${e}`),!1;a===s.c.timeout?r=st.Timeout:this.forceUntracking&&this.isAsync()?(r=st.Timeout,this.setStatus(s.c.failedLoading)):(0,v.uj)(e)?this.setStatus(s.c.acceptedByRedirection):this.setStatus(s.c.accepted),this.isDynamicAllocation()&&this.isUsingHashAllocation()&&((t,e)=>{const n={...JSON.parse(G.Jo.getItem(G.op,F)||"{}"),[t]:e};G.Jo.setItem(G.op,F,JSON.stringify(n))})(e,r),(0,f.um)("Campaign Viewed =",e,r),t.campaignView(e,r,this.data.status,!this.isUsingHashAllocation());const p=this.isUsingCodeOnDomReady();if([st.Timeout,st.Untracked].includes(r)||!d?.[r]&&r!==st.Original)return this.forceUntracking&&r===st.Timeout?(this.setStatus(s.c.failedLoading),!1):r===st.Timeout?(this.setStatus(s.c.timeout),!1):(this.setStatus(s.c.traffic),!1);{const n={caid:String(e),vaid:String(r)};if((0,tt.rJ)(t,this.getId()))(0,N.J)()?.then((t=>{if(this.getAbortSignal().aborted)return(0,f.c2)(`Campaign instance is outdated. Campaign ${e}`),!1;t.notifyHit(B.Re.campaign,n,Date.now())}));else{(new P.j).setInternalHit(B.Re.campaign,n)}(0,c.k)(l)||p||this.applyGlobalCode(l,this.getId(),r,!1),r===st.Original||(0,v.uj)(e)||(this.chosenVariation=new _(e,d[r],p),await this.chosenVariation.apply(this.getAbortSignal())),(0,w.A)((async()=>{if(this.getAbortSignal().aborted)return(0,f.c2)(`Campaign instance is outdated. Campaign ${e}`),!1;(0,c.k)(u)||await it.applyWidgets(u,e,r),!(0,c.k)(l)&&p&&this.applyGlobalCode(l,this.getId(),r,!0),m&&((0,c.k)(m)||(0,R.v)(t)(m,e));const n=this.getVariation(r),a=this.isChild()?this.getParent().data.analytics:void 0,s=!(0,c.k)(a)&&a.length>0?a:g;if(!(0,c.k)(s)||!(0,c.k)(h)){const t={campaignName:o,campaignId:e,variationName:n.name,variationId:n.id},a=()=>{(new j.yN).haveConsent([j.RX.collect])?D(s,t,h):window.addEventListener(`abtasty_${i.A.Name.consentValid}`,(t=>{const{detail:e}=t;e&&e.consentFor.includes(j.RX.collect)&&a()}))};(0,v.hS)()||a()}return this.updatePublicData(n),(0,v.hS)()||(0,tt.n8)(t,this.getId()),this.sendExecutedCampaignEvent(r),!0}))}}))}async apply(t){const{id:e}=this.data;let n=!1;if((0,v.uj)(e))return this.executeCampaign(t),!0;if(!at(this,t))return this.setStatus(s.c.displayFrequency),!1;const i=(0,$.checkTargeting)(t,this);return await Promise.race([i,new Promise((t=>setTimeout((()=>{n=!0,t(!1)}),M.Vy)))])?(await this.executeCampaign(t),!0):(n&&i.then((async e=>{if((t=>e=>{const{id:n,type:i}=e.data;if(e.getAbortSignal().aborted)return(0,f.c2)(`Campaign instance is outdated. Campaign ${n}`),!1;if(i===a.dF.subsegment&&e.hasBrotherAlreadyStarted())return e.setStatus(s.c.otherSubsegment),!1;if(e.isOneVisitorOneTestDone(t))return e.setStatus(s.c.oneVisitorOneTest),!1;const o=e.isChild()?e.getParent().data.priority:e.data.priority;return!(o>0&&(0,X.bi)([o]).length>0&&(e.setStatus(s.c.notPrioritizedYet),1))})(t)(this)&&e)return await this.executeCampaign(t),!0})),!1)}}},724:(t,e,n)=>{n.d(e,{ci:()=>m,ed:()=>h,bi:()=>u,wP:()=>g});var a=n(2662),i=n(7230),s=n(1042),o=n(2109),r=n(8957);const c=t=>async(e,n,a)=>{e.setStatus(a);const i=a=>{const{detail:c}=a;e.getAbortSignal().aborted?(window.removeEventListener(`abtasty_${o.A.Name.consentValid}`,i),(0,s.c2)(`Campaign instance is outdated. Campaign ${e.getId()}`)):c&&c.consentFor.includes(r.RX[n])&&(window.removeEventListener(`abtasty_${o.A.Name.consentValid}`,i),t())};return window.addEventListener(`abtasty_${o.A.Name.consentValid}`,i),!1};n(6845);var d=n(6012);const l=t=>async e=>{(0,s.um)(`Starting ${e.length} campaigns: ${e}`);const a=e.map(i.Campaign.instantiate);Promise.resolve().then(n.bind(n,9707)).then((e=>{e.addCheckTargetingListener(t)}));const o=a.reduce(((e,n)=>{if(n.isContainer()){n.setStatus(d.c.notChecked);const a=n.getChildren().map(i.Campaign.instantiate).map((e=>{const n=()=>e.apply(t);return(0,r.wF)(e.getConsentType())?((0,s.um)("----- child campaign::",e.getType()),e.apply(t)):c(n)(e,e.getConsentType(),d.c.consent)}));return[...e,...a]}{const a=()=>n.apply(t);return(0,r.wF)(n.getConsentType())?((0,s.um)("campaign::",n),[...e,n.apply(t)]):[...e,c(a)(n,n.getConsentType(),d.c.consent)]}}),[]);return Promise.all(o).then((t=>t.some((t=>!!t))))},u=t=>{const e=i.Campaign.getCampaignsDatas(),n=i.Campaign.getActiveCampaigns();return Object.values(n).filter((n=>{const a=n.testDatas.parentID>0?e.find((t=>{let{id:e}=t;return e===n.testDatas.parentID}))?.priority||0:n.testDatas.priority;return 0!==a&&!t?.includes(a)}))};function g(t,e){const n=Object.keys(t);return Object.keys(e).reduce(((t,i)=>{if("0"===i)return t;const s=e[Number(i)].reduce(((t,e)=>{const i=e.children;if(i){const s=i.some((t=>n.includes(t.toString())&&e.sub_type&&[a.b0.multipagePersonalization,a.b0.multiexperiencePersonalization].includes(e.sub_type)));return s?[...t,e.id]:t}return t}),[]);return[...t,...s]}),[])}const h=(t,e,n)=>{const a=i.Campaign.filterCampaignByPrio(e,"0").map((t=>t.id))||[];return l(t)([...a,...n])},m=async(t,e)=>{for(const[n,a]of Object.entries(e)){const e=a.map((t=>t.id)),i=await l(t)(e);if(e.length>0&&i&&"0"!==n)break}}},4692:(t,e,n)=>{n.d(e,{cf:()=>f,QX:()=>g,FU:()=>m,hS:()=>p,WJ:()=>u,uj:()=>h});const a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;const e=document.createElement("style");e.type="text/css";const n=".ABTastyHidden { display: none !important }";e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),document.getElementsByTagName("head")[0].appendChild(e),document.getElementsByTagName("html")[0].setAttribute("class","ABTastyHidden"),setTimeout((()=>{const t=document.getElementsByTagName("html")[0];t.className=t.className.replace("ABTastyHidden","")}),t)};var i=n(3190),s=n(3827),o=n(4284),r=n(3330),c=n(5528),d=n(1042);const l={testID:null,variationID:null,previousLogicalView:null},u=()=>{l.testID=null,l.variationID=null,l.previousLogicalView=null,delete window.ABTasty.redirectedFrom},g=()=>l,h=t=>{const{testID:e}=g();return!(0,i.k)(e)&&e===t},m=()=>{if(p())return!1;if(g().testID)return!0;const t=new c.w,e=((0,s.re)(c.L.mrasn)||t.getMrasn()).split(".");if(e.length>=2){const n=e[2]&&e[2].length>0?e[2]:null,a=e[3]?Number[e[3]]:null;return!(a&&Date.now()-a>=1e4)&&(((t,e,n)=>{l.testID=t,l.variationID=e,l.previousLogicalView=n})(Number(e[0]),Number(e[1]),n),window.ABTasty.redirectedFrom={...g()},t.setMrasn(""),!0)}return!1},p=()=>!!window.ABTasty.pendingRedirection,f=(t,e,n)=>{const{ATInternetReferrer:l,transferParameters:u,isRegex:g,target:h,pattern:f}=t[0];if((0,i.k)(h))return void(0,d.Kp)(`Couldn't apply redirection of campaign ${e} and variation ${n}`);const v=new RegExp(c.L.mrasn);if(p()||m()||v.test(h))return;a(1e3),window.ABTasty.pendingRedirection=!0;let y=h;if(g&&(y=((t,e)=>{const n=new RegExp(e,"i"),a=window.location.href.replace(n,t);return(0,s.xC)(a)})(h,f)),u&&(y=(0,s.ST)(y,window.location.href)),y=(0,s.CL)(y),y=((t,e,n)=>{const a=(0,r.aO)()||"",i=[e,n];if(i.push(a),(0,o.ae)().accountSettings.hashMrasnAllowed){const e=i.filter((t=>t.toString().length>0)).join(".");return(0,s.oe)("mrasn",e,t)}{i.push(Date.now());const t=new c.w;t.setMrasn(i.join(".")),t.save()}return t})(y,e,n),l&&document.referrer){const t=new URL(document.referrer).hostname;y=(0,s.oe)("xtref",t,y)}/MSIE/.test(navigator.userAgent)&&(y=y.replace("&","&#38")),window.location.replace(y),a(1)}},9707:(t,e,n)=>{n.r(e),n.d(e,{addCheckTargetingListener:()=>c,allowedStatus:()=>o,checkTargetingEventName:()=>r});var a=n(1789),i=n(7230),s=n(6012);const o=[s.c.checking,s.c.pending,s.c.qaMode,s.c.targetPages,s.c.trigger,s.c.segment,s.c.rejected,s.c.audience,s.c.targetByEventPending],r="abtasty_checkTargeting",c=(()=>{let t=!1;return function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=!1),t||(t=!0,window.addEventListener(r,(t=>{if(!t.detail)return;const{campaignId:n,withUrl:s,shouldCheckAll:r}=t.detail;n&&(t=>async function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(0,i.s)(e);r&&o.includes(r.getStatus())&&(s&&(r.data.audienceTrigger&&(0,a.resetTargetingSuccess)(r.data.audienceTrigger),r.data.audienceSegment&&(0,a.resetTargetingSuccess)(r.data.audienceSegment)),(n?await(0,a.checkTargeting)(t,r):await(0,a.checkScopesAndAudiences)(t,!0,r))&&await r.executeCampaign(t))})(e)(n,s,r)})))}})()},1789:(t,e,n)=>{n.r(e),n.d(e,{audienceUseTargetingType:()=>X,checkAudiences:()=>j,checkScopes:()=>$,checkScopesAndAudiences:()=>x,checkTargeting:()=>G,containsOnlyOnceTargetings:()=>W,handleTargetingFailure:()=>q,handleTargetingSuccess:()=>z,isOnceTargeting:()=>F,pendingModeLoader:()=>K,recheckTargetingByHit:()=>c,registerPendingCriteria:()=>J,resetTargetingSuccess:()=>Z,storeTargetingSuccess:()=>Q,waitDatalayerDetection:()=>ct,waitForTargetingAvailability:()=>rt});var a=n(5136),i=n(3190),s=n(9707),o=n(7230);const r=(t,e,n)=>n.filter((t=>{let{targetingMode:e}=t;return"noajax"===e})).filter((n=>{let{id:a,audienceTrigger:r,audienceSegment:c}=n;const d=(0,o.s)(a);return!(!d||!s.allowedStatus.includes(d.getStatus()))&&("segment"!==e||(0,i.k)(c)?"trigger"===e&&!(0,i.k)(r)&&X(r,t):X(c,t))})).map((t=>{let{id:e}=t;return e})),c=(t,e)=>{const n=o.Campaign.getCampaignsDatas(),i=[];switch(t.toUpperCase()){case"EVENT":const{ec:t}=e;"eco"===t?i.push(...r(a.ECOMMERCE_VARIABLE,"trigger",n)):"Action Tracking"===t&&i.push(...r(a.ACTION_TRACKING,"segment",n));break;case"CAMPAIGN":i.push(...r(a.CAMPAIGN_EXPOSITION,"segment",n));break;case"TRANSACTION":case"ITEM":i.push(...r(a.LAST_PURCHASE,"segment",n)),i.push(...r(a.PURCHASE_FREQUENCY,"segment",n));break;case"SEGMENT":i.push(...r(a.CUSTOM_VARIABLE,"segment",n)),i.push(...r(a.INTEGRATIONS_PROVIDER,"segment",n))}i.forEach((t=>{const e=new CustomEvent(s.checkTargetingEventName,{detail:{campaignId:t,shouldCheckAll:!0,withUrl:!0}});window.dispatchEvent(e)}))};var d=n(1042),l=n(4284),u=n(6845),g=n(3827),h=n(1943);const m={[h.xz]:"equals",[h.DC]:"contains",[h.o1]:"regexp",[h.BH]:"ignore_parameters"};function p(t){let{value:e,condition:n}=t;return(0,g.rl)(m[n],e)}var f=n(83),v=n(6012);function y(t,e){d.vU("Scope error (code)",e)}var w=n(6049),A=n(1438);async function T(t,e,a){try{const i=await Promise.all(t.map((t=>async function(t){let{value:e,include:a}=t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;return(0,w.Q)().then((async t=>{if(void 0!==t)return(await t(e).promise()).length>0;{const t=(0,A.Zt)(e);return Promise.resolve(Boolean(document.querySelector(t)))}})).then((async t=>{const o=a?t:!t;return i&&s&&!o&&Promise.all([Promise.resolve().then(n.bind(n,9707)),Promise.resolve().then(n.bind(n,7791))]).then((t=>{let[n,i]=t;i.addObservance(e,a,(()=>{const t={campaignId:s},e=new CustomEvent(n.checkTargetingEventName,{detail:t});window.dispatchEvent(e)}))})),o}))}(t,a,e))));return i.some((t=>t))}catch(e){const n="Scope error (selector)";return d.vU(n,t),!1}}var b=n(1955);function E(t){let{name:e,value:n,include:a}=t;const i=b.Z.get(e);let s=!1;return(i||""===i)&&(s=!0,null!=n&&(s=null!==i.match(new RegExp(n,"i")))),a?s:!s}const S=(0,n(1117).W)(((t,e)=>{const n={};return e.forEach((e=>{const a=t(e);n[a]=n[a]||[],n[a].push(e)})),n}));var C=n(8206);const _=t=>e=>{let{range:n,from:a,to:i}=e;return n?t>=Number(a)&&t<=Number(i):t===Number(a)};function I(t){return void 0!==t.favorite_url_id}function k(t,e){let{url:n,operator:a}=t;return(0,g.rl)(a,n,e)}function O(t,e){let{favorite_url_id:n}=t;return function(t,e){const n=t.filter((t=>{let{include:e}=t;return!e})),a=t.filter((t=>{let{include:e}=t;return e}));return!n.some((t=>k(t,e)))&&(!!a.some((t=>k(t,e)))||0===a.length)}(e.filter((t=>{let{favorite_url_id:e}=t;return e===n})))}var D=n(5536);const R=t=>t,P={url_scope:{method:t=>Promise.resolve(function(t){try{const e=t.filter((t=>{let{include:e}=t;return!e})),n=t.filter((t=>{let{include:e}=t;return e}));return!(e.some(p)||!n.some(p)&&0!==n.length)}catch(e){const n="Scope error (currentUrl)";return d.vU(n,t),!1}}(t)),group:D.ge},favorite_url_scope:{method:t=>Promise.resolve(function(t){let{urlScopes:e,favoriteUrlScopeConditions:n}=t;try{const t=e.filter((t=>{let{include:e}=t;return!e})),a=e.filter((t=>{let{include:e}=t;return e}));return!(t.some((t=>I(t)?O(t,n):p(t)))||!a.some((t=>I(t)?O(t,n):p(t)))&&0!==a.length)}catch(t){const n="Scope error (CurrentFavoriteUrlCondition)";return d.vU(n,e),!1}}(t)),group:D.ge},code_scope:{method:async function(t,e){return Promise.all(t.map((n=>{let{value:a,isAsync:i}=n;if(i){return(0,o.s)(e).setStatus(v.c.waitingCodeResolution),new Promise((async(t,n)=>{const i={resolve:t,reject:n};await!!(0,f.w)(a,e,void 0,void 0,i)})).then((t=>t)).catch((e=>(y(0,t),!1)))}try{return(0,f.w)(a,e)}catch(e){return y(0,t),Promise.resolve(!1)}}))).then((t=>t.every((t=>!!t))))},group:D.ge},selector_scope:{method:(t,e,n)=>Promise.resolve(T(t,e,n)),group:D.ge},cookie_scope:{method:t=>Promise.resolve(function(t){try{return t.some(E)}catch(e){const n="Scope error (cookie)";return d.vU(n,t),!1}}(t)),group:D.D$},ip_scope:{method:t=>Promise.resolve(function(t){try{const{exclusions:e,inclusions:n}=S((t=>{let{include:e}=t;return e?"inclusions":"exclusions"}),t),a=(0,A.uY)((0,C.vz)());return!(e&&e.some(_(a))||(!n||!n.some(_(a)))&&n)}catch(e){const n="Scope error (IP)";return d.vU(n,t),!1}}(t)),group:D.D$}};async function N(t,e,n){const{id:a,mutationObserverEnabled:i}=n,s=P[e].method,r=P[e].group,c=await s(t,a,i);return d.um("Applying scope",e," for ",n,"result = ",c),o.Campaign.updatePublicTargetingData(a,{conditions:t,targeting_type:e},c,r),c}async function B(){let{codeScope:t,selectorScope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;const a=[!t?.length||N(t,"code_scope",n).catch((t=>t)),!e?.length||N(e,"selector_scope",n).catch((t=>t))];return Promise.all(a).then((t=>t.every(R)))}async function L(){let{cookieScope:t,ipScope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;const a=[!t?.length||N(t,"cookie_scope",n).catch((t=>t)),!e?.length||N(e,"ip_scope",n).catch((t=>t))];return Promise.all(a).then((t=>t.every(R)))}var M=n(3555),V=n(2662);const U=t=>(e,n)=>{let{oneVisitorOneTest:a}=n;const{id:i,status:s,type:o}=e.data;return s&&s===v.c.accepted?((0,d.um)(`campaign:: Campaign ${i} has already been accepted`),!1):s&&s===v.c.checking?((0,d.um)(`campaign:: Campaign ${i} is already in checking state`),!1):o===V.dF.subsegment&&e.hasBrotherAlreadyStarted()?(e.setStatus(v.c.otherSubsegment),!1):!e.isOneVisitorOneTestDone(t)||(e.setStatus(v.c.oneVisitorOneTest),!1)},$=t=>{const{scopes:e}=t.data;return Promise.all([B(e,t.data),L(e,t.data)])},j=(t,e)=>{const{audienceTrigger:n,audienceSegment:a}=e.data;return Promise.all([(0,u.ZN)(t)(e.data,n).catch((t=>t)),(0,u.ZN)(t)(e.data,a).catch((t=>t))])},x=async function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const{oneVisitorOneTest:a}=(0,l.wy)();if(e&&!U(t)(n,{oneVisitorOneTest:a}))return!1;n.setStatus(v.c.checking);const i=await $(n);if(i.every((t=>t))){const e=await j(t,n);return e.every((t=>t))?z(n):q(e,[v.c.trigger,v.c.segment],t,n)}return q(i,[v.c.targetPages,v.c.qaMode],t,n)},G=async(t,e)=>{const{oneVisitorOneTest:n}=(0,l.wy)(),{id:a,audienceTrigger:s,scopes:r}=e.data;if(!(t=>(e,n)=>{let{oneVisitorOneTest:a}=n;return e.isTargetByEvent()?(e.setStatus(v.c.targetByEventPending),!1):U(t)(e,{oneVisitorOneTest:a})})(t)(e,{oneVisitorOneTest:n}))return!1;if(e.setStatus(v.c.checking),await ct(s),await rt(a),e.isDynamicAllocation())try{await(0,M.f_)()}catch(t){(0,d.Kp)(`Allocation fetch failed (campaign ${a} will not be able to run corectly)`)}if(e.isPersonalisationChild()&&e.data.siblings&&e.data.siblings.length>0){e.setStatus(v.c.waitingForSubsegmentCheck);const t=[e.data.id,...e.data.siblings].sort(),n=await(async(t,e)=>{const n=e.map((e=>{const n=(0,o.s)(e);return t.data.priority>1&&n.data.priority<t.data.priority||n.data.id<t.data.id?n:null})).filter((t=>!!t));return Promise.all(n.map((t=>[v.c.checking,v.c.waitingForSubsegmentCheck].includes(t.getStatus())?t.hasBeenChecked():Promise.resolve(t.getStatus()))))})(e,t).then((t=>t.includes(v.c.accepted)));if(n)return e.setStatus(v.c.otherSubsegment),!1}const c=void 0!==r&&await async function(t,e){let{urlScope:n,favoriteUrlScope:a,favoriteUrlScopeConditions:s}=t;const o=a?.length;if(o){const t=(0,i.k)(n)?a:[...n,...a];return await N({urlScopes:t,favoriteUrlScopeConditions:s},"favorite_url_scope",e)}{const t=await N(n,"url_scope",e);return!n?.length||t}}(r,e.data);return c?x(t,!1,e):((0,d.um)("Targeting rejected."),e.setStatus(v.c.targetPages),!1)};var H=n(5263);const F=t=>{const e=[...H.DCInfosTargetings,...H.OnceTriggerTargetings,...H.OnceSegmentTargetings];return!(0,i.k)(t)&&e.includes(t)},W=(t,e)=>t.filter((t=>t?.targeting_groups?.length)).map((t=>{let{targeting_groups:e}=t;return e.map((t=>{let{targetings:e}=t;return e.map((t=>{let{targeting_type:e}=t;return e}))})).reduce(((t,e)=>t.concat(e)),[])})).reduce(((t,e)=>t.concat(e)),[]).every((t=>!(0,i.k)(t)&&F(t)))&&["codeScope","selectorScope","cookieScope"].every((t=>!e[t]?.length)),J=(()=>{const t={};return function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&Object.keys(t).forEach((e=>delete t[e])),(0,i.k)(e)||(0,i.k)(n)||(t[`${e}`]?t[`${e}`].push(n):(t[`${e}`]=[n],(e=>{setTimeout((()=>{const n=t[e];delete t[e],n&&n.forEach((t=>t()))}),e)})(e)))}})(),K=()=>Promise.resolve({});var Y=n(9267);const z=async t=>{const{id:e,targetingMode:n}=t.data;return t.getAbortSignal().aborted?((0,d.c2)(`Campaign instance is outdated. Campaign ${e}`),!1):((0,d.Vp)(`Targeting OK (campaign ${e})`),n===V.Cd.waitUntil&&await K().then((e=>{"removeCampaignFromPendingMode"in e&&e.removeCampaignFromPendingMode(t)})),!0)},q=async(t,e,n,a)=>{if(a.getAbortSignal().aborted)return(0,d.c2)(`Campaign instance is outdated. Campaign ${a.getId()}`),!1;const{targetingMode:i,audienceTrigger:s,audienceSegment:o,scopes:r}=a.data,c=[s,o].filter((t=>void 0!==t));if((i===V.Cd.fastest||[V.Cd.noAjax].includes(i))&&!(0,Y.A)())return(0,d.c2)("Targeting waiting for DOM Ready."),a.setStatus(v.c.pending),(0,Y.A)((async()=>{await x(n,!0,a)&&await a.executeCampaign(n)})),!1;const l=()=>((0,d.um)("Targeting rejected."),t.some(((t,n)=>(t||a.setStatus(e[n]),!t))),!1),u=async function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return await K().then((e=>{if("startPendingMode"in e&&"isPendingModeOver"in e){const{startPendingMode:i,isPendingModeOver:s}=e;if(!t||!W(c,r)&&!s())return(0,d.c2)("Targeting loop."),a.setStatus(v.c.pending),i(a,(async()=>!!await x(n,!0,a)&&(await a.executeCampaign(n),!0))),!1}return l()}))};return i===V.Cd.waitUntil?await u((0,Y.A)()):(0,Y.A)()?l():await u(!1)},Z=t=>{t.targeting_groups.forEach((t=>{t.targetings.forEach((t=>{delete t.success}))}))},Q=(t,e)=>{t.success=e},X=(t,e)=>t.targeting_groups&&t.targeting_groups.some((t=>t.targetings&&t.targetings.some((t=>t.targeting_type===e))));var tt=n(2022),et=n(1155);n(8669);const nt="DCInfos",at={dcInfosWait:{promise:null,resolve:null,reject:null},dcInfosData:null};function it(){return at.dcInfosWait.promise}function st(){try{const t=sessionStorage.getItem(nt);return!(0,i.k)(t)&&t.length>0?JSON.parse(t):window.ABTasty.DCInfos}catch(t){return d.vU("Error parsing dcinfos",t),null}}!function(){const t=at.dcInfosWait;t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n}))}();var ot=n(4564);const rt=async t=>{const e=`fetch failed (campaign ${t} will not be able to be checked)`,n=async(t,n,a)=>{if(t())try{return await n(),!0}catch(t){return(0,d.Kp)(`${a} ${e}`),!1}return!1},a=[n((()=>(0,u.xj)(t)&&(0,i.k)(st())),it,"DCInfos"),n((()=>(0,u.fJ)(t)),C.If,"IP"),n((()=>(0,u.dT)(t)),C.Bb,"Geolocation"),n((()=>(0,u.dN)(t)),(async()=>await(0,ot.r)(!0)),"Parsed UserAgent")];(0,u.Uo)(t)&&a.push((0,tt.Pf)()),await Promise.all(a)},ct=async t=>{if("boolean"!=typeof window.ABTasty.datalayerEnabled&&t&&X(t,a.DATALAYER))return await(0,et.X_)((()=>"boolean"==typeof window.ABTasty.datalayerEnabled))}},6012:(t,e,n)=>{n.d(e,{c:()=>a});let a=function(t){return t.accepted="accepted",t.pending="pending",t.rejected="rejected",t.oneVisitorOneTest="one_visitor_one_test",t.traffic="traffic_rejected",t.timeout="timeout",t.checking="currently_checking",t.otherSubsegment="another_subsegment_already_started",t.targetByEventPending="target_by_event_pending",t.acceptedByRedirection="accepted_by_redirection",t.targetPages="target_pages_rejected",t.qaMode="qa_parameters_rejected",t.audience="audience_rejected",t.trigger="trigger_rejected",t.segment="segment_rejected",t.notChecked="master_campaign_not_checked",t.waitingForSubsegmentCheck="other_subsegment_is_checking",t.consent="campaign_type_rejected_by_consent",t.failedLoading="deferred_loading_failed",t.notPrioritizedYet="not_prioritized_yet",t.geoipConsent="geolocation_rejected_by_consent",t.waitingCodeResolution="waiting_code_resolution",t.displayFrequency="display_frequency_rejected",t}({})},9963:(t,e,n)=>{n.r(e),n.d(e,{applyWidgets:()=>f});var a=n(4284),i=n(1042),s=n(8669),o=n(6049),r=n(1155),c=n(1955),d=n(5686),l=n(5528),u=n(763),g=n(8206),h=n(4564);const m=async(t,e,n,a)=>{let{id:i,version:s,config:m,name:p}=t;const f=await(0,o.Q)(),v={doWhen:r.VH,jsCookie:c.Z,ABTastyCookie:d.Es,ABTastySessionCookie:l.w,ABTastyLocalStorage:u.T,getGeoloc:g.Si,getParsedUserAgent:h.r,getParsedUserAgentAsync:async()=>await(0,h.r)(!0),campaignId:n,variationId:a};Function("$","jQuery","HELPERS",`!function($, jQuery, HELPERS){ try{const TEST_ID=${n},PACKAGE='${p}',VERSION = '${s}',DATA=${m},PLUGIN_ID = '${i}',VARIATION_ID = '${a}';\n  ${e}\n  }catch(e){console.log("AB Tasty: error while executing widget for test "+${n},'${p}','${s}',e)}}($, jQuery, HELPERS);`)(f,f,v)},p=t=>{window.ABTasty.appliedPlugins||(window.ABTasty.appliedPlugins=[]),window.ABTasty.appliedPlugins.push(t)},f=async(t,e,n)=>{(0,i.um)("applying widgets");const o=(0,a.ae)().widgets;return Promise.all(t.map((t=>{const{id:a,version:i,name:r}=t;if((t=>!!window.ABTasty.appliedPlugins&&window.ABTasty.appliedPlugins.includes(t))(a))return Promise.resolve();const c=o[r];if(null==c||null==c[i])return Promise.resolve();const d=c[i];return d.code?m(t,d.code,e,n).then((()=>p(a))):(0,s.U)(d.url).then((t=>t.text())).then((a=>m(t,a,e,n))).then((()=>p(a)))})))}},7649:(t,e,n)=>{n.d(e,{G:()=>c,Y:()=>s});var a=n(1042),i=n(7806);const s="c:abtasty2-izjJRMEi",o=["cookies","improve_products","measure_content_performance"];function r(){return"object"==typeof window.Didomi&&"function"==typeof window.Didomi.getUserStatus&&window.Didomi.getUserStatus()||void 0}function c(t,e,n){a.c2("Consent compliance check: Waiting for Didomi loaded and start.");const c=setTimeout((()=>n()),5e3);(0,i.tI)("didomiTimeout",c);const d=()=>{a.um("Consent compliance check: Start Didomi consent check."),clearTimeout(c);const i=t||s;!(!window.Didomi.getUserConsentStatusForVendor(i)||!t&&!o.every((t=>!!window.Didomi.getUserConsentStatusForPurpose(t))))?e():n()};r()?d():(window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push((()=>{r()&&d()}))),window.didomiEventListeners=window.didomiEventListeners||[],window.didomiEventListeners.push({event:"consent.changed",listener:d})}},8957:(t,e,n)=>{n.d(e,{yN:()=>S,RX:()=>E,wF:()=>C,zn:()=>T,FE:()=>_});var a=n(7947),i=n(2109),s=n(1042),o=n(7352),r=n(4284),c=n(5686),d=n(4874);var l=n(1955),u=n(457),g=n(1943);var h=n(7649);function m(t,e,n){return s.um("Consent compliance check: Executing custom code."),new Promise(((e,n)=>{try{new Function("abResolve",t.value)(e)}catch(t){n(t)}})).then((t=>{t?e():(s.Kp("Consent compliance check: custom code return false"),n())})).catch((t=>{s.vU("Consent compliance check: could not execute custom code",t),n()}))}function p(t,e,n){s.um("Consent compliance check: Executing custom code.");const a=()=>e(),i=()=>new Function(t.value)();try{if(i())a();else{const t=setInterval((()=>{s.c2("Consent compliance check (loop): Executing custom code."),i()&&(clearInterval(t),a())}),500);(0,u.oo)("consentCustomJs",t),n()}}catch(t){s.vU("Consent compliance check: could not execute custom code",t),n()}}const f="abtasty_grantConsent",v="abtasty_revokeConsent";var y=n(2622),w=n(6125),A=n(4892);const T=200;let b,E=function(t){return t.start="start",t.test="test",t.perso="perso",t.aa="aa",t.patch="patch",t.redirection="redirection",t.storage="storage",t.collect="collect",t.dmp="dmp",t.geoloc="geoloc",t}({});class S extends A.d{constructor(){if(super(),b)return b;const{waitForConsent:{mode:t,campaignRestrictions:e,data:n}}=(0,r.wy)();this.mode=t,this.data=n,this.isStrict=!!Object.keys(e).length&&!Object.values(e).filter((t=>!t)).length,this.campaignRestrictions=e,this.consentAtInit=c.Es.exists(),this.isListen=!1,this.isValid=!1,this.setConsentReady(!1),this.consentFor=Object.keys(e).filter((t=>!e[t])).map((t=>t)),this.isStrict||this.consentFor.push(E.start),b=this,this.shouldListen()?(d.Jo.setState("inmemory",!this.consentAtInit),this.listen()):this.valid()}static resetInstance(){b=null}haveConsent(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(E)).every((t=>this.consentFor.includes(t)))}sendConsentHit(t){(async()=>{const e={co:t};(new y.j).setInternalHit(w.Re.consent,e)})()}emitConsentValidEvent(){const t=new CustomEvent("consentValid");document.dispatchEvent(t),(new o.C).dispatchCustomEvent(i.A.Name.consentValid,{mode:(0,r.wy)().waitForConsent.mode,consentFor:this.consentFor})}valid(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(E);if(this.isValid=!0,this.setConsentReady(!0),this.notify("general.consent"),this.consentFor=[...this.consentFor,...t],(0,s.um)("Consent compliance check: Consent has been granted."),this.haveConsent([E.storage])){if(c.Es.cookieReady&&c.Es.getInstance()){const t=c.Es.getInstance(),e=t.sessionCookie;t.save(),e.save()}d.Jo.migrate()}!this.consentAtInit&&this.isListen&&this.sendConsentHit(!0),this.emitConsentValidEvent(),this.consentAtInit=c.Es.exists(),this.isListen=!1}revoke(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(E);this.isValid=!1,this.shouldRevoke()&&(this.consentFor=this.consentFor.filter((e=>e===E.start&&!this.isStrict||(Object.keys(this.campaignRestrictions).includes(e)?!this.campaignRestrictions[e]:!t.includes(e)))),this.consentFor.length===Object.values(E).length&&(this.isValid=!0),(0,s.um)("Consent compliance check: Consent has been revoked."),this.haveConsent([E.storage])||(d.Jo.migrate(),c.Es.cookieReady&&c.Es.getInstance()&&c.Es.getInstance().clearAll(),this.setConsentReady(!1),this.notify("general.consent")),this.sendConsentHit(!1))}shouldRevoke(){return!this.isValid&&c.Es.exists()}shouldListen(){return this.mode===a.n8.userAction&&!c.Es.exists()||![a.n8.thirdParty,a.n8.disabled,a.n8.userAction].includes(this.mode)}listen(){if(!this.isListen)switch(this.isListen=!0,this.mode){case a.n8.userAction:!function(t){s.c2("Consent compliance check: Waiting for a visitor's action.");const e=()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchmove",e,!0),window.removeEventListener("scroll",e,!0),t()};document.addEventListener("mousedown",e,!0),document.addEventListener("touchmove",e,!0),window.addEventListener("scroll",e,!0)}((t=>this.valid(t)));break;case a.n8.anyCookie:!function(t){s.c2("Consent compliance check: Waiting for any cookie deposit on the website.");const e=()=>t(),n=()=>document.cookie.length>0;if(n())e();else{const t=setInterval((()=>{n()&&(clearInterval(t),e())}),T);(0,u.oo)("consentAnyCookie",t)}}((t=>this.valid(t)));break;case a.n8.specificCookie:!function(t,e,n){s.c2(`Consent compliance check: Waiting for "${t.name}" cookie deposit on the website.`);const a=()=>e(),i=()=>{const{condition:e,value:n,name:a}=t,i=l.Z.get(a);if(!i)return!1;switch(Number(e)){case g.o1:return new RegExp(n).test(i);case g.DC:return i.indexOf(n)>-1;case g.xz:default:return i===n}};if(i())a();else{const t=setInterval((()=>{i()&&(clearInterval(t),a())}),T);(0,u.oo)("consentSpecificCookie",t),n()}}(this.data,(t=>this.valid(t)),(t=>this.revoke(t)));break;case a.n8.didomi:(0,h.G)(this.data,(t=>this.valid(t)),(t=>this.revoke(t)));break;case a.n8.customJs:(this.data.isAsync?m:p)(this.data,(t=>this.valid(t)),(t=>this.revoke(t)));break;case a.n8.customEvent:((t,e)=>{s.c2("Consent compliance check: Waiting for custom event.");const n=()=>(s.c2("Consent compliance check: Custom event triggered. Consent granted"),t()),a=()=>(s.c2("Consent compliance check: Custom event triggered. Consent revoked"),e());!0===window.abtastyGrantConsent&&(s.c2("Consent compliance check: window.abtastyGrantConsent is truthy. Consent granted"),n()),window.addEventListener(f,n),window.addEventListener(v,a)})((t=>this.valid(t)),(t=>this.revoke(t)));break;default:this.valid()}}getConsentReady(){return this.consentReady}setConsentReady(t){this.consentReady=t,window.ABTasty.consentReady=t}notify(t){this.mediator?.notify(t,{started:!0})}}const C=t=>(new S).haveConsent([E[t]]),_=(t,e)=>{const n=`abtasty_${i.A.Name.consentValid}`,a=i=>{const{detail:s}=i;s&&s.consentFor.includes(t)&&(window.removeEventListener(n,a),e())};window.addEventListener(n,a)}},83:(t,e,n)=>{n.d(e,{w:()=>h});var a=n(6049),i=n(1155),s=n(1042),o=n(1955),r=n(5686),c=n(5528),d=n(763),l=n(8206),u=n(4564),g=n(7230);async function h(t,e,n,h,m){if(void 0===t)return!1;try{const s=await(0,a.Q)(),h={doWhen:i.VH,jsCookie:o.Z,ABTastyCookie:r.Es,ABTastySessionCookie:c.w,ABTastyLocalStorage:d.T,getGeoloc:l.Si,getParsedUserAgent:u.r,campaignId:e,variationId:n,campaign:e?g.Campaign.instantiate(e):void 0,getParsedUserAgentAsync:async()=>await(0,u.r)(!0)};let p,f=t;return f=f.replace(/\$\.doWhen/g,"HELPERS.doWhen"),p=void 0===s?new Function("HELPERS","abResolve",f)(h,!!m&&m.resolve):new Function("$","jQuery","HELPERS","abResolve",f)(s,s,h,!!m&&m.resolve),p}catch(t){const a=void 0!==e?void 0!==n?`Campaign ${e} | Variation ${n}`:`Campaign ${e}`:void 0!==h?`Script fragment: Additional information ${h}`:"Global Script";return(0,s.Kp)(`${a} - Error during custom code execution (or code targeting)`,t),!(!m||!m.reject)&&m.reject(t)}}},4892:(t,e,n)=>{n.d(e,{d:()=>a});class a{setMediator(t){this.mediator=t}}},3330:(t,e,n)=>{n.d(e,{kb:()=>r,aO:()=>d,EF:()=>c});let a=t=>crypto.getRandomValues(new Uint8Array(t)),i=(t,e=21)=>((t,e,n)=>{let a=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*a*e/t.length);return(s=e)=>{let o="";for(;;){let e=n(i),r=i;for(;r--;)if(o+=t[e[r]&a]||"",o.length===s)return o}}})(t,e,a);var s=n(3190);let o=null;function r(){(0,s.k)(d())||c();const t=i("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",8);o=t()}const c=()=>o=null,d=()=>o},8688:(t,e,n)=>{n.r(e),n.d(e,{mainTag:()=>vt});var a=n(1042),i=n(4284),s=n(8206),o=n(4564),r=n(7352),c=n(1955),d=n(2022),l=n(3827),u=n(3190),g=n(2244),h=n(838);const m={abtasty_editor:"https://teddytor.abtasty.com",abtasty_editor_local:"https://local.editorv3.abtasty.com",abtasty_editor_preprod:"https://preprod-editorv3.abtasty.com"};function p(){return Object.keys(m).find((t=>(0,l.gy)(t)&&(0,l.re)(t)))}function f(){const t=p();if(!t)return void(0,a.Kp)("The tag could not find which editor to launch");const e=(0,l.re)(t);e?(0,h.u)(m[t]+"/dist/main.js",{attributes:{id:"abtasty-editor","data-campaignid":e}}):(0,a.Kp)("The tag could not find which testID the editor should use")}var v=n(7230);const y={prod:"https://app.abtasty.com",local:"https://local.app.abtasty.com",preprod:"https://preprod-app.abtasty.com"};function w(){const t=Object.keys(y).find((t=>(0,l.z3)("env")===t))||"prod";if(t)try{let e={testId:0,variationId:v.u.Original};(0,l.z3)("testId")&&(0,l.z3)("variationId")?e={testId:Number((0,l.z3)("testId")),variationId:Number((0,l.z3)("variationId"))}:null!==sessionStorage.getItem("ABTastyPreview")&&(e=JSON.parse(sessionStorage.getItem("ABTastyPreview")));let n=y[t];n+=`/ready/previewVariation.php?testID=${e.testId}`,n+=`&variationID=${e.variationId}`,n+=null!=(0,l.z3)("hideBar")?"&hideBar=true":"",n+=(0,l.z3)("disabledModifications")?`&disabledModifications=${(0,l.z3)("disabledModifications")}`:"",(0,h.u)(n)}catch(t){const e="Preview mode error";return(0,a.vU)(e,t),!1}else(0,a.Kp)("The tag could not find which preview to launch")}var A=n(2622),T=n(6125),b=n(4874),E=n(2533),S=n(5686),C=n(6529),_=n(8957);let I=document.location.href,k=!1;const O=[];function D(){document.location.href!==I&&((0,a.um)("Url change detected",`${O.length} callback to apply`),I=document.location.href,O.forEach((t=>t())))}function R(t){O.push(t),k||(k=!0,new MutationObserver((t=>{t.forEach(D)})).observe(window.document,{childList:!0,subtree:!0}))}var P=n(1155),N=n(2109),B=n(3492),L=n(5536);const M=(t,e,a)=>{(0,o.r)(),(0,i.aD)()&&(0,s.MH)(),Promise.resolve().then(n.bind(n,7823)).then((n=>{window.ABTasty.getAbandonedCart=async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.getAbandonedCart(a,i,s)}}))};var V=n(9267),U=n(83);function $(){const t=function(t){return t.reduce(((t,e)=>{let{method:n,url:a,category:i,action:s}=e;return(0,l.rl)(n,a)?{...t,[i]:s}:t}),{})}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);if(Object.keys(t).length>0){const e={s:t};(new A.j).setInternalHit(T.Re.segment,e)}}var j=n(4692),x=n(6541),G=n(4334),H=n(7787);const F=t=>{const e=(t=>!t&&"object"!=typeof t||!Object.values(t).every((t=>"string"==typeof t)))(t);if(e)(t=>{a.Kp("'CustomIdentities' cannot be set, format is not correct. It should be a dict of {string: string}",t)})(t);else{(t=>{if(!t&&"object"!=typeof t)return;const e=JSON.parse(b.Jo.getItem(b.vR,H.I.CUSTOM_IDENTITIES))||{},n=t;Object.entries(n).forEach((t=>{let[n,a]=t;(0,u.k)(a)||(e[n]=a)})),b.Jo.setItem(b.vR,H.I.CUSTOM_IDENTITIES,JSON.stringify(e))})(t);const e=N.A.Name.identityAdded;(new r.C).dispatchCustomEvent(e)}},W=()=>{window.abtasty=window.abtasty||{},window.abtasty.addCustomIdentity=F};var J=n(7464);const K={[T.Re.consent]:"onConsent",[T.Re.campaign]:"onCampaign",[T.Re.event]:"onEvent",[T.Re.item]:"onItem",[T.Re.pageview]:"onPageview",[T.Re.segment]:"onSegment",[T.Re.transaction]:"onTransaction",[T.Re.visitorevent]:"onVisitorevent",[T.Re.nps]:"onNps",[T.Re.datalayer]:"onDatalayer",[T.Re.product]:"onProduct"},Y=t=>{const e=(new S.Es).getNumberOfSessions();t.forEach((t=>{const{segmentHash:n,instances:s,conf:o,name:r}=t,c={provider:r,conf:o,logger:{info:a.um,error:a.vU},instances:s};switch(t.connectorType){case J.x.PULL:!async function(t,e,n){try{let a=[];if(e.segmentHash){const t=`https://try.abtasty.com/${(0,i.Nn)()}/integrations/${e.provider}.json?${e.segmentHash}`,n=await fetch(t);a=await(n.ok?n.json():Promise.resolve([]))}!function(t,e,n){if(void 0===n||""===n)return;const a=`\n    !function(session, settings){\n      try {\n        ${n}\n        onRequest(session, settings);\n      } catch(e){\n        console.log(\`AB Tasty: error while executing connector \${settings.provider}: \`, e.message)}\n      }(session, settings)\n  `;Function("session","settings",a)(t,e)}(t,{...e,segmentList:a},n)}catch(t){(0,a.vU)(t)}}({pv:e},{...c,segmentHash:n},t.code);break;case J.x.PUSH:!async function(t,e){try{if(!e)return;const n=Function(`\n      return (function(){\n        try{\n          ${e}\n          return getConnectors();\n        }catch(e){\n          console.log(\`AB Tasty: error while setting up push connector \${event.provider}: \`, e)\n        }\n      })()\n    `)()||{};Object.entries(K).forEach((e=>{let[a,i]=e;i in n&&window.ABTasty.hitServiceNotifierSubscribe(n[i],a,t)}))}catch(t){(0,a.vU)(t)}}({...c,instances:t.instances},t.code);break;case J.x.DATALAYER:!function(t,e,n){if(void 0===n||""===n)return;Function("datalayer","settings",`\n    !function(datalayer, settings){\n      try {\n        ${n}\n        main(datalayer, settings);\n      } catch(e){\n        console.log(\`AB Tasty: error while executing connector \${datalayer.name}: \`, e.message)}\n      }(datalayer, settings)\n  `)(t,e)}(t,c,t.code);break;default:(0,a.vU)(`Unknown integration connector type ${t.connectorType}`)}}))};var z=n(7196);n(45),n(7871);const q={hasRefreshed:!1,callbacks:[]};class Z{jsCacheRefreshed=!1;constructor(t,e,n,a){this.visitorId=t,this.consent=e,this.started=n,this.lastUpdateDate=a,this.jsCacheRefreshed=(t=>(t&&q.callbacks.push(t),q.hasRefreshed))((t=>this.setJsCacheRefreshed(t))),this.dataV1={visitorId:this.visitorId,account:(0,i.wy)(),events:r.O,general:{consent:this.consent.getConsentReady(),started:this.started,jsCacheRefreshed:this.jsCacheRefreshed,lastUpdateDate:a}},this.handlers={},this.consent.setMediator(this),(new r.C).setMediator(this)}setStarted(t){this.started=t}setJsCacheRefreshed(t){this.jsCacheRefreshed=t,this.notify("general.jsCacheRefreshed")}notify(t,e){if(t.startsWith("general")||t.startsWith("events")){t.startsWith("general")&&e?.started&&this.setStarted(e.started);const n=this.getHandlerCallback(t);n&&this.runCallback(n)}}runCallback(t){const{callbackKey:e,callbacks:n}=t,a=e.split(".");for(const t of n)t(this.getValue(a),a)}getValue(t){if(!t.length)throw new Error("No key is given in argument!");this.dataV1.general={consent:this.consent.getConsentReady(),started:this.started,lastUpdateDate:this.lastUpdateDate,jsCacheRefreshed:this.jsCacheRefreshed};const e=t[t.length-1];if("function"==typeof e){const n=(t=t.slice(0,-1)).join(".");this.handlers[n]=[...this.handlers[n]??[],e]}return t.reduce(((t,e)=>{if(t&&void 0!==t[e])return t[e];throw new Error(`Unknown key: ${e}!`)}),this.dataV1)}getApi(){var t=this;return{v1:{getValue:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.getValue(n)}}}}getHandlerCallback(t){const e=this.handlers[t];if(void 0!==e)return{callbackKey:t,callbacks:e};const n=t.split("."),a=n.slice(0,n.length-1);return a.length?this.getHandlerCallback(a.join(".")):null}}var Q=n(8302);const X=t=>()=>({campaignHistory:()=>t.getCampaignHistory(),visitorId:t.getVisitorId(),currentSessionTimestamp:t.getCurrentSessionTimestamp(),numberOfSessions:t.getNumberOfSessions()});var tt=n(3330),et=n(7806),nt=n(1789),at=n(5528);var it=n(724);var st=n(8194);let ot=!1;function rt(){ft()?(0,st.HP)()&&(0,st.SD)()&&(mt()?((0,a.Kp)("[ABTasty tag is locked]"),new Promise((t=>{window.unlockABTasty=()=>(delete window.lockABTastyTag,(0,a.um)("[ABTasty tag is unlocked]"),t(!0))})).then(ct)):(0,i.zu)()?(0,a.Kp)("[ABTasty quota limit reached]"):(0,i.MA)()?setTimeout(ct,0):ct()):(0,a.vU)("Tag has been stopped: Current page domain is not matching with account configuration.")}async function ct(){const{epoqId:t,emotionAiId:e}=(0,i.wy)();const s=new _.yN,c=await S.Es.build(),d=new Z(c.getVisitorId(),s,!1,"2024/01/18 11:22:05 UTC");window.ABTasty.api=d.getApi(),(0,B.GN)(["ABTasty","cnilReady"],["ABTasty","consentReady"]),c.setSaveable([S.RY.uid,S.RY.cst,S.RY.fst,S.RY.ns,S.RY.pst,S.RY.pvis,S.RY.pvt,S.RY.th],!0),s.haveConsent([_.RX.start])||((0,a.Kp)("Waiting for consent."),await new Promise((t=>{(0,_.FE)(_.RX.start,(()=>t(!0)))}))),(0,a.um)("Main process started..."),window.ABTasty.started=!0,d.setStarted(!0),window.ABTasty.visitor={id:c.getVisitorId()},window.ABTasty.results={};(new r.C).initCustomEventState(),window.ABTasty.omnitureProcessed=!1,window.ABTasty.getTestsOnPage=v.Campaign.getActiveCampaigns,(0,x.F8)(),await(0,C.hk)(c.getVisitorId())||(0,x.GD)()||((0,a.Kp)("Tag has been stopped caused by sampling configuration."),await(0,C.zc)(),(0,a.c2)("Tag has been unlocked using sampling bypass event.")),window.ABTasty.hitServiceNotifierSubscribe=z.d.getInstance().subscribe,window.ABTasty.hitServiceNotifierUnSubscribe=z.d.getInstance().unsubscribe,window.ABTasty.getParsedUserAgent=()=>((0,B.kG)({deprecate:"getParsedUserAgent",new:"getParsedUserAgentAsync",type:"function"}),(0,o.r)()),window.ABTastyStartTest=v.Campaign.abTastyStartTest(c),window.ABTastyReload=()=>{(0,a.um)("Tag reloading from ABTastyReload"),dt(c)(!0)},new A.j,window.ABTastyPageView=()=>{(0,a.um)("Tag reloading from ABTastyPageView"),(0,B.kG)({deprecate:"ABTastyPageView",new:"ABTastyReload",type:"function"}),dt(c)(!0)},M((0,i.Nn)(),c.getVisitorId(),s);n(6666).detectDatalayer();(0,G.J)()?.then((t=>t.setGlobals(X(c)))),(0,i.wy)().ajaxAutoReload&&R((()=>{dt(c)(!0)})),(0,P.Hl)((()=>dt(c)(!0))),dt(c)(),W()}const dt=t=>async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,G.J)()?.then((t=>{t.dispatchBatch()})),e&&await(async()=>{(0,Q.p)(),v.Campaign.resetCampaigns(),(0,j.WJ)(),(0,tt.EF)(),await(0,nt.pendingModeLoader)().then((t=>{"resetPendingMode"in t&&t.resetPendingMode()})),(0,nt.registerPendingCriteria)(null,null,!0),(0,et.iG)(),new at.w(!0),(new r.C).resetSpecificsCustomEvents([N.A.Name.executedCampaign,N.A.Name.tagContentExecuted])})(),document.dispatchEvent(new CustomEvent(L.do)),(0,tt.kb)(),window.ABTasty.results={},window.ABTasty.omnitureProcessed=!1,(0,i.wy)().ajaxAutoReload&&(window.ABTasty.urlHistory={previous:window.ABTasty.urlHistory&&window.ABTasty.urlHistory.current?window.ABTasty.urlHistory.current:document.referrer,current:document.location.href}),ot||(ot=!0,lt(t))};async function lt(t){const{accountSettings:{globalCode:e,globalCodeOnDocReady:n},globalCodeFragments:s,customVariables:o}=(0,i.ae)();if(!S.Es.cookieReady)return void setTimeout((()=>lt(t)),L.Th);ot=!1,t.pageView();const c=(0,i.$J)()||[];(0,a.um)("Integration connectors::",c),c&&c.length&&Y(c),o&&$(o),(new A.j).setInternalHit(T.Re.pageview,{}),(0,j.FU)(),function(t,e,n){const i=""!==t,s=n&&n.length>0;(i||s)&&(i&&(e?(0,V.A)((()=>{(0,a.um)("Executing account JavaScript code."),(0,U.w)(t)})):((0,a.um)("Executing account JavaScript code."),(0,U.w)(t))),s&&((0,V.A)((()=>{n.filter((t=>t.onDocumentReady)).forEach((t=>{(0,U.w)(t.code,null,null,t.id)}))})),n.filter((t=>!t.onDocumentReady)).forEach((t=>{(0,U.w)(t.code,null,null,t.id)}))))}(e,n,s),await(async t=>{const{getCampaignsDatas:e,getCampaignsSortedByPrio:n}=v.Campaign,a=n(e()),i=(0,it.wP)(t.getCampaignHistory(),a);i.length>0?await(0,it.ed)(t,a,i):await(0,it.ci)(t,a)})(t),function(t){const e=(0,i.ll)();e&&(0,Q.v)(t)(e)}(t),(0,V.A)((()=>{(new r.C).dispatchCustomEvent(N.A.Name.tagContentExecuted)}))}const ut="ABTastyOptout",gt=()=>p()?f:"preview"===(0,l.rD)(window.location.href,!0).ab_project||"undefined"!=typeof sessionStorage&&void 0!==sessionStorage.ABTastyPreview&&null!=sessionStorage.ABTastyPreview?w:rt,ht=()=>!!p()||!window.ABTasty.started&&!(()=>{if((0,d.Sq)())return!0;const{abtastyeditorlock:t,abtastyoptout:e}=(0,l.J5)();let n=!1;try{n=!(0,u.k)(t)||!(0,u.k)(window.top?.ABTASTY_S)}catch(t){}return(0,u.k)(e)?Boolean(c.Z.get(ut))||n:(c.Z.set(ut,"1",(0,E.$c)(388)),!0)})(),mt=()=>window.lockABTastyTag||!1,pt=["localhost","127.0.0.1"],ft=()=>{const{authorizedDomains:t=[]}=(0,i.wy)(),e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.host;return t.filter((t=>(0,l.Yg)(t,e)))}(t).length>0,n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;return pt.some((e=>(0,l.Yg)(e,t)))}()||e;if(!n&&t.length>0){const e=JSON.parse(b.Jo.getItem(b.vR,g.oZ)||"{}");if(!e?.troubleshoot?.includes("domainNotAuthorized")&&Math.floor(1e4*Math.random())+1===1){const n={cv:{0:`detectedDomain: ${window.location.origin.replace(/^https?:\/\//,"")}`,1:`expectedDomain: ${t.slice(0,5).join(",").concat(t.length>5?",...":"").toString()}`}};(new A.j).setInternalHit(T.Re.usage,n),e.troubleshoot=[...e.troubleshoot||[],"domainNotAuthorized"],b.Jo.setItem(b.vR,g.oZ,JSON.stringify(e))}return(0,a.Kp)("Domain restriction configuration: the current domain is not matching with the domain set in the account configuration. Please check your settings to avoid any service disruption in the future."),!0}return n};const vt=()=>{(new r.C).initCustomEventState();const t=(0,i.ae)();(function(){try{if(!(0,i.wy)().accountIframeException&&window.parent!==window&&"object"==typeof window.parent.ABTasty&&window.parent.ABTasty.accountData.accountSettings.identifier===(0,i.wy)().identifier)return!1}catch(t){}return!0})()&&((0,a.um)("Starting execution...",t),window.ABTasty=window.ABTasty||{accountData:t,getAccountSettings:()=>(0,i.wy)(),getGeoloc:()=>(0,s.Si)(),getParsedUserAgentAsync:async()=>await(0,o.r)(!0),pendingRedirection:!1,pendingUAParser:!0,started:!1,consentReady:!1,tagInfos:{commitHash:"590caaa6",version:"latest",enabledFlagshipExperiments:[{name:"tag_lp_url_cookie",value:"true"},{name:"tag_1domain_lock",value:"true"},{name:"tag_1domain_sampling",value:1e4}].filter((t=>!1!==t.value))}},ht()&&gt()())}},6541:(t,e,n)=>{n.d(e,{F8:()=>u,GD:()=>h});var a=n(838),i=n(3827),s=n(6529),o=n(1042);const r="AB_TASTY_QA_ASSISTANT_ENV",c={abtasty_qa_assistant:"prod",abtasty_qa_assistant_staging:"staging",abtasty_qa_assistant_local:"local"},d={prod:"https://qa-assistant.abtasty.com",staging:"https://staging-qa-assistant.abtasty.com",local:"https://local-qa-assistant.abtasty.com:5000"},l=(Object.keys(c),"bundle.js");function u(){!function(){(0,o.um)("Listening for keyboard events to launch QA Assistant");const t={q:!1,a:!1},e=Object.keys(t),n=n=>{(n.altKey||n.ctrlKey)&&e.includes(n.key.toLocaleLowerCase())&&(t[n.key.toLocaleLowerCase()]=!0),Object.values(t).every((t=>t))&&m()},a=function(n){e.includes(n.key)&&(t[n.key]=!1)},i=()=>{document.removeEventListener("keydown",n,!1),document.removeEventListener("keyup",a,!1)};i(),document.addEventListener("keydown",n,!1),document.addEventListener("keyup",a,!1)}(),h()&&m()}function g(){return Object.keys(c).find((t=>!!(0,i.re)(t)))}function h(){return!(!g()&&!sessionStorage.getItem(r))}function m(){if(!window.frames.ABTastyQaAssistant){const t=function(){const t=g();return(()=>{const e=sessionStorage.getItem(r);return e&&[...Object.keys(d)].includes(e)?e:t&&c[t]?c[t]:"prod"})()}(),e=d[t];(0,o.um)("Loading QA Assistant"),(0,a.u)(`${e}/${l}`),sessionStorage.setItem(r,t),window.dispatchEvent(new CustomEvent(s.dN))}}},6529:(t,e,n)=>{n.d(e,{dN:()=>r,hk:()=>c,zc:()=>d});var a=n(1042);const i=t=>0===t.length?-1:Math.abs(t.split("").reduce(((t,e)=>{const n=(t<<5)-t+e.charCodeAt(0);return n&n}),0)),s=async t=>{let e=-1;if(window.isSecureContext)try{e=await(async t=>{const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-1",e);return new Uint16Array(n)[0]})(t)}catch(n){(0,a.Kp)("Hashing by Crypto API failed, fallback to hashing by bits shifting."),e=i(t)}else e=i(t);return e<0?-1:e%100+1};var o=n(4284);const r="abtasty_bypassSampling",c=async t=>{try{const e=await s(t);return e>0&&e<=((0,o.wy)().sampling||100)}catch(t){return(0,a.vU)("Sampling has failed",t),!1}},d=()=>new Promise((t=>{window.addEventListener(r,(()=>t()))}))},7823:(t,e,n)=>{n.r(e),n.d(e,{getAbandonedCart:()=>g});var a=n(1042),i=n(8669),s=n(3190),o=n(7806),r=n(4874);const c="ABTastyAbandonedCart",d=3e3,l="abandonedCartFetch",u="//dcinfos-cache.abtasty.com/v1/cart",g=(()=>{const t={};return async function(e,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&delete t.abandonedCart,t.abandonedCart)return t.abandonedCart;if(!r.Jo.getItem(r.vR,c)){const g=e=>{(0,s.k)(e)||r.Jo.setItem(r.vR,c,JSON.stringify(e)),t.abandonedCart=e};return await(async(t,e)=>{const n=(()=>{try{return new AbortController}catch(t){(0,a.Kp)("Cannot create AbortController.",t)}})(),s=setTimeout((()=>{n?.abort(),(0,a.Kp)("Call to Abandoned cart service timeout. Abandoned cart targeting is going to reject visitor.")}),d);(0,o.tI)(l,s);const r=`${u}?clientId=${t}&fullVisitorId=${e}`;return await(0,i.U)(r,{signal:n?.signal}).then((t=>{switch((0,o.MH)(l),t.status){case 200:return t.json();case 204:return{};default:return}})).catch((t=>{"AbortError"!==t.name&&(0,a.vU)(`Error while fetching Abandoned cart data: ${t}`)}))})(e,n).then((t=>(g(t),t)))}try{const e=JSON.parse(r.Jo.getItem(r.vR,c));return t.abandonedCart=e,t.abandonedCart}catch(e){return(0,a.Kp)(`Error while parsing abandoned cart data from sessionStorage: ${e}`),t.abandonedCart}}})()},2622:(t,e,n)=>{n.d(e,{j:()=>r});var a=n(2109),i=n(3190),s=n(7352),o=n(4334);class r{static instance=null;data=null;commonDataRefresher=null;constructor(){return(0,i.k)(r.instance)?(r.instance=this,this.data={eventTracking:[],collectHit:[]},this.createMethods(),(new s.C).dispatchCustomEvent(a.A.Name.trackingInitialized),this):r.instance}static reset(){(0,i.k)(r.instance)||(0,i.k)(r.instance.data)||(r.instance.data.eventTracking=[],r.instance.data.collectHit=[])}setEventTracking(t,e,n){if((new s.C).getStatusCustomEvent(a.A.Name.analyticsLoaded)===a.A.Status.complete)return;const i=Date.now(),o=this.data.eventTracking.length;this.data.eventTracking[o]={name:t,data:e,campaignId:n,time:i}}static getEventTracking(){return(0,i.k)(r.instance)||(0,i.k)(r.instance.data)?[]:r.instance.data.eventTracking}setInternalHit(t,e){(new s.C).getStatusCustomEvent(a.A.Name.analyticsLoaded)===a.A.Status.complete&&r.instance?.commonDataRefresher?(0,o.J)()?.then((n=>n.dispatchHit(t,e))):this.setCollectHit(t,e)}setCollectHit(t,e){if((new s.C).getStatusCustomEvent(a.A.Name.analyticsLoaded)===a.A.Status.complete)return;const n=Date.now(),i=this.data.collectHit.length;this.data.collectHit[i]={type:t,args:e,time:n}}static getCollectHit(){return(0,i.k)(r.instance)||(0,i.k)(r.instance.data)?[]:r.instance.data.collectHit}static setCommonDataRefresher(t){(0,i.k)(r.instance)||(r.instance.commonDataRefresher=t)}static getCommonDataRefresher(){return(0,i.k)(r.instance)?null:r.instance.commonDataRefresher}createMethods(){var t=this;const e=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.setCollectHit.apply(t,[...n])};window.abtasty?window.abtasty.send||(window.abtasty.send=e):window.abtasty={send:e};const n=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.setEventTracking.apply(t,[...n])};window.ABTastyClickTracking||(window.ABTastyClickTracking=n),window.ABTastyEvent||(window.ABTastyEvent=n)}}},7196:(t,e,n)=>{n.d(e,{d:()=>o});var a=n(1155),i=n(7230),s=n(6125);class o{constructor(){o.observers=[],o.hitHistory=[]}subscribe(t,e,n){const a=function(t){let e=0;const n=t.toString().replace(/\s/g,"");for(let t=0;t<n.length;t++){e=(e<<5)-e+n.charCodeAt(t)}return e}(t),i={measurementId:null,instances:[],...n,observerId:a};if(o.observers.every((t=>{let{settings:e}=t;return a!==e.observerId}))){const a={fn:t,hitType:e,settings:i};if(o.observers.push(a),n?.withHitHistory&&o.hitHistory.length)for(const n of o.hitHistory)o.hasToSendDataToSubcriber(a,n.data,e)&&t.call(window,n,i)}}unsubscribe(t){o.observers=o.observers.filter((e=>{let{settings:n}=e;return n.observerId!==t}))}emit(t,e,n){let r=Object.assign({},e);if(t===s.Re.campaign){const{caid:t,vaid:n}=e,a=(0,i.s)(Number(t));if(a?.isChild()){const t=a.getParentId(),e=a.getParentName(),i=a.getVariation?.(Number(n));r={...r,caid:t.toString(),caname:e,vaid:i?.masterVariationId?.toString(),vaname:i?.name}}else r={...r,caname:a?.getName(),vaname:a?.getVariation?.(Number(n))?.name};r.sub_type=a?.data.sub_type}const c={type:t,timestamp:n,data:r,doWhen:a.VH};t===s.Re.pageview?o.hitHistory=[]:o.hitHistory.push(c),o.observers.forEach((e=>{o.hasToSendDataToSubcriber(e,r,t)&&e.fn.call(window,c,e.settings)}))}static isAnActiveIntegrationForThisCampaign(t,e,n){let{instances:a=[]}=e;return n!==s.Re.campaign||!a.length||a.some((e=>{let{testIds:n}=e;return n?.includes(Number(t.caid))}))}static getInstance(){return o.instance||(o.instance=new o),o.instance}static hasToSendDataToSubcriber(t,e,n){let{hitType:a,settings:i}=t;return o.isAnActiveIntegrationForThisCampaign(e,i,n)&&(!a||a===n)}}},6125:(t,e,n)=>{n.d(e,{OD:()=>r,Re:()=>a,YX:()=>s,aB:()=>o,s_:()=>i});let a=function(t){return t.campaign="CAMPAIGN",t.event="EVENT",t.item="ITEM",t.pageview="PAGEVIEW",t.segment="SEGMENT",t.transaction="TRANSACTION",t.visitorevent="VISITOREVENT",t.nps="NPS",t.batch="BATCH",t.datalayer="DATALAYER",t.consent="CONSENT",t.product="PRODUCT",t.usage="USAGE",t.troubleshooting="TROUBLESHOOTING",t}({}),i=function(t){return t.CART_ITEM="CART_ITEM",t.CART_TOTAL="CART_TOTAL",t.VIEW="VIEW",t}({}),s=function(t){return t.strict="STRICT_MODE",t.permissive="PERMISSIVE_MODE",t}({}),o=function(t){return t.any_cookie="LOW_COOKIE",t.specific_cookie="COMPLIANT_COOKIE",t.custom_js="MANUAL_CODE",t.third_party="THIRD_PARTY",t.didomi="DIDOMI",t}({}),r=function(t){return t.Boolean="boolean",t.IntegerArray="integer[]",t.Integer="integer",t.FloatArray="float[]",t.Float="float",t.ArrayArray="array[]",t.Array="array",t.ObjectArray="object[]",t.Object="object",t.StringArray="string[]",t.String="string",t}({})},4334:(t,e,n)=>{n.d(e,{J:()=>i});var a=n(1042);const i=()=>{try{return n.e(142,"low").then(n.bind(n,7725))}catch(t){(0,a.vU)("Analytics/Collect module failed to be loaded asynchronously.",t)}}},3555:(t,e,n)=>{n.d(e,{RH:()=>o,f_:()=>d,s6:()=>l});n(8669),n(4284);var a=n(1042),i=n(4874);const s="ABTastyAllocation",o="0",r={dynAllocWait:{promise:null,resolve:null,reject:null}};function c(){const t=r.dynAllocWait;t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n}))}function d(){return r.dynAllocWait.promise}function l(){let t;try{t=JSON.parse(i.Jo.getItem(i.vR,s))}catch(t){a.vU(`Error parsing allocations data: ${t}`)}return t}c()},8206:(t,e,n)=>{n.d(e,{MH:()=>h,Si:()=>m,Bb:()=>f,If:()=>v,vz:()=>p});var a=n(8669),i=n(7806),s=n(4874),o=n(3190),r=n(1042);const c="ABTastyGeoloc";class d{constructor(t,e){this.name=t,this.state=e,this.createWaitPromise()}resetState(){this.state.wait.reject?.(`${this.name} service state is being reset`),this.state.wait={promise:null,resolve:null,reject:null},this.state.data=null,this.createWaitPromise()}createWaitPromise(){const t=this.state.wait;t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n}))}getWaitPromise(){return this.state.wait.promise}getData(){try{return(0,o.k)(this.state.data)?JSON.parse(s.Jo.getItem(s.vR,c)):this.state.data}catch(t){return(0,r.vU)(`Error parsing ${this.name}: ${t}`),null}}setData(t){this.state.data=t,s.Jo.setItem(s.vR,c,JSON.stringify(t))}async fetch(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{weather:!1};if(!(this.state.isNotFilled||o.k)(this.getData()))return(0,o.k)(this.state.data)&&(this.state.data=JSON.parse(s.Jo.getItem(s.vR,c))),void this.state.wait.resolve?.(!0);this.state.wait.promise||this.createWaitPromise();const e=setTimeout((()=>{(0,o.k)(this.getData())&&this.serviceFailure()}),this.state.service.timeout);(0,i.tI)(this.state.service.timeoutName,e);const n=Object.entries(t).reduce(((t,e,n)=>{let[a,i]=e;return 0===n?`?${a}=${i}`:`${t}&${a}=${i}`}),"");await(0,a.U)(`${this.state.service.route}${n}`).then((t=>t.json())).then((t=>(this.setData(t),this.state.wait.resolve?.(!0),(0,i.MH)(this.state.service.timeoutName),!0))).catch((t=>(this.serviceFailure(),this.state.wait.reject?.(`An error occurred on ${this.name} service: ${t}`),(0,r.vU)(`Error while fetching ${this.name} data: ${t}`),!1)))}serviceFailure(){sessionStorage.setItem(c,""),this.state.wait.reject?.(`${this.name} service failure`),(0,i.MH)(this.state.service.timeoutName)}}const l={wait:{promise:null,resolve:null,reject:null},data:null,service:{timeout:3e3,timeoutName:"ipFetchLoop",route:"//dcinfos-cache.abtasty.com/v1/geoip"}},u=new d("geoloc",{wait:{promise:null,resolve:null,reject:null},data:null,isNotFilled:t=>!t?.country_name,service:{timeout:3e3,timeoutName:"geolocFetchLoop",route:"//dcinfos-cache.abtasty.com/v1/geoip"}}),g=new d("ip",l),h=()=>u.fetch({weather:!1}),m=()=>u.getData(),p=()=>(u.getData()||g.getData())?.ip_address,f=()=>u.getWaitPromise(),v=()=>g.getWaitPromise()},4564:(t,e,n)=>{n.d(e,{K:()=>h,r:()=>g});var a=n(1042),i=n(8669),s=n(5355),o=n(7806),r=n(4874),c=void 0;const d="ABTastyUA",l={timeout:3e3,timeoutName:"userAgentFetchLoop",route:"//dcinfos-cache.abtasty.com/v1/ua-parser"},u=()=>{window.ABTasty.pendingUAParser=!1,sessionStorage.setItem(d,""),(0,o.MH)(l.timeoutName)},g=(t=>{const e={request:void 0,ua:void 0};return function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(e.request=void 0,e.ua=void 0,r.Jo.removeItem(r.vR,d)),e.ua)return window.ABTasty.pendingUAParser=!1,e.ua;if(!r.Jo.getItem(r.vR,d)){const a=t=>{t&&r.Jo.setItem(r.vR,d,JSON.stringify(t)),e.ua=t};return n?(e.request||(e.request=t.apply(c)),e.request.then((t=>(a(t),t)))):(e.request||(e.request=t.apply(c,[a])),e.ua)}window.ABTasty.pendingUAParser=!1;try{const t=JSON.parse(r.Jo.getItem(r.vR,d));return e.ua=t,e.ua}catch(t){return(0,a.Kp)(`Error while parsing UserAgent from sessionStorage: ${t}`),e.ua}}})((async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};window.ABTasty.pendingUAParser=!0;const e=(()=>{try{return new AbortController}catch(t){(0,a.Kp)("Could not create AbortController",t)}})(),n=setTimeout((()=>{void 0===g()&&(e?.abort(),u())}),l.timeout);return(0,o.tI)(l.timeoutName,n),await(0,i.U)(l.route,{signal:e?.signal}).then((t=>t.json())).then((e=>(window.ABTasty.pendingUAParser=!1,(0,o.MH)(l.timeoutName),t(e),e))).catch((e=>{u(),(0,a.vU)(`Error while fetching userAgentParser data: ${e}`),t(void 0)}))})),h=async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;const n=t?await g(t):g(t);return 0===e.length?[n]:e.map((t=>(0,s.E)(t.split("."),n)))}},5686:(t,e,n)=>{n.d(e,{Es:()=>U,RY:()=>M});var a=n(2662),i=n(4386),s=n(1955),o=n(4284),r=n(5528),c=n(1042),d=n(3190),l=n(8390),u=n(294);const g=(0,n(1117).W)(((t,e)=>e.join(t)));var h=n(3827),m=n(763),p=function(t){return t.get="get",t.set="set",t.remove="remove",t}(p||{});const f="ABTasty",v=[],y="try.abtasty.com",w=`${y}/cross-domain-iframe.html`,A=`[src*="${w}"]`;function T(){return new Promise(((t,e)=>{if(document.querySelectorAll(A).length>0)return void t();window.addEventListener("message",E,!1);const n=document.createElement("iframe");n.src=`${document.location.protocol}//${w}`,n.onload=function(){t()},n.setAttribute("frameborder","0"),n.style.width="0",n.style.height="0",n.style.display="none";const a=document.body||document.head,i=a.childNodes;a.insertBefore(n,i[i.length-1])}))}function b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n={resolve:e,name:t.method===p.remove?`${t.key}-${t.method}`:t.key};v.push(n)}document.querySelector(A).contentWindow.postMessage(JSON.stringify(t),"*")}function E(t){if(t.origin.indexOf(y)<0||!t.data)return;const e=JSON.parse(t.data),n=v.find((t=>t.resolve&&t.name===e.key));return n&&n.resolve&&(n.resolve(e),n.resolve=null),!1}var S=n(1438),C=n(8194),_=n(1155),I=n(4874),k=n(2533),O=n(8075);const D=t=>{try{const e=document.cookie.match(/ABTasty=([^;]+)/g);if(e&&e.length>1){const n=e.map((t=>t.replace(/^ABTasty=/,""))).map((t=>unescape(t))).map((e=>((t,e)=>{const n=e=>{const n=t.find((t=>{let{key:n}=t;return n===e}));return n?"th"===e?t=>t:n.typeCast:()=>{}};return e.split("&").map((t=>t.split("="))).map((t=>{let[e,n]=t;return[e,n]})).reduce(((t,e)=>{let[a,i]=e;return{...t,[a]:n(a)(decodeURI(i))}}),{})})(t,e))),a={};return t.forEach((t=>{let{key:e}=t;const i=n.reduce(((t,n)=>(0,d.k)(n[e])?t:[...t,n[e]]),[]);if(i.every((t=>t===i[0])))a[e]=i[0];else switch(e){case"uid":a[e]=(t=>{t.sort(((t,e)=>{let{fst:n}=t,{fst:a}=e;return n-a}));const e=t.filter((t=>{let{fst:e}=t;return e>=0}));return e.length>0?e[0].uid:t[0].uid})(n);break;case"pst":const t=i.some((t=>t>=0));a[e]=t?Math.min(...i.filter((t=>t>=0))):i[0];break;case"fst":a[e]=Math.min(...i);break;case"cst":case"ns":case"pvt":case"pvis":a[e]=Math.max(...i);break;case"th":a[e]=(t=>{const e={};return t.forEach((t=>{t.split("_").forEach((t=>{const n=t.split(".")[0];Object.keys(e).indexOf(n)<0&&(e[n]=t)}))})),Object.values(e).join("_")})(i)}})),(t=>{const e=(0,k.$c)(new Date("Thu, 01 Jan 1970 00:00:01 GMT"));(0,O.z)(h.sZ,(n=>n.forEach((n=>{e.domain=n,document.cookie=`${t}=-1;${(0,k.Lz)(e)}`}))))(window.location.href)})("ABTasty"),Object.entries(a).reduce(((t,e,n)=>t+(n>0?"&":"")+e.join("=")),"")}return null}catch(t){const e="Handle duplicated ABTasty cookies error.";return c.vU(e),null}};var R=n(8957),P=n(7230),N=n(6012);var B=n(2244);let L,M=function(t){return t.uid="uid",t.fst="fst",t.pst="pst",t.cst="cst",t.ns="ns",t.pvt="pvt",t.pvis="pvis",t.th="th",t.eas="eas",t}({}),V=function(t){return t.visitorID="visitorID",t.firstSessionTimestamp="firstSessionTimestamp",t.previousSessionTimestamp="previousSessionTimestamp",t.currentSessionTimestamp="currentSessionTimestamp",t.numberOfSessions="numberOfSessions",t.pagesViewedTotal="pagesViewedTotal",t.pagesViewedInSession="pagesViewedInSession",t.testsHistory="testsHistory",t.emotionAiSegment="emotionAiSegment",t}({});class U{dictionary=[{key:M.uid,humanKey:V.visitorID,value:"",typeCast:t=>String(t),saveable:!0},{key:M.fst,humanKey:V.firstSessionTimestamp,value:0,typeCast:t=>Number(t),saveable:!1},{key:M.pst,humanKey:V.previousSessionTimestamp,value:-1,typeCast:t=>Number(t),saveable:!1},{key:M.cst,humanKey:V.currentSessionTimestamp,value:0,typeCast:t=>Number(t),saveable:!1},{key:M.ns,humanKey:V.numberOfSessions,value:0,typeCast:t=>Number(t),saveable:!1},{key:M.pvt,humanKey:V.pagesViewedTotal,value:0,typeCast:t=>Number(t),saveable:!1},{key:M.pvis,humanKey:V.pagesViewedInSession,value:0,typeCast:t=>Number(t),saveable:!1},{key:M.th,humanKey:V.testsHistory,value:{},typeCast:this.deserializeTestsHistory,saveable:!1}];constructor(){if(L)return L;const{customCookieDomain:t,customCookiePath:e}=(0,o.wy)();this.sessionCookie=new r.w,this.name=U.getCookieName(),this.customDomain=t,this.customPath=e,window.ABTasty.clearCookie=this.clear.bind(this),window.ABTasty.clearAllCookies=this.clearAll.bind(this),L=this;const n=D(this.dictionary);return(0,d.k)(n)||s.Z.set(this.name,n,this.getConfig()),L}static build(){return new Promise((async t=>{if(L)return t(L);const e=new U;return e.isCrossDomainUsed()?await new Promise(((t,e)=>{T().then((()=>{b({key:f,identifier:(0,o.Nn)(),method:p.get},t)}))})).then((async t=>await e.crossCookieMerge(t.value,e.sessionCookie))):await e.setUp(e.sessionCookie),"function"!=typeof window.ABTasty.getCampaignHistory&&(window.ABTasty.getCampaignHistory=()=>e.getCampaignHistory()),t(L||e)}))}async clearAllStorage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];I.Jo.clear(e),t.resetDictionary(),t.clear(),this.clear(),await(this.isCrossDomainUsed()?new Promise(((t,e)=>{T().then((()=>{b({key:f,identifier:(0,o.Nn)(),method:p.remove},t)}))})):null)}setUp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e;return null!=e&&""!==e.trim()||(n=(new m.T).getFromLocalStorage(this.name),(null===n||(0,S.mW)()&&(0,C.Ex)())&&(n=s.Z.get(this.name)||n)),this.assureVisitorId(n).then((async()=>{if(n){this.load(n);const e=this.calculateExpires();e.getTime()-(new Date).getTime()<=0?(await this.clearAllStorage(t),this.resetDictionary(),U.resetInstance(),L=await U.build()):this.expires=e}else this.clearAllStorage(t,["ABTastyVisitorId",B.oZ]),this.sessionCookie=new r.w(!0),this.sessionCookie.save();return U.cookieReady=!0,!0}))}static getCookieName(){return"ABTasty"}static exists(){return!!(0,_.tK)(I.op,this.getCookieName())||!!s.Z.get(this.getCookieName())}static getRawData(){return(0,_.tK)(I.op,this.getCookieName())||s.Z.get(this.getCookieName())}static hasVisitorIdStored(){return U.exists()&&0===U.getRawData()?.indexOf("uid=")}async crossCookieMerge(t,e){if(!t||null==t){return void(await this.setUp(e)&&this.save(!0))}let n=(new m.T).getFromLocalStorage(this.name);if((null===n||(0,S.mW)()&&(0,C.Ex)())&&(n=s.Z.get(this.name)),!n||null===n){return void(await this.setUp(e,t)&&this.save(!0))}const a=t.split("&").find((t=>"th"===t.split("=")[0]));if(!a)return this.load(n);const i=a.split("=")[1],o=n.split("&").find((t=>"th"===t.split("=")[0]))||"";i.split("_").map((t=>{o.indexOf(t.split(".")[0])>=0||(n=n+"_"+t)}));await this.setUp(e,n)&&this.save(!0)}matchUrlSettings(){return(0,o.Xx)().some((t=>{let{includeOrExclude:e,url:n,method:a}=t;return"exclude"!==e&&(0,h.rl)(a,n)}))}get(t){return this.dictionary.find((e=>e.key===t||e.humanKey===t))}set(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==n?this.get(t).value=e:this.get(t).value[n]=e}setSaveable(t,e){t.forEach((t=>{this.get(t).saveable=e}))}incr(t,e){const n=this.get(t);n.value=n.value+e}resetDictionary(){this.dictionary.forEach((t=>{const e=(()=>{switch(t.key){case M.pst:return"-1";case M.ns:return"1";default:return""}})();t.value=t.typeCast(e)}))}load(t){try{unescape(t).split("&").map((t=>t.split("="))).map((t=>{let[e,n]=t;return[e,n]})).forEach((t=>{let[e,n]=t;if(void 0!==this.get(e))return e===M.eas&&n.length>50?((0,c.Kp)(`Cookie key 'eas' is too large ${n.length} char (> 50 char) ; removing it from the cookie: `,n),void(this.get(e).value?.length>50&&this.set(e,""))):void this.set(e,this.get(e).typeCast(decodeURI(n)));(0,c.Kp)(`Cookie key '${e}' is unknown ; removing it from the cookie.${n?` Value attached '${n}'.`:""}`)})),this.removePausedTests()}catch(t){(0,c.vU)(`Error loading the cookie. ${t}`),this.resetDictionary()}}removePausedTests(){const t=(0,o.ae)();if(!t||!t.obsoletes)return[];const e=[];return Object.keys(this.get(V.testsHistory).value).forEach((n=>{t.obsoletes.includes(parseInt(n,10))&&(this.removeCampaign(n),e.push(parseInt(n,10)))})),this.save(),e}getVisitorId(){return this.get(V.visitorID).value}getCampaignHistory(){const t=this.getCampaigns(),e={},n=[4581,8924,47674].includes((0,o.Oy)());return Object.keys(t).filter((t=>n||void 0!==(0,o.ae)().tests[t])).filter((e=>t[e].variationID!==P.u.Untracked)).map((n=>{const i=(0,o.ae)().tests[n];return void 0!==i&&i.parentID>0&&(0,o.ae)().tests[i.parentID]?.type===a.dF.multipage&&(e[i.parentID]=t[n].variationID!==P.u.Original?String(i.variations[t[n].variationID].masterVariationId):"0"),e[n]=String(t[n].variationID)})),e}getCampaign(t){return this.get(V.testsHistory).value[t]}getCampaigns(){return this.get(V.testsHistory).value}setCampaign(t,e){this.set(V.testsHistory,e,t)}removeCampaign(t){delete this.get(V.testsHistory).value[t]}getFirstSessionTimestamp(){return this.get(V.firstSessionTimestamp).value}getCurrentSessionTimestamp(){return this.get(V.currentSessionTimestamp).value}getPreviousSessionTimestamp(){return this.get(V.previousSessionTimestamp).value}getNumberOfSessions(){return this.get(V.numberOfSessions).value}getPagesViewedInSession(){return this.get(V.pagesViewedInSession).value}hasSeenCampaign(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=this.getCampaign(t);return!!n&&((0,d.k)(e)?n.variationID!==P.u.Untracked:n.variationID===e)}isValid(t){return/^uid=.*&fst=[0-9]{13,}&pst=(-1|[0-9]{13,})&cst=[0-9]{13,}&ns=[0-9]\d*&pvt=[1-9]\d*&pvis=[1-9]\d*&th=(\d+\.(-1|\d)+\.[1-9]\d*\.[0-9]\d*\.[1-9]\d*\.[1|0]\.[0-9]{13,}\.[0-9]{13,}\.[1|0]_?)*$/.test(t)}calculateExpires(){const t=(0,o.DF)(),e=this.getFirstSessionTimestamp(),n=e>0?new Date(e):new Date;return new Date(n.setMonth(n.getMonth()+t))}getConfig(){return(0,k.$c)(this.expires||this.calculateExpires())}clear(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;delete window.ABTasty.temporaryCookieValues?.[this.name],t===C.dE||(0,d.k)(t)&&(0,C.PM)()?(new m.T).removeLocalStorage(this.name):s.Z.remove(this.name,this.getConfig())}clearAll(){this.clear(),(new r.w).clear()}static resetInstance(){L=null}static getInstance(){return L}encodeValue(t){return null!=t&&"object"==typeof t?this.serializeTestsHistory(t):encodeURI(t)}async save(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!U.cookieReady&&!t)return;this.setSaveable([M.uid],true);const e=this.dictionary.map((t=>t.saveable?[`${t.key}=${this.encodeValue(t.value)}`]:null)).filter((t=>!(0,d.k)(t))).join("&");if(!(new R.yN).haveConsent([R.RX.storage]))return(0,d.k)(window.ABTasty.temporaryCookieValues)&&(window.ABTasty.temporaryCookieValues={}),void(window.ABTasty.temporaryCookieValues[this.name]={value:e,config:this.getConfig()});const n=(0,C.PM)();e!==(n?(new m.T).getFromLocalStorage(this.name):s.Z.get(this.name))&&(n?(new m.T).updateLocalStorage(this.name,e):s.Z.set(this.name,e,this.getConfig()),this.isCrossDomainUsed()&&!t&&function(t){new Promise(((e,n)=>{T().then((()=>{b({key:f,value:t,identifier:(0,o.Nn)(),method:p.set},e)}))}))}(e),(0,S.mW)()?n||(new m.T).updateLocalStorage(this.name,e):this.clear(n?C.VA:C.dE),(0,c.Vp)("Saving data to "+(n?"localStorage":"cookie"),e))}isFirstSession(){return 0===this.get(V.numberOfSessions).value}pageView(){const t=new r.w,e=new m.T;this.incr(V.pagesViewedTotal,1);const n=Date.now();t.isNewSession?(this.isFirstSession()?(this.set(V.firstSessionTimestamp,n),this.assureVisitorId()):this.set(V.previousSessionTimestamp,this.get(V.currentSessionTimestamp).value),this.set(V.currentSessionTimestamp,n),this.incr(V.numberOfSessions,1),this.set(V.pagesViewedInSession,1)):(this.incr(V.pagesViewedInSession,1),0===this.getFirstSessionTimestamp()&&this.set(V.firstSessionTimestamp,n),0===this.getCurrentSessionTimestamp()&&this.set(V.currentSessionTimestamp,n)),e.addVisitedPage(this)(),this.save()}assureVisitorId(t){return new Promise(((e,n)=>{const a=U.getRawData()?.match(/uid=([^&]+)/)?.[1]||null;(()=>{a||t||this.set(V.visitorID,(0,i.generateId)())})(),e()}))}campaignView(t,e,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=new r.w,s=this.getCampaign(t);[N.c.timeout,N.c.failedLoading].includes(n)||(s?this.setCampaign(t,{variationID:e,nbSeenTotal:s.nbSeenTotal+1,nbSeenInSession:i.isNewSession?1:s.nbSeenInSession+1,nbSessions:i.isNewSession?s.nbSessions+1:s.nbSessions,currentlyApplied:1,firstViewTimestamp:s.firstViewTimestamp,lastViewTimestamp:Date.now(),randomAllocation:s.randomAllocation,lastSessionSeen:this.getNumberOfSessions()}):this.setCampaign(t,{variationID:e,nbSeenTotal:1,nbSeenInSession:1,nbSessions:1,currentlyApplied:1,firstViewTimestamp:Date.now(),lastViewTimestamp:Date.now(),randomAllocation:a?1:0,lastSessionSeen:this.getNumberOfSessions()})),this.save()}serializeTestsHistory(t){return Object.keys(t).map((e=>{const n=t[e];return[e,n.variationID,n.nbSeenTotal,n.nbSeenInSession,n.nbSessions,n.currentlyApplied,n.firstViewTimestamp,n.lastViewTimestamp,n.randomAllocation,n.lastSessionSeen]})).map(g(".")).join("_")}deserializeTestsHistory(t){return t.split("_").filter((t=>!(0,l.x)(t))).map((0,u.V)(".")).reduce(((t,e)=>(t[Number(e[0])]={variationID:Number(e[1]),nbSeenTotal:Number(e[2]),nbSeenInSession:Number(e[3]),nbSessions:Number(e[4]),currentlyApplied:Number(e[5]),firstViewTimestamp:Number(e[6]),lastViewTimestamp:Number(e[7]),randomAllocation:Number(e[8]),lastSessionSeen:Number(e[9])},t)),{})}isCrossDomainUsed(){return(0,o.Xx)().length>0&&this.matchUrlSettings()}getEmotionAiSegment(){return this.get(V.emotionAiSegment).value}setEmotionAiSegment(t){if(t.length<=50)return this.set(V.emotionAiSegment,t),this.save();(0,c.c2)(`[Cookie] 'eas' key not saved due to large value (> 50 char): was ${t.length} with value ${t}`)}}},5528:(t,e,n)=>{n.d(e,{L:()=>u,w:()=>g});var a=n(1955),i=n(3190),s=n(4284),o=n(1042),r=n(2533),c=n(8957);let d,l,u=function(t){return t.mrasn="mrasn",t.referrer="referrer",t.landingPage="lp",t}({});class g{dictionary=[{key:u.mrasn,value:"",typeCast:t=>String(t)}];constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.dictionary.push({key:u.landingPage,value:window.location.href,typeCast:t=>String(t)}),d&&!t)return d;const{customCookieDomain:e,customCookiePath:n}=(0,s.wy)();this.name=g.getCookieName(),this.customDomain=e,this.customPath=n;const a=this.getCookieValue();return a?(this.isNewSession=!1,void 0===l&&(l=!1),this.load(a)):(this.isNewSession=!0,void 0===l&&(l=!0),this.setLandingPage(this.decodeURIComponentSafely(window.location.href))),d=this,window.ABTasty.clearSessionCookie=this.clear.bind(this),this.save(),d}isEncoded(t){return(t=t||"")!==decodeURIComponent(t)}fullyDecodeURI(t){for(;this.isEncoded(t);)t=decodeURIComponent(t);return t}decodeURIComponentSafely(t){try{return this.fullyDecodeURI(t)}catch(e){try{return this.fullyDecodeURI(decodeURIComponent(t))}catch(e){return t}}}static getCookieName(){return"ABTastySession"}getCookieValue(){return(new c.yN).haveConsent([c.RX.storage])||(0,i.k)(window.ABTasty.temporaryCookieValues)||(0,i.k)(window.ABTasty.temporaryCookieValues[this.name])?a.Z.get(this.name):window.ABTasty.temporaryCookieValues[this.name].value}get(t){return this.dictionary.find((e=>e.key===t))}set(t,e){this.get(t).value=e,this.save()}incr(t,e){const n=this.get(t);n.value=n.value+e,this.save()}resetDictionary(){this.dictionary.forEach((t=>{switch(t.key){case u.referrer:t.value=t.typeCast("");break;case u.landingPage:t.value=t.typeCast(window.location.href);break;default:t.value=t.typeCast("")}}))}load(t){try{const e=new RegExp(this.dictionary.map((t=>`(${t.key}=.*)`)).join("&"));t.match(e).slice(1).map(((t,e)=>{const n=new RegExp(`(${this.dictionary[e].key})=(.*)`);return t.match(n).slice(1)})).forEach((t=>{let[e,n]=t;void 0!==this.get(e)?this.set(e,this.get(e).typeCast(decodeURIComponent(n))):(0,o.Kp)(`Session cookie key '${e}' is unknown ; removing it from the cookie.${n?` Value attached '${n}'.`:""}`)}))}catch(t){(0,o.vU)("Error loading the session cookie.",t),this.resetDictionary(),this.isNewSession=!0,void 0===l&&(l=!0)}}save(){const t=this.dictionary.map((t=>[`${t.key}=${encodeURIComponent(t.value)}`])).join("&");if(this.isValid(t)){if(!(new c.yN).haveConsent([c.RX.storage]))return(0,i.k)(window.ABTasty.temporaryCookieValues)&&(window.ABTasty.temporaryCookieValues={}),void(window.ABTasty.temporaryCookieValues[this.name]={value:t,config:this.getConfig()});a.Z.set(this.name,t,this.getConfig())}else(0,o.vU)("Session cookie cannot be saved, incorrect value",t)}clear(){delete window.ABTasty?.temporaryCookieValues?.[this.name],a.Z.remove(this.name,this.getConfig())}isValid(t){return!0}getConfig(){const t=new Date((new Date).getTime()+18e5);return(0,r.$c)(t)}setMrasn(t){this.set(u.mrasn,t)}getMrasn(){return this.get(u.mrasn).value}setLandingPage(t){this.set(u.landingPage,t)}getLandingPage(){return this.get(u.landingPage).value}getReferrer(){return""}isItNewSession(){return l}}},763:(t,e,n)=>{n.d(e,{T:()=>c});var a=n(3190),i=n(8390),s=n(1155),o=n(4874),r=n(9572);class c{constructor(){}getABTastyData(){return JSON.parse(this.getFromLocalStorage(r.I.LOCAL_STORAGE))||{}}getItemFromABTastyData(t){return this.getABTastyData()[t]}getActionTrackings(){return this.getABTastyData()&&this.getABTastyData()[r.I.ACTION_TRACKING]}addActionTracking(t){this.addItemToABTastyData(r.I.ACTION_TRACKING,t)}getTransactions(){return this.getABTastyData()&&this.getABTastyData()[r.I.TRANSACTION]}addTransaction(t){this.addItemToABTastyData(r.I.TRANSACTION,t)}getItems(){return this.getABTastyData()&&this.getABTastyData()[r.I.ITEM]}addItem(t){this.addItemToABTastyData(r.I.ITEM,t)}getSegments(){return this.getABTastyData()&&this.getABTastyData()[r.I.SEGMENT]}addSegment(t){this.addItemToABTastyData(r.I.SEGMENT,t)}setSegments(t){const e=this.getABTastyData();this.updateLocalStorage(r.I.LOCAL_STORAGE,JSON.stringify({...e,[r.I.SEGMENT]:t}))}getCustomVariables(){return this.getABTastyData()&&this.getABTastyData()[r.I.CUSTOM_VARIABLE]}addCustomVariable(t){this.addItemToABTastyData(r.I.CUSTOM_VARIABLE,t)}getVisitedPages(){return this.getABTastyData()&&this.getABTastyData()[r.I.VISITED_PAGES]}editLastVisitedPage(t){const e=this.getVisitedPages();if((0,a.k)(e)||(0,i.x)(e))return;const n=e[e.length-1];e[e.length-1]={...n,...t};const s=this.getABTastyData();this.updateLocalStorage(r.I.LOCAL_STORAGE,JSON.stringify({...s,[r.I.VISITED_PAGES]:e}))}addVisitedPage=t=>{var e=this;return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.href,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.title;const o={url:n,visite:t.getNumberOfSessions(),time:Date.now(),title:a};e.addItemToABTastyData(r.I.VISITED_PAGES,o),(0,i.x)(a)&&(0,s.VH)((()=>!(0,i.x)(document.title)),(()=>e.editLastVisitedPage({title:document.title})))}};addVote(t){const e="maxScore"in t?r.I.CSAT_VOTES:r.I.NPS_VOTES,n=this.getABTastyData();let a=n[e]||[];const i=a.findIndex((e=>{let{caid:n}=e;return n===t.caid}));-1===i?a=[...a,t]:a[i]=t,this.updateLocalStorage(r.I.LOCAL_STORAGE,JSON.stringify({...n,[e]:a}))}getVotes(t){return this.getABTastyData()&&this.getABTastyData()[t]}addItemToABTastyData(t,e){const n=this.getABTastyData();n[t]&&Array.isArray(n[t])||(n[t]=[]),n[t].push(e),this.updateLocalStorage(r.I.LOCAL_STORAGE,JSON.stringify(n))}updateLocalStorage(t,e){return o.Jo.setItem(o.op,t,e)}getFromLocalStorage(t){return o.Jo.getItem(o.op,t)}removeLocalStorage(t){return o.Jo.removeItem(o.op,t)}}},9572:(t,e,n)=>{n.d(e,{I:()=>a,d:()=>i});let a=function(t){return t.LOCAL_STORAGE="ABTastyData",t.ACTION_TRACKING="ActionTracking",t.CUSTOM_VARIABLE="CV",t.ITEM="items",t.SEGMENT="segments",t.TRANSACTION="transactions",t.VISITED_PAGES="VisitedPages",t.CSAT_VOTES="CsatVotes",t.NPS_VOTES="NpsVotes",t}({}),i=function(t){return t.CV="cv",t.ECO="eco",t}({})},7787:(t,e,n)=>{n.d(e,{I:()=>a});let a=function(t){return t.CUSTOM_IDENTITIES="ABTastyCustomIdentities",t.CUSTOM_SEGMENTS="ABTastyCustomSegments",t}({})},4874:(t,e,n)=>{n.d(e,{op:()=>u,vR:()=>g,Jo:()=>p});var a=n(1042),i=n(1155),s=n(1117),o=n(5355);const r=(0,s.W)(((t,e)=>null==e||e!=e?t:e)),c=(0,s.W)(((t,e,n)=>r(t,(0,o.E)(e,n))));var d=n(4284),l=n(8957);const u="localStorage",g="sessionStorage";function h(){return!!(new l.yN).haveConsent([l.RX.storage])||!(!(0,d.wy)().waitForConsent||"disabled"!==(0,d.wy)().waitForConsent.mode)}function m(t){const e=/^(ab\s?tasty)/i;let n="";for(let a=window[t].length-1;a>=0;a--)n=window[t].key(a),n.match(e)&&(this.data[t][n]=window[t][n],(0,i.PO)(t,n))}const p={state:{inmemory:!0},data:{localStorage:{},sessionStorage:{}},migrate:function(){switch(h()?"browser":"memory"){case"browser":if(!this.state.inmemory)return;Object.keys(this.data).forEach((t=>{Object.keys(this.data[t]).forEach((e=>{(0,i.ek)(t,e,this.data[t][e])}))})),this.state.inmemory=!1,(0,a.um)("Data storage: data has been written in storage thanks to consent validation.");break;case"memory":m.call(this,"localStorage"),m.call(this,"sessionStorage"),this.state.inmemory=!0,(0,a.um)("Data storage: data has been put in memory due to consent revoked.")}},setItem:function(t,e,n){this.state.inmemory&&h()&&this.migrate(),this.state.inmemory?this.data[t]=Object.assign(this.data[t],{[e]:n}):(0,i.ek)(t,e,n)},getItem:function(t,e){return this.state.inmemory&&h()&&this.migrate(),this.state.inmemory?c(null,[t,e],this.data):(0,i.tK)(t,e)||null},removeItem:function(t,e){this.state.inmemory&&h()&&this.migrate(),this.state.inmemory?delete this.data[t][e]:(0,i.PO)(t,e)},clear:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=/^(ab\s?tasty)/i;[u,g].forEach((n=>{Object.keys(window[n]).forEach((a=>{!t.includes(a)&&e.test(a)&&this.removeItem(n,a)}))}))},setState:function(t,e){this.state[t]=e}}},2533:(t,e,n)=>{n.d(e,{$c:()=>r,L4:()=>d,Lz:()=>c});var a=n(1955),i=n(2022),s=n(3827),o=n(4284);function r(t){const{isSecureCookie:e,customCookieDomain:n,customCookiePath:a}=(0,o.wy)();return{expires:t,path:a||"/",domain:n||(0,s.yT)()||void 0,secure:e||(0,i.Lr)()||!1,samesite:e||(0,i.Lr)()?"none":"lax"}}function c(t){return Object.entries(t).reduce(((t,e)=>{let[n,a]=e;return"secure"===n.toLowerCase()&&!1===a?t:`${t}${n}=${a};`}),"")}function d(t,e){const n="ABTastyCookieQuickTest",i=`${t}${n}`;let s=!1;a.Z.set(e,i,r(388));try{s=document.cookie.indexOf(n)>-1,t&&s?a.Z.set(e,t,r(388)):a.Z.remove(e,r(1))}catch(t){a.Z.remove(e,r(1))}return s}},8194:(t,e,n)=>{n.d(e,{Ex:()=>m,HP:()=>g,PM:()=>h,SD:()=>u,VA:()=>d,dE:()=>c});var a=n(1955),i=n(4284),s=n(1042),o=n(2533),r=n(5686);const c="local",d="cookies",l=3900;function u(){if((0,i.kA)()){const t=a.Z.get(r.Es.getCookieName());if(t&&t.length>=l)return(0,s.Kp)("Cookies size is too big, ABTasty tag stopped execution."),!1;if(!(0,o.L4)(t,r.Es.getCookieName())){const{domain:t,path:e,secure:n}=(0,o.$c)(0),a=[t&&!`.${window.location.hostname}`.includes(t)?`domain ${t}`:null,"/"!==e?`path ${e}`:null];return n&&!window.isSecureContext?((0,s.Kp)("ABTasty data can't be saved to cookie, ABTasty tag stopped execution. A custom configuration ask to use secure cookie but page context is not secure."),!1):a.find((t=>t))?((0,s.Kp)(`ABTasty data can't be saved to cookie, ABTasty tag stopped execution. A custom configuration with ${a.filter((t=>t)).join(" and ")} is set for this account. Please check it matches the current URL.`),!1):((0,s.Kp)(`ABTasty data can't be saved to cookie on domain ${t} and path ${e}, ABTasty tag stopped execution.`),!1)}}return!0}function g(){const t=(h()&&null!=localStorage&&null!=localStorage.setItem&&null!=localStorage.getItem||m()&&navigator.cookieEnabled)&&null!=sessionStorage&&null!=sessionStorage.setItem&&null!=sessionStorage.getItem;return t||(0,s.Kp)("AB Tasty script encountered an error: LocalStorage, SessionStorage & Cache option aren't allowed on this browser. Execution has stopped."),t}function h(){const{storageMode:t}=(0,i.wy)();return t===c}function m(){return(0,i.wy)().storageMode===d}},7947:(t,e)=>{var n,a;e.s_=e.n8=void 0,function(t){t.anyCookie="any_cookie",t.customJs="custom_js",t.didomi="didomi",t.disabled="disabled",t.specificCookie="specific_cookie",t.thirdParty="third_party",t.userAction="user_action",t.customEvent="custom_event"}(n||(e.n8=n={})),function(t){t[t.test=1]="test",t[t.perso=2]="perso",t[t.redirection=4]="redirection",t[t.aa=8]="aa",t[t.patch=16]="patch"}(a||(e.s_=a={}))},45:(t,e)=>{var n,a;(function(t){t.HTTPOnly="httponly",t.CNAME="cname",t.BYOID="byoid"})(n||(n={})),function(t){t.Cookie="cookie",t.LocalStorage="local_storage",t.JSVariable="js_variable"}(a||(a={}))},7464:(t,e)=>{var n;e.x=void 0,function(t){t.PULL="pull",t.PUSH="push",t.DATALAYER="datalayer"}(n||(e.x=n={}))},2109:(t,e,n)=>{let a;n.d(e,{A:()=>a}),function(t){let e=function(t){return t.consentValid="consentValid",t.executedCampaign="executedCampaign",t.tagContentExecuted="tagContentExecuted",t.trackingInitialized="trackingInitialized",t.identityAdded="identityAdded",t.analyticsLoaded="analyticsLoaded",t}({});t.Name=e;let n=function(t){return t.loading="loading",t.complete="complete",t}({});t.Status=n}(a||(a={}))},2662:(t,e,n)=>{n.d(e,{$M:()=>s,C_:()=>c,Cd:()=>o,b0:()=>i,dF:()=>a,oF:()=>r});let a=function(t){return t.ab="ab",t.multipage="multipage",t.multivariate="multivariate",t.mastersegment="mastersegment",t.subsegment="subsegment",t}({}),i=function(t){return t.simplePersonalization="sp",t.multipagePersonalization="mpp",t.multiexperiencePersonalization="mep",t.patch="patch",t.multipageTest="mpt",t.multivariate="mvt",t}({}),s=function(t){return t.aaTest="aa",t.redirection="redirection",t.patch="patch",t}({}),o=function(t){return t.fastest="fastest",t.waitUntil="waituntil",t.noAjax="noajax",t}({}),r=function(t){return t.any="any",t.once="once",t.oncePerSession="once_per_session",t.regular="regular",t}({}),c=function(t){return t.day="day",t.week="week",t.session="session",t}({})},5263:function(t,e,n){var a=this&&this.__createBinding||(Object.create?function(t,e,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,a,i)}:function(t,e,n,a){void 0===a&&(a=n),t[a]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.OnceSegmentTargetings=e.OnceTriggerTargetings=e.DCInfosTargetings=e.NPS_CONDITION_PROPERTY=e.CSAT_FEEDBACK=e.ABANDONED_CART_PROPERTY_OPERATOR=e.ABANDONED_CART_PROPERTY_TYPE=e.Timeframe=e.CheckMode=void 0;const o=s(n(7683));var r,c,d,l,u,g;!function(t){t.loading="loading",t.periodic="periodic",t.custom="custom"}(r||(e.CheckMode=r={})),function(t){t[t.lastSession=-1]="lastSession",t[t.pastTwoWeeks=15]="pastTwoWeeks",t[t.pastMonth=30]="pastMonth",t[t.pastYear=390]="pastYear"}(c||(e.Timeframe=c={})),function(t){t.PRODUCT_NUMBER="product number",t.TOTAL_AMOUNT="total amount"}(d||(e.ABANDONED_CART_PROPERTY_TYPE=d={})),function(t){t.EQUAL="equal",t.GREATER="greater",t.LOWER="lower",t.BETWEEN="between"}(l||(e.ABANDONED_CART_PROPERTY_OPERATOR=l={})),function(t){t.POSITIVE="positive",t.NEUTRAL="neutral",t.NEGATIVE="negative"}(u||(e.CSAT_FEEDBACK=u={})),function(t){t.EQUALS="equals",t.GREATER="equal_to_or_greater_than",t.LOWER="lower_than_or_equals",t.BETWEEN="between"}(g||(e.NPS_CONDITION_PROPERTY=g={})),e.DCInfosTargetings=[o.DEVICE,o.BROWSER,o.IP,o.GEOLOCATION,o.WEATHER,o.EULERIAN_DMP],e.OnceTriggerTargetings=[o.DEVICE,o.IP,o.GEOLOCATION,o.BROWSER_LANGUAGE,o.LANDING_PAGE,o.BROWSER,o.SOURCE_TYPE,o.PREVIOUS_PAGE,o.SCREEN_SIZE,o.SOURCE,o.NUMBER_PAGES_VIEWED,o.SAME_DAY_VISIT,o.WEATHER,o.ECOMMERCE_VARIABLE,o.URL_PARAMETER,o.KEYWORD,o.ADBLOCK,o.PAGE_VIEW,o.PAGE_INTEREST],e.OnceSegmentTargetings=[o.ENGAGEMENT_LEVEL,o.RETURNING_VISITOR,o.SESSION_NUMBER,o.DAYS_SINCE_FIRST_SESSION,o.DAYS_SINCE_LAST_SESSION,o.GEOLOCATION,o.CONTENT_INTEREST,o.DEVICE,o.ABANDONED_CART,o.CSAT,o.NPS]},7683:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONTENT_INTEREST=e.ENGAGEMENT_LEVEL=e.TEALIUM=e.KEYWORD=e.PURCHASE_FREQUENCY=e.LAST_PURCHASE=e.DATALAYER=e.SELECTOR=e.ACTION_TRACKING=e.CUSTOM_VARIABLE=e.BROWSER=e.CODE=e.URL_PARAMETER=e.ECOMMERCE_VARIABLE=e.DAYS_SINCE_FIRST_SESSION=e.DAYS_SINCE_LAST_SESSION=e.WEATHER=e.SESSION_NUMBER=e.ADBLOCK=e.SAME_DAY_VISIT=e.NUMBER_PAGES_VIEWED=e.SOURCE=e.CAMPAIGN_EXPOSITION=e.JS_VARIABLE=e.SCREEN_SIZE=e.PREVIOUS_PAGE=e.SOURCE_TYPE=e.RETURNING_VISITOR=e.LANDING_PAGE=e.BROWSER_LANGUAGE=e.COOKIE=e.GEOLOCATION=e.IP=e.DEVICE=e.SIRDATA_DMP=e.EASYDMP_DMP=e.MAKAZI_DMP=e.LEROYMERLIN_DMP=e.MEDIARITHMICS_DMP=e.LIVERAMP_DMP=e.ADOBE_DMP=e.TEMELIO_DMP=e.WEBORAMA_DMP=e.KRUX_DMP=e.ADVALO_DMP=e.YSANCE_DMP=e.BLUEKAI_DMP=e.CABESTAN_DMP=e.TAGCOMMANDER_DMP=e.EULERIAN_DMP=void 0,e.NPS=e.CSAT=e.ABANDONED_CART=e.INTEGRATIONS_PROVIDER=e.PAGE_INTEREST=e.PAGE_VIEW=void 0,e.EULERIAN_DMP=1,e.TAGCOMMANDER_DMP=2,e.CABESTAN_DMP=3,e.BLUEKAI_DMP=4,e.YSANCE_DMP=5,e.ADVALO_DMP=6,e.KRUX_DMP=7,e.WEBORAMA_DMP=8,e.TEMELIO_DMP=9,e.ADOBE_DMP=10,e.LIVERAMP_DMP=11,e.MEDIARITHMICS_DMP=12,e.LEROYMERLIN_DMP=13,e.MAKAZI_DMP=14,e.EASYDMP_DMP=15,e.SIRDATA_DMP=16,e.DEVICE=17,e.IP=18,e.GEOLOCATION=19,e.COOKIE=20,e.BROWSER_LANGUAGE=21,e.LANDING_PAGE=22,e.RETURNING_VISITOR=24,e.SOURCE_TYPE=25,e.PREVIOUS_PAGE=26,e.SCREEN_SIZE=27,e.JS_VARIABLE=28,e.CAMPAIGN_EXPOSITION=29,e.SOURCE=30,e.NUMBER_PAGES_VIEWED=31,e.SAME_DAY_VISIT=32,e.ADBLOCK=33,e.SESSION_NUMBER=34,e.WEATHER=35,e.DAYS_SINCE_LAST_SESSION=36,e.DAYS_SINCE_FIRST_SESSION=37,e.ECOMMERCE_VARIABLE=38,e.URL_PARAMETER=39,e.CODE=40,e.BROWSER=23,e.CUSTOM_VARIABLE=41,e.ACTION_TRACKING=42,e.SELECTOR=43,e.DATALAYER=44,e.LAST_PURCHASE=45,e.PURCHASE_FREQUENCY=46,e.KEYWORD=47,e.TEALIUM=48,e.ENGAGEMENT_LEVEL=49,e.CONTENT_INTEREST=50,e.PAGE_VIEW=51,e.PAGE_INTEREST=52,e.INTEGRATIONS_PROVIDER=53,e.ABANDONED_CART=54,e.CSAT=55,e.NPS=56},7871:(t,e)=>{var n,a;(function(t){t.identifier="index",t.initiator="initiator",t.manifest="manifest"})(n||(n={})),function(t){t.IDENTIFIER="identifier",t.INITIATOR="initiator",t.CLIENT="client",t.JSON="json",t.MANIFEST="manifest",t.SHARED="shared"}(a||(a={}))},8695:(t,e)=>{var n=function(t,e){return e||(e={}),t.split("").forEach((function(t,n){t in e||(e[t]=n)})),e},a={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",charmap:{0:14,1:8}};a.charmap=n(a.alphabet,a.charmap);var i={alphabet:"0123456789ABCDEFGHJKMNPQRSTVWXYZ",charmap:{O:0,I:1,L:1}};function s(t){if(this.buf=[],this.shift=8,this.carry=0,t){switch(t.type){case"rfc4648":this.charmap=e.rfc4648.charmap;break;case"crockford":this.charmap=e.crockford.charmap;break;default:throw new Error("invalid type")}t.charmap&&(this.charmap=t.charmap)}}function o(t){if(this.buf="",this.shift=3,this.carry=0,t){switch(t.type){case"rfc4648":this.alphabet=e.rfc4648.alphabet;break;case"crockford":this.alphabet=e.crockford.alphabet;break;default:throw new Error("invalid type")}t.alphabet?this.alphabet=t.alphabet:t.lc&&(this.alphabet=this.alphabet.toLowerCase())}}i.charmap=n(i.alphabet,i.charmap),s.prototype.charmap=a.charmap,s.prototype.write=function(t){var e=this.charmap,n=this.buf,a=this.shift,i=this.carry;return t.toUpperCase().split("").forEach((function(t){if("="!=t){var s=255&e[t];(a-=5)>0?i|=s<<a:a<0?(n.push(i|s>>-a),i=s<<(a+=8)&255):(n.push(i|s),a=8,i=0)}})),this.shift=a,this.carry=i,this},s.prototype.finalize=function(t){return t&&this.write(t),8!==this.shift&&0!==this.carry&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf},o.prototype.alphabet=a.alphabet,o.prototype.write=function(t){var e,n,a,i=this.shift,s=this.carry;for(a=0;a<t.length;a++)e=s|(n=t[a])>>i,this.buf+=this.alphabet[31&e],i>5&&(e=n>>(i-=5),this.buf+=this.alphabet[31&e]),s=n<<(i=5-i),i=8-i;return this.shift=i,this.carry=s,this},o.prototype.finalize=function(t){return t&&this.write(t),3!==this.shift&&(this.buf+=this.alphabet[31&this.carry],this.shift=3,this.carry=0),this.buf},e.encode=function(t,e){return new o(e).finalize(t)},e.decode=function(t,e){return new s(e).finalize(t)},e.Decoder=s,e.Encoder=o,e.charmap=n,e.crockford=i,e.rfc4648=a},6488:t=>{var e=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];t.exports=function(t,n,a){var i;for(n||(n=0),null==a&&(a=t.length),i=0;i<a;i++)n=255&e[255&(n^t[i])];return n}},4386:(t,e,n)=>{var a=n(8695),i=n(6488);e.generateId=function(){var t=e.randomBytes(9);return e._encode(t)},e.validate=function(t){e._decode(t)},e.normalize=function(t){var n=e._decode(t),a=n.length-1;return e._encode(n.slice(0,a),n[a])},e.randomBytes=function(t){var e=[];if(t>0)for(;t-- >0;)e.push(~~(256*Math.random()));return e},e._encode=function(t,e){var n=new a.Encoder({type:"crockford",lc:!0});e=e||i(t);return n.write(t).finalize([e])},e._decode=function(t){var e=a.decode(t,{type:"crockford"}),n=e.length-1;if(i(e,0,n)!==e[n])throw new Error("invalid id");return e}},1955:(t,e,n)=>{function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}n.d(e,{Z:()=>i});var i=function t(e,n){function i(t,i,s){if("undefined"!=typeof document){"number"==typeof(s=a({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var r in s)s[r]&&(o+="; "+r,!0!==s[r]&&(o+="="+s[r].split(";")[0]));return document.cookie=t+"="+e.write(i,t)+o}}return Object.create({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],a={},i=0;i<n.length;i++){var s=n[i].split("="),o=s.slice(1).join("=");try{var r=decodeURIComponent(s[0]);if(a[r]=e.read(o,r),t===r)break}catch(t){}}return t?a[t]:a}},remove:function(t,e){i(t,"",a({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,a({},this.attributes,e))},withConverter:function(e){return t(a({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);