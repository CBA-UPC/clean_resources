!{1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=["_wrapper","_before","_after","_sponsored"];function r(t,e,i){var n=t.document.getElementById(e);n&&(n.style.display=i)}function n(t,e){var i=t.id||t.parentElement.id;t.style.display=e;for(var n=0;n<o.length;n++)r(window,i+o[n],e)}i.collapseAd=function(t){n(t,"none")},i.collapseElement=function(t,e){r(t,e,"none")},i.uncollapseAd=function(t){n(t,"block")},i.uncollapseElement=function(t,e){r(t,e,"block")}},{}],2:[function(t,e,i){"use strict";var m=t(5);!function(n,o,t,e){var i,r,s=["top_ad","injected_billboard","injected_navstrip","top_rhs","middle_rhs","btf_rhs2","rhs_cornerstone","bottom_ad","inline20","inline40","inline50","inline60","inline80","inlinebottom","interstitial"],a="top_ad top_rhs injected_navstrip injected_billboard navboard".split(" "),d=window.top.ad_utils.slot_events,l=function(t){consoleLog(t,"ads-amazon-csm")},c={},u={},h={},p={},f=window.ue_t0;if("function"==typeof n&&"function"==typeof o){for(r=0;r<s.length;r++)!function(i){d.listen(i,"iframe",function(){c[i]=(new Date).getTime(),n("bb",i,{wb:1}),l('CSM uet() recording "bb" for "'+i+'" -- Timestamp: '+Date.now()),(0,m.logCSAWidgetEvent)(i,m.CSA_MARKERS.WIDGET_BEGIN),(0,m.logCSAWidgetEvent)(i,m.CSA_MARKERS.CLICK_TO_BODY_BEGIN)}),d.listen(i,"request",function(){u[i]=(new Date).getTime(),n("be",i,{wb:1}),l('CSM uet() recording "be" for "'+i+'" -- Timestamp: '+Date.now()),(0,m.logCSAWidgetEvent)(i,m.CSA_MARKERS.WIDGET_END),(0,m.logCSAWidgetEvent)(i,m.CSA_MARKERS.CLICK_TO_BODY_END)}),d.listen(i,"tagdeliver",function(){h[i]=(new Date).getTime(),n("af",i,{wb:1})}),d.listen(i,"reflow",function(t){var e=(new Date).getTime();0===t.data.duration&&f&&(e=f+10),p[i]=e,n("cf",i,{wb:1},e)}),d.listen(i,"load",function(){if(generic.monitoring){var t=generic.monitoring.get_remnant_partner(i),e=i+"."+t;"none"!==t&&(n("bb",e,{wb:1},c[i]),n("be",e,{wb:1},u[i]),n("af",e,{wb:1},h[i]),n("cf",e,{wb:1},p[i]),o("ld",e,{wb:1})),o("ld",i,{wb:1}),l('CSM uex() recording "ld" for "'+i+'" -- Timestamp: '+Date.now()),(0,m.logCSAWidgetEvent)(i,m.CSA_MARKERS.LOADED),(0,m.logCSAWidgetEvent)(i,m.CSA_MARKERS.CLICK_TO_LOADED)}})}(s[r]);window.top.ad_utils.ads_header.on_done(function(){var t=[],e=function(t){var e,i=0;for(e in t)i=Math.max(i,t[e]);return i};for(r=0;r<a.length;r++)(i=a[r])in window.top.ad_utils.slots_on_page&&t.push(i);l("determined core_slots: "+t.join(",")),d.listen_all(t,"iframe",function(){n("bb","core_ads",{wb:1},e(c))}),d.listen_all(t,"request",function(){n("be","core_ads",{wb:1},e(u))}),d.listen_all(t,"tagdeliver",function(){n("af","core_ads",{wb:1},e(h))}),d.listen_all(t,"reflow",function(){n("cf","core_ads",{wb:1},e(p))}),d.listen_all(t,"load",})}else l("uet() / uex() not available, will not record CSM metrics")}(window.uet,window.uex,window.ue,window.csa)},{5:5}],3:[function(t,e,i){"use strict";var n;n=function(t){try{t()}catch(t){consoleError(t.message,"imdbads.cmd")}},window.imdbads=window.imdbads||{},imdbads.cmd=imdbads.cmd||[],window.top.ad_utils.ads_header.on_done(function(){var t=0,e=imdbads.cmd||[];for(t=0;t<e.length;t++)n(e[t]);imdbads.cmd={push:function(t){n(t)}}})},{}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.adsBtrUtils={MRC_BTR_CLASS:"mrc-btr-creative",BTR_CLIENT:"btr_client",COD_CLIENT:"cod_client",completedSlots:[],LOI_IMPRESSION_ID_SEPARATOR:"/e/loi/imp?b=",MSDK_IMPRESSION_ID_SEPARATOR:"/e/msdk/imp?b=",OPENRTB_IMPRESSION_ID_SEPARATOR:"/e/is/",isImageLoaded:function(t){return t&&t.complete&&0<t.naturalHeight&&0<t.naturalWidth},isVideoLoaded:isElementLoaded:function(t){var e=void 0;return t&&"IMG"===t.tagName?e=this.isImageLoaded(t):t&&"VIDEO"===t.tagName?e=this.isVideoLoaded(t):!t||"P"!==t.tagName&&"SPAN"!==t.tagName&&"DIV"!==t.tagName||(e=!0),e},evaluateCreativeBtrCriteria:function(t){if(t){var e=t.getElementsByClassName(this.MRC_BTR_CLASS);if(0<e.length)return this.checkTaggedElementsLoaded(e)}return!1},checkTaggedElementsLoaded:function(t){for(var e=[],i=0,n=0,o=0;o<t.length;o++){var r=t[o];e.push(r),this.isElementLoaded(r)?n++:i++}return 0<n&&0===i},modifyPixelUrlToBtrCompliant:function(t){var e=t.match(/(https?:\/\/[^\/]+)/);if(!(void 0===t||null==e||e.length<2)){var i=e[1],n=t.match(/b=([^&]+)/);if(!(null==n||n.length<2))return i+"/x/px/"+n[1]+"/btr/%7B%22measurementMethod%22:%22btr_client%22%7D"}},markElementBtr:function(t){t&&t.classList&&t.classList.add(this.MRC_BTR_CLASS)},markSlotFired:function(t){this.completedSlots.push(t)},createBtrPixel:function(t,e,i){if(t&&0<t.length){var n=document.createElement("img");n.setAttribute("border","0"),n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("alt",""),n.setAttribute("class","impression-tracker"),n.setAttribute("src",t),e.appendChild(n),this.markSlotFired(i)}},isAaxImpression:},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r="Content",s="mark",a="widget",d=function(t){"function"==typeof window.consoleLog&&window.consoleLog(t,"ads-csa")},l={};i.CSA_MARKERS={CLICK_TO_BODY_BEGIN:"clickToBodyBegin",CLICK_TO_BODY_END:"clickToBodyEnd",CLICK_TO_LOADED:"clickToLoaded",LOADED:"loaded",WIDGET_BEGIN:"widget-begin",WIDGET_END:"widget-end"},i.logCSAWidgetEvent=function(t,e){var i,n=l[i=t]?l[i]:window&&window.csa?(l[i]=window.csa(r,{element:{slotId:i,type:a}}),l[i]):void d("[getCsaLatencyPlugin] window.csa is not available for metrics for slot '"+i+"'");if(n){var o=Date.now();n(s,e,o),d("[logCSAWidgetEvent] CSA recording '"+e+"' for '"+t+"' -- Timestamp: "+o)}}},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var o=function(){eturn n(t,[{key:"isFirefox",value:,{key:"frameDoc",value:function(t){var e="string"==typeof t?document.getElementById(t):t;if(!e||"IFRAME"===e.tagName){if(!(0<e.src.length&&-1===e.src.indexOf("www.imdb.com")&&-1===e.src.indexOf("javascript:")))return e.contentWindow?e.contentWindow.document:e.contentDocument;window.generic.monitoring.record_event("iframe_not_sourceless_fdoc",!1)}}},{key:"getSlotWrapper",value:,{key:"getContextualFragment",value:function(t,e){if(!t||!e)return null;var i=t.createRange();return i?i.createContextualFragment(e):null}},{key:"appendContentToIframeDoc",value:function(t,e){if(null!==t){var i=this.getContextualFragment(t,e);null!==i&&t.body.appendChild(i)}}}]),t}();i.default=new o},{}],7:[function(t,e,i){"use strict";var r;(r=window.generic).install(r,{extended_split:function(t,e,i){for(var n,o=[],r=0;(!i||o.length<i-1)&&-1!==(n=t.indexOf(e,r));)o.push(t.substring(r,n)),r=n+e.length;return o.push(t.substring(r)),o},object_from_querystring:function(t){var e,i,n=t.split("&"),o={};if(""===t)return{};for(e=0;e<n.length;e++)o[(i=r.extended_split(n[e],"=",2))[0]]=1===i.length?null:decodeURIComponent(i[1]);return o},cookie:{set:function(t,e,i){var n,o,r,s;if(i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3),n="; expires="+a.toGMTString()}else n="";r=(o=document.location.host.split(".")).pop(),s=o.pop(),document.cookie=t+"="+escape(e)+n+"; path=/; domain="+s+"."+r},get:function(t){var e,i,n=document.cookie.split(";");for(e=0;e<n.length;e++)if("string"==typeof n[e]&&(i=n[e].split("="))[0]&&i[1]&&i[0].replace(/\s/,"")===t)return unescape(i[1]);return null},erase:})},{}],8:[function(t,e,i){"use strict";var n,o,r;window.IMDbTimer&&window.IMDbTimer.events&&(n=csm,o=IMDbTimer.starttime,r=IMDbTimer.events,generic.send_csm_head_metrics=function(){n.record("csm_head_pre_title",r.csm_head_pre_title-o),n.record("csm_head_post_title",r.csm_head_post_title-o),n.record("csm_head_pre_css",r.csm_head_pre_css-o),n.record("csm_head_post_css",r.csm_head_post_css-o),n.record("csm_head_pre_icon",r.csm_head_pre_icon-o),n.record("csm_head_post_icon",r.csm_head_post_icon-o),n.record("csm_head_pre_ads",r.csm_head_pre_ads-o)})},{}],9:[function(t,e,i){"use strict";var n,o=t(44),x=(n=o)&&n.__esModule?n:{default:n},D=t(49);!function(l,i,a){var n,o,r,e,s,d,c,u,h,p,f,t,m,g=l.generic=l.generic||{},v={},y=l.IMDbTimer,_="IMDbTimer"in l?l.IMDbTimer.starttime:NaN,b=i.location.hash.match("debug=1"),w=b||!isNaN(_)&&Math.random()<.2,A=b||Math.random()<.25,E={load:1,trueload:1,reflow:1,request:1,tagdeliver:1,iframe:1},T=(n={},o={},r={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,navboard:1,bottom_ad:2,middle_rhs:2,btf_rhs2:2,rhs_cornerstone:2,inline80:2},e={top_ad:1,top_rhs:1,bottom_ad:1},s={reflow:1,"ad-delivery":1,load:1},d={},g.on_document_ready(function(t){t(l).on("beforeunload",function(){var t,e;for(t in n)(e=n[t]).request&&e.load===a&&g.monitoring.record_event("ad_load_failure."+t);g.monitoring.send_metrics()})}),{is_slot_monitored:is_twilight_slot:function(t){return t in r},is_twilight_core_slot:function(t){return t in r&&1===r[t]},is_forester_slot:function(t){return t in e},is_forester_event:function(t,e){return this.is_forester_slot(t)&&e in s},set_metric_value:get_metric_value:function(t,e){if(t in n)return n[t][e]},core_slots:function(){var t,e={};for(t in r)1===r[t]&&(e[t]=1);return e},record_slot_status:core_slots_have_an_ad:function(){var t,e=!1;for(t in T.core_slots()){if(!(t in d))return null;"got_ad"===d[t]&&(e=!0)}return e},set_partner:get_partner:function(t){return o[t]},set_remnant_partner:function(t,e){return T.set_partner(t,e)},get_remnant_partner:function(t){return T.get_partner(t)}}),S="https://www.imdb.com/twilight/?",C=(u={prepare_and_send_metric:function(t,e,i,n){p({slot:e,ad_network_name:"DART",aid:t.aid,cid:t.cid,slot_event:i,time:n})}},h={prepare_and_send_metric:function(t,e,i){var n,o,r=20;(o=function(){(n=l.top.ad_utils.get_cornerstone_ad_object(t))?p({slot:t,ad_network_name:"PDA",aid:n.adId,cid:n.creativeId,slot_event:e,time:i}):--r&&setTimeout(o,100)})()}},p=function(t){var e,i,n,o,r,s,a;A&&T.is_forester_slot(t.slot)&&("https://fls-na.amazon.com/1/display-ads-cx/1/OP/?","LMET","imdb",e=l.top.ad_utils.get_mapped_amazon_slot_name(t.slot),i=c,n=t.ad_network_name,o=t.aid,r=t.cid,s=t.time,a='{"s":"imdb","l":"'+e+'","p":"'+i+'","n":"'+n+'","a":"'+o+'","c":"'+r+'","m":"'+t.slot_event+'","v":"'+s+'"}',b&&consoleLog(a+" metrics sent","forester"),g.one_way_send("https://fls-na.amazon.com/1/display-ads-cx/1/OP/?LMET"+escape(a)))},{send_forester_metric:function(t,e,i,n){u.prepare_and_send_metric(t,e,i,n),h.prepare_and_send_metric(e,i,n)},set_page_type:function(t){c=t}});l.csm=(f={},{measure:record:function(e,t,i,n){var o,r=f[e];if(w&&!csm.metrics[e]&&g.monitoring.record_metric(e+(n||""),t,i),csm.metrics[e]=t,r){for(o=0;o<r.length;o++)try{r[o](t,e)}catch(t){consoleLog("error invoking callback for "+e,"csm")}delete f[e]}},duration:function(t){return(t||+new Date)-_},listen:function(t,e){t in csm.metrics?setTimeout(e,0):(f[t]=f[t]||[]).push(e)},metrics:{}}),g.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:!1,twilight_info:"",twilight_client:(m=navigator.userAgent,(t=m.match(/MSIE (\d+)/))&&6<=t[1]?"ie"+t[1]:(t=m.match(/Mac OS.*Firefox\/(\d+)/))?"3"===t[1]?"firefox3-mac":"firefox-mac":(t=m.match(/Firefox\/(\d+)/))?"3"===t[1]?"firefox3":"firefox":-1!==m.indexOf("Chrome")?"chrome":-1!==m.indexOf("Safari")?"safari":-1!==m.indexOf("Opera")?"opera":"Other"),isTwilightActiveSample:w,page_type:"",start_timing:function(t){this.start_timing_at(t,(new Date).getTime())},start_timing_at:stop_timing:function(t,e,i){var n=(new Date).getTime(),o=t;this.event_starts[t]&&(this.event_stops[t]=n,e&&(o+="."+e),this.record_metric(o,n-this.event_starts[t]),delete this.event_starts[t],this.events_to_stop--,(i||this.all_events_started_flag&&0===this.events_to_stop)&&this.send_metrics())},record_event:function(t,e){var i;if(this.event_counters.push(t),t in v)for(weblab in v[t])i=t+"__weblab_"+weblab,this.event_counters.push(i),consoleLog(i,"twilight");consoleLog(t,"twilight"),e&&this.send_metrics()},record_metric:function(t,e,i){var n,o;if(T.record_slot_status(t),this.event_duration[t]=e,consoleLog(t+","+e,"twilight"),t in v)for(n in v[t])o=t+"__weblab_"+n,this.event_duration[o]=e,consoleLog(o+","+e,"twilight");i&&this.send_metrics()},send_metrics:function(){var t,e,i=S+this.twilight_info,n=[],o=0,r="",s=function(t,e){n.push(function(){return"&Operation."+ ++o+"="+t+"&OperationTiming."+o+"="+e})},a=function(t){n.push(},d=function(){r.length&&(g.one_way_send(i+r+"&ord="+l.top.ad_utils.ord),consoleLog("metrics sent ("+o+")","twilight"),r="",o=0)};for(t in this.event_duration)s(t,this.event_duration[t]);for(this.event_duration={},e=0;e<this.event_counters.length;e++)a(this.event_counters[e]);for(this.event_counters=[],e=0;e<n.length;e++)1700<(r+=n[e]()).length+i.length&&d();d()},set_twilight_info:function(t,e,i,n,o,r){y&&"java"===y.pt&&(t+=".java"),this.twilight_info="PageType="+t+"&Geo="+e+"&tw_ord="+i+"&timestamp="+n+"&Client="+this.twilight_client+"&Site="+r,S=o},set_forester_info:function(t){C.set_page_type(t)},all_events_started:function(){this.all_events_started_flag=!0},set_partner:function(t,e){var i=(0,D.getSlotName)(t);T.set_partner(i,e)},set_partner_by_slot:get_partner:set_remnant_partner:function(t,e){g.monitoring.set_partner(t,e)},get_remnant_partner:set_remnant_partner_fallback:function(t,e){var i=T.get_partner(t);void 0===i?T.set_partner(t,e):T.set_partner(t,i+"_"+e)},update_slot_metrics:function(t,e,i){var n,o=l.top.ad_utils.get_slot_iframe(t),r=null,s="."+g.monitoring.get_partner(t);if(x.default.isSafeframeSlot(t,o)){if(!(e in E))return;r=x.default.getSfAdObject(t)}else r=o&&o.contentWindow&&o.contentWindow.document?o.contentWindow.document.ad:null;t&&T.is_slot_monitored(t)&&T.get_metric_value(t,e)===a&&(T.set_metric_value(t,e,a!==i?i:csm.duration()),n=T.get_metric_value(t,e),r&&T.is_forester_event(t,e)&&(C.send_forester_metric(r,t,e,n),"load"===e&&C.send_forester_metric(r,t,"ad-delivery",T.get_metric_value(t,"load")-T.get_metric_value(t,"request"))),T.is_twilight_slot(t)&&(csm.record("csm_"+t+"_"+e,n,0,s),"load"===e&&".none"!==s&&".1P"!==s&&csm.record("csm_"+t+"_deliver",n-T.get_metric_value(t,"tagdeliver"),0,s),T.is_twilight_core_slot(t)&&I.send(e)))},update_sf_slot_metrics:function(t){var e=JSON.parse(t);if(e&&e.slot&&e.event)if("reflow"===e.event)x.default.fireSfReflowMetric(e.slot);else if("fireload"===e.event){l.top.ad_utils.get_slot_iframe(e.slot).onload=else g.monitoring.update_slot_metrics(e.slot,e.event)},get_metric_value:enable_weblab_metrics:function(t,e,i){var n,o;for(n=0;n<i.length;n++)o=i[n],v[o]=v[o]||{},v[o][t+"_"+e]=1}},g.on_document_ready(function(t){var e;t(l).on("beforeunload",function(t){var e=(i.location+"").split("#",2)[0];l.name="clicktoresponse:"+(new Date).getTime()+":"+e}),g.monitoring.isTwilightActiveSample&&(csm.measure("csm_ready"),t(l).on("load",,t("div.dfp_slot").each(function(){g.monitoring.record_event("dfp_slot")}),e=parseInt(t("#servertime").attr("time"),10),isNaN(e)||g.monitoring.record_metric("csm_server",e))}),function(){if("http:"===i.location.protocol){var t,e=l.name.match(/^clicktoresponse:(\d+):(.*)$/);e&&(i.referrer===e[2]&&y&&(t=y.starttime-e[1],y.clicktoresponse=t,g.monitoring.record_metric("click_to_response",t)),l.name="")}}();var I=function(){var t,o=[],e=T.core_slots(),r={},s=!1,i=function(){var t;if(!s)for(t in s=!0,consoleLog("Finalized core ads on current page: "+o.join(",")),r)I.send(t)};for(t in e)l.top.ad_utils.slot_events.listen(t,"iframe",function(t){o.push(t.slot),o.length===e.length&&i()});return g.on_document_ready(i),{send:function(t){var e,i,n=0;if(s){for(i=0;i<o.length;i++){if(e=T.get_metric_value(o[i],t),a===e)return;n=Math.max(n,e)}csm.record("csm_core_ads_"+t,n)}else r[t]=1}}}()}(window,document)},{44:44,49:49}],10:[function(t,e,i){"use strict";var n,o,a,r,d,l,c,u,s,h=t(30),p=(n=h)&&n.__esModule?n:{default:n};o=window.top.ad_utils,a=["mediaviewer_banner"],r=["inline20","inline40","inline50","inline60","inline80","inlinebottom","interstitial"],d={},l={},c=function(t,e,i,n){var o=new s(e,i,n||{});try{t(o)}catch(t){consoleError(t)}},u=s=function(t,e,i){this.slot=t,this.event=e,this.data=i},o.slot_events={listen:function(t,e,i){if(!(-1<a.indexOf(t))){var n,o,r,s=e.replace(/(^\s+|\s+$)/g,"").split(/\s+/);for(r=0;r<s.length;r++)o=s[r],(n=u(t,o))in l?c(i,t,o,l[n]):(d[n]=d[n]||[]).push(i);return this}},listen_all:function(t,e,i){var n,o,r,s=(o=i,r=t.length,function(){0==--r&&o.apply(this,arguments)});for(n=0;n<t.length;n++)this.listen(t[n],e,s)},trigger:function(t,e,i){if(!(-1<a.indexOf(t))){var n,o=u(t,e),r=d[o]||[],s=o.split(":")[0];if(o in l&&(!s||!this.slot_can_refire(s)))return generic.monitoring.record_event(o+"_already_fired",!1),void consoleError("attempted to fire "+o+", but it has already fired!");for(l[o]=i,n=0;n<r.length;n++)c(r[n],t,e,i);return this}},has_fired:function(t,e){return u(t,e)in l},slot_can_refire:function(t){return r.includes(t)||(0,p.default)(t)}}},{30:30}],11:[function(t,e,i){"use strict";var F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?U=n(t(6)),V=n(t(44)),H=n(t(48)),W=n(t(31)),G=n(t(29)),z=n(t(34)),q=n(t(22)),Y=t(46),X=t(49),K=t(1),Q=t(45),J=t(13),Z=t(57),tt=t(39),et=t(37),it=t(26),nt=t(27),ot=t(4),rt=t(50),st=t(12);function n(t){return t&&t.__esModule?t:{default:t}}tring.prototype.startsWith||(String.prototype.startsWith=,function(D,N,O){var i,n,o,r,s,a,t=D.ads_js_start?(new Date).getTime()-D.ads_js_start:null,e=navigator.userAgent,c=/MSIE|Trident\/\d+/.test(e),u=/Firefox/.test(e),w=D.generic,d={top_ad:"t",top_rhs:"tr"},l={injected_billboard:"top_ad",injected_navstrip:"top_ad",navboard:"top_ad"},h={top_ad:{width:"728px",height:"300px"},injected_billboard:{width:"970px",height:"500px"},top_rhs:{width:"988px",height:"320px"}},p={b:1,l:1,bl:1},A=function(t){var e=N.getElementById(t),i=V.default.getSafeframeDiv(t);return i&&"IFRAME"!==i.tagName?i.getElementsByTagName("iframe")[0]:e},f=function(t,e,i){t.attachEvent?t.attachEvent("on"+e,:t.addEventListener(e,i,!1)},m=1e16*Math.random(),g={},E=(o=function(t){var i="";return jQuery.each(n[t],function(t,e){i+='"'+t+'":['+r(e[0])+","+r(e[1])+"],"}),'"'+t+'":{'+i.substr(0,i.length-1)+"}"},r=s=a={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib",bottom_ad:"b",btf_rhs2:"br"},{store:function(){w.on_document_ready(function(t){var u,e;try{!function(){var t=w.cookie.get("as");if(t)try{n=JSON.parse(t),i=i||n||{}}catch(t){i=i||(n={})}}(),u=(n=n||{})[s()]||{},t.each(a,function(t,e){var i,n,o,r,s,a,d,l,c=(0!==(i=$("#"+t)).length&&"IFRAME"!==i[0].tagName&&(i=i.find("iframe")),i);0!==c.length&&(u[e]=[(d=c,l=D.top.ad_utils.get_ad_object(d[0]),"none"===d.css("display")?0:parseInt(l.w,10)),(n=c,o=t,r=0,s=D.top.ad_utils.get_ad_object(n[0]),a=parseInt(s.h,10),"top_ad"===o?jQuery("#nb20").hasClass("banner")?r=-5:jQuery("#nb20").hasClass("supertab")&&(r=-15):"injected_billboard"===o&&(r=20),n.id&&"swfAutoMaxHeight"in n[0].contentWindow&&(a=n[0].contentWindow.swfMinHeight),"none"===n.css("display")||0===a?0:a+r)])}),n[s()]=u,e="{",n&&("h"in n&&(e+=o("h")),"h"in n&&"n"in n&&(e+=","),"n"in n&&(e+=o("n"))),e+="}",w.cookie.set("as",e,w.days_to_midnight||1)}catch(t){consoleLog("Failed to store ad size cookie "+t.toString(),"ads")}})}});D.ad_size_cookie=E,(0,tt.initializeResponsiveAdApi)();var v,y,_,b,T,S,C,I,x,L,R,M,k,P={inject_slot:function(t,e){var i,n,o,r,s,a=t.id,d='<style>body{background:transparent;}</style><script type="data-doubleclick" src="https://ia.media-imdb.com/images/G/01/mobile/blank_pixel._V137875076_.gif'+(t.getAttribute("data-dart-params")||"")+'"><\/script>'+e,l=d+"<script defer>parent.window.top.ad_utils.ad_table."+a+".fired=true;<\/script>";!V.default.isSafeframeSlot(a,t)||(i=e)&&0===i.indexOf("\x3c!-- blank --\x3e")||!D.DAsf&&!D.MAsf?c?(n=t,o=l,r="__srcless_"+Math.floor(68719476735*Math.random()).toString(36),s="<body><script>document.write(parent.window.top.ad_utils."+r+");delete parent.window.top.ad_utils."+r+";<\/script></body>",D.top.ad_utils[r]=o,n.src="javascript:unescape('"+escape(s)+"')"):function(e,t){var i=U.default.frameDoc(e);u||i.open("text/html","replace");var n="";n="https:"===location.protocol?'<head><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"/></head><body>'+t+"<script>document.close()<\/script></body>":"<body>"+t+"<script>document.close()<\/script></body>",(0,W.default)(e.contentWindow)?setTimeout(function(){var t=N.getElementById(e.id);null!==t&&t.contentWindow.document.write(n)},0):i.write(n)}(t,l):V.default.injectCode(a,d)}};D.ad_utils=D.top.ad_utils={responsiveAdAPI:tt.responsiveAdAPI,apsAuctionManager:st.apsAuctionManager,adsBtrUtils:ot.adsBtrUtils,tarnhelmAdUtils:rt.tarnhelmAdUtils,mediaOrchestratorBridge:et.mediaOrchestratorBridge,ord:m,regenerateOrd:function(){D.consoleLog("Regenerating Client Side Ord","ads"),m=1e16*Math.random(),D.top.ad_utils.ord=m},ad_table:{},ad_navbar:{},ad_queue:[],low_latency_punt_ads:{},blank_ad_code:"<script>document.ad={h:0,w:0,scope:'blank'}<\/script>",slots_on_page:null,dateCheck:q.default,isInViewport:G.default,registerClickTrackers:z.default,get_slot_iframe:A,scaleTarnhelm:Q.scaleTarnhelm,initAndBindResponsiveBackupLogic:J.initAndBindResponsiveBackupLogic,aax_instr_pixel_url:{},aax_imp_pixel_url:{},update_ad_details:V.default.updateAdDetails,set_partner:V.default.setPartner,get_safeframe_ad_objs:V.default.getSafeframeAdObjs,sf_ad_details:{},removeOpacityAnimation:function(t,e){if(t&&e){var i=U.default.getSlotWrapper(e);i&&(i.classList.remove("iframe_tweening"),t.classList.remove("ad_fadein"))}},setup_slot_metrics:function(i){D.top.ad_utils.slot_events.listen(i,"iframe request reflow tagdeliver load",function(t){var e=t.data.duration,i=t.data.timestamp;e===O&&i&&(e=csm.duration(i)),w.monitoring.update_slot_metrics(t.slot,t.event,e)}),D.top.ad_utils.slot_events.listen(i,"request",,D.top.ad_utils.slot_events.listen(i,"request tagdeliver",function(t){var e,i=t.slot,n=D.top.ad_utils.inject_ad.get_injectable_slots(i);for(e=0;e<n.length;e++)D.top.ad_utils.slot_events.trigger(n[e],t.event,t.data)}),D.top.ad_utils.slot_events.listen(i,"load",function(t){var e=t.data.type;e?w.monitoring.stop_timing(i,e,!0):consoleError(t.slot+" loaded, but type was not reported"),w.monitoring.update_slot_metrics(t.slot,"trueload")}),D.top.ad_utils.slot_events.listen(i,"punt",function(t){var e=t.event+"_"+t.data.type;w.monitoring.update_slot_metrics(t.slot,e)})},constructClientSideUrl:Z.constructClientSideUrl,constructCurrentSlotSizeMap:Z.constructCurrentSlotSizeMap,mobileWebCreativeResizing:Q.mobileWebCreativeResizing,isInternetExplorer:Y.isInternetExplorer,isIpad:Y.isIpad,isResponsive:W.default,makeAtfSlotsCall:nt.makeAtfSlotsCall,register_ad:function(t){D.top.ad_utils.setup_slot_metrics(t),D.top.ad_utils.slot_events.trigger(t,"iframe"),this.ad_table[t]={slot:t}},gpt:(R=null,M=[],{handle_response:function(t){var e;for(R=t,e=0;e<M.length;e++)this.render_ad(M[e])},render_ad:function(t){var e,i,n;R?(e=R[t]||{},i=A(t),n=e._html_||"",null!==i.getAttribute("data-roadblocked")&&(n="\x3c!-- roadblocked --\x3e"+D.top.ad_utils.blank_ad_code,D.top.ad_utils.slot_events.trigger(t,"request",{duration:0})),P.inject_slot(i,n)):M.push(t)}}),expand_ad:function(e){var t=this,i=e.id,n=e.height,o=e.width;if(i=V.default.getRawSlotName(i),!("expand_called"in this.ad_table[i])){var r,s=U.default.getSlotWrapper(i).id,a=this.get_ad_object(e),d=csm.duration(),l=N.getElementById(i+"_reflow_helper");l&&l.offsetTop;if(i+"_wrapper"===s||w.has_document_readied()){if(this.ad_table&&this.ad_table[i]){this.ad_table[i].expanded=1;var c=(0,J.initAndBindResponsiveBackupLogic)(e.contentWindow);if(a&&!c&&(N.ads||(N.ads={}),N.ads[a.cid]=a,D.top.ad_utils.resize_iframe(e,a),a.st?this.expand_supertab(a):a.bb?this.expand_billboard(a):"top_ad"!==i||!this.is_open(i,a)||a.clickroll||a.overlay||this.expand_top_banner(),a.wrap&&this.expand_wrap(a),a.bamf&&this.expand_bamf(a,e),a.inner_bamf&&this.expand_inner_bamf(a),a.relative_bamf&&this.expand_relative_bamf(a),this.is_open(i,a)?D.top.ad_utils.show_hidden_labels(i):this.collapse_ad(e),a.styles))for(r in a.styles)w.override_style(r,a.styles[r].style);this.ad_table[i].expand_called=1,w.on_document_ready(,D.top.ad_utils.fire_reflow_metric(i,a,o,n,e.width,e.height),D.top.ad_utils.fire_tagdeliver_metric(i,d),E.store(),N.body.className=N.body.className}}else w.on_document_ready(function(){t.expand_ad(e)})}},resize_iframe:function(t,e){"w"in e&&(t.width=parseInt(e.w,10)),"h"in e&&(t.height=e.expandHeight?parseInt(e.expandHeight,10):parseInt(e.h,10)),"z"in e&&e.z&&(slot_wrapper.style.zIndex=e.z,slot_wrapper.style.position="relative")},show_hidden_labels:function(t){var e=N.getElementById(t+"_before"),i=N.getElementById(t+"_after");e&&this.display_label(e),i&&this.display_label(i)},fire_reflow_metric:function(i,n,t,e,o,r){var s=csm.duration(),a=N.getElementById(i+"_reflow_helper"),d=a?a.offsetTop:null;e===r&&t===o?D.top.ad_utils.slot_events.trigger(i,"reflow",{duration:0}):setTimeout(function(){var t="top_ad"===i&&D.top.ad_utils.is_open(i,n)&&!n.st?10:0,e=a&&a.offsetTop===d+t;D.top.ad_utils.slot_events.trigger(i,"reflow",{duration:e?0:s})},10)},fire_tagdeliver_metric:function(t,e){t in l||D.top.ad_utils.slot_events.has_fired(t,"tagdeliver")||D.top.ad_utils.slot_events.trigger(t,"tagdeliver",{duration:e})},get_ad_object:function(t){var e=t.id;if(V.default.isSafeframeSlot(e,t))return V.default.getSfAdObject(e);var i=U.default.frameDoc(t),n=null;if(null!=i){if(n=i.ad)"pid"in n||(n.pid="DFP"),"instrPixel"in n||(n.instrPixel=D.top.ad_utils.aax_instr_pixel_url[e.toUpperCase()]);else{var o,r,s,a=0,d=0,l=["img","object","embed","iframe"];for(r in l)for(s=i.getElementsByTagName(l[r]),o=0;o<s.length;o++){var c,u,h=s[o];c=h.scrollWidth||h.width,u=h.scrollHeight||h.height,c&&1<c&&(a=Math.max(a,parseInt(c,10))),u&&1<u&&(d=Math.max(d,parseInt(u,10))),consoleLog(e+" : estimated size : "+c+","+u,"ads")}n={w:a.toString(),h:d.toString(),pid:"",url:"",aid:"0",cid:"0",instrPixel:D.top.ad_utils.aax_instr_pixel_url[e.toUpperCase()]},0!==a&&0!==d||(n.scope="null")}return i.ad=n}consoleLog("Cannot get document back from iframe")},get_cornerstone_ad_object:function(t){var e=d[t]+"adData";return"aanResponse"in top.document&&e in top.document.aanResponse?top.document.aanResponse[e]:null},get_mapped_amazon_slot_name:on_ad_load:function(t){if(t&&0<t.src.length&&-1===t.src.indexOf("www.imdb.com")&&-1===t.src.indexOf("javascript:"))w.monitoring.record_event("iframe_not_sourceless",!1);else{var e,i,n,o=t.id,r=this.ad_table[o];if(r&&r.fired){e=this.get_ad_object(t),this.responsiveAdAPI&&(this.responsiveAdAPI.events.adIframeLoad(o),this.responsiveAdAPI.shouldMakeAdSticky(t,e)&&this.responsiveAdAPI.makeAdSticky(H.default.INLINE20),this.responsiveAdAPI.addSponsoredLabel(t)),i=this.get_type_of_ad(e),r.loaded=!0,!e||"blank"!==e.scope&&"null"!==e.scope||(n="0"===t.getAttribute("data-original-width")&&"0"===t.getAttribute("data-original-height")?0:w.monitoring.get_metric_value(o,"reflow")),(0,it.globalizeCss)(t.contentWindow);try{r.expanded||this.expand_ad(t)}catch(t){consoleLog("Exception during expand_ad:"+t.message)}D.top.ad_utils.slot_events.trigger(o,"load",{duration:n,type:i})}else consoleLog("deflected spurious onload event for "+o,"on_ad_load")}},is_open:function(t,e){var i=A(t),n=i&&i.getAttribute("data-first-party-creative-template");return"top_ad"===t&&n?e&&"w"in e&&"h"in e&&0<e.w&&0<e.h&&"blank"!==e.scope:e&&"blank"!==e.scope},expand_supertab:function(t){var e=N.getElementById("nb15"),i=N.getElementById("nb20");e?e.className="supertab":i&&(i.className="supertab")},expand_billboard:function(t){var r,e,i=N,n=parent,o="injected_billboard",s=A(o),a=U.default.getSlotWrapper(o),d=N.getElementById("top_rhs_wrapper"),l=d?d.parentElement||d.parentNode:null,c=t.bb_close_tracker,u=t.bb_show,h=t.bb_show_tracker,p="ax",f=!1;if(!a)return!1;function m(){var t,e=w.cookie.get(p),i=e&&e.split(/o|c/),n=e&&e.split(/\d*/),o={};if(i&&n)for(""===n[0]&&n.shift(),t=0;t<n.length;++t)o[i[t]]=n[t];r=o}function g(){var t,e="";new Date;for(t in r)r.hasOwnProperty(t)&&(e+=t+r[t]);w.cookie.set(p,e,w.days_to_midnight||1)}function v(){s.style.display="none",d||f?b():w.on_document_ready(y)}unction _(){if(!f&&(d=N.getElementById("top_rhs_wrapper"),l=d?d.parentElement||d.parentNode:null,d))try{a.parentNode.removeChild(e),l.insertBefore(e,d),e.style.marginRight="",e.style.marginTop=""}catch(t){consoleLog("caught a duplicate call to attempt_reattach_show_ad_button","ads")}}function b(){u!==O&&""!==u&&(e.style.display="block"),m(),r[t.aid]="c",g(),E.store(),a.style.margin="0px",f=!0}return a.className=(a.className?a.className+" ":"")+"billboard",(e=i.createElement("div")).id="billboard_show_button",e.style.display="none",l?l.insertBefore(e,d):(D.top.ad_utils.slot_events.listen("top_rhs","iframe",,e.style.marginRight="19px",e.style.marginTop="7px",a.parentNode.insertBefore(e,a)),1===t.bb&&(n.window.top.ad_utils.ns.register("billboard","close",function(){v(),void 0!==c&&c()}),e.innerHTML=u,e.onclick=function(){e.style.display="none",s.style.display="block",m(),r[t.aid]="o",g(),E.store(),a.style.margin="20px 19px",void 0!==h&&h()},m(),t.aid in r&&"c"===r[t.aid]&&v()),!0},expand_top_banner:function(){var t=N.getElementById("nb15");if(t)t.className="banner";else{var e=N.getElementById("top_ad");e&&(e.style.margin="auto")}},expand_bamf:function(t,e){var i=t.bamf;w.extend(e.style,i.style)},expand_inner_bamf:function(t){var e=t.inner_bamf,i=N.getElementById(e.targetId);i&&e.node&&w.insert_after(e.node,i)},expand_relative_bamf:function(t){var e,i=t.relative_bamf,n=N.getElementById(i.targetId);"insert_after"===i.relation?e=w.insert_after:"insert_before"===i.relation?e=w.insert_before:"insert_inside"===i.relation&&(e=w.insert_inside),n&&i.node&&e(i.node,n)},expand_wrap:function(t){var e;if(t.styles||(t.styles={}),t.sleeves)e={wrapper:{style:{background:t.wrap}},root:{style:{background:"none","box-shadow":"none"}},pagecontent:{style:{height:"100%"}}};else{var i,n="styleguide-v2";if(!(!N.getElementById("imdbHeader")||N.getElementById("imdbHeader").parentNode===N.getElementById("nb20"))){n="wrapper";var o=-1<t.wrap.indexOf("fixed"),r=N.getElementById("wrapper");o&&null!==r&&r.style.setProperty("background-attachment","scroll","important")}at(i={},n,{style:{background:t.wrap}}),at(i,"root",{style:{"background-color":"transparent","box-shadow":"none"}}),at(i,"pagecontent",{style:{height:"100%"}}),at(i,"nb20",{style:{background:"none"}}),e=i}w.extend(t.styles,e)},expand_label:display_label:collapse_ad:K.collapseAd,uncollapse_ad:K.uncollapseAd,get_type_of_ad:function(t){return t?t.scope?t.scope:"got_ad":"null"},report_ad_data:function(t,i){var e=t,n={};if(e!==top){try{for(;e.parent!==top;)e=e.parent;(0,X.getSlotName)(e)}catch(t){return void consoleLog("could not determine ad slot: "+t)}$.each("aid cid pid url dom dim".split(" "),}},ns:(x={},L={register:function(t,e,i){var n;n="string"==typeof t?t:t.frameElement.id,L(n)[e]=i},get:L}),inject_ad:(T={},S={},C={},I={render:function(t){var e=A(t),i=T[t];C[t]||(I(t+" rendered"),C[t]=1,D.top.ad_utils.ad_table[t]={slot:t,injected:!0},i?P.inject_slot(e,i):P.inject_slot(e,'<script>document.ad = {h:"0",w:"0",scope:"blank"}<\/script>'))},register:function(t){var e=l[t],i=this;I(t+" registered"),S[t]=1,T[t]?i.render(t):D.top.ad_utils.slot_events.listen(e,"load",,D.top.ad_utils.setup_slot_metrics(t),D.top.ad_utils.slot_events.trigger(t,"iframe")},inject:function(t,e){I(t+" injected"),T[t]=e,S[t]&&this.render(t)},get_injectable_slots:function(t){var e,i=[];for(e in l)l[e]===t&&i.push(e);return i}}),weblab:(b={},{set_treatment:function(t,e){b[t]=e},get_treatment:function(t){return b[t]}}),attach_aax_callback:function(e,i){i.aax_render_ad=function(t){t&&t.html?(i.document.write(t.html),i.document.got_aax_ad="got_ad"):i.document.got_aax_ad="blank",i.top.ad_utils.slot_events.trigger(e,"tagdeliver")}},set_aax_instrumentation_pixel_url:function(t,e){D.top.ad_utils.aax_instr_pixel_url[t.toUpperCase()]=e},set_aax_impression_pixel_url:function(t,e){D.top.ad_utils.aax_imp_pixel_url[t.toUpperCase()]=e},inject_serverside_ad:function(t,e){var i=A(t),n=null!==i.getAttribute("data-roadblocked"),o=null!==i.getAttribute("data-blank-serverside");D.top.ad_utils.slot_events.trigger(t,"request",{duration:0}),n?e="\x3c!-- roadblocked --\x3e"+D.top.ad_utils.blank_ad_code:o&&(e="\x3c!-- blank --\x3e"+D.top.ad_utils.blank_ad_code),P.inject_slot(i,e)},aax_render_ad:function(i){var n=A(i),t=n.getAttribute("data-aax-url"),e="<script>parent.window.top.ad_utils.attach_aax_callback('"+i+"', window);<\/script><script src=\""+t+'"><\/script>';n.onload=function(){var t,e=D.top.ad_utils.ad_table[i];e&&e.fired?("got_ad"!==U.default.frameDoc(n).got_aax_ad?(n.style.display="none",t="blank"):t=U.default.frameDoc(n).got_aax_ad,D.top.ad_utils.slot_events.trigger(i,"load",{type:t})):consoleLog("deflected spurious cornerstone onload event for "+i,"aax_render_ad")},D.top.ad_utils.slot_events.trigger(i,"request"),P.inject_slot(n,e)},register_punt_ad:inject_punt_ad:function(t,e){var i=t.frameElement,n=i.id,o=U.default.frameDoc(i),r=null,s=null,a=o&&o.ad&&o.ad.aid?o.ad.aid:"0",d=o&&o.ad&&o.ad.cid?o.ad.cid:"0";n in this.low_latency_punt_ads?(r=this.low_latency_punt_ads[n],o.ad={w:r.w,h:r.h,pid:"",url:"",aid:a,cid:d},this.expand_ad(i),s=r.markup.replace(/\[PUNT_ORIGIN\]/,encodeURIComponent('{"punt_origin":"'+e+'"}')),o.write(s),D.top.ad_utils.slot_events.trigger(n,"punt",{type:"got_ad"})):D.top.ad_utils.slot_events.trigger(n,"punt",{type:"blank"})},fp:D.imdbads.frequencyCapping,tandem:(_={},{register_swf:function(t,e){if(consoleLog("Register swf: "+t+" "+e,"Tandem"),_[e])return consoleError("swf already registered: "+t+" "+e,"Tandem"),!1;_[e]={id:t}},send_message:function(e,t,i){var n,o,r=_[e];if(consoleLog("Sending message: "+e+" "+t+" "+i,"Tandem"),!r)return consoleError("Attempted message to : "+e+" before registered.","Tandem"),!1;for(o in D.top.ad_utils.ad_table)U.default.frameDoc(o)&&U.default.frameDoc(o).getElementById(r.id)&&(n=U.default.frameDoc(o).getElementById(r.id));var s=N.getElementById(r.id);s&&(n=s);try{return c?n.receiveTimelineMessage(i,t):n.getElementsByTagName("embed")[0].receiveTimelineMessage(i,t),!0}catch(t){return consoleError("Unable to call receiveTimelineMessage on: "+e,"Tandem"),consoleError(t),!1}}}),set_slots_on_page:ads_header:(v=!1,y=[],{on_done:function(t){if(v)try{t()}catch(t){consoleWarn(t)}else y.push(t)},done:function(){var t;for(v=!0,t=0;t<y.length;t++)try{y[t]()}catch(t){consoleWarn(t)}y=null}}),is_qualified_expanding:function(t){var e=h[t.slot];return!!(e&&t.width.replace(/px/g,"")<=e.width.replace(/px/g,"")&&t.height.replace(/px/g,"")<=e.height.replace(/px/g,"")&&p[t.direction])},expand_overlay:function(t){var e=JSON.parse(t);if(e&&e.slot&&e.width&&e.height&&e.direction&&D.top.ad_utils.is_qualified_expanding(e)){var i=D.top.ad_utils.get_slot_iframe(e.slot);if(void 0!==i){i.style.position="absolute",i.style.width=e.width,i.style.height=e.height;var n=N.getElementById(e.slot);switch(e.direction){case"l":D.top.ad_utils.expand_left(i,e,n);break;case"b":D.top.ad_utils.expand_bottom(i,e,n);break;case"bl":D.top.ad_utils.expand_left(i,e,n),D.top.ad_utils.expand_bottom(i,e,n)}}}},expand_general:function(t,e,i){var n="top_ad"==i.slot?300:100;t.style.zIndex=n,e.style.width=t.width,e.style.height=t.height},expand_left:function(t,e,i){t.style.marginLeft="-"+(e.width.replace(/px/g,"")-t.width.replace(/px/g,""))+"px",D.top.ad_utils.expand_general(t,i,e)},expand_bottom:collapse_overlay:function(t){var e=JSON.parse(t);if(e&&e.slot&&V.default.getSfAdObject(e.slot)){var i=D.top.ad_utils.get_slot_iframe(e.slot);i&&(i.style.position="",i.style.width="",i.style.height="",i.style.zIndex="",i.style.marginLeft="",i.style.marginTop="",N.getElementById(e.slot).style.marginTop="")}}},w.install(w,{should_jQuery_noConflict:D.$&&!D.jQuery,one_way_send_record:[],insert_after:function(e,i){try{i.parentNode.insertBefore(e,i.nextSibling)}catch(t){i.parentNode.appendChild(e)}},insert_before:insert_inside:function(t,e){e.appendChild(t)},extend:function(t,e){var i;for(i in e)"object"===F(e[i])?t[i]!==e[i]&&(void 0===t[i]&&(t[i]={}),this.extend(t[i],e[i])):t[i]=e[i]},override_style:function(t,e,i){var n,o="#"+t;for(n in e)e[n]+=" !important";w.add_json_style(o,e,i)},add_json_style:function(t,e,i,n){var o,r=t+"{";for(o in e)r+=o+":"+e[o]+";";r+="}",w.add_css_style(r,i,n)},add_css_style:function(t,e,i){var n,o,r,s="css-style-generic",a=[s];for(r in e&&e.length?a.push(e):e=s,i||(i="a"),a)N.getElementById(a[r])||((n=N.createElement("style")).setAttribute("type","text/css"),n.id=a[r],N.getElementsByTagName("head")[0].appendChild(n));if((n=N.getElementById(e)).styleSheet&&"cssText"in n.styleSheet)o=("a"===i?n.styleSheet.cssText:"")+t,n.styleSheet.cssText=o;else{o=("a"===i?n.innerHTML:"")+t;try{n.innerHTML=o}catch(t){n.innerText=o}}},add_css_file:function(t,e){e||(e="css-file-generic");var i=N.getElementById(e);i||((i=N.createElement("link")).setAttribute("type","text/css"),i.rel="stylesheet",i.id=e,N.getElementsByTagName("head")[0].appendChild(i)),i.href=t},set:function(t,e){var i=t.split(":");"cookie"===i[0]?w.cookie.set(i[1],e):w.cache.set(i[1],e)},get:function(t){var e=t.split(":");return"cookie"===e[0]?w.cookie.get(e[1]):w.cache.get(e[1])},erase:function(t){var e=t.split(":");return"cookie"===e[0]?w.cookie.erase(e[1]):w.cache.erase(e[1])},cache:{set:get:function(t){return g[t]},erase:,load_script:load_script_notify:function(e,i){var n=N.createElement("script"),o=!1;n.type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){var t=this.readyState;o||t&&"complete"!==t&&"loaded"!==t||(o=!0,N.body.removeChild(n),"function"==typeof i&&i(e))},N.body.appendChild(n)},one_way_send:function(t){var e=new Image(0,0);e.src=t,this.one_way_send_record.push(e)},load_when_visible:function(t,e){var i=0,n=jQuery(D),o=n.height()+n.scrollTop();if(jQuery("#"+t).length){var r=jQuery(jQuery("#"+t).get(0)),s=r.offset().top;s<o?e(t):n.scroll(function(){o=n.height()+n.scrollTop(),(s=r.offset().top)<o&&!i&&(i=1,e(t))})}else e(t)},unload_plugins:function(){for(var t,e,i,n,o,r=[N],s=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),a=function(t){var e,i;for(e=t.length-1;0<=e;e--)(i=t[e]).parentNode.removeChild(i)};r.length;)for(a((t=r.pop()).getElementsByTagName("object")),a(t.getElementsByTagName("embed")),o=(e=t.getElementsByTagName("iframe")).length-1;0<=o;o--)i=e[o],s.test(i.src)?(n=U.default.frameDoc(i))&&r.push(n):a([i])},addEventListener:),D.custom={amazon:{load_callback:function(t){}},indirect:{close:function(t){t.location.href.match("floater")&&custom.floater.close((0,X.getSlotName)(t))}},full_page:{style_id:"custom__full_page__generated_styles",PLAID_CSS_MAP:{base:"--ipt-base-rgb",baseShade1:"--ipt-base-shade1-rgb",baseShade2:"--ipt-base-shade2-rgb",baseShade3:"--ipt-base-shade3-rgb",onBase:"--ipt-on-base-rgb",onBaseAccent1:"--ipt-on-base-accent1-rgb",onBaseAccent2:"--ipt-on-base-accent2-rgb",onBaseAccent3:"--ipt-on-base-accent3-rgb",onBaseError:"--ipt-on-base-error-rgb",baseAlt:"--ipt-baseAlt-rgb",baseAltShade1:"--ipt-baseAlt-shade1-rgb",baseAltShade2:"--ipt-baseAlt-shade2-rgb",baseAltShade3:"--ipt-baseAlt-shade3-rgb",onBaseAlt:"--ipt-on-baseAlt-rgb",onBaseAltAccent1:"--ipt-on-baseAlt-accent1-rgb",onBaseAltAccent2:"--ipt-on-baseAlt-accent2-rgb",onBaseAltAccent3:"--ipt-on-baseAlt-accent3-rgb",onBaseAltError:"--ipt-on-baseAlt-error-rgb",accent1:"--ipt-accent1-rgb",onAccent1:"--ipt-on-accent1-rgb",accent2:"--ipt-accent2-rgb",onAccent2:"--ipt-on-accent2-rgb"},apply_PLAID_styles:function(t){var e=this._transform_PLAID_style_input(t),i=this._construct_PLAID_CSS_string(e);i&&i.length&&w.add_css_style(i,this.style_id,"a")},_transform_PLAID_style_input:function(t){var e={};for(var i in t)if(t.hasOwnProperty(i)&&t[i]&&"undefined"!==t[i]&&"null"!==t[i]){var n=this.PLAID_CSS_MAP[i];if(n){var o=t[i];e[n]=o.startsWith("#")&&this.hex_to_RGB(o)||o}}return e},_construct_PLAID_CSS_string:function(t){if(Object.keys(t).length<1)return null;var e=["\n",":root {"];for(var i in t){var n="   "+i+": "+t[i]+";";e.push(n)}return e.push("}"),3<e.length?e.join("\n"):null},apply_PLAID_theme:(k=!1,function(){if(!k)switch(this.theme){case"dark":k=!0;var t={base:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAlt),baseShade1:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAltShade1),baseShade2:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAltShade2),onBase:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAlt),onBaseAccent2:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAltAccent2)};this.apply_PLAID_styles(t);break;case"light":k=!0;var e={baseAltShade2:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseShade2),onBaseAltAccent2:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAccent2)};this.apply_PLAID_styles(e);break;default:return}}),apply_fast:function(t,e){var i,n,o,r,s,a=this.styles[t.treatment],d=[];for(i in a)if(a.hasOwnProperty(i)){n=a[i];for(var l=0;l<n.length;l++)o=n[l],(s=this.get_values_for_setting(o,t,e))&&(r=this.build_rule(o.selector,i,s,o.important),d.push(r))}w.add_css_style(d.join("\n"),this.style_id,"o"),this.apply_PLAID_theme()},get_values_for_setting:function(t,e,i){var n=i?null:t.default;return t.fixed?n=t.fixed:t.name in e&&(n=e[t.name]),"string"==typeof n&&(n=[n]),n},build_rule:function(t,e,i,n){for(var o="",r=0;r<i.length;r++)o+="  "+e+" : "+i[r]+(n?" !important":"")+";\n";return t+"{\n"+o+"}\n"},apply:function(t){var e=this;N.getElementById("root").style.boxShadow="none",D.generic.on_document_ready(function(){e.settings=t,"styles"in e?e._apply():D.generic.load_script_notify(e.data_url,function(){e._apply()})})},_apply:function(){var t,e=this.settings.ARGS.split(/&/),n={},i=this,o="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(e,function(t,e){var i=/^(.*)=(.*)$/.exec(e);3===i.length&&(n[i[1]]=unescape(i[2].replace(/\+/g," ")))}),t=this.invert_styles(n.treatment),jQuery.each(t,function(t,e){e.fixed?o+=i.format_css(e,e.fixed):(n[t]||e.default)&&(o+=i.format_css(e,n[t]))});try{jQuery("style#"+this.style_id).remove(),jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(o))}catch(t){w.add_css_style(o,this.style_id,"o")}},invert_styles:function(t){var o=["default","important","fixed"],r={};return jQuery.each(this.styles[t],function(e,t){jQuery.each(t,function(t,i){var n=r[i.name]={style:e,selector:i.selector};jQuery.each(o,})}),r},format_css:function(t,e){return t.selector+" { "+t.style+" : "+(e||t.default)+(t.important?" !important;":";")+"}\n"},hex_to_RGB:function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,;var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?this.to_hex(e[1])+","+this.to_hex(e[2])+","+this.to_hex(e[3]):null},to_hex:function(t){return parseInt(t,16)},to_CSS_var_string:function(t){return"var("+t+")"}},css:{inject_css:function(i,n){D.generic.on_document_ready(function(){var t=i.getElementById(n),e=N.head;w.insert_inside(t,e)})}}};var B=function(t,e){return e?'<param name="'+t+'" value="'+e+'">':""},j=D.flashAdUtils={makeFlashAd:function(t){var e,i,n,o=t.id,r=t.src,s=t.width,a=t.height,d=t.bgcolor,l=t.wmode||"opaque",c=t.salign,u=t.scale,h=t.extraParams,p=t.extraTAGs,f=t.minVersion,m=escape(t.clickThru),g=t.clickTAGs,v=function(t){return null!==t&&t!==O&&(t+"").length},y=_="";if(v(o)&&v(r)&&y(s)&&y(a)){if(flashAdUtils.canPlayFlash(f)||consoleLog("makeFlashAd: Current flash version too low","flashAdUtils"),g)for(e=0;e<g.length;e++)g[e]&&(_=_+"&clickTAG"+(e+1)+"="+escape(g[e]));if(p)for(i in p)_=_+"&"+escape(i)+"="+escape(p[i]);_+="&ord="+D.top.ad_utils.ord,N.getElementById("navbar")?N.getElementById("megaMenu")?_+="&navbar=mega":_+="&navbar=legacy":_+="&navbar=null";var b="",w="";try{var A={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(n in h)A[n]||(b+=B(n,h[n]),w+=j(n,h[n]))}catch(t){}var E=B("bgcolor",d),T=j("bgcolor",d),S=B("wmode",l),C=j("wmode",l),I=B("scale",u),x=j("scale",u);return'<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+s+'"  height="'+a+'"  id="swf_'+o+'"><param name="movie" value="'+r+'"><param name="flashvars" value="env=WEB&clickTAG='+m+"&"+_+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+I+B("salign",c)+E+S+b+'<div style="margin-left:0.1px"><embed src="'+r+'"  flashvars="env=WEB&clickTAG='+m+"&"+_+'"  quality="high"  play="true"  width="'+s+'"  height="'+a+'"  name="swf_'+o+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+x+j("salign",c)+T+C+w+"></embed></div></object>"}consoleLog("makeFlashAd: Missing required params","flashAdUtils")},canPlayFlash:function(t){var e=!1,i=parseInt(t,10);if(t=!t||i<9?9:i,(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0)&&navigator.plugins["Shockwave Flash"]){var n,o,r=navigator.plugins["Shockwave Flash"].description.split(" ");for(o=0;o<r.length;++o)isNaN(parseInt(r[o],10))||(n=parseInt(r[o],10));e=t<=n}else if(navigator.userAgent&&0<=navigator.userAgent.indexOf("MSIE")&&-1!==navigator.appVersion.indexOf("Win"))try{var s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+t);s.AllowScriptAccess="always",e=s.GetVariable("$version").match(/([0-9]+)/)[1]>=t}catch(t){}return e}},E.store(),w.on_document_ready(,w.on_document_ready(,t&&w.on_document_ready(}(window,document)},{1:1,12:12,13:13,22:22,26:26,27:27,29:29,31:31,34:34,37:37,39:39,4:4,44:44,45:45,46:46,48:48,49:49,50:50,57:57,6:6}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.apsAuctionManager=void 0;var a=t(39),c=i.apsAuctionManager={APS_AAX_AD_TYPES:["SD","House"],SLOT_BLOCK_LIST:["interstitial"],auditLog:[],apsSlotIdToOriginalSlotNameMap:{},requestCount:0,makeApsAndGAMRequests:function(i,n){var o=window.apstag;i&&o&&0<n.length&&(this.log("Calling APS with slots: "+n.map(function(t){return JSON.stringify(t)}).join("")),o.fetchBids({slots:n},function(t){i.cmd.push(function(){o.setDisplayBids();var e=i.pubads().getSlots(),t=e.filter(function(t){return t.getTargetingMap()&&t.getTargetingMap().amznbid&&"2"!==t.getTargetingMap().amznbid[0]});n.filter(.forEach(function(t){var e="apsSlotLoad_"+t.slotID+"_"+c.requestCount;c.log("Manually firing slot load for APS punted slot "+e),window.top.dispatchEvent(new CustomEvent(e,{}))}),i.pubads().refresh(t)})}))},emitMetric:function(t,e){c.apsSlotIdToOriginalSlotNameMap[e]&&("ld"===t&&"function"==typeof window.uex?window.uex(t,"auctionManager:"+c.apsSlotIdToOriginalSlotNameMap[e]+"_aps",{wb:1}):"ld"!==t&&"function"==typeof window.uet&&window.uet(t,"auctionManager:"+c.apsSlotIdToOriginalSlotNameMap[e]+"_aps",{wb:1}))},setupGAMEventListenerForRequest:function(t){t&&t.cmd&&t.cmd.push(function(){t.pubads().addEventListener("slotRequested",function(t){var e=t.slot,i=e&&e.getSlotElementId();c.emitMetric("be",i)})})},setupGAMEventListenerAfterRender:function(t){t&&t.cmd&&t.cmd.push(function(){t.pubads().addEventListener("slotRenderEnded",function(t){var e=t.slot,i=e&&e.getSlotElementId();c.emitMetric("ld",i)})})},setupGAMEventListeners:function(t){t&&t.cmd&&(t.cmd.push(function(){t.pubads().addEventListener("slotResponseReceived",function(t){var e=t.slot,i=e&&e.getSlotElementId(),n=e&&e.getResponseInformation();c.emitMetric("bb",i),c.log("slotResponseReceived for slot "+JSON.stringify(i)+" with data "+JSON.stringify(n));var o=new CustomEvent("apsSlotLoad_"+i+"_"+c.requestCount,{detail:n});window.top.dispatchEvent(o),c.log("dispatched "+o.type+" event with data "+JSON.stringify(o.detail))})}),this.log("Set up GAM slotResponseReceived listener"))},runApsAuctionFlow:function(t,e,i,n){if(this.log("Beginning aps auction flow"),this.requestCount++,i){for(var o in e)this.setupApsEventListener(t,i[o].slotId,o,e,c.apsAdLoadCallback);var r=this.createApsSlotArrays(t,e,i,n);this.isFirstApsRequest()&&(this.setupGAMEventListeners(t),this.setupGAMEventListenerForRequest(t),this.setupGAMEventListenerAfterRender(t)),this.makeApsAndGAMRequests(t,r)}},slotShouldCallAps:function(t){var e=a.responsiveAdAPI.isAdProductTypeBlank(t),i=t?t.aaxAdType:"";return e||this.APS_AAX_AD_TYPES.includes(i)},createApsSlotArrays:function(o,r,s,a){var d=this;this.log("Creating APS slot arrays for "+JSON.stringify(r));var l=[],t=function(t){var e=r[t],i=e?e.creativeMetadata:{};if(o&&r.hasOwnProperty(t)){var n=d.getApsInfoForSlot(t,s,a.get(t));n&&0<Object.keys(n).length&&d.isFirstApsRequest()&&(d.log("Defining slot "+t),o.cmd.push(function(){o.defineSlot(n.slotName,n.sizes[0],n.slotID).addService(o.pubads()),c.isGptDivPresent(n.slotID)?o.display(n.slotID):c.beginGptDivDisplayInterval(o,n.slotID,t),c.log("Defined slot "+t+" with "+JSON.stringify(n))})),d.slotShouldCallAps(i)&&l.push(n),c.apsSlotIdToOriginalSlotNameMap[n.slotID]=t}};for(var e in s)t(e);return 0<l.length&&this.isFirstApsRequest()&&o.cmd.push(function(){o.pubads().disableInitialLoad(),o.pubads().enableSingleRequest(),o.enableServices(),c.log("Enabled googletag service")}),this.log("Created aps slots: "+l.map(function(t){return JSON.stringify(t)}).join("")),l},beginGptDivDisplayInterval:function(t,e,i){var n=setInterval(function(){c.isGptDivPresent(e)&&(t.display(e),c.log("Displayed "+e+" from interval"),clearInterval(n))},100)},isGptDivPresent:getApsInfoForSlot:function(t,e,i){var n={};if(e&&Object.keys(e).includes(t)){var o=e[t];n={slotName:o.slotName,slotID:o.slotId,sizes:[this.convertSizeStringToIntArray(i)]}}return this.log("Created apsInfo for "+t+": "+JSON.stringify(n)),n},convertSizeStringToIntArray:function(t){var e=[];return t&&t.indexOf("x")&&(e=t.split("x").map(),e},getApsEnabledSlots:function(e,i){var n=this,o={};return e&&i&&Object.keys(e).filter(.forEach(function(t){n.log("Trying to add "+t+" to apsEnabledSlots"),i.hasOwnProperty(t)&&n.slotShouldCallAps(e[t].creativeMetadata)&&(o[t]=e[t],n.log("Added "+t+" to apsEnabledSlots"))}),o},setupApsEventListener:function(t,n,o,r,s){this.log("Adding APS event listener for "+n);var e="apsSlotLoad_"+n+"_"+this.requestCount;window.top.addEventListener(e,function(t){if(t.detail)c.log("Successful APS bid received for "+o+"|"+n),a.responsiveAdAPI.queueFunc("adSlotMount",o,;else{c.log("Unsuccessful APS bid received for "+o+"|"+n);var e=r[o],i=e&&e.creativeMetadata;c.shouldRenderAaxAd(i)&&(c.log("Rendering AAX ad for "+o),a.responsiveAdAPI.queueFunc("adSlotMount",o,)}}),c.log("Created event listener with ID: "+e)},apsAdLoadCallback:function(t){var e=document.getElementById(a.responsiveAdAPI.getSlotPlaceholderId(t));e?e.style.display="none":c.log("Cant find placeholder"),a.responsiveAdAPI.unCollapseAd(t),c.hideAaxAd(t)},getCurrentAaxAdWrapperDiv:function(t){return document.getElementById(a.responsiveAdAPI.getSlotWrapperId(t))||document.getElementById(a.responsiveAdAPI.getRefreshedSlotWrapperId(t))||void 0},hideAaxAd:function(t){var e=c.getCurrentAaxAdWrapperDiv(t);e?(e.remove(),c.log("AAX Wrapper Div Removed for "+t)):c.log("AAX Wrapper Div for "+t+" not found")},shouldRenderAaxAd:function(t){return this.isFirstApsRequest()||!a.responsiveAdAPI.isAdProductTypeBlank(t)},log:viewAuditLog:isFirstApsRequest:cleanApsSlotInfoMap:function(t){var e={};if(t)for(var i in t){var n=t[i];e[i]={slotId:n.slotId||n.apsSlotId,slotName:n.slotName||n.apsSlotName}}return e},forceAaxRender:forceApsRender:forceDefaultRender:},{39:39}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.initAndBindResponsiveBackupLogic=void 0;var n=t(51),o=t(32);i.initAndBindResponsiveBackupLogic=function(t){return void 0!==t.tarnhelm_backup?((0,n.handleTarnhelmBackupImg)(t),!0):void 0!==t.backup_static&&((0,o.handlePremiumStaticResponsiveBackup)(t),!0)}},{32:32,51:51}],14:[function(t,e,i){"use strict";function s(t,e,i,n,o){if(t&&t()){var r=i();r?o(r):n()}else e()}Object.defineProperty(i,"__esModule",{value:!0}),i.bindBackupImage=function(t,e,i,n,o,r){s(e,i,n,o,r),t.parent.onresize=},{}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.shouldShowBackupSupplierResponsive=i.shouldShowBackupMobileWeb=i.shouldShowBackupDesktop=i.isResponsiveBackupSlot=void 0;var n,o=t(31),r=(n=o)&&n.__esModule?n:{default:n},s=t(46),a=t(49);var d=1024,l=767;function c(t){return(0,s.isDesktop)()&&(0,r.default)(t)&&(0,a.isInline40)(t)}function u(t){return(0,s.isMobile)()&&(0,r.default)(t)&&(0,a.isInline40)(t)}function h(t){return c(t)&&(0,s.getBrowserWidth)(t)<d}function p(t){return u(t)&&(0,s.getBrowserWidth)(t)>l}i.isResponsiveBackupSlot=i.shouldShowBackupDesktop=h,i.shouldShowBackupMobileWeb=p,i.shouldShowBackupSupplierResponsive=function(t){return function(){return(0,s.isInternetExplorer)()||(0,s.isIpad)()||h(t)||p(t)}}},{31:31,46:46,49:49}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=,{}],17:[function(t,e,i){"use strict";var n,o,r,s,a,d,l,c,u,h,p,f;n=window,o=document,n.imdbads=n.imdbads||{},n.imdbads.frequencyCapping=(r=function(){try{return s&&!a?"undefined"!=typeof mraidbridge&&void 0!==mraidbridge.localstorage?mraidbridge.localstorage:void 0:(s&&a&&null!==n.localStorage&&(n.localStorage.setItem("foo","foo"),n.localStorage.removeItem("foo")),n.localStorage)}catch(t){return}},s=/iphone|ipad|ipod/i.test(n.navigator.userAgent.toLowerCase()),a=null!==o.domain.match(/imdb/g),d="IMDbAdvertisingFrequencyCapping",l=function(){var t;if(r()&&n.JSON){if(t=r().getItem(d))try{return JSON.parse(t)}catch(t){r().removeItem(d),console.log("Could not deserialize persistence variable")}return{}}return null},c=function(t){r()&&n.JSON&&r().setItem(d,JSON.stringify(t))},u=function(){var t,e=l();if(e){for(t in e)h(e[t])&&delete e[t];c(e)}},h=function(t){return!(t&&t.l&&t.l>f)},p=(new Date).getTime(),f=p-864e5,n.generic&&n.generic.on_document_ready?n.generic.on_document_ready(u):"complete"==o.readyState?u():n.addEventListener("load",u,!1),{should_autoplay:function(t){var e=l();return!!e&&h(e[t])},log_autoplay:function(t){var e=l();e?(e[t]={l:p},c(e)):(console.log("Autoplay logged, but localStorage is not available!"),n.generic&&n.generic.monitoring&&n.generic.monitoring.record_event&&n.generic.monitoring.record_event("flash_persistence_failure",!0))},clear_autoplay:)},{}],18:[{10:10,11:11,17:17,2:2,20:20,21:21,23:23,24:24,25:25,3:3,33:33,47:47,53:53,59:59,7:7,8:8,9:9}],19:[{18:18,54:54}],20:[function(t,e,i){"use strict";window.consoleLog=function(t,e,i){var n,o=window.consoleLog,r=document.location.hash.match("debug=1"),s="error"===i||r;e?(o[e]=o[e]||[]).push(t):e="global",n=e+" : "+t,(o.global=o.global||[]).push(n);try{if(!s)return;window.console&&(window.console[i]?window.console[i](n):window.console.log&&window.console.log(n))}catch(t){}},window.consoleWarn=function(t,e){consoleLog(t,e,"warn")},window.consoleError=,{}],21:[function(t,e,i){"use strict";var n;n=window,document,(n.custom=n.custom||{}).strings={chained_replace:function(t){var e,i=this;for(e=0;e<t.length;e++){var n=t[e];i=i.replace(n[0],n[1])}return i}}},{}],22:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){for(var i=new Date((new Date).toDateString()).valueOf(),n=[],o=0,r=0,s=0,a=void 0,d=0;d<e.length;d++)try{var l=e[d].startDate,c=e[d].endDate,u=null==l||""===l,h=null==c||""===c;if(u&&h){t?a=d:n.push(d);continue}o=u?0:new Date(l.replace(/-/g,"/")).valueOf(),r=h?i+1:new Date(c.replace(/-/g,"/")).valueOf(),t&&(0===o||o<=i&&s<o)&&(s=o,a=d),!t&&o<=i&&i<r&&n.push(d)}catch(t){"consoleLog"in window&&window.consoleLog("Date checking failed for "+e[d].toString()+" with error: "+t.toString(),"ppb","error"),window.ueLogError&&window.ueLogError(t)}return t?a:n}},{}],23:[function(t,e,i){"use strict";var n;(n=window.generic).install(n,{document_readys:[],document_is_ready:function(){var t,e=n.document_readys;if((n.document_readys=null)!==e)for(t=0;t<e.length;t++)try{e[t](jQuery)}catch(t){}n.should_jQuery_noConflict&&jQuery.noConflict(!1)},on_document_ready:function(t){n.has_document_readied()?t(jQuery):n.document_readys.push(t)},has_document_readied:vanilla_on_document_ready:function(e){"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?e():window.addEventListener("DOMContentLoaded",}})},{}],24:[function(t,e,i){"use strict";var n,o,c,u,r=t(6),h=(n=r)&&n.__esModule?n:{default:n};o=window,c=document,(u=o.custom=o.custom||{}).floater={close:function(t){var e=c.getElementById(t);e.style.width="0px",e.style.height="0px"},launch:function(t,e,i,n,o,r,s,a){var d=c.createElement("iframe"),l="string"==typeof i?c.getElementById(i):i;"none"!==e&&setTimeout(1e3*e),generic.extend(d,{id:r,name:r,className:a,width:t[0]+"px",height:t[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:o[0]+"px",marginTop:o[1]+"px",zIndex:o[2],position:"absolute"}}),n(d,l),h.default.isFirefox()?d.onload=function(){var t=h.default.frameDoc(d);h.default.appendContentToIframeDoc(t,s)}:setTimeout(function(){var t=h.default.frameDoc(d);h.default.appendContentToIframeDoc(t,s)},0)},set:function(t,e,i,n,o,r,s){var a="floater_"+Math.ceil(9999999*Math.random()),d="floater_"+s;return u.floater.launch(e,i,n,o,r,a,t,d),a}}},{6:6}],25:[function(t,e,i){"use strict";window.generic=window.generic||{},window.generic.install=,{}],26:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.globalizeCss=void 0;var l=t(49);i.globalizeCss=function(t){if(t){var e=t.top.document.body,i=t.document.getElementsByClassName("imdb-adtech-global-css"),n=(0,l.getSlotName)(t),o=n+"-imdb-adtech-global-css",r=e.getElementsByClassName(o);if(e){for(var s=0;s<r.length;s++)e.removeChild(r[s]);for(var a=0;a<i.length;a++){var d=i[a];d.classList.add(o),e.prepend(d)}}}}},{49:49}],27:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.makeAtfSlotsCall=function(t,e,i,n,o){if("undefined"!=typeof window&&(window.AdSlots={},window.AdSlotsLoading=!0,t&&!window.hasAdAJAXCallFired)){var r=window.top.ad_utils.constructClientSideUrl(e,i,n),s=window.top.ad_utils.constructCurrentSlotSizeMap(i,n,window.innerWidth);if(!window.top.ad_utils.getAdsForSlotsUrl||window.top.ad_utils.getAdsForSlotsUrl!==r){window.hasAdAJAXCallFired=!0,"function"==typeof window.uet&&(window.uet("bb",h,{wb:1}),(0,u.logCSAWidgetEvent)(h,u.CSA_MARKERS.WIDGET_BEGIN),(0,u.logCSAWidgetEvent)(h,u.CSA_MARKERS.CLICK_TO_BODY_BEGIN));try{var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){window.ue&&"function"==typeof window.ue.count&&window.ue.count(h,0);var t=JSON.parse(a.responseText);window.top.ad_utils&&window.top.ad_utils.responsiveAdAPI&&window.top.ad_utils.responsiveAdAPI.handleAdServiceResponse(t,void 0,o,s),window.AdSlots=t?t.slotsMap:{},window.AdSlotsLoading=!1,window.top.ad_utils.getAdsForSlotsUrl=r}"function"==typeof window.uex&&(window.uex("ld",h,{wb:1}),(0,u.logCSAWidgetEvent)(h,u.CSA_MARKERS.LOADED),(0,u.logCSAWidgetEvent)(h,u.CSA_MARKERS.CLICK_TO_LOADED))},a.onerror=function(t){t.logLevel="WARN",t.signature=c.NO_AD_TO_LOAD_EVENT_NAME,t.message="http request blocked by client",p(t),window.mediaOrchestrator&&Object.keys(n).forEach(function(t){window.mediaOrchestrator.publish(c.NO_AD_TO_LOAD_EVENT_NAME,{slotName:t,timestamp:Date.now(),type:"",dispatcher:"ajax-request"})})},a.open("GET",r,!0);var d=new RegExp("^https?://next.[^.]+.desktop.imdb.com"),l=new RegExp("^https://www.dev.imdb.com");(d.test(r)||l.test(r))&&(a.withCredentials=!0),a.send()}catch(t){p(t)}}window.hasAdAJAXCallFired=!1}};var c=t(35),u=t(5),h="AdAJAXRequest",p=function(t){window.ue&&"function"==typeof window.ue.count&&window.ue.count(h,1),window.ueLogError&&(t.attribution="Advertising",window.ueLogError(t))}},{35:35,5:5}],28:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.responsiveImageGenerator=i.getSize=i.getImage=void 0;var r=t(46);function f(t,e){return!(0,r.isIpad)()&&!(0,r.isInternetExplorer)()||t?t:e}function m(t,e,i,n){if(((0,r.isIpad)()||(0,r.isInternetExplorer)())&&!t)return{width:e,height:i};var o=n.split("x");return o.length<2?{width:0,height:0}:{width:o[0],height:o[1]}}i.getImage=f,i.getSize=m,i.responsiveImageGenerator=function(a,d,l,c,u,h,p){return function(){var t=f(a,d);if(void 0===t||!t)return t;var e,i,n,o,r,s=m(a,u,h,p);return e=l,i=c,n=t,o=s.width,r=s.height,'<a href="'+e+'" target="'+i+'"><img src="'+n+'" width="'+o+'" height="'+r+'" border=0 /></a>'}}},{46:46}],29:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=,{}],30:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return!!t&&-1<t.toLowerCase().indexOf("_refresh")}},{}],31:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;return null!==t.top.document.getElementById("__next")||null!==t.parent.document.getElementById("__next")}},{}],32:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.handlePremiumStaticResponsiveBackup=void 0;var u=t(15),h=t(1),p=t(14),f=t(45),m=t(28),g=t(46);i.handlePremiumStaticResponsiveBackup=function(e){var t=e.backup_static||{},i=t.adLinkId||"static-ad-link",n=t.backupLinkId||"static-backup-link",o=t.additionalHtml||"static-extra-html",r=t.responsiveImage||"",s=t.size||"0x0",a=t.renderWidth||0,d=t.renderHeight||0,l=t.adState="",c=(0,u.shouldShowBackupSupplierResponsive)(e);(0,p.bindBackupImage)(e,c,function(){(0,u.isResponsiveBackupSlot)(e)&&"ad"!==l&&((0,h.uncollapseAd)(e.frameElement),(0,h.collapseElement)(e,n),(0,h.uncollapseElement)(e,i),(0,h.uncollapseElement)(e,o),(0,g.isMobile)()?((0,f.removeWrapperSize)(e),(0,f.mobileWebCreativeResizing)(e,a,d)):(0,f.scaleWrapperToWidth)(e,a,a,d),l="ad")},function(){return r},function(){"collapsed"!==l&&((0,h.collapseAd)(e.frameElement),l="collapsed")},function(){if("backup"!==l){(0,h.uncollapseAd)(e.frameElement);var t=(0,m.getSize)(r,0,0,s);(0,f.scaleWrapperToWidth)(e,t.width,t.width,t.height),(0,h.uncollapseElement)(e,n),(0,h.collapseElement)(e,i),(0,h.collapseElement)(e,o),l="backup"}})}},{1:1,14:14,15:15,28:28,45:45,46:46}],33:[function(t,e,i){"use strict";var s,a;s=window,a=document,s.custom.parallax={init:function(r){s.generic.on_document_ready(function(){var t=r.getElementById("parallax"),e=a.getElementById("root");generic.insert_before(t,e);var i=r.getElementById("skrollr_core_src").innerHTML;a.getElementById("skrollr_core_dest").innerHTML=i,s.skrollr&&s.skrollr.init({mobileCheck:smoothScrolling:!0});for(var n=1;n<=10;n++){var o=a.getElementById("parallax_layer"+n);o&&(custom.parallax.seen["parallax_layer"+n]={obj:o,seen:!1})}a.addEventListener("scroll",custom.parallax.scrollListener)})},seen:{},interactionTrackers:{},scrollListener:function(){for(var t,e=1;e<=10;e++)(t=custom.parallax.seen["parallax_layer"+e])&&!t.seen&&t.obj.getBoundingClientRect().top-a.documentElement.clientHeight<-100&&((new Image).src=custom.parallax.interactionTrackers["parallax_layer"+e],t.seen=!0)}}},{}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(n){n.addEventListener("click",function(){var t=n.getAttribute("data-ct-count");if(t&&0<t)for(var e=0;e<t;e++){var i=n.getAttribute("data-ct-"+e);if(i)(new Image).src=i}})}},{}],35:[{}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getAdVideoAutoplayBufferInterval=function(){return this.adVideoAutoplayBufferInterval},i.getHasPremiumAd=function(){return this.hasPremiumAd},i.getLastAAXResponse=function(){return this.lastAAXResponse},i.getLastAdResponse=function(){return this.lastAdResponse},i.getPlaidOverrides=function(){return this.plaidOverrides},i.getPreviousWindowWidth=function(){return this.previousWindowWidth},i.getResponsiveResizingDisabledSlotsMap=function(){return this.responsiveResizingDisabledSlotsMap},i.getSlotResponsiveWrapperId=function(t){return t+"_responsive_wrapper"},i.getSlotPlaceholderId=function(t){return""+(t+n.PLACEHOLDER_SUFFIX)},i.getSlotWrapperId=function(t){return t+"_wrapper"},i.getRefreshedSlotWrapperId=var n=t(35)},{35:35}],37:[function(t,e,i){"use strict";function n(t){return Promise.resolve(t)}bject.defineProperty(i,"__esModule",{value:!0});var r=i.INTRA_AD_VIDEO_PLAYER_BUFFER=300,s="setMinimalVideoEnded";i.mediaOrchestratorBridge={isMediaOrchestratorBridge:!0,timers:{},getCurrentlyPlayingAsset:function(){return window.MediaOrchestrator_V1?n(window.MediaOrchestrator_V1.getCurrentlyPlayingAsset()):o(null)},requestPlayback:function(t){return window.MediaOrchestrator_V1?n(window.MediaOrchestrator_V1.requestPlayback(t)):o(!1)},setMediaPlay:function(t,e){return e&&e.isReely&&window.ad_utils.mediaOrchestratorBridge.timers[s]&&clearTimeout(window.ad_utils.mediaOrchestratorBridge.timers[s]),window.MediaOrchestrator_V1?n(window.MediaOrchestrator_V1.setMediaPlay(t)):o(!1)},setMediaPaused:function(t){return window.MediaOrchestrator_V1?n(window.MediaOrchestrator_V1.setMediaPaused(t)):o(!1)},setMediaEnded:function(t,e){function i(){return window.MediaOrchestrator_V1?n(window.MediaOrchestrator_V1.setMediaEnded(t)):o(!1)}return e&&e.isMinimalVideo?(window.ad_utils.mediaOrchestratorBridge.timers[s]=setTimeout(i,r),Promise.resolve(!0)):i()},subscribe:function(t){if(t.onMediaPermissionsChanged){var e=t.name,i=t.onMediaPermissionsChanged;return window.MediaOrchestrator_V1&&window.MediaOrchestrator_V1.subscribeToNotifications(e,i)}return!1},updateAssetFrameLocation:function(t,e){return window.MediaOrchestrator_V1?n(window.MediaOrchestrator_V1.updateAssetFrameLocation(t,e)):o(!1)}}},{}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mediaOrchestrator=void 0,i.initializeMediaOrchestrator=function(){"undefined"!=typeof window&&(window.mediaOrchestrator=s);e=[],i=!1,n=!1,window.mediaOrchestrator.subscribe(c.AD_LOADED_EVENT_NAME,function(t){e.push(t.slotName),r.every(&&!i&&(i=!0,window.mediaOrchestrator.publish(c.PRIMARY_ADS_LOADED_EVENT_NAME,{type:"",dispatcher:"media-orchestrator",slotName:"",timestamp:Date.now()}))}),window.mediaOrchestrator.subscribe(c.NO_AD_TO_LOAD_EVENT_NAME,function(t){r.includes(t.slotName)&&!n&&(n=!0,window.mediaOrchestrator.publish(c.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,{type:"",dispatcher:"media-orchestrator",slotName:"",timestamp:Date.now()}))});var e,i,n};var n,c=t(35),o=t(48),u=(n=o)&&n.__esModule?n:{default:n};var r=[u.default.INLINE20,u.default.INLINE40],s=i.mediaOrchestrator=function(){var o={},r={},a={},s=o.hasOwnProperty,d=r.hasOwnProperty;function l(t,e){if(t!==c.MEDIA_PLAYBACK_EVENT_NAME||e.slotName!==u.default.INLINE20&&e.slotName!==u.default.TOP_AD||e.type!==c.AUTOPLAY_VIDEO_MAYBE_PRESENT_EVENT_TYPE)t!==c.MEDIA_PLAYBACK_EVENT_NAME||e.slotName!==u.default.INLINE20&&e.slotName!==u.default.TOP_AD||e.type!==c.LOADSTART&&e.type!==c.PLAY||(n=e.slotName,a[n]&&clearTimeout(a[n]));else{var i=function(t){window.mediaOrchestrator.publish(c.MEDIA_PLAYBACK_EVENT_NAME,{type:c.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,dispatcher:"media-orchestrator",slotName:t,timestamp:Date.now()})}.bind(null,e.slotName);o=e.slotName,r=i,s=2e3,a[o]=setTimeout(r,s)}var n,o,r,s}return{getEventsLogForEvent:function(t){return void 0!==r[t]?r[t].slice():[]},subscribe:publish:function(t,e){var i,n;s.call(o,t)||(o[t]=[]),i=t,n=e,d.call(r,i)||(r[i]=[]),r[i].push(n),l(t,e),o[t].forEach(}}}()},{35:35,48:48}],39:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.responsiveAdAPI=void 0;var n=Object.assign||i.initializeResponsiveAdApi=var o,r=t(48),a=(o=r)&&o.__esModule?o:{default:o},s=t(43),d=t(38),l=m(t(36)),c=m(t(40)),u=t(35),h=t(42),p=t(12),f=t(41);ar g=i.responsiveAdAPI=n({adVideoAutoplayBufferInterval:1e3,hasPremiumAd:null,lastAAXResponse:null,lastAdResponse:null,plaidOverrides:null,previousWindowWidth:0,responsiveResizingDisabledSlotsMap:{},apsAdSlotMap:{}},l,c,{shouldMakeAdSticky:h.shouldMakeAdSticky,makeAdSticky:h.makeAdSticky,addSponsoredLabel:f.addSponsoredLabel,clearData:function(){this.hasPremiumAd=null,this.lastAdResponse=null,this.plaidOverrides=null,this.previousWindowWidth=0,this.responsiveResizingDisabledSlotsMap={}},clearPageStyles:function(){v(u.PLAID_STYLE_OVERRIDES_ID)},clearWrapBackgroundStyles:collapseAd:function(t){if("undefined"!=typeof document){var e=document.getElementById(this.getSlotResponsiveWrapperId(t));e&&(e.style.display="none")}},dangerouslySetHTML:function(t,e,i){if("undefined"!=typeof document){var n=e||document.getElementById(i);if(null!==(n=function(t,e){var i=t;if(e===g.getSlotResponsiveWrapperId(a.default.INLINE40)){var n=document.getElementsByClassName(a.default.INLINE40_SIDEBAR)[0],o=document.getElementsByClassName(a.default.INLINE40_MAIN)[0],r=window.innerWidth;r<u.LARGE_BREAKPOINT&&o?i=o:n&&(i=n)}return i}(n,i))){var o=t;if(window.apstag&&window.googletag){var r=function(t){var e="",i=document.getElementById(t);if(!i||t===g.getSlotResponsiveWrapperId(a.default.PROVIDER_PROMOTION))return e;var n=t.replace("_responsive_wrapper","");return e+=(o=n,r="",s=document.getElementById(o+"_placeholder_styles"),s&&(r+=s.outerHTML),r),e+=function(t,e){var i="";if(!t)return i;var n=document.getElementById(g.getSlotPlaceholderId(e));if(n){var o=n.cloneNode(!0);o.style.position="absolute",o.style.removeProperty("display"),o.classList.remove("placeholder_fadeout"),i+=o.outerHTML}return i}(i,n),e+=function(t){var e="";if(!t)return e;var i=function(t,e){if(!t)return null;for(var i=t.getElementsByTagName("div"),n=[],o=0;o<i.length;o++){var r=i[o];r.id&&r.id.startsWith(e)&&n.push(r)}return n}(t,"div-gpt");if(i&&0<i.length){var n=i[0].cloneNode(!0);n.innerHTML="",e+=n.outerHTML}return e}(i);var o,r,s}(i);r&&(o=r+t)}var s=document.createRange();s.selectNodeContents(n),s.deleteContents(),n.appendChild(s.createContextualFragment(o))}}},events:{queues:{adIframeLoad:{},adSlotMount:{},adSlotUnmount:{}},adIframeLoad:function(t){var e;this.queues.adIframeLoad[t]=!0,e=t,window.mediaOrchestrator&&window.mediaOrchestrator.publish(u.AD_LOADED_EVENT_NAME,{type:"",dispatcher:"responsive-ad-api",slotName:e,timestamp:Date.now()})},adSlotMount:function(t){"function"==typeof window.uet&&window.uet("bb","adSlotMount",{wb:1}),"function"==typeof this.queues.adSlotMount[t]?this.queues.adSlotMount[t]():this.queues.adSlotMount[t]=!0,"function"==typeof window.uex&&window.uex("ld","adSlotMount",{wb:1})},adSlotUnmount:video:{}},getPageType:function(){var t=document.head?document.head.querySelector("meta[property$='pageType']"):null;return t?t.content:""},getSubPageType:function(){var t=document.head?document.head.querySelector("meta[property$='subpageType'], meta[property$='subPageType']"):null;return t?t.content:""},handleAAXResponse:isApsFlowEnabled:function(t){return!this.hasPremiumAd&&window.apstag&&window.googletag&&t&&0<Object.keys(t).length},handleAdServiceResponse:function(t,e,i,n){var o=t&&t.slotsMap?t.slotsMap:t,r=p.apsAuctionManager.cleanApsSlotInfoMap(i);if(this.setLastAdResponse(t),o)if(this.isApsFlowEnabled(r)){var s=window.googletag||{},a=p.apsAuctionManager.getApsEnabledSlots(o,r);p.apsAuctionManager.log("Created potential Aps Ads for: "+Object.keys(a)),p.apsAuctionManager.runApsAuctionFlow(s,a,r,n),this.renderAaxAds(o,e,a)}else this.renderAaxAds(o,e)},renderAaxAds:function(t,e,i){for(var n in t[a.default.INLINE20]&&this.clearWrapBackgroundStyles(),e&&e.shouldClearPageStyles&&this.clearPageStyles(),t)i&&i.hasOwnProperty(n)&&p.apsAuctionManager.slotShouldCallAps(t[n].creativeMetadata)?(p.apsAuctionManager.log("Delaying render for "+n),this.apsAdSlotMap[n]=i[n]):(p.apsAuctionManager.log("Short-circuit render for "+n),this.renderAd(n,t[n]))},isBlankAd:function(t){var e=t?t.creativeMetadata:null;return!!e&&(this.isAdProductTypeBlank(e)||0===e.creativeHeight||-1===e.creativeHeight)},isAdProductTypeBlank:function(t){return!(!t||!t.adProductType||t.adProductType.name!==u.BLANK)},queueFunc:function(t,e,i){this.events.queues[t][e]?i():this.events.queues[t][e]=i},renderAd:function(t,e){if("undefined"!=typeof document){var i=e.slotMarkup,n=this.getSlotResponsiveWrapperId(t),o=document.getElementById(n),r=function(){};o?this.setVisibility(t,e):r=this.setVisibility.bind(this,t,e);var s=i?this.dangerouslySetHTML.bind(null,i,o,n):function(){};this.queueFunc("adSlotMount",t,}},setVisibility:function(t,e){this.isBlankAd(e)?this.collapseAd(t):this.unCollapseAd(t)},triggerCustomEvent:function(t,e){if("undefined"!=typeof window){var i=void 0;"function"==typeof CustomEvent?i=new CustomEvent(t,{detail:e}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,e),window.dispatchEvent(i)}},unCollapseAd:function(t){if("undefined"!=typeof document){var e=document.getElementById(this.getSlotResponsiveWrapperId(t));e&&"none"===e.style.display&&(e.style.display="flex")}}});function v(t){if("undefined"!=typeof document){var e=document.getElementById(t);e&&e.remove()}}},{12:12,35:35,36:36,38:38,40:40,41:41,42:42,43:43,48:48}],40:[function(t,e,i){"use strict";bject.defineProperty(i,"__esModule",{value:!0}),i.setAdVideoAutoplayBufferInterval=function(t){this.adVideoAutoplayBufferInterval=t},i.setHasPremiumAd=i.setLastAAXResponse=i.setLastAdResponse=function(t){t.slotsMap&&(this.lastAdResponse={slots:t.slotsMap});this.setHasPremiumAd(t.hasPremium),this.setPlaidOverrides(t.plaidOverrides),this.setResponsiveResizingDisabledSlotsMap(t)},i.isEmpty=n,i.setPlaidOverrides=function(t){n(t)||(this.plaidOverrides=t,this.triggerCustomEvent("clientSidePlaidOverride",t))},i.setPreviousWindowWidth=i.setResponsiveResizingDisabledSlotsMap=function(t){var e=this;t.slotsMap&&Object.keys(t.slotsMap).forEach(;var i=t.responsiveResizingDisabledSlotsMap;i&&Object.keys(i).forEach(}},{}],41:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.addSponsoredLabel=function(t){if(!t.id.includes(r.default.INLINE20))return;var e=document.getElementById("inline20_wrapper"),i=document.getElementById("inline20");((0,s.didAdSetRodeoWrap)()||(0,s.didAdSetTarnhelmWrap)(i))&&e.classList.add("premium-wrap")};var n,o=t(48),r=(n=o)&&n.__esModule?n:{default:n},s=t(42)},{42:42,48:48}],42:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.shouldMakeAdSticky=function(t,e){if(!window.ad_utils.isResponsive())return!1;if(window.ad_utils.responsiveAdAPI.getHasPremiumAd())return!1;if(!h(t.id))return!1;if(u(t))return!1;if(!p(t,e)&&!f(t,e))return!1;return!0},i.didAdSetRodeoWrap=x,i.didAdSetTarnhelmWrap=u,i.getRodeoWrapStyles=D,i.isStickyEnabledSlotName=h,i.isStickyEnabledAdSizeMweb=p,i.isStickyEnabledAdSize=f,i.makeAdSticky=function(t){var e=C,i=document.querySelector("."+A.PAGE_WRAPPER_CLASSNAME),n=document.getElementById(t+"_responsive_wrapper"),o=n.getBoundingClientRect().top+window.scrollY,r=t+"-"+I,s=x(),a="#"+t+"_responsive_wrapper",d=window.scrollY,l=!1,c=!1,u=s?a:"."+A.INLINE20_PAGE_BACKGROUND_CLASS,h="";s||(h="background-color: rgba(0,0,0,0.5);");function p(t){return"\n            @media screen {\n                ."+E+" "+u+" {\n                    position: fixed !important;\n                    height: "+n.clientHeight+"px;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    z-index: 50;\n                    transition: opacity "+T+"s ease-in;\n                    "+(t?"opacity: 1 !important;":"")+"\n                    "+h+"\n                }\n                ."+E+"."+A.PAGE_WRAPPER_CLASSNAME+" {\n                    top: "+n.clientHeight+"px;\n                }\n                /* P70615346 - Apply page wrapper styles to RVI widget (below page wrapper) */\n                ."+E+"."+A.PAGE_WRAPPER_CLASSNAME+" + section {\n                    margin-top: "+n.clientHeight+"px;\n                }\n            }\n        "}if(window.generic.add_css_style(p(!0),r,"a"),s){var f=D(),m=f.backgroundImage,g=m&&"none"!==m?m:"",v=f.backgroundColor?f.backgroundColor:"";window.generic.add_css_style("\n            @media screen and (min-width: "+A.LARGE_BREAKPOINT+"px) {\n                ."+E+" #"+A.WRAP_BACKGROUND_DIV_TAG_ID+", ."+E+" "+a+" {\n                    background: "+g+" fixed top no-repeat "+v+" !important;\n                    background-position-y: -56px !important;\n                }\n            }\n        ",r)}function y(){d=window.scrollY,l||(window.requestAnimationFrame(,l=!0)}document.addEventListener("scroll",y);var _=document.querySelector(u);function b(){_.style.opacity=0,setTimeout(function(){_.style.opacity=1,i.classList.remove(E),c=!1},S)}function w(t){!c&&o<t?(_.style.opacity=0,setTimeout(0)):c&&t<=o&&b()}w(d),e&&setTimeout(function(){window.generic.add_css_style(p(!1),r,"o"),b(),document.removeEventListener("scroll",y)},e)};var A=t(35),n=r(t(48)),o=r(t(30));function r(t){return t&&t.__esModule?t:{default:t}}var E="fixed-wrap",s=970,a=250,d=""+s,l=""+a,T=.3,S=1e3*T,C=3e3,I="sticky-wrap-styles",c=135;function x(){var t=D();return t&&(t.backgroundImage&&"none"!==t.backgroundImage||"#000"!==t.backgroundColor&&"#000000"!==t.backgroundColor&&"rgba(0, 0, 0, 0)"!==t.backgroundColor&&"rgb(0, 0, 0, 0)"!==t.backgroundColor)}function u(t){if(!t)return!1;var e=parseInt(t.style.width,10),i=parseInt(t.style.height,10);return t.width===d&&t.height===l&&s<e&&a<i}function D(){var t=document.getElementById(A.WRAP_BACKGROUND_DIV_TAG_ID);try{return window.getComputedStyle(t)}catch(t){return{}}}function h(t){return t.includes(n.default.INLINE20)&&!(0,o.default)(t)}function p(t,e){var i=parseInt(t.height,10)<=c;if(!e)return i;var n=parseInt(e.h,10)<=c;return i&&n}function f(t,e){var i=t.width.includes(d)&&t.height.includes(l);if(!e)return i;var n=e.w.includes(d)&&e.h.includes(l);return i&&n}},{30:30,35:35,48:48}],43:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.initializeVideoEventsMessageListeners=function(){"undefined"!=typeof window&&window.addEventListener("message",a,!1)};var n,o=t(48),r=(n=o)&&n.__esModule?n:{default:n},s=t(35);function a(t){var e;t&&t.origin!==window.origin||(t.data&&"video-handler"===t.data.dispatcher?function(t){var e=t.slotName,i=t.type;window.top.ad_utils.responsiveAdAPI.events.video[i]||(window.top.ad_utils.responsiveAdAPI.events.video[i]={});window.top.ad_utils.responsiveAdAPI.events.video[i][e]={timestamp:t.timestamp},n=t,o=n.slotName,o!==r.default.INLINE20&&o!==r.default.TOP_AD||(window.top.ad_utils.responsiveAdAPI&&window.top.ad_utils.responsiveAdAPI.triggerCustomEvent(s.MEDIA_PLAYBACK_EVENT_NAME,n),window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish(s.MEDIA_PLAYBACK_EVENT_NAME,n));var n,o}(t.data):t.data&&"generic"===t.data.dispatcher&&(e=t.data).type===s.NO_AD_TO_LOAD_EVENT_NAME&&window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish(s.NO_AD_TO_LOAD_EVENT_NAME,e))}},{35:35,48:48}],44:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=),d=t(42),l=t(41),a=r(t(16)),o=r(t(30)),c=r(t(48)),y=t(36);ar u={TOP_AD:[{width:"728px",height:"90px"}],INJECTED_BILLBOARD:[{width:"970px",height:"250px"}],TOP_RHS:[{width:"300px",height:"250px"}]},h=["ia.media-imdb.com"],s=["BTF_RHS2","BOTTOM_AD","MEDIAVIEWER_BANNER","INLINE80"],p=["MEDIAVIEWER_BANNER"],f=["INLINE20","INLINE40","INLINE50","INLINE60","INLINE80","INLINEBOTTOM","TOP_RHS","TOP_AD"],_="ape_",b="_placement",m="data-first-party-creative-template",g=[{p:0,t:0,def:"amzn"},{p:50,t:1,def:"iab"},{p:100,t:0,def:"groupm"}],v=["openPsAdPopover","openATCModal","setPartner","sendMetrics","wrap"],w=function(){eturn n(t,[{key:"isIMDbMobileDomain",value:,{key:"getSafeframeIdPrefix",value:function(){return _}},{key:"getSafeframeAdObjs",value:function(){return this.sfAdObjs}},{key:"injectCode",value:function(t,e){var i=this.isIMDbMobileDomain(),n=i?"MSFClient":"SFClient",o=e+(i?"":"<script defer>setTimeout( function(){"+n+'.getDebugInfo({key: "updateAdDetails"}); },0);<\/script>')+("<script defer>setTimeout(function(){"+n+'.customMessage("sendMetrics",JSON.stringify({"slot": "'+t+'", "event": "fireload"}));},0);<\/script>');this.renderAdInSF(t,o)}},{key:"getSafeframeDiv",value:function(t){return document.getElementById(_+t+b)}},{key:"fireSfReflowMetric",value:function(t){var e=this.sfSrclessIframeSizes[t],i=e.w,n=e.h,o=window.top.ad_utils.get_slot_iframe(t),r=window.top.ad_utils.get_ad_object(o);window.top.ad_utils.fire_reflow_metric(t,r,i,n,o.width.replace(/px/g,""),o.height.replace(/px/g,""))}},{key:"getSfAdObject",value:function(t){if(this.sfAdObjs[t])return this.sfAdObjs[t];var e=null,i=window.top.ad_utils.sf_ad_details[t];if(i){var n=i.width,o=i.height;n&&(n=n.replace(/px/g,"")),o&&(o=o.replace(/px/g,"")),e={aid:i.adId,cid:i.creativeId,w:n,h:o},this.sfAdObjs[t]=e}return e}},{key:"onSfAdLoad",value:function(t){var e=""+_+t+"_iframe",i=document.getElementById(e);window.top.ad_utils.responsiveAdAPI.events.adIframeLoad(t),(0,d.shouldMakeAdSticky)(i)&&(0,d.makeAdSticky)(c.default.INLINE20),(0,l.addSponsoredLabel)(i);var n=this.getSfAdObject(t),o=window.top.ad_utils.get_type_of_ad(n),r=void 0;if(window.top.ad_utils&&window.top.ad_utils.ad_table){var s=window.top.ad_utils.ad_table[t];s&&(s.fired=!0,s.loaded=!0)}if(null!==n&&("blank"===n.scope||"null"===n.scope)){var a=this.sfSrclessIframeSizes[t];r="0"===a.w&&"0"===a.h?0:window.generic.monitoring.get_metric_value(t,"reflow")}window.top.ad_utils.slot_events.trigger(t,"load",{duration:r,type:o})}},{key:"updateAdDetails",value:function(t){t&&t.creativeId&&(window.top.ad_utils.sf_ad_details[t.slot]={},window.top.ad_utils.sf_ad_details[t.slot].creativeId=t.creativeId,window.top.ad_utils.sf_ad_details[t.slot].adId=t.adId,window.top.ad_utils.sf_ad_details[t.slot].width=t.width,window.top.ad_utils.sf_ad_details[t.slot].height=t.height)}},{key:"setPartner",value:function(t){var e=JSON.parse(t);e&&e.slot&&e.partner&&top&&top.generic&&top.generic.monitoring&&top.generic.monitoring.set_partner&&top.generic.monitoring.set_partner_by_slot(e.slot,e.partner)}},{key:"isThirdPartyAd",value:,{key:"isSafeframeSlot",value:function(t,e){var i=this.isIMDbMobileDomain();return t&&-1<(i?p:s).indexOf(t.toUpperCase())||this.isConditionalSafeframeSlot(t,e)}},{key:"isConditionalSafeframeSlot",value:function(t,e){return t&&(-1<f.indexOf(t.toUpperCase())||(0,o.default)(t.toLowerCase()))&&this.isThirdPartyAd(e)}},{key:"getRawSlotName",value:function(t){var e=t;return t&&0===t.indexOf(this.getSafeframeIdPrefix())&&(e=t.slice(4,t.length-7)),e}},{key:"renderAdInSF",value:function(t,e){var i=document.getElementById(t);if(null!==i){var n=i.parentElement,o=i.getAttribute("data-original-width"),r=i.getAttribute("data-original-height");this.sfSrclessIframeSizes[t]={w:o,h:r};var s=this.createAdDetailsObject(t,i,e),a=n.getElementsByClassName("sponsored_label");0===a.length&&(a=n.getElementsByClassName("standard_sponsored_label"));var d=null;0<a.length&&(d=a[0],n.removeChild(d)),n.removeChild(i);var l=document.createElement("div"),c=_+t+b;l.setAttribute("name",c),l.setAttribute("id",c);var u=this.isIMDbMobileDomain();if(u){var h=document.createElement("div");n.parentElement.replaceChild(h,n),h.appendChild(n);var p=n.id;h.id=p,n.id="ape_"+p}var f=u?n:l;f.setAttribute("data-ad-details",JSON.stringify(s)),f.setAttribute("class","text/x-dacx-safeframe"),f.style.width=o+"px",f.style.height=r+"px",f.style.margin="0 auto",f.style.display="block";var m=document.getElementById((0,y.getSlotPlaceholderId)(t.toLowerCase()));if(m&&(l.style.position="relative",l.classList.add("rendered_ad_tweening")),n.appendChild(l),d&&(n.appendChild(d),n.style.width=o+"px",n.style.height=r+"px"),window.generic&&window.generic.monitoring){var g=window.generic.monitoring.get_partner(t);g&&"none"!==g||window.generic.monitoring.set_partner_by_slot(t,"3P")}switch(t){case"injected_billboard":n.className=(n.className?n.className+" ":"")+"billboard";break;case"top_ad":window.top.ad_utils.expand_top_banner()}if(u?window.MAsf.loadAds():window.DAsf.loadAds(),m&&(l.classList.add("ad_fadein"),l.childNodes&&0<l.childNodes.length&&l.childNodes[0].classList.add("ad_fadein")),window.csm&&window.top.ad_utils.fire_tagdeliver_metric){var v=window.csm.duration();window.top.ad_utils.fire_tagdeliver_metric(t,v)}window.ad_size_cookie&&window.ad_size_cookie.store()}}},{key:"createAdDetailsObject",value:function(t,e,i){var n={};n.slot=e.id,n.slotName=e.id,n.arid=e.id,n.htmlContentEncoded=(0,a.default)(i),n.serverSideFetchAd="true",n.loadAfter="",n.slot.toUpperCase()in u?n.allowedSizes=u[n.slot.toUpperCase()]:n.allowedSizes=[],n.allowedDomains=h,n.iframeClass=e.getAttribute("class"),n.iframeExtraStyle=e.getAttribute("style")||"";var o,r={};r.width=e.getAttribute("width")+"px",r.height=e.getAttribute("height")+"px",n.size=r,(o=e)&&(o.hasAttribute(m)||o.parentElement.hasAttribute(m))?n.viewabilityStandards=g:n.viewabilityStandards=[],n.aaxInstrPixelUrl=window.top.ad_utils.aax_instr_pixel_url[n.slot.toUpperCase()];var s=window.top.ad_utils.aax_imp_pixel_url[n.slot.toUpperCase()];return s&&(n.aaxImpPixelUrl=s),n.allowlistedCustomMessageEvents=v,n.allowlistedQueryParamKeys=[],n.adCreativeMetaData={adCreativeTemplateName:"IMDb"},n}}]),t}();i.default=new w},{16:16,30:30,36:36,41:41,42:42,48:48}],45:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.setupContainer=i.scaleWrapperToWidth=i.scaleTarnhelm=i.scaleTarnhelmAd=i.scaleIframeToWidth=i.removeWrapperSize=i.mobileWebCreativeResizing=i.resizeWrapperWithOverflowHidden=i.centerAd=void 0;var l=t(49);function n(){return"portrait"==(90===window.orientation||-90===window.orientation?"landscape":"portrait")?Math.min(window.screen.width,window.screen.height):Math.max(window.screen.width,window.screen.height)}function r(){return window.screen&&window.screen.width&&window.screen.height&&void 0!==window.orientation?n():window.innerWidth}function s(t,e,i,n){t&&(t.style.height=""+i+n,t.style.width=""+e+n,t.setAttribute("data-resizeElement",""+e+n+"|"+i+n))}function a(t,e,i,n){var o=e/i,r=Math.floor(o*n);t&&t.frameElement&&(t.frameElement.height=r,t.frameElement.width=e),t&&t.document&&t.document.ad&&(t.document.ad.h=r,t.document.ad.w=e),s(t.frameElement,e,r,"px")}function d(t,e,i,n){var o=e/i,r=Math.floor(o*n);s((0,l.getSlotWrapper)(t),e,r,"px")}function c(t,e,i){var n={actionName:"scale-ad-to-width",adName:e,data:{width:i}};setTimeout(0)}function u(t,e,i){t&&(t.style.position="relative",t.style.overflow="visible",s(t,e,i,"px"))}i.centerAd=function(t){var e=(0,l.getSlotWrapper)(t);e&&e.style&&(e.style.marginLeft="auto",e.style.marginRight="auto")},i.resizeWrapperWithOverflowHidden=function(t,e,i){var n=top.document.getElementById("wrapper");n&&(n.style.overflowX="hidden");var o=(0,l.getSlotWrapper)(t);o&&(o.style.margin="auto"),u(o,e,i)},i.mobileWebCreativeResizing=function(t,e,i){var n=(0,l.getSlotName)(t);if("top_ad"!==n.toLowerCase()&&0<=i&&0<=e){var o=i/e,r=640*o,s=100*o;if(n){var a=(0,l.getSlotWrapper)(t);a.className+=" standard_expand_ad_slot_wrapper orientation_"+a.id+"}",(0,l.getSlot)(t).className+=" standard_expand_ad_slot_iframe";var d="\n                @media only screen and (min-width : 641px) {\n                    .orientation_"+a.id+" {\n                        width: 640px;\n                        height: "+r+"px;\n                    }\n                }\n\n                @media only screen and (min-width : 640px) {\n                    .orientation_"+a.id+" {\n                        width: 100vw;\n                        height: "+s+"vw;\n                    }\n                }\n\n                .sponsored_label {\n                    padding-right: 5%;\n                }\n            ";t.top.generic.add_css_style(d,"expand-1p-ads")}}else(0,l.getSlotWrapper)(t).setAttribute("style","height: "+i+"px; display: block;"),(0,l.getSlot)(t).setAttribute("style","height: "+i+"px;")},i.removeWrapperSize=function(t){var e;(e=(0,l.getSlotWrapper)(t))&&(e.style.removeProperty("width"),e.style.removeProperty("height"))},i.scaleIframeToWidth=a,i.scaleTarnhelmAd=c,i.scaleTarnhelm=function(t,e,i,n){var o=r();a(t,o,i,n),d(t,o,i,n),c(t,e,o)},i.scaleWrapperToWidth=d,i.setupContainer=u},{49:49}],46:[function(t,e,i){"use strict";function n(t){return t&&document.location.href.startsWith("https://"+t)}Object.defineProperty(i,"__esModule",{value:!0}),i.getBrowserWidth=i.isDesktop=function(){return n("www.")},i.isInternetExplorer=function(){var t,e,i=(t=window.navigator.userAgent,0<(e=t.indexOf("MSIE"))?parseInt(t.substring(e+5,t.indexOf(".",e))):t.match(/Trident\/7\./)?11:0);return 0<i&&i<=11},i.isIpad=function(){var t=navigator.userAgent.toLowerCase();return-1<t.indexOf("ipad")||-1<t.indexOf("macintosh")&&"ontouchend"in document},i.isMobile=i.isSubdomain=n},{}],47:[function(t,e,i){"use strict";var n,o,r;(n=window).imdbads=n.imdbads||{},n.imdbads.SlotManager=(o={},r=void 0,{registerSlot:function(t,e){o[t]=e,"rhs"===t&&(e.getClickTracker&&(n.top.getClickTracker=e.getClickTracker),e.uatu&&(r=e.uatu))},getDefaultUatu:function(){return r},getSlotData:function(t){return o[t]},getSlotClickTracker:function(t,e){return o[t]&&"function"==typeof o[t].getClickTracker?o[t].getClickTracker(e):""},getAllSlotData:function(){return o}})},{}],48:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={INLINE20:i.INLINE20_SLOT_NAME="inline20",INLINE40:i.INLINE40_SLOT_NAME="inline40",INLINE40_MAIN:i.INLINE40_MAIN="inline40-responsive-main",INLINE40_SIDEBAR:i.INLINE40_SIDEBAR="inline40-responsive-sidebar",INLINE50:i.INLINE50_SLOT_NAME="inline50",INLINE60:i.INLINE60_SLOT_NAME="inline60",INLINE80:i.INLINE80_SLOT_NAME="inline80",INLINEBOTTOM:i.INLINEBOTTOM_SLOT_NAME="inlinebottom",INTERSTITIAL:i.INTERSTITIAL_SLOT_NAME="interstitial",MEDIAVIEWER_BANNER:i.MEDIAVIEWER_BANNER_SLOT_NAME="mediaviewer_banner",PROVIDER_PROMOTION:i.PROVIDER_PROMOTION_NAME="provider_promotion",PROMOTED_WATCH_BAR:i.PROMOTED_WATCH_BAR_NAME="promoted_watch_bar",SIS_PIXEL:i.SIS_PIXEL_SLOT_NAME="sis_pixel",TOP_AD:i.TOP_AD_SLOT_NAME="top_ad"};i.default=n},{}],49:[function(t,e,i){"use strict";ct.defineProperty(i,"__esModule",{value:!0}),i.getSlot=function(t){return r(t,n(t))},i.getSlotName=n,i.getSlotWrapper=i.getSlotWrapperName=o,i.isSlot=s,i.isInline40=,{}],50:[function(t,e,i){"use strict";function f(t){if(t)if("IMG"===t.tagName||"SPAN"===t.tagName||"P"===t.tagName||"VIDEO"===t.tagName||"DIV"===t.tagName&&0===t.childElementCount)t.classList.add("mrc-btr-creative");else{var e=!0,i=!1,n=void 0;try{for(var o,r=t.children[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){f(o.value)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}}}Object.defineProperty(i,"__esModule",{value:!0});i.tarnhelmAdUtils={markTarnhelmAdForMRC:function(t,e){!function t(e,i){if(e){var n=e.actions;if(n&&n.click&&0<n.click.length){var o=!0,r=!1,s=void 0;try{for(var a,d=n.click[Symbol.iterator]();!(o=(a=d.next()).done);o=!0)if("open-default-link"===a.value.actionName)return void f(i.querySelector("[name="+e.name+"]"))}catch(t){r=!0,s=t}finally{try{!o&&d.return&&d.return()}finally{if(r)throw s}}}if(e.children){var l=!0,c=!1,u=void 0;try{for(var h,p=e.children[Symbol.iterator]();!(l=(h=p.next()).done);l=!0)t(h.value,i)}catch(t){c=!0,u=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}}}}(t,e)}}},{}],51:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.handleTarnhelmBackupImg=void 0;var _=t(15),b=t(52),w=t(28),A=t(1),E=t(14),T=t(46);i.handleTarnhelmBackupImg=function(t){var e=t.tarnhelm_backup||{},i=e.appData||{},n=e.adName||void 0,o=e.trackingConsumer||void 0,r=e.pageBind||!1,s=e.scaleToFull&&(!i.isScalable||(0,T.isMobile)())||!1,a=e.clickThrough||"",d=e.target||"_blank",l=e.responsiveImage||"",c=e.legacyImage||"",u=e.renderWidth||0,h=e.renderHeight||0,p=e.size||"0x0",f=e.resizeWrapperWithOverflowHidden||!1,m=(0,_.shouldShowBackupSupplierResponsive)(t),g=(0,b.showTarnhelmAdCallback)(t,n,i,o,r,s,u,h,l,p,f),v=(0,w.responsiveImageGenerator)(l,c,a,d,u,h,p),y=(0,b.showBackupImageTarnhelmResponsiveCallback)(t,l,c,u,h,p);(0,E.bindBackupImage)(t,m,g,v,function(){"collapsed"!==t.tarnhelm_backup.adState&&((0,A.collapseAd)(t.frameElement),t.tarnhelm_backup.adState="collapsed")},y)}},{1:1,14:14,15:15,28:28,46:46,52:52}],52:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.showBackupImageTarnhelmResponsiveCallback=i.showTarnhelmAdCallback=i.showBackupImageTarnhelmCallback=i.getAppNode=void 0;var n,u=t(45),h=t(1),a=t(28),o=t(31),p=(n=o)&&n.__esModule?n:{default:n};getAppNode=f,i.showBackupImageTarnhelmCallback=d,i.showTarnhelmAdCallback=function(t,e,i,n,o,r,s,a,d,l,c){return function(){t&&t.tarnhelm_backup&&"ad"!==t.tarnhelm_backup.adState&&((0,h.uncollapseAd)(t.frameElement),r?((0,u.scaleTarnhelm)(t,e,s,a),(0,p.default)(t)&&setTimeout(1)):c?(0,u.resizeWrapperWithOverflowHidden)(t,s,a):(0,u.scaleWrapperToWidth)(t,s,s,a),t.top&&t.top.Tarnhelm&&(t.top.Tarnhelm.initAdInstance(f(t),t.frameElement,i,n),o&&!t.top.Tarnhelm.pageLoadBound&&(t.top.addEventListener("load",,t.top.Tarnhelm.pageLoadBound=!0)),t.tarnhelm_backup.adState="ad")}},i.showBackupImageTarnhelmResponsiveCallback=function(i,n,t,o,r,s){return function(t){if(i&&i.tarnhelm_backup&&"backup"!==i.tarnhelm_backup.adState){d(i,t);var e=(0,a.getSize)(n,o,r,s);(0,u.scaleIframeToWidth)(i,e.width,e.width,e.height),(0,u.scaleWrapperToWidth)(i,e.width,e.width,e.height),(0,u.centerAd)(i),i.tarnhelm_backup.adState="backup"}}}},{1:1,28:28,31:31,45:45}],53:[function(t,e,i){"use strict";document.getElementsByTagName("html")[0].className+=" scriptsOn"},{}],54:[function(u,t,e){!{1:[{}],2:[function(t,e,i){e.exports=function(t){var e,i;return parent.ad_design&&parent.ad_design.Uatu&&parent.getClickTracker?(e=parent.ad_design.Uatu,window.Tarnhelm.log("Tarnhelm is using its legacyTrackingConsumer. This behavior is deprecated, and should only happen if your creative template is out of date."),(i=e()).addConsumerCallback(function(t,e,i){t&&((new Image).src=parent.getClickTracker(t))}),i.addToTrackingMap(t),i.trackingConsumer):(window.Tarnhelm.log("couldn't find Uatu or getClickTracker. This means NOTHING IS BEING TRACKED."),function(){})}},{}],3:[function(t,e,i){("riot"),n.prototype={off:function(t){this.eventEmitter.off(t)},on:function(t,e){this.eventEmitter.on(t,e)},one:function(t,e){this.eventEmitter.one(t,e)},trigger:function(t){if(t.requirements&&!this.canFire(t))return!1;if(t.isGlobal)window.Tarnhelm.triggerGlobalAction(t);else if(null==t.adName){var e=Math.abs(window.parseInt(t.delay,10)||0);if(e){var i=this;window.setTimeout(e)}else this.eventEmitter.trigger(t.actionName,t)}else window.Tarnhelm.triggerTandemAction(t)},triggerMany:canFire:function(t){return!!this.actionRequirements.areMet(t)||(window.Tarnhelm.log("An action's requirements were not met ::",t.requirements,t),!1)}},e.exports=n},{riot:114}],4:[function(t,e,i){var r=t("../renderer/stores/ad.js"),s=t("./actionHandler.js"),a=t("./eventEmitter.js"),d=t("./externalTriggerHandler.js"),l=t("./linkHandler.js"),c=t("./scrollActionHandler"),u=t("./externalFunctionHandler.js"),h=t("./logHandler.js"),p=t("./videoActionHandler.js"),f=t("./backwardsCompatibilityProcessor.js"),m=t("./checkAdParentCompliance.js"),g=t("./rectProcessor.js"),v=(t("../renderer/stores/retrievers/scale.js"),t("./events/adEvent.js"));e.exports=function(t){var i={};if(t.adData=f.process(t.adData),t.adData.rect&&delete t.adData.rect,i.id=t.adData.id,i.name=t.adData.name,i.domNode=t.domNode,i.containerFrame=t.containerFrame,i.initTime=(new Date).getTime(),i.trackingConsumer="function"==typeof t.trackingConsumer?t.trackingConsumer:null,i.requirementsTester=window.Tarnhelm.getRequirementsTester(),i.actionHandler=new s(new a,i.requirementsTester),t.eventSinks)for(var e=0;e<t.eventSinks.length;e++)t.eventSinks[e].registerAdActionHandler(i.name,i.actionHandler);i.actionHandler.on("resize-ad-container",;var n={adHeight:i.domNode.offsetHeight,adWidth:i.domNode.offsetWidth};function o(t){if(i.containerFrame){var e=g.process(t);g.setElRectStyle(i.containerFrame,e)}}return t.adData.isScalable&&150===n.adHeight&&300===n.adWidth&&window.Tarnhelm.log("Warning: Ad is set to `isScalable`, but its iframe does not have a width dimension set. Ad will be 300px wide on init."),i.adStore=new r(t.adData,i.actionHandler,n),i.linkHandler=new l(t.adData.defaultLink,i.actionHandler),t.adData.externalTriggerActions&&(i.externalTriggerHandler=new d(t.adData.externalTriggerActions,i.actionHandler)),h.listen(i.actionHandler),u.listen(i.actionHandler,i.containerFrame),p.listen(i.actionHandler,i.adStore),i.scrollActionHandler=new c(i.actionHandler),{getId:function(){return i.id},getName:function(){return i.name},getDomNode:function(){return i.domNode},getContainerFrame:function(){return i.containerFrame},getActionHandler:function(){return i.actionHandler},getAdStore:function(){return i.adStore},getInitTime:function(){return i.initTime},getTrackingConsumer:function(){return i.trackingConsumer},timeSinceInit:function(t){return(t=t||(new Date).getTime())-i.initTime},resizeAdContainer:o,minimize:function(){i.actionHandler.trigger({actionName:"minimize-ad"})},maximize:function(){i.actionHandler.trigger({actionName:"maximize-ad"})},initAfterMount:function(){var t=i.adStore.getState();this.initted||(this.initted=!0,o(i.adStore.getState().frameProperties),m.check(this),t.actions&&t.actions.init&&t.actions.init.length&&i.actionHandler.triggerMany(t.actions.init),function(){if(i.adStore.requiresAutoplay()){var t=window.ad_utils&&window.ad_utils.fp?window.ad_utils.fp:void 0;if(t&&t.should_autoplay(i.id)){var e=i.adStore.getFrequencyCappedInitActions();i.actionHandler.triggerMany(e),t.log_autoplay(i.id)}}}(),i.actionHandler.trigger({actionName:v.DISPLAYED}))}}}},{"../renderer/stores/ad.js":68,"../renderer/stores/retrievers/scale.js":78,"./actionHandler.js":3,"./backwardsCompatibilityProcessor.js":5,"./checkAdParentCompliance.js":6,"./eventEmitter.js":9,"./events/adEvent.js":10,"./externalFunctionHandler.js":13,"./externalTriggerHandler.js":14,"./linkHandler.js":17,"./logHandler.js":18,"./rectProcessor.js":22,"./scrollActionHandler":24,"./videoActionHandler.js":28}],5:[function(t,e,i){e.exports={process:function(t){var e="Ad schema not up to date! ["+t.name+"] :: ",i=!!t.rect,n=!!t.frameProperties,o=n&&!!t.frameProperties.rect,r=!1;if(i&&!n){r=!0;var s={width:t.rect.width,height:t.rect.height};t.frameProperties=s}else i||(n&&o?(r=!0,s={width:t.frameProperties.rect.width,height:t.frameProperties.rect.height},t.frameProperties=s):n||o||(window.Tarnhelm.log(e+"Bad dimensions config, please update immediately."),t.frameProperties={width:0,height:0}));return r&&window.Tarnhelm.log(e+"Please update ad's frameProperties and ad.rect schema."),t}}},{}],6:[function(t,e,i){e.exports={check:function(t){var e="Ad ["+t.getAdStore().getState().name+"] may not render properly! ";if(this.hasAdContainerParent(t)){var i=this.getAdContainerParent(t),n=window.getComputedStyle(i),o=new RegExp(/relative|absolute/),r=new RegExp(/(inline\-|)block/);o.test(n.position)||window.Tarnhelm.log(e+' iframe.parentNode must be set to  position "relative" or "absolute".'),"visible"!==n.overflow&&window.Tarnhelm.log(e+"iframe.parentNode is not set to overflow: visible;"),"relative"!==n.position||r.test(n.display)||window.Tarnhelm.log(e+'iframe.parentNode is set to position "relative", so it must also be set to display "block" or "inline-block".'),""===n.width&&window.Tarnhelm.log(e+"iframe.parentNode requires an explicit width."),""===n.height&&window.Tarnhelm.log(e+"iframe.parentNode requires an explicit height.")}else window.Tarnhelm.log(e+"Incorrect context for Tarnhelm iframe: Ad iframe does not have an iframeNode.parentNode");var s=t.getContainerFrame(),a=window.getComputedStyle(s);""===a.top&&""===a.bottom&&""===a.left&&""===a.right&&window.Tarnhelm.log(e+"iframe has no positioning values.")},hasAdContainerParent:getAdContainerParent:},{}],7:[function(t,e,i){var n=t("riot");t("../tarnhelm.js");var o=function(t){var e;e="number"==typeof t?new Date(t):Date.parse(t),isNaN(e)?(window.Tarnhelm.log('Bad date string "'+t+'", setting CountdownTimer to NOW to avoid errors'),this.targetDate=new Date):this.targetDate=new Date(t),n.observable(this),this.tick(),this.start()};o.prototype={getMillisecondsRemaining:function(){var t=this.targetDate.valueOf()-window.Tarnhelm.getNowTime();return 0<t?t:0},start:function(){window.clearInterval(this.interval),this.boundTick=this.tick.bind(this),this.interval=window.setInterval(this.boundTick,1e3)},stop:tick:function(){var t=this.getRemainingValues(this.getMillisecondsRemaining());this.trigger("tick",t),t.totalMs||(this.stop(),this.trigger("end"))},getRemainingValues:function(t){var e={days:0,hours:0,minutes:0,seconds:0,totalMs:0},i=t;return 0===i||(e.totalMs=i,e.days=Math.floor(i/864e5),i-=864e5*e.days,e.hours=Math.floor(i/36e5),i-=36e5*e.hours,e.minutes=Math.floor(i/6e4),i-=6e4*e.minutes,e.seconds=Math.floor(i/1e3)),e}},e.exports=o},{"../tarnhelm.js":81,riot:114}],8:[function(t,e,i){var n=/^http(s)?\:\/\/m\.(.*\.)?imdb\.com/,r=/(Android|OS|Windows Phone) (\d+)[\._](\d+)[\._]?(\d+)?/,s=/Android (\d{2,})/,o=/iP(hone|ad|od)/,a=/Version\/[\d\.]+.*Safari/,d="Chrome/",l=/(Chrome|Safari|MSIE|Firefox)/,c=/(SamsungBrowser|Galaxy Nexus Build|iPhone OS 8|iPhone OS 7)/;.prototype={getInfo:function(){return this.deviceInfo},_calculate:function(){var t=this._isWindowsDevice(this.userAgentString),e=this._isIOSDevice(this.userAgentString),i=this._isAndroidDevice(this.userAgentString),n=t||e||i,o=this._isIMDbApp(this.userAgentString),r=this._isSafari(this.userAgentString),s=this._getMobilePlatformVersion(this.userAgentString,o,i),a=!n||this._hasMobileTransitionTransformSupport(this.userAgentString,o,i,s);this.deviceInfo={isWindowsDevice:t,isSafari:r,isIOSDevice:!t&&e,isAndroidDevice:!t&&i,isMobileDevice:n,isMobileSite:this._isMobileSite(this.url),isIMDbApp:o,hasTouch:this._hasTouch(document),canAutoplay:this._canAutoplay(s,o,i,e,n),canFullscreen:this._canFullscreen(document),mobilePlatformVersion:s,canTransitionTransforms:a}},_isWindowsDevice:function(t){return-1<t.indexOf("Windows Phone")},_isIOSDevice:function(t){return-1<t.search(o)},_isSafari:function(t){return-1<t.search(a)},_isAndroidDevice:function(t){return-1<t.indexOf("Android")},_isMobileSite:_isIMDbApp:_hasTouch:_getChromeVersion:function(t){if(-1!==t.indexOf(d))return parseInt(t.substr(t.indexOf(d)+d.length,2),10);window.Tarnhelm.log("Attempted to get chrome version string of non chrome userAgentString")},_getMobilePlatformVersion:function(t,e,i){var n,o={};return(n=t.match(r))&&0<n.length&&(o.major=parseInt(n[2],10)||0,o.minor=parseInt(n[3],10)||0,o.patch=parseInt(n[4],10)||0),e&&i&&((n=t.match(s))&&0<n.length?o.androidAPI=parseInt(n[1],10)||0:o.androidAPI=0),o},_canAutoplay:function(t,e,i,n,o){return e?i?17<=t.androidAPI||4<=t.major&&!(4===t.major&&t.minor<2):!!(n&&4<=t.major):!o},_canFullscreen:_hasMobileTransitionTransformSupport:function(t,e,i,n){var o=!i&&n.major<9;if(e)return!o;if(c.test(t))return!1;if(l.test(t)){if(-1!==t.indexOf(d)){var r=this._getChromeVersion(t);if(!Number.isNaN(r)&&r<46)return!1}return!0}return!1}},e.exports=u},{}],9:[function(t,e,i){var n=t("riot");e.exports=,{riot:114}],10:[{}],11:[function(t,e,i){var n=t("./tarnhelmEvent.js"),o=t("./adEvent.js"),r=function(t){this.topActionHandler=t,this.registerTopActionHandler();var e=this;this.topActionHandler.on("fireDeferredMetrics",function(){e.fireDeferredMetrics()})},s=[];unction d(t,e){window.premiumAdMetrics&&window.premiumAdMetrics.initCounter?(window.Tarnhelm.log("initializing counter for "+t+"_"+e,Date.now()),window.premiumAdMetrics.initCounter(t,e)):(window.Tarnhelm.log("deferring counter initialization for "+t+"_"+e,Date.now()),a(function(){window.premiumAdMetrics&&"function"==typeof window.premiumAdMetrics.initCounter&&window.premiumAdMetrics.initCounter(t,e)}))}function l(t,e){window.premiumAdMetrics&&window.premiumAdMetrics.recordCounter?(window.Tarnhelm.log("logging counter for "+t+"_"+e,Date.now()),window.premiumAdMetrics.recordCounter(t,e)):(window.Tarnhelm.log("deferring counter for "+t+"_"+e,Date.now()),a()}function c(t,e){var i=window.IMDbTimer?Date.now()-window.IMDbTimer.starttime:-1;-1!==i?window.premiumAdMetrics&&window.premiumAdMetrics.recordLatency?(window.Tarnhelm.log("logging timed event for "+t+"_"+e,Date.now()),window.premiumAdMetrics.recordLatency(t,e,i)):(window.Tarnhelm.log("deferring timed event for "+t+"_"+e,Date.now()),a(function(){window.premiumAdMetrics.recordLatency(t,e,i)})):window.Tarnhelm.log("no timer baseline present to log timed event for "+t+"_"+e,Date.now())}r.prototype={registerTopActionHandler:function(){this.topActionHandler.on(n.READY,function(){c("tarnhelm","start")}),this.topActionHandler.on(n.INIT_FAILURE,function(){c("tarnhelm","initFailure")}),d("creative","abort"),this.topActionHandler.on(n.MPTP_ABORT,function(){l("creative","abort")}),d("tarnhelm","error"),this.topActionHandler.on(n.ERROR,function(){l("tarnhelm","error")}),d("creative","transitionSuccess"),this.topActionHandler.on(n.MPTP_TRANSITION,function(){l("creative","transitionSuccess")}),d("creative","transitionFailure"),this.topActionHandler.on(n.MPTP_TRANSITION_FAILURE,function(){l("creative","transitionFailure")})},registerAdActionHandler:function(t,e){e.on(o.ASSET_PRELOAD_START,function(){c("tarnhelm","preloadStart")}),e.on(o.ASSET_PRELOAD_FINISH,function(){c("tarnhelm","preloadFinish")}),e.on(o.ASSET_PRELOAD_TIMEOUT,function(){c("tarnhelm","preloadTimeout")}),e.on(o.DISPLAYED,function(){c("tarnhelm","creativeDisplayed")}),d("tarnhelm","videoFailure"),e.on(o.VIDEO_FAILURE,,e.on(n.RECORD_LATENCY,function(t){var e,i,n;e="tarnhelm",i=t.metricName,n=t.milliseconds,window.premiumAdMetrics&&window.premiumAdMetrics.recordLatency?(window.Tarnhelm.log("logging pre-calculated latency for "+e+"_"+i,Date.now()),window.premiumAdMetrics.recordLatency(e,i,n)):(window.Tarnhelm.log("deferring pre-calculated latency for "+e+"_"+i,Date.now()),a()})},fireDeferredMetrics:function(){s.forEach(}},e.exports=r},{"./adEvent.js":10,"./tarnhelmEvent.js":12}],12:[{}],13:[function(t,e,i){var n={listen:function(t,e){var i=this,n=e.contentWindow;t.on("call-external-function",},callExternalFunction:function(t,e){var i,n,o=e.data.functionName,r=e.data.arguments||[],s=this.getFunctionContext(t,e);this.isNested(o)?(i=this.getFunctionThisArg(e,s),n=this.getNestedFunction(o,s)):n=(i=s)[o],"function"==typeof n?"object"==typeof i?n.apply(i,r):this.logThisArgErrorMessage(i,e):this.logErrorMessage(n,e)},getFunctionThisArg:function(t,e){var i=t.data.functionName,n=t.data.thisArgName;return n||(n=i.substr(0,i.lastIndexOf("."))),this.nestReduce(n.split("."),e)},getFunctionContext:function(t,e){return"top"===e.data.context?window.top:t},isNested:getNestedFunction:nestReduce:function(t,e){return t.reduce(function(t,e,i,n){if(t)return t[e]},e)},logErrorMessage:function(t,e){var i="";i+=null==t?"Function does not exist":e.data.functionName+" is not a function",this.logError(i,e)},logThisArgErrorMessage:function(t,e){var i="";i+=null==t?"Provided thisArg does not exist":e.data.thisArgName+" is not an object",this.logError(i,e)},logError:function(t,e){t+=' in "'+e.data.context+'" context. ',window.Tarnhelm.log('Failed to call external function "'+e.data.functionName+'".',t)}};e.exports=n},{}],14:[function(t,e,i){e.exports=function(t,e){var i=this;i.actionMap=t,e.on("handle-external-trigger",function(t){t.data.triggerName&&i.actionMap[t.data.triggerName]&&e.triggerMany(i.actionMap[t.data.triggerName])})}},{}],15:[function(t,e,i){var n={throttle:function(i,n){var o,r,s=0,a=null,d=return function(){var t=Date.now(),e=n-(t-s);o=this,r=arguments,e<=0||n<e?(a&&(clearTimeout(a),a=null),s=t,i.apply(o,r)):a||(a=setTimeout(d,e))}},debounce:function(e,i){var n,o,r,s=0,a=null;function d(){var t=Date.now()-s;t<i?a=setTimeout(d,i-t):(a=null,r=e.apply(n,o))}return };e.exports=n},{}],16:[function(t,e,i){e.exports={beforeNode:function(t,e){var i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.parentNode.insertBefore(i,e)}}},{}],17:[function(t,e,i){function n(t,e){var i=this;this.defaultLink=t,(this.actionHandler=e).on("open-link",function(t){i.handleLinkAction(t)}),e.on("open-default-link",function(t){i.defaultLink?i.handleLinkAction(t):window.Tarnhelm.log('No defaultLink for the "open-default-link" action.')})}n.prototype={pauseVideos:handleLinkAction:function(t){var e=this.defaultLink,i=!1;t.data&&(e=t.data.url||e,i=!!t.data.sameWindow),i?window.top.location.href=e:window.open(e)}},e.exports=n},{}],18:[function(t,e,i){e.exports={listen:function(t){t.on("log",}}},{}],19:[function(t,e,i){var n=n.prototype={dimensions:{minimize:40,logHeight:150},init:function(){this.containerEl=this.getContainerEl(),this.logEl=this.getLogEl(),this.containerEl.appendChild(this.logEl),this.minimizeButton=this.getMinimizeButton(),this.containerEl.appendChild(this.minimizeButton),this.injectEl.appendChild(this.containerEl),this.log(" = Tarnhelm - Mobile Debug Mode = ")},log:function(t){Array.isArray(t)||(t=[t]);var e=this.makeLine(t);this.logEl.appendChild(e),this.logEl.scrollTop=this.logEl.scrollHeight},makeLine:function(t){var e=document.createElement("p");e.style.cssText="margin:0 0 0.25em 0; border-bottom: thin solid rgba(255,255,255,0.25);",e.textContent="";for(var i=0;i<t.length;i++){var n=t[i],o="";n?"string"==typeof n?o=n:"function"==typeof n.toString&&(o=n.toString()):o="undefined",i<t.length-1&&(o+=", "),e.textContent+=o}return e},getContainerEl:function(){return this._makeEl("mobile-log-container",["position: fixed","bottom:0","left:0","display: block","width: 100%","overflow: visible","height: "+this.dimensions.logHeight+"px","z-index: 1986",""].join(";"))},getLogEl:function(){return this._makeEl("mobile-log",["position: absolute","top:0","display: block","width: 100%","height: 150px","z-index: 1986","color: rgb(0, 255, 0)","font-family: courier","background-color: rgba(0,0,0,0.8)","overflow: scroll",""].join(";"))},getMinimizeButton:function(){var t=this.dimensions.minimize+"px",e=this._makeEl("mobile-log-minimize-button",["position:absolute","right: 0","top: -"+t,"display: block","background: rgba(0,0,0,0.8)","color: rgb(0, 255, 0)","width:"+t,"height:"+t,"font-size: 24px","line-height: 20px","cursor:pointer","text-align:center"].join(";"));return e.textContent="_",e.onclick=this.minimizeButtonClick.bind(this),e},_makeEl:function(t,e){var i=document.createElement("div");return i.id=t,i.style.cssText=e,i},minimizeButtonClick:minimize:function(){this.isMinimized=!0,this.containerEl.style.height=0,this.minimizeButton.textContent="^"},unminimize:function(){this.isMinimized=!1,this.containerEl.style.height=this.dimensions.logHeight+"px",this.minimizeButton.textContent="_"}},e.exports=n},{}],20:[function(t,e,i){var n={sameSign:function(t,e){return 0<=t&&0<=e||t<=0&&e<=0},avg:function(t){return 0===t.length?0:t.reduce(/t.length},clamp:getEllipseFalloff:function(t,e){var i=this.clamp(t,0,e),n=Math.sqrt(1-Math.pow(i,2)/Math.pow(e,2));return this.clamp(n,0,1)}};e.exports=n},{}],21:[function(t,e,i){e.exports={clone:shallowMerge:shallowMergeMany:function(t,e){for(var i=Object.keys(e),n=0;n<i.length;n++){var o=i[n];t[o]||(t[o]={}),this.shallowMerge(t[o],e[o])}},_doMerge:function(t,e,i){if(!this.isObject(t)||!this.isObject(e))return window.Tarnhelm.log("Object merge operation failed, both params must be objects:"),window.Tarnhelm.log(t),void window.Tarnhelm.log(e);for(var n=Object.keys(e),o=0;o<n.length;o++){var r=n[o];if(i||null==t[r]){var s="object"===e[r]?this.clone(e[r]):e[r];t[r]=s}}},mergeDefaults:function(t,e){var i=this.clone(e);this._doMerge(t,i,!1)},isObject:getProperty:function(t,e){if(t&&e){for(var i=e.split("."),n=t,o=0;o<i.length;o++){if(void 0===n[i[o]])return;n=n[i[o]]}return n}}}},{}],22:[function(t,e,i){var n=t("../renderer/stores/retrievers/scale.js"),o={defaults:{position:"absolute",anchorX:"left",offsetX:0,anchorY:"top",offsetY:0,width:"auto",height:"auto"},setElRectStyle:function(t,e){var i=t.style;["top","right","bottom","left"].forEach(function(t){i.removeProperty(t)}),i.position=e.position,i[e.anchorX]=e.offsetX,i[e.anchorY]=e.offsetY,i.height=e.height,i.width=e.width},process:function(t){var e=t||{};return{position:this.determinePositioning(e.position),anchorX:this.determineAnchorX(e.anchorX),offsetX:this.getDimensionWithUnit(e.offsetX,this.defaults.offsetX),anchorY:this.determineAnchorY(e.anchorY),offsetY:this.getDimensionWithUnit(e.offsetY,this.defaults.offsetY),width:this.getDimensionWithUnit(e.width,this.defaults.width),height:this.getDimensionWithUnit(e.height,this.defaults.height)}},determinePositioning:function(t){return null!=t&&t.match(/absolute|relative|fixed|static|inherit/)?t:this.defaults.position},determineAnchorX:function(t){switch(t){case"right":return"right";case"left":return"left";default:return null!=t&&window.Tarnhelm.log("Bad anchorX position configured."),this.defaults.anchorX}},determineAnchorY:function(t){switch(t){case"bottom":return"bottom";case"top":return"top";default:return null!=t&&window.Tarnhelm.log("Bad anchorY position configured."),this.defaults.anchorY}},getDimensionWithUnit:;e.exports=o},{"../renderer/stores/retrievers/scale.js":78}],23:[function(t,e,i){var n={canAutoplay:1,hasTouch:1,canFullscreen:1},o=o.prototype={areMet:function(t){var e=t.requirements||{},i=Object.keys(e);return 0===i.length||(this.areValidRequirements(i)?this.testRequirements(e):(window.Tarnhelm.log("Invalid requirement(s) found on an item ::",t.requirements," :: Full item :: ",t),!1))},testRequirements:function(t){for(var e=Object.keys(t),i=0;i<e.length;i++){var n=e[i],o=t[n];if(this.requirementFlags[n]!==o)return!1}return!0},buildFlags:areValidRequirements:function(t){for(var e=0;e<t.length;e++)if(!this.isValidRequirement(t[e]))return!1;return!0},isValidRequirement:,e.exports=o},{}],24:[function(t,e,i){e.exports=function(t){var i,n;function o(){0===window.scrollY?(window.cancelAnimationFrame(i),i=null):(window.scrollBy(0,n),i=window.requestAnimationFrame(o))}t.on("jump-to-top",function(t){0<window.scrollY&&(window.scroll(0,0),window.Tarnhelm.log("window jump-to-top requested."))}),t.on("scroll-to-top",function(t){if(0<window.scrollY){window.Tarnhelm.log("window scroll-to-top requested.");var e=t.duration||100;n=-window.scrollY/(e/17),i=window.requestAnimationFrame(o)}})}},{}],25:[function(t,e,i){var n=t("./numberUtils.js"),o=(t("./objectUtils.js"),t("./functionUtils.js")),r=function(t){this.firstPos=this.getPosFromEvent(t),this.handledFirstMove=!1,this.currPos=this.getPosFromEvent(t),this.prevPos=this.getPosFromEvent(t),this.velocity={x:0,y:0},this.totalDistance={x:0,y:0},this.currMoveDistance={x:0,y:0},this.debouncedVelocityDecay=o.debounce(this.velocityDecay.bind(this),50),this.transitionLengthFactor=1,this.touchEnded=!1,this.isTouchTypeDetermined=!1,this.isHorizontalMove=!1,this.isVerticalMove=!1,this.isSwipe=!1};r.prototype={addTouchMoveData:function(t){this.prevPos=this.currPos,this.currPos=this.getPosFromEvent(t),this.currMoveDistance=this.getTouchMoveDifference(this.prevPos,this.currPos),this.totalDistance=this.getNewTotalDistance(this.totalDistance,this.currMoveDistance),this.velocity=this.getNewVelocity(this.velocity,this.currMoveDistance),this.debouncedVelocityDecay(),this.determineTouchType(this.totalDistance,this.velocity)},finalizeTouchDataOnEnd:function(t){this.touchEnded=!0,this.isSwipe=this.touchTestSwipe(this.velocity),this.transitionLengthFactor=this.getTransitionLengthFactor(this.velocity.x)},getPosFromEvent:getTouchMoveDifference:getNewTotalDistance:getNewVelocity:function(t,e){return{x:this._adjustVelocity(t.x,e.x),y:this._adjustVelocity(t.y,e.y)}},getTransitionLengthFactor:function(t){var e=n.getEllipseFalloff(Math.abs(t),100);return n.clamp(e,.2,1)},velocityDecay:function(){this.touchEnded||(this.velocity.x=0,this.velocity.y=0,this.currMoveDistance.x=0,this.currMoveDistance.y=0,this.isSwipe=!1)},_adjustVelocity:function(t,e){var i;return i=n.sameSign(t,e)?t:0,n.avg([i,e])},determineTouchType:function(t,e){this.isSwipe||(this.isSwipe=this.touchTestSwipe(e)),this.isVerticalMove||this.isHorizontalMove||(this.isVerticalMove=this.touchTestVertical(t),this.isVerticalMove?this.isTouchTypeDetermined=!0:(this.isHorizontalMove=this.touchTestHorizontal(t),this.isHorizontalMove&&(this.isTouchTypeDetermined=!0)))},touchTestHorizontal:function(t){return 10<=Math.abs(t.x)},touchTestVertical:touchTestSwipe:,e.exports=r},{"./functionUtils.js":15,"./numberUtils.js":20,"./objectUtils.js":21}],26:[function(t,e,i){var c={opacity:"opacity",translate:"transform",translateX:"transform",translateY:"transform",rotate:"transform",scale:"transform",scaleX:"transform",scaleY:"transform",blur:"filter",brightness:"filter",contrast:"filter",grayscale:"filter",saturate:"filter"},o={filter:["-webkit-filter","-moz-filter","-o-filter"]};e.exports={isValidTransitionType:getTransitionSegment:function(t){return this.getTransitionSegmentForProperty(t,c[t.type])},getPrefixedTransitionSegments:function(t){var e=[];e.push(this.getTransitionSegment(t));for(var i=o[c[t.type]],n=0;n<i.length;n++)e.push(this.getTransitionSegmentForProperty(t,i[n]));return e},getTransitionSegmentForProperty:function(t,e){var i=[];return e&&i.push(e),t.duration&&i.push(t.duration),t.easing&&i.push(t.easing),t.delay&&i.push(t.delay),i.join(" ")},getCSSFunctionSegment:calculateTransitionStyles:function(t){for(var e={start:{},end:{}},i=[],n=[],o=[],r=[],s=[],a=0;a<t.length;a++){var d=t[a];if(this.isValidTransitionType(d.type))switch(c[d.type]){case"transform":n.length||i.push(this.getTransitionSegment(d)),n.push(this.getCSSFunctionSegment(d.type,d.startValue)),o.push(this.getCSSFunctionSegment(d.type,d.endValue));break;case"opacity":e.start[d.type]=d.startValue,e.end[d.type]=d.endValue,i.push(this.getTransitionSegment(d));break;case"filter":if(!r.length){var l=this.getPrefixedTransitionSegments(d);i=i.concat(l)}r.push(this.getCSSFunctionSegment(d.type,d.startValue)),s.push(this.getCSSFunctionSegment(d.type,d.endValue))}}return i.length&&(e.start.transition=i.join(",")),n.length&&(e.start.transform=n.join(" ")),o.length&&(e.end.transform=o.join(" ")),r.length&&(e.start.filter=r.join(" ")),s.length&&(e.end.filter=s.join(" ")),e},getTransitionTime:function(t){var e=parseFloat(t.duration)||0,i=parseFloat(t.delay)||0;return Math.floor(1e3*(e+i))},getMaxTransitionTime:function(t){for(var e=0,i=0;i<t.length;i++){var n=this.getTransitionTime(t[i]);e<n&&(e=n)}return e}}},{}],27:[function(t,e,i){e.exports={getQueryParam:function(t,e){var i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return i?i[1]:""},preloadUrl:function(t,e){var i=new Image;"function"==typeof e&&(i.onload=e),i.src=t},preloadUrls:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)this.preloadUrl(t[e])},preloadUrlsWithCallback:function(t,e){var i,n=0,o=!1;if(t&&t.length){i=window.setTimeout(function(){window.Tarnhelm.log("Only "+n+" of "+t.length+" preloaded before timeout. Preload assets failed to load before the timeout, triggering callback."),s(!0)},3e3);for(var r=0;r<t.length;r++)this.preloadUrl(t[r],a)}else e(!1);unction a(){++n===t.length&&(window.Tarnhelm.log(n+" of "+t.length+" images have preloaded"),window.clearTimeout(i),s(!1))}}}},{}],28:[function(t,e,i){var a=t("../renderer/stores/retrievers/component.js");e.exports={videoActions:["video:play","video:pause","video:reset","video:mute","video:unmute","video:fullscreen","video:normalscreen"],listen:function(n,t){var o=this;n.on(this.videoActions.join(" "),;var r=t.getComponentLibrary(),s=t.getComponentNamesByCategory("video"),e=this.videoActions.map(function(t){return t+"-all:under-ancestor"});n.on(e.join(" "),function(t,e){var i="video:"+t.split(":")[1].split("-")[0];o.triggerVideoActionUnderAncestor(n,i,e.ancestorName,r,s)})},triggerVideoAction:function(t,e,i){var n=e+":"+i;t.trigger({actionName:n})},triggerVideoActionUnderAncestor:function(t,e,i,n,o){if(i)for(var r=0;r<o.length;r++){var s=o[r];a.hasAncestorOfName(s,i,n)&&this.triggerVideoAction(t,e,s)}else window.Tarnhelm.log(e+"-all:under-ancestor actions require ancestorName property.")}}},{"../renderer/stores/retrievers/component.js":74}],29:[function(t,e,i){e.exports=function(r,t){r=r;var s,e=this;this.setWrap=function(t){var e;s||((e=document.getElementById(r))||window.Tarnhelm.log("Invalid element id set on wrapSwapper."),s=e);var i,n,o=(n="",(i=t).source&&(n+="url("+i.source+") ",n+=i.position?i.position+" ":"center top ",n+=i.repeat?i.repeat+" ":"no-repeat ",n+=i.attachment?i.attachment+" ":"scroll "),n+=i.color);s.style.background=o},t.on("set-wrap-background",}},{}],30:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){n("./mixins/action.js"),n("./mixins/action-user.js"),n("./mixins/action-touch.js"),n("./mixins/action-swipe.js"),n("./mixins/action-transitions.js"),n("./mixins/action-cuepoint.js"),n("./mixins/background.js"),n("./mixins/base.js"),n("./mixins/media-interop.js"),n("./mixins/rect.js"),n("./mixins/resize.js"),n("./mixins/rotator.js"),n("./mixins/styles.js"),n("./mixins/teardown.js"),n("./mixins/transitions.js"),n("./mixins/video.js"),n("./mixins/weblab.js"),n("./mixins/zoolander.js"),n("./components/ad.tag"),t.tag("app",'<ad data="{adData}"></ad>','class="app"',function(t){this._adInstance=this.opts.adInstance,this.adData=this._adInstance.getAdStore().getState();var e=this;this._adInstance.getActionHandler().on("ad-state-updated",function(){e.adData=e._adInstance.getAdStore().getState(),e.update()})})})},{"./components/ad.tag":31,"./mixins/action-cuepoint.js":49,"./mixins/action-swipe.js":50,"./mixins/action-touch.js":51,"./mixins/action-transitions.js":52,"./mixins/action-user.js":53,"./mixins/action.js":54,"./mixins/background.js":55,"./mixins/base.js":56,"./mixins/media-interop.js":57,"./mixins/rect.js":58,"./mixins/resize.js":59,"./mixins/rotator.js":60,"./mixins/styles.js":61,"./mixins/teardown.js":62,"./mixins/transitions.js":63,"./mixins/video.js":64,"./mixins/weblab.js":65,"./mixins/zoolander.js":66,riot:114}],31:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){n("./child.tag"),t.tag("ad",'<div riot-style="{getTagStyleString()}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div>','class="ad"',})},{"./child.tag":34,riot:114}],32:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("alphalfa",'<div class="alphalfa" riot-style="{getTagStyleString()}"><video __autoplay="{this.shouldItAutoplay()}" webkit-playsinline playsinline style="display:none;" muted="true"><source riot-src="{this.opts.data.video.url}"></video><canvas class="alphalfa-buffer" style="display:none;" height="{this.opts.data.rect.height * 2}px" width="{this.opts.data.rect.width}px"></canvas><canvas class="alphalfa-output" height="{this.opts.data.rect.height}px" width="{this.opts.data.rect.width}px"></canvas></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("teardown"),this.mixin("video"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions");var e=this;this.addLoopConfig=function(t){var e=this.opts.data.video,i=e.loop;return!0===i&&(t.loop=i,null!=e.maxLoops&&(t.maxLoops=e.maxLoops)),t},this.addStillFrame=function(t){var e=this.opts.data.video;return null!=e.stillFrameMS?t.stillFrameMS=e.stillFrameMS:!0===e.loop&&0!==e.maxLoops&&window.Tarnhelm.log("Warning: No stillFrameMS set on a non-infinitely looping Alphalfa. It will disappear after its last loop."),t},this.addMaskUrl=function(t){var e=this.opts.data.video;return null!=e.maskUrl&&(t.maskUrl=e.maskUrl),t},this.initAlphalfa=function(){var t=this.getVideoEl();if(t&&"function"==typeof t.play){this.opts.data.isInvisible&&(t.autoplay=""),this.bufferEl=this.root.getElementsByTagName("canvas")[0],this.outputEl=this.root.getElementsByTagName("canvas")[1];var e={video:t,buffer:this.bufferEl,output:this.outputEl,colorCorrect:!!this.opts.data.video.colorCorrect,forceCanvas:!!this.opts.data.video.forceCanvas,horizontalStack:!!this.opts.data.video.horizontalStack};e=this.addLoopConfig(e),e=this.addStillFrame(e),e=this.addMaskUrl(e),this.alphalfaPlayer=new ad_design.AlphalfaPlayer(e),this.alphalfaPlayer.listen(),this.shouldItAutoplay()&&this.doAutoplay(t)}},this.initCuepointEngine=function(){var t=this.getVideoEl();t&&(this.cuepointEngine=new ad_design.CuepointEngine({media:t,cuepoints:this.getCuePoints(),observer:this}))},this.play=function(){var t=e.getVideoEl();t&&"function"==typeof t.play&&t.play()},this.pause=function(){var t=e.getVideoEl();t&&"function"==typeof t.pause&&t.pause()},this.mute=function(){window.Tarnhelm.log("Alphalfa does not support mute and unmute actions.")},this.unmute=this.mute,this.reset=function(){var t=e.getVideoEl();t&&"number"==typeof t.currentTime&&(t.currentTime=0)},this.fullscreen=function(){window.Tarnhelm.log("Alphalfa does not support fullscreen and normalscreen actions.")},this.normalscreen=this.fullscreen,this.on("mount",function(){this.setVideoEl(this.root.getElementsByTagName("video")[0]),this.initAlphalfa(),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","alphalfa"),this.alphalfaPlayer.teardown(),this.cuepointEngine.destroy()})})})},{riot:114}],33:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("animaniac",'<div class="animaniac" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"></div>',function(t){var e=n("../../modules/objectUtils.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions"),this.initted=!1,this.createAnimation=function(){var t=e.clone(this.opts.data.animaniacOptions);t.injectEl=this.root.getElementsByClassName("animaniac")[0],t.url=this.opts.data.source,t.spriteHeight=this.opts.data.rect.height,t.spriteWidth=this.opts.data.rect.width,t.sheetHeight=this.opts.data.spriteSheetDimensions.height,t.sheetWidth=this.opts.data.spriteSheetDimensions.width,this.animaniac=new ad_design.Animaniac(t),this.initted=!0},this.addActionListeners=function(){var e=this,t=this.getAdInstance().getActionHandler();t.on("animaniac:play",function(t){e.canTriggerAction(t.componentName)&&e.animaniac.play()}),t.on("animaniac:pause",function(t){e.canTriggerAction(t.componentName)&&e.animaniac.pause()}),t.on("animaniac:play-animation",function(t){e.canTriggerAction(t.componentName)&&e.animaniac.playAnimation(t.data.animationName)})},this.destroyAnimation=function(){this.animaniac.pause(),this.initted=!1,this.animaniac=null},this.canTriggerAction=function(t){return this.initted&&t===this.opts.data.name},this.on("mount",function(){this.createAnimation(),this.addActionListeners()}),this.on("unmount",function(){this.destroyAnimation()})})})},{"../../modules/objectUtils.js":21,riot:114}],34:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){n("./alphalfa.tag"),n("./animaniac.tag"),n("./countdown.tag"),n("./countdown-number-text.tag"),n("./countdown-number-custom.tag"),n("./countdowner.tag"),n("./gallery.tag"),n("./graphic.tag"),n("./panel.tag"),n("./minimal-video.tag"),n("./reely.tag"),n("./rotator.tag"),n("./rotatorbutton.tag"),n("./slider-rotator.tag"),n("./youtube.tag"),t.tag("child",'<alphalfa each="{this.getType(\'alphalfa\')}" data="{data}"></alphalfa><animaniac each="{this.getType(\'animaniac\')}" data="{data}"></animaniac><countdown each="{this.getType(\'countdown\')}" data="{data}"></countdown><countdown-number-text each="{this.getType(\'countdown-number-text\')}" data="{data}"></countdown-number-text><countdown-number-custom each="{this.getType(\'countdown-number-custom\')}" data="{data}"></countdown-number-custom><countdowner each="{this.getType(\'countdowner\')}" data="{data}"></countdowner><gallery each="{this.getType(\'gallery\')}" data="{data}"></gallery><graphic each="{this.getType(\'graphic\')}" data="{data}"></graphic><panel each="{this.getType(\'panel\')}" data="{data}"></panel><reely each="{this.getType(\'reely\')}" data="{data}"></reely><minimal-video each="{this.getType(\'minimal-video\')}" data="{data}"></minimal-video><rotator each="{this.getType(\'rotator\')}" data="{data}"></rotator><rotatorbutton each="{this.getType(\'rotatorbutton\')}" data="{data}"></rotatorbutton><slider-rotator each="{this.getType(\'slider-rotator\')}" data="{data}"></slider-rotator><youtube each="{this.getType(\'youtube\')}" data="{data}"></youtube>','data-comp-name="{ this.opts.name }"',function(t){this.mixin("base");var e=this;if(this.opts.name){var i=this.getAdInstance().getAdStore();this.componentData=i.getComponentState(this.opts.name),this.on("update",function(){this.componentData=i.getComponentState(e.opts.name)})}this.getType=function(t){var e=[];return this.componentData&&this.componentData.type===t&&!this.componentData.isHidden&&e.push({data:this.componentData}),e};var o=["mount","unmount","premount","update","updated","init"];this.on("all",function(t){if(t&&-1===o.indexOf(t))for(var e in this.tags)for(var i=0,n=this.tags[e].length;i<n;i++)this.tags[e][i].trigger.apply(this.tags[e][i],arguments)})})})},{"./alphalfa.tag":32,"./animaniac.tag":33,"./countdown-number-custom.tag":35,"./countdown-number-text.tag":36,"./countdown.tag":37,"./countdowner.tag":38,"./gallery.tag":39,"./graphic.tag":40,"./minimal-video.tag":41,"./panel.tag":42,"./reely.tag":43,"./rotator.tag":44,"./rotatorbutton.tag":45,"./slider-rotator.tag":46,"./youtube.tag":47,riot:114}],35:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("countdown-number-custom",'<div class="countdown-number-custom countdown-number-custom-{this.opts.data.timeUnit}" riot-style="{getTagStyleString()}"></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.frames=[],this.options={},this.createFrames=function(){for(var t=0;t<this.options.sheetHeight;t+=this.options.frameHeight)for(var e=0;e<this.options.sheetWidth;e+=this.options.frameWidth)this.frames.push(-e+"px "+-t+"px ")},this.createOptions=function(){this.options.frameHeight=this.opts.data.rect.height,this.options.frameWidth=this.opts.data.rect.width,this.options.sheetHeight=11*this.options.frameHeight,this.options.sheetWidth=10*this.options.frameWidth,this.options.source=this.opts.data.spritesheet.url||"https://m.media-amazon.com/images/G/01/IMDb/design/tarnhelm/countdown-number-custom/countdown.png",this.options.date=this.opts.data.targetDate||"Thu, 01 Jan 1970 00:00:00 +0000"},this.getDisplayIndex=function(){var t=this.opts.data.remaining[this.opts.data.timeUnit]+10;return!this.opts.data.padZeros&&this.opts.data.remaining[this.opts.data.timeUnit]<=9&&(t=this.opts.data.remaining[this.opts.data.timeUnit]),t},this.setFrame=function(t,e){var i=t||e?"-"+(t||0)+"px -"+(e||0)+"px":this.frames[this.getDisplayIndex()];this.addStyleRule("background","url("+this.options.source+") "+i+" / 1000% 1100% no-repeat")},this.on("mount",function(){this.createOptions(),this.setFrame(0,this.options.frameHeight),this.createFrames()}),this.on("update",function(){this.setFrame()})})})},{riot:114}],36:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("countdown-number-text",'<div class="countdown-number-text countdown-number-text-{this.opts.data.timeUnit}" riot-style="{getTagStyleString()}"> {getDisplayValue()} </div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.updateTextStyle=this.pad=this.getDisplayValue=function(){var t=this.opts.data.remaining[this.opts.data.timeUnit];return this.opts.data.padZeros&&(t=this.pad(t)),t},this.on("update",this.updateTextStyle)})})},{riot:114}],37:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("countdown",'<div class="countdown" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><div if="{this.opts.data.remaining.totalMs || this.opts.data.showAfterEnd}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.triggerBackgroundState=function(){this.opts.data.remaining.totalMs||this.opts.data.useAlternateBackground||!this.opts.data.alternateBackground||this.getAdInstance().getActionHandler().trigger({actionName:"set-alternate-background",componentName:this.opts.data.name})},this.on("update",function(){this.triggerBackgroundState(),this.setBackground()})})})},{riot:114}],38:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("countdowner",'<div id="{this.opts.data.name}" class="countdowner th-countdown" riot-style="{getTagStyleString()}"><div class="th-countdown-inject" id="{\'th-countdown-\' + this.opts.data.name}"></div></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("zoolander"),this.initCountdowner=function(){for(var t=this.root.getElementsByClassName("th-countdown-inject")[0],e=this.getAdIframeZoolander(),i={el:t,targetDate:new Date(this.opts.data.targetDate),zoolander:e},n=["splitChar","hideAfterRelease","periodContainerCss","periodCountCss","doPad","printLabels","labelsBelow","labels","labelsCss"],o=0;o<n.length;o++)null!=this.opts.data[n[o]]&&(i[n[o]]=this.opts.data[n[o]]);new window.ad_design.Countdowner(i)},this.on("mount",})})},{riot:114}],39:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){n("./graphic.tag"),t.tag("gallery",'<div class="gallery th-gallery-parent" riot-style="{getTagStyleString()}"><graphic each="{name, i in this.opts.data.imageUrls}" data="{parent.getPhotoData(i)}" class="th-gallery-image {currentIndex === i ? \'active\' : \'\'}"></graphic><graphic class="th-gallery-arrow prev" data="{this.opts.data.arrowGraphics.previous}"></graphic><graphic class="th-gallery-arrow next" data="{this.opts.data.arrowGraphics.next}"></graphic></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("background"),this.mixin("rect"),this.mixin("action"),this.mixin("action-swipe"),this.mixin("action-transitions");var e=this;this.currentIndex=0,this.maxIndex=this.opts.data.imageUrls.length-1,this.prevButton=null,this.nextButton=null,this.getPhotoData=function(t){return{name:this.opts.data.name+t,source:this.opts.data.imageUrls[t],rect:{anchorX:"right",anchorY:"top",offsetX:0,offsetY:0,height:this.opts.data.rect.height,width:this.opts.data.rect.width}}},this.on("swipeleft",function(){this.incrementIndex(),this.emitTrackingObject("intent","swipeLeft")}),this.on("swiperight",function(){this.decrementIndex(),this.emitTrackingObject("intent","swipeRight")}),this.incrementIndex=function(){e.currentIndex++,e.currentIndex>e.maxIndex&&(e.currentIndex=0),e.update()},this.decrementIndex=function(){e.currentIndex--,e.currentIndex<0&&(e.currentIndex=e.maxIndex),e.update()},this.onPrevClick=function(){this.emitTrackingObject("click","clickPrev"),this.decrementIndex()},this.onNextClick=this.on("mount",function(){this.attachTouchActions(),this.prevButton=e.root.getElementsByClassName("prev")[0],this.nextButton=e.root.getElementsByClassName("next")[0],this.prevButton.addEventListener("click",e.onPrevClick),this.nextButton.addEventListener("click",e.onNextClick)}),this.on("unmount",function(){this.detachTouchActions(),this.prevButton.removeEventListener("click",e.onPrevClick),this.nextButton.removeEventListener("click",e.onNextClick)})})})},{"./graphic.tag":40,riot:114}],40:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("graphic",'<div if="{!this.isDisabledNavigationComponent()}" class="graphic" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><img if="{this.opts.data.source}" riot-src="{this.opts.data.source}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}"><img if="{this.opts.data.fullAdHoverSource}" riot-src="{this.opts.data.fullAdHoverSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}" class="ad-hover"><img if="{this.opts.data.hoverSource}" riot-src="{this.opts.data.hoverSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}" class="hover"></div><div if="{this.isDisabledNavigationComponent()}" class="graphic disabled" riot-style="{getTagStyleString()}"><img if="{this.opts.data.disabledSource}" riot-src="{this.opts.data.disabledSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}"></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions")})})},{riot:114}],41:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("minimal-video",'<div riot-style="{getTagStyleString()}" class="minimal-video"><video webkit-playsinline playsinline muted="true" __autoplay="{this.shouldItAutoplay()}"><source riot-src="{this.opts.data.video.url}"></video></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("teardown"),this.mixin("video"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions"),this.log=this.mixin("weblab"),this.mixin("media-interop");var e=this;this.setupVideoAttributes=function(){var t=this.opts.data.video,e=this.getVideoEl();e&&"function"==typeof e.play&&(!1===t.autoplay||t.canplaythroughRequired||(this.shouldObeyMediaInteroperability()||(e.autoplay=!0),this.doAutoplay(e)),t.canplaythroughRequired&&e.addEventListener("canplaythrough",,t.loop&&(e.loop=!0))},this.play=function(){var t=e.getVideoEl();t&&"function"==typeof t.play&&e.requestPlayback({userInitiated:!1})},this.pause=function(){var t=e.getVideoEl();t&&"function"==typeof t.pause&&(t.pause(),e.setMediaPaused())},this.mute=function(){var t=e.getVideoEl();t&&"boolean"==typeof t.muted&&(t.muted=!0)},this.unmute=function(){var t=e.getVideoEl();t&&"boolean"==typeof t.muted&&(t.muted=!1)},this.reset=function(){var t=e.getVideoEl();t&&"number"==typeof t.currentTime&&(t.currentTime=0)},this.fullscreen=this.normalscreen=this.fullscreen,this.minimalVideoListen=function(){var t=this.getVideoEl();t&&"function"==typeof t.addEventListener&&t.addEventListener("play",this.makeVisible)},this.minimalVideoTeardown=function(){var t=this.getVideoEl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("play",this.makeVisible)},this.initCuepointEngine=function(){var t=e.getVideoEl();t&&(this.cuepointEngine=new ad_design.CuepointEngine({media:t,cuepoints:this.getCuePoints(),observer:this}))},this.on("mount",function(){this.makeInvisible(),this.setVideoEl(this.root.getElementsByTagName("video")[0]),this.setupVideoAttributes(),this.minimalVideoListen(),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","minimal-video"),this.setMediaEnded(),this.minimalVideoTeardown(),this.cuepointEngine.destroy()})})})},{riot:114}],42:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("panel",'<div class="panel" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions")})})},{riot:114}],43:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("reely",'<div id="{this.opts.data.name}" riot-style="{getTagStyleString()}" class="reely-inject-el"></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("teardown"),this.mixin("video"),this.mixin("zoolander"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions");var e=this,i=window.Tarnhelm.getDeviceInfo().isMobileDevice?40:20;this.determineControlBarConfig=function(t){if(!t)return{};for(var e=Object.keys(t),i={},n=0;n<e.length;n++){var o=e[n];i[o]=t[o]}return i},this.getButtonSize=this.determineSpritesheetsConfig=function(t){var e={buttonSize:this.getButtonSize(t)};return t&&t.png&&(e.png=t.png),e},this.initReely=function(){var t=this.opts.data,e=this.root.getElementsByClassName("reely-inject-el")[0],i=this.getAdIframeZoolander(),n=this.determineControlBarConfig(t.controls),o=this.determineSpritesheetsConfig(t.spritesheets),r=this.determineSpritesheetsConfig(t.overlaySpritesheets),s=this.getAdInstance()&&this.getAdInstance().getContainerFrame();this.reelyPlayer=new ad_design.Reely({injectEl:e,src:this.opts.data.video.url,zoolander:i,slate:this.opts.data.video.slate||"",autoplay:this.opts.data.video.autoplay||!1,autosound:this.opts.data.video.autosound||!1,controlBar:n,spritesheets:o,overlaySpritesheets:r,iframeId:s?s.id:"",playsInline:void 0===this.opts.data.video.playsInline||this.opts.data.video.playsInline,fullscreen:this.opts.data.video.fullscreen||!1})},this.initCuepointEngine=function(){this.cuepointEngine=new ad_design.CuepointEngine({media:this.reelyPlayer.videoEl,cuepoints:this.getCuePoints(),observer:this})},this.play=function(){e.reelyPlayer.play()},this.pause=function(){e.reelyPlayer.pause()},this.mute=function(){e.reelyPlayer.mute()},this.unmute=function(){e.reelyPlayer.unmute()},this.reset=function(){e.reelyPlayer.reset()},this.fullscreen=function(){e.reelyPlayer.fullscreenMode()},this.normalscreen=function(){e.reelyPlayer.normalScreenMode()},this.on("mount",function(){this.initReely(),this.setVideoEl(this.reelyPlayer.videoEl),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","reely"),this.reelyPlayer.teardown(),this.cuepointEngine.destroy()})})})},{riot:114}],44:[function(o,n,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==n&&void 0!==n.exports){var i=o("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("rotator",'<div class="rotator" riot-style="{getTagStyleString()}"><child name="{activeChildName}"></child></div>',function(t){var e=o("../stores/delegators/wrap.js"),i=o("../stores/retrievers/rotator.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("rotator"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-transitions");var n=this.getAdInstance().getAdStore();this.activeChildName=this.opts.data.childNames[this.opts.data.activeIndex],this.setActiveChildName=function(){var t=this.opts.data.childNames[this.opts.data.activeIndex];if(t!==this.activeChildName){var e=this;this.activeChildName=void 0,window.setTimeout(1)}},this.on("update",this.setActiveChildName),this.hasWrapConfig=this.updateWrap=function(){this.hasWrapConfig()&&e.triggerRotatorWrapSwap(this.opts.data,n.getState())},this.resizeAdContainer=function(){if("expander"===this.opts.data.name){var t=window.Tarnhelm.getAd(n.getAdId()),e=i.getActiveChildComponent(this.opts.data,n.getComponentLibrary());t.resizeAdContainer(e.rect)}},this.on("update",this.updateWrap),this.on("update",this.resizeAdContainer)})})},{"../stores/delegators/wrap.js":71,"../stores/retrievers/rotator.js":77,riot:114}],45:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){n("./graphic.tag"),t.tag("rotatorbutton",'<div class="rotatorbutton" riot-style="{getTagStyleString()}" onclick="{handleClickAndRotatorbuttonClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><graphic data="{graphicData}"></graphic></div>',function(t){var n=this;this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions"),this.handleRotatorbuttonClick=function(t){if(!this.isActive()){var e=n.opts.data;if(e.rotatorName){var i={actionName:"route",data:{rotatorConfigs:[{name:e.rotatorName,index:e.rotatorIndex}]}};e.rotatorConfigs&&e.rotatorConfigs.length&&(i.data.rotatorConfigs=i.data.rotatorConfigs.concat(e.rotatorConfigs)),i.data.showComponents=e.showComponents,i.data.hideComponents=e.hideComponents,this.getAdInstance().getActionHandler().trigger(i)}}},this.handleClickAndRotatorbuttonClick=function(t){this.handleClick(t),this.handleRotatorbuttonClick(t),this.hasAction("click")||this.emitTrackingObject("click","click")},this.getGraphicData=function(){var t=this.opts.data,e={description:t.description,source:t.source,hoverSource:t.hoverSource,fullAdHoverSource:t.fullAdHoverSource,disabledSource:t.disabledSource,rect:{anchorX:"left",anchorY:"top",offsetX:0,offsetY:0,height:t.rect.height,width:t.rect.width}};return this.isActive()&&(e.source=t.activeSource),e},this.isActive=function(){var t=this.getAdInstance().getAdStore().getComponentState(this.opts.data.rotatorName);return t&&this.opts.data.rotatorIndex===t.activeIndex},this.setCursor=function(){this.isActive()?this.removeStyleRule("cursor"):this.addStyleRule("cursor","pointer")},this.setState=this.setState(),this.on("update",function(){this.setState()})})})},{"./graphic.tag":40,riot:114}],46:[function(l,n,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==n&&void 0!==n.exports){var i=l("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("slider-rotator",'<div class="slider-rotator" riot-style="{getTagStyleString()}"><div class="slide-offset js-offset" riot-style="{getSlideOffsetInitialStyle()}"><div each="{name, i in opts.data.childNames}" class="slide"><child name="{name}"></child></div></div><graphic class="th-slider-arrow prev" if="{this.shouldShowArrowPrev()}" data="{this.opts.data.arrowGraphics.previous}" onclick="{this.onPrevClick}"></graphic><graphic class="th-slider-arrow next" if="{this.shouldShowArrowNext()}" data="{this.opts.data.arrowGraphics.next}" onclick="{this.onNextClick}"></graphic></div>',function(t){var o=l("../../modules/numberUtils.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("rotator"),this.mixin("action"),this.mixin("action-transitions"),this.mixin("action-touch"),this.resting=!0,this.on("indexChanged",,this.handleIndexChanged=function(){var t={actionName:"video:pause-all:under-ancestor",ancestorName:this.opts.data.name};this.triggerActions([t])};var e,r,s,a,i,d,n=window.Tarnhelm.getDeviceInfo().canTransitionTransforms;n||window.Tarnhelm.log("Slider NOT supporting touch actions; We've determined that we cannot transition transforms."),this.addStyleRule("overflow","hidden"),this.addStyleRule("white-space","nowrap"),this.getRestingStateOffset=function(){return this.opts.data.activeIndex*this.opts.data.rect.width*-1},this.getSliderStateData=function(){return{activeIndex:this.opts.data.activeIndex,slideWidth:this.opts.data.rect.width,restingOffset:this.getRestingStateOffset()}},this.getTransitionString=function(t){return"transform "+t+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)"},this.getOffsetString=function(t){return"translate3d("+t+"px,0,0)"},this.getMaxOffset=function(t,e){return this.isAtBeginning()?t+.35*e:t+e},this.getMinOffset=function(t,e){return this.isAtEnd()?t-.35*e:t-e},this.isAtBeginning=this.isAtEnd=function(){var t=this.opts.data.childNames.length-1;return this.opts.data.activeIndex===t},this.setOffsetDivStyle=function(t,e){var i=this.root.getElementsByClassName("js-offset")[0];this.setOffsetDivTransition(e,i),i.style.transform=this.getOffsetString(t)},this.setOffsetDivTransition=function(t,e){(e||this.root.getElementsByClassName("js-offset")[0]).style.transition=null==t?"none":this.getTransitionString(t)},this.currAnimProps=null,this.sliderHandleTouchStart=function(t){clearTimeout(this.slideCompleteTimeout),this.setOffsetDivTransition(null);var e=this.getSliderStateData();this.currAnimProps={hasMovedOffset:!1,currTouchStartOffset:this.parseCurrentOffset(),maxPan:this.getMaxOffset(e.restingOffset,e.slideWidth),minPan:this.getMinOffset(e.restingOffset,e.slideWidth)},this.startVisibleLoop(),this.emitTrackingObject("intent","touchStart")},this.sliderHandleTouchMove=function(t){var e=this.currAnimProps;if(t&&!t.isVerticalMove){e.hasMovedOffset=!0,this.getSliderStateData();var i=t.totalDistance.x,n=e.currTouchStartOffset+i;n=o.clamp(n,e.minPan,e.maxPan),this.setOffsetDivStyle(n,null)}else e&&e.hasMovedOffset&&(this.returnToResting(),this.currAnimProps=null)},this.sliderHandleTouchEnd=function(t){if(this.currAnimProps=null,t&&!t.isVerticalMove){this.emitTrackingObject("intent","touchEnd");var e=this.getSliderStateData(),i=this.parseCurrentOffset(),n=this.getOffsetFromResting(e,i),o=0!==t.velocity.x,r=n<0,s=t.velocity.x<0;if(o&&r!==s)this.returnToResting();else{var a=r,d=this.testNeedsIndexChange(e,t),l=a&&this.isAtEnd()||!a&&this.isAtBeginning();if(d&&!l)return this.doSlideChange(t,e,a),void this.emitTrackingObject("intent","swipe"+(a?"Left":"Right"));this.returnToResting()}}},this.doSlideChange=function(t,e,i){var n=i?-1*e.slideWidth:e.slideWidth,o=e.restingOffset+n,r=.85*t.transitionLengthFactor,s=this.determineTransitionLength(o,r);this.setOffsetDivStyle(o,s);var a=i?this.incrementIndex:this.decrementIndex;this.callIndexChangeAfterTransition(a.bind(this),s)},this.callIndexChangeAfterTransition=function(t,e){clearTimeout(this.slideCompleteTimeout),e?this.slideCompleteTimeout=setTimeout(t,1e3*e):(t(),this.stopVisibleLoop()),t=null},this.testNeedsIndexChange=function(t,e){var i=!1;if(i=15<Math.abs(e.velocity.x))return i;var n=this.parseCurrentOffset();return.4*t.slideWidth<Math.abs(this.getOffsetFromResting(t,n))},this.getOffsetFromResting=this.returnToResting=function(){var t=this.getRestingStateOffset(),e=this.determineTransitionLength(t,1.5);this.setOffsetDivStyle(t,e),this.startVisibleLoop()},this.parseCurrentOffset=function(){var t=this.root.getElementsByClassName("js-offset")[0];if(!t||!t.style||!t.style.transform)return this.getRestingStateOffset();var e=t.style.transform.split("translate3d(")[1].split(",")[0];return parseInt(e,10)},this.determineTransitionLength=function(t,e){var i=this.getSliderStateData(),n=this.parseCurrentOffset(),o=e||.85,r=Math.abs(n-t)/i.slideWidth;return r<1&&(o*=r),o},this.getSlideOffsetInitialStyle=function(){var t=this.getSliderStateData().restingOffset,e=this.determineTransitionLength(t),i={height:this.opts.data.rect.height+"px"};return n?(i.transition=this.getTransitionString(e),i.transform=this.getOffsetString(t)):(i.transition=this.getNonTranslateTransitionString(.85),i.left=this.getNonTranslateOffsetString(t)),this.cssStringFromCSSObject(i)},n&&(this.addTouchStartHandler(this.sliderHandleTouchStart),this.addTouchMoveHandler(this.sliderHandleTouchMove),this.addTouchEndHandler(this.sliderHandleTouchEnd)),this.shouldShowArrowPrev=function(){return this.opts.data.arrowGraphics&&this.opts.data.arrowGraphics.previous&&!this.isAtBeginning()},this.shouldShowArrowNext=function(){return this.opts.data.arrowGraphics&&this.opts.data.arrowGraphics.next&&!this.isAtEnd()},this.manualUpdateNonTranslateOffsetDiv=this.getNonTranslateTransitionString=this.getNonTranslateOffsetString=function(t){return t+"px"},this.on("update",function(){if(!n){var t=this.root.getElementsByClassName("js-offset")[0];if(!t)return;this.manualUpdateNonTranslateOffsetDiv(this.getRestingStateOffset(),t)}}),this.onPrevClick=function(){this.decrementIndex(),this.emitTrackingObject("click","clickPrev")},this.onNextClick=this.on("mount",function(){this.root.getElementsByClassName("js-offset")[0].addEventListener("transitionend",function(t){this.stopVisibleLoop()}.bind(this)),e=this.opts.data.activeIndex,r=[e],s=this.root.getElementsByClassName("slide"),a=this.root.children[0],this.tags.child&&this.tags.child[e]?(this.tags.child[e].trigger("slideMoveIn"),this.tags.child[e].trigger("slideActivated")):this.tags.child&&this.tags.child.trigger("slideActivated")}),this.on("unmount",function(){this.stopVisibleLoop()}),this.determineVisibleSlides=function(){var t,e=[],i=a.getBoundingClientRect(),n=s.length;for(t=0;t<n;t++){var o=s[t].getBoundingClientRect();if(o.left<i.right&&o.right>i.left)e.push(t);else if(o.left>i.right)break}return e},this.startVisibleLoop=function(){this.resting&&(this.resting=!1,d())},this.stopVisibleLoop=i=function(){isNaN(e)||e===this.opts.data.activeIndex||(this.tags.child[e].trigger("slideDeactivated"),this.tags.child[this.opts.data.activeIndex].trigger("slideActivated"),e=this.opts.data.activeIndex)}.bind(this),d=function(){var t,e=this.determineVisibleSlides(),i=Math.min(e[0],r[0]),n=Math.max(e[e.length-1],r[r.length-1]);for(t=i;t<=n;t++)-1===e.indexOf(t)&&-1!==r.indexOf(t)?this.tags.child[t].trigger("slideMoveOut"):-1!==e.indexOf(t)&&-1===r.indexOf(t)&&this.tags.child[t].trigger("slideMoveIn");r=e,this.resting||requestAnimationFrame(d)}.bind(this)})})},{"../../modules/numberUtils.js":20,riot:114}],47:[function(n,o,t){!function(t,e){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(t){e(t)});else if(void 0!==o&&void 0!==o.exports){var i=n("riot");e(i)}else e(t.riot)}(this,function(t){t.tag("youtube",'<div class="youtube" riot-style="{getTagStyleString()}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><div class="youtube_injection"></div></div>',function(t){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("video"),this.mixin("resize"),this.firstStart=!0,this.actionHandler=this.getAdInstance().getActionHandler();var e=this;this.loadYoutubeAPI=function(){window.onYouTubeIframeAPIReady=var t="tarnhelm_yt_script",e=document.getElementById(t);if(!e){(e=document.createElement("script")).id=t,e.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}},this.getAutoplayValue=function(){return e.opts.data.video.autoplay?1:0},this.initYoutubePlayer=function(){e.player=new YT.Player(e.root.firstChild.firstChild,{height:e.opts.data.rect.height,width:e.opts.data.rect.width,videoId:e.opts.data.video.id,playerVars:{autohide:1,autoplay:e.getAutoplayValue(),rel:0,showinfo:0,wmode:"transparent"},events:{onStateChange:function(t){t.data===YT.PlayerState.PLAYING&&e.firstStart&&(e.firstStart=!1,e.handleEvent(t,"videoStart")),t.data===YT.PlayerState.ENDED&&e.handleEvent(t,"videoComplete")}}})},this.play=function(){e.player.playVideo()},this.pause=function(){e.player.pauseVideo()},this.mute=function(){e.player.mute()},this.unmute=function(){e.player.unMute()},this.reset=function(){e.player.stopVideo()},this.on("mount",function(){this.initVideoActionReceivers(),this.registerTeardownFunction(this.teardownVideoActionReceivers),window.YT?this.initYoutubePlayer():(this.actionHandler.one("api-ready:youtube",this.initYoutubePlayer),"function"!=typeof window.onYouTubeIframeAPIReady&&this.loadYoutubeAPI())}),this.on("unmount",,this.on("resize",function(){e.player.getIframe().style.width=e.determinedRect.width,e.player.getIframe().style.height=e.determinedRect.height})})})},{riot:114}],48:[{}],49:[function(t,e,i){var n=t("riot"),o={start:"10ms",firstQuartile:"25%",midpoint:"50%",thirdQuartile:"75%",complete:"90%"},r={init:function(){if(this.cuePoints=[],this.hasCuePointActions()){var t,e=this.getCuePointActions(),i=e.length,n=0;for(this.opts.data.video.viconst;n<i;n++)t={time:e[n].timeString,data:e[n]},this.cuePoints.push(t)}this.addCuePointTracking()},onCuepoint:getCuePoints:function(){return this.cuePoints},getCuePointActions:function(){var t=this.opts.data.actions||{};return t&&t.cuePoints?t.cuePoints:[]},hasCuePointActions:getCuePointAt:function(t){for(var e=0,i=this.cuePoints.length;e<i;e++)if(this.cuePoints[e].time===t)return this.cuePoints[e];return null},addCuePointTracking:function(){var t,e;if(this.opts&&this.opts.data&&this.opts.data.name)for(t in o)(e=this.getCuePointAt(o[t]))||(e={time:o[t],data:{actions:[]}},this.cuePoints.push(e)),e.data.actions=e.data.actions.concat([{actionName:"track:"+this.opts.data.name,eventType:"media",eventSubType:t}]);else console.log("this.opts.data.name is undefined",this)}};n.mixin("action-cuepoint",r)},{riot:114}],50:[function(t,e,i){t("riot").mixin("action-swipe",{init:function(){this.attachTouchActions||this.mixin("action-touch"),this.hasTouch&&this.addTouchEndHandler(this.handleSwipeEnd)},handleSwipeEnd:function(t){!t.isMoveY&&t.isSwipe&&(t.totalDistance.x<0?this.handleSwipeActions("swipeleft"):this.handleSwipeActions("swiperight"))},handleSwipeActions:function(t){this.trigger("swipe"),this.trigger(t),this.hasAction("swipe")&&this.triggerActions(this.opts.data.actions.swipe),this.hasAction(t)&&this.triggerActions(this.opts.data.actions[t])}})},{riot:114}],51:[function(t,e,i){var n=t("riot"),o=(t("../../modules/functionUtils.js"),t("../../modules/touchData.js")),r={init:function(){this.touchStartHandlers=[],this.touchMoveHandlers=[],this.touchEndHandlers=[],this.touchMoveRAF=null,this.hasTouch=window.Tarnhelm.getDeviceInfo().hasTouch,this.hasTouch&&(this.registerTeardownFunction||this.mixin("teardown"),this.registerTeardownFunction(this.detachTouchActions),this.resetTouchData(),this.on("mount",function(){this.attachTouchActions()}),window.Tarnhelm.getIsDebug()&&null!=this.setupTouchDebugVisual&&this.setupTouchDebugVisual())},setupTouchDebugVisual:null,attachTouchActions:detachTouchActions:function(){this.root.removeEventListener("touchstart",this.handleTouchStart),this.root.removeEventListener("touchmove",this.handleTouchMove),this.root.removeEventListener("touchend",this.handleTouchEnd),this.boundTouchMoveAnimationFrame=null,this.throttledHandleTouchMove=null},resetTouchData:stopEvent:function(t){var e=!!this.touchData,i=!!e&&!!this.touchData.isTouchTypeDetermined,n=!!e&&!!this.touchData.isVerticalMove;e&&i&&!n&&t&&(t.stopPropagation(),t.preventDefault())},addTouchStartHandler:function(t,e){this._addTouchEventHandler(this.touchStartHandlers,t,e)},addTouchEndHandler:function(t,e){this._addTouchEventHandler(this.touchEndHandlers,t,e)},addTouchMoveHandler:_addTouchEventHandler:function(t,e,i){var n=i||this;t.push({callback:e,thisArg:n})},handleTouchStart:function(t){this.isTouched=!0,this.touchData=new o(t),this.callHandlers(this.touchStartHandlers,this.touchData,t),this.touchMoveRAF=window.requestAnimationFrame(this.handleTouchMoveAnimationFrame)},handleTouchMove:handleTouchMoveAnimationFrame:function(){this.touchData&&(this.callHandlers(this.touchMoveHandlers,this.touchData),this.touchMoveRAF=window.requestAnimationFrame(this.handleTouchMoveAnimationFrame))},handleTouchEnd:function(t){window.cancelAnimationFrame(this.touchMoveRAF),this.touchData&&(this.touchData.finalizeTouchDataOnEnd(t),this.callHandlers(this.touchEndHandlers,this.touchData)),this.resetTouchData()},callHandlers:function(t,e,i){if(t.length){var n=[e,i];if(t.length)for(var o=0;o<t.length;o++)this.callHandler(t[o],n)}},callHandler:;n.mixin("action-touch",r)},{"../../modules/functionUtils.js":15,"../../modules/touchData.js":25,riot:114}],52:[function(t,e,i){t("riot").mixin("action-transitions",{init:function(){var t=this,e=this.getAdInstance().getActionHandler();this.hasAction("transitionsOutStart")&&e.on("transition-component-out:"+t.opts.data.name,function(){e.triggerMany(t.opts.data.actions.transitionsOutStart)}),this.hasAction("transitionsOutComplete")&&e.on("transition-component-out:"+t.opts.data.name+":complete",}})},{riot:114}],53:[function(t,e,i){t("riot").mixin("action-user",{init:function(){this.hasAction("click")&&this.addStyleRule("cursor","pointer")},handleClick:function(t){this.handleEvent(t,"click")},handleHoverIn:function(t){this.handleEvent(t,"hoverIn")},handleHoverOut:)},{riot:114}],54:[function(t,e,i){var n=t("riot"),o=["update","updated"],r={init:function(){if(this.hasAction("init")){var t=this.opts.data.actions.init;this.triggerActions(t)}this.on("all",function(t){if(t&&this.hasAction(t)&&-1===o.indexOf(t)){var e=this.opts.data.actions[t];this.triggerActions(e)}})},handleEvent:function(t,e){if(t.preventUpdate=!0,!this.hasAction(e))return!0;var i=this.opts.data.actions[e];return this.triggerActions(i),"click"===e?this.emitTrackingObject(e,e):/^video/i.test(e)?this.emitTrackingObject("video",e):this.emitTrackingObject("intent",e),!0},triggerActions:function(t){this.isDisabledNavigationComponent()?window.Tarnhelm.log('Suppressing actions for navigation component "'+this.opts.data.name+'", navigation is currently disabled.'):this.getAdInstance().getActionHandler().triggerMany(t)},hasAction:function(t){return this.opts.data.actions&&this.opts.data.actions[t]&&this.opts.data.actions[t].length}};n.mixin("action",r)},{riot:114}],55:[function(t,e,i){var n=t("riot"),o=["background-attachment","background-image","background-position","background-repeat","background-size"],r={init:function(){this.setBackground(),this.on("update",this.setBackground)},setBackground:function(){var t,e=this.opts.data||{};(t=e.useAlternateBackground?e.alternateBackground||{}:e.background||{}).color?this.addStyleRule("background-color",t.color):this.removeStyleRule("background-color"),t.source?(this.addStyleRule("background-image","url("+t.source+")"),t.attachment?this.addStyleRule("background-attachment",t.attachment):this.removeStyleRule("background-attachment"),t.position?this.addStyleRule("background-position",t.position):this.removeStyleRule("background-position"),t.repeat?this.addStyleRule("background-repeat",t.repeat):this.addStyleRule("background-repeat","no-repeat"),t.size?this.addStyleRule("background-size",t.size):this.addStyleRule("background-size",this.getBackgroundSize())):this.removeStyleRules(o)},getBackgroundSize:;n.mixin("background",r)},{riot:114}],56:[function(t,e,i){var n=t("riot"),c={start:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t0&const=ad",firstQuartile:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t25&const=ad",midpoint:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t50&const=ad",thirdQuartile:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t75&const=ad",complete:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t100&const=ad"},o={getAdInstance:function(){if(this._adInstance)return this._adInstance;for(var t,e=this;!t;)t=(e=e.parent)._adInstance;return this._adInstance=t},getAdStore:function(){return this.getAdInstance().getAdStore()},getComponentLibrary:isDisabledNavigationComponent:function(){return!!this.opts.data.isNavigationComponent&&this.getAdInstance().getAdStore().getNavigationComponentsDisabledFlag()},init:function(){var e="";if(this.data&&this.data.name&&(e=this.data.name),e){var i=this,t=this.getAdInstance().getActionHandler();t.on("track:"+e,function(t){t&&t.eventType?i.emitTrackingObject(t.eventType,t.eventSubType):window.Tarnhelm.log("Tracking event called as an action, track:"+e+", but no eventType was passed. Ignoring.")}),this.on("unmount",}},emitTrackingObject:function(t,e,i){var n=this.getAdInstance(),o=n.getTrackingConsumer();if(o){var r,s,a,d=n.getContainerFrame().contentDocument,l=d.hasOwnProperty("ad")&&d.ad.hasOwnProperty("cid")?d.ad.cid:null;if(r={unitName:n.getName(),eventType:t,componentName:this.componentData.name,componentPath:this.getComponentPath(),componentType:this.componentData.type,timeElapsed:n.timeSinceInit(),data:{label:this.componentData.description||this.componentData.name,eventSubType:e}},"reely"===this.componentData.type&&null!==l&&(c[e]&&(s=c[e]+l,(new Image).src=s,window.Tarnhelm.log("  - reely event["+e+"] = "+s)),"start"===e&&(s="//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=displayad&const=ad"+l,(new Image).src=s,window.Tarnhelm.log("  - reely video 'intent' = "+s))),i)for(a in i)r.data[a]=i[a];o(r)}},getComponentPath:function(){for(var t=this.getAdInstance().getName(),e=this.componentData.name,i=this.parent,n=this.componentData.name;i.componentData&&i.componentData.name!==t;)n!==i.componentData.name&&(e=i.componentData.name+"."+e,n=i.componentData.name),i=i.parent;return this.getComponentPath=function(){return e},e}};n.mixin("base",o)},{riot:114}],57:[function(t,e,i){var n=t("riot"),o=t("../constants").MINIMAL_VIDEO_NAME,l=t("../constants").INLINE20_SLOT_NAME,r=t("../constants").GRANTED,s=t("../constants").DENIED,a=t("../constants").PENDING,d={init:function(){this.setMediaKey=null,this.lastPermission="",this.hasSubscribed=!1,this.shouldObeyMediaInteroperability()&&this.subscribeToMediaNotifications()},getSlotId:function(){var t=this.getAdInstance(),e=t?t.getContainerFrame():null;return e?e.id:""},getAssetName:function(){return this.getSlotId()?this.getSlotId():o},requestPlayback:function(t){if(this.shouldObeyMediaInteroperability()){var e=this,i=t||{};if(!this.hasSubscribed)return this.subscribeToMediaNotifications({shouldRequestPlayback:!0});if(this.lastPermission.toLowerCase()===r){var n=this.getVideoEl();n&&(n.play(),this.setMediaPlay())}this.getBridge().requestPlayback({name:this.getAssetName(),userInitiated:!!i.userInitiated,videoFrame:this.getVideoFrame()}).then(}else this.getVideoEl().play()},setMediaPlay:function(){this.setStatus("setMediaPlay")},setMediaPaused:function(){this.setStatus("setMediaPaused")},setMediaEnded:function(){this.getBridge().isMediaOrchestratorBridge?this.setStatus("setMediaEnded",{isMinimalVideo:!0}):this.setStatus("setMediaEnded")},setStatus:function(e,t){if(this.shouldObeyMediaInteroperability()){this.log(e);var i=this,n=this.getBridge()[e],o={key:this.setMediaKey,permission:this.lastPermission};(t?n(o,t):n(o)).then(function(t){i.log(e+" error: "+JSON.stringify(t))})}},subscribeToMediaNotifications:function(t){var e=!!(t||{}).shouldRequestPlayback;if(!this.hasSubscribed){var i=this.getBridge(),n={onMediaPermissionsChanged:this.onMediaPermissionsChanged.bind(this)};i.isMediaOrchestratorBridge&&(n.name=this.getAssetName()),this.hasSubscribed=i.subscribe(n),this.log("subscribeToMediaNotifications: "+this.hasSubscribed),e&&this.requestPlayback({userInitiated:!1})}},onMediaPermissionsChanged:function(t){if(t&&t.permission&&this.shouldObeyMediaInteroperability()){var e=t.permission.toLowerCase();switch(this.setMediaKey=t.key,this.lastPermission=t.permission,e){case r:this.log("onMediaPermissionsChanged: "+r);var i=this.getVideoEl();i&&(i.play(),this.setMediaPlay());break;case s:this.log("onMediaPermissionsChanged: "+s),this.pause();break;case a:this.log("onMediaPermissionsChanged: "+a);break;default:this.log("onMediaPermissionsChanged unexpected permission: "+e)}}},getVideoFrame:function(){var t=this.getVideoEl(),e=t?t.getBoundingClientRect():{},i=0;t&&t.ownerDocument&&t.ownerDocument.defaultView&&(i=t.ownerDocument.defaultView.innerWidth);var n=(i-window.top.innerWidth)/2,o={x:0<n&&this.getSlotId()===l?e.x-n:e.x,y:e.y,width:e.width,height:e.height},r=window.top.Tarnhelm.getDeviceInfo();if(this.getBridge().isMediaOrchestratorBridge&&r.isMobileSite){var s=t.ownerDocument.defaultView,a=s?s.frameElement||s.iframe:null,d=a?a.getBoundingClientRect():{x:0,y:0};o.x+=d.x+window.scrollX,o.y+=d.y+window.scrollY}return o}};n.mixin("media-interop",d),e.exports=d},{"../constants":48,riot:114}],58:[function(t,e,i){var n=t("riot"),o=t("../../modules/rectProcessor.js"),r={init:setRect:function(){var t=(this.opts.data||{}).rect||{};this.removeStyleRules(["top","right","bottom","left"]),this.determinedRect=o.process(t),this.addStyleRule("position",this.determinedRect.position),this.addStyleRule(this.determinedRect.anchorX,this.determinedRect.offsetX),this.addStyleRule(this.determinedRect.anchorY,this.determinedRect.offsetY),this.addStyleRule("height",this.determinedRect.height),this.addStyleRule("width",this.determinedRect.width)}};n.mixin("rect",r)},{"../../modules/rectProcessor.js":22,riot:114}],59:[function(t,e,i){t("riot").mixin("resize",{init:function(){this._isMounted=!1,this._currentWidth=this.opts.data.rect.width,this.on("mount",function(){this._isMounted=!0}),this.on("update",this._checkForResize)},_checkForResize:function(){this._isMounted&&this.opts.data.rect.width!==this._currentWidth&&(this._currentWidth=this.opts.data.rect.width,this.trigger("resize"))}})},{riot:114}],60:[function(t,e,i){t("riot").mixin("rotator",{init:function(){this.registerTeardownFunction||this.mixin("teardown"),this.initRotatorEventHandlers(),this.registerTeardownFunction(this.teardownRotatorEventHandlers)},initRotatorEventHandlers:teardownRotatorEventHandlers:incrementIndex:function(){var t={actionName:"rotator:increment-index",componentName:this.opts.data.name};this.triggerActions([t])},decrementIndex:function(){var t={actionName:"rotator:decrement-index",componentName:this.opts.data.name};this.triggerActions([t])},handleRotatorUpdate:function(){var t=this.opts.data.activeIndex,e=this.prevActiveIndex;null!=e&&e!==t&&(this.trigger("indexChanged"),this.emitTrackingObject("intent","navigateRotator",{index:t}),this.hasAction("indexChanged")&&this.triggerActions(this.opts.data.actions.indexChanged)),this.prevActiveIndex=t}})},{riot:114}],61:[function(t,e,i){var n=t("riot"),o={transform:["-webkit-transform","-ms-transform"],"transform-origin":["-webkit-transform-origin","-moz-transform-origin","-ms-transform-origin","-o-transform-origin"],transition:["-webkit-transition","-moz-transition","-o-transition"],filter:["-webkit-filter","-moz-filter","-o-filter"]},r={init:initTagStyles:addCustomCSSTagStyles:function(){var t=this.opts.data.css;t&&this.addStyleRules(t)},addStyleRule:function(t,e){this.tagStyles[t]=e;var i=o[t];if(i)for(var n=0;n<i.length;n++)this.tagStyles[i[n]]=e},addStyleRules:removeStyleRule:removeStyleRules:setVisibilityStyle:function(){null!=this.opts.data.isInvisible&&(this.opts.data.isInvisible?this.addStyleRule("visibility","hidden"):this.addStyleRule("visibility","visible"))},makeInvisible:function(){var t=this.tagStyles.visibility;(t||"hidden"!==t)&&(this.addStyleRule("visibility","hidden"),this.update())},makeVisible:function(){var t=this.tagStyles.visibility;t&&"visible"!==t&&(this.addStyleRule("visibility","visible"),this.update())},getTagStyleString:function(){var t="";return this.setVisibilityStyle(),t+this.cssStringFromCSSObject(this.tagStyles)},cssStringFromCSSObject:setTagStyleString:;n.mixin("styles",r)},{riot:114}],62:[function(t,e,i){t("riot").mixin("teardown",{init:function(){var t=this;this.teardownQueue=[],this.on("unmount",},registerTeardownFunction:function(t,e){this.teardownQueue.push({callback:t,thisArg:e||this})},unmountTeardown:function(){for(var t=0;t<this.teardownQueue.length;t++){var e=this.teardownQueue[t];e.callback.call(e.thisArg)}}})},{riot:114}],63:[function(t,e,i){var n=t("riot"),o=t("../../modules/transitionStyleGenerator.js"),r={init:function(){if(this.transitionStyles=this.getAllTransitionStyles(),this.hasTransitionsIn()&&this.hasTransitionsIn()&&(this.setTransitionsStartState(this.transitionStyles.in),this.on("mount",),this.hasTransitionsOut()){var t=this,e=this.getAdInstance().getActionHandler(),i="transition-component-out:"+this.opts.data.name;e.on(i,}},getAllTransitionStyles:function(){var t=this.opts.data,e={in:{},out:{}};return this.hasTransitionsIn()&&(e.in=o.calculateTransitionStyles(t.transitionsIn)),this.hasTransitionsOut()&&(e.out=o.calculateTransitionStyles(t.transitionsOut)),e},setTransitionsStartState:setTransitionsEndState:function(t){if(window.requestAnimationFrame){var e=this;window.requestAnimationFrame(function(){window.setTimeout(1)})}else this.addStyleRules(t.end),this.update()},hasTransitionsIn:function(){return this.opts.data.transitionsIn&&this.opts.data.transitionsIn.length},hasTransitionsOut:;n.mixin("transitions",r)},{"../../modules/transitionStyleGenerator.js":26,riot:114}],64:[function(t,e,i){var n=t("riot"),s=["play","pause","mute","unmute","reset","fullscreen","normalscreen"],o={init:enforceVideoInterface:function(){for(var t=0;t<s.length;t++)"function"!=typeof this[s[t]]&&window.Tarnhelm.log(this.root.tagName+" failed to implement "+s[t]+"()")},setVideoEl:function(t){this.videoEl=t,this.enforceVideoInterface(),this.initVideoElEventHandlers(),this.registerTeardownFunction(this.teardownVideoElEventHandlers),this.initVideoActionReceivers(),this.registerTeardownFunction(this.teardownVideoActionReceivers)},getVideoEl:function(){if(this.videoEl)return this.videoEl;window.Tarnhelm.log(this.root.tagName+" failed to call `setVideoEl` or passed a bad reference.")},initVideoActionReceivers:function(){this._setActionReceivers("on")},teardownVideoActionReceivers:_setActionReceivers:function(t){var e=this.getAdInstance().getActionHandler(),i=e[t].bind(e);i("video:pause-all",this.pause),i("video:mute-all",this.mute),i("video:unmute-all",this.unmute),i("video:reset-all",this.reset);for(var n=this.data.name,o=0;o<s.length;o++){var r=s[o];i("video:"+r+":"+n,this[r])}},initVideoElEventHandlers:function(){this.boundHandleVideoComplete=this.handleVideoComplete.bind(this),this.boundHandleLoadedMetadata=this.handleLoadedMetadata.bind(this);var t=this.getVideoEl();t&&"function"==typeof t.addEventListener&&(t.addEventListener("ended",this.boundHandleVideoComplete),t.addEventListener("loadedmetadata",this.boundHandleLoadedMetadata)),this.registerTeardownFunction(this.teardownVideoElEventHandlers)},teardownVideoElEventHandlers:function(){var t=this.getVideoEl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("ended",this.boundHandleVideoComplete)},handleVideoComplete:function(t){this.handleEvent(t,"videoComplete"),this.shouldObeyMediaInteroperability&&this.shouldObeyMediaInteroperability()&&this.setMediaEnded()},handleLoadedMetadata:shouldItAutoplay:function(){var t=!0;return null!=this.opts.data.video.autoplay&&(t=this.opts.data.video.autoplay),this.opts.data.video.canplaythroughRequired&&(t=!1),this.shouldObeyMediaInteroperability&&this.shouldObeyMediaInteroperability()?(this.requestPlayback({userInitiated:!1}),!1):t},handleCanPlay:function(t,e){return function(){this.initialAutoplay?t.removeEventListener("canplay",this.boundHandleCanPlay):this.shouldObeyMediaInteroperability&&this.shouldObeyMediaInteroperability()?this.requestPlayback({userInitiated:!1}):(this.initialAutoplay=!0,t.play())}},doAutoplay:function(t){var e;this.boundHandleCanPlay=this.handleCanPlay(t,e).bind(this),this.initialAutoplay=this.initialAutoplay||!1,t.readyState>=t.HAVE_FUTURE_DATA?this.shouldObeyMediaInteroperability&&this.shouldObeyMediaInteroperability()?this.requestPlayback({userInitiated:!1}):(e=t.play(),this.initialAutoplay=!0):t.addEventListener("canplay",this.boundHandleCanPlay)},fireSyntheticMediaPlaybackEvent:function(t,e){var i="";try{i=this.getAdInstance().getDomNode().ownerDocument.defaultView.name}catch(t){i="unknown"}window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish("mediaPlaybackEvent",{type:t,slotName:i,timestamp:Date.now(),dispatcher:e,targetElementId:this.getVideoEl()?this.getVideoEl().id:"unknown"})}};n.mixin("video",o)},{riot:114}],65:[function(t,e,i){var n=t("riot"),o=t("../constants").MINIMAL_VIDEO_NAME,r={getBridge:function(){return window.NativeWebBridge?window.NativeWebBridge:window.top.ad_utils&&window.top.ad_utils.mediaOrchestratorBridge?window.top.ad_utils.mediaOrchestratorBridge:void 0},isMobileHero:function(){var t=this.getAdInstance(),e=t?t.getDomNode():null,i=e?e.ownerDocument:null;return!!i&&0<i.getElementsByName("mobile-hero").length},shouldObeyMediaInteroperability:function(){if(window.mediaInteroperabilitySlotObeyOverrides&&window.mediaInteroperabilitySlotObeyOverrides[this.getSlotId()])return this.unsubscribeSlotFromMediaOrchestrator(),!1;var t=window.top.Tarnhelm.getDeviceInfo();return void 0===this.getBridge()||!t||this.isNonQualifyingVideoForMediaInterop()?(this.overrideMediaInteroperabilityObedienceForSlot(),!1):!!t.isIMDbApp||window.top.ad_utils&&window.top.ad_utils.isResponsive()},overrideMediaInteroperabilityObedienceForSlot:function(){window.mediaInteroperabilitySlotObeyOverrides||(window.mediaInteroperabilitySlotObeyOverrides={}),window.mediaInteroperabilitySlotObeyOverrides[this.getSlotId()]=!0,this.unsubscribeSlotFromMediaOrchestrator()},unsubscribeSlotFromMediaOrchestrator:function(){if(this.hasSubscribed){this.hasSubscribed=!1,this.setMediaEnded();var t=this.getBridge();t&&t.updateAssetFrameLocation&&t.updateAssetFrameLocation(this.getSlotId(),{x:0,y:0,width:0,height:0})}},isNonQualifyingVideoForMediaInterop:function(){var t=window.top.Tarnhelm.getDeviceInfo();return this.data.type===o&&!t.isIMDbApp&&this.videoEl&&this.videoEl.duration<=10&&(!t.isMobileSite||!this.isMobileHero())}};n.mixin("weblab",r),e.exports={WeblabMixin:r}},{"../constants":48,riot:114}],66:[function(t,e,i){var n={getAdIframeZoolander:function(){var t=this.getAdInstance().getContainerFrame().contentWindow.document;return new ad_design.Zoolander({document:t,id:this.opts.data.name,prefixId:"#"+this.opts.data.name})}};t("riot").mixin("zoolander",n)},{riot:114}],67:[function(i,t,e){var s=i("riot"),a=i("../modules/events/adEvent.js"),n=i("../modules/injectCSS.js"),d=i("../modules/url.js");function o(t,e,i){var n,o=t.getActionHandler();i?o.trigger({actionName:a.ASSET_PRELOAD_TIMEOUT}):e&&o.trigger({actionName:a.ASSET_PRELOAD_FINISH}),n=t,s.mount(n.getDomNode(),{adInstance:n}),n.initAfterMount(),o.trigger({actionName:a.AD_DISPLAYED});var r=t.getAdStore().getSecondaryAssetUrls();d.preloadUrls(r)}i("./app.tag"),t.exports={injectStyles:function(t){var e=i("../../css/ad.min.css.js");n.beforeNode(e,t)},mountAd:function(t){var e=t.getAdStore().getPrimaryAssetUrls();if(e&&e.length){t.getActionHandler().trigger({actionName:a.ASSET_PRELOAD_START});var i=o.bind(null,t,!0);d.preloadUrlsWithCallback(e,i)}else o(t)}}},{"../../css/ad.min.css.js":1,"../modules/events/adEvent.js":10,"../modules/injectCSS.js":16,"../modules/url.js":27,"./app.tag":30,riot:114}],68:[function(t,e,i){t("riot");var n=t("../../modules/countdownTimer.js"),s=t("../../modules/objectUtils.js"),o=t("./retrievers/asset.js"),r=t("./retrievers/background.js"),a=t("./retrievers/component.js"),d=t("./retrievers/dateRange.js"),l=t("./retrievers/rect.js"),c=(t("./retrievers/scale.js"),t("./retrievers/wrap.js")),u=t("./delegators/router.js"),h=(t("./delegators/transition.js"),t("./delegators/wrap.js")),p=["route","rotator:show-index","rotator:show-named-child","rotator:increment-index","rotator:decrement-index","minimize-ad","maximize-ad","hide-component","show-component"],f=["actions","background","css","defaultLink","frameProperties","frequencyCappedInit","id","isScalable","name","trackingConfigs"],m=["rect","frameProperties","spriteSheetDimensions"],g=["background","alternateBackground"],v="countdown",y={countdown:v,"countdown-number-text":v,"countdown-number-custom":v,rotator:"rotator","slider-rotator":"rotator",graphic:"graphic",rotatorbutton:"graphic",reely:"video",alphalfa:"video","minimal-video":"video"};function _(t,i,e){var n=this;this._adJson=t,this._options=e,this.actionHandler=i,this.componentNameIterator=0,this.setInitialState(t),this.initComponentTree(this._adJson),this.scaleAdToWidth(e.adWidth),this.initCountdownTimers(),i.on(p.join(" "),,i.on("set-wrap-background",function(t){var e=n.state.wrapLibrary[t.wrapName];h.triggerWrapSwap(e)}),i.on("make-invisible",function(t){var e=n.state.componentLibrary[t.componentName];e.isInvisible||(e.isInvisible=!0,i.trigger({actionName:"ad-state-updated"}))}),i.on("make-visible",function(t){var e=n.state.componentLibrary[t.componentName];null!=e.isInvisible&&e.isInvisible&&(e.isInvisible=!1,i.trigger({actionName:"ad-state-updated"}))}),i.on("set-alternate-background",function(t){n.state.componentLibrary[t.componentName].useAlternateBackground=!0,i.trigger({actionName:"ad-state-updated"})}),i.on("unset-alternate-background",function(t){n.state.componentLibrary[t.componentName].useAlternateBackground=!1,i.trigger({actionName:"ad-state-updated"})}),i.on("scale-ad-to-width",function(t){t&&t.data&&t.data.width?n.scaleAdToWidth(t.data.width):window.Tarnhelm.log('Cannot scale ad, action "scale-ad-to-width" did not provide a valid width. Action:',t)}),i.on("enable-navigation-components",function(t){n.state.navigationComponentsDisabled&&(n.state.navigationComponentsDisabled=!1,i.trigger({actionName:"ad-state-updated"}))}),i.on("disable-navigation-components",function(t){n.state.navigationComponentsDisabled||(n.state.navigationComponentsDisabled=!0,i.trigger({actionName:"ad-state-updated"}))}),i.on("trigger-action-collection",function(t){if(t.collectionName){var e=n.state.actions.collections[t.collectionName];e&&e.length?i.triggerMany(e):window.Tarnhelm.log('Collection "'+t.collectionName+'" was not found in ad "'+n.state.name+'"')}else window.Tarnhelm.log("Unable to trigger a collection of actions, missing collectionName")})}_.prototype={setInitialState:function(t){this.state=this.getStaticAdData(t),this.state.actions=this.state.actions||{},this.state.actions.collections=this.state.actions.collections||{},this.state.navigationComponentsDisabled=!1,this.state.scaleData={currentScale:1,currentWidth:this.state.frameProperties.width,pixelDensity:window.devicePixelRatio||1},this.state.countdownTimers={},this.state.componentLibrary={},this.state.componentNamesByType={},this.state.componentNamesByCategory={},this.state.activeSortedDateRanges=d.getActiveSortedDateRanges(window.Tarnhelm.getNowTime(),t.dateRanges),this.state.assetLibrary=this.buildAssetLibrary(),this.state.wrapLibrary=c.generateWrapLibrary(t.wraps,this.state.assetLibrary)},getStaticAdData:function(t){for(var e={},i=0;i<f.length;i++){var n=f[i];e[n]=t[n]}return s.clone(e)},buildAssetLibrary:function(){return o.generateAssetLibrary(this._adJson.assets,this.state.activeSortedDateRanges,this.state.scaleData.currentScale,this.state.scaleData.pixelDensity)},initComponentTree:function(t,e){var i,n,o=[];if(e&&e.length?n=e[e.length-1]:e=[],t.children&&t.children.length){e.push(t);for(var r=0;r<t.children.length;r++)o.push(t.children[r].name),this.initComponentTree(t.children[r],e);e.pop()}n?(i=s.clone(t)).parentName=n.name:i=this.state,delete i.children,i.childNames=o,this.initComponent(i,e),n&&this.addToComponentLibrary(i)},initComponent:function(t,e){t.isHidden=!!t.isHidden,this.storeOriginalValues(t,m),this.storeOriginalValues(t,g),t.arrowGraphics&&(this.inheritDefaultArrowValues(t.arrowGraphics),this.storeOriginalValues(t.arrowGraphics.previous,m),this.storeOriginalValues(t.arrowGraphics.next,m));var i=this.componentTypeInitters[t.type];"function"==typeof i&&i.call(this,t,e);var n=y[t.type],o=this.componentCategoryInitters[n];"function"==typeof o&&o.call(this,t,e),this.setComponentAssets(t)},storeOriginalValues:function(t,e){for(var i=0;i<e.length;i++){var n=e[i],o=t[n];o&&(t[n+"_orig"]=l.cloneRect(o))}},componentTypeInitters:{"countdown-number-text":function(t,e){var i={};e&&e.length&&(i=e[e.length-1]),void 0===t.targetDate&&(t.targetDate=i.targetDate),void 0===t.padZeros&&(t.padZeros=i.padZeros)},"countdown-number-custom":function(t,e){var i={};e&&e.length&&(i=e[e.length-1]),void 0===t.targetDate&&(t.targetDate=i.targetDate),void 0===t.padZeros&&(t.padZeros=i.padZeros),void 0===t.spritesheet&&(t.spritesheet=i.spritesheet),void 0===t.showAfterEnd&&(t.showAfterEnd=i.showAfterEnd)},reely:function(t,e){if(t.controls){var i=l.cloneRectAsPercentageValues(t.controls,t.rect);s.shallowMerge(t.controls,i)}},"slider-rotator":function(t,e){this.componentTypeInitters._initArrowGraphics(t,e)},gallery:_initArrowGraphics:function(t,e){t.arrowGraphics&&t.arrowGraphics.next&&t.arrowGraphics.previous||(window.Tarnhelm.log("Requirements not met! "+t.type+" requires arrowGraphics properties!"),t.arrowGraphics={},t.arrowGraphics.previous={css:{background:"red"},rect:{anchorX:"left",offsetX:5,offsetY:5,width:40,height:40}},t.arrowGraphics.next={css:{background:"red"},rect:{anchorX:"right",offsetX:5,offsetY:5,width:40,height:40}})}},componentCategoryInitters:{countdown:rotator:function(t,e){t.activeIndex=parseInt(t.activeIndex,10)||0},video:function(t,e){a.hasAncestorOfType(t,"slider-rotator",e)&&(t.video.autoplay=!1)}},inheritDefaultArrowValues:function(t){if(t&&t.previous&&t.next){var e=t.previous,i=t.next;if(t.defaultArrow){var n=t.defaultArrow;s.mergeDefaults(e.rect,n.rect),s.mergeDefaults(i.rect,n.rect),s.mergeDefaults(e,n),s.mergeDefaults(i,n),t.flippable&&(i.css=i.css||{},i.css.transform=i.css.transform||"",i.css.transform+=" scaleX(-1)")}}},addCountdownTimer:function(t,e){this.state.countdownTimers[t]||(this.state.countdownTimers[t]={countdownTimer:new n(t),listenerComponents:[]}),this.state.countdownTimers[t].listenerComponents.push(e)},initCountdownTimers:function(){for(var t=Object.keys(this.state.countdownTimers),e=0;e<t.length;e++){var i=this.state.countdownTimers[t[e]];this.initCountdownTimer(i)}},initCountdownTimer:function(e){var i=this,t=e.countdownTimer;t.on("tick",function(t){i.setComponentsTimerState(e.listenerComponents,t),i.actionHandler.trigger({actionName:"ad-state-updated"})});for(var n=0;n<e.listenerComponents.length;n++)this.state.componentLibrary[e.listenerComponents[n]].remaining=t.getRemainingValues(t.getMillisecondsRemaining())},setComponentsTimerState:function(t,e){for(var i=0;i<t.length;i++)this.state.componentLibrary[t[i]].remaining=e},setComponentAssets:function(t){switch(t.background&&t.background.asset&&s.shallowMerge(t.background,o.getGraphicAssetSources(t.background,this.state.assetLibrary)),t.alternateBackground&&t.alternateBackground.asset&&s.shallowMerge(t.alternateBackground,o.getGraphicAssetSources(t.alternateBackground,this.state.assetLibrary)),t.type){case"animaniac":case"graphic":case"rotatorbutton":s.shallowMerge(t,o.getGraphicAssetSources(t,this.state.assetLibrary));break;case"gallery":case"slider-rotator":t.arrowGraphics&&t.arrowGraphics.previous&&t.arrowGraphics.next&&(s.shallowMerge(t.arrowGraphics.previous,o.getGraphicAssetSources(t.arrowGraphics.previous,this.state.assetLibrary)),s.shallowMerge(t.arrowGraphics.next,o.getGraphicAssetSources(t.arrowGraphics.next,this.state.assetLibrary)));break;case"alphalfa":case"reely":case"minimal-video":s.shallowMerge(t.video,o.getVideoAssetSources(t.video,this.state.assetLibrary))}},addToComponentLibrary:function(t){var e=t.name;this.state.componentLibrary[e]&&(e+="__"+ ++this.componentNameIterator,window.Tarnhelm.log('More than one component exists with name"'+t.name+'", renaming to "'+e+'"')),t.name=e,this.state.componentLibrary[e]=t,this.addToNamesByType(t.type,t.name),this.addToNamesByCategory(t.type,t.name)},addToNamesByType:addToNamesByCategory:function(t,e){var i=y[t];i&&this._addToNames(this.state.componentNamesByCategory,i,e)},_addToNames:function(t,e,i){return t[e]||(t[e]=[]),t[e].push(i),t},handleRoutingAction:function(t){if(this.state.isTransitioning)window.Tarnhelm.log('Transition in progress, ignoring action "'+t.actionName+'"');else switch(t.actionName){case"route":u.route(t.data,this.state.componentLibrary,this.state);break;case"rotator:show-index":u.routeRotatorToIndex(t.componentName,t.data.index,this.state.componentLibrary,this.state);break;case"rotator:show-named-child":u.routeRotatorToNamedChild(t.componentName,t.data.childName,this.state.componentLibrary,this.state);break;case"rotator:increment-index":u.routeRotatorToIncrementedIndex(t.componentName,this.state.componentLibrary,this.state);break;case"rotator:decrement-index":u.routeRotatorToDecrementedIndex(t.componentName,this.state.componentLibrary,this.state);break;case"minimize-ad":u.routeRotatorToNamedChild("expander","minimized",this.state.componentLibrary,this.state);break;case"maximize-ad":u.routeRotatorToNamedChild("expander","maximized",this.state.componentLibrary,this.state);break;case"hide-component":u.route({hideComponents:[t.componentName]},this.state.componentLibrary,this.state);break;case"show-component":u.route({showComponents:[t.componentName]},this.state.componentLibrary,this.state)}},scaleAdToWidth:function(t){if(this.state.isScalable&&t)if(t!==this.state.frameProperties.width){this.updateScaleData(t),this.state.assetLibrary=this.buildAssetLibrary(),s.shallowMerge(this.state.frameProperties,l.getScaledRect(this.state.frameProperties_orig,this.state.scaleData.currentScale));for(var e=Object.keys(this.state.componentLibrary),i=0;i<e.length;i++){var n=e[i],o=this.state.componentLibrary[n];this.scaleBasedOnOriginalValues(o,m,l.getScaledRect),this.scaleBasedOnOriginalValues(o,g,r.getScaledBackground),o.arrowGraphics&&(this.scaleBasedOnOriginalValues(o.arrowGraphics.previous,m,l.getScaledRect),this.scaleBasedOnOriginalValues(o.arrowGraphics.next,m,l.getScaledRect)),this.setComponentAssets(o)}this.actionHandler.trigger({actionName:"resize-ad-container",data:{rect:this.state.frameProperties}}),this.actionHandler.trigger({actionName:"ad-state-updated"})}else window.Tarnhelm.log('Ad "'+this.state.name+'" is already '+t+"px wide, not rescaling")},scaleBasedOnOriginalValues:function(t,e,i){for(var n=0;n<e.length;n++){var o=e[n];if(t[o]){var r=o+"_orig";s.shallowMerge(t[o],i(t[r],this.state.scaleData.currentScale))}}},updateScaleData:function(t){this.state.scaleData.currentScale=t/this.state.frameProperties_orig.width,this.state.scaleData.currentWidth=t},getState:function(){return this.state},getComponentState:getComponentLibrary:function(){return this.state.componentLibrary},getComponentNamesByType:function(t){var e=this.state.componentNamesByType[t];return e||window.Tarnhelm.log("Requested names for a component type with nothing indexed: ",t),e||[]},getComponentNamesByCategory:function(t){var e=this.state.componentNamesByCategory[t];return e||window.Tarnhelm.log("Requested names for a component category with nothing indexed: ",t),e||[]},getAdId:function(){return this.state.id},getAdName:function(){return this.state.name},requiresAutoplay:getFrequencyCappedInitActions:getPrimaryAssetUrls:function(){return o.getPreloadAssetUrls("primary",this.state.assetLibrary)},getSecondaryAssetUrls:getNavigationComponentsDisabledFlag:,e.exports=_},{"../../modules/countdownTimer.js":7,"../../modules/objectUtils.js":21,"./delegators/router.js":69,"./delegators/transition.js":70,"./delegators/wrap.js":71,"./retrievers/asset.js":72,"./retrievers/background.js":73,"./retrievers/component.js":74,"./retrievers/dateRange.js":75,"./retrievers/rect.js":76,"./retrievers/scale.js":78,"./retrievers/wrap.js":80,riot:114}],69:[function(t,e,i){var w=t("../retrievers/component.js"),A=t("./transition.js"),E=t("../retrievers/rect.js"),T=t("../retrievers/rotator.js"),S=t("../../../modules/objectUtils.js"),n={route:function(t,o,r){for(var e=t.rotatorConfigs||[],i=t.hideComponents||[],n=t.showComponents||[],s=window.Tarnhelm.getAd(r.id).getActionHandler(),a=[],d=!1,l=[],c=0;c<e.length;c++){var u=e[c],h=o[u.name];h&&u.childName&&null!=u.index&&(u.index=T.findNamedChildIndex(u.name,u.childName,o)),h&&h.activeIndex!==u.index&&(l.push(u),"expander"===h.name&&(d=!0),h.isHidden||a.push(T.getActiveChildName(h)))}var p=w.getHiddenComponentNames(n,o),f=w.getUnhiddenComponentNames(i,o);if(a=a.concat(f),l.length||f.length||p.length){var m=[];for(c=0;c<a.length;c++)m=m.concat(w.buildTransitionsOutComponentList(a[c],o));if(m.length){var g=this;r.isTransitioning=!0,A.triggerTransitionsOut(m,o,s,function(){var t=T.mapRotatorConfigsToComponentName(l);if(S.shallowMergeMany(o,t),d){var e=r.componentLibrary.expander,i=T.getActiveChildComponent(e,r.componentLibrary),n=E.getDimensions(i.rect);S.shallowMerge(r.frameProperties,n),S.shallowMerge(e.rect,n)}g.setComponentHiddenStates(f,o,!0),g.setComponentHiddenStates(p,o,!1),r.isTransitioning=!1,s.trigger({actionName:"ad-state-updated"})})}else{var v=T.mapRotatorConfigsToComponentName(l);if(S.shallowMergeMany(o,v),d){var y=r.componentLibrary.expander,_=T.getActiveChildComponent(y,r.componentLibrary),b=E.getDimensions(_.rect);S.shallowMerge(r.frameProperties,b),S.shallowMerge(y.rect,b)}this.setComponentHiddenStates(f,o,!0),this.setComponentHiddenStates(p,o,!1),s.trigger({actionName:"ad-state-updated"})}}},routeRotatorToIndex:function(t,e,i,n){var o=[{name:t,index:e}];this.route({rotatorConfigs:o},i,n)},routeRotatorToIncrementedIndex:function(t,e,i){var n=T.getIncrementedIndex(e[t]);this.routeRotatorToIndex(t,n,e,i)},routeRotatorToDecrementedIndex:function(t,e,i){var n=T.getDecrementedIndex(e[t]);this.routeRotatorToIndex(t,n,e,i)},routeRotatorToNamedChild:function(t,e,i,n){var o=T.findNamedChildIndex(t,e,i);this.routeRotatorToIndex(t,o,i,n)},setComponentHiddenStates:function(t,e,i){for(var n=0;n<t.length;n++)e[t[n]].isHidden=!!i}};e.exports=n},{"../../../modules/objectUtils.js":21,"../retrievers/component.js":74,"../retrievers/rect.js":76,"../retrievers/rotator.js":77,"./transition.js":70}],70:[function(t,e,i){t("../../../modules/transitionStyleGenerator.js");var a=t("../retrievers/transition.js"),n={triggerTransitionsOut:function(i,t,n,o){for(var e=a.getMaxTransitionOutTime(i,t),r=0;r<i.length;r++){var s="transition-component-out:"+i[r];n.trigger({actionName:s})}window.setTimeout(function(){"function"==typeof o&&o();for(var t=0;t<i.length;t++){var e="transition-component-out:"+i[t]+":complete";n.trigger({actionName:e})}},e)}};e.exports=n},{"../../../modules/transitionStyleGenerator.js":26,"../retrievers/transition.js":79}],71:[function(t,e,i){var o=t("../retrievers/wrap.js"),n=(t("../retrievers/rotator.js"),{triggerRotatorWrapSwap:function(t,e){var i=o.getWrapNameFromRotator(t,e.componentLibrary);if(i){var n=o.getWrapData(i,e.wrapLibrary);n?this.triggerWrapSwap(n):window.Tarnhelm.log('Cannot trigger a wrap swap for rotator "'+t.name+'" and wrapName "'+i+'", could not find a matching wrap config')}else window.Tarnhelm.log('Cannot trigger a wrap swap for rotator "'+t.name+'", could not get the wrap name')},triggerWrapSwap:);e.exports=n},{"../retrievers/rotator.js":77,"../retrievers/wrap.js":80}],72:[function(t,e,i){var n={image:!0,video:!0},d={image:"url",video:"url"},l={video:"source",image:"source"},c={graphic:[{src:"asset",dest:"source"},{src:"activeAsset",dest:"activeSource"},{src:"hoverAsset",dest:"hoverSource"},{src:"fullAdHoverAsset",dest:"fullAdHoverSource"},{src:"disabledAsset",dest:"disabledSource"}],video:[{src:"asset",dest:"url"}]},a={video:!0},u={primary:!0,secondary:!0},o={generateAsset:function(t,e,i){var n=this.getCurrentDatedAsset(t,e),o=this.generateScaledAsset(n,t.type,i);return o?o.preload=t.preload:window.Tarnhelm.log('Asset "'+t.name+'" is not configured correctly'),o},generateAssetLibrary:function(t,e,i,n){for(var o={},r=Object.keys(t),s=this.getAssetScale(i,n),a=0;a<r.length;a++){var d=r[a],l=t[d],c=this.updateDeprecatedAssetSyntax(l),u=this.generateAsset(c,e,s);u?o[d]=u:window.Tarnhelm.log('There was a problem with asset "'+d+'", Tarnhelm was unable to initialize it')}return o},generateScaledAsset:function(t,e,i){for(var n={},o=this.getValidatedAssetType(e),r=d[o],s=i;0<s;s--){var a=this.getScaledAssetUrlKey(r,s);if(t[a])return n[l[o]]=t[a],n.type=o,n}},getCurrentDatedAsset:function(t,e){if(!e||!e.length||!t.dateOverrides)return t;for(var i=e.length-1;-1<i;i--){var n=e[i].name;if(t.dateOverrides[n])return t.dateOverrides[n]}return t},getValidatedAssetType:getScaledAssetUrlKey:function(t,e){return"number"==typeof e&&1<e?t+parseInt(e,10)+"x":t},getAssetScale:function(t,e){return Math.ceil(Math.abs(t*e))},getAssetSource:function(t,e){var i=e[t];if(i){var n=this.getAssetSourceKey(i.type),o=i[n];if(o)return o;window.Tarnhelm.log('Error, asset "'+i+'" is missing its source, prop "'+n+'"')}else window.Tarnhelm.log('Error, asset named "'+i+'" does not exist')},getAssetSourceKey:getMappedAssetSources:function(t,e,i){var n={};if(!t)return window.Tarnhelm.log("Cannot get assets, component was not provided"),n;if(!e)return window.Tarnhelm.log("Cannot get assets, assetLibrary was not provided"),n;if(!i||!c[i])return window.Tarnhelm.log('Cannot get assets, componentType "'+i+'" is not supported'),n;for(var o=c[i],r=0;r<o.length;r++){var s=o[r];if(t[s.src]){var a=this.getAssetSource(t[s.src],e);a&&(n[s.dest]=a)}}return n},getGraphicAssetSources:function(t,e){return this.getMappedAssetSources(t,e,"graphic")},getVideoAssetSources:getPreloadAssetUrls:function(t,e){var i=[];if("string"!=typeof t||!u[t])return window.Tarnhelm.log('Problem preloading assets, "'+t+'" should be "primary" or "secondary"'),i;for(var n=Object.keys(e),o=0;o<n.length;o++){var r=n[o],s=e[r];s.preload!==t||a[s.type]||this.getAssetSource(r,e)&&i.push(s.source)}return i},updateDeprecatedAssetSyntax:function(t){var e,i,n={};for(e in t)if("fileName"===e)n.url=t[e]+".mp4";else if("dateOverrides"===e){var o=t[e];for(i in o)o[i]=this.updateDeprecatedAssetSyntax(o[i]);n.dateOverrides=o}else n[e]=t[e];return n}};e.exports=o},{}],73:[function(t,e,i){var l=t("./scale.js"),c=["position","size"],u=/\s+/,n={getScaledBackground:function(t,e){if("object"==typeof t){for(var i={},n=0;n<c.length;n++){var o=c[n],r=t[o];if(r){for(var s=r.split(u),a=0;a<s.length;a++){var d=s[a];"number"==typeof l.getRawDimension(d)&&(s[a]=l.getDimensionWithUnit(l.getScaledDimension(l.getRawDimension(d),e)))}i[o]=s.join(" ")}}return i}window.Tarnhelm.log('Cannot scale, "background" is not an object:',t)},cloneBackground:function(t){for(var e={},i=0;i<c.length;i++){var n=c[i];t[n]&&(e[n]=t[n])}return e}};e.exports=n},{"./scale.js":78}],74:[function(t,e,i){var a=t("./rotator.js"),n={buildTransitionsOutComponentList:function(t,e){var i=[],n=e[t];if(!n||n.isHidden)return i;if(n.transitionsOut&&n.transitionsOut.length&&i.push(n.name),n.childNames&&n.childNames.length)if("rotator"===n.type){var o=a.getActiveChildComponent(n,e);i=i.concat(this.buildTransitionsOutComponentList(o.name,e))}else for(var r=0;r<n.childNames.length;r++){var s=e[n.childNames[r]];s.isHidden||(i=i.concat(this.buildTransitionsOutComponentList(s.name,e)))}return i},filterComponentsByPropertyValue:function(t,e,i,n){for(var o=[],r=0;r<t.length;r++){var s=t[r],a=e[s];a&&a[i]===n&&o.push(s)}return o},filterComponentsByParentNode:function(t,e){for(var i={},n=0;n<t.length;n++)i[t[n]]=1;var o=[];for(n=0;n<t.length;n++){var r=!1,s=e[t[n]];if(s){for(;s.parentName&&!r;)i[(s=e[s.parentName]).name]&&(r=!0);r||o.push(t[n])}}return o},isDescendantOfType:function(t,e,i){for(var n=i[t];n&&n.parentName;)if((n=i[n.parentName])&&n.type===e)return!0;return!1},hasAncestorOfType:function(t,e,i){if(!i||!i.length)return!1;for(var n=i.length-1;0<=n;n--)if(i[n].type===e)return!0;return!1},hasAncestorOfName:function(t,e,i){var n=i[t].parentName;return this._hasAncestorOfNameRecursive(e,n,i)},_hasAncestorOfNameRecursive:function(t,e,i){var n=i[e];return!!n&&(n.name===t||this._hasAncestorOfNameRecursive(t,n.parentName,i))},getHiddenComponentNames:function(t,e){return this.filterComponentsByPropertyValue(t,e,"isHidden",!0)},getUnhiddenComponentNames:;e.exports=n},{"./rotator.js":77}],75:[function(t,e,i){e.exports={compareDateRanges:function(t,e){var i=new Date(t.start),n=new Date(e.start),o=i.getTime(),r=n.getTime();return o<r?-1:r<o?1:0},getActiveSortedDateRanges:function(t,e){var i=[];if(!e||!e.length)return i;for(var n=0;n<e.length;n++)t>=new Date(e[n].start).getTime()&&i.push(e[n]);return i.sort(this.compareDateRanges)}}},{}],76:[function(t,e,i){var l=t("./scale.js"),s=["offsetX","offsetY","width","height"],c={offsetX:"width",offsetY:"height",width:"width",height:"height"},n={getDimensions:getScaledRect:function(t,e){if("object"==typeof t){for(var i={},n=0;n<s.length;n++){var o=s[n],r=t[o];r&&"number"==typeof l.getRawDimension(r)&&(i[o]=l.getScaledDimension(l.getRawDimension(r),e))}return i}window.Tarnhelm.log('Cannot scale, "rect" is not an object:',t)},cloneRect:function(t){for(var e={},i=0;i<s.length;i++){var n=s[i];t[n]&&(e[n]=t[n])}return e},cloneRectAsPercentageValues:function(t,e){e.width,e.height;for(var i={},n=Object.keys(c),o=0;o<n.length;o++){var r=n[o],s=c[r],a=l.getRawDimension(t[r]);if(a){var d=l.getRawDimension(e[s]);d||window.Tarnhelm.log('Could not scale rect value for "'+r+'", parent rect value for "'+s+'" is missing'),"number"==typeof a&&("number"==typeof d?a=Math.round(a/d*100)+"%":window.Tarnhelm.log('Could not scale rect value for "'+r+'", parent rect value for "'+s+'" is not a pixel value')),i[r]=a}}return i}};e.exports=n},{"./scale.js":78}],77:[function(t,e,i){var n={isValidRotator:function(t){return t&&(i=t).childNames&&0<i.childNames.length&&0<=(e=t).activeIndex&&e.activeIndex<e.childNames.length;var e,i},getActiveChildName:function(t){var e;return this.isValidRotator(t)&&(e=t.childNames[t.activeIndex]),e||window.Tarnhelm.log('Unable to find active child name for rotator "'+t.name+'"'),e},getActiveChildComponent:function(t,e){var i,n=this.getActiveChildName(t);return n&&(i=e[n]),i},mapRotatorConfigsToComponentName:function(t){for(var e={},i=0;i<t.length;i++){var n=t[i];e[n.name]={activeIndex:n.index}}return e},findNamedChildIndex:function(t,e,i){var n=i[t];if(n){if(n&&n.childNames&&n.childNames.length)for(var o=0;o<n.childNames.length;o++)if(n.childNames[o]===e)return o;return window.Tarnhelm.log("Requested rotator:show-named-child for a non existent childName. rotatorName:",t," childName: ",e),n.activeIndex}window.Tarnhelm.log("Requested rotator:show-named-child for a non existent rotator . rotator:",t)},getIncrementedIndex:function(t){if(this.isValidRotator(t)){var e=t.activeIndex;if(e+1<=t.childNames.length-1)return e+1}return 0},getDecrementedIndex:function(t){if(this.isValidRotator(t)){var e=t.activeIndex,i=t.childNames.length-1;return 0<=e-1?e-1:i}return 0}};e.exports=n},{}],78:[function(t,e,i){var n=new RegExp(/^\-?\d*(\.\d*)?(px)?$/),o={getScaledDimension:function(t,e){if("number"==typeof t&&"number"==typeof e)return Math.ceil(t*e);window.Tarnhelm.log("getScaledDimension() failed, both args were not numbers:",t,e)},getRawDimension:function(t){if("string"!=typeof t&&"number"!=typeof t)return window.Tarnhelm.log("Cannot get raw dimension from invalid value: ",t),t;var e=t.toString();return n.test(e)?parseFloat(e):e},getDimensionWithUnit:function(t){var e=this.getRawDimension(t);return 0===e?"0":"number"==typeof e?e+"px":e}};e.exports=o},{}],79:[function(t,e,i){var r=t("../../../modules/transitionStyleGenerator.js"),n={getMaxTransitionOutTime:function(t,e){for(var i=[],n=0;n<t.length;n++){var o=e[t[n]];i.push(r.getMaxTransitionTime(o.transitionsOut))}return Math.max.apply(null,i)}};e.exports=n},{"../../../modules/transitionStyleGenerator.js":26}],80:[function(t,e,i){var d=t("./asset.js"),n=t("./rotator.js"),l=t("../../../modules/objectUtils.js"),o={generateWrapLibrary:function(t,e){t=t||{};for(var i={},n=Object.keys(t),o=0;o<n.length;o++){var r=n[o],s=(t[r].asset,l.clone(t[r])),a=d.getGraphicAssetSources(s,e);l.shallowMerge(s,a),i[r]=s}return i},getWrapNameFromRotator:function(t,e){var i=n.getActiveChildComponent(t,e);return i&&i.wrap?i.wrap:t&&t.wrapConfig&&t.wrapConfig.default?t.wrapConfig.default:void window.Tarnhelm.log('Cannot find wrap for rotator "'+t.name+'"')},getWrapData:generateWrapAction:;e.exports=o},{"../../../modules/objectUtils.js":21,"./asset.js":72,"./rotator.js":77}],81:[function(t,e,i){var r=t("./modules/adInstance.js"),n=t("./modules/wrapSwapper.js"),o=t("./modules/actionHandler.js"),s=t("./modules/eventEmitter.js"),a=t("./modules/requirementsTester.js"),d=t("./modules/objectUtils.js"),l=t("./modules/url.js"),c=t("./renderer/renderer.js"),u=t("./modules/deviceInfo.js"),h=t("./modules/events/metricEventSink.js"),p=t("./modules/mobileLog.js"),f=t("./modules/events/tarnhelmEvent.js"),m=t("./legacyTracking.js");t("IMDbAdvertisingJsModules");var g={},v=!1,y=!1,_=0,b=new u(window.location.href,window.navigator.userAgent),w=new a(b.getInfo());function A(t){var e=d.clone(t);return delete e.adName,delete e.isGlobal,e}var E,T,S,C,I={getAd:getAdByName:function(t){for(var e,i=Object.keys(g),n=0;n<i.length;n++)if(g[i[n]].getName()===t){e=g[i[n]];break}return e},initAdInstance:function(t,e,i,n){this.getAd(i.id)&&this.log('Ad with id "'+i.id+'" already exists. OVERWRITING!'),i.name&&this.getAdByName(i.name)&&this.log('Ad with name "'+i.name+'" already exists. OVERWRITING!'),c.injectStyles(t);var o=new r({domNode:t,containerFrame:e,eventSinks:[T],adData:i,trackingConsumer:n||m(i)});return g[i.id]=o,c.mountAd(o),o},triggerTopAction:triggerGlobalAction:function(t){for(var e=Object.keys(g),i=A(t),n=0;n<e.length;n++)this.getAd(e[n]).getActionHandler().trigger(i)},triggerTandemAction:function(t){if(t.adName){var e=this.getAdByName(t.adName);if(e){var i=A(t);e.getActionHandler().trigger(i)}else this.log('Tarnhelm.triggerTandemAction failed, adInstance for "'+t.adName+'" was not found')}else this.log("Tarnhelm.triggerTandemAction failed, adName was not provided")},getNowTime:getIsDebug:function(){return v},setIsDebug:function(t){v=!!t},getIsMobileDebug:function(){return y},setIsMobileDebug:log:function(){if(v&&window.console&&window.console.log){var t=Array.prototype.slice.call(arguments);console.log.apply(console,t),y&&this.getDeviceInfo().isMobileDevice&&window.top.document.body&&(window.top.document.body.style.position="relative",window.top.mobileLog=window.top.mobileLog||new p(window.top.document.body),window.top.mobileLog.log(t))}},getVersion:getDeviceInfo:getRequirementsTester:function(){return w}};e.exports=window.Tarnhelm=I,E=new o(new s,w),function(){var t=l.getQueryParam("tarnhelmDebug",window.location.href);"1"!==t&&"true"!==t||(v=!0,window.Tarnhelm.log("Tarnhelm is in DEBUG mode."));var e=l.getQueryParam("tarnhelmMobileDebug",window.location.href);"1"!==e&&"true"!==e||(v=y=!0,window.Tarnhelm.log("Tarnhelm is in MOBILE DEBUG mode."))}(),S=l.getQueryParam("simulatedDate",window.location.href),C=new Date(S),S&&"Invalid Date"!==C.toString()&&(_=C.getTime()-Date.now()),new n("wrapper",E),T=new h(E),E.trigger({actionName:f.READY})},{"./legacyTracking.js":2,"./modules/actionHandler.js":3,"./modules/adInstance.js":4,"./modules/deviceInfo.js":8,"./modules/eventEmitter.js":9,"./modules/events/metricEventSink.js":11,"./modules/events/tarnhelmEvent.js":12,"./modules/mobileLog.js":19,"./modules/objectUtils.js":21,"./modules/requirementsTester.js":23,"./modules/url.js":27,"./modules/wrapSwapper.js":29,"./renderer/renderer.js":67,IMDbAdvertisingJsModules:94}],82:[function(t,e,i){var n={makeBufferCanvas:function(){var t=document.createElement("canvas");return t.width=this.output.width,t.height=2*this.output.height,t},isIE:clear2DCanvas:;e.exports=n},{}],83:[function(t,e,i){var n=t("./renderers/alphalfa-renderer-webgl.js"),o=t("./renderers/alphalfa-renderer-horizontal-gl.js"),r=t("./renderers/alphalfa-renderer-canvas.js"),s=t("./renderers/alphalfa-renderer-mask.js"),a=t("./renderers/alphalfa-renderer-color-correct.js"),d=t("./alphalfa-utils.js");t("../polyfills/request-animation-frame.js");var l=function(t){this.doDebug=!1,this.video=t.video,this.output=t.output,this.buffer=t.buffer||void 0,this.dismissalTimeout=t.dismissalTimeout,this.originalOutputDisplay=this.output.style.display||"inline-block",this.outputHeight=this.output.height,this.outputWidth=this.output.width,t.loop&&(this.loop=t.loop,this.setLoopConfig(t)),null!=t.stillFrameMS&&(this.stillFrameInS=t.stillFrameMS/1e3),this.isSupported=!0,this.renderMode=this.determineRenderMode({colorCorrect:t.colorCorrect,maskUrl:t.maskUrl,forceCanvas:t.forceCanvas,horizontalStack:t.horizontalStack}),this.renderMode!==this.RENDER_MODES.CANVAS&&this.renderMode!==this.RENDER_MODES.GL||this.runTaintedContentCheck(this.video),this.setupRenderer()};l.prototype={listen:function(){this.isSupported&&(this.boundFrameHandler=this.boundFrameHandler||this.frameHandler.bind(this),this.video.addEventListener("play",this.boundFrameHandler,!1),this.boundEndHandler=this.boundEndHandler||this.videoEndedHandler.bind(this),this.video.addEventListener("ended",this.boundEndHandler,!1),this.video.loop=this.loop)},teardown:function(){this.video.removeEventListener("play",this.boundFrameHandler),this.video.removeEventListener("ended",this.boundEndHandler),this.video.removeEventListener("seeked",this.boundLoopCountOnSeeked),this.video.removeEventListener("seeked",this.boundFreezeFrameOnSeeked),this.video=void 0,this.renderer.teardown(),this.output.width=1,this.output.height=1,this.output.parentNode.removeChild(this.output),this.output=void 0},RENDER_MODES:{GL:"gl",CANVAS:"canvas",MASK:"mask",COLOR_CORRECT:"color-correct",HORIZONTAL_GL:"horizontal-gl"},determineRenderMode:function(t){var e;return t.colorCorrect?e=this.RENDER_MODES.COLOR_CORRECT:t.maskUrl?(this.maskUrl=t.maskUrl,e=this.RENDER_MODES.MASK):t.forceCanvas?e=this.RENDER_MODES.CANVAS:t.horizontalStack?(this.gl=this.output.getContext("webgl")||this.output.getContext("experimental-webgl"),e=this.RENDER_MODES.HORIZONTAL_GL):e=this._determineRenderMode(),this.doDebug&&console.log("Alphalfa determined renderMode :: ",e),e},_determineRenderMode:function(){var e=!0;this.gl=void 0;try{this.gl=this.output.getContext("webgl")||this.output.getContext("experimental-webgl")}catch(t){e=!1}return this.gl||(e=!1),e?this.RENDER_MODES.GL:this.RENDER_MODES.CANVAS},setupRenderer:function(){var t={doDebug:this.doDebug,video:this.video,buffer:this.buffer,output:this.output,dieBecauseUnsupported:this.dieBecauseUnsupported};switch(this.renderMode){case this.RENDER_MODES.CANVAS:case this.RENDER_MODES.MASK:case this.RENDER_MODES.COLOR_CORRECT:try{t.outputCtx=this.output.getContext("2d")}catch(t){return this.doDebug&&console.log("Error executing `getContext`, canvas not supported."),void this.dieBecauseUnsupported()}t.outputHeight=this.outputHeight,t.outputWidth=this.outputWidth}switch(this.renderMode){case this.RENDER_MODES.GL:t.gl=this.gl,this.renderer=new n(t);break;case this.RENDER_MODES.CANVAS:this.renderer=new r(t);break;case this.RENDER_MODES.MASK:t.maskUrl=this.maskUrl,this.renderer=new s(t);break;case this.RENDER_MODES.COLOR_CORRECT:this.renderer=new a(t);break;case this.RENDER_MODES.HORIZONTAL_GL:t.gl=this.gl,this.renderer=new o(t)}this.setupRendererContext()},setupRendererContext:function(){this.renderer.setupRendererContext(),this.doDebug||(this.video.style.display="none",this.buffer&&(this.buffer.style.display="none")),this.processFrame=this.determineProcessFrame()},determineProcessFrame:function(){return this.renderMode===this.RENDER_MODES.CANVAS&&d.isIE()&&!this.hasBindSupport()?(this.doDebug&&console.log("Error: IE <9 does not support Function.bind. Aborting."),void this.dieBecauseUnsupported()):this.renderer.getProcessFrameFunc()},hasBindSupport:runTaintedContentCheck:function(t){var e=document.createElement("canvas");e.width=e.height=1,this.boundTestTainted=this.testTainted.bind(this,t,e),t.addEventListener("canplay",this.boundTestTainted)},testTainted:function(t,e){var i=e.getContext("2d");i.drawImage(t,0,0,1,1);try{i.getImageData(0,0,1,1)}catch(t){this.dieBecauseTainted()}t.removeEventListener("canplay",this.boundTestTainted),e=i=null},frameHandler:function(){return!!this.video&&(this.video.paused||this.video.ended?(this.video.paused&&this.freezeOrClear(),!1):(this.processFrame(),void(this.requestAnimationFrameRequest=window.requestAnimationFrame(this.boundFrameHandler))))},videoEndedHandler:function(){this.freezeOrClear(),void 0!==this.dismissalTimeout&&(this.boundHideOutputCanvas=this.boundHideOutputCanvas||this.hideOutputCanvas.bind(this),setTimeout(this.boundHideOutputCanvas,this.dismissalTimeout))},setLoopConfig:function(t){this.loopedNum=0;var e=null!=t.maxLoops?t.maxLoops:5;0!==e&&this.setMaxLoops(e)},setMaxLoops:function(t){this.maxLoops=t,this.boundLoopCountOnSeeked=this.loopCountOnSeeked.bind(this),this.video.addEventListener("seeked",this.boundLoopCountOnSeeked)},loopCountOnSeeked:function(t){this.video.paused?this.loopedNum=0:(this.video.currentTime<.1&&this.loopedNum++,this.loopedNum>=this.maxLoops&&(this.video.pause(),this.loopedNum=0))},freezeOrClear:freezeOnStill:function(t){this.video.pause(),this.boundFreezeFrameOnSeeked=this._freezeFrameOnSeeked.bind(this),this.video.addEventListener("seeked",this.boundFreezeFrameOnSeeked);var e=this.video.duration-.05,i=e<t?e:t;this.video.currentTime=i},_freezeFrameOnSeeked:clearOnEnd:showOutputCanvas:hideOutputCanvas:dieBecauseTainted:function(){this.doDebug&&window.console&&window.console.log&&console.log("Tainted canvas content. Killing Alphalfa playback."),this.dieBecauseUnsupported(!0)},dieBecauseUnsupported:function(t){this.doDebug&&!t&&window.console&&window.console.log&&console.log("Alphalfa has seen things. Attack ships on fire off the shoulder of Orion... Time. to die."),window.cancelAnimationFrame(this.requestAnimationFrameRequest),this.isSupported=!1,this.boundFrameHandler&&this.boundEndHandler&&(this.video.removeEventListener("play",this.boundFrameHandler,!1),this.video.removeEventListener("ended",this.boundEndHandler,!1)),this.video.pause(),this.video.style.display="none",this.output.style.display="none",this.buffer&&(this.buffer.style.display="none")},_clearCanvas:,e.exports=l},{"../polyfills/request-animation-frame.js":95,"./alphalfa-utils.js":82,"./renderers/alphalfa-renderer-canvas.js":84,"./renderers/alphalfa-renderer-color-correct.js":85,"./renderers/alphalfa-renderer-horizontal-gl.js":86,"./renderers/alphalfa-renderer-mask.js":87,"./renderers/alphalfa-renderer-webgl.js":88}],84:[function(t,e,i){var n=t("../alphalfa-utils.js"),o=function(t){this.doDebug=t.doDebug,this.output=t.output,this.outputCtx=t.outputCtx,this.outputHeight=t.outputHeight,this.outputWidth=t.outputWidth,this.buffer=t.buffer,this.video=t.video,this.dieBecauseUnsupported=t.dieBecauseUnsupported};o.prototype={PIXEL_DATA_SIZE:4,setupRendererContext:function(){this._setupCanvasContext()},getProcessFrameFunc:function(){return this.processCanvasFrame.bind(this,this.buffer,this.bufferCtx,this.output,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:function(){n.clear2DCanvas(this.outputCtx,this.outputWidth,this.outputHeight)},teardown:function(){this.outputCtx=void 0,this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0},processCanvasFrame:function(t,e,i,n,o,r){e.drawImage(this.video,0,0);for(var s=this.bufferCtx.getImageData(0,r,o,r),a=s.data,d=3,l=a.length;d<l;d+=this.PIXEL_DATA_SIZE)a[d]=a[d-2];n.putImageData(s,0,0,0,0,o,r),n.drawImage(t,0,0,o,2*r)},_setupCanvasContext:function(){this.buffer=this.buffer||n.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d"),this.outputCtx.globalCompositeOperation="source-in"}},e.exports=o},{"../alphalfa-utils.js":82}],85:[function(t,e,i){var n=t("../alphalfa-utils.js"),o=o.prototype={setupRendererContext:getProcessFrameFunc:function(){return this.processColorCorrectFrame.bind(this,this.video,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:function(){n.clear2DCanvas(this.outputCtx,this.outputWidth,this.outputHeight)},teardown:function(){this.outputCtx=void 0},processColorCorrectFrame:function(t,e,i,n){e.drawImage(t,0,0,i,n)}},e.exports=o},{"../alphalfa-utils.js":82}],86:[function(t,e,i){var n=t("../alphalfa-utils.js"),o=function(t){this.doDebug=t.doDebug,this.gl=t.gl,this.output=t.output,this.buffer=t.buffer,this.video=t.video,this.dieBecauseUnsupported=t.dieBecauseUnsupported};o.prototype={setupRendererContext:function(){this._setupGlContext(this.gl)},getProcessFrameFunc:function(){return this.determineGlRenderFunc()},clearCanvas:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)},teardown:function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vbuffer),t.bufferData(t.ARRAY_BUFFER,1,t.STATIC_DRAW),t.deleteBuffer(this.vbuffer),t.bindBuffer(t.ARRAY_BUFFER,this.texCoordBuffer),t.bufferData(t.ARRAY_BUFFER,1,t.STATIC_DRAW),t.deleteBuffer(this.texCoordBuffer),t.bindTexture(t.TEXTURE_2D,null),t.deleteTexture(this.stackTexture),this.gl=void 0,this.buffer&&(this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0)},determineGlRenderFunc:function(){return n.isIE()?this.ieProcessGlFrame.bind(this,this.gl,this.output,this.output.width,this.output.height):this.processGlFrame.bind(this,this.gl,this.output)},processGlFrame:function(t,e){this._updateTextureFromVideo(t),t.drawArrays(t.TRIANGLE_STRIP,0,4)},_updateTextureFromVideo:function(t){t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video)},ieProcessGlFrame:function(t,e,i,n){this._ieUpdateTextureFromVideo(t,i,n),t.drawArrays(t.TRIANGLE_STRIP,0,4)},_ieUpdateTextureFromVideo:function(t,e,i){this.bufferCtx.drawImage(this.video,0,0,e,2*i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.buffer)},_setupGlContext:function(t){n.isIE()&&(this.doDebug&&console.log("Using alternate IE render mode."),this._ieGlSetup()),t.enableVertexAttribArray(0),t.viewport(0,0,this.output.width,this.output.height),this.doDebug?t.clearColor(0,0,0,.1):t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),this.program=this._compileProgram(t,this.SHADER_VERTEX,this.SHADER_FRAGMENT),t.useProgram(this.program),this._getGlDataLocations(t),this._createAndBindTexCoordData(t),this._createAndBindTexture(t),this._createAndBindVertexData(t)},_ieGlSetup:function(){this.buffer=this.buffer||n.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d")},_getGlDataLocations:function(t){this.aTexCoord_loc=t.getAttribLocation(this.program,"aTexCoord"),this.aPosition_loc=t.getAttribLocation(this.program,"aPosition"),this.uImage_loc=t.getUniformLocation(this.program,"uImage")},_createAndBindVertexData:function(t){this.vbuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vbuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,1,1,1,-1,-1,1,-1]),t.STATIC_DRAW),t.enableVertexAttribArray(this.aPosition_loc),t.vertexAttribPointer(this.aPosition_loc,2,t.FLOAT,!1,0,0)},_createAndBindTexCoordData:function(t){this.texCoordBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.texCoordBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,.5,0,0,1,.5,1]),t.STATIC_DRAW),t.enableVertexAttribArray(this.aTexCoord_loc),t.vertexAttribPointer(this.aTexCoord_loc,2,t.FLOAT,!1,0,0),t.uniform2f(t.getUniformLocation(this.program,"uHalfTexOffset"),.5,0)},_createAndBindTexture:function(t){this.stackTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.stackTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)},_compileProgram:function(t,e,i){var n,o,r;return n=t.createShader(t.VERTEX_SHADER),t.shaderSource(n,e),t.compileShader(n),o=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(o,i),t.compileShader(o),r=t.createProgram(),t.attachShader(r,n),t.attachShader(r,o),t.linkProgram(r),t.getShaderParameter(n,t.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(vs) :: ",t.getShaderInfoLog(n)),t.getShaderParameter(o,t.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(fs) :: ",t.getShaderInfoLog(o)),t.getProgramParameter(r,t.LINK_STATUS)||console.log("gl.getProgramInfoLog(program) :: ",t.getProgramInfoLog(r)),r},SHADER_VERTEX:["","  attribute vec2 aPosition;","  attribute vec2 aTexCoord;","  varying vec2 vTexCoord;","  void main() {","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vTexCoord = aTexCoord;","  }",""].join("\n"),SHADER_FRAGMENT:["","  precision highp float;","  uniform sampler2D uImage;","  uniform vec2 uHalfTexOffset;","  varying vec2 vTexCoord;","  void main() {","    vec4 color = texture2D( uImage, vTexCoord );","    vec4 alpha = texture2D( uImage, vTexCoord + uHalfTexOffset );","    color[3] = alpha[0]; // avg alpha","    gl_FragColor = color;","  }",""].join("\n")},e.exports=o},{"../alphalfa-utils.js":82}],87:[function(t,e,i){var n=t("../alphalfa-utils.js"),o=o.prototype={setupRendererContext:function(){this._setupMaskContext()},getProcessFrameFunc:function(){return this.processMaskFrame.bind(this,this.video,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:teardown:processMaskFrame:function(t,e,i,n){e.drawImage(t,0,0,i,n)},_setupMaskContext:function(){this.loadMask(this.maskUrl)},loadMask:function(t){var e=this,i=this.mask=new Image;i.addEventListener("load",,i.src=t},putImageMask:function(t){this.outputCtx.globalCompositeOperation="source-over",this.outputCtx.drawImage(t,0,0,this.outputWidth,this.outputHeight),this.outputCtx.globalCompositeOperation="source-in"}},e.exports=o},{"../alphalfa-utils.js":82}],88:[function(t,e,i){var n=t("../alphalfa-utils.js"),o=o.prototype={setupRendererContext:getProcessFrameFunc:clearCanvas:teardown:function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vbuffer),t.bufferData(t.ARRAY_BUFFER,1,t.STATIC_DRAW),t.deleteBuffer(this.vbuffer),t.bindBuffer(t.ARRAY_BUFFER,this.texCoordBuffer),t.bufferData(t.ARRAY_BUFFER,1,t.STATIC_DRAW),t.deleteBuffer(this.texCoordBuffer),t.bindTexture(t.TEXTURE_2D,null),t.deleteTexture(this.stackTexture),this.gl=void 0,this.buffer&&(this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0)},determineGlRenderFunc:function(){return n.isIE()?this.ieProcessGlFrame.bind(this,this.gl,this.output,this.output.width,this.output.height):this.processGlFrame.bind(this,this.gl,this.output)},processGlFrame:function(t,e){this._updateTextureFromVideo(t),t.drawArrays(t.TRIANGLE_STRIP,0,4)},_updateTextureFromVideo:function(t){t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video)},ieProcessGlFrame:function(t,e,i,n){this._ieUpdateTextureFromVideo(t,i,n),t.drawArrays(t.TRIANGLE_STRIP,0,4)},_ieUpdateTextureFromVideo:function(t,e,i){this.bufferCtx.drawImage(this.video,0,0,e,2*i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.buffer)},_setupGlContext:function(t){n.isIE()&&(this.doDebug&&console.log("Using alternate IE render mode."),this._ieGlSetup()),t.enableVertexAttribArray(0),t.viewport(0,0,this.output.width,this.output.height),this.doDebug?t.clearColor(0,0,0,.1):t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),this.program=this._compileProgram(t,this.SHADER_VERTEX,this.SHADER_FRAGMENT),t.useProgram(this.program),this._getGlDataLocations(t),this._createAndBindTexCoordData(t),this._createAndBindTexture(t),this._createAndBindVertexData(t)},_ieGlSetup:function(){this.buffer=this.buffer||n.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d")},_getGlDataLocations:function(t){this.aTexCoord_loc=t.getAttribLocation(this.program,"aTexCoord"),this.aPosition_loc=t.getAttribLocation(this.program,"aPosition"),this.uImage_loc=t.getUniformLocation(this.program,"uImage")},_createAndBindVertexData:function(t){this.vbuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vbuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,1,1,1,-1,-1,1,-1]),t.STATIC_DRAW),t.enableVertexAttribArray(this.aPosition_loc),t.vertexAttribPointer(this.aPosition_loc,2,t.FLOAT,!1,0,0)},_createAndBindTexCoordData:function(t){this.texCoordBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.texCoordBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,.5,1,.5]),t.STATIC_DRAW),t.enableVertexAttribArray(this.aTexCoord_loc),t.vertexAttribPointer(this.aTexCoord_loc,2,t.FLOAT,!1,0,0),t.uniform2f(t.getUniformLocation(this.program,"uHalfTexOffset"),0,.5)},_createAndBindTexture:function(t){this.stackTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.stackTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)},_compileProgram:function(t,e,i){var n,o,r;return n=t.createShader(t.VERTEX_SHADER),t.shaderSource(n,e),t.compileShader(n),o=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(o,i),t.compileShader(o),r=t.createProgram(),t.attachShader(r,n),t.attachShader(r,o),t.linkProgram(r),t.getShaderParameter(n,t.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(vs) :: ",t.getShaderInfoLog(n)),t.getShaderParameter(o,t.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(fs) :: ",t.getShaderInfoLog(o)),t.getProgramParameter(r,t.LINK_STATUS)||console.log("gl.getProgramInfoLog(program) :: ",t.getProgramInfoLog(r)),r},SHADER_VERTEX:["","  attribute vec2 aPosition;","  attribute vec2 aTexCoord;","  varying vec2 vTexCoord;","  void main() {","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vTexCoord = aTexCoord;","  }",""].join("\n"),SHADER_FRAGMENT:["","  precision highp float;","  uniform sampler2D uImage;","  uniform vec2 uHalfTexOffset;","  varying vec2 vTexCoord;","  void main() {","    vec4 color = texture2D( uImage, vTexCoord );","    vec4 alpha = texture2D( uImage, vTexCoord + uHalfTexOffset );","    color[3] = alpha[0]; // avg alpha","    gl_FragColor = color;","  }",""].join("\n")},e.exports=o},{"../alphalfa-utils.js":82}],89:[function(t,e,i){var n=function(t){this.name=t.name,this.frames=t.frames,this.frameSpeed=t.frameSpeed,this.loop=!!t.loop,this.maxLoops=null!=t.maxLoops?t.maxLoops:0,this.onComplete=t.onComplete,this.onCompleteCallback=t.onCompleteCallback,this.currentFrame=0,this.loopCount=0};n.prototype={getClone:incrementLoopCount:overMaxLoops:function(){return 0!==this.maxLoops&&this.loopCount>=this.maxLoops}},e.exports=n},{}],90:[function(t,e,i){var l=t("./animaniac-animation.js");t("../polyfills/request-animation-frame.js");var n=function(t){this.injectEl=t.injectEl,this.animations={},this.animationConfigs=t.animations,this.autoplayAnimationName=t.autoplay,this.pauseFrame=t.pauseFrame||0,this.sprites={width:t.spriteWidth,height:t.spriteHeight},this.sheet={width:t.sheetWidth,height:t.sheetHeight},this.url=t.url,this.ready=!1,this.init()};n.prototype={doDebug:!1,log:function(){if(this.doDebug){var t=["Animaniac: "].concat(arguments);window.console.log.apply(window.console,t)}},init:setInitialStyle:function(){for(var t={display:"block",width:this.sprites.width+"px",height:this.sprites.height+"px",backgroundColor:"transparent",backgroundPosition:"0 0",backgroundRepeat:"no-repeat",backgroundSize:this.sheet.width+"px "+this.sheet.height+"px"},e=Object.keys(t),i=0;i<e.length;i++)this.el.style[e[i]]=t[e[i]]},prepareCoords:function(){this.cellCoords=this.determineCellCoords(),this.pauseCell=this.cellCoords[this.pauseFrame],this.animations=this.processAnimationConfigs(this.animationConfigs),this.applySpritesheet(),this.autoplayAnimationName?this.playAnimation(this.autoplayAnimationName):this.showCoords(this.pauseCell)},determineCellCoords:function(){var t=[];this.sheet.cols=Math.round(this.sheet.width/this.sprites.width),this.sheet.rows=Math.round(this.sheet.height/this.sprites.height);for(var e=1,i=1,n=(this.sprites.width,this.sprites.height,this.sheet.width,this.sheet.height,this.sheet.cols<=1?0:100/(this.sheet.cols-1)),o=this.sheet.rows<=1?0:100/(this.sheet.rows-1);e<=this.sheet.cols&&i<=this.sheet.rows;)if(t.push({x:((e-1)*n).toFixed(5),y:((i-1)*o).toFixed(5)}),e<this.sheet.cols)e++;else{if(!(i<this.sheet.rows))break;e=1,i++}return t},applySpritesheet:function(){this.el.style.backgroundImage="url("+this.url+")",this.injectEl.appendChild(this.el),this.ready=!0},play:pause:function(){this.paused=!0},unpause:isPaused:playAnimation:function(t){this.ready||this.log("Not ready! TODO, add Queuer."),this.currentAnimation=this.animations[t].getClone(),this.currentAnimation?(this.unpause(),this.startAnimation()):this.log("Non-existent animation name passed to Animaniac.play()")},startAnimation:function(){this.boundHandleRequestAnimationFrame=this.handleRequestAnimationFrame.bind(this),this.timeSince=0,this.lastTS=Date.now(),this.nextFrame(),window.requestAnimationFrame(this.boundHandleRequestAnimationFrame)},handleRequestAnimationFrame:function(){var t=Date.now();this.timeSince>this.currentAnimation.frameSpeed?(this.nextFrame(),this.timeSince=0):(this.timeSince+=t-this.lastTS,this.lastTS=t),this.isPaused()?this.showCoords(this.pauseCell):window.requestAnimationFrame(this.boundHandleRequestAnimationFrame)},nextFrame:function(){var t=this.currentAnimation,e=t.currentFrame,i=t.frames[e];if(this.showCoords(i),this.hasNextFrame(t,e))t.currentFrame++;else{if(!t.loop||t.overMaxLoops()){var n=t.onCompleteCallback;if(this.isValidCallback(n)){var o=n.args?n.args:[];n.callback.apply(n.thisArg,o)}return void("string"==typeof t.onComplete?this.playAnimation(t.onComplete):this.pause())}t.incrementLoopCount(),t.currentFrame=0}},isValidCallback:function(t){return!!t&&t.callback&&t.thisArg},hasNextFrame:function(t,e){return!!t.frames[e+1]},showCoords:function(t){var e=t;void 0!==t&&null!=t.x&&null!=t.y||(this.log('Bad coords object passed to "showCoords".'),e=this.pauseCell),this.el.style.backgroundPosition=e.x+"% "+e.y+"%"},setAnimationCoords:function(t){for(var e=0;e<this.animations.length;e++)for(var i=this.animations[e],n=0;n<i.frames.length;n++)i.frames[n]=t[i.frames[n]]},processAnimationConfigs:function(t){null==t&&this.log("Must configure animations!");for(var e={},i=0;i<t.length;i++){for(var n=t[i],o=n.name,r=this.processFrameSeq(n.frames),s=[],a=0;a<r.length;a++){var d=r[a];s.push(this.cellCoords[d])}e[o]=new l({name:o,frames:s,frameSpeed:this.getFrameSpeed(n.fps||24),loop:!!n.loop,maxLoops:n.maxLoops,onComplete:n.onComplete,onCompleteCallback:n.onCompleteCallback})}return e},processFrameSeq:function(t){return Array.isArray(t)?this.processFrameSeqArray(t):"string"==typeof t?this.processFrameSeqString(t):(this.log("Warning, unsupported frame sequence format."),[0])},processFrameSeqArray:function(t){for(var e=t,i=(e.length,0);i<e.length;)if("string"==typeof e[i]){var n=this.processFrameSeqString(e[i]),o=[i,1].concat(n);e.splice.apply(e,o),i+=n.length}else i++;return e},processFrameSeqString:function(t){var e=[],i=t.split("-");if(2!==i.length)return[parseInt(i[0],10)];for(var n=0;n<i.length-1;n++){var o=i[n],r=i[n+1];e=e.concat(this.framesBetween(o,r))}return e},framesBetween:function(t,e){var i=parseInt(t,10),n=parseInt(e,10);return i<n?this._framesBetweenIncremental(i,n):this._framesBetweenDecremental(i,n)},_framesBetweenIncremental:function(t,e){var i=[],n=t;for(i.push(n);++n<=e;)i.push(n);return i},_framesBetweenDecremental:function(t,e){var i=[],n=t;for(i.push(n);--n>=e;)i.push(n);return i},getFrameSpeed:,e.exports=n},{"../polyfills/request-animation-frame.js":95,"./animaniac-animation.js":89}],91:[function(t,e,i){var n=t("./zoolander.js"),o=function(t){t.targetDate||console.warn("Countdowner :: Required argument not provided."),this.el=t.el||document.createElement("div"),this.id="countdowner-"+Date.now()+Math.floor(1e4*Math.random()),this.init(t)};o.prototype={defaults:{splitChar:"",doPad:!1,hideAfterRelease:!1,periods:["days","hours","minutes","seconds"],periodContainerCss:{display:"inline-block"},periodCountCss:{display:"inline-block"},labels:["Days","Hrs","Mins","Secs"],printLabels:!1,labelsBelow:!0,labelsCss:{display:"inline-block"}},classPrefix:"cd-",init:function(t){this.targetDate=this.determineTargetDate(t.targetDate),this.setConfig(t),t.hideAfterRelease&&this.timeRemaining()<=0||(this.zoo=t.zoolander||new n,this.injectCss(),this.initializeHtml(),this.printLabels&&this.initializeLabels(),this._render(),this.renderBind=this._render.bind(this),clearInterval(this.renderInterval),this.renderInterval=setInterval(this.renderBind,1e3))},setConfig:function(t){var e=this.addDefaults(t);for(var i in delete e.targetDate,e)e.hasOwnProperty(i)&&(this[i]=e[i])},addDefaults:function(t){var e=t;for(var i in this.defaults)this.defaults.hasOwnProperty(i)&&(this.isDefined(t[i])||(e[i]=this.defaults[i]));return e},determineTargetDate:function(t){var e;if("object"==typeof t&&this.isDefined(t.month)){var i=t.date||t.day;e=new Date(t.year,t.month-1,i)}else"object"==typeof t&&t instanceof Date?e=t:"string"==typeof t?e=new Date(t):console.warn("No date or invalid date provided. Aborting Countdowner.");return e},makeEl:function(t,e){var i=this.isDefined(e)?e:"div",n=document.createElement(i);if("string"==typeof t)n.classList.add(this.classPrefix+t);else for(var o=0;o<t.length;o++)n.classList.add(this.classPrefix+t[o]);return n},initializeHtml:function(){this.container=this.makeEl("container"),this.container.id=this.id;var t=this.periods;this.periodEls=[];for(var e=t[t.length-1],i=0;i<t.length;i++){var n=this.makePeriodContainer(t[i]);this.container.appendChild(n),this.periodEls[t[i]]=n,this.splitChar&&""!==this.splitChar&&t[i]!==e&&this.container.appendChild(this.makeSplitContainer())}this.el.innerHTML="",this.el.appendChild(this.container)},appendCountChildren:function(t){var e=this.makeEl("count","div");t.appendChild(e)},makePeriodContainer:function(t){var e=this.makeEl([t,"period-container"]);return this.appendCountChildren(e),e},makeSplitContainer:function(){var t=this.makeEl("split-el","span");return t.innerHTML=" "+this.splitChar+" ",t},initializeLabels:function(){for(var t=0;t<this.labels.length;t++){var e=this.makeLabel(this.labels[t],this.periods[t]),i=this.periodEls[this.periods[t]];this.labelsBelow?i.appendChild(e):i.insertBefore(e,i.children[0])}},makeLabel:function(t,e){var i=this.makeEl(["label","label-"+e],"span");return i.innerHTML=t,i},msSec:1e3,msMin:6e4,msHour:36e5,msDay:864e5,timeRemaining:function(){var t=Date.now(),e=this.targetDate.valueOf()-t;return 0<e?e:0},calcRemaining:function(){var t={days:0,hours:0,minutes:0,seconds:0},e=this.timeRemaining();if(0===e)return t;var i=e;if(t.days=Math.floor(i/this.msDay),i-=t.days*this.msDay,t.hours=Math.floor(i/this.msHour),i-=t.hours*this.msHour,t.minutes=Math.floor(i/this.msMin),i-=t.minutes*this.msMin,t.seconds=Math.floor(i/this.msSec),this.doPad)for(var n in t)t.hasOwnProperty(n)&&(t[n]=this.pad(t[n]));return t},pad:function(t){return 10<=t?t:"0"+t},container:el:_render:function(){var t=this.calcRemaining();this.periodEls.days.children[0].innerHTML=t.days,this.periodEls.hours.children[0].innerHTML=t.hours,this.periodEls.minutes.children[0].innerHTML=t.minutes,this.periodEls.seconds.children[0].innerHTML=t.seconds},injectCss:function(){var t="#"+this.id,e=t+" ."+this.classPrefix,i=[[t,{"box-sizing":"border-box"}],[t+" *",{"box-sizing":"inherit"}],[e+"period-container",this.periodContainerCss],[e+"count",this.periodCountCss],[e+"label",this.labelsCss]];this.zoo.insertRules(i)},isDefined:,e.exports=o},{"./zoolander.js":113}],92:[function(t,e,i){t("../polyfills/request-animation-frame.js");var E=t("./cuepoint.js"),T=t("../utils/notifier.js"),S={onCuepoint:"onCuepoint"};function n(t){var e,i=T(),n=!1,o=null,r=null,s=!1,a=!1,d=[];function l(t){var e,i,n,o;if(!(t&&0<t.length))return null;for(e=[],i=t.length-1;-1!==i;i--)n=t[i],o=E(n),n.error||e.push(o);return e}function c(t){for(var e,i=null,n=d&&0<d.length?d.length:0,o=0;o<n&&null===i;o++)i=(e=d[o]).time>t?e:i;return i}function u(t){null!==e&&b(),void 0===(e=t)||"VIDEO"!==e.tagName&&"AUDIO"!==e.tagName||(_(),0<e.duration&&p())}unction p(){var t;if(d&&0!==d.length){for(t=d.length-1;-1!==t;t--)d[t].adjustToDuration(e.duration);d.sort(h),o=c(e.currentTime)}}function f(){o&&void 0!==typeof o.time&&null!==o.time&&e&&void 0!==typeof e.currentTime&&null!==e.currentTime&&o.time<=e.currentTime&&(r=o,n||(r.trigger(e),i.notify(S.onCuepoint,[r,e])),o=c(e.currentTime)),s&&window.requestAnimationFrame(f)}ction y(){s&&"hidden"===document.visibilityState&&e.addEventListener("timeupdate",f),"hidden"!==document.visibilityState&&e.removeEventListener("timeupdate",f)}function _(){a||(a=!0,e.addEventListener("durationchange",p),e.addEventListener("seeked",m),e.addEventListener("playing",g),e.addEventListener("pause",v),e.addEventListener("ended",v),e.addEventListener("abort",v),e.addEventListener("emptied",v),e.addEventListener("error",v),e.addEventListener("stalled",v),e.addEventListener("waiting",v),document.addEventListener("visibilitychange",y))}function b(){a&&(a=!1,e.removeEventListener("durationchange",p),e.removeEventListener("seeked",m),e.removeEventListener("playing",g),e.removeEventListener("pause",v),e.removeEventListener("ended",v),e.removeEventListener("abort",v),e.removeEventListener("emptied",v),e.removeEventListener("error",v),e.removeEventListener("stalled",v),e.removeEventListener("waiting",v),e.removeEventListener("timeupdate",f),document.removeEventListener("visibilitychange",y))}function w(t){!function(t,e){for(var i,n=!1,o=Object.keys(e),r=o.length,s=0;s<r&&!n;s++)i=o[s],n=t.hasOwnProperty(i);return n}(t,S)?console.warn("CuepointEngine.subscribe() :: observer must have valid notification keys!\n\tValid notification keys = '"+Object.keys(S).join("', '")+"'\n\tObserver:",t):i.subscribe(t)}function A(t){var e=t.cuepoints&&0<t.cuepoints.length?t.cuepoints:[];d=l(e),u(t.media),t.observer&&w(t.observer)}return A(t),{init:A,start:_,stop:b,destroy:function(){b(),i.clear(),s=!1,e=d=r=o=null},getCuepoints:function(){return d},setCuepoints:function(t){var e=0<t.length?t:[];d=l(e)},addCuepoint:function(t){E(t).error||(d.push(E(t)),p())},removeCuepoint:function(t){var e=d.indexOf(t);-1<e&&(d.splice(e,1),p())},getMedia:function(){return e},setMedia:u,getIgnoreCuepoints:function(){return n},setIgnoreCuepoints:subscribe:w,unsubscribe:i.unsubscribe,NOTIFICATIONS:S}}Object.defineProperty(n,"NOTIFICATIONS",{value:S,writable:!1,enumerable:!0,configurable:!1}),e.exports=n},{"../polyfills/request-animation-frame.js":95,"../utils/notifier.js":109,"./cuepoint.js":93}],93:[function(t,e,i){function d(s){var i=function(t){for(var e,i={},n=s.replace(/(\D{1,})([\d])/g,"$1,$2").split(","),o=0,r=n.length;o<r;o++)i[(e=n[o].split(/(\D{1,})/))[1]]=parseInt(e[0],10);return i}(),n={m:6e4,s:1e3,ms:1};return Object.keys(i).reduce(0)}e.exports=function(t){if(!t||!t.hasOwnProperty("time"))return{time:-1,error:"Cuepoint Error: cuepointData is invalid",data:t};var i,n={},e=[],o=t.time,r="string"==typeof o,s=r?o.match(/\-?\d+([%msh]+)/):[],a=s&&0<s.length?s[1]:"ms";switch(!0){case r&&"%"===a:i=parseInt(o,10);break;case!r:i=o;break;case r&&0===o.indexOf("-")||o<0:i=-d(o.substring(1)),a="ms";break;default:i=d(o),a="ms"}return n.timestamp=o,n.endOffset=i<0,n.durationDependent="%"===a||n.endOffset,n.time=function(t,e){var i;switch(!0){case"s"===a:i=t;break;case"%"===a:i=t/100;break;default:i=t/1e3}return i}(i),n.name=t.hasOwnProperty("name")?t.name:"Unnamed Cuepoint",n.type=t.hasOwnProperty("type")?t.type:"cuepoint",n.data=t.hasOwnProperty("data")?t.data:{},t.hasOwnProperty("callback")&&"function"==typeof t.callback&&(n.callback=t.callback),n.trigger=function(t){return n.callback&&n.callback(n,t),e.push(Date.now()),n},n.reset=n.getHistory=n.adjustToDuration=function(t){var e;return"%"===a&&(e=t*(i/100),n.time=e),n.endOffset&&(e=t+i/1e3,n.time=e),n},n}},{}],94:[function(t,e,i){var n={AlphalfaPlayer:t("./alphalfa/alphalfa.js"),Animaniac:t("./animaniac/animaniac.js"),Countdowner:t("./countdowner.js"),CuepointEngine:t("./cuepoints/cuepoint-engine.js"),Reely:t("./reely/reely.js"),Uatu:t("./uatu.js"),Zoolander:t("./zoolander.js")};window.ad_design=n,e.exports=n},{"./alphalfa/alphalfa.js":83,"./animaniac/animaniac.js":90,"./countdowner.js":91,"./cuepoints/cuepoint-engine.js":92,"./reely/reely.js":106,"./uatu.js":107,"./zoolander.js":113}],95:[function(t,e,i){!)},{}],96:[{}],97:[function(t,e,i){var n=t("./reely-scrubber.js"),o=t("./reely-css-classes.js"),r=t("./reely-el-maker.js"),s=t("./reely-events.js"),a=function(t,e){this.eventBus=t.eventBus,this.spriteDimensions=t.spriteDimensions,this.controlBarConfig=t.controlBarConfig,this.spritesheet=t.spritesheet,this.zoo=t.zoo,this.init(e)};a.prototype={FADE_DELAY_SECS:2,init:function(t){this.el=r.make("div",o.CONTROL_BAR_CONTAINER),this.el.style.display="none",this.reely=t,this.controlBar=r.make("div",[o.CONTROL_BAR,o.REPEAT_X_SPRITE+"-controlsBG"]),this.appendTableLayoutDivs(this.controlBar),this.injectControlsStyles(),this.populateControls(),this.el.appendChild(this.controlBar),this.controlBarConfig.autohide&&(this.fadeOutBind=this.fadeOut.bind(this),this.resetFadeOutDelay(),this.autohideListen()),this.broadcastInteraction(),this.listen()},populateControls:function(){this.createControlButtons(),this.scrubber=new n({eventBus:this.eventBus,spritesheet:this.spritesheet,spriteDimensions:this.spriteDimensions,zoo:this.zoo}),this.midCell.appendChild(this.scrubber.getEl())},clearFadeOutDelay:resetFadeOutDelay:function(){this.clearFadeOutDelay(),this.fadeOutDelay=setTimeout(this.fadeOutBind,1e3*this.FADE_DELAY_SECS)},fadeIn:function(){o.remove(this.el,o.TRANSPARENT),this.eventBus.trigger(s.FADE_IN_START)},fadeOut:function(){o.add(this.el,o.TRANSPARENT),this.eventBus.trigger(s.FADE_OUT_START)},broadcastInteraction:function(){this.el.addEventListener("mousemove",this.eventBus.triggers[s.MOUSE_MOVE])},listen:function(){this.eventBus.addEventListener(s.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.addEventListener(s.VID_PLAY,this.togglePlayPause,this,"play"),this.eventBus.addEventListener(s.VID_PAUSE,this.togglePlayPause,this,"pause"),this.eventBus.addEventListener(s.MUTED,this.toggleMuteUnmute,this,"unmuted"),this.eventBus.addEventListener(s.UNMUTED,this.toggleMuteUnmute,this,"muted"),this.eventBus.addEventListener(s.VID_EXITFULLSCREEN,this.toggleNormalFullscreen,this,"normal"),this.eventBus.addEventListener(s.VID_ENTERFULLSCREEN,this.toggleNormalFullscreen,this,"fullscreen")},autohideListen:teardown:function(){this.clearFadeOutDelay(),this.scrubber.teardown(),this.el.removeEventListener("mousemove",this.eventBus.triggers[s.MOUSE_MOVE]),this.eventBus.removeEventListener(s.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.removeEventListener(s.VID_PLAY,this.togglePlayPause,this,"play"),this.eventBus.removeEventListener(s.VID_PAUSE,this.togglePlayPause,this,"pause"),this.eventBus.removeEventListener(s.MUTED,this.toggleMuteUnmute,this,"unmuted"),this.eventBus.removeEventListener(s.UNMUTED,this.toggleMuteUnmute,this,"muted"),this.eventBus.removeEventListener(s.VID_EXITFULLSCREEN,this.toggleNormalFullscreen,this,"normal"),this.eventBus.removeEventListener(s.VID_ENTERFULLSCREEN,this.toggleNormalFullscreen,this,"fullscreen"),this.eventBus.removeEventListener(s.MOUSE_IN,this.onMouseIn,this),this.eventBus.removeEventListener(s.MOUSE_OUT,this.onMouseOut,this),this.eventBus.removeEventListener(s.MOUSE_MOVE,this.onMouseMove,this)},onLoadedData:togglePlayPause:function(t){var e=this.isToggled(this.playPause);(!e&&"play"===t||e&&"pause"===t)&&this.toggleTwoState(this.playPause)},toggleMuteUnmute:function(t){var e=this.isToggled(this.muteUnmute);(!e&&"muted"===t||e&&"unmuted"===t)&&this.toggleTwoState(this.muteUnmute)},toggleNormalFullscreen:function(t){var e=this.isToggled(this.fullscreenNormal);(!e&&"fullscreen"===t||e&&"normal"===t)&&this.toggleTwoState(this.fullscreenNormal)},isToggled:toggleTwoState:function(t){this.isToggled(t)?o.remove(t,o.TOGGLED):o.add(t,o.TOGGLED)},onMouseIn:function(t){this.fadeIn()},onMouseMove:onMouseOut:appendTableLayoutDivs:function(t){this.midCell=r.make("div",o.CONTROL_BAR_MID),this.leftCell=r.make("div",o.CONTROL_BAR_LEFT),this.rightCell=r.make("div",o.CONTROL_BAR_RIGHT),t.appendChild(this.midCell),t.appendChild(this.leftCell),t.appendChild(this.rightCell)},createControlButtons:function(){this.playPause=r.createTwoStateButton("play-pause",[{defaultIconName:"play",hoverIconName:"play-hover"},{defaultIconName:"pause",hoverIconName:"pause-hover"}]),this.muteUnmute=r.createTwoStateButton("mute-unmute",[{defaultIconName:"sound-off",hoverIconName:"sound-off-hover"},{defaultIconName:"sound-on",hoverIconName:"sound-on-hover"}]);var t=this.eventBus.triggerBind(s.PLAY_PAUSE_TOGGLE),e=this;this.playPause.addEventListener("click",function(){return e.reely&&(e.reely.isPausedByUser=e.reely.isPlaying()),t()}),this.leftCell.appendChild(this.playPause),this.muteUnmute.addEventListener("click",this.eventBus.triggerBind(s.MUTE_UNMUTE_TOGGLE)),this.rightCell.appendChild(this.muteUnmute)},addFullscreenButton:function(){o.add(this.midCell,o.CONTROL_BAR_MID+"-fullscreen"),o.add(this.rightCell,o.CONTROL_BAR_RIGHT+"-fullscreen"),this.fullscreenNormal=r.createTwoStateButton("fullscreen-normal",[{defaultIconName:"fullscreen",hoverIconName:"fullscreen-hover"},{defaultIconName:"normal",hoverIconName:"normal-hover"}]),this.fullscreenNormal.addEventListener("click",this.eventBus.triggerBind(s.FULLSCREEN_NORMAL_TOGGLE)),this.rightCell.appendChild(this.fullscreenNormal)},injectControlsStyles:function(){var t=[];t=(t=t.concat(this.getButtonStyles())).concat(this.getControlBarStyles()),this.zoo.insertRules(t)},determineButtonVisualWidth:function(){return this.spriteDimensions.spriteWidth+2*this.spriteDimensions.buttonPadding},determineContainerStyles:function(){var t=this.controlBarConfig,e={position:"absolute",display:"inline-block",height:t.height+"px",width:"100%",transition:"opacity 1s ease"};return"center"===t.anchorX&&(e.margin="0 auto",e.textAlign="center"),e[t.anchorY]=t.offsetY,e},determineBarElStyles:function(){var t=this.controlBarConfig,e={position:"relative",display:"block",height:"inherit",width:t.width,"background-color":"transparent","background-position":"0 0","background-repeat":"repeat-x"};return this.controlBarConfig.hideBG||(e["background-image"]='url("'+this.spritesheet.getSrc()+'")'),"center"===t.anchorX?e.margin="0 auto":e[t.anchorX]=t.offsetX,e},getButtonStyles:function(){return[["."+o.BUTTON_ICON,{height:this.spriteDimensions.spriteHeight+"px",width:this.spriteDimensions.spriteWidth+"px",padding:this.spriteDimensions.buttonPadding+"px"}]]},getControlBarStyles:function(){var t=this.determineButtonVisualWidth(),e=this.determineContainerStyles(),i=this.determineBarElStyles();return[["."+o.CONTROL_BAR_CONTAINER,e],["."+o.FULLSCREEN+" ."+o.CONTROL_BAR_CONTAINER,{bottom:0,top:"auto"}],["."+o.CONTROL_BAR,i],["."+o.FULLSCREEN+" ."+o.CONTROL_BAR,{left:0,right:"auto",width:"100%"}],[["."+o.CONTROL_BAR_LEFT,"."+o.CONTROL_BAR_RIGHT],{display:"inline-block",height:"100%",width:t+"px"}],[["."+o.CONTROL_BAR_RIGHT+"-fullscreen"],{width:2*t+"px"}],["."+o.CONTROL_BAR_LEFT,{float:"left"}],["."+o.CONTROL_BAR_RIGHT,{float:"right"}],["."+o.CONTROL_BAR_MID,{position:"absolute",left:"0",display:"block",height:"100%",width:"100%","box-sizing":"border-box","padding-left":t+"px","padding-right":t+"px"}],["."+o.CONTROL_BAR_MID+"-fullscreen",{"padding-right":2*t+"px"}],[".reely-two-state-fullscreen-normal",{"padding-left":t+"px"}]]}},e.exports=a},{"./reely-css-classes.js":98,"./reely-el-maker.js":99,"./reely-events.js":101,"./reely-scrubber.js":104}],98:[function(t,e,i){var n={CONTAINER:"reely-container",VIDEO:"reely-video",OVERLAY_CONTAINER:"reely-overlay-container",OVERLAY_SLATE:"reely-overlay-slate",CONTROL_BAR_CONTAINER:"reely-control-bar-container",CONTROL_BAR:"reely-control-bar",CONTROL_BAR_LEFT:"reely-control-bar-left",CONTROL_BAR_RIGHT:"reely-control-bar-right",CONTROL_BAR_MID:"reely-control-bar-mid",BUTTON:"reely-button",BUTTON_ICON:"reely-button-icon",BUTTON_ICON_LARGE:"reely-button-icon-large",TWO_STATE_BUTTON:"reely-two-state",TWO_STATE_DEFAULT:"reely-two-state-default",TWO_STATE_ALT:"reely-two-state-toggled",REPEAT_X_SPRITE:"reely-repeat-x-sprite",ICON_LARGE:"reely-icon-large",ICON:"reely-icon",ICON_DEFAULT:"reely-default-icon",ICON_HOVER:"reely-hover-icon",ICON_ACTIVE:"reely-toggle-active",ICON_DOWN:"reely-toggle-down",LOADING_SPINNER:"reely-loading-spinner",SCRUBBER_CONTAINER:"reely-scrubber-container",TOGGLED:"reely-toggled",UNSELECTABLE:"reely-unselectable",HIDDEN:"reely-hidden",INVISIBLE:"reely-invisible",TRANSPARENT:"reely-transparent",FULLSCREEN:"reely-fullscreen",add:function(t,e){switch(void 0===e&&console.warn("Attempted to add() an undefined class."),this.mode()){case"modern":return t.classList.add(e);case"oldIE":return t.className+=" "+e}},contains:function(t,e){switch(void 0===e&&console.warn("Attempted to check contains() an undefined class."),this.mode()){case"modern":return t.classList.contains(e);case"oldIE":return-1!==t.className.split(" ").indexOf(e)}},remove:function(t,e){void 0===e&&console.warn("Attempted to remove() an undefined class."),this._removeClass||(this._removeClass=this.removeModes[this.mode()]),this._removeClass(t,e)},removeModes:{modern:oldIE:function(t,e){var i=t.className.split(" "),n=i.indexOf(e);-1!==n&&i.splice(n,1),t.className=i.join(" ")}},mode:function(){if(!this._mode){var t=document.createElement("div");this._mode="classList"in t?"modern":"oldIE",t=void 0}return this._mode}};e.exports=n},{}],99:[function(t,e,i){var d=t("./reely-css-classes.js"),n={make:function(t,e,i){var n=document.createElement(t);return n.setAttribute("class",this.arrayWrap(e).join(" ")),i&&(n.id=i),n},createIcon:function(t,e){return this._createIcon(d.ICON,t,e)},createLargeIcon:_createIcon:function(t,e,i){var n=this.concatClasses([t,t+"-"+e],i);return this.make("div",n)},createRepeatXSprite:function(t,e){var i=this.concatClasses([d.REPEAT_X_SPRITE,d.REPEAT_X_SPRITE+"-"+t],e);return this.make("div",i)},createSpriteEl:function(t,e){var i=t;return e&&(i=this.concatClasses(i,e)),this.make("div",i)},concatClasses:function(t,e){return e?"string"==typeof e?(t.push(e),t):t.concat(e):t},createTwoStateButton:function(t,e){var i=this.createIcon,n=d.BUTTON_ICON;return this._createTwoStateButton(t,e,n,i)},createLargeTwoStateButton:function(t,e){var i=this.createLargeIcon,n=d.BUTTON_ICON_LARGE;return this._createTwoStateButton(t,e,n,i)},_createTwoStateButton:function(t,e,i,n){var o=this.make("div",[d.TWO_STATE_BUTTON,d.TWO_STATE_BUTTON+"-"+t]),r=this.createButtonState(e[0],d.TWO_STATE_DEFAULT,i,n),s=this.createButtonState(e[1],d.TWO_STATE_ALT,i,n);return o.appendChild(r),o.appendChild(s),o},createButtonState:function(t,e,i,n){return n||(n=this.createIcon),i||(i=d.BUTTON_ICON),this._createButtonState(t,e,i,n)},_createButtonState:function(t,e,i,n){var o=[d.BUTTON,d.UNSELECTABLE];o.push(i),e&&(o=o.concat(this.arrayWrap(e)));var r=this.make("div",o),s=n.call(this,t.defaultIconName,d.ICON_DEFAULT),a=n.call(this,t.hoverIconName,d.ICON_HOVER);return r.appendChild(s),r.appendChild(a),r},arrayWrap:function(t){return void 0===t?[]:"[object Array]"!==Object.prototype.toString.call(t)?[t]:t}};e.exports=n},{"./reely-css-classes.js":98}],100:[function(t,e,i){var n=t("./reely-events.js"),o=function(){this.init()};o.prototype={reelyEvents:[],init:function(){this.triggers={},this.listeners={},this.reelyEvents=this.getReelyEventsArray();for(var t=0;t<this.reelyEvents.length;t++){var e=this.reelyEvents[t];this.triggers[e]=this.triggerBind(e),this.listeners[e]=[]}},getReelyEventsArray:addEventListener:function(t,e,i){this.listeners[t]||console.warn("Attempted to addEventListener with unsupported event :: ",t);var n=Array.prototype.slice.call(arguments);n.splice(0,3);var o={callback:e,context:i,args:n};this.listeners[t].push(o)},removeEventListener:function(t,e,i){this.listeners[t]||console.warn("Attempted to removeEventListener with unsupported event :: ",t);for(var n,o=this.listeners[t].slice(),r=0;r<o.length;r++)if((n=o[r]).callback===e&&n.context===i){o.splice(r,1);break}this.listeners[t]=o},triggerBind:trigger:function(t){this.listeners[t]||console.warn("Attempted to trigger an unsupported event :: ",t);var e=Array.prototype.slice.call(arguments);e.splice(0,1);for(var i,n=this.listeners[t],o=[],r=0;r<n.length;r++)o=(i=n[r]).args.concat(e),i.callback.apply(i.context,o)}},e.exports=o},{"./reely-events.js":101}],101:[{}],102:[function(t,e,i){var n=t("./reely-css-classes.js"),o=t("./reely-el-maker.js"),r=t("./reely-events.js"),s=s.prototype={PROGRESS_TICKS_TO_SHOW:5,init:function(){this.el=o.make("div",n.LOADING_SPINNER+"-outer-container"),this.innerContainer=o.make("div",n.LOADING_SPINNER+"-inner-container"),this.spinner=o.make("div",n.LOADING_SPINNER),this.innerContainer.appendChild(this.spinner),this.el.appendChild(this.innerContainer),this.injectLoadingSpinnerCSS(),this.progressTicks=0,this.listen()},listen:function(){this.eventBus.addEventListener(r.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.addEventListener(r.VID_CANPLAY,this.onCanPlay,this),this.eventBus.addEventListener(r.VID_PROGRESS,this.onProgress,this),this.eventBus.addEventListener(r.VID_SUSPEND,this.onSuspend,this),this.eventBus.addEventListener(r.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.addEventListener(r.VID_PLAY,this.onPlay,this),this.eventBus.addEventListener(r.VID_PAUSE,this.onPause,this)},teardown:onPlay:function(){this.isPlaying=!0,this.progressTicks=0},onPause:onLoadedMetadata:function(){this.show()},onCanPlay:onSuspend:onProgress:function(){this.isPlaying&&(this.progressTicks++,this.progressTicks>=this.PROGRESS_TICKS_TO_SHOW&&this.show())},onTimeUpdate:hide:function(){this.isHidden||(this.isHidden=!0,n.add(this.el,n.HIDDEN),n.remove(this.spinner,n.TRANSPARENT))},show:function(){this.isHidden&&(this.isHidden=!1,n.remove(this.el,n.HIDDEN),n.remove(this.spinner,n.TRANSPARENT))},injectLoadingSpinnerCSS:function(){var t="loading-spinner-spin";this.zoo.insertKeyframes(t,this.getSpinnerKeyframes());var e=[];e=e.concat(this.getSpinnerStyles()),this.zoo.insertRules(e),this.zoo.insertAnimation("."+n.LOADING_SPINNER,"animation",t+" 1.6s linear infinite")},getSpinnerKeyframes:getSpinnerStyles:function(){return[["."+n.LOADING_SPINNER+"-outer-container",{position:"absolute",top:"50%",left:"50%",height:0,width:0}],["."+n.LOADING_SPINNER+"-inner-container",{display:"block",height:"64px",width:"64px",transform:"translate(-50%, -50%)"}],["."+n.LOADING_SPINNER,{display:"block","box-sizing":"border-box",height:"64px",width:"64px",background:"transparent","border-radius":"50%","border-top":"7px solid rgba(255, 255, 255, 1)","border-right":"7px solid rgba(255, 255, 255, 0.5)","border-bottom":"7px solid rgba(255, 255, 255, 0.5)","border-left":"7px solid rgba(255, 255, 255, 0.5)",transition:"opacity 1s ease-out"}]]}},e.exports=s},{"./reely-css-classes.js":98,"./reely-el-maker.js":99,"./reely-events.js":101}],103:[function(t,e,i){var n=t("./reely-css-classes.js"),o=t("./reely-el-maker.js"),r=t("./reely-events.js"),s=t("./reely-loading-spinner.js"),a=function(t,e){this.eventBus=t.eventBus,this.spritesheet=t.spritesheet,this.spriteDimensions=t.spriteDimensions,this.slate=t.slate,this.zoo=t.zoo,this.loadingSpinner=new s(t),this.init(e)};a.prototype={init:function(t){this.el=o.make("div",n.OVERLAY_CONTAINER),this.reely=t,this.isPlaying(!1),this.isEnded(!1),this.showSlate(),this.playReplay=o.createLargeTwoStateButton("overlay-play-pause",[{defaultIconName:"overlay-play",hoverIconName:"overlay-play-hover"},{defaultIconName:"overlay-replay",hoverIconName:"overlay-replay-hover"}]),this.el.appendChild(this.playReplay),this.el.appendChild(this.loadingSpinner.el),this.hide(),this.broadcastInteraction(),this.injectOverlayStyles(),this.listen()},hide:function(){n.add(this.playReplay,n.TRANSPARENT)},show:function(){n.remove(this.playReplay,n.TRANSPARENT)},hideSlate:function(){n.remove(this.el,n.OVERLAY_SLATE)},showSlate:function(){n.add(this.el,n.OVERLAY_SLATE)},listen:teardown:function(){this.loadingSpinner.teardown(),this.el.removeEventListener("click",this.eventBus.triggers[r.PLAY_PAUSE_TOGGLE]),this.el.removeEventListener("mouseenter",this.eventBus.triggers[r.MOUSE_IN]),this.el.removeEventListener("mouseleave",this.eventBus.triggers[r.MOUSE_OUT]),this.el.removeEventListener("mousemove",this.eventBus.triggers[r.MOUSE_MOVE]),this.eventBus.removeEventListener(r.VID_CANPLAY,this.onLoadedMetadata,this),this.eventBus.removeEventListener(r.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.eventBus.removeEventListener(r.VID_PLAY,this.onPlay,this),this.eventBus.removeEventListener(r.VID_PAUSE,this.onPause,this),this.eventBus.removeEventListener(r.VID_ENDED,this.onVideoEnded,this)},broadcastInteraction:function(){var t=this.eventBus.triggers[r.PLAY_PAUSE_TOGGLE],e=this;this.el.addEventListener("click",function(){return e.reely&&(e.reely.isPausedByUser=e.reely.isPlaying()),t()}),this.el.addEventListener("mouseenter",this.eventBus.triggers[r.MOUSE_IN]),this.el.addEventListener("mouseleave",this.eventBus.triggers[r.MOUSE_OUT]),this.el.addEventListener("mousemove",this.eventBus.triggers[r.MOUSE_MOVE])},onCanPlay:onScrubberBarClick:function(){this.setToPlayIcon(),this.hideSlate()},onPlay:function(){this.setToPlayIcon(),this.isEnded(!1),this.isPlaying(!0),this.hide(),this.hideSlate()},onPause:onVideoEnded:setToPlayIcon:function(){n.remove(this.playReplay,n.TOGGLED)},setToReplayIcon:function(){n.add(this.playReplay,n.TOGGLED)},isPlaying:function(t){return null!=t&&(this._isPlaying=t),this._isPlaying},isEnded:injectOverlayStyles:function(){var t=[];t=(t=(t=(t=t.concat(this.getContainerStyles())).concat(this.getSlateStyles())).concat(this.getButtonStyles())).concat(this.getHoverOverrideStyles()),this.zoo.insertRules(t)},getContainerStyles:function(){return[["."+n.OVERLAY_CONTAINER,{position:"absolute",top:0,left:0,display:"block",height:"100%",width:"100%",cursor:"pointer","text-align":"center"}],["."+n.OVERLAY_CONTAINER+" *",{visibility:"inherit"}]]},getSlateStyles:function(){return this.slate?[["."+n.OVERLAY_SLATE,{background:"url("+this.slate+") no-repeat center center transparent","background-size":"contain"}]]:[]},getButtonStyles:function(){return[["."+n.OVERLAY_CONTAINER+" ."+n.TWO_STATE_BUTTON,{top:"50%",left:"50%"}],["."+n.OVERLAY_CONTAINER+" ."+n.BUTTON_ICON_LARGE,{transform:"translate(-50%, -50%)"}],["."+n.BUTTON_ICON_LARGE,{height:this.spriteDimensions.overlaySpriteHeight+"px",width:this.spriteDimensions.overlaySpriteWidth+"px",padding:this.spriteDimensions.buttonPadding+"px"}]]},getHoverOverrideStyles:function(){var t=n;return[[["."+t.OVERLAY_CONTAINER+" ."+t.TWO_STATE_BUTTON+" ."+t.TWO_STATE_DEFAULT,"."+t.OVERLAY_CONTAINER+" ."+t.TWO_STATE_BUTTON+" ."+t.TWO_STATE_DEFAULT],{visibility:"inherit"}],[["."+t.OVERLAY_CONTAINER+" ."+t.BUTTON+" ."+t.ICON_DEFAULT,"."+t.OVERLAY_CONTAINER+":hover ."+t.BUTTON+" ."+t.ICON_HOVER],{opacity:1}],[["."+t.OVERLAY_CONTAINER+":hover ."+t.BUTTON+" ."+t.ICON_DEFAULT,"."+t.OVERLAY_CONTAINER+" ."+t.BUTTON+" ."+t.ICON_HOVER],{opacity:0}],[["."+t.OVERLAY_CONTAINER+":hover ."+t.BUTTON+" ."+t.ICON_DEFAULT,"."+t.OVERLAY_CONTAINER+" ."+t.BUTTON+" ."+t.ICON_HOVER],{transition:"opacity 0.2s linear"}],["."+t.OVERLAY_CONTAINER+":hover ."+t.BUTTON+" ."+t.ICON_DEFAULT,{transition:"opacity 0s linear 0.2s"}]]}},e.exports=a},{"./reely-css-classes.js":98,"./reely-el-maker.js":99,"./reely-events.js":101,"./reely-loading-spinner.js":102}],104:[function(t,e,i){var n=t("./reely-css-classes.js"),o=t("./reely-el-maker.js"),r=t("./reely-events.js"),s=s.prototype={init:function(){this.el=o.make("div",n.SCRUBBER_CONTAINER),this.el.addEventListener("click",this.onScrubberClick.bind(this)),this.els=this.createScrubberBarEls(),this.appendEls(),this.injectScrubberStyles(),this.listen()},getEl:function(){return this.el},appendEls:function(){this.el.appendChild(this.els.bg),this.el.appendChild(this.els.buffered),this.el.appendChild(this.els.played),this.el.appendChild(this.els.thumb)},createScrubberBarEls:function(){var t={};return t.bg=o.createRepeatXSprite("scrubber-bg"),t.bg.style.width="100%",t.played=o.createRepeatXSprite("scrubber-played-bg"),t.played.style.width=0,t.buffered=o.createRepeatXSprite("scrubber-buffered-bg"),t.buffered.style.width=0,t.thumb=o.createButtonState({defaultIconName:"scrubber-tab",hoverIconName:"scrubber-tab-hover"},n.BUTTON+"-scrubber-tab"),t},listen:function(){this.eventBus.addEventListener(r.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.addEventListener(r.VID_PLAY,this.onPlay,this)},teardown:function(){this.eventBus.removeEventListener(r.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.removeEventListener(r.VID_PLAY,this.onPlay,this)},onPlay:onTimeUpdate:function(t){var e,i=Date.now();this.lastUpdateMs&&(e=(i-this.lastUpdateMs)/1e3);var n=t.target,o=n.currentTime/n.duration;this.setScrubberBar(o,e);var r=this.determineBufferedFraction(n.buffered,n.duration);this.setBufferBar(r),this.lastUpdateMs=i},setScrubberTransition:function(t){t?(this.els.played.style.transition="width "+t+"s linear",this.els.thumb.style.transition="left "+t+"s linear"):(this.els.played.style.transition="",this.els.thumb.style.transition="")},onScrubberClick:function(t){if(!n.contains(t.target,"reely-icon")){var e=(void 0!==t.offsetX?t.offsetX:t.layerX)/this.el.clientWidth;this.eventBus.trigger(r.SCRUBBER_BAR_CLICK,{clickedFraction:e})}},setScrubberBar:function(t,e){this.playedFraction=t,this.transitionInS=e,this.setScrubberTransition(this.transitionInS||void 0);var i=100*this.playedFraction;this.els.played.style.width=i+"%",this.els.thumb.style.left=i+"%"},setBufferBar:function(t){var e=100*t;this.els.buffered.style.width=e+"%"},determineBufferedFraction:function(t,e){for(var i=0,n=0,o=0;o<t.length;o++)n+=t.end(0)-t.start(0);return 0<n&&(i=n/e),i},injectScrubberStyles:function(){var t=[];t=(t=t.concat(this.getScrubberBarStyles())).concat(this.getScrubberThumbOverrideStyles()),this.zoo.insertRules(t)},getScrubberBarStyles:function(){return[["."+n.SCRUBBER_CONTAINER,{position:"relative",height:"100%",width:"100%","box-sizing":"border-box",overflow:"initial","padding-top":this.spriteDimensions.buttonPadding+"px","padding-bottom":this.spriteDimensions.buttonPadding+"px"}],["."+n.BUTTON+"-scrubber-tab",{position:"absolute",top:0,left:0,transform:"translateX(-"+this.spriteDimensions.spriteWidth/2+"px)","padding-left":0,"padding-right":0,"pointer-events":"none"}]]},getScrubberThumbOverrideStyles:function(){return[["."+n.SCRUBBER_CONTAINER+" ."+n.ICON_HOVER,{left:0}]]}},e.exports=s},{"./reely-css-classes.js":98,"./reely-el-maker.js":99,"./reely-events.js":101}],105:[function(t,e,i){var n=t("./reely-css-classes.js"),o=t("./reely-config.js"),r=function(t){this.spriteDimensions=t.spriteDimensions,this.controlBarConfig=t.controlBarConfig,this.zoo=t.zoo,this.spritesheetUrls=this.determineSpritesheetUrls(t.spritesheetUrls),this.overlaySpritesheetUrls=this.determineOverlaySpritesheetUrls(t.overlaySpritesheetUrls),this.init()};r.prototype={TEMP_FORCE_PNG_SPRITESHEET:!0,init:function(){this.doesSupportSVG=this.supportsSVG(),this.spritesheetSrc=this.determineSpritesheetMode(this.spritesheetUrls),this.overlaySpritesheetSrc=this.determineSpritesheetMode(this.overlaySpritesheetUrls),this.spritesData=this.initSpritesData();var i=new Image;i.addEventListener("load",function(t){document.body.appendChild(i);var e=(t.path||t.composedPath&&t.composedPath())[0];this.rows=e.height/e.width*2,this.injectSpritesheetCSS(),document.body.removeChild(i)}.bind(this)),i.style.visibility="hidden",i.style.position="fixed",i.style.left="-9999px",i.style.top="-9999px",i.style.zIndex="-9999",i.style.pointerEvents="none",i.src=this.spritesheetSrc},getSrc:function(){return this.spritesheetSrc},getOverlaySrc:function(){return this.overlaySpritesheetSrc},supportsSVG:determineSpritesheetMode:function(t){return!this.TEMP_FORCE_PNG_SPRITESHEET&&this.doesSupportSVG&&t.svg?t.svg:t.png},initSpritesData:function(){var t={},e=0;return e=this.addControlsBGData(t,e),e=this.addRepeatXData(t,e),e=this.addIconData(t,e),this.addLargeIconData(t),t},addControlsBGData:function(t,e){var i=this.controlBarConfig.height;return t.controlsBG={type:"repeat-x",h:i,x:0,y:e},e+i},addRepeatXData:function(t,e){for(var i=e,n=this.spriteDimensions.spriteHeight,o=["scrubber-bg","scrubber-played-bg","scrubber-buffered-bg"],r=0;r<o.length;r++)t[o[r]]={type:"repeat-x",h:n,x:0,y:i},i+=n;return i},addIconData:function(t,e){for(var i,n,o,r=this.spriteDimensions.spriteHeight,s=this.spriteDimensions.spriteWidth,a=["scrubber-tab","scrubber-tab-hover","scrubber-tabDown","","play","play-hover","pause","pause-hover","sound-off","sound-off-hover","sound-on","sound-on-hover","fullscreen","fullscreen-hover","normal","normal-hover"],d=e,l=0;l<a.length;l++)o=(n=l%2)?s:0,""!==(i=a[l])&&(t[i]={type:"icon",w:s,h:r,x:o,y:d}),d=n?d+r:d;return d},addLargeIconData:function(t,e){for(var i=this.spriteDimensions.overlaySpriteWidth,n=this.spriteDimensions.overlaySpriteHeight,o=["overlay-play","overlay-play-hover","overlay-replay","overlay-replay-hover"],r=0,s=0;s<o.length;s++)t[o[s]]={type:"icon-large",w:i,h:n,x:0,y:r},r+=n;return r},determineSpritesheetUrls:function(t){var e={png:o.DEFAULT_SPRITESHEET};return this._determineSpritesheetUrls(t,e)},determineOverlaySpritesheetUrls:function(t){var e={png:o.DEFAULT_OVERLAY_SPRITESHEET};return this._determineSpritesheetUrls(t,e)},_determineSpritesheetUrls:function(t,e){var i={};return t&&Object.keys(t).length&&t.png?i.png=t.png:i=e,i},injectSpritesheetCSS:function(){var t=[];t=(t=(t=t.concat(this.getSpriteStyles())).concat(this.getOverlaySpriteStyles())).concat(this.getIndividualSpriteStyles()),this.zoo.insertRules(t)},getSpriteStyles:function(){return[[["."+n.ICON,"."+n.REPEAT_X_SPRITE],{height:this.spriteDimensions.spriteHeight+"px",display:"inline-block","background-image":"url("+this.getSrc()+")","background-color":"transparent"}]]},getOverlaySpriteStyles:function(){return[["."+n.ICON_LARGE,{display:"inline-block",height:this.spriteDimensions.overlaySpriteHeight+"px",width:this.spriteDimensions.overlaySpriteWidth+"px","background-image":"url("+this.getOverlaySrc()+")","background-color":"transparent"}]]},getIndividualSpriteStyles:function(){var t,e,i=[],n={icon:this.getIconCSS,"repeat-x":this.getRepeatXSpriteCSS,"icon-large":this.getIconLargeCSS};for(var o in this.spritesData)this.spritesData.hasOwnProperty(o)&&(e=n[(t=this.spritesData[o]).type].call(this,o,t),i.push(e));return i},getIconCSS:function(t,e){var i=this.spriteDimensions;return["."+n.ICON+"-"+t,{width:this.spriteDimensions.spriteWidth+"px","background-position":"-"+e.x+"px -"+e.y+"px","background-repeat":"no-repeat","background-size":2*i.spriteWidth+"px "+i.spriteHeight*this.rows+"px"}]},getRepeatXSpriteCSS:function(t,e){var i=this.spriteDimensions;return["."+n.REPEAT_X_SPRITE+"-"+t,{position:t.includes("controls")?"relative":"absolute","max-width":"100%","background-position":"0 -"+e.y+"px","background-repeat":"repeat-x","background-size":2*i.spriteWidth+"px "+i.spriteHeight*this.rows+"px"}]},getIconLargeCSS:function(t,e){return["."+n.ICON_LARGE+"-"+t,{"background-position":"0 -"+e.y+"px","background-repeat":"no-repeat"}]}},e.exports=r},{"./reely-config.js":96,"./reely-css-classes.js":98}],106:[function(t,e,i){var n=t("./reely-event-bus.js"),o=t("./reely-controls.js"),r=t("./reely-overlay.js"),s=t("./reely-spritesheet.js"),a=t("../zoolander.js"),d=t("./reely-css-classes.js"),l=t("./reely-el-maker.js"),c=t("./reely-events.js"),u=t("../utils/weblab"),h=t("../utils/bridge").getBridge,p=t("../utils/url"),f="granted",m=function(t){this.injectEl=t.injectEl,this.src=t.src,this.slate=t.slate||"",this.fullscreen=t.fullscreen||!1,this.autoplay=t.autoplay||!1,this.autosound=t.autosound||!1,this.playsInline=t.playsInline||!0,this.spritesheetUrls=t.spritesheets||{},this.overlaySpritesheetUrls=t.overlaySpritesheets||{},this.iframeId=t.iframeId,this.spriteDimensions=this.determineSpriteDimensionsConfig(t.spritesheets),this.setMediaKey=null,this.lastPermission="",this.hasSubscribed=!1,this.shouldObeyMediaInteroperability=!1,this.isInWeblab=!1,this.isPausedByUser=!1;var e=t.controlBar||{};this.controlBarConfig=this.determineControlBarConfig(e),this.onScreenChange=this.onScreenChange.bind(this),this.onVolumeChange=this.onVolumeChange.bind(this),t.zoolander&&(this.zoo=t.zoolander),this.setInitialDebugMode(),this.init()};m.prototype={doDebug:!1,log:init:function(){this.el=l.make("div",d.CONTAINER),this.shouldObeyMediaInteroperability=u.shouldObeyMediaInteroperability(),this.isInWeblab=u.isInWeblab(u.autoplayId),this.shouldObeyMediaInteroperability&&this.subscribeToMediaNotifications(),this.initZoolander(),this.injectPlayerStyles(),this.hide(),this.initChildren(),this.videoStarted=!1,this.videoEl=this.createVideoEl(),this.broadcast(),this.listen(),this.el.appendChild(this.videoEl),this.el.appendChild(this.overlay.el),this.el.appendChild(this.controls.el),this.injectEl.appendChild(this.el),this.autoplay&&this.videoEl&&3<=this.videoEl.readyState&&!this.isPlaying()&&this.isInWeblab&&this.play()},initZoolander:function(){if(!this.zoo){var t=this.injectEl.id;if(!t){var e=Date.now()+1e3*Math.floor(Math.random());this.injectEl.id=t="reely-container-parent-"+e}this.zoo=new a({id:t,prefixId:t})}},initChildren:function(){this.eventBus=new n,this.spritesheet=new s({spritesheetUrls:this.spritesheetUrls,overlaySpritesheetUrls:this.overlaySpritesheetUrls,spriteDimensions:this.spriteDimensions,controlBarConfig:this.controlBarConfig,zoo:this.zoo});var t={eventBus:this.eventBus,spritesheet:this.spritesheet,slate:this.slate,spriteDimensions:this.spriteDimensions,controlBarConfig:this.controlBarConfig,zoo:this.zoo};this.overlay=new r(t,this),this.controls=new o(t,this)},play:function(){this.shouldObeyMediaInteroperability?this.requestPlayback({userInitiated:!0}):this.isPlaying()||this.eventBus.trigger(c.PLAY_PAUSE_TOGGLE)},pause:function(t){this.isPlaying()?(this.eventBus.trigger(c.PLAY_PAUSE_TOGGLE),this.shouldObeyMediaInteroperability&&(t&&t.ended?this.setMediaEnded():this.setMediaPaused())):this.shouldObeyMediaInteroperability&&t&&t.ended&&this.setMediaEnded()},isPlaying:reset:unmute:mute:isMuted:onVolumeChange:function(){var t=this.controls.isToggled(this.controls.muteUnmute);t&&this.isMuted()?this.eventBus.trigger(c.MUTED):t||this.isMuted()||this.eventBus.trigger(c.UNMUTED)},normalScreenMode:function(){this.isFullscreen()&&(document.exitFullscreen?(document.exitFullscreen(),this.setNormalPlayerBar()):document.webkitExitFullscreen?(document.webkitExitFullscreen(),this.setNormalPlayerBar()):document.mozCancelFullScreen?(document.mozCancelFullScreen(),this.setNormalPlayerBar()):document.msExitFullscreen?(document.msExitFullscreen(),this.setNormalPlayerBar()):this.videoEl.webkitExitFullscreen&&(this.videoEl.webkitExitFullscreen(),this.setNormalPlayerBar()))},fullscreenMode:function(){this.isFullscreen()||(this.el.requestFullscreen?this.el.requestFullscreen():this.el.webkitRequestFullscreen?this.el.webkitRequestFullscreen():this.el.msRequestFullscreen?this.el.msRequestFullscreen():this.el.mozRequestFullScreen?this.el.mozRequestFullScreen():this.videoEl.webkitEnterFullscreen&&this.videoEl.webkitEnterFullscreen())},isFullscreen:function(){return this.el.fullscreen},supportsFullscreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled||this.videoEl&&this.videoEl.webkitSupportsFullscreen},hide:function(){d.add(this.el,d.HIDDEN)},show:requestPlayback:function(t){var e=this,i=t||{};return this.hasSubscribed?this.lastPermission===f&&this.videoEl?(this.videoEl.play(),this.setMediaPlay()):void h().requestPlayback({name:this.iframeId||"reely",userInitiated:!!i.userInitiated,videoFrame:this.getVideoFrame()}).then(function(t){e.log("requestPlayback success"),e.onMediaPermissionsChanged(t)},function(t){e.log("requestPlayback error: "+JSON.stringify(t))}):this.subscribeToMediaNotifications({shouldRequestPlayback:!0})},setMediaPlay:function(){h().isMediaOrchestratorBridge?this.setStatus("setMediaPlay",{isReely:!0}):this.setStatus("setMediaPlay")},setMediaPaused:function(){this.setStatus("setMediaPaused")},setMediaEnded:function(){this.setStatus("setMediaEnded")},setStatus:function(e,t){if(this.shouldObeyMediaInteroperability){this.log(e);var i=this,n=h()[e],o={key:this.setMediaKey,permission:this.lastPermission};(t?n(o,t):n(o)).then(function(t){i.log(e+" success")},function(t){i.log(e+" error: "+JSON.stringify(t))})}},subscribeToMediaNotifications:function(t){var e=!!(t||{}).shouldRequestPlayback;if(!this.hasSubscribed){var i=h(),n={onMediaPermissionsChanged:this.onMediaPermissionsChanged.bind(this)};i.isMediaOrchestratorBridge&&(n.name=this.iframeId||"reely"),this.hasSubscribed=i.subscribe(n),this.log("subscribeToMediaNotifications: "+this.hasSubscribed),e&&this.requestPlayback({userInitiated:!1})}},onMediaPermissionsChanged:function(t){if(t&&t.permission){var e=t.permission.toLowerCase();switch(this.setMediaKey=t.key,this.lastPermission=t.permission,e){case f:this.log("onMediaPermissionsChanged: "+f),this.videoEl&&!this.isPausedByUser&&(this.videoEl.play(),this.setMediaPlay());break;case"denied":this.log("onMediaPermissionsChanged: denied"),this.pause();break;case"pending":this.log("onMediaPermissionsChanged: pending");break;default:this.log("onMediaPermissionsChanged unexpected permission: "+e)}}},getVideoFrame:function(){var t=this.videoEl?this.videoEl.getBoundingClientRect():{},e=window.top.Tarnhelm&&window.top.Tarnhelm.getDeviceInfo(),i=0;this.videoEl&&this.videoEl.ownerDocument&&this.videoEl.ownerDocument.defaultView&&(i=this.videoEl.ownerDocument.defaultView.innerWidth);var n=(i-window.top.innerWidth)/2,o={x:0<n&&"inline20"===this.iframeId?t.x-n:t.x,y:t.y,width:t.width,height:t.height};if(h().isMediaOrchestratorBridge&&e.isMobileSite){var r=this.videoEl&&this.videoEl.ownerDocument&&this.videoEl.ownerDocument.defaultView,s=r?r.frameElement||r.iframe:null,a=s?s.getBoundingClientRect():{x:0,y:0};o.x+=a.x+window.scrollX,o.y+=a.y+window.scrollY}return e&&!e.isIMDbApp&&this.isFullscreen()&&(o.isFullscreen=!0),o},getEventBus:function(){return this.eventBus},broadcast:function(){this.passVideoEvents()},passVideoEvents:function(){this.log("passVideoEvents"),(this.doDebug||this.reelyDebug)&&this.passDebugEventLog(),this.videoEl.addEventListener("loadstart",this.eventBus.triggers[c.VID_LOADSTART]),this.videoEl.addEventListener("loadedmetadata",this.eventBus.triggers[c.VID_LOADEDMETADATA]),this.videoEl.addEventListener("loadeddata",this.eventBus.triggers[c.VID_LOADEDDATA]),this.videoEl.addEventListener("canplay",this.eventBus.triggers[c.VID_CANPLAY]),this.videoEl.addEventListener("canplaythrough",this.eventBus.triggers[c.VID_CANPLAYTHROUGH]),this.videoEl.addEventListener("waiting",this.eventBus.triggers[c.VID_WAITING]),this.videoEl.addEventListener("progress",this.eventBus.triggers[c.VID_PROGRESS]),this.videoEl.addEventListener("suspend",this.eventBus.triggers[c.VID_SUSPEND]),this.videoEl.addEventListener("play",this.eventBus.triggers[c.VID_PLAY]),this.videoEl.addEventListener("pause",this.eventBus.triggers[c.VID_PAUSE]),this.videoEl.addEventListener("timeupdate",this.eventBus.triggers[c.VID_TIMEUPDATE]),this.videoEl.addEventListener("ended",this.eventBus.triggers[c.VID_ENDED]),this.videoEl.addEventListener("volumechange",this.onVolumeChange),this.el.addEventListener("fullscreenchange",this.onScreenChange),this.el.addEventListener("mozfullscreenchange",this.onScreenChange),this.el.addEventListener("MSFullscreenChange",this.onScreenChange),this.el.addEventListener("webkitfullscreenchange",this.onScreenChange)},passDebugEventLog:function(){for(var t=["canplay","canplaythrough","loadeddata","loadedmetadata","loadstart","pause","play"],e=0;e<t.length;e++)this.videoEl.addEventListener(t[e],this.debugLog)},debugLog:function(t){window&&window.console&&window.console.log&&window.console.log("Media Event :: type :: ",t.type)},listen:function(){this.log("listen"),this.eventBus.addEventListener(c.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.addEventListener(c.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.addEventListener(c.VID_PLAY,this.onPlay,this),this.eventBus.addEventListener(c.VID_ENDED,this.onVideoEnded,this),this.eventBus.addEventListener(c.PLAY_PAUSE_TOGGLE,this.onPlayPauseClick,this),this.eventBus.addEventListener(c.MUTE_UNMUTE_TOGGLE,this.onMuteUnmuteClick,this),this.eventBus.addEventListener(c.FULLSCREEN_NORMAL_TOGGLE,this.onFullscreenNormalClick,this),this.eventBus.addEventListener(c.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.eventBus.addEventListener(c.VID_CANPLAY,this.onCanPlay,this)},teardown:function(){this.pause({ended:!0}),this.mute(),this.videoEl.removeEventListener("loadstart",this.eventBus.triggers[c.VID_LOADSTART]),this.videoEl.removeEventListener("loadedmetadata",this.eventBus.triggers[c.VID_LOADEDMETADATA]),this.videoEl.removeEventListener("loadeddata",this.eventBus.triggers[c.VID_LOADEDDATA]),this.videoEl.removeEventListener("canplay",this.eventBus.triggers[c.VID_CANPLAY]),this.videoEl.removeEventListener("canplaythrough",this.eventBus.triggers[c.VID_CANPLAYTHROUGH]),this.videoEl.removeEventListener("waiting",this.eventBus.triggers[c.VID_WAITING]),this.videoEl.removeEventListener("progress",this.eventBus.triggers[c.VID_PROGRESS]),this.videoEl.removeEventListener("suspend",this.eventBus.triggers[c.VID_SUSPEND]),this.videoEl.removeEventListener("play",this.eventBus.triggers[c.VID_PLAY]),this.videoEl.removeEventListener("pause",this.eventBus.triggers[c.VID_PAUSE]),this.videoEl.removeEventListener("timeupdate",this.eventBus.triggers[c.VID_TIMEUPDATE]),this.videoEl.removeEventListener("ended",this.eventBus.triggers[c.VID_ENDED]),this.videoEl.removeEventListener("volumechange",this.onVolumeChange),this.videoEl.removeEventListener("click",this.eventBus.triggers[c.PLAY_PAUSE_TOGGLE]),this.el.removeEventListener("fullscreenchange",this.onScreenChange),this.el.removeEventListener("mozfullscreenchange",this.onScreenChange),this.el.removeEventListener("MSFullscreenChange",this.onScreenChange),this.el.removeEventListener("webkitfullscreenchange",this.onScreenChange),this.eventBus.removeEventListener(c.STARTED,this.onPlay,this),this.eventBus.removeEventListener(c.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.removeEventListener(c.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.removeEventListener(c.PLAY_PAUSE_TOGGLE,this.onPlayPauseClick,this),this.eventBus.removeEventListener(c.MUTE_UNMUTE_TOGGLE,this.onMuteUnmuteClick,this),this.eventBus.removeEventListener(c.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.eventBus.removeEventListener(c.VID_CANPLAY,this.onCanPlay,this),this.zoo.teardown(),this.overlay.teardown(),this.controls.teardown(),this.removeNodes()},removeNodes:function(){this.injectEl.removeChild(this.el),this.videoEl=null,this.overlay.el=null,this.controls.el=null,this.el=null},onPlay:function(){this.videoStarted||(this.videoStarted=!0,this.eventBus.triggers[c.STARTED](),this.eventBus.removeEventListener(c.STARTED,this.onPlay,this))},onVideoEnded:function(){this.pause({ended:!0})},onPlayPauseClick:function(){this.videoEl.paused?this.shouldObeyMediaInteroperability?this.requestPlayback({userInitiated:!0}):this.videoEl.play():(this.videoEl.pause(),this.shouldObeyMediaInteroperability&&this.setMediaPaused())},onMuteUnmuteClick:function(t){this.isMuted()?(this.videoEl.volume=1,this.unmute()):this.mute()},setNormalPlayerBar:function(){d.remove(this.el,d.FULLSCREEN),this.el.fullscreen=!1,this.eventBus.trigger(c.VID_EXITFULLSCREEN)},onScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||this.videoEl&&this.videoEl.webkitDisplayingFullscreen?(d.add(this.el,d.FULLSCREEN),this.el.fullscreen=!0,this.eventBus.trigger(c.VID_ENTERFULLSCREEN)):this.setNormalPlayerBar()},onFullscreenNormalClick:onScrubberBarClick:function(t){var e=t.clickedFraction;this.videoEl.currentTime=this.videoEl.duration*e},onLoadedMetadata:function(t){this.log("onLoadedMetadata"),this.fullscreen&&(this.supportsFullscreen()?this.controls.addFullscreenButton():this.log("Fullscreen not supported. Disabling.")),this.needsAspectInjection()&&this.injectAspectStyles()},checkIsPlayingAndIsInWeblab:function(){return this.autoplay&&!this.isPlaying()&&this.isInWeblab},playbackOnMediaInterop:function(){this.shouldObeyMediaInteroperability?this.requestPlayback({userInitiated:!1}):this.videoEl.play()},onLoadedData:function(t){this.log("onLoadedData"),this.show(),this.checkIsPlayingAndIsInWeblab()&&this.playbackOnMediaInterop()},onCanPlay:function(t){this.log("onCanPlay"),this.checkIsPlayingAndIsInWeblab()?this.playbackOnMediaInterop():this.autoplay&&this.playbackOnMediaInterop()},createVideoEl:function(){var t=l.make("video",d.VIDEO);t.volume=1,t.preload=!0,t.poster=this.slate,this.playsInline&&(t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""));var e=this.autosound;return t.muted=!e,e&&this.eventBus.trigger(c.UNMUTED),this.addSources(t),t},addSources:function(t){var e=/\.([a-z0-9]{2,4})$/.exec(this.src);if(e){var i=this.createSource(this.src,e[1]);t.appendChild(i)}else{var n=this.createSource(this.src,"mp4"),o=this.createSource(this.src,"webm");t.appendChild(n),t.appendChild(o)}var r=document.createElement("p");r.innerHTML="Sorry, your browser does not support HTML5 video.",t.appendChild(r)},createSource:function(t,e){var i=document.createElement("source");return i.src=new RegExp("\\."+e+"$").test(t)?t:t+"."+e,i.type="video/"+e,i},determineControlBarConfig:function(t){var e=this.controlBarDefaults(),i=t;if(!i)return e;var n=e;null==i.autohide&&null!=i.autoHide&&(i.autohide=i.autoHide,delete i.autoHide);for(var o,r=["width","autohide","anchorX","offsetX","anchorY","offsetY","hideBG"],s=0;s<r.length;s++)null!=i[o=r[s]]&&(n[o]=this.addPxIfNumber(i[o]));return n},controlBarDefaults:function(){return{height:1.5*this.spriteDimensions.spriteHeight,autohide:!0,anchorX:"center",offsetX:0,anchorY:"bottom",offsetY:0,width:"100%",hideBG:!1}},addPxIfNumber:determineSpriteDimensionsConfig:function(t){var e=this.spriteDimensionsDefaults();if(!t||!t.buttonSize)return e;var i=t.buttonSize;return{buttonPadding:.25*i,spriteHeight:i,spriteWidth:i,overlaySpriteHeight:100,overlaySpriteWidth:100}},spriteDimensionsDefaults:injectPlayerStyles:function(){var t=[];t=(t=(t=(t=(t=t.concat(this.getUtilityStyles())).concat(this.getPlayerStyles())).concat(this.getIconStyles())).concat(this.getButtonStyles())).concat(this.getTwoStateStyles()),this.zoo.insertRules(t)},getUtilityStyles:function(){return[["."+d.UNSELECTABLE,{"user-select":"none"}],["."+d.HIDDEN,{display:"none"}],["."+d.INVISIBLE,{visibility:"hidden"}],["."+d.TRANSPARENT,{opacity:0}]]},getPlayerStyles:function(){return[["."+d.CONTAINER,{position:"relative","z-index":1,display:"block",width:"100%",height:"100%",margin:"0 auto","background-color":"black",overflow:"visible"}],["."+d.VIDEO,{position:"absolute","z-index":-1,top:0,left:0,height:"100%",width:"100%",cursor:"pointer"}]]},getIconStyles:function(){return[[["."+d.ICON,"."+d.ICON_HOVER],{position:"absolute"}],["."+d.ICON_HOVER,{top:this.spriteDimensions.buttonPadding+"px",left:this.spriteDimensions.buttonPadding+"px"}]]},getButtonStyles:function(){return[["."+d.BUTTON,{cursor:"pointer"}],[["."+d.BUTTON+" ."+d.ICON_DEFAULT,"."+d.BUTTON+":hover ."+d.ICON_HOVER],{opacity:1}],[["."+d.BUTTON+":hover ."+d.ICON_DEFAULT,"."+d.BUTTON+" ."+d.ICON_HOVER],{opacity:0}],[["."+d.BUTTON+":hover ."+d.ICON_DEFAULT,"."+d.BUTTON+" ."+d.ICON_HOVER],{transition:"opacity 0.2s linear"}],["."+d.BUTTON+":hover ."+d.ICON_DEFAULT,{transition:"opacity 0s linear 0.2s"}]]},getTwoStateStyles:function(){return[[["."+d.TWO_STATE_BUTTON,"."+d.TWO_STATE_BUTTON+" ."+d.TWO_STATE_DEFAULT,"."+d.TWO_STATE_BUTTON+" ."+d.TWO_STATE_ALT],{position:"absolute"}],["."+d.TWO_STATE_BUTTON,{display:"inline-block"}],[["."+d.TWO_STATE_BUTTON+" ."+d.TWO_STATE_DEFAULT,"."+d.TWO_STATE_BUTTON+"."+d.TOGGLED+" ."+d.TWO_STATE_ALT],{opacity:1,visibility:"visible"}],[["."+d.TWO_STATE_BUTTON+"."+d.TOGGLED+" ."+d.TWO_STATE_DEFAULT,"."+d.TWO_STATE_BUTTON+" ."+d.TWO_STATE_ALT],{opacity:0,visibility:"hidden"}]]},needsAspectInjection:function(){return 0===this.el.parentNode.clientHeight},injectAspectStyles:function(){var t=this.determineLoadedVideoDimensions(),e=(t.height/t.width*100).toFixed(4);this.aspectRule=this.zoo.insertRule("."+d.CONTAINER,{"padding-top":e+"%"})},determineLoadedVideoDimensions:setInitialDebugMode:function(){var t=p.getQueryParam("reelyDebug");"1"!==t&&"true"!==t||(this.reelyDebug=!0,console.log("Reely video logs enabled."))}},e.exports=m},{"../utils/bridge":108,"../utils/url":110,"../utils/weblab":111,"../zoolander.js":113,"./reely-controls.js":97,"./reely-css-classes.js":98,"./reely-el-maker.js":99,"./reely-event-bus.js":100,"./reely-events.js":101,"./reely-overlay.js":103,"./reely-spritesheet.js":105}],107:[function(t,e,i){var g={adCustomAction1001:!0,adCustomAction1002:!0,adCustomAction1003:!0,adCustomAction1004:!0,adCustomAction1005:!0,adCustomAction1006:!0,adCustomAction1007:!0,adCustomAction1008:!0,adCustomAction1009:!0,adCustomAction1031:!0,adCustomAction1032:!0,adCustomAction1033:!0,adCustomAction1034:!0,adCustomAction1035:!0,adCustomAction1036:!0,adCustomAction1037:!0,adCustomAction1038:!0,adCustomAction1039:!0,adCustomAction1040:!0,adCustomAction1041:!0,adCustomAction1042:!0,adCustomAction1043:!0,adCustomAction1044:!0,adCustomAction1045:!0,adCustomAction1046:!0,adCustomAction1047:!0,adCustomAction1048:!0,adCustomAction1049:!0,adCustomAction1050:!0,adCustomAction1101:!0,adCustomAction1102:!0,adCustomAction1103:!0,adCustomAction1104:!0,adCustomAction1105:!0,adCustomAction1106:!0,adCustomAction1107:!0,adCustomAction1108:!0,adCustomAction1109:!0,adCustomAction1110:!0,adCustomAction1111:!0,adCustomAction1112:!0,adCustomAction1113:!0,adCustomAction1114:!0,adCustomAction1115:!0,adCustomAction1116:!0,adCustomAction1117:!0,adCustomAction1118:!0,adCustomAction1119:!0,adCustomAction1120:!0,adCustomAction1201:!0,adCustomAction1202:!0,adCustomAction1203:!0,adCustomAction1204:!0,adCustomAction1205:!0,adCustomAction1206:!0,adCustomAction1207:!0,adCustomAction1208:!0,adCustomAction1209:!0,adCustomAction1210:!0,adCustomAction1211:!0,adCustomAction1212:!0,adCustomAction1213:!0,adCustomAction1214:!0,adCustomAction1215:!0,adCustomAction1216:!0,adCustomAction1217:!0,adCustomAction1218:!0,adCustomAction1219:!0,adCustomAction1220:!0,adCustomAction1301:!0,adCustomAction1302:!0,adCustomAction1303:!0,adCustomAction1304:!0,adCustomAction1305:!0,adCustomAction1306:!0,adCustomAction1307:!0,adCustomAction1308:!0,adCustomAction1309:!0,adCustomAction1310:!0,adCustomAction1311:!0,adCustomAction1312:!0,adCustomAction1313:!0,adCustomAction1314:!0,adCustomAction1315:!0,adCustomAction1316:!0,adCustomAction1317:!0,adCustomAction1318:!0,adCustomAction1319:!0,adCustomAction1320:!0,adCustomAction1321:!0,adCustomAction1322:!0,adCustomAction1323:!0,adCustomAction1324:!0,adCustomAction1325:!0,adCustomAction1326:!0,adCustomAction1327:!0,adCustomAction1328:!0,adCustomAction1329:!0,adCustomAction1330:!0,adCustomAction1331:!0,adCustomAction1332:!0,adCustomAction1333:!0,adCustomAction1334:!0,adCustomAction1335:!0,adCustomAction1336:!0,adCustomAction1337:!0,adCustomAction1338:!0,adCustomAction1339:!0,adCustomAction1340:!0,adCustomAction1341:!0,adCustomAction1342:!0,adCustomAction1343:!0,adCustomAction1344:!0,adCustomAction1345:!0};e.exports=function(){for(var d={},i=5,n=2,o=1,t=1e3,e=[];t<=1499;t++){var r="adCustomAction"+t;g[r]||e.push(r)}var h,p,l=[],c=!1;function s(t){return isNaN(t)?e.length?e.shift():(console&&console.warn&&console.warn("WARNING: out of tracking actions!"),""):"adCustomAction"+(1!==t?t:"")}function a(t){var e;return isNaN(t)?o<=10?(e="tabClick"+(1!==o?o:""),o++,e):s():e="tabClick"+(1!==t?t:"")}function f(t){var e;return isNaN(t)?Array.isArray(t)&&5===t.length?{"media/start":isNaN(t[0])?t[0]:s(t[0]),"media/firstQuartile":isNaN(t[1])?t[1]:s(t[1]),"media/midpoint":isNaN(t[2])?t[2]:s(t[2]),"media/thirdQuartile":isNaN(t[3])?t[3]:s(t[3]),"media/complete":isNaN(t[4])?t[4]:s(t[4])}:n<=i?(e=1!==n?n:"",n++,{"media/start":"videoStart"+e,"media/firstQuartile":"videoFirstQuartile"+e,"media/midpoint":"videoMidpoint"+e,"media/thirdQuartile":"videoThirdQuartile"+e,"media/complete":"videoComplete"+e}):{"media/start":s(),"media/firstQuartile":s(),"media/midpoint":s(),"media/thirdQuartile":s(),"media/complete":s()}:{"media/start":"videoStart"+(e=1!==t?t:""),"media/firstQuartile":"videoFirstQuartile"+e,"media/midpoint":"videoMidpoint"+e,"media/thirdQuartile":"videoThirdQuartile"+e,"media/complete":"videoComplete"+e}}function m(t,e){var i,n,o,r,s=t.type,a={},d=!0,l=!0,c=h[s];if(t.video&&t.video.loop&&(l=!1),l){if(t.actions)for(o in p)void 0!==t.actions[o]&&t.actions[o].length&&(a[p[o].string]=p[o].tracker(),d=!1);if(c)for(o in c)if("function"==typeof c[o])a[o]=c[o](),d=!1;else if("isMedia"===o&&!0===c[o]){var u=f();for(r in u)a[r]=u[r];d=!1}!1===d&&(t.description&&(a.label=t.description),e[t.name]=a)}if(t.children)for(i=0,n=t.children.length;i<n;i++)m(t.children[i],e)}function u(t,e,i){var n;if(t[e])for(n in i)t[e][n]?t[e][n]=[].concat(t[e][n],i[n]):t[e][n]=i[n];else t[e]=i}return h={alphalfa:{isMedia:!0},animaniac:{},gallery:{"click/clickPrev":a,"click/clickNext":a,"intent/swipeLeft":s,"intent/swipeRight":s},graphic:{},"minimal-video":{isMedia:!0},panel:{},reely:{isMedia:!0},rotator:{"intent/navigateRotator":s},rotatorbutton:{"click/click":a},"slider-rotator":{"click/clickPrev":a,"click/clickNext":a,"intent/swipeLeft":s,"intent/swipeRight":s}},p={click:{tracker:a,string:"click/click"},hoverIn:{tracker:s,string:"intent/hoverIn"},hoverOut:{tracker:s,string:"intent/hoverOut"}},{trackingConsumer:function(t){var e,i,n,o,r=t.eventType+"/"+(t.data&&t.data.eventSubType?t.data.eventSubType:""),s=d[t.unitName],a=[];if(s&&s[t.componentName])if(s[t.componentName][r]&&(a=a.concat(s[t.componentName][r])),0<a.length){for(n=0;n<a.length;n++){for(i=0,o=l.length;i<o;i++)l[i](a[n],t,!1);c&&console.log("tracking "+a[n]+". "+t.componentName+" in "+t.unitName+" emitted "+r,t)}if(s&&s.global&&s.global[r]&&(e=s.global[r])){for(i=0,o=l.length;i<o;i++)l[i](e,t,!0);c&&console.log("tracking "+e+" as a global event. "+t.componentName+" in "+t.unitName+" emitted "+r,t)}}else c&&console.warn("tracking attempted, but couldn't find the event in the map. ",t);else c&&console.warn("attempt to track event on unmapped component: "+t.componentName+":"+t.eventType+"/"+t.data.eventSubType,t)},addToTrackingMap:function(t){var e,i,n,o,r={};if(t.trackingConfigs)for(e=0,i=t.trackingConfigs.length;e<i;e++)if((n=t.trackingConfigs[e]).componentName&&n.data&&n.data.trackingNumber&&n.trackingType)switch(n.trackingType){case"tab":u(r,n.componentName,{"click/click":a(n.data.trackingNumber)});break;case"video":u(r,n.componentName,f(n.data.trackingNumber));break;case"custom":u(r,n.componentName,{"click/click":s(n.data.trackingNumber)});break;default:u(r,n.componentName,{"click/click":n.trackingType})}else n.componentName&&n.trackingType&&u(r,n.componentName,{"click/click":n.trackingType});else for(r.global=f(1),e=0,i=(o=t.children).length;e<i;e++)m(o[e],r);d[t.name]=r},getReadableTrackingMap:function(){var t,e,i,n="";for(t in d)for(e in d[t])for(i in d[t][e])"label"!==i&&(n+=t+": "+(d[t][e].label?'"'+d[t][e].label+'"':e)+" "+i+" = "+d[t][e][i]+"\n");return n},getTrackingMap:function(){return d},addConsumerCallback:setDebug:function(t){c=!!t}}}},{}],108:[function(t,e,i){e.exports={getBridge:function(){return window.NativeWebBridge?window.NativeWebBridge:window.top.ad_utils&&window.top.ad_utils.mediaOrchestratorBridge?window.top.ad_utils.mediaOrchestratorBridge:void 0}}},{}],109:[function(t,e,i){function s(t,e){return t.hasOwnProperty(e)&&"function"==typeof t[e]&&"function"==typeof t[e].apply}function a(t){var e;switch(!0){case"object"==typeof t&&t.hasOwnProperty("length"):e=t;break;case"object"==typeof t&&null===t:e=[t];break;default:e=[]}return e}e.exports=function(){var r=[];return{notifyObserver:function(t,e,i){var n=r.indexOf(t),o=a(i);-1<n&&s(r[n],e)&&r[n][e].apply(r[n],o)},notify:function(t,e){for(var i=r.length,n=0,o=a(e);n<i;n++)s(r[n],t)&&r[n][t].apply(r[n],o)},subscribe:function(t){r.push(t)},unsubscribe:clear:function(){r=[]}}}},{}],110:[function(t,e,i){e.exports={getQueryParam:},{}],111:[function(t,e,i){var n=t("./bridge").getBridge;e.exports={shouldObeyMediaInteroperability:function(){var t=window.top.Tarnhelm&&window.top.Tarnhelm.getDeviceInfo();return!(void 0===n()||!t)&&(!!t.isIMDbApp||window.top.ad_utils&&window.top.ad_utils.isResponsive())},isInWeblab:function(t){return null!==document.getElementById(t)},autoplayId:"TARNHELM_528955"}},{"./bridge":108}],112:[function(t,e,i){var n=function(){var t="-webkit",e="-moz",r={"box-shadow":[t],transform:[t,"-ms",e,"-o"],perspective:[t,"-ms"],"box-sizing":[t,"-ms",e],"background-size":[t],"user-select":[t,e,"-ms"],animation:[t,e,"-o"],transition:[t,e,"-o"],filter:[t,e,"-ms","-o"]},i=[];for(var n in r)r.hasOwnProperty(n)&&i.push(n);return{needsFixer:prefixedProps:function(t){var e=[t];if(!this.needsFixer(t))return e;for(var i,n=r[t],o=0;o<n.length;o++)i=n[o]+"-"+t,e.push(i);return e}}}();e.exports=n},{}],113:[function(t,e,i){var r=t("./zoofixer.js"),o=n=function(t){this.doc=this._determineDocument(t),this.styleElId=this._determineStyleElId(t),this.styleEl=this._createStyleEl(this.styleElId),this.prefixId=this._determinePrefixId(t),this.doc.head.appendChild(this.styleEl),this.ss=this.styleEl.sheet,this.isFrozen=!1,this._useInsertRule="insertRule"in this.ss,this._rulesKey=this._determineRulesKey(),this._animPrefix=this._determineAnimationPrefix(),this.NULLSELECTOR=".NULLRULE"+this.styleElId};(n.prototype={rules:teardown:freeze:function(){this.isFrozen=!0},unfreeze:function(){this.isFrozen=!1},insertRule:function(t,e){if(!this.isFrozen){if(t&&e){var i=this._determineSelectors(t),n=this._determineStylesText(e);return this._insertRule(i,n)}console.warn("Bad selectors and/or stylesObj provided to Zoolander.")}},insertRules:function(t){if(!this.isFrozen){for(var e=[],i=0;i<t.length;i++){var n=t[i],o=n[0],r=n[1],s=this.insertRule(o,r);e.push(s)}return e}},deleteRule:function(t){void 0===t||this.isFrozen||(this.ss.deleteRule(t.index),this._attemptInsert(this.NULLSELECTOR,"",t.index))},insertKeyframes:function(t,e){var i="@"+this._animPrefix+"keyframes "+t,n=this._determineKeyframesStyleText(e);return this._insertRule(i,n,!0)},insertAnimation:function(t,e,i){var n=this._determineSelectors(t),o=this._animPrefix+e+": "+i;return this._insertRule(n,o)},_insertRule:function(t,e,i){var n=this.rules().length;try{this._attemptInsert(t,e,n,i)}catch(i){return void console.warn("Zoolander failed to insertRule :: "+i,t,"{",e,"}")}return new o(n,t,e)},_attemptInsert:function(t,e,i,n){this._useInsertRule?this.ss.insertRule(t+" {"+e+"}",i):this.ss.addRule(t,e,i)},_createStyleEl:function(t){var e="imdb_ad_design_injected_"+t,i=this.doc.getElementById(e);return i||((i=this.doc.createElement("style")).type="text/css",i.id=e,i.appendChild(this.doc.createTextNode("")),i)},_determineStyleElId:function(t){return t&&t.id?t.id:Date.now()+Math.floor(10*Math.random())},_determineDocument:function(t){return t&&t.document?t.document:document},_determinePrefixId:function(t){var e=t&&t.prefixId?t.prefixId:"";if(e){var i="#"===e.charAt(0)?e:"#"+e;return" "===i.charAt(i.length-1)?i:i+" "}return""},_isArr:_determineSelectors:function(t){var e,i,n=this.prefixId;return"string"==typeof t&&-1!==t.indexOf(",")?e=t.split(","):this._isArr(t)?e=t:i=t,e?this._concatSelectors(e,n):n+" "+i},_concatSelectors:function(t,e){for(var i="",n=0;n<t.length;n++){var o=n===t.length-1;i+=e+" "+t[n],o||(i+=", ")}return i},_determineAnimationPrefix:function(){for(var t=["webkit","Moz","ms"],e=this.doc.createElement("div"),i="",n=0;n<t.length;n++)if(void 0!==e.style[t[n]+"AnimationName"]){i="-"+t[n].toLowerCase()+"-";break}return i},_determineStylesText:function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=this._buildStyleDeclaration(i,t[i]));return e},_buildStyleDeclaration:function(t,e){if(r.needsFixer(t)){for(var i="",n=r.prefixedProps(t),o=0;o<n.length;o++)i+=n[o]+": "+e+"; ";return i}return t+": "+e+"; "},_determineKeyframesStyleText:function(t){var e="";for(var i in t)if(t.hasOwnProperty(i)){var n=this._determineStylesText(t[i]);e+=this._buildKeyframeStylesText(i,n)}return e},_buildKeyframeStylesText:function(t,e){return t+" { "+e+" } "},_determineRulesKey:function(){return"cssRules"in this.ss?"cssRules":"rules"}}).constructor=n,e.exports=n},{"./zoofixer.js":112}],114:[function(t,e,l){!function(A,E){"use strict";var i,T={version:"v2.2.4",settings:{}},S=0,C="riot-",I=C+"tag",x="string",D="object",N="undefined",n="function",g=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,O=["_item","_id","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],t=0|(A&&A.document||{}).documentMode,L=Array.isArray;T.observable=function(r){var s={},e=0;return(r=r||{}).on=function(t,i){return U(i)&&(typeof i.id===N&&(i._id=e++),t.replace(/\S+/g,function(t,e){(s[t]=s[t]||[]).push(i),i.typed=0<e})),r},r.off=function(t,o){return"*"==t?s={}:t.replace(/\S+/g,function(t){if(o)for(var e,i=s[t],n=0;e=i&&i[n];++n)e._id==o._id&&i.splice(n--,1);else s[t]=[]}),r},r.one=r.trigger=function(t){for(var e,i=[].slice.call(arguments,1),n=s[t]||[],o=0;e=n[o];++o)e.busy||(e.busy=1,e.apply(r,e.typed?[t].concat(i):i),n[o]!==e&&o--,e.busy=0);return s.all&&"all"!=t&&r.trigger.apply(r,["all",t].concat(i)),r},r},T.mixin=(i={},function(t,e){if(!e)return i[t];i[t]=e}),function(t,e,i){if(i){var n,o=i.location,r=t.observable(),s=!1,a=t.route=function(t){t[0]?c(o.hash=t):r.on("H",t)};a.exec=function(t){t.apply(null,l(d()))},a.parser=function(t){l=t},a.stop=function(){s&&(i.removeEventListener?i.removeEventListener(e,c,!1):i.detachEvent("on"+e,c),r.off("*"),s=!1)},a.start=function(){s||(i.addEventListener?i.addEventListener(e,c,!1):i.attachEvent("on"+e,c),s=!0)},a.start()}function d(){return o.href.split("#")[1]||""}unction c(t){t.type&&(t=d()),t!=n&&(r.trigger.apply(null,["H"].concat(l(t))),n=t)}}(T,"hashchange",A);var o,r,s,a,c,u,R=(a=/[{}]/g,function(t){var e=T.settings.brackets||"{ }";return o!==e&&(s=(o=e).split(" "),r=s.map(),t instanceof RegExp?"{ }"===e?t:new RegExp(t.source.replace(a,function(t){return r[~~("}"===t)]}),t.global?"g":""):s[t]}),M=function(){var a={},n='"in d?d:'+(A?"window).":"global)."),i=/(['"\/])(?:[^\\]*?|\\.|.)*?\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function\s*\()|([A-Za-z_$]\w*)/g;return function(t,e){return t&&(a[t]||(a[t]=(i=t).indexOf(R(0))<0?(i=i.replace(/\n|\r\n?/g,"\n"),function(){return i}):(i=i.replace(R(/\\{/g),"").replace(R(/\\}/g),""),r=l(o=i,R(/{/),R(/}/)),s=[],r.map(function(t,e){e=o.indexOf(t),s.push(o.slice(0,e),t),o=o.slice(e+t.length)}),o&&s.push(o),i=2!==(n=s).length||n[0]?"["+n.map(function(t,e){return e%2?d(t,!0):'"'+t.replace(/\n|\r\n?/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':d(n[1]),new Function("d","return "+i.replace(/\uFFF0/g,R(0)).replace(/\uFFF1/g,R(1))+";"))))(e);var i,n,o,r,s};function d(t,e){return t=t.replace(/\n|\r\n?/g," ").replace(R(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(t)?"["+l(t,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(t){return t.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(t,e,i){return i.replace(/[^&|=!><]+/g,o)+'?"'+e+'":"",'})}).join("")+'].join(" ").trim()':o(t,e)}function o(t,e){return(t=t.trim())?"(function(v){try{v="+t.replace(i,function(t,e,i){return i?'(("'+i+n+i+")":t})+"}catch(e){}return "+(!0===e?'!v&&v!==0?"":v':"v")+"}).call(d)":""}function l(o,t,e){var r,s=0,a=[],i=new RegExp("("+t.source+")|("+e.source+")","g");return o.replace(i,function(t,e,i,n){!s&&e&&(r=n),(s+=e?1:-1)||null==i||a.push(o.slice(r,n+i.length))}),a}}(),k=(u={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},"div",c=(c=t)&&c<10,function(t){var e,i,n,o,r,s,a=t&&t.match(/^\s*<([-\w]+)/),d=a&&a[1].toLowerCase(),l=h(u[d]||"div");return l.stub=!0,c&&d&&(a=d.match(g))?(e=l,i=t,n=d,s=!!a[1]?"select>":"table>",(r=h("div")).innerHTML="<"+s+i+"</"+s,(o=r.getElementsByTagName(n)[0])&&e.appendChild(o)):l.innerHTML=t,,n}function P(t,i,o){function r(t,e,i){if(0<=e.indexOf(R(0))){var n={dom:t,expr:e};o.push(z(n,i))}}Y(t,function(n){var t=n.nodeType;if(3==t&&"STYLE"!=n.parentNode.tagName&&r(n,n.nodeValue),1==t){var e=n.getAttribute("each");return e?(function(r,s,a){V(r,"each");var d,t,e,i,l=G(r),n=r.outerHTML,c=!!y[l],u=y[l]||{tmpl:n},h=r.parentNode,p=document.createComment("riot placeholder"),f=[],m=H(r);h.insertBefore(p,r),t=a,e=R(0),i=t.trim().slice(e.length).match(/^\s*(\S+?)\s*(?:,\s*(\S+))?\s+in\s+(.+)$/),a=i?{key:i[1],pos:i[2],val:e+i[3]}:{val:t},s.one("premount",function(){h.stub&&(h=s.root),r.parentNode.removeChild(r)}).on("update",function(){var e=M(a.val,s);L(e)||(d=e?JSON.stringify(e):"",e=e?Object.keys(e).])}):[]);for(var t=document.createDocumentFragment(),i=f.length,n=e.length;n<i;)f[--i].unmount(),f.splice(i,1);for(i=0;i<n;++i){var o=!d&&a.key?v(a,e[i],i):e[i];f[i]?f[i].update(o):((f[i]=new B(u,{parent:s,isLoop:!0,hasImpl:c,root:g.test(l)?h:r.cloneNode(),item:o},r.innerHTML)).mount(),t.appendChild(f[i].root)),f[i]._item=o}h.insertBefore(t,p),m&&(s.tags[l]=f)}).one("updated",function(){var e=Object.keys(s);Y(h,function(t){1!=t.nodeType||t.isLoop||t._looped||(t._visited=!1,t._looped=!0,K(t,s,e))})})}(n,i,e),!1):(F(n.attribu!1}),!H(n)&&void 0)}})}function B(t,e,i){var n,d,l,o=T.observable(this e}(e.opts)||{},s=k(t.tmpl),a=e.parent,c=e.isLoop,u=e.hasImpl,p=q(e.item),f=[],h=[],m=e.root,g=t.fn,v=m.tagName.toLowerCase(),y={},_=[];function b(){var e=u&&c?o:a||o;F(m.attribue)}),F(Object.keyse)})}function w(e){if(()}),a){var t=e?"on":"off";c?a[t]("unmount",o.unmount):a[t]("update",o.update)[t]("unmount",o.unmount)}}g&&m._tag&&m._tag.unmount(!0),this.isMounted=!1,m.isLoop=c,(m._tag=this)._id=S++,z(this,{parent:a,root:m,opts:r,tags:{}},p),F(m.attributes,function(t){var e=t.value;R(/{.*}/).test(e)&&(y[t.name]=e)}),s.innerHTML&&!/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(v)&&(s.innerHTML=(n=i,s.innerHTML.replace(/<(yield)\/?>(<\/\1>)?/gi,n||""))),this.update=function(t){var h;t=q(t),o.parent&&c&&F(Object.keys(o.parent),function(t){var e=!~O.indexOf(t)&&~_.indexOf(t);(typeof o[t]===N||e)&&(e||_.push(t),o[t]=o.parent[t])}),t&&typeof p===D&&(function(t){for(var e in p)typeof o[e]!==N&&(o[e]=t[e])}(t),p=t),z(o,t),b(),o.trigger("update",t),h=o,F(f,function(t,e){var i,n,o,r,s=t.dom,a=t.attr,d=M(t.expr,h),l=t.dom.parentNode;if(t.bool?d=!!d&&a:null==d&&(d=""),l&&"TEXTAREA"==l.tagName&&(d=(""+d).replace(/riot-/g,"")),t.value!==d)if(t.value=d,a)if(V(s,a),U(d))n=d,r=h,(o=s)[a]=function(t){var e=r._item,i=r.parent;if(!e)for(;i&&!e;)e=i._item,i=i.parent;t=t||A.event;try{t.currentTarget=o,t.target||(t.target=t.srcElement),t.which||(t.which=t.charCode||t.keyCode)}catch(t){}t.item=e,!0===n.call(r,t)||/radio|check/.test(o.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(e?W(i):r).update()};else if("if"==a){var c=t.stuc)};d?c&&(j(c.parentNode,c,s),s.inStub=!1,X(s)||))})):(c=t.stub=c||document.createTextNode(""),s.parentNode?u():(h.parent||h).one("updated",u),s.inStub=!0)}else if(/^(show|hide)$/.test(a))"hide"==a&&(d=!d),s.style.display=d?"":"none";else if("value"==a)s.value=d;else if(i=C,a.slice(0,i.length)===i&&a!=I)d&&s.setAttribute(a.slice(C.length),d);else{if(t.bool&&!(s[a]=d))return;typeof d!==D&&s.setAttribute(a,d)}else s.nodeValue=""+d}),o.trigger("updated")},this.mixin=function(){F(arguments,function(e){e=typeof e===x?T.mixin(e):e,F(Object.keys])}),e.init&&e.init.bind(o)()})},this.mount=function(){if(b(),g&&g.call(o,r),P(s,o,f),w(!0),(t.attrs||u)&&(function(t,e){for(var i,n,o,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;i=r.exec(t);)n=i[1].toLowerCase(),o=i[2]||i[3]||i[4],m.setAttribute(n,o)}(t.attrs),P(o.root,o,f)),o.parent&&!c||o.update(p),o.trigger("premount"),c&&!u)o.root=m=s.firstChild;else{for(;s.firstChild;)m.appendChild(s.firstChild);m.stub&&(o.root=m=a.root)}!o.parent||o.parent.isMounted?(o.isMounted=!0,o.trigger("mount")):o.parent.one("mou))})},this.unmount=function(t){var i,e=m,n=e.parentNode;if(n){if(a)i=W(a),L(i.tags[v])?F(i.tags1)}):i.tags[v]=E;else for(;e.firstChild;)e.removeChild(e.firstChild);t?n.removeAttribute("riot-tag"):n.removeChild(e)}o.trigger("unmount"),w(),o.off("*"),m._tag=null},d=this,l=h,Y(s,function(t){if(1==t.nodeType){t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||t.getAttribute("each")?1:0;var e=H(t);e&&!t.isLoop&&l.push((r=new B(e,{root:i=t,parent:n=d},i.innerHTML),s=G(i),a=W(n),(o=(r.parent=a).tags[s])?(L(o)||(a.tags[s]=[o]),~a.tags[s].indexOf(r)||a.tags[s].push(r)):a.tags[s]=r,i.innerHTML="",r)),t.isLoop||K(t,d,[])}var i,n,o,r,s,))}function F(t,e){for(var i,n=0,o=(t||[]).length;n<o;n++)null!=(i=t[n])&&!1===e(i,n)&&n--;retur)}function H(t){return t.tagName&&y[t.getAttribute(I)||t.tagName.toLowerCase e}function G(t){var e=H(t),i=t.getAttribute("name");return i&&i.indexOf(R(0))<0?i:e?e.name:t.tagName.toLowerCase()}function z(t){for(var e,i=arguments,n=1;n<i.length;++n)if(e=i[n])for(var o in e)t[o]=e[o];return t}function q(t){if(!(t instanceof B||t&&typeof t.trigger==n))return t;var e={};for(var i in t)~O.indexOf(i)||(e[i]=t[i]);retur1}function h(t){return document.createElementt)}function K(t,e,i){if(!t._visited){var n,o=t.getAttribute("id")||t.getAttribute("name");o&&(i.indexOf(o)<0&&((n=e[o])?L(n)?n.push(t):e[o]=[n,t]:e[o]=t),t._visited=!0)}}var d,f=[],y={};T.tag=function(t,e,i,n,o){return U(n)&&(o=n,/^[\w\-]+\s?=/.test(i)?(n=i,i=""):n=""),i&&(U(i)?o=i:function(t){if(!T.render){d||(d=h("style")).setAttribute("type","text/css");var e=document.head||document.getElementsByTagName("head")[0];if(d.styleSheet?d.styleSheet.cssText+=t:d.innerHTML+=t,!d._rendered)if(d.styleSheet)document.body.appendChild(d);else{var i=document.querySelector("style[type=riot]");i?(i.parentNode.insertBefore(d,i),i.parentNode.removeChild(i)):e.appendChild(d)}d._rendered=!0}}(i)),y[t]={name:t,tmpl:e,attrs:n,fn:o},t},T.mount=function(t,n,o){var e,i,r=[];function s(t){var e="";return F(t,function(t){e+=", *["+I+'="'+t.trim()+'"]'}t)}function d(t){var e;if(t.tagName){!n||(e=t.getAttribute(I))&&e==n||t.setAttribute(I,n);var i=function(t,e,i){var n=y[e],o=t._innerHTML=t._innerHTML||t.innerHTML;if(t.innerHTML="",n&&t&&(n=new B(n,{root:t,opts:i},o)),n&&n.mount)return n.mount(),f.push(n),n.on("unmou1)})}(t,n||t.getAttribute(I)||t.tagName.toLowerCase(),o);i&&r.push(i)}else t.length&&F(t,d)}if(typeof n===D&&(o=n,n=0),typeof t===x?("*"===t?t=i=a():t+=s(t.split(",")),e=p(t)):e=t,"*"===n){if(n=i||a(),e.tagName)e=p(n,e);else{var l=[];))}),e=l}n=0}return e.tagName?d(e):F(e,d),r},T.upd})},T.mountTo=T.mount,T.util={brackets:R,tmpl:M},typeof l===D?e.exports=T:"function"==typeof define&&define.amd?def=T}):A.riot=T}("undefined"!=typeof window?window:void 0)},{}],1")},{"./tarnhelm":81}]},{},[115])},{}],55:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isResponsiveDisabled=i.getLastBreakPoint=i.constructCurrentSlotSizeMap=i.constructClientSideUrl=void 0;var d=t(56),l=function(t,o,r,s){var e=t.split(","),i=new Map;return e.fil o}).map(function(t){if(t in o){var e=o[t],i=a(r,e);if(s){var n=a(s,e);if(n===i||e[""+i]===e[""+n])return null}return[t,0<i?e[i.toString()]:0]}}).fil=t}).forE])}),i};i.constructCurrentSlotSizeMap=l;function a(e,t){var i=Object.keys(t).map(function(t){return parseInt(t,10)}).fil<t}).s-e});return 0<i.length?i[0]:0}i.constructClientSideUrl=function(t,e,i,n,o){if(!d.isDefined(t)||""===t||!d.isDefined(e)||""===e||!d.isDefined(i)||0===Object.keys(i).length)return"";var r=d.isDefined(window)?window.innerWidth:375,s=l(e,i,r,n),a="";return s.forEach(function(t,e){c(e,o,r)||(a+=e+"="+t+",")}),a=a.replace(new RegExp(",$"),""),0<(a=0<(a=encodeURIComponent(a)).length?"&slotSizeMap="+a:"").length?""+t+a:""},i.getLastBreakPoint=a;var c=function(e,i,t){if(!(i&&e&&e in i&&t))return!1;var n=Object.keys(i[e]).map(function(t){return parseInt(t,10)}).sort(),o=d.fint]})||0,r=d.fint]})||0;return o<t&&t<=r};i.isResponsiveDisabled=c},{56:56}],56:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isDefined=i.find=void 0,i.find=function(t,e){for(var i=0,n=t;i<n.length;i++){var o=n[i];if(e(o))return o}},i.isDefined=function(t){return void 0!==t}},{}],})},{55:55,56:56}],58:[function(t,e,i){"use strict";function n(t){document.location.hash.match("debug=1")&&void 0!==t&&console.error(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){if("consoleLog"in window&&"generic"in window&&"ad_utils"in window&&"custom"in window&&"monitoring"in window.generic&&"document_is_ready"in window.generic)try{t.call(this)}catch(t){void 0!==e&&(t.message=e+" "+t.message),window.ueLogError&&(t.attribution=o,t.logLevel="ERROR",window.ueLogError(t)),n(t.message)}else n(e)};var o=i.UE_LOG_ERROR_ATTRIBUTION="IMDbAdvertisingStaticMedia-doWithAds"},{}],59:[function(t,e,i){"use strict";var n,o=t(58),r=(n=o)&&n.__esModule?n:{default:n};!function(){var t=setInter")},50);function e(){window.jQuery&&(clearTimeout(t),window.jQuery(function(){window.generic.document_is_ready()}),window.generic.monitoring.stop_timing("page_load","",!0),window.generic.monitoring.all_events_started())}}()},{58:58}]},{},[19]);