/*! For license information please see nr-full-1.252.0.min.js.LICENSE.txt */
"use strict";(self["webpackChunk:NRBA-1.252.0.PROD"]=self["webpackChunk:NRBA-1.252.0.PROD"]||[]).push([[63],{9139:(e,t,s)=>{let r;s.d(t,{m:()=>n});const i=new Promise((e=>{r=e})),n=Object.freeze({onReplayReady:r,sessionReplayInitialized:i})},2573:(e,t,s)=>{s.d(t,{o:()=>c});var r=s(4247),i=s(1117),n=s(6291),a=s(8310),o=s(7056);class c extends i.w{constructor(e,t,s){super(s),this.endpoint=e,this.opts=t||{},this.started=!1,this.timeoutHandle=null,this.aborted=!1,this.harvest=new n.M(this.sharedContext),(0,a.L)(this.unload.bind(this)),this.sharedContext?.ee.on(o.wO.RESET,(()=>this.runHarvest({forceNoRetry:!0})))}unload(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}startTimer(e,t){this.interval=e,this.started=!0,this.scheduleHarvest(null!=t?t:this.interval)}stopTimer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=e,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(e,t){this.timeoutHandle||(null==e&&(e=this.interval),this.timeoutHandle=setTimeout((()=>{this.timeoutHandle=null,this.runHarvest(t)}),1e3*e))}runHarvest(e){if(this.aborted)return;const t=t=>{e?.forceNoRetry&&(t.retry=!1),this.onHarvestFinished(e,t)};let s,i,n=[];if(this.opts.getPayload){if(s=r.qD({isFinalHarvest:e?.unload}),!s)return!1;const t=!e?.unload&&s===r.Be;if(i=this.opts.getPayload({retry:t,opts:e}),!i)return void(this.started&&this.scheduleHarvest());i="[object Array]"===Object.prototype.toString.call(i)?i:[i],n.push(...i)}let a=e=>this.harvest.sendX(e);n.length?a=this.opts.raw?e=>this.harvest._send(e):e=>this.harvest.send(e):n.push(void 0),n.forEach((r=>{a({endpoint:this.endpoint,payload:r,opts:e,submitMethod:s,cbFinished:t,customUrl:this.opts.customUrl,raw:this.opts.raw})})),this.started&&this.scheduleHarvest()}onHarvestFinished(e,t){if(this.opts.onFinished&&this.opts.onFinished(t),t.sent&&t.retry){const s=t.delay||this.opts.retryDelay;this.started&&s?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(s,e)):!this.started&&s&&this.scheduleHarvest(s,e)}}}},6291:(e,t,s)=>{s.d(t,{M:()=>y});var r=s(4420),i=s(4351),n=s(4247);function a(){return""+location}var o=s(234),c=s(4222),h=s(7894),u=s(3239),d=s(6141);function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e&&"object"==typeof e?(Object.keys(e).forEach((i=>{"object"==typeof e[i]?l(e[i],t,s,r):typeof e[i]!==s||r.includes(i)||(e[i]=t(e[i]))})),e):e}var p=s(1117),f=s(6818),g=s(385),m=s(50);const v={};class y extends p.w{constructor(e){super(e),this.tooManyRequestsDelay=(0,o.Mt)(this.sharedContext.agentIdentifier,"harvest.tooManyRequestsDelay")||60,this.obfuscator=new d.RR(this.sharedContext),this._events={}}sendX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=n.qD({isFinalHarvest:e.opts?.unload}),s={retry:!e.opts?.unload&&t===n.Be,isFinalHarvest:!0===e.opts?.unload},r=this.createPayload(e.endpoint,s);return(this.obfuscator.shouldObfuscate()?this.obfuscateAndSend.bind(this):this._send.bind(this))({...e,payload:r,submitMethod:t})}send(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(this.obfuscator.shouldObfuscate()?this.obfuscateAndSend.bind(this):this._send.bind(this))(e)}obfuscateAndSend(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{payload:s={}}=t;return l(s,(function(){return e.obfuscator.obfuscateString(...arguments)}),"string",["e"]),this._send({...t,payload:s})}_send(e){let{endpoint:t,payload:s={},opts:a={},submitMethod:c,cbFinished:h,customUrl:d,raw:l,includeBaseParams:p=!0}=e;const f=(0,o.C5)(this.sharedContext.agentIdentifier);if(!f.errorBeacon)return!1;const y=(0,o.OP)(this.sharedContext.agentIdentifier);let{body:b,qs:S}=this.cleanPayload(s);if(0===Object.keys(b).length&&!a?.sendEmptyBody)return h&&h({sent:!1}),!1;const T=(0,o.P_)(this.sharedContext.agentIdentifier),w=!1===T.ssl?"http":"https",A=T.proxy.beacon||f.errorBeacon,R="rum"!==t?"/".concat(t):"";let E="".concat(w,"://").concat(A).concat(R,"/1/").concat(f.licenseKey);d&&(E=d),l&&(E="".concat(w,"://").concat(A,"/").concat(t));const O=!l&&p?this.baseQueryString(S):"";let M=(0,r.j6)(S,y.maxBytes);c||(c=n.qD({isFinalHarvest:a.unload})),""===O&&M.startsWith("&")&&(M=M.substring(1));const I="".concat(E,"?").concat(O).concat(M);!!S?.attributes?.includes("gzip")||(b="events"===t?b.e:(0,i.P)(b),b.length>75e4&&1===(v[t]=(v?.[t]||0)+1)&&(0,m.Z)("The Browser Agent is attempting to send a very large payload to /".concat(t,". This is usually tied to large amounts of custom attributes. Please check your configurations."))),b&&0!==b.length&&"{}"!==b&&"[]"!==b||(b="");const P=[];P.push({key:"content-type",value:"text/plain"});let x=c({url:I,body:b,sync:a.unload&&(g.v6||g.w1),headers:P});if(!a.unload&&h&&c===n.Be){const e=this;x.addEventListener("loadend",(function(){const t={sent:0!==this.status,status:this.status};429===this.status?(t.retry=!0,t.delay=e.tooManyRequestsDelay):408!==this.status&&500!==this.status&&503!==this.status||(t.retry=!0),a.needResponse&&(t.responseText=this.responseText),h(t)}),(0,u.m$)(!1))}return x}baseQueryString(e){const t=(0,o.OP)(this.sharedContext.agentIdentifier),s=(0,o.C5)(this.sharedContext.agentIdentifier),i=(0,c.f)(a()),n=this.obfuscator.shouldObfuscate()?this.obfuscator.obfuscateString(i):i;return["a="+s.applicationID,(0,r.wu)("sa",s.sa?""+s.sa:""),(0,r.wu)("v",f.q4),b(s),(0,r.wu)("ct",t.customTransaction),"&rst="+(0,h.z)(),"&ck=0","&s="+(t.session?.state.value||"0"),(0,r.wu)("ref",n),(0,r.wu)("ptid",t.ptid?""+t.ptid:""),(0,r.wu)("hr",1===t?.session?.state.sessionReplayMode?"1":"0",e)].join("")}createPayload(e,t){const s=this._events[e],r={body:{},qs:{}};if(Array.isArray(s)&&s.length>0)for(let e=0;e<s.length;e++){const i=s[e](t);i&&(r.body={...r.body,...i.body||{}},r.qs={...r.qs,...i.qs||{}})}return r}cleanPayload(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||Array.isArray(e)?e:"string"==typeof e?e.length>0?e:null:Object.entries(e||{}).reduce(((e,t)=>{let[s,r]=t;return("number"==typeof r||"string"==typeof r&&r.length>0||"object"==typeof r&&Object.keys(r||{}).length>0)&&(e[s]=r),e}),{});return{body:t(e.body),qs:t(e.qs)}}on(e,t){Array.isArray(this._events[e])||(this._events[e]=[]),this._events[e].push(t)}}function b(e){return e.transactionName?(0,r.wu)("to",e.transactionName):(0,r.wu)("t",e.tNamePlain||"Unnamed Transaction")}},214:(e,t,s)=>{s.d(t,{AG:()=>c,FX:()=>u,n1:()=>d,uR:()=>h});var r=s(1284),i=s(4351),n=s(6141),a=Object.prototype.hasOwnProperty,o=64;function c(e,t,s){return e||0===e||""===e?t(e)+(s?",":""):"!"}function h(e,t){return t?Math.floor(e).toString(36):void 0===e||0===e?"":Math.floor(e).toString(36)}function u(e){var t=Object.hasOwnProperty("create")?Object.create(null):{},s=0;return function(r){if(void 0===r||""===r)return"";var i=new n.RR({agentIdentifier:e});r=String(r),i.shouldObfuscate()&&(r=i.obfuscateString(r));return a.call(t,r)?h(t[r],!0):(t[r]=s++,function(e){return"'"+e.replace(l,"\\$1")}(r))}}function d(e,t){var s=[];return(0,r.D)(e,(function(e,r){if(!(s.length>=o)){var n,a=5;switch(e=t(e),typeof r){case"object":r?n=t((0,i.P)(r)):a=9;break;case"number":a=6,n=r%1?r:r+".";break;case"boolean":a=r?7:8;break;case"undefined":a=9;break;default:n=t(r)}s.push([a,e+(n?","+n:"")])}})),s}var l=/([,\\;])/g},8310:(e,t,s)=>{s.d(t,{L:()=>a});var r=s(3239),i=s(385),n=s(7956);if(i.v6){i._A.cleanupTasks=[];const e=i._A.close;i._A.close=()=>{for(let e of i._A.cleanupTasks)e();e()}}function a(e){i.il?((0,n.N)(e,!0),(0,r.bP)("pagehide",e)):i.v6&&i._A.cleanupTasks.push(e)}},4222:(e,t,s)=>{s.d(t,{f:()=>n});var r=/([^?#]*)[^#]*(#[^?]*|$).*/,i=/([^?#]*)().*/;function n(e,t){return e.replace(t?r:i,"$1$2")}},4420:(e,t,s)=>{s.d(t,{j6:()=>u,wu:()=>d});var r=s(1284),i=s(4351),n={"%2C":",","%3A":":","%2F":"/","%40":"@","%24":"$","%3B":";"},a=(0,r.D)(n,(function(e){return e})),o=new RegExp(a.join("|"),"g");function c(e){return n[e]}function h(e){return null==e?"null":encodeURIComponent(e).replace(o,c)}function u(e,t){var s=0,n="";return(0,r.D)(e,(function(e,r){var a,o,c=[];if("string"==typeof r||!Array.isArray(r)&&null!=r&&r.toString().length)a="&"+e+"="+h(r),s+=a.length,n+=a;else if(Array.isArray(r)&&r.length){for(s+=9,o=0;o<r.length&&(a=h((0,i.P)(r[o])),s+=a.length,!(void 0!==t&&s>=t));o++)c.push(a);n+="&"+e+"=%5B"+c.join(",")+"%5D"}})),n}function d(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(s).includes(e)?"":t&&"string"==typeof t?"&"+e+"="+h(t):""}},2271:(e,t,s)=>{s.d(t,{V:()=>i});var r=s(385);function i(){return Boolean("file:"===r._A?.location?.protocol)}},7872:(e,t,s)=>{function r(e){var t=this;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=r?.leading||!1;let n;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];i&&void 0===n&&(e.apply(t,a),n=setTimeout((()=>{n=clearTimeout(n)}),s)),i||(clearTimeout(n),n=setTimeout((()=>{e.apply(t,a)}),s))}}function i(e){var t=this;let s=!1;return function(){if(!s){s=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(t,i)}}}s.d(t,{D:()=>r,Z:()=>i})},6141:(e,t,s)=>{s.d(t,{$c:()=>h,Ng:()=>u,RR:()=>c});var r=s(234),i=s(1117),n=s(2271),a=s(50),o={regex:/^file:\/\/(.*)/,replacement:atob("ZmlsZTovL09CRlVTQ0FURUQ=")};class c extends i.w{shouldObfuscate(){return h(this.sharedContext.agentIdentifier).length>0}obfuscateString(e){if(!e||"string"!=typeof e)return e;for(var t=h(this.sharedContext.agentIdentifier),s=e,r=0;r<t.length;r++){var i=t[r].regex,n=t[r].replacement||"*";s=s.replace(i,n)}return s}}function h(e){var t=[],s=(0,r.Mt)(e,"obfuscate")||[];return t=t.concat(s),(0,n.V)()&&t.push(o),t}function u(e){for(var t=!1,s=!1,r=0;r<e.length;r++){"regex"in e[r]?"string"==typeof e[r].regex||e[r].regex instanceof RegExp||((0,a.Z)('An obfuscation replacement rule contains a "regex" value with an invalid type (must be a string or RegExp)'),s=!0):((0,a.Z)('An obfuscation replacement rule was detected missing a "regex" value.'),s=!0);var i=e[r].replacement;i&&"string"!=typeof i&&((0,a.Z)('An obfuscation replacement rule contains a "replacement" value with an invalid type (must be a string)'),t=!0)}return!t&&!s}},4247:(e,t,s)=>{s.d(t,{Be:()=>n,qD:()=>i});var r=s(385);function i(){let{isFinalHarvest:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&r.il&&r.Nk?a:n}function n(e){let{url:t,body:s=null,sync:r,method:i="POST",headers:n=[{key:"content-type",value:"text/plain"}]}=e;const a=new XMLHttpRequest;a.open(i,t,!r);try{"withCredentials"in a&&(a.withCredentials=!0)}catch(e){}return n.forEach((e=>{a.setRequestHeader(e.key,e.value)})),a.send(s),a}function a(e){let{url:t,body:s}=e;try{return window.navigator.sendBeacon.bind(window.navigator)(t,s)}catch(e){return!1}}},8158:(e,t,s)=>{s.d(t,{S:()=>r});const r={FIRST_PAINT:"fp",FIRST_CONTENTFUL_PAINT:"fcp",FIRST_INPUT_DELAY:"fi",LARGEST_CONTENTFUL_PAINT:"lcp",CUMULATIVE_LAYOUT_SHIFT:"cls",INTERACTION_TO_NEXT_PAINT:"inp",LONG_TASK:"lt",TIME_TO_FIRST_BYTE:"ttfb"}},6069:(e,t,s)=>{s.d(t,{y:()=>a});var r=s(8085),i=s(385),n=s(8158);const a=new(s(2094).U)(n.S.FIRST_CONTENTFUL_PAINT);if(i.il)if(i.ux)try{if(!i.iS){const e=performance.getEntriesByType("paint");e.forEach((t=>{"first-contentful-paint"===t.name&&a.update({value:Math.floor(t.startTime),entries:e})}))}}catch(e){}else(0,r.a4)((e=>{let{value:t,entries:s}=e;i.iS||a.isValid||a.update({value:t,entries:s})}))},8373:(e,t,s)=>{s.d(t,{U:()=>n});var r=s(385),i=s(8158);const n=new(s(2094).U)(i.S.FIRST_PAINT);if(r.il){const e=e=>{e.forEach((s=>{"first-paint"!==s.name||n.isValid||(t.disconnect(),n.update({value:s.startTime,entries:e}))}))};let t;try{PerformanceObserver.supportedEntryTypes.includes("paint")&&!r.iS&&(t=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))})),t.observe({type:"paint",buffered:!0}))}catch(e){}}},4806:(e,t,s)=>{s.d(t,{P:()=>o});var r=s(385),i=s(8158),n=s(2094),a=s(8085);const o=new n.U(i.S.TIME_TO_FIRST_BYTE);if(r.il&&"undefined"!=typeof PerformanceNavigationTiming&&!r.Tt)(0,a.mr)((e=>{let{value:t,entries:s}=e;o.isValid||o.update({value:t,entries:s})}));else if(!o.isValid){const e={};for(let t in r._A?.performance?.timing||{})e[t]=Math.max(r._A?.performance?.timing[t]-r.cv,0);o.update({value:e.responseStart,entries:[e]})}},2094:(e,t,s)=>{s.d(t,{U:()=>r});class r{#e=new Set;history=[];constructor(e,t){this.name=e,this.attrs={},this.roundingMethod="function"==typeof t?t:Math.floor}update(e){let{value:t,entries:s=[],attrs:r={}}=e;if(t<0)return;const i={value:this.roundingMethod(t),name:this.name,entries:s,attrs:r};this.history.push(i),this.#e.forEach((e=>{try{e(this.current)}catch(e){}}))}get current(){return this.history[this.history.length-1]||{value:void 0,name:this.name,entries:[],attrs:{}}}get isValid(){return this.current.value>=0}subscribe(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("function"==typeof e)return this.#e.add(e),this.isValid&&t&&this.history.forEach((t=>{e(t)})),()=>{this.#e.delete(e)}}}},1755:(e,t,s)=>{s.r(t),s.d(t,{Aggregate:()=>w});var r=s(4322),i=s(4351),n=s(214),a=s(5546),o=s(234),c=s(2573),h=[];function u(e){if(0===h.length)return!0;if(void 0===e.hostname)return!1;for(var t=0;t<h.length;t++){var s=h[t];if("*"===s.hostname)return!1;if(l(s.hostname,e.hostname)&&p(s.pathname,e.pathname))return!1}return!0}function d(e){if(h=[],e&&e.length)for(var t=0;t<e.length;t++){let s=e[t];if(!s)continue;0===s.indexOf("http://")?s=s.substring(7):0===s.indexOf("https://")&&(s=s.substring(8));const r=s.indexOf("/");let i,n;r>0?(i=s.substring(0,r),n=s.substring(r)):(i=s,n="");let[a]=i.split(":");h.push({hostname:a,pathname:n})}}function l(e,t){return!(e.length>t.length)&&t.indexOf(e)===t.length-e.length}function p(e,t){return 0===e.indexOf("/")&&(e=e.substring(1)),0===t.indexOf("/")&&(t=t.substring(1)),""===e||e===t}var f=s(7825),g=s(3325),m=s(3081),v=s(2222);function y(){let{body:e,query:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e||t)try{const s=function(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=[],s=[];for(let r of e){const e=b(r);e&&(t.push(e.operationName),s.push(e.operationType))}if(!s.length)return;return{operationName:t.join(","),operationType:s.join(","),operationFramework:"GraphQL"}}(S(e));if(s)return s;const r=b(function(e){if(!e||"string"!=typeof e)return;const t=new URLSearchParams(e);return S(Object.fromEntries(t))}(t));if(r)return r}catch(e){}}function b(e){if("object"!=typeof e||!e.query||"string"!=typeof e.query)return;const t=e.query.trim().match(/^(query|mutation|subscription)\s?(\w*)/),s=t?.[1];if(!s)return;return{operationName:e.operationName||t?.[2]||"Anonymous",operationType:s,operationFramework:"GraphQL"}}function S(e){let t;if(!e||"string"!=typeof e&&"object"!=typeof e)return;if(t="string"==typeof e?JSON.parse(e):e,s=t,s?.constructor!=={}.constructor&&!Array.isArray(t))return;var s;let r=!1;return r=Array.isArray(t)?t.some((e=>T(e))):T(t),r?t:void 0}function T(e){return!("object"!=typeof e||!e.query||"string"!=typeof e.query)}class w extends v.m{static featureName=f.t;constructor(e,t){super(e,t,f.t);const s=(0,o.P_)(e),h=!1!==s.ajax.enabled;if((0,r.X)("xhr",E,this.featureName,this.ee),!h)return void this.drain();d((0,o.OP)(e).denyList);let l=[],p={},v=[];const b=this.ee,S=s.ajax.harvestTimeSeconds||10,T=s.ajax.maxPayloadSize||1e6;this.storeXhr=E,this.prepareHarvest=O,this.getStoredEvents=function(){return{ajaxEvents:l,spaAjaxEvents:p}},b.on("interactionSaved",(e=>{p[e.id]&&delete p[e.id]})),b.on("interactionDiscarded",(e=>{p[e.id]&&(p[e.id].forEach((function(e){l.push(e)})),delete p[e.id])}));const w=new c.o("events",{onFinished:function(e){e.retry&&v.length>0&&(l.unshift(...v),v=[])},getPayload:O},this);b.on("drain-".concat(this.featureName),(()=>{w.startTimer(S)})),this.drain();const A=(0,o.C5)(e).errorBeacon,R=s.proxy.beacon;function E(e,s,r,n,o){var c;if(s.time=r,c=e.cat?(0,i.P)([e.status,e.cat]):(0,i.P)([e.status,e.host,e.pathname]),t.store("xhr",c,e,s),h)if(u(e)){(0,a.p)("bstXhrAgg",["xhr",c,e,s],void 0,g.D.sessionTrace,b);var d=this,f={method:e.method,status:e.status,domain:e.host,path:e.pathname,requestSize:s.txSize,responseSize:s.rxSize,type:o,startTime:r,endTime:n,callbackDuration:s.cbTime};if(d.dt&&(f.spanId=d.dt.spanId,f.traceId=d.dt.traceId,f.spanTimestamp=d.dt.timestamp),f.gql=e.gql=y({body:this.body,query:this?.parsedOrigin?.search}),f.gql&&(0,a.p)(m.xS,["Ajax/Events/GraphQL/Bytes-Added",(0,i.P)(f.gql).length],void 0,g.D.metrics,b),this.spaNode){var v=this.spaNode.interaction.id;p[v]=p[v]||[],p[v].push(f)}else l.push(f)}else e.hostname===A||R&&e.hostname===R?(0,a.p)(m.xS,["Ajax/Events/Excluded/Agent"],void 0,g.D.metrics,b):(0,a.p)(m.xS,["Ajax/Events/Excluded/App"],void 0,g.D.metrics,b)}function O(e){if(e=e||{},0===l.length)return null;for(var t=M(l,e.maxPayloadSize||T),s=[],r=0;r<t.length;r++)s.push({body:{e:t[r]}});return e.retry&&(v=l.slice()),l=[],s}function M(e,t,s){s=s||1;for(var r=[],i=function(e,t){t=t||e.length;for(var s=[],r=0,i=e.length;r<i;r+=t)s.push(new I(e.slice(r,r+t)));return s}(e,e.length/s),n=!1,a=0;a<i.length;a++){var o=i[a];if(o.tooBig(t)){if(1!==o.events.length){n=!0;break}}else r.push(o.payload)}return n?M(e,t,++s):r}function I(t){this.addString=(0,n.FX)(e),this.events=t,this.payload="bel.7;";for(var s=0;s<t.length;s++){var r=t[s],i=[(0,n.uR)(r.startTime),(0,n.uR)(r.endTime-r.startTime),(0,n.uR)(0),(0,n.uR)(0),this.addString(r.method),(0,n.uR)(r.status),this.addString(r.domain),this.addString(r.path),(0,n.uR)(r.requestSize),(0,n.uR)(r.responseSize),"fetch"===r.type?1:"",this.addString(0),(0,n.AG)(r.spanId,this.addString,!0)+(0,n.AG)(r.traceId,this.addString,!0)+(0,n.AG)(r.spanTimestamp,n.uR,!1)],a="2,",c=(0,n.n1)({...(0,o.C5)(e).jsAttributes||{},...r.gql||{}},this.addString);i.unshift((0,n.uR)(c.length)),a+=i.join(","),c&&c.length>0&&(a+=";"+c.join(";")),s+1<t.length&&(a+=";"),this.payload+=a}this.tooBig=function(e){return e=e||T,2*this.payload.length>e}}}}},1028:(e,t,s)=>{s.r(t),s.d(t,{Aggregate:()=>x});const r=/([a-z0-9]+)$/i;function i(e){if(!e)return;const t=e.match(r);return t?t[1]:void 0}var n=/^\n+|\n+$/g;function a(e){return function(e){var t;if(e.length>100){var s=e.length-100;t=e.slice(0,50).join("\n"),t+="\n< ...truncated "+s+" lines... >\n",t+=e.slice(-50).join("\n")}else t=e.join("\n");return t}(e).replace(n,"")}var o=s(385),c=s(4222);function h(e){if("string"!=typeof e)return"";const t=(0,c.f)(e);return t===(0,c.f)(o.FN)?"<inline>":t}var u=!1,d=/function (.+?)\s*\(/,l=/^\s*at (?:((?:\[object object\])?(?:[^(]*\([^)]*\))*[^()]*(?: \[as \S+\])?) )?\(?((?:file|http|https|chrome-extension):.*?)?:(\d+)(?::(\d+))?\)?\s*$/i,p=/^\s*(?:(\S*|global code)(?:\(.*?\))?@)?((?:file|http|https|chrome|safari-extension).*?):(\d+)(?::(\d+))?\s*$/i,f=/^\s*at .+ \(eval at \S+ \((?:(?:file|http|https):[^)]+)?\)(?:, [^:]*:\d+:\d+)?\)$/i,g=/^\s*at Function code \(Function code:\d+:\d+\)\s*/i;function m(e){var t=null;try{if(t=function(e){if(!e.stack)return null;var t=e.stack.split("\n").reduce(v,{frames:[],stackLines:[],wrapperSeen:!1});return t.frames.length?{mode:"stack",name:e.name||y(e),message:e.message,stackString:a(t.stackLines),frames:t.frames}:null}(e),t)return t}catch(e){u}try{if(t=function(e){if(!("line"in e))return null;var t=e.name||y(e);if(!e.sourceURL)return{mode:"sourceline",name:t,message:e.message,stackString:t+": "+e.message+"\n    in evaluated code",frames:[{func:"evaluated code"}]};var s=h(e.sourceURL),r=t+": "+e.message+"\n    at "+s;e.line&&(r+=":"+e.line,e.column&&(r+=":"+e.column));return{mode:"sourceline",name:t,message:e.message,stackString:r,frames:[{url:s,line:e.line,column:e.column}]}}(e),t)return t}catch(e){u}try{if(t=function(e){var t=e.name||y(e);return t?{mode:"nameonly",name:t,message:e.message,stackString:t+": "+e.message,frames:[]}:null}(e),t)return t}catch(e){u}return{mode:"failed",stackString:"",frames:[]}}function v(e,t){let s=function(e){var t=e.match(p);t||(t=e.match(l));if(t)return{url:t[2],func:"Anonymous function"!==t[1]&&"global code"!==t[1]&&t[1]||null,line:+t[3],column:t[4]?+t[4]:null};if(e.match(f)||e.match(g)||"anonymous"===e)return{func:"evaluated code"}}(t);if(!s)return e.stackLines.push(t),e;var r;if((r=s.func)&&r.indexOf("nrWrapper")>=0&&(e.wrapperSeen=!0),!e.wrapperSeen){let r=h(s.url);r!==s.url&&(t=t.replace(s.url,r),s.url=r),e.stackLines.push(t),e.frames.push(s)}return e}function y(e){var t=d.exec(String(e.constructor));return t&&t.length>1?t[1]:"unknown"}function b(e){var t=0;if(!e||!e.length)return t;for(var s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return t}var S=s(4322),T=s(2573),w=s(4351),A=s(5546),R=s(1284),E=s(234),O=s(7894),M=s(6660),I=s(3325),P=s(2222);class x extends P.m{static featureName=M.t;constructor(e,t){var s;super(e,t,M.t),s=this,this.stackReported={},this.observedAt={},this.pageviewReported={},this.errorCache={},this.currentBody=void 0,this.errorOnPage=!1,this.ee.on("interactionSaved",(e=>this.onInteractionSaved(e))),this.ee.on("interactionDiscarded",(e=>this.onInteractionDiscarded(e))),(0,S.X)("err",(function(){return s.storeError(...arguments)}),this.featureName,this.ee),(0,S.X)("ierr",(function(){return s.storeError(...arguments)}),this.featureName,this.ee);const r=(0,E.Mt)(this.agentIdentifier,"jserrors.harvestTimeSeconds")||10,i=new T.o("jserrors",{onFinished:function(){return s.onHarvestFinished(...arguments)}},this);i.harvest.on("jserrors",(function(){return s.onHarvestStarted(...arguments)})),this.ee.on("drain-".concat(this.featureName),(()=>{this.blocked||i.startTimer(r)})),(0,S.X)("block-err",(()=>{this.blocked=!0,i.stopTimer(!0)}),this.featureName,this.ee),this.drain()}onHarvestStarted(e){var t=this.aggregator.take(["err","ierr","xhr"]);e.retry&&(this.currentBody=t);var s={body:t,qs:{}},r=(0,w.P)((0,E.OP)(this.agentIdentifier).releaseIds);return"{}"!==r&&(s.qs.ri=r),t&&t.err&&t.err.length&&!this.errorOnPage&&(s.qs.pve="1",this.errorOnPage=!0),s}onHarvestFinished(e){e.retry&&this.currentBody&&((0,R.D)(this.currentBody,((e,t)=>{for(var s=0;s<t.length;s++){var r=t[s],i=this.getBucketName(e,r.params,r.custom);this.aggregator.merge(e,i,r.metrics,r.params,r.custom)}})),this.currentBody=null)}nameHash(e){return b("".concat(e.exceptionClass,"_").concat(e.message,"_").concat(e.stack_trace||e.browser_stack_hash))}getBucketName(e,t,s){return"xhr"===e?b((0,w.P)(t))+":"+b((0,w.P)(s)):this.nameHash(t)+":"+b((0,w.P)(s))}buildCanonicalStackString(e){for(var t="",s=0;s<e.frames.length;s++){var r=e.frames[s],n=i(r.func);t&&(t+="\n"),n&&(t+=n+"@"),"string"==typeof r.url&&(t+=r.url),r.line&&(t+=":"+r.line)}return t}storeError(e,t,s,r){t=t||(0,O.z)();const i=(0,E.OP)(this.agentIdentifier);let n;if(!s&&i.onerror&&(n=i.onerror(e),n&&("string"!=typeof n.group||!n.group.length)))return;var a=m(e);const c={stackHash:b(this.buildCanonicalStackString(a)),exceptionClass:a.name,request_uri:o._A?.location.pathname};a.message&&(c.message=""+a.message),n?.group&&(c.errorGroup=n.group);var h,u=b("".concat(a.name,"_").concat(a.message,"_").concat(a.stackString));this.stackReported[u]?c.browser_stack_hash=b(a.stackString):(this.stackReported[u]=!0,c.stack_trace=(h=a.stackString).length>65530?h.substr(0,65530):h,this.observedAt[u]=i.offset+t),c.releaseIds=(0,w.P)(i.releaseIds),this.pageviewReported[u]||(c.pageview=1,this.pageviewReported[u]=!0),i?.session?.state?.sessionReplayMode&&(c.hasReplay=!0),c.firstOccurrenceTimestamp=this.observedAt[u];var d=s?"ierr":"err",l={time:t};const p=[d,u,c,l];if((0,A.p)("errorAgg",p,void 0,I.D.sessionTrace,this.ee),(0,A.p)("errorAgg",p,void 0,I.D.spa,this.ee),(0,A.p)("errorAgg",p,void 0,I.D.sessionReplay,this.ee),!this.blocked){var f=(0,E.C5)(this.agentIdentifier).jsAttributes;if(null!=c._interactionId)this.errorCache[c._interactionId]=this.errorCache[c._interactionId]||[],this.errorCache[c._interactionId].push([d,u,c,l,f,r]);else{var g={};(0,R.D)(f,y),r&&(0,R.D)(r,y);var v=u+":"+b((0,w.P)(g));this.aggregator.store(d,v,c,l,g)}}function y(e,t){g[e]=t&&"object"==typeof t?(0,w.P)(t):t}}onInteractionSaved(e){this.errorCache[e.id]&&!this.blocked&&(this.errorCache[e.id].forEach((t=>{var s={},r=t[4],i=t[5];(0,R.D)(r,o),(0,R.D)(e.root.attrs.custom,o),(0,R.D)(i,o);var n=t[2];n.browserInteractionId=e.root.attrs.id,delete n._interactionId,n._interactionNodeId&&(n.parentNodeId=n._interactionNodeId.toString(),delete n._interactionNodeId);var a=t[1]+e.root.attrs.id+":"+b((0,w.P)(s));function o(e,t){s[e]=t&&"object"==typeof t?(0,w.P)(t):t}this.aggregator.store(t[0],a,n,t[3],s)})),delete this.errorCache[e.id])}onInteractionDiscarded(e){this.errorCache&&this.errorCache[e.id]&&!this.blocked&&(this.errorCache[e.id].forEach((t=>{var s={},r=t[4],i=t[5];(0,R.D)(r,o),(0,R.D)(e.root.attrs.custom,o),(0,R.D)(i,o);var n=t[2];delete n._interactionId,delete n._interactionNodeId;var a=t[1]+":"+b((0,w.P)(s));function o(e,t){s[e]=t&&"object"==typeof t?(0,w.P)(t):t}this.aggregator.store(t[0],a,t[2],t[3],s)})),delete this.errorCache[e.id])}}},8939:(e,t,s)=>{s.r(t),s.d(t,{Aggregate:()=>C});var r=s(234),i=s(4322),n=s(2573),a=s(3081),o=s(385);const c="React",h="NextJS",u="Vue",d="NuxtJS",l="Angular",p="AngularUniversal",f="Svelte",g="SvelteKit",m="Preact",v="PreactSSR",y="AngularJS",b="Backbone",S="Ember",T="Meteor",w="Zepto",A="Jquery",R="MooTools",E="Qwik",O="Electron";function M(){if(!o.il)return[];const e=[];try{(function(){try{return Object.prototype.hasOwnProperty.call(window,"React")||Object.prototype.hasOwnProperty.call(window,"ReactDOM")||Object.prototype.hasOwnProperty.call(window,"ReactRedux")||document.querySelector("[data-reactroot], [data-reactid]")||(()=>{const e=document.querySelectorAll("body > div");for(let t=0;t<e.length;t++)if(Object.prototype.hasOwnProperty.call(e[t],"_reactRootContainer"))return!0})()}catch(e){return!1}})()&&(e.push(c),function(){try{return Object.prototype.hasOwnProperty.call(window,"next")&&Object.prototype.hasOwnProperty.call(window.next,"version")}catch(e){return!1}}()&&e.push(h)),function(){try{return Object.prototype.hasOwnProperty.call(window,"Vue")}catch(e){return!1}}()&&(e.push(u),function(){try{return Object.prototype.hasOwnProperty.call(window,"$nuxt")&&Object.prototype.hasOwnProperty.call(window.$nuxt,"nuxt")}catch(e){return!1}}()&&e.push(d)),function(){try{return Object.prototype.hasOwnProperty.call(window,"ng")||document.querySelector("[ng-version]")}catch(e){return!1}}()&&(e.push(l),function(){try{return document.querySelector("[ng-server-context]")}catch(e){return!1}}()&&e.push(p)),function(){try{return Object.prototype.hasOwnProperty.call(window,"__svelte")}catch(e){return!1}}()&&(e.push(f),function(){try{return!!Object.keys(window).find((e=>e.startsWith("__sveltekit")))}catch(e){return!1}}()&&e.push(g)),function(){try{return Object.prototype.hasOwnProperty.call(window,"preact")}catch(e){return!1}}()&&(e.push(m),function(){try{return document.querySelector('script[type="__PREACT_CLI_DATA__"]')}catch(e){return!1}}()&&e.push(v)),function(){try{return Object.prototype.hasOwnProperty.call(window,"angular")||document.querySelector(".ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]")||document.querySelector('script[src*="angular.js"], script[src*="angular.min.js"]')}catch(e){return!1}}()&&e.push(y),Object.prototype.hasOwnProperty.call(window,"Backbone")&&e.push(b),Object.prototype.hasOwnProperty.call(window,"Ember")&&e.push(S),Object.prototype.hasOwnProperty.call(window,"Meteor")&&e.push(T),Object.prototype.hasOwnProperty.call(window,"Zepto")&&e.push(w),Object.prototype.hasOwnProperty.call(window,"jQuery")&&e.push(A),Object.prototype.hasOwnProperty.call(window,"MooTools")&&e.push(R),Object.prototype.hasOwnProperty.call(window,"qwikevents")&&e.push(E),function(){try{return"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}catch(e){return!1}}()&&e.push(O)}catch(e){}return e}var I=s(2271),P=s(6141),x=s(3960),k=s(3239),F=s(2222);class C extends F.m{static featureName=a.t9;constructor(e,t){let s;super(e,t,a.t9),(0,i.X)("block-err",(()=>{this.blocked=!0,s&&(s.aborted=!0)}),this.featureName,this.ee),(0,i.X)(a.xS,this.storeSupportabilityMetrics.bind(this),this.featureName,this.ee),(0,i.X)(a.vz,this.storeEventMetrics.bind(this),this.featureName,this.ee),this.singleChecks(),this.eachSessionChecks(),this.ee.on("drain-".concat(this.featureName),(()=>{s=new n.o("jserrors",{onUnload:()=>this.unload()},this),s.harvest.on("jserrors",(()=>({body:this.aggregator.take(["cm","sm"])})))})),this.drain()}storeSupportabilityMetrics(e,t){if(this.blocked)return;const s=a.mY,r={name:e};this.aggregator.storeMetric(s,e,r,t)}storeEventMetrics(e,t){if(this.blocked)return;const s=a.gF,r={name:e};this.aggregator.store(s,e,r,t)}singleChecks(){const{distMethod:e,loaderType:t}=(0,r.OP)(this.agentIdentifier);if(t&&this.storeSupportabilityMetrics("Generic/LoaderType/".concat(t,"/Detected")),e&&this.storeSupportabilityMetrics("Generic/DistMethod/".concat(e,"/Detected")),o.il){this.storeSupportabilityMetrics("Generic/Runtime/Browser/Detected");const e=document?.currentScript?.nonce;e&&""!==e&&this.storeSupportabilityMetrics("Generic/Runtime/Nonce/Detected"),(0,x.KB)((()=>{M().forEach((e=>{this.storeSupportabilityMetrics("Framework/"+e+"/Detected")}))}))}else o.v6?this.storeSupportabilityMetrics("Generic/Runtime/Worker/Detected"):this.storeSupportabilityMetrics("Generic/Runtime/Unknown/Detected");(0,I.V)()&&this.storeSupportabilityMetrics("Generic/FileProtocol/Detected");const s=(0,P.$c)(this.agentIdentifier);s.length>0&&this.storeSupportabilityMetrics("Generic/Obfuscate/Detected"),s.length>0&&!(0,P.Ng)(s)&&this.storeSupportabilityMetrics("Generic/Obfuscate/Invalid");const{proxy:i,privacy:n}=(0,r.P_)(this.agentIdentifier);i.assets&&this.storeSupportabilityMetrics("Config/AssetsUrl/Changed"),i.beacon&&this.storeSupportabilityMetrics("Config/BeaconUrl/Changed"),o.il&&n.cookies_enabled||this.storeSupportabilityMetrics("Config/SessionTracking/Disabled")}eachSessionChecks(){o.il&&(0,k.bP)("pageshow",(e=>{e?.persisted&&this.storeSupportabilityMetrics("Generic/BFCache/PageRestored")}))}unload(){try{if(this.resourcesSent)return;this.resourcesSent=!0;const e=(0,r.OP)(this.agentIdentifier),t=["beacon","fetch","xmlhttprequest"],s=["nr-data.net","newrelic.com","nr-local.net","localhost"];function i(e){return t.includes(e.initiatorType)}if((performance?.getEntriesByType("resource")||[]).forEach((e=>{var t;t=e,s.some((e=>t.name.indexOf(e)>=0))?i(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/Internal"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/Internal"):i(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/External"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/External")})),e.ptid&&this.storeSupportabilityMetrics("PageSession/Feature/SessionTrace/DurationMs",Math.round(performance.now())),"undefined"!=typeof performance){const n=performance.getEntriesByType("mark"),a=performance.getEntriesByType("measure");this.storeSupportabilityMetrics("Generic/Performance/Mark/Seen",n.length),this.storeSupportabilityMetrics("Generic/Performance/Measure/Seen",a.length)}}catch(o){}}}},1832:(e,t,s)=>{s.r(t),s.d(t,{Aggregate:()=>l});var r=s(1284),i=s(4351),n=s(4322),a=s(2573),o=s(4222),c=s(234),h=s(4649),u=s(385),d=s(2222);class l extends d.m{static featureName=h.t;constructor(e,t){var s;super(e,t,h.t),s=this,this.eventsPerMinute=240,this.harvestTimeSeconds=(0,c.Mt)(this.agentIdentifier,"page_action.harvestTimeSeconds")||(0,c.Mt)(this.agentIdentifier,"ins.harvestTimeSeconds")||30,this.eventsPerHarvest=this.eventsPerMinute*this.harvestTimeSeconds/60,this.referrerUrl=void 0,this.currentEvents=void 0,this.events=[],this.att=(0,c.C5)(this.agentIdentifier).jsAttributes,u.il&&document.referrer&&(this.referrerUrl=(0,o.f)(document.referrer)),(0,n.X)("api-addPageAction",(function(){return s.addPageAction(...arguments)}),this.featureName,this.ee),this.waitForFlags(["ins"]).then((e=>{let[t]=e;if(t){const e=new a.o("ins",{onFinished:function(){return s.onHarvestFinished(...arguments)}},this);e.harvest.on("ins",(function(){return s.onHarvestStarted(...arguments)})),e.startTimer(this.harvestTimeSeconds,0)}else this.blocked=!0})),this.drain()}onHarvestStarted(e){const{userAttributes:t,atts:s}=(0,c.C5)(this.agentIdentifier);var r={qs:{ua:t,at:s},body:{ins:this.events}};return e.retry&&(this.currentEvents=this.events),this.events=[],r}onHarvestFinished(e){e&&e.sent&&e.retry&&this.currentEvents&&(this.events=this.events.concat(this.currentEvents),this.currentEvents=null)}addPageAction(e,t,s){if(!(this.events.length>=this.eventsPerHarvest||this.blocked)){var n,a,h={};u.il&&window.document.documentElement&&(n=window.document.documentElement.clientWidth,a=window.document.documentElement.clientHeight);var d={timestamp:e+(0,c.OP)(this.agentIdentifier).offset,timeSinceLoad:e/1e3,browserWidth:n,browserHeight:a,referrerUrl:this.referrerUrl,currentUrl:(0,o.f)(""+location),pageUrl:(0,o.f)((0,c.OP)(this.agentIdentifier).origin),eventType:"PageAction"};(0,r.D)(d,l),(0,r.D)((0,c.C5)(this.agentIdentifier).jsAttributes,l),s&&"object"==typeof s&&(0,r.D)(s,l),h.actionName=t||"",this.events.push(h)}function l(e,t){h[e]=t&&"object"==typeof t?(0,i.P)(t):t}}}},713:(e,t,s)=>{s.r(t),s.d(t,{Aggregate:()=>x});var r=s(385),i="Start",n="End",a="unloadEvent",o="redirect",c="domainLookup",h="onnect",u="response",d="loadEvent",l="domContentLoadedEvent",p=[];function f(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t)return s.of=e,m(s.of,s,"n",!0),m(t[a+i],s,"u",r),m(t[o+i],s,"r",r),m(t[a+n],s,"ue",r),m(t[o+n],s,"re",r),m(t["fetch"+i],s,"f",r),m(t[c+i],s,"dn",r),m(t[c+n],s,"dne",r),m(t["c"+h+i],s,"c",r),m(t["secureC"+h+"ion"+i],s,"s",r),m(t["c"+h+n],s,"ce",r),m(t["request"+i],s,"rq",r),m(t[u+i],s,"rp",r),m(t[u+n],s,"rpe",r),m(t.domLoading,s,"dl",r),m(t.domInteractive,s,"di",r),m(t[l+i],s,"ds",r),m(t[l+n],s,"de",r),m(t.domComplete,s,"dc",r),m(t[d+i],s,"l",r),m(t[d+n],s,"le",r),s}function g(e,t){var s;return m("number"==typeof(s=e.type)?s:{navigate:void 0,reload:1,back_forward:2,prerender:3}[s],t,"ty"),m(e.redirectCount,t,"rc"),t}function m(e,t,s,r){if("number"==typeof e&&e>0){if(r){const s=t?.of>0?t.of:0;e=Math.max(e-s,0)}e=Math.round(e),t[s]=e}p.push(e)}var v=s(4351),y=s(234),b=s(6291),S=s(7633),T=s(3325),w=s(8632);function A(e){const t=[],s=(0,w.fP)();try{Object.keys(s.initializedAgents[e].features).forEach((e=>{switch(e){case T.D.ajax:t.push("xhr");break;case T.D.jserrors:t.push("err");break;case T.D.pageAction:t.push("ins");break;case T.D.sessionTrace:t.push("stn");break;case T.D.spa:t.push("spa")}}))}catch(e){}return t}var R=s(2825),E=s(50),O=s(2222),M=s(6069),I=s(8373),P=s(4806);class x extends O.m{static featureName=S.t;constructor(e,t){super(e,t,S.t),this.timeToFirstByte=0,this.firstByteToWindowLoad=0,this.firstByteToDomContent=0,r.il?P.P.subscribe((e=>{let{value:t,entries:s}=e;const r=s[0];this.timeToFirstByte=Math.max(t,this.timeToFirstByte),this.firstByteToWindowLoad=Math.max(Math.round(r.loadEventEnd-this.timeToFirstByte),this.firstByteToWindowLoad),this.firstByteToDomContent=Math.max(Math.round(r.domContentLoadedEventEnd-this.timeToFirstByte),this.firstByteToDomContent),this.sendRum()})):this.sendRum()}sendRum(){const e=(0,y.C5)(this.agentIdentifier),t=(0,y.OP)(this.agentIdentifier),s=new b.M(this);if(!e.beacon)return;e.queueTime&&this.aggregator.store("measures","qt",{value:e.queueTime}),e.applicationTime&&this.aggregator.store("measures","ap",{value:e.applicationTime}),this.aggregator.store("measures","be",{value:this.timeToFirstByte}),this.aggregator.store("measures","fe",{value:this.firstByteToWindowLoad}),this.aggregator.store("measures","dc",{value:this.firstByteToDomContent});const i={tt:e.ttGuid,us:e.user,ac:e.account,pr:e.product,af:A(this.agentIdentifier).join(","),...Object.entries(this.aggregator.get("measures")||{}).reduce(((e,t)=>{let[s,r]=t;return e[s]=r.params?.value,e}),{}),xx:e.extra,ua:e.userAttributes,at:e.atts};let n;if(t.session&&(i.fsh=Number(t.session.isNew)),"object"==typeof e.jsAttributes&&Object.keys(e.jsAttributes).length>0&&(n={ja:e.jsAttributes}),r._A.performance)if("undefined"!=typeof PerformanceNavigationTiming){const e=r._A?.performance?.getEntriesByType("navigation")?.[0],s={timing:f(t.offset,e,{}),navigation:g(e,{})};i.perf=(0,v.P)(s)}else if("undefined"!=typeof PerformanceTiming){const e={timing:f(t.offset,r._A.performance.timing,{},!0),navigation:g(r._A.performance.navigation,{})};i.perf=(0,v.P)(e)}i.fp=I.U.current.value,i.fcp=M.y.current.value,s.send({endpoint:"rum",payload:{qs:i,body:n},opts:{needResponse:!0,sendEmptyBody:!0},cbFinished:e=>{let{status:t,responseText:s}=e;if(t>=400||0===t)this.ee.abort();else try{(0,R.N)(JSON.parse(s),this.agentIdentifier),this.drain()}catch(e){this.ee.abort(),(0,E.Z)("RUM call failed. Agent shutting down.")}}})}}},9766:(e,t,s)=>{s.r(t),s.d(t,{Aggregate:()=>O});var r=s(214),i=s(1284),n=s(2573),a=s(4322),o=s(5546),c=s(234),h=s(9251),u=s(3325),d=s(2222),l=s(8085),p=s(8158),f=s(2094),g=s(385);const m=new f.U(p.S.CUMULATIVE_LAYOUT_SHIFT,(e=>e));g.il&&(0,l.mw)((e=>{let{value:t,entries:s}=e;m.roundingMethod(t)!==m.current.value&&m.update({value:t,entries:s})}),{reportAllChanges:!0});var v=s(6069);const y=new f.U(p.S.FIRST_INPUT_DELAY);g.il&&(0,l.Fu)((e=>{let{value:t,entries:s}=e;g.iS||y.isValid||0===s.length||y.update({value:s[0].startTime,entries:s,attrs:{type:s[0].name,fid:Math.round(t)}})}));var b=s(8373);const S=new f.U(p.S.INTERACTION_TO_NEXT_PAINT);g.il&&(0,l.Yn)((e=>{let{value:t,entries:s,id:r}=e;S.update({value:t,entries:s,attrs:{metricId:r}})}));var T=s(4222);const w=new f.U(p.S.LARGEST_CONTENTFUL_PAINT);g.il&&(0,l.NO)((e=>{let{value:t,entries:s}=e;if(g.iS||w.isValid)return;const r=s[s.length-1];w.update({value:t,entries:s,...s.length>0&&{attrs:{size:r.size,eid:r.id,...!!r.url&&{elUrl:(0,T.f)(r.url)},...!!r.element?.tagName&&{elTag:r.element.tagName}}}})}));var A=s(4806),R=s(8310);const E=new f.U(p.S.LONG_TASK);if(g.il){const e=e=>{e.forEach((e=>{E.update({value:e.duration,entries:[e],attrs:{ltFrame:e.name,ltStart:e.startTime,ltCtr:e.attribution[0].containerType,..."window"!==e.attribution[0].containerType&&{ltCtrSrc:e.attribution[0].containerSrc,ltCtrId:e.attribution[0].containerId,ltCtrName:e.attribution[0].containerName}}})}))};let t;try{PerformanceObserver.supportedEntryTypes.includes("longtask")&&(t=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))})),t.observe({type:"longtask",buffered:!0}))}catch(e){}t&&(0,R.L)((()=>{e(t.takeRecords())}),!0)}class O extends d.m{static featureName=h.t;#t=e=>{let{name:t,value:s,attrs:r}=e;this.addTiming(t,s,r)};constructor(e,t){var s;super(e,t,h.t),s=this,this.timings=[],this.timingsSent=[],this.curSessEndRecorded=!1,b.U.subscribe(this.#t),v.y.subscribe(this.#t),y.subscribe(this.#t),w.subscribe(this.#t),S.subscribe(this.#t),A.P.subscribe((e=>{let{entries:t}=e;this.addTiming("load",Math.round(t[0].loadEventEnd))})),!0===(0,c.Mt)(this.agentIdentifier,"page_view_timing.long_task")&&E.subscribe(this.#t),(0,a.X)("docHidden",(e=>this.endCurrentSession(e)),this.featureName,this.ee),(0,a.X)("winPagehide",(e=>this.recordPageUnload(e)),this.featureName,this.ee);const r=(0,c.Mt)(this.agentIdentifier,"page_view_timing.initialHarvestSeconds")||10,i=(0,c.Mt)(this.agentIdentifier,"page_view_timing.harvestTimeSeconds")||30;this.ee.on("drain-".concat(this.featureName),(()=>{this.scheduler=new n.o("events",{onFinished:function(){return s.onHarvestFinished(...arguments)},getPayload:function(){return s.prepareHarvest(...arguments)}},this),this.scheduler.startTimer(i,r)})),this.drain()}endCurrentSession(e){this.curSessEndRecorded||(this.addTiming("pageHide",e,null),this.curSessEndRecorded=!0)}recordPageUnload(e){this.addTiming("unload",e,null),this.endCurrentSession(e)}addTiming(e,t,s){(function(e){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!t)return;t.type&&(e["net-type"]=t.type);t.effectiveType&&(e["net-etype"]=t.effectiveType);t.rtt&&(e["net-rtt"]=t.rtt);t.downlink&&(e["net-dlink"]=t.downlink)})(s=s||{}),m.current.value>=0&&(s.cls=m.current.value),this.timings.push({name:e,value:t,attrs:s}),(0,o.p)("pvtAdded",[e,t,s],void 0,u.D.sessionTrace,this.ee)}onHarvestFinished(e){e.retry&&this.timingsSent.length>0&&(this.timings.unshift(...this.timingsSent),this.timingsSent=[])}appendGlobalCustomAttributes(e){var t=e.attrs||{},s=(0,c.C5)(this.agentIdentifier).jsAttributes||{},r=["size","eid","cls","type","fid","elTag","elUrl","net-type","net-etype","net-rtt","net-dlink"];(0,i.D)(s,(function(e,s){r.indexOf(e)<0&&(t[e]=s)}))}prepareHarvest(e){if(0!==this.timings.length){var t=this.getPayload(this.timings);if(e.retry)for(var s=0;s<this.timings.length;s++)this.timingsSent.push(this.timings[s]);return this.timings=[],{body:{e:t}}}}getPayload(e){for(var t=(0,r.FX)(this.agentIdentifier),s="bel.6;",i=0;i<e.length;i++){var n=e[i];s+="e,",s+=t(n.name)+",",s+=(0,r.AG)(n.value,r.uR,!1)+",",this.appendGlobalCustomAttributes(n);var a=(0,r.n1)(n.attrs,t);a&&a.length>0&&(s+=(0,r.uR)(a.length)+";"+a.join(";")),i+1<e.length&&(s+=";")}return s}}},9990:(e,t,s)=>{s.r(t),s.d(t,{Aggregate:()=>S});var r=s(4322),i=s(2573),n=s(7144),a=s(234),o=s(2222),c=s(9139),h=s(4420),u=s(50),d=s(385),l=s(3081),p=s(5546),f=s(3325),g=s(6818),m=s(7894),v=s(7056),y=s(4351),b=s(9655);class S extends o.m{static featureName=n.t9;constructor(e,t,s){super(e,t,n.t9),this.harvestTimeSeconds=(0,a.Mt)(this.agentIdentifier,"session_replay.harvestTimeSeconds")||60,this.initialized=!1,this.blocked=!1,this.gzipper=void 0,this.u8=void 0;const{session:o}=(0,a.OP)(this.agentIdentifier);this.mode=o.state.sessionReplayMode||v.IK.OFF,this.entitled=!1,this.recorder=s?.recorder,this.recorder&&(this.recorder.parent=this),(0,p.p)(l.xS,["Config/SessionReplay/Enabled"],void 0,f.D.metrics,this.ee);if(!0===(0,a.Mt)(e,"privacy.cookies_enabled")&&!0===(0,a.Mt)(e,"session_trace.enabled")){this.ee.on(v.wO.RESET,(()=>{this.scheduler.runHarvest(),this.abort(n.Mi.RESET)})),this.ee.on(v.wO.PAUSE,(()=>{this.recorder?.stopRecording()})),this.ee.on(v.wO.RESUME,(()=>{if(!this.recorder)return;const{session:e}=(0,a.OP)(this.agentIdentifier);this.mode=e.state.sessionReplayMode,this.initialized&&this.mode!==v.IK.OFF&&this.recorder?.startRecording()})),this.ee.on(v.wO.UPDATE,((e,t)=>{this.recorder&&this.initialized&&!this.blocked&&e===v.uT.CROSS_TAB&&(this.mode!==v.IK.OFF&&t.sessionReplayMode===v.IK.OFF&&this.abort(n.Mi.CROSS_TAB),this.mode=t.sessionReplay)})),this.scheduler=new i.o("browser/blobs",{onFinished:this.onHarvestFinished.bind(this),retryDelay:this.harvestTimeSeconds,getPayload:this.prepareHarvest.bind(this),raw:!0},this),"preloaded"===this.recorder?.getEvents().type&&this.prepUtils().then((()=>{this.scheduler.runHarvest()})),(0,r.X)("recordReplay",(()=>{!this.blocked&&this.entitled&&(this.recorder?this.mode!==v.IK.FULL&&this.switchToFull():this.initializeRecording(!1,!0,!0))}),this.featureName,this.ee),(0,r.X)("pauseReplay",(()=>{this.forceStop(this.mode!==v.IK.ERROR)}),this.featureName,this.ee),(0,r.X)("errorAgg",(e=>{this.errorNoticed=!0,this.recorder&&(this.recorder.currentBufferTarget.hasError=!0),this.mode===v.IK.ERROR&&"visible"===d._A?.document.visibilityState&&this.switchToFull()}),this.featureName,this.ee);const{error_sampling_rate:e,sampling_rate:t,autoStart:s,block_selector:o,mask_text_selector:h,mask_all_inputs:u,inline_stylesheet:g,inline_images:m,collect_fonts:y}=(0,a.Mt)(this.agentIdentifier,"session_replay");this.waitForFlags(["sr"]).then((s=>{let[r]=s;this.entitled=r,!this.entitled&&this.recorder?.recording&&(this.recorder.abort(n.Mi.ENTITLEMENTS),(0,p.p)(l.xS,["SessionReplay/EnabledNotEntitled/Detected"],void 0,f.D.metrics,this.ee)),this.initializeRecording(100*Math.random()<e,100*Math.random()<t)})).then((()=>c.m.onReplayReady(this.mode))),s||(0,p.p)(l.xS,["Config/SessionReplay/AutoStart/Modified"],void 0,f.D.metrics,this.ee),!0===y&&(0,p.p)(l.xS,["Config/SessionReplay/CollectFonts/Modified"],void 0,f.D.metrics,this.ee),!0!==g&&(0,p.p)(l.xS,["Config/SessionReplay/InlineStylesheet/Modified"],void 0,f.D.metrics,this.ee),!0===m&&(0,p.p)(l.xS,["Config/SessionReplay/InlineImages/Modifed"],void 0,f.D.metrics,this.ee),!0!==u&&(0,p.p)(l.xS,["Config/SessionReplay/MaskAllInputs/Modified"],void 0,f.D.metrics,this.ee),"[data-nr-block]"!==o&&(0,p.p)(l.xS,["Config/SessionReplay/BlockSelector/Modified"],void 0,f.D.metrics,this.ee),"*"!==h&&(0,p.p)(l.xS,["Config/SessionReplay/MaskTextSelector/Modified"],void 0,f.D.metrics,this.ee),(0,p.p)(l.xS,["Config/SessionReplay/SamplingRate/Value",t],void 0,f.D.metrics,this.ee),(0,p.p)(l.xS,["Config/SessionReplay/ErrorSamplingRate/Value",e],void 0,f.D.metrics,this.ee),this.drain()}}switchToFull(){this.mode=v.IK.FULL,this.recorder&&this.initialized&&(this.recorder.stopRecording(),this.recorder.startRecording(),this.scheduler.startTimer(this.harvestTimeSeconds),this.syncWithSessionManager({sessionReplayMode:this.mode}))}async initializeRecording(e,t,r){if(this.initialized=!0,!this.entitled)return;const{session:i}=(0,a.OP)(this.agentIdentifier);if(i.isNew||r)if(t)this.mode=v.IK.FULL;else{if(!e)return;this.mode=v.IK.ERROR}else this.mode=i.state.sessionReplayMode;if(!this.recorder)try{const{Recorder:e}=await Promise.all([s.e(63),s.e(379)]).then(s.bind(s,4136));this.recorder=new e(this),this.recorder.currentBufferTarget.hasError=this.errorNoticed}catch(e){return this.abort(n.Mi.IMPORT)}this.mode===v.IK.ERROR&&this.errorNoticed&&(this.mode=v.IK.FULL),this.mode!==v.IK.FULL||this.scheduler.started||this.scheduler.startTimer(this.harvestTimeSeconds),await this.prepUtils(),this.recorder.recording||this.recorder.startRecording(),this.syncWithSessionManager({sessionReplayMode:this.mode})}async prepUtils(){try{const{gzipSync:e,strToU8:t}=await s.e(110).then(s.bind(s,3778));this.gzipper=e,this.u8=t}catch(e){}}prepareHarvest(){let{opts:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.recorder)return;const t=this.recorder.getEvents();if(!t.events.length||this.mode!==v.IK.FULL||this.blocked)return;const s=this.getHarvestContents(t);if(!s.body.length)return void this.recorder.clearBuffer();let r=0;if(this.gzipper&&this.u8?(s.body=this.gzipper(this.u8("[".concat(s.body.map((e=>e.__serialized)).join(","),"]"))),r=s.body.length,this.scheduler.opts.gzip=!0):(s.body=s.body.map((e=>{let{__serialized:t,...s}=e;return s})),r=(0,y.P)(s.body).length,this.scheduler.opts.gzip=!1),r>n.Ye)return void this.abort(n.Mi.TOO_BIG);const{session:i}=(0,a.OP)(this.agentIdentifier);return i.state.sessionReplaySentFirstChunk||this.syncWithSessionManager({sessionReplaySentFirstChunk:!0}),this.recorder.clearBuffer(),"preloaded"===t.type&&this.scheduler.runHarvest(e),[s]}getHarvestContents(e){e??=this.recorder.getEvents();let t=e.events;const s=(0,a.OP)(this.agentIdentifier),r=(0,a.C5)(this.agentIdentifier),i=r.jsAttributes?.["enduser.id"];t?.[0]?.type===n.i9.FullSnapshot&&this.recorder.lastMeta&&(e.hasMeta=!0,t.unshift(this.recorder.lastMeta),this.recorder.lastMeta=void 0);t[t.length-1]?.type===n.i9.Meta&&(this.recorder.lastMeta=t[t.length-1],t=t.slice(0,t.length-1),e.hasMeta=!!t.find((e=>e.type===n.i9.Meta)));const o=(0,a.OP)(this.agentIdentifier).offset,c=(0,m.z)(),u=t[0]?.timestamp,d=t[t.length-1]?.timestamp,l=u||e.cycleTimestamp,p=d||o+c;return{qs:{browser_monitoring_key:r.licenseKey,type:"SessionReplay",app_id:r.applicationID,protocol_version:"0",attributes:(0,h.j6)({...!!this.gzipper&&!!this.u8&&{content_encoding:"gzip"},"replay.firstTimestamp":l,"replay.firstTimestampOffset":l-o,"replay.lastTimestamp":p,"replay.durationMs":p-l,"replay.nodes":t.length,"session.durationMs":s.session.getDuration(),agentVersion:s.version,session:s.session.state.value,rst:c,hasMeta:e.hasMeta||!1,hasSnapshot:e.hasSnapshot||!1,hasError:e.hasError||!1,isFirstChunk:!1===s.session.state.sessionReplaySentFirstChunk,decompressedBytes:e.payloadBytesEstimation,invalidStylesheetsDetected:b.j.invalidStylesheetsDetected,inlinedAllStylesheets:e.inlinedAllStylesheets,"rrweb.version":g.lF,...i&&{"enduser.id":i}},n.J0).substring(1)},body:t}}onHarvestFinished(e){429===e.status&&this.abort(n.Mi.TOO_MANY),this.blocked&&this.scheduler.stopTimer(!0)}forceStop(e){e&&this.scheduler.runHarvest(),this.mode=v.IK.OFF,this.recorder?.stopRecording?.(),this.syncWithSessionManager({sessionReplayMode:this.mode})}abort(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.Z)("SR aborted -- ".concat(e.message)),(0,p.p)(l.xS,["SessionReplay/Abort/".concat(e.sm)],void 0,f.D.metrics,this.ee),this.blocked=!0,this.mode=v.IK.OFF,this.recorder?.stopRecording?.(),this.syncWithSessionManager({sessionReplayMode:this.mode}),this.recorder?.clearTimestamps?.(),this.ee.emit("REPLAY_ABORTED"),this.recorder?.clearBuffer?.()}syncWithSessionManager(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{session:t}=(0,a.OP)(this.agentIdentifier);t.write(e)}}},9655:(e,t,s)=>{s.d(t,{j:()=>n});var r=s(234),i=s(385);const n=new class{#s=new WeakSet;#r=[];invalidStylesheetsDetected=!1;failedToFix=0;evaluate(){let e=0;if(i.il)for(let t=0;t<Object.keys(document.styleSheets).length;t++){const s=document.styleSheets[t];if(!this.#s.has(s)){this.#s.add(s);try{s.cssRules}catch(r){e++,this.#r.push(this.#i(document.styleSheets[t],s.href))}}}return e&&(this.invalidStylesheetsDetected=!0),e}async fix(){await Promise.all(this.#r),this.#r=[];const e=this.failedToFix;return this.failedToFix=0,e}async#i(e,t){try{const s=await r.Yu.FETCH.bind(window)(t);if(!s.ok)return void this.failedToFix++;const i=await s.text();try{const t=new CSSStyleSheet;await t.replace(i),Object.defineProperty(e,"cssRules",{get:()=>t.cssRules}),Object.defineProperty(e,"rules",{get:()=>t.rules})}catch(t){Object.defineProperty(e,"cssText",{get:()=>i}),this.failedToFix++}}catch(e){this.failedToFix++}}}},6082:(e,t,s)=>{s.r(t),s.d(t,{Aggregate:()=>v});var r=s(4322),i=s(2573),n=s(7243),a=s(234),o=s(7894),c=s(3614);class h{#n=void 0;#a=[];#o=setTimeout((()=>this.#c()),5e3);#h=!1;#u(){this.#a.forEach((e=>e())),this.#c()}#c(){this.#a=[],clearTimeout(this.#o)}settle(e){!1===this.#n||(void 0===this.#n?this.#a.push(e):e())}decide(e){this.#h||(this.#n=e,!1===e&&this.#c(),!0===e&&this.#u())}permanentlyDecide(e){this.#h||(this.decide(e),this.#h=!0)}}var u=s(8632),d=s(9139),l=s(7056);var p=s(2222);const f={global:{mouseup:!0,mousedown:!0},window:{load:!0,pagehide:!0},xhrOriginMissing:{ignoreAll:!0}},g={typing:[1e3,2e3],scrolling:[100,1e3],mousing:[1e3,2e3],touching:[1e3,2e3]},m=6e5;class v extends p.m{static featureName=c.FEATURE_NAME;#d;constructor(e,t,s){var i;if(super(e,t,c.FEATURE_NAME),i=this,this.agentRuntime=(0,a.OP)(e),!this.agentRuntime.xhrWrappable)return;this.resourceObserver=s?.resourceObserver,this.ptid="",this.trace={},this.nodeCount=0,this.sentTrace=null,this.harvestTimeSeconds=(0,a.Mt)(e,"session_trace.harvestTimeSeconds")||10,this.maxNodesPerHarvest=(0,a.Mt)(e,"session_trace.maxNodesPerHarvest")||1e3,this.isStandalone=!1;const n=new h,o=this.agentRuntime.session;this.operationalGate=n;const p=e=>{switch(e){case l.IK.ERROR:this.startTracing(n,!0);break;case l.IK.FULL:case!0:this.startTracing(n);break;case l.IK.OFF:default:n.decide(!1)}};let f,g=!1;this.ee.on(l.wO.UPDATE,((e,t)=>{t.sessionReplayMode===l.IK.FULL&&m()}));const m=()=>{if(this.agentRuntime?.session?.state?.sessionReplayMode===l.IK.FULL&&f!==l.IK.FULL){const e=f;f=l.IK.FULL,o.write({sessionTraceMode:f}),this.isStandalone=!1,e===l.IK.ERROR&&this.#d?(this.trimSTNs(3e4),this.#d.runHarvest({needResponse:!0})):p(l.IK.FULL)}};if(o){(0,r.X)("errorAgg",(()=>{g=!0,m()}),this.featureName,this.ee);const t=()=>{o.state.sessionTraceMode!==l.IK.OFF&&o.write({sessionTraceMode:l.IK.OFF}),n.permanentlyDecide(!1),f===l.IK.FULL&&this.#d?.runHarvest(),this.#d?.stopTimer(!0),this.#d=null};this.waitForFlags(["stn","sr"]).then((async s=>{let[r,i]=s;if(i)if(this.ee.on("REPLAY_ABORTED",(()=>t())),this.ee.on(l.wO.RESUME,(()=>{const e=o.state.sessionTraceMode;e===l.IK.OFF?t():e===l.IK.FULL&&this.#d&&!this.#d.started&&this.#d.runHarvest({needResponse:!0}),f=e})),this.ee.on(l.wO.PAUSE,(()=>{f=o.state.sessionTraceMode})),o.isNew){const t=await async function(e){try{const t=(0,u.fP)();if((0,a.Mt)(e,"session_replay.enabled")&&"object"==typeof t.initializedAgents[e].features.session_replay&&await t.initializedAgents[e].features.session_replay.onAggregateImported)return await d.m.sessionReplayInitialized}catch(e){}return l.IK.OFF}(e);let s;t===l.IK.OFF&&(this.isStandalone=!0),s=!0===r||t===l.IK.ERROR&&g?l.IK.FULL:t,o.write({sessionTraceMode:f=s}),p(s)}else o.state.sessionReplayMode===l.IK.OFF&&(this.isStandalone=!0),p(f=o.state.sessionTraceMode);else this.isStandalone=!0,p(r)}))}else this.isStandalone=!0,(0,r.X)("rumresp-stn",(e=>p(e)),this.featureName,this.ee);(0,r.X)("bst",(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n.settle((()=>i.storeEvent(...t)))}),this.featureName,this.ee),(0,r.X)("bstResource",(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n.settle((()=>i.storeResources(...t)))}),this.featureName,this.ee),(0,r.X)("bstHist",(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n.settle((()=>i.storeHist(...t)))}),this.featureName,this.ee),(0,r.X)("bstXhrAgg",(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n.settle((()=>i.storeXhrAgg(...t)))}),this.featureName,this.ee),(0,r.X)("bstApi",(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n.settle((()=>i.storeSTN(...t)))}),this.featureName,this.ee),(0,r.X)("errorAgg",(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n.settle((()=>i.storeErrorAgg(...t)))}),this.featureName,this.ee),(0,r.X)("pvtAdded",(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n.settle((()=>i.processPVT(...t)))}),this.featureName,this.ee),this.drain()}startTracing(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"undefined"!=typeof PerformanceNavigationTiming?this.storeTiming(window.performance.getEntriesByType("navigation")[0]):this.storeTiming(window.performance.timing),this.#d=new i.o("resources",{onFinished:this.#l.bind(this),retryDelay:this.harvestTimeSeconds},this),this.#d.harvest.on("resources",this.#p.bind(this)),!1===t&&this.#d.runHarvest({needResponse:!0}),e.decide(!0)}#l(e){e.sent&&e.responseText&&!this.ptid&&(this.agentRuntime.ptid=this.ptid=e.responseText,this.#d.startTimer(this.harvestTimeSeconds)),e.sent&&e.retry&&this.sentTrace&&(Object.entries(this.sentTrace).forEach((e=>{let[t,s]=e;this.nodeCount>=this.maxNodesPerHarvest||(this.nodeCount+=s.length,this.trace[t]=this.trace[t]?s.concat(this.trace[t]):s)})),this.sentTrace=null)}#p(e){if(this.isStandalone){if(this.ptid&&(0,o.z)()>=m)e.isFinalHarvest=!0,this.operationalGate.permanentlyDecide(!1),this.#d.stopTimer(!0);else if(this.ptid&&this.nodeCount<=30&&!e.isFinalHarvest)return}else{const e=this.agentRuntime.session.state.sessionTraceMode;if(e===l.IK.OFF&&0===Object.keys(this.trace).length)return;if(e===l.IK.ERROR)return}return this.takeSTNs(e.retry)}processPVT(e,t,s){this.storeTiming({[e]:t}),function(e,t){return"fi"===e&&!!t&&"number"==typeof t.fid}(e,s)&&this.storeEvent({type:"fid",target:"document"},"document",t,t+s.fid)}storeTiming(e){if(e)for(let t in e){let s=e[t];const r=t.toLowerCase();r.indexOf("size")>=0||r.indexOf("status")>=0||"number"==typeof s&&s>=0&&(s=Math.round(s),this.storeSTN({n:t,s,e:s,o:"document",t:"timing"}))}}storeEvent(e,t,s,r){if(this.shouldIgnoreEvent(e,t))return;const i={n:this.evtName(e.type),s,e:r,t:"event"};try{i.o=this.evtOrigin(e.target,t)}catch(e){i.o=this.evtOrigin(null,t)}this.storeSTN(i)}shouldIgnoreEvent(e,t){const s=this.evtOrigin(e.target,t);return e.type in f.global||(!(!f[s]||!f[s].ignoreAll)||!(!f[s]||!(e.type in f[s])))}evtName(e){switch(e){case"keydown":case"keyup":case"keypress":return"typing";case"mousemove":case"mouseenter":case"mouseleave":case"mouseover":case"mouseout":return"mousing";case"scroll":return"scrolling";case"touchstart":case"touchmove":case"touchend":case"touchcancel":case"touchenter":case"touchleave":return"touching";default:return e}}evtOrigin(e,t){let s="unknown";if(e&&e instanceof XMLHttpRequest){const t=this.ee.context(e).params;if(!(t&&t.status&&t.method&&t.host&&t.pathname))return"xhrOriginMissing";s=t.status+" "+t.method+": "+t.host+t.pathname}else if(e&&"string"==typeof e.tagName&&(s=e.tagName.toLowerCase(),e.id&&(s+="#"+e.id),e.className))for(let t=0;t<e.classList.length;t++)s+="."+e.classList[t];return"unknown"===s&&("string"==typeof t?s=t:t===document?s="document":t===window?s="window":t instanceof FileReader&&(s="FileReader")),s}storeHist(e,t,s){const r={n:"history.pushState",s,e:s,o:e,t};this.storeSTN(r)}#f=0;storeResources(e){e&&0!==e.length&&(e.forEach((e=>{if((0|e.fetchStart)<=this.#f)return;const t=(0,n.e)(e.name),s={n:e.initiatorType,s:0|e.fetchStart,e:0|e.responseEnd,o:t.protocol+"://"+t.hostname+":"+t.port+t.pathname,t:e.entryType};this.storeSTN(s)})),this.#f=0|e[e.length-1].fetchStart)}storeErrorAgg(e,t,s,r){if("err"!==e)return;const i={n:"error",s:r.time,e:r.time,o:s.message,t:s.stackHash};this.storeSTN(i)}storeXhrAgg(e,t,s,r){if("xhr"!==e)return;const i={n:"Ajax",s:r.time,e:r.time+r.duration,o:s.status+" "+s.method+": "+s.host+s.pathname,t:"ajax"};this.storeSTN(i)}storeSTN(e){if(this.nodeCount>=this.maxNodesPerHarvest){if(this.isStandalone||this.agentRuntime.session.state.sessionTraceMode!==l.IK.ERROR)return;if(0===this.trimSTNs(3e4))return}this.isStandalone&&(0,o.z)()>=m||(this.trace[e.n]?this.trace[e.n].push(e):this.trace[e.n]=[e],this.nodeCount++)}trimSTNs(e){let t=0;const s=Math.max((0,o.z)()-e,0);return Object.keys(this.trace).forEach((e=>{const r=this.trace[e];let i=r.findIndex((e=>s<=e.e));0!==i&&(i<0?(i=r.length,delete this.trace[e]):r.splice(0,i),this.nodeCount-=i,t+=i)})),t}takeSTNs(e){this.resourceObserver||this.storeResources(window.performance.getEntriesByType("resource"));let t=1/0;const s=Object.entries(this.trace).flatMap((e=>{let[s,r]=e;const i=r.reduce(((e,t)=>!e||t.s<e?t.s:e),void 0);if(i<t&&(t=i),!(s in g))return r;const n=this.smearEvtsByOrigin(s),a=r.sort(((e,t)=>e.s-t.s)).reduce(n,{});return Object.values(a).flat()}),this);if(0===s.length)return{};let r;if(e&&(this.sentTrace=this.trace),this.trace={},this.nodeCount=0,this.agentRuntime.session){const e=!this.agentRuntime.session.state.traceHarvestStarted;r={fsh:Number(e)},e&&this.agentRuntime.session.write({traceHarvestStarted:!0})}return{qs:{st:this.agentRuntime.offset,hr:Number(!this.isStandalone),fts:this.agentRuntime.offset+t,n:s.length,...r},body:{res:s}}}smearEvtsByOrigin(e){const t=g[e][0],s=g[e][1],r={};return(i,n)=>{let a=i[n.o];a||(a=i[n.o]=[]);const o=r[n.o];return"scrolling"!==e||function(e){const t=4;return!!(e&&"number"==typeof e.e&&"number"==typeof e.s&&e.e-e.s<t)}(n)?o&&n.s-o.s<s&&o.e>n.s-t?o.e=n.e:(r[n.o]=n,a.push(n)):(r[n.o]=null,n.n="scroll",a.push(n)),i}}}},1656:(e,t,s)=>{s.d(t,{setupAgentSession:()=>M});var r=s(234),i=s(8e3),n=s(8325),a=s(4322),o=s(4402),c=s(50),h=s(4351);class u{constructor(e,t){if(!e.onEnd)throw new Error("onEnd handler is required");if(!t)throw new Error("ms duration is required");this.onEnd=e.onEnd,this.initialMs=t,this.startTimestamp=Date.now(),this.timer=this.create(this.onEnd,t)}create(e,t){return this.timer&&this.clear(),setTimeout((()=>e?e():this.onEnd()),t||this.initialMs)}clear(){clearTimeout(this.timer),this.timer=null}end(){this.clear(),this.onEnd()}isValid(){return this.initialMs-(Date.now()-this.startTimestamp)>0}}var d=s(385),l=s(7056),p=s(7956),f=s(7872);class g extends u{constructor(e,t){super(e,t),this.onPause="function"==typeof e.onPause?e.onPause:()=>{},this.onRefresh="function"==typeof e.onRefresh?e.onRefresh:()=>{},this.onResume="function"==typeof e.onResume?e.onResume:()=>{},this.remainingMs=void 0,e.refreshEvents||(e.refreshEvents=["click","keydown","scroll"]);try{this.abortController=new AbortController}catch(e){}if(d.il&&e.ee){if(e.ee){this.ee=e.ee;const t=(0,f.D)(this.refresh.bind(this),500,{leading:!0});this.refreshHandler=s=>{e.refreshEvents.includes(s?.[0]?.type)&&t()},e.ee.on("fn-end",this.refreshHandler)}(0,p.N)((e=>{"hidden"===e?this.pause():this.resume()}),!1,!1,this.abortController?.signal)}}abort(){this.clear(),this.abortController?.abort(),this.refreshHandler&&(this.ee.removeEventListener("fn-end",this.refreshHandler),this.refreshHandler=this.ee=null)}pause(){this.onPause(),clearTimeout(this.timer),this.remainingMs=this.initialMs-(Date.now()-this.startTimestamp)}resume(){this.refresh(),this.onResume()}refresh(e,t){this.clear(),this.timer=this.create(e,t),this.startTimestamp=Date.now(),this.remainingMs=void 0,this.onRefresh()}}var m=s(1214),v=s(9567),y=s(5546),b=s(3081),S=s(3325),T=s(3239);const w={value:"",inactiveAt:0,expiresAt:0,updatedAt:Date.now(),sessionReplayMode:l.IK.OFF,sessionReplaySentFirstChunk:!1,sessionTraceMode:l.IK.OFF,traceHarvestStarted:!1,custom:{}};class A{constructor(e){const{agentIdentifier:t,key:s,storage:r}=e;if(!t||!s||!r)throw new Error("Missing required field(s):".concat(t?"":" agentID").concat(s?"":" key").concat(r?"":" storage"));this.agentIdentifier=t,this.storage=r,this.state={},this.key=s,this.ee=n.ee.get(t),(0,m.em)(this.ee),this.setup(e),d.il&&(0,T.bP)("storage",(e=>{if(e.key===this.lookupKey){const t="string"==typeof e.newValue?JSON.parse(e.newValue):e.newValue;this.sync(t),this.ee.emit(l.wO.UPDATE,[l.uT.CROSS_TAB,this.state])}}))}setup(e){let{value:t=(0,o.ky)(16),expiresMs:s=l.oD,inactiveMs:r=l.Hb}=e;this.state={},this.sync(w),this.state.value=t,this.expiresMs=s,this.inactiveMs=r;const i=this.read();s?(this.state.expiresAt=i?.expiresAt||this.getFutureTimestamp(s),this.expiresTimer=new u({onEnd:()=>{this.collectSM("expired"),this.collectSM("duration"),this.reset()}},this.state.expiresAt-Date.now())):this.state.expiresAt=1/0,r?(this.state.inactiveAt=i?.inactiveAt||this.getFutureTimestamp(r),this.inactiveTimer=new g({onEnd:()=>{this.collectSM("inactive"),this.collectSM("duration"),this.reset()},onRefresh:this.refresh.bind(this),onResume:()=>{this.ee.emit(l.wO.RESUME)},onPause:()=>{this.initialized&&this.ee.emit(l.wO.PAUSE),this.write((0,v.D)(this.state,w))},ee:this.ee,refreshEvents:["click","keydown","scroll"]},this.state.inactiveAt-Date.now())):this.state.inactiveAt=1/0,this.isNew=!Object.keys(i).length,this.isNew?this.write((0,v.D)(this.state,w),!0):this.sync(i),this.initialized=!0}get lookupKey(){return"".concat(l.Bq,"_").concat(this.key)}sync(e){Object.assign(this.state,e)}read(){try{const e=this.storage.get(this.lookupKey);if(!e)return{};const t="string"==typeof e?JSON.parse(e):e;return this.isInvalid(t)?{}:this.isExpired(t.expiresAt)?(this.collectSM("expired"),this.collectSM("duration",t,!0),this.reset()):this.isExpired(t.inactiveAt)?(this.collectSM("inactive"),this.collectSM("duration",t,!0),this.reset()):t}catch(e){return(0,c.Z)("Failed to read from storage API",e),{}}}write(e){try{if(!e||"object"!=typeof e)return;return e.updatedAt=Date.now(),this.sync(e),this.storage.set(this.lookupKey,(0,h.P)(this.state)),this.ee.emit(l.wO.UPDATE,[l.uT.SAME_TAB,this.state]),e}catch(e){return(0,c.Z)("Failed to write to the storage API",e),null}}reset(){try{return this.initialized&&this.ee.emit(l.wO.RESET),this.storage.remove(this.lookupKey),this.inactiveTimer?.abort?.(),this.expiresTimer?.clear?.(),delete this.isNew,this.setup({agentIdentifier:this.agentIdentifier,key:this.key,storage:this.storage,expiresMs:this.expiresMs,inactiveMs:this.inactiveMs}),this.read()}catch(e){return{}}}refresh(){const e=this.read();this.write({...e,inactiveAt:this.getFutureTimestamp(this.inactiveMs)})}isExpired(e){return Date.now()>e}isInvalid(e){return!Object.keys(w).every((t=>Object.keys(e).includes(t)))}collectSM(e,t,s){let r,i;"duration"===e&&(r=this.getDuration(t,s),i="Session/Duration/Ms"),"expired"===e&&(i="Session/Expired/Seen"),"inactive"===e&&(i="Session/Inactive/Seen"),i&&(0,y.p)(b.xS,[i,r],void 0,S.D.metrics,this.ee)}getDuration(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,t=arguments.length>1?arguments[1]:void 0;const s=e.expiresAt-this.expiresMs;return(t?Date.now():e.updatedAt)-s}getFutureTimestamp(e){return Date.now()+e}syncCustomAttribute(e,t){if(d.il)if(null===t){const t=this.read();t.custom&&(delete t.custom[e],this.write({...t}))}else{const s=this.read();this.custom={...s?.custom||{},[e]:t},this.write({...s,custom:this.custom})}}}class R{get(e){try{return localStorage.getItem(e)||void 0}catch(e){return""}}set(e,t){try{return null==t?this.remove(e):localStorage.setItem(e,t)}catch(e){}}remove(e){try{localStorage.removeItem(e)}catch(e){}}}class E{constructor(e){this.domain=e}get(e){try{var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));if(t)return t[2]}catch(e){return""}}set(e,t){try{const s="".concat(e,"=").concat(t,"; Domain=").concat(this.domain,"; Path=/");document.cookie=s}catch(e){}}remove(e){try{document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; Domain=").concat(this.domain,"; Path=/")}catch(e){}}}let O=0;function M(e){const t=(0,r.OP)(e);if(O++)return t.session;const s=(0,r.P_)(e).session,o=s?.domain?new E(s.domain):new R;t.session=new A({agentIdentifier:e,key:"SESSION",storage:o,expiresMs:s?.expiresMs,inactiveMs:s?.inactiveMs});const c=t.session.state.custom,h=(0,r.C5)(e);c&&(h.jsAttributes={...h.jsAttributes,...c});const u=n.ee.get(e);return(0,a.X)("api-setCustomAttribute",((e,s,r)=>{t.session.syncCustomAttribute(s,r)}),"session",u),(0,a.X)("api-setUserId",((e,s,r)=>{t.session.syncCustomAttribute(s,r)}),"session",u),(0,i.L)(e,"session"),t.session}},2222:(e,t,s)=>{s.d(t,{m:()=>h});var r=s(4322),i=s(5938),n=s(234),a=s(7530),o=s(8632),c=s(8e3);class h extends i.W{constructor(){super(...arguments),this.checkConfiguration()}waitForFlags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(e.map((e=>new Promise((t=>{(0,r.X)("rumresp-".concat(e),(e=>t(e)),this.featureName,this.ee)})))))}drain(){(0,c.L)(this.agentIdentifier,this.featureName)}checkConfiguration(){if(!(0,n.lF)(this.agentIdentifier)){let e={...(0,o.gG)().info?.jsAttributes};try{e={...e,...(0,n.C5)(this.agentIdentifier)?.jsAttributes}}catch(e){}(0,a.j)({agentIdentifier:this.agentIdentifier},{...(0,o.gG)(),info:{...(0,o.gG)().info,jsAttributes:e},runtime:(0,n.OP)(this.agentIdentifier)})}}}},8582:(e,t,s)=>{s.d(t,{lazyFeatureLoader:()=>i});var r=s(3325);function i(e,t){if("aggregate"===t)switch(e){case r.D.ajax:return s.e(63).then(s.bind(s,1755));case r.D.jserrors:return s.e(63).then(s.bind(s,1028));case r.D.metrics:return s.e(63).then(s.bind(s,8939));case r.D.pageAction:return s.e(63).then(s.bind(s,1832));case r.D.pageViewEvent:return s.e(63).then(s.bind(s,713));case r.D.pageViewTiming:return s.e(63).then(s.bind(s,9766));case r.D.sessionReplay:return s.e(63).then(s.bind(s,9990));case r.D.sessionTrace:return s.e(63).then(s.bind(s,6082));case r.D.spa:return Promise.resolve().then((function(){var e=new Error("Cannot find module '../spa/aggregate'");throw e.code="MODULE_NOT_FOUND",e}));default:throw new Error("Attempted to load unsupported agent feature: ".concat(e," ").concat(t))}}},7438:(e,t,s)=>{s.r(t),s.d(t,{setAPI:()=>u});var r=s(3325),i=s(234),n=s(8325),a=s(5546),o=s(4322),c=s(7872),h=s(3081);function u(e){var t=n.ee.get(e),s={finished:(0,c.Z)((function(s,n){var o=n?n-(0,i.OP)(e).offset:s;(0,a.p)(h.vz,["finished",{time:o}],void 0,r.D.metrics,t),u(s,{name:"finished",start:o+(0,i.OP)(e).offset,origin:"nr"}),(0,a.p)("api-addPageAction",[o,"finished"],void 0,r.D.pageAction,t)})),setErrorHandler:function(t,s){(0,i.OP)(e).onerror=s},addToTrace:u,addRelease:function(t,s,r){if(++d>10)return;(0,i.OP)(e).releaseIds[s.slice(-200)]=(""+r).slice(-200)}};function u(s,n){if(n&&"object"==typeof n&&n.name&&n.start){var o={n:n.name,s:n.start-(0,i.OP)(e).offset,e:(n.end||n.start)-(0,i.OP)(e).offset,o:n.origin||"",t:"api"};(0,a.p)("bstApi",[o],void 0,r.D.sessionTrace,t)}}Object.entries(s).forEach((e=>{let[s,r]=e;return(0,o.X)("api-"+s,r,"api",t)}));var d=0}},8085:(e,t,s)=>{s.d(t,{Fu:()=>D,NO:()=>Q,Yn:()=>Y,a4:()=>O,mr:()=>se,mw:()=>I});var r,i,n,a,o,c=-1,h=function(e){addEventListener("pageshow",(function(t){t.persisted&&(c=t.timeStamp,e(t))}),!0)},u=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},d=function(){var e=u();return e&&e.activationStart||0},l=function(e,t){var s=u(),r="navigate";return c>=0?r="back-forward-cache":s&&(document.prerendering||d()>0?r="prerender":document.wasDiscarded?r="restore":s.type&&(r=s.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},p=function(e,t,s){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},s||{})),r}}catch(e){}},f=function(e,t,s,r){var i,n;return function(a){t.value>=0&&(a||r)&&((n=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=n,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,s),e(t))}},g=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},m=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},v=function(e){var t=!1;return function(s){t||(e(s),t=!0)}},y=-1,b=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},S=function(e){"hidden"===document.visibilityState&&y>-1&&(y="visibilitychange"===e.type?e.timeStamp:0,w())},T=function(){addEventListener("visibilitychange",S,!0),addEventListener("prerenderingchange",S,!0)},w=function(){removeEventListener("visibilitychange",S,!0),removeEventListener("prerenderingchange",S,!0)},A=function(){return y<0&&(y=b(),T(),h((function(){setTimeout((function(){y=b(),T()}),0)}))),{get firstHiddenTime(){return y}}},R=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},E=[1800,3e3],O=function(e,t){t=t||{},R((function(){var s,r=A(),i=l("FCP"),n=p("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(n.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-d(),0),i.entries.push(e),s(!0)))}))}));n&&(s=f(e,i,E,t.reportAllChanges),h((function(r){i=l("FCP"),s=f(e,i,E,t.reportAllChanges),g((function(){i.value=performance.now()-r.timeStamp,s(!0)}))})))}))},M=[.1,.25],I=function(e,t){t=t||{},O(v((function(){var s,r=l("CLS",0),i=0,n=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=n[0],s=n[n.length-1];i&&e.startTime-s.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,n.push(e)):(i=e.value,n=[e])}})),i>r.value&&(r.value=i,r.entries=n,s())},o=p("layout-shift",a);o&&(s=f(e,r,M,t.reportAllChanges),m((function(){a(o.takeRecords()),s(!0)})),h((function(){i=0,r=l("CLS",0),s=f(e,r,M,t.reportAllChanges),g((function(){return s()}))})),setTimeout(s,0))})))},P={passive:!0,capture:!0},x=new Date,k=function(e,t){r||(r=t,i=e,n=new Date,N(removeEventListener),F())},F=function(){if(i>=0&&i<n-x){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+i};a.forEach((function(t){t(e)})),a=[]}},C=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var s=function(){k(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",s,P),removeEventListener("pointercancel",r,P)};addEventListener("pointerup",s,P),addEventListener("pointercancel",r,P)}(t,e):k(t,e)}},N=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,C,P)}))},_=[100,300],D=function(e,t){t=t||{},R((function(){var s,n=A(),o=l("FID"),c=function(e){e.startTime<n.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),s(!0))},u=function(e){e.forEach(c)},d=p("first-input",u);s=f(e,o,_,t.reportAllChanges),d&&m(v((function(){u(d.takeRecords()),d.disconnect()}))),d&&h((function(){var n;o=l("FID"),s=f(e,o,_,t.reportAllChanges),a=[],i=-1,r=null,N(addEventListener),n=c,a.push(n),F()}))}))},j=0,L=1/0,H=0,U=function(e){e.forEach((function(e){e.interactionId&&(L=Math.min(L,e.interactionId),H=Math.max(H,e.interactionId),j=H?(H-L)/7+1:0)}))},B=function(){return o?j:performance.interactionCount||0},q=function(){"interactionCount"in performance||o||(o=p("event",U,{type:"event",buffered:!0,durationThreshold:0}))},z=[200,500],K=0,X=function(){return B()-K},G=[],V={},W=function(e){var t=G[G.length-1],s=V[e.interactionId];if(s||G.length<10||e.duration>t.latency){if(s)s.entries.push(e),s.latency=Math.max(s.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};V[r.id]=r,G.push(r)}G.sort((function(e,t){return t.latency-e.latency})),G.splice(10).forEach((function(e){delete V[e.id]}))}},Y=function(e,t){t=t||{},R((function(){var s;q();var r,i=l("INP"),n=function(e){e.forEach((function(e){e.interactionId&&W(e),"first-input"===e.entryType&&!G.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&W(e)}));var t,s=(t=Math.min(G.length-1,Math.floor(X()/50)),G[t]);s&&s.latency!==i.value&&(i.value=s.latency,i.entries=s.entries,r())},a=p("event",n,{durationThreshold:null!==(s=t.durationThreshold)&&void 0!==s?s:40});r=f(e,i,z,t.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),m((function(){n(a.takeRecords()),i.value<0&&X()>0&&(i.value=0,i.entries=[]),r(!0)})),h((function(){G=[],K=B(),i=l("INP"),r=f(e,i,z,t.reportAllChanges)})))}))},Z=[2500,4e3],J={},Q=function(e,t){t=t||{},R((function(){var s,r=A(),i=l("LCP"),n=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-d(),0),i.entries=[t],s())},a=p("largest-contentful-paint",n);if(a){s=f(e,i,Z,t.reportAllChanges);var o=v((function(){J[i.id]||(n(a.takeRecords()),a.disconnect(),J[i.id]=!0,s(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(o,0)}),!0)})),m(o),h((function(r){i=l("LCP"),s=f(e,i,Z,t.reportAllChanges),g((function(){i.value=performance.now()-r.timeStamp,J[i.id]=!0,s(!0)}))}))}}))},ee=[800,1800],te=function e(t){document.prerendering?R((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},se=function(e,t){t=t||{};var s=l("TTFB"),r=f(e,s,ee,t.reportAllChanges);te((function(){var i=u();if(i){var n=i.responseStart;if(n<=0||n>performance.now())return;s.value=Math.max(n-d(),0),s.entries=[i],r(!0),h((function(){s=l("TTFB",0),(r=f(e,s,ee,t.reportAllChanges))(!0)}))}}))}}}]);