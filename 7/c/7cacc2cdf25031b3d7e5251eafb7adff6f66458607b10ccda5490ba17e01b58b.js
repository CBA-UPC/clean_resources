;
!function(){var n=Array.isArray;o=Object.prototype;hasOwnProperty,o.toString;var s="â€‹â€y=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*n t}}function x(n){var t=(n||self).location;rrn r}(t.originalHash||t.hash)}null},M=("string"==typeof A("cdnProxyRegex")?new RegExp(A("cdnProxyRegex")):A("cdnProxyRegex"))||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.null}var E=A("cdnUrl")||S("runtime-host")||"https://cdn.ampproject.org",I=A("errorReportingUrl")||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",O=A("betaErrorReportingUrl")||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta"DE}var U=function(00n)onn),10)},L=functhis)}var i=t.prototype;return():0}ent)},i.lr=function(n,t,i){var e,o;if(t>this.nr)return!1;var u=this.win.console,f=null!==(e=(o={},v(o,1,u.error),v(o,3,u.info),v(o,2,u.warn),o)[t])&&void 0!==e?e:u.log,s=this.sr(i),a="[".concat(n,"]");return r(s[0])?s[0]=a+" "+s[0]:s.unshift(a),f.apply(u,s),!0},i.fine=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.lr(n,4,r)},i.info=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.lr(n,3,r)},i2,r)},i.,u)}},i.expected,r))},i.createError=function(n){return this.vr(m.apply(null,arguments))},i.createExpectedts))})),n}]):t}n))]},i.as)))},i.assertElement=function(n,t){return function(n,t,r){return h(n,t,f(t),"Element expected",r)}(this.ar,n,t)},i.assertString=function(n,t){return function(n,t,i){return h(n,t,r(t),"String expected",i)}(this.ar,n,t)},i.assertNn,t)},i.assertt,r)},i.assertBon,t)},t}();self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var _=self.__AMP_LOG,Fn,t)}function D(n){return _.user||(_.user=w!=n}(_.user.win,n)?_.userForEmbed||(_.userForEmbed=G("â€‹â€‹â€‹rn n.data}var $,B="amp-",K="send-positions";function V(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,e=r;return e.type=n,e.sentinel=t,B+(i||"")+JSONn+r,x:n,y:t}}function Q(n){return X(Number(n.left),Number(n.top),Number(n.width),Number(n.height))}var Y=["Webkit","webkit","Moz","moz",,null)}function sn(n,t,r){n.requestAn&t.mutate(r)}))}var an,cn=function(){function n(n){this.t=n,this.rn=!1,this.en=!1,this.on=null,this.un()}var t=n.prototypwResize()}))},t.o(this.en=!0)},t.expandFrame=function(n,t){var r=this;!function(n,t,r){sn(n,{measure:function(r){r.viewportSize={width:n.innerWidth,height:n.innerHeight},r.rect=Q(t.getBoundingClientRect())},mutate:function(i){var e,o=i.viewportSize,u=o.height,f=X(0,0,o.width,u);!function(n,t,r,i){var e,o,u=on(r.width/2-t.width/2-t.left),f=on(r.height/2-t.height/2-t.top);en(n,{"position":"fixed","top":on(t.top),"right":on(r.width-(t.left+t.width)),"left":on(t.left),"bottom":on(r.height-(t.top+t.height)),"height":on(t.height),"width":on(t.width),"transition":"transform ".concat(150,"ms ease"),"transform":(e=u,o=f,null==o?"translate(".concat(un(e,on),")"):"translate(".concat(un(e,on),", ").concat(un(o,on),")")),"margin":0})}(t,i.rect,i.viewportSize),function(n,t){var r=n.style;for(var i in t)r.setProperty(nn(tn(r,i)),String(t[i]),"important")}(t,{"pointer-events":"none"}),e=function(){sn(n,{mutate:function(){fn(t,["pointer-events"]),function(n){en(n,{"position":"fixed","z-index":1e3,"left":0,"right":0,"top":0,"bottom":0,"width":"100vw","height":"100vh","transition":null,"transform":null,"margin":0,"border":0})}(t),r(i.rect,f)}})},setTimeout(e,200)}},{})}(this.t,n,(function(n,i){r.rn=!0,r.en=!1,r.on=n,t(i)}))},t.collapseFrame=function(n,t){var r=this;!function(n,i,e,o){sn(n,{mutate:function(){!function(n){fn(n,["position","z-index","left","right","top","bottom","width","height","margin","border"])}(i),r.rn=!1,r.en||t(r.on),sn(n,{measure:function(){var n;n=Q(i.getBoundingClientRect()),r.on=n,r.en&&t(r.on)}})}})}(this.0!==n?n:0},n}(),hn=function(){function n(n){this.t=n,this.sn=null,this.an=function(n){var t,r=n.document;return r.scrollingElement?r.scrollingElement:r.body&&(t=n.navigator.userAgent,/WebKit/i.test(t)&&!/Edge/i.test(t))?r.body:r.documentElement}(this.t),this.cn=null}var t=n.prototype;return t.observe=function(n,t){var r=this;if(!this.sn){this.sn;i?e=t:o,r.sn.fire()}));this.ln(),this.t.addEventListener("scroll",i,!0),this.t.addEventListener("resize",i,!0)}return t(this.hn(n))){t(r.hnewportRect()},t.hn=function(n){return{"viewportRect":this.cn,"targetRect":this.getTargetRect(n)}},t.getViewportRect=function(){var n=this.an,t=this.t,r=n.scrollLeft||t.pageXOffset,i=n.scrollTop||t.pageYOffset;return X(Math.round(r),Math.round(i),t.innerWidth,t.innerHeight)},t.getTargetRect=function(n){for(var t,r,i,e=Q(n.getBoundingClientRect()),o=0,u=n.ownerDocument.defaultView;o<10&&u&&u!=this.t&&u!=this.t.top;o++,u=u.parent){var f=Q(u.frameElement.getBoundingClientRect());t=e,r=f.left,i=f.top,e=0==r&&0==i||0==t.width&&0==t.height?t:X(t.left+r,t.top+i,t.width,t.height)}retuis):n;var t,r}funct!r||!r.ctor)RVICES={}),t}(n)[t];return r.obj||(W(r.ctor),W(r.context),r.obj=new r.ctor(r.context),W(r.obj),r.context=null,r.resolve&&r.resolve(r.obj)),r.obj}var gn,bn;function yn(n){try{return!!n.location.href&&(n.test||!0)}catch(n){return!1}}var wn="InaboxMessagingHost",xn=[K],){this.vn={}}var t=n.prototype;return t.listen=function(n,t){n in this.vn&&H().fine(wn,"Overriding message callback [".concat(n,"]")),this.vn[n]=t},t.fire=function(n,t,r){return n in this.vn&&this.vn[n].apply(t,r)},n}(),Mn=function(){function n(n,t){var r=yn(n.top)?n.top:n;this.dn=t,this.mn=Object.create(null),this.pn=function(n){return n.ampInaboxPositionObserver=n.ampInaboxPositionObserver||new hn(n),n.ampInaboxPositionObserver}(r),this.gn=nerlayManager}(r),this.gn.listen(K,this.yn),this.gn.listen("full-overlay-frame",this.wn),this.gn.listen("cancel-full-overlay-frame",this.xn)}var t=n.prototype;return t.processMessage=function(n){var t=fuindexOf("{")}(n))return null;var t=n.indexOf("{");return function(n,SON.parse(n)}(n)}catch(n){return null==t||t(n),null}}(n.substr(t),(function(t){!function(n){var t=m.apply(null,argumentsthrow p(t),t}))}(new Error("MESSAGING: Failed to parse message: ".concat(n,"\n").concat(t.message)))}))}(Z(n));if(!t||!t.sentinel)return H().fine(wn,"Ignored non-AMP message:",n),!1;var r=this.An(n.source,t.sentinel);if(!r)return H().info(wn,"Ignored message from untrusted iframe:",n),!1;var i=r.iframe.dataset.ampAllowed;return-1===(i?i.split(/\s*,\s*/):xn).indexOf(t.type)?(H().info(wn,"Message type ignored:",n),!1):!!this.gn.fire(t.type,this,[r.measurableFrame,t,n.source,n.origin])||(H().warn(wn,"Unprocessed AMP message:",n),!1)},t.yn=function(n,t,r,i){var e=this,o=this.pn.getViewportRect(),u=this.pn.getTargetRect(n);return this.Mn(t,r,{"viewportRect":o,"targetRect":u}),W(this.mn[t.sentinel]),this.mn[t.sentinel].observeUnregisterFn=this.mn[t.sentinel].observeUnregisterFn||this. e.Mn(t,r,n)})),!0},t.Mn=function(n,t,r){H().fine(wn,"Sent position data to [%s] %s",n.sentinel,r),t.postMessage(V("position",n.sentinel,r),"*")},t.wn=function(n,t,r,i){return this.bn.expandFrame(n,(function(n){r.postMessage(V("full-overlay-frame-response",t.sentinel,{"success":!0,"boxRect":n}),i)})),!0},t.xn=function(n,t,r,i){return this.bn.collapseFrame(n,(function(n){r.postMessage(V("cancel-full-overlay-frame-response",t.sentinel,{"success":!0,"boxRect":n}),i)})),!0},t.An=function(n,t){if(this.mn[t])return this.mn[t];var r=this.getMeasureableFrame(n);if(!r)return null;for(var i=r.contentWindow,e=0;e<this.dn.length;e++)for(var o=this.dn[e],u=0,f=i;u<10;u++,f=f.parent){if(o.contentWindow==f)return this.mn[t]={iframe:o,measurableFrame:r},this.mn[t];if(f==window.top)break}return null},t.getMeasureableFrame=function(n){if(!n)return null;for(var t,r=0,i=n;r<10&&i!=i.top&&!yn(i);r++,t=i,i=i.parent);if(t)for(var e=t.parent.document.querySelectorAll("iframe"),o=0,u=e[o];o<e.length;u=e[++o])if(u.contentWindow==t)return u;return n.frameElement},t.unregisterIframe=function(n){var t=this.dn.indexOf(n);for(var r in-1!=t&&this.dn.splice(t,1),this.mn)this.mn[r].iframe==n&&(this.mn[r].observeUnregisterFn&&this.mn[r].observeUnregisterFn(),delete this.mn[r])},n}(),Sn=!1,En=self.__AMP_ERRORS||[];self.__AMP_ERR)(n);var t,r};function On(n,t){try{if(n)if(void 0!==n.message)n=d(n);else{var r=nn String(n)}}(r))).origError=r}else n=new Error("Unknown error");if(n.reported)return n;if(n.reported=!0,n.messagr i;return-1}(n.messageArray);i>-1&&(n.associatedElement=n.messageArray[i])}var e=t||n.associatedElement;if(e&&e.classList&&(e.classList.add("i-amphtml-error"),j().development&&(e.classList.add("i-amphtml-element-error"),e.setAttribute("error-message",n.message))),self.console&&(c(n.message)||!n.expected)){var o=console.error||console.log;n.messageArray?o.apply(console,n.messageArray):e?o.call(console,n.message,e):o.call(console,n.message)}e&&e.dispatchCustomEventForTesting&&e.dispatchCustomEventForTesting("amp:error",n.message),Rn.call(self,void 0,void 0,void 0,void 0,n)}catch(non(){throw n}))}return n}function Rn(n,t,r,i,e){var o,u=this;if(!this||!this.document||e&&e.expected||(W((o=this.document).defaultView),Sn||(Sn=!0,function(n){en(n.body,{opacity:1,visibility:"visible","animation":"none"})}(o))),!j().development){var f=!1;try{f=function(n){if(!n.document)return!1;for(var t=n.document.querySelectorAll("script[src]"),r=0;r<t.length;r++)if(i=t[r].src.toLowerCase(),!M.test(function(n){return"string"==typeof n?function(n,t){return gn||(gn=self.document.createElement("a"),bn=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=r.put(t,o),o}(gn,n,bn)}(n):n}(i).origin))return!0;var i;return!1}(self)}catch(n){}if(!(f&&Math.random()>.01)){var a=function(nwn error"),n}(n,e);var u=!(!e||!e.expected);if(!/_reported_/.test(n)&&"CANCELLED"!=n){var f=!(self&&self.window),a=Math.rd to load:")}(n)||"Script error."==n||f)&&(u=!0,a>.001))){var l=c(n);if(!(l&&a>.1)){var h=Object.create(null);h.v=j().rtvVersion,h.noAmp=o?"1":"0",h.m=n.replace(s,""),h.a=l?"1":"0",h.ex=u?"1":"0",h.dw=f?"1":"0";var v,d,m="1p";if(self.context&&self.context.location?(m="3p",h["3p"]="1"):j().runtime&&(m=j().runtime),h.rt=m,h.cdn=E,"inabox"===m&&(h.adid=j().a4aId),h.ca=null!==(d=self.AMP_CONFIG)&&void 0!==d&&d.canary?"1":"0",h.bt=(null===(v=self.AMP_CONFIG)||void 0===v?void 0:v.type)||"unknown",self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&(h.or=self.location.ancestorOrigins[0]),self.viewerState&&(h.vs=self.viewerState),self.parent&&self.parent!=self&&(h.iem="1"),self.AMP&&self.AMP.viewer){var p=self.AMP.viewer.getResolvedViewerUrl(),g=self.AMP.viewer.maybeGetMessagingOrigin();p&&(h.rvu=p),g&&(h.mso=g)}var b,y,w,x=[],A=self.__AMP__EXPERIMENT_TOGGLES||null;for(var M in A){var S=A[M];x.push("".concat(M,"=").concat(S?"1":"0"))}return h.exps=x.join(","),e?(h.el=(null===(b=e.associatedElement)||void 0===b?void 0:b.tagName)||"u",e.args&&(h.args=JSON.stringify(e.args)),l||e.ignoreStack||!e.stack||(h.s=e.stack),e.message&&(e.message+=" _reported_")):(h.f=t||"",h.l=r||"",h.c=i||""),h.r=self.document?self.document.referrer:"",h.ae=En.join(","),h.fr=self.location.originalHash||self.location.hash,"production"===h.bt&&(h.pt="1"),w=n,(y=En).length>=25&&y.splice(0,y.length-25+1),y.push(w),h}}}}(n,t,r,i,e,f);a&&In((function(){try{return function(n,t){return t.pt&&Math.random()<.9?an||(an=Promise.resolve(void 0)):functi(n,"ampdoc")}(n);if(!r.isSingleDoc())return Promise.resolve(!1);var i=r.getSingleDoc();if(!i.getRootNode().documentElement.hasAttribute("report-errors-to-viewer"))return Promise.resolve(!1);var e,o,u,f=(e="viewer",pn((o=mn(i),(u=mn(o)).isSingleDoc()?u.win:u),e));return f.hasCapability("errorReporter")?f.isTrustedV}),!0);var r})):Promise.resolve(!1ringify(t))}}))}(u,a).catch((function(){}))}catch(n){}}))}}}var jn="inabox-host",Nn="ampInaboxPendingMessages",Pn="ampInaboxIframes";new function(n){if(n.ampInaboxInitialized)H().info(jn,"Skip a 2nd attempt of initializing AMP inabox host.");else{var t;n.ampInaboxInitialized=!0,F=L,H(),D(),t=On,self.__AMP_REPORT_ERROR=t,n[Pn]&&!Array.isArray(n[Pn])&&(H().info(jn,"Invalid %s. %s",Pn,n[Pn]),n[Pn]=[]);var r=new Mn(n,n[Pn]);n.AMP=n.AMP||{},n.AMP.inaboxUnregisterIframe?H().info(jn,"win.AMP[".concat("inaboxUnregisterIframe","] already defined}")):n.AMP.inaboxUnregisterIframe=r.unregisterIframe.bind(r);var i=n[Nn],e=function(n){try{r.processMessage(n)}catch(t){H().error(jn,"Error processing inabox message",n,t)}};i&&(Array.isArray(i)?i.forEach((function(n){(function(n){var t=!(!n.source||!n.source.postMessage);return t||D().warn(jn,"Ignoring an inabox message. Likely the requester iframe has been removed. message.data="+JSON.stringify(Z(n))),t})(n)&&e(n)})):H().info(jn,"Invalid %s %s",Nn,i)),n[Nn]==function(){},n.addEventListener("message",e.bind(r))}}(self)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=amp4ads-host-v0.js.map