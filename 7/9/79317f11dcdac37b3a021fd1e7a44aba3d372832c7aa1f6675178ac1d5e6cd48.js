!function(){"use strict";const e="vast",t="googima",s="freewheel",i="playing",a="viewable",n="external",r=n,o="time",l="adBreakIgnored",d="__jwpseg__",h="instream",u="article",c={[[h]]:1,[["banner"]]:2,[[u]]:3,[["feed"]]:4,[["floating"]]:5,[["interstitial"]]:5,[["slider"]]:5},p="adError",g="adItem",m="adStarted",y="jw-flag-ads-vpaid",f="jw-flag-ads-vpaid-controls",A="-1",v="vmap",w="TYPE_API",P="TYPE_SCHEDULE",b="jw-flag-ads-googleima",k=(e,t)=>({begin:e._offSet,text:t,cueType:"ads",adId:e.adBreakId});class E{constructor(e,t,s,i){this.client=i,this.player=e,this.pluginConfig=t,this.div=s,this.utils=this.player.utils,this.playerConfig=this.player.getConfig(),this.playlistItemManager=null,this.playerKey=this.playerConfig.key,this.casting=!1,this.player.pauseAd=this.pauseAd.bind(this),this.player.skipAd=this.skipAd.bind(this),this.player.skipAdBreak=this.skipAdBreak.bind(this),this.destroyAdsManager=this.destroyAdsManager.bind(this),this.handleDependencyError=this.handleDependencyError.bind(this),this.sendCues=this.sendCues.bind(this)}andleDependencyError(e,t){this.destroyAdsManager(),this.player.off(null,null,this),this.client===s&&(this.player.playAd=this.utils.noop),this.player.trigger(p,{id:A,client:this.client,message:e,code:900,adErrorCode:t,tag:""})}pauseAd(e,t=null){this.playlistItemManager&&(e?this.playlistItemManager.pause(t||{}):this.playlistItemManager.resume(t||{}))}skipAd(){var e;null!=this&&null!=(e=this.playlistItemManager)&&e.skipAd&&this.playlistItemManager.skipAd()}skipAdBreak(){var e;null!=this&&null!=(e=this.playlistItemManager)&&e.skipAdBreak&&this.playlistItemManager.skipAdBreak()}sendCues(e,t){const s=e.getMidRolls(),i=[];e.preRoll&&i.push(k(e.preRoll,t)),s.length&&s.forEach((e=>{"nonlinear"!==e._type&&i.push(k(e,t))})),e.postRoll&&i.push(k(e.postRoll,t)),this.player.addCues(i)}}const _=function(e,t,s,i){if(0!==i.indexOf(e))return!1;const a=parseFloat(i.slice(e.length));return!(a<t||a>s)&&a},M=_.bind(null,"800000",10,90),C=_.bind(null,"900000",10,90),I=_.bind(null,"JWIAB",1,999);var R=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};const S=/^[^:/?#]+:?\/\/[^/?#]+/,j=function(e,t){if(!e)return;if(!t)return e;let s,i="",a="";Object.keys(t).forEach((e=>{const s=t[e];i=`${i}${a}${e}=${s}`,a="&"}));const n=((e),r=n.pathname;return n.searchParams.has("cust_params")?n.searchParams.set("cust_params",`${i}&${n.searchParams.getAll("cust_params")}`):n.searchParams.set("cust_params",i),s=n.toString(),0===e.indexOf("./")?s=`.${s.substring(s.indexOf(r))}`:0===e.indexOf("../")?s=`..${s.substring(s.indexOf(r))}`:0!==e.indexOf(`${n.protocol}`)||e.includes("://")?0===e.indexOf("//")?s=s.replace(n.protocol,""):0!==e.indexOf("//")&&0===e.indexOf("/")?s=s.substring(s.indexOf(r)):0!==e.indexOf("/")&&0===e.indexOf(n.pathname.substring(1))&&(s=s.substring(s.indexOf(r)+1)):s=s.replace("://",":"),s},L=e=>e?new URL(e).hostname:"",T=(e,t=document.location.search)=>{if(e)return new URLSearchParams(t).getAll(e)},x="hb_jwvb",B="hb_jwcr",D={[[x]]:"VIEWABILITY",[[B]]:"COMPLETION_RATE",[["hb_jwiab"]]:"IAB_CONTEXTUAL",[["hb_jwbs"]]:"BRAND_SAFETY"},O=[x,B],q=/^(https?:\/\/).*.(?:ampproject.org|bing-amp.com)\/(?:.\/)*(.*)\/amp.*$/,U=function(){if(!((document.location.search,"isAMP"))return;const e=T("consentValue").join(),t=T("consentGdpr").join();return e||t?{gdprApplies:t,consentData:e}:void 0},V=Date.now||N=e=>{const t=(e=>{let t=window;for(;t;){try{if(t.frames[e])break}catch(e){}t=t===window.top?null:t.parent}return t})(`${e}Locator`);return null!==t&&function(s,i,a,n){const r=V(),o=t=>{let s=t?t.data:{};if("string"==typeof s)try{s=JSON.parse(s)}catch(e){s={}}const i=`${e}Return`;s[i]&&s[i].callId===r&&(removeEventListener("message",o),a(s[i].returnValue,s[i].success))};window.addEventListener("message",o,!1);const l={[[`${e}Call`]]:{command:s,callId:r,parameter:n,[[void 0!==n?"version":"parameter"]]:i}};t.postMessage(JSON.stringify(l),"*")}};let H=null,$={gdprApplies:!0,consentData:""};const z=function(e=1e3){return null===H&&(H=new Promise((e=>{const t=window.__tcfapi||N("__tcfapi");if(t)return t("getTCData",2,((t,s)=>{e(!1!==s?{gdprApplies:t.gdprApplies,consentData:t.tcString,addtlConsent:t.addtlConsent}:null)}));const s=window.__cmp||N("__cmp");if(s)return s("getConsentData",null,((t,s)=>{e(!1!==s?{gdprApplies:t.gdprApplies||t.isUserInEu,consentData:t.consentData}:null)}));const i=U();return e(i||{gdprApplies:!1,consentData:""})})).then(()),Promise.race([H,new Promise(()])},Q=function(e){const t=e.advertising;if(null!=t&&t.placement){const e=t.placement.toLowerCase();if(c[e])return c[e]}return c[null!=t&&t.outstream?u:h]},W=function(){const e=(t=document.referrer)&&null!==t.match(S)?function(e){const t=e.match(q);return t&&t.length>1?`${t[1]}${t[2]}`:e}(document.referrer):"";var t;if(window.top!==window.self){try{return{url:window.top.location.href,domain:window.top.document.domain,referrer:e}}catch(e){}return{url:e,domain:L(e),referrer:""}}return{url:document.location.href,domain:document.domain,referrer:e}},G=function(e,t,s=!0){if("start"===e||"0%"===e||s&&!e&&0!==e)return"pre";if("end"===e||"100%"===e)return"post";if("string"==typeof e&&("pre"===e||"post"===e||e.indexOf("%")>=0))return e;const i=t.seconds(e);return"number"==typeof i&&!isNaN(i)&&i},J=X=function(e,t){const s=e.getPlugin("inference"),i=t.jwpseg_client_side,a=t.jwpseg||[];let n;if(!i||!i.length||!s)return a;try{n=s.predict(i,t)}catch(e){return t.jwpseg||[]}return[...Object.keys(n).filter((),...a.filter(()]},F=function(e){const t=[],s=[],i=[],a=[];for(let n of e){"string"!=typeof n&&(n=String(n));const e=M(n);if(e){t.push(e);continue}const r=C(n);if(r){s.push(r);continue}const o=I(n);o?i.push(o):"JWBRSAFE"===n&&a.push(1)}return t.length||s.length||i.length||a.length?{hb_jwvb:t,hb_jwcr:s,hb_jwiab:i,hb_jwbs:a}:null},K=Y=Z=e=>{if("true"===e)return!0;if("false"===e)return!1;const t=parseFloat(e);return isNaN(t)?e:t},ee=(e,t=!1)=>{const s=t?0===e.getPosition()&&"idle"===e.getState():0===e.getPosition();return e.isBeforePlay()||s?"pre":e.isBeforeComplete()||e.getPosition()===e.getDuration()?"post":"mid"};var te=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};const se=/^((https?:)?\/\/)?(secure)?pubads\.g\.doubleclick\.net\/gampad\/ads\?[\S]*$/,ie=ae=ne=re=function(){},oe=function(e,t,s){let i=[];return e&&(i=e.getElementsByTagName(t),s&&i&&0===i.length&&(i=e.getElementsByTagName(`${s}:${t}`))),i},le=de=function(e,t,s){e.push({message:t,code:1002,adErrorCode:70001,id:s})},he=ue=function(e){if(e){const t=e.textContent||e.text;if(t)return t.trim()}return""},ce=function(e,t,s,i){let a=[];return e||t?(a=t.getElementsByTagNameNS?t.getElementsByTagNameNS(e,s):t.getElementsByTagName(`${i}:${s}`),a):a},pe=function(e,t){if(e){const s=e.getElementsByTagName(t);if(s)return s[0]}return null};let ge=function(e){(e.indexOf("[REGULATIONS]")>=0||e.indexOf("[GDPRCONSENT]")>=0)&&(z().catch(re),ge=re)};const me=ye=function(e,t){if(!e)return null;const s=e.getElementsByTagName("Ad");if(!s.length)return null;const i={_offSet:t};if(1===s.length)i._adQueue=[s[0].textContent.trim()];else{i._pod=[];for(let e=0;e<s.length;e++)i._pod.push(s[e].textContent.trim())}return i},fe=function(e,t,s){if(oe(e,"VMAP",v).length)return function(e,t,s){const i=[],a=oe(e,"VMAP",v);le(a[0],"version")||de(i,"VMAP Schema Error: version missing from VMAP tag",A);const n=oe(e,"AdBreak",v);n.length||he();const r=e.lookupNamespaceURI(v),o={};for(let e=0;e<n.length;e++){const t={},s={},a=n[e],d=le(a,"timeOffset")||0,h=le(a,"breakId"),u=le(a,"breakType"),c=oe(a,"AdSource",v)[0],p=le(c,"id"),g=oe(a,"AdTagURI",v)[0],m=oe(a,"VASTData",v)[0]||oe(a,"VASTAdData",v)[0],y=le(g,"templateType"),f=ue(g),A=ce(r,a,"Tracking",v);if(u||de(i,"VMAP Schema Error: missing breakType on AdBreak",h),m||y||de(i,"VMAP Schema Error: missing templateType on AdBreak",h),d||de(i,"VMAP Schema Error: missing timeOffset on AdBreak",h),t._type=u,t._vmap={id:p,breakid:h,timeoffset:d},m)t._adXML=(l=pe(m,"VAST")).ownerDocument instanceof Document?l.outerHTML||(new XMLSerializer).serializeToString(l):null;else{if("vast2"!==y&&"vast3"!==y&&"vast4"!==y)continue;t._adQueue=[f],t._waterfallIndex=0}const w=[];if(A)for(let e=0;e<A.length;e++){me(s,A[e]);const t=le(A[e],"event");w.push(t)}(w.indexOf("breakStart")<0||w.indexOf("breakEnd")<0||w.indexOf("error")<0)&&de(i,"Tracking events are missing breakStart, breakEnd, or error for AdBreak",h),t._trackers=s,t._type=u;const P="number"==typeof d||"string"==typeof d;P&&!o[d]?(o[d]=t,o[d]._pod=t._adQueue?[...t._adQueue]:[]):P&&o[d]&&t._adQueue&&o[d]._pod.push(...t._adQueue)}var l;return Object.keys(o).forEach((e=>{const i=o[e];switch(i._pod&&i._pod.length<=1&&delete i._pod,e){case"start":i._offSet="pre",t.setPreRoll(i);break;case"100%":case"end":i._offSet="post",t.setPostRoll(i);break;default:if(/^#/.test(e))break;/^\d\d?(?:\.\d+)?%$/.test(e)?i._offSet=e:i._offSet=s.seconds(e),t.addMidRoll(i)}})),t.preRoll||t.midRolls.length||t.postRoll||he(),t.sort(null,!0),i}(e,t,s);if(oe(e,"Playlist",v).length)return function(e,t,s){const i=oe(e,"Playlist",v)[0],a=i.getElementsByTagName("Preroll")[0],n=i.getElementsByTagName("Postroll")[0],r=ye(a,"pre"),o=ye(n,"post");r&&t.setPreRoll(r),o&&t.setPostRoll(o);const l=i.getElementsByTagName("Midroll");for(let e=0;e<l.length;e++){const i=l[e],a=s.seconds(i.getAttribute("timeOffset")),n=ye(i,a);t.addMidRoll(n)}return[]}(e,t,s);throw new Error("No VMAP tag in response")},Ae=function(e){e.onload=e.onreadystatechange=e.onerror=null,"abort"in e&&e.abort()},ve=function(e,t,s){if(null===e)return;let i;return Object.keys(e).forEach((t=>{const s=e[t];i=i||{},i[t]="_adQueue"===t||"_pod"===t?s.slice():s})),i?(i.requestTimeout=t,i.creativeTimeout=s,i._errors=[],i._waterfallIndex=0,i._adPodIndex=0,i):void 0},we=function(e,t){return"%"===e.toString().slice(-1)?t*parseFloat(e.slice(0,-1))/100:parseFloat(e)};onst be=function(e){return Array.isArray(e)?e.slice(0):[e]},ke=function(e,t){return 0===e?1/0:e||t};onst _e=function(e,t=null,s={}){const i={client:e.client},{bidding:a,item:n,player:r}=e;if(e.isDestroyed()||Object.assign(i,{placement:Q(r.getConfig()),viewable:r.getViewable()}),s.jwpseg&&(i.jwpseg=s.jwpseg),t){const{adBreakId:n,adPlayId:r}=e.getAdIds(t,s);if(Object.assign(i,{adBreakId:n,adPlayId:r,offset:t._offSet}),a){const e=a.getBid(r);e&&Object.assign(i,e.getEventObject())}}return i.item=n,i},Me=function(e,t,s,i){return{client:i,message:e,adErrorCode:t,id:A,placement:Q(s),tag:""}};class Ce{constructor(e,t){this.player=e,this.options=t,this.client=t.client,this.ignoreStartOnSeek=!1,this.reset(),t.timeBetweenAds&&e.on({adBreakStart:this.handleAdBreakStart,adSkipped:this.handleAdSkipped,adComplete:this.handleAdComplete,adBreakEnd:this.handleAdBreakEnd,destroyPlugin:this.destroy},this)}ouldDeferAdslearStartOnSeek(){this.ignoreStartOnSeek=!0}sendAdBreakIgnored(e,t){e&&this.player.trigger(l,function(e,t){let s={};return e&&(s={id:e._breakId,tag:e._adQueue&&e._adQueue.length>0?e._adQueue[0]:e._adXML,offset:e._offSet}),Object.assign(s,{timeSinceLastAd:t,type:l})}(e,t,this.client))}rulesAllowAdPlaybackndleAdComplete(){this.adComplete=!0}andleAdBreakEnd(){!this.adSkipped&&this.adComplete&&(this.recentCompletedAdTime=V(),this.player.trigger("previousAdCompleteTime",{time:this.recentCompletedAdTime}))}timeBetweenAdsAllowsAdPlayback(e,t=V()){if(this.options.timeBetweenAds){const s=(t-this.recentCompletedAdTime)/1e3;if(s<this.options.timeBetweenAds)return this.sendAdBreakIgnored(e,s),!1}return!0}estroyconst Ie=class Re{constructor(e,t,s){this.player=e,this.pluginConfig=t,this.adClient=s;const i=this.configParser=new Ee(e.utils),a=this.adRules=new Ce(e,i.getAdRules(t),s);this.emptySchedule=new Pe(a,e.utils)}getAdRules(){return this.adRules}resetDefaultSchedule(e){const t=void 0===this.pluginConfig.withCredentials||this.pluginConfig.withCredentials,s=this.defaultSchedule=this.configParser.getSchedule(this.pluginConfig,this.adRules);s.isVMAP()&&s.load(this.player,e,this.adClient,{withCredentials:t}).catch(Ie)}getSchedule(e,t){return t>0&&!this.adRules.rulesAllowAdPlayback(t)?this.emptySchedule:null!=e&&e.adschedule?this.configParser.getSchedule(e,this.adRules):(this.resetDefaultSchedule(e),this.defaultSchedule)}r Se=class je{constructor(e,t,s){this.config=e,this.setOptions(s),this.setLocalizationOptions(t)}setLocalizationOptions(e){for(const t in e)t&&"string"==typeof t&&(this[t]=e[t])}setOptions(e,t=!1){for(const s in e)if(Se(e,s)){let i=t?this.config[s]||this.config[s.toLowerCase()]:this.config[s];const a=e[s],n=typeof a;if(void 0!==i){if("boolean"!==n&&"number"!==n||(i=Z(i)),typeof i!==n)throw new Error(`invalid parameter: ${s} should be a ${n}`);this[s]=i}else this[s]=a}}}const Le={adPosition:"",autoplayadsmuted:!1,companiondiv:null,companionResourceType:"",customUi:null,debug:!1,omidSupport:"disabled",omidAccessModeRules:{},enablePreloading:!1,loadVideoTimeout:15e3,locale:"",maxRedirects:-1,ppid:"",preloadAds:!1,requestTimeout:1e4,truncateMacros:!0,vastLoadTimeout:1e4,vpaidcontrols:!1,vpaidmode:"insecure"};nst Be={};let De=null;function Oe(e){var t,s,i;return!De&&null!=(t=window)&&null!=(s=t.google)&&null!=(i=s.ima)&&i.AdDisplayContainer&&(De=Promise.resolve()),De||(De=function(e,t){if(Be[t])return Be[t];"file:"===document.location.protocol&&0===t.indexOf("//")&&(t=`https:${t}`);const s=new(0,e.scriptloader)(t);return Be[t]=s.load(),Be[t]}(e,"//imasdk.googleapis.com/js/sdkloader/ima3.js"),De)}onst Ue=function(){};class Ve{constructor(e,t,s,i,a){Object.assign(this,e.Events),this.client="shared",this.player=e,this.item=s,this.config=i,this.casting=a;const n=e.utils,r=new Ee(n);this.adRules=new Ce(e,r.getAdRules(i)),"string"==typeof t?(this.schedule=new Pe(this.adRules,n),this.schedule.setPreRoll({tag:t})):(this.schedule=t,t.resetAllBreakIds()),this.vmapPromise=null,this.lastTimeEvent=null,this.prerollPromise=null,this.midrollPromise={},this.postrollPromise=null,this.next=null,this.nextPlaylistItemPromise=null,this.relatedNextUp=null,this.bidding=e.getPlugin("bidding"),this.bids=[],this.bidsPromises=[],this.bidsPromise=null,this._events=[]}attachListeners(){this.player.on({all:this.onAll,beforePlay:this.checkPreroll,relatedReady:this.relatedReady,cast:this.onCast,destroyBidding:this.destroyBids},this)}onAll(e,t){e===o?this.checkMidrolls(t):"beforeComplete"===e?this.checkPostrolls(t):"meta"===e&&this.schedule.sort(this.player.getDuration()),"complete"===e&&(this.player.videoHasCompleted=!0)}relatedReady(){if(this.config.preloadAds){const e=this.player.getPlugin("related");e&&e.on("nextUp",(e=>{e&&"discovery"===e.mode&&(this.relatedNextUp=e)}))}}onCastnit(e,t){if(this.config.clearAdsOnComplete&&this.player.videoHasCompleted&&this.schedule.clearAds(),e=e||null,this.schedule.isVMAP()&&(t.requestTimeout=this.schedule.requestTimeout,t.creativeTimeout=this.schedule.creativeTimeout,this.vmapPromise=this.schedule.load(this.player,this.item,this.client,t)),this.bidsPromise=this.vmapPromise||Promise.resolve(),this.bidsPromise=null!==e?this.bidsPromise.then((()=>{if(this.isDestroyed())return;if(this.bidding)return this.createBidsPromise(e,t);const s=function(e,t,s){const i=_e(e,t,s);return Object.assign(i,{message:"Ad Error: bidding plugin unavailable",code:900,adErrorCode:60008}),i}(this,null,t);this.player.trigger(p,s)})).catch(Ue):this.bidsPromise.catch(Ue),this.config.preloadAds)if(1===t.playlistItemEventCount){const e=this.player.getConfig().autostart;!1===e||"viewable"===e&&0===this.player.getViewable()?this.loadPreroll(t).catch((e=>this.isDestroyed()?null:this.enqueueAdEvent(p,e,{preload:!0}))):this.player.once("autostartNotAllowed",(()=>{this.loadPreroll(t).catch((e=>this.isDestroyed()?null:this.enqueueAdEvent(p,e,{preload:!0})))}))}else t.preloadPreroll&&this.loadPreroll(t).catch((e=>this.isDestroyed()?null:this.enqueueAdEvent(p,e,{preload:!0})));return this.bidsPromise}createBidsPromise(t,s){const i=this.player;let a=parseInt(t.bidOnBreaks,10);return a=a>0?a:1/0,this.bids=this.schedule.getAllAds().slice(0,a).map((a=>{const{adPlayId:n}=this.getAdIds(a),r=i.getConfig(),{skipoffset:o}=this.config,l=null!=o&&o>=0,d=X(i,this.item),h={id:n,offset:t.offset,jwpseg:d,placement:Q(r),tag:a._adQueue?a._adQueue[0]:a._currentTag,adClient:this.client};this.client===e&&(h.skipoffset=l?o:-1);const u=this.bidding.createNewBid(h,{getURLParts:W});this.player.trigger("adBidRequest",_e(this,a,Object.assign({jwpseg:d},s))),u.init();const c=u.start().then((({result:t})=>{if(this.isDestroyed())return;let i=Promise.resolve();var n;t&&!t.error&&(a.jwpseg=d,t.adm?(a._adXML=t.adm,null!=a&&null!=(n=a._adQueue)&&n.length&&a._adQueue.unshift(t.adm)):t.tag&&(i=ne(t.tag,this.player,this.item,this.client,{},a).then((t=>{this.client===e?(a._adQueue=a._adQueue||[],a._adQueue.unshift(t)):a._adQueue=[t]}))));return this.player.trigger("adBidResponse",_e(this,a,s)),i}));return this.bidsPromises.push(c),u})),Promise.all(this.bidsPromises)}checkPreroll(e){if(this.bidTimeoutStarted||(this.bidTimeoutStarted=!0,this.bids.forEach((e=>e.timeout()))),this.casting||this.preRollPlayed||this.adRules.shouldDeferAds())return;this.preRollPlayed=!0;const t=(null==e?void 0:e.startTime)||this.player.getPosition();this.lastTimeEvent=t||this.lastTimeEvent;const s=this.schedule.getPreRoll(t);if(!s&&!this.vmapPromise)return;(null!==this.vmapPromise||s&&"nonlinear"!==s._type)&&this.startBlocking(),this.bidsPromise.then((()=>{if(this.isDestroyed())return;const e=this.schedule.getPreRoll(t);e&&"nonlinear"!==e._type&&this.triggerAdBreakEvents(e,"pre")})),t?"none"===this.adRules.startOnSeek&&(this.prerollPromise=null):this.adRules.clearStartOnSeek();const i=null!=e&&e.playReason?e.playReason:n;this.playPreroll({adBlock:this.adBlockErrorDetected,startTime:t,reason:i})}checkMidrolls(e){if(this.casting||0===e.duration||this.adRules.shouldDeferAds())return;const t=this.schedule.getNextMidrollIndex(this.lastTimeEvent,e.position,e.duration);if(this.lastTimeEvent=e.position,null!==t){const e=this.schedule.getMidRollAtIndex(t);"nonlinear"!==e._type&&(this.startBlocking(),this.triggerAdBreakEvents(e,"mid")),this.playMidrollAtIndex(t,{adBlock:this.adBlockErrorDetected})}else if(!this.preRollPlayed&&this.schedule.getClosestIndex(e.position,e.duration)<0)this.checkPreroll(e);else if(this.config.preloadAds){const t=e.position+5,s=this.schedule.peek(e.position,t,e.duration);if(null!==s&&s>=0)this.loadMidrollAtIndex(s,{adBlock:this.adBlockErrorDetected,preload:!0}).catch(Ue);else if(-1===s){const t=V()+1e3*(e.duration-e.position);this.loadPostroll({adBlock:this.adBlockErrorDetected,preload:!0,startTime:t}).catch(Ue)}else if(null===this.next&&null===this.nextPlaylistItemPromise&&t>e.duration){const e=this.player.getPlaylistIndex()+1,t=this.player.getPlaylistItem(e);if(this.nextPlaylistRelated=Boolean(this.relatedNextUp),t||this.relatedNextUp){const t=this.relatedNextUp?-1:e;this.nextPlaylistItemPromise=Promise.resolve(this.player.getPlaylistItemPromise(t)).then((()=>{this.isDestroyed()||(this.trigger("preloadNext",{item:this.player.getPlaylistItem(e)||this.relatedNextUp,index:t}),this.relatedNextUp=null,this.nextPlaylistItemPromise=null)})).catch(Ue)}}}}checkPostrolls(e){if(this.casting||this.adRules.shouldDeferAds()||this.isDestroyed())return;const t=this.schedule.getPostRoll();t&&("nonlinear"!==t._type&&(this.startBlocking(),this.triggerAdBreakEvents(t,"post")),this.playPostroll(e))}getAdIds(e,{tagIndex:t,podIndex:s}={}){let i=e.adRequestIds&&void 0!==t?e.adRequestIds[t]:null;if(!i){const t=`p${s||e._adPodIndex||0}w${e._waterfallIndex||0}`;"p0w0"===t?i=e.adBreakId:(e.adPlayIds=e.adPlayIds||{},i=e.adPlayIds[t]=e.adPlayIds[t]||this.player.utils.genId(12))}return{adBreakId:e.adBreakId,adPlayId:i}}loadPreroll(e={}){return this.prerollPromise||(this.prerollPromise=this.bidsPromise.then((()=>{if(this.isDestroyed())return;const t=this.schedule.getPreRoll(e.startTime);return t?(t._position="pre",t._preload=!0,this.loadAd(t,e)):void 0}))),this.prerollPromise}loadMidrollAtIndex(e,t){return this.midrollPromise[e]||(this.midrollPromise[e]=this.bidsPromise.then((()=>{if(this.isDestroyed())return;const s=this.schedule.getMidRollAtIndex(e);return s?(s._position="mid",s._preload=!0,this.loadAd(s,t)):void 0}))),this.midrollPromise[e]}loadPostroll(e={}){return this.postrollPromise||(this.postrollPromise=this.bidsPromise.then((()=>{if(this.isDestroyed())return;const t=this.schedule.getPostRoll(e.startTime);return t?(t._position="post",t._preload=!0,this.loadAd(t,e)):void 0}))),this.postrollPromise}playPreroll(e){this.prerollPromise?this.playPreloadedPromise(this.prerollPromise,e):this.bidsPromise.then((()=>{if(this.isDestroyed())return;const t=this.schedule.getPreRoll(e.startTime);t?(t._position="pre",this.startAdBreak(t,e)):this.stopBlocking()}))}playMidrollAtIndex(e){this.midrollPromise[e]?this.playPreloadedPromise(this.midrollPromise[e]):this.bidsPromise.then((()=>{const t=this.schedule.getMidRollAtIndex(e);t&&(t._position="mid",this.startAdBreak(t))}))}playPostroll(e){this.postrollPromise?this.playPreloadedPromise(this.postrollPromise):this.bidsPromise.then((()=>{const t=this.schedule.getPostRoll();t&&(t._position="post",this.startAdBreak(t,e))}))}isDestroyed(){return null===this.player}destroy(){this.destroyBids(),this.player.off(null,null,this),this.player=null}destroyBids(){this.bids.forEach((),this.bidsPromises=[],this.bids=[]}enqueueAdEventequeueAdEvents(){}triggerAdBreakEvents(){}startBlocking(){}stopBlocking(){}loadAd(){}playPreloadedPromise(){}const Ne=He=$e=ze=()=>null;class Qe{reak(e){!e&&this.adsLoaderManager&&(e=this.adsLoaderManager.adsManager),!this.destroyed()&&e&&(0===e.getCuePoints().length?this.destroy():(e.discardAdBreak(),e.stop()))}(){this.customUiDiv&&(this.customUiDiv.style.display="block",this.addCustomEventHandlers())}ViewableListener(){this.player.off(a,this.viewableHandler,this),this.player.on(a,this.viewableHandler,this),this.viewableHandler({viewable:this.player.getViewable()})}ped(e){const t=e.getAd();this.debugConsoleLog("[JW DEBUG] AdSkipped"),this.adsLoaderManager.unbindEvents(["COMPLETE","VOLUME_CHANGED"]),this.finishAd();const s=He(this.playlistItemManager,t,this.scheduledAd);this.trigger("adSkipped",s)}l;const Ge=function(e,t){e.getContainer().querySelectorAll(".jw-icon-fullscreen").forEach(()};lass Xe{tentComplete(){this.adsLoader&&this.adsLoader.contentComplete()}s.adsManager&&this.adsManager.skip()}nst Fe={},Ke={},Ye={},Ze=(e,t)=>{const s=Fe[t];return s||(Fe[t]=new Promise(((s,i)=>{const a=new e.key(t);if("unlimited"===a.edition())return i();const n=["//","entitlements.jwplayer.com","/",a.token(),".json"];"file:"===window.location.protocol&&n.unshift("https:"),e.ajax(n.join(""),(function(e){const t=null==e?void 0:e.response;t?s(t):i()}),(,{timeout:1e4,responseType:"json"})})))},et=(e,t)=>{const s=Ke[t];return s||(Ke[t]=Ze(e,t).catch((()=>({}))).then((e=>{if(!1===e.canUseVPB)throw new Error("Not entitled for Player Bidding")})))},tt=(e,t,s)=>{const i=Ye[t];return i||(Ye[t]=Ze(e,t).catch(().then((e=>{let t,i;if(!0===s.outstream?(t=!1!==e.canPlayOutstreamAds,i="Outstream Ad Limit Reached"):(t=!1!==e.canPlayAds,i="Ad Limit Reached"),!1===t)throw new Error(i);return{message:"Can Play Ads"}})))},st=var it="8.10.0";!".jw-plugin-googima{overflow:hidden;width:100%;height:100%;display:block;visibility:hidden;pointer-events:none;opacity:0}.jw-plugin-googima.jw-ad-instream{visibility:visible;display:block;pointer-events:all;opacity:1}.jw-plugin-googima.jw-ad-instream .jw-ads-view>:not(div),.jw-plugin-googima.jw-ad-instream .jw-ads-view>div:not(:empty){width:100%;height:100%}.jw-plugin-googima.jw-ad-linear{top:0;left:0;bottom:0}.jw-plugin-googima.jw-ad-non-linear{top:auto}.jw-plugin-googima .jw-ads-view{position:absolute;width:100%;height:100%}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-controlbar{font-size:1em}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-display-icon-display,.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-display-icon-display .jw-icon-display{pointer-events:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar{background:0 0!important;pointer-events:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-horizontal-volume-container{pointer-events:auto}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-icon{pointer-events:all}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-icon-fullscreen:not(.jw-fullscreen-ima){display:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-fullscreen-ima{display:flex}.jwplayer.jw-flag-ads-googleima .jw-controls-backdrop{display:none}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume,.jwplayer.jw-flag-ads-googleima.jw-ie .jw-svg-icon{background:rgba(0,0,0,.25);border-radius:3px}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume{margin:0 10px}@supports (filter:drop-shadow(0 0 3px #000)){.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume,.jwplayer.jw-flag-ads-googleima.jw-ie .jw-svg-icon{background:0 0;border-radius:0}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume{margin:0}}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-svg-icon{fill:#fff;filter:drop-shadow(0 0 3px #000)}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-text{text-shadow:0 0 3px #000}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid) .jw-controls .jw-controlbar{pointer-events:none}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-controlbar{flex-flow:column-reverse nowrap;height:100%;max-height:none}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-button-container{align-items:flex-end;flex-wrap:wrap;margin-bottom:7px}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-controlbar .jw-icon{height:30px}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-text{align-self:flex-start;margin:16px 0 0 16px;order:-1;width:100%}"),function(e,t,s){try{(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)(e,t,s)}catch(e){}}(t,"8.1",}();
