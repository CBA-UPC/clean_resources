!function(){return )({1:[function(t,e,n){"use strict";function i(t){this.data=t}i.isCompatible=i.fromResponseData=i.prototype={get version(){return this.data.getInt32(0,!0)},get is_8_bit(){return Boolean(this.data.getUint32(4,!0))},get is_16_bit(){return!this.is_8_bit},get sample_rate(){return this.data.getInt32(8,!0)},get scale(){return this.data.getInt32(12,!0)},get lengthat:,e.exports=i},{}],2:[{"./arraybuffer":1,"./object":3}],3:[function(t,e,n){"use strict";.isCompatible=function(t){return t&&("object"==typeof t&&"sample_rate"in t||"string"==typeof t&&"sample_rate"in JSON.parse(t))},i.fromResponseData=function(t){return new i("string"==typeof t?JSON.parse(t):t)},i.prototype={get versionget is_8_bitget is_16_bitget sample_rate(){return this.data.sample_rate},get scale(){return this.data.samples_per_pixel},get lengthat:,e.exports=i},{}],4:[function(t,e,n){"use strict";var i=t("./segment"),s=t("./point");function r(t,e){this.adapter=e.fromResponseData(t),this.segments={},this.points={},this.offset(0,this.adapter.length)}r.create=function(t){var e=null,n=null;if(t&&"object"==typeof t&&("responseText"in t||"response"in t)&&(n="responseType"in t?t.response:t.responseText||t.response),Object.keys(r.adapters).some(function(i){if(r.adapters[i].isCompatible(n||t))return e=r.adapters[i],!0}),null===e)throw new TypeError("Could not detect a WaveformData adapter from the input.");return new r(n||t,e)},r.prototype={offset:function(t,e){var n=this.adapter.length;if(e<0)throw new RangeError("End point must be non-negative ["+Number(e)+" < 0]");if(e<t)throw new RangeError("End point must not be before the start point ["+Number(e)+" < "+Number(t)+"]");if(t<0)throw new RangeError("Start point must be non-negative ["+Number(t)+" < 0]");if(t>=n)throw new RangeError("Start point must be within range ["+Number(t)+" >= "+n+"]");e>n&&(e=n),this.offset_start=t,this.offset_end=e,this.offset_length=e-t},set_segment:function(t,e,n){return null!=n&&0!==n.length||(n="default"),this.segments[n]=new i(this,t,e),this.segments[n]},set_point:function(t,e){return null!=e&&0!==e.length||(e="default"),this.points[e]=new s(this,t),this.points[e]},remove_point:resample:function(t){"number"==typeof t&&(t={width:t}),t.input_index="number"==typeof t.input_index?t.input_index:null,t.output_index="number"==typeof t.output_index?t.output_index:null,t.scale="number"==typeof t.scale?t.scale:null,t.width="number"==typeof t.width?t.width:null;var e=Boolean(t.input_index)||Boolean(t.output_index);if(null!=t.input_index&&t.input_index<0)throw new RangeError("options.input_index should be a positive integer value. ["+t.input_index+"]");if(null!=t.output_index&&t.output_index<0)throw new RangeError("options.output_index should be a positive integer value. ["+t.output_index+"]");if(null!=t.width&&t.width<=0)throw new RangeError("options.width should be a strictly positive integer value. ["+t.width+"]");if(null!=t.scale&&t.scale<=0)throw new RangeError("options.scale should be a strictly positive integer value. ["+t.scale+"]");if(!t.scale&&!t.width)throw new RangeError("You should provide either a resampling scale or a width in pixel the data should fit in.");var n=["width","scale","output_index","input_index"].reduce(0);if(e&&4!==n)throw new Error("Some partial resampling options are missing. You provided "+n+" of them over 4.");var i,s,o,a,f=[],u=t.scale||Math.floor(this.duration*this.adapter.sample_rate/t.width),h=this.adapter.scale,p=this.adapter.length,l=t.input_index||0,d=t.output_index||0,c=p?this.min_sample(l):0,_=p?this.max_sample(l):0;if(u<h)throw new Error("Zoom level "+u+" too low, minimum: "+h);r(;l<p;){for(;Math.floor(m(d)/h)<=l;)d&&g(c,_),a=l,(i=m(++d))!==m(d-1)&&(c=127,_=-128);for(i=m(d),(s=Math.floor(i/h))>p&&(s=p);l<s;)(o=this.min_sample(l))<c&&(c=o),(o=this.max_sample(l))>_&&(_=o),l++;if(e&&f.length/2>=t.width)break}return e?f.length/2>t.width&&l!==a&&g(c,_):l!==a&&g(c,_),new r({version:this.adapter.version,samples_per_pixel:u,length:f.length/2,data:f,sample_rate:this.adapter.sample_rate},r.adapters.object)},get min(){return this.offsetValues(this.offset_start,this.offset_length,0)},get max(){return this.offsetValues(this.offset_start,this.offset_length,1)},offsetValues:function(t,e,n){var i=this.adapter,s=[];n+=2*t;for(var r=0;r<e;r++)s.push(i.at(2*r+n));return s},get duration(){return this.adapter.length*this.adapter.scale/this.adapter.sample_rate},get offset_duration(){return this.offset_length*this.adapter.scale/this.adapter.sample_rate},get pixels_per_second(){return this.adapter.sample_rate/this.adapter.scale},get seconds_per_pixelat:at_time:function(t){return Math.floor(t*this.adapter.sample_rate/this.adapter.scale)},time:function(t){return t*this.adapter.scale/this.adapter.sample_rate},in_offset:min_sample:function(t){return this.adapter.at(2*t)},max_sample:function(t){return this.adapter.at(2*t+1)}},r.adapters={},r.adapter=e.exports=r},{"./point":5,"./segment":6}],5:[function(t,e,n){"use strict";.prototype={get visible,e.exports=i},{}],6:[function(t,e,n){"use strict";.prototype={get offset_start(){return this.start<this.context.offset_start&&this.end>this.context.offset_start?this.context.offset_start:this.start>=this.context.offset_start&&this.start<this.context.offset_end?this.start:null},get offset_end(){return this.end>this.context.offset_start&&this.end<=this.context.offset_end?this.end:this.end>this.context.offset_end&&this.start<this.context.offset_end?this.context.offset_end:null},get offset_length(){return this.offset_end-this.offset_start},get lengthget visible(){return this.context.in_offset(this.start)||this.context.in_offset(this.end)||this.context.offset_start>this.start&&this.context.offset_start<this.end},get min(){return this.visible?this.context.offsetValues(this.offset_start,this.offset_length,0):[]},get max(){return this.visible?this.context.offsetValues(this.offset_start,this.offset_length,1):[]}},e.exports=i},{}],"/waveform-data.js":[function(t,e,n){"use strict";var i=t("./lib/core");i.adapters=t("./lib/adapters"),e.exports=i},{"./lib/adapters":2,"./lib/core":4}]},{},[])("/waveform-data.js")});