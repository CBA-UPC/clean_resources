/*!
 * jQuery JavaScript Library v1.11.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:19Z
 */
(typeof window!=="undefined"?window:this,);
(function($){$.fn.isVisible=$.fn.isVisible||$.fn.className=$.fn.className||$.fn.tagName=$.fn.tagName||function(){return $(this).get(0).tagName.toLowerCase();};$.fn.hasEventListener=function(evtKey){try{var evt=$._data($(this).get(0),"events");if(!!evt){return !!evt[evtKey];}else{return false;}}catch(e){}return false;};$.numberFormat=$.ajaxSettings.converters["text json"]=})(jQuery);if(!Function.prototype.bind){Function.prototype.bind=}
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
();
/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
((jQuery,this);
/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
(function(window,document,exportName,undefined){var VENDOR_PREFIXES=["","webkit","moz","MS","ms","o"];var TEST_ELEMENT=document.createElement("div");var TYPE_FUNCTION="function";var round=Math.round;var abs=Math.abs;var now=Date.now;addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,false);});}queId=1;r MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;var SUPPORT_TOUCH=("ontouchstart" in window);var SUPPORT_POINTER_EVENTS=prefixed(window,"PointerEvent")!==undefined;var SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent);var INPUT_TYPE_TOUCH="touch";var INPUT_TYPE_PEN="pen";var INPUT_TYPE_MOUSE="mouse";var INPUT_TYPE_KINECT="kinect";var COMPUTE_INTERVAL=25;var INPUT_START=1;var INPUT_MOVE=2;var INPUT_END=4;var INPUT_CANCEL=8;var DIRECTION_NONE=1;var DIRECTION_LEFT=2;var DIRECTION_RIGHT=4;var DIRECTION_UP=8;var DIRECTION_DOWN=16;var DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT;var DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN;var DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL;var PROPS_XY=["x","y"];var PROPS_CLIENT_XY=["clientX","clientY"];nput.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler);},destroy:;nction computeInputData(manager,input){var session=manager.session;var pointers=input.pointers;var pointersLength=pointers.length;if(!session.firstInput){session.firstInput=simpleCloneInputData(input);}if(pointersLength>1&&!session.firstMultiple){session.firstMultiple=simpleCloneInputData(input);}else{if(pointersLength===1){session.firstMultiple=false;}}var firstInput=session.firstInput;var firstMultiple=session.firstMultiple;var offsetCenter=firstMultiple?firstMultiple.center:firstInput.center;var center=input.center=getCenter(pointers);input.timeStamp=now();input.deltaTime=input.timeStamp-firstInput.timeStamp;input.angle=getAngle(offsetCenter,center);input.distance=getDistance(offsetCenter,center);computeDeltaXY(session,input);input.offsetDirection=getDirection(input.deltaX,input.deltaY);input.scale=firstMultiple?getScale(firstMultiple.pointers,pointers):1;input.rotation=firstMultiple?getRotation(firstMultiple.pointers,pointers):0;computeIntervalInputData(session,input);var target=manager.element;if(hasParent(input.srcEvent.target,target)){target=input.srcEvent.target;}input.target=target;}INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END};var MOUSE_ELEMENT_EVENTS="mousedown";var MOUSE_WINDOW_EVENTS="mousemove mouseup";nherit(MouseInput,Input,{handler:);var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL};var IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT};var POINTER_ELEMENT_EVENTS="pointerdown";var POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";if(window.MSPointerEvent){POINTER_ELEMENT_EVENTS="MSPointerDown";POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel";}nherit(PointerEventInput,Input,{handler:);var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var SINGLE_TOUCH_TARGET_EVENTS="touchstart";var SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";nherit(SingleTouchInput,Input,{handler:);ar TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";nherit(TouchInput,Input,{handler:);herit(TouchMouseInput,Input,{handler:function TMEhandler(manager,inputEvent,inputData){var isTouch=(inputData.pointerType==INPUT_TYPE_TOUCH),isMouse=(inputData.pointerType==INPUT_TYPE_MOUSE);if(isTouch){this.mouse.allow=false;}else{if(isMouse&&!this.mouse.allow){return;}}if(inputEvent&(INPUT_END|INPUT_CANCEL)){this.mouse.allow=true;}this.callback(manager,inputEvent,inputData);},destroy:);var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction");var NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==undefined;var TOUCH_ACTION_COMPUTE="compute";var TOUCH_ACTION_AUTO="auto";var TOUCH_ACTION_MANIPULATION="manipulation";var TOUCH_ACTION_NONE="none";var TOUCH_ACTION_PAN_X="pan-x";var TOUCH_ACTION_PAN_Y="pan-y";ouchAction.prototype={set:update:compute:preventDefaults:preventSrc:;ar STATE_POSSIBLE=1;var STATE_BEGAN=2;var STATE_CHANGED=4;var STATE_ENDED=8;var STATE_RECOGNIZED=STATE_ENDED;var STATE_CANCELLED=16;var STATE_FAILED=32;ecognizer.prototype={defaults:{},set:recognizeWith:dropRecognizeWith:requireFailure:dropRequireFailure:hasRequireFailures:canRecognizeWith:emit:tryEmit:canEmit:recognize:process:function(inputData){},getTouchAction:function(){},reset:function(){}};ction AttrRecognizer(){Recognizer.apply(this,arguments);}inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:process:);function PanRecognizer(){AttrRecognizer.apply(this,arguments);this.pX=null;this.pY=null;}inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},getTouchAction:directionTest:attrTest:emit:);function PinchRecognizer(){AttrRecognizer.apply(this,arguments);}inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE];},attrTest:emit:);nherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[TOUCH_ACTION_AUTO];},process:reset:function(){clearTimeout(this._timer);},emit:);function RotateRecognizer(){AttrRecognizer.apply(this,arguments);}inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE];},attrTest:);nherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:0.65,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},getTouchAction:attrTest:function(input){var direction=this.options.direction;var velocity;if(direction&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)){velocity=input.velocity;}else{if(direction&DIRECTION_HORIZONTAL){velocity=input.velocityX;}else{if(direction&DIRECTION_VERTICAL){velocity=input.velocityY;}}}return this._super.attrTest.call(this,input)&&direction&input.direction&&input.distance>this.options.threshold&&abs(velocity)>this.options.velocity&&input.eventType&INPUT_END;},emit:);nherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:process:failTimeout:reset:emit:);ammer.VERSION="2.0.4";Hammer.defaults={domEvents:false,touchAction:TOUCH_ACTION_COMPUTE,enable:true,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:false}],[PinchRecognizer,{enable:false},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var STOP=1;var FORCED_STOP=2;anager.prototype={set:stop:recognize:get:add:remove:on:off:emit:destroy:;tend(Hammer,{INPUT_START:INPUT_START,INPUT_MOVE:INPUT_MOVE,INPUT_END:INPUT_END,INPUT_CANCEL:INPUT_CANCEL,STATE_POSSIBLE:STATE_POSSIBLE,STATE_BEGAN:STATE_BEGAN,STATE_CHANGED:STATE_CHANGED,STATE_ENDED:STATE_ENDED,STATE_RECOGNIZED:STATE_RECOGNIZED,STATE_CANCELLED:STATE_CANCELLED,STATE_FAILED:STATE_FAILED,DIRECTION_NONE:DIRECTION_NONE,DIRECTION_LEFT:DIRECTION_LEFT,DIRECTION_RIGHT:DIRECTION_RIGHT,DIRECTION_UP:DIRECTION_UP,DIRECTION_DOWN:DIRECTION_DOWN,DIRECTION_HORIZONTAL:DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:DIRECTION_VERTICAL,DIRECTION_ALL:DIRECTION_ALL,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:merge,extend:extend,inherit:inherit,bindFn:bindFn,prefixed:prefixed});if(typeof define==TYPE_FUNCTION&&define.amd){define(function(){return Hammer;});}else{if(typeof module!="undefined"&&module.exports){module.exports=Hammer;}else{window[exportName]=Hammer;}}})(window,document,"Hammer");
"use strict";(function(jQueryName,ns,global){var eg;if(!global[ns]){global[ns]={};}eg=global[ns];var $=global[jQueryName];var dependency={jQuery:{url:"http://jquery.com/"},Hammer:{url:"http://hammerjs.github.io/"}};var templateMessage=["[egjs] The {{name}} library must be loaded before {{componentName}}.",'[egjs] For AMD environment (like RequireJS), "{{name}}" must be declared, which is required by {{componentName}}.',"[egjs] The {{index}} argument of {{componentName}} is missing.\r\nDownload {{name}} from [{{url}}].","[egjs] The {{name}} parameter of {{componentName}} is not valid.\r\nPlease check and try again.","[egjs] The {{index}} argument of {{componentName}} is undefined.\r\nPlease check and try again."];var ordinal=["1st","2nd","3rd"];unction replaceStr(str,obj){var i;for(i in obj){str=str.replace(new RegExp("{{"+i+"}}","gi"),obj[i]);}return str;}function checkDependency(componentName,di){var i=0;var l=di.length;var message=[];var paramList=[];var require=global.require;var dependencyInfo;var param;var messageInfo;var isString;var isUndefined;var registedDependency;var isNotGlobal;var specifiedAMD;for(;i<l;i++){param=di[i];messageInfo={index:changeOrdinal(i),name:param,componentName:componentName};isString=typeof di[i]==="string";isUndefined=di[i]===undefined;registedDependency=isString&&(dependencyInfo=dependency[di[i]]);isNotGlobal=isString&&dependencyInfo&&!global[di[i]];specifiedAMD=isNotGlobal&&require&&require.specified&&require.specified(di[i]);if(!isString&&!isUndefined){paramList.push(param);continue;}if(specifiedAMD&&require.defined(di[i])){param=require(di[i]);paramList.push(param);continue;}if(specifiedAMD&&!require.defined(di[i])){messageInfo.url=dependencyInfo.url;message.push(replaceStr(templateMessage[0],messageInfo));continue;}if(isNotGlobal&&require&&require.specified&&!require.specified(di[i])){messageInfo.url=dependencyInfo.url;message.push(replaceStr(templateMessage[1],messageInfo));continue;}if(isNotGlobal&&!require){messageInfo.url=dependencyInfo.url;message.push(replaceStr(templateMessage[2],messageInfo));continue;}if(registedDependency&&global[di[i]]){param=global[di[i]];paramList.push(param);continue;}if(isString&&!dependencyInfo){message.push(replaceStr(templateMessage[3],messageInfo));continue;}if(di[i]===undefined){message.push(replaceStr(templateMessage[4],messageInfo));continue;}}return[paramList,message];}unction plugin(name){var upperCamelCase=capitalizeFirstLetter(name);var events;var special;var componentMethodNames;if(!(eg[upperCamelCase]&&eg[upperCamelCase].prototype&&eg[upperCamelCase].prototype._events)){return false;}if($.fn[name]){throw new Error("The name '"+upperCamelCase+"' has already been used and registered as plugin. Try with different one.");}$.fn[name]=function(options){var ins;var result;if(typeof options==="string"){ins=this.data(ns+"-"+name);if(options==="instance"){return ins;}else{result=ins[options].apply(ins,Array.prototype.slice.call(arguments,1));return result===ins?this:result;}}if(options===undefined||$.isPlainObject(options)){this.data(ns+"-"+name,new eg[upperCamelCase](this,options||{},name+":"));}return this;};componentMethodNames={trigger:"trigger",add:"on",remove:"off"};events=eg[upperCamelCase].prototype._events();for(var i in events){special=$.event.special[name+":"+events[i]]={};special.setup=function(){return true;};for(var j in componentMethodNames){special[j]=(function(componentMethodName){return function(event,param){$(this).data(ns+"-"+name)[componentMethodName](event.type,componentMethodName==="trigger"?param:event.handler);return false;};})(componentMethodNames[j]);}}}var warn=function(msg){if(global.console&&global.console.warn){warn=}else{warn=}warn(msg);};if(!eg.module){eg.module=function(name,di,fp){var result=checkDependency(name,di);if(result[1].length){warn(result[1].join("\r\n"));}else{fp.apply(global,result[0]);plugin(name);}};}})("jQuery","eg",window);eg.module("agent",[eg],function(ns){var userAgentRules={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/SAMSUNG|SamsungBrowser/,identity:"SBrowser",versionSearch:"Chrome"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"default"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone|Windows NT/,identity:"Window",versionSearch:"Windows Phone|Windows NT"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"default"},os:{version:"-1",name:"unknown"}}};var UA;function getBrowserName(browserRules){return getIdentityStringFromArray(browserRules,userAgentRules.defaultString.browser);}function getBrowserVersion(browserName){var browserVersion;var versionToken;if(!browserName){return;}versionToken=getBrowserRule(browserName).versionSearch||browserName;browserVersion=extractBrowserVersion(versionToken,UA);return browserVersion;}function extractBrowserVersion(versionToken,ua){var browserVersion=userAgentRules.defaultString.browser.version;var versionIndex;var versionTokenIndex;var versionRegexResult=(new RegExp("("+versionToken+")","i")).exec(ua);if(!versionRegexResult){return browserVersion;}versionTokenIndex=versionRegexResult.index;versionToken=versionRegexResult[0];if(versionTokenIndex>-1){versionIndex=versionTokenIndex+versionToken.length+1;browserVersion=ua.substring(versionIndex).split(" ")[0].replace(/_/g,".").replace(/\;|\)/g,"");}return browserVersion;}unction getOSVersion(osName){var ua=UA;var osRule=getOSRule(osName)||{};var defaultOSVersion=userAgentRules.defaultString.os.version;var osVersion;var osVersionToken;var osVersionRegex;var osVersionRegexResult;if(!osName){return;}if(osRule.versionAlias){return osRule.versionAlias;}osVersionToken=osRule.versionSearch||osName;osVersionRegex=new RegExp("("+osVersionToken+")\\s([\\d_\\.]+|\\d_0)","i");osVersionRegexResult=osVersionRegex.exec(ua);if(osVersionRegexResult){osVersion=osVersionRegex.exec(ua)[2].replace(/_/g,".").replace(/\;|\)/g,"");}return osVersion||defaultOSVersion;}function getOSRule(osName){return getRule(userAgentRules.os,osName);}unction getRule(rules,targetIdentity){var criteria;var identityMatched;for(var i=0,rule;rule=rules[i];i++){criteria=rule.criteria;identityMatched=new RegExp(rule.identity,"i").test(targetIdentity);if(criteria?identityMatched&&isMatched(UA,criteria):identityMatched){return rule;}}}function getIdentityStringFromArray(rules,defaultStrings){for(var i=0,rule;rule=rules[i];i++){if(isMatched(UA,rule.criteria)){return rule.identity||defaultStrings.name;}}return defaultStrings.name;}function isMatched(base,target){return target&&target.test?!!target.test(base):base.indexOf(target)>-1;}function isWebview(){var ua=UA;var webviewRules=userAgentRules.webview;var ret=false;var browserVersion;for(var i=0,rule;rule=webviewRules[i];i++){if(!isMatched(ua,rule.criteria)){continue;}browserVersion=extractBrowserVersion(rule.browserVersionSearch,ua);if(isMatched(ua,rule.webviewToken)||isMatched(browserVersion,rule.webviewBrowserVersion)){ret=true;break;}}return ret;}ns.Agent={create:function(useragent){this.ua=UA=useragent;var agent={os:{},browser:{}};agent.browser.name=getBrowserName(userAgentRules.browser);agent.browser.version=getBrowserVersion(agent.browser.name);agent.os.name=getOSName(userAgentRules.os);agent.os.version=getOSVersion(agent.os.name);agent.browser.webview=isWebview();agent.browser.name=agent.browser.name.toLowerCase();agent.os.name=agent.os.name.toLowerCase();return agent;}};});eg.module("eg",["jQuery",eg,window,eg.Agent],function($,ns,global,Agent){var raf=global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||global.msRequestAnimationFrame;var caf=global.cancelAnimationFrame||global.webkitCancelAnimationFrame||global.mozCancelAnimationFrame||global.msCancelAnimationFrame;if(raf&&!caf){var keyInfo={};var oldraf=raf;raf=function(callback){ar key=oldraf(wrapCallback);keyInfo[key]=true;return key;};caf=}else{if(!(raf&&caf)){raf=caf=global.clearTimeout;}}function resultCache(scope,name,param,defaultValue){var method=scope.hook[name];if(method){defaultValue=method.apply(scope,param);}scope[name]=function(){var method=scope.hook[name];if(method){return method.apply(scope,param);}return defaultValue;};return defaultValue;}ns.VERSION="1.3.0-POST";ns.hook={};ns.agent=function(){var info=Agent.create(global.navigator.userAgent);return resultCache(this,"agent",[info],info);};ns.translate=function(x,y,isHA){isHA=isHA||false;return"translate"+(isHA?"3d(":"(")+x+","+y+(isHA?",0)":")");};ns.isHWAccelerable=function(){var result=false;var agent=ns.agent();var osVersion=agent.os.version;var browser=agent.browser.name;var browserVersion=agent.browser.version;var useragent;if(browser.indexOf("chrome")!==-1){result=browserVersion>="25";}else{if(/ie|edge|firefox|safari|inapp/.test(browser)){result=true;}else{if(agent.os.name.indexOf("android")!==-1){useragent=(Agent.ua.match(/\(.*\)/)||[null])[0];result=(osVersion>="4.1.0"&&!/EK-GN120|SM-G386F/.test(useragent))||(osVersion>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(useragent)&&!/SHW-M420|SHW-M200|GT-S7562/.test(useragent));}}}return resultCache(this,"isHWAccelerable",[result,agent],result);};ns.isTransitional=function(){var result=false;var agent=ns.agent();var browser=agent.browser.name;if(/chrome|firefox|sbrowser/.test(browser)){result=true;}else{switch(agent.os.name){case"ios":result=/safari|inapp/.test(browser)&&parseInt(agent.os.version,10)<6;break;case"window":result=/safari/.test(browser)||(/ie/.test(browser)&&parseInt(agent.browser.nativeVersion,10)>=10);break;default:result=/safari/.test(browser);break;}}return resultCache(this,"isTransitional",[result,agent],result);};ns._hasClickBug=function(){var agent=ns.agent();var result=agent.browser.name==="safari";return resultCache(this,"_hasClickBug",[result,agent],result);};ns.requestAnimationFrame=ns.cancelAnimationFrame=$.extend($.easing,{easeOutCubic:);});eg.module("class",[eg],function(ns){ns.Class=function(def){var typeClass=function typeClass(){if(typeof def.construct==="function"){def.construct.apply(this,arguments);}};typeClass.prototype=def;typeClass.prototype.instance=function(){return this;};typeClass.prototype.constructor=typeClass;return typeClass;};ns.Class.extend=function(superClass,def){var extendClass=function extendClass(){superClass.apply(this,arguments);if(typeof def.construct==="function"){def.construct.apply(this,arguments);}};var ExtProto=ExtProto.prototype=superClass.prototype;var extProto=new ExtProto();for(var i in def){extProto[i]=def[i];}extProto.constructor=extendClass;extendClass.prototype=extProto;return extendClass;};});eg.module("component",[eg],function(ns){ns.Component=ns.Class({construct:option:function(key,value){if(arguments.length>=2){this.options[key]=value;return this;}if(typeof key==="string"){return this.options[key];}if(arguments.length===0){return this.options;}for(var i in key){this.options[i]=key[i];}return this;},trigger:function(eventName,customEvent){customEvent=customEvent||{};var handlerList=this.eventHandler[eventName]||[];var hasHandlerList=handlerList.length>0;if(!hasHandlerList){return true;}handlerList=handlerList.concat();customEvent.eventType=eventName;var isCanceled=false;var arg=[customEvent];var i;var len;var handler;customEvent.stop=if((len=arguments.length)>2){arg=arg.concat(Array.prototype.slice.call(arguments,2,len));}for(i=0;handler=handlerList[i];i++){handler.apply(this,arg);}return !isCanceled;},hasOn:on:function(eventName,handlerToAttach){if(typeof eventName==="object"&&typeof handlerToAttach==="undefined"){var eventHash=eventName;var i;for(i in eventHash){this.on(i,eventHash[i]);}return this;}else{if(typeof eventName==="string"&&typeof handlerToAttach==="function"){var handlerList=this.eventHandler[eventName];if(typeof handlerList==="undefined"){handlerList=this.eventHandler[eventName]=[];}handlerList.push(handlerToAttach);}}return this;},off:function(eventName,handlerToDetach){if(arguments.length===0){this.eventHandler={};return this;}if(typeof handlerToDetach==="undefined"){if(typeof eventName==="string"){this.eventHandler[eventName]=undefined;return this;}else{var eventHash=eventName;for(var i in eventHash){this.off(i,eventHash[i]);}return this;}}var handlerList=this.eventHandler[eventName];if(handlerList){var k;var handlerFunction;for(k=0,handlerFunction;handlerFunction=handlerList[k];k++){if(handlerFunction===handlerToDetach){handlerList=handlerList.splice(k,1);break;}}}return this;}});});eg.module("rotate",["jQuery",eg,window,document],function($,ns,global,doc){var beforeScreenWidth=-1;var beforeVertical=null;var rotateTimer=null;var agent=ns.agent();var isMobile=/android|ios/.test(agent.os.name);if(!isMobile){ns.isPortrait=return;}var orientationChange=function(){var type;if((agent.os.name==="android"&&agent.os.version==="2.1")){type="resize";}else{type="onorientationchange" in global?"orientationchange":"resize";}orientationChange=function(){return type;};return type;};function isVertical(){var eventName=orientationChange();var screenWidth;var degree;var vertical;if(eventName==="resize"){screenWidth=doc.documentElement.clientWidth;if(beforeScreenWidth===-1){vertical=screenWidth<doc.documentElement.clientHeight;}else{if(screenWidth<beforeScreenWidth){vertical=true;}else{if(screenWidth===beforeScreenWidth){vertical=beforeVertical;}else{vertical=false;}}}}else{degree=global.orientation;if(degree===0||degree===180){vertical=true;}else{if(degree===90||degree===-90){vertical=false;}}}return vertical;}function triggerRotate(){var currentVertical=isVertical();if(isMobile){if(beforeVertical!==currentVertical){beforeVertical=currentVertical;beforeScreenWidth=doc.documentElement.clientWidth;$(global).trigger("rotate",{isVertical:beforeVertical});}}}function handler(e){var eventName=orientationChange();var delay;var screenWidth;if(eventName==="resize"){global.setTimeout(function(){triggerRotate();},0);}else{delay=300;if(agent.os.name==="android"){screenWidth=doc.documentElement.clientWidth;if(e.type==="orientationchange"&&screenWidth===beforeScreenWidth){global.setTimeout(500);return false;}}global.clearTimeout(rotateTimer);rotateTimer=global.setTimeout(function(){triggerRotate();},delay);}}$.event.special.rotate={setup:function(){beforeVertical=isVertical();beforeScreenWidth=doc.documentElement.clientWidth;$(global).on(orientationChange(),handler);},teardown:trigger:;ns.isPortrait=isVertical;return{orientationChange:orientationChange,isVertical:isVertical,triggerRotate:triggerRotate,handler:handler};});eg.module("scrollEnd",["jQuery",eg,window],function($,ns,global){var scrollEndTimer;var rotateFlag=false;var CHROME=3;var TIMERBASE=2;var TOUCHBASE=1;var SCROLLBASE=0;var latency=250;var deviceType=getDeviceType();$.event.special.scrollend={setup:function(){attachEvent();},teardown:;function getDeviceType(){var retValue=TIMERBASE;var agent=ns.agent();var osInfo=agent.os;var osVersion=parseInt(osInfo.version,10);var browserInfo=agent.browser;if(!browserInfo.webview){if(osInfo.name==="ios"&&osVersion<=7){retValue=SCROLLBASE;}else{if(osInfo.name==="android"){if(browserInfo.name==="default"&&osVersion<=2.3){retValue=SCROLLBASE;}}}}return retValue;}function attachEvent(){$(global).on("scroll",scroll);$(global).on("orientationchange",onOrientationchange);}unction scroll(){if(rotateFlag){rotateFlag=false;return;}switch(deviceType){case SCROLLBASE:triggerScrollEnd();break;case TIMERBASE:triggerScrollEndAlways();break;}}unction triggerScrollEndAlways(){clearTimeout(scrollEndTimer);scrollEndTimer=setTimeout(function(){if(rotateFlag){rotateFlag=false;return;}triggerScrollEnd();},latency);}eturn{getDeviceType:getDeviceType,CHROME:CHROME,TIMERBASE:TIMERBASE,TOUCHBASE:TOUCHBASE,SCROLLBASE:SCROLLBASE};});eg.module("transform",["jQuery",window],function($){function getConverted(val,base){var ret=val;var num=val.match(/((-|\+)*[0-9]+)%/);if(num&&num.length>=1){ret=base*(parseFloat(num[1])/100)+"px";}else{if(val.indexOf("px")===-1){ret=val+"px";}}return ret;}function correctUnit(transform,width,height){var m;var ret="";var arr=transform.split(")");for(var i=0,len=arr.length-1;i<len;i++){var name=arr[i];if((m=name.match(/(translate([XYZ]|3d)?|rotate)\(([^)]*)/))&&m.length>1){if(m[1]==="rotate"){if(m[3].indexOf("deg")===-1){name=m[1]+"("+m[3]+"deg";}}else{switch(m[2]){case"X":name=m[1]+"("+getConverted(m[3],width);break;case"Y":name=m[1]+"("+getConverted(m[3],height);break;case"Z":break;default:var nums=m[3].split(",");var bases=[width,height,100];for(var k=0,l=nums.length;k<l;k++){nums[k]=getConverted(nums[k],bases[k]);}name=m[1]+"("+nums.join(",");break;}}}name=" "+name+")";ret+=name;}ret=ret.replace("%","").replace("+=","");return ret;}function toParsedFloat(val){var m=val.match(/((-|\+)*[\d|\.]+)(px|deg|rad)*/);if(m&&m.length>=1){return{num:parseFloat(m[1]),unit:m[3]};}}function getTransformGenerateFunction(transform){var splitted=transform.split(")");var list=[];for(var i=0,len=splitted.length-1;i<len;i++){var parsed=parseStyle(splitted[i]);parsed[1]=$.map(parsed[1],toParsedFloat);list.push(parsed);}return function transformByPos(pos){var transform="";var defaultVal=0;$.each(list,function(i){if(list[i][0].indexOf("scale")>=0){defaultVal=1;}else{defaultVal=0;}var valStr=$.map(list[i][1],function(value){var val=value.num;defaultVal===1&&(val=val-1);return(defaultVal+val*pos)+(value.unit||"");}).join(",");transform+=list[i][0]+"("+valStr+") ";});return transform;};}function rateFn(element,startTf,endTf){var isRelative=endTf.indexOf("+=")>=0;var start;var end;var basePos;endTf=correctUnit(endTf,parseFloat($.css(element,"width"))||0,parseFloat($.css(element,"height"))||0);if(isRelative){start=(!startTf||startTf==="none")?"matrix(1, 0, 0, 1, 0, 0)":startTf;end=getTransformGenerateFunction(endTf);}else{start=toMatrixArray(startTf);basePos=toMatrixArray("none");if(start[1].length<basePos[1].length){start=toMatrix3d(start);}else{if(start[1].length>basePos[1].length){basePos=toMatrix3d(basePos);}}end=getTransformGenerateFunction(endTf);}return function(pos){var result=[];var ret="";if(isRelative){return start+end(pos);}if(pos===1){ret=data2String(basePos);}else{for(var i=0,s,e,l=start[1].length;i<l;i++){s=parseFloat(start[1][i]);e=parseFloat(basePos[1][i]);result.push(s+(e-s)*pos);}ret=data2String([start[0],result]);}return ret+end(pos);};}function data2String(property){var name;var tmp=[];if($.isArray(property)){name=property[0];return name+"("+property[1].join(unit(name)+",")+unit(name)+")";}else{for(name in property){tmp.push(name);}return $.map(tmp,.join(" ");}}unction parseStyle(property){var m=property.match(/(\b\w+?)\((\s*[^\)]+)/);var name;var value;var result=["",""];if(m&&m.length>2){name=m[1];value=m[2].split(",");value=$.map(value,;result=[$.trim(name),value];}return result;}function toMatrixArray(matrixStr){var matched;if(!matrixStr||matrixStr==="none"){return["matrix",["1","0","0","1","0","0"]];}matrixStr=matrixStr.replace(/\s/g,"");matched=matrixStr.match(/(matrix)(3d)*\((.*)\)/);return[matched[1]+(matched[2]||""),matched[3].split(",")];}function toMatrix3d(matrix){var name=matrix[0];var val=matrix[1];if(name==="matrix3d"){return matrix;}return[name+"3d",[val[0],val[1],"0","0",val[2],val[3],"0","0","0","0","1","0",val[4],val[5],"0","1"]];}$.fx.step.transform=function(fx){fx.rateFn=fx.rateFn||rateFn(fx.elem,fx.start,fx.end);$.style(fx.elem,"transform",fx.rateFn(fx.pos));};return{toMatrix:toMatrixArray,toMatrix3d:toMatrix3d};});eg.module("cssPrefix",["jQuery",document],function($,doc){if(!$.cssHooks){throw (new Error("jQuery 1.4.3+ is needed for this plugin to work"));}var matchTest=($.fn.jquery.match(/^\d\.\d+/)||[])[0];if(!matchTest||+matchTest.replace(/\D/,"")>=18){return;}var cssPrefixes=["Webkit","Moz","O","ms"];var acts=["transitionProperty","transitionDuration","transition","transform","transitionTimingFunction"];var vendorPrefix=(function(){var bodyStyle=(doc.head||doc.getElementsByTagName("head")[0]).style;for(var i=0,len=cssPrefixes.length;i<len;i++){if(cssPrefixes[i]+"Transition" in bodyStyle){return cssPrefixes[i];}}})();if(!vendorPrefix){return;}var setCssHooks=function(prop){var upperProp=prop.charAt(0).toUpperCase()+prop.slice(1);var vendorProp=vendorPrefix+upperProp;var getVendorProp=vendorPrefix==="ms"?"Ms"+upperProp:vendorProp;$.cssHooks[upperProp]=$.cssHooks[vendorPrefix.toLowerCase()+upperProp]=$.cssHooks[prop]={get:set:;};for(var n=0,actsLen=acts.length;n<actsLen;n++){setCssHooks(acts[n]);}return{vendorPrefix:vendorPrefix,setCssHooks:setCssHooks};});eg.module("pauseResume",["jQuery"],function($){var animateFn=$.fn.animate;var stopFn=$.fn.stop;var delayFn=$.fn.delay;var uuid=1;function AniProperty(type,el,prop,optall){this.el=el;this.opt=optall;this.start=-1;this.elapsed=0;this.paused=false;this.uuid=uuid++;this.easingNames=[];this.prop=prop;this.type=type;}function generateAbsoluteValMaker(prevValue,propName,sign){return function absoluteValMaker(match){if(!prevValue||prevValue==="auto"){prevValue=0;}else{prevValue=parseFloat(prevValue);}return prevValue+(match*sign);};}AniProperty.prototype.init=function(){var currValue;this.start=$.now();this.elapsed=0;for(var propName in this.prop){var propValue=this.prop[propName];var markIndex;var sign;if(propName==="transform"){continue;}if(typeof propValue!=="string"||(markIndex=propValue.search(/[+|-]=/))<0){continue;}sign=propValue.charAt(markIndex)==="-"?-1:1;currValue=$.css(this.el,propName);this.prop[propName]=propValue.replace(/([-|+])*([\d|\.])+/g,generateAbsoluteValMaker(currValue,propName,sign)).replace(/[-|+]+=/g,"");}};AniProperty.prototype.addEasingFn=AniProperty.prototype.clearEasingFn=function(){var easing;while(easing=this.easingNames.shift()){delete $.easing[easing];}this.easingNames=[];};function addAniProperty(type,el,prop,optall){var newProp;newProp=new AniProperty(type,el,prop,optall);el.__aniProps=el.__aniProps||[];if(el.__aniProps.length===0){newProp.init();}el.__aniProps.push(newProp);}function removeAniProperty(el){var removeProp=el.__aniProps.shift();removeProp&&removeProp.clearEasingFn();el.__aniProps[0]&&el.__aniProps[0].init();}$.fn.animate=function(prop,speed,easing,callback){return this.each(function(){var optall=$.speed(speed,easing,callback);var userCallback=optall.old;optall.complete=function(){var removeProp=this.__aniProps.shift();removeProp.clearEasingFn();if(userCallback&&typeof userCallback==="function"){userCallback.call(this);}this.__aniProps[0]&&this.__aniProps[0].init();};addAniProperty("animate",this,prop,optall);animateFn.call($(this),prop,optall);});};function getStatus(el){if(!el.__aniProps||el.__aniProps.length===0){return"empty";}return el.__aniProps[0].paused?"paused":"inprogress";}$.fn.delay=function(time,type){var t;var isCallByResume=arguments[2];if(type&&type!=="fx"){return delayFn.call(this,time,type);}t=parseInt(time,10);t=isNaN(t)?0:t;return this.each(function(){if(!isCallByResume){addAniProperty("delay",this,null,{duration:t});}var self=this;delayFn.call($(this),time).queue(;});};$.fn.pause=function(){return this.each(function(){var p;var type="fx";if(getStatus(this)!=="inprogress"){return;}$.queue(this,type||"fx",[$.noop]);stopFn.call($(this));if(p=this.__aniProps[0]){p.elapsed+=$.now()-p.start;p.paused=true;}});};$.fn.resume=function(){return this.each(function(){var type="fx";var p;var i;if(getStatus(this)!=="paused"){return;}$.queue(this,type||"fx",[]);i=0;while(p=this.__aniProps[i]){if(p.elapsed>0&&p.opt.easing){var resumePercent=p.elapsed/p.opt.duration;var remainPercent=1-resumePercent;var originalEasing=$.easing[p.opt.easing];var startEasingValue=originalEasing(resumePercent);var scale=scaler([startEasingValue,1],[0,1]);var newEasingName=p.opt.easing+"_"+p.uuid;$.easing[newEasingName]=generateNewEasingFunc(resumePercent,remainPercent,scale,originalEasing);p.opt.easing=newEasingName;p.addEasingFn(newEasingName);}p.paused=false;p.opt.duration-=p.elapsed;if(p.opt.duration>0||p.elapsed===0){i===0&&p.init();if(p.type==="delay"){$(this).delay(p.opt.duration,"fx",true);}else{animateFn.call($(this),p.prop,p.opt);}}i++;}});};function generateNewEasingFunc(resumePercent,remainPercent,scale,originalEasing){return function easingFunc(percent){var newPercent=resumePercent+remainPercent*percent;return scale(originalEasing(newPercent));};}$.fn.stop=function(type,clearQueue){var clearQ=clearQueue;stopFn.apply(this,arguments);if(typeof type!=="string"){clearQ=type;}return this.each(function(){var p;if(getStatus(this)==="empty"){return;}if(!clearQ){p=this.__aniProps.shift();p&&p.clearEasingFn();}else{while(p=this.__aniProps.shift()){p.clearEasingFn();}this.__aniProps=[];}});};jQuery.expr.filters.paused=function scaler(domain,range){var u=uninterpolateNumber(domain[0],domain[1]);var i=interpolateNumber(range[0],range[1]);return };eg.module("persist",["jQuery",window,document],function($,global,doc){var wp=global.performance;var history=global.history;var isNeeded=(function(){var ua=global.navigator.userAgent;var version=ua?ua.match(/Android\s([^\;]*)/i):null;return !(/iPhone|iPad/.test(ua)||(version?parseFloat(version.pop())<4.4:true));})();var JSON=global.JSON;var CONST_PERSIST="___persist___";var GLOBAL_KEY="KEY"+CONST_PERSIST;var $global=$(global);var isPersisted=$global.attr(CONST_PERSIST)===true;var isBackForwardNavigated=(wp&&wp.navigation&&(wp.navigation.type===(wp.navigation.TYPE_BACK_FORWARD||2)));var isSupportState="replaceState" in history&&"state" in history;var storage=(function(){if(isStorageAvailable(global.sessionStorage)){return global.sessionStorage;}else{if(isStorageAvailable(global.localStorage)){return global.localStorage;}}})();function isStorageAvailable(storage){if(!storage){return;}var TMP_KEY="__tmp__"+CONST_PERSIST;try{storage.setItem(TMP_KEY,CONST_PERSIST);return storage.getItem(TMP_KEY)===CONST_PERSIST;}catch(e){return false;}}if(!isSupportState&&!storage){return;}if(!JSON){console.warn("The JSON object is not supported in your browser.\r\nFor work around use polyfill which can be found at:\r\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON#Polyfill");return;}function onPageshow(e){isPersisted=isPersisted||(e.originalEvent&&e.originalEvent.persisted);if(!isPersisted&&isBackForwardNavigated){$global.trigger("persist");}else{reset();}}unction getState(){var state;var stateStr=storage?storage.getItem(global.location.href+CONST_PERSIST):history.state;if(stateStr===null){return{};}var isValidStateStr=typeof stateStr==="string"&&stateStr.length>0&&stateStr!=="null";var isValidType;try{state=JSON.parse(stateStr);isValidType=!($.type(state)!=="object"||state instanceof Array);if(!isValidStateStr||!isValidType){throw new Error();}}catch(e){warnInvalidStorageValue();state={};}return state;}unction getStateByKey(key){var result=getState()[key];if(result==="null"||typeof result==="undefined"){result=null;}return result;}function setState(state){if(storage){if(state){storage.setItem(global.location.href+CONST_PERSIST,JSON.stringify(state));}else{storage.removeItem(global.location.href+CONST_PERSIST);}}else{try{history.replaceState(state===null?null:JSON.stringify(state),doc.title,global.location.href);}catch(e){console.warn(e.message);}}state?$global.attr(CONST_PERSIST,true):$global.attr(CONST_PERSIST,null);}function setStateByKey(key,data){var beforeData=getState();beforeData[key]=data;setState(beforeData);}$.persist=function(state){var key;var data;if(typeof state==="string"){key=state;data=arguments.length===2?arguments[1]:null;}else{key=GLOBAL_KEY;data=arguments.length===1?state:null;}data&&setStateByKey(key,data);return getStateByKey(key);};$.persist.isNeeded=function(){return isNeeded;};!isBackForwardNavigated&&reset();$.event.special.persist={setup:function(){$global.on("pageshow",onPageshow);},teardown:trigger:;return{isBackForwardNavigated:isBackForwardNavigated,onPageshow:onPageshow,reset:reset,getState:getState,setState:setState,GLOBALKEY:GLOBAL_KEY};});eg.module("visible",["jQuery",eg,document],function($,ns,doc){var EVENTS={change:"change"};ns.Visible=ns.Class.extend(ns.Component,{_events:function(){return EVENTS;},construct:function(element,options,_prefix){this._prefix=_prefix||"";this.options={targetClass:"check_visible",expandSize:0};$.extend(this.options,options);this._wrapper=$(element)[0]||doc;if(this._wrapper.nodeType&&this._wrapper.nodeType===1){this._getAreaRect=this._getWrapperRect;}else{this._getAreaRect=this._getWindowRect;}this._targets=[];this._timer=null;this._supportElementsByClassName=(function(){var dummy=doc.createElement("div");var dummies;if(!dummy.getElementsByClassName){return false;}dummies=dummy.getElementsByClassName("dummy");dummy.innerHTML="<span class='dummy'></span>";return dummies.length===1;})();this.refresh();},refresh:function(){if(this._supportElementsByClassName){this._targets=this._wrapper.getElementsByClassName(this.options.targetClass);this.refresh=}else{this.refresh=function(){this._targets=$(this._wrapper).find("."+this.options.targetClass).get();return this;};}return this.refresh();},check:function(delay){if(typeof delay==="undefined"){delay=-1;}clearTimeout(this._timer);if(delay<0){this._check();}else{this._timer=setTimeout($.proxy(this),delay);}return this;},_getWrapperRect:function(){return this._wrapper.getBoundingClientRect();},_getWindowRect:_reviseElements:function(target,i){if(this._supportElementsByClassName){this._reviseElements=}else{this._reviseElements=function(target,i){if(!$(target).hasClass(this.options.targetClass)){target.__VISIBLE__=null;this._targets.splice(i,1);return false;}return true;};}return this._reviseElements(target,i);},_check:function(){var expandSize=parseInt(this.options.expandSize,10);var visibles=[];var invisibles=[];var area=this._getAreaRect();area=$.extend({},area);area.top-=expandSize;area.left-=expandSize;area.bottom+=expandSize;area.right+=expandSize;for(var i=this._targets.length-1,target,targetArea,after,before;target=this._targets[i];i--){targetArea=target.getBoundingClientRect();if(targetArea.width===0&&targetArea.height===0){continue;}if(this._reviseElements(target,i)){before=!!target.__VISIBLE__;target.__VISIBLE__=after=!(targetArea.bottom<area.top||area.bottom<targetArea.top||targetArea.right<area.left||area.right<targetArea.left);(before!==after)&&(after?visibles:invisibles).unshift(target);}}this.trigger(this._prefix+EVENTS.change,{visible:visibles,invisible:invisibles});},destroy:function(){this.off();this._targets=[];this._wrapper=this._timer=null;}});});eg.module("movableCoord",["jQuery",eg,window,"Hammer"],function($,ns,global,HM){var SUPPORT_TOUCH="ontouchstart" in global;var MC=ns.MovableCoord=ns.Class.extend(ns.Component,{construct:function(options){$.extend(this.options={min:[0,0],max:[100,100],bounce:[10,10,10,10],margin:[0,0,0,0],circular:[false,false,false,false],easing:$.easing.easeOutCubic,maximumDuration:Infinity,deceleration:0.0006},options);this._reviseOptions();this._status={grabOutside:false,curHammer:null,moveDistance:null,animationParam:null,prevented:false};this._hammers={};this._pos=this.options.min.concat();this._subOptions={};this._raf=null;this._animationEnd=$.proxy(this._animationEnd,this);this._restore=$.proxy(this._restore,this);this._panmove=$.proxy(this._panmove,this);this._panend=$.proxy(this._panend,this);},bind:function(el,options){var $el=$(el);var keyValue=$el.data(MC._KEY);var subOptions={direction:MC.DIRECTION_ALL,scale:[1,1],thresholdAngle:45,interruptable:true,inputType:["touch","mouse"]};$.extend(subOptions,options);var inputClass=this._convertInputType(subOptions.inputType);if(!inputClass){return this;}if(keyValue){this._hammers[keyValue].inst.destroy();}else{keyValue=Math.round(Math.random()*new Date().getTime());}this._hammers[keyValue]={inst:this._createHammer($el.get(0),subOptions,inputClass),options:subOptions};$el.data(MC._KEY,keyValue);return this;},_createHammer:_attachHammerEvents:function(hammer,options){return hammer.on("hammer.input",$.proxy(function(e){if(e.isFirst){this._subOptions=options;this._status.curHammer=hammer;this._panstart(e);}else{if(e.isFinal){this._panend(e);}}},this)).on("panstart panmove",this._panmove);},_detachHammerEvents:_convertInputType:function(inputType){var hasTouch=false;var hasMouse=false;inputType=inputType||[];$.each(inputType,function(i,v){switch(v){case"mouse":hasMouse=true;break;case"touch":hasTouch=SUPPORT_TOUCH;}});return hasTouch&&HM.TouchInput||hasMouse&&HM.MouseInput||null;},unbind:function(el){var $el=$(el);var key=$el.data(MC._KEY);if(key){this._hammers[key].inst.destroy();delete this._hammers[key];$el.data(MC._KEY,null);}return this;},_grab:function(){if(this._status.animationParam){var pos=this._getCircularPos(this._pos);if(pos[0]!==this._pos[0]||pos[1]!==this._pos[1]){this._pos=pos;this._triggerChange(this._pos,true);}this._status.animationParam=null;this._raf&&ns.cancelAnimationFrame(this._raf);this._raf=null;this.trigger("animationEnd");}},_getCircularPos:function(pos,min,max,circular){min=min||this.options.min;max=max||this.options.max;circular=circular||this.options.circular;if(circular[0]&&pos[1]<min[1]){pos[1]=(pos[1]-min[1])%(max[1]-min[1]+1)+max[1];}if(circular[1]&&pos[0]>max[0]){pos[0]=(pos[0]-min[0])%(max[0]-min[0]+1)+min[0];}if(circular[2]&&pos[1]>max[1]){pos[1]=(pos[1]-min[1])%(max[1]-min[1]+1)+min[1];}if(circular[3]&&pos[0]<min[0]){pos[0]=(pos[0]-min[0])%(max[0]-min[0]+1)+max[0];}pos[0]=+pos[0].toFixed(5),pos[1]=+pos[1].toFixed(5);return pos;},_isOutside:_isOutToOut:function(pos,destPos){var min=this.options.min;var max=this.options.max;return(pos[0]<min[0]||pos[0]>max[0]||pos[1]<min[1]||pos[1]>max[1])&&(destPos[0]<min[0]||destPos[0]>max[0]||destPos[1]<min[1]||destPos[1]>max[1]);},_panstart:function(e){if(!this._subOptions.interruptable&&this._status.prevented){return;}this._setInterrupt(true);var pos=this._pos;this._grab();this.trigger("hold",{pos:pos.concat(),hammerEvent:e});this._status.moveDistance=pos.concat();this._status.grabOutside=this._isOutside(pos,this.options.min,this.options.max);},_panmove:function(e){if(!this._isInterrupting()||!this._status.moveDistance){return;}var tv;var tn;var tx;var pos=this._pos;var min=this.options.min;var max=this.options.max;var bounce=this.options.bounce;var margin=this.options.margin;var direction=this._subOptions.direction;var scale=this._subOptions.scale;var userDirection=this._getDirection(e.angle);var out=[margin[0]+bounce[0],margin[1]+bounce[1],margin[2]+bounce[2],margin[3]+bounce[3]];var prevent=false;var prevInput=this._status.curHammer.session.prevInput;if(prevInput){e.offsetX=e.deltaX-prevInput.deltaX;e.offsetY=e.deltaY-prevInput.deltaY;}else{e.offsetX=e.offsetY=0;}if(direction===MC.DIRECTION_ALL||(direction&MC.DIRECTION_HORIZONTAL&&userDirection&MC.DIRECTION_HORIZONTAL)){this._status.moveDistance[0]+=(e.offsetX*scale[0]);prevent=true;}if(direction===MC.DIRECTION_ALL||(direction&MC.DIRECTION_VERTICAL&&userDirection&MC.DIRECTION_VERTICAL)){this._status.moveDistance[1]+=(e.offsetY*scale[1]);prevent=true;}if(prevent){e.srcEvent.preventDefault();e.srcEvent.stopPropagation();}e.preventSystemEvent=prevent;pos[0]=this._status.moveDistance[0];pos[1]=this._status.moveDistance[1];pos=this._getCircularPos(pos,min,max);if(this._status.grabOutside&&!this._isOutside(pos,min,max)){this._status.grabOutside=false;}if(this._status.grabOutside){tn=min[0]-out[3],tx=max[0]+out[1],tv=pos[0];pos[0]=tv>tx?tx:(tv<tn?tn:tv);tn=min[1]-out[0],tx=max[1]+out[2],tv=pos[1];pos[1]=tv>tx?tx:(tv<tn?tn:tv);}else{var initSlope=this._initSlope();if(pos[1]<min[1]){tv=(min[1]-pos[1])/(out[0]*initSlope);pos[1]=min[1]-this._easing(tv)*out[0];}else{if(pos[1]>max[1]){tv=(pos[1]-max[1])/(out[2]*initSlope);pos[1]=max[1]+this._easing(tv)*out[2];}}if(pos[0]<min[0]){tv=(min[0]-pos[0])/(out[3]*initSlope);pos[0]=min[0]-this._easing(tv)*out[3];}else{if(pos[0]>max[0]){tv=(pos[0]-max[0])/(out[1]*initSlope);pos[0]=max[0]+this._easing(tv)*out[1];}}}this._triggerChange(pos,true,e);},_panend:function(e){var pos=this._pos;if(!this._isInterrupting()||!this._status.moveDistance){return;}if(e.distance===0){this._setInterrupt(false);this.trigger("release",{depaPos:pos.concat(),destPos:pos.concat(),hammerEvent:e||null});}else{var direction=this._subOptions.direction;var scale=this._subOptions.scale;var vX=Math.abs(e.velocityX);var vY=Math.abs(e.velocityY);!(direction&MC.DIRECTION_HORIZONTAL)&&(vX=0);!(direction&MC.DIRECTION_VERTICAL)&&(vY=0);var offset=this._getNextOffsetPos([vX*(e.deltaX<0?-1:1)*scale[0],vY*(e.deltaY<0?-1:1)*scale[1]]);var destPos=[pos[0]+offset[0],pos[1]+offset[1]];destPos=this._getPointOfIntersection(pos,destPos);this.trigger("release",{depaPos:pos.concat(),destPos:destPos,hammerEvent:e||null});if(pos[0]!==destPos[0]||pos[1]!==destPos[1]){this._animateTo(destPos,null,e||null);}else{this._setInterrupt(false);}}this._status.moveDistance=null;},_isInterrupting:_getDirection:function(angle){var thresholdAngle=this._subOptions.thresholdAngle;if(thresholdAngle<0||thresholdAngle>90){return MC.DIRECTION_NONE;}angle=Math.abs(angle);return angle>thresholdAngle&&angle<180-thresholdAngle?MC.DIRECTION_VERTICAL:MC.DIRECTION_HORIZONTAL;},_getNextOffsetPos:function(speeds){var normalSpeed=Math.sqrt(speeds[0]*speeds[0]+speeds[1]*speeds[1]);var duration=Math.abs(normalSpeed/-this.options.deceleration);return[speeds[0]/2*duration,speeds[1]/2*duration];},_getDurationFromPos:function(pos){var normalPos=Math.sqrt(pos[0]*pos[0]+pos[1]*pos[1]);var duration=Math.sqrt(normalPos/this.options.deceleration*2);return duration<100?0:duration;},_getPointOfIntersection:function(depaPos,destPos){var circular=this.options.circular;var bounce=this.options.bounce;var min=this.options.min;var max=this.options.max;var boxLT=[min[0]-bounce[3],min[1]-bounce[0]];var boxRB=[max[0]+bounce[1],max[1]+bounce[2]];var xd;var yd;destPos=[destPos[0],destPos[1]];xd=destPos[0]-depaPos[0],yd=destPos[1]-depaPos[1];if(!circular[3]){destPos[0]=Math.max(boxLT[0],destPos[0]);}if(!circular[1]){destPos[0]=Math.min(boxRB[0],destPos[0]);}destPos[1]=xd?depaPos[1]+yd/xd*(destPos[0]-depaPos[0]):destPos[1];if(!circular[0]){destPos[1]=Math.max(boxLT[1],destPos[1]);}if(!circular[2]){destPos[1]=Math.min(boxRB[1],destPos[1]);}destPos[0]=yd?depaPos[0]+xd/yd*(destPos[1]-depaPos[1]):destPos[0];return[Math.min(max[0],Math.max(min[0],destPos[0])),Math.min(max[1],Math.max(min[1],destPos[1]))];},_isCircular:function(destPos){var circular=this.options.circular;var min=this.options.min;var max=this.options.max;return(circular[0]&&destPos[1]<min[1])||(circular[1]&&destPos[0]>max[0])||(circular[2]&&destPos[1]>max[1])||(circular[3]&&destPos[0]<min[0]);},_prepareParam:function(absPos,duration,hammerEvent){var pos=this._pos;var destPos=this._getPointOfIntersection(pos,absPos);destPos=this._isOutToOut(pos,destPos)?pos:destPos;var distance=[Math.abs(destPos[0]-pos[0]),Math.abs(destPos[1]-pos[1])];duration=duration==null?this._getDurationFromPos(distance):duration;duration=this.options.maximumDuration>duration?duration:this.options.maximumDuration;return{depaPos:pos.concat(),destPos:destPos.concat(),isBounce:this._isOutside(destPos,this.options.min,this.options.max),isCircular:this._isCircular(absPos),duration:duration,distance:distance,hammerEvent:hammerEvent||null,done:this._animationEnd};},_restore:function(complete,hammerEvent){var pos=this._pos;var min=this.options.min;var max=this.options.max;this._animate(this._prepareParam([Math.min(max[0],Math.max(min[0],pos[0])),Math.min(max[1],Math.max(min[1],pos[1]))],null,hammerEvent),complete);},_animationEnd:function(){this._status.animationParam=null;this._pos=this._getCircularPos([Math.round(this._pos[0]),Math.round(this._pos[1])]);this._setInterrupt(false);this.trigger("animationEnd");},_animate:function(param,complete){param.startTime=new Date().getTime();this._status.animationParam=param;if(param.duration){var info=this._status.animationParam;var self=this;(function loop(){self._raf=null;if(self._frame(info)>=1){complete();return;}self._raf=ns.requestAnimationFrame(loop);})();}else{this._triggerChange(param.destPos,false);complete();}},_animateTo:function(absPos,duration,hammerEvent){var param=this._prepareParam(absPos,duration,hammerEvent);var retTrigger=this.trigger("animationStart",param);if(param.isCircular&&!retTrigger){throw new Error("You can't stop the 'animation' event when 'circular' is true.");}if(retTrigger){var self=this;var queue=[];var dequeue=if(param.depaPos[0]!==param.destPos[0]||param.depaPos[1]!==param.destPos[1]){queue.push(function(){self._animate(param,dequeue);});}if(this._isOutside(param.destPos,this.options.min,this.options.max)){queue.push(;}queue.push(;dequeue();}},_frame:function(param){var curTime=new Date()-param.startTime;var easingPer=this._easing(curTime/param.duration);var pos=[param.depaPos[0],param.depaPos[1]];for(var i=0;i<2;i++){(pos[i]!==param.destPos[i])&&(pos[i]+=(param.destPos[i]-pos[i])*easingPer);}pos=this._getCircularPos(pos);this._triggerChange(pos,false);return easingPer;},_reviseOptions:function(){var key;var self=this;$.each(["bounce","margin","circular"],function(i,v){key=self.options[v];if(key!=null){if($.isArray(key)){self.options[v]=key.length===2?key.concat(key):key.concat();}else{if(/string|number|boolean/.test(typeof key)){self.options[v]=[key,key,key,key];}else{self.options[v]=null;}}}});},_triggerChange:function(pos,holding,e){this._pos=pos.concat();this.trigger("change",{pos:pos.concat(),holding:holding,hammerEvent:e||null});},get:setTo:function(x,y,duration){this._grab();var pos=this._pos.concat();var circular=this.options.circular;var min=this.options.min;var max=this.options.max;if(x===pos[0]&&y===pos[1]){return this;}this._setInterrupt(true);if(x!==pos[0]){if(!circular[3]){x=Math.max(min[0],x);}if(!circular[1]){x=Math.min(max[0],x);}}if(y!==pos[1]){if(!circular[0]){y=Math.max(min[1],y);}if(!circular[2]){y=Math.min(max[1],y);}}if(duration){this._animateTo([x,y],duration);}else{this._pos=this._getCircularPos([x,y]);this._triggerChange(this._pos,false);this._setInterrupt(false);}return this;},setBy:function(x,y,duration){return this.setTo(x!=null?this._pos[0]+x:this._pos[0],y!=null?this._pos[1]+y:this._pos[1],duration);},_easing:function(p){return p>1?1:this.options.easing(p,p,0,1,1);},_initSlope:function(){var easing=this.options.easing;var isIn=false;var p;for(p in $.easing){if($.easing[p]===easing){isIn=!~p.indexOf("Out");break;}}return isIn?easing(0.9999,0.9999,0,1,1)/0.9999:easing(0.00001,0.00001,0,1,1)/0.00001;},_setInterrupt:destroy:function(){this.off();for(var p in this._hammers){this._hammers[p].inst.destroy();this._hammers[p]=null;}}});MC._KEY="__MOVABLECOORD__";MC.DIRECTION_NONE=1;MC.DIRECTION_LEFT=2;MC.DIRECTION_RIGHT=4;MC.DIRECTION_UP=8;MC.DIRECTION_DOWN=16;MC.DIRECTION_HORIZONTAL=2|4;MC.DIRECTION_VERTICAL=8|16;MC.DIRECTION_ALL=MC.DIRECTION_HORIZONTAL|MC.DIRECTION_VERTICAL;return{MovableCoord:ns.MovableCoord};});eg.module("flicking",["jQuery",eg,window,document,eg.MovableCoord],function($,ns,global,doc,MC){var EVENTS={beforeFlickStart:"beforeFlickStart",beforeRestore:"beforeRestore",flick:"flick",flickEnd:"flickEnd",restore:"restore"};var SUPPORT_TRANSFORM=doc.documentElement.style;SUPPORT_TRANSFORM="transform" in SUPPORT_TRANSFORM||"webkitTransform" in SUPPORT_TRANSFORM;var SUPPORT_WILLCHANGE=global.CSS&&global.CSS.supports&&global.CSS.supports("will-change","transform");var IS_ANDROID2=ns.agent().os;IS_ANDROID2=IS_ANDROID2.name==="android"&&/^2\./.test(IS_ANDROID2.version);ns.Flicking=ns.Class.extend(ns.Component,{_events:construct:function(element,options,_prefix){this.$wrapper=$(element);var $children=this.$wrapper.children();if(!$children.length){throw new Error("Given base element doesn't exist or it hasn't proper DOM structure to be initialized.");}this._setOptions(options);this._setConfig($children,_prefix);!ns._hasClickBug()&&(this._setPointerEvents=$.noop);this._build();this._bindEvents(true);this._applyPanelsCss();this._arrangePanels();this.options.hwAccelerable&&SUPPORT_WILLCHANGE&&this._setHint();this._adjustContainerCss("end");},_setOptions:function(options){var arrVal={previewPadding:[0,0],bounce:[10,10]};$.extend(this.options={hwAccelerable:ns.isHWAccelerable(),prefix:"eg-flick",deceleration:0.0006,horizontal:true,circular:false,previewPadding:arrVal.previewPadding,bounce:arrVal.bounce,threshold:40,duration:100,panelEffect:$.easing.easeOutCubic,defaultIndex:0,inputType:["touch","mouse"]},options);var self=this;$.each(arrVal,function(i,v){var val=self.options[i];if($.isNumeric(val)){val=[val,val];}else{if(!$.isArray(val)){val=v;}}self.options[i]=val;});},_setConfig:function($children,_prefix){var options=this.options;var padding=options.previewPadding;if($children.eq(0).hasClass(options.prefix+"-container")){this.$container=$children;$children=$children.children();}this._conf={panel:{$list:$children,index:0,no:0,currIndex:0,currNo:0,size:0,count:0,origCount:0,changed:false,animating:false,minCount:padding[0]+padding[1]>0?5:3},touch:{holdPos:[0,0],destPos:[0,0],distance:0,direction:null,lastPos:0,holding:false},customEvent:{flick:true,restore:false,restoreCall:false},origPanelStyle:{wrapper:{className:this.$wrapper.attr("class")||null,style:this.$wrapper.attr("style")||null},list:$children.map(function(i,v){return{className:$(v).attr("class")||null,style:$(v).attr("style")||null};})},inputEvent:false,useLayerHack:options.hwAccelerable&&!SUPPORT_WILLCHANGE,dirData:[],indexToMove:0,eventPrefix:_prefix||"",$dummyAnchor:null};$([["LEFT","RIGHT"],["UP","DOWN"]][+!options.horizontal]).each($.proxy(this));},_build:function(){var panel=this._conf.panel;var options=this.options;var $children=panel.$list;var padding=options.previewPadding.concat();var prefix=options.prefix;var horizontal=options.horizontal;var panelCount=panel.count=panel.origCount=$children.length;var cssValue;var bounce=options.bounce;this._setPadding(padding,true);var sizeValue=this._getDataByDirection([panel.size,"100%"]);cssValue="position:relative;z-index:2000;width:100%;height:100%;"+(horizontal?"":"top:0;");if(this.$container){this.$container.attr("style",cssValue);}else{this.$container=$children.wrapAll("<div class='"+prefix+"-container' style='"+cssValue+"'>").parent();}$children.addClass(prefix+"-panel").css({position:"absolute",width:sizeValue[0],height:sizeValue[1],boxSizing:"border-box",top:0,left:0});if(this._addClonePanels()){panelCount=panel.count=(panel.$list=this.$container.children()).length;}this._mcInst=new MC({min:[0,0],max:this._getDataByDirection([panel.size*(panelCount-1),0]),margin:0,circular:false,easing:options.panelEffect,deceleration:options.deceleration,bounce:this._getDataByDirection([0,bounce[1],0,bounce[0]])});this._setDefaultPanel(options.defaultIndex);},_setPadding:function(padding,build){var horizontal=this.options.horizontal;var panel=this._conf.panel;var paddingSum=padding[0]+padding[1];var cssValue={};if(paddingSum||!build){cssValue.padding=(horizontal?"0 "+padding.reverse().join("px 0 "):padding.join("px 0 "))+"px";}if(build){cssValue.overflow="hidden";cssValue.boxSizing="border-box";}!$.isEmptyObject(cssValue)&&this.$wrapper.css(cssValue);panel.size=this.$wrapper[horizontal?"width":"height"]();},_addClonePanels:function(){var panel=this._conf.panel;var panelCount=panel.origCount;var cloneCount=panel.minCount-panelCount;var list=panel.$list;var cloneNodes;if(this.options.circular&&panelCount<panel.minCount){cloneNodes=list.clone();while(cloneNodes.length<cloneCount){cloneNodes=cloneNodes.add(list.clone());}return this.$container.append(cloneNodes);}},_movePanelPosition:function(count,append){var panel=this._conf.panel;var list=panel.$list.toArray();var listToMove;listToMove=list.splice(append?0:panel.count-count,count);panel.$list=$(append?list.concat(listToMove):listToMove.concat(list));},_setDefaultPanel:function(index){var panel=this._conf.panel;var lastIndex=panel.count-1;var coords;var baseIndex;if(this.options.circular){if(index>0&&index<=lastIndex){this._movePanelPosition(index,true);}baseIndex=this._getBasePositionIndex();this._movePanelPosition(baseIndex,false);this._setPanelNo({no:index,currNo:index});}else{if(index>0&&index<=lastIndex){this._setPanelNo({index:index,no:index,currIndex:index,currNo:index});coords=[-(panel.size*index),0];this._setTranslate(coords);this._setMovableCoord("setTo",[Math.abs(coords[0]),Math.abs(coords[1])],true,0);}}},_arrangePanels:function(sort,indexToMove){var conf=this._conf;var panel=conf.panel;var touch=conf.touch;var dirData=conf.dirData;var baseIndex;if(this.options.circular){conf.customEvent.flick=false;if(sort){indexToMove&&(touch.direction=dirData[+!Boolean(indexToMove>0)]);this._arrangePanelPosition(touch.direction,indexToMove);}baseIndex=this._getBasePositionIndex();this._setPanelNo({index:baseIndex,currIndex:baseIndex});conf.customEvent.flick=!!this._setMovableCoord("setTo",[panel.size*panel.index,0],true,0);}this._applyPanelsPos();},_applyPanelsPos:_setMoveStyle:(function(){return SUPPORT_TRANSFORM?})(),_applyPanelsCss:function(){var conf=this._conf;var dummyAnchorClassName="__dummy_anchor";if(IS_ANDROID2){conf.$dummyAnchor=$("."+dummyAnchorClassName);!conf.$dummyAnchor.length&&this.$wrapper.append(conf.$dummyAnchor=$("<a href='javascript:void(0);' class='"+dummyAnchorClassName+"' style='position:absolute;height:0px;width:0px;'>"));this._applyPanelsCss=function(i,v){var coords=this._getDataByDirection([(this._conf.panel.size*i)+"px",0]);$(v).css({left:coords[0],top:coords[1]});};}else{this._applyPanelsCss=function(i,v){var coords=this._getDataByDirection([SUPPORT_TRANSFORM?(100*i)+"%":(this._conf.panel.size*i)+"px",0]);this._setMoveStyle($(v),coords);};}},_adjustContainerCss:function(phase,coords){var conf=this._conf;var panel=conf.panel;var options=this.options;var horizontal=options.horizontal;var paddingTop=options.previewPadding[0];var container=this.$container;var value;if(IS_ANDROID2){if(!coords){coords=[-panel.size*panel.index,0];}if(phase==="start"){container=container[0].style;value=parseInt(container[horizontal?"left":"top"],10);if(horizontal){value&&(container.left=0);}else{value!==paddingTop&&(container.top=paddingTop+"px");}this._setTranslate([-coords[+!options.horizontal],0]);}else{if(phase==="end"){!horizontal&&(coords[0]+=paddingTop);coords=this._getCoordsValue(coords);container.css({left:coords.x,top:coords.y,transform:ns.translate(0,0,conf.useLayerHack)});conf.$dummyAnchor[0].focus();}}}},_setMovableCoord:function(method,coord,isDirVal,duration){if(isDirVal){coord=this._getDataByDirection(coord);}return this._mcInst[method](coord[0],coord[1],duration);},_setHint:function(){var value="transform";this.$container.css("willChange",value);this._conf.panel.$list.css("willChange",value);},_getDataByDirection:function(value){value=value.concat();!this.options.horizontal&&value.reverse();return value;},_arrangePanelPosition:_getBasePositionIndex:function(){return Math.floor(this._conf.panel.count/2-0.1);},_bindEvents:function(bind){var options=this.options;var $wrapper=this.$wrapper;var mcInst=this._mcInst;if(bind){mcInst.bind($wrapper,{scale:this._getDataByDirection([-1,0]),direction:MC["DIRECTION_"+(options.horizontal?"HORIZONTAL":"VERTICAL")],interruptable:false,inputType:options.inputType}).on({hold:$.proxy(this._holdHandler,this),change:$.proxy(this._changeHandler,this),release:$.proxy(this._releaseHandler,this),animationStart:$.proxy(this._animationStartHandler,this),animationEnd:$.proxy(this._animationEndHandler,this)});}else{mcInst.unbind($wrapper).off();}this._conf.inputEvent=!!bind;},_holdHandler:function(e){var conf=this._conf;conf.touch.holdPos=e.pos;conf.touch.holding=true;conf.panel.changed=false;this._adjustContainerCss("start",e.pos);},_changeHandler:function(e){var conf=this._conf;var touch=conf.touch;var posIndex=+!this.options.horizontal;var pos=e.pos[posIndex];var holdPos=touch.holdPos[posIndex];var direction;var eventRes=null;var movedPx;this._setPointerEvents(e);if(e.hammerEvent){direction=e.hammerEvent.direction;movedPx=e.hammerEvent[this.options.horizontal?"deltaX":"deltaY"];if(!~$.inArray(direction,conf.dirData)){direction=conf.dirData[+(Math.abs(touch.lastPos)<=movedPx)];}touch.lastPos=movedPx;}else{touch.lastPos=null;}conf.customEvent.flick&&(eventRes=this._triggerEvent(EVENTS.flick,{pos:e.pos,holding:e.holding,direction:direction||touch.direction,distance:pos-(holdPos||(touch.holdPos[posIndex]=pos))}));(eventRes||eventRes===null)&&this._setTranslate([-pos,0]);},_releaseHandler:function(e){var touch=this._conf.touch;var pos=e.destPos;var posIndex=+!this.options.horizontal;var holdPos=touch.holdPos[posIndex];var panelSize=this._conf.panel.size;touch.distance=e.depaPos[posIndex]-touch.holdPos[posIndex];touch.direction=this._conf.dirData[+!Boolean(touch.holdPos[posIndex]<e.depaPos[posIndex])];pos[posIndex]=Math.max(holdPos-panelSize,Math.min(holdPos,pos[posIndex]));touch.destPos[posIndex]=pos[posIndex]=Math.round(pos[posIndex]/panelSize)*panelSize;touch.distance===0&&this._adjustContainerCss("end");touch.holding=false;this._setPointerEvents();},_animationStartHandler:function(e){var conf=this._conf;var panel=conf.panel;var customEvent=conf.customEvent;panel.animating=true;if(!customEvent.restoreCall&&e.hammerEvent&&this._setPhaseValue("start",{depaPos:e.depaPos,destPos:e.destPos})===false){e.stop();}if(e.hammerEvent){e.duration=this.options.duration;e.destPos[+!this.options.horizontal]=panel.size*(panel.index+conf.indexToMove);}if(this._isMovable()){!customEvent.restoreCall&&(customEvent.restore=false);}else{this._triggerBeforeRestore(e);}},_animationEndHandler:function(){this._setPhaseValue("end");this._conf.panel.animating=false;this._triggerRestore();},_triggerBeforeRestore:function(e){var conf=this._conf;var touch=conf.touch;touch.direction=~~conf.dirData.join("").replace(touch.direction,"");conf.customEvent.restore=this._triggerEvent(EVENTS.beforeRestore,{depaPos:e.depaPos,destPos:e.destPos});if(!conf.customEvent.restore){"stop" in e&&e.stop();conf.panel.animating=false;}},_triggerRestore:function(){var customEvent=this._conf.customEvent;customEvent.restore&&this._triggerEvent(EVENTS.restore);customEvent.restoreCall=false;},_setPhaseValue:function(phase,pos){var conf=this._conf;var options=this.options;var panel=conf.panel;if(phase==="start"&&(panel.changed=this._isMovable())){if(!this._triggerEvent(EVENTS.beforeFlickStart,pos)){return panel.changed=panel.animating=false;}conf.indexToMove===0&&this._setPanelNo();}else{if(phase==="end"){if(options.circular&&panel.changed){this._arrangePanels(true,conf.indexToMove);}!IS_ANDROID2&&this._setTranslate([-panel.size*panel.index,0]);conf.touch.distance=conf.indexToMove=0;panel.changed&&this._triggerEvent(EVENTS.flickEnd);}}!(phase==="start"&&pos===undefined)&&this._adjustContainerCss(phase);},_getNumByDirection:function(){var conf=this._conf;return conf.touch.direction===conf.dirData[0]?1:-1;},_revertPanelNo:function(){var panel=this._conf.panel;var num=this._getNumByDirection();var index=panel.currIndex>=0?panel.currIndex:panel.index-num;var no=panel.currNo>=0?panel.currNo:panel.no-num;this._setPanelNo({index:index,no:no});},_setPanelNo:function(obj){var panel=this._conf.panel;var count=panel.origCount-1;var num=this._getNumByDirection();if($.isPlainObject(obj)){$.each(obj,;}else{panel.currIndex=panel.index;panel.currNo=panel.no;panel.index+=num;panel.no+=num;}if(panel.no>count){panel.no=0;}else{if(panel.no<0){panel.no=count;}}},_setPointerEvents:function(e){var pointer=this.$container.css("pointerEvents");var val;if(e&&e.holding&&e.hammerEvent&&e.hammerEvent.preventSystemEvent&&pointer!=="none"){val="none";}else{if(!e&&pointer!=="auto"){val="auto";}}val&&this.$container.css("pointerEvents",val);},_getCoordsValue:function(coords){coords=this._getDataByDirection(coords);return{x:this._getUnitValue(coords[0]),y:this._getUnitValue(coords[1])};},_setTranslate:function(coords){coords=this._getCoordsValue(coords);this._setMoveStyle(this.$container,[coords.x,coords.y]);},_getUnitValue:function(val){var rx=/(?:[a-z]{2,}|%)$/;return(parseInt(val,10)||0)+(String(val).match(rx)||"px");},_isMovable:function(){var options=this.options;var mcInst=this._mcInst;var isMovable=Math.abs(this._conf.touch.distance)>=options.threshold;var max;var currPos;if(!options.circular&&isMovable){max=this._getDataByDirection(mcInst.options.max)[0];currPos=this._getDataByDirection(mcInst.get())[0];if(currPos<0||currPos>max){return false;}}return isMovable;},_triggerEvent:function(name,param){var conf=this._conf;var panel=conf.panel;if(name===EVENTS.flickEnd){panel.currNo=panel.no;panel.currIndex=panel.index;}return this.trigger(conf.eventPrefix+name,$.extend({eventType:name,index:panel.currIndex,no:panel.currNo,direction:conf.touch.direction},param));},_getElement:function(direction,element,physical){var panel=this._conf.panel;var circular=this.options.circular;var pos=panel.currIndex;var next=direction===this._conf.dirData[0];var result=null;var total;var index;var currentIndex;if(physical){total=panel.count;index=pos;}else{total=panel.origCount;index=panel.currNo;}currentIndex=index;if(next){if(index<total-1){index++;}else{if(circular){index=0;}}}else{if(index>0){index--;}else{if(circular){index=total-1;}}}if(currentIndex!==index){result=element?$(panel.$list[next?pos+1:pos-1]):index;}return result;},_setValueToMove:function(next){var conf=this._conf;conf.touch.distance=this.options.threshold+1;conf.touch.direction=conf.dirData[+!next];},_getNumValue:getIndex:function(physical){return this._conf.panel[physical?"currIndex":"currNo"];},getElement:getNextElement:function(){return this._getElement(this._conf.dirData[0],true);},getNextIndex:function(physical){return this._getElement(this._conf.dirData[0],false,physical);},getAllElements:function(){return this._conf.panel.$list;},getPrevElement:function(){return this._getElement(this._conf.dirData[1],true);},getPrevIndex:function(physical){return this._getElement(this._conf.dirData[1],false,physical);},getTotalCount:isPlaying:_movePanel:function(next,duration){var conf=this._conf;var panel=conf.panel;var options=this.options;if(panel.animating||conf.touch.holding){return;}this._setValueToMove(next);if(options.circular||this[next?"getNextIndex":"getPrevIndex"]()!=null){this._movePanelByPhase("setBy",[panel.size*(next?1:-1),0],duration);}return this;},_movePanelByPhase:function(method,coords,duration){duration=this._getNumValue(duration,this.options.duration);if(this._setPhaseValue("start")!==false){this._setMovableCoord(method,coords,true,duration);!duration&&this._setPhaseValue("end");}},next:function(duration){return this._movePanel(true,duration);},prev:moveTo:function(no,duration){var conf=this._conf;var panel=conf.panel;var circular=this.options.circular;var currentIndex=panel.index;var indexToMove;var isPositive;no=this._getNumValue(no,-1);if(no<0||no>=panel.origCount||no===panel.no||panel.animating||conf.touch.holding){return this;}if(circular){indexToMove=no-panel.no;isPositive=indexToMove>0;if(Math.abs(indexToMove)>(isPositive?panel.count-(currentIndex+1):currentIndex)){indexToMove=indexToMove+(isPositive?-1:1)*panel.count;}this._setPanelNo({no:no});}else{indexToMove=no-currentIndex;this._setPanelNo({index:no,no:no});}this._conf.indexToMove=indexToMove;this._setValueToMove(isPositive);this._movePanelByPhase(circular?"setBy":"setTo",[panel.size*(circular?indexToMove:no),0],duration);return this;},_checkPadding:function(){var options=this.options;var previewPadding=options.previewPadding.concat();var padding=this.$wrapper.css("padding").split(" ");options.horizontal&&padding.reverse();padding=padding.length===2?[padding[0],padding[0]]:[padding[0],padding[2]];padding=$.map(padding,function(num){return parseInt(num,10);});if(previewPadding.length===2&&previewPadding[0]!==padding[0]||previewPadding[1]!==padding[1]){this._setPadding(previewPadding);}},resize:function(){var conf=this._conf;var options=this.options;var panel=conf.panel;var horizontal=options.horizontal;var panelSize;var maxCoords;if(~~options.previewPadding.join("")){this._checkPadding();panelSize=panel.size;}else{if(horizontal){panelSize=panel.size=this.$wrapper.width();}}maxCoords=this._getDataByDirection([panelSize*(panel.count-1),0]);horizontal&&this.$container.width(maxCoords[0]+panelSize);panel.$list.css(horizontal?"width":"height",panelSize);this._mcInst.options.max=maxCoords;this._setMovableCoord("setTo",[panelSize*panel.index,0],true,0);if(IS_ANDROID2){this._applyPanelsPos();this._adjustContainerCss("end");}return this;},restore:function(duration){var conf=this._conf;var panel=conf.panel;var currPos=this._getDataByDirection(this._mcInst.get());var destPos;if(currPos[0]!==panel.currIndex*panel.size){conf.customEvent.restoreCall=true;duration=this._getNumValue(duration,this.options.duration);this._revertPanelNo();destPos=this._getDataByDirection([panel.size*panel.index,0]);this._triggerBeforeRestore({depaPos:currPos,destPos:destPos});this._setMovableCoord("setTo",destPos,true,duration);if(!duration){this._adjustContainerCss("end");this._triggerRestore();}}else{if(panel.changed){this._revertPanelNo();conf.touch.distance=conf.indexToMove=0;}}return this;},_setInputEvent:function(bind){var inputEvent=this._conf.inputEvent;if(bind^inputEvent){this._bindEvents(bind);}return this;},enableInput:disableInput:destroy:function(){var conf=this._conf;var origPanelStyle=conf.origPanelStyle;var wrapper=origPanelStyle.wrapper;var list=origPanelStyle.list;this.$wrapper.attr("class",wrapper.className).attr("style",wrapper.style);this.$container.children().unwrap().each(function(i,v){var $el=$(v);if(i>list.length-1){return !!$el.remove();}$el.attr("class",list[i].className).attr("style",list[i].style);});this.disableInput();this.off();for(var x in this){this[x]=null;}}});});eg.module("infiniteGrid",["jQuery",eg,window,document],function($,ns,global,doc){var EVENTS={layoutComplete:"layoutComplete",append:"append",prepend:"prepend"};ns.InfiniteGrid=ns.Class.extend(ns.Component,{_events:function(){return EVENTS;},construct:function(el,options,_prefix){this.options=$.extend({isEqualSize:false,defaultGroupKey:null,count:30,threshold:300},options);this.$el=el instanceof $?el:$(el);this.el=this.$el.get(0);this.el.style.position="relative";this._prefix=_prefix||"";this._isIos=/iPhone|iPad/.test(global.navigator.userAgent);this._isIE10lower=!!(doc.documentMode&&doc.documentMode<10);this._appendCols=this._prependCols=[];this.$view=$(global);this._reset();this._refreshViewport();if(this.el.children.length>0){this.items=this._itemize($.makeArray(this.el.children),this.options.defaultGroupKey,true);this.layout(this.items,true);}this._onScroll=$.proxy(this._onScroll,this);this._onResize=$.proxy(this._onResize,this);this.$view.on("scroll",this._onScroll).on("resize",this._onResize);},_getScrollTop:_onScroll:function(){if(this.isProcessing()){return;}var scrollTop=this._getScrollTop();var prevScrollTop=this._prevScrollTop;if(this._isIos&&scrollTop===0||prevScrollTop===scrollTop){return;}var ele;var rect;if(prevScrollTop<scrollTop){if($.isEmptyObject(this._bottomElement)){this._bottomElement=this.getBottomElement();if(this._bottomElement==null){return;}}ele=this._bottomElement;rect=ele.getBoundingClientRect();if(rect.top<=this._clientHeight+this.options.threshold){this.trigger(this._prefix+EVENTS.append,{scrollTop:scrollTop});}}else{if(this.isRecycling()&&this._removedContent>0){if($.isEmptyObject(this._topElement)){this._topElement=this.getTopElement();if(this._topElement==null){return;}}ele=this._topElement;rect=ele.getBoundingClientRect();if(rect.bottom>=-this.options.threshold){var croppedDistance=this.fit();if(croppedDistance>0){scrollTop-=croppedDistance;this.$view.scrollTop(scrollTop);}this.trigger(this._prefix+EVENTS.prepend,{scrollTop:scrollTop});}}}this._prevScrollTop=scrollTop;},_onResize:function(){if(this._resizeTimeout){clearTimeout(this._resizeTimeout);}var self=this;this._resizeTimeout=setTimeout(function(){self._refreshViewport();(self.$el.innerWidth()!==self._containerWidth)&&self.layout(self.items,true);self._resizeTimeout=null;},100);},_refreshViewport:getStatus:function(){var data={};var p;for(p in this){if(this.hasOwnProperty(p)&&/^_/.test(p)&&typeof this[p]!=="function"&&!(this[p] instanceof Element)){data[p]=this[p];}}return{prop:data,options:$.extend({},this.options),items:$.map(this.items,function(v){var clone=$.extend({},v);delete clone.el;return clone;}),html:this.el.innerHTML,cssText:this.el.style.cssText};},setStatus:function(status){if(!status||!status.cssText||!status.html||!status.prop||!status.items){return this;}this.el.style.cssText=status.cssText;this.el.innerHTML=status.html;$.extend(this,status.prop);this._topElement=this._bottomElement=null;this.items=$.map(this.el.children,function(v,i){status.items[i].el=v;return status.items[i];});return this;},isProcessing:function(){return this._isProcessing;},isRecycling:getGroupKeys:layout:function(items,isRefresh){items=items||this.items;isRefresh=typeof isRefresh==="undefined"?true:isRefresh;this._isProcessing=true;isRefresh&&(items=$.map(items,);this._waitResource(items,isRefresh);return this;},_layoutItems:function(items){var self=this;$.each($.map(items,,function(i,v){if(v.el){var style=v.el.style;style.left=v.position.x+"px";style.top=v.position.y+"px";}});},append:function($elements,groupKey){if(this._isProcessing||$elements.length===0){return;}$elements=$($elements);this._isProcessing=true;if(!this.isRecycling()){this._isRecycling=(this.items.length+$elements.length)>=this.options.count;}this._insert($elements,groupKey,true);return $elements.length;},prepend:function($elements,groupKey){if(!this.isRecycling()||this._removedContent===0||this._isProcessing||$elements.length===0){return;}$elements=$($elements);this._isProcessing=true;this._fit();if($elements.length>this._removedContent){$elements=$elements.slice(0,this._removedContent);}this._insert($elements,groupKey,false);return $elements.length;},clear:function(){this.el.innerHTML="";this.el.style.height="";this._reset();return this;},_getTopItem:function(){var item=null;var min=Infinity;$.each(this._getColItems(false),function(i,v){if(v&&v.position.y<min){min=v.position.y;item=v;}});return item;},getTopElement:function(){var item=this._getTopItem();return item&&item.el;},_getBottomItem:function(){var item=null;var max=-Infinity;$.each(this._getColItems(true),function(i,v){if(v&&v.position.y+v.size.height>max){max=v.position.y+v.size.height;item=v;}});return item;},getBottomElement:_postLayout:function(items){if(!this._isProcessing||items.length<=0){return;}var size=this._getContainerSize();this.el.style.width=size.width+"px";this.el.style.height=size.height+"px";this._topElement=this.getTopElement();this._bottomElement=this.getBottomElement();var distance=0;var isAppend=items[0].isAppend;if(!isAppend){this._isFitted=false;this._fit(true);distance=items.length>=this.items.length?0:this.items[items.length].position.y;if(distance>0){this._prevScrollTop=this._getScrollTop()+distance;this.$view.scrollTop(this._prevScrollTop);}}this._isProcessing=false;this.trigger(this._prefix+EVENTS.layoutComplete,{target:items.concat(),isAppend:isAppend,distance:distance,croppedCount:this._removedContent});},_insert:function($elements,groupKey,isAppend){if($elements.length===0){return;}var elements=$elements.toArray();var $cloneElements=$(elements);var dummy=-this._clientHeight+"px";$.each(elements,function(i,v){v.style.position="absolute";v.style.top=dummy;});var items=this._itemize(elements,groupKey,isAppend);if(isAppend){this.items=this.items.concat(items);}else{this.items=items.concat(this.items);items=items.reverse();}this.isRecycling()&&this._adjustRange(isAppend,$cloneElements);this.$el[isAppend?"append":"prepend"]($cloneElements);this.layout(items,false);},_waitResource:function(items,isRefresh){var needCheck=this._checkImageLoaded();var self=this;var callback=function(){if(self._isProcessing){if(isRefresh||!self._appendCols.length){$.each(items,;self._measureColumns();}self._layoutItems(items);self._postLayout(items);}};if(needCheck.length>0){this._waitImageLoaded(needCheck,callback);}else{setTimeout(0);}},_adjustRange:function(isTop,$elements){var diff=this.items.length-this.options.count;var targets;var idx;if(diff<=0||(idx=this._getDelimiterIndex(isTop,diff))<0){return;}if(isTop){targets=this.items.splice(0,idx);this._isFitted=false;}else{targets=this.items.splice(idx,this.items.length-idx);}$.each(targets,function(i,v){idx=$elements.index(v.el);if(idx!==-1){$elements.splice(idx,1);}else{v.el.parentNode.removeChild(v.el);}});this._removedContent+=isTop?targets.length:-targets.length;},_getDelimiterIndex:function(isTop,removeCount){var len=this.items.length;var i;var idx=0;var baseIdx=isTop?removeCount-1:len-removeCount;var targetIdx=baseIdx+(isTop?1:-1);var groupKey=this.items[baseIdx].groupKey;if(groupKey!=null&&groupKey===this.items[targetIdx].groupKey){if(isTop){for(i=baseIdx;i>0;i--){if(groupKey!==this.items[i].groupKey){break;}}idx=i===0?-1:i+1;}else{for(i=baseIdx;i<len;i++){if(groupKey!==this.items[i].groupKey){break;}}idx=i===len?-1:i;}}else{idx=isTop?targetIdx:baseIdx;}return idx;},_fit:function(applyDom){if(this.options.count<=0){this._fit=function(){return false;};this._isFitted=true;return false;}if(this._isFitted){return false;}var y=this._updateCols();$.each(this.items,function(i,v){v.position.y-=y;applyDom&&(v.el.style.top=v.position.y+"px");});this._updateCols(true);var height=this._getContainerSize().height;applyDom&&(this.el.style.height=height+"px");this._isFitted=true;return true;},fit:function(){var item=this._getTopItem();var distance=item?item.position.y:0;this._fit(true);return distance;},_reset:function(){this._isProcessing=false;this._topElement=null;this._bottomElement=null;this._isFitted=true;this._isRecycling=false;this._removedContent=0;this._prevScrollTop=0;this._equalItemSize=0;this._resizeTimeout=null;this._resetCols(this._appendCols.length||0);this.items=[];},_checkImageLoaded:function(){return this.$el.find("img").filter(function(k,v){if(v.nodeType&&($.inArray(v.nodeType,[1,9,11])!==-1)){return !v.complete;}}).toArray();},_waitImageLoaded:function(needCheck,callback){var checkCount=needCheck.length;var onCheck=function(e){checkCount--;$(e.target).off("load error");checkCount<=0&&callback&&callback();};var $el;var self=this;$.each(needCheck,function(i,v){$el=$(v);if(self._isIE10lower){var url=v.getAttribute("src");v.setAttribute("src","");v.setAttribute("src",url);}$el.on("load error",onCheck);});},_measureColumns:function(){this.el.style.width=null;this._containerWidth=this.$el.innerWidth();this._columnWidth=this._getColumnWidth()||this._containerWidth;var cols=this._containerWidth/this._columnWidth;var excess=this._columnWidth-this._containerWidth%this._columnWidth;cols=Math.max(Math[excess&&excess<=1?"round":"floor"](cols),1);this._resetCols(cols||0);},_resetCols:function(count){count=typeof count==="undefined"?0:count;var arr=[];while(count--){arr.push(0);}this._appendCols=arr.concat();this._prependCols=arr.concat();},_getContainerSize:_getColumnWidth:function(){var el=this.items[0]&&this.items[0].el;var width=0;if(el){var $el=$(el);width=$el.innerWidth();if(this.options.isEqualSize){this._equalItemSize={width:width,height:$el.innerHeight()};}}return width;},_updateCols:function(isAppend){var col=isAppend?this._appendCols:this._prependCols;var items=this._getColItems(isAppend);var base=this._isFitted||isAppend?0:this._getMinY(items);var i=0;var len=col.length;var item;for(;i<len;i++){if(item=items[i]){col[i]=item.position.y+(isAppend?item.size.height:-base);}else{col[i]=0;}}return base;},_getMinY:function(items){return Math.min.apply(Math,$.map(items,);},_getColIdx:_getColItems:function(isTail){var len=this._appendCols.length;var colItems=new Array(len);var item;var idx;var count=0;var i=isTail?this.items.length-1:0;while(item=this.items[i]){idx=this._getColIdx(item);if(!colItems[idx]){colItems[idx]=item;if(++count===len){return colItems;}}i+=isTail?-1:1;}return colItems;},_itemize:function(elements,groupKey,isAppend){return $.map(elements,function(v){return{el:v,position:{x:0,y:0},isAppend:typeof isAppend==="undefined"?true:isAppend,groupKey:typeof groupKey==="undefined"?null:groupKey};});},_getItemLayoutPosition:function(item){if(!item.el){return;}var $el=$(item.el);item.size=this._equalItemSize||{width:$el.innerWidth(),height:$el.innerHeight()};var isAppend=item.isAppend;var cols=isAppend?this._appendCols:this._prependCols;var y=Math[isAppend?"min":"max"].apply(Math,cols);var shortColIndex;if(isAppend){shortColIndex=$.inArray(y,cols);}else{var i=cols.length;while(i-->=0){if(cols[i]===y){shortColIndex=i;break;}}}cols[shortColIndex]=y+(isAppend?item.size.height:-item.size.height);return{x:this._columnWidth*shortColIndex,y:isAppend?y:y-item.size.height};},destroy:function(){this.off();this.$view.off("resize",this._onResize).off("scroll",this._onScroll);this._reset();}});});
((window);
(function(exportTarget){var lcs_options={nnb:true};var lcs_version="v0.8.3";var lcs_add={};var lcs_bc={};var lcs_perf={};var lcs_do_count=0;var lcs_waiting_pageshow=false;function lcs_do(etc){if(lcs_waiting_pageshow){return;}if(document.readyState!=="complete"){var eventName="onpageshow" in window?"pageshow":"load";var retry=etc);if(document.addEventListener){window.addEventListener(eventName,retry,false);}else{window.attachEvent("on"+eventName,retry);}lcs_waiting_pageshow=true;return;}if(!window.lcs_SerName){window.lcs_SerName="lcs.naver.com";}var rs="";var index;var itarVal;var doc=document;var wlt=window.location;var lcsServerAddr;var targetUrl=wlt.href;try{if(mug.$.UserAgent.isInapp){if(targetUrl.indexOf("?")>0){targetUrl+="&";}else{targetUrl+="?";}targetUrl+="inApp=true";}}catch(e){}try{lcsServerAddr="https://"+window.lcs_SerName+"/m?";}catch(e){return;}try{rs=lcsServerAddr+"u="+encodeURIComponent(targetUrl)+"&e="+(doc.referrer?encodeURIComponent(doc.referrer):"");}catch(e){}try{if(typeof lcs_add.i=="undefined"){lcs_add.i="";}if(lcs_do_count<1){lcs_setBrowserCapa();if(lcs_options.nnb){lcs_setNNB();}lcs_add.ct=lcs_getConnectType();lcs_setNavigationTiming();lcs_setPaintTiming();lcs_setNavigationType();}for(index in lcs_bc){if(typeof lcs_bc[index]!=="function"){rs+="&"+index+"="+encodeURIComponent(lcs_bc[index]);}}for(index in lcs_add){itarVal=lcs_add[index];if(itarVal!==undefined&&typeof itarVal!=="function"){rs+="&"+index+"="+encodeURIComponent(itarVal);}}if(lcs_do_count<1){for(index in lcs_perf){itarVal=lcs_perf[index];if(itarVal){rs+="&"+index+"="+encodeURIComponent(itarVal);}}}for(index in etc){if((index.length>=3&&typeof etc[index]!=="function")||index==="qy"){rs+="&"+index+"="+encodeURIComponent(etc[index]);}}if(!!etc===false||!!etc.pid===false){var pidFallback;if(window.g_pid){pidFallback=g_pid;}else{pidFallback=lcs_get_lpid();}rs+="&pid="+encodeURIComponent(pidFallback);}var timeStr=new Date().getTime();rs+="&ts="+timeStr;rs+="&EOU";var obj=document.createElement("img");obj.src=rs;obj.onload=lcs_do_count++;}catch(e){return;}}function lcs_do_gdid(gdid,etc){try{if(gdid){lcs_add.i=gdid;if(etc){lcs_do(etc);}else{lcs_do();}}}catch(e){}}hashFunction={};((hashFunction);exportTarget.lcs_do=lcs_do;exportTarget.lcs_do_gdid=lcs_do_gdid;exportTarget.lcs_get_lpid=lcs_get_lpid;exportTarget.lcs_update_lpid=lcs_update_lpid;exportTarget.lcs_version=lcs_version;})(window);
if(typeof nclk=="undefined"){nclk={};}if(typeof nclkMaxDepth=="undefined"){var nclkMaxDepth=8;}if(typeof ccsrv=="undefined"){var ccsrv="cc.naver.com";}if(typeof nclkModule=="undefined"){var nclkModule="cc";}if(typeof nsc=="undefined"){var nsc="decide.me";}if(typeof g_pid=="undefined"){var g_pid="";}if(typeof g_sid=="undefined"){var g_sid="";}var nclkImg=[];if(typeof nclkMaxEvtTarget=="undefined"){var nclkMaxEvtTarget=4;}if(typeof nclk_evt=="undefined"){var nclk_evt=0;}nclk.nclktagVersion="1.0.8";nclk.addEvent=function(e,b,a){if(e.addEventListener){e.addEventListener(b,a,false);}else{if(e.attachEvent){e["e"+b+a]=a;e[b+a]=e.attachEvent("on"+b,e[b+a]);}}};nclk.generateCC=function(l){var r=l||window.event;var f=r.target||r.srcElement;var o=f.nodeName;var m,p;var q;var b="",t="",k="",g="";var a=0,n=0;var h,s;var i;var j=-1;if(r.button==2){return;}if(f.nodeType==3){f=f.parentNode;}if(f.parentNode&&f.parentNode.nodeName=="A"){f=f.parentNode;}p=f;while(j<=nclkMaxEvtTarget){if(j>=nclkMaxEvtTarget){if(nclk_evt==2||nclk_evt==4){h=0;m=p;break;}else{return;}}else{i=nclk.getTag(f);h=i[0];s=i[1];if(h==0){if(f.parentNode){f=f.parentNode;j++;}else{h=0;m=p;break;}}else{m=f;break;}}}switch(h){case 0:case 1:case 2:case 3:if(nclk_evt==2||nclk_evt==4){b="ncs.blank";}else{return;}break;case 4:b=nclk.findArea(m,1);if(b==undefined){b="";}q=nclk.parseNCStr(h,s);b=b+"."+q[0];break;case 5:b=nclk.findArea(m,2);if(b==undefined){b="";}q=nclk.parseNCStr(h,s);break;case 6:q=nclk.parseNCStr(h,s);b=q[0];break;default:return;}if(h==4||h==5||h==6){k=q[1];t=q[2];g=q[3];n=q[4];}if(n=="2"){return;}else{a=n;}if(g){clickcr(m,b,t,k,r,a,g);}else{clickcr(m,b,t,k,r,a);}};nclk.searchNextObj=nclk.getTag=function(g){var b=0;if(!g){return 0;}var i;var f;var h;var a="";if(nclk_evt==1||nclk_evt==2){var e=nclk.searchNextObj(g);if(e){if(e!=null&&e.nodeType==8&&e.data.indexOf("=")>0){a=nclk.trim(e.data);}else{return[0,""];}}else{return[0,""];}}else{if(nclk_evt==3||nclk_evt==4){if(g.className){a=nclk.getClassTag(g.className);if(!a){return[0,""];}}else{return[0,""];}}}a=nclk.trim(a);i=a.split("=");f=i[0].charAt(0);h=i[0].substring(1);if(f!="N"){return[0,""];}if(h=="E"){b=1;}else{if(h=="I"){b=2;}else{if(h=="EI"||h=="IE"){b=3;}else{if(h=="IP"||h=="PI"){b=4;}else{if(h=="P"){b=5;}else{if(i[0].length==1){b=6;}else{b=0;}}}}}}return[b,a];};nclk.findArea=function(b,h){var j=0;var g;var k;var m,f;var e="";var a=0;var l;var i;if(!b){return;}if(h==1){a=1;}else{if(h==2){a=0;}}while(b=b.parentNode){g=b;while(1){if(nclk_evt==1||nclk_evt==2){g=g.previousSibling;if(g){if(g.nodeType==8){k=nclk.trim(g.data);}else{continue;}}else{break;}}else{if(nclk_evt==3||nclk_evt==4){k=b.className;if(k){k=nclk.getClassTag(k);}else{break;}}}if(k.indexOf("=")>0){m=k.split("=");if(m[0].charAt(0)!="N"){continue;}i=m[0].substring(1);if(i=="I"&&a==0){f=m[1].split(":");if(f[0]=="a"){if(f[1]!=""&&f[1]!=undefined){e=f[1];}}a++;break;}else{if(i=="E"&&a==1){if(a==1){f=m[1].split(":");if(f[0]=="a"){if(e==""){e=f[1];}else{e=((f[1]==undefined)?"":f[1])+"."+e;}}}a++;break;}else{if((i=="EI"||i=="IE")&&a==0){f=m[1].split(":");if(f[0]=="a"){e=f[1];}a+=2;break;}}}}if(nclk_evt==3||nclk_evt==4){break;}}j++;if(a>=2){l=e;break;}if(j>=nclkMaxDepth){l="";break;}}return l;};nclk.getServiceType=function(){var a;if(typeof g_ssc!="undefined"&&typeof g_query!="undefined"){a=1;}else{a=0;}return a;};nclk.parseNCStr=function(h,o){var a;var m;var l;var e;var b="",k="",p="",f="",n=0;var g=2;o=nclk.trim(o);switch(h){case 4:g=4;break;case 5:g=3;break;case 6:g=2;break;case 1:case 2:case 3:default:return;}m=o.substring(g);l=m.split(",");for(var j=0;j<l.length;j++){e=l[j].split(":");if(e[0]=="a"){b=e[1];}else{if(e[0]=="r"){k=e[1];}else{if(e[0]=="i"){p=e[1];}else{if(e[0]=="g"){f=e[1];}else{if(e[0]=="t"){n=e[1];}}}}}}return[b,k,p,f,n];};nclk.trim=nclk.getClassTag=function(g){var f="";if(typeof(g)=="string"){f=g;}else{if(g.baseVal){f=g.baseVal;}else{f=""+g;}}var b=new RegExp("N[^=]*=([^ $]*)");var e=f.match(b);var a="";if(e){a=e[0];}return a;};function nclk_do(){if(nclk_evt==1||nclk_evt==2||nclk_evt==3||nclk_evt==4){nclk.addEvent(document,"click",nclk.generateCC);}}nclk.getScrollBarWidth=nclk.findPos=nclk.windowSize=nclk.checkIframe=function(i){var f=document.URL;var h=i.parentNode;var a;var b;if(h==null||h==undefined){return false;}while(1){if(h.nodeName.toLowerCase()=="#document"){if(h.parentWindow){a=h.parentWindow;}else{a=h.defaultView;}try{if(a.frameElement!=null&&a.frameElement!=undefined){if(a.frameElement.nodeName.toLowerCase()=="iframe"){b=a.frameElement.id;if(!b){return false;}return b;}else{return false;}}else{return false;}}catch(g){return false;}}else{h=h.parentNode;if(h==null||h==undefined){return false;}}}};nclk.absPath=function(a){var e=window.location;var f=e.href;var b=e.protocol+"//"+e.host;if(a.charAt(0)=="/"){if(a.charAt(1)=="/"){return e.protocol+a;}else{return b+a;}}if(/^\.\//.test(a)){a=a.substring(2);}while(/^\.\./.test(a)){if(b!=f){f=f.substring(0,f.lastIndexOf("/"));}a=a.substring(3);}if(b!=f){if(a.charAt(0)!="?"&&a.charAt(0)!="#"){f=f.substring(0,f.lastIndexOf("/"));}}if(a.charAt(0)=="/"){return f+a;}else{if(a.charAt(0)=="?"){f=f.split("?")[0];return f+a;}else{if(a.charAt(0)=="#"){f=f.split("#")[0];return f+a;}else{return f+"/"+a;}}}};function clickcr(g,I,u,E,F,B,z){if(arguments.length==1){if(typeof nclk.generateCC!="undefined"){nclk.generateCC(arguments[0]);}return;}var G=navigator.userAgent.toLowerCase();var k=(G.indexOf("safari")!=-1?true:false);var D=/msie/.test(G)&&!/opera/.test(G);var l=(window.location.protocol=="https:")?"https:":"http:";var a=ccsrv.substring(ccsrv.indexOf(".")+1);var t=window.event?window.event:F;var s=-1;var q=-1;var p=-1;var n=-1;var S,f,i;var r,j,m;var N,K,J,M,A,C,w;var P;var H=0;if(!B){B="0";}else{B=String(B);}if(!z){z="";}if(B.indexOf("n")==0){H=0;}else{if(window.g_ssc!=undefined&&window.g_query!=undefined){H=1;}else{H=0;}}try{M=nclk.windowSize(window);i=nclk.checkIframe(g);if(i){var v=nclk.findPos(document.getElementById(i));if(t.clientX&&t.clientX!=undefined){S=document.body;if(S.clientLeft&&S.clientTop){ifrSx=t.clientX-S.clientLeft;ifrSy=t.clientY-S.clientTop;}else{ifrSx=t.clientX;ifrSy=t.clientY;}}p=v[0]+ifrSx;n=v[1]+ifrSy;if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){S=document.body;s=p-S.scrollLeft;q=n-S.scrollTop;}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){f=document.documentElement;s=p-f.scrollLeft;q=n-f.scrollTop;}else{s=p;q=n;}}}else{if(t.clientX&&t.clientX!=undefined){S=document.body;if(S.clientLeft&&S.clientTop){s=t.clientX-S.clientLeft;q=t.clientY-S.clientTop;}else{s=t.clientX;q=t.clientY;}}if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){p=document.body.scrollLeft+(s<0?0:s);n=document.body.scrollTop+(q<0?0:q);}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){f=document.documentElement;if(f.scrollLeft!=undefined){p=f.scrollLeft+(s<0?0:s);}if(f.scrollTop!=undefined){n=f.scrollTop+(q<0?0:q);}}else{p=(s<0?0:s);n=(q<0?0:q);}}if(t.pageX){p=t.pageX;}if(t.pageY){n=t.pageY;}}}catch(Q){}if(I==""||typeof I=="undefined"){return;}if(B.indexOf("1")!=-1){r=0;}else{if(g.href){A=g.nodeName.toLowerCase();C=g.href.toLowerCase();if((g.target&&g.target!="_self"&&g.target!="_top"&&g.target!="_parent")||(C.indexOf("javascript:")!=-1)||(g.getAttribute("href",2)&&g.getAttribute("href",2).charAt(0)=="#")||(C.indexOf("#")!=-1&&(C.substr(0,C.indexOf("#"))==document.URL))||A.toLowerCase()=="img"||D&&window.location.host.indexOf(a)==-1){r=0;}else{r=1;}}else{r=0;}}if(g.href&&g.href.indexOf(l+"//"+ccsrv)==0){j=g.href;}else{j=l+"//"+ccsrv+"/"+nclkModule+"?a="+I+"&r="+E+"&i="+u;j+="&bw="+M+"&px="+p+"&py="+n+"&sx="+s+"&sy="+q+"&m="+r;if(H==0){j+="&nsc="+nsc;}else{if(H==1){j+="&ssc="+g_ssc+"&q="+encodeURIComponent(g_query)+"&s="+g_sid+"&p="+g_pid+"&g="+z;}}if(C&&C.indexOf(l+"//"+ccsrv)!=0&&A.toLowerCase()!="img"){var O=g.href;if(g.outerHTML&&!window.XMLHttpRequest){O=(/\shref=\"([^\"]+)\"/i.test(g.outerHTML)&&RegExp.$1).replace(/\\/g,"\\\\").replace(/%([A-Z0-9]{2})/ig,"\\$1");(d=document.createElement("div")).innerHTML=O;O=d.innerText.replace(/\\([A-Z0-9]{2})/gi,"%$1").replace(/\\\\/g,"\\");}C=O.toLowerCase();if(C.indexOf("http:")==0||C.indexOf("https:")==0||C.indexOf("javascript:")==0){j+="&u="+encodeURIComponent(O);}else{w=nclk.absPath(O);j+="&u="+encodeURIComponent(w);}}else{if(g.href){if(g.href.length>0){j+="&u="+encodeURIComponent(g.href);}else{j+="&u=about%3Ablank";}}else{j+="&u=about%3Ablank";}}}if(r==1){P=g.innerHTML;g.href=j;if(g.innerHTML!=P){g.innerHTML=P;}}else{if(document.images){var L=new Date().getTime();j+="&time="+L;if(k&&!g.href){var R=c=new Date();while((R.getTime()-c.getTime())<100){R=new Date();}var N=new Image();nclkImg.push(N);N.src=j;}else{var N=new Image();nclkImg.push(N);N.src=j;}}}return true;}
var JEagleEyeClient={_fnCondition:function(){return true;},_bEnable:false,_bIsIE:/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),_bEnableRaiseErrorByOnError:(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent))||/firefox/i.test(navigator.userAgent),_bDebugOnly:false,_bSendScriptName:false,_sFirtFunctionBody:null,_sStackMode:((),_oStackMethodFactory:{other:chrome:firefox:opera:,_setFirstFunctionBody:_stringifyArguments:_trim:_getStackTrace:_makeResultStack:attachOnError:raiseError:function($$oEx,oScope,oOptions){this._processError($$oEx,false,oScope,oOptions);},ignoreError:sendError:function(sMessage){this._sendToServer(sMessage);},_processError:_getCallerFunctionName:_sendToServer:function(sMessage,sUrl,nLine,oOptions){sUrl=sUrl||document.location;nLine=parseInt(nLine||0,10);oOptions=oOptions||{};if(this._bIsIE){nLine--;}var sRequestUrl="https://cecs.naver.com/?m="+encodeURIComponent(sMessage)+"&u="+encodeURIComponent(sUrl)+"&l="+nLine;if(typeof oOptions.callstack!="undefined"){sRequestUrl+="&callstack="+encodeURIComponent(oOptions.callstack);}var sGeneral="";if(this._sFirtFunctionBody!=null){oOptions.funcBody=this._trim(this._sFirtFunctionBody).substring(0,200)+"..";this._sFirtFunctionBody=null;sGeneral+="= function =\n"+oOptions.funcBody+"\n\n";}if(typeof oOptions.message!="undefined"){sGeneral+="= message =\n"+oOptions.message+"\n\n";}if(typeof oOptions.params!="undefined"){oOptions.params=this._stringifyJSON(oOptions.params);sGeneral+="= params =\n"+oOptions.params;}if(this._bSendScriptName){sGeneral+=(sGeneral!=""?"\n\n":"")+"= scripts =\n";var scripts=document.getElementsByTagName("script");for(var i=0,count=scripts.length;i<count;i++){var sScriptUrl=scripts[i].src;if(sScriptUrl!=""&&sScriptUrl.indexOf("JEagleEyeClient.js")==-1){sGeneral+=sScriptUrl+"\n";}}}if(sGeneral!=""){sRequestUrl+="&general="+encodeURIComponent(sGeneral);}sRequestUrl+="&temp="+new Date().getTime();if(this._bDebugOnly){alert("* 에러 : "+sMessage+"\n* 파일 : "+sUrl+"\n* 라인 : "+nLine+"\n\n* function : "+oOptions.funcBody+"\n\n* message : "+oOptions.message+"\n\n* callstack : "+oOptions.callstack+"\n\n* params : "+oOptions.params+"\n\n*request : "+sRequestUrl);}else{var oImg=new Image();oImg.src=sRequestUrl;}},_st"]":"}");}}ndition();},setCondition:function(fnCondition){this._fnCondition=fnCondition;},setEnable:function(bEnable){this._bEnable=bEnable;},setDebugOnly:function(bDebugOnly){this._bDebugOnly=bDebugOnly;},setSendScriptName:function(bSendScriptName){this._bSendScriptName=bSendScriptName;}};$JE=function(){};
var __userAgent__=window.navigator.userAgent.toLowerCase(),__isIE__=__userAgent__.indexOf("msie")!=-1||__userAgent__.indexOf("trident")!=-1,__pageShowKey__=__isIE__?"load":"pageshow",__domreadyKey__=__isIE__?"load":"domready",__isFF__=__userAgent__.indexOf("firefox")>-1,__bIEVerLessThan9__=__userAgent__.indexOf("msie 7")>-1||__userAgent__.indexOf("msie 8")>-1,__bIEVerLessThan10__=__bIEVerLessThan9__||__userAgent__.indexOf("msie 9")>-1,__isIE9__=__userAgent__.indexOf("msie 9")!=-1,__isIE10__=__userAgent__.indexOf("msie 10")!=-1,__isIE11__=__userAgent__.indexOf("rv:11.0")!=-1,__isChrome__=__userAgent__.indexOf("chrome")>-1,__appHeaderTitle__="",__jsLoad__={},__isHttps__=location.protocol=="https:";__viewerMaxHeight__=1059;window.__stopEventHandler__=function(evt){};mug=window.mug||{};mug.api={IS_AUTHOR_SUBSCRIBED:"/api/isAuthorSubscribed.naver",CANCEL_SUBSCRIBE_AUTHOR:"/api/cancelSubscribeAuthor.naver",SUBSCRIBE_AUTHOR:"/api/subscribeAuthor.naver",IS_SERIES_SUBSCRIBED:"/api/isSeriesSubscribed.naver",CANCEL_SUBSCRIBE_SERIES:"/api/cancelSubscribeSeries.naver",SUBSCRIBE_SERIES:"/api/subscribeSeries.naver",CANCEL_SUBSCRIBE_THEME_SERIES:"/api/cancelSubscribeThemeSeries.naver",SUBSCRIBE_THEME_SERIES:"/api/subscribeThemeSeries.naver",CANCEL_SUBSCRIBE_THEME_AUTHOR:"/api/cancelSubscribeThemeAuthor.naver",SUBSCRIBE_THEME_AUTHOR:"/api/subscribeThemeAuthor.naver",IS_RECOMMENDED:"/api/isRecommended.naver",CANCEL_RECOMMEND:"/api/cancelRecommend.naver",DO_RECOMMEND:"/api/doRecommend.naver"};mug.EmptyFunction=function(){};if(!window.console){window.console={log:mug.EmptyFunction};}mug.config={DOMAIN:location.protocol+"//"+(location.host?location.host:"m.post.naver.com"),LOGIN_URL:"https://nid.naver.com/nidlogin.login",BLOCKED_USER_URL:"/blockedUser."+mug.$.UserAgent.urlExtension};mug.msg={REQUEST_ERROR_MESSAGE:"데이터를 불러오는 데에 실패했습니다."};mug.common=mug.common||{};mug.common.sendToBizCatcher=function(oAElement,clickCode){nclk_v2(oAElement,clickCode,"","","1");sendToBizCatcher(oAElement);return false;};mug.common.nclick=function(el,clickCode,evt,r,nclick_prefix,signature){var nouseRedirect;if(mug.$.UserAgent.isInapp){nouseRedirect="1";}else{nouseRedirect="0";}r=r||"";var fixed_clickCode=clickCode;if(nclick_prefix!=null&&nclick_prefix!=""){fixed_clickCode=nclick_prefix+""+fixed_clickCode;}try{if(evt){nclk_v2(el,fixed_clickCode,"",r,signature);}else{if(window.event){nclk_v2(el,fixed_clickCode,"",r,signature);}else{nclk_v2(el,fixed_clickCode,"",r,signature);}}}catch(e){if(window.console){console.log(e.message);}return;}if(mug.$.UserAgent.isInapp||!el.href){}mug.common.sleep(100);};mug.common.ntmSendContentsViewLog=function(){var nilSendInfo=mug.common._nilSendInfo;if(!window.ntm||!nilSendInfo){return;}if(nilSendInfo.isAuthorSelf=="true"){return;}const availableEventCategory=["post_view","comment_list","like_list","my","series_detail","series_collabo","series_members"];if(availableEventCategory.indexOf(nilSendInfo.eventCategory)<0){return;}var userType=(nilSendInfo.isFollowingAuthor=="true")?"1":"0";var contentId=null;if(nilSendInfo.eventCategory==="my"||nilSendInfo.eventCategory==="series_detail"||nilSendInfo.eventCategory==="series_collabo"||nilSendInfo.eventCategory==="series_members"){contentId="http://post.naver.com/my.nhn?memberNo="+nilSendInfo.channelId;}else{if(nilSendInfo.eventCategory==="post_view"||nilSendInfo.eventCategory==="comment_list"||nilSendInfo.eventCategory==="like_list"){contentId="http://post.naver.com/viewer/postView.nhn?memberNo="+nilSendInfo.channelId+"&volumeNo="+nilSendInfo.volumeNo;}}var ntmData={event:"nilSend",ni:{hitType:"cv",eventCategory:nilSendInfo.eventCategory,channelId:nilSendInfo.channelId,contentId:contentId,userType:userType}};if(mug.common.isDev()||mug.common.isQa()){ntmData.ni.isDev=true;}if(nilSendInfo.seriesNo){ntmData.ni.dimension1=nilSendInfo.seriesNo;}if(nilSendInfo.gdid){ntmData.ni.gdid=nilSendInfo.gdid;}window.ntm.push(ntmData);};mug.common.ntmSendLeaveEvent=function(){var nilSendInfo=mug.common._nilSendInfo;if(!window.ntm||!nilSendInfo||!nilSendInfo.volumeNo){return;}if(nilSendInfo.isAuthorSelf=="true"){return;}var userType=(nilSendInfo.isFollowingAuthor=="true")?"1":"0";var ntmData={event:"nilSend",ni:{hitType:"event",eventCategory:"action",eventAction:"leave",channelId:nilSendInfo.channelId,contentId:"http://post.naver.com/viewer/postView.nhn?memberNo="+nilSendInfo.channelId+"&volumeNo="+nilSendInfo.volumeNo,userType:userType,gdid:nilSendInfo.gdid,dimension1:nilSendInfo.seriesNo,},};if(mug.common.isDev()||mug.common.isQa()){ntmData.ni.isDev=true;}window.ntm.push(ntmData);};mug.common.nilSendClickEvent=function(eventAction,eventLabel){var nilSendInfo=mug.common._nilSendInfo;if(!window.ntm||!nilSendInfo){return;}if(nilSendInfo.isAuthorSelf=="true"){return;}var userType=(nilSendInfo.isFollowingAuthor=="true")?"1":"0";var ntmData={event:"nilSend",ni:{hitType:"event",eventCategory:"click",eventAction:eventAction,eventLabel:eventLabel,channelId:nilSendInfo.channelId,contentId:"http://post.naver.com/viewer/postView.nhn?memberNo="+nilSendInfo.channelId+"&volumeNo="+nilSendInfo.volumeNo,userType:userType,gdid:nilSendInfo.gdid,dimension1:nilSendInfo.seriesNo}};if(mug.common.isDev()||mug.common.isQa()){ntmData.ni.isDev=true;}window.ntm.push(ntmData);};mug.common.getSe2MaterialLink=function(welParent){if(welParent.hasClass("post_add_book")){return"1";}else{if(welParent.hasClass("post_add_tvmovie")){return"2";}else{if(welParent.hasClass("post_add_music")){return"3";}else{if(welParent.hasClass("post_add_product")){return"4";}else{return"5";}}}}};mug.common.getSe3MaterialLink=function(welParent){if(welParent.hasClass("subjectMatter_book")){return"1";}else{if(welParent.hasClass("subjectMatter_movie")||welParent.hasClass("subjectMatter_broadcast")){return"2";}else{if(welParent.hasClass("subjectMatter_music")){return"3";}else{if(welParent.hasClass("subjectMatter_shopping")){return"4";}else{if(welParent.hasClass("subjectMatter_news")){return"5";}}}}}};mug.common.nilSendShareEvent=function(shareTarget){var nilSendInfo=mug.common._nilSendInfo;if(!window.ntm||!nilSendInfo||!nilSendInfo.volumeNo){return;}if(nilSendInfo.isAuthorSelf=="true"){return;}var userType=(nilSendInfo.isFollowingAuthor=="true")?"1":"0";var ntmData={event:"nilSend",ni:{hitType:"event",eventCategory:"export",eventAction:shareTarget,channelId:nilSendInfo.channelId,contentId:"http://post.naver.com/viewer/postView.nhn?memberNo="+nilSendInfo.channelId+"&volumeNo="+nilSendInfo.volumeNo,userType:userType,gdid:nilSendInfo.gdid,dimension1:nilSendInfo.seriesNo}};if(mug.common.isDev()||mug.common.isQa()){ntmData.ni.isDev=true;}window.ntm.push(ntmData);};mug.common.setNilInfo=function(channel_id,author_no,gdid,volume_no){var isAuthorSelf="false";var isFollowingAuthor="false";if(channel_id==author_no){isAuthorSelf="true";}var jsonData={memberNo:author_no,volumeNo:volume_no};jQuery.ajax({url:"/async/feedDot.naver",type:"POST",data:jsonData,dataType:"json",success:function(resp){if(!resp||!resp.result){return;}var rJson=resp.result;if(rJson.resultType!="OK"){return;}if(rJson.feedTargetVOList.length>0){isFollowingAuthor="true";}mug.common._nilSendInfo={channelId:channel_id,gdid:gdid,volumeNo:volume_no,isAuthorSelf:isAuthorSelf,isFollowingAuthor:isFollowingAuthor};},timeout:1000});};mug.common.sleep=function(delay){delay=delay||100;var R=c=new Date();while((R.getTime()-c.getTime())<delay){R=new Date();}};mug.common.checkBodyStyleByPlatform=function(){var os=eg.agent().os;if(os.name=="ios"){var elBody=jQuery(document.body);var ver=parseFloat(os.version);if(ver>=5.1){elBody.addClass("s3");}else{if(ver<=4.1){elBody.addClass("s2");}}}};mug.common.checkLogin=function(url){if(!mug.$.User.isLoggedIn){url=url||location.href;location.href=mug.config.LOGIN_URL+"?url="+encodeURIComponent(url)+(mug.$.UserAgent.isMobile?"&svctype=262144":"");return false;}return true;};mug.common.logout=function(){function _f(){var s="https://"+window.location.hostname;var pathname=window.location.pathname;if(pathname.indexOf("/viewer/postView.nhn")==0){s=location.href;}var url="https://nid.naver.com/nidlogin.logout?url="+encodeURIComponent(s);try{location.href=url;}catch(e){}}if(confirm("로그아웃 하시겠습니까?")){_f();}};mug.common.isDialogEffectSupported=function(){return false;};mug.common.getDialogOptions=function(){return{sPosition:"center",bUseEffect:mug.common.isDialogEffectSupporOf("http://local.isQa=function(){return location.href.indexOf("http://qa")>-1;};mug.common.getDeployPhase=function(){var href=location.href;var regex=/^https?:\/\/([A-Za-z\-]+)\./g;var match=regex.exec(href);if(match==null){return"real";}var phase=match[1];if(phase==="m"||phase==="post"){return"real";}else{if(phase==="local"){return"local";}else{if(phase==="dev"){return"dev";}else{if(phase==="qa"){return"qa";}else{if(phase==="stage"||phase==="stage-m"){return"stage";}}}}}return"real";};mug.common.getEditorUrl=function(){var href=location.href;var regex=/^https?:\/\/([A-Za-z\-]+)\./g;var match=regex.exec(href);if(match==null){return"https://editor.post.naver.com";}var phase=match[1];if(phase==="m"||phase==="post"){return"https://editor.post.naver.com";}else{if(phase==="local"){return"http://dev.editor.post.naver.com";}else{if(phase==="dev"){return"http://dev.editor.post.naver.com";}else{if(phase==="qa"){return"http://qa.editor.post.naver.com";}else{if(phase==="stage"||phase==="stage-m"){return"https://stage-editor.post.naver.com";}}}}}return mug.$.Props.ugcEditorUrl;};mug.common.getUgcEditorUrl=function(){var href=location.href;var regex=/^https?:\/\/([A-Za-z\-]+)\./g;var match=regex.exec(href);if(match==null){return mug.$.Props.ugcEditorUrl;}var phase=match[1];if(phase==="m"||phase==="post"){return mug.$.Props.ugcEditorUrl;}else{if(phase==="local"){return mug.$.Props.ugcEditorUrl;}else{if(phase==="dev"){return mug.$.Props.ugcEditorUrl;}else{if(phase==="qa"){return mug.$.Props.ugcEditorUrl;}else{if(phase==="stage"||phase==="stage-m"){return mug.$.Props.ugcEditorUrl;}}}}}return mug.$.Props.ugcEditorUrl;};mug.common.getHttpMobileUrl=function(){var href=location.href;var regex=/^https?:\/\/([A-Za-z\-]+)\./g;var match=regex.exec(href);if(match==null){return"https://post.naver.com";}var phase=match[1];if(phase==="m"||phase==="post"){return"https://post.naver.com";}else{if(phase==="local"){return"http://local.post.naver.com";}else{if(phase==="dev"){return"http://dev.post.naver.com";}else{if(phase==="qa"){return"http://qa.post.naver.com";}else{if(phase==="stage"||phase==="stage-m"){return"http://stage.post.naver.com";}}}}}return"https://post.naver.com";};mug.common.getMobileUrl=function(){var href=location.href;var regex=/^https?:\/\/([A-Za-z\-]+)\./g;var match=regex.exec(href);if(match==null){return location.protocol+"//post.naver.com";}var phase=match[1];if(phase==="m"||phase==="post"){return location.protocol+"//post.naver.com";}else{if(phase==="local"){return location.protocol+"//local.post.naver.com";}else{if(phase==="dev"){return location.protocol+"//dev.post.naver.com";}else{if(phase==="qa"){return location.protocol+"//qa.post.naver.com";}else{if(phase==="stage"){return location.protocol+"//stage.post.naver.com";}else{if(phase==="stage-m"){return location.protocol+"//stage-m.post.naver.com";}}}}}}return location.protocol+"//post.naver.com";};mug.common.moveToAppLauncherUgcEditorUrl=function(){var pcUrl=mug.common.getEditorUrl()+"/authoringcontent/make.naver";mug.common.util.execAppUrlWithPcUrl("postEditor?version=2",pcUrl);};!function(){var topBannerKey="close_home_top_banner";mug.common.closeTopBanner=function(){var elBanner=$("__app_dn_ad_banner");if(elBanner){elBanner.style.display="none";$Cookie().set(topBannerKey,"1",7);}};mug.common.checkTopBanner=function(){var cookieValue=$Cookie().get(topBannerKey);var elBanner=$("__app_dn_ad_banner");if(elBanner){if(!cookieValue){elBanner.style.display="";}else{elBanner.style.display="none";}}};}();mug.common.util=mug.common.util||{};mug.common.util.execAppUrl=function(actionUrl){var os=eg.agent().os;var ver=0;try{ver=parseFloat(os.version);}catch(e){}actionUrl=actionUrl||"";var useIntent=(os.name=="android"&&actionUrl.indexOf("naverpost:")>-1&&!mug.$.UserAgent.isInapp);if(useIntent){location.href="intent:"+actionUrl+"#Intent;package=com.nhn.android.post;end;";}else{if(actionUrl.indexOf("intent:")>-1){location.href=actionUrl;}else{if(os.name!="ios"||ver<9){var $elIframe=jQuery('<iframe class="__postapp_url_scheme_frame__" src="'+actionUrl+'" border="0" scrolling="none" width="0" height="0" style="top:-100px;left:-100px;display:none"></iframe>');jQuery(document.body).append($elIframe);}else{location.href=actionUrl;}}}};mug.common.util.parseQuery=function(qstr){qstr=qstr||"";if(qstr.indexOf("?")>0){qstr=qstr.substr(qstr.indexOf("?")+1);}var query={};var a=qstr.split("&");for(var i=0;i<a.length;i++){var b=a[i].split("=");query[decodeURIComponent(b[0])]=decodeURIComponent(b[1]);}return query;};mug.appUrl={iOS:{prefix:"naverpost://",postfix:"",marketUrl:"https://itunes.apple.com/kr/app/id719376902"},android:{prefix:"intent://",postfix:"#Intent;scheme=naverpost;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=com.nhn.android.post;end",marketUrl:"https://play.google.com/store/apps/details?id=com.nhn.android.post"}};mug.common.util.execAppUrlWithPcUrl=function(schemeUrl,pcUrl){var appUrl=mug.appUrl;var osName=eg.agent().os.name;function getAppUrl(urlScheme){urlScheme=urlScheme||"";if(isAndroid()){return appUrl.android.prefix+urlScheme+appUrl.android.postfix;}else{if(isIos()){return appUrl.iOS.prefix+urlScheme+appUrl.iOS.postfix;}}return null;}function goMobileWeb(){var marketUrl=isIos()?mug.appUrl.iOS.marketUrl:mug.appUrl.android.marketUrl;window.location.href=marketUrl;}function openOrInstallApp_ios(urlScheme){var ver=0;try{ver=parseFloat(eg.agent().os.version);}catch(e){}var clickedAt=+new Date;if(ver<9){try{var clickedAt=+new Date;naverAppCheckTimer=setTimeout(function(){if(+new Date-clickedAt<2000){window.location.href=appUrl.iOS.marketUrl;}},1500);}catch(e){showNA();}var applinkDiv=document.createElement("DIV");document.body.appendChild(applinkDiv);applinkDiv.innerHTML="<iframe src='"+getAppUrl(urlScheme";setTimeout(function(){document.body.removeChild(applinkDiv);},1500);}else{try{var sUl="https://ul.post.naver.com/launchApp/"+urlScheme;location.href=sUl;}catch(e){window.location.href=appUrl.iOS.marketUrl;}}naverAppCheckTimer=setTimeout(function(){if(+new Date-clickedAt<2500){window.location.href=appUrl.iOS.marketUrl;}}tTimeout(function(){window.location.href=getAppUrl(urlScheme);},300);}function launch(urlScheme){if(isAndroid()){openOrInstallApp_android(urlScheme);}else{if(isIos()){openOrInstallApp_ios(urlScheme);}else{turn osName=="android";}function isIos(){return osName=="ios";}if(typeof pcUrl=="string"&&pcUrl!=""&&pcUrl.length>0&&!mug.$.UserAgent.isMobile){location.hreflace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");};mug.common.util.decodeHtmlEntities=function(str){str=str||"";str=str.replace(/&lt;/gi,"<");str=str.replace(/&gt;/gi,">");str=str.replace(/&#40;/gi,"(");str=str.replace(/&#41;/gi,")");str=str.replace(/&#39;/gi,"'");str=str.replace(/&amp;/gi,"&");str=str.replace(/&amp;/gi,"&");str=str.replace(/&quot;/gi,"＂");return str;};mug.common.util.clearTags=function(str){str=nction(str){str=str||"";return str.replace(/<br\s*\/?>/mg,"\n");};mug.common.util.reloadLocation=function(addParam){addParam=addParam||"";if(addParam==""){window.location.reload();return;}var href=location.href;if(href.search(addParam)>-1){window.location.reload();return;}if(href.search("\\?")>-1){href+="&";}else{href+="?";}window.location.href=href+addParam;};mug.common.util.screenSize=function(el){var doc=jQuery(document.body);var w=doc.width();var h=doc.height();if(mug.$.UserAgent.isMobile||(__isIE__&&__bIEVerLedia){return{width:w,height:h,isMobile:function(unction(){return w>640&&w<1024;},isPC:function(){return w>=1024;}};}else{return{width:w,height:h,isMobile:function(){return matchMedia("(max-width:640px)").matches;},isTablet:function(){return matchMedia("(min-width:isPC:function(){return matchMedia("(min-width:1024px)").matches;}};}};mug.common.util.goBack=function(wantedUrl,doNotCloseInNaverApp){if(mug.$.UserAgent.isInNaverApp){mug.common.util.goBackForNaverApp(wantedUrl,doNotCloseInNaverApp);return;}if(1<history.length){history.back();}else{try{wantedUrl=wantedUrl||"/";location.href=wantedUrl;}catch(e){location.href=wantedUrl;}}};mug.common.util.goBackForNaverApp=function(wantedUrl,doNotCloseInNaverApp){if(!mug.$.UserAgent.isInNaverApp){mug.common.util.goBack(wantedUrl,doNotCloseInNaverApp);return;}if(1<hip){setTimeout(function(){location.href="naverapp://closewindow";},1000);}}else{if(!!wantedUrl){location.href=wantedUrl;}else{location.href="naverapp://closewindow";}}};mug.common.util.copyUrlToClipboard=function(txt){var agent=$Agent();var os=agent.os();if(agent.navigator().mobile||os.ipad){temp=prompt("URL을 길게 누르면 복사할 수 있습니다.",txt);}else{if(__isIE__){window.clipboardData.setData("Text",txt);alert("클립보드로 복사하였습니다.");}else{temp=prompt("이 페이지의 주소입니다. Ctrl+C를 눌러 클립보드로 복사하세요",txt);}}};!function($){var __shortUrlMapByUrl={};mug.common.util.requestShortUrl=function(url,fnCallback){if(!!__shortUrlMapByUrl[url]){fnCallback(__shortUrlMapByUrl[url]);return;}var cb=function(resultJson){try{var shortUrl=resultJson.result;var sResultStatus=resultJson.resultStatus||"";if("error"==sResultStatus){shortUrl=url;}if(location.protocol==="https:"){shortUrl=shortUrl.replace("http:","https:");}__shortUrlMapByUrl[url]=shortUrl;fnCallback(shortUrl);}catch(e){alert("단축URL을 생성ax({url:"/contents/shortUrl.nhn",dataType:"json",method:"get",data:{url:url},success:cb,error:cb});};}(jQuery);mug.common.util.sendError=function(sMessage){JEagleEyeClient.sendError(sMessage);};mug.common.util.raiseError=function(oEx){var htMessage={message:oEx.message+"\n\n["+oEx.filename+"]"};JEagleEyeClient.raiseError(oEx,this,htMessage);};mug.common.util.ignoreError=function(oEx){var htMessage={message:oEx.message+"\n\n["+oEx.filename+"]"};JEagleEyeClient.ignoreError(oEx,this,htMessage);};mug.common.util.attachOnError=function(){jQuery(window).on("error",function(je){if(mug.$.UserAgent.isInapp){return;}if(location.pathname.indexOf("viewer")>-1){return;}var e=je.originalEvent;var errMsg=e.error.message||"";if(errMsg.indexOf("Script error.")>-1){return;}var message=errMsg+"\n("+e.filename+")";mug.common.util.sendError(errMsg);});};mug.common.util.replaceUrl=function(sUrl){if(!window.history.replaceState){return;}window.history.replaceState({},"tmp",sUrl);};mug.common.util.getLocationHashMap=function(){var locationHash=location.hash.replace("#","");if(!locationHash){return{};}return mug.common.util.parseQuery(locationHash);};mug.common.util.getLocationSearchMap=function(){var locationSearch=location.search.replace("?","");if(!locationSearch){return{};}return mug.common.util.parseQuery(locationSearch);};(function($){var cacheInstance=null;mug.common.util.getLocalCache=function(forcedCacheType){forcedCacheTynce){cacheInstance=new (eg.Class({_cacheSupport:false,_cacheType:"",_cookie:null,construct:function(){this._cookie={get:function(k){return $.cookie(k);},set:function(k,v){return $.cookie(k,v);}};this._cacheSupport=this._isCacheSupported();},get:function(key){if(this._cacheSupport){if(this._cacheType=="localStorage"){return localStorage.getItem(key);}else{if(this._cacheType=="cookie"){return this._cookie.get(key);}}}return null;},set:function(key,val){if(this._cacheSupport){if(this._cacheType=="localStorage"){return localStorage.setItem(key,val);}else{if(this._cacheType=="cookie"){return this._cookie.set(key,val+"");}}}},_isCacheSupported:function(){var localStorageSupport=this._isLocalStorageSupported();if(localStorageSupport){this._cacheType="localStorage";return true;}else{this._cacheType="cookie";if(this._cookie){return true;}else{return false;}}},_isLocalStorageSupported:function(){var localStorageSupport="localStorage" in window&&window.localStorage!==null;if(localStorageSupport){try{window.localStorage.setItem("postTestKey",1);window.localStorage.removeItem("postTestKey");return true;}catch(e){return false;}}else{return false;}},isSupported:function(){return this._cacheSupport;}}))();}if(forcedCacheType!=""){cacheInstance._cacheType=forcedCacheType;}window.__localCache=cacheInstance;return cacheInstance;};})(jQuery);mug.common.createBridgeUrl=function(destUrl,includeMetaTags){includeMetaTags=includeMetaTags||false;var bridgePageUrl="http://"+location.host+"/bridgeLauncher.nhn";var sourceUrl=bridgePageUrl+"?url="+encodeURIComponent(destUrl);if(!!includeMetaTags){sourceUrl+="&includeMetaTags=true";}return sourceUrl;};mug.common.createAppUrl=function(destUrl){var retUrl=jindo.$Template("naverpost://bridgePage?url={=url}&version=1").process({url:encodeURIComponent(destUrl)});return retUrl;};!function(window){function __openViewerToApp(authorMemberNo,volumeNo,clipNo){var schemeUrl="open/post?memberNo="+authorMemberNo+"&volumeNo="+volumeNo;if(!!clipNo&&isNaN(Number(clipNo))==false){appUrl+="&clipNo="+clipNo;}mug.common.util.execAppUrlWithPcUrl(schemeUrl);}window.__openViewerToApp=__openViewerToApp;}(window);mug.common.numberFormat=function(a){a+="";return a.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");};mug.common.showAlert=function(message,aniDuration){message=message||"";aniDuration=aniDuration||2;var elAlert=jQuery("#__custom_alert_layer_template");if(!elAlert.length){alert(message);return;}var templateHtml=elAlert.html();message=message.replace("\n","<br />");templateHtml=templateHtml.replace("{=message}",message);templateHtml=templateHtml.replace("{=duration}",aniDuration);var el=jQuery(templateHtml);jQuery(document.body).append(el);var docHeight=jQuery(document.body).height();var scrollTop=jQuery(document).scrollTop();var os=eg.agent().os;var osVersion=parseInt(os.version||0);if(os.name=="android"&&osVersion<3){el.css("top",((docHeight/2)+scrollTop)+"px");}else{el.css("top",(docHeight/2)+"px");}el.show();setTimeout(function(){el.remove();try{!!window.__viewer&&__viewer.hideLoading();}catch(e){}},aniDuration*1000+1);};!function($){mug.common.ReadChecker=function(){this._sReadCssClass=null;this.$init=function(htParams){var localCache=mug.common.util.getLocalCache();if(!localCache.isSupported()){return;}htParams=htParams||{};htParams.targetElements=htParams.targetElements||$("[data-readKey]");this._sReadCssClass=htParams.readCssClass||"on";this.targetElements=htParams.targetElements;this.attachEventAndCheckReadStatus();};this.attachEventAndCheckReadStatus=function(){var localCache=mug.common.util.getLocalCache();var readCssClass=this._sReadCssClass;function setOnElement(el){var elContainer=el.parents("li");if(elContainer.length>0){elContainer.addClass(readCssClasst){var we=$(linkElement);var rKey=we.attr("data-readKey");if(localCache.get(rKey)=="1"){setOnElement(we);}we.unbind("click");we.on("click",function(){setOnElement(we);localCache.set(rKey,"1");});});};};}(jQuery);mug.common.ui=mug.common.ui||{};(function($){mug.common.goPcEditorOrAlert=function(alertMessage,volumeNo,editPlatformType,templateTypeName){if(mug.$.UserAgent.isRos){alert("점검중으로 조회만 가능합니다. 양해부탁드립니다.");return;}editPlatformType=editPlatformType||"";templateTypeName=templateTypeName||"";if(mugame=="ios"){var html=$("#__template_editor_warning").html();html=html.replace(/{=volumeNo}/g,volumeNo).replace(/{=memberNo}/g,mug.$.User.memberNo);$(document.body).append(html);var stopEventHandler=function(evt){evt.stopPropagation();};$(".__template_editor_warning .dim").on("touchmove",stopEventHandler);}else{if("UGC_EDITOR"==editPlatformType){if("ugc_card"==templateTypeName){location.href=mug.common.getUgcEditorUrl()+"/editor?docId="+volumeNo+"&docType=card";}else{location.href=mug.common.getUgcEditorUrl()+"/editor?docId="+volumeNo;}return;}if(!!window.__templateType__&&(__templateType__=="6"||__templateType__=="7")){var se3EditorUrl=mug.common.getUgcEditorUrl()+"/editor?docId="+volumeNo;if(__templateType__=="7"){se3EditorUrl+="&docType=card";}location.h"/post/write.nhn?volumeNo="+volumeNo;}}};})(jQuery);mug.common.Component=eg.Class({_htAttach:{},_htOption:{},construct:function(elView,oOption){this._htOption={};this._htOption._htSetter={};},attach:function(ht){this._htAttach=ht||{};},fireEvent:function(sEvent,htData){if(!!this._htAttach[sEvent]){try{this._htAttach[sEvent](htData);}catch(e){}}return true;},option:function(sName,vValue){switch(typeof sName){case"undefined":var oOption={};for(var i in this._htOption){if(!(i=="htCustomEventHandler"||i=="_htSetter")){oOption[i]=this._htOption[i];}}return oOption;case"string":if(typeof vValue!="undefined"){if(sName=="htCustomEventHandler"){if(typeof this._htOption[sName]=="undefined"){this.attach(vValue);}else{return this;}}this._htOption[sName]=vValue;if(typeof this._htOption._htSetter[sName]=="function"){this._htOption._htSetter[sName](vValue);}}else{return this._htOption[sName];}break;case"object":for(var sKey in sName){if(sKey=="htCustomEventHandler"){if(typeof this._htOption[sKey]=="undefined"){this.att){this._htOption[sKey]=sName[sKey];}if(typeof this._htOption._htSetter[sKey]=="function"){this._htOption._htSetter[sKey](sName[sKey]);}}break;}return this;},});mug.common.makeToken=function(){return Math.floor(Math.random()*10000000);};mug.common.currentToken=mug.common.makeToken();
!function($){mug=window.mug||{};mug.checkNewNotification=function(){var MAX_NEW_COUNT=99;if($("span.alarm").length==0){return;}console.log();$.ajax({url:"/my/checkNewNotification.naver",dataType:"json",success:function(resultJson){var viewCount=0;if(resultJson.isNewSubscribe){if(resultJson.notificationCount>0&&resultJson.notificationCount<=MAX_NEW_COUNT){viewCount=resultJson.notificationCount;}else{if(resultJson.notificationCount>MAX_NEW_COUNT){viewCount="99+";}}$("span.alarm").append('<em><span><span id="_noti_count_label" class="blind">새 알림 :</span>'+viewCount+"</span></em>");}}});};if(mug.$.UserAgent.isInapp){}else{$(window).load(mug.checkNewNotification);}}(jQuery);
if(!window.mug){mug={};}mug.common=mug.common||{};(function($){function nl2space(str){str=str||"";return str.replace(/\s+/g," ");}var bInitApp=false;mug.common.Sharer={_sTitle:null,_sUrl:null,_sTitleForApp:null,_sMajorImageUrl:"",_sBlogCustomLink:"",_loadSdk:function(){var spluginVersion=Math.floor(new Date().getTime()/1200000);var jsName="splugin.m.js";var resourceUrl="https://ssl.pstatic.net/spi/js/release/ko_KR/"+jsName+"?v="+spluginVersion;if(mug.common.getDeployPhase()=="dev"){resourceUrl="https://dev-spi.naver.com/js/release/ko_KR/"+jsName+"?v="+spluginVersion;}var fnOnload=$.proxy(function(){var self=this;var shareUrl=location.href;var elUrlMetaTag=$("meta[rlMetaTag.attr("content");}window.__splugin=window.__splugin||SocialPlugIn_Core({evKey:"post",serviceName:"포스트",sourceName:"",dimmed:"fixed",url:shareUrl,onClick:function(button){if(button!=="postbtn"){mug.common.nilSendShareEvent(button);}},onShow:function(){$(".naver-splugin").attr("aria-expanded","true");if(mug.$.UserAgent.isInapp){!!__splugin&&__splugin.init();mug.common.Sharer._showDialogToApp();return;}if($(".h_spi_card").parent().find("div.__repost_bt_container").length<1){var html='<div class="__repost_bt_container" style="display: block;"><a href="#" class="btn-share-repost" onclick="mug.common.Sharer.doRepost();mug.common.nclick(this, \'shr.mpost\'); return false;">내 포스트로 보내기</a></div>';$(".h_spi_card").after(html);}if($("#_sharer_spi_copyurl_inappbtn").length==0){var btnDisplay=mug.$.UserAgent.isMobile||eg.agent().os.name=="ios"?"none":"block";if(btnDisplay=="block"){var styleTag="<style id='_sharer_spi_copyurl_inappbtn'>.spi_copyurl_inappbtn {display: "+btnDisplay+"!important;}</style>";$(document.body).append(styleTag);}}!!window.__closeOverflowMenu&&__closeOverflowMenu(1000);try{var nFixedTop=parseInt($("._spi_card_ly").css("top"))-35;$("._spi_card_ly").css("top",nFixedTop+"px");$("[data-button='post']").remove();if(!!self._sBlogCustomLink){var $spiBlog=$("._spi_blog");$spiBlog.unbind("click");$spiBlog.on("click",function(je){location.href=self._sBlogCustomLink;je.stopPropagation();return false;});}}catch(e){}},onHide:function(){$(".naver-splugin").attr("aria-expanded","false");if(!!windowl.screenSize().isTablet()){!!__viewer._initAndShowSlideNotiIndicator&&__viewer._initAndShowSlideNotiIndicator();}}});if(!!window.__splugin){$.each($(".naver-splugin"),function(i,v){var $v=$(v);$v.children().each(function(ii,vv){$(vv).addClass("naver-splugin-c");});});}},this);$.ajax({url:resourceUrl,dataType:"script",cache:true}).done(fnOnload);},loadSdk:function(){this._loadSdk();},doRepost:function(){var httpUrl=this._sUrl.replace(mug.common.getMobileUrl(),mug.common.getHttpMobileUrl());var sUrl="/post/share."+mug.$.UserAgent.urlExtension+"?url="+encodeURIComponent(this._sUrl)+"&title="+encodeURIComponent(this._sTitle);if(mug.$.UserAgent.isInapp||mug.$.UserAgent.isMobile){location.href=mug.common.getMobileUrl()+sUrl;}else{window.open(mug.common.getMobileUrl()+sUrl,"","width=524, height=900");}!!__splugin&&__splugin.init();},update:function(htParam){this._sTitleForApp_old=this._sTitleForApp;this._sTitle_old=this._sTitle;this._sUrl_old=this._sUrl;htParam=htParam||{};var elBtn=htParam.elBtn,paramTitle=htParam.title,paramUrl=htParam.url;sBlogCustomLink=htParam.sBlogCustomLink;$(".naver-splugin").attr("aria-expanded","false");function setAttrIfEmpty(el,key,val){!!el&&!el.getAttribute(key)&&el.setAttribute(key,val);}function getValueFromOg(selector){var $elOgTitle=$(selector),ogMetaTitle=$elOgTitle.length>0?$elOgTitle.attr("content"):"";ogMetaTitle=mug.common.util.decodeHtmlEntities(ogMetaTitle);ogMetaTitle=nl2space(ogMetaTitle);return ogMetaTitle;}this._sUrl=this._sTitle="";this._setMajorImageUrl();if(!this._sBlogCustomLink){this._sBlogCustomLink=sBlogCustomLink;}if(!!elBtn){setAttrIfEmpty(elBtn,"data-style","standard");setAttrIfEmpty(elBtn,"data-url",paramUrl||getValueFromOg("meta[property='og:url']")||location.href);this._sUrl=elBtn.getAttribute("data-url");setAttrIfEmpty(elBtn,"data-title",paramTitle||mug.common.util.decodeHtmlEntities(getValueFromOg("meta[property='og:title']")));this._sTitle=nl2space(elBtn.getAttribute("data-title"));elBtn.setAttribute("data-title",this._sTitle);var imageUrl=getValueFromOg("meta[property='og:image']");setAttrIfEmpty(elBtn,"data-kakaotalk-image-url",imageUrl);setAttrIfEmpty(elBtn,"data-line-image-url",imageUrl);setAttrIfEmpty(elBtn,"data-blog-source-form","2");setAttrIfEmpty(elBtn,"data-cafe-source-form","2");setAttrIfEmpty(elBtn,"data-post-display","off");setAttrIfEmpty(elBtn,"data-kakaotalk-image-url",this.getMajorImageUrl());if(!mug.$.UserAgent.isMobile){setAttrIfEmpty(elBtn,"data-kakaotalk-display","off");setAttrIfEmpty(elBtn,"data-band-display","off");setAttrIfEmpty(elBtn,"data-kakaostory-display","off");setAttrIfEmpty(elBtn,"data-line-display","off");setAttrIfEmpty(elBtn,"data-disco-display","off");}}else{this._sUrl=this._sUrl||getValueFromOg("meta[property='og:url']")||location.href;this._sTitle=mug.common.util.decodeHtmlEntities(getValueFromOg("meta[property='og:title']"));}if(mug.$.UserAgent.isInapp){var ogSharerText="";try{ogSharerText=getValueFromOg("meta[property='post:sharer_text']");}catch(e){}var sourceTitle=ogSharerText.substr(ogSharerText.lastIndexOf("{{_SHORT_URL_}}")+"{{_SHORT_URL_}}".length);sourceTitle=$.trim(sourceTitle)||"";var inappTitle=this._sTitle;if(this._sTitle.indexOf("by")>-1){inappTitle=this._sTitle.substr(0,this._sTitle.lastIndexOf("by")-1);}if(sourceTitle==""){if(!!elBtn){sourceTitle=elBtn.getAttribute("data-source-name");}if(!!sourceTitle&&sourceTitle!=""){sourceTitle=sourceTitle+"|";}if(!sourceTitle||sourceTitle==null){sourceTitle="";}sourceTitle="출처: "+sourceTitle+"네이버 포스트";}this._sTitleForApp=inappTitle+"\n{{_SHORT_URL_}}\n"+sourceTitle;}if(mug.$.UserAgent.isInapp){$.each($(".naver-splugin"),$.proxy(function(i,v){var $v=$(v);if(!$v.hasClass("__sp_bind__")){$v.addClass("r._showDialogToApp();return false;},this));}$v.children().each($.proxy(function(ii,vv){var $vv=$(vv);if(!$vv.hasClass("__sp_bind__")){$vv.addClass("__sp_biv.on("click",$.proxy(function(){mug.common.Sharer._showDialogToApp();return false;},this));}else{$vv.addClass("naver-splugin-c");}},this));},this));bInitApp=true;return this;}else{if(!window.__splugin){this._loadSdk();}}return this;},init:function(htParam){this.update(htParam);},show:function(htParam){htParam=htParam||{};if(mug.$.UserAgent.isInapp){this._showDialogToApp();}},_showDialogToApp:function(){var httpUrl=this._sUrl.replace("https://","http://");mug.common.util.requestShortUrl(this._sUrl,$.proxy(function(shortUrl){var sTitleForApp="";try{sTitleForApp=this._sTitleForApp||$("meta[property='post:sharer_text']")[0].getAttribute("content");}catch(e){}shortUrl=shortUrl||location.href;sTitleForApp=this.renderShortUrl(sTitleForApp,shortUrl);var sTitle=encodeURIComponent(sTitleForApp);var sUrl=encodeURIComponent(shortUrl);var originalUrl=encodeURIComponent(location.href);var appUrl="postapp://share?title="+sTitle+"&url="+sUrl+"&originalUrl="+originalUrl;try{var sharerThis=this;if(this.getMajorImageUrl()!=""){var oMajorImage=new Image();oMajorImage.src=this.getMajorImageUrl();oMajorImage.onload=function(){var imageUrl=encodeURIComponent(oMajorImage.src);var height=oMajorImage.height;var width=oMajorImage.width;if(height>=70&&width>=70){appUrl=appUrl+"&imageUrl="+imageUrl+"&height="+height+"&width="+width;}if(!!sharerThis._sTitleForApp_old){sharerThis._sTitleForApp=sharerThis._sTitleForApp_old;}if(!!sharerThis._sTitle_old){sharerThis._sTitle=nl2space(sharerThis._sTitle_old);}if(!!sharerThis._sUrl_old){sharerThis._sUrl=sharerThis._sUrl_old;}mug.common.util.execAppUrl(appUrl);};return;}}catch(e){}if(!!this._sTitleForApp_old){this._sTitleForApp=this._sTitleForApp_old;}if(!!this._sTitle_old){this._sTitle=nl2space(this._sTitle_old);}if(!!this._sUrl_old){this._sUrl=this._sUrl_old;}mug.common.util.execAppUrl(appUrl);},this));},_renderShortUrlInTitle:function(callback){if(!this._isRenderableShortUrl(this._sTitle)){callback();return;}if(!!this._sShareUrlShort){this._sTitle=this._renderShortUrl(this._sTitle,this._sShareUrlShort);this._htInitData.titlShareUrl,$.proxyhortUrl(this._sTitle,tback();},this));}},renderShortUrl:function(sText,shortUrl){return this._renderShortUrl(sText,shortUrl);},_renderShortUrl:function(sText,shortUrl){return sText.replacel:function(sText){return sText.indexOf("{{_SHORT_URL_}}")>-1;},prepareAppData:function(){this._prepareShortUrl();},_prepareShortUrl:function(){if(!!this._sShareUrlShort){return;}mug.common.util.requestShortUrl(this._sUrl,$.proxy(function(shortUrl){this._sShareUrlShort=shortUrl;},this));},getData:function(htParam){var sOriginalTitle=this._sTitleForApp;var sTitle=encodeURIComponent(sOriginalTitle);var sUrl=this._sShareUrlShort;return{title:nl2space(sTitle),url:sUrl};},getPostAppVersion:function(){var postAppVer=20;try{var arrAppVerDigit=mug.$.UserAgent.appVer.split(".");postAppVer=arrAppVerDigit[0]+arrAppVerDigit[1];}catch(e){postAppVer=20;}return parseInt(postAppVer);},getAppData:function(){if(this.getPostAppVersion()<21){this.getAppDataDetailForOldApp();}else{var imageUrl="";var height=0;var width=0;try{if(this.getMajorImageUrl()!=""){var oMajorImage=new Image();oMajorImage.src=this.getMajorImageUrl();oMajorImage.onload=function(){if(oMajorImage.height>=70&&oMajorImage.width>=70){imageUrl=encodeURIComponent(oMajorImage.src);height=oMajorImage.height;width=oMajorImage.width;}mug.common.Sharer.getAppDataDetail(imageUrl,width,height);};return;}}catch(e){imageUrl="";height=0;width=0;}this.getAppDataDetail(imageUrl,width,height);}},getAppDataDetail:function(imageUrl,width,height){var sTitle=this._sTitleForApp;if(!!this._sShareUrlShort){try{sTitle=this.renderShortUrl(sTitle,this._sShareUrlShort);sTitle=encodeURIComponent(sTitle);postJs.showShareDialog(sTitle,this._sShareUrlShort,imageUrl,width,height);}catch(e){}}else{!this._sShareUrl&&this._setShareUrl();mug.common.util.requestShortUrl(this._sShareUrl,$.proxy(function(shortUrl){this._sShareUrlShort=shortUrl;sTitle=this.renderShortUrl(sTitle,this._sShareUrlShort);sTitle=encodeURIComponent(sTitle);try{postJs.showShareDialog(sTitle,this._sShareUrlShort,imageUrl,width,height);}catch(e){}},this));}},_setMajorImageUrl:function(paramMajorImageUrl){if(!paramMajorImageUrl){if(paramMajorImageUrl==""){this._sMajorImageUrl="";}else{try{this._sMajorImageUrl=mug.common.util.decodeHtmlEntities($("meta[property='og:image']")[0].getAttribute("content"));}catch(e){this._sMajorImageUrl="";}}}else{this._sMajorImageUrl=mug.common.util.decodeHtmlEntities(paramMajorImageUrl);}if(this._sMajorImageUrl.indexOf("post200x200.png")>=0||this._sMajorImageUrl.indexOf("post_ico_144X144.png")>=0){this._sMajorImageUrl="";}var imageUrl=this._sMajorImageUrl;try{if(imageUrl.indexOf("imageType=video")>=0){if(imageUrl.indexOf(".nmv.naver.net")>=0){imageUrl=imageUrl.replace("_16x9_logo","_m400x300-s_logo");}else{if(imageUrl.indexOf("tvcast")>=0&&imageUrl.indexOf(".phinf.naver.net")>=0){imageUrl=imageUrl.replace("f880_495","f880_495_s");}}}else{if(imageUrl.indexOf("phinf.naver.net")>=0){if(imageUrl.indexOf("type=")<0){if(imageUrl.indexOf("?")<0){imageUrl+="?type=w400_1";}else{imageUrl+="&type=w400_1";}}}}this._sMajorImageUrl=imageUrl;}catch(e){this._sMajorImageUrl="";}},getMajorImageUrl:function(){var ret=this._sMajorImageUrl||"";if(ret==""){return ret;}var prefix=ret.indexOf("?")>-1?"&":"?";if(ret.indexOf("type=")==-1){ret+=(prefix+"type=f200_200");}return ret;},getAppDataDetailForOldApp:function(){var sTitle=this._sTitleForApp;if(!!this._sShareUrlShort){try{sTitle=this.renderShortUrl(sTitle,this._sShareUrlShort);sTitle=encodeURIComponent(sTitle);postJs.showShareDialog(sTitle,this._sShareUrlShort);}catch(e){}}else{!this._sShareUrl&&this._setShareUrl();mug.common.util.requestShortUrl(this._sShareUrl,$.proxy(function(shortUrl){this._sShareUrlShort=shortUrl;sTitle=this.renderShortUrl(sTitle,this._sShareUrlShort);sTitle=encodeURIComponent(sTitle);try{postJs.showShareDialog(sTitle,this._sShareUrlShort);}catch(e){}},this));}},_setShareUrl:function(url){url=this._sUrl||(function(){var _url="";var elUrlMetaTag=$("meta[property='og:url']");if(!!elUrlMetaTag.leng){n=n||"ntm";window["ntm_"+t]=n,window[n]=window[n]||[],window[n].push({"ntm.start":+new Date});t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.async=!0,n.src="https://ntm.pstatic.net/scripts/ntm_ecf1d8db24b7.js",t.parentNode.insertBefore(n,t);}("ecf1d8db24b7","ntm");}};
if(!window.mug){mug={};}mug.common=mug.common||{};mug.common.PrismPlayer={init:function(isAuthorSelf){if(naver&&naver.player&&(naver.player.PrismPCPlayer||naver.player.PrismMobilePlayer)){var videoElementList=document.getElementsByClassName("_vnl");for(var i=0;i<videoElementList.length;i++){var videoElement=videoElementList[i];var vid=videoElement.getAttribute("vid");var inKey=videoElement.getAttribute("key");var playerMode=videoElement.getAttribute("playerMode");var player=null;var playerSettingCommands=null;if(vid&&inKey){if(playerMode==="pc"){player=naver.player.PrismPCPlayer.upgrade(videoElement);playerSettingCommands=naver.player.PrismPCPlayer.SettingCommands;}else{player=naver.player.PrismMobilePlayer.upgrade(videoElement);playerSettingCommands=naver.player.PrismMobilePlayer.SettingCommands;}var phase=mug.common.isDev()?"dev":"real";var videoInfraSid=mug.common.isDev()?"20026":"26";player.src="vod://"+videoInfraSid+":"+inKey+"@"+vid+"?env="+phase;var addSubtitleButton=player.querySelector(".pzp-custom__add-subtitle");if(addSubtitleButton){if(!isAuthorSelf||playerMode==="mobile"){addSubtitleButton.style.display="none";}addSubtitleButton.addEventListener("click",function(event){event.stopImmediatePropagation();window.open("https://serviceapi.nmv.naver.com/meta/caption/addCaptionForm.nhn?vid="+vid,"_blank","width=430,height=400");player.commands.execute(playerSettingCommands.Close);});}}}}}};
if(!window.mug){mug={};}mug.contents=mug.contents||{};mug.contents.util=mug.contents.util||{};(function($){var __isEventBinded=false;function lazyLoadSingleImg(elImg,dataSrc,condition){if(!!condition){$(elImg).attr("src",dataSrc);}}function serviceConfirm(message){if(__isChrome__&&window.parent.confirmMethod!=undefined){return window.parent.confirmMethod(message);}else{return confirm(message);}}function confirmMethod(message){if(confirm(message)){return true;}else{return false;}}mug.contents.util.lazyLoadImagesNoScroll=function(targetImageElements){var sSelector=null;var sDefaultSelector="img[data-src]";if(!!targetImageElements&&typeof targetImageElements=="string"){sSelector=targetImageElements;targetImageElements=$(sSelector);}if(!targetImageElements){targetImageElements=$(sDefaultSelector);}var i;for(i=0;i<targetImageElements.length;++i){var el=targetImageElements[i];var dataSrc=el.getAttribute("data-src");var elSrc=el.getAttribute("src");var onerrorLoaded=el.getAttribute("onerror-loaded");var condition=!!dataSrc&&elSrc!=dataSrc&&onerrorLoaded!="true";lazyLoadSingleImg(el,dataSrc,condition);}};mug.contents.util.lazyLoadImages=function(targetImageElements,threshold,bUseEventBind){if(typeof(bUseEventBind)!=="boolean"){bUseEventBind=true;}var sSelector=null;var sDefaultSelector="img[data-src]";if(!!targetImageElements&&typeof targetImageElements==="string"){sSelector=targetImageElements;targetImageElements=$(sSelector);}if(targetImageElements==null){targetImageElements=$(sDefaultSelector);}var $doc=$(window.document);var userAgent=window.mug.$.UserAgent;if(userAgent.osName=="Android"&&parseInt(userAgent.osVersion)<=2){$(targetImageElements).each(function(){var originalImage=$(this).attr("data-src");if(!!originalImage){$(this).attr("src",originalImage);}});return;}function loadImages(){if(!!sSelector){targetImageElements=$(sSelector);}else{targetImageElements=$(sDefaultSelector);}var i;for(i=0;i<targetImageElements.length;++i){var el=$(targetImageElements[i]);var dataSrc=el.attr("data-src");var elSrc=el.attr("src");var onerrorLoaded=el.attr("onerror-loaded");var condition=!!dataSrc&&elSrc!=dataSrc&&onerrorLoaded!="true"&&isShowEnabled(el,threshold);lazyLoadSingleImg(el,dataSrc,condition);}}function isShowEnabled(imageJQueryElement,threshold){threshold=threshold||450;var imgElement=imageJQueryElement;var wt=$doc.scrollTop();var wb=wt+$doc.height();var et=imgElement.offset().top;var eb=et+imgElement.height();return eb>=wt-threshold&&et<=wb+threshold;}function attachEvents(){var __delayMs=250;var __fnQueued=null;var lastRunTimestamp=null;var __loadImagesRunRateLimited=function(){var now=new Date().getTime();lastRunTimestamp=lastRunTimestamp||now;var timeElapsed=now-lastRunTimestamp;var isDebounce=true;var runNow=!__fnQueued||(timeElapsed>__delayMs);clearTimeout(__fnQueued);if(runNow){lastRunTimestamp=now;__fnQueued=setTimeout(loadImages,0);}else{if(isDebounce){lastRunTimestamp=now;}var wait=__delayMs-timeElapsed;__fnQueued=setTimeout(loadImages,wait);}};$(window).on("scroll",__loadImagesRunRateLimited);$(window).on("resize",__loadImagesRunRateLimited);$(window).on("orientationchange",__loadImagesRunRateLimited);__isEventBinded=true;}if(bUseEventBind&&!__isEventBinded){attachEvents();}loadImages();};mug.contents.util.toggleFollow=function(elFollow,followNo,followType,name,alterElId){if(!mug.$.User.isLoggedIn){mug.common.checkLogin();return;}var $elFollow=$(elFollow);if($elFollow.hasClass("on")){if(serviceConfirm(this._getUnfollowMessage(followType,name))){this._toggleFollowAjaxCall("/my/unFollow.nhn",elFollow,{blindSpan:"팔로우하기",text:"팔로우"},followType,followNo,alterElId);}}else{this._toggleFollowAjaxCall("/my/follow.nhn",elFollow,{blindSpan:"언 팔로우하기",text:"팔로잉"},followType,followNo,alterElId);}};mug.contents.util._getUnfollowMessage=function(followType,name){if(!name||!followType){return"팔로우를 취소하시겠어요?";}switch(followType){case"PERSON":return"'"+name+"'님의 팔로우를 취소하시겠어요?";case"TAG":return"'"+name+"'태그의 팔로우를 취소하시겠어요?";case"BOARD":return"'"+name+"'시리즈의 팔로우를 취소하시겠어요?";default:return"'"+name+"'팔로우를 취소하시겠어요?";}};mug.contents.util._toggleFollowAjaxCall=function(sUrl,elFollow,objText,followType,followNo,alterElId){var $elFollow=$(elFollow);$.ajax({url:sUrl,async:false,dataType:"json",method:"post",data:{followType:followType,followNo:followNo},success:function(json){var result=json;if(result.resultStatus==="success"){if(alterElId){$elFollow.hide();$("#"+alterElId).show();return;}$elFollow.toggleClass("on");var $elBlindSpan=$elFollow.find(".blind");if($elBlindSpan.length>0){$elBlindSpan.html(objText.blindSpan);}else{$elFollow.html(objText.text);}}else{if(result.resultStatus==="error"){alert(result.result.errorMessage);}}}});};var _followRequesting=false;mug.contents.util.followHide=function(el){if(window.__verticalMode==="true"){return;}if(typeof el=="string"){el=$("#"+el);}$(el).css("display","none");};mug.contents.util.followShow=function(el){if(window.__verticalMode==="true"){return;}if(typeof el=="string"){el=$("#"+el);}$(el).css("display","");};mug.contents.util.follow=function(elFollow,elUnfollow,memberNo,followType,elThis){if(!mug.$.User.isLoggedIn){mug.common.checkLogin();return;}if(_followRequesting){return;}_followRequesting=true;$.ajax({url:"/my/follow.naver",async:true,method:"post",dataType:"json",data:{followType:followType,followNo:memberNo},success:function(json){var result=json;if(result.resultStatus==="success"){mug.contents.util._showAfterFollowLayer(memberNo,elThis);mug.contents.util.followHide(elFollow);mug.contents.util.followShow(elUnfollow);if(!!window.refreshFollowBtnsForSE3){window.refreshFollowBtnsForSE3(true);}if(mug.$.UserAgent.isInapp){location.href="postapp://setFollowStatus?isFollowing=true";}}else{if(result.resultStatus==="error"){alert(result.result.errorMessage);}}_followRequesting=false;},error:function(){_followRequesting=false;}});};mug.contents.util._showAfterFollowLayer=function(memberNo,elFollowBt){if(location.href.indexOf("postView.nhn")<0&&location.href.indexOf("postAuthorPage.nhn")<0&&location.href.indexOf("my.nhn")<0&&location.href.indexOf("detail.nhn")<0&&location.href.indexOf("postView.naver")<0&&location.href.indexOf("postAuthorPage.naver")<0&&location.href.indexOf("my.naver")<0&&location.href.indexOf("detail.naver")<0){return;}if($(elFollowBt).attr("data-afterFollowLayer")=="NONE"||$(elFollowBt).attr("data-afterFollowLayer")==""){return;}var layerId="__template_popular_editor_follow_"+$(elFollowBt).attr("data-afterFollowLayer");var html=$("#"+layerId).html();var elContainerLayer=$(html);$(document.body).append(elContainerLayer);vstopPropagation();};$(".__template_popular_editor_follow .dim").on("touchmove",stopEventHandler);};$;mug.contents.util._showMyFeed2ndLayer=function(){if(location.href.indexOf("postView.nhn")<0){return;}var layerId="__template_popular_editor_follow_MYFEED_2nd";var html=$("#"+layerId).html();var elContainerLayer=$(html);$(document.body).append(elContainerLayer);var stopEventHandler=function(evt){evt.preventDefault();evt.stopPropagation();};$(".__template_popular_editor_follow .dim").on("touchmove",stopEventHandler);};mug.contents.util.followAndMyFeedNoti=function(authorNo,memberNo,myFeedKey){if(memberNo===""&&authorNo===""){return;}if(memberNo===""){memberNo=authorNo;}if(!mug.$.User.isLoggedIn){mug.common.checkLogin(mug.common.getMobileUrl()+"/followAndMyFeedNoti.nhn?followNo="+memberNo+"&myFeedKey="+myFeedKey);return;}$.ajax({url:"/my/follow.naver",async:false,method:"post",dataType:"json",data:{followType:"PERSON",followNo:memberNo},success:function(json){var result=json;if(result.resultStatus==="success"){}else{if(result.resultStatus==="error"){alert(result.result.errorMessage);}}}});mug.contents.util.applyMyFeedNoti(authorNo,memberNo);};mug.contents.util.applyPopularEditorNoti=function(authorNo,memberNo){if(memberNo===""&&authorNo===""){return;}if(memberNo===""){memberNo=authorNo;}if(!mug.$.User.isLoggedIn){mug.common.checkLogin();return;}$.ajax({url:"/my/applyPopularEditorNoti.naver",async:true,method:"post",data:{followNo:memberNo},dataType:"json",success:function(json){var result=json;if(result.resultStatus==="success"){$(".__template_popular_editor_follow").remove();alert("네이버앱 새글알림이 설정되었습니다.");}}});};mug.contents.util.applyMyFeedNoti=function(authorNo,memberNo){if(memberNo===""&&authorNo===""){return;}if(memberNo===""){memberNo=authorNo;}if(!mug.$.User.isLoggedIn){mug.common.checkLogin();return;}$.ajax({url:"/my/applyMyFeedNoti.naver",async:true,method:"post",data:{followNo:memberNo},dataType:"json",success:function(json){var result=json;if(result.resultStatus==="success"){$(".__template_popular_editor_follow").remove();}location.href="https://m.naver.com/naverapp/?version=3&cmd=onMenu&menuCode=MYFEED&subMenu=DISCOVER_SUBSCRIPT";}});};mug.contents.util.unfollow=function(elFollow,elUnfollow,memberNo,followType,name){if(!mug.$.User.isLoggedIn){mug.common.checkLogin();return;}if(mug.$.UserAgent.isRos){alert("점검중으로 조회만 가능합니다. 양해부탁드립니다.");return;}if(_followRequesting){return;}if(!serviceConfirm(this._getUnfollowMessage(followType,name))){return;}_followRequesting=true;$.ajax({url:"/my/unFollow.naver",async:true,method:"post",data:{followType:followType,followNo:memberNo},dataType:"json",success:function(json){var result=json;if(result.resultStatus==="success"){mug.contents.util.followHide(elUnfollow);mug.contents.util.followShow(elFollow);if(!!window.refreshFollowBtnsForSE3){window.refreshFollowBtnsForSE3(false);}if(mug.$.UserAgent.isInapp){location.href="postapp://setFollowStatus?isFollowing=false";}_followRequesting=false;}},error:function(){_followRequesting=false;}});};mug.contents.util.goAdultAuthPage=function(){var svcType=mug.$.UserAgent.isMobile?"262272":"128";var authUrl="https://nid.naver.com/nidlogin.login?svctype="+svcType+"&viewtype=1&a_version=2";var surl=encodeURIComponent("https://post.naver.com");var rurl=encodeURIComponent(location.href);var moveUrl=authUrl+"&surl="+surl+"&rurl="+rurl;location.href=moveUrl;};mug.contents.util.goTagPage=function(tagName){location.href="/tag/overView."+mug.$.UserAgent.urlExtension+"?navigationType=push&tag="+encodeURIComponent(tagName);};mug.contents.util.goEncodePage=function(url){location.href=encodeURI(url);};mug.contents.util.recommendAuthor=function(authorNo,categoryNo){window.g_nclick_prefix="mbe";var welEditor=$("#editor_recommend");var welTitlhor_area");if(!welEditor.length||!welTitle.length||!welRecommend.length){return;}$.ajax({url:"/my/followerRecommend.naverthorNo,categoryNo:categoryNo},dataType:"json",success:function(json){try{if(json.listCount<1){return;}var title=json.fromNo+" 분야 에디터 추천";welTitle.html(title);welEditor.css("display","");welRecommend.html(json.html);}catch(err){alert("오류가 발생하였습니다. 잠시후 다시 시도해주세요.");}}});};mug.contents.util.closeRecommend=function(){$("#editor_recommend").css("display","none");};mug.contents.util.patronTip=function(){setTimeout(function(){$.ajax({url:"/patron/tooltip.naver",dataType:"json",success:function(json){var result=json;},error:function(){}});},200);};})(jQuery);
!function($,window,document){if(!window.mug){mug={};}mug.contents=mug.contents||{};mug.contents.MoreTypePager=eg.Class({oBtMoreContents:null,oElListContainer:null,oElLoadingIndicator:null,oElLoadedCount:null,oElTotalCount:null,fromNo:null,nextFromNo:null,totalCount:0,onePageSize:0,currPageSize:0,__loadedCount:0,moreRequestUrl:null,__pageParamMap:{},bIsRequesting:false,bIsLastPage:false,nextTimestamp:null,__callbackMap:{onAfterMoreRequest:[],onBeforeMoreRequest:[],onSuccessMoreRequest:[]},construct:function(fromNo,nextFromNo,totalCount,onePageSize,moreReqUrl){this.fromNo=fromNo;this.nextFromNo=nextFromNo;this.totalCount=totalCount;if(totalCount==0){var $elMoreBtArea=$(".bu_pg_default");$elMoreBtArea.length>0&&$elMoreBtArea.hide();}this.__loadedCount=this.onePageSize=onePageSizdMoreContentsEvent();this.setTriggerOnRequest();$(window).on("scroll",$.proxy(function(){var currScrollYPos=$(document).scrollTop();var clientHeight=$(document.body).height();var scrollHeight=document.body.scrollHeight;if(currScrollYPos+clientHeight>=scrollHeight-100){this.reqNextContents();}},this));},setTriggerOnRequest:function(){this.registerEvent("onBeforeMoreRequest",$.proxy(function(resultJson){this.hideMoreButton();this.showIndicator();},this));this.registerEvent("onAfterMoreRequest",$.proxy(function(resultJson){this.refreshPageInfo();this.hideIndicator();},this));this.registerEvent("onSuccessMoreRequest",$.proxy(function(resultJson){this.oElListContainer.append(resultJson.html);this.nextFromNo=resultJson.nextFromNo;this.currPageSize=resultJson.listSize||resultJson.listCount;this.__loadedCount+=this.onePageSize;if(this.totalCount!=ntalCount;}ifnction(){if(this.oElLoadingIndicator){this.oElLoadingIndicator.show();}},hideIndicator:function(){;}},showMoreButton:functioontents.show();}},hideMoreButton:function(){if(this.oBtMoreContents){this.oBtMoreContents.hide();}},setElements:function(props){this.oBtMoreContents=props.elBtMoreContents;this.oElListContainer=props.elListContainer;this.oElLoadingIndicator=props.elLoadingIndicator;this.oElLoadedCount=props.elLoadedCount;this.oElTotalCount=props.elTotalCount;},bindMoreContentsEvent:function(){if(this.oBtMoreContents){this.oBtMoreContents.on("click",$.proxy(function(evt){evt.preventDefault();this.reqNextContents();},this));}},onLastPageEvent:function(){this.hideBottomLinkElement();},reqNextContents:function(){if(this.bIsRequesting){return;}if(this.nextFromNo==null||this.nextFromNo==""){this.onLastPageEvent();return;}this.bIsRequesting=true;this.__execCallback(this.__callbackMap.onBeforeMoreRequest,null);this.__pageParamMap.fromNo=this.nextFromNo;if(document.contentsListForm!=undefined){this.__pageParamMap.isEditing=document.contentsListForm.isEditing.value;}if(this.nextTimestamp!=null){this.__pageParamMap.nextTimestamp=this.nextTimestamp;}$.ajax({url:this.moreRequestUrl,method:"get",data:this.__pageParamMap,dataType:"json",success:$.proxy(function(rJson){try{if(rJson.resultCode=="0"&&rJson.html!=""){this.__execCallback(this.__callbackMap.onSuccessMoreRequest,rJson);}else_execCallback(this.__callbackMap.onAfterMoreRequest,rJson);this.bIsRequesting=false;if(__bIEVerLessThan10__){var locationHash="#fromNo="+this.__pageParamMap.fromNo;location.replace(location.pathname+location.search+locationHash);}else{mug.common.util.replaceUrl(location.pathname+"?"+$.param(this.__pageParamMap));}},this),error:function(rJson){alert("데이터를 불러오는 데에 실패했습니다.");this.__execCallback(this.__callbackMap.onAfterMoreRequest,rJson);this.bIsRequesting=false;}});},__execCallback:function(funcList,rJson){for(var i=0,l=funcList.length;i<l;i++){funcList[i](rJson);}},refreshPageInfo:function(){var $endPager=$(".bu_pg_end");var $defaultPager=$(".bu_pg_default");if($endPager.length>0&&$defaultPager.length>0){if(!this.totalCount||this.totalCount<1){$endPager.get(0).style.display="";$defaultPager.get(0).style.display="none";}else{$endPager.get(0).style.display="none";$defaultPager.get(0).style.display="table";}}if(this.oElTotalCount&&this.totalCount!=null){this.oElTotalCount.html(this.totalCount);try{this.oBtMoreContents.trigger("click");}catch(e){}}if(this.totalCount!=null&&this.__loadedCount>this.totalCount){this.__loadedCount=this.totalCount;}if(this.oElLoadedCount){this.oElLoadedCount.html(this.__loadedCount);}if(this.nextFromNo==null||this.nextFromNo==""||this.__loadedCount==this.totalCount){this.onLastPageEvent();return;}},run:function(){this.oBtMoreContents=this.oBtMoreContents||$(".bu_pg_btn");this.oElListContainer=this.oElListContainer||$("#el_list_container");this.oElLoadingIndicator=this.oElLoadingIndicator||$(".bu_pg_lod");this.oElLoadedCount=this.oElLoadedCount||$("#el_loaded_count");this.oElTotalCount=this.oElTotalCount||$("#el_total_count");this.refreshPageInfo();this.attachEvents();var othis=this;$(window).load(function(){othis.checkRequestedDataForHistory();});},nLimitFromNo:10,nSecondFromNo:2,nIncrSize:1,checkRequestedDataForHistory:function(){if(mug.$.UserAgent.isInapp){return;}var fromNo=mug.common.util.getLocationHashMap().fromNo||mug.common.util.getLocationSearchMap().fromNo;if(!fromNo||fromNo>this.nLimitFromNo){return;}var reqFromNo=this.nSecondFromNo;if(!!fromNo&&fromNo>1){while(fromNo>=reqFromNo){var htParam=this.__pageParamMap;htParam.fromNo=reqFromNo;this.bIsRequesting=true;$.aataType:"json",success:$.proxy(function(rJson){try{if(rJson.resultCode=="0"&&rJson.html!=""){this.__execCallback(this.__callbackMap.onSuccessMoreRequest,rJson);}else{this.nextFromNo=null;this.onLastPageEvent();}}catch(e){console.log(e.message);}this.__execCallback(this.__callbackMap.onAfterMoreRequest,rJson);this.bIsRequesting=false;},this),error:function(res){alllbackMap.onAfterMoreRequest,res.json());this.bIsRequesting=false;},async:false});reqFromNo+=this.nIncrSize;}}},registerEvent:function(name,fnc){this.__callbackMap[name].push(fnc);},setPageParam:function(hs){var fromNo=this.__pageParamMap.fromNo;this.__pageParamMap=hs||{};this.__pageParamMap.fromNo=fromNo;},setPageParamTime:function(hs){var fromNo=this.__pageParamMap.fromNo;this.__pageParamMap=hs||{};this.__pageParamMap.fromNo=fromNo;var nextTimestamp=this.__pageParamMap.nextTimestamp;this.nextTimestamp=nextTimestamp;},hideBottomLinkElement:function(){this.bIsLastPage=true;if(this.oBtMoreContents){this.oBtMoreContents.hide();}}});}(jQuery,window,document);
!!window.jindo&&!!jindo.m&&!function(){jindo.m.patch("1.12.0").add({useTimingFunction:function(){if(jindo.$Agent().os().ios){return -1;}else{return 0;}}});jindo.$Ajax.Response.prototype.json=function(){if(this._response.responseJSON){return this._response.responseJSON;}else{if(this._response.responseText){try{return eval("("+this.text()+")");}catch(e){try{if(window.JSON&&!!window.JSON.parse){return window.JSON.parse(this.text());}}catch(ee){throw new jindo.$Error(ee.message,"$Ajax#json");}throw new jindo.$Error(jindo.$Except.PARSE_ERROR,"$Ajax#json");}}}return{};};jindo.$Document.prototype.clientSize=function(){var oDoc=this._doc[this._docKey];var isSafari=jindo._p_._JINDO_IS_SP&&!jindo._p_._JINDO_IS_CH;var ret=(isSafari)?{width:window.innerWidth,height:window.innerHeight}:{width:oDoc.clientWidth,height:oDoc.clientHeight};var welDoc=$Element(document.body);if(!welDoc){return ret;}var viewerWidth=welDoc.width();if(ret.width>viewerWidth){ret.width=viewerWidth;}return ret;};jindo.m._maxClientSize=function(){};}();window.__jsLoad__=window.__jsLoad__||{};__jsLoad__.post_m_base=true;
