  <!DOCTYPE html>
<html lang="en" data-uri="cms.cnn.com/_pages/cls2bmgky000t29p2fphv1qiq@published" data-layout-uri="cms.cnn.com/_layouts/layout-with-rail/instances/politics-article-v1@published" >
  <head><style>body,h1,h2,h3,h4,h5{font-family:cnn_sans_display,helveticaneue,Helvetica,Arial,Utkal,sans-serif}h1,h2,h3,h4,h5{font-weight:700}:root{--theme-copy:#404040;--theme-searchbox-border:#b1b1b1;--theme-article-spacing-top:0px;--theme-link-color-hover:#6e6e6e;--theme-color-link:#0c0c0c;--theme-button-color:#6e6e6e;--theme-button-color-hover:#cc0000;--theme-underline-skip-ink:auto;--theme-paragraph__font-size:16px;--theme-paragraph__line-height:26px;--theme-paragraph__font-size--from-small:16px;--theme-paragraph__line-height--from-small:26px;--theme-paragraph__link-color:#0c0c0c;--theme-paragraph__link-decoration:underline;--theme-paragraph__link-decoration-color:var(--theme-color-link);--theme-paragraph__link-decoration-thickness:1px;--theme-paragraph__hover-link-decoration:none;--theme-paragraph__hover-link-offset:4px;--theme-header__hover-item-hover:var(--theme-background);--theme-header__item-link-color:#e6e6e6;--theme-header__item-link-hover-background-color:transparent;--theme-header__mobile-dropdown-border-color:var(--theme-divider);--theme-header__mobile-dropdown-background:#0c0c0c;--theme-header__item-link-line-height:40px;--theme-headline__font-size:24px;--theme-headline__line-height:30px;--theme-headline__text-color:#0c0c0c;--theme-headline-sponsorship__lateral-margin:0;--theme-headline__font-weight:700;--theme-headline__margin-bottom:16px;--theme-headline__padding-bottom:48px;--theme-headline__padding-bottom-viewport-large:64px;--theme-headline__teaser-font-size:16px;--theme-headline__teaser-line-height:normal;--theme-headline__teaser-margin-top:0;--theme-headline__teaser-margin-botton:0;--theme-section-headline__font-size:36px;--theme-section-headline__line-height:42px;--theme-section-headline__text-color:#0c0c0c;--theme-section-headline__font-weight:700;--theme-section-headline__margin-bottom:0;--theme-section-headline-text__margin-top:16px;--theme-section-headline-text__margin-bottom:18px;--theme-section-headline-teaser__font-size:inherit;--theme-section-headline-teaser__color:inherit;--theme-subheader-h2__font-size:24px;--theme-subheader-h3__font-size:20px;--theme-subheader-h4__font-size:18px;--theme-subheader-h5__font-size:16px;--theme-subheader-h6__font-size:14px;--theme-subheader-h2__line-height:30px;--theme-subheader-h3__line-height:26px;--theme-subheader-h4__line-height:24px;--theme-subheader-h5__line-height:22px;--theme-subheader-h6__line-height:20px;--theme-subheader__font-weight:700;--theme-iframe__display:block;--theme-list__link-decoration:underline;--theme-container__font-family:cnn_sans_display,helveticaneue,Helvetica,Arial,Utkal,sans-serif;--theme-container__font-weight:400;--theme-container-color--hover:#0c0c0c;--theme-container-image-color--hover:rgba(12, 12, 12, 0.4);--theme-container-text-decoration--hover:underline;--theme-container-image-opacity--hover:0.5;--theme-container-margin-bottom-default:24px;--theme-container-margin-bottom-600:48px;--theme-container-title__border-color:#e6e6e6;--theme-container-title__border-decorator-initial-width:16px;--theme-container-title__margin-bottom:0;--theme-container-title__margin-bottom-grid-4:0;--theme-container-title__text-size:12px;--theme-container-title__arrow-color--initial:#ffffff;--theme-container-title__arrow-size:16px;--theme-container-title__arrow-top-pos:0;--theme-container-link__background-color:inherit;--theme-container-item__margin-bottom-feature-list:32px;--theme-container__margin-bottom-grid-3:24px;--theme-container__margin-bottom-feature-grid-3:24px;--theme-container-title-emphatic__font-size:24px;--theme-container-title-emphatic__line-height:30px;--theme-container-lead-title__font-family:cnn_sans_display,helveticaneue,Helvetica,Arial,Utkal,sans-serif;--theme-container-lead-title__font-weight:700;--theme-container-lead-title__font-size:20px;--theme-container-lead-title__line-height:24px;--theme-container-lead-title-mobile__font-size:16px;--theme-header-mobile-nav-border-color:transparent;--theme-text-banner__gradient-1:#cdb6f1;--theme-text-banner__gradient-2:#e5dbf8;--theme-zone__padding-bottom-small:64px;--theme-zone__margin-bottom-default:48px;--theme-zone__margin-top:-32px;--theme-zone-title__font-family:cnn_sans_display,helveticaneue,Helvetica,Arial,Utkal,sans-serif;--theme-zone-title__font-size:30px;--theme-zone-title__font-weight:700;--theme-zone-title__line-height:30px;--theme-zone-title__link-decoration:none;--theme-zone-title__hover-link-decoration:underline;--social-sharing-display:block;--social-sharing-margin-top:16px;--theme-hero-headline__font-size:36px;--theme-hero-headline__line-height:42px;--social-sharing-open-close-fill:#4d4d4d;--social-sharing-facebook-fill:#0c0c0c;--social-sharing-twitter-fill:#0c0c0c;--social-sharing-email-fill:#0c0c0c;--social-sharing-link-fill:#0c0c0c;--theme-disclaimer-background:#e6e6e6;--theme-disclaimer-color:#4d4d4d;--theme-disclaimer-style:normal;--theme-disclaimer-link-color:#6a29d5;--theme-disclaimer-link-weight:400;--theme-disclaimer-fontsize-sm:14px;--theme-disclaimer-fontsize-xl:16px;--theme-disclaimer-lineheight-sm:22.75px;--theme-disclaimer-lineheight-xl:25.6px;--theme-newsletter-form-disable-button:#c0c0c0;--theme-paragraph-fontsize-sm:14px;--theme-paragraph-fontsize-xl:16px;--theme-paragraph-lineheight-sm:22.75px;--theme-paragraph-lineheight-xl:25.6px;--theme-main-wrapper-rail-width:360px;--theme-main-wrapper-right-rail-width:300px;--theme-main-wrapper-column-gap-medium-width:40px;--theme-main-wrapper-column-gap-large-width:50px;--theme-primary-logo-fill:#cc0000;--theme-subheader-anchor-display:inline;--theme-primary-layout-color:#fafafa;--theme-secondary-layout-color:#fff;--theme-video-playlist-status-label-color:rgba(12, 12, 12, 0.7);--theme-video-playlist-item-hover-color:#0c0c0c;--theme-footer-disclaimer-color:#6e6e6e;--theme-footer-disclaimer-weight:700;--theme-primary:#3061f3;--theme-background:#ffffff;--theme-divider:#e6e6e6;--theme-copy-accent:#0c0c0c;--theme-copy-accent-hover:#0c0c0c;--theme-icon-color:#0c0c0c;--theme-icon-color-hover:#0c0c0c;--theme-ad-slot-background-color:#e6e6e6;--theme-ad-slot-text-color:#6e6e6e;--theme-ad-slot-text-hover:#0c0c0c;--theme-font-family:cnn_sans_display,helveticaneue,Helvetica,Arial,Utkal,sans-serif;--theme-copy-follow:#262626;--theme-container-text-decoration-color--hover:var(--theme-color-link);--theme-container-title__border-decorator-color:#3061f3;--theme-container-title__arrow-color--hover:var(--theme-color-link);--theme-edition-picker-link:#404040;--theme-headline__font-family:cnn_sans_display,helveticaneue,Helvetica,Arial,Utkal,sans-serif;--theme-section-headline__font-family:cnn_sans_display,helveticaneue,Helvetica,Arial,Utkal,sans-serif;--theme-header__item-link-hover-color:#262626;--theme-header__dropdown-background:var(--theme-background);--theme-header__dropdown-border-color:var(--theme-divider);--theme-header__login-button:#0c0c0c;--theme-subheader__font-family:cnn_sans_display,helveticaneue,Helvetica,Arial,Utkal,sans-serif;--theme-zone__padding-bottom-default:64px;--theme-secondary-logo-fill:#0c0c0c}@media (min-width:480px){:root{--theme-section-headline-text__margin-bottom:20px;--theme-container__margin-bottom-grid-3:32px;--theme-container__margin-bottom-feature-grid-3:0}}@media (min-width:960px){:root{--theme-headline__font-size:42px;--theme-headline__line-height:48px;--theme-section-headline__font-size:42px;--theme-section-headline__line-height:48px;--theme-section-headline__margin-bottom:16px;--theme-subheader-h2__font-size:30px;--theme-subheader-h3__font-size:24px;--theme-subheader-h4__font-size:20px;--theme-subheader-h2__line-height:36px;--theme-subheader-h3__line-height:30px;--theme-subheader-h4__line-height:26px;--theme-container-margin-bottom-600:0;--theme-container__margin-bottom-feature-grid-3:0}}@media (min-width:1280px){:root{--theme-section-headline-text__margin-bottom:22px;--theme-hero-headline__font-size:42px;--theme-hero-headline__line-height:48px}}@media (max-width:959px){:root{--social-sharing-display:none}}</style>
<script>window.env={"AD_SLOT_CLIENT_INJECTOR_REGISTRY":"https://cdn.cnn.com/ads/cnn/cnn_quantum_leaf.json","ADFUEL_BUSINESS_SRC":"/media/sites/js/bundles/business-adfuel","ADFUEL_BUSINESS_EDITION_SRC":"/media/sites/js/bundles/business-edition-adfuel","ADFUEL_CNN_SRC":"/media/sites/js/bundles/cnn-adfuel","ADFUEL_CNN_EDITION_SRC":"/media/sites/js/bundles/cnn-edition-adfuel","ADOBE_LAUNCH_SRC":"https://lightning.cnn.com/launch/7be62238e4c3/97fa00444124/launch-2878c87af5e3.min.js","ADOBE_LAUNCH_BUSINESS_ENABLED_SECTIONS":["business","markets"],"ADVANCED_VIDEO_ENABLED":true,"AIRSHIP_APP_KEY":"3wrwsS87S6OIW06Lq4MVIQ","AIRSHIP_ENABLED":true,"AIRSHIP_SRC":"https://aswpsdkus.com/notify/v1/ua-sdk.min.js","AIRSHIP_TOKEN":"MTozd3J3c1M4N1M2T0lXMDZMcTRNVklROmRSb3lkd0lHZ0NHanFMeElRYVpjaGNQQVBrd2k5NGRKa1NobWR2SjBIUjg","AIRSHIP_VAPID_PUBLIC_KEY":"BHJLBg0NxOGDHKXf0Bepz55qLpKT674Z6XiGZxVbW0p67B6cpiBzvOo2vSWTtnEGHjmILIuDmWkldwLOv4bwwz8=","AIRSHIP_WEB_SITE_PUSH_ID":"web.com.cnn.redalert","AIRSHIP_WORKER":"/service-worker.js","AIRSHIP_CORE_ENABLED":true,"APPLE_NEWS_MANAGER_ENABLED":true,"ALERTS_HUB_ENABLED":false,"APPLE_NEWS_LOGO_NAME_TRAVEL":"https://media.cnn.com/api/v1/images/cnn/apple-news/cnn-travel-light.png","APPLE_NEWS_LOGO_NAME_STYLE":"https://media.cnn.com/api/v1/images/stellar/prod/cnn-style-light.png","APPLE_NEWS_LOGO_NAME_BUSINESS":"https://media.cnn.com/api/v1/images/cnn/apple-news/cnn-business-logo.png","APPLE_NEWS_LOGO_NAME_POLITICS":"https://media.cnn.com/api/v1/images/cnn/apple-news/cnn-politics-light.png","APPLE_NEWS_LOGO_NAME_QUOTE":"https://media.cnn.com/api/v1/images/cnn/apple-news/quote-light.png","ARKOSE_LOGIN_KEY":"A81F9530-112A-47B2-BA4B-8CB41D7C6DD6","ARKOSE_LOGIN_SRC":"https://wbd-api.arkoselabs.com/v2/A81F9530-112A-47B2-BA4B-8CB41D7C6DD6/api.js","ARKOSE_NEWSLETTERS_KEY":"12FB7448-F055-4621-BC01-1DDF7CB3945A","ARKOSE_NEWSLETTERS_SRC":"https://wbd-api.arkoselabs.com/v2/12FB7448-F055-4621-BC01-1DDF7CB3945A/api.js","ARKOSE_REGISTRATION_KEY":"95218C8B-B84E-413C-B875-785B35F92134","ARKOSE_REGISTRATION_SRC":"https://wbd-api.arkoselabs.com/v2/95218C8B-B84E-413C-B875-785B35F92134/api.js","AUTO_REFRESH_INTERVAL":"20","BREAKING_NEWS_BANNER_CMS_ENABLED":true,"BROWSI_SRC":"https://cdn.browsiprod.com/bootstrap/bootstrap.js","NATIVO_SRC":"https://s.ntv.io/serve/load.js","CHARTBEAT_SRC":"https://static.chartbeat.com/js/chartbeat_mab.js","CLAY_SITE_HOSTS_MAP":{"cnn":"cms.cnn.com"},"CMS_EVENT_BUS_BATCH_SIZE":"10","CNN_DATAVIZ_API":"https://production.dataviz.cnn.io","CNN_DIGITAL_PROFILE_PUBLICIST":"Emily Kuhn","COLLABORATION_PORT":"4001","COLLABORATION_SITE_HOSTS_MAP":{"cms.cnn.com":"collaboration-prod-rn01302n-cnn.content-hub.cnn-cms.com"},"COLLABORATION_EXCLUDED_TYPES":["audio","custom","feed","interactive","livestory","profile","scratchpad","search","static","unknown","user_management"],"CONTENT_HUB_APP_VERSION":"v5.1.0","CONTENT_HUB_ENV":"prod","CONTENT_HUB_PROJECT_NAME":"content-hub","CONTENT_HUB_UNIQUE_DEPLOYMENT_KEY":"rn01302n","CONVIVA_CUSTOMER_KEY":"a6709203f34992a5095d2bc7ceaf2ec504f651a8","DALTON_ENV":"production","DALTON_COOKIE_VERSION":"v1.1","DAM_API_HOST":"https://dam2.cms.cnn.com","DAM_ACCESS_KEY":"b28f4002267c430b85918a3fdf75c0ea","DAM_DEFAULT_PATH":"/stellar/prod","DAM_SERVING_HOST":"https://media.cnn.com","DALTON_API_HOST":"https://audience.cnn.com","DALTON_TKN_HEADER_CHECK_ENABLED":true,"DISTROSCALE_SRC":"https://a.jsrdn.com/creatives/23053/cw.js","EDIT_MODE_DATADOG_CLIENT_TOKEN":"pub2b644e04db84cf08661aa1cea78ce1cf","DEDUPLICATION_ENABLED":false,"DIANOMI_SCRIPT_SRC":"https://www.dianomi.com/js/contextfeed.js","DISPLAY_WORDCOUNT_ON_CARDS":true,"DISPLAY_VIDEO_DURATION_ON_CARDS":true,"ELECTION_MAP_PROOF_OF_CONCEPT_COMPONENT_ENABLED":false,"ENABLE_AD_LAZY_LOADING":true,"ENABLE_AD_FEEDBACK_DISPLAY_ADS":true,"ENABLE_AD_FEEDBACK_VIDEO_ADS":true,"ENABLE_RELEVANCE_USER_JS":true,"ENABLE_AUTO_REFRESH":true,"ENABLE_VIDEO_AUTOSTART_ON_ARTICLE":false,"ENABLE_VIDEO_AUTOSTART_ON_VIDEOLEAF":true,"ENABLE_VIDEO_AUTOSTART_ON_LIVESTORY":false,"ENABLE_AD_SLOT_CLIENT_INJECTOR":true,"ENABLE_ADFUEL":true,"ENABLE_ADFUEL_METRICS":false,"ENABLE_BROWSI":true,"ENABLE_NATIVO":true,"ENABLE_BROWSI_SERVER_AD_REGISTRIES":true,"ENABLE_CHARTBEAT":true,"ENABLE_DATADOG_TELEMETRY":true,"ENABLE_EXCLUDE_FEATURES":false,"ENABLE_GOOGLE_TAG_MANAGER":true,"ENABLE_UNDERSCORED_HUMAN_BOT_CONFIG":true,"UNDERSCORED_HUMAN_BOT_CONFIG_SRC":"https://www.cnn.com/cnn-underscored/prod/init.js","ENABLE_PW_RESET_ARKOSE":true,"ENABLE_LIVE_STORY_UPDATES":false,"ENABLE_LOGIN_ARKOSE":true,"ENABLE_NEWSLETTERS_ARKOSE":true,"ENABLE_ONE_TAP_PLAY":true,"ENABLE_ONE_TAP_CAROUSEL":true,"ENABLE_OPENWEB":true,"ENABLE_OPENWEB_SSO":true,"ENABLE_OPENWEB_MIDPROMO":true,"ENABLE_PAYMENT_ARKOSE":true,"ENABLE_ARKOSE_DATA_EXCHANGE":true,"ONE_TAP_PLAYLIST_ENDPOINT":"https://fave.api.cnn.io/v1/video-playlist?stellarUri=","ENABLE_REGISTRATION_ARKOSE":true,"ENABLE_SERVER_AD_REGISTRIES":true,"ENABLE_SOVRN":true,"ENABLE_TAG_MANAGER":true,"ENABLE_USER_CONSENT":true,"ENABLE_USER_FIRST_LAST_NAME":false,"ENABLE_USER_FIRST_LAST_NAME_UPDATES":true,"ENABLE_ZETA":true,"ENABLE_ZION":true,"ENABLE_ZION_ANALYTICS_CLICK_EVENTS":true,"ENABLE_ZION_ANALYTICS_ON_OFF_EVENTS":true,"ENSIGHTEN_SRC":"https://agility.cnn.com/turner/cnn-prod/Bootstrap.js","FACEBOOK_APP_ID":"80401312489","FAVE_TOP_PLAYER":{"ads":{"default":{"ssai":{"dev":{"clips":{"enabled":true,"profile":"m6Np541neR"},"liveAuth":{"enabled":true,"profile":"UsIeS2TKlX"},"liveUnauth":{"enabled":true,"profile":"2iUzxPSeOP"}},"environment":"prod","prod":{"clips":{"enabled":true,"profile":"5lycn5OPFj"},"liveAuth":{"enabled":true,"profile":"33hkbvnyaO"},"liveUnauth":{"enabled":true,"profile":"ENHa1vBbDp"}}}},"livestory":{"ssai":{"dev":{"clips":{"enabled":true,"profile":"N5SsGHrH8R"},"liveAuth":{"enabled":true,"profile":"UsIeS2TKlX"},"liveUnauth":{"enabled":true,"profile":"U0k3XgD9A0"}},"environment":"prod","prod":{"clips":{"enabled":true,"profile":"sqKNPXeFWm"},"liveAuth":{"enabled":true,"profile":"33hkbvnyaO"},"liveUnauth":{"enabled":true,"profile":"TBn9mv6qeq"}}}}}},"FAVE_MEDIA_PLAYER":"top","FOLLOW_AUDIENCE":"","FOLLOW_CLIENT_ID":"8gi02gh2jnr3hhnr3rti04hj","FOLLOW_COMPONENTS_ENABLED":["follow-topics-bar","user-account-my-news","tooltip","follow-card-container"],"FOLLOW_CONTENT_API":"https://content.api.cnn.com","FOLLOW_CONTENT_API_UDK":"","FOLLOW_COOKIE_NAME":"cnn_follow_v1","FOLLOW_EXCLUDE_SECTIONS":"cnn-underscored","FOLLOW_FEATURE_ENABLED":true,"GIZMO_UK_SERVER_ENDPOINT":"/gizmo/api/1/wingman","GIZMO_UK_STRIPE_PUBLISH_KEY":"pk_live_51IdcnkJ8No30pLfwQoIZQCXHkAv62Y0s6hjOqbhuqOUORTluS4P1wThSRlTrh9Z78Uy41mNZWWRYrOwwKBOptyTa001tdtas8n","GOOGLE_TAG_MANAGER_ID":"GTM-KJZD388","LAZYLOAD_BUFFER_DESKTOP":"200","LAZYLOAD_BUFFER_MOBILE":"400","ONE_TRUST_SRC":"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js","OPTIMIZELY_BASE_SRC":"https://cdn.optimizely.com/public/125375509/s/","OPTIMIZELY_ENV":"prod","MARKETS_QUOTES_SRC":"https://markets.money.cnn.com/services/api/quotehover/multiquote.asp?symb=","CNN_BUSINESS_API":"https://api.business.cnn.io","CNN_BUSINESS_MONEY_HOST":"https://money.cnn.com","MARKETS_SEARCH_SRC":"https://markets.money.cnn.com/common/symbolLookup/getSymbols.asp?jsoncallback=symbolSearch&callback=symbolSearch&render=JSON&q=","MEDIUM_SERVICE_ENVIRONMENT":"prod","OPENWEB_DEFAULT_SECTIONS":"travel","OPENWEB_LAUNCHER_SRC":"https://launcher.spot.im/spot/sp_hsRkxHeO","OPENWEB_SSO_LAUNCHER_SRC":"https://launcher.spot.im/spot/sp_4hCVuB3p","OPENWEB_SPOT_ID":"sp_hsRkxHeO","OPENWEB_SSO_SPOT_ID":"sp_4hCVuB3p","OPENWEB_PLACEMENT":"inline","PERSONALIZED_RECIRC_API":"https://prod.di.api.cnn.io/recommendations","PERSONALIZED_RECIRC_TENANT_ID":"read-next-from-article.mobileweb","PRISM_APP_ID":"5e9f25a81c9d440000a83808","PRISM_BRAND":"cnn","PRISM_ENV":"prod","PYMJS_SRC":"https://cdn.cnn.com/cnn/.e/interactive/js/lib/vendor/pym/pym.v1.min.js","REGWALL_FEATURE_ENABLED":false,"REGWALL_DEV_COOKIE_NAME":"regwall_enabled_v1","SOVRN_SRC":"https://get.s-onetag.com/c15ddde9-ec7d-4a49-b8ca-7a21bc4b943b/tag.min.js","SEARCH_API_ENDPOINT_URL":"https://search.prod.di.api.cnn.io/content","SERVICE_BUILD_TYPE":"renderer","TAG_MANAGER":"adobe","TECH_STACK":"stellar2.0","TOP_AD_RENDER_STICKY_TIMEOUT":"3000","TOP_AUTH_SRC":"https://turnip.cdn.turner.com/top/auth/2.12.1-22/auth.min.js","TOP_AUTH_ENV":"@top_auth_env","TOP_AUTH_ECID":"37D8CAC3-36E0-46D9-B160-CB987896CCEF","TOP_AUTH_MVPD_CONFIG_URL":"https://tvem.cdn.turner.com/v2/getConfig?brand=CNN&platform=web&country=US","TOP_AUTH_SERVICE_APP_ID":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuZXR3b3JrIjoiY25uIiwicHJvZHVjdCI6ImNubiIsInBsYXRmb3JtIjoid2ViLXRvcDIiLCJhcHBJZCI6ImNubi1jbm4td2ViLXRvcDItOWowYnI2In0.TbUdtroeG7T1gfSTUfdobssbI8vPsAX6tFEX5KI8hcA","TOP_AUTH_SOFTWARE_STATEMENT":"eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyY2QwZTZiZC01ZjFlLTRhMjItYTRhMC01Njg3YzNjOWI3NTEiLCJuYmYiOjE1MzcxOTA3NTcsImlzcyI6ImF1dGguYWRvYmUuY29tIiwiaWF0IjoxNTM3MTkwNzU3fQ.tBxO0aQhj8sy6RPiDMeThvvZgBkYRNVr1VseVCV3soJZdQJO7dWCcjeNghS8Qg2pc4u7vy6MQNtABcMU25BnCEBH8xKBf4HWb49NaFQLnmdXQULpfc1Uts5_CY0ALAtMgmfEdI_lzB9a80FuEiZ4VZcGxSpy7QTgZZivBqaq9hk71Yynhik9nsCv8pcHUKBkdq5W4lMyMGbDVGlCcHepmjj3yohzyc-4_gsfqtkaJHQBBAXSSqYVTKkg6bM-1GmKm2nBhjDBTHngM3vyA0YjpZ5dVsrGkRpGdfXLnCYB_9T91h-dYV8tle_V0HiLAn_8EVOmuQmKl7BzBJlERwo8JA","TOP_AUTH_SESSION_NAME":"com.turner.top-2.activationRegCode","TOP_FREEVIEW_SRC":"https://turnip.cdn.turner.com/top/freeview/2.12.1-22/freeview.min.js","TOP_FREEVIEW_ENV":"prod","TOP_FREEVIEW_SECRET_KEY":"hhX*-sB*YqRDpgs7RFTCacJocTFarXQf","PLUS_TOP_AUTH_MVPD_CONFIG_URL":"https://ite.api.tvemanager.ngtv.io/v2/getConfig?brand=cnnplus&platform=web&country=US","EMPLOYEE_TOP_AUTH_MVPD_CONFIG_URL":"https://ite.api.tvemanager.ngtv.io/v2/getConfig?brand=cnnplusee&platform=web","TRINITY_CONFIGURATION.domestic.michonne.features.enableBrowsi":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableMyFinance":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableIndexExchange":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enablePrebid":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableAmazonDisplayAds":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableCep":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableIntegralAdScience":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableInViewRefresh":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableMalvertisingDetection":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableProximic":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableSourcePoint":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableBlockThrough":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableSSAI":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableHHID":true,"TRINITY_CONFIGURATION.domestic.michonne.features.enableFreewheelProgrammatic":true,"TRINITY_CONFIGURATION.international.michonne.features.enableBrowsi":true,"TRINITY_CONFIGURATION.international.michonne.features.enableMyFinance":false,"TRINITY_CONFIGURATION.international.michonne.features.enableIndexExchange":false,"TRINITY_CONFIGURATION.international.michonne.features.enablePrebid":true,"TRINITY_CONFIGURATION.international.michonne.features.enableAmazonDisplayAds":true,"TRINITY_CONFIGURATION.international.michonne.features.enableCep":true,"TRINITY_CONFIGURATION.international.michonne.features.enableIntegralAdScience":true,"TRINITY_CONFIGURATION.international.michonne.features.enableInViewRefresh":true,"TRINITY_CONFIGURATION.international.michonne.features.enableMalvertisingDetection":true,"TRINITY_CONFIGURATION.international.michonne.features.enableProximic":true,"TRINITY_CONFIGURATION.international.michonne.features.enableSourcePoint":true,"TRINITY_CONFIGURATION.international.michonne.features.enableBlockThrough":true,"TRINITY_CONFIGURATION.international.michonne.features.enableSSAI":true,"TRINITY_CONFIGURATION.international.michonne.features.enableHHID":true,"TRINITY_CONFIGURATION.international.michonne.features.enableFreewheelProgrammatic":true,"TRINITY_CONFIGURATION.siteinfo.userAccountLegalDocs":[{"docName":"TOS","version":"1.0","label":"By clicking Register you confirm you have read and agree to our <a href='https://www.cnn.com/terms' target='_blank'>Terms and Conditions</a> and acknowledge our <a href='https://www.cnr.setError=function(n,t){var r=(function(n){return null==n?"":d(n.message)?""+n.message:n+""})(n);if(!r)return this.qn="",void(this.Fn="");t&&(r=[t,r].join(": ")),this.qn=r;var i="";if(n&&n.stack){var e=((n.stack||"")+"").split("\n");e[0].indexOf("Error: ")>-1?i=(e[1]||"").trim():e[0]&&(i=e[0].trim())}this.Fn=i},r.dt=function(n,t,r,i){i=o({},i||this.Ln||{}),r||(i=o(i,this.Un||{},this.Hn||{},this.Bn||{}));var e=n||bt(),u=e&&e.search;t=t||document.referrer;var a=r>0?"":this.lastID("pageview"),c=r>0?"":this.lastID("cmpConsent[tcf]"),s=r>0?"":this.lastID("cmpConsent[usnat]"),f=jn(e);if(f.length>=9&&!I(e)&&(i.uri=f),t&&(i.rfr=""+t),a&&(i.pv=a),c&&(i.ccid=c),s&&(i.uccid=s,c||(i.ccid=c)),i.pid=this.propertyID,i.jsv=et,i.utco=-1*(new Date).getTimezoneOffset()*60,r>0&&(i.dms=r),(function(){try{return!!window.localStorage._admlValRec}catch(n){return!1}})()&&(i.vrec=!0),wt(this.Zn)&&(i.sgs=this.Zn),Nn("get","_bootstrapVersion",(function(n){n&&h(n)&&(i.verb=n)})),u){var d=(0,S(e,!1,!1).getQueryVariablesWithMatch)((function(n){return 0===n.indexOf("utm_")||0===n.indexOf("adm_")})),v=[];for(var l in d)pt(d,l)&&v.push(l+"="+d[l]);v.length>0&&(i.usp=v.join("&"))}return this.getCookieData().then((function(n){return i=ft(i,n),new Promise((function(n){Nn("get","analytics.ignore",(function(n,t){t?n&&(i.ign=!0):(kn()||_n()||Pn()||$n())&&(i.ign=!0)})),n(i)}))}))},r.ht=function(n,t){return"post"===t?(this.qn&&(n.err=this.qn),this.Fn&&(n.ert=this.Fn)):this.qn&&(n.err="1"),this.setError(),n},r.vt=function(n){var t=this,r=this.xn;return new Promise((function(n){1===r.push(n)&&n()})).then((function(){return r.shift(),t.jn=t.jn.catch(it).then(n),r[0]&&r[0](),t.jn}))},r.et=function(){var n,t=this,r=window.sessionStorage||{},i="afsvisits";try{var e=r[i];e&&(delete r[i],n=JSON.parse(e).slice(-5))}catch(n){}if(n&&n.length)for(var o=Date.now(),u=function(r){var i=n[r][0]||0,e=n[r][1]||{},u=o-i;if(u>c._n)return"continue";if(1===e.t){if(!e.cs)return"continue";var a={hasAdBlocker:!0,disabledAdBlocker:!1,blocked:!0,flags:16384,engageRendered:i},s=[{type:"pageview",body:t.Kn({results:a})}].concat(t.lt(e.cs,{}).map((function(n){return((n.candidate||n).triggers||[]).find((function(n){return n&&"adblockerDisabled"===n.type}))&&rt.set({engageRendered:i}),{type:"candidateSeen",body:t.Qn(n)}})));t.vt((function(){var n=new Hn(e.p?new URL(e.p,window.location):bt());return t.dt(n,e.r,u,t.st(a)).then((function(n){return t.wt(c.B,n,0,null,at,s,!1)}))}))}},a=0;a<n.length&&n[a];a++)u(a)},r.record=function(n){var t=this,r=n||new Hn(bt());return I(r)?Promise.reject(new Error("invalid location")):this.vt((function(){return t.dt(r).then((function(n){var r=t.Wn?at:ct;return t.wt(c.B,t.ht(n,r),0,null,r,t.Rn.splice(0,t.Rn.length),!1)}))}))},r.testRecord=function(n,t){var r=this;t=ut(t);var i=new Hn(bt());return I(i)?Promise.reject(new Error("invalid location")):this.vt((function(){return r.dt(i).then((function(i){return r.wt(n,i,0,null,t,[],!0,c.hn)}))}))},r.wt=function(n,t,r,i,e,o,u,a){var s=this;if(!n)return Promise.reject(new Error("no submit endpoint"));if(!t)return Promise.reject(new Error("no common data"));a=a||c.dn;var f=t.dms,d={c:t,b:[]};if(0===o.length&&!u&&!t.err)return Promise.resolve(i||{});var h="",v=!1;o.forEach((function(n){n.src&&(h?h!==n.src&&(v=!0):h=n.src)})),h&&!v?(o=o.map((function(n){return delete n.src,n})),t.ss=h):delete t.ss;var l=kt(e,d,"b",o),w=l.encoded,m=l.left;return r++,this.gt(a,e,n,w).then((function(n){var r,i;if(n&&n.daConvertedState){var e=rt.get().engageRendered;n.daConvertedState>0&&!e?rt.set({engageRendered:1}):e>0&&n.daConvertedState<0&&rt.set({engageRendered:0})}return t&&t.vrec&&(un(!1),delete t.vrec),f||s.bt(n,o),n.entries=null!=(r=null==(i=n.visitorStatus)?void 0:i.offers)?r:[],Promise.all([s.yt(n),s.saveSession(n,dt(t),!1)]).then((function(){return n}))})).catch((function(n){throw s.it||Rn("visitor.latest",{error:{error:"network error",code:0}}),s.setError(n,"record"),n})).then((function(i){return m&&m.length>0&&r<5?s.wt(n,s.ht(t,e),r,i,e,m,u,a):i}))},r.ot=function(n){var t=this,r=n.err,i=n.params,e=n.callback,u=void 0===e?function(){}:e;if(r&&this.setError(r,"onPay"),!c.H)return Promise.reject(new Error("no subscribe endpoint"));var a=this.vt((function(){return t.dt("").then((function(n){return t.gt(c.vn,"",c.H,o(n,o({},i,{metadata:nn()})))})).then((function(n){return Promise.all([t.kt(n),t.yt(n),t.saveSession(n,!0,!0)]).then((function(){return n}))}))}));return a.then((function(n){var t,r;n.entries=null!=(t=null==(r=n.visitorStatus)?void 0:r.offers)?t:[],en(n.entries).then((function(){Rn("transact.subscribed",{offers:n.entries,benefits:rn(n.entries)}),u(n)}))})),a.catch((function(n){throw t.setError(n,"subscribe"),t.record(),u(void 0,n),new Error("Unknown error occurred. Please try again.")})),a},r.lt=function(n){var t=n.candidates,r=void 0===t?[]:t,i=n.extras,e=void 0===i?{}:i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[];return r.forEach((function(n){var t=n.candidateID;u[t]||(u[t]=!0,a.push(o({candidate:n},e[t])))})),a},r.ut=function(n){var t=this,r=n.candidates,i=void 0===r?[]:r,e=n.extras,o=void 0===e?{}:e,u=n.callback,a=void 0===u?function(){}:u,c=n.src,s=void 0===c?"":c;this.lt({candidates:i,extras:o},this.tt).forEach((function(n){t.addData("candidateSeen",n,s)})),setTimeout((function(){t.record().then((function(){return a({})}),(function(n){return a(void 0,n)}))}),100)},r.ct=function(n){var t=this,r=n.candidates,i=void 0===r?[]:r,e=n.extras,u=void 0===e?{}:e,a=n.action,c=void 0===a?"":a,s=n.detail,f=void 0===s?"":s,d=n.callback,h=void 0===d?function(){}:d,v=n.src,l=void 0===v?"":v;i.forEach((function(n){var r=n.candidateID;t.rt[r+c]||(t.rt[r+c]=!0,t.addData("candidateAction",o({candidate:n,action:c,detail:f},u[r]),l))})),this.record().then((function(){return h({})}),(function(n){return h(void 0,n)}))},r.performAttributeUpdates=function(n){var t=this,r=this.vt((function(){return t.getCookieData().then((function(r){var i=ft({pid:t.propertyID,as:n},r);return t.gt(c.mn,"",c.yn,i).then((function(n){return Promise.all([t.kt(n),t.yt(n),t.saveSession(n,dt(i),!1)]).then((function(){return n}))}))}))}));return r.catch((function(n){throw t.setError(n,"perform"),t.record(),new Error("Unknown error occurred. Please try again.")})),r},r.recordMetrics=function(n){var t=c.G;if(!t)return Promise.resolve({});if(I()||"localhost"===bt().hostname)return Promise.resolve({});if(n||gt){var r=Nn("flushUsed");if(r&&r.length>0&&this.Nn.push({t:"q",n:r.join("\n")}),!this.Nn||this.Nn.length<1)return Promise.resolve({});var i={v:et,pid:this.propertyID},e=ut(c.gn),o=kt(e,i,"m",this.Nn),u=o.encoded,a=o.left;return this.Nn=a||[],this.gt("",e,t,u)}},r.kt=function(n){if(n&&d(n.localData))return this.zn=n.localData,(function(n){if(!d(n))return Promise.reject("bad data");var t=on(F,n);return $(x,t,J).catch((function(t){if(W){var r=on(q,n);return $(x,r,X)}throw t}))})(this.zn)},r.yt=function(n){if(n&&n.visitorStatus){var t=o(this.it||{},n.visitorStatus);t.canStoreData=t.registered||c.Dn>=0,this.it=t;var r=o({},t);return delete r.visitorID,Rn("visitor.latest",{status:r,_private:function(){return{status:t}}}).catch((function(n){}))}},r.fetchCandidates=function(n){var t=this,r=n.results,i=void 0===r?{}:r,e=n.cmpStatus,u=void 0===e?{}:e,a=n.ccpaStatus,s=void 0===a?{}:a,f=n.customParams,v=void 0===f?null:f,l=n.overrides,w=void 0===l?{}:l,m=n.candidateIDs,p=n.variantIDs,g=n.shownCandidates,b={pid:this.propertyID,pv:this.lastID("pageview"),tp:{},jsv:et,c:this.st(i)};Nn("get","analytics.ignore",(function(n,t){t?n&&(b.c.ign=!0):(kn()||_n()||Pn()||$n())&&(b.c.ign=!0)})),v&&Object.keys(v).length>0&&(b.ctp=v),b.tp.np="Notification"in window?Notification.permission:"default",i.blocked&&(b.tp.adb=!0,b.tp.adt=i.blockerType),i.recentlyWhitelisted&&(b.tp.adrw=!0);var y=bt(),k=y&&(y.hostname||y.host);k&&(b.tp.ph=k);var P=(function(n){return"/"!==(n=n||"/").charAt(0)&&(n="/"+n),"/"===n.charAt(n.length-1)&&n.length>1&&(n=n.substr(0,n.length-1)),n})(y.pathname);if(P&&(b.tp.pp=P),document.referrer&&(b.tp.pr=document.referrer),!u.failed){var $=u.status,_=u.tcfVersion;h($)&&!isNaN($)&&(b.tp.cs=$),h(_)&&(b.tp.cv=_)}s&&!s.failed&&d(s.state)&&(b.tp.cps=s.state),window.__cmpGdprAppliesGlobally&&(b.tp.cag=!0);var C=_n();if(C){var S=Cn(C),E=S.An[0];1===S.An.length&&E&&E.indexOf(":")>-1?b.cg=E:C.indexOf(",")>-1?b.cids=S.An:b.cid=E,S.In&&(b.cvids=S.Tn)}else Pn()&&(b.tp.pvc=!0),kn()&&(b.tp.pve=!0);return wt(m)&&m.length>0&&(b.cids=m),wt(p)&&p.length>0&&(b.cvids=p),wt(g)&&g.length>0&&(b.sc=g),lt(i,"hasAA")&&(b.tp.aao=i.hasAA),this.getCookieData().then((function(n){var t=n.cookies;(function(n,t){(c.$n||[]).forEach((function(r){var i=r.indexOf(".");if(i>-1){var e=r.substring(0,i),o=r.substring(i+1);if(t[e]){var u=t[e](o);(d(u)||wt(u))&&(n[e]=n[e]||{},n[e][o]=u)}}}))})(b=ft(b,n),{qp:A,hp:D,ck:function(n){var r=(t||[]).filter((function(t){return t&&t.name===n})).map((function(n){return n.value}));return r.length>0&&r}}),w&&(b.tp=o(b.tp,w))})).then((function(){return t.gt(c.ln,"",En(c.bn),b)})).then((function(n){return Promise.all([t.kt(n),t.Pt(n),t.yt(n),t.saveSession(n,dt(b),!1)]).then((function(){return{candidates:n.candidate?[n.candidate]:n.candidates||[]}}))}))},r.bt=function(n,t){var r="cmpConsent",i="cmpImpression";if(n&&n.ids){for(var e=[],o=0;o<n.ids.length;o++)n.ids[o]&&n.ids[o].id&&(n.ids[o].type!==r&&n.ids[o].type!==i||e.push(n.ids[o].id),this.Xn.push(n.ids[o]));for(var u=-1,a=0;a<t.length;a++){var c=t[a]||{};if((c.type===r||c.type===i)&&c.body){u++;var s=c.body.cct;if(e[u]&&c.type===r)switch(s){case"tcf":rt.set({cmpConsentID:e[u]});break;case"usnat":rt.set({usnatCMPConsentID:e[u]})}this.Xn.push({type:"".concat(t[a].type,"[").concat(s,"]"),id:e[u]})}}}return n},r.lastID=function(n){for(var t=this.Xn.length-1;t>=0;t--)if(this.Xn[t].type==n)return this.Xn[t].id;return""},r.Pt=function(n){if(n){this.Zn=wt(n.segments)?n.segments:void 0;var t=n.gamKVPs;if(t){var r=[];for(var i in t)pt(t,i)&&i&&r.push([i,wt(t[i])&&1===t[i].length?t[i][0]:t[i]]);rt.set({lastGAMKVPs:r||[]})}}return n},r.saveSession=function(n,t,r){var i=this,e=Promise.resolve();if(!n)return e;if(n.sessionID&&(this.Vn.sessionID=n.sessionID,this.Gn=0|n.now||this.Gn||0,e=e.then((function(){return t=n.sessionID,r=i.Gn,K(t,r,F,L).catch((function(n){if(W)return K(t,r,q,L);throw n})).then((function(){z[R]&&($(R,null,{domain:q}),z[R]=!1)}));var t,r}))),n.realmSessionID){var o="";t?(o=this.Vn.realmSessionID,e=e.then((function(){return i.Vn.realmSessionID=n.realmSessionID,Y(n.realmSessionID)})),this.zn&&o&&r&&this.Vn.sessionID&&(e=e.then((function(){return i.gt(c.mn,"",c.yn,st({pid:i.propertyID,anid:o,md:!0},i.Vn.sessionID,i.Vn.realmSessionID,i.zn))})).then((function(n){return Promise.all([i.kt(n),i.yt(n),i.saveSession(n,!1,!1)]).then((function(){return n}))})))):e=e.then((function(){return i.getCookieData().then((function(t){if(!t.sessions.realmSessionID)return i.Vn.realmSessionID=n.realmSessionID,Y(n.realmSessionID)}))}))}else n.clearRealmSessionID&&(this.Vn.realmSessionID="",e=e.then((function(){return Y("")})));return e.catch((function(n){i.setError(n,"cookies")}))},r.getCookieData=function(){var n=this;return $().then((function(n){var t=(O=(function(n){for(var t={},r={},i={},e=0;e<n.length;e++){var _name=n[e].name;if(_name===R||_name===N||_name===x){var o=n[e].value.match(U);if(!o||!o[2]||~~o[1]<t[_name])continue;t[_name]=~~o[1],i[_name]=n[e].domain||"",r[_name]=o[2]}else _name===j&&(V=!0)}if(!G){for(var u in r)i[u]&&t[u]<Z(F)&&(F=M(i[u]),W=!0),W&&t[u]>Z(F)&&(z[u]=!0);G=!0}return r})(n))[R];return{sessions:{sessionID:(t?t.match(B):"")[2]||"",realmSessionID:O[N]||""},localData:O[x]||"",cookies:n}})).catch((function(){return{sessions:n.Vn,cookies:{},localData:n.zn}}))},r.gt=function(t,r,i,e){var o=this,u=i,a=r?ut(r):this.Wn?at:ct,c=d(e)?e:kt(a,e).encoded;return new Promise((function(r,i){var e;switch("//"===u.substr(0,2)&&(u=(bt().protocol||"https:")+u),a){case"ping":e=new Promise((function(n,t){navigator.sendBeacon(u,c)?n(new ot({})):t(new Error("failed to queue beacon"))}));break;case"post":e=(function(n,t){if(f(window.fetch))return window.fetch.call(this,n,t);var r=t||{};return new Promise((function(t,i){var e=new XMLHttpRequest;e.addEventListener("load",(function(){if(0!==e.status){var n=e.status||200,r={status:n,ok:200==n,json:function(){return new Promise((function(n){n(JSON.parse(e.responseText))}))}};t(r)}else i(new Error("status is 0"))})),e.addEventListener("error",i),e.open(r.method||"GET",n,!0),e.send(r.body)}))})(u,{method:"POST",body:c});break;default:e=n.handlers[a]((function(n){u=n}),u,c,n.timeout,(function(){}),fn)}e.then((function(n){if(n.ok)return n;var t=new Error("Request non-200 status");return n.json().then((function(n){throw t.code=n.code,t})).catch((function(){throw t}))}),(function(n){throw n})).then((function(n){return n.json()})).then((function(n){r(n),t&&o.addLoadPerfData(t,1,fn(u))})).catch(i)})).catch((function(r){if(t){var i=fn(u),e=0;r===n.timeoutError&&(e=2),o.addLoadPerfData(t,e,i)}throw r}))},t=n,Object.defineProperty(t,"prototype",{writable:!1}),t})();function kt(n,t,r,i){return yt.$t(n,t,r,i,Math.random()>c.un)}yt.timeout=c.kn,yt.timeoutError=new Error("Timed out waiting for response"),yt.handlers={},yt.bodyFmts={},yt.$t=function(n,t,r,i,e){return yt.bodyFmts[n]?yt.bodyFmts[n](t,r,i,e):(r&&i&&(t[r]=i),{encoded:JSON.stringify(t),left:[]})},_callback={},new(function(){_callback.lc=!!0}),_callback.lc&&_callback.c(yt),new(function(){_callback.lj=!!0}),_callback.lj&&_callback.j(yt);var Pt=/^([a-zA-Z]+)/,$t="[a-zA-Z0-9_-]+",_t=new RegExp("([#.])("+$t+")|\\[("+$t+')(?:=("[^"]+"|[^\\]]+))?\\]',"g");function Ct(n,t){var r,i="div",e=d(t)&&t.match(Pt);e&&(i=e[1]||i,t=t.substr(e[1].length));try{"undefined"!=typeof Document&&(r=Document.prototype.createElement.call(n,i))}catch(n){}if(r||(r=n.createElement(i)),!r)throw new Error("error creating element: "+i);var o=[];for(_t.lastIndex=0;null!==(e=_t.exec(t));)"."===e[1]&&e[2]?o.push(e[2]):"#"===e[1]&&e[2]?r.id=e[2]:e[3]&&r.setAttribute(e[3],e[4]||"");return o.length>0&&(r.className=o.join(" ")),r}function St(n,t,r){var i=document,e="script";return new Promise((function(o,u){if(n){var a=Ct(i,e),c=new Date;a.async=1,t&&(a.crossOrigin="anonymous"),a.type="text/javascript",a.onreadystatechange=function(){"loaded"===this.readyState&&o(a)},a.onload=function(){return o(a)},a.onerror=function(t){var r=new Date;u('script failed: "'+n+'" - '+Math.round(r-c)+"ms: "+t),a.parentNode&&a.parentNode.removeChild(a)},a.src=n,(r=r||i.getElementsByTagName(e)[0])&&r.parentNode?r.parentNode.insertBefore(a,r):(i.head||i.getElementsByTagName("head")[0]||i.body).appendChild(a)}else u("missing src")}))}function Et(n,t){return new Promise((function(r,i){var e;e=setTimeout((function(){i("timedout")}),t),n.then((function(n){e&&clearTimeout(e),r(n)})).catch(i)}))}function Dt(){var n=window,t=Array.prototype.slice.call(arguments);if(f(n.console.log))return n.console.log.apply(n.console,t)}var At="r",Tt=function(n){return new Error('Admiral targeting method "'+n+'" called after candidate call')},It=(function(){function n(){!(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this._t={},this.Ct=!1,this.state="i"}var t,r=n.prototype;return r.set=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(this.state===At)throw Tt("set");void 0===t?delete this._t[n]:this._t[n]=t,r(t)},r.pause=function(n){var t=this;if(this.state===At)throw Tt("pause");this.state="p",this.Ct&&(clearTimeout(this.Ct),this.Ct=null),n&&(this.Ct=setTimeout((function(){t.ready()}),n))},r.onReady=function(n){"i"===this.state&&this.ready(),On("targeting.ready",(function(t){return n(t)}))},r.ready=function(){this.state!==At&&(this.state=At,Rn("targeting.ready",this._t)),this.Ct&&(clearTimeout(this.Ct),this.Ct=null)},r.force=function(n){Rn("call.targeting.render",n=o({force:!0},n||{}))},r.reset=function(){this._t={},this.Ct=!1,this.state="i"},t=n,Object.defineProperty(t,"prototype",{writable:!1}),t})(),Mt=It;var Ot=["after","addEventListener","get","once"],Rt=["getOrSet"],Nt=Ot.concat(Rt,["removeEventListener","set","show","recordImpressions"]),jt=new Error("no view name");function xt(){}function Lt(n){return Array.prototype.slice.call(n)}function Bt(n){return n.slice(1)}function Ut(n){var t=o({},n);return delete t._private,t}function Ht(n){return function(){var t=Lt(arguments);if(!t[0]||Array.isArray(t[0])||"object"!=typeof t[0])return n.apply(null,t);var r=t.shift();return n.apply(null,[Ut(r)].concat(t))}}var qt=(function(){function n(t,r){!(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.St={},this.Et={},this._t={_bootstrapVersion:r||0},this.Dt={},this.At={},this.Tt={},this.It=new Mt,this.Mt=t}var t,r=n.prototype;return r.fn=function(){var n=this,t=function(){var t=Lt(arguments),r=t[0],i=t[1],e=t[2],o=t[3],u=t.slice(4),a=!1;if(Nt.indexOf(r)>-1?(a=!0,d(i)&&(n.Tt[i]=!0),f(e)&&Ot.indexOf(r)>-1&&(e=Ht(e)),f(o)&&Rt.indexOf(r)>-1&&(o=Ht(o))):"targeting"===r?(a=!0,d(i)&&(n.Tt["targeting."+i]=!0)):"visitor"===r?(a=!0,d(i)&&(n.Tt["visitor."+i]=!0)):"ready"===r&&(a=!0),a)return n[r].apply(n,[i,e,o].concat(u));throw new Error("No '".concat(r,"' method"))};return t.loaded=!0,t.a=n,t},r.targeting=function(n){return this.It[n].apply(this.It,Bt(Lt(arguments)))},r.visitor=function(n){return this.Mt[n].apply(this.Mt,Bt(Lt(arguments)))},r.ready=function(n){n&&n()},r.show=function(n,t,r){f(t)&&(r=t,t={});var i=this.Dt,e=i[n]||{name:n,queue:[]};if(e.registered)e.renderFn(t,r);else{e.queue.push([t,r]),i[n]=e;var o=this.At[n]||{};o.providerFn&&!o.provided&&(o.provided=!0,o.providerFn())}},r.registerViewProvider=function(n,t){if(!n)throw jt;if(!t)throw new Error("no view providerFn");var r=this.At,i=r[n]||{},e=this.Dt[n];i.provided||(e?e.registered||t():r[n]={name:n,providerFn:t})},r.registerView=function(n,t){if(!n)throw jt;if(!t)throw new Error("no view renderFn");var r=this.Dt,i=r[n]||{name:n};if(r[n]=i,i.registered=!0,i.renderFn=t,i.queue)for(var e=0;e<i.queue.length;e++)i.renderFn.apply(null,i.queue[e]);delete i.queue},r.hasView=function(n,t){var r=this.Dt[n];t(!(!r||!r.registered))},r.addEventListener=function(n,t){var r=this.St;r[n]=r[n]||[],r[n].push(t)},r.removeEventListener=function(n,t){for(var r=this.St[n]||[],i=0;i<r.length;i++)if(r[i]===t)return void r.splice(i,1)},r.after=function(n,t){var r=this.Et;this.addEventListener(n,t),r.hasOwnProperty(n)&&t.apply(null,r[n])},r.once=function(n,t){var r=this;this.after(n,(function i(){r.removeEventListener(n,i),t.apply(this,Lt(arguments))}))},r.triggerEvent=function(n){for(var t=this.Et[n]=Bt(Lt(arguments)),r=(this.St[n]||[]).slice(0),i=[],e=0;e<r.length;e++){var o=Wt(r[e],t);o&&f(o.then)&&f(o.catch)&&i.push(o.catch(xt))}return Promise.all(i)},r.clearFired=function(n){delete this.Et[n]},r.set=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};void 0===t?delete this._t[n]:this._t[n]=t,r(t),this.triggerEvent("_set."+n,t)},r.getOrSet=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=this._t,e=i.hasOwnProperty(n);e?t=i[n]:this.set(n,t),r(t,e)},r.get=function(n,t){var r=this._t;t(r[n],r.hasOwnProperty(n))},r.storageSet=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};rt.set(n),t(n)},r.storageGet=function(n){n(rt.get())},r.recordImpressions=function(){},r.cas=function(n,t){var r=this._t,i=t(r[n],r.hasOwnProperty(n));i&&!0===i[0]&&this.set(n,i[1])},r.addSetter=function(n,t){this.after("_set."+n,t)},r.flushUsed=function(){var n=Object.keys(this.Tt);return this.Tt={},n},r.pm=function(n,t){switch(n){case 5:var r=this.triggerEvent("call."+t.m,t.a);t.cb&&(r&&f(r.then)?r.then(t.cb,(function(n){return t.cb(void 0,n)})):t.cb(r));break;case 6:this.after(t.l,t.cb);break;case 7:this.show(t.s,t.o||{},t.cb);break;case 8:var i=t.o||{};t.cb&&(i=o({callback:t.cb},i)),this.triggerEvent("view."+t.e,i);break;case 9:this.get(t.g,t.cb)}},t=n,Object.defineProperty(t,"prototype",{writable:!1}),t})(),Ft=window;function Wt(n,t){try{return n.apply(null,t)}catch(n){}}function Vt(n,t,r){var i=Array.isArray(n),e="";for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e=r?i?r+"["+o+"]":r+"."+o:o,d(n[o])||"boolean"==typeof n[o]||h(n[o])||null===n[o]||n[o]instanceof String||n[o]instanceof Number||n[o]instanceof Boolean?t.push([encodeURIComponent(e),encodeURIComponent(n[o]+"")].join("=")):void 0!==n[o]&&Vt(n[o],t,e))}function zt(n){var t=[];return Vt(n,t,""),t.join("&")}function Gt(n,t,r){return new Promise((function(i){t.addEventListener(n,(function e(o){if(t.removeEventListener(n,e,!1),i(o),r)return r(o)}),!1)}))}var Jt=null;function Xt(n){return(function(n){var t=n.readyState;return("complete"===t||"interactive"===t)&&n.body})(n)?Promise.resolve():(Jt||(Jt=Promise.race([Gt("DOMContentLoaded",n),Gt("readystatechange",n)]).then((function(){if(!n.body)return new Promise((function(t,r){var i,e=0;i=setInterval((function(){return n.body?(clearInterval(i),void t()):e++>50?(clearInterval(i),void r(new Error("body falsy: "+n.readyState))):void 0}),100)}))}))),Jt)}var Zt=function(){};function Kt(n){var t;return null!=(t=n.options)&&t.callDelay&&(n.wait=n.options.callDelay),n}var Qt=(function(){function n(t){!(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.Ot=(function(){var n,t={},r={},i=0;function e(n,t){if(r[n]){try{r[n](t)}catch(n){}delete r[n]}}return function(u){var a=this,c=u.key,s=u.value,f=u.actionType,d=u.cb,h=void 0===d?Zt:d,v=u.wait,l=void 0===v?10:v,w={a:f,rv:s,id:++i};r[i]=h,t[c]?t[c].push(w):t[c]=[w],clearTimeout(n),n=setTimeout((function(){var n=Object.keys(r),i=o({},t);t={},a.Rt.performAttributeUpdates(i).then((function(t){n.forEach((function(n){var r,i,o=null==t||null==(r=t.errors)?void 0:r[n];o&&((i=new Error(o.error||"unknown")).code=o.code||1),e(n,{error:i})}))}),(function(t){n.forEach((function(n){var t=new Error("network error");t.code=0,e(n,{error:t})}))}))}),l)}})(),this.Rt=t}var t,r=n.prototype;return r.set=function(n,t,r,i){f(r)&&void 0===i&&(i=r,r=null),this.Ot(Kt({key:n,value:t,actionType:"set",options:r,cb:i}))},r.increment=function(n,t,r,i){f(r)&&void 0===i&&(i=r,r=null),this.Ot(Kt({key:n,value:t,actionType:"increment",options:r,cb:i}))},r.addToSet=function(n,t,r,i){f(r)&&void 0===i&&(i=r,r=null),this.Ot(Kt({key:n,value:t,actionType:"addToSet",options:r,cb:i}))},r.removeFromSet=function(n,t,r,i){f(r)&&void 0===i&&(i=r,r=null),this.Ot(Kt({key:n,value:t,actionType:"removeFromSet",options:r,cb:i}))},r.status=function(n,t){f(n)&&void 0===t&&(t=n,n=null),(function(){Mn("once",arguments)})("visitor.latest",t)},t=n,Object.defineProperty(t,"prototype",{writable:!1}),t})(),Yt=Qt;var nr,tr=!1,rr=null,ir=null,er=function(){},or=(nr=document,nr.currentScript||{}).src,ur=c.J&&100*Math.random()<c.X,ar=!1,cr=!1,sr=(function(){function n(){!(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.results=null,this.browser=new b,this.recorder=new yt(c.h,this.browser),this.recorder.addLoadPerfData(c.k,1,fn(or),or),this.Nt=null,this.jt=null,this.xt=null,this.Lt={},this.Bt=[]}var t,r=n.prototype;return r.check=function(){var n=this,t=new p,r=Date.now();return(function(n){if(ir)return ir;var _callback={};return new(function(){_callback.l=!!!(function(n){var t={};function r(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(e,i,(function(t){return n[t]}).bind(null,i));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=0)})([function(n,t,r){"use strict";r.r(t);var e="function";function i(n){return n?typeof window.getComputedStyle===e?window.getComputedStyle(n,null):void 0!==n.currentStyle?n.currentStyle:n.style:{}}function o(n,t,r,u){var c=n[u]||typeof n.getBoundingClientRect===e&&n.getBoundingClientRect()[r]||0;if(t&&(function(n){var t=i(n);return t.display?"inline"===t.display:0===n.clientHeight&&0===n.clientWidth})(n)){for(var a=0,f=0;f<n.children.length;f++)a=Math.max(a,o(n.children[f],!0,r,u));if(a>c)return a}return c}function u(n){return null==n.parentNode||!(function(n){var t=i(n);return"none"!==t.display&&"hidden"!==t.visibility})(n)||0===(function(n,t){try{return o(n,void 0,"height","clientHeight")}catch(n){return 0}})(n)&&0===(function(n,t){try{return o(n,void 0,"width","clientWidth")}catch(n){return 0}})(n)}function c(n,t,r){var e="";for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e=r?"important":"",n.style.setProperty?n.style.setProperty(i,t[i],e):n.style[i]=t[i]+(e?"!"+e:""));return n}function a(n,t,r){var e=t||1,i=r||t||1;return c(n,{width:i+"px",height:e+"px",position:"fixed",left:"-"+(i+10)+"px",top:"-"+(e+10)+"px"},!0),c(n,{display:"block"},!1),n}function f(n){try{var t=document.createElement("link");return t.rel="preconnect",t.href=n,document.head.appendChild(t),function(){try{document.head.removeChild(t)}catch(n){}}}catch(n){}return function(){}}var v="https://tpc.googlesyndication.com",d="1-0-37";function s(n){var t=n.browser,r=n.detections,e=n.config,i=n.domReady,o=n.createElement,c=(n.debugLog,n.eventListen),s=n.waitPerf;if(!(0,n.isFunction)(window.postMessage)||t.isSafari())return Promise.resolve();var l=document,m=f(v),k=e.u||5e3,w=!1,g=!1,h=!1;return i(l).then((function(){return new Promise((function(n){if(l.body){var t,r,i=o(l,"iframe"),f=Math.round(100*(Math.random()+5))+"",m=0,$=!1,T=[v,"safeframe",d,"html/container.html"].join("/");i.src=T,i.id="admrl-sf__test",i.allowTransparency="true",i.style.border="0",i.style.verticalAlign="bottom",a(i,e.k[0],e.k[1]),i.scrolling="no",i.frameBorder=0;var y='<script>window.parent && window.parent.postMessage("'+f+'","*")<\/script>';i.name=d+";"+y.length+";"+y+"{}",window.addEventListener("message",P,!1),c("load",i,L),s(T,k).promise.then((function(n){var e=n.entry,i=n.supported;t=e,r=i,e?L():(b(),_(),p())})),l.body.appendChild(i),m=setInterval((function(){b()&&p()}),100)}else n();function P(n){n.data===f&&n.origin===v&&(h=!0,p())}function p(){clearInterval(m);try{window.removeEventListener("message",P,!1),i.parentNode.removeChild(i)}catch(n){}n()}function b(){if(u(i))return w=!0,g=!0,!0}function _(){if(r&&(!t||0===t.duration))return w=!0,!0}function L(){if(!$){if($=!0,clearInterval(m),b())return void p();setTimeout((function(){h||(_(),b()),p()}),e.g)}}}))})).then((function(){h&&r.disabled(8),w&&r.blocked(8,g),m()}))}function l(n){var t=n.detections,r=n.config,e=n.domReady,i=n.createElement,o=(n.debugLog,n.recorder),f=document;function v(n,t,e){var o=a(i(n,t),r.h),u=i(n,"span");return c(u,{color:"transparent"}),u.innerText=r.$,o.appendChild(u),n.body.appendChild(o),o}var d=r.T||[],s=r.P,l=r._||[],m=[],k=[];return e(f).then((function(){var n=s?v(f,s):null;n&&m.push(n);var t=d.map((function(n){return v(f,n)})),r=l.map((function(n){return v(f,n)}));return!(t.length<1)&&(m=m.concat(t).concat(r),new Promise((function(e){var i=0,o=0;function c(){var c=!1;if(++o<=3){if(c=!0,n&&u(n))c=!1;else for(var a=0;a<t.length;a++)if(d[a],!u(t[a],d[a])){c=!1;break}k=[];for(var f=0;f<r.length;f++)l[f],u(t[f])&&k.push(f)}(c||o>=3)&&(clearInterval(i),e(c))}setTimeout(c,0),i=setInterval(c,100)})))})).then((function(n){n?t.blocked(1,!0):t.disabled(1),l[0]&&o.addInvestigationData(12,0,k);for(var r=m.splice(0,m.length),e=0;e<r.length;e++)try{r[e].parentNode.removeChild(r[e])}catch(n){}}))}var m,k=(new Date).getDate()+(window.location.hostname||"z").charCodeAt(0);function w(n,t,r){for(var e=0,i=0;i<t.length;i++)e+=t[i][1]-t[i][0]+1;var o=0;for(e>0&&(o=n(e)),e=0,i=0;i<t.length&&!(o<(e+=t[i][1]-t[i][0]+1));i++);return o-(e-t[i][1]-1)+(0|r)}function g(n,t){for(var r=[],e=0;e<t.length;e++)for(var i=(t[e].v>0?n(t[e].v):0)+t[e].l;i>0;i--)t[e].c&&t[e].c.length>0&&r.push(w(n,t[e].c,t[e].s));for(var o=0;o<r.length;o++)r[o]=String.fromCharCode(r[o]);return r.join("")}function h(n){return t=n||k,r=Math.pow(2,31),e=1073741823,function(n){return((t=(1103515245*t+12345)%r)&e)/e*n|0};var t,r,e}function $(n){var t=n.L,r=n.I,e=n.R,i=n.S,o=n.M,c=n.U,f=(n.A,n.N),v=n.O,d=n.j,s=n.D;return new Promise((function(n,l){var k=[],w=[],h=!1;try{!(function $(T){if(r&&r[T])(P=r[T],p=P.src,b=P.tag,_=p.replace(/\$rs/g,(function(){return(function(n){return g(n,[{c:[[97,122]],l:5,v:2}])})(c)})).replace(/\$ri/g,(function(){return(function(n){return g(n,[{c:[[49,57]],l:1},{c:[[48,57]],l:5,v:2}])})(c)})),L="img"===b,I="script"===b,R=window.location.origin||"",S=t.u||5e3,new Promise((function(n){Date.now();var r,e,c=f(o,b),l=null,k=!1,w=!1,g=!1,h=0,$=0,T=d(_,S),y=T.promise,P=T.cancel;function p(){function t(){P(),clearTimeout(h),clearInterval($),c.removeEventListener("error",r,!1),c.removeEventListener("load",e,!1);try{c.parentNode.removeChild(c)}catch(n){}}l?l.then(t):t(),n({hidden:l,errored:w,loaded:g,blocked:k})}r=function(){w=!0,p()},e=function(){if(L&&"CanvasRenderingContext2D"in window&&R&&R!==(function(n){try{return new URL(n,window.location).origin}catch(n){}})(_))try{var n=f(o,"canvas"),r=n.getContext("2d");return n.height=t.k[0]||1,n.width=t.k[1]||1,r.drawImage(c,0,0),n.toDataURL(),k=!0,void p()}catch(n){}if(I&&null==m)try{var e=Array.prototype.slice.call(document.scripts||[]).filter((function(n){return n&&n.src===t.H}));if(e&&e.length>0||v(t.H)){var i="googletag";m=!(!window[i].apiReady||s(window[i].enableServices)&&!window[i].enableServices.toString().match(/{}$/))}}catch(n){}setTimeout(P,t.g),y.then((function(n){var t=n.entry,r=n.supported;t?g=!(k||I&&m):k=r,p()}))},c.addEventListener("error",r,!1),c.addEventListener("load",e,!1),h=setTimeout((function(){p()}),S);try{var M;c.src=_,I?(M="head",c.async=!0):L&&(M="body",c.decoding="async",a(c,t.k[0],t.k[1])),o[M].appendChild(c),!i&&L&&(l=new Promise((function(n){var r=10;$=setInterval((function(){var t=!u(c);(--r<=0||!t)&&(n(!t),clearInterval($))}),t.C/r)})))}catch(n){p()}}))).then((function(n){var t=n.hidden,r=n.errored,i=n.blocked,o=n.loaded;t&&k.push(t),h=h||o,e&&o?$():((r||i)&&w.push(T),$(T+1))})).catch(l);else{var y={loaded:h&&0===w.length,fails:w};k.length>0?Promise.all(k).then((function(t){for(var r=t.length>0,e=0;e<t.length;e++)if(!t[e]){r=!1;break}y.hidden=r,n(y)})).catch((function(t){n(y)})):n(y)}var P,p,b,_,L,I,R,S})(0)}catch(n){l(n)}}))}function T(n){return null!=n}function y(n){var t=n.browser,r=n.detections,e=n.config,i=n.domReady,o=n.debugLog,u=n.createElement,c=n.getPerfStats,a=n.waitPerf,v=n.isFunction,d=n.recorder;if(!v(window.addEventListener)||t.isIE())return Promise.resolve();var s,l=e.F||[],k=e.G||[],w=document,g=h(),y=function(n,t,r){var i=n.map((function(n){return{src:n,tag:"img"}})).concat(t.map((function(n){return{src:n,tag:"script"}})));return $({L:e,I:i,R:r,M:w,U:g,A:o,N:u,O:c,j:a,D:v})};try{var P=new URL(l[0],window.location).origin;P&&(s=f(P))}catch(n){}return i(w).then((function(){return w.body?y(l,k,"img").then((function(n){return{loaded:n.loaded,failed:n.fails&&n.fails.length===l.length+k.length,hidden:n.hidden}})):{}})).then((function(n){var t=n.loaded,i=n.failed,o=n.hidden,u=r.disabled.bind(r),c=r.blocked.bind(r);t?u(2):i&&c(2,!1),o?c(512,!0):T(o)&&u(512);var a=m;a?c(32768,!0):T(a)&&u(32768),s&&s();var f=e.W||[],v=e.V||[];(f[0]||v[0])&&100*Math.random()<e.q&&setTimeout((function(){Promise.all([y(v,[],!1),y([],f,!1)]).then((function(n){var t=n[0],r=n[1];f[0]&&d.addInvestigationData(13,0,t.fails),v[0]&&d.addInvestigationData(14,0,r.fails)}))}),1e3)}))}function P(n){var t=n.browser,r=n.detections,e=(n.debugLog,n.domReady),i=n.createElement,o=n.config;function c(n,t,r){var e=a(i(n,t),r||o.h);return n.body.appendChild(e),e}if(t.isIE())return Promise.resolve();var f=document,v=[];return e(f).then((function(){var n=!1;if(o.X){var t=c(f,o.X);if(v.push(t),u(t)){var r=c(f,o.P);if(v.push(r),u(r))return;n=!0}}return n})).then((function(n){n&&r.blocked(1024);for(var t=0;t<v.length;t++)try{v[t].parentNode&&v[t].parentNode.removeChild(v[t])}catch(n){}return n}))}function p(n){var t=n.detections;return n.rng=h(),n.testIMGJS=$,(function(n){var t=n.config,r=n.rng,e=n.timeoutPromise,i=n.testIMGJS,o=n.debugLog,u=n.createElement,c=n.getPerfStats,a=n.waitPerf,f=n.isFunction,v=t.B;return v?e(new Promise((function(n){var e="&rn="+r(1e5),d={L:t,I:[{src:v+"?ch=2"+e,tag:"img"},{src:v+"?ch=1"+e,tag:"img"}],R:!0,kskipHiddenImg:!0,M:document,U:r,A:o,N:u,O:c,j:a,D:f,J:"img"};i(d).then((function(t){var r=t.fails.length,e={hidden:t.hidden};1===r?0===t.fails[0]?e.status=1:e.status=2:e.status=r>0?3:2,n(e)}))})),5e3):Promise.resolve()})(n).then((function(n){n&&1===n.status&&t.blocked(4096,n.hidden)})).catch((function(){}))}var b=8192;function _(n){var t=n.detections,r=n.domReady,e=(n.debugLog,n.isFunction),i=n.isString,o=n.waitPerf,u=n.config,c=n.recorder;function a(n,t){return n=n.replace(/\$rd/g,(function(){return(function(n){return g(n,[{c:[[49,57]],l:5,v:2},{c:[[46,46]],l:1},{c:[[48,57]],l:1,v:2}])})(t)})),new Promise((function(t){var r={mode:"no-cors"},c=u.u||5e3,a=0;"AbortSignal"in window&&e(AbortSignal.timeout)?r.signal=AbortSignal.timeout(c):a=setTimeout((function(){t({})}),c);var f=o(n,c),v=f.promise,d=f.cancel;return fetch(n,r).then((function(n){if(a&&clearTimeout(a),n&&"opaque"===n.type)return setTimeout(d,u.g),void v.then((function(n){var r=n.entry,e=n.supported;t(r?{loaded:!0}:{blocked:e})}));d(),t({blocked:n&&i(n.url)&&0===n.url.indexOf("data:")})}),(function(n){a&&clearTimeout(a),d(),t({})}))}))}return e(window.fetch)?r(document).then((function(){if(!t.hasDisabledFlag(2)){var n=h(),r=u.K||[];return new Promise((function(e,i){var o=!1;try{!(function u(c){if(!r[c])return o&&t.blocked(b),void e();a(r[c],n).then((function(n){var r=n.loaded,i=n.blocked;return r?(t.disabled(b),void e()):i?(t.blocked(b),void e()):(o=!0,void u(c+1))})).catch(i)})(0)}catch(n){i(n)}})).then((function(){var t=u.Y||[];t[0]&&100*Math.random()<u.q&&setTimeout((function(){Promise.all(t.map((function(t){return a(t,n)}))).then((function(n){for(var t=[],r=0;r<n.length;r++)n[r]&&!n[r].loaded&&t.push(r);c.addInvestigationData(15,0,t)}))}),1e3)}))}})):Promise.resolve()}var L={Z:[[1,2]],h:"32",P:".imprtnt-cnt",T:['.stickyads','.ads_banner'],_:[],$:"sponsored",u:5000,G:['https://static.ads'+'afeprotected.com/sk'+'eleton.js?adslo'+'t=$rs_728x90_'],W:[],H:'https://www.goo'+'gletagser'+'vices.com/tag/js/gp'+'t.js',F:['https://static.a'+'dsafeprot'+'ected.com/skeleto'+'n.gif?adslo'+'t=ad_300x250_$ri'],V:[],q:0,k:[728,90],C:250,K:['https://adse'+'rver.adtech.adve'+'rtising.com/pubap'+'i/3.0/1/$rd/0/0/ADTE'+'CH;v=2;cmd=bid;cors=yes'],Y:[],B:"https://merequartz.com/aadetect/px.gif",X:"#getadmiral_com_filterlist_installed",nn:"video",tn:"//admiral-has-personalized.invalid",g:300};_callback.f=function(n){n.debugLog;var t=n.timeoutPromise,r=n.recorder,e=n.overwrite,i=L.Z;return Promise.resolve({check:function(o){var u=o.detections,c=o.runAllGroups,a=o.browser,f=o.timeout,v={},d=Promise.resolve(),m=new Promise((function(t,o){if(a.isWhitelisted())t();else{var f={1:l,2:y,8:s,1024:P,4096:p,8192:_},m={};try{!(function n(r){var e=[];if(i[r]&&i[r].length>0){for(var a=0;a<i[r].length;a++)e.push(k(f[i[r][a]],i[r][a]));Promise.all(e).then((function(){c||!u.hasDisabledAdBlocker()?n(r+1):t()})).catch(o)}else{for(var v in f)f.hasOwnProperty(v)&&e.push(k(f[v],v));Promise.all(e).then(t,o)}})(0)}catch(n){o(n)}}function k(t,i){if(!t||m[i])return d;if(m[i]=!0,!u.enabled(i))return d;try{return v[i]=!0,t(e({config:L,browser:a,detections:u},n)).catch((function(n){throw v[i]=!1,n})).then((function(n){return v[i]=!1,n}))}catch(n){return r.setError(n,"detector"+i),Promise.reject(n)}}}));return f>0&&(m=t(m,f)),m.catch((function(n){if("timedout"!==n)throw n;var t=[];for(var e in v)v.hasOwnProperty(e)&&v[e]&&t.push(e);r.addInvestigationData(6,0,t)}))}})}}]);}),_callback.l?ir=_callback.f({debugLog:Dt,timeoutPromise:Et,recorder:n,overwrite:o,domReady:Xt,isFunction:f,isString:d,createElement:Ct,getPerfStats:fn,waitPerf:hn,eventListen:Gt}):Promise.resolve()})(this.recorder).then((function(r){return(0,r.check)({detections:t,runAllGroups:!!A(yn),browser:n.browser,timeout:15e3,applyHacks:l})})).then((function(){return t.hasBlockerFlag(1024)&&n.recorder.addInvestigationData(9),Et(l(document,n.browser,t),5e3)})).then((function(){var i=Date.now(),e=rt.get(),o=e.engageRendered;o&&(e.lastGAMKVPs||n.recorder.addInvestigationData(17),rt.set({engageRendered:o}));var u=e.userEngaged;!o&&u&&(rt.set({engageRendered:u}),n.recorder.addInvestigationData(18));var a=i-parseInt(e.whitelistAdded,10)<108e5,c=t.hasAdBlocker(),s=t.hasDisabledAdBlocker(),f=c&&!s,d={hasAdBlocker:c,disabledAdBlocker:s,blocked:f,blockerScore:t.blockerScore(),disabledScore:t.disabledScore(),recovered:(o||u)&&!f,engageRendered:o,flags:t.blockerFlags(),disabledFlags:t.disabledFlags(),duration:Math.max(0,i-r),hacksFlags:t.hacksFlags(),pageviewID:"",hasAdmiralList:t.hasBlockerFlag(1024),hasAA:t.hasBlockerFlag(4096),recentlyWhitelisted:a,blockerType:t.blockerType()};return n.results=d,d})).catch((function(t){n.recorder.setError(t,"check")}))},r.Ut=function(n){var t=this.results;t&&(this.recorder.addData("pageview",{results:t,consentApplies:n},or),this.recorder.setIsBlocking(t.blocked),this.recorder.addDetectorPerfData(t.flags,t.disabledFlags,t.blockerScore,t.disabledScore,t.duration,t.hacksFlags))},r.Ht=function(){return this.jt||Promise.reject("consent not initialized")},r.qt=function(){var n=this;if(!c.V)return this.jt=Promise.resolve({exists:!1,applies:!1}),this.jt;var t=function(t){var r=t._private,i=(void 0===r?function(){return{}}:r)().reportingData,e=void 0===i?{}:i,u=rt.get().cmpConsentID;u&&(e=o({cmpConsentID:u},e)),n.recorder.setCMPCommonData(e)},r=function(n){var t=n.consentKnown,r=n.tcData,i=void 0===r?{}:r,e=n.tcfVersion,o=n._private,u=(void 0===o?function(){return{}}:o)(),a=u.cmpClient,c=void 0===a?{}:a,s=u.applies,f=void 0!==s&&s,d=u.consent,h=void 0===d?{}:d;return{exists:t,cmpClient:c,tcData:i,applies:f,consent:h||{},status:h&&h.consentStatus||4,tcfVersion:e}};return On("cmp.updated",(function(i){t(i),n.jt=Promise.resolve(r(i))})),this.jt||(this.jt=new Promise((function(n){On("cmp.loaded",(function(i){t(i),n(r(i))}))}))),this.jt},r.Ft=function(){return this.xt||Promise.reject("consent not initialized")},r.Wt=function(){var n=this;if(!c.F||c.W)return this.xt=Promise.resolve({exists:!1}),this.xt;var t=function(t){t.state;var r=t._private,i=(void 0===r?function(){return{}}:r)().reportingData,e=void 0===i?{}:i;n.recorder.setCCPACommonData(e)},r=function(n){var t=n.state;return{exists:!!t,state:t,applies:n.applies}};return On("ccpa.updated",(function(i){t(i),n.xt=Promise.resolve(r(i))})),this.xt||(this.xt=new Promise((function(n){On("ccpa.loaded",(function(i){i&&i.state?(t(i),n(r(i))):n({exists:!1,state:"",applies:!1})}))}))),this.xt},r.Vt=function(){return this.zt||Promise.reject("consent not initialized")},r.Gt=function(){var n=this;if(!c.W)return this.zt=Promise.resolve({exists:!1}),this.zt;var t=function(t){t.applies,t.state;var r=t._private,i=(void 0===r?function(){return{}}:r)().reportingData,e=void 0===i?{}:i,u=rt.get().usnatCMPConsentID;u&&(e=o({usnatCMPConsentID:u},e)),n.recorder.setUSNatCommonData(e)},r=function(n){var t=n.applies,r=n.state;return{exists:!!r,applies:t,state:r}};return On("usnat.updated",(function(i){t(i),n.zt=Promise.resolve(r(i))})),this.zt||(this.zt=new Promise((function(n){On("usnat.loaded",(function(i){i?(t(i),n(r(i))):n({exists:!1,applies:!1})}))}))),this.zt},r.Jt=function(n,t){var r=this;this.Ut(t);var i=this.recorder.record(n||new Hn(window.location));return i.then((function(n){cr||(cr=!0,r.Xt(n));var t,i=ur&&!ar;i?(ar=!0,t=r.recorder.testRecord(c.Z,c.J)):t=Promise.resolve(),t.catch(er).then((function(){i&&r.recorder.recordMetrics(!0)}))})),i},r.Xt=function(n){var t=this.results||{},r=!!t.blocked,i=!!t.hasAA,e=!!t.recovered,o=!(!n||!n.subscription||!0!==n.subscription.subscriptionExists);if(c.an){var u={adblocking:r,subscribed:o,whitelisted:e};c.En&&(u.isAA=i,u.aaEnabled=i),Rn("measure.detected",u)}o?en(n.entries).then((function(){Rn("transact.subscribed",{offers:n.entries,benefits:rn(n.entries)})})):en([])},r.Zt=function(){var n=this;return tr?Promise.resolve():this.Nt||(this.Nt=St(En(c.U),!0).then((function(){n.Kt=!0})).catch((function(t){n.recorder.setError(t,"cmpload")})))},r.Qt=function(n){var t=this;this.Yt().then((function(){var r=[];if(n.forEach((function(n){t.Lt.hasOwnProperty(n)&&r.push(t.Lt[n])})),n.length<1||r.length==n.length)return Promise.all(r);var i=window.CSS;i&&i.supports("grid-row","1")||(n=n.map((function(n){return n+"-compat"})));var e=c.Pn;if(!e)return Promise.reject("missing template path");var o,u,a=St(En("".concat(e,"/").concat((o=n,u={},(o||[]).reduce((function(n,t){return u[t]||(u[t]=!0,n.push(t)),n}),[])).join(","))),!0).then((function(n){n&&n.src&&t.recorder.addLoadPerfData(c.wn,1,fn(n.src))}));return n.forEach((function(n){t.Lt[n]=a})),a}))},r.nr=function(n,t){var r=this;n=n||[];var i=_n(),e=Cn(i),u=[],a=[],s=[],f=null;return n.forEach((function(n){-1===r.Bt.indexOf(n.candidateID)&&r.Bt.push(n.candidateID);var t=n.payload=n.payload||{};switch(n.payloadType){case"template":u.push(n),"ConsentManager"!==t.name&&"GPPConsentManager"!==t.name&&"USNational"!==t.name||s.push(r.Zt());break;case"cmp":a.push(n),s.push(r.Zt()),n.candidateID&&(t.candidateID=n.candidateID),n.groups&&(t.groups=n.groups),n.batchID&&(t.batchID=n.batchID),s.push(new Promise((function(n){Nn("show","cmp.main",t,n)})));break;case"engage":u.push(o({},n,{payloadType:"template",payload:{metadata:{preview:i,engageType:t.type},name:"soft"===t.type?"BannerEngage":"ModalEngage",options:t,container:t.container||"body",replace:!!t.replace}}));break;case"transact":a.push(n);break;case"ccpa":e.An.includes(n.candidateID)&&Nn("show","ccpa.main"),a.push(n),f=n;break;case"sticky":u.push(o({},n,{payloadType:"template",payload:{metadata:{preview:i},name:"Sticky",options:t,container:"body"}}))}})),c.F&&!c.W&&Nn("triggerEvent","ccpa.settingsLoaded",f),Rn("candidate.received",{candidates:(u||[]).map((function(n){var t=n.candidateID,r=n.groups;return{candidateID:t,groups:r,candidateGroups:r}}))}),u.length>0&&s.push(this.Qt(u.filter((function(n){var t=n.payload;return!(!t||t.provider||!t.name)})).map((function(n){var t=n.payload;return t&&t.name})))),Promise.all(s).then((function(){var n="template.candidates";Nn("get",n,(function(r,i){i?r.dataCandidates=t?a:a.reduce((function(n,t){for(var r=0;r<n.length;r++)if(n[r]&&n[r].candidateID===(t&&t.candidateID))return n[r]=t,n;return n.concat([t])}),r.dataCandidates):r={dataCandidates:a},r.templateCandidates=u,r.time=Date.now(),Nn("set",n,r)}))})).then((function(){t&&u.forEach((function(n){var t=((n||{}).payload||{}).name;Nn("show",t,{candidate:n,dataCandidates:a})}))}))},r.Yt=function(){var n=this;return new Promise((function(t){Nn("get","template.env",(function(r,i){if(i)return t(r);Promise.all([new Promise((function(n){return Nn("get","engage.instructions.url",(function(t,r){return n(r?t:void 0)}))})),new Promise((function(n){return Nn("get","engage.whitelist.url",(function(t,r){return n(r?t:void 0)}))})),Et(n.Ht(),5e3).catch((function(n){return{failed:!0}})),n.recorder.getCookieData()]).then((function(r){var i=r[0],e=r[1],u=r[2],a=r[3],s={_private:function(){return o({hasAdmiralList:n.results&&n.results.hasAdmiralList,cmpClient:u&&u.cmpClient,browser:n.browser,params:{forceLogin:A("forceLogin")},languagePrefs:c.A||navigator.language||navigator.userLanguage},a.sessions)}};i&&(s.defaultInstructionsURL=i),e&&(s.defaultWhitelistURL=e),Nn("getOrSet","template.env",s),t(s)}))}))}))},n.start=function(){try{!(function(){var n=rt.get().engageRendered;if(n&&n>=16608348e5&&n<16614648e5&&(un(),rt.set({engageRendered:0}),(navigator.userAgent+"").toLowerCase().indexOf("mobile")>-1))try{var t=(window.googletag||{}).cmd;if(t&&Array.isArray(t))for(var r=0;r<t.length;r++)if(f(t[r])&&(t[r].toString()||"").indexOf("v4ac1eiZr0")>-1){t.splice(r,1);break}}catch(n){}})()}catch(n){}try{new dr}catch(n){}var t=new n;if((function(n){var t,r=u.u,i=u.P;try{t=Ft[r]||Ft[i]}catch(n){t=Ft[i]}if(!t||!t.loaded){var e=t||{},o=e.q||[],a=new qt(n,e.v).fn();try{Ft[i]=Ft[r]=a}catch(n){Ft[i]=a}!(function(n,t){function r(n,r,i){var e={};function o(t,e){e={_:t,_a:JSON.stringify(e),_ach:i};try{return n.postMessage(e,r),!0}catch(n){}return!1}function u(n,r,i){n&&t("removeEventListener",n,i||e[r]),delete e[r]}return function(n){var r=n.data;if(r&&r._a){var i=r._,a=r._a;try{a=JSON.parse(a)}catch(n){return}if(2===i)u(a.r,a.cb);else{if(a.cb){var c=a.cb;a.cb=function n(){e[c]&&o(1,{cb:c,a:Lt(arguments)})||u(a.l,c,n)},e[c]=a.cb}t.a.pm(i,a)}}}}var i={},e=1;n.addEventListener("message",(function(t){var o=t.data,u=t.origin,a=t.source,c=t.ports;if(o&&o._a){if(a.top!==n.top)return;if(c&&1===c.length)c[0].onmessage=r(c[0]),c[0].onmessage({data:o});else{var s=i[o._ach];o._ach||(o._ach=e++,s=i[o._ach]=r(a,u,o._ach)),s&&s({data:o})}}}),!1)})(Ft,a);for(var c=0;c<o.length;c++)a.apply(null,o[c])}})(new Yt(t.recorder)),t.browser.isDisabled())return Promise.resolve();tr=(new fr).l,Rn("_recorder",{recorder:t.recorder}),t.qt(),t.Wt(),t.Gt();var r,i=new qn,e=document.location;if(e&&"file:"===e.protocol)return Promise.resolve();On("call.targeting.render",(function(n){var r=n.candidateIDs,i=n.variantIDs,e=n.overrides,o=n.force,u=void 0!==o&&o;return r&&(t.Bt=t.Bt.concat(r||[])),t.recorder.fetchCandidates({candidateIDs:r,variantIDs:i,overrides:e}).then((function(n){var r=n.candidates;return t.nr(r,u)}))})),On("engage.oneClickWhitelisted",(function(){return rt.set({whitelistAdded:Date.now()})})),On("view.rendered",(function(n){var r=n.candidates,i=void 0===r?[]:r,e=n.preview,o=void 0!==e&&e,u=n.extras,a=(t.results||{}).blocked;i.forEach((function(n){var t=n.candidateID,r=n.groups,i=n.payloadType,e=n.triggers;!o&&u&&a&&(u[t]&&u[t].whitelistAsk||(e||[]).find((function(n){return n&&"adblockerDisabled"===n.type})))&&rt.set({engageRendered:Date.now()}),"template"===i&&Rn("candidate.shown",{candidateID:t,groups:r,candidateGroups:r})}))})),On("view.closed",(function(n){var t=n.candidates,r=void 0===t?[]:t,i=n.callback,e=void 0===i?function(){}:i;r.forEach((function(n){var t=n.candidateID,r=n.groups;"template"===n.payloadType&&Rn("candidate.dismissed",{candidateID:t,groups:r,candidateGroups:r})})),e({})})),On("template.load",t.Qt.bind(t));var a=$n();return a?(On("previewCandidates",(function(n){var r=n.candidates;t.nr(r||[],!0)})),r=t.Yt().then((function(){return Rn("previewready",{v:2}),[]}))):(r=Promise.all([t.check(),Et(t.Ht(),5e3).catch((function(n){return"timedout"===n&&t.recorder.addInvestigationData(7),{failed:!0}})),Et(t.Ft(),5e3).catch((function(n){return"timedout"===n&&t.recorder.addInvestigationData(11),{failed:!0}})),Et(t.Vt(),5e3).catch((function(n){return"timedout"===n&&t.recorder.addInvestigationData(16),{failed:!0}}))]).then((function(n){var r=n[1],e=n[2],u=n[3],a=0;return r&&r.applies&&(a|=1),e&&e.applies&&(a|=2),u&&u.applies&&(a|=4),new Promise((function(n,r){i.start((function(i){return t.Jt(i,a).then(n,r)}))})).then((function(){return(function(n){if(rr)return rr;var _callback={};return new(function(){_callback.l=!!0}),_callback.l?rr=_callback.f({debugLog:Dt,overwrite:o,queryStringify:zt,callAdmiralQueue:Nn,getBenefitsFromEntries:rn,getSubscriptionMetadata:nn,cleanupEntries:tn,setBenefitsCookie:en,recorder:n,propertyID:c.h}):Promise.resolve()})(t.recorder).then((function(){return n}))}))})),setTimeout((function(){c.Sn&&c.Cn&&St(c.Sn+"&pub="+c.Cn)}),100)),r.then((function(n){var r=n[0],i=n[1],e=n[2];if(t.browser.isInteractable())return new Promise((function(n){return Nn("targeting","onReady",n)})).then((function(n){return c.an?a?{}:(r&&r.recentlyWhitelisted&&(r.blocked=!1),t.recorder.fetchCandidates({results:r,cmpStatus:i,ccpaStatus:e,customParams:n,shownCandidates:t.Bt})):{}})).then((function(n){var r=n.candidates,i=void 0===r?[]:r;return t.nr(i,!1)}))})).then((function(){setTimeout((function(){t.recorder.recordMetrics()}),1e3)})).catch((function(n){throw n}))},t=n,Object.defineProperty(t,"prototype",{writable:!1}),t})();function fr(){this.l=!!0}function dr(){this.l=0,f(this.l)&&this.l(St)}"undefined"!=typeof document&&sr.start();var hr=function(){cr=!1};t.default=sr}]);onths:180,comp_nine_months:270,comp_twelve_months:365}},57258:(Y,C,t)=>{t.d(C,{RewardType:()=>e.E4});var e=t(18255),s=t(81470),O=t(38925),T=t(63441),D=t(52308)},31163:(Y,C,t)=>{t.d(C,{DL:()=>O,Jk:()=>D,UB:()=>s,ZD:()=>v,fI:()=>T});function e(P){const M=t(85928);return M().diff(M(P),"hour")}const s=P=>{const M=Math.floor(P/60),l=Math.floor(P%60);return`${M}:${l.toString().padStart(2,"0")}`};function O(P,M=!1){if(P<0)return"0:00";const l=Math.floor(P),_=Math.floor(l/60),m=l%60;if(M){const E=Math.round((P-l)*10);return`${_}:${String(m).padStart(2,"0")}.${E}`}return`${_}:${String(m).padStart(2,"0")}`}const T=P=>/^[0-9.:]*$/.test(P),D=P=>/^(?:(?:[0-9]{1,3}):)?(?:[0-5][0-9]|[0-9]{1,2})(?:\.[0-9]{1,3})?$/.test(P),v=P=>{const[M="",l=""]=P.split("."),_=M.split(":").reverse().map(o=>parseInt(o)),m=_[0]||0,E=_[1]||0;return(_[2]||0)*3600+E*60+m+parseInt(l.padEnd(3,"0"))/1e3}},45895:(Y,C,t)=>{t.d(C,{forEachNode:()=>e});function e(O,T,{nodeTypes:D}={}){var v,P;if(!O||(D&&!Array.isArray(D)&&(D=[D]),O.type&&(!D||D.includes(O.type)||D.includes(O.type.name))&&T(O)===!1))return;const M=((v=O.content)==null?void 0:v.length)>0?O.content:((P=O.content)==null?void 0:P.childCount)>0?O.content.content:[];for(const l of M)e(l,T,{nodeTypes:D})}function s(O,T){var D,v;if(!O||T(O)===!1)return;const P=((D=O.content)==null?void 0:D.length)>0?O.content:((v=O.content)==null?void 0:v.childCount)>0?O.content.content:[];for(let M=P.length-1;M>=0;M--)s(P[M],T)}},2181:(Y,C,t)=>{t.d(C,{Jg:()=>ee,Q4:()=>it,V8:()=>st,dI:()=>Zt,rk:()=>Ie,xn:()=>St});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(28175),v=t.n(D),P=t(80587),M=t(98188),l=t(10293),_=t(45609),m=t(99869),E=t(19723),c=t(45570),r=t(65862),o=t(49770),n=t(17048),a=t(27194),i=t(13639),d=t(2564),p=t(80332),f=t(81066),u=t(20501),g=t(92604),y=t(16495),L=t(86602),b=t(21397),I=t(79786),A=t(63270),U=t(67963),B=t(3258),W=t(15748),Z=t(8479),K=t(17025),R=t.n(K),S=t(84040),N=t(51126),j=t(12876),H=t(70925),x=t(43887),F=t(75425),w=t(97868),V=t(56472),$=t(33510),k=t(72307),G=t(9613),Q=t(1942),q=Object.defineProperty,z=Object.defineProperties,J=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,re=(de,fe,Ce)=>fe in de?q(de,fe,{enumerable:!0,configurable:!0,writable:!0,value:Ce}):de[fe]=Ce,ue=(de,fe)=>{for(var Ce in fe||(fe={}))oe.call(fe,Ce)&&re(de,Ce,fe[Ce]);if(te)for(var Ce of te(fe))ie.call(fe,Ce)&&re(de,Ce,fe[Ce]);return de},ce=(de,fe)=>z(de,J(fe)),Ee=(de,fe)=>{var Ce={};for(var be in de)oe.call(de,be)&&fe.indexOf(be)<0&&(Ce[be]=de[be]);if(de!=null&&te)for(var be of te(de))fe.indexOf(be)<0&&ie.call(de,be)&&(Ce[be]=de[be]);return Ce},se=(de,fe,Ce)=>new Promise((be,we)=>{var ze=Je=>{try{lt(Ce.next(Je))}catch(ht){we(ht)}},Xe=Je=>{try{lt(Ce.throw(Je))}catch(ht){we(ht)}},lt=Je=>Je.done?be(Je.value):Promise.resolve(Je.value).then(ze,Xe);lt((Ce=Ce.apply(de,fe)).next())});const ne="ffe5d072-ae52-11ed-afa1-0242ac120002";function ee({communityPost:de,author:fe,extras:Ce,withAttribution:be,flex:we,hideReply:ze,isReadOnly:Xe,onReply:lt,onDelete:Je,pub:ht}){var Wt;const gt=(0,s.sO)(null),At=(0,b.T)(),Rt={type:"posts",id:de.id},{getConfigFor:so}=(0,A.xR)(),Gt=so("report_chats_to_pub_admins"),Xt=(0,V.I0)(),eo=!(de.type==="media"&&de.media_assets),jt=Yt=>se(this,[Yt],function*({details:to,reportCategory:lo,reportedToSubstack:Jt}){const{id:fo}=de;Xt(De({id:fo,details:to,reportCategory:lo,reportedToSubstack:Jt}))});return(0,e.h)(ft,{user:fe,flex:we,containerRef:gt},be&&(0,e.h)(St,{text:`From ${fe.name}\u2019s subscriber chat`}),(0,e.h)(ae,{actionMenuProps:{communityEntity:de,publicationId:de.publication_id,onReply:lt,onDelete:Je,onReport:()=>At({onSubmit:jt,pub:ht!=null?ht:void 0,canReportToAdmins:!!(Gt&&ht&&ht.moderation_enabled&&de.user_pub_role!=="admin")}),isReadOnly:Xe,isFlagged:de.reported_by_user},flex:we},(0,e.h)(wt,null,de.type==="media"&&de.media_assets&&(0,e.h)(f.c,{context:Rt,reactions:de.reactions,currentReaction:de.reaction,onReactionClick:he(de.id,"posts",Xt,de.reaction),isReadOnly:Xe},(0,e.h)(y.q,{assets:de.media_assets.map(Yt=>{var to;return(to=Yt.url)!=null?to:""}),className:G.Z.imageGroup,readOnly:Xe})),de.link_url&&(0,e.h)(f.c,{context:Rt,reactions:de.reactions,currentReaction:de.reaction,onReactionClick:he(de.id,"posts",Xt,de.reaction),setReactions:eo,isReadOnly:Xe},(0,e.h)(yt,{linkUrl:de.link_url,linkMetadata:(Wt=de.link_metadata)!=null?Wt:void 0,postId:de.id})),de.body&&(0,e.h)(f.c,{context:Rt,reactions:de.reactions,currentReaction:de.reaction,onReactionClick:he(de.id,"posts",Xt,de.reaction),setReactions:eo&&!de.link_url,isReadOnly:Xe},(0,e.h)(Dt,{authorName:fe.name,communityEntity:de})))),!ze&&(0,e.h)(Lt,null,(0,e.h)(Vt,{commenters:de.recent_commenters,count:de.comment_count,audience:de.audience})),Ce)}function ae({children:de,actionMenuProps:fe,flex:Ce="grow"}){return(0,e.h)(N.gq,{alignItems:"start",gap:12,flex:Ce},(0,e.h)(N.tu,null,de),(0,e.h)(_t,ue({},fe)))}const he=(de,fe,Ce,be)=>we=>se(void 0,null,function*(){Ce(be===we?ge(we,de,fe):me(we,de,fe,be))}),me=(de,fe,Ce,be)=>(we,ze)=>se(void 0,null,function*(){we({type:`${Ce}-new_reaction`,payload:{id:fe,reaction:de}}),(yield qe(de,fe,Ce))instanceof Error&&we(be?{type:`${Ce}-new_reaction`,payload:{id:fe,reaction:be}}:{type:`${Ce}-remove_reaction`,payload:{id:fe,reaction:de}})}),ge=(de,fe,Ce)=>(be,we)=>se(void 0,null,function*(){be({type:`${Ce}-remove_reaction`,payload:{id:fe,reaction:de}}),(yield pt(de,fe,Ce))instanceof Error&&be({type:`${Ce}-new_reaction`,payload:{id:fe,reaction:de}})}),ve=(de,fe)=>(Ce,be)=>se(void 0,null,function*(){Ce({type:"posts-delete_post",payload:{id:de,publication_id:fe}});const we=yield Qe(de);we instanceof Error&&console.warn("error deleting thread",we)}),Oe=(de,fe,Ce)=>(be,we)=>se(void 0,null,function*(){be({type:"comments-delete_comment",payload:{id:de,postId:fe}});const ze=yield Ue(de);if(ze instanceof Error&&console.warn("error deleting comment",ze),Ce){const lt=yield Be(Ce);lt instanceof Error||be({type:"comments-update_comment",payload:{id:Ce,comment:lt.comment}})}const Xe=yield Ke(fe);Xe instanceof Error||be({type:"posts-update_post",payload:{id:fe,post:Xe.communityPost}})}),Me=(de,fe)=>(Ce,be)=>se(void 0,null,function*(){Ce({type:"posts-lock_replies",payload:{id:de,isLocked:fe}});const we=yield Fe(de,fe);we instanceof Error&&(console.warn("error locking post",we),alert(`There was an error ${fe?"locking":"unlocking"} replies to this post. Please try again later.`),Ce({type:"posts-lock_replies",payload:{id:de,isLocked:!fe}}))}),Pe=(de,fe)=>(Ce,be)=>se(void 0,null,function*(){Ce({type:"comments-lock_replies",payload:{id:de,isLocked:fe}});const we=yield Ze(de,fe);we instanceof Error&&(console.warn("error locking comment",we),alert(`There was an error ${fe?"locking":"unlocking"} replies to this comment. Please try again later.`),Ce({type:"comments-lock_replies",payload:{id:de,isLocked:!fe}}))}),De=({id:de,details:fe,reportCategory:Ce,reportedToSubstack:be})=>(we,ze)=>se(void 0,null,function*(){we({type:"posts-flag_post",payload:{id:de}});const Xe=yield Ve({id:de,details:fe,reportCategory:Ce,reportedToSubstack:be});Xe instanceof Error&&console.warn("error flagging post",Xe)}),We=({id:de,details:fe,reportCategory:Ce,reportedToSubstack:be})=>(we,ze)=>se(void 0,null,function*(){we({type:"comments-flag_comment",payload:{id:de}});const Xe=yield Re({id:de,details:fe,reportCategory:Ce,reportedToSubstack:be});Xe instanceof Error&&console.warn("error flagging comment",Xe)}),ye=(de,fe)=>(Ce,be)=>se(void 0,null,function*(){Ce({type:"comments-ban_author",payload:{id:de,ban:fe}});const we=yield Te(de,fe);we instanceof Error&&(console.warn("error toggling ban for comment author",we),alert(`There was an error ${fe?"banning":"unbanning"} this user. Please try again later.`),Ce({type:"comments-ban_author",payload:{id:de,ban:!fe}}))});function Fe(de,fe){return se(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${de}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:fe})})}catch(Ce){return Ce}})}function Ze(de,fe){return se(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${de}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:fe})})}catch(Ce){return Ce}})}function Te(de,fe){return se(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${de}/publication_bans?ban=${fe.toString()}`,{method:"POST"})}catch(Ce){return Ce}})}function Ve(de){return se(this,arguments,function*({id:fe,details:Ce,reportCategory:be,reportedToSubstack:we}){try{return yield(0,Z.rd)(`/api/v1/community/posts/${fe}/reports`,{method:"POST",json:{postId:fe,details:Ce,reportCategory:be,reportedToSubstack:we}})}catch(ze){return ze}})}function Re(de){return se(this,arguments,function*({id:fe,details:Ce,reportCategory:be,reportedToSubstack:we}){try{return yield(0,Z.rd)(`/api/v1/community/comments/${fe}/reports`,{method:"POST",json:{commentId:fe,details:Ce,reportCategory:be,reportedToSubstack:we}})}catch(ze){return ze}})}function Ue(de){return se(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/comments/${de}`,{method:"DELETE",json:{commentId:de}})}catch(fe){return fe}})}function Be(de){return se(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/comments/${de}`,{method:"GET"})}catch(fe){return console.warn(fe),fe}})}function Ke(de){return se(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/posts/${de}`,{method:"GET"})}catch(fe){return console.warn(fe),fe}})}function Qe(de){return se(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/posts/${de}`,{method:"DELETE",json:{postId:de}})}catch(fe){return fe}})}function qe(de,fe,Ce){return se(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/${Ce}/${fe}/reaction`,{method:"POST",json:{reaction:de}})}catch(be){return be}})}function pt(de,fe,Ce){return se(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/${Ce}/${fe}/reaction`,{method:"DELETE",query:{reaction:de}})}catch(be){return be}})}function st({author:de,extras:fe,showReply:Ce=!0,analyticsParams:be,commenters:we,count:ze,audience:Xe}){return(0,s.d4)(()=>{be&&(0,B.track)(B.EVENTS.THREAD_PAYWALL_SCREEN_VIEWED,be)},[]),(0,e.h)(ft,{user:de},(0,e.h)(wt,null,(0,e.h)(ao,{audience:Xe}),Ce&&(0,e.h)(Vt,{isLocked:!0,commenters:we,count:ze})),fe)}function it({author:de,extras:fe,showReply:Ce=!0,commenters:be,count:we}){return(0,e.h)(ft,{user:de},(0,e.h)(wt,null,(0,e.h)(ut,null),Ce&&(0,e.h)(Vt,{isLocked:!0,commenters:be,count:we})),fe)}function rt(de){return typeof de.message=="string"}function Pt({text:de,rawText:fe,specialText:Ce,mentionMap:be,limit:we=600}){const[ze,Xe]=(0,s.eJ)(!1);if(Ce)return(0,e.h)("em",null,Ce);if(!de)return(0,e.h)(e.Fragment,null);let lt=[{characters:de.length,message:de}];fe&&be&&(lt=Le(fe,be));const{alwaysShow:Je,afterExpansion:ht}=Ne(lt,we),Wt=ht.length>0;return(0,e.h)(e.Fragment,null,Je.map(gt=>rt(gt)?(0,e.h)(dt,null,gt.message):gt.message),Wt&&!ze&&(0,e.h)(e.Fragment,null,(0,e.h)("span",null," "),(0,e.h)(S.kG,{resetCss:!0,className:G.Z.readMore,onClick:gt=>{gt.preventDefault(),Xe(!0)}},"Read more")),Wt&&ze&&(0,e.h)(e.Fragment,null,ht.map(gt=>rt(gt)?(0,e.h)(dt,null,gt.message):gt.message)))}function dt({children:de}){return(0,e.h)(v(),{options:{attributes:{rel:"nofollow ugc",onClick:fe=>fe.stopPropagation()}}},de)}function Ne(de,fe){let Ce=0;const be=[],we=[];for(const ze of de){let Xe=ze;if(Ce<fe){if(Ce+Xe.characters>fe&&rt(Xe)){const lt=fe-Ce,Je={characters:lt,message:Xe.message.slice(0,lt)},ht={characters:Xe.characters-lt,message:Xe.message.slice(lt)};Xe=Je,we.push(ht)}Ce+=Xe.characters,be.push(Xe)}else we.push(Xe)}return{alwaysShow:be,afterExpansion:we}}function Le(de,fe){const Ce=/\$\{(\d+)\}/g;let be=Ce.exec(de);const we=de,ze=[];let Xe=0;for(;be;){const lt=Number(be[1]),Je=fe[lt];Je?(be.index>Xe&&ze.push({characters:be.index-Xe,message:we.slice(Xe,be.index)}),ze.push({characters:Je.text.length,message:je(Je.user_id,Ae(Je.text),Je.text)})):ze.push({characters:Ce.lastIndex-Xe,message:we.slice(Xe,Ce.lastIndex)}),Xe=Ce.lastIndex,be=Ce.exec(de)}return Xe<we.length&&ze.push({characters:we.length-Xe,message:we.slice(Xe)}),ze}function Ae(de){return de.slice(1)}function je(de,fe,Ce){return(0,e.h)(L.default,{name:fe,id:de,mentionText:Ce,type:"user",uuid:ne,isStatic:!1,isEditorContext:!1})}function Ie(de){var fe=de,{communityComment:Ce,quoteReply:be,isTargeted:we,isBanned:ze,pubRole:Xe,isNew:lt,error:Je}=fe,ht=Ee(fe,["communityComment","quoteReply","isTargeted","isBanned","pubRole","isNew","error"]);return(0,e.h)(xe,ue({isTargeted:we,isNew:lt,commentGroup:[{communityComment:Ce,quoteReply:be,isBanned:ze,pubRole:Xe,isNew:lt,error:Je}]},ht))}function xe({commentGroup:de,author:fe,isNew:Ce,chatPublicationId:be,hideReply:we,onReply:ze,onNewQuote:Xe,onQuoteReplyClick:lt,onDelete:Je,commentRef:ht,isTargeted:Wt,isReadOnly:gt,chatAuthorNameAttribution:At,extras:Rt,flex:so,pub:Gt}){const Xt=(0,V.I0)(),eo=(0,b.T)(),jt=de[de.length-1].communityComment,{reply_count:Yt=0,recent_commenters:to=[]}=jt!=null?jt:{},{getConfigFor:lo}=(0,A.xR)(),Jt=lo("report_chats_to_pub_admins"),fo=oo=>se(this,[oo],function*({details:no,reportCategory:xt,entityId:kt,reportedToSubstack:ro}){Xt(We({id:kt,details:no,reportCategory:xt,reportedToSubstack:ro}))});return(0,e.h)(ft,{user:fe,pubRole:de[0].pubRole,containerRef:ht,id:`comment-${jt==null?void 0:jt.id}`,flex:so},At&&(0,e.h)(St,{text:`Comment from ${At}\u2019s subscriber chat`}),(0,e.h)(ae,{actionMenuProps:{communityEntity:de[0].communityComment,isBanned:de[0].isBanned,isFlagged:de[0].communityComment.reported_by_user,onReply:ze,onDelete:Je,onNewQuote:Xe,onReport:(oo,no)=>eo({onSubmit:xt=>fo(ue({entityId:oo},xt)),canReportToAdmins:!!(Jt&&Gt&&no&&Gt.moderation_enabled),pub:Gt!=null?Gt:void 0}),isReadOnly:gt,publicationId:be,isNew:Ce},flex:so},(0,e.h)(wt,null,de.map(({communityComment:{id:oo,body:no,quote_id:xt,media_uploads:kt,reactions:ro,reaction:mo,reported_by_user:Oo},quoteReply:Po,isNew:Io,error:Do},Fo)=>{var wo,bo;return(0,e.h)(e.Fragment,{key:oo},!Io&&!Oo&&kt&&kt.length>0&&xt===null&&(0,e.h)(f.c,{context:{type:"comments",id:oo},reactions:ro,currentReaction:mo,onReactionClick:he(oo,"comments",Xt,mo),isReadOnly:gt||Io},(0,e.h)(y.q,{assets:kt.map(uo=>uo.url),className:G.Z.imageGroup,readOnly:gt})),xt&&Po&&(0,e.h)($t,{authorName:(bo=(wo=Po.user)==null?void 0:wo.name)!=null?bo:"Substack User",communityEntity:Po.comment,onClick:lt}),no&&(0,e.h)(f.c,{context:{type:"comments",id:oo},reactions:ro,currentReaction:mo,onReactionClick:he(oo,"comments",Xt,mo),setReactions:!kt||kt.length===0,isReadOnly:gt||Io},(0,e.h)(Dt,{authorName:fe.name,communityEntity:de[Fo].communityComment,isTargeted:Wt})),Do&&(0,e.h)(x.xv.Detail,{color:"error"},"\u{10005F} Not delivered."))}))),!we&&Yt>0&&(0,e.h)(Lt,null,(0,e.h)(Vt,{commenters:to,count:Yt})),Rt)}function $e(de){return de.post_id===void 0}function ft({user:de,children:fe,flex:Ce="grow",containerRef:be,id:we,pubRole:ze}){return(0,e.h)(N.hs,{id:we,alignItems:"start",gap:12,flex:Ce,ref:be,className:T()(Q.Z.reactionsHoverZone,G.Z.avatarContainer)},(0,e.h)(N.hs,{paddingTop:4},de?(0,e.h)(co,{user:de,pubRole:ze,size:40}):(0,e.h)($.Vm,{type:"circle",size:40})),(0,e.h)(N.tu,{flex:"grow",gap:4},fe))}function ot(){return(0,e.h)(N.hs,{className:G.Z.actionButton,paddingX:4,alignItems:"center"},(0,e.h)(P.Z,null))}function _t({communityEntity:de,onReply:fe,onDelete:Ce,onReport:be,isReadOnly:we,publicationId:ze,isBanned:Xe,isFlagged:lt,isNew:Je,onNewQuote:ht}){const Wt=(0,s.sO)(!1),gt=At=>{Wt.current=At};return Je?null:(0,e.h)(N.hs,{alignItems:"center",className:G.Z.actions},(0,e.h)(H.J,{content:({closePopover:At})=>(0,e.h)(ct,{communityEntity:de,onReply:fe,onDelete:Ce,onReport:be,closePopover:At,isReadOnly:we,publicationId:ze,isBanned:Xe,isFlagged:lt,onNewQuote:ht}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:G.Z.actionMenuLayer,onOpen:()=>gt&&gt(!0),onClose:()=>gt&&gt(!1)},(0,e.h)(ot,null)))}function ct({communityEntity:de,onReply:fe,onDelete:Ce,onReport:be,isReadOnly:we,publicationId:ze,isBanned:Xe,isFlagged:lt,closePopover:Je,onNewQuote:ht}){const Wt=(0,U.aF)(),{isAuthor:gt}=(0,k.Y0)(ze!=null?ze:0),At=ze&&gt,Rt=de&&Wt&&de.user_id===Wt.id,so=de&&!$e(de),Gt=so&&"parent_id"in de&&de.parent_id!==null,Xt=Rt||At,eo=Rt||At,jt=!Rt&&!lt,Yt=At&&so&&!Rt;return(0,e.h)(N.tu,{className:G.Z.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!we&&fe&&(0,e.h)(Ut,{disabled:!!(de!=null&&de.is_locked),onReply:fe}),!we&&ht&&so&&(0,e.h)(at,{onNewQuote:ht,communityComment:de,closePopover:Je}),de&&de.body&&(0,e.h)(Ft,{communityEntity:de,closePopover:Je}),de&&(0,e.h)(Ot,{communityEntity:de,closePopover:Je}),!we&&de&&!Gt&&eo&&(0,e.h)(tt,{communityEntity:de,closePopover:Je}),!we&&de&&Xt&&(0,e.h)(qt,{communityEntity:de,closePopover:Je,onDelete:Ce}),!we&&de&&jt&&(0,e.h)(It,{onReport:be,communityEntity:de,closePopover:Je}),!we&&de&&Xe!==void 0&&Yt&&(0,e.h)(Kt,{communityEntity:de,closePopover:Je,isBanned:Xe}))}function at({onNewQuote:de,communityComment:fe,closePopover:Ce}){return(0,e.h)(j.sN,{icon:(0,e.h)(M.Z,null),onClick:()=>{de(fe),Ce()}},"Quote")}function Ut({disabled:de,onReply:fe}){return(0,e.h)(j.sN,{icon:(0,e.h)(l.Z,null),onClick:fe,disabled:de},"Reply")}function Ft({communityEntity:de,closePopover:fe}){const Ce=(0,F.pm)(),be=()=>{if(de){const{body:we}=de;(0,K.copyToClipboard)(we),Ce.popToast(ze=>(0,e.h)(F.FN,ce(ue({},ze),{text:"Text copied",Icon:_.Z})))}fe()};return(0,e.h)(j.sN,{icon:(0,e.h)(_.Z,null),onClick:be},"Copy Text")}function Ot({communityEntity:de,closePopover:fe}){const Ce=(0,W.g)(),{id:be}=de,we=$e(de),ze=()=>{var Xe;let lt;we?lt=(0,u.getCommunityPostAppLinkUrl)({postId:be}):lt=(0,u.getCommunityCommentAppLinkUrl)({commentId:(Xe=de.parent_id)!=null?Xe:be,targetReplyId:de.parent_id?be:void 0}),Ce(lt),fe()};return(0,e.h)(j.sN,{icon:(0,e.h)(m.Z,null),onClick:ze},"Copy Link")}function tt({communityEntity:de,closePopover:fe}){const Ce=(0,V.I0)(),{id:be,is_locked:we}=de,ze=$e(de),Xe=()=>se(this,null,function*(){Ce(ze?Me(be,!we):Pe(be,!we)),fe()});return(0,e.h)(j.sN,{icon:we?(0,e.h)(E.Z,null):(0,e.h)(c.Z,null),onClick:Xe,priority:we?"primary":"destructive"},we?"Turn on replies":"Turn off replies")}function It({closePopover:de,onReport:fe,communityEntity:Ce}){return(0,e.h)(e.Fragment,null,(0,e.h)(j.sN,{icon:(0,e.h)(r.Z,null),onClick:()=>{fe(Ce.id,Ce.user_pub_role!=="admin"),de()},priority:"destructive"},"Report"))}function Kt({communityEntity:de,closePopover:fe,isBanned:Ce}){const be=(0,V.I0)(),we=()=>se(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:Xe}=de;be(ye(Xe,!Ce)),fe()}});return(0,e.h)(j.sN,{icon:Ce?(0,e.h)(o.Z,null):(0,e.h)(n.Z,null),onClick:we,priority:"destructive"},Ce?"Unban user":"Ban user")}function qt({communityEntity:de,closePopover:fe,onDelete:Ce}){const be=(0,V.I0)(),we=$e(de),ze=()=>se(this,null,function*(){if(confirm(`Are you sure you want to delete this ${we?"thread":"comment"}?`)){const{id:lt}=de;if(we){const{publication_id:Je}=de;be(ve(lt,Je))}else{const{post_id:Je,parent_id:ht}=de;be(Oe(lt,Je,ht))}Ce&&setTimeout(Ce,500)}fe()});return(0,e.h)(j.sN,{icon:(0,e.h)(a.Z,null),onClick:ze,priority:"destructive"},we?"Delete thread":"Delete reply")}function Lt(de){return(0,e.h)(N.tu,ue({className:G.Z.replyContainer,alignItems:"start"},de))}function wt(de){return(0,e.h)(N.tu,ue({className:G.Z.bubbleStack,gap:4,alignItems:"start"},de))}function bt(de){var fe=de,{isTargeted:Ce}=fe,be=Ee(fe,["isTargeted"]);return(0,e.h)(N.hs,ue({className:T()(G.Z.bubble,Ce&&G.Z.targetedAnimation),padding:12,bg:"secondary",minWidth:0},be))}function Dt({authorName:de,communityEntity:fe,isTargeted:Ce}){return(0,e.h)(bt,{isTargeted:Ce},(0,e.h)(zt,{authorName:de,communityEntity:fe}))}function $t({authorName:de,communityEntity:fe,onClick:Ce}){return(0,e.h)(N.hs,{className:T()(G.Z.bubble,G.Z.quoteBox),onClick:Ce,padding:12,minWidth:0},(0,e.h)(zt,{authorName:de,communityEntity:fe}))}function zt({authorName:de,communityEntity:fe}){var Ce,be,we,ze,Xe,lt;let Je=null;const ht=$e(fe)?"thread":"reply";return fe.reported_by_user&&(Je=`You reported this ${ht}`),(fe.status==="deleted"||!fe.body)&&(Je=`This ${ht} is not available`),fe.body||($e(fe)?(Ce=fe.media_assets)!=null&&Ce.length?Je=`${fe.media_assets.length} ${fe.media_assets.length>1?"photos":"photo"}.`:fe.link_url&&(Je=`Link: ${fe.link_url}`,(be=fe.link_metadata)!=null&&be.title&&(Je=`Link: "${fe.link_metadata.title}"`)):(we=fe.media_uploads)!=null&&we.length&&(Je=`${fe.media_uploads.length} ${fe.media_uploads.length>1?"photos":"photo"}.`)),(0,e.h)(x.Zx,{isParagraph:!0,className:G.Z.bubbleText},(0,e.h)(x.Zx,{weight:"semibold",className:G.Z.authorName},de||"Substack user")," ",(fe.body||Je)&&(0,e.h)(Pt,{text:(ze=fe.raw_body)!=null?ze:fe.body,rawText:(Xe=fe.raw_body)!=null?Xe:"",specialText:Je,mentionMap:(lt=fe.mentions)!=null?lt:void 0}))}function Vt({isLocked:de,count:fe=0,commenters:Ce,audience:be}){const we=de?i.Z:d.Z;return(0,e.h)(bt,{alignSelf:"stretch"},(0,e.h)(N.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,e.h)(N.hs,{alignItems:"center",gap:8},Ce&&(0,e.h)(N.hs,{className:G.Z.facepile,alignItems:"center"},Ce.map(ze=>(0,e.h)(co,{className:G.Z.facepileAvatar,user:ze,size:24}))),(0,e.h)(x.Zx,{color:"secondary"},fe>0?`${fe.toLocaleString()} replies...`:"Reply...")),(0,e.h)(N.hs,{gap:4,alignItems:"center"},de||!be||be==="all_subscribers"?void 0:(0,e.h)(x.Zx,{color:"secondary"},be==="only_founding"?"Founding":"Paid"),(0,e.h)(we,{size:20,stroke:"var(--color-secondary)"}))))}function ao({audience:de}){const fe=de==="only_founding"?"FOUNDING MEMBERS ONLY":"PAID SUBSCRIBERS ONLY";return(0,e.h)(N.tu,{className:G.Z.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(N.hs,{alignItems:"center",gap:4},(0,e.h)(i.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(x.xv.Meta,{weight:"semibold"},fe)))}function ut(){return(0,e.h)(N.tu,{className:G.Z.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(N.hs,{alignItems:"center",gap:4},(0,e.h)(i.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(x.xv.Meta,{weight:"semibold"},"SUBSCRIBERS ONLY")))}function yt({linkUrl:de,linkMetadata:fe,postId:Ce}){var be,we,ze;const Xe=(0,V.I0)();let lt;try{const Rt=new URL((be=fe==null?void 0:fe.url)!=null?be:de);lt=`${Rt.host}${Rt.pathname}${Rt.search}${Rt.hash}`}catch(Rt){lt=de}const{result:Je,isLoading:ht,error:Wt}=(0,Z.ib)({pathname:"/api/v1/link-metadata",query:{url:de},auto:!fe,deps:[de]});Je&&!fe&&Ce&&Xe({type:"posts-link_metadata",payload:{id:Ce,link_metadata:Je}});const gt=(we=fe==null?void 0:fe.title)!=null?we:Je==null?void 0:Je.title,At=(ze=fe==null?void 0:fe.image)!=null?ze:Je==null?void 0:Je.image;return(0,e.h)(bt,null,(0,e.h)(N.hs,{as:"a",href:de,target:"_blank",justifyContent:"space-between",gap:12,className:G.Z.linkBubble,onClick:Rt=>Rt.stopPropagation()},(0,e.h)(N.tu,{gap:4},gt&&(0,e.h)(x.xv,{font:"serif",weight:"semibold",className:G.Z.linkTitle},gt),(0,e.h)(x.xv.Detail,{ellipsis:!0,className:G.Z.linkUrl},lt)),At&&(0,e.h)(I.e,{className:G.Z.linkImg,src:At,maxWidth:72*2})))}function Zt(de){return(0,e.h)(S.zx,ue({className:G.Z.ctaButton,priority:"primary-theme"},de))}function St({text:de,isStatic:fe}){return(0,e.h)(N.hs,{paddingX:8,paddingY:4},(0,e.h)(x.xv.Detail,{weight:"semibold"},(0,e.h)(g.Z,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:fe})," ",de))}function co({user:de,size:fe,pubRole:Ce,className:be}){let we;(Ce==null?void 0:Ce.role)==="admin"||(Ce==null?void 0:Ce.role)==="contributor"?we="author":Ce!=null&&Ce.is_founding?we="founding":(Ce==null?void 0:Ce.membership_state)==="subscribed"&&(we="paid");const ze=(0,p.isUserProfileish)(de);return(0,e.h)(N.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,u.getReaderProfileUrl)(de,{noBase:!0}),target:"_blank"},(0,e.h)(w.YY,{showProfileHovercard:ze,className:be,size:fe,user:de,subscriptionType:we}))}function*To(de,fe,Ce=1){for(let be=de;be<fe;be+=Ce)yield be}},2196:(Y,C,t)=>{t.d(C,{S$:()=>i});var e=t(6400),s=t(30396),O=t(17025),T=t.n(O),D=t(20501),v=t(59009),P=t(52743),M=t(76193),l=t(33705),_=t(3258),m=t(66141),E=t(13045),c=t(43887),r=t(19696),o=t(37812);function n(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function a({user:b,pathname:I="/inbox"}){const[A,U]=n(),B=g();if(A||!B||b!=null&&b.reader_installed_at&&B==="ios"&&isSafari()&&(I.startsWith(FEED_PATH)||I.includes("/note/"))||I.startsWith("/chat"))return null;const W=()=>{track(EVENTS.APP_BANNER_DISMISSED),U()},Z=K=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})};return h(p,{className:"app-banner-fixed"},h(d,{surface:"reader"}),h(u,null),h(f,null,h("div",null,"Get the full experience")),h("a",{href:y(I),className:"app-banner-cta",onClick:Z},"Get app"),h("button",{className:"reader2-button-reset",onClick:W},h(X,{size:16,className:"app-banner-x-out"})))}function i({post:b,subdomain:I}){const A=g();if(!(0,M.isMobile)({checkFirst4:!0})||!A)return null;const U=(0,P.getPostAppLinkUrl)(I,b.slug,{redirect:"app-store",source:"post-banner"}),B=()=>{(0,_.track)(_.EVENTS.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(p,null,(0,e.h)(d,{surface:"post"}),(0,e.h)(u,null),(0,e.h)(f,null,(0,e.h)("div",null,b.type==="podcast"?"Listen":b.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:U,onClick:B},"Open app"))}function d({surface:b,bannerType:I}){return(0,s.d4)(()=>{(0,_.track)(_.EVENTS.APP_BANNER_VIEWED,{surface:b,bannerType:I})},[]),null}const p=(0,r.L)("app-banner"),f=(0,r.L)("app-banner-text");function u(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(l.Z,{height:16}))}function g(){return(0,M.isIos)()?"ios":(0,M.isAndroid)()?"android":null}function y(b){const I=b.split("/"),A=I.length>1?I[1]:null;return A&&["/chat",FEED_PATH,"/activity","/library"].includes(`/${A}`)?getAppLinkTabUrl({tab:A,redirect:"app-store"}):getAppLinkTabUrl({tab:"inbox",redirect:"app-store"})}function L({user:b,pub:I,post:A}){const U=UTM_SOURCE.postReferralBanner,B=getReaderProfileUrl(b,{utm_source:U}),W=getPostAppLinkUrl(I.subdomain,A.slug,{redirect:"app-store",source:U}),Z=()=>track(EVENTS.APP_BANNER_TAPPED,{surface:"post",bannerType:"post-referral-banner",tappedElement:"cta"}),K=()=>track(EVENTS.APP_BANNER_TAPPED,{surface:"post",bannerType:"post-referral-banner",tappedElement:"profile"});return h(FlexBox,{bg:"secondary",alignItems:"center",justifyContent:"space-between",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,gap:12},h(d,{surface:"post",bannerType:"post-referral-banner"}),h(UserHead,{subject:b,url:B,onClick:K}),h(FlexColumn,{flex:"fill"},h(Text,{as:"a",href:B,onClick:K,font:"display",size:11,weight:"bold"},"Shared by ",b.name),h(Text,{font:"display",size:11},"Follow their reading in the app")),h(UnstyledButton,{href:W,className:"referral-banner-cta",onClick:Z},"Open App"))}},25597:(Y,C,t)=>{t.d(C,{Z:()=>v});var e=t(6400),s=t(13639),O=t(36377),T=t(11851);const v=({audience:P,className:M,size:l=16,isStatic:_,thin:m})=>P==="only_paid"?m?(0,e.h)(T.Z,{className:M,height:l,isStatic:_}):(0,e.h)(s.Z,{className:M,size:l}):P==="founding"?(0,e.h)(O.Z,{className:M,height:l,isStatic:_,strokeWidth:1}):null},94456:(Y,C,t)=>{t.d(C,{qT:()=>g});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(80569),v=t.n(D),P=t(20501),M=t(83322),l=t(28488),_=t(63270),m=t(3258),E=t(66141),c=t(17025),r=t.n(c),o=t(7922),n=t(8925),a=t(14272),i=t(26059);const d=({children:b,dismissKey:I,dismissDurationInSeconds:A,beforeDismiss:U,className:B,level:W="info"}={})=>{const[Z,K]=(0,E.Z)(I,A,U);if(!Z)return(0,e.h)("div",{className:T()("banner",W,B)},b,(0,e.h)(i.Z,{width:12,height:12,className:"banner-close",onClick:R=>{R.preventDefault(),R.stopPropagation(),K()}}))};var p=null;const f=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(d,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),u=({action:b="connect"})=>{const{getConfigFor:I}=useSiteConfigs(),[A,U]=useState(!1);return A||!I("twitter_connect_flows_enabled")?null:h(d,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),b==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),b==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>U(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},g=()=>{const{iString:b,iTemplate:I}=(0,l.M1)();return(0,e.h)(d,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{v().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},b("Welcome to Substack!")),(0,e.h)("br",null),(0,e.h)("p",null,b(`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`)),(0,e.h)("br",null),(0,e.h)("p",null,b(`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)))},y=({children:b,className:I,level:A="info",onClose:U}={})=>{const[B,W]=useState(!1);if(!(B&&A!=="error"))return h("div",{className:classnames("banner",A,I)},A!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:Z=>{Z.preventDefault(),Z.stopPropagation(),U&&U(),W(!0)}}),b)},L=({featureName:b,featureLink:I,preText:A,linkedText:U,postText:B,children:W})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:b})},[b]);const Z=isMobileBrowser();return h(d,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!Z&&W,h("p",{className:"new-feature-banner-text"},A," ",h("a",{href:I,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:b})}},U)," ",B))}},55525:(Y,C,t)=>{t.d(C,{O:()=>he,Z:()=>ae});var e=t(6400),s=t(30396),O=t(81108),T=t(922),D=t(40423),v=t(80569),P=t.n(v),M=t(52743),l=t(31163),_=t(59009),m=t(91004),E=t(3258),c=t(66141),r=t(66219),o=t(17025),n=t(13045),a=t(32959),i=t(31058),d=t(94184),p=t.n(d),f=t(99869),u=t(71212),g=t(20501),y=t(71765),L=t(64484),b=t(36543),I=t(66839),A=t(75425),U=t(9e3),B=t(62246),W=t(592);const Z={step:"frontend-components-InstagramShareModals-module__step--Tmhvw"},K=({isOpen:me,onClose:ge,pub:ve,post:Oe,mediaCarousel:Me})=>(useEffect(()=>{me&&track(EVENTS.INSTAGRAM_SHARE_MODAL_SEEN,{source:"post-share-selection"})},[me]),h(Modal,{isOpen:me,onClose:ge,fullscreenMobile:!0},h(FlexRow,{alignItems:"center",padding:16},h(IconButton,{size:40,fill:"filled",priority:"secondary",onClick:ge},h(ArrowLeft,{size:20})),h(Text.H2,{paddingLeft:12},"Share To Instagram")),h(InstagramShareModalBody,{pub:ve,post:Oe,hideEmail:!0,hideAssetTitle:!0,smallAssetPadding:!0,mediaCarousel:Me}))),R=({isOpen:me,onClose:ge,onCopyLinkClick:ve,mediaCarousel:Oe})=>((0,s.d4)(()=>{me&&(0,E.track)(E.EVENTS.VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN,{source:"clip-share-modal"})},[me]),(0,e.h)(B.u_,{isOpen:me,onClose:ge,fullscreenMobile:!0},(0,e.h)(B.xB,{includeClose:!0,onClose:ge,title:"Share to Instagram"}),(0,e.h)(B.fe,null,(0,e.h)(n.tu,{gap:32},(0,e.h)(n.gq,null,(0,e.h)(n.gq,{justifyContent:"center",className:Z.step},(0,e.h)(n.xv.H4,null,"1")),(0,e.h)(n.gq,null,(0,e.h)(n.tu,{gap:16},(0,e.h)(n.xv.H4,null,"Download clip"),(0,e.h)(n.tu,{bg:"secondary",radius:12,border:"detail"},Oe)))),(0,e.h)(n.gq,null,(0,e.h)(n.gq,{justifyContent:"center",className:Z.step},(0,e.h)(n.xv.H4,null,"2")),(0,e.h)(n.gq,null,(0,e.h)(n.tu,{gap:16},(0,e.h)(n.tu,{gap:4},(0,e.h)(n.xv.H4,null,"Copy a link to the post"),(0,e.h)(n.xv.B4,null,"Add a link to your Instagram story or bio.")),(0,e.h)(n.gq,null,(0,e.h)(n.zx,{priority:"secondary",onClick:()=>ve("instagram","substack-clips","social"),leftIcon:(0,e.h)(f.Z,null)},"Copy Link"))))),(0,e.h)(n.gq,null,(0,e.h)(n.gq,{justifyContent:"center",className:Z.step},(0,e.h)(n.xv.H4,null,"3")),(0,e.h)(n.gq,null,(0,e.h)(n.tu,{gap:16},(0,e.h)(n.tu,{gap:4},(0,e.h)(n.xv.H4,null,"Post from Instagram"),(0,e.h)(n.xv.B4,null,"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"))))),(0,e.h)(n.gq,{justifyContent:"end",paddingTop:32,paddingX:16},(0,e.h)(n.zx,{priority:"primary-theme",onClick:ge},"Done")))))),S={download:"frontend-components-ShareCenter-module__download--ZlokN",disabledButton:"frontend-components-ShareCenter-module__disabledButton--mnMti"};var N=Object.defineProperty,j=Object.defineProperties,H=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,V=(me,ge,ve)=>ge in me?N(me,ge,{enumerable:!0,configurable:!0,writable:!0,value:ve}):me[ge]=ve,$=(me,ge)=>{for(var ve in ge||(ge={}))F.call(ge,ve)&&V(me,ve,ge[ve]);if(x)for(var ve of x(ge))w.call(ge,ve)&&V(me,ve,ge[ve]);return me},k=(me,ge)=>j(me,H(ge)),G=(me,ge,ve)=>new Promise((Oe,Me)=>{var Pe=ye=>{try{We(ve.next(ye))}catch(Fe){Me(Fe)}},De=ye=>{try{We(ve.throw(ye))}catch(Fe){Me(Fe)}},We=ye=>ye.done?Oe(ye.value):Promise.resolve(ye.value).then(Pe,De);We((ve=ve.apply(me,ge)).next())});function Q({shareUrl:me,pub:ge,post:ve,clip:Oe,selectionId:Me,disabled:Pe,disabledInstagram:De,disabledDownload:We,onDownloadClick:ye,isSharing:Fe}){const Ze=(0,A.pm)(),[Te,Ve]=(0,s.eJ)(!1),Re=(it="copy",rt="substack-clip",Pt="web")=>G(this,null,function*(){Ue(it,rt,Pt,dt=>((0,o.copyToClipboard)(dt),Ze.popToast(Ne=>(0,e.h)(A.FN,k($({},Ne),{text:"Link copied to clipboard"}))),!1))}),Ue=(it,rt,Pt,dt)=>{(0,m.I)(it,dt,{shareUrl:me(it,rt,Pt),post:ve,pub:ge,selectionId:Me,utm_campaign:rt,utm_medium:Pt,event:E.EVENTS.VIDEO_CLIP_SHARE_BUTTON_CLICKED})},Be=()=>{(0,E.track)(E.EVENTS.VIDEO_CLIP_SHARE_BUTTON_CLICKED,{name:"instagram",post_id:ve?ve.id:null,utm_campaign:"substack-clips",utm_medium:"social"}),Ve(!0)},Ke=()=>{Ve(!1)},Qe=()=>G(this,null,function*(){Ue("facebook","substack-clips","social",it=>(0,g.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:it}))}),qe=()=>G(this,null,function*(){ve&&Ue("twitter","substack-clips","social",it=>(0,M.getTwitterShareUrl)({url:it,text:ve.title}))}),pt=()=>G(this,null,function*(){Ue("linkedin","substack-clips","social",it=>(0,g.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:it}))}),st=()=>{(0,m.BZ)({shareUrl:me("notes","substack-clips","web"),pub:ge,post:ve,utm_campaign:"substack-clips"})};return(0,e.h)(n.gq,{justifyContent:"space-between",flex:"fill"},Fe?(0,e.h)(n.gq,null,(0,e.h)(n.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:()=>Re(),leftIcon:(0,e.h)(f.Z,null)},"Copy link")):(0,e.h)("div",null),(0,e.h)(n.gq,{gap:8},(0,e.h)(n.u,{text:We?"Your clip will be ready to download shortly":"Download",hoverOptions:{delayEnter:0,delayLeave:0}},(0,e.h)(n.hU,{className:p()({[S.disabledButton]:We}),fill:"outline",rounded:!1,onClick:ye,disabled:We},We?(0,e.h)(n.aN,null):(0,e.h)(u.Z,{size:20}))),!Fe&&(0,e.h)(n.hU,{fill:"outline",rounded:!1,onClick:()=>Re(),disabled:Pe},(0,e.h)(f.Z,{size:20})),(0,e.h)(n.hU,{fill:"outline",rounded:!1,onClick:st,disabled:Pe},(0,e.h)(U.Z,{height:24})),(0,e.h)(n.hU,{fill:"outline",rounded:!1,onClick:Be,disabled:Pe||De},(0,e.h)(b.Z,{height:20,width:20})),(0,e.h)(n.hU,{fill:"outline",rounded:!1,onClick:qe,disabled:Pe},(0,e.h)(I.Z,{height:20,width:20})),(0,e.h)(n.hU,{fill:"outline",rounded:!1,onClick:Qe,disabled:Pe},(0,e.h)(y.Z,{height:20,width:20})),(0,e.h)(n.hU,{fill:"outline",rounded:!1,onClick:pt,disabled:Pe},(0,e.h)(L.Z,{height:20,width:20})),(0,e.h)(R,{isOpen:Te,onClose:Ke,onCopyLinkClick:Re,mediaCarousel:(0,e.h)(n.gq,{gap:16,alignItems:"center",justifyContent:"center",padding:16,position:"relative"},(0,e.h)("img",{src:(0,M.getMediaUploadThumbnailUrlForPlayer)(Oe),width:"300px"}),(0,e.h)("div",{className:S.download},(0,e.h)(n.gq,{padding:32},(0,e.h)(n.hU,{fill:"filled",priority:"media",rounded:!1,onClick:()=>ye&&ye()},(0,e.h)(u.Z,{size:"16"})))))})))}var q=t(25346);const z={placeholder:"frontend-components-ClipModal-module__placeholder--C0lO7",placeholderMessage:"frontend-components-ClipModal-module__placeholderMessage--IeArY"};var J=Object.defineProperty,te=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,ce=(me,ge,ve)=>ge in me?J(me,ge,{enumerable:!0,configurable:!0,writable:!0,value:ve}):me[ge]=ve,Ee=(me,ge)=>{for(var ve in ge||(ge={}))re.call(ge,ve)&&ce(me,ve,ge[ve]);if(ie)for(var ve of ie(ge))ue.call(ge,ve)&&ce(me,ve,ge[ve]);return me},se=(me,ge)=>te(me,oe(ge)),ne=(me,ge,ve)=>new Promise((Oe,Me)=>{var Pe=ye=>{try{We(ve.next(ye))}catch(Fe){Me(Fe)}},De=ye=>{try{We(ve.throw(ye))}catch(Fe){Me(Fe)}},We=ye=>ye.done?Oe(ye.value):Promise.resolve(ye.value).then(Pe,De);We((ve=ve.apply(me,ge)).next())});function ee({user:me,pub:ge,post:ve,mediaUploadId:Oe,isOpen:Me,onClose:Pe}){var De;const We=(0,e.createRef)(),[ye,Fe]=(0,s.eJ)(null),[Ze,Te]=(0,s.eJ)(null),[Ve,Re]=(0,s.eJ)(null),[Ue,Be]=(0,s.eJ)(null);(0,s.d4)(()=>{Oe&&(0,E.track)(E.EVENTS.VIDEO_CLIP_SEEN,{post_id:ve.id,clip_id:Oe})},[Oe]);const Ke=()=>ne(this,null,function*(){const Ne=yield P().get(`/api/v1/video/upload/${Oe}/assets`),{mux_asset:Le,mux_preview_asset:Ae}=Ne.body;Re(Le),Be(Ae)}),Qe=()=>ne(this,null,function*(){const Ne=yield P().get(`/api/v1/video/upload/${Oe}`);Fe(Ne.body);const{id:Le,mux_rendition_quality:Ae,state:je}=Ne.body;if(["uploaded","transcoded"].includes(je)&&!Ze){const Ie=`/api/v1/video/upload/${Le}/src.json?type=original`,{body:{src:xe}}=yield P().get(Ie);Te(xe)}});(0,s.d4)(()=>{Qe(),Ke()},[Oe]),(0,s.d4)(()=>{const Ne=setInterval(()=>{const Le=()=>ne(this,null,function*(){const Ae=yield P().get(`/api/v1/video/upload/${Oe}`),{id:je,mux_rendition_quality:Ie,state:xe}=Ae.body;if(Fe(Ae.body),Ie&&clearInterval(Ne),["uploaded","transcoded"].includes(xe)&&!Ze){const $e=`/api/v1/video/upload/${je}/src.json?type=original`,{body:{src:ft}}=yield P().get($e);Te(ft)}else Ke()});ye!=null&&ye.mux_rendition_quality?clearInterval(Ne):Le()},5e3);return()=>{clearInterval(Ne)}},[ye]);const qe=()=>ne(this,null,function*(){if(!ye)return;const Ne=`/api/v1/video/upload/${ye.id}/src.json?type=original`,{body:{src:Le}}=yield P().get(Ne),je=yield(yield fetch(Le)).blob(),Ie=window.URL.createObjectURL(je),xe=document.createElement("a");xe.href=Ie,xe.download=`${ye.name}`,xe.target="_blank",xe.rel="noopener noreferrer",xe.style.display="none",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),(0,E.track)(E.EVENTS.VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED,{name:"download",post_id:ve?ve.id:null,utm_campaign:_.UTM_CAMPAIGN.substackClips,utm_medium:_.UTM_MEDIUM.web})}),pt=()=>{(0,E.track)(E.EVENTS.VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED,{name:"watch full episosde",post_id:ve?ve.id:null,utm_campaign:_.UTM_CAMPAIGN.substackClips,utm_medium:_.UTM_MEDIUM.web}),window.history.pushState({},"",(0,M.updateQuery)(window.location.href,{clipId:void 0,share:void 0})),Pe()};if(!ye)return null;const it=new URL(window.location.href).searchParams.get("share")!==null,rt=["uploaded","transcoded"].includes(ye.state),Pt=(0,o.isMobileBrowser)();let dt="creating";return ye.state==="error"?dt="error":ye.state==="transcoded"?dt="transcoded":ye.state==="uploaded"?dt="uploaded":ye.mux_preview_playback_id!==null&&(Ue==null?void 0:Ue.status)==="ready"&&(dt="preview"),(0,e.h)(n.u_,{opacity:"dark",width:640,fullscreenMobile:!0,isOpen:Me,onClose:Pe},(0,e.h)(n.xB,{includeClose:!0,title:it?"Share Clip":"Clip",onClose:Pe,description:(0,e.h)(n.gq,null,(0,e.h)("span",null,`\u2702\uFE0F ${(0,l.UB)((De=ye.duration)!=null?De:0)} | ${ve.title}`))}),(0,e.h)(n.fe,null,dt==="transcoded"&&(0,e.h)(q.Z,{ref:We,mediaUpload:ye,pub:ge,autoPlay:!1,isClip:!0}),dt==="preview"&&(0,e.h)(q.Z,{ref:We,mediaUpload:ye,pub:ge,autoPlay:!1,isClip:!0,usePreview:!0}),dt==="uploaded"&&Ze&&(0,e.h)("div",{class:"video-player-wrapper"},(0,e.h)("div",{class:"video-player"},(0,e.h)("video",{src:Ze,type:"video/mp4",controls:!0}))),dt==="creating"&&(0,e.h)(n.gq,null,(0,e.h)(n.tu,{className:z.placeholder,justifyContent:"center",alignItems:"center"},(0,e.h)(n.tu,{justifyContent:"center",alignItems:"center",className:z.placeholderMessage,gap:8},(0,e.h)(n.aN,null),(0,e.h)(n.xv.B3,{weight:"bold"},"Your clip is being processed"),(0,e.h)(n.xv.Button,{color:"secondary",textAlign:"center"},"Clips may take up to a minute to process. Meanwhile, ",(0,e.h)("b",null,"share your clip link below"))))),dt==="error"&&(0,e.h)(n.gq,null,(0,e.h)(n.tu,{className:z.placeholder},(0,e.h)(O.Z,{color:"gray"}),(0,e.h)(n.xv.Button,{color:"secondary"},"Oops! There was an error creating the clip"))),dt!=="error"&&(0,e.h)(n.tu,{paddingTop:16},(0,e.h)(n.iz,null),(0,e.h)(n.xu,null,(0,e.h)(n.gq,{justifyContent:"space-between",flex:"grow",paddingTop:16},!it&&(0,e.h)(n.gq,null,Pt?(0,e.h)(n.hU,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:pt},(0,e.h)(T.Z,null)):(0,e.h)(n.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:pt},"Watch full episode")),(0,e.h)(Q,{shareUrl:(Ne,Le,Ae)=>(0,m.O1)(Ne,{clip:ye,post:ve,pub:ge,medium:Ae,utm_campaign:Le}),pub:ge,clip:ye,post:ve,selectionId:void 0,disabled:!1,disabledInstagram:!rt,disabledDownload:!rt,onDownloadClick:qe,isSharing:it}))))))}function ae(me){const{user:ge,pub:ve,post:Oe,mediaUploadId:Me}=me,[Pe,De]=(0,s.eJ)(!0),[We,ye]=(0,s.eJ)(Me);(0,s.d4)(()=>{const Ve=()=>{const Ue=new URLSearchParams(window.location.search).get("clipId");ye(Ue),De(!0)};return window.addEventListener("urlchange",Ve),window.addEventListener("popstate",Ve),Ve(),()=>{window.removeEventListener("urlchange",Ve),window.removeEventListener("popstate",Ve)}},[]);const{mediaUpload:Fe,loading:Ze}=(0,r.z)({mediaUploadId:We});if(Ze||!Fe)return null;const Te=()=>{De(!1),(0,E.track)(E.EVENTS.VIDEO_CLIP_MODAL_CLOSED,{post_id:Oe==null?void 0:Oe.id,clip_id:We})};return(0,e.h)(ee,se(Ee({},me),{mediaUploadId:We,isOpen:Pe,onClose:Te}))}const he=({post:me,mediaUpload:ge,disabled:ve,onClipClick:Oe,style:Me})=>{var Pe;const[De,We]=(0,c.Z)(a.pc),ye=((Pe=ge==null?void 0:ge.duration)!=null?Pe:0)>5,Fe=()=>{if(ye){if(ve)return"upgrade in order to watch this video and be able to clip it"}else return"can't clip videos shorter than 5 seconds";return""},Ze=!ye||ve,Te=Ve=>{We(),ye&&Oe&&(Oe(Ve),(0,E.track)(E.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:me.id}))};return(0,e.h)(i.Ng,{title:Fe(),isDisabled:Ze,style:Me,onClick:Te,icon:(0,e.h)(D.Z,{className:"icon",height:(0,i.Su)(Me),strokeWidth:i.PA})})}},9738:(Y,C,t)=>{t.d(C,{C:()=>O});var e=t(6400),s=t(4508);function O({children:T}){return(0,e.h)(s.xu,{display:"contents",className:"dark-theme"},T)}},85826:(Y,C,t)=>{t.d(C,{_:()=>D});var e=t(6400),s=t(14729),O=t(32076),T=t(13045);const D=({hideTerms:v,pub:P,showIntrinioAttrib:M})=>{const{getSettingFor:l}=(0,O.So)(),_=l("custom_tos_and_privacy")&&(P.has_custom_tos||P.has_custom_privacy),m=(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",P&&P.copyright||"Substack Inc"),E=(0,e.h)(e.Fragment,null,M&&(0,e.h)(T.xv,{translated:!0,as:"div",className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!v&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(s.nO,{publication:P})));return _?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"footer-blurbs"},m,!v&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(s.Ug,{pub:P}))),(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"Substack"),E)):(0,e.h)("div",{className:"footer-blurbs"},m,E)}},16495:(Y,C,t)=>{t.d(C,{q:()=>m});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(47467),v=t(51126),P=t(43887),M=t(11688),l=t(79786),_=t(45048);function m({className:c,assets:r,readOnly:o,isRestack:n,isPreview:a,onClick:i,aspect:d}){const p=r.map(L=>typeof L=="string"?{src:L,explicit:!1}:L);let f=p;p.length>6&&(f=f.slice(0,5));const[u,g]=(0,s.eJ)(null),y=(L,b)=>{L.preventDefault(),g({index:b})};return(0,e.h)(v.hs,{className:T()(_.Z.imageGroup,_.Z[`size-${Math.min(p.length,6)}`],n&&_.Z.restack,a&&_.Z.preview,c),gap:4,radius:"medium"},f.map(({src:L,explicit:b},I)=>(0,e.h)(E,{key:L,asset:L,explicit:b,index:I,total:p.length,readOnly:o,aspect:d,onClick:o?void 0:A=>{A.defaultPrevented||(A.preventDefault(),i&&i(),y(A,I))}})),p.length>6&&(0,e.h)(E,{asset:p[6].src,explicit:p[6].explicit,index:5,total:6,count:p.length-f.length,readOnly:o,onClick:o?void 0:i,aspect:d}),!o&&(0,e.h)(M.cr,{module:"./ImageViewerModal",resolve:L=>L.ImageViewerModal,onRequest:()=>t.e(5661).then(t.bind(t,55661)),showModal:!!u,modalContent:p.map(L=>({attrs:{src:L.src}})),onClose:()=>{g(null)},step:u?u.index:void 0,includeDownloadButton:!1}))}function E({asset:c,explicit:r,onClick:o,index:n,total:a,count:i,readOnly:d,aspect:p}){const{isHidden:f,onShow:u}=(0,D.Sl)(r);return(0,e.h)(v.hs,{position:"relative",className:T()(_.Z.image,!d&&_.Z.clickable,n===0&&_.Z.topLeft,(n===0&&a===1||n===1&&a===2||n===1&&a===4||n===2&&a!==4)&&_.Z.topRight,(n===0&&a<=3||n===2&&a===4||n===3&&a>4)&&_.Z.bottomLeft,(n+1===a||n==2&&a===5)&&_.Z.bottomRight),flex:"grow",radius:6,onClick:f?void 0:o},(0,e.h)(l.e,{src:c,maxWidth:500*2,imageProps:{aspect:p||"1:1",smartCrop:!0,portraitCrop:a===1}}),f?a===1?(0,e.h)(D.cD,{onShow:u,description:"This image was hidden by your settings."}):(0,e.h)(D.HU,{onShow:u}):i!=null&&(0,e.h)(v.hs,{className:_.Z.imageCount,justifyContent:"center",alignItems:"center"},(0,e.h)(P.xv.H2,{color:"bg-light"},"+",i)))}},74285:(Y,C,t)=>{t.d(C,{X:()=>D,h:()=>v});var e=t(6400),s=t(98661),O=t(30396);const T=(0,e.createContext)(null);function D({root:P,children:M}){const l=(0,O.sO)(P);return(0,e.h)(T.Provider,{value:l},M,!P&&(0,e.h)("div",{ref:l}))}function v({children:P}){const M=(0,O.qp)(T).current;return M?(0,s.createPortal)(P,M):null}},55489:(Y,C,t)=>{t.d(C,{s:()=>N});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(31131),v=t(40423),P=t(28596),M=t(99869),l=t(7617),_=t(82626),m=t(68227),E=t(17835),c=t(9e3),r=t(66839),o=t(31058),n=t(91004),a=t(3258),i=t(90304),d=t(17025),p=t(13045),f=t(59009),u=t(28488),g=t(63270),y=t(72829);const L={newMenuItemContainer:"frontend-components-PostShareDropdown-module__newMenuItemContainer--pi2D2",divider:"frontend-components-PostShareDropdown-module__divider--oId4n",offset:"frontend-components-PostShareDropdown-module__offset--ekxJ6",shareIconContainer:"frontend-components-PostShareDropdown-module__shareIconContainer--PlGwp",dropdownMenu:"frontend-components-PostShareDropdown-module__dropdownMenu--oPk6X"};var b=Object.defineProperty,I=Object.defineProperties,A=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,Z=(w,V,$)=>V in w?b(w,V,{enumerable:!0,configurable:!0,writable:!0,value:$}):w[V]=$,K=(w,V)=>{for(var $ in V||(V={}))B.call(V,$)&&Z(w,$,V[$]);if(U)for(var $ of U(V))W.call(V,$)&&Z(w,$,V[$]);return w},R=(w,V)=>I(w,A(V)),S=(w,V,$)=>new Promise((k,G)=>{var Q=J=>{try{z($.next(J))}catch(te){G(te)}},q=J=>{try{z($.throw(J))}catch(te){G(te)}},z=J=>J.done?k(J.value):Promise.resolve(J.value).then(Q,q);z(($=$.apply(w,V)).next())});function N({post:w,user:V,pub:$,trigger:k,onChange:G,position:Q,showClipping:q,disableClipping:z,onClipClick:J}){const{iString:te}=(0,u.M1)(),{getConfigFor:oe}=(0,g.xR)(),ie=(0,n.O1)(null,{post:w,pub:$,user:V,useCustomDomainOverOpen:!0}),re=(0,n.B8)({post:w,pub:$}),ue={title:re,url:ie},ce=(0,d.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(ue),[Ee,se]=(0,s.eJ)(ce),ne=()=>S(this,null,function*(){var Pe;if((0,a.track)(a.EVENTS.POST_SHARE_BUTTON_CLICKED,{position:Q}),ce&&Ee)try{yield navigator.share(ue),(0,a.track)(a.EVENTS.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(Pe=w.id)!=null?Pe:null,utm_campaign:f.UTM_CAMPAIGN.default}),(0,i.ex)(`${$.subdomain} shared`,!0);return}catch(De){if(!(De instanceof Error)||De.name==="AbortError")return;se(!1),(0,a.track)(a.EVENTS.NATIVE_SHARE_FAILED,{errorName:De.name,errorMessage:De.message})}}),ee=()=>{(0,n.Wn)({shareUrl:ie,shareName:re,pub:$,post:w,utm_campaign:Q}),G==null||G()},ae=()=>{(0,n.Po)({shareUrl:ie,pub:$,post:w,utm_campaign:Q}),G==null||G()},he=()=>{(0,n.lc)({shareUrl:ie,pub:$,post:w,utm_campaign:Q}),G==null||G()},me=()=>{(0,n.BZ)({shareUrl:ie,pub:$,post:w,utm_campaign:Q}),G==null||G()},ge=()=>{(0,n.WZ)({shareUrl:ie,shareName:re,pub:$,post:w,utm_campaign:Q}),G==null||G()},ve=()=>{(0,n.Ui)({shareUrl:ie,pub:$,post:w,utm_campaign:Q}),G==null||G()},Oe=Pe=>{(0,a.track)(a.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:w.id,source:Q,type:w.type}),J==null||J(Pe),G==null||G()};let Me;if(x(k))Me=k;else if(F(k)){let Pe;w.share_url_override?Pe=w.share_url_override:k.isStatic?w?Pe=_.Substitutions.SHARE_URL:Pe=_.Substitutions.SHARE_PUB_URL:Pe="javascript:void(0)";const De=k.labelStyle==="none";Me=(0,e.h)(o.Ng,{style:k.style,icon:De?(0,e.h)(D.Z,{className:"icon",height:(0,o.Su)(k.style),strokeWidth:o.PA}):null,href:Pe,noLabel:k.labelStyle==="none",className:T()(!De&&"no-icon")},k.labelStyle==="cta"&&te("Share"))}return(0,e.h)(p.v2,{trigger:Me,onOpen:ne,useMobileBottomSheet:!0,disableMenu:Ee,layerOptions:{placement:Q==="pub-preview"?"bottom-start":"bottom-end",preferX:Q==="pub-preview"?"right":"left"},className:L.dropdownMenu,maxHeight:"fit-content"},(0,e.h)(p.sN,{icon:(0,e.h)(c.Z,{height:24}),onClick:me},(0,e.h)(p.gq,{justifyContent:"space-between",alignItems:"center"},te("Share as a note"))),oe("enable_web_dms")&&(0,e.h)(H,{url:ie,onShare:G}),(0,e.h)(p.sN,{icon:(0,e.h)(r.Z,{height:24}),onClick:ee},te("Share to Twitter")),(0,e.h)(p.sN,{icon:(0,e.h)(m.Z,{height:24}),onClick:ae},te("Share to Facebook")),(0,e.h)(p.sN,{icon:(0,e.h)(E.Z,{height:24}),onClick:he},te("Share to Linkedin")),(0,e.h)("div",{className:L.divider}),q&&J&&(0,e.h)(p.sN,{disabled:z,icon:(0,e.h)(j,null,(0,e.h)(v.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Oe},(0,e.h)(p.gq,{justifyContent:"space-between",alignItems:"center"},te("Create a clip"),(0,e.h)(p.hs,{className:L.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,e.h)(p.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,e.h)(p.sN,{icon:(0,e.h)(j,null,(0,e.h)(P.Z,{className:L.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:ge},te("Send as email")),(0,e.h)(p.sN,{icon:(0,e.h)(j,null,(0,e.h)(M.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:ve},te("Copy link")))}function j(w){return(0,e.h)(p.hs,R(K({},w),{className:L.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12}))}function H({url:w,onShare:V}){const{iString:$}=(0,u.M1)(),k=(0,y.b8)(),G=()=>{k.open({defaultValue:w,source:"share_post"}),V==null||V()};return(0,e.h)(p.sN,{icon:(0,e.h)(j,{style:{backgroundColor:"var(--color-accent-primary)"}},(0,e.h)(l.Z,{size:14,stroke:"var(--color-bg-primary)",strokeWidth:3})),onClick:G},$("Send as message"))}function x(w){return w.type!==void 0}function F(w){const V=w;return V.style!==void 0&&V.labelStyle!==void 0}},92885:(Y,C,t)=>{t.d(C,{Z:()=>p});var e=t(72496),s=t(6400),O=t(72829),T=t(4190),D=t(73175),v=t(28488),P=t(82058),M=t(85065),l=t(92643),_=t(71720),m=t(32076),E=t(73608),c=t(63270),r=t(18597),o=t(67963),n=t(75425),a=t(10174),i=t(72307),d=t(74285);function p({user:f=null,pub:u=null,children:g=void 0,siteConfigs:y={},hasThemedBackground:L=!1,language:b="en",preferredLanguage:I=null,country:A=void 0,experimentInfo:U={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},portalRoot:B=void 0,shouldLoad:W=void 0,shouldPollNotifications:Z=!1,publicationSettings:K={},userSettings:R=void 0,publicationUserSettings:S={},activityToken:N}){W===void 0&&(W=!!f);const j=(0,i.lV)(!!f);return(0,s.h)(P.Qu,{country:A||"US"},(0,s.h)(v._7,{language:b||"en",preferredLanguage:I},(0,s.h)(r.ze,{value:{hasThemedBackground:L}},(0,s.h)(c.vC,{siteConfigs:y},(0,s.h)(T.Vt,{siteConfigs:y,experimentInfo:U},(0,s.h)(D.ZN,{siteConfigs:y,experimentInfo:U},(0,s.h)(m.Iz,{settings:K},(0,s.h)(E.m$,{preloadPubUserSettings:S},(0,s.h)(M.N$,{shouldLoad:W,shouldPoll:Z,activityToken:N},(0,s.h)(d.X,{root:B},(0,s.h)(o.dr,{defaultValue:f,userSettings:R},(0,s.h)(l.am,null,(0,s.h)(n.VW,null,(0,s.h)(i.e.Provider,{value:j},(0,s.h)(a.Au,null,(0,s.h)(O.pe,null,(0,s.h)(_.G.Provider,{value:u},g)))))))))))))))))}},39493:(Y,C,t)=>{t.d(C,{Z:()=>l});var e=t(6400),s=t(94184),O=t.n(s),T=t(52743),D=t(83322),v=t(79786);function P({href:_,linkify:m,children:E,openInNewTab:c}){return m?c?(0,e.h)("a",{href:_,target:"_blank"},E):(0,e.h)("a",{href:_,native:!0},E):E}const l=({pub:_,href:m="",logo_url:E,showHover:c=!1,byline:r=null,proof:o=null,size:n=196,linkify:a=!0,title:i=null,className:d="",noMargin:p=!1,openInNewTab:f=!1,isStatic:u=!1,belowTheFold:g=!1})=>{var y;return(0,e.h)("div",{className:O()("pub-icon",!p&&"pub-icon-margin",d),title:i},c&&(0,e.h)("div",{className:"logo-hover"},(0,e.h)("div",{className:"logo-hover-title"},(0,e.h)("a",{href:m||_.base_url,native:!0},(_.name||_.subdomain)+(r?` by ${r}`:""))),(0,e.h)("div",{className:"logo-hover-proof"},o),(0,e.h)("div",{className:"logo-hover-description"},_.hero_text)),(0,e.h)(P,{href:m||_.base_url,linkify:a,openInNewTab:f},E?u?(0,e.h)("img",{src:(0,T.imginary)(E,n*2,{height:n*2,crop:"fill"}),width:n,height:n,className:"custom",alt:_.name}):(0,e.h)(v.e,{className:"custom",alt:_.name,imageProps:{height:n,crop:"fill"},maxWidth:n,src:E,width:n,height:n,loading:g?"lazy":null,useRetinaSizing:!0,imageIsFixedWidth:!0}):(0,e.h)("span",{className:"placeholder",style:_.theme_var_background_pop?`border-color:${(0,D.colorLightness)(_.theme_var_background_pop,.7)} ${_.theme_var_background_pop} ${_.theme_var_background_pop} ${(0,D.colorLightness)(_.theme_var_background_pop,.7)}`:""},(y=_.name||_.subdomain)==null?void 0:y[0])))}},48042:(Y,C,t)=>{t.d(C,{$I:()=>o,ar:()=>r,fQ:()=>c,rn:()=>E,sl:()=>m});var e=t(6400),s=t(94184),O=t.n(s),T=t(25380),D=t(13045),v=t(76193),P=t(70073),M=t(27247),l=t(28488),_=t(78137);const m=["stories","square"],E=({isSelected:n,value:a,onClick:i,coverImageUrl:d,themeVariables:p})=>{let f=p.web_bg_color||p.cover_bg_color,u=p.print_on_web_bg_color||p.cover_print_primary||"#1a1a1a";return a==="accent"?(f=p.background_pop_color||p.background_pop,u=p.print_on_pop):a==="image"?(u="#ffffff",f="rgba(0,0,0,0.5)"):a==="black&white"&&(u="#404040",f="#ffffff"),(0,e.h)(D.kG,{className:O()(_.Z.customizeAssetButton,_.Z.themeButton,n&&_.Z.selected,a==="image"&&_.Z.image),onClick:g=>{g.preventDefault(),i()},style:{backgroundColor:f}},a==="image"&&(0,e.h)("div",{className:_.Z.imageBg,style:{backgroundImage:`url(${d})`}}),(0,e.h)("div",{className:O()(_.Z.inner,a==="image"&&_.Z.image)},n&&(0,e.h)(T.Z,{stroke:u,size:18})))};function c(n){const{iString:a}=(0,l.M1)(),i=(0,v.isMobile)({checkFirst4:!0}),d={square:a("Square"),stories:a("Vertical")};return(i?{square:"1:1",stories:"9:16"}:d)[n]}const r=({isSelected:n,value:a,onClick:i})=>{const d=c(a);return(0,e.h)(D.zx,{rounded:!0,priority:"secondary",className:O()(_.Z.customizeAssetButton,_.Z.aspectRatioButton,n&&_.Z.selected),onClick:p=>{p.preventDefault(),i()},leftIcon:a==="square"?(0,e.h)(M.Z,null):(0,e.h)(P.Z,null)},d)},o=({isSelected:n,value:a,label:i,onClick:d})=>(0,e.h)(D.zx,{rounded:!0,priority:"secondary",className:O()(_.Z.customizeAssetButton,_.Z.aspectTypeButton,n&&_.Z.selected),onClick:p=>{p.preventDefault(),d()}},i)},58535:(Y,C,t)=>{t.d(C,{s:()=>P});var e=t(6400),s=t(30396),O=t(20501),T=t(13045),D=t(62246),v=t(43887);const P=()=>{const[M,l]=(0,s.eJ)(!0),_=()=>{l(!1)};return(0,e.h)(D.u_,{isOpen:M,onClose:_},(0,e.h)(D.fe,null,(0,e.h)(T.tu,{padding:16,gap:12},(0,e.h)(v.xv.H3,{color:"primary"},"Select a chunk of text to share as a video."),(0,e.h)("img",{src:(0,O.imginary)("/img/publish/selection.gif"),style:{padding:"16px",borderRadius:"25px"}}),(0,e.h)(T.zx,{onClick:_,grow:!0,priority:"primary-theme"},"Got it"))))}},83857:(Y,C,t)=>{t.d(C,{qv:()=>y,tT:()=>u,z3:()=>g});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(71375),v=t(67555),P=t.n(v),M=t(3258),l=t(6148),_=t(8479),m=t(52743),E=t(4190),c=t(28488),r=t(67963),o=t(84040),n=t(51126),a=t(62246),i=t(43887),d=t(44396),p=t(72165),f=t(46019);function u({utm_campaign:W,utm_source:Z,utm_content:K,abTestingId:R,overrideTitle:S,subTitle:N}={}){const[j,H]=(0,s.eJ)(!1);return{open:(0,s.I4)(()=>{H(!0),(0,M.track)(M.EVENTS.APP_INSTALL_MODAL_OPENED,{utm_campaign:W,utm_source:Z,utm_content:K})},[W,Z,K]),modal:(0,e.h)(b,{isOpen:j,onClose:()=>H(!1),utm_campaign:W,utm_source:Z,utm_content:K,abTestingId:R,overrideTitle:S,subTitle:N})}}function g({label:W}){return(0,e.h)(n.hs,{gap:16,alignItems:"center",className:p.Z.divider},(0,e.h)("hr",{className:p.Z.dividerLine}),W&&(0,e.h)(e.Fragment,null,(0,e.h)(i.xv.Meta,null,W),(0,e.h)("hr",{className:p.Z.dividerLine})))}function y({utm_campaign:W,utm_source:Z,utm_content:K,hideQrInstructions:R=!0,darkMode:S=!1,abTestingId:N,size:j,gap:H=32,padding:x=32}){const{iString:F}=(0,c.M1)(),{getExperimentVariant:w,exposeExperiment:V}=(0,E.jc)();let $;["US","CA"].includes(window._preloads.country)&&($=w("app_install_send_code"),V("app_install_send_code"));const k=(0,d.XA)();return(0,e.h)(n.tu,{justifyContent:"center",alignItems:"center",gap:H,padding:x},!k&&(0,e.h)(e.Fragment,null,!R&&(0,e.h)(i.xv.B3,{weight:"semibold",translated:!0},"Scan the QR code below"),(0,e.h)(n.hs,{className:p.Z.qrCode,padding:20},(0,e.h)(U,{size:j,utm_campaign:W,utm_source:Z,utm_content:K,abTestingId:N})),["text","email"].includes($)&&(0,e.h)(g,{label:F("OR")})),$==="text"&&(0,e.h)(A,null),$==="email"&&(0,e.h)(I,null),k&&(0,e.h)(o.zx,{grow:!0,href:(0,m.getAppStoreRedirectUrl)({utm_campaign:W,utm_source:Z})},F("Install the app")))}function L({utm_campaign:W,utm_source:Z,darkMode:K=!1}){return h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:W,utm_source:Z}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"app_install_upsell",app_store:"ios",utm_campaign:W,utm_source:Z})}},h("img",{src:imginary(K?"/img/app_page/app-store-white.png":"/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:W,utm_source:Z}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"app_install_upsell",app_store:"android",utm_campaign:W,utm_source:Z})}},h("img",{src:imginary(K?"/img/app_page/google-play-white.png":"/img/app_page/google-play.png",160*2),height:48})))}function b({isOpen:W,onClose:Z,utm_campaign:K,utm_content:R,utm_source:S,abTestingId:N,overrideTitle:j,subTitle:H}){const{iString:x}=(0,c.M1)();return(0,e.h)(a.u_,{isOpen:W,onClose:Z,width:500},(0,e.h)(n.tu,null,(0,e.h)(n.hs,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:p.Z.modalHeader},(0,e.h)(i.xv.H2,null,j||x("Download the Substack app")),(0,e.h)(o.hU,{size:40,onClick:Z,rounded:!0,fill:"borderless","aria-label":"Close"},(0,e.h)(D.Z,{size:20}))),H?(0,e.h)(i.xv.B3,{align:"center",paddingTop:12,paddingX:12},H):null,(0,e.h)(y,{utm_campaign:K,utm_source:S,utm_content:R,abTestingId:N})))}function I(){const{iString:W}=(0,c.M1)(),Z=(0,r.aF)(),[K,R]=(0,s.eJ)((Z==null?void 0:Z.email)||""),[S,N]=(0,s.eJ)(!1),[j,H]=(0,s.eJ)(null),[x,F]=(0,s.eJ)(!1);return(0,e.h)(e.Fragment,null,(0,e.h)(n.tu,{gap:8},(0,e.h)(n.gq,{justifyContent:"center",alignItems:"center",gap:0,style:{border:"1px solid var(--color-accent-primary)",borderRadius:8}},(0,e.h)("input",{className:T()("pencraft",f.Z.emailInput),type:"text",value:K,onInput:w=>R(w.currentTarget.value),style:{border:"none"}}),(0,e.h)(o.zx,{priority:"primary",disabled:S,style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:()=>{N(!0),(0,_.rd)("/api/v1/send_app_download_link",{method:"POST",json:{email:K}}).catch(w=>{H("Something went wrong")}),j||(F(!0),H(null)),N(!1)}},"Email link")),j&&(0,e.h)(i.xv.B4,{align:"center",style:{color:"red"}},j),x&&!j&&(0,e.h)(i.xv.B4,{align:"center"},"Message Sent")))}function A(){const{iString:W}=(0,c.M1)(),[Z,K]=(0,s.eJ)(""),[R,S]=(0,s.eJ)(!1),[N,j]=(0,s.eJ)(null),[H,x]=(0,s.eJ)(!1);return(0,e.h)(e.Fragment,null,(0,e.h)(n.tu,{gap:8},(0,e.h)(n.gq,{justifyContent:"center",alignItems:"center",gap:8,padding:16},(0,e.h)("div",{className:p.Z.phoneInput},(0,e.h)(P(),{onlyCountries:["us","ca"],country:"us",value:Z,onChange:K})),(0,e.h)(o.zx,{priority:"primary",disabled:R,onClick:()=>{S(!0),(0,_.rd)("/api/v1/send_app_download_link",{method:"POST",json:{phone:`+${Z}`}}).catch(F=>{j("Something went wrong")}),N||(x(!0),j(null)),S(!1)}},"Send link")),N&&(0,e.h)(i.xv.B4,{align:"center",style:{color:"red"}},N),H&&!N&&(0,e.h)(i.xv.B4,{align:"center"},"Message Sent")))}function U({utm_campaign:W,utm_source:Z,utm_content:K,abTestingId:R,size:S=240,width:N,height:j}){const H=(0,s.sO)(null),x=(0,m.getAppStoreRedirectUrl)({utm_campaign:W,utm_source:Z,utm_content:K,abti:R}),{darkMode:F}=(0,l.v)(),w=B(V=>{const $=V.devicePixelRatio,k=getComputedStyle(document.body),G=k.getPropertyValue("--color-primary"),Q=k.getPropertyValue("--color-bg-elevated");return{width:(N!=null?N:S)*$,height:(j!=null?j:S)*$,type:"canvas",data:x,dotsOptions:{color:G,type:"dots"},backgroundOptions:{color:Q},cornersSquareOptions:{color:G,type:"extra-rounded"},cornersDotOptions:{color:G,type:"dot"},qrOptions:{errorCorrectionLevel:"L"}}},[N,j,x,F]);return(0,s.d4)(()=>{const{current:V}=H;if(!V||!w||!w._canvas)return;const $=w._canvas;return $.style.width=`${N!=null?N:S}px`,$.style.height=`${j!=null?j:S}px`,V.appendChild($),()=>{V.removeChild($)}},[w,N,j]),(0,e.h)("div",{ref:H})}function B(W,Z){const{result:K}=(0,_.Wf)(()=>t.e(1915).then(t.t.bind(t,91915,23)),[],{auto:!0}),R=K==null?void 0:K.default;return(0,s.Ye)(()=>R&&typeof window!="undefined"?new R(W(window)):null,[R,...Z])}},49034:(Y,C,t)=>{t.d(C,{Z:()=>L});var e=t(6400),s=t(94184),O=t.n(s),T=t(27484),D=t.n(T),v=t(80569),P=t.n(v),M=t(52743),l=t(20501),_=t(83322),m=t(28488),E=t(3258),c=t(17025),r=t.n(c),o=t(34031),n=t(65162),a=Object.defineProperty,i=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(I,A,U)=>A in I?a(I,A,{enumerable:!0,configurable:!0,writable:!0,value:U}):I[A]=U,u=(I,A)=>{for(var U in A||(A={}))d.call(A,U)&&f(I,U,A[U]);if(i)for(var U of i(A))p.call(A,U)&&f(I,U,A[U]);return I},g=(I,A,U)=>new Promise((B,W)=>{var Z=S=>{try{R(U.next(S))}catch(N){W(N)}},K=S=>{try{R(U.throw(S))}catch(N){W(N)}},R=S=>S.done?B(S.value):Promise.resolve(S.value).then(Z,K);R((U=U.apply(I,A)).next())});class y extends e.Component{constructor(A,U){if(super(A,U),this.onTabClick=B=>W=>{W.preventDefault(),this.loadTab(B)},this.onSearchInput=B=>{this.state.tab.id==="search"&&this.loadTab("search",B.target.value||"")},this.onSearchKeyDown=B=>{this.state.tab.id==="search"&&B.key==="Escape"&&(B.target.blur(),this.loadTab(this.state.tabs[0].id))},this.onPostClicked=(B,W,Z,K)=>{(0,E.track)(E.EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:W,tab:this.state.tab.id,rank_in_feed:Z,source:K!=null?K:this.props.source})},this.onSearchBlur=B=>{this.state.tab.id==="search"&&!B.target.value&&this.loadTab(this.state.tabs[0].id,"")},this.loadTab=(B,W)=>g(this,null,function*(){const Z=this.state.tabs.find(j=>j.id===B);let K=!1;if(Z.id==="search"&&typeof W=="string"&&Z.query!==W&&(K=!0,Z.query=W,Z.posts=null,Z.fullyLoaded=!1,Z.loading=!1,Z.loadingError=null),Z.id!==this.state.tab.id?(this.setState({tab:Z},()=>{Z.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,M.updateQuery)({sort:Z.id,search:Z.query||null}))):K&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,M.updateQuery)({search:Z.query||null})),Z.loading||Z.fullyLoaded)return;if(Z.id==="search"&&!Z.query){Z.posts=[],Z.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const R=(0,_.randomString)();if(Z.loading=R,Z.loadingError=null,this.setState({tabs:this.state.tabs}),Z.id==="search"&&Z.query&&(yield new Promise(j=>setTimeout(j,300)),Z.loading!==R))return;!this.state.tabs.find(j=>j.posts||j.fullyLoaded||j.loading||j.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(j=>setTimeout(j,this.props.delayFirstLoad)));const N=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const j=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),H=(yield P().get(N).query(u(u(u({sort:Z.id==="search"?"new":Z.id,search:Z.id==="search"?Z.query:"",offset:(Z.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(Z.loading!==R)return;Z.posts=Z.posts?Z.posts.concat(H):H,Z.fullyLoaded=H.length<j||this.props.maxPosts&&Z.posts.length>=this.props.maxPosts}catch(j){console.error("Failed to load tab:",j),Z.loadingError=j}Z.loading=!1,this.setState({tabs:this.state.tabs.map(j=>j.id===Z.id?Z:j),tab:Z})}),this.onChange=({post:B})=>{B&&((0,c.stateTransaction)(this,W=>{let Z=!1;const K=W.tabs.map(R=>R.posts).filter(R=>Array.isArray(R));for(const R of K){const S=R.findIndex(N=>N.id===B.id);S!==-1&&(R[S]=B,Z=!0)}Z&&this.setState({tabs:W.tabs})}),this.props.onChange&&this.props.onChange(B))},!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(A){(A.hideTop!==this.props.hideTop||A.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var A,U;let B=[];const{iString:W}=this.props;B.push({id:"new",title:this.props.newTitle||W("New"),posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||B.push({id:"top",title:this.props.topTitle||W("Top"),posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(A=this.props.pub)!=null&&A.community_enabled&&((U=this.props.pub)!=null&&U.has_community_content)&&B.push({id:"community",title:this.props.communityTitle||W("Community"),posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),B=this.props.sortTabs&&this.props.sortTabs(B)||B,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&B.push({id:"search",title:W("Search"),posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const Z=B.find(K=>K.id===this.props.sort)||this.props.search&&B.find(K=>K.id==="search")||B[0];return{tabs:B,tab:Z}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:A,className:U,disableInteractive:B,emptyMessage:W,filterPostsPredicate:Z,hideAuthor:K,hideSearchTab:R,hideShare:S,isBelowTheFold:N,isPodcast:j,maxPosts:H,maxTitleLength:x,pinnedPosts:F,profile:w,pub:V,renderLoading:$,renderPosts:k,renderTabs:G,renderSeeAll:Q,showMonthDividers:q,showPins:z,showPublicationName:J,source:te,user:oe,iString:ie,iTemplate:re},{tabs:ue,tab:ce}){W=W||ie("No posts");const Ee=q&&ce.id==="new",se=ue.find(We=>We.id==="search"),ne=ue.find(We=>We.id==="community");let ee=Array.isArray(ce.posts)?ce.posts.filter(We=>!(V&&ce.id==="top"&&We.top_exclusions.includes(V.id))).filter(We=>V!=null&&V.section&&(F!=null&&F.length)?!F.find(ye=>ye.id===We.id):!0).filter(We=>!_.hidePaidPostsFor.includes(V==null?void 0:V.subdomain)||We.audience==="everyone"||(oe==null?void 0:oe.is_subscribed)).filter(Z||(()=>!0)):[];V!=null&&V.section&&(F!=null&&F.length)&&["new","top"].includes(ce.id)&&(ee=[...F,...ee]);const ae=ee.length===0,he=!ee&&!ce.loadingError,me=ee.some&&ee.some(We=>We.cover_image);let ge;w&&(ge=new Map(w.publicationUsers.map(We=>[We.publication.id,We.publication])));const ve=H?ee.slice(0,H):ee,Oe=k?k({posts:ve,linkToComments:ce===ne,onClickPost:({event:We,post:ye,index:Fe,source:Ze})=>this.onPostClicked(We,ye.id,Fe,Ze),postGroups:Ee?b(ve,V.language):null}):[],Me=j?(0,l.getPodcastArchiveUrl)({pub:V,section:V.section,params:{sort:ce.id,search:ce.query}}):(0,M.getArchiveUrl)(V,{params:{sort:ce.id,search:ce.query}}),Pe=Q?Q({url:Me}):(0,e.h)("a",{className:"portable-archive-all",href:Me,native:!0},ie("See all")," ",(0,e.h)(o.Z,{height:12,width:12})),De=$?$():null;return(0,e.h)("div",{className:O()("portable-archive",U,{"empty-list":ae})},G&&G({activeTabId:ce.id,isSearching:ce===se,showSearch:!!(se&&!R),searchInputProps:{value:se==null?void 0:se.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:We=>{this.searchInput=We},tabs:ue.filter(We=>!We.hidden),onClick:We=>{this.loadTab(We)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(ue[0].id)}}),(0,e.h)("div",{className:"portable-archive-list"},ce.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},ie("Failed to load posts")):ee.length===0&&!ce.loading?(0,e.h)("p",{className:"portable-archive-empty"},ce.id!=="search"?W:ce.query?ie("No results"):re`Search ${V?V.name:""}`):(0,e.h)(e.Fragment,null,Oe,!H&&!he&&!ce.loading&&!ce.fullyLoaded&&(0,e.h)(n.Z,{threshold:640,onVisible:()=>this.loadTab(ce.id,ce.query)})),ce.loading||he?De:H&&ee.length>=H&&Pe))}}const L=(0,m.fz)(y),b=(I,A="en")=>{let U;const B=[];return I.forEach((W,Z)=>{const K=D()(W.post_date).locale(A).format("MMMM YYYY");K!==U?(Z===0?B.push({label:"",posts:[W]}):B.push({label:K,posts:[W]}),U=K):B[B.length-1].posts.push(W)}),B}},50557:(Y,C,t)=>{t.d(C,{p:()=>a});var e=t(6400),s=t(94184),O=t.n(s),T=t(34755),D=Object.defineProperty,v=Object.defineProperties,P=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,m=(i,d,p)=>d in i?D(i,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[d]=p,E=(i,d)=>{for(var p in d||(d={}))l.call(d,p)&&m(i,p,d[p]);if(M)for(var p of M(d))_.call(d,p)&&m(i,p,d[p]);return i},c=(i,d)=>v(i,P(d)),r=(i,d)=>{var p={};for(var f in i)l.call(i,f)&&d.indexOf(f)<0&&(p[f]=i[f]);if(i!=null&&M)for(var f of M(i))d.indexOf(f)<0&&_.call(i,f)&&(p[f]=i[f]);return p};const n=i=>{var d=i,{fill:p}=d,f=r(d,["fill"]);return(0,e.h)(T.l,c(E({},f),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:p||"white"}}),(0,e.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:p||"white"}))},a=({name:i,label:d,info:p,checked:f,disabled:u,onChange:g,isRow:y=!0,className:L})=>{const b=(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:O()("big-checkbox",{checked:f,disabled:u}),onClick:()=>!u&&(g==null?void 0:g(!f)),onKeyDown:I=>{I.key===" "&&(g==null||g(!f))},role:"checkbox","aria-checked":f,"aria-label":d||i,tabIndex:0},(0,e.h)(n,{fill:"#ffffff"})));return(0,e.h)("label",{className:O()("big-checkbox-input",L,{"big-checkbox-input-row":y})},!y&&b,(0,e.h)("div",{onClick:()=>{(d||p)&&!u&&(g==null||g(!f))}},d,p&&(0,e.h)("div",{className:"info"},p)),y&&b,(0,e.h)("input",{type:"hidden",name:i,"data-testid":i,value:String(f)}))}},99105:(Y,C,t)=>{t.d(C,{Z:()=>D});var e=t(6400),s=(l,_,m)=>new Promise((E,c)=>{var r=a=>{try{n(m.next(a))}catch(i){c(i)}},o=a=>{try{n(m.throw(a))}catch(i){c(i)}},n=a=>a.done?E(a.value):Promise.resolve(a.value).then(r,o);n((m=m.apply(l,_)).next())});const O="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let T=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=P);class D extends e.Component{componentDidMount(){return s(this,null,function*(){yield M(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:_}){return(0,e.h)("div",{className:_})}}function v(){const l=document.getElementsByTagName("script")[0],_=document.createElement("script");_.type="text/javascript",_.async=!0,_.defer=!0,_.src=O,l.parentNode.insertBefore(_,l)}function P(){if(T){const l=T;T=!0;for(const _ of l)_()}}function M(){return new Promise(l=>{T===!0?l():T===!1?(T=[l],v()):T.push(l)})}},97296:(Y,C,t)=>{t.d(C,{v:()=>p});var e=t(6400),s=t(30396),O=t(36808),T=t.n(O),D=t(28488),v=t(3258),P=t(8479),M=t(38744),l=t(19072),_=t(13045),m=t(53889),E=t(91988),c=Object.defineProperty,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(f,u,g)=>u in f?c(f,u,{enumerable:!0,configurable:!0,writable:!0,value:g}):f[u]=g,i=(f,u)=>{for(var g in u||(u={}))o.call(u,g)&&a(f,g,u[g]);if(r)for(var g of r(u))n.call(u,g)&&a(f,g,u[g]);return f},d=(f,u,g)=>new Promise((y,L)=>{var b=U=>{try{A(g.next(U))}catch(B){L(B)}},I=U=>{try{A(g.throw(U))}catch(B){L(B)}},A=U=>U.done?y(U.value):Promise.resolve(U.value).then(b,I);A((g=g.apply(f,u)).next())});const p=({onSubdomain:f})=>{const[u,g]=(0,s.eJ)(!1),[y,L]=(0,s.eJ)(!1),{popToast:b}=(0,_.pm)(),{iString:I}=(0,D.M1)(),{refetch:A}=(0,P.ib)({pathname:"/api/v1/cookie_preferences",method:"POST"}),{refetch:U}=(0,P.ib)({pathname:"/api/v1/cookie_preferences/substack",method:"POST"});(0,s.d4)(()=>{(0,v.track)(v.EVENTS.COOKIE_BANNER_SEEN,{})},[]);const B=W=>d(void 0,null,function*(){const Z=W?[]:M.dg,K=W?[]:M.$s;O.set(l.ky.HIDE_COOKIE_BANNER,new Date().toJSON(),{expires:365*24*60*60*1e3}),f&&(yield A({json:{disabledCookies:K}})),yield U({json:{disabledCookies:Z}}),(0,v.track)(v.EVENTS.COOKIE_BANNER_CLICKED,{acceptAll:W}),(0,v.track)(v.EVENTS.COOKIE_PREFERENCES_SET,{disabledCookies:[...Z,...K]}),L(!0),b(R=>(0,e.h)(_.FN,i({text:I("Cookie preferences saved")},R))),window.location.reload()});return(0,e.h)("div",null,!y&&(0,e.h)(_.tu,{className:E.Z.cookieBanner,alignItems:"center"},(0,e.h)(_.tu,{alignItems:"center",gap:{mobile:4,desktop:8},padding:4},(0,e.h)(_.xv.H2,{translated:!0},"Cookie Policy"),(0,e.h)(_.xv.B4,{translated:!0,style:{paddingRight:"16px"}},"We use necessary cookies to make our site work. With your consent, we also set performance and functionality cookies that help us make improvements by measuring traffic on our site and we process respective personal data. You can withdraw your consent at any time. For more detailed information about the cookies, your personal data and your rights, please see our"," ",(0,e.h)(_.xv,{decoration:"underline",as:"a",href:"https://substack.com/tos"},"privacy policy"),"."),(0,e.h)(_.hs,{gap:{mobile:12,desktop:6},direction:{mobile:"column",desktop:"row"}},(0,e.h)(_.zx,{priority:"secondary",onClick:()=>{g(!0),L(!0)}},I("Manage Cookies")),(0,e.h)(_.zx,{priority:"secondary",onClick:()=>B(!1)},I("Only Necessary")),(0,e.h)(_.zx,{priority:"primary",onClick:()=>B(!0)},I("Accept all"))))),(0,e.h)(m.w,{onSubdomain:f,open:u,close:()=>{g(!1)}}))}},53889:(Y,C,t)=>{t.d(C,{w:()=>y});var e=t(6400),s=t(30396),O=t(36808),T=t.n(O),D=t(92027),v=t(28488),P=t(3258),M=t(8479),l=t(9353),_=t(38744),m=t(19072),E=t(13045),c=t(35441),r=Object.defineProperty,o=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(A,U,B)=>U in A?r(A,U,{enumerable:!0,configurable:!0,writable:!0,value:B}):A[U]=B,f=(A,U)=>{for(var B in U||(U={}))i.call(U,B)&&p(A,B,U[B]);if(a)for(var B of a(U))d.call(U,B)&&p(A,B,U[B]);return A},u=(A,U)=>o(A,n(U)),g=(A,U,B)=>new Promise((W,Z)=>{var K=N=>{try{S(B.next(N))}catch(j){Z(j)}},R=N=>{try{S(B.throw(N))}catch(j){Z(j)}},S=N=>N.done?W(N.value):Promise.resolve(N.value).then(K,R);S((B=B.apply(A,U)).next())});const y=({open:A,onSubdomain:U,close:B})=>{const[W,Z]=(0,s.eJ)(U?m.js.PUBLISHER:m.js.SUBSTACK),[K,R]=(0,s.eJ)(!1),[S,N]=(0,s.eJ)(new Set),{popToast:j}=(0,E.pm)(),{iString:H}=(0,v.M1)(),{language:x}=(0,v.M1)(),F=(0,_.ug)(x),{refetch:w}=(0,M.ib)({pathname:"/api/v1/cookie_preferences",method:"POST"}),{refetch:V}=(0,M.ib)({pathname:"/api/v1/cookie_preferences/substack",method:"POST"});(0,s.d4)(()=>{(0,P.track)(P.EVENTS.COOKIE_MANAGEMENT_MODAL_SEEN,{})},[]);const $=q=>g(void 0,[q],function*({substackPreferences:z,publicationPreferences:J}){O.set(m.ky.HIDE_COOKIE_BANNER,new Date().toJSON(),{expires:365*24*60*60*1e3}),yield V({json:{disabledCookies:z!=null?z:[]}}),U&&(yield w({json:{disabledCookies:J!=null?J:[]}}))}),k=()=>g(void 0,null,function*(){const q=Array.from(S),z=Object.values(m.YJ),J=Object.values(m.ky);let te,oe;K&&(te=q.filter(ie=>J.includes(ie)),oe=q.filter(ie=>z.includes(ie))),yield $({substackPreferences:te,publicationPreferences:oe}),(0,P.track)(P.EVENTS.COOKIE_PREFERENCES_SET,{disabledCookies:q}),(0,P.track)(P.EVENTS.COOKIE_MANAGEMENT_MODAL_SUBMITTED,{disabledCookies:q}),j(ie=>(0,e.h)(E.FN,f({text:H("Preferences saved")},ie))),window.location.reload(),B()}),G=()=>g(void 0,null,function*(){yield $({substackPreferences:_.dg,publicationPreferences:_.$s}),(0,P.track)(P.EVENTS.COOKIE_PREFERENCES_SET,{disabledCookies:[..._.dg,..._.$s]}),(0,P.track)(P.EVENTS.COOKIE_MANAGEMENT_MODAL_SUBMITTED,{disabledCookies:[..._.dg,..._.$s]}),j(q=>(0,e.h)(E.FN,f({text:H("Preferences saved")},q))),window.location.reload(),B()}),Q=q=>{K||R(!0),N(z=>{const J=new Set(z);return J.has(q)?J.delete(q):J.add(q),J}),(0,P.track)(P.EVENTS.COOKIE_MANAGEMENT_MODAL_COOKIE_TOGGLED,{cookie:q})};return(0,e.h)(E.u_,{isOpen:A,onClose:k,className:c.Z.modal},(0,e.h)(E.xB,{className:c.Z.noGrow,includeClose:!0,onClose:()=>{(0,P.track)(P.EVENTS.COOKIE_MANAGEMENT_MODAL_DISMISSED,{}),k()},title:(0,e.h)(E.xv.H2,null,H("Cookie Preferences"))}),(0,e.h)(E.fe,{className:c.Z.grow},(0,e.h)(E.tu,{flex:"fill",gap:8},U&&(0,e.h)(l.m,{style:{zIndex:"25"}},(0,e.h)(l.O,{value:m.js.PUBLISHER,currentValue:W,onClick:Z},(0,e.h)(E.xv.B2,{translated:!0},"Publisher")),(0,e.h)(l.O,{value:m.js.SUBSTACK,currentValue:W,onClick:Z},(0,e.h)(E.xv.B2,{translated:!0},"Substack"))),(0,e.h)(E.tu,{flex:"fill"},W==="publisher"&&(0,e.h)(L,{cookies:F.filter(q=>q.owner===m.js.PUBLISHER),disabledCookies:S,toggleState:Q}),W==="substack"&&(0,e.h)(L,{cookies:F.filter(q=>q.owner===m.js.SUBSTACK),disabledCookies:S,toggleState:Q})))),(0,e.h)(E.mz,{className:c.Z.noGrow,primaryButton:(0,e.h)(E.zx,{onClick:k},S.size>0?H("Save preferences"):H("Accept All")),secondaryButton:(0,e.h)(E.zx,{onClick:G},H("Reject all"))}))},L=({cookies:A,disabledCookies:U,toggleState:B})=>(0,e.h)("table",{className:c.Z.table},(0,e.h)("tbody",null,A.map(W=>(0,e.h)(b,u(f({},W),{onToggle:()=>B(W.id),enabled:!U.has(W.id)}))))),b=({name:A,type:U,description:B,enabled:W,onToggle:Z})=>(0,e.h)("tr",{key:A,className:c.Z.rowBorderBottom},(0,e.h)("td",{className:c.Z.cellPadding},(0,e.h)(E.tu,{gap:2,alignItems:"start"},(0,e.h)(E.xv.B4,null,A),(0,e.h)(I,{cookieType:U}))),(0,e.h)("td",{className:c.Z.cellPadding},(0,e.h)(E.xv.Detail,null,B)),(0,e.h)("td",{className:c.Z.cellPadding},U!==m.pt.NECESSARY&&(0,e.h)(E.XZ,{checked:W,onChange:Z}))),I=({cookieType:A})=>{const{language:U}=(0,v.M1)(),B=(0,_.rR)(U);return(0,e.h)(E.u,{text:B[A]},(0,e.h)(E.gq,{justifyContent:"start",alignItems:"center",gap:4},(0,e.h)(E.xv.Meta,null,A),(0,e.h)(D.Z,{size:16,color:"#888888"})))}},44454:(Y,C,t)=>{t.d(C,{EJ:()=>M.E,Fx:()=>E,ZP:()=>m});var e=t(6400),s=t(94184),O=t.n(s),T=t(17025),D=t.n(T),v=t(7922),P=t(26059),M=t(22939);const l="active",_=.7;class m extends e.Component{constructor(r,o){if(super(r,o),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const n=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:n.matches};const a=i=>{this.setState({isMobileWidth:i.matches})};n.addEventListener?n.addEventListener("change",a):n.addListener&&n.addListener(a)}}componentDidMount(){document.addEventListener("mouseup",r=>this.onDocumentMouseUp(r)),document.addEventListener("keydown",r=>this.onDocumentKeyDown(r)),typeof window!="undefined"&&window.addEventListener("resize",()=>this.onWindowResize()),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",r=>this.onDocumentMouseUp(r)),document.removeEventListener("keydown",r=>this.onDocumentKeyDown(r)),typeof window!="undefined"&&window.removeEventListener("resize",()=>this.onWindowResize())}onDocumentMouseUp(r){!(0,T.isRootOrChild)(r.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}onDocumentKeyDown(r){r.key==="Escape"&&this.state.active&&this.close()}onWindowResize(){this.placeDropdown()}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:r=null}={}){this.blockToggle||(0,T.stateTransaction)(this,o=>{r===null&&(r=!o.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[r?"add":"remove"]("modal-in"),this.setState({active:r},()=>{this.props.onToggle&&this.props.onToggle({active:r})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}placeDropdown(){var r,o;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const n=this.base.getBoundingClientRect(),a=n.width/(this.state.active?1:_),i=n.right+(a-n.width)/2,d=n.left-(a-n.width)/2,p=typeof window!="undefined"&&window.innerWidth;if(a>=p)return;const f=typeof window!="undefined"&&window.getComputedStyle(this.base),u=!isNaN(parseFloat(f.left))&&parseFloat(f.left),g=!isNaN(parseFloat(f.right))&&parseFloat(f.right),y=(r=this.state.originalLeft)!=null?r:f.left,L=(o=this.state.originalRight)!=null?o:f.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:y}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:L}),d<0?typeof this.state.left=="number"?this.setState({left:this.state.left-d,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+d}):typeof g=="number"?this.setState({left:null,right:g+d}):this.setState({left:(u||0)-d,right:null}):i>=p&&(typeof this.state.left=="number"?this.setState({left:this.state.left-i+p,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+i-p}):typeof u=="number"?this.setState({left:u-i+p,right:null}):this.setState({left:null,right:(g||0)+i-p}))}render({noTail:r,attachOnActive:o,noDrawerCloseButton:n},{active:a}){const i=(0,e.toChildArray)(this.props.children),d={},p={};typeof this.state.left=="number"?(d.left=`${this.state.left}px`,d.right="unset",p.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(d.left="unset",d.right=`${this.state.right}px`,p.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const f=this.useDrawerStyle();return(0,e.h)(e.Fragment,null,f&&(0,e.h)("div",{className:O()("dropdown-drawer-backdrop",{[l]:a}),onclick:u=>{u.stopPropagation(),this.drawerBackdropClicked()}}),(!o||a||f)&&(0,e.h)("ul",{className:O()("dropdown-menu",this.props.className,{[l]:a,"no-rect":this.props.noRectWhenClosed,drawer:f,tooltip:!f,"no-place":!!this.props.noPlace}),style:d},!r&&!this.useDrawerStyle()&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"dropdown-menu-tail",style:p}),(0,e.h)("div",{className:"dropdown-menu-tail-shadow",style:p})),(0,e.h)("div",{className:O()("dropdown-menu-wrapper",this.props.wrapperClassName)},f&&!n&&(0,e.h)(v.k,{className:"drawer-close-button",onClick:u=>{u.stopPropagation(),this.close()}},(0,e.h)(P.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?i:i.map(u=>(0,e.h)("li",null,u)))))}}class E extends e.Component{componentDidMount(){document.addEventListener("mouseup",r=>this.onDocumentMouseUp(r)),document.addEventListener("keydown",r=>this.onDocumentKeyDown(r))}componentWillUnmount(){document.removeEventListener("mouseup",r=>this.onDocumentMouseUp(r)),document.removeEventListener("keydown",r=>this.onDocumentKeyDown(r))}constructor(r){super(r)}onDocumentMouseUp(r){!(0,T.isRootOrChild)(r.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}onDocumentKeyDown(r){r.key==="Escape"&&this.close()}onWindowResize(){this.placeDropdown()}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:r=null}={}){this.blockToggle||(0,T.stateTransaction)(this,o=>{r===null&&(r=!o.active),this.setState({active:r},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const r=(0,e.toChildArray)(this.props.children);return this.props.noList?(0,e.h)("div",{className:O()("dropdown-menu tooltip",this.props.className,{[l]:this.state.active}),ref:this.props.forwardedRef},(0,e.h)("div",{className:"dropdown-menu-wrapper"},r)):(0,e.h)("ul",{className:O()("dropdown-menu tooltip",this.props.className,{[l]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,e.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,e.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,e.h)("div",{className:"dropdown-menu-wrapper"},r.map(o=>(0,e.h)("li",null,o))))}}},22939:(Y,C,t)=>{t.d(C,{E:()=>s});var e=t(30396);function s(){const O=(0,e.sO)(null);return[O,()=>{var D;return(D=O.current)==null?void 0:D.toggle()}]}},43615:(Y,C,t)=>{t.d(C,{FF:()=>G,Pn:()=>V,ZP:()=>F});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(71375),v=t(49770),P=t(58718),M=t(52743),l=t(28488),_=t(67963),m=t(62017),E=t(17025),c=t(84040),r=t(51126),o=t(62246),n=t(43887),a=t(97868),i=t(33510),d=t(44695);const p=40,f=.5*p,u=.2,g=2;function y(z){return{width:(z-1)*p*(1-u)+p+2*g,height:p+2*g}}function L({faces:z}){const te=z.slice(0).reverse().map(({id:re,photo_url:ue},ce)=>({id:re,photo_url:ue||getDefaultUserPhotoById(re),x:(z.length-ce-1)*(1-u)*p+g})),{width:oe,height:ie}=y(z.length);return h("svg",{version:"1.1",width:oe,height:ie,viewBox:`0 0 ${oe} ${ie}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,te.map(({id:re,photo_url:ue,x:ce})=>h("pattern",{id:`image-${re}`,x:ce,y:g,patternUnits:"userSpaceOnUse",height:p,width:p},h("image",{height:p,width:p,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:ue})))),te.map(({id:re,x:ue})=>h("circle",{cx:ue+f,cy:f+g,r:f,fill:`url(#image-${re})`,stroke:"#fff","stroke-width":g})))}var b=t(80332),I=t(79786),A=t(30105);const U={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var B=Object.defineProperty,W=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,N=(z,J,te)=>J in z?B(z,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):z[J]=te,j=(z,J)=>{for(var te in J||(J={}))R.call(J,te)&&N(z,te,J[te]);if(K)for(var te of K(J))S.call(J,te)&&N(z,te,J[te]);return z},H=(z,J)=>W(z,Z(J)),x=(z,J)=>{var te={};for(var oe in z)R.call(z,oe)&&J.indexOf(oe)<0&&(te[oe]=z[oe]);if(z!=null&&K)for(var oe of K(z))J.indexOf(oe)<0&&S.call(z,oe)&&(te[oe]=z[oe]);return te};function F(z){var J=z,{faces:te,secondaryFaces:oe,maximum:ie=5,pileLabel:re,modalLabel:ue,secondaryLabel:ce,secondaryHref:Ee,enableModal:se,className:ne,totalCount:ee,detailUtmSource:ae,onDialogOpen:he,showFaces:me=!0,showBlanks:ge=!1,relativeLinks:ve=!1}=J,Oe=x(J,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","showBlanks","relativeLinks"]);const[Me,Pe]=(0,s.eJ)(!1),[De,We]=(0,s.eJ)(!1),Fe=te.concat((oe==null?void 0:oe.filter(Ze=>!te.find(Te=>Te.id===Ze.id)))||[]).filter(({photo_url:Ze})=>ge?!0:!!Ze).slice(0,ie);return(0,e.h)(r.hs,{alignItems:"center",gap:8,flex:"grow",className:T()("facepile",ne)},me&&(0,e.h)(w,H(j({},Oe),{className:ne,faces:Fe,maximum:ie,showBlanks:ge,relativeLinks:ve})),re&&(0,e.h)(k,{label:re,clickable:!!(se&&te.length),onClick:()=>{!se||!(te!=null&&te.length)||(Pe(!0),he&&he())}}),ce&&(0,e.h)(n.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),ce&&(0,e.h)(k,{label:ce,clickable:!!(se&&(oe!=null&&oe.length)),href:Ee,onClick:Ee?void 0:()=>{!se||!(oe!=null&&oe.length)||(We(!0),he&&he())}}),Me&&(0,e.h)(G,{isOpen:Me,modalLabel:ue,faces:te,totalCount:ee,onClose:()=>Pe(!1),utmSource:ae}),De&&oe&&(0,e.h)(G,{isOpen:De,modalLabel:ce,faces:oe,totalCount:oe.length,onClose:()=>We(!1),utmSource:ae}))}function w({faces:z,loading:J,className:te,clickable:oe=!0,hoverProfiles:ie,faceUtmSource:re,elevated:ue,showBlanks:ce=!1,maximum:Ee=5,size:se=40,relativeLinks:ne=!1}){const ee=(0,E.isMobileBrowser)(),ae=z.filter(({photo_url:he})=>ce?!0:!!he).slice(0,Ee);return(0,e.h)(r.hs,{alignItems:"center"},!J&&ae.length>0&&(0,e.h)(r.hs,{alignItems:"center",className:T()(U.faces,U[`size-${se}`],te)},ae.map(({id:he,name:me,photo_url:ge,className:ve,tooltipTitle:Oe,tooltipContent:Me,noLink:Pe},De)=>{const We=(0,M.getReaderProfileUrl)({id:he,name:me},{utm_source:re,noBase:!!ne}),ye=(0,e.h)(I.e,{className:T()("facepile-face",U.face,U[`size-${se}`],ve,De===0&&U.first,De===ae.length-1&&U.last,ue&&U.elevated),style:{zIndex:ae.length-De},maxWidth:se*2,src:(0,M.imginary)(ge||(0,M.getDefaultUserPhotoById)(he),64)});return Pe||!oe?ye:(0,e.h)(b.ProfileHoverCard,{disabled:!ie||ee,key:he,subject:{id:he,name:me,photo_url:ge},utmSource:re},(0,e.h)(A.L,{disabled:!Oe&&!Me,title:Oe,content:Me,className:"inverse bottom"},(0,e.h)(r.hs,{as:"a",flex:"auto",href:We,target:"_blank",rel:"noopener"},ye)))})),J&&(0,e.h)($,{maximum:Ee,size:se}))}function V({pub:z,post:J}){var te;const oe=(0,M.imginary)(`${(0,M.getBaseUrl)(z)}/p/${J.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:ie,width:re}=y((te=J==null?void 0:J.publishedBylines)==null?void 0:te.length);return(0,e.h)("img",{src:oe,width:re,height:ie})}function $({maximum:z,size:J}){return(0,e.h)(r.hs,{gap:12},new Array(z).fill(null).map(()=>(0,e.h)(i.Vm,{type:"circle",height:J,width:J})))}function k({label:z,clickable:J,href:te,onClick:oe}){return(0,e.h)(n.xv.B4,null,(0,e.h)(m.hh,{className:J?U.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:J?"hover-underline":"none",onClick:oe,href:te},z))}function G(z){var J=z,{isOpen:te,onClose:oe}=J,ie=x(J,["isOpen","onClose"]);return(0,e.h)(o.u_,{isOpen:!!te,onClose:oe,width:500},(0,e.h)(Q,j({onClose:oe},ie)))}function Q({faces:z,modalLabel:J,onClose:te,openLinksInNewTab:oe,totalCount:ie,utmSource:re}){const{iString:ue,iTemplate:ce,iPlural:Ee}=(0,l.M1)(),se=(ie||0)-z.length;return(0,e.h)(e.Fragment,null,(0,e.h)(r.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,e.h)(n.xv.H2,null,J),te&&(0,e.h)(c.hU,{onClick:te},(0,e.h)(D.Z,{height:20}))),(0,e.h)(r.tu,{overflowY:"auto",className:U.column},(0,e.h)(r.tu,{gap:4,padding:8,flex:"grow"},z.map(ne=>(0,e.h)(q,{face:ne,openLinksInNewTab:oe,utmSource:re})),se>0&&(0,e.h)(r.hs,{gap:16,alignItems:"center",padding:8},(0,e.h)(r.hs,{className:U.avatarOther,alignItems:"center",justifyContent:"center"},(0,e.h)(v.Z,{className:U.avatarOtherIcon,size:20})),(0,e.h)(n.xv.B4,{color:"secondary"},"+",Ee("%1 other reader","%1 other readers",se))))))}function q({face:z,openLinksInNewTab:J,utmSource:te}){const{iString:oe,iTemplate:ie}=(0,l.M1)(),{id:re,name:ue,photo_url:ce,primary_publication:Ee,writes:se,className:ne,noLink:ee}=z,ae=te||"facepile-modal",he=(0,M.getReaderProfileUrl)({id:re,name:ue},{utm_source:ae}),me=(0,_.aF)(),ge=(0,P.Sv)(z,ae);return(0,e.h)(r.hs,{key:re,flex:"grow"},ee?(0,e.h)(r.hs,{gap:16,padding:8,radius:12,className:U.row,alignItems:"center",flex:"grow"},(0,e.h)(a.BG,{user:z,pub:Ee,size:40,className:ne}),(0,e.h)(r.tu,{minWidth:0,flex:"grow"},(0,e.h)(n.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(U.link,T()({"no-name":!(ue||"").trim().length}))},ue))):(0,e.h)(r.hs,j({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:12,className:U.row,href:he},J?{target:"_blank"}:{}),(0,e.h)(a.BG,{user:z,pub:Ee,size:40,className:ne}),(0,e.h)(r.tu,{minWidth:0,flex:"grow"},(0,e.h)(b.ProfileHoverCard,{disabled:(0,E.isMobileBrowser)(),subject:{id:re,name:ue,photo_url:ce},utmSource:ae,className:U.link},(0,e.h)(n.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(U.link,T()({"no-name":!(ue||"").trim().length}))},ue)),se&&Ee&&(0,e.h)(d.Sm,{disabled:(0,E.isMobileBrowser)(),publication_id:Ee==null?void 0:Ee.id,className:U.link},(0,e.h)(n.xv.B4,{color:"secondary",decoration:"hover-underline",className:T()(U.link,{"no-name":!(ue||"").trim().length})},se))),me&&me.id!==re&&(0,e.h)(c.zx,{fill:"empty",priority:ge.isFollowing?"secondary":"primary",className:U.button,onClick:ve=>{ve.preventDefault(),ge.toggle()}},ge.isFollowing?oe("Following"):oe("Follow"))))}},45599:(Y,C,t)=>{t.d(C,{$:()=>a});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(28488),v=t(43887),P=t(52743),M=t(76193),l=t(18597),_=t(3258),m=t(15516),E=t(33705),c=t(85826),r=t(65162),o=t(72165),n=t(59009);const a=({publication:f,user:u,path:g,hideTerms:y,showIntrinioAttrib:L})=>{const{iString:b}=(0,D.M1)();typeof y=="undefined"&&(y=!1);const I=(0,l.Tf)(),A=(0,M.isMobile)(),U=(0,M.isIos)(),B=(0,M.isAndroid)(),W=A&&(U||B),Z=u&&!u.reader_installed_at,K=W&&Z;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(r.Z,{onVisible:()=>{(0,_.track)(_.EVENTS.PUBLICATION_FOOTER_SEEN,{publication_id:f==null?void 0:f.id,user_id:u==null?void 0:u.id,source:i(g)})}}),(0,e.h)("div",{className:T()("footer",{"themed-background":I})},(0,e.h)("div",{className:"container"},(0,e.h)(c._,{hideTerms:y,pub:f,showIntrinioAttrib:L}),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:T()("footer-substack-cta","start-publishing",K&&"app-upsell"),native:!0,href:u!=null&&u.has_publication?`${(0,P.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,P.getSubstackUrl)()}/signup?${(0,P.serializeQuery)({utm_source:n.UTM_SOURCE.substack,utm_medium:n.UTM_MEDIUM.web,utm_content:n.UTM_CONTENT.footer})}`},(0,e.h)(m.Z,null)," ",b("Start Writing")),!K&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,P.getAppStoreRedirectUrl)({utm_campaign:n.UTM_CAMPAIGN.appMarketing,utm_content:n.UTM_CONTENT.webFooterButton})},b("Get the app")),K&&U&&(0,e.h)("a",{className:o.Z.appBadge,href:(0,P.getAppStoreRedirectUrl)({utm_campaign:n.UTM_CAMPAIGN.appMarketing,utm_content:n.UTM_CONTENT.webFooterButton,force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,P.imginary)("/img/app_page/app-store.png",160*2)})),K&&B&&(0,e.h)("a",{className:o.Z.appBadge,href:(0,P.getAppStoreRedirectUrl)({utm_campaign:n.UTM_CAMPAIGN.appMarketing,utm_content:n.UTM_CONTENT.webFooterButton,force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,P.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)(v.xv,{translated:!0,as:"div",className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,P.getSubstackUrl)()}`,native:!0},"Substack")," ","is the home for great writing"))))};function i(f){return f?f==="/"?"pub-homepage":f.startsWith("/p")?"pub-post":f:"unknown"}const d=({slug:f,categoriesMap:u,setExpandCategories:g,hide:y})=>{const{iString:L,iTemplate:b}=useI18N();return f==="collapse"?h("u",null,h("a",{onClick:()=>g(!1)},"See less categories")):f==="expand"?h("u",null,h("a",{onClick:()=>g(!0)},"See more categories")):u[f]?h("a",{href:`${getBaseUrl()}/top/${u[f].slug}`,native:!0,style:{display:y?"none":void 0}},b`Top in ${L(u[f].canonical_name)}`):null},p=({categories:f})=>{const{iString:u,iTemplate:g}=useI18N(),[y,L]=useState(!1),b={culture:`/discover/category/culture/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,"food & drink":`/discover/category/food/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,finance:`/discover/category/finance/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,sports:`/discover/category/sports/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,politics:`/discover/category/politics/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,technology:`/discover/category/technology/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,faith:`/discover/category/faith/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,business:`/discover/category/business/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`},I=["culture","food","finance","sports","politics","technology","faith","business"],A=(f==null?void 0:f.length)>0?f==null?void 0:f.map(B=>B==null?void 0:B.slug).filter(B=>!I.includes(B)):[],U={};if((f==null?void 0:f.length)>0)for(const B of f)B&&(U[B.slug]=B);return h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,u("Read")),h("a",{href:`/discover?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Discover")),h("a",{href:`/app?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Get the app")),h("a",{href:`https://on.substack.com/s/stories?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Featured")),h("a",{href:`https://reader.substack.com?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Substack Reader")),h("a",{href:`/discover/category/podcast/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Top podcasts")),(f==null?void 0:f.length)>0?I.concat(A).concat(y?"collapse":"expand").filter(B=>B!=="podcast").map(B=>h(d,{slug:B,categoriesMap:U,setExpandCategories:L,hide:A.includes(B)&&!y})):Object.entries(b).map(([B,W])=>h("a",{href:W,native:!0},g`Top in ${B}`))),h("div",{className:"footer-info-col"},h("h3",null,u("Writers")),h("a",{href:`/switch?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Switch to Substack")),h("a",{href:`/ghost?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Switch from Ghost")),h("a",{href:`https://on.substack.com/p/start-a-substack-newsletter?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Get started")),h("a",{href:`/going-paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Go paid")),h("a",{href:`/podcasts?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("For podcasts")),h("a",{href:`/for-bloggers?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("For bloggers")),h("a",{href:`/investing-and-business?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("For finance writers")),h("a",{href:`/book?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("For authors")),h("a",{href:`/comic-book-creators?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("For comic creators")),h("a",{href:`/food-writers?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("For food writers")),h("a",{href:`/local-news?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("For local news"))),h("div",{className:"footer-info-col"},h("h3",null,u("Company")),h("a",{href:getAboutUrl(null,{params:{utm_source:UTM_SOURCE.substack,utm_medium:UTM_MEDIUM.web,utm_content:UTM_CONTENT.footer}}),native:!0},u("About")),h("a",{href:getSupportUrl()},u("Help")),h("a",{href:`/jobs?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Jobs")),h("a",{href:`https://on.substack.com?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Blog")),h("a",{href:`/vulnerability-disclosure?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Vulnerability Policy")),h("a",{href:`/contact?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Contact")),h("a",{href:"/sitemap",native:!0},u("Sitemap"))),h("div",{className:"footer-info-col"},h("h3",null,u("Resources")),h("a",{href:`/resources?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Resource center")),h("a",{href:`/going-paid-guide?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Guide to going paid")),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},u("Help center")),h("a",{href:`/community-and-programs?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Community and programs")),h("a",{href:`/brand?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},u("Brand assets")))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},u("Substack is the home for great writing"))))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:UTM_CAMPAIGN.appMarketing,utm_content:UTM_CONTENT.wwwFooter}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"web_footer",app_store:"ios"})}},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134,loading:"lazy"})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:UTM_CAMPAIGN.appMarketing,utm_content:UTM_CONTENT.wwwFooter}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"web_footer",app_store:"android"})}},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134,loading:"lazy"}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getSubstackPrivacyUrl(),native:!0},u("Privacy")),h("a",{className:"bottom-item",href:getSubstackTermsUrl(),native:!0},u("Terms")),h("a",{className:"bottom-item",href:getInfoCollectionUrl(),native:!0},u("Collection notice")))))}},94778:(Y,C,t)=>{t.d(C,{Z:()=>P});var e=t(6400),s=t(94184),O=t.n(s),T=t(17025),D=t.n(T),v=t(57883);class P extends e.Component{render({html:l,children:_,metadata:m}){return(0,e.h)("div",{className:O()(v.Z.pageContainer,"container-border")},(0,T.setMetaData)(m),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},_,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:l}}))))}}},45634:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(o,n,a)=>n in o?O(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,_=(o,n)=>{for(var a in n||(n={}))P.call(n,a)&&l(o,a,n[a]);if(v)for(var a of v(n))M.call(n,a)&&l(o,a,n[a]);return o},m=(o,n)=>T(o,D(n)),E=(o,n)=>{var a={};for(var i in o)P.call(o,i)&&n.indexOf(i)<0&&(a[i]=o[i]);if(o!=null&&v)for(var i of v(o))n.indexOf(i)<0&&M.call(o,i)&&(a[i]=o[i]);return a};const r=o=>{var n=o,{name:a,children:i}=n,d=E(n,["name","children"]);return(0,e.h)(s.l,m(_({},d),{name:a,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),i)}},32127:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,e.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,e.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},1782:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,e.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,e.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},14272:(Y,C,t)=>{var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const E=r=>h(SvgIcon,m(_({},r),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"}));var c=null},99758:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(o,n,a)=>n in o?O(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,_=(o,n)=>{for(var a in n||(n={}))P.call(n,a)&&l(o,a,n[a]);if(v)for(var a of v(n))M.call(n,a)&&l(o,a,n[a]);return o},m=(o,n)=>T(o,D(n)),E=(o,n)=>{var a={};for(var i in o)P.call(o,i)&&n.indexOf(i)<0&&(a[i]=o[i]);if(o!=null&&v)for(var i of v(o))n.indexOf(i)<0&&M.call(o,i)&&(a[i]=o[i]);return a};const r=o=>{var n=o,{fill:a="#1C110B"}=n,i=E(n,["fill"]);return(0,e.h)(s.l,m(_({},i),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:a}}),(0,e.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")}},1977:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},79565:(Y,C,t)=>{t.d(C,{Z:()=>_});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,P=(m,E,c)=>E in m?O(m,E,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[E]=c,M=(m,E)=>{for(var c in E||(E={}))D.call(E,c)&&P(m,c,E[c]);if(T)for(var c of T(E))v.call(E,c)&&P(m,c,E[c]);return m};const _=m=>(0,e.h)(s.l,M({name:"ClosedCaptionsFilledIcon",svgParams:{height:16,width:20,stroke:"#808080"}},m),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM12.6776 7.9987V8.60503C12.6776 8.91696 12.7142 9.17954 12.7874 9.3928C12.8638 9.60605 12.972 9.76837 13.1121 9.87977C13.2553 9.98799 13.4272 10.0421 13.6277 10.0421C13.8251 10.0421 13.9906 9.99436 14.1242 9.89887C14.2579 9.8002 14.3582 9.66811 14.425 9.5026C14.4919 9.3371 14.5253 9.1509 14.5253 8.94401H16.4207V9.09201V9.23524C16.4207 9.7254 16.2997 10.1535 16.0578 10.5195C15.8191 10.8824 15.4881 11.1641 15.0648 11.3646C14.6415 11.5651 14.1561 11.6654 13.6086 11.6654C12.9657 11.6654 12.4214 11.538 11.9758 11.2834C11.5334 11.0288 11.1976 10.6723 10.9684 10.214C10.7393 9.75246 10.6247 9.21137 10.6247 8.59071V8.00347C10.6247 7.37963 10.7393 6.83854 10.9684 6.38021C11.1976 5.92188 11.5334 5.56699 11.9758 5.31554C12.4214 5.06091 12.9657 4.93359 13.6086 4.93359C14.0192 4.93359 14.3964 4.99089 14.7401 5.10547C15.0839 5.21687 15.3799 5.3792 15.6281 5.59245C15.8796 5.8057 16.0737 6.06192 16.2106 6.36111C16.3507 6.6603 16.4207 6.99609 16.4207 7.36849V7.51172V7.65017H14.5253C14.5253 7.44329 14.4919 7.25709 14.425 7.09158C14.3582 6.92607 14.2579 6.79557 14.1242 6.70009C13.9906 6.6046 13.8251 6.55686 13.6277 6.55686C13.4272 6.55686 13.2553 6.61256 13.1121 6.72396C12.972 6.83218 12.8638 6.99291 12.7874 7.20616C12.7142 7.41942 12.6776 7.68359 12.6776 7.9987ZM6.23177 8.60503V7.9987C6.23177 7.68359 6.26837 7.41942 6.34158 7.20616C6.41797 6.99291 6.52619 6.83218 6.66623 6.72396C6.80946 6.61256 6.98134 6.55686 7.18186 6.55686C7.3792 6.55686 7.5447 6.6046 7.67839 6.70009C7.81207 6.79557 7.91233 6.92607 7.97917 7.09158C8.04601 7.25709 8.07943 7.44329 8.07943 7.65017H9.97483V7.51172V7.36849C9.97483 6.99609 9.9048 6.6603 9.76476 6.36111C9.62789 6.06192 9.43374 5.8057 9.18229 5.59245C8.93403 5.3792 8.63802 5.21687 8.29427 5.10547C7.95052 4.99089 7.57335 4.93359 7.16276 4.93359C6.51982 4.93359 5.97555 5.06091 5.52995 5.31554C5.08753 5.56699 4.75174 5.92188 4.52257 6.38021C4.2934 6.83854 4.17882 7.37963 4.17882 8.00347V8.59071C4.17882 9.21137 4.2934 9.75246 4.52257 10.214C4.75174 10.6723 5.08753 11.0288 5.52995 11.2834C5.97555 11.538 6.51982 11.6654 7.16276 11.6654C7.71021 11.6654 8.1956 11.5651 8.61892 11.3646C9.04225 11.1641 9.37326 10.8824 9.61198 10.5195C9.85388 10.1535 9.97483 9.7254 9.97483 9.23524V9.09201V8.94401H8.07943C8.07943 9.1509 8.04601 9.3371 7.97917 9.5026C7.91233 9.66811 7.81207 9.8002 7.67839 9.89887C7.5447 9.99436 7.3792 10.0421 7.18186 10.0421C6.98134 10.0421 6.80946 9.98799 6.66623 9.87977C6.52619 9.76837 6.41797 9.60605 6.34158 9.3928C6.26837 9.17954 6.23177 8.91696 6.23177 8.60503Z",fill:"white",strokeWidth:.25}))},22551:(Y,C,t)=>{t.d(C,{Z:()=>_});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,P=(m,E,c)=>E in m?O(m,E,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[E]=c,M=(m,E)=>{for(var c in E||(E={}))D.call(E,c)&&P(m,c,E[c]);if(T)for(var c of T(E))v.call(E,c)&&P(m,c,E[c]);return m};const _=m=>(0,e.h)(s.l,M({name:"ClosedCaptionsIcon",svgParams:{height:16,width:20,stroke:"#808080"}},m),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM2.55814 1.37143C1.91595 1.37143 1.39535 1.8831 1.39535 2.51429V13.4857C1.39535 14.1169 1.91595 14.6286 2.55814 14.6286H17.4419C18.0841 14.6286 18.6047 14.1169 18.6047 13.4857V2.51429C18.6047 1.8831 18.0841 1.37143 17.4419 1.37143H2.55814Z",fill:"white","stroke-width":"0.25"}),(0,e.h)("path",{d:"M12.1858 7.94143V8.6719C12.1858 9.03793 12.2336 9.34826 12.329 9.60289C12.4277 9.85752 12.5694 10.0501 12.754 10.1806C12.9418 10.3111 13.1661 10.3763 13.4271 10.3763C13.6563 10.3763 13.8536 10.3286 14.0192 10.2331C14.1878 10.1344 14.3183 10.0008 14.4106 9.83206C14.5029 9.66337 14.5555 9.4708 14.5682 9.25437H16.0626C16.0626 9.2862 16.0626 9.31802 16.0626 9.34985C16.0626 9.38168 16.0626 9.41192 16.0626 9.44057C16.053 9.88617 15.9321 10.2777 15.6997 10.615C15.4705 10.9492 15.1586 11.2102 14.7639 11.398C14.3693 11.5826 13.9205 11.6749 13.4176 11.6749C12.8097 11.6749 12.294 11.5524 11.8707 11.3073C11.4506 11.0622 11.1307 10.7153 10.9111 10.2665C10.6946 9.81774 10.5864 9.2846 10.5864 8.66713V7.94143C10.5864 7.32077 10.6962 6.78605 10.9159 6.33727C11.1355 5.8853 11.4553 5.53677 11.8755 5.29169C12.2988 5.04661 12.8128 4.92407 13.4176 4.92407C13.7964 4.92407 14.1449 4.97818 14.4632 5.0864C14.7814 5.19143 15.0584 5.34421 15.2939 5.54473C15.5294 5.74525 15.714 5.98556 15.8477 6.26565C15.9846 6.54256 16.0562 6.85289 16.0626 7.19664C16.0626 7.22847 16.0626 7.2603 16.0626 7.29213C16.0626 7.32077 16.0626 7.34942 16.0626 7.37807H14.5682C14.5555 7.15526 14.5014 6.95633 14.4059 6.78128C14.3136 6.60622 14.1847 6.46936 14.0192 6.37069C13.8536 6.26883 13.6563 6.21791 13.4271 6.21791C13.1661 6.21791 12.9433 6.28634 12.7587 6.4232C12.5741 6.55688 12.4325 6.75104 12.3338 7.00567C12.2352 7.2603 12.1858 7.57222 12.1858 7.94143Z",fill:"white","stroke-width":"0.25"}),(0,e.h)("path",{d:"M5.87381 7.94143V8.6719C5.87381 9.03793 5.92155 9.34826 6.01704 9.60289C6.1157 9.85752 6.25734 10.0501 6.44195 10.1806C6.62974 10.3111 6.85413 10.3763 7.11513 10.3763C7.34429 10.3763 7.54163 10.3286 7.70714 10.2331C7.87583 10.1344 8.00633 10.0008 8.09863 9.83206C8.19094 9.66337 8.24345 9.4708 8.25618 9.25437H9.75054C9.75054 9.2862 9.75054 9.31802 9.75054 9.34985C9.75054 9.38168 9.75054 9.41192 9.75054 9.44057C9.74099 9.88617 9.62004 10.2777 9.3877 10.615C9.15853 10.9492 8.84661 11.2102 8.45193 11.398C8.05726 11.5826 7.60847 11.6749 7.10558 11.6749C6.49765 11.6749 5.98202 11.5524 5.5587 11.3073C5.13856 11.0622 4.81868 10.7153 4.59907 10.2665C4.38263 9.81774 4.27441 9.2846 4.27441 8.66713V7.94143C4.27441 7.32077 4.38422 6.78605 4.60384 6.33727C4.82346 5.8853 5.14334 5.53677 5.56348 5.29169C5.9868 5.04661 6.50083 4.92407 7.10558 4.92407C7.48434 4.92407 7.83286 4.97818 8.15115 5.0864C8.46944 5.19143 8.74635 5.34421 8.98188 5.54473C9.21741 5.74525 9.40202 5.98556 9.5357 6.26565C9.67256 6.54256 9.74418 6.85289 9.75054 7.19664C9.75054 7.22847 9.75054 7.2603 9.75054 7.29213C9.75054 7.32077 9.75054 7.34942 9.75054 7.37807H8.25618C8.24345 7.15526 8.18934 6.95633 8.09386 6.78128C8.00156 6.60622 7.87265 6.46936 7.70714 6.37069C7.54163 6.26883 7.34429 6.21791 7.11513 6.21791C6.85413 6.21791 6.63133 6.28634 6.44672 6.4232C6.26212 6.55688 6.12048 6.75104 6.02181 7.00567C5.92314 7.2603 5.87381 7.57222 5.87381 7.94143Z",fill:"white","stroke-width":"0.25"}))},32673:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}))},65352:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:r.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))))},46595:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,e.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,e.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,e.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,e.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,e.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,e.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},37096:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:r.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},78041:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}))},71765:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,e.h)("circle",{cx:"12",cy:"12",r:"11.75",fill:"white",stroke:"none"}),(0,e.h)("path",{d:"M12 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},53515:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:r.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))},36377:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,e.h)("circle",{cx:"3.93749",cy:"5.97916",r:"3.4375"}),(0,e.h)("path",{d:"M8.39583 9.49273C8.39583 11.3912 6.85681 12.9302 4.95833 12.9302C3.05985 12.9302 1.52083 11.3912 1.52083 9.49273C1.52083 7.59425 3.05985 6.05523 4.95833 6.05523C6.85681 6.05523 8.39583 7.59425 8.39583 9.49273Z"}),(0,e.h)("path",{d:"M12.4792 9.49273C12.4792 11.3912 10.9402 12.9302 9.04172 12.9302C7.14324 12.9302 5.60422 11.3912 5.60422 9.49273C5.60422 7.59425 7.14324 6.05523 9.04172 6.05523C10.9402 6.05523 12.4792 7.59425 12.4792 9.49273Z"}),(0,e.h)("circle",{cx:"6.99999",cy:"3.9375",r:"3.4375"}),(0,e.h)("circle",{cx:"10.0625",cy:"5.97916",r:"3.4375"}))},51889:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,e.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,e.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,e.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,e.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,e.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},64484:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,e.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,e.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,e.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},15440:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(13808),O=t(34755),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?T(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>D(o,v(n));function c(o){return(0,e.h)(O.l,E(m({},o),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(s.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))}const r=c},89978:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(25380),O=t(34755),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?T(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>D(o,v(n));const r=o=>(0,e.h)(O.l,E(m({},o),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(s.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},63295:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(7617),O=t(34755),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?T(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>D(o,v(n));const r=o=>(0,e.h)(O.l,E(m({},o),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(s.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},97878:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(65207),O=t(34755),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?T(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>D(o,v(n));const r=o=>(0,e.h)(O.l,E(m({},o),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(s.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},12650:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(8618),O=t(34755),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?T(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>D(o,v(n));const r=o=>(0,e.h)(O.l,E(m({},o),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(s.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},43498:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(4675),O=t(34755),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?T(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>D(o,v(n));const r=o=>(0,e.h)(O.l,E(m({},o),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(s.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},11628:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":r.strokeWidth,fill:r.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},73416:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:r.fill,stroke:"none"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:r.fill,stroke:"none"}))},31517:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},95675:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}))},15523:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}))},11762:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,e.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,e.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,e.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,e.h)("g",null,(0,e.h)("g",null,(0,e.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},53597:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"}))},65665:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,e.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,e.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,e.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},84302:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}))},35819:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(o,n,a)=>n in o?O(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,_=(o,n)=>{for(var a in n||(n={}))P.call(n,a)&&l(o,a,n[a]);if(v)for(var a of v(n))M.call(n,a)&&l(o,a,n[a]);return o},m=(o,n)=>T(o,D(n)),E=(o,n)=>{var a={};for(var i in o)P.call(o,i)&&n.indexOf(i)<0&&(a[i]=o[i]);if(o!=null&&v)for(var i of v(o))n.indexOf(i)<0&&M.call(o,i)&&(a[i]=o[i]);return a};const r=o=>{var n=o,{stroke:a}=n,i=E(n,["stroke"]);return(0,e.h)(s.l,m(_({},i),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:a||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:a||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))}},32823:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(o,n,a)=>n in o?O(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,_=(o,n)=>{for(var a in n||(n={}))P.call(n,a)&&l(o,a,n[a]);if(v)for(var a of v(n))M.call(n,a)&&l(o,a,n[a]);return o},m=(o,n)=>T(o,D(n)),E=(o,n)=>{var a={};for(var i in o)P.call(o,i)&&n.indexOf(i)<0&&(a[i]=o[i]);if(o!=null&&v)for(var i of v(o))n.indexOf(i)<0&&M.call(o,i)&&(a[i]=o[i]);return a};const r=o=>{var n=o,{strokeWidth:a=1.5}=n,i=E(n,["strokeWidth"]);return(0,e.h)(s.l,m(_({},i),{strokeWidth:a,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))}},7775:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,e.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,e.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,e.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,e.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,e.h)("defs",null,(0,e.h)("clipPath",{id:"clip0_14802_325807"},(0,e.h)("rect",{width:"24",height:"24",fill:"white"}))))},36543:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareInstagramIcon",svgParams:{height:1e3,width:1e3}}),(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"1000",height:"1000",viewBox:"0 0 264.5833 264.5833","inkscape:version":"1.0.1 (3bc2e813f5, 2020-09-07)","sodipodi:docname":"Instagram_(2022).svg"},(0,e.h)("defs",null,(0,e.h)("radialGradient",{id:"f",cx:"158.429",cy:"578.088",r:"52.3515","xlink:href":"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -4.03418 4.28018 0 -2332.2273 942.2356)",fx:"158.429",fy:"578.088"}),(0,e.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#b",id:"g",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.67441 -1.16203 1.51283 .87801 -814.3657 -47.8354)",cx:"172.6149",cy:"600.6924",fx:"172.6149",fy:"600.6924",r:"65"}),(0,e.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#c",id:"h",cx:"144.012",cy:"51.3367",fx:"144.012",fy:"51.3367",r:"67.081",gradientTransform:"matrix(-2.3989 .67549 -.23008 -.81732 464.9957 -26.4035)",gradientUnits:"userSpaceOnUse"}),(0,e.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#d",id:"e",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(-3.10797 .87652 -.6315 -2.23914 1345.6503 1374.1983)",cx:"199.7884",cy:"628.4379",fx:"199.7884",fy:"628.4379",r:"52.3515"}),(0,e.h)("linearGradient",{"inkscape:collect":"always",id:"d"},(0,e.h)("stop",{offset:"0","stop-color":"#ff005f"}),(0,e.h)("stop",{offset:"1","stop-color":"#fc01d8"})),(0,e.h)("linearGradient",{id:"c"},(0,e.h)("stop",{offset:"0","stop-color":"#780cff"}),(0,e.h)("stop",{"stop-color":"#820bff",offset:"1","stop-opacity":"0"})),(0,e.h)("linearGradient",{"inkscape:collect":"always",id:"b"},(0,e.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,e.h)("stop",{offset:"1","stop-color":"#fc0","stop-opacity":"0"})),(0,e.h)("linearGradient",{id:"a"},(0,e.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,e.h)("stop",{offset:".1242","stop-color":"#fc0"}),(0,e.h)("stop",{offset:".5672","stop-color":"#fe4a05"}),(0,e.h)("stop",{offset:".6942","stop-color":"#ff0f3f"}),(0,e.h)("stop",{offset:"1","stop-color":"#fe0657","stop-opacity":"0"})),(0,e.h)("clipPath",{id:"clipCircle"},(0,e.h)("circle",{cx:"132",cy:"132",r:"132",fill:"#FFFFFF",stroke:"#000000"}))),(0,e.h)("g",null),(0,e.h)("g",{"inkscape:groupmode":"layer","clip-path":"url(#clipCircle)"},(0,e.h)("path",{d:"     M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#e)",transform:" translate(-71.8155 -18.1429)"}),(0,e.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#f)",transform:" translate(-71.8155 -18.1429)"}),(0,e.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#g)",transform:" translate(-71.8155 -18.1429)"}),(0,e.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#h)",transform:" translate(-71.8155 -18.1429)"}),(0,e.h)("path",{d:" M132.3452 33.973c-26.7167 0-30.0696.1167-40.5629.5939-10.4727.4792-17.6212 2.136-23.8762 4.567-6.4701 2.5107-11.9586 5.8693-17.4265 11.3352-5.472 5.464-8.8332 10.9483-11.354 17.4116-2.4389 6.2524-4.099 13.3976-4.5703 23.8585-.4693 10.4854-.5923 13.8379-.5923 40.5348 0 26.697.1189 30.0371.5943 40.5225.4817 10.465 2.1397 17.6082 4.5703 23.8585 2.5147 6.4654 5.8758 11.9497 11.3458 17.4136 5.466 5.468 10.9544 8.8349 17.4204 11.3456 6.259 2.4309 13.4097 4.0877 23.8803 4.567 10.4933.477 13.8441.5938 40.5588.5938 26.7188 0 30.0615-.1167 40.5547-.5939 10.4728-.4792 17.6295-2.136 23.8885-4.567 6.4681-2.5106 11.9484-5.8775 17.4143-11.3455 5.472-5.4639 8.8332-10.9482 11.354-17.4115 2.4183-6.2524 4.0784-13.3976 4.5703-23.8585.4713-10.4854.5943-13.8277.5943-40.5246 0-26.697-.123-30.0473-.5943-40.5328-.4919-10.465-2.152-17.6081-4.5703-23.8584-2.5208-6.4654-5.882-11.9498-11.354-17.4137-5.4721-5.468-10.9442-8.8266-17.4204-11.3353-6.2714-2.4309-13.424-4.0877-23.8967-4.5669-10.4933-.4772-13.8339-.5939-40.5588-.5939zm-8.825 17.7147c2.6193-.0041 5.5418 0 8.825 0 26.2659 0 29.379.0942 39.7513.5652 9.5915.4383 14.7971 2.0397 18.2648 3.3852 4.5908 1.7817 7.8638 3.9116 11.3048 7.3521 3.4431 3.4406 5.5745 6.7173 7.3617 11.3046 1.3465 3.461 2.9512 8.6628 3.3877 18.2472.4714 10.3625.5739 13.4754.5739 39.7095 0 26.234-.1025 29.347-.5739 39.7095-.4386 9.5843-2.0412 14.7861-3.3877 18.2471-1.783 4.5874-3.9186 7.8539-7.3617 11.2923-3.443 3.4406-6.712 5.5704-11.3048 7.3521-3.4636 1.3517-8.6733 2.949-18.2648 3.3873-10.3702.471-13.4854.5734-39.7513.5734-26.2679 0-29.381-.1024-39.7513-.5734-9.5914-.4423-14.797-2.0438-18.2668-3.3893-4.5908-1.7817-7.87-3.9116-11.313-7.3521-3.4431-3.4405-5.5745-6.709-7.3617-11.2985-1.3465-3.461-2.9512-8.6628-3.3877-18.2471-.4714-10.3626-.5657-13.4754-.5657-39.7259 0-26.2504.0943-29.347.5657-39.7095.4386-9.5844 2.0412-14.7861 3.3877-18.2512 1.783-4.5874 3.9186-7.8641 7.3617-11.3046 3.443-3.4406 6.7222-5.5704 11.313-7.3562 3.4677-1.3517 8.6754-2.949 18.2668-3.3894 9.075-.4096 12.5919-.5324 30.9264-.553zm61.3363 16.322c-6.5173 0-11.805 5.2776-11.805 11.792 0 6.5125 5.2877 11.7962 11.805 11.7962 6.5172 0 11.8049-5.2837 11.8049-11.7962 0-6.5124-5.2877-11.796-11.805-11.796zm-52.5113 13.7826c-27.8993 0-50.5191 22.6031-50.5191 50.4817 0 27.8786 22.6198 50.4714 50.5191 50.4714s50.511-22.5928 50.511-50.4714c0-27.8786-22.6137-50.4817-50.513-50.4817zm0 17.7147c18.109 0 32.7914 14.6694 32.7914 32.767 0 18.0956-14.6824 32.767-32.7914 32.767-18.111 0-32.7913-14.6714-32.7913-32.767 0-18.0976 14.6803-32.767 32.7913-32.767z","inkscape:connector-curvature":" 0",fill:" #fff"}))))},17835:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,e.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,e.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,e.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,e.h)("defs",null,(0,e.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,e.h)("stop",{"stop-color":"#FF6719"}),(0,e.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,e.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,e.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,e.h)("clipPath",{id:"clip0_23936_14598"},(0,e.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,e.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,e.h)("defs",null,(0,e.h)("clipPath",{id:"clip0_14802_325810"},(0,e.h)("rect",{width:"24",height:"24",fill:"white"}))))},15516:(Y,C,t)=>{t.d(C,{Z:()=>o});var e=t(6400),s=t(22850),O=t(34755),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(n,a,i)=>a in n?T(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i,m=(n,a)=>{for(var i in a||(a={}))M.call(a,i)&&_(n,i,a[i]);if(P)for(var i of P(a))l.call(a,i)&&_(n,i,a[i]);return n},E=(n,a)=>D(n,v(a)),c=(n,a)=>{var i={};for(var d in n)M.call(n,d)&&a.indexOf(d)<0&&(i[d]=n[d]);if(n!=null&&P)for(var d of P(n))a.indexOf(d)<0&&l.call(n,d)&&(i[d]=n[d]);return i};const o=n=>{var a=n,{svgParams:i}=a,d=c(a,["svgParams"]);return(0,e.h)(O.l,E(m({},d),{name:"SubstackIcon",svgParams:m({height:1e3,width:1e3,fill:s.Hu,stroke:"none"},i)}),(0,e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))}},33705:(Y,C,t)=>{t.d(C,{Z:()=>o});var e=t(6400),s=t(22850),O=t(34755),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(n,a,i)=>a in n?T(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i,m=(n,a)=>{for(var i in a||(a={}))M.call(a,i)&&_(n,i,a[i]);if(P)for(var i of P(a))l.call(a,i)&&_(n,i,a[i]);return n},E=(n,a)=>D(n,v(a)),c=(n,a)=>{var i={};for(var d in n)M.call(n,d)&&a.indexOf(d)<0&&(i[d]=n[d]);if(n!=null&&P)for(var d of P(n))a.indexOf(d)<0&&l.call(n,d)&&(i[d]=n[d]);return i};const o=n=>{var a=n,{color:i=s.Hu}=a,d=c(a,["color"]);return(0,e.h)(O.l,E(m({},d),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:i,stroke:"none"}}),(0,e.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,e.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,e.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,e.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,e.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,e.h)("path",{d:"M16 0H0V2H16V0Z"}))},59736:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))},95950:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(34755),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const c=r=>(0,e.h)(s.l,m(_({},r),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,e.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,e.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},49786:(Y,C,t)=>{t.d(C,{hF:()=>K,_q:()=>W,xt:()=>Z,G0:()=>U,RH:()=>B});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(36808),v=t(34988),P=t(19072),M=t(59009),l=t(85928),_=t.n(l),m=t(20501),E=t(83322),c=t(63270),r=t(3258),o=t(36868),n=t(17025),a=t(84040),i=t(51126),d=t(62246),p=t(43887);const f={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var u=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,b=(R,S,N)=>S in R?u(R,S,{enumerable:!0,configurable:!0,writable:!0,value:N}):R[S]=N,I=(R,S)=>{for(var N in S||(S={}))y.call(S,N)&&b(R,N,S[N]);if(g)for(var N of g(S))L.call(S,N)&&b(R,N,S[N]);return R};const A=P.Ic.LIKE_UPSELL_LAST_SHOWN_AT,U=()=>{const R=D.get(A);if(R){const S=_()(R),N=_()().subtract(30,"days");if(S.isAfter(N))return!1}return!0},B=R=>{D.set(A,_()().format(),I({expires:365*10},!R.custom_domain&&{domain:`.${new URL((0,m.getBaseUrl)()).hostname}`}))},W=({pub:R})=>{var S,N;const j=(0,c.xR)(),[H,x]=(0,s.eJ)((S=R==null?void 0:R.plans)==null?void 0:S[0]),F=j.getConfigFor("disable_monthly_subscriptions"),w=j.getConfigFor("disable_annual_subscriptions");return(0,e.h)(i.tu,{gap:20},(0,e.h)(i.tu,{gap:4},(0,e.h)(p.xv.H4,{weight:"semibold"},"Support ",R.name),(0,e.h)(p.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",R.name," with a subscription?")),(0,e.h)("form",{className:f.form},(0,e.h)(i.tu,{gap:12},(N=R==null?void 0:R.plans)==null?void 0:N.map(V=>{if(!(V.interval==="month"&&F)&&!(V.interval==="year"&&w))return(0,e.h)("label",{className:f.label,key:V.id},(0,e.h)(i.gq,{gap:12,alignItems:"center"},(0,e.h)("input",{name:"plan",type:"radio",value:V.id,onInput:()=>x(V),checked:H&&H.id===V.id,className:T()({[f.selectedInput]:H&&H.id===V.id},f.input)}),(0,e.h)(i.gq,{gap:8},(0,e.h)(p.xv.B4,{as:"span",weight:"semibold",color:H&&H.id===V.id?"primary":"secondary"},(0,E.getPlanTitle)(V,R.language)),(0,e.h)(p.xv.B4,{as:"span",color:"secondary"},(0,E.planBasePricing)(V)))))}))),(0,e.h)(a.zx,{onClick:()=>{(0,r.track)(r.EVENTS.LIKE_UPSELL_PLAN_SELECTED),(0,n.redirect)((0,m.getSubscribeUrl)(R,{params:I({utm_source:M.UTM_SOURCE.likeButtonUpsell},H&&{selectedPlanId:H.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},Z=({pub:R,onClose:S,shareDialogRef:N})=>(0,e.h)(i.tu,{gap:20},(0,e.h)(i.tu,{gap:4},(0,e.h)(p.xv.H4,{weight:"semibold"},"Share this post with a friend"),(0,e.h)(p.xv.B4,{color:"secondary"},"Since you liked this post, why not share it to help spread the word?")),(0,e.h)(a.zx,{onClick:()=>{var j;(0,r.track)(r.EVENTS.LIKE_UPSELL_SHARE_CLICKED),(j=N.current)==null||j.open(),S==null||S()},grow:!0,priority:"primary-theme"},"Share")),K=({user:R,pub:S,post:N})=>{const j=(0,s.sO)(),H=U(),[x,F]=(0,s.eJ)(H),[w,V]=(0,s.eJ)(H);(0,s.d4)(()=>{(!H||R!=null&&R.is_contributor||R!=null&&R.is_admin)&&(0,n.removeQueryParam)("show_reaction_upsell")},[H,R]),(0,s.d4)(()=>{w&&x&&((0,r.track)(r.EVENTS.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:(0,o.P)(R,S)?"share":"paid"}),B(S))},[w,x,S,R]);const $=()=>{F(!x),V(!1),(0,n.removeQueryParam)("show_reaction_upsell")};return R&&!R.is_contributor&&!R.is_admin&&w?(0,e.h)(e.Fragment,null,(0,e.h)(d.u_,{isOpen:x,onClose:$},(0,e.h)(d.fe,null,(0,o.P)(R,S)?(0,e.h)(Z,{pub:S,onClose:$,shareDialogRef:j}):(0,e.h)(W,{pub:S}))),(0,e.h)(v.ZP,{ref:j,user:R,pub:S,post:N})):null}},65726:(Y,C,t)=>{t.d(C,{Z:()=>_});var e=t(6400),s=Object.defineProperty,O=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,v=(m,E,c)=>E in m?s(m,E,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[E]=c,P=(m,E)=>{for(var c in E||(E={}))T.call(E,c)&&v(m,c,E[c]);if(O)for(var c of O(E))D.call(E,c)&&v(m,c,E[c]);return m},M=(m,E)=>{var c={};for(var r in m)T.call(m,r)&&E.indexOf(r)<0&&(c[r]=m[r]);if(m!=null&&O)for(var r of O(m))E.indexOf(r)<0&&D.call(m,r)&&(c[r]=m[r]);return c};const _=m=>{var E=m,{children:c,href:r,onClick:o}=E,n=M(E,["children","href","onClick"]);return(0,e.h)("a",P(P({role:"button",tabIndex:0,href:r!=null?r:"javascript:void(0)"},o&&{onClick:a=>{a.stopPropagation(),o(a)}}),n),c)}},7817:(Y,C,t)=>{t.d(C,{v2:()=>B});var e=t(6400),s=t(94184),O=t.n(s),T=t(83322),D=t(42849),v=t(52743),P=t(20501),M=t(73175),l=t(28488),_=t(32076),m=t(3258),E=t(17025),c=t.n(E),r=t(43887),o=t(44396),n=t(19694),a=t(62396),i=t(3313),d=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,g=(H,x,F)=>x in H?d(H,x,{enumerable:!0,configurable:!0,writable:!0,value:F}):H[x]=F,y=(H,x)=>{for(var F in x||(x={}))f.call(x,F)&&g(H,F,x[F]);if(p)for(var F of p(x))u.call(x,F)&&g(H,F,x[F]);return H},L,b,I,A;const U=t(74806);class B extends e.Component{constructor(){super(...arguments),this.menuHeight=0,this.state={animated:!0,hiding:!!(typeof window!="undefined"&&((b=(L=window.location.hash)==null?void 0:L.startsWith)!=null&&b.call(L,"#footnote")||(A=(I=window.location.hash)==null?void 0:I.startsWith)!=null&&A.call(I,"#tiktok")))},this.onClick=x=>{var F,w;((F=x.target)!=null&&F.classList.contains("footnote-number")||(w=x.target)!=null&&w.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))},this.onResize=()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const x=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,F=document.body.clientWidth,w=this.buttonsContainer.getBoundingClientRect().width,V=F>630,$=V?24*2:12*2,k=V&&.5*F-w-$>.5*x;this.setState({buttonsContainerWidth:k?`${w}px`:"auto",centerTitle:k})},this.onScroll=()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const x=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const F=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,E.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,E.maxScroll)()))if(this.scrollTop<x){const w=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>F?(this.menuTop=F,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<w)&&(this.menuTop=w,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>x&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=F,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<F-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))},this.onHeadlineClick=x=>{(0,m.track)(m.EVENTS.NAV_BAR_HOME_LINK_CLICKED)},this.hide=()=>{const x=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=x-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})}}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return U.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:x,freeSignup:F,freeSignupEmail:w,hideNavbarSearch:V,hideTitle:$,hide_subscribe_cta:k,isAccountContext:G,isMeetingsActive:Q,isPublishContext:q,lowChrome:z,pub:J,showCustomerSupportModeModal:te,signupForFreeVariant:oe,user:ie},{animated:re,buttonsContainerWidth:ue,centerTitle:ce}){const Ee=J,se=typeof window=="undefined",ne=!0;return(0,e.h)("div",{"data-testid":"navbar",className:O()("main-menu",x,{animated:re,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":z})},(0,e.h)("div",{className:"main-menu-content",ref:ee=>this.menuContent=ee},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},!z&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:O()("navbar-logo-container",Ee.logo_url?"":"no-logo"),style:{width:ue}},Ee.logo_url&&(0,e.h)("a",{href:G||q?(0,P.getBaseUrl)(Ee):"/",onClick:this.onHeadlineClick,native:ne},(0,e.h)("img",{className:"navbar-logo",src:(0,P.imginary)(Ee.logo_url,96)}))),!$&&(0,e.h)("h1",{className:O()("navbar-title",{"left-align":!ce,loading:se})},(0,e.h)("a",{className:"navbar-title-link",href:G||q?(0,P.getBaseUrl)(Ee):"/",ref:ee=>this.largeMenuPubTitle=ee,native:ne},Ee.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${Ee?"":"substack-logo-wordmark"}`,src:(0,P.imginary)(Ee?Ee.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:Ee?Ee.name:"Substack"}):Ee.name)),(0,e.h)(n.Z,{baseRef:ee=>this.buttonsContainer=ee,freeSignup:F,freeSignupEmail:w,hideSearch:q||!!V,hide_subscribe_cta:k,isAccountContext:G,isMeetingsActive:Q,isPublishContext:q,pub:J,showCustomerSupportModeModal:te,signupForFreeVariant:oe,user:ie}))),this.shouldShowSectionsNavBar()&&(0,e.h)(Z,y({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}B.contextType=M.WH;const W=({title:H})=>{const x=useMobile();return h(Text,{size:x?14:24,weight:"light",as:"span"},h("span",null," | "),H)};function Z({isPublishContext:H,pub:x,user:F,isChatActive:w,isMeetingsActive:V,hasMeetingsBooked:$,selectedSectionId:k}){const{language:G}=(0,l.M1)(),{getSettingFor:Q}=(0,_.So)(),q=Q("notes_feed_enabled"),z=!!(Q("reader_referrals_enabled")&&Q("reader_referrals_leaderboard_enabled")),J=Q("group_sections_and_podcasts_in_menu_enabled"),te=(0,D.Rx)(x.navigationBarItems||[],{isFeedEnabled:q,isPodcastActive:x.podcast_enabled&&x.show_pub_podcast_tab,isChatActive:w,isChatEnabled:!!x.threads_v2_enabled,isMeetingsActive:V,hasMultipleNewsletters:x.sections&&x.sections.length>0,isReaderReferralsLeaderboardActive:z,language:G}).filter(ie=>!ie.is_hidden),oe=H?K({isAdmin:!!(F!=null&&F.is_admin),pub:x,showMeetings:V||$,language:G}):R({groupNewsletters:J,navBarItems:te,pub:x,language:G});return(0,e.h)(a.Z,{pub:x,selectedSectionId:k,sectionRawItems:oe,isPublishContext:H})}const K=({isAdmin:H,pub:x,showMeetings:F,language:w})=>{const{iString:V}=I18N.i(w),$=[];return $.push({id:"/publish/home",url:(0,P.getDashboardHomeUrl)(x,{addBase:!0}),name:V("Home")}),$.push({id:"/publish/posts",url:"/publish/posts",name:V("Posts")},{id:"/publish/podcasting",url:(0,v.getPodcastingUrl)(x,{addBase:!0}),name:V("Podcast")},{id:"/publish/subscribers",url:(0,v.getSubscriberStatsUrl)(x,{addBase:!0}),name:V("Subscribers")}),H&&($.push({id:"/publish/stats",url:"/publish/stats",name:V("Stats")}),$.push({id:"/publish/recommendations",url:"/publish/recommendations",name:V("Recommendations")}),F&&$.push({id:"/publish/meetings",url:"/publish/meetings",name:V("Meetings")}),$.push({id:"/publish/settings",url:(0,P.getPublishSettingsUrl)(x,{addBase:!0}),name:V("Settings")})),$},R=({groupNewsletters:H=!1,navBarItems:x,pub:F,language:w})=>{const{iString:V}=I18N.i(w),$=[];let k=[];$.push({id:"/home",url:"/",name:V("Home")}),F.podcast_enabled&&F.show_pub_podcast_tab&&k.push({id:"/podcast",url:"/podcast",name:V("Podcast"),isPodcast:!0});for(const G of x){const Q=(0,D.Hs)(G);G.section?k.push(G.section):k.push({id:(0,P.getNavigationBarItemUrl)(F,G,{addBase:!1}),url:(0,P.getNavigationBarItemUrl)(F,G,{addBase:!G.standard_key}),name:(0,D.ye)(G),noFollow:!G.standard_key&&Q==="link"})}return H?k=j({items:k,groups:[{name:V("Newsletters"),condition:G=>S({item:G,pub:F})},{name:V("Podcasts"),condition:G=>N(G)}]}):(0,i.VL)({pub:F})&&(k=j({items:k,groups:[{name:V("Newsletters"),condition:G=>G.type==="newsletter"},{name:V("Podcasts"),condition:G=>G.type==="podcast"}]})),[...$,...k]},S=({item:H,pub:x})=>(0,T.sectionIsSpecificallyMarkedAsNewsletter)({section:H,pub:x})?!0:!H.subItems&&!H.base_url&&!(H.name&&H.id&&H.url)&&!H.is_podcast,N=H=>H.isPodcast||!H.subItems&&!H.base_url&&!(H.name&&H.id&&H.url)&&H.is_podcast,j=({items:H,groups:x})=>{const F=[];let w=H;for(const V of x){const $=H.filter(V.condition);$.length>0&&(F.push({name:V.name,subItems:$}),w=w.filter(k=>!V.condition(k)))}return[...F,...w]}},47386:(Y,C,t)=>{t.d(C,{V:()=>l});var e=t(6400),s=t(94184),O=t.n(s),T=t(53515),D=t(25018),v=t(13045),P=t(52743),M=t(90457);const l=({newsletter:m,hideLink:E=!1,onToggle:c,onClick:r})=>{const{isMobile:o}=(0,D.v9)();r&&c&&console.error("you cannot pass both onToggle and onClick");const n=i=>{i.stopPropagation(),c==null||c({sectionId:m.sectionId,isSelected:!m.selected})},a=!!c;return o?(0,e.h)(_,{newsletter:m,hideLink:E,onClick:r,onToggle:c}):(0,e.h)(v.tu,{className:O()(M.Z.container,{[M.Z.selectedContainer]:a&&m.selected,[M.Z.selectableContainer]:a,[M.Z.clickableContainer]:!!r}),justifyContent:"space-between",radius:12,padding:16,onClick:a?n:r!=null?r:void 0},a&&m.selected?(0,e.h)(T.Z,{className:O()(M.Z.selector)}):a?(0,e.h)("div",{className:O()(M.Z.unselected,M.Z.selector)}):null,(0,e.h)(v.tu,{gap:24},m.logoUrl&&(0,e.h)("div",{className:M.Z.img},m.logoUrl&&(0,e.h)("img",{className:M.Z.img,src:(0,P.imginary)(m.logoUrl,64)})),(0,e.h)(v.tu,{gap:8},(0,e.h)(v.xv.H3,{paddingRight:m.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},m.name),(0,e.h)(v.xv.B4,{color:"pub-secondary-text",clamp:4},m.description))),!E&&(0,e.h)(v.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:M.Z.seeLatest,href:m.linkUrl,native:!0},"See the latest")))},_=({newsletter:m,hideLink:E,onClick:c,onToggle:r})=>{const o=!!r,n=a=>{a.stopPropagation(),r==null||r({sectionId:m.sectionId,isSelected:!m.selected})};return(0,e.h)(v.tu,{className:O()(M.Z.containerMobile,{[M.Z.selectedContainer]:o&&m.selected,[M.Z.selectableContainer]:o,[M.Z.clickableContainer]:!!n}),justifyContent:"space-between",radius:12,padding:16,onClick:o?n:c!=null?c:void 0},o&&m.selected?(0,e.h)(T.Z,{className:O()(M.Z.selector)}):o?(0,e.h)("div",{className:O()(M.Z.unselected,M.Z.selector)}):null,(0,e.h)(v.tu,{gap:8},(0,e.h)(v.gq,{gap:8},m.logoUrl&&(0,e.h)("img",{className:M.Z.imgMobile,src:(0,P.imginary)(m.logoUrl,64)}),(0,e.h)(v.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},m.name)),(0,e.h)(v.xv.B4,{color:"secondary",clamp:2,font:"text"},m.description)),!E&&(0,e.h)(v.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:m.linkUrl,native:!0},"See the latest")))}},18429:(Y,C,t)=>{t.d(C,{t:()=>M});var e=t(6400),s=t(28488),O=t(17025),T=t.n(O),D=t(51126),v=t(47386),P=t(35486);const M=({newsletters:l,hideLinks:_,onNewsletterClick:m,justifyItems:E})=>{const{iString:c}=(0,s.M1)();return(0,e.h)(D.gq,{className:P.Z.container,wrap:"wrap",justifyContent:E,gap:24},l.length===0&&(0,e.h)("div",null,c("No additional newsletters")),l.map((r,o)=>(0,e.h)(v.V,{newsletter:r,key:o,hideLink:_,onToggle:m?({sectionId:n,isSelected:a})=>{m({sectionId:n,isSelected:a})}:void 0,onClick:_?void 0:()=>{(0,O.redirect)(r.linkUrl,{local_navigation:!1})}})))}},43011:(Y,C,t)=>{t.d(C,{l:()=>f});var e=t(6400),s=t(94184),O=t.n(s),T=t(3313),D=t(74806),v=t(59009),P=t(52743),M=t(20501),l=t(13045),_=t(18429),m=t(73536),E=Object.defineProperty,c=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(u,g,y)=>g in u?E(u,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):u[g]=y,d=(u,g)=>{for(var y in g||(g={}))n.call(g,y)&&i(u,y,g[y]);if(o)for(var y of o(g))a.call(g,y)&&i(u,y,g[y]);return u},p=(u,g)=>c(u,r(g));const f=({pub:u,user:g})=>{const y=(0,D.getNewslettersForSubscribeFromPub)({pub:u,includeMainPub:!0,excludePodcasts:(0,T.VL)({pub:u})}).map(L=>p(d({},L),{linkUrl:(0,P.updateQuery)(L.linkUrl,{utm_source:v.UTM_SOURCE.newsletterPage}),selected:L.defaultOn}));return y.length===0?(typeof window!="undefined"&&(window.location.href=(0,M.getBaseUrl)(u)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:O()("page","typography",m.Z.container)},(0,e.h)(l.tu,null,(0,e.h)(l.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(l.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(l.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(l.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",u.name," in your inbox.",g!=null&&g.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:m.Z.accountLink,href:(0,P.getPubAccountSettingsUrl)(u),native:!0},"account settings"),"."):"")),(!g||!g.is_subscribed)&&(0,e.h)(l.zx,{priority:"primary-theme",href:(0,P.getSubscribeUrl)(u,{addBase:!0,utm_source:v.UTM_SOURCE.newsletterPage}),localNavigation:!1},"Subscribe")),(0,e.h)(l.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:m.Z.newsletterList},(0,e.h)(_.t,{newsletters:y,hideLinks:!1,justifyItems:"start"}))))}},93804:(Y,C,t)=>{t.d(C,{E5:()=>dt,SO:()=>Ue,_q:()=>Ke,lO:()=>Fe,mV:()=>Qe});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(59543),v=t(80569),P=t.n(v),M=t(12041),l=t(82626),_=t(85928),m=t.n(_),E=t(74806),c=t(6385),r=t(52743),o=t(20501),n=t(76193),a=t(83322),i=t(43615),d=t(4190),p=t(73175),f=t(28488),u=t(32076),g=t(3258),y=t(39776),L=t(36868),b=t(17025),I=t.n(b),A=t(13045),U=t(84040),B=t(92271),W=t(95297),Z=t(35813),K=t(42433),R=t(62289),S=t(75466),N=t(7922),j=t(37767),H=t(41889),x=t(45809),F=t(90955),w=t(80012),V=t(12869),$=t(44109),k=t(27165),G=t(31058),Q=t(51671),q=t(80332),z=t(61772),J=t(19070),te=t(34988),oe=t(75223),ie=t(61866),re=t(5586),ue=t(37812),ce=t(25346),Ee=t(65162),se=t(50491),ne=t(59009),ee=t(84323),ae=t(8479),he=Object.defineProperty,me=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,Pe=(Ne,Le,Ae)=>Le in Ne?he(Ne,Le,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):Ne[Le]=Ae,De=(Ne,Le)=>{for(var Ae in Le||(Le={}))Oe.call(Le,Ae)&&Pe(Ne,Ae,Le[Ae]);if(ve)for(var Ae of ve(Le))Me.call(Le,Ae)&&Pe(Ne,Ae,Le[Ae]);return Ne},We=(Ne,Le)=>me(Ne,ge(Le)),ye=(Ne,Le,Ae)=>new Promise((je,Ie)=>{var xe=ot=>{try{ft(Ae.next(ot))}catch(_t){Ie(_t)}},$e=ot=>{try{ft(Ae.throw(ot))}catch(_t){Ie(_t)}},ft=ot=>ot.done?je(ot.value):Promise.resolve(ot.value).then(xe,$e);ft((Ae=Ae.apply(Ne,Le)).next())});const Fe="focus-comment-input",Ze=["details","comments"],Te=(Ne,Le)=>Ne&&!Ne.invite_only&&Le&&Le.has_publication&&!Le.is_admin&&!Le.is_contributor&&!Le.is_public_admin&&(0,L.P)(Le,Ne),Ve=(Ne,Le,Ae,je)=>Ne.payments_state==="enabled"?!(Le!=null&&Le.is_subscribed):Le!=null&&Le.is_free_subscribed&&Ne.payments_state==="disabled"&&!Ne.invite_only?!je&&Ae&&!(Le!=null&&Le.is_pledged):!(Le!=null&&Le.is_free_subscribed);class Re extends e.Component{constructor(Le,Ae){var je,Ie,xe,$e;super(Le,Ae),this.onTopReached=ot=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,g.trackPostSeen)({post:this.props.post,hasPaywall:ot,surface:"publication",markRead:this.props.user&&!this.props.noPageView}))},this.onTranscriptionClick=()=>{this.setState(ot=>({showTranscription:!ot.showTranscription}))},this.onCommentButtonClicked=ot=>{var _t,ct;if(this.props.post.type==="podcast"){ot.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),(ct=(_t=this.props)==null?void 0:_t.setTab)==null||ct.call(_t,"comments"),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var at;(at=this.podcastCommentInput.current)==null||at.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(ot.stopPropagation(),ot.preventDefault(),document.dispatchEvent(new CustomEvent(Fe)))},this.handleClickTab=ot=>{var _t,ct;this.setState({activeTab:ot}),(ct=(_t=this.props)==null?void 0:_t.setTab)==null||ct.call(_t,ot),ot==="comments"&&!this.state.podcastComments&&this.loadComments()},this.handleAddPodcastComment=ot=>{this.setState({podcastComments:[ot].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})},this.handleUpdatePodcastComments=ot=>{let _t=0;const ct=(Ut,Ft)=>Ut.map(Ot=>Ot.id===Ft.id?(Ft.status==="deleted"?_t-=1:_t+=Ft.children.length-Ot.children.length,Ft):We(De({},Ot),{children:ct(Ot.children,Ft)})),at=ct(this.state.podcastComments,ot);this.setState({podcastComments:at,addedPodcastComments:this.state.addedPodcastComments+_t})},this.handleUpdateSortPodcastComments=ot=>{(0,g.track)(g.EVENTS.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:ot}),this.setState({commentSort:ot},()=>{this.loadComments()})};const ft=(0,b.getUrlHash)();this.state={showTranscription:!1,autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(je=Le.post.default_comment_sort)!=null?je:"best_first",activeTab:Ze.includes(ft)?ft:"details",loadedWithHeaderLink:typeof window!="undefined"&&((Ie=window.location.hash)==null?void 0:Ie.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null,feedUrl:null,clippingMode:!1,shouldShowSubscribePrompt:!1,shouldShowFollowPrompt:!1},($e=(xe=this.props)==null?void 0:xe.setTab)==null||$e.call(xe,Ze.includes(ft)?ft:"details"),!Le.paywall&&!Le.post.hidden&&Le.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=it(Le.post.body_html),this.state.truncated=Le.truncateAt?st(Le.post.body_html,Le.truncateAt,Le.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,r.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,r.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,r.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,r.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.videoPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=Te(Le.pub,Le.user)}loadReactors(){return ye(this,null,function*(){const[Le,Ae]=yield Promise.all([P().get(`/api/v1/post/${this.props.post.id}/reactors`),P().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:Le.body,restackers:Ae.body})})}componentDidMount(){return ye(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,a.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,g.track)(g.EVENTS.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,g.triggerPostPagePingBacks)({post:this.props.post});const Le=(0,r.getQueryItem)("subscribe_prompt");Le&&(Le==="paid"?this.props.popToast(Ae=>(0,e.h)(A.FN,We(De({},Ae),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(Ae=>(0,e.h)(A.FN,We(De({},Ae),{text:`Subscribed to ${this.props.pub.name}`})))),this.setPostPromptState()})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return ye(this,null,function*(){const Le={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const Ae=yield P().get(`/api/v1/post/${this.props.post.id}/comments`).query(Le);this.setState({podcastComments:Ae.body.comments})}catch(Ae){alert((0,b.getNetworkErrorMessage)(Ae))}})}setPostPromptState(){return ye(this,null,function*(){const Le=this.props.post.type==="newsletter"&&this.props.getSettingFor("enable_post_page_conversion")===!0&&!this.props.disableSubscribePrompt&&!(0,b.getUrlHash)()&&!this.props.readerIsSearchCrawler,{pub:Ae,user:je,referringUser:Ie}=this.props;let xe=[];if(je)try{xe=yield(0,ae.rd)("/api/v1/feed/following")}catch(ot){}let $e=Le&&Ie&&Ie.name&&Ie.id!==(je==null?void 0:je.id)&&!xe.includes(Ie.id)&&Ae.contributors.every(ot=>ot.user_id!==Ie.id);$e&&!je&&((this.context.getExperimentVariant("app_upsell_follow_prompt")||"control")==="control"&&($e=!1),this.context.exposeExperiment("app_upsell_follow_prompt"));const ft=Le&&!$e&&!this.props.paywall&&!this.props.freeSignup&&!je;this.setState({shouldShowFollowPrompt:$e,shouldShowSubscribePrompt:ft})})}triggerShare({fromEmail:Le}={}){Le?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(Le){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,g.trackPostBottomSeen)({post:this.props.post,hasPaywall:Le,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:Le,user:Ae,pub:je,getSettingFor:Ie}=this.props,{canShowSubscribeFooterAfterPost:xe}=this.state;return Le&&xe?Ve(je,Ae,Ie("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const Le=document.createElement("div");Le.innerHTML=this.props.post.body_html;const Ae=this.props.pub.post_preview_limit||a.DEFAULT_PREVIEW_LIMIT;let je="",Ie=!1;for(let xe=Le.childNodes.length-1;xe>=0;xe--){const $e=Le.childNodes[xe];if(je+=$e.textContent,je.length>Ae){Ie=!0;break}}return Ie}render({commentsEnabled:Le,user:Ae,pub:je,post:Ie,freeSignup:xe,freeSignupEmail:$e,isServingFreePodcastUrl:ft,isShowsPost:ot,reaction_token:_t,invisible:ct,paywall:at,onChange:Ut,hideTitle:Ft,noTitleLink:Ot,showComments:tt,fromPostPage:It,freeTrialCoupon:Kt,showRestackModal:qt,stripe_publishable_key:Lt,crossPostInfo:wt,iString:bt,iTemplate:Dt,themeVariables:$t,referringUser:zt,renderComments:Vt,renderContent:ao,getSettingFor:ut},{showTranscription:yt,activeTab:Zt,loadedWithHeaderLink:St,truncated:co,coupon:To,autoPlay:de,autoPlayVoiceOver:fe,podcastComments:Ce,commentSort:be,addedPodcastComments:we,reactors:ze,restackers:Xe,shouldShowFollowPrompt:lt,shouldShowSubscribePrompt:Je}){var ht,Wt,gt,At;const Rt=(0,n.isMobile)({checkFirst4:!0}),so=(0,y.default)("like_posts_enabled"),Gt=(0,y.default)("allow_video_transcription"),Xt=this.state.clippingMode,eo=Po=>this.setState({clippingMode:Po}),jt=!at||at&&this.shouldTrackPaywallPostSeen(),Yt=Ie.type==="video"&&(at?F.PE:ce.Z),to=Ie.type==="video"&&Gt&&!at&&((ht=Ie.videoUpload)==null?void 0:ht.transcription),lo=Ie.type==="podcast"&&(Le||!!((Wt=Ie.podcastUpload)!=null&&Wt.transcription)||!!Ie.videoUpload),Jt=Ie.comment_count+we,fo=this.shouldShowUFI(),oo=Pt(Ie),no=ze?ze.length>0:!1,xt=!!(ut("paywall_unlock_tokens")&&at&&Ae&&(Ae!=null&&Ae.is_free_subscribed||xe)&&!Ae.reader_installed_at);xt&&this.context.getConfigFor("paywall_post_unlock_experiment")==="experiment"&&this.context.exposeExperiment("paywall_post_unlock_prompt");const kt=xt&&(this.context.getConfigFor("paywall_post_unlock_experiment")==="treatment"||this.context.getConfigFor("paywall_post_unlock_experiment")==="experiment"&&this.context.getExperimentVariant("paywall_post_unlock_prompt")==="treatment");let ro="";Ie.type==="video"?ro=Ie.audience==="founding"&&(0,E.getFoundingTierName)(je)?Dt`The full video is for subscribers in the ${(0,E.getFoundingTierName)(je)} plan`:Ie.audience==="founding"?Dt`The full video is for subscribers in the Founding Member plan`:Dt`The full video is for paid subscribers`:Ie.type==="adhoc_email"?ro=Ie.audience==="founding"&&(0,E.getFoundingTierName)(je)?Dt`This email is for subscribers in the ${(0,E.getFoundingTierName)(je)} plan`:Ie.audience==="founding"?Dt`This email is for subscribers in the Founding Member plan`:Dt`This email is for paid subscribers`:kt?ro=Dt`This post is for paid subscribers. You can unlock 1 post for free.`:ro=Ie.audience==="founding"&&(0,E.getFoundingTierName)(je)?Dt`This post is for subscribers in the ${(0,E.getFoundingTierName)(je)} plan`:Ie.audience==="founding"?Dt`This post is for subscribers in the Founding Member plan`:Dt`This post is for paid subscribers`;const mo=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"available-content"},yt?(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(M.Z,{post:Ie,pub:je,user:Ae,playerRef:this.videoPlayer})):(0,e.h)(z.Z,{html:co||Ie.body_html,pub:je,trackSelection:!0,user:Ae,freeSignup:xe,freeSignupEmail:$e,post:Ie,paywall:at,showing_behind_paywall:!!Ie.post_paywall_content_for_google,themeVariables:$t})),Ie.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)(z.Z,{html:Ie.post_paywall_content_for_google,pub:je,trackSelection:!1,user:Ae,freeSignup:xe,freeSignupEmail:$e,post:Ie,paywall:at})),!ct&&jt&&(0,e.h)(Ee.Z,{onVisible:()=>this.onBottomReached(at)})),Oo=(0,e.h)(F.f1,De({user:Ae,freeSignupEmail:$e,freeSignup:xe,publication:je,post:Ie,fromPostPage:It,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Kt:null,shouldShowPostUnlockPrompt:kt,magicToken:_t},Object.assign({title:ro,reauthenticationTitle:bt("To read this, please re-authenticate.")},at)));return(0,e.h)("article",{className:T()(`typography ${Ie.type}-post post`,{"tw-p-0":Ie.type==="podcast","shows-post":ot}),ref:this.containerRef},(Ae==null?void 0:Ae.is_contributor)&&(Ie==null?void 0:Ie.id)&&(Ie==null?void 0:Ie.type)==="page"&&(0,e.h)(B.z,{variant:"themed-secondary",href:(0,o.getEditPostUrlById)(je,Ie.id,Ie.editor_v2,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(D.Z,{size:20})},"Edit"),(0,e.h)(rt,{post:Ie,user:Ae,onChange:Ut}),(0,e.h)(te.ZP,{ref:this.shareDialogRef,user:Ae,pub:je,post:Ie,reaction_token:_t,source:"email-share"}),lt&&(0,e.h)(ee.yi,{pub:je,post:Ie,referringUser:zt}),Je&&(0,e.h)(ie.H,{pub:je,post:Ie,stripe_publishable_key:Lt,sharer:zt}),ao?(0,e.h)(e.Fragment,null,!ct&&(0,e.h)(Ee.Z,{onVisible:()=>{this.onTopReached(at)}}),ao({comments:Vt?Vt():null,postContent:(0,e.h)(e.Fragment,null,mo,!!(at&&!Ie.post_paywall_content_for_google&&!ft)&&Oo)})):(0,e.h)(e.Fragment,null,(0,e.h)(K.YM,{visible:Xt,style:{zIndex:1}}),Ie.videoUpload&&Ie.type==="video"&&Yt&&(0,e.h)(Yt,{mediaUpload:Ie.videoUpload,pub:je,post:Ie,autoPlay:de,restorePlaybackLocation:!0,reaction_token:_t,ref:this.videoPlayer,clippingMode:Xt,onClippingModeCancel:()=>eo(!1)}),Ie.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(K.ZP,{bylinesEnabled:je.bylines_enabled,commentCount:Jt,commentsEnabled:Le,freeSignupEmail:$e,isFreeSignup:xe,isLikesEnabled:so,isPaywall:at,post:Ie,pub:je,magicToken:_t,renderEditButton:()=>(0,e.h)(w.l,{pub:je,post:Ie,iconHeight:18,user:Ae,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:Ae,onChange:Ut,onClickCommentButton:Le?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer,videoPlayerRef:this.videoPlayer,reaction_token:_t,onFeedChange:Po=>this.setState({feedUrl:Po})}),lo&&(0,e.h)(R.Z,{activeTab:Zt,loadedWithHeaderLink:St,commentCount:Jt,onClickTab:this.handleClickTab,transcription:(gt=Ie.podcastUpload)==null?void 0:gt.transcription,hideComments:!Le,showPlayers:!!Ie.videoUpload&&!Rt,feedUrl:this.state.feedUrl,pub:je,post:Ie})):(0,e.h)(e.Fragment,null,(0,e.h)(Qe,{user:Ae,pub:je,post:Ie,isOnPostPage:!0,freeSignup:xe,freeSignupEmail:$e,reaction_token:_t,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:Ft,noTitleLink:Ot,onChange:Ut,hideDate:Ie.type==="page",hideAudience:Ie.type==="page",showReactions:so,showComments:tt,showLabel:!0,showUpdatedIcons:!0,fromPostPage:It,onClickCommentButton:this.onCommentButtonClicked,reactors:ze,showRestackModal:qt,showTranscriptionButton:!!to,onTranscriptionClick:this.onTranscriptionClick,themeVariables:$t,setClippingMode:eo}),!ct&&jt&&(0,e.h)(Ee.Z,{onVisible:()=>this.onTopReached(at)}),(Ie.has_voiceover||!!Ie.voiceoverUpload)&&(0,e.h)(S.VoiceoverPlayer,{pub:je,post:Ie,mediaUploadId:Ie.voiceover_upload_id,duration:(At=Ie.voiceoverUpload)==null?void 0:At.duration,autoPlay:fe,href:Ie.canonical_url,isPaywalled:!Ie.voiceover_upload_id}),!Ie.voiceoverUpload&&fe&&oo&&(0,e.h)(re.r,{postId:Ie.id,onClose:()=>{(0,g.track)(g.EVENTS.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:Ie.id}),this.setState({autoPlayVoiceOver:!1})}})),wt?(0,e.h)(H.F,{postType:Ie.type,crossPostInfo:wt}):null,(Ie.type!=="podcast"||Zt==="details"||!lo)&&(0,e.h)("div",{className:T()({"container container--podcast-post container--podcast-post-with-ufi":Ie.type==="podcast"})},mo,at&&!Ie.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,Oo,(0,e.h)($.i,{post:Ie})):co?(0,e.h)("p",null,(0,e.h)(N.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",bt("show full post"))):!["page"].includes(Ie==null?void 0:Ie.type)&&(0,e.h)(e.Fragment,null,fo&&(0,e.h)(Be,{pub:je,post:Ie,user:Ae,freeSignup:xe,freeSignupEmail:$e}),!fo&&this.shouldShowRecommendCta&&(0,e.h)(J.o,{pub:je}),(0,y.default)("like_posts_enabled")&&je.community_enabled&&no&&(0,e.h)(A.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(V.DH,{post:Ie,pub:je,user:Ae,reactors:ze,secondaryFaces:Xe})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(G.Mp,{post:Ie,pub:je,user:Ae,onChange:Ut,themeVariables:$t,postReactionToken:_t})),(0,e.h)($.i,{post:Ie})),Ie.show_guest_bios&&Ie.type!=="podcast"&&(0,e.h)(qe,{user:Ae,pub:je,post:Ie})),Ie.type==="podcast"&&Zt==="comments"&&Le&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(Z.Z,{comments:Ce!=null?Ce:[],expectedCommentCount:Jt,post:Ie,pub:je,sort:be,token:_t,user:Ae,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),Ie.type==="podcast"&&Zt==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(M.Z,{post:Ie,pub:je,user:Ae,playerRef:this.podcastPlayer}))))}}Re.contextType=p.WH,Re.displayName="Post";const Ue=(0,A.dd)((0,d.f9)((0,u.us)((0,f.fz)(Re)))),Be=({pub:Ne,post:Le,user:Ae,freeSignup:je,freeSignupEmail:Ie,overridePledgesEnabled:xe})=>{const{iString:$e,iTemplate:ft}=(0,f.M1)(),{getSettingFor:ot}=(0,u.So)(),_t=Ne.payments_state==="disabled"&&!Ne.invite_only&&(ot("payment_pledges_enabled")||xe),ct=Ne.payments_state==="enabled"&&(Ae!=null&&Ae.is_free_subscribed)&&!(Ae!=null&&Ae.is_subscribed)?"paid_upsell":_t&&(Ae!=null&&Ae.is_free_subscribed)&&!(Ae!=null&&Ae.is_pledged)?"pledge_upsell":"free_upsell";(0,s.d4)(()=>{(0,g.track)(g.EVENTS.POST_END_CTA_RENDERED,{pub_id:Ne.id,post_id:Le.id,type:ct})},[Ne.id,Le.id,ct]);const at=(0,a.getByLine)(Ne);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(Ee.Z,{onVisible:()=>{(0,g.track)(g.EVENTS.POST_END_CTA_SEEN,{pub_id:Ne.id,post_id:Le.id,type:ct})}}),(0,e.h)("h3",null,_t&&(Ae!=null&&Ae.is_free_subscribed)?ft`Support ${Ne.name}`:ft`Subscribe to ${Ne.name}`),(0,e.h)("p",{className:"end-cta-author-subs"},at?ft`By ${at}`:null,at&&Ne.rankingDetail?" \xB7 ":null,Ne.rankingDetail),Ne.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},Ne.hero_text),_t&&(Ae!=null&&Ae.is_free_subscribed)&&!(Ae!=null&&Ae.is_pledged)?(0,e.h)(U.zx,{priority:"primary-theme",onClick:()=>{(0,g.track)(g.EVENTS.POST_END_CTA_CLICKED,{type:"pledge"}),(0,b.redirect)((0,o.getSubscribeUrl)(Ne,{params:{utm_source:ne.UTM_SOURCE.postEndCta}}),{local_navigation:!1})}},$e("Pledge your support")):(0,e.h)(oe.Z,{pub:Ne,post:Le,user:Ae,freeSignup:je,freeSignupEmail:Ie,isStatic:!1,source:"post-end-cta"}))},Ke=({pub:Ne})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${Ne&&Ne.bylines_enabled&&Ne.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),Qe=({allowEdit:Ne,allowSendEmail:Le,allowTruncate:Ae,base_url:je,children:Ie,className:xe,hideAudience:$e,hideDate:ft,hideTitle:ot,hidePinning:_t,noTitleLink:ct,isStatic:at,isFreePreview:Ut,is_draft:Ft,onChange:Ot,post:tt,pub:It,reaction_token:Kt,showComments:qt,showDatetime:Lt,showEmailSent:wt,showReactions:bt,showShare:Dt,showAppUpsell:$t,showSubtitle:zt,showPhoto:Vt,showLabel:ao,showRestack:ut,showCommentRestack:yt,hideAuthor:Zt,user:St,utm_source:co,showUpdatedIcons:To,fromPostPage:de,onClickCommentButton:fe,reactors:Ce,inThreadHead:be,publishedPost:we,compEndsSoon:ze,compEndedRecently:Xe,siteConfigValues:lt={},eligibleForTTS:Je,showRestackModal:ht,showIcon:Wt,isOnPostPage:gt,showTranscriptionButton:At,onTranscriptionClick:Rt,themeVariables:so,setClippingMode:Gt=void 0})=>{const Xt=(0,n.isMobile)({checkFirst4:!0}),eo=typeof Ae=="number"?Ae:45,jt=tt.title&&tt.title.length>eo,Yt=Ft?tt.draft_title:tt.title,to=[(Wt||tt.type==="thread")&&(0,e.h)(Q.m,{postType:tt.type,isStatic:at,height:15,className:tt.type}),jt&&Ae?(0,a.truncateWords)(Yt,eo):Yt],lo=Ft?tt.draft_subtitle:tt.subtitle;tt.section_id&&It.sections&&It.sections.length&&(tt.section=It.sections.find(Oo=>Oo.id===tt.section_id));const Jt=!["page"].includes(tt==null?void 0:tt.type),fo=Jt&&at&&ze&&(lt==null?void 0:lt.continue_support_cta_in_newsletter_emails),oo=Pt(tt)||Je||tt.voiceoverUpload,no=(tt==null?void 0:tt.type)==="adhoc_email",xt=Jt&&at&&!no;let kt;tt.post_url_override?kt=tt.post_url_override:at?kt=l.Substitutions.POST_TITLE_URL:kt=`${(0,o.getPostUrl)(It,tt)}${co?`?utm_source=${co}`:""}`;const ro=`${It.base_url+(tt.section?(0,o.getSectionUrl)(It,{section:tt.section}):"")}/?utm_source=${ne.UTM_SOURCE.substack}&utm_medium=${ne.UTM_MEDIUM.menu}`,mo=()=>{(0,g.track)(g.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:tt.id,type:tt.type}),Gt==null||Gt(!0)};return(0,e.h)("div",{className:T()("post-header",xe)},ao&&tt.section&&(0,e.h)(A.hs,{className:"post-label"},(0,e.h)(A.xv.Meta,{as:"a",size:14,href:ro},tt.section.name)),fo&&(0,e.h)(j.v,{post:tt,compAlreadyExpired:Xe}),!ot&&(0,e.h)("h1",{className:T()("post-title",tt.is_published?"published":tt.type==="restack"?"email-only-cross-post":tt.type==="adhoc_email"?"adhoc":"unpublished")},ct?to:(0,e.h)("a",{href:kt},to)),zt&&lo&&(0,e.h)("h3",{className:"subtitle"},lo),gt&&!at?(0,e.h)(A.tu,{paddingBottom:16},(0,e.h)(A.tu,{paddingY:16},(0,e.h)(dt,{post:tt,pub:It})),Xt?de&&(0,e.h)(G.mt,{post:tt,pub:It,user:St,isStatic:at,postReactionToken:Kt,onChange:Ot,allowEdit:Ne,hidePinning:_t,showEmailSent:wt,allowSendEmail:Le,hideComments:!qt,onCommentsClick:fe,showRestackModal:ht}):(0,e.h)(G.Mp,{post:tt,pub:It,user:St,onChange:Ot,showRestackModal:ht,showTranscriptionButton:At,onTranscriptionClick:Rt,themeVariables:so,onClipClick:mo,showClipping:tt.type==="video",postReactionToken:Kt})):(0,e.h)(e.Fragment,null,Jt&&!at&&!we&&!be?(0,e.h)(k.a,{className:"meta-subheader",pub:It,post:tt,user:St,showDate:!ft,showDatetime:Lt,isStatic:at,postReactionToken:Kt,onChange:Ot,allowEdit:Ne,hidePinning:_t,showEmailSent:wt,allowSendEmail:Le,allowMobileFooter:de,reactors:Ce,onCommentsClick:fe,showRestackModal:ht,setClippingMode:Gt}):Jt&&!at&&we?(0,e.h)(G._2,{post:tt,pub:It,user:St,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Kt,showEmailSent:wt,hideShare:!Dt||tt.type==="restack",hideComments:tt.type==="restack",hideSavePost:tt.type==="restack",hideReactions:tt.type==="restack",showPreamble:!0,allowEdit:Ne,allowSendEmail:Le,editButtonIsLast:!0,preambleConfig:{showAudience:!$e,showDate:!ft,showDatetime:Lt,showAuthor:!Zt},position:"publisher-post-list"}):be&&!at?(0,e.h)(G._2,{post:tt,pub:It,user:St,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Kt,hideSavePost:!0,showPreamble:!0,allowEdit:Ne,allowSendEmail:Le,editButtonIsLast:!0,onChange:Ot,preambleConfig:{showAudience:!$e,showDate:!ft,showDatetime:Lt,showAuthor:!Zt},hideShare:!Dt,position:"publisher-post-list"}):Jt?(0,e.h)(V.SP,{user:St,pub:It,post:tt,showDate:!ft,showDatetime:Lt,showEmailSent:wt,showAudience:!$e,showReactions:!xt&&bt,showComments:!xt&&qt,showShare:!xt&&Dt,showRestack:!xt&&ut,reaction_token:Kt,onChange:Ot,isStatic:at,isFreePreview:Ut,sharedShareDialog:!0,base_url:je,allowSendEmail:Le,allowEdit:Ne,showAuthor:!Zt,showPhoto:Vt,hidePinning:_t,showUpdatedIcons:To,inThreadHead:be,fromPostPage:de,onClickCommentButton:fe,reactors:Ce}):(0,e.h)("div",{className:"spacer",style:{height:24}}),Jt&&xt&&(0,e.h)(G.yT,{customization:{showShare:Dt,showComments:qt,showReactions:bt,showListen:!ut&&!Ut&&oo,showSave:!ut,showRestack:ut,showCommentRestack:yt,showAppUpsell:$t}}),no&&(0,e.h)("div",{className:"email-ufi-2-empty"})),Ie)},qe=({user:Ne,pub:Le,post:Ae})=>{const{iString:je,iTemplate:Ie}=(0,f.M1)(),xe=(0,a.getBylineUsers)(Ae).filter($e=>$e.is_guest);return xe.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),xe.map($e=>{const ft=(0,a.guessFirstName)($e.name);let ot=$e.primaryPublicationSubscribeUrl;ot&&(Ne!=null&&Ne.email)&&(ot=(0,r.updateQuery)(ot,{email:Ne.email,autoSubmit:!0,utm_source:ne.UTM_SOURCE.substack,utm_campaign:ne.UTM_CAMPAIGN.guestPostBio,utm_medium:ne.UTM_MEDIUM.web}));const _t=(0,r.updateQuery)((0,o.getReaderProfileUrl)($e),{utm_campaign:ne.UTM_CAMPAIGN.guestPostBio,utm_medium:ne.UTM_MEDIUM.web}),ct=ue.ZP.hasCustomProfilePhoto($e);return(0,e.h)("div",{className:T()("post-contributor-bio",{"post-contributor-bio-no-text":!$e.bio}),"data-user-id":$e.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},ct&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(q.ProfileHoverCard,{subject:$e,utmSource:"byline"},(0,e.h)(ue.ZP,{size:52,user:Ne,pub:Le,subject:$e}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},$e.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},je("A guest post by")),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!$e.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},je("A guest post by")),(0,e.h)(A.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(q.ProfileHoverCard,{subject:$e,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:_t,native:!0},$e.name)),(0,e.h)(W.UserBadge,{size:"sm",tier:$e.bestseller_tier,userId:$e.id})),$e.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},$e.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},ot&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:ot,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},Ie`Subscribe to ${ft}`)))))))))))}))};class pt extends null{render({renderPost:Le,posts:Ae,hideFirstHeading:je,className:Ie,top:xe,children:$e}){return Ae=Ae.slice(0).sort((ft,ot)=>dayjs(ot.post_date)-dayjs(ft.post_date)),h("div",{className:`calendared-post-list ${Ie||""}`},xe,flat(this.renderByHeading(Ae,"year",(ft,ot)=>[!ot.isSameNow("year")&&h("h2",{date:ot},ot.year()),this.renderByHeading(ft,"month",(_t,ct)=>[!(ct.isSameNow("year")&&ct.isSameNow("month"))&&h("h3",{date:ot},get_month_name(ct)," ",!ct.isSameNow("year")&&ct.year()),_t.map(at=>Le(at,Ae.indexOf(at),Ae))])]),1/0).filter(ft=>ft).filter((ft,ot,_t)=>!je||ot>=_t.findIndex(ct=>!ct.props||!ct.props.date)),$e)}renderByHeading(Le,Ae,je){return Array.from(group_by(Le,Ie=>dayjs(Ie.post_date)[Ae]())).sort((Ie,xe)=>xe[0]-Ie[0]).map(([,Ie])=>je(Ie,dayjs(Ie[0].post_date)))}}function st(Ne,Le=1e4,Ae=Le){if(typeof window=="undefined")return null;const je=document.createElement("div");if(je.innerHTML=Ne,je.textContent.length<Le||je.childNodes.length<=1)return null;do je.removeChild(je.lastChild);while(je.childNodes.length>1&&je.textContent.length>Ae);return je.innerHTML}function it(Ne,Le=500){if(typeof window=="undefined")return!1;const Ae=document.createElement("div");Ae.innerHTML=Ne;let je="",Ie=!1;for(let xe=Ae.childNodes.length-1;xe>=0;xe--){const $e=Ae.childNodes[xe];if((0,b.hasClass)($e,"button-wrapper")||(0,b.hasClass)($e,"subscription-widget-wrap")){Ie=!0;break}if(je+=$e.textContent,je.length>Le)break}return!Ie}function rt({post:Ne,user:Le,onChange:Ae}){const{onSave:je}=(0,G.vk)({post:Ne,isSaved:!1});return(0,s.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,r.updateQuery)({action:null})),Le)){const xe=je();Ae({post:We(De({},Ne),{is_saved:xe})})}},[]),null}function Pt(Ne){var Le;return(Le=Ne.audio_items)==null?void 0:Le.some(Ae=>Ae.type==="tts")}function dt({variant:Ne="",post:Le,pub:Ae,relativeLinks:je=!1}){const{publishedBylines:Ie=[]}=Le,xe=Ae.bylines_enabled&&(0,a.getPrintedByline)(Ae,Le)&&(Le.type!=="podcast"||Ne==="shows"),$e=xe&&Ae.byline_images_enabled&&Ie.some(({photo_url:at})=>!!at),ft=Le.type!=="page",{iContext:ot,language:_t}=(0,f.M1)(),ct=new Intl.DateTimeFormat(_t==="en"?void 0:_t,{dateStyle:"medium"});return(0,e.h)(A.hs,{className:T()("byline-wrapper",{[se.Z["byline-wrapper--swap-on-mobile"]]:Ne==="shows"}),gap:12,alignItems:"center"},$e&&(0,e.h)(A.hs,{className:T()({[se.Z["byline-faces--swap-on-mobile"]]:Ne==="shows"})},(0,e.h)(i.ZP,{faces:Ie,hoverProfiles:!0,maximum:4,showBlanks:!0,relativeLinks:je})),(0,e.h)(A.tu,null,xe&&(0,e.h)(A.xv.Meta,{color:"pub-primary-text"},(0,e.h)(x.M,{array:Ie,formatter:at=>(0,e.h)(q.ProfileHoverCard,{subject:at,utmSource:"byline"},(0,e.h)(A.xv,{as:"a",href:(0,o.getReaderProfileUrl)(at),decoration:"hover-underline"},at.name)),limit:4})),(0,e.h)(A.hs,{gap:4},(0,e.h)(A.xv.Meta,{color:"pub-secondary-text"},ct.format(m()(Le.post_date).toDate())),ft&&(0,c.isPaidAudience)(Le.audience)&&(0,e.h)(A.xv.Meta,{color:"pub-secondary-text"},"\u2219 ",ot("postAudience","Paid")))))}},80012:(Y,C,t)=>{t.d(C,{l:()=>p,y:()=>d});var e=t(6400),s=t(30396),O=t(50308),T=t.n(O),D=t(80569),v=t.n(D),P=t(39776),M=t(52743),l=t(83322),_=t(3258),m=t(17025),E=t.n(m),c=t(44454),r=t(46595),o=t(22702),n=t(65726),a=t(20501),i=(f,u,g)=>new Promise((y,L)=>{var b=U=>{try{A(g.next(U))}catch(B){L(B)}},I=U=>{try{A(g.throw(U))}catch(B){L(B)}},A=U=>U.done?y(U.value):Promise.resolve(U.value).then(b,I);A((g=g.apply(f,u)).next())});class d extends e.Component{constructor(){super(...arguments),this.toggleTopExclusion=u=>(0,m.stateTransaction)(this,(g,y)=>i(this,[g,y],function*(L,{post:b,onChange:I}){if(L.topExcluding)return;this.setState({topExcluding:u.id});const A=b.top_exclusions.includes(u.id),U=`/api/v1/publication/${u.id}/exclusion/${b.id}`;try{A?(yield v().del(U),b.top_exclusions.splice(0)):(yield v().post(U),b.top_exclusions.splice(0),b.top_exclusions.push(u.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(B){console.error("Failed to exclude post:",B),alert((0,m.getNetworkErrorMessage)(B));return}finally{this.setState({topExcluding:null})}I&&(yield I({post:b}))})),this.toggleSectionPin=(u,g)=>(0,m.stateTransaction)(this,(y,L)=>i(this,[y,L],function*(b,{post:I,onChange:A}){if(b.pinning)return;this.setState({sectionPinning:g});const U=`/api/v1/publication/${u.id}/section/${g}/pin/${I.id}`;try{I.is_section_pinned?(yield v().del(U),I.is_section_pinned=!1):(yield v().post(U),I.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(B){console.error("Failed to pin post:",B),alert((0,m.getNetworkErrorMessage)(B));return}finally{this.setState({sectionPinning:null})}A&&(yield A({post:I}))})),this.togglePin=u=>(0,m.stateTransaction)(this,(g,y)=>i(this,[g,y],function*(L,{post:b,onChange:I}){if(L.pinning)return;this.setState({pinning:u.id});const A=b.pins.includes(u.id),U=`/api/v1/publication/${u.id}/pin/${b.id}`;try{A?(yield v().del(U),b.pins.splice(b.pins.indexOf(u.id),1)):(yield v().post(U),u.multiple_pins||b.pins.splice(0),b.pins.push(u.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(B){console.error("Failed to pin post:",B),alert((0,m.getNetworkErrorMessage)(B));return}finally{this.setState({pinning:null})}I&&(yield I({post:b}))})),this.sendEmail=()=>i(this,null,function*(){const{post:u}=this.props,g={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[u.audience];if(!confirm(`Send this published post as an email to ${g}?`))return;const y=`/api/v1/drafts/${u.id}/publish`;try{yield v().post(y).send({send:!0,only_send:!0}),location.reload()}catch(L){console.error("Failed to send post:",L),alert((0,m.getNetworkErrorMessage)(L))}}),this.clearCache=()=>i(this,null,function*(){const{post:u}=this.props;try{yield v().put(`/api/v1/posts/${u.id}/clear_cache`),location.reload()}catch(g){console.error("Failed to clear post from cache"),alert((0,m.getNetworkErrorMessage)(g))}}),this.duplicatePost=()=>i(this,null,function*(){this.setState({duplicating:!0});const{pub:u,post:g}=this.props;try{const y=yield v().post(`/api/v1/posts/${g.id}/duplicate`);(0,m.redirect)((0,M.getEditPostUrlById)(u,y.body.id,y.body.editor_v2),{local_navigation:!1})}catch(y){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,m.getNetworkErrorMessage)(y))}})}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:u,post:g,hidePinning:y,user:L,emailSent:b,allowSendEmail:I,className:A,useDrawerOnMobile:U,handleCrossPost:B,onToggleMenu:W},{pinning:Z,sectionPinning:K,topExcluding:R,duplicating:S}){let N=null;g.section_id&&u.sections&&u.sections.length&&(N=u.sections.find(x=>x.id===g.section_id));let j="";typeof window!="undefined"&&(j=window.location.pathname);const H=!!(0,P.default)("enable_post_summarization");return(0,e.h)(c.ZP,{attachOnActive:!0,ref:x=>this.editMenu=x,className:A,useDrawerOnMobile:U,onToggle:W},(0,e.h)(n.Z,{href:(0,M.getPostUrl)(u,g,{edit:!0}),onClick:T()},"Edit post"),(0,e.h)(n.Z,{href:(0,a.getPostDetailsPageUrl)(void 0,g.id,{referrer:j}),onClick:T()},"View post stats"),!y&&g.slug&&[(0,l.isPinnable)(u)&&g.section_id&&(g.section_name||(N==null?void 0:N.name))&&(0,e.h)(n.Z,{onClick:()=>this.toggleSectionPin(u,g.section_id)},[g.is_section_pinned^K===g.section_id?"Unpin from":"Pin on",` ${g.section_name||(N==null?void 0:N.name)}`]),(0,l.isPinnable)(u)&&(0,e.h)(n.Z,{onClick:()=>this.togglePin(u)},[g.pins.includes(u.id)^Z===u.id?"Unpin from":"Pin on",N?` ${u.name}`:" homepage"])],g.slug&&g.type!=="adhoc_email"&&[(0,e.h)(n.Z,{onClick:()=>this.toggleTopExclusion(u)},[g.top_exclusions.includes(u.id)^R===u.id?"Include in":"Exclude from"," Top"])],(0,e.h)(n.Z,{disabled:S,onClick:()=>this.duplicatePost()},S?"Duplicating":"Duplicate"," to drafts"),!b&&I&&g.is_published&&(0,e.h)(n.Z,{onClick:()=>this.sendEmail()},"Send as email"),(L==null?void 0:L.is_global_admin)&&(0,e.h)(n.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(L==null?void 0:L.is_global_admin)&&(0,e.h)(n.Z,{href:`${(0,M.getBaseUrl)({subdomain:"admin"})}/posts/${g.id}`},"View post in admin"),(0,e.h)(n.Z,{onClick:()=>{window.open((0,M.getPostDetailsShareCenterUrl)(u,g.id))}},"View shareable images"),!!(H&&this.props.onSummaryOpen)&&(0,e.h)(n.Z,{onClick:this.props.onSummaryOpen},"Reader guide"),B&&(0,e.h)(n.Z,{onClick:B},"Cross post"))}}d.state={duplicating:!1};function p({pub:f,post:u,iconHeight:g,hidePinning:y,user:L,emailSent:b,allowSendEmail:I,showUpdatedIcons:A,dropdownClassName:U,iconClassName:B}){const W=(0,s.sO)();return(0,e.h)(e.Fragment,null,(0,e.h)(n.Z,{onClick:()=>{W.current.isOpen()||(0,_.track)(_.EVENTS.EDIT_POST_DROPDOWN_MENU_OPENED),W.current.toggle()}},A?(0,e.h)(o.Z,{stroke:"#262626",height:g,className:B}):(0,e.h)(r.Z,{stroke:"#757575",height:g,className:B})),(0,e.h)(d,{ref:W,pub:f,post:u,hidePinning:y,user:L,emailSent:b,allowSendEmail:I,className:U}))}},12869:(Y,C,t)=>{t.d(C,{DH:()=>ne,SP:()=>ce});var e=t(6400),s=t(94184),O=t.n(s),T=t(12297),D=t.n(T),v=t(1852),P=t.n(v),M=t(70444),l=t(82626),_=t(85928),m=t.n(_),E=t(6385),c=t(52743),r=t(83322),o=t(32076),n=t(16181),a=t(3258),i=t(8479),d=t(35225),p=t(43887),f=t(43615),u=t(72903),g=t(34849),y=t(15440),L=t(63295),b=t(44807),I=t(11762),A=t(414),U=t(80012),B=t(90481),W=t(31058),Z=t(80332),K=t(91801),R=t(49249),S=t(14531),N=t(91613),j=t(51126),H=t(73413),x=t(28488),F=t(63270),w=t(59009),V=t(74806),$=Object.defineProperty,k=Object.defineProperties,G=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,J=(ve,Oe,Me)=>Oe in ve?$(ve,Oe,{enumerable:!0,configurable:!0,writable:!0,value:Me}):ve[Oe]=Me,te=(ve,Oe)=>{for(var Me in Oe||(Oe={}))q.call(Oe,Me)&&J(ve,Me,Oe[Me]);if(Q)for(var Me of Q(Oe))z.call(Oe,Me)&&J(ve,Me,Oe[Me]);return ve},oe=(ve,Oe)=>k(ve,G(Oe));const{getPaidOrFoundingTierNameForPost:ie}=t(74806),re=46438;class ue extends e.Component{constructor(Oe,Me){if(super(Oe,Me),this.withAuthorLine=(Pe,De)=>{const{pub:We,post:ye,showAuthor:Fe,showPhoto:Ze,getConfigFor:Te}=Pe,Ve=ye.type==="adhoc_email",Re=(0,r.getBylineUsers)(ye).length,Ue=Re===1,Be=Ue&&(0,r.getBylineUsers)(ye)[0],Ke=Ue&&Be.is_guest&&!Te("dont_show_guest_byline")&&!Ve,Qe=Pe.showDate||Pe.showDatetime,qe=!ye.is_published&&!Pe.inThreadHead&&Qe&&!Ve,pt=Pe.isFreePreview&&Pe.showAudience&&Qe&&!Ve,st=(0,E.isFoundingAudience)(ye.audience)&&Pe.showAudience&&!pt&&Qe&&!Ve&&!(0,V.hasFreePodcastUrl)({post:ye}),it=(0,E.isPaidAudience)(ye.audience)&&Pe.showAudience&&!st&&!pt&&Qe&&!Ve&&!(0,V.hasFreePodcastUrl)({post:ye}),rt=(0,W.F6)({pub:We,post:ye,showAuthor:Fe,showPhoto:Ze});return(0,e.h)(n.YF,{width:"100%",className:O()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(n.i$,null,(0,e.h)(n.zK,{gap:4},(0,e.h)(p.xv.Meta,{color:"primary",className:S.A.postAuthor},Re>0?(0,r.oxfordComma)((0,r.getBylineUsers)(ye).map(Pt=>(0,e.h)(p.xv.Meta,{as:"a",href:(0,c.getProfileUrl)(Pt,We,{base:Pe.isStatic}),color:"primary",style:"text-decoration: none"},Pt.name))):(0,r.getPrintedByline)(We,ye))),(0,e.h)(n.zK,{gap:4},(0,e.h)(p.xv.Meta,null,(Pe.showDate||Pe.showDatetime)&&ye.post_date&&(0,e.h)("time",{dateTime:m()(ye.post_date).toISOString()},m()(ye.post_date).locale(this.context.language).standardDate())),it&&(0,e.h)(n.zK,{gap:4},(0,e.h)(p.xv.Meta,null,"\u2219"),(0,e.h)(p.xv.Meta,{color:"accent-purple",translated:!0},"Paid")),st&&(0,e.h)(n.zK,{gap:4},(0,e.h)(p.xv.Meta,null,"\u2219"),(0,e.h)(p.xv.Meta,{color:"accent-purple"},this.context.iString(ie(We,ye)))),pt&&(0,e.h)(n.zK,{gap:4},(0,e.h)(p.xv.Meta,null,"\u2219"),(0,e.h)(p.xv.Meta,{color:"accent-purple",translated:!0},"Preview")),Ke&&(0,e.h)(n.zK,{gap:4},(0,e.h)(p.xv.Meta,null,"\u2219"),(0,e.h)(p.xv.Meta,{translated:!0},"Guest post")),qe&&(0,e.h)(n.zK,{gap:4},(0,e.h)(p.xv.Meta,null,"\u2219"),(0,e.h)(p.xv.Meta,{translated:!0},"Draft"))))),rt&&(0,e.h)("td",{align:"right"},(0,e.h)(n.zK,{gap:4},Re>0&&(0,r.getBylineUsers)(ye).map((Pt,dt)=>dt<4&&(0,e.h)("a",{href:(0,c.getProfileUrl)(Pt,We,{base:Pe.isStatic})},(0,e.h)(n.NS,{src:Pt.photo_url,size:Re>1?32:40})))))))},typeof window!="undefined"&&(window!=null&&window.matchMedia)){const Pe=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:Pe.matches};const De=We=>{this.unmounted||this.setState({isMobileWidth:We.matches})};Pe.addEventListener?Pe.addEventListener("change",De):Pe.addListener&&Pe.addListener(De)}}componentWillUnmount(){this.unmounted=!0}render({pub:Oe,post:Me,showAuthor:Pe,showPhoto:De,fromPostPage:We}){return(0,W.F6)({pub:Oe,post:Me,showAuthor:Pe,showPhoto:De})||(0,W.Cz)({pub:Oe,post:Me,showAuthor:Pe})||(0,W.z5)({pub:Oe,post:Me,showAuthor:Pe})?this.withAuthorLine(this.props,this.state):(0,e.h)(he,oe(te({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:We?"post-header-compact":"post-preview"}))}}ue.contextType=x.wj;const ce=(0,F.xY)(ue),Ee=({shouldShowFullWidthUfi:ve,isMobileWidth:Oe,children:Me})=>ve?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},Me):Oe?Me:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},Me),se=({additionalCommentCount:ve,user:Oe,pub:Me,post:Pe,showReactions:De,showComments:We,reaction_token:ye,onChange:Fe,shareTooltipText:Ze,fromPostPage:Te,onClickCommentButton:Ve,reactors:Re,isStatic:Ue,base_url:Be,className:Ke,showShare:Qe})=>{De=De&&Me.community_enabled&&Pe.slug&&!Pe.is_draft;const qe=useMediaQuery({maxWidth:540}),{getSettingFor:pt}=usePublicationSettings(),st=!Ue&&(Pe==null?void 0:Pe.id)&&Me.community_enabled&&!Pe.is_draft&&Pe.slug,it=sum(Object.values((Pe==null?void 0:Pe.reactions)||{})),rt=st&&!!it&&De,Pt=!Pe.is_draft&&canPostBeRestacked(Oe,{enable_restacking:!!pt("enable_restacking")},Pe,Me,!1),dt=Pt;return h(Ee,{shouldShowFullWidthUfi:dt,isMobileWidth:qe},h(PostUfi,{style:"button",post:Pe,pub:Me,user:Oe,postReactionToken:ye,hideReactions:!De||qe&&Pt,hideComments:!We||qe&&Pt,hideSavePost:qe&&Pt,hideShare:!Qe||qe&&Pt,useShareLabel:qe&&!dt,labelStyle:qe&&!dt?"labels":"counts-or-none",onChange:Fe,additionalCommentCount:ve,showShare:Qe,onCommentsClick:Ve,position:dt?"post-footer-full-width":"post-footer",showRestackButton:Pt}),rt&&h(Fragment,null,(dt||qe)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(me,{postId:Pe.id,totalLikes:it,reactors:ae(Re,Oe,!!Pe.reaction,Me),loading:!Re,hoverProfiles:!0,enableModal:!0,showFaces:Me.post_reaction_faces_enabled}))))};function ne({pub:ve,post:Oe,user:Me,reactors:Pe,secondaryFaces:De}){var We;return(0,e.h)(me,{postId:Oe.id,totalLikes:Math.max((We=Oe.reactions["\u2764"])!=null?We:0,(Pe!=null?Pe:[]).length),reactors:ae(Pe,Me,!!Oe.reaction,ve),secondaryFaces:ae(De,Me,!!Oe.restacked,ve),totalRestacks:Oe.restacks||0,loading:!Pe,hoverProfiles:!0,enableModal:!0,showFaces:ve.post_reaction_faces_enabled})}function ee(ve){const{post:Oe,user:Me,pub:Pe}=ve,{result:De,isLoading:We}=useFetch({pathname:`/api/v1/post/${Oe.id}/reactors`,auto:!0,deps:[Oe.id]}),{result:ye,isLoading:Fe}=useFetch({pathname:`/api/v1/post/${Oe.id}/restackers`,auto:!0,deps:[Oe.id]});return h(ne,te({reactors:ae(De,Me,!!Oe.reaction,Pe),secondaryFaces:ae(ye,Me,!!Oe.restacked,Pe)},ve))}function ae(ve,Oe,Me,Pe){if(!ve)return[];if(Oe){const De=ve.findIndex(We=>We.id===Oe.id);Me&&(Oe.subscription_visibility!=="private"||Pe.id===re)&&Oe.activity_likes_enabled&&De<0?ve.splice(0,0,{id:Oe.id,name:Oe.name,photo_url:Oe.photo_url}):!Me&&De>=0&&ve.splice(De,1)}return ve}function he({additionalCommentCount:ve=0,className:Oe,user:Me,pub:Pe,post:De,showAudience:We=!1,showDate:ye=!1,showEmailSent:Fe=!1,showDatetime:Ze=!1,showReactions:Te=!0,showComments:Ve=!0,showShare:Re=!1,showRestack:Ue=!1,showPublicationName:Be=!1,hidePinning:Ke=!1,reaction_token:Qe,onClick:qe,onChange:pt,isStatic:st=!1,isFreePreview:it=!1,allowSendEmail:rt=!1,allowEdit:Pt=!1,shareTooltipText:dt,showPins:Ne,sharedShareDialog:Le,showUpdatedIcons:Ae,editOnRightSide:je=!1,onClickCommentButton:Ie,reactors:xe,showAuthor:$e,showPhoto:ft,fromPostPage:ot,isMobileWidth:_t,actionBarStyle:ct="post-header-compact"}){var at;const Ut=Pe.id===De.publication_id?Pe:void 0,Ft=ae(xe,Me,!!De.reaction,Pe),Ot=ct==="post-footer",tt=Ot?20:ct==="post-preview"?14:18,It=ct==="post-header-large"?20:ct==="post-preview"?16:ct==="thread-head"||Ot?14:18;let Kt;De.comment_url_override?Kt=De.comment_url_override:st?Kt=`${l.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${w.UTM_SOURCE.substack}&utm_medium=${w.UTM_MEDIUM.email}`:Kt=(0,c.getPostUrl)(Pe,De,{comments:!0});const qt=ve+((at=De.comment_count)!=null?at:0),Lt=Ve&&!it&&(0,r.showCommentsOnPost)({publication:Pe,post:De})&&De.type!=="restack",wt=Te&&!it&&!["adhoc_email","restack"].includes(De.type),bt=(ye||Ze)&&De.post_date&&!De.is_draft,Dt=Fe?!!De.email_sent_at:null,$t=(0,d.S)({user:Me,noBase:!1}),zt=ut=>{var yt;(yt=ut.post)!=null&&yt.reaction&&Me&&$t({user:Me}),pt(ut)},Vt=(0,e.h)(K.dJ,{user:Me,pub:Pe,post:De,token:Qe,onChange:zt,height:It,isStatic:st,isFreePreview:it,alt:"Like",buttonStyle:Ot,className:"post-meta-icon like-reaction-button",hideReactionCount:Ot&&!st}),ao=[Fe&&Dt&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(u.Z,{className:"post-meta-icon",height:tt,isStatic:st})},Ne&&De.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(I.Z,{className:"post-meta-icon",isStatic:st})},De.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(A.Z,{className:"post-meta-icon",isStatic:st})}:We&&(0,E.isPaidAudience)(De.audience)&&{className:"audience-lock",content:(0,e.h)(g.Z,{color:"#666666",height:tt,isStatic:st})},(0,W.Er)({pub:Pe,post:De,showAuthor:$e,showPhoto:ft,isMobileWidth:_t})&&{className:"author",content:(0,r.getBylineUsers)(De).length>0?(0,r.oxfordComma)((0,r.getBylineUsers)(De).map(ut=>(0,e.h)(Z.ProfileHoverCard,{disabled:st,subject:ut,utmSource:"byline"},(0,e.h)("a",{href:(0,c.getProfileUrl)(ut,Pe,{base:st}),onClick:yt=>yt.stopPropagation()},ut.name)))):(0,r.getPrintedByline)(Pe,De)},Be&&{className:"post-publication-name",content:Pe.name},Ae&&!je&&Pt&&!st&&Me&&Me.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:ut=>ut.stopPropagation(),content:(0,e.h)(U.l,{pub:Pe,post:De,iconHeight:tt,hidePinning:Ke,user:Me,emailSent:Dt,allowSendEmail:rt,showUpdatedIcons:Ae})},bt&&{className:"post-date",title:m()(De.post_date).toISOString(),content:(0,e.h)(p.xv.Meta,null,(0,e.h)("time",{dateTime:m()(De.post_date).toISOString()},(0,W.fh)({post:De,showDatetime:Ze,isStatic:st,fromPostPage:ot,showReactions:wt})))},(Ut==null?void 0:Ut.community_enabled)&&De.slug&&wt&&!De.is_draft&&{className:"icon",onClick:ut=>ut.stopPropagation(),content:!Ot&&!st&&Ft.length?(0,e.h)(R.Z,{portalClass:"facepile-tooltip",content:(0,e.h)(me,{postId:De.id,totalLikes:D()(Object.values(De.reactions)),reactors:Ft,loading:!xe})},Vt):Vt},Me&&{className:"icon",onClick:ut=>ut.stopPropagation(),content:(0,e.h)(ge,{post:De,isPostFooter:Ot,isStatic:st,lucideIconHeight:It,onChange:pt})},(Ut==null?void 0:Ut.community_enabled)&&De.slug&&Lt&&!De.is_draft&&{className:"icon",onClick:ut=>ut.stopPropagation(),content:(0,e.h)("a",{className:Ot?"post-meta-button button":"",href:Kt,native:Ut&&(0,c.isPublishPath)(document.location.pathname,Ut),onClick:Ie},(0,e.h)(L.Z,{className:"comment-icon post-meta-icon",isStatic:st,height:It,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:st?1:1.5,ampProps:{layout:"fixed"}}),!qt&&Ot&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),qt>0&&(0,e.h)("span",{className:"comment-count"},(0,r.numberToString)(qt)))},Ue&&!Ot&&{className:"icon",onClick:ut=>ut.stopPropagation(),content:(0,e.h)("a",{href:l.Substitutions.RESTACK_URL,className:Ot?"button post-meta-button":void 0},(0,e.h)(b.Z,{className:"recommend-icon post-meta-icon",isStatic:st,height:It,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:st?1:1.5,ampProps:{layout:"fixed"}}),Ot&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},Re&&De.audience!=="only_free"&&!De.is_draft&&!it&&{className:"icon",onClick:ut=>ut.stopPropagation(),content:(0,e.h)(B.v,{user:Me,pub:Ut,post:De,reaction_token:Qe,height:It,onChange:pt,isStatic:st,sharedShareDialog:Le,position:ct==="post-footer"?"post-footer":"post-header",linkClassName:Ot?"button post-meta-button":void 0},Ot&&(0,e.h)("span",{className:"meta-button-label"},"Share"),dt&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},dt)))},(!Ae||je)&&Pt&&!st&&Me&&Me.is_contributor&&{className:"icon edit-icon",onClick:ut=>ut.stopPropagation(),content:(0,e.h)(U.l,{pub:Pe,post:De,iconHeight:tt,hidePinning:Ke,user:Me,emailSent:Dt,allowSendEmail:rt,showUpdatedIcons:Ae})}].filter(ut=>!!ut);return st?(0,e.h)("table",{className:O()("post-meta custom",{big:Ot},Oe),cellpadding:"0",cellspacing:"0",onClick:qe},(0,e.h)("tr",null,ao.map(({className:ut,title:yt,onClick:Zt,content:St})=>(0,e.h)("td",{className:O()("post-meta-item",ut),title:yt,onClick:Zt},St)))):(0,e.h)("div",{className:O()("post-meta post-meta-actions-web custom",{big:Ot},Oe),onClick:qe},ao.map(({className:ut,title:yt,onClick:Zt,content:St})=>(0,e.h)("div",{className:O()("post-meta-item",ut),title:yt,onClick:Zt},St)))}function me({className:ve,postId:Oe,reactors:Me,secondaryFaces:Pe,totalLikes:De,totalRestacks:We,loading:ye,hoverProfiles:Fe,enableModal:Ze,showFaces:Te}){const Ve=De>0?(0,r.pluralize)(De,"Like"):"";let Re="";return We>0&&(Re=`${(0,r.pluralize)(We,"Restack")}`),(0,e.h)(f.ZP,{className:ve,loading:ye,faces:Me,secondaryFaces:Pe,pileLabel:Ve,modalLabel:Ve,secondaryLabel:Re,secondaryHref:(0,M.Oi)(Oe,{noBase:H.L,urlParams:{utm_source:w.UTM_SOURCE.substack,utm_content:w.UTM_CONTENT.facepileRestacks}}),totalCount:De,totalRestacks:We,hoverProfiles:Fe,enableModal:Ze,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,a.track)(a.EVENTS.POST_REACTIONS_MODAL_VIEWED,{post_id:Oe})},showFaces:Te})}function ge({post:ve,isPostFooter:Oe,isStatic:Me,isSaved:Pe,lucideIconHeight:De,onChange:We}){const{onSave:ye,isSaved:Fe}=(0,W.vk)({post:ve,isSaved:ve.is_saved}),Ze=()=>{const Te=ye();We({post:oe(te({},ve),{is_saved:Te})})};return(0,e.h)("a",{className:O()("post-meta-save-button",Oe?"post-meta-button button":"",{isSaved:Fe}),href:Me&&l.Substitutions.SAVE_POST_URL,onClick:Ze},(0,e.h)(y.Z,{isStatic:Me,height:De,stroke:"#757575",strokeWidth:Me?1:1.5}),Oe&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}},31058:(Y,C,t)=>{t.d(C,{PA:()=>ht,mt:()=>so,_2:()=>gt,Mp:()=>Go,L9:()=>Mt,RY:()=>Co,pD:()=>Do,yT:()=>Xo,Ng:()=>uo,fh:()=>zo,Su:()=>Je,TJ:()=>kt,z5:()=>xo,Er:()=>Zo,Cz:()=>jo,F6:()=>Vo,sV:()=>Xt,vk:()=>no,c1:()=>ro});var e=t(6400),s=t(98661),O=t(30396),T=t(94184),D=t.n(T),v=t(12297),P=t.n(v),M=t(23493),l=t.n(M),_=t(80587),m=t(77951),E=t(95951),c=t(65207),r=t(13808),o=t(18794),n=t(8618),a=t(31131),i=t(67358),d=t(80569),p=t.n(d),f=t(66298),u=t(34755),g=Object.defineProperty,y=Object.defineProperties,L=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,U=(le,_e,pe)=>_e in le?g(le,_e,{enumerable:!0,configurable:!0,writable:!0,value:pe}):le[_e]=pe,B=(le,_e)=>{for(var pe in _e||(_e={}))I.call(_e,pe)&&U(le,pe,_e[pe]);if(b)for(var pe of b(_e))A.call(_e,pe)&&U(le,pe,_e[pe]);return le},W=(le,_e)=>y(le,L(_e));const K=le=>(0,e.h)(u.l,W(B({},le),{name:"LucideArrowUpRight",svgParams:{height:24,width:24}}),(0,e.h)(f.Z,{height:24,stroke:le.stroke,fill:le.fill,strokeWidth:le.strokeWidth}));var R=t(55489),S=t(34988),N=t(17087),j=t(59009),H=t(82626),x=t(85928),F=t.n(x),w=t(6385),V=t(91613),$=t(52743),k=t(20501),G=t(83322),Q=t(2405),q=t(28488),z=t(85065),J=t(32076),te=t(63270),oe=t(18597),ie=t(16181),re=t(3258),ue=t(8479),ce=t(35225),Ee=t(36868),se=t(17025),ne=t(84040),ee=t(51126),ae=t(12876),he=t(62246),me=t(43887),ge=t(75425),ve=t(16742),Oe=t(25597),Me=t(55525),Pe=t(44454),De=t(45634),We=Object.defineProperty,ye=Object.defineProperties,Fe=Object.getOwnPropertyDescriptors,Ze=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,Re=(le,_e,pe)=>_e in le?We(le,_e,{enumerable:!0,configurable:!0,writable:!0,value:pe}):le[_e]=pe,Ue=(le,_e)=>{for(var pe in _e||(_e={}))Te.call(_e,pe)&&Re(le,pe,_e[pe]);if(Ze)for(var pe of Ze(_e))Ve.call(_e,pe)&&Re(le,pe,_e[pe]);return le},Be=(le,_e)=>ye(le,Fe(_e));const Qe=le=>(0,e.h)(De.Z,Be(Ue({},le),{name:"ActivationUsersIcon"}),(0,e.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));var qe=t(15440),pt=t(63295),st=t(12650),it=t(43498),rt=t(11628),Pt=Object.defineProperty,dt=Object.defineProperties,Ne=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,Ie=(le,_e,pe)=>_e in le?Pt(le,_e,{enumerable:!0,configurable:!0,writable:!0,value:pe}):le[_e]=pe,xe=(le,_e)=>{for(var pe in _e||(_e={}))Ae.call(_e,pe)&&Ie(le,pe,_e[pe]);if(Le)for(var pe of Le(_e))je.call(_e,pe)&&Ie(le,pe,_e[pe]);return le},$e=(le,_e)=>dt(le,Ne(_e));const ot=le=>(0,e.h)(u.l,$e(xe({},le),{name:"LucideShare2",svgParams:{height:24,width:24}}),(0,e.h)(a.Z,{height:24,stroke:le.stroke,fill:le.fill,strokeWidth:le.strokeWidth}));var _t=t(31517),ct=t(11762),at=t(49786),Ut=t(80012),Ft=t(80332),Ot=t(91801),tt=t(13045),It=t(96427),Kt=t(39493),qt=t(71943);const Lt={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var wt=Object.defineProperty,bt=Object.getOwnPropertySymbols,Dt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,zt=(le,_e,pe)=>_e in le?wt(le,_e,{enumerable:!0,configurable:!0,writable:!0,value:pe}):le[_e]=pe,Vt=(le,_e)=>{for(var pe in _e||(_e={}))Dt.call(_e,pe)&&zt(le,pe,_e[pe]);if(bt)for(var pe of bt(_e))$t.call(_e,pe)&&zt(le,pe,_e[pe]);return le},ao=(le,_e,pe)=>new Promise((Se,He)=>{var Ye=et=>{try{Ge(pe.next(et))}catch(nt){He(nt)}},ke=et=>{try{Ge(pe.throw(et))}catch(nt){He(nt)}},Ge=et=>et.done?Se(et.value):Promise.resolve(et.value).then(Ye,ke);Ge((pe=pe.apply(le,_e)).next())});const ut={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},yt={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},Zt={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},St=({pub:le,post:_e,user:pe,open:Se,setOpen:He,placeholderText:Ye=""})=>{const ke=F()().add(2,"minutes"),[Ge,et]=(0,O.eJ)(null),[nt,Et]=(0,O.eJ)(Ye),[mt,vt]=(0,O.eJ)(!1),[Tt,Bt]=(0,O.eJ)(!0),[Ht,Nt]=(0,O.eJ)(ut.PREAMBLE),[_o,ho]=(0,O.eJ)(null),[yo,Ho]=(0,O.eJ)(null),[Eo,Yo]=(0,O.eJ)(!0),[Lo,Mo]=(0,O.eJ)(!0),[po,Bo]=(0,O.eJ)(!1),[Wo,ko]=(0,O.eJ)(F()().add(1,"day").toDate()),[No,Ao]=(0,O.eJ)(""),{getConfigFor:rn}=(0,te.xR)(),Qo={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[yo],qo=Eo?"Send":"Publish",Jo=po&&Wo?F()(Wo).max(ke).fromNow():"",en=`${qo} cross-post ${Eo?Qo:""} ${Jo}`,Uo=Ge==null?void 0:Ge.find(Ct=>Ct.id===_o),tn=(0,ge.pm)();(0,O.d4)(()=>{Se&&!Ge&&Tt&&(()=>ao(void 0,null,function*(){var Ro;try{const vo=yield p().get("/api/v1/restack/restackable-pubs"),Ko=((Ro=vo==null?void 0:vo.body)==null?void 0:Ro.publications)||[];et(Ko),Bt(!1),Ko.length>0&&(ho(Ko[0].id),Ho("everyone"))}catch(vo){console.error("Failed to load user profile for restacking: ",vo)}}))()},[Se,pe,Tt,Bt,Ge,et]),(0,O.d4)(()=>{Se&&Ge&&Ge.length===0&&!Tt&&(0,se.redirect)((0,$.getStartPublishingUrl)())},[Se,Ge,Tt]);const $o=(Ct,Ro)=>{He(!Se,Ro),Nt(ut.PREAMBLE),Ao(null),Bt(!1),Ro&&(Et(""),(0,re.track)(re.EVENTS.RESTACK_POST_SUBMITTED,{restacked_publication_id:le.id,restacked_post_id:_e.id,restacking_user_id:pe.id,restacking_publication_id:Uo.id,restacking_blurb:nt}),tn.popToast(vo=>(0,e.h)(ge.FN,Vt({text:po?`This post is scheduled to cross-post ${Jo}`:"This post was cross-posted to your subscribers"},vo)))),(0,re.track)(re.EVENTS.CROSS_POST_MODAL_CLOSED,{didRestack:Ro})},on=()=>ao(void 0,null,function*(){(0,re.track)(re.EVENTS.CROSS_POST_MODAL_SUBMIT_CLICKED),Bt(!0);try{if(po){const Ct=F()(Wo).max(ke).toDate();yield p().post(`/api/v1/restack/${_e.id}/schedule`).send({audience:yo,restackingPubId:Uo.id,introText:nt,sendEmail:Eo,publishToWeb:Lo,scheduledAt:Ct})}else yield p().post(`/api/v1/restack/${_e.id}`).send({audience:yo,restackingPubId:Uo.id,introText:nt,sendEmail:Eo,publishToWeb:Lo});(0,re.track)(re.EVENTS.CROSS_POST_MODAL_SUBMITTED),$o({},!0);return}catch(Ct){if((0,re.track)(re.EVENTS.CROSS_POST_MODAL_SUBMIT_FAILED,{error:(0,se.getNetworkErrorMessage)(Ct,"Could not retrieve error message")}),console.error("Failed to restack post:",Ct),Ct instanceof TypeError)throw Ao("An unknown error ocurred. This post was not recommended."),Bt(!1),Ct;Ao((0,se.getNetworkErrorMessage)(Ct,"This post could not be recommended.")),Bt(!1)}});return(0,e.h)(he.u_,{isOpen:Se,onClose:$o},(0,e.h)(he.xB,{includeClose:!0,onClose:$o,title:"Cross-post to your Substack"}),(0,e.h)("div",{"data-testid":"modal-ref-id",className:Lt.modalWrap},Ht===ut.PREAMBLE?(0,e.h)(ee.tu,{gap:24,paddingTop:12},(0,e.h)(ee.tu,{gap:16},(0,e.h)("textarea",Vt({className:Lt.textarea,placeholder:"Say why this post is worth reading...",onChange:Ct=>{mt||(vt(!0),(0,re.track)(re.EVENTS.CROSS_POST_MODAL_TYPING_STARTED)),Et(Ct.target.value)},value:nt,maxLength:"800"},qt.J)),(0,e.h)(ee.tu,{gap:12,className:Lt.postPreview,paddingX:16,paddingY:16},(0,e.h)(ee.gq,{alignItems:"center",gap:8},(0,e.h)(Kt.Z,{pub:le,size:24,logo_url:le.logo_url,linkify:!1,className:Lt.pubIcon,noMargin:!0}),(0,e.h)(me.xv.B4,{color:"primary",weight:"semibold",size:14},le.name)),(0,e.h)(ee.tu,{gap:4},(0,e.h)(me.xv.H4,{weight:"semibold"},_e.title),(0,e.h)(me.xv.B3,{color:"secondary"},(0,G.formatEllipsis)(((_e.truncated_body_text||"").replace(H.Substitutions.PUBLICATION_NAME,le.name)||_e.subtitle||"").substring(0,100)))))),No&&(0,e.h)(me.xv.B4,{color:"accent-red"},No),(0,e.h)(ne.zx,{priority:"primary-theme",onClick:()=>{if((0,re.track)(re.EVENTS.CROSS_POST_MODAL_CONTINUE_CLICKED),!nt){Ao("Please write something to your subscribers to continue"),(0,re.track)(re.EVENTS.CROSS_POST_MODAL_CONTINUE_FAILED);return}Ao(""),Nt(ut.AUDIENCE_SELECTION),(0,re.track)(re.EVENTS.CROSS_POST_MODAL_CONTINUED)},disabled:Tt||!nt,className:"restack-modal-button "},"Continue")):(0,e.h)(ee.tu,{gap:24,paddingTop:12},(0,e.h)(ee.tu,{gap:20},(0,e.h)(ee.tu,{gap:8},(0,e.h)(me.xv.B3,null,"Post to"),(0,e.h)(It.P,{value:Uo.id,onChange:Ct=>{Ho("everyone"),ho(Number(Ct))},className:Lt.select},Ge.map(Ct=>(0,e.h)("option",{value:Ct.id},Ct.name)))),(0,e.h)(ee.tu,{gap:8},(0,e.h)(me.xv.B3,null,"Send to"),(0,e.h)(It.P,{value:yo,onChange:Ct=>Ho(Ct),className:Lt.select},((Uo==null?void 0:Uo.payments_state)==="enabled"?(0,w.getAudiencesForPublicListing)():["everyone"]).map(Ct=>(0,e.h)("option",{value:Ct},yt[Ct]))))),(0,e.h)(ee.tu,{gap:12},(0,e.h)(me.xv.B3,null,"Delivery"),(0,e.h)(tt.ji,{value:Eo,label:"Send cross-post via email",onChange:Ct=>Yo(Ct)}),(0,e.h)(tt.ji,{value:Lo,label:"Publish cross-post to web",onChange:Ct=>Mo(Ct)}),(0,e.h)(tt.ji,{value:po,label:"Schedule time to publish cross-post",onChange:Ct=>Bo(Ct),contentBelow:(0,e.h)(tt.HZ,{expanded:po},(0,e.h)(ee.tu,{paddingTop:8},(0,e.h)(tt.Tz,{value:Wo!=null?Wo:new Date,max:F()().add(92,"days").toDate(),onChange:Ct=>{ko(new Date(Ct.currentTarget.value))}})))})),No&&(0,e.h)(me.xv.B4,{color:"accent-red"},No),(0,e.h)(ne.zx,{priority:!Eo&&!Lo?"secondary":"primary-theme",onClick:on,disabled:Tt||!Eo&&!Lo,className:"restack-modal-button "},en))))};var co=Object.defineProperty,To=Object.defineProperties,de=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,we=(le,_e,pe)=>_e in le?co(le,_e,{enumerable:!0,configurable:!0,writable:!0,value:pe}):le[_e]=pe,ze=(le,_e)=>{for(var pe in _e||(_e={}))Ce.call(_e,pe)&&we(le,pe,_e[pe]);if(fe)for(var pe of fe(_e))be.call(_e,pe)&&we(le,pe,_e[pe]);return le},Xe=(le,_e)=>To(le,de(_e)),lt=(le,_e,pe)=>new Promise((Se,He)=>{var Ye=et=>{try{Ge(pe.next(et))}catch(nt){He(nt)}},ke=et=>{try{Ge(pe.throw(et))}catch(nt){He(nt)}},Ge=et=>et.done?Se(et.value):Promise.resolve(et.value).then(Ye,ke);Ge((pe=pe.apply(le,_e)).next())});function Je(le,_e){return le==="button"&&_e==="verbose"?16:le==="button"?20:le==="tabs"?24:le==="compressed"?16:le==="large-on-dark"?20:0}const ht=2,Wt=({isFullWidth:le,children:_e})=>le?(0,e.h)(ee.gq,{className:"post-ufi-button-wrapper",gap:8},_e):_e;function gt({post:le,pub:_e,user:pe,style:Se,justified:He,isStatic:Ye,hideReactions:ke,hideComments:Ge,hideShare:et,hideSavePost:nt,useShareLabel:Et,allowEdit:mt,editButtonIsLast:vt,onChange:Tt,addedPodcastComments:Bt,hidePinning:Ht,showEmailSent:Nt,allowSendEmail:_o,footerHidden:ho,onCommentsClick:yo,onClipClick:Ho,labelStyle:Eo,showPreamble:Yo,preambleConfig:Lo={},position:Mo,hideByDisabling:po,showRestackButton:Bo,showRestackModal:Wo,showClipping:ko,hideFeedRestackButton:No,onToggleMenu:Ao,postReactionToken:rn}){const Qo=(0,oe.Tf)(),{showPins:qo,showAudience:Jo,showDate:an,showDatetime:en,showAuthor:Uo,showPublicationName:tn,showCrossPostedPublicationName:$o}=Lo;ke=ke||!_e.community_enabled||!le.slug||le.is_draft;const on=P()(Object.values((le==null?void 0:le.reactions)||{})),Ct=Nt?!!le.email_sent_at:null,Ro=(0,Q.LC)(),vo=mt&&(pe==null?void 0:pe.is_contributor)&&!Ro,Ko=At({post:le,pub:_e,user:pe,defaultOpen:Bo&&Wo&&Mo!=="post-footer"&&Mo!=="post-footer-full-width"}),sn=pe&&(0,e.h)(bo,{style:Se,pub:_e,post:le,user:pe,hidePinning:Ht,emailSent:Ct!=null?Ct:void 0,allowSendEmail:_o,footerHidden:ho,canBeCrossPosted:Bo,onToggleMenu:Ao}),dn=!No&&_e.community_enabled&&le.slug&&!le.is_draft,_n=Bo&&!Yo&&(po||ke&&Ge&&et&&!vo),un=Eo==="counts-or-none"&&on?"count":Eo==="labels"?"cta":"none",ln=Eo==="counts-or-none"&&le.comment_count?"count":Eo==="labels"?"cta":"none",hn=pe&&le.videoUpload&&(0,N.a)(pe,le,le.videoUpload),nn=Mo==="post-footer-full-width";return(0,e.h)("div",{className:D()("post-ufi",`style-${Se}`,{justified:He,themed:Qo,"single-full-width-button":_n,"vertically-stacked":Mo==="shows-episode-player"})},(0,e.h)(Wt,{isFullWidth:nn},Yo&&Lo&&(0,e.h)(go,{pub:_e,post:le,showPins:qo,showAudience:Jo,showDate:an,showDatetime:en,showEmailSent:Nt,showAuthor:Uo,showPublicationName:tn,showCrossPostedPublicationName:$o}),vo&&!vt&&sn,ko&&le.videoUpload&&(0,e.h)(Me.O,{post:le,mediaUpload:le.videoUpload,disabled:!hn,onClipClick:Ho,style:Se}),(po||!ke)&&(0,e.h)(eo,{post:le,pub:_e,user:pe,labelStyle:po&&ke?"none":un,style:Se,onChange:Tt,isStatic:Ye,isDisabled:po&&ke||Mo==="shows-episode-player"&&!pe,postReactionToken:rn}),(po||!Ge)&&(0,e.h)(Io,{post:le,pub:_e,isStatic:Ye,labelStyle:po&&Ge?"none":ln,style:Se,count:le.comment_count+(Bt||0),onClick:yo,isDisabled:po&&Ge}),dn&&pe&&(0,e.h)(Yt,{pub:_e,post:le,onChange:Tt,style:Se,onToggleMenu:Ao}),!et&&(0,e.h)(R.s,{post:le,pub:_e,user:pe,trigger:{style:Se,labelStyle:Et?"cta":"none",isStatic:Ye},position:Mo})),(0,e.h)(Wt,{isFullWidth:nn},!nt&&!Bo&&pe&&(0,e.h)(Oo,{post:le,labelStyle:ln,position:Mo,style:Se,onChange:Tt}),vo&&vt&&sn,Bo&&!vo&&Mo==="post-header"&&(0,e.h)(e.Fragment,null,(0,e.h)(ae.v2,{trigger:(0,e.h)(ne.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,e.h)(_.Z,{size:20}))},pe&&(0,e.h)(wo,{onClick:Ko.open,post:le,pub:_e,user:pe}),(0,e.h)(Po,{post:le,onChange:Tt}))),Bo&&!vo&&nn&&(0,e.h)(e.Fragment,null,!nt&&(0,e.h)(Oo,{post:le,labelStyle:"verbose",position:Mo,style:"button",onChange:Tt}),pe&&(0,e.h)(Fo,{onClick:Ko.open,post:le,pub:_e,user:pe,style:"button"}))),Ko.modal)}function At({pub:le,user:_e,post:pe,defaultOpen:Se=!1}){const[He,Ye]=(0,O.eJ)(Se);return(0,O.d4)(()=>{Se&&_e&&(0,re.track)(re.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:le.id,restacked_post_id:pe.id,restacking_user_id:_e.id,is_from_email:!0})},[Se,le,pe,_e]),{open:()=>Ye(!0),modal:(0,e.h)(St,{pub:le,user:_e,post:pe,open:He,setOpen:Ye})}}function Rt(){const _e=typeof window=="undefined",pe=250,[Se,He]=(0,O.eJ)(_e?0:window.pageYOffset),[Ye,ke]=(0,O.eJ)(!1),Ge=100,et=(0,O.Ye)(()=>Date.now()+1e3,[]),nt=(0,O.sO)(0);return(0,O.d4)(()=>{if(_e)return;const Et=l()(()=>{const mt=Date.now(),vt=(mt-nt.current)/1e3,Bt=(Se-window.pageYOffset)/vt;nt.current=mt,!(window.pageYOffset<0)&&(mt<et?ke(!1):-Bt>Ge?ke(!0):Bt>Ge&&ke(!1),He(window.pageYOffset))},pe);return window.addEventListener("scroll",Et),()=>window.removeEventListener("scroll",Et)},[_e,Se,He,ke,et,nt,!1]),Ye}function so({post:le,pub:_e,user:pe,isStatic:Se,onChange:He,allowEdit:Ye,hidePinning:ke,showEmailSent:Ge,allowSendEmail:et,hideComments:nt,onCommentsClick:Et,showRestackButton:mt,showRestackModal:vt,setFooterShown:Tt,postReactionToken:Bt}){const Ht=Rt(),Nt=(0,ge.pm)();return(0,O.d4)(()=>{Nt.addOffset(64*(Ht?1:-1)),Tt&&Tt(!Ht)},[Ht,Tt]),(0,e.h)(ee.hs,{alignItems:"center",padding:8,className:D()("mobile-footer-ufi",{hidden:Ht})},(0,e.h)(gt,{post:le,pub:_e,user:pe,isStatic:Se,justified:!0,style:"tabs",onChange:He,allowEdit:Ye,editButtonIsLast:!0,hidePinning:ke,showEmailSent:Ge,allowSendEmail:et,footerHidden:Ht,labelStyle:"counts-or-none",hideComments:nt,onCommentsClick:Et,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:vt,showRestackButton:mt,postReactionToken:Bt}))}function Gt({post:le,pub:_e,user:pe,surface:Se,onChange:He,subscribePromptRef:Ye,postReactionToken:ke}){const Ge=!!(le!=null&&le.reaction),et=(0,Q.LC)(),nt=(0,ue.ib)({pathname:(0,k.pathWithQuery)(et?`/api/v1/cross-post/${le==null?void 0:le.id}/reaction`:`/api/v1/post/${le==null?void 0:le.id}/reaction`,{token:ke}),method:"POST",deps:[le==null?void 0:le.id]}),Et=(0,ce.S)({user:pe,noBase:!1});return{isLiked:Ge,toggle:()=>lt(this,null,function*(){var mt;if(nt.isLoading)return"error";Ge||!Et()&&pe&&!pe.is_admin&&!pe.is_contributor&&(Ye!=null&&Ye.current)&&(0,at.G0)()&&((0,re.track)(re.EVENTS.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:pe!=null&&pe.is_free_subscribed?(0,Ee.P)(pe,_e)?"share":"paid":"free"}),Ye.current.open(),(0,at.RH)(_e));const{reaction:vt,reactions:Tt,reactor_names:Bt}=(0,Ot.fS)(pe,le);le.reaction=vt,le.reactions=Tt,le.reactor_names=Bt,He==null||He({post:le});const Ht=yield nt.refetch(vt?{method:"POST",json:{reaction:"\u2764",surface:Se}}:{method:"DELETE"}),Nt=(mt=Ht==null?void 0:Ht.response)==null?void 0:mt.status;if(Nt){const{reaction:_o,reactions:ho,reactor_names:yo}=(0,Ot.fS)(pe,le);le.reaction=_o,le.reactions=ho,le.reactor_names=yo,He==null||He({post:le})}return Nt===401?"unauthorized":Nt?"error":vt?"liked":"unliked"})}}function Xt(){const le=mo();return(pe,Se,...He)=>lt(this,[pe,Se,...He],function*(Ye,ke,{tabId:Ge}={}){yield(0,ue.rd)(`/api/v1/post/${Ye}/reaction`,ke?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:Ge}}:{method:"DELETE",json:{tabId:Ge}}),le(ke)})}function eo({post:le,pub:_e,user:pe,style:Se,labelStyle:He,onChange:Ye,isStatic:ke,isDisabled:Ge,postReactionToken:et}){const nt=P()(Object.values((le==null?void 0:le.reactions)||{})),Et=He==="count"?(0,G.numberToString)(nt||0):He==="cta"?"Like":null;return(0,e.h)(oo,{post:le,pub:_e,user:pe,onChange:Ye,isStatic:ke,style:Se,postReactionToken:et},({isLiked:mt,handleLike:vt})=>(0,e.h)(uo,{style:Se,state:mt?"liked":void 0,icon:(0,e.h)(st.Z,{className:"icon",height:Je(Se),strokeWidth:ht}),onClick:Ge?()=>{}:vt,noLabel:He==="none",isDisabled:Ge},Et))}function jt({style:le,onClick:_e}){return(0,e.h)(uo,{style:le,state:void 0,icon:(0,e.h)(m.Z,{className:"icon",height:Je(le),strokeWidth:ht}),"aria-label":"menu",onClick:_e})}function Yt({pub:le,post:_e,style:pe,onChange:Se,onToggleMenu:He}){const{canRestack:Ye,isRestacked:ke,restacks:Ge,menuItems:et,nuxModal:nt}=(0,ve.K)({pub:le,post:_e,onRestack:vt=>{Se==null||Se({post:Xe(ze({},_e),{restacked:vt,restacks:Ge+(vt?1:-1)})})}});if(!Ye)return null;const Et=!le.community_enabled,mt=(0,e.h)(uo,{style:pe,state:ke?"restacked":void 0,icon:(0,e.h)(_t.Z,{className:"icon",height:Je(pe),strokeWidth:ht}),noLabel:Ge===0,"aria-label":"menu",isDisabled:Et},Ge.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,e.h)(e.Fragment,null,nt,Et?mt:(0,e.h)(ae.v2,ze({trigger:mt},He&&{onOpen:()=>{He({active:!0})},onClose:()=>{He({active:!1})}}),et))}function to({postId:le,isOpen:_e,onClose:pe}){const Se=(0,te.xR)(),{iString:He}=(0,q.M1)(),[Ye,ke]=(0,O.eJ)(),Ge=Se.getConfigFor("enable_post_summarization")==!0,et=(0,O.sO)(!1),nt=(0,O.I4)(()=>{et.current=!0,p().post(`/api/v1/posts/${le}/summary`).then(Et=>{var mt;(mt=Et.body)!=null&&mt.summary&&ke(Et.body.summary)}).finally(()=>{et.current=!1})},[le]);return(0,O.d4)(()=>{_e&&Ge&&!Ye&&!et.current&&nt()},[_e,nt,Ge,Ye]),Ge?(0,e.h)(he.u_,{isOpen:_e,onClose:pe,width:750},(0,e.h)(he.xB,{includeClose:!0,title:He("Reader guide"),onClose:pe}),(0,e.h)(ee.tu,{padding:16,paddingBottom:32},Ye?(0,e.h)("div",{dangerouslySetInnerHTML:{__html:Ye}}):(0,e.h)(ee.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:300}},(0,e.h)("div",{className:"embed-loader"})))):null}function lo({post:le,pub:_e,user:pe,onChange:Se,showRestackModal:He,canBeCrossPosted:Ye,onSummaryOpen:ke}){const Ge="button",nt=(0,te.xR)().getConfigFor("enable_post_summarization")==!0,Et=At({pub:_e,user:pe,post:le,defaultOpen:He&&Ye}),mt=()=>{Et.open(),(0,re.track)(re.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:_e.id,restacked_post_id:le.id,restacking_user_id:pe.id,is_from_email:!1})};return(0,e.h)(e.Fragment,null,(0,e.h)(ae.v2,{trigger:(0,e.h)(uo,{style:Ge,icon:(0,e.h)(_.Z,{className:"icon edit-icon",size:Je(Ge),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},pe&&(0,e.h)(Po,{post:le,onChange:Se,showIcon:!0}),nt&&(0,e.h)(ae.sN,{icon:(0,e.h)(E.Z,{height:24,strokeWidth:2}),onClick:ke},"Reader guide"),Ye&&(0,e.h)(ae.sN,{icon:(0,e.h)(it.Z,null),onClick:mt},"Cross post"),pe&&(0,e.h)(ae.sN,{icon:(0,e.h)(c.Z,null),href:(0,k.getReaderPostUrl)(le.id)},"Substack Reader")),Et.modal)}function Jt(le){var _e;const pe=P()(Object.values(((_e=le.post)==null?void 0:_e.reactions)||{}));return(0,e.h)(eo,Xe(ze({},le),{labelStyle:pe>0?"count":"none"}))}const fo=({pub:le,user:_e})=>{const[pe,Se]=(0,O.eJ)(_e==null?void 0:_e.email),[He,Ye]=(0,O.eJ)(!1),{iString:ke}=(0,q.M1)();return(0,e.h)(ee.tu,{gap:20},(0,e.h)(ee.tu,{gap:4},(0,e.h)(me.xv.H4,{translated:!0,weight:"semibold"},"Support ",I18N.p(le.name)),(0,e.h)(me.xv.B4,{translated:!0,color:"secondary"},"Since you liked this post, why not subscribe?")),(0,e.h)(ee.tu,{gap:12},(0,e.h)("input",{disabled:!!(_e!=null&&_e.email),value:pe,onChange:Ge=>Se(Ge.currentTarget.value)}),(0,e.h)(ne.zx,{onClick:()=>lt(void 0,null,function*(){(0,re.track)(re.EVENTS.LIKE_UPSELL_FREE_SUBSCRIBED,{email:pe}),Ye(!0);try{const Ge=yield p().post("/api/v1/free").send({email:pe,source:"like-button-upsell"}),{referral_token:et}=Ge.body;(0,re.signup)(),(0,se.redirect)((0,k.getSubscribeUrl)(le,{params:{utm_source:j.UTM_SOURCE.likeButtonUpsell,just_signed_up:!0,referral_token:et}}),{local_navigation:!1})}catch(Ge){alert((0,se.getNetworkErrorMessage)(Ge))}}),grow:!0,disabled:He,priority:"primary-theme"},ke(He?"Please wait...":"Subscribe"))))};function oo({post:le,pub:_e,user:pe,onChange:Se,isStatic:He,children:Ye,style:ke,postReactionToken:Ge}){const et=(0,O.sO)(),nt=(0,O.sO)(),{isLiked:Et,toggle:mt}=Gt({post:le,pub:_e,user:pe,subscribePromptRef:et,onChange:Se,postReactionToken:Ge}),vt=(0,O.sO)(),[Tt,Bt]=(0,O.eJ)(!1),Ht=(0,O.I4)(Nt=>lt(this,null,function*(){var _o;(_o=Nt==null?void 0:Nt.stopPropagation)==null||_o.call(Nt),(yield mt())==="unauthorized"&&Bt(!0)}),[mt]);return(0,O.d4)(()=>{!(vt!=null&&vt.current)||!Tt||vt.current.open()},[Tt]),(0,e.h)("div",{className:D()("like-button-container","post-ufi-button",`style-${ke}`,Et&&"state-liked")},Ye({isLiked:Et,handleLike:Ht}),!He&&Tt&&(0,e.h)(Ot.oq,{modalRef:vt,user:pe,pub:_e,onClose:()=>Bt(!1),react:mt}),pe&&!pe.is_admin&&!pe.is_contributor&&(ke==="button"||ke==="tabs")&&(0,e.h)(Pe.Fx,{ref:et,className:D()("subscribe-prompt-dropdown",!(pe!=null&&pe.is_free_subscribed)&&"free"),hideMenuTail:!0},pe!=null&&pe.is_free_subscribed?(0,Ee.P)(pe,_e)?(0,e.h)(at.xt,{pub:_e,onClose:()=>{var Nt;return(Nt=et.current)==null?void 0:Nt.close()},shareDialogRef:nt}):(0,e.h)(at._q,{pub:_e}):(0,e.h)(fo,{pub:_e,user:pe})),!He&&(0,e.h)(S.ZP,{ref:nt,user:pe,pub:_e,post:le}))}function no({post:le,defaultSaved:_e,isSaved:pe,trackSurface:Se}){var He;return xt({postId:le.id,defaultSaved:(He=_e!=null?_e:le.is_saved)!=null?He:!1,isSaved:pe,trackSurface:Se})}function xt({postId:le,defaultSaved:_e,isSaved:pe,trackSurface:Se}){const[He,Ye]=(0,O.eJ)(_e),ke=pe!=null?pe:He,{refetch:Ge,isLoading:et}=(0,ue.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:le},deps:[le]}),nt=(0,z.yH)(),Et=ro();return{isSaved:ke,onSave:()=>(et||(Ge({method:ke?"DELETE":"POST"}).then(()=>{nt.refetch()}),Ye(!ke),Et(!ke),(0,re.track)(re.EVENTS.POST_SAVED,{post_id:le,surface:Se})),!ke)}}function kt(le,_e,pe){return lt(this,arguments,function*(Se,He,{surface:Ye}){yield(0,ue.rd)("/api/v1/posts/saved",{method:He?"POST":"DELETE",json:{post_id:Se}}),(0,re.track)(re.EVENTS.POST_SAVED,{post_id:Se,surface:Ye,is_saved:He})})}function ro(){const le=(0,ge.pm)(),{iString:_e}=(0,q.M1)();return pe=>{pe?le.popToast(Se=>(0,e.h)(ge.FN,Xe(ze({},Se),{text:_e("Post saved"),Icon:r.Z,cta:_e("View"),href:(0,$.getSavedPostsUrl)()}))):le.popToast(Se=>(0,e.h)(ge.FN,Xe(ze({},Se),{text:_e("Post unsaved"),Icon:o.Z})))}}function mo(){const le=(0,ge.pm)(),{iString:_e}=(0,q.M1)();return pe=>{pe?le.popToast(Se=>(0,e.h)(ge.FN,Xe(ze({},Se),{text:_e("Post liked"),Icon:n.Z}))):le.popToast(Se=>(0,e.h)(ge.FN,Xe(ze({},Se),{text:_e("Post unliked"),Icon:n.Z})))}}function Oo({style:le,post:_e,isSaved:pe,labelStyle:Se,position:He,onChange:Ye}){const{isSaved:ke,onSave:Ge}=no({defaultSaved:pe,post:_e,isSaved:_e.is_saved,trackSurface:He}),{iString:et}=(0,q.M1)(),nt=()=>{const Et=Ge();Ye({post:Xe(ze({},_e),{is_saved:Et})})};return(0,e.h)(uo,{state:ke?"saved":void 0,style:le,icon:(0,e.h)(qe.Z,{className:"icon",height:Je(le,Se==="verbose"?"verbose":null),strokeWidth:ht}),noLabel:Se==="none",verboseLabel:Se==="verbose",onClick:nt},Se==="cta"||Se==="verbose"?et("Save"):null)}function Po({post:le,isSaved:_e,onChange:pe,showIcon:Se}){const{onSave:He}=no({defaultSaved:_e,post:le,isSaved:le.is_saved}),{iString:Ye}=(0,q.M1)(),ke=()=>{const et=He();pe({post:Xe(ze({},le),{is_saved:et})})},Ge=le.is_saved?"var(--color-accent-substack)":void 0;return(0,e.h)(ae.sN,{icon:Se?(0,e.h)(r.Z,{style:{stroke:Ge,fill:Ge}}):void 0,onClick:ke},le.is_saved?Ye("Unsave"):Ye("Save"))}function Io({style:le,count:_e,labelStyle:pe,post:Se,pub:He,isStatic:Ye,onClick:ke,isDisabled:Ge}){const{iString:et}=(0,q.M1)();let nt;return Se!=null&&Se.comment_url_override?nt=Se.comment_url_override:Ye?nt=`${H.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.email}`:He&&(nt=(0,$.getPostUrl)(He,Se,{comments:!0})),(0,e.h)(uo,{style:le,icon:(0,e.h)(pt.Z,{className:"icon",height:Je(le),strokeWidth:ht}),href:Ge?null:nt,onClick:Ge?()=>{}:Et=>{ke?ke(Et):(Et==null||Et.preventDefault(),window.location.href=nt)},noLabel:pe==="none",className:"post-ufi-comment-button",isDisabled:Ge},pe==="cta"&&et("Comment"),pe==="count"&&(0,G.numberToString)(_e||0))}function Do({post:le,user:_e,pub:pe,style:Se,labelStyle:He,isStatic:Ye,onChange:ke,position:Ge}){const et=(0,O.sO)(),nt=(0,O.I4)(()=>{(0,re.track)(re.EVENTS.POST_SHARE_BUTTON_CLICKED,{position:Ge}),et.current.open()},[]),{iString:Et}=(0,q.M1)();let mt;le.share_url_override?mt=le.share_url_override:Ye?le?mt=H.Substitutions.SHARE_URL:mt=H.Substitutions.SHARE_PUB_URL:mt="javascript:void(0)";const vt=He==="none";return(0,e.h)(e.Fragment,null,(0,e.h)(uo,{style:Se,icon:vt?(0,e.h)(a.Z,{className:"icon",height:Je(Se),strokeWidth:ht}):null,onClick:nt,href:mt,noLabel:He==="none",className:D()(!vt&&"no-icon")},He==="cta"&&Et("Share")),!Ye&&(0,e.h)(S.ZP,{ref:et,user:_e,pub:pe,post:le,onChange:ke}))}function Fo({post:le,user:_e,pub:pe,onClick:Se,style:He}){const{iString:Ye}=(0,q.M1)();return(0,e.h)(e.Fragment,null,(0,e.h)(uo,{style:He,icon:(0,e.h)(it.Z,{className:"icon",height:Je(He,"verbose"),strokeWidth:ht}),onClick:()=>{(0,re.track)(re.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:pe.id,restacked_post_id:le.id,restacking_user_id:_e.id,is_from_email:!1}),Se()},noLabel:!1,verboseLabel:!0,title:Ye("Cross-Post")},Ye("Cross-post")))}function wo({post:le,user:_e,pub:pe,onClick:Se}){const He=()=>{(0,re.track)(re.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:pe.id,restacked_post_id:le.id,restacking_user_id:_e.id,is_from_email:!1}),Se()},{iString:Ye}=(0,q.M1)();return(0,e.h)(e.Fragment,null,(0,e.h)(ae.sN,{onClick:He},Ye("Cross-post")))}function bo({style:le,pub:_e,post:pe,user:Se,hidePinning:He,emailSent:Ye,allowSendEmail:ke,footerHidden:Ge,showRestackModal:et,canBeCrossPosted:nt,onSummaryOpen:Et,onToggleMenu:mt}){const vt=(0,O.sO)();Ge&&vt.current&&vt.current.close();const Tt=At({post:pe,pub:_e,user:Se,defaultOpen:et&&nt}),Bt=()=>{Tt.open(),(0,re.track)(re.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:_e.id,restacked_post_id:pe.id,restacking_user_id:Se.id,is_from_email:!1})};return(0,e.h)("div",{className:D()("edit-button-container","post-ufi-button",`style-${le}`)},(0,e.h)(uo,{onClick:()=>vt.current.open(),style:le,icon:(0,e.h)(_.Z,{className:"icon edit-icon",size:Je(le),strokeWidth:2}),noLabel:!0}),(0,e.h)(Ut.y,{ref:vt,pub:_e,post:pe,user:Se,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:He,emailSent:Ye,allowSendEmail:ke,handleCrossPost:nt&&Bt,onSummaryOpen:Et,onToggleMenu:mt}),Tt.modal)}const uo=(0,s.forwardRef)(({icon:le,children:_e,state:pe,style:Se,onClick:He,href:Ye,noLabel:ke,verboseLabel:Ge,noBorder:et,className:nt,isDisabled:Et,iconPosition:mt="left",title:vt},Tt)=>(0,e.h)("a",{role:"button",className:D()("post-ufi-button",`style-${Se}`,nt,pe?`state-${pe}`:void 0,Et?"state-disabled":void 0,_e&&!ke?"has-label":"no-label",et?"no-border":"with-border",Ge?"verbose-label":""),title:vt,href:Ye,onClick:Bt=>{He&&(Bt.stopPropagation(),He(Bt))},ref:Tt},mt==="left"&&le,!ke&&_e&&(0,e.h)("div",{className:"label"},_e),mt==="right"&&le)),xo=({pub:le,post:_e,showAuthor:pe})=>!!(pe&&le.bylines_enabled&&(0,G.getPrintedByline)(le,_e)),Zo=({pub:le,post:_e,showAuthor:pe,showPhoto:Se,isMobileWidth:He})=>xo({pub:le,post:_e,showAuthor:pe})&&!jo({pub:le,post:_e,showAuthor:pe})&&!Vo({pub:le,post:_e,showAuthor:pe,showPhoto:Se})&&!He,jo=({pub:le,post:_e,showAuthor:pe})=>xo({pub:le,post:_e,showAuthor:pe})&&(0,G.getBylineUsers)(_e).length>1,Vo=({pub:le,post:_e,showAuthor:pe,showPhoto:Se})=>{var He;return xo({pub:le,post:_e,showAuthor:pe})&&Se&&((He=(0,G.getBylineUsers)(_e)[0])==null?void 0:He.photo_url)&&le.byline_images_enabled};function zo({post:le,showDatetime:_e,isStatic:pe,fromPostPage:Se,showReactions:He,language:Ye="en"}){const ke=le.reactions?Object.values(le.reactions).reduce((et,nt)=>et+nt,0):0,Ge=Se&&!pe&&He&&ke>=70&&ke<100;return _e&&Ge?F()(le.post_date).locale(Ye).standardDatetimeWithYear():_e&&!Ge?F()(le.post_date).locale(Ye).standardDatetime():pe?F()(le.post_date).locale(Ye).standardDate():Ge?F()(le.post_date).locale(Ye).standardDate({full:Ge}):F()(le.post_date).locale(Ye).standardDateOrTime()}function go({pub:le,post:_e,showPins:pe,showAudience:Se,showDate:He,showDatetime:Ye,showEmailSent:ke,showAuthor:Ge,showPublicationName:et,showCrossPostedPublicationName:nt}){const Et=(0,oe.Tf)(),mt=!!(Ge&&le.bylines_enabled&&(0,G.getPrintedByline)(le,_e)),vt=!1,Tt=He&&_e.post_date&&!_e.is_draft,Bt=ke?!!_e.email_sent_at:null,{iString:Ht,iTemplate:Nt,language:_o}=(0,q.M1)();return(0,e.h)("div",{className:D()("ufi-preamble",{themed:Et})},nt&&_e.restacked_pub_name?(0,e.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},Nt`Published on ${_e.restacked_pub_name}`):null,ke&&Bt&&(0,e.h)("div",{className:"email-sent",title:Ht("This post was sent as an email")},(0,e.h)(i.Z,{className:"post-ufi-preamble-icon",size:16})),pe&&_e.is_section_pinned&&(0,e.h)("div",{className:"pinned"},(0,e.h)(ct.Z,{className:"post-ufi-preamble-icon"})),_e.type==="adhoc_email"?(0,e.h)("div",{className:"audience-adhoc"},(0,e.h)(Qe,{className:"post-ufi-preamble-icon"})):Se&&(0,w.isPaidAudience)(_e.audience)&&(0,e.h)("div",{className:"audience-lock"},(0,e.h)(Oe.Z,{audience:_e.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),Zo({pub:le,post:_e,showAuthor:mt,isMobileWidth:vt})&&(0,e.h)("div",{className:"ufi-preamble-label author"},(0,G.getBylineUsers)(_e).length>0?(0,G.oxfordComma)((0,G.getBylineUsers)(_e).map(ho=>(0,e.h)(e.Fragment,null,(0,e.h)(Ft.ProfileHoverCard,{subject:ho,utmSource:"byline"},(0,e.h)("a",{href:(0,$.getProfileUrl)(ho,le,{base:!0}),onClick:yo=>yo.stopPropagation()},ho.name))))):(0,G.getPrintedByline)(le,_e)),et&&(0,e.h)("div",{className:"post-publication-name"},le.name),Tt&&(0,e.h)("div",{className:"ufi-preamble-label post-date",title:F()(_e.post_date).toISOString()},(0,e.h)("time",{dateTime:F()(_e.post_date).toISOString()},zo({post:_e,showDatetime:Ye,language:_o}))))}const Co=({pub:le,post:_e,user:pe,onChange:Se,postReactionToken:He})=>(0,te.xR)().getConfigFor("like_posts_enabled")&&le.community_enabled?(0,e.h)(Jt,{style:"button",post:_e,pub:le,user:pe,onChange:Se,postReactionToken:He}):null,Mt=({pub:le,post:_e,onClick:pe})=>{const Se=(0,G.showCommentsOnPost)({publication:le,post:_e}),{comment_count:He}=_e;return Se?(0,e.h)(Io,{post:_e,pub:le,labelStyle:He>0?"count":"none",style:"button",count:He,onClick:pe}):null};function Go({hideBottomBorder:le,post:_e,pub:pe,user:Se,onChange:He,onCommentsClick:Ye,onClipClick:ke,showRestackModal:Ge=!1,showTranscriptionButton:et,onTranscriptionClick:nt,themeVariables:Et,postReactionToken:mt}){const vt=(0,Q.LC)(),Tt=(Se==null?void 0:Se.is_contributor)&&!vt,{getSettingFor:Bt}=(0,J.So)(),Ht=!_e.is_draft&&(0,V.x)(Se,{enable_restacking:!!Bt("enable_restacking")},_e,pe,!1),[Nt,_o]=(0,O.eJ)(!1),ho=Se&&_e.videoUpload&&(0,N.a)(Se,_e,_e.videoUpload);return(0,e.h)(ee.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:le?void 0:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,e.h)(ee.hs,{gap:8},(0,e.h)(Co,{post:_e,pub:pe,user:Se,onChange:He,postReactionToken:mt}),(0,e.h)(Mt,{pub:pe,post:_e,onClick:Ye}),(0,e.h)(Yt,{pub:pe,post:_e,onChange:He,style:"button"}),et&&(0,e.h)(jt,{style:"button",onClick:nt})),(0,e.h)(ee.hs,{gap:8},(0,e.h)(R.s,{post:_e,pub:pe,user:Se,trigger:{style:"button",labelStyle:"cta"},showClipping:_e.type==="video",disableClipping:!ho,onClipClick:ke}),Tt?(0,e.h)(bo,{style:"button",pub:pe,post:_e,user:Se,showRestackModal:Ge,canBeCrossPosted:Ht,onSummaryOpen:()=>_o(!0)}):(Se||Ht)&&(0,e.h)(lo,{post:_e,pub:pe,user:Se,onChange:He,showRestackModal:Ge,canBeCrossPosted:Ht,onSummaryOpen:()=>_o(!0)})),(0,e.h)(to,{postId:_e.id,isOpen:Nt,onClose:()=>_o(!1)}))}function Xo({isFooter:le,customization:{showAppUpsell:_e,showShare:pe,showComments:Se,showReactions:He,showListen:Ye,showSave:ke,showRestack:Ge,showCommentRestack:et}}){const nt=le?"email-ufi-2-bottom":"email-ufi-2-top",Et=!le&&(Ge||Ye||ke),mt=le,{iString:vt}=(0,q.M1)();return!le&&!pe&&!Se&&!He&&!Ye&&!ke&&Ge?(0,e.h)(ie.YF,{className:"email-ufi-2-empty",width:"100%"},(0,e.h)("tr",{height:1},(0,e.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,e.h)(ie.YF,{className:nt,width:"100%"},Ge&&le&&(0,e.h)(e.Fragment,null,(0,e.h)(Qt,null),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(ie.YF,{width:"100%",className:"email-ufi-2-row"},(0,e.h)("tr",null,(0,e.h)("td",{width:"95%"},pe&&(0,e.h)(ie._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:H.Substitutions.SHARE_URL},(0,e.h)(rt.Z,ze({},io)),(0,e.h)("span",{className:"email-button-text"},vt("Share"))))),(0,e.h)(Qt,null))))),(0,e.h)(Qt,null),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(ie.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(ie.zK,{gap:8,style:Et?void 0:{margin:"0 auto"}},He?mt?(0,e.h)(ie._i,{aClassName:"email-button-outline",href:H.Substitutions.REACTION_URL},(0,e.h)(st.Z,ze({},io)),(0,e.h)("span",{className:"email-button-text"},vt("Like"))):(0,e.h)(So,{href:H.Substitutions.REACTION_URL},(0,e.h)(st.Z,ze({},io))):null,Se?mt?(0,e.h)(ie._i,{aClassName:"email-button-outline",href:`${H.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.email}`},(0,e.h)(pt.Z,ze({},io)),(0,e.h)("span",{className:"email-button-text"},vt("Comment"))):(0,e.h)(So,{href:`${H.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.email}`},(0,e.h)(pt.Z,ze({},io))):null,pe&&_e&&(mt?(0,e.h)(ie._i,{aClassName:"email-button-outline",href:H.Substitutions.SHARE_URL},(0,e.h)(ot,ze({},io)),(0,e.h)("span",{className:"email-button-text"},vt("Share"))):(0,e.h)(So,{href:H.Substitutions.SHARE_URL},(0,e.h)(ot,ze({},io)))),et&&(mt?(0,e.h)(ie._i,{aClassName:"email-button-outline",href:`${H.Substitutions.RESTACK_COMMENT_URL}&utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.email}`},(0,e.h)(_t.Z,ze({},io)),(0,e.h)("span",{className:"email-button-text"},vt("Restack"))):(0,e.h)(So,{href:`${H.Substitutions.RESTACK_COMMENT_URL}&utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.email}`},(0,e.h)(_t.Z,ze({},io)))))),(0,e.h)("td",{align:"right"},(0,e.h)(ie.zK,{gap:8},pe&&!_e&&!le&&(0,e.h)(ie._i,{aClassName:"email-button-outline",href:H.Substitutions.SHARE_URL},(0,e.h)("div",{className:"email-button-spacer"}),(0,e.h)("span",{className:"email-button-text"},vt("Share"))),_e&&!le&&(0,e.h)(ie._i,{aClassName:"email-button-outline",href:H.Substitutions.POST_APP_LINK_URL},(0,e.h)("div",{className:"email-button-spacer"}),(0,e.h)("span",{className:"email-button-text",style:{marginRight:4}},vt("READ IN APP")),(0,e.h)(K,Xe(ze({},io),{className:D()("icon","text-icon")}))))))))),(0,e.h)(Qt,null))}function Qt(){return(0,e.h)("tr",{height:16},(0,e.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const io={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function So({size:le=38,href:_e,children:pe}){return(0,e.h)(ie.YF,{width:le},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{className:"email-icon-button",href:_e,style:{width:le}},pe))))}},77190:(Y,C,t)=>{t.d(C,{_0:()=>N,EB:()=>j});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(80569),v=t.n(D),P=t(43887),M=t(52743),l=t(96702),_=t(28488),m=t(3258),E=t(17025),c=t(50557),r=t(7922),o=t(19237),n=(x,F,w)=>new Promise((V,$)=>{var k=q=>{try{Q(w.next(q))}catch(z){$(z)}},G=q=>{try{Q(w.throw(q))}catch(z){$(z)}},Q=q=>q.done?V(q.value):Promise.resolve(q.value).then(k,G);Q((w=w.apply(x,F)).next())});const i=({photoUrl:x,newPhotoUrl:F,newPhotoOrientation:w,updatePhoto:V})=>{const $=(0,s.sO)(null),k=()=>n(void 0,null,function*(){const G=$.current.files[0];if($.current.value="",!G){V({newPhotoUrl:null,newPhotoOrientation:null});return}let Q;try{Q=yield(0,E.getDataUrlFromFile)(G)}catch(z){console.error("Failed to get data URL from file:",z),alert(z.message);return}let q;try{q=yield(0,E.getExifOrientationFromFile)(G)}catch(z){console.error("Failed to extract EXIF data from file:",z)}V({newPhotoUrl:Q,newPhotoOrientation:q})});return(0,e.h)("div",{className:"profile-photo-wrap"},x&&(0,e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${F||(0,M.imginary)(x,144)})`,transform:(0,E.transformExifOrientation)(w)}}),!x&&(0,e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,M.imginary)(M.DEFAULT_PHOTO_URL,144)})`,transform:(0,E.transformExifOrientation)(w)}}),(0,e.h)(r.Z,{onClick:()=>{((0,E.isIE)()||(0,E.isFirefox)())&&$.current.click()}},(0,e.h)("input",{ref:$,type:"file",name:"photo",accept:"image/*",onChange:k}),(0,e.h)("div",{className:"add-photo-fab",onClick:G=>{G.preventDefault(),$.current.click()}},(0,e.h)(o.Z,{size:20,color:"var(--color-light-primary)"}))))};var d=t(8925),p=t(63397),f=t(39493),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,A=(x,F,w)=>F in x?u(x,F,{enumerable:!0,configurable:!0,writable:!0,value:w}):x[F]=w,U=(x,F)=>{for(var w in F||(F={}))b.call(F,w)&&A(x,w,F[w]);if(L)for(var w of L(F))I.call(F,w)&&A(x,w,F[w]);return x},B=(x,F)=>g(x,y(F)),W=(x,F)=>{var w={};for(var V in x)b.call(x,V)&&F.indexOf(V)<0&&(w[V]=x[V]);if(x!=null&&L)for(var V of L(x))F.indexOf(V)<0&&I.call(x,V)&&(w[V]=x[V]);return w},Z=(x,F,w)=>new Promise((V,$)=>{var k=q=>{try{Q(w.next(q))}catch(z){$(z)}},G=q=>{try{Q(w.throw(q))}catch(z){$(z)}},Q=q=>q.done?V(q.value):Promise.resolve(q.value).then(k,G);Q((w=w.apply(x,F)).next())});const K=({sub:x,onSetVisibility:F,source:w})=>{const V=x.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:V,logo_url:V.logo_url||V.author_photo_url}),h("span",null,V.name)),h("div",{className:"right"},h(BigCheckbox,{checked:x.visibility==="public",onChange:()=>F(x.visibility==="public"?"private":"public")})))},R=({profile:x,onFinalizeVisibility:F,onSetVisibility:w,source:V})=>{const{iString:$}=useI18N();if(!x)return;const k=x.subscriptions.every(({visibility:z})=>z==="public"),G=()=>{w(x.subscriptions.reduce((z,{publication:J})=>B(U({},z),{[J.id]:k?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:x.subscriptions.length})},Q=z=>J=>{w(x.subscriptions.reduce((te,{visibility:oe,publication:ie})=>B(U({},te),{[ie.id]:ie.id===z.id?J:oe}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:J})},q=h("button",{className:"small",onClick:G},$(k?"Hide all":"Show all"));return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},q),h("div",{className:"edit-sub-visibility-frame"},x.subscriptions.map(z=>h(K,{sub:z,onSetVisibility:Q(z.publication),source:V}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:F},$("Done"))))};class S extends e.Component{constructor(F,w){var V;super(F,w),this.formRef=(0,e.createRef)(),this.state={newName:null,newHandle:null,newBio:null,newEmail:F.user&&F.user.is_magic?F.user.email:null},F.isPostInvite&&!((V=F.user)!=null&&V.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var F,w,V;this.props.autoSubmit&&(this.isComplete()?(F=this.formRef.current)==null||F.handleSubmit():(V=(w=this.props).onAutoSubmitFailed)==null||V.call(w))}isComplete(){const{user:F,needsPhoto:w}=this.props;return F&&!F.is_magic&&F.name&&(!w||F.photo_url)}onFileInputChanged(){return Z(this,null,function*(){const F=this.fileInput.files[0];if(this.fileInput.value="",!F){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let w;try{w=yield(0,E.getDataUrlFromFile)(F)}catch($){console.error("Failed to get data URL from file:",$),alert($.message);return}let V;try{V=yield(0,E.getExifOrientationFromFile)(F)}catch($){console.error("Failed to extract EXIF data from file:",$)}this.setState({newPhotoUrl:w,newPhotoOrientation:V})})}onError(F){var w,V;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(V=(w=this.props).onAutoSubmitFailed)==null||V.call(w)),this.setState({sentLoginEmail:!1}),F.status===401&&this.sendLoginEmail()}createDefaultPublication(F,w){return Z(this,null,function*(){const{iTemplate:V}=this.props;try{const $=yield v().get("/api/v1/publication/suggestion"),k=w||V`${F} on Substack`;yield v().post("/api/v1/publication").send({name:F,subdomain:$.body.subdomain,hero_text:k,tos:!0})}catch($){(0,m.track)(m.EVENTS.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",$)}})}sendLoginEmail(){return Z(this,null,function*(){const F=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!F)){this.setState({loading:!0});try{yield v().post("/api/v1/email-login").send({email:F,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(w){console.error("Failed send login email:",w)}this.setState({loading:!1})}})}render({className:F,user:w,numVisibleSubscriptions:V,numSubscriptions:$,freeSignup:k,freeSignupEmail:G,initialPhotoUrl:Q,needsPhoto:q,optionalPhoto:z,showHandle:J=!0,token:te,text:oe,onSuccess:ie,prepareData:re,pageTitle:ue,primaryEligiblePublications:ce,isPostInvite:Ee,complete:se,profileExists:ne,onSkip:ee,onEditReadVisibility:ae,barebones:he,onEditRecommendations:me,numRecommendationsToMake:ge,noSubscribeCta:ve,style:Oe,iString:Me,iPlural:Pe},{newPhotoUrl:De,newPhotoOrientation:We,newName:ye,newHandle:Fe,newEmail:Ze,loading:Te,sentLoginEmail:Ve,sentAccountConfirmationEmail:Re,newBio:Ue,createPublication:Be}){const Ke=De||Q||(0,l.ln)(w,{noFallbackToSignedOut:!0}),Qe=typeof ue=="string"?ue:this.isComplete()?Me("Update your profile"):Me("Create your profile"),qe=ye||w&&w.name||"",pt=Fe||(w==null?void 0:w.handle)||"",st=typeof Ue=="string"?Ue:w&&w.bio||"",it=(rt,Pt)=>Z(this,null,function*(){if(rt.body.emailConfirmationRequired){this.setState({sentAccountConfirmationEmail:!0});return}Be&&(yield this.createDefaultPublication(qe,st)),ie(rt,Pt)});return(0,e.h)("div",{className:T()("profile-updater",F),style:Oe},(0,e.h)("h2",{className:"page-title profile-updater-title"},Qe),(Ke||q||z)&&(0,e.h)(i,{photoUrl:Ke,newPhotoUrl:De,newPhotoOrientation:We,updatePhoto:({newPhotoOrientation:rt,newPhotoUrl:Pt})=>this.setState({newPhotoOrientation:rt,newPhotoUrl:Pt}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,e.h)(d.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:re,onSuccess:it,onError:rt=>this.onError(rt),noInlineErrors:!0,loading:Te,autoLock:!0},(0,e.h)("label",{htmlFor:"name"},Me("Name (Required)")),(0,e.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:Me("Type your name..."),name:"name",id:"name",value:qe,onInput:rt=>this.setState({newName:rt.target.value})}),J&&(0,e.h)(e.Fragment,null,(0,e.h)("label",{htmlFor:"handle"},Me("Handle")),(0,e.h)("input",{type:"text",className:"profile-name",placeholder:Me("Type your handle..."),name:"handle",id:"handle",value:pt,onInput:rt=>this.setState({newHandle:rt.target.value})})),!he&&(0,e.h)("label",{htmlFor:"bio"},"Bio"),!he&&(0,e.h)("textarea",{className:"profile-bio",placeholder:Me("Say something about yourself..."),name:"bio",id:"bio",value:st,onInput:rt=>this.setState({newBio:rt.target.value})}),Ee&&(0,e.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),Ee&&(0,e.h)("div",{className:"bio-guest-tip"},Me("Tip: this will be shown at the bottom of your guest post")),Ee&&ce&&(w==null?void 0:w.has_publication)&&ce.length>1&&(0,e.h)(e.Fragment,null,(0,e.h)("label",null,Me("Publication to display")),(0,e.h)("div",{className:"primary-publication-selector"},ce.map((rt,Pt)=>(0,e.h)("label",{className:"publication-selector-row",for:`primary-radio-${rt.id}`},(0,e.h)("input",{id:`primary-radio-${rt.id}`,type:"radio",name:"primary_publication_user_id",value:rt.id,checked:Pt===0}),(0,e.h)(f.Z,{pub:rt.publication,logo_url:(0,M.imginary)(rt.publication.logo_url,28*2,{height:28*2,crop:"fill"}),linkify:!1,size:28,title:rt.publication.name}),(0,e.h)("div",{className:"primary-publication-name"},rt.publication.name))))),(!w||w.is_magic)&&!G&&!Ee&&(0,e.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:Ze,onInput:rt=>this.setState({newEmail:rt.target.value})}),!ve&&!(w&&(w.is_subscribed||w.is_free_subscribed)||k)&&(0,e.h)("label",{className:"profile-signup-checkbox"},(0,e.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," ",Me("Subscribe to the newsletter")),Ee&&!(w!=null&&w.has_publication)&&(0,e.h)("label",{className:"profile-signup-checkbox"},(0,e.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:Be,onChange:rt=>this.setState({createPublication:rt.target.checked})}),Me("Create a Substack publication for me")),(0,e.h)("input",{type:"hidden",name:"confirmation_redirect_pathname",value:document.location.pathname}),(0,e.h)("input",{type:"hidden",name:"photo_url",value:Ke}),(0,e.h)("input",{type:"hidden",name:"user_id",value:(w==null?void 0:w.id)||""}),(0,e.h)("input",{type:"hidden",name:"needs_photo",value:!!q}),(0,e.h)("input",{type:"hidden",name:"token",value:te}),se&&(0,e.h)("input",{type:"hidden",name:"complete",value:!0}),(0,e.h)("div",{id:"error-container"},Ve&&(0,e.h)(P.xv,{as:"div",translated:!0,className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,e.h)("b",null,I18N.p(Ze))," with a link that you can use to sign in."),Re&&(0,e.h)("div",{className:"error other-error"},Me("We have sent you a confirmation email. Please check your inbox before continuing."))),(0,e.h)("p",{className:T()("left",{hidden:!(typeof V=="number"&&$>0&&ae)})},ne?Pe("1 subscription is displayed on your profile","%1 subscriptions are displayed on your profile",V):Pe("1 subscription will be displayed on your profile","%1 subscriptions will be displayed on your profile",V)," ","(",(0,e.h)("a",{onClick:ae},Me("edit")),")"),!ne&&me&&ge>0&&(0,e.h)("p",{className:"left second"},Pe("1 recommendation will be made on your publication","%1 recommendations will be made on your publication",ge)," ","(",(0,e.h)("a",{onClick:me},"edit"),")"),(0,e.h)("div",{className:"modal-ctas"},(0,e.h)("p",{className:T()("skip",{hidden:!ee})},(0,e.h)("a",{className:"small",onClick:ee||(()=>{})},Me("Skip for now"))),(0,e.h)(r.Z,{className:"primary",type:"submit"},oe||Me("Save")),Ee&&(0,e.h)(e.Fragment,null,(0,e.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,e.h)(P.xv,{translated:!0,as:"div",className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,e.h)("a",{href:`${(0,M.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}const N=(0,_.fz)(S);class j extends p.p{renderChildren(){const F=this.props,{ref:w,onBeforeClose:V,contributor:$}=F,k=W(F,["ref","onBeforeClose","contributor"]);return(0,e.h)("div",{className:"profile-updater-modal"},$?(0,e.h)(H,B(U({},k),{onSuccess:()=>this.close(!0)})):(0,e.h)(N,B(U({},k),{onSuccess:()=>this.close(!0)})))}}const H=({profile:x,user:F,pub:w,onSuccess:V,isOwnProfile:$})=>{const k=(0,s.sO)(),{iString:G,iTemplate:Q}=(0,_.M1)(),[q,z]=(0,s.eJ)(null),[J,te]=(0,s.eJ)(null),oe=q||x&&x.photo_url,[ie,re]=(0,s.eJ)(x.name),[ue,ce]=(0,s.eJ)(x.bio),Ee=()=>Z(void 0,null,function*(){var se;const ne=(se=k.current)!=null&&se.files?k.current.files[0]:null;if(k.value="",!ne){z(null),te(null);return}let ee;try{ee=yield(0,E.getDataUrlFromFile)(ne)}catch(he){console.error("Failed to get data URL from file:",he),alert(he.message);return}let ae;try{ae=yield(0,E.getExifOrientationFromFile)(ne)}catch(he){console.error("Failed to extract EXIF data from file:",he)}z(ee),te(ae)});return(0,e.h)("div",{className:"profile-updater"},(0,e.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,e.h)("div",{className:"profile-photo-wrap"},oe&&(0,e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${q||(0,M.imginary)(x.photo_url,144)})`,transform:(0,E.transformExifOrientation)(J)}}),(0,e.h)(r.Z,{onClick:()=>{((0,E.isIE)()||(0,E.isFirefox)())&&k.click()}},!oe&&G("Set photo"),(0,e.h)("input",{ref:k,type:"file",name:"photo",accept:"image/*",onChange:()=>Ee()}))),(0,e.h)(d.ZP,{method:"patch",action:`/api/v1/publication/users/${x.id}`,onSuccess:V,autoLock:!0},(0,e.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:ie,onInput:se=>re(se.target.value)}),(0,e.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:ue,onInput:se=>ce(se.target.value)}),(0,e.h)("input",{type:"hidden",name:"photo_url",value:oe}),(0,e.h)("span",{className:"notice"},(0,e.h)(P.xv,{translated:!0,as:"p"},(0,e.h)("b",null,"Note:")," This is a contributor profile, viewable by ",I18N.p(w.name),"'s readers."),$&&(0,e.h)(P.xv,{translated:!0,as:"p"},"You may also edit your"," ",(0,e.h)("a",{native:!0,href:`${(0,M.getReaderProfileUrl)(F)}`},"personal profile"),".")),(0,e.h)(r.Z,{className:"primary",type:"submit"},G("Update profile"))))}},91093:(Y,C,t)=>{t.d(C,{Z:()=>S});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(25380),v=t(59009),P=t(52743),M=t(3258),l=t(17025),_=t.n(l),m=t(92271),E=t(75425),c=t(97878),r=t(84302),o=t(7775),n=t(74957),a=t(59736),i=t(63397),d=t(68685),p=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,b=(N,j,H)=>j in N?p(N,j,{enumerable:!0,configurable:!0,writable:!0,value:H}):N[j]=H,I=(N,j)=>{for(var H in j||(j={}))y.call(j,H)&&b(N,H,j[H]);if(g)for(var H of g(j))L.call(j,H)&&b(N,H,j[H]);return N},A=(N,j)=>f(N,u(j));const U="https://twitter.com",B=()=>{const N=(0,E.pm)();return(j,H=null)=>N.popToast(x=>(0,e.h)(E.FN,A(I({},x),{className:d.Z.toast,text:j,cta:H})))},W=({post:N,publication:j,autoSharedOnTwitter:H,showAfter:x,publicationTwitterScreenName:F,authorVersion:w})=>{const V=(0,s.sO)(null),[$,k]=(0,s.eJ)(!0),G=B();(0,s.d4)(()=>{H&&G("Post shared to Twitter",F?(0,e.h)("a",{className:d.Z.cta,href:`${U}/${F}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const Q=()=>{k(!1)};return!$&&x?x:(0,e.h)(i.Z,{testID:"share-modal",openByDefault:!0,className:T()("force-light-theme",d.Z.modal),ref:V,variant:"structured",modalTitle:`Share your ${w?"substack:":"post:"}`,modalFooter:(0,e.h)(m.z,{variant:w?"primary":"secondary",look:"button",onClick:q=>{q.preventDefault(),V.current.close()}},w?"View Dashboard":"View post"),onBeforeClose:Q},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(D.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,w?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!w&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(R,{modalRef:V})),(0,e.h)(Z,{post:N,publication:j,hideEmailOption:!w,trackingParams:{sd:"pf"},autoSharedOnTwitter:H,authorVersion:w})))},Z=({post:N,publication:j,hideEmailOption:H=!1,trackingParams:x,autoSharedOnTwitter:F,authorVersion:w})=>{const V=w?(0,P.getBaseUrl)(j):N.canonical_url,$=G=>{(0,M.track)(M.EVENTS.SHARE_LINK_CLICKED,{name:G,post_id:N==null?void 0:N.id,source:"fullscreen-author-share-dialog"})},k=B();return(0,e.h)(e.Fragment,null,(0,e.h)(K,{onClick:()=>{$("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,P.serializeQuery)({u:(0,P.updateQuery)(V,I({utm_source:v.UTM_SOURCE.facebook},x))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(r.Z,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!F&&(0,e.h)(K,{onClick:()=>{$("twitter"),window.open(`${U}/share?${(0,P.serializeQuery)({url:(0,P.updateQuery)(V,I({utm_source:v.UTM_SOURCE.twitter},x))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(a.Z,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(K,{onClick:()=>{(0,l.copyToClipboard)((0,P.updateQuery)(V,x)),$("copy"),k("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(o.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!H&&(0,e.h)(K,{onClick:()=>{$("email"),window.open(`mailto:?${(0,P.serializeQuery)({subject:w?`Check out ${j.name}`:N.title,body:(0,P.updateQuery)(V,I({utm_source:v.UTM_SOURCE.email},x))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(n.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!w&&(0,e.h)(K,{onClick:()=>{$("media-assets"),window.open(`${(0,P.getPostUrl)(j,N)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(c.Z,{stroke:"#404040",fill:"white"}),"View shareable images")))},K=N=>(0,e.h)("a",A(I({},N),{native:!0})),R=({modalRef:N})=>{var j,H,x;let F="";typeof window!="undefined"&&(F=window.location.host);const w=(j=document.head.querySelector('meta[property="og:image"]'))==null?void 0:j.content,V=(H=document.head.querySelector('meta[property="og:title"]'))==null?void 0:H.content,$=(x=document.head.querySelector('meta[property="og:description"]'))==null?void 0:x.content;return(0,e.h)("div",{onClick:()=>{N.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},w&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:w,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},F),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},V),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},$)))},S=W},91801:(Y,C,t)=>{t.d(C,{E6:()=>U,dJ:()=>S,fS:()=>B,oq:()=>N,xl:()=>K});var e=t(6400),s=t(94184),O=t.n(s),T=t(12297),D=t.n(T),v=t(80569),P=t.n(v),M=t(82626),l=t(52743),_=t(83322),m=t(28488),E=t(78515),c=t(3258),r=t(17025),o=t.n(r),n=t(51126),a=t(43887),i=t(3341),d=t(12650),p=t(63397),f=Object.defineProperty,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,L=(j,H,x)=>H in j?f(j,H,{enumerable:!0,configurable:!0,writable:!0,value:x}):j[H]=x,b=(j,H)=>{for(var x in H||(H={}))g.call(H,x)&&L(j,x,H[x]);if(u)for(var x of u(H))y.call(H,x)&&L(j,x,H[x]);return j},I=(j,H,x)=>new Promise((F,w)=>{var V=G=>{try{k(x.next(G))}catch(Q){w(Q)}},$=G=>{try{k(x.throw(G))}catch(Q){w(Q)}},k=G=>G.done?F(G.value):Promise.resolve(G.value).then(V,$);k((x=x.apply(j,H)).next())});const A="\u2764",U=(j,H,x)=>{const{reaction:F,reactions:w,reactor_names:V}=W(j,H,x);Z(H,F,w,V)},B=(j,H)=>W(j,H,!H.reaction),W=(j,H,x)=>{let{reaction:F,reactions:w={},reactor_names:V=[]}=H;return w=b({},w),V=[...V],x&&!F?(F=A,w[F]=w[F]?w[F]+1:1,j&&j.is_public_admin&&V.push(j.name||"author")):!x&&F&&(w[A]=w[A]?w[A]-1:0,j&&j.is_public_admin&&(V=V.filter($=>$!==(j.name||"author"))),F=null),{reaction:F,reactions:w,reactor_names:V}},Z=(j,H,x,F)=>{j.reaction=H,j.reactions=x,j.reactor_names=F};function K(j,H,x,F){const w=(0,l.pathWithQuery)(`/api/v1/${H?"comment":"post"}/${j.id}/reaction`,{token:F});return x?P().post(w).send({reaction:A}):P().delete(w)}class R extends e.Component{constructor(){super(...arguments),this.state={includeModal:!1},this.modalRef=(0,e.createRef)(null),this.react=H=>I(this,null,function*(){if(this.props.isStatic)return;H&&H.stopPropagation();const F=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(F),this.props.noSelfUpdate)return;const w=yield(0,r.stateLock)(this,"locked",(V,$)=>I(this,null,function*(){const k=$.comment||$.post,G=K(k,!!$.comment,F,$.token),{reaction:Q,reactions:q,reactor_names:z}=B($.user,k);this.notifyParent({reactions:q,reaction:Q,reactor_names:z});let J;try{yield G}catch(te){J=te,this.notifyParent(k)}return{error:J,reaction:Q}}));return w&&w.error&&(w.error.response&&w.error.response.statusCode===401?yield this.reactionRejected(w.reaction):alert((0,r.getNetworkErrorMessage)(w.error))),!!w&&!w.error})}notifyParent({reaction:H,reactions:x,reactor_names:F}){const w=b({},this.props.post),V=this.props.comment&&b({},this.props.comment);Z(V||w,H,x,F),this.props.onChange&&this.props.onChange({post:w,comment:V})}reactionRejected(H){return I(this,null,function*(){(0,c.track)(c.EVENTS.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!H}),yield new Promise(x=>{this.state.includeModal?this.modalRef.current.open(x):this.setState({includeModal:!0},()=>this.modalRef.current.open(x))})})}render({className:H,user:x,pub:F,comment:w,height:V,isStatic:$,post:k,buttonStyle:G,hideReactionCount:Q,countInParenthesesStyle:q,iString:z}){const J=w||k,te=J.reaction,oe=J.reactions||{},ie=D()(Object.values(oe));let re;return k&&k.reaction_url_override?re=k.reaction_url_override:$?re=M.Substitutions.REACTION_URL:re="javascript:void(0)",(0,e.h)(a.xv,{as:"span",decoration:"hover-underline",color:te?"accent-red":"pub-secondary-text",className:H},this.props.render?this.props.render({liked:te,numReactions:ie>0?(0,_.numberToString)(ie):null,onClick:ue=>{this.react(ue)}}):(0,e.h)("a",{href:re,className:O()("like-button",{button:G,"post-meta-button":G,liked:te}),onClick:ue=>this.react(ue)},(0,e.h)(n.hs,{gap:6,alignItems:"center",className:H},$?(0,e.h)(d.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:V,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,e.h)(n.hs,{className:"reaction-container"},(0,e.h)(d.Z,{className:"animation"}),!te&&(0,e.h)(d.Z,{strokeWidth:2,height:V,fill:"transparent",stroke:"var(--color-secondary-themed)"}),te&&(0,e.h)(d.Z,{height:V,strokeWidth:2})),q?(0,e.h)(a.xv.Meta,{color:te?"accent-red":"pub-secondary-text",className:"like-count"},z(te?"Liked":"Like"),!Q&&ie>0?` (${(0,_.numberToString)(ie)})`:""):!Q&&ie>0?(0,e.h)("span",{className:"like-count"},(0,_.numberToString)(ie)):G?(0,e.h)("span",{className:"like-count"},z("Like")):null)),!$&&this.state.includeModal&&(0,e.h)(N,{modalRef:this.modalRef,user:x,pub:F,comment:w,react:this.react}))}}const S=(0,m.fz)(R);function N({comment:j,pub:H,user:x,modalRef:F,onClose:w,react:V}){const{iString:$}=(0,m.M1)();return(0,e.h)(p.Z,{ref:F,onClose:w},(0,e.h)(n.tu,{alignItems:"center",paddingTop:80,gap:24},(0,e.h)(a.xv.H2,null,$(j?"Subscribe to like this comment":"Subscribe to like this post")),(0,e.h)(i.Z,{user:x,pub:H,showLogin:!0,showTerms:!0,source:"like_button",onSuccess:k=>I(this,null,function*(){const G=k&&k.body&&k.body.email;k&&k.body&&k.body.prompt_to_login||!(yield V())?window.location.href=(0,l.getSigninUrl)({for_pub:H.subdomain,email:G}):F!=null&&F.current&&((0,E.a)({freeSignup:!0,freeSignupEmail:G}),yield F.current.close())})})))}},37178:(Y,C,t)=>{t.d(C,{D:()=>L});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(80569),v=t.n(D),P=t(28488),M=t(52743),l=t(83322),_=t(39493),m=t(92271),E=t(62246),c=t(50557),r=t(86575),o=Object.defineProperty,n=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(b,I,A)=>I in b?o(b,I,{enumerable:!0,configurable:!0,writable:!0,value:A}):b[I]=A,u=(b,I)=>{for(var A in I||(I={}))d.call(I,A)&&f(b,A,I[A]);if(i)for(var A of i(I))p.call(I,A)&&f(b,A,I[A]);return b},g=(b,I)=>n(b,a(I)),y=(b,I,A)=>new Promise((U,B)=>{var W=R=>{try{K(A.next(R))}catch(S){B(S)}},Z=R=>{try{K(A.throw(R))}catch(S){B(S)}},K=R=>R.done?U(R.value):Promise.resolve(R.value).then(W,Z);K((A=A.apply(b,I)).next())});const L=({pub:b,pubsToRecommend:I})=>{const{iString:A,iTemplate:U,iPlural:B}=(0,P.M1)(),[W,Z]=(0,s.eJ)(!0),[K,R]=(0,s.eJ)(!0),[S,N]=(0,s.eJ)((I||[]).reduce((V,$)=>g(u({},V),{[$.id]:!0}),{})),j=()=>{Z(!W),R(!1)},H=V=>{const $=u({},S);$[V]=!$[V],N($)},x=()=>y(void 0,null,function*(){try{const V=Object.keys(S).filter($=>S[$]===!0).map($=>Number($));yield v().put("/api/v1/recommendations/multiple").send({recommending_publication_id:b.id,recommended_publication_ids:V,source:"post_publish_cta",suggested:V.map(()=>!0)}),V.length&&(0,r.ZP)(B("Recommended %1 publication","Recommended %1 publications",V.length),{timeout:1500}),j()}catch(V){console.error("Failed to add recommendations: ",V),j()}});let F,w;return I!=null&&I.length&&(F=(Object.values(S).filter(V=>V===!0)||[]).length,w=I.length>1?B("Do you want to recommend %2 and %1 other publication","Do you want to recommend %2 and %1 other publications",I.length-1,I[0].name):U`Do you want to recommend ${I[0].name}`),(0,e.h)(e.Fragment,null,K?(0,e.h)(E.u_,{isOpen:W,onClose:j},(0,e.h)(E.xB,{onClose:j,title:w}),(0,e.h)(E.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},I.length>1?U`Since you embedded ${I.length} publications on your post, we thought you might want to recommend them to your readers`:U`Since you embedded ${I[0].name} on your post, we thought you might want to recommend them to your readers`),I&&I.length&&I.map((V,$)=>(0,e.h)("div",{className:T()("recommend-publication-container",{last:$===I.length-1}),onClick:()=>H(V.id)},(0,e.h)(_.Z,{pub:V,size:40,logo_url:V.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,M.getBaseUrl)(V),target:"_blank"},V.name),(0,e.h)("p",{className:"author-name"},(0,l.getByLine)(V))),(0,e.h)(c.p,{checked:S[V.id]?S[V.id]:!1}))))),(0,e.h)(E.mz,{alignment:"center",primaryButton:(0,e.h)(m.z,{onClick:x,variant:"primary"},F===0?A("Continue"):B("Recommend %1 publication","Recommend %1 publications",F)),secondaryButton:(0,e.h)(m.z,{onClick:j,variant:"secondary"},A("Maybe later"))})):null)}},67023:(Y,C,t)=>{t.d(C,{Z:()=>l});var e=t(6400),s=t(96220),O=t(28488),T=t(51126),D=t(43887),v=t(57258),P=t(33312);const l=({isSelected:_,tier:m})=>{const{iString:E,iTemplate:c,iPlural:r}=(0,O.M1)(),o={[v.RewardType.CompOneMonth]:E("1 month comp"),[v.RewardType.CompThreeMonths]:E("3 month comp"),[v.RewardType.CompSixMonths]:E("6 month comp"),[v.RewardType.CompNineMonths]:E("9 month comp"),[v.RewardType.CompTwelveMonths]:E("12 month comp"),[v.RewardType.Custom]:E("Custom")};return(0,e.h)(T.tu,{className:P.Z.rewardBox,border:"detail-themed",radius:12,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:_?"var(--color-accent-themed)":void 0}},(0,e.h)(T.gq,{gap:4,alignItems:"center"},new Array(m.display_order).fill(0).map(()=>(0,e.h)(s.Z,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(D.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},m.reward_type==="custom"?m.reward_description:o[m.reward_type]),(0,e.h)(D.xv.Meta,{weight:"semibold",style:{color:_?"var(--color-accent-themed)":void 0}},_?c`You're here!`:r("1 Referral","%1 Referrals",m.num_referrals_required)))}},21397:(Y,C,t)=>{t.d(C,{T:()=>P});var e=t(6400),s=t(30396),O=t(27667),T=(M,l,_)=>new Promise((m,E)=>{var c=n=>{try{o(_.next(n))}catch(a){E(a)}},r=n=>{try{o(_.throw(n))}catch(a){E(a)}},o=n=>n.done?m(n.value):Promise.resolve(n.value).then(c,r);o((_=_.apply(M,l)).next())});const D=(0,e.createContext)(()=>{});function v({children:M}){const[l,_]=useState(null),m=()=>_(null);return h(D.Provider,{value:_},M,h(ReportContentModal,{isOpen:!!l,onClose:m,pub:l==null?void 0:l.pub,canReportToAdmins:l==null?void 0:l.canReportToAdmins,onSubmit:(...E)=>T(this,null,function*(){return m(),l==null?void 0:l.onSubmit(...E)})}))}function P(){return(0,s.qp)(D)}},34988:(Y,C,t)=>{t.d(C,{ZP:()=>Q});var e=t(6400),s=t(98661),O=t(91004),T=t(83322),D=t(52743),v=t(28488),P=t(3258),M=t(90304),l=t(17025),_=t.n(l),m=t(51126),E=t(12876),c=t(43887),r=t(7922),o=t(46595),n=t(51889),a=t(54813),i=t(64484),d=t(73416),p=t(21302),f=t(65665),u=t(7775),g=t(74957),y=t(41874),L=t(95950),b=t(63397),I=t(79786),A=t(37812),U=t(59009),B=Object.defineProperty,W=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,R=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,j=Reflect.get,H=(z,J,te)=>J in z?B(z,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):z[J]=te,x=(z,J)=>{for(var te in J||(J={}))S.call(J,te)&&H(z,te,J[te]);if(K)for(var te of K(J))N.call(J,te)&&H(z,te,J[te]);return z},F=(z,J)=>W(z,Z(J)),w=(z,J,te)=>j(R(z),te,J),V=(z,J,te)=>new Promise((oe,ie)=>{var re=Ee=>{try{ce(te.next(Ee))}catch(se){ie(se)}},ue=Ee=>{try{ce(te.throw(Ee))}catch(se){ie(se)}},ce=Ee=>Ee.done?oe(Ee.value):Promise.resolve(Ee.value).then(re,ue);ce((te=te.apply(z,J)).next())});const $=(0,s.forwardRef)((z,J)=>(0,e.h)(r.Z,F(x({},z),{className:"share-action",forwardedRef:J}),(0,e.h)("div",{className:"action-icon"},(0,e.h)(o.Z,null)),(0,e.h)(c.xv.B4,{translated:!0,color:"secondary"},"Other"))),k=({pub:z,post:J,profile:te,comment:oe})=>{let ie=typeof document!="undefined"?document.title:"",re="",ue="";const ce=(0,D.getBaseUrl)(z).replace(/^https?:\/\//,"").replace(/\/$/);return oe?(ie=oe.name?`Comment by ${oe.name} on ${z.name}`:`Comment on ${z.name}`,re=(0,T.truncateText)(oe.body,100),ue=J.cover_image||null):J?(ie=J.title||J.draft_title,re=ce,ue=J.cover_image||null):z?(ie=z.name,re=ce,ue=z.logo_url):te&&(ie=te.name,re=te.bio,ue=(0,D.getUserPhotoUrl)(te)),(0,e.h)(m.gq,{className:`social-preview-box ${J?"post":z?"pub":"user"}`,radius:12,border:"detail",padding:8},(0,e.h)("div",{className:"social-image-box"},(J||z)&&ue&&(0,e.h)(I.e,{className:"social-image",src:ue,alt:"",maxWidth:120,loading:"lazy"}),!J&&!z&&ue&&(0,e.h)(A.cy,{className:"social-image",imageUrl:ue,size:52}),!ue&&(0,e.h)(a.Z,{className:"social-image-default"})),(0,e.h)(m.tu,{paddingLeft:12,paddingY:8},(0,e.h)(c.xv.H4,null,ie),(0,e.h)(c.xv.B4,{color:"secondary"},re)))},G=class extends b.p{constructor(z,J){super(z,J),this.noFullscreen=!0}open(){return V(this,null,function*(){const z="direct",J={title:(0,O.B8)(x({},this.props)),url:this.props.shareUrl||(0,O.O1)(z,x({medium:this.state.medium},this.props))};if((0,l.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(J))try{yield navigator.share(J),(0,P.track)(P.EVENTS.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||"default"}),(0,M.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(te){if(te.name==="AbortError")return;(0,P.track)(P.EVENTS.NATIVE_SHARE_FAILED,{errorName:te.name,errorMessage:te.message})}w(G.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){(0,P.track)(P.EVENTS.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||U.UTM_CAMPAIGN.default})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:z,pub:J,profile:te,comments:oe,commentId:ie,shareUrl:re,sharePrompt:ue}){const ce=oe||ie?"discussion":z?"post":J?"publication":te?"profile":null,Ee=ue||(ce?this.context.iTemplate`Share this ${ce}`:this.context.iString("Share")),se=oe&&ie&&oe.find(ne=>ne.id===ie);return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"share-dialog-title"},Ee),(0,e.h)(m.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(z||J||te)&&(0,e.h)(k,{post:z,pub:J,profile:te,comment:se}),(0,e.h)(q,F(x({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,O.B8)(x({},this.props)),shareUrl:re||(0,O.O1)(null,x({medium:this.state.medium},this.props))}))))}};let Q=G;Q.contextType=v.wj;function q(z){const J=()=>{var te;(te=z.onChange)==null||te.call(z)};return(0,e.h)(m.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,e.h)(r.Z,{onClick:()=>{(0,O.Ui)(x({},z)),J()},className:"share-action"},(0,e.h)("div",{className:"action-icon"},(0,e.h)(u.Z,null)),(0,e.h)(c.xv.B4,{translated:!0,color:"secondary"},"Copy link")),(0,e.h)(r.Z,{className:"share-action",onClick:()=>{(0,O.Po)(x({},z)),J()}},(0,e.h)("div",{className:"action-icon"},(0,e.h)(y.Z,null)),(0,e.h)(c.xv.B4,{translated:!0,color:"secondary"},"Facebook")),(0,e.h)(r.Z,{className:"share-action",onClick:()=>{(0,O.WZ)(x({},z)),J()}},(0,e.h)("div",{className:"action-icon"},(0,e.h)(g.Z,null)),(0,e.h)(c.xv.B4,{translated:!0,color:"secondary"},"Email")),!z.disableNotes&&(0,e.h)(r.Z,{className:"share-action",onClick:()=>{(0,O.BZ)(x({},z)),J()}},(0,e.h)("div",{className:"action-icon"},(0,e.h)(d.Z,null)),(0,e.h)(c.xv.B4,{color:"secondary"},"Note")),(0,e.h)(E.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,e.h)($,null),onOpen:()=>{(0,P.track)(P.EVENTS.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:z.medium||"web",post_id:z.post?z.post.id:null,utm_campaign:z.utm_campaign||U.UTM_CAMPAIGN.default})}},(0,e.h)(E.sN,{onClick:()=>{(0,O.lc)(x({},z)),J()},icon:(0,e.h)(i.Z,null)},"Linkedin"),(0,e.h)(E.sN,{onClick:()=>{(0,O.sn)(x({},z)),J()},icon:(0,e.h)(f.Z,null)},"Reddit"),(0,e.h)(E.sN,{onClick:()=>{(0,O.b6)(x({},z)),J()},icon:(0,e.h)(n.Z,null)},"Hacker News"),(0,e.h)(E.sN,{onClick:()=>{(0,O.Vn)(x({},z)),J()},icon:(0,e.h)(p.Z,null)},"Pinterest"),(0,e.h)(E.sN,{onClick:()=>{(0,O.Wn)(x({},z)),J()},icon:(0,e.h)(L.Z,null)},"Twitter")))}},30105:(Y,C,t)=>{t.d(C,{L:()=>T});var e=t(6400),s=t(94184),O=t.n(s);const T=({children:D,title:v="",content:P="",className:M="",showFirst:l=!1,disabled:_=!1})=>_?(0,e.h)(e.Fragment,null,D):(0,e.h)("div",{className:`popover-container ${M}`},(0,e.h)("div",{className:O()("popover typography",{showfirst:l})},(0,e.h)("div",{className:"content"},v&&(0,e.h)("strong",null,v),P&&(0,e.h)("section",null,P)),(0,e.h)("div",{className:"popover-tail"})),D)},68419:(Y,C,t)=>{t.d(C,{Z:()=>_});var e=t(6400),s=t(13045),O=t(52743),T=t(83322),D=t(28488),v=t(7922),P=t(3341),M=t(59009);class l extends e.Component{isSubscribed(){const{user:E}=this.props;return E&&E.is_subscribed}isFreeSubscribed(){const{freeSignup:E,user:c}=this.props;return E||c&&c.is_free_subscribed&&!c.is_contributor}onFreeSubscribe(E){if(this.props.publication.plans){let c=(0,O.getSubscribeUrl)(this.props.publication,{just_signed_up:!0,referral_token:E.body.referral_token});E.body.prompt_to_login&&(c=`/account/login?redirect=${encodeURIComponent(c)}&email=${encodeURIComponent(E.body.email)}`),document.location.href=c}else window.location.reload()}render({publication:E,user:c,freeSignupEmail:r,features:o,iString:n,language:a}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!E.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,n("Ready for more?")),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,O.getSubscribeUrl)(E,{utm_source:M.UTM_SOURCE.readyForMore}),native:!0},(0,e.h)(v.Z,{className:"primary"},(0,e.h)("b",null,(0,T.getSubscribeText)(E,{language:a}))))):(0,e.h)(s.gq,{justifyContent:"center"},(0,e.h)("div",null,(0,e.h)(P.Z,{freeSignupEmail:r,onAccentBackground:!0,pub:E,source:"subscribe_footer",submitButtonText:(0,T.getSubscribeText)(E),user:c,onSuccess:this.onFreeSubscribe.bind(this)})))))}}const _=(0,D.fz)(l)},46261:(Y,C,t)=>{t.d(C,{Z:()=>s});var e=t(6400);const s=({tabs:O,tab:T,onTabClick:D})=>(0,e.h)("div",{className:"ui-tabs"},O.map(({id:v,title:P})=>(0,e.h)("a",{className:`ui-tab ${v}-tab ${T===v?"active":""}`,onClick:()=>D&&D(v)},P)))},71943:(Y,C,t)=>{t.d(C,{J:()=>E,Z:()=>c});var e=t(6400),s=t(83322),O=t(17025),T=t.n(O),D=Object.defineProperty,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?D(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>{var n={};for(var a in r)P.call(r,a)&&o.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&v)for(var a of v(r))o.indexOf(a)<0&&M.call(r,a)&&(n[a]=r[a]);return n};const E={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class c extends e.Component{constructor(){super(...arguments),this.onWindowResize=o=>{this.setAutoHeight()},this.onKeyDown=o=>(this.props.inline&&o.key==="Enter"&&o.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(o)),this.onInput=o=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(o)),this.onBlur=()=>{var o;if(this.props.inline){const n=(o=this.base)==null?void 0:o.value,a=(0,s.sanitizeInlineText)(n);n&&n!==a&&(this.base.value=a,this.props.onInput&&this.props.onInput(event))}}}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(o,n,a){o.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,O.stateTransaction)(this,o=>{this.base.style.height="";const n=window.getComputedStyle(this.base),a=parseInt(n.getPropertyValue("height")),i=parseInt(n.getPropertyValue("padding-top"))+parseInt(n.getPropertyValue("padding-bottom")),d=parseInt(n.getPropertyValue("line-height")),p=Math.min(Math.round((this.base.scrollHeight-i)/d),this.props.maxLines||1/0);this.base.style.height=`${Math.max(p*d+i,a)}px`,this.base.style.height!==o.height&&this.setState({height:this.base.style.height})}))}render(o,{height:n}){var a=o,{children:i,ref:d,style:p,onKeyDown:f,onInput:u,inline:g,autoHeight:y,maxLines:L}=a,b=m(a,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return y&&(p=Object.assign({},p,{height:n})),(0,e.h)("textarea",_(_({style:p,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},E),b),i)}}},18334:(Y,C,t)=>{t.d(C,{Z:()=>i});var e=t(6400),s=t(98661),O=t(94184),T=t.n(O),D=t(23279),v=t.n(D),P=t(18446),M=t.n(P),l=t(17025),_=t.n(l),m=Object.defineProperty,E=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(d,p,f)=>p in d?m(d,p,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[p]=f,n=(d,p)=>{for(var f in p||(p={}))c.call(p,f)&&o(d,f,p[f]);if(E)for(var f of E(p))r.call(p,f)&&o(d,f,p[f]);return d};class a extends e.Component{constructor(p,f){super(p,f),this.open=()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()},this.close=()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()},this.onDocumentMouseUp=u=>{var g;!(0,l.isRootOrChild)(u.target,this.portalRef.current,((g=this.props.baseRef)==null?void 0:g.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))},this.onDocumentKeyDown=u=>{u.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))},this.onResize=v()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const p=!this.state.open;p?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:p})}updateCoords(){var p,f,u,g,y,L,b;const I=(g=(f=((p=this.props.baseRef)==null?void 0:p.current)||this.props.baseRef)==null?void 0:f.getBoundingClientRect)==null?void 0:g.call(((u=this.props.baseRef)==null?void 0:u.current)||this.props.baseRef);if(I){let A=0,U=((y=this.props.baseRef)==null?void 0:y.current)||this.props.baseRef;for(;U=U==null?void 0:U.parentElement;)A+=U.scrollTop;this.setState({coords:{left:I.x+(this.props.rightAlign?I.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((L=this.props.offset)==null?void 0:L.x)||0),top:I.y+A+(((b=this.props.offset)==null?void 0:b.y)||0),width:I.width,height:I.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var p,f,u,g;(f=((p=this.props.baseRef)==null?void 0:p.current)||this.props.baseRef)==null||f.addEventListener("mouseenter",this.open),(g=((u=this.props.baseRef)==null?void 0:u.current)||this.props.baseRef)==null||g.addEventListener("mouseleave",this.close)}removeMouseListeners(){var p,f,u,g;(f=((p=this.props.baseRef)==null?void 0:p.current)||this.props.baseRef)==null||f.removeEventListener("mouseenter",this.open),(g=((u=this.props.baseRef)==null?void 0:u.current)||this.props.baseRef)==null||g.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(p){var f,u;const g=p==null?void 0:p.getBoundingClientRect(),y=(u=((f=this.props.baseRef)==null?void 0:f.current)||this.props.baseRef)==null?void 0:u.getBoundingClientRect();if(!g||!y)return;const L=({x:B,y:W})=>A<=B&&B<=U&&b<=W&&W<=I,{top:b,bottom:I,left:A,right:U}=g;L({x:y.left,y:y.top})||L({x:y.right,y:y.top})||L({x:y.left,y:y.bottom})||L({x:y.right,y:y.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(p=>p())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(p=>{const f=(p==null?void 0:p.current)||p,u=v()(()=>this.onScroll(f),10);return f==null||f.addEventListener("scroll",u),()=>f==null?void 0:f.removeEventListener("scroll",u)})}componentShouldUpdate(p,f){return!M()(this.props,p)||!M()(this.state,f)}componentDidUpdate(p){var f,u,g,y;!M()(p.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),M()(p.baseRef,this.props.baseRef)||((u=((f=p.baseRef)==null?void 0:f.current)||p.baseRef)==null||u.removeEventListener("mouseenter",this.open),(y=((g=p.baseRef)==null?void 0:g.current)||p.baseRef)==null||y.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:p,rootElement:f,className:u},{coords:g}){return typeof window=="undefined"?null:(0,s.createPortal)((0,e.h)("div",{style:n({},g),className:T()("tooltip-portal",u),ref:this.portalRef},p),f||document.body)}}a.defaultProps={scrollContainers:[]};const i=a},25346:(Y,C,t)=>{t.d(C,{Z:()=>A});var e=t(6400),s=t(94184),O=t.n(s),T=t(13045),D=t(52743),v=t(83322),P=t(3258),M=t(90304),l=t(17025),_=t.n(l),m=t(7922),E=t(93830),c=t(92379),r=Object.defineProperty,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(U,B,W)=>B in U?r(U,B,{enumerable:!0,configurable:!0,writable:!0,value:W}):U[B]=W,d=(U,B)=>{for(var W in B||(B={}))n.call(B,W)&&i(U,W,B[W]);if(o)for(var W of o(B))a.call(B,W)&&i(U,W,B[W]);return U};const p=5,f="video:playback_location:",u=4*60,g=5,y=60,L=3,b=60,I={hls:"application/x-mpegURL",mp4:"video/mp4"};class A extends e.Component{constructor(B,W){var Z;super(B,W),this.player=null,this.previewHiddingTimeout=null,this.containerRef=(0,e.createRef)(),this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3*1e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var R;(R=l.globalPlaybackNotifier)==null||R.emit("play",this),this.setState({playing:!0}),this.track(P.EVENTS.VIDEO_PLAY_BUTTON_CLICKED)},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.track(P.EVENTS.VIDEO_PAUSE_BUTTON_CLICKED),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:R=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),R&&this.player&&!(0,l.isIOs)()&&!this.props.doNotResetOnEnd&&(this.player.currentTime=0),(0,l.exitFullscreen)(),(0,l.exitPictureInPicture)(),this.props.onFinishVideo&&this.props.onFinishVideo()},this.onPreviewClick=()=>{var R,S;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(R=this.player)==null||R.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(S=this.player)==null||S.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3*1e3)))},this.onContextMenu=R=>{R.preventDefault()},this.onAllSourcesFailed=()=>{var R,S;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(S=(R=this.props).onPlaybackFailed)==null||S.call(R)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=R=>{this!==R&&this.player&&(this.track(P.EVENTS.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=R=>{var S;this.props.noKeyboardShortcuts||R.metaKey||R.altKey||R.ctrlKey||document.activeElement!==document.body||!this.player||((S=l.globalPlaybackNotifier)==null?void 0:S.listenerCount("play"))>1&&this.player.paused||(R.key==="f"?(0,l.isFullscreen)()?(0,l.exitFullscreen)()&&R.preventDefault():((0,l.goFullscreen)(this.player)&&R.preventDefault(),this.player.paused&&this.player.play()):R.key===" "&&!(0,l.isFullscreen)()?(R.preventDefault(),this.player.paused?this.player.play():this.player.pause()):R.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):R.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const K=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:K,currentTime:0,waiting:!0,duration:(Z=B.mediaUpload.duration)!=null?Z:null,autoPlay:B.autoPlay,playing:!1,attemptingToPlay:B.autoPlay,previewHidden:K!==null&&K>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1,failedAutoplay:!1}}componentDidMount(){var B;this._initHlsjs(),(B=l.globalPlaybackNotifier)==null||B.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),!this.props.isStatic&&window&&window._preloads.mux_env_key&&t.e(4125).then(t.t.bind(t,54125,23)).then(W=>{const Z=W.default||W;Z.monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:Z.utils.now()}})})}componentWillUnmount(){var B;this.setPlaybackRestoreLocation(),(B=l.globalPlaybackNotifier)==null||B.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(B,W){var Z,K,R;if((this.props.noPreview!==B.noPreview||this.props.noControls!==B.noControls||this.props.noKeyboardShortcuts!==B.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof W.waiting!="number"){const{useHLSJS:S,browserCanPlayHLS:N,HLSerrored:j}=this.state;this.track(P.EVENTS.VIDEO_BUFFERING_STARTED,{use_hlsjs:S,browser_can_play_hls:N,hls_errored:j})}this.state.playing&&!W.playing&&!this.state.waiting&&typeof W.waiting=="number"&&this.track(P.EVENTS.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-W.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(W.currentTime)&&Math.floor(this.state.currentTime)%p===0&&this.track(P.EVENTS.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),is_clip:(Z=this.props.isClip)!=null?Z:!1}),!this.state.playing&&W.playing&&((K=this.player)!=null&&K.ended)&&this.track(P.EVENTS.VIDEO_PLAYBACK_COMPLETED,{is_clip:(R=this.props.isClip)!=null?R:!1})}getPlaybackLocationKey(){return`${f}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>u){const B=(0,M.mM)(this.getPlaybackLocationKey());if((B==null?void 0:B.currentTime)>g&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-B.currentTime>y){const W=Date.now()-B.watchedAt>b?L:0,Z=Math.max(0,B.currentTime-W);if(Z)return Z}}return null}setPlaybackRestoreLocation(){var B;this.playbackEnabled()&&((B=this.player)!=null&&B.currentTime)&&(0,M.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(B,W={}){const Z=this.props.mediaUpload.post_id;Z&&(0,P.track)(B,Object.assign({post_id:Z,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},W))}render(B,W){var Z;const{height:K,width:R}=(0,v.videoPlayerDimensions)(B.mediaUpload,{isStatic:B.isStatic}),S={paddingBottom:`${Math.min(60,100*K/R).toFixed(4)}%`},N=O()("video-player",{"video-player-clip":B.clippingMode});return(0,e.h)("div",{ref:this.containerRef,className:O()("video-player-wrapper",B.className,{"with-preview":!W.previewHidden,"is-static":B.isStatic,"full-width":R>=960,"video-player-wrapper-clip":B.clippingMode}),onClick:this.onPreviewClick},this.href()?(0,e.h)("a",{className:N,href:this.href(),style:S},this.renderPlayer(this.props,this.state)):(0,e.h)("div",{className:N,style:S},this.renderPlayer(this.props,this.state)),(0,e.h)(c.ie,{visible:this.props.clippingMode,videoPlayerRef:this.player,containerRef:(Z=this.props.clippingModeRef)!=null?Z:this.containerRef,videoUpload:this.props.mediaUpload,post:this.props.post,onCancel:()=>{var j,H;return(H=(j=this.props).onClippingModeCancel)==null?void 0:H.call(j)}}))}renderPlayer({hidePlayButton:B,mediaUpload:W,podcastUpload:Z,pub:K,reaction_token:R=null,isStatic:S,noControls:N,noPreview:j,renderPlayButton:H,startMuted:x,usePreview:F},{autoPlay:w,attemptingToPlay:V,previewHidden:$,useHLSJS:k,browserCanPlayHLS:G,HLSerrored:Q,failedAutoplay:q}){const z=!j&&!$,J=S||!this.playbackEnabled(),te=(0,D.updateQuery)(`/api/v1/video/upload/${W.id}/src`,{token:R,override_publication_id:K==null?void 0:K.id,preview:F});let oe=[];return G?oe=["hls","mp4"]:k?oe=[]:(0,l.isAndroid)()?oe=["hls","mp4"]:Q?oe=["mp4"]:oe=["hls","mp4"],[this.playbackEnabled()&&!S&&typeof window!="undefined"&&(0,e.h)("video",{ref:ie=>this.player=ie,controls:!N&&!z,controlsList:"nodownload",autoPlay:w&&!q&&this.playbackEnabled(),poster:`${(0,D.getMediaUploadThumbnailUrl)(W)}?refresh=${W.updated_at}`,muted:x},oe.map((ie,re)=>(0,e.h)("source",{src:(0,D.updateQuery)(te,{type:ie}),type:I[ie],onError:re===oe.length-1?this.onAllSourcesFailed:void 0}))),z&&!B&&(0,e.h)(e.Fragment,null,J&&(0,e.h)("img",{className:"video-player-preview","data-testid":S?"video-player-static-preview-image":"",width:550,src:(0,D.getMediaUploadThumbnailUrlForPlayer)(W,{pub:K,isStatic:S,variant:"shows"}),"data-component-name":"VideoPlayer-PreviewImg"}),!S&&!H&&(0,e.h)("div",{className:O()("video-player-button",{"no-text":!this.cta()})},(0,e.h)("a",{className:"primary",href:this.href(),native:!0},(0,e.h)(m.Z,{className:O()({loading:V&&this.playbackEnabled()})},(0,e.h)(E.Z,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,e.h)("span",null,this.cta())))),!S&&H&&(0,e.h)(T.xu,{position:"absolute",style:{left:"50%",top:"50%",transform:"translate(-50%,-50%)"}},H()))]}_initHlsjs(){const B=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(B){this.setState({browserCanPlayHLS:B});return}t.e(7631).then(t.t.bind(t,67631,23)).then(W=>{this._initHlsjsWrapped(W.default)})}_initHlsjsWrapped(B){const W=this,Z=B.isSupported();if(!B.isSupported()){this.setState({useHLSJS:Z});return}this.hls!=null&&this.hls.destroy();const K={},R=new B(d({enableWorker:!1},K));this.player!=null&&R.attachMedia(this.player);const{mediaUpload:S,podcastUpload:N,pub:j,reaction_token:H=null}=this.props,x=(0,D.updateQuery)(`/api/v1/video/upload/${S.id}/src`,{token:H,override_publication_id:j==null?void 0:j.id,type:"hls",preview:this.props.usePreview});R.on(B.Events.MEDIA_ATTACHED,()=>{R.loadSource(x),R.on(B.Events.MANIFEST_PARSED,()=>{var F;this.state.autoPlay&&((F=this.player)==null||F.play().catch(()=>{console.log("Unable to autoplay prior to user interaction with the dom."),this.setState({failedAutoplay:!0,attemptingToPlay:!1})}))})}),R.on(B.Events.ERROR,function(F,w){if(w.fatal)switch(w.type){case B.ErrorTypes.NETWORK_ERROR:W.setState({useHLSJS:!1}),W.hls.destroy(),R.startLoad();break;case B.ErrorTypes.MEDIA_ERROR:R.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=R,this.hlsModule=B}}},61040:(Y,C,t)=>{t.d(C,{Yq:()=>F,CH:()=>j,KG:()=>N});var e=t(6400),s=t(30396),O=t(88812),T=t(83322),D=t(34755),v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(w,V,$)=>V in w?v(w,V,{enumerable:!0,configurable:!0,writable:!0,value:$}):w[V]=$,c=(w,V)=>{for(var $ in V||(V={}))_.call(V,$)&&E(w,$,V[$]);if(l)for(var $ of l(V))m.call(V,$)&&E(w,$,V[$]);return w},r=(w,V)=>P(w,M(V));const n=w=>(0,e.h)(D.l,r(c({},w),{name:"LucideMute",svgParams:{height:24,width:24,stroke:w.stroke,strokeWidth:w.strokeWidth}}),(0,e.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}));var a=t(8479),i=t(17025),d=t(13045),p=t(12876),f=t(67963),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,A=(w,V,$)=>V in w?u(w,V,{enumerable:!0,configurable:!0,writable:!0,value:$}):w[V]=$,U=(w,V)=>{for(var $ in V||(V={}))b.call(V,$)&&A(w,$,V[$]);if(L)for(var $ of L(V))I.call(V,$)&&A(w,$,V[$]);return w},B=(w,V)=>g(w,y(V)),W=(w,V,$)=>new Promise((k,G)=>{var Q=J=>{try{z($.next(J))}catch(te){G(te)}},q=J=>{try{z($.throw(J))}catch(te){G(te)}},z=J=>J.done?k(J.value):Promise.resolve(J.value).then(Q,q);z(($=$.apply(w,V)).next())});const Z={mutes:[],blocks:[],blocked:[]},K=(0,e.createContext)({result:Z,refetch:()=>null});K.displayName="UserBlockContext";function R({user:w,children:V}){var $;const k=useFetch({pathname:"/api/v1/blocks/ids",deps:[w],auto:!!w});return h(K.Provider,{value:{result:($=k.result)!=null?$:Z,refetch:k.refetch}},V)}function S(){return(0,s.qp)(K)}function N(w){const{result:{mutes:V,blocks:$,blocked:k}}=(0,s.qp)(K);return w?V.includes(w)?"muting":$.includes(w)?"blocking":k.includes(w)?"blocked":null:null}function j(w,V){const $=(0,f.aF)(),k=!!($&&w&&$.id!==w.id),G=S(),Q=N(w==null?void 0:w.id),q=(0,d.pm)(),z=(0,T.guessFirstName)((w==null?void 0:w.name)||""),J=()=>W(this,null,function*(){if(w){try{yield(0,a.rd)(`/api/v1/blocks/${w.id}`,{method:"POST",json:{type:"mute",surface:V}})}catch(ue){q.popToast(ce=>(0,e.h)(d.FN,B(U({},ce),{text:(0,i.getNetworkErrorMessage)(ue)})));return}G.refetch(),q.popToast(ue=>(0,e.h)(d.FN,B(U({},ue),{text:`${w.name||"User"} muted`,Icon:n})))}}),te=()=>W(this,null,function*(){if(w){try{yield(0,a.rd)(`/api/v1/blocks/${w.id}`,{method:"DELETE",query:{surface:V}})}catch(ue){q.popToast(ce=>(0,e.h)(d.FN,B(U({},ce),{text:(0,i.getNetworkErrorMessage)(ue)})));return}G.refetch(),q.popToast(ue=>(0,e.h)(d.FN,B(U({},ue),{text:`${w.name||"User"} unmuted`,Icon:n})))}}),oe=()=>W(this,null,function*(){if(w){try{yield(0,a.rd)(`/api/v1/blocks/${w.id}`,{method:"POST",json:{type:"block",surface:V}})}catch(ue){q.popToast(ce=>(0,e.h)(d.FN,B(U({},ce),{text:(0,i.getNetworkErrorMessage)(ue)})));return}G.refetch(),q.popToast(ue=>(0,e.h)(d.FN,B(U({},ue),{text:`${w.name||"User"} blocked`,Icon:O.Z})))}}),ie=()=>W(this,null,function*(){if(w){try{yield(0,a.rd)(`/api/v1/blocks/${w.id}`,{method:"DELETE",query:{surface:V}})}catch(ue){q.popToast(ce=>(0,e.h)(d.FN,B(U({},ce),{text:(0,i.getNetworkErrorMessage)(ue)})));return}G.refetch(),q.popToast(ue=>(0,e.h)(d.FN,B(U({},ue),{text:`${w.name||"User"} unblocked`,Icon:O.Z})))}}),re=[];return k&&(Q!=="blocking"&&re.push((0,e.h)(p.sN,{icon:(0,e.h)(n,null),onClick:Q==="muting"?te:J},Q==="muting"?"Unmute":"Mute")),re.push((0,e.h)(p.sN,{icon:(0,e.h)(O.Z,null),onClick:Q==="blocking"?ie:oe},Q==="blocking"?"Unblock":"Block"))),re}const H=(0,e.createContext)(!1);H.displayName="MuteFreeZone";function x({muteFree:w=!0,children:V}){return h(H.Provider,{value:w},V)}function F(){return(0,s.qp)(H)}},2405:(Y,C,t)=>{t.d(C,{LC:()=>D,uL:()=>T});var e=t(6400),s=t(30396);const O=(0,e.createContext)(null);O.displayName="CrossPostContext";function T({crossPost:v=null,children:P}){return(0,e.h)(O.Provider,{value:v},P)}function D(){return(0,s.qp)(O)}},29910:(Y,C,t)=>{t.d(C,{Cq:()=>T,UN:()=>D,_j:()=>O});var e=t(6400),s=t(30396);const O=(0,e.createContext)({isSubstack:!1,customDomain:null});O.displayName="DomainInfoContext";function T(){return(0,s.qp)(O)}function D({value:v,children:P}){const M=(0,s.Ye)(()=>v,Object.values(v));return(0,e.h)(O.Provider,{value:M},P)}},58718:(Y,C,t)=>{t.d(C,{OK:()=>x,Rc:()=>H,oh:()=>S,Sv:()=>N,yr:()=>j,Xe:()=>Z,oJ:()=>K});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(82569),v=t.n(D),P=t(95591),M=t(69518),l=t(60779),_=t(59386),m=t(26686),E=t(4508),c=t(50292),r=t(83322),o=t(8479),n=t(17025),a=t(13045),i=t(12876),d=t(61040),p=t(67963);const f={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,A=(F,w,V)=>w in F?u(F,w,{enumerable:!0,configurable:!0,writable:!0,value:V}):F[w]=V,U=(F,w)=>{for(var V in w||(w={}))b.call(w,V)&&A(F,V,w[V]);if(L)for(var V of L(w))I.call(w,V)&&A(F,V,w[V]);return F},B=(F,w)=>g(F,y(w)),W=(F,w,V)=>new Promise(($,k)=>{var G=z=>{try{q(V.next(z))}catch(J){k(J)}},Q=z=>{try{q(V.throw(z))}catch(J){k(J)}},q=z=>z.done?$(z.value):Promise.resolve(z.value).then(G,Q);q((V=V.apply(F,w)).next())});function Z(F){return(0,m._)("/api/v1/feed/following",F)}function K(){const{mutate:F}=(0,P.kY)();return(...w)=>F("/api/v1/feed/following",...w)}function R(F,w){const{data:V}=Z(w);return(V!=null?V:[]).includes(F!=null?F:0)}function S(F,w){const{isFollowing:V,toggle:$}=N(F,w),k=(0,p.aF)(),G=(0,d.KG)(F==null?void 0:F.id),Q=!!(k&&F&&k.id!==F.id)&&!G,q=(0,r.guessFirstName)((F==null?void 0:F.name)||""),z=[];return Q&&z.push((0,e.h)(i.sN,{icon:V?(0,e.h)(_.m,{stroke:"var(--color-primary)"}):(0,e.h)(l.w,{stroke:"var(--color-primary)"}),onClick:$},V?`Unfollow ${q}`:`Follow ${q}`)),z}function N(F,w,V){const $=(0,p.aF)(),{onboardingModalRef:k}=(0,c.SJ)(),G=R(F==null?void 0:F.id,V),{mutate:Q,data:q}=Z(V),z=(0,a.pm)(),J=(0,r.guessFirstName)((F==null?void 0:F.name)||""),te=ie=>W(this,null,function*(){if(F){if(!$&&k.current){k.current.open();return}Q((re=[])=>ie?[...re,F.id]:v()(re,F.id),{revalidate:!1});try{yield(0,o.rd)(`/api/v1/feed/${F.id}/follow`,{method:ie?"POST":"DELETE",json:{surface:w}}),z.popToast(re=>(0,e.h)(a.FN,B(U({},re),{Icon:ie?M.$:_.m,text:ie?`Followed ${J}`:`Unfollowed ${J}`})))}catch(re){z.popToast(ue=>(0,e.h)(a.FN,B(U({},ue),{text:(0,n.getNetworkErrorMessage)(re)})));return}}});return{isFollowing:G,toggle:()=>te(!G),isLoaded:!!q}}function j(F,w){const{isFollowing:V,toggle:$}=N(F,w),[k,G]=(0,s.eJ)(!1);return{isFollowing:V,buttonProps:{onClick:()=>{$(),V||G(!0)},onMouseLeave:()=>G(!1),className:T()(f.followButton,k&&f.justFollowed)},css:f}}const H=(0,E.E7)({className:f.on,as:"span"}),x=(0,E.E7)({className:f.off,as:"span"})},85065:(Y,C,t)=>{t.d(C,{N$:()=>f,lR:()=>g,yH:()=>I});var e=t(6400),s=t(30396),O=t(80569),T=t.n(O),D=t(6742),v=t(35442),P=t(63503),M=t(8479),l=t(17025),_=t.n(l),m=Object.defineProperty,E=Object.defineProperties,c=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(U,B,W)=>B in U?m(U,B,{enumerable:!0,configurable:!0,writable:!0,value:W}):U[B]=W,i=(U,B)=>{for(var W in B||(B={}))o.call(B,W)&&a(U,W,B[W]);if(r)for(var W of r(B))n.call(B,W)&&a(U,W,B[W]);return U},d=(U,B)=>E(U,c(B)),p=(U,B,W)=>new Promise((Z,K)=>{var R=j=>{try{N(W.next(j))}catch(H){K(H)}},S=j=>{try{N(W.throw(j))}catch(H){K(H)}},N=j=>j.done?Z(j.value):Promise.resolve(j.value).then(R,S);N((W=W.apply(U,B)).next())});function f({defaultState:U,shouldLoad:B=!0,shouldPoll:W=!1,activityToken:Z,children:K}){return(0,e.h)(y,{defaultState:U==null?void 0:U.activity,shouldLoad:B,shouldPoll:W,activityToken:Z},(0,e.h)(A,{shouldLoad:B},K))}const u=(0,e.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>p(void 0,null,function*(){return!0}),markAllAsRead:()=>p(void 0,null,function*(){}),hasLoadedOnce:!1});u.displayName="NotificationsContext";function g(){return(0,s.qp)(u)}function y({defaultState:U,shouldLoad:B=!0,shouldPoll:W=!1,activityToken:Z,children:K}){const R=(0,M.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:B,initialResult:U,query:{token:Z}}),S=!(0,D.th)(),N=()=>p(this,null,function*(){const H=yield T().post("/api/v1/activity/unread").send({after:new Date().toISOString(),token:Z});R.setResult(H.body)});(0,P.Z)(()=>p(this,null,function*(){var H;if(W&&B&&(0,l.isWindowVisible)()){const x=((H=R.result)==null?void 0:H.count)||0,F=yield R.refetch(),w=!(F instanceof Error)&&F.count||0;if(x!==w)return!0}}),6e4);const j=R.result!=null?R.result.count:0;return(0,s.d4)(()=>{var H;try{(H=navigator.setAppBadge)==null||H.call(navigator,j)}catch(x){console.warn(x)}},[j]),(0,e.h)(u.Provider,{value:{lastViewedAt:R.result!=null?R.result.lastViewedAt:null,activityUnreadCount:j,activityUnreadAtMax:R.result!=null?R.result.max:!1,refetch:R.refetch,markAllAsRead:N,hasLoadedOnce:R.hasLoadedOnce}},(0,e.h)(v.Metadata,{badge:S?j:void 0}),K)}const L={count:0,max:!1,refetch:()=>p(void 0,null,function*(){return!0}),markAllAsRead:()=>p(void 0,null,function*(){}),hasLoadedOnce:!1},b=(0,e.createContext)(L);b.displayName="SavedPostsContext";function I(){return(0,s.qp)(b)}function A({shouldLoad:U=!0,children:B}){const W=(0,M.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:U,initialResult:L}),Z=()=>W.refetch({method:"PUT"});return(0,e.h)(b.Provider,{value:d(i({},W.result),{refetch:W.refetch,markAllAsRead:Z,hasLoadedOnce:W.hasLoadedOnce})},B)}},92643:(Y,C,t)=>{t.d(C,{Un:()=>_,am:()=>l});var e=t(6400),s=t(30396),O=t(80569),T=t.n(O),D=t(95788),v=t(67963),P=(m,E,c)=>new Promise((r,o)=>{var n=d=>{try{i(c.next(d))}catch(p){o(p)}},a=d=>{try{i(c.throw(d))}catch(p){o(p)}},i=d=>d.done?r(d.value):Promise.resolve(d.value).then(n,a);i((c=c.apply(m,E)).next())});const M=(0,e.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});M.displayName="ProfileContext";function l({value:m,handle:E,children:c}){const[r,o]=(0,s.eJ)({profile:null,loading:!1}),[n,a]=(0,s.eJ)(new Map(m?[[E||m.id,{profile:m,loading:!1}]]:[])),i={viewerProfile:r,setViewerProfile:(0,s.I4)((d,p)=>{o(f=>f.profile===d&&f.loading===p?f:{profile:d,loading:p})},[]),profiles:n,setProfile:(0,s.I4)((d,p,f)=>{a(u=>{var g,y;if(((g=u.get(d))==null?void 0:g.profile)===p&&((y=u.get(d))==null?void 0:y.loading)===f)return u;const L=new Map(u);return L.set(d,{profile:p,loading:f}),L})},[])};return(0,e.h)(M.Provider,{value:i},c)}function _({subjectId:m,subjectName:E,delayLoading:c}){const r=(0,v.aF)(),{viewerProfile:o,setViewerProfile:n,profiles:a,setProfile:i}=(0,s.qp)(M),[d,p]=(0,s.eJ)(null);if(typeof m=="string")if(m.includes("-")){const b=m.split("-");m=b[0],E=b.slice(1).join("-")}else m.startsWith("@")&&(m=m.slice(1));const f=a.get(m),u=(0,s.I4)(b=>P(this,null,function*(){n(o.profile,!0);const I=(0,D.H)(b.name,{hashIfEmpty:!0});try{const A=yield T().get(`/api/v1/user/${b.id}-${I}/public_profile/self`).then(U=>U.body);n(A,!1)}catch(A){A instanceof Error&&p(A),n(null,!1)}}),[o,n,p]),g=f==null?void 0:f.profile,y=o.profile,L=(0,s.I4)(b=>P(this,null,function*(){!y&&r&&u(r),i(b,g,!0);try{const I=E&&(0,D.H)(E,{hashIfEmpty:!0}),A=yield I?T().get(`/api/v1/user/${b}-${I}/public_profile`).then(U=>U.body):T().get(`/api/v1/user/${b}/public_profile`).then(U=>U.body);i(b,A,!1)}catch(I){I instanceof Error&&p(I),i(b,g,!1)}}),[g,i,E,y,u,r]);return(0,s.d4)(()=>{!c&&!(f!=null&&f.profile)&&!(f!=null&&f.loading)&&!d&&L(m),!c&&!o.loading&&!o.profile&&!d&&r&&u(r)},[c,m,L,f,d,o,u,r]),{loading:!!(f!=null&&f.loading),viewerProfile:o.profile,subjectProfile:f==null?void 0:f.profile,refetch:L,error:d}}},71720:(Y,C,t)=>{t.d(C,{G:()=>D,I:()=>v});var e=t(6400),s=t(30396),O;const T=typeof window!="undefined"?(O=window._preloads)==null?void 0:O.pub:null,D=(0,e.createContext)(T);D.displayName="PubContext";function v(){return(0,s.qp)(D)}},521:(Y,C,t)=>{t.d(C,{K:()=>n});var e=t(6400),s=t(98661),O=t(94184),T=t.n(O),D=t(84040),v=t(51126),P=t(16853),M=t(28967),l=Object.defineProperty,_=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,c=(a,i,d)=>i in a?l(a,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[i]=d,r=(a,i)=>{for(var d in i||(i={}))m.call(i,d)&&c(a,d,i[d]);if(_)for(var d of _(i))E.call(i,d)&&c(a,d,i[d]);return a},o=(a,i)=>{var d={};for(var p in a)m.call(a,p)&&i.indexOf(p)<0&&(d[p]=a[p]);if(a!=null&&_)for(var p of _(a))i.indexOf(p)<0&&E.call(a,p)&&(d[p]=a[p]);return d};const n=(0,s.forwardRef)((a,i)=>{var d=a,{className:p,active:f,disabled:u,permalink:g,tooltip:y}=d,L=o(d,["className","active","disabled","permalink","tooltip"]);const b=(0,P.x)({text:y});return(0,e.h)(v.hs,r({flex:"grow",justifyContent:g?"center":"start",alignItems:"center"},b.triggerProps),b.layer,(0,e.h)(D.kG,r({className:T()(M.Z.actionButton,p,f&&M.Z.active,u&&M.Z.disabled,g&&M.Z.permalink),resetCss:!0,ref:i,disabled:u},L)))})},67565:(Y,C,t)=>{t.d(C,{k:()=>V,y:()=>R});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(27484),v=t.n(D),P=t(65445),M=t(47467),l=t(18130),_=t(59009),m=t(85870),E=t(20501),c=t(16495),r=t(79786),o=t(84040),n=t(51126),a=t(43887),i=t(97868),d=t(41474),p=t(73413),f=t(44396),u=t(52543),g=t(66337),y=t(89447),L=t(62017),b=t(95406),I=t(28967),A=Object.defineProperty,U=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,Z=($,k,G)=>k in $?A($,k,{enumerable:!0,configurable:!0,writable:!0,value:G}):$[k]=G,K=($,k)=>{for(var G in k||(k={}))B.call(k,G)&&Z($,G,k[G]);if(U)for(var G of U(k))W.call(k,G)&&Z($,G,k[G]);return $};function R({attachments:$,readOnly:k,isRestack:G,onAttachmentClick:Q,onSavePostClick:q,utm_content:z}){if($.length===0)return null;const J=$.filter(oe=>oe.type==="image"),te=$.filter(oe=>oe.type!=="image");return(0,e.h)(e.Fragment,null,J.length>0&&(0,e.h)(c.q,{readOnly:k,isRestack:G,assets:J.map(oe=>({src:oe.imageUrl,explicit:oe.explicit}))}),te.map(oe=>(0,e.h)(S,{attachment:oe,readOnly:k,isRestack:G,onAttachmentClick:Q,onSavePostClick:q,utm_content:z})))}function S({attachment:$,readOnly:k,isRestack:G,onAttachmentClick:Q,onSavePostClick:q,utm_content:z}){var J;return(0,m.bP)($)?(0,e.h)(j,{attachment:$,readOnly:k,isRestack:G,onAttachmentClick:Q,utm_content:z}):$.type==="image"?(0,e.h)(c.q,{readOnly:k,isRestack:G,assets:[$.imageUrl],onClick:Q}):$.type==="link"?(0,e.h)(F,K({readOnly:k,onClick:Q,isExplicit:$.explicit},$.linkMetadata)):$.type==="comment"?(0,e.h)(H,{readOnly:k,publication:(J=$.publication)!=null?J:void 0,post:$.post,comment:$.comment,onAttachmentClick:Q,utm_content:z}):$.type==="post"?$.postSelection?(0,e.h)(y.s,{readOnly:k,attachment:$,onClick:Q}):(0,e.h)(g.I,{readOnly:k,publication:$.publication,post:$.post,onClick:Q,onSavePostClick:q}):$.type==="publication"?(0,e.h)(x,{readOnly:k,publication:$.publication,onClick:Q}):(0,e.h)(N,{attachment:$})}function N({}){return(0,e.h)(n.hs,null)}function j({attachment:$,readOnly:k,isRestack:G,onAttachmentClick:Q,utm_content:q}){const z=[m.sC.YouBlocked,m.sC.YouMuted].includes($.reason)&&!!$.hidden_attachment,[J,te]=(0,s.eJ)(!1);return J&&$.hidden_attachment?(0,e.h)(S,{attachment:$.hidden_attachment,readOnly:k,isRestack:G,onAttachmentClick:Q,utm_content:q}):(0,e.h)(n.hs,{bg:"elevated",border:"detail",justifyContent:z?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,e.h)(a.xv.B4,{color:"secondary",align:"center"},$.reason===m.sC.YouBlocked?"This note is from someone you blocked.":$.reason===m.sC.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),z&&(0,e.h)(o.kG,{resetCss:!0,onClick:()=>{var oe;(0,d.Kr)($.id,$.reason,{noteId:(oe=$.hidden_attachment)==null?void 0:oe.id}),te(!0)}},(0,e.h)(a.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function H({comment:$,publication:k,readOnly:G,onAttachmentClick:Q,utm_content:q}){var z,J,te;const{truncatedBodyJson:oe}=(0,b.Z)($,{characterTruncationLimit:280,characterTruncationThreshold:280});return(0,e.h)(n.tu,{className:I.Z.post,as:G?"div":"a",bg:"elevated",border:"detail",radius:12,href:G?void 0:(0,E.getFeedCommentUrl)($),onClick:()=>Q==null?void 0:Q({commentId:$.id}),padding:12,gap:8},(0,e.h)(n.hs,{gap:8,alignItems:"center"},(0,e.h)(l.r,{href:(0,E.getReaderProfileUrl)($.user,{noBase:p.L,utm_content:_.UTM_CONTENT.substackFeedItem,utm_source:q!=null?q:void 0}),showBack:!0},(0,e.h)(i.qE,{size:20,user:$.user})),(0,e.h)(n.hs,{alignItems:"center",gap:8},(0,e.h)(a.xv.B4,{weight:"medium"},G?$.user.name:(0,e.h)(L.xG,{user:$.user,utm_source:_.UTM_SOURCE.substackFeedItem,utm_content:q},$.user.name)),(0,e.h)(w,{comment:$}))),$.body&&(0,e.h)(a.xv.B4,{className:I.Z.feedCommentBodyInner},$.hidden?k&&(0,e.h)("i",null,"This comment is only visible to paid subscribers of"," ",k.name):oe&&(0,e.h)(u.x,{content:oe})),((J=(z=$.attachments)==null?void 0:z.length)!=null?J:0)>0&&(0,e.h)(R,{isRestack:!0,attachments:(te=$.attachments)!=null?te:[],onAttachmentClick:Q,utm_content:q}))}function x({publication:$,readOnly:k,onClick:G}){var Q;return(0,e.h)(F,{image:(Q=$.logo_url)!=null?Q:void 0,title:$.name,description:$.hero_text,url:$.base_url,onClick:G,host:$.base_url.replace(/^https?:\/\//,""),readOnly:k,isExplicit:$.explicit})}function F({image:$,title:k,description:G,url:Q,host:q,readOnly:z,isExplicit:J,onClick:te}){const oe=(0,f.XA)(),{isHidden:ie,onShow:re}=(0,M.Sl)(!!J);return(0,e.h)(n.hs,{className:I.Z.post,position:"relative",padding:12,gap:12,as:z?"div":"a",bg:"elevated",border:"detail",radius:12,href:z?void 0:Q,onClick:te,rel:"nofollow noopener ugc",target:"_blank"},(0,e.h)(n.tu,{gap:2,flex:"grow",minWidth:0},(0,e.h)(a.xv.Meta,{color:"secondary",ellipsis:!0},q),oe?(0,e.h)(a.xv.B4,{clamp:1},k):(0,e.h)(a.xv.B3,{clamp:2,weight:"medium"},k),G&&(0,e.h)(a.xv.B4,{as:"p",color:"secondary",clamp:oe?1:2},G)),$?(0,e.h)(r.e,{className:T()(I.Z.linkImage,oe&&I.Z.mobile),src:$,maxWidth:96*2,imageProps:{smartCrop:!0,aspect:"1:1"}}):(0,e.h)(n.hs,{alignItems:"center",justifyContent:"center",radius:12,className:T()(I.Z.linkImage,I.Z.linkImagePlaceholder,oe&&I.Z.mobile)},(0,e.h)(P.Z,null)),ie&&(0,e.h)(M.HU,{onShow:re}))}function w({post:$,comment:k}){return(0,e.h)(a.xv.B4,{color:"secondary"},v()((k==null?void 0:k.date)||($==null?void 0:$.post_date)).fromNowShort())}function V($){var k;switch($.type){case"post":return $.postSelection?(0,E.getPostUrl)($.publication,$.post,{urlParams:{selection:$.postSelection.id}}):$.post.canonical_url;case"comment":return(0,E.getFeedCommentUrl)($.comment);case"publication":return $.publication.base_url;case"link":return(k=$.linkMetadata.url)!=null?k:null;default:return null}}},23334:(Y,C,t)=>{t.d(C,{N:()=>c});var e=t(6400),s=t(20501),O=t(70444),T=t(83322),D=t(35442),v=t(77546),P=Object.defineProperty,M=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,m=(r,o,n)=>o in r?P(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,E=(r,o)=>{for(var n in o||(o={}))l.call(o,n)&&m(r,n,o[n]);if(M)for(var n of M(o))_.call(o,n)&&m(r,n,o[n]);return r};function c({comment:r,post:o,publication:n}){var a,i,d;let p="Note on Substack";n&&r.name?p=`Comment by ${r.name} on ${n.name}`:r.name?p=`Note by ${r.name} on Substack`:n&&(p=`Comment on ${n.name}`);const f=o&&n?(0,v.M$)(o,n,{isCommentPage:!0}).title:`${p}: "${(0,T.truncateText)(r.body,280)}"`,u=(a=r.attachments)==null?void 0:a.find(U=>U.type==="image"),g=u==null?void 0:u.imageUrl,y=!1,L=y?680:void 0,b=y?680:void 0,I=g!=null?g:y?(0,s.imginary)((0,O.IY)(r.id),b,{height:L}):o&&n?(0,v.zw)(n,o)[0]:null,A=!y||g?r.body:"Subscribe to see all their notes.";return(0,e.h)(D.Metadata,E({},{title:f,socialTitle:p,description:A,image:I,imageHeight:L,imageWidth:b,isLargeImage:I?!0:void 0,siteName:n?n.name:"Substack",publishedTime:r.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((i=r.reaction_count)!=null?i:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((d=r.children_count)!=null?d:0)}]}))}},47467:(Y,C,t)=>{t.d(C,{HU:()=>E,Sl:()=>_,cD:()=>m});var e=t(6400),s=t(30396),O=t(23260),T=t(20964),D=t(84040),v=t(9738),P=t(51126),M=t(43887),l=t(33970);function _(c){const r=(0,T.M)(),[o,n]=(0,s.eJ)(c&&!r);return{isHidden:o,onShow:()=>n(!1)}}function m({onShow:c,description:r}){return(0,e.h)(E,{onShow:c},(0,e.h)(v.C,null,(0,e.h)(P.tu,{gap:4,textAlign:"center"},(0,e.h)(M.xv.B4,{weight:"bold"},"Explicit content"),(0,e.h)(M.xv.B4,{color:"secondary"},r)),(0,e.h)(D.zx,{className:l.Z.showAnyway,priority:"secondary",outline:"none"},"Show anyway")))}function E({onShow:c,children:r}){return(0,e.h)(P.tu,{justifyContent:"center",alignItems:"center",position:"absolute",inset:0,bg:"glass-inverted-thick",gap:16,cursor:"pointer",onClick:o=>{o.preventDefault(),c()}},(0,e.h)(O.Z,{size:24,stroke:"var(--color-white)"}),r)}},60779:(Y,C,t)=>{t.d(C,{w:()=>s});var e=t(6400);function s({size:O=20,stroke:T="var(--color-light-secondary)"}){return(0,e.h)("svg",{width:O,height:O,viewBox:"0 0 24 24",fill:"none",stroke:T,xmlns:"http://www.w3.org/2000/svg"},(0,e.h)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},69518:(Y,C,t)=>{t.d(C,{$:()=>E});var e=t(6400),s=Object.defineProperty,O=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,M=(c,r,o)=>r in c?s(c,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[r]=o,l=(c,r)=>{for(var o in r||(r={}))v.call(r,o)&&M(c,o,r[o]);if(D)for(var o of D(r))P.call(r,o)&&M(c,o,r[o]);return c},_=(c,r)=>O(c,T(r)),m=(c,r)=>{var o={};for(var n in c)v.call(c,n)&&r.indexOf(n)<0&&(o[n]=c[n]);if(c!=null&&D)for(var n of D(c))r.indexOf(n)<0&&P.call(c,n)&&(o[n]=c[n]);return o};function E(c){var r=c,{size:o=20,stroke:n="var(--color-light-secondary)"}=r,a=m(r,["size","stroke"]);return(0,e.h)("svg",_(l({},a),{width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,xmlns:"http://www.w3.org/2000/svg"}),(0,e.h)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},75309:(Y,C,t)=>{t.d(C,{Ev:()=>ie,vk:()=>se});var e=t(6400),s=t(30396),O=t(27484),T=t.n(O),D=t(66440),v=t(59543),P=t(65862),M=t(80587),l=t(18794),_=t(13808),m=t(59009),E=t(6385),c=t(20501),r=t(83322),o=t(31058),n=t(21397),a=t(61040),i=t(58718),d=t(67963),p=t(69371),f=t(62017),u=t(50670),g=t(8479),y=t(17025),L=t.n(y),b=t(11059),I=t(84040),A=t(51126),U=t(12876),B=t(43887),W=t(75425),Z=t(95297),K=t(41474),R=t(91870),S=t(73413),N=t(10174),j=t(521),H=t(11132),x=t(28967),F=Object.defineProperty,w=Object.defineProperties,V=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,Q=(ne,ee,ae)=>ee in ne?F(ne,ee,{enumerable:!0,configurable:!0,writable:!0,value:ae}):ne[ee]=ae,q=(ne,ee)=>{for(var ae in ee||(ee={}))k.call(ee,ae)&&Q(ne,ae,ee[ae]);if($)for(var ae of $(ee))G.call(ee,ae)&&Q(ne,ae,ee[ae]);return ne},z=(ne,ee)=>w(ne,V(ee)),J=(ne,ee)=>{var ae={};for(var he in ne)k.call(ne,he)&&ee.indexOf(he)<0&&(ae[he]=ne[he]);if(ne!=null&&$)for(var he of $(ne))ee.indexOf(he)<0&&G.call(ne,he)&&(ae[he]=ne[he]);return ae},te=(ne,ee,ae)=>new Promise((he,me)=>{var ge=Me=>{try{Oe(ae.next(Me))}catch(Pe){me(Pe)}},ve=Me=>{try{Oe(ae.throw(Me))}catch(Pe){me(Pe)}},Oe=Me=>Me.done?he(Me.value):Promise.resolve(Me.value).then(ge,ve);Oe((ae=ae.apply(ne,ee)).next())});const oe=["post_like","post_restack","comment_like"];function ie({user:ne,post:ee,comment:ae,onClick:he,utm_content:me,publication:ge,item:ve,parentCommentUserId:Oe}){const Me=(ae==null?void 0:ae.date)||(ee==null?void 0:ee.post_date);return(0,e.h)(u.KF,null,(0,e.h)(A.hs,{gap:8,alignItems:"center",flex:"grow"},(0,e.h)(B.Zx,{weight:"medium"},(0,e.h)(f.xG,{user:ne,onClick:he,utm_source:m.UTM_SOURCE.substackFeedItem,utm_content:me},ne.name)),(0,e.h)(Z.UserBadge,{className:x.Z.userBadge,tier:ne.bestseller_tier,userId:ne.id,tooltipOnHover:!0,size:"sm"}),Me&&(0,e.h)(ue,{timestamp:Me,comment:ae})),(0,e.h)(A.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},(0,e.h)(ce,{publication:ge!=null?ge:void 0,post:ee!=null?ee:void 0,comment:ae,item:ve})))}const re=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function ue({timestamp:ne,comment:ee,post:ae,publication:he}){return(0,e.h)(f.hh,{href:ee?(0,c.getFeedCommentUrl)(ee,{noBase:S.L}):ae?(0,c.getFeedShortPostUrl)(he,ae):void 0,title:re.format(T()(ne).toDate()),ellipsis:!1,color:"secondary"},(0,e.h)(u.Ku,{timestamp:ne}))}function ce({publication:ne,post:ee,comment:ae,item:he,permalink:me}){var ge,ve,Oe;const Me=(0,W.pm)(),Pe=(0,p.rI)(),De=(0,H.F)(),We=(0,R.I0)(),ye=(0,R.kc)(),[Fe,Ze]=(0,s.eJ)(!1),Te=(0,d.aF)(),Ve=(0,n.T)(),Re=(ve=(ge=ae==null?void 0:ae.ancestor_path)==null?void 0:ge.split(".").filter(Boolean).map(Number).map(dt=>ye.comments.get(dt)))!=null?ve:[],Ue=ae?(0,E.getCommentAuthor)(ae):ne&&ee?(0,E.getPostAuthor)(ne,ee):{id:0,name:"void"},Be=(0,a.CH)(Ue,Pe),Ke=(0,i.oh)(Ue,Pe),Qe=(0,g.ib)({pathname:`/api/v1/comment/${(Oe=ae==null?void 0:ae.id)!=null?Oe:0}`,method:"DELETE",json:{publication_id:ne==null?void 0:ne.id}}),qe=()=>te(this,null,function*(){if(!ae||(Ze(!1),Qe.isLoading))return;const dt=yield Qe.refetch();if(dt instanceof Error){alert((0,y.getNetworkErrorMessage)(dt));return}Me.popToast(Ne=>(0,e.h)(W.FN,z(q({},Ne),{text:"Note deleted",Icon:D.Z}))),We({type:"comment_delete",payload:{publication:ne,post:ee,comment:ae}})}),pt=(0,N.i3)(),st=()=>te(this,null,function*(){ae&&pt.open({editComment:ae,tabId:De})}),it=()=>{he&&(0,K.rw)(he,Pe,"menu",{tabId:De})},rt=!!ee&&he&&"context"in he&&oe.includes(he.context.type),Pt=[!ae&&ee&&(0,e.h)(Ee,{post:ee}),...Ke,(0,r.canEditComment)(Te,ae)&&(0,e.h)(U.sN,{icon:(0,e.h)(v.Z,null),onClick:st},"Edit"),...Be,ae&&(0,r.canReportComment)(Te,ae)?(0,e.h)(U.sN,{icon:(0,e.h)(P.Z,null),priority:"destructive",onClick:()=>{const dt=!!ae.publication_id;Ve({pub:ne,canReportToAdmins:dt,onSubmit:Ne=>te(this,[Ne],function*({reportCategory:Le,details:Ae,reportedToSubstack:je}){yield(0,g.rd)(`/api/v1/comment/${ae.id}/report`,{method:"POST",json:q({details:Ae,reportCategory:Le,reportedToSubstack:je},dt?{publication_id:ae.publication_id}:{})})})})}},"Report"):rt?(0,e.h)(U.sN,{icon:(0,e.h)(P.Z,null),priority:"destructive",onClick:()=>{Ve({pub:ne,canReportToAdmins:!1,onSubmit:dt=>te(this,[dt],function*({reportCategory:Ne,details:Le}){yield(0,g.rd)(`/api/v1/publications/${ne==null?void 0:ne.id}/posts/${ee.id}/report`,{method:"POST",json:{details:Le,reportCategory:Ne}})})})}},"Report"):null,(0,r.canDeleteComment)(Te,ae,{pub:ne,post:ee,parentComments:Re})&&(0,e.h)(U.sN,{icon:(0,e.h)(D.Z,null),priority:"destructive",onClick:()=>Ze(!0)},"Delete")].filter(Boolean);return Pt.length===0?null:(0,e.h)(e.Fragment,null,(0,e.h)(U.v2,{trigger:(0,e.h)(j.K,{"aria-label":"share",permalink:me,className:x.Z.more},(0,e.h)(M.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:it},Pt),(0,e.h)(b.a,{isOpen:Fe,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,e.h)(I.zx,{priority:"destructive",onClick:qe},"Delete"),secondaryButton:(0,e.h)(I.zx,{priority:"secondary",onClick:()=>Ze(!1)},"Cancel"),onClose:()=>Ze(!1)}))}function Ee(ne){var ee=ne,{post:ae}=ee,he=J(ee,["post"]);const me=se(ae);return(0,e.h)(U.sN,q({icon:ae.is_saved?(0,e.h)(l.Z,null):(0,e.h)(_.Z,null),onClick:me},he),ae.is_saved?"Unsave":"Save")}function se(ne){const ee=(0,R.I0)(),ae=(0,o.c1)();return()=>{const me=ne.id,ge=!ne.is_saved;(0,o.TJ)(me,ge,{surface:"reader"}),ae(ge),ee({type:"post_save",payload:{postId:me,isSaved:ge}})}}},7074:(Y,C,t)=>{t.d(C,{V:()=>D});var e=t(6400),s=t(51126),O=t(96098),T=t(11688);function D(){return(0,e.h)(T.cr,{module:"../feed/PublicationPage",onRequest:()=>Promise.all([t.e(4495),t.e(8437)]).then(t.bind(t,48437)),resolve:P=>P.PublicationFeedPage,whileLoading:(0,e.h)(v,null)})}function v(){return(0,e.h)(O.h,null,(0,e.h)(s.hs,{bg:"primary",style:{minHeight:800}}))}},11132:(Y,C,t)=>{t.d(C,{F:()=>T,q:()=>O});var e=t(98661),s=t(30396);const O=(0,e.createContext)(void 0);function T(){return(0,s.qp)(O)}},59386:(Y,C,t)=>{t.d(C,{m:()=>E});var e=t(6400),s=Object.defineProperty,O=Object.defineProperties,T=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,M=(c,r,o)=>r in c?s(c,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[r]=o,l=(c,r)=>{for(var o in r||(r={}))v.call(r,o)&&M(c,o,r[o]);if(D)for(var o of D(r))P.call(r,o)&&M(c,o,r[o]);return c},_=(c,r)=>O(c,T(r)),m=(c,r)=>{var o={};for(var n in c)v.call(c,n)&&r.indexOf(n)<0&&(o[n]=c[n]);if(c!=null&&D)for(var n of D(c))r.indexOf(n)<0&&P.call(c,n)&&(o[n]=c[n]);return o};function E(c){var r=c,{size:o=20,stroke:n="var(--color-light-secondary)"}=r,a=m(r,["size","stroke"]);return(0,e.h)("svg",_(l({},a),{width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,xmlns:"http://www.w3.org/2000/svg"}),(0,e.h)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(Y,C,t)=>{t.d(C,{Fb:()=>U,KF:()=>b,Ku:()=>L,Zb:()=>I,oM:()=>u,sP:()=>A});var e=t(6400),s=t(94184),O=t.n(s),T=t(85928),D=t.n(T),v=t(20501),P=t(80332),M=t(51126),l=t(43887),_=t(97868),m=t(73413),E=t(18130),c=t(44396),r=t(28967),o=Object.defineProperty,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=(B,W,Z)=>W in B?o(B,W,{enumerable:!0,configurable:!0,writable:!0,value:Z}):B[W]=Z,p=(B,W)=>{for(var Z in W||(W={}))a.call(W,Z)&&d(B,Z,W[Z]);if(n)for(var Z of n(W))i.call(W,Z)&&d(B,Z,W[Z]);return B},f=(B,W)=>{var Z={};for(var K in B)a.call(B,K)&&W.indexOf(K)<0&&(Z[K]=B[K]);if(B!=null&&n)for(var K of n(B))W.indexOf(K)<0&&i.call(B,K)&&(Z[K]=B[K]);return Z};function u(B){var W=B,{showGutter:Z=!1,hasAvatar:K=!0,hasContext:R=!1,onClick:S}=W,N=f(W,["showGutter","hasAvatar","hasContext","onClick"]);const j=S?H=>{const{target:x}=H;x instanceof Element&&x.closest("button, a")||H.defaultPrevented||S(H)}:void 0;return(0,e.h)(M.tu,p({className:O()(r.Z.feedUnit,Z?r.Z.showThreadGutter:void 0,R?r.Z.hasContext:void 0,S&&r.Z.hasAction,K?r.Z.hasAvatar:void 0),gap:4,onClick:j},N))}const g=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),y=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function L({timestamp:B}){const W=D()(),Z=D()(B),K=W.diff(Z,"day"),R=W.diff(Z,"year");let S;return R>=1?S=y.format(Z.toDate()):K>7?S=g.format(Z.toDate()):S=Z.fromNowShort(),(0,e.h)(l.Zx,{color:"secondary"},B&&S)}function b({children:B}){return(0,e.h)(l.xv.B3,null,(0,e.h)(M.hs,{flex:"grow",minWidth:0},(0,e.h)(M.hs,{gap:8,alignItems:"center",flex:"grow"},B)))}function I({user:B,className:W}){const Z=(0,c.XA)();return(0,e.h)(_.qE,{size:Z?36:40,user:B,className:W})}function A({large:B,children:W}){return B?(0,e.h)(l.xv.B2,{className:r.Z.feedCommentBodyInner,color:"primary"},W):(0,e.h)(l.xv.B3,{className:r.Z.feedCommentBodyInner,color:"primary"},W)}function U({user:B,onClick:W,utm_content:Z}){const K=(0,E.c)({href:(0,v.getReaderProfileUrl)(B,{noBase:m.L}),state:{showBack:!0},onClick:W,campaign:{content:Z}});return(0,e.h)(M.hs,p({as:"a",flex:"auto",alignSelf:"start"},K),(0,e.h)(P.ProfileHoverCard,{subject:B,dontStopPropagation:!0,utmSource:"feed"},(0,e.h)(I,{user:B})))}},69371:(Y,C,t)=>{t.d(C,{$U:()=>l,rI:()=>E});var e=t(6400),s=t(98661),O=t(30396),T=t(21288),D=t(9686),v=t(91870),P=t(50292),M=t(10174);function l({state:c,dispatch:r,surface:o,children:n}){const{onboardingModalRef:a}=(0,P.SJ)(),i=(0,O.Ye)(()=>({dispatch:r}),[]);return(0,e.h)(_.Provider,{value:o},(0,e.h)(v.RR.Provider,{value:i},(0,e.h)(v.ev.Provider,{value:c},(0,e.h)(M.Au,null,(0,e.h)(T.qS,null,n,c.isSigningIn&&(0,e.h)(D.I,{onCancel:()=>r({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{r({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var d;r({type:"sign_in",payload:{isSigningIn:!1}}),(d=a.current)==null||d.open()},noExit:c.signInNoExit}))))))}const _=(0,s.createContext)("feed");function m({surface:c,children:r}){return h(_.Provider,{value:c},r)}function E(){return(0,O.qp)(_)}},72306:(Y,C,t)=>{t.d(C,{C:()=>c});var e=t(6400),s=t(30396),O=t(75425),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(r,o,n)=>o in r?T(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,m=(r,o)=>{for(var n in o||(o={}))M.call(o,n)&&_(r,n,o[n]);if(P)for(var n of P(o))l.call(o,n)&&_(r,n,o[n]);return r},E=(r,o)=>D(r,v(o));function c(){const r=(0,O.pm)();return(0,s.d4)(()=>{const o=new URL(location.toString());o.searchParams.get("founding-member-confirmation")&&(o.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",o),r.popToast(a=>(0,e.h)(O.FN,E(m({},a),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}},59663:(Y,C,t)=>{t.d(C,{c:()=>i});var e=t(6400),s=t(30396),O=t(71375),T=t(80569),D=t.n(T),v=t(20501),P=t(59009),M=t(52743),l=t(83322),_=t(16527),m=t(92271),E=t(51126),c=t(43887),r=t(75425),o=t(37327),n=(d,p,f)=>new Promise((u,g)=>{var y=I=>{try{b(f.next(I))}catch(A){g(A)}},L=I=>{try{b(f.throw(I))}catch(A){g(A)}},b=I=>I.done?u(I.value):Promise.resolve(I.value).then(y,L);b((f=f.apply(d,p)).next())});const a=(d,p,f,u,g)=>{if(!p)return null;switch(d){case"post-login":return p.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,M.getReaderProfileUrl)(p,{utm_source:P.UTM_SOURCE.profileToast,noBase:f}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return u?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,M.getReaderOnboardingUrl)({isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:u?u.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!u||!p.profile_set_up_at?null:{title:`Welcome to ${u?u.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:u?(0,M.getArchiveUrl)(u):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,M.getReaderProfileUrl)(p,{utm_source:P.UTM_SOURCE.profileToast,noBase:f}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(E.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,v.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(c.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(c.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,l.numberToOrdinal)(g)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,M.getStartPublishingUrl)({utm_source:P.UTM_SOURCE.profileToast}),ctaVariant:"themed-primary"};default:return null}};function i({user:d,pub:p=null,noBase:f=!1}){const u=(0,r.pm)();return(0,s.d4)(()=>{function g(){return n(this,null,function*(){yield D().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const y=new URL(location.toString()),L=y.searchParams.get("profile-setup-message");if(!L)return;const b=L==="start-writing"?Number(y.searchParams.get("nthPub")):void 0;if(y.searchParams.delete("nthPub"),y.searchParams.delete("profile-setup-message"),history.replaceState({},"",y),!(L!=="post-subscribe-prompt"))return;const A=a(L,d,f,p,b);A&&(L==="start-writing"&&g(),u.popToast(({onClose:U})=>(0,e.h)(E.tu,{className:o.Z.wrapper,justifyContent:"space-between"},(0,e.h)(E.tu,{gap:8},(0,e.h)(E.gq,{className:o.Z.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(m.z,{look:"flex",onClick:U},(0,e.h)(O.Z,{size:20}))),(0,e.h)(c.xv.H3,{className:o.Z.header},A.title),A.body),(0,e.h)(m.z,{variant:A.ctaVariant,fill:"filled",onClick:B=>{(0,_.Q)(B,A.ctaLink,{native:!0}),U()}},A.ctaText)),{ttl:null}))},[]),null}},15748:(Y,C,t)=>{t.d(C,{g:()=>o});var e=t(6400),s=t(99869),O=t(75425),T=t(17025),D=t.n(T),v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(n,a,i)=>a in n?v(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i,c=(n,a)=>{for(var i in a||(a={}))_.call(a,i)&&E(n,i,a[i]);if(l)for(var i of l(a))m.call(a,i)&&E(n,i,a[i]);return n},r=(n,a)=>P(n,M(a));function o(){const n=(0,O.pm)();return a=>{(0,T.copyToClipboard)(a),n.popToast(i=>(0,e.h)(O.FN,r(c({},i),{text:"Link copied",Icon:s.Z})))}}},29542:(Y,C,t)=>{t.d(C,{$:()=>T});var e=t(52743),s=t(17025),O=t.n(s);const T=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:D=>{document.location.href=`itpc://${(0,e.stripProtocol)(D)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:D=>{document.location.href=`podcast://${(0,e.stripProtocol)(D)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:D=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(D).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:D=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(D)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:D=>{document.location.href=`pktc://subscribe/${(0,e.stripProtocol)(D)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:D=>{document.location.href=`downcast://${(0,e.stripProtocol)(D)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:D=>{document.location.href=`podcastaddict://${(0,e.stripProtocol)(D)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:D=>{(0,s.copyToClipboard)(D),document.location.href=`castros://subscribe/${(0,e.stripProtocol)(D)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:D=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(D)}`}}]},35225:(Y,C,t)=>{t.d(C,{S:()=>f});var e=t(6400),s=t(8618),O=t(59009),T=t(85928),D=t.n(T),v=t(61782),P=t(52743),M=t(13833),l=t(75425),_=t(3258),m=t(90304),E=Object.defineProperty,c=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(u,g,y)=>g in u?E(u,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):u[g]=y,d=(u,g)=>{for(var y in g||(g={}))n.call(g,y)&&i(u,y,g[y]);if(o)for(var y of o(g))a.call(g,y)&&i(u,y,g[y]);return u},p=(u,g)=>c(u,r(g));function f({user:u,noBase:g}){const y=(0,l.pm)(),L=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const b="has_seen_like_nux",I=(0,m.mM)(b),A=v.L;return I&&u&&!u.has_seen_like_nux?(L(),!1):!u||!u.profile_set_up_at||u.subscription_visibility==="private"||!u.activity_likes_enabled||I||u.has_seen_like_nux||D()((u==null?void 0:u.profile_set_up_at)||0).unix()>A?!1:((0,_.track)(_.EVENTS.LIKE_NUX_SHOWN),(0,m.ex)(b,!0),L(),y.popToast(U=>(0,e.h)(l.Us,p(d({},U),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,e.h)(e.Fragment,null,(0,e.h)(l.lL,{href:(0,P.getReaderProfileUrl)(u,{utm_source:O.UTM_SOURCE.likeToast,noBase:g})},(0,e.h)(M.Av,null,"OK")),(0,e.h)(l.lL,{href:(0,P.getEditProfileUrl)({params:{utm_source:O.UTM_SOURCE.likeToast}})},(0,e.h)(M.Av,{color:"secondary"},"Settings"))),Icon:s.Z}))),!0)}}},14784:(Y,C,t)=>{t.d(C,{h:()=>D});var e=t(6400),s=t(47504),O=t(95674),T=t(13045);const D=({delayFirstLoad:v,filterPostsPredicate:P,isBelowTheFold:M,maxPosts:l,pub:_,search:m,sort:E,sortTabs:c,source:r,user:o})=>(0,e.h)(T.xu,{paddingY:24},(0,e.h)(s.O,{delayFirstLoad:v,filterPostsPredicate:P,isBelowTheFold:M,maxPosts:l,pub:_,search:m,sort:E,sortTabs:c,source:r,user:o},({posts:n,linkToComments:a,onClickPost:i})=>(0,e.h)(O.B,{hideImages:_.theme.hide_images_from_list,linkToComments:a,posts:n,pub:_,user:o,variant:"two-column-list",onChange:()=>{},onClickPost:i})))},84349:(Y,C,t)=>{t.d(C,{Z:()=>Z});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(59543),v=t(1852),P=t.n(v),M=t(80569),l=t.n(M),_=t(52743),m=t(80332),E=t(61772),c=t(75223),r=t(46261),o=t(65162),n=t(3258),a=t(16527),i=t(36868),d=t(17025),p=t.n(d),f=t(92271),u=t(51126),g=t(43887),y=t(6899),L=t(38507),b=t(59009),I=(K,R,S)=>new Promise((N,j)=>{var H=w=>{try{F(S.next(w))}catch(V){j(V)}},x=w=>{try{F(S.throw(w))}catch(V){j(V)}},F=w=>w.done?N(w.value):Promise.resolve(w.value).then(H,x);F((S=S.apply(K,R)).next())});function A(K){if(typeof window=="undefined")return!0;const R=document.createElement("div");R.innerHTML=K;for(let S=R.childNodes.length-1;S>=0;S--){const N=R.childNodes[S];if((0,d.hasClass)(N,"button-wrapper")||(0,d.hasClass)(N,"subscription-widget-wrap"))return!1}return!0}const U=({pub:K,user:R,freeSignup:S,freeSignupEmail:N})=>{const j=K.payments_state==="enabled"&&(R!=null&&R.is_free_subscribed)&&!(R!=null&&R.is_subscribed)?"paid_upsell":"free_upsell";return(0,s.d4)(()=>{(0,n.track)(n.EVENTS.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:K.id,type:j})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(o.Z,{onVisible:()=>{(0,n.track)(n.EVENTS.ABOUT_PAGE_END_CTA_SEEN,{pub_id:K.id,type:j})}}),(0,e.h)(u.tu,{alignItems:"center",gap:16,padding:24,className:T()(L.Z.container,"end-cta-container")},(0,e.h)("img",{src:(0,_.imginary)(K.author_photo_url||K.logo_url,64),className:L.Z.authorPic}),(0,e.h)(u.tu,{alignItems:"center"},(0,e.h)(g.xv.H2,{lineHeight:30,align:"center",color:"pub-primary-text"},"Subscribe to ",K.name),K.hero_text&&(0,e.h)(g.xv.Meta,{size:12,className:L.Z.heroText,align:"center",color:"pub-secondary-text"},K.hero_text)),(0,e.h)(c.Z,{pub:K,user:R,freeSignup:S,freeSignupEmail:N,isStatic:!1,source:"about-page-end-cta"})))};function B({pub:K,user:R,freeSignup:S,freeSignupEmail:N,subscribeContent:j}){return typeof j!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)(E.Z,{html:j,pub:K,user:R,freeSignup:S,freeSignupEmail:N,isAboutPage:!0}))}function W({pub:K,people:R}){const S=(0,v.useMediaQuery)({maxWidth:540}),N=S?[[]]:[[],[]];for(let j=0;j<R.length;++j)N[S?0:j%2].push(R[j]);return(0,e.h)("div",{className:"content-people"},N.map(j=>(0,e.h)("div",{className:"people-column"},j.map(H=>(0,e.h)("div",{className:"content-person",onclick:x=>(0,a.Q)(x,(0,_.getProfileUrl)(H,K,{utm_source:b.UTM_SOURCE.aboutPage}),{native:!0})},(0,e.h)(m.ProfileCard,{subject:H,profile:H,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class Z extends e.Component{constructor(R,S){super(R,S),this.onTabClick=N=>{this.loadTab({tabId:N})},this.state={subscribeContent:R.subscribeContent,people:R.people,tabs:[]}}componentDidMount(){return I(this,null,function*(){this.loadPeople(),this.loadAbout()})}loadAbout(){return I(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:R}=yield l().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:R})}catch(R){console.error("Failed to load about content:",R)}})}loadPeople(){return I(this,null,function*(){if(!this.state.people)try{const{body:R}=yield l().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:R})}catch(R){console.error("Failed to load people:",R)}})}loadTab(){return I(this,arguments,function*({tabId:R}={}){const S=R?this.state.tabs.find(N=>N.id===R):this.state.tab;this.state.tab.id!==S.id&&(this.setState({tab:S}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,_.updateQuery)({sort:S.id})))})}renderChildPublications({pub:R,user:S,freeSignup:N},{tab:j}){let H,x;if(R.plans?(x=S&&S.is_subscribed,H=x):(H=N||S&&S.is_free_subscribed,x=S&&S.is_free_subscribed),j.id==="podcast")if(x){const w=[];return(0,e.h)(y.k,{pub:R,showButton:!0,buttonText:"Set up podcast",items:w})}else{const w=[];return(0,e.h)(y.k,{pub:R,showButton:!H,buttonText:"Subscribe",items:w})}const F=[];return(0,e.h)(y.k,{pub:R,showButton:!H,buttonText:"Subscribe",items:F})}render({pub:R,user:S,freeSignup:N,freeSignupEmail:j,metadata:H},{subscribeContent:x,people:F,tabs:w,tab:V}){const $=w.length>0&&(V==null?void 0:V.id),k=!$||(V==null?void 0:V.id)==="about",G=(!S||!(0,i.P)(S,R))&&A(x);return(0,e.h)("div",{className:"page typography about-page typography"},H&&(0,d.setMetaData)(H),(0,e.h)("div",{className:"container"},(S==null?void 0:S.is_contributor)&&k&&(0,e.h)(f.z,{variant:"themed-secondary",href:(0,_.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(D.Z,{size:20})},(0,e.h)(g.xv,null,"Edit")),$&&(0,e.h)(r.Z,{tabs:w,tab:V.id,onTabClick:this.onTabClick}),k&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(B,{pub:R,user:S,freeSignup:N,freeSignupEmail:j,subscribeContent:x})),G?(0,e.h)(U,{pub:R,user:S,freeSignup:N,freeSignupEmail:j}):null,(F!=null?F:[]).length>0&&(0,e.h)(u.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(W,{pub:R,people:F}))),$&&["podcast","newsletter"].includes(V.id)&&this.renderChildPublications({pub:R,user:S,freeSignup:N},{tab:V})))}}},4077:(Y,C,t)=>{t.d(C,{Z:()=>m});var e=t(6400),s=t(94184),O=t.n(s),T=t(28488),D=t(47504),v=t(95674),P=t(18597),M=t(17025),l=t.n(M),_=t(69114);function m({children:E,title:c,pub:r,user:o,freeSignup:n,freeSignupEmail:a,sort:i,search:d,newPosts:p,topPosts:f,communityPosts:u,searchPosts:g,sectionId:y,isPodcast:L,metadata:b}){const I=!!(r!=null&&r.theme),{iString:A,iTemplate:U}=(0,T.M1)();return(0,e.h)(P.ze,{value:{hasThemedBackground:I}},b&&(0,M.setMetaData)(b),(0,e.h)("div",{className:O()("archive-page typography",_.Z.container,{"use-theme-bg":I})},(0,e.h)("div",{className:"container"},c&&(0,e.h)("h2",null,c),(0,e.h)(D.O,{communityPosts:u,communityTitle:A("Discussion"),freeSignup:n,freeSignupEmail:a,isPodcast:L,newPosts:p,pub:r,search:d,searchPosts:g,sectionId:y,showMonthDividers:!0,sort:i,source:"archive",topPosts:f,user:o,variant:"list"},({posts:B,linkToComments:W,onClickPost:Z})=>(0,e.h)(v.B,{hideImages:r.theme.hide_images_from_list,linkToComments:W,posts:B,pub:r,user:o,variant:"two-column-list",onChange:()=>{},onClickPost:Z})),E)))}},97619:(Y,C,t)=>{t.d(C,{G:()=>i});var e=t(6400),s=t(30396),O=t(80569),T=t.n(O),D=t(85928),v=t.n(D),P=t(52743),M=t(83322),l=t(7922),_=t(63397),m=t(83379),E=(p,f,u)=>new Promise((g,y)=>{var L=A=>{try{I(u.next(A))}catch(U){y(U)}},b=A=>{try{I(u.throw(A))}catch(U){y(U)}},I=A=>A.done?g(A.value):Promise.resolve(A.value).then(L,b);I((u=u.apply(p,f)).next())});const c={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},r=({ban:p,onReply:f,showReplyLink:u,name:g})=>{const y=v()(p.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},g," is banned until ",y,"."," ",u&&(0,e.h)("span",null,(0,e.h)("a",{onClick:f,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function o({pub:p,sub:f,children:u,tab:g}){return!f||!f.email?u:(0,e.h)("a",{target:"_blank",href:(0,P.getSubscriberDetailsUrl)(p,f.email,{tab:g})},u)}const n=({sub:p})=>p?p.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):p.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,a=({bans:p,activeBans:f})=>p.length===0?(0,e.h)("span",null,"No previous bans"):f.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",v()(p[0].start).standardDatetimeWithYear()," to"," ",v()(p[0].expiry).standardDatetimeWithYear()),i=({comment:p,pub:f,onReply:u,onBan:g,onClose:y})=>{const[L,b]=(0,s.eJ)(null),[I,A]=(0,s.eJ)(!1),[U,B]=(0,s.eJ)([]),[W,Z]=(0,s.eJ)(!1),[K,R]=(0,s.eJ)("24h"),[S,N]=(0,s.eJ)(null),[j,H]=(0,s.eJ)(!0),x=(0,s.sO)(null),F=!!p||I,w=Q=>{const q=Q;Q.forEach(z=>{q.findIndex(J=>J.id===z.id)==-1&&q.push(z)}),B(q)},V=()=>{u(p.id),x.current.close()};(0,s.d4)(()=>{x!=null&&x.current&&(F?x.current.state.open||x.current.open():x.current.state.open&&x.current.close())},[p,I]),(0,s.d4)(()=>E(void 0,null,function*(){if(p){Z(!1),A(!0),B([]),N(null),b(null);try{const Q=yield T().get(`/api/v1/user/${p.user_id}/bans`);B(Q.body.bans),b(Q.body.sub)}catch(Q){console.error("Failed to get bans:",Q),N(!0)}A(!1)}}),[p]);const $=()=>E(void 0,null,function*(){A(!0);try{const Q=yield T().post(`/api/v1/comment_ban/${p.id}`,{pub:f}).send({user_id:p.user_id,expiry:K,removeAllComments:j});j&&document.location.reload(),w(Q.body.bans),Z(!0),A(!1),g(p,U)}catch(Q){console.error("Failed to submit ban",Q),N(!0)}A(!1)});if(!p)return null;const k=c[K],G=U.filter(Q=>v()(Q.expiry).isAfter(v()()));return(0,e.h)(_.p,{ref:x,noExitOnClick:!0,onClose:y},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(o,{pub:f,sub:L},(0,e.h)(m.fi,{photo_url:p.photo_url,size:80,banned:G.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(o,{pub:f,sub:L},(0,e.h)("span",{className:"name"},p.name)),(0,e.h)(n,{sub:L}),(0,e.h)(a,{bans:U,activeBans:G}))),S&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),I?"Loading...":(0,e.h)("form",{className:"form"},G.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:Q=>R(Q.target.value),value:K},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:j,onInput:Q=>H(Q.target.checked)}),"Remove ",(0,M.guessFirstName)(p.name),"'s"," ",(0,e.h)(o,{pub:f,sub:L,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(l.Z,{className:"button primary",onClick:$},"Ban for ",k))),G.length>0&&U.filter(Q=>Q.user_id).map(Q=>(0,e.h)(r,{ban:Q,showReplyLink:W,onReply:V,name:p.name})))))};var d=null},61395:(Y,C,t)=>{t.d(C,{Z:()=>d});var e=t(59009),s=t(6400),O=t(80569),T=t.n(O),D=t(6385),v=t(52743),P=t(75501),M=t(93804),l=t(34988),_=t(18745),m=t(86575),E=t(65162),c=t(63270),r=t(3258),o=t(39776),n=t(17025),a=t.n(n),i=(f,u,g)=>new Promise((y,L)=>{var b=U=>{try{A(g.next(U))}catch(B){L(B)}},I=U=>{try{A(g.throw(U))}catch(B){L(B)}},A=U=>U.done?y(U.value):Promise.resolve(U.value).then(b,I);A((g=g.apply(f,u)).next())});class d extends s.Component{constructor(u,g){super(u,g),this.likesEnabled=(0,o.default)("like_posts_enabled"),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,m.ZP)(this.props.notify_user)}componentDidMount(){return i(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return i(this,null,function*(){if(!this.state.hasMore)return;(yield(0,n.stateLock)(this,"loading",g=>i(this,[g],function*({hasMore:y,posts:L}){if(y){L=L||[];try{const I=(yield T().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:L.length})).body;L=L.concat(I),y=I.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(I),this.setState({posts:L,hasMore:y})}catch(b){console.error(b)}return y}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(u){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!u||u.filter(L=>(0,D.isPaidAudience)(L.audience)&&!L.hidden).length===0)return;const g="__cookie_checked",y=(0,v.parseQuery)(window.location.search);y[g]||(y[g]="true",window.location.search=`?${(0,v.serializeQuery)(y)}`)}onChange({post:u}){if(u){const g=(this.state.posts||[]).map(y=>y.id).indexOf(u&&u.id);g!==-1&&(this.state.posts[g]=u,this.setState({posts:this.state.posts}))}}render({user:u,pub:g,freeSignup:y,freeSignupEmail:L,preloadedPosts:b,hide_intro_popup:I,children:A,blurbs:U,noBalanceHeroText:B,launchWelcomePage:W,skipIntoPopupRender:Z},{posts:K,hasMore:R,share_on_load:S}){const N=[];for(const j of K||b||[])j.hidden?Array.isArray(N[N.length-1])?N[N.length-1].push(j):N.push([j]):N.push(j);return(0,s.h)("div",{className:"classic-home-page"},(0,s.h)(l.ZP,{ref:j=>this.shareDialog=j,user:u,pub:g}),Z?null:(0,s.h)(P.ZP,{freeSignup:y,freeSignupEmail:L,user:u,post:null,publication:g,hidden:I||S,blurbs:U,noBalance:B,launchWelcomePage:W}),g&&g.subdomain==="sinocism"&&(0,s.h)("div",{className:"sinocism-hero-small"},(0,s.h)("div",{className:"container"},(0,s.h)("div",{className:"hero-text"},(0,s.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,s.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,s.h)("div",{className:"hero-left"},(0,s.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,s.h)("div",{className:"review-footer"},(0,s.h)("h3",null,"Evan Osnos"),(0,s.h)("p",null,"New Yorker correspondent and ",(0,s.h)("br",null),"National Book Award winner"))))),(0,s.h)("div",{className:"post-list"},N.length===0&&!R&&(0,s.h)("div",{className:"container-border coming-soon"},(0,s.h)("div",{className:"container"},(0,s.h)("p",null,"Coming soon"))),N.map((j,H)=>Array.isArray(j)?this.renderHiddenPosts(j,H):this.renderPost(j,H)),R?(0,s.h)("div",{className:"post-loader"},(0,s.h)("div",{className:"container"},(0,s.h)(E.Z,{ref:j=>this.loader=j,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,s.h)("p",null,"Loading more posts\u2026")))):g.has_posts&&K&&K.length>0&&(0,s.h)("div",{className:"container"},(0,s.h)("a",{className:"archive-link button invis",href:(0,v.getBaseArchiveUrl)(g)},"View archive"))),A)}renderPost(u){return(0,s.h)("div",{className:"container-border post-list-post"},(0,s.h)("div",{className:"container"},u.type==="thread"?(0,s.h)(_.H,{post:u,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,s.h)(M.SO,{post:u,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:g=>this.onChange(g),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(u,g){let y,L;return g===0?(y=u.slice(0,1),L=u.slice(1)):u.length<=3?(y=u,L=[]):(y=u.slice(0,2),L=u.slice(2)),(0,s.h)(p,{user:this.props.user,pub:this.props.pub,posts:y,collapsedPosts:L,onChange:b=>this.onChange(b)})}}d.contextType=c.QA;class p extends s.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,r.track)(r.EVENTS.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:u,pub:g,posts:y,collapsedPosts:L,onChange:b},{showing:I}){return(0,s.h)("div",{className:`container-border post-list-hidden-posts ${I?"showing":""}`},(0,s.h)("div",{className:"container"},y.map(A=>(0,s.h)(M.mV,{user:u,pub:g,post:A,onChange:b})),L.length>0&&(0,s.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},I?"hide":`+${L.length} more`),L.map(A=>(0,s.h)(M.mV,{className:"collapsed",user:u,pub:g,post:A,utm_source:e.UTM_SOURCE.home,onChange:b}))))}}},18026:(Y,C,t)=>{t.d(C,{_:()=>$});var e=t(6400),s=t(94184),O=t.n(s),T=t(25380),D=t(80569),v=t.n(D),P=t(28488),M=t(63270),l=t(6385),_=t(52743),m=t(20501),E=t(83322),c=t(7922),r=t(8925),o=t(63397),n=t(90955),a=t(74285),i=t(77190),d=t(71943),p=t(62017),f=t(3258),u=t(17025),g=t.n(u),y=t(13045),L=t(51126),b=t(43887),I=t(97868),A=t(61492),U=t(70355),B=t(59009),W=Object.defineProperty,Z=Object.defineProperties,K=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,j=(k,G,Q)=>G in k?W(k,G,{enumerable:!0,configurable:!0,writable:!0,value:Q}):k[G]=Q,H=(k,G)=>{for(var Q in G||(G={}))S.call(G,Q)&&j(k,Q,G[Q]);if(R)for(var Q of R(G))N.call(G,Q)&&j(k,Q,G[Q]);return k},x=(k,G)=>Z(k,K(G)),F=(k,G,Q)=>new Promise((q,z)=>{var J=ie=>{try{oe(Q.next(ie))}catch(re){z(re)}},te=ie=>{try{oe(Q.throw(ie))}catch(re){z(re)}},oe=ie=>ie.done?q(ie.value):Promise.resolve(ie.value).then(J,te);oe((Q=Q.apply(k,G)).next())});const w="commentInput";class V extends e.Component{constructor(G){var Q;super(G),this.state={value:(Q=G.commentBeingEdited)==null?void 0:Q.body,alsoShareToNotes:!1}}componentWillMount(){if(typeof localStorage!="undefined"){const G=JSON.parse(localStorage.getItem(w)||"{}");G.postId===this.props.post.id&&this.setState({value:G.value,alsoShareToNotes:!!G.alsoShareToNotes}),localStorage.removeItem(w)}}componentDidMount(){var G;this.props.autoFocus&&((G=this.bodyInput)==null||G.focus())}needsProfile(){const{user:G}=this.props;return!G||!G.name}onKeyDown(G){var Q;if((Q=this.props.user)!=null&&Q.is_magic){G&&G.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,E.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){G&&G.preventDefault(),this.showPaywall();return}G.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():G.key==="Enter"&&G.metaKey&&this.form.handleSubmit(G)}maybeSaveComment(){typeof localStorage!="undefined"&&localStorage.setItem(w,JSON.stringify({postId:this.props.post.id,value:this.state.value,alsoShareToNotes:this.state.alsoShareToNotes}))}onInput(G){if(!(0,E.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){G&&G.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return F(this,arguments,function*({profileUpdated:G}={}){const{user:Q,pub:q,post:z,parent:J,token:te,iString:oe}=this.props,{alsoShareToNotes:ie}=this.state;if(!(0,E.canPostComments)(Q,z,q).canReply)throw this.maybeSaveComment(),yield this.showPaywall(),yield new Promise(ue=>setTimeout(ue,600)),new r.ew(oe("Please sign in"));if(this.needsProfile()&&!G)throw this.maybeSaveComment(),yield this.showProfileUpdate(),yield new Promise(ue=>setTimeout(ue,600)),new r.ew(oe("Please update your profile"));const re={body:this.bodyInput.value,token:te};try{let ue;if(ie){const Ee=yield v().post("/api/v1/comment/attachment").send({type:"link",url:(0,_.getPostUrl)(q,z)});if(!(Ee!=null&&Ee.body))console.log("Error creating attachment");else{const se=H({},re);se.attachmentIds=[Ee.body.id],ue=yield v().post("/api/v1/comment/feed").send(se)}}J&&(re.parent_id=J.id);const ce=yield v().post(`/api/v1/post/${z.id}/comment`).send(re);if(typeof localStorage!="undefined"&&localStorage.removeItem(w),!(Q!=null&&Q.profile_set_up_at)){const{body:{count:Ee}}=yield v().get("/api/v1/user/profile_role_count");if(Ee>=2)return window.location=(0,_.pathWithQuery)(`${(0,_.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,U.aE)(z,ce.body,q)}),!1}return{notesComment:ue,res:ce}}catch(ue){throw ue.response&&ue.response.statusCode===403&&(Q&&Q.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),ue}})}onSuccess(G){const{res:Q,notesComment:q}=G,{iString:z,getConfigFor:J}=this.props;if(Q!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&q){const te=(0,m.getFeedCommentUrl)(q.body);this.props.popToast(oe=>(0,e.h)(y.FN,x(H({},oe),{icon:T.Z,text:J("unified_home_emabled_web")?z("Note shared"):z("Shared to Notes"),cta:z("View Now"),href:te})))}this.setState({value:""}),this.props.onSuccess(Q.body)}else{const te=(0,U.Os)(this.props.post,this.props.pub);window.location.pathname===te?window.location.reload():window.location.href=(0,U.Os)(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,m.getFeedCommentUrl)(Q.body)}:{})}}showFinishMagicLoginModal(){return F(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,f.track)(f.EVENTS.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return F(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,f.track)(f.EVENTS.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return F(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,f.track)(f.EVENTS.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return F(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield v().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(G){alert((0,u.getNetworkErrorMessage)(G))}}})}focus(){this.bodyInput.focus()}render({user:G,freeSignup:Q,freeSignupEmail:q,pub:z,post:J,token:te,onCancel:oe,autoFocus:ie,commentBeingEdited:re,saveEdit:ue,formClassName:ce,bannedFromNotes:Ee,iString:se,iTemplate:ne},{value:ee,alsoShareToNotes:ae}){return(0,e.h)(L.hs,{"data-test-id":"comment-input",flex:"grow",className:O()("comment-input-wrap",{comment:re})},(0,e.h)(r.ZP,{ref:he=>this.form=he,className:O()("comment-input",ce),performSubmit:he=>re?ue(ee):this.postComment(he),onSuccess:he=>this.onSuccess(he),noInlineErrors:!0,autoLock:!0},(0,e.h)(I.qE,{user:G,size:32}),(0,e.h)(L.tu,{flex:"grow",className:"comment-input-right"},re&&(0,e.h)(A.J,{post:J,pub:z,user:G,freeSignup:Q,freeSignupEmail:q,comment:re,isCollapsed:!1,userBanned:!1}),(0,e.h)(d.Z,{ref:he=>this.bodyInput=he&&he.base,name:"body",placeholder:se("Write a comment..."),autoHeight:!0,maxLines:8,value:ee||"",onInput:he=>this.onInput(he),onKeyDown:he=>this.onKeyDown(he)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(L.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!ee&&!oe&&(0,e.h)(L.hs,{gap:8,alignItems:"center",justifyContent:"center"},!Ee&&(0,e.h)(y.XZ,{name:"also_feed",size:"medium",as:"div",checked:ae,onChange:()=>{this.setState({alsoShareToNotes:!ae})},withTheme:!0}),!Ee&&(0,e.h)(b.xv.B4,{color:"pub-secondary-text",translated:!0},"Also share a"," ",(0,e.h)(p.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,m.getFeedUrl)({urlParams:{utm_content:B.UTM_CONTENT.commentShareCheckbox}})},"note"))),(oe||!!ee)&&(0,e.h)(c.Z,{className:"primary",type:"submit"},se(re?"Save":"Post")),oe&&(0,e.h)(c.Z,{className:"cancel",onClick:oe},se("Cancel"))))),(0,e.h)(a.h,null,(0,e.h)(i.EB,{ref:he=>this.profileUpdater=he,user:G,freeSignup:Q,freeSignupEmail:q,optionalPhoto:!0,token:te,text:se("Save & Post Comment"),onBeforeClose:he=>he&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(n.sF,{ref:he=>this.modalPaywall=he,user:G,freeSignup:Q,freeSignupEmail:q,publication:z,post:J,title:ne`Only ${(0,l.isFoundingAudience)(J.audience)?"founding":"paid"} subscribers can comment on this post`,reauthenticationTitle:se("To post a comment, please re-authenticate.")}),(0,e.h)(o.p,{ref:he=>this.finishMagicLoginModal=he,className:"finish-magic-login-modal"},(0,e.h)("h4",null,se("Check your email")),(0,e.h)("p",null,se("For your security, we need to re-authenticate you.")),(0,e.h)(b.xv,{as:"p",translated:!0},"Click the link we sent to ",I18N.p(G==null?void 0:G.email),", or"," ",(0,e.h)("a",{href:(0,_.getSigninUrl)({for_pub:z.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const $=(0,M.xY)((0,y.dd)((0,P.fz)(V)))},16790:(Y,C,t)=>{t.d(C,{$O:()=>A,L8:()=>y,LB:()=>L,eR:()=>b,lf:()=>u,sA:()=>g});var e=t(6400),s=t(94184),O=t.n(s),T=t(30396),D=t(34988),v=t(28488),P=t(59009),M=t(7922),l=t(97619),_=t(38671),m=t(70355),E=Object.defineProperty,c=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(U,B,W)=>B in U?E(U,B,{enumerable:!0,configurable:!0,writable:!0,value:W}):U[B]=W,d=(U,B)=>{for(var W in B||(B={}))n.call(B,W)&&i(U,W,B[W]);if(o)for(var W of o(B))a.call(B,W)&&i(U,W,B[W]);return U},p=(U,B)=>c(U,r(B));const f=t(43174),u=5,g=1,y=16,L=50,b=200;function I(U){return U.reduce((B,W)=>B+1+I(W.children||[]),0)}function A({user:U,freeSignup:B,freeSignupEmail:W,pub:Z,post:K,comments:R,reaction_token:S,depth:N,collapseAtDepth:j,onChange:H,pageSize:x,retainUserCollapseState:F,updateCommentReacted:w,parent:V,scrollRef:$,className:k,onStartReply:G,noHoverProfile:Q,onProfileClick:q,hideContextMenu:z,noRestack:J}){const te=x||y,[oe,ie]=(0,T.eJ)(te),[re,ue]=(0,T.eJ)(-1),[ce,Ee]=(0,T.eJ)(null),[se,ne]=(0,T.eJ)(null),[ee,ae]=(0,T.eJ)(null),[he,me]=(0,T.eJ)(new Set(R.map(({id:ye})=>ye))),{iString:ge,iPlural:ve}=(0,v.M1)(),Oe=(0,T.sO)();if((0,T.d4)(()=>{re>=0&&window.scrollTo(window.scrollX,re)},[re]),(R||[]).length===0)return;const[Me,Pe]=f(R,({id:ye,user_id:Fe})=>he.has(ye)||Fe===(U==null?void 0:U.id)),De=Me.slice(0,oe),We=ye=>{var Fe;ae(ye),(Fe=Oe.current)==null||Fe.open()};return(0,e.h)("div",{className:O()("comment-list",k,{"has-new-comments":Pe.length>0})},(0,e.h)(l.G,{pub:Z,comment:ce,onClose:()=>Ee(null),onReply:ye=>{ne(ye),Ee(null)},onBan:(ye,Fe)=>{H?H(p(d({},ye),{user_banned:!0,bans:Fe.concat(ye.bans)})):document.location.href=(0,m.Os)(K,Z)}}),(0,e.h)(D.ZP,{ref:Oe,pub:Z,post:K,commentId:ee,utm_campaign:P.UTM_CAMPAIGN.commentListShareCta,comments:R,user:U}),Pe.length>0&&(0,e.h)(M.Z,{className:"collapsed-reply outline",onClick:()=>me(new Set(R.map(({id:ye})=>ye)))},ve("1 new reply","%1 new replies",I(Pe))),(0,e.h)("div",{className:"comment-list-items"},De.map(ye=>(0,e.h)(_.s,{banComment:()=>Ee(ye),key:`cmt-${ye.id}`,user:U,freeSignup:B,freeSignupEmail:W,pub:Z,post:K,comment:ye,parent:V,reaction_token:S,collapseAtDepth:j,depth:N||0,onChange:H,replying:se===ye.id,scrollRef:$,retainUserCollapseState:F,onStartReply:G,noHoverProfile:Q,onShareComment:We,onProfileClick:q,hideContextMenu:z,noRestack:J,updateCommentReacted:w}))),Me.length>De.length&&(0,e.h)(M.Z,{className:"collapsed-reply outline",onClick:()=>{ue(window.scrollY),ie(oe+te)}},ge("Load More")))}},34967:(Y,C,t)=>{t.d(C,{l:()=>s});var e=t(6400);const s=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})))},72288:(Y,C,t)=>{t.d(C,{IO:()=>x,o_:()=>F,rf:()=>H});var e=t(6400),s=t(80569),O=t.n(s),T=t(11628),D=t(28488),v=t(23334),P=t(82622),M=t(6385),l=t(52743),_=t(83322),m=t(49786),E=t(90955),c=t(91801),r=t(34988),o=t(18745),n=t(3258),a=t(17025),i=t.n(a),d=t(13045),p=t(77546),f=t(18026),u=t(16790),g=t(34967),y=t(97910),L=t(70355),b=Object.defineProperty,I=Object.defineProperties,A=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,Z=(w,V,$)=>V in w?b(w,V,{enumerable:!0,configurable:!0,writable:!0,value:$}):w[V]=$,K=(w,V)=>{for(var $ in V||(V={}))B.call(V,$)&&Z(w,$,V[$]);if(U)for(var $ of U(V))W.call(V,$)&&Z(w,$,V[$]);return w},R=(w,V)=>I(w,A(V)),S=(w,V,$)=>new Promise((k,G)=>{var Q=J=>{try{z($.next(J))}catch(te){G(te)}},q=J=>{try{z($.throw(J))}catch(te){G(te)}},z=J=>J.done?k(J.value):Promise.resolve(J.value).then(Q,q);z(($=$.apply(w,V)).next())});const N=30*1e3;class j extends e.Component{constructor(V,$){super(V,$),this.modalRef=(0,e.createRef)(null),this.onWindowVisibilityChange=()=>{(0,a.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)},this.state={},V.post&&V.post.slug===V.slug&&(this.state.post=V.post),this.state.sort=V.sort||this.state.post&&this.state.post.default_comment_sort||V.publication.default_comment_sort||"best_first",this.state.comments=V.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return S(this,null,function*(){var V;const{iString:$,inline:k,user:G}=this.props;if((0,a.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(V=this.props.matches)!=null&&V.feedCommentUrl){const Q=this.props.matches.feedCommentUrl,q=new URL(location.toString());q.searchParams.delete("feedCommentUrl"),history.replaceState({},"",q),this.props.popToast(z=>(0,e.h)(d.FN,R(K({},z),{text:$("Note Shared."),cta:$("View Now"),href:Q})),{ttl:1e4})}})}componentWillUnmount(){(0,a.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(V,$){return S(this,null,function*(){if(V.slug!==this.props.slug||$.sort!==this.state.sort){const k=this.props.post&&this.props.post.slug===this.props.slug;yield(0,a.setState)(this,{post:k?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let k=0;(0,P.hO)(this.state.comments,()=>k++),this.state.post.comment_count!==k&&(this.state.post.comment_count=k,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:V}=this.state;(0,n.track)(n.EVENTS.COMMENTS_VIEWED,{post_id:V.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(V.type==="thread"||(0,_.canSeeComments)(this.props.user,V))&&(0,n.track)(n.EVENTS.COMMENT_PAYWALL_SHOWN,{post_id:V.id,post_type:V.type}),V.type==="thread"&&this.props.user&&Promise.resolve(O().post(`/api/v1/posts/${V.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),N)}loadPost(){return S(this,null,function*(){if(this.state.comments&&!(0,a.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const V=this.state.comments&&this.state.comments.length>0;let $;this.state.comments&&($=null,(0,P.hO)(this.state.comments,k=>{!k.deleted&&k.date&&(!$||k.date>$)&&($=k.date)}));try{const k=this.props.slug,G=this.state.sort,Q={token:this.props.post_reaction_token||"",all_comments:!0,sort:G,last_comment_at:$};this.state.post&&this.props.commentId&&(Q.comment_id=this.props.commentId);const q=yield O().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${k}`).query(Q);if(this.setState({loading:!1}),k!==this.props.slug||G!==this.state.sort)return;let z=this.state.sort;!this.state.post&&q.body.default_comment_sort&&(z=q.body.default_comment_sort),(!this.state.post||!this.state.comments||q.body.comments)&&(yield(0,a.setState)(this,{post:this.state.post||q.body,comments:q.body.comments||[],sort:z}))}catch(k){console.error("Failed to load post:",k),k.statusCode===400&&(yield(0,a.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!V&&this.state.comments&&this.state.comments.length>0&&(0,a.scrollToHash)(),(0,a.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(V){this.setState({comments:(0,L.fc)(this.state.comments,V)})}onSortSelected(V){this.setState({sort:V}),(0,n.track)(n.EVENTS.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:V})}triggerShareOnLoad(){var V;(V=this.shareDialogRef)!=null&&V.current&&(0,l.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,l.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(V){const{publication:$}=this.props;return($==null?void 0:$.subdomain)===V}render({slug:V,user:$,freeSignup:k,freeSignupEmail:G,publication:Q,post_reaction_token:q,inline:z,commentId:J,selectionFromQuery:te,freeTrialCoupon:oe,show_reaction_upsell:ie,bannedFromNotes:re,iString:ue,iPlural:ce,iTemplate:Ee},{sort:se,post:ne,comments:ee,notAllowedToFetchComments:ae,reactionSigninComment:he}){if(!ne||!Q.community_enabled)return!z&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(o.U,null)));const me=Q.community_enabled&&ne&&ne.write_comment_permissions!=="none",ge=ae||me&&!(0,_.canSeeComments)($,ne),ve=(Oe,Me)=>S(this,null,function*(){return F({user:$,reactionToken:q,comments:ee,id:Oe,reacted:Me,setComments:Pe=>this.setState({comments:Pe}),onNeedsSignin:Pe=>new Promise(De=>this.setState({reactionSigninComment:Pe},()=>this.modalRef.current.open(De)))})});return(0,e.h)("div",{className:"comments-page"},J&&(ee==null?void 0:ee.length)>0?(0,e.h)(v.N,{comment:ee[0],post:ne,publication:Q}):(0,e.h)(p.kX,{post:ne,publication:Q,isCommentPage:!this.props.inline,selection:te}),(0,e.h)(r.ZP,{ref:this.shareDialogRef,user:$,pub:Q,post:ne,reaction_token:q,comments:ee,commentId:J}),!z&&!J&&(0,e.h)("div",{className:"container"},(0,e.h)(o.H,{pub:Q,post:Object.assign({},ne,{comment_url_override:(0,l.getPostUrl)(Q,ne,{comments:!0})}),user:$,freeSignup:k,freeSignupEmail:G,hidden:!(0,_.isUUID)(V)&&ne.hidden,truncated:ne.type!=="thread",post_reaction_token:q,onChange:Oe=>this.setState(Oe),showUnsubscribeNotice:!0,gap:0,showShare:!1},(0,e.h)("div",{className:"full-container-border"}))),ge&&(0,e.h)("div",{className:"container"},(0,e.h)(E.f1,{user:$,freeSignupEmail:G,freeSignup:k,publication:Q,post:ne,title:Ee`Comments on this ${ne.type==="podcast"?"episode":"post"} are for ${(0,M.isFoundingAudience)(ne.audience)?"founding":"paid"} subscribers`,reauthenticationTitle:ue("To see the comments, please re-authenticate."),coupon:oe})),ne.type==="thread"||(0,_.canSeeComments)($,ne)?(0,e.h)("div",{className:"container"},ee&&(0,e.h)(d.gq,{alignItems:"center",justifyContent:"space-between",paddingY:8},(0,e.h)("div",{className:"comments-heading"},ce("1 Comment","%1 Comments",ne.comment_count)),!z&&!Q.invite_only&&(0,_.canSeeComments)($,ne)&&(0,e.h)(d.zx,{priority:"secondary-theme",leftIcon:(0,e.h)(T.Z,null),onClick:()=>{var Oe;(Oe=this.shareDialogRef.current)==null||Oe.open()}},ue("Share"))),ee&&ee.length>0&&!me&&(0,e.h)(x,{post:ne}),me&&(0,e.h)(f._,{user:$,freeSignup:k,freeSignupEmail:G,pub:Q,post:ne,token:q,autoFocus:(0,L.gB)(),onSuccess:Oe=>this.setState({comments:[Oe].concat(ee)}),bannedFromNotes:re}),(!ee||ee.length>0)&&!ae&&!J&&(0,e.h)(y.Z,{sort:se,loading:!ee,onSortSelected:Oe=>this.onSortSelected(Oe),pub:Q}),J&&ee&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,l.getPostUrl)(Q,ne,{comments:!0,commentId:J,highlightComment:!0})},ue("\u2B60 Return to thread")),!ee&&!ae?[(0,e.h)(g.l,null),(0,e.h)(g.l,null)]:ee.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(u.$O,{key:`post:${ne.id}`,user:$,freeSignup:k,freeSignupEmail:G,pub:Q,post:ne,comments:ee,reaction_token:q,depth:0,collapseAtDepth:z?10:ee.length>3&&se==="most_recent_first"?u.sA:u.lf,onChange:Oe=>this.onChange(Oe),pageSize:z||this._isPub("astralcodexten")?u.eR:ne.type==="thread"?u.LB:u.L8,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:ve,noRestack:!0}))]:null):null,he&&(0,e.h)(c.oq,{comment:he,pub:Q,user:$,react:()=>ve(he.id,!0),modalRef:this.modalRef}),ie?(0,e.h)(m.hF,{user:$,pub:Q,post:ne}):null)}}const H=(0,d.dd)((0,D.fz)(j)),x=({post:w})=>{const{iString:V}=(0,D.M1)();return(0,e.h)("div",{className:"locked-comments"},w.type==="adhoc_email"?V("Commenting has been turned off for this email"):V("Commenting has been turned off for this post"))};function F(w){return S(this,arguments,function*({user:V,reactionToken:$,comments:k,id:G,reacted:Q,setComments:q,onNeedsSignin:z}){var J;const te=(0,L.S9)(G,k);if(!te)return;const oe=K({},te);(0,c.E6)(V,oe,Q),q((0,L.fc)(k.slice(0),oe));try{yield(0,c.xl)(oe,!0,Q,$)}catch(ie){if((0,c.E6)(V,oe,!Q),q((0,L.fc)(k.slice(0),K({},oe))),((J=ie.response)==null?void 0:J.statusCode)!==401){alert((0,a.getNetworkErrorMessage)(ie));return}yield z({comment:oe})}})}},82376:(Y,C,t)=>{t.d(C,{H:()=>d});var e=t(6400),s=t(94184),O=t.n(s),T=t(80569),D=t.n(T),v=t(14784),P=t(52743),M=t(93804),l=t(65162),_=t(2405),m=t(32076),E=t(63270),c=t(3258),r=t(85346),o=t(17025),n=t.n(o),a=t(77546),i=(p,f,u)=>new Promise((g,y)=>{var L=A=>{try{I(u.next(A))}catch(U){y(U)}},b=A=>{try{I(u.throw(A))}catch(U){y(U)}},I=A=>A.done?g(A.value):Promise.resolve(A.value).then(L,b);I((u=u.apply(p,f)).next())});class d extends e.Component{constructor(f,u){super(f,u),this.onVisible=y=>{const L=`${y} Seen`;this.state.post&&(this.state[L]||(this.setState({[L]:!0}),(0,c.track)(L,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var y;const L=document.querySelectorAll('article.post input[type="email"]'),b=((y=this.state.user)==null?void 0:y.email)||this.props.freeSignupEmail;b&&L.forEach(I=>I.value=b),this.setState({embeddedEmailInputsFilled:!0})};const{user:g}=f;f.post?this.state={post:f.post,user:g,introText:f.introText,crossPostedPub:f.crossPostedPub,crossPostingByLine:f.crossPostingByLine,userWithCrossPostedPubContext:f.userWithCrossPostedPubContext,crossPostedPublicationSettings:f.crossPostedPublicationSettings,crossPostedSiteConfig:f.crossPostedSiteConfig}:this.state={user:g}}componentDidMount(){return i(this,null,function*(){(0,o.scrollToHash)(),this.cleanUpTikTokEnhanceListener=(0,r.G)(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var f;(f=this.cleanUpTikTokEnhanceListener)==null||f.call(this)}componentDidUpdate(f){return i(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return i(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,o.scrollToHash)());else try{const f=yield D().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,o.setState)(this,{post:f.body.post,introText:f.body.intro_text,crossPostedPub:f.body.crossPostedPub,crossPostingByLine:f.body.crossPostingByLine,userWithCrossPostedPubContext:f.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:f.body.crossPostedPublicationSettings,crossPostedSiteConfig:f.body.crossPostedSiteConfig}),(0,o.scrollToHash)()}catch(f){console.error("Failed to load post:",f),alert((0,o.getNetworkErrorMessage)(f))}})}triggerShareOnLoad(){if((0,P.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,P.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:f,freeSignupEmail:u,publication:g},{post:y,user:L,introText:b,crossPostedPub:I,crossPostingByLine:A,userWithCrossPostedPubContext:U,crossPostedPublicationSettings:B,crossPostedSiteConfig:W}){const Z=(y==null?void 0:y.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:O()("single-post-container")},(0,e.h)("div",{className:O()({container:!Z})},(0,e.h)("div",{className:"single-post"},(0,e.h)(a.kX,{post:y,publication:g}),y&&B&&W?(0,e.h)(m.Iz,{settings:B},(0,e.h)(E.vC,{siteConfigs:W},(0,e.h)(_.uL,{crossPost:{crossPostedPub:I}},(0,e.h)(M.SO,{ref:K=>{this.post=K},user:U,post:y,pub:I,freeSignup:f,freeSignupEmail:u,paywall:!1,noTitleLink:!0,onChange:K=>this.setState(K),fromPostPage:!0,crossPostInfo:{introText:b,crossPostedPub:I,crossPostingByLine:A,userWithCrossPostedPubContext:U}})))):(0,e.h)(M._q,{pub:g}))),g.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(l.Z,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(v.h,{user:L,freeSignup:f,freeSignupEmail:u,pub:g,maxPosts:3,filterPostsPredicate:K=>K.id!==(y==null?void 0:y.id),stateInUrl:!0,sortTabs:K=>{const R=K.findIndex(S=>S.id==="top");return R!==-1?[K[R]].concat(K.filter((S,N)=>N!==R)):null},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}},65392:(Y,C,t)=>{t.d(C,{Z:()=>a});var e=t(6400),s=t(94184),O=t.n(s),T=t(20501),D=t(52743),v=t(69781),P=t(7922),M=t(8925),l=t(75501),_=t(75223),m=t(63270),E=t(72496),c=t(17025),r=t.n(c),o=t(43887),n=t(59009);class a extends e.Component{constructor(d,p){super(d,p),this.state={freeSignup:d.freeSignup,freeSignupEmail:d.freeSignupEmail,success:!1}}componentDidMount(){var d;(0,c.preloadImage)((0,D.imginary)("/img/substack_wordmark.png",200));const p=this.props.freeSignupEmail||this.props.user&&this.props.user.email;p?this.emailInput.value=p:(0,c.isMobileBrowser)()||(d=this.emailInput)==null||d.focus()}onPrepareData(d){(this.props.pub.plans||!this.context.getConfigFor("no_embed_redirect"))&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(d){this.setState({freeSignup:!0,freeSignupEmail:d.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=(0,T.getSubscribeUrl)(this.props.pub,{addBase:!0,params:{just_signed_up:!0,skip_redirect_check:!0,utm_medium:n.UTM_MEDIUM.web,utm_source:n.UTM_SOURCE.embed}}))}onError(d){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(p){console.error("Failed to close subscribe window:",p)}this.subscribeWindow=null}}render({pub:d,user:p,no_border:f},{freeSignup:u,freeSignupEmail:g,loading:y,success:L}){const b=g||p&&p.email;return(0,e.h)("div",{className:`embed-page ${f?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},d.logo_url&&(0,e.h)("a",{href:`${d.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,D.imginary)(d.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${d.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${d.base_url}/`,target:"_blank"},(0,e.h)(v.Z,{text:d.name}))),!!d.hero_text&&(0,e.h)("p",{className:"publication-tagline"},(0,e.h)(v.Z,{text:d.hero_text})),(0,e.h)("div",{className:"publication-meta"},(0,e.h)(v.Z,{text:(0,l.sv)(d,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:d.rankingDetailFreeSubscriberCount,includeRankingDetail:!!d.rankingDetailFreeSubscriberCount})})),d.invite_only?(0,e.h)(M.ZP,{className:"subscription-request-form",ref:I=>this.form=I,noInlineErrors:!0,action:(0,D.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,D.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:I=>{this.setState({loading:!1}),alert((0,c.getNetworkErrorMessage)(I,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:E.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:E.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:E.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:E.xU}),!!b&&(0,c.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:O()(L?"secondary":"primary"),type:"email",name:"email",ref:I=>this.emailInput=I,readOnly:!!(b||y),disabled:!!(y||L||b),placeholder:"Type your email\u2026"}),(0,e.h)(P.Z,{className:O()("rightButton",L?"secondary":"primary"),type:"submit",disabled:!!(y||L),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},L?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(_.Z,{source:"embed",pub:d,user:p,freeSignup:u,freeSignupEmail:g,forceEmailInput:!0,onPrepareData:I=>this.onPrepareData(I),onSignup:I=>this.onSignup(I),onError:I=>this.onError(I)}),(0,e.h)("div",{className:"embed-tos"},(0,e.h)(o.xv.B4,{color:"pub-secondary-text",size:12,lineHeight:14,align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,D.getPublisherTermsUrl)({pub:d,utm_source:"embed_publication"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,D.getPublisherPrivacyUrl)({pub:d,utm_source:"embed_publication"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,D.getInfoCollectionUrl)({utm_source:"embed_publication"})},"our Information collection notice"))),(p||u)&&(0,e.h)("p",{className:"sign-out-block"},(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,D.getSignoutUrl)({redirect:document.location.href,for_pub:d.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,D.getSubstackUrl)()}/?utm_source=${n.UTM_SOURCE.embed}&utm_content=${d.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:I=>this.img=I,className:"substack-watermark",src:(0,D.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,D.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,D.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}a.contextType=m.QA},22033:(Y,C,t)=>{t.d(C,{Z:()=>m});var e=t(6400),s=t(30396),O=t(80569),T=t.n(O),D=t(52743),v=t(68919),P=t(17025),M=t.n(P),l=(E,c,r)=>new Promise((o,n)=>{var a=p=>{try{d(r.next(p))}catch(f){n(f)}},i=p=>{try{d(r.throw(p))}catch(f){n(f)}},d=p=>p.done?o(p.value):Promise.resolve(p.value).then(a,i);d((r=r.apply(E,c)).next())});const m=({pub:E,slug:c})=>{var r;const[o,n]=(0,s.eJ)(null);(0,s.d4)(()=>{function i(){return l(this,null,function*(){try{const d=yield T().get(`/api/v1/posts/${c}`);n(d.body)}catch(d){console.error("Failed to load post:",d),d.status===404?alert("Post not found"):alert((0,P.getNetworkErrorMessage)(d))}})}i()},[c]);let a=!1;return typeof window!="undefined"&&(a=((r=(0,D.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),o?(0,e.h)(v.Z,{feature:"Podcast",pub:E,post:o,src:o.podcast_url,autoPlay:a,metricsPost:o,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})}},52444:(Y,C,t)=>{t.d(C,{Z:()=>s});var e=t(6400);function s(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}},83974:(Y,C,t)=>{t.d(C,{Z:()=>m});var e=t(6400),s=t(30396),O=t(80569),T=t.n(O),D=t(52743),v=t(25346),P=t(17025),M=t.n(P),l=(E,c,r)=>new Promise((o,n)=>{var a=p=>{try{d(r.next(p))}catch(f){n(f)}},i=p=>{try{d(r.throw(p))}catch(f){n(f)}},d=p=>p.done?o(p.value):Promise.resolve(p.value).then(a,i);d((r=r.apply(E,c)).next())});const m=({pub:E,slug:c})=>{var r;const[o,n]=(0,s.eJ)(null);(0,s.d4)(()=>{function i(){return l(this,null,function*(){try{const d=yield T().get(`/api/v1/posts/${c}`);n(d.body)}catch(d){console.error("Failed to load post:",d),d.status===404?alert("Post not found"):alert((0,P.getNetworkErrorMessage)(d))}})}i()},[c]);let a=!1;return typeof window!="undefined"&&(a=((r=(0,D.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),o?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(v.Z,{mediaUpload:o.videoUpload,pub:E,autoPlay:a})):(0,e.h)("div",{className:"loading-container"})}},29334:(Y,C,t)=>{t.d(C,{Z:()=>m});var e=t(6400),s=t(30396),O=t(52743),T=t(83322),D=t(1977),v=t(37096),P=t(95675),M=(c,r,o)=>new Promise((n,a)=>{var i=f=>{try{p(o.next(f))}catch(u){a(u)}},d=f=>{try{p(o.throw(f))}catch(u){a(u)}},p=f=>f.done?n(f.value):Promise.resolve(f.value).then(i,d);p((o=o.apply(c,r)).next())});function l(){var c;return typeof window!="undefined"?((c=window._preloads)==null?void 0:c.file)||{}:{}}function _(c,r){return`${c.title.toLowerCase().replace(/\s/g,"_")}.${r.toLowerCase()}`}function m({file:c=l(),pub:r}){const[o,n]=(0,s.eJ)(null);return(0,s.d4)(()=>(()=>M(this,null,function*(){if(!c.fileKey){const a=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);a.redirected&&(window.location.href=a.url);const i=yield a.json();n(i)}}))(),[c.fileKey]),(0,e.h)(E,{file:o||c,pub:r})}function E({file:c,pub:r}){var o;if(!c.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const n=(o=c.file_key)==null?void 0:o.split(".").pop().toUpperCase(),a=(0,T.numberToHumanFileSize)(c.num_bytes),i=_(c,n);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,O.getBaseUrl)(r)}/p/${c.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${c.thumbnail&&c.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:c.thumbnail||`${(0,O.getBaseUrl)(r)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},c.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},a," \u2219 ",n," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,O.getBaseUrl)(r)}/api/v1/file/panels/${c.file_key}`},(0,e.h)(P.Z,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(D.Z,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:i,href:`${(0,O.getBaseUrl)(r)}/api/v1/file/${c.file_key}`},(0,e.h)(v.Z,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},i)),(0,e.h)(D.Z,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}},10316:(Y,C,t)=>{t.d(C,{Z:()=>M});var e=t(6400),s=t(80569),O=t.n(s),T=t(77190),D=t(17025),v=t.n(D),P=(l,_,m)=>new Promise((E,c)=>{var r=a=>{try{n(m.next(a))}catch(i){c(i)}},o=a=>{try{n(m.throw(a))}catch(i){c(i)}},n=a=>a.done?E(a.value):Promise.resolve(a.value).then(r,o);n((m=m.apply(l,_)).next())});class M extends e.Component{constructor(){super(...arguments),this.acceptInvite=()=>P(this,null,function*(){var _,m;try{const E=yield O().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(_=E.body)!=null&&_.postUrl?location.href=(m=E.body)==null?void 0:m.postUrl:(0,D.redirect)(`/invite-success/${this.props.matches.id}`)}catch(E){const c=(0,D.getNetworkErrorMessage)(E);this.setState({error:c})}})}componentDidMount(){this.props.user||(0,D.redirectToLogin)()}render({pub:_,post:m,user:E,freeSignup:c,freeSignupEmail:r,inviteToPost:o,primaryEligiblePublications:n,switchAccountRedirectUrl:a},{error:i}){if(i)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,i));const d=o&&m&&m.type==="podcast",p=d&&E?"Fill out your profile for your podcast appearance":d&&!E?"Set up your profile for your podcast appearance":o&&E?"Set up your profile":o&&!E?"Fill out your profile":`Your invite to ${_.name}`,f=d?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":o?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",u=o?"Update Profile & Accept Invite":"Accept Invite",g=E?"Already a writer?":"Already have an account?",y=E?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,p),(0,e.h)("p",null,f),(0,e.h)(T._0,{pageTitle:"",user:E,freeSignup:c,freeSignupEmail:r,needsPhoto:!1,optionalPhoto:o,isPostInvite:o,primaryEligiblePublications:n,onSuccess:this.acceptInvite,text:u}),o&&a&&(0,e.h)("div",{className:"invite-switch-account"},g," ",(0,e.h)("a",{href:a},y)))}}M.defaultProps={inviteToPost:!1,primaryEligiblePublications:[]}},13021:(Y,C,t)=>{t.d(C,{E:()=>M});var e=t(6400),s=t(83322),O=t(7922),T=t(8925),D=t(3341),v=t(17025),P=t.n(v);class M extends e.Component{renderNotAvailable(m,{time:E=!1}={}){const c=E?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),m,(0,e.h)("p",null,"Sorry, ",c,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(D.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe"})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,l(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:m,t:E,user:c,freeSignupEmail:r,viral_gift_data:o}){const{sender_name:n,count_remaining:a,sender_id:i}=o,d=(0,s.getGiftValueText)(m.plans),p=d?` (value: ${d})`:"",f=`Accept ${n||"your friend"}'s gift`,u=`A three-month subscription to ${m.name}${p}`,g=(0,v.setMetaData)({title:f,description:u,image:m.logo_url});if(!E||!a)return this.renderNotAvailable(g);let y=null;c&&c.id==i&&(y=this.renderForSender());let L="",b=r||"";c&&!y&&(L=c.name,b=c.email);const I=`${a} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},y,g,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,n||"Your friend"," would like to give you a free, three-month subscription. ",p),(0,e.h)("p",null,(0,e.h)("b",null,I)),(0,e.h)(T.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:L}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:b}),(0,e.h)("input",{type:"hidden",value:E,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(O.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function l(_){return _.name?_.name.trim().split(/\s+/g)[0]:_.email.split("@")[0]}},47504:(Y,C,t)=>{t.d(C,{O:()=>L});var e=t(6400),s=t(2564),O=t(49034),T=t(26059),D=t(35819),v=t(28488),P=t(32076),M=t(81979),l=t(25018),_=t(15716),m=t(1515),E=t(13045),c=t(31763),r=t(83322),o=t(12652),n=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,u=(b,I,A)=>I in b?n(b,I,{enumerable:!0,configurable:!0,writable:!0,value:A}):b[I]=A,g=(b,I)=>{for(var A in I||(I={}))p.call(I,A)&&u(b,A,I[A]);if(d)for(var A of d(I))f.call(I,A)&&u(b,A,I[A]);return b},y=(b,I)=>a(b,i(I));const L=({children:b,communityPosts:I,communityTitle:A,delayFirstLoad:U,filterPostsPredicate:B,isBelowTheFold:W,isPodcast:Z,maxPosts:K,newPosts:R,pinnedPosts:S,postTagId:N,pub:j,search:H,searchPosts:x,sectionId:F,showMonthDividers:w,sort:V,sortTabs:$,source:k,user:G,variant:Q="list"})=>{const{iString:q}=(0,v.M1)(),{isMobile:z}=(0,l.v9)(),{getSettingFor:J}=(0,P.So)(),te=(0,r.ensureInList)(J("post_preview_crop_gravity"),["center","auto"]);return(0,e.h)(_.W.Provider,{value:{alwaysShowActions:!1,cropGravity:te}},(0,e.h)(O.Z,{communityPosts:I,communityTitle:A,delayFirstLoad:U,filterPostsPredicate:B,isBelowTheFold:W,isPodcast:Z,maxPosts:K,newPosts:R,pinnedPosts:S,postTagId:N,pub:j,renderPosts:({posts:oe,linkToComments:ie,onClickPost:re,postGroups:ue})=>ue?ue.map(({label:ce,posts:Ee})=>(0,e.h)(e.Fragment,null,ce&&(0,e.h)(e.Fragment,null,(0,e.h)(M.f,{paddingTop:8,paddingBottom:8}),(0,e.h)(E.xv.Meta,{as:"h3",className:o.Z.monthHeader,color:"pub-accent",paddingBottom:24},ce)),b({posts:Ee,linkToComments:ie,onClickPost:re}))):b({posts:oe,linkToComments:ie,onClickPost:re}),renderLoading:()=>(0,e.h)(m.b,{variant:Q,postCount:K!=null?K:7}),renderSeeAll:({url:oe})=>Q==="grid-groups"?null:(0,e.h)(E.gq,{paddingTop:16},(0,e.h)(E.zx,{href:oe,rightIcon:(0,e.h)(s.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},q("See all"))),renderTabs:({activeTabId:oe,isSearching:ie,tabs:re,searchInputProps:ue,searchRef:ce,showSearch:Ee,onClick:se,onClickSearch:ne,onClickSearchClose:ee})=>Q==="grid-groups"?null:ie?(0,e.h)(E.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16,paddingX:z?0:8},(0,e.h)(E.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(D.Z,{height:16,className:o.Z.searchIcon}),(0,e.h)("input",y(g({},ue),{ref:ce,type:"text",placeholder:q("Search..."),className:o.Z.searchInput}))),(0,e.h)("div",{role:"button",onClick:ee,className:o.Z.iconButton},(0,e.h)(T.Z,{height:20}))):(0,e.h)(E.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16,paddingX:z?0:8},(0,e.h)(c.N,{activeTabId:oe,tabs:re,onClick:se}),Ee&&(0,e.h)("div",{role:"button",onClick:ne,className:o.Z.iconButton},(0,e.h)(D.Z,{height:20}))),sectionId:F,search:H,searchPosts:x,showMonthDividers:w,sort:V,sortTabs:$,source:k,stateInUrl:!0,user:G}))}},44986:(Y,C,t)=>{t.d(C,{O:()=>P});var e=t(6400),s=t(25018),O=t(90913),T=t(64169),D=t(2678),v=t(13045);const P=({pub:M,user:l})=>{const{isMobile:_}=(0,s.v9)();return(0,e.h)(v.tu,{gap:40},!_&&(0,e.h)(D.f,{pub:M,user:l}),M.show_recs_on_homepage&&(0,e.h)(T.z,{pub:M,user:l}),(0,e.h)(O.p,{pub:M}))}},10456:(Y,C,t)=>{t.d(C,{B:()=>v});var e=t(6400),s=t(13045),O=t(63148);const T="/account/add-all-podcasts",D="/p/how-do-i-add-a-bulwark-member-only",v=()=>(0,e.h)("div",{className:O.Z.container},(0,e.h)("ul",null,(0,e.h)(s.xv,{as:"li",font:"text",size:16,lineHeight:24},"Learn about"," ",(0,e.h)("a",{href:D,target:"_blank",rel:"noopener noreferrer"},"setting up your podcasts")),(0,e.h)(s.xv,{as:"li",font:"text",size:16,lineHeight:24},"Add the Bulwark Premium Show"," ",(0,e.h)("a",{href:T,target:"_blank",rel:"noopener noreferrer"},"super feed"))))},50594:(Y,C,t)=>{t.d(C,{x:()=>l});var e=t(6400),s=t(3313),O=t(10456),T=t(25018),D=t(3736),v=t(13045),P=t(20501),M=t(28406);const l=({description:c,logoUrl:r,name:o,pub:n,section:a,user:i})=>{const{isMobile:d}=(0,T.v9)(),p=(0,s.VL)({pub:n,includeTheRampart:!0});return(0,e.h)(v.gq,{alignItems:"center",direction:d?"column":"row",gap:32,paddingTop:32,paddingBottom:24,paddingX:d?0:8},r&&(0,e.h)("img",{className:M.Z.logo,src:(0,P.imginary)(r,300*2),alt:o}),(0,e.h)(v.tu,{gap:16},(0,e.h)(v.tu,null,p&&m({sectionId:a==null?void 0:a.id})&&(0,e.h)(v.xv.Meta,{color:"pub-accent",paddingBottom:8},"+ Member-Only"),(0,e.h)(v.xv.H1,{font:"pub-headings",color:"pub-primary-text"},o),p&&(0,e.h)(v.gq,{alignItems:"center",gap:8,paddingY:8},E({sectionId:a==null?void 0:a.id}).map(f=>(0,e.h)(D.S,{medium:f}))),c&&(0,e.h)(v.xv.B3,{color:"pub-secondary-text"},c)),p&&(0,e.h)(O.B,{user:i})))},_={morningshots:87908,thetriad:87934,presspass:87969,overtime:87950,bulwarkpodcast:87957,screentime:87956,thenextlevel:87963,"george-conway-explains-it-all":104848,thefocusgroup:87971,begtodiffer:87958,movieaisle:87975,thesecretpodcast:87961,betweenus:87964,thursdaynightbulwark:87978},m=({sectionId:c})=>["betweenus","thesecretpodcast","thenextlevel","bulwarkpodcast","begtodiffer"].some(o=>_[o]===c),E=({sectionId:c})=>["bulwarkpodcast","thefocusgroup","begtodiffer","thenextlevel"].some(n=>_[n]===c)?["audio","video"]:["audio"]},68160:(Y,C,t)=>{t.d(C,{Z:()=>M});var e=t(6400),s=t(28488),O=t(25018),T=t(13045),D=t(46825),v=t(79870),P=t(42208);const M=({pub:l,user:_,section:m=null})=>{const{iString:E}=(0,s.M1)(),{isMobile:c}=(0,O.v9)(),{feedUrl:r}=(0,D.fn)({pub:l,user:_,section:m}),o=(0,P.a9)({pub:l,section:m});return(0,e.h)(T.hs,{paddingLeft:c?0:8},(0,e.h)(v.y,{feedUrl:r,post:null,pub:l,showLinks:o,description:E("Add this podcast to your player of choice:")}))}},34237:(Y,C,t)=>{t.d(C,{Q:()=>c,R:()=>E});var e=t(6400),s=t(95674),O=Object.defineProperty,T=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>T(r,D(o));const E=({noFirstImage:r,posts:o,pub:n,user:a,utm:i,onChange:d})=>{const p={pub:n,user:a,utm:i,onChange:d};return(0,e.h)(s.B,m(_({},p),{variant:r?"two-three-two":"five-up",posts:o}))},c=r=>(0,e.h)(E,m(_({},r),{noFirstImage:!0}))},39209:(Y,C,t)=>{t.d(C,{a:()=>a,g:()=>n});var e=t(6400),s=t(56532),O=t(25018),T=t(54387),D=t(95674),v=t(13045),P=Object.defineProperty,M=Object.defineProperties,l=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,c=(i,d,p)=>d in i?P(i,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[d]=p,r=(i,d)=>{for(var p in d||(d={}))m.call(d,p)&&c(i,p,d[p]);if(_)for(var p of _(d))E.call(d,p)&&c(i,p,d[p]);return i},o=(i,d)=>M(i,l(d));const n=({noFirstImage:i,posts:d,topPosts:p,pub:f,user:u,utm:g,onChange:y})=>{const L={pub:f,user:u,utm:g,onChange:y},{isTablet:b,isMobile:I}=(0,O.v9)();return I?null:(0,e.h)(T.A,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(D.B,o(r({},L),{variant:i?"two-small-three-medium":"two-small-one-large",posts:d,flex:"grow"})),p&&(0,e.h)(v.tu,{gap:12},(0,e.h)(s.p,{pub:f}),(0,e.h)(D.B,o(r({},L),{flex:"grow",variant:b?"mini-row":"one-column-list",posts:p.slice(0,b?3:5)}))))},a=i=>(0,e.h)(n,o(r({},i),{noFirstImage:!0}))},74124:(Y,C,t)=>{t.d(C,{b:()=>O});var e=t(6400),s=t(88426);const O=({posts:T,pub:D,user:v,utm:P,onChange:M})=>T.length?(0,e.h)(s.G,{pub:D,user:v,utm:P,onChange:M,variant:"mobile-hero",post:T[0]}):null},76638:(Y,C,t)=>{t.d(C,{Q:()=>c,S:()=>r});var e=t(6400),s=t(54387),O=t(88426),T=Object.defineProperty,D=Object.defineProperties,v=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?T(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>D(o,v(n));const c=({isSmall:o,posts:n,pub:a,user:i,utm:d,onChange:p})=>n.length?(0,e.h)(s.A,{variant:o?"three-column-width":"full-width"},(0,e.h)(O.G,{pub:a,user:i,utm:d,onChange:p,variant:o?"jumbo-small":"jumbo",post:n[0]})):null,r=o=>(0,e.h)(c,E(m({},o),{isSmall:!0}))},56532:(Y,C,t)=>{t.d(C,{p:()=>P});var e=t(6400),s=t(28488),O=t(88331),T=t(98163),D=t(13045),v=t(52743);const P=({pub:M})=>{const{iString:l}=(0,s.M1)();return(0,e.h)(D.gq,{justifyContent:"space-between",paddingX:8},(0,e.h)(T.R,null,l("Most Popular")),(0,e.h)(O.Q,{href:(0,v.getArchiveUrl)(M,{params:{sort:"top"}})},l("View all")))}},65605:(Y,C,t)=>{t.d(C,{V:()=>r});var e=t(6400),s=t(34237),O=t(39209),T=t(74124),D=t(76638),v=Object.defineProperty,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?v(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>{var a={};for(var i in o)M.call(o,i)&&n.indexOf(i)<0&&(a[i]=o[i]);if(o!=null&&P)for(var i of P(o))n.indexOf(i)<0&&l.call(o,i)&&(a[i]=o[i]);return a};const c={magaziney:O.g,"magazine-5":s.R,newspaper:D.Q},r=o=>{var n=o,{firstPostMissingImage:a,bodyVariant:i,isMobile:d,variant:p}=n,f=E(n,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let u=c[p];return d?u=T.b:p==="newspaper"&&i==="list"?u=D.S:p==="magaziney"&&a?u=O.a:p==="magazine-5"&&a&&(u=s.Q),u?(0,e.h)(u,m({},f)):(console.error("Component not found, add one to HomeHero"),null)}},82249:(Y,C,t)=>{t.d(C,{M:()=>g});var e=t(6400),s=t(47504),O=t(44986),T=t(25018),D=t(18753),v=t(54387),P=t(95674),M=t(37233),l=t(62934),_=Object.defineProperty,m=Object.defineProperties,E=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(y,L,b)=>L in y?_(y,L,{enumerable:!0,configurable:!0,writable:!0,value:b}):y[L]=b,a=(y,L)=>{for(var b in L||(L={}))r.call(L,b)&&n(y,b,L[b]);if(c)for(var b of c(L))o.call(L,b)&&n(y,b,L[b]);return y},i=(y,L)=>m(y,E(L)),d=(y,L)=>{var b={};for(var I in y)r.call(y,I)&&L.indexOf(I)<0&&(b[I]=y[I]);if(y!=null&&c)for(var I of c(y))L.indexOf(I)<0&&o.call(y,I)&&(b[I]=y[I]);return b};const p={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},f={grid:"three-column-grid",list:"two-column-list"},u={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},g=y=>{var L=y,{freeSignup:b,freeSignupEmail:I,hideImagesFromList:A,posts:U,pub:B,showSiteMap:W,source:Z,user:K,utm:R,variant:S,onChange:N,bodyPostGroups:j,postsByGroupId:H}=L,x=d(L,["freeSignup","freeSignupEmail","hideImagesFromList","posts","pub","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:F}=(0,T.v9)(),V=(0,l.b8)()[S][F],$=S==="list"&&(A||U.slice(0,V).every(k=>!k.cover_image));return(0,e.h)(e.Fragment,null,(0,e.h)(v.A,{variant:p[S],showContentBelowOnMobile:!0},(0,e.h)(s.O,i(a({},x),{maxPosts:V,newPosts:U,pub:B,user:K,variant:S}),({posts:k,linkToComments:G,onClickPost:Q})=>{const q={hideImages:$,linkToComments:G,posts:k,pub:B,source:Z,user:K,utm:R,onChange:N,onClickPost:Q};return S==="grid-groups"?(0,e.h)(D.O,i(a({},q),{bodyPostGroups:j,postsByGroupId:H,setHasInvalidGroupSelection:x.setHasInvalidGroupSelection,hasEmptyGroupOptions:x.hasEmptyGroupOptions})):(0,e.h)(P.B,i(a({},q),{variant:f[S]}))}),(0,e.h)(O.O,{pub:B,user:K})),W&&(0,e.h)(v.A,{variant:u[S]},(0,e.h)(M.Z,{pub:B,user:K,freeSignup:b,freeSignupEmail:I})))}},65208:(Y,C,t)=>{t.d(C,{l:()=>_});var e=t(6400),s=t(98901),O=t(62183),T=t(81979),D=t(25018),v=t(13045),P=t(62934),M=t(52743),l=t(20501);const _=({contentBlocks:m,postsBySectionId:E,postsByTagId:c,postTagsById:r,pub:o,recentPosts:n,sectionsById:a,showEmptyStates:i,user:d,onChange:p})=>{const{breakpoint:f}=(0,D.v9)();let u=0;const g=m.filter(y=>y.post_source==="latest").length>1;return(0,e.h)(v.tu,{paddingBottom:40},m.length||!i?m.map((y,L)=>{var b,I;let A=[],U="",B;const W=L<m.length-1?m[L+1]:null,Z=y.block_type==="subscribe"||(W==null?void 0:W.block_type)==="subscribe";if(y.post_source==="latest"){const K=(0,P.eP)({contentBlock:y,breakpoint:f});A=n.slice(u,u+K),u+=K,U=g?"":"Recent posts",B=(0,M.getBaseArchiveUrl)(o)}else if(y.post_source==="section"&&y.section_id){const K=a[y.section_id];A=(b=E[y.section_id])!=null?b:[],U=(K==null?void 0:K.name)||"",B=K&&(0,l.getSectionUrl)(o,{section:K})}else if(y.post_source==="tag"&&y.post_tag_id){const K=r[y.post_tag_id];A=(I=c[y.post_tag_id])!=null?I:[],U=(K==null?void 0:K.name)||"",B=K&&(0,l.getPostTagUrl)(o,K)}return(0,e.h)(e.Fragment,null,(0,e.h)("div",{id:`block-${y.id}`,style:{scrollMarginTop:48}},(0,e.h)(s.b,{key:y.id,contentBlock:y,posts:A,pub:o,showEmptyState:i,title:U,user:d,viewAllUrl:B,onChange:p})),L<m.length-1&&!Z&&(0,e.h)(T.f,null))}):(0,e.h)(O.l,null))}},81979:(Y,C,t)=>{t.d(C,{f:()=>T});var e=t(6400),s=t(54387),O=t(13045);const T=({numColumns:D,paddingBottom:v,paddingTop:P})=>(0,e.h)(s.A,{variant:D===3?"three-column-width":"full-width"},(0,e.h)(O.tu,{paddingBottom:typeof v=="number"?v:24,paddingTop:typeof P=="number"?P:24,paddingX:8},(0,e.h)(O.hs,{borderBottom:"detail-themed"})))},60318:(Y,C,t)=>{t.d(C,{U:()=>p});var e=t(6400),s=t(30396),O=t(39693),T=t.n(O),D=t(86575),v=t(8459),P=t(8305),M=t(25018),l=t(31119),_=Object.defineProperty,m=Object.defineProperties,E=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(f,u,g)=>u in f?_(f,u,{enumerable:!0,configurable:!0,writable:!0,value:g}):f[u]=g,a=(f,u)=>{for(var g in u||(u={}))r.call(u,g)&&n(f,g,u[g]);if(c)for(var g of c(u))o.call(u,g)&&n(f,g,u[g]);return f},i=(f,u)=>m(f,E(u)),d=(f,u)=>{var g={};for(var y in f)r.call(f,y)&&u.indexOf(y)<0&&(g[y]=f[y]);if(f!=null&&c)for(var y of c(f))u.indexOf(y)<0&&o.call(f,y)&&(g[y]=f[y]);return g};const p=f=>{var u=f,{blurbs:g,freeSignup:y,freeSignupEmail:L,hasEmptyGroupOptions:b,hide_intro_popup:I,noBalanceHeroText:A,notify_user:U,numRecommendations:B,pub:W,referralCode:Z,showEmptyStates:K,showWelcome:R,user:S,postTags:N,postsByGroupId:j,sections:H,launchWelcomePage:x,skipIntoPopupRender:F,contentBlocks:w,contributors:V,latestPodcastPosts:$,latestPostByContributorId:k,homepageLinks:G,newPosts:Q,pinnedPosts:q,recommendations:z,postsBySectionId:J,postsByTagId:te,topPosts:oe,postTagsById:ie,sectionsById:re}=u,ue=d(u,["blurbs","freeSignup","freeSignupEmail","hasEmptyGroupOptions","hide_intro_popup","noBalanceHeroText","notify_user","numRecommendations","pub","referralCode","showEmptyStates","showWelcome","user","postTags","postsByGroupId","sections","launchWelcomePage","skipIntoPopupRender","contentBlocks","contributors","latestPodcastPosts","latestPostByContributorId","homepageLinks","newPosts","pinnedPosts","recommendations","postsBySectionId","postsByTagId","topPosts","postTagsById","sectionsById"]),ce;const{contentBlocks:Ee,contributors:se,latestPodcastPosts:ne,latestPostByContributorId:ee,homepageLinks:ae,newPosts:he,pinnedPosts:me,postsLoaded:ge,recommendations:ve,topPosts:Oe,postsBySectionId:Me,postsByTagId:Pe,postTagsById:De,sectionsById:We}=(0,M.qU)({pubId:W.id,preloads:{contentBlocks:w,contributors:V,latestPodcastPosts:$,latestPostByContributorId:k,homepageLinks:G,newPosts:Q,pinnedPosts:q,recommendations:z,postsBySectionId:J,postsByTagId:te,topPosts:oe,postTagsById:ie,sectionsById:re}});(0,s.d4)(()=>{U&&typeof window!="undefined"&&(0,D.ZP)(U)},[U]);const ye=!!(he&&he.length>0),Fe=T()((ce=W.theme.body_post_groups)==null?void 0:ce.map(Ze=>{var Te,Ve,Re,Ue;return Ze.tag_id?(Ve=(Te=Ze.post_tag)!=null?Te:N==null?void 0:N.find(Be=>Be.id===Ze.tag_id))!=null?Ve:null:Ze.section_id&&(Ue=(Re=Ze.section)!=null?Re:H==null?void 0:H.find(Be=>Be.id===Ze.section_id))!=null?Ue:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(v.S,{pub:W}),(0,e.h)(l.i,i(a({},ue),{contentBlocks:Ee,contributors:se,latestPodcastPosts:ne,latestPostByContributorId:ee,homepageLinks:ae,newPosts:he,pinnedPosts:me,postsLoaded:ge,recommendations:ve,topPosts:Oe,postsBySectionId:Me,postsByTagId:Pe,alwaysShowActions:!1,bodyPostGroups:Fe,freeSignup:y,freeSignupEmail:L,hasEmptyGroupOptions:b,numRecommendations:B,postsByGroupId:j,postTagsById:De,pub:W,sectionsById:We,showEmptyStates:!!K,showSiteMap:ye,theme:W.theme,user:S})),F?null:(0,e.h)(P.L,{blurbs:g,freeSignup:y,freeSignupEmail:L,hide_intro_popup:I,noBalanceHeroText:A,pub:W,referralCode:Z,showWelcome:R,user:S,launchWelcomePage:x}))}},18753:(Y,C,t)=>{t.d(C,{O:()=>B});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(18446),v=t.n(D),P=t(64567),M=t(80569),l=t.n(M),_=t(35570),m=t(25018),E=t(88331),c=t(1515),r=t(95674),o=t(13045),n=t(20501),a=t(52051),i=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(R,S,N)=>S in R?i(R,S,{enumerable:!0,configurable:!0,writable:!0,value:N}):R[S]=N,L=(R,S)=>{for(var N in S||(S={}))u.call(S,N)&&y(R,N,S[N]);if(f)for(var N of f(S))g.call(S,N)&&y(R,N,S[N]);return R},b=(R,S)=>d(R,p(S)),I=(R,S)=>{var N={};for(var j in R)u.call(R,j)&&S.indexOf(j)<0&&(N[j]=R[j]);if(R!=null&&f)for(var j of f(R))S.indexOf(j)<0&&g.call(R,j)&&(N[j]=R[j]);return N},A=(R,S,N)=>new Promise((j,H)=>{var x=V=>{try{w(N.next(V))}catch($){H($)}},F=V=>{try{w(N.throw(V))}catch($){H($)}},w=V=>V.done?j(V.value):Promise.resolve(V.value).then(x,F);w((N=N.apply(R,S)).next())});const U=R=>"email_from_name"in R,B=R=>{var S;const[N,j]=(0,s.eJ)((S=R.postsByGroupId)!=null?S:{}),[H,x]=(0,s.eJ)(!1),F=R,{posts:w,bodyPostGroups:V,hasEmptyGroupOptions:$,setHasInvalidGroupSelection:k}=F,G=I(F,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,s.d4)(()=>{const z=J=>A(void 0,null,function*(){const te=L({},N);for(const oe of J){const ie={limit:6};if(U(oe)?ie.section_id=oe.id:ie.post_tag_id=oe.id,!te[oe.id]){const{body:re}=yield l().get("/api/v1/archive").query(ie);te[oe.id]=re}}v()(te,N)||(j(te),x(!1))});Object.keys(N).length===0&&V&&(V==null?void 0:V.length)>0&&(x(!0),z(V))},[V,j,N]);const Q=(0,s.I4)(z=>{var J;const te=(J=z.post_tag_id)!=null?J:z.section_id;if(!te)throw new Error("Must supply section_id or post_tag_id");N&&N[te]||l().get("/api/v1/archive").query(L({limit:3},z)).then(({body:oe})=>{j(b(L({},N),{[te]:oe}))})},[N,j]),q=(0,s.I4)(z=>{var J;return!N||N&&Object.keys(N).length===0||!N[z]?null:(J=N[z])==null?void 0:J.slice(0,3)},[N]);return $||!V||(V==null?void 0:V.length)===0?k?(k(!0),(0,e.h)(W,{message:"No groups selected"})):(0,e.h)(o.tu,null,(0,e.h)(Z,{pub:R.pub}),(0,e.h)(r.B,b(L({},G),{variant:"three-column-grid",posts:w.slice(0,3)}))):(0,e.h)("div",{className:a.Z.homePageGroupsGrid},V.map(z=>{const J=q(z.id);return(0,e.h)(o.tu,{paddingBottom:24},(0,e.h)(Z,{pub:R.pub,row:z}),(0,e.h)(K,b(L({},G),{posts:w,loadingSync:H,groupModel:z,postsForId:J,setHasInvalidGroupSelection:k,onIntersectCallback:()=>{const te=U(z)?{section_id:z.id}:{post_tag_id:z.id};Q(te)}})))}),V.length<3?(0,e.h)(o.tu,null,(0,e.h)(Z,{pub:R.pub}),(0,e.h)(r.B,b(L({},G),{variant:"three-column-grid",posts:w.slice(0,3)}))):null)},W=({groupModel:R,message:S})=>(0,e.h)(o.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(o.tu,{alignItems:"center",justifyContent:"center",className:T()(a.Z.homePageGroupsGrid,R?a.Z.emptyGroupView:a.Z.emptyRowsView)},(0,e.h)(P.Z,{className:a.Z.emptyContentIcon}),S&&(0,e.h)(o.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},S),R&&(0,e.h)(o.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",U(R)?"section":"tag"," to include it on your homepage."))),Z=({row:R,pub:S})=>{var N;const{isMobile:j}=(0,m.v9)();let H="/archive";return R&&(H=U(R)?(0,n.getSectionUrl)(S,{section:R}):(0,n.getPostTagUrl)(S,R)),(0,e.h)(o.tu,{paddingBottom:12,paddingX:j?0:8},(0,e.h)(o.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(o.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(N=R==null?void 0:R.name)!=null?N:"Recent posts"),(0,e.h)(E.Q,{href:H},"See all")))},K=R=>{const S=R,{onIntersectCallback:N,groupModel:j,loadingSync:H,postsForId:x,setHasInvalidGroupSelection:F}=S,w=I(S,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[V,$]=(0,_.Z)();return(0,s.d4)(()=>{$!=null&&$.isIntersecting&&!H&&N()},[$==null?void 0:$.isIntersecting,N,H]),x?x.length===0?F?(F(!0),(0,e.h)(W,{groupModel:j})):(0,e.h)(r.B,b(L({},w),{variant:"three-column-grid",posts:w.posts.slice(0,3)})):(0,e.h)(r.B,b(L({},w),{variant:"three-column-grid",posts:x})):(0,e.h)(c.b,{postCount:3,variant:"grid-groups",ref:V})}},8698:(Y,C,t)=>{t.d(C,{a:()=>n});var e=t(6400),s=t(94184),O=t.n(s),T=t(7739),D=t.n(T),v=t(89734),P=t.n(v),M=t(7922),l=t(15523),_=Object.defineProperty,m=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,r=(i,d,p)=>d in i?_(i,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[d]=p,o=(i,d)=>{for(var p in d||(d={}))E.call(d,p)&&r(i,p,d[p]);if(m)for(var p of m(d))c.call(d,p)&&r(i,p,d[p]);return i};const n=({homepageLinks:i,pub:d,renderGroup:p,renderLink:f})=>{const u=D()(i,"group"),g=P()(Object.keys(u),y=>u[y][0].rank);return(0,e.h)(e.Fragment,null,g.map(y=>(0,e.h)(a,{group:y,items:u[y],pub:d,newTab:!0,renderGroup:p,renderLink:f})))},a=({group:i,items:d,newTab:p,pub:f,renderGroup:u,renderLink:g})=>{const y=[];let L=null;p&&(L="_blank",y.push("noopener")),(!f||f!=null&&f.no_follow)&&y.push("ugc nofollow");const b={rel:y.join(" "),target:L},I=(0,e.h)(e.Fragment,null,d.map(({title:A,url:U,subtitle:B,subtitleUrl:W,edit:Z,className:K})=>g?g({title:A,url:U,subtitle:B,linkProps:b}):(0,e.h)("div",{className:O()("home-right-col",K)},Z?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:U,native:!0},A),(0,e.h)(M.Z,{className:"button secondary show-on-hover",href:Z,title:"edit"},(0,e.h)(l.Z,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",o({className:"home-right-col-title",href:U,native:!0},b),A),B&&(0,e.h)("a",o({className:"home-right-col-sub",href:W||U,native:!0},b),B))));return u?u({title:i,links:I}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},i),I)}},54387:(Y,C,t)=>{t.d(C,{A:()=>D});var e=t(6400),s=t(94184),O=t.n(s),T=t(38641);const D=({children:v,showContentBelowOnMobile:P,stretchVertically:M,variant:l})=>(0,e.h)("div",{style:M?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:O()(T.Z.container,T.Z[l],{[T.Z["show-below"]]:P})},v))},8975:(Y,C,t)=>{t.d(C,{s:()=>P});var e=t(6400),s=t(94184),O=t.n(s),T=t(25018),D=t(13045),v=t(74108);const P=({leftContent:M,mainContent:l,rightContent:_,stretchToFullWidth:m})=>{const{isMobile:E,isTablet:c,isDesktop:r}=(0,T.v9)(),o=M&&_;let n=2;return m&&(r?n=4-(M?1:0)-(_?1:0):c&&(n=3-(M||_?1:0))),E&&(n=1),(0,e.h)("div",{className:v.Z.outerContainer},(0,e.h)("div",{className:v.Z.container},M&&(0,e.h)(D.xu,{className:O()(v.Z.column,v.Z.column1),borderRight:o?"detail-themed":void 0,paddingTop:8},M),(0,e.h)(D.xu,{className:O()(v.Z.column,{[v.Z.column2]:n===2,[v.Z.column3]:n===3,[v.Z.column4]:n===4}),borderRight:o?"detail-themed":void 0},l),_&&(0,e.h)(D.xu,{className:O()(v.Z.column,v.Z.column1),paddingTop:8},_)))}},88320:(Y,C,t)=>{t.d(C,{J:()=>v});var e=t(6400),s=t(94184),O=t.n(s),T=t(25018),D=t(82840);const v=({leftContent:P,rightContent:M,mobileContent:l})=>{const{isMobile:_}=(0,T.v9)();return _&&l?l:(0,e.h)("div",{className:D.Z.container},(0,e.h)("div",{className:O()(D.Z.column,D.Z.left)},P),(0,e.h)("div",{className:O()(D.Z.column,D.Z.right)},M))}},88331:(Y,C,t)=>{t.d(C,{Q:()=>T});var e=t(6400),s=t(13045),O=t(10814);const T=({children:D,href:v,testid:P,onClick:M})=>(0,e.h)(s.xv.Meta,{className:O.Z.link,color:"pub-primary-text",as:"a",native:!0,href:v,"data-testid":P,onClick:M?l=>{l.preventDefault(),M()}:void 0},D)},31119:(Y,C,t)=>{t.d(C,{i:()=>W});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(78718),v=t.n(D),P=t(32076),M=t(65605),l=t(82249),_=t(65208),m=t(81979),E=t(80512),c=t(25018),r=t(15716),o=t(70602),n=t(13045),a=t(62934),i=t(83322),d=t(78955),p=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,b=(K,R,S)=>R in K?p(K,R,{enumerable:!0,configurable:!0,writable:!0,value:S}):K[R]=S,I=(K,R)=>{for(var S in R||(R={}))y.call(R,S)&&b(K,S,R[S]);if(g)for(var S of g(R))L.call(R,S)&&b(K,S,R[S]);return K},A=(K,R)=>f(K,u(R)),U=(K,R)=>{var S={};for(var N in K)y.call(K,N)&&R.indexOf(N)<0&&(S[N]=K[N]);if(K!=null&&g)for(var N of g(K))R.indexOf(N)<0&&L.call(K,N)&&(S[N]=K[N]);return S};const B="modular-home-posts",W=K=>{var R,S;const N=K,{alwaysShowActions:j,bodyPostGroups:H,contentBlocks:x,contributors:F,freeSignup:w,freeSignupEmail:V,homepageLinks:$,latestPodcastPosts:k,latestPostByContributorId:G,numRecommendations:Q,postsByGroupId:q,postsBySectionId:z,postsByTagId:J,postTagsById:te,pub:oe,recommendations:ie,sectionsById:re,showEmptyStates:ue,showSiteMap:ce,theme:Ee,user:se,utm:ne}=N,ee=U(N,["alwaysShowActions","bodyPostGroups","contentBlocks","contributors","freeSignup","freeSignupEmail","homepageLinks","latestPodcastPosts","latestPostByContributorId","numRecommendations","postsByGroupId","postsBySectionId","postsByTagId","postTagsById","pub","recommendations","sectionsById","showEmptyStates","showSiteMap","theme","user","utm"]),{posts:ae,topPosts:he,onChange:me,postsLoaded:ge}=(0,c.uj)(v()(K,["newPosts","pinnedPosts","topPosts","postsLoaded"])),{breakpoint:ve,isMobile:Oe}=(0,c.v9)(),{getSettingFor:Me}=(0,P.So)(),Pe=(0,i.ensureInList)(Me("post_preview_crop_gravity"),["center","auto"]),De=(0,a.Rn)(),We=ae[0],ye=(0,s.Ye)(()=>he==null?void 0:he.filter(Ke=>!We||Ke.id!==We.id),[he,We]);if(ae.length===0)return ge?(0,e.h)(Z,null):(0,e.h)(n.tu,{className:T()(d.Z.container,d.Z["container--empty"]),alignItems:"center",justifyContent:"center"},(0,e.h)("div",{className:"more-loader"}));const Fe=!((R=ae[0])!=null&&R.cover_image);let Ze=De[Ee.home_hero][ve];Fe&&["magaziney","magazine-5"].includes(Ee.home_hero)&&["desktop","tablet"].includes(ve)&&(Ze+=2);let Te=Ee.home_hero;ae.length<Ze+1&&(Te="newspaper",Ze=1);const Ve=["newspaper","feature"].includes(Te)&&Ee.home_posts==="list",Re=ae.length>=Ze+1,Ue=Re?ae.slice(Ze):ae,Be=Ee.home_posts==="custom"&&x&&((S=x[0])==null?void 0:S.block_type)==="subscribe";return(0,e.h)(r.W.Provider,{value:{alwaysShowActions:j,cropGravity:Pe}},(0,e.h)(E.p.Provider,{value:{contributors:F,freeSignup:w,freeSignupEmail:V,homepageLinks:$,latestPodcastPosts:k,latestPostByContributorId:G,numRecommendations:Q,recommendations:ie,topPosts:he,utm:ne,onChangePost:me}},(0,e.h)(n.tu,{className:d.Z.container},(0,e.h)(n.tu,{gap:32,paddingTop:!Re&&Oe?24:0},Re&&(0,e.h)(M.V,{firstPostMissingImage:Fe,bodyVariant:Ee.home_posts,isMobile:Oe,posts:ae.slice(0,Ze),pub:oe,topPosts:ye,user:se,utm:ne,variant:Te,onChange:me}),Ee.home_show_top_posts&&ye&&Te!=="magaziney"&&Re&&(0,e.h)(o.d,{columns:Ve?3:4,posts:ye,pub:oe,user:se,utm:ne,onChange:me})),(0,e.h)(n.tu,{className:d.Z.bodyContainer,id:B},Re&&!Be&&(0,e.h)(m.f,{numColumns:Ve?3:4}),(0,e.h)("div",{id:"home-body",style:{scrollMarginTop:48}},Ee.home_posts!=="custom"&&(0,e.h)(l.M,A(I({},ee),{freeSignup:w,freeSignupEmail:V,hideImagesFromList:Ee.hide_images_from_list,posts:Ue,pub:oe,showSiteMap:ce,source:`${Ee.home_hero}-${Ee.home_posts}-home`,user:se,utm:ne,variant:Ee.home_posts,onChange:me,bodyPostGroups:H,postsByGroupId:q,hasEmptyGroupOptions:K.hasEmptyGroupOptions})),Ee.home_posts==="custom"&&x&&z&&J&&te&&re&&(0,e.h)(_.l,{contentBlocks:x,postsBySectionId:z,postsByTagId:J,postTagsById:te,pub:oe,recentPosts:Ue,sectionsById:re,showEmptyStates:ue,user:se,onChange:me}))))))},Z=()=>(0,e.h)(n.tu,{className:T()(d.Z.container,d.Z["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon")},8459:(Y,C,t)=>{t.d(C,{S:()=>M});var e=t(6400),s=t(3312),O=t.n(s),T=t(17025),D=t.n(T),v=t(33765),P=t(82771);const M=({pub:l,section:_,isPodcast:m})=>{let E,c;return m&&l.podcast_title?({title:E}=(0,v.t1)(l,l.podcast_title),c=l.podcast_description):_?{title:E,description:c}=(0,v.t1)(l,`${_.name} | ${l.name}`,_.description):{title:E,description:c}=(0,v.t1)(l),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:O()((0,P.hd)(l),{json:!0,isScriptContext:!0})}}),(0,T.setMetaData)({title:E,description:c}))}},3736:(Y,C,t)=>{t.d(C,{S:()=>P});var e=t(6400),s=t(38464),O=t(98961),T=t(13045);const D={audio:s.Z,video:O.Z},v={audio:"Audio",video:"Video"},P=({medium:M})=>{const l=D[M];return(0,e.h)(T.gq,{alignItems:"center",gap:4,bg:"secondary",paddingX:6,border:"detail",radius:6},(0,e.h)(l,{size:12}),(0,e.h)(T.xv,{size:11,weight:"semibold",color:"secondary",font:"text",lineHeight:20},v[M]))}},92217:(Y,C,t)=>{t.d(C,{N:()=>E});var e=t(6400),s=t(17025),O=t.n(s),T=t(8305),D=t(13045),v=t(47504),P=t(8459),M=t(88426),l=t(29749),_=t(95674),m=t(17698);const E=({blurbs:c,freeSignup:r,freeSignupEmail:o,hide_intro_popup:n,isPodcast:a,launchWelcomePage:i,newPosts:d,noBalanceHeroText:p,pinnedPosts:f,pub:u,referralCode:g,search:y,section:L,showWelcome:b,skipIntoPopupRender:I,sort:A,user:U,utm:B})=>{let W;W=f==null?void 0:f.find(K=>K.videoUpload||K.podcastUpload),W||(W=d==null?void 0:d.find(K=>K.videoUpload||K.podcastUpload));const Z=K=>{const R=(0,M._)({linkToComments:!1,post:W,pub:u,utm:B});(0,s.redirect)(R,{event:K})};return(0,e.h)(D.tu,{className:m.Z.container},(0,e.h)(P.S,{pub:u,section:L,isPodcast:a}),(0,e.h)(D.tu,{gap:24},W&&(0,e.h)(D.tu,{onClick:Z},(0,e.h)(l.Y,{pub:u,post:W,section:L,actions:()=>null})),(0,e.h)(v.O,{isPodcast:!0,maxPosts:12,newPosts:d,pinnedPosts:f,pub:u,search:y,sectionId:L==null?void 0:L.id,sort:A,user:U,variant:"list"},({posts:K,linkToComments:R,onClickPost:S})=>(0,e.h)(_.B,{hideImages:u.theme.hide_images_from_list,linkToComments:R,posts:K,pub:u,showSectionPins:!0,user:U,utm:B,variant:"four-column-grid",onChange:()=>{},onClickPost:S}))),I?null:(0,e.h)(T.L,{blurbs:c,freeSignup:r,freeSignupEmail:o,hide_intro_popup:n,isPodcast:a,noBalanceHeroText:p,pub:u,referralCode:g,showWelcome:b,user:U,launchWelcomePage:i}))}},72801:(Y,C,t)=>{t.d(C,{t:()=>T});var e=t(6400),s=t(31058),O=t(83322);const T=({justified:D,post:v,pub:P,user:M,onChange:l,onToggleMenu:_})=>{const m=v.type==="restack";return(0,e.h)(s._2,{allowEdit:!m,editButtonIsLast:!0,hideComments:!(0,O.showCommentsOnPost)({publication:P,post:v})||m,hideReactions:!P.community_enabled||m,hideShare:m,isStatic:!1,justified:D,labelStyle:"counts-or-none",post:v,pub:P,hideFeedRestackButton:m,showRestackButton:!m,style:"compressed",user:M,position:"pub-preview",onChange:l,onToggleMenu:_})}},97900:(Y,C,t)=>{t.d(C,{v:()=>a});var e=t(6400),s=t(94184),O=t.n(s),T=t(78526),D=t(25597),v=t(31058),P=t(80332),M=t(28488),l=t(3313),_=t(13045),m=t(85928),E=t.n(m),c=t(6385),r=t(52743),o=t(83322),n=t(77526);const a=({clamp:i,post:d,pub:p,showPin:f})=>{const u=(0,o.getBylineUsers)(d),{iTemplate:g,language:y}=(0,M.M1)();return(0,e.h)(_.xv.Meta,{className:n.Z.textContainer,color:"pub-secondary-text",clamp:i},f&&(0,e.h)("div",{className:n.Z.icon},(0,e.h)(T.Z,{size:12})),(0,c.isPaidAudience)(d.audience)&&!(0,l.lp)({post:d})&&(0,e.h)("div",{className:O()(n.Z.icon,i&&n.Z.iconClamped)},(0,e.h)(D.Z,{audience:d.audience,size:12})),d.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:n.Z.pub},g`Published on ${d.restacked_pub_name}`),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:n.Z.date,dateTime:E()(d.post_date).toISOString()},(0,v.fh)({post:d,showDatetime:!1,language:y})),d.type!=="restack"&&u.length>0&&p.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,o.oxfordComma)(u.map(L=>i?(0,e.h)("a",{className:n.Z.link,href:(0,r.getProfileUrl)(L,p),onClick:b=>b.stopPropagation()},L.name):(0,e.h)(P.ProfileHoverCard,{subject:L,utmSource:"byline"},(0,e.h)("a",{className:n.Z.link,href:(0,r.getProfileUrl)(L,p),onClick:b=>b.stopPropagation()},L.name))),{noBreakSpace:!0})))}},50334:(Y,C,t)=>{t.d(C,{X:()=>n});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(79786),v=t(63270),P=t(25018),M=t(15716),l=t(13045),_=t(6385),m=t(52743),E=t(83322),c=t(77315),r=t(4414),o=t(80665);const n=({className:i,hidePlaceholder:d,imageAspectRatio:p,imageWidth:f,isBelowTheFold:u,post:g,pub:y,squareImageSize:L})=>{var b,I,A,U,B,W,Z,K;const{cropGravity:R}=(0,s.qp)(M.W),{getConfigFor:S}=(0,v.xR)(),{isMobile:N}=(0,P.v9)(),j=S("show_entire_square_image");let H=(0,_.getCoverImageUrl)(g);H||((b=g.videoUpload)!=null&&b.thumbnail_id?H=(0,m.getMediaUploadThumbnailUrlForPlayer)(g.videoUpload):(I=g.podcastUpload)!=null&&I.thumbnail_id&&(H=(0,m.getMediaUploadThumbnailUrlForPlayer)(g.podcastUpload,{post:g})));const x=f<=640,F=f>640,w=(0,s.sO)(null);if(!H&&d)return null;const V=!f&&!p?1.32:p,$=f||336,k=!!H&&g.cover_image_is_square&&j,G=k&&!!L&&!N,Q=u?"lazy":void 0,q=(K=(W=(A=g.videoUpload)==null?void 0:A.duration)!=null?W:(B=(U=g.podcastUpload)==null?void 0:U.full_podcast_info)==null?void 0:B.duration)!=null?K:(Z=g.podcastUpload)==null?void 0:Z.duration;return G?(0,e.h)(a,{aspectRatio:V,className:i,imageUrl:H,loading:Q,size:L,width:$}):(0,e.h)("div",{ref:w,className:T()(i,o.Z.container,{"post-preview-cover-image-container--empty":!H}),style:`aspect-ratio: ${V}`},x?(0,e.h)(c.Z,{containerRef:w,post:g,aspectRatio:V,size:f>320?"large":"medium"}):F?(0,e.h)(r.Z,{containerRef:w,pub:y,post:g}):null,H?(0,e.h)(D.e,{className:T()(o.Z.image,{[o.Z["image-square-legacy"]]:k}),src:H,alt:"",maxWidth:$,imageProps:V?{height:Math.round($/V),smartCrop:!0,gravity:R}:{},loading:Q,style:`aspect-ratio: ${V}`,imageSizingCss:"(min-width:768px) 50vw, 100vw"}):null,!!q&&(0,e.h)(l.xu,{className:o.Z.bottomLabels,bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(l.xv.Meta,{color:"always-white",lineHeight:20},(0,E.secondsToHHMMSS)(q!=null?q:0))))},a=({aspectRatio:i,className:d,imageUrl:p,width:f,loading:u,size:g})=>(0,e.h)("div",{className:T()(d,o.Z.container,o.Z.containerSquare),style:`aspect-ratio: ${i}`},(0,e.h)("div",{className:T()(o.Z["inner-wrapper"],o.Z[`inner-wrapper-${g}`])},(0,e.h)(D.e,{className:T()(o.Z.image,o.Z["image-square"],o.Z[`image-square-${g}`]),src:p,alt:"",maxWidth:f,imageProps:{height:f,smartCrop:!0,gravity:"center"},loading:u})))},77294:(Y,C,t)=>{t.d(C,{j:()=>M});var e=t(6400),s=t(30396),O=t(9267),T=t(13045),D=t(42395),v=t.n(D),P=t(83322);const M=({align:l,clamp:_,lineHeight:m=20,maxLength:E=152,paddingBottom:c,post:r,size:o=14})=>{const{url:n}=(0,s.qp)(O.FU);return(0,e.h)(T.tu,{paddingBottom:c},(0,e.h)(T.xv,{as:"a",align:l,href:n,clamp:_,color:"pub-secondary-text",font:"text",size:o,lineHeight:m},v()((0,P.truncateWords)(r.description,E))))}},77315:(Y,C,t)=>{t.d(C,{Z:()=>P});var e=t(6400),s=t(94184),O=t.n(s),T=t(46825),D=t(69697);const P=({post:M,containerRef:l,aspectRatio:_,size:m="small"})=>{var E;const[c]=(0,T.i5)(l),r=m==="small"?320:m==="medium"?480:640;return(E=M.videoUpload)!=null&&E.is_mux?(0,e.h)("div",{className:O()(D.Z.gifPreview,{[D.Z.visible]:c})},(0,e.h)("img",{className:D.Z.image,style:`aspect-ratio: ${_}`,type:"image/gif",src:`/api/v1/video/upload/${M.videoUpload.id}/preview.gif?height=${r}`})):null}},29749:(Y,C,t)=>{t.d(C,{Y:()=>o});var e=t(6400),s=t(30396),O=t(98961),T=t(38464),D=t(28488),v=t(25018),P=t(13045),M=t(72921),l=t(19541),_=t(42208),m=t(83322),E=t(50334),c=t(78283);const r=(0,P.E7)({position:"absolute",inset:0}),o=({post:n,pub:a,section:i,user:d})=>{var p,f,u,g,y,L,b,I;const{title:A,description:U}=(0,_.Mv)({pub:a,podcastUpload:n.podcastUpload,section:i!=null?i:null}),B=(0,s.sO)(null),{isMobile:W}=(0,v.v9)(),{iString:Z}=(0,D.M1)();return W?(0,e.h)(P.tu,null,(0,e.h)(P.gq,{ref:B,flex:"fill",position:"relative",style:{minHeight:500}},(0,e.h)(P.gq,{className:c.Z.videoLayer,direction:"column",position:"absolute",radius:6},(0,e.h)(P.gq,{flex:"grow",position:"relative",style:{width:"100%"}},(0,e.h)(E.X,{className:c.Z.image,imageAspectRatio:16/9,imageWidth:1280,isBelowTheFold:!1,post:n,pub:a,squareImageSize:"large",presenceRef:B}),(0,e.h)(r,{className:c.Z.previewBackground})),(0,e.h)(P.gq,{flex:"grow",className:c.Z.solidBackground})),(0,e.h)(P.gq,{className:c.Z.contentLayer,position:"absolute",pointerEvents:"none"},(0,e.h)(P.gq,{flex:"grow"},(0,e.h)(P.tu,{padding:16,gap:16,paddingBottom:24},(0,e.h)(l.p,{post:n,pub:a,section:i!=null?i:null,size:48,user:d}),(0,e.h)(P.tu,{gap:8},(0,e.h)(P.xv.H4,{color:"always-white"},A),(0,e.h)(P.xv.B4,{color:"always-white",className:c.Z.descriptionMobile,clamp:2},U),(0,e.h)(P.gq,{flex:"grow"})),(0,e.h)(P.gq,{alignItems:"center",gap:16,style:{pointerEvents:"auto"}},(0,e.h)(P.gq,{flex:"auto"},(0,e.h)(M.D,{size:56,isPlaying:!1})),(0,e.h)(P.tu,{gap:24},(0,e.h)(P.gq,{alignItems:"center"},(0,e.h)(P.tu,null,(0,e.h)(P.gq,{gap:2,alignItems:"center"},(0,e.h)(P.xv.Meta,{color:"always-white"},Z("LATEST")),(0,e.h)(P.xv.Meta,{color:"always-white"},"\xB7"),(0,e.h)(P.xv.Meta,{color:"always-white"},(0,m.secondsToHHMMSS)((g=(u=(p=n==null?void 0:n.videoUpload)==null?void 0:p.duration)!=null?u:(f=n==null?void 0:n.podcastUpload)==null?void 0:f.duration)!=null?g:0))),(0,e.h)(P.gq,{gap:4,alignItems:"center",opacity:80},(0,e.h)(P.gq,{gap:4,style:{width:"16px"}},n.videoUpload?(0,e.h)(O.Z,{size:14,color:"white"}):(0,e.h)(T.Z,{size:14,color:"white"})),(0,e.h)(P.xv.Meta,{color:"always-white",className:c.Z.postTitleMobile},n.title))))))))))):(0,e.h)(P.tu,null,(0,e.h)(P.gq,{ref:B,flex:"fill",position:"relative",style:{minHeight:400}},(0,e.h)(P.gq,{position:"absolute",style:{width:"100%",height:"100%"},radius:6},(0,e.h)(P.gq,{flex:"grow",className:c.Z.solidBackground}),(0,e.h)(P.gq,{flex:"grow",position:"relative",style:{width:"100%"}},(0,e.h)(E.X,{className:c.Z.image,imageAspectRatio:16/9,imageWidth:1280,isBelowTheFold:!1,post:n,pub:a,squareImageSize:"large",presenceRef:B}),(0,e.h)(r,{className:c.Z.previewBackground}))),(0,e.h)(P.gq,{position:"absolute",style:{width:"100%",height:"100%",pointerEvents:"none"}},(0,e.h)(P.gq,{flex:"grow"},(0,e.h)(P.tu,{justifyContent:"space-between",padding:48},(0,e.h)(l.p,{post:n,pub:a,section:i!=null?i:null,size:76,user:d}),(0,e.h)(P.tu,{gap:8},(0,e.h)(P.xv.H2,{color:"always-white"},A),(0,e.h)(P.xv.B4,{color:"always-white",className:c.Z.description},U),(0,e.h)(P.gq,{flex:"grow"})),(0,e.h)(P.gq,{alignItems:"center",gap:24,style:{pointerEvents:"auto"}},(0,e.h)(P.gq,{style:{width:"80px"}},(0,e.h)(M.D,{size:80,isPlaying:!1})),(0,e.h)(P.tu,{gap:48},(0,e.h)(P.gq,{alignItems:"center"},(0,e.h)(P.tu,null,(0,e.h)(P.gq,{gap:4,alignItems:"center"},(0,e.h)(P.gq,{gap:4,style:{width:"16px"}},n.videoUpload?(0,e.h)(O.Z,{size:14,color:"white"}):(0,e.h)(T.Z,{size:14,color:"white"})),(0,e.h)(P.xv.Meta,{size:11,color:"always-white"},Z("LATEST")),(0,e.h)(P.xv.Meta,{size:11,color:"always-white"},"\xB7"),(0,e.h)(P.xv.Meta,{size:11,color:"always-white"},(0,m.secondsToHHMMSS)((I=(b=(y=n==null?void 0:n.videoUpload)==null?void 0:y.duration)!=null?b:(L=n==null?void 0:n.podcastUpload)==null?void 0:L.duration)!=null?I:0))),(0,e.h)(P.gq,{gap:4,alignItems:"center"},(0,e.h)(P.xv.Meta,{size:11,color:"always-white"},n.title)))))))),(0,e.h)(P.gq,{flex:"grow",style:{pointerEvents:"none"}}))))}},29385:(Y,C,t)=>{t.d(C,{G:()=>u,q:()=>g});var e=t(6400),s=t(94184),O=t.n(s),T=t(25018),D=t(97900),v=t(50334),P=t(77294),M=t(25509),l=t(9267),_=t(13045),m=t(6385),E=t(35338),c=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=(y,L,b)=>L in y?c(y,L,{enumerable:!0,configurable:!0,writable:!0,value:b}):y[L]=b,p=(y,L)=>{for(var b in L||(L={}))a.call(L,b)&&d(y,b,L[b]);if(n)for(var b of n(L))i.call(L,b)&&d(y,b,L[b]);return y},f=(y,L)=>r(y,o(L));const u=({actions:y,isSmall:L,post:b,pub:I})=>{const{isTablet:A}=(0,T.v9)(),U=!!(0,m.getCoverImageUrl)(b);return(0,e.h)("div",{className:O()(E.Z.container,{[E.Z.containerNoImage]:!U})},U&&(0,e.h)(v.X,{className:E.Z.image,imageAspectRatio:L?l.Hw:l.YU,imageWidth:1280,isBelowTheFold:!1,post:b,squareImageSize:"large"}),(0,e.h)(_.tu,{className:E.Z.content,alignItems:"center",justifyContent:"center",paddingX:U?32:64,paddingY:U?24:64},(0,e.h)(M.F,{post:b,align:"center",preset:A?"mobileLg":"lg",clamp:3,paddingBottom:8}),(0,e.h)(P.j,{post:b,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(D.v,{post:b,pub:I}),(0,e.h)(_.tu,{paddingTop:20},y({justified:!1}))))},g=y=>(0,e.h)(u,f(p({},y),{isSmall:!0}))},54568:(Y,C,t)=>{t.d(C,{s:()=>l});var e=t(6400),s=t(97900),O=t(50334),T=t(77294),D=t(25509),v=t(9267),P=t(13045),M=t(23901);const l=({actions:_,hideImage:m,imageAspectRatio:E,post:c,pub:r})=>(0,e.h)(P.tu,null,!m&&(0,e.h)(O.X,{pub:r,post:c,className:M.Z.image,imageWidth:1250,imageAspectRatio:E==="wide"?v.YU:v.Hw,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(P.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(D.F,{post:c,align:"center",preset:"lg",clamp:4,paddingBottom:8}),(0,e.h)(T.j,{post:c,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(s.v,{post:c,pub:r}),(0,e.h)(P.tu,{paddingTop:16},_({justified:!1}))))},575:(Y,C,t)=>{t.d(C,{e:()=>E});var e=t(6400),s=t(94184),O=t.n(s),T=t(25018),D=t(97900),v=t(50334),P=t(77294),M=t(25509),l=t(9267),_=t(13045),m=t(37267);const E=({actions:c,hideImage:r,post:o,pub:n,showPin:a})=>{const{isMobile:i}=(0,T.v9)();let d=!!n.community_enabled;return r&&!i&&(d=!1),(0,e.h)("div",{className:O()(m.Z.container,{[m.Z["container--no-image"]]:r})},(0,e.h)(_.tu,{gap:8,position:"relative"},(0,e.h)(M.F,{clamp:3,post:o,preset:i?"mobileMd":"md"}),(0,e.h)(P.j,{clamp:2,post:o,size:14,lineHeight:r?24:20}),(0,e.h)(D.v,{post:o,pub:n,showPin:a})),!r&&(o.cover_image?(0,e.h)(v.X,{className:m.Z.image,post:o,imageWidth:i?150:320,imageAspectRatio:i?1:l.Hw,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),c({justified:d}))}},65742:(Y,C,t)=>{t.d(C,{t:()=>P});var e=t(6400),s=t(97900),O=t(50334),T=t(25509),D=t(13045),v=t(5078);const P=({actions:M,post:l,pub:_})=>{const m=!!_.community_enabled;return(0,e.h)(D.tu,{padding:8},(0,e.h)(D.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(D.tu,{flex:"grow"},(0,e.h)(T.F,{post:l,clamp:2,preset:"sm",paddingBottom:4}),(0,e.h)(s.v,{clamp:1,post:l,pub:_})),(0,e.h)(O.X,{className:v.Z.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:l})),M({justified:m}))}},352:(Y,C,t)=>{t.d(C,{$:()=>l});var e=t(6400),s=t(97900),O=t(50334),T=t(77294),D=t(25509),v=t(9267),P=t(13045),M=t(22743);const l=({actions:_,hidePlaceholder:m,post:E,pub:c})=>{const r=!!c.community_enabled;return(0,e.h)(P.tu,null,E.cover_image&&(0,e.h)(O.X,{post:E,className:M.Z.image,imageWidth:1250,imageAspectRatio:v.YU,isBelowTheFold:!1,hidePlaceholder:m,squareImageSize:"large"}),(0,e.h)(P.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(P.tu,{gap:8,paddingBottom:12},(0,e.h)(D.F,{post:E,preset:"mobileLg",clamp:3}),(0,e.h)(T.j,{post:E,size:14,lineHeight:20,clamp:3}),(0,e.h)(s.v,{post:E,pub:c})),_({justified:r})))}},89320:(Y,C,t)=>{t.d(C,{r:()=>v});var e=t(6400),s=t(98661),O=t(9267),T=t(13045),D=t(5652);const v=(0,s.forwardRef)(({animated:P=!0,variant:M},l)=>["grid","grid-groups"].includes(M)?(0,e.h)(T.tu,{gap:12,ref:l},(0,e.h)(D.S,{animated:P,aspectRatio:O.Hw}),(0,e.h)(T.tu,{gap:8},(0,e.h)(D.S,{animated:P,height:24,width:"70%"}),(0,e.h)(D.S,{animated:P,height:20,width:"90%"}),(0,e.h)(D.S,{animated:P,height:20,width:"50%"}))):M==="list"?(0,e.h)(T.tu,{gap:8,ref:l},(0,e.h)(D.S,{animated:P,height:28,width:"60%"}),(0,e.h)(D.S,{animated:P,height:24,width:"80%"}),(0,e.h)(D.S,{animated:P,height:20,width:"20%"})):null)},11035:(Y,C,t)=>{t.d(C,{u:()=>_});var e=t(6400),s=t(25018),O=t(97900),T=t(50334),D=t(77294),v=t(25509),P=t(9267),M=t(13045),l=t(58514);const _=({actions:m,post:E,pub:c})=>{const{isMobile:r}=(0,s.v9)(),o=!!c.community_enabled;return(0,e.h)(M.tu,{padding:r?0:8},(0,e.h)(T.X,{post:E,className:l.Z.image,imageWidth:600,imageAspectRatio:P.Hw,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(M.tu,{flex:"grow",gap:12,paddingTop:12},(0,e.h)(M.tu,{gap:8,flex:"grow"},(0,e.h)(v.F,{clamp:3,post:E,preset:"md"}),(0,e.h)(D.j,{clamp:1,post:E}),(0,e.h)(O.v,{post:E,pub:c})),m({justified:o})))}},25509:(Y,C,t)=>{t.d(C,{F:()=>u});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(98961),v=t(53597),P=t(65331),M=t(99296),l=t(9267),_=t(13045),m=t(83322),E=t(22380),c=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=(g,y,L)=>y in g?c(g,y,{enumerable:!0,configurable:!0,writable:!0,value:L}):g[y]=L,p=(g,y)=>{for(var L in y||(y={}))a.call(y,L)&&d(g,L,y[L]);if(n)for(var L of n(y))i.call(y,L)&&d(g,L,y[L]);return g},f=(g,y)=>r(g,o(y));const u=({align:g,clamp:y,maxLength:L=140,noIcons:b,paddingBottom:I,post:A,preset:U})=>{var B;const{url:W,linkToComments:Z}=(0,s.qp)(l.FU),{lineHeight:K,size:R}=M.HOMEPAGE_TEXT_PRESETS[U],S=R>=28;return(0,e.h)(_.tu,{paddingBottom:I},(0,e.h)(_.xv,f(p({},W?{as:"a",href:W}:null),{align:g,clamp:y,font:"pub-headings",lineHeight:K,size:R,"data-testid":"post-preview-title"}),A.type==="thread"&&!b&&(0,e.h)(P.Z,{height:S?26:17,className:E.Z.icon}),A.type==="podcast"&&!b&&(A.videoUpload&&((B=A.videoUpload)==null?void 0:B.media_type)==="video"?(0,e.h)(D.Z,{height:S?26:19,width:S?26:19,className:T()(E.Z.icon,E.Z.iconVideo,E.Z[`iconVideo-${R}`]),strokeWidth:1.8}):(0,e.h)(v.Z,{height:S?26:17,className:E.Z.icon})),A.type==="video"&&!b&&(0,e.h)(D.Z,{height:S?26:19,width:S?26:19,className:T()(E.Z.icon,E.Z.iconVideo,E.Z[`iconVideo-${R}`]),strokeWidth:1.8}),Z&&A.type!=="thread"&&"Comments on: ",(0,m.truncateWords)(A.title,L)))}},4414:(Y,C,t)=>{t.d(C,{Z:()=>E});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(10844),v=t(89919),P=t(25346),M=t(13045),l=t(46825),_=t(69697);const E=({pub:c,post:r,containerRef:o})=>{const[n]=(0,l.i5)(o),[a,i]=(0,s.eJ)(!0),d=(0,s.sO)(null);(0,s.d4)(()=>{var f,u,g,y,L,b,I;n?((g=(u=(f=d.current)==null?void 0:f.player)==null?void 0:u.play)==null||g.call(u),setTimeout(()=>{var A;(A=d.current)!=null&&A.player&&(d.current.player.volume=a?0:1)},500)):((b=(L=(y=d.current)==null?void 0:y.player)==null?void 0:L.pause)==null||b.call(L),(I=d.current)!=null&&I.player&&(d.current.player.volume=0))},[n]);const p=f=>{var u;f.stopPropagation(),i(!a),(u=d.current)!=null&&u.player&&(d.current.player.volume=a?1:0)};return c&&r.videoUpload?(0,e.h)("div",{className:T()(_.Z.gifPreview,{[_.Z.visible]:n})},(0,e.h)(M.gq,{justifyContent:"center",alignItems:"center",position:"relative",style:{width:"100%",height:"100%"}},(0,e.h)(P.Z,{ref:d,pub:c,mediaUpload:r.videoUpload,noControls:!0,noPreview:!0}),(0,e.h)(M.gq,{position:"absolute",padding:12,style:{top:0,right:0}},(0,e.h)(M.hU,{priority:"media",onClick:f=>p(f)},a?(0,e.h)(D.Z,null):(0,e.h)(v.Z,null))))):null}},88426:(Y,C,t)=>{t.d(C,{G:()=>f,_:()=>u});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(17025),v=t.n(D),P=t(15716),M=t(72801),l=t(29385),_=t(54568),m=t(575),E=t(65742),c=t(352),r=t(11035),o=t(9267),n=t(13045),a=t(52743),i=t(20501),d=t(78597);const p={jumbo:l.G,"jumbo-small":l.q,large:_.s,listing:m.e,mini:E.t,"mobile-hero":c.$,square:r.u},f=({disableInteractive:g,hideImage:y,hideWash:L,imageAspectRatio:b,linkToComments:I,variant:A,post:U,pub:B,showPin:W,testid:Z,user:K,utm:R,onChange:S,onClick:N})=>{const{alwaysShowActions:j}=(0,s.qp)(P.W),[H,x]=(0,s.eJ)(!1),F=(0,s.I4)(({active:G})=>{x(G)},[]),w=p[A];if(!w)return(0,e.h)("div",null,"PostPreview: ",A," not implemented");const V=u({linkToComments:!!I,post:U,pub:B,utm:R}),$=G=>{N&&N(G),!g&&(0,D.redirect)(V,{event:G})},k=["large","jumbo","jumbo-small"].includes(A);return(0,e.h)(o.FU.Provider,{value:{url:V,linkToComments:!!I}},(0,e.h)(n.tu,{className:T()(d.Z.container,{[d.Z.containerWithBackground]:!L&&k,[d.Z["container--menu-open"]]:H}),"data-testid":Z,radius:6,onClick:$},(0,e.h)(w,{hideImage:y,imageAspectRatio:b,post:U,pub:B,showPin:W,actions:({justified:G})=>U.type==="restack"?null:(0,e.h)(n.tu,{className:T()(d.Z.actions,{[d.Z["actions--menu-open"]]:H,[d.Z["actions--always-show"]]:j})},(0,e.h)(M.t,{justified:G,post:U,pub:B,user:K,onChange:S,onToggleMenu:F}))})))},u=({linkToComments:g,post:y,pub:L,utm:b})=>g?(0,i.getPostUrl)(L,y,{comments:!0}):y.type==="video"?(0,a.updateQuery)(y.canonical_url,{autoPlay:!0}):b?(0,i.pathWithQuery)(y.canonical_url,{utm:b}):y.canonical_url},1515:(Y,C,t)=>{t.d(C,{b:()=>P});var e=t(6400),s=t(98661),O=t(94184),T=t.n(O),D=t(89320),v=t(98616);const P=(0,s.forwardRef)(({animated:M=!0,postCount:l,variant:_},m)=>(0,e.h)("div",{className:T()({[v.Z.loadingContainerGrid]:["grid","grid-groups"].includes(_),[v.Z.loadingContainerList]:_==="list"}),ref:m},Array.from(new Array(l)).map(()=>(0,e.h)(D.r,{variant:_,animated:M}))))},22722:(Y,C,t)=>{t.d(C,{B:()=>l});var e=t(6400),s=t(94184),O=t.n(s),T=t(8400),D=t.n(T),v=t(88426),P=t(13045),M=t(94800);const l=({posts:_,pub:m,numColumns:E,user:c,onChange:r})=>{const o=D()(_,E);return(0,e.h)(P.tu,{gap:16},o.map(n=>(0,e.h)(P.gq,{className:M.Z.postRow},n.map(a=>(0,e.h)("div",{className:O()(M.Z.postContainer,{[M.Z.postContainerTwoColumn]:E===2,[M.Z.postContainerThreeColumn]:E===3,[M.Z.postContainerFourColumn]:E===4})},(0,e.h)(v.G,{post:a,pub:m,user:c,variant:"square",onChange:r}))))))}},95674:(Y,C,t)=>{t.d(C,{B:()=>i});var e=t(6400),s=t(94184),O=t.n(s),T=t(54387),D=t(88426),v=t(13045),P=t(47084),M=Object.defineProperty,l=Object.defineProperties,_=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,r=(g,y,L)=>y in g?M(g,y,{enumerable:!0,configurable:!0,writable:!0,value:L}):g[y]=L,o=(g,y)=>{for(var L in y||(y={}))E.call(y,L)&&r(g,L,y[L]);if(m)for(var L of m(y))c.call(y,L)&&r(g,L,y[L]);return g},n=(g,y)=>l(g,_(y)),a=(g,y)=>{var L={};for(var b in g)E.call(g,b)&&y.indexOf(b)<0&&(L[b]=g[b]);if(g!=null&&m)for(var b of m(g))y.indexOf(b)<0&&c.call(g,b)&&(L[b]=g[b]);return L};const i=g=>{const{flex:y,hideImages:L,linkToComments:b,posts:I,pub:A,showSectionPins:U,source:B,user:W,utm:Z,variant:K,onChange:R,onClickPost:S}=g;return K==="two-three-two"?(0,e.h)(p,o({},g)):K==="two-small-three-medium"?(0,e.h)(d,o({},g)):["mini-row","three-column-mini-row"].includes(K)?(0,e.h)(f,o({},g)):(0,e.h)("div",{style:y==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:O()(P.Z.container,P.Z[K])},I.map((N,j)=>(0,e.h)(e.Fragment,null,j>0&&["one-column-list","two-column-list","two-column-grid","three-column-grid","four-column-grid","large-listing-listing-column","square-square-column"].includes(K)&&(0,e.h)(v.gq,{className:P.Z.divider,borderBottom:"detail-themed"}),[2,4].includes(j)&&K==="five-up"&&(0,e.h)(v.gq,{className:P.Z.divider,borderBottom:"detail-themed"}),j%2===0&&j>0&&["two-column-grid"].includes(K)&&(0,e.h)(v.gq,{className:P.Z["long-divider"],borderBottom:"detail-themed"}),j%3===0&&j>0&&["three-column-grid"].includes(K)&&(0,e.h)(v.gq,{className:P.Z["long-divider"],borderBottom:"detail-themed"}),j%4===0&&j>0&&["four-column-grid"].includes(K)&&(0,e.h)(v.gq,{className:P.Z["long-divider"],borderBottom:"detail-themed"}),(0,e.h)(D.G,{testid:["large-listing-listing-column","two-small-one-large"].includes(K)?`magazine-spot-${j+1}`:void 0,hideImage:L,linkToComments:b,post:N,pub:A,showPin:U&&N.is_section_pinned,user:W,utm:Z,variant:u(K,j),onChange:R,onClick:S&&B?H=>{S({event:H,post:N,index:j,source:B})}:void 0}))),K==="two-small-one-large"&&(0,e.h)(v.gq,{borderBottom:"detail-themed"})))},d=g=>{const y=g,{posts:L}=y,b=a(y,["posts"]),I=L.slice(0,3),A=L.slice(3);return(0,e.h)(T.A,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(i,n(o({},b),{flex:"grow",variant:"large-listing-listing-column",posts:I,hideImages:!0})),(0,e.h)(i,n(o({},b),{flex:"grow",variant:"square-square-column",posts:A,hideImages:!1})))},p=g=>{const y=g,{posts:L}=y,b=a(y,["posts"]),I=L.slice(0,3),A=L.slice(3,5),U=L.slice(5);return(0,e.h)(T.A,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(i,n(o({},b),{flex:"grow",variant:"large-listing-listing-column",posts:I,hideImages:!0})),(0,e.h)(i,n(o({},b),{flex:"grow",variant:"square-square-column",posts:A,hideImages:!1})),(0,e.h)(i,n(o({},b),{flex:"grow",variant:"square-square-column",posts:U,hideImages:!1})))},f=g=>{const{linkToComments:y,posts:L,pub:b,source:I,user:A,utm:U,variant:B,onChange:W,onClickPost:Z}=g,K=B==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:O()(P.Z.container,P.Z[B])},L.slice(0,K).map((R,S)=>(0,e.h)(e.Fragment,null,S>0&&(0,e.h)(v.gq,{className:O()(P.Z.divider,P.Z.dividerVertical),paddingY:16,alignItems:"center"},(0,e.h)(v.gq,{borderLeft:"detail-themed"})),(0,e.h)(D.G,{linkToComments:y,post:R,pub:b,user:A,utm:U,variant:u(B,S),onChange:W,onClick:Z&&I?N=>{Z({event:N,post:R,index:S,source:I})}:void 0})))))},u=(g,y)=>g==="square-square-column"?"square":g==="large-listing-listing-column"?y===0?"large":"listing":g==="two-small-one-large"?y===0?"large":"square":g==="two-column-list"?"listing":g==="five-up"?y===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(g)?"mini":"square"},10212:(Y,C,t)=>{t.d(C,{M:()=>D});var e=t(6400),s=t(13045),O=t(52743),T=t(91029);const D=({logoUrl:v,name:P,description:M})=>(0,e.h)(s.tu,{gap:12,paddingTop:32,paddingBottom:24},v&&(0,e.h)("img",{className:T.Z.logo,src:(0,O.imginary)(v,72*2),alt:P}),(0,e.h)(s.xv.H1,{font:"pub-headings",color:"pub-primary-text"},P),M&&(0,e.h)(s.xv.B3,{color:"pub-secondary-text"},M))},49157:(Y,C,t)=>{t.d(C,{t:()=>L});var e=t(6400),s=t(30396),O=t(86575),T=t(63270),D=t(3313),v=t(63030),P=t(47504),M=t(50594),l=t(68160),_=t(81979),m=t(25018),E=t(8459),c=t(92217),r=t(95674),o=t(10212),n=t(8903),a=t(8305),i=t(92742),d=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,g=(b,I,A)=>I in b?d(b,I,{enumerable:!0,configurable:!0,writable:!0,value:A}):b[I]=A,y=(b,I)=>{for(var A in I||(I={}))f.call(I,A)&&g(b,A,I[A]);if(p)for(var A of p(I))u.call(I,A)&&g(b,A,I[A]);return b};const L=b=>{var I,A,U,B;const{blurbs:W,freeSignup:Z,freeSignupEmail:K,hide_intro_popup:R,isPodcast:S,newPosts:N,noBalanceHeroText:j,notify_user:H,pinnedPosts:x,pub:F,referralCode:w,search:V,section:$,sort:k,showWelcome:G,user:Q,utm:q,launchWelcomePage:z,skipIntoPopupRender:J}=b,{isMobile:te}=(0,m.v9)(),{getConfigFor:oe}=(0,T.xR)(),ie=(0,D.VL)({pub:F,includeTheRampart:!0}),re=S||ie&&($==null?void 0:$.is_podcast),ue=oe("classic_podcast_section_page")&&re;if((0,s.d4)(()=>{H&&typeof window!="undefined"&&(0,O.ZP)(H)},[H]),!$&&!re)return console.warn("Should be either a section or podcast or both"),null;let ce=null;if(re&&(ce=$?(0,v.getSectionPodcastSettings)({pub:F,section:$}):(0,v.getPubPodcastSettings)({pub:F})),!ie&&(re||$!=null&&$.is_podcast))return(0,e.h)(c.N,y({},b));const Ee=(0,e.h)(P.O,{isPodcast:re,maxPosts:7,newPosts:N,pinnedPosts:x,pub:F,search:V,sectionId:$==null?void 0:$.id,sort:k,user:Q,variant:"list"},({posts:se,linkToComments:ne,onClickPost:ee})=>(0,e.h)(r.B,{hideImages:F.theme.hide_images_from_list,linkToComments:ne,posts:se,pub:F,showSectionPins:!0,user:Q,utm:q,variant:"two-column-list",onChange:()=>{},onClickPost:ee}));return(0,e.h)(n.N,{columns:ue?3:2},(0,e.h)(E.S,{pub:F,section:$,isPodcast:re}),ce?ue?(0,e.h)(M.x,{description:(I=ce.description)!=null?I:"",logoUrl:ce.artUrl,name:(A=ce.title)!=null?A:"",pub:F,section:$,user:Q}):(0,e.h)(o.M,{name:(U=ce.title)!=null?U:"",description:(B=ce.description)!=null?B:"",logoUrl:ce.artUrl}):$&&(0,e.h)(o.M,{name:$.name,description:$.description,logoUrl:$.logo_url}),!(te&&ue)&&(0,e.h)(_.f,null),ue?(0,e.h)("div",{className:i.Z.bodyContainer},Ee,(0,e.h)(l.Z,{pub:F,user:Q,section:$})):Ee,J?null:(0,e.h)(a.L,{blurbs:W,freeSignup:Z,freeSignupEmail:K,hide_intro_popup:R,isPodcast:re,noBalanceHeroText:j,pub:F,referralCode:w,showWelcome:G,user:Q,launchWelcomePage:z}))}},8903:(Y,C,t)=>{t.d(C,{N:()=>D});var e=t(6400),s=t(94184),O=t.n(s),T=t(70663);const D=({children:v,columns:P=2})=>(0,e.h)("div",{className:O()(T.Z.container,{[T.Z.containerThreeColumn]:P===3})},v)},70602:(Y,C,t)=>{t.d(C,{d:()=>a});var e=t(6400),s=t(56532),O=t(25018),T=t(54387),D=t(95674),v=t(13045),P=Object.defineProperty,M=Object.defineProperties,l=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,c=(i,d,p)=>d in i?P(i,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[d]=p,r=(i,d)=>{for(var p in d||(d={}))m.call(d,p)&&c(i,p,d[p]);if(_)for(var p of _(d))E.call(d,p)&&c(i,p,d[p]);return i},o=(i,d)=>M(i,l(d)),n=(i,d)=>{var p={};for(var f in i)m.call(i,f)&&d.indexOf(f)<0&&(p[f]=i[f]);if(i!=null&&_)for(var f of _(i))d.indexOf(f)<0&&E.call(i,f)&&(p[f]=i[f]);return p};const a=i=>{var d=i,{columns:p=4,posts:f,pub:u}=d,g=n(d,["columns","posts","pub"]);const{isMobile:y}=(0,O.v9)();return y?null:(0,e.h)(T.A,{variant:p===3?"three-column-width":"full-width"},(0,e.h)(v.tu,{gap:12},(0,e.h)(s.p,{pub:u}),(0,e.h)(D.B,o(r({},g),{pub:u,posts:f,variant:p===3?"three-column-mini-row":"mini-row"}))))}},8305:(Y,C,t)=>{t.d(C,{L:()=>M});var e=t(6400),s=t(30396),O=t(75501),T=t(34988),D=t(17025),v=t.n(D),P=t(52743);const M=({blurbs:l,freeSignup:_,freeSignupEmail:m,hide_intro_popup:E,noBalanceHeroText:c,pub:r,referralCode:o,showWelcome:n,user:a,launchWelcomePage:i})=>{const d=(0,s.sO)(!1),p=(0,s.sO)(null);return(0,s.d4)(()=>{(0,P.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,P.updateQuery)({action:null})),d.current=!0),d.current&&p.current&&p.current.open(),typeof window!="undefined"&&n&&(0,D.removeQueryParam)("showWelcome")},[n]),(0,e.h)(e.Fragment,null,(0,e.h)(T.ZP,{ref:f=>p.current=f,pub:r,user:a}),(0,e.h)(O.ZP,{blurbs:l,freeSignup:_,freeSignupEmail:m,hidden:E||d.current,noBalance:c,publication:r,referralCode:o,showOnMount:n,user:a,launchWelcomePage:i}))}},98901:(Y,C,t)=>{t.d(C,{b:()=>M});var e=t(6400),s=t(13158),O=t(78925),T=t(16128),D=t(36357),v=t(25018),P=t(62934);const M=({contentBlock:l,posts:_,pub:m,showEmptyState:E,title:c,user:r,viewAllUrl:o,onChange:n})=>{var a;const{breakpoint:i}=(0,v.v9)();if(l.block_type==="list")return(0,e.h)(T.Q,{numPosts:(a=l.num_posts)!=null?a:P.di.posts.default,posts:_,pub:m,sidebarLeft:l.secondary_sidebar_modules,sidebarRight:l.primary_sidebar_modules,showEmptyState:E,title:c,user:r,viewAllUrl:o,onChange:n});if(l.block_type==="grid"){const d=(0,P.eP)({contentBlock:l,breakpoint:i});return(0,e.h)(O.i,{numPosts:d,posts:_,pub:m,sidebarLeft:l.secondary_sidebar_modules,sidebarRight:l.primary_sidebar_modules,showEmptyState:E,title:c,user:r,viewAllUrl:o,onChange:n})}return l.block_type==="feature"?(0,e.h)(s.x,{posts:_,pub:m,showEmptyState:E,title:c,user:r,viewAllUrl:o,onChange:n}):l.block_type==="subscribe"?(0,e.h)(D.u,{contentBlock:l,pub:m,user:r}):null}},4583:(Y,C,t)=>{t.d(C,{L:()=>T});var e=t(6400),s=t(13045),O=t(49273);const T=()=>(0,e.h)(s.xu,{paddingX:16,paddingY:48,radius:6,className:O.Z.container},(0,e.h)(s.xv.B4,{color:"pub-secondary-text",textAlign:"center"},"No posts found"))},13158:(Y,C,t)=>{t.d(C,{x:()=>M});var e=t(6400),s=t(4583),O=t(68195),T=t(25018),D=t(88320),v=t(88426),P=t(95674);const M=({posts:l,pub:_,showEmptyState:m,title:E,user:c,viewAllUrl:r,onChange:o})=>{const{isTablet:n}=(0,T.v9)();return!m&&l.length===0?null:(0,e.h)(e.Fragment,null,E&&(0,e.h)(O.i,{title:E,viewAllUrl:r}),l.length?(0,e.h)(D.J,{leftContent:(0,e.h)(v.G,{imageAspectRatio:"wide",hideWash:!0,post:l[0],pub:_,user:c,variant:"large",onChange:o}),rightContent:(0,e.h)(P.B,{posts:l.slice(1,4),pub:_,user:c,variant:n?"one-column-list":"two-column-list",onChange:o}),mobileContent:(0,e.h)(P.B,{posts:l.slice(0,4),pub:_,user:c,variant:"two-column-list",onChange:o})}):(0,e.h)(s.L,null))}},78925:(Y,C,t)=>{t.d(C,{i:()=>M});var e=t(6400),s=t(4583),O=t(68195),T=t(25018),D=t(8975),v=t(22722),P=t(14798);const M=({numPosts:l,posts:_,pub:m,showEmptyState:E,sidebarLeft:c,sidebarRight:r,title:o,user:n,viewAllUrl:a,onChange:i})=>{const{isDesktop:d,isTablet:p}=(0,T.v9)();if(!E&&_.length===0)return null;const f=c&&c.length>0,u=r&&r.length>0;let g,y,L;d?(g=f?(0,e.h)(P.T,{ids:c,pub:m,user:n}):void 0,y=u?(0,e.h)(P.T,{ids:r,pub:m,user:n}):void 0,L=4-(u?1:0)-(f?1:0)):p?u?(y=(0,e.h)(P.T,{ids:[...r,...c!=null?c:[]],pub:m,user:n}),L=2):f?(g=(0,e.h)(P.T,{ids:c,pub:m,user:n}),L=2):L=3:L=1;const b=(0,e.h)(e.Fragment,null,o&&(0,e.h)(O.i,{title:o,viewAllUrl:a}),_.length?(0,e.h)(v.B,{posts:_.slice(0,l),pub:m,user:n,numColumns:L,onChange:i}):(0,e.h)(s.L,null));return(0,e.h)(D.s,{mainContent:b,leftContent:g,rightContent:y,stretchToFullWidth:!0})}},68195:(Y,C,t)=>{t.d(C,{i:()=>v});var e=t(6400),s=t(25018),O=t(88331),T=t(98163),D=t(13045);const v=({title:P,viewAllUrl:M})=>{const{isMobile:l}=(0,s.v9)();return(0,e.h)(D.gq,{alignItems:"baseline",justifyContent:"space-between",paddingBottom:l?12:16,paddingX:l?0:8},l?(0,e.h)(T.R,null,P):(0,e.h)(D.xv.H2,{color:"pub-primary-text",font:"pub-headings"},P),M&&(0,e.h)(O.Q,{href:M},"View all"))}},16128:(Y,C,t)=>{t.d(C,{Q:()=>M});var e=t(6400),s=t(4583),O=t(68195),T=t(25018),D=t(8975),v=t(95674),P=t(14798);const M=({numPosts:l,posts:_,pub:m,showEmptyState:E,sidebarLeft:c,sidebarRight:r,title:o,user:n,viewAllUrl:a,onChange:i})=>{const{isTablet:d,isDesktop:p}=(0,T.v9)();if(!E&&_.length===0)return null;const f=c&&c.length>0,u=r&&r.length>0;let g,y;const L=(0,e.h)(e.Fragment,null,o&&(0,e.h)(O.i,{title:o,viewAllUrl:a}),_.length?(0,e.h)(v.B,{posts:_.slice(0,l),pub:m,user:n,variant:"two-column-list",onChange:i}):(0,e.h)(s.L,null));return p?(g=f?(0,e.h)(P.T,{ids:c,pub:m,user:n}):void 0,y=u?(0,e.h)(P.T,{ids:r,pub:m,user:n}):void 0):d&&(u?y=(0,e.h)(P.T,{ids:[...r,...c!=null?c:[]],pub:m,user:n}):f&&(g=(0,e.h)(P.T,{ids:c,pub:m,user:n}))),(0,e.h)(D.s,{mainContent:L,leftContent:g,rightContent:y})}},36357:(Y,C,t)=>{t.d(C,{u:()=>n});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(39493),v=t(28488),P=t(3313),M=t(80512),l=t(25018),_=t(13045),m=t(52743),E=t(20501),c=t(83322),r=t(59009),o=t(88710);const n=({contentBlock:a,pub:i,user:d})=>{const{iString:p}=(0,v.M1)(),{freeSignup:f}=(0,s.qp)(M.p),{isMobile:u}=(0,l.v9)(),g=(0,P.VL)({pub:i,includeTheRampart:!0}),y=g,L=f||(d==null?void 0:d.is_free_subscribed),b=d==null?void 0:d.is_subscribed,I=(0,E.getSubscribeUrl)(i,{params:{utm_source:r.UTM_SOURCE.subscribeContentBlock,gift:!0,next:document.location.href}}),A=(0,E.getSubscribeUrl)(i,{addBase:!0,user:d,params:{utm_source:r.UTM_SOURCE.subscribeContentBlock,simple:!0,next:document.location.href,referring_pub_ids:(0,m.getQueryItem)("referring_pub_ids")}});return(0,e.h)("div",{className:T()(o.Z.outerContainer,{[o.Z.thebulwark]:g})},(0,e.h)(_.xu,{className:o.Z.innerContainer,paddingY:y?24:u?40:48},(0,e.h)(_.gq,{direction:u?"column":"row",alignItems:"center",gap:u?y?16:24:40,justifyContent:"center"},(0,e.h)(_.gq,{alignItems:"center",gap:8,direction:u?"column":"row"},y&&(0,e.h)(D.Z,{className:o.Z.pubLogo,pub:i,logo_url:i.logo_url}),(0,e.h)(_.xv,{font:"pub-headings",textAlign:u?"center":"left",color:"pub-primary-text",fontSize:24,lineHeight:30},b?a.attrs.paid_subscriber_message:L?a.attrs.free_subscriber_message:a.attrs.non_subscriber_message)),(0,e.h)(_.xu,{flex:"auto"},b?(0,e.h)(_.zx,{priority:"primary-theme",href:I,localNavigation:!1},p("Gift a subscription")):(0,e.h)(_.zx,{priority:"primary-theme",href:A,localNavigation:!1},(0,c.getSubscribeText)(i))))))}},62183:(Y,C,t)=>{t.d(C,{l:()=>D});var e=t(6400),s=t(8975),O=t(1515),T=t(13045);const D=()=>(0,e.h)(T.xu,{paddingBottom:120},(0,e.h)(s.s,{mainContent:(0,e.h)(O.b,{animated:!1,postCount:4,variant:"list"}),leftContent:(0,e.h)("div",null,"\xA0"),rightContent:(0,e.h)("div",null,"\xA0")}))},32594:(Y,C,t)=>{t.d(C,{J:()=>v});var e=t(6400),s=t(94184),O=t.n(s),T=t(52743),D=t(5561);const v=({altText:P="Section logo",size:M=64,url:l,showPlaceholder:_})=>l?(0,e.h)("img",{className:O()(D.Z.logo,{[D.Z["logo-64"]]:M===64,[D.Z["logo-72"]]:M===72}),src:(0,T.imginary)(l,M*2),alt:P}):_?(0,e.h)("div",{className:O()(D.Z.logo,D.Z.logoPlaceholder,{[D.Z["logo-64"]]:M===64,[D.Z["logo-72"]]:M===72})}):null},14798:(Y,C,t)=>{t.d(C,{T:()=>d});var e=t(6400),s=t(39693),O=t.n(s),T=t(81979),D=t(74537),v=t(90913),P=t(94532),M=t(3171),l=t(64169),_=t(2678),m=t(63133),E=t(13045),c=Object.defineProperty,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(f,u,g)=>u in f?c(f,u,{enumerable:!0,configurable:!0,writable:!0,value:g}):f[u]=g,i=(f,u)=>{for(var g in u||(u={}))o.call(u,g)&&a(f,g,u[g]);if(r)for(var g of r(u))n.call(u,g)&&a(f,g,u[g]);return f};const d=({ids:f,pub:u,user:g})=>{const y=O()(f.map(L=>L==="subscribe"?(0,e.h)(_.f,{pub:u,user:g}):L==="recommendations"?(0,e.h)(l.z,{pub:u,user:g,showEmptyState:!0,hideHeaderBorder:!0}):L==="links"?p(v.p,{pub:u,hideHeaderBorder:!0}):L==="contributors"?(0,e.h)(D.J,null):L==="podcasts"?(0,e.h)(M.D,{pub:u}):L==="newsletters"?(0,e.h)(P.Z,{pub:u}):L==="top-posts"?(0,e.h)(m.$,{pub:u,user:g}):null));return(0,e.h)(E.tu,null,y.map((L,b)=>(0,e.h)(e.Fragment,null,L,b<y.length-1&&(0,e.h)(T.f,null))))},p=(f,u)=>{const g=(0,e.h)(f,i({},u));return typeof g.type=="function"&&g.type(u)===null?null:g}},94348:(Y,C,t)=>{t.d(C,{z:()=>v});var e=t(6400),s=t(25509),O=t(13045),T=t(96450),D=t(15757);const v=({contributor:P,latestPost:M})=>M?(0,e.h)(D.J,{href:M.canonical_url,hoverBackground:"light",padding:8,radius:6},(0,e.h)(O.gq,{gap:16,alignItems:"center"},(0,e.h)(O.tu,{flex:"grow"},(0,e.h)(O.xv.Meta,{color:"pub-accent"},P.name),(0,e.h)(s.F,{post:M,preset:"sm"})),(0,e.h)(O.hs,{flex:"auto"},(0,e.h)(T.q,{imageUrl:P.photo_url,size:48})))):null},74537:(Y,C,t)=>{t.d(C,{J:()=>m});var e=t(6400),s=t(30396),O=t(28488),T=t(80512),D=t(88331),v=t(94348),P=t(18704),M=t(98163),l=t(13045);const _=10,m=()=>{const{iString:E,iTemplate:c}=(0,O.M1)(),{contributors:r,latestPostByContributorId:o}=(0,s.qp)(T.p),[n,a]=(0,s.eJ)(!1);if(!r)return null;const i=r.filter(f=>f.name&&(o==null?void 0:o[f.id])),d=i.slice(0,_),p=i.slice(_);return(0,e.h)(l.tu,{gap:16},(0,e.h)(l.gq,{paddingX:8},(0,e.h)(M.R,null,E("The latest from"))),(0,e.h)(l.tu,{gap:4},d.length?d.map(f=>(0,e.h)(v.z,{contributor:f,latestPost:o==null?void 0:o[f.id]})):(0,e.h)(P.r,null),(0,e.h)(l.HZ,{expanded:n},(0,e.h)(l.tu,{gap:4},p.map(f=>(0,e.h)(v.z,{contributor:f,latestPost:o==null?void 0:o[f.id]})))),p.length>0&&(0,e.h)(l.gq,{paddingY:4,paddingX:8},(0,e.h)(D.Q,{onClick:()=>{a(!n)}},n?c`Show less`:c`Show ${p.length} more`))))}},18704:(Y,C,t)=>{t.d(C,{r:()=>D});var e=t(6400),s=t(28488),O=t(13045),T=t(26919);const D=()=>{const{iString:v}=(0,s.M1)();return(0,e.h)(O.xu,{paddingX:16,paddingY:20,radius:6,className:T.Z.container,flex:"grow"},(0,e.h)(O.xv.B4,{color:"pub-secondary-text"},v("Coming soon")))}},31127:(Y,C,t)=>{t.d(C,{G:()=>o});var e=t(6400),s=t(99296),O=t(13045),T=t(15757),D=Object.defineProperty,v=Object.defineProperties,P=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,m=(n,a,i)=>a in n?D(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i,E=(n,a)=>{for(var i in a||(a={}))l.call(a,i)&&m(n,i,a[i]);if(M)for(var i of M(a))_.call(a,i)&&m(n,i,a[i]);return n},c=(n,a)=>v(n,P(a)),r=(n,a)=>{var i={};for(var d in n)l.call(n,d)&&a.indexOf(d)<0&&(i[d]=n[d]);if(n!=null&&M)for(var d of M(n))a.indexOf(d)<0&&_.call(n,d)&&(i[d]=n[d]);return i};const o=n=>{var a=n,{alignItems:i="center",body:d,clampTitle:p,image:f,linkProps:u,subtitle:g,title:y,url:L}=a,b=r(a,["alignItems","body","clampTitle","image","linkProps","subtitle","title","url"]);const{size:I,lineHeight:A}=s.HOMEPAGE_TEXT_PRESETS.sm,U=typeof window=="undefined",B=(0,e.h)(T.J,{hoverBackground:"light",padding:8,radius:6},(0,e.h)(O.gq,c(E({},b),{alignItems:i,gap:16}),f&&(0,e.h)(O.xu,{alignSelf:"start"},f),(0,e.h)(O.tu,{gap:8},(0,e.h)(O.tu,{style:{wordBreak:"break-word"}},(0,e.h)(O.xv,{color:"pub-primary-text",font:"pub-headings",lineHeight:A,size:I,clamp:p},U?(0,e.h)("a",c(E({},u),{href:L,style:{textDecoration:"none",display:"block"}}),y):y),g&&(0,e.h)(O.xv.B4,{color:"pub-secondary-text",size:12,clamp:3},g)),d&&(0,e.h)("div",null,d))));return U?B:(0,e.h)("a",c(E({},u),{href:L,style:{textDecoration:"none",display:"block"}}),B)}},90913:(Y,C,t)=>{t.d(C,{p:()=>M});var e=t(6400),s=t(30396),O=t(80512),T=t(8698),D=t(31127),v=t(98163),P=t(13045);const M=({hideHeaderBorder:l,pub:_})=>{const{homepageLinks:m}=(0,s.qp)(O.p);return!m||m.length===0?null:(0,e.h)(P.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(T.a,{homepageLinks:m,pub:_,renderGroup:({title:E,links:c})=>(0,e.h)(P.tu,{gap:16},(0,e.h)(P.gq,{alignItems:"center",borderBottom:l?void 0:"detail-themed",paddingBottom:l?void 0:8,paddingX:8},(0,e.h)(v.R,null,E)),(0,e.h)(P.tu,{gap:4},c)),renderLink:({linkProps:E,subtitle:c,title:r,url:o})=>(0,e.h)(D.G,{linkProps:E,subtitle:c,title:r,url:o})}))}},94532:(Y,C,t)=>{t.d(C,{Z:()=>_});var e=t(6400),s=t(28488),O=t(32594),T=t(18704),D=t(31127),v=t(98163),P=t(13045),M=t(20501),l=t(83322);const _=({pub:m})=>{const{iString:E}=(0,s.M1)(),c=m.sections.filter(o=>(0,l.sectionIsSpecificallyMarkedAsNewsletter)({section:o,pub:m})||!o.is_podcast),r=c.some(o=>o.logo_url);return(0,e.h)(P.tu,{gap:16},(0,e.h)(P.gq,{paddingX:8},(0,e.h)(v.R,null,E("Newsletters"))),(0,e.h)(P.tu,{gap:4},c.length?c.map(o=>(0,e.h)(D.G,{image:o.logo_url||r?(0,e.h)(O.J,{size:64,url:o.logo_url,altText:`Logo for ${o.name}`,showPlaceholder:!0}):null,title:o.name,subtitle:o.description,url:(0,M.getSectionUrl)(m,{section:o,addBase:!0})})):(0,e.h)(T.r,null)))}},94940:(Y,C,t)=>{t.d(C,{T:()=>P});var e=t(6400),s=t(28488),O=t(25509),T=t(32594),D=t(13045),v=t(15757);const P=({podcastArtUrl:M,podcastTitle:l,podcastUrl:_,latestPost:m,showPlaceholder:E})=>{const{iString:c,iTemplate:r}=(0,s.M1)();return(0,e.h)(v.J,{href:m?m.canonical_url:_,hoverBackground:"light",padding:8,radius:6},(0,e.h)(D.gq,{gap:16,alignItems:"start"},(M||E)&&(0,e.h)(D.hs,{flex:"auto"},(0,e.h)(T.J,{size:64,url:M,altText:r`Logo for ${l}`,showPlaceholder:!0})),(0,e.h)(D.tu,{flex:"grow"},(0,e.h)(D.xv.Meta,{color:"pub-accent"},l),m?(0,e.h)(O.F,{noIcons:!0,post:m,preset:"sm"}):(0,e.h)(D.xv.B4,{color:"pub-secondary-text",paddingTop:8,style:{fontStyle:"italic"}},c("Coming soon")))))}},3171:(Y,C,t)=>{t.d(C,{D:()=>_});var e=t(6400),s=t(30396),O=t(28488),T=t(80512),D=t(18704),v=t(94940),P=t(98163),M=t(13045),l=t(85200);const _=({pub:m})=>{const{iString:E}=(0,O.M1)(),{latestPodcastPosts:c}=(0,s.qp)(T.p),r=(0,l.FV)(m),o=r.some(n=>n.podcast_art_url);return(0,e.h)(M.tu,{gap:16},(0,e.h)(M.gq,{paddingX:8},(0,e.h)(P.R,null,E("Podcasts"))),(0,e.h)(M.tu,{gap:4},r.length?r.map(n=>{var a,i;const d=n.section_id?(a=c==null?void 0:c.sectionPodcasts[n.section_id])!=null?a:null:(i=c==null?void 0:c.pubPodcast)!=null?i:null;return(0,e.h)(v.T,{latestPost:d,podcastArtUrl:n.podcast_art_url,podcastTitle:n.title,podcastSubtitle:n.subtitle,podcastUrl:n.url,showPlaceholder:o})}):(0,e.h)(D.r,null)))}},64169:(Y,C,t)=>{t.d(C,{z:()=>f});var e=t(6400),s=t(30396),O=t(39493),T=t(28488),D=t(80512),v=t(88331),P=t(18704),M=t(31127),l=t(98163),_=t(46344),m=t(13045),E=Object.defineProperty,c=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(u,g,y)=>g in u?E(u,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):u[g]=y,d=(u,g)=>{for(var y in g||(g={}))n.call(g,y)&&i(u,y,g[y]);if(o)for(var y of o(g))a.call(g,y)&&i(u,y,g[y]);return u},p=(u,g)=>c(u,r(g));const f=({pub:u,showEmptyState:g,hideHeaderBorder:y,user:L})=>{const{numRecommendations:b,recommendations:I}=(0,s.qp)(D.p),{iString:A,iTemplate:U}=(0,T.M1)();return!I||I.length===0&&!g?null:(0,e.h)(_.C,{recommendations:I,numRecommendations:b,pub:u,user:L,render:({recommendations:B,canManage:W,manageUrl:Z,hasMore:K,hasMoreUrl:R,recommendationsCount:S})=>(0,e.h)(m.tu,{gap:16},(0,e.h)(m.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:y?void 0:8,paddingX:8,borderBottom:y?void 0:"detail-themed"},(0,e.h)(l.R,null,A("Recommendations")),W?(0,e.h)(v.Q,{href:Z},A("Manage")):K?(0,e.h)(v.Q,{href:R,testid:"homepage-recommendations-view-all"},U`View all ${S}`):null),(0,e.h)(m.tu,{gap:4,"data-testid":"homepage-recommendations"},b===0?(0,e.h)(m.gq,{paddingX:8},(0,e.h)(P.r,null)):B)),renderRecommendation:({url:B,onClick:W,pubIconProps:Z,pubName:K,pubAuthor:R})=>{const S={onClick:W,target:"_blank",rel:"noopener"};return(0,e.h)(M.G,{"data-testid":"homepage-recommendation",image:(0,e.h)(O.Z,p(d({},Z),{size:40,noMargin:!0})),linkProps:S,subtitle:R,title:K,url:B})}})}},2678:(Y,C,t)=>{t.d(C,{f:()=>l});var e=t(6400),s=t(30396),O=t(75223),T=t(99296),D=t(80512),v=t(13045),P=t(52743),M=t(95447);const l=({pub:_,user:m})=>{const{freeSignup:E,freeSignupEmail:c}=(0,s.qp)(D.p),{size:r,lineHeight:o}=T.HOMEPAGE_TEXT_PRESETS.sm;return(0,e.h)(v.tu,{className:M.Z.container,gap:24,paddingX:8},(0,e.h)(v.tu,{gap:8},_.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:M.Z.pubLogo,src:(0,P.imginary)(_.logo_url,88),alt:_.name}),(0,e.h)("div",null,(0,e.h)(v.xv,{size:r,lineHeight:o,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},_.name),_.hero_text&&(0,e.h)(v.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},_.hero_text))),!(m!=null&&m.is_subscribed)&&(0,e.h)(O.Z,{expectTruncation:!0,freeSignup:E,freeSignupEmail:c,isStatic:!1,pub:_,source:"magaziney-home-page",user:m}))}},98163:(Y,C,t)=>{t.d(C,{R:()=>T});var e=t(6400),s=t(13045),O=t(52881);const T=({children:D})=>(0,e.h)(s.xv,{className:O.Z.title,color:"pub-primary-text",font:"pub-headings",weight:"bold"},D)},63133:(Y,C,t)=>{t.d(C,{$:()=>M});var e=t(6400),s=t(30396),O=t(28488),T=t(80512),D=t(95674),v=t(98163),P=t(13045);const M=({pub:l,user:_})=>{const{iString:m}=(0,O.M1)(),{topPosts:E,utm:c,onChangePost:r}=(0,s.qp)(T.p);return!E||!r?null:(0,e.h)(P.tu,{gap:16},(0,e.h)(v.R,null,m("Top posts")),(0,e.h)(D.B,{pub:l,posts:E.slice(0,5),user:_,utm:c,variant:"one-column-list",onChange:r}))}},73539:(Y,C,t)=>{t.r(C),t.d(C,{default:()=>Me});var e=t(72496),s=t(6400),O=t(30396),T=t(94184),D=t.n(T),v=t(1469),P=t.n(v),M=t(20042),l=t(56232),_=t(13045),m=t(52743),E=t(75341),c=t(45599),r=t(94778),o=t(75501),n=t(7817),a=t(43011),i=t(92885),d=t(86575),p=t(7074),f=t(72306),u=t(63030),g=t(59663),y=t(4863),L=t(35225),b=t(17025),I=t.n(b),A=t(11688),U=t(35066),B=t(84349),W=t(4077),Z=t(61395),K=t(56005),R=t(82376),S=t(65392),N=t(22033),j=t(52444),H=t(83974),x=t(29334),F=t(10316),w=t(13021),V=t(60318),$=t(49157),k=t(89639),G=t(13066),Q=t(54811),q=t(35884),z=t(63703),J=t(27666),te=t(28393),oe=t(20069),ie=t(66302),re=t(33765),ue=t(76461),ce=t(46344),Ee=t(81408),se=t(7855),ne=t(97296),ee=t(39331),ae=Object.defineProperty,he=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable,ve=(ye,Fe,Ze)=>Fe in ye?ae(ye,Fe,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):ye[Fe]=Ze,Oe=(ye,Fe)=>{for(var Ze in Fe||(Fe={}))me.call(Fe,Ze)&&ve(ye,Ze,Fe[Ze]);if(he)for(var Ze of he(Fe))ge.call(Fe,Ze)&&ve(ye,Ze,Fe[Ze]);return ye};class Me extends s.Component{constructor(Fe,Ze){super(Fe,Ze),this.state=Fe.initialData||{}}componentDidUpdate(Fe,Ze){var Te,Ve,Re,Ue;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(Oe({},this.props.initialData));const Be=(Ve=(Te=this.state.pub)==null?void 0:Te.theme)==null?void 0:Ve.web_bg_color,Ke=document.documentElement;Ke&&Be&&((Ue=(Re=Ze==null?void 0:Ze.pub)==null?void 0:Re.theme)==null?void 0:Ue.web_bg_color)!==Be&&(Ke.style.background=Be)}componentDidMount(){var Fe,Ze,Te,Ve;const Re=(Ve=(Te=(Ze=(Fe=this.props)==null?void 0:Fe.initialData)==null?void 0:Ze.pub)==null?void 0:Te.theme)==null?void 0:Ve.web_bg_color,Ue=document.documentElement;Ue&&Re&&(Ue.style.background=Re)}render({coupon:Fe,skipIntoPopupRender:Ze},{pub:Te,section:Ve,user:Re,userProfile:Ue,freeSignup:Be,freeSignupEmail:Ke,posts:Qe,post:qe,truncatedPost:pt,pinnedPosts:st,newPosts:it,topPosts:rt,contentBlocks:Pt,communityPosts:dt,communityAction:Ne,searchPosts:Le,sectionsById:Ae,postTagsById:je,contributors:Ie,latestPodcastPosts:xe,latestPostByContributorId:$e,postsByGroupId:ft,postsBySectionId:ot,postsByTagId:_t,inlineComments:ct,latestSectionPosts:at,subscribeContent:Ut,homepageLinks:Ft,recommendations:Ot,numRecommendations:tt,allSubscribedPubs:It,fullySubscribedPubs:Kt,sitemapHeader:qt,sitemapDescription:Lt,sitemapLinks:wt,referralCode:bt,hide_intro_popup:Dt,post_reaction_token:$t,stripe_publishable_key:zt,viral_gift_data:Vt,campaign:ao,referralCampaign:ut,file:yt,primaryEligiblePublications:Zt,flagged_as_spam:St,switchAccountRedirectUrl:co,readerIsSearchCrawler:To,commentId:de,selectionFromQuery:fe,siteConfigs:Ce={},blurbs:be,noBalanceHeroText:we,embeddedPublications:ze,themeVariables:Xe,subdomainNotFound:lt,freeTrialCoupon:Je,signupForFreeVariant:ht,people:Wt,useNewSubscribePage:gt,idToMagicLink:At,token:Rt,podcast_rss_url:so,publicationSettings:Gt,pledgePlans:Xt,isChatActive:eo,isMeetingsActive:jt,optOutLegacyTheming:Yt,meetingsOrder:to,meetingsSettings:lo,appModalOpenByDefault:Jt,twitterCardUrl:fo,tagPagePreloads:oo,initialComments:no,bannedFromNotes:xt,intro_text:kt,crossPostedPub:ro,crossPostingByLine:mo,userWithCrossPostedPubContext:Oo,crossPostedPublicationSettings:Po,crossPostedSiteConfig:Io,launchWelcomePage:Do,referringUser:Fo,clip:wo,recentEpisodes:bo,trackFrontendVisit:uo,showCookieBanner:xo}){var Zo;const jo=P()(this.state.comments)?this.state.comments:[];if(lt)return(0,s.h)(te.A,{subdomain:lt});if(St&&!(Re!=null&&Re.is_global_admin))return(0,s.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,b.setMetaData)({title:"Flagged as TOS violation"}),(0,s.h)("div",{className:"container"},(0,s.h)("h2",null,"Publication Not Available"),(0,s.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,s.h)("a",{href:`${(0,m.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,s.h)("p",null,(0,s.h)("a",{href:(0,m.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const Vo=!!(Te!=null&&Te.theme&&!Yt),zo=(0,M.getCurrentUrl)().startsWith("/chat"),{iString:go,iTemplate:Co}=I18N.i(this.state.language);return(0,s.h)(i.Z,{pub:Te,user:Re,siteConfigs:Ce,hasThemedBackground:Vo,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:Gt},(0,s.h)(E.Z,Oe({},this.props)),(0,s.h)(re.Oh,{publication:Te,twitterCardUrl:fo}),(0,s.h)(Pe,{user:Re}),(0,s.h)(De,{user:Re,pub:Te}),(0,s.h)(We,null),(0,s.h)("div",{className:D()("main typography",{"use-theme-bg":Vo,"should-flex":zo}),id:"main"},(0,s.h)(l.qE,{path:"/"},({path:Mt})=>{var Go,Xo;let Qt="/home";/^\/about\b/.test(Mt)?Qt="/about":/^\/notes\b/.test(Mt)?Qt="/notes":/^\/leaderboard\b/.test(Mt)?Qt="/leaderboard":/^\/chat\b/.test(Mt)?Qt="/chat":/^\/podcast\b/.test(Mt)?Qt="/podcast":/^\/archive\b/.test(Mt)?Qt="/archive":/^\/newsletters\b/.test(Mt)?Qt="/newsletters":/^\/recommendations\b/.test(Mt)?Qt="/recommendations":/^\/listen\b/.test(Mt)?Qt="/listen":Ve?Qt=Ve.id:/^\/p\//.test(Mt)?Qt=((Go=/^\/p\/([^/?#]+)/.exec(Mt))==null?void 0:Go[0])||"/p":/^\/t\//.test(Mt)&&(Qt=((Xo=/^\/t\/([^/?#]+)/.exec(Mt))==null?void 0:Xo[0])||"/p");let io;typeof window!="undefined"&&window.location.search&&(io=(0,m.parseQuery)(window.location.search));const So=/^\/p\/([^/?#]*)/.exec(Mt),le=So&&!((qe==null?void 0:qe.type)==="page"&&qe.slug===So[1]),_e=Mt.startsWith("/subscribe")||Mt.startsWith("/finish-invite")||Mt.startsWith("/meetings"),pe=Mt.startsWith("/chat/posts/");return Ve?(0,s.h)(n.v2,{pub:Te,user:Re,freeSignup:Be,freeSignupEmail:Ke,hide_subscribe_cta:Mt.startsWith("/subscribe"),selectedSectionId:Qt,isPostView:le,showCustomerSupportModeModal:!!(io!=null&&io.showCustomerSupportModeModal),lowChrome:_e,numRecommendations:tt,isChatActive:eo,isMeetingsActive:jt,signupForFreeVariant:ht}):!["welcome","embed","meetings"].some(Se=>Mt.startsWith(`/${Se}`))&&!(Mt.startsWith("/subscribe")&&(gt||Xt))&&(0,s.h)(n.v2,{pub:Te,user:Re,freeSignup:Be,freeSignupEmail:Ke,hide_subscribe_cta:Mt.startsWith("/subscribe"),isPostView:le,selectedSectionId:Qt,showCustomerSupportModeModal:!!(io!=null&&io.showCustomerSupportModeModal),lowChrome:_e,numRecommendations:tt,isChatActive:eo,isMeetingsActive:jt,signupForFreeVariant:ht,hideSections:pe})}),(0,s.h)(d.g1,{pub:Te,user:Re}),(0,s.h)(M.Router,{onChange:y.U},["newspaper","magaziney"].includes(Te.homepage_type)?(0,s.h)(V.U,{path:"/",blurbs:be,bodyPostGroups:(Zo=Te.theme)==null?void 0:Zo.body_post_groups,contentBlocks:Pt,freeSignup:Be,freeSignupEmail:Ke,hide_intro_popup:Dt,homepageLinks:Ft,sectionsById:Ae,postTagsById:je,contributors:Ie,latestPodcastPosts:xe,latestPostByContributorId:$e,latestSectionPosts:at,newPosts:it,noBalanceHeroText:we,numRecommendations:tt,pinnedPosts:st,postsByGroupId:ft,postsBySectionId:ot,postsByTagId:_t,pub:Te,recommendations:Ot,referralCampaign:ut,referralCode:bt,topPosts:rt,user:Re,launchWelcomePage:Do,skipIntoPopupRender:Ze}):(0,s.h)(Z.Z,{path:"/",user:Re,freeSignupEmail:Ke,freeSignup:Be,hide_intro_popup:Dt,preloadedPosts:Qe,pub:Te,blurbs:be,noBalanceHeroText:we,launchWelcomePage:Do,skipIntoPopupRender:Ze}),(0,s.h)($.t,{path:"/listen/:sectionSlug",blurbs:be,user:Re,freeSignupEmail:Ke,freeSignup:Be,hide_intro_popup:Dt,pub:Te,pinnedPosts:st,newPosts:it,latestSectionPosts:at,section:Te.section,referralCampaign:ut,isPodcast:!0,launchWelcomePage:Do,noBalanceHeroText:we,skipIntoPopupRender:Ze}),(0,s.h)($.t,{path:"/podcast",blurbs:be,user:Re,freeSignupEmail:Ke,freeSignup:Be,hide_intro_popup:Dt,pub:Te,pinnedPosts:st,newPosts:it,latestSectionPosts:at,recommendations:Ot,numRecommendations:tt,referralCampaign:ut,isPodcast:!0,includePinnedPosts:!0,launchWelcomePage:Do,noBalanceHeroText:we}),(0,s.h)(W.Z,{path:"/podcast/archive",blurbs:be,user:Re,newPosts:it,topPosts:rt,communityPosts:dt,searchPosts:Le,pub:Te,freeSignupEmail:Ke,freeSignup:Be,isPodcast:!0,metadata:Oe({title:Co`Podcast Archive - ${Te.name}`,description:Co`Full archive of all the episodes from ${Te.name}.`},!!(Le||(0,m.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,s.h)($.t,{path:"/s/:slug",blurbs:be,user:Re,freeSignupEmail:Ke,freeSignup:Be,hide_intro_popup:Dt,pub:Te,pinnedPosts:st,newPosts:it,latestSectionPosts:at,section:Te.section,referralCampaign:ut,launchWelcomePage:Do,noBalanceHeroText:we,skipIntoPopupRender:Ze}),(0,s.h)(W.Z,{path:"/archive",user:Re,newPosts:it,topPosts:rt,communityPosts:dt,searchPosts:Le,pub:Te,freeSignupEmail:Ke,freeSignup:Be,metadata:Oe({title:Co`Archive - ${Te.name}`,description:Co`Full archive of all the posts from ${Te.name}.`},!!(Le||(0,m.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,s.h)(W.Z,{path:"/s/:slug/archive",user:Re,newPosts:it,topPosts:rt,communityPosts:dt,searchPosts:Le,pub:Te,freeSignupEmail:Ke,freeSignup:Be,sectionId:Ve==null?void 0:Ve.id,metadata:Oe({title:Co`Archive - ${Ve==null?void 0:Ve.name} of ${Te.name}`,description:Co`Full archive of all the posts from ${Ve==null?void 0:Ve.name} of ${Te.name}.`},!!(Le||(0,m.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,s.h)(W.Z,{path:"/listen/:sectionSlug/archive/",user:Re,newPosts:it,topPosts:rt,communityPosts:dt,searchPosts:Le,pub:Te,freeSignupEmail:Ke,freeSignup:Be,sectionId:Ve==null?void 0:Ve.id,metadata:Oe({title:go("Podcast Archive - %1",(0,u.getSectionPodcastSettings)({pub:Te,section:Te.section}).title),description:go("Full archive of all the episodes from %1.",(0,u.getSectionPodcastSettings)({pub:Te,section:Te.section}).title)},!!(Le||(0,m.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,s.h)(ee.Z,{path:"/t/:slug",user:Re,freeSignupEmail:Ke,freeSignup:Be,pub:Te,tagPagePreloads:oo}),(0,s.h)(W.Z,{default:!0,title:go("Page not found"),user:Re,newPosts:it,topPosts:rt,communityPosts:dt,searchPosts:Le,pub:Te,freeSignupEmail:Ke,freeSignup:Be}),(0,s.h)(r.Z,{path:"/tos",html:Te.tos_content_html||go("Terms of Service"),metadata:{title:go("Terms of Service")}},(0,s.h)(_.xv.B3,{translated:!0,as:"p",paddingBottom:32},"You agree to the terms of service below, and the"," ",(0,s.h)("a",{href:(0,m.getSubstackTermsUrl)(),native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,s.h)(r.Z,{path:"/privacy",html:Te.privacy_content_html||go("Privacy Policy"),metadata:{title:go("Privacy Policy")}},(0,s.h)(_.xv.B3,{translated:!0,as:"p",paddingBottom:32},"You agree to the privacy policy below, and the"," ",(0,s.h)("a",{href:(0,m.getSubstackPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,s.h)(r.Z,{path:"/disclosures",html:Te.disclosures_content_html||go("Disclosures"),metadata:{title:go("Disclosures")}}),(0,s.h)(o.ZP,{path:"/welcome",publication:Te,post:null,user:Re,freeSignup:Be,freeSignupEmail:Ke,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,s.h)(o.ZP,{path:"/podcast",publication:Te,post:null,referralCode:bt,user:Re,freeSignup:Be,freeSignupEmail:Ke,coupon:Fe,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,s.h)(k.Z,{pub:Te,path:"/invite",user:Re,freeSignup:Be,freeSignupEmail:Ke}),(0,s.h)(Q.Z,{path:"/invite-success/:id",pub:Te,user:Re,post:qe,freeSignup:Be,freeSignupEmail:Ke}),(0,s.h)(G.Z,{path:"/invite-reject-success/:id",pub:Te,user:Re,post:qe}),(0,s.h)(F.Z,{path:"/finish-invite/:id",pub:Te,user:Re,freeSignup:Be,freeSignupEmail:Ke}),(0,s.h)(F.Z,{path:"/finish-post-invite/:id",pub:Te,post:qe,user:Re,freeSignup:Be,freeSignupEmail:Ke,inviteToPost:!0,primaryEligiblePublications:Zt||[],switchAccountRedirectUrl:co}),(0,s.h)(ce.Z,{path:"/recommendations",pub:Te,user:Re,recommendations:Ot,allSubscribedPubs:It,fullySubscribedPubs:Kt,freeSignupEmail:Ke}),(0,s.h)(ue.C,{path:"/sitemap",pub:Te,sitemapHeader:qt,sitemapDescription:Lt,sitemapLinks:wt}),(0,s.h)(ue.C,{path:"/sitemap/:year",pub:Te,sitemapHeader:qt,sitemapDescription:Lt,sitemapLinks:wt}),(0,s.h)(B.Z,{path:"/about",pub:Te,user:Re,freeSignup:Be,freeSignupEmail:Ke,subscribeContent:Ut,people:Wt,metadata:{title:Co`About - ${Te.name}`}}),(0,s.h)(oe.s,{path:"/p/:slug",user:Re,freeSignupEmail:Ke,freeSignup:Be,referralCode:bt,post:qe,truncatedPost:pt,publication:Te,renderedComments:jo,inlineComments:ct,reaction_token:$t,hide_intro_popup:Dt,stripe_publishable_key:zt,readerIsSearchCrawler:To,selectionFromQuery:fe,embeddedPublications:ze,siteConfigs:Ce,freeTrialCoupon:Je,publicationSettings:Gt,bannedFromNotes:xt,themeVariables:Xe,referringUser:Fo,clip:wo,launchWelcomePage:Do,recentEpisodes:bo,trackFrontendVisit:uo}),(0,s.h)(R.H,{path:"/cp/:post_id",user:Re,freeSignupEmail:Ke,freeSignup:Be,post:qe,publication:Te,introText:kt,crossPostedPub:ro,crossPostingByLine:mo,userWithCrossPostedPubContext:Oo,crossPostedPublicationSettings:Po,crossPostedSiteConfig:Io}),(0,s.h)(Ee.v,{path:"/listen",pub:Te,user:Re||null,openInNewTab:!0,idToMagicLink:At}),(0,s.h)(a.l,{path:"/newsletters",pub:Te,user:Re!=null?Re:null}),(0,s.h)(ie.Z,{path:"/p/:slug/media-assets",post:qe,publication:Te,themeVariables:Xe}),ct?(0,s.h)(oe.s,{path:"/p/:slug/comments",user:Re,freeSignupEmail:Ke,freeSignup:Be,referralCode:bt,post:qe,truncatedPost:pt,publication:Te,renderedComments:jo,inlineComments:ct,reaction_token:$t,hide_intro_popup:Dt,stripe_publishable_key:zt,readerIsSearchCrawler:To,selectionFromQuery:fe,siteConfigs:Ce,freeTrialCoupon:Je,bannedFromNotes:xt,themeVariables:Xe}):(0,s.h)(K.rf,{path:"/p/:slug/comments",user:Re,freeSignupEmail:Ke,freeSignup:Be,post:qe,publication:Te,post_reaction_token:$t,commentId:de,freeTrialCoupon:Je,initialComments:no,bannedFromNotes:xt}),!ct&&(0,s.h)(K.rf,{path:"/p/:slug/comment/:comment_id",user:Re,freeSignupEmail:Ke,freeSignup:Be,post:qe,publication:Te,post_reaction_token:$t,commentId:de,freeTrialCoupon:Je,initialComments:no,bannedFromNotes:xt}),(0,s.h)(w.E,{path:"/rewards/receive",pub:Te,user:Re,freeSignupEmail:Ke,viral_gift_data:Vt}),(0,s.h)(S.Z,{path:"/embed",pub:Te,user:Re,freeSignup:Be,freeSignupEmail:Ke}),(0,s.h)(j.Z,{path:"/embed/test",pub:Te,user:Re,freeSignup:Be,freeSignupEmail:Ke}),(0,s.h)(N.Z,{path:"/embed/podcast/:slug",pub:Te}),(0,s.h)(H.Z,{path:"/embed/video/:slug",pub:Te}),(0,s.h)(x.Z,{path:"/f/:fileId",pub:Te,user:Re,hide_subscribe_cta:!0,file:yt}),Ce.live_events&&(0,s.h)(A.cr,{module:"../live_events",onRequest:()=>Promise.all([t.e(7264),t.e(7602)]).then(t.bind(t,87602)),resolve:Mt=>Mt.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:Te,user:Re}),(0,s.h)(U.MQ,{path:"/chat",publication:Te,user:Re}),(0,s.h)(U.wi,{path:"/chat/posts/:postId",publication:Te,communityAction:Ne,user:Re,appModalOpenByDefault:Jt}),(0,s.h)(U.JU,{path:"/chat/replies/:commentId",publication:Te,communityAction:Ne,user:Re,appModalOpenByDefault:Jt}),(0,s.h)(se.G,{path:"/survey/:surveyId",pub:Te,user:Re}),Ce.meetings_v1&&(jt||(Re==null?void 0:Re.is_author))&&(0,s.h)(z.T,{path:"/meetings",exact:!0,pub:Te,user:Re,settings:lo}),Ce.meetings_v1&&(jt||(Re==null?void 0:Re.is_author))&&(0,s.h)(J.N,{path:"/meetings/book",pub:Te,user:Re,stripe_publishable_key:zt,order:to,settings:lo}),Ce.meetings_v1&&(to||jt||(Re==null?void 0:Re.is_author))&&(0,s.h)(J.N,{path:"/meetings/book/:order_id?",pub:Te,user:Re,stripe_publishable_key:zt,order:to,settings:lo}),(0,s.h)(q.A,{pub:Te,user:Re,freeSignupEmail:Ke,path:"/leaderboard"}),(0,s.h)(p.V,{path:"/notes"})),(0,s.h)(l.qE,{path:"/"},({path:Mt})=>!Mt.startsWith("/welcome")&&!Mt.startsWith("/embed")&&!Mt.startsWith("/subscribe")&&!Mt.startsWith("/meetings")&&!Mt.startsWith("/chat")&&(0,s.h)(c.$,{publication:Te,user:Re,showIntrinioAttrib:qe&&qe.hasCashtag,path:Mt})),(0,s.h)(l.qE,{path:"/"},({path:Mt})=>!Mt.startsWith("/embed")&&(0,s.h)(s.Fragment,null,xo&&(0,s.h)(ne.v,{onSubdomain:!0}))),null))}}function Pe({user:ye}){const Fe=(0,L.S)({user:ye});return(0,O.d4)(()=>{const Ze=new URLSearchParams(location.search);if(Ze.get("reaction")==="\u2764"){Fe(),Ze.delete("reaction");const Te=Ze.toString();history.replaceState({},document.title,location.pathname+(Te&&`?${Te}`))}},[]),null}function De({user:ye,pub:Fe}){return(0,g.c)({user:ye,pub:Fe}),null}function We(){return(0,f.C)(),null}},89639:(Y,C,t)=>{t.d(C,{Z:()=>E});var e=t(6400),s=t(80569),O=t.n(s),T=t(85928),D=t.n(T),v=t(83322),P=t(7922),M=t(8925),l=t(17025),_=t.n(l),m=(c,r,o)=>new Promise((n,a)=>{var i=f=>{try{p(o.next(f))}catch(u){a(u)}},d=f=>{try{p(o.throw(f))}catch(u){a(u)}},p=f=>f.done?n(f.value):Promise.resolve(f.value).then(i,d);p((o=o.apply(c,r)).next())});class E extends e.Component{constructor(){super(...arguments),this.state={loading:!0,invites:[]},this.onSuccess=()=>m(this,null,function*(){alert("Invite sent!"),document.location.reload()})}componentDidMount(){if(!this.hasInvites()){(0,l.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:r,user:o}=this.props;return r.invite_only?o&&o.is_contributor?!0:!(!(r.subscriber_invites>0)||!(o&&o.is_subscribed)):!1}loadInvites(){return m(this,null,function*(){try{const r=yield O().get("/api/v1/publication/invite");this.setState({invites:r.body,loading:!1})}catch(r){console.error("Failed to fetch invites:",r),alert((0,l.getNetworkErrorMessage)(r))}})}render({pub:r,user:o},{loading:n,invites:a}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const i=o&&o.is_contributor,d=Math.max(o&&o.invites,a.length),p=Math.max(d,r.subscriber_invites),f=p-d;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,r.name," is invite-only, but you\u2019ve been granted"," ",i?"an infinite number of invites":(0,v.pluralize)(p,"invite")," to give out."),(f>0||i)&&[!i&&(0,e.h)("h5",null,"You have ",(0,v.pluralize)(f,"invite")," left"),(0,e.h)(M.ZP,{ref:u=>this.form=u,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(P.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],n&&d>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):a.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,a.sort((u,g)=>new Date(g.created_at)-new Date(u.created_at)).map(u=>(0,e.h)("li",null,u.inviteeUser&&u.inviteeUser.name||""," on"," ",D()(u.created_at).standardDate())))]:null))}}},13066:(Y,C,t)=>{t.d(C,{Z:()=>v});var e=t(6400),s=t(52743),O=t(84040),T=t(51126),D=t(43887);function v({pub:P,post:M}){return(0,e.h)(T.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(T.tu,{alignItems:"center",gap:4},(0,e.h)(T.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(D.xv.H1,null,"You rejected your invite to ",P.name)),(0,e.h)(D.xv.B3,null,"If you change your mind, you can accept from your email invitation."),M.is_published?(0,e.h)(D.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,s.getPostUrl)(P,M)},M.title)):null),(0,e.h)(O.zx,{href:P.base_url},`Go to ${P.name}`))}},54811:(Y,C,t)=>{t.d(C,{Z:()=>M});var e=t(6400),s=t(30396),O=t(65726),T=t(77190),D=t(84040),v=t(51126),P=t(43887);function M({pub:l,user:_,post:m,freeSignup:E,freeSignupEmail:c}){const r=(0,s.sO)(null),o=()=>r.current&&r.current.open();if(!m)return(0,e.h)(v.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",l.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(O.Z,{onClick:o},"profile is up to date")),(0,e.h)(T.EB,{ref:r,user:_,freeSignup:E,freeSignupEmail:c,needsPhoto:!0})));const n=m.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",a="Your profile is set up and good to go!";return(0,e.h)(v.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(v.tu,{alignItems:"center",gap:4},(0,e.h)(v.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(P.xv.H1,null,n)),(0,e.h)(P.xv.B3,null,a)),(0,e.h)(D.zx,{href:l.base_url},`Go to ${l.name}`))}},35884:(Y,C,t)=>{t.d(C,{A:()=>Q});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(32224),v=t(25380),P=t(46621),M=t(80569),l=t.n(M),_=t(72903),m=t(78041),E=t(59736),c=t(80332),r=t(67023),o=t(3258),n=t(17025),a=t.n(n),i=t(13045),d=t(4508),p=t(84040),f=t(51126),u=t(43887),g=t(75425),y=t(97868),L=t(9178),b=t(52743),I=t(20501),A=t(59009),U=t(4190),B=t(28488),W=t(72496),Z=t(8479),K=t(86505),R=Object.defineProperty,S=Object.defineProperties,N=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,F=(q,z,J)=>z in q?R(q,z,{enumerable:!0,configurable:!0,writable:!0,value:J}):q[z]=J,w=(q,z)=>{for(var J in z||(z={}))H.call(z,J)&&F(q,J,z[J]);if(j)for(var J of j(z))x.call(z,J)&&F(q,J,z[J]);return q},V=(q,z)=>S(q,N(z)),$=(q,z,J)=>new Promise((te,oe)=>{var ie=ce=>{try{ue(J.next(ce))}catch(Ee){oe(Ee)}},re=ce=>{try{ue(J.throw(ce))}catch(Ee){oe(Ee)}},ue=ce=>ce.done?te(ce.value):Promise.resolve(ce.value).then(ie,re);ue((J=J.apply(q,z)).next())});const k=(q,z)=>{(0,o.track)(o.EVENTS.SHARE_LINK_CLICKED,{name:z,source:"leaderboard"}),q&&(q.startsWith("http")?window.open(q,"_blank"):document.location.href=q)},G=({user:q,rank:z,referrals:J,isSelf:te,isHighlighted:oe})=>{const{iString:ie}=(0,B.M1)();return(0,e.h)(u.xv,{as:q?"a":"div",href:q?(0,I.getProfileUrlById)(q.id,q.name):void 0,className:K.Z.referrerLink},(0,e.h)(f.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:te||oe?"detail-themed":"transparent",radius:12,paddingLeft:12,paddingY:te?16:8,paddingRight:20,justifyContent:"space-between",className:T()(K.Z.referrerRow,{[K.Z.referrerRowInverted]:!te})},(0,e.h)(f.gq,{gap:8,alignItems:"center"},(0,e.h)(u.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},z,"."),q?(0,e.h)(c.ProfileHoverCard,{subject:q,dontStopPropagation:!1},(0,e.h)(y.qE,{size:36,user:q})):(0,e.h)(y.qE,{size:36,showProfileHovercard:!1}),(0,e.h)(u.xv.B4,{color:"primary-themed",weight:"semibold"},(q==null?void 0:q.name)||ie("Anonymous Reader"))),(0,e.h)(u.xv.B4,{color:"primary-themed",weight:"semibold"},J)))},Q=({pub:q,user:z,freeSignupEmail:J})=>{const{iString:te,iTemplate:oe,iPlural:ie}=(0,B.M1)(),{getExperimentVariant:re,exposeExperiment:ue}=(0,U.jc)(),ce=(0,g.pm)(),{result:Ee,isLoading:se,refetch:ne}=(0,Z.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0}),{refetch:ee}=(0,Z.Q1)({auto:!1,pathname:"/api/v1/subscription/visibilities",method:"post"});if((0,s.d4)(()=>{!se&&!Ee&&(0,n.redirect)((0,I.getBaseUrl)(q))},[Ee,se,q]),se||!Ee)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:ae,tiers:he,top_referrers:me,current_user_can_share:ge,current_user_id:ve,current_user_profile_hidden:Oe}=Ee,Me=z==null?void 0:z.is_admin,Pe=z==null?void 0:z.is_contributor,De=(0,b.getQueryItem)("referrer_token"),We=z&&!z.is_magic&&z.email||J||null,ye=(0,I.pathWithQuery)((0,I.getBaseUrl)(q),{r:(ve==null?void 0:ve.toString(36))||De});let Fe,Ze;he.find((Ve,Re)=>{const Ue=(ae==null?void 0:ae.referrals)||0,Be=he[Re+1];Ue>=Ve.num_referrals_required&&(!Be||Ue<Be.num_referrals_required)&&(Fe=Ve,Ze=Be)});let Te="";return!Fe&&ae?Te=`${ie("You have %1 referral","You have %1 referrals",ae.referrals)} - ${ie("only %1 more referral to earn your first reward!","only %1 more referrals to earn your first reward!",he[0].num_referrals_required-ae.referrals)}`:Fe&&Ze&&ae?Te=`${ie("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",ae.referrals)} ${oe`You’ve qualified for the Tier ${Fe.display_order} reward.`} ${ie("Invite %1 more reader to earn the Tier %2 reward!","Invite %1 more readers to earn the Tier %2 reward!",Ze.num_referrals_required-ae.referrals,Ze.display_order)}`:Fe&&!Ze&&ae&&(Te=`${ie("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",ae.referrals)} You\u2019re number #${ae.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(f.tu,{gap:64,className:K.Z.wrapper},(Me||Pe)&&(0,e.h)(f.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:12},(0,e.h)(f.tu,{gap:4},(0,e.h)(u.xv.Meta,{color:"pub-primary-text"},Me?"Admin View":"Contributor View"),(0,e.h)(u.xv.B4,{color:"pub-secondary-text"},te(Me?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard."))),Me&&(0,e.h)(p.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},te("Edit Referral Settings"))),(0,e.h)(f.tu,{alignItems:"center"},(0,e.h)(f.tu,{gap:24,className:K.Z.headerWrapper,alignItems:"center"},(0,e.h)(d.xu,null,(0,e.h)(L.F,{pub:q,size:64})),(0,e.h)(f.tu,{alignItems:"center",gap:4},(0,e.h)(u.xv,{className:K.Z.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},ge||De?oe`Refer friends to ${q.name}`:oe`Subscribe and invite friends to ${q.name}`),(0,e.h)(u.xv.B3,{translated:!0,color:"pub-secondary-text",textAlign:"center",className:K.Z.introText},"Show your support by sharing ",I18N.p(q.name)," and earn rewards for your referrals.")),!ge&&!De&&!(Pe||Me)&&(0,e.h)(f.tu,{style:{width:"100%"}},(0,e.h)(p.zx,{grow:!0,priority:"primary-theme",onClick:Ve=>$(void 0,null,function*(){Ve.preventDefault();let Re;try{We&&(Re=(yield l().post("/api/v1/free").send({source:"referral-leaderboard",email:We,first_url:W.xY,first_referrer:W.ip,current_url:W.UE,current_referrer:W.xU})).body.referral_token,(0,o.signup)())}catch(Ue){(0,o.track)(o.EVENTS.FREE_SIGNUP_FAILED,{reason:Ue.message,source:"referral-leaderboard"})}window.location.href=(0,I.getSubscribeUrl)(q,{addBase:!0,params:{simple:!0,next:document.location.href,utm_source:A.UTM_SOURCE.referralLeaderboard,utm_medium:A.UTM_MEDIUM.web,skip_redirect_check:!0,just_signed_up:!0,referral_token:Re}})}),href:(0,I.pathWithQuery)("/subscribe",{next:(0,I.getLeaderboardUrl)(q,void 0,{addBase:!0}),utm_source:A.UTM_SOURCE.referralLeaderboard}),localNavigation:!1},(0,e.h)(f.gq,{alignItems:"center",gap:8},(0,e.h)(D.Z,{size:20}),te("Subscribe")))))),(ge||Pe||Me||De)&&(0,e.h)(f.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(f.gq,{style:{width:"100%"}},(0,e.h)(i.oi,{className:K.Z.copyLinkInput,readOnly:!0,value:ye}),(0,e.h)(p.zx,{className:K.Z.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,o.track)(o.EVENTS.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,n.copyToClipboard)(ye),ce.popToast(Ve=>(0,e.h)(g.FN,V(w({},Ve),{Icon:v.Z,text:te("Link copied to clipboard")})))}},te("Copy link"))),(0,e.h)(f.hs,{className:K.Z.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(p.zx,{className:K.Z.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(E.Z,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>k((0,b.getTwitterShareUrl)({url:ye,text:q.name}),"twitter")},"Twitter"),(0,e.h)(p.zx,{className:K.Z.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(m.Z,{height:20,width:20}),onClick:()=>k((0,I.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:ye}),"facebook")},"Facebook"),(0,e.h)(p.zx,{className:K.Z.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(_.Z,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>k((0,I.pathWithQuery)("mailto:",{subject:q.name,body:ye}),"email")},"Email"))),(0,e.h)(f.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(u.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(f.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},he.map(Ve=>(0,e.h)(r.Z,{key:Ve.display_order,tier:Ve,isSelected:Ve.display_order===(Fe==null?void 0:Fe.display_order)}))),ge&&ae&&(0,e.h)(f.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(G,{user:z,isSelf:!0,referrals:ae.referrals,rank:ae.rank}),!Oe&&(0,e.h)(u.xv.B4,{color:"pub-secondary-text"},Te),Oe&&(0,e.h)(f.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:"detail-themed",radius:12,paddingX:12,paddingY:16,justifyContent:"space-between",bg:"secondary",gap:32},(0,e.h)(f.tu,{textAlign:"left",gap:4},(0,e.h)(u.xv.B4,{translated:!0,weight:"semibold",color:"pub-primary-text"},"Your subscription is private"),(0,e.h)(u.xv.B4,{translated:!0,color:"pub-secondary-text"},"To appear on the leaderboard, turn on visibility for ",I18N.p(q.name))),(0,e.h)(p.zx,{fill:"outline",priority:"primary-theme",onClick:()=>$(void 0,null,function*(){yield ee({body:{ids:[Ee.current_user_subscription_id],visibility:"public"}}),ne(),ce.popToast(Ve=>(0,e.h)(g.FN,V(w({},Ve),{text:`${q.name} is now visible on your profile!`})))})},te("Show on profile"))))),(0,e.h)(f.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(u.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(me==null?void 0:me.length)===0&&(0,e.h)(f.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:12},(0,e.h)(P.Z,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(u.xv.B4,{color:"pub-secondary-text"},oe`No referrers yet. Be the first on ${q.name}'s leaderboard by helping them find new readers.`)),(me==null?void 0:me.length)>0&&(0,e.h)(f.tu,{gap:8,style:{width:"100%"}},(0,e.h)(f.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(u.xv.Meta,{translated:!0,weight:"semibold"},"Referrer"),(0,e.h)(u.xv.Meta,{translated:!0,weight:"semibold"},"Referrals")),me==null?void 0:me.map(Ve=>(0,e.h)(G,{key:Ve.rank,user:Ve.user,isHighlighted:Ve.isCurrentUser,rank:Ve.rank,referrals:Ve.referrals})))))))}},54035:(Y,C,t)=>{t.d(C,{P:()=>M});var e=t(6400),s=t(71375),O=t(52743),T=t(17025),D=t.n(T),v=t(84040),P=t(55571);const M=({pub:l})=>{const _=()=>{const m=(0,O.getQueryItem)("referrer"),E=m!=null?m:(0,O.getPubUrl)(l);(0,T.redirect)(E,{local_navigation:!1})};return(0,e.h)(v.hU,{onClick:_,className:P.Z.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(s.Z,{className:P.Z.closeIcon}))}},26392:(Y,C,t)=>{t.d(C,{G:()=>P});var e=t(6400),s=t(39776),O=t(51126),T=t(97868),D=t(9178),v=t(55571);const P=({pub:M,user_id:l,user_profile_photo_url:_,children:m})=>(0,s.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(O.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(D.F,{className:v.Z.pubLogo,pub:M,size:112}),m):(0,e.h)(O.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:v.Z.avatarWithPubLogo},(0,e.h)(T.qE,{className:v.Z.avatar,user:{id:l,photo_url:_},size:112}),(M.logo_url||M.cover_photo_url)&&(0,e.h)(D.F,{className:v.Z.pubIcon,pub:M,size:40})),m)},38886:(Y,C,t)=>{t.d(C,{z:()=>b});var e=t(6400),s=t(99869),O=t(45609),T=t(85928),D=t.n(T),v=t(20501),P=t(83322),M=t(17025),l=t.n(M),_=t(84040),m=t(51126),E=t(43887),c=t(75425),r=t(48550),o=Object.defineProperty,n=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(I,A,U)=>A in I?o(I,A,{enumerable:!0,configurable:!0,writable:!0,value:U}):I[A]=U,u=(I,A)=>{for(var U in A||(A={}))d.call(A,U)&&f(I,U,A[U]);if(i)for(var U of i(A))p.call(A,U)&&f(I,U,A[U]);return I},g=(I,A)=>n(I,a(A));const y=(I,A,U)=>{var B,W,Z,K,R,S,N,j,H,x,F,w,V,$,k,G,Q,q,z,J,te,oe,ie,re,ue,ce,Ee,se,ne,ee,ae,he,me;return!((B=I.location)!=null&&B.location)&&!((W=I.location)!=null&&W.join_url)?A&&U?{href:(0,v.getMeetingOrderUrl)(U,I.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(Z=I.location)==null?void 0:Z.join_url,copyContent:(K=I.location)==null?void 0:K.join_url,label:"Join Zoom"},zoom_conference:{href:(R=I.location)==null?void 0:R.join_url,copyContent:(S=I.location)==null?void 0:S.join_url,label:"Join Zoom"},google:{href:(N=I.location)==null?void 0:N.join_url,copyContent:(j=I.location)==null?void 0:j.join_url,label:"Join Meet"},google_conference:{href:(H=I.location)==null?void 0:H.join_url,copyContent:(x=I.location)==null?void 0:x.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(F=I.location)==null?void 0:F.location}`,copyContent:(w=I.location)==null?void 0:w.location,label:(V=I.location)==null?void 0:V.location},outbound_call:{href:null,label:`${(0,P.guessFirstName)(I.user_name)} will call you at ${($=I.location)==null?void 0:$.location}`},microsoft_teams:{href:(k=I.location)==null?void 0:k.join_url,copyContent:(G=I.location)==null?void 0:G.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(Q=I.location)==null?void 0:Q.join_url,copyContent:(q=I.location)==null?void 0:q.join_url,label:"Join Teams"},webex:{href:(z=I.location)==null?void 0:z.join_url,copyContent:(J=I.location)==null?void 0:J.join_url,label:"Join Webex"},webex_conference:{href:(te=I.location)==null?void 0:te.join_url,copyContent:(oe=I.location)==null?void 0:oe.join_url,label:"Join Webex"},gotomeeting:{href:(ie=I.location)==null?void 0:ie.join_url,copyContent:(re=I.location)==null?void 0:re.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(ue=I.location)==null?void 0:ue.join_url,copyContent:(ce=I.location)==null?void 0:ce.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(se=(Ee=I.location)==null?void 0:Ee.location)!=null?se:"Unknown"},ask_invitee:{href:null,label:(ee=(ne=I.location)==null?void 0:ne.location)!=null?ee:"Unknown"},custom:{href:null,label:(he=(ae=I.location)==null?void 0:ae.location)!=null?he:"Unknown"}}[(me=I.location)==null?void 0:me.type]||{}},L=({order:I,isStatic:A=!1,pub:U=null})=>{const B=(0,c.pm)(),{href:W,label:Z,copyContent:K}=y(I,A,U),R=(0,e.h)(E.xv.B3,{align:"right"},W?(0,e.h)("a",{href:W},Z):Z);return A||!K?R:(0,e.h)(m.gq,{gap:4,alignItems:"center"},R,(0,e.h)(_.hU,{size:24,onClick:()=>{(0,M.copyToClipboard)(K),B.popToast(S=>(0,e.h)(c.FN,g(u({},S),{Icon:s.Z,text:"Invite link copied"})))}},(0,e.h)(O.Z,{height:20})))},b=({order:I,pub:A})=>{const U=D()(I.start_time),B=D()(I.end_time),W=`${U.format("MMMM D, YYYY")} at ${U.format("h:mm A z")}`,Z=B.diff(U,"minute");return(0,e.h)(m.tu,{gap:8,className:r.Z.meetingDetails},(0,e.h)(m.gq,{justifyContent:"space-between",gap:8},(0,e.h)(E.xv.B3,{weight:"bold"},"Time"),(0,e.h)(E.xv.B3,null,W)),(0,e.h)(m.gq,{justifyContent:"space-between",gap:8},(0,e.h)(E.xv.B3,{weight:"bold"},"Length"),(0,e.h)(E.xv.B3,null,Z," minutes")),(0,e.h)(m.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(E.xv.B3,{weight:"bold"},"Location"),(0,e.h)(L,{order:I,pub:A})),(0,e.h)(E.xv.B3,{align:"center",className:r.Z.description,paddingTop:16},(0,e.h)("i",null,I.description)))}},81879:(Y,C,t)=>{t.d(C,{T:()=>E});var e=t(6400),s=t(52743),O=t(20501),T=t(39776),D=t(17025),v=t.n(D),P=t(84040),M=t(51126),l=t(43887),_=t(26392),m=t(38886);const E=({booking:c,settings:r,pub:o})=>{const n=(0,T.getConfigFor)("meetings_embed_publication_name")?o.name:c.user_name;return c.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(_.G,{pub:o,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(l.xv.H2,{align:"center"},"Your meeting with ",n," has been cancelled")),c.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(l.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(l.xv.B4,{align:"center",paddingBottom:32},c.cancellation_reason)),c.refunded_at&&(0,e.h)(l.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),r.enabled&&(0,e.h)(l.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,O.getMeetingsUrl)(o,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(_.G,{pub:o,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(l.xv.H2,{align:"center"},"Your meeting with ",n," has been ",c.num_rebookings>0?"rebooked":"booked")),(0,e.h)(M.tu,{gap:16,alignItems:"center"},(0,e.h)(m.z,{order:c,pub:o}),(0,e.h)(l.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),c.refunded_at&&(0,e.h)(l.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(P.zx,{onClick:()=>{const a=(0,s.getQueryItem)("referrer"),i=a!=null?a:(0,s.getPubUrl)(o);(0,D.redirect)(i,{local_navigation:!1})}},"Done")))}},49127:(Y,C,t)=>{t.d(C,{K:()=>f});var e=t(6400),s=t(30396),O=t(78718),T=t.n(O),D=t(71375),v=t(80569),P=t.n(v),M=t(44043),l=t(83322),_=t(8925),m=t(65352),E=t(3258),c=t(39776),r=t(13045),o=t(14105),n=t(92630),a=t(94311),i=t(26392),d=t(88596),p=(u,g,y)=>new Promise((L,b)=>{var I=B=>{try{U(y.next(B))}catch(W){b(W)}},A=B=>{try{U(y.throw(B))}catch(W){b(W)}},U=B=>B.done?L(B.value):Promise.resolve(B.value).then(I,A);U((y=y.apply(u,g)).next())});const f=({stripe_publishable_key:u,onComplete:g,user:y,pub:L,booking:b,settings:I})=>{const[A,U]=(0,s.eJ)(b.name),[B,W]=(0,s.eJ)(b.description),[Z,K]=(0,s.eJ)(null),[R,S]=(0,s.eJ)(null),[N,j]=(0,s.eJ)(null),[H,x]=(0,s.eJ)(null),[F,w]=(0,s.eJ)(!1),[V,$]=(0,s.eJ)(null);(0,s.d4)(()=>{const ce=(0,_.lQ)(u,L),Ee=ce&&(0,_.UD)(ce);S(ce),j(Ee)},[L,u,S,j]),(0,s.d4)(()=>{(0,E.track)(M.F.MEETING_ORDER_PAGE_VIEWED,{user_id:y.id,publication_id:L.id})},[]),(0,s.d4)(()=>{(()=>p(void 0,null,function*(){var Ee;const se=yield P().get("/api/v1/subscription/last4");(Ee=se.body)!=null&&Ee.last4&&x(se.body.last4)}))()},[L]);const k=I.selected_event_type,{price:G,duration:Q,subscriber_price:q,founding_price:z,currency:J}=k;let te=G;y.is_subscribed&&q&&(te=q),y.is_founding&&z&&(te=z);const oe=!!(y!=null&&y.has_saved_payment),ie=(0,s.I4)(()=>p(void 0,null,function*(){return R?yield R.createToken(N):{token:null,error:{message:""}}}),[R,N]),re=(0,s.I4)(()=>p(void 0,null,function*(){var ce,Ee,se,ne;w(!0),$(null);let ee;if(!oe){const{token:me,error:ge}=yield ie();if(ge){w(!1),$(ge&&ge.message),(0,E.track)(M.F.MEETING_MISSING_PAYMENT,{type:ge&&ge.type,code:ge&&ge.code,decline_code:ge&&ge.decline_code,reason:ge&&ge.message});return}ee=me}const ae=new FormData;ae.append("name",A),ae.append("description",B),ee&&ae.append("stripe_token",JSON.stringify(ee)),Z&&ae.append("attachment",Z);const he=Intl.DateTimeFormat().resolvedOptions().timeZone;he&&ae.append("timezone",he),(0,E.track)(M.F.MEETING_SUBMIT_PRESSED,{publication_id:L.id,user_id:y.id});try{const me=yield P().post("/api/v1/meetings/book").send(ae);history.pushState({},"",`/meetings/book/${me.body.order_id}`),g("schedule",T()(me.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(me){(Ee=(ce=me.response)==null?void 0:ce.body)!=null&&Ee.error?$((ne=(se=me.response)==null?void 0:se.body)==null?void 0:ne.error):$("Something went wrong.")}w(!1)}),[A,B,ie,Z,w,$]),ue=!!A&&!!B;return(0,e.h)(e.Fragment,null,(0,e.h)(i.G,{pub:L,user_id:I.user_id,user_profile_photo_url:I.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(r.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(r.xv.H2,{align:"center",paddingTop:4},(0,c.getConfigFor)("meetings_embed_publication_name")?L.name:I.user_name),(0,e.h)(r.xv.B3,{align:"center",paddingTop:8},te<G&&(0,e.h)("span",{className:d.Z.originalPrice},(0,l.centsToPriceString)(G,J)),(0,l.centsToPriceString)(te,J)," \xB7 ",Q,"-minute meeting"))),(0,e.h)(r.tu,{gap:32},(0,e.h)(a.B,{alignment:"vertical",label:"Your name"},(0,e.h)(r.oi,{name:"name",value:A||"",onChange:ce=>U(ce.target.value),placeholder:"Name...",disabled:F,maxLength:500})),(0,e.h)(a.B,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(r.gx,{name:"description",value:B,onChange:ce=>W(ce.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:F})),Z?(0,e.h)("div",null,(0,e.h)(r.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(r.gq,{className:d.Z.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(D.Z,{onClick:()=>K(null),className:d.Z.fileRemoveIcon,height:24}),(0,e.h)(r.xv.B3,{className:d.Z.fileName},Z.name))):(0,e.h)("div",null,(0,e.h)(r.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(o.G,{className:d.Z.filePicker,onFileSelected:ce=>K(ce),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:d.Z.checkoutBox},oe&&(0,e.h)(r.gq,{className:d.Z.savedCard,padding:12,gap:12},(0,e.h)(m.Z,{className:d.Z.cardOnFileIcon}),(0,e.h)(r.xv.B4,null,H?`**** **** **** ${H}`:"Use card on file")),!oe&&N&&(0,e.h)(_.GP,{className:d.Z.input,element:N}),V&&(0,e.h)(r.xv.B4,{paddingTop:12,className:d.Z.errorContainer},V),(0,e.h)(r.hs,{paddingTop:12},(0,e.h)(n.u,{text:I.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:F||ue&&I.enabled,preferPlacement:"top-center",className:d.Z.errorTooltip},(0,e.h)(r.zx,{className:d.Z.button,grow:!0,type:"submit",onClick:re,disabled:F||!ue||!I.enabled},F?"Loading...":"Book meeting"))))),(0,e.h)(r.xv,{className:d.Z.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",L.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))}},403:(Y,C,t)=>{t.d(C,{P:()=>r});var e=t(6400),s=t(30396),O=t(20761),T=t(1852),D=t.n(T),v=t(80569),P=t.n(v),M=t(39776),l=t(51126),_=t(56288),m=t(43887),E=t(26392),c=(o,n,a)=>new Promise((i,d)=>{var p=g=>{try{u(a.next(g))}catch(y){d(y)}},f=g=>{try{u(a.throw(g))}catch(y){d(y)}},u=g=>g.done?i(g.value):Promise.resolve(g.value).then(p,f);u((a=a.apply(o,n)).next())});const r=({booking:o,onComplete:n,settings:a,pub:i})=>{const d="calendly",[p,f]=(0,s.eJ)(!1),[u,g]=(0,s.eJ)(!1),{duration:y}=a.selected_event_type,L=(0,M.getConfigFor)("meetings_embed_publication_name")?i.name:o.user_name,b=(0,T.useMediaQuery)({maxWidth:698});return(0,O.pv)({onEventScheduled:I=>c(void 0,null,function*(){var A,U,B;const W=(B=(U=(A=I.data)==null?void 0:A.payload)==null?void 0:U.event)==null?void 0:B.uri;f(!0);try{const Z=yield P().put(`/api/v1/meetings/order/${o.order_id}`).send({calendly_event_uri:W});yield new Promise(K=>setTimeout(K,2e3)),n("confirmation",Z.body)}catch(Z){g(!0)}})}),u?(0,e.h)(E.G,{pub:i,user_id:a.user_id,user_profile_photo_url:a.user_profile_photo_url},(0,e.h)(m.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):p?(0,e.h)(l.hs,{justifyContent:"center"},(0,e.h)(_.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(E.G,{pub:i,user_id:a.user_id,user_profile_photo_url:a.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(m.xv.H2,{align:"center"},o.num_rebookings>0?"Rebook":"Book"," your meeting with ",L),(0,e.h)(m.xv.B3,{align:"center",paddingTop:8},"Schedule your ",y,"-minute meeting"))),typeof window!="undefined"&&o.calendly_scheduling_uri&&(0,e.h)(O.KS,{iframeTitle:d,url:`${o.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:o.name||"",email:o.email,customAnswers:{a1:o.description}},styles:{minWidth:"320px",height:"700px",marginTop:b?"0px":"-66px"}}))}},27666:(Y,C,t)=>{t.d(C,{N:()=>n});var e=t(6400),s=t(30396),O=t(51126),T=t(54035),D=t(81879),v=t(49127),P=t(403),M=Object.defineProperty,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(a,i,d)=>i in a?M(a,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[i]=d,c=(a,i)=>{for(var d in i||(i={}))_.call(i,d)&&E(a,d,i[d]);if(l)for(var d of l(i))m.call(i,d)&&E(a,d,i[d]);return a},r=(a,i)=>{var d={};for(var p in a)_.call(a,p)&&i.indexOf(p)<0&&(d[p]=a[p]);if(a!=null&&l)for(var p of l(a))i.indexOf(p)<0&&m.call(a,p)&&(d[p]=a[p]);return d};const o=a=>{var i=a,{step:d}=i,p=r(i,["step"]);switch(d){case"order":return(0,e.h)(v.K,c({},p));case"schedule":return(0,e.h)(P.P,c({},p));case"confirmation":return(0,e.h)(D.T,c({},p))}},n=({stripe_publishable_key:a,pub:i,user:d,order:p,order_id:f,settings:u})=>{const g=f?p.calendly_scheduling_uri?"schedule":"confirmation":"order",[y,L]=(0,s.eJ)(g),[b,I]=(0,s.eJ)(c({name:d.name,email:d.email,description:""},p)),A=o({step:y,booking:b,settings:u,order:p,onComplete:(U,B)=>{I(c(c({},b),B)),L(U)},pub:i,stripe_publishable_key:a,user:d,orderId:f});return(0,e.h)(e.Fragment,null,(0,e.h)(T.P,{pub:i}),(0,e.h)(O.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(O.tu,{paddingX:24,gap:32,style:{width:y==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},A)))}},63703:(Y,C,t)=>{t.d(C,{T:()=>i});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(28097),v=t(17181),P=t(74806),M=t(52743),l=t(83322),_=t(3258),m=t(39776),E=t(84040),c=t(51126),r=t(43887),o=t(54035),n=t(26392),a=t(55571);const i=({pub:d,user:p,settings:f})=>{var u,g,y,L;const{selected_event_type:{price:b,subscriber_price:I,founding_price:A,currency:U,description_html:B,duration:W,num_availabilities:Z},user_name:K}=f;let R=b,S=null;((g=(u=d.plans)==null?void 0:u.length)!=null?g:0>0)&&(p!=null&&p.is_subscribed&&I&&(R=I,S="SUBSCRIBER DISCOUNT"),p!=null&&p.is_founding&&A&&(R=A,S=`${(y=(0,P.getFoundingTierName)(d)||"FOUNDING")==null?void 0:y.toUpperCase()} DISCOUNT`)),(0,s.d4)(()=>{var F,w;(0,_.track)(_.EVENTS.MEETING_PAGE_VIEWED,{publication_id:d.id,user_id:p.id,referrer:(F=(0,M.getQueryItem)("referrer"))!=null?F:null,source:(w=(0,M.getQueryItem)("source"))!=null?w:null})},[]);const N=(L=(0,M.getQueryItem)("referrer"))!=null?L:void 0,j=(0,M.updateQuery)("/meetings/book",{referrer:N}),H=Z>0,x=B?{__html:B.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(o.P,{pub:d}),(0,e.h)(c.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(c.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(n.G,{pub:d,user_id:f.user_id,user_profile_photo_url:f.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(r.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(r.xv.H2,{align:"center",paddingTop:4},(0,m.getConfigFor)("meetings_embed_publication_name")?d.name:K))),(0,e.h)(c.tu,{bg:"primary",className:T()(a.Z.offer,{[a.Z.unavailable]:!H}),radius:12,shadow:"xl",padding:20},S&&(0,e.h)("div",{className:a.Z.displayedBadge},S),(0,e.h)(c.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(c.tu,null,R&&U&&W&&(0,e.h)(e.Fragment,null,(0,e.h)(r.xv.H3,{color:H?"primary":"secondary"},W,"-minute meeting"),(0,e.h)(r.xv.B4,{color:H?"primary":"secondary",paddingTop:4},R<b&&(0,e.h)("span",{className:a.Z.originalPrice},(0,l.centsToPriceString)(b,U)),(0,l.centsToPriceString)(R,U)," \xB7"," ",H?Z>50?"Many availabilities":`${(0,l.pluralize)(Z,"slot")} available this month`:"No slots available in the next week"))),H?(0,e.h)(D.Z,{className:a.Z.check,size:28}):(0,e.h)(v.Z,{size:28,className:a.Z.disabledCheck})),(0,e.h)(r.xv.B4,{color:"secondary"},(0,e.h)("div",{className:a.Z.description,dangerouslySetInnerHTML:x}))),(0,e.h)(E.zx,{className:a.Z.button,disabled:!H,grow:!0,localNavigation:!1,href:j},H?"Continue to book":"No meetings available"))))}},28393:(Y,C,t)=>{t.d(C,{A:()=>D});var e=t(6400),s=t(52743),O=t(17025),T=t.n(O);const D=({subdomain:v})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,O.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,s.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,s.getDiscoverSearchUrl)({query:v,params:{searching:"publication"}})},'Search Substack for "',v,'"'))))},6899:(Y,C,t)=>{t.d(C,{k:()=>P,w:()=>D});var e=t(6400),s=t(52743),O=t(84040),T=t(77148);const D=(M,l)=>({logoUrl:M.podcast_art_url||M.logo_url||(0,s.getDefaultPodcastArtUrl)(),mainClickUrl:(0,s.getPodcastLandingUrl)({pub:M,section:null,addBase:!0}),buttonClickUrl:l,name:M.podcast_title||M.name,description:M.podcast_description||M.hero_text}),v=({logoUrl:M,mainClickUrl:l,buttonClickUrl:_,name:m,description:E,showButton:c,buttonText:r,openInNewTab:o=!1})=>(0,e.h)("div",{className:T.Z.childPublication},M&&(0,e.h)("img",{className:T.Z.logo,src:(0,s.imginary)(M,144),alt:`${m} logo`}),(0,e.h)("div",{className:T.Z.details},(0,e.h)("div",{className:T.Z.info},(0,e.h)("div",{className:T.Z.title},(0,e.h)("a",{className:T.Z.link,href:l},m)),(0,e.h)("div",{className:T.Z.description},E)),c&&(0,e.h)(O.zx,{priority:"primary",className:T.Z.subscribe,href:_,newTab:o},r))),P=({showButton:M,items:l,openInNewTab:_=!1,buttonText:m})=>(0,e.h)("div",{"data-testid":"child-pub-container"},l.map(E=>(0,e.h)(v,{logoUrl:E.logoUrl,mainClickUrl:E.mainClickUrl,buttonClickUrl:E.buttonClickUrl,name:E.name,description:E.description,buttonText:m,openInNewTab:_,showButton:M})))},20069:(Y,C,t)=>{t.d(C,{s:()=>re});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(3312),v=t.n(D),P=t(20042),M=t(80569),l=t.n(M),_=t(73175),m=t(21787),E=t(42208),c=t(85928),r=t.n(c),o=t(74806),n=t(6385),a=t(82771),i=t(52743),d=t(83322),p=t(2196),f=t(94456),u=t(55525),g=t(75501),y=t(49786),L=t(93804),b=t(91093),I=t(91801),A=t(37178),U=t(68419),B=t(58535),W=t(65162),Z=t(3258),K=t(90304),R=t(85346),S=t(24681),N=t(17025),j=t.n(N),H=t(10174),x=t(56005),F=t(77546),w=t(14784),V=t(9561),$=Object.defineProperty,k=Object.defineProperties,G=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,J=(ne,ee,ae)=>ee in ne?$(ne,ee,{enumerable:!0,configurable:!0,writable:!0,value:ae}):ne[ee]=ae,te=(ne,ee)=>{for(var ae in ee||(ee={}))q.call(ee,ae)&&J(ne,ae,ee[ae]);if(Q)for(var ae of Q(ee))z.call(ee,ae)&&J(ne,ae,ee[ae]);return ne},oe=(ne,ee)=>k(ne,G(ee)),ie=(ne,ee,ae)=>new Promise((he,me)=>{var ge=Me=>{try{Oe(ae.next(Me))}catch(Pe){me(Pe)}},ve=Me=>{try{Oe(ae.throw(Me))}catch(Pe){me(Pe)}},Oe=Me=>Me.done?he(Me.value):Promise.resolve(Me.value).then(ge,ve);Oe((ae=ae.apply(ne,ee)).next())});class re extends e.Component{constructor(ee,ae){super(ee,ae),this.updateSubscribeTakeover=()=>{const ge=`pub-${this.props.publication.id}-takeover-next-shown-at`,ve=(0,K.mM)(ge),Oe=!ve||Date.now()>=ve;(0,N.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(Oe&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),this.updateSubscribeTimers()):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})},this.updateSubscribeTimers=()=>{const me=this.props.publication.id,ge=`pub-${me}-subscribe-prompt-next-shown-at`,ve=`pub-${me}-takeover-next-shown-at`;(0,K.ex)(ge,r()().add(1,"hour").valueOf()),(0,K.ex)(ve,r()().add(1,"hour").valueOf()),this.setState({hideSubscribePrompt:!0})},this.onChangeComment=me=>{this.setState({comments:(0,x.fc)(this.state.comments,me)})},this.onVisible=me=>{const ge=`${me} Seen`;this.state.post&&(this.state[ge]||(this.setState({[ge]:!0}),(0,Z.track)(ge,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this._inlineComments=()=>{const{inlineComments:me,publication:ge}=this.props;return me||(0,d.shouldUseInlineComments)(ge,this.state.post||this.props.post)},this.fillEmbeddedEmailInputs=()=>{var me;const ge=document.querySelectorAll('article.post input[type="email"]'),ve=((me=this.state.user)==null?void 0:me.email)||this.props.freeSignupEmail;if(ve)for(const Oe of ge)Oe.value=ve;this.setState({embeddedEmailInputsFilled:!0})};let{user:he}=ee;this.I18N=I18N.i({pub:ee.publication}),ee.postPreview&&(he=oe(te({},he),{is_draft:!1,is_subscribed:ee.postPreview!=="free",is_founding:ee.postPreview==="founding",is_contributor:!1})),ee.post&&[ee.post.slug,ee.post.uuid].filter(me=>me).includes(ee.slug)&&!this.shouldRedirectToComments(ee.post)?this.state={post:ee.post,comments:ee.renderedComments,user:he}:this.state={post:null,comments:null,user:he}}componentDidMount(){return ie(this,null,function*(){(0,N.scrollToHash)(),this.cleanUpTikTokEnhanceListener=(0,R.G)();const ee=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(ae=>ae).includes(this.props.slug)&&this.props.post;if(this.shouldRedirectToComments(ee)?this.redirectToComments(ee):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished){(0,N.removeQueryParam)("justPublished"),(0,N.preloadImage)((0,F.zw)(this.props.publication,this.props.post)[0]);const ae=(0,F.Bb)(this.props.publication,this.props.post);ae&&(0,N.preloadImage)(ae)}(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,N.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,N.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,N.removeQueryParam)("showRestackModal"),this.props.action&&(0,N.removeQueryParam)("action"),!this.props.showWelcome&&!this.props.launchWelcomePage&&(0,N.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.showWelcome&&((0,N.removeQueryParam)("showWelcome"),this.updateSubscribeTimers()),this.props.showWelcomeOnShare&&((0,N.removeQueryParam)("showWelcomeOnShare"),this.props.launchWelcomePage&&this.updateSubscribeTimers()),this.props.selectionFromQuery&&(0,S.s)(this.props.selectionFromQuery),this.props.trackFrontendVisit&&((0,Z.track)(Z.EVENTS.POST_PAGE_VISIT_TRACKED,{post_id:ee.id}),this.context.exposeExperiment("check_for_tracking_disabled")),this.props.user||this.context.exposeExperiment("test_cached_post_page")})}componentWillUnmount(){var ee;(ee=this.cleanUpTikTokEnhanceListener)==null||ee.call(this),(0,N.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(ee){return ie(this,null,function*(){ee.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(ee){if(ee&&ee.type==="thread")return!0}redirectToComments(ee){(0,P.route)((0,i.getPostUrl)(this.props.publication,ee,{comments:!0,noBase:!0}),!0)}loadPost(){return ie(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(ee=>ee).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,N.scrollToHash)());else{this.setState({post:null,comments:null});try{const ee=yield l().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview,updated:this.props.updated,sub:this.props.sub,device:this.props.device,audience:this.props.audience,free_preview:this.props.free_preview,freemail:this.props.freemail});this.shouldRedirectToComments(ee.body)?this.redirectToComments(ee.body):(yield(0,N.setState)(this,{post:ee.body,comments:ee.body.comments,stateThemeVariables:ee.body.themeVariables}),(0,N.scrollToHash)())}catch(ee){console.error("Failed to load post:",ee),ee.status===404?this.setState({notFound:!0}):alert((0,N.getNetworkErrorMessage)(ee))}}})}triggerShareOnLoad(){if((0,i.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,i.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:ee,freeSignup:ae,freeSignupEmail:he,publication:me,reaction_token:ge,hide_intro_popup:ve,unlock:Oe,sort:Me,search:Pe,children:De,showWelcome:We,launchWelcomePage:ye,justPublished:Fe,autoSharedOnTwitter:Ze,readerIsSearchCrawler:Te,postPreview:Ve,truncatedPost:Re,selectionFromQuery:Ue,embeddedPublications:Be,siteConfigs:Ke={},freeTrialCoupon:Qe,showRestackModal:qe,action:pt,publicationSettings:st,show_reaction_upsell:it,stripe_publishable_key:rt,bannedFromNotes:Pt,themeVariables:dt,referringUser:Ne,clip:Le,recentEpisodes:Ae},{comments:je,notFound:Ie,post:xe,user:$e,showSubscribeTakeover:ft,stateThemeVariables:ot,tab:_t,hideSubscribePrompt:ct}){const{iString:at}=this.I18N,Ut=this._inlineComments(),Ft=xe!=null&&xe.audience?(0,n.userHasFullAccessToPost)($e,xe):!0,Ot=($e==null?void 0:$e.is_subscribed)&&Ft,tt=xe&&xe.slug&&xe.slug!=="coming-soon"&&xe.type!=="page",It=(0,d.commentsEnabledForPost)({publication:me,post:xe}),Kt=(0,d.showCommentsOnPost)({publication:me,post:xe}),qt=Ot||($e==null?void 0:$e.is_free_subscriber)||ae,Lt=(xe==null?void 0:xe.podcastUpload)||(xe==null?void 0:xe.videoUpload),wt=ot||dt,bt=!(xe!=null&&xe.hidden)&&((0,d.isUUID)(ee)||Ot||Te||xe&&!(0,n.isPaidAudience)(xe.audience)||xe&&!xe.slug),Dt=!!xe&&(0,o.hasFreePodcastUrl)({post:xe})&&(0,n.isPaidAudience)(xe.audience)&&!Ot,$t=!bt||($e==null?void 0:$e.is_contributor)&&xe&&(0,n.isPaidAudience)(xe.audience),zt=Fe&&($e==null?void 0:$e.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(xe.type);let Vt=!1;if(typeof window!="undefined"&&(Vt=new URLSearchParams(window.location.search).get("selectQuote")==="true"),xe!=null&&xe.is_scheduled)return(0,e.h)(V.P,{freeSignup:ae,freeSignupEmail:he,user:$e,post:xe,publication:me});const ao=(0,e.h)(ce,{commentsEnabled:It,comments:je,post:xe,slug:ee,user:$e,freeSignup:ae,freeSignupEmail:he,publication:me,reaction_token:ge,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Ut,selectionFromQuery:Ue,onChange:({post:yt})=>{this.setState({post:oe(te({},xe),{comment_count:yt.comment_count})})},bannedFromNotes:Pt}),ut=Lt?m.o:L.SO;return(0,e.h)("div",null,pt==="restack-comment"&&(0,e.h)(se,{post:xe,pub:me,selection:Ue}),(0,e.h)(Ee,{pub:me,post:xe}),ye||We||ft?(0,e.h)(g.ZP,{freeSignup:ae,freeSignupEmail:he,user:$e,post:xe,publication:me,hidden:ve,launchWelcomePage:ye,showOnMount:ye,noBalance:We||ye}):null,!Lt&&(0,e.h)(ue,{user:$e,referringUser:Ne,post:xe,publication:me,readerIsSearchCrawler:Te,publicationSettings:st}),(0,e.h)("div",{className:T()("single-post-container")},(0,e.h)("div",{className:T()({container:!Lt})},(0,e.h)("div",{className:"single-post"},(0,e.h)(F.kX,{publication:me,post:xe,clip:Le,selection:Ue,siteConfigs:Ke}),xe?(0,e.h)(ut,{ref:yt=>{this.post=yt},commentsEnabled:It,isServingFreePodcastUrl:Dt,isShowsEpisodePage:Lt,postPreview:Ve,showComments:Kt,user:$e,post:xe,pub:me,freeSignup:ae,freeSignupEmail:he,reaction_token:ge,disableSubscribePrompt:ct||(ye||We)&&!ve,paywall:!bt,noTitleLink:!0,onChange:yt=>this.setState(yt),fromPostPage:!0,freeTrialCoupon:Qe,showRestackModal:!!qe,stripe_publishable_key:rt,readerIsSearchCrawler:Te,renderComments:()=>ao,themeVariables:wt,referringUser:Ne,setTab:yt=>{this.setState({tab:yt})},recentEpisodes:Ae}):Ie?(0,e.h)("p",{className:"main-loader"},at("Post not found")):(0,e.h)(L._q,{pub:me}),De)),tt&&bt&&[Kt&&_t!=="comments"&&!Lt&&ao,me.has_posts&&!Lt&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(W.Z,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(w.h,{user:$e,freeSignup:ae,freeSignupEmail:he,pub:me,maxPosts:!$t&&!Ot&&!(qt&&!me.plans)?3:10,filterPostsPredicate:yt=>yt.id!==xe.id,sort:Me,search:Pe,stateInUrl:!0,sortTabs:yt=>{const Zt=yt.findIndex(St=>St.id==="top");return Zt!==-1?[yt[Zt]].concat(yt.filter((St,co)=>co!==Zt)):null},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!$t&&[(0,e.h)(W.Z,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(U.Z,{publication:me,user:$e,freeSignupEmail:he,freeSignup:ae})]],zt?(0,e.h)(b.Z,{post:xe,autoSharedOnTwitter:Ze==="true",publicationTwitterScreenName:me.twitter_screen_name,publication:me,showAfter:Be!=null&&Be.length?(0,e.h)(A.D,{pub:me,pubsToRecommend:Be}):null}):null,it?(0,e.h)(y.hF,{user:$e,pub:me,post:xe}):null,Vt&&(0,e.h)(B.s,null),(0,e.h)(u.Z,{user:$e,pub:me,post:xe,mediaUploadId:this.props.clipId})))}}re.contextType=_.WH;function ue({user:ne,referringUser:ee,post:ae,publication:he,readerIsSearchCrawler:me,publicationSettings:ge}){const ve=ae&&he&&!me,Oe=ne&&ne.is_contributor&&(ae==null?void 0:ae.slug)=="coming-soon"&&!(ge!=null&&ge.seen_coming_soon_explainer);return(0,e.h)(e.Fragment,null,ve&&(0,e.h)(p.S$,{subdomain:he.subdomain,post:ae}),Oe&&(0,e.h)(f.qT,null))}class ce extends e.Component{constructor(ee,ae){super(ee,ae),this.modalRef=(0,e.createRef)(null),this.I18N=I18N.i({pub:ee.publication}),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:ee.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(L.lO,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(L.lO,this.handleFocusInput)}render({commentsEnabled:ee,inlineComments:ae,post:he,user:me,freeSignup:ge,freeSignupEmail:ve,publication:Oe,reaction_token:Me,onVisible:Pe,onChangeComment:De,selectionFromQuery:We,slug:ye,onChange:Fe,bannedFromNotes:Ze},{comments:Te,reactionSigninComment:Ve}){if(ae)return(0,e.h)("div",{id:E.nK},(0,e.h)(x.rf,{slug:ye,user:me,freeSignupEmail:ve,freeSignup:ge,post:he,publication:Oe,post_reaction_token:Me,selectionFromQuery:We,initialComments:Te,inline:!0,onChange:Fe}));const{iPlural:Re,iString:Ue}=this.I18N,Be=(Ke,Qe)=>ie(this,null,function*(){return(0,x.o_)({user:me,reactionToken:Me,comments:Te,id:Ke,reacted:Qe,setComments:qe=>this.setState({comments:qe}),onNeedsSignin:qe=>new Promise(pt=>this.setState({reactionSigninComment:qe},()=>this.modalRef.current.open(pt)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(ee||he.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},he.comment_count>0?Re("1 Comment","%1 Comments",he.comment_count):Ue("Comments")),(0,e.h)(W.Z,{onVisible:()=>Pe("Post Comments Footer")}),ee&&(0,e.h)(x._D,{user:me,freeSignup:ge,freeSignupEmail:ve,pub:Oe,post:he,token:Me,ref:this.inputRef,bannedFromNotes:Ze}),Te.length>0&&!ee&&(0,e.h)(x.IO,{post:he}),Te&&Te.length>0&&Oe.community_enabled&&(0,e.h)(x.$O,{className:"post-page-root-comment-list",key:`post:${he.id}`,user:me,freeSignup:ge,freeSignupEmail:ve,pub:Oe,post:he,comments:Te,reaction_token:Me,onChange:De,updateCommentReacted:Be,noRestack:!0}),ee&&he.comment_count>(Te||[]).length&&(0,e.h)("a",{className:"more-comments",href:(0,x.Os)(he,Oe)},Re("1 more comment...","%1 more comments...",he.comment_count-(Te||[]).length)),Ve&&(0,e.h)(I.oq,{comment:Ve,pub:Oe,user:me,react:()=>Be(Ve.id,!0),modalRef:this.modalRef})))}}const Ee=({pub:ne,post:ee})=>{if(ee)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:v()((0,a.Rg)(ne,ee),{json:!0,isScriptContext:!0})}})};function se({pub:ne,post:ee,selection:ae}){const he=(0,H.i3)();return(0,s.d4)(()=>{he.open({restackUrl:(0,i.getPostUrl)(ne,ee,{urlParams:{selection:ae}})})},[]),null}},66302:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(30396),O=t(71212),T=t(52743),D=t(76193),v=t(71278),P=t(3258),M=t(13045),l=t(51126),_=t(43887),m=t(96118);const c=r=>{const o=r.themeVariables,n=o.web_bg_color||o.cover_bg_color,a=r.post.cover_image||r.publication.cover_photo_url,[i,d]=(0,s.eJ)("square");return(0,s.d4)(()=>{(0,P.track)(P.EVENTS.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:r.post.id})},[r.post.id]),(0,e.h)("div",{className:m.Z.root},(0,e.h)(_.xv.H2,{color:"pub-primary-text",className:m.Z.pageTitle},"Share ",r.post.title),(0,e.h)(_.xv.B3,{color:"pub-primary-text",className:m.Z.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(l.gq,{paddingY:24,gap:8,alignItems:"center"},(0,e.h)(_.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Aspect Ratio:"),(0,e.h)(M.gu,{name:"aspectRatio",value:i,onChange:d,options:[{value:"square",label:"Square"},{value:"instagram",label:(0,D.isMobile)()?"Insta":"Instagram"},{value:"stories",label:(0,D.isMobile)()?"IG Stories":"Instagram Stories"}],horizontal:!0,labelProps:{color:"pub-primary-text"}})),(0,e.h)(l.tu,{justifyContent:"center",className:m.Z.container},(0,e.h)(l.gq,{paddingBottom:16,alignItems:"center",justifyContent:"space-between"},(0,e.h)(_.xv.H4,{color:"pub-primary-text"},r.post.title),!(0,D.isMobile)()&&(0,e.h)(M.zx,{priority:"secondary",leftIcon:(0,e.h)(O.Z,{stroke:"#404040",size:20}),href:(0,T.pathWithQuery)(`/api/v1/press_kit/all/${r.post.id}`,{aspectRatio:i,isDraft:r.post.is_draft}),newTab:!0},"Download")),(0,e.h)("div",{className:m.Z.divider}),(0,D.isMobile)()&&(0,e.h)(M.xu,{bg:"secondary",radius:12,color:"secondary",paddingTop:8,paddingBottom:8,style:{"margin-bottom":"16px"}},(0,e.h)(_.xv.B4,{textAlign:"center",color:"pub-secondary-text",fontSize:14},"Press and hold to download an image, or tap to share.")),(0,e.h)(l.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(v.ZP,{pub:r.publication,post:r.post,style:{bgColor:n,textColor:o.print_on_web_bg_color||o.cover_print_primary||"#1a1a1a",aspectRatio:i},text:"Background Color"}),o.background_pop&&(0,e.h)(v.ZP,{pub:r.publication,post:r.post,style:{bgColor:o.background_pop,textColor:o.print_on_pop,aspectRatio:i},text:"Accent Color"}),a&&(0,e.h)(v.ZP,{pub:r.publication,post:r.post,style:{bgImage:!0,textColor:"#ffffff",aspectRatio:i},text:"Image"}),n.toLowerCase()!=="#ffffff"?(0,e.h)(v.ZP,{pub:r.publication,post:r.post,style:{bgColor:"#ffffff",textColor:"#404040",aspectRatio:i},text:"Black and White"}):null)),(0,e.h)("div",{className:m.Z.textFooter},(0,e.h)(_.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,T.getPublishSettingsUrl)(r.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))}},37233:(Y,C,t)=>{t.d(C,{Z:()=>d});var e=t(6400),s=t(94184),O=t.n(s),T=t(28488),D=t(13045),v=t(52743),P=t(83322),M=t(3341),l=t(59009),_=Object.defineProperty,m=Object.defineProperties,E=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(p,f,u)=>f in p?_(p,f,{enumerable:!0,configurable:!0,writable:!0,value:u}):p[f]=u,a=(p,f)=>{for(var u in f||(f={}))r.call(f,u)&&n(p,u,f[u]);if(c)for(var u of c(f))o.call(f,u)&&n(p,u,f[u]);return p},i=(p,f)=>m(p,E(f));function d({pub:p,user:f,freeSignup:u,freeSignupEmail:g,className:y=""}){const{iString:L,language:b}=(0,T.M1)();return(0,e.h)("div",{className:O()("home-sitemap",y)},(0,e.h)("h4",{className:"home-sitemap-title"},p.name),u||f&&f.is_free_subscribed?!(f&&f.is_subscribed)&&p.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,v.getSubscribeUrl)(p,{utm_source:l.UTM_SOURCE.homeSitemap}),native:!0},(0,P.getSubscribeText)(p,{language:b})):null:(0,e.h)(D.xu,{paddingTop:20},(0,e.h)(M.Z,{className:"home-sitemap-signup-form",freeSignup:u,freeSignupEmail:g,pub:p,source:"home-sitemap",user:f,onSuccess:I=>{I.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,v.pathWithQuery)("/account/login",{redirect:document.location.href,email:I.body.email})},30):p.plans?document.location.href=(0,v.pathWithQuery)("/subscribe",i(a(a({next:document.location.href,later:!0,just_signed_up:!0},I.body.subscription_id&&{subscription_id:I.body.subscription_id}),I.body.referral_token&&{referral_token:I.body.referral_token}),{requires_confirmation:I.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(p==null?void 0:p.payments_state)==="enabled"?()=>null:void 0})),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,v.getAboutUrl)(p),native:!1},L("About")),(0,e.h)("a",{href:(0,v.getBaseArchiveUrl)(p)},L("Archive")),p.has_recommendations&&(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(p),native:!0},L("Recommendations")),p.can_have_sitemap&&(0,e.h)("a",{href:(0,v.getSitemapUrl)(p),native:!0},L("Sitemap"))))}},76461:(Y,C,t)=>{t.d(C,{C:()=>T});var e=t(6400),s=t(17025),O=t.n(s);const T=({sitemapHeader:D,sitemapDescription:v,sitemapLinks:P})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,s.setMetaData)({title:D,description:v}),(0,e.h)("h1",null,D),(0,e.h)("div",null,P.map(M=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:M.href,native:!0},M.text)))))},46344:(Y,C,t)=>{t.d(C,{C:()=>R,Z:()=>B});var e=t(6400),s=t(30396),O=t(32224),T=t(80569),D=t.n(T),v=t(52743),P=t(83322),M=t(7922),l=t(39493),_=t(4190),m=t(28488),E=t(3258),c=t(72496),r=t(17025),o=t.n(r),n=t(13045),a=t(59009),i=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(S,N,j)=>N in S?i(S,N,{enumerable:!0,configurable:!0,writable:!0,value:j}):S[N]=j,L=(S,N)=>{for(var j in N||(N={}))u.call(N,j)&&y(S,j,N[j]);if(f)for(var j of f(N))g.call(N,j)&&y(S,j,N[j]);return S},b=(S,N)=>d(S,p(N)),I=(S,N,j)=>new Promise((H,x)=>{var F=$=>{try{V(j.next($))}catch(k){x(k)}},w=$=>{try{V(j.throw($))}catch(k){x(k)}},V=$=>$.done?H($.value):Promise.resolve($.value).then(F,w);V((j=j.apply(S,N)).next())});const A=(S,N,j,H,{trackOnly:x=!1,freeSignupEmail:F}={})=>()=>I(void 0,null,function*(){if((0,E.track)(E.EVENTS.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:S.id,recommending_publication_id:N.id}),!x)try{const w=j&&!j.is_magic&&j.email||F;yield D().post("/api/v1/free").send({email:w,source:"recommendations_page",first_url:c.xY,first_referrer:c.ip,current_url:c.UE,current_referrer:c.xU,other_publication_id:S.id,referring_pub_id:N.id}),H(S)}catch(w){alert((0,r.getNetworkErrorMessage)(w)||"Something went wrong")}}),U=(S,N,j,{trackOnly:H=!1}={})=>()=>I(void 0,null,function*(){if((0,E.track)(E.EVENTS.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:S.id,recommending_publication_id:N.id}),!H)try{yield D().delete("/api/v1/free").send({publication_id:S.id,source:"recommendations_page"}),j(S)}catch(x){alert((0,r.getNetworkErrorMessage)(x)||"Something went wrong")}}),B=({pub:S,recommendations:N,allSubscribedPubs:j,fullySubscribedPubs:H,user:x,freeSignupEmail:F})=>{const{getExperimentVariant:w,exposeExperiment:V}=(0,_.jc)(),{iString:$,iTemplate:k}=(0,m.M1)(),[G,Q]=(0,s.eJ)(j),q=J=>{Q([...G,J])},z=J=>{Q(G.filter(({id:te})=>te!==J.id))};return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,k`Recommended by ${(0,P.getByLine)(S)||S.name}`),(0,e.h)("div",{className:"recommended-publications-container"},N.map((J,te)=>{const oe=J.recommendedPublication;if(!oe)return;const ie=`${(0,v.getBaseUrl)(oe)}/?utm_source=${a.UTM_SOURCE.recommendationsPage}&utm_campaign=${S.id}`,re=(0,v.getSubscribeUrl)(oe,{addBase:!0,utm_source:a.UTM_SOURCE.recommendationsPage,referring_pub_ids:[S.id],simple:!0}),ue=(0,P.getByLine)(oe),ce=H.map(({id:Ee})=>Ee).includes(oe.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:ie,onClick:()=>{(0,E.track)(E.EVENTS.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:oe.id,recommending_publication_id:S.id})}},(0,e.h)(l.Z,{pub:oe,size:48,logo_url:oe.logo_url||oe.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},oe.name),!!ue&&(0,e.h)("div",{className:"publication-author"},k`By ${ue}`))),G.map(({id:Ee})=>Ee).includes(oe.id)?(0,e.h)(M.Z,{onClick:U(oe,S,z,{trackOnly:ce}),href:ce?(0,v.getPubAccountSettingsUrl)(oe,{addBase:!0}):null,className:"unsubscribe"},$("Subscribed")):(0,e.h)(M.Z,{onClick:x&&!x.is_magic&&x.email||F?A(oe,S,x,q,{freeSignupEmail:F}):()=>{(0,E.track)(E.EVENTS.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:oe.id,recommending_publication_id:S.id}),(0,r.redirect)(re,{local_navigation:!1})}},(0,e.h)(n.gq,{alignItems:"center",gap:8},(0,e.h)(O.Z,{size:20}),$("Subscribe")))),(0,e.h)("div",{className:"publication-suggestion-text-area"},(oe.editorial_bio||oe.hero_text)&&(0,e.h)("div",{className:"publication-description"},oe.editorial_bio||oe.hero_text)),J.description&&(0,e.h)(W,{content:J.description,author:(0,P.getByLine)(S)||S.name}))))}))))},W=({author:S,content:N})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},N),(0,e.h)("p",{className:"blurb-author"},"- ",S)),Z=({recommendations:S,numRecommendations:N,pub:j,user:H,render:x,renderRecommendation:F})=>{const{iString:w,iTemplate:V}=(0,m.M1)(),$=S.map(k=>(0,e.h)(K,{recommendation:k,pub:j,signedIn:!!H,render:F}));return(0,s.d4)(()=>{(0,E.track)(E.EVENTS.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:S.map(({recommendedPublication:k})=>k.id)})},[S]),x?x({recommendations:$,canManage:!!(H!=null&&H.is_admin),manageUrl:(0,v.getPublishSettingsRecommendationsUrl)(j),hasMore:N>S.length,hasMoreUrl:(0,v.getRecommendationsPageUrl)(j),recommendationsCount:N}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(j)},"Recommendations"),H!=null&&H.is_admin?(0,e.h)("a",{href:(0,v.getPublishSettingsRecommendationsUrl)(j),native:!0},w("Manage")):N>S.length?(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(j),native:!0},V`View all ${N}`):null),$)},K=({recommendation:S,pub:N,signedIn:j,render:H})=>{const{recommendedPublication:x}=S,F=(0,v.getPubUrl)(x,{params:{utm_source:a.UTM_SOURCE.homepageRecommendations,utm_campaign:N.id},signedIn:j}),w=()=>{(0,E.track)(E.EVENTS.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:N.id,recommended_publication_id:x.id,source:"homepage-recommendations"})},V={pub:x,logo_url:x.logo_url,href:F,openInNewTab:!0,belowTheFold:!0};return H?H({pubIconProps:V,pubName:x.name,pubAuthor:x.author.name,url:F,onClick:w}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:w},(0,e.h)(l.Z,b(L({},V),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:F,target:"_blank",onClick:w},x.name),(0,e.h)("div",{className:"pub-author"},x.author.name)))))},R=Z},9561:(Y,C,t)=>{t.d(C,{P:()=>p});var e=t(6400),s=t(30396),O=t(59543),T=t(34988),D=t(85928),v=t.n(D),P=t(52743),M=t(20501),l=t(83322),_=t(59009),m=t(11628),E=t(75223),c=t(3258),r=t(36868),o=t(17025),n=t.n(o),a=t(13045),i=t(77546),d=t(77106);const p=({post:f,publication:u,user:g,freeSignup:y,freeSignupEmail:L})=>{var b,I,A,U,B,W,Z,K,R,S;const N=(0,s.sO)(),j=f.cover_image,H=f.title,x=f.description,F=(0,l.getPrintedByline)(u,f),w=((b=f.postSchedule)==null?void 0:b.email_audience)==="founding"&&(g==null?void 0:g.is_founding)||((I=f.postSchedule)==null?void 0:I.email_audience)==="only_paid"&&g&&(0,r.P)(g,u)||((A=f.postSchedule)==null?void 0:A.email_audience)==="everyone"&&(g==null?void 0:g.is_free_subscribed),[V,$]=(0,s.eJ)(v()((U=f.postSchedule)==null?void 0:U.trigger_at).diff(v()(),"second")),k=Math.floor(V/60/60/24),G=Math.floor(V/60/60%24),Q=Math.floor(V/60%60),q=V%60;return(0,s.d4)(()=>{const z=setInterval(()=>{var J;$(v()((J=f.postSchedule)==null?void 0:J.trigger_at).diff(v()(),"second"))},500);return()=>{clearInterval(z)}}),(0,s.d4)(()=>{(0,c.track)(c.EVENTS.SCHEDULED_POST_SEEN,{post_id:f.id})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(i.kX,{post:f,publication:u}),(0,e.h)(a.tu,{className:d.Z.container,alignItems:"center",gap:96,paddingTop:{desktop:64,mobile:32},paddingX:12},(0,e.h)(a.tu,{className:d.Z.postAndImageContainer,alignItems:"center",gap:32},j&&(0,e.h)("div",{className:d.Z.imageContainer},(0,e.h)("img",{src:j,className:d.Z.imagePreview})),(0,e.h)(a.tu,{className:d.Z.postContainer,alignItems:"center",gap:4},(0,e.h)(a.xv.H2,{color:"pub-primary-text",align:"center"},H),(0,e.h)(a.xv.B3,{color:"pub-secondary-text",align:"center"},(0,l.truncateText)(x,135)),(0,e.h)(a.xv.Meta,{color:"pub-secondary-text",align:"center"},((B=f.postSchedule)==null?void 0:B.email_audience)==="founding"?(0,e.h)(e.Fragment,null,(0,e.h)(a.xv.Meta,{as:"span",color:"pub-accent"},"Founding"),F?"\xA0\xA0\u2022\xA0\xA0":""):((W=f.postSchedule)==null?void 0:W.email_audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(a.xv.Meta,{as:"span",color:"pub-accent"},"Paid"),F?"\xA0\xA0\u2022\xA0\xA0":""):"",F?`By ${F}`:""))),(0,e.h)(a.tu,{className:d.Z.upsellContainer,alignItems:"center"},w?(0,e.h)(a.gq,{gap:12},(0,e.h)(a.zx,{onClick:()=>{var z;g!=null&&g.is_admin||g!=null&&g.is_contributor?(0,o.redirect)((0,M.getPostDetailsShareCenterUrl)(u,f.id),{local_navigation:!1}):(z=N.current)==null||z.open()},className:d.Z.shareButton,leftIcon:(0,e.h)(m.Z,null),priority:"primary-theme"},"Share"),g!=null&&g.is_admin||g!=null&&g.is_contributor?(0,e.h)(a.zx,{onClick:()=>{(0,o.redirect)((0,M.getEditPostUrlById)(u,f.id,!!f.editor_v2),{local_navigation:!1})},className:d.Z.shareButton,leftIcon:(0,e.h)(O.Z,null),priority:"secondary-theme"},"Edit Post"):null):((Z=f.postSchedule)==null?void 0:Z.email_audience)==="founding"&&!(g!=null&&g.is_founding)?(0,e.h)(a.zx,{className:d.Z.foundingButton,onClick:()=>{var z,J;const te=(J=(z=u.plans)==null?void 0:z.find(oe=>{var ie;return(ie=oe.metadata)==null?void 0:ie.founding}))==null?void 0:J.id;(0,o.redirect)(te?(0,M.getSubscribeUrl)(u,{addBase:!0,params:{next:document.location.href,utm_source:_.UTM_SOURCE.postScheduledPage,utm_medium:_.UTM_MEDIUM.web,utm_content:f.id,selectedPlanId:te}}):(0,P.getCheckoutUrl)(u,{simple:!0,next:document.location.href,utm_source:_.UTM_SOURCE.postScheduledPage,utm_medium:_.UTM_MEDIUM.web,utm_content:f.id,plan:"founding"}),{local_navigation:!1})}},"Upgrade to founding"):(0,e.h)(E.Z,{pub:u,post:f,user:g,freeSignup:y,freeSignupEmail:L,isStatic:!1,source:"post-scheduled-page"}),(0,e.h)(a.xv.B3,{className:d.Z.upsellDescription,color:"pub-primary-text",align:"center"},"Publishes on ",v()((K=f.postSchedule)==null?void 0:K.trigger_at).format("MMMM Do, h:mma"),"."," ",g!=null&&g.is_admin||g!=null&&g.is_contributor?"":w?"You\u2019ll receive this post in your inbox when it\u2019s live. Meanwhile, help spread the word!":((R=f.postSchedule)==null?void 0:R.email_audience)==="founding"&&(g!=null&&g.is_free_subscribed)?"Upgrade to founding and receive this post in your inbox when it\u2019s live":((S=f.postSchedule)==null?void 0:S.email_audience)==="only_paid"&&(g!=null&&g.is_free_subscribed)?"Upgrade to paid and receive this post in your inbox when it\u2019s live":"Subscribe now and receive the post in your inbox when it\u2019s live"))),(0,e.h)("div",{className:d.Z.countdownContainer},(0,e.h)(a.tu,{className:d.Z.countdownInnerContainer,alignItems:"center",gap:4},V>0?(0,e.h)(a.xv.B3,{color:"pub-secondary-text",align:"center"},"Available in ",k>0?`${(0,l.pluralize)(k,"day")}, `:"",k>0||G>0?`${(0,l.pluralize)(G,"hour")}, `:"",k>0||G>0||Q>0?`${(0,l.pluralize)(Q,"minute")}${k>0||G>0?",":""} and `:"",(0,l.pluralize)(q,"second")):(0,e.h)(a.xv.B3,{color:"pub-secondary-text",align:"center"},"Available now!"," ",(0,e.h)(a.xv.B3,{as:"a",color:"pub-secondary-text",align:"center",onClick:()=>{location.reload()},className:d.Z.refreshLink,decoration:"underline"},"Refresh to see the post"),"."))),(0,e.h)(T.ZP,{ref:N,user:g,pub:u,post:f}))}},81408:(Y,C,t)=>{t.d(C,{v:()=>a});var e=t(6400),s=t(94184),O=t.n(s),T=t(74806),D=t(59009),v=t(52743),P=t(28488),M=t(63030),l=t(51126),_=t(43887),m=t(6899),E=t(97558);const c=({})=>{const{iString:i}=(0,P.M1)();return(0,e.h)("div",{className:E.Z.noPodcasts},i("No podcasts."))},r=(i,d,p)=>{let f=i[d.id];return f||(f=(0,v.getPodcatcherSetupUrl)(d,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!p||!p.is_free_subscribed,params:{utm_source:D.UTM_SOURCE.allPodcasts}})),f},o=({pub:i,user:d,idToMagicLink:p,openInNewTab:f})=>i.subdomain!=="thebulwark"?null:(0,e.h)(_.xv.B3,{translated:!0,paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:r(p!=null?p:{},i,d),target:f?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),n=({pub:i,user:d,idToMagicLink:p={},openInNewTab:f=!1,newFormatting:u=!1})=>{const g=[],{iString:y}=(0,P.M1)();(0,T.getSectionPodcasts)(i)&&(0,T.getSectionPodcasts)(i).forEach(U=>{var B,W;if(!(0,T.canSubscribeToSectionPodcast)({pub:i,section:U}))return;const Z=(0,M.getSectionPodcastSettings)({pub:i,section:U});if(!Z.title)return;const K={logoUrl:(B=Z.artUrl)!=null?B:void 0,mainClickUrl:(0,v.getPodcastLandingUrl)({pub:i,section:U,addBase:!0}),buttonClickUrl:p[U.id]||(0,v.getPodcatcherSetupUrl)(i,{section:U,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!d||!d.is_free_subscribed,params:{utm_source:D.UTM_SOURCE.allPodcasts}}),name:Z.title,description:(W=Z.description)!=null?W:"",buttonText:y("Set up podcast")};g.push(K)}),(0,T.canSubscribeToPubPodcast)(i)&&g.push((0,m.w)(i,r(p,i,d)));const L=Object.keys(p).length>0||!!(d!=null&&d.is_free_subscribed);let b=g.length>1?y("Podcast feeds"):y("Podcast feed");L&&(b=(0,T.hasMultiplePodcasts)(i)?y("Private podcast feeds"):y("Private podcast feed"));const I=(0,e.h)(l.tu,{radius:12,border:"detail",padding:16},(0,T.hasPodcast)(i)?(0,e.h)(e.Fragment,null,(0,e.h)(m.k,{showButton:!0,items:g,openInNewTab:f,buttonText:y("Set up podcast")}),(0,e.h)(o,{pub:i,user:d,idToMagicLink:p,openInNewTab:f})):(0,e.h)(c,null));return u?(0,e.h)(e.Fragment,null,(0,e.h)(_.xv.H4,{paddingTop:20,paddingBottom:8},b),I):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(_.xv.H3,{paddingTop:16,paddingBottom:16},b),I))},a=({pub:i,user:d,idToMagicLink:p,openInNewTab:f=!1})=>(0,e.h)("div",{className:O()("page","typography",E.Z.container)},(0,e.h)(n,{pub:i,user:d,idToMagicLink:p,openInNewTab:f}))},7855:(Y,C,t)=>{t.d(C,{G:()=>H});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(98661),v=t(55519),P=t(3258),M=t(8479),l=t(13045),_=t(51126),m=t(53570),E=t(92958),c=t(34394),r=t(43887),o=t(52743),n=t(20501),a=t(59009),i=t(28488),d=t(17025),p=t.n(d),f=t(11688),u=t(56070),g=Object.defineProperty,y=Object.defineProperties,L=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,U=(x,F,w)=>F in x?g(x,F,{enumerable:!0,configurable:!0,writable:!0,value:w}):x[F]=w,B=(x,F)=>{for(var w in F||(F={}))I.call(F,w)&&U(x,w,F[w]);if(b)for(var w of b(F))A.call(F,w)&&U(x,w,F[w]);return x},W=(x,F)=>y(x,L(F)),Z=(x,F,w)=>new Promise((V,$)=>{var k=q=>{try{Q(w.next(q))}catch(z){$(z)}},G=q=>{try{Q(w.throw(q))}catch(z){$(z)}},Q=q=>q.done?V(q.value):Promise.resolve(q.value).then(k,G);Q((w=w.apply(x,F)).next())});const K=x=>["checkbox","checkbox_freeform","radio","radio_freeform"].includes(x||""),R=x=>["checkbox_freeform","radio_freeform"].includes(x||""),S={container:x=>W(B({},x),{flex:1}),dropdownIndicator:x=>W(B({},x),{color:"var(--color-secondary)"}),control:x=>W(B({},x),{fontSize:14,color:"var(--color-secondary)",boxShadow:"none"}),option:(x,F)=>W(B({},x),{fontSize:14,color:"var(--color-secondary)",backgroundColor:F.isFocused?"var(--color-bg-secondary)":F.isSelected?"var(--color-bg-accent-primary-hover)":"white"}),noOptionsMessage:x=>W(B({},x),{fontSize:14,color:"var(--color-secondary)"})},N=({question:x,responseData:F,onChange:w,disabled:V=!1,countries:$})=>{const{iString:k}=(0,i.M1)(),G=(0,s.Ye)(()=>{if(x.type==="country"&&F.value&&$){const q=String(F.value).split(",")[0],z=$.find(J=>J.countryShortCode===q);return z?{value:z.countryShortCode,label:z.countryName,regions:z.regions}:null}return null},[F.value]),Q=(0,s.Ye)(()=>{if(x.type==="country"&&(G!=null&&G.regions)&&$&&F.value){const q=String(F.value).split(",")[1],z=G.regions.find(J=>J.shortCode===q);return z?{value:z.shortCode,label:z.name}:null}return null},[G,F.value]);return(0,e.h)(_.tu,{gap:16},(0,e.h)(r.xv.H4,null,x.displayLabel,x.is_required&&(0,e.h)(r.xv.H4,{as:"span",color:"error"},"*")),x.type==="text"&&(0,e.h)(l.gx,{disabled:V,placeholder:k("Type here"),value:String(F.value||""),onChange:q=>{const z=F;z.value=q.target.value,w(z)}}),x.type==="number"&&(0,e.h)(c.o,{disabled:V,placeholder:k("Type number value here"),value:Number.isNaN(Number(F.value))?"":Number(F.value),onChange:q=>{const z=q.target.value.replace(/[^\d]/g,""),J=F;J.value=Number(z)||0,w(J)}}),x.type==="country"&&(0,e.h)(_.tu,{gap:24},(0,e.h)(v.ZP,{className:u.Z.dropdown,options:$==null?void 0:$.map(q=>({label:q.countryName,value:q.countryShortCode})),onChange:q=>{const z=q.value;w(W(B({},F),{value:z}))},value:G,placeholder:k("Select or search for a country..."),noOptionsMessage:()=>k("No options found."),theme:(0,d.getSelectTheme)({primary:"var(--color-secondary)",neutral0:"white"}),isSearchable:!0,styles:S}),F.value&&(G==null?void 0:G.regions)&&(0,e.h)(v.ZP,{className:u.Z.dropdown,options:G.regions.map(q=>({label:q.name,value:q.shortCode})),onChange:q=>{const z=q.value;w(W(B({},F),{value:`${String(F.value).split(",")[0]},${z}`}))},value:Q,placeholder:k("Select or search for a state, province, or region..."),noOptionsMessage:()=>k("No options found."),theme:(0,d.getSelectTheme)({primary:"var(--color-secondary)",neutral0:"white"}),isSearchable:!0,styles:S})),K(x.type)&&x.options&&x.options.map(q=>(0,e.h)(_.gq,{as:"label",gap:16},(x.type==="checkbox"||x.type==="checkbox_freeform")&&(0,e.h)(m.X,{disabled:V,withTheme:!0,name:`${x.id}check`,checked:F.options.indexOf(q.id)>-1,onChange:z=>{const J=F.options.filter(te=>te!==q.id);z&&J.push(q.id),w(W(B({},F),{options:J}))}}),(x.type==="radio"||x.type==="radio_freeform")&&(0,e.h)(E.Y,{disabled:V,color:"accent",value:q.id,name:`${x.id}check`,checked:F.options.indexOf(q.id)>-1,onClick:z=>{const J=[];z.target.checked&&J.push(q.id),w({value:"",options:J})}}),(0,e.h)(r.xv.B3,null,q.label))),R(x.type)&&(0,e.h)(_.gq,{as:"label",gap:16,alignItems:"center"},(x.type==="checkbox"||x.type==="checkbox_freeform")&&(0,e.h)(m.X,{disabled:V,withTheme:!0,name:`${x.id}check`,checked:String(F.value).length>0,onChange:q=>{w(q?W(B({},F),{value:" "}):W(B({},F),{value:""}))}}),(x.type==="radio"||x.type==="radio_freeform")&&(0,e.h)(E.Y,{disabled:V,color:"accent",value:"text",name:`${x.id}check`,checked:String(F.value).length>0,onClick:()=>{w({options:[],value:" "})}}),(0,e.h)(c.o,{disabled:V,placeholder:k("Other..."),value:String(F.value||""),onChange:q=>{const z=F;z.value=q.target.value,z.value.length>0&&(x.type==="radio"||x.type==="radio_freeform")&&(z.options=[]),w(z)}})))},j=({surveyId:x,user:F,pub:w})=>{const{iString:V}=(0,i.M1)(),[$,k]=(0,s.eJ)({}),{result:G,isLoading:Q}=(0,M.ib)({pathname:`/api/v1/survey/${x}`,auto:!0});(0,D.useEffect)(()=>{var se;!Q&&G&&((se=G.questions)!=null&&se.some(ee=>ee.type==="country"))&&z()},[G,Q]);const{result:q,fetch:z}=(0,f.Oe)({module:"country-region-data/data.json",onRequest:()=>t.e(8376).then(t.t.bind(t,8376,19)),fetchImmediately:!1}),J=(0,M.ib)({method:"post",pathname:`/api/v1/survey/${x}/responses`,auto:!1,json:{responses:Object.keys($).map(se=>({survey_question_id:se,data:$[se]}))}}),te=(0,s.I4)(()=>Z(void 0,null,function*(){J.isLoading||(yield J.refetch(),window.location.reload())}),[J]);if(!G&&!Q)return(0,e.h)(_.tu,{paddingTop:48,gap:48},(0,e.h)(r.xv.H1,{translated:!0},"There was an error fetching this survey."));if(!G)return(0,e.h)("div",null);if(G.hasCurrentUserResponded)return(0,e.h)(_.tu,{paddingTop:48,gap:24,alignItems:"center",justifyContent:"center"},(0,e.h)(r.xv.H1,{translated:!0},"Thank you!"),(0,e.h)(r.xv.B3,{translated:!0},"Your response has been recorded."));const{questions:oe=[],title:ie}=G,re=!!F,ue=F&&F.is_free_subscribed,ce=re&&ue,Ee=ce&&oe.reduce((se,ne)=>{let ee=!0;if(ne.is_required){const ae=$[ne.id];if(ne.type==="text")ee=String((ae==null?void 0:ae.value)||"").length>0;else if(ne.type==="number"){const he=Number(ae==null?void 0:ae.value);ee=!Number.isNaN(he)}else if(ne.type==="country")ee=String((ae==null?void 0:ae.value)||"").split(",").length===2;else if(K(ne.type)){const he=ae&&Array.isArray(ae==null?void 0:ae.options)?ae.options:[],me=String((ae==null?void 0:ae.value)||"");R(ne.type)?ee=he.length>0||me.length>0:ee=he.length>0}}return se&&ee},!0);return(0,e.h)(_.tu,{paddingTop:48,gap:48},(0,e.h)(r.xv.H1,{color:"pub-primary-text"},ie),!re&&(0,e.h)(_.gq,{alignItems:"center",justifyContent:"center",borderBottom:"detail",paddingBottom:48},(0,e.h)(_.tu,{border:"detail",padding:24,gap:24,sizing:"border-box",radius:"medium"},(0,e.h)(r.xv.H4,{translated:!0},"Log in to answer this survey from ",I18N.p(w.name)),(0,e.h)(l.zx,{localNavigation:!1,priority:"primary-theme",href:(0,o.getSigninUrl)({for_pub:w.subdomain,redirect:window.location.href})},V("Log in")))),re&&!ue&&(0,e.h)(_.gq,{alignItems:"center",justifyContent:"center",borderBottom:"detail",paddingBottom:48},(0,e.h)(_.tu,{border:"detail",padding:24,gap:24,sizing:"border-box",radius:"medium"},(0,e.h)(r.xv.H4,{translated:!0},"Subscribe to ",I18N.p(w.name)," to answer this survey."),(0,e.h)(l.zx,{localNavigation:!1,priority:"primary-theme",href:(0,n.getSubscribeUrl)(w,{params:{next:window.location.href,email:F.email,just_signed_up:!0,autoSubmit:!0,utm_source:a.UTM_SOURCE.substack,utm_medium:a.UTM_MEDIUM.email,utm_content:a.UTM_CONTENT.readerSurveySubscribePrompt}})},V("Subscribe")))),(0,e.h)(_.tu,{gap:48,className:T()({[u.Z.questionListDisabled]:!ce}),paddingBottom:48},oe.map(se=>{const ne=$[se.id]?$[se.id]:{options:[],value:""};return(0,e.h)(N,{key:se.id,question:se,responseData:ne,disabled:!ce,countries:q==null?void 0:q.default,onChange:ee=>{k(W(B({},$),{[se.id]:ee}))}})}),(0,e.h)(l.zx,{disabled:!Ee,priority:"primary-theme",onClick:te},V("Submit"))))},H=({surveyId:x,user:F,pub:w})=>((0,D.useEffect)(()=>{(0,P.track)(P.EVENTS.READER_SURVEY_SEEN,{surveyId:x,isLoggedIn:!!F,isSubscribed:F==null?void 0:F.is_free_subscribed})},[x]),(0,e.h)("div",{className:"container"},(0,e.h)(j,{surveyId:x,user:F,pub:w})))},39331:(Y,C,t)=>{t.d(C,{Z:()=>M});var e=t(6400),s=t(8479),O=t(47504),T=t(81979),D=t(95674),v=t(10212),P=t(8903);function M({slug:l,pub:_,user:m,tagPagePreloads:E,utm:c}){var r,o;const n=(0,s.ib)({pathname:`/api/v1/publication/post-tag/slug/${l}`,auto:(E==null?void 0:E.slug)!==l,initialResult:(E==null?void 0:E.slug)===l?E.postTag:null,deps:[E,l]});return(0,e.h)(P.N,null,n.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)(v.M,{name:((r=n.result)==null?void 0:r.name)||"Page not found",description:null,logoUrl:null}),(0,e.h)(T.f,null),(0,e.h)(O.O,{user:m,pub:_,sort:"new",postTagId:(o=n.result)==null?void 0:o.id,newPosts:(E==null?void 0:E.slug)===l?E.posts:null,source:"tag-archive"},({posts:a,linkToComments:i,onClickPost:d})=>(0,e.h)(D.B,{hideImages:_.theme.hide_images_from_list,linkToComments:i,posts:a,pub:_,showSectionPins:!0,user:m,utm:c,variant:"two-column-list",onChange:()=>{},onClickPost:d}))))}},11059:(Y,C,t)=>{t.d(C,{a:()=>M});var e=t(6400),s=t(30396),O=t(4508),T=t(84040),D=t(34394),v=t(62246),P=t(43887);const M=({isOpen:l=!1,title:_,body:m,onClose:E,customPrimaryButton:c,secondaryButton:r,confirmationString:o})=>{const n=(0,s.sO)(null),[a,i]=(0,s.eJ)(!!o);return(0,s.d4)(()=>{l&&o&&i(!0)},[l,o]),(0,e.h)(v.u_,{isOpen:l,onClose:E,initialFocus:n},_&&(0,e.h)(v.xB,{title:_,includeClose:!1}),(0,e.h)(v.fe,null,(0,e.h)(P.xv.B3,null,m),o&&(0,e.h)(O.xu,{paddingTop:16},(0,e.h)(D.o,{onChange:d=>{i(!0),o.toLowerCase()===d.target.value.toLowerCase()&&i(!1)}}))),(0,e.h)(v.mz,{primaryButton:c?(0,e.cloneElement)(c,{ref:n,disabled:a}):(0,e.h)(T.zx,{ref:n,onClick:E,priority:"primary",disabled:a},"OK"),secondaryButton:r}))}},83787:(Y,C,t)=>{t.d(C,{H:()=>T});var e=t(6400),s=t(30396);const O=150,T=({children:D,expanded:v,renderWhenCollapsed:P,onEnter:M,flex:l})=>{const _=(0,s.sO)(null),[m,E]=(0,s.eJ)(v?"expanded":"collapsed"),[c,r]=(0,s.eJ)(null);return(0,s.d4)(()=>{v&&m==="collapsed"&&E("startExpanding"),m==="startExpanding"&&_.current&&(r(_.current.offsetHeight),E("expanding"),setTimeout(()=>{E("expanded"),M&&M()},O)),!v&&m==="expanded"&&_.current&&(r(_.current.offsetHeight),E("startCollapsing")),m==="startCollapsing"&&(E("collapsing"),setTimeout(()=>{E("collapsed")},O))},[v,m]),(0,e.h)("div",{style:{height:m==="collapsed"||m==="startExpanding"||m==="collapsing"?0:m==="expanding"||m==="startCollapsing"?c:null,transition:`height ${O}ms ease-in-out`,overflow:m==="expanded"?"visible":"hidden",display:l?"flex":"block",flexDirection:"column"}},(0,e.h)("div",{ref:_,style:{paddingTop:.05,paddingBottom:.05,display:l?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(m!=="collapsed"||P)&&D))}},91041:(Y,C,t)=>{t.d(C,{h:()=>d,a:()=>p});var e=t(6400),s=t(94184),O=t.n(s),T=t(49336),D=t(84040),v=t(51126),P=t(12876);const M={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var l=Object.defineProperty,_=Object.defineProperties,m=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(f,u,g)=>u in f?l(f,u,{enumerable:!0,configurable:!0,writable:!0,value:g}):f[u]=g,n=(f,u)=>{for(var g in u||(u={}))c.call(u,g)&&o(f,g,u[g]);if(E)for(var g of E(u))r.call(u,g)&&o(f,g,u[g]);return f},a=(f,u)=>_(f,m(u)),i=(f,u)=>{var g={};for(var y in f)c.call(f,y)&&u.indexOf(y)<0&&(g[y]=f[y]);if(f!=null&&E)for(var y of E(f))u.indexOf(y)<0&&r.call(f,y)&&(g[y]=f[y]);return g};const d=f=>{var u=f,{attached:g,gap:y=8}=u,L=i(u,["attached","gap"]);return(0,e.h)(v.gq,n({gap:g?0:y,className:O()({[M.attached]:g})},L))},p=f=>{var u=f,{children:g,menuItems:y,fill:L="filled",priority:b="primary",size:I="medium",rounded:A=!1,additionalMenuProps:U={}}=u,B=i(u,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,e.h)(d,{attached:!0},(0,e.h)(D.zx,a(n({},B),{priority:b,size:I,rounded:A,fill:L==="borderless"?"filled":L,outline:L==="borderless"?"none":void 0}),g),(0,e.h)(P.v2,a(n({},U),{trigger:(0,e.h)(D.hU,a(n({className:O()({[M.borderless]:L==="borderless"})},B),{priority:b,fill:L,rounded:A,size:I==="small"?32:40}),(0,e.h)(T.Z,{size:I==="small"?12:20}))}),y))}},15187:(Y,C,t)=>{t.d(C,{Tz:()=>p});var e=t(6400),s=t(94184),O=t.n(s),T=t(85928);const D={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(y,L,b)=>L in y?v(y,L,{enumerable:!0,configurable:!0,writable:!0,value:b}):y[L]=b,c=(y,L)=>{for(var b in L||(L={}))_.call(L,b)&&E(y,b,L[b]);if(l)for(var b of l(L))m.call(L,b)&&E(y,b,L[b]);return y},r=(y,L)=>P(y,M(L)),o=(y,L)=>{var b={};for(var I in y)_.call(y,I)&&L.indexOf(I)<0&&(b[I]=y[I]);if(y!=null&&l)for(var I of l(y))L.indexOf(I)<0&&m.call(y,I)&&(b[I]=y[I]);return b};const n="YYYY-MM-DD",a="YYYY-MM-DDThh:mm";function i(y){var L=y,{className:b,min:I,max:A,value:U,onChange:B,disabled:W}=L,Z=o(L,["className","min","max","value","onChange","disabled"]);return h("input",r(c({},Z),{type:"date",className:cn(css.datePicker,b),value:U?dayjs(U).format(n):"",min:I?dayjs(I).format(n):"",max:A?dayjs(A).format(n):"",onChange:B,disabled:W}))}function d(y){var L=y,{className:b,min:I,max:A,value:U,onChange:B,disabled:W}=L,Z=o(L,["className","min","max","value","onChange","disabled"]);return h("input",r(c({},Z),{type:"datetime-local",className:cn(css.datePicker,b),value:U?dayjs(U).format(a):void 0,min:I?dayjs(I).format(a):void 0,max:A?dayjs(A).format(a):void 0,onChange:B,disabled:W}))}function p(y){var L=y,{className:b,min:I,max:A,value:U,onChange:B,disabled:W}=L,Z=o(L,["className","min","max","value","onChange","disabled"]);return(0,e.h)("input",r(c({},Z),{type:"datetime-local",className:O()(D.datePicker,b),value:u(U),min:u(I),max:u(A),onChange:B,disabled:W}))}function f(y){var L=y,{className:b,min:I,max:A,value:U,onChange:B,disabled:W}=L,Z=o(L,["className","min","max","value","onChange","disabled"]);return h("input",r(c({},Z),{type:"month",className:cn(css.datePicker,b),value:u(U),min:u(I),max:u(A),onChange:B,disabled:W}))}function u(y){return y instanceof Date?`${y.getFullYear()}-${g(y.getMonth()+1)}-${g(y.getDate())}T${g(y.getHours())}:${g(y.getMinutes())}`:y}function g(y){const L=String(y);return L.length<2?`0${L}`:L}},48960:(Y,C,t)=>{t.d(C,{i:()=>c});var e=t(6400),s=t(94184),O=t.n(s),T=t(51126);const D={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var v=Object.defineProperty,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(r,o,n)=>o in r?v(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,m=(r,o)=>{for(var n in o||(o={}))M.call(o,n)&&_(r,n,o[n]);if(P)for(var n of P(o))l.call(o,n)&&_(r,n,o[n]);return r},E=(r,o)=>{var n={};for(var a in r)M.call(r,a)&&o.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&P)for(var a of P(r))o.indexOf(a)<0&&l.call(r,a)&&(n[a]=r[a]);return n};const c=r=>{var o=r,{className:n,weight:a=1,priority:i="detail"}=o,d=E(o,["className","weight","priority"]);return(0,e.h)(T.hs,m({className:O()(D.divider,n,D[`priority_${i}`],a&&D[`weight-${a}`]),flex:"grow"},d),(0,e.h)("hr",null))}},14105:(Y,C,t)=>{t.d(C,{G:()=>E});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(32224),v=t(96999),P=t(76193),M=t(28488),l=t(43887),_=t(1396),m=(c,r,o)=>new Promise((n,a)=>{var i=f=>{try{p(o.next(f))}catch(u){a(u)}},d=f=>{try{p(o.throw(f))}catch(u){a(u)}},p=f=>f.done?n(f.value):Promise.resolve(f.value).then(i,d);p((o=o.apply(c,r)).next())});const E=({onFileSelected:c,dropCTA:r,pickCTA:o,pickCTAHandler:n,acceptableTypes:a,loading:i,className:d,multiple:p=!1,addMode:f=!1,onDrop:u,onPick:g,info:y})=>{const[L,b]=(0,s.eJ)(!1),I=(0,s.sO)(),{iString:A,iTemplate:U}=(0,M.M1)();!o&&!n&&(o=(0,e.h)("a",{className:_.Z.browse,href:"javascript:void(0)"},A("browse"))),r||(r=A("Drop file here"));const B=K=>{K.preventDefault(),b(!0)},W=K=>{K.preventDefault(),b(!1)},Z=K=>m(void 0,null,function*(){var R,S,N,j;K.preventDefault(),b(!1);let H,x;if(((S=(R=K.dataTransfer)==null?void 0:R.items)==null?void 0:S.length)>0){const F=Array.from(K.dataTransfer.items);for(const w of F)if(w.kind!=="file"){alert(A("Please only drag files!"));return}H=K.dataTransfer.items[0].getAsFile(),x=F.map(w=>w.getAsFile())}else if(((j=(N=K.dataTransfer)==null?void 0:N.files)==null?void 0:j.length)>0)H=K.dataTransfer.files[0],x=K.dataTransfer.files;else{alert(A("Something went wrong!"));return}p?yield c(x):yield c(H),u==null||u(p?x:H)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:T()(_.Z.dragArea,d,{[_.Z.dragActive]:L,"test-drag-active":L}),onDragEnter:B,onDragOver:B,onDragLeave:W,onDrop:Z,"aria-label":A("File Picker"),onClick:()=>{var K;n||(K=I.current)==null||K.click()}},f?(0,e.h)(D.Z,{size:20,className:_.Z.icon}):(0,e.h)(v.Z,{size:24,className:_.Z.icon}),!P.isMobile&&(0,e.h)("p",{className:_.Z.text},i?A("Loading..."):L?A("Release to upload"):f?A("Add another image"):(0,e.h)(e.Fragment,null,r," ",A("or")," ")),(0,e.h)(l.xv.H4,null,"Select file to upload"),(0,e.h)(l.xv.Detail,null," Or drag and drop file"),i?null:o||(n?n(()=>{I.current.click()}):null),y?(0,e.h)(l.xv.Detail,{paddingTop:32,paddingX:32},y):null),(0,e.h)("input",{className:T()(_.Z.file,"file-picker-input"),ref:I,type:"file",name:"file",accept:a,multiple:p,onInput:K=>m(void 0,null,function*(){const R=K.target.files;R&&R[0]&&(p?yield c(R):yield c(R[0]),g==null||g(p?R:R[0]))})}))}},94016:(Y,C,t)=>{t.d(C,{z:()=>p,o:()=>f});var e=t(6400),s=t(30396),O=t(5285),T=t(94184),D=t.n(T),v=t(62372);const P={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var M=Object.defineProperty,l=Object.defineProperties,_=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,r=(u,g,y)=>g in u?M(u,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):u[g]=y,o=(u,g)=>{for(var y in g||(g={}))E.call(g,y)&&r(u,y,g[y]);if(m)for(var y of m(g))c.call(g,y)&&r(u,y,g[y]);return u},n=(u,g)=>l(u,_(g)),a=(u,g)=>{var y={};for(var L in u)E.call(u,L)&&g.indexOf(L)<0&&(y[L]=u[L]);if(u!=null&&m)for(var L of m(u))g.indexOf(L)<0&&c.call(u,L)&&(y[L]=u[L]);return y};const i=500,d=250,p=u=>{var g=u,{className:y="",children:L,layerClassName:b,dontStopPropagation:I,as:A}=g,U=a(g,["className","children","layerClassName","dontStopPropagation","as"]);const B=f(o({className:b},U)),W=A!=null?A:"div";return(0,e.h)(W,n(o(o({className:y},B.triggerProps),B.hoverProps),{onClick:Z=>{I||Z.stopPropagation()}}),L,B.layer)};function f(u){var g=u,{disabled:y,onFetch:L,onOpen:b,content:I,className:A,layerOptions:U,hideOnScroll:B=!1}=g,W=a(g,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[Z,K,R]=(0,v.XI)({delayEnter:i,delayLeave:d,hideOnScroll:B}),S=(0,s.sO)(!1);(0,s.d4)(()=>{Z&&(!S.current&&L&&(S.current=!0,L()),b&&b())},[Z,L,b]);const[N,j]=(0,s.eJ)(!1),{triggerProps:H,layerProps:x,renderLayer:F,layerSide:w}=(0,v.sJ)(o({isOpen:y?!1:Z,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},U));return{triggerProps:H,hoverProps:K,layer:(Z||N)&&!y&&F((0,e.h)(O.u,{appear:!0,show:Z&&!W.loading,beforeEnter:()=>j(!0),afterLeave:()=>j(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,e.h)("div",o(o({onClick:()=>{R()},className:D()(A,P.hoverCardBase)},x),K),I)))}}},56288:(Y,C,t)=>{t.d(C,{a:()=>E});var e=t(6400),s=t(94184),O=t.n(s);const T={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var D=Object.defineProperty,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?D(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>{var n={};for(var a in r)P.call(r,a)&&o.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&v)for(var a of v(r))o.indexOf(a)<0&&M.call(r,a)&&(n[a]=r[a]);return n};const E=r=>{var o=r,{type:n="circular"}=o,a=m(o,["type"]);if(n==="circular")return(0,e.h)(c,_({},a));throw new Error("not implemented")},c=({className:r,size:o="md",dataTestId:n})=>(0,e.h)("div",{"data-testid":n,className:O()(T.circularLoader,T[`size_${o}`],r)})},12876:(Y,C,t)=>{t.d(C,{v2:()=>H,sN:()=>x});var e=t(6400),s=t(98661),O=t(30396),T=t(5285),D=t(94184),v=t.n(D),P=t(44396),M=t(71375),l=t(84040),_=t(51126),m=t(5668);const E=(0,s.createContext)({useMobileBottomSheet:!0,close:()=>{}});function c(){return(0,s.useContext)(E)}var r=t(43887);const o={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc",relative:"frontend-pencraft-ActionSheet-module__relative--WOknO"};var n=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(k,G,Q)=>G in k?n(k,G,{enumerable:!0,configurable:!0,writable:!0,value:Q}):k[G]=Q,f=(k,G)=>{for(var Q in G||(G={}))i.call(G,Q)&&p(k,Q,G[Q]);if(a)for(var Q of a(G))d.call(G,Q)&&p(k,Q,G[Q]);return k},u=(k,G)=>{var Q={};for(var q in k)i.call(k,q)&&G.indexOf(q)<0&&(Q[q]=k[q]);if(k!=null&&a)for(var q of a(k))G.indexOf(q)<0&&d.call(k,q)&&(Q[q]=k[q]);return Q};const g=(0,s.forwardRef)(({title:k,subtitle:G,onClose:Q,children:q,className:z},J)=>(0,e.h)(_.tu,{className:o.root,onClick:Q},(0,e.h)(T.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,e.h)(_.tu,{className:v()(o.sheet,z),ref:J,onClick:te=>{te.stopPropagation()}},(0,e.h)(_.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,e.h)(_.tu,null,(0,e.h)(r.xv.B3,{weight:"semibold"},k),(0,e.h)(r.xv.B4,{color:"secondary"},G)),(0,e.h)(l.hU,{fill:"empty",onClick:()=>{Q()},priority:"secondary"},(0,e.h)(M.Z,null))),(0,e.h)(_.tu,{paddingTop:8,overflowY:"auto",className:o.items},q))))),y=(0,s.forwardRef)((k,G)=>{var Q=k,{children:q,onClick:z,closeMenu:J,icon:te,rightIcon:oe,className:ie,priority:re="primary",disabled:ue,hiddenInput:ce}=Q,Ee=u(Q,["children","onClick","closeMenu","icon","rightIcon","className","priority","disabled","hiddenInput"]);const se=Ee.href?"a":l.kG,{close:ne}=c();return(0,e.h)(se,f({className:v()(o.item,o[re],ie,{[o.disabled]:!!ue,[o.relative]:!!ce}),resetCss:!0,onClick:ee=>{z==null||z(ee),ne()},ref:G},Ee),te&&(0,e.cloneElement)(te,{size:20,stroke:"var(--color-primary)"}),te&&" ",(0,e.h)(r.xv.B4,{color:re==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},q),oe&&(0,e.h)(e.Fragment,null,(0,e.h)(_.hs,{flex:"grow"}),oe&&(0,e.cloneElement)(oe,{size:20,stroke:"var(--color-primary)"})),ce&&(0,e.h)(m.U,null,ce))});var L=t(89581);const b={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",relative:"frontend-pencraft-Menu-module__relative--tBxDI",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var I=Object.defineProperty,A=Object.defineProperties,U=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,K=(k,G,Q)=>G in k?I(k,G,{enumerable:!0,configurable:!0,writable:!0,value:Q}):k[G]=Q,R=(k,G)=>{for(var Q in G||(G={}))W.call(G,Q)&&K(k,Q,G[Q]);if(B)for(var Q of B(G))Z.call(G,Q)&&K(k,Q,G[Q]);return k},S=(k,G)=>A(k,U(G)),N=(k,G)=>{var Q={};for(var q in k)W.call(k,q)&&G.indexOf(q)<0&&(Q[q]=k[q]);if(k!=null&&B)for(var q of B(k))G.indexOf(q)<0&&Z.call(k,q)&&(Q[q]=k[q]);return Q};function j(k){return typeof k.type=="string"||k.type.$$typeof===Symbol.for("react.forward_ref")}const H=(0,s.forwardRef)((k,G)=>{var Q=k,{trigger:q,children:z,ariaLabel:J="View more",hideOnScroll:te,layerOptions:oe,layerClassName:ie,onOpen:re,onClose:ue,useMobileBottomSheet:ce=!1,mobileBottomSheetTitle:Ee,mobileBottomSheetSubtitle:se,stopPropagation:ne=!1,maxHeight:ee=295,padding:ae=8,disableMenu:he=!1}=Q,me=N(Q,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);j(q)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const ge=(0,P.XA)(),{triggerProps:ve,layerProps:Oe,renderLayer:Me,isOpen:Pe,setOpen:De}=(0,L.x)({layerOptions:R({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},oe),hideOnScroll:te&&!(ce&&ge),onClose:ue}),[We,ye]=(0,O.eJ)(!1),Fe=()=>{De(!1),ue&&ue()},Ze=(0,e.toChildArray)(z).map(Ve=>(0,e.cloneElement)(Ve,{useMobileBottomSheet:ce,closeMenu:Fe})),Te=(0,s.useMemo)(()=>({useMobileBottomSheet:ce,close:Fe}),[ue,ce]);return(0,e.h)(E.Provider,{value:Te},(0,e.cloneElement)(q,S(R({},ve),{ariaLabel:J,onClick:Ve=>{Ve.preventDefault(),ne&&Ve.stopPropagation(),he||De(!Pe),!Pe&&re&&re(),Pe&&ue&&ue()}})),(Pe||We)&&Me(ce&&ge?(0,e.h)(T.u,{appear:!0,show:Pe,beforeEnter:()=>ye(!0),afterLeave:()=>ye(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,e.h)("div",R(R({},Oe),me),(0,e.h)(g,{title:Ee,subtitle:se,onClose:Fe,ref:G,className:ie},Ze))):(0,e.h)(T.u,{appear:!0,unmount:!1,show:Pe,beforeEnter:()=>ye(!0),afterLeave:()=>ye(!1),className:"tw-duration-fast"},(0,e.h)("div",R(R({},Oe),me),(0,e.h)(T.u,{appear:!0,unmount:!1,show:Pe,className:"transform-gpu tw-transition-all tw-duration-fast tw-ease-smooth",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,e.h)(F,R({className:ie,ref:G,padding:ae},!te&&{style:{maxHeight:ee,overflowY:"auto"}}),Ze))))))}),x=(0,s.forwardRef)((k,G)=>{const{useMobileBottomSheet:Q}=c(),q=(0,P.XA)();return Q&&q?(0,e.h)(y,S(R({},k),{ref:G})):(0,e.h)(w,S(R({},k),{ref:G}))}),F=(0,s.forwardRef)((k,G)=>{var Q=k,{className:q}=Q,z=N(Q,["className"]);return(0,e.h)(_.tu,R({className:v()(b.menu,"elevated",q),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:G},z))}),w=(0,s.forwardRef)((k,G)=>{var Q=k,{children:q,onClick:z,closeMenu:J,icon:te,rightIcon:oe,suffix:ie,priority:re="primary",className:ue,disabled:ce,href:Ee,download:se,hiddenInput:ne}=Q,ee=N(Q,["children","onClick","closeMenu","icon","rightIcon","suffix","priority","className","disabled","href","download","hiddenInput"]);const ae=Ee?"a":l.kG,{close:he}=c();return(0,e.h)(ae,R({className:v()(b.menuItem,b[re],ue,{[b.disabled]:!!ce,[b.relative]:!!ne}),resetCss:!0,onClick:me=>{ce||(z&&z(me),he?he():J&&J())},href:ce?"javascript:void(0)":Ee,download:se,ref:G},ee),te&&(0,e.cloneElement)(te,{size:24,className:v()(b.icon,te.props.className)}),(0,e.h)(r.xv.B4,{color:re==="destructive"?"accent-red":"primary",className:b.text,weight:"semibold",align:"left"},q),ie,oe&&(0,e.h)(e.Fragment,null,(0,e.h)(_.hs,{flex:"grow"}),oe&&(0,e.cloneElement)(oe,{size:24,className:v()(b.icon,oe.props.className)})),ne&&(0,e.h)(m.U,null,ne))});function V({title:k,children:G}){return h(FlexColumn,{borderTop:"detail"},k&&h(Text.Meta,{padding:8,flex:"auto",sizing:"border-box"},k),G)}const $=null},53940:(Y,C,t)=>{t.d(C,{u:()=>f,f:()=>d});var e=t(6400),s=t(98661),O=t(5285),T=t(81583),D=t(94184),v=t.n(D),P=t(50308),M=t.n(P),l=t(44396),_=t(4508),m=t(21958);const E={renderOverReactLaagPortal:"frontend-pencraft-Modal-Modal-module__renderOverReactLaagPortal--TqD1u",container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",bottom:"frontend-pencraft-Modal-Modal-module__bottom--YPMpX",hide:"frontend-pencraft-Modal-Modal-module__hide--a29WN",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f"};var c=Object.defineProperty,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(u,g,y)=>g in u?c(u,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):u[g]=y,i=(u,g)=>{for(var y in g||(g={}))o.call(g,y)&&a(u,y,g[y]);if(r)for(var y of r(g))n.call(g,y)&&a(u,y,g[y]);return u};const d=(0,m.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),p=({children:u})=>(0,e.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},u),f=({isOpen:u,onClose:g=()=>{},children:y,includeBackdrop:L=!0,position:b="default",opacity:I="medium",radius:A="medium",testId:U="modal",className:B,onEscape:W,fullscreenMobile:Z,overflow:K,width:R=440,disableCloseOnBackdropClick:S=!1,initialFocus:N,renderOverReactLaagPortal:j=!1})=>{const H=(0,l.XA)(),x=F=>{const{code:w}=F;W&&w==="Escape"&&W(F)};return(0,e.h)(O.u,{show:u,as:s.Fragment},(0,e.h)(T.V,{onMouseDown:F=>F.stopPropagation(),onMouseUp:F=>F.stopPropagation(),onClick:F=>F.stopPropagation(),"data-testid":U,as:"div",className:v()(j&&E.renderOverReactLaagPortal,"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto"),onClose:S?M():g,onKeyDown:W?x:void 0,initialFocus:N},(0,e.h)(p,null,L&&(0,e.h)(O.u.Child,{enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,e.h)("div",{className:I==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50","aria-hidden":!0})),(0,e.h)(O.u.Child,{as:s.Fragment,enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0 tw-translate-y-3",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-3"},(0,e.h)(T.V.Panel,{className:v()(B,(0,_.yK)({display:"flex",radius:A}),E.container,E[b],Z?E.fullscreenMobile:E.dynamicMobile),style:i({width:H||b==="full"?void 0:R,overflow:K},H&&Z&&typeof window!="undefined"&&window.innerHeight&&{height:`${window.innerHeight}px`})},y)))))}},29354:(Y,C,t)=>{t.d(C,{m:()=>_});var e=t(6400),s=t(94184),O=t.n(s),T=Object.defineProperty,D=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,M=(c,r,o)=>r in c?T(c,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[r]=o,l=(c,r)=>{for(var o in r||(r={}))v.call(r,o)&&M(c,o,r[o]);if(D)for(var o of D(r))P.call(r,o)&&M(c,o,r[o]);return c};const _=c=>c.alignment==="center"?(0,e.h)(E,l({},c)):(0,e.h)(m,l({},c)),m=({primaryButton:c,secondaryButton:r,destructiveButton:o,includeDivider:n,className:a})=>(0,e.h)("div",{className:O()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":n},a)},o&&(0,e.cloneElement)(o,{className:O()("tw-mr-auto",o.props.className)}),r,c),E=({includeDivider:c,primaryButton:r,secondaryButton:o,className:n})=>(0,e.h)("div",{className:O()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":c},n)},r,o)},28079:(Y,C,t)=>{t.d(C,{r:()=>l,x:()=>M});var e=t(6400),s=t(81583),O=t(94184),T=t.n(O),D=t(26059),v=t(33705),P=t(21958);const M=({isModal:_=!0,onClose:m,includeClose:E=!1,bottomBorder:c,title:r,description:o,as:n="h2",usePubThemeForTitle:a=!1,className:i,pagination:d})=>(0,e.h)("div",{className:T()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",i,{"tw-px-4":!d,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":c})},!r&&!d&&(0,e.h)(v.Z,{alt:"Substack icon",height:24}),d&&(0,e.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},d[0]," OF ",d[1]),E&&(0,e.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:m,"aria-label":"close"},(0,e.h)(D.Z,null)),r&&_&&(0,e.h)(s.V.Title,{as:n,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${a?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},r),o&&_&&(0,e.h)(s.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},o),r&&!_&&(0,e.h)(l,{className:"tw-col-start-1 tw-row-start-1"},r)&&(0,e.createElement)(n,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${a?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},r),o&&!_&&(0,e.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},o)&&(0,e.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},o)),l=(0,P.L)("tw-my-0 tw-font-title","h2")},92106:(Y,C,t)=>{var e=t(6400),s=t(94184),O=t(51126),T=t(43887);const D={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var v=Object.defineProperty,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(r,o,n)=>o in r?v(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,m=(r,o)=>{for(var n in o||(o={}))M.call(o,n)&&_(r,n,o[n]);if(P)for(var n of P(o))l.call(o,n)&&_(r,n,o[n]);return r},E=(r,o)=>{var n={};for(var a in r)M.call(r,a)&&o.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&P)for(var a of P(r))o.indexOf(a)<0&&l.call(r,a)&&(n[a]=r[a]);return n};const c=r=>{var o=r,{icon:n,text:a,textColor:i="secondary",bgColor:d="secondary",paddingX:p=24,paddingY:f=24,border:u,className:g,onClick:y}=o,L=E(o,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,m({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:p,paddingY:f,radius:12,border:u,className:cn(g,css.placeholder,css[`bg_${d}`],css[`text_${i}`],{[css.clickable]:!!y}),onClick:y},L),h(FlexColumn,{gap:8,alignItems:"center"},n,h(Text.B4,{color:i,className:css.text,weight:"bold"},a)))}},70925:(Y,C,t)=>{t.d(C,{J:()=>a});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(62372);const v={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var P=Object.defineProperty,M=Object.defineProperties,l=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,c=(p,f,u)=>f in p?P(p,f,{enumerable:!0,configurable:!0,writable:!0,value:u}):p[f]=u,r=(p,f)=>{for(var u in f||(f={}))m.call(f,u)&&c(p,u,f[u]);if(_)for(var u of _(f))E.call(f,u)&&c(p,u,f[u]);return p},o=(p,f)=>M(p,l(f)),n=(p,f)=>{var u={};for(var g in p)m.call(p,g)&&f.indexOf(g)<0&&(u[g]=p[g]);if(p!=null&&_)for(var g of _(p))f.indexOf(g)<0&&E.call(p,g)&&(u[g]=p[g]);return u};const a=p=>{var f=p,{className:u="",children:g,layerClassName:y,hideOnScroll:L=!1,onClose:b}=f,I=n(f,["className","children","layerClassName","hideOnScroll","onClose"]);const[A,U]=(0,s.eJ)(!1),B=d(r({open:A,onClose:()=>{U(!1),b==null||b()},hideOnScroll:L,className:y},I));return i({hideOnScroll:L,setOpen:U,open:A}),(0,e.h)("div",o(r({className:u},B.triggerProps),{onClick:W=>{U(!A),W.stopPropagation()}}),typeof g=="function"?g({isOpen:A}):g,B.layer)};function i({hideOnScroll:p,setOpen:f,open:u}){const g=(0,s.I4)(y=>{requestAnimationFrame(()=>{var L;const I=(L=y.target.classList)==null?void 0:L.contains("popoverLayerForScrollDetection");u&&p&&!I&&f(!1)})},[p,f,u]);(0,s.d4)(()=>{if(p)return window.addEventListener("scroll",g,!0),()=>{window.removeEventListener("scroll",g,!0)}},[g,p])}function d({open:p,onClose:f,disabled:u,possiblePlacements:g=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:y,snap:L=!1,onOpen:b,content:I,className:A,layerOptions:U,closeOnOutsideClick:B=!0}){const W=(0,s.sO)(!1);(0,s.d4)(()=>{p&&!W.current&&b&&(W.current=!0,b())},[p,b]);const{triggerProps:Z,layerProps:K,renderLayer:R}=(0,D.sJ)(r(r(r({isOpen:u?!1:p,overflowContainer:!1,auto:!0,snap:L,possiblePlacements:g,placement:y,containerOffset:10,triggerOffset:8},B&&{onOutsideClick:()=>f()}),y&&{placement:y}),U));return{triggerProps:Z,layer:p&&R((0,e.h)("div",r({className:T()("popoverLayerForScrollDetection",v.popoverBase,A)},K),typeof I=="function"?I({closePopover:f}):I))}}},65414:(Y,C,t)=>{t.d(C,{r:()=>c});var e=t(6400),s=t(12395),O=t(94184),T=t.n(O),D=t(30058),v=Object.defineProperty,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?v(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>{var a={};for(var i in o)M.call(o,i)&&n.indexOf(i)<0&&(a[i]=o[i]);if(o!=null&&P)for(var i of P(o))n.indexOf(i)<0&&l.call(o,i)&&(a[i]=o[i]);return a};const c=o=>{var n=o,{color:a="default",accessibilityLabel:i="Toggle setting",classNames:d,checked:p,small:f=!1,preflightClassName:u}=n,g=E(n,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const y=a==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return(0,e.h)(D.e,{className:u},(0,e.h)(s.r,m({className:T()(p?y:"tw-bg-neutral-400",f?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-smooth disabled:tw-bg-neutral-200",d),checked:p},g),(0,e.h)("span",{className:"tw-sr-only"},i),(0,e.h)("span",{"aria-hidden":"true",className:T()(p?`${f?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",f?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-smooth")})))};var r=null},75425:(Y,C,t)=>{t.d(C,{FN:()=>f,Us:()=>u,VW:()=>Z,dd:()=>K,lL:()=>g,pm:()=>R});var e=t(6400),s=t(98661),O=t(30396),T=t(5285),D=t(94184),v=t.n(D),P=t(71375),M=t(13833),l=t(21958),_=t(92271),m=t(51126),E=Object.defineProperty,c=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(S,N,j)=>N in S?E(S,N,{enumerable:!0,configurable:!0,writable:!0,value:j}):S[N]=j,d=(S,N)=>{for(var j in N||(N={}))n.call(N,j)&&i(S,j,N[j]);if(o)for(var j of o(N))a.call(N,j)&&i(S,j,N[j]);return S},p=(S,N)=>c(S,r(N));function f({text:S,cta:N,onAccept:j,href:H,onClose:x,Icon:F,className:w}){return(0,e.h)(L,{className:v()("tw-items-center",w)},(0,e.h)(m.gq,{className:"tw-flex-1",gap:12},F&&(0,e.h)(U,{Icon:F}),(0,e.h)(b,null,S)),(0,e.h)(m.gq,{className:"tw-flex-none",gap:12},N&&(typeof N=="string"?(H||j)&&(0,e.h)(_.z,{look:"flex",onClick:V=>{x==null||x(),j==null||j(V)},href:H},(0,e.h)(M.Av,{className:"tw-text-dark-secondary"},N)):N),(0,e.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,e.h)(A,{onClick:x})))}function u({title:S,body:N,buttons:j,onClose:H,Icon:x}){return(0,e.h)(L,{className:"tw-max-w-md"},x&&(0,e.h)(U,{Icon:x}),(0,e.h)(m.tu,{className:"tw-flex-0-5",gap:8},(0,e.h)(m.tu,{className:"tw-flex-0-5",gap:4},(0,e.h)(b,null,S),(0,e.h)(I,null,N)),j&&(0,e.h)(m.gq,{gap:24},j)),(0,e.h)(A,{onClick:H}))}function g(S){return(0,e.h)(_.z,d({look:"flex",className:"tw-h-9 tw-items-center"},S))}function y(S){return h("div",{className:B},h(f,d({},S)))}const L=(0,l.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),b=(0,l.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",M.Hj),I=(0,l.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",M.Hj);function A({onClick:S}){return(0,e.h)(_.z,{look:"flex",onClick:S},(0,e.h)(P.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function U({Icon:S}){return(0,e.h)(S,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const B="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",W=(0,e.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function Z({children:S}){const[N,j]=(0,O.eJ)(null),[H,x]=(0,O.eJ)("hidden"),[F,w]=(0,O.eJ)(0),V=(0,O.sO)(null),$=()=>{x("hidden")},k=(Q,{ttl:q=5e3}={})=>{j({element:Q({onClose:$}),ttl:q}),x("visible"),V.current!=null&&clearTimeout(V.current),V.current=q===null?null:setTimeout($,q)},G=Q=>{w(Math.min(F+Q,0))};return(0,e.h)(W.Provider,{value:{popToast:k,addOffset:G}},S,(0,e.h)("div",{className:B,style:{transform:`translateY(${F}px)`}},(0,e.h)(T.u,{appear:!0,show:!!N&&H==="visible",enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>V.current!=null&&clearTimeout(V.current),onMouseLeave:()=>{V.current!=null&&clearTimeout(V.current),N&&(V.current=N.ttl===null?null:setTimeout($,N.ttl))}},N==null?void 0:N.element)))}const K=S=>{const N=(0,s.forwardRef)((j,H)=>{const x=R();return(0,e.h)(S,p(d(d({},x),j),{ref:H}))});return N.displayName=`withToastContext(${S.name||S.displayName||"Anonymous"})`,N};function R(){return(0,O.qp)(W)}},92630:(Y,C,t)=>{t.d(C,{u:()=>i,_:()=>d});var e=t(6400),s=t(51126),O=t(25666),T=t(43887);const D={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB",shortcutKeys:"frontend-pencraft-Tooltip-module__shortcutKeys--olyP3",shortcutKey:"frontend-pencraft-Tooltip-module__shortcutKey--gTb7r"};var v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(u,g,y)=>g in u?v(u,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):u[g]=y,c=(u,g)=>{for(var y in g||(g={}))_.call(g,y)&&E(u,y,g[y]);if(l)for(var y of l(g))m.call(g,y)&&E(u,y,g[y]);return u},r=(u,g)=>P(u,M(g)),o=(u,g)=>{var y={};for(var L in u)_.call(u,L)&&g.indexOf(L)<0&&(y[L]=u[L]);if(u!=null&&l)for(var L of l(u))g.indexOf(L)<0&&m.call(u,L)&&(y[L]=u[L]);return y};const n=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],a=["left-start","left-center","left-end","right-start","right-center","right-end"],i=u=>{var g=u,{children:y,text:L,as:b="span",icon:I,hotkeys:A,preferPlacement:U="top-center",disabled:B,dangerouslySetTooltipZIndex:W,hoverOptions:Z={}}=g,K=o(g,["children","text","as","icon","hotkeys","preferPlacement","disabled","dangerouslySetTooltipZIndex","hoverOptions"]);const{layerProps:R,triggerProps:S,transitionProps:N,renderLayer:j,shouldShow:H}=(0,O.l)({layerOptions:{placement:U,possiblePlacements:a.includes(U)?a:n},hoverOptions:Z}),x=R,{style:F}=x,w=o(x,["style"]);return B?(0,e.h)(e.Fragment,null,y):(0,e.h)(e.Fragment,null,(0,e.h)(b,c(c({},S),K),y),H&&j((0,e.h)(d,{transitionProps:N,tooltipProps:r(c({},w),{style:r(c({},F),{maxWidth:350,zIndex:W||Number.MAX_SAFE_INTEGER})}),icon:I,text:L,hotkeys:A})))};function d({transitionProps:u,tooltipProps:g,icon:y,text:L,hotkeys:b}){const I=!!(b!=null&&b.length)&&(0,e.h)(p,null,b.map((A,U)=>(0,e.h)(f,{key:U},A)));return(0,e.h)("div",c({},g),(0,e.h)(O.x,c({},u),(0,e.h)("div",{className:D.tooltip},(0,e.h)(s.gq,{alignItems:"center",gap:8,className:D.tooltipContent},y&&(0,e.h)(e.Fragment,null,(0,e.cloneElement)(y,{size:20})," "),L,I))))}function p({children:u}){return(0,e.h)(T.xv,{as:"div",className:D.shortcutKeys,size:12,font:"text",weight:"medium",transform:"uppercase"},u)}function f({children:u}){return(0,e.h)(s.hs,{className:D.shortcutKey,alignItems:"center",justifyContent:"center"},(0,e.h)(T.xv.Meta,null,u))}},64927:(Y,C,t)=>{t.d(C,{X2:()=>O.X2,oB:()=>s.oB,sg:()=>O.sg,xv:()=>T.xv,zx:()=>e.zx});var e=t(84040),s=t(4508),O=t(51126),T=t(43887)},53570:(Y,C,t)=>{t.d(C,{X:()=>n});var e=t(6400),s=t(94184),O=t.n(s),T=t(25380);const D={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(a,i,d)=>i in a?v(a,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[i]=d,c=(a,i)=>{for(var d in i||(i={}))_.call(i,d)&&E(a,d,i[d]);if(l)for(var d of l(i))m.call(i,d)&&E(a,d,i[d]);return a},r=(a,i)=>P(a,M(i)),o=(a,i)=>{var d={};for(var p in a)_.call(a,p)&&i.indexOf(p)<0&&(d[p]=a[p]);if(a!=null&&l)for(var p of l(a))i.indexOf(p)<0&&m.call(a,p)&&(d[p]=a[p]);return d};const n=a=>{var i=a,{name:d,size:p="medium",checked:f,disabled:u=!1,error:g=!1,onChange:y,as:L="label",withTheme:b=!1}=i,I=o(i,["name","size","checked","disabled","error","onChange","as","withTheme"]);const A=L;return(0,e.h)(A,{className:O()("pencraft",D.container,D[p],u?D.disabled:D.enabled,f?b?D.checkedWithTheme:D.checked:D.unchecked,g?D.error:"")},f&&(0,e.h)(T.Z,{size:p==="small"?16:24}),(0,e.h)("input",r(c({},I),{className:"pencraft",type:"checkbox",name:d,"data-testid":d,checked:f,disabled:u,onChange:U=>{var B,W;!u&&y(!f,r(c({},U.target),{name:(W=(B=U.target)==null?void 0:B.name)!=null?W:""}))}})))}},72657:(Y,C,t)=>{t.d(C,{D:()=>O});var e=t(6400),s=t(13045);const O=({errors:T})=>T?(0,e.h)(e.Fragment,null,T.map(D=>(0,e.h)(s.xv.B4,{color:"error",key:D},D))):null},75328:(Y,C,t)=>{t.d(C,{g:()=>a});var e=t(6400),s=t(98661),O=t(94184),T=t.n(O),D=t(67963),v=t(17025);const P={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"},M=300,l=8,_=100;class m extends e.Component{constructor(d,p){super(d,p),this.cardRef=(0,e.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,e.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},_)}setIsShown(d){this.setState({isOpen:d,attachCard:d})}onClick(d){d.stopPropagation()}render({content:d,preferPositionLeft:p,className:f,children:u},{attachCard:g,isOpen:y}){var L,b,I;let A={},U=!1;if(g&&((L=this.wrapperRef)!=null&&L.current)){const{top:B,left:W}=this.wrapperRef.current.getBoundingClientRect(),{height:Z,width:K}=(I=(b=this.cardRef.current)==null?void 0:b.getBoundingClientRect())!=null?I:{};U=p&&W-K>0,U?A={top:B-l-Z,left:W-K-l,"max-width":M}:A={top:B-l-Z,"max-width":M,left:W}}return(0,e.h)("div",{className:T()(P.portalWrapper,f),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:B=>this.onClick(B),ref:this.wrapperRef},typeof u=="function"?u({}):u,g&&(0,s.createPortal)((0,e.h)("div",{className:T()(P.contentWrapper,{[P.contentWrapperShown]:y,"animate-opacity":!(0,v.isSafari)(),"position-left":U}),ref:this.cardRef,style:A,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},d),document.body))}}m.defaultProps={delay:_},m.contextType=D.St;const E=m,c={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},r=({content:i})=>(0,e.h)(E,{content:i},(0,e.h)("div",{className:c.learnMoreChip},"?"));var o=t(13045),n=t(72657);const a=(0,s.forwardRef)(({action:i,children:d,className:p,errors:f,helpText:u,details:g,label:y,paddingBottom:L,paddingTop:b,wrapWithLabel:I,disabled:A,compact:U},B)=>{const W=U?2:8;return(0,e.h)(o.tu,{ref:B,alignItems:"stretch",className:p,gap:W,paddingBottom:L,paddingTop:b,disabled:A},(0,e.h)(o.tu,{alignItems:"stretch",gap:W,as:I?"label":"div"},y&&(0,e.h)(o.gq,{gap:W,alignItems:"center"},(0,e.h)(o.xv.B4,{weight:"semibold",as:I?"div":"label",color:"primary"},y),u&&(0,e.h)(r,{content:u}),i&&(0,e.h)(o.gq,{flex:"grow",justifyContent:"end"},i)),d&&(0,e.h)("div",{className:T()({"has-error":f})},d)),g&&!Array.isArray(g)&&(0,e.h)(o.xv.Detail,null,g),g&&Array.isArray(g)&&g.length>0&&(0,e.h)(o.tu,{gap:4},g.map(Z=>(0,e.h)(o.xv.Detail,null,Z))),(0,e.h)(n.D,{errors:f}))})},92958:(Y,C,t)=>{t.d(C,{Y:()=>o});var e=t(6400),s=t(94184),O=t.n(s);const T={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP","radio--accent":"frontend-pencraft-form-Radio-module__radio--accent--GPQc_"};var D=Object.defineProperty,v=Object.defineProperties,P=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,m=(n,a,i)=>a in n?D(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i,E=(n,a)=>{for(var i in a||(a={}))l.call(a,i)&&m(n,i,a[i]);if(M)for(var i of M(a))_.call(a,i)&&m(n,i,a[i]);return n},c=(n,a)=>v(n,P(a)),r=(n,a)=>{var i={};for(var d in n)l.call(n,d)&&a.indexOf(d)<0&&(i[d]=n[d]);if(n!=null&&M)for(var d of M(n))a.indexOf(d)<0&&_.call(n,d)&&(i[d]=n[d]);return i};const o=n=>{var a=n,{color:i}=a,d=r(a,["color"]);return(0,e.h)("div",{className:O()(T.container)},(0,e.h)("input",c(E({},d),{type:"radio"})),(0,e.h)("span",{className:O()(T.radio,{[T["radio--accent"]]:i==="accent"})}))}},2019:(Y,C,t)=>{t.d(C,{g:()=>c});var e=t(6400),s=t(30396),O=t(51126),T=t(43887),D=t(75328),v=t(92958),P=Object.defineProperty,M=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,m=(r,o,n)=>o in r?P(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,E=(r,o)=>{for(var n in o||(o={}))l.call(o,n)&&m(r,n,o[n]);if(M)for(var n of M(o))_.call(o,n)&&m(r,n,o[n]);return r};const c=({horizontal:r,label:o,labelProps:n,name:a,options:i,paddingBottom:d,paddingTop:p,size:f="medium",value:u,variant:g,onChange:y,color:L})=>{const b=(0,s.I4)(A=>{y(A.target.value)},[y]);let I;return g==="boxed"?I=(0,e.h)(O.tu,{gap:8},i.map(({value:A,label:U,disabled:B,track:W,testid:Z})=>{const K=A===u;return(0,e.h)(O.gq,{alignItems:"center",as:"label",border:K?"accent-themed":"detail-themed",gap:8,padding:16,radius:6},(0,e.h)(v.Y,{checked:K,color:"accent","data-testid":Z,"data-track-input":W,disabled:B,name:a,value:A,onClick:b}),(0,e.h)(T.xv.B4,{as:"span",weight:K?"semibold":"normal"},U))})):I=(0,e.h)(O.gq,{gap:f==="medium"?8:16,direction:r?"row":"column"},i.map(({value:A,label:U,disabled:B,track:W,testid:Z})=>(0,e.h)(O.gq,{as:"label",gap:8,alignItems:"center",paddingLeft:4},(0,e.h)(v.Y,{color:L,checked:A===u,"data-testid":Z,"data-track-input":W,disabled:B,name:a,value:A,onClick:b}),f==="medium"?(0,e.h)(T.xv.B4,E({as:"span"},n),U):(0,e.h)(T.xv.B3,E({},n),U)))),(0,e.h)(D.g,{label:o,paddingBottom:d,paddingTop:p},I)}},34394:(Y,C,t)=>{t.d(C,{o:()=>n});var e=t(6400),s=t(98661),O=t(94184),T=t.n(O),D=t(51220),v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(a,i,d)=>i in a?v(a,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[i]=d,c=(a,i)=>{for(var d in i||(i={}))_.call(i,d)&&E(a,d,i[d]);if(l)for(var d of l(i))m.call(i,d)&&E(a,d,i[d]);return a},r=(a,i)=>P(a,M(i)),o=(a,i)=>{var d={};for(var p in a)_.call(a,p)&&i.indexOf(p)<0&&(d[p]=a[p]);if(a!=null&&l)for(var p of l(a))i.indexOf(p)<0&&m.call(a,p)&&(d[p]=a[p]);return d};const n=(0,s.forwardRef)((a,i)=>{var d=a,{className:p,error:f=!1,type:u="text",width:g,background:y,font:L}=d,b=o(d,["className","error","type","width","background","font"]);return(0,e.h)("input",r(c({},b),{className:T()(p,D.Z.input,{[D.Z.error]:f},L&&D.Z[`font-${L}`]),style:{width:g,background:y},type:u,ref:i}))})},27885:(Y,C,t)=>{t.d(C,{g:()=>n});var e=t(6400),s=t(98661),O=t(94184),T=t.n(O),D=t(51220),v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(a,i,d)=>i in a?v(a,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[i]=d,c=(a,i)=>{for(var d in i||(i={}))_.call(i,d)&&E(a,d,i[d]);if(l)for(var d of l(i))m.call(i,d)&&E(a,d,i[d]);return a},r=(a,i)=>P(a,M(i)),o=(a,i)=>{var d={};for(var p in a)_.call(a,p)&&i.indexOf(p)<0&&(d[p]=a[p]);if(a!=null&&l)for(var p of l(a))i.indexOf(p)<0&&m.call(a,p)&&(d[p]=a[p]);return d};const n=(0,s.forwardRef)((a,i)=>{var d=a,{className:p,error:f=!1,font:u}=d,g=o(d,["className","error","font"]);return(0,e.h)("textarea",r(c({ref:i,className:T()(p,D.Z.input,D.Z.textarea,{[D.Z.error]:f},u&&D.Z[`font-${u}`])},g),{type:"text"}))})},89581:(Y,C,t)=>{t.d(C,{x:()=>r});var e=t(30396),s=t(62372);let O=0;function T(o="",n=[]){return(0,e.Ye)(()=>(O++,O=O>Number.MAX_SAFE_INTEGER?1:O,`${o}${O}`),n)}var D=Object.defineProperty,v=Object.defineProperties,P=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,m=(o,n,a)=>n in o?D(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,E=(o,n)=>{for(var a in n||(n={}))l.call(n,a)&&m(o,a,n[a]);if(M)for(var a of M(n))_.call(n,a)&&m(o,a,n[a]);return o},c=(o,n)=>v(o,P(n));const r=({layerOptions:o,hideOnScroll:n,onClose:a}={})=>{const[i,d]=(0,e.eJ)(!1),{triggerProps:p,layerProps:f,renderLayer:u}=(0,s.sJ)(E({isOpen:i,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>{a&&a(),d(!1)}},o)),g=T("trigger"),y=T("dialog");return(0,e.d4)(()=>{if(n){const L=()=>{requestAnimationFrame(()=>{open&&n&&d(!1)})};return window.addEventListener("scroll",L,!0),()=>{window.removeEventListener("scroll",L,!0)}}},[n]),{triggerProps:c(E({},p),{id:g,"aria-expanded":i,"aria-haspopup":"dialog","aria-controls":y}),layerProps:c(E({},f),{id:y,role:"dialog",tabIndex:0,"aria-labeledby":g}),renderLayer:u,isOpen:i,setOpen:d}}},25666:(Y,C,t)=>{t.d(C,{l:()=>m,x:()=>E});var e=t(6400),s=t(30396),O=t(5285),T=t(62372),D=Object.defineProperty,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(c,r,o)=>r in c?D(c,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[r]=o,_=(c,r)=>{for(var o in r||(r={}))P.call(r,o)&&l(c,o,r[o]);if(v)for(var o of v(r))M.call(r,o)&&l(c,o,r[o]);return c};function m({hoverOptions:c,layerOptions:r}={}){const[o,n]=(0,s.eJ)(!1),[a,i]=(0,T.XI)(_({delayEnter:1e3,delayLeave:500},c)),{triggerProps:d,layerProps:p,renderLayer:f}=(0,T.sJ)(_({isOpen:a,auto:!0,triggerOffset:8},r));return{layerProps:p,triggerProps:_(_({},d),i),transitionProps:{show:a,beforeEnter:()=>n(!0),afterLeave:()=>n(!1)},renderLayer:f,shouldShow:a||o}}function E(c){return(0,e.h)(O.u,_({appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},c))}},30058:(Y,C,t)=>{t.d(C,{e:()=>T});var e=t(6400),s=t(94184),O=t.n(s);const T=({className:D,children:v,displayContents:P})=>(0,e.h)("div",{className:O()("tailwind-preflight",D),style:P?{display:"contents"}:{}},v)},15757:(Y,C,t)=>{t.d(C,{J:()=>a});var e=t(6400),s=t(98661),O=t(94184),T=t.n(O),D=t(4508),v=t(72947),P=Object.defineProperty,M=Object.defineProperties,l=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,c=(i,d,p)=>d in i?P(i,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[d]=p,r=(i,d)=>{for(var p in d||(d={}))m.call(d,p)&&c(i,p,d[p]);if(_)for(var p of _(d))E.call(d,p)&&c(i,p,d[p]);return i},o=(i,d)=>M(i,l(d)),n=(i,d)=>{var p={};for(var f in i)m.call(i,f)&&d.indexOf(f)<0&&(p[f]=i[f]);if(i!=null&&_)for(var f of _(i))d.indexOf(f)<0&&E.call(i,f)&&(p[f]=i[f]);return p};const a=(0,s.forwardRef)((i,d)=>{var p=i,{children:f,className:u,disable:g,href:y,hoverBackground:L,onClick:b}=p,I=n(p,["children","className","disable","href","hoverBackground","onClick"]);const A=g?void 0:b;return(0,e.h)(D.xu,o(r(r({},I),y?{as:"a",href:y}:{}),{ref:d,className:T()(u,!g&&v.Z.container,{[v.Z.containerHoverLight]:L==="light"&&!g}),role:A?"button":void 0,onClick:A}),f)})},94311:(Y,C,t)=>{t.d(C,{B:()=>v});var e=t(6400),s=t(98661),O=t(51126),T=t(43887),D=t(18540);const v=({className:m,children:E,detail:c,label:r,alignment:o="vertical",error:n=!1})=>{const a=o==="vertical"?P:M;return(0,e.h)(a,{className:m,detail:c,error:n,label:r},s.Children.map(E,i=>(0,s.isValidElement)(i)?(0,e.cloneElement)(i,{error:n}):i))},P=({children:m,className:E,detail:c,error:r,label:o})=>(0,e.h)(O.tu,{className:E,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(T.xv.B4,{weight:"semibold",as:"div",color:r?"error":"primary",paddingBottom:8},o),m),c&&(0,e.h)(_,{detail:c,error:r})),M=({children:m,className:E,detail:c,error:r,label:o})=>(0,e.h)(O.gq,{className:E,justifyContent:"space-between",alignItems:"center"},(0,e.h)(O.tu,{gap:4},o&&(0,e.h)(l,{label:o,error:r}),c&&(0,e.h)(_,{detail:c,error:r})),m),l=({label:m,error:E})=>(0,e.h)(T.xv.B4,{weight:"semibold",className:D.Z.label,color:E?"error":"primary"},m),_=({detail:m,error:E})=>(0,e.h)(T.xv.B4,{color:E?"error":"secondary"},m)},31763:(Y,C,t)=>{t.d(C,{N:()=>v});var e=t(6400),s=t(94184),O=t.n(s),T=t(51126),D=t(88482);const v=({tabs:M,activeTabId:l,onClick:_})=>(0,e.h)(T.gq,{gap:8},M.map(m=>(0,e.h)(P,{onClick:()=>{_(m.id)},active:m.id===l},m.title))),P=({active:M,onClick:l,children:_})=>(0,e.h)("div",{className:O()(D.Z.pillTab,{[D.Z.pillTabActive]:M}),role:"button",onClick:l},_)},96427:(Y,C,t)=>{t.d(C,{P:()=>p});var e=t(6400),s=t(94184),O=t.n(s),T=t(28488),D=t(99758),v=t(84040),P=t(51126),M=t(12876),l=t(43887);const _={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr",error:"frontend-pencraft-unstable-Select-module__error--TVttO"};var m=Object.defineProperty,E=Object.defineProperties,c=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(u,g,y)=>g in u?m(u,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):u[g]=y,i=(u,g)=>{for(var y in g||(g={}))o.call(g,y)&&a(u,y,g[y]);if(r)for(var y of r(g))n.call(g,y)&&a(u,y,g[y]);return u},d=(u,g)=>E(u,c(g));const p=({children:u,className:g,name:y,value:L,onChange:b,disabled:I=!1,placeholder:A="",error:U=!1})=>{var B;const W=u.find(Z=>Z.props.value===L);return W||console.error("Select: value not found in children. value:",L,"options:",u.map(Z=>Z.props.value)),(0,e.h)(P.gq,{className:O()(_.select,g,{[_.error]:U}),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,e.h)(l.xv,{className:O()(_.selectedOption,{[_.disabled]:I}),font:"text",size:14,color:U?"error":I||!L?"secondary":"primary"},(B=W==null?void 0:W.props.children)!=null?B:A),(0,e.h)(D.Z,null),(0,e.h)("select",{name:y,value:L,onChange:Z=>{var K;b(Z.target.value,d(i({},Z.target),{name:(K=Z.target.name)!=null?K:""}))},disabled:I},u))};function f({value:u,options:g,onChange:y,fill:L,disabled:b,className:I,buttonClassName:A,priority:U,placeholder:B}){var W,Z,K;const{iString:R}=useI18N();return h(Menu,{className:I,trigger:h(Button,{priority:U!=null?U:"secondary",fill:L,disabled:b,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select",className:A},(K=(Z=(W=g.find(S=>S.value===u))==null?void 0:W.label)!=null?Z:B)!=null?K:R("Select"))},g.map(S=>h(MenuItem,{onClick:()=>y(S.value)},S.label)))}},42433:(Y,C,t)=>{t.d(C,{YM:()=>A,ZP:()=>B});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(80569),v=t.n(D),P=t(17731),M=t(20501),l=t(76193),_=t(85928),m=t.n(_),E=t(74806),c=t(83322),r=t(90955),o=t(27165),n=t(25346),a=t(65162),i=t(28488),d=t(3258),p=t(13045),f=t(18302),u=t(54679),g=t(30017),y=t(84714),L=t(70821),b=t(5461),I=(K,R,S)=>new Promise((N,j)=>{var H=w=>{try{F(S.next(w))}catch(V){j(V)}},x=w=>{try{F(S.throw(w))}catch(V){j(V)}},F=w=>w.done?N(w.value):Promise.resolve(w.value).then(H,x);F((S=S.apply(K,R)).next())});const A=({visible:K,className:R=void 0,style:S={}})=>{const[N,j]=(0,s.eJ)(!1),[H,x]=(0,s.eJ)(K);(0,s.d4)(()=>{K?(x(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{j(!0)})})):j(!1)},[K]),(0,s.d4)(()=>{K&&x(!0)},[K]);function F(){K||x(!1)}return H?(0,e.h)("div",{className:`${b.Z.backdrop} ${N?b.Z.backdropVisible:b.Z.backdropHidden} ${R}`,onTransitionEnd:F,style:S}):null},B=({freeSignupEmail:K,isFreeSignup:R,isPaywall:S,post:N,pub:j,magicToken:H,user:x,onChange:F,onClickCommentButton:w,onTopReached:V,playerRef:$,onFeedChange:k,videoPlayerRef:G,reaction_token:Q})=>{var q;const z=(0,l.isMobile)({checkFirst4:!0}),J=!!(x!=null&&x.is_subscribed),te=!!(R||x!=null&&x.is_free_subscribed),[oe,ie]=(0,s.eJ)((q=N.podcast_duration)!=null?q:0),[re,ue]=(0,s.eJ)(null),[ce,Ee]=(0,s.eJ)(!1);(0,s.d4)(()=>{if(!J&&!te)return;(()=>I(void 0,null,function*(){const Oe=yield v().get("/api/v1/subscription/podcast_rss_url").query({token:H,section_id:N.section_id});Oe.body.podcast_rss_url&&(ue(Oe.body.podcast_rss_url),k(Oe.body.podcast_rss_url))}))()},[te,J,H]);const se=ve=>{ie(ve)},ne=!te||!J&&!!j.plans,ee=J&&(x==null?void 0:x.subscription_type)==="comp"&&m()(x==null?void 0:x.subscription_expiry).subtract(30,"days").isBeforeNow(),ae=te&&!J&&(x==null?void 0:x.comp_expired_recently),he=(0,c.getBylineUsers)(N).sort((ve,Oe)=>ve.id===j.author_id?-1:Oe.id===j.author_id?1:ve.is_guest&&!Oe.is_guest?-1:!ve.is_guest&&Oe.is_guest?1:(ve.name||"").localeCompare(Oe.name||"")),me=()=>{(0,d.track)(d.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:N.id,type:N.type}),Ee(!0)},ge=S?r.PE:n.Z;return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)(A,{visible:ce,style:{zIndex:1}}),(0,e.h)("div",{className:"container"},(0,e.h)(a.Z,{onVisible:V}),N.videoUpload&&(0,e.h)(ge,{mediaUpload:N.videoUpload,pub:j,post:N,autoPlay:!1,restorePlaybackLocation:!0,reaction_token:Q,ref:G,clippingMode:ce,onClippingModeCancel:()=>Ee(!1)}),(0,e.h)(W,{post:N,podcastDuration:oe,hideEpisodeImage:!!N.videoUpload}),(0,e.h)(o.a,{allowEdit:x==null?void 0:x.is_contributor,allowMobileFooter:!0,isStatic:!1,post:N,postReactionToken:H,pub:j,showDate:!0,showDatetime:!1,user:x,onChange:F,onCommentsClick:w,onClipClick:me,useWashBackground:!0}),N.videoUpload?null:S&&!(0,E.podcastPostIsFreePreview)(N)?(0,e.h)(u.Z,{post:N}):(0,e.h)(g.Z,{isFreeSubscribed:te,isSubscribed:J,post:N,pub:j,magicToken:H,onGetDuration:se,isPreview:(0,E.podcastPostIsFreePreview)(N),playerRef:$,feedUrl:re}),z&&(0,e.h)(f.wO,{feedUrl:re,post:N,pub:j,sectionId:N.section_id,hasAccessToPrivatePodcastFeed:J||te,fileSrc:N.podcast_url}),j.bylines_enabled&&he&&he.length?(0,e.h)(p.hs,{direction:"column",gap:24,paddingTop:N.videoUpload&&!z?0:24},(0,e.h)(p.xv.H4,{translated:!0,color:"pub-primary-text"},"Appears in this episode"),(0,e.h)(P.Y,{bylines:he,variant:"podcast"})):null,ee||ae?(0,e.h)(y.Z,{expiry:x.subscription_expiry,postId:N.id,podcastName:j.podcast_title,pub:j}):ne?(0,e.h)(L.Z,{freeSignupEmail:K,isFreeSubscribed:te,pub:j,user:x}):null))};function W({post:K,podcastDuration:R,hideEpisodeImage:S}){const{language:N}=(0,i.M1)();return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},!S&&K.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,M.imginary)(K.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},K.post_date?m()(K.post_date).locale(N).standardDate():m()().locale(N).standardDate(),R>0&&` \u2022 ${(0,c.formatPodcastDuration)(R)}`),K.title&&(0,e.h)("h1",{className:T()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":K.title.length<60,"tw-text-3xl sm:tw-text-3xl":K.title.length>=60&&K.title.length<110,"tw-text-2xl sm:tw-text-2xl":K.title.length>=110&&K.title.length<140,"tw-text-xl sm:tw-text-xl":K.title.length>=140})},K.title),K.subtitle&&(0,e.h)("h3",{className:T()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":K.subtitle.length<110,"tw-text-base":K.subtitle.length>=110})},K.subtitle)))}function Z({post:K,pub:R,user:S,isPaywall:N}){const j=!!(S!=null&&S.is_subscribed),H=!!(S.is_subscribed||S.is_free_subscribed),x="",[F,w]=useState(null);return useEffect(()=>{if(K.videoUpload||!j&&!H)return;(()=>I(this,null,function*(){const $=yield request.get("/api/v1/subscription/podcast_rss_url").query({token:x,section_id:K.section_id});$.body.podcast_rss_url&&w($.body.podcast_rss_url)}))()},[H,j,x]),K.videoUpload?h(VideoPlayer,{mediaUpload:K.videoUpload,pub:R,autoPlay:!1,restorePlaybackLocation:!0}):N&&!podcastPostIsFreePreview(K)?h(PodcastAudioPaywall,{post:K}):h(PodcastPostAudioPlayer,{isFreeSubscribed:H,isSubscribed:j,post:K,pub:R,magicToken:x,isPreview:podcastPostIsFreePreview(K),feedUrl:F})}},21136:(Y,C,t)=>{t.d(C,{Z:()=>M});var e=t(6400),s=t(94184),O=t.n(s),T=t(20501),D=t(83322),v=t(7922);const M=({className:l,pub:_,utmSource:m})=>{const E=typeof window!="undefined"?window.location.href:"",c=(0,T.getSubscribeUrl)(_,{params:{utm_source:m,simple:!0,next:E}});return(0,e.h)(v.Z,{className:O()("primary tw-text-sm tw-font-semibold",l),href:c},(0,D.getSubscribeText)(_))}},9686:(Y,C,t)=>{t.d(C,{I:()=>r});var e=t(6400),s=t(30396),O=t(99105),T=t(46209);function D(){const f=(0,s.sO)();return(0,s.d4)(()=>{var u;(u=f.current)==null||u.focus()},[]),f}var v=t(63503),P=t(8479),M=t(17025),l=t(5131),_=t(19696),m=t(34518),E=t(33510),c=(f,u,g)=>new Promise((y,L)=>{var b=U=>{try{A(g.next(U))}catch(B){L(B)}},I=U=>{try{A(g.throw(U))}catch(B){L(B)}},A=U=>U.done?y(U.value):Promise.resolve(U.value).then(b,I);A((g=g.apply(f,u)).next())});function r({onCancel:f,onSuccess:u,onSignup:g,noCloseButton:y,noExit:L}){const[b,I]=(0,s.eJ)("email"),[A,U]=(0,s.eJ)(""),B=()=>{I("mfa")};return(0,e.h)(m.Yy,{className:"",isPopup:!0,onClose:f,noCloseButton:y,noExit:L},(0,e.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,e.h)(T.Z,{className:"reader-nav-logo modal-header-icon"}),(0,e.h)(E.y,null,"Sign in to Substack"),b==="email"?(0,e.h)(n,{onUsePassword:W=>{U(W),I("password")},onSuccess:W=>{U(W),I("poll")}}):b==="poll"?(0,e.h)(a,{email:A,onSuccess:u,onChangeMode:I}):b==="mfa"?(0,e.h)(i,{onSuccess:u}):(0,e.h)(o,{email:A,onMfa:B,onSuccess:u})),g&&(0,e.h)(E.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,e.h)("span",null,"First time here?"," ",(0,e.h)(l.zx,{variant:"primary",look:"text",onClick:g},"Create an account"))))}function o({email:f,onSuccess:u,onMfa:g}){const y=(0,P.ib)({pathname:"/api/v1/login",method:"post"}),L=(0,s.sO)(),b=A=>c(this,null,function*(){if(A.preventDefault(),y.isLoading)return;const U=p(A.currentTarget);L.current&&(U.captcha_response=L.current.getResponse());const B=yield y.refetch({json:U});B instanceof Error||(B.mfa_required?g():u())}),I=D();return(0,e.h)(e.Fragment,null,y.error instanceof P.kp&&y.error.response.status===401&&(0,e.h)(O.Z,{ref:L}),(0,e.h)(d,{onSubmit:b,disabled:y.isLoading},(0,e.h)(E.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:f}),(0,e.h)(E.II,{type:"password",name:"password",placeholder:"Your password",ref:I}),y.error&&(0,e.h)(E.Xq,null,(0,M.getNetworkErrorMessage)(y.error)),(0,e.h)(l.zx,{type:"submit",variant:"primary"},y.isLoading?"Signing in...":"Sign in")))}function n({onUsePassword:f,onSuccess:u}){const g=(0,P.ib)({pathname:"/api/v1/email-login",method:"POST"}),y=b=>{if(b.preventDefault(),g.isLoading)return;const I=b.currentTarget.email.value;g.refetch({json:{email:I,redirect:location.pathname}}).then(A=>{A instanceof P.kp||u(I)})},L=D();return(0,e.h)(d,{onSubmit:y,disabled:g.isLoading},(0,e.h)(E.II,{type:"email",name:"email",placeholder:"Your email",ref:L}),(0,e.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,e.h)(l.zx,{type:"submit",variant:"primary"},g.isLoading?"Signing in...":"Sign in with email"),(0,e.h)(l.zx,{variant:"secondary",look:"borderless",onClick:()=>{var b;return f((b=L.current)==null?void 0:b.value)}},"or sign in with password")))}function a({email:f,onSuccess:u,onChangeMode:g}){return(0,v.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(y=>c(this,null,function*(){(yield y.json()).loggedIn&&u()}))},5e3),(0,e.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,e.h)("b",null,"Check your email"),(0,e.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,e.h)("b",null,f)," ","with a link that you can use to sign in."),(0,e.h)("div",null,"You can also"," ",(0,e.h)(l.zx,{look:"text",onClick:()=>g("email")},(0,e.h)("b",null,"try again"))," ","or"," ",(0,e.h)(l.zx,{look:"text",onClick:()=>g("password")},(0,e.h)("b",null,"sign in using your password")),"."))}function i({onSuccess:f}){const u=(0,P.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),g=y=>{y.preventDefault(),!u.isLoading&&u.refetch({json:p(y.currentTarget)}).then(L=>{L instanceof P.kp||f()})};return(0,e.h)(d,{onSubmit:g,disabled:u.isLoading},(0,e.h)(E.II,{type:"password",name:"code",placeholder:"Your MFA code"}),u.error&&(0,e.h)(E.Xq,null,(0,M.getNetworkErrorMessage)(u.error)),(0,e.h)(l.zx,{type:"submit",variant:"primary"},u.isLoading?"Signing in...":"Sign in"))}const d=(0,_.L)("tw-flex tw-flex-col tw-gap-3","form");function p(f){return Object.fromEntries(Array.from(f.elements).filter(u=>u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement).map(u=>[u.name,u.value]))}},97868:(Y,C,t)=>{t.d(C,{qE:()=>re,BG:()=>ce,YY:()=>Ee});var e=t(6400),s=t(94184),O=t.n(s),T=t(83322),D=t(34755),v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(se,ne,ee)=>ne in se?v(se,ne,{enumerable:!0,configurable:!0,writable:!0,value:ee}):se[ne]=ee,c=(se,ne)=>{for(var ee in ne||(ne={}))_.call(ne,ee)&&E(se,ee,ne[ee]);if(l)for(var ee of l(ne))m.call(ne,ee)&&E(se,ee,ne[ee]);return se},r=(se,ne)=>P(se,M(ne)),o=(se,ne)=>{var ee={};for(var ae in se)_.call(se,ae)&&ne.indexOf(ae)<0&&(ee[ae]=se[ae]);if(se!=null&&l)for(var ae of l(se))ne.indexOf(ae)<0&&m.call(se,ae)&&(ee[ae]=se[ae]);return ee};function n(se){var ne=se,{fill:ee="#FF6719"}=ne,ae=o(ne,["fill"]);const he=(0,T.colorLuma)(ee)>.6?"black":"white";return(0,e.h)(D.l,r(c({},ae),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,e.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:ee,stroke:"none"}),(0,e.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:he,stroke:"none"}),(0,e.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:he,stroke:"none"}),(0,e.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:he,stroke:"none"}))}const a=n;var i=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,u=(se,ne,ee)=>ne in se?i(se,ne,{enumerable:!0,configurable:!0,writable:!0,value:ee}):se[ne]=ee,g=(se,ne)=>{for(var ee in ne||(ne={}))p.call(ne,ee)&&u(se,ee,ne[ee]);if(d)for(var ee of d(ne))f.call(ne,ee)&&u(se,ee,ne[ee]);return se},y=(se,ne)=>{var ee={};for(var ae in se)p.call(se,ae)&&ne.indexOf(ae)<0&&(ee[ae]=se[ae]);if(se!=null&&d)for(var ae of d(se))ne.indexOf(ae)<0&&f.call(se,ae)&&(ee[ae]=se[ae]);return ee};function L(se){var ne=y(se,[]);return(0,e.h)(D.l,g({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},ne),(0,e.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,e.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,e.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,e.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,e.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,e.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const b=L;var I=Object.defineProperty,A=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,W=(se,ne,ee)=>ne in se?I(se,ne,{enumerable:!0,configurable:!0,writable:!0,value:ee}):se[ne]=ee,Z=(se,ne)=>{for(var ee in ne||(ne={}))U.call(ne,ee)&&W(se,ee,ne[ee]);if(A)for(var ee of A(ne))B.call(ne,ee)&&W(se,ee,ne[ee]);return se},K=(se,ne)=>{var ee={};for(var ae in se)U.call(se,ae)&&ne.indexOf(ae)<0&&(ee[ae]=se[ae]);if(se!=null&&A)for(var ae of A(se))ne.indexOf(ae)<0&&B.call(se,ae)&&(ee[ae]=se[ae]);return ee};function R(se){var ne=K(se,[]);return(0,e.h)(D.l,Z({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},ne),(0,e.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,e.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,e.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,e.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,e.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,e.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,e.h)("defs",null,(0,e.h)("clipPath",{id:"clip0_24306_47333"},(0,e.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const S=R;var N=t(13045),j=t(52743),H=t(51126),x=t(11688),F=t(33510),w=t(9178);const V={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var $=Object.defineProperty,k=Object.defineProperties,G=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,J=(se,ne,ee)=>ne in se?$(se,ne,{enumerable:!0,configurable:!0,writable:!0,value:ee}):se[ne]=ee,te=(se,ne)=>{for(var ee in ne||(ne={}))q.call(ne,ee)&&J(se,ee,ne[ee]);if(Q)for(var ee of Q(ne))z.call(ne,ee)&&J(se,ee,ne[ee]);return se},oe=(se,ne)=>k(se,G(ne)),ie=(se,ne)=>{var ee={};for(var ae in se)q.call(se,ae)&&ne.indexOf(ae)<0&&(ee[ae]=se[ae]);if(se!=null&&Q)for(var ae of Q(se))ne.indexOf(ae)<0&&z.call(se,ae)&&(ee[ae]=se[ae]);return ee};function re({user:se,size:ne,className:ee}){const ae=(0,j.getUserPhotoUrl)(se);return(0,e.h)(F.t5,{className:O()(V.avatar,ee),src:ae,size:ne})}function ue({user:se,size:ne,className:ee,badge:ae,badgeShape:he="square",showProfileHovercard:me}){return(0,j.getUserPhotoUrl)(se)?(0,e.h)(H.gq,{className:V.avatarContainer},(0,e.h)(x.cr,{module:"@/frontend/components/ProfileHoverCard",resolve:ve=>ve.ProfileHoverCard,onRequest:()=>Promise.all([t.e(9593),t.e(2685),t.e(8534),t.e(1321),t.e(7465)]).then(t.bind(t,80332)),whileLoading:(0,e.h)(re,{user:se,size:ne,className:ee}),subject:te({id:0,name:""},se),dontStopPropagation:!1,disabled:!me},(0,e.h)(re,{user:se,size:ne,className:ee})),ae&&(0,e.h)("div",{className:O()(V.badge,he&&V[he])},ae)):null}function ce(se){var ne=se,{pub:ee}=ne,ae=ie(ne,["pub"]);return(0,e.h)(ue,oe(te({},ae),{badge:ee&&(0,e.h)(w.F,{pub:ee,size:16})}))}function Ee(se){var ne=se,{subscriptionType:ee}=ne,ae=ie(ne,["subscriptionType"]);let he=null,me;return ee==="author"?(he=(0,e.h)(a,{height:16,className:V.subscriptionBadge}),me="Author"):ee==="founding"?(he=(0,e.h)(b,{height:16,className:V.subscriptionBadge}),me="Founding member"):ee==="paid"&&(he=(0,e.h)(S,{height:16,className:V.subscriptionBadge}),me="Paid subscriber"),he=he&&me?(0,e.h)(N.u,{text:me},he):null,(0,e.h)(ue,oe(te({},ae),{badge:he,badgeShape:"circle"}))}},5131:(Y,C,t)=>{t.d(C,{zx:()=>c});var e=t(6400),s=t(94184),O=t.n(s),T=t(7922),D=t(19696),v=Object.defineProperty,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(n,a,i)=>a in n?v(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i,m=(n,a)=>{for(var i in a||(a={}))M.call(a,i)&&_(n,i,a[i]);if(P)for(var i of P(a))l.call(a,i)&&_(n,i,a[i]);return n},E=(n,a)=>{var i={};for(var d in n)M.call(n,d)&&a.indexOf(d)<0&&(i[d]=n[d]);if(n!=null&&P)for(var d of P(n))a.indexOf(d)<0&&l.call(n,d)&&(i[d]=n[d]);return i};function c(n){var a=n,{className:i,variant:d,rounded:p,look:f="button",fixedHeight:u=!0,size:g="medium",hasLeftIcon:y,hasRightIcon:L,forwardedRef:b}=a,I=E(a,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,e.h)(T.k,m({className:O()("reader2-button",i,`reader2-button-${f}`,u&&"fixedHeight",d&&(["text","borderless"].includes(f)?`reader2-button-text-${d}`:`reader2-button-${d}`),(p||f==="circle")&&"reader2-button-rounded",`reader2-button-${g}`,y&&"hasLeftIcon",L&&"hasRightIcon"),ref:b},I))}function r(n){var a=n,{isActive:i=!1,isSmall:d=!1,icon:p,children:f}=a,u=E(a,["isActive","isSmall","icon","children"]);return h("button",m({className:classnames("reader2-button-reset reader2-tab",i&&"active",d&&"small",p?"hasIcon":null)},u),p,f)}const o=(0,D.L)("reader2-button-row")},657:(Y,C,t)=>{t.d(C,{b4:()=>u,De:()=>g,eK:()=>f});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(2564),v=t(56743),P=t(51126),M=t(5131);const l={scrollBox:"frontend-reader2-Carousel-module__scrollBox--HIlKF",fade:"frontend-reader2-Carousel-module__fade--EqSH7",visible:"frontend-reader2-Carousel-module__visible--iu6OA",bg:"frontend-reader2-Carousel-module__bg--PNWMY",left:"frontend-reader2-Carousel-module__left--TFwbc",right:"frontend-reader2-Carousel-module__right--tgs0W",arrow:"frontend-reader2-Carousel-module__arrow--U6JnW"};var _=t(28967),m=Object.defineProperty,E=Object.defineProperties,c=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(y,L,b)=>L in y?m(y,L,{enumerable:!0,configurable:!0,writable:!0,value:b}):y[L]=b,i=(y,L)=>{for(var b in L||(L={}))o.call(L,b)&&a(y,b,L[b]);if(r)for(var b of r(L))n.call(L,b)&&a(y,b,L[b]);return y},d=(y,L)=>E(y,c(L)),p=(y,L)=>{var b={};for(var I in y)o.call(y,I)&&L.indexOf(I)<0&&(b[I]=y[I]);if(y!=null&&r)for(var I of r(y))L.indexOf(I)<0&&n.call(y,I)&&(b[I]=y[I]);return b};const f=(y,{inset:L=0,pageSizeAdjust:b=0,initialState:I}={})=>{const[A,U]=(0,s.eJ)(I||{showLeft:!1,showRight:!1});return(0,s.d4)(()=>{const{current:W}=y;if(W){const Z=()=>{U(K=>{let R=K;!R.showLeft&&W.scrollLeft>L?R=d(i({},K),{showLeft:!0}):R.showLeft&&W.scrollLeft<=L&&(R=d(i({},K),{showLeft:!1}));const S=W.scrollWidth-W.offsetWidth-4-L;return!R.showRight&&W.scrollLeft<S?R=d(i({},K),{showRight:!0}):R.showRight&&W.scrollLeft>=S&&(R=d(i({},K),{showRight:!1})),R})};return W.addEventListener("scroll",Z),setTimeout(()=>{Z()},1e3),()=>{W.removeEventListener("scroll",Z)}}},[]),{state:A,handleArrowClick:W=>()=>{const{current:Z}=y;Z&&Z.scrollBy({left:W*(Z.offsetWidth-b),behavior:"smooth"})}}};function u({direction:y,isVisible:L=!0,onClick:b}){return(0,e.h)("div",{className:T()(l.fade,L&&l.visible,l[y],_.Z.peopleYouMayKnowArrows)},(0,e.h)("div",{className:l.bg}),(0,e.h)(M.zx,{look:"reset",className:l.arrow,onClick:b},y==="right"?(0,e.h)(D.Z,null):(0,e.h)(v.Z,null)))}function g(y){var L=y,{className:b,scrollRef:I}=L,A=p(L,["className","scrollRef"]);return(0,e.h)(P.hs,d(i({},A),{className:T()(l.scrollBox,b),ref:I,overflowX:"auto",scrollBar:"hidden",minWidth:0,onTouchStart:U=>{const{pageX:B}=U;B!==void 0&&(B>10&&B<window.innerWidth-10||U.preventDefault())}}))}},55886:(Y,C,t)=>{t.d(C,{t:()=>E});var e=t(6400),s=t(4508),O=t(20501),T=t(79786),D=Object.defineProperty,v=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,l=(r,o,n)=>o in r?D(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,_=(r,o)=>{for(var n in o||(o={}))P.call(o,n)&&l(r,n,o[n]);if(v)for(var n of v(o))M.call(o,n)&&l(r,n,o[n]);return r},m=(r,o)=>{var n={};for(var a in r)P.call(r,a)&&o.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&v)for(var a of v(r))o.indexOf(a)<0&&M.call(r,a)&&(n[a]=r[a]);return n};function E(r){var o=r,{className:n,src:a,noStyle:i=!1,loading:d,onError:p}=o,f=m(o,["className","src","noStyle","loading","onError"]);let u,g;return"size"in f?(u=f.size,g=f.size):(u=f.width,g=f.height),(0,e.h)(T.e,{src:a,maxWidth:u*2,className:n,imageProps:{height:g*2,crop:"fill",gravity:"auto"},style:i?void 0:{width:u,height:g},objectFit:"cover",loading:d,onError:p})}function c(r){var o=r,{className:n,src:a,noStyle:i=!1,loading:d,onError:p}=o,f=m(o,["className","src","noStyle","loading","onError"]);let u,g;return"size"in f?(u=f.size,g=f.size):(u=f.width,g=f.height),h(Box,_({as:"img",src:imginary(a)},f))}},15822:(Y,C,t)=>{t.d(C,{S:()=>c});var e=t(6400),s=t(94184),O=t.n(s),T=t(51126);const D={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var v=Object.defineProperty,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(r,o,n)=>o in r?v(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,m=(r,o)=>{for(var n in o||(o={}))M.call(o,n)&&_(r,n,o[n]);if(P)for(var n of P(o))l.call(o,n)&&_(r,n,o[n]);return r},E=(r,o)=>{var n={};for(var a in r)M.call(r,a)&&o.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&P)for(var a of P(r))o.indexOf(a)<0&&l.call(r,a)&&(n[a]=r[a]);return n};function c(r){var o=r,{className:n}=o,a=E(o,["className"]);return(0,e.h)(T.hs,m({justifyContent:"center",alignItems:"center",className:O()(D.container,n)},a),(0,e.h)("div",{className:D.drunkSpinner}))}},54520:(Y,C,t)=>{t.d(C,{SV:()=>_});var e=t(6400),s=t(30396),O=t(20042),T=t(79786),D=t(8479),v=t(11533),P=t(51126),M=t(43887);function l(){const{result:E}=(0,D.Wf)(()=>Promise.all([t.e(2301),t.e(1486)]).then(t.bind(t,71486)).then(c=>c.Sentry),[],{auto:!0});return(0,s.cO)(c=>{console.error(c),E&&E.captureException(c)})}function _({children:E}){const[c,r]=l(),o=(0,s.sO)((0,O.getCurrentUrl)());return(0,v.js)(n=>{c&&o.current!==n&&r(),o.current=n},[]),c?(0,e.h)(m,null):E}function m(){return(0,e.h)(P.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,e.h)(T.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,e.h)(P.tu,{gap:8},(0,e.h)(M.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,e.h)(M.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},18130:(Y,C,t)=>{t.d(C,{c:()=>a,r:()=>n});var e=t(6400),s=t(98661),O=t(20042),T=t(92298),D=t(13045),v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(i,d,p)=>d in i?v(i,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[d]=p,c=(i,d)=>{for(var p in d||(d={}))_.call(d,p)&&E(i,p,d[p]);if(l)for(var p of l(d))m.call(d,p)&&E(i,p,d[p]);return i},r=(i,d)=>P(i,M(d)),o=(i,d)=>{var p={};for(var f in i)_.call(i,f)&&d.indexOf(f)<0&&(p[f]=i[f]);if(i!=null&&l)for(var f of l(i))d.indexOf(f)<0&&m.call(i,f)&&(p[f]=i[f]);return p};const n=(0,s.forwardRef)((i,d)=>{var p=i,{href:f,onClick:u,campaign:g,replace:y,state:L,showBack:b}=p,I=o(p,["href","onClick","campaign","replace","state","showBack"]);L=b?r(c({},L),{showBack:!0}):L;const A=a({href:f,onClick:u,campaign:g,replace:y,state:L});return(0,e.h)(D.xu,c(r(c({as:"a"},I),{ref:d}),A))});function a({onClick:i,href:d,campaign:p,replace:f,state:u}){if(d){let y;try{y=new URL(d)}catch(L){try{y=new URL(`${document.location.origin}${d}`)}catch(b){}}if(y){if(y.origin===document.location.origin&&!p){const L=new URLSearchParams,b={};for(const[I,A]of y.searchParams)I.startsWith("utm_")?I==="utm_campaign"?b.name=A:b[I.replace(/^utm_/,"")]=A:L.append(I,A);p=b,d=`${y.pathname}${L}`}else if(y.origin!==document.location.origin&&p){for(const[L,b]of Object.entries(p)){const I=L==="name"?"campaign":L;y.searchParams.set(`utm_${I}`,b)}d=y.toString()}}}return{href:d,onClick:y=>{i==null||i(y),!y.defaultPrevented&&!y.ctrlKey&&!y.shiftKey&&!y.metaKey&&d&&((0,T.j)(c({},p)),y.preventDefault(),y.stopPropagation(),(0,O.route)(d,f),u&&history.replaceState(u,""))}}}},34518:(Y,C,t)=>{t.d(C,{Yy:()=>m});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(26059),v=t(74285),P=t(17025),M=t.n(P),l=t(5131),_=t(19696);function m({children:o,className:n,onClose:a,hasClosePill:i,isPopup:d,noExit:p,noExitOnClick:f,noFullscreen:u,noCloseButton:g,testID:y}){const L=(0,s.sO)(),b=I=>{!p&&!f&&d&&(u||window.innerWidth>540)&&(I.stopPropagation(),I.preventDefault(),a())};return(0,e.h)(v.h,null,(0,e.h)("div",{className:T()("modal simple-modal wide typography","in",n,{"has-close-pill":i,popup:d}),"data-testid":y,role:"dialog"},(0,e.h)("div",{className:"modal-table"},(0,e.h)("div",{className:"modal-row"},(0,e.h)("div",{className:T()("modal-cell modal-content reader2-modal",{"no-fullscreen":u})},(0,e.h)("div",{className:"modal-clickspace",onClick:b}),(0,e.h)("div",{className:"container",ref:L},!p&&(!g||(0,P.isMobileBrowser)())&&(0,e.h)(l.zx,{className:T()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":i}),onClick:()=>a()},(0,e.h)(D.Z,null)),o))))))}function E({children:o,onCancel:n}){return h(m,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:n},h(c,null,o))}const c=(0,_.L)("simple-modal-pad reader2-confirm-modal"),r=(0,_.L)("buttons")},10174:(Y,C,t)=>{t.d(C,{Au:()=>F,i3:()=>w,oC:()=>$,sA:()=>N});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(13639),v=t(59009),P=t(82622),M=t(20501),l=t(77190),_=t(67963),m=t(62952),E=t(8479),c=t(84040),r=t(51126),o=t(62246),n=t(43887),a=t(97868),i=t(91870),d=t(11688),p=t(50292),f=t(44396),u=t(70762),g=t(7980),y=Object.defineProperty,L=Object.defineProperties,b=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,B=(Q,q,z)=>q in Q?y(Q,q,{enumerable:!0,configurable:!0,writable:!0,value:z}):Q[q]=z,W=(Q,q)=>{for(var z in q||(q={}))A.call(q,z)&&B(Q,z,q[z]);if(I)for(var z of I(q))U.call(q,z)&&B(Q,z,q[z]);return Q},Z=(Q,q)=>L(Q,b(q)),K=(Q,q)=>{var z={};for(var J in Q)A.call(Q,J)&&q.indexOf(J)<0&&(z[J]=Q[J]);if(Q!=null&&I)for(var J of I(Q))q.indexOf(J)<0&&U.call(Q,J)&&(z[J]=Q[J]);return z},R=(Q,q,z)=>new Promise((J,te)=>{var oe=ue=>{try{re(z.next(ue))}catch(ce){te(ce)}},ie=ue=>{try{re(z.throw(ue))}catch(ce){te(ce)}},re=ue=>ue.done?J(ue.value):Promise.resolve(ue.value).then(oe,ie);re((z=z.apply(Q,q)).next())});function S(Q){var q=Q,{isOpen:z}=q,J=K(q,["isOpen"]);return(0,e.h)(o.u_,{className:g.Z.composerModal,isOpen:z,onClose:J.onClose,fullscreenMobile:!0},(0,e.h)(d.cr,Z(W({},J),{module:"../feed/NoteComposer",resolve:te=>te.NoteComposer,onRequest:()=>Promise.all([t.e(1055),t.e(4430),t.e(4679),t.e(4747),t.e(4041),t.e(8534),t.e(1619),t.e(5870),t.e(7031),t.e(3640),t.e(2892),t.e(662),t.e(3882),t.e(2502)]).then(t.bind(t,54248)),whileLoading:(0,e.h)("div",{style:{height:410}})})))}function N({disabled:Q,parentPubId:q,parentPostId:z,parentCommentId:J,placeholder:te,tabId:oe}){const ie=w(),re=(0,_.aF)(),ue=(0,f.XA)(),{requireLogin:ce}=(0,p.SJ)(),Ee=()=>{Q||(re?ie.open({parentPubId:q,parentPostId:z,parentCommentId:J,tabId:oe}):ce==null||ce())},se=(0,m.h)({onAddFiles:ne=>{ie.open({parentPubId:q,parentPostId:z,parentCommentId:J,initialFiles:ne,tabId:oe})}});return(0,e.h)(r.tu,W({},se.props),(0,e.h)(r.gq,{gap:12,alignItems:"center",className:T()(g.Z.inlineComposer,{[g.Z.disabled]:Q})},re?(0,e.h)(r.hs,{as:"a",flex:"auto",href:(0,M.getReaderProfileUrl)(re,{noBase:!0})},(0,e.h)(a.qE,{size:ue?36:40,user:re})):(0,e.h)(r.hs,{flex:"auto"},(0,e.h)(a.qE,{size:ue?36:40})),(0,e.h)(c.kG,{className:T()(g.Z.inlineComposerButton,{[g.Z.mobile]:ue,[g.Z.disabled]:Q,[g.Z.isDropping]:se.isDragging}),onClick:Ee,disabled:Q,resetCss:!0},(0,e.h)(n.xv.B3,{size:ue?14:16,align:"left",color:"secondary"},te||"What's on your mind?")),!ue&&(0,e.h)(c.zx,{disabled:!0,rounded:!0},"Post")))}function j(){const Q=w(),q=useUser(),z=()=>{Q.open({})};return q?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:z,shadow:"medium"},h(Plus,{size:24})):null}const H={isOpen:!1,firstComment:void 0},x=(0,e.createContext)({state:H,open:()=>R(void 0,null,function*(){throw new Error("Not implemented")})});function F({children:Q}){var q,z,J;const te=(0,_.aF)(),oe=!(te!=null&&te.name),ie=(0,i.I0)(),[re,ue]=(0,s.eJ)(H),{feedItem:ce}=re,Ee=$(ce),se=(ce==null?void 0:ce.type)==="comment"?(z=(q=ce.parentComments)==null?void 0:q[0])!=null?z:ce.comment:null;(0,s.d4)(()=>{te&&Promise.all([t.e(1055),t.e(4430),t.e(4679),t.e(4747),t.e(4041),t.e(8534),t.e(1619),t.e(5870),t.e(7031),t.e(3640),t.e(2892),t.e(662),t.e(3882),t.e(2502)]).then(t.bind(t,54248))},[te]),(0,s.d4)(()=>{re.isOpen&&Promise.all([t.e(4041),t.e(8534),t.e(1619),t.e(5870),t.e(7031),t.e(3640),t.e(2892),t.e(662),t.e(4495),t.e(5018)]).then(t.bind(t,83097))},[re.isOpen]);const ne=(0,s.Ye)(()=>({state:re,open:he=>new Promise((me,ge)=>{ue(Z(W(W({},H),he),{isOpen:!0,resolve:me,reject:ge}))})}),[re]),ee=()=>{var he,me;(me=(he=document.activeElement)==null?void 0:he.blur)==null||me.call(he),ue(Z(W({},re),{isOpen:!1}))},ae=!1;return(0,e.h)(x.Provider,{value:ne},Q,oe?(0,e.h)(V,{isOpen:re.isOpen,onClose:ee,onSuccess:()=>ue(Z(W({},re),{isOpen:!0}))}):ae?(0,e.h)(o.u_,{isOpen:re.isOpen,onClose:ee,width:316},(0,e.h)(G,{onClose:ee})):Ee?(0,e.h)(o.u_,{isOpen:re.isOpen,onClose:ee,width:316},(0,e.h)(k,{onClose:ee,requirement:Ee,writerId:(J=se==null?void 0:se.user_id)!=null?J:0})):(0,e.h)(S,Z(W({},re),{isOpen:re.isOpen,onClose:ee,onSuccess:he=>{var me,ge;he.isFirstFeedCommentByUser?ue(Z(W({},re),{firstComment:he})):ee(),ie({type:re.editComment?"edit_comment":"new_comment",payload:{comment:he}}),(me=re.onCompose)==null||me.call(re,he),(ge=re.resolve)==null||ge.call(re,he)},onError:re.reject})),(0,e.h)(o.u_,{isOpen:re.isOpen&&!!re.firstComment},re.firstComment&&(0,e.h)(d.cr,{module:"../feed/NuxModal",resolve:he=>he.FeedNuxShareFirstNote,onRequest:()=>Promise.all([t.e(4041),t.e(8534),t.e(1619),t.e(5870),t.e(7031),t.e(3640),t.e(2892),t.e(662),t.e(4495),t.e(5018)]).then(t.bind(t,83097)),onClose:ee,comment:re.firstComment})))}function w(){return(0,s.qp)(x)}function V({isOpen:Q,onClose:q,onSuccess:z}){const J=(0,_.SE)();return(0,e.h)(o.u_,{isOpen:Q,onClose:q,fullscreenMobile:!0},(0,e.h)(o.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:q}),(0,e.h)(l._0,{className:g.Z.setupProfileModalContent,pageTitle:"",user:J.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:te=>{J.setUser(te.body),z()}}))}function $(Q){var q,z;const J=(0,_.aF)(),te=Q==null?void 0:Q.post,oe=(Q==null?void 0:Q.type)=="comment"?(z=(q=Q.parentComments)==null?void 0:q[0])!=null?z:Q.comment:null,{user_id:ie}=oe!=null?oe:{};let{reply_minimum_role:re}=oe!=null?oe:{};const ue=(0,u.K)(ie!=null?ie:0);if(re==null&&(te==null?void 0:te.write_comment_permissions)==="only_paid"&&(re="paid_subscriber"),!ie||!re||Q!=null&&Q.canReply||oe&&J&&(0,P._N)(oe,J.id))return null;if(re){if(re==="free_subscriber"&&(!ue||!["free_subscription","subscribed"].includes(ue)))return"free_subscriber";if(re==="paid_subscriber"&&ue!=="subscribed")return"paid_subscriber"}return null}function k({requirement:Q,writerId:q,onClose:z}){var J;const te=(0,_.aF)(),{error:oe,result:ie}=(0,E.ib)({pathname:`/api/v1/user/${q}/primary-publication`,deps:[q],auto:!0});return(0,e.h)(r.tu,{padding:16},(0,e.h)(r.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,e.h)(D.Z,{size:32,color:"var(--color-primary)"})),(0,e.h)(r.tu,{gap:20},(0,e.h)(r.tu,{gap:8,alignItems:"center"},(0,e.h)(n.xv.H3,{align:"center"},Q==="free_subscriber"?"Subscribers only":"Paid subscribers only"),ie&&(0,e.h)(n.xv.B3,{color:"secondary",align:"center"},"To join the conversation,"," ",Q==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(J=ie.name)!=null?J:"this publication",".")),(0,e.h)(r.tu,{gap:8},ie&&(0,e.h)(c.zx,{priority:"primary",rounded:!0,href:(0,M.getSubscribeUrl)(ie,{user:te,addBase:!0,params:{utm_source:v.UTM_SOURCE.feedCommentReplyRestriction}})},"Subscribe"),(0,e.h)(c.zx,{priority:"secondary",rounded:!0,onClick:z},"Cancel"))))}function G({onClose:Q}){return(0,e.h)(r.tu,{padding:16},(0,e.h)(r.tu,{gap:20},(0,e.h)(r.tu,{gap:8,alignItems:"center"},(0,e.h)(n.xv.H3,{align:"center"},"Confirm your email address"),(0,e.h)(n.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before posting a note.")),(0,e.h)(r.tu,{gap:8},(0,e.h)(c.zx,{priority:"primary",rounded:!0,onClick:Q},"Ok"),(0,e.h)(c.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(Y,C,t)=>{t.d(C,{t5:()=>p.t,Sv:()=>d.S,Xq:()=>De,EU:()=>Ve,II:()=>Q,Uj:()=>S,y:()=>ae,zr:()=>Re,mE:()=>ne,pe:()=>ue,Vm:()=>f.V,Hj:()=>Pe,_Y:()=>j,mb:()=>te,eK:()=>o.eK});var e=t(6400),s=t(98661),O=t(30396),T=t(94184),D=t.n(T),v=t(1852),P=t(59009),M=t(20501),l=t(16527),_=t(17025),m=t(51126),E=t(43887),c=t(44396),r=t(5131),o=t(657),n=t(19696),a=t(54520);const i={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3",tabContainerBorder:"frontend-reader2-Page-module__tabContainerBorder--xZFpY"};var d=t(15822),p=t(55886),f=t(23587),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,A=(Ue,Be,Ke)=>Be in Ue?u(Ue,Be,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):Ue[Be]=Ke,U=(Ue,Be)=>{for(var Ke in Be||(Be={}))b.call(Be,Ke)&&A(Ue,Ke,Be[Ke]);if(L)for(var Ke of L(Be))I.call(Be,Ke)&&A(Ue,Ke,Be[Ke]);return Ue},B=(Ue,Be)=>g(Ue,y(Be)),W=(Ue,Be)=>{var Ke={};for(var Qe in Ue)b.call(Ue,Qe)&&Be.indexOf(Qe)<0&&(Ke[Qe]=Ue[Qe]);if(Ue!=null&&L)for(var Qe of L(Ue))Be.indexOf(Qe)<0&&I.call(Ue,Qe)&&(Ke[Qe]=Ue[Qe]);return Ke};function Z({children:Ue}){const Be=useMobile();return h(ce,null,Be?h(Text.H2,null,Ue):h(Text.H1,null,Ue))}function K({className:Ue,children:Be,title:Ke,hasTitle:Qe}){return h("div",{className:classnames("reader2-page-section",(Ke||Qe)&&"withTitle",Ue)},Ke&&h(R,null,Ke),Be)}function R({children:Ue,className:Be,actions:Ke}){return h("div",{className:classnames("reader2-section-title",Be)},h("span",{className:"reader2-text-h3 reader2-section-title"},Ue),Ke&&h("div",{className:"reader2-header-actions"},Ke))}const S=(0,s.forwardRef)((Ue,Be)=>{var Ke=Ue,{isPadded:Qe=!0,className:qe,linkClassName:pt}=Ke,st=W(Ke,["isPadded","className","linkClassName"]);return(0,e.h)("div",{ref:Be,className:D()(i.linkRow,Qe&&i.isPadded,qe)},(0,e.h)(N,B(U({},st),{className:pt})))});function N(Ue){var Be=Ue,{children:Ke,className:Qe,href:qe,newTab:pt,onClick:st,noAnchor:it,native:rt,utmCampaign:Pt,utmSource:dt,isSelected:Ne}=Be,Le=W(Be,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const Ae=typeof location!="undefined"?location.pathname:"",je=!it&&qe!=null?"a":"div",Ie=qe&&(0,M.pathWithQuery)(qe,{utm_source:dt||Ae,utm_medium:P.UTM_MEDIUM.reader2,utm_campaign:Pt}),xe=$e=>{st&&st($e),!$e.defaultPrevented&&it&&Ie&&(0,l.Q)($e,Ie,{native:rt,newTab:pt})};return(0,e.h)(m.hs,U({as:je,className:D()(i.linkRowA,Qe,(Ie||st)&&Ne==null&&i.isClickable,Ne&&i.isSelected,Ne!=null&&i.isSelectable),"data-selected":Ne,href:Ie,target:pt?"_blank":void 0,onClick:xe},Le),Ke)}function j({icon:Ue,title:Be,text:Ke,action:Qe,className:qe}){return(0,e.h)(m.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:D()(i.zero,qe)},Ue,(0,e.h)(m.tu,{gap:4},(0,e.h)(E.xv.B4,{weight:"medium",color:"secondary"},Be),(0,e.h)(E.xv.B4,{color:"secondary"},Ke)),Qe)}function H(Ue){var Be=Ue,{className:Ke,variant:Qe,size:qe,serif:pt,isConstrained:st,maxLines:it=3}=Be,rt=W(Be,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",U({className:classnames("reader2-paragraph",Qe&&`reader2-${Qe}`,qe&&`reader2-font-${qe}`,pt&&"reader2-font-serif",st&&`reader2-clamp-lines reader2-${it}-lines`,Ke)},rt))}function x({className:Ue,children:Be}){return h("div",{className:classnames("reader-nav-center",Ue)},h("div",{className:"reader2-page reader2-font-base"},Be))}function F({className:Ue,scrollRef:Be,children:Ke}){return h(G,{ref:Be},h(x,{className:Ue},Ke))}function w(Ue){var Be=Ue,{scrollRef:Ke}=Be,Qe=W(Be,["scrollRef"]);return h(G,{ref:Ke},h(FlexBox,B(U({},Qe),{flex:"grow",paddingX:{mobile:0,desktop:20},minWidth:0})))}function V(Ue){return useMediaQuery({minWidth:1100})?h(FlexColumn,U({className:"reader2-inbox-sidebar",paddingTop:20},Ue)):null}function $(Ue){return h(FlexBox,U({alignItems:"center",justifyContent:"space-between",paddingX:8},Ue))}function k(Ue){return h(FlexColumn,U({gap:8},Ue))}const G=(0,s.forwardRef)((Ue,Be)=>(0,e.h)(a.SV,null,(0,e.h)("div",U({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:Be},Ue)))),Q=(0,s.forwardRef)((Ue,Be)=>{var Ke=Ue,{className:Qe,hasError:qe}=Ke,pt=W(Ke,["className","hasError"]);return(0,e.h)("input",B(U({className:D()(i.input,qe&&i.error,Qe)},pt),{ref:Be}))});function q(Ue){var Be=Ue,{className:Ke,hasError:Qe,textareaRef:qe}=Be,pt=W(Be,["className","hasError","textareaRef"]);return h("textarea",U({ref:qe,className:classnames(css.input,css.textarea,Qe&&css.error,Ke)},pt))}function z({error:Ue}){return h(De,null,getNetworkErrorMessage(Ue))}const J=({header:Ue,icon:Be,title:Ke,text:Qe,action:qe})=>h(K,{title:Ue},h(te,{icon:Be,title:Ke,text:Qe,action:qe}));function te(Ue){return(0,e.h)(m.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,e.h)(j,U({},Ue)))}function oe({tabs:Ue,value:Be,onChange:Ke,noBorder:Qe=!1}){const qe=useRef(),pt=useMobile(),{state:st,handleArrowClick:it}=useScrollArrows(qe);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:classnames(css.tabContainer,!Qe&&css.tabContainerBorder)},h(FlexRow,{className:"reader2-tab-bar-parent"},!pt&&h(ArrowButton,{direction:"left",isVisible:st.showLeft,onClick:it(-1)}),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:qe},h(ie,{tabs:Ue,value:Be,onChange:Ke})),!pt&&h(ArrowButton,{direction:"right",isVisible:st.showRight,onClick:it(1)})))}function ie({tabs:Ue,value:Be,onChange:Ke}){return h(FlexRow,{gap:8},Ue.map(Qe=>h(PillButton,{key:Qe.value,isActive:Be===Qe.value,onClick:()=>Ke(Qe.value),icon:Qe.icon},Qe.label)))}function re({children:Ue}){const Be=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:Be},Ue)}function ue(Ue){var Be=Ue,{gap:Ke=16}=Be,Qe=W(Be,["gap"]);return(0,e.h)(m.tu,B(U({},Qe),{className:D()(i.pageStack,i[`gap_${Ke}`])}))}const ce=(0,n.L)("reader2-page-top"),Ee=(0,n.L)(i.pageTopFixed),se=(0,n.L)("reader2-page-body"),ne=(0,n.L)(i.pageStack),ee=(0,n.L)("reader2-page-center"),ae=(0,n.L)("reader2-modal-title-text"),he=(0,n.L)("reader2-column"),me=(0,n.L)("reader2-text-h3"),ge=(0,n.L)("reader2-text-h3 reader2-section-title"),ve=(0,n.L)("reader2-text-h4"),Oe=(0,n.L)("reader2-item-title"),Me=(0,n.L)("reader2-item-meta"),Pe=(0,n.L)("reader2-text-b4"),De=(0,n.L)("reader2-form-error"),We=(0,n.L)("reader2-subtitle"),ye=(0,n.L)("reader2-separator","hr"),Fe=(0,n.L)("reader2-page-section withTitle"),Ze=(0,n.L)("reader2-row reader2-split-row"),Te=(0,n.L)("reader2-emphasis-box"),Ve=(0,n.L)(D()(i.hoverLink,"pencraft"),"a");function Re(Ue){return(0,e.h)(Ve,U({target:"_blank"},Ue))}},23587:(Y,C,t)=>{t.d(C,{V:()=>a});var e=t(6400),s=t(94184),O=t.n(s),T=t(4508);const D={reader2Placeholder:"frontend-reader2-Placeholder-module__reader2Placeholder--x_akJ",travel:"frontend-reader2-Placeholder-module__travel--V9vAL",placeholder:"frontend-reader2-Placeholder-module__placeholder--BEl1f",bar:"frontend-reader2-Placeholder-module__bar--pzAh8",circle:"frontend-reader2-Placeholder-module__circle--u7Phw",elevated:"frontend-reader2-Placeholder-module__elevated--Af6iZ"};var v=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(i,d,p)=>d in i?v(i,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[d]=p,c=(i,d)=>{for(var p in d||(d={}))_.call(d,p)&&E(i,p,d[p]);if(l)for(var p of l(d))m.call(d,p)&&E(i,p,d[p]);return i},r=(i,d)=>P(i,M(d)),o=(i,d)=>{var p={};for(var f in i)_.call(i,f)&&d.indexOf(f)<0&&(p[f]=i[f]);if(i!=null&&l)for(var f of l(i))d.indexOf(f)<0&&m.call(i,f)&&(p[f]=i[f]);return p};function n({className:i,style:d,type:p,width:f,height:u,size:g,maxWidth:y}){return g!=null&&(f=g,u=g),h("div",{className:classnames(css.reader2Placeholder,i,p),style:r(c({},d),{width:f,height:u,maxWidth:y})})}function a(i){var d=i,{className:p,style:f,type:u,width:g,height:y,size:L,maxWidth:b,elevated:I,radius:A=6}=d,U=o(d,["className","style","type","width","height","size","maxWidth","elevated","radius"]);L!=null&&(g=L,y=L);const B=u==="bar";return(0,e.h)(T.xu,r(c({},U),{className:O()(D.placeholder,p,I&&D.elevated,B&&D.bar,u==="circle"&&D.circle),radius:A,style:r(c({},f),{width:g,height:y,maxWidth:b})}))}},9178:(Y,C,t)=>{t.d(C,{F:()=>E});var e=t(6400),s=t(94184),O=t.n(s),T=t(51126),D=t(74806);const v="#FF6719";var P=t(34755);function M({className:c,type:r,accentColor:o}){return(0,e.h)(P.l,{name:"ReaderBadgeIcon",className:c,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,e.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,e.h)("circle",{cx:"11",cy:"11",r:"9",fill:o||v}),r==="subscribed"?(0,e.h)(e.Fragment,null,(0,e.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,e.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,e.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,e.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,e.h)(e.Fragment,null,(0,e.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,e.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,e.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,e.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,e.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const l=null;var _=t(55886);const m={custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function E({pub:c,logoUrl:r,publicationName:o,size:n=196,title:a,className:i,imgClassName:d,badgeType:p,belowTheFold:f}){var u;return c&&!r&&(r=(0,D.getLogo)(c)),c&&!o&&(o=c.name||c.subdomain),(0,e.h)(T.hs,{className:i,position:"relative",title:a,style:{width:n,height:n}},r?(0,e.h)(_.t,{className:O()(m.custom,d),src:r,size:n,alt:o,loading:f?"lazy":void 0}):(0,e.h)("span",{className:O()(m.placeholder,d),style:{width:n,height:n,backgroundColor:c&&(((u=c==null?void 0:c.theme)==null?void 0:u.background_pop_color)||(c==null?void 0:c.theme_var_background_pop)||null),color:null}},o==null?void 0:o[0]),p&&(0,e.h)(M,{className:"reader2-pub-badge",type:p,accentColor:c&&c.theme_var_background_pop}))}},44695:(Y,C,t)=>{t.d(C,{GF:()=>N,Sm:()=>U,Sz:()=>S});var e=t(6400),s=t(94184),O=t.n(s),T=t(25380),D=t(59009),v=t(52743),P=t(83322),M=t(67963),l=t(3258),_=t(8479),m=t(84040),E=t(48960),c=t(51126),r=t(94016),o=t(43887),n=t(95297),a=t(97868),i=t(33510),d=t(9178),p=t(15337),f=t(27797),u=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,b=(j,H,x)=>H in j?u(j,H,{enumerable:!0,configurable:!0,writable:!0,value:x}):j[H]=x,I=(j,H)=>{for(var x in H||(H={}))y.call(H,x)&&b(j,x,H[x]);if(g)for(var x of g(H))L.call(H,x)&&b(j,x,H[x]);return j},A=(j,H)=>{var x={};for(var F in j)y.call(j,F)&&H.indexOf(F)<0&&(x[F]=j[F]);if(j!=null&&g)for(var F of g(j))H.indexOf(F)<0&&L.call(j,F)&&(x[F]=j[F]);return x};const U=j=>{var H=j,{publication_id:x,inline:F,utmSource:w}=H,V=A(H,["publication_id","inline","utmSource"]);const{result:$,refetch:k}=(0,_.ib)({pathname:`/api/v1/publication/public/${x}`,auto:!1,deps:[x]}),G=(0,M.aF)();return(0,e.h)(r.z,I({className:O()(f.Z.publicationHoverCardTarget,F&&f.Z.inline),content:$?(0,e.h)(B,{result:$,utmSource:w}):(0,e.h)(R,null),onFetch:k,layerClassName:f.Z.publicationHoverCard},V))};function B({result:j,utmSource:H}){const{pub:x}=j,F=(0,M.aF)();(0,l.track)(l.EVENTS.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:x.id});let w=x.contributors,V=null;w&&w.length>3&&(V=`See all (${(0,P.numberToString)(w.length)})`,w=w.slice(0,3));const $=`${x.base_url}?utm_source=${H}`;return(0,e.h)(c.tu,{gap:16,padding:8},(0,e.h)(c.gq,null,(0,e.h)("a",{href:$},(0,e.h)(d.F,{pub:j.pub,size:56}))),(0,e.h)(c.tu,{gap:6},(0,e.h)(S,{title:j.pub.name,handle:void 0,blurb:j.pub.hero_text,url:j.pub.base_url}),x.rankingDetail&&x.rankingDetailFreeSubscriberCount&&(0,e.h)(o.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},x.rankingDetailFreeSubscriberCount.toUpperCase())),(0,e.h)(c.tu,null,(0,e.h)(W,{isContr:j.isContributor,isSubs:j.isSubscribed,pub:j.pub,user:F,dashboardUrl:j.pub.base_url,utmSource:H})),(0,e.h)(E.i,null),(0,e.h)(c.tu,null,(0,e.h)(Z,{contributors:w,seeAllLabel:V,redirLink:j.pub.base_url,utmSource:H})))}function W({isContr:j,isSubs:H,pub:x,user:F,dashboardUrl:w,utmSource:V}){const $=(0,p.i)("profile");return(0,e.h)(c.tu,null,j?(0,e.h)(e.Fragment,null,(0,e.h)(m.zx,{priority:"secondary",fill:"outline",href:`${w}/publish`},"Dashboard")):H?(0,e.h)(m.zx,{priority:"secondary",fill:"outline",href:(0,v.getSubscribeUrl)(x,{user:F,addBase:!0,utm_source:V||D.UTM_SOURCE.pubHoverCard,utm_medium:D.UTM_MEDIUM.web,utm_campaign:D.UTM_CAMPAIGN.profilePage}),leftIcon:(0,e.h)(T.Z,null)},"Subscribed"):(0,e.h)(m.zx,{priority:"primary",href:(0,v.getSubscribeUrl)(x,{user:F,addBase:!0,utm_source:V||D.UTM_SOURCE.pubHoverCard,utm_medium:D.UTM_MEDIUM.web,utm_campaign:D.UTM_CAMPAIGN.profilePage}),onClick:$(x)},"Subscribe"))}function Z({contributors:j,seeAllLabel:H,redirLink:x,utmSource:F}){return(0,e.h)(c.tu,null,(0,e.h)(N,{sectionTitle:"Written by",seeAllLabel:H,link:`${x}/about?sort=people`}),(0,e.h)(c.tu,null,j.map(w=>(0,e.h)(K,{profile:w,utmSource:F}))))}function K({profile:j,utmSource:H}){return(0,e.h)("a",{href:(0,v.getProfileUrlById)(j.user_id,j.name,{searchParams:{utm_source:H}}),className:f.Z.hoverCardAvatar},(0,e.h)(a.qE,{user:j,size:32}),(0,e.h)(o.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},j.name))}function R(){return(0,e.h)(c.tu,{padding:8,gap:8},(0,e.h)(i.Vm,{size:56,style:{borderRadius:4}}),(0,e.h)(i.Vm,{type:"bar",width:"100%",height:20}),(0,e.h)(i.Vm,{type:"bar",width:"20%",height:20}),(0,e.h)(i.Vm,{type:"bar",width:"60%",height:20}))}function S({title:j,handle:H,blurb:x,url:F,themed:w,bestsellerTier:V,userId:$}){return(0,e.h)(e.Fragment,null,(0,e.h)("a",{style:{textDecoration:"none"},href:F},(0,e.h)(o.xv.H3,{color:w?"pub-primary-text":"primary",className:f.Z.hoverCardTitle},j,!!V&&!!$&&(0,e.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,e.h)(n.UserBadge,{inline:!0,tier:V,userId:$,tooltipOnHover:!0,size:"md"})))),H&&(0,e.h)(o.xv.Meta,null,`@${H}`),x&&(0,e.h)(o.xv.B3,{color:w?"pub-secondary-text":"secondary",clamp:4},x))}function N({sectionTitle:j,seeAllLabel:H,link:x}){return(0,e.h)(c.gq,{justifyContent:"space-between"},(0,e.h)(o.xv.Meta,{color:"secondary"},j),H&&(0,e.h)("a",{className:f.Z.hoverCardSeeAll,href:x},(0,e.h)(o.xv.B4,{color:"accent-blue"},H)))}},9353:(Y,C,t)=>{t.d(C,{O:()=>o,m:()=>n});var e=t(6400),s=t(94184),O=t.n(s),T=t(84040),D=t(51126),v=t(43887),P=t(51072),M=Object.defineProperty,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,E=(a,i,d)=>i in a?M(a,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[i]=d,c=(a,i)=>{for(var d in i||(i={}))_.call(i,d)&&E(a,d,i[d]);if(l)for(var d of l(i))m.call(i,d)&&E(a,d,i[d]);return a},r=(a,i)=>{var d={};for(var p in a)_.call(a,p)&&i.indexOf(p)<0&&(d[p]=a[p]);if(a!=null&&l)for(var p of l(a))i.indexOf(p)<0&&m.call(a,p)&&(d[p]=a[p]);return d};function o(a){var i=a,{value:d,currentValue:p,children:f,onClick:u}=i,g=r(i,["value","currentValue","children","onClick"]);const y=d===p;return(0,e.h)(T.kG,c({className:O()(P.Z.tab,y&&P.Z.isActive),resetCss:!0,onClick:()=>u(d)},g),(0,e.h)(v.xv,{size:14,lineHeight:20,weight:"medium",className:O()(P.Z.tabText,y&&P.Z.isActive)},f))}function n(a){return(0,e.h)(D.hs,c({className:P.Z.tabs,style:{height:40}},a))}},51415:(Y,C,t)=>{t.d(C,{Eb:()=>_,in:()=>m,r8:()=>M});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(21958),v=t(42332),P=t(46140);function M(E,c=(0,e.h)(l,null)){const[r,o]=(0,s.eJ)(E);return[r&&c,()=>{o(!1)}]}function l(){return(0,e.h)(_,null)}function _({className:E}){const{isHovering:c,ref:r}=(0,v.aw)();return(0,e.h)(e.Fragment,null,(0,e.h)(m,{className:T()(E,"reader2-unread-dot"),ref:r}),c&&(0,e.h)(v.u,{tetherRef:r},"New since your last visit"))}const m=(0,D.L)(P.Z.unreadDot)},72829:(Y,C,t)=>{t.d(C,{b8:()=>P,pe:()=>v});var e=t(6400),s=t(98661),O=t(63270),T=t(11688);const D=(0,s.createContext)({open:()=>{}});function v({children:M}){const{getConfigFor:l}=(0,O.xR)(),_=!!l("enable_web_dms"),[{isOpen:m,defaultValue:E,source:c},r]=(0,s.useState)({isOpen:!1});(0,s.useEffect)(()=>{if(!_)return;const a=i=>{i.metaKey&&i.key};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[_]);const o=()=>{r({isOpen:!1})},n=(0,s.useMemo)(()=>({open:({defaultValue:a,source:i})=>r({defaultValue:a,source:i,isOpen:!0})}),[]);return(0,e.h)(D.Provider,{value:n},M,(0,e.h)(T.cr,{module:"@/frontend/reader2/chat/ComposerModal",resolve:a=>a.ComposerModal,onRequest:()=>Promise.all([t.e(1055),t.e(4437),t.e(8534),t.e(7031),t.e(9221),t.e(9721)]).then(t.bind(t,46827)),isOpen:m,onClose:o,defaultValue:E,source:c}))}function P(){return(0,s.useContext)(D)}},21288:(Y,C,t)=>{t.d(C,{KS:()=>v,qS:()=>D});var e=t(6400),s=t(30396);const O=(0,e.createContext)({registerVideo:()=>{},unregisterVideo:()=>{},updatePaywallState:()=>{}}),T=()=>(0,s.qp)(O),D=({children:P})=>{const[M,l]=(0,s.eJ)(0),_=(0,s.sO)([]),m=(0,s.sO)(new Map);(0,s.d4)(()=>{const o=new IntersectionObserver(n=>{n.forEach(a=>{const i=a.target;if(!a.isIntersecting){i.pause();return}m.current.get(i)||i.play()})},{threshold:1});return _.current.forEach(n=>{var a;(a=n.current)!=null&&a.player&&o.observe(n.current.player)}),()=>{_.current.forEach(n=>{var a;(a=n.current)!=null&&a.player&&o.unobserve(n.current.player)})}},[M]);const E=(0,s.I4)(o=>{o&&!_.current.includes(o)&&(_.current.push(o),l(n=>n+1))},[]),c=(0,s.I4)(o=>{_.current=_.current.filter(n=>n!==o),l(n=>n+1)},[]),r=(0,s.I4)(({videoPlayerRef:o,showPaywall:n})=>{var a;(a=o.current)!=null&&a.player&&m.current.set(o.current.player,n)},[]);return(0,e.h)(O.Provider,{value:{registerVideo:E,unregisterVideo:c,updatePaywallState:r}},P)},v=({disable:P,showPaywall:M,videoPlayerRef:l})=>{const{registerVideo:_,unregisterVideo:m,updatePaywallState:E}=T();(0,s.d4)(()=>{if(l.current&&!P)return _(l),()=>{m(l)}},[P,_,m,l]),(0,s.d4)(()=>{E({showPaywall:M,videoPlayerRef:l})},[M,E,l])}},16742:(Y,C,t)=>{t.d(C,{K:()=>K,y:()=>R});var e=t(6400),s=t(30396),O=t(81108),T=t(74655),D=t(36250),v=t(70444),P=t(20501),M=t(31517),l=t(1706),_=t(28488),m=t(67963),E=t(8479),c=t(17025),r=t.n(c),o=t(84040),n=t(51126),a=t(12876),i=t(62246),d=t(43887),p=t(75425),f=t(91870),u=t(10174),g=Object.defineProperty,y=Object.defineProperties,L=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,U=(j,H,x)=>H in j?g(j,H,{enumerable:!0,configurable:!0,writable:!0,value:x}):j[H]=x,B=(j,H)=>{for(var x in H||(H={}))I.call(H,x)&&U(j,x,H[x]);if(b)for(var x of b(H))A.call(H,x)&&U(j,x,H[x]);return j},W=(j,H)=>y(j,L(H)),Z=(j,H,x)=>new Promise((F,w)=>{var V=G=>{try{k(x.next(G))}catch(Q){w(Q)}},$=G=>{try{k(x.throw(G))}catch(Q){w(Q)}},k=G=>G.done?F(G.value):Promise.resolve(G.value).then(V,$);k((x=x.apply(j,H)).next())});function K({pub:j,post:H,comment:x,feedItem:F,onRestack:w,tabId:V}){var $,k;const G=(0,m.aF)(),Q=(0,p.pm)(),q=!!G,z=!!(($=x||H)!=null&&$.restacked),J=((k=x||H)==null?void 0:k.restacks)||0,te=(0,f.I0)(),oe=(0,u.i3)(),ie=(0,E.ib)({pathname:"/api/v1/restack/feed"}),{iString:re}=(0,_.M1)(),{nuxModal:ue,showRestackNux:ce}=R(x&&!x.post_id?"note":x?"comment":"post"),Ee=()=>Z(this,null,function*(){const ee=yield ie.refetch({method:"POST",json:{postId:x?null:H==null?void 0:H.id,commentId:(x==null?void 0:x.id)||null,tabId:V}});if(ee instanceof Error){alert((0,c.getNetworkErrorMessage)(ee));return}Q.popToast(ae=>(0,e.h)(p.FN,W(B({},ae),{text:ee.comment?re("Note restacked"):re("Post restacked"),Icon:M.Z,cta:re("View"),href:(0,v.E2)()}))),ee.comment?te({type:"comment_restack",payload:{commentId:ee.comment.id,isRestacked:!0}}):te({type:"post_restack",payload:{postId:ee.post.id,isRestacked:!0}}),ce(),w==null||w(!0)}),se=()=>Z(this,null,function*(){const ee=yield ie.refetch({method:"DELETE",json:{postId:x?null:H==null?void 0:H.id,commentId:(x==null?void 0:x.id)||null,tabId:V}});if(ee instanceof Error){alert((0,c.getNetworkErrorMessage)(ee));return}Q.popToast(ae=>(0,e.h)(p.FN,W(B({},ae),{text:re("Restack undone"),Icon:O.Z}))),x?te({type:"comment_restack",payload:{commentId:x.id,isRestacked:!1}}):H&&te({type:"post_restack",payload:{postId:H.id,isRestacked:!1}}),w==null||w(!1)}),ne=ee=>Z(this,null,function*(){ee.preventDefault();try{yield oe.open({feedItem:F,restackUrl:x?(0,D.aE)(H,x,j):(0,P.getPostUrl)(j,H),tabId:V}),ce()}catch(ae){}});return{canRestack:q,isRestacked:z,restacks:J,nuxModal:ue,menuItems:[z?(0,e.h)(a.sN,{icon:(0,e.h)(O.Z,null),onClick:se},re("Undo restack")):(0,e.h)(a.sN,{icon:(0,e.h)(M.Z,null),onClick:Ee},re("Restack")),(0,e.h)(a.sN,{icon:(0,e.h)(l.Z,null),onClick:ne},re("Restack with a note"))]}}function R(j){const H=S({entityType:j}),x=(0,E.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),F=()=>Z(this,null,function*(){var w;const V=(w=x.result)!=null?w:yield x.refetch();!(V instanceof Error)&&(V==null?void 0:V.hasRestacked)===!1&&(H.open(),x.setResult({hasRestacked:!0}))});return{nuxModal:H.element,showRestackNux:F}}function S({entityType:j}){const[H,x]=(0,s.eJ)(!1),F=()=>{x(!1)};return{open:()=>{x(!0)},element:(0,e.h)(i.u_,{isOpen:H,onClose:F},(0,e.h)(N,{onClose:F,entityType:j}))}}function N({onClose:j,entityType:H}){const{iString:x}=(0,_.M1)();return(0,e.h)(n.tu,{paddingX:16},(0,e.h)(n.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,e.h)(T.Z,{size:40,stroke:"var(--color-primary)"})),(0,e.h)(n.tu,{gap:12},(0,e.h)(d.xv.H3,{align:"center"},H==="comment"&&x("You restacked a comment"),H==="note"&&x("You restacked a note"),H==="post"&&x("You restacked a post")),(0,e.h)(d.xv.B3,{color:"secondary",align:"center"},H==="comment"&&x("Restack comments that inspire you to share them with more people."),H==="note"&&x("Restack notes that inspire you to share them with more people."),H==="post"&&x("Restack posts that inspire you to share them with more people.")," ",x("Subscribers can see your restacks in the Notes tab and on your profile."))),(0,e.h)(n.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,e.h)(o.zx,{rounded:!0,href:(0,v.E2)()},x("View now")),(0,e.h)(o.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:j},x("OK"))))}},70762:(Y,C,t)=>{t.d(C,{K:()=>u,_:()=>f});var e=t(6400),s=t(30396),O=t(58718),T=t(72496),D=t(86418),v=t(20501),P=t(67963),M=t(8479),l=t(75425),_=t(72307),m=Object.defineProperty,E=Object.defineProperties,c=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(A,U,B)=>U in A?m(A,U,{enumerable:!0,configurable:!0,writable:!0,value:B}):A[U]=B,i=(A,U)=>{for(var B in U||(U={}))o.call(U,B)&&a(A,B,U[B]);if(r)for(var B of r(U))n.call(U,B)&&a(A,B,U[B]);return A},d=(A,U)=>E(A,c(U)),p=(A,U,B)=>new Promise((W,Z)=>{var K=N=>{try{S(B.next(N))}catch(j){Z(j)}},R=N=>{try{S(B.throw(N))}catch(j){Z(j)}},S=N=>N.done?W(N.value):Promise.resolve(N.value).then(K,R);S((B=B.apply(A,U)).next())});function f({publicationId:A,publication:U,publicationName:B,user:W,allowSecondaryPublications:Z=!0,subscriptionSource:K,sourceNoteId:R}){var S,N,j;A=(j=(S=U==null?void 0:U.id)!=null?S:A)!=null?j:(N=W==null?void 0:W.primary_publication)==null?void 0:N.id;const H=(0,P.aF)(),x=(0,l.pm)(),F=(0,O.oJ)(),w=(0,_.Th)(),[V,$]=(0,s.eJ)(!1),k=!!A&&y(H,A,w)||g(H,W,w,{allowSecondaryPublications:Z}),[G,Q]=(0,s.eJ)(null),q=w.isLoading||!!G,z=oe=>p(this,null,function*(){var ie;if(oe&&(oe.preventDefault(),oe.stopPropagation()),q||k)return;Q("subscribing");const re=yield b(A,K,{publication:U,user:H,sourceNoteId:R}),ue=`Subscribed to ${A?(ie=B!=null?B:U==null?void 0:U.name)!=null?ie:"publication":W?W.name:"profile"}`;if(re.didAction){if($(!0),x.popToast(ce=>(0,e.h)(l.FN,d(i({},ce),{text:ue}))),H)try{yield w.refetch()}catch(ce){console.error("Failed to reload subscriptions:",ce)}W&&F((ce=[])=>ce.includes(W.id)?ce:[W.id,...ce],{revalidate:!1})}else re.errorMessage&&x.popToast(ce=>{var Ee;return(0,e.h)(l.FN,d(i({},ce),{text:(Ee=re.errorMessage)!=null?Ee:""}))});Q(null)}),J=oe=>p(this,null,function*(){var ie;if(oe&&(oe.preventDefault(),oe.stopPropagation()),q||!k)return;Q("unsubscribing");const re=yield I(A,K),ue=`Unsubscribed from ${A?(ie=B!=null?B:U==null?void 0:U.name)!=null?ie:"publication":W?W.name:"profile"}`;if(re.didAction){if($(!1),x.popToast(ce=>(0,e.h)(l.FN,d(i({},ce),{text:ue}))),H)try{yield w.refetch()}catch(ce){console.error("Failed to reload subscriptions:",ce)}}else re.errorMessage&&x.popToast(ce=>{var Ee;return(0,e.h)(l.FN,d(i({},ce),{text:(Ee=re.errorMessage)!=null?Ee:""}))});Q(null)}),te=k&&!G||G==="subscribing";return{showCta:!!A&&(!H||w.hasLoadedOnce)&&!(H&&H.id===(W==null?void 0:W.id))&&(!k||V||G==="unsubscribing"),isSubscribed:te,hasPublication:!!A,subscribe:z,unsubscribe:J,toggle:te?J:z}}function u(A){var U;const B=(0,_.Th)(),W=(0,P.aF)();if((W==null?void 0:W.id)===A)return"subscribed";const{result:Z}=B;if(!Z)return null;const{subscriptions:K,publicationUsers:R}=Z;for(const N of R)if(["admin","contributor"].includes(N.role)&&L(A,N.publication_id,B))return"subscribed";let S=null;for(const N of K)L(A,N.publication_id,B)&&(S=(U=(0,D.P)(N.membership_state,S)?N.membership_state:S)!=null?U:null);return S}function g(A,U,B,{allowSecondaryPublications:W}={}){if(!A||!U||!B.hasLoadedOnce||!B.result)return!1;const{subscriptions:Z,publicationUsers:K}=B.result;if(W){for(const R of Z)if(R.membership_state!=="unsubscribed"&&L(U.id,R.publication_id,B))return!0;for(const R of K)if(["admin","contributor"].includes(R.role)&&L(U.id,R.publication_id,B))return!0}return!1}function y(A,U,B){if(!A||!U||!B.hasLoadedOnce||!B.result)return!1;const W=B.result.subscriptionMap.get(U);if(W&&W.membership_state!=="unsubscribed")return!0;const Z=B.result.publicationUserMap.get(U);return!!(Z&&["admin","contributor"].includes(Z.role))}function L(A,U,B){if(B.isLoading||!B.result)return!1;const W=B.result.publicationMap.get(U);if(W){if(W.author_id===A)return!0;for(const Z of W.contributors)if(Z.user_id===A)return!0}return!1}function b(A,U){return p(this,arguments,function*(B,W,{publication:Z,user:K,sourceNoteId:R}={}){let S=!1,N;if(K)try{(yield(0,M.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:B,email:K.email,source:W,noWelcomeEmail:!0,sourceNoteId:R,first_url:T.xY,first_referrer:T.ip,current_url:T.UE,current_referrer:T.xU}})).requires_confirmation?N="Check your email to confirm subscription":S=!0}catch(j){console.error(j),N="Failed to subscribe"}else if(!K){if(!Z)try{Z=yield(0,M.rd)(`/api/v1/reader/publication/${B}`)}catch(j){console.error(j)}if(Z){const j=(0,v.getSubscribeUrl)(Z,{addBase:!0,user:K!=null?K:void 0});window.open(j,"_blank")}}return{didAction:S,errorMessage:N}})}function I(A,U){return p(this,null,function*(){let B=!1,W;try{yield(0,M.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:A,email_disabled:!0,digest_enabled:!1,disable_all:!0,receive_podcast_emails:!1,source:U}}),B=!0}catch(Z){console.error(Z),W="Failed to unsubscribe"}return{didAction:B,errorMessage:W}})}},45625:(Y,C,t)=>{t.d(C,{S:()=>v});var e=t(6400),s=t(94184),O=t.n(s),T=t(79234);const D={apple_podcasts:"/img/shows_app_icons/apple_podcasts.svg?v=1",google_podcasts:"/img/shows_app_icons/google_podcasts.svg?v=1",overcast:"/img/shows_app_icons/overcast.svg?v=1",pocket_casts:"/img/shows_app_icons/pocket_casts.svg?v=1",rss:"/img/shows_app_icons/rss.svg?v=1",spotify:"/img/shows_app_icons/spotify.svg?v=1",substack:"/img/shows_app_icons/substack.svg?v=1",youtube:"/img/shows_app_icons/youtube.svg?v=1"},v=({platformKey:P,size:M=20})=>(0,e.h)("img",{className:O()({[T.Z["icon-20"]]:M===20,[T.Z["icon-40"]]:M===40}),src:D[P]})},68764:(Y,C,t)=>{t.d(C,{Q:()=>T});var e=t(6400),s=t(13045),O=t(17731);const T=({bylines:D,isStandaloneVideo:v})=>(0,e.h)(s.tu,{gap:16},v?(0,e.h)(s.xv.H4,{color:"pub-primary-text",translated:!0},"Authors"):(0,e.h)(s.xv.H4,{color:"pub-primary-text",translated:!0},"Appears in episode"),(0,e.h)(O.Y,{bylines:D,variant:"shows"}))},67256:(Y,C,t)=>{t.d(C,{Fb:()=>g,lU:()=>u});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(68919),v=t(28488),P=t(3313),M=t(25018),l=t(13045),_=t(3198),m=t(72921),E=t(41785),c=t(26494),r=t(1622),o=t(80134),n=t(42208),a=t(74806),i=t(6385),d=t(31163),p=t(88711),f=t(57556);const u=({isFreeSubscribed:I,isSubscribed:A,isTesting:U,post:B,pub:W,section:Z,variant:K})=>{const[R,S]=(0,s.eJ)(!1),N=(0,s.sO)(null),j=!A&&(0,i.isPaidAudience)(B.audience);if(!B.podcastUpload)return null;const H=(0,P.lp)({post:B}),x=B.podcastUpload.is_free_preview||(0,a.hasFreePodcastUrl)({post:B}),F=!H&&j&&(R||!x&&K!=="notes-embed")&&!(0,a.hasFreePodcastUrl)({post:B}),w=()=>{var V;(V=N.current)!=null&&V.player&&(S(!1),N.current.player.currentTime=0,N.current.player.play())};return(0,e.h)(e.Fragment,null,(0,e.h)(b,{audioFileUrl:B.podcast_url,audioPlayerRef:N,metricsPost:B,hidePreviewUI:H,paywallComponent:F?(0,e.h)(c.Y,{inlineIcon:K==="notes-embed",isFreeSubscribed:I,post:B,pub:W,variant:"audio",onRestart:x?w:void 0}):void 0,podcastDuration:B.podcast_duration,podcastUpload:B.podcastUpload,post:B,postId:B.id,postTitle:B.title,pub:W,section:Z,showPaidLabel:j&&!x,variant:K,onFinishAudio:()=>{S(!0)}}),U&&(0,e.h)("button",{onClick:()=>{S(!0)}},"finish audio"))},g=({audioPlayerRef:I,hasPaywall:A,feedUrl:U,isPrivateFeed:B,isServingFreePodcastUrl:W,post:Z,pub:K,section:R,ufiComponent:S,user:N})=>{const[j,H]=(0,s.eJ)(!1);if(!Z.podcastUpload)return null;const x=(0,P.lp)({post:Z}),F=Z.podcastUpload.is_free_preview||(0,a.hasFreePodcastUrl)({post:Z}),w=!x&&A&&(!F||j)&&!(0,a.hasFreePodcastUrl)({post:Z}),V=()=>{var $;($=I.current)!=null&&$.player&&(H(!1),I.current.player.currentTime=0,I.current.player.play())};return(0,e.h)(b,{audioFileUrl:Z.podcast_url,audioPlayerRef:I,feedUrl:U,hidePreviewUI:x,isPrivateFeed:B,isServingFreePodcastUrl:W,metricsPost:Z,paywallComponent:w?(0,e.h)(c.Y,{isFreeSubscribed:!!(N!=null&&N.is_free_subscribed),post:Z,pub:K,variant:"audio",onRestart:F?V:void 0}):void 0,podcastDuration:Z.podcast_duration,podcastUpload:Z.podcastUpload,post:Z,postId:Z.id,postTitle:Z.title,pub:K,section:R,ufiComponent:S,user:N,variant:"episode-page",onFinishAudio:()=>{H(!0)}})},y=({audioFileUrl:I,hasFreePodcastUrlSet:A,postTitle:U,podcastDuration:B,podcastPreviewUpload:W,podcastUpload:Z,pub:K,section:R,editComponent:S})=>h(b,{audioFileUrl:I,hasFreePodcastUrlSet:A,metricsPost:null,hidePreviewUI:!1,postId:null,postTitle:U,podcastDuration:B,podcastPreviewUpload:W,podcastUpload:Z,post:null,pub:K,section:R,variant:"editor",editComponent:S}),L={"episode-page":400,editor:320,"notes-embed":160,"notes-full":250},b=({audioFileUrl:I,audioPlayerRef:A,feedUrl:U,hasFreePodcastUrlSet:B,hidePreviewUI:W,hideUfi:Z,isPrivateFeed:K,isServingFreePodcastUrl:R,metricsPost:S,postId:N,postTitle:j,podcastDuration:H,pub:x,podcastUpload:F,section:w,showPaidLabel:V,podcastPreviewUpload:$,post:k,ufiComponent:G,editComponent:Q,paywallComponent:q,variant:z,user:J,onFinishAudio:te})=>{var oe,ie;const{isMobile:re}=(0,M.v9)(),{iString:ue}=(0,v.M1)(),ce=w?(oe=w.podcastPalette)!=null?oe:null:(ie=x.podcastPalette)!=null?ie:null,{title:Ee,backgroundUrl:se,artUrl:ne}=(0,n.Mv)({pub:x,podcastUpload:F,section:w,thumbnailInfo:F!=null&&F.full_podcast_info&&N?{post_id:N,media_upload_id:F.full_podcast_info.media_upload_id,thumbnail_id:F.full_podcast_info.thumbnail_id}:null}),ee=L[z],ae=re||z==="notes-embed",he=!!q,me=ne===se,ge=!!Q,ve=(F==null?void 0:F.is_free_preview)||$;return(0,e.h)(D.Z,{ref:A,duration:H,metricsPost:S,src:I,preventSnappingToCurrentTime:!0,pub:x,updateOnEveryFrame:H<5*60,onFinishAudio:te,render:({currentTime:Oe,dragTime:Me,isPlaying:Pe,playbackRate:De,progress:We,progressBarRef:ye,progressBarOnMouseDown:Fe,remainingTime:Ze,setPlaybackRate:Te,skipBack:Ve,skipForward:Re,togglePlayback:Ue})=>{var Be;return(0,e.h)(l.xu,{position:"relative",style:{minHeight:re?Math.min(200,ee):ee}},(0,e.h)(p.z,{backgroundUrl:se,blurAmount:z==="notes-embed"?40:120,isBlurred:me,palette:ce}),(0,e.h)(l.tu,{position:"absolute",inset:0,justifyContent:ae?"space-between":void 0},(0,e.h)(l.gq,{alignItems:"stretch",flex:ae?void 0:"grow",justifyContent:"space-between"},(!ae||!he)&&(0,e.h)(l.xu,{padding:ae||z==="notes-full"?16:24,paddingBottom:z==="notes-embed"?0:void 0,overflow:"hidden"},(0,e.h)(_.o,{isDisabled:he,pub:x,section:w,post:k,postTitle:j,showUpgradeButton:R,showTitle:Ee,user:J,variant:z==="notes-embed"?"notes-embed":re||z==="notes-full"?"mini":"regular"})),!ae&&!he&&!Z&&G&&(0,e.h)(l.gq,{alignItems:"center",paddingX:24},G),Q!=null?Q:null),!he&&z!=="notes-embed"&&(0,e.h)(l.tu,{paddingX:16,position:ae?void 0:"absolute",className:T()({[f.Z.controlsCentered]:!ae})},(0,e.h)(E.n,{audioFileUrl:I,feedUrl:U,isPlaying:Pe,isPrivateFeed:!!K,playbackRate:De,sectionId:w?w.id:null,user:J,onChangePlaybackRate:Te,onSkipBack:Ve,onSkipForward:Re,onTogglePlayback:Ue})),(!ae||!he)&&(0,e.h)(l.gq,{className:T()(f.Z.track),alignItems:"center",gap:16,opacity:he?20:void 0,padding:ae||z==="notes-full"?16:24,paddingTop:z==="notes-embed"?8:void 0,pointerEvents:he?"none":void 0,onClick:Ke=>{V||(Ke.stopPropagation(),Ke.preventDefault())}},ve&&ge&&$&&(0,e.h)(r.l,null,(0,d.DL)((Be=$.duration)!=null?Be:0)),ve&&!W&&!ge&&(0,e.h)(r.l,null,ue("Preview")),V&&(0,e.h)(r.l,null,ue("Paid")),B&&(0,e.h)(r.l,null,ue("Free url set")),(0,e.h)(o.w,{containerRef:ye,currentTime:Oe,dragTime:Me,hideStartingTimestamp:re,progress:We,remainingTime:Ze,onMouseDown:Fe}),z==="notes-embed"&&(0,e.h)(m.D,{isPlaying:Pe,size:42,onTogglePlayback:Ue}))),q)}})}},46864:(Y,C,t)=>{t.d(C,{Y:()=>P});var e=t(6400),s=t(75223),O=t(13045),T=t(19541),D=t(42208),v=t(35627);const P=({post:M,pub:l,section:_,user:m,useSection:E})=>{const{title:c,description:r}=(0,D.Mv)({pub:l,section:_,useSection:E});return(0,e.h)(O.tu,{border:"detail-themed",gap:24,paddingX:16,paddingY:24,radius:12,shadow:"lg"},(0,e.h)(O.tu,{gap:8,alignItems:"center"},(0,e.h)(T.p,{post:M,pub:l,section:_,user:m,useSection:E}),c&&(0,e.h)(O.xv.H4,{textAlign:"center",color:"pub-primary-text"},c),r&&(0,e.h)(O.xv.B4,{className:v.Z.description,color:"pub-secondary-text",textAlign:"center"},r)),!(m!=null&&m.is_subscribed)&&(0,e.h)("div",{className:v.Z["subscribe-container"]},(0,e.h)(s.Z,{expectTruncation:!0,pub:l,source:"episode-page-sidebar",user:m})))}},63842:(Y,C,t)=>{t.d(C,{Z:()=>c});var e=t(6400),s=t(30396),O=t(3258),T=t(6742),D=t(97900),v=t(50334),P=t(9267),M=t(31127),l=t(13045),_=t(83322),m=t(77315),E=t(17444);const c=({post:r,pub:o})=>{var n,a;const i=(a=(n=r.videoUpload)==null?void 0:n.duration)!=null?a:null,d=(0,s.sO)(null);return(0,T.UM)(d,()=>{(0,O.track)(O.EVENTS.RECENT_EPISODE_ITEM_SEEN,{post_id:r.id})}),(0,e.h)(l.gq,{ref:d},(0,e.h)(M.G,{alignItems:"start",body:(0,e.h)(D.v,{post:r,pub:o}),clampTitle:2,image:(0,e.h)(l.xu,{position:"relative",overflow:"hidden",radius:6},(0,e.h)(m.Z,{containerRef:d,post:r,aspectRatio:P.YU,size:"small"}),(0,e.h)(v.X,{className:E.Z.image,imageAspectRatio:P.YU,imageWidth:300,isBelowTheFold:!0,post:r}),typeof i=="number"&&(0,e.h)(l.gq,{className:E.Z["thumbnail-duration"],bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(l.xv.Meta,{color:"always-white",lineHeight:20},(0,_.secondsToHHMMSS)(i)))),title:r.title,url:r.canonical_url,linkProps:{onClick:()=>{(0,O.track)(O.EVENTS.RECENT_EPISODE_ITEM_CLICKED,{post_id:r.id})}}}))}},79870:(Y,C,t)=>{t.d(C,{y:()=>_});var e=t(6400),s=t(28488),O=t(17025),T=t.n(O),D=t(13045),v=t(18302),P=t(45625),M=t(42208),l=t(57700);const _=({description:E,feedUrl:c,pub:r,post:o,showLinks:n,user:a})=>{const{iString:i}=(0,s.M1)();return(0,e.h)(D.tu,{gap:E?8:16,"data-testid":"shows-listen-on"},(0,e.h)(D.xv.H4,{color:"pub-primary-text",translated:!0},"Listen on"),E&&(0,e.h)(D.xv.B3,{color:"pub-secondary-text",paddingBottom:8},E),(0,e.h)(D.gq,{gap:8,wrap:"wrap"},o&&(0,e.h)(m,{platformKey:"substack",label:i("Substack App"),onClick:()=>{(0,v.TB)({feedUrl:c,pub:r,post:o})}}),(0,M.U6)({feedUrl:c,isApple:(0,O.isMac)(),isMobile:!1,showLinks:n,user:a,render:({label:d,key:p,onClick:f})=>(0,e.h)(m,{label:d,platformKey:p,onClick:f})})))},m=({label:E,platformKey:c,onClick:r})=>(0,e.h)(D.gq,{className:l.Z["listen-on-item"],bg:"secondary",gap:12,alignItems:"center",radius:6,paddingX:12,onClick:r},(0,e.h)(P.S,{platformKey:c}),(0,e.h)(D.xv.B4,{weight:"medium",color:"pub-secondary-text"},E))},984:(Y,C,t)=>{t.d(C,{R:()=>o});var e=t(6400),s=t(44454),O=t(22939),T=t(86575),D=t(17025),v=t.n(D),P=t(13045),M=t(18302),l=t(45625),_=t(42208),m=t(20501),E=t(76193),c=t(59009),r=t(48029);const o=({feedUrl:a,post:i,pub:d,section:p,showLinks:f,user:u})=>{const{title:g}=(0,_.Mv)({pub:d,section:p}),[y,L]=(0,O.E)();return(0,e.h)(e.Fragment,null,(0,e.h)(P.gq,{gap:8},(0,e.h)(P.zx,{className:r.Z.button,fill:"outline",priority:"secondary-theme",onClick:()=>(0,M.TB)({feedUrl:a,pub:d,post:i})},(0,e.h)(P.gq,{gap:12,alignItems:"center"},(0,e.h)(l.S,{platformKey:"substack"}),"Open in app")),(0,e.h)(P.zx,{className:r.Z.button,fill:"outline",priority:"secondary-theme",onClick:()=>{L()}},"More options")),(0,e.h)(s.ZP,{ref:y,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0},(0,e.h)(P.tu,{gap:24,paddingBottom:24},(0,e.h)(P.tu,{borderBottom:"detail-themed",paddingX:8,paddingBottom:u!=null&&u.is_free_subscribed?8:16},(0,e.h)(P.xv.H3,{paddingY:16},"Open in other app"),!(u!=null&&u.is_free_subscribed)&&(0,e.h)(P.xv.B3,null,"Never miss a new episode,"," ",(0,e.h)("a",{href:(0,m.getSubscribeUrl)(d,{addBase:!0,params:{utm_medium:c.UTM_MEDIUM.web,utm_source:c.UTM_SOURCE.showsListenOnMobileDropdown,utm_content:i.id}}),native:!0},"subscribe to ",g))),(0,e.h)(P.tu,{gap:24,paddingX:8},f&&(0,_.U6)({feedUrl:a,isApple:(0,E.isIos)(),isMobile:!0,showLinks:f,user:u,render:({key:b,label:I,url:A,onClick:U})=>(0,e.h)(n,{platformKey:b,label:I,url:A,onClick:U})}),(u==null?void 0:u.is_subscribed)&&(0,e.h)(P.xv.B3,null,"Listen to paid episodes on your favorite podcast app with your private RSS feed."," ",(0,e.h)("a",{href:_.ty},"Learn about RSS")),(0,e.h)(P.zx,{fill:"outline",priority:"secondary-theme",onClick:()=>{(0,T.ZP)("RSS feed URL copied"),(0,D.copyToClipboard)(a)}},"Copy RSS Feed")))))},n=({platformKey:a,label:i,url:d,onClick:p})=>(0,e.h)("a",{href:d,style:{textDecoration:"none"}},(0,e.h)(P.gq,{alignItems:"center",gap:12,onClick:p},(0,e.h)(l.S,{platformKey:a,size:40}),(0,e.h)(P.xv.B3,{weight:"bold"},i)))},26494:(Y,C,t)=>{t.d(C,{Y:()=>o});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(13639),v=t(25425),P=t(28488),M=t(3258),l=t(25018),_=t(13045),m=t(74806),E=t(52743),c=t(59009);const r={"container--audio":"frontend-shows-ShowsMediaPaywall-module__container--audio--C5WH2","container--video":"frontend-shows-ShowsMediaPaywall-module__container--video--DMiCz","container--animated":"frontend-shows-ShowsMediaPaywall-module__container--animated--KSvbo","container--animated-in":"frontend-shows-ShowsMediaPaywall-module__container--animated-in--bizfq","icon-container":"frontend-shows-ShowsMediaPaywall-module__icon-container--FO2D_","content-top":"frontend-shows-ShowsMediaPaywall-module__content-top--XWrzK","content-bottom":"frontend-shows-ShowsMediaPaywall-module__content-bottom--CjD4d",inlineIconContainer:"frontend-shows-ShowsMediaPaywall-module__inlineIconContainer--FfHru","restart-button":"frontend-shows-ShowsMediaPaywall-module__restart-button--m9bIg"},o=({inlineIcon:n,isFreeSubscribed:a,post:i,pub:d,variant:p,onRestart:f})=>{var u;const{iString:g,iTemplate:y}=(0,P.M1)(),{isMobile:L}=(0,l.v9)(),[b,I]=(0,s.eJ)(!1),A=!!f,U=(u=(0,m.getFoundingTierName)(d))!=null?u:"Founding Member",B=i.audience==="founding"?y`${U} episode`:g("Paid episode"),W=i.audience==="founding"?y`The full episode is only available to ${U} subscribers`:y`The full episode is only available to paid subscribers of ${d.name}`,Z=g(p==="video"?"Subscribe to watch":"Subscribe to listen"),K=g(p==="video"?"Upgrade to watch":"Upgrade to listen");return(0,s.d4)(()=>{(0,M.track)(M.EVENTS.FREE_PREVIEW_PAYWALL_SHOWN,{post_id:i.id})},[i.id]),(0,s.d4)(()=>{A&&setTimeout(()=>{I(!0)},10)},[A]),(0,e.h)(_.gq,{className:T()(r.container,{[r["container--video"]]:p==="video",[r["container--audio"]]:p==="audio",[r["container--animated"]]:A,[r["container--animated-in"]]:b}),inset:0,justifyContent:"center",alignItems:"center",position:"absolute",onClick:R=>{R.stopPropagation(),R.preventDefault()},"data-testid":"paywall"},(0,e.h)(_.tu,{alignItems:"center",gap:L?12:16,paddingX:24},(0,e.h)(_.tu,{alignItems:"center",className:r["content-top"],gap:L?12:16},!n&&(0,e.h)(_.gq,{className:r["icon-container"],alignItems:"center",color:"always-white",justifyContent:"center",radius:6},(0,e.h)(D.Z,{size:L?16:24})),(0,e.h)(_.tu,{alignItems:"center",gap:L?0:4},(0,e.h)(_.gq,{alignItems:"center",gap:8},n&&(0,e.h)(_.gq,{className:r.inlineIconContainer,alignItems:"center",justifyContent:"center",radius:6},(0,e.h)(D.Z,{size:16})),(0,e.h)(_.xv.B3,{as:"h3",color:"always-white",weight:"semibold"},B)),(0,e.h)(_.xv.B4,{color:"always-white",opacity:80,textAlign:"center"},W))),(0,e.h)(_.gq,{className:r["content-bottom"],gap:16},f&&(0,e.h)(_.zx,{className:r["restart-button"],fill:"outline",onClick:()=>{(0,M.track)(M.EVENTS.FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED,{post_id:i.id}),f()}},(0,e.h)(_.gq,{alignItems:"center",gap:12},(0,e.h)(v.Z,{size:16}),g("Restart"))),(0,e.h)(_.zx,{priority:"primary-theme",localNavigation:!1,href:(0,E.getCheckoutUrl)(d,{simple:!0,next:document.location.href,utm_source:c.UTM_SOURCE.showsPaywall,utm_medium:c.UTM_MEDIUM.web,utm_content:i.id})},a?K:Z))))}},21787:(Y,C,t)=>{t.d(C,{o:()=>Z});var e=t(6400),s=t(98661),O=t(30396),T=t(80569),D=t.n(T),v=t(93804),P=t(12869),M=t(31058),l=t(63270),_=t(3258),m=t(13045),E=t(46825),c=t(23123),r=t(19232),o=t(74078),n=t(75055),a=t(42208),i=t(66956),d=t(25018),p=t(42433),f=t(52670),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,A=(K,R,S)=>R in K?u(K,R,{enumerable:!0,configurable:!0,writable:!0,value:S}):K[R]=S,U=(K,R)=>{for(var S in R||(R={}))b.call(R,S)&&A(K,S,R[S]);if(L)for(var S of L(R))I.call(R,S)&&A(K,S,R[S]);return K},B=(K,R)=>g(K,y(R)),W=(K,R,S)=>new Promise((N,j)=>{var H=w=>{try{F(S.next(w))}catch(V){j(V)}},x=w=>{try{F(S.throw(w))}catch(V){j(V)}},F=w=>w.done?N(w.value):Promise.resolve(w.value).then(H,x);F((S=S.apply(K,R)).next())});const Z=(0,s.forwardRef)((K,R)=>{var S,N,j,H;const{getConfigFor:x}=(0,l.xR)(),{isMobile:F}=(0,d.v9)(),[w,V]=(0,O.eJ)(!1),[$,k]=(0,O.eJ)(null),[G,Q]=(0,O.eJ)(null),q=(0,O.sO)(null),z=(0,O.sO)(null),{isServingFreePodcastUrl:J,paywall:te,post:oe,pub:ie,reaction_token:re,recentEpisodes:ue,showComments:ce,themeVariables:Ee,user:se,onChange:ne}=K,ee=oe.section_id&&(S=ie.sections.find(Pe=>Pe.id===oe.section_id))!=null?S:null,{feedUrl:ae,isPrivateFeed:he}=(0,E.fn)({pub:ie,magicToken:re,user:se,section:ee}),me=((N=oe.podcastUpload)==null?void 0:N.transcription)||((j=oe.videoUpload)==null?void 0:j.transcription),ge=(0,a.a9)({pub:ie,section:ee}),ve=oe.type==="video"||!!((H=oe.podcastFields)!=null&&H.hide_from_feed)||!ee&&!ie.podcast_enabled||!!(ee&&!ee.is_podcast),Oe=$?$.length>0:!1,Me=Pe=>{Pe.preventDefault(),(0,_.track)(_.EVENTS.COMMENTS_CLICKED,{post_id:oe.id});const De=document.getElementById(a.nK);De&&De.scrollIntoView({behavior:"smooth"})};return(0,O.d4)(()=>{(()=>W(void 0,null,function*(){const[De,We]=yield Promise.all([D().get(`/api/v1/post/${oe.id}/reactors`),D().get(`/api/v1/post/${oe.id}/restackers`)]);k(De.body),Q(We.body)}))()},[oe.id]),(0,e.h)(v.SO,B(U({},K),{ref:R,isShowsPost:!0,renderContent:({comments:Pe,postContent:De})=>(0,e.h)("div",{className:f.Z.container},(0,e.h)(p.YM,{visible:w,style:{zIndex:1}}),oe.videoUpload?(0,e.h)(i.G,{autoPlay:!0,hasPaywall:te,mediaUpload:oe.videoUpload,post:oe,pub:ie,reaction_token:re,restorePlaybackLocation:!0,duration:oe.videoUpload.duration,user:se,videoPlayerRef:q,onChange:ne,clippingMode:w,onClipClick:()=>V(!0),onClippingModeCancel:()=>V(!1),onCommentsClick:Me}):oe.podcastUpload?(0,e.h)(c.O,{audioPlayerRef:z,feedUrl:ae,hasPaywall:te,isPrivateFeed:he,isServingFreePodcastUrl:J,post:oe,pub:ie,section:ee,user:se,onChange:ne,onCommentsClick:Me}):null,(0,e.h)("div",{className:f.Z["main-content-and-sidebar"]},(0,e.h)("div",{className:f.Z["main-content"]},(0,e.h)(m.tu,{gap:32},(0,e.h)(m.tu,{gap:16},(0,e.h)(r.V,{feedUrl:ae,magicToken:re,post:oe,pub:ie,section:ee,showLinks:ge,themeVariables:Ee,user:se,onChange:ne,onCommentsClick:Me}),(me==null?void 0:me.approved_at)&&!te&&(0,e.h)(n.w,{playerRef:oe.videoUpload?q:z,post:oe,transcription:me})),(0,e.h)("div",{className:f.Z.postContentWrapper},De,x("like_posts_enabled")&&ie.community_enabled&&Oe&&!te&&(0,e.h)(m.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(P.DH,{post:oe,pub:ie,user:se,reactors:$,secondaryFaces:G})),!te&&ce&&Pe))),(0,e.h)(m.tu,{className:f.Z.sidebar,borderLeft:"detail-themed",paddingX:32,paddingY:24},(0,e.h)(o.U,{feedUrl:ae,isStandaloneVideo:ve,post:oe,pub:ie,recentEpisodes:ue,section:ee,showLinks:ge,user:se}))),F&&(0,e.h)(M.mt,{allowEdit:se==null?void 0:se.is_contributor,hideComments:!ce,post:oe,postReactionToken:re,pub:ie,user:se,onCommentsClick:Me,onChange:ne}))}))})},23123:(Y,C,t)=>{t.d(C,{O:()=>D});var e=t(6400),s=t(31058),O=t(67256),T=t(63157);const D=({audioPlayerRef:v,hasPaywall:P,feedUrl:M,isPrivateFeed:l,isServingFreePodcastUrl:_,post:m,pub:E,section:c,user:r,onChange:o,onCommentsClick:n})=>(0,e.h)("div",{className:T.Z["player-wrapper-outer"]},(0,e.h)("div",{className:T.Z["player-wrapper-inner"]},(0,e.h)(O.Fb,{audioPlayerRef:v,feedUrl:M,hasPaywall:P,isPrivateFeed:l,isServingFreePodcastUrl:_,post:m,pub:E,section:c,user:r,ufiComponent:(0,e.h)(s._2,{isStatic:!1,labelStyle:"counts-or-none",position:"shows-episode-player",post:m,pub:E,style:"large-on-dark",user:r,onChange:o,onCommentsClick:n})})))},19232:(Y,C,t)=>{t.d(C,{V:()=>P});var e=t(6400),s=t(93804),O=t(31058),T=t(25018),D=t(13045),v=t(984);const P=({feedUrl:M,post:l,pub:_,magicToken:m,section:E,showLinks:c,themeVariables:r,user:o,onChange:n,onCommentsClick:a})=>{const{isMobile:i}=(0,T.v9)();return(0,e.h)(D.tu,{gap:16},i&&(0,e.h)(v.R,{feedUrl:M,post:l,pub:_,section:E,showLinks:c,user:o}),(0,e.h)(D.tu,{gap:8},(0,e.h)(D.xv,{color:"pub-primary-text",font:"pub-headings",size:28,lineHeight:36},l.title),l.subtitle&&(0,e.h)(D.xv.B2,{color:"pub-secondary-text",font:"pub-headings",weight:"normal"},l.subtitle)),(0,e.h)(s.E5,{variant:"shows",post:l,pub:_}),!i&&(0,e.h)(O.Mp,{hideBottomBorder:!0,post:l,pub:_,user:o,onChange:n,themeVariables:r,postReactionToken:m,onCommentsClick:a}))}},59530:(Y,C,t)=>{t.d(C,{m:()=>D});var e=t(6400),s=t(28488),O=t(13045),T=t(63842);const D=({isStandaloneVideo:v,pub:P,recentEpisodes:M})=>{const{iString:l}=(0,s.M1)();return(0,e.h)(O.tu,{gap:16},(0,e.h)(O.xv.H4,{color:"pub-primary-text"},l(v?"Recent Posts":"Recent Episodes")),(0,e.h)(O.tu,{gap:16},M.map(_=>(0,e.h)(T.Z,{post:_,pub:P}))))}},74078:(Y,C,t)=>{t.d(C,{U:()=>d});var e=t(6400),s=t(30396),O=t(80569),T=t.n(O),D=t(25018),v=t(13045),P=t(68764),M=t(46864),l=t(79870),_=t(59530),m=t(83322),E=Object.defineProperty,c=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(p,f,u)=>f in p?E(p,f,{enumerable:!0,configurable:!0,writable:!0,value:u}):p[f]=u,a=(p,f)=>{for(var u in f||(f={}))r.call(f,u)&&n(p,u,f[u]);if(c)for(var u of c(f))o.call(f,u)&&n(p,u,f[u]);return p},i=(p,f,u)=>new Promise((g,y)=>{var L=A=>{try{I(u.next(A))}catch(U){y(U)}},b=A=>{try{I(u.throw(A))}catch(U){y(U)}},I=A=>A.done?g(A.value):Promise.resolve(A.value).then(L,b);I((u=u.apply(p,f)).next())});const d=({feedUrl:p,isStandaloneVideo:f,post:u,pub:g,recentEpisodes:y,section:L,showLinks:b,user:I})=>{var A;const{isMobile:U}=(0,D.v9)(),[B,W]=(0,s.eJ)(y),Z=(0,s.Ye)(()=>{var R;return(R=B==null?void 0:B.filter(S=>S.id!==u.id))!=null?R:null},[B,u.id]),K=(0,m.getBylineUsers)(u).sort((R,S)=>R.id===g.author_id?-1:S.id===g.author_id?1:R.is_guest&&!S.is_guest?-1:!R.is_guest&&S.is_guest?1:(R.name||"").localeCompare(S.name||""));return(0,s.d4)(()=>{y||(()=>i(void 0,null,function*(){var S,N;const j=yield T().get("/api/v1/recent_posts").query(a({episodes_only:!((S=u.podcastFields)!=null&&S.hide_from_feed)},L!=null&&L.id?{section_id:L.id}:{}));W((N=j.body)!=null?N:[])}))()},[u.id,(A=u.podcastFields)==null?void 0:A.hide_from_feed,y,g.id,L==null?void 0:L.id]),(0,e.h)(v.tu,{gap:32},!U&&(0,e.h)(M.Y,{post:u,pub:g,section:L,user:I,useSection:f}),(0,e.h)(v.tu,{gap:48},!U&&!f&&(0,e.h)(l.y,{feedUrl:p,showLinks:b,post:u,pub:g,user:I}),!U&&g.bylines_enabled&&K.length>0&&(0,e.h)(P.Q,{bylines:K,isStandaloneVideo:f}),Z&&Z.length>0&&(0,e.h)(_.m,{isStandaloneVideo:f,pub:g,recentEpisodes:Z})))}},75055:(Y,C,t)=>{t.d(C,{w:()=>E});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(62686),v=t(49336),P=t(60101),M=t(3258),l=t(13045),_=t(31163),m=t(6);const E=({post:c,playerRef:r,transcription:o})=>{const[n,a]=(0,s.eJ)(!1),[i,d]=(0,s.eJ)(0),p=(0,s.sO)(null);(0,s.d4)(()=>{if(!(!p.current||!n)&&p.current){const u=p.current.clientHeight,g=p.current.querySelector(`#transcription-${i}`);g&&p.current.scrollTo({top:g.offsetTop-.5*(u-g.clientHeight),behavior:"smooth"})}},[i,n]);const f=()=>{const u=!n;a(u),(0,M.track)(M.EVENTS.TRANSCRIPTION_TOGGLED,{state:u?"expanded":"collapsed",post_id:c.id})};return(0,e.h)(l.tu,{radius:6,className:T()(m.Z.container,{[m.Z["container--collapsed"]]:!n})},(0,e.h)(l.gq,{className:m.Z.header,justifyContent:"space-between",alignItems:"center",padding:16,onClick:f},(0,e.h)(l.gq,{alignItems:"center",gap:8},(0,e.h)(D.Z,{size:16}),(0,e.h)(l.xv.B4,{color:"pub-primary-text",weight:"bold",translated:!0},"Transcript")),(0,e.h)(l.gq,{color:"pub-secondary-text",justifyContent:"center",alignItems:"center",className:T()(m.Z.icon,{[m.Z["icon--expanded"]]:n})},(0,e.h)(v.Z,{size:16}))),(0,e.h)(l.HZ,{expanded:n,renderWhenCollapsed:!0},(0,e.h)("div",{className:m.Z["transcription-container"],ref:p},(0,e.h)(P.Z,{player:r,postId:c.id,renderTranscriptionChunk:({isPlaying:u,row:g,rowIndex:y,words:L,onPause:b,onPlay:I})=>{const A=y===i&&u,U=`transcription-${y}`;return(0,e.h)(l.xu,{id:U,paddingY:4,paddingRight:16,className:T()(m.Z["transcription-chunk"],{[m.Z["transcription-chunk--active"]]:A}),onClick:()=>{var B;(B=window.getSelection())!=null&&B.toString()||(A?b():I())}},(0,e.h)(l.gq,{alignItems:"baseline",gap:12},(0,e.h)(l.xv.B4,{className:m.Z["transcription-timestamp"],color:"pub-secondary-text"},(0,_.DL)(g.start)),(0,e.h)(l.xu,{display:"inline",className:m.Z.transcriptionWords,lineHeight:22,padding:4,radius:6,"data-chunk-index":y},L.map(B=>B.word).join(" "))))},transcription:o,onUpdateActiveRowIndex:d}))))}},66956:(Y,C,t)=>{t.d(C,{G:()=>U});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(98661),v=t(10120),P=t(31058),M=t(25346),l=t(28488),_=t(65622),m=t(60665),E=t(25018),c=t(13045),r=t(72921),o=t(26494),n=t(1622),a=t(39776),i=t(46825),d=t(45387),p=t(54762),f=Object.defineProperty,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,L=(B,W,Z)=>W in B?f(B,W,{enumerable:!0,configurable:!0,writable:!0,value:Z}):B[W]=Z,b=(B,W)=>{for(var Z in W||(W={}))g.call(W,Z)&&L(B,Z,W[Z]);if(u)for(var Z of u(W))y.call(W,Z)&&L(B,Z,W[Z]);return B},I=(B,W)=>{var Z={};for(var K in B)g.call(B,K)&&W.indexOf(K)<0&&(Z[K]=B[K]);if(B!=null&&u)for(var K of u(B))W.indexOf(K)<0&&y.call(B,K)&&(Z[K]=B[K]);return Z};class A extends M.Z{constructor(){super(...arguments),this.playbackEnabled=()=>this.props.showPreview}}const U=B=>{var W=B,{hasPaywall:Z,mediaUpload:K,post:R,pub:S,user:N,videoPlayerRef:j,onChange:H,onClipClick:x,onCommentsClick:F}=W,w=I(W,["hasPaywall","mediaUpload","post","pub","user","videoPlayerRef","onChange","onClipClick","onCommentsClick"]),V,$,k;const{iString:G}=(0,l.M1)(),[Q,q]=(0,s.eJ)(!1),{isMobile:z}=(0,E.v9)(),J=(0,s.sO)(null),te=(0,m.On)(j),{isIdle:oe}=(0,_.c)({idleAfter:2e3,element:J.current}),ie=((V=K.preview_duration)!=null?V:0)>0,re=Z&&(!ie||Q),ue=!!(0,a.default)("enable_substack_player")&&!z,ce=(0,v.r)(),Ee=(0,i.Ml)(J);(0,D.useEffect)(()=>{var ne;const ee=(ne=j.current)==null?void 0:ne.player;if(ee&&ue){const ae=()=>{ee.paused?ee.play():ee.pause()};return ee.addEventListener("click",ae),()=>{ee.removeEventListener("click",ae)}}},[($=j.current)==null?void 0:$.player]);const se=()=>{var ne;(ne=j.current)!=null&&ne.player&&(q(!1),j.current.player.currentTime=0,j.current.player.play())};return(0,e.h)("div",{className:p.Z.container,ref:J},(0,e.h)("div",{className:T()(p.Z["video-wrapper"],{[p.Z["video-full-screen"]]:ce.active})},ue?(0,e.h)(v.I,{handle:ce,className:p.Z.fullScreenContainer},(0,e.h)("div",{class:T()(p.Z.videoContainer,{[p.Z.overflow]:w.clippingMode})},(0,e.h)(A,b({ref:j,doNotResetOnEnd:!0,hidePlayButton:re,mediaUpload:K,podcastUpload:R.podcastUpload,showPreview:Z?ie:!0,noControls:re&&!Z||ue,post:R,pub:S,renderPlayButton:()=>(0,e.h)(r.D,{isPlaying:!1,size:z?56:80}),usePreview:Z&&ie,onFinishVideo:()=>{q(!0)},clippingModeRef:J},w)),(0,e.h)(d.V,{videoRef:j,videoContainerRef:J,pub:S,mediaUpload:K,podcastUpload:R.podcastUpload,isActive:(k=!oe||w.clippingMode)!=null?k:!1,isFocused:Ee,handle:ce}))):(0,e.h)(A,b({ref:j,doNotResetOnEnd:!0,hidePlayButton:re,mediaUpload:K,podcastUpload:R.podcastUpload,showPreview:Z?ie:!0,noControls:re&&!Z||ue,post:R,pub:S,renderPlayButton:()=>(0,e.h)(r.D,{isPlaying:!1,size:z?56:80}),usePreview:Z&&ie,onFinishVideo:()=>{q(!0)}},w)),ie&&Z&&!re&&(0,e.h)("div",{className:p.Z["preview-label-container"]},(0,e.h)(n.l,null,G("Preview"))),!z&&!re&&(0,e.h)("div",{className:T()(p.Z.sidebar,{[p.Z["sidebar--hidden"]]:te&&oe})},(0,e.h)(c.hs,{className:p.Z["sidebar-icons"],bg:"glass-inverted-thick",paddingX:8,paddingY:16},(0,e.h)(P._2,{isStatic:!1,labelStyle:"counts-or-none",position:"shows-episode-player",post:R,pub:S,style:"large-on-dark",user:N,showClipping:R.type==="podcast",onChange:H,onClipClick:x,onCommentsClick:F})))),re&&(0,e.h)(o.Y,{isFreeSubscribed:!!(N!=null&&N.is_free_subscribed),post:R,pub:S,variant:"video",onRestart:ie?se:void 0}))}},22981:(Y,C,t)=>{t.d(C,{Z:()=>l});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(85277),v=t.n(D),P=t(99864);const l=({videoEle:_,mediaUpload:m,handle:E,subtitles:c})=>{const[r,o]=(0,s.eJ)([]),[n,a]=(0,s.eJ)(""),i=()=>{if(_){const d=_.currentTime,p=r.find(f=>d>=f.startTime&&d<=f.endTime);a(p?p.text:"")}};return(0,s.d4)(()=>(_==null||_.addEventListener("timeupdate",i),()=>{_==null||_.removeEventListener("timeupdate",i)}),[_,c,r.length]),(0,s.d4)(()=>{var d,p;if(o([]),(d=m==null?void 0:m.transcription)!=null&&d.signed_captions){const u=((p=m.transcription.signed_captions)!=null?p:[]).find(g=>g.language===c);u!=null&&u.url&&fetch(u==null?void 0:u.url).then(g=>g.text()).then(g=>{const b=new D.WebVTTParser().parse(g).cues.map(I=>{var A;const U=/<v\s+([^>]+)>\s*(.*?)(?=<v|$)/,B=I.text.match(U),W=B?{speaker:B[1].trim(),sentence:B[2].trim()}:null,Z=new VTTCue(I.startTime,I.endTime,(A=W==null?void 0:W.sentence)!=null?A:"");return Z.line=90,Z.size=90,Z.lineAlign="end",Z.snapToLines=!0,Z});o(b)}).catch(g=>console.error("Error fetching subtitles:",g))}},[m,c]),r.length&&n?(0,e.h)("div",{className:T()(P.Z.container,{[P.Z["container-full-screen"]]:E.active})},(0,e.h)("div",{className:T()(P.Z.text,{[P.Z["text-full-screen"]]:E.active})},n)):null}},67321:(Y,C,t)=>{t.d(C,{Z:()=>M});var e=t(6400),s=t(30396),O=t(79565),T=t(22551),D=t(46825),v=t(34399);const M=({showCaptions:l,setShowCaptions:_,isFocused:m,disabled:E})=>{const c=r=>{_(r),r?localStorage.setItem("video_player:show_captions","true"):localStorage.removeItem("video_player:show_captions")};return(0,s.d4)(()=>{const r=localStorage.getItem("video_player:show_captions")==="true";l!==r&&_(r)},[]),(0,D.Kr)("c",()=>c(!l),m),(0,e.h)(v.Z,{onClick:()=>c(!l),disabled:E},l?(0,e.h)(O.Z,null):(0,e.h)(T.Z,null))}},17060:(Y,C,t)=>{t.d(C,{Z:()=>M});var e=t(6400),s=t(27299),O=t(83502),T=t(13045),D=t(46825),v=t(34399);const M=({handle:l,isFocused:_})=>{const m=()=>l.active?l.exit():l.enter();return(0,D.Kr)("f",m,_),(0,e.h)(T.u,{text:l.active?"Exit full screen (f)":"Full screen (f)",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(v.Z,{onClick:m},l.active?(0,e.h)(s.Z,{size:18}):(0,e.h)(O.Z,{size:18})))}},22641:(Y,C,t)=>{t.d(C,{Z:()=>d});var e=t(6400),s=t(30396),O=t(2564),T=t(33979),D=t(80569),v=t.n(D),P=t(79786),M=t(3258),l=t(17025),_=t.n(l),m=t(88426),E=t(13045),c=t(83322),r=t(46825),o=t(34399),n=t(84485),a=(p,f,u)=>new Promise((g,y)=>{var L=A=>{try{I(u.next(A))}catch(U){y(U)}},b=A=>{try{I(u.throw(A))}catch(U){y(U)}},I=A=>A.done?g(A.value):Promise.resolve(A.value).then(L,b);I((u=u.apply(p,f)).next())});const d=({pub:p,postId:f,isFocused:u})=>{var g,y,L,b;const[I,A]=(0,s.eJ)(!1),[U,B]=(0,s.eJ)(null),W=K=>{if(!U||!p)return;(0,M.track)(M.EVENTS.VIDEO_NEXT_VIDEO_BUTTON_CLICKED,{postId:U.id,pubId:p.id});const R=(0,m._)({linkToComments:!1,post:U,pub:p,utm:"next-episode"});(0,l.redirect)(R,{event:K})};(0,s.d4)(()=>{(()=>a(void 0,null,function*(){var R,S,N;const j=yield v().get("/api/v1/recent_posts").query({episodes_only:!0}),H=((R=j.body)!=null?R:[]).findIndex(x=>x.id===f);B((N=(S=j.body)==null?void 0:S[H+1])!=null?N:void 0)}))()},[]),(0,r.Kr)("shift+n",()=>W(),u);const Z=(U==null?void 0:U.cover_image)||(U==null?void 0:U.podcast_episode_image_url);return(0,e.h)("div",{style:{position:"relative"},onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1)},I&&Z&&(0,e.h)(E.tu,{position:"absolute",className:n.Z.container},(0,e.h)(E.tu,{bg:"glass-inverted-medium",radius:6,style:{cursor:"pointer"},paddingY:8,paddingX:12,gap:4,onClick:W,onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1)},(0,e.h)(E.gq,{gap:16},(0,e.h)(E.tu,{gap:2,flex:"grow"},(0,e.h)(E.xv.Meta,{color:"always-white",opacity:80},"Next Up"),(0,e.h)(E.xv.B4,{color:"always-white"},U.title)),(0,e.h)(E.gq,{alignItems:"center"},(0,e.h)(O.Z,{color:"white",size:24}))),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)(P.e,{className:n.Z.fullWidth,src:Z,alt:U.title,maxWidth:200,imageProps:{height:200*9/16,smartCrop:!0},radius:6}),(0,e.h)(E.gq,{className:n.Z["thumbnail-duration"],bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(E.xv.Meta,{color:"always-white",lineHeight:20},(0,c.secondsToHHMMSS)((b=(L=(g=U.videoUpload)==null?void 0:g.duration)!=null?L:(y=U.podcastUpload)==null?void 0:y.duration)!=null?b:0))))),(0,e.h)(E.xu,{className:n.Z.space})),(0,e.h)(o.Z,{disabled:!U},(0,e.h)(T.Z,{size:18,fill:"white",onClick:W})))}},89915:(Y,C,t)=>{t.d(C,{Z:()=>l});var e=t(6400),s=t(30396),O=t(37474),T=t(13045),D=t(46825),v=t(34399),P=(_,m,E)=>new Promise((c,r)=>{var o=i=>{try{a(E.next(i))}catch(d){r(d)}},n=i=>{try{a(E.throw(i))}catch(d){r(d)}},a=i=>i.done?c(i.value):Promise.resolve(i.value).then(o,n);a((E=E.apply(_,m)).next())});const l=({videoRef:_,isFocused:m})=>{const[E,c]=(0,s.eJ)(!1),r=()=>P(void 0,null,function*(){var o;if(_.current)try{document.pictureInPictureElement?yield document.exitPictureInPicture():yield(o=_.current.player)==null?void 0:o.requestPictureInPicture()}catch(n){console.error("Failed to toggle PiP mode:",n)}});return(0,s.d4)(()=>{var o,n;const a=()=>c(!0),i=()=>c(!1);return _.current&&((o=_.current.player)==null||o.addEventListener("enterpictureinpicture",a),(n=_.current.player)==null||n.addEventListener("leavepictureinpicture",i)),()=>{var d,p;_.current&&((d=_.current.player)==null||d.removeEventListener("enterpictureinpicture",a),(p=_.current.player)==null||p.removeEventListener("leavepictureinpicture",i))}},[_]),(0,D.Kr)("i",r,m),(0,e.h)(T.u,{text:"Picture in Picture (i)",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(v.Z,{onClick:r},(0,e.h)(O.Z,{size:18})))}},11259:(Y,C,t)=>{t.d(C,{Z:()=>l});var e=t(6400),s=t(44276),O=t(77475),T=t(60665),D=t(13045),v=t(46825),P=t(34399);const l=({videoRef:_,isFocused:m})=>{const E=(0,T.On)(_),c=()=>{var n,a;return(a=(n=_.current)==null?void 0:n.player)==null?void 0:a.play()},r=()=>{var n,a;return(a=(n=_.current)==null?void 0:n.player)==null?void 0:a.pause()},o=()=>E?r():c();return(0,v.Kr)("k",o,m),(0,v.Kr)(" ",o,m),(0,e.h)(D.u,{text:E?"Pause (k)":"Play (k)",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(P.Z,{onClick:o},E?(0,e.h)(s.Z,{fill:"white",size:18}):(0,e.h)(O.Z,{fill:"white",size:18})))}},34399:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(94184),O=t.n(s),T=t(13045),D=t(51913),v=Object.defineProperty,P=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,_=(o,n,a)=>n in o?v(o,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[n]=a,m=(o,n)=>{for(var a in n||(n={}))M.call(n,a)&&_(o,a,n[a]);if(P)for(var a of P(n))l.call(n,a)&&_(o,a,n[a]);return o},E=(o,n)=>{var a={};for(var i in o)M.call(o,i)&&n.indexOf(i)<0&&(a[i]=o[i]);if(o!=null&&P)for(var i of P(o))n.indexOf(i)<0&&l.call(o,i)&&(a[i]=o[i]);return a};const r=o=>{var n=o,{children:a,className:i}=n,d=E(n,["children","className"]);return(0,e.h)(T.hU,m({priority:"primary-empty",rounded:!1,size:36,fill:"empty",className:O()(D.Z.playerButton,i)},d),a)}},39731:(Y,C,t)=>{t.d(C,{Z:()=>M});var e=t(6400),s=t(30396),O=t(13045),T=t(42593);const D=({videoRef:l})=>{const[_,m]=(0,s.eJ)(0);return(0,s.d4)(()=>{let E;const c=()=>{var r;(r=l.current)!=null&&r.player&&(m(l.current.player.currentTime),E=requestAnimationFrame(c))};return l.current&&(E=requestAnimationFrame(c)),()=>{cancelAnimationFrame(E)}},[l]),(0,e.h)(O.xv.Mono,{size:14,color:"always-white"},(0,T.m)(_))},v=({videoRef:l})=>{const[_,m]=(0,s.eJ)(0);return(0,s.d4)(()=>{var E,c;const r=()=>{var o;(o=l.current)!=null&&o.player&&!isNaN(l.current.player.duration)&&m(l.current.player.duration)};return l.current&&((c=(E=l.current)==null?void 0:E.player)==null||c.addEventListener("durationchange",r)),()=>{var o,n;l.current&&((n=(o=l.current)==null?void 0:o.player)==null||n.removeEventListener("durationchange",r))}},[l]),(0,e.h)(O.xv.Mono,{size:14,color:"always-white"},(0,T.m)(_))},M=({videoRef:l})=>(0,e.h)(O.gq,{justifyContent:"center",alignItems:"center",gap:4},(0,e.h)(D,{videoRef:l}),(0,e.h)(O.xv.Mono,{size:14,color:"always-white"},"/"),(0,e.h)(v,{videoRef:l}))},35009:(Y,C,t)=>{t.d(C,{Z:()=>v});var e=t(6400),s=t(9528),O=t(13045),T=t(34399);const v=({isSettingsOpen:P,setIsSettingsOpen:M})=>P?(0,e.h)(T.Z,null,(0,e.h)(s.Z,{size:18,onClick:()=>M(!P)})):(0,e.h)(O.u,{text:"Settings",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(T.Z,null,(0,e.h)(s.Z,{size:18,onClick:()=>M(!P)})))},3889:(Y,C,t)=>{t.d(C,{Z:()=>n});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(25380),v=t(53961),P=t(48619),M=t(86791),l=t(13045),_=t(61510);const m=({videoRef:a,dismiss:i})=>{const d=p=>{var f;(f=a.current)!=null&&f.player&&(a.current.player.playbackRate=p,localStorage.setItem("video_player:playbackRate",p.toString())),i()};return(0,e.h)(l.tu,{gap:4,flex:"grow"},[.25,.5,.75,1,1.25,1.5,1.75,2].map(p=>{var f,u;return(0,e.h)(l.gq,{className:_.Z.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:()=>d(p)},(0,e.h)(l.xv.B4,{font:"text",size:12,lineHeight:14,weight:"normal",color:"always-white"},p,"x"),p===((u=(f=a.current)==null?void 0:f.player)==null?void 0:u.playbackRate)&&(0,e.h)(D.Z,{size:16,color:"white"}))}))},E={en:"English",es:"Spanish"},c=({options:a=[],subtitles:i,setSubtitles:d,dismiss:p})=>{const f=u=>{d(u),localStorage.setItem("video_player:subtitles",u||""),p()};return(0,e.h)(l.tu,{gap:4,flex:"grow"},[null,...a].map(u=>{var g;return(0,e.h)(l.gq,{className:_.Z.menuItem,paddingY:8,paddingX:16,justifyContent:"space-between",alignItems:"center",onClick:()=>f(u)},(0,e.h)(l.xv.B4,{font:"text",size:12,lineHeight:14,weight:"normal",color:"always-white"},(g=E[u!=null?u:""])!=null?g:"None"),i===u&&(0,e.h)(D.Z,{size:16,color:"white"}))}))},r=({title:a,icon:i,selection:d,onClick:p})=>(0,e.h)(l.gq,{className:_.Z.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:p},(0,e.h)(l.gq,{gap:8,alignItems:"center"},i,(0,e.h)(l.xv.B4,{color:"always-white",font:"text",size:12,lineHeight:14,weight:"normal"},a)),(0,e.h)(l.gq,null,(0,e.h)(l.xv.B4,{color:"always-white",font:"text",size:12,lineHeight:14,weight:"normal"},d))),n=({videoRef:a,podcastUpload:i,subtitles:d,setSubtitles:p,setIsSettingsOpen:f})=>{var u,g;const[y,L]=(0,s.eJ)(!1),[b,I]=(0,s.eJ)(!1),A=(0,e.createRef)(),[U,B]=(0,s.eJ)([]);return(0,s.d4)(()=>{const W=localStorage.getItem("video_player:subtitles")||null;p(W)},[]),(0,s.d4)(()=>{var W,Z;if((W=i==null?void 0:i.transcription)!=null&&W.signed_captions){const R=((Z=i.transcription.signed_captions)!=null?Z:[]).map(S=>S.language);B(R),d&&!R.includes(d)&&p(null)}},[i,d]),(0,s.d4)(()=>{var W,Z;const K=parseFloat(localStorage.getItem("video_player:playbackRate")||"1"),R=()=>{var S;(S=a.current)!=null&&S.player&&(a.current.player.playbackRate=K)};return(W=a.current)!=null&&W.player&&((Z=a.current.player)==null||Z.addEventListener("loadedmetadata",R)),()=>{var S;a.current&&((S=a.current.player)==null||S.removeEventListener("loadedmetadata",R))}},[a]),(0,M.Z)(A,()=>{L(!1),I(!1),f(!1)}),(0,e.h)(l.tu,{paddingY:8,ref:A,gap:4,flex:"grow",className:T()(_.Z.seetingsMenu,{[_.Z.slideOut]:y})},y&&(0,e.h)(m,{videoRef:a,dismiss:()=>L(!1)}),b&&(0,e.h)(c,{options:U,subtitles:d,setSubtitles:p,dismiss:()=>I(!1)}),!y&&!b&&(0,e.h)(l.tu,{gap:4,flex:"grow"},(0,e.h)(r,{title:"Playback speed",icon:(0,e.h)(v.Z,{size:16,color:"white"}),onClick:()=>L(!0),selection:`${(g=(u=a.current)==null?void 0:u.player)==null?void 0:g.playbackRate}x`}),U.length>0&&(0,e.h)(r,{title:"Subtitles",icon:(0,e.h)(P.Z,{size:16,color:"white"}),onClick:()=>I(!0),selection:E[d!=null?d:""]})))}},42593:(Y,C,t)=>{t.d(C,{T:()=>E,m:()=>m});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(74691),v=t.n(D),P=t(66343),M=t(13045),l=t(46825),_=t(67824);const m=(c=0)=>{const r=Math.floor(c/3600),o=Math.floor(c%3600/60),n=Math.floor(c%60);return r?`${r}:${o<10?"0":""}${o}:${n<10?"0":""}${n}`:`${o}:${n<10?"0":""}${n}`},E=({videoRef:c,mediaUpload:r})=>{var o,n,a;const[i,d]=(0,s.eJ)(0),[p,f]=(0,s.eJ)(!1),[u,g]=(0,s.eJ)(!1),[y,L]=(0,s.eJ)(0),[b,I]=(0,s.eJ)(0),[A,U]=(0,s.eJ)(0),B=(0,s.sO)(null),W=(0,s.sO)(null),Z=(0,s.sO)(null),K=(0,l.lg)(r),R=()=>{var J,te,oe;if((J=c.current)!=null&&J.player){const ie=100/((te=c.current)==null?void 0:te.player.duration)*((oe=c.current)==null?void 0:oe.player.currentTime);d(ie)}B.current=window.requestAnimationFrame(R)},S=J=>{var te;let oe=0;if(Z.current){const ie=Z.current.getBoundingClientRect(),re=(J.clientX-ie.left)/ie.width*100;oe=v()(0,re,100)}d(oe),(te=c.current)!=null&&te.player&&(c.current.player.currentTime=c.current.player.duration*(oe/100))},N=J=>{J.preventDefault(),f(!0),S(J),document.addEventListener("mousemove",j),document.addEventListener("mouseup",H),document.addEventListener("selectstart",x)},j=J=>{S(J)},H=()=>{f(!1),document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",H),document.removeEventListener("selectstart",x)},x=J=>{p&&J.preventDefault()},F=()=>{Math.abs(b-A)>.1?(U(J=>J+(b-J)*.1),W.current=window.requestAnimationFrame(F)):(U(b),W.current&&window.cancelAnimationFrame(W.current))},w=J=>{var te,oe;const{x:ie,width:re}=(oe=(te=Z.current)==null?void 0:te.getBoundingClientRect())!=null?oe:{x:0,width:0};I((J.clientX-ie)/re*100),W.current||F()};(0,s.d4)(()=>(B.current=window.requestAnimationFrame(R),()=>{B.current!==null&&window.cancelAnimationFrame(B.current),W.current!==null&&window.cancelAnimationFrame(W.current)}),[c]),(0,s.d4)(()=>{var J;const te=()=>{var oe;(oe=c.current)!=null&&oe.player&&!isNaN(c.current.player.duration)&&L(c.current.player.duration)};return c.current&&((J=c.current.player)==null||J.addEventListener("durationchange",te)),()=>{var oe;c.current&&((oe=c.current.player)==null||oe.removeEventListener("durationchange",te))}},[c]);const V=(o=K==null?void 0:K.tiles)!=null?o:[],$=b*y/100,k=V.length?(0,P.wb)(V,$):null,G=K?K.tile_width/K.tile_height*100:100,Q=10,q=((G!=null?G:0)+Q)/2/((a=(n=Z.current)==null?void 0:n.getBoundingClientRect().width)!=null?a:1)*100,z=v()(b,q,100-q);return(0,e.h)(M.gq,{ref:Z,onMouseDown:N,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onMouseMove:w,flex:"grow",position:"relative",className:_.Z.timelineContainer},(0,e.h)("div",{className:_.Z.timeline},u&&(0,e.h)("div",{className:_.Z.timelineHover,style:{width:`${b}%`,height:"100%"}}),(0,e.h)("div",{className:T()(_.Z.progress,{[_.Z.progressHover]:u}),style:{width:`${i}%`,height:"100%"}})),(0,e.h)("div",{style:{position:"absolute",left:`${z}%`,opacity:u?1:0}},(0,e.h)("div",{className:_.Z.tooltip},K&&k&&(0,e.h)(P.RF,{storyboard:K,imageUrl:K.url,displayHeight:100,displayWidth:K.tile_width/K.tile_height*100,x:k.x,y:k.y,className:_.Z.timelineTimeThumbnailTooltip}),(0,e.h)("div",{class:_.Z.timelineLabelContainer},(0,e.h)(M.xu,{className:_.Z.timelineTimeTooltip,bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(M.xv.Meta,{className:_.Z.durationLabel,color:"always-white",lineHeight:20},m(b*y/100)))))))}},45387:(Y,C,t)=>{t.d(C,{V:()=>g});var e=t(6400),s=t(30396),O=t(13045),T=t(22981),D=t(67321),v=t(17060),P=t(22641),M=t(89915),l=t(39731),_=t(11259),m=t(35009),E=t(3889),c=t(42593),r=t(38883),o=t(75025),n=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(y,L,b)=>L in y?n(y,L,{enumerable:!0,configurable:!0,writable:!0,value:b}):y[L]=b,f=(y,L)=>{for(var b in L||(L={}))i.call(L,b)&&p(y,b,L[b]);if(a)for(var b of a(L))d.call(L,b)&&p(y,b,L[b]);return y};const u=({videoRef:y,videoContainerRef:L,pub:b,mediaUpload:I,podcastUpload:A,handle:U,isActive:B,isFocused:W})=>{var Z,K;const R=(0,s.sO)(null),[S,N]=(0,s.eJ)(!1),[j,H]=(0,s.eJ)(!1),[x,F]=(0,s.eJ)(null),w=G=>{H(G),G&&($!=null&&$.length)&&F($[0].language)},V=G=>{F(G),!G&&j?H(!1):G&&!j&&H(!0)};(0,s.d4)(()=>{B||N(!1)},[B]);const $=(K=(Z=A==null?void 0:A.transcription)==null?void 0:Z.signed_captions)!=null?K:[],k=$.length>0;return(0,e.h)("div",{ref:R,style:{zIndex:10}},U.active?(0,e.h)("div",{className:o.Z.topOverlaysContainer,style:{opacity:B?1:0,transform:B?"translateY(0)":"translateY(-20%)"}},(0,e.h)(O.gq,{justifyContent:"space-between",paddingBottom:32},(0,e.h)(O.gq,{padding:16}),(0,e.h)(O.gq,{padding:16}))):null,(0,e.h)("div",null),(0,e.h)("div",{className:o.Z.settingsControlsContainer,style:{opacity:S&&B?1:0,pointerEvents:S?"auto":"none"}},(0,e.h)(O.tu,null,(0,e.h)(O.gq,{className:o.Z.settingsControlsBox},(0,e.h)(E.Z,{videoRef:y,podcastUpload:A,subtitles:x,setSubtitles:V,setIsSettingsOpen:N})),(0,e.h)("div",{style:{height:"60px"}}))),(0,e.h)("div",{className:o.Z.bottomControlsContainer,style:{transform:B?"translateY(0)":"translateY(40px)"}},(0,e.h)("div",{className:o.Z.backDrop,style:{opacity:B?1:0}}),(0,e.h)(O.tu,{flex:"grow",gap:8},y.current&&A&&j&&(0,e.h)("div",{className:o.Z.captionsContainer},(0,e.h)(T.Z,{videoEle:y.current.player,mediaUpload:A,handle:U,subtitles:x})),(0,e.h)("div",{className:o.Z.bottomInnerControlsContainer,style:{opacity:B?1:0}},(0,e.h)(O.tu,{flex:"grow"},(0,e.h)(O.gq,{flex:"grow"},(0,e.h)(c.T,{videoRef:y,mediaUpload:I})),(0,e.h)(O.gq,{paddingX:4},(0,e.h)(O.hs,{gap:8,alignItems:"center"},(0,e.h)(_.Z,{videoRef:y,isFocused:W}),(0,e.h)(P.Z,{pub:b,postId:I.post_id,isFocused:W}),(0,e.h)(r.Z,{videoRef:y,isFocused:W}),(0,e.h)(l.Z,{videoRef:y})),(0,e.h)(O.hs,{flex:"grow"}),(0,e.h)(O.hs,{gap:8,alignItems:"center"},(0,e.h)(D.Z,{showCaptions:j,setShowCaptions:w,isFocused:W,disabled:!k}),(0,e.h)(M.Z,{videoRef:y,isFocused:W}),(0,e.h)(v.Z,{handle:U,isFocused:W}),(0,e.h)(m.Z,{isSettingsOpen:S,setIsSettingsOpen:N}))))))))},g=y=>(0,e.h)(u,f({},y))},38883:(Y,C,t)=>{t.d(C,{Z:()=>r});var e=t(6400),s=t(30396),O=t(74691),T=t.n(O),D=t(10844),v=t(89919),P=t(53239),M=t(21676),l=t(13045),_=t(46825),m=t(34399),E=t(53675);const r=({videoRef:o,isFocused:n})=>{const[a,i]=(0,s.eJ)(0),d=(0,s.sO)(a),[p,f]=(0,s.eJ)(!1),[u,g]=(0,s.eJ)(!1),y=(0,s.sO)(null),L=W=>{var Z;let K=0;if(y.current){const R=y.current.getBoundingClientRect(),S=(W.clientX-R.left)/R.width;K=T()(S,0,1),i(K),localStorage.setItem("video_player:volume",K.toString()),(Z=o.current)!=null&&Z.player&&(o.current.player.volume=K)}p&&K>0&&B()},b=W=>{W.preventDefault(),g(!0),L(W),document.addEventListener("mousemove",I),document.addEventListener("mouseup",A),document.addEventListener("selectstart",U)},I=W=>{g(!0),L(W)},A=()=>{g(!1),document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",A),document.removeEventListener("selectstart",U)},U=W=>{u&&W.preventDefault()};(0,s.d4)(()=>{var W,Z;const K=parseFloat((W=localStorage.getItem("video_player:volume"))!=null?W:"");if(!isNaN(K)){const R=T()(K,0,1);i(R),(Z=o.current)!=null&&Z.player&&(o.current.player.volume=R)}return()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",A),document.removeEventListener("selectstart",U)}},[]);const B=()=>{var W;(W=o.current)!=null&&W.player&&(o.current.player.muted=!p,f(!p))};return(0,_.Kr)("m",B,n),(0,e.h)(l.gq,{className:E.Z.mainContainer,justifyContent:"center",alignItems:"center"},(0,e.h)(l.u,{text:p?"Unmute (m)":"Mute (m)",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(m.Z,{onClick:B},p?(0,e.h)(D.Z,{size:18}):a>.6?(0,e.h)(v.Z,{size:18}):a>.3?(0,e.h)(P.Z,{size:18}):(0,e.h)(M.Z,{size:18}))),(0,e.h)(l.gq,{justifyContent:"center",alignItems:"center"},(0,e.h)("div",{className:E.Z.volumeBar,onMouseDown:b,ref:y},(0,e.h)("div",{className:E.Z.volumeLevel,style:{width:`${a*100}%`}}))))}},35066:(Y,C,t)=>{t.d(C,{JU:()=>F,MQ:()=>H,wi:()=>x});var e=t(6400),s=t(30396),O=t(94184),T=t.n(O),D=t(3312),v=t.n(D),P=t(92592),M=t(3258),l=t(82771),_=t(52743),m=t(20501),E=t(76193),c=t(83322),r=t(59009),o=t(2181),n=t(83857),a=t(7817),i=t(28488),d=t(17025),p=t.n(d),f=t(51126),u=t(62246),g=t(43887),y=t(96450),L=t(44396),b=t(62932),I=Object.defineProperty,A=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,W=(z,J,te)=>J in z?I(z,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):z[J]=te,Z=(z,J)=>{for(var te in J||(J={}))U.call(J,te)&&W(z,te,J[te]);if(A)for(var te of A(J))B.call(J,te)&&W(z,te,J[te]);return z},K=(z,J)=>{var te={};for(var oe in z)U.call(z,oe)&&J.indexOf(oe)<0&&(te[oe]=z[oe]);if(z!=null&&A)for(var oe of A(z))J.indexOf(oe)<0&&B.call(z,oe)&&(te[oe]=z[oe]);return te};function R({children:z,pub:J,user:te,showHeader:oe,layoutTop:ie}){return(0,e.h)("div",{className:T()(b.Z.pageContainer,ie?b.Z.layoutTop:b.Z.layoutCentered)},(0,e.h)("div",{className:b.Z.header},oe&&J&&te&&(0,e.h)(a.v2,{pub:J,user:te,hideSections:!0,hideTitle:!0})),z)}function S({pub:z,utm_campaign:J}){return(0,e.h)(f.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(G,{utm_campaign:J}),(0,e.h)(g.xv.B4,{translated:!0,size:12,color:"secondary",className:b.Z.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,_.getThreadDeepLinkUrl)(z)},"Open now")))}function N({pub:z,utm_campaign:J}){return(0,e.h)(f.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Q,{utm_campaign:J}),(0,e.h)(g.xv.B4,{translated:!0,size:12,color:"secondary",className:b.Z.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,_.getThreadDeepLinkUrl)(z)},"Open now")))}function j({pub:z,communityAction:J}){var te,oe,ie;const{iString:re,iTemplate:ue}=(0,i.M1)(),ce=J?ue`${((te=J.author)==null?void 0:te.name)||re("Someone")} started a thread`:ue`Join ${(0,c.possessive)(z.author_name)} subscriber chat `,Ee=J!=null&&J.communityPost?(oe=J.communityPost.body)==null?void 0:oe.slice(0,128):`Subscribe to ${z.name} and join the conversation.`,se=((ie=J==null?void 0:J.communityPost)==null?void 0:ie.type)==="media"&&!!(J!=null&&J.communityPost.media_assets),ne=se?J.communityPost.media_assets[0].url:z.logo_url,ee=(0,m.getPublicationChatAppLinkUrl)({pubKey:z.subdomain});return(0,e.h)(e.Fragment,null,(0,d.setMetaData)({title:ce,socialTitle:ce,description:Ee,image:ne,isLargeImage:se}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:v()((0,l.hd)(z,{name:ce,url:ee,description:Ee,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function H({publication:z,communityAction:J,user:te,showHeader:oe}){return(0,e.h)(R,{pub:z,user:te,showHeader:oe},(0,e.h)(f.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(f.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(w,{publication:z,communityAction:J,publicationAuthor:z.author||{id:z.author_id||0,name:z.author_name||"",photo_url:z.author_photo_url},utm_campaign:r.UTM_CAMPAIGN.threadsPage}))))}function x({publication:z,communityAction:J,user:te,layoutTop:oe,appModalOpenByDefault:ie}){const re=(0,L.XA)(),[ue,ce]=(0,s.eJ)(!re&&ie),Ee=r.UTM_CAMPAIGN.threadPage,{iString:se}=(0,i.M1)(),ne=(0,e.h)(f.tu,{gap:8},(0,e.h)(o.dI,{href:(0,m.getCommunityPostAppLinkUrl)({postId:J.communityPost.id,utm_source:r.UTM_SOURCE.chatPostLanding,redirect:"app-store",utm_campaign:Ee}),onClick:re?null:ee=>{ee.preventDefault(),ce(!0)}},se("Open in app")),(0,e.h)(V,{publication:z,postId:J.communityPost.id,text:se("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(R,{pub:z,user:te,layoutTop:oe},(0,e.h)(f.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(f.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(f.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},J.status==="open"?(0,e.h)(o.Jg,{communityPost:J.communityPost,author:J.author,withAttribution:!0,extras:re?null:ne,flex:"auto",isReadOnly:!0}):(0,e.h)(f.tu,null,(0,e.h)(o.V8,{author:J.author,extras:re?null:ne,commenters:J.communityPost.recent_commenters,count:J.communityPost.comment_count,audience:J.communityPost.audience})))),re&&(0,e.h)(f.tu,{className:b.Z.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},ne),(0,e.h)(j,{pub:z,communityAction:J})),(0,e.h)(q,{utm_campaign:Ee,isOpen:ue,postId:J.communityPost.id,onClose:()=>ce(!1),subdomain:z.subdomain}))}function F({publication:z,communityAction:J,user:te,layoutTop:oe,appModalOpenByDefault:ie}){var re;const{iString:ue}=(0,i.M1)(),ce=(0,L.XA)(),[Ee,se]=(0,s.eJ)(!ce&&ie),ne=r.UTM_CAMPAIGN.commentPage,ee=(re=J.communityComment.parent_id)!=null?re:J.communityComment.id,ae=J.communityComment.parent_id?J.communityComment.id:void 0,he=J.communityComment.post_id,me=(0,e.h)(f.tu,{gap:8},(0,e.h)(o.dI,{href:(0,m.getCommunityCommentAppLinkUrl)({commentId:ee,targetReplyId:ae,utm_source:r.UTM_SOURCE.chatPostLanding,redirect:"app-store",utm_campaign:ne}),onClick:ce?null:ge=>{ge.preventDefault(),se(!0)}},ue("Open in app")),(0,e.h)(V,{publication:z,postId:he,commentId:ee,targetReplyId:ae,showTarget:ae?!0:void 0,text:ue("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(R,{pub:z,user:te,layoutTop:oe},(0,e.h)(f.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(f.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(f.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},J.status==="VISIBLE"||!J.status?(0,e.h)(o.rk,{chatPublicationId:z.id,communityComment:J.communityComment,author:J.author,extras:ce?null:me,isReadOnly:!0,isBanned:!1,quoteReply:J.quote,chatAuthorNameAttribution:z.author_name,flex:"auto"}):J.status==="PAID_SUBSCRIPTION_REQUIRED"||J.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?(0,e.h)(f.tu,null,(0,e.h)(o.V8,{author:J.author,extras:ce?null:me,commenters:J.communityComment.recent_commenters,count:J.communityComment.reply_count,audience:J.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?"only_founding":"only_paid"})):(0,e.h)(f.tu,null,(0,e.h)(o.Q4,{author:J.author,extras:ce?null:me,commenters:J.communityComment.recent_commenters,count:J.communityComment.reply_count})))),ce&&(0,e.h)(f.tu,{className:b.Z.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},me)),(0,e.h)(q,{utm_campaign:ne,isOpen:Ee,postId:he,commentId:ee,targetReplyId:ae,onClose:()=>se(!1),subdomain:z.subdomain}))}function w({publication:z,communityAction:J,publicationAuthor:te,noFallback:oe,utm_campaign:ie}){const re=(0,E.isMobile)(),ue=(0,E.isAndroid)();return(0,e.h)(f.tu,{gap:re?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(y.q,{imageUrl:(0,_.getUserPhotoUrl)(te),size:88,border:!0,badge:(0,e.h)("div",{className:T()(b.Z.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(f.tu,{gap:8},(0,e.h)(g.xv.H2,{translated:!0,size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",I18N.p(te.name||"Substack user"),"'s subscriber chat")),!re&&(0,e.h)("div",{className:b.Z.threadsLinkContainer},(0,e.h)($,{utm_campaign:ie,subdomain:z.subdomain})),re&&(ue?(0,e.h)(N,{pub:z,utm_campaign:ie}):(0,e.h)(S,{pub:z,utm_campaign:ie})),(0,e.h)(V,{publication:z,source:"pub-nav-bar"}),(0,e.h)(j,{pub:z,communityAction:J}))}function V({publication:z,source:J,postId:te,commentId:oe,targetReplyId:ie,showTarget:re,text:ue}){const{iString:ce}=(0,i.M1)();return ue||(ue=ce("Or open on web")),(0,e.h)("a",{href:(0,m.getWebChatUrl)({pubId:z.id,postId:te,commentId:oe,params:{utm_source:J,targetReplyId:ie,showTarget:re}}),className:b.Z.webChatLink},(0,e.h)(g.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},ue))}function $({utm_campaign:z,postId:J,subdomain:te,commentId:oe,targetReplyId:ie}){return(0,e.h)(f.tu,{gap:24,alignItems:"center"},(0,e.h)(f.hs,{justifyContent:"center"},(0,e.h)(g.xv.B4,{translated:!0,as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(f.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:6,className:b.Z.qrCode},(0,e.h)(k,{utm_campaign:z,postId:J,subdomain:te,commentId:oe,targetReplyId:ie})),(0,e.h)(n.z3,{label:"OR"}),(0,e.h)(f.hs,{gap:16,justifyContent:"center"},(0,e.h)(G,{utm_campaign:z}),(0,e.h)(Q,{utm_campaign:z})))}function k({utm_campaign:z,postId:J,subdomain:te,commentId:oe,targetReplyId:ie}){const re=(0,s.sO)(),ue=oe?(0,m.getCommunityCommentAppLinkUrl)({commentId:oe,targetReplyId:ie,utm_campaign:z}):J?(0,m.getCommunityPostAppLinkUrl)({postId:J,utm_campaign:z}):(0,m.getPublicationChatAppLinkUrl)({pubKey:te,redirect:"app-store",utm_campaign:z});return(0,s.d4)(()=>{const{current:ce}=re;ce&&P.toCanvas(ce,ue,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:re})}function G({utm_campaign:z}){return(0,e.h)("a",{className:b.Z.appBadge,href:(0,_.getAppStoreUrl)({utm_campaign:z,utm_source:r.UTM_SOURCE.substack}),onClick:()=>{(0,M.track)(M.EVENTS.APP_STORE_LINK_CLICKED,{app_store:"ios"})}},(0,e.h)("img",{src:(0,_.imginary)("/img/app_page/app-store.png",400),height:40}))}function Q({utm_campaign:z}){return(0,e.h)("a",{className:b.Z.appBadge,href:(0,_.getPlayStoreUrl)({utm_campaign:z,utm_source:r.UTM_SOURCE.substack}),onClick:()=>{(0,M.track)(M.EVENTS.APP_STORE_LINK_CLICKED,{app_store:"android"})}},(0,e.h)("img",{src:(0,_.imginary)("/img/app_page/google-play.png",400),height:40}))}function q(z){var J=z,{postId:te,utm_campaign:oe,subdomain:ie,commentId:re,targetReplyId:ue}=J,ce=K(J,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);const{iString:Ee}=(0,i.M1)();return(0,e.h)(u.u_,Z({},ce),(0,e.h)(u.xB,{title:Ee("Open in the Substack app"),includeClose:!0,onClose:ce.onClose,bottomBorder:!0}),(0,e.h)(f.tu,{paddingY:32,paddingX:40},(0,e.h)($,{utm_campaign:oe,postId:te,subdomain:ie,commentId:re,targetReplyId:ue})))}},63503:(Y,C,t)=>{t.d(C,{Z:()=>O});var e=t(30396);const O=(T,D)=>{const v=(0,e.sO)();(0,e.d4)(()=>{v.current=T},[T]),(0,e.d4)(()=>{function P(){v.current()}if(D!==null){const M=setInterval(P,D);return()=>clearInterval(M)}},[D])}},85346:(Y,C,t)=>{t.d(C,{G:()=>s});var e=t(30396);function s(){const T=D=>{var v,P;(D.data==="3pc.supported"||D.data==="3pc.unsupported")&&(D.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(l=>{const _=l.querySelector(".tiktok-iframe");_.classList.add("visible"),l.querySelector(".tiktok-wrap.static").classList.add("hidden");const m=l.querySelector(".fallback-failure");m.classList.add("no-border");try{(_.contentDocument||_.contentWindow.document).readyState=="complete"&&m.classList.add("visible")}catch(E){}_.onload=()=>{m.classList.add("visible")},_.onerror=()=>{m.classList.add("visible")},_.onabort=()=>{m.classList.add("visible")}}),(P=(v=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:v.forEach)==null||P.call(v,M=>M.remove()))};return window.addEventListener("message",T),()=>{window.removeEventListener("message",T)}}function O(){useEffect(s,[])}},56005:(Y,C,t)=>{t.d(C,{$O:()=>e.$O,IO:()=>T.IO,Os:()=>v.Os,_D:()=>s._,fc:()=>v.fc,l8:()=>D.l,o_:()=>T.o_,rf:()=>T.rf});var e=t(16790),s=t(18026),O=t(38671),T=t(72288),D=t(34967),v=t(70355)},42395:Y=>{Y.exports=C=>(C||"").replace(/&#(\d+);/g,(t,e)=>String.fromCharCode(e))},45048:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"}},91988:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={cookieBanner:"frontend-components-cookies-CookieConsentFooter-module__cookieBanner--IUQqK",cookieBannerHide:"frontend-components-cookies-CookieConsentFooter-module__cookieBannerHide--gV3rY"}},35441:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={rowBorderBottom:"frontend-components-cookies-ManageCookiesModal-module__rowBorderBottom--RVj0X",table:"frontend-components-cookies-ManageCookiesModal-module__table--zLLhk",modal:"frontend-components-cookies-ManageCookiesModal-module__modal--SDt3l",noGrow:"frontend-components-cookies-ManageCookiesModal-module__noGrow--oCya2",grow:"frontend-components-cookies-ManageCookiesModal-module__grow--PIq4m",cellPadding:"frontend-components-cookies-ManageCookiesModal-module__cellPadding--_nojf"}},57883:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={pageContainer:"frontend-components-html_page-module__pageContainer--EjWRc"}},90457:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"}},35486:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-components-newsletter_item_list-module__container--UOq1t"}},73536:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"}},68685:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"}},33312:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={rewardBox:"frontend-components-referrals-RewardBox-module__rewardBox--kM6__"}},58047:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={iconContainer:"frontend-components-reporting-reporting_shared-module__iconContainer--rnbfC",link:"frontend-components-reporting-reporting_shared-module__link--dWGqs",confirmModal:"frontend-components-reporting-reporting_shared-module__confirmModal--thDTw",confirmDescription:"frontend-components-reporting-reporting_shared-module__confirmDescription--LavbT"}},21444:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"}},33970:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={showAnyway:"frontend-feed-ExplicitFilter-module__showAnyway--Kq9PY"}},37327:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"}},96118:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH",textWithGreyBox:"frontend-main-PressKitPage-module__textWithGreyBox--vRGlY"}},38507:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"}},69114:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-archive_page-module__container--Brctc"}},12652:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"}},63148:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-BulwarkCallout-module__container--oZQj8"}},28406:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={logo:"frontend-main-home-ClassicPodcastSectionHeader-module__logo--KZSr5"}},52051:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"}},38641:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-Layout-module__container--GJ6Wt","full-width":"frontend-main-home-Layout-module__full-width--ziPTp","full-width-with-sidebar":"frontend-main-home-Layout-module__full-width-with-sidebar--vLFfe","show-below":"frontend-main-home-Layout-module__show-below--NmYGu","three-column-width":"frontend-main-home-Layout-module__three-column-width--hAsTb","three-column-width-with-sidebar":"frontend-main-home-Layout-module__three-column-width-with-sidebar--a1h_K","one-column-two-column":"frontend-main-home-Layout-module__one-column-two-column--qBLtq","one-column-two-column-one-column":"frontend-main-home-Layout-module__one-column-two-column-one-column--uQ3yl"}},74108:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={outerContainer:"frontend-main-home-LayoutColumns-module__outerContainer--qy4d2",container:"frontend-main-home-LayoutColumns-module__container--H9Z5Z",column:"frontend-main-home-LayoutColumns-module__column--wj9tn",column1:"frontend-main-home-LayoutColumns-module__column1--t4q5a",column2:"frontend-main-home-LayoutColumns-module__column2--XTexX",column3:"frontend-main-home-LayoutColumns-module__column3--xV51Q",column4:"frontend-main-home-LayoutColumns-module__column4--mmZnX"}},82840:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-LayoutHalfHalf-module__container--UpdiU",column:"frontend-main-home-LayoutHalfHalf-module__column--xDXwf",left:"frontend-main-home-LayoutHalfHalf-module__left--GzFMe",right:"frontend-main-home-LayoutHalfHalf-module__right--IS8pD"}},10814:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={link:"frontend-main-home-MetaLink-module__link--b9iM0"}},78955:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"}},17698:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-PodcastSectionPage-module__container--NazlT"}},77526:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"}},80665:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7",bottomLabels:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__bottomLabels--ZYHRu"}},69697:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={gifPreview:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__gifPreview--Q_gZG",visible:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__visible--CDDZi",image:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__image--qjVzM"}},78283:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-PostPreview-PostPreviewHero-module__container--uGUf6",containerNoImage:"frontend-main-home-PostPreview-PostPreviewHero-module__containerNoImage--QGX1I",videoLayer:"frontend-main-home-PostPreview-PostPreviewHero-module__videoLayer--bJ21s",contentLayer:"frontend-main-home-PostPreview-PostPreviewHero-module__contentLayer--CS14J",content:"frontend-main-home-PostPreview-PostPreviewHero-module__content--gXWZX",image:"frontend-main-home-PostPreview-PostPreviewHero-module__image--vny2h",solidBackground:"frontend-main-home-PostPreview-PostPreviewHero-module__solidBackground--YJ063",previewBackground:"frontend-main-home-PostPreview-PostPreviewHero-module__previewBackground--WxRjs",description:"frontend-main-home-PostPreview-PostPreviewHero-module__description--OVLat",postTitleMobile:"frontend-main-home-PostPreview-PostPreviewHero-module__postTitleMobile--arwfx"}},35338:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"}},23901:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"}},37267:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui","container--no-image":"frontend-main-home-PostPreview-PostPreviewListing-module__container--no-image--so05t",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"}},5078:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"}},22743:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"}},58514:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"}},22380:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"}},78597:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K","container--menu-open":"frontend-main-home-PostPreview-index-module__container--menu-open--js7AZ",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu","actions--menu-open":"frontend-main-home-PostPreview-index-module__actions--menu-open--HkA_4"}},98616:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"}},94800:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={postRow:"frontend-main-home-PostsGrid-module__postRow--IK5v4",postContainer:"frontend-main-home-PostsGrid-module__postContainer--cSdz5",postContainerTwoColumn:"frontend-main-home-PostsGrid-module__postContainerTwoColumn--sSPsj",postContainerThreeColumn:"frontend-main-home-PostsGrid-module__postContainerThreeColumn--S7iyT",postContainerFourColumn:"frontend-main-home-PostsGrid-module__postContainerFourColumn--eIjBf"}},47084:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-PostsLayout-module__container--ZMlBv",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX",dividerVertical:"frontend-main-home-PostsLayout-module__dividerVertical--eFKbV","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84","two-column-grid":"frontend-main-home-PostsLayout-module__two-column-grid--B3xhg","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","four-column-grid":"frontend-main-home-PostsLayout-module__four-column-grid--KCnzZ","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"}},91029:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={logo:"frontend-main-home-SectionHeader-module__logo--k74v2"}},92742:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={bodyContainer:"frontend-main-home-SectionPage-module__bodyContainer--EHUgw"}},70663:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-SectionPageContainer-module__container--VOaMV",containerThreeColumn:"frontend-main-home-SectionPageContainer-module__containerThreeColumn--cNe2I"}},49273:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-content_blocks-ContentBlockEmptyState-module__container--FYIsx"}},88710:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={outerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__outerContainer--y7q8i",thebulwark:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__thebulwark--eRrHg",innerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__innerContainer--kL5ui",pubLogo:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__pubLogo--NqKND"}},5561:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={logo:"frontend-main-home-sidebar-PodcastArt-module__logo--NMNSr","logo-64":"frontend-main-home-sidebar-PodcastArt-module__logo-64--zEi9Z","logo-72":"frontend-main-home-sidebar-PodcastArt-module__logo-72--COwbG",logoPlaceholder:"frontend-main-home-sidebar-PodcastArt-module__logoPlaceholder--D2tNI"}},26919:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-sidebar-SidebarEmptyState-module__container--YAmtL"}},95447:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-home-sidebar-SidebarSubscribe-module__container--iNbOy",pubLogo:"frontend-main-home-sidebar-SidebarSubscribe-module__pubLogo--ujmr4"}},52881:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={title:"frontend-main-home-sidebar-SidebarTitle-module__title--njy6c"}},86505:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"}},48550:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"}},88596:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"}},55571:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"}},77148:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"}},77106:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-scheduled_post_page-module__container--IhNeJ",imageContainer:"frontend-main-scheduled_post_page-module__imageContainer--r8zca",postContainer:"frontend-main-scheduled_post_page-module__postContainer--XGEvi",imagePreview:"frontend-main-scheduled_post_page-module__imagePreview--qfOgy",shareButton:"frontend-main-scheduled_post_page-module__shareButton--QQbjJ",foundingButton:"frontend-main-scheduled_post_page-module__foundingButton--lN7jr",upsellDescription:"frontend-main-scheduled_post_page-module__upsellDescription--WIiTE",countdownContainer:"frontend-main-scheduled_post_page-module__countdownContainer--ozFoc",countdownInnerContainer:"frontend-main-scheduled_post_page-module__countdownInnerContainer--JhNKd",refreshLink:"frontend-main-scheduled_post_page-module__refreshLink--h1Cco"}},97558:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"}},56070:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={questionListDisabled:"frontend-main-survey_page-module__questionListDisabled--Eb9tZ",dropdown:"frontend-main-survey_page-module__dropdown--P6GQ4"}},1396:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"}},72947:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-pencraft-unstable-ClickBox-module__container--Fi9JA",containerHoverLight:"frontend-pencraft-unstable-ClickBox-module__containerHoverLight--nsdj2"}},51220:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},18540:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"}},88482:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"}},28967:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",feedPad:"frontend-reader2-FeedPage2-module__feedPad--Kgu2r",title:"frontend-reader2-FeedPage2-module__title--JGHnF",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6",bookmarkIcon:"frontend-reader2-FeedPage2-module__bookmarkIcon--nJnXY",isSaved:"frontend-reader2-FeedPage2-module__isSaved--zg0nn"}},7980:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq",notifyConformModalPubRow:"frontend-reader2-NewPost-module__notifyConformModalPubRow--ARJ9X"}},51072:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={tabs:"frontend-reader2-TabBar-module__tabs--WpXhb",tab:"frontend-reader2-TabBar-module__tab--E9FLI",isActive:"frontend-reader2-TabBar-module__isActive--hHYju",tabText:"frontend-reader2-TabBar-module__tabText--Sb2W6"}},79234:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={"icon-20":"frontend-shows-ShowLinkIcon-module__icon-20--okag9","icon-40":"frontend-shows-ShowLinkIcon-module__icon-40--u4yey"}},35627:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={"subscribe-container":"frontend-shows-ShowsCTA-module__subscribe-container--ao5j2",description:"frontend-shows-ShowsCTA-module__description--fsbTx"}},17444:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={image:"frontend-shows-ShowsEpisodePreview-module__image--KC1Rx","thumbnail-duration":"frontend-shows-ShowsEpisodePreview-module__thumbnail-duration--oW4Om"}},57700:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={"listen-on-item":"frontend-shows-ShowsListenOn-module__listen-on-item--_4h4Q"}},48029:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={button:"frontend-shows-ShowsListenOnMobile-module__button--SMKzW"}},52670:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-shows-ShowsPost-module__container--kzpgm","main-content-and-sidebar":"frontend-shows-ShowsPost-module__main-content-and-sidebar--p703x","main-content":"frontend-shows-ShowsPost-module__main-content--mgpu3",postContentWrapper:"frontend-shows-ShowsPost-module__postContentWrapper--baa06",sidebar:"frontend-shows-ShowsPost-module__sidebar--qwsJE"}},63157:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={"player-wrapper-outer":"frontend-shows-ShowsPostAudioPlayer-module__player-wrapper-outer--NvMj8","player-wrapper-inner":"frontend-shows-ShowsPostAudioPlayer-module__player-wrapper-inner--cF55h"}},6:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-shows-ShowsTranscript-module__container--gR_Eu","container--collapsed":"frontend-shows-ShowsTranscript-module__container--collapsed--n9den",header:"frontend-shows-ShowsTranscript-module__header--HOKBZ",icon:"frontend-shows-ShowsTranscript-module__icon--SxusQ","icon--expanded":"frontend-shows-ShowsTranscript-module__icon--expanded--ddc0e","transcription-container":"frontend-shows-ShowsTranscript-module__transcription-container--IjluX","transcription-chunk":"frontend-shows-ShowsTranscript-module__transcription-chunk--HW9zd",transcriptionWords:"frontend-shows-ShowsTranscript-module__transcriptionWords--AGVSc","transcription-chunk--active":"frontend-shows-ShowsTranscript-module__transcription-chunk--active--lMJxz","transcription-timestamp":"frontend-shows-ShowsTranscript-module__transcription-timestamp--NAgIH","transcription-text":"frontend-shows-ShowsTranscript-module__transcription-text--nnfzG"}},54762:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-shows-ShowsVideoPlayer-module__container--YsDXk","video-wrapper":"frontend-shows-ShowsVideoPlayer-module__video-wrapper--kVvEJ","video-full-screen":"frontend-shows-ShowsVideoPlayer-module__video-full-screen--UkA12","preview-label-container":"frontend-shows-ShowsVideoPlayer-module__preview-label-container--l5L0H",sidebar:"frontend-shows-ShowsVideoPlayer-module__sidebar--poWlZ","sidebar--hidden":"frontend-shows-ShowsVideoPlayer-module__sidebar--hidden--ljSvj","sidebar-icons":"frontend-shows-ShowsVideoPlayer-module__sidebar-icons--xA9c1",videoContainer:"frontend-shows-ShowsVideoPlayer-module__videoContainer--NLTdt",overflow:"frontend-shows-ShowsVideoPlayer-module__overflow--kEouB"}},99864:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={container:"frontend-shows-video_player-Captions-module__container--ypFAE",text:"frontend-shows-video_player-Captions-module__text--fDdAu","container-full-screen":"frontend-shows-video_player-Captions-module__container-full-screen--TjDrc","text-full-screen":"frontend-shows-video_player-Captions-module__text-full-screen--HE6nv"}},84485:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={fullWidth:"frontend-shows-video_player-NextEpisodeButton-module__fullWidth--bpz9l",container:"frontend-shows-video_player-NextEpisodeButton-module__container--yn3yT","thumbnail-duration":"frontend-shows-video_player-NextEpisodeButton-module__thumbnail-duration--RJIVF",space:"frontend-shows-video_player-NextEpisodeButton-module__space--CiUuM"}},51913:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={playerButton:"frontend-shows-video_player-PlayerButton-module__playerButton--lRvT_"}},61510:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={seetingsMenu:"frontend-shows-video_player-SettingsMenu-module__seetingsMenu--Ydp2M",menuItem:"frontend-shows-video_player-SettingsMenu-module__menuItem--djCnd"}},67824:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={timelineContainer:"frontend-shows-video_player-Timeline-module__timelineContainer--ezgpJ",timeline:"frontend-shows-video_player-Timeline-module__timeline--guZc4",timelineHover:"frontend-shows-video_player-Timeline-module__timelineHover--mKBAH",progress:"frontend-shows-video_player-Timeline-module__progress--G4Qrh",progressHover:"frontend-shows-video_player-Timeline-module__progressHover--_GK9Z",tooltip:"frontend-shows-video_player-Timeline-module__tooltip--QRZyc",timelineLabelContainer:"frontend-shows-video_player-Timeline-module__timelineLabelContainer--hwYPj",timelineTimeTooltip:"frontend-shows-video_player-Timeline-module__timelineTimeTooltip--yDFM6",timelineTimeThumbnailTooltip:"frontend-shows-video_player-Timeline-module__timelineTimeThumbnailTooltip--SUz9x"}},75025:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={bottomControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__bottomControlsContainer--tCMvI",bottomInnerControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__bottomInnerControlsContainer--e5tiq",backDrop:"frontend-shows-video_player-VideoPlayerControls-module__backDrop--aGXRg",captionsContainer:"frontend-shows-video_player-VideoPlayerControls-module__captionsContainer--CFN9J",centerControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__centerControlsContainer--zF6Tm",settingsControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__settingsControlsContainer--FEpyx",settingsControlsBox:"frontend-shows-video_player-VideoPlayerControls-module__settingsControlsBox--sNCjk",topOverlaysContainer:"frontend-shows-video_player-VideoPlayerControls-module__topOverlaysContainer--yak0L",bottomOverControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__bottomOverControlsContainer--uz7se",castStatus:"frontend-shows-video_player-VideoPlayerControls-module__castStatus--lVqI7"}},53675:(Y,C,t)=>{t.d(C,{Z:()=>e});const e={mainContainer:"frontend-shows-video_player-VolumeControl-module__mainContainer--ePhmK",volumeBar:"frontend-shows-video_player-VolumeControl-module__volumeBar--xXqXs",volumeLevel:"frontend-shows-video_player-VolumeControl-module__volumeLevel--WfB3P"}}}]);})();

//# sourceMappingURL=9626.f739708dc77eeba40205.chunk.js.map