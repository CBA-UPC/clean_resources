!this,;
(function(){"use strict";
/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function n(t,r){ar o,f,e,u,s;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!n.notNeeded(t)){for(f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],e=this,u=0,s=f.length;u<s;u++)e[f[u]]=h(e[f[u]],e);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0));t.addEventListener("click",this.onClick,!0);t.addEventListener("touchstart",this.onTouchStart,!1);t.addEventListener("touchmove",this.onTouchMove,!1);t.addEventListener("touchend",this.onTouchEnd,!1);t.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(t.removeEventListener=t.addEventListener=;typeof t.onclick=="function"&&(o=t.onclick,t.addEventListener("click",!1),t.onclick=null)}}var r=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!r,t=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r,u=t&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=t&&/OS [6-7]_\d/.test(navigator.userAgent),e=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=n.prototype.needsFocus=n.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent(this.determineEventType(n),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};n.prototype.determineEventType=n.prototype.focus=function(n){var i;t&&n.setSelectionRange&&n.type.indexOf("date")!==0&&n.type!=="time"&&n.type!=="month"&&n.type!=="email"?(i=n.value.length,n.setSelectionRange(i,i)):n.focus()};n.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};n.prototype.getTargetElementFromEventTarget=n.prototype.onTouchStart=function(n){var r,i,f;if(n.targetTouches.length>1)return!0;if(r=this.getTargetElementFromEventTarget(n.target),i=n.targetTouches[0],t){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=i.identifier;this.updateScrollParent(r)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=r,this.touchStartX=i.pageX,this.touchStartY=i.pageY,n.timeStamp-this.lastClickTime<this.tapDelay&&n.preventDefault(),!0};n.prototype.touchHasMoved=n.prototype.onTouchMove=n.prototype.findControl=n.prototype.onTouchEnd=function(n){var s,c,e,o,h,r=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(n.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=n.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(h=n.changedTouches[0],r=document.elementFromPoint(h.pageX-window.pageXOffset,h.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),e=r.tagName.toLowerCase(),e==="label"){if(s=this.findControl(r),s){if(this.focus(r),i)return!1;r=s}}else if(this.needsFocus(r))return n.timeStamp-c>100||t&&window.top!==window&&e==="input"?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,n),t&&e==="select"||(this.targetElement=null,n.preventDefault()),!1);return t&&!u&&(o=r.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(r)||(n.preventDefault(),this.sendClick(r,n)),!1)};n.prototype.onTouchCancel=n.prototype.onMouse=n.prototype.onClick=n.prototype.destroy=n.notNeeded=function(n){var t,r,u,f;if(typeof ontouchstart=="undefined")return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r)if(i){if(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||r>31&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return e&&(u=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),u[1]>=10&&u[2]>=3&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.msTouchAction==="none"||n.style.touchAction==="manipulation"?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.touchAction==="none"||n.style.touchAction==="manipulation"?!0:!1};n.attach=typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return n}):typeof module!="undefined"&&module.exports?(module.exports=n.attach,module.exports.FastClick=n):window.FastClick=n})();
/*! jQuery v3.6.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!"undefined"!=typeof window?window:this,;
(function(n){n.each(["get","post"],function(t,i){n[i]=function(t,r,u,f){n.isFunction(r)&&(f=f||u,u=r,r=undefined);var e=n.ajax(n.extend({url:t,type:i,dataType:f,data:r,success:u},n.isPlainObject(t)&&t));return e.success=e.done,e.error=e.fail,e}})})(jQuery);
(function(n,t){var i=!!("ontouchstart"in n)||!!("onmsgesturechange"in n);i&&(t("a").each(function(){var n=t(this),i=n.attr("href");i&&i.indexOf("#")!=0&&i.indexOf("javascript:")!=0&&n.attr("id")!="icon_home"&&FastClick.attach(n.get(0),{passive:!0})}),t("button").each(function(){var n=t(this);FastClick.attach(n.get(0),{passive:!0})}))})(window,jQuery);
jQuery.cookie=function(n,t,i){var f,r,e,o,u,s;if(typeof t!="undefined"){i=i||{};t===null&&(t="",i.expires=-1);f="";i.expires&&(typeof i.expires=="number"||i.expires.toUTCString)&&(typeof i.expires=="number"?(r=new Date,r.setTime(r.getTime()+i.expires*864e5)):r=i.expires,f="; expires="+r.toUTCString());var h=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:"",l=i.secure?"; secure":"";document.cookie=[n,"=",encodeURIComponent(t),f,h,c,l].join("")}else{if(e=null,document.cookie&&document.cookie!="")for(o=document.cookie.split(";"),u=0;u<o.length;u++)if(s=jQuery.trim(o[u]),s.substring(0,n.length+1)==n+"="){e=decodeURIComponent(s.substring(n.length+1));break}return e}};
/*
*/
(function(n,t,i,r){var u=n(t);/webkit.*mobile/i.test(navigator.userAgent)&&function(n){n.fn.offsetOld=n.fn.offset;n.fn.offset=function(){var n=this.offsetOld();return n.top-=t.scrollY,n.left-=t.scrollX,n}}(jQuery);n.fn.lazyload=function(f){function s(){var t=0,r=u.scrollTop(),f=i.body.getBoundingClientRect(),s=u.innerHeight();o.each(function(){var i=n(this);if(!e.skip_invisible||i.is(":visible")){var l=i.get(0).getBoundingClientRect(),a=l.top-f.top,u=Math.round(a),o=Math.round(i.offset().top+i.outerHeight()),h=Math.round(r+s+e.threshold),c=Math.round(r-e.threshold);if(u>=c&&u<=h||o>=c&&o<=h)i.trigger("appear"),t=0;else if(++t>e.failure_limit)return}})}var o=this,h,e={threshold:200,failure_limit:10,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,tag_name:"img",appear:null,load:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",srcset:{allow:!1,data_attribute:"srcset"}};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),o.each(function(){var u=this,i=n(u);u.lazy_loaded=!1;(i.attr("src")===r||i.attr("src")===!1)&&i.is(e.tag_name)&&i.attr("src",e.placeholder);t._debug_&&i.css({border:"solid 1px #C00"});i.one("appear",function(){var s,r,n,h,f;t._debug_&&i.css({border:"solid 1px #0C0"});this.lazy_loaded||(t._debug_&&i.css({border:"solid 1px #080"}),e.appear&&(s=o.length,e.appear.call(u,s,e)),r="data-"+e.data_attribute,e.tag_name=="iframe"?(n=i.attr(r),i.attr("src",n),u.lazy_loaded=!0):(n=i.attr(r),i.is("img")?(i.attr("src",n),e.srcset&&e.srcset.allow&&(h="data-"+e.srcset.data_attribute,f=i.attr(h),f&&i.attr("srcset",f))):i.css("background-image","url('"+n+"')"),i[e.effect](e.effect_speed),u.lazy_loaded=!0,i.addClass("lazy-loaded")))});0!==e.event.indexOf("scroll")&&u.addEventListener(e.event,{passive:!0})}),0===e.event.indexOf("scroll")&&h.get(0).addEventListener(e.event,function(){return s("scroll")},{passive:!0}),h.bind("lazyload.show",,u.bind("resize",function(){s("resize")}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",,s("document.ready"),this}})(jQuery,window,document);
(function(n){var i={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",paramName:"q",method:"GET",minChars:1,delay:300,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!1,formatItem:function(n){return n[0]},getValueItem:onReceiveData:null,formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(n,t){return n?n.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1<\/strong>"):n},scroll:!0,scrollHeight:180,onMouseClick:,t=!1;n.fn.extend({autocomplete:function(t,i){var r=typeof t=="string";return i=n.extend({},n.Autocompleter.defaults,{url:r?t:null,data:r?null:t,delay:r?n.Autocompleter.defaults.delay:10,max:i&&!i.scroll?10:150},i),i.containerDOM=n(i.containerDOM).get(0)||document.body,i.highlight=i.highlight||i.formatMatch=i.formatMatch||i.formatItem,this.each(},result:search:function(n){return this.trigger("search",[n])},flushCache:function(){return this.trigger("flushCache")},setOptions:unautocomplete:);n.Autocompleter=function(i,r){function nt(){var o=u.selected(),t,e;if(!o)return!1;if(t=o.result,s=t,r.multiple){if(e=c(f.val()),e.length>1){var a=r.multipleSeparator.length,v=n(i).selection().start,l,h=0;n.each(e,;e[l]=t;t=e.join(r.multipleSeparator)}t+=r.multipleSeparator}return(typeof r.autoFillText=="undefined"||r.autoFillText==null||r.autoFillText===!0)&&f.val(t),y(),f.trigger("result",[o.data,o.value]),!0}function h(n,i,e){t=!1;var o=f.val();(i||o!=s)&&(s=o,o=p(o),e===!0||o.length>=r.minChars?(f.addClass(r.loadingClass),r.matchCase||(o=o.toLowerCase()),b(o,it,y)):(k(),u.hide()))}unction p(t){var u,f;return r.multiple?(u=c(t),u.length==1)?u[0]:(f=n(i).selection().start,u=f==t.length?c(t):c(t.replace(t.substring(f),"")),u[u.length-1]):t}function rt(t,u){r.autoFill&&p(f.val()).toLowerCase()==t.toLowerCase()&&d!=e.BACKSPACE&&(f.val(f.val()+u.substring(p(s).length)),n(i).selection(s.length,s.length+u.length))}unction y(){var t=u.visible();u.hide();clearTimeout(a);k();r.mustMatch&&f.search(function(n){if(!n)if(r.multiple){var t=c(f.val()).slice(0,-1);f.val(t.join(r.multipleSeparator)+(t.length?r.multipleSeparator:""))}else f.val(""),f.trigger("result",null)});r.button&&n(r.button).length>0&&(n(r.button).removeClass("ac_active"),o=!1)}function it(n,t){if(t&&t.length&&o?(k(),u.display(t,n),rt(n,t[0].value),u.show()):y(),r.onReceiveData)r.onReceiveData(n,u,t)}function b(t,f,e){var o,s,h;r.matchCase||(t=t.toLowerCase());o=v.load(t);o&&o.length?f(t,o):typeof r.url=="string"&&r.url.length>0?(l&&l.abort(),s={timestamp:+new Date},n.each(r.extraParams,,h={limit:r.max},r.paramName||(r.paramName="q"),r.method||(r.method="GET"),h[r.paramName]=p(t),l=n.ajax({mode:"abort",port:"autocomplete"+i.name,dataType:r.dataType,url:r.url,method:r.method,data:n.extend(h,s),success:)):(u.emptyList(),e(t))}function ut(t){var o=[],e,u,i,f;if(r.dataType=="json")for(e=t,u=0;u<e.length;u++)i=e[u],i&&(f=r.getValueItem(i),o.push({data:i,value:f,result:r.formatResult&&r.formatResult(i,f)||f}));else for(e=t.split("\n"),u=0;u<e.length;u++)i=n.trim(e[u]),i&&(i=i.split("|"),f=r.getValueItem(i),o.push({data:i,value:f,result:r.formatResult&&r.formatResult(i,f)||f}));return o}ar e={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},f=n(i).attr("autocomplete","off").addClass(r.inputClass),l,a,s="",v=n.Autocompleter.Cache(r),o=0,d,g={mouseDownOnSelect:!1},u=n.Autocompleter.Select(r,i,nt,g),w;navigator.userAgent.indexOf("Opera")!=-1&&n(i.form).bind("submit.autocomplete",;r.button&&n(r.button).length>0&&n(r.button).bind("click",function(t){var i=n(this);t.preventDefault();i.hasClass("ac_active")?(i.removeClass("ac_active"),tt(),o=!1):(i.addClass("ac_active"),o=!0,b(" ",it,y))});f.bind((navigator.userAgent.indexOf("Opera")!=-1?"keypress":"keydown")+".autocomplete",function(i){o=1;d=i.keyCode;switch(i.keyCode){case e.UP:i.preventDefault();u.visible()?u.prev():h(0,!0);break;case e.DOWN:i.preventDefault();u.visible()?u.next():h(0,!0);break;case e.PAGEUP:i.preventDefault();u.visible()?u.pageUp():h(0,!0);break;case e.PAGEDOWN:i.preventDefault();u.visible()?u.pageDown():h(0,!0);break;case r.multiple&&n.trim(r.multipleSeparator)==","&&e.COMMA:case e.TAB:case e.RETURN:if(nt())return i.preventDefault(),w=!0,!1;break;case e.ESC:u.hide();break;default:l&&l.abort();t=!0;clearTimeout(a);a=setTimeout(function(){r.cacheEnabled===!1&&v.flush();h(0,!0,!0)},r.delay)}}).focus(.blur(function(){o=0;g.mouseDownOnSelect||tt()}).click(.bind("search",function(){function i(n,i){var r,u;if(i&&i.length)for(u=0;u<i.length;u++)if(i[u].result.toLowerCase()==n.toLowerCase()){r=i[u];break}typeof t=="function"?t(r):f.trigger("result",r&&[r.data,r.value])}var t=arguments.length>1?arguments[1]:null;n.each(c(f.val()),}).bind("flushCache",.bind("setOptions",function(){n.extend(r,arguments[1]);"data"in arguments[1]&&v.populate()}).bind("unautocomplete",};n.Autocompleter.defaults=i;n.Autocompleter.Cache=function(t){function u(n,i){t.matchCase||(n=n.toLowerCase());var r=n.indexOf(i);return(t.matchContains=="word"&&(r=n.toLowerCase().search("\\b"+i.toLowerCase())),r==-1)?!1:r==0||t.matchContains}unction e(){var r,h,u,c,i,e,o,s;if(!t.data)return!1;for(r={},h=0,t.url||(t.cacheLength=1),r[""]=[],u=0,c=t.data.length;u<c;u++)(i=t.data[u],i=typeof i=="string"?[i]:i,e=t.formatMatch(i,u+1,t.data.length),e!==!1)&&(o=e.charAt(0).toLowerCase(),r[o]||(r[o]=[]),s={value:e,data:i,result:t.formatResult&&t.formatResult(i)||e},r[o].push(s),h++<t.max&&r[""].push(s));n.each(r,}ar i={},r=0;return setTimeout(e,25),{flush:o,add:f,populate:e,load:function(f){var h,s,o,e;if(!t.cacheLength||!r)return null;if(!t.url&&t.matchContains){e=[];for(h in i)h.length>0&&(o=i[h],n.each(o,);return e}if(i[f])return i[f];if(t.matchSubset)for(s=f.length-1;s>=t.minChars;s--)if(o=i[f.substr(0,s)],o)return e=[],n.each(o,,e;return null}}};n.Autocompleter.Select=function(i,r,u,f){function b(){p&&(c=n("<div/>").hide().addClass(i.resultsClass).css("position","absolute").appendTo(i.containerDOM),w=n("<div/>").addClass("ac_wrapper").css("position","relative").appendTo(c),e=n("<ul/>").addClass("ac_list").appendTo(w).mouseover(function(t){v(t).nodeName&&v(t).nodeName.toUpperCase()=="LI"&&(s=n("li",e).removeClass(h.ACTIVE).index(v(t)),n(v(t)).addClass(h.ACTIVE))}).click(function(t){return n(v(t)).addClass(h.ACTIVE),u(),r.focus(),i.onMouseClick!=null?i.onMouseClick(t):!1}).mousedown(function(){f.mouseDownOnSelect=!0}).mouseup(,i.width>0&&c.css("width",i.width),p=!1)}function v(n){for(var t=n.target;t&&t.tagName!="LI";)t=t.parentNode;return t?t:[]}function a(n){var r,t;o.slice(s,s+1).removeClass(h.ACTIVE);k(n);r=o.slice(s,s+1).addClass(h.ACTIVE);i.scroll&&(t=0,o.slice(0,s).each(function(){t+=this.offsetHeight}),t+r[0].offsetHeight-e.scrollTop()>e[0].clientHeight?e.scrollTop(t+r[0].offsetHeight-e.innerHeight()):t<e.scrollTop()&&e.scrollTop(t))}function k(n){s+=n;s<0?s=o.size()-1:s>=o.size()&&(s=0)}unction g(){var f,c,p,a,u,w,r,v;for(e.empty(),f=d(l.length),r=0;r<f;r++)l[r]&&(c=i.formatItem(l[r].data,r+1,f,l[r].value,y),c!==!1)&&(p=n("<li/>").html(c).addClass(r%2==0?"ac_even":"ac_odd").appendTo(e)[0],n.data(p,"ac_data",l[r]));for(o=e.find("li"),i.selectFirst&&(o.slice(0,1).addClass(h.ACTIVE),s=0),n.fn.bgiframe&&e.bgiframe(),a=n("li",e),u=a.length,u>20&&(u=20),w=y.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1"),r=0;r<u;r++)t===!1&&(v=a.eq(r),v.html(i.highlight(v.html(),w)))}var h={ACTIVE:"ac_over"},nt=this,o,s=-1,l,y="",p=!0,c,e,w;return{display:next:prev:pageUp:function(){s!=0&&s-8<0?a(-s):a(-8)},pageDown:hide:visible:current:show:function(){var t=n(r).offset(),s=n(i.containerDOM).offset(),h,u,f;t.top-=s.top;t.left-=s.left;c.css({width:typeof i.width=="string"||i.width>0?i.width:n(r).width(),top:t.top+r.offsetHeight,left:t.left}).show();e.show();h={width:typeof i.width=="string"||i.width>0?i.width:n(r).width(),top:t.top+r.offsetHeight,left:t.left};i.scroll&&(e.scrollTop(0),e.css({maxHeight:i.scrollHeight,overflow:"auto"}),navigator.userAgent.indexOf("MSIE")!=-1&&typeof document.body.style.maxHeight=="undefined"&&(u=0,o.each(,f=u>i.scrollHeight,e.css("height",f?i.scrollHeight:u),f||o.width(e.width()-parseInt(o.css("padding-left"))-parseInt(o.css("padding-right")))))},selected:emptyList:function(){e&&e.empty()},unbind:getul:};n.fn.selection=function(n,t){var i,r;if(n!==undefined)return this.each(function(){if(this.createTextRange){var i=this.createTextRange();t===undefined||n==t?(i.move("character",n),i.select()):(i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",t),i.select())}else this.setSelectionRange?this.setSelectionRange(n,t):this.selectionStart&&(this.selectionStart=n,this.selectionEnd=t)});if(i=this[0],i.createTextRange){var u=document.selection.createRange(),o=i.value,f="<->",e=u.text.length;return u.text=f,r=i.value.indexOf(f),i.value=o,this.selection(r,r+e),{start:r,end:r+e}}if(i.selectionStart!==undefined)return{start:i.selectionStart,end:i.selectionEnd}}})(jQuery);
function makeSticky(n,t){function e(n){if(n.data("loating")!=1){var t=n.offset()||{top:0,left:0};n.data("top",t.top);n.data("left",t.left);n.data("height",n.height());n.data("width",n.width());n.data("style",n.attr("style"))}}function c(n,t){var i=0,r,u;try{typeof t=="undefined"||typeof t.bottom=="undefined"?(r=n.parent(),r!=null&&typeof r!="undefined"&&(i=r.offset().top+r.height())):typeof t.bottom=="string"?(u=t.bottom,u.indexOf("#")==-1&&(u="#"+u),i=$(u).offset().top):i=t.bottom}catch(f){console.log(f.message);i=-1}return t.bottomOffset&&(i=i-t.bottomOffset),i}function f(n,t,i){var l;if(n.is(":visible")){var v=typeof t.fixedWidth=="undefined"?!0:t.fixedWidth,y=typeof t.fixedHeight=="undefined"?!0:t.fixedHeight,p=Math.floor($(window).scrollLeft()),a=typeof t.elastic=="undefined"?!0:t.elastic,s=typeof t.topOffset=="undefined"?0:t.topOffset,w=!(t.screenWidthMin&&$(window).width()<t.screenWidthMin)&&!(t.screenWidthMax&&$(window).width()>t.screenWidthMax),u=c(n,t),b=Math.floor($(window).scrollTop()+$(window).height()-u),o=Math.floor($(window).scrollTop()+n.height()),r={};r.bottom=u;r.bottomFromBot=b;r.bottomFromTop=o;u>0&&(w&&$(window).scrollTop()>=parseInt(n.data("top"))-s?(n.css("position")!="fixed"&&n.css("position","fixed"),v&&n.css("width",n.data("width")),y&&n.css("height",n.data("height")),n.css({left:parseInt(n.data("left"))-p-parseInt(n.css("margin-left"))}),n.removeClass("sticky").removeClass("bottoming"),o>=u?(a?(n.css({top:-1*(o-u)+window._scrollSpeed}),n.stop().animate({top:-1*(o-u)},"fast")):n.css({top:-1*(o-u)}),n.addClass("sticky").addClass("bottoming"),r.state="sticky",r.stateSub="bottoming"):(a?(n.css({top:window._scrollSpeed}),n.stop().animate({top:s},"fast")):n.css({top:s}),n.addClass("sticky"),r.state="sticky",r.stateSub="floating"),n.data("loating",1)):(n.data("loating",0),n.attr("style",n.data("style")||""),e(n),r.state="static",r.stateSub=""));try{h(r)}catch(k){}if(i>0)for(l=0;l<i;l++)window.setTimeout(100)}}function o(){var n=$(this).scrollTop();lastScrollTop=window._lastScrolltop?window._lastScrolltop:n;window._scrollSpeed=lastScrollTop-n;window._lastScrolltop=n}var l=typeof t.stickyClass=="undefined"?"sticky":t.stickyClass,h=typeof t.callback=="function"?t.callback:r,i,u,s;n instanceof jQuery?r=n.get():(n.indexOf("#")!=-1&&(n=n.replace("#","")),r=document.getElementById(n));i=$(r);e(i);t.wrapper&&(u=$(t.wrapper),s=r.id+"-wrapper",u.width(i.outerWidth()),u.height(i.outerHeight()),u.attr("id",s),i.wrap(u));window.addEventListener("resize",function(){o();$(r).each(function(){e(i);f(i,t,0)})},{passive:!0});window.addEventListener("scroll",function(){o();f(i,t,0)},{passive:!0});o();f(i,t,0)}(function(n){n.fn.makeFixed=function(n){var t=this;t.each(}})(jQuery);
function NewGuid(){var n=(new Date).getTime();return window.performance&&typeof window.performance.now=="function"&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,}function openPopUp(n,t,i,r){return window.open(i,r,"toolbar=0,location=0, directories=0, status=0, menubar=0, scrollbars=1, resizable=0, width="+n+", height="+t+", left="+(screen.width-n)/2+", top="+(screen.height-t)/2)}function popup(n,t,i){var r=i&&i.width?i.width:screen.width,u=i&&i.height?i.height:screen.height,f=i&&i.top?i.top:(screen.height-u)/2,e=i&&i.left?i.left:(screen.width-r)/2;return window.open(n,t,"toolbar=0,location=0, directories=0, status=0, menubar=0, scrollbars=1, resizable=0, width="+r+", height="+u+", left="+e+", top="+f)}function openPopUp2(n,t,i,r){return window.open(i,r,"toolbar=0,location=0, directories=0, status=0, menubar=0, scrollbars=0, resizable=0, width="+n+", height="+t+", left="+(screen.width-n)/2+", top="+(screen.height-t)/2)}unction popPrint(){var n=550,t=400;return window.open("about:blank","__popPrint","toolbar=0,location=0, directories=0, status=0, menubar=0, scrollbars=0, resizable=0, width="+n+", height="+t+", left="+(screen.width-n)/2+", top="+(screen.height-t)/2)}nction time_params(){var n=new Date,t=n.getMilliseconds(),i=n.getSeconds(),r=n.getMinutes(),u=n.getHours(),f=n.getDay(),e=n.getMonth(),o=n.getFullYear();return o+"_"+e+"_"+f+"_"+u+"_"+r+"_"+i+"_"+t}function setCookie(n,t,i){var r=new Date;r.setDate(r.getDate()+i);document.cookie=n+"="+escape(t)+(i==null?"":";expires="+r)}function getCookie(n){return document.cookie.length>0&&(c_start=document.cookie.indexOf(n+"="),c_start!=-1)?(c_start=c_start+n.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):null}unction gotoRef(n){var t="returnUrl="+escape(location.href);t=n.indexOf("?")!=-1?"&"+t:"?"+t;location.href=n+t}function HelpTextID(n,t){var i=document.getElementById(n);i&&HelpText(i,t)}function HelpText(n,t){(n.value==null||n.value=="")&&(n.value=t);n.onblur=function(){(n.value==""||n.value==null)&&(n.value=t)};n.onfocus=function addCommas(n){n+="";x=n.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";for(var t=/([a-zA-Z0-9]+)([a-zA-Z0-9]{3})/;t.test(x1);)x1=x1.replace(t,"$1.$2");return x1}function addCommasPhone(n){var t=n.replace(/\D/g,"");return t.substring(0,3)+"-"+t.substring(3,6)+"-"+t.substring(6)}function friendlyFormat(n,t){document.getElementById(n).innerHTML=addCommas(t)}unction ltrim(n,t){return t=t||"\\s",n.replace(new RegExp("^["+t+"]+","g"),"")}function rtrim(n,t){return t=t||"\\s",n.replace(new RegExp("["+t+"]+$","g"),"")}function fixNumber(n){return n==null||n==""?0:parseFloat(n.replace(/,/g,"").replace(/\./g,"").replace(/'/g,""))}function isNumberKey(n){return n>=48&&n<=57||n==43?!0:!1}function keyUpNumber(n){if(isNumberKey(n.keyCode)){var t=new String($(n.target).val());return t.indexOf("=")<0&&(t=t.replace(/\./g,""),t=addCommas(t),$(n.target).val(t)),!0}return!1}unction TextToAlias(n){return n?n.replace(/[áàảãạâấầẩẫậăắằẳẵặ]/ig,"a").replace(/[đ]/ig,"d").replace(/[éèẻẽẹêếềểễệ]/ig,"e").replace(/[íìỉĩị]/ig,"i").replace(/[óòỏõọôốồổỗộơớờởỡợ]/ig,"o").replace(/[ýỳỷỹỵ]/ig,"y").replace(/[úùủũụưứừửữự]/ig,"u").replace(/\s+/ig,"-").replace(/[-]+/ig,"-").replace(/^[-]+|[-]+$/ig,"").replace(/[^a-z0-9-]/ig,"").toLowerCase():""}function loading(n,t){if(n.length>0){var i=t&&t.text?t.text:"Đang tải...",r=t&&t.css?t.css:{position:"absolute",zIndex:5,width:"100%",height:"100%",background:"rgba(255,255,255,0.9)"},u=t&&t.padding?t.padding:50;return t&&t.done?$(".sticky-loading",n).stop(!0,!0).fadeOut():$(".sticky-loading",n).length==0?(n.prepend('<div class="sticky-loading"><div><i class="fa fa-spinner fa-spin"><\/i> <span class="sticky-loading-text">'+i+"<\/span><\/div><\/div>"),$(".sticky-loading",n).css(r),$(".sticky-loading>div",n).css({margin:u})):($(".sticky-loading .sticky-loading-text",n).text(i),$(".sticky-loading",n).show()),!0}return!1}var Url,isMobilePhone;String.Format=function(n){var i,t;if(arguments.length<=1)return n;for(i=arguments.length-2,t=0;t<=i;t++)n=n.replace(new RegExp("\\{"+t+"\\}","gi"),arguments[t+1]);return n};String.Currency=function(n){n=n.toString().replace(/\$|\,/g,"");isNaN(n)&&(n="0");sign=n==(n=Math.abs(n));n=Math.floor(n*100+.50000000001);cents=n%100;n=Math.floor(n/100).toString();cents<10&&(cents="0"+cents);for(var t=0;t<Math.floor-(4*t+3{encode:funct(i+=String.fr=2):(c2=n.charCfromCharCode((i&15)<<12|(c2&63)<<6|c3&63),t+=3);return r}};isMobilePhone=function(){return $(window).width()<=600};appendUrl=function(n,t,i,r){function c(n){return typeof n!="undefined"&&n!=""}function l(n,t,i){return c(i)?n.indexOf("?")==-1?n+("?"+t+"="+i):n+("&"+t+"="+i):n}var u=n,a="",f=-1,o;if(c(t)&&(f=u.indexOf("#"))!=-1&&(f=u.indexOf("#"),a=u.substring(f),u=u.substring(0,f)),r)if(o="?"+t.toLowerCase()+"=",f=u.toLowerCase().indexOf(o),f==-1&&(o="&"+t.toLowerCase()+"=",f=u.toLowerCase().indexOf(o)),f!=-1){var s=u.substr(0,f),e=u.substr(f+o.length),h=e.indexOf("&");e=h==-1?"":e.substring(h);c(i)?u=l(s,t,i)+e:(h=s.indexOf("?"),h==-1?(e.indexOf("&")==0&&(e=e.substring(1)),u=s+"?"+e):u=s+e)}else u=l(u,t,i);else u=l(u,t,i);for(f=u.length-1;u.indexOf("?")==f||u.indexOf("&")==f;)u=u.substring(0,f),f=u.length-1;return u+a};returnLink=function(n){n||(n=document);$("a.return,a.returnLink,a.linkReturn",$(n)).each(function(){var t=$(this),n;t.hasClass("_returnLink")||(n=t.prop("href"),n&&(n=appendUrl(n,"__return",encodeURIComponent(location.href)),t.prop("href",n)),t.addClass("_returnLink"))})};popupWindow=function(n,t,i,r,u,f,e){var o=this,a,v,y,w,p;o.onclose=function(){};o.afterClosed=function(){};o.onload=function(){};$("#"+n).length>0&&$("#"+n).remove();var h=$('<div class="pop-bg"><\/div>'),c=$('<div class="pop-box"><\/div>').appendTo(h),s=$('<div class="pop-inner"><\/div>').appendTo(c),l=$('<iframe class="pop-iframe"><\/iframe>');h.css({position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"RGBA(50,50,50,0.5)",zIndex:999}).prop("id",n).appendTo("body");a=h.width();v=h.height();i>a-20&&(i=a-20);r>v-20&&(r=v-20);i<=0&&(i=a-20+i);r<=0&&(r=v-20+r);this.width=i;this.height=r;this.window_id=n;c.css({position:"absolute",zIndex:1e3,width:i,height:r,left:(a-i)/2,top:(v-r)/2});s.css({width:"100%",height:r,position:"relative"});u&&(y=$('<div class="popup-title-bar"><\/div>'),y.css({background:"#0094FF",padding:"5px 10px",fontWeight:"bold",fontSize:"14px",lineHeight:"20px",color:"#FFF",zIndex:1}).appendTo(s),y.text(u),r-=y.outerHeight());w=$('<span class="popup-close-btn"><\/span>');w.click(function(n){if(o.onclose)o.onclose(f);n.preventDefault();h.detach().remove();o.afterClosed&&o.afterClosed(f);o.PreviousPopupWindow?window.CurrentPopupWindow=o.PreviousPopupWindow:delete window.CurrentPopupWindow;console.log("popup ["+o.window_id+"] closed")}).html('<img src="/images/close-button.png"/>').css({position:"absolute",right:"-8px",top:"-8px",display:"block",width:"20px",height:"20px",lineHeight:"20px",textAlign:"center",background:"#F66",fontWeight:"bold",borderRadius:"50%",color #ccc",zIndex:10}).hover(function(){$(this).css({background:"#F00"})},function(){$(this).css({background:"#F66"})}).appendTo(s);p=typeof e=="undefined"||e==null?"auto":e?"yes":"no";l.prop({src:t,width:"100%",height:r,frameborder:0,scrolling:p}).css({background:"#fff"}).appendTo(s);isMobilePhone()&&(p=="auto"||p=="yes")&&(l.wrap('<div class="pop-if-inner"><\/div>'),$(".p:"scroll","-webkit-overflow-scrolling":"touch",height:r}));loading(s);l.on("load",function(){loading(s,{done:!0})});try{$(c).draggable({cursor:"move",handle:".popup-title-bar"})}catch(b){}return this.bg=h.get(0),this.box=c.get(0),this.inner=s.get(0),this.iframe=l.get(0),this.close=function(){w.trigger("click")},this.resizeHeight=function(n){s.css({height:n});l.prop({height:n});c.animate({height:n},300,function(){})},window.CurrentPopupWindow&&(this.PreviousPopupWindow=window.CurrentPopupWindow),window.CurrentPopupWindow=this,this};closePopup=function(){if(window.CurrentPopupWindow)try{window.CurrentPopupWindow.close()}catch(n){console.log(n)}};closeOpeningPopup=function(){var n=parent.CurrentPopupWindow||opener.CurrentPopupWindow;if(n)try{n.close()}canction initPads(){$("#scrolltop").click(function(n){$("html, body").animate({scrollTop:0},1e3);n.preventDefault()});var t=$(window).scrollTop(),n=!1;$(window).scroll(function(){var i=$(window).scrollTop();i==0?$("#scr):i<t?n||(n=!0,$("#scrolltop").fadeIn(500,function(){n=!1})):n||(n=!0,$("#scrolltop").fadeOut(500,function(){n=!1}));t=i});$('[data-type="expandable-list"]').length>0&&$('[data-type="expandable-list"]').expandableList()}function initTopTicker(){function i(){var r=window._promos,e,t,f,u;if(r&&r.length>1){for(e=n.data("idx"),t=-1;t===-1||e===t;)t=Math.floor(Math.random()*r.length);n.data("idx",t);f=r[t];u=$("li",n);u.length==0&&(n.html("<li><a><\/a><\/li>"),u=$("li",n));$(u).fadeOut(function(){var n=$("<a><\/a>").addClass("promo-new-item").attr("href",f.url).attr("rel","nofollow"),t=$("<span><\/span>").addClass("title-navi-prom").text(f.title).appendTo(n);$(this).html(n).fadeIn()});window.setTimeout(i,o)}}function r(t){n.empty();t&&t.length>1&&(window._promos=t,i())}function s(){var n;try{localStorage.setItem("storage","");localStorage.removeItem("storage");n=localStorage}catch(t){n=new h}return n}function h(){var n={};this.setItem=function(t,i){n[t]=i};this.getItem=function(t){return typeof n[t]!="undefined"?n[t]:null};this.removeItem=function(t){n[t]=undefined}}var o=5e3,n;if(canTick=!0,n=$("#rslides"),n.is(":visible")){var u="jsonKM",f=s(),e=f.getItem(u),t=null,c=(new Date).getTime()-36e5;e&&(t=JSON.parse(e))!=null&&t[t.length-1]>c?(r(t),console.log("load km from localStorage")):$.post("/khuyenmai/",{mod:"ajax"},function(n){n!=null&&(n[n.length]=(new Date).getTime(),f.setItem(u,JSON.stringify(n)),r(n),console.log("load km from ajax"))},"json")}}function initPop(){var n=!!("ontouchstart"in window)||!!("onmsgesturechange"in window),t=$(window).width(),i=n||t<=800;i||$("div.breadcrum-menu").each(function(){var t=$(this),n=Math.floor($("li.breadcrum-menu-item",t).length/10);n>0&&($("li.breadcrum-menu-item",t).length>n*10?t.css("min-width",210*(n+1)+"px"):n>1&&t.css("min-width",210*n+"px"))});$(".phone-number").each(function(){var t=$(this),n=new String(t.text());n&&(n=n.replace(/\D/g,""),n.indexOf("0")==0&&(n=n.substr(1)),n="+84"+n,t.wrapInner('<a href="tel:'+n+'"><\/a>'))});$("#cart-popup").on("show.bs.modal",function(){$("#pop-modal").length==0&&$("body").append('<div class="modal fade" id="cart-popup" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><button type="button" class="close" data-dismiss="modal">&times;<\/button><iframe src="" id="pop-modal" width="100%" height="470" frameborder="0"><\/iframe><\/div><\/div><\/div><\/div>');$("#pop-modal").attr("src","/checkout?type=popup&t="+Math.random())})}(function(n){n.fn.expandableList=function(){return this.each(function(){var t=n(this);t.find(".view-brand-all").click(function(){n(this).hide();t.find(".view-brand-close").show();t.find('[data-type="children"]').slideToggle(200)}).find(".view-brand-close").click(function(){n(this).hide();t.find(".view-brand-all").show();t.find('[data-type="children"]'top},1e3)})}),dUIActions:function(){$("input[type='radio'], input[type='checkbolyConditionalRequired)},applyConditionh(function(){var n=$(this)})}};FormStuff.init();$(document).ready(function(){initPads();initTopTicker();initPop()});
/*!
 * @preserve
 *
 * Readmore.js jQuery plugin
 * Author: @jed_foster
 * Project home: http://jedfoster.github.io/Readmore.js
 * Licensed under the MIT license!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}}function h(n){var t=++o;return String(n==null?"rmjs-":n)+t}function e(n){var t=n.clone().css({height:"auto",width:n.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(n),u=t.outerHeight(),i=parseInt(t.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),f=n.data("defaultHeight"),r;t.remove();r=i||n.data("collapsedHeight")||f;n.data({expandedHeight:u,maxHeight:i,collapsedHeight:r}).css({maxHeight:"none"})}function c(n){if(!f[n.selector]){var t=" ";n.embedCSS&&n.blockCSS!==""&&(t+=n.selector+" + [data-readmore-toggle], "+n.selector+"[data-readmore]{"+n.blockCSS+"}");t+=n.selector+"[data-readmore]{transition: height "+n.speed+"ms;overflow: hidden;}",function(n,t){var i=n.createElement("style");i.type="text/css";i.styleSheet?i.styleSheet.cssText=t:i.appendChild(n.createTextNode(t));n.getElementsByTagName("head")[0].appendChild(i)}(document,t);f[n.selector]=!0}}function r(r,f){var e=this;this.element=r;this.options=n.extend({},u,f);c(this.options);this._defaults=u;this._name=t;this.init();window.addEventListener?(window.addEventListener("load",i),window.addEventListener("resize",i)):(window.attachEvent("load",i),window.attachEvent("resize",i))}var t="readmore",u={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More<\/a>',lessLink:'<a href="#">Close<\/a>',embedCSS:!0,blo t=n(this),i=t.attr("aria-expanded")==="true";e(t);t.css({height:t.data(i?"expandedHeight":"collapsedHeight")})})},100);r.prototype={init:function(){var i=this,t=n(this.element),r,f,u,o;if(t.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),e(t),r=t.data("collapsedHeight"),f=t.data("heightMargin"),t.outerHeight(!0)<=r+f)return!0;u=t.attr("id")||h();o=i.options.startOpen?i.options.lessLinreadmore":"","aria-expanded":i.options.startOpen,id:u});t.after(n(o).on("click",function(n){i.toggle(this,t[0],n)}).attr({"data-readmore-toggle":"","aria-controls":u}));i.options.startOpen||t.css({height:r})},toggle:function(t,i,r){r&&r.preventDefault();t||(t=n('[aria-controls="'+this.element.id+'"]')[0]);i||(i=this.element);var f=this,u=n(i),o="",s="",e=!1,h=u.data("collapsedHeight");u.height()<=h?(o=u.data("expandedHeight")+"px",s="lessLink",e=!0):(o=h,s="moreLink");f.options.beforeToggle(t,i,!e);u.css({height:o});u.on("transitionend",function(){f.options.aftera-expanded":e}).off("transitionend")});n(t).replaceWith(n(f.options[s]).onull,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove();t.removlugin_"+t)){var u=n.data(this,"plugin_"+t);u.destroy.apply(u)}i.selector=f;n.data(this,"plugin_"+t,new r(this,i))}):typeof i=="string"&&i[0]!=="_"&&i!=="init"?this.each(function(){var f=n.data(this,"plugin_"+t);f instanceof r&&typeof f[i]=="function"&&f[i].apply(f,Array.prototype.slice.call(u,1))}):void 0}})(jQuery);
$(function(){const n=/([<>{} ]+)/g,t=" ";window.reWriteKeyword=function(i){if(!i)return"";for(var r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;r.test(i);)i=i.replace(r,"");return i=i.replace(n,t),i.trim()};window.SaveSearchHistory=function(n){var r,i,t,u;try{if(n=window.reWriteKeyword(n),console.log("SaveSearchHistory ",n),n===i=localStorage.getItem(r);t=i==null||i==""LowerCase()}).indexOf(n.toLowerCase())erCase()!==n.toLowerCase()})),t=t.filter((n,t,i)=>t===i.findIndex(t=>t.title.toLowerCase()===n.title.toLowerCase())),t.push({title:n,type:"keyword",url:"/timkiem.html?q="+n}),u=Array.from(new Set(t.map(JSON.stringify))).map(JSON.parse),localStorage.setItem(r,JSON.stringify(u)))}catch(f){console.log(f)}};$("img.lazy-img").lazyload({data_attribute:"src",effect:"fadeIn",tag_name:"img",threshold:200,srcset:{allow:!0,data_attribute:"srcset"}});$("iframe.lazy-iframe").lazyload({data_attribute:"src",effect:"fadeIn",lick(function(){$(document).trigger("lgger("lazyload.show")});var i=!0;window.voicn n.replace(s," ").replace(h," ")}function l(n){return n.replace(n.substr(0,1),function(n){return n.toUpperCase()})}var t=document.getElementById("txtQuery"),o,n,e;if(t==null)return!1;var r=$(t),u="",f=!1,s=/\n\n/g,h=/\n/g;t.webkitSpeech!==undefined?($("#btnClear").css("right","30px"),i=!1,console.log("Nhận dạng giọng nói webkitSpeech"),t.webkitSpeech=!0,t.onwebkitspeechchange=function(){r.trigger("keypress")}):"SpeechRecognition"in window||"webkitSpeechRecognition"in window||"mozSpeechRecognition"in window||"msSpeechRecognition"in window?(o=$('<a href="#" id="lnk-mic" class="voice-mic" title="Bấm vào để tìm kiếm bằng giọng nói"><\/a>'),o.insertAfter(r),$("#txtQuery").addClass("has-mic"),n=new(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition),e=$("#lnk-mic"),n.continuous=!0,n.interimResults=!0,n.onstart=function(){f=!0;e.addClass("recording")},n.onerror=function(n){console.log(n.error);n.error=="not-allowed"?al, hãy cấu hình lại trình duyệt"):n.error=="network"&&alert("Kết nối Internet có vấn đề")},n.onend=function(){f=!1;e.removeClass("recording")},n.onresult=function(t){for(var e,o="",i=t.resultIndex;i<t.results.length;++i)t.results[i].isFinal?u+=t.results[i][0].transcript:o+=t.results[i][0].transcript;u=l(u);e=(navigator.userAgent.indexOf("Opera")!=-1?"keypress":"keydown")+".autocomplete";r.val(c(u));r.trigger(e);window._gotoresult_id_&&(window.clearTimeout(window._gotoresult_id_),delete window._gotoresult_id_);window._gotoresult_id_=window.setTimeout(function(){try{$("#txtQuery").trigger("search")}catch(n){console.log(n.message)}},3e3);window._speaking_id_&&(window.clearTimeout(window._speaking_id_),delete window._speaking_id_);window._speaking_id_=window.setTimeout(function(){f&&n.stop()},300)},e.click(function(t){if(console.log("mic clicked"),t.preventDefault(),f){n.stop();return}u="";n.lang="vi-VN";n.start();r.val("");try{typeof ga!="undefined"&&ga("send","event","instant.search","voice","click")}catch(i){console.log(i.message)}})):($("#btnClear").css("right","30px"),i=!1,console.log("Không có nhận dạng giọng nói"))function(){$("input.search-txt").each(function(){function u(){var n;try{n=localStora}function c(){var n={};this.setItem=function(t,i){n[t]=i};this.getItem=function(t){return typeof n[t]!="undefined"?n[t]:null};this.removeItem=function(t){n[t]=undefined}}function o(n){$.post("/keywords/default2.aspx?_host ="+location.host,{mod:"ajax",cmd:"save"},function(t){var s,y,k,d,c,i,rt,a,l,f,tt,b,it;$(".ac_results.empty").length<=0&&(s=r.offset(),y=$(e.containerDOM).offset(),s.top-=y.top,s.left-=y.left,k=$("<div id='ac_results_empty'><\/div>").hide().addClass("ac_results empty").css("position","absolute").css("width",r.outerWidth(!0)+"px").css("top",s.top+h.offsetHeight+"px").css("left",s.left+"px").appendTo(e.containerDOM),$("<div/>").addClass("ac_wrapper empty").css("position","relative").appendTo(k));$(".ac_wrapper.empty").html(t);c=$("<div><\/div>").addClass("search-history-list");d=$(".ac_wrapper.empty .search-history-wrap").length==0?$("<div><\/div>").addClass("search-history-wrap").insertBefore($(".search-trend-cat-wrap")):$(".ac_wrapper.empty .search-history-wrap").first();c.appendTo(d);var o="search-keyword",g=u(),p=g.getItem(o);if(p=g.getItem(o),i=null,p&&(i=JSON.parse(p))!=null&&i&&i.length>0)for(rt=5,a=0;a<i.length;a++)try{var nt=i[a],v=reWriteKeyword(nt.title),w=reWriteKeyword(nt.url);v!==""&&(l=$('<div class="search-history-item history"><\/div>'),l.attr("data-kw",v),f=$("<a><\/a>"),f.appendTo(l),f.attr("href",w!=undefined&&w.indexOf("undefined")<0?w.replace(" ","+"):"/timkiem.html?q="+v.replace(" ","+")),tt=$('<i class="fa fa-clock-o"><\/i>'),tt.appendTo(f),b=$('<span class="search-history-item-title"><\/span>'),b.html(v),b.appendTo(f),it=$('<span class="search-item-remove" title="Xóa gợi ý"><i class="fa fa-times"><\/i><\/span>'),it.appendTo(l),c.prepend(l))}catch(ut){console.log("searchHistoryList.prepend "+ut)}i==null&&(i=[]);$(".search-history-item").length>=3&&(c.append('<div class="search-history-del-all"><a href="#"><i class="fa fa-trash-o" aria-hidden="true"><\/i><span class="search-history-item-title">Xóa lịch sử tìm kiếm<\/span><\/a><\/div>'),$(".search-history-item").length>5&&c.append('<div class="search-history-more"><a href="#">Xem thêm <i class="fa fa-angle-down"><\/i><\/a><\/div>'));$(".search-item-remove").off().on("click touch",function(){var t=$(this).closest(".search-history-item"),f=t.data("kw"),n,r;if(t.hide(),i&&i.length>1){for(n=0;n<i.length;n++)i[n].title.trim()==f&&i.splice(n,1);r=u();r.setItem(o,JSON.stringify(i))}setTimeout(function(){t.remove();$(".ac_wrapper.empty .search-history-item").length<=5&&$(".search-history-more").remove()},150)});$(".search-history-item.suggest a").off().on("click touch",function(n){var r,t,f,e;n.preventDefault();r=$(this).closest(".search-history-item");t=r.data("kw");try{i&&t&&i.map(function(n){return n.title}).indexOf(t)<0&&(i.push({title:t,type:"keyword",url:"/timkiem.html?q="+t}),f=Array.from(new Set(i.map(JSON.stringify))).map(JSON.parse),e=u(),e.setItem(o,JSON.stringify(f)))}catch(s){console.log(s)}});$(".search-history-more a").off().on("click touch",function(n){n.preventDefault();n.stopPropagation();$(".search-history-item:nth-child(n+6)").toggleClass("visible");f=$(this);f.data("display")?(f.data("display",!1),f.html("Xem thêm <i class='fa fa-angle-down'><\/i>")):(f.data("display",!0),f.html("Thu gọn"))});$(".search-trend-cat-more a").off().on("click touch",function(n){n.preventDefault();n.stopPropagation();$(".search-trend-cat-item.be-hidden").toggleClass("hidden");f=$(this);f.data("display")?(f.data("display",!1),f.html("Xem thêm <i class='fa fa-angle-down'><\/i>")):(f.data("display",!0),f.html("Thu gọn"))});$(".search-history-del-all a").off().on("click touch",function(n){n.preventDefault();n.stopPropagation();var t=u();t.setItem(o,"");$(".search-history-list").remove()});$(".search-trend-cat-item a").off().on("click touch",function(n){var t,r,f;n.preventDefault();t=$(this).data("kw");i&&t&&(i.push({title:t,type:"keyword",url:"/timkiemew Set(i.map(JSON.stringify))).map(JSON.parse),f=u(),f.setItem(o,JSON.stringify(r)),location.href=$(this).prop("href"))});typeof n=="function"&&n.call()}).error(function(n){console.log(n)})}function f(){var n,t,i;$(".ac_results.empty").css("display")==="none"&&($(".ac_results.empty").show(),$(".ac_results_empty_overlay").show(),n=r.offset(),t=$(e.containerDOM).offset(),n.top-=t.top,n.left-=t.left,$(".ac_results.empty").css("width",r.outerWidth(!0)+"px").css("top",n.top+h.offsetHeight+"px").css("left",n.left+"px"),$(".ac_results.empty img").each(function(){$(this).prop("src")!=$(this).data("src")&&$(this).prop("src",$(this).data("src"))}),$(".ac_results_bg").length<=0?$('<div class="ac_results_bg" data-bg="1"><\/div>').insertAfter("#header-m"):(i=parseInt($(".ac_results_bg").data("bg"))+1,$(".ac_results_bg").data("bg",i)))}function s(){if($(".ac_results_empty_overlay").hide(),$(".ac_results.empty").hide(),$(".search-history-more a").data("display",!1),$(".search-history-item").removeClass("visible"),$(".search-history-more a").html("Xem thêm <i class='fa fa-angle-down'><\/i>"),parseInt($(".ac_results_bg").data("bg"))==1)$(".ac_results_bg").remove();else{var n=parseInt($(".ac_results_bg").data("bg"))-1;$(".ac_results_bg").data("bg",n)}}var h=this,r=$(this),e={matchContains:!0,scrollHeight:360,scroll:!0,max:30,width:$(this).outerWidth(),cacheEnabled:!1,autoFill:!1,containerDOM:$(".box-header"),onMouseClick:function(n){if(n&&n.target){var t=$(n.target);if(t.hasClass("ac-cart"))return alert("add to cart"),!1}return!0}};r.val()==""&&o(function(){});r.keyup(function(i){console.log("esc");i.keyCode===27&&($(this).blur(),s());r.val()!==""&&r.val(r.val});r.focus(function(){r.val()==""&&($(".ac_results.empty").length<=0?o(function(){f()}):f())});r.on("input",function(){r.val().length<=0&&($(".ac_results.empty").length<=0?o(function(){f()}):f());r.data("input",r.val().replace(n,t))});r.on("focusout",function(){r.val()!==""&&r.val(r.val().replace(n,t));_device.isMobile&&($("#btnClear").fadeOut(),$("#btnFindSearch").fadeOut(),$(".iconSearch").fadeIn(),i?($("#lnk-mic").css("right","40px"),$("#btnClear").css("right","70px")):$("#btnClear").css("right","40px"))});$("body").click(function(n){if($("#txtQuery").val().trim().length<=0)$(n.target).parents(".ac_results.empty").length>0||n.target.id=="txtQuery"?f():s();else if(n.target.id!=="txtQuery")if(parseInt($(".ac_results_bg").data("bg"))==1)$(".ac_results_bg").remove();else{var t=parseInt($(".ac_results_bg").data("bg"))-1;$(".ac_results_bg").data("bg",t)}});r.autocomplete("/keywords/default.aspx?_host="+location.host,{onReceiveData:function(i,r,u){var h=r.getul(),e,f,o;$(".ac_header").remove();e="/hotro/s/?q="+i.replace(n,"+");f=$("<div/>");f.addClass("ac_header");f.html('<a style="color:#0071c4;font-size:12px" href="'+e+'">Tìm thêm các bài viết về <span style="font-weight:bold;color:#333" class="ac_hotro _ac_hotro_search"><\/span><\/a>');f.insertAfter(h);f.css({padding:"5px",boxSizing:"border-box",borderTop:"solid 1px #ccc",position:"absolute",background:"#fff",bottom:0,left:0,width:"100%"});$("._ac_hotro_search").text(i.replace(n,t));i.length>0&&s();u&&u.length?f.parent(".ac_wrapper").css("padding-bottom","30px"):(f.css({top:0}),i==null||i==""?r.hide():r.show(),f.parent(".ac_wrapper").css("padding-bottom","0"));$(".ac_results_bg").length<=0?$('<div class="ac_results_bg" data-bg="1"><\/div>').insertAfter("#header-m"):(o=parseInt($(".ac_results_bg").data("bg"))+1,$(".ac_results_bg").data("bg",o))},formatItem:function(n){function i(n){var u=n=="-1"?"Xem thêm":n=="0"||n==""||n=="00"?"Liên hệ":""+n+"đ",i,r,t;if(n.indexOf(";")!=-1){for(i=[],r=n.split(";"),t=0;t<r.length;t++){var f=r[t].splnt(f[1]);e>0&&i.push('<div style="line-height:22px"><a style="display:inline-block;width:30px;text-align:left"><i>'+o+":<\/i><\/a> "+addCommas(e)+"đ<\/div>")}u=i.join("")}return u}function r(){return""}var t="/click.ashx?id="+n[5],u=r(n[3]);return'<div class="ac-row '+(n[2]=="-1"?"ac-cat":"ac-prod")+'"><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td width="30" class="ac-img"><a href="'+t+'"><img src="'+n[1]+'" width="42" height="42" align="absmiddle"/><\/a><\/td><td style="padding-left:3px" class="ac-name"><a href="'+t+'">'+n[0]+'<\/a><\/td><td align="right" width="120" class="ac-price">'+i(n[2])+"<\/td><\/tr><\/table><\/div>"}}).setOptions(e).result(function(n,t){var e="/timkiem.html?q="+r.data("input"),u,o,f,i,s;n.target!=null&&(n.target.nodeName=="A"||$(n.target).parents("a").length)||(location="/click.ashx?type=product&id="+t[5],t[7]?e="/click.ashx?id=c-"+t[7]+"&ref=search-bar":t[5]&&(e="/click.ashx?id="+t[5]+"&ref=search-bar"));try{u=r.data("input");u&&(o="search-keyword",f=localStorage.getItem(o),i=f==null||f.length==0?[]:JSON.parse(f),i&&i.map(function(n){return n.title}).indexOf(u)<0&&(i.push({title:u,type:"keyword",url:e}),s=Array.from(new Set(i.map(JSON.stringify))).map(JSON.parse),localStorage.setItem(o,JSON.stringify(s))))}catch(h){console.log(h)}try{typeof ga!="undefined"&&typeof dimensions!="undefined"&&dimensions.user=="guest"&&(console.log({keyword:r.val(),id:t[5],name:t[0]}),ga("send","event","ivent","instant.search","keyword",r.val()))}catch(c){console.log(c.message)}});r.attr("autocomplete","off")});_device.isMobile&&($("#btnClear").click(function(n){n.preventDefault();$("#txtQuery").val("")}),$("#txtQuery").focus(function(){$("#btnClear").fadeIn();$("#btnFindSearch").fadeIn();$(".iconSearch").fadeOut();i?($("#lnk-mic").css("right","40px"),$("#btnClear").css("right","70px")):$("#btnClear").css("right","40px")}));$("#btnFindSearch").click(function(){window._btnFindSubmitClicked=!0});$("#frmsearch").submit(function(){if(typeof ga!="undefined"&&typeof dimensions!="undefined"&&dimensions.user=="guest"){var n=(window._btnFindSubmitClicked===!0?"click > ":"enter > ")+$("#txtQuery").val();ga("send","event","instant.search","button",n)}window.SaveSearchHistory($("#txtQuery").val())})};voiceText();seachBoxInit();$(".xeo-desc").each(function(){var n=$(this),i=n.data("status"),t=!1;t=i=="1"?!0:!1;n.readmore({collapsedHeight:200,moreLink:'<div class="xeo-desc-more xeo-open"><a href="#" class="a-readmore xeo-desc-open"><i class="fa fa-chevron-down" aria-hef="#" class="a-readmore xeo-desc-close"><i class="fa fa-chevron-up" aria-hidden="true"><\/i><\/a><\/div>',beforeToggle:function(){n.hasClass("expanded")?n.removeClass("expanded"):n.addClass("expanded")},afterToggle:function(){$("html,body").animate({scrollTop:n.offset().top+(_device.isMobile?$(window).scrollTop():0)-125})},startOpen:t});n.closest(".desc-xeo").removeClass("collapsed")})});
var VisitedProducts=function(){function n(n,i){(typeof i==undefined||i==null||i=="")&&(i="readwrite");var f=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,r=f.open(u,1);r.onupgradeneeded=function(){var n=r.result,i=n.createObjectStore(t,{keyPath:"id"}),u=i.createIndex("index",["time"])};r.onsuccess=function(){var u=r.result,f=u.transaction(t,i),e=f.objectStore(t),o=e.index("index");n(u,f,e,o);f.oncomplete=function(){u.close()}}}function e(n){return n?n.replace(/[áàảãạâấầẩẫậăắằẳẵặ]/ig,"a").replace(/[đ]/ig,"d").replace(/[éèẻẽẹêếềểễệ]/ig,".replace(/[óòỏõọôốồổỗộơớờởỡợ]/ig,"o").replace(/[ýỳỷỹỵ]/ig,"y").replace(/[úùủũụưứ(/^[-]+|[-]+$/ig,"").replace(/[^a-z0-9-\s]/ig,"").toLowerCase():""}function o(n){function i(n){return n<10?"0"+n:n}var t=new Date(n);return i(t.getHours())+"h"+i(t.getMinutes())+"' "+[i(t.getDate()),i(t.getMonth()+1),t.getFullYear()].join("/")}function r(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function s(n){try{VisitedProducts().save(n.id,n.thumb,n.url,n.name,n.price,n.cost,n.time?new Date(n.time):new Date,n.brand,n.brandlink,n.catid,n.catname,n.catlink)}catch(t){ducts().save: "+t.message)}}var u="VisitedPr",f=document.getElementsByName("thumburl")[0].attributes.content.value,i=/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent);return this.count=function(t){n(function(n,i,r){var u=r.count();u.onsuccess=function(){t(u.result)}},"readonly")},this.saveObject=function(t){n(function(n,i,r){r.put(t)},"readwrite")},this.save=function(n,t,r,u,f,o,s,h,c,l,a,v){if(!i){var y=r.indexOf("?"),r=y==-1?r:r.substring(0,y);this.saveObject({id:parseInt(n),thumb:t,url:r,name:u,alias:e(u),price:f,cost:o,time:s?s.getTime():new Date,brand:h,brandlink:c,catid:l,catlink:v,catname:a})}},this.display=function(t){vc=t.pageIndex||1,l=(c-1)*u+1,a=l+u;n(function(i,v,y,p){function ft(i){$(".visited-item-remove",i).click(function(i){var u=$(this),r;i.preventDefault();r=u.data("record");u.unbind("click");n(function(n,i,u){var f=u.delete(parseInt(r));console.log(r);f.onsuccess=function(){console.log(r);console.log(t);h.display(t)}});u.unbind("click")});$(".old-item",i).remove();t.fade!==!1&&b.stop().animate({height:d.height()},100,function(){k.animate({opacity:1},100,function(){b.height("auto")})})}function st(n,i,r){window.visitedTimeout&&window.clearTimeout(window.visitedTimeout);window.visitedTimeout=window.setTimeout(function(){var u,s,v,l,y,f,a,o;if(ft(r),u=Math.floor(n/i),u*i<n&&u++,u>1)for(s=$(".visited-pager",r),s.length==0&&(v=document.createElement("div"),v.classList.add("visited-pager"),w.append(v),s=$(v)),l=$("ul",s),l.length==0&&(y=document.createElement("ul"),s.append(y),l=$(y)),l.empty(),f=1;f<=u;f++)a=document.createElement("li"),a.classList.add("visited-page-item"),f==c&&a.classList.add("active"),o=document.createElement("a"),o.href="#",o.innerHTML=f,o.title=f+"/"+u,a.appendChild(o),l.append(a),$(o).click(function(n){return n.preventDefault(),t.pageIndex=parseInt(this.innerText),e.data("page",t.pageIndex),h.display(t),!1})},100)}function ht(n){var t=$.extend(!0,{},n);return t.formatedCost=parseInt(n.cost)>0?r(parseInt(n.cost.toString()))+" đ":"Liên hệ",t.formatedTime=o(n.time),t}var w=$(".visited-box",e),nt,b,tt,d,it,k,rt,g,ut,et,ot;if(w.length==0&&(nt=document.createElement("div"),nt.classList.add("visited-box"),e.append(nt),w=$(nt),t.wrapper&&w.wrap(t.wrapper),t.onrender))t.onrender(i,v,y,p,t);b=$(".visited-inner",w);b.length==0&&(tt=document.createElement("div"),tt.classList.add("visited-inner"),w.append(tt),b=$(tt));d=$(".visited-inner-i",b);d.length==0&&(it=document.createElement("div"),it.classList.add("visited-inner-i"),b.append(it),d=$(it));k=$(".visited-list",d);k.length==0&&(rt=document.createElement("ul"),rt.classList.add("visited-list"),d.append(rt),k=$(rt));t.fade!==!1&&(b.height(b.height()),k.css({opacity:0}));$("li",k).addClass("old-item");g=0;ut=0;et=t.displayItem||function(n,i,u){function o(n,t,i,r){var u=parseInt((parseInt(i.price)-parseInt(i.cost))*100/parseInt(i.price));t.html('<div id="visited-'+i.id+'" class="viewed-left visited-item1 product">     <div class="viewed-thumb"><a href="'+i.url+'">     <img src="'+f+"/80x80"+i.thumb+'">'+(u>0?'   <div class="viewed-discount"><span>-'+u+"%<\/span><\/div>":"")+"   <\/a>     <\/div>     "+r+'   <\/div>     <div class="viewed-right product visited-item-'+i.id+'">     <div class="prod-visited-name"><a href="'+i.url+'">'+i.name+"<\/a><\/div>  "+(i.brand?'   <div class="prod-visited-manuf"><a href="'+i.brandlink+'">'+i.brand+"<\/a><\/div>  ":"")+'   <div class="prod-visited-price-m">'+i.formatedCost+'<\/div>     <div class="prod-visited-timer">'+i.formatedTime+"<\/div>     <\/div>  "+(parseInt(i.cost)>0?'   <div class="visited-buy-now"><a href="#" data-price="'+i.cost+'" data-pid="'+i.id+'">Cho vào giỏ<\/a><\/div>  ':""));n.append(t)}var e=t.deleteAlow===!1?"":'   <div class="viewed-delete"><a href="#" class="visited-item-remove" data-record="'+u.id+'" title="Bỏ khỏi danh sách"><i class="fa fa-trash-o"><\/i> Xóa<\/a><\/div>  ',h;if((new Date).getTime()-u.time>=864e5){h=u;try{$.post("/Ajx_ProductPrice.aspx",{pid:u.id,pa:"",pattrs:""},function(t){var f=t.price[0],l=t.attrs,h=f.price?f.price:f.pcost,c=f.listprice;u.cost=h;u.price=c;u.formatedCost=parseInt(h)>0?r(parseInt(h.toString()))+" đ":"Liên hệ";s(u);o(n,i,u,e)},"json")}catch(c){console.log(c);o(n,i,h,e)}}else o(n,i,u,e)};ot=p.openCursor(null,"prev");ot.onsuccess=function(n){var i=n.target.result,f,r;i&&(++g<=100?(g>=l&&g<a&&($(".old-item",k).length>0&&$(".old-item",k).first().remove(),f=i.value,r=document.createElement("li"),r.classList.add("visited-item"),r.classList.add("product-viewed-item"),et(k,$(r),ht(f))),ut=g,t.pagger&&typeof t.pagger=="function"?(window.visitedTimeout&&window.clearTimeoetTimeout(function(){ft(w);t.pagger(ut,u,w)},100)):st(ut,u,w)):i.delete(),i.continue())}},"readwrite")}},this.delete=function(t){n(function(n,i,r,u){u.openCursor(null,"prev").onsuccess=function(n){var i=n.target.result,r,u;i?(t(i.value)&&(r=i.value.id,u=i.delete(),u.onsuccess=function(){console.log("history key:"+r+" is deleted")}),i.continue()):console.log("Entries all checked to delete.")}},"readwrite")},this};
_queuefx(function(){function n(){$(document).on("click",".prod-item",function(n){var u=$(this),i=$(n.target),r;i.hasClass("prod-hl-buy-txt")&&i.data("pid")&&i.data("price")?(n.preventDefault(),t(i.data("pid"),i.data("price"))):i.hasClass("prBtnComp")&&i.data("pid")?n.preventDefault():(r=i.prop("href"),r||i.closest("a").length==0&&(r=$(".prod-hl-thumb>a",u).first().prop("href"),r&&(location.href=r)))})}function t(n,t){var i={request:"cart",mod:"ajax",act:"add",productId:n,quantity:1,priceId:t,willBuy:!0};try{$.post("/ajx/loader.aspx",i,function(n){n.length>0&&(location.href="/checkout",console.log("ok"))}).error(function(){alert("Lỗi không thêm được vào giỏ hàng của bạn!\nHãy thử lại")})}catch(r){console.log(r)}}n()});
_queuefx(function(){window._countDown=function(n){typeof n=="undefined"&&(n=$(document));var t=1e3,i=$(".time-flash.not-running",n);i.length>0&&i.each(function(){var n=$(this),i=setInterval(function(){n.trigger("countdown")},t);n.on("start",function(){n.removeClass("not-running").addClass("running");var t=$(this),r=parseInt(t.data("rqty")),u=$(".among-buy",t.closest(".flashsale-box"));r<=0&&(t.parents("#catalog-fs-acc").length>0||t.parents("#catalog-fs").length>0||t.parents(".fs-box-products").length>0?($(".time-flash.running",t.closest(".flashsale-box")).html("<b><font color='#da251c'>Cháy Deal<\/font><\/b>"),$(".time-box-left",t.closest(".flashsale-box")).css("visibility","hidden"),t.closest(".countdown-product").addClass("chay-deal").css("background","#ccc")):t.closest(".countdown-product").remove(),clearInterval(i))}).on("countdown",function(){var n=$(this),l=new Date(n.data("starttime")),a=new Date(n.data("endtime")),r=n.data("checkticks"),f,u;r||(f=new Date(n.data("checktime")),r=Date.parse(f),n.data("checkticks",r));var e=Date.parse(a),o=Date.parse(l),s=!1;if(o>r?e=o:s=!0,u=e-r,u<=0){n.closest(".countdown-product").remove();clearInterval(i);return}s&&!n.closest(".countdown-product").hasClass("end-fs")&&(n.closest(".countdown-product").addClass("end-fs"),$(".time-box-left .timeleft",n.closest(".flashsale-box")).text("Kết thúc sau"));var v=Math.floor(u/1e3%60),y=Math.floor(u/6e4%60),h=Math.floor(u/864e5),c=Math.floor(u/36e5%24)+h*24;$(".days",n).html(h);$(".hours",n).html(("0"+c).slice(-2));$(".minutes",n).html(("0"+y).slice(-2));$(".seconds",n).html(("0"+v).slice(-2));r=r+t;n.data("checkticks",r);c>=48&&clearInterval(i)}).trigger("start",[1])})};window._countDown(document)});
function $_kiemtraSDT(n,t){function o(n){var r,t,i,o,f,u,e;if(typeof $_dausoDT=="undefined"||$_dausoDT==null)return null;for(r=$_dausoDT(),t={network:"Không rõ",valid:!1,message:"Đầu số không rõ",diff:0},i=0;i<r.length;i++)for(o=r[i].network,f=r[i].numbers,u=0;u<f.length;u++)e=f[u],n.indexOf(e.prefix)==0&&(t.network=o,t.diff=n.length-e.len,t.diff==0?(t.valid=!0,t.message="Số hợp lệ"):t.diff>0?(t.valid=!1,t.message="Thừa "+Math.abs(t.diff)+" số "):(t.valid=!1,t.message="Thiếu "+Math.abs(t.diff)+" số "));return t}function s(n){return n.indexOf("0084")==0?n=n.substr(4):n.indexOf("+84")==0?n=n.substr(3):n.indexOf("84")==0&&(n=n.substr(2)),n.indexOf("0")!=0&&(n="0"+n),n}for(var f,e,r=n.split(/[\,\/\;]/),u=[],i=0;i<r.length;i++)f=s(r[i].trim()).replace(/[^\d]/g,""),e={rawnum:r[i],number:f,result:null},e.result=o(f),u.push(e);return typeof t=="function"&&t(u),u}
$.fn.productLazy=function(n){function l(){}function e(){var i,n,u;t.length>0&&(i=t.shift(),i&&(n=$(i),u=n.data(f),l({id:n.data("pid"),isLoaded:u}),u?e():$.ajax({url:"/api/products/lazy.aspx",type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",data:n.data(),timeout:3e3,success:function(t){if(n.data(f,!0),t.body&&($(".imgx-loading",n).remove(),$(".lazy-holder",n).html(t.body)),t.classes){var i=t.classes.split(" ");$.each(i,function(t,i){i&&!n.hasClass(i)&&n.addClass(i)})}t.head&&$(t.head).appendTo($("head"));$("img.lazy-img",n).lazyload({data_attribute:"src",effect:"fadeIn",tag_name:"img",threshold:0,srcset:{allow:!0,data_attribute:"srcset"}}).trigger("appear");window._countDown&&window._countDown(n);n.trigger("lazy.loaded");r=window.setTimeout(e,1)},error:function(){n.data(f,!1);r=window.setTimeout(e,5);var t=n.data("fail");t?(t++,n.data("fail",t)):n.data("fail",1);t<10&&a(n)}})))}function a(n){n.data(o)||(n.data(o,!0),t.push(n.get(0)))}function v(n){var i=t.indexOf(n.get(0));i!==-1&&(n.data(o,!1),t.splice(il||i.length==0)return!1;var n=h.scrollTop(),r=document.body.getBoundingClientRect(),e=h.innerHeight();i.each(function(){var t=$(this),h=t.get(0).getBoundingClientRect(),c=h.top-r.top,i=Math.round(c),f=Math.round(t.offset().top+t.outerHeight()),o=Math.round(n+e+u.threshold),s=Math.round(n-u.threshold);i>=s&&i<=o||f>=s&&f<=o?a(t):v(t)});t=$.grep(i,function(n){return!$(n).data(f)});i=$(t)}function s(){c&&c.abort();r&&window.clearTimeout(r);y();r=window.setTimeout(e,50)}var h=$(window),c=null,r=0,f="product_lazy_ajxloaded",o="product_lazy_queued",u={threshold:100,failurelimit:3,event:"scroll",effect:"show"},t,i;return n&&$.extend(u,n),t=[],i=this,window.addEventListener(u.event,function(){l("productLazy: "+u.event);s()},{passive:!0}),window.productLazyReload=s,s(),this};
(function(n){function e(n,t=0){for(var i=3735928559^t,r=1103547991^t,u=0,f;u<n.length;u++)f=n.charCodeAt(u),i=Math.imul(i^f,2654435761),r=Math.imul(r^f,1597334677);return i=Math.imul(i^i>>>16,2246822507)^Math.imul(r^r>>>13,32666489909),4294967296*(2097151&r)+(i>>>0)}function l(n,t){return n?n.length<=t?n:n.slide(-1*t):[]}function o(n){return i.parse(n.getItem(u)||"[]")}function s(n,r,f){if(n&&r){var e=o(n);typeof f=="function"&&(e=f(e,r));e.push({t:(new Date).getTime(),d:r});e=l(e.filter(n=>new Date(n.t)>t),c);n.setItem(u,i.stringify(e))}}function h(t,i){s(n.localStorage,t,i);s(n.sessionStorage,t,i)}function a(n,t){for(var i,u=[],r=0;r<n.length;r++)i=n[r],i.d&&i.d.url!=t.url&&u.push(i);return u}function v(){var t,r,i,u;try{t=f.referrer;r=n.location;t&&(i=new URL(t),i.host!=r.host&&(u={id:e(t),url:t,refs:[{q:"referrer",v:i.host}]},h(u)))}catch(o){console.log(["detectRefDomain",o])}}function y(){var t,u,f;try{var i=n.location.href,c=new URL(i).searchPfor(t=0;t<r.length;t++)u=r[t],f=c.get(u),f&&(o=!0,s.refs.push({q:u,v:f}));o&&h(s,a)}catch(l){console.log(["detectRefParams",l])}}var c=10,r=["ref","gclid","wbraid","gbraid","fbclid","utm_source","utm_medium","utm_campaign","utm_term","utm_content"],u="referral",t=new Date,i,f;t.setMonth(t.getMonth()-1);i=JSON;f=n.document;window.getReferrals=function(){return o(n.localStorage)};v();y()})(window);
