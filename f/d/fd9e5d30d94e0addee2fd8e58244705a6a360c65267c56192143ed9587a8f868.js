"use strict";(()=>{var ss=Object.defineProperty;var us=(t,r)=>{for(var e in r)ss(t,e,{get:r[e],enumerable:!0})};var Oe=class t{static extractAdvertiserIdFromUrl(r){let n=/\/serve\/([^/]+)\/retargeting\.js/.exec(r);return n?n[1]:null}static extractUniqueAdvertiserIds(){let r=new Set;if(document.currentScript instanceof HTMLScriptElement){let n=t.extractAdvertiserIdFromUrl(document.currentScript.src);n&&r.add(n)}return Array.from(document.getElementsByTagName("script")).forEach(n=>{if(n.src){let i=t.extractAdvertiserIdFromUrl(n.src);i&&r.add(i)}}),Array.from(r)}};var Wr=function(t,r){return Wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Wr(t,r)};function Pt(t,r){Wr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var I=function(){return I=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},I.apply(this,arguments)};function bt(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function Yr(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(bt(arguments[r]));return t}var B;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(B||(B={}));function fs(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function wi(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(fs(arguments[r]));return t}var m=function(){return m=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},m.apply(this,arguments)};function cs(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function Nt(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(cs(arguments[r]));return t}function xi(t){t.then(null,function(r){console.error(r)})}function Si(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ae(){return!Si()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ei(t,r){return t.require(r)}var ls={};function E(){return ae()?global:typeof window<"u"?window:typeof self<"u"?self:ls}function se(t,r,e){var n=e||E(),i=n.__SENTRY__=n.__SENTRY__||{},o=i[t]||(i[t]=r());return o}var Ti=Object.prototype.toString;function ue(t){switch(Ti.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ot(t,Error)}}function fe(t,r){return Ti.call(t)==="[object "+r+"]"}function lr(t){return fe(t,"ErrorEvent")}function Kr(t){return fe(t,"DOMError")}function ki(t){return fe(t,"DOMException")}function dt(t){return fe(t,"String")}function qt(t){return t===null||typeof t!="object"&&typeof t!="function"}function pt(t){return fe(t,"Object")}function Wt(t){return typeof Event<"u"&&ot(t,Event)}function Oi(t){return typeof Element<"u"&&ot(t,Element)}function Ii(t){return fe(t,"RegExp")}function ce(t){return!!(t&&t.then&&typeof t.then=="function")}function Ri(t){return pt(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Ai(t){return typeof t=="number"&&t!==t}function ot(t,r){try{return t instanceof r}catch{return!1}}function Ie(t,r){try{for(var e=t,n=5,i=80,o=[],a=0,s=0,c=" > ",u=c.length,f=void 0;e&&a++<n&&(f=ds(e,r),!(f==="html"||a>1&&s+o.length*u+f.length>=i));)o.push(f),s+=f.length,e=e.parentNode;return o.reverse().join(c)}catch{return"<unknown>"}}function ds(t,r){var e=t,n=[],i,o,a,s,c;if(!e||!e.tagName)return"";n.push(e.tagName.toLowerCase());var u=r&&r.length?r.filter(function(d){return e.getAttribute(d)}).map(function(d){return[d,e.getAttribute(d)]}):null;if(u&&u.length)u.forEach(function(d){n.push("["+d[0]+'="'+d[1]+'"]')});else if(e.id&&n.push("#"+e.id),i=e.className,i&&dt(i))for(o=i.split(/\s+/),c=0;c<o.length;c++)n.push("."+o[c]);var f=["type","name","title","alt"];for(c=0;c<f.length;c++)a=f[c],s=e.getAttribute(a),s&&n.push("["+a+'="'+s+'"]');return n.join("")}function Di(){var t=E();try{return t.document.location.href}catch{return""}}var Xr=function(t,r){return Xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Xr(t,r)};function Pi(t,r){Xr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var F=function(){return F=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},F.apply(this,arguments)};function ht(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function Vr(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(at(arguments[r]));return t}var Ni=Object.setPrototypeOf||({__proto__:[]}instanceof Array?ps:hs);function ps(t,r){return t.__proto__=r,t}function hs(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(t,e)||(t[e]=r[e]);return t}var L=function(t){Pi(r,t);function r(e){var n=this.constructor,i=t.call(this,e)||this;return i.message=e,i.name=n.prototype.constructor.name,Ni(i,n.prototype),i}return r}(Error);var _t=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var _s=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ms(t){return t==="http"||t==="https"}function Ut(t,r){r===void 0&&(r=!1);var e=t.host,n=t.path,i=t.pass,o=t.port,a=t.projectId,s=t.protocol,c=t.publicKey;return s+"://"+c+(r&&i?":"+i:"")+("@"+e+(o?":"+o:"")+"/"+(n&&n+"/")+a)}function gs(t){var r=_s.exec(t);if(!r)throw new L("Invalid Sentry Dsn: "+t);var e=at(r.slice(1),6),n=e[0],i=e[1],o=e[2],a=o===void 0?"":o,s=e[3],c=e[4],u=c===void 0?"":c,f=e[5],d="",p=f,l=p.split("/");if(l.length>1&&(d=l.slice(0,-1).join("/"),p=l.pop()),p){var h=p.match(/^\d+/);h&&(p=h[0])}return Ui({host:s,pass:a,path:d,projectId:p,port:u,protocol:n,publicKey:i})}function Ui(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function vs(t){if(_t){var r=t.port,e=t.projectId,n=t.protocol,i=["protocol","publicKey","host","projectId"];if(i.forEach(function(o){if(!t[o])throw new L("Invalid Sentry Dsn: "+o+" missing")}),!e.match(/^\d+$/))throw new L("Invalid Sentry Dsn: Invalid projectId "+e);if(!ms(n))throw new L("Invalid Sentry Dsn: Invalid protocol "+n);if(r&&isNaN(parseInt(r,10)))throw new L("Invalid Sentry Dsn: Invalid port "+r);return!0}}function le(t){var r=typeof t=="string"?gs(t):Ui(t);return vs(r),r}var Li=["fatal","error","warning","log","info","debug","critical"];var ys=E(),bs="Sentry Logger ",Re=["debug","info","warn","error","log","assert"];function Jr(t){var r=E();if(!("console"in r))return t();var e=r.console,n={};Re.forEach(function(i){var o=e[i]&&e[i].__sentry_original__;i in r.console&&o&&(n[i]=e[i],e[i]=o)});try{return t()}finally{Object.keys(n).forEach(function(i){e[i]=n[i]})}}function Ci(){var t=!1,r={enable:function(){t=!0},disable:function(){t=!1}};return _t?Re.forEach(function(e){r[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t&&Jr(function(){var o;(o=ys.console)[e].apply(o,Vr([bs+"["+e+"]:"],n))})}}):Re.forEach(function(e){r[e]=function(){}}),r}var y;_t?y=se("logger",Ci):y=Ci();function Yt(t,r){return r===void 0&&(r=0),typeof t!="string"||r===0||t.length<=r?t:t.substr(0,r)+"..."}function Qr(t,r){if(!Array.isArray(t))return"";for(var e=[],n=0;n<t.length;n++){var i=t[n];try{e.push(String(i))}catch{e.push("[value cannot be serialized]")}}return e.join(r)}function dr(t,r){return dt(t)?Ii(r)?r.test(t):typeof r=="string"?t.indexOf(r)!==-1:!1:!1}function G(t,r,e){if(r in t){var n=t[r],i=e(n);if(typeof i=="function")try{tn(i,n)}catch{}t[r]=i}}function Kt(t,r,e){Object.defineProperty(t,r,{value:e,writable:!0,configurable:!0})}function tn(t,r){var e=r.prototype||{};t.prototype=r.prototype=e,Kt(t,"__sentry_original__",r)}function de(t){return t.__sentry_original__}function zi(t){return Object.keys(t).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(t[r])}).join("&")}function en(t){var r=t;if(ue(t))r=F({message:t.message,name:t.name,stack:t.stack},ji(t));else if(Wt(t)){var e=t;r=F({type:e.type,target:Mi(e.target),currentTarget:Mi(e.currentTarget)},ji(e)),typeof CustomEvent<"u"&&ot(t,CustomEvent)&&(r.detail=e.detail)}return r}function Mi(t){try{return Oi(t)?Ie(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function ji(t){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}function Bi(t,r){r===void 0&&(r=40);var e=Object.keys(en(t));if(e.sort(),!e.length)return"[object has no keys]";if(e[0].length>=r)return Yt(e[0],r);for(var n=e.length;n>0;n--){var i=e.slice(0,n).join(", ");if(!(i.length>r))return n===e.length?i:Yt(i,r)}return""}function pr(t){var r,e;if(pt(t)){var n={};try{for(var i=ht(Object.keys(t)),o=i.next();!o.done;o=i.next()){var a=o.value;typeof t[a]<"u"&&(n[a]=pr(t[a]))}}catch(s){r={error:s}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return n}return Array.isArray(t)?t.map(pr):t}var ws=50;function Fi(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=t.sort(function(n,i){return n[0]-i[0]}).map(function(n){return n[1]});return function(n,i){var o,a,s,c;i===void 0&&(i=0);var u=[];try{for(var f=ht(n.split(`
`).slice(i)),d=f.next();!d.done;d=f.next()){var p=d.value;try{for(var l=(s=void 0,ht(e)),h=l.next();!h.done;h=l.next()){var O=h.value,b=O(p);if(b){u.push(b);break}}}catch(g){s={error:g}}finally{try{h&&!h.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}}}catch(g){o={error:g}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}return xs(u)}}function xs(t){if(!t.length)return[];var r=t,e=r[0].function||"",n=r[r.length-1].function||"";return(e.indexOf("captureMessage")!==-1||e.indexOf("captureException")!==-1)&&(r=r.slice(1)),n.indexOf("sentryWrapped")!==-1&&(r=r.slice(0,-1)),r.slice(0,ws).map(function(i){return F(F({},i),{filename:i.filename||r[0].filename,function:i.function||"?"})}).reverse()}var rn="<anonymous>";function st(t){try{return!t||typeof t!="function"?rn:t.name||rn}catch{return rn}}function pe(){if(!("fetch"in E()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function hr(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Hi(){if(!pe())return!1;var t=E();if(hr(t.fetch))return!0;var r=!1,e=t.document;if(e&&typeof e.createElement=="function")try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(r=hr(n.contentWindow.fetch)),e.head.removeChild(n)}catch(i){_t&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return r}function Zi(){if(!pe())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function $i(){var t=E(),r=t.chrome,e=r&&r.app&&r.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!e&&n}var M=E(),Ae={},Gi={};function Ss(t){if(!Gi[t])switch(Gi[t]=!0,t){case"console":Es();break;case"dom":Ns();break;case"xhr":Is();break;case"fetch":Ts();break;case"history":Rs();break;case"error":Us();break;case"unhandledrejection":Ls();break;default:_t&&y.warn("unknown instrumentation type:",t);return}}function wt(t,r){Ae[t]=Ae[t]||[],Ae[t].push(r),Ss(t)}function ut(t,r){var e,n;if(!(!t||!Ae[t]))try{for(var i=ht(Ae[t]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(r)}catch(s){_t&&y.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+st(a)+`
Error:`,s)}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}function Es(){"console"in M&&Re.forEach(function(t){t in M.console&&G(M.console,t,function(r){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];ut("console",{args:e,level:t}),r&&r.apply(M.console,e)}})})}function Ts(){Hi()&&G(M,"fetch",function(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n={args:r,fetchData:{method:ks(r),url:Os(r)},startTimestamp:Date.now()};return ut("fetch",F({},n)),t.apply(M,r).then(function(i){return ut("fetch",F(F({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw ut("fetch",F(F({},n),{endTimestamp:Date.now(),error:i})),i})}})}function ks(t){return t===void 0&&(t=[]),"Request"in M&&ot(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Os(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in M&&ot(t[0],Request)?t[0].url:String(t[0])}function Is(){if("XMLHttpRequest"in M){var t=XMLHttpRequest.prototype;G(t,"open",function(r){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,o=e[1],a=i.__sentry_xhr__={method:dt(e[0])?e[0].toUpperCase():e[0],url:e[1]};dt(o)&&a.method==="POST"&&o.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(i.readyState===4){try{a.status_code=i.status}catch{}ut("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?G(i,"onreadystatechange",function(c){return function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return s(),c.apply(i,u)}}):i.addEventListener("readystatechange",s),r.apply(i,e)}}),G(t,"send",function(r){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.__sentry_xhr__&&e[0]!==void 0&&(this.__sentry_xhr__.body=e[0]),ut("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),r.apply(this,e)}})}}var _r;function Rs(){if(!$i())return;var t=M.onpopstate;M.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=M.location.href,o=_r;if(_r=i,ut("history",{from:o,to:i}),t)try{return t.apply(this,e)}catch{}};function r(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.length>2?n[2]:void 0;if(o){var a=_r,s=String(o);_r=s,ut("history",{from:a,to:s})}return e.apply(this,n)}}G(M.history,"pushState",r),G(M.history,"replaceState",r)}var As=1e3,mr,gr;function Ds(t,r){if(!t||t.type!==r.type)return!0;try{if(t.target!==r.target)return!0}catch{}return!1}function Ps(t){if(t.type!=="keypress")return!1;try{var r=t.target;if(!r||!r.tagName)return!0;if(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.isContentEditable)return!1}catch{}return!0}function qi(t,r){return r===void 0&&(r=!1),function(e){if(!(!e||gr===e)&&!Ps(e)){var n=e.type==="keypress"?"input":e.type;mr===void 0?(t({event:e,name:n,global:r}),gr=e):Ds(gr,e)&&(t({event:e,name:n,global:r}),gr=e),clearTimeout(mr),mr=M.setTimeout(function(){mr=void 0},As)}}}function Ns(){if("document"in M){var t=ut.bind(null,"dom"),r=qi(t,!0);M.document.addEventListener("click",r,!1),M.document.addEventListener("keypress",r,!1),["EventTarget","Node"].forEach(function(e){var n=M[e]&&M[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(G(n,"addEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=u[o]=u[o]||{refCount:0};if(!f.handler){var d=qi(t);f.handler=d,i.call(this,o,d,s)}f.refCount+=1}catch{}return i.call(this,o,a,s)}}),G(n,"removeEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var c=this,u=c.__sentry_instrumentation_handlers__||{},f=u[o];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,o,f.handler,s),f.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,s)}}))})}}var nn=null;function Us(){nn=M.onerror,M.onerror=function(t,r,e,n,i){return ut("error",{column:n,error:i,line:e,msg:t,url:r}),nn?nn.apply(this,arguments):!1}}var on=null;function Ls(){on=M.onunhandledrejection,M.onunhandledrejection=function(t){return ut("unhandledrejection",t),on?on.apply(this,arguments):!0}}function Wi(){var t=typeof WeakSet=="function",r=t?new WeakSet:[];function e(i){if(t)return r.has(i)?!0:(r.add(i),!1);for(var o=0;o<r.length;o++){var a=r[o];if(a===i)return!0}return r.push(i),!1}function n(i){if(t)r.delete(i);else for(var o=0;o<r.length;o++)if(r[o]===i){r.splice(o,1);break}}return[e,n]}function xt(){var t=E(),r=t.crypto||t.msCrypto;if(r!==void 0&&r.getRandomValues){var e=new Uint16Array(8);r.getRandomValues(e),e[3]=e[3]&4095|16384,e[4]=e[4]&16383|32768;var n=function(i){for(var o=i.toString(16);o.length<4;)o="0"+o;return o};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=Math.random()*16|0,a=i==="x"?o:o&3|8;return a.toString(16)})}function vr(t){if(!t)return{};var r=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!r)return{};var e=r[6]||"",n=r[8]||"";return{host:r[4],path:r[5],protocol:r[2],relative:r[5]+e+n}}function Yi(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function St(t){var r=t.message,e=t.event_id;if(r)return r;var n=Yi(t);return n?n.type&&n.value?n.type+": "+n.value:n.type||n.value||e||"<unknown>":e||"<unknown>"}function De(t,r,e){var n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=r||""),o.type||(o.type=e||"Error")}function Lt(t,r){var e=Yi(t);if(e){var n={type:"generic",handled:!0},i=e.mechanism;if(e.mechanism=F(F(F({},n),i),r),r&&"data"in r){var o=F(F({},i&&i.data),r.data);e.mechanism.data=o}}}function an(t){if(t&&t.__sentry_captured__)return!0;try{Kt(t,"__sentry_captured__",!0)}catch{}return!1}function Et(t,r,e){r===void 0&&(r=1/0),e===void 0&&(e=1/0);try{return Ki("",t,r,e)}catch(n){return{ERROR:"**non-serializable** ("+n+")"}}}function sn(t,r,e){r===void 0&&(r=3),e===void 0&&(e=100*1024);var n=Et(t,r);return js(n)>e?sn(t,r-1,e):n}function Ki(t,r,e,n,i){e===void 0&&(e=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Wi());var o=at(i,2),a=o[0],s=o[1],c=r;if(c&&typeof c.toJSON=="function")try{return c.toJSON()}catch{}if(r===null||["number","boolean","string"].includes(typeof r)&&!Ai(r))return r;var u=Cs(t,r);if(!u.startsWith("[object "))return u;if(e===0)return u.replace("object ","");if(a(r))return"[Circular ~]";var f=Array.isArray(r)?[]:{},d=0,p=ue(r)||Wt(r)?en(r):r;for(var l in p)if(Object.prototype.hasOwnProperty.call(p,l)){if(d>=n){f[l]="[MaxProperties ~]";break}var h=p[l];f[l]=Ki(l,h,e-1,n,i),d+=1}return s(r),f}function Cs(t,r){try{return t==="domain"&&r&&typeof r=="object"&&r._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&r===global?"[Global]":typeof window<"u"&&r===window?"[Window]":typeof document<"u"&&r===document?"[Document]":Ri(r)?"[SyntheticEvent]":typeof r=="number"&&r!==r?"[NaN]":r===void 0?"[undefined]":typeof r=="function"?"[Function: "+st(r)+"]":typeof r=="symbol"?"["+String(r)+"]":typeof r=="bigint"?"[BigInt: "+String(r)+"]":"[object "+Object.getPrototypeOf(r).constructor.name+"]"}catch(e){return"**non-serializable** ("+e+")"}}function Ms(t){return~-encodeURI(t).split(/%..|./).length}function js(t){return Ms(JSON.stringify(t))}function rt(t){return new V(function(r){r(t)})}function Ct(t){return new V(function(r,e){e(t)})}var V=function(){function t(r){var e=this;this._state=0,this._handlers=[],this._resolve=function(n){e._setResult(1,n)},this._reject=function(n){e._setResult(2,n)},this._setResult=function(n,i){if(e._state===0){if(ce(i)){i.then(e._resolve,e._reject);return}e._state=n,e._value=i,e._executeHandlers()}},this._executeHandlers=function(){if(e._state!==0){var n=e._handlers.slice();e._handlers=[],n.forEach(function(i){i[0]||(e._state===1&&i[1](e._value),e._state===2&&i[2](e._value),i[0]=!0)})}};try{r(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.prototype.then=function(r,e){var n=this;return new t(function(i,o){n._handlers.push([!1,function(a){if(!r)i(a);else try{i(r(a))}catch(s){o(s)}},function(a){if(!e)o(a);else try{i(e(a))}catch(s){o(s)}}]),n._executeHandlers()})},t.prototype.catch=function(r){return this.then(function(e){return e},r)},t.prototype.finally=function(r){var e=this;return new t(function(n,i){var o,a;return e.then(function(s){a=!1,o=s,r&&r()},function(s){a=!0,o=s,r&&r()}).then(function(){if(a){i(o);return}n(o)})})},t}();function yr(t){var r=[];function e(){return t===void 0||r.length<t}function n(a){return r.splice(r.indexOf(a),1)[0]}function i(a){if(!e())return Ct(new L("Not adding Promise due to buffer limit reached."));var s=a();return r.indexOf(s)===-1&&r.push(s),s.then(function(){return n(s)}).then(null,function(){return n(s).then(null,function(){})}),s}function o(a){return new V(function(s,c){var u=r.length;if(!u)return s(!0);var f=setTimeout(function(){a&&a>0&&s(!1)},a);r.forEach(function(d){rt(d).then(function(){--u||(clearTimeout(f),s(!0))},c)})})}return{$:r,add:i,drain:o}}function zs(t){return Li.indexOf(t)!==-1}function Xi(t){return t==="warn"?B.Warning:zs(t)?t:B.Log}function br(t){return t>=200&&t<300?"success":t===429?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}var fn={nowSeconds:function(){return Date.now()/1e3}};function Bs(){var t=E().performance;if(!(!t||!t.now)){var r=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:r}}}function Fs(){try{var t=Ei(module,"perf_hooks");return t.performance}catch{return}}var un=ae()?Fs():Bs(),Vi=un===void 0?fn:{nowSeconds:function(){return(un.timeOrigin+un.now())/1e3}},Mt=fn.nowSeconds.bind(fn),cn=Vi.nowSeconds.bind(Vi);var wr,pp=function(){var t=E().performance;if(!t||!t.now){wr="none";return}var r=3600*1e3,e=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+e-n):r,o=i<r,a=t.timing&&t.timing.navigationStart,s=typeof a=="number",c=s?Math.abs(a+e-n):r,u=c<r;return o||u?i<=c?(wr="timeOrigin",t.timeOrigin):(wr="navigationStart",a):(wr="dateNow",n)}();function he(t,r){return r===void 0&&(r=[]),[t,r]}function Ji(t){var r=at(t,2),e=at(r[1],1),n=at(e[0],1),i=n[0];return i.type}function Xt(t){var r=at(t,2),e=r[0],n=r[1],i=JSON.stringify(e);return n.reduce(function(o,a){var s=at(a,2),c=s[0],u=s[1],f=qt(u)?String(u):JSON.stringify(u);return o+`
`+JSON.stringify(c)+`
`+f},i)}function Qi(t,r,e){var n=[{type:"client_report"},{timestamp:e||Mt(),discarded_events:t}];return he(r?{dsn:r}:{},[n])}var Hs=60*1e3;function Zs(t,r){r===void 0&&(r=Date.now());var e=parseInt(""+t,10);if(!isNaN(e))return e*1e3;var n=Date.parse(""+t);return isNaN(n)?Hs:n-r}function Pe(t,r){return t[r]||t.all||0}function xr(t,r,e){return e===void 0&&(e=Date.now()),Pe(t,r)>e}function Sr(t,r,e){var n,i,o,a;e===void 0&&(e=Date.now());var s=F({},t),c=r["x-sentry-rate-limits"],u=r["retry-after"];if(c)try{for(var f=ht(c.trim().split(",")),d=f.next();!d.done;d=f.next()){var p=d.value,l=p.split(":",2),h=parseInt(l[0],10),O=(isNaN(h)?60:h)*1e3;if(!l[1])s.all=e+O;else try{for(var b=(o=void 0,ht(l[1].split(";"))),g=b.next();!g.done;g=b.next()){var R=g.value;s[R]=e+O}}catch(x){o={error:x}}finally{try{g&&!g.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}}}catch(x){n={error:x}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}else u&&(s.all=e+Zs(u,e));return s}var to=100,Tt=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(r){var e=new t;return r&&(e._breadcrumbs=Nt(r._breadcrumbs),e._tags=m({},r._tags),e._extra=m({},r._extra),e._contexts=m({},r._contexts),e._user=r._user,e._level=r._level,e._span=r._span,e._session=r._session,e._transactionName=r._transactionName,e._fingerprint=r._fingerprint,e._eventProcessors=Nt(r._eventProcessors),e._requestSession=r._requestSession),e},t.prototype.addScopeListener=function(r){this._scopeListeners.push(r)},t.prototype.addEventProcessor=function(r){return this._eventProcessors.push(r),this},t.prototype.setUser=function(r){return this._user=r||{},this._session&&this._session.update({user:r}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(r){return this._requestSession=r,this},t.prototype.setTags=function(r){return this._tags=m(m({},this._tags),r),this._notifyScopeListeners(),this},t.prototype.setTag=function(r,e){var n;return this._tags=m(m({},this._tags),(n={},n[r]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(r){return this._extra=m(m({},this._extra),r),this._notifyScopeListeners(),this},t.prototype.setExtra=function(r,e){var n;return this._extra=m(m({},this._extra),(n={},n[r]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(r){return this._fingerprint=r,this._notifyScopeListeners(),this},t.prototype.setLevel=function(r){return this._level=r,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(r){return this._transactionName=r,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(r){return this.setTransactionName(r)},t.prototype.setContext=function(r,e){var n;return e===null?delete this._contexts[r]:this._contexts=m(m({},this._contexts),(n={},n[r]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(r){return this._span=r,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var r=this.getSpan();return r&&r.transaction},t.prototype.setSession=function(r){return r?this._session=r:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(r){if(!r)return this;if(typeof r=="function"){var e=r(this);return e instanceof t?e:this}return r instanceof t?(this._tags=m(m({},this._tags),r._tags),this._extra=m(m({},this._extra),r._extra),this._contexts=m(m({},this._contexts),r._contexts),r._user&&Object.keys(r._user).length&&(this._user=r._user),r._level&&(this._level=r._level),r._fingerprint&&(this._fingerprint=r._fingerprint),r._requestSession&&(this._requestSession=r._requestSession)):pt(r)&&(r=r,this._tags=m(m({},this._tags),r.tags),this._extra=m(m({},this._extra),r.extra),this._contexts=m(m({},this._contexts),r.contexts),r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(r,e){var n=typeof e=="number"?Math.min(e,to):to;if(n<=0)return this;var i=m({timestamp:Mt()},r);return this._breadcrumbs=Nt(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(r,e){if(this._extra&&Object.keys(this._extra).length&&(r.extra=m(m({},this._extra),r.extra)),this._tags&&Object.keys(this._tags).length&&(r.tags=m(m({},this._tags),r.tags)),this._user&&Object.keys(this._user).length&&(r.user=m(m({},this._user),r.user)),this._contexts&&Object.keys(this._contexts).length&&(r.contexts=m(m({},this._contexts),r.contexts)),this._level&&(r.level=this._level),this._transactionName&&(r.transaction=this._transactionName),this._span){r.contexts=m({trace:this._span.getTraceContext()},r.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(r.tags=m({transaction:n},r.tags))}return this._applyFingerprint(r),r.breadcrumbs=Nt(r.breadcrumbs||[],this._breadcrumbs),r.breadcrumbs=r.breadcrumbs.length>0?r.breadcrumbs:void 0,r.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(Nt(eo(),this._eventProcessors),r,e)},t.prototype.setSDKProcessingMetadata=function(r){return this._sdkProcessingMetadata=m(m({},this._sdkProcessingMetadata),r),this},t.prototype._notifyEventProcessors=function(r,e,n,i){var o=this;return i===void 0&&(i=0),new V(function(a,s){var c=r[i];if(e===null||typeof c!="function")a(e);else{var u=c(m({},e),n);ce(u)?u.then(function(f){return o._notifyEventProcessors(r,f,n,i+1).then(a)}).then(null,s):o._notifyEventProcessors(r,u,n,i+1).then(a).then(null,s)}})},t.prototype._notifyScopeListeners=function(){var r=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(e){e(r)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(r){r.fingerprint=r.fingerprint?Array.isArray(r.fingerprint)?r.fingerprint:[r.fingerprint]:[],this._fingerprint&&(r.fingerprint=r.fingerprint.concat(this._fingerprint)),r.fingerprint&&!r.fingerprint.length&&delete r.fingerprint},t}();function eo(){return se("globalEventProcessors",function(){return[]})}function kt(t){eo().push(t)}var Er=function(){function t(r){this.errors=0,this.sid=xt(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var e=cn();this.timestamp=e,this.started=e,r&&this.update(r)}return t.prototype.update=function(r){if(r===void 0&&(r={}),r.user&&(!this.ipAddress&&r.user.ip_address&&(this.ipAddress=r.user.ip_address),!this.did&&!r.did&&(this.did=r.user.id||r.user.email||r.user.username)),this.timestamp=r.timestamp||cn(),r.ignoreDuration&&(this.ignoreDuration=r.ignoreDuration),r.sid&&(this.sid=r.sid.length===32?r.sid:xt()),r.init!==void 0&&(this.init=r.init),!this.did&&r.did&&(this.did=""+r.did),typeof r.started=="number"&&(this.started=r.started),this.ignoreDuration)this.duration=void 0;else if(typeof r.duration=="number")this.duration=r.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}r.release&&(this.release=r.release),r.environment&&(this.environment=r.environment),!this.ipAddress&&r.ipAddress&&(this.ipAddress=r.ipAddress),!this.userAgent&&r.userAgent&&(this.userAgent=r.userAgent),typeof r.errors=="number"&&(this.errors=r.errors),r.status&&(this.status=r.status)},t.prototype.close=function(r){r?this.update({status:r}):this.status==="ok"?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return pr({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}();var ln=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var dn=4,$s=100,jt=function(){function t(r,e,n){e===void 0&&(e=new Tt),n===void 0&&(n=dn),this._version=n,this._stack=[{}],this.getStackTop().scope=e,r&&this.bindClient(r)}return t.prototype.isOlderThan=function(r){return this._version<r},t.prototype.bindClient=function(r){var e=this.getStackTop();e.client=r,r&&r.setupIntegrations&&r.setupIntegrations()},t.prototype.pushScope=function(){var r=Tt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:r}),r},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(r){var e=this.pushScope();try{r(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(r,e){var n=this._lastEventId=e&&e.event_id?e.event_id:xt(),i=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(a){o=a}i={originalException:r,syntheticException:o}}return this._invokeClient("captureException",r,m(m({},i),{event_id:n})),n},t.prototype.captureMessage=function(r,e,n){var i=this._lastEventId=n&&n.event_id?n.event_id:xt(),o=n;if(!n){var a=void 0;try{throw new Error(r)}catch(s){a=s}o={originalException:r,syntheticException:a}}return this._invokeClient("captureMessage",r,e,m(m({},o),{event_id:i})),i},t.prototype.captureEvent=function(r,e){var n=e&&e.event_id?e.event_id:xt();return r.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",r,m(m({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(r,e){var n=this.getStackTop(),i=n.scope,o=n.client;if(!(!i||!o)){var a=o.getOptions&&o.getOptions()||{},s=a.beforeBreadcrumb,c=s===void 0?null:s,u=a.maxBreadcrumbs,f=u===void 0?$s:u;if(!(f<=0)){var d=Mt(),p=m({timestamp:d},r),l=c?Jr(function(){return c(p,e)}):p;l!==null&&i.addBreadcrumb(l,f)}}},t.prototype.setUser=function(r){var e=this.getScope();e&&e.setUser(r)},t.prototype.setTags=function(r){var e=this.getScope();e&&e.setTags(r)},t.prototype.setExtras=function(r){var e=this.getScope();e&&e.setExtras(r)},t.prototype.setTag=function(r,e){var n=this.getScope();n&&n.setTag(r,e)},t.prototype.setExtra=function(r,e){var n=this.getScope();n&&n.setExtra(r,e)},t.prototype.setContext=function(r,e){var n=this.getScope();n&&n.setContext(r,e)},t.prototype.configureScope=function(r){var e=this.getStackTop(),n=e.scope,i=e.client;n&&i&&r(n)},t.prototype.run=function(r){var e=Ne(this);try{r(this)}finally{Ne(e)}},t.prototype.getIntegration=function(r){var e=this.getClient();if(!e)return null;try{return e.getIntegration(r)}catch{return ln&&y.warn("Cannot retrieve integration "+r.id+" from the current Hub"),null}},t.prototype.startSpan=function(r){return this._callExtensionMethod("startSpan",r)},t.prototype.startTransaction=function(r,e){return this._callExtensionMethod("startTransaction",r,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(r){if(r===void 0&&(r=!1),r)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var r=this.getStackTop(),e=r&&r.scope,n=e&&e.getSession();n&&n.close(),this._sendSessionUpdate(),e&&e.setSession()},t.prototype.startSession=function(r){var e=this.getStackTop(),n=e.scope,i=e.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,c=E(),u=(c.navigator||{}).userAgent,f=new Er(m(m(m({release:a,environment:s},n&&{user:n.getUser()}),u&&{userAgent:u}),r));if(n){var d=n.getSession&&n.getSession();d&&d.status==="ok"&&d.update({status:"exited"}),this.endSession(),n.setSession(f)}return f},t.prototype._sendSessionUpdate=function(){var r=this.getStackTop(),e=r.scope,n=r.client;if(e){var i=e.getSession&&e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(r){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[r]&&(e=s)[r].apply(e,Nt(n,[a]))},t.prototype._callExtensionMethod=function(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Ue(),o=i.__SENTRY__;if(o&&o.extensions&&typeof o.extensions[r]=="function")return o.extensions[r].apply(this,e);ln&&y.warn("Extension method "+r+" couldn't be found, doing nothing.")},t}();function Ue(){var t=E();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function Ne(t){var r=Ue(),e=ft(r);return Tr(r,t),e}function H(){var t=Ue();return(!ro(t)||ft(t).isOlderThan(dn))&&Tr(t,new jt),ae()?Gs(t):ft(t)}function Gs(t){try{var r=Ue().__SENTRY__,e=r&&r.extensions&&r.extensions.domain&&r.extensions.domain.active;if(!e)return ft(t);if(!ro(e)||ft(e).isOlderThan(dn)){var n=ft(t).getStackTop();Tr(e,new jt(n.client,Tt.clone(n.scope)))}return ft(e)}catch{return ft(t)}}function ro(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ft(t){return se("hub",function(){return new jt},t)}function Tr(t,r){if(!t)return!1;var e=t.__SENTRY__=t.__SENTRY__||{};return e.hub=r,!0}function no(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=H();if(n&&n[t])return n[t].apply(n,wi(r));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function kr(t,r){var e=new Error("Sentry syntheticException");return no("captureException",t,{captureContext:r,originalException:t,syntheticException:e})}function Or(t){no("withScope",t)}var qs="7",Ws=function(){function t(r,e,n){e===void 0&&(e={}),this.dsn=r,this._dsnObject=le(r),this.metadata=e,this._tunnel=n}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){return pn(this._dsnObject)},t.prototype.getStoreEndpoint=function(){return ao(this._dsnObject)},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return _e(this._dsnObject)},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return Ot(this._dsnObject,this._tunnel)},t}();function zt(t,r,e){return{initDsn:t,metadata:r||{},dsn:le(t),tunnel:e}}function pn(t){var r=t.protocol?t.protocol+":":"",e=t.port?":"+t.port:"";return r+"//"+t.host+e+(t.path?"/"+t.path:"")+"/api/"}function io(t,r){return""+pn(t)+t.projectId+"/"+r+"/"}function oo(t){return zi({sentry_key:t.publicKey,sentry_version:qs})}function ao(t){return io(t,"store")}function _e(t){return ao(t)+"?"+oo(t)}function Ys(t){return io(t,"envelope")}function Ot(t,r){return r||Ys(t)+"?"+oo(t)}function hn(t,r){var e=le(t),n=pn(e)+"embed/error-page/",i="dsn="+Ut(e);for(var o in r)if(o!=="dsn")if(o==="user"){if(!r.user)continue;r.user.name&&(i+="&name="+encodeURIComponent(r.user.name)),r.user.email&&(i+="&email="+encodeURIComponent(r.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(r[o]);return n+"?"+i}var C=function(){return C=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},C.apply(this,arguments)};function so(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function J(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(Le(arguments[r]));return t}var z=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var uo=[];function fo(t){return t.reduce(function(r,e){return r.every(function(n){return e.name!==n.name})&&r.push(e),r},[])}function Ks(t){var r=t.defaultIntegrations&&J(t.defaultIntegrations)||[],e=t.integrations,n=J(fo(r));Array.isArray(e)?n=J(n.filter(function(a){return e.every(function(s){return s.name!==a.name})}),fo(e)):typeof e=="function"&&(n=e(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),o="Debug";return i.indexOf(o)!==-1&&n.push.apply(n,J(n.splice(i.indexOf(o),1))),n}function Xs(t){uo.indexOf(t.name)===-1&&(t.setupOnce(kt,H),uo.push(t.name),z&&y.log("Integration installed: "+t.name))}function co(t){var r={};return Ks(t).forEach(function(e){r[e.name]=e,Xs(e)}),Kt(r,"initialized",!0),r}var lo="Not capturing exception because it's already been captured.",_n=function(){function t(r,e){this._integrations={},this._numProcessing=0,this._backend=new r(e),this._options=e,e.dsn&&(this._dsn=le(e.dsn))}return t.prototype.captureException=function(r,e,n){var i=this;if(an(r)){z&&y.log(lo);return}var o=e&&e.event_id;return this._process(this._getBackend().eventFromException(r,e).then(function(a){return i._captureEvent(a,e,n)}).then(function(a){o=a})),o},t.prototype.captureMessage=function(r,e,n,i){var o=this,a=n&&n.event_id,s=qt(r)?this._getBackend().eventFromMessage(String(r),e,n):this._getBackend().eventFromException(r,n);return this._process(s.then(function(c){return o._captureEvent(c,n,i)}).then(function(c){a=c})),a},t.prototype.captureEvent=function(r,e,n){if(e&&e.originalException&&an(e.originalException)){z&&y.log(lo);return}var i=e&&e.event_id;return this._process(this._captureEvent(r,e,n).then(function(o){i=o})),i},t.prototype.captureSession=function(r){if(!this._isEnabled()){z&&y.warn("SDK not enabled, will not capture session.");return}typeof r.release!="string"?z&&y.warn("Discarded session because of missing or non-string release"):(this._sendSession(r),r.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(r){var e=this;return this._isClientDoneProcessing(r).then(function(n){return e.getTransport().close(r).then(function(i){return n&&i})})},t.prototype.close=function(r){var e=this;return this.flush(r).then(function(n){return e.getOptions().enabled=!1,n})},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=co(this._options))},t.prototype.getIntegration=function(r){try{return this._integrations[r.id]||null}catch{return z&&y.warn("Cannot retrieve integration "+r.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(r,e){var n,i,o=!1,a=!1,s=e.exception&&e.exception.values;if(s){a=!0;try{for(var c=so(s),u=c.next();!u.done;u=c.next()){var f=u.value,d=f.mechanism;if(d&&d.handled===!1){o=!0;break}}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}var p=r.status==="ok",l=p&&r.errors===0||p&&o;l&&(r.update(C(C({},o&&{status:"crashed"}),{errors:r.errors||Number(a||o)})),this.captureSession(r))},t.prototype._sendSession=function(r){this._getBackend().sendSession(r)},t.prototype._isClientDoneProcessing=function(r){var e=this;return new V(function(n){var i=0,o=1,a=setInterval(function(){e._numProcessing==0?(clearInterval(a),n(!0)):(i+=o,r&&i>=r&&(clearInterval(a),n(!1)))},o)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(r,e,n){var i=this,o=this.getOptions(),a=o.normalizeDepth,s=a===void 0?3:a,c=o.normalizeMaxBreadth,u=c===void 0?1e3:c,f=C(C({},r),{event_id:r.event_id||(n&&n.event_id?n.event_id:xt()),timestamp:r.timestamp||Mt()});this._applyClientOptions(f),this._applyIntegrationsMetadata(f);var d=e;n&&n.captureContext&&(d=Tt.clone(d).update(n.captureContext));var p=rt(f);return d&&(p=d.applyToEvent(f,n)),p.then(function(l){return l&&(l.sdkProcessingMetadata=C(C({},l.sdkProcessingMetadata),{normalizeDepth:Et(s)+" ("+typeof s+")"})),typeof s=="number"&&s>0?i._normalizeEvent(l,s,u):l})},t.prototype._normalizeEvent=function(r,e,n){if(!r)return null;var i=C(C(C(C(C({},r),r.breadcrumbs&&{breadcrumbs:r.breadcrumbs.map(function(o){return C(C({},o),o.data&&{data:Et(o.data,e,n)})})}),r.user&&{user:Et(r.user,e,n)}),r.contexts&&{contexts:Et(r.contexts,e,n)}),r.extra&&{extra:Et(r.extra,e,n)});return r.contexts&&r.contexts.trace&&(i.contexts.trace=r.contexts.trace),i.sdkProcessingMetadata=C(C({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),i},t.prototype._applyClientOptions=function(r){var e=this.getOptions(),n=e.environment,i=e.release,o=e.dist,a=e.maxValueLength,s=a===void 0?250:a;"environment"in r||(r.environment="environment"in e?n:"production"),r.release===void 0&&i!==void 0&&(r.release=i),r.dist===void 0&&o!==void 0&&(r.dist=o),r.message&&(r.message=Yt(r.message,s));var c=r.exception&&r.exception.values&&r.exception.values[0];c&&c.value&&(c.value=Yt(c.value,s));var u=r.request;u&&u.url&&(u.url=Yt(u.url,s))},t.prototype._applyIntegrationsMetadata=function(r){var e=Object.keys(this._integrations);e.length>0&&(r.sdk=r.sdk||{},r.sdk.integrations=J(r.sdk.integrations||[],e))},t.prototype._sendEvent=function(r){this._getBackend().sendEvent(r)},t.prototype._captureEvent=function(r,e,n){return this._processEvent(r,e,n).then(function(i){return i.event_id},function(i){z&&y.error(i)})},t.prototype._processEvent=function(r,e,n){var i=this,o=this.getOptions(),a=o.beforeSend,s=o.sampleRate,c=this.getTransport();function u(d,p){c.recordLostEvent&&c.recordLostEvent(d,p)}if(!this._isEnabled())return Ct(new L("SDK not enabled, will not capture event."));var f=r.type==="transaction";return!f&&typeof s=="number"&&Math.random()>s?(u("sample_rate","event"),Ct(new L("Discarding event because it's not included in the random sample (sampling rate = "+s+")"))):this._prepareEvent(r,n,e).then(function(d){if(d===null)throw u("event_processor",r.type||"event"),new L("An event processor returned null, will not send event.");var p=e&&e.data&&e.data.__sentry__===!0;if(p||f||!a)return d;var l=a(d,e);return Vs(l)}).then(function(d){if(d===null)throw u("before_send",r.type||"event"),new L("`beforeSend` returned `null`, will not send event.");var p=n&&n.getSession&&n.getSession();return!f&&p&&i._updateSessionFromEvent(p,d),i._sendEvent(d),d}).then(null,function(d){throw d instanceof L?d:(i.captureException(d,{data:{__sentry__:!0},originalException:d}),new L(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+d))})},t.prototype._process=function(r){var e=this;this._numProcessing+=1,r.then(function(n){return e._numProcessing-=1,n},function(n){return e._numProcessing-=1,n})},t}();function Vs(t){var r="`beforeSend` method has to return `null` or a valid event.";if(ce(t))return t.then(function(e){if(!(pt(e)||e===null))throw new L(r);return e},function(e){throw new L("beforeSend rejected with "+e)});if(!(pt(t)||t===null))throw new L(r);return t}function mn(t){if(!(!t.metadata||!t.metadata.sdk)){var r=t.metadata.sdk,e=r.name,n=r.version;return{name:e,version:n}}}function po(t,r){return r&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||r.name,t.sdk.version=t.sdk.version||r.version,t.sdk.integrations=J(t.sdk.integrations||[],r.integrations||[]),t.sdk.packages=J(t.sdk.packages||[],r.packages||[])),t}function gn(t,r){var e=mn(r),n=C(C({sent_at:new Date().toISOString()},e&&{sdk:e}),!!r.tunnel&&{dsn:Ut(r.dsn)}),i="aggregates"in t?"sessions":"session",o=[{type:i},t],a=he(n,[o]);return[a,i]}function vn(t,r){var e=Le(gn(t,r),2),n=e[0],i=e[1];return{body:Xt(n),type:i,url:Ot(r.dsn,r.tunnel)}}function ho(t,r){var e=mn(r),n=t.type||"event",i=(t.sdkProcessingMetadata||{}).transactionSampling,o=i||{},a=o.method,s=o.rate;po(t,r.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;var c=C(C({event_id:t.event_id,sent_at:new Date().toISOString()},e&&{sdk:e}),!!r.tunnel&&{dsn:Ut(r.dsn)}),u=[{type:n,sample_rates:[{id:a,rate:s}]},t];return he(c,[u])}function yn(t,r){var e=mn(r),n=t.type||"event",i=n==="transaction"||!!r.tunnel,o=(t.sdkProcessingMetadata||{}).transactionSampling,a=o||{},s=a.method,c=a.rate;po(t,r.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;var u;try{u=JSON.stringify(t)}catch(O){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=O;try{u=JSON.stringify(Et(t))}catch(b){var f=b;u=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:f.message,stack:f.stack}})}}var d={body:u,type:n,url:i?Ot(r.dsn,r.tunnel):_e(r.dsn)};if(i){var p=C(C({event_id:t.event_id,sent_at:new Date().toISOString()},e&&{sdk:e}),!!r.tunnel&&{dsn:Ut(r.dsn)}),l=[{type:n,sample_rates:[{id:s,rate:c}]},d.body],h=he(p,[l]);d.body=Xt(h)}return d}var _o=function(){function t(){}return t.prototype.sendEvent=function(r){return rt({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(r){return rt(!0)},t}();var bn=function(){function t(r){this._options=r,this._options.dsn||z&&y.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(r,e){throw new L("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(r,e,n){throw new L("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(r){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=zt(this._options.dsn,this._options._metadata,this._options.tunnel),n=ho(r,e);this._newTransport.send(n).then(null,function(i){z&&y.error("Error while sending event:",i)})}else this._transport.sendEvent(r).then(null,function(i){z&&y.error("Error while sending event:",i)})},t.prototype.sendSession=function(r){if(!this._transport.sendSession){z&&y.warn("Dropping session because custom transport doesn't implement sendSession");return}if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=zt(this._options.dsn,this._options._metadata,this._options.tunnel),n=Le(gn(r,e),1),i=n[0];this._newTransport.send(i).then(null,function(o){z&&y.error("Error while sending session:",o)})}else this._transport.sendSession(r).then(null,function(o){z&&y.error("Error while sending session:",o)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new _o},t}();var Js=30;function Ce(t,r,e){e===void 0&&(e=yr(t.bufferSize||Js));var n={},i=function(a){return e.drain(a)};function o(a){var s=Ji(a),c=s==="event"?"error":s,u={category:c,body:Xt(a)};if(xr(n,c))return Ct({status:"rate_limit",reason:mo(n,c)});var f=function(){return r(u).then(function(d){var p=d.body,l=d.headers,h=d.reason,O=d.statusCode,b=br(O);return l&&(n=Sr(n,l)),b==="success"?rt({status:b,reason:h}):Ct({status:b,reason:h||p||(b==="rate_limit"?mo(n,c):"Unknown transport error")})})};return e.add(f)}return{send:o,flush:i}}function mo(t,r){return"Too many "+r+" requests, backing off until: "+new Date(Pe(t,r)).toISOString()}var Me="6.19.7";var je={};us(je,{FunctionToString:()=>vo,InboundFilters:()=>bo});var go,vo=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){go=Function.prototype.toString,Function.prototype.toString=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=de(this)||this;return go.apply(n,r)}},t.id="FunctionToString",t}();var Qs=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],bo=function(){function t(r){r===void 0&&(r={}),this._options=r,this.name=t.id}return t.prototype.setupOnce=function(r,e){r(function(n){var i=e();if(i){var o=i.getIntegration(t);if(o){var a=i.getClient(),s=a?a.getOptions():{},c=tu(o._options,s);return eu(n,c)?null:n}}return n})},t.id="InboundFilters",t}();function tu(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),{allowUrls:J(t.whitelistUrls||[],t.allowUrls||[],r.whitelistUrls||[],r.allowUrls||[]),denyUrls:J(t.blacklistUrls||[],t.denyUrls||[],r.blacklistUrls||[],r.denyUrls||[]),ignoreErrors:J(t.ignoreErrors||[],r.ignoreErrors||[],Qs),ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function eu(t,r){return r.ignoreInternal&&au(t)?(z&&y.warn(`Event dropped due to being internal Sentry Error.
Event: `+St(t)),!0):ru(t,r.ignoreErrors)?(z&&y.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+St(t)),!0):nu(t,r.denyUrls)?(z&&y.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+St(t)+`.
Url: `+Ir(t)),!0):iu(t,r.allowUrls)?!1:(z&&y.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+St(t)+`.
Url: `+Ir(t)),!0)}function ru(t,r){return!r||!r.length?!1:ou(t).some(function(e){return r.some(function(n){return dr(e,n)})})}function nu(t,r){if(!r||!r.length)return!1;var e=Ir(t);return e?r.some(function(n){return dr(e,n)}):!1}function iu(t,r){if(!r||!r.length)return!0;var e=Ir(t);return e?r.some(function(n){return dr(e,n)}):!0}function ou(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},e=r.type,n=e===void 0?"":e,i=r.value,o=i===void 0?"":i;return[""+o,n+": "+o]}catch{return z&&y.error("Cannot extract message for event "+St(t)),[]}return[]}function au(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function yo(t){t===void 0&&(t=[]);for(var r=t.length-1;r>=0;r--){var e=t[r];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function Ir(t){try{if(t.stacktrace)return yo(t.stacktrace.frames);var r;try{r=t.exception.values[0].stacktrace.frames}catch{}return r?yo(r):null}catch{return z&&y.error("Cannot extract url for event "+St(t)),null}}var me="?",vu=10,yu=20,bu=30,wu=40,xu=50;function ze(t,r,e,n){var i={filename:t,function:r,in_app:!0};return e!==void 0&&(i.lineno=e),n!==void 0&&(i.colno=n),i}var Su=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Eu=/\((\S*)(?::(\d+))(?::(\d+))\)/,Tu=function(t){var r=Su.exec(t);if(r){var e=r[2]&&r[2].indexOf("eval")===0;if(e){var n=Eu.exec(r[2]);n&&(r[2]=n[1],r[3]=n[2],r[4]=n[3])}var i=bt(ko(r[1]||me,r[2]),2),o=i[0],a=i[1];return ze(a,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},wo=[bu,Tu],ku=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ou=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Iu=function(t){var r,e=ku.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1;if(n){var i=Ou.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}var o=e[3],a=e[1]||me;return r=bt(ko(a,o),2),a=r[0],o=r[1],ze(o,a,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},xo=[xu,Iu],Ru=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Au=function(t){var r=Ru.exec(t);return r?ze(r[2],r[1]||me,+r[3],r[4]?+r[4]:void 0):void 0},So=[wu,Au],Du=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Pu=function(t){var r=Du.exec(t);return r?ze(r[2],r[3]||me,+r[1]):void 0},Eo=[vu,Pu],Nu=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Uu=function(t){var r=Nu.exec(t);return r?ze(r[5],r[3]||r[4]||me,+r[1],+r[2]):void 0},To=[yu,Uu],ko=function(t,r){var e=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return e||n?[t.indexOf("@")!==-1?t.split("@")[0]:me,e?"safari-extension:"+r:"safari-web-extension:"+r]:[t,r]};function Sn(t){var r=En(t),e={type:t&&t.name,value:ju(t)};return r.length&&(e.stacktrace={frames:r}),e.type===void 0&&e.value===""&&(e.value="Unrecoverable error caught"),e}function Lu(t,r,e){var n={exception:{values:[{type:Wt(t)?t.constructor.name:e?"UnhandledRejection":"Error",value:"Non-Error "+(e?"promise rejection":"exception")+" captured with keys: "+Bi(t)}]},extra:{__serialized__:sn(t)}};if(r){var i=En(r);i.length&&(n.stacktrace={frames:i})}return n}function wn(t){return{exception:{values:[Sn(t)]}}}function En(t){var r=t.stacktrace||t.stack||"",e=Mu(t);try{return Fi(Eo,To,wo,So,xo)(r,e)}catch{}return[]}var Cu=/Minified React error #\d+;/i;function Mu(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Cu.test(t.message))return 1}return 0}function ju(t){var r=t&&t.message;return r?r.error&&typeof r.error.message=="string"?r.error.message:r:"No error message"}function Oo(t,r,e){var n=r&&r.syntheticException||void 0,i=Rr(t,n,e);return Lt(i),i.level=B.Error,r&&r.event_id&&(i.event_id=r.event_id),rt(i)}function Io(t,r,e,n){r===void 0&&(r=B.Info);var i=e&&e.syntheticException||void 0,o=xn(t,i,n);return o.level=r,e&&e.event_id&&(o.event_id=e.event_id),rt(o)}function Rr(t,r,e,n){var i;if(lr(t)&&t.error){var o=t;return wn(o.error)}if(Kr(t)||ki(t)){var a=t;if("stack"in t)i=wn(t);else{var s=a.name||(Kr(a)?"DOMError":"DOMException"),c=a.message?s+": "+a.message:s;i=xn(c,r,e),De(i,c)}return"code"in a&&(i.tags=I(I({},i.tags),{"DOMException.code":""+a.code})),i}if(ue(t))return wn(t);if(pt(t)||Wt(t)){var u=t;return i=Lu(u,r,n),Lt(i,{synthetic:!0}),i}return i=xn(t,r,e),De(i,""+t,void 0),Lt(i,{synthetic:!0}),i}function xn(t,r,e){var n={message:t};if(e&&r){var i=En(r);i.length&&(n.stacktrace={frames:i})}return n}var W=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;var ct=E(),Ar;function Be(){if(Ar)return Ar;if(hr(ct.fetch))return Ar=ct.fetch.bind(ct);var t=ct.document,r=ct.fetch;if(t&&typeof t.createElement=="function")try{var e=t.createElement("iframe");e.hidden=!0,t.head.appendChild(e);var n=e.contentWindow;n&&n.fetch&&(r=n.fetch),t.head.removeChild(e)}catch(i){W&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Ar=r.bind(ct)}function Ro(t,r){var e=Object.prototype.toString.call(ct&&ct.navigator)==="[object Navigator]",n=e&&typeof ct.navigator.sendBeacon=="function";if(n){var i=ct.navigator.sendBeacon.bind(ct.navigator);return i(t,r)}if(pe()){var o=Be();return xi(o(t,{body:r,method:"POST",credentials:"omit",keepalive:!0}))}}function Tn(t){var r=t;return r==="event"?"error":r}var kn=E(),Dr=function(){function t(r){var e=this;this.options=r,this._buffer=yr(30),this._rateLimits={},this._outcomes={},this._api=zt(r.dsn,r._metadata,r.tunnel),this.url=_e(this._api.dsn),this.options.sendClientReports&&kn.document&&kn.document.addEventListener("visibilitychange",function(){kn.document.visibilityState==="hidden"&&e._flushOutcomes()})}return t.prototype.sendEvent=function(r){return this._sendRequest(yn(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(vn(r,this._api),r)},t.prototype.close=function(r){return this._buffer.drain(r)},t.prototype.recordLostEvent=function(r,e){var n;if(this.options.sendClientReports){var i=Tn(e)+":"+r;W&&y.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n??0)+1)}},t.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var r=this._outcomes;if(this._outcomes={},!Object.keys(r).length){W&&y.log("No outcomes to flush");return}W&&y.log(`Flushing outcomes:
`+JSON.stringify(r,null,2));var e=Ot(this._api.dsn,this._api.tunnel),n=Object.keys(r).map(function(o){var a=bt(o.split(":"),2),s=a[0],c=a[1];return{reason:c,category:s,quantity:r[o]}}),i=Qi(n,this._api.tunnel&&Ut(this._api.dsn));try{Ro(e,Xt(i))}catch(o){W&&y.error(o)}}},t.prototype._handleResponse=function(r){var e=r.requestType,n=r.response,i=r.headers,o=r.resolve,a=r.reject,s=br(n.status);if(this._rateLimits=Sr(this._rateLimits,i),this._isRateLimited(e)&&W&&y.warn("Too many "+e+" requests, backing off until: "+this._disabledUntil(e)),s==="success"){o({status:s});return}a(n)},t.prototype._disabledUntil=function(r){var e=Tn(r);return new Date(Pe(this._rateLimits,e))},t.prototype._isRateLimited=function(r){var e=Tn(r);return xr(this._rateLimits,e)},t}();var On=function(t){Pt(r,t);function r(e,n){n===void 0&&(n=Be());var i=t.call(this,e)||this;return i._fetch=n,i}return r.prototype._sendRequest=function(e,n){var i=this;if(this._isRateLimited(e.type))return this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:n,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var o={body:e.body,method:"POST",referrerPolicy:Zi()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(o,this.options.fetchParameters),this.options.headers!==void 0&&(o.headers=this.options.headers),this._buffer.add(function(){return new V(function(a,s){i._fetch(e.url,o).then(function(c){var u={"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")};i._handleResponse({requestType:e.type,response:c,headers:u,resolve:a,reject:s})}).catch(s)})}).then(void 0,function(a){throw a instanceof L?i.recordLostEvent("queue_overflow",e.type):i.recordLostEvent("network_error",e.type),a})},r}(Dr);var In=function(t){Pt(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype._sendRequest=function(e,n){var i=this;return this._isRateLimited(e.type)?(this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:n,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new V(function(o,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var u={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:e.type,response:s,headers:u,resolve:o,reject:a})}},s.open("POST",e.url);for(var c in i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,c)&&s.setRequestHeader(c,i.options.headers[c]);s.send(e.body)})}).then(void 0,function(o){throw o instanceof L?i.recordLostEvent("queue_overflow",e.type):i.recordLostEvent("network_error",e.type),o})},r}(Dr);function Rn(t,r){r===void 0&&(r=Be());function e(n){var i=I({body:n.body,method:"POST",referrerPolicy:"origin"},t.requestOptions);return r(t.url,i).then(function(o){return o.text().then(function(a){return{body:a,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")},reason:o.statusText,statusCode:o.status}})})}return Ce({bufferSize:t.bufferSize},e)}var zu=4;function An(t){function r(e){return new V(function(n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===zu){var s={body:o.response,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")},reason:o.statusText,statusCode:o.status};n(s)}},o.open("POST",t.url);for(var a in t.headers)Object.prototype.hasOwnProperty.call(t.headers,a)&&o.setRequestHeader(a,t.headers[a]);o.send(e.body)})}return Ce({bufferSize:t.bufferSize},r)}var Ao=function(t){Pt(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.eventFromException=function(e,n){return Oo(e,n,this._options.attachStacktrace)},r.prototype.eventFromMessage=function(e,n,i){return n===void 0&&(n=B.Info),Io(e,n,i,this._options.attachStacktrace)},r.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=I(I({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),n=zt(e.dsn,e._metadata,e.tunnel),i=Ot(n.dsn,n.tunnel);if(this._options.transport)return new this._options.transport(e);if(pe()){var o=I({},e.fetchParameters);return this._newTransport=Rn({requestOptions:o,url:i}),new On(e)}return this._newTransport=An({url:i,headers:e.headers}),new In(e)},r}(bn);var Pr=E(),Dn=0;function Pn(){return Dn>0}function Bu(){Dn+=1,setTimeout(function(){Dn-=1})}function Vt(t,r,e){if(r===void 0&&(r={}),typeof t!="function")return t;try{var n=t.__sentry_wrapped__;if(n)return n;if(de(t))return t}catch{return t}var i=function(){var s=Array.prototype.slice.call(arguments);try{e&&typeof e=="function"&&e.apply(this,arguments);var c=s.map(function(u){return Vt(u,r)});return t.apply(this,c)}catch(u){throw Bu(),Or(function(f){f.addEventProcessor(function(d){return r.mechanism&&(De(d,void 0,void 0),Lt(d,r.mechanism)),d.extra=I(I({},d.extra),{arguments:s}),d}),kr(u)}),u}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch{}tn(i,t),Kt(t,"__sentry_wrapped__",i);try{var a=Object.getOwnPropertyDescriptor(i,"name");a.configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch{}return i}function Do(t){if(t===void 0&&(t={}),!!Pr.document){if(!t.eventId){W&&y.error("Missing eventId option in showReportDialog call");return}if(!t.dsn){W&&y.error("Missing dsn option in showReportDialog call");return}var r=Pr.document.createElement("script");r.async=!0,r.src=hn(t.dsn,t),t.onLoad&&(r.onload=t.onLoad);var e=Pr.document.head||Pr.document.body;e&&e.appendChild(r)}}var Fe=function(){function t(r){this.name=t.id,this._installFunc={onerror:Fu,onunhandledrejection:Hu},this._options=I({onerror:!0,onunhandledrejection:!0},r)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var r=this._options;for(var e in r){var n=this._installFunc[e];n&&r[e]&&(Gu(e),n(),this._installFunc[e]=void 0)}},t.id="GlobalHandlers",t}();function Fu(){wt("error",function(t){var r=bt(Uo(),2),e=r[0],n=r[1];if(e.getIntegration(Fe)){var i=t.msg,o=t.url,a=t.line,s=t.column,c=t.error;if(!(Pn()||c&&c.__sentry_own_request__)){var u=c===void 0&&dt(i)?$u(i,o,a,s):Po(Rr(c||i,void 0,n,!1),o,a,s);u.level=B.Error,No(e,c,u,"onerror")}}})}function Hu(){wt("unhandledrejection",function(t){var r=bt(Uo(),2),e=r[0],n=r[1];if(e.getIntegration(Fe)){var i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(Pn()||i&&i.__sentry_own_request__)return!0;var o=qt(i)?Zu(i):Rr(i,void 0,n,!0);o.level=B.Error,No(e,i,o,"onunhandledrejection")}})}function Zu(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}}function $u(t,r,e,n){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=lr(t)?t.message:t,a="Error",s=o.match(i);s&&(a=s[1],o=s[2]);var c={exception:{values:[{type:a,value:o}]}};return Po(c,r,e,n)}function Po(t,r,e,n){var i=t.exception=t.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=isNaN(parseInt(n,10))?void 0:n,f=isNaN(parseInt(e,10))?void 0:e,d=dt(r)&&r.length>0?r:Di();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:f}),t}function Gu(t){W&&y.log("Global Handler attached: "+t)}function No(t,r,e,n){Lt(e,{handled:!1,type:n}),t.captureEvent(e,{originalException:r})}function Uo(){var t=H(),r=t.getClient(),e=r&&r.getOptions().attachStacktrace;return[t,e]}var qu=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Nn=function(){function t(r){this.name=t.id,this._options=I({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},r)}return t.prototype.setupOnce=function(){var r=E();this._options.setTimeout&&G(r,"setTimeout",Lo),this._options.setInterval&&G(r,"setInterval",Lo),this._options.requestAnimationFrame&&G(r,"requestAnimationFrame",Wu),this._options.XMLHttpRequest&&"XMLHttpRequest"in r&&G(XMLHttpRequest.prototype,"send",Yu);var e=this._options.eventTarget;if(e){var n=Array.isArray(e)?e:qu;n.forEach(Ku)}},t.id="TryCatch",t}();function Lo(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=r[0];return r[0]=Vt(n,{mechanism:{data:{function:st(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}}function Wu(t){return function(r){return t.apply(this,[Vt(r,{mechanism:{data:{function:"requestAnimationFrame",handler:st(t)},handled:!0,type:"instrument"}})])}}function Yu(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(o){o in n&&typeof n[o]=="function"&&G(n,o,function(a){var s={mechanism:{data:{function:o,handler:st(a)},handled:!0,type:"instrument"}},c=de(a);return c&&(s.mechanism.data.handler=st(c)),Vt(a,s)})}),t.apply(this,r)}}function Ku(t){var r=E(),e=r[t]&&r[t].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||(G(e,"addEventListener",function(n){return function(i,o,a){try{typeof o.handleEvent=="function"&&(o.handleEvent=Vt(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:st(o),target:t},handled:!0,type:"instrument"}}))}catch{}return n.apply(this,[i,Vt(o,{mechanism:{data:{function:"addEventListener",handler:st(o),target:t},handled:!0,type:"instrument"}}),a])}}),G(e,"removeEventListener",function(n){return function(i,o,a){var s=o;try{var c=s&&s.__sentry_wrapped__;c&&n.call(this,i,c,a)}catch{}return n.call(this,i,s,a)}}))}var He=function(){function t(r){this.name=t.id,this._options=I({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},r)}return t.prototype.addSentryBreadcrumb=function(r){this._options.sentry&&H().addBreadcrumb({category:"sentry."+(r.type==="transaction"?"transaction":"event"),event_id:r.event_id,level:r.level,message:St(r)},{event:r})},t.prototype.setupOnce=function(){this._options.console&&wt("console",Vu),this._options.dom&&wt("dom",Xu(this._options.dom)),this._options.xhr&&wt("xhr",Ju),this._options.fetch&&wt("fetch",Qu),this._options.history&&wt("history",tf)},t.id="Breadcrumbs",t}();function Xu(t){function r(e){var n,i=typeof t=="object"?t.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{n=e.event.target?Ie(e.event.target,i):Ie(e.event,i)}catch{n="<unknown>"}n.length!==0&&H().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name,global:e.global})}return r}function Vu(t){var r={category:"console",data:{arguments:t.args,logger:"console"},level:Xi(t.level),message:Qr(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message="Assertion failed: "+(Qr(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1);else return;H().addBreadcrumb(r,{input:t.args,level:t.level})}function Ju(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var r=t.xhr.__sentry_xhr__||{},e=r.method,n=r.url,i=r.status_code,o=r.body;H().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:i},type:"http"},{xhr:t.xhr,input:o});return}}function Qu(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?H().addBreadcrumb({category:"fetch",data:t.fetchData,level:B.Error,type:"http"},{data:t.error,input:t.args}):H().addBreadcrumb({category:"fetch",data:I(I({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))}function tf(t){var r=E(),e=t.from,n=t.to,i=vr(r.location.href),o=vr(e),a=vr(n);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(e=o.relative),H().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}var ef="cause",rf=5,Un=function(){function t(r){r===void 0&&(r={}),this.name=t.id,this._key=r.key||ef,this._limit=r.limit||rf}return t.prototype.setupOnce=function(){kt(function(r,e){var n=H().getIntegration(t);return n?nf(n._key,n._limit,r,e):r})},t.id="LinkedErrors",t}();function nf(t,r,e,n){if(!e.exception||!e.exception.values||!n||!ot(n.originalException,Error))return e;var i=Co(r,n.originalException,t);return e.exception.values=Yr(i,e.exception.values),e}function Co(t,r,e,n){if(n===void 0&&(n=[]),!ot(r[e],Error)||n.length+1>=t)return n;var i=Sn(r[e]);return Co(t,r[e],e,Yr([i],n))}var Jt=E(),Ln=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){kt(function(r){if(H().getIntegration(t)){if(!Jt.navigator&&!Jt.location&&!Jt.document)return r;var e=r.request&&r.request.url||Jt.location&&Jt.location.href,n=(Jt.document||{}).referrer,i=(Jt.navigator||{}).userAgent,o=I(I(I({},r.request&&r.request.headers),n&&{Referer:n}),i&&{"User-Agent":i}),a=I(I({},e&&{url:e}),{headers:o});return I(I({},r),{request:a})}return r})},t.id="UserAgent",t}();var Cn=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(r,e){r(function(n){var i=e().getIntegration(t);if(i){try{if(of(n,i._previousEvent))return W&&y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=n}return i._previousEvent=n}return n})},t.id="Dedupe",t}();function of(t,r){return r?!!(af(t,r)||sf(t,r)):!1}function af(t,r){var e=t.message,n=r.message;return!(!e&&!n||e&&!n||!e&&n||e!==n||!Bo(t,r)||!zo(t,r))}function sf(t,r){var e=Mo(r),n=Mo(t);return!(!e||!n||e.type!==n.type||e.value!==n.value||!Bo(t,r)||!zo(t,r))}function zo(t,r){var e=jo(t),n=jo(r);if(!e&&!n)return!0;if(e&&!n||!e&&n||(e=e,n=n,n.length!==e.length))return!1;for(var i=0;i<n.length;i++){var o=n[i],a=e[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function Bo(t,r){var e=t.fingerprint,n=r.fingerprint;if(!e&&!n)return!0;if(e&&!n||!e&&n)return!1;e=e,n=n;try{return e.join("")===n.join("")}catch{return!1}}function Mo(t){return t.exception&&t.exception.values&&t.exception.values[0]}function jo(t){var r=t.exception;if(r)try{return r.values[0].stacktrace.frames}catch{return}else if(t.stacktrace)return t.stacktrace.frames}var Mn=function(t){Pt(r,t);function r(e){e===void 0&&(e={});var n=this;return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Me}],version:Me},n=t.call(this,Ao,e)||this,n}return r.prototype.showReportDialog=function(e){e===void 0&&(e={});var n=E().document;if(n){if(!this._isEnabled()){W&&y.error("Trying to call showReportDialog with Sentry Client disabled");return}Do(I(I({},e),{dsn:e.dsn||this.getDsn()}))}},r.prototype._prepareEvent=function(e,n,i){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,i)},r.prototype._sendEvent=function(e){var n=this.getIntegration(He);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},r}(_n);var jn=[new je.InboundFilters,new je.FunctionToString,new Nn,new He,new Fe,new Un,new Cn,new Ln];var zn=class{constructor(){this.hub=new jt;let r=new Mn({dsn:"https://fcfebe517e7e4bcb9199d7c31c1d3927@sentry.pegah.tech/229",release:"1.0.0",integrations:jn,enabled:!0});this.hub.bindClient(r)}captureWithScope(r,e,n=B.Log){this.hub.withScope(i=>{e&&i.setExtra("data",e),i.setExtra("userAgent",navigator.userAgent),n===B.Log?this.hub.captureMessage(r,n):this.hub.captureException(r)})}captureError(r,e){this.captureWithScope(r,e,B.Error)}captureLog(r,e){this.captureWithScope(r,e,B.Log)}},N=new zn;var K=class t{static{this.docReadyEvent="DOMContentLoaded"}static{this.currentPath=t.getCurrentPath()}static onDocumentReady(r){document.readyState==="complete"||document.readyState==="interactive"?setTimeout(r,1):document.addEventListener(t.docReadyEvent,r)}static getCurrentPath(){let r=window.location.href,e=window.location.origin.length;return decodeURIComponent(r.substr(e))}static appendHiddenIframe(r){let e=t.createHiddenElement("iframe");e.src=r,t.appendElementToDocument(e)}static appendScript(r){let e=document.createElement("script");e.type="text/javascript",e.src=r,t.appendElementToDocument(e)}static createHiddenElement(r){let e=document.createElement(r);return e.style.display="none",e}static appendElementToDocument(r){try{document.body.appendChild(r)}catch(e){N.captureError(e,r)}}};var U=class t{static{this.sessionLifetime=18e5}static storeItem(r,e){localStorage.setItem(r,e)}static loadItem(r){return localStorage.getItem(r)}static deleteItem(r){localStorage.removeItem(r)}static sendSessionData(r){this.storeItem("ma-session:data",JSON.stringify(r)),this.deleteItem("ma-session:data")}static storeSyncedSessionData(r,e){sessionStorage.setItem(r,e);let n={};n[r]=e,this.sendSessionData(n)}static exportSessionData(){if(!sessionStorage.length)return;let r={};for(let e=0;e<sessionStorage.length;e++){let n=sessionStorage.key(e);n&&n.startsWith("ma-session:")&&(r[n]=sessionStorage.getItem(n))}this.sendSessionData(r)}static importSessionData(r){let e=JSON.parse(r);Object.keys(e).forEach(n=>{let i=e[n];i===null?sessionStorage.removeItem(n):sessionStorage.setItem(n,i)})}static getSessionStartTime(){let r=this.loadItem("ma-session:start");return r?parseInt(r,10):0}static setSessionStartTime(r){this.storeItem("ma-session:start",r.toString())}static getSessionNumber(){let r=this.loadItem("ma-session:num");return r?parseInt(r,10):-1}static incrementSessionNumber(){let r=this.getSessionNumber()+1;return this.storeItem("ma-session:num",r.toString()),r}static getSessionEndTime(){let r=this.loadItem("ma-session:end");return r?parseInt(r,10):0}static extendSessionLifetime(r){this.storeItem("ma-session:end",(r+t.sessionLifetime).toString())}static isNextSession(r,e){return e<=r||new Date(this.getSessionStartTime()).toLocaleDateString()!==new Date(r).toLocaleDateString()}static deleteSessionParams(){let r=[];Object.keys(localStorage).forEach(e=>{e.startsWith("ma-session:")&&r.push(e)}),r.forEach(e=>{this.deleteItem(e)})}static executeCustomActionInSession(r,e){let n=`ma-session:${this.getSessionNumber()}:${r}`;this.storeItem(n,"1");try{e()}catch(i){N.captureError(i)}}static executeCustomActionOnceInSession(r,e){let n=`ma-session:${this.getSessionNumber()}:${r}`;if(!this.loadItem(n)){this.storeItem(n,"1");try{e()}catch(i){N.captureError(i)}}}static extendSession(){let r=Date.now(),e=this.getSessionEndTime();return this.extendSessionLifetime(r),this.isNextSession(r,e)?(this.setSessionStartTime(r),"new-session-needed"):"no-new-session-needed"}};var lt=class{static{this.USER_ID_KEY="MEDIAAD_USER_ID"}static{this.userIdHolder={value:null,listeners:[]}}static withUserIdCallback(r){let e=this.userIdHolder.value;if(e)try{r(e)}catch(n){N.captureError(n)}else this.userIdHolder.listeners.push(r)}static setUserId(r){for(this.userIdHolder.value=r;this.userIdHolder.listeners.length>0;)this.userIdHolder.listeners.pop()?.(r)}static getUserId(){return this.userIdHolder.value?this.userIdHolder.value:(this.userIdHolder.value=U.loadItem(this.USER_ID_KEY),this.userIdHolder.value)}};var Ze=class{addEventListener(r,e){let n=window;window.addEventListener?window.addEventListener(r,e):n.attachEvent?n.attachEvent(`on${r}`,i=>{e(i)}):N.captureLog("Neither addEventListener nor attachEvent is supported in this browser.")}handleStorageEvent(r){!r||!r.newValue||(r.key==="ma-session:get"?U.exportSessionData():r.key==="ma-session:data"&&U.importSessionData(r.newValue))}handleMessageEvent(r){try{let e=r.data;if(!e||typeof e.indexOf>"u")return;if(e.indexOf("mediaad-fid:")===0){let n=e.split(":")[1];lt.setUserId(n),U.storeItem(lt.getUserId(),n)}}catch(e){N.captureError(e,r)}}initialize(){this.addEventListener("storage",this.handleStorageEvent),this.addEventListener("message",this.handleMessageEvent)}};var Bn=class{constructor(r,e){this.location=r;this.document=e;this.currentPath=K.getCurrentPath(),this.matchIntervalCounter={},this.timeouts=[]}domainMatches(r){if(r.domain){let e=this.location.hostname;return e===r.domain||e===`www.${r.domain}`||`www.${e}`===r.domain}return!0}referrerMatches(r){if(r.referrer){let{referrer:e}=this.document;return e.includes(r.referrer)}return!0}testMatcherEqualsTo(r){return this.currentPath===r.query}testMatcherContains(r){return this.currentPath.includes(r.query)}testMatcherStartsWith(r){return this.currentPath.startsWith(r.query)}testMatcherEndsWith(r){return this.currentPath.endsWith(r.query)}testMatcherRegex(r){return new RegExp(r.query).test(this.currentPath)}testMatcherHtmlElement(r,e,n){let i=setInterval(()=>{this.matchIntervalCounter[e.id]=(this.matchIntervalCounter[e.id]||0)+1;let o=this.document.getElementById(e.query)||this.document.querySelector(e.query);(o||this.matchIntervalCounter[e.id]>=r.max_interval_reset)&&(clearInterval(i),n(!!o))},1e3);this.timeouts.push(i)}testMatcher(r){if(!this.domainMatches(r))return!1;switch(r.pattern_type){case"equalsTo":return this.testMatcherEqualsTo(r);case"contains":return this.testMatcherContains(r);case"startsWith":return this.testMatcherStartsWith(r);case"endsWith":return this.testMatcherEndsWith(r);case"regex":return this.testMatcherRegex(r);case"htmlElement":return!1;default:return!1}}testMatcherAsync(r,e,n){if(!this.domainMatches(e)||!this.referrerMatches(e)){n(!1);return}e.pattern_type==="htmlElement"?this.testMatcherHtmlElement(r,e,n):n(this.testMatcher(e))}updateCurrentPath(){this.currentPath=K.getCurrentPath()}},Fn=Bn;function xe(t){let r=t.length;for(;--r>=0;)t[r]=0}var uf=0,Ta=1,ff=2,cf=3,lf=258,li=29,ir=256,Xe=ir+1+li,ye=30,di=19,ka=2*Xe+1,Qt=15,Hn=16,df=7,pi=256,Oa=16,Ia=17,Ra=18,ri=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),jr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),pf=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Aa=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hf=512,Rt=new Array((Xe+2)*2);xe(Rt);var We=new Array(ye*2);xe(We);var Ve=new Array(hf);xe(Ve);var Je=new Array(lf-cf+1);xe(Je);var hi=new Array(li);xe(hi);var zr=new Array(ye);xe(zr);function Zn(t,r,e,n,i){this.static_tree=t,this.extra_bits=r,this.extra_base=e,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var Da,Pa,Na;function $n(t,r){this.dyn_tree=t,this.max_code=0,this.stat_desc=r}var Ua=t=>t<256?Ve[t]:Ve[256+(t>>>7)],Qe=(t,r)=>{t.pending_buf[t.pending++]=r&255,t.pending_buf[t.pending++]=r>>>8&255},Q=(t,r,e)=>{t.bi_valid>Hn-e?(t.bi_buf|=r<<t.bi_valid&65535,Qe(t,t.bi_buf),t.bi_buf=r>>Hn-t.bi_valid,t.bi_valid+=e-Hn):(t.bi_buf|=r<<t.bi_valid&65535,t.bi_valid+=e)},gt=(t,r,e)=>{Q(t,e[r*2],e[r*2+1])},La=(t,r)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--r>0);return e>>>1},_f=t=>{t.bi_valid===16?(Qe(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},mf=(t,r)=>{let e=r.dyn_tree,n=r.max_code,i=r.stat_desc.static_tree,o=r.stat_desc.has_stree,a=r.stat_desc.extra_bits,s=r.stat_desc.extra_base,c=r.stat_desc.max_length,u,f,d,p,l,h,O=0;for(p=0;p<=Qt;p++)t.bl_count[p]=0;for(e[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<ka;u++)f=t.heap[u],p=e[e[f*2+1]*2+1]+1,p>c&&(p=c,O++),e[f*2+1]=p,!(f>n)&&(t.bl_count[p]++,l=0,f>=s&&(l=a[f-s]),h=e[f*2],t.opt_len+=h*(p+l),o&&(t.static_len+=h*(i[f*2+1]+l)));if(O!==0){do{for(p=c-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[c]--,O-=2}while(O>0);for(p=c;p!==0;p--)for(f=t.bl_count[p];f!==0;)d=t.heap[--u],!(d>n)&&(e[d*2+1]!==p&&(t.opt_len+=(p-e[d*2+1])*e[d*2],e[d*2+1]=p),f--)}},Ca=(t,r,e)=>{let n=new Array(Qt+1),i=0,o,a;for(o=1;o<=Qt;o++)i=i+e[o-1]<<1,n[o]=i;for(a=0;a<=r;a++){let s=t[a*2+1];s!==0&&(t[a*2]=La(n[s]++,s))}},gf=()=>{let t,r,e,n,i,o=new Array(Qt+1);for(e=0,n=0;n<li-1;n++)for(hi[n]=e,t=0;t<1<<ri[n];t++)Je[e++]=n;for(Je[e-1]=n,i=0,n=0;n<16;n++)for(zr[n]=i,t=0;t<1<<jr[n];t++)Ve[i++]=n;for(i>>=7;n<ye;n++)for(zr[n]=i<<7,t=0;t<1<<jr[n]-7;t++)Ve[256+i++]=n;for(r=0;r<=Qt;r++)o[r]=0;for(t=0;t<=143;)Rt[t*2+1]=8,t++,o[8]++;for(;t<=255;)Rt[t*2+1]=9,t++,o[9]++;for(;t<=279;)Rt[t*2+1]=7,t++,o[7]++;for(;t<=287;)Rt[t*2+1]=8,t++,o[8]++;for(Ca(Rt,Xe+1,o),t=0;t<ye;t++)We[t*2+1]=5,We[t*2]=La(t,5);Da=new Zn(Rt,ri,ir+1,Xe,Qt),Pa=new Zn(We,jr,0,ye,Qt),Na=new Zn(new Array(0),pf,0,di,df)},Ma=t=>{let r;for(r=0;r<Xe;r++)t.dyn_ltree[r*2]=0;for(r=0;r<ye;r++)t.dyn_dtree[r*2]=0;for(r=0;r<di;r++)t.bl_tree[r*2]=0;t.dyn_ltree[pi*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ja=t=>{t.bi_valid>8?Qe(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Fo=(t,r,e,n)=>{let i=r*2,o=e*2;return t[i]<t[o]||t[i]===t[o]&&n[r]<=n[e]},Gn=(t,r,e)=>{let n=t.heap[e],i=e<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Fo(r,t.heap[i+1],t.heap[i],t.depth)&&i++,!Fo(r,n,t.heap[i],t.depth));)t.heap[e]=t.heap[i],e=i,i<<=1;t.heap[e]=n},Ho=(t,r,e)=>{let n,i,o=0,a,s;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+o++]&255,n+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],n===0?gt(t,i,r):(a=Je[i],gt(t,a+ir+1,r),s=ri[a],s!==0&&(i-=hi[a],Q(t,i,s)),n--,a=Ua(n),gt(t,a,e),s=jr[a],s!==0&&(n-=zr[a],Q(t,n,s)));while(o<t.sym_next);gt(t,pi,r)},ni=(t,r)=>{let e=r.dyn_tree,n=r.stat_desc.static_tree,i=r.stat_desc.has_stree,o=r.stat_desc.elems,a,s,c=-1,u;for(t.heap_len=0,t.heap_max=ka,a=0;a<o;a++)e[a*2]!==0?(t.heap[++t.heap_len]=c=a,t.depth[a]=0):e[a*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,e[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[u*2+1]);for(r.max_code=c,a=t.heap_len>>1;a>=1;a--)Gn(t,e,a);u=o;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Gn(t,e,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,e[u*2]=e[a*2]+e[s*2],t.depth[u]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,e[a*2+1]=e[s*2+1]=u,t.heap[1]=u++,Gn(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],mf(t,r),Ca(e,c,t.bl_count)},Zo=(t,r,e)=>{let n,i=-1,o,a=r[0*2+1],s=0,c=7,u=4;for(a===0&&(c=138,u=3),r[(e+1)*2+1]=65535,n=0;n<=e;n++)o=a,a=r[(n+1)*2+1],!(++s<c&&o===a)&&(s<u?t.bl_tree[o*2]+=s:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[Oa*2]++):s<=10?t.bl_tree[Ia*2]++:t.bl_tree[Ra*2]++,s=0,i=o,a===0?(c=138,u=3):o===a?(c=6,u=3):(c=7,u=4))},$o=(t,r,e)=>{let n,i=-1,o,a=r[0*2+1],s=0,c=7,u=4;for(a===0&&(c=138,u=3),n=0;n<=e;n++)if(o=a,a=r[(n+1)*2+1],!(++s<c&&o===a)){if(s<u)do gt(t,o,t.bl_tree);while(--s!==0);else o!==0?(o!==i&&(gt(t,o,t.bl_tree),s--),gt(t,Oa,t.bl_tree),Q(t,s-3,2)):s<=10?(gt(t,Ia,t.bl_tree),Q(t,s-3,3)):(gt(t,Ra,t.bl_tree),Q(t,s-11,7));s=0,i=o,a===0?(c=138,u=3):o===a?(c=6,u=3):(c=7,u=4)}},vf=t=>{let r;for(Zo(t,t.dyn_ltree,t.l_desc.max_code),Zo(t,t.dyn_dtree,t.d_desc.max_code),ni(t,t.bl_desc),r=di-1;r>=3&&t.bl_tree[Aa[r]*2+1]===0;r--);return t.opt_len+=3*(r+1)+5+5+4,r},yf=(t,r,e,n)=>{let i;for(Q(t,r-257,5),Q(t,e-1,5),Q(t,n-4,4),i=0;i<n;i++)Q(t,t.bl_tree[Aa[i]*2+1],3);$o(t,t.dyn_ltree,r-1),$o(t,t.dyn_dtree,e-1)},bf=t=>{let r=4093624447,e;for(e=0;e<=31;e++,r>>>=1)if(r&1&&t.dyn_ltree[e*2]!==0)return 0;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return 1;for(e=32;e<ir;e++)if(t.dyn_ltree[e*2]!==0)return 1;return 0},Go=!1,wf=t=>{Go||(gf(),Go=!0),t.l_desc=new $n(t.dyn_ltree,Da),t.d_desc=new $n(t.dyn_dtree,Pa),t.bl_desc=new $n(t.bl_tree,Na),t.bi_buf=0,t.bi_valid=0,Ma(t)},za=(t,r,e,n)=>{Q(t,(uf<<1)+(n?1:0),3),ja(t),Qe(t,e),Qe(t,~e),e&&t.pending_buf.set(t.window.subarray(r,r+e),t.pending),t.pending+=e},xf=t=>{Q(t,Ta<<1,3),gt(t,pi,Rt),_f(t)},Sf=(t,r,e,n)=>{let i,o,a=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=bf(t)),ni(t,t.l_desc),ni(t,t.d_desc),a=vf(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=e+5,e+4<=i&&r!==-1?za(t,r,e,n):t.strategy===4||o===i?(Q(t,(Ta<<1)+(n?1:0),3),Ho(t,Rt,We)):(Q(t,(ff<<1)+(n?1:0),3),yf(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Ho(t,t.dyn_ltree,t.dyn_dtree)),Ma(t),n&&ja(t)},Ef=(t,r,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=r,t.pending_buf[t.sym_buf+t.sym_next++]=r>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,r===0?t.dyn_ltree[e*2]++:(t.matches++,r--,t.dyn_ltree[(Je[e]+ir+1)*2]++,t.dyn_dtree[Ua(r)*2]++),t.sym_next===t.sym_end),Tf=wf,kf=za,Of=Sf,If=Ef,Rf=xf,Af={_tr_init:Tf,_tr_stored_block:kf,_tr_flush_block:Of,_tr_tally:If,_tr_align:Rf},Df=(t,r,e,n)=>{let i=t&65535|0,o=t>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do i=i+r[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0},tr=Df,Pf=()=>{let t,r=[];for(var e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r},Nf=new Uint32Array(Pf()),Uf=(t,r,e,n)=>{let i=Nf,o=n+e;t^=-1;for(let a=n;a<o;a++)t=t>>>8^i[(t^r[a])&255];return t^-1},q=Uf,re={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Se={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Lf,_tr_stored_block:ii,_tr_flush_block:Cf,_tr_tally:Ht,_tr_align:Mf}=Af,{Z_NO_FLUSH:Zt,Z_PARTIAL_FLUSH:jf,Z_FULL_FLUSH:zf,Z_FINISH:nt,Z_BLOCK:qo,Z_OK:Y,Z_STREAM_END:Wo,Z_STREAM_ERROR:vt,Z_DATA_ERROR:Bf,Z_BUF_ERROR:qn,Z_DEFAULT_COMPRESSION:Ff,Z_FILTERED:Hf,Z_HUFFMAN_ONLY:Nr,Z_RLE:Zf,Z_FIXED:$f,Z_DEFAULT_STRATEGY:Gf,Z_UNKNOWN:qf,Z_DEFLATED:Hr}=Se,Wf=9,Yf=15,Kf=8,Xf=29,Vf=256,oi=Vf+1+Xf,Jf=30,Qf=19,tc=2*oi+1,ec=15,T=3,Ft=258,yt=Ft+T+1,rc=32,be=42,_i=57,ai=69,si=73,ui=91,fi=103,te=113,Ge=666,X=1,Ee=2,ne=3,Te=4,nc=3,ee=(t,r)=>(t.msg=re[r],r),Yo=t=>t*2-(t>4?9:0),Bt=t=>{let r=t.length;for(;--r>=0;)t[r]=0},ic=t=>{let r,e,n,i=t.w_size;r=t.hash_size,n=r;do e=t.head[--n],t.head[n]=e>=i?e-i:0;while(--r);r=i,n=r;do e=t.prev[--n],t.prev[n]=e>=i?e-i:0;while(--r)},oc=(t,r,e)=>(r<<t.hash_shift^e)&t.hash_mask,$t=oc,tt=t=>{let r=t.state,e=r.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+e),t.next_out),t.next_out+=e,r.pending_out+=e,t.total_out+=e,t.avail_out-=e,r.pending-=e,r.pending===0&&(r.pending_out=0))},et=(t,r)=>{Cf(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,r),t.block_start=t.strstart,tt(t.strm)},D=(t,r)=>{t.pending_buf[t.pending++]=r},$e=(t,r)=>{t.pending_buf[t.pending++]=r>>>8&255,t.pending_buf[t.pending++]=r&255},ci=(t,r,e,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,r.set(t.input.subarray(t.next_in,t.next_in+i),e),t.state.wrap===1?t.adler=tr(t.adler,r,i,e):t.state.wrap===2&&(t.adler=q(t.adler,r,i,e)),t.next_in+=i,t.total_in+=i,i)},Ba=(t,r)=>{let e=t.max_chain_length,n=t.strstart,i,o,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-yt?t.strstart-(t.w_size-yt):0,u=t.window,f=t.w_mask,d=t.prev,p=t.strstart+Ft,l=u[n+a-1],h=u[n+a];t.prev_length>=t.good_match&&(e>>=2),s>t.lookahead&&(s=t.lookahead);do if(i=r,!(u[i+a]!==h||u[i+a-1]!==l||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<p);if(o=Ft-(p-n),n=p-Ft,o>a){if(t.match_start=r,a=o,o>=s)break;l=u[n+a-1],h=u[n+a]}}while((r=d[r&f])>c&&--e!==0);return a<=t.lookahead?a:t.lookahead},we=t=>{let r=t.w_size,e,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-yt)&&(t.window.set(t.window.subarray(r,r+r-n),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,t.insert>t.strstart&&(t.insert=t.strstart),ic(t),n+=r),t.strm.avail_in===0)break;if(e=ci(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=T)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=$t(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=$t(t,t.ins_h,t.window[i+T-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<T)););}while(t.lookahead<yt&&t.strm.avail_in!==0)},Fa=(t,r)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,o,a=0,s=t.strm.avail_in;do{if(n=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>o&&(n=o),n<e&&(n===0&&r!==nt||r===Zt||n!==i+t.strm.avail_in)))break;a=r===nt&&n===i+t.strm.avail_in?1:0,ii(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,tt(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(ci(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(a===0);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?Te:r!==Zt&&r!==nt&&t.strm.avail_in===0&&t.strstart===t.block_start?Ee:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(ci(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,e=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=e||(i||r===nt)&&r!==Zt&&t.strm.avail_in===0&&i<=o)&&(n=i>o?o:i,a=r===nt&&t.strm.avail_in===0&&n===i?1:0,ii(t,t.block_start,n,a),t.block_start+=n,tt(t.strm)),a?ne:X)},Wn=(t,r)=>{let e,n;for(;;){if(t.lookahead<yt){if(we(t),t.lookahead<yt&&r===Zt)return X;if(t.lookahead===0)break}if(e=0,t.lookahead>=T&&(t.ins_h=$t(t,t.ins_h,t.window[t.strstart+T-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-yt&&(t.match_length=Ba(t,e)),t.match_length>=T)if(n=Ht(t,t.strstart-t.match_start,t.match_length-T),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=T){t.match_length--;do t.strstart++,t.ins_h=$t(t,t.ins_h,t.window[t.strstart+T-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=$t(t,t.ins_h,t.window[t.strstart+1]);else n=Ht(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(et(t,!1),t.strm.avail_out===0))return X}return t.insert=t.strstart<T-1?t.strstart:T-1,r===nt?(et(t,!0),t.strm.avail_out===0?ne:Te):t.sym_next&&(et(t,!1),t.strm.avail_out===0)?X:Ee},ge=(t,r)=>{let e,n,i;for(;;){if(t.lookahead<yt){if(we(t),t.lookahead<yt&&r===Zt)return X;if(t.lookahead===0)break}if(e=0,t.lookahead>=T&&(t.ins_h=$t(t,t.ins_h,t.window[t.strstart+T-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=T-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-yt&&(t.match_length=Ba(t,e),t.match_length<=5&&(t.strategy===Hf||t.match_length===T&&t.strstart-t.match_start>4096)&&(t.match_length=T-1)),t.prev_length>=T&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-T,n=Ht(t,t.strstart-1-t.prev_match,t.prev_length-T),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=$t(t,t.ins_h,t.window[t.strstart+T-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=T-1,t.strstart++,n&&(et(t,!1),t.strm.avail_out===0))return X}else if(t.match_available){if(n=Ht(t,0,t.window[t.strstart-1]),n&&et(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return X}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Ht(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<T-1?t.strstart:T-1,r===nt?(et(t,!0),t.strm.avail_out===0?ne:Te):t.sym_next&&(et(t,!1),t.strm.avail_out===0)?X:Ee},ac=(t,r)=>{let e,n,i,o,a=t.window;for(;;){if(t.lookahead<=Ft){if(we(t),t.lookahead<=Ft&&r===Zt)return X;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=T&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=t.strstart+Ft;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=Ft-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=T?(e=Ht(t,1,t.match_length-T),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Ht(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(et(t,!1),t.strm.avail_out===0))return X}return t.insert=0,r===nt?(et(t,!0),t.strm.avail_out===0?ne:Te):t.sym_next&&(et(t,!1),t.strm.avail_out===0)?X:Ee},sc=(t,r)=>{let e;for(;;){if(t.lookahead===0&&(we(t),t.lookahead===0)){if(r===Zt)return X;break}if(t.match_length=0,e=Ht(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(et(t,!1),t.strm.avail_out===0))return X}return t.insert=0,r===nt?(et(t,!0),t.strm.avail_out===0?ne:Te):t.sym_next&&(et(t,!1),t.strm.avail_out===0)?X:Ee};function mt(t,r,e,n,i){this.good_length=t,this.max_lazy=r,this.nice_length=e,this.max_chain=n,this.func=i}var qe=[new mt(0,0,0,0,Fa),new mt(4,4,8,4,Wn),new mt(4,5,16,8,Wn),new mt(4,6,32,32,Wn),new mt(4,4,16,16,ge),new mt(8,16,32,32,ge),new mt(8,16,128,128,ge),new mt(8,32,128,256,ge),new mt(32,128,258,1024,ge),new mt(32,258,258,4096,ge)],uc=t=>{t.window_size=2*t.w_size,Bt(t.head),t.max_lazy_match=qe[t.level].max_lazy,t.good_match=qe[t.level].good_length,t.nice_match=qe[t.level].nice_length,t.max_chain_length=qe[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=T-1,t.match_available=0,t.ins_h=0};function fc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Hr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(tc*2),this.dyn_dtree=new Uint16Array((2*Jf+1)*2),this.bl_tree=new Uint16Array((2*Qf+1)*2),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ec+1),this.heap=new Uint16Array(2*oi+1),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*oi+1),Bt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var or=t=>{if(!t)return 1;let r=t.state;return!r||r.strm!==t||r.status!==be&&r.status!==_i&&r.status!==ai&&r.status!==si&&r.status!==ui&&r.status!==fi&&r.status!==te&&r.status!==Ge?1:0},Ha=t=>{if(or(t))return ee(t,vt);t.total_in=t.total_out=0,t.data_type=qf;let r=t.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?_i:r.wrap?be:te,t.adler=r.wrap===2?0:1,r.last_flush=-2,Lf(r),Y},Za=t=>{let r=Ha(t);return r===Y&&uc(t.state),r},cc=(t,r)=>or(t)||t.state.wrap!==2?vt:(t.state.gzhead=r,Y),$a=(t,r,e,n,i,o)=>{if(!t)return vt;let a=1;if(r===Ff&&(r=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>Wf||e!==Hr||n<8||n>15||r<0||r>9||o<0||o>$f||n===8&&a!==1)return ee(t,vt);n===8&&(n=9);let s=new fc;return t.state=s,s.strm=t,s.status=be,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+T-1)/T),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=r,s.strategy=o,s.method=e,Za(t)},lc=(t,r)=>$a(t,r,Hr,Yf,Kf,Gf),dc=(t,r)=>{if(or(t)||r>qo||r<0)return t?ee(t,vt):vt;let e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===Ge&&r!==nt)return ee(t,t.avail_out===0?qn:vt);let n=e.last_flush;if(e.last_flush=r,e.pending!==0){if(tt(t),t.avail_out===0)return e.last_flush=-1,Y}else if(t.avail_in===0&&Yo(r)<=Yo(n)&&r!==nt)return ee(t,qn);if(e.status===Ge&&t.avail_in!==0)return ee(t,qn);if(e.status===be&&e.wrap===0&&(e.status=te),e.status===be){let i=Hr+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=Nr||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,i|=o<<6,e.strstart!==0&&(i|=rc),i+=31-i%31,$e(e,i),e.strstart!==0&&($e(e,t.adler>>>16),$e(e,t.adler&65535)),t.adler=1,e.status=te,tt(t),e.pending!==0)return e.last_flush=-1,Y}if(e.status===_i){if(t.adler=0,D(e,31),D(e,139),D(e,8),e.gzhead)D(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),D(e,e.gzhead.time&255),D(e,e.gzhead.time>>8&255),D(e,e.gzhead.time>>16&255),D(e,e.gzhead.time>>24&255),D(e,e.level===9?2:e.strategy>=Nr||e.level<2?4:0),D(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(D(e,e.gzhead.extra.length&255),D(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=q(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=ai;else if(D(e,0),D(e,0),D(e,0),D(e,0),D(e,0),D(e,e.level===9?2:e.strategy>=Nr||e.level<2?4:0),D(e,nc),e.status=te,tt(t),e.pending!==0)return e.last_flush=-1,Y}if(e.status===ai){if(e.gzhead.extra){let i=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>i&&(t.adler=q(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex+=s,tt(t),e.pending!==0)return e.last_flush=-1,Y;i=0,o-=s}let a=new Uint8Array(e.gzhead.extra);e.pending_buf.set(a.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>i&&(t.adler=q(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=si}if(e.status===si){if(e.gzhead.name){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(t.adler=q(t.adler,e.pending_buf,e.pending-i,i)),tt(t),e.pending!==0)return e.last_flush=-1,Y;i=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,D(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(t.adler=q(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=ui}if(e.status===ui){if(e.gzhead.comment){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(t.adler=q(t.adler,e.pending_buf,e.pending-i,i)),tt(t),e.pending!==0)return e.last_flush=-1,Y;i=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,D(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(t.adler=q(t.adler,e.pending_buf,e.pending-i,i))}e.status=fi}if(e.status===fi){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(tt(t),e.pending!==0))return e.last_flush=-1,Y;D(e,t.adler&255),D(e,t.adler>>8&255),t.adler=0}if(e.status=te,tt(t),e.pending!==0)return e.last_flush=-1,Y}if(t.avail_in!==0||e.lookahead!==0||r!==Zt&&e.status!==Ge){let i=e.level===0?Fa(e,r):e.strategy===Nr?sc(e,r):e.strategy===Zf?ac(e,r):qe[e.level].func(e,r);if((i===ne||i===Te)&&(e.status=Ge),i===X||i===ne)return t.avail_out===0&&(e.last_flush=-1),Y;if(i===Ee&&(r===jf?Mf(e):r!==qo&&(ii(e,0,0,!1),r===zf&&(Bt(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),tt(t),t.avail_out===0))return e.last_flush=-1,Y}return r!==nt?Y:e.wrap<=0?Wo:(e.wrap===2?(D(e,t.adler&255),D(e,t.adler>>8&255),D(e,t.adler>>16&255),D(e,t.adler>>24&255),D(e,t.total_in&255),D(e,t.total_in>>8&255),D(e,t.total_in>>16&255),D(e,t.total_in>>24&255)):($e(e,t.adler>>>16),$e(e,t.adler&65535)),tt(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Y:Wo)},pc=t=>{if(or(t))return vt;let r=t.state.status;return t.state=null,r===te?ee(t,Bf):Y},hc=(t,r)=>{let e=r.length;if(or(t))return vt;let n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==be||n.lookahead)return vt;if(i===1&&(t.adler=tr(t.adler,r,e,0)),n.wrap=0,e>=n.w_size){i===0&&(Bt(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(r.subarray(e-n.w_size,e),0),r=c,e=n.w_size}let o=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=e,t.next_in=0,t.input=r,we(n);n.lookahead>=T;){let c=n.strstart,u=n.lookahead-(T-1);do n.ins_h=$t(n,n.ins_h,n.window[c+T-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=T-1,we(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=T-1,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=o,n.wrap=i,Y},_c=lc,mc=$a,gc=Za,vc=Ha,yc=cc,bc=dc,wc=pc,xc=hc,Sc="pako deflate (from Nodeca project)",Ye={deflateInit:_c,deflateInit2:mc,deflateReset:gc,deflateResetKeep:vc,deflateSetHeader:yc,deflate:bc,deflateEnd:wc,deflateSetDictionary:xc,deflateInfo:Sc},Ec=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),Tc=function(t){let r=Array.prototype.slice.call(arguments,1);for(;r.length;){let e=r.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)Ec(e,n)&&(t[n]=e[n])}}return t},kc=t=>{let r=0;for(let n=0,i=t.length;n<i;n++)r+=t[n].length;let e=new Uint8Array(r);for(let n=0,i=0,o=t.length;n<o;n++){let a=t[n];e.set(a,i),i+=a.length}return e},Zr={assign:Tc,flattenChunks:kc},Ga=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ga=!1}var er=new Uint8Array(256);for(let t=0;t<256;t++)er[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;er[254]=er[254]=1;var Oc=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,e,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)e=t.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(r=new Uint8Array(s),o=0,i=0;o<s;i++)e=t.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?r[o++]=e:e<2048?(r[o++]=192|e>>>6,r[o++]=128|e&63):e<65536?(r[o++]=224|e>>>12,r[o++]=128|e>>>6&63,r[o++]=128|e&63):(r[o++]=240|e>>>18,r[o++]=128|e>>>12&63,r[o++]=128|e>>>6&63,r[o++]=128|e&63);return r},Ic=(t,r)=>{if(r<65534&&t.subarray&&Ga)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let e="";for(let n=0;n<r;n++)e+=String.fromCharCode(t[n]);return e},Rc=(t,r)=>{let e=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let n,i,o=new Array(e*2);for(i=0,n=0;n<e;){let a=t[n++];if(a<128){o[i++]=a;continue}let s=er[a];if(s>4){o[i++]=65533,n+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&n<e;)a=a<<6|t[n++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return Ic(o,i)},Ac=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let e=r-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?r:e+er[t[e]]>r?e:r},rr={string2buf:Oc,buf2string:Rc,utf8border:Ac};function Dc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qa=Dc,Wa=Object.prototype.toString,{Z_NO_FLUSH:Pc,Z_SYNC_FLUSH:Nc,Z_FULL_FLUSH:Uc,Z_FINISH:Lc,Z_OK:Br,Z_STREAM_END:Cc,Z_DEFAULT_COMPRESSION:Mc,Z_DEFAULT_STRATEGY:jc,Z_DEFLATED:zc}=Se;function ar(t){this.options=Zr.assign({level:Mc,method:zc,chunkSize:16384,windowBits:15,memLevel:8,strategy:jc},t||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qa,this.strm.avail_out=0;let e=Ye.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(e!==Br)throw new Error(re[e]);if(r.header&&Ye.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(typeof r.dictionary=="string"?n=rr.string2buf(r.dictionary):Wa.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,e=Ye.deflateSetDictionary(this.strm,n),e!==Br)throw new Error(re[e]);this._dict_set=!0}}ar.prototype.push=function(t,r){let e=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?Lc:Pc,typeof t=="string"?e.input=rr.string2buf(t):Wa.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(o===Nc||o===Uc)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(i=Ye.deflate(e,o),i===Cc)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=Ye.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Br;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};ar.prototype.onData=function(t){this.chunks.push(t)};ar.prototype.onEnd=function(t){t===Br&&(this.result=Zr.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function mi(t,r){let e=new ar(r);if(e.push(t,!0),e.err)throw e.msg||re[e.err];return e.result}function Bc(t,r){return r=r||{},r.raw=!0,mi(t,r)}function Fc(t,r){return r=r||{},r.gzip=!0,mi(t,r)}var Hc=ar,Zc=mi,$c=Bc,Gc=Fc,qc=Se,Wc={Deflate:Hc,deflate:Zc,deflateRaw:$c,gzip:Gc,constants:qc},Ur=16209,Yc=16191,Kc=function(r,e){let n,i,o,a,s,c,u,f,d,p,l,h,O,b,g,R,x,_,A,$,v,P,k,w,S=r.state;n=r.next_in,k=r.input,i=n+(r.avail_in-5),o=r.next_out,w=r.output,a=o-(e-r.avail_out),s=o+(r.avail_out-257),c=S.dmax,u=S.wsize,f=S.whave,d=S.wnext,p=S.window,l=S.hold,h=S.bits,O=S.lencode,b=S.distcode,g=(1<<S.lenbits)-1,R=(1<<S.distbits)-1;t:do{h<15&&(l+=k[n++]<<h,h+=8,l+=k[n++]<<h,h+=8),x=O[l&g];e:for(;;){if(_=x>>>24,l>>>=_,h-=_,_=x>>>16&255,_===0)w[o++]=x&65535;else if(_&16){A=x&65535,_&=15,_&&(h<_&&(l+=k[n++]<<h,h+=8),A+=l&(1<<_)-1,l>>>=_,h-=_),h<15&&(l+=k[n++]<<h,h+=8,l+=k[n++]<<h,h+=8),x=b[l&R];r:for(;;){if(_=x>>>24,l>>>=_,h-=_,_=x>>>16&255,_&16){if($=x&65535,_&=15,h<_&&(l+=k[n++]<<h,h+=8,h<_&&(l+=k[n++]<<h,h+=8)),$+=l&(1<<_)-1,$>c){r.msg="invalid distance too far back",S.mode=Ur;break t}if(l>>>=_,h-=_,_=o-a,$>_){if(_=$-_,_>f&&S.sane){r.msg="invalid distance too far back",S.mode=Ur;break t}if(v=0,P=p,d===0){if(v+=u-_,_<A){A-=_;do w[o++]=p[v++];while(--_);v=o-$,P=w}}else if(d<_){if(v+=u+d-_,_-=d,_<A){A-=_;do w[o++]=p[v++];while(--_);if(v=0,d<A){_=d,A-=_;do w[o++]=p[v++];while(--_);v=o-$,P=w}}}else if(v+=d-_,_<A){A-=_;do w[o++]=p[v++];while(--_);v=o-$,P=w}for(;A>2;)w[o++]=P[v++],w[o++]=P[v++],w[o++]=P[v++],A-=3;A&&(w[o++]=P[v++],A>1&&(w[o++]=P[v++]))}else{v=o-$;do w[o++]=w[v++],w[o++]=w[v++],w[o++]=w[v++],A-=3;while(A>2);A&&(w[o++]=w[v++],A>1&&(w[o++]=w[v++]))}}else if(_&64){r.msg="invalid distance code",S.mode=Ur;break t}else{x=b[(x&65535)+(l&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){S.mode=Yc;break t}else{r.msg="invalid literal/length code",S.mode=Ur;break t}else{x=O[(x&65535)+(l&(1<<_)-1)];continue e}break}}while(n<i&&o<s);A=h>>3,n-=A,h-=A<<3,l&=(1<<h)-1,r.next_in=n,r.next_out=o,r.avail_in=n<i?5+(i-n):5-(n-i),r.avail_out=o<s?257+(s-o):257-(o-s),S.hold=l,S.bits=h},ve=15,Ko=852,Xo=592,Vo=0,Yn=1,Jo=2,Xc=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Vc=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Jc=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Qc=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),tl=(t,r,e,n,i,o,a,s)=>{let c=s.bits,u=0,f=0,d=0,p=0,l=0,h=0,O=0,b=0,g=0,R=0,x,_,A,$,v,P=null,k,w=new Uint16Array(ve+1),S=new Uint16Array(ve+1),Gt=null,bi,fr,cr;for(u=0;u<=ve;u++)w[u]=0;for(f=0;f<n;f++)w[r[e+f]]++;for(l=c,p=ve;p>=1&&w[p]===0;p--);if(l>p&&(l=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(d=1;d<p&&w[d]===0;d++);for(l<d&&(l=d),b=1,u=1;u<=ve;u++)if(b<<=1,b-=w[u],b<0)return-1;if(b>0&&(t===Vo||p!==1))return-1;for(S[1]=0,u=1;u<ve;u++)S[u+1]=S[u]+w[u];for(f=0;f<n;f++)r[e+f]!==0&&(a[S[r[e+f]]++]=f);if(t===Vo?(P=Gt=a,k=20):t===Yn?(P=Xc,Gt=Vc,k=257):(P=Jc,Gt=Qc,k=0),R=0,f=0,u=d,v=o,h=l,O=0,A=-1,g=1<<l,$=g-1,t===Yn&&g>Ko||t===Jo&&g>Xo)return 1;for(;;){bi=u-O,a[f]+1<k?(fr=0,cr=a[f]):a[f]>=k?(fr=Gt[a[f]-k],cr=P[a[f]-k]):(fr=32+64,cr=0),x=1<<u-O,_=1<<h,d=_;do _-=x,i[v+(R>>O)+_]=bi<<24|fr<<16|cr|0;while(_!==0);for(x=1<<u-1;R&x;)x>>=1;if(x!==0?(R&=x-1,R+=x):R=0,f++,--w[u]===0){if(u===p)break;u=r[e+a[f]]}if(u>l&&(R&$)!==A){for(O===0&&(O=l),v+=d,h=u-O,b=1<<h;h+O<p&&(b-=w[h+O],!(b<=0));)h++,b<<=1;if(g+=1<<h,t===Yn&&g>Ko||t===Jo&&g>Xo)return 1;A=R&$,i[A]=l<<24|h<<16|v-o|0}}return R!==0&&(i[v+R]=u-O<<24|64<<16|0),s.bits=l,0},Ke=tl,el=0,Ya=1,Ka=2,{Z_FINISH:Qo,Z_BLOCK:rl,Z_TREES:Lr,Z_OK:ie,Z_STREAM_END:nl,Z_NEED_DICT:il,Z_STREAM_ERROR:it,Z_DATA_ERROR:Xa,Z_MEM_ERROR:Va,Z_BUF_ERROR:ol,Z_DEFLATED:ta}=Se,$r=16180,ea=16181,ra=16182,na=16183,ia=16184,oa=16185,aa=16186,sa=16187,ua=16188,fa=16189,Fr=16190,It=16191,Kn=16192,ca=16193,Xn=16194,la=16195,da=16196,pa=16197,ha=16198,Cr=16199,Mr=16200,_a=16201,ma=16202,ga=16203,va=16204,ya=16205,Vn=16206,ba=16207,wa=16208,j=16209,Ja=16210,Qa=16211,al=852,sl=592,ul=15,fl=ul,xa=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function cl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var oe=t=>{if(!t)return 1;let r=t.state;return!r||r.strm!==t||r.mode<$r||r.mode>Qa?1:0},ts=t=>{if(oe(t))return it;let r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=$r,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(al),r.distcode=r.distdyn=new Int32Array(sl),r.sane=1,r.back=-1,ie},es=t=>{if(oe(t))return it;let r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,ts(t)},rs=(t,r)=>{let e;if(oe(t))return it;let n=t.state;return r<0?(e=0,r=-r):(e=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?it:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=e,n.wbits=r,es(t))},ns=(t,r)=>{if(!t)return it;let e=new cl;t.state=e,e.strm=t,e.window=null,e.mode=$r;let n=rs(t,r);return n!==ie&&(t.state=null),n},ll=t=>ns(t,fl),Sa=!0,Jn,Qn,dl=t=>{if(Sa){Jn=new Int32Array(512),Qn=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(Ke(Ya,t.lens,0,288,Jn,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;Ke(Ka,t.lens,0,32,Qn,0,t.work,{bits:5}),Sa=!1}t.lencode=Jn,t.lenbits=9,t.distcode=Qn,t.distbits=5},is=(t,r,e,n)=>{let i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(r.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(r.subarray(e-n,e-n+i),o.wnext),n-=i,n?(o.window.set(r.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},pl=(t,r)=>{let e,n,i,o,a,s,c,u,f,d,p,l,h,O,b=0,g,R,x,_,A,$,v,P,k=new Uint8Array(4),w,S,Gt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oe(t)||!t.output||!t.input&&t.avail_in!==0)return it;e=t.state,e.mode===It&&(e.mode=Kn),a=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,u=e.hold,f=e.bits,d=s,p=c,P=ie;t:for(;;)switch(e.mode){case $r:if(e.wrap===0){e.mode=Kn;break}for(;f<16;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(e.wrap&2&&u===35615){e.wbits===0&&(e.wbits=15),e.check=0,k[0]=u&255,k[1]=u>>>8&255,e.check=q(e.check,k,2,0),u=0,f=0,e.mode=ea;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",e.mode=j;break}if((u&15)!==ta){t.msg="unknown compression method",e.mode=j;break}if(u>>>=4,f-=4,v=(u&15)+8,e.wbits===0&&(e.wbits=v),v>15||v>e.wbits){t.msg="invalid window size",e.mode=j;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=u&512?fa:It,u=0,f=0;break;case ea:for(;f<16;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(e.flags=u,(e.flags&255)!==ta){t.msg="unknown compression method",e.mode=j;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=j;break}e.head&&(e.head.text=u>>8&1),e.flags&512&&e.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,e.check=q(e.check,k,2,0)),u=0,f=0,e.mode=ra;case ra:for(;f<32;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}e.head&&(e.head.time=u),e.flags&512&&e.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,e.check=q(e.check,k,4,0)),u=0,f=0,e.mode=na;case na:for(;f<16;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}e.head&&(e.head.xflags=u&255,e.head.os=u>>8),e.flags&512&&e.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,e.check=q(e.check,k,2,0)),u=0,f=0,e.mode=ia;case ia:if(e.flags&1024){for(;f<16;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}e.length=u,e.head&&(e.head.extra_len=u),e.flags&512&&e.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,e.check=q(e.check,k,2,0)),u=0,f=0}else e.head&&(e.head.extra=null);e.mode=oa;case oa:if(e.flags&1024&&(l=e.length,l>s&&(l=s),l&&(e.head&&(v=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+l),v)),e.flags&512&&e.wrap&4&&(e.check=q(e.check,n,l,o)),s-=l,o+=l,e.length-=l),e.length))break t;e.length=0,e.mode=aa;case aa:if(e.flags&2048){if(s===0)break t;l=0;do v=n[o+l++],e.head&&v&&e.length<65536&&(e.head.name+=String.fromCharCode(v));while(v&&l<s);if(e.flags&512&&e.wrap&4&&(e.check=q(e.check,n,l,o)),s-=l,o+=l,v)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=sa;case sa:if(e.flags&4096){if(s===0)break t;l=0;do v=n[o+l++],e.head&&v&&e.length<65536&&(e.head.comment+=String.fromCharCode(v));while(v&&l<s);if(e.flags&512&&e.wrap&4&&(e.check=q(e.check,n,l,o)),s-=l,o+=l,v)break t}else e.head&&(e.head.comment=null);e.mode=ua;case ua:if(e.flags&512){for(;f<16;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(e.wrap&4&&u!==(e.check&65535)){t.msg="header crc mismatch",e.mode=j;break}u=0,f=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=It;break;case fa:for(;f<32;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}t.adler=e.check=xa(u),u=0,f=0,e.mode=Fr;case Fr:if(e.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,e.hold=u,e.bits=f,il;t.adler=e.check=1,e.mode=It;case It:if(r===rl||r===Lr)break t;case Kn:if(e.last){u>>>=f&7,f-=f&7,e.mode=Vn;break}for(;f<3;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}switch(e.last=u&1,u>>>=1,f-=1,u&3){case 0:e.mode=ca;break;case 1:if(dl(e),e.mode=Cr,r===Lr){u>>>=2,f-=2;break t}break;case 2:e.mode=da;break;case 3:t.msg="invalid block type",e.mode=j}u>>>=2,f-=2;break;case ca:for(u>>>=f&7,f-=f&7;f<32;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",e.mode=j;break}if(e.length=u&65535,u=0,f=0,e.mode=Xn,r===Lr)break t;case Xn:e.mode=la;case la:if(l=e.length,l){if(l>s&&(l=s),l>c&&(l=c),l===0)break t;i.set(n.subarray(o,o+l),a),s-=l,o+=l,c-=l,a+=l,e.length-=l;break}e.mode=It;break;case da:for(;f<14;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(e.nlen=(u&31)+257,u>>>=5,f-=5,e.ndist=(u&31)+1,u>>>=5,f-=5,e.ncode=(u&15)+4,u>>>=4,f-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=j;break}e.have=0,e.mode=pa;case pa:for(;e.have<e.ncode;){for(;f<3;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}e.lens[Gt[e.have++]]=u&7,u>>>=3,f-=3}for(;e.have<19;)e.lens[Gt[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,w={bits:e.lenbits},P=Ke(el,e.lens,0,19,e.lencode,0,e.work,w),e.lenbits=w.bits,P){t.msg="invalid code lengths set",e.mode=j;break}e.have=0,e.mode=ha;case ha:for(;e.have<e.nlen+e.ndist;){for(;b=e.lencode[u&(1<<e.lenbits)-1],g=b>>>24,R=b>>>16&255,x=b&65535,!(g<=f);){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(x<16)u>>>=g,f-=g,e.lens[e.have++]=x;else{if(x===16){for(S=g+2;f<S;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(u>>>=g,f-=g,e.have===0){t.msg="invalid bit length repeat",e.mode=j;break}v=e.lens[e.have-1],l=3+(u&3),u>>>=2,f-=2}else if(x===17){for(S=g+3;f<S;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}u>>>=g,f-=g,v=0,l=3+(u&7),u>>>=3,f-=3}else{for(S=g+7;f<S;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}u>>>=g,f-=g,v=0,l=11+(u&127),u>>>=7,f-=7}if(e.have+l>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=j;break}for(;l--;)e.lens[e.have++]=v}}if(e.mode===j)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=j;break}if(e.lenbits=9,w={bits:e.lenbits},P=Ke(Ya,e.lens,0,e.nlen,e.lencode,0,e.work,w),e.lenbits=w.bits,P){t.msg="invalid literal/lengths set",e.mode=j;break}if(e.distbits=6,e.distcode=e.distdyn,w={bits:e.distbits},P=Ke(Ka,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,w),e.distbits=w.bits,P){t.msg="invalid distances set",e.mode=j;break}if(e.mode=Cr,r===Lr)break t;case Cr:e.mode=Mr;case Mr:if(s>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,e.hold=u,e.bits=f,Kc(t,p),a=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,u=e.hold,f=e.bits,e.mode===It&&(e.back=-1);break}for(e.back=0;b=e.lencode[u&(1<<e.lenbits)-1],g=b>>>24,R=b>>>16&255,x=b&65535,!(g<=f);){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(R&&!(R&240)){for(_=g,A=R,$=x;b=e.lencode[$+((u&(1<<_+A)-1)>>_)],g=b>>>24,R=b>>>16&255,x=b&65535,!(_+g<=f);){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}u>>>=_,f-=_,e.back+=_}if(u>>>=g,f-=g,e.back+=g,e.length=x,R===0){e.mode=ya;break}if(R&32){e.back=-1,e.mode=It;break}if(R&64){t.msg="invalid literal/length code",e.mode=j;break}e.extra=R&15,e.mode=_a;case _a:if(e.extra){for(S=e.extra;f<S;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,f-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=ma;case ma:for(;b=e.distcode[u&(1<<e.distbits)-1],g=b>>>24,R=b>>>16&255,x=b&65535,!(g<=f);){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(!(R&240)){for(_=g,A=R,$=x;b=e.distcode[$+((u&(1<<_+A)-1)>>_)],g=b>>>24,R=b>>>16&255,x=b&65535,!(_+g<=f);){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}u>>>=_,f-=_,e.back+=_}if(u>>>=g,f-=g,e.back+=g,R&64){t.msg="invalid distance code",e.mode=j;break}e.offset=x,e.extra=R&15,e.mode=ga;case ga:if(e.extra){for(S=e.extra;f<S;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,f-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=j;break}e.mode=va;case va:if(c===0)break t;if(l=p-c,e.offset>l){if(l=e.offset-l,l>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=j;break}l>e.wnext?(l-=e.wnext,h=e.wsize-l):h=e.wnext-l,l>e.length&&(l=e.length),O=e.window}else O=i,h=a-e.offset,l=e.length;l>c&&(l=c),c-=l,e.length-=l;do i[a++]=O[h++];while(--l);e.length===0&&(e.mode=Mr);break;case ya:if(c===0)break t;i[a++]=e.length,c--,e.mode=Mr;break;case Vn:if(e.wrap){for(;f<32;){if(s===0)break t;s--,u|=n[o++]<<f,f+=8}if(p-=c,t.total_out+=p,e.total+=p,e.wrap&4&&p&&(t.adler=e.check=e.flags?q(e.check,i,p,a-p):tr(e.check,i,p,a-p)),p=c,e.wrap&4&&(e.flags?u:xa(u))!==e.check){t.msg="incorrect data check",e.mode=j;break}u=0,f=0}e.mode=ba;case ba:if(e.wrap&&e.flags){for(;f<32;){if(s===0)break t;s--,u+=n[o++]<<f,f+=8}if(e.wrap&4&&u!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=j;break}u=0,f=0}e.mode=wa;case wa:P=nl;break t;case j:P=Xa;break t;case Ja:return Va;case Qa:default:return it}return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,e.hold=u,e.bits=f,(e.wsize||p!==t.avail_out&&e.mode<j&&(e.mode<Vn||r!==Qo))&&is(t,t.output,t.next_out,p-t.avail_out),d-=t.avail_in,p-=t.avail_out,t.total_in+=d,t.total_out+=p,e.total+=p,e.wrap&4&&p&&(t.adler=e.check=e.flags?q(e.check,i,p,t.next_out-p):tr(e.check,i,p,t.next_out-p)),t.data_type=e.bits+(e.last?64:0)+(e.mode===It?128:0)+(e.mode===Cr||e.mode===Xn?256:0),(d===0&&p===0||r===Qo)&&P===ie&&(P=ol),P},hl=t=>{if(oe(t))return it;let r=t.state;return r.window&&(r.window=null),t.state=null,ie},_l=(t,r)=>{if(oe(t))return it;let e=t.state;return e.wrap&2?(e.head=r,r.done=!1,ie):it},ml=(t,r)=>{let e=r.length,n,i,o;return oe(t)||(n=t.state,n.wrap!==0&&n.mode!==Fr)?it:n.mode===Fr&&(i=1,i=tr(i,r,e,0),i!==n.check)?Xa:(o=is(t,r,e,e),o?(n.mode=Ja,Va):(n.havedict=1,ie))},gl=es,vl=rs,yl=ts,bl=ll,wl=ns,xl=pl,Sl=hl,El=_l,Tl=ml,kl="pako inflate (from Nodeca project)",At={inflateReset:gl,inflateReset2:vl,inflateResetKeep:yl,inflateInit:bl,inflateInit2:wl,inflate:xl,inflateEnd:Sl,inflateGetHeader:El,inflateSetDictionary:Tl,inflateInfo:kl};function Ol(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Il=Ol,os=Object.prototype.toString,{Z_NO_FLUSH:Rl,Z_FINISH:Al,Z_OK:nr,Z_STREAM_END:ti,Z_NEED_DICT:ei,Z_STREAM_ERROR:Dl,Z_DATA_ERROR:Ea,Z_MEM_ERROR:Pl}=Se;function sr(t){this.options=Zr.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qa,this.strm.avail_out=0;let e=At.inflateInit2(this.strm,r.windowBits);if(e!==nr)throw new Error(re[e]);if(this.header=new Il,At.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=rr.string2buf(r.dictionary):os.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(e=At.inflateSetDictionary(this.strm,r.dictionary),e!==nr)))throw new Error(re[e])}sr.prototype.push=function(t,r){let e=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s;if(this.ended)return!1;for(r===~~r?a=r:a=r===!0?Al:Rl,os.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=At.inflate(e,a),o===ei&&i&&(o=At.inflateSetDictionary(e,i),o===nr?o=At.inflate(e,a):o===Ea&&(o=ei));e.avail_in>0&&o===ti&&e.state.wrap>0&&t[e.next_in]!==0;)At.inflateReset(e),o=At.inflate(e,a);switch(o){case Dl:case Ea:case ei:case Pl:return this.onEnd(o),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||o===ti))if(this.options.to==="string"){let c=rr.utf8border(e.output,e.next_out),u=e.next_out-c,f=rr.buf2string(e.output,c);e.next_out=u,e.avail_out=n-u,u&&e.output.set(e.output.subarray(c,c+u),0),this.onData(f)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===nr&&s===0)){if(o===ti)return o=At.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};sr.prototype.onData=function(t){this.chunks.push(t)};sr.prototype.onEnd=function(t){t===nr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Zr.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function gi(t,r){let e=new sr(r);if(e.push(t),e.err)throw e.msg||re[e.err];return e.result}function Nl(t,r){return r=r||{},r.raw=!0,gi(t,r)}var Ul=sr,Ll=gi,Cl=Nl,Ml=gi,jl=Se,zl={Inflate:Ul,inflate:Ll,inflateRaw:Cl,ungzip:Ml,constants:jl},{Deflate:fg,deflate:cg,deflateRaw:lg,gzip:Bl}=Wc,{Inflate:dg,inflate:pg,inflateRaw:hg,ungzip:_g}=zl;var as=Bl;var Z=class t{static async sendRequest(r,e,n,i={}){return new Promise((o,a)=>{let s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState!==XMLHttpRequest.DONE)return;if(s.status!==200){console.error(`HTTP error: ${s.status} - ${s.statusText}`),a(new Error(`HTTP error: ${s.status} - ${s.statusText}`));return}let c=s.getResponseHeader("Content-Type");if(!c){console.log("Response doesnt have content type.");return}try{if(!s.responseText){console.log("Empty response.");return}let u=s.responseText;c.includes("json")&&(u=JSON.parse(s.responseText)),o(u)}catch(u){N.captureError(u),a(u)}},s.open(e,r),Object.keys(i).length!==0&&(s.withCredentials=!0,t.setHeaders(s,i)),s.send(n)})}static setHeaders(r,e){Object.keys(e).forEach(n=>{r.setRequestHeader(n,e[n])})}static async postJson(r,e){let n={"Content-Type":"application/json; charset=utf-8"};return t.sendRequest(r,"POST",JSON.stringify(e),n)}static async post(r,e,n={}){return t.sendRequest(r,"POST",e,n)}static async get(r){return t.sendRequest(r,"GET",void 0)}static apiUrl(r){return t.baseApiUrl?`${t.baseApiUrl}${r}`:r}static setBaseApiUrl(r){t.baseApiUrl=r}static getBaseApiUrl(){return t.baseApiUrl}};var ur=class{static extractQueryParam(r){let e={};if("URLSearchParams"in window){if(e=new URLSearchParams(window.location.search),e.has(r))return String(e.get(r))||null}else if(e=window.location.search.substring(1).split("&").reduce(function(i,o){let a=o.split("="),s=a[0],c=decodeURIComponent(a[1]);return c=Number.isNaN(Number(c))?c:String(c),{...i,[s]:c}},{}),e[r])return String(e[r])||null;return null}};var Gr=class{constructor(){this.advertiserData={}}async initialize(){let r=Oe.extractUniqueAdvertiserIds(),e=sessionStorage.getItem("ma-session:id"),n=ur.extractQueryParam("utm_ma");return n&&e!==n&&(U.deleteSessionParams(),U.storeSyncedSessionData("ma-session:id",n)),r.length!==0&&(await this.loadData(r),K.appendHiddenIframe("https://mediacdn.mediaad.org/static/fingerprint.html"),e&&/\w+-\d+-ts/.test(e)&&K.appendScript("https://storage.backtory.com/tapsell-server/postback/postback-console.js"),setTimeout(()=>Z.get(Z.apiUrl("/v1/events/session/10")),1e4)),this.advertiserData}async loadData(r){let e=r.map(async n=>{try{let i=await Z.get(`https://ma-cdn.pegah.tech/v1/retargeting/${n}/advertiser.json`);Z.getBaseApiUrl()||Z.setBaseApiUrl(i.system_api_url),console.log("Data loaded for advertiserId:",n),this.advertiserData[n]=i}catch(i){N.captureError(i,n)}});await Promise.all(e)}async informNewSession(r){let e=sessionStorage.getItem("ma-session:id");if(e){let n=window.location.href;try{await Z.postJson(Z.apiUrl("/v1/events/post-back"),{clickId:e,actionName:`session-${r}`,uri:n})}catch(i){N.captureError(i,{clickId:e,actionName:`session-${r}`,uri:n})}}}},Hl=new Gr,ke=Hl;var Dt=class t{static assignTagToUser(r){U.extendSession()==="new-session-needed"&&ke.informNewSession(U.incrementSessionNumber()).then().catch(s=>{N.captureError(s,{tag:r})});let n=sessionStorage.getItem("ma-session:id"),o=new URLSearchParams(window.location.search).get("utm_ma");if(n||o){let s=n??o,c=window.location.href;t.postPostBackEvent(s,r.id,c).catch(u=>{console.debug("Error posting post-back event:",u)})}let a=t.loadAttributeValues(r);Object.keys(a).length>0?t.sendTagEventWithAttribs(r,a,!!n).catch(s=>{console.error("Error sending tag event with attributes:",s)}):t.sendTagEventWithoutAttribs(r,!!n).catch(s=>{console.error("Error sending tag event without attributes:",s)})}static async postPostBackEvent(r,e,n){return new Promise((i,o)=>{U.executeCustomActionOnceInSession(`pb:${e}`,function(){Z.postJson(Z.apiUrl("/v1/events/post-back"),{clickId:r,tagId:e,uri:n}).then(()=>{i()}).catch(a=>{N.captureError(a,{tagId:e,pageUrl:n}),o(a)})})})}static async sendTagEventWithAttribs(r,e,n){return new Promise((i,o)=>{let a=`tag:${r.id}`;U.executeCustomActionInSession(a,function(){lt.withUserIdCallback(function(s){Z.postJson(Z.apiUrl(`/v1/events/tag?fid=${s}&c=${n}`),{tagId:r.id,av:e}).then(()=>{i()}).catch(c=>{N.captureError(c,{tag:r}),o(c)})})})})}static async sendTagEventWithoutAttribs(r,e){return new Promise((n,i)=>{let o=`tag:${r.id}`;U.executeCustomActionOnceInSession(o,function(){lt.withUserIdCallback(function(a){Z.postJson(Z.apiUrl(`/v1/events/tag?fid=${a}&c=${e}`),{tagId:r.id}).then(()=>{n()}).catch(s=>{N.captureError(s,{tag:r}),i(s)})})})})}static loadAttributeValues(r){let e={};return r.attribs&&r.attribs.forEach(n=>{e[n.name]=t.calculateAttributeValues(n)}),e}static calculateAttributeValues(r){let e,n={};try{e=JSON.parse(r.script),e&&e.forEach(i=>{n[i]=(n[i]||0)+1})}catch(i){N.captureError(i,{attribute:r})}return n}};var vi=class{constructor(r){this.advertiserData=r;this.triggerIntervalCounter={};this.timeouts=[];this.matcher=new Fn(window.location,document)}processPage(){Object.values(this.advertiserData).forEach(r=>{this.informPageLoaded(r),U.extendSession()==="new-session-needed"&&ke.informNewSession(U.incrementSessionNumber()).then().catch(n=>{N.captureError(n)}),r.tags.forEach(n=>{this.matcher.testMatcherAsync(r,n,i=>{i&&this.applyTriggerEvent(r,n)})})}),setInterval(()=>this.checkUrlChange(),1e3)}informPageLoaded(r){let e=this.findMatchingCrawlers(r),n=window.location.href;lt.withUserIdCallback(async i=>{let o=this.buildRequestData(n,e,i),a=await Z.postJson(Z.apiUrl("/v2/events/page/loaded"),o);if(!a)return;let s=this.buildContentPath(n,e,i,a),c=await this.createCompressedContent();await Z.post(Z.apiUrl(s),c,{"Content-Type":"application/octet-stream","Content-Encoding":"gzip"})})}findMatchingCrawlers(r){return(r.crawlers||[]).filter(e=>this.matcher.testMatcher(e))}async createCompressedContent(){try{let r=await new Promise((e,n)=>{let i=as(document.documentElement.outerHTML);i?e(i):n(new Error("Error creating compressed content."))});return console.log("Compressed Content created"),new Blob([r])}catch(r){return N.captureError(r),new Blob([])}}buildRequestData(r,e,n){let i={l:r};if(e.length>0&&(i.p=1,i.c=e.map(o=>o.crawler_id).join(",")),n){i.m=n;let o=U.loadItem("_yngt"),a=U.loadItem("sid");o&&(i.y=o),a&&(i.s=a)}return i}buildContentPath(r,e,n,i){let o=`/v2/events/page/content?t=${i}&l=${encodeURIComponent(r)}`;return e.length>0&&(o+=`&p=1&c=${e.map(a=>a.crawler_id).join(",")}`),n&&(o+=`&fid=${n}`),o}applyTriggerEvent(r,e){switch(e.trigger_type){case"showPage":this.handleShowPage(e);break;case"clickOnElement":this.handleClickOnElement(r,e);break;case"submitForm":this.handleSubmitForm(r,e);break;case"timeToStay":this.handleTimeToStay(e);break;case"customScript":this.handleCustomScript(e);break;default:console.error("Unknown trigger type:",e.trigger_type)}}handleShowPage(r){Dt.assignTagToUser(r)}handleClickOnElement(r,e){let n=e.css_selector;if(!n)return;e.id in this.triggerIntervalCounter||(this.triggerIntervalCounter[e.id]=0);let i=setInterval(()=>{this.triggerIntervalCounter[e.id]+=1;let o=Array.from(document.querySelectorAll(n));(o.length>0||this.triggerIntervalCounter[e.id]>=r.max_interval_reset)&&clearInterval(i),o.forEach(a=>{a.addEventListener("click",()=>{Dt.assignTagToUser(e)})})},1e3);this.timeouts.push(i)}handleSubmitForm(r,e){let n=e.css_selector;if(!n)return;e.id in this.triggerIntervalCounter||(this.triggerIntervalCounter[e.id]=0);let i=setInterval(()=>{this.triggerIntervalCounter[e.id]+=1;let o=Array.from(document.querySelectorAll(n));(o.length>0||this.triggerIntervalCounter[e.id]>=r.max_interval_reset)&&clearInterval(i),o.forEach(a=>{a.addEventListener("submit",()=>{Dt.assignTagToUser(e)})})},1e3);this.timeouts.push(i)}handleTimeToStay(r){let e=setTimeout(()=>{Dt.assignTagToUser(r)},r.time_to_remain*1e3);this.timeouts.push(e)}handleCustomScript(r){try{JSON.stringify(r.custom_script)&&Dt.assignTagToUser(r)}catch(e){N.captureError(e,{tag:r})}}refresh(){let r=this.timeouts.slice();if(this.timeouts.length=0,r.length===0)this.processPage();else{let e=0;r.forEach(n=>{clearTimeout(n),e+1===r.length&&this.processPage(),e+=1})}}checkUrlChange(){let r=K.getCurrentPath();r!==K.currentPath&&(K.currentPath=r,this.matcher.updateCurrentPath(),K.onDocumentReady(()=>{setTimeout(()=>this.refresh(),2e3)}))}},yi=vi;var qr=class{constructor(){this.initializeApp()}initializeApp(){let r=new Ze;window.mediaadRetargetingScriptLoaded||(window.mediaadRetargetingScriptLoaded=!0,r.initialize(),U.storeItem("ma-session:get","1"),U.deleteItem("ma-session:get"),K.onDocumentReady(async()=>{try{let e=await ke.initialize();new yi(e).processPage()}catch(e){N.captureError(e)}}))}};var iv=new qr;})();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
