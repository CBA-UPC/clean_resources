/*

 Copyright (C) 2017 by Marijn Haverbeke <marijnh@gmail.com> and others

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):(global=global||self,global.CodeMirror=factory())})(this,function(){function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}function removeChildren(e){var count=e.childNodes.length;for(;count>0;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}
function elt(tag,content,className,style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content=="string")e.appendChild(document.createTextNode(content));else if(content){var i=0;for(;i<content.length;++i)e.appendChild(content[i])}return e}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);e.setAttribute("role","presentation");return e}function contains(parent,child){if(child.nodeType==3)child=child.parentNode;
if(parent.contains)return parent.contains(child);do{if(child.nodeType==11)child=child.host;if(child==parent)return true}while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}for(;activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement;)activeElement=activeElement.shadowRoot.activeElement;return activeElement}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current))node.className+=
(current?" ":"")+cls}function joinClasses(a,b){var as=a.split(" ");var i=0;for(;i<as.length;i++)if(as[i]&&!classTest(as[i]).test(b))b=b+(" "+as[i]);return b}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target)target={};var prop;for(prop in obj)if(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop)))target[prop]=obj[prop];return target}function countColumn(string,end,
tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\s\u00a0]/);if(end==-1)end=string.length}var i=startIndex||0;var n=startValue||0;for(;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end)return n+(end-i);n=n+(nextTab-i);n=n+(tabSize-n%tabSize);i=nextTab+1}}function indexOf(array,elt){var i=0;for(;i<array.length;++i)if(array[i]==elt)return i;return-1}function findColumn(string,goal,tabSize){var pos=0;var col=0;for(;;){var nextTab=string.indexOf("\t",pos);if(nextTab==-1)nextTab=
string.length;var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);col=col+(nextTab-pos);col=col+(tabSize-col%tabSize);pos=nextTab+1;if(col>=goal)return pos}}function spaceStr(n){for(;spaceStrs.length<=n;)spaceStrs.push(lst(spaceStrs)+" ");return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){var out=[];var i=0;for(;i<array.length;i++)out[i]=f(array[i],i);return out}function insertSorted(array,value,score){var pos=
0;var priority=score(value);for(;pos<array.length&&score(array[pos])<=priority;)pos++;array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create)inst=Object.create(base);else{nothing.prototype=base;inst=new nothing}if(props)copyObj(props,inst);return inst}function isWordCharBasic(ch){return/\w/.test(ch)||ch>"\u0080"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper)return isWordCharBasic(ch);
if(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch))return true;return helper.test(ch)}function isEmpty(obj){var n;for(n in obj)if(obj.hasOwnProperty(n)&&obj[n])return false;return true}function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){for(;(dir<0?pos>0:pos<str.length)&&isExtendingChar(str.charAt(pos));)pos=pos+dir;return pos}function findFirst(pred,from,to){var dir=from>to?-1:1;for(;;){if(from==to)return from;var midF=
(from+to)/2;var mid=dir<0?Math.ceil(midF):Math.floor(midF);if(mid==from)return pred(mid)?from:to;if(pred(mid))to=mid;else from=mid+dir}}function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,"ltr",0);var found=false;var i=0;for(;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr",i);found=true}}if(!found)f(from,to,"ltr")}function getBidiPartAt(order,ch,sticky){var found;
bidiOther=null;var i=0;for(;i<order.length;++i){var cur=order[i];if(cur.from<ch&&cur.to>ch)return i;if(cur.to==ch)if(cur.from!=cur.to&&sticky=="before")found=i;else bidiOther=i;if(cur.from==ch)if(cur.from!=cur.to&&sticky!="before")found=i;else bidiOther=i}return found!=null?found:bidiOther}function getOrder(line,direction){var order=line.order;if(order==null)order=line.order=bidiOrdering(line.text,direction);return order}function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||
noHandlers}function off(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,false);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else{var map=emitter._handlers;var arr=map&&map[type];if(arr){var index=indexOf(arr,f);if(index>-1)map[type]=arr.slice(0,index).concat(arr.slice(index+1))}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(!handlers.length)return;var args=Array.prototype.slice.call(arguments,2);var i=0;for(;i<handlers.length;++i)handlers[i].apply(null,
args)}function signalDOMEvent(cm,e,override){if(typeof e=="string")e={type:e,preventDefault:function(){this.defaultPrevented=true}};signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr)return;var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);var i=0;for(;i<arr.length;++i)if(indexOf(set,arr[i])==-1)set.push(arr[i])}function hasHandler(emitter,type){return getHandlers(emitter,
type).length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false}function e_stopPropagation(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true}function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||
e.srcElement}function e_button(e){var b=e.which;if(b==null)if(e.button&1)b=1;else if(e.button&2)b=3;else if(e.button&4)b=2;if(mac&&e.ctrlKey&&b==1)b=3;return b}function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","\u200b");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0)zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8)}var node=zwspSupported?elt("span","\u200b"):elt("span","\u00a0",
null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}function hasBadBidiRects(measure){if(badBidiRects!=null)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062eA"));var r0=range(txt,0,1).getBoundingClientRect();var r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right)return false;return badBidiRects=r1.right-r0.right<3}function hasBadZoomedRects(measure){if(badZoomedRects!=
null)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt("span","x"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}function defineMode(name,mode){if(arguments.length>2)mode.dependencies=Array.prototype.slice.call(arguments,2);modes[name]=mode}function defineMIME(mime,spec){mimeModes[mime]=spec}function resolveMode(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec))spec=
mimeModes[spec];else if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string")found={name:found};spec=createObj(found,spec);spec.name=found.name}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec))return resolveMode("application/xml");else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec))return resolveMode("application/json");if(typeof spec=="string")return{name:spec};else return spec||{name:"null"}}
function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];var prop;for(prop in exts){if(!exts.hasOwnProperty(prop))continue;if(modeObj.hasOwnProperty(prop))modeObj["_"+prop]=modeObj[prop];modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType)modeObj.helperType=spec.helperType;if(spec.modeProps){var prop$1;
for(prop$1 in spec.modeProps)modeObj[prop$1]=spec.modeProps[prop$1]}return modeObj}function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(state===true)return state;if(mode.copyState)return mode.copyState(state);var nstate={};var n;for(n in state){var val=state[n];if(val instanceof Array)val=val.concat([]);nstate[n]=val}return nstate}function innerMode(mode,state){var info;
for(;mode.innerMode;){info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true}function getLine(doc,n){n=n-doc.first;if(n<0||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");var chunk=doc;for(;!chunk.lines;){var i=0;for(;;++i){var child=chunk.children[i];var sz=child.chunkSize();if(n<sz){chunk=child;break}n=n-sz}}return chunk.lines[n]}
function getBetween(doc,start,end){var out=[];var n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line)text=text.slice(0,end.ch);if(n==start.line)text=text.slice(start.ch);out.push(text);++n});return out}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff){var n=line;for(;n;n=n.parent)n.height+=diff}}function lineNo(line){if(line.parent==
null)return null;var cur=line.parent;var no=indexOf(cur.lines,line);var chunk=cur.parent;for(;chunk;cur=chunk,chunk=chunk.parent){var i=0;for(;;++i){if(chunk.children[i]==cur)break;no=no+chunk.children[i].chunkSize()}}return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{var i$1=0;for(;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1];var ch=child.height;if(h<ch){chunk=child;continue outer}h=h-ch;n=n+child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<
chunk.lines.length;++i){var line=chunk.lines[i];var lh=line.height;if(h<lh)break;h=h-lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function Pos(line,ch,sticky){if(sticky===void 0)sticky=null;if(!(this instanceof Pos))return new Pos(line,ch,sticky);this.line=line;this.ch=ch;this.sticky=sticky}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,
b){return a.sticky==b.sticky&&cmp(a,b)==0}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;if(pos.line>last)return Pos(last,getLine(doc,last).text.length);return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,
linelen){var ch=pos.ch;if(ch==null||ch>linelen)return Pos(pos.line,linelen);else if(ch<0)return Pos(pos.line,0);else return pos}function clipPosArray(doc,array){var out=[];var i=0;for(;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out}function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen];var lineClasses={};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);var state=context.state;var loop=function(o){context.baseTokens=
st;var overlay=cm.state.overlays[o];var i=1;var at=0;context.state=true;runMode(cm,line.text,overlay.mode,context,function(end,style){var start=i;for(;at<end;){var i_end=st[i];if(i_end>end)st.splice(i,1,end,st[i+1],i_end);i=i+2;at=Math.min(end,i_end)}if(!style)return;if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else for(;start<i;start=start+2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}},lineClasses);context.state=state;context.baseTokens=null;
context.baseTokenPos=1};var o=0;for(;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line));var resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state);var result=highlightLine(cm,line,context);if(resetState)context.state=resetState;line.stateAfter=
context.save(!resetState);line.styles=result.styles;if(result.classes)line.styleClasses=result.classes;else if(line.styleClasses)line.styleClasses=null;if(updateFrontier===cm.doc.highlightFrontier)cm.doc.modeFrontier=Math.max(cm.doc.modeFrontier,++cm.doc.highlightFrontier)}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc;var display=cm.display;if(!doc.mode.startState)return new Context(doc,true,n);var start=findStartLine(cm,n,precise);var saved=start>doc.first&&getLine(doc,
start-1).stateAfter;var context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo?context.save():null;context.nextLine()});if(precise)doc.modeFrontier=context.line;return context}function processLine(cm,text,context,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize,context);
stream.start=stream.pos=startAt||0;if(text=="")callBlankLine(mode,context.state);for(;!stream.eol();){readToken(mode,stream,context.state);stream.start=stream.pos}}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(!mode.innerMode)return;var inner=innerMode(mode,state);if(inner.mode.blankLine)return inner.mode.blankLine(inner.state)}function readToken(mode,stream,state,inner){var i=0;for(;i<10;i++){if(inner)inner[0]=innerMode(mode,state).mode;var style=mode.token(stream,
state);if(stream.pos>stream.start)return style}throw new Error("Mode "+mode.name+" failed to advance stream.");}function takeToken(cm,pos,precise,asArray){var doc=cm.doc;var mode=doc.mode;var style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line);var context=getContextBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize,context);var tokens;if(asArray)tokens=[];for(;(asArray||stream.pos<pos.ch)&&!stream.eol();){stream.start=stream.pos;style=readToken(mode,stream,
context.state);if(asArray)tokens.push(new Token(stream,style,copyState(doc.mode,context.state)))}return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(output[prop]==null)output[prop]=lineClass[2];else if(!(new RegExp("(?:^|\\s)"+
lineClass[2]+"(?:$|\\s)")).test(output[prop]))output[prop]+=" "+lineClass[2]}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null)flattenSpans=cm.options.flattenSpans;var curStart=0;var curStyle=null;var stream=new StringStream(text,cm.options.tabSize,context);var style;var inner=cm.options.addModeClass&&[null];if(text=="")extractLineClasses(callBlankLine(mode,context.state),lineClasses);for(;!stream.eol();){if(stream.pos>
cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd)processLine(cm,text,context,stream.pos);stream.pos=text.length;style=null}else style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses);if(inner){var mName=inner[0].name;if(mName)style="m-"+(style?mName+" "+style:mName)}if(!flattenSpans||curStyle!=style){for(;curStart<stream.start;){curStart=Math.min(stream.start,curStart+5E3);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}for(;curStart<stream.pos;){var pos=
Math.min(stream.pos,curStart+5E3);f(pos,curStyle);curStart=pos}}function findStartLine(cm,n,precise){var minindent;var minline;var doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1E3:100);var search=n;for(;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);var after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==
null||minindent>indented){minline=search-1;minindent=indented}}return minline}function retreatFrontier(doc,n){doc.modeFrontier=Math.min(doc.modeFrontier,n);if(doc.highlightFrontier<n-10)return;var start=doc.first;var line=n-1;for(;line>start;line--){var saved=getLine(doc,line).stateAfter;if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}}doc.highlightFrontier=Math.min(doc.highlightFrontier,start)}function seeReadOnlySpans(){sawReadOnlySpans=true}function seeCollapsedSpans(){sawCollapsedSpans=
true}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans){var i=0;for(;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span}}}function removeMarkedSpan(spans,span){var r;var i=0;for(;i<spans.length;++i)if(spans[i]!=span)(r||(r=[])).push(spans[i]);return r}function addMarkedSpan(line,span,op){var inThisOp=op&&window.WeakSet&&(op.markedSpans||(op.markedSpans=new WeakSet));if(inThisOp&&line.markedSpans&&
inThisOp.has(line.markedSpans))line.markedSpans.push(span);else{line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];if(inThisOp)inThisOp.add(line.markedSpans)}span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old){var i=0;for(;i<old.length;++i){var span=old[i];var marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||
!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){var i=0;for(;i<old.length;++i){var span=old[i];var marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=
span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh))}}}return nw}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch;var endCh=
change.to.ch;var isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1;var offset=lst(change.text).length+(sameLine?startCh:0);if(first){var i=0;for(;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found)span.to=startCh;else if(sameLine)span.to=found.to==null?null:found.to+offset}}}if(last){var i$1=0;for(;i$1<last.length;++i$1){var span$1=
last[i$1];if(span$1.to!=null)span$1.to+=offset;if(span$1.from==null){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine)(first||(first=[])).push(span$1)}}else{span$1.from+=offset;if(sameLine)(first||(first=[])).push(span$1)}}}if(first)first=clearEmptySpans(first);if(last&&last!=first)last=clearEmptySpans(last);var newMarkers=[first];if(!sameLine){var gap=change.text.length-2;var gapMarkers;if(gap>0&&first){var i$2=0;for(;i$2<first.length;++i$2)if(first[i$2].to==
null)(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null))}var i$3=0;for(;i$3<gap;++i$3)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){var i=0;for(;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false)spans.splice(i--,1)}if(!spans.length)return null;return spans}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans){var i=
0;for(;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1))(markers||(markers=[])).push(mark)}}});if(!markers)return null;var parts=[{from:from,to:to}];var i=0;for(;i<markers.length;++i){var mk=markers[i];var m=mk.find(0);var j=0;for(;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)continue;var newParts=[j,1];var dfrom=cmp(p.from,m.from);var dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom)newParts.push({from:p.from,
to:m.from});if(dto>0||!mk.inclusiveRight&&!dto)newParts.push({from:m.to,to:p.to});parts.splice.apply(parts,newParts);j=j+(newParts.length-3)}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans)return;var i=0;for(;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans)return;var i=0;for(;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?
-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0)return lenDiff;var aPos=a.find();var bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp)return toCmp;return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans;var found;if(sps){var sp=
void 0;var i=0;for(;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0))found=sp.marker}}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false)}function collapsedSpanAround(line,ch){var sps=sawCollapsedSpans&&line.markedSpans;var found;if(sps){var i=0;for(;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed&&(sp.from==
null||sp.from<ch)&&(sp.to==null||sp.to>ch)&&(!found||compareCollapsedMarkers(found,sp.marker)<0))found=sp.marker}}return found}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps){var i=0;for(;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed)continue;var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);
if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)continue;if(fromCmp<=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0))return true}}}function visualLine(line){var merged;for(;merged=collapsedSpanAtStart(line);)line=merged.find(-1,true).line;return line}function visualLineEnd(line){var merged;for(;merged=collapsedSpanAtEnd(line);)line=merged.find(1,true).line;
return line}function visualLineContinued(line){var merged;var lines;for(;merged=collapsedSpanAtEnd(line);){line=merged.find(1,true).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN);var vis=visualLine(line);if(line==vis)return lineN;return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var line=getLine(doc,lineN);var merged;if(!lineIsHidden(doc,line))return lineN;for(;merged=collapsedSpanAtEnd(line);)line=
merged.find(1,true).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){var sp=void 0;var i=0;for(;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed)continue;if(sp.from==null)return true;if(sp.marker.widgetNode)continue;if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return true}}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,
span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return true;var sp=void 0;var i=0;for(;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return true}}function heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0;var chunk=lineObj.parent;var i=0;for(;i<chunk.lines.length;++i){var line=
chunk.lines[i];if(line==lineObj)break;else h=h+line.height}var p=chunk.parent;for(;p;chunk=p,p=chunk.parent){var i$1=0;for(;i$1<p.children.length;++i$1){var cur=p.children[i$1];if(cur==chunk)break;else h=h+cur.height}}return h}function lineLength(line){if(line.height==0)return 0;var len=line.text.length;var merged;var cur=line;for(;merged=collapsedSpanAtStart(cur);){var found=merged.find(0,true);cur=found.from.line;len=len+(found.from.ch-found.to.ch)}cur=line;for(;merged=collapsedSpanAtEnd(cur);){var found$1=
merged.find(0,true);len=len-(cur.text.length-found$1.from.ch);cur=found$1.to.line;len=len+(cur.text.length-found$1.to.ch)}return len}function findMaxLine(cm){var d=cm.display;var doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter)line.stateAfter=
null;if(line.styles)line.styles=null;if(line.order!=null)line.order=null;detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height)updateLineHeight(line,estHeight)}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=
style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=eltP("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:false,splitSpaces:cm.getOption("lineWrapping")};lineView.measure={};var i=0;for(;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line;var order=void 0;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&
(order=getOrder(line,cm.doc.direction)))builder.addToken=buildTokenBadBidi(builder.addToken,order);builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass)builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"");if(line.styleClasses.textClass)builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}if(builder.map.length==
0)builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)));if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab"))builder.content.className="cm-tab-wrap-hack"}signal(cm,"renderLine",
cm,lineView.line,builder.pre);if(builder.pre.className)builder.textClass=joinClasses(builder.pre.className,builder.textClass||"");return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\u2022","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}function buildToken(builder,text,style,startStyle,endStyle,css,attributes){if(!text)return;var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):
text;var special=builder.cm.state.specialChars;var mustWrap=false;var content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9)mustWrap=true;builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;for(;true;){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,
pos+skipped));if(ie&&ie_version<9)content.appendChild(elt("span",[txt]));else content.appendChild(txt);builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m)break;pos=pos+(skipped+1);var txt$1=void 0;if(m[0]=="\t"){var tabSize=builder.cm.options.tabSize;var tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth}else if(m[0]==
"\r"||m[0]=="\n"){txt$1=content.appendChild(elt("span",m[0]=="\r"?"\u240d":"\u2424","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&ie_version<9)content.appendChild(elt("span",[txt$1]));else content.appendChild(txt$1);builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=displayText.charCodeAt(text.length-1)==32;if(style||startStyle||
endStyle||mustWrap||css||attributes){var fullStyle=style||"";if(startStyle)fullStyle=fullStyle+startStyle;if(endStyle)fullStyle=fullStyle+endStyle;var token=elt("span",[content],fullStyle,css);if(attributes){var attr;for(attr in attributes)if(attributes.hasOwnProperty(attr)&&attr!="style"&&attr!="class")if(attr==="title")token.setAttribute("title",attributes[attr]);else throw new Error("attributes not supported for security reasons");}return builder.content.appendChild(token)}builder.content.appendChild(content)}
function splitSpaces(text,trailingBefore){if(text.length>1&&!/  /.test(text))return text;var spaceBefore=trailingBefore;var result="";var i=0;for(;i<text.length;i++){var ch=text.charAt(i);if(ch==" "&&spaceBefore&&(i==text.length-1||text.charCodeAt(i+1)==32))ch="\u00a0";result=result+ch;spaceBefore=ch==" "}return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos;
var end=start+text.length;for(;;){var part=void 0;var i=0;for(;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start)break}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,css,attributes);inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget)builder.map.push(builder.pos,
builder.pos+size,widget);if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget)widget=builder.content.appendChild(document.createElement("span"));widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=false}function insertLineContent(line,builder,styles){var spans=line.markedSpans;var allText=line.text;var at=0;if(!spans){var i$1=1;for(;i$1<styles.length;i$1=
i$1+2)builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options));return}var len=allText.length;var pos=0;var i=1;var text="";var style;var css;var nextChange=0;var spanStyle;var spanEndStyle;var spanStartStyle;var collapsed;var attributes;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=css="";attributes=null;collapsed=null;nextChange=Infinity;var foundBookmarks=[];var endStyles=void 0;var j=0;for(;j<spans.length;++j){var sp=spans[j];
var m=sp.marker;if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode)foundBookmarks.push(m);else if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className)spanStyle=spanStyle+(" "+m.className);if(m.css)css=(css?css+";":"")+m.css;if(m.startStyle&&sp.from==pos)spanStartStyle=spanStartStyle+(" "+m.startStyle);if(m.endStyle&&sp.to==nextChange)(endStyles||(endStyles=[])).push(m.endStyle,sp.to);
if(m.title)(attributes||(attributes={})).title=m.title;if(m.attributes){var attr;for(attr in m.attributes)(attributes||(attributes={}))[attr]=m.attributes[attr]}if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0))collapsed=sp}else if(sp.from>pos&&nextChange>sp.from)nextChange=sp.from}if(endStyles){var j$1=0;for(;j$1<endStyles.length;j$1=j$1+2)if(endStyles[j$1+1]==nextChange)spanEndStyle=spanEndStyle+(" "+endStyles[j$1])}if(!collapsed||collapsed.from==pos){var j$2=0;for(;j$2<
foundBookmarks.length;++j$2)buildCollapsedSpan(builder,0,foundBookmarks[j$2])}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null)return;if(collapsed.to==pos)collapsed=false}}if(pos>=len)break;var upto=Math.min(len,nextChange);for(;true;){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+
spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",css,attributes)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,
from,to){var array=[];var nextPos;var pos=from;for(;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}function pushOperation(op){if(operationGroup)operationGroup.ops.push(op);else op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks;var i=0;do{for(;i<callbacks.length;i++)callbacks[i].call(null);var j=0;for(;j<group.ops.length;j++){var op=group.ops[j];
if(op.cursorActivityHandlers)for(;op.cursorActivityCalled<op.cursorActivityHandlers.length;)op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group)return;try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(!arr.length)return;var args=Array.prototype.slice.call(arguments,2);var list;if(operationGroup)list=
operationGroup.delayedCallbacks;else if(orphanDelayedCallbacks)list=orphanDelayedCallbacks;else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}var loop=function(i){list.push(function(){return arr[i].apply(null,args)})};var i=0;for(;i<arr.length;++i)loop(i)}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;var i=0;for(;i<delayed.length;++i)delayed[i]()}function updateLineForChanges(cm,lineView,lineN,dims){var j=0;for(;j<lineView.changes.length;j++){var type=
lineView.changes[j];if(type=="text")updateLineText(cm,lineView);else if(type=="gutter")updateLineGutter(cm,lineView,lineN,dims);else if(type=="class")updateLineClasses(cm,lineView);else if(type=="widget")updateLineWidgets(cm,lineView,dims)}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode)lineView.text.parentNode.replaceChild(lineView.node,lineView.text);lineView.node.appendChild(lineView.text);
if(ie&&ie_version<8)lineView.node.style.zIndex=2}return lineView.node}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls)cls=cls+" CodeMirror-linebackground";if(lineView.background)if(cls)lineView.background.className=cls;else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",
null,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node)lineView.node=built.pre;lineView.text.parentNode.replaceChild(built.pre,
lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(cm,lineView)}else if(cls)lineView.text.className=cls}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView);if(lineView.line.wrapClass)ensureLineWrapped(lineView).className=lineView.line.wrapClass;else if(lineView.node!=lineView.text)lineView.node.className="";var textClass=lineView.textClass?
lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+
lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");cm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+
"px");gutterWrap.setAttribute("aria-hidden","true");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass)gutterWrap.className+=" "+lineView.line.gutterClass;if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"]))lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+
"px"));if(markers){var k=0;for(;k<cm.display.gutterSpecs.length;++k){var id=cm.display.gutterSpecs[k].className;var found=markers.hasOwnProperty(id)&&markers[id];if(found)gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable)lineView.alignable=null;var isWidget=classTest("CodeMirror-linewidget");var node=lineView.node.firstChild;var next=void 0;for(;node;node=
next){next=node.nextSibling;if(isWidget.test(node.className))lineView.node.removeChild(node)}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass)lineView.bgClass=built.bgClass;if(built.textClass)lineView.textClass=built.textClass;updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}function insertLineWidgets(cm,
lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest){var i=0;for(;i<lineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false)}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets)return;var wrap=ensureLineWrapped(lineView);var i=0;var ws=line.widgets;for(;i<ws.length;++i){var widget=ws[i];var node=elt("div",[widget.node],"CodeMirror-linewidget"+(widget.className?" "+widget.className:""));if(!widget.handleMouseEvents)node.setAttribute("cm-ignore-events",
"true");positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above)wrap.insertBefore(node,lineView.gutter||lineView.text);else wrap.appendChild(node);signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width=width-dims.gutterTotalWidth;node.style.paddingLeft=
dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll)node.style.marginLeft=-dims.gutterTotalWidth+"px"}}function widgetHeight(widget){if(widget.height!=null)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter)parentStyle=parentStyle+("margin-left: -"+cm.display.gutters.offsetWidth+"px;");if(widget.noHScroll)parentStyle=
parentStyle+("width: "+cm.display.wrapper.clientWidth+"px;");removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){var n=e_target(e);for(;n!=display.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==display.sizer&&n!=display.mover)return true}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-
display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x","CodeMirror-line-like"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right))display.cachedPaddingH=data;return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-
scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();var i=0;for(;i<rects.length-1;i++){var cur=
rects[i];var next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2)heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};if(lineView.rest){var i=0;for(;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};var i$1=0;for(;i$1<lineView.rest.length;i$1++)if(lineNo(lineView.rest[i$1])>
lineN)return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:true}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),
ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size)return ext}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text)view=null;else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true}if(!view)view=updateExternalMeasurement(cm,
line);var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before)ch=-1;var key=ch+(bias||"");var found;if(prepared.cache.hasOwnProperty(key))found=prepared.cache[key];else{if(!prepared.rect)prepared.rect=prepared.view.text.getBoundingClientRect();if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=
true}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus)prepared.cache[key]=found}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}function nodeAndOffsetInLineMap(map,ch,bias){var node;var start;var end;var collapse;var mStart;var mEnd;var i=0;for(;i<map.length;i=i+3){mStart=map[i];mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==map.length-3||ch==mEnd&&
map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd)collapse="right"}if(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right"))collapse=bias;if(bias=="left"&&start==0)for(;i&&map[i-2]==map[i-3]&&map[i-1].insertLeft;){node=map[(i=i-3)+2];collapse="left"}if(bias=="right"&&start==mEnd-mStart)for(;i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft;){node=map[(i=i+3)+2];collapse="right"}break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}
function getUsefulRect(rects,bias){var rect=nullRect;if(bias=="left"){var i=0;for(;i<rects.length;i++)if((rect=rects[i]).left!=rect.right)break}else{var i$1=rects.length-1;for(;i$1>=0;i$1--)if((rect=rects[i$1]).left!=rect.right)break}return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node;var start=place.start;var end=place.end;var collapse=place.collapse;var rect;if(node.nodeType==3){var i$1=0;for(;i$1<4;i$1++){for(;start&&
isExtendingChar(prepared.line.text.charAt(place.coverStart+start));)--start;for(;place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end));)++end;if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart)rect=node.parentNode.getBoundingClientRect();else rect=getUsefulRect(range(node,start,end).getClientRects(),bias);if(rect.left||rect.right||start==0)break;end=start;start=start-1;collapse="right"}if(ie&&ie_version<11)rect=maybeUpdateRectForZooming(cm.display.measure,
rect)}else{if(start>0)collapse=bias="right";var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1)rect=rects[bias=="right"?rects.length-1:0];else rect=node.getBoundingClientRect()}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan)rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};else rect=nullRect}var rtop=rect.top-prepared.rect.top;var rbot=rect.bottom-prepared.rect.top;
var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;var i=0;for(;i<heights.length-1;i++)if(mid<heights[i])break;var top=i?heights[i-1]:0;var bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right)result.bogus=true;if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}function maybeUpdateRectForZooming(measure,
rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){var i=0;for(;i<lineView.rest.length;i++)lineView.measure.caches[i]=
{}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);var i=0;for(;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping)cm.display.maxLineChanged=true;cm.display.lineNumChars=null}function pageScrollX(){if(chrome&&android)return-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft));return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){if(chrome&&android)return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop));return window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var ref=visualLine(lineObj);var widgets=ref.widgets;var height=0;if(widgets){var i=0;for(;i<widgets.length;++i)if(widgets[i].above)height=
height+widgetHeight(widgets[i])}return height}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height;rect.bottom+=height}if(context=="line")return rect;if(!context)context="local";var yOff=heightAtLine(lineObj);if(context=="local")yOff=yOff+paddingTop(cm.display);else yOff=yOff-cm.display.viewOffset;if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff=yOff+(lOff.top+(context==
"window"?0:pageScrollY()));var xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if(context=="div")return coords;var left=coords.left;var top=coords.top;if(context=="page"){left=left-pageScrollX();top=top-pageScrollY()}else if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left=left+localBox.left;top=top+localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();
return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj)lineObj=getLine(cm.doc,pos.line);return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right)m.left=m.right;else m.right=m.left;return intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,
partPos,invert){var part=order[partPos];var right=part.level==1;return get(invert?ch-1:ch,right!=invert)}lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);var order=getOrder(lineObj,cm.doc.direction);var ch=pos.ch;var sticky=pos.sticky;if(ch>=lineObj.text.length){ch=lineObj.text.length;sticky="before"}else if(ch<=0){ch=0;sticky="after"}if(!order)return get(sticky=="before"?ch-1:ch,sticky=="before");var partPos=getBidiPartAt(order,ch,sticky);
var other=bidiOther;var val=getBidi(ch,partPos,sticky=="before");if(other!=null)val.other=getBidi(ch,other,sticky!="before");return val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping)left=charWidth(cm.display)*pos.ch;var lineObj=getLine(cm.doc,pos.line);var top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);pos.xRel=
xRel;if(outside)pos.outside=outside;return pos}function coordsChar(cm,x,y){var doc=cm.doc;y=y+cm.display.viewOffset;if(y<0)return PosWithInfo(doc.first,0,null,-1,-1);var lineN=lineAtHeight(doc,y);var last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,1,1);if(x<0)x=0;var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var collapsed=collapsedSpanAround(lineObj,found.ch+(found.xRel>0||found.outside>0?1:
0));if(!collapsed)return found;var rangeEnd=collapsed.find(1);if(rangeEnd.line==lineN)return rangeEnd;lineObj=getLine(doc,lineN=rangeEnd.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y=y-widgetTopHeight(lineObj);var end=lineObj.text.length;var begin=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y},end,0);end=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y},begin,end);return{begin:begin,end:end}}function wrappedLineExtentChar(cm,
lineObj,preparedMeasure,target){if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop)}function boxIsAfter(box,x,y,left){return box.bottom<=y?false:box.top>y?true:(left?box.left:box.right)>x}function coordsCharInner(cm,lineObj,lineNo,x,y){y=y-heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj);var widgetHeight=
widgetTopHeight(lineObj);var begin=0;var end=lineObj.text.length;var ltr=true;var order=getOrder(lineObj,cm.doc.direction);if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo,preparedMeasure,order,x,y);ltr=part.level!=1;begin=ltr?part.from:part.to-1;end=ltr?part.to:part.from-1}var chAround=null;var boxAround=null;var ch=findFirst(function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);box.top+=widgetHeight;box.bottom+=widgetHeight;if(!boxIsAfter(box,
x,y,false))return false;if(box.top<=y&&box.left<=x){chAround=ch;boxAround=box}return true},begin,end);var baseX;var sticky;var outside=false;if(boxAround){var atLeft=x-boxAround.left<boxAround.right-x;var atStart=atLeft==ltr;ch=chAround+(atStart?0:1);sticky=atStart?"after":"before";baseX=atLeft?boxAround.left:boxAround.right}else{if(!ltr&&(ch==end||ch==begin))ch++;sticky=ch==0?"after":ch==lineObj.text.length?"before":measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight<=y==ltr?
"after":"before";var coords=cursorCoords(cm,Pos(lineNo,ch,sticky),"line",lineObj,preparedMeasure);baseX=coords.left;outside=y<coords.top?-1:y>=coords.bottom?1:0}ch=skipExtendingChars(lineObj.text,ch,1);return PosWithInfo(lineNo,ch,sticky,outside,x-baseX)}function coordsBidiPart(cm,lineObj,lineNo,preparedMeasure,order,x,y){var index=findFirst(function(i){var part=order[i];var ltr=part.level!=1;return boxIsAfter(cursorCoords(cm,Pos(lineNo,ltr?part.to:part.from,ltr?"before":"after"),"line",lineObj,preparedMeasure),
x,y,true)},0,order.length-1);var part=order[index];if(index>0){var ltr=part.level!=1;var start=cursorCoords(cm,Pos(lineNo,ltr?part.from:part.to,ltr?"after":"before"),"line",lineObj,preparedMeasure);if(boxIsAfter(start,x,y,true)&&start.top>y)part=order[index-1]}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y);var begin=ref.begin;var end=ref.end;if(/\s/.test(lineObj.text.charAt(end-1)))end--;var part=null;
var closestDist=null;var i=0;for(;i<order.length;i++){var p=order[i];if(p.from>=end||p.to<=begin)continue;var ltr=p.level!=1;var endX=measureCharPrepared(cm,preparedMeasure,ltr?Math.min(end,p.to)-1:Math.max(begin,p.from)).right;var dist=endX<x?x-endX+1E9:endX-x;if(!part||closestDist>dist){part=p;closestDist=dist}}if(!part)part=order[order.length-1];if(part.from<begin)part={from:begin,to:part.to,level:part.level};if(part.to>end)part={from:part.from,to:end,level:part.level};return part}function textHeight(display){if(display.cachedTextHeight!=
null)return display.cachedTextHeight;if(measureText==null){measureText=elt("pre",null,"CodeMirror-line-like");var i=0;for(;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3)display.cachedTextHeight=height;removeChildren(display.measure);return height||1}function charWidth(display){if(display.cachedCharWidth!=
null)return display.cachedCharWidth;var anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor],"CodeMirror-line-like");removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect();var width=(rect.right-rect.left)/10;if(width>2)display.cachedCharWidth=width;return width||10}function getDimensions(cm){var d=cm.display;var left={};var width={};var gutterLeft=d.gutters.clientLeft;var n=d.gutters.firstChild;var i=0;for(;n;n=n.nextSibling,++i){var id=cm.display.gutterSpecs[i].className;
left[id]=n.offsetLeft+n.clientLeft+gutterLeft;width[id]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display);var wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/
charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets){var i=0;for(;i<line.widgets.length;i++)if(line.widgets[i].height)widgetsHeight=widgetsHeight+line.widgets[i].height}if(wrapping)return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th;else return widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc;var est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height)updateLineHeight(line,
estHeight)})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute("cm-not-content")=="true")return null;var x;var y;var space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e$1){return null}var coords=coordsChar(cm,x,y);var line;if(forRect&&coords.xRel>0&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,
Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;n=n-cm.display.viewFrom;if(n<0)return null;var view=cm.display.view;var i=0;for(;i<view.length;i++){n=n-view[i].size;if(n<0)return i}}function regChange(cm,from,to,lendiff){if(from==null)from=cm.doc.first;if(to==null)to=cm.doc.first+cm.doc.size;if(!lendiff)lendiff=0;var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==
null||display.updateLineNumbers>from))display.updateLineNumbers=from;cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo)resetView(cm)}else if(to<=display.viewFrom)if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom)resetView(cm);else{display.viewFrom+=lendiff;display.viewTo+=lendiff}else if(from<=display.viewFrom&&to>=display.viewTo)resetView(cm);else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,
1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else resetView(cm)}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else resetView(cm)}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,
cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else resetView(cm)}var ext=display.externalMeasured;if(ext)if(to<ext.lineN)ext.lineN+=lendiff;else if(from<ext.lineN+ext.size)display.externalMeasured=null}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display;var ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size)display.externalMeasured=null;if(line<display.viewFrom||line>=display.viewTo)return;var lineView=
display.view[findViewIndex(cm,line)];if(lineView.node==null)return;var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1)arr.push(type)}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN);var diff;var view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};var n=cm.display.viewFrom;var i=0;
for(;i<index;i++)n=n+view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN;index++}else diff=n-oldN;oldN=oldN+diff;newN=newN+diff}for(;visualLineNo(cm.doc,newN)!=newN;){if(index==(dir<0?0:view.length-1))return null;newN=newN+dir*view[index-(dir<0?1:0)].size;index=index+dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display;var view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=
buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from)display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);else if(display.viewFrom<from)display.view=display.view.slice(findViewIndex(cm,from));display.viewFrom=from;if(display.viewTo<to)display.view=display.view.concat(buildViewArray(cm,display.viewTo,to));else if(display.viewTo>to)display.view=display.view.slice(0,findViewIndex(cm,to))}display.viewTo=to}function countDirtyView(cm){var view=cm.display.view;
var dirty=0;var i=0;for(;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes))++dirty}return dirty}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){if(primary===void 0)primary=true;var doc=cm.doc;var result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();var customCursor=cm.options.$customCursor;
if(customCursor)primary=true;var i=0;for(;i<doc.sel.ranges.length;i++){if(!primary&&i==doc.sel.primIndex)continue;var range=doc.sel.ranges[i];if(range.from().line>=cm.display.viewTo||range.to().line<cm.display.viewFrom)continue;var collapsed=range.empty();if(customCursor){var head=customCursor(cm,range);if(head)drawSelectionCursor(cm,head,curFragment)}else if(collapsed||cm.options.showCursorWhenSelecting)drawSelectionCursor(cm,range.head,curFragment);if(!collapsed)drawSelectionRange(cm,range,selFragment)}return result}
function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt("div","\u00a0","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(/\bcm-fat-cursor\b/.test(cm.getWrapperElement().className)){var charPos=charCoords(cm,head,"div",null,null);var width=charPos.right-charPos.left;cursor.style.width=
(width>0?width:cm.defaultCharWidth())+"px"}if(pos.other){var otherCursor=output.appendChild(elt("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px"}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(cm,range,output){function add(left,top,width,bottom){if(top<0)top=0;top=Math.round(top);
bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos);var prop=dir=="ltr"==
(side=="after")?"left":"right";var ch=side=="after"?extent.begin:extent.end-(/\s/.test(lineObj.text.charAt(extent.end-1))?2:1);return coords(ch,prop)[prop]}var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start;var end;var order=getOrder(lineObj,doc.direction);iterateBidiSections(order,fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir,i){var ltr=dir=="ltr";var fromPos=coords(from,ltr?"left":"right");var toPos=coords(to-1,ltr?"right":"left");var openStart=fromArg==null&&from==
0;var openEnd=toArg==null&&to==lineLen;var first=i==0;var last=!order||i==order.length-1;if(toPos.top-fromPos.top<=3){var openLeft=(docLTR?openStart:openEnd)&&first;var openRight=(docLTR?openEnd:openStart)&&last;var left=openLeft?leftSide:(ltr?fromPos:toPos).left;var right=openRight?rightSide:(ltr?toPos:fromPos).right;add(left,fromPos.top,right-left,fromPos.bottom)}else{var topLeft;var topRight;var botLeft;var botRight;if(ltr){topLeft=docLTR&&openStart&&first?leftSide:fromPos.left;topRight=docLTR?
rightSide:wrapX(from,dir,"before");botLeft=docLTR?leftSide:wrapX(to,dir,"after");botRight=docLTR&&openEnd&&last?rightSide:toPos.right}else{topLeft=!docLTR?leftSide:wrapX(from,dir,"before");topRight=!docLTR&&openStart&&first?rightSide:fromPos.right;botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left;botRight=!docLTR?rightSide:wrapX(to,dir,"after")}add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom);if(fromPos.bottom<toPos.top)add(leftSide,fromPos.bottom,null,toPos.top);add(botLeft,toPos.top,botRight-
botLeft,toPos.bottom)}if(!start||cmpCoords(fromPos,start)<0)start=fromPos;if(cmpCoords(toPos,start)<0)start=toPos;if(!end||cmpCoords(fromPos,end)<0)end=fromPos;if(cmpCoords(toPos,end)<0)end=toPos});return{start:start,end:end}}var display=cm.display;var doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display);var leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;var docLTR=doc.direction=="ltr";
var sFrom=range.from();var sTo=range.to();if(sFrom.line==sTo.line)drawForLine(sFrom.line,sFrom.ch,sTo.ch);else{var fromLine=getLine(doc,sFrom.line);var toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine)if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,
rightStart.top,rightStart.left,rightStart.bottom)}else add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom);if(leftEnd.bottom<rightStart.top)add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused)return;var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0)display.blinker=setInterval(function(){if(!cm.hasFocus())onBlur(cm);display.cursorDiv.style.visibility=
(on=!on)?"":"hidden"},cm.options.cursorBlinkRate);else if(cm.options.cursorBlinkRate<0)display.cursorDiv.style.visibility="hidden"}function ensureFocus(cm){if(!cm.hasFocus()){cm.display.input.focus();if(!cm.state.focused)onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=true;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;if(cm.state.focused)onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent&&!cm.state.draggingText)cm.state.delayingBlurEvent=
false;if(cm.options.readOnly=="nocursor")return;if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=true;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit)setTimeout(function(){return cm.display.input.reset(true)},20)}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent)return;if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=false;rmClass(cm.display.wrapper,
"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused)cm.display.shift=false},150)}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;var viewTop=Math.max(0,display.scroller.getBoundingClientRect().top);var oldHeight=display.lineDiv.getBoundingClientRect().top;var mustScroll=0;var i=0;for(;i<display.view.length;i++){var cur=display.view[i];var wrapping=cm.options.lineWrapping;var height=void 0;var width=
0;if(cur.hidden)continue;oldHeight=oldHeight+cur.line.height;if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;if(!wrapping&&cur.text.firstChild)width=cur.text.firstChild.getBoundingClientRect().right-box.left-1}var diff=cur.line.height-height;if(diff>.005||diff<-.005){if(oldHeight<viewTop)mustScroll=mustScroll-diff;updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);
if(cur.rest){var j=0;for(;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j])}}if(width>cm.display.sizerWidth){var chWidth=Math.ceil(width/charWidth(cm.display));if(chWidth>cm.display.maxLineLength){cm.display.maxLineLength=chWidth;cm.display.maxLine=cur.line;cm.display.maxLineChanged=true}}}if(Math.abs(mustScroll)>2)display.scroller.scrollTop+=mustScroll}function updateWidgetHeight(line){if(line.widgets){var i=0;for(;i<line.widgets.length;++i){var w=line.widgets[i];var parent=w.node.parentNode;
if(parent)w.height=parent.offsetHeight}}}function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=lineAtHeight(doc,top);var to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line;var ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=
ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else if(Math.min(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}return{from:from,to:Math.max(to,from+1)}}function maybeScrollWindow(cm,rect){if(signalDOMEvent(cm,"scrollCursorIntoView"))return;var display=cm.display;var box=display.sizer.getBoundingClientRect();var doScroll=null;if(rect.top+box.top<0)doScroll=true;else if(rect.bottom+
box.top>(window.innerHeight||document.documentElement.clientHeight))doScroll=false;if(doScroll!=null&&!phantom){var scrollNode=elt("div","\u200b",null,"position: absolute;\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+Math.max(2,rect.right-rect.left)+"px;");cm.display.lineSpace.appendChild(scrollNode);
scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null)margin=0;var rect;if(!cm.options.lineWrapping&&pos==end){end=pos.sticky=="before"?Pos(pos.line,pos.ch+1,"before"):pos;pos=pos.ch?Pos(pos.line,pos.sticky=="before"?pos.ch-1:pos.ch,"after"):pos}var limit=0;for(;limit<5;limit++){var changed=false;var coords=cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:cursorCoords(cm,end);rect={left:Math.min(coords.left,
endCoords.left),top:Math.min(coords.top,endCoords.top)-margin,right:Math.max(coords.left,endCoords.left),bottom:Math.max(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect);var startTop=cm.doc.scrollTop;var startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){updateScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1)changed=true}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1)changed=
true}if(!changed)break}return rect}function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);if(scrollPos.scrollTop!=null)updateScrollTop(cm,scrollPos.scrollTop);if(scrollPos.scrollLeft!=null)setScrollLeft(cm,scrollPos.scrollLeft)}function calculateScrollPos(cm,rect){var display=cm.display;var snapMargin=textHeight(cm.display);if(rect.top<0)rect.top=0;var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm);var result=
{};if(rect.bottom-rect.top>screen)rect.bottom=rect.top+screen;var docBottom=cm.doc.height+paddingVert(display);var atTop=rect.top<snapMargin;var atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop)result.scrollTop=atTop?0:rect.top;else if(rect.bottom>screentop+screen){var newTop=Math.min(rect.top,(atBottom?docBottom:rect.bottom)-screen);if(newTop!=screentop)result.scrollTop=newTop}var gutterSpace=cm.options.fixedGutter?0:display.gutters.offsetWidth;var screenleft=cm.curOp&&cm.curOp.scrollLeft!=
null?cm.curOp.scrollLeft:display.scroller.scrollLeft-gutterSpace;var screenw=displayWidth(cm)-display.gutters.offsetWidth;var tooWide=rect.right-rect.left>screenw;if(tooWide)rect.right=rect.left+screenw;if(rect.left<10)result.scrollLeft=0;else if(rect.left<screenleft)result.scrollLeft=Math.max(0,rect.left+gutterSpace-(tooWide?0:10));else if(rect.right>screenw+screenleft-3)result.scrollLeft=rect.right+(tooWide?0:10)-screenw;return result}function addToScrollTop(cm,top){if(top==null)return;resolveScrollToPos(cm);
cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){if(x!=null||y!=null)resolveScrollToPos(cm);if(x!=null)cm.curOp.scrollLeft=x;if(y!=null)cm.curOp.scrollTop=y}function scrollToRange(cm,range){resolveScrollToPos(cm);cm.curOp.scrollToPos=range}function resolveScrollToPos(cm){var range=
cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from);var to=estimateCoords(cm,range.to);scrollToCoordsRange(cm,from,to,range.margin)}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:Math.min(from.left,to.left),top:Math.min(from.top,to.top)-margin,right:Math.max(from.right,to.right),bottom:Math.max(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop)}function updateScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-
val)<2)return;if(!gecko)updateDisplaySimple(cm,{top:val});setScrollTop(cm,val,true);if(gecko)updateDisplaySimple(cm);startWorker(cm,100)}function setScrollTop(cm,val,forceScroll){val=Math.max(0,Math.min(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val));if(cm.display.scroller.scrollTop==val&&!forceScroll)return;cm.doc.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(cm.display.scroller.scrollTop!=val)cm.display.scroller.scrollTop=val}function setScrollLeft(cm,val,isScroller,
forceScroll){val=Math.max(0,Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth));if((isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)&&!forceScroll)return;cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val)cm.display.scroller.scrollLeft=val;cm.display.scrollbars.setScrollLeft(val)}function measureForScrollbars(cm){var d=cm.display;var gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));
return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function updateScrollbars(cm,measure){if(!measure)measure=measureForScrollbars(cm);var startWidth=cm.display.barWidth;var startHeight=cm.display.barHeight;updateScrollbarsInner(cm,
measure);var i=0;for(;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping)updateHeightsInViewport(cm);updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+
"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else d.scrollbarFiller.style.display="";if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else d.gutterFiller.style.display=
""}function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass)rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,"mousedown",function(){if(cm.state.focused)setTimeout(function(){return cm.display.input.focus()},0)});node.setAttribute("cm-not-content","true")},function(pos,axis){if(axis==
"horizontal")setScrollLeft(cm,pos);else updateScrollTop(cm,pos)},cm);if(cm.display.scrollbars.addClass)addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}function startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:0,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++nextOpId,markArrays:null};pushOperation(cm.curOp)}
function endOperation(cm){var op=cm.curOp;if(op)finishOperation(op,function(group){var i=0;for(;i<group.ops.length;i++)group.ops[i].cm.curOp=null;endOperations(group)})}function endOperations(group){var ops=group.ops;var i=0;for(;i<ops.length;i++)endOperation_R1(ops[i]);var i$1=0;for(;i$1<ops.length;i$1++)endOperation_W1(ops[i$1]);var i$2=0;for(;i$2<ops.length;i$2++)endOperation_R2(ops[i$2]);var i$3=0;for(;i$3<ops.length;i$3++)endOperation_W2(ops[i$3]);var i$4=0;for(;i$4<ops.length;i$4++)endOperation_finish(ops[i$4])}
function endOperation_R1(op){var cm=op.cm;var display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine)findMaxLine(cm);op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=
op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm;var display=cm.display;if(op.updatedDisplay)updateHeightsInViewport(cm);op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+
cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged)op.preparedSelection=display.input.prepareSelection()}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft)setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true);cm.display.maxLineChanged=false}var takeFocus=op.focus&&
op.focus==activeElt();if(op.preparedSelection)cm.display.input.showSelection(op.preparedSelection,takeFocus);if(op.updatedDisplay||op.startHeight!=cm.doc.height)updateScrollbars(cm,op.barMeasure);if(op.updatedDisplay)setDocumentHeight(cm,op.barMeasure);if(op.selectionChanged)restartBlink(cm);if(cm.state.focused&&op.updateInput)cm.display.input.reset(op.typing);if(takeFocus)ensureFocus(op.cm)}function endOperation_finish(op){var cm=op.cm;var display=cm.display;var doc=cm.doc;if(op.updatedDisplay)postUpdateDisplay(cm,
op.update);if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos))display.wheelStartX=display.wheelStartY=null;if(op.scrollTop!=null)setScrollTop(cm,op.scrollTop,op.forceScroll);if(op.scrollLeft!=null)setScrollLeft(cm,op.scrollLeft,true,true);if(op.scrollToPos){var rect=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);maybeScrollWindow(cm,rect)}var hidden=op.maybeHiddenMarkers;var unhidden=op.maybeUnhiddenMarkers;
if(hidden){var i=0;for(;i<hidden.length;++i)if(!hidden[i].lines.length)signal(hidden[i],"hide")}if(unhidden){var i$1=0;for(;i$1<unhidden.length;++i$1)if(unhidden[i$1].lines.length)signal(unhidden[i$1],"unhide")}if(display.wrapper.offsetHeight)doc.scrollTop=cm.display.scroller.scrollTop;if(op.changeObjs)signal(cm,"changes",cm,op.changeObjs);if(op.update)op.update.finish()}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,
f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function startWorker(cm,
time){if(cm.doc.highlightFrontier<cm.display.viewTo)cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(doc.highlightFrontier>=cm.display.viewTo)return;var end=+new Date+cm.options.workTime;var context=getContextBefore(cm,doc.highlightFrontier);var changedLines=[];doc.iter(context.line,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles;var resetState=line.text.length>cm.options.maxHighlightLength?
copyState(doc.mode,context.state):null;var highlighted=highlightLine(cm,line,context,true);if(resetState)context.state=resetState;line.styles=highlighted.styles;var oldCls=line.styleClasses;var newCls=highlighted.classes;if(newCls)line.styleClasses=newCls;else if(oldCls)line.styleClasses=null;var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);var i=0;for(;!ischange&&i<oldStyles.length;++i)ischange=
oldStyles[i]!=line.styles[i];if(ischange)changedLines.push(context.line);line.stateAfter=context.save();context.nextLine()}else{if(line.text.length<=cm.options.maxHighlightLength)processLine(cm,line.text,context);line.stateAfter=context.line%5==0?context.save():null;context.nextLine()}if(+new Date>end){startWorker(cm,cm.options.workDelay);return true}});doc.highlightFrontier=context.line;doc.modeFrontier=Math.max(doc.modeFrontier,context.line);if(changedLines.length)runInOp(cm,function(){var i=0;
for(;i<changedLines.length;i++)regLineChange(cm,changedLines[i],"text")})}function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=true}}function selectionSnapshot(cm){if(cm.hasFocus())return null;
var active=activeElt();if(!active||!contains(cm.display.lineDiv,active))return null;var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();if(sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)){result.anchorNode=sel.anchorNode;result.anchorOffset=sel.anchorOffset;result.focusNode=sel.focusNode;result.focusOffset=sel.focusOffset}}return result}function restoreSelection(snapshot){if(!snapshot||!snapshot.activeElt||snapshot.activeElt==activeElt())return;
snapshot.activeElt.focus();if(!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName)&&snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode)){var sel=window.getSelection();var range=document.createRange();range.setEnd(snapshot.anchorNode,snapshot.anchorOffset);range.collapse(false);sel.removeAllRanges();sel.addRange(range);sel.extend(snapshot.focusNode,snapshot.focusOffset)}}function updateDisplayIfNeeded(cm,update){var display=cm.display;var doc=
cm.doc;if(update.editorIsHidden){resetView(cm);return false}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0)return false;if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,
update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20)from=Math.max(doc.first,display.viewFrom);if(display.viewTo>to&&display.viewTo-to<20)to=Math.min(end,display.viewTo);if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,
display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo))return false;var selSnapshot=selectionSnapshot(cm);if(toUpdate>4)display.lineDiv.style.display="none";patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4)display.lineDiv.style.display="";display.renderedView=display.view;restoreSelection(selSnapshot);
removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return true}function postUpdateDisplay(cm,update){var viewport=update.viewport;var first=true;for(;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&viewport.top!=
null)viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)};update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)break}else if(first)update.visible=visibleLines(cm.display,cm.doc,viewport);if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);
update.force=false}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=
measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node)node.style.display="none";else node.parentNode.removeChild(node);return next}var display=cm.display;var lineNumbers=cm.options.lineNumbers;var container=display.lineDiv;var cur=container.firstChild;var view=display.view;var lineN=
display.viewFrom;var i=0;for(;i<view.length;i++){var lineView=view[i];if(lineView.hidden);else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{for(;cur!=lineView.node;)cur=rm(cur);var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1)updateNumber=false;updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);
lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN=lineN+lineView.size}for(;cur;)cur=rm(cur)}function updateGutterSpace(display){var width=display.gutters.offsetWidth;display.sizer.style.marginLeft=width+"px";signalLater(display,"gutterChanged",display)}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=
measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}function alignHorizontally(cm){var display=cm.display;var view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter))return;var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth;var left=comp+"px";var i=0;for(;i<view.length;i++)if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter)view[i].gutter.style.left=left;if(view[i].gutterBackground)view[i].gutterBackground.style.left=
left}var align=view[i].alignable;if(align){var j=0;for(;j<align.length;j++)align[j].style.left=left}}if(cm.options.fixedGutter)display.gutters.style.left=comp+gutterW+"px"}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return false;var doc=cm.doc;var last=lineNumberFor(cm.options,doc.first+doc.size-1);var display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var innerW=
test.firstChild.offsetWidth;var padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm.display);return true}return false}function getGutters(gutters,lineNumbers){var result=[];var sawLineNumbers=false;var i=0;for(;i<
gutters.length;i++){var name=gutters[i];var style=null;if(typeof name!="string"){style=name.style;name=name.className}if(name=="CodeMirror-linenumbers")if(!lineNumbers)continue;else sawLineNumbers=true;result.push({className:name,style:style})}if(lineNumbers&&!sawLineNumbers)result.push({className:"CodeMirror-linenumbers",style:null});return result}function renderGutters(display){var gutters=display.gutters;var specs=display.gutterSpecs;removeChildren(gutters);display.lineGutter=null;var i=0;for(;i<
specs.length;++i){var ref=specs[i];var className=ref.className;var style=ref.style;var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+className));if(style)gElt.style.cssText=style;if(className=="CodeMirror-linenumbers"){display.lineGutter=gElt;gElt.style.width=(display.lineNumWidth||1)+"px"}}gutters.style.display=specs.length?"":"none";updateGutterSpace(display)}function updateGutters(cm){renderGutters(cm.display);regChange(cm);alignHorizontally(cm)}function Display(place,doc,input,
options){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=eltP("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",
null,"CodeMirror-measure");d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");d.mover=elt("div",[lines],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=
elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");d.wrapper.setAttribute("translate","no");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile))d.scroller.draggable=true;if(place)if(place.appendChild)place.appendChild(d.wrapper);else place(d.wrapper);d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=
doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=
null;d.gutterSpecs=getGutters(options.gutters,options.lineNumbers);renderGutters(d);input.init(d)}function wheelEventDelta(e){var dx=e.wheelDeltaX;var dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS)dx=e.detail;if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS)dy=e.detail;else if(dy==null)dy=e.wheelDelta;return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){if(chrome&&
chrome_version==102){if(cm.display.chromeScrollHack==null)cm.display.sizer.style.pointerEvents="none";else clearTimeout(cm.display.chromeScrollHack);cm.display.chromeScrollHack=setTimeout(function(){cm.display.chromeScrollHack=null;cm.display.sizer.style.pointerEvents=""},100)}var delta=wheelEventDelta(e);var dx=delta.x;var dy=delta.y;var pixelsPerUnit=wheelPixelsPerUnit;if(e.deltaMode===0){dx=e.deltaX;dy=e.deltaY;pixelsPerUnit=1}var display=cm.display;var scroll=display.scroller;var canScrollX=scroll.scrollWidth>
scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY))return;if(dy&&mac&&webkit){var cur=e.target;var view=display.view;outer:for(;cur!=scroll;cur=cur.parentNode){var i=0;for(;i<view.length;i++)if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}if(dx&&!gecko&&!presto&&pixelsPerUnit!=null){if(dy&&canScrollY)updateScrollTop(cm,Math.max(0,scroll.scrollTop+dy*pixelsPerUnit));setScrollLeft(cm,Math.max(0,scroll.scrollLeft+dx*pixelsPerUnit));
if(!dy||dy&&canScrollY)e_preventDefault(e);display.wheelStartX=null;return}if(dy&&pixelsPerUnit!=null){var pixels=dy*pixelsPerUnit;var top=cm.doc.scrollTop;var bot=top+display.wrapper.clientHeight;if(pixels<0)top=Math.max(0,top+pixels-50);else bot=Math.min(cm.doc.height,bot+pixels+50);updateDisplaySimple(cm,{top:top,bottom:bot})}if(wheelSamples<20&&e.deltaMode!==0)if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=
dy;setTimeout(function(){if(display.wheelStartX==null)return;var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample)return;wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}function normalizeSelection(cm,
ranges,primIndex){var mayTouch=cm&&cm.options.selectionsMayTouch;var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);var i=1;for(;i<ranges.length;i++){var cur=ranges[i];var prev=ranges[i-1];var diff=cmp(prev.to(),cur.from());if(mayTouch&&!cur.empty()?diff>0:diff>=0){var from=minPos(prev.from(),cur.from());var to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex)--primIndex;ranges.splice(--i,
2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){if(!change.text)return change.to;return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0))}function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-
(change.to.line-change.from.line)-1;var ch=pos.ch;if(pos.line==change.to.line)ch=ch+(changeEnd(change).ch-change.to.ch);return Pos(line,ch)}function computeSelAfterChange(doc,change){var out=[];var i=0;for(;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(doc.cm,out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line)return Pos(nw.line,pos.ch-old.ch+nw.ch);
else return Pos(nw.line+(pos.line-old.line),pos.ch)}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0);var newPrev=oldPrev;var i=0;for(;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i];var inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else out[i]=new Range(from,from)}return new Selection(out,
doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null});cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp)regChange(cm)}function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}
function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,"change",line,change)}function linesFor(start,end){var result=[];var i=start;for(;i<end;++i)result.push(new Line(text[i],spansFor(i),estimateHeight));return result}var from=change.from;var to=change.to;var text=change.text;var firstLine=getLine(doc,from.line);var lastLine=getLine(doc,to.line);
var lastText=lst(text);var lastSpans=spansFor(text.length-1);var nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines)doc.remove(from.line,nlines);if(added.length)doc.insert(from.line,added)}else if(firstLine==lastLine)if(text.length==1)update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),
lastSpans);else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),
lastSpans);var added$2=linesFor(1,text.length-1);if(nlines>1)doc.remove(from.line+1,nlines-1);doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){var i=0;for(;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip)continue;var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared)continue;f(rel.doc,shared);propagate(rel.doc,doc,shared)}}}propagate(doc,null,true)}function attachDoc(cm,
doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);cm.options.direction=doc.direction;if(!cm.options.lineWrapping)findMaxLine(cm);cm.options.mode=doc.modeOption;regChange(cm)}function setDirectionClass(cm){(cm.doc.direction=="rtl"?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl")}function directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm);regChange(cm)})}function History(prev){this.done=
[];this.undone=[];this.undoDepth=prev?prev.undoDepth:Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=prev?prev.maxGeneration:1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,
histChange,change.from.line,change.to.line+1)},true);return histChange}function clearSelectionEvents(array){for(;array.length;){var last=lst(array);if(last.ranges)array.pop();else break}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges)return lst(hist.done);else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}function addChangeToHistory(doc,change,
selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date;var cur;var last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)=="+"&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500)||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0)last.to=changeEnd(change);else cur.changes.push(historyChangeFromChange(doc,
change))}else{var before=lst(hist.done);if(!before||!before.ranges)pushSelectionToHistory(doc.sel,hist.done);cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);for(;hist.done.length>hist.undoDepth;){hist.done.shift();if(!hist.done[0].ranges)hist.done.shift()}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last)signal(doc,
"historyAdded")}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history;var origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==
origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel)))hist.done[hist.done.length-1]=sel;else pushSelectionToHistory(sel,hist.done);hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false)clearSelectionEvents(hist.undone)}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel)))dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id];var n=0;doc.iter(Math.max(doc.first,
from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans)(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans;++n})}function removeClearedSpans(spans){if(!spans)return null;var out;var i=0;for(;i<spans.length;++i)if(spans[i].marker.explicitlyCleared){if(!out)out=spans.slice(0,i)}else if(out)out.push(spans[i]);return!out?spans:out.length?out:null}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found)return null;var nw=[];var i=0;for(;i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));
return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;var i=0;for(;i<old.length;++i){var oldCur=old[i];var stretchCur=stretched[i];if(oldCur&&stretchCur){var j=0;spans:for(;j<stretchCur.length;++j){var span=stretchCur[j];var k=0;for(;k<oldCur.length;++k)if(oldCur[k].marker==span.marker)continue spans;oldCur.push(span)}}else if(stretchCur)old[i]=stretchCur}return old}function copyHistoryArray(events,
newGroup,instantiateSel){var copy=[];var i=0;for(;i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes;var newChanges=[];copy.push({changes:newChanges});var j=0;for(;j<changes.length;++j){var change=changes[j];var m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){var prop;for(prop in change)if(m=prop.match(/^spans_(\d+)$/))if(indexOf(newGroup,Number(m[1]))>
-1){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}return copy}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other}else if(posBefore!=cmp(head,other)<0)head=other}return new Range(anchor,head)}else return new Range(other||head,head)}function extendSelection(doc,head,other,options,extend){if(extend==null)extend=doc.cm&&(doc.cm.display.shift||doc.extend);setSelection(doc,
new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){var out=[];var extend=doc.cm&&(doc.cm.display.shift||doc.extend);var i=0;for(;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend);var newSel=normalizeSelection(doc.cm,out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(doc.cm,
ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];var i=0;for(;i<ranges.length;i++)this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeSelectionChange",doc.cm,
obj);if(obj.ranges!=sel.ranges)return normalizeSelection(doc.cm,obj.ranges,obj.ranges.length-1);else return sel}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done;var last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,
sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))sel=filterSelectionChange(doc,sel,options);var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm&&doc.cm.getOption("readOnly")!="nocursor")ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){if(sel.equals(doc.sel))return;doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=
1;doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false))}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;var i=0;for(;i<sel.ranges.length;i++){var range=sel.ranges[i];var old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear);var newHead=range.head==range.anchor?
newAnchor:skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out)out=sel.ranges.slice(0,i);out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){var i=0;for(;i<line.markedSpans.length;++i){var sp=line.markedSpans[i];var m=sp.marker;var preventCursorLeft="selectLeft"in m?!m.selectLeft:m.inclusiveLeft;
var preventCursorRight="selectRight"in m?!m.selectRight:m.inclusiveRight;if((sp.from==null||(preventCursorLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(sp.to==null||(preventCursorRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared)if(!line.markedSpans)break;else{--i;continue}}if(!m.atomic)continue;if(oldPos){var near=m.find(dir<0?1:-1);var diff=void 0;if(dir<0?preventCursorRight:preventCursorLeft)near=movePos(doc,near,-dir,near&&near.line==pos.line?line:
null);if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0))return skipAtomicInner(doc,near,pos,dir,mayClear)}var far=m.find(dir<0?-1:1);if(dir<0?preventCursorLeft:preventCursorRight)far=movePos(doc,far,dir,far.line==pos.line?line:null);return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;var found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,true)||
skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,true);if(!found){doc.cantEdit=true;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(dir<0&&pos.ch==0)if(pos.line>doc.first)return clipPos(doc,Pos(pos.line-1));else return null;else if(dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length)if(pos.line<doc.first+doc.size-1)return Pos(pos.line+1,0);else return null;else return new Pos(pos.line,pos.ch+dir)}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),
0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=true}};if(update)obj.update=function(from,to,text,origin){if(from)obj.from=clipPos(doc,from);if(to)obj.to=clipPos(doc,to);if(text)obj.text=text;if(origin!==undefined)obj.origin=origin};signal(doc,"beforeChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeChange",doc.cm,obj);if(obj.canceled){if(doc.cm)doc.cm.curOp.updateInput=
2;return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,true);if(!change)return}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){var i=split.length-
1;for(;i>=0;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text,origin:change.origin})}else makeChangeInner(doc,change)}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0)return;var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,
sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(suppress&&!allowSelectionOnly)return;var hist=doc.history;var event;var selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone;var dest=type=="undo"?hist.undone:hist.done;var i=0;for(;i<source.length;i++){event=
source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges)break}if(i==source.length)return;hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return}selAfter=event}else if(suppress){source.push(event);return}else break}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});
hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");var loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm)doc.cm.scrollIntoView({from:change.from,
to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})};var i$1=event.changes.length-1;for(;i$1>=0;--i$1){var returned=loop(i$1);if(returned)return returned.v}}function shiftDoc(doc,distance){if(distance==0)return;doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+
distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);var d=doc.cm.display;var l=d.viewFrom;for(;l<d.viewTo;l++)regLineChange(doc.cm,l,"gutter")}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));
return}if(change.from.line>doc.lastLine())return;if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last)change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin};change.removed=getBetween(doc,change.from,change.to);if(!selAfter)selAfter=
computeSelAfterChange(doc,change);if(doc.cm)makeChangeSingleDocInEditor(doc.cm,change,spans);else updateDoc(doc,change,spans);setSelectionNoUndo(doc,selAfter,sel_dontScroll);if(doc.cantEdit&&skipAtomic(doc,Pos(doc.firstLine(),0)))doc.cantEdit=false}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc;var display=cm.display;var from=change.from;var to=change.to;var recomputeMaxLength=false;var checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,
from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true}})}if(doc.sel.contains(change.from,change.to)>-1)signalCursorActivity(cm);updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false}});
if(recomputeMaxLength)cm.curOp.updateMaxLine=true}retreatFrontier(doc,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full)regChange(cm);else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change))regLineChange(cm,from.line,"text");else regChange(cm,from.line,to.line+1,lendiff);var changesHandler=hasHandler(cm,"changes");var changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,
removed:change.removed,origin:change.origin};if(changeHandler)signalLater(cm,"change",cm,obj);if(changesHandler)(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){var assign;if(!to)to=from;if(cmp(to,from)<0)assign=[to,from],from=assign[0],to=assign[1];if(typeof code=="string")code=doc.splitLines(code);makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){if(to<
pos.line)pos.line+=diff;else if(from<pos.line){pos.line=from;pos.ch=0}}function rebaseHistArray(array,from,to,diff){var i=0;for(;i<array.length;++i){var sub=array[i];var ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true}var j=0;for(;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}var j$1=0;for(;j$1<sub.changes.length;++j$1){var cur=sub.changes[j$1];if(to<cur.from.line){cur.from=
Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=false;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line;var to=change.to.line;var diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle;var line=handle;if(typeof handle=="number")line=getLine(doc,clipLine(doc,handle));else no=
lineNo(handle);if(no==null)return null;if(op(line,no)&&doc.cm)regLineChange(doc.cm,no,changeType);return line}function LeafChunk(lines){this.lines=lines;this.parent=null;var height=0;var i=0;for(;i<lines.length;++i){lines[i].parent=this;height=height+lines[i].height}this.height=height}function BranchChunk(children){this.children=children;var size=0;var height=0;var i=0;for(;i<children.length;++i){var ch=children[i];size=size+ch.chunkSize();height=height+ch.height;ch.parent=this}this.size=size;this.height=
height;this.parent=null}function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop))addToScrollTop(cm,diff)}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll)cm.display.alignWidgets=true;changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null)widgets.push(widget);else widgets.splice(Math.min(widgets.length,
Math.max(0,widget.insertAt)),0,widget);widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible)addToScrollTop(cm,widget.height);cm.curOp.forceUpdate=true}return true});if(cm)signalLater(cm,"lineWidgetAdded",cm,widget,typeof handle=="number"?handle:lineNo(handle));return widget}function markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,
type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type);var diff=cmp(from,to);if(options)copyObj(options,marker,false);if(diff>0||diff==0&&marker.clearWhenEmpty!==false)return marker;if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents)marker.widgetNode.setAttribute("cm-ignore-events","true");if(options.insertLeft)marker.widgetNode.insertLeft=
true}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");seeCollapsedSpans()}if(marker.addToHistory)addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var curLine=from.line;var cm=doc.cm;var updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&
visualLine(line)==cm.display.maxLine)updateMaxLine=true;if(marker.collapsed&&curLine!=from.line)updateLineHeight(line,0);addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null),doc.cm&&doc.cm.curOp);++curLine});if(marker.collapsed)doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line))updateLineHeight(line,0)});if(marker.clearOnEnter)on(marker,"beforeCursorEnter",function(){return marker.clear()});if(marker.readOnly){seeReadOnlySpans();
if(doc.history.done.length||doc.history.undone.length)doc.clearHistory()}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true}if(cm){if(updateMaxLine)cm.curOp.updateMaxLine=true;if(marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title){var i=from.line;for(;i<=to.line;i++)regLineChange(cm,i,"text")}if(marker.atomic)reCheckSelection(cm.doc);signalLater(cm,"markerAdded",cm,marker)}return marker}
function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[markText(doc,from,to,options,type)];var primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget)options.widgetNode=widget.cloneNode(true);markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));var i=0;for(;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,
0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){var i=0;for(;i<markers.length;i++){var marker=markers[i];var pos=marker.find();var mFrom=doc.clipPos(pos.from);var mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){var loop=function(i){var marker=markers[i];var linked=[marker.primary.doc];
linkedDocs(marker.primary.doc,function(d){return linked.push(d)});var j=0;for(;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1)}}};var i=0;for(;i<markers.length;i++)loop(i)}function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);if(ie)lastDrop=+new Date;var pos=posFromMouse(cm,e,true);var files=e.dataTransfer.files;if(!pos||
cm.isReadOnly())return;if(files&&files.length&&window.FileReader&&window.File){var n=files.length;var text=Array(n);var read=0;var markAsReadAndPasteIfAllFilesAreRead=function(){if(++read==n)operation(cm,function(){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.filter(function(t){return t!=null}).join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(clipPos(cm.doc,pos),clipPos(cm.doc,changeEnd(change))))})()};
var readTextFromFile=function(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1){markAsReadAndPasteIfAllFilesAreRead();return}var reader=new FileReader;reader.onerror=function(){return markAsReadAndPasteIfAllFilesAreRead()};reader.onload=function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){markAsReadAndPasteIfAllFilesAreRead();return}text[i]=content;markAsReadAndPasteIfAllFilesAreRead()};reader.readAsText(file)};var i=0;for(;i<
files.length;i++)readTextFromFile(files[i],i)}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy)selected=cm.listSelections();setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){var i$1=0;for(;i$1<selected.length;++i$1)replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,
"drag")}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e$1){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto)img.parentNode.removeChild(img)}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos)return;var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,
frag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}function forEachCodeMirror(f){if(!document.getElementsByClassName)return;var byClass=document.getElementsByClassName("CodeMirror");var editors=[];var i=0;for(;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm)editors.push(cm)}if(editors.length)editors[0].operation(function(){var i=0;for(;i<editors.length;i++)f(editors[i])})}function ensureGlobalHandlers(){if(globalsRegistered)return;
registerGlobalHandlers();globalsRegistered=true}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(resizeTimer==null)resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)});on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize()}function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=
parts[parts.length-1];var alt;var ctrl;var shift;var cmd;var i=0;for(;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=true;else if(/^a(lt)?$/i.test(mod))alt=true;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=true;else if(/^s(hift)?$/i.test(mod))shift=true;else throw new Error("Unrecognized modifier name: "+mod);}if(alt)name="Alt-"+name;if(ctrl)name="Ctrl-"+name;if(cmd)name="Cmd-"+name;if(shift)name="Shift-"+name;return name}function normalizeKeyMap(keymap){var copy={};var keyname;
for(keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if(value=="..."){delete keymap[keyname];continue}var keys=map(keyname.split(" "),normalizeKeyName);var i=0;for(;i<keys.length;i++){var val=void 0;var name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev)copy[name]=val;else if(prev!=val)throw new Error("Inconsistent bindings for "+
name);}delete keymap[keyname]}var prop;for(prop in copy)keymap[prop]=copy[prop];return keymap}function lookupKey(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===false)return"nothing";if(found==="...")return"multi";if(found!=null&&handle(found))return"handled";if(map.fallthrough){if(Object.prototype.toString.call(map.fallthrough)!="[object Array]")return lookupKey(key,map.fallthrough,handle,context);var i=0;for(;i<map.fallthrough.length;i++){var result=
lookupKey(key,map.fallthrough[i],handle,context);if(result)return result}}}function isModifierKey(value){var name=typeof value=="string"?value:keyNames[value.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod"}function addModifierNames(name,event,noShift){var base=name;if(event.altKey&&base!="Alt")name="Alt-"+name;if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!="Ctrl")name="Ctrl-"+name;if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!="Mod")name="Cmd-"+name;if(!noShift&&event.shiftKey&&
base!="Shift")name="Shift-"+name;return name}function keyName(event,noShift){if(presto&&event.keyCode==34&&event["char"])return false;var name=keyNames[event.keyCode];if(name==null||event.altGraphKey)return false;if(event.keyCode==3&&event.code)name=event.code;return addModifierNames(name,event,noShift)}function getKeyMap(val){return typeof val=="string"?keyMap[val]:val}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges;var kill=[];var i=0;for(;i<ranges.length;i++){var toKill=compute(ranges[i]);
for(;kill.length&&cmp(toKill.from,lst(kill).to)<=0;){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){var i=kill.length-1;for(;i>=0;i--)replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");ensureCursorVisible(cm)})}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return target<0||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,
start.ch,dir);return ch==null?null:new Pos(start.line,ch,dir<0?"after":"before")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){if(cm.doc.direction=="rtl")dir=-dir;var order=getOrder(lineObj,cm.doc.direction);if(order){var part=dir<0?lst(order):order[0];var moveInStorageOrder=dir<0==(part.level==1);var sticky=moveInStorageOrder?"after":"before";var ch;if(part.level>0||cm.doc.direction=="rtl"){var prep=prepareMeasureForLine(cm,lineObj);ch=dir<0?lineObj.text.length-1:0;var targetTop=
measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop},dir<0==(part.level==1)?part.from:part.to-1,ch);if(sticky=="before")ch=moveCharLogically(lineObj,ch,1)}else ch=dir<0?part.to:part.from;return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,dir<0?lineObj.text.length:0,dir<0?"before":"after")}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi)return moveLogically(line,start,dir);if(start.ch>=line.text.length){start.ch=
line.text.length;start.sticky="before"}else if(start.ch<=0){start.ch=0;start.sticky="after"}var partPos=getBidiPartAt(bidi,start.ch,start.sticky);var part=bidi[partPos];if(cm.doc.direction=="ltr"&&part.level%2==0&&(dir>0?part.to>start.ch:part.from<start.ch))return moveLogically(line,start,dir);var mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)};var prep;var getWrappedLineExtent=function(ch){if(!cm.options.lineWrapping)return{begin:0,end:line.text.length};prep=
prep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,prep,ch)};var wrappedLineExtent=getWrappedLineExtent(start.sticky=="before"?mv(start,-1):start.ch);if(cm.doc.direction=="rtl"||part.level==1){var moveInStorageOrder=part.level==1==dir<0;var ch=mv(start,moveInStorageOrder?1:-1);if(ch!=null&&(!moveInStorageOrder?ch>=part.from&&ch>=wrappedLineExtent.begin:ch<=part.to&&ch<=wrappedLineExtent.end)){var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky)}}var searchInVisualLine=
function(partPos,dir,wrappedLineExtent){var getRes=function(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after")};for(;partPos>=0&&partPos<bidi.length;partPos=partPos+dir){var part=bidi[partPos];var moveInStorageOrder=dir>0==(part.level!=1);var ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to)return getRes(ch,moveInStorageOrder);ch=moveInStorageOrder?part.from:mv(part.to,-1);if(wrappedLineExtent.begin<=
ch&&ch<wrappedLineExtent.end)return getRes(ch,moveInStorageOrder)}};var res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res)return res;var nextCh=dir>0?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);if(nextCh!=null&&!(dir>0&&nextCh==line.text.length)){res=searchInVisualLine(dir>0?0:bidi.length-1,dir,getWrappedLineExtent(nextCh));if(res)return res}return null}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line)lineN=lineNo(visual);
return endOfLine(true,cm,visual,lineN,1)}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLineEnd(line);if(visual!=line)lineN=lineNo(visual);return endOfLine(true,cm,line,lineN,-1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line,cm.doc.direction);if(!order||order[0].level==0){var firstNonWS=Math.max(start.ch,line.text.search(/\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,
inWS?0:firstNonWS,start.sticky)}return start}function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound)return false}cm.display.input.ensurePolled();var prevShift=cm.display.shift;var done=false;try{if(cm.isReadOnly())cm.state.suppressEdits=true;if(dropShift)cm.display.shift=false;done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false}return done}function lookupKeyForEditor(cm,name,handle){var i=0;for(;i<cm.state.keyMaps.length;i++){var result=
lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return"handled";if(/'$/.test(name))cm.state.keySeq=null;else stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}});if(dispatchKeyInner(cm,seq+" "+name,e,handle))return true}return dispatchKeyInner(cm,
name,e,handle)}function dispatchKeyInner(cm,name,e,handle){var result=lookupKeyForEditor(cm,name,handle);if(result=="multi")cm.state.keySeq=name;if(result=="handled")signalLater(cm,"keyHandled",cm,name,e);if(result=="handled"||result=="multi"){e_preventDefault(e);restartBlink(cm)}return!!result}function handleKeyBinding(cm,e){var name=keyName(e,true);if(!name)return false;if(e.shiftKey&&!cm.state.keySeq)return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,true)})||dispatchKey(cm,
name,e,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)});else return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,true)})}function onKeyDown(e){var cm=this;if(e.target&&e.target!=cm.display.input.getField())return;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e))return;if(ie&&ie_version<11&&e.keyCode==27)e.returnValue=false;
var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey))cm.replaceSelection("",null,"cut")}if(gecko&&!mac&&!handled&&code==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand)document.execCommand("cut");if(code==18&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))showCrossHair(cm)}function showCrossHair(cm){function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,
"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(e.keyCode==16)this.doc.sel.shift=false;signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(e.target&&e.target!=cm.display.input.getField())return;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)return;var keyCode=e.keyCode;
var charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if(presto&&(!e.which||e.which<10)&&handleKeyBinding(cm,e))return;var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(ch=="\b")return;if(handleCharBinding(cm,e,ch))return;cm.display.input.onKeyPress(e)}function clickRepeat(pos,button){var now=+new Date;if(lastDoubleClick&&lastDoubleClick.compare(now,pos,button)){lastClick=lastDoubleClick=null;return"triple"}else if(lastClick&&lastClick.compare(now,
pos,button)){lastDoubleClick=new PastClick(now,pos,button);lastClick=null;return"double"}else{lastClick=new PastClick(now,pos,button);lastDoubleClick=null;return"single"}}function onMouseDown(e){var cm=this;var display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch())return;display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){return display.scroller.draggable=true},
100)}return}if(clickInGutter(cm,e))return;var pos=posFromMouse(cm,e);var button=e_button(e);var repeat=pos?clickRepeat(pos,button):"single";window.focus();if(button==1&&cm.state.selectingText)cm.state.selectingText(e);if(pos&&handleMappedButton(cm,button,pos,repeat,e))return;if(button==1)if(pos)leftButtonDown(cm,pos,repeat,e);else{if(e_target(e)==display.scroller)e_preventDefault(e)}else if(button==2){if(pos)extendSelection(cm.doc,pos);setTimeout(function(){return display.input.focus()},20)}else if(button==
3)if(captureRightClick)cm.display.input.onContextMenu(e);else delayBlurEvent(cm)}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";if(repeat=="double")name="Double"+name;else if(repeat=="triple")name="Triple"+name;name=(button==1?"Left":button==2?"Middle":"Right")+name;return dispatchKey(cm,addModifierNames(name,event),event,function(bound){if(typeof bound=="string")bound=commands[bound];if(!bound)return false;var done=false;try{if(cm.isReadOnly())cm.state.suppressEdits=true;
done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=false}return done})}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse");var value=option?option(cm,repeat,event):{};if(value.unit==null){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":repeat=="single"?"char":repeat=="double"?"word":"line"}if(value.extend==null||cm.doc.extend)value.extend=cm.doc.extend||event.shiftKey;if(value.addNew==null)value.addNew=mac?event.metaKey:
event.ctrlKey;if(value.moveOnDrag==null)value.moveOnDrag=!(mac?event.altKey:event.ctrlKey);return value}function leftButtonDown(cm,pos,repeat,event){if(ie)setTimeout(bind(ensureFocus,cm),0);else cm.curOp.focus=activeElt();var behavior=configureMouse(cm,repeat,event);var sel=cm.doc.sel;var contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&repeat=="single"&&(contained=sel.contains(pos))>-1&&(cmp((contained=sel.ranges[contained]).from(),pos)<0||pos.xRel>0)&&(cmp(contained.to(),pos)>0||
pos.xRel<0))leftButtonStartDrag(cm,event,pos,behavior);else leftButtonSelect(cm,event,pos,behavior)}function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display;var moved=false;var dragEnd=operation(cm,function(e){if(webkit)display.scroller.draggable=false;cm.state.draggingText=false;if(cm.state.delayingBlurEvent)if(cm.hasFocus())cm.state.delayingBlurEvent=false;else delayBlurEvent(cm);off(display.wrapper.ownerDocument,"mouseup",dragEnd);off(display.wrapper.ownerDocument,"mousemove",
mouseMove);off(display.scroller,"dragstart",dragStart);off(display.scroller,"drop",dragEnd);if(!moved){e_preventDefault(e);if(!behavior.addNew)extendSelection(cm.doc,pos,null,null,behavior.extend);if(webkit&&!safari||ie&&ie_version==9)setTimeout(function(){display.wrapper.ownerDocument.body.focus({preventScroll:true});display.input.focus()},20);else display.input.focus()}});var mouseMove=function(e2){moved=moved||Math.abs(event.clientX-e2.clientX)+Math.abs(event.clientY-e2.clientY)>=10};var dragStart=
function(){return moved=true};if(webkit)display.scroller.draggable=true;cm.state.draggingText=dragEnd;dragEnd.copy=!behavior.moveOnDrag;on(display.wrapper.ownerDocument,"mouseup",dragEnd);on(display.wrapper.ownerDocument,"mousemove",mouseMove);on(display.scroller,"dragstart",dragStart);on(display.scroller,"drop",dragEnd);cm.state.delayingBlurEvent=true;setTimeout(function(){return display.input.focus()},20);if(display.scroller.dragDrop)display.scroller.dragDrop()}function rangeForUnit(cm,pos,unit){if(unit==
"char")return new Range(pos,pos);if(unit=="word")return cm.findWordAt(pos);if(unit=="line")return new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));var result=unit(cm,pos);return new Range(result.from,result.to)}function leftButtonSelect(cm,event,start,behavior){function extendTo(pos){if(cmp(lastPos,pos)==0)return;lastPos=pos;if(behavior.unit=="rectangle"){var ranges=[];var tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,
pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol);var right=Math.max(startCol,posCol);var line=Math.min(start.line,pos.line);var end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));for(;line<=end;line++){var text=getLine(doc,line).text;var leftPos=findColumn(text,left,tabSize);if(left==right)ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));else if(text.length>leftPos)ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}if(!ranges.length)ranges.push(new Range(start,
start));setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});cm.scrollIntoView(pos)}else{var oldRange=ourRange;var range=rangeForUnit(cm,pos,behavior.unit);var anchor=oldRange.anchor;var head;if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor)}else{head=range.anchor;anchor=maxPos(oldRange.to(),range.head)}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=bidiSimplify(cm,new Range(clipPos(doc,
anchor),head));setSelection(doc,normalizeSelection(cm,ranges$1,ourIndex),sel_mouse)}}function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,behavior.unit=="rectangle");if(!cur)return;if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from)setTimeout(operation(cm,function(){if(counter==curCount)extend(e)}),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:
0;if(outside)setTimeout(operation(cm,function(){if(counter!=curCount)return;display.scroller.scrollTop+=outside;extend(e)}),50)}}function done(e){cm.state.selectingText=false;counter=Infinity;if(e){e_preventDefault(e);display.input.focus()}off(display.wrapper.ownerDocument,"mousemove",move);off(display.wrapper.ownerDocument,"mouseup",up);doc.history.lastSelOrigin=null}if(ie)delayBlurEvent(cm);var display=cm.display;var doc=cm.doc;e_preventDefault(event);var ourRange;var ourIndex;var startSel=doc.sel;
var ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend){ourIndex=doc.sel.contains(start);if(ourIndex>-1)ourRange=ranges[ourIndex];else ourRange=new Range(start,start)}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex}if(behavior.unit=="rectangle"){if(!behavior.addNew)ourRange=new Range(start,start);start=posFromMouse(cm,event,true,true);ourIndex=-1}else{var range=rangeForUnit(cm,start,behavior.unit);if(behavior.extend)ourRange=extendRange(ourRange,range.anchor,range.head,behavior.extend);
else ourRange=range}if(!behavior.addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(cm,ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"})}else if(ranges.length>1&&ranges[ourIndex].empty()&&behavior.unit=="char"&&!behavior.extend){setSelection(doc,normalizeSelection(cm,ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:"*mouse"});
startSel=doc.sel}else replaceOneSelection(doc,ourIndex,ourRange,sel_mouse);var lastPos=start;var editorSize=display.wrapper.getBoundingClientRect();var counter=0;var move=operation(cm,function(e){if(e.buttons===0||!e_button(e))done(e);else extend(e)});var up=operation(cm,done);cm.state.selectingText=up;on(display.wrapper.ownerDocument,"mousemove",move);on(display.wrapper.ownerDocument,"mouseup",up)}function bidiSimplify(cm,range){var anchor=range.anchor;var head=range.head;var anchorLine=getLine(cm.doc,
anchor.line);if(cmp(anchor,head)==0&&anchor.sticky==head.sticky)return range;var order=getOrder(anchorLine);if(!order)return range;var index=getBidiPartAt(order,anchor.ch,anchor.sticky);var part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch)return range;var boundary=index+(part.from==anchor.ch==(part.level!=1)?0:1);if(boundary==0||boundary==order.length)return range;var leftSide;if(head.line!=anchor.line)leftSide=(head.line-anchor.line)*(cm.doc.direction=="ltr"?1:-1)>0;else{var headIndex=
getBidiPartAt(order,head.ch,head.sticky);var dir=headIndex-index||(head.ch-anchor.ch)*(part.level==1?-1:1);if(headIndex==boundary-1||headIndex==boundary)leftSide=dir<0;else leftSide=dir>0}var usePart=order[boundary+(leftSide?-1:0)];var from=leftSide==(usePart.level==1);var ch=from?usePart.from:usePart.to;var sticky=from?"after":"before";return anchor.ch==ch&&anchor.sticky==sticky?range:new Range(new Pos(anchor.line,ch,sticky),head)}function gutterEvent(cm,e,type,prevent){var mX;var mY;if(e.touches){mX=
e.touches[0].clientX;mY=e.touches[0].clientY}else try{mX=e.clientX;mY=e.clientY}catch(e$1){return false}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return false;if(prevent)e_preventDefault(e);var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY=mY-(lineBox.top-display.viewOffset);var i=0;for(;i<cm.display.gutterSpecs.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=
mX){var line=lineAtHeight(cm.doc,mY);var gutter=cm.display.gutterSpecs[i];signal(cm,type,cm,line,gutter.className,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",true)}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e))return;if(signalDOMEvent(cm,e,"contextmenu"))return;if(!captureRightClick)cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu"))return false;
return gutterEvent(cm,e,"gutterContextMenu",false)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}function defineOptions(CodeMirror){function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle)optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init)handle(cm,val,old)}:handle}var optionHandlers=CodeMirror.optionHandlers;CodeMirror.defineOption=
option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val)},true);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},true);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val)return;var newBreaks=[];var lineNo=cm.doc.first;cm.doc.iter(function(line){var pos=
0;for(;;){var found=line.text.indexOf(val,pos);if(found==-1)break;pos=found+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});var i=newBreaks.length-1;for(;i>=0;i--)replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))});option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init)cm.refresh()});option("specialCharPlaceholder",
defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},true);option("electricChars",true);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor");},true);option("spellcheck",false,function(cm,val){return cm.getInputField().spellcheck=val},true);option("autocorrect",false,function(cm,val){return cm.getInputField().autocorrect=val},true);option("autocapitalize",false,function(cm,val){return cm.getInputField().autocapitalize=
val},true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",true);option("theme","default",function(cm){themeChanged(cm);updateGutters(cm)},true);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val);var prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach)prev.detach(cm,next);if(next.attach)next.attach(cm,prev||null)});option("extraKeys",null);option("configureMouse",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm,val){cm.display.gutterSpecs=
getGutters(val,cm.options.lineNumbers);updateGutters(cm)},true);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},true);option("coverGutterNextToScrollbar",false,function(cm){return updateScrollbars(cm)},true);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},true);option("lineNumbers",
false,function(cm,val){cm.display.gutterSpecs=getGutters(cm.options.gutters,val);updateGutters(cm)},true);option("firstLineNumber",1,updateGutters,true);option("lineNumberFormatter",function(integer){return integer},updateGutters,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("lineWiseCopyCut",true);option("pasteLinesPerSelection",true);option("selectionsMayTouch",false);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);
cm.display.input.blur()}cm.display.input.readOnlyChanged(val)});option("screenReaderLabel",null,function(cm,val){val=val===""?null:val;cm.display.input.screenReaderLabelChanged(val)});option("disableInput",false,function(cm,val){if(!val)cm.display.input.reset()},true);option("dragDrop",true,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,true);option("singleCursorHeightPerLine",true,updateSelection,
true);option("workTime",100);option("workDelay",100);option("flattenSpans",true,resetModeState,true);option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},true);option("maxHighlightLength",1E4,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val)cm.display.input.resetPosition()});
option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""});option("autofocus",null);option("direction","ltr",function(cm,val){return cm.doc.setDirection(val)},true);option("phrases",null)}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",
funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror(place,options){var this$1=this;
if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{};copyObj(defaults,options,false);var doc=options.value;if(typeof doc=="string")doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction);else if(options.mode)doc.modeOption=options.mode;this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input,options);display.wrapper.CodeMirror=this;themeChanged(this);
if(options.lineWrapping)this.display.wrapper.className+=" CodeMirror-wrap";initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:-1,cutIncoming:-1,selectingText:false,draggingText:false,highlight:new Delayed,keySeq:null,specialChars:null};if(options.autofocus&&!mobile)display.input.focus();if(ie&&ie_version<11)setTimeout(function(){return this$1.display.input.reset(true)},20);registerEventHandlers(this);
ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if(options.autofocus&&!mobile||this.hasFocus())setTimeout(function(){if(this$1.hasFocus()&&!this$1.state.focused)onFocus(this$1)},20);else onBlur(this);var opt;for(opt in optionHandlers)if(optionHandlers.hasOwnProperty(opt))optionHandlers[opt](this,options[opt],Init);maybeUpdateLineNumberWidth(this);if(options.finishInit)options.finishInit(this);var i=0;for(;i<initHooks.length;++i)initHooks[i](this);endOperation(this);
if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering=="optimizelegibility")display.lineDiv.style.textRendering="auto"}function registerEventHandlers(cm){function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1E3);prevTouch=d.activeTouch;prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(e.touches.length!=1)return false;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(other.left==
null)return true;var dx=other.left-touch.left;var dy=other.top-touch.top;return dx*dx+dy*dy>20*20}var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&ie_version<11)on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e))return;var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}));else on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,
e)||e_preventDefault(e)});on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)});on(d.input.getField(),"contextmenu",function(e){if(!d.scroller.contains(e.target))onContextMenu(cm,e)});var touchFinished;var prevTouch={end:0};on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)&&!clickInGutter(cm,e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};
if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch)d.activeTouch.moved=true});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date-touch.start<300){var pos=cm.coordsChar(d.activeTouch,"page");var range;if(!touch.prev||farAway(touch,touch.prev))range=new Range(pos,pos);else if(!touch.prev.prev||farAway(touch,touch.prev.prev))range=
cm.findWordAt(pos);else range=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){updateScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm)}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,
e)});on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e))e_stop(e)},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e))clearDragCursor(cm)}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",
operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}function indentLine(cm,n,how,aggressive){var doc=cm.doc;var state;if(how==null)how="add";if(how=="smart")if(!doc.mode.indent)how="prev";else state=getContextBefore(cm,n).state;var tabSize=cm.options.tabSize;var line=getLine(doc,n);var curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter)line.stateAfter=null;var curSpaceString=line.text.match(/^\s*/)[0];var indentation;
if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else if(how=="smart"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive)return;how="prev"}}if(how=="prev")if(n>doc.first)indentation=countColumn(getLine(doc,n-1).text,null,tabSize);else indentation=0;else if(how=="add")indentation=curSpace+cm.options.indentUnit;else if(how=="subtract")indentation=curSpace-cm.options.indentUnit;else if(typeof how=="number")indentation=
curSpace+how;indentation=Math.max(0,indentation);var indentString="";var pos=0;if(cm.options.indentWithTabs){var i=Math.floor(indentation/tabSize);for(;i;--i){pos=pos+tabSize;indentString=indentString+"\t"}}if(pos<indentation)indentString=indentString+spaceStr(indentation-pos);if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return true}else{var i$1=0;for(;i$1<doc.sel.ranges.length;i$1++){var range=doc.sel.ranges[i$1];
if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}}function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=false;if(!sel)sel=doc.sel;var recent=+new Date-200;var paste=origin=="paste"||cm.state.pasteIncoming>recent;var textLines=splitLinesAuto(inserted);var multiPaste=null;if(paste&&sel.ranges.length>
1)if(lastCopied&&lastCopied.text.join("\n")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];var i=0;for(;i<lastCopied.text.length;i++)multiPaste.push(doc.splitLines(lastCopied.text[i]))}}else if(textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection)multiPaste=map(textLines,function(l){return[l]});var updateInput=cm.curOp.updateInput;var i$1=sel.ranges.length-1;for(;i$1>=0;i$1--){var range=sel.ranges[i$1];var from=range.from();var to=range.to();if(range.empty())if(deleted&&
deleted>0)from=Pos(from.line,from.ch-deleted);else if(cm.state.overwrite&&!paste)to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));else if(paste&&lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==textLines.join("\n"))from=to=Pos(from.line,0);var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming>recent?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,
"inputRead",cm,changeEvent)}if(inserted&&!paste)triggerElectric(cm,inserted);ensureCursorVisible(cm);if(cm.curOp.updateInput<2)cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=-1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput&&cm.hasFocus())runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")});return true}}function triggerElectric(cm,
inserted){if(!cm.options.electricChars||!cm.options.smartIndent)return;var sel=cm.doc.sel;var i=sel.ranges.length-1;for(;i>=0;i--){var range=sel.ranges[i];if(range.head.ch>100||i&&sel.ranges[i-1].head.line==range.head.line)continue;var mode=cm.getModeAt(range.head);var indented=false;if(mode.electricChars){var j=0;for(;j<mode.electricChars.length;j++)if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range.head.line,"smart");break}}else if(mode.electricInput)if(mode.electricInput.test(getLine(cm.doc,
range.head.line).text.slice(0,range.head.ch)))indented=indentLine(cm,range.head.line,"smart");if(indented)signalLater(cm,"electricInput",cm,range.head.line)}}function copyableRanges(cm){var text=[];var ranges=[];var i=0;for(;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck,
autocorrect,autocapitalize){field.setAttribute("autocorrect",autocorrect?"":"off");field.setAttribute("autocapitalize",autocapitalize?"":"off");field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none");var div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(webkit)te.style.width="1000px";else te.setAttribute("wrap",
"off");if(ios)te.style.border="1px solid black";disableBrowserMagic(te);return div}function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;var helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options;var old=options[option];if(options[option]==value&&option!="mode")return;options[option]=value;if(optionHandlers.hasOwnProperty(option))operation(this,
optionHandlers[option])(this,value,old);signal(this,"optionChange",this,option)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map))},removeKeyMap:function(map){var maps=this.state.keyMaps;var i=0;for(;i<maps.length;++i)if(maps[i]==map||maps[i].name==map){maps.splice(i,1);return true}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,
spec);if(mode.startState)throw new Error("Overlays may not be stateful.");insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){var overlays=this.state.overlays;var i=0;for(;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec=="string"&&cur.name==spec){overlays.splice(i,1);this.state.modeGen++;
regChange(this);return}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number")if(dir==null)dir=this.options.smartIndent?"smart":"prev";else dir=dir?"add":"subtract";if(isLine(this.doc,n))indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){var ranges=this.doc.sel.ranges;var end=-1;var i=0;for(;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var from=range.from();var to=range.to();var start=Math.max(end,from.line);end=Math.min(this.lastLine(),
to.line-(to.ch?0:1))+1;var j=start;for(;j<end;++j)indentLine(this,j,how);var newRanges=this.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0)replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}else if(range.head.line>end){indentLine(this,range.head.line,how,true);end=range.head.line;if(i==this.doc.sel.primIndex)ensureCursorVisible(this)}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,
precise){return takeToken(this,Pos(line),precise,true)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0;var after=(styles.length-1)/2;var ch=pos.ch;var type;if(ch==0)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch)after=mid;else if(styles[mid*2+1]<ch)before=mid+1;else{type=styles[mid*2+2];break}}var cut=type?type.indexOf("overlay "):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1)},
getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode)return mode;return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type];var mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]])found.push(help[mode[type]])}else if(mode[type]){var i=0;for(;i<mode[type].length;i++){var val=help[mode[type][i]];
if(val)found.push(val)}}else if(mode.helperType&&help[mode.helperType])found.push(help[mode.helperType]);else if(help[mode.name])found.push(help[mode.name]);var i$1=0;for(;i$1<help._global.length;i$1++){var cur=help._global[i$1];if(cur.pred(mode,this)&&indexOf(found,cur.val)==-1)found.push(cur.val)}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getContextBefore(this,line+1,precise).state},cursorCoords:function(start,
mode){var pos;var range=this.doc.sel.primary();if(start==null)pos=range.head;else if(typeof start=="object")pos=clipPos(this.doc,start);else pos=start?range.from():range.to();return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,
{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end=false;var lineObj;if(typeof line=="number"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first)line=this.doc.first;else if(line>last){line=last;end=true}lineObj=getLine(this.doc,line)}else lineObj=line;return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-heightAtLine(lineObj):
0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom;var left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);
if(vert=="over")top=pos.top;else if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height);var hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=="above"||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight)top=pos.top-node.offsetHeight;else if(pos.bottom+node.offsetHeight<=vspace)top=pos.bottom;if(left+node.offsetWidth>hspace)left=hspace-node.offsetWidth}node.style.top=top+"px";node.style.left=node.style.right="";
if(horiz=="right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if(horiz=="left")left=0;else if(horiz=="middle")left=(display.sizer.clientWidth-node.offsetWidth)/2;node.style.left=left+"px"}if(scroll)scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd].call(null,
this)},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var dir=1;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);var i=0;for(;i<amount;++i){cur=findPosH(this.doc,cur,dir,unit,visually);if(cur.hitSide)break}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range){if(this$1.display.shift||this$1.doc.extend||range.empty())return findPosH(this$1.doc,range.head,dir,unit,this$1.options.rtlMoveVisually);
else return dir<0?range.from():range.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel;var doc=this.doc;if(sel.somethingSelected())doc.replaceSelection("",null,"+delete");else deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other}})}),findPosV:function(from,amount,unit,goalColumn){var dir=1;var x=goalColumn;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);
var i=0;for(;i<amount;++i){var coords=cursorCoords(this,cur,"div");if(x==null)x=coords.left;else coords.left=x;cur=findPosV(this,coords,dir,unit);if(cur.hitSide)break}return cur},moveV:methodOp(function(dir,unit){var this$1=this;var doc=this.doc;var goals=[];var collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse)return dir<0?range.from():range.to();var headPos=cursorCoords(this$1,range.head,"div");if(range.goalColumn!=null)headPos.left=
range.goalColumn;goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if(unit=="page"&&range==doc.sel.primary())addToScrollTop(this$1,charCoords(this$1,pos,"div").top-headPos.top);return pos},sel_move);if(goals.length){var i=0;for(;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]}}),findWordAt:function(pos){var doc=this.doc;var line=getLine(doc,pos.line).text;var start=pos.ch;var end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if((pos.sticky=="before"||
end==line.length)&&start)--start;else++end;var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};for(;start>0&&check(line.charAt(start-1));)--start;for(;end<line.length&&check(line.charAt(end));)++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(value!=null&&value==this.state.overwrite)return;
if(this.state.overwrite=!this.state.overwrite)addClass(this.display.cursorDiv,"CodeMirror-overwrite");else rmClass(this.display.cursorDiv,"CodeMirror-overwrite");signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,
top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null)margin=this.options.cursorScrollMargin}else if(typeof range=="number")range={from:Pos(range,0),to:null};else if(range.from==null)range={from:range,to:null};
if(!range.to)range.to=range.from;range.margin=margin||0;if(range.from.line!=null)scrollToRange(this,range);else scrollToCoordsRange(this,range.from,range.to,range.margin)}),setSize:methodOp(function(width,height){var this$1=this;var interpret=function(val){return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val};if(width!=null)this.display.wrapper.style.width=interpret(width);if(height!=null)this.display.wrapper.style.height=interpret(height);if(this.options.lineWrapping)clearLineMeasurementCache(this);
var lineNo=this.display.viewFrom;this.doc.iter(lineNo,this.display.viewTo,function(line){if(line.widgets){var i=0;for(;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo,"widget");break}}++lineNo});this.curOp.forceUpdate=true;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;
regChange(this);this.curOp.forceUpdate=true;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this.display);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5||this.options.lineWrapping)estimateLineHeights(this);signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;if(this.state.selectingText)this.state.selectingText();attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,
doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,"swapDoc",this,old);return old}),phrase:function(phraseText){var phrases=this.options.phrases;return phrases&&Object.prototype.hasOwnProperty.call(phrases,phraseText)?phrases[phraseText]:phraseText},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};
eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type))helpers[type]=CodeMirror[type]={_global:[]};helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}}function findPosH(doc,pos,dir,unit,visually){function findNextLine(){var l=pos.line+lineDir;if(l<doc.first||l>=doc.first+doc.size)return false;pos=new Pos(l,
pos.ch,pos.sticky);return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next;if(unit=="codepoint"){var ch=lineObj.text.charCodeAt(pos.ch+(dir>0?0:-1));if(isNaN(ch))next=null;else{var astral=dir>0?ch>=55296&&ch<56320:ch>=56320&&ch<57343;next=new Pos(pos.line,Math.max(0,Math.min(lineObj.text.length,pos.ch+dir*(astral?2:1))),-dir)}}else if(visually)next=moveVisually(doc.cm,lineObj,pos,dir);else next=moveLogically(lineObj,pos,dir);if(next==null)if(!boundToLine&&findNextLine())pos=endOfLine(visually,
doc.cm,lineObj,pos.line,lineDir);else return false;else pos=next;return true}var oldPos=pos;var origDir=dir;var lineObj=getLine(doc,pos.line);var lineDir=visually&&doc.direction=="rtl"?-dir:dir;if(unit=="char"||unit=="codepoint")moveOnce();else if(unit=="column")moveOnce(true);else if(unit=="word"||unit=="group"){var sawType=null;var group=unit=="group";var helper=doc.cm&&doc.cm.getHelper(pos,"wordChars");var first=true;for(;;first=false){if(dir<0&&!moveOnce(!first))break;var cur=lineObj.text.charAt(pos.ch)||
"\n";var type=isWordChar(cur,helper)?"w":group&&cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type)type="s";if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce();pos.sticky="after"}break}if(type)sawType=type;if(dir>0&&!moveOnce(!first))break}}var result=skipAtomic(doc,pos,oldPos,origDir,true);if(equalCursorPos(oldPos,result))result.hitSide=true;return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc;var x=pos.left;var y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,
window.innerHeight||document.documentElement.clientHeight);var moveAmount=Math.max(pageSize-.5*textHeight(cm.display),3);y=(dir>0?pos.bottom:pos.top)+dir*moveAmount}else if(unit=="line")y=dir>0?pos.bottom+3:pos.top-3;var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break}y=y+dir*5}return target}function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line);var info=
mapFromLineView(view,line,pos.line);var order=getOrder(line,cm.doc.direction);var side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse=="right"?result.end:result.start;return result}function isInGutter(node){var scan=node;for(;scan;scan=scan.parentNode)if(/CodeMirror-gutter-wrapper/.test(scan.className))return true;return false}function badPos(pos,bad){if(bad)pos.bad=true;return pos}
function domTextBetween(cm,from,to,fromLine,toLine){function recognizeMarker(id){return function(marker){return marker.id==id}}function close(){if(closing){text=text+lineSep;if(extraLinebreak)text=text+lineSep;closing=extraLinebreak=false}}function addText(str){if(str){close();text=text+str}}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute("cm-text");if(cmText){addText(cmText);return}var markerID=node.getAttribute("cm-marker");var range;if(markerID){var found=cm.findMarks(Pos(fromLine,
0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range=found[0].find(0)))addText(getBetween(cm.doc,range.from,range.to).join(lineSep));return}if(node.getAttribute("contenteditable")=="false")return;var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&node.textContent.length==0)return;if(isBlock)close();var i=0;for(;i<node.childNodes.length;i++)walk(node.childNodes[i]);if(/^(pre|p)$/i.test(node.nodeName))extraLinebreak=true;if(isBlock)closing=
true}else if(node.nodeType==3)addText(node.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}var text="";var closing=false;var lineSep=cm.doc.lineSeparator();var extraLinebreak=false;for(;;){walk(from);if(from==to)break;from=from.nextSibling;extraLinebreak=false}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true);node=null;offset=0}else{lineNode=
node;for(;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break}}var i=0;for(;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset)}}function locateNodeInLineView(lineView,node,offset){function find(textNode,topNode,offset){var i=-1;for(;i<(maps?maps.length:0);i++){var map=i<0?measure.map:maps[i];var j=0;for(;j<map.length;j=
j+3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map[j]+offset;if(offset<0||curNode!=textNode)ch=map[j+(offset?1:0)];return Pos(line,ch)}}}}var wrapper=lineView.text.firstChild;var bad=false;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),true);if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),
line.text.length),bad)}}var textNode=node.nodeType==3?node:null;var topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset)offset=textNode.nodeValue.length}for(;topNode.parentNode!=wrapper;)topNode=topNode.parentNode;var measure=lineView.measure;var maps=measure.maps;var found=find(textNode,topNode,offset);if(found)return badPos(found,bad);var after=topNode.nextSibling;var dist=textNode?textNode.nodeValue.length-offset:0;for(;after;after=
after.nextSibling){found=find(after,after.firstChild,0);if(found)return badPos(Pos(found.line,found.ch-dist),bad);else dist=dist+after.textContent.length}var before=topNode.previousSibling;var dist$1=offset;for(;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found)return badPos(Pos(found.line,found.ch+dist$1),bad);else dist$1=dist$1+before.textContent.length}}function fromTextArea(textarea,options){function save(){textarea.value=cm.getValue()}options=options?copyObj(options):
{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex)options.tabindex=textarea.tabIndex;if(!options.placeholder&&textarea.placeholder)options.placeholder=textarea.placeholder;if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=
form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone&&typeof textarea.form.submit=="function")textarea.form.submit=realSubmit}}};textarea.style.display=
"none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;
CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=
lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames}var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=
/gecko\/\d/i.test(userAgent);var ie_upto10=/MSIE \d/.test(userAgent);var ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);var edge=/Edge\/(\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up||edge;var ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]);var webkit=!edge&&/WebKit\//.test(userAgent);var qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent);var chrome=!edge&&/Chrome\/(\d+)/.exec(userAgent);var chrome_version=chrome&&+chrome[1];var presto=/Opera\//.test(userAgent);
var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=safari&&(/Mobile\/\w+/.test(userAgent)||navigator.maxTouchPoints>2);var android=/Android/.test(userAgent);var mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var chromeOS=/\bCrOS\b/.test(userAgent);var windows=/win/i.test(platform);var presto_version=presto&&
userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version)presto_version=Number(presto_version[1]);if(presto_version&&presto_version>=15){presto=false;webkit=true}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||ie&&ie_version>=9;var rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?
match[1]+after:"")}};var range;if(document.createRange)range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r};else range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r};var selectInput=function(node){node.select()};if(ios)selectInput=function(node){node.selectionStart=
0;node.selectionEnd=node.value.length};else if(ie)selectInput=function(node){try{node.select()}catch(_e){}};var Delayed=function(){this.id=null;this.f=null;this.time=0;this.handler=bind(this.onTimeout,this)};Delayed.prototype.onTimeout=function(self){self.id=0;if(self.time<=+new Date)self.f();else setTimeout(self.handler,self.time-+new Date)};Delayed.prototype.set=function(ms,f){this.f=f;var time=+new Date+ms;if(!this.id||time<this.time){clearTimeout(this.id);this.id=setTimeout(this.handler,ms);this.time=
time}};var scrollerGap=50;var Pass={toString:function(){return"CodeMirror.Pass"}};var sel_dontScroll={scroll:false};var sel_mouse={origin:"*mouse"};var sel_move={origin:"+move"};var spaceStrs=[""];var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
var bidiOther=null;var bidiOrdering=function(){function charType(code){if(code<=247)return lowTypes.charAt(code);else if(1424<=code&&code<=1524)return"R";else if(1536<=code&&code<=1785)return arabicTypes.charAt(code-1536);else if(1774<=code&&code<=2220)return"r";else if(8192<=code&&code<=8203)return"w";else if(code==8204)return"b";else return"L"}function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";
var arabicTypes="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var isNeutral=/[stwN]/;var isStrong=/[LRr]/;var countsAsLeft=/[Lb1n]/;var countsAsNum=/[1n]/;return function(str,direction){var outerType=direction=="ltr"?"L":"R";if(str.length==
0||direction=="ltr"&&!bidiRE.test(str))return false;var len=str.length;var types=[];var i=0;for(;i<len;++i)types.push(charType(str.charCodeAt(i)));var i$1=0;var prev=outerType;for(;i$1<len;++i$1){var type=types[i$1];if(type=="m")types[i$1]=prev;else prev=type}var i$2=0;var cur=outerType;for(;i$2<len;++i$2){var type$1=types[i$2];if(type$1=="1"&&cur=="r")types[i$2]="n";else if(isStrong.test(type$1)){cur=type$1;if(type$1=="r")types[i$2]="R"}}var i$3=1;var prev$1=types[0];for(;i$3<len-1;++i$3){var type$2=
types[i$3];if(type$2=="+"&&prev$1=="1"&&types[i$3+1]=="1")types[i$3]="1";else if(type$2==","&&prev$1==types[i$3+1]&&(prev$1=="1"||prev$1=="n"))types[i$3]=prev$1;prev$1=type$2}var i$4=0;for(;i$4<len;++i$4){var type$3=types[i$4];if(type$3==",")types[i$4]="N";else if(type$3=="%"){var end=void 0;end=i$4+1;for(;end<len&&types[end]=="%";++end);var replace=i$4&&types[i$4-1]=="!"||end<len&&types[end]=="1"?"1":"N";var j=i$4;for(;j<end;++j)types[j]=replace;i$4=end-1}}var i$5=0;var cur$1=outerType;for(;i$5<
len;++i$5){var type$4=types[i$5];if(cur$1=="L"&&type$4=="1")types[i$5]="L";else if(isStrong.test(type$4))cur$1=type$4}var i$6=0;for(;i$6<len;++i$6)if(isNeutral.test(types[i$6])){var end$1=void 0;end$1=i$6+1;for(;end$1<len&&isNeutral.test(types[end$1]);++end$1);var before=(i$6?types[i$6-1]:outerType)=="L";var after=(end$1<len?types[end$1]:outerType)=="L";var replace$1=before==after?before?"L":"R":outerType;var j$1=i$6;for(;j$1<end$1;++j$1)types[j$1]=replace$1;i$6=end$1-1}var order=[];var m;var i$7=
0;for(;i$7<len;)if(countsAsLeft.test(types[i$7])){var start=i$7;++i$7;for(;i$7<len&&countsAsLeft.test(types[i$7]);++i$7);order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7;var at=order.length;var isRTL=direction=="rtl"?1:0;++i$7;for(;i$7<len&&types[i$7]!="L";++i$7);var j$2=pos;for(;j$2<i$7;)if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2));at=at+isRTL}var nstart=j$2;++j$2;for(;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2);order.splice(at,0,new BidiSpan(2,nstart,
j$2));at=at+isRTL;pos=j$2}else++j$2;if(pos<i$7)order.splice(at,0,new BidiSpan(1,pos,i$7))}if(direction=="ltr"){if(order[0].level==1&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(lst(order).level==1&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}}return direction=="rtl"?order.reverse():order}}();var noHandlers=[];var on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,
f,false);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else{var map=emitter._handlers||(emitter._handlers={});map[type]=(map[type]||noHandlers).concat(f)}};var dragAndDrop=function(){if(ie&&ie_version<9)return false;var div=elt("div");return"draggable"in div||"dragDrop"in div}();var zwspSupported;var badBidiRects;var splitLinesAuto="\n\nb".split(/\n/).length!=3?function(string){var pos=0;var result=[];var l=string.length;for(;pos<=l;){var nl=string.indexOf("\n",pos);if(nl==-1)nl=string.length;
var line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);var rt=line.indexOf("\r");if(rt!=-1){result.push(line.slice(0,rt));pos=pos+(rt+1)}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return false}}:function(te){var range;try{range=te.ownerDocument.selection.createRange()}catch(e){}if(!range||range.parentElement()!=te)return false;return range.compareEndPoints("StartToEnd",
range)!=0};var hasCopyEvent=function(){var e=elt("div");if("oncopy"in e)return true;var policy={createScript:function(ignored){return"return;"}};if(typeof trustedTypes!=="undefined")policy=trustedTypes.createPolicy("codemirror#return",policy);e.setAttribute("oncopy",policy.createScript(""));return typeof e.oncopy=="function"}();var badZoomedRects=null;var modes={};var mimeModes={};var modeExtensions={};var StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0;this.string=string;this.tabSize=
tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=lineOracle};StringStream.prototype.eol=function(){return this.pos>=this.string.length};StringStream.prototype.sol=function(){return this.pos==this.lineStart};StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};StringStream.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos);
var ok;if(typeof match=="string")ok=ch==match;else ok=ch&&(match.test?match.test(ch):match(ch));if(ok){++this.pos;return ch}};StringStream.prototype.eatWhile=function(match){var start=this.pos;for(;this.eat(match););return this.pos>start};StringStream.prototype.eatSpace=function(){var start=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>start};StringStream.prototype.skipToEnd=function(){this.pos=this.string.length};StringStream.prototype.skipTo=function(ch){var found=
this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true}};StringStream.prototype.backUp=function(n){this.pos-=n};StringStream.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.indentation=function(){return countColumn(this.string,
null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.match=function(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function(str){return caseInsensitive?str.toLowerCase():str};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false)this.pos+=pattern.length;return true}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0)return null;
if(match&&consume!==false)this.pos+=match[0].length;return match}};StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)};StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}};StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)};StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos)};var SavedContext=
function(state,lookAhead){this.state=state;this.lookAhead=lookAhead};var Context=function(doc,state,line,lookAhead){this.state=state;this.doc=doc;this.line=line;this.maxLookAhead=lookAhead||0;this.baseTokens=null;this.baseTokenPos=1};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);if(line!=null&&n>this.maxLookAhead)this.maxLookAhead=n;return line};Context.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=
2;var type=this.baseTokens[this.baseTokenPos+1];return{type:type&&type.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}};Context.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0)this.maxLookAhead--};Context.fromSaved=function(doc,saved,line){if(saved instanceof SavedContext)return new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead);else return new Context(doc,copyState(doc.mode,saved),line)};Context.prototype.save=function(copy){var state=
copy!==false?copyState(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new SavedContext(state,this.maxLookAhead):state};var Token=function(stream,type,state){this.start=stream.start;this.end=stream.pos;this.string=stream.current();this.type=type||null;this.state=state};var sawReadOnlySpans=false;var sawCollapsedSpans=false;var Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1};Line.prototype.lineNo=
function(){return lineNo(this)};eventMixin(Line);var styleToClassCache={};var styleToClassCacheWithMode={};var operationGroup=null;var orphanDelayedCallbacks=null;var nullRect={left:0,right:0,top:0,bottom:0};var measureText;var NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");vert.tabIndex=
horiz.tabIndex=-1;place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight)scroll(vert.scrollTop,"vertical")});on(horiz,"scroll",function(){if(horiz.clientWidth)scroll(horiz.scrollLeft,"horizontal")});this.checkedZeroWidth=false;if(ie&&ie_version<8)this.horiz.style.minHeight=this.vert.style.minWidth="18px"};NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;
if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.scrollTop=0;this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-
measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=Math.max(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0)this.zeroWidthHack();this.checkedZeroWidth=true}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}};NativeScrollbars.prototype.setScrollLeft=function(pos){if(this.horiz.scrollLeft!=pos)this.horiz.scrollLeft=pos;if(this.disableHoriz)this.enableZeroWidthBar(this.horiz,
this.disableHoriz,"horiz")};NativeScrollbars.prototype.setScrollTop=function(pos){if(this.vert.scrollTop!=pos)this.vert.scrollTop=pos;if(this.disableVert)this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.visibility=this.vert.style.visibility="hidden";this.disableHoriz=new Delayed;this.disableVert=new Delayed};NativeScrollbars.prototype.enableZeroWidthBar=
function(bar,delay,type){function maybeDisable(){var box=bar.getBoundingClientRect();var elt=type=="vert"?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);if(elt!=bar)bar.style.visibility="hidden";else delay.set(1E3,maybeDisable)}bar.style.visibility="";delay.set(1E3,maybeDisable)};NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)};var NullScrollbars=
function(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0}};NullScrollbars.prototype.setScrollLeft=function(){};NullScrollbars.prototype.setScrollTop=function(){};NullScrollbars.prototype.clear=function(){};var scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars};var nextOpId=0;var DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;
this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]};DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type))this.events.push(arguments)};DisplayUpdate.prototype.finish=function(){var i=0;for(;i<this.events.length;i++)signal.apply(null,this.events[i])};var wheelSamples=0;var wheelPixelsPerUnit=null;if(ie)wheelPixelsPerUnit=-.53;else if(gecko)wheelPixelsPerUnit=
15;else if(chrome)wheelPixelsPerUnit=-.7;else if(safari)wheelPixelsPerUnit=-1/3;var Selection=function(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]};Selection.prototype.equals=function(other){if(other==this)return true;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return false;var i=0;for(;i<this.ranges.length;i++){var here=this.ranges[i];var there=other.ranges[i];if(!equalCursorPos(here.anchor,
there.anchor)||!equalCursorPos(here.head,there.head))return false}return true};Selection.prototype.deepCopy=function(){var out=[];var i=0;for(;i<this.ranges.length;i++)out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)};Selection.prototype.somethingSelected=function(){var i=0;for(;i<this.ranges.length;i++)if(!this.ranges[i].empty())return true;return false};Selection.prototype.contains=function(pos,end){if(!end)end=pos;var i=0;for(;i<
this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i}return-1};var Range=function(anchor,head){this.anchor=anchor;this.head=head};Range.prototype.from=function(){return minPos(this.anchor,this.head)};Range.prototype.to=function(){return maxPos(this.anchor,this.head)};Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,
n){var i=at;var e=at+n;for(;i<e;++i){var line=this.lines[i];this.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));var i=0;for(;i<lines.length;++i)lines[i].parent=this},iterN:function(at,n,op){var e=at+n;for(;at<e;++at)if(op(this.lines[at]))return true}};BranchChunk.prototype=
{chunkSize:function(){return this.size},removeInner:function(at,n){this.size-=n;var i=0;for(;i<this.children.length;++i){var child=this.children[i];var sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at);var oldHeight=child.height;child.removeInner(at,rm);this.height-=oldHeight-child.height;if(sz==rm){this.children.splice(i--,1);child.parent=null}if((n=n-rm)==0)break;at=0}else at=at-sz}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);
this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){var i=0;for(;i<this.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+=lines.length;this.height+=height;var i=0;for(;i<this.children.length;++i){var child=this.children[i];var sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){var remaining=child.lines.length%25+25;var pos=remaining;for(;pos<child.lines.length;){var leaf=
new LeafChunk(child.lines.slice(pos,pos=pos+25));child.height-=leaf.height;this.children.splice(++i,0,leaf);leaf.parent=this}child.lines=child.lines.slice(0,remaining);this.maybeSpill()}break}at=at-sz}},maybeSpill:function(){if(this.children.length<=10)return;var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=
sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()},iterN:function(at,n,op){var i=0;for(;i<this.children.length;++i){var child=this.children[i];var sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return true;if((n=n-used)==0)break;at=0}else at=at-sz}}};var LineWidget=function(doc,node,options){if(options){var opt;for(opt in options)if(options.hasOwnProperty(opt))this[opt]=
options[opt]}this.doc=doc;this.node=node};LineWidget.prototype.clear=function(){var cm=this.doc.cm;var ws=this.line.widgets;var line=this.line;var no=lineNo(line);if(no==null||!ws)return;var i=0;for(;i<ws.length;++i)if(ws[i]==this)ws.splice(i--,1);if(!ws.length)line.widgets=null;var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")});signalLater(cm,"lineWidgetCleared",
cm,this,no)}};LineWidget.prototype.changed=function(){var this$1=this;var oldH=this.height;var cm=this.doc.cm;var line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff)return;if(!lineIsHidden(this.doc,line))updateLineHeight(line,line.height+diff);if(cm)runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff);signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line))})};eventMixin(LineWidget);var nextMarkerId=0;var TextMarker=function(doc,type){this.lines=
[];this.type=type;this.doc=doc;this.id=++nextMarkerId};TextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;var cm=this.doc.cm;var withOp=cm&&!cm.curOp;if(withOp)startOperation(cm);if(hasHandler(this,"clear")){var found=this.find();if(found)signalLater(this,"clear",found.from,found.to)}var min=null;var max=null;var i=0;for(;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(cm&&!this.collapsed)regLineChange(cm,lineNo(line),"text");
else if(cm){if(span.to!=null)max=lineNo(line);if(span.from!=null)min=lineNo(line)}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm)updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping){var i$1=0;for(;i$1<this.lines.length;++i$1){var visual=visualLine(this.lines[i$1]);var len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;
cm.display.maxLineChanged=true}}}if(min!=null&&cm&&this.collapsed)regChange(cm,min,max+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm)reCheckSelection(cm.doc)}if(cm)signalLater(cm,"markerCleared",cm,this,min,max);if(withOp)endOperation(cm);if(this.parent)this.parent.clear()};TextMarker.prototype.find=function(side,lineObj){if(side==null&&this.type=="bookmark")side=1;var from;var to;var i=0;for(;i<this.lines.length;++i){var line=
this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1)return from}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1)return to}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var this$1=this;var pos=this.find(-1,true);var widget=this;var cm=this.doc.cm;if(!pos||!cm)return;runInOp(cm,function(){var line=pos.line;var lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);
if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight)updateLineHeight(line,line.height+dHeight)}signalLater(cm,"markerChanged",cm,this$1)})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||
indexOf(op.maybeHiddenMarkers,this)==-1)(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};eventMixin(TextMarker);var SharedTextMarker=function(markers,primary){this.markers=markers;this.primary=primary;var i=0;for(;i<markers.length;++i)markers[i].parent=
this};SharedTextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;var i=0;for(;i<this.markers.length;++i)this.markers[i].clear();signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};eventMixin(SharedTextMarker);var nextDocId=0;var Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep,direction);if(firstLine==null)firstLine=
0;BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.direction=direction=="rtl"?"rtl":"ltr";this.extend=false;if(typeof text=="string")text=this.splitLines(text);updateDoc(this,{from:start,
to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op)this.iterN(from-this.first,to-from,op);else this.iterN(this.first,this.first+this.size,from)},insert:function(at,lines){var height=0;var i=0;for(;i<lines.length;++i)height=height+lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=
getLines(this,this.first,this.first+this.size);if(lineSep===false)return lines;return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0);var last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:true},true);if(this.cm)scrollToCoords(this.cm,0,0);setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function(code,from,to,origin){from=clipPos(this,
from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(lineSep===false)return lines;if(lineSep==="")return lines.join("");return lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line)},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if(typeof line==
"number")line=getLine(this,line);return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range=this.sel.primary();var pos;if(start==null||start=="head")pos=range.head;else if(start=="anchor")pos=range.anchor;else if(start=="end"||start=="to"||start===false)pos=range.to();else pos=range.from();return pos},listSelections:function(){return this.sel.ranges},
somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,
options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){if(!ranges.length)return;var out=[];var i=0;for(;i<ranges.length;i++)out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head||ranges[i].anchor));if(primary==null)primary=Math.min(ranges.length-1,this.sel.primIndex);
setSelection(this,normalizeSelection(this.cm,out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options)}),getSelection:function(lineSep){var ranges=this.sel.ranges;var lines;var i=0;for(;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):
sel}if(lineSep===false)return lines;else return lines.join(lineSep||this.lineSeparator())},getSelections:function(lineSep){var parts=[];var ranges=this.sel.ranges;var i=0;for(;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());if(lineSep!==false)sel=sel.join(lineSep||this.lineSeparator());parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){var dup=[];var i=0;for(;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||
"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){var changes=[];var sel=this.sel;var i=0;for(;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:this.splitLines(code[i]),origin:origin}}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);var i$1=changes.length-1;for(;i$1>=0;i$1--)makeChange(this,changes[i$1]);if(newSel)setSelectionReplaceHistory(this,newSel);else if(this.cm)ensureCursorVisible(this.cm)}),
undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",true)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){var hist=this.history;var done=0;var undone=0;var i=0;for(;i<hist.done.length;i++)if(!hist.done[i].ranges)++done;
var i$1=0;for(;i$1<hist.undone.length;i$1++)if(!hist.undone[i$1].ranges)++undone;return{undo:done,redo:undone}},clearHistory:function(){var this$1=this;this.history=new History(this.history);linkedDocs(this,function(doc){return doc.history=this$1.history},true)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(forceSplit){if(forceSplit)this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(gen){return this.history.generation==
(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers=
{});markers[gutterID]=value;if(!value&&isEmpty(markers))line.gutterMarkers=null;return true})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID])changeLine(this$1,line,"gutter",function(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers))line.gutterMarkers=null;return true})})}),lineInfo:function(line){var n;if(typeof line=="number"){if(!isLine(this,line))return null;n=line;line=getLine(this,line);
if(!line)return null}else{n=lineNo(line);if(n==null)return null}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";if(!line[prop])line[prop]=cls;else if(classTest(cls).test(line[prop]))return false;
else line[prop]+=" "+cls;return true})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";var cur=line[prop];if(!cur)return false;else if(cls==null)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return false;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||
end==cur.length?"":" ")+cur.slice(end)||null}return true})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,
clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[];var spans=getLine(this,pos.line).markedSpans;if(spans){var i=0;for(;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch))markers.push(span.marker.parent||span.marker)}}return markers},findMarks:function(from,
to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[];var lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){var i=0;for(;i<spans.length;i++){var span=spans[i];if(!(span.to!=null&&lineNo==from.line&&from.ch>=span.to||span.from==null&&lineNo!=from.line||span.from!=null&&lineNo==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker)))found.push(span.marker.parent||span.marker)}}++lineNo});return found},getAllMarks:function(){var markers=
[];this.iter(function(line){var sps=line.markedSpans;if(sps){var i=0;for(;i<sps.length;++i)if(sps[i].from!=null)markers.push(sps[i].marker)}});return markers},posFromIndex:function(off){var ch;var lineNo=this.first;var sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return true}off=off-sz;++lineNo});return clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||
coords.ch<0)return 0;var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index=index+(line.text.length+sepSize)});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},
linkedDoc:function(options){if(!options)options={};var from=this.first;var to=this.first+this.size;if(options.from!=null&&options.from>from)from=options.from;if(options.to!=null&&options.to<to)to=options.to;var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);if(options.sharedHist)copy.history=this.history;(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];
copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){if(other instanceof CodeMirror)other=other.doc;if(this.linked){var i=0;for(;i<this.linked.length;++i){var link=this.linked[i];if(link.doc!=other)continue;this.linked.splice(i,1);other.unlinkDoc(this);detachSharedMarkers(findSharedMarkers(this));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},true);other.history=new History(null);other.history.done=
copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep)return str.split(this.lineSep);return splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:docMethodOp(function(dir){if(dir!="rtl")dir="ltr";if(dir==this.direction)return;this.direction=dir;this.iter(function(line){return line.order=
null});if(this.cm)directionChanged(this.cm)})});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;var globalsRegistered=false;var keyNames={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",
187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};var i=0;for(;i<10;i++)keyNames[i+48]=keyNames[i+96]=String(i);var i$1=65;for(;i$1<=90;i$1++)keyNames[i$1]=String.fromCharCode(i$1);var i$2=1;for(;i$2<=12;i$2++)keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2;var keyMap={};keyMap.basic={"Left":"goCharLeft","Right":"goCharRight",
"Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharAfter","Backspace":"delCharBefore","Shift-Backspace":"delCharBefore","Tab":"defaultTab","Shift-Tab":"indentAuto","Enter":"newlineAndIndent","Insert":"toggleOverwrite","Esc":"singleSelection"};keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp",
"Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection","fallthrough":"basic"};keyMap.emacsy={"Ctrl-F":"goCharRight",
"Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd",
"Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart",
"Ctrl-Down":"goDocEnd","fallthrough":["basic","emacsy"]};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine())return{from:range.head,to:Pos(range.head.line+1,0)};
else return{from:range.head,to:Pos(range.head.line,len)}}else return{from:range.from(),to:range.to()}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+
5;var leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},
goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,
range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=
cm.cursorCoords(range.head,"div").top+5;var pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/))return lineStartSmart(cm,range.head);return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},goCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,
"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"codepoint")},delCharAfter:function(cm){return cm.deleteH(1,"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},
delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\t")},insertSoftTab:function(cm){var spaces=[];var ranges=cm.listSelections();var tabSize=cm.options.tabSize;var i=0;for(;i<ranges.length;i++){var pos=ranges[i].from();
var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected())cm.indentSelection("add");else cm.execCommand("insertTab")},transposeChars:function(cm){return runInOp(cm,function(){var ranges=cm.listSelections();var newSel=[];var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())continue;var cur=ranges[i].head;var line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length)cur=
new Pos(cur.line,cur.ch-1);if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,
function(){var sels=cm.listSelections();var i=sels.length-1;for(;i>=0;i--)cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input");sels=cm.listSelections();var i$1=0;for(;i$1<sels.length;i$1++)cm.indentLine(sels[i$1].from().line,null,true);ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\n","start")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};var stopSeq=new Delayed;var lastStoppedKey=null;var DOUBLECLICK_DELAY=400;var PastClick=function(time,
pos,button){this.time=time;this.pos=pos;this.button=button};PastClick.prototype.compare=function(time,pos,button){return this.time+DOUBLECLICK_DELAY>time&&cmp(pos,this.pos)==0&&button==this.button};var lastClick;var lastDoubleClick;var Init={toString:function(){return"CodeMirror.Init"}};var defaults={};var optionHandlers={};CodeMirror.defaults=defaults;CodeMirror.optionHandlers=optionHandlers;var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f)};var lastCopied=null;var ContentEditableInput=
function(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed;this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null};ContentEditableInput.prototype.init=function(display){function belongsToInput(e){var t=e.target;for(;t;t=t.parentNode){if(t==div)return true;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return false}function onCopyCut(e){if(!belongsToInput(e)||signalDOMEvent(cm,e))return;if(cm.somethingSelected()){setLastCopied({lineWise:false,
text:cm.getSelections()});if(e.type=="cut")cm.replaceSelection("",null,"cut")}else if(!cm.options.lineWiseCopyCut)return;else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut")cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();
return}}var kludge=hiddenTextarea();var te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=activeElt();selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div)input.showPrimarySelection()},50)}var this$1=this;var input=this;var cm=input.cm;var div=input.div=display.lineDiv;div.contentEditable=true;disableBrowserMagic(div,cm.options.spellcheck,cm.options.autocorrect,
cm.options.autocapitalize);on(div,"paste",function(e){if(!belongsToInput(e)||signalDOMEvent(cm,e)||handlePaste(e,cm))return;if(ie_version<=11)setTimeout(operation(cm,function(){return this$1.updateFromDOM()}),20)});on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:false}});on(div,"compositionupdate",function(e){if(!this$1.composing)this$1.composing={data:e.data,done:false}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data)this$1.readFromDOMSoon();
this$1.composing.done=true}});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(!this$1.composing)this$1.readFromDOMSoon()});on(div,"copy",onCopyCut);on(div,"cut",onCopyCut)};ContentEditableInput.prototype.screenReaderLabelChanged=function(label){if(label)this.div.setAttribute("aria-label",label);else this.div.removeAttribute("aria-label")};ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,false);result.focus=
activeElt()==this.div;return result};ContentEditableInput.prototype.showSelection=function(info,takeFocus){if(!info||!this.cm.display.view.length)return;if(info.focus||takeFocus)this.showPrimarySelection();this.showMultipleSelections(info)};ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection();var cm=this.cm;var prim=cm.doc.sel.primary();var from=
prim.from();var to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom){sel.removeAllRanges();return}var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),from)==0&&cmp(maxPos(curAnchor,curFocus),to)==0)return;var view=cm.display.view;var start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||
{node:view[0].measure.map[2],offset:0};var end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure;var map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}if(!start||!end){sel.removeAllRanges();return}var old=sel.rangeCount&&sel.getRangeAt(0);var rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}if(rng){if(!gecko&&cm.state.focused){sel.collapse(start.node,
start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&sel.anchorNode==null)sel.addRange(old);else if(gecko)this.startGracePeriod()}this.rememberSelection()};ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=false;if(this$1.selectionChanged())this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=true})},
20)};ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)};ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset};ContentEditableInput.prototype.selectionInEditor=function(){var sel=
this.getSelection();if(!sel.rangeCount)return false;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)};ContentEditableInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()||activeElt()!=this.div)this.showSelection(this.prepareSelection(),true);this.div.focus()}};ContentEditableInput.prototype.blur=function(){this.div.blur()};ContentEditableInput.prototype.getField=function(){return this.div};ContentEditableInput.prototype.supportsTouch=
function(){return true};ContentEditableInput.prototype.receivedFocus=function(){function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll)}}var this$1=this;var input=this;if(this.selectionInEditor())setTimeout(function(){return this$1.pollSelection()},20);else runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=true});this.polling.set(this.cm.options.pollInterval,poll)};ContentEditableInput.prototype.selectionChanged=function(){var sel=
this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset};ContentEditableInput.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())return;var sel=this.getSelection();var cm=this.cm;if(android&&chrome&&this.cm.display.gutterSpecs.length&&isInGutter(sel.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});
this.blur();this.focus();return}if(this.composing)return;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head)runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad)cm.curOp.selectionChanged=true})};ContentEditableInput.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var cm=
this.cm;var display=cm.display;var sel=cm.doc.sel.primary();var from=sel.from();var to=sel.to();if(from.ch==0&&from.line>cm.firstLine())from=Pos(from.line-1,getLine(cm.doc,from.line-1).length);if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine())to=Pos(to.line+1,0);if(from.line<display.viewFrom||to.line>display.viewTo-1)return false;var fromIndex;var fromLine;var fromNode;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){fromLine=lineNo(display.view[0].line);
fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line);var toLine;var toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}if(!fromNode)return false;var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=
getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));for(;newText.length>1&&oldText.length>1;)if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else break;var cutFront=0;var cutEnd=0;var newTop=newText[0];var oldTop=oldText[0];var maxCutFront=Math.min(newTop.length,oldTop.length);for(;cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront);)++cutFront;var newBot=
lst(newText);var oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));for(;cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)++cutEnd;if(newText.length==1&&oldText.length==1&&fromLine==from.line)for(;cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);){cutFront--;cutEnd++}newText[newText.length-1]=newBot.slice(0,
newBot.length-cutEnd).replace(/^\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return true}};ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.forceCompositionEnd=
function(){if(!this.composing)return;clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;if(this.readDOMTimeout!=null)return;this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing)if(this$1.composing.done)this$1.composing=null;else return;this$1.updateFromDOM()},80)};ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;
if(this.cm.isReadOnly()||!this.pollContent())runInOp(this.cm,function(){return regChange(this$1.cm)})};ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false"};ContentEditableInput.prototype.onKeyPress=function(e){if(e.charCode==0||this.composing)return;e.preventDefault();if(!this.cm.isReadOnly())operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)};ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=
String(val!="nocursor")};ContentEditableInput.prototype.onContextMenu=function(){};ContentEditableInput.prototype.resetPosition=function(){};ContentEditableInput.prototype.needsContentAttribute=true;var TextareaInput=function(cm){this.cm=cm;this.prevInput="";this.pollingFast=false;this.polling=new Delayed;this.hasSelection=false;this.composing=null};TextareaInput.prototype.init=function(display){function prepareCopyCut(e){if(signalDOMEvent(cm,e))return;if(cm.somethingSelected())setLastCopied({lineWise:false,
text:cm.getSelections()});else if(!cm.options.lineWiseCopyCut)return;else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut")cm.setSelections(ranges.ranges,null,sel_dontScroll);else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te)}}if(e.type=="cut")cm.state.cutIncoming=+new Date}var this$1=this;var input=this;var cm=this.cm;this.createField(display);var te=this.textarea;display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);
if(ios)te.style.width="0px";on(te,"input",function(){if(ie&&ie_version>=9&&this$1.hasSelection)this$1.hasSelection=null;input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm))return;cm.state.pasteIncoming=+new Date;input.fastPoll()});on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e))return;if(!te.dispatchEvent){cm.state.pasteIncoming=+new Date;input.focus();return}var event=
new Event("paste");event.clipboardData=e.clipboardData;te.dispatchEvent(event)});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e))e_preventDefault(e)});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing)input.composing.range.clear();input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();
input.composing=null}})};TextareaInput.prototype.createField=function(_display){this.wrapper=hiddenTextarea();this.textarea=this.wrapper.firstChild};TextareaInput.prototype.screenReaderLabelChanged=function(label){if(label)this.textarea.setAttribute("aria-label",label);else this.textarea.removeAttribute("aria-label")};TextareaInput.prototype.prepareSelection=function(){var cm=this.cm;var display=cm.display;var doc=cm.doc;var result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=
cursorCoords(cm,doc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect();var lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result};TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm;var display=cm.display;removeChildrenAndAdd(display.cursorDiv,
drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}};TextareaInput.prototype.reset=function(typing){if(this.contextMenuPending||this.composing)return;var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content;if(cm.state.focused)selectInput(this.textarea);if(ie&&ie_version>=9)this.hasSelection=content}else if(!typing){this.prevInput=
this.textarea.value="";if(ie&&ie_version>=9)this.hasSelection=null}};TextareaInput.prototype.getField=function(){return this.textarea};TextareaInput.prototype.supportsTouch=function(){return false};TextareaInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}};TextareaInput.prototype.blur=function(){this.textarea.blur()};TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=
0};TextareaInput.prototype.receivedFocus=function(){this.slowPoll()};TextareaInput.prototype.slowPoll=function(){var this$1=this;if(this.pollingFast)return;this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused)this$1.slowPoll()})};TextareaInput.prototype.fastPoll=function(){function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p)}else{input.pollingFast=false;input.slowPoll()}}var missed=false;var input=this;input.pollingFast=
true;input.polling.set(20,p)};TextareaInput.prototype.poll=function(){var this$1=this;var cm=this.cm;var input=this.textarea;var prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq)return false;var text=input.value;if(text==prevInput&&!cm.somethingSelected())return false;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();
return false}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(first==8203&&!prevInput)prevInput="\u200b";if(first==8666){this.reset();return this.cm.execCommand("undo")}}var same=0;var l=Math.min(prevInput.length,text.length);for(;same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same);)++same;runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(text.length>1E3||text.indexOf("\n")>-1)input.value=this$1.prevInput=
"";else this$1.prevInput=text;if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return true};TextareaInput.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll())this.pollingFast=false};TextareaInput.prototype.onKeyPress=function(){if(ie&&ie_version>=9)this.hasSelection=null;this.fastPoll()};TextareaInput.prototype.onContextMenu=function(e){function prepareSelectAllHack(){if(te.selectionStart!=
null){var selected=cm.somethingSelected();var extval="\u200b"+(selected?te.value:"");te.value="\u21da";te.value=extval;input.prevInput=selected?"":"\u200b";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending!=rehide)return;input.contextMenuPending=false;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&ie_version<9)display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos);if(te.selectionStart!=
null){if(!ie||ie&&ie_version<9)prepareSelectAllHack();var i=0;var poll=function(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput=="\u200b")operation(cm,selectAll)(cm);else if(i++<10)display.detectingSelectAll=setTimeout(poll,500);else{display.selForContextMenu=null;display.input.reset()}};display.detectingSelectAll=setTimeout(poll,200)}}var input=this;var cm=input.cm;var display=cm.display;var te=input.textarea;if(input.contextMenuPending)input.contextMenuPending();
var pos=posFromMouse(cm,e);var scrollPos=display.scroller.scrollTop;if(!pos||presto)return;var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1)operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText;var oldWrapperCSS=input.wrapper.style.cssText;var wrapperBox=input.wrapper.offsetParent.getBoundingClientRect();input.wrapper.style.cssText="position: static";te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+
(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit)oldScrollY=window.scrollY;display.input.focus();if(webkit)window.scrollTo(null,oldScrollY);display.input.reset();if(!cm.somethingSelected())te.value=input.prevInput=" ";input.contextMenuPending=rehide;
display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);if(ie&&ie_version>=9)prepareSelectAllHack();if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else setTimeout(rehide,50)};TextareaInput.prototype.readOnlyChanged=function(val){if(!val)this.reset();this.textarea.disabled=val=="nocursor";this.textarea.readOnly=!!val};TextareaInput.prototype.setUneditable=function(){};TextareaInput.prototype.needsContentAttribute=
false;defineOptions(CodeMirror);addEditorMethods(CodeMirror);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");var prop;for(prop in Doc.prototype)if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0)CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]);eventMixin(Doc);CodeMirror.inputStyles={"textarea":TextareaInput,"contenteditable":ContentEditableInput};CodeMirror.defineMode=function(name){if(!CodeMirror.defaults.mode&&
name!="null")CodeMirror.defaults.mode=name;defineMode.apply(this,arguments)};CodeMirror.defineMIME=defineMIME;CodeMirror.defineMode("null",function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version="5.65.6";
return CodeMirror});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function dialogDiv(cm,template,bottom){var wrap=cm.getWrapperElement();var dialog;dialog=wrap.appendChild(document.createElement("div"));if(bottom)dialog.className="CodeMirror-dialog CodeMirror-dialog-bottom";else dialog.className="CodeMirror-dialog CodeMirror-dialog-top";
dialog.appendChild(template);CodeMirror.addClass(wrap,"dialog-opened");return dialog}function closeNotification(cm,newVal){if(cm.state.currentNotificationClose)cm.state.currentNotificationClose();cm.state.currentNotificationClose=newVal}CodeMirror.defineExtension("openDialog",function(template,callback,options){function close(newVal){if(typeof newVal=="string")inp.value=newVal;else{if(closed)return;closed=true;CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog);
me.focus();if(options.onClose)options.onClose(dialog)}}if(!options)options={};closeNotification(this,null);var dialog=dialogDiv(this,template,options.bottom);var closed=false;var me=this;var inp=dialog.getElementsByTagName("input")[0];var button;if(inp){inp.focus();if(options.value){inp.value=options.value;if(options.selectValueOnOpen!==false)inp.select()}if(options.onInput)CodeMirror.on(inp,"input",function(e){options.onInput(e,inp.value,close)});if(options.onKeyUp)CodeMirror.on(inp,"keyup",function(e){options.onKeyUp(e,
inp.value,close)});CodeMirror.on(inp,"keydown",function(e){if(options&&options.onKeyDown&&options.onKeyDown(e,inp.value,close))return;if(e.keyCode==27||options.closeOnEnter!==false&&e.keyCode==13){inp.blur();CodeMirror.e_stop(e);close()}if(e.keyCode==13)callback(inp.value,e)});if(options.closeOnBlur!==false)CodeMirror.on(dialog,"focusout",function(evt){if(evt.relatedTarget!==null)close()})}else if(button=dialog.getElementsByTagName("button")[0]){CodeMirror.on(button,"click",function(){close();me.focus()});
if(options.closeOnBlur!==false)CodeMirror.on(button,"blur",close);button.focus()}return close});CodeMirror.defineExtension("openConfirm",function(template,callbacks,options){function close(){if(closed)return;closed=true;CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog);me.focus()}closeNotification(this,null);var dialog=dialogDiv(this,template,options&&options.bottom);var buttons=dialog.getElementsByTagName("button");var closed=false;var me=this;var blurring=
1;buttons[0].focus();var i=0;for(;i<buttons.length;++i){var b=buttons[i];(function(callback){CodeMirror.on(b,"click",function(e){CodeMirror.e_preventDefault(e);close();if(callback)callback(me)})})(callbacks[i]);CodeMirror.on(b,"blur",function(){--blurring;setTimeout(function(){if(blurring<=0)close()},200)});CodeMirror.on(b,"focus",function(){++blurring})}});CodeMirror.defineExtension("openNotification",function(template,options){function close(){if(closed)return;closed=true;clearTimeout(doneTimer);
CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog)}closeNotification(this,close);var dialog=dialogDiv(this,template,options&&options.bottom);var closed=false;var doneTimer;var duration=options&&typeof options.duration!=="undefined"?options.duration:5E3;CodeMirror.on(dialog,"click",function(e){CodeMirror.e_preventDefault(e);close()});if(duration)doneTimer=setTimeout(close,duration);return close})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function bracketFolding(pairs){return function(cm,start){function findOpening(pair){var tokenType;var at=start.ch;var pass=0;for(;;){var found=at<=0?-1:lineText.lastIndexOf(pair[0],at-1);if(found==-1){if(pass==1)break;pass=1;at=lineText.length;continue}if(pass==1&&found<
start.ch)break;tokenType=cm.getTokenTypeAt(CodeMirror.Pos(line,found+1));if(!/^(comment|string)/.test(tokenType))return{ch:found+1,tokenType:tokenType,pair:pair};at=found-1}}function findRange(found){var count=1;var lastLine=cm.lastLine();var end;var startCh=found.ch;var endCh;var i=line;outer:for(;i<=lastLine;++i){var text=cm.getLine(i);var pos=i==line?startCh:0;for(;;){var nextOpen=text.indexOf(found.pair[0],pos);var nextClose=text.indexOf(found.pair[1],pos);if(nextOpen<0)nextOpen=text.length;if(nextClose<
0)nextClose=text.length;pos=Math.min(nextOpen,nextClose);if(pos==text.length)break;if(cm.getTokenTypeAt(CodeMirror.Pos(i,pos+1))==found.tokenType)if(pos==nextOpen)++count;else if(!--count){end=i;endCh=pos;break outer}++pos}}if(end==null||line==end)return null;return{from:CodeMirror.Pos(line,startCh),to:CodeMirror.Pos(end,endCh)}}var line=start.line;var lineText=cm.getLine(line);var found=[];var i=0;for(;i<pairs.length;i++){var open=findOpening(pairs[i]);if(open)found.push(open)}found.sort(function(a,
b){return a.ch-b.ch});i=0;for(;i<found.length;i++){var range=findRange(found[i]);if(range)return range}return null}}CodeMirror.registerHelper("fold","brace",bracketFolding([["{","}"],["[","]"]]));CodeMirror.registerHelper("fold","brace-paren",bracketFolding([["{","}"],["[","]"],["(",")"]]));CodeMirror.registerHelper("fold","import",function(cm,start){function hasImport(line){if(line<cm.firstLine()||line>cm.lastLine())return null;var start=cm.getTokenAt(CodeMirror.Pos(line,1));if(!/\S/.test(start.string))start=
cm.getTokenAt(CodeMirror.Pos(line,start.end+1));if(start.type!="keyword"||start.string!="import")return null;var i=line;var e=Math.min(cm.lastLine(),line+10);for(;i<=e;++i){var text=cm.getLine(i);var semi=text.indexOf(";");if(semi!=-1)return{startCh:start.end,end:CodeMirror.Pos(i,semi)}}}var startLine=start.line;var has=hasImport(startLine);var prev;if(!has||hasImport(startLine-1)||(prev=hasImport(startLine-2))&&prev.end.line==startLine-1)return null;var end=has.end;for(;;){var next=hasImport(end.line+
1);if(next==null)break;end=next.end}return{from:cm.clipPos(CodeMirror.Pos(startLine,has.startCh+1)),to:end}});CodeMirror.registerHelper("fold","include",function(cm,start){function hasInclude(line){if(line<cm.firstLine()||line>cm.lastLine())return null;var start=cm.getTokenAt(CodeMirror.Pos(line,1));if(!/\S/.test(start.string))start=cm.getTokenAt(CodeMirror.Pos(line,start.end+1));if(start.type=="meta"&&start.string.slice(0,8)=="#include")return start.start+8}var startLine=start.line;var has=hasInclude(startLine);
if(has==null||hasInclude(startLine-1)!=null)return null;var end=startLine;for(;;){var next=hasInclude(end+1);if(next==null)break;++end}return{from:CodeMirror.Pos(startLine,has+1),to:cm.clipPos(CodeMirror.Pos(end))}})});/*

 Copyright (C) 2014 by Marijn Haverbeke <marijnh@gmail.com> and others

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
(function(){function enableRangeCollapsing(cm){cm.on("gutterClick",gutterClick);cm.setOption("gutters",(cm.getOption("gutters")||[]).concat([gutterClass]))}function disableRangeCollapsing(cm){cm.rangeCollapseStart=null;cm.off("gutterClick",gutterClick);var gutters=cm.getOption("gutters");var i=0;for(;i<gutters.length&&gutters[i]!=gutterClass;++i);cm.setOption("gutters",gutters.slice(0,i).concat(gutters.slice(i+1)))}function gutterClick(cm,line,gutter){if(gutter!=gutterClass)return;var start=cm.rangeCollapseStart;
if(start){var old=cm.getLineNumber(start);cm.setGutterMarker(start,gutterClass,null);cm.rangeCollapseStart=null;var from=Math.min(old,line);var to=Math.max(old,line);if(from!=to){var fold=cm.markText({line:from+1,ch:0},{line:to-1},{collapsed:true,inclusiveLeft:true,inclusiveRight:true,clearOnEnter:true});var clear=function(){cm.setGutterMarker(topLine,gutterClass,null);cm.setGutterMarker(botLine,gutterClass,null);fold.clear()};var topLine=cm.setGutterMarker(from,gutterClass,makeMarker(true,true,clear));
var botLine=cm.setGutterMarker(to,gutterClass,makeMarker(false,true,clear));CodeMirror.on(fold,"clear",clear);return}}cm.rangeCollapseStart=cm.setGutterMarker(line,gutterClass,makeMarker(true,false))}function makeMarker(isTop,isFinished,handler){var node=document.createElement("div");node.textContent=isTop?"\u25bc":"\u25b2";if(!isFinished)node.style.color="red";node.style.fontSize="85%";node.style.cursor="pointer";if(handler)CodeMirror.on(node,"mousedown",handler);return node}CodeMirror.defineOption("collapseRange",
false,function(cm,val,old){var wasOn=old&&old!=CodeMirror.Init;if(val&&!wasOn)enableRangeCollapsing(cm);else if(!val&&wasOn)disableRangeCollapsing(cm)});var gutterClass="CodeMirror-collapserange"})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerGlobalHelper("fold","comment",function(mode){return mode.blockCommentStart&&mode.blockCommentEnd},function(cm,start){var mode=cm.getModeAt(start);var startToken=mode.blockCommentStart;var endToken=mode.blockCommentEnd;if(!startToken||!endToken)return;
var line=start.line;var lineText=cm.getLine(line);var startCh;var at=start.ch;var pass=0;for(;;){var found=at<=0?-1:lineText.lastIndexOf(startToken,at-1);if(found==-1){if(pass==1)return;pass=1;at=lineText.length;continue}if(pass==1&&found<start.ch)return;if(/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line,found+1)))&&(found==0||lineText.slice(found-endToken.length,found)==endToken||!/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line,found))))){startCh=found+startToken.length;break}at=found-
1}var depth=1;var lastLine=cm.lastLine();var end;var endCh;var i=line;outer:for(;i<=lastLine;++i){var text=cm.getLine(i);var pos=i==line?startCh:0;for(;;){var nextOpen=text.indexOf(startToken,pos);var nextClose=text.indexOf(endToken,pos);if(nextOpen<0)nextOpen=text.length;if(nextClose<0)nextClose=text.length;pos=Math.min(nextOpen,nextClose);if(pos==text.length)break;if(pos==nextOpen)++depth;else if(!--depth){end=i;endCh=pos;break outer}++pos}}if(end==null||line==end&&endCh==startCh)return;return{from:CodeMirror.Pos(line,
startCh),to:CodeMirror.Pos(end,endCh)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function doFold(cm,pos,options,force){function getRange(allowFolded){var range=finder(cm,pos);if(!range||range.to.line-range.from.line<minSize)return null;if(force==="fold")return range;var marks=cm.findMarksAt(range.from);var i=0;for(;i<marks.length;++i)if(marks[i].__isFold){if(!allowFolded)return null;
range.cleared=true;marks[i].clear()}return range}if(options&&options.call){var finder=options;options=null}else finder=getOption(cm,options,"rangeFinder");if(typeof pos=="number")pos=CodeMirror.Pos(pos,0);var minSize=getOption(cm,options,"minFoldSize");var range=getRange(true);if(getOption(cm,options,"scanUp"))for(;!range&&pos.line>cm.firstLine();){pos=CodeMirror.Pos(pos.line-1,0);range=getRange(false)}if(!range||range.cleared||force==="unfold")return;var myWidget=makeWidget(cm,options,range);CodeMirror.on(myWidget,
"mousedown",function(e){myRange.clear();CodeMirror.e_preventDefault(e)});var myRange=cm.markText(range.from,range.to,{replacedWith:myWidget,clearOnEnter:getOption(cm,options,"clearOnEnter"),__isFold:true});myRange.on("clear",function(from,to){CodeMirror.signal(cm,"unfold",cm,from,to)});CodeMirror.signal(cm,"fold",cm,range.from,range.to)}function makeWidget(cm,options,range){var widget=getOption(cm,options,"widget");if(typeof widget=="function")widget=widget(range.from,range.to);if(typeof widget==
"string"){var text=document.createTextNode(widget);widget=document.createElement("span");widget.appendChild(text);widget.className="CodeMirror-foldmarker"}else if(widget)widget=widget.cloneNode(true);return widget}function getOption(cm,options,name){if(options&&options[name]!==undefined)return options[name];var editorOptions=cm.options.foldOptions;if(editorOptions&&editorOptions[name]!==undefined)return editorOptions[name];return defaultOptions[name]}CodeMirror.newFoldFunction=function(rangeFinder,
widget){return function(cm,pos){doFold(cm,pos,{rangeFinder:rangeFinder,widget:widget})}};CodeMirror.defineExtension("foldCode",function(pos,options,force){doFold(this,pos,options,force)});CodeMirror.defineExtension("isFolded",function(pos){var marks=this.findMarksAt(pos);var i=0;for(;i<marks.length;++i)if(marks[i].__isFold)return true});CodeMirror.commands.toggleFold=function(cm){cm.foldCode(cm.getCursor())};CodeMirror.commands.fold=function(cm){cm.foldCode(cm.getCursor(),null,"fold")};CodeMirror.commands.unfold=
function(cm){cm.foldCode(cm.getCursor(),{scanUp:false},"unfold")};CodeMirror.commands.foldAll=function(cm){cm.operation(function(){var i=cm.firstLine();var e=cm.lastLine();for(;i<=e;i++)cm.foldCode(CodeMirror.Pos(i,0),{scanUp:false},"fold")})};CodeMirror.commands.unfoldAll=function(cm){cm.operation(function(){var i=cm.firstLine();var e=cm.lastLine();for(;i<=e;i++)cm.foldCode(CodeMirror.Pos(i,0),{scanUp:false},"unfold")})};CodeMirror.registerHelper("fold","combine",function(){var funcs=Array.prototype.slice.call(arguments,
0);return function(cm,start){var i=0;for(;i<funcs.length;++i){var found=funcs[i](cm,start);if(found)return found}}});CodeMirror.registerHelper("fold","auto",function(cm,start){var helpers=cm.getHelpers(start,"fold");var i=0;for(;i<helpers.length;i++){var cur=helpers[i](cm,start);if(cur)return cur}});var defaultOptions={rangeFinder:CodeMirror.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:false,clearOnEnter:true};CodeMirror.defineOption("foldOptions",null);CodeMirror.defineExtension("foldOption",function(options,
name){return getOption(this,options,name)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./foldcode"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./foldcode"],mod);else mod(CodeMirror)})(function(CodeMirror){function State(options){this.options=options;this.from=this.to=0}function parseOptions(opts){if(opts===true)opts={};if(opts.gutter==null)opts.gutter="CodeMirror-foldgutter";if(opts.indicatorOpen==null)opts.indicatorOpen="CodeMirror-foldgutter-open";
if(opts.indicatorFolded==null)opts.indicatorFolded="CodeMirror-foldgutter-folded";return opts}function isFolded(cm,line){var marks=cm.findMarks(Pos(line,0),Pos(line+1,0));var i=0;for(;i<marks.length;++i)if(marks[i].__isFold){var fromPos=marks[i].find(-1);if(fromPos&&fromPos.line===line)return marks[i]}}function marker(spec){if(typeof spec=="string"){var elt=document.createElement("div");elt.className=spec+" CodeMirror-guttermarker-subtle";return elt}else return spec.cloneNode(true)}function updateFoldInfo(cm,
from,to){var opts=cm.state.foldGutter.options;var cur=from-1;var minSize=cm.foldOption(opts,"minFoldSize");var func=cm.foldOption(opts,"rangeFinder");var clsFolded=typeof opts.indicatorFolded=="string"&&classTest(opts.indicatorFolded);var clsOpen=typeof opts.indicatorOpen=="string"&&classTest(opts.indicatorOpen);cm.eachLine(from,to,function(line){++cur;var mark=null;var old=line.gutterMarkers;if(old)old=old[opts.gutter];if(isFolded(cm,cur)){if(clsFolded&&old&&clsFolded.test(old.className))return;
mark=marker(opts.indicatorFolded)}else{var pos=Pos(cur,0);var range=func&&func(cm,pos);if(range&&range.to.line-range.from.line>=minSize){if(clsOpen&&old&&clsOpen.test(old.className))return;mark=marker(opts.indicatorOpen)}}if(!mark&&!old)return;cm.setGutterMarker(line,opts.gutter,mark)})}function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}function updateInViewport(cm){var vp=cm.getViewport();var state=cm.state.foldGutter;if(!state)return;cm.operation(function(){updateFoldInfo(cm,
vp.from,vp.to)});state.from=vp.from;state.to=vp.to}function onGutterClick(cm,line,gutter){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;if(gutter!=opts.gutter)return;var folded=isFolded(cm,line);if(folded)folded.clear();else cm.foldCode(Pos(line,0),opts)}function onChange(cm){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;state.from=state.to=0;clearTimeout(state.changeUpdate);state.changeUpdate=setTimeout(function(){updateInViewport(cm)},opts.foldOnChangeTimeSpan||
600)}function onViewportChange(cm){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;clearTimeout(state.changeUpdate);state.changeUpdate=setTimeout(function(){var vp=cm.getViewport();if(state.from==state.to||vp.from-state.to>20||state.from-vp.to>20)updateInViewport(cm);else cm.operation(function(){if(vp.from<state.from){updateFoldInfo(cm,vp.from,state.from);state.from=vp.from}if(vp.to>state.to){updateFoldInfo(cm,state.to,vp.to);state.to=vp.to}})},opts.updateViewportTimeSpan||400)}
function onFold(cm,from){var state=cm.state.foldGutter;if(!state)return;var line=from.line;if(line>=state.from&&line<state.to)updateFoldInfo(cm,line,line+1)}CodeMirror.defineOption("foldGutter",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.clearGutter(cm.state.foldGutter.options.gutter);cm.state.foldGutter=null;cm.off("gutterClick",onGutterClick);cm.off("changes",onChange);cm.off("viewportChange",onViewportChange);cm.off("fold",onFold);cm.off("unfold",onFold);cm.off("swapDoc",onChange)}if(val){cm.state.foldGutter=
new State(parseOptions(val));updateInViewport(cm);cm.on("gutterClick",onGutterClick);cm.on("changes",onChange);cm.on("viewportChange",onViewportChange);cm.on("fold",onFold);cm.on("unfold",onFold);cm.on("swapDoc",onChange)}});var Pos=CodeMirror.Pos});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function lineIndent(cm,lineNo){var text=cm.getLine(lineNo);var spaceTo=text.search(/\S/);if(spaceTo==-1||/\bcomment\b/.test(cm.getTokenTypeAt(CodeMirror.Pos(lineNo,spaceTo+1))))return-1;return CodeMirror.countColumn(text,null,cm.getOption("tabSize"))}CodeMirror.registerHelper("fold",
"indent",function(cm,start){var myIndent=lineIndent(cm,start.line);if(myIndent<0)return;var lastLineInFold=null;var i=start.line+1;var end=cm.lastLine();for(;i<=end;++i){var indent=lineIndent(cm,i);if(indent==-1);else if(indent>myIndent)lastLineInFold=i;else break}if(lastLineInFold)return{from:CodeMirror.Pos(start.line,cm.getLine(start.line).length),to:CodeMirror.Pos(lastLineInFold,cm.getLine(lastLineInFold).length)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("fold","markdown",function(cm,start){function isHeader(lineNo){var tokentype=cm.getTokenTypeAt(CodeMirror.Pos(lineNo,0));return tokentype&&/\bheader\b/.test(tokentype)}function headerLevel(lineNo,line,nextLine){var match=line&&line.match(/^#+/);
if(match&&isHeader(lineNo))return match[0].length;match=nextLine&&nextLine.match(/^[=\-]+\s*$/);if(match&&isHeader(lineNo+1))return nextLine[0]=="="?1:2;return maxDepth}var maxDepth=100;var firstLine=cm.getLine(start.line);var nextLine=cm.getLine(start.line+1);var level=headerLevel(start.line,firstLine,nextLine);if(level===maxDepth)return undefined;var lastLineNo=cm.lastLine();var end=start.line;var nextNextLine=cm.getLine(end+2);for(;end<lastLineNo;){if(headerLevel(end+1,nextLine,nextNextLine)<=
level)break;++end;nextLine=nextNextLine;nextNextLine=cm.getLine(end+2)}return{from:CodeMirror.Pos(start.line,firstLine.length),to:CodeMirror.Pos(end,cm.getLine(end).length)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function cmp(a,b){return a.line-b.line||a.ch-b.ch}function Iter(cm,line,ch,range){this.line=line;this.ch=ch;this.cm=cm;this.text=cm.getLine(line);this.min=range?Math.max(range.from,cm.firstLine()):cm.firstLine();this.max=range?Math.min(range.to-1,cm.lastLine()):cm.lastLine()}
function tagAt(iter,ch){var type=iter.cm.getTokenTypeAt(Pos(iter.line,ch));return type&&/\btag\b/.test(type)}function nextLine(iter){if(iter.line>=iter.max)return;iter.ch=0;iter.text=iter.cm.getLine(++iter.line);return true}function prevLine(iter){if(iter.line<=iter.min)return;iter.text=iter.cm.getLine(--iter.line);iter.ch=iter.text.length;return true}function toTagEnd(iter){for(;;){var gt=iter.text.indexOf(">",iter.ch);if(gt==-1)if(nextLine(iter))continue;else return;if(!tagAt(iter,gt+1)){iter.ch=
gt+1;continue}var lastSlash=iter.text.lastIndexOf("/",gt);var selfClose=lastSlash>-1&&!/\S/.test(iter.text.slice(lastSlash+1,gt));iter.ch=gt+1;return selfClose?"selfClose":"regular"}}function toTagStart(iter){for(;;){var lt=iter.ch?iter.text.lastIndexOf("<",iter.ch-1):-1;if(lt==-1)if(prevLine(iter))continue;else return;if(!tagAt(iter,lt+1)){iter.ch=lt;continue}xmlTagStart.lastIndex=lt;iter.ch=lt;var match=xmlTagStart.exec(iter.text);if(match&&match.index==lt)return match}}function toNextTag(iter){for(;;){xmlTagStart.lastIndex=
iter.ch;var found=xmlTagStart.exec(iter.text);if(!found)if(nextLine(iter))continue;else return;if(!tagAt(iter,found.index+1)){iter.ch=found.index+1;continue}iter.ch=found.index+found[0].length;return found}}function toPrevTag(iter){for(;;){var gt=iter.ch?iter.text.lastIndexOf(">",iter.ch-1):-1;if(gt==-1)if(prevLine(iter))continue;else return;if(!tagAt(iter,gt+1)){iter.ch=gt;continue}var lastSlash=iter.text.lastIndexOf("/",gt);var selfClose=lastSlash>-1&&!/\S/.test(iter.text.slice(lastSlash+1,gt));
iter.ch=gt+1;return selfClose?"selfClose":"regular"}}function findMatchingClose(iter,tag){var stack=[];for(;;){var next=toNextTag(iter);var end;var startLine=iter.line;var startCh=iter.ch-(next?next[0].length:0);if(!next||!(end=toTagEnd(iter)))return;if(end=="selfClose")continue;if(next[1]){var i=stack.length-1;for(;i>=0;--i)if(stack[i]==next[2]){stack.length=i;break}if(i<0&&(!tag||tag==next[2]))return{tag:next[2],from:Pos(startLine,startCh),to:Pos(iter.line,iter.ch)}}else stack.push(next[2])}}function findMatchingOpen(iter,
tag){var stack=[];for(;;){var prev=toPrevTag(iter);if(!prev)return;if(prev=="selfClose"){toTagStart(iter);continue}var endLine=iter.line;var endCh=iter.ch;var start=toTagStart(iter);if(!start)return;if(start[1])stack.push(start[2]);else{var i=stack.length-1;for(;i>=0;--i)if(stack[i]==start[2]){stack.length=i;break}if(i<0&&(!tag||tag==start[2]))return{tag:start[2],from:Pos(iter.line,iter.ch),to:Pos(endLine,endCh)}}}}var Pos=CodeMirror.Pos;var nameStartChar="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";
var nameChar=nameStartChar+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";var xmlTagStart=new RegExp("<(/?)(["+nameStartChar+"]["+nameChar+"]*)","g");CodeMirror.registerHelper("fold","xml",function(cm,start){var iter=new Iter(cm,start.line,0);for(;;){var openTag=toNextTag(iter);if(!openTag||iter.line!=start.line)return;var end=toTagEnd(iter);if(!end)return;if(!openTag[1]&&end!="selfClose"){var startPos=Pos(iter.line,iter.ch);var endPos=findMatchingClose(iter,openTag[2]);return endPos&&cmp(endPos.from,
startPos)>0?{from:startPos,to:endPos.from}:null}}});CodeMirror.findMatchingTag=function(cm,pos,range){var iter=new Iter(cm,pos.line,pos.ch,range);if(iter.text.indexOf(">")==-1&&iter.text.indexOf("<")==-1)return;var end=toTagEnd(iter);var to=end&&Pos(iter.line,iter.ch);var start=end&&toTagStart(iter);if(!end||!start||cmp(iter,pos)>0)return;var here={from:Pos(iter.line,iter.ch),to:to,tag:start[2]};if(end=="selfClose")return{open:here,close:null,at:"open"};if(start[1])return{open:findMatchingOpen(iter,
start[2]),close:here,at:"close"};else{iter=new Iter(cm,to.line,to.ch,range);return{open:here,close:findMatchingClose(iter,start[2]),at:"open"}}};CodeMirror.findEnclosingTag=function(cm,pos,range,tag){var iter=new Iter(cm,pos.line,pos.ch,range);for(;;){var open=findMatchingOpen(iter,tag);if(!open)break;var forward=new Iter(cm,pos.line,pos.ch,range);var close=findMatchingClose(forward,open.tag);if(close)return{open:open,close:close}}};CodeMirror.scanForClosingTag=function(cm,pos,name,end){var iter=
new Iter(cm,pos.line,pos.ch,end?{from:0,to:end}:null);return findMatchingClose(iter,name)}});(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(_type,content){return/^[;{}]$/.test(content)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(_type,content,textAfter,state){if(this.jsonMode)return/^[\[,{]$/.test(content)||/^}/.test(textAfter);else{if(content==";"&&state.lexical&&state.lexical.type==")")return false;return/^[;{}]$/.test(content)&&!/^;/.test(textAfter)}}});var inlineElements=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
CodeMirror.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(type,content,textAfter,state){var inline=false;if(this.configuration=="html")inline=state.context?inlineElements.test(state.context.tagName):false;return!inline&&(type=="tag"&&/>$/.test(content)&&state.context||/^</.test(textAfter))}});CodeMirror.defineExtension("commentRange",function(isComment,from,to){var cm=this;var curMode=CodeMirror.innerMode(cm.getMode(),cm.getTokenAt(from).state).mode;cm.operation(function(){if(isComment){cm.replaceRange(curMode.commentEnd,
to);cm.replaceRange(curMode.commentStart,from);if(from.line==to.line&&from.ch==to.ch)cm.setCursor(from.line,from.ch+curMode.commentStart.length)}else{var selText=cm.getRange(from,to);var startIndex=selText.indexOf(curMode.commentStart);var endIndex=selText.lastIndexOf(curMode.commentEnd);if(startIndex>-1&&endIndex>-1&&endIndex>startIndex)selText=selText.substr(0,startIndex)+selText.substring(startIndex+curMode.commentStart.length,endIndex)+selText.substr(endIndex+curMode.commentEnd.length);cm.replaceRange(selText,
from,to)}})});CodeMirror.defineExtension("autoIndentRange",function(from,to){var cmInstance=this;this.operation(function(){var i=from.line;for(;i<=to.line;i++)cmInstance.indentLine(i,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(from,to){function newline(){out=out+"\n";atSol=true;++lines}var cm=this;var outer=cm.getMode();var text=cm.getRange(from,to).split("\n");var state=CodeMirror.copyState(outer,cm.getTokenAt(from).state);var tabSize=cm.getOption("tabSize");var out="";var lines=
0;var atSol=from.ch==0;var i=0;for(;i<text.length;++i){var stream=new CodeMirror.StringStream(text[i],tabSize);for(;!stream.eol();){var inner=CodeMirror.innerMode(outer,state);var style=outer.token(stream,state);var cur=stream.current();stream.start=stream.pos;if(!atSol||/\S/.test(cur)){out=out+cur;atSol=false}if(!atSol&&inner.mode.newlineAfterToken&&inner.mode.newlineAfterToken(style,cur,stream.string.slice(stream.pos)||text[i+1]||"",inner.state))newline()}if(!stream.pos&&outer.blankLine)outer.blankLine(state);
if(!atSol&&i<text.length-1)newline()}cm.operation(function(){cm.replaceRange(out,from,to);var cur=from.line+1;var end=from.line+lines;for(;cur<=end;++cur)cm.indentLine(cur,"smart");cm.setSelection(from,cm.getCursor(false))})})})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","coffeescript",function(text){var found=[];if(!window.coffeelint){if(window.console)window.console.error("Error: window.coffeelint not defined, CodeMirror CoffeeScript linting cannot run.");return found}var parseError=function(err){var loc=
err.lineNumber;found.push({from:CodeMirror.Pos(loc-1,0),to:CodeMirror.Pos(loc,0),severity:err.level,message:err.message})};try{var res=coffeelint.lint(text);var i=0;for(;i<res.length;i++)parseError(res[i])}catch(e){found.push({from:CodeMirror.Pos(e.location.first_line,0),to:CodeMirror.Pos(e.location.last_line,e.location.last_column),severity:"error",message:e.message})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","css",function(text,options){var found=[];if(!window.CSSLint){if(window.console)window.console.error("Error: window.CSSLint not defined, CodeMirror CSS linting cannot run.");return found}var results=CSSLint.verify(text,options);var messages=
results.messages;var message=null;var i=0;for(;i<messages.length;i++){message=messages[i];var startLine=message.line-1;var endLine=message.line-1;var startCol=message.col-1;var endCol=message.col;found.push({from:CodeMirror.Pos(startLine,startCol),to:CodeMirror.Pos(endLine,endCol),message:message.message,severity:message.type})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("htmlhint"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","htmlhint"],mod);else mod(CodeMirror,window.HTMLHint)})(function(CodeMirror,HTMLHint){var defaultRules={"tagname-lowercase":true,"attr-lowercase":true,"attr-value-double-quotes":true,"doctype-first":false,"tag-pair":true,"spec-char-escape":true,"id-unique":true,"src-not-empty":true,"attr-no-duplication":true};
CodeMirror.registerHelper("lint","html",function(text,options){var found=[];if(HTMLHint&&!HTMLHint.verify)if(typeof HTMLHint.default!=="undefined")HTMLHint=HTMLHint.default;else HTMLHint=HTMLHint.HTMLHint;if(!HTMLHint)HTMLHint=window.HTMLHint;if(!HTMLHint){if(window.console)window.console.error("Error: HTMLHint not found, not defined on window, or not available through define/require, CodeMirror HTML linting cannot run.");return found}var messages=HTMLHint.verify(text,options&&options.rules||defaultRules);
var i=0;for(;i<messages.length;i++){var message=messages[i];var startLine=message.line-1;var endLine=message.line-1;var startCol=message.col-1;var endCol=message.col;found.push({from:CodeMirror.Pos(startLine,startCol),to:CodeMirror.Pos(endLine,endCol),message:message.message,severity:message.type})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function validator(text,options){if(!window.JSHINT){if(window.console)window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run.");return[]}if(!options.indent)options.indent=1;JSHINT(text,options,options.globals);var errors=JSHINT.data().errors;
var result=[];if(errors)parseErrors(errors,result);return result}function parseErrors(errors,output){var i=0;for(;i<errors.length;i++){var error=errors[i];if(error){if(error.line<=0){if(window.console)window.console.warn("Cannot display JSHint error (invalid line "+error.line+")",error);continue}var start=error.character-1;var end=start+1;if(error.evidence){var index=error.evidence.substring(start).search(/.\b/);if(index>-1)end=end+index}var hint={message:error.reason,severity:error.code?error.code.startsWith("W")?
"warning":"error":"error",from:CodeMirror.Pos(error.line-1,start),to:CodeMirror.Pos(error.line-1,end)};output.push(hint)}}}CodeMirror.registerHelper("lint","javascript",validator)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","json",function(text){var found=[];if(!window.jsonlint){if(window.console)window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run.");return found}var jsonlint=window.jsonlint.parser||window.jsonlint;
jsonlint.parseError=function(str,hash){var loc=hash.loc;found.push({from:CodeMirror.Pos(loc.first_line-1,loc.first_column),to:CodeMirror.Pos(loc.last_line-1,loc.last_column),message:str})};try{jsonlint.parse(text)}catch(e){}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function showTooltip(cm,e,content){function position(e){if(!tt.parentNode)return CodeMirror.off(document,"mousemove",position);tt.style.top=Math.max(0,e.clientY-tt.offsetHeight-5)+"px";tt.style.left=e.clientX+5+"px"}var tt=document.createElement("div");tt.className="CodeMirror-lint-tooltip cm-s-"+
cm.options.theme;tt.appendChild(content.cloneNode(true));if(cm.state.lint.options.selfContain)cm.getWrapperElement().appendChild(tt);else document.body.appendChild(tt);CodeMirror.on(document,"mousemove",position);position(e);if(tt.style.opacity!=null)tt.style.opacity=1;return tt}function rm(elt){if(elt.parentNode)elt.parentNode.removeChild(elt)}function hideTooltip(tt){if(!tt.parentNode)return;if(tt.style.opacity==null)rm(tt);tt.style.opacity=0;setTimeout(function(){rm(tt)},600)}function showTooltipFor(cm,
e,content,node){function hide(){CodeMirror.off(node,"mouseout",hide);if(tooltip){hideTooltip(tooltip);tooltip=null}}var tooltip=showTooltip(cm,e,content);var poll=setInterval(function(){if(tooltip){var n=node;for(;;n=n.parentNode){if(n&&n.nodeType==11)n=n.host;if(n==document.body)return;if(!n){hide();break}}}if(!tooltip)return clearInterval(poll)},400);CodeMirror.on(node,"mouseout",hide)}function LintState(cm,conf,hasGutter){this.marked=[];if(conf instanceof Function)conf={getAnnotations:conf};if(!conf||
conf===true)conf={};this.options={};this.linterOptions=conf.options||{};var prop;for(prop in defaults)this.options[prop]=defaults[prop];for(prop in conf)if(defaults.hasOwnProperty(prop)){if(conf[prop]!=null)this.options[prop]=conf[prop]}else if(!conf.options)this.linterOptions[prop]=conf[prop];this.timeout=null;this.hasGutter=hasGutter;this.onMouseOver=function(e){onMouseOver(cm,e)};this.waitingFor=0}function clearMarks(cm){var state=cm.state.lint;if(state.hasGutter)cm.clearGutter(GUTTER_ID);if(state.options.highlightLines)clearErrorLines(cm);
var i=0;for(;i<state.marked.length;++i)state.marked[i].clear();state.marked.length=0}function clearErrorLines(cm){cm.eachLine(function(line){var has=line.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(line.wrapClass);if(has)cm.removeLineClass(line,"wrap",has[0])})}function makeMarker(cm,labels,severity,multiple,tooltips){var marker=document.createElement("div");var inner=marker;marker.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+severity;if(multiple){inner=marker.appendChild(document.createElement("div"));
inner.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"}if(tooltips!=false)CodeMirror.on(inner,"mouseover",function(e){showTooltipFor(cm,e,labels,inner)});return marker}function getMaxSeverity(a,b){if(a=="error")return a;else return b}function groupByLine(annotations){var lines=[];var i=0;for(;i<annotations.length;++i){var ann=annotations[i];var line=ann.from.line;(lines[line]||(lines[line]=[])).push(ann)}return lines}function annotationTooltip(ann){var severity=ann.severity;if(!severity)severity=
"error";var tip=document.createElement("div");tip.className="CodeMirror-lint-message CodeMirror-lint-message-"+severity;tip.appendChild(document.createTextNode(ann.message));return tip}function lintAsync(cm,getAnnotations){function abort(){id=-1;cm.off("change",abort)}var state=cm.state.lint;var id=++state.waitingFor;cm.on("change",abort);getAnnotations(cm.getValue(),function(annotations,arg2){cm.off("change",abort);if(state.waitingFor!=id)return;if(arg2&&annotations instanceof CodeMirror)annotations=
arg2;cm.operation(function(){updateLinting(cm,annotations)})},state.linterOptions,cm)}function startLinting(cm){var state=cm.state.lint;if(!state)return;var options=state.options;var getAnnotations=options.getAnnotations||cm.getHelper(CodeMirror.Pos(0,0),"lint");if(!getAnnotations)return;if(options.async||getAnnotations.async)lintAsync(cm,getAnnotations);else{var annotations=getAnnotations(cm.getValue(),state.linterOptions,cm);if(!annotations)return;if(annotations.then)annotations.then(function(issues){cm.operation(function(){updateLinting(cm,
issues)})});else cm.operation(function(){updateLinting(cm,annotations)})}}function updateLinting(cm,annotationsNotSorted){var state=cm.state.lint;if(!state)return;var options=state.options;clearMarks(cm);var annotations=groupByLine(annotationsNotSorted);var line=0;for(;line<annotations.length;++line){var anns=annotations[line];if(!anns)continue;var message=[];anns=anns.filter(function(item){return message.indexOf(item.message)>-1?false:message.push(item.message)});var maxSeverity=null;var tipLabel=
state.hasGutter&&document.createDocumentFragment();var i=0;for(;i<anns.length;++i){var ann=anns[i];var severity=ann.severity;if(!severity)severity="error";maxSeverity=getMaxSeverity(maxSeverity,severity);if(options.formatAnnotation)ann=options.formatAnnotation(ann);if(state.hasGutter)tipLabel.appendChild(annotationTooltip(ann));if(ann.to)state.marked.push(cm.markText(ann.from,ann.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+severity,__annotation:ann}))}if(state.hasGutter)cm.setGutterMarker(line,
GUTTER_ID,makeMarker(cm,tipLabel,maxSeverity,annotations[line].length>1,options.tooltips));if(options.highlightLines)cm.addLineClass(line,"wrap",LINT_LINE_ID+maxSeverity)}if(options.onUpdateLinting)options.onUpdateLinting(annotationsNotSorted,annotations,cm)}function onChange(cm){var state=cm.state.lint;if(!state)return;clearTimeout(state.timeout);state.timeout=setTimeout(function(){startLinting(cm)},state.options.delay)}function popupTooltips(cm,annotations,e){var target=e.target||e.srcElement;var tooltip=
document.createDocumentFragment();var i=0;for(;i<annotations.length;i++){var ann=annotations[i];tooltip.appendChild(annotationTooltip(ann))}showTooltipFor(cm,e,tooltip,target)}function onMouseOver(cm,e){var target=e.target||e.srcElement;if(!/\bCodeMirror-lint-mark-/.test(target.className))return;var box=target.getBoundingClientRect();var x=(box.left+box.right)/2;var y=(box.top+box.bottom)/2;var spans=cm.findMarksAt(cm.coordsChar({left:x,top:y},"client"));var annotations=[];var i=0;for(;i<spans.length;++i){var ann=
spans[i].__annotation;if(ann)annotations.push(ann)}if(annotations.length)popupTooltips(cm,annotations,e)}var GUTTER_ID="CodeMirror-lint-markers";var LINT_LINE_ID="CodeMirror-lint-line-";var defaults={highlightLines:false,tooltips:true,delay:500,lintOnChange:true,getAnnotations:null,async:false,selfContain:null,formatAnnotation:null,onUpdateLinting:null};CodeMirror.defineOption("lint",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){clearMarks(cm);if(cm.state.lint.options.lintOnChange!==false)cm.off("change",
onChange);CodeMirror.off(cm.getWrapperElement(),"mouseover",cm.state.lint.onMouseOver);clearTimeout(cm.state.lint.timeout);delete cm.state.lint}if(val){var gutters=cm.getOption("gutters");var hasLintGutter=false;var i=0;for(;i<gutters.length;++i)if(gutters[i]==GUTTER_ID)hasLintGutter=true;var state=cm.state.lint=new LintState(cm,val,hasLintGutter);if(state.options.lintOnChange)cm.on("change",onChange);if(state.options.tooltips!=false&&state.options.tooltips!="gutter")CodeMirror.on(cm.getWrapperElement(),
"mouseover",state.onMouseOver);startLinting(cm)}});CodeMirror.defineExtension("performLint",function(){startLinting(this)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","yaml",function(text){var found=[];if(!window.jsyaml){if(window.console)window.console.error("Error: window.jsyaml not defined, CodeMirror YAML linting cannot run.");return found}try{jsyaml.loadAll(text)}catch(e){var loc=e.mark;var from=
loc?CodeMirror.Pos(loc.line,loc.column):CodeMirror.Pos(0,0);var to=from;found.push({from:from,to:to,message:e.message})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Annotation(cm,options){function scheduleRedraw(delay){clearTimeout(self.doRedraw);self.doRedraw=setTimeout(function(){self.redraw()},delay)}this.cm=cm;this.options=options;this.buttonHeight=options.scrollButtonHeight||cm.getOption("scrollButtonHeight");this.annotations=
[];this.doRedraw=this.doUpdate=null;this.div=cm.getWrapperElement().appendChild(document.createElement("div"));this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none";this.computeScale();var self=this;cm.on("refresh",this.resizeHandler=function(){clearTimeout(self.doUpdate);self.doUpdate=setTimeout(function(){if(self.computeScale())scheduleRedraw(20)},100)});cm.on("markerAdded",this.resizeHandler);cm.on("markerCleared",this.resizeHandler);if(options.listenForChanges!==
false)cm.on("changes",this.changeHandler=function(){scheduleRedraw(250)})}CodeMirror.defineExtension("annotateScrollbar",function(options){if(typeof options=="string")options={className:options};return new Annotation(this,options)});CodeMirror.defineOption("scrollButtonHeight",0);Annotation.prototype.computeScale=function(){var cm=this.cm;var hScale=(cm.getWrapperElement().clientHeight-cm.display.barHeight-this.buttonHeight*2)/cm.getScrollerElement().scrollHeight;if(hScale!=this.hScale){this.hScale=
hScale;return true}};Annotation.prototype.update=function(annotations){this.annotations=annotations;this.redraw()};Annotation.prototype.redraw=function(compute){function getY(pos,top){if(curLine!=pos.line){curLine=pos.line;curLineObj=cm.getLineHandle(pos.line);var visual=cm.getLineHandleVisualStart(curLineObj);if(visual!=curLineObj){curLine=cm.getLineNumber(visual);curLineObj=visual}}if(curLineObj.widgets&&curLineObj.widgets.length||wrapping&&curLineObj.height>singleLineH)return cm.charCoords(pos,
"local")[top?"top":"bottom"];var topY=cm.heightAtLine(curLineObj,"local");return topY+(top?0:curLineObj.height)}if(compute!==false)this.computeScale();var cm=this.cm;var hScale=this.hScale;var frag=document.createDocumentFragment();var anns=this.annotations;var wrapping=cm.getOption("lineWrapping");var singleLineH=wrapping&&cm.defaultTextHeight()*1.5;var curLine=null;var curLineObj=null;var lastLine=cm.lastLine();if(cm.display.barWidth){var i=0;var nextTop;for(;i<anns.length;i++){var ann=anns[i];
if(ann.to.line>lastLine)continue;var top=nextTop||getY(ann.from,true)*hScale;var bottom=getY(ann.to,false)*hScale;for(;i<anns.length-1;){if(anns[i+1].to.line>lastLine)break;nextTop=getY(anns[i+1].from,true)*hScale;if(nextTop>bottom+.9)break;ann=anns[++i];bottom=getY(ann.to,false)*hScale}if(bottom==top)continue;var height=Math.max(bottom-top,3);var elt=frag.appendChild(document.createElement("div"));elt.style.cssText="position: absolute; right: 0px; width: "+Math.max(cm.display.barWidth-1,2)+"px; top: "+
(top+this.buttonHeight)+"px; height: "+height+"px";elt.className=this.options.className;if(ann.id)elt.setAttribute("annotation-id",ann.id)}}this.div.textContent="";this.div.appendChild(frag)};Annotation.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler);this.cm.off("markerAdded",this.resizeHandler);this.cm.off("markerCleared",this.resizeHandler);if(this.changeHandler)this.cm.off("changes",this.changeHandler);this.div.parentNode.removeChild(this.div)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function onChange(cm,change){if(CodeMirror.changeEnd(change).line==cm.lastLine())updateBottomMargin(cm)}function updateBottomMargin(cm){var padding="";if(cm.lineCount()>1){var totalH=cm.display.scroller.clientHeight-30;var lastLineH=cm.getLineHandle(cm.lastLine()).height;
padding=totalH-lastLineH+"px"}if(cm.state.scrollPastEndPadding!=padding){cm.state.scrollPastEndPadding=padding;cm.display.lineSpace.parentNode.style.paddingBottom=padding;cm.off("refresh",updateBottomMargin);cm.setSize();cm.on("refresh",updateBottomMargin)}}CodeMirror.defineOption("scrollPastEnd",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("change",onChange);cm.off("refresh",updateBottomMargin);cm.display.lineSpace.parentNode.style.paddingBottom="";cm.state.scrollPastEndPadding=
null}if(val){cm.on("change",onChange);cm.on("refresh",updateBottomMargin);updateBottomMargin(cm)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Bar(cls,orientation,scroll){function onWheel(e){var moved=CodeMirror.wheelEventPixels(e)[self.orientation=="horizontal"?"x":"y"];var oldPos=self.pos;self.moveTo(self.pos+moved);if(self.pos!=oldPos)CodeMirror.e_preventDefault(e)}this.orientation=orientation;this.scroll=
scroll;this.screen=this.total=this.size=1;this.pos=0;this.node=document.createElement("div");this.node.className=cls+"-"+orientation;this.inner=this.node.appendChild(document.createElement("div"));var self=this;CodeMirror.on(this.inner,"mousedown",function(e){function done(){CodeMirror.off(document,"mousemove",move);CodeMirror.off(document,"mouseup",done)}function move(e){if(e.which!=1)return done();self.moveTo(startpos+(e[axis]-start)*(self.total/self.size))}if(e.which!=1)return;CodeMirror.e_preventDefault(e);
var axis=self.orientation=="horizontal"?"pageX":"pageY";var start=e[axis];var startpos=self.pos;CodeMirror.on(document,"mousemove",move);CodeMirror.on(document,"mouseup",done)});CodeMirror.on(this.node,"click",function(e){CodeMirror.e_preventDefault(e);var innerBox=self.inner.getBoundingClientRect();var where;if(self.orientation=="horizontal")where=e.clientX<innerBox.left?-1:e.clientX>innerBox.right?1:0;else where=e.clientY<innerBox.top?-1:e.clientY>innerBox.bottom?1:0;self.moveTo(self.pos+where*
self.screen)});CodeMirror.on(this.node,"mousewheel",onWheel);CodeMirror.on(this.node,"DOMMouseScroll",onWheel)}function SimpleScrollbars(cls,place,scroll){this.addClass=cls;this.horiz=new Bar(cls,"horizontal",scroll);place(this.horiz.node);this.vert=new Bar(cls,"vertical",scroll);place(this.vert.node);this.width=null}Bar.prototype.setPos=function(pos,force){if(pos<0)pos=0;if(pos>this.total-this.screen)pos=this.total-this.screen;if(!force&&pos==this.pos)return false;this.pos=pos;this.inner.style[this.orientation==
"horizontal"?"left":"top"]=pos*(this.size/this.total)+"px";return true};Bar.prototype.moveTo=function(pos){if(this.setPos(pos))this.scroll(pos,this.orientation)};var minButtonSize=10;Bar.prototype.update=function(scrollSize,clientSize,barSize){var sizeChanged=this.screen!=clientSize||this.total!=scrollSize||this.size!=barSize;if(sizeChanged){this.screen=clientSize;this.total=scrollSize;this.size=barSize}var buttonSize=this.screen*(this.size/this.total);if(buttonSize<minButtonSize){this.size-=minButtonSize-
buttonSize;buttonSize=minButtonSize}this.inner.style[this.orientation=="horizontal"?"width":"height"]=buttonSize+"px";this.setPos(this.pos,sizeChanged)};SimpleScrollbars.prototype.update=function(measure){if(this.width==null){var style=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;if(style)this.width=parseInt(style.height)}var width=this.width||0;var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+
1;this.vert.node.style.display=needsV?"block":"none";this.horiz.node.style.display=needsH?"block":"none";if(needsV){this.vert.update(measure.scrollHeight,measure.clientHeight,measure.viewHeight-(needsH?width:0));this.vert.node.style.bottom=needsH?width+"px":"0"}if(needsH){this.horiz.update(measure.scrollWidth,measure.clientWidth,measure.viewWidth-(needsV?width:0)-measure.barLeft);this.horiz.node.style.right=needsV?width+"px":"0";this.horiz.node.style.left=measure.barLeft+"px"}return{right:needsV?
width:0,bottom:needsH?width:0}};SimpleScrollbars.prototype.setScrollTop=function(pos){this.vert.setPos(pos)};SimpleScrollbars.prototype.setScrollLeft=function(pos){this.horiz.setPos(pos)};SimpleScrollbars.prototype.clear=function(){var parent=this.horiz.node.parentNode;parent.removeChild(this.horiz.node);parent.removeChild(this.vert.node)};CodeMirror.scrollbarModel.simple=function(place,scroll){return new SimpleScrollbars("CodeMirror-simplescroll",place,scroll)};CodeMirror.scrollbarModel.overlay=
function(place,scroll){return new SimpleScrollbars("CodeMirror-overlayscroll",place,scroll)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./matchesonscrollbar"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./matchesonscrollbar"],mod);else mod(CodeMirror)})(function(CodeMirror){function State(options){this.options={};var name;for(name in defaults)this.options[name]=(options&&options.hasOwnProperty(name)?options:defaults)[name];this.overlay=this.timeout=null;this.matchesonscroll=null;this.active=
false}function cursorActivity(cm){var state=cm.state.matchHighlighter;if(state.active||cm.hasFocus())scheduleHighlight(cm,state)}function onFocus(cm){var state=cm.state.matchHighlighter;if(!state.active){state.active=true;scheduleHighlight(cm,state)}}function scheduleHighlight(cm,state){clearTimeout(state.timeout);state.timeout=setTimeout(function(){highlightMatches(cm)},state.options.delay)}function addOverlay(cm,query,hasBoundary,style){var state=cm.state.matchHighlighter;cm.addOverlay(state.overlay=
makeOverlay(query,hasBoundary,style));if(state.options.annotateScrollbar&&cm.showMatchesOnScrollbar){var searchFor=hasBoundary?new RegExp((/\w/.test(query.charAt(0))?"\\b":"")+query.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+(/\w/.test(query.charAt(query.length-1))?"\\b":"")):query;state.matchesonscroll=cm.showMatchesOnScrollbar(searchFor,false,{className:"CodeMirror-selection-highlight-scrollbar"})}}function removeOverlay(cm){var state=cm.state.matchHighlighter;if(state.overlay){cm.removeOverlay(state.overlay);
state.overlay=null;if(state.matchesonscroll){state.matchesonscroll.clear();state.matchesonscroll=null}}}function highlightMatches(cm){cm.operation(function(){var state=cm.state.matchHighlighter;removeOverlay(cm);if(!cm.somethingSelected()&&state.options.showToken){var re=state.options.showToken===true?/[\w$]/:state.options.showToken;var cur=cm.getCursor();var line=cm.getLine(cur.line);var start=cur.ch;var end=start;for(;start&&re.test(line.charAt(start-1));)--start;for(;end<line.length&&re.test(line.charAt(end));)++end;
if(start<end)addOverlay(cm,line.slice(start,end),re,state.options.style);return}var from=cm.getCursor("from");var to=cm.getCursor("to");if(from.line!=to.line)return;if(state.options.wordsOnly&&!isWord(cm,from,to))return;var selection=cm.getRange(from,to);if(state.options.trim)selection=selection.replace(/^\s+|\s+$/g,"");if(selection.length>=state.options.minChars)addOverlay(cm,selection,false,state.options.style)})}function isWord(cm,from,to){var str=cm.getRange(from,to);if(str.match(/^\w+$/)!==null){if(from.ch>
0){var pos={line:from.line,ch:from.ch-1};var chr=cm.getRange(pos,from);if(chr.match(/\W/)===null)return false}if(to.ch<cm.getLine(from.line).length){pos={line:to.line,ch:to.ch+1};chr=cm.getRange(to,pos);if(chr.match(/\W/)===null)return false}return true}else return false}function boundariesAround(stream,re){return(!stream.start||!re.test(stream.string.charAt(stream.start-1)))&&(stream.pos==stream.string.length||!re.test(stream.string.charAt(stream.pos)))}function makeOverlay(query,hasBoundary,style){return{token:function(stream){if(stream.match(query)&&
(!hasBoundary||boundariesAround(stream,hasBoundary)))return style;stream.next();stream.skipTo(query.charAt(0))||stream.skipToEnd()}}}var defaults={style:"matchhighlight",minChars:2,delay:100,wordsOnly:false,annotateScrollbar:false,showToken:false,trim:true};CodeMirror.defineOption("highlightSelectionMatches",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){removeOverlay(cm);clearTimeout(cm.state.matchHighlighter.timeout);cm.state.matchHighlighter=null;cm.off("cursorActivity",cursorActivity);
cm.off("focus",onFocus)}if(val){var state=cm.state.matchHighlighter=new State(val);if(cm.hasFocus()){state.active=true;highlightMatches(cm)}else cm.on("focus",onFocus);cm.on("cursorActivity",cursorActivity)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],mod);else mod(CodeMirror)})(function(CodeMirror){function SearchAnnotation(cm,query,caseFold,options){this.cm=cm;this.options=options;var annotateOptions={listenForChanges:false};var prop;for(prop in options)annotateOptions[prop]=
options[prop];if(!annotateOptions.className)annotateOptions.className="CodeMirror-search-match";this.annotation=cm.annotateScrollbar(annotateOptions);this.query=query;this.caseFold=caseFold;this.gap={from:cm.firstLine(),to:cm.lastLine()+1};this.matches=[];this.update=null;this.findMatches();this.annotation.update(this.matches);var self=this;cm.on("change",this.changeHandler=function(_cm,change){self.onChange(change)})}function offsetLine(line,changeStart,sizeChange){if(line<=changeStart)return line;
return Math.max(changeStart,line+sizeChange)}CodeMirror.defineExtension("showMatchesOnScrollbar",function(query,caseFold,options){if(typeof options=="string")options={className:options};if(!options)options={};return new SearchAnnotation(this,query,caseFold,options)});var MAX_MATCHES=1E3;SearchAnnotation.prototype.findMatches=function(){if(!this.gap)return;var i=0;for(;i<this.matches.length;i++){var match=this.matches[i];if(match.from.line>=this.gap.to)break;if(match.to.line>=this.gap.from)this.matches.splice(i--,
1)}var cursor=this.cm.getSearchCursor(this.query,CodeMirror.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline});var maxMatches=this.options&&this.options.maxMatches||MAX_MATCHES;for(;cursor.findNext();){match={from:cursor.from(),to:cursor.to()};if(match.from.line>=this.gap.to)break;this.matches.splice(i++,0,match);if(this.matches.length>maxMatches)break}this.gap=null};SearchAnnotation.prototype.onChange=function(change){var startLine=change.from.line;var endLine=CodeMirror.changeEnd(change).line;
var sizeChange=endLine-change.to.line;if(this.gap){this.gap.from=Math.min(offsetLine(this.gap.from,startLine,sizeChange),change.from.line);this.gap.to=Math.max(offsetLine(this.gap.to,startLine,sizeChange),change.from.line)}else this.gap={from:change.from.line,to:endLine+1};if(sizeChange){var i=0;for(;i<this.matches.length;i++){var match=this.matches[i];var newFrom=offsetLine(match.from.line,startLine,sizeChange);if(newFrom!=match.from.line)match.from=CodeMirror.Pos(newFrom,match.from.ch);var newTo=
offsetLine(match.to.line,startLine,sizeChange);if(newTo!=match.to.line)match.to=CodeMirror.Pos(newTo,match.to.ch)}}clearTimeout(this.update);var self=this;this.update=setTimeout(function(){self.updateAfterChange()},250)};SearchAnnotation.prototype.updateAfterChange=function(){this.findMatches();this.annotation.update(this.matches)};SearchAnnotation.prototype.clear=function(){this.cm.off("change",this.changeHandler);this.annotation.clear()}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],mod);else mod(CodeMirror)})(function(CodeMirror){function searchOverlay(query,caseInsensitive){if(typeof query=="string")query=new RegExp(query.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),caseInsensitive?"gi":"g");else if(!query.global)query=
new RegExp(query.source,query.ignoreCase?"gi":"g");return{token:function(stream){query.lastIndex=stream.pos;var match=query.exec(stream.string);if(match&&match.index==stream.pos){stream.pos+=match[0].length||1;return"searching"}else if(match)stream.pos=match.index;else stream.skipToEnd()}}}function SearchState(){this.posFrom=this.posTo=this.lastQuery=this.query=null;this.overlay=null}function getSearchState(cm){return cm.state.search||(cm.state.search=new SearchState)}function queryCaseInsensitive(query){return typeof query==
"string"&&query==query.toLowerCase()}function getSearchCursor(cm,query,pos){return cm.getSearchCursor(query,pos,{caseFold:queryCaseInsensitive(query),multiline:true})}function persistentDialog(cm,text,deflt,onEnter,onKeyDown){cm.openDialog(text,onEnter,{value:deflt,selectValueOnOpen:true,closeOnEnter:false,onClose:function(){clearSearch(cm)},onKeyDown:onKeyDown,bottom:cm.options.search.bottom})}function dialog(cm,text,shortText,deflt,f){if(cm.openDialog)cm.openDialog(text,f,{value:deflt,selectValueOnOpen:true,
bottom:cm.options.search.bottom});else f(prompt(shortText,deflt))}function confirmDialog(cm,text,shortText,fs){if(cm.openConfirm)cm.openConfirm(text,fs);else if(confirm(shortText))fs[0]()}function parseString(string){return string.replace(/\\([nrt\\])/g,function(match,ch){if(ch=="n")return"\n";if(ch=="r")return"\r";if(ch=="t")return"\t";if(ch=="\\")return"\\";return match})}function parseQuery(query){var isRE=query.match(/^\/(.*)\/([a-z]*)$/);if(isRE)try{query=new RegExp(isRE[1],isRE[2].indexOf("i")==
-1?"":"i")}catch(e){}else query=parseString(query);if(typeof query=="string"?query=="":query.test(""))query=/x^/;return query}function startSearch(cm,state,query){state.queryText=query;state.query=parseQuery(query);cm.removeOverlay(state.overlay,queryCaseInsensitive(state.query));state.overlay=searchOverlay(state.query,queryCaseInsensitive(state.query));cm.addOverlay(state.overlay);if(cm.showMatchesOnScrollbar){if(state.annotate){state.annotate.clear();state.annotate=null}state.annotate=cm.showMatchesOnScrollbar(state.query,
queryCaseInsensitive(state.query))}}function doSearch(cm,rev,persistent,immediate){var state=getSearchState(cm);if(state.query)return findNext(cm,rev);var q=cm.getSelection()||state.lastQuery;if(q instanceof RegExp&&q.source=="x^")q=null;if(persistent&&cm.openDialog){var hiding=null;var searchNext=function(query,event){CodeMirror.e_stop(event);if(!query)return;if(query!=state.queryText){startSearch(cm,state,query);state.posFrom=state.posTo=cm.getCursor()}if(hiding)hiding.style.opacity=1;findNext(cm,
event.shiftKey,function(_,to){var dialog;if(to.line<3&&document.querySelector&&(dialog=cm.display.wrapper.querySelector(".CodeMirror-dialog"))&&dialog.getBoundingClientRect().bottom-4>cm.cursorCoords(to,"window").top)(hiding=dialog).style.opacity=.4})};persistentDialog(cm,getQueryDialog(cm),q,searchNext,function(event,query){var keyName=CodeMirror.keyName(event);var extra=cm.getOption("extraKeys");var cmd=extra&&extra[keyName]||CodeMirror.keyMap[cm.getOption("keyMap")][keyName];if(cmd=="findNext"||
cmd=="findPrev"||cmd=="findPersistentNext"||cmd=="findPersistentPrev"){CodeMirror.e_stop(event);startSearch(cm,getSearchState(cm),query);cm.execCommand(cmd)}else if(cmd=="find"||cmd=="findPersistent"){CodeMirror.e_stop(event);searchNext(query,event)}});if(immediate&&q){startSearch(cm,state,q);findNext(cm,rev)}}else dialog(cm,getQueryDialog(cm),"Search for:",q,function(query){if(query&&!state.query)cm.operation(function(){startSearch(cm,state,query);state.posFrom=state.posTo=cm.getCursor();findNext(cm,
rev)})})}function findNext(cm,rev,callback){cm.operation(function(){var state=getSearchState(cm);var cursor=getSearchCursor(cm,state.query,rev?state.posFrom:state.posTo);if(!cursor.find(rev)){cursor=getSearchCursor(cm,state.query,rev?CodeMirror.Pos(cm.lastLine()):CodeMirror.Pos(cm.firstLine(),0));if(!cursor.find(rev))return}cm.setSelection(cursor.from(),cursor.to());cm.scrollIntoView({from:cursor.from(),to:cursor.to()},20);state.posFrom=cursor.from();state.posTo=cursor.to();if(callback)callback(cursor.from(),
cursor.to())})}function clearSearch(cm){cm.operation(function(){var state=getSearchState(cm);state.lastQuery=state.query;if(!state.query)return;state.query=state.queryText=null;cm.removeOverlay(state.overlay);if(state.annotate){state.annotate.clear();state.annotate=null}})}function el(tag,attrs){var element=tag?document.createElement(tag):document.createDocumentFragment();var key;for(key in attrs)element[key]=attrs[key];var i=2;for(;i<arguments.length;i++){var child=arguments[i];element.appendChild(typeof child==
"string"?document.createTextNode(child):child)}return element}function getQueryDialog(cm){var label=el("label",{className:"CodeMirror-search-label"},cm.phrase("Search:"),el("input",{type:"text","style":"width: 10em",className:"CodeMirror-search-field",id:"CodeMirror-search-field"}));label.setAttribute("for","CodeMirror-search-field");return el("",null,label," ",el("span",{style:"color: #666",className:"CodeMirror-search-hint"},cm.phrase("(Use /re/ syntax for regexp search)")))}function getReplaceQueryDialog(cm){return el("",
null," ",el("input",{type:"text","style":"width: 10em",className:"CodeMirror-search-field"})," ",el("span",{style:"color: #666",className:"CodeMirror-search-hint"},cm.phrase("(Use /re/ syntax for regexp search)")))}function getReplacementQueryDialog(cm){return el("",null,el("span",{className:"CodeMirror-search-label"},cm.phrase("With:"))," ",el("input",{type:"text","style":"width: 10em",className:"CodeMirror-search-field"}))}function getDoReplaceConfirm(cm){return el("",null,el("span",{className:"CodeMirror-search-label"},
cm.phrase("Replace?"))," ",el("button",{},cm.phrase("Yes"))," ",el("button",{},cm.phrase("No"))," ",el("button",{},cm.phrase("All"))," ",el("button",{},cm.phrase("Stop")))}function replaceAll(cm,query,text){cm.operation(function(){var cursor=getSearchCursor(cm,query);for(;cursor.findNext();)if(typeof query!="string"){var match=cm.getRange(cursor.from(),cursor.to()).match(query);cursor.replace(text.replace(/\$(\d)/g,function(_,i){return match[i]}))}else cursor.replace(text)})}function replace(cm,all){if(cm.getOption("readOnly"))return;
var query=cm.getSelection()||getSearchState(cm).lastQuery;var dialogText=all?cm.phrase("Replace all:"):cm.phrase("Replace:");var fragment=el("",null,el("span",{className:"CodeMirror-search-label"},dialogText),getReplaceQueryDialog(cm));dialog(cm,fragment,dialogText,query,function(query){if(!query)return;query=parseQuery(query);dialog(cm,getReplacementQueryDialog(cm),cm.phrase("Replace with:"),"",function(text){text=parseString(text);if(all)replaceAll(cm,query,text);else{clearSearch(cm);var cursor=
getSearchCursor(cm,query,cm.getCursor("from"));var advance=function(){var start=cursor.from();var match;if(!(match=cursor.findNext())){cursor=getSearchCursor(cm,query);if(!(match=cursor.findNext())||start&&cursor.from().line==start.line&&cursor.from().ch==start.ch)return}cm.setSelection(cursor.from(),cursor.to());cm.scrollIntoView({from:cursor.from(),to:cursor.to()});confirmDialog(cm,getDoReplaceConfirm(cm),cm.phrase("Replace?"),[function(){doReplace(match)},advance,function(){replaceAll(cm,query,
text)}])};var doReplace=function(match){cursor.replace(typeof query=="string"?text:text.replace(/\$(\d)/g,function(_,i){return match[i]}));advance()};advance()}})})}CodeMirror.defineOption("search",{bottom:false});CodeMirror.commands.find=function(cm){clearSearch(cm);doSearch(cm)};CodeMirror.commands.findPersistent=function(cm){clearSearch(cm);doSearch(cm,false,true)};CodeMirror.commands.findPersistentNext=function(cm){doSearch(cm,false,true,true)};CodeMirror.commands.findPersistentPrev=function(cm){doSearch(cm,
true,true,true)};CodeMirror.commands.findNext=doSearch;CodeMirror.commands.findPrev=function(cm){doSearch(cm,true)};CodeMirror.commands.clearSearch=clearSearch;CodeMirror.commands.replace=replace;CodeMirror.commands.replaceAll=function(cm){replace(cm,true)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function regexpFlags(regexp){var flags=regexp.flags;return flags!=null?flags:(regexp.ignoreCase?"i":"")+(regexp.global?"g":"")+(regexp.multiline?"m":"")}function ensureFlags(regexp,flags){var current=regexpFlags(regexp);var target=current;var i=0;for(;i<flags.length;i++)if(target.indexOf(flags.charAt(i))==
-1)target=target+flags.charAt(i);return current==target?regexp:new RegExp(regexp.source,target)}function maybeMultiline(regexp){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(regexp.source)}function searchRegexpForward(doc,regexp,start){regexp=ensureFlags(regexp,"g");var line=start.line;var ch=start.ch;var last=doc.lastLine();for(;line<=last;line++,ch=0){regexp.lastIndex=ch;var string=doc.getLine(line);var match=regexp.exec(string);if(match)return{from:Pos(line,match.index),to:Pos(line,match.index+match[0].length),
match:match}}}function searchRegexpForwardMultiline(doc,regexp,start){if(!maybeMultiline(regexp))return searchRegexpForward(doc,regexp,start);regexp=ensureFlags(regexp,"gm");var string;var chunk=1;var line=start.line;var last=doc.lastLine();for(;line<=last;){var i=0;for(;i<chunk;i++){if(line>last)break;var curLine=doc.getLine(line++);string=string==null?curLine:string+"\n"+curLine}chunk=chunk*2;regexp.lastIndex=start.ch;var match=regexp.exec(string);if(match){var before=string.slice(0,match.index).split("\n");
var inside=match[0].split("\n");var startLine=start.line+before.length-1;var startCh=before[before.length-1].length;return{from:Pos(startLine,startCh),to:Pos(startLine+inside.length-1,inside.length==1?startCh+inside[0].length:inside[inside.length-1].length),match:match}}}}function lastMatchIn(string,regexp,endMargin){var match;var from=0;for(;from<=string.length;){regexp.lastIndex=from;var newMatch=regexp.exec(string);if(!newMatch)break;var end=newMatch.index+newMatch[0].length;if(end>string.length-
endMargin)break;if(!match||end>match.index+match[0].length)match=newMatch;from=newMatch.index+1}return match}function searchRegexpBackward(doc,regexp,start){regexp=ensureFlags(regexp,"g");var line=start.line;var ch=start.ch;var first=doc.firstLine();for(;line>=first;line--,ch=-1){var string=doc.getLine(line);var match=lastMatchIn(string,regexp,ch<0?0:string.length-ch);if(match)return{from:Pos(line,match.index),to:Pos(line,match.index+match[0].length),match:match}}}function searchRegexpBackwardMultiline(doc,
regexp,start){if(!maybeMultiline(regexp))return searchRegexpBackward(doc,regexp,start);regexp=ensureFlags(regexp,"gm");var string;var chunkSize=1;var endMargin=doc.getLine(start.line).length-start.ch;var line=start.line;var first=doc.firstLine();for(;line>=first;){var i=0;for(;i<chunkSize&&line>=first;i++){var curLine=doc.getLine(line--);string=string==null?curLine:curLine+"\n"+string}chunkSize=chunkSize*2;var match=lastMatchIn(string,regexp,endMargin);if(match){var before=string.slice(0,match.index).split("\n");
var inside=match[0].split("\n");var startLine=line+before.length;var startCh=before[before.length-1].length;return{from:Pos(startLine,startCh),to:Pos(startLine+inside.length-1,inside.length==1?startCh+inside[0].length:inside[inside.length-1].length),match:match}}}}function adjustPos(orig,folded,pos,foldFunc){if(orig.length==folded.length)return pos;var min=0;var max=pos+Math.max(0,orig.length-folded.length);for(;;){if(min==max)return min;var mid=min+max>>1;var len=foldFunc(orig.slice(0,mid)).length;
if(len==pos)return mid;else if(len>pos)max=mid;else min=mid+1}}function searchStringForward(doc,query,start,caseFold){if(!query.length)return null;var fold=caseFold?doFold:noFold;var lines=fold(query).split(/\r|\n\r?/);var line=start.line;var ch=start.ch;var last=doc.lastLine()+1-lines.length;search:for(;line<=last;line++,ch=0){var orig=doc.getLine(line).slice(ch);var string=fold(orig);if(lines.length==1){var found=string.indexOf(lines[0]);if(found==-1)continue search;start=adjustPos(orig,string,
found,fold)+ch;return{from:Pos(line,adjustPos(orig,string,found,fold)+ch),to:Pos(line,adjustPos(orig,string,found+lines[0].length,fold)+ch)}}else{var cutFrom=string.length-lines[0].length;if(string.slice(cutFrom)!=lines[0])continue search;var i=1;for(;i<lines.length-1;i++)if(fold(doc.getLine(line+i))!=lines[i])continue search;var end=doc.getLine(line+lines.length-1);var endString=fold(end);var lastLine=lines[lines.length-1];if(endString.slice(0,lastLine.length)!=lastLine)continue search;return{from:Pos(line,
adjustPos(orig,string,cutFrom,fold)+ch),to:Pos(line+lines.length-1,adjustPos(end,endString,lastLine.length,fold))}}}}function searchStringBackward(doc,query,start,caseFold){if(!query.length)return null;var fold=caseFold?doFold:noFold;var lines=fold(query).split(/\r|\n\r?/);var line=start.line;var ch=start.ch;var first=doc.firstLine()-1+lines.length;search:for(;line>=first;line--,ch=-1){var orig=doc.getLine(line);if(ch>-1)orig=orig.slice(0,ch);var string=fold(orig);if(lines.length==1){var found=string.lastIndexOf(lines[0]);
if(found==-1)continue search;return{from:Pos(line,adjustPos(orig,string,found,fold)),to:Pos(line,adjustPos(orig,string,found+lines[0].length,fold))}}else{var lastLine=lines[lines.length-1];if(string.slice(0,lastLine.length)!=lastLine)continue search;var i=1;start=line-lines.length+1;for(;i<lines.length-1;i++)if(fold(doc.getLine(start+i))!=lines[i])continue search;var top=doc.getLine(line+1-lines.length);var topString=fold(top);if(topString.slice(topString.length-lines[0].length)!=lines[0])continue search;
return{from:Pos(line+1-lines.length,adjustPos(top,topString,top.length-lines[0].length,fold)),to:Pos(line,adjustPos(orig,string,lastLine.length,fold))}}}}function SearchCursor(doc,query,pos,options){this.atOccurrence=false;this.afterEmptyMatch=false;this.doc=doc;pos=pos?doc.clipPos(pos):Pos(0,0);this.pos={from:pos,to:pos};var caseFold;if(typeof options=="object")caseFold=options.caseFold;else{caseFold=options;options=null}if(typeof query=="string"){if(caseFold==null)caseFold=false;this.matches=function(reverse,
pos){return(reverse?searchStringBackward:searchStringForward)(doc,query,pos,caseFold)}}else{query=ensureFlags(query,"gm");if(!options||options.multiline!==false)this.matches=function(reverse,pos){return(reverse?searchRegexpBackwardMultiline:searchRegexpForwardMultiline)(doc,query,pos)};else this.matches=function(reverse,pos){return(reverse?searchRegexpBackward:searchRegexpForward)(doc,query,pos)}}}var Pos=CodeMirror.Pos;var doFold;var noFold;if(String.prototype.normalize){doFold=function(str){return str.normalize("NFD").toLowerCase()};
noFold=function(str){return str.normalize("NFD")}}else{doFold=function(str){return str.toLowerCase()};noFold=function(str){return str}}SearchCursor.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(reverse){var head=this.doc.clipPos(reverse?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence){head=Pos(head.line,head.ch);if(reverse){head.ch--;if(head.ch<0){head.line--;head.ch=(this.doc.getLine(head.line)||"").length}}else{head.ch++;
if(head.ch>(this.doc.getLine(head.line)||"").length){head.ch=0;head.line++}}if(CodeMirror.cmpPos(head,this.doc.clipPos(head))!=0)return this.atOccurrence=false}var result=this.matches(reverse,head);this.afterEmptyMatch=result&&CodeMirror.cmpPos(result.from,result.to)==0;if(result){this.pos=result;this.atOccurrence=true;return this.pos.match||true}else{var end=Pos(reverse?this.doc.firstLine():this.doc.lastLine()+1,0);this.pos={from:end,to:end};return this.atOccurrence=false}},from:function(){if(this.atOccurrence)return this.pos.from},
to:function(){if(this.atOccurrence)return this.pos.to},replace:function(newText,origin){if(!this.atOccurrence)return;var lines=CodeMirror.splitLines(newText);this.doc.replaceRange(lines,this.pos.from,this.pos.to,origin);this.pos.to=Pos(this.pos.from.line+lines.length-1,lines[lines.length-1].length+(lines.length==1?this.pos.from.ch:0))}};CodeMirror.defineExtension("getSearchCursor",function(query,pos,caseFold){return new SearchCursor(this.doc,query,pos,caseFold)});CodeMirror.defineDocExtension("getSearchCursor",
function(query,pos,caseFold){return new SearchCursor(this,query,pos,caseFold)});CodeMirror.defineExtension("selectMatches",function(query,caseFold){var ranges=[];var cur=this.getSearchCursor(query,this.getCursor("from"),caseFold);for(;cur.findNext();){if(CodeMirror.cmpPos(cur.to(),this.getCursor("to"))>0)break;ranges.push({anchor:cur.from(),head:cur.to()})}if(ranges.length)this.setSelections(ranges,0)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function onCursorActivity(cm){if(cm.state.markedSelection)cm.operation(function(){update(cm)})}function onChange(cm){if(cm.state.markedSelection&&cm.state.markedSelection.length)cm.operation(function(){clear(cm)})}function coverRange(cm,from,to,addAt){if(cmp(from,to)==
0)return;var array=cm.state.markedSelection;var cls=cm.state.markedSelectionStyle;var line=from.line;for(;;){var start=line==from.line?from:Pos(line,0);var endLine=line+CHUNK_SIZE;var atEnd=endLine>=to.line;var end=atEnd?to:Pos(endLine,0);var mark=cm.markText(start,end,{className:cls});if(addAt==null)array.push(mark);else array.splice(addAt++,0,mark);if(atEnd)break;line=endLine}}function clear(cm){var array=cm.state.markedSelection;var i=0;for(;i<array.length;++i)array[i].clear();array.length=0}function reset(cm){clear(cm);
var ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++)coverRange(cm,ranges[i].from(),ranges[i].to())}function update(cm){if(!cm.somethingSelected())return clear(cm);if(cm.listSelections().length>1)return reset(cm);var from=cm.getCursor("start");var to=cm.getCursor("end");var array=cm.state.markedSelection;if(!array.length)return coverRange(cm,from,to);var coverStart=array[0].find();var coverEnd=array[array.length-1].find();if(!coverStart||!coverEnd||to.line-from.line<=CHUNK_SIZE||cmp(from,
coverEnd.to)>=0||cmp(to,coverStart.from)<=0)return reset(cm);for(;cmp(from,coverStart.from)>0;){array.shift().clear();coverStart=array[0].find()}if(cmp(from,coverStart.from)<0)if(coverStart.to.line-from.line<CHUNK_SIZE){array.shift().clear();coverRange(cm,from,coverStart.to,0)}else coverRange(cm,from,coverStart.from,0);for(;cmp(to,coverEnd.to)<0;){array.pop().clear();coverEnd=array[array.length-1].find()}if(cmp(to,coverEnd.to)>0)if(to.line-coverEnd.from.line<CHUNK_SIZE){array.pop().clear();coverRange(cm,
coverEnd.from,to)}else coverRange(cm,coverEnd.to,to)}CodeMirror.defineOption("styleSelectedText",false,function(cm,val,old){var prev=old&&old!=CodeMirror.Init;if(val&&!prev){cm.state.markedSelection=[];cm.state.markedSelectionStyle=typeof val=="string"?val:"CodeMirror-selectedtext";reset(cm);cm.on("cursorActivity",onCursorActivity);cm.on("change",onChange)}else if(!val&&prev){cm.off("cursorActivity",onCursorActivity);cm.off("change",onChange);clear(cm);cm.state.markedSelection=cm.state.markedSelectionStyle=
null}});var CHUNK_SIZE=8;var Pos=CodeMirror.Pos;var cmp=CodeMirror.cmpPos});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function getOption(conf,name){if(name=="pairs"&&typeof conf=="string")return conf;if(typeof conf=="object"&&conf[name]!=null)return conf[name];return defaults[name]}function ensureBound(chars){var i=0;for(;i<chars.length;i++){var ch=chars.charAt(i);var key="'"+ch+"'";if(!keyMap[key])keyMap[key]=
handler(ch)}}function handler(ch){return function(cm){return handleChar(cm,ch)}}function getConfig(cm){var deflt=cm.state.closeBrackets;if(!deflt||deflt.override)return deflt;var mode=cm.getModeAt(cm.getCursor());return mode.closeBrackets||deflt}function handleBackspace(cm){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;var pairs=getOption(conf,"pairs");var ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;
var around=charsAround(cm,ranges[i].head);if(!around||pairs.indexOf(around)%2!=0)return CodeMirror.Pass}i=ranges.length-1;for(;i>=0;i--){var cur=ranges[i].head;cm.replaceRange("",Pos(cur.line,cur.ch-1),Pos(cur.line,cur.ch+1),"+delete")}}function handleEnter(cm){var conf=getConfig(cm);var explode=conf&&getOption(conf,"explode");if(!explode||cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;
var around=charsAround(cm,ranges[i].head);if(!around||explode.indexOf(around)%2!=0)return CodeMirror.Pass}cm.operation(function(){var linesep=cm.lineSeparator()||"\n";cm.replaceSelection(linesep+linesep,null);moveSel(cm,-1);ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++){var line=ranges[i].head.line;cm.indentLine(line,null,true);cm.indentLine(line+1,null,true)}})}function moveSel(cm,dir){var newRanges=[];var ranges=cm.listSelections();var primary=0;var i=0;for(;i<ranges.length;i++){var range=
ranges[i];if(range.head==cm.getCursor())primary=i;var pos=range.head.ch||dir>0?{line:range.head.line,ch:range.head.ch+dir}:{line:range.head.line-1};newRanges.push({anchor:pos,head:pos})}cm.setSelections(newRanges,primary)}function contractSelection(sel){var inverted=CodeMirror.cmpPos(sel.anchor,sel.head)>0;return{anchor:new Pos(sel.anchor.line,sel.anchor.ch+(inverted?-1:1)),head:new Pos(sel.head.line,sel.head.ch+(inverted?1:-1))}}function handleChar(cm,ch){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;
var pairs=getOption(conf,"pairs");var pos=pairs.indexOf(ch);if(pos==-1)return CodeMirror.Pass;var closeBefore=getOption(conf,"closeBefore");var triples=getOption(conf,"triples");var identical=pairs.charAt(pos+1)==ch;var ranges=cm.listSelections();var opening=pos%2==0;var type;var i=0;for(;i<ranges.length;i++){var range=ranges[i];var cur=range.head;var curType;var next=cm.getRange(cur,Pos(cur.line,cur.ch+1));if(opening&&!range.empty())curType="surround";else if((identical||!opening)&&next==ch)if(identical&&
stringStartsAfter(cm,cur))curType="both";else if(triples.indexOf(ch)>=0&&cm.getRange(cur,Pos(cur.line,cur.ch+3))==ch+ch+ch)curType="skipThree";else curType="skip";else if(identical&&cur.ch>1&&triples.indexOf(ch)>=0&&cm.getRange(Pos(cur.line,cur.ch-2),cur)==ch+ch){if(cur.ch>2&&/\bstring/.test(cm.getTokenTypeAt(Pos(cur.line,cur.ch-2))))return CodeMirror.Pass;curType="addFour"}else if(identical){var prev=cur.ch==0?" ":cm.getRange(Pos(cur.line,cur.ch-1),cur);if(!CodeMirror.isWordChar(next)&&prev!=ch&&
!CodeMirror.isWordChar(prev))curType="both";else return CodeMirror.Pass}else if(opening&&(next.length===0||/\s/.test(next)||closeBefore.indexOf(next)>-1))curType="both";else return CodeMirror.Pass;if(!type)type=curType;else if(type!=curType)return CodeMirror.Pass}var left=pos%2?pairs.charAt(pos-1):ch;var right=pos%2?ch:pairs.charAt(pos+1);cm.operation(function(){if(type=="skip")moveSel(cm,1);else if(type=="skipThree")moveSel(cm,3);else if(type=="surround"){var sels=cm.getSelections();var i=0;for(;i<
sels.length;i++)sels[i]=left+sels[i]+right;cm.replaceSelections(sels,"around");sels=cm.listSelections().slice();i=0;for(;i<sels.length;i++)sels[i]=contractSelection(sels[i]);cm.setSelections(sels)}else if(type=="both"){cm.replaceSelection(left+right,null);cm.triggerElectric(left+right);moveSel(cm,-1)}else if(type=="addFour"){cm.replaceSelection(left+left+left+left,"before");moveSel(cm,1)}})}function charsAround(cm,pos){var str=cm.getRange(Pos(pos.line,pos.ch-1),Pos(pos.line,pos.ch+1));return str.length==
2?str:null}function stringStartsAfter(cm,pos){var token=cm.getTokenAt(Pos(pos.line,pos.ch+1));return/\bstring/.test(token.type)&&token.start==pos.ch&&(pos.ch==0||!/\bstring/.test(cm.getTokenTypeAt(pos)))}var defaults={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"};var Pos=CodeMirror.Pos;CodeMirror.defineOption("autoCloseBrackets",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.removeKeyMap(keyMap);cm.state.closeBrackets=null}if(val){ensureBound(getOption(val,"pairs"));
cm.state.closeBrackets=val;cm.addKeyMap(keyMap)}});var keyMap={Backspace:handleBackspace,Enter:handleEnter};ensureBound(defaults.pairs+"`")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../fold/xml-fold"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../fold/xml-fold"],mod);else mod(CodeMirror)})(function(CodeMirror){function autoCloseGT(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();var replacements=[];var opt=cm.getOption("autoCloseTags");var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;
var pos=ranges[i].head;var tok=cm.getTokenAt(pos);var inner=CodeMirror.innerMode(cm.getMode(),tok.state);var state=inner.state;var tagInfo=inner.mode.xmlCurrentTag&&inner.mode.xmlCurrentTag(state);var tagName=tagInfo&&tagInfo.name;if(!tagName)return CodeMirror.Pass;var html=inner.mode.configuration=="html";var dontCloseTags=typeof opt=="object"&&opt.dontCloseTags||html&&htmlDontClose;var indentTags=typeof opt=="object"&&opt.indentTags||html&&htmlIndent;if(tok.end>pos.ch)tagName=tagName.slice(0,tagName.length-
tok.end+pos.ch);var lowerTagName=tagName.toLowerCase();if(!tagName||tok.type=="string"&&(tok.end!=pos.ch||!/["']/.test(tok.string.charAt(tok.string.length-1))||tok.string.length==1)||tok.type=="tag"&&tagInfo.close||tok.string.indexOf("/")==pos.ch-tok.start-1||dontCloseTags&&indexOf(dontCloseTags,lowerTagName)>-1||closingTagExists(cm,inner.mode.xmlCurrentContext&&inner.mode.xmlCurrentContext(state)||[],tagName,pos,true))return CodeMirror.Pass;var emptyTags=typeof opt=="object"&&opt.emptyTags;if(emptyTags&&
indexOf(emptyTags,tagName)>-1){replacements[i]={text:"/>",newPos:CodeMirror.Pos(pos.line,pos.ch+2)};continue}var indent=indentTags&&indexOf(indentTags,lowerTagName)>-1;replacements[i]={indent:indent,text:">"+(indent?"\n\n":"")+"</"+tagName+">",newPos:indent?CodeMirror.Pos(pos.line+1,0):CodeMirror.Pos(pos.line,pos.ch+1)}}var dontIndentOnAutoClose=typeof opt=="object"&&opt.dontIndentOnAutoClose;i=ranges.length-1;for(;i>=0;i--){var info=replacements[i];cm.replaceRange(info.text,ranges[i].head,ranges[i].anchor,
"+insert");var sel=cm.listSelections().slice(0);sel[i]={head:info.newPos,anchor:info.newPos};cm.setSelections(sel);if(!dontIndentOnAutoClose&&info.indent){cm.indentLine(info.newPos.line,null,true);cm.indentLine(info.newPos.line+1,null,true)}}}function autoCloseCurrent(cm,typingSlash){var ranges=cm.listSelections();var replacements=[];var head=typingSlash?"/":"</";var opt=cm.getOption("autoCloseTags");var dontIndentOnAutoClose=typeof opt=="object"&&opt.dontIndentOnSlash;var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;
var pos=ranges[i].head;var tok=cm.getTokenAt(pos);var inner=CodeMirror.innerMode(cm.getMode(),tok.state);var state=inner.state;if(typingSlash&&(tok.type=="string"||tok.string.charAt(0)!="<"||tok.start!=pos.ch-1))return CodeMirror.Pass;var replacement;var mixed=inner.mode.name!="xml"&&cm.getMode().name=="htmlmixed";if(mixed&&inner.mode.name=="javascript")replacement=head+"script";else if(mixed&&inner.mode.name=="css")replacement=head+"style";else{var context=inner.mode.xmlCurrentContext&&inner.mode.xmlCurrentContext(state);
var top=context.length?context[context.length-1]:"";if(!context||context.length&&closingTagExists(cm,context,top,pos))return CodeMirror.Pass;replacement=head+top}if(cm.getLine(pos.line).charAt(tok.end)!=">")replacement=replacement+">";replacements[i]=replacement}cm.replaceSelections(replacements);ranges=cm.listSelections();if(!dontIndentOnAutoClose){i=0;for(;i<ranges.length;i++)if(i==ranges.length-1||ranges[i].head.line<ranges[i+1].head.line)cm.indentLine(ranges[i].head.line)}}function autoCloseSlash(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;
return autoCloseCurrent(cm,true)}function indexOf(collection,elt){if(collection.indexOf)return collection.indexOf(elt);var i=0;var e=collection.length;for(;i<e;++i)if(collection[i]==elt)return i;return-1}function closingTagExists(cm,context,tagName,pos,newTag){if(!CodeMirror.scanForClosingTag)return false;var end=Math.min(cm.lastLine()+1,pos.line+500);var nextClose=CodeMirror.scanForClosingTag(cm,pos,null,end);if(!nextClose||nextClose.tag!=tagName)return false;var onCx=newTag?1:0;var i=context.length-
1;for(;i>=0;i--)if(context[i]==tagName)++onCx;else break;pos=nextClose.to;i=1;for(;i<onCx;i++){var next=CodeMirror.scanForClosingTag(cm,pos,null,end);if(!next||next.tag!=tagName)return false;pos=next.to}return true}CodeMirror.defineOption("autoCloseTags",false,function(cm,val,old){if(old!=CodeMirror.Init&&old)cm.removeKeyMap("autoCloseTags");if(!val)return;var map={name:"autoCloseTags"};if(typeof val!="object"||val.whenClosing!==false)map["'/'"]=function(cm){return autoCloseSlash(cm)};if(typeof val!=
"object"||val.whenOpening!==false)map["'>'"]=function(cm){return autoCloseGT(cm)};cm.addKeyMap(map)});var htmlDontClose=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var htmlIndent=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];CodeMirror.commands.closeTag=function(cm){return autoCloseCurrent(cm)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function incrementRemainingMarkdownListNumbers(cm,pos){var startLine=pos.line;var lookAhead=0;var skipCount=0;var startItem=listRE.exec(cm.getLine(startLine));var startIndent=startItem[1];do{lookAhead=lookAhead+1;var nextLineNumber=startLine+lookAhead;var nextLine=cm.getLine(nextLineNumber);
var nextItem=listRE.exec(nextLine);if(nextItem){var nextIndent=nextItem[1];var newNumber=parseInt(startItem[3],10)+lookAhead-skipCount;var nextNumber=parseInt(nextItem[3],10);var itemNumber=nextNumber;if(startIndent===nextIndent&&!isNaN(nextNumber)){if(newNumber===nextNumber)itemNumber=nextNumber+1;if(newNumber>nextNumber)itemNumber=newNumber+1;cm.replaceRange(nextLine.replace(listRE,nextIndent+itemNumber+nextItem[4]+nextItem[5]),{line:nextLineNumber,ch:0},{line:nextLineNumber,ch:nextLine.length})}else{if(startIndent.length>
nextIndent.length)return;if(startIndent.length<nextIndent.length&&lookAhead===1)return;skipCount=skipCount+1}}}while(nextItem)}var listRE=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/;var emptyListRE=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/;var unorderedListRE=/[*+-]\s/;CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();var replacements=[];var i=0;for(;i<ranges.length;i++){var pos=
ranges[i].head;var eolState=cm.getStateAfter(pos.line);var inner=CodeMirror.innerMode(cm.getMode(),eolState);if(inner.mode.name!=="markdown"&&inner.mode.helperType!=="markdown"){cm.execCommand("newlineAndIndent");return}else eolState=inner.state;var inList=eolState.list!==false;var inQuote=eolState.quote!==0;var line=cm.getLine(pos.line);var match=listRE.exec(line);var cursorBeforeBullet=/^\s*$/.test(line.slice(0,pos.ch));if(!ranges[i].empty()||!inList&&!inQuote||!match||cursorBeforeBullet){cm.execCommand("newlineAndIndent");
return}if(emptyListRE.test(line)){var endOfQuote=inQuote&&/>\s*$/.test(line);var endOfList=!/>\s*$/.test(line);if(endOfQuote||endOfList)cm.replaceRange("",{line:pos.line,ch:0},{line:pos.line,ch:pos.ch+1});replacements[i]="\n"}else{var indent=match[1];var after=match[5];var numbered=!(unorderedListRE.test(match[2])||match[2].indexOf(">")>=0);var bullet=numbered?parseInt(match[3],10)+1+match[4]:match[2].replace("x"," ");replacements[i]="\n"+indent+bullet+after;if(numbered)incrementRemainingMarkdownListNumbers(cm,
pos)}}cm.replaceSelections(replacements)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function bracketRegex(config){return config&&config.bracketRegex||/[(){}[\]]/}function findMatchingBracket(cm,where,config){var line=cm.getLineHandle(where.line);var pos=where.ch-1;var afterCursor=config&&config.afterCursor;if(afterCursor==null)afterCursor=/(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className);
var re=bracketRegex(config);var match=!afterCursor&&pos>=0&&re.test(line.text.charAt(pos))&&matching[line.text.charAt(pos)]||re.test(line.text.charAt(pos+1))&&matching[line.text.charAt(++pos)];if(!match)return null;var dir=match.charAt(1)==">"?1:-1;if(config&&config.strict&&dir>0!=(pos==where.ch))return null;var style=cm.getTokenTypeAt(Pos(where.line,pos+1));var found=scanForBracket(cm,Pos(where.line,pos+(dir>0?1:0)),dir,style,config);if(found==null)return null;return{from:Pos(where.line,pos),to:found&&
found.pos,match:found&&found.ch==match.charAt(0),forward:dir>0}}function scanForBracket(cm,where,dir,style,config){var maxScanLen=config&&config.maxScanLineLength||1E4;var maxScanLines=config&&config.maxScanLines||1E3;var stack=[];var re=bracketRegex(config);var lineEnd=dir>0?Math.min(where.line+maxScanLines,cm.lastLine()+1):Math.max(cm.firstLine()-1,where.line-maxScanLines);var lineNo=where.line;for(;lineNo!=lineEnd;lineNo=lineNo+dir){var line=cm.getLine(lineNo);if(!line)continue;var pos=dir>0?0:
line.length-1;var end=dir>0?line.length:-1;if(line.length>maxScanLen)continue;if(lineNo==where.line)pos=where.ch-(dir<0?1:0);for(;pos!=end;pos=pos+dir){var ch=line.charAt(pos);if(re.test(ch)&&(style===undefined||(cm.getTokenTypeAt(Pos(lineNo,pos+1))||"")==(style||""))){var match=matching[ch];if(match&&match.charAt(1)==">"==dir>0)stack.push(ch);else if(!stack.length)return{pos:Pos(lineNo,pos),ch:ch};else stack.pop()}}}return lineNo-dir==(dir>0?cm.lastLine():cm.firstLine())?false:null}function matchBrackets(cm,
autoclear,config){var maxHighlightLen=cm.state.matchBrackets.maxHighlightLineLength||1E3;var highlightNonMatching=config&&config.highlightNonMatching;var marks=[];var ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++){var match=ranges[i].empty()&&findMatchingBracket(cm,ranges[i].head,config);if(match&&(match.match||highlightNonMatching!==false)&&cm.getLine(match.from.line).length<=maxHighlightLen){var style=match.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";marks.push(cm.markText(match.from,
Pos(match.from.line,match.from.ch+1),{className:style}));if(match.to&&cm.getLine(match.to.line).length<=maxHighlightLen)marks.push(cm.markText(match.to,Pos(match.to.line,match.to.ch+1),{className:style}))}}if(marks.length){if(ie_lt8&&cm.state.focused)cm.focus();var clear=function(){cm.operation(function(){var i=0;for(;i<marks.length;i++)marks[i].clear()})};if(autoclear)setTimeout(clear,800);else return clear}}function doMatchBrackets(cm){cm.operation(function(){if(cm.state.matchBrackets.currentlyHighlighted){cm.state.matchBrackets.currentlyHighlighted();
cm.state.matchBrackets.currentlyHighlighted=null}cm.state.matchBrackets.currentlyHighlighted=matchBrackets(cm,false,cm.state.matchBrackets)})}function clearHighlighted(cm){if(cm.state.matchBrackets&&cm.state.matchBrackets.currentlyHighlighted){cm.state.matchBrackets.currentlyHighlighted();cm.state.matchBrackets.currentlyHighlighted=null}}var ie_lt8=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var Pos=CodeMirror.Pos;var matching={"(":")>",")":"(<","[":"]>",
"]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};CodeMirror.defineOption("matchBrackets",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("cursorActivity",doMatchBrackets);clearHighlighted(cm)}if(val){cm.state.matchBrackets=typeof val=="object"?val:{};cm.on("cursorActivity",doMatchBrackets)}});CodeMirror.defineExtension("matchBrackets",function(){matchBrackets(this,true)});CodeMirror.defineExtension("findMatchingBracket",function(pos,config,oldConfig){if(oldConfig||typeof config=="boolean")if(!oldConfig)config=
config?{strict:true}:null;else{oldConfig.strict=config;config=oldConfig}return findMatchingBracket(this,pos,config)});CodeMirror.defineExtension("scanForBracket",function(pos,dir,style,config){return scanForBracket(this,pos,dir,style,config)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../fold/xml-fold"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../fold/xml-fold"],mod);else mod(CodeMirror)})(function(CodeMirror){function clear(cm){if(cm.state.tagHit)cm.state.tagHit.clear();if(cm.state.tagOther)cm.state.tagOther.clear();cm.state.tagHit=cm.state.tagOther=null}function doMatchTags(cm){cm.state.failedTagMatch=false;cm.operation(function(){clear(cm);
if(cm.somethingSelected())return;var cur=cm.getCursor();var range=cm.getViewport();range.from=Math.min(range.from,cur.line);range.to=Math.max(cur.line+1,range.to);var match=CodeMirror.findMatchingTag(cm,cur,range);if(!match)return;if(cm.state.matchBothTags){var hit=match.at=="open"?match.open:match.close;if(hit)cm.state.tagHit=cm.markText(hit.from,hit.to,{className:"CodeMirror-matchingtag"})}var other=match.at=="close"?match.open:match.close;if(other)cm.state.tagOther=cm.markText(other.from,other.to,
{className:"CodeMirror-matchingtag"});else cm.state.failedTagMatch=true})}function maybeUpdateMatch(cm){if(cm.state.failedTagMatch)doMatchTags(cm)}CodeMirror.defineOption("matchTags",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("cursorActivity",doMatchTags);cm.off("viewportChange",maybeUpdateMatch);clear(cm)}if(val){cm.state.matchBothTags=typeof val=="object"&&val.bothTags;cm.on("cursorActivity",doMatchTags);cm.on("viewportChange",maybeUpdateMatch);doMatchTags(cm)}});CodeMirror.commands.toMatchingTag=
function(cm){var found=CodeMirror.findMatchingTag(cm,cm.getCursor());if(found){var other=found.at=="close"?found.open:found.close;if(other)cm.extendSelection(other.to,other.from)}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("showTrailingSpace",false,function(cm,val,prev){if(prev==CodeMirror.Init)prev=false;if(prev&&!val)cm.removeOverlay("trailingspace");else if(!prev&&val)cm.addOverlay({token:function(stream){var l=stream.string.length;var i=l;for(;i&&/\s/.test(stream.string.charAt(i-
1));--i);if(i>stream.pos){stream.pos=i;return null}stream.pos=l;return"trailingspace"},name:"trailingspace"})})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var WORD=/[\w$]+/;var RANGE=500;CodeMirror.registerHelper("hint","anyword",function(editor,options){var word=options&&options.word||WORD;var range=options&&options.range||RANGE;var cur=editor.getCursor();var curLine=editor.getLine(cur.line);var end=cur.ch;var start=end;
for(;start&&word.test(curLine.charAt(start-1));)--start;var curWord=start!=end&&curLine.slice(start,end);var list=options&&options.list||[];var seen={};var re=new RegExp(word.source,"g");var dir=-1;for(;dir<=1;dir=dir+2){var line=cur.line;var endLine=Math.min(Math.max(line+dir*range,editor.firstLine()),editor.lastLine())+dir;for(;line!=endLine;line=line+dir){var text=editor.getLine(line);var m;for(;m=re.exec(text);){if(line==cur.line&&m[0]===curWord)continue;if((!curWord||m[0].lastIndexOf(curWord,
0)==0)&&!Object.prototype.hasOwnProperty.call(seen,m[0])){seen[m[0]]=true;list.push(m[0])}}}}return{list:list,from:CodeMirror.Pos(cur.line,start),to:CodeMirror.Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../mode/css/css"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../mode/css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){var pseudoClasses={"active":1,"after":1,"before":1,"checked":1,"default":1,"disabled":1,"empty":1,"enabled":1,"first-child":1,"first-letter":1,"first-line":1,"first-of-type":1,"focus":1,"hover":1,"in-range":1,"indeterminate":1,
"invalid":1,"lang":1,"last-child":1,"last-of-type":1,"link":1,"not":1,"nth-child":1,"nth-last-child":1,"nth-last-of-type":1,"nth-of-type":1,"only-of-type":1,"only-child":1,"optional":1,"out-of-range":1,"placeholder":1,"read-only":1,"read-write":1,"required":1,"root":1,"selection":1,"target":1,"valid":1,"visited":1};CodeMirror.registerHelper("hint","css",function(cm){function add(keywords){var name;for(name in keywords)if(!word||name.lastIndexOf(word,0)==0)result.push(name)}var cur=cm.getCursor();
var token=cm.getTokenAt(cur);var inner=CodeMirror.innerMode(cm.getMode(),token.state);if(inner.mode.name!="css")return;if(token.type=="keyword"&&"!important".indexOf(token.string)==0)return{list:["!important"],from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)};var start=token.start;var end=cur.ch;var word=token.string.slice(0,end-start);if(/[^\w$_-]/.test(word)){word="";start=end=cur.ch}var spec=CodeMirror.resolveMode("text/css");var result=[];var st=inner.state.state;
if(st=="pseudo"||token.type=="variable-3")add(pseudoClasses);else if(st=="block"||st=="maybeprop")add(spec.propertyKeywords);else if(st=="prop"||st=="parens"||st=="at"||st=="params"){add(spec.valueKeywords);add(spec.colorKeywords)}else if(st=="media"||st=="media_parens"){add(spec.mediaTypes);add(spec.mediaFeatures)}if(result.length)return{list:result,from:CodeMirror.Pos(cur.line,start),to:CodeMirror.Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./xml-hint"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./xml-hint"],mod);else mod(CodeMirror)})(function(CodeMirror){function populate(obj){var attr;for(attr in globalAttrs)if(globalAttrs.hasOwnProperty(attr))obj.attrs[attr]=globalAttrs[attr]}function htmlHint(cm,options){var local={schemaInfo:data};if(options){var opt;for(opt in options)local[opt]=
options[opt]}return CodeMirror.hint.xml(cm,local)}var langs="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" ");
var targets=["_blank","_self","_top","_parent"];var charsets=["ascii","utf-8","utf-16","latin1","latin1"];var methods=["get","post","put","delete"];var encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];var media=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"];
var s={attrs:{}};var data={a:{attrs:{href:null,ping:null,type:null,media:media,target:targets,hreflang:langs}},abbr:s,acronym:s,address:s,applet:s,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:media,hreflang:langs,type:null,shape:["default","rect","circle","poly"]}},article:s,aside:s,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:s,
base:{attrs:{href:null,target:targets}},basefont:s,bdi:s,bdo:s,big:s,blockquote:{attrs:{cite:null}},body:s,br:s,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:encs,formmethod:methods,formnovalidate:["","novalidate"],formtarget:targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:s,center:s,cite:s,code:s,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command",
"checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:s,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:s,dir:s,div:s,dialog:{attrs:{open:null}},dl:s,dt:s,em:s,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["",
"disabled"],form:null,name:null}},figcaption:s,figure:s,font:s,footer:s,form:{attrs:{action:null,name:null,"accept-charset":charsets,autocomplete:["on","off"],enctype:encs,method:methods,novalidate:["","novalidate"],target:targets}},frame:s,frameset:s,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:s,hgroup:s,hr:s,html:{attrs:{manifest:null},children:["head","body"]},i:s,iframe:{attrs:{src:null,srcdoc:null,name:null,
width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],
autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:encs,formmethod:methods,formnovalidate:["","novalidate"],formtarget:targets,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},
kbd:s,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:s,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:langs,media:media,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:s,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:charsets,name:["viewport","application-name","author","description",
"generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:s,noframes:s,noscript:s,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],
label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:s,param:{attrs:{name:null,value:null}},pre:s,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:s,rt:s,ruby:s,s:s,samp:s,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:charsets}},section:s,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:s,source:{attrs:{src:null,
type:null,media:null}},span:s,strike:s,strong:s,style:{attrs:{type:["text/css"],media:media,scoped:null}},sub:s,summary:s,sup:s,table:s,tbody:s,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:s,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup",
"colgroup"]}},thead:s,time:{attrs:{datetime:null}},title:s,tr:s,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:langs}},tt:s,u:s,ul:s,"var":s,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:s};var globalAttrs={accesskey:["a","b","c","d","e",
"f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],autocorrect:["true","false"],autocapitalize:["true",
"false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};populate(s);var tag;for(tag in data)if(data.hasOwnProperty(tag)&&data[tag]!=s)populate(data[tag]);CodeMirror.htmlSchema=data;CodeMirror.registerHelper("hint","html",htmlHint)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function forEach(arr,f){var i=0;var e=arr.length;for(;i<e;++i)f(arr[i])}function arrayContains(arr,item){if(!Array.prototype.indexOf){var i=arr.length;for(;i--;)if(arr[i]===item)return true;return false}return arr.indexOf(item)!=-1}function scriptHint(editor,keywords,getToken,
options){var cur=editor.getCursor();var token=getToken(editor,cur);if(/\b(?:string|comment)\b/.test(token.type))return;var innerMode=CodeMirror.innerMode(editor.getMode(),token.state);if(innerMode.mode.helperType==="json")return;token.state=innerMode.state;if(!/^[\w$_]*$/.test(token.string))token={start:cur.ch,end:cur.ch,string:"",state:token.state,type:token.string=="."?"property":null};else if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}var tprop=token;
for(;tprop.type=="property";){tprop=getToken(editor,Pos(cur.line,tprop.start));if(tprop.string!=".")return;tprop=getToken(editor,Pos(cur.line,tprop.start));if(!context)var context=[];context.push(tprop)}return{list:getCompletions(token,context,keywords,options),from:Pos(cur.line,token.start),to:Pos(cur.line,token.end)}}function javascriptHint(editor,options){return scriptHint(editor,javascriptKeywords,function(e,cur){return e.getTokenAt(cur)},options)}function getCoffeeScriptToken(editor,cur){var token=
editor.getTokenAt(cur);if(cur.ch==token.start+1&&token.string.charAt(0)=="."){token.end=token.start;token.string=".";token.type="property"}else if(/^\.[\w$_]*$/.test(token.string)){token.type="property";token.start++;token.string=token.string.replace(/\./,"")}return token}function coffeescriptHint(editor,options){return scriptHint(editor,coffeescriptKeywords,getCoffeeScriptToken,options)}function forAllProps(obj,callback){if(!Object.getOwnPropertyNames||!Object.getPrototypeOf){var name;for(name in obj)callback(name)}else{var o=
obj;for(;o;o=Object.getPrototypeOf(o))Object.getOwnPropertyNames(o).forEach(callback)}}function getCompletions(token,context,keywords,options){function maybeAdd(str){if(str.lastIndexOf(start,0)==0&&!arrayContains(found,str))found.push(str)}function gatherCompletions(obj){if(typeof obj=="string")forEach(stringProps,maybeAdd);else if(obj instanceof Array)forEach(arrayProps,maybeAdd);else if(obj instanceof Function)forEach(funcProps,maybeAdd);forAllProps(obj,maybeAdd)}var found=[];var start=token.string;
var global=options&&options.globalScope||window;if(context&&context.length){var obj=context.pop();var base;if(obj.type&&obj.type.indexOf("variable")===0){if(options&&options.additionalContext)base=options.additionalContext[obj.string];if(!options||options.useGlobalScope!==false)base=base||global[obj.string]}else if(obj.type=="string")base="";else if(obj.type=="atom")base=1;else if(obj.type=="function")if(global.jQuery!=null&&(obj.string=="$"||obj.string=="jQuery")&&typeof global.jQuery=="function")base=
global.jQuery();else if(global._!=null&&obj.string=="_"&&typeof global._=="function")base=global._();for(;base!=null&&context.length;)base=base[context.pop().string];if(base!=null)gatherCompletions(base)}else{var v=token.state.localVars;for(;v;v=v.next)maybeAdd(v.name);var c=token.state.context;for(;c;c=c.prev){v=c.vars;for(;v;v=v.next)maybeAdd(v.name)}v=token.state.globalVars;for(;v;v=v.next)maybeAdd(v.name);if(options&&options.additionalContext!=null){var key;for(key in options.additionalContext)maybeAdd(key)}if(!options||
options.useGlobalScope!==false)gatherCompletions(global);forEach(keywords,maybeAdd)}return found}var Pos=CodeMirror.Pos;CodeMirror.registerHelper("hint","javascript",javascriptHint);CodeMirror.registerHelper("hint","coffeescript",coffeescriptHint);var stringProps=("charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight "+"toUpperCase toLowerCase split concat match replace search").split(" ");var arrayProps=("length concat join splice push pop shift unshift slice reverse sort indexOf "+
"lastIndexOf every some filter forEach map reduce reduceRight ").split(" ");var funcProps="prototype apply call bind".split(" ");var javascriptKeywords=("break case catch class const continue debugger default delete do else export extends false finally for function "+"if in import instanceof new null return super switch this throw true try typeof var void while with yield").split(" ");var coffeescriptKeywords=("and break catch class continue delete do else extends false finally for "+"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes").split(" ")});(function(){function forEach(arr,f){var i=0;var e=arr.length;for(;i<e;++i)f(arr[i])}function arrayContains(arr,item){if(!Array.prototype.indexOf){var i=arr.length;for(;i--;)if(arr[i]===item)return true;return false}return arr.indexOf(item)!=-1}function scriptHint(editor,_keywords,getToken){var cur=editor.getCursor();var token=getToken(editor,cur);var tprop=token;if(!/^[\w$_]*$/.test(token.string))token=tprop={start:cur.ch,end:cur.ch,string:"",state:token.state,className:token.string==":"?"pig-type":
null};if(!context)var context=[];context.push(tprop);var completionList=getCompletions(token,context);completionList=completionList.sort();if(completionList.length==1)completionList.push(" ");return{list:completionList,from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)}}function pigHint(editor){return scriptHint(editor,pigKeywordsU,function(e,cur){return e.getTokenAt(cur)})}function getCompletions(token,context){function maybeAdd(str){if(str.lastIndexOf(start,0)==0&&!arrayContains(found,
str))found.push(str)}function gatherCompletions(obj){if(obj==":")forEach(pigTypesL,maybeAdd);else{forEach(pigBuiltinsU,maybeAdd);forEach(pigBuiltinsL,maybeAdd);forEach(pigBuiltinsC,maybeAdd);forEach(pigTypesU,maybeAdd);forEach(pigTypesL,maybeAdd);forEach(pigKeywordsU,maybeAdd);forEach(pigKeywordsL,maybeAdd)}}var found=[];var start=token.string;if(context){var obj=context.pop();var base;if(obj.type=="variable")base=obj.string;else if(obj.type=="variable-3")base=":"+obj.string;for(;base!=null&&context.length;)base=
base[context.pop().string];if(base!=null)gatherCompletions(base)}return found}CodeMirror.pigHint=pigHint;CodeMirror.registerHelper("hint","pig",pigHint);var pigKeywords="VOID IMPORT RETURNS DEFINE LOAD FILTER FOREACH ORDER CUBE DISTINCT COGROUP "+"JOIN CROSS UNION SPLIT INTO IF OTHERWISE ALL AS BY USING INNER OUTER ONSCHEMA PARALLEL "+"PARTITION GROUP AND OR NOT GENERATE FLATTEN ASC DESC IS STREAM THROUGH STORE MAPREDUCE "+"SHIP CACHE INPUT OUTPUT STDERROR STDIN STDOUT LIMIT SAMPLE LEFT RIGHT FULL EQ GT LT GTE LTE "+
"NEQ MATCHES TRUE FALSE";var pigKeywordsU=pigKeywords.split(" ");var pigKeywordsL=pigKeywords.toLowerCase().split(" ");var pigTypes="BOOLEAN INT LONG FLOAT DOUBLE CHARARRAY BYTEARRAY BAG TUPLE MAP";var pigTypesU=pigTypes.split(" ");var pigTypesL=pigTypes.toLowerCase().split(" ");var pigBuiltins="ABS ACOS ARITY ASIN ATAN AVG BAGSIZE BINSTORAGE BLOOM BUILDBLOOM CBRT CEIL "+"CONCAT COR COS COSH COUNT COUNT_STAR COV CONSTANTSIZE CUBEDIMENSIONS DIFF DISTINCT DOUBLEABS "+"DOUBLEAVG DOUBLEBASE DOUBLEMAX DOUBLEMIN DOUBLEROUND DOUBLESUM EXP FLOOR FLOATABS FLOATAVG "+
"FLOATMAX FLOATMIN FLOATROUND FLOATSUM GENERICINVOKER INDEXOF INTABS INTAVG INTMAX INTMIN "+"INTSUM INVOKEFORDOUBLE INVOKEFORFLOAT INVOKEFORINT INVOKEFORLONG INVOKEFORSTRING INVOKER "+"ISEMPTY JSONLOADER JSONMETADATA JSONSTORAGE LAST_INDEX_OF LCFIRST LOG LOG10 LOWER LONGABS "+"LONGAVG LONGMAX LONGMIN LONGSUM MAX MIN MAPSIZE MONITOREDUDF NONDETERMINISTIC OUTPUTSCHEMA  "+"PIGSTORAGE PIGSTREAMING RANDOM REGEX_EXTRACT REGEX_EXTRACT_ALL REPLACE ROUND SIN SINH SIZE "+"SQRT STRSPLIT SUBSTRING SUM STRINGCONCAT STRINGMAX STRINGMIN STRINGSIZE TAN TANH TOBAG "+
"TOKENIZE TOMAP TOP TOTUPLE TRIM TEXTLOADER TUPLESIZE UCFIRST UPPER UTF8STORAGECONVERTER";var pigBuiltinsU=pigBuiltins.split(" ").join("() ").split(" ");var pigBuiltinsL=pigBuiltins.toLowerCase().split(" ").join("() ").split(" ");var pigBuiltinsC=("BagSize BinStorage Bloom BuildBloom ConstantSize CubeDimensions DoubleAbs "+"DoubleAvg DoubleBase DoubleMax DoubleMin DoubleRound DoubleSum FloatAbs FloatAvg FloatMax "+"FloatMin FloatRound FloatSum GenericInvoker IntAbs IntAvg IntMax IntMin IntSum "+"InvokeForDouble InvokeForFloat InvokeForInt InvokeForLong InvokeForString Invoker "+
"IsEmpty JsonLoader JsonMetadata JsonStorage LongAbs LongAvg LongMax LongMin LongSum MapSize "+"MonitoredUDF Nondeterministic OutputSchema PigStorage PigStreaming StringConcat StringMax "+"StringMin StringSize TextLoader TupleSize Utf8StorageConverter").split(" ").join("() ").split(" ")})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Completion(cm,options){this.cm=cm;this.options=options;this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;if(this.options.updateOnCursorActivity){var self=
this;cm.on("cursorActivity",this.activityFunc=function(){self.cursorActivity()})}}function parseOptions(cm,pos,options){var editor=cm.options.hintOptions;var out={};var prop;for(prop in defaultOptions)out[prop]=defaultOptions[prop];if(editor)for(prop in editor)if(editor[prop]!==undefined)out[prop]=editor[prop];if(options)for(prop in options)if(options[prop]!==undefined)out[prop]=options[prop];if(out.hint.resolve)out.hint=out.hint.resolve(cm,pos);return out}function getText(completion){if(typeof completion==
"string")return completion;else return completion.text}function buildKeyMap(completion,handle){function addBinding(key,val){var bound;if(typeof val!="string")bound=function(cm){return val(cm,handle)};else if(baseMap.hasOwnProperty(val))bound=baseMap[val];else bound=val;ourMap[key]=bound}var baseMap={Up:function(){handle.moveFocus(-1)},Down:function(){handle.moveFocus(1)},PageUp:function(){handle.moveFocus(-handle.menuSize()+1,true)},PageDown:function(){handle.moveFocus(handle.menuSize()-1,true)},
Home:function(){handle.setFocus(0)},End:function(){handle.setFocus(handle.length-1)},Enter:handle.pick,Tab:handle.pick,Esc:handle.close};var mac=/Mac/.test(navigator.platform);if(mac){baseMap["Ctrl-P"]=function(){handle.moveFocus(-1)};baseMap["Ctrl-N"]=function(){handle.moveFocus(1)}}var custom=completion.options.customKeys;var ourMap=custom?{}:baseMap;if(custom){var key;for(key in custom)if(custom.hasOwnProperty(key))addBinding(key,custom[key])}var extra=completion.options.extraKeys;if(extra)for(key in extra)if(extra.hasOwnProperty(key))addBinding(key,
extra[key]);return ourMap}function getHintElement(hintsElement,el){for(;el&&el!=hintsElement;){if(el.nodeName.toUpperCase()==="LI"&&el.parentNode==hintsElement)return el;el=el.parentNode}}function Widget(completion,data){this.id="cm-complete-"+nextId++;this.completion=completion;this.data=data;this.picked=false;var widget=this;var cm=completion.cm;var ownerDocument=cm.getInputField().ownerDocument;var parentWindow=ownerDocument.defaultView||ownerDocument.parentWindow;var hints=this.hints=ownerDocument.createElement("ul");
hints.setAttribute("role","listbox");hints.setAttribute("aria-expanded","true");hints.id=this.id;var theme=completion.cm.options.theme;hints.className="CodeMirror-hints "+theme;this.selectedHint=data.selectedHint||0;var completions=data.list;var i=0;for(;i<completions.length;++i){var elt=hints.appendChild(ownerDocument.createElement("li"));var cur=completions[i];var className=HINT_ELEMENT_CLASS+(i!=this.selectedHint?"":" "+ACTIVE_HINT_ELEMENT_CLASS);if(cur.className!=null)className=cur.className+
" "+className;elt.className=className;if(i==this.selectedHint)elt.setAttribute("aria-selected","true");elt.id=this.id+"-"+i;elt.setAttribute("role","option");if(cur.render)cur.render(elt,data,cur);else elt.appendChild(ownerDocument.createTextNode(cur.displayText||getText(cur)));elt.hintId=i}var container=completion.options.container||ownerDocument.body;var pos=cm.cursorCoords(completion.options.alignWithWord?data.from:null);var left=pos.left;var top=pos.bottom;var below=true;var offsetLeft=0;var offsetTop=
0;if(container!==ownerDocument.body){var isContainerPositioned=["absolute","relative","fixed"].indexOf(parentWindow.getComputedStyle(container).position)!==-1;var offsetParent=isContainerPositioned?container:container.offsetParent;var offsetParentPosition=offsetParent.getBoundingClientRect();var bodyPosition=ownerDocument.body.getBoundingClientRect();offsetLeft=offsetParentPosition.left-bodyPosition.left-offsetParent.scrollLeft;offsetTop=offsetParentPosition.top-bodyPosition.top-offsetParent.scrollTop}hints.style.left=
left-offsetLeft+"px";hints.style.top=top-offsetTop+"px";var winW=parentWindow.innerWidth||Math.max(ownerDocument.body.offsetWidth,ownerDocument.documentElement.offsetWidth);var winH=parentWindow.innerHeight||Math.max(ownerDocument.body.offsetHeight,ownerDocument.documentElement.offsetHeight);container.appendChild(hints);cm.getInputField().setAttribute("aria-autocomplete","list");cm.getInputField().setAttribute("aria-owns",this.id);cm.getInputField().setAttribute("aria-activedescendant",this.id+"-"+
this.selectedHint);var box=completion.options.moveOnOverlap?hints.getBoundingClientRect():new DOMRect;var scrolls=completion.options.paddingForScrollbar?hints.scrollHeight>hints.clientHeight+1:false;var startScroll;setTimeout(function(){startScroll=cm.getScrollInfo()});var overlapY=box.bottom-winH;if(overlapY>0){var height=box.bottom-box.top;var curTop=pos.top-(pos.bottom-box.top);if(curTop-height>0){hints.style.top=(top=pos.top-height-offsetTop)+"px";below=false}else if(height>winH){hints.style.height=
winH-5+"px";hints.style.top=(top=pos.bottom-box.top-offsetTop)+"px";var cursor=cm.getCursor();if(data.from.ch!=cursor.ch){pos=cm.cursorCoords(cursor);hints.style.left=(left=pos.left-offsetLeft)+"px";box=hints.getBoundingClientRect()}}}var overlapX=box.right-winW;if(scrolls)overlapX=overlapX+cm.display.nativeBarWidth;if(overlapX>0){if(box.right-box.left>winW){hints.style.width=winW-5+"px";overlapX=overlapX-(box.right-box.left-winW)}hints.style.left=(left=Math.max(pos.left-overlapX-offsetLeft,0))+"px"}if(scrolls){var node=
hints.firstChild;for(;node;node=node.nextSibling)node.style.paddingRight=cm.display.nativeBarWidth+"px"}cm.addKeyMap(this.keyMap=buildKeyMap(completion,{moveFocus:function(n,avoidWrap){widget.changeActive(widget.selectedHint+n,avoidWrap)},setFocus:function(n){widget.changeActive(n)},menuSize:function(){return widget.screenAmount()},length:completions.length,close:function(){completion.close()},pick:function(){widget.pick()},data:data}));if(completion.options.closeOnUnfocus){var closingOnBlur;cm.on("blur",
this.onBlur=function(){closingOnBlur=setTimeout(function(){completion.close()},100)});cm.on("focus",this.onFocus=function(){clearTimeout(closingOnBlur)})}cm.on("scroll",this.onScroll=function(){var curScroll=cm.getScrollInfo();var editor=cm.getWrapperElement().getBoundingClientRect();if(!startScroll)startScroll=cm.getScrollInfo();var newTop=top+startScroll.top-curScroll.top;var point=newTop-(parentWindow.pageYOffset||(ownerDocument.documentElement||ownerDocument.body).scrollTop);if(!below)point=point+
hints.offsetHeight;if(point<=editor.top||point>=editor.bottom)return completion.close();hints.style.top=newTop+"px";hints.style.left=left+startScroll.left-curScroll.left+"px"});CodeMirror.on(hints,"dblclick",function(e){var t=getHintElement(hints,e.target||e.srcElement);if(t&&t.hintId!=null){widget.changeActive(t.hintId);widget.pick()}});CodeMirror.on(hints,"click",function(e){var t=getHintElement(hints,e.target||e.srcElement);if(t&&t.hintId!=null){widget.changeActive(t.hintId);if(completion.options.completeOnSingleClick)widget.pick()}});
CodeMirror.on(hints,"mousedown",function(){setTimeout(function(){cm.focus()},20)});var selectedHintRange=this.getSelectedHintRange();if(selectedHintRange.from!==0||selectedHintRange.to!==0)this.scrollToActive();CodeMirror.signal(data,"select",completions[this.selectedHint],hints.childNodes[this.selectedHint]);return true}function applicableHelpers(cm,helpers){if(!cm.somethingSelected())return helpers;var result=[];var i=0;for(;i<helpers.length;i++)if(helpers[i].supportsSelection)result.push(helpers[i]);
return result}function fetchHints(hint,cm,options,callback){if(hint.async)hint(cm,callback,options);else{var result=hint(cm,options);if(result&&result.then)result.then(callback);else callback(result)}}function resolveAutoHints(cm,pos){var helpers=cm.getHelpers(pos,"hint");var words;if(helpers.length){var resolved=function(cm,callback,options){function run(i){if(i==app.length)return callback(null);fetchHints(app[i],cm,options,function(result){if(result&&result.list.length>0)callback(result);else run(i+
1)})}var app=applicableHelpers(cm,helpers);run(0)};resolved.async=true;resolved.supportsSelection=true;return resolved}else if(words=cm.getHelper(cm.getCursor(),"hintWords"))return function(cm){return CodeMirror.hint.fromList(cm,{words:words})};else if(CodeMirror.hint.anyword)return function(cm,options){return CodeMirror.hint.anyword(cm,options)};else return function(){}}var HINT_ELEMENT_CLASS="CodeMirror-hint";var ACTIVE_HINT_ELEMENT_CLASS="CodeMirror-hint-active";CodeMirror.showHint=function(cm,
getHints,options){if(!getHints)return cm.showHint(options);if(options&&options.async)getHints.async=true;var newOpts={hint:getHints};if(options){var prop;for(prop in options)newOpts[prop]=options[prop]}return cm.showHint(newOpts)};CodeMirror.defineExtension("showHint",function(options){options=parseOptions(this,this.getCursor("start"),options);var selections=this.listSelections();if(selections.length>1)return;if(this.somethingSelected()){if(!options.hint.supportsSelection)return;var i=0;for(;i<selections.length;i++)if(selections[i].head.line!=
selections[i].anchor.line)return}if(this.state.completionActive)this.state.completionActive.close();var completion=this.state.completionActive=new Completion(this,options);if(!completion.options.hint)return;CodeMirror.signal(this,"startCompletion",this);completion.update(true)});CodeMirror.defineExtension("closeHint",function(){if(this.state.completionActive)this.state.completionActive.close()});var requestAnimationFrame=window.requestAnimationFrame||function(fn){return setTimeout(fn,1E3/60)};var cancelAnimationFrame=
window.cancelAnimationFrame||clearTimeout;Completion.prototype={close:function(){if(!this.active())return;this.cm.state.completionActive=null;this.tick=null;if(this.options.updateOnCursorActivity)this.cm.off("cursorActivity",this.activityFunc);if(this.widget&&this.data)CodeMirror.signal(this.data,"close");if(this.widget)this.widget.close();CodeMirror.signal(this.cm,"endCompletion",this.cm)},active:function(){return this.cm.state.completionActive==this},pick:function(data,i){var completion=data.list[i];
var self=this;this.cm.operation(function(){if(completion.hint)completion.hint(self.cm,data,completion);else self.cm.replaceRange(getText(completion),completion.from||data.from,completion.to||data.to,"complete");CodeMirror.signal(data,"pick",completion);self.cm.scrollIntoView()});if(this.options.closeOnPick)this.close()},cursorActivity:function(){if(this.debounce){cancelAnimationFrame(this.debounce);this.debounce=0}var identStart=this.startPos;if(this.data)identStart=this.data.from;var pos=this.cm.getCursor();
var line=this.cm.getLine(pos.line);if(pos.line!=this.startPos.line||line.length-pos.ch!=this.startLen-this.startPos.ch||pos.ch<identStart.ch||this.cm.somethingSelected()||(!pos.ch||this.options.closeCharacters.test(line.charAt(pos.ch-1))))this.close();else{var self=this;this.debounce=requestAnimationFrame(function(){self.update()});if(this.widget)this.widget.disable()}},update:function(first){if(this.tick==null)return;var self=this;var myTick=++this.tick;fetchHints(this.options.hint,this.cm,this.options,
function(data){if(self.tick==myTick)self.finishUpdate(data,first)})},finishUpdate:function(data,first){if(this.data)CodeMirror.signal(this.data,"update");var picked=this.widget&&this.widget.picked||first&&this.options.completeSingle;if(this.widget)this.widget.close();this.data=data;if(data&&data.list.length)if(picked&&data.list.length==1)this.pick(data,0);else{this.widget=new Widget(this,data);CodeMirror.signal(data,"shown")}}};var nextId=Math.floor(Math.random(1E6));Widget.prototype={close:function(){if(this.completion.widget!=
this)return;this.completion.widget=null;if(this.hints.parentNode)this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var input=this.completion.cm.getInputField();input.removeAttribute("aria-activedescendant");input.removeAttribute("aria-owns");var cm=this.completion.cm;if(this.completion.options.closeOnUnfocus){cm.off("blur",this.onBlur);cm.off("focus",this.onFocus)}cm.off("scroll",this.onScroll)},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);
var widget=this;this.keyMap={Enter:function(){widget.picked=true}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,avoidWrap){if(i>=this.data.list.length)i=avoidWrap?this.data.list.length-1:0;else if(i<0)i=avoidWrap?0:this.data.list.length-1;if(this.selectedHint==i)return;var node=this.hints.childNodes[this.selectedHint];if(node){node.className=node.className.replace(" "+ACTIVE_HINT_ELEMENT_CLASS,"");node.removeAttribute("aria-selected")}node=
this.hints.childNodes[this.selectedHint=i];node.className+=" "+ACTIVE_HINT_ELEMENT_CLASS;node.setAttribute("aria-selected","true");this.completion.cm.getInputField().setAttribute("aria-activedescendant",node.id);this.scrollToActive();CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],node)},scrollToActive:function(){var selectedHintRange=this.getSelectedHintRange();var node1=this.hints.childNodes[selectedHintRange.from];var node2=this.hints.childNodes[selectedHintRange.to];var firstNode=
this.hints.firstChild;if(node1.offsetTop<this.hints.scrollTop)this.hints.scrollTop=node1.offsetTop-firstNode.offsetTop;else if(node2.offsetTop+node2.offsetHeight>this.hints.scrollTop+this.hints.clientHeight)this.hints.scrollTop=node2.offsetTop+node2.offsetHeight-this.hints.clientHeight+firstNode.offsetTop},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var margin=this.completion.options.scrollMargin||0;return{from:Math.max(0,
this.selectedHint-margin),to:Math.min(this.data.list.length-1,this.selectedHint+margin)}}};CodeMirror.registerHelper("hint","auto",{resolve:resolveAutoHints});CodeMirror.registerHelper("hint","fromList",function(cm,options){var cur=cm.getCursor();var token=cm.getTokenAt(cur);var term;var from=CodeMirror.Pos(cur.line,token.start);var to=cur;if(token.start<cur.ch&&/\w/.test(token.string.charAt(cur.ch-token.start-1)))term=token.string.substr(0,cur.ch-token.start);else{term="";from=cur}var found=[];var i=
0;for(;i<options.words.length;i++){var word=options.words[i];if(word.slice(0,term.length)==term)found.push(word)}if(found.length)return{list:found,from:from,to:to}});CodeMirror.commands.autocomplete=CodeMirror.showHint;var defaultOptions={hint:CodeMirror.hint.auto,completeSingle:true,alignWithWord:true,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:true,closeOnUnfocus:true,updateOnCursorActivity:true,completeOnSingleClick:true,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:true,
moveOnOverlap:true};CodeMirror.defineOption("hintOptions",null)});(function(){CodeMirror.simpleHint=function(editor,getHints,givenOptions){function collectHints(previousToken){function insert(str){editor.replaceRange(str,result.from,result.to)}function close(){if(done)return;done=true;complete.parentNode.removeChild(complete)}function pick(){insert(completions[sel.selectedIndex]);close();setTimeout(function(){editor.focus()},50)}if(editor.somethingSelected())return;var tempToken=editor.getTokenAt(editor.getCursor());if(options.closeOnTokenChange&&previousToken!=
null&&(tempToken.start!=previousToken.start||tempToken.type!=previousToken.type))return;var result=getHints(editor,givenOptions);if(!result||!result.list.length)return;var completions=result.list;if(options.completeSingle&&completions.length==1){insert(completions[0]);return true}var complete=document.createElement("div");complete.className="CodeMirror-completions";var sel=complete.appendChild(document.createElement("select"));if(!window.opera)sel.multiple=true;var i=0;for(;i<completions.length;++i){var opt=
sel.appendChild(document.createElement("option"));opt.appendChild(document.createTextNode(completions[i]))}sel.firstChild.selected=true;sel.size=Math.min(10,completions.length);var pos=editor.cursorCoords(options.alignWithWord?result.from:null);complete.style.left=pos.left+"px";complete.style.top=pos.bottom+"px";document.body.appendChild(complete);var winW=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);if(winW-pos.left<sel.clientWidth)complete.style.left=
pos.left-sel.clientWidth+"px";if(completions.length<=10)complete.style.width=sel.clientWidth-1+"px";var done=false;CodeMirror.on(sel,"blur",close);CodeMirror.on(sel,"keydown",function(event){var code=event.keyCode;if(code==13){CodeMirror.e_stop(event);pick()}else if(code==27){CodeMirror.e_stop(event);close();editor.focus()}else if(code!=38&&code!=40&&code!=33&&code!=34&&!CodeMirror.isModifierKey(event)){close();editor.focus();editor.triggerOnKeyDown(event);if(!options.closeOnBackspace||code!=8)setTimeout(function(){collectHints(tempToken)},
50)}});CodeMirror.on(sel,"dblclick",pick);sel.focus();if(window.opera)setTimeout(function(){if(!done)sel.focus()},100);return true}var options={};var defaults=CodeMirror.simpleHint.defaults;var opt;for(opt in defaults)if(defaults.hasOwnProperty(opt))options[opt]=(givenOptions&&givenOptions.hasOwnProperty(opt)?givenOptions:defaults)[opt];return collectHints()};CodeMirror.simpleHint.defaults={closeOnBackspace:true,closeOnTokenChange:false,completeSingle:true,alignWithWord:true}})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../mode/sql/sql"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../mode/sql/sql"],mod);else mod(CodeMirror)})(function(CodeMirror){function isArray(val){return Object.prototype.toString.call(val)=="[object Array]"}function getKeywords(editor){var mode=editor.doc.modeOption;if(mode==="sql")mode="text/x-sql";return CodeMirror.resolveMode(mode).keywords}
function getIdentifierQuote(editor){var mode=editor.doc.modeOption;if(mode==="sql")mode="text/x-sql";return CodeMirror.resolveMode(mode).identifierQuote||"`"}function getText(item){return typeof item=="string"?item:item.text}function wrapTable(name,value){if(isArray(value))value={columns:value};if(!value.text)value.text=name;return value}function parseTables(input){var result={};if(isArray(input)){var i=input.length-1;for(;i>=0;i--){var item=input[i];result[getText(item).toUpperCase()]=wrapTable(getText(item),
item)}}else if(input){var name;for(name in input)result[name.toUpperCase()]=wrapTable(name,input[name])}return result}function getTable(name){return tables[name.toUpperCase()]}function shallowClone(object){var result={};var key;for(key in object)if(object.hasOwnProperty(key))result[key]=object[key];return result}function match(string,word){var len=string.length;var sub=getText(word).substr(0,len);return string.toUpperCase()===sub.toUpperCase()}function addMatches(result,search,wordlist,formatter){if(isArray(wordlist)){var i=
0;for(;i<wordlist.length;i++)if(match(search,wordlist[i]))result.push(formatter(wordlist[i]))}else{var word;for(word in wordlist)if(wordlist.hasOwnProperty(word)){var val=wordlist[word];if(!val||val===true)val=word;else val=val.displayText?{text:val.text,displayText:val.displayText}:val.text;if(match(search,val))result.push(formatter(val))}}}function cleanName(name){if(name.charAt(0)==".")name=name.substr(1);var nameParts=name.split(identifierQuote+identifierQuote);var i=0;for(;i<nameParts.length;i++)nameParts[i]=
nameParts[i].replace(new RegExp(identifierQuote,"g"),"");return nameParts.join(identifierQuote)}function insertIdentifierQuotes(name){var nameParts=getText(name).split(".");var i=0;for(;i<nameParts.length;i++)nameParts[i]=identifierQuote+nameParts[i].replace(new RegExp(identifierQuote,"g"),identifierQuote+identifierQuote)+identifierQuote;var escaped=nameParts.join(".");if(typeof name=="string")return escaped;name=shallowClone(name);name.text=escaped;return name}function nameCompletion(cur,token,result,
editor){var useIdentifierQuotes=false;var nameParts=[];var start=token.start;var cont=true;for(;cont;){cont=token.string.charAt(0)==".";useIdentifierQuotes=useIdentifierQuotes||token.string.charAt(0)==identifierQuote;start=token.start;nameParts.unshift(cleanName(token.string));token=editor.getTokenAt(Pos(cur.line,token.start));if(token.string=="."){cont=true;token=editor.getTokenAt(Pos(cur.line,token.start))}}var string=nameParts.join(".");addMatches(result,string,tables,function(w){return useIdentifierQuotes?
insertIdentifierQuotes(w):w});addMatches(result,string,defaultTable,function(w){return useIdentifierQuotes?insertIdentifierQuotes(w):w});string=nameParts.pop();var table=nameParts.join(".");var alias=false;var aliasTable=table;if(!getTable(table)){var oldTable=table;table=findTableByAlias(table,editor);if(table!==oldTable)alias=true}var columns=getTable(table);if(columns&&columns.columns)columns=columns.columns;if(columns)addMatches(result,string,columns,function(w){var tableInsert=table;if(alias==
true)tableInsert=aliasTable;if(typeof w=="string")w=tableInsert+"."+w;else{w=shallowClone(w);w.text=tableInsert+"."+w.text}return useIdentifierQuotes?insertIdentifierQuotes(w):w});return start}function eachWord(lineText,f){var words=lineText.split(/\s+/);var i=0;for(;i<words.length;i++)if(words[i])f(words[i].replace(/[`,;]/g,""))}function findTableByAlias(alias,editor){var doc=editor.doc;var fullQuery=doc.getValue();var aliasUpperCase=alias.toUpperCase();var previousWord="";var table="";var separator=
[];var validRange={start:Pos(0,0),end:Pos(editor.lastLine(),editor.getLineHandle(editor.lastLine()).length)};var indexOfSeparator=fullQuery.indexOf(CONS.QUERY_DIV);for(;indexOfSeparator!=-1;){separator.push(doc.posFromIndex(indexOfSeparator));indexOfSeparator=fullQuery.indexOf(CONS.QUERY_DIV,indexOfSeparator+1)}separator.unshift(Pos(0,0));separator.push(Pos(editor.lastLine(),editor.getLineHandle(editor.lastLine()).text.length));var prevItem=null;var current=editor.getCursor();var i=0;for(;i<separator.length;i++){if((prevItem==
null||cmpPos(current,prevItem)>0)&&cmpPos(current,separator[i])<=0){validRange={start:prevItem,end:separator[i]};break}prevItem=separator[i]}if(validRange.start){var query=doc.getRange(validRange.start,validRange.end,false);i=0;for(;i<query.length;i++){var lineText=query[i];eachWord(lineText,function(word){var wordUpperCase=word.toUpperCase();if(wordUpperCase===aliasUpperCase&&getTable(previousWord))table=previousWord;if(wordUpperCase!==CONS.ALIAS_KEYWORD)previousWord=word});if(table)break}}return table}
var tables;var defaultTable;var keywords;var identifierQuote;var CONS={QUERY_DIV:";",ALIAS_KEYWORD:"AS"};var Pos=CodeMirror.Pos;var cmpPos=CodeMirror.cmpPos;CodeMirror.registerHelper("hint","sql",function(editor,options){tables=parseTables(options&&options.tables);var defaultTableName=options&&options.defaultTable;var disableKeywords=options&&options.disableKeywords;defaultTable=defaultTableName&&getTable(defaultTableName);keywords=getKeywords(editor);identifierQuote=getIdentifierQuote(editor);if(defaultTableName&&
!defaultTable)defaultTable=findTableByAlias(defaultTableName,editor);defaultTable=defaultTable||[];if(defaultTable.columns)defaultTable=defaultTable.columns;var cur=editor.getCursor();var result=[];var token=editor.getTokenAt(cur);var start;var end;var search;if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}if(token.string.match(/^[.`"'\w@][\w$#]*$/g)){search=token.string;start=token.start;end=token.end}else{start=end=cur.ch;search=""}if(search.charAt(0)==
"."||search.charAt(0)==identifierQuote)start=nameCompletion(cur,token,result,editor);else{var objectOrClass=function(w,className){if(typeof w==="object")w.className=className;else w={text:w,className:className};return w};addMatches(result,search,defaultTable,function(w){return objectOrClass(w,"CodeMirror-hint-table CodeMirror-hint-default-table")});addMatches(result,search,tables,function(w){return objectOrClass(w,"CodeMirror-hint-table")});if(!disableKeywords)addMatches(result,search,keywords,function(w){return objectOrClass(w.toUpperCase(),
"CodeMirror-hint-keyword")})}return{list:result,from:Pos(cur.line,start),to:Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function matches(hint,typed,matchInMiddle){if(matchInMiddle)return hint.indexOf(typed)>=0;else return hint.lastIndexOf(typed,0)==0}function getHints(cm,options){function returnHints(){return{list:result,from:replaceToken?Pos(cur.line,tagStart==null?token.start:tagStart):
cur,to:replaceToken?Pos(cur.line,token.end):cur}}var tags=options&&options.schemaInfo;var quote=options&&options.quoteChar||'"';var matchInMiddle=options&&options.matchInMiddle;if(!tags)return;var cur=cm.getCursor();var token=cm.getTokenAt(cur);if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}var inner=CodeMirror.innerMode(cm.getMode(),token.state);if(!inner.mode.xmlCurrentTag)return;var result=[];var replaceToken=false;var prefix;var tag=/\btag\b/.test(token.type)&&
!/>$/.test(token.string);var tagName=tag&&/^\w/.test(token.string);var tagStart;if(tagName){var before=cm.getLine(cur.line).slice(Math.max(0,token.start-2),token.start);var tagType=/<\/$/.test(before)?"close":/<$/.test(before)?"open":null;if(tagType)tagStart=token.start-(tagType=="close"?2:1)}else if(tag&&token.string=="<")tagType="open";else if(tag&&token.string=="</")tagType="close";var tagInfo=inner.mode.xmlCurrentTag(inner.state);if(!tag&&!tagInfo||tagType){if(tagName)prefix=token.string;replaceToken=
tagType;var context=inner.mode.xmlCurrentContext?inner.mode.xmlCurrentContext(inner.state):[];inner=context.length&&context[context.length-1];var curTag=inner&&tags[inner];var childList=inner?curTag&&curTag.children:tags["!top"];if(childList&&tagType!="close"){var i=0;for(;i<childList.length;++i)if(!prefix||matches(childList[i],prefix,matchInMiddle))result.push("<"+childList[i])}else if(tagType!="close"){var name;for(name in tags)if(tags.hasOwnProperty(name)&&name!="!top"&&name!="!attrs"&&(!prefix||
matches(name,prefix,matchInMiddle)))result.push("<"+name)}if(inner&&(!prefix||tagType=="close"&&matches(inner,prefix,matchInMiddle)))result.push("</"+inner+">")}else{curTag=tagInfo&&tags[tagInfo.name];var attrs=curTag&&curTag.attrs;var globalAttrs=tags["!attrs"];if(!attrs&&!globalAttrs)return;if(!attrs)attrs=globalAttrs;else if(globalAttrs){var set={};var nm;for(nm in globalAttrs)if(globalAttrs.hasOwnProperty(nm))set[nm]=globalAttrs[nm];for(nm in attrs)if(attrs.hasOwnProperty(nm))set[nm]=attrs[nm];
attrs=set}if(token.type=="string"||token.string=="="){before=cm.getRange(Pos(cur.line,Math.max(0,cur.ch-60)),Pos(cur.line,token.type=="string"?token.start:token.end));var atName=before.match(/([^\s\u00a0=<>"']+)=$/);var atValues;if(!atName||!attrs.hasOwnProperty(atName[1])||!(atValues=attrs[atName[1]]))return;if(typeof atValues=="function")atValues=atValues.call(this,cm);if(token.type=="string"){prefix=token.string;var n=0;if(/['"]/.test(token.string.charAt(0))){quote=token.string.charAt(0);prefix=
token.string.slice(1);n++}var len=token.string.length;if(/['"]/.test(token.string.charAt(len-1))){quote=token.string.charAt(len-1);prefix=token.string.substr(n,len-2)}if(n){var line=cm.getLine(cur.line);if(line.length>token.end&&line.charAt(token.end)==quote)token.end++}replaceToken=true}var returnHintsFromAtValues=function(atValues){if(atValues){var i=0;for(;i<atValues.length;++i)if(!prefix||matches(atValues[i],prefix,matchInMiddle))result.push(quote+atValues[i]+quote)}return returnHints()};if(atValues&&
atValues.then)return atValues.then(returnHintsFromAtValues);return returnHintsFromAtValues(atValues)}else{if(token.type=="attribute"){prefix=token.string;replaceToken=true}var attr;for(attr in attrs)if(attrs.hasOwnProperty(attr)&&(!prefix||matches(attr,prefix,matchInMiddle)))result.push(attr)}}return returnHints()}var Pos=CodeMirror.Pos;CodeMirror.registerHelper("hint","xml",getHints)});(function(){function keywords(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}var actionscriptConfig={name:"clike",keywords:keywords("abstract as Boolean break case char catch class const continue "+"debugger default delete do double dynamic each else enum export "+"extends false final finally float for function get goto if "+"implements import in include instanceof int interface internal "+"intrinsic is label long namespace native new null Number Object "+
"override package private protected prototype public return set "+"short static String super switch synchronized this throw throws to "+"transient true try type typeof uint undefined use var virtual void "+"volatile while with"),blockKeywords:keywords("catch class do else enum for function if interface package "+"prototype switch try while with"),builtin:keywords("Boolean char double float int long Number Object short String uint"),atoms:keywords("true false null this"),multiLineStrings:true,hooks:{}};
CodeMirror.defineMIME("text/x-actionscript",actionscriptConfig)})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("antlr",function(config){function readSym(stream){var ch;for(;ch=stream.next();)if(!symbol.test(ch)){stream.backUp(1);break}return stream.current()}function base(stream,state){if(state.inBlockComment)return tokenComment(stream,state);if(stream.eatSpace()){type=
"ws";return null}if(stream.match(numLiteral))return"number";var ch=stream.next();if(ch=="=")return"tag";if(ch=="/"&&stream.peek()=="/"){stream.skipToEnd();return"comment"}else if(ch=="/"&&stream.peek()=="*"){stream.next();state.inBlockComment=true;return tokenComment(stream,state)}if(ch=="'")return(state.tokenize=inString)(stream,state);if(ch==":"||ch=="|")return null;else if(ch=="("){type="open";return"bracket"}else if(ch==")"){type="close";return"bracket"}else{var name=readSym(stream);type="symbol";
if(name=="true"||name=="false")return"atom";if(keywords[name])return"keyword";if(name.charAt(0)=="$")return"variable-2";if(/^[A-Z].*/.test(name)&&name.length>1)return"variable-3";return"variable"}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.inBlockComment=false;break}maybeEnd=ch=="*"}return"comment"}function inString(stream,state){var escaped=false;var next;for(;next=stream.next();){if(next=="'"&&!escaped){state.tokenize=base;break}escaped=
!escaped&&next=="\\"}return"string"}var keywords={"fragment":true,"grammar":true,"options":true,"tokens":true};var numLiteral=/^(?:[+\-]?(?:\d+|\d*\.\d+)(?:e[+\-]?\d+)?|[+\-]?\d+(?:\/[+\-]?\d+)?)/;var symbol=/[^\s'`,@()\[\]{}'*&-=?!^|:;]/;var type;return{startState:function(){return{inBlockComment:false,ctx:{indentTo:0},tokenize:base}},token:function(stream,state){state.ctx.indentTo=stream.indentation();type=null;return state.tokenize(stream,state)},indent:function(state,_textAfter){var i=state.ctx.indentTo;
return i},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});CodeMirror.defineMIME("text/x-antlr","antlr")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("aqua",function(config){function readSym(stream){var ch;for(;ch=stream.next();)if(!symbol.test(ch)){stream.backUp(1);break}return stream.current()}function base(stream,state){if(stream.eatSpace()){type="ws";return null}if(stream.match(numLiteral))return"number";
var ch=stream.next();if(ch=="=")return"tag";if(ch=='"')return(state.tokenize=inString)(stream,state);if(ch==":")return null;else if(ch=="("){type="open";return"bracket"}else if(ch==")"){type="close";return"bracket"}else if(ch=="#"){stream.skipToEnd();type="ws";return"comment"}else{var name=readSym(stream);type="symbol";if(name=="true"||name=="false")return"atom";if(keywords[name])return"keyword";if(name.charAt(0)=="$")return"variable-2";if(/[A-Z].*/.test(name)&&name.length>1)return"variable-3";return"variable"}}
function inString(stream,state){var escaped=false;var next;for(;next=stream.next();){if(next=='"'&&!escaped){state.tokenize=base;break}escaped=!escaped&&next=="\\"}return"string"}var keywords={"annotator":true,"annotator_rule":true,"config":true,"define_annotator":true,"define_semantic_fn":true,"define_subgrammar":true,"example":true,"examples":true,"export":true,"feature_extractor":true,"from":true,"in":true,"induced_rule":true,"instance":true,"interpretation_filter":true,"manual_override":true,
"manual_rule":true,"optional":true,"provenance":true,"rule":true,"source":true,"subgrammar":true,"subgrammar_users":true,"tokenizer":true,"type":true,"with":true};var numLiteral=/^(?:[+\-]?(?:\d+|\d*\.\d+)(?:e[+\-]?\d+)?|[+\-]?\d+(?:\/[+\-]?\d+)?)/;var symbol=/[^\s'`,@()\[\]";]/;var type;return{startState:function(){return{ctx:{indentTo:0},tokenize:base}},token:function(stream,state){state.ctx.indentTo=stream.indentation();type=null;return state.tokenize(stream,state);return style},indent:function(state,
_textAfter){var i=state.ctx.indentTo;return i},lineComment:"#"}});CodeMirror.defineMIME("text/x-aqua","aqua")});/*

 Copyright (C) 2013 by Joe Allan Muharsky

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
CodeMirror.defineMode("bqsql",function(config){function wordRegexp(words){return new RegExp("^(?:"+words.join("|")+")$","i")}function tokenBase(stream,state){var ch=stream.next();curPunc=null;if(ch==="$"||ch==="?"){stream.match(/^[\w\d]*/);return"variable-2"}else if(ch==="<"&&!stream.match(/^[\s\u00a0=]/,false)){stream.match(/^[^\s\u00a0>]*>?/);return"atom"}else if(ch==='"'||ch==="'"){state.tokenize=tokenLiteral(ch);return state.tokenize(stream,state)}else if(ch==="`"){state.tokenize=tokenOpLiteral(ch);
return state.tokenize(stream,state)}else if(punctuationChars.test(ch)){curPunc=ch;return null}else if(ch==="-"){ch2=stream.next();if(ch2==="-"){stream.skipToEnd();return"comment"}}else if(operatorChars.test(ch)){stream.eatWhile(operatorChars);return null}else if(ch===":"){stream.eatWhile(/[\w\d._\-]/);return"atom"}else{stream.eatWhile(/[_\w\d.]/);if(stream.eat(":")){stream.eatWhile(/[\w\d._\-]/);return"atom"}var word=stream.current();if(functions.test(word))return"function";else if(keywords.test(word))return"keyword";
else if(types.test(word))return"type";else return"variable"}}function tokenLiteral(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch===quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&ch==="\\"}return"string"}}function tokenOpLiteral(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch===quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&ch==="\\"}return"variable-2"}}function pushContext(state,
type,col){state.context={prev:state.context,indent:state.indent,col:col,type:type}}function popContext(state){state.indent=state.context.indent;state.context=state.context.prev}var indentUnit=config.indentUnit;var curPunc;var keywords=wordRegexp(["SELECT","WITHIN","FROM","FLATTEN","JOIN","WHERE","GROUP BY","HAVING","ORDER BY","LIMIT","IF","IN","IS","NULL","CONTAINS","CASE","WHEN","THEN","END","GROUP","ORDER","BY","AS","AND","ELSE"]);var functions=wordRegexp(["AVG","CORR","COUNT","DISTINCT","GROUP_CONCAT",
"QUANTILES","STDDEV","VARIANCE","LAST","MAX","MIN","NTH","SUM","TOP","BOOLEAN","FLOAT","HEX_STRING","INTEGER","STRING","BETWEEN","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC",
"USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","LEFT","LENGTH","LOWER","LPAD","RIGHT","RPAD","SUBSTR","UPPER","HOST","DOMAIN",
"TLD","CUME_DIST","DENSE_RANK","LAG","LEAD","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","HASH","IF","POSITION"]);var types=wordRegexp([]);var operatorChars=/[*+\-<>=&|]/;var punctuationChars=/[{}\(\),;\[\]]/;return{startState:function(base){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(stream,state){if(stream.sol()){if(state.context&&state.context.align===null)state.context.align=false;state.indent=stream.indentation()}if(stream.eatSpace())return null;
var style=state.tokenize(stream,state);if(style!=="comment"&&state.context&&state.context.align===null&&state.context.type!=="pattern")state.context.align=true;if(curPunc==="(")pushContext(state,")",stream.column());else if(curPunc==="[")pushContext(state,"]",stream.column());else if(curPunc==="{")pushContext(state,"}",stream.column());else if(/[\]\}\)]/.test(curPunc)){for(;state.context&&state.context.type==="pattern";)popContext(state);if(state.context&&curPunc===state.context.type)popContext(state)}else if(curPunc===
"."&&state.context&&state.context.type==="pattern")popContext(state);else if(/atom|string|variable/.test(style)&&state.context)if(/[\}\]]/.test(state.context.type))pushContext(state,"pattern",stream.column());else if(state.context.type==="pattern"&&!state.context.align){state.context.align=true;state.context.col=stream.column()}return style},indent:function(state,textAfter){var firstChar=textAfter&&textAfter.charAt(0);var context=state.context;if(/[\]\}]/.test(firstChar))for(;context&&context.type===
"pattern";)context=context.prev;var closing=context&&firstChar===context.type;if(!context)return 0;else if(context.type==="pattern")return context.col;else if(context.align)return context.col+(closing?0:1);else return context.indent+(closing?0:indentUnit)}}});CodeMirror.defineMIME("text/x-bqsql","bqsql");(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Context(indented,column,type,info,align,prev){this.indented=indented;this.column=column;this.type=type;this.info=info;this.align=align;this.prev=prev}function pushContext(state,col,type,info){var indent=state.indented;if(state.context&&state.context.type=="statement"&&
type!="statement")indent=state.context.indented;return state.context=new Context(indent,col,type,info,null,state.context)}function popContext(state){var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}function typeBefore(stream,state,pos){if(state.prevToken=="variable"||state.prevToken=="type")return true;if(/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(stream.string.slice(0,pos)))return true;if(state.typeAtEndOfLine&&stream.column()==
stream.indentation())return true}function isTopScope(context){for(;;){if(!context||context.type=="top")return true;if(context.type=="}"&&context.prev.info!="namespace")return false;context=context.prev}}function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function contains(words,word){if(typeof words==="function")return words(word);else return words.propertyIsEnumerable(word)}function cTypes(identifier){return contains(basicCTypes,identifier)||
/.+_t$/.test(identifier)}function objCTypes(identifier){return cTypes(identifier)||contains(basicObjCTypes,identifier)}function cppHook(stream,state){if(!state.startOfLine)return false;var ch;var next=null;for(;ch=stream.peek();){if(ch=="\\"&&stream.match(/^.$/)){next=cppHook;break}else if(ch=="/"&&stream.match(/^\/[\/\*]/,false))break;stream.next()}state.tokenize=next;return"meta"}function pointerHook(_stream,state){if(state.prevToken=="type")return"type";return false}function cIsReservedIdentifier(token){if(!token||
token.length<2)return false;if(token[0]!="_")return false;return token[1]=="_"||token[1]!==token[1].toLowerCase()}function cpp14Literal(stream){stream.eatWhile(/[\w\.']/);return"number"}function cpp11StringHook(stream,state){stream.backUp(1);if(stream.match(/^(?:R|u8R|uR|UR|LR)/)){var match=stream.match(/^"([^\s\\()]{0,16})\(/);if(!match)return false;state.cpp11RawStringDelim=match[1];state.tokenize=tokenRawString;return tokenRawString(stream,state)}if(stream.match(/^(?:u8|u|U|L)/)){if(stream.match(/^["']/,
false))return"string";return false}stream.next();return false}function cppLooksLikeConstructor(word){var lastTwo=/(\w+)::~?(\w+)$/.exec(word);return lastTwo&&lastTwo[1]==lastTwo[2]}function tokenAtString(stream,state){var next;for(;(next=stream.next())!=null;)if(next=='"'&&!stream.eat('"')){state.tokenize=null;break}return"string"}function tokenRawString(stream,state){var delim=state.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");var match=stream.match(new RegExp(".*?\\)"+delim+'"'));if(match)state.tokenize=
null;else stream.skipToEnd();return"string"}function def(mimes,mode){function add(obj){if(obj){var prop;for(prop in obj)if(obj.hasOwnProperty(prop))words.push(prop)}}if(typeof mimes=="string")mimes=[mimes];var words=[];add(mode.keywords);add(mode.types);add(mode.builtin);add(mode.atoms);if(words.length){mode.helperType=mimes[0];CodeMirror.registerHelper("hintWords",mimes[0],words)}var i=0;for(;i<mimes.length;++i)CodeMirror.defineMIME(mimes[i],mode)}function tokenTripleString(stream,state){var escaped=
false;for(;!stream.eol();){if(!escaped&&stream.match('"""')){state.tokenize=null;break}escaped=stream.next()=="\\"&&!escaped}return"string"}function tokenNestedComment(depth){return function(stream,state){var ch;for(;ch=stream.next();)if(ch=="*"&&stream.eat("/"))if(depth==1){state.tokenize=null;break}else{state.tokenize=tokenNestedComment(depth-1);return state.tokenize(stream,state)}else if(ch=="/"&&stream.eat("*")){state.tokenize=tokenNestedComment(depth+1);return state.tokenize(stream,state)}return"comment"}}
function tokenKotlinString(tripleString){return function(stream,state){var escaped=false;var next;var end=false;for(;!stream.eol();){if(!tripleString&&!escaped&&stream.match('"')){end=true;break}if(tripleString&&stream.match('"""')){end=true;break}next=stream.next();if(!escaped&&next=="$"&&stream.match("{"))stream.skipTo("}");escaped=!escaped&&next=="\\"&&!tripleString}if(end||!tripleString)state.tokenize=null;return"string"}}function tokenCeylonString(type){return function(stream,state){var escaped=
false;var next;var end=false;for(;!stream.eol();){if(!escaped&&stream.match('"')&&(type=="single"||stream.match('""'))){end=true;break}if(!escaped&&stream.match("``")){stringTokenizer=tokenCeylonString(type);end=true;break}next=stream.next();escaped=type=="single"&&!escaped&&next=="\\"}if(end)state.tokenize=null;return"string"}}CodeMirror.defineMode("clike",function(config,parserConfig){function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(result!==
false)return result}if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(numberStart.test(ch)){stream.backUp(1);if(stream.match(number))return"number";stream.next()}if(isPunctuationChar.test(ch)){curPunc=ch;return null}if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}}if(isOperatorChar.test(ch)){for(;!stream.match(/^\/[\/*]/,false)&&stream.eat(isOperatorChar););
return"operator"}stream.eatWhile(isIdentifierChar);if(namespaceSeparator)for(;stream.match(namespaceSeparator);)stream.eatWhile(isIdentifierChar);var cur=stream.current();if(contains(keywords,cur)){if(contains(blockKeywords,cur))curPunc="newstatement";if(contains(defKeywords,cur))isDefKeyword=true;return"keyword"}if(contains(types,cur))return"type";if(contains(builtin,cur)||isReservedIdentifier&&isReservedIdentifier(cur)){if(contains(blockKeywords,cur))curPunc="newstatement";return"builtin"}if(contains(atoms,
cur))return"atom";return"variable"}function tokenString(quote){return function(stream,state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}if(end||!(escaped||multiLineStrings))state.tokenize=null;return"string"}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize=null;break}maybeEnd=ch=="*"}return"comment"}function maybeEOL(stream,
state){if(parserConfig.typeFirstDefinitions&&stream.eol()&&isTopScope(state.context))state.typeAtEndOfLine=typeBefore(stream,state,stream.pos)}var indentUnit=config.indentUnit;var statementIndentUnit=parserConfig.statementIndentUnit||indentUnit;var dontAlignCalls=parserConfig.dontAlignCalls;var keywords=parserConfig.keywords||{};var types=parserConfig.types||{};var builtin=parserConfig.builtin||{};var blockKeywords=parserConfig.blockKeywords||{};var defKeywords=parserConfig.defKeywords||{};var atoms=
parserConfig.atoms||{};var hooks=parserConfig.hooks||{};var multiLineStrings=parserConfig.multiLineStrings;var indentStatements=parserConfig.indentStatements!==false;var indentSwitch=parserConfig.indentSwitch!==false;var namespaceSeparator=parserConfig.namespaceSeparator;var isPunctuationChar=parserConfig.isPunctuationChar||/[\[\]{}\(\),;:\.]/;var numberStart=parserConfig.numberStart||/[\d\.]/;var number=parserConfig.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i;
var isOperatorChar=parserConfig.isOperatorChar||/[+\-*&%=<>!?|\/]/;var isIdentifierChar=parserConfig.isIdentifierChar||/[\w\$_\xa1-\uffff]/;var isReservedIdentifier=parserConfig.isReservedIdentifier||false;var curPunc;var isDefKeyword;return{startState:function(basecolumn){return{tokenize:null,context:new Context((basecolumn||0)-indentUnit,0,"top",null,false),indented:0,startOfLine:true,prevToken:null}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=
false;state.indented=stream.indentation();state.startOfLine=true}if(stream.eatSpace()){maybeEOL(stream,state);return null}curPunc=isDefKeyword=null;var style=(state.tokenize||tokenBase)(stream,state);if(style=="comment"||style=="meta")return style;if(ctx.align==null)ctx.align=true;if(curPunc==";"||curPunc==":"||curPunc==","&&stream.match(/^\s*(?:\/\/.*)?$/,false))for(;state.context.type=="statement";)popContext(state);else if(curPunc=="{")pushContext(state,stream.column(),"}");else if(curPunc=="[")pushContext(state,
stream.column(),"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(curPunc=="}"){for(;ctx.type=="statement";)ctx=popContext(state);if(ctx.type=="}")ctx=popContext(state);for(;ctx.type=="statement";)ctx=popContext(state)}else if(curPunc==ctx.type)popContext(state);else if(indentStatements&&((ctx.type=="}"||ctx.type=="top")&&curPunc!=";"||ctx.type=="statement"&&curPunc=="newstatement"))pushContext(state,stream.column(),"statement",stream.current());if(style=="variable"&&(state.prevToken==
"def"||parserConfig.typeFirstDefinitions&&typeBefore(stream,state,stream.start)&&isTopScope(state.context)&&stream.match(/^\s*\(/,false)))style="def";if(hooks.token){var result=hooks.token(stream,state,style);if(result!==undefined)style=result}if(style=="def"&&parserConfig.styleDefs===false)style="variable";state.startOfLine=false;state.prevToken=isDefKeyword?"def":style||curPunc;maybeEOL(stream,state);return style},indent:function(state,textAfter){if(state.tokenize!=tokenBase&&state.tokenize!=null||
state.typeAtEndOfLine)return CodeMirror.Pass;var ctx=state.context;var firstChar=textAfter&&textAfter.charAt(0);var closing=firstChar==ctx.type;if(ctx.type=="statement"&&firstChar=="}")ctx=ctx.prev;if(parserConfig.dontIndentStatements)for(;ctx.type=="statement"&&parserConfig.dontIndentStatements.test(ctx.info);)ctx=ctx.prev;if(hooks.indent){var hook=hooks.indent(state,ctx,textAfter,indentUnit);if(typeof hook=="number")return hook}var switchBlock=ctx.prev&&ctx.prev.info=="switch";if(parserConfig.allmanIndentation&&
/[{(]/.test(firstChar)){for(;ctx.type!="top"&&ctx.type!="}";)ctx=ctx.prev;return ctx.indented}if(ctx.type=="statement")return ctx.indented+(firstChar=="{"?0:statementIndentUnit);if(ctx.align&&(!dontAlignCalls||ctx.type!=")"))return ctx.column+(closing?0:1);if(ctx.type==")"&&!closing)return ctx.indented+statementIndentUnit;return ctx.indented+(closing?0:indentUnit)+(!closing&&switchBlock&&!/^(?:case|default)\b/.test(textAfter)?indentUnit:0)},electricInput:indentSwitch?/^\s*(?:case .*?:|default:|\{\}?|\})$/:
/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});var cKeywords="auto if break case register continue return default do sizeof "+"static else struct switch extern typedef union for goto while enum const "+"volatile inline restrict asm fortran";var cppKeywords="alignas alignof and and_eq audit axiom bitand bitor catch "+"class compl concept constexpr const_cast decltype delete dynamic_cast "+"explicit export final friend import module mutable namespace new noexcept "+
"not not_eq operator or or_eq override private protected public "+"reinterpret_cast requires static_assert static_cast template this "+"thread_local throw try typeid typename using virtual xor xor_eq";var objCKeywords="bycopy byref in inout oneway out self super atomic nonatomic retain copy "+"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd "+"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class "+"@public @package @private @protected @required @optional @try @catch @finally @import "+
"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available";var objCBuiltins="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION "+" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER "+"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION "+"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT";var basicCTypes=words("int long char short double float unsigned signed "+"void bool");
var basicObjCTypes=words("SEL instancetype id Class Protocol BOOL");var cBlockKeywords="case do else for if switch while struct enum union";var cDefKeywords="struct enum union";def(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:words(cKeywords),types:cTypes,blockKeywords:words(cBlockKeywords),defKeywords:words(cDefKeywords),typeFirstDefinitions:true,atoms:words("NULL true false"),isReservedIdentifier:cIsReservedIdentifier,hooks:{"#":cppHook,"*":pointerHook},modeProps:{fold:["brace",
"include"]}});def(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:words(cKeywords+" "+cppKeywords),types:cTypes,blockKeywords:words(cBlockKeywords+" class try catch"),defKeywords:words(cDefKeywords+" class namespace"),typeFirstDefinitions:true,atoms:words("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:cIsReservedIdentifier,hooks:{"#":cppHook,"*":pointerHook,"u":cpp11StringHook,"U":cpp11StringHook,"L":cpp11StringHook,
"R":cpp11StringHook,0:cpp14Literal,1:cpp14Literal,2:cpp14Literal,3:cpp14Literal,4:cpp14Literal,5:cpp14Literal,6:cpp14Literal,7:cpp14Literal,8:cpp14Literal,9:cpp14Literal,token:function(stream,state,style){if(style=="variable"&&stream.peek()=="("&&(state.prevToken==";"||state.prevToken==null||state.prevToken=="}")&&cppLooksLikeConstructor(stream.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}});def("text/x-java",{name:"clike",keywords:words("abstract assert break case catch class const continue default "+
"do else enum extends final finally for goto if implements import "+"instanceof interface native new package private protected public "+"return static strictfp super switch synchronized this throw throws transient "+"try volatile while @interface"),types:words("var byte short int long float double boolean char void Boolean Byte Character Double Float "+"Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:words("catch class do else finally for if switch try while"),
defKeywords:words("class interface enum @interface"),typeFirstDefinitions:true,atoms:words("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(stream){if(stream.match("interface",false))return false;stream.eatWhile(/[\w\$_]/);return"meta"},'"':function(stream,state){if(!stream.match(/""$/))return false;state.tokenize=tokenTripleString;return state.tokenize(stream,state)}},modeProps:{fold:["brace","import"]}});def("text/x-csharp",
{name:"clike",keywords:words("abstract as async await base break case catch checked class const continue"+" default delegate do else enum event explicit extern finally fixed for"+" foreach goto if implicit in interface internal is lock namespace new"+" operator out override params private protected public readonly ref return sealed"+" sizeof stackalloc static struct switch this throw try typeof unchecked"+" unsafe using virtual void volatile while add alias ascending descending dynamic from get"+
" global group into join let orderby partial remove select set value var yield"),types:words("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func"+" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32"+" UInt64 bool byte char decimal double short int long object"+" sbyte float string ushort uint ulong"),blockKeywords:words("catch class do else finally for foreach if struct switch try while"),defKeywords:words("class interface namespace struct var"),typeFirstDefinitions:true,
atoms:words("true false null"),hooks:{"@":function(stream,state){if(stream.eat('"')){state.tokenize=tokenAtString;return tokenAtString(stream,state)}stream.eatWhile(/[\w\$_]/);return"meta"}}});def("text/x-scala",{name:"clike",keywords:words("abstract case catch class def do else extends final finally for forSome if "+"implicit import lazy match new null object override package private protected return "+"sealed super this throw trait try type val var while with yield _ "+"assert assume require print println printf readLine readBoolean readByte readShort "+
"readChar readInt readLong readFloat readDouble"),types:words("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either "+"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable "+"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering "+"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder "+"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector "+
"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable "+"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process "+"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String "+"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:true,blockKeywords:words("catch class enum do else finally for forSome if match switch try while"),defKeywords:words("class enum def object package trait type val var"),
atoms:words("true false null"),indentStatements:false,indentSwitch:false,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(stream){stream.eatWhile(/[\w\$_]/);return"meta"},'"':function(stream,state){if(!stream.match('""'))return false;state.tokenize=tokenTripleString;return state.tokenize(stream,state)},"'":function(stream){stream.eatWhile(/[\w\$_\xa1-\uffff]/);return"atom"},"=":function(stream,state){var cx=state.context;if(cx.type=="}"&&cx.align&&stream.eat(">")){state.context=new Context(cx.indented,
cx.column,cx.type,cx.info,null,cx.prev);return"operator"}else return false},"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenNestedComment(1);return state.tokenize(stream,state)}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}});def("text/x-kotlin",{name:"clike",keywords:words("package as typealias class interface this super val operator "+"var fun for is in This throw return annotation "+"break continue object if else while do try when !in !is as? "+"file import where by get set abstract enum open inner override private public internal "+
"protected catch finally out final vararg reified dynamic companion constructor init "+"sealed field property receiver param sparam lateinit data inline noinline tailrec "+"external annotation crossinline const operator infix suspend actual expect setparam value"),types:words("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable "+"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process "+"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String "+
"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray "+"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy "+"LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:false,indentStatements:false,multiLineStrings:true,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:words("catch class do else finally for if where try while enum"),defKeywords:words("class val var object interface fun"),
atoms:words("true false null this"),hooks:{"@":function(stream){stream.eatWhile(/[\w\$_]/);return"meta"},"*":function(_stream,state){return state.prevToken=="."?"variable":"operator"},'"':function(stream,state){state.tokenize=tokenKotlinString(stream.match('""'));return state.tokenize(stream,state)},"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenNestedComment(1);return state.tokenize(stream,state)},indent:function(state,ctx,textAfter,indentUnit){var firstChar=textAfter&&
textAfter.charAt(0);if((state.prevToken=="}"||state.prevToken==")")&&textAfter=="")return state.indented;if(state.prevToken=="operator"&&textAfter!="}"&&state.context.type!="}"||state.prevToken=="variable"&&firstChar=="."||(state.prevToken=="}"||state.prevToken==")")&&firstChar==".")return indentUnit*2+ctx.indented;if(ctx.align&&ctx.type=="}")return ctx.indented+(state.context.type==(textAfter||"").charAt(0)?0:indentUnit)}},modeProps:{closeBrackets:{triples:'"'}}});def(["x-shader/x-vertex","x-shader/x-fragment"],
{name:"clike",keywords:words("sampler1D sampler2D sampler3D samplerCube "+"sampler1DShadow sampler2DShadow "+"const attribute uniform varying "+"break continue discard return "+"for while do if else struct "+"in out inout"),types:words("float int bool void "+"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 "+"mat2 mat3 mat4"),blockKeywords:words("for while do if else struct"),builtin:words("radians degrees sin cos tan asin acos atan "+"pow exp log exp2 sqrt inversesqrt "+"abs sign floor ceil fract mod min max clamp mix step smoothstep "+
"length distance dot cross normalize ftransform faceforward "+"reflect refract matrixCompMult "+"lessThan lessThanEqual greaterThan greaterThanEqual "+"equal notEqual any all not "+"texture1D texture1DProj texture1DLod texture1DProjLod "+"texture2D texture2DProj texture2DLod texture2DProjLod "+"texture3D texture3DProj texture3DLod texture3DProjLod "+"textureCube textureCubeLod "+"shadow1D shadow2D shadow1DProj shadow2DProj "+"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod "+"dFdx dFdy fwidth "+
"noise1 noise2 noise3 noise4"),atoms:words("true false "+"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex "+"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 "+"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 "+"gl_FogCoord gl_PointCoord "+"gl_Position gl_PointSize gl_ClipVertex "+"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor "+"gl_TexCoord gl_FogFragCoord "+"gl_FragCoord gl_FrontFacing "+"gl_FragData gl_FragDepth "+"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix "+
"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse "+"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse "+"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose "+"gl_ProjectionMatrixInverseTranspose "+"gl_ModelViewProjectionMatrixInverseTranspose "+"gl_TextureMatrixInverseTranspose "+"gl_NormalScale gl_DepthRange gl_ClipPlane "+"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel "+"gl_FrontLightModelProduct gl_BackLightModelProduct "+"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ "+
"gl_FogParameters "+"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords "+"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats "+"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits "+"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits "+"gl_MaxDrawBuffers"),indentSwitch:false,hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});def("text/x-nesc",{name:"clike",keywords:words(cKeywords+" as atomic async call command component components configuration event generic "+
"implementation includes interface module new norace nx_struct nx_union post provides "+"signal task uses abstract extends"),types:cTypes,blockKeywords:words(cBlockKeywords),atoms:words("null true false"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});def("text/x-objectivec",{name:"clike",keywords:words(cKeywords+" "+objCKeywords),types:objCTypes,builtin:words(objCBuiltins),blockKeywords:words(cBlockKeywords+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:words(cDefKeywords+
" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:true,atoms:words("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:cIsReservedIdentifier,hooks:{"#":cppHook,"*":pointerHook},modeProps:{fold:["brace","include"]}});def("text/x-objectivec++",{name:"clike",keywords:words(cKeywords+" "+objCKeywords+" "+cppKeywords),types:objCTypes,builtin:words(objCBuiltins),blockKeywords:words(cBlockKeywords+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),
defKeywords:words(cDefKeywords+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:true,atoms:words("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:cIsReservedIdentifier,hooks:{"#":cppHook,"*":pointerHook,"u":cpp11StringHook,"U":cpp11StringHook,"L":cpp11StringHook,"R":cpp11StringHook,0:cpp14Literal,1:cpp14Literal,2:cpp14Literal,3:cpp14Literal,4:cpp14Literal,5:cpp14Literal,6:cpp14Literal,7:cpp14Literal,8:cpp14Literal,
9:cpp14Literal,token:function(stream,state,style){if(style=="variable"&&stream.peek()=="("&&(state.prevToken==";"||state.prevToken==null||state.prevToken=="}")&&cppLooksLikeConstructor(stream.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}});def("text/x-squirrel",{name:"clike",keywords:words("base break clone continue const default delete enum extends function in class"+" foreach local resume return this throw typeof yield constructor instanceof static"),types:cTypes,
blockKeywords:words("case catch class else for foreach if switch try while"),defKeywords:words("function local class"),typeFirstDefinitions:true,atoms:words("true false null"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});var stringTokenizer=null;def("text/x-ceylon",{name:"clike",keywords:words("abstracts alias assembly assert assign break case catch class continue dynamic else"+" exists extends finally for function given if import in interface is let module new"+" nonempty object of out outer package return satisfies super switch then this throw"+
" try value void while"),types:function(word){var first=word.charAt(0);return first===first.toUpperCase()&&first!==first.toLowerCase()},blockKeywords:words("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:words("class dynamic function interface module object package value"),builtin:words("abstract actual aliased annotation by default deprecated doc final formal late license"+" native optional sealed see serializable shared suppressWarnings tagged throws variable"),
isPunctuationChar:/[\[\]{}\(\),;:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:true,typeFirstDefinitions:true,atoms:words("true false null larger smaller equal empty finished"),indentSwitch:false,styleDefs:false,hooks:{"@":function(stream){stream.eatWhile(/[\w\$_]/);return"meta"},'"':function(stream,state){state.tokenize=tokenCeylonString(stream.match('""')?"triple":
"single");return state.tokenize(stream,state)},"`":function(stream,state){if(!stringTokenizer||!stream.match("`"))return false;state.tokenize=stringTokenizer;stringTokenizer=null;return state.tokenize(stream,state)},"'":function(stream){stream.eatWhile(/[\w\$_\xa1-\uffff]/);return"atom"},token:function(_stream,state,style){if((style=="variable"||style=="type")&&state.prevToken==".")return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})});(function(mod){if(typeof exports==="object"&&typeof module==="object")mod(require("../../lib/codemirror"));else if(typeof define==="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("clojure",function(options){function base(stream,state){if(stream.eatSpace()||stream.eat(","))return["space",null];if(stream.match(numberLiteral))return[null,"number"];if(stream.match(characterLiteral))return[null,"string-2"];if(stream.eat(/^"/))return(state.tokenize=
inString)(stream,state);if(stream.eat(/^[(\[{]/))return["open","bracket"];if(stream.eat(/^[)\]}]/))return["close","bracket"];if(stream.eat(/^;/)){stream.skipToEnd();return["space","comment"]}if(stream.eat(/^[#'@^`~]/))return[null,"meta"];var matches=stream.match(qualifiedSymbol);var symbol=matches&&matches[0];if(!symbol){stream.next();stream.eatWhile(function(c){return!is(c,delimiter)});return[null,"error"]}if(symbol==="comment"&&state.lastToken==="(")return(state.tokenize=inComment)(stream,state);
if(is(symbol,atom)||symbol.charAt(0)===":")return["symbol","atom"];if(is(symbol,specialForm)||is(symbol,coreSymbol))return["symbol","keyword"];if(state.lastToken==="(")return["symbol","builtin"];return["symbol","variable"]}function inString(stream,state){var escaped=false;var next;for(;next=stream.next();){if(next==='"'&&!escaped){state.tokenize=base;break}escaped=!escaped&&next==="\\"}return[null,"string"]}function inComment(stream,state){var parenthesisCount=1;var next;for(;next=stream.next();){if(next===
")")parenthesisCount--;if(next==="(")parenthesisCount++;if(parenthesisCount===0){stream.backUp(1);state.tokenize=base;break}}return["space","comment"]}function createLookupMap(words){var obj={};var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function is(value,test){if(test instanceof RegExp)return test.test(value);if(test instanceof Object)return test.propertyIsEnumerable(value)}var atoms=["false","nil","true"];var specialForms=[".","catch","def","do","if","monitor-enter","monitor-exit",
"new","quote","recur","set!","throw","try","var"];var coreSymbols=["*","*'","*1","*2","*3","*agent*","*allow-unresolved-vars*","*assert*","*clojure-version*","*command-line-args*","*compile-files*","*compile-path*","*compiler-options*","*data-readers*","*default-data-reader-fn*","*e","*err*","*file*","*flush-on-newline*","*fn-loader*","*in*","*math-context*","*ns*","*out*","*print-dup*","*print-length*","*print-level*","*print-meta*","*print-namespace-maps*","*print-readably*","*read-eval*","*reader-resolver*",
"*source-path*","*suppress-read*","*unchecked-math*","*use-context-classloader*","*verbose-defrecords*","*warn-on-reflection*","+","+'","-","-'","->","->>","->ArrayChunk","->Eduction","->Vec","->VecNode","->VecSeq","-cache-protocol-fn","-reset-methods","..","/","<","<=","=","==",">",">=","EMPTY-NODE","Inst","StackTraceElement->vec","Throwable->map","accessor","aclone","add-classpath","add-watch","agent","agent-error","agent-errors","aget","alength","alias","all-ns","alter","alter-meta!","alter-var-root",
"amap","ancestors","and","any?","apply","areduce","array-map","as->","aset","aset-boolean","aset-byte","aset-char","aset-double","aset-float","aset-int","aset-long","aset-short","assert","assoc","assoc!","assoc-in","associative?","atom","await","await-for","await1","bases","bean","bigdec","bigint","biginteger","binding","bit-and","bit-and-not","bit-clear","bit-flip","bit-not","bit-or","bit-set","bit-shift-left","bit-shift-right","bit-test","bit-xor","boolean","boolean-array","boolean?","booleans",
"bound-fn","bound-fn*","bound?","bounded-count","butlast","byte","byte-array","bytes","bytes?","case","cast","cat","char","char-array","char-escape-string","char-name-string","char?","chars","chunk","chunk-append","chunk-buffer","chunk-cons","chunk-first","chunk-next","chunk-rest","chunked-seq?","class","class?","clear-agent-errors","clojure-version","coll?","comment","commute","comp","comparator","compare","compare-and-set!","compile","complement","completing","concat","cond","cond->","cond->>",
"condp","conj","conj!","cons","constantly","construct-proxy","contains?","count","counted?","create-ns","create-struct","cycle","dec","dec'","decimal?","declare","dedupe","default-data-readers","definline","definterface","defmacro","defmethod","defmulti","defn","defn-","defonce","defprotocol","defrecord","defstruct","deftype","delay","delay?","deliver","denominator","deref","derive","descendants","destructure","disj","disj!","dissoc","dissoc!","distinct","distinct?","doall","dorun","doseq","dosync",
"dotimes","doto","double","double-array","double?","doubles","drop","drop-last","drop-while","eduction","empty","empty?","ensure","ensure-reduced","enumeration-seq","error-handler","error-mode","eval","even?","every-pred","every?","ex-data","ex-info","extend","extend-protocol","extend-type","extenders","extends?","false?","ffirst","file-seq","filter","filterv","find","find-keyword","find-ns","find-protocol-impl","find-protocol-method","find-var","first","flatten","float","float-array","float?","floats",
"flush","fn","fn?","fnext","fnil","for","force","format","frequencies","future","future-call","future-cancel","future-cancelled?","future-done?","future?","gen-class","gen-interface","gensym","get","get-in","get-method","get-proxy-class","get-thread-bindings","get-validator","group-by","halt-when","hash","hash-combine","hash-map","hash-ordered-coll","hash-set","hash-unordered-coll","ident?","identical?","identity","if-let","if-not","if-some","ifn?","import","in-ns","inc","inc'","indexed?","init-proxy",
"inst-ms","inst-ms*","inst?","instance?","int","int-array","int?","integer?","interleave","intern","interpose","into","into-array","ints","io!","isa?","iterate","iterator-seq","juxt","keep","keep-indexed","key","keys","keyword","keyword?","last","lazy-cat","lazy-seq","let","letfn","line-seq","list","list*","list?","load","load-file","load-reader","load-string","loaded-libs","locking","long","long-array","longs","loop","macroexpand","macroexpand-1","make-array","make-hierarchy","map","map-entry?",
"map-indexed","map?","mapcat","mapv","max","max-key","memfn","memoize","merge","merge-with","meta","method-sig","methods","min","min-key","mix-collection-hash","mod","munge","name","namespace","namespace-munge","nat-int?","neg-int?","neg?","newline","next","nfirst","nil?","nnext","not","not-any?","not-empty","not-every?","not=","ns","ns-aliases","ns-imports","ns-interns","ns-map","ns-name","ns-publics","ns-refers","ns-resolve","ns-unalias","ns-unmap","nth","nthnext","nthrest","num","number?","numerator",
"object-array","odd?","or","parents","partial","partition","partition-all","partition-by","pcalls","peek","persistent!","pmap","pop","pop!","pop-thread-bindings","pos-int?","pos?","pr","pr-str","prefer-method","prefers","primitives-classnames","print","print-ctor","print-dup","print-method","print-simple","print-str","printf","println","println-str","prn","prn-str","promise","proxy","proxy-call-with-super","proxy-mappings","proxy-name","proxy-super","push-thread-bindings","pvalues","qualified-ident?",
"qualified-keyword?","qualified-symbol?","quot","rand","rand-int","rand-nth","random-sample","range","ratio?","rational?","rationalize","re-find","re-groups","re-matcher","re-matches","re-pattern","re-seq","read","read-line","read-string","reader-conditional","reader-conditional?","realized?","record?","reduce","reduce-kv","reduced","reduced?","reductions","ref","ref-history-count","ref-max-history","ref-min-history","ref-set","refer","refer-clojure","reify","release-pending-sends","rem","remove",
"remove-all-methods","remove-method","remove-ns","remove-watch","repeat","repeatedly","replace","replicate","require","reset!","reset-meta!","reset-vals!","resolve","rest","restart-agent","resultset-seq","reverse","reversible?","rseq","rsubseq","run!","satisfies?","second","select-keys","send","send-off","send-via","seq","seq?","seqable?","seque","sequence","sequential?","set","set-agent-send-executor!","set-agent-send-off-executor!","set-error-handler!","set-error-mode!","set-validator!","set?",
"short","short-array","shorts","shuffle","shutdown-agents","simple-ident?","simple-keyword?","simple-symbol?","slurp","some","some->","some->>","some-fn","some?","sort","sort-by","sorted-map","sorted-map-by","sorted-set","sorted-set-by","sorted?","special-symbol?","spit","split-at","split-with","str","string?","struct","struct-map","subs","subseq","subvec","supers","swap!","swap-vals!","symbol","symbol?","sync","tagged-literal","tagged-literal?","take","take-last","take-nth","take-while","test","the-ns",
"thread-bound?","time","to-array","to-array-2d","trampoline","transduce","transient","tree-seq","true?","type","unchecked-add","unchecked-add-int","unchecked-byte","unchecked-char","unchecked-dec","unchecked-dec-int","unchecked-divide-int","unchecked-double","unchecked-float","unchecked-inc","unchecked-inc-int","unchecked-int","unchecked-long","unchecked-multiply","unchecked-multiply-int","unchecked-negate","unchecked-negate-int","unchecked-remainder-int","unchecked-short","unchecked-subtract","unchecked-subtract-int",
"underive","unquote","unquote-splicing","unreduced","unsigned-bit-shift-right","update","update-in","update-proxy","uri?","use","uuid?","val","vals","var-get","var-set","var?","vary-meta","vec","vector","vector-of","vector?","volatile!","volatile?","vreset!","vswap!","when","when-first","when-let","when-not","when-some","while","with-bindings","with-bindings*","with-in-str","with-loading-context","with-local-vars","with-meta","with-open","with-out-str","with-precision","with-redefs","with-redefs-fn",
"xml-seq","zero?","zipmap"];var haveBodyParameter=["->","->>","as->","binding","bound-fn","case","catch","comment","cond","cond->","cond->>","condp","def","definterface","defmethod","defn","defmacro","defprotocol","defrecord","defstruct","deftype","do","doseq","dotimes","doto","extend","extend-protocol","extend-type","fn","for","future","if","if-let","if-not","if-some","let","letfn","locking","loop","ns","proxy","reify","struct-map","some->","some->>","try","when","when-first","when-let","when-not",
"when-some","while","with-bindings","with-bindings*","with-in-str","with-loading-context","with-local-vars","with-meta","with-open","with-out-str","with-precision","with-redefs","with-redefs-fn"];CodeMirror.registerHelper("hintWords","clojure",[].concat(atoms,specialForms,coreSymbols));var atom=createLookupMap(atoms);var specialForm=createLookupMap(specialForms);var coreSymbol=createLookupMap(coreSymbols);var hasBodyParameter=createLookupMap(haveBodyParameter);var delimiter=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/;
var numberLiteral=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/;var characterLiteral=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/;var qualifiedSymbol=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:base}},token:function(stream,state){if(stream.sol()&&typeof state.ctx.indentTo!=="number")state.ctx.indentTo=state.ctx.start+1;var typeStylePair=state.tokenize(stream,state);var type=typeStylePair[0];var style=typeStylePair[1];var current=stream.current();if(type!=="space"){if(state.lastToken==="("&&state.ctx.indentTo===null)if(type==="symbol"&&is(current,hasBodyParameter))state.ctx.indentTo=state.ctx.start+
options.indentUnit;else state.ctx.indentTo="next";else if(state.ctx.indentTo==="next")state.ctx.indentTo=stream.column();state.lastToken=current}if(type==="open")state.ctx={prev:state.ctx,start:stream.column(),indentTo:null};else if(type==="close")state.ctx=state.ctx.prev||state.ctx;return style},indent:function(state){var i=state.ctx.indentTo;return typeof i==="number"?i:state.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});CodeMirror.defineMIME("text/x-clojure","clojure");CodeMirror.defineMIME("text/x-clojurescript",
"clojure");CodeMirror.defineMIME("application/edn","clojure")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("coffeescript",function(conf,parserConf){function wordRegexp(words){return new RegExp("^(("+words.join(")|(")+"))\\b")}function tokenBase(stream,state){if(stream.sol()){if(state.scope.align===null)state.scope.align=false;var scopeOffset=state.scope.offset;
if(stream.eatSpace()){var lineOffset=stream.indentation();if(lineOffset>scopeOffset&&state.scope.type=="coffee")return"indent";else if(lineOffset<scopeOffset)return"dedent";return null}else if(scopeOffset>0)dedent(stream,state)}if(stream.eatSpace())return null;var ch=stream.peek();if(stream.match("####")){stream.skipToEnd();return"comment"}if(stream.match("###")){state.tokenize=longComment;return state.tokenize(stream,state)}if(ch==="#"){stream.skipToEnd();return"comment"}if(stream.match(/^-?[0-9\.]/,
false)){var floatLiteral=false;if(stream.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i))floatLiteral=true;if(stream.match(/^-?\d+\.\d*/))floatLiteral=true;if(stream.match(/^-?\.\d+/))floatLiteral=true;if(floatLiteral){if(stream.peek()==".")stream.backUp(1);return"number"}var intLiteral=false;if(stream.match(/^-?0x[0-9a-f]+/i))intLiteral=true;if(stream.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/))intLiteral=true;if(stream.match(/^-?0(?![\dx])/i))intLiteral=true;if(intLiteral)return"number"}if(stream.match(stringPrefixes)){state.tokenize=
tokenFactory(stream.current(),false,"string");return state.tokenize(stream,state)}if(stream.match(regexPrefixes))if(stream.current()!="/"||stream.match(/^.*\//,false)){state.tokenize=tokenFactory(stream.current(),true,"string-2");return state.tokenize(stream,state)}else stream.backUp(1);if(stream.match(operators)||stream.match(wordOperators))return"operator";if(stream.match(delimiters))return"punctuation";if(stream.match(constants))return"atom";if(stream.match(atProp)||state.prop&&stream.match(identifiers))return"property";
if(stream.match(keywords))return"keyword";if(stream.match(identifiers))return"variable";stream.next();return ERRORCLASS}function tokenFactory(delimiter,singleline,outclass){return function(stream,state){for(;!stream.eol();){stream.eatWhile(/[^'"\/\\]/);if(stream.eat("\\")){stream.next();if(singleline&&stream.eol())return outclass}else if(stream.match(delimiter)){state.tokenize=tokenBase;return outclass}else stream.eat(/['"\/]/)}if(singleline)if(parserConf.singleLineStringErrors)outclass=ERRORCLASS;
else state.tokenize=tokenBase;return outclass}}function longComment(stream,state){for(;!stream.eol();){stream.eatWhile(/[^#]/);if(stream.match("###")){state.tokenize=tokenBase;break}stream.eatWhile("#")}return"comment"}function indent(stream,state,type){type=type||"coffee";var offset=0;var align=false;var alignOffset=null;var scope=state.scope;for(;scope;scope=scope.prev)if(scope.type==="coffee"||scope.type=="}"){offset=scope.offset+conf.indentUnit;break}if(type!=="coffee"){align=null;alignOffset=
stream.column()+stream.current().length}else if(state.scope.align)state.scope.align=false;state.scope={offset:offset,type:type,prev:state.scope,align:align,alignOffset:alignOffset}}function dedent(stream,state){if(!state.scope.prev)return;if(state.scope.type==="coffee"){var _indent=stream.indentation();var matched=false;var scope=state.scope;for(;scope;scope=scope.prev)if(_indent===scope.offset){matched=true;break}if(!matched)return true;for(;state.scope.prev&&state.scope.offset!==_indent;)state.scope=
state.scope.prev;return false}else{state.scope=state.scope.prev;return false}}function tokenLexer(stream,state){var style=state.tokenize(stream,state);var current=stream.current();if(current==="return")state.dedent=true;if((current==="->"||current==="=>")&&stream.eol()||style==="indent")indent(stream,state);var delimiter_index="[({".indexOf(current);if(delimiter_index!==-1)indent(stream,state,"])}".slice(delimiter_index,delimiter_index+1));if(indentKeywords.exec(current))indent(stream,state);if(current==
"then")dedent(stream,state);if(style==="dedent")if(dedent(stream,state))return ERRORCLASS;delimiter_index="])}".indexOf(current);if(delimiter_index!==-1){for(;state.scope.type=="coffee"&&state.scope.prev;)state.scope=state.scope.prev;if(state.scope.type==current)state.scope=state.scope.prev}if(state.dedent&&stream.eol()){if(state.scope.type=="coffee"&&state.scope.prev)state.scope=state.scope.prev;state.dedent=false}return style}var ERRORCLASS="error";var operators=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|~|!|\?|(or|and|\|\||&&|\?)=)/;
var delimiters=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/;var identifiers=/^[_A-Za-z$][_A-Za-z$0-9]*/;var atProp=/^@[_A-Za-z$][_A-Za-z$0-9]*/;var wordOperators=wordRegexp(["and","or","not","is","isnt","in","instanceof","typeof"]);var indentKeywords=["for","while","loop","if","unless","else","switch","try","catch","finally","class"];var commonKeywords=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"];var keywords=wordRegexp(indentKeywords.concat(commonKeywords));
indentKeywords=wordRegexp(indentKeywords);var stringPrefixes=/^('{3}|"{3}|['"])/;var regexPrefixes=/^(\/{3}|\/)/;var commonConstants=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"];var constants=wordRegexp(commonConstants);var external={startState:function(basecolumn){return{tokenize:tokenBase,scope:{offset:basecolumn||0,type:"coffee",prev:null,align:false},prop:false,dedent:0}},token:function(stream,state){var fillAlign=state.scope.align===null&&state.scope;if(fillAlign&&
stream.sol())fillAlign.align=false;var style=tokenLexer(stream,state);if(style&&style!="comment"){if(fillAlign)fillAlign.align=true;state.prop=style=="punctuation"&&stream.current()=="."}return style},indent:function(state,text){if(state.tokenize!=tokenBase)return 0;var scope=state.scope;var closer=text&&"])}".indexOf(text.charAt(0))>-1;if(closer)for(;scope.type=="coffee"&&scope.prev;)scope=scope.prev;var closes=closer&&scope.type===text.charAt(0);if(scope.align)return scope.alignOffset-(closes?1:
0);else return(closes?scope.prev:scope).offset},lineComment:"#",fold:"indent"};return external});CodeMirror.defineMIME("application/vnd.coffeescript","coffeescript");CodeMirror.defineMIME("text/x-coffeescript","coffeescript");CodeMirror.defineMIME("text/coffeescript","coffeescript")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("commonlisp",function(config){function readSym(stream){var ch;for(;ch=stream.next();)if(ch=="\\")stream.next();else if(!symbol.test(ch)){stream.backUp(1);break}return stream.current()}function base(stream,state){if(stream.eatSpace()){type="ws";return null}if(stream.match(numLiteral))return"number";
var ch=stream.next();if(ch=="\\")ch=stream.next();if(ch=='"')return(state.tokenize=inString)(stream,state);else if(ch=="("){type="open";return"bracket"}else if(ch==")"||ch=="]"){type="close";return"bracket"}else if(ch==";"){stream.skipToEnd();type="ws";return"comment"}else if(/['`,@]/.test(ch))return null;else if(ch=="|")if(stream.skipTo("|")){stream.next();return"symbol"}else{stream.skipToEnd();return"error"}else if(ch=="#"){ch=stream.next();if(ch=="("){type="open";return"bracket"}else if(/[+\-=\.']/.test(ch))return null;
else if(/\d/.test(ch)&&stream.match(/^\d*#/))return null;else if(ch=="|")return(state.tokenize=inComment)(stream,state);else if(ch==":"){readSym(stream);return"meta"}else if(ch=="\\"){stream.next();readSym(stream);return"string-2"}else return"error"}else{var name=readSym(stream);if(name==".")return null;type="symbol";if(name=="nil"||name=="t"||name.charAt(0)==":")return"atom";if(state.lastType=="open"&&(specialForm.test(name)||assumeBody.test(name)))return"keyword";if(name.charAt(0)=="&")return"variable-2";
return"variable"}}function inString(stream,state){var escaped=false;var next;for(;next=stream.next();){if(next=='"'&&!escaped){state.tokenize=base;break}escaped=!escaped&&next=="\\"}return"string"}function inComment(stream,state){var next;var last;for(;next=stream.next();){if(next=="#"&&last=="|"){state.tokenize=base;break}last=next}type="ws";return"comment"}var specialForm=/^(block|let*|return-from|catch|load-time-value|setq|eval-when|locally|symbol-macrolet|flet|macrolet|tagbody|function|multiple-value-call|the|go|multiple-value-prog1|throw|if|progn|unwind-protect|labels|progv|let|quote)$/;
var assumeBody=/^with|^def|^do|^prog|case$|^cond$|bind$|when$|unless$/;var numLiteral=/^(?:[+\-]?(?:\d+|\d*\.\d+)(?:[efd][+\-]?\d+)?|[+\-]?\d+(?:\/[+\-]?\d+)?|#b[+\-]?[01]+|#o[+\-]?[0-7]+|#x[+\-]?[\da-f]+)/;var symbol=/[^\s'`,@()\[\]";]/;var type;return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastType:null,tokenize:base}},token:function(stream,state){if(stream.sol()&&typeof state.ctx.indentTo!="number")state.ctx.indentTo=state.ctx.start+1;type=null;var style=state.tokenize(stream,
state);if(type!="ws"){if(state.ctx.indentTo==null)if(type=="symbol"&&assumeBody.test(stream.current()))state.ctx.indentTo=state.ctx.start+config.indentUnit;else state.ctx.indentTo="next";else if(state.ctx.indentTo=="next")state.ctx.indentTo=stream.column();state.lastType=type}if(type=="open")state.ctx={prev:state.ctx,start:stream.column(),indentTo:null};else if(type=="close")state.ctx=state.ctx.prev||state.ctx;return style},indent:function(state,_textAfter){var i=state.ctx.indentTo;return typeof i==
"number"?i:state.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;",fold:"brace-paren",blockCommentStart:"#|",blockCommentEnd:"|#"}});CodeMirror.defineMIME("text/x-common-lisp","commonlisp")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function keySet(array){var keys={};var i=0;for(;i<array.length;++i)keys[array[i].toLowerCase()]=true;return keys}function tokenCComment(stream,state){var maybeEnd=false;var ch;for(;(ch=stream.next())!=null;){if(maybeEnd&&ch=="/"){state.tokenize=null;break}maybeEnd=ch==
"*"}return["comment","comment"]}CodeMirror.defineMode("css",function(config,parserConfig){function ret(style,tp){type=tp;return style}function tokenBase(stream,state){var ch=stream.next();if(tokenHooks[ch]){var result=tokenHooks[ch](stream,state);if(result!==false)return result}if(ch=="@"){stream.eatWhile(/[\w\\\-]/);return ret("def",stream.current())}else if(ch=="="||(ch=="~"||ch=="|")&&stream.eat("="))return ret(null,"compare");else if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,
state)}else if(ch=="#"){stream.eatWhile(/[\w\\\-]/);return ret("atom","hash")}else if(ch=="!"){stream.match(/^\s*\w*/);return ret("keyword","important")}else if(/\d/.test(ch)||ch=="."&&stream.eat(/\d/)){stream.eatWhile(/[\w.%]/);return ret("number","unit")}else if(ch==="-")if(/[\d.]/.test(stream.peek())){stream.eatWhile(/[\w.%]/);return ret("number","unit")}else if(stream.match(/^-[\w\\\-]*/)){stream.eatWhile(/[\w\\\-]/);if(stream.match(/^\s*:/,false))return ret("variable-2","variable-definition");
return ret("variable-2","variable")}else{if(stream.match(/^\w+-/))return ret("meta","meta")}else if(/[,+>*\/]/.test(ch))return ret(null,"select-op");else if(ch=="."&&stream.match(/^-?[_a-z][_a-z0-9-]*/i))return ret("qualifier","qualifier");else if(/[:;{}\[\]\(\)]/.test(ch))return ret(null,ch);else if(stream.match(/^[\w-.]+(?=\()/)){if(/^(url(-prefix)?|domain|regexp)$/i.test(stream.current()))state.tokenize=tokenParenthesized;return ret("variable callee","variable")}else if(/[\w\\\-]/.test(ch)){stream.eatWhile(/[\w\\\-]/);
return ret("property","word")}else return ret(null,null)}function tokenString(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch==quote&&!escaped){if(quote==")")stream.backUp(1);break}escaped=!escaped&&ch=="\\"}if(ch==quote||!escaped&&quote!=")")state.tokenize=null;return ret("string","string")}}function tokenParenthesized(stream,state){stream.next();if(!stream.match(/^\s*["')]/,false))state.tokenize=tokenString(")");else state.tokenize=null;return ret(null,
"(")}function Context(type,indent,prev){this.type=type;this.indent=indent;this.prev=prev}function pushContext(state,stream,type,indent){state.context=new Context(type,stream.indentation()+(indent===false?0:indentUnit),state.context);return type}function popContext(state){if(state.context.prev)state.context=state.context.prev;return state.context.type}function pass(type,stream,state){return states[state.context.type](type,stream,state)}function popAndPass(type,stream,state,n){var i=n||1;for(;i>0;i--)state.context=
state.context.prev;return pass(type,stream,state)}function wordAsValue(stream){var word=stream.current().toLowerCase();if(valueKeywords.hasOwnProperty(word))override="atom";else if(colorKeywords.hasOwnProperty(word))override="keyword";else override="variable"}var inline=parserConfig.inline;if(!parserConfig.propertyKeywords)parserConfig=CodeMirror.resolveMode("text/css");var indentUnit=config.indentUnit;var tokenHooks=parserConfig.tokenHooks;var documentTypes=parserConfig.documentTypes||{};var mediaTypes=
parserConfig.mediaTypes||{};var mediaFeatures=parserConfig.mediaFeatures||{};var mediaValueKeywords=parserConfig.mediaValueKeywords||{};var propertyKeywords=parserConfig.propertyKeywords||{};var nonStandardPropertyKeywords=parserConfig.nonStandardPropertyKeywords||{};var fontProperties=parserConfig.fontProperties||{};var counterDescriptors=parserConfig.counterDescriptors||{};var colorKeywords=parserConfig.colorKeywords||{};var valueKeywords=parserConfig.valueKeywords||{};var allowNested=parserConfig.allowNested;
var lineComment=parserConfig.lineComment;var supportsAtComponent=parserConfig.supportsAtComponent===true;var highlightNonStandardPropertyKeywords=config.highlightNonStandardPropertyKeywords!==false;var type;var override;var states={};states.top=function(type,stream,state){if(type=="{")return pushContext(state,stream,"block");else if(type=="}"&&state.context.prev)return popContext(state);else if(supportsAtComponent&&/@component/i.test(type))return pushContext(state,stream,"atComponentBlock");else if(/^@(-moz-)?document$/i.test(type))return pushContext(state,
stream,"documentTypes");else if(/^@(media|supports|(-moz-)?document|import)$/i.test(type))return pushContext(state,stream,"atBlock");else if(/^@(font-face|counter-style)/i.test(type)){state.stateArg=type;return"restricted_atBlock_before"}else if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type))return"keyframes";else if(type&&type.charAt(0)=="@")return pushContext(state,stream,"at");else if(type=="hash")override="builtin";else if(type=="word")override="tag";else if(type=="variable-definition")return"maybeprop";
else if(type=="interpolation")return pushContext(state,stream,"interpolation");else if(type==":")return"pseudo";else if(allowNested&&type=="(")return pushContext(state,stream,"parens");return state.context.type};states.block=function(type,stream,state){if(type=="word"){var word=stream.current().toLowerCase();if(propertyKeywords.hasOwnProperty(word)){override="property";return"maybeprop"}else if(nonStandardPropertyKeywords.hasOwnProperty(word)){override=highlightNonStandardPropertyKeywords?"string-2":
"property";return"maybeprop"}else if(allowNested){override=stream.match(/^\s*:(?:\s|$)/,false)?"property":"tag";return"block"}else{override=override+" error";return"maybeprop"}}else if(type=="meta")return"block";else if(!allowNested&&(type=="hash"||type=="qualifier")){override="error";return"block"}else return states.top(type,stream,state)};states.maybeprop=function(type,stream,state){if(type==":")return pushContext(state,stream,"prop");return pass(type,stream,state)};states.prop=function(type,stream,
state){if(type==";")return popContext(state);if(type=="{"&&allowNested)return pushContext(state,stream,"propBlock");if(type=="}"||type=="{")return popAndPass(type,stream,state);if(type=="(")return pushContext(state,stream,"parens");if(type=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(stream.current()))override=override+" error";else if(type=="word")wordAsValue(stream);else if(type=="interpolation")return pushContext(state,stream,"interpolation");return"prop"};states.propBlock=
function(type,_stream,state){if(type=="}")return popContext(state);if(type=="word"){override="property";return"maybeprop"}return state.context.type};states.parens=function(type,stream,state){if(type=="{"||type=="}")return popAndPass(type,stream,state);if(type==")")return popContext(state);if(type=="(")return pushContext(state,stream,"parens");if(type=="interpolation")return pushContext(state,stream,"interpolation");if(type=="word")wordAsValue(stream);return"parens"};states.pseudo=function(type,stream,
state){if(type=="meta")return"pseudo";if(type=="word"){override="variable-3";return state.context.type}return pass(type,stream,state)};states.documentTypes=function(type,stream,state){if(type=="word"&&documentTypes.hasOwnProperty(stream.current())){override="tag";return state.context.type}else return states.atBlock(type,stream,state)};states.atBlock=function(type,stream,state){if(type=="(")return pushContext(state,stream,"atBlock_parens");if(type=="}"||type==";")return popAndPass(type,stream,state);
if(type=="{")return popContext(state)&&pushContext(state,stream,allowNested?"block":"top");if(type=="interpolation")return pushContext(state,stream,"interpolation");if(type=="word"){var word=stream.current().toLowerCase();if(word=="only"||word=="not"||word=="and"||word=="or")override="keyword";else if(mediaTypes.hasOwnProperty(word))override="attribute";else if(mediaFeatures.hasOwnProperty(word))override="property";else if(mediaValueKeywords.hasOwnProperty(word))override="keyword";else if(propertyKeywords.hasOwnProperty(word))override=
"property";else if(nonStandardPropertyKeywords.hasOwnProperty(word))override=highlightNonStandardPropertyKeywords?"string-2":"property";else if(valueKeywords.hasOwnProperty(word))override="atom";else if(colorKeywords.hasOwnProperty(word))override="keyword";else override="error"}return state.context.type};states.atComponentBlock=function(type,stream,state){if(type=="}")return popAndPass(type,stream,state);if(type=="{")return popContext(state)&&pushContext(state,stream,allowNested?"block":"top",false);
if(type=="word")override="error";return state.context.type};states.atBlock_parens=function(type,stream,state){if(type==")")return popContext(state);if(type=="{"||type=="}")return popAndPass(type,stream,state,2);return states.atBlock(type,stream,state)};states.restricted_atBlock_before=function(type,stream,state){if(type=="{")return pushContext(state,stream,"restricted_atBlock");if(type=="word"&&state.stateArg=="@counter-style"){override="variable";return"restricted_atBlock_before"}return pass(type,
stream,state)};states.restricted_atBlock=function(type,stream,state){if(type=="}"){state.stateArg=null;return popContext(state)}if(type=="word"){if(state.stateArg=="@font-face"&&!fontProperties.hasOwnProperty(stream.current().toLowerCase())||state.stateArg=="@counter-style"&&!counterDescriptors.hasOwnProperty(stream.current().toLowerCase()))override="error";else override="property";return"maybeprop"}return"restricted_atBlock"};states.keyframes=function(type,stream,state){if(type=="word"){override=
"variable";return"keyframes"}if(type=="{")return pushContext(state,stream,"top");return pass(type,stream,state)};states.at=function(type,stream,state){if(type==";")return popContext(state);if(type=="{"||type=="}")return popAndPass(type,stream,state);if(type=="word")override="tag";else if(type=="hash")override="builtin";return"at"};states.interpolation=function(type,stream,state){if(type=="}")return popContext(state);if(type=="{"||type==";")return popAndPass(type,stream,state);if(type=="word")override=
"variable";else if(type!="variable"&&type!="("&&type!=")")override="error";return"interpolation"};return{startState:function(base){return{tokenize:null,state:inline?"block":"top",stateArg:null,context:new Context(inline?"block":"top",base||0,null)}},token:function(stream,state){if(!state.tokenize&&stream.eatSpace())return null;var style=(state.tokenize||tokenBase)(stream,state);if(style&&typeof style=="object"){type=style[1];style=style[0]}override=style;if(type!="comment")state.state=states[state.state](type,
stream,state);return override},indent:function(state,textAfter){var cx=state.context;var ch=textAfter&&textAfter.charAt(0);var indent=cx.indent;if(cx.type=="prop"&&(ch=="}"||ch==")"))cx=cx.prev;if(cx.prev)if(ch=="}"&&(cx.type=="block"||cx.type=="top"||cx.type=="interpolation"||cx.type=="restricted_atBlock")){cx=cx.prev;indent=cx.indent}else if(ch==")"&&(cx.type=="parens"||cx.type=="atBlock_parens")||ch=="{"&&(cx.type=="at"||cx.type=="atBlock"))indent=Math.max(0,cx.indent-indentUnit);return indent},
electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:lineComment,fold:"brace"}});var documentTypes_=["domain","regexp","url","url-prefix"];var documentTypes=keySet(documentTypes_);var mediaTypes_=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"];var mediaTypes=keySet(mediaTypes_);var mediaFeatures_=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width",
"device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover",
"prefers-color-scheme","dynamic-range","video-dynamic-range"];var mediaFeatures=keySet(mediaFeatures_);var mediaValueKeywords_=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"];var mediaValueKeywords=keySet(mediaValueKeywords_);var propertyKeywords_=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration",
"animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level",
"bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width",
"border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain",
"content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family",
"font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start",
"grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height",
"line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size",
"max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right",
"padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point",
"row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end",
"scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line",
"text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration",
"transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events",
"color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"];var propertyKeywords=
keySet(propertyKeywords_);var nonStandardPropertyKeywords_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start",
"border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color",
"scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"];var nonStandardPropertyKeywords=keySet(nonStandardPropertyKeywords_);var fontProperties_=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"];var fontProperties=
keySet(fontProperties_);var counterDescriptors_=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"];var counterDescriptors=keySet(counterDescriptors_);var colorKeywords_=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen",
"darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue",
"lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab",
"orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];var colorKeywords=keySet(colorKeywords_);
var valueKeywords_=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box",
"both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content",
"contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize",
"ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize",
"exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption",
"inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines",
"list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple",
"multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter",
"pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif",
"saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical",
"sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group",
"table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed",
"ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"];var valueKeywords=keySet(valueKeywords_);var allWords=
documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_).concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);CodeMirror.registerHelper("hintWords","css",allWords);CodeMirror.defineMIME("text/css",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,
counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,tokenHooks:{"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenCComment;return tokenCComment(stream,state)}},name:"css"});CodeMirror.defineMIME("text/x-scss",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,
fontProperties:fontProperties,allowNested:true,lineComment:"//",tokenHooks:{"/":function(stream,state){if(stream.eat("/")){stream.skipToEnd();return["comment","comment"]}else if(stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else return["operator","operator"]},":":function(stream){if(stream.match(/^\s*\{/,false))return[null,null];return false},"$":function(stream){stream.match(/^[\w-]+/);if(stream.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2",
"variable"]},"#":function(stream){if(!stream.eat("{"))return false;return[null,"interpolation"]}},name:"css",helperType:"scss"});CodeMirror.defineMIME("text/x-less",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:true,lineComment:"//",tokenHooks:{"/":function(stream,state){if(stream.eat("/")){stream.skipToEnd();
return["comment","comment"]}else if(stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else return["operator","operator"]},"@":function(stream){if(stream.eat("{"))return[null,"interpolation"];if(stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,false))return false;stream.eatWhile(/[\w\\\-]/);if(stream.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"&":function(){return["atom",
"atom"]}},name:"css",helperType:"less"});CodeMirror.defineMIME("text/x-gss",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,supportsAtComponent:true,tokenHooks:{"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenCComment;return tokenCComment(stream,
state)}},name:"css",helperType:"gss"})});/*

 Copyright (C) 2012 by James Thorne

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
CodeMirror.defineMode("curio",function(config){function wordRegexp(words){return new RegExp("^(?:"+words.join("|")+")$","i")}function tokenBase(stream,state){var ch=stream.next();var ch2;if(ch=='"'||ch=="'"){state.tokenize=tokenLiteral(ch);return state.tokenize(stream,state)}else if(ch=="`"){state.tokenize=tokenOpLiteral(ch);return state.tokenize(stream,state)}else if(/[{}\(\),;\[\]]/.test(ch))return null;else if(ch=="/"){ch2=stream.next();if(ch2=="/"){stream.skipToEnd();return"comment"}}else if(ch==
"<")return"comment";else if(ch==">")return"comment";else if(operatorChars.test(ch)){stream.eatWhile(operatorChars);return null}else{stream.eatWhile(/[_\w\d.]/);var word=stream.current().trim();if(atom.test(word))return"atom";else if(keywords.test(word))return"keyword";else if(functions.test(word))return"def";else return"variable"}}function tokenLiteral(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=
!escaped&&ch=="\\"}return"string"}}function tokenOpLiteral(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&ch=="\\"}return"variable-2"}}var curioMacros=["SECOND","MINUTE","TWO_MINUTES","FIVE_MINUTES","TEN_MINUTES","TWENTY_MINUTES","HALF_HOUR","HOUR","TWO_HOURS","THREE_HOURS","FOUR_HOURS","FIVE_HOURS","SIX_HOURS","SEVEN_HOURS","EIGHT_HOURS","NINE_HOURS","TEN_HOURS","ELEVEN_HOURS",
"HALF_DAY","TWENTY_HOURS","TWENTY_THREE_HOURS","DAY","TWENTY_FIVE_HOURS","DAY_AND_HALF","TWO_DAYS","THREE_DAYS","FIVE_DAYS","SIX_DAYS","WEEK","EIGHT_DAYS","TWO_WEEKS","FIFTEEN_DAYS","THREE_WEEKS","FOUR_WEEKS","THIRTY_DAYS","SIXTY_DAYS","NINETY_DAYS","ONE_YEAR","MILLISECOND_IN_MICROS","SECOND_IN_MILLISECONDS","SECOND_IN_MICROS","MINUTE_IN_MICROS","TEN_MINUTES_IN_MICROS","HOUR_IN_MICROS","DAY_IN_MILLISECONDS","DAY_IN_MICROS","WEEK_IN_MICROS","MICROS_PER_SEC"];var curioFunctions=["format","replace",
"SortedUniqueCsv","limit_csv"];var functions=wordRegexp(["count","last","max","min","nth","sum","top","abs","acos","acosh","asin","asinh","atan","atanh","atan2","avg","ceil","cos","cosh","cosh","cot","degrees","floor","ln","log","log2","log10","pi","pow","radians","sin","sinh","sqrt","tan","tanh","in","is_null","is_explicitly_defined","format_ip","parse_ip","format_packed_ip","parse_packed_ip","concat","extract_regexp","left","length","lower","lpad","right","regexp","rpad","substr","upper","format_time_usec",
"parse_time_usec","strftime_usec","time_usec_to_day","time_usec_to_hour","time_usec_to_month","time_usec_to_year","format_utc_usec","parse_utc_usec","strftime_utc_usec","utc_usec_to_day","utc_usec_to_hour","utc_usec_to_day","utc_usec_to_year","position","fingerprint","benchmark","first","top_count","top_maxcount","unique","quantiles","group_concat","nest","some","any","date_add","datediff"].concat(curioFunctions,curioMacros));var keywords=wordRegexp(["define","@left_outer_join","@anti_join","@inner_join",
"@full_outer_join","every","where","in","or","and","#define","#elif","#endif","#if","#include","#ifdef",,"#else","contains","not","inline","@sequence","@filter_and","@filter_or","@filter","snapshot","flattened_by"]);var atom=wordRegexp(["string","bool","int","Host","uint","User","Ip"]);var operatorChars=/[*+\-<>=&|]/;return{startState:function(base){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(stream,state){return state.tokenize(stream,state)},lineComment:"//"}});
CodeMirror.defineMIME("text/x-curio","curio");(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}CodeMirror.defineMode("d",function(config,parserConfig){function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,
state);if(result!==false)return result}if(ch=='"'||ch=="'"||ch=="`"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(/[\[\]{}\(\),;:\.]/.test(ch)){curPunc=ch;return null}if(/\d/.test(ch)){stream.eatWhile(/[\w\.]/);return"number"}if(ch=="/"){if(stream.eat("+")){state.tokenize=tokenNestedComment;return tokenNestedComment(stream,state)}if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}}if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);
return"operator"}stream.eatWhile(/[\w\$_\xa1-\uffff]/);var cur=stream.current();if(keywords.propertyIsEnumerable(cur)){if(blockKeywords.propertyIsEnumerable(cur))curPunc="newstatement";return"keyword"}if(builtin.propertyIsEnumerable(cur)){if(blockKeywords.propertyIsEnumerable(cur))curPunc="newstatement";return"builtin"}if(atoms.propertyIsEnumerable(cur))return"atom";return"variable"}function tokenString(quote){return function(stream,state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=
null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}if(end||!(escaped||multiLineStrings))state.tokenize=null;return"string"}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize=null;break}maybeEnd=ch=="*"}return"comment"}function tokenNestedComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize=null;break}maybeEnd=ch=="+"}return"comment"}function Context(indented,
column,type,align,prev){this.indented=indented;this.column=column;this.type=type;this.align=align;this.prev=prev}function pushContext(state,col,type){var indent=state.indented;if(state.context&&state.context.type=="statement")indent=state.context.indented;return state.context=new Context(indent,col,type,null,state.context)}function popContext(state){var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}var indentUnit=config.indentUnit;
var statementIndentUnit=parserConfig.statementIndentUnit||indentUnit;var keywords=parserConfig.keywords||{};var builtin=parserConfig.builtin||{};var blockKeywords=parserConfig.blockKeywords||{};var atoms=parserConfig.atoms||{};var hooks=parserConfig.hooks||{};var multiLineStrings=parserConfig.multiLineStrings;var isOperatorChar=/[+\-*&%=<>!?|\/]/;var curPunc;return{startState:function(basecolumn){return{tokenize:null,context:new Context((basecolumn||0)-indentUnit,0,"top",false),indented:0,startOfLine:true}},
token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=false;state.indented=stream.indentation();state.startOfLine=true}if(stream.eatSpace())return null;curPunc=null;var style=(state.tokenize||tokenBase)(stream,state);if(style=="comment"||style=="meta")return style;if(ctx.align==null)ctx.align=true;if((curPunc==";"||curPunc==":"||curPunc==",")&&ctx.type=="statement")popContext(state);else if(curPunc=="{")pushContext(state,stream.column(),"}");else if(curPunc==
"[")pushContext(state,stream.column(),"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(curPunc=="}"){for(;ctx.type=="statement";)ctx=popContext(state);if(ctx.type=="}")ctx=popContext(state);for(;ctx.type=="statement";)ctx=popContext(state)}else if(curPunc==ctx.type)popContext(state);else if((ctx.type=="}"||ctx.type=="top")&&curPunc!=";"||ctx.type=="statement"&&curPunc=="newstatement")pushContext(state,stream.column(),"statement");state.startOfLine=false;return style},indent:function(state,
textAfter){if(state.tokenize!=tokenBase&&state.tokenize!=null)return CodeMirror.Pass;var ctx=state.context;var firstChar=textAfter&&textAfter.charAt(0);if(ctx.type=="statement"&&firstChar=="}")ctx=ctx.prev;var closing=firstChar==ctx.type;if(ctx.type=="statement")return ctx.indented+(firstChar=="{"?0:statementIndentUnit);else if(ctx.align)return ctx.column+(closing?0:1);else return ctx.indented+(closing?0:indentUnit)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",
lineComment:"//",fold:"brace"}});var blockKeywords="body catch class do else enum for foreach foreach_reverse if in interface mixin "+"out scope struct switch try union unittest version while with";CodeMirror.defineMIME("text/x-d",{name:"d",keywords:words("abstract alias align asm assert auto break case cast cdouble cent cfloat const continue "+"debug default delegate delete deprecated export extern final finally function goto immutable "+"import inout invariant is lazy macro module new nothrow override package pragma private "+
"protected public pure ref return shared short static super synchronized template this "+"throw typedef typeid typeof volatile __FILE__ __LINE__ __gshared __traits __vector __parameters "+blockKeywords),blockKeywords:words(blockKeywords),builtin:words("bool byte char creal dchar double float idouble ifloat int ireal long real short ubyte "+"ucent uint ulong ushort wchar wstring void size_t sizediff_t"),atoms:words("exit failure success true false null"),hooks:{"@":function(stream,_state){stream.eatWhile(/[\w\$_]/);
return"meta"}}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../clike/clike"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../clike/clike"],mod);else mod(CodeMirror)})(function(CodeMirror){function set(words){var obj={};var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function pushInterpolationStack(state){(state.interpolationStack||(state.interpolationStack=[])).push(state.tokenize)}function popInterpolationStack(state){return(state.interpolationStack||
(state.interpolationStack=[])).pop()}function sizeInterpolationStack(state){return state.interpolationStack?state.interpolationStack.length:0}function tokenString(quote,stream,state,raw){function tokenStringHelper(stream,state){var escaped=false;for(;!stream.eol();){if(!raw&&!escaped&&stream.peek()=="$"){pushInterpolationStack(state);state.tokenize=tokenInterpolation;return"string"}var next=stream.next();if(next==quote&&!escaped&&(!tripleQuoted||stream.match(quote+quote))){state.tokenize=null;break}escaped=
!raw&&!escaped&&next=="\\"}return"string"}var tripleQuoted=false;if(stream.eat(quote))if(stream.eat(quote))tripleQuoted=true;else return"string";state.tokenize=tokenStringHelper;return tokenStringHelper(stream,state)}function tokenInterpolation(stream,state){stream.eat("$");if(stream.eat("{"))state.tokenize=null;else state.tokenize=tokenInterpolationIdentifier;return null}function tokenInterpolationIdentifier(stream,state){stream.eatWhile(/[\w_]/);state.tokenize=popInterpolationStack(state);return"variable"}
function tokenNestedComment(depth){return function(stream,state){var ch;for(;ch=stream.next();)if(ch=="*"&&stream.eat("/"))if(depth==1){state.tokenize=null;break}else{state.tokenize=tokenNestedComment(depth-1);return state.tokenize(stream,state)}else if(ch=="/"&&stream.eat("*")){state.tokenize=tokenNestedComment(depth+1);return state.tokenize(stream,state)}return"comment"}}var keywords=("this super static final const abstract class extends external factory "+"implements mixin get native set typedef with enum throw rethrow "+
"assert break case continue default in return new deferred async await covariant "+"try catch finally do else for if switch while import library export "+"part of show hide is as extension on yield late required").split(" ");var blockKeywords="try catch finally do else for if switch while".split(" ");var atoms="true false null".split(" ");var builtins="void bool num int double dynamic var String Null Never".split(" ");CodeMirror.defineMIME("application/dart",{name:"clike",keywords:set(keywords),blockKeywords:set(blockKeywords),
builtin:set(builtins),atoms:set(atoms),hooks:{"@":function(stream){stream.eatWhile(/[\w\$_\.]/);return"meta"},"'":function(stream,state){return tokenString("'",stream,state,false)},'"':function(stream,state){return tokenString('"',stream,state,false)},"r":function(stream,state){var peek=stream.peek();if(peek=="'"||peek=='"')return tokenString(stream.next(),stream,state,true);return false},"}":function(_stream,state){if(sizeInterpolationStack(state)>0){state.tokenize=popInterpolationStack(state);return null}return false},
"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenNestedComment(1);return state.tokenize(stream,state)},token:function(stream,_,style){if(style=="variable"){var isUpper=RegExp("^[_$]*[A-Z][a-zA-Z0-9_$]*$","g");if(isUpper.test(stream.current()))return"variable-2"}}}});CodeMirror.registerHelper("hintWords","application/dart",keywords.concat(atoms).concat(builtins));CodeMirror.defineMode("dart",function(conf){return CodeMirror.getMode(conf,"application/dart")},"clike")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("diff",function(){var TOKEN_NAMES={"+":"positive","-":"negative","@":"meta"};return{token:function(stream){var tw_pos=stream.string.search(/[\t ]+?$/);if(!stream.sol()||tw_pos===0){stream.skipToEnd();return("error "+(TOKEN_NAMES[stream.string.charAt(0)]||
"")).replace(/ $/,"")}var token_name=TOKEN_NAMES[stream.peek()]||stream.skipToEnd();if(tw_pos===-1)stream.skipToEnd();else stream.pos=tw_pos;return token_name}}});CodeMirror.defineMIME("text/x-diff","diff")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("django:inner",function(){function tokenBase(stream,state){if(stream.match("{{")){state.tokenize=inVariable;return"tag"}else if(stream.match("{%")){state.tokenize=
inTag;return"tag"}else if(stream.match("{#")){state.tokenize=inComment;return"comment"}for(;stream.next()!=null&&!stream.match(/\{[{%#]/,false););return null}function inString(delimiter,previousTokenizer){return function(stream,state){if(!state.escapeNext&&stream.eat(delimiter))state.tokenize=previousTokenizer;else{if(state.escapeNext)state.escapeNext=false;var ch=stream.next();if(ch=="\\")state.escapeNext=true}return"string"}}function inVariable(stream,state){if(state.waitDot){state.waitDot=false;
if(stream.peek()!=".")return"null";if(stream.match(/\.\W+/))return"error";else if(stream.eat(".")){state.waitProperty=true;return"null"}else throw Error("Unexpected error while waiting for property.");}if(state.waitPipe){state.waitPipe=false;if(stream.peek()!="|")return"null";if(stream.match(/\.\W+/))return"error";else if(stream.eat("|")){state.waitFilter=true;return"null"}else throw Error("Unexpected error while waiting for filter.");}if(state.waitProperty){state.waitProperty=false;if(stream.match(/\b(\w+)\b/)){state.waitDot=
true;state.waitPipe=true;return"property"}}if(state.waitFilter){state.waitFilter=false;if(stream.match(filters))return"variable-2"}if(stream.eatSpace()){state.waitProperty=false;return"null"}if(stream.match(/\b\d+(\.\d+)?\b/))return"number";if(stream.match("'")){state.tokenize=inString("'",state.tokenize);return"string"}else if(stream.match('"')){state.tokenize=inString('"',state.tokenize);return"string"}if(stream.match(/\b(\w+)\b/)&&!state.foundVariable){state.waitDot=true;state.waitPipe=true;return"variable"}if(stream.match("}}")){state.waitProperty=
null;state.waitFilter=null;state.waitDot=null;state.waitPipe=null;state.tokenize=tokenBase;return"tag"}stream.next();return"null"}function inTag(stream,state){if(state.waitDot){state.waitDot=false;if(stream.peek()!=".")return"null";if(stream.match(/\.\W+/))return"error";else if(stream.eat(".")){state.waitProperty=true;return"null"}else throw Error("Unexpected error while waiting for property.");}if(state.waitPipe){state.waitPipe=false;if(stream.peek()!="|")return"null";if(stream.match(/\.\W+/))return"error";
else if(stream.eat("|")){state.waitFilter=true;return"null"}else throw Error("Unexpected error while waiting for filter.");}if(state.waitProperty){state.waitProperty=false;if(stream.match(/\b(\w+)\b/)){state.waitDot=true;state.waitPipe=true;return"property"}}if(state.waitFilter){state.waitFilter=false;if(stream.match(filters))return"variable-2"}if(stream.eatSpace()){state.waitProperty=false;return"null"}if(stream.match(/\b\d+(\.\d+)?\b/))return"number";if(stream.match("'")){state.tokenize=inString("'",
state.tokenize);return"string"}else if(stream.match('"')){state.tokenize=inString('"',state.tokenize);return"string"}if(stream.match(operators))return"operator";if(stream.match(wordOperators))return"keyword";var keywordMatch=stream.match(keywords);if(keywordMatch){if(keywordMatch[0]=="comment")state.blockCommentTag=true;return"keyword"}if(stream.match(/\b(\w+)\b/)){state.waitDot=true;state.waitPipe=true;return"variable"}if(stream.match("%}")){state.waitProperty=null;state.waitFilter=null;state.waitDot=
null;state.waitPipe=null;if(state.blockCommentTag){state.blockCommentTag=false;state.tokenize=inBlockComment}else state.tokenize=tokenBase;return"tag"}stream.next();return"null"}function inComment(stream,state){if(stream.match(/^.*?#\}/))state.tokenize=tokenBase;else stream.skipToEnd();return"comment"}function inBlockComment(stream,state){if(stream.match(/\{%\s*endcomment\s*%\}/,false)){state.tokenize=inTag;stream.match("{%");return"tag"}else{stream.next();return"comment"}}var keywords=["block","endblock",
"for","endfor","true","false","filter","endfilter","loop","none","self","super","if","elif","endif","as","else","import","with","endwith","without","context","ifequal","endifequal","ifnotequal","endifnotequal","extends","include","load","comment","endcomment","empty","url","static","trans","blocktrans","endblocktrans","now","regroup","lorem","ifchanged","endifchanged","firstof","debug","cycle","csrf_token","autoescape","endautoescape","spaceless","endspaceless","ssi","templatetag","verbatim","endverbatim",
"widthratio"];var filters=["add","addslashes","capfirst","center","cut","date","default","default_if_none","dictsort","dictsortreversed","divisibleby","escape","escapejs","filesizeformat","first","floatformat","force_escape","get_digit","iriencode","join","last","length","length_is","linebreaks","linebreaksbr","linenumbers","ljust","lower","make_list","phone2numeric","pluralize","pprint","random","removetags","rjust","safe","safeseq","slice","slugify","stringformat","striptags","time","timesince",
"timeuntil","title","truncatechars","truncatechars_html","truncatewords","truncatewords_html","unordered_list","upper","urlencode","urlize","urlizetrunc","wordcount","wordwrap","yesno"];var operators=["==","!=","<",">","<=",">="];var wordOperators=["in","not","or","and"];keywords=new RegExp("^\\b("+keywords.join("|")+")\\b");filters=new RegExp("^\\b("+filters.join("|")+")\\b");operators=new RegExp("^\\b("+operators.join("|")+")\\b");wordOperators=new RegExp("^\\b("+wordOperators.join("|")+")\\b");
return{startState:function(){return{tokenize:tokenBase}},token:function(stream,state){return state.tokenize(stream,state)},blockCommentStart:"{% comment %}",blockCommentEnd:"{% endcomment %}"}});CodeMirror.defineMode("django",function(config){var htmlBase=CodeMirror.getMode(config,"text/html");var djangoInner=CodeMirror.getMode(config,"django:inner");return CodeMirror.overlayMode(htmlBase,djangoInner)});CodeMirror.defineMIME("text/x-django","django")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function ensureState(states,name){if(!states.hasOwnProperty(name))throw new Error("Undefined state "+name+" in simple mode");}function toRegex(val,caret){if(!val)return/(?:)/;var flags="";if(val instanceof RegExp){if(val.ignoreCase)flags="i";if(val.unicode)flags=flags+
"u";val=val.source}else val=String(val);return new RegExp((caret===false?"":"^")+"(?:"+val+")",flags)}function asToken(val){if(!val)return null;if(val.apply)return val;if(typeof val=="string")return val.replace(/\./g," ");var result=[];var i=0;for(;i<val.length;i++)result.push(val[i]&&val[i].replace(/\./g," "));return result}function Rule(data,states){if(data.next||data.push)ensureState(states,data.next||data.push);this.regex=toRegex(data.regex);this.token=asToken(data.token);this.data=data}function tokenFunction(states,
config){return function(stream,state){if(state.pending){var pend=state.pending.shift();if(state.pending.length==0)state.pending=null;stream.pos+=pend.text.length;return pend.token}if(state.local)if(state.local.end&&stream.match(state.local.end)){var tok=state.local.endToken||null;state.local=state.localState=null;return tok}else{tok=state.local.mode.token(stream,state.localState);var m;if(state.local.endScan&&(m=state.local.endScan.exec(stream.current())))stream.pos=stream.start+m.index;return tok}var curState=
states[state.state];var i=0;for(;i<curState.length;i++){var rule=curState[i];var matches=(!rule.data.sol||stream.sol())&&stream.match(rule.regex);if(matches){if(rule.data.next)state.state=rule.data.next;else if(rule.data.push){(state.stack||(state.stack=[])).push(state.state);state.state=rule.data.push}else if(rule.data.pop&&state.stack&&state.stack.length)state.state=state.stack.pop();if(rule.data.mode)enterLocalMode(config,state,rule.data.mode,rule.token);if(rule.data.indent)state.indent.push(stream.indentation()+
config.indentUnit);if(rule.data.dedent)state.indent.pop();var token=rule.token;if(token&&token.apply)token=token(matches);if(matches.length>2&&rule.token&&typeof rule.token!="string"){var j=2;for(;j<matches.length;j++)if(matches[j])(state.pending||(state.pending=[])).push({text:matches[j],token:rule.token[j-1]});stream.backUp(matches[0].length-(matches[1]?matches[1].length:0));return token[0]}else if(token&&token.join)return token[0];else return token}}stream.next();return null}}function cmp(a,b){if(a===
b)return true;if(!a||typeof a!="object"||!b||typeof b!="object")return false;var props=0;var prop;for(prop in a)if(a.hasOwnProperty(prop)){if(!b.hasOwnProperty(prop)||!cmp(a[prop],b[prop]))return false;props++}for(prop in b)if(b.hasOwnProperty(prop))props--;return props==0}function enterLocalMode(config,state,spec,token){var pers;if(spec.persistent){var p=state.persistentStates;for(;p&&!pers;p=p.next)if(spec.spec?cmp(spec.spec,p.spec):spec.mode==p.mode)pers=p}var mode=pers?pers.mode:spec.mode||CodeMirror.getMode(config,
spec.spec);var lState=pers?pers.state:CodeMirror.startState(mode);if(spec.persistent&&!pers)state.persistentStates={mode:mode,spec:spec.spec,state:lState,next:state.persistentStates};state.localState=lState;state.local={mode:mode,end:spec.end&&toRegex(spec.end),endScan:spec.end&&spec.forceEnd!==false&&toRegex(spec.end,false),endToken:token&&token.join?token[token.length-1]:token}}function indexOf(val,arr){var i=0;for(;i<arr.length;i++)if(arr[i]===val)return true}function indentFunction(states,meta){return function(state,
textAfter,line){if(state.local&&state.local.mode.indent)return state.local.mode.indent(state.localState,textAfter,line);if(state.indent==null||state.local||meta.dontIndentStates&&indexOf(state.state,meta.dontIndentStates)>-1)return CodeMirror.Pass;var pos=state.indent.length-1;var rules=states[state.state];scan:for(;;){var i=0;for(;i<rules.length;i++){var rule=rules[i];if(rule.data.dedent&&rule.data.dedentIfLineStart!==false){var m=rule.regex.exec(textAfter);if(m&&m[0]){pos--;if(rule.next||rule.push)rules=
states[rule.next||rule.push];textAfter=textAfter.slice(m[0].length);continue scan}}}break}return pos<0?0:state.indent[pos]}}CodeMirror.defineSimpleMode=function(name,states){CodeMirror.defineMode(name,function(config){return CodeMirror.simpleMode(config,states)})};CodeMirror.simpleMode=function(config,states){ensureState(states,"start");var states_={};var meta=states.meta||{};var hasIndentation=false;var state;for(state in states)if(state!=meta&&states.hasOwnProperty(state)){var list=states_[state]=
[];var orig=states[state];var i=0;for(;i<orig.length;i++){var data=orig[i];list.push(new Rule(data,states));if(data.indent||data.dedent)hasIndentation=true}}var mode={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:hasIndentation?[]:null}},copyState:function(state){var s={state:state.state,pending:state.pending,local:state.local,localState:null,indent:state.indent&&state.indent.slice(0)};if(state.localState)s.localState=CodeMirror.copyState(state.local.mode,
state.localState);if(state.stack)s.stack=state.stack.slice(0);var pers=state.persistentStates;for(;pers;pers=pers.next)s.persistentStates={mode:pers.mode,spec:pers.spec,state:pers.state==state.localState?s.localState:CodeMirror.copyState(pers.mode,pers.state),next:s.persistentStates};return s},token:tokenFunction(states_,config),innerMode:function(state){return state.local&&{mode:state.local.mode,state:state.localState}},indent:indentFunction(states_,meta)};if(meta){var prop;for(prop in meta)if(meta.hasOwnProperty(prop))mode[prop]=
meta[prop]}return mode}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../addon/mode/simple"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../addon/mode/simple"],mod);else mod(CodeMirror)})(function(CodeMirror){var from="from";var fromRegex=new RegExp("^(\\s*)\\b("+from+")\\b","i");var shells=["run","cmd","entrypoint","shell"];var shellsAsArrayRegex=new RegExp("^(\\s*)("+shells.join("|")+")(\\s+\\[)","i");var expose=
"expose";var exposeRegex=new RegExp("^(\\s*)("+expose+")(\\s+)","i");var others=["arg","from","maintainer","label","env","add","copy","volume","user","workdir","onbuild","stopsignal","healthcheck","shell"];var instructions=[from,expose].concat(shells).concat(others);var instructionRegex="("+instructions.join("|")+")";var instructionOnlyLine=new RegExp("^(\\s*)"+instructionRegex+"(\\s*)(#.*)?$","i");var instructionWithArguments=new RegExp("^(\\s*)"+instructionRegex+"(\\s+)","i");CodeMirror.defineSimpleMode("dockerfile",
{start:[{regex:/^\s*#.*$/,sol:true,token:"comment"},{regex:fromRegex,token:[null,"keyword"],sol:true,next:"from"},{regex:instructionOnlyLine,token:[null,"keyword",null,"error"],sol:true},{regex:shellsAsArrayRegex,token:[null,"keyword",null],sol:true,next:"array"},{regex:exposeRegex,token:[null,"keyword",null],sol:true,next:"expose"},{regex:instructionWithArguments,token:[null,"keyword",null],sol:true,next:"arguments"},{regex:/./,token:null}],from:[{regex:/\s*$/,token:null,next:"start"},{regex:/(\s*)(#.*)$/,
token:[null,"error"],next:"start"},{regex:/(\s*\S+\s+)(as)/i,token:[null,"keyword"],next:"start"},{token:null,next:"start"}],single:[{regex:/(?:[^\\']|\\.)/,token:"string"},{regex:/'/,token:"string",pop:true}],double:[{regex:/(?:[^\\"]|\\.)/,token:"string"},{regex:/"/,token:"string",pop:true}],array:[{regex:/\]/,token:null,next:"start"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"}],expose:[{regex:/\d+$/,token:"number",next:"start"},{regex:/[^\d]+$/,token:null,next:"start"},{regex:/\d+/,token:"number"},
{regex:/[^\d]+/,token:null},{token:null,next:"start"}],arguments:[{regex:/^\s*#.*$/,sol:true,token:"comment"},{regex:/"(?:[^\\"]|\\.)*"?$/,token:"string",next:"start"},{regex:/"/,token:"string",push:"double"},{regex:/'(?:[^\\']|\\.)*'?$/,token:"string",next:"start"},{regex:/'/,token:"string",push:"single"},{regex:/[^#"']+[\\`]$/,token:null},{regex:/[^#"']+$/,token:null,next:"start"},{regex:/[^#"']+/,token:null},{token:null,next:"start"}],meta:{lineComment:"#"}});CodeMirror.defineMIME("text/x-dockerfile",
"dockerfile")});CodeMirror.defineMode("dremel",function(config){function wordRegexp(words){return new RegExp("^(?:"+words.join("|")+")$","i")}function tokenBase(stream,state){var ch=stream.next();var ch2;curPunc=null;if(ch=="$"||ch=="?"){stream.match(/^[\w\d]*/);return"variable-2"}else if(ch=="<"&&!stream.match(/^[\s\u00a0=]/,false)){stream.match(/^[^\s\u00a0>]*>?/);return"atom"}else if(ch=='"'||ch=="'"){state.tokenize=tokenLiteral(ch);return state.tokenize(stream,state)}else if(ch=="`"){state.tokenize=tokenOpLiteral(ch);
return state.tokenize(stream,state)}else if(/[{}\(\),;\[\]]/.test(ch)){curPunc=ch;return null}else if(ch=="#"){stream.skipToEnd();return"comment"}else if(ch=="/"&&stream.eat("*")){state.tokenize=tokenComment;return state.tokenize(stream,state)}else if(ch=="-"){ch2=stream.next();if(ch2=="-"){stream.skipToEnd();return"comment"}}else if(ch=="/"){ch2=stream.next();if(ch2=="/"){stream.skipToEnd();return"comment"}}else if(operatorChars.test(ch)){stream.eatWhile(operatorChars);return null}else if(ch==":"){stream.eatWhile(/[\w\d._\-]/);
return"atom"}else{stream.eatWhile(/[_\w\d.]/);if(stream.eat(":")){stream.eatWhile(/[\w\d._\-]/);return"atom"}var word=stream.current();if(functions.test(word))return"function";else if(keywords.test(word))return"keyword";else if(types.test(word))return"type";else return"variable"}}function tokenLiteral(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&ch=="\\"}return"string"}}function tokenOpLiteral(quote){return function(stream,
state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&ch=="\\"}return"variable-2"}}function tokenComment(stream,state){for(;true;)if(stream.skipTo("*")){stream.next();if(stream.eat("/")){state.tokenize=tokenBase;break}}else{stream.skipToEnd();break}return"comment"}function pushContext(state,type,col){state.context={prev:state.context,indent:state.indent,col:col,type:type}}function popContext(state){state.indent=state.context.indent;
state.context=state.context.prev}var indentUnit=config.indentUnit;var curPunc;var keywords=wordRegexp(["all","and","apply","as","asc","between","by","case","cast","contains","cross","current","desc","distinct","each","else","end","explain","false","following","from","full","group","having","if","ignore","in","inner","is","join","left","like","limit","lookup","materialize","not","null","offset","omit","on","or","order","outer","over","partial","partition","preceding","range","right","rollup","row",
"rows","select","shuffle","then","true","unbounded","when","where","within"]);var functions=wordRegexp(["count","last","max","min","nth","sum","top","abs","acos","acosh","asin","asinh","atan","atanh","atan2","avg","ceil","cos","cosh","cosh","cot","degrees","floor","ln","log","log2","log10","pi","pow","radians","sin","sinh","sqrt","tan","tanh","in","is_null","is_explicitly_defined","format_ip","parse_ip","format_packed_ip","parse_packed_ip","concat","extract_regexp","left","length","lower","lpad",
"right","regexp","rpad","substr","upper","format_time_usec","parse_time_usec","strftime_usec","time_usec_to_day","time_usec_to_hour","time_usec_to_month","time_usec_to_year","format_utc_usec","parse_utc_usec","strftime_utc_usec","utc_usec_to_day","utc_usec_to_hour","utc_usec_to_day","utc_usec_to_year","position","fingerprint","benchmark","first","top_count","top_maxcount","unique","quantiles","group_concat","nest","some","any","date_add","datediff"]);var types=wordRegexp(["bool","double","float",
"hex_string","int32","int64","string","uint32","uint64"]);var operatorChars=/[*+\-<>=&|]/;return{startState:function(base){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(stream,state){if(stream.sol()){if(state.context&&state.context.align==null)state.context.align=false;state.indent=stream.indentation()}if(stream.eatSpace())return null;var style=state.tokenize(stream,state);if(style!="comment"&&state.context&&state.context.align==null&&state.context.type!="pattern")state.context.align=
true;if(curPunc=="(")pushContext(state,")",stream.column());else if(curPunc=="[")pushContext(state,"]",stream.column());else if(curPunc=="{")pushContext(state,"}",stream.column());else if(/[\]\}\)]/.test(curPunc)){for(;state.context&&state.context.type=="pattern";)popContext(state);if(state.context&&curPunc==state.context.type)popContext(state)}else if(curPunc=="."&&state.context&&state.context.type=="pattern")popContext(state);else if(/atom|string|variable/.test(style)&&state.context)if(/[\}\]]/.test(state.context.type))pushContext(state,
"pattern",stream.column());else if(state.context.type=="pattern"&&!state.context.align){state.context.align=true;state.context.col=stream.column()}return style},indent:function(state,textAfter){var firstChar=textAfter&&textAfter.charAt(0);var context=state.context;if(/[\]\}]/.test(firstChar))for(;context&&context.type=="pattern";)context=context.prev;var closing=context&&firstChar==context.type;if(!context)return 0;else if(context.type=="pattern")return context.col;else if(context.align)return context.col+
(closing?0:1);else return context.indent+(closing?0:indentUnit)},lineComment:"#"}});CodeMirror.defineMIME("text/x-dremel","dremel");(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("dtd",function(config){function ret(style,tp){type=tp;return style}function tokenBase(stream,state){var ch=stream.next();if(ch=="<"&&stream.eat("!"))if(stream.eatWhile(/[\-]/)){state.tokenize=tokenSGMLComment;return tokenSGMLComment(stream,state)}else{if(stream.eatWhile(/[\w]/))return ret("keyword",
"doindent")}else if(ch=="<"&&stream.eat("?")){state.tokenize=inBlock("meta","?>");return ret("meta",ch)}else if(ch=="#"&&stream.eatWhile(/[\w]/))return ret("atom","tag");else if(ch=="|")return ret("keyword","separator");else if(ch.match(/[\(\)\[\]\-\.,\+\?>]/))return ret(null,ch);else if(ch.match(/[\[\]]/))return ret("rule",ch);else if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(stream.eatWhile(/[a-zA-Z\?\+\d]/)){var sc=stream.current();if(sc.substr(sc.length-
1,sc.length).match(/\?|\+/)!==null)stream.backUp(1);return ret("tag","tag")}else if(ch=="%"||ch=="*")return ret("number","number");else{stream.eatWhile(/[\w\\\-_%.{,]/);return ret(null,null)}}function tokenSGMLComment(stream,state){var dashes=0;var ch;for(;(ch=stream.next())!=null;){if(dashes>=2&&ch==">"){state.tokenize=tokenBase;break}dashes=ch=="-"?dashes+1:0}return ret("comment","comment")}function tokenString(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=
null;){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&ch=="\\"}return ret("string","tag")}}function inBlock(style,terminator){return function(stream,state){for(;!stream.eol();){if(stream.match(terminator)){state.tokenize=tokenBase;break}stream.next()}return style}}var indentUnit=config.indentUnit;var type;return{startState:function(base){return{tokenize:tokenBase,baseIndent:base||0,stack:[]}},token:function(stream,state){if(stream.eatSpace())return null;var style=state.tokenize(stream,
state);var context=state.stack[state.stack.length-1];if(stream.current()=="["||type==="doindent"||type=="[")state.stack.push("rule");else if(type==="endtag")state.stack[state.stack.length-1]="endtag";else if(stream.current()=="]"||type=="]"||type==">"&&context=="rule")state.stack.pop();else if(type=="[")state.stack.push("[");return style},indent:function(state,textAfter){var n=state.stack.length;if(textAfter.charAt(0)==="]")n--;else if(textAfter.substr(textAfter.length-1,textAfter.length)===">"){if(textAfter.substr(0,
1)==="<");else if(type=="doindent"&&textAfter.length>1);else if(type=="doindent")n--;else if(type==">"&&textAfter.length>1);else if(type=="tag"&&textAfter!==">");else if(type=="tag"&&state.stack[state.stack.length-1]=="rule")n--;else if(type=="tag")n++;else if(textAfter===">"&&state.stack[state.stack.length-1]=="rule"&&type===">")n--;else if(textAfter===">"&&state.stack[state.stack.length-1]=="rule");else if(textAfter.substr(0,1)!=="<"&&textAfter.substr(0,1)===">")n=n-1;else if(textAfter===">");else n=
n-1;if(type==null||type=="]")n--}return state.baseIndent+n*indentUnit},electricChars:"]>"}});CodeMirror.defineMIME("application/xml-dtd","dtd")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMIME("text/x-erlang","erlang");CodeMirror.defineMode("erlang",function(cmCfg){function tokenizer(stream,state){if(state.in_string){state.in_string=!doubleQuote(stream);return rval(state,stream,"string")}if(state.in_atom){state.in_atom=!singleQuote(stream);
return rval(state,stream,"atom")}if(stream.eatSpace())return rval(state,stream,"whitespace");if(!peekToken(state)&&stream.match(/-\s*[a-z\u00df-\u00f6\u00f8-\u00ff][\w\u00d8-\u00de\u00c0-\u00d6\u00df-\u00f6\u00f8-\u00ff]*/))if(is_member(stream.current(),typeWords))return rval(state,stream,"type");else return rval(state,stream,"attribute");var ch=stream.next();if(ch=="%"){stream.skipToEnd();return rval(state,stream,"comment")}if(ch==":")return rval(state,stream,"colon");if(ch=="?"){stream.eatSpace();
stream.eatWhile(anumRE);return rval(state,stream,"macro")}if(ch=="#"){stream.eatSpace();stream.eatWhile(anumRE);return rval(state,stream,"record")}if(ch=="$"){if(stream.next()=="\\"&&!stream.match(escapesRE))return rval(state,stream,"error");return rval(state,stream,"number")}if(ch==".")return rval(state,stream,"dot");if(ch=="'"){if(!(state.in_atom=!singleQuote(stream))){if(stream.match(/\s*\/\s*[0-9]/,false)){stream.match(/\s*\/\s*[0-9]/,true);return rval(state,stream,"fun")}if(stream.match(/\s*\(/,
false)||stream.match(/\s*:/,false))return rval(state,stream,"function")}return rval(state,stream,"atom")}if(ch=='"'){state.in_string=!doubleQuote(stream);return rval(state,stream,"string")}if(/[A-Z_\u00d8-\u00de\u00c0-\u00d6]/.test(ch)){stream.eatWhile(anumRE);return rval(state,stream,"variable")}if(/[a-z_\u00df-\u00f6\u00f8-\u00ff]/.test(ch)){stream.eatWhile(anumRE);if(stream.match(/\s*\/\s*[0-9]/,false)){stream.match(/\s*\/\s*[0-9]/,true);return rval(state,stream,"fun")}var w=stream.current();if(is_member(w,
keywordWords))return rval(state,stream,"keyword");else if(is_member(w,operatorAtomWords))return rval(state,stream,"operator");else if(stream.match(/\s*\(/,false))if(is_member(w,bifWords)&&(peekToken(state).token!=":"||peekToken(state,2).token=="erlang"))return rval(state,stream,"builtin");else if(is_member(w,guardWords))return rval(state,stream,"guard");else return rval(state,stream,"function");else if(lookahead(stream)==":")if(w=="erlang")return rval(state,stream,"builtin");else return rval(state,
stream,"function");else if(is_member(w,["true","false"]))return rval(state,stream,"boolean");else return rval(state,stream,"atom")}var digitRE=/[0-9]/;var radixRE=/[0-9a-zA-Z]/;if(digitRE.test(ch)){stream.eatWhile(digitRE);if(stream.eat("#")){if(!stream.eatWhile(radixRE))stream.backUp(1)}else if(stream.eat("."))if(!stream.eatWhile(digitRE))stream.backUp(1);else if(stream.eat(/[eE]/))if(stream.eat(/[-+]/)){if(!stream.eatWhile(digitRE))stream.backUp(2)}else if(!stream.eatWhile(digitRE))stream.backUp(1);
return rval(state,stream,"number")}if(nongreedy(stream,openParenRE,openParenWords))return rval(state,stream,"open_paren");if(nongreedy(stream,closeParenRE,closeParenWords))return rval(state,stream,"close_paren");if(greedy(stream,separatorRE,separatorWords))return rval(state,stream,"separator");if(greedy(stream,operatorSymbolRE,operatorSymbolWords))return rval(state,stream,"operator");return rval(state,stream,null)}function nongreedy(stream,re,words){if(stream.current().length==1&&re.test(stream.current())){stream.backUp(1);
for(;re.test(stream.peek());){stream.next();if(is_member(stream.current(),words))return true}stream.backUp(stream.current().length-1)}return false}function greedy(stream,re,words){if(stream.current().length==1&&re.test(stream.current())){for(;re.test(stream.peek());)stream.next();for(;0<stream.current().length;)if(is_member(stream.current(),words))return true;else stream.backUp(1);stream.next()}return false}function doubleQuote(stream){return quote(stream,'"',"\\")}function singleQuote(stream){return quote(stream,
"'","\\")}function quote(stream,quoteChar,escapeChar){for(;!stream.eol();){var ch=stream.next();if(ch==quoteChar)return true;else if(ch==escapeChar)stream.next()}return false}function lookahead(stream){var m=stream.match(/^\s*([^\s%])/,false);return m?m[1]:""}function is_member(element,list){return-1<list.indexOf(element)}function rval(state,stream,type){pushToken(state,realToken(type,stream));switch(type){case "atom":return"atom";case "attribute":return"attribute";case "boolean":return"atom";case "builtin":return"builtin";
case "close_paren":return null;case "colon":return null;case "comment":return"comment";case "dot":return null;case "error":return"error";case "fun":return"meta";case "function":return"tag";case "guard":return"property";case "keyword":return"keyword";case "macro":return"variable-2";case "number":return"number";case "open_paren":return null;case "operator":return"operator";case "record":return"bracket";case "separator":return null;case "string":return"string";case "type":return"def";case "variable":return"variable";
default:return null}}function aToken(tok,col,ind,typ){return{token:tok,column:col,indent:ind,type:typ}}function realToken(type,stream){return aToken(stream.current(),stream.column(),stream.indentation(),type)}function fakeToken(type){return aToken(type,0,0,type)}function peekToken(state,depth){var len=state.tokenStack.length;var dep=depth?depth:1;if(len<dep)return false;else return state.tokenStack[len-dep]}function pushToken(state,token){if(!(token.type=="comment"||token.type=="whitespace")){state.tokenStack=
maybe_drop_pre(state.tokenStack,token);state.tokenStack=maybe_drop_post(state.tokenStack)}}function maybe_drop_pre(s,token){var last=s.length-1;if(0<last&&s[last].type==="record"&&token.type==="dot")s.pop();else if(0<last&&s[last].type==="group"){s.pop();s.push(token)}else s.push(token);return s}function maybe_drop_post(s){if(!s.length)return s;var last=s.length-1;if(s[last].type==="dot")return[];if(last>1&&s[last].type==="fun"&&s[last-1].token==="fun")return s.slice(0,last-1);switch(s[last].token){case "}":return d(s,
{g:["{"]});case "]":return d(s,{i:["["]});case ")":return d(s,{i:["("]});case ">>":return d(s,{i:["<<"]});case "end":return d(s,{i:["begin","case","fun","if","receive","try"]});case ",":return d(s,{e:["begin","try","when","->",",","(","[","{","<<"]});case "->":return d(s,{r:["when"],m:["try","if","case","receive"]});case ";":return d(s,{E:["case","fun","if","receive","try","when"]});case "catch":return d(s,{e:["try"]});case "of":return d(s,{e:["case"]});case "after":return d(s,{e:["receive","try"]});
default:return s}}function d(stack,tt){var type;for(type in tt){var len=stack.length-1;var tokens=tt[type];var i=len-1;for(;-1<i;i--)if(is_member(stack[i].token,tokens)){var ss=stack.slice(0,i);switch(type){case "m":return ss.concat(stack[i]).concat(stack[len]);case "r":return ss.concat(stack[len]);case "i":return ss;case "g":return ss.concat(fakeToken("group"));case "E":return ss.concat(stack[i]);case "e":return ss.concat(stack[i])}}}return type=="E"?[]:stack}function indenter(state,textAfter){var t;
var unit=cmCfg.indentUnit;var wordAfter=wordafter(textAfter);var currT=peekToken(state,1);var prevT=peekToken(state,2);if(state.in_string||state.in_atom)return CodeMirror.Pass;else if(!prevT)return 0;else if(currT.token=="when")return currT.column+unit;else if(wordAfter==="when"&&prevT.type==="function")return prevT.indent+unit;else if(wordAfter==="("&&currT.token==="fun")return currT.column+3;else if(wordAfter==="catch"&&(t=getToken(state,["try"])))return t.column;else if(is_member(wordAfter,["end",
"after","of"])){t=getToken(state,["begin","case","fun","if","receive","try"]);return t?t.column:CodeMirror.Pass}else if(is_member(wordAfter,closeParenWords)){t=getToken(state,openParenWords);return t?t.column:CodeMirror.Pass}else if(is_member(currT.token,[",","|","||"])||is_member(wordAfter,[",","|","||"])){t=postcommaToken(state);return t?t.column+t.token.length:unit}else if(currT.token=="->")if(is_member(prevT.token,["receive","case","if","try"]))return prevT.column+unit+unit;else return prevT.column+
unit;else if(is_member(currT.token,openParenWords))return currT.column+currT.token.length;else{t=defaultToken(state);return truthy(t)?t.column+unit:0}}function wordafter(str){var m=str.match(/,|[a-z]+|\}|\]|\)|>>|\|+|\(/);return truthy(m)&&m.index===0?m[0]:""}function postcommaToken(state){var objs=state.tokenStack.slice(0,-1);var i=getTokenIndex(objs,"type",["open_paren"]);return truthy(objs[i])?objs[i]:false}function defaultToken(state){var objs=state.tokenStack;var stop=getTokenIndex(objs,"type",
["open_paren","separator","keyword"]);var oper=getTokenIndex(objs,"type",["operator"]);if(truthy(stop)&&truthy(oper)&&stop<oper)return objs[stop+1];else if(truthy(stop))return objs[stop];else return false}function getToken(state,tokens){var objs=state.tokenStack;var i=getTokenIndex(objs,"token",tokens);return truthy(objs[i])?objs[i]:false}function getTokenIndex(objs,propname,propvals){var i=objs.length-1;for(;-1<i;i--)if(is_member(objs[i][propname],propvals))return i;return false}function truthy(x){return x!==
false&&x!=null}var typeWords=["-type","-spec","-export_type","-opaque"];var keywordWords=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"];var separatorRE=/[\->,;]/;var separatorWords=["->",";",","];var operatorAtomWords=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"];var operatorSymbolRE=/[\+\-\*\/<>=\|:!]/;var operatorSymbolWords=["=","+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-",
"!"];var openParenRE=/[<\(\[\{]/;var openParenWords=["<<","(","[","{"];var closeParenRE=/[>\)\]\}]/;var closeParenWords=["}","]",")",">>"];var guardWords=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"];var bifWords=["abs","adler32","adler32_combine","alive","apply",
"atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean",
"is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded",
"process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"];var anumRE=/[\w@\u00d8-\u00de\u00c0-\u00d6\u00df-\u00f6\u00f8-\u00ff]/;var escapesRE=/[0-7]{1,3}|[bdefnrstv\\"']|\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;return{startState:function(){return{tokenStack:[],
in_string:false,in_atom:false}},token:function(stream,state){return tokenizer(stream,state)},indent:function(state,textAfter){return indenter(state,textAfter)},lineComment:"%"}})});/*

 CodeMirror, copyright (c) by Marijn Haverbeke and others
 Distributed under an MIT license: http://codemirror.net/LICENSE

 @fileoverview Apache Freemarker Template Language (FTL) for CodeMirror
 @auth willhom@google.com

*/
CodeMirror.defineMode("ftl",function(config,parserConfig){function tokenString(quote,stream){var escaped=false;var next;for(;(next=stream.next())!=null;){if(next==quote&&!escaped)return"string";escaped=!escaped&&next==quote}return"string error"}function tokenComment(stream,state){var ch;for(;ch=stream.next();)if(ch=="-")if(stream.peek()=="-"){stream.next();if(stream.peek()==">"){stream.next();state.inBlockComment=false;break}else stream.backUp(1)}return"comment"}function tokenWord(ch,stream){if(ch>=
"a"&&ch<="z"||ch>="A"&&ch<="Z"){stream.eatWhile(/^[a-z.A-Z0-9_]*$/);return stream.current()}return null}var keywords=new Set(["as","assign","attempt","autoesc","break","case","compress","default","else","elseif","escape","fallback","false","flush","ftl","function","global","gt","gte","if","import","in","include","items","list","local","lt","lte","macro","nested","noautoesc","noescape","noparse","nt","outputformat","recover","recurse","return","return","rt","sep","setting","stop","switch","t","true",
"using","visit","call"]);var mapping={"@":"bracket","#":"keyword"};var key;var openTag;return{startState:function(){return{inBlockComment:false,indent:0}},token:function(stream,state){if(state.inBlockComment)return tokenComment(stream,state);if(stream.eatSpace())return null;state.indent=stream.indentation();var ch=stream.next();if(ch=="<")openTag=true;else if(ch==">"){openTag=false;return null}else if(!openTag)return null;if(ch=="="||ch=="/")return null;if(ch=="<"){openTag=true;if(stream.peek()==
"#"){stream.next();if(stream.peek()=="-"){stream.next();if(stream.peek()=="-"){stream.next();state.inBlockComment=true;return tokenComment(stream,state)}else stream.backUp(1)}else stream.backUp(1)}else{key="<";return null}}if(ch=='"'||ch=="'")return tokenString(ch,stream);if(ch=="#"||ch=="@"){key=ch;return mapping[ch]}var cur=tokenWord(ch,stream);if(cur!=null)if(key=="@"){key=undefined;return"bracket"}else if(key=="<"){key=undefined;return"builtin"}else if(keywords.has(cur.toLowerCase()))return"keyword";
else return"attribute"},indent:function(state,textAfter){return state.indent},blockCommentStart:"<#--",blockCommentEnd:"--\x3e",fold:["brace","import"]}});CodeMirror.defineMIME("text/x-ftl",{name:"ftl"});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("gas",function(_config,parserConfig){function x86(_parserConfig){lineCommentStartSymbol="#";registers.al="variable";registers.ah="variable";registers.ax="variable";registers.eax="variable-2";registers.rax="variable-3";registers.bl="variable";registers.bh=
"variable";registers.bx="variable";registers.ebx="variable-2";registers.rbx="variable-3";registers.cl="variable";registers.ch="variable";registers.cx="variable";registers.ecx="variable-2";registers.rcx="variable-3";registers.dl="variable";registers.dh="variable";registers.dx="variable";registers.edx="variable-2";registers.rdx="variable-3";registers.si="variable";registers.esi="variable-2";registers.rsi="variable-3";registers.di="variable";registers.edi="variable-2";registers.rdi="variable-3";registers.sp=
"variable";registers.esp="variable-2";registers.rsp="variable-3";registers.bp="variable";registers.ebp="variable-2";registers.rbp="variable-3";registers.ip="variable";registers.eip="variable-2";registers.rip="variable-3";registers.cs="keyword";registers.ds="keyword";registers.ss="keyword";registers.es="keyword";registers.fs="keyword";registers.gs="keyword"}function armv6(_parserConfig){lineCommentStartSymbol="@";directives.syntax="builtin";registers.r0="variable";registers.r1="variable";registers.r2=
"variable";registers.r3="variable";registers.r4="variable";registers.r5="variable";registers.r6="variable";registers.r7="variable";registers.r8="variable";registers.r9="variable";registers.r10="variable";registers.r11="variable";registers.r12="variable";registers.sp="variable-2";registers.lr="variable-2";registers.pc="variable-2";registers.r13=registers.sp;registers.r14=registers.lr;registers.r15=registers.pc;custom.push(function(ch,stream){if(ch==="#"){stream.eatWhile(/\w/);return"number"}})}function nextUntilUnescaped(stream,
end){var escaped=false;var next;for(;(next=stream.next())!=null;){if(next===end&&!escaped)return false;escaped=!escaped&&next==="\\"}return escaped}function clikeComment(stream,state){var maybeEnd=false;var ch;for(;(ch=stream.next())!=null;){if(ch==="/"&&maybeEnd){state.tokenize=null;break}maybeEnd=ch==="*"}return"comment"}var custom=[];var lineCommentStartSymbol="";var directives={".abort":"builtin",".align":"builtin",".altmacro":"builtin",".ascii":"builtin",".asciz":"builtin",".balign":"builtin",
".balignw":"builtin",".balignl":"builtin",".bundle_align_mode":"builtin",".bundle_lock":"builtin",".bundle_unlock":"builtin",".byte":"builtin",".cfi_startproc":"builtin",".comm":"builtin",".data":"builtin",".def":"builtin",".desc":"builtin",".dim":"builtin",".double":"builtin",".eject":"builtin",".else":"builtin",".elseif":"builtin",".end":"builtin",".endef":"builtin",".endfunc":"builtin",".endif":"builtin",".equ":"builtin",".equiv":"builtin",".eqv":"builtin",".err":"builtin",".error":"builtin",".exitm":"builtin",
".extern":"builtin",".fail":"builtin",".file":"builtin",".fill":"builtin",".float":"builtin",".func":"builtin",".global":"builtin",".gnu_attribute":"builtin",".hidden":"builtin",".hword":"builtin",".ident":"builtin",".if":"builtin",".incbin":"builtin",".include":"builtin",".int":"builtin",".internal":"builtin",".irp":"builtin",".irpc":"builtin",".lcomm":"builtin",".lflags":"builtin",".line":"builtin",".linkonce":"builtin",".list":"builtin",".ln":"builtin",".loc":"builtin",".loc_mark_labels":"builtin",
".local":"builtin",".long":"builtin",".macro":"builtin",".mri":"builtin",".noaltmacro":"builtin",".nolist":"builtin",".octa":"builtin",".offset":"builtin",".org":"builtin",".p2align":"builtin",".popsection":"builtin",".previous":"builtin",".print":"builtin",".protected":"builtin",".psize":"builtin",".purgem":"builtin",".pushsection":"builtin",".quad":"builtin",".reloc":"builtin",".rept":"builtin",".sbttl":"builtin",".scl":"builtin",".section":"builtin",".set":"builtin",".short":"builtin",".single":"builtin",
".size":"builtin",".skip":"builtin",".sleb128":"builtin",".space":"builtin",".stab":"builtin",".string":"builtin",".struct":"builtin",".subsection":"builtin",".symver":"builtin",".tag":"builtin",".text":"builtin",".title":"builtin",".type":"builtin",".uleb128":"builtin",".val":"builtin",".version":"builtin",".vtable_entry":"builtin",".vtable_inherit":"builtin",".warning":"builtin",".weak":"builtin",".weakref":"builtin",".word":"builtin"};var registers={};var arch=(parserConfig.architecture||"x86").toLowerCase();
if(arch==="x86")x86(parserConfig);else if(arch==="arm"||arch==="armv6")armv6(parserConfig);return{startState:function(){return{tokenize:null}},token:function(stream,state){if(state.tokenize)return state.tokenize(stream,state);if(stream.eatSpace())return null;var style;var cur;var ch=stream.next();if(ch==="/")if(stream.eat("*")){state.tokenize=clikeComment;return clikeComment(stream,state)}if(ch===lineCommentStartSymbol){stream.skipToEnd();return"comment"}if(ch==='"'){nextUntilUnescaped(stream,'"');
return"string"}if(ch==="."){stream.eatWhile(/\w/);cur=stream.current().toLowerCase();style=directives[cur];return style||null}if(ch==="="){stream.eatWhile(/\w/);return"tag"}if(ch==="{")return"bracket";if(ch==="}")return"bracket";if(/\d/.test(ch)){if(ch==="0"&&stream.eat("x")){stream.eatWhile(/[0-9a-fA-F]/);return"number"}stream.eatWhile(/\d/);return"number"}if(/\w/.test(ch)){stream.eatWhile(/\w/);if(stream.eat(":"))return"tag";cur=stream.current().toLowerCase();style=registers[cur];return style||
null}var i=0;for(;i<custom.length;i++){style=custom[i](ch,stream,state);if(style)return style}},lineComment:lineCommentStartSymbol,blockCommentStart:"/*",blockCommentEnd:"*/"}})});(function(){function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function tokenLineComment(stream){stream.skipToEnd();return"comment"}var gclKeywords="vars as assert attributes basename check_assertions "+"collate_map commonprefix compute_field cond constructor dynamic_lambda "+"declare_objtype defined defined_expr else eval eval_expr expansion "+"expect expid external false filedir filter final fingerprint flatten "+"fmt forall get get_objects getcwd getenv glob has_attribute has_key "+
"head if import isdir isfile items join keys lambda len listdir local "+"lookup map maptuple match memoized mkmap mktuple myfilename null "+"objectid objtype protected real_username reduce replace sealed "+"split stringhash substr super tail template then this true up values "+"validation_ignore walltime ";var bclKeywords="allow_checkpoint_restore appclass args backend_info "+"backends borg_package_type "+"canaries dependencies healthz_ports job_health_params monitor "+"monitoring options packages permissions requirements resources "+
"runtime scheduling task_args update after alloc "+"bcid_break_glass_justification storage_colocation files "+"alloc_health_timeout_ms allow_auto_update append_checksum attr_limits "+"autopar_extract autorestart_timeout binary binary_package_names "+"binary_version block_on_delete cached cell check_seconds children "+"checkpoint_restore_policy chroot chubby_dir cleanup clique_ssd "+"clique_pd_ssd command colocation constraints "+"correct_shardinfo_filename cpu critical_jobs_present "+"critical_task_grace_period criticaljobs daemon data_version "+
"dataversion deadline default_url degradation directory disk "+"enforce_limits exclusive external_params "+"file fileset gfs_cell global globaldir "+"gpu group health_timeout_seconds healthz_timeout_ms hostname install "+"install_timeout labelacl level local_ram_fs_dir lockservice "+"locus_type managed_dirs master master_port max_consecutive_failures "+"max_dead_tasks max_failing_tasks max_fraction_in_flight max_in_flight "+"max_initial_failures max_initial_scheduling_wait "+"max_job_failures max_pending_tasks "+
"max_pending_tasks_fraction max_per_rack max_per_task_failures "+"max_reschedules max_restarts_per_hour_hint "+"max_task_failures max_tolerated_failures max_unhealthy_tasks "+"min_ms_since_last_failure min_seconds_since_last_failure minimum_size "+"mode mpm_dir name nameservice_type need_different_machines "+"num_canaries num_conns num_disks num_shards package_binary "+"parent pathvar per_task pin_tasks_per_alloc_index pinned portname "+"ports post_install preemption_notice preload_packages "+"primary_fs_dir_name priority production_package_verification "+
"protocol ram rate_limit_ms raw_ssds remote_hdd_fs_dir "+"remote_ssd_fs_dir colossus_cell "+"replicas reschedule_timeout_ms reset_job_failure_counts restricted"+"revert_on_error rpcacl run_updater_on_borg run_as_root"+"schedule_type seastar segment server_type serving_port shard "+"shard_step shardinfo_dir shardinfo_ports shared_cpu shared_disk "+"shared_min_disks shared_num_disks start_quorum static_port "+"static_ports status_port stop_time strict_confirmation_threshold "+"task_rescheduling_policy task_update_order timeout_secs type "+
"shared_ram size unsafe_attr_limits_update use_dns use_fileutil user "+"visibility shared_raw_ssds security_mode raw_size "+"local_ssd_partition_fs_dir "+"static_resources raw_hdd_devices raw_ssd_partitions "+"unencrypted_local_fs_dirs "+"watch_duration_ms watch_interval_ms watch_task_duration_ms "+"watch_task_interval_ms borgletparams account_child_mem_to_alloc "+"max_diskused_fraction timeout_seconds "+"borg_dns_name canonical_bcl debugger_command "+"file_checksum format_backends format_shardinfo "+
"get_binary get_job_bns_prefix "+"get_mpm_server_ips get_mpm_version get_num_tasks get_task_name "+"mk_extra_argv mkargs mkpath_exports ns_params objectname package_dir "+"packagename reduce_with_replicas shellescape use_minicluster username "+"aggressive_avoid_machine autonomous_task_restart cpu_platform "+"enable_diskless host_ipv4 jellyfish machine_reservation_id "+"ponyexpress primary_eligible raw_hpn_bandwidth swinetrek "+"virtual_networking "+"client acl notify p4file compiler allow_gzip message "+
"proto gcl_model gclobjtype gclobject manual bns_name "+"max_versions_on_canaries task_count selector canary_tag "+"bns_to_validate_varz cdd_rules notify_level "+"disable_canaries_on_turnup strict_proto_conversion ";var mclKeywords="actual_params alert alert_graph aligned_to_epoch axis_label "+"axis_label2 bigtable console constant_line_tuples deprecated "+"destination_list drain_impacts drain_params supercluster drain_type "+"drilldown duration email escalate expression fetch fetch_left "+"fetch_right from_address graph group_by group_by_labels gslb_service "+
"html html_template_body interpolation_gap kind labels log_scale "+"mdb_role metric module module_name name output_gap page description "+"precompute precomputed precompute_name predicates query query_delay "+"queries queue replication_level sampling schema show_alert_threshold "+"smoothing stacked stages template_body template_subject threshold "+"trigger_duration graph_precomputed workflow y_axis yaxis_max "+"yaxis_min yaxis_max2 yaxis_min2 ";var tdpKeywords="Workflow actions execution "+"Action type settings depends_on custom_mpm_action "+
"CustomMpmAction mpm_pkg_name mpm_pkg_binary mpm_pkg_version extra_argv"+"Execution borg_params "+"BorgParameters accounting args permissions requirements runtime "+"scheduling";var number=/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?[\d_]*|\.[\d_]+)(?:e[-+]?[\d_]+)?)[kmgtp]?/i;var gclConfig={name:"clike",keywords:words(gclKeywords),hooks:{"#":tokenLineComment},number:number};var bclConfig={name:"clike",keywords:words(gclKeywords+bclKeywords),hooks:{"#":tokenLineComment},isBCL:true,number:number};var mclConfig=
{name:"clike",keywords:words(gclKeywords+mclKeywords),hooks:{"#":tokenLineComment}};var nclConfig={name:"clike",keywords:words(gclKeywords),hooks:{},number:number};var tdpConfig={name:"clike",keywords:words(gclKeywords+tdpKeywords),hooks:{"#":tokenLineComment},number:number};CodeMirror.defineMode("gcl",function(config,parserConfig){function tokenizeMultilineStringFactory(symbol){return function(stream,state){if(!stream.match(symbol+symbol)){if(symbol=='"'&&modeConfig.isBCL)return tokenizeSingleLineDQString(stream,
state);return false}state.tokenize=function(stream,state){for(;!stream.eol();){stream.eatWhile(/[^'"\\]/);if(stream.eat("\\"))stream.next();else if(stream.match(symbol+symbol+symbol)){state.tokenize=null;return"string"}else stream.eat(/['"]/)}return"string"};return state.tokenize(stream,state)}}function tokenBorgVarInDQString(stream,state){stream.eat("%");state.tokenize=tokenizeSingleLineDQString;if(stream.match(/[\w\-.()]*%/))return"variable";return"string"}function tokenizeSingleLineDQString(stream,
state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next=="%"){stream.backUp(1);state.tokenize=tokenBorgVarInDQString;return"string"}if(next=='"'&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}if(end||!(escaped||multiLineStrings))state.tokenize=null;return"string"}var modeConfig=parserConfig.modeConfig||gclConfig;var multiLineStrings=parserConfig.multiLineStrings;modeConfig.hooks['"']=tokenizeMultilineStringFactory('"');modeConfig.hooks["'"]=tokenizeMultilineStringFactory("'");
var clikeMode=CodeMirror.getMode(config,modeConfig);return{startState:function(basecolumn){return clikeMode.startState(basecolumn)},token:function(stream,state){function popContext(state){var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}var style=clikeMode.token(stream,state);if(stream.eat("`")&&stream.skipTo("`"))return"";var ctx=state.context;if(stream.eol()&&ctx.type=="statement")popContext(state);return style},indent:function(state,
textAfter){return clikeMode.indent(state,textAfter)},electricChars:"}])",closeBrackets:"()[]{}''\"\"``",lineComment:"//",fold:"brace"}});CodeMirror.defineMIME("text/x-gcl",{name:"gcl",modeConfig:gclConfig});CodeMirror.defineMIME("text/x-gcl-mendel",{name:"gcl",modeConfig:gclConfig});CodeMirror.defineMIME("text/x-bcl",{name:"gcl",modeConfig:bclConfig});CodeMirror.defineMIME("text/x-mcl",{name:"gcl",modeConfig:mclConfig});CodeMirror.defineMIME("text/x-ncl",{name:"gcl",modeConfig:nclConfig});CodeMirror.defineMIME("text/x-tdp",
{name:"gcl",modeConfig:tdpConfig})})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../markdown/markdown"),require("../../addon/mode/overlay"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],mod);else mod(CodeMirror)})(function(CodeMirror){var urlRE=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/i;
CodeMirror.defineMode("gfm",function(config,modeConfig){function blankLine(state){state.code=false;return null}var codeDepth=0;var gfmOverlay={startState:function(){return{code:false,codeBlock:false,ateSpace:false}},copyState:function(s){return{code:s.code,codeBlock:s.codeBlock,ateSpace:s.ateSpace}},token:function(stream,state){state.combineTokens=null;if(state.codeBlock){if(stream.match(/^```+/)){state.codeBlock=false;return null}stream.skipToEnd();return null}if(stream.sol())state.code=false;if(stream.sol()&&
stream.match(/^```+/)){stream.skipToEnd();state.codeBlock=true;return null}if(stream.peek()==="`"){stream.next();var before=stream.pos;stream.eatWhile("`");var difference=1+stream.pos-before;if(!state.code){codeDepth=difference;state.code=true}else if(difference===codeDepth)state.code=false;return null}else if(state.code){stream.next();return null}if(stream.eatSpace()){state.ateSpace=true;return null}if(stream.sol()||state.ateSpace){state.ateSpace=false;if(modeConfig.gitHubSpice!==false)if(stream.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)){state.combineTokens=
true;return"link"}else if(stream.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)){state.combineTokens=true;return"link"}}if(stream.match(urlRE)&&stream.string.slice(stream.start-2,stream.start)!="]("&&(stream.start==0||/\W/.test(stream.string.charAt(stream.start-1)))){state.combineTokens=true;return"link"}stream.next();return null},blankLine:blankLine};var markdownConfig={taskLists:true,strikethrough:true,emoji:true};var attr;for(attr in modeConfig)markdownConfig[attr]=modeConfig[attr];
markdownConfig.name="markdown";return CodeMirror.overlayMode(CodeMirror.getMode(config,markdownConfig),gfmOverlay)},"markdown");CodeMirror.defineMIME("text/x-gfm","gfm")});/*


 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
CodeMirror.defineMode("glsl",function(config,parserConfig){function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(result!==false)return result}if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(/[\[\]{}\(\),;:\.]/.test(ch)){curPunc=ch;return"bracket"}if(/\d/.test(ch)){stream.eatWhile(/[\w\.]/);return"number"}if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();
return"comment"}}if(ch=="#"){stream.eatWhile(/[\S]+/);stream.eatWhile(/[\s]+/);stream.eatWhile(/[\S]+/);stream.eatWhile(/[\s]+/);return"comment"}if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);return"operator"}stream.eatWhile(/[\w\$_]/);var cur=stream.current();if(keywords.propertyIsEnumerable(cur)){if(blockKeywords.propertyIsEnumerable(cur))curPunc="newstatement";return"keyword"}if(builtins.propertyIsEnumerable(cur))return"builtin";if(atoms.propertyIsEnumerable(cur))return"atom";return"word"}
function tokenString(quote){return function(stream,state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}if(end||!(escaped||multiLineStrings))state.tokenize=tokenBase;return"string"}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return"comment"}function Context(indented,column,type,align,prev){this.indented=
indented;this.column=column;this.type=type;this.align=align;this.prev=prev}function pushContext(state,col,type){return state.context=new Context(state.indented,col,type,null,state.context)}function popContext(state){var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}var indentUnit=config.indentUnit;var keywords=parserConfig.keywords||words(glslKeywords);var builtins=parserConfig.builtins||words(glslBuiltins);var blockKeywords=
parserConfig.blockKeywords||words("case do else for if switch while struct");var atoms=parserConfig.atoms||words("null");var hooks=parserConfig.hooks||{};var multiLineStrings=parserConfig.multiLineStrings;var isOperatorChar=/[+\-*&%=<>!?|\/]/;var curPunc;return{startState:function(basecolumn){return{tokenize:null,context:new Context((basecolumn||0)-indentUnit,0,"top",false),indented:0,startOfLine:true}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=
false;state.indented=stream.indentation();state.startOfLine=true}if(stream.eatSpace())return null;curPunc=null;var style=(state.tokenize||tokenBase)(stream,state);if(style=="comment"||style=="meta")return style;if(ctx.align==null)ctx.align=true;if((curPunc==";"||curPunc==":")&&ctx.type=="statement")popContext(state);else if(curPunc=="{")pushContext(state,stream.column(),"}");else if(curPunc=="[")pushContext(state,stream.column(),"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(curPunc==
"}"){for(;ctx.type=="statement";)ctx=popContext(state);if(ctx.type=="}")ctx=popContext(state);for(;ctx.type=="statement";)ctx=popContext(state)}else if(curPunc==ctx.type)popContext(state);else if(ctx.type=="}"||ctx.type=="top"||ctx.type=="statement"&&curPunc=="newstatement")pushContext(state,stream.column(),"statement");state.startOfLine=false;return style},indent:function(state,textAfter){if(state.tokenize!=tokenBase&&state.tokenize!=null)return 0;var firstChar=textAfter&&textAfter.charAt(0);var ctx=
state.context;var closing=firstChar==ctx.type;if(ctx.type=="statement")return ctx.indented+(firstChar=="{"?0:indentUnit);else if(ctx.align)return ctx.column+(closing?0:1);else return ctx.indented+(closing?0:indentUnit)},electricChars:"{}"}});function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}
var glslKeywords="attribute const uniform varying break continue "+"do for while if else in out inout float int void bool true false "+"lowp mediump highp precision invariant discard return mat2 mat3 "+"mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler2D "+"samplerCube struct gl_FragCoord gl_FragColor";
var glslBuiltins="radians degrees sin cos tan asin acos atan pow "+"exp log exp2 log2 sqrt inversesqrt abs sign floor ceil fract mod "+"min max clamp mix step smoothstep length distance dot cross "+"normalize faceforward reflect refract matrixCompMult lessThan "+"lessThanEqual greaterThan greaterThanEqual equal notEqual any all "+"not dFdx dFdy fwidth texture2D texture2DProj texture2DLod "+"texture2DProjLod textureCube textureCubeLod require export";
function cppHook(stream,state){if(!state.startOfLine)return false;stream.skipToEnd();return"meta"}(function(){function tokenAtString(stream,state){var next;for(;(next=stream.next())!=null;)if(next=='"'&&!stream.eat('"')){state.tokenize=null;break}return"string"}CodeMirror.defineMIME("text/x-glsl",{name:"glsl",keywords:words(glslKeywords),builtins:words(glslBuiltins),blockKeywords:words("case do else for if switch while struct"),atoms:words("null"),hooks:{"#":cppHook}})})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("go",function(config){function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'"||ch=="`"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(/[\d\.]/.test(ch)){if(ch==".")stream.match(/^[0-9]+([eE][\-+]?[0-9]+)?/);
else if(ch=="0")stream.match(/^[xX][0-9a-fA-F]+/)||stream.match(/^0[0-7]+/);else stream.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/);return"number"}if(/[\[\]{}\(\),;:\.]/.test(ch)){curPunc=ch;return null}if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}}if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);return"operator"}stream.eatWhile(/[\w\$_\xa1-\uffff]/);var cur=stream.current();if(keywords.propertyIsEnumerable(cur)){if(cur==
"case"||cur=="default")curPunc="case";return"keyword"}if(atoms.propertyIsEnumerable(cur))return"atom";return"variable"}function tokenString(quote){return function(stream,state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&quote!="`"&&next=="\\"}if(end||!(escaped||quote=="`"))state.tokenize=tokenBase;return"string"}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&
maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return"comment"}function Context(indented,column,type,align,prev){this.indented=indented;this.column=column;this.type=type;this.align=align;this.prev=prev}function pushContext(state,col,type){return state.context=new Context(state.indented,col,type,null,state.context)}function popContext(state){if(!state.context.prev)return;var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}
var indentUnit=config.indentUnit;var keywords={"break":true,"case":true,"chan":true,"const":true,"continue":true,"default":true,"defer":true,"else":true,"fallthrough":true,"for":true,"func":true,"go":true,"goto":true,"if":true,"import":true,"interface":true,"map":true,"package":true,"range":true,"return":true,"select":true,"struct":true,"switch":true,"type":true,"var":true,"bool":true,"byte":true,"complex64":true,"complex128":true,"float32":true,"float64":true,"int8":true,"int16":true,"int32":true,
"int64":true,"string":true,"uint8":true,"uint16":true,"uint32":true,"uint64":true,"int":true,"uint":true,"uintptr":true,"error":true,"rune":true,"any":true,"comparable":true};var atoms={"true":true,"false":true,"iota":true,"nil":true,"append":true,"cap":true,"close":true,"complex":true,"copy":true,"delete":true,"imag":true,"len":true,"make":true,"new":true,"panic":true,"print":true,"println":true,"real":true,"recover":true};var isOperatorChar=/[+\-*&^%:=<>!|\/]/;var curPunc;return{startState:function(basecolumn){return{tokenize:null,
context:new Context((basecolumn||0)-indentUnit,0,"top",false),indented:0,startOfLine:true}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=false;state.indented=stream.indentation();state.startOfLine=true;if(ctx.type=="case")ctx.type="}"}if(stream.eatSpace())return null;curPunc=null;var style=(state.tokenize||tokenBase)(stream,state);if(style=="comment")return style;if(ctx.align==null)ctx.align=true;if(curPunc=="{")pushContext(state,stream.column(),
"}");else if(curPunc=="[")pushContext(state,stream.column(),"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(curPunc=="case")ctx.type="case";else if(curPunc=="}"&&ctx.type=="}")popContext(state);else if(curPunc==ctx.type)popContext(state);state.startOfLine=false;return style},indent:function(state,textAfter){if(state.tokenize!=tokenBase&&state.tokenize!=null)return CodeMirror.Pass;var ctx=state.context;var firstChar=textAfter&&textAfter.charAt(0);if(ctx.type=="case"&&/^(?:case|default)\b/.test(textAfter)){state.context.type=
"}";return ctx.indented}var closing=firstChar==ctx.type;if(ctx.align)return ctx.column+(closing?0:1);else return ctx.indented+(closing?0:indentUnit)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});CodeMirror.defineMIME("text/x-go","go")});/*

 Copyright (C) 2016 by Marijn Haverbeke <marijnh@gmail.com> and others
 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
(function(){var GoogleSqlModeConfig;CodeMirror.defineMode("googlesql",function(config,parserConfig){function backtickHook(stream){var ch;for(;(ch=stream.next())!=null;)if(ch==="`"&&!stream.eat("`"))return"variable-2";return null}function macroHook(stream){if(stream.match(/^[_a-zA-Z]\w*/))return"variable-2";return null}function set(str){return str.split(/[ \n]+/).reduce(function(obj,word){obj[word]=true;return obj},{})}function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=
hooks[ch](stream,state);if(result!==false)return result}if(ch==="0"&&stream.match(/^[xX][0-9a-fA-F]+/)||(ch==="x"||ch==="X")&&stream.match(/^'[0-9a-fA-F]+'/))return"number";else if(ch.charCodeAt(0)>47&&ch.charCodeAt(0)<58){stream.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/);stream.eat(".");return"number"}else if(ch==="'"||ch==='"'){state.tokenize=tokenLiteral(ch);return state.tokenize(stream,state)}else if(/^[\(\),;\[\]]/.test(ch))return null;else if(isSingleLineComment(ch,stream)){stream.skipToEnd();
return"comment"}else if(ch==="/"&&stream.eat("*")){state.tokenize=tokenMultilineComment;return state.tokenize(stream,state)}else if(ch==="."){if(stream.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";return null}else if(operatorChars.test(ch)){stream.eatWhile(operatorChars);return null}stream.eatWhile(/^[_\w\d]/);var word=stream.current().toLowerCase();if(atoms.hasOwnProperty(word))return"atom";if(builtin.hasOwnProperty(word))return"builtin";if(keywords.hasOwnProperty(word))return"keyword";if(functions.hasOwnProperty(word))return"qualifier";
if(client.hasOwnProperty(word))return"variable-3";return null}function isSingleLineComment(ch,stream){return ch==="#"||(ch==="-"||ch==="/")&&stream.eat(ch)}function tokenLiteral(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch===quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&ch==="\\"}return"string"}}function tokenMultilineComment(stream,state){for(;true;)if(stream.skipTo("*")){stream.next();if(stream.eat("/")){state.tokenize=tokenBase;
break}}else{stream.skipToEnd();break}return"comment"}var base_keywords="all and any as asc assert_rows_modified at between by case collate\n             contains create cross cube current default define desc distinct\n             else end escape except exclude exists extract fetch following for\n             from full group grouping groups hash having if ignore in inner\n             intersect interval into is join lateral left like limit lookup\n             materialized merge natural new no not nulls of on or order outer\n             over partition preceding range recursive respect right rollup rows\n             select set some tablesample then to treat type unbounded union\n             unnest using when where window with within "+
"day dayofweek dayofyear hour microsecond millisecond minute month\n             quarter second week year "+"nfc nfd nfkc nfkd "+"temp temporary function returns language js "+"delete insert update";var base_functions="any_value array_agg array_concat_agg avg bit_and bit_count bit_or\n             bit_xor corr count countif covar_pop covar_samp cume_dist\n             dense_rank first_value lag last_value lead logical_and logical_or\n             max min nth_value ntile percent_rank percentile_cont rank\n             row_number stddev stddev_pop stddev_samp string_agg sum var_pop\n             var_samp variance "+
"approx_count_distinct approx_quantiles approx_top_count\n             approx_top_sum "+"hll init merge_partial "+"array_concat array_length array_reverse array_to_string\n             generate_array generate_date_array offset ordinal safe_offset\n             safe_ordinal "+"bit_cast_to_int32 bit_cast_to_int64 bit_cast_to_uint32\n             bit_cast_to_uint64 cast safe_cast safe_convert_bytes_to_string "+"abs ceil ceiling div exp floor ieee_divide is_inf is_nan ln log\n             log10 log2 mod pow power rand round safe_divide sign sqrt trunc "+
"acos acosh asin asinh atan atan2 atanh cos cosh sin sinh tan\n             tanh "+"farm_fingerprint fingerprint2011 md5 positive_signed_fingerprint\n             sha1 sha256 sha512 "+"from_base64 to_base64 "+"greatest least "+"concat ends_with instr locate lower lpad ltrim rpad\n             rtrim split starts_with substr trim upper "+"byte_length char_length character_length code_points_to_bytes\n             code_points_to_string extract_regexp format hex_string is_empty\n             length normalize normalize_and_casefold regexp_contains\n             regexp_extract regexp_extract_all regexp_match regexp_replace\n             repeat replace reverse strpos to_code_points "+
"date_add date_diff date_sub date_trunc datetime_add datetime_diff\n             datetime_sub datetime_trunc time_add time_diff time_sub\n             time_trunc timestamp_add timestamp_diff timestamp_sub\n             timestamp_trunc "+"current_date current_datetime current_time current_timestamp\n             date_from_unix_date format_date format_datetime format_time\n             format_timestamp now parse_date parse_datetime parse_time\n             parse_timestamp timestamp_micros timestamp_millis timestamp_seconds\n             unix_date unix_micros unix_millis unix_seconds "+
"ip_from_string safe_ip_from_string ip_to_string ip_net_mask\n             ip_trunc ipv4_from_int64 ipv4_to_int64 ip_in_net make_net net host\n             public_suffix reg_domain "+"coalesce ifnull nullif "+"json_extract json_extract_scalar session_user";var base_types="array bool bytes date datetime double enum float int32 int64 proto\n             string struct time timestamp uint32 uint64";var base_atoms="false null true";var base_operator_chars=/^[*+\-%<>!=&|~^]/;var base_hooks={"`":backtickHook,
"$":macroHook};var atoms=parserConfig.atoms?set(base_atoms+" "+parserConfig.atoms):set(base_atoms);var builtin=parserConfig.builtin?set(base_types+" "+parserConfig.builtin):set(base_types);var keywords=parserConfig.keywords?set(base_keywords+" "+parserConfig.keywords):set(base_keywords);var functions=parserConfig.functions?set(base_functions+" "+parserConfig.functions):set(base_functions);var client=parserConfig.client?set(parserConfig.client):{};var operatorChars=parserConfig.operatorChars||base_operator_chars;
var hooks=parserConfig.hooks||base_hooks;var State=function(){this.tokenize=tokenBase;this.numTokensSinceSpace=0;this.parenBracketBalance=0;this.unbalancedOpenParenBracketPositions=[];this.thenOnLine=false;this.token="";this.tokenStyle="";this.lineIndent=0;this.tokenPos=0;this.cursorPos=0;this.lineFirstToken=""};return{startState:function(){return new State},token:function(stream,state){if(stream.eatSpace()){state.numTokensSinceSpace=0;return null}var style=state.tokenize(stream,state);var token=
stream.current().toUpperCase();var tokenPos=stream.column();var lineIndent=stream.indentation();if(lineIndent===tokenPos){state.lineFirstToken=token;state.parenBracketBalance=0;state.unbalancedOpenParenBracketPositions=[];state.thenOnLine=false}if(token==="("||token==="["){state.parenBracketBalance++;state.unbalancedOpenParenBracketPositions.push(tokenPos)}else if(token===")"||token==="]"){state.parenBracketBalance--;state.unbalancedOpenParenBracketPositions.pop()}else if(token==="THEN")state.thenOnLine=
true;state.token=token;state.tokenStyle=style;state.numTokensSinceSpace++;state.lineIndent=lineIndent;state.tokenPos=tokenPos;state.cursorPos=tokenPos+token.length;return style},indent:function(state,textAfter){if(state.token===";"||!state.cursorPos)return 0;if(["comment","builtin"].includes(state.tokenStyle))return state.lineIndent;if(state.token===","&&(state.lineFirstToken==="AS"||state.parenBracketBalance<0))return Math.max(0,state.lineIndent-(state.lineFirstToken==="AS"&&state.parenBracketBalance<
0?4:2));if(["(","<","[","{"].includes(state.token))return state.lineIndent+2;if(state.parenBracketBalance>0&&state.unbalancedOpenParenBracketPositions.length>0)return state.unbalancedOpenParenBracketPositions[state.unbalancedOpenParenBracketPositions.length-1]+1;if((state.token===")"||state.token==="]")&&state.parenBracketBalance<0)return Math.max(0,state.lineIndent-2-(state.lineFirstToken==="AS"?2:0));if(state.token==="=")return state.lineIndent+2;if(state.lineFirstToken==="WHEN")return state.lineIndent+
(state.thenOnLine?0:2);if(state.lineFirstToken==="THEN"&&state.token!="THEN")return Math.max(0,state.lineIndent-2);if(["UNION","END"].includes(state.lineFirstToken))return state.lineIndent;if(state.lineFirstToken=="CREATE")return state.lineIndent;if(state.lineFirstToken=="DEFINE")return state.lineIndent+2;if(["AND","OR"].includes(state.token)&&state.lineFirstToken!="WHERE")return state.lineIndent;if(state.tokenStyle==="keyword")return state.lineIndent+2;return state.lineIndent},blockCommentStart:"/*",
blockCommentEnd:"*/",lineComment:parserConfig.commentSequence||"#"}});var auxStatements="alter begin commit data describe drop explain export external\n    grant rename revoke rollback show unset table temp temporary view"+" assert";CodeMirror.defineMIME("text/x-google-sql",{name:"googlesql"});CodeMirror.defineMIME("text/x-google-sql-aux",{name:"googlesql",client:auxStatements});var setVariables="accounting_group auto_infer_schema check_user_access comment\n      dc2_max_view_staleness_sec disabled_optimizers\n      enable_script_optimization gcp_project_id io_timeout materialize_overwrite\n      materialize_owner_group min_completion_ratio num_reserved_slots\n      query_engine query_priority run_in_cells run_in_parallel_cells\n      use_block_index enable_proto2 materialize_empty_partitions\n      data_freshness_policy dat_policy f1_instance sql_dialect";
var plxKeywords="file load options run macro "+setVariables;CodeMirror.defineMIME("text/x-google-sql-plx",{name:"googlesql",keywords:plxKeywords,client:auxStatements,commentSequence:"--"});CodeMirror.defineMode("googlesql-test",function(config,parserConfig){var sqlTestOverlay={token:function(stream,state){if(stream.sol()&&stream.match(/^==|^--/)&&stream.eol())return"bracket strong";stream.skipToEnd();return null}};return CodeMirror.overlayMode(CodeMirror.getMode(config,parserConfig.backdrop||"text/x-google-sql"),
sqlTestOverlay)});CodeMirror.defineMIME("text/x-google-sql-test",{name:"googlesql-test"})})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var keywords={"always_safe":false,"canonical":false,"dedup":false,"false":false,"generate":false,"generate_feedback":false,"genie":false,"genie_only":false,"no_genie":false,"high":false,"lang":false,"low":false,"medium":false,"no_answer_check":false,"not_tokenized":false,
"personalizedsearch":false,"proto":false,"skipifmatches":false,"true":false,"ttl_duration":false,"ttl_queries":false,"TASK":false,"PERSONALITY":false,"SEARCH":false,"PERSONAL_SEARCH":false,"CHAT":false,"FACT":false,"HELP":false,"MEMORY_FALLBACK":false,"SAFESEARCH":false,"FOREIGN":false,"GENERAL_FALLBACK":false,"GAME":false,"ABUSE":false,"PERSONALITY_FALLBACK":false,"SEARCH_FALLBACK":false,"ACTION":false,"ACTION_FALLBACK":false,"OVERRIDE":false,"WAA":false,"WAA_OVERRIDE":false};var builtin={"arg":false,
"call":false,"call_rewrite":false,"counterexample":true,"example":true,"exclude":false,"message":false,"message_for_unsafe":false,"message_prefix":false,"message_prefix_for_unsafe":false,"message_suffix":false,"message_suffix_for_unsafe":false,"option":false,"package":false,"priority":false,"require":false,"rewrite":false,"search":false,"set":false,"source":false,"suggest":false,"test_match":true,"test_no_match":true,"test_no_win":true,"test_win":true,"unset":false};var suggest=["score_boost"];CodeMirror.defineMode("gr",
function(config,parserConfig){function stringMode(stream,state){var next=stream.next();if(next=='"'){state.isString=false;return"string"}else if(next=="$"){stream.eatWhile(/[a-zA-Z_.0-9:]/);return"variable-2"}else if(next=="/"&&state.doesStringContainAnnotation){stream.eatWhile(/[-a-zA-Z_0-9]/);return"variable-2"}else if(";|(){}".indexOf(next)!=-1)return"punctuation";else{var escaped=false;for(;next!=null;){if(!escaped)if(next=='"'){state.isString=false;break}escaped=!escaped&&next=="\\";var peek=
stream.peek();if(!escaped&&"$/;|(){}".indexOf(peek)!=-1)break;next=stream.next()}return"string"}}function beginSentenceMode(stream,state,next){if(state.inAngleBracket){if(next==">"){state.inAngleBracket=false;return"bracket"}if(next=="="){state.atBeginningSentence=false;state.inRuleDefinition=true;state.inAngleBracket=false;state.indent=2;return"error"}if(next==";"){state.inAngleBracket=false;return"error"}if(next==":")return"punctuation";stream.eatWhile(/[-a-zA-Z_0-9\.]/);if("-0123456789".indexOf(next)!=
-1)return"number";return stream.current()=="score_boost"?"keyword":"error"}if(next=="="){state.atBeginningSentence=false;state.inRuleDefinition=true;state.indent=2;return"def"}else if(next=="<"){state.inAngleBracket=true;return"bracket"}else if(next=="$"){if(stream.peek()=="$")stream.next();stream.eatWhile(/[a-zA-Z_0-9\.]/);return"def"}else{stream.eatWhile(/[a-zA-Z_0-9]/);var cur=stream.current();if(cur in builtin){state.atBeginningSentence=false;state.doesStringContainAnnotation=builtin[cur];return"builtin"}return"error"}}
return{startState:function(basecolumn){var state={indent:basecolumn||0,inRuleDefinition:false,inAngleBracket:false,atBeginningSentence:true,isString:false,doesStringContainAnnotation:false,bracketStack:[]};return state},token:function(stream,state){if(state.isString)return stringMode(stream,state);if(stream.eatSpace())return null;var next=stream.next();if(next=="/"&&stream.peek()=="/"){stream.skipToEnd();return"comment"}else if(next>="0"&&next<="9"){stream.match(/^[0-9]*\.?[0-9]+/);return"number"}else if(next==
'"'){state.isString=true;return"string"}else if(state.atBeginningSentence)return beginSentenceMode(stream,state,next);if(next=="$"){stream.eatWhile(/[a-zA-Z_0-9\.:]/);return"variable-2"}else if(next=="/"){stream.eatWhile(/[-a-zA-Z_0-9]/);return"variable-2"}else if(next==";"){if(state.bracketStack[state.bracketStack.length-1]=="}")return"bracket";var isError=state.inAngleBracket||state.indent!=(state.inRuleDefinition?2:0);state.atBeginningSentence=true;state.inRuleDefinition=false;state.inAngleBracket=
false;state.inBracketsCount=0;state.doesStringContainAnnotation=false;state.indent=0;return isError?"error":"punctuation"}else if(next.match(/[-,+#\/!&|=:?]/))return"operator";else if(next.match(/[\[\]\(\)\{\}<>]/)){var openbra="({[<".indexOf(next);if(openbra>-1){state.indent+=2;state.bracketStack.push(")}]>"[openbra]);return state.inRuleDefinition&&openbra?"bracket":"punctuation"}else{state.indent-=2;if(state.bracketStack.pop()!=next)return"error";return state.inRuleDefinition&&next!=")"?"bracket":
"punctuation"}}else if(stream.current().match(/^[a-zA-Z_\-0-9\xa1-\u1FFF\u2010-\u2fff\u3001-\uFEFF]+$/)){stream.eatWhile(/[a-zA-Z_\-0-9\xa1-\u1FFF\u2010-\u2fff\u3001-\uFEFF]/);var cur=stream.current();var nextchar=stream.peek();if(state.inRuleDefinition){if(cur=="r"&&nextchar=='"')return"string";else if(cur=="ANY")return"keyword";else if(cur=="J"||cur=="S")return nextchar=="{"?"bracket":"error";else if(state.bracketStack[state.bracketStack.length-1]==">"||nextchar==":"||nextchar=="<")return"def";
return"atom"}else if(cur in keywords)return"keyword";else return"variable"}else return"error"},indent:function(state,textAfter){var this_indent=state.indent;if(this_indent>0)if(/^\s*[\}\]\)]/.test(textAfter))this_indent=this_indent-2;else if(state.inRuleDefinition){var inner_bracket=state.bracketStack[state.bracketStack.length-1];if((inner_bracket==")"||inner_bracket=="]")&&/^\s*\|/.test(textAfter)||inner_bracket=="}"&&/^\s*;/.test(textAfter))this_indent=this_indent-2}return this_indent},electricInput:/^\s*[\}\]\);\|]/,
lineComment:"//",fold:["brace"]}});CodeMirror.registerHelper("hintWords","gr",suggest.concat(Object.keys(keywords),Object.keys(builtin)));CodeMirror.defineMIME("text/x-gbot-gr",{name:"gr"})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("groovy",function(config){function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'")return startString(ch,stream,
state);if(/[\[\]{}\(\),;:\.]/.test(ch)){curPunc=ch;return null}if(/\d/.test(ch)){stream.eatWhile(/[\w\.]/);if(stream.eat(/eE/)){stream.eat(/\+\-/);stream.eatWhile(/\d/)}return"number"}if(ch=="/"){if(stream.eat("*")){state.tokenize.push(tokenComment);return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}if(expectExpression(state.lastToken,false))return startString(ch,stream,state)}if(ch=="-"&&stream.eat(">")){curPunc="->";return null}if(/[+\-*&%=<>!?|\/~]/.test(ch)){stream.eatWhile(/[+\-*&%=<>|~]/);
return"operator"}stream.eatWhile(/[\w\$_]/);if(ch=="@"){stream.eatWhile(/[\w\$_\.]/);return"meta"}if(state.lastToken==".")return"property";if(stream.eat(":")){curPunc="proplabel";return"property"}var cur=stream.current();if(atoms.propertyIsEnumerable(cur))return"atom";if(keywords.propertyIsEnumerable(cur)){if(blockKeywords.propertyIsEnumerable(cur))curPunc="newstatement";else if(standaloneKeywords.propertyIsEnumerable(cur))curPunc="standalone";return"keyword"}return"variable"}function startString(quote,
stream,state){function t(stream,state){var escaped=false;var next;var end=!tripleQuoted;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){if(!tripleQuoted)break;if(stream.match(quote+quote)){end=true;break}}if(quote=='"'&&next=="$"&&!escaped)if(stream.eat("{")){state.tokenize.push(tokenBaseUntilBrace());return"string"}else if(stream.match(/^\w/,false)){state.tokenize.push(tokenVariableDeref);return"string"}escaped=!escaped&&next=="\\"}if(end)state.tokenize.pop();return"string"}var tripleQuoted=
false;if(quote!="/"&&stream.eat(quote))if(stream.eat(quote))tripleQuoted=true;else return"string";state.tokenize.push(t);return t(stream,state)}function tokenBaseUntilBrace(){function t(stream,state){if(stream.peek()=="}"){depth--;if(depth==0){state.tokenize.pop();return state.tokenize[state.tokenize.length-1](stream,state)}}else if(stream.peek()=="{")depth++;return tokenBase(stream,state)}var depth=1;t.isBase=true;return t}function tokenVariableDeref(stream,state){var next=stream.match(/^(\.|[\w\$_]+)/);
if(!next){state.tokenize.pop();return state.tokenize[state.tokenize.length-1](stream,state)}return next[0]=="."?null:"variable"}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize.pop();break}maybeEnd=ch=="*"}return"comment"}function expectExpression(last,newline){return!last||last=="operator"||last=="->"||/[\.\[\{\(,;:]/.test(last)||last=="newstatement"||last=="keyword"||last=="proplabel"||last=="standalone"&&!newline}function Context(indented,
column,type,align,prev){this.indented=indented;this.column=column;this.type=type;this.align=align;this.prev=prev}function pushContext(state,col,type){return state.context=new Context(state.indented,col,type,null,state.context)}function popContext(state){var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}var keywords=words("abstract as assert boolean break byte case catch char class const continue def default "+"do double else enum extends final finally float for goto if implements import in "+
"instanceof int interface long native new package private protected public return "+"short static strictfp super switch synchronized threadsafe throw throws trait transient "+"try void volatile while");var blockKeywords=words("catch class def do else enum finally for if interface switch trait try while");var standaloneKeywords=words("return break continue");var atoms=words("null true false this");var curPunc;tokenBase.isBase=true;return{startState:function(basecolumn){return{tokenize:[tokenBase],
context:new Context((basecolumn||0)-config.indentUnit,0,"top",false),indented:0,startOfLine:true,lastToken:null}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=false;state.indented=stream.indentation();state.startOfLine=true;if(ctx.type=="statement"&&!expectExpression(state.lastToken,true)){popContext(state);ctx=state.context}}if(stream.eatSpace())return null;curPunc=null;var style=state.tokenize[state.tokenize.length-1](stream,state);if(style=="comment")return style;
if(ctx.align==null)ctx.align=true;if((curPunc==";"||curPunc==":")&&ctx.type=="statement")popContext(state);else if(curPunc=="->"&&ctx.type=="statement"&&ctx.prev.type=="}"){popContext(state);state.context.align=false}else if(curPunc=="{")pushContext(state,stream.column(),"}");else if(curPunc=="[")pushContext(state,stream.column(),"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(curPunc=="}"){for(;ctx.type=="statement";)ctx=popContext(state);if(ctx.type=="}")ctx=popContext(state);
for(;ctx.type=="statement";)ctx=popContext(state)}else if(curPunc==ctx.type)popContext(state);else if(ctx.type=="}"||ctx.type=="top"||ctx.type=="statement"&&curPunc=="newstatement")pushContext(state,stream.column(),"statement");state.startOfLine=false;state.lastToken=curPunc||style;return style},indent:function(state,textAfter){if(!state.tokenize[state.tokenize.length-1].isBase)return CodeMirror.Pass;var firstChar=textAfter&&textAfter.charAt(0);var ctx=state.context;if(ctx.type=="statement"&&!expectExpression(state.lastToken,
true))ctx=ctx.prev;var closing=firstChar==ctx.type;if(ctx.type=="statement")return ctx.indented+(firstChar=="{"?0:config.indentUnit);else if(ctx.align)return ctx.column+(closing?0:1);else return ctx.indented+(closing?0:config.indentUnit)},electricChars:"{}",closeBrackets:{triples:"'\""},fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});CodeMirror.defineMIME("text/x-groovy","groovy")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../ruby/ruby"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("haml",function(config){function rubyInQuote(endQuote){return function(stream,state){var ch=stream.peek();if(ch==endQuote&&state.rubyState.tokenize.length==
1){stream.next();state.tokenize=html;return"closeAttributeTag"}else return ruby(stream,state)}}function ruby(stream,state){if(stream.match("-#")){stream.skipToEnd();return"comment"}return rubyMode.token(stream,state.rubyState)}function html(stream,state){var ch=stream.peek();if(state.previousToken.style=="comment")if(state.indented>state.previousToken.indented){stream.skipToEnd();return"commentLine"}if(state.startOfLine)if(ch=="!"&&stream.match("!!")){stream.skipToEnd();return"tag"}else if(stream.match(/^%[\w:#\.]+=/)){state.tokenize=
ruby;return"hamlTag"}else if(stream.match(/^%[\w:]+/))return"hamlTag";else if(ch=="/"){stream.skipToEnd();return"comment"}if(state.startOfLine||state.previousToken.style=="hamlTag")if(ch=="#"||ch=="."){stream.match(/[\w-#\.]*/);return"hamlAttribute"}if(state.startOfLine&&!stream.match("--\x3e",false)&&(ch=="="||ch=="-")){state.tokenize=ruby;return state.tokenize(stream,state)}if(state.previousToken.style=="hamlTag"||state.previousToken.style=="closeAttributeTag"||state.previousToken.style=="hamlAttribute")if(ch==
"("){state.tokenize=rubyInQuote(")");return state.tokenize(stream,state)}else if(ch=="{")if(!stream.match(/^\{%.*/)){state.tokenize=rubyInQuote("}");return state.tokenize(stream,state)}return htmlMode.token(stream,state.htmlState)}var htmlMode=CodeMirror.getMode(config,{name:"htmlmixed"});var rubyMode=CodeMirror.getMode(config,"ruby");return{startState:function(){var htmlState=CodeMirror.startState(htmlMode);var rubyState=CodeMirror.startState(rubyMode);return{htmlState:htmlState,rubyState:rubyState,
indented:0,previousToken:{style:null,indented:0},tokenize:html}},copyState:function(state){return{htmlState:CodeMirror.copyState(htmlMode,state.htmlState),rubyState:CodeMirror.copyState(rubyMode,state.rubyState),indented:state.indented,previousToken:state.previousToken,tokenize:state.tokenize}},token:function(stream,state){if(stream.sol()){state.indented=stream.indentation();state.startOfLine=true}if(stream.eatSpace())return null;var style=state.tokenize(stream,state);state.startOfLine=false;if(style&&
style!="commentLine")state.previousToken={style:style,indented:state.indented};if(stream.eol()&&state.tokenize==ruby){stream.backUp(1);var ch=stream.peek();stream.next();if(ch&&ch!=",")state.tokenize=html}if(style=="hamlTag")style="tag";else if(style=="commentLine")style="comment";else if(style=="hamlAttribute")style="attribute";else if(style=="closeAttributeTag")style=null;return style}}},"htmlmixed","ruby");CodeMirror.defineMIME("text/x-haml","haml")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../addon/mode/simple"),require("../../addon/mode/multiplex"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../addon/mode/simple","../../addon/mode/multiplex"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",
token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:true,token:"tag"}],handlebars:[{regex:/\}\}/,pop:true,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,
token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:true,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:true,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}});CodeMirror.defineMode("handlebars",function(config,parserConfig){var handlebars=CodeMirror.getMode(config,"handlebars-tags");if(!parserConfig||!parserConfig.base)return handlebars;return CodeMirror.multiplexingMode(CodeMirror.getMode(config,parserConfig.base),
{open:"{{",close:/\}\}\}?/,mode:handlebars,parseDelimiters:true})});CodeMirror.defineMIME("text/x-handlebars-template","handlebars")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("haskell",function(_config,modeConfig){function switchState(source,setState,f){setState(f);return f(source,setState)}function normal(source,setState){if(source.eatWhile(whiteCharRE))return null;var ch=source.next();if(specialRE.test(ch)){if(ch=="{"&&
source.eat("-")){var t="comment";if(source.eat("#"))t="meta";return switchState(source,setState,ncomment(t,1))}return null}if(ch=="'"){if(source.eat("\\"))source.next();else source.next();if(source.eat("'"))return"string";return"string error"}if(ch=='"')return switchState(source,setState,stringLiteral);if(largeRE.test(ch)){source.eatWhile(idRE);if(source.eat("."))return"qualifier";return"variable-2"}if(smallRE.test(ch)){source.eatWhile(idRE);return"variable"}if(digitRE.test(ch)){if(ch=="0"){if(source.eat(/[xX]/)){source.eatWhile(hexitRE);
return"integer"}if(source.eat(/[oO]/)){source.eatWhile(octitRE);return"number"}}source.eatWhile(digitRE);t="number";if(source.match(/^\.\d+/))t="number";if(source.eat(/[eE]/)){t="number";source.eat(/[-+]/);source.eatWhile(digitRE)}return t}if(ch=="."&&source.eat("."))return"keyword";if(symbolRE.test(ch)){if(ch=="-"&&source.eat(/-/)){source.eatWhile(/-/);if(!source.eat(symbolRE)){source.skipToEnd();return"comment"}}t="variable";if(ch==":")t="variable-2";source.eatWhile(symbolRE);return t}return"error"}
function ncomment(type,nest){if(nest==0)return normal;return function(source,setState){var currNest=nest;for(;!source.eol();){var ch=source.next();if(ch=="{"&&source.eat("-"))++currNest;else if(ch=="-"&&source.eat("}")){--currNest;if(currNest==0){setState(normal);return type}}}setState(ncomment(type,currNest));return type}}function stringLiteral(source,setState){for(;!source.eol();){var ch=source.next();if(ch=='"'){setState(normal);return"string"}if(ch=="\\"){if(source.eol()||source.eat(whiteCharRE)){setState(stringGap);
return"string"}if(source.eat("&"));else source.next()}}setState(normal);return"string error"}function stringGap(source,setState){if(source.eat("\\"))return switchState(source,setState,stringLiteral);source.next();setState(normal);return"error"}var smallRE=/[a-z_]/;var largeRE=/[A-Z]/;var digitRE=/\d/;var hexitRE=/[0-9A-Fa-f]/;var octitRE=/[0-7]/;var idRE=/[a-z_A-Z0-9'\xa1-\uffff]/;var symbolRE=/[-!#$%&*+.\/<=>?@\\^|~:]/;var specialRE=/[(),;[\]`{}]/;var whiteCharRE=/[ \t\v\f]/;var wellKnownWords=function(){function setType(t){return function(){var i=
0;for(;i<arguments.length;i++)wkw[arguments[i]]=t}}var wkw={};setType("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_");setType("keyword")("..",":","::","=","\\","<-","->","@","~","=>");setType("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<*","<=","<$>","<*>","=<<","==",">",">=",">>",">>=","^","^^","||","*","*>","**");setType("builtin")("Applicative",
"Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True");setType("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap",
"const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN",
"isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","pure","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl",
"scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3");var override=modeConfig.overrideKeywords;if(override){var word;for(word in override)if(override.hasOwnProperty(word))wkw[word]=
override[word]}return wkw}();return{startState:function(){return{f:normal}},copyState:function(s){return{f:s.f}},token:function(stream,state){var t=state.f(stream,function(s){state.f=s});var w=stream.current();return wellKnownWords.hasOwnProperty(w)?wellKnownWords[w]:t},blockCommentStart:"{-",blockCommentEnd:"-}",lineComment:"--"}});CodeMirror.defineMIME("text/x-haskell","haskell")});/*

 Copyright 2018 Google LLC.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

 @fileoverview Codemirror 2 mode for HCL files.
 @author octo@google.com (Florian Forster)
*/
(function(){var terraformKeywords={"atlas":true,"backend":true,"data":true,"locals":true,"module":true,"output":true,"provider":true,"resource":true,"terraform":true,"variable":true};var hclAtoms={"true":true,"false":true};var hclConfig={name:"clike"};var terraformConfig={name:"clike",keywords:terraformKeywords};var hclState=function(){this.tokenize};var hclContext=function(){this.indented;this.type};CodeMirror.defineMode("hcl",function(config,parserConfig){function stringTokenizer(stream,state){var escaped=
false;var next;for(;(next=stream.next())!=null;){if(next=='"'&&!escaped){state.tokenize=null;break}escaped=!escaped&&next=="\\"}return"string"}function heredocTokenizerFactory(delim){return function(stream,state){stream.eatSpace();if(stream.match(delim,true,false)&&stream.eol()){state.tokenize=null;return"string"}stream.skipToEnd();return"string"}}function heredocTokenizer(stream,state){if(!stream.eat("<"))return false;stream.eat("-");var delim="";for(;stream.peek()!=null;)delim=delim+stream.next();
state.tokenize=heredocTokenizerFactory(delim);return"string"}var modeConfig=parserConfig.modeConfig||terraformConfig;modeConfig.atoms=hclAtoms;modeConfig.hooks={'"':function(stream,state){state.tokenize=stringTokenizer;return state.tokenize(stream,state)},"'":function(stream){return"error"},"<":heredocTokenizer,"#":function(stream){stream.skipToEnd();return"comment"},"indent":function(state,ctx,textAfter){if(ctx.type=="statement")return ctx.indented;return false}};modeConfig.isPunctuationChar=/[{}\[\],]/;
modeConfig.isOperatorChar=/=/;var clikeMode=CodeMirror.getMode(config,modeConfig);return{startState:function(basecolumn){return clikeMode.startState(basecolumn)},token:function(stream,state){return clikeMode.token(stream,state)},indent:function(state,textAfter){if(state.tokenize)return 0;return clikeMode.indent(state,textAfter)},electricInput:/^\s*[}\]]$/,closeBrackets:"[]{}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"#",fold:"brace"}});CodeMirror.defineMIME("text/x-hcl",
{name:"hcl",modeConfig:hclConfig});CodeMirror.defineMIME("text/x-terraform",{name:"hcl",modeConfig:terraformConfig})})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.multiplexingMode=function(outer){function indexOf(string,pattern,from,returnEnd){if(typeof pattern=="string"){var found=string.indexOf(pattern,from);return returnEnd&&found>-1?found+pattern.length:found}var m=pattern.exec(from?string.slice(from):string);return m?
m.index+from+(returnEnd?m[0].length:0):-1}var others=Array.prototype.slice.call(arguments,1);return{startState:function(){return{outer:CodeMirror.startState(outer),innerActive:null,inner:null,startingInner:false}},copyState:function(state){return{outer:CodeMirror.copyState(outer,state.outer),innerActive:state.innerActive,inner:state.innerActive&&CodeMirror.copyState(state.innerActive.mode,state.inner),startingInner:state.startingInner}},token:function(stream,state){if(!state.innerActive){var cutOff=
Infinity;var oldContent=stream.string;var i=0;for(;i<others.length;++i){var other=others[i];var found=indexOf(oldContent,other.open,stream.pos);if(found==stream.pos){if(!other.parseDelimiters)stream.match(other.open);state.startingInner=!!other.parseDelimiters;state.innerActive=other;var outerIndent=0;if(outer.indent){var possibleOuterIndent=outer.indent(state.outer,"","");if(possibleOuterIndent!==CodeMirror.Pass)outerIndent=possibleOuterIndent}state.inner=CodeMirror.startState(other.mode,outerIndent);
return other.delimStyle&&other.delimStyle+" "+other.delimStyle+"-open"}else if(found!=-1&&found<cutOff)cutOff=found}if(cutOff!=Infinity)stream.string=oldContent.slice(0,cutOff);var outerToken=outer.token(stream,state.outer);if(cutOff!=Infinity)stream.string=oldContent;return outerToken}else{var curInner=state.innerActive;oldContent=stream.string;if(!curInner.close&&stream.sol()){state.innerActive=state.inner=null;return this.token(stream,state)}found=curInner.close&&!state.startingInner?indexOf(oldContent,
curInner.close,stream.pos,curInner.parseDelimiters):-1;if(found==stream.pos&&!curInner.parseDelimiters){stream.match(curInner.close);state.innerActive=state.inner=null;return curInner.delimStyle&&curInner.delimStyle+" "+curInner.delimStyle+"-close"}if(found>-1)stream.string=oldContent.slice(0,found);var innerToken=curInner.mode.token(stream,state.inner);if(found>-1)stream.string=oldContent;else if(stream.pos>stream.start)state.startingInner=false;if(found==stream.pos&&curInner.parseDelimiters)state.innerActive=
state.inner=null;if(curInner.innerStyle)if(innerToken)innerToken=innerToken+" "+curInner.innerStyle;else innerToken=curInner.innerStyle;return innerToken}},indent:function(state,textAfter,line){var mode=state.innerActive?state.innerActive.mode:outer;if(!mode.indent)return CodeMirror.Pass;return mode.indent(state.innerActive?state.inner:state.outer,textAfter,line)},blankLine:function(state){var mode=state.innerActive?state.innerActive.mode:outer;if(mode.blankLine)mode.blankLine(state.innerActive?state.inner:
state.outer);if(!state.innerActive){var i=0;for(;i<others.length;++i){var other=others[i];if(other.open==="\n"){state.innerActive=other;state.inner=CodeMirror.startState(other.mode,mode.indent?mode.indent(state.outer,"",""):0)}}}else if(state.innerActive.close==="\n")state.innerActive=state.inner=null},electricChars:outer.electricChars,innerMode:function(state){return state.inner?{state:state.inner,mode:state.innerActive.mode}:{state:state.outer,mode:outer}}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/multiplex"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("htmlembedded",function(config,parserConfig){var closeComment=parserConfig.closeComment||"--%>";return CodeMirror.multiplexingMode(CodeMirror.getMode(config,
"htmlmixed"),{open:parserConfig.openComment||"<%--",close:closeComment,delimStyle:"comment",mode:{token:function(stream){stream.skipTo(closeComment)||stream.skipToEnd();return"comment"}}},{open:parserConfig.open||parserConfig.scriptStartRegex||"<%",close:parserConfig.close||parserConfig.scriptEndRegex||"%>",mode:CodeMirror.getMode(config,parserConfig.scriptingModeSpec)})},"htmlmixed");CodeMirror.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"});CodeMirror.defineMIME("application/x-aspx",
{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"});CodeMirror.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"});CodeMirror.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){function maybeBackup(stream,pat,style){var cur=stream.current();var close=cur.search(pat);if(close>-1)stream.backUp(cur.length-close);else if(cur.match(/<\/?$/)){stream.backUp(cur.length);
if(!stream.match(pat,false))stream.match(cur)}return style}function getAttrRegexp(attr){var regexp=attrRegexpCache[attr];if(regexp)return regexp;return attrRegexpCache[attr]=new RegExp("\\s+"+attr+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function getAttrValue(text,attr){var match=text.match(getAttrRegexp(attr));return match?/^\s*(.*?)\s*$/.exec(match[2])[1]:""}function getTagRegexp(tagName,anchored){return new RegExp((anchored?"^":"")+"</\\s*"+tagName+"\\s*>","i")}function addTags(from,to){var tag;
for(tag in from){var dest=to[tag]||(to[tag]=[]);var source=from[tag];var i=source.length-1;for(;i>=0;i--)dest.unshift(source[i])}}function findMatchingMode(tagInfo,tagText){var i=0;for(;i<tagInfo.length;i++){var spec=tagInfo[i];if(!spec[0]||spec[1].test(getAttrValue(tagText,spec[0])))return spec[2]}}var defaultTags={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],
style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var attrRegexpCache={};CodeMirror.defineMode("htmlmixed",function(config,parserConfig){function html(stream,state){var style=htmlMode.token(stream,state.htmlState);var tag=/\btag\b/.test(style);var tagName;if(tag&&!/[<>\s\/]/.test(stream.current())&&(tagName=state.htmlState.tagName&&state.htmlState.tagName.toLowerCase())&&tags.hasOwnProperty(tagName))state.inTag=tagName+
" ";else if(state.inTag&&tag&&/>$/.test(stream.current())){var inTag=/^([\S]+) (.*)/.exec(state.inTag);state.inTag=null;var modeSpec=stream.current()==">"&&findMatchingMode(tags[inTag[1]],inTag[2]);var mode=CodeMirror.getMode(config,modeSpec);var endTagA=getTagRegexp(inTag[1],true);var endTag=getTagRegexp(inTag[1],false);state.token=function(stream,state){if(stream.match(endTagA,false)){state.token=html;state.localState=state.localMode=null;return null}return maybeBackup(stream,endTag,state.localMode.token(stream,
state.localState))};state.localMode=mode;state.localState=CodeMirror.startState(mode,htmlMode.indent(state.htmlState,"",""))}else if(state.inTag){state.inTag+=stream.current();if(stream.eol())state.inTag+=" "}return style}var htmlMode=CodeMirror.getMode(config,{name:"xml",htmlMode:true,multilineTagIndentFactor:parserConfig.multilineTagIndentFactor,multilineTagIndentPastTag:parserConfig.multilineTagIndentPastTag,allowMissingTagName:parserConfig.allowMissingTagName});var tags={};var configTags=parserConfig&&
parserConfig.tags;var configScript=parserConfig&&parserConfig.scriptTypes;addTags(defaultTags,tags);if(configTags)addTags(configTags,tags);if(configScript){var i=configScript.length-1;for(;i>=0;i--)tags.script.unshift(["type",configScript[i].matches,configScript[i].mode])}return{startState:function(){var state=CodeMirror.startState(htmlMode);return{token:html,inTag:null,localMode:null,localState:null,htmlState:state}},copyState:function(state){var local;if(state.localState)local=CodeMirror.copyState(state.localMode,
state.localState);return{token:state.token,inTag:state.inTag,localMode:state.localMode,localState:local,htmlState:CodeMirror.copyState(htmlMode,state.htmlState)}},token:function(stream,state){return state.token(stream,state)},indent:function(state,textAfter,line){if(!state.localMode||/^\s*<\//.test(textAfter))return htmlMode.indent(state.htmlState,textAfter,line);else if(state.localMode.indent)return state.localMode.indent(state.localState,textAfter,line);else return CodeMirror.Pass},innerMode:function(state){return{state:state.localState||
state.htmlState,mode:state.localMode||htmlMode}}}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("javascript",function(config,parserConfig){function readRegexp(stream){var escaped=false;var next;var inSet=false;for(;(next=stream.next())!=null;){if(!escaped){if(next=="/"&&!inSet)return;if(next=="[")inSet=true;else if(inSet&&next=="]")inSet=false}escaped=
!escaped&&next=="\\"}}function ret(tp,style,cont){type=tp;content=cont;return style}function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(ch=="."&&stream.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return ret("number","number");else if(ch=="."&&stream.match(".."))return ret("spread","meta");else if(/[\[\]{}\(\),;:\.]/.test(ch))return ret(ch);else if(ch=="="&&stream.eat(">"))return ret("=>","operator");else if(ch==
"0"&&stream.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return ret("number","number");else if(/\d/.test(ch)){stream.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/);return ret("number","number")}else if(ch=="/")if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}else if(stream.eat("/")){stream.skipToEnd();return ret("comment","comment")}else if(expressionAllowed(stream,state,1)){readRegexp(stream);stream.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return ret("regexp",
"string-2")}else{stream.eat("=");return ret("operator","operator",stream.current())}else if(ch=="`"){state.tokenize=tokenQuasi;return tokenQuasi(stream,state)}else if(ch=="#"&&stream.peek()=="!"){stream.skipToEnd();return ret("meta","meta")}else if(ch=="#"&&stream.eatWhile(wordRE))return ret("variable","property");else if(ch=="<"&&stream.match("!--")||ch=="-"&&stream.match("->")&&!/\S/.test(stream.string.slice(0,stream.start))){stream.skipToEnd();return ret("comment","comment")}else if(isOperatorChar.test(ch)){if(ch!=
">"||!state.lexical||state.lexical.type!=">")if(stream.eat("=")){if(ch=="!"||ch=="=")stream.eat("=")}else if(/[<>*+\-|&?]/.test(ch)){stream.eat(ch);if(ch==">")stream.eat(ch)}if(ch=="?"&&stream.eat("."))return ret(".");return ret("operator","operator",stream.current())}else if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current();if(state.lastType!="."){if(keywords.propertyIsEnumerable(word)){var kw=keywords[word];return ret(kw.type,kw.style,word)}if(word=="async"&&stream.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,
false))return ret("async","keyword",word)}return ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var escaped=false;var next;if(jsonldMode&&stream.peek()=="@"&&stream.match(isJsonldKeyword)){state.tokenize=tokenBase;return ret("jsonld-keyword","meta")}for(;(next=stream.next())!=null;){if(next==quote&&!escaped)break;escaped=!escaped&&next=="\\"}if(!escaped)state.tokenize=tokenBase;return ret("string","string")}}function tokenComment(stream,state){var maybeEnd=
false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return ret("comment","comment")}function tokenQuasi(stream,state){var escaped=false;var next;for(;(next=stream.next())!=null;){if(!escaped&&(next=="`"||next=="$"&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&next=="\\"}return ret("quasi","string-2",stream.current())}function findFatArrow(stream,state){if(state.fatArrowAt)state.fatArrowAt=null;var arrow=stream.string.indexOf("=>",
stream.start);if(arrow<0)return;if(isTS){var m=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start,arrow));if(m)arrow=m.index}var depth=0;var sawSomething=false;var pos=arrow-1;for(;pos>=0;--pos){var ch=stream.string.charAt(pos);var bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break}if(--depth==0){if(ch=="(")sawSomething=true;break}}else if(bracket>=3&&bracket<6)++depth;else if(wordRE.test(ch))sawSomething=true;else if(/["'\/`]/.test(ch))for(;;--pos){if(pos==
0)return;var next=stream.string.charAt(pos-1);if(next==ch&&stream.string.charAt(pos-2)!="\\"){pos--;break}}else if(sawSomething&&!depth){++pos;break}}if(sawSomething&&!depth)state.fatArrowAt=pos}function JSLexical(indented,column,type,align,prev,info){this.indented=indented;this.column=column;this.type=type;this.prev=prev;this.info=info;if(align!=null)this.align=align}function inScope(state,varname){if(!trackScope)return false;var v=state.localVars;for(;v;v=v.next)if(v.name==varname)return true;var cx=
state.context;for(;cx;cx=cx.prev){v=cx.vars;for(;v;v=v.next)if(v.name==varname)return true}}function parseJS(state,style,type,content,stream){var cc=state.cc;cx.state=state;cx.stream=stream;cx.marked=null,cx.cc=cc;cx.style=style;if(!state.lexical.hasOwnProperty("align"))state.lexical.align=true;for(;true;){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){for(;cc.length&&cc[cc.length-1].lex;)cc.pop()();if(cx.marked)return cx.marked;if(type=="variable"&&inScope(state,
content))return"variable-2";return style}}}function pass(){var i=arguments.length-1;for(;i>=0;i--)cx.cc.push(arguments[i])}function cont(){pass.apply(null,arguments);return true}function inList(name,list){var v=list;for(;v;v=v.next)if(v.name==name)return true;return false}function register(varname){var state=cx.state;cx.marked="def";if(!trackScope)return;if(state.context)if(state.lexical.info=="var"&&state.context&&state.context.block){var newContext=registerVarScoped(varname,state.context);if(newContext!=
null){state.context=newContext;return}}else if(!inList(varname,state.localVars)){state.localVars=new Var(varname,state.localVars);return}if(parserConfig.globalVars&&!inList(varname,state.globalVars))state.globalVars=new Var(varname,state.globalVars)}function registerVarScoped(varname,context){if(!context)return null;else if(context.block){var inner=registerVarScoped(varname,context.prev);if(!inner)return null;if(inner==context.prev)return context;return new Context(inner,context.vars,true)}else if(inList(varname,
context.vars))return context;else return new Context(context.prev,new Var(varname,context.vars),false)}function isModifier(name){return name=="public"||name=="private"||name=="protected"||name=="abstract"||name=="readonly"}function Context(prev,vars,block){this.prev=prev;this.vars=vars;this.block=block}function Var(name,next){this.name=name;this.next=next}function pushcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,false);cx.state.localVars=defaultVars}function pushblockcontext(){cx.state.context=
new Context(cx.state.context,cx.state.localVars,true);cx.state.localVars=null}function popcontext(){cx.state.localVars=cx.state.context.vars;cx.state.context=cx.state.context.prev}function pushlex(type,info){var result=function(){var state=cx.state;var indent=state.indented;if(state.lexical.type=="stat")indent=state.lexical.indented;else{var outer=state.lexical;for(;outer&&outer.type==")"&&outer.align;outer=outer.prev)indent=outer.indented}state.lexical=new JSLexical(indent,cx.stream.column(),type,
null,state.lexical,info)};result.lex=true;return result}function poplex(){var state=cx.state;if(state.lexical.prev){if(state.lexical.type==")")state.indented=state.lexical.indented;state.lexical=state.lexical.prev}}function expect(wanted){function exp(type){if(type==wanted)return cont();else if(wanted==";"||type=="}"||type==")"||type=="]")return pass();else return cont(exp)}return exp}function statement(type,value){if(type=="var")return cont(pushlex("vardef",value),vardef,expect(";"),poplex);if(type==
"keyword a")return cont(pushlex("form"),parenExpr,statement,poplex);if(type=="keyword b")return cont(pushlex("form"),statement,poplex);if(type=="keyword d")return cx.stream.match(/^\s*$/,false)?cont():cont(pushlex("stat"),maybeexpression,expect(";"),poplex);if(type=="debugger")return cont(expect(";"));if(type=="{")return cont(pushlex("}"),pushblockcontext,block,poplex,popcontext);if(type==";")return cont();if(type=="if"){if(cx.state.lexical.info=="else"&&cx.state.cc[cx.state.cc.length-1]==poplex)cx.state.cc.pop()();
return cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)}if(type=="function")return cont(functiondef);if(type=="for")return cont(pushlex("form"),pushblockcontext,forspec,statement,popcontext,poplex);if(type=="class"||isTS&&value=="interface"){cx.marked="keyword";return cont(pushlex("form",type=="class"?type:value),className,poplex)}if(type=="variable")if(isTS&&value=="declare"){cx.marked="keyword";return cont(statement)}else if(isTS&&(value=="module"||value=="enum"||value=="type")&&cx.stream.match(/^\s*\w/,
false)){cx.marked="keyword";if(value=="enum")return cont(enumdef);else if(value=="type")return cont(typename,expect("operator"),typeexpr,expect(";"));else return cont(pushlex("form"),pattern,expect("{"),pushlex("}"),block,poplex,poplex)}else if(isTS&&value=="namespace"){cx.marked="keyword";return cont(pushlex("form"),expression,statement,poplex)}else if(isTS&&value=="abstract"){cx.marked="keyword";return cont(statement)}else return cont(pushlex("stat"),maybelabel);if(type=="switch")return cont(pushlex("form"),
parenExpr,expect("{"),pushlex("}","switch"),pushblockcontext,block,poplex,poplex,popcontext);if(type=="case")return cont(expression,expect(":"));if(type=="default")return cont(expect(":"));if(type=="catch")return cont(pushlex("form"),pushcontext,maybeCatchBinding,statement,poplex,popcontext);if(type=="export")return cont(pushlex("stat"),afterExport,poplex);if(type=="import")return cont(pushlex("stat"),afterImport,poplex);if(type=="async")return cont(statement);if(value=="@")return cont(expression,
statement);return pass(pushlex("stat"),expression,expect(";"),poplex)}function maybeCatchBinding(type){if(type=="(")return cont(funarg,expect(")"))}function expression(type,value){return expressionInner(type,value,false)}function expressionNoComma(type,value){return expressionInner(type,value,true)}function parenExpr(type){if(type!="(")return pass();return cont(pushlex(")"),maybeexpression,expect(")"),poplex)}function expressionInner(type,value,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=
noComma?arrowBodyNoComma:arrowBody;if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,expect("=>"),body,popcontext);else if(type=="variable")return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;if(atomicTypes.hasOwnProperty(type))return cont(maybeop);if(type=="function")return cont(functiondef,maybeop);if(type=="class"||isTS&&value=="interface"){cx.marked="keyword";return cont(pushlex("form"),classExpression,
poplex)}if(type=="keyword c"||type=="async")return cont(noComma?expressionNoComma:expression);if(type=="(")return cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop);if(type=="operator"||type=="spread")return cont(noComma?expressionNoComma:expression);if(type=="[")return cont(pushlex("]"),arrayLiteral,poplex,maybeop);if(type=="{")return contCommasep(objprop,"}",null,maybeop);if(type=="quasi")return pass(quasi,maybeop);if(type=="new")return cont(maybeTarget(noComma));return cont()}function maybeexpression(type){if(type.match(/[;\}\)\],]/))return pass();
return pass(expression)}function maybeoperatorComma(type,value){if(type==",")return cont(maybeexpression);return maybeoperatorNoComma(type,value,false)}function maybeoperatorNoComma(type,value,noComma){var me=noComma==false?maybeoperatorComma:maybeoperatorNoComma;var expr=noComma==false?expression:expressionNoComma;if(type=="=>")return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if(type=="operator"){if(/\+\+|--/.test(value)||isTS&&value=="!")return cont(me);if(isTS&&value=="<"&&
cx.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,false))return cont(pushlex(">"),commasep(typeexpr,">"),poplex,me);if(value=="?")return cont(expression,expect(":"),expr);return cont(expr)}if(type=="quasi")return pass(quasi,me);if(type==";")return;if(type=="(")return contCommasep(expressionNoComma,")","call",me);if(type==".")return cont(property,me);if(type=="[")return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me);if(isTS&&value=="as"){cx.marked="keyword";return cont(typeexpr,me)}if(type=="regexp"){cx.state.lastType=
cx.marked="operator";cx.stream.backUp(cx.stream.pos-cx.stream.start-1);return cont(expr)}}function quasi(type,value){if(type!="quasi")return pass();if(value.slice(value.length-2)!="${")return cont(quasi);return cont(maybeexpression,continueQuasi)}function continueQuasi(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasi)}}function arrowBody(type){findFatArrow(cx.stream,cx.state);return pass(type=="{"?statement:expression)}function arrowBodyNoComma(type){findFatArrow(cx.stream,
cx.state);return pass(type=="{"?statement:expressionNoComma)}function maybeTarget(noComma){return function(type){if(type==".")return cont(noComma?targetNoComma:target);else if(type=="variable"&&isTS)return cont(maybeTypeArgs,noComma?maybeoperatorNoComma:maybeoperatorComma);else return pass(noComma?expressionNoComma:expression)}}function target(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorComma)}}function targetNoComma(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorNoComma)}}
function maybelabel(type){if(type==":")return cont(poplex,statement);return pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if(type=="variable"){cx.marked="property";return cont()}}function objprop(type,value){if(type=="async"){cx.marked="property";return cont(objprop)}else if(type=="variable"||cx.style=="keyword"){cx.marked="property";if(value=="get"||value=="set")return cont(getterSetter);var m;if(isTS&&cx.state.fatArrowAt==cx.stream.start&&(m=cx.stream.match(/^\s*:\s*/,false)))cx.state.fatArrowAt=
cx.stream.pos+m[0].length;return cont(afterprop)}else if(type=="number"||type=="string"){cx.marked=jsonldMode?"property":cx.style+" property";return cont(afterprop)}else if(type=="jsonld-keyword")return cont(afterprop);else if(isTS&&isModifier(value)){cx.marked="keyword";return cont(objprop)}else if(type=="[")return cont(expression,maybetype,expect("]"),afterprop);else if(type=="spread")return cont(expressionNoComma,afterprop);else if(value=="*"){cx.marked="keyword";return cont(objprop)}else if(type==
":")return pass(afterprop)}function getterSetter(type){if(type!="variable")return pass(afterprop);cx.marked="property";return cont(functiondef)}function afterprop(type){if(type==":")return cont(expressionNoComma);if(type=="(")return pass(functiondef)}function commasep(what,end,sep){function proceed(type,value){if(sep?sep.indexOf(type)>-1:type==","){var lex=cx.state.lexical;if(lex.info=="call")lex.pos=(lex.pos||0)+1;return cont(function(type,value){if(type==end||value==end)return pass();return pass(what)},
proceed)}if(type==end||value==end)return cont();if(sep&&sep.indexOf(";")>-1)return pass(what);return cont(expect(end))}return function(type,value){if(type==end||value==end)return cont();return pass(what,proceed)}}function contCommasep(what,end,info){var i=3;for(;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){if(type=="}")return cont();return pass(statement,block)}function maybetype(type,value){if(isTS){if(type==":")return cont(typeexpr);
if(value=="?")return cont(maybetype)}}function maybetypeOrIn(type,value){if(isTS&&(type==":"||value=="in"))return cont(typeexpr)}function mayberettype(type){if(isTS&&type==":")if(cx.stream.match(/^\s*\w+\s+is\b/,false))return cont(expression,isKW,typeexpr);else return cont(typeexpr)}function isKW(_,value){if(value=="is"){cx.marked="keyword";return cont()}}function typeexpr(type,value){if(value=="keyof"||value=="typeof"||value=="infer"||value=="readonly"){cx.marked="keyword";return cont(value=="typeof"?
expressionNoComma:typeexpr)}if(type=="variable"||value=="void"){cx.marked="type";return cont(afterType)}if(value=="|"||value=="&")return cont(typeexpr);if(type=="string"||type=="number"||type=="atom")return cont(afterType);if(type=="[")return cont(pushlex("]"),commasep(typeexpr,"]",","),poplex,afterType);if(type=="{")return cont(pushlex("}"),typeprops,poplex,afterType);if(type=="(")return cont(commasep(typearg,")"),maybeReturnType,afterType);if(type=="<")return cont(commasep(typeexpr,">"),typeexpr);
if(type=="quasi")return pass(quasiType,afterType)}function maybeReturnType(type){if(type=="=>")return cont(typeexpr)}function typeprops(type){if(type.match(/[\}\)\]]/))return cont();if(type==","||type==";")return cont(typeprops);return pass(typeprop,typeprops)}function typeprop(type,value){if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(typeprop)}else if(value=="?"||type=="number"||type=="string")return cont(typeprop);else if(type==":")return cont(typeexpr);else if(type==
"[")return cont(expect("variable"),maybetypeOrIn,expect("]"),typeprop);else if(type=="(")return pass(functiondecl,typeprop);else if(!type.match(/[;\}\)\],]/))return cont()}function quasiType(type,value){if(type!="quasi")return pass();if(value.slice(value.length-2)!="${")return cont(quasiType);return cont(typeexpr,continueQuasiType)}function continueQuasiType(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasiType)}}function typearg(type,value){if(type=="variable"&&
cx.stream.match(/^\s*[?:]/,false)||value=="?")return cont(typearg);if(type==":")return cont(typeexpr);if(type=="spread")return cont(typearg);return pass(typeexpr)}function afterType(type,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType);if(value=="|"||type=="."||value=="&")return cont(typeexpr);if(type=="[")return cont(typeexpr,expect("]"),afterType);if(value=="extends"||value=="implements"){cx.marked="keyword";return cont(typeexpr)}if(value=="?")return cont(typeexpr,
expect(":"),typeexpr)}function maybeTypeArgs(_,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType)}function typeparam(){return pass(typeexpr,maybeTypeDefault)}function maybeTypeDefault(_,value){if(value=="=")return cont(typeexpr)}function vardef(_,value){if(value=="enum"){cx.marked="keyword";return cont(enumdef)}return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){if(isTS&&isModifier(value)){cx.marked="keyword";return cont(pattern)}if(type==
"variable"){register(value);return cont()}if(type=="spread")return cont(pattern);if(type=="[")return contCommasep(eltpattern,"]");if(type=="{")return contCommasep(proppattern,"}")}function proppattern(type,value){if(type=="variable"&&!cx.stream.match(/^\s*:/,false)){register(value);return cont(maybeAssign)}if(type=="variable")cx.marked="property";if(type=="spread")return cont(pattern);if(type=="}")return pass();if(type=="[")return cont(expression,expect("]"),expect(":"),proppattern);return cont(expect(":"),
pattern,maybeAssign)}function eltpattern(){return pass(pattern,maybeAssign)}function maybeAssign(_type,value){if(value=="=")return cont(expressionNoComma)}function vardefCont(type){if(type==",")return cont(vardef)}function maybeelse(type,value){if(type=="keyword b"&&value=="else")return cont(pushlex("form","else"),statement,poplex)}function forspec(type,value){if(value=="await")return cont(forspec);if(type=="(")return cont(pushlex(")"),forspec1,poplex)}function forspec1(type){if(type=="var")return cont(vardef,
forspec2);if(type=="variable")return cont(forspec2);return pass(forspec2)}function forspec2(type,value){if(type==")")return cont();if(type==";")return cont(forspec2);if(value=="in"||value=="of"){cx.marked="keyword";return cont(expression,forspec2)}return pass(expression,forspec2)}function functiondef(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondef)}if(type=="variable"){register(value);return cont(functiondef)}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,
")"),poplex,mayberettype,statement,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondef)}function functiondecl(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondecl)}if(type=="variable"){register(value);return cont(functiondecl)}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondecl)}function typename(type,
value){if(type=="keyword"||type=="variable"){cx.marked="type";return cont(typename)}else if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex)}function funarg(type,value){if(value=="@")cont(expression,funarg);if(type=="spread")return cont(funarg);if(isTS&&isModifier(value)){cx.marked="keyword";return cont(funarg)}if(isTS&&type=="this")return cont(maybetype,maybeAssign);return pass(pattern,maybetype,maybeAssign)}function classExpression(type,value){if(type=="variable")return className(type,
value);return classNameAfter(type,value)}function className(type,value){if(type=="variable"){register(value);return cont(classNameAfter)}}function classNameAfter(type,value){if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,classNameAfter);if(value=="extends"||value=="implements"||isTS&&type==","){if(value=="implements")cx.marked="keyword";return cont(isTS?typeexpr:expression,classNameAfter)}if(type=="{")return cont(pushlex("}"),classBody,poplex)}function classBody(type,value){if(type==
"async"||type=="variable"&&(value=="static"||value=="get"||value=="set"||isTS&&isModifier(value))&&cx.stream.match(/^\s+[\w$\xa1-\uffff]/,false)){cx.marked="keyword";return cont(classBody)}if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(classfield,classBody)}if(type=="number"||type=="string")return cont(classfield,classBody);if(type=="[")return cont(expression,maybetype,expect("]"),classfield,classBody);if(value=="*"){cx.marked="keyword";return cont(classBody)}if(isTS&&
type=="(")return pass(functiondecl,classBody);if(type==";"||type==",")return cont(classBody);if(type=="}")return cont();if(value=="@")return cont(expression,classBody)}function classfield(type,value){if(value=="!")return cont(classfield);if(value=="?")return cont(classfield);if(type==":")return cont(typeexpr,maybeAssign);if(value=="=")return cont(expressionNoComma);var context=cx.state.lexical.prev;var isInterface=context&&context.info=="interface";return pass(isInterface?functiondecl:functiondef)}
function afterExport(type,value){if(value=="*"){cx.marked="keyword";return cont(maybeFrom,expect(";"))}if(value=="default"){cx.marked="keyword";return cont(expression,expect(";"))}if(type=="{")return cont(commasep(exportField,"}"),maybeFrom,expect(";"));return pass(statement)}function exportField(type,value){if(value=="as"){cx.marked="keyword";return cont(expect("variable"))}if(type=="variable")return pass(expressionNoComma,exportField)}function afterImport(type){if(type=="string")return cont();if(type==
"(")return pass(expression);if(type==".")return pass(maybeoperatorComma);return pass(importSpec,maybeMoreImports,maybeFrom)}function importSpec(type,value){if(type=="{")return contCommasep(importSpec,"}");if(type=="variable")register(value);if(value=="*")cx.marked="keyword";return cont(maybeAs)}function maybeMoreImports(type){if(type==",")return cont(importSpec,maybeMoreImports)}function maybeAs(_type,value){if(value=="as"){cx.marked="keyword";return cont(importSpec)}}function maybeFrom(_type,value){if(value==
"from"){cx.marked="keyword";return cont(expression)}}function arrayLiteral(type){if(type=="]")return cont();return pass(commasep(expressionNoComma,"]"))}function enumdef(){return pass(pushlex("form"),pattern,expect("{"),pushlex("}"),commasep(enummember,"}"),poplex,poplex)}function enummember(){return pass(pattern,maybeAssign)}function isContinuedStatement(state,textAfter){return state.lastType=="operator"||state.lastType==","||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}
function expressionAllowed(stream,state,backUp){return state.tokenize==tokenBase&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(state.lastType)||state.lastType=="quasi"&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}var indentUnit=config.indentUnit;var statementIndent=parserConfig.statementIndent;var jsonldMode=parserConfig.jsonld;var jsonMode=parserConfig.json||jsonldMode;var trackScope=parserConfig.trackScope!==false;var isTS=parserConfig.typescript;
var wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/;var keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a");var B=kw("keyword b");var C=kw("keyword c");var D=kw("keyword d");var operator=kw("operator");var atom={type:"atom",style:"atom"};return{"if":kw("if"),"while":A,"with":A,"else":B,"do":B,"try":B,"finally":B,"return":D,"break":D,"continue":D,"new":kw("new"),"delete":C,"void":C,"throw":C,"debugger":kw("debugger"),"var":kw("var"),"const":kw("var"),
"let":kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":operator,"typeof":operator,"instanceof":operator,"true":atom,"false":atom,"null":atom,"undefined":atom,"NaN":atom,"Infinity":atom,"this":kw("this"),"class":kw("class"),"super":kw("atom"),"yield":C,"export":kw("export"),"import":kw("import"),"extends":C,"await":C}}();var isOperatorChar=/[+\-*&%=<>!?|~^@]/;var isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;
var type;var content;var brackets="([{}])";var atomicTypes={"atom":true,"number":true,"variable":true,"string":true,"regexp":true,"this":true,"import":true,"jsonld-keyword":true};var cx={state:null,column:null,marked:null,cc:null};var defaultVars=new Var("this",new Var("arguments",null));pushcontext.lex=pushblockcontext.lex=true;popcontext.lex=true;poplex.lex=true;return{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,
0,"block",false),localVars:parserConfig.localVars,context:parserConfig.localVars&&new Context(null,null,false),indented:basecolumn||0};if(parserConfig.globalVars&&typeof parserConfig.globalVars=="object")state.globalVars=parserConfig.globalVars;return state},token:function(stream,state){if(stream.sol()){if(!state.lexical.hasOwnProperty("align"))state.lexical.align=false;state.indented=stream.indentation();findFatArrow(stream,state)}if(state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=
state.tokenize(stream,state);if(type=="comment")return style;state.lastType=type=="operator"&&(content=="++"||content=="--")?"incdec":type;return parseJS(state,style,type,content,stream)},indent:function(state,textAfter){if(state.tokenize==tokenComment||state.tokenize==tokenQuasi)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0);var lexical=state.lexical;var top;if(!/^\s*else\b/.test(textAfter)){var i=state.cc.length-1;for(;i>=0;--i){var c=state.cc[i];
if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse&&c!=popcontext)break}}for(;(lexical.type=="stat"||lexical.type=="form")&&(firstChar=="}"||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(textAfter));)lexical=lexical.prev;if(statementIndent&&lexical.type==")"&&lexical.prev.type=="stat")lexical=lexical.prev;var type=lexical.type;var closing=firstChar==type;if(type=="vardef")return lexical.indented+(state.lastType=="operator"||state.lastType==
","?lexical.info.length+1:0);else if(type=="form"&&firstChar=="{")return lexical.indented;else if(type=="form")return lexical.indented+indentUnit;else if(type=="stat")return lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0);else if(lexical.info=="switch"&&!closing&&parserConfig.doubleIndentSwitch!=false)return lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit);else if(lexical.align)return lexical.column+(closing?0:1);else return lexical.indented+
(closing?0:indentUnit)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",blockCommentContinue:jsonMode?null:" * ",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){parseJS(state,"atom","atom","true",new CodeMirror.StringStream("",2,null))}}});CodeMirror.registerHelper("wordChars",
"javascript",/[\w$]/);CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/x-javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("application/manifest+json",
{name:"javascript",json:true});CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:true});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../xml/xml","../javascript/javascript"],mod);else mod(CodeMirror)})(function(CodeMirror){function Context(state,mode,depth,prev){this.state=state;this.mode=mode;this.depth=depth;this.prev=prev}function copyContext(context){return new Context(CodeMirror.copyState(context.mode,
context.state),context.mode,context.depth,context.prev&&copyContext(context.prev))}CodeMirror.defineMode("jsx",function(config,modeConfig){function flatXMLIndent(state){var tagName=state.tagName;state.tagName=null;var result=xmlMode.indent(state,"","");state.tagName=tagName;return result}function token(stream,state){if(state.context.mode==xmlMode)return xmlToken(stream,state,state.context);else return jsToken(stream,state,state.context)}function xmlToken(stream,state,cx){if(cx.depth==2){if(stream.match(/^.*?\*\//))cx.depth=
1;else stream.skipToEnd();return"comment"}if(stream.peek()=="{"){xmlMode.skipAttribute(cx.state);var indent=flatXMLIndent(cx.state);var xmlContext=cx.state.context;if(xmlContext&&stream.match(/^[^>]*>\s*$/,false)){for(;xmlContext.prev&&!xmlContext.startOfLine;)xmlContext=xmlContext.prev;if(xmlContext.startOfLine)indent=indent-config.indentUnit;else if(cx.prev.state.lexical)indent=cx.prev.state.lexical.indented}else if(cx.depth==1)indent=indent+config.indentUnit;state.context=new Context(CodeMirror.startState(jsMode,
indent),jsMode,0,state.context);return null}if(cx.depth==1)if(stream.peek()=="<"){xmlMode.skipAttribute(cx.state);state.context=new Context(CodeMirror.startState(xmlMode,flatXMLIndent(cx.state)),xmlMode,0,state.context);return null}else if(stream.match("//")){stream.skipToEnd();return"comment"}else if(stream.match("/*")){cx.depth=2;return token(stream,state)}var style=xmlMode.token(stream,cx.state);var cur=stream.current();var stop;if(/\btag\b/.test(style))if(/>$/.test(cur))if(cx.state.context)cx.depth=
0;else state.context=state.context.prev;else{if(/^</.test(cur))cx.depth=1}else if(!style&&(stop=cur.indexOf("{"))>-1)stream.backUp(cur.length-stop);return style}function jsToken(stream,state,cx){if(stream.peek()=="<"&&jsMode.expressionAllowed(stream,cx.state)){state.context=new Context(CodeMirror.startState(xmlMode,jsMode.indent(cx.state,"","")),xmlMode,0,state.context);jsMode.skipExpression(cx.state);return null}var style=jsMode.token(stream,cx.state);if(!style&&cx.depth!=null){var cur=stream.current();
if(cur=="{")cx.depth++;else if(cur=="}")if(--cx.depth==0)state.context=state.context.prev}return style}var xmlMode=CodeMirror.getMode(config,{name:"xml",allowMissing:true,multilineTagIndentPastTag:false,allowMissingTagName:true});var jsMode=CodeMirror.getMode(config,modeConfig&&modeConfig.base||"javascript");return{startState:function(){return{context:new Context(CodeMirror.startState(jsMode),jsMode)}},copyState:function(state){return{context:copyContext(state.context)}},token:token,indent:function(state,
textAfter,fullLine){return state.context.mode.indent(state.context.state,textAfter,fullLine)},innerMode:function(state){return state.context}}},"xml","javascript");CodeMirror.defineMIME("text/jsx","jsx");CodeMirror.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:true}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("jinja2",function(){function tokenBase(stream,state){var ch=stream.peek();if(state.incomment){if(!stream.skipTo("#}"))stream.skipToEnd();else{stream.eatWhile(/#|}/);state.incomment=false}return"comment"}else if(state.intag){if(state.operator){state.operator=
false;if(stream.match(atom))return"atom";if(stream.match(number))return"number"}if(state.sign){state.sign=false;if(stream.match(atom))return"atom";if(stream.match(number))return"number"}if(state.instring){if(ch==state.instring)state.instring=false;stream.next();return"string"}else if(ch=="'"||ch=='"'){state.instring=ch;stream.next();return"string"}else if(stream.match(state.intag+"}")||stream.eat("-")&&stream.match(state.intag+"}")){state.intag=false;return"tag"}else if(stream.match(operator)){state.operator=
true;return"operator"}else if(stream.match(sign))state.sign=true;else if(stream.eat(" ")||stream.sol()){if(stream.match(keywords))return"keyword";if(stream.match(atom))return"atom";if(stream.match(number))return"number";if(stream.sol())stream.next()}else stream.next();return"variable"}else if(stream.eat("{"))if(stream.eat("#")){state.incomment=true;if(!stream.skipTo("#}"))stream.skipToEnd();else{stream.eatWhile(/#|}/);state.incomment=false}return"comment"}else if(ch=stream.eat(/\{|%/)){state.intag=
ch;if(ch=="{")state.intag="}";stream.eat("-");return"tag"}stream.next()}var keywords=["and","as","block","endblock","by","cycle","debug","else","elif","extends","filter","endfilter","firstof","for","endfor","if","endif","ifchanged","endifchanged","ifequal","endifequal","ifnotequal","endifnotequal","in","include","load","not","now","or","parsed","regroup","reversed","spaceless","endspaceless","ssi","templatetag","openblock","closeblock","openvariable","closevariable","openbrace","closebrace","opencomment",
"closecomment","widthratio","url","with","endwith","get_current_language","trans","endtrans","noop","blocktrans","endblocktrans","get_available_languages","get_current_language_bidi","plural"];var operator=/^[+\-*&%=<>!?|~^]/;var sign=/^[:\[\(\{]/;var atom=["true","false"];var number=/^(\d[+\-\*\/])?\d+(\.\d+)?/;keywords=new RegExp("(("+keywords.join(")|(")+"))\\b");atom=new RegExp("(("+atom.join(")|(")+"))\\b");return{startState:function(){return{tokenize:tokenBase}},token:function(stream,state){return state.tokenize(stream,
state)},blockCommentStart:"{#",blockCommentEnd:"#}"}});CodeMirror.defineMIME("text/jinja2","jinja2")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("livescript",function(){var tokenBase=function(stream,state){var next_rule=state.next||"start";if(next_rule){state.next=state.next;var nr=Rules[next_rule];if(nr.splice){var i$=0;for(;i$<nr.length;++i$){var r=nr[i$];if(r.regex&&stream.match(r.regex)){state.next=
r.next||state.next;return r.token}}stream.next();return"error"}if(stream.match(r=Rules[next_rule]))if(r.regex&&stream.match(r.regex)){state.next=r.next;return r.token}else{stream.next();return"error"}}stream.next();return"error"};var external={startState:function(){return{next:"start",lastToken:{style:null,indent:0,content:""}}},token:function(stream,state){for(;stream.pos==stream.start;)var style=tokenBase(stream,state);state.lastToken={style:style,indent:stream.indentation(),content:stream.current()};
return style.replace(/\./g," ")},indent:function(state){var indentation=state.lastToken.indent;if(state.lastToken.content.match(indenter))indentation=indentation+2;return indentation}};return external});var identifier="(?![\\d\\s])[$\\w\\xAA-\\uFFDC](?:(?!\\s)[$\\w\\xAA-\\uFFDC]|-[A-Za-z])*";var indenter=RegExp("(?:[({[=:]|[-~]>|\\b(?:e(?:lse|xport)|d(?:o|efault)|t(?:ry|hen)|finally|import(?:\\s*all)?|const|var|let|new|catch(?:\\s*"+identifier+")?))\\s*$");var keywordend="(?![$\\w]|-[A-Za-z]|\\s*:(?![:=]))";
var stringfill={token:"string",regex:".+"};var Rules={start:[{token:"comment.doc",regex:"/\\*",next:"comment"},{token:"comment",regex:"#.*"},{token:"keyword",regex:"(?:t(?:h(?:is|row|en)|ry|ypeof!?)|c(?:on(?:tinue|st)|a(?:se|tch)|lass)|i(?:n(?:stanceof)?|mp(?:ort(?:\\s+all)?|lements)|[fs])|d(?:e(?:fault|lete|bugger)|o)|f(?:or(?:\\s+own)?|inally|unction)|s(?:uper|witch)|e(?:lse|x(?:tends|port)|val)|a(?:nd|rguments)|n(?:ew|ot)|un(?:less|til)|w(?:hile|ith)|o[fr]|return|break|let|var|loop)"+keywordend},
{token:"constant.language",regex:"(?:true|false|yes|no|on|off|null|void|undefined)"+keywordend},{token:"invalid.illegal",regex:"(?:p(?:ackage|r(?:ivate|otected)|ublic)|i(?:mplements|nterface)|enum|static|yield)"+keywordend},{token:"language.support.class",regex:"(?:R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|Array|Boolean|Date|Function|Number|Object|TypeError|URIError)"+keywordend},{token:"language.support.function",regex:"(?:is(?:NaN|Finite)|parse(?:Int|Float)|Math|JSON|(?:en|de)codeURI(?:Component)?)"+
keywordend},{token:"variable.language",regex:"(?:t(?:hat|il|o)|f(?:rom|allthrough)|it|by|e)"+keywordend},{token:"identifier",regex:identifier+"\\s*:(?![:=])"},{token:"variable",regex:identifier},{token:"keyword.operator",regex:"(?:\\.{3}|\\s+\\?)"},{token:"keyword.variable",regex:"(?:@+|::|\\.\\.)",next:"key"},{token:"keyword.operator",regex:"\\.\\s*",next:"key"},{token:"string",regex:"\\\\\\S[^\\s,;)}\\]]*"},{token:"string.doc",regex:"'''",next:"qdoc"},{token:"string.doc",regex:'"""',next:"qqdoc"},
{token:"string",regex:"'",next:"qstring"},{token:"string",regex:'"',next:"qqstring"},{token:"string",regex:"`",next:"js"},{token:"string",regex:"<\\[",next:"words"},{token:"string.regex",regex:"//",next:"heregex"},{token:"string.regex",regex:"\\/(?:[^[\\/\\n\\\\]*(?:(?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[\\/\\n\\\\]*)*)\\/[gimy$]{0,4}",next:"key"},{token:"constant.numeric",regex:"(?:0x[\\da-fA-F][\\da-fA-F_]*|(?:[2-9]|[12]\\d|3[0-6])r[\\da-zA-Z][\\da-zA-Z_]*|(?:\\d[\\d_]*(?:\\.\\d[\\d_]*)?|\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[\\w$]*)"},
{token:"lparen",regex:"[({[]"},{token:"rparen",regex:"[)}\\]]",next:"key"},{token:"keyword.operator",regex:"\\S+"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?//[gimy$?]{0,4}",next:"start"},{token:"string.regex",regex:"\\s*#{"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],key:[{token:"keyword.operator",regex:"[.?@!]+"},{token:"identifier",regex:identifier,next:"start"},{token:"text",regex:"",next:"start"}],comment:[{token:"comment.doc",
regex:".*?\\*/",next:"start"},{token:"comment.doc",regex:".+"}],qdoc:[{token:"string",regex:".*?'''",next:"key"},stringfill],qqdoc:[{token:"string",regex:'.*?"""',next:"key"},stringfill],qstring:[{token:"string",regex:"[^\\\\']*(?:\\\\.[^\\\\']*)*'",next:"key"},stringfill],qqstring:[{token:"string",regex:'[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',next:"key"},stringfill],js:[{token:"string",regex:"[^\\\\`]*(?:\\\\.[^\\\\`]*)*`",next:"key"},stringfill],words:[{token:"string",regex:".*?\\]>",next:"key"},stringfill]};
var idx;for(idx in Rules){var r=Rules[idx];if(r.splice){var i=0;var len=r.length;for(;i<len;++i){var rr=r[i];if(typeof rr.regex==="string")Rules[idx][i].regex=new RegExp("^"+rr.regex)}}else if(typeof rr.regex==="string")Rules[idx].regex=new RegExp("^"+r.regex)}CodeMirror.defineMIME("text/x-livescript","livescript")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("lua",function(config,parserConfig){function prefixRE(words){return new RegExp("^(?:"+words.join("|")+")","i")}function wordRE(words){return new RegExp("^(?:"+words.join("|")+")$","i")}function readBracket(stream){var level=0;for(;stream.eat("=");)++level;
stream.eat("[");return level}function normal(stream,state){var ch=stream.next();if(ch=="-"&&stream.eat("-")){if(stream.eat("[")&&stream.eat("["))return(state.cur=bracketed(readBracket(stream),"comment"))(stream,state);stream.skipToEnd();return"comment"}if(ch=='"'||ch=="'")return(state.cur=string(ch))(stream,state);if(ch=="["&&/[\[=]/.test(stream.peek()))return(state.cur=bracketed(readBracket(stream),"string"))(stream,state);if(/\d/.test(ch)){stream.eatWhile(/[\w.%]/);return"number"}if(/[\w_]/.test(ch)){stream.eatWhile(/[\w\\\-_.]/);
return"variable"}return null}function bracketed(level,style){return function(stream,state){var curlev=null;var ch;for(;(ch=stream.next())!=null;)if(curlev==null){if(ch=="]")curlev=0}else if(ch=="=")++curlev;else if(ch=="]"&&curlev==level){state.cur=normal;break}else curlev=null;return style}}function string(quote){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch==quote&&!escaped)break;escaped=!escaped&&ch=="\\"}if(!escaped)state.cur=normal;return"string"}}
var indentUnit=config.indentUnit;var specials=wordRE(parserConfig.specials||[]);var builtins=wordRE(["_G","_VERSION","assert","collectgarbage","dofile","error","getfenv","getmetatable","ipairs","load","loadfile","loadstring","module","next","pairs","pcall","print","rawequal","rawget","rawset","require","select","setfenv","setmetatable","tonumber","tostring","type","unpack","xpcall","coroutine.create","coroutine.resume","coroutine.running","coroutine.status","coroutine.wrap","coroutine.yield","debug.debug",
"debug.getfenv","debug.gethook","debug.getinfo","debug.getlocal","debug.getmetatable","debug.getregistry","debug.getupvalue","debug.setfenv","debug.sethook","debug.setlocal","debug.setmetatable","debug.setupvalue","debug.traceback","close","flush","lines","read","seek","setvbuf","write","io.close","io.flush","io.input","io.lines","io.open","io.output","io.popen","io.read","io.stderr","io.stdin","io.stdout","io.tmpfile","io.type","io.write","math.abs","math.acos","math.asin","math.atan","math.atan2",
"math.ceil","math.cos","math.cosh","math.deg","math.exp","math.floor","math.fmod","math.frexp","math.huge","math.ldexp","math.log","math.log10","math.max","math.min","math.modf","math.pi","math.pow","math.rad","math.random","math.randomseed","math.sin","math.sinh","math.sqrt","math.tan","math.tanh","os.clock","os.date","os.difftime","os.execute","os.exit","os.getenv","os.remove","os.rename","os.setlocale","os.time","os.tmpname","package.cpath","package.loaded","package.loaders","package.loadlib",
"package.path","package.preload","package.seeall","string.byte","string.char","string.dump","string.find","string.format","string.gmatch","string.gsub","string.len","string.lower","string.match","string.rep","string.reverse","string.sub","string.upper","table.concat","table.insert","table.maxn","table.remove","table.sort"]);var keywords=wordRE(["and","break","elseif","false","nil","not","or","return","true","function","end","if","then","else","do","while","repeat","until","for","in","local"]);var indentTokens=
wordRE(["function","if","repeat","do","\\(","{"]);var dedentTokens=wordRE(["end","until","\\)","}"]);var dedentPartial=prefixRE(["end","until","\\)","}","else","elseif"]);return{startState:function(basecol){return{basecol:basecol||0,indentDepth:0,cur:normal}},token:function(stream,state){if(stream.eatSpace())return null;var style=state.cur(stream,state);var word=stream.current();if(style=="variable")if(keywords.test(word))style="keyword";else if(builtins.test(word))style="builtin";else if(specials.test(word))style=
"variable-2";if(style!="comment"&&style!="string")if(indentTokens.test(word))++state.indentDepth;else if(dedentTokens.test(word))--state.indentDepth;return style},indent:function(state,textAfter){var closing=dedentPartial.test(textAfter);return state.basecol+indentUnit*(state.indentDepth-(closing?1:0))},electricInput:/^\s*(?:end|until|else|\)|\})$/,lineComment:"--",blockCommentStart:"--[[",blockCommentEnd:"]]"}});CodeMirror.defineMIME("text/x-lua","lua")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../xml/xml"),require("../meta"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../xml/xml","../meta"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("markdown",function(cmCfg,modeCfg){function getMode(name){if(CodeMirror.findModeByName){var found=CodeMirror.findModeByName(name);if(found)name=found.mime||found.mimes[0]}var mode=CodeMirror.getMode(cmCfg,
name);return mode.name=="null"?null:mode}function switchInline(stream,state,f){state.f=state.inline=f;return f(stream,state)}function switchBlock(stream,state,f){state.f=state.block=f;return f(stream,state)}function lineIsEmpty(line){return!line||!/\S/.test(line.string)}function blankLine(state){state.linkTitle=false;state.linkHref=false;state.linkText=false;state.em=false;state.strong=false;state.strikethrough=false;state.quote=0;state.indentedCode=false;if(state.f==htmlBlock){var exit=htmlModeMissing;
if(!exit){var inner=CodeMirror.innerMode(htmlMode,state.htmlState);exit=inner.mode.name=="xml"&&inner.state.tagStart===null&&(!inner.state.context&&inner.state.tokenize.isInText)}if(exit){state.f=inlineNormal;state.block=blockNormal;state.htmlState=null}}state.trailingSpace=0;state.trailingSpaceNewLine=false;state.prevLine=state.thisLine;state.thisLine={stream:null};return null}function blockNormal(stream,state){var firstTokenOnLine=stream.column()===state.indentation;var prevLineLineIsEmpty=lineIsEmpty(state.prevLine.stream);
var prevLineIsIndentedCode=state.indentedCode;var prevLineIsHr=state.prevLine.hr;var prevLineIsList=state.list!==false;var maxNonCodeIndentation=(state.listStack[state.listStack.length-1]||0)+3;state.indentedCode=false;var lineIndentation=state.indentation;if(state.indentationDiff===null){state.indentationDiff=state.indentation;if(prevLineIsList){state.list=null;for(;lineIndentation<state.listStack[state.listStack.length-1];){state.listStack.pop();if(state.listStack.length)state.indentation=state.listStack[state.listStack.length-
1];else state.list=false}if(state.list!==false)state.indentationDiff=lineIndentation-state.listStack[state.listStack.length-1]}}var allowsInlineContinuation=!prevLineLineIsEmpty&&!prevLineIsHr&&!state.prevLine.header&&(!prevLineIsList||!prevLineIsIndentedCode)&&!state.prevLine.fencedCodeEnd;var isHr=(state.list===false||prevLineIsHr||prevLineLineIsEmpty)&&state.indentation<=maxNonCodeIndentation&&stream.match(hrRE);var match=null;if(state.indentationDiff>=4&&(prevLineIsIndentedCode||state.prevLine.fencedCodeEnd||
state.prevLine.header||prevLineLineIsEmpty)){stream.skipToEnd();state.indentedCode=true;return tokenTypes.code}else if(stream.eatSpace())return null;else if(firstTokenOnLine&&state.indentation<=maxNonCodeIndentation&&(match=stream.match(atxHeaderRE))&&match[1].length<=6){state.quote=0;state.header=match[1].length;state.thisLine.header=true;if(modeCfg.highlightFormatting)state.formatting="header";state.f=state.inline;return getType(state)}else if(state.indentation<=maxNonCodeIndentation&&stream.eat(">")){state.quote=
firstTokenOnLine?1:state.quote+1;if(modeCfg.highlightFormatting)state.formatting="quote";stream.eatSpace();return getType(state)}else if(!isHr&&!state.setext&&firstTokenOnLine&&state.indentation<=maxNonCodeIndentation&&(match=stream.match(listRE))){var listType=match[1]?"ol":"ul";state.indentation=lineIndentation+stream.current().length;state.list=true;state.quote=0;state.listStack.push(state.indentation);state.em=false;state.strong=false;state.code=false;state.strikethrough=false;if(modeCfg.taskLists&&
stream.match(taskListRE,false))state.taskList=true;state.f=state.inline;if(modeCfg.highlightFormatting)state.formatting=["list","list-"+listType];return getType(state)}else if(firstTokenOnLine&&state.indentation<=maxNonCodeIndentation&&(match=stream.match(fencedCodeRE,true))){state.quote=0;state.fencedEndRE=new RegExp(match[1]+"+ *$");state.localMode=modeCfg.fencedCodeBlockHighlighting&&getMode(match[2]||modeCfg.fencedCodeBlockDefaultMode);if(state.localMode)state.localState=CodeMirror.startState(state.localMode);
state.f=state.block=local;if(modeCfg.highlightFormatting)state.formatting="code-block";state.code=-1;return getType(state)}else if(state.setext||(!allowsInlineContinuation||!prevLineIsList)&&!state.quote&&state.list===false&&!state.code&&!isHr&&!linkDefRE.test(stream.string)&&(match=stream.lookAhead(1))&&(match=match.match(setextHeaderRE))){if(!state.setext){state.header=match[0].charAt(0)=="="?1:2;state.setext=state.header}else{state.header=state.setext;state.setext=0;stream.skipToEnd();if(modeCfg.highlightFormatting)state.formatting=
"header"}state.thisLine.header=true;state.f=state.inline;return getType(state)}else if(isHr){stream.skipToEnd();state.hr=true;state.thisLine.hr=true;return tokenTypes.hr}else if(stream.peek()==="[")return switchInline(stream,state,footnoteLink);return switchInline(stream,state,state.inline)}function htmlBlock(stream,state){var style=htmlMode.token(stream,state.htmlState);if(!htmlModeMissing){var inner=CodeMirror.innerMode(htmlMode,state.htmlState);if(inner.mode.name=="xml"&&inner.state.tagStart===
null&&(!inner.state.context&&inner.state.tokenize.isInText)||state.md_inside&&stream.current().indexOf(">")>-1){state.f=inlineNormal;state.block=blockNormal;state.htmlState=null}}return style}function local(stream,state){var currListInd=state.listStack[state.listStack.length-1]||0;var hasExitedList=state.indentation<currListInd;var maxFencedEndInd=currListInd+3;if(state.fencedEndRE&&state.indentation<=maxFencedEndInd&&(hasExitedList||stream.match(state.fencedEndRE))){if(modeCfg.highlightFormatting)state.formatting=
"code-block";var returnType;if(!hasExitedList)returnType=getType(state);state.localMode=state.localState=null;state.block=blockNormal;state.f=inlineNormal;state.fencedEndRE=null;state.code=0;state.thisLine.fencedCodeEnd=true;if(hasExitedList)return switchBlock(stream,state,state.block);return returnType}else if(state.localMode)return state.localMode.token(stream,state.localState);else{stream.skipToEnd();return tokenTypes.code}}function getType(state){var styles=[];if(state.formatting){styles.push(tokenTypes.formatting);
if(typeof state.formatting==="string")state.formatting=[state.formatting];var i=0;for(;i<state.formatting.length;i++){styles.push(tokenTypes.formatting+"-"+state.formatting[i]);if(state.formatting[i]==="header")styles.push(tokenTypes.formatting+"-"+state.formatting[i]+"-"+state.header);if(state.formatting[i]==="quote")if(!modeCfg.maxBlockquoteDepth||modeCfg.maxBlockquoteDepth>=state.quote)styles.push(tokenTypes.formatting+"-"+state.formatting[i]+"-"+state.quote);else styles.push("error")}}if(state.taskOpen){styles.push("meta");
return styles.length?styles.join(" "):null}if(state.taskClosed){styles.push("property");return styles.length?styles.join(" "):null}if(state.linkHref)styles.push(tokenTypes.linkHref,"url");else{if(state.strong)styles.push(tokenTypes.strong);if(state.em)styles.push(tokenTypes.em);if(state.strikethrough)styles.push(tokenTypes.strikethrough);if(state.emoji)styles.push(tokenTypes.emoji);if(state.linkText)styles.push(tokenTypes.linkText);if(state.code)styles.push(tokenTypes.code);if(state.image)styles.push(tokenTypes.image);
if(state.imageAltText)styles.push(tokenTypes.imageAltText,"link");if(state.imageMarker)styles.push(tokenTypes.imageMarker)}if(state.header)styles.push(tokenTypes.header,tokenTypes.header+"-"+state.header);if(state.quote){styles.push(tokenTypes.quote);if(!modeCfg.maxBlockquoteDepth||modeCfg.maxBlockquoteDepth>=state.quote)styles.push(tokenTypes.quote+"-"+state.quote);else styles.push(tokenTypes.quote+"-"+modeCfg.maxBlockquoteDepth)}if(state.list!==false){var listMod=(state.listStack.length-1)%3;if(!listMod)styles.push(tokenTypes.list1);
else if(listMod===1)styles.push(tokenTypes.list2);else styles.push(tokenTypes.list3)}if(state.trailingSpaceNewLine)styles.push("trailing-space-new-line");else if(state.trailingSpace)styles.push("trailing-space-"+(state.trailingSpace%2?"a":"b"));return styles.length?styles.join(" "):null}function handleText(stream,state){if(stream.match(textRE,true))return getType(state);return undefined}function inlineNormal(stream,state){var style=state.text(stream,state);if(typeof style!=="undefined")return style;
if(state.list){state.list=null;return getType(state)}if(state.taskList){var taskOpen=stream.match(taskListRE,true)[1]===" ";if(taskOpen)state.taskOpen=true;else state.taskClosed=true;if(modeCfg.highlightFormatting)state.formatting="task";state.taskList=false;return getType(state)}state.taskOpen=false;state.taskClosed=false;if(state.header&&stream.match(/^#+$/,true)){if(modeCfg.highlightFormatting)state.formatting="header";return getType(state)}var ch=stream.next();if(state.linkTitle){state.linkTitle=
false;var matchCh=ch;if(ch==="(")matchCh=")";matchCh=(matchCh+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var regex="^\\s*(?:[^"+matchCh+"\\\\]+|\\\\\\\\|\\\\.)"+matchCh;if(stream.match(new RegExp(regex),true))return tokenTypes.linkHref}if(ch==="`"){var previousFormatting=state.formatting;if(modeCfg.highlightFormatting)state.formatting="code";stream.eatWhile("`");var count=stream.current().length;if(state.code==0&&(!state.quote||count==1)){state.code=count;return getType(state)}else if(count==state.code){var t=
getType(state);state.code=0;return t}else{state.formatting=previousFormatting;return getType(state)}}else if(state.code)return getType(state);if(ch==="\\"){stream.next();if(modeCfg.highlightFormatting){var type=getType(state);var formattingEscape=tokenTypes.formatting+"-escape";return type?type+" "+formattingEscape:formattingEscape}}if(ch==="!"&&stream.match(/\[[^\]]*\] ?(?:\(|\[)/,false)){state.imageMarker=true;state.image=true;if(modeCfg.highlightFormatting)state.formatting="image";return getType(state)}if(ch===
"["&&state.imageMarker&&stream.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,false)){state.imageMarker=false;state.imageAltText=true;if(modeCfg.highlightFormatting)state.formatting="image";return getType(state)}if(ch==="]"&&state.imageAltText){if(modeCfg.highlightFormatting)state.formatting="image";type=getType(state);state.imageAltText=false;state.image=false;state.inline=state.f=linkHref;return type}if(ch==="["&&!state.image){if(state.linkText&&stream.match(/^.*?\]/))return getType(state);state.linkText=
true;if(modeCfg.highlightFormatting)state.formatting="link";return getType(state)}if(ch==="]"&&state.linkText){if(modeCfg.highlightFormatting)state.formatting="link";type=getType(state);state.linkText=false;state.inline=state.f=stream.match(/\(.*?\)| ?\[.*?\]/,false)?linkHref:inlineNormal;return type}if(ch==="<"&&stream.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,false)){state.f=state.inline=linkInline;if(modeCfg.highlightFormatting)state.formatting="link";type=getType(state);if(type)type=type+" ";
else type="";return type+tokenTypes.linkInline}if(ch==="<"&&stream.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,false)){state.f=state.inline=linkInline;if(modeCfg.highlightFormatting)state.formatting="link";type=getType(state);if(type)type=type+" ";else type="";return type+tokenTypes.linkEmail}if(modeCfg.xml&&ch==="<"&&stream.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,false)){var end=stream.string.indexOf(">",stream.pos);if(end!=-1){var atts=stream.string.substring(stream.start,
end);if(/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(atts))state.md_inside=true}stream.backUp(1);state.htmlState=CodeMirror.startState(htmlMode);return switchBlock(stream,state,htmlBlock)}if(modeCfg.xml&&ch==="<"&&stream.match(/^\/\w*?>/)){state.md_inside=false;return"tag"}else if(ch==="*"||ch==="_"){var len=1;var before=stream.pos==1?" ":stream.string.charAt(stream.pos-2);for(;len<3&&stream.eat(ch);)len++;var after=stream.peek()||" ";var leftFlanking=!/\s/.test(after)&&(!punctuation.test(after)||
/\s/.test(before)||punctuation.test(before));var rightFlanking=!/\s/.test(before)&&(!punctuation.test(before)||/\s/.test(after)||punctuation.test(after));var setEm=null;var setStrong=null;if(len%2)if(!state.em&&leftFlanking&&(ch==="*"||!rightFlanking||punctuation.test(before)))setEm=true;else if(state.em==ch&&rightFlanking&&(ch==="*"||!leftFlanking||punctuation.test(after)))setEm=false;if(len>1)if(!state.strong&&leftFlanking&&(ch==="*"||!rightFlanking||punctuation.test(before)))setStrong=true;else if(state.strong==
ch&&rightFlanking&&(ch==="*"||!leftFlanking||punctuation.test(after)))setStrong=false;if(setStrong!=null||setEm!=null){if(modeCfg.highlightFormatting)state.formatting=setEm==null?"strong":setStrong==null?"em":"strong em";if(setEm===true)state.em=ch;if(setStrong===true)state.strong=ch;t=getType(state);if(setEm===false)state.em=false;if(setStrong===false)state.strong=false;return t}}else if(ch===" ")if(stream.eat("*")||stream.eat("_"))if(stream.peek()===" ")return getType(state);else stream.backUp(1);
if(modeCfg.strikethrough)if(ch==="~"&&stream.eatWhile(ch))if(state.strikethrough){if(modeCfg.highlightFormatting)state.formatting="strikethrough";t=getType(state);state.strikethrough=false;return t}else{if(stream.match(/^[^\s]/,false)){state.strikethrough=true;if(modeCfg.highlightFormatting)state.formatting="strikethrough";return getType(state)}}else if(ch===" ")if(stream.match("~~",true))if(stream.peek()===" ")return getType(state);else stream.backUp(2);if(modeCfg.emoji&&ch===":"&&stream.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){state.emoji=
true;if(modeCfg.highlightFormatting)state.formatting="emoji";var retType=getType(state);state.emoji=false;return retType}if(ch===" ")if(stream.match(/^ +$/,false))state.trailingSpace++;else if(state.trailingSpace)state.trailingSpaceNewLine=true;return getType(state)}function linkInline(stream,state){var ch=stream.next();if(ch===">"){state.f=state.inline=inlineNormal;if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);if(type)type=type+" ";else type="";return type+tokenTypes.linkInline}stream.match(/^[^>]+/,
true);return tokenTypes.linkInline}function linkHref(stream,state){if(stream.eatSpace())return null;var ch=stream.next();if(ch==="("||ch==="["){state.f=state.inline=getLinkHrefInside(ch==="("?")":"]");if(modeCfg.highlightFormatting)state.formatting="link-string";state.linkHref=true;return getType(state)}return"error"}function getLinkHrefInside(endChar){return function(stream,state){var ch=stream.next();if(ch===endChar){state.f=state.inline=inlineNormal;if(modeCfg.highlightFormatting)state.formatting=
"link-string";var returnState=getType(state);state.linkHref=false;return returnState}stream.match(linkRE[endChar]);state.linkHref=true;return getType(state)}}function footnoteLink(stream,state){if(stream.match(/^([^\]\\]|\\.)*\]:/,false)){state.f=footnoteLinkInside;stream.next();if(modeCfg.highlightFormatting)state.formatting="link";state.linkText=true;return getType(state)}return switchInline(stream,state,inlineNormal)}function footnoteLinkInside(stream,state){if(stream.match("]:",true)){state.f=
state.inline=footnoteUrl;if(modeCfg.highlightFormatting)state.formatting="link";var returnType=getType(state);state.linkText=false;return returnType}stream.match(/^([^\]\\]|\\.)+/,true);return tokenTypes.linkText}function footnoteUrl(stream,state){if(stream.eatSpace())return null;stream.match(/^[^\s]+/,true);if(stream.peek()===undefined)state.linkTitle=true;else stream.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,true);state.f=state.inline=inlineNormal;return tokenTypes.linkHref+
" url"}var htmlMode=CodeMirror.getMode(cmCfg,"text/html");var htmlModeMissing=htmlMode.name=="null";if(modeCfg.highlightFormatting===undefined)modeCfg.highlightFormatting=false;if(modeCfg.maxBlockquoteDepth===undefined)modeCfg.maxBlockquoteDepth=0;if(modeCfg.taskLists===undefined)modeCfg.taskLists=false;if(modeCfg.strikethrough===undefined)modeCfg.strikethrough=false;if(modeCfg.emoji===undefined)modeCfg.emoji=false;if(modeCfg.fencedCodeBlockHighlighting===undefined)modeCfg.fencedCodeBlockHighlighting=
true;if(modeCfg.fencedCodeBlockDefaultMode===undefined)modeCfg.fencedCodeBlockDefaultMode="text/plain";if(modeCfg.xml===undefined)modeCfg.xml=true;if(modeCfg.tokenTypeOverrides===undefined)modeCfg.tokenTypeOverrides={};var tokenTypes={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",
em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};var tokenType;for(tokenType in tokenTypes)if(tokenTypes.hasOwnProperty(tokenType)&&modeCfg.tokenTypeOverrides[tokenType])tokenTypes[tokenType]=modeCfg.tokenTypeOverrides[tokenType];var hrRE=/^([*\-_])(?:\s*\1){2,}\s*$/;var listRE=/^(?:[*\-+]|^[0-9]+([.)]))\s+/;var taskListRE=/^\[(x| )\](?=\s)/i;var atxHeaderRE=modeCfg.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/;var setextHeaderRE=/^ {0,3}(?:={1,}|-{2,})\s*$/;var textRE=/^[^#!\[\]*_\\<>` "'(~:]+/;
var fencedCodeRE=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/;var linkDefRE=/^\s*\[[^\]]+?\]:.*$/;var punctuation=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;
var expandedTab="    ";var linkRE={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};var mode={startState:function(){return{f:blockNormal,prevLine:{stream:null},thisLine:{stream:null},block:blockNormal,htmlState:null,indentation:0,inline:inlineNormal,text:handleText,formatting:false,linkText:false,linkHref:false,linkTitle:false,code:0,em:false,strong:false,header:0,setext:0,hr:false,taskList:false,list:false,listStack:[],quote:0,trailingSpace:0,
trailingSpaceNewLine:false,strikethrough:false,emoji:false,fencedEndRE:null}},copyState:function(s){return{f:s.f,prevLine:s.prevLine,thisLine:s.thisLine,block:s.block,htmlState:s.htmlState&&CodeMirror.copyState(htmlMode,s.htmlState),indentation:s.indentation,localMode:s.localMode,localState:s.localMode?CodeMirror.copyState(s.localMode,s.localState):null,inline:s.inline,text:s.text,formatting:false,linkText:s.linkText,linkTitle:s.linkTitle,linkHref:s.linkHref,code:s.code,em:s.em,strong:s.strong,strikethrough:s.strikethrough,
emoji:s.emoji,header:s.header,setext:s.setext,hr:s.hr,taskList:s.taskList,list:s.list,listStack:s.listStack.slice(0),quote:s.quote,indentedCode:s.indentedCode,trailingSpace:s.trailingSpace,trailingSpaceNewLine:s.trailingSpaceNewLine,md_inside:s.md_inside,fencedEndRE:s.fencedEndRE}},token:function(stream,state){state.formatting=false;if(stream!=state.thisLine.stream){state.header=0;state.hr=false;if(stream.match(/^\s*$/,true)){blankLine(state);return null}state.prevLine=state.thisLine;state.thisLine=
{stream:stream};state.taskList=false;state.trailingSpace=0;state.trailingSpaceNewLine=false;if(!state.localState){state.f=state.block;if(state.f!=htmlBlock){var indentation=stream.match(/^\s*/,true)[0].replace(/\t/g,expandedTab).length;state.indentation=indentation;state.indentationDiff=null;if(indentation>0)return null}}}return state.f(stream,state)},innerMode:function(state){if(state.block==htmlBlock)return{state:state.htmlState,mode:htmlMode};if(state.localState)return{state:state.localState,mode:state.localMode};
return{state:state,mode:mode}},indent:function(state,textAfter,line){if(state.block==htmlBlock&&htmlMode.indent)return htmlMode.indent(state.htmlState,textAfter,line);if(state.localState&&state.localMode.indent)return state.localMode.indent(state.localState,textAfter,line);return CodeMirror.Pass},blankLine:blankLine,getType:getType,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return mode},"xml");CodeMirror.defineMIME("text/markdown","markdown");
CodeMirror.defineMIME("text/x-markdown","markdown")});CodeMirror.defineMode("moka",function(){function keywordRegex(words){return new RegExp("^\\s*(\\[[a-z,]*\\]\\s*)?(("+words.join(")|(")+"))\\b:")}function wordRegex(words){return new RegExp("^(("+words.join(")|(")+"))\\b")}var structureKeywords=keywordRegex(["brand-facet","category","category-override","context-list","cue","derived-category","facet","factual-concept-type-facet","feature-facet","gender-facet","measure","measure-facet","modern-measure","numeric-evidence","parseconfig","product-line-facet",
"quoted-tag","renderconfig","status-override","syn","template","type-facet","weak-tag"]);var enumKeywords=wordRegex(["ADJACENT","ANYNUMBER","APPAREL","ASSESS","ASSESS2","AUTO_POPULAR","BLURBS","BREADCRUMB","CALIBRATION","CALIBRATION2","CALIBRATION_WITH_NUKE","CALIBRATION_WITH_NUKE2","CARAVAN","COMPACT_MULTI_SELECT","CONVERSATIONAL_SHOPPING","DATEYM","DECIMAL","DECIMAL0","DECIMAL1","DECIMAL1_OLD","DECIMAL2","DECIMAL2_OLD","DECIMAL3","DECIMAL4","DECIMAL5","DECIMAL6","DECIMAL7","DECIMAL8","DECIMAL9",
"DETAILED_DISPLAY","DEV","DIMENSIONAL","DISPLAY","DONT_USE_THIS_STATE","DONT_USE__EXHAUSTIVE","ELECTRONICS","EXACTINTEGER","EXACTMIXED16","EXACTMIXED2","EXACTMIXED32","EXACTMIXED4","EXACTMIXED64","EXACTMIXED8","EXTRACTION_TUNE_ADVANCED","EXTRACTION_TUNE_ASSESS","EXTRACTION_TUNE_BASIC","FACTUAL_CONCEPTS","FEMALE","FIRSTSEEN","FRACTION","FULL","FULL_WITH_MORE_TAGS","FURNITURE","GSX","HIGH","HYBRID_SCORING","IMAGES","IMPROPER","INCIDENTALLY_VARIANT","INTEGER","INVARIANT","LARGER","LAUNCH_REVIEW","LEFTHALF",
"LOW","LUGGAGE","MAINTENANCE","MALE","MATURE","MEDIA","MEDIUM","MINIVERTS","MIXED16","MIXED2","MIXED2_OLD","MIXED32","MIXED4","MIXED4_OLD","MIXED64","MIXED8","MULTI_SELECT","NEITHER","NONE","NOT_VISUAL","NO_GENDER","NO_OPINION","NUMERIC","ONEOVERINT","PARTIAL","PHRASE","PLURAL","POPULARITY","POSITIVE","POSTFIX","PREFIX","PROD","PSCORE","QUERY_PARSING","QUERY_PARSING_TUNE","RAW","REFINEMENTS","REJECT","RELEASE_DATE","RIGHTHALF","ROUND10","ROUND100","ROUND1000","ROUND25","ROUND250","ROUND2500","ROUND50",
"ROUND500","ROUND5000","SELECTIVE","SENTENCE","SHOPPING","SINGLE_SELECT","SINGLE_SELECT_PLUS_IMG","SINGULAR","SIZE_TYPE","SMALLER","SORT_FACETS_CORRECTLY","STANDALONE","STRONG","STRONGPOSITIVE","STRONGREJECT","STRUCTURE_DEFINE","STRUCTURE_LOCALIZE","STRUCTURE_TUNEUP","SUBFACETS","SUFFIX","TEXT","TIER1","UNKNOWN","UNLAUNCHING","UNRECONCILED","UNSPECIFIED","VARIANT","VARIANTS","VARIANTS_IN_MOKA","VERYHIGH","VISUAL","VISUALLY_SIMILAR","VISUAL_COLOR","VISUAL_COLOR_CLUSTER","WEAK","false","true"]);var otherKeywords=
keywordRegex(["add","alternate-unit","ambiguous-query","attributes-in-order","bean-level","better-direction","blurb-body","blurb-head","blurb-min-facets","blurb-optional","brand-identity","browse-mode","bug","by-request-only","category-query","changiness","color","compact-name","context","default","description","div","evidence","exact-phrase","experimental","export-to-kg","facet-coverage","facet-gender","facet-plural","fixity","forbidden-tag","full-name","group","hidden","hold-because","ignore","image",
"inferred-from-tag","is-auto-generated","kg-type-override","larger","launchable-behavior","locale-description","localized","lowercase-ok","maxdenom","mistake","mult","multivalued","multivalued-for","name-if-facet-shown","needs-verified","not-in-group","not-related","numeric-query","omit-postfix-space","omit-prefix-space","omit-unit-space","on-topic","parse-query","parsedec","parsefrac","parseimproper","parsemixed","percentile-range","plural-unit","position","positive-context","postfix","precision",
"preferred","preferred-context","preferred-query","prefix","product-cluster-variance","propagation","query","range","related","render-concise","render-number","renderstyle","required-related","required-tag","required-template","ri-description","round-to","scoring-function","smaller","special-case","state","status","stopword","string-value-context","strong-tag-generation","sub","template-id","template-name","ui-display-widget","ui-emphasis","ui-features","unit","unit-anycase","unit-builtin","unit-is-prefix",
"unit-literal","unit-regexp","unit-words","value-range","vertical","visual-distinction","weird"]);return{startState:function(){return{indent:0}},token:function(stream,state){if(stream.sol()){if(stream.match(structureKeywords)){state.indent=stream.indentation()+2;return"builtin"}if(stream.match(otherKeywords))return"keyword"}if(stream.eatSpace())return null;if(stream.match(/\\#/))return null;var ch=stream.peek();if(ch==="#"){stream.skipToEnd();return"comment"}if(stream.match(enumKeywords))return"string";
if(stream.match(/^\b\d+\.\d+\b/)||stream.match(/^\b\d+\b/))return"number";if(stream.match(/^\w\d/)){stream.eatWhile(/\d/);return null}stream.next();return null},indent:function(state,textAfter){return state.indent},lineComment:"#",fold:"indent"}});CodeMirror.defineMIME("text/x-moka","moka");/*

 Copyright 2019 Google LLC

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
CodeMirror.defineMode("nautilus",function(config,parserConfig){function maybeTokenNumber(stream){if(!stream.match(/^[0-9.]/,false))return null;if(stream.match(/[0-9]+e[+-]?\d+/i))return"number";if(stream.match(/^\d*\.\d+/)||stream.match(/^\d+\./)){stream.match(/e[+-]?\d+/i);return"number"}if(stream.match(/^0x[0-9a-f]+/i)||stream.match(/^0b[01]+/i)||stream.match(/^0[0-7]+/i)||stream.match(/^[1-9]\d*/)||stream.match(/^0(?![\dx])/i)){stream.eat(/L/i);return"number"}return null}function tokenString(stream,
state){var delimiter=state.delimiter?state.delimiter:stream.current();for(;"rubf".includes(delimiter.charAt(0).toLowerCase());)delimiter=delimiter.substr(1);for(;!stream.eol();){stream.eatWhile(/[^'"\\]/);if(stream.eat("\\"))stream.next();else if(stream.match(delimiter)){state.delimiter=null;state.type=null;return"string"}else stream.eat(/['"]/)}if(delimiter&&delimiter.length>1){state.delimiter=delimiter;state.type="string"}return"string"}function tokenRegexp(stream,state){var delimiter=state.delimiter?
state.delimiter:stream.current();for(;!stream.eol();){stream.eatWhile(/[^'"\\]/);if(stream.eat("\\"))stream.next();else if(stream.match(delimiter)){stream.eatWhile(/[a-z]/i);state.delimiter=null;state.type=null;return"string-2"}else stream.eat(/['"]/)}if(delimiter&&delimiter.length>1){state.delimiter=delimiter;state.type="regexp"}return"string-2"}function tokenName(stream,state){var cur=stream.current();if(state.precedingPunctuation===".")return"property";if(keywords.has(cur))return"keyword";if(builtins.has(cur))return"builtin";
return"variable"}function tokenBase(stream,state){if(state.type=="string")return tokenString(stream,state);if(state.type=="regexp")return tokenRegexp(stream,state);if(stream.eatSpace())return null;if(stream.match(/`[^\r\n`]*`/))return"variable";if(stream.match(/^#.*/))return"comment";var maybeNumber=maybeTokenNumber(stream);if(maybeNumber)return maybeNumber;if(stream.match(stringPrefixesRE))return tokenString(stream,state);if(stream.match(regexpPrefixRE)){stream.eat("re");return tokenRegexp(stream,
state)}if(stream.match(rulePartDeclarationsRe)){if(rulePartDeclarations.has(stream.current()))return"atom";return"error"}if(stream.match(identifiersRE))return tokenName(stream,state);if(stream.match(punctuationRe)){var punct=stream.current();if(indentDelimiters.has(punct))state.indentStack.push({base:state.indent,openDelim:punct,adjust:config.indentUnit});else if(state.indentStack.length>1){var lastIndent=state.indentStack[state.indentStack.length-1];if(indentDelimiters.get(lastIndent.openDelim)===
punct)state.indent=state.indentStack.pop().base}return"punctuation"}if(stream.match(operatorsRe))return"operator";stream.next();return"error"}var rulePartDeclarations=new Set(["@condition","@dynamic_output_labels","@error_labels","@feature_output","@output_labels","@precondition","@rule_id","@sources","@variables"]);var rulePartDeclarationsRe=/^@[a-z_]+/;var keywords=new Set(["as","or","and","not","if","else","in","is","for","from","rule","with","public","False","True","None","actionable","async",
"attached","optional"]);var indentDelimiters=new Map([["(",")"],["[","]"],["{","}"]]);var punctuationRe=/^[()\[\]{}.,:]/;var operatorsRe=/^(==)|(!=)|=|(<<)|(>>)|(<=)|(>=)|<|>|\||\^|&|\+|-|(\*\*)|\*|(\/\/)|\/|%|~|@/;var builtins=new Set(["abs","any","all","bool","enumerate","fail","float","hex","int","len","list","max","min","oct","range","set","str","sum","zip"]);var identifiersRE=/^[_A-Za-z][_A-Za-z0-9]*/;var stringPrefixesRE=/^(([rub]|(ur)|(br))?('{3}|"{3}|['"]))/i;var regexpPrefixRE=/^re('{3}|"{3}|['"])/;
return{startState:function(baseColumn){return{delimiter:null,type:null,precedingPunctuation:null,indent:baseColumn||0,indentStack:[{base:baseColumn||0,openDelim:"init",adjust:0}]}},token:function(stream,state){if(stream.sol())state.indent=stream.indentation();var style=tokenBase(stream,state);if(style==="punctuation")state.precedingPunctuation=stream.current();else state.precedingPunctuation=null;return style},indent:function(state,textAfter){var lastIndent=state.indentStack[state.indentStack.length-
1];var offset=0;if(indentDelimiters.get(lastIndent.openDelim)===textAfter.charAt(0))offset=lastIndent.base-state.indent;else if(lastIndent.base===state.indent)offset=lastIndent.adjust;return state.indent+offset},electricInput:/^\s*[}\])]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}});CodeMirror.defineMIME("text/x-nautilus","nautilus");(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("nginx",function(config){function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function ret(style,tp){type=tp;return style}function tokenBase(stream,state){stream.eatWhile(/[\w\$_]/);
var cur=stream.current();if(keywords.propertyIsEnumerable(cur))return"keyword";else if(keywords_block.propertyIsEnumerable(cur))return"variable-2";else if(keywords_important.propertyIsEnumerable(cur))return"string-2";var ch=stream.next();if(ch=="@"){stream.eatWhile(/[\w\\\-]/);return ret("meta",stream.current())}else if(ch=="/"&&stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else if(ch=="<"&&stream.eat("!")){state.tokenize=tokenSGMLComment;return tokenSGMLComment(stream,
state)}else if(ch=="=")ret(null,"compare");else if((ch=="~"||ch=="|")&&stream.eat("="))return ret(null,"compare");else if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(ch=="#"){stream.skipToEnd();return ret("comment","comment")}else if(ch=="!"){stream.match(/^\s*\w*/);return ret("keyword","important")}else if(/\d/.test(ch)){stream.eatWhile(/[\w.%]/);return ret("number","unit")}else if(/[,.+>*\/]/.test(ch))return ret(null,"select-op");else if(/[;{}:\[\]]/.test(ch))return ret(null,
ch);else{stream.eatWhile(/[\w\\\-]/);return ret("variable","variable")}}function tokenCComment(stream,state){var maybeEnd=false;var ch;for(;(ch=stream.next())!=null;){if(maybeEnd&&ch=="/"){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return ret("comment","comment")}function tokenSGMLComment(stream,state){var dashes=0;var ch;for(;(ch=stream.next())!=null;){if(dashes>=2&&ch==">"){state.tokenize=tokenBase;break}dashes=ch=="-"?dashes+1:0}return ret("comment","comment")}function tokenString(quote){return function(stream,
state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch==quote&&!escaped)break;escaped=!escaped&&ch=="\\"}if(!escaped)state.tokenize=tokenBase;return ret("string","string")}}var keywords=words("break return rewrite set"+" accept_mutex accept_mutex_delay access_log add_after_body add_before_body add_header addition_types aio alias allow ancient_browser ancient_browser_value auth_basic auth_basic_user_file auth_http auth_http_header auth_http_timeout autoindex autoindex_exact_size autoindex_localtime charset charset_types client_body_buffer_size client_body_in_file_only client_body_in_single_buffer client_body_temp_path client_body_timeout client_header_buffer_size client_header_timeout client_max_body_size connection_pool_size create_full_put_path daemon dav_access dav_methods debug_connection debug_points default_type degradation degrade deny devpoll_changes devpoll_events directio directio_alignment empty_gif env epoll_events error_log eventport_events expires fastcgi_bind fastcgi_buffer_size fastcgi_buffers fastcgi_busy_buffers_size fastcgi_cache fastcgi_cache_key fastcgi_cache_methods fastcgi_cache_min_uses fastcgi_cache_path fastcgi_cache_use_stale fastcgi_cache_valid fastcgi_catch_stderr fastcgi_connect_timeout fastcgi_hide_header fastcgi_ignore_client_abort fastcgi_ignore_headers fastcgi_index fastcgi_intercept_errors fastcgi_max_temp_file_size fastcgi_next_upstream fastcgi_param fastcgi_pass_header fastcgi_pass_request_body fastcgi_pass_request_headers fastcgi_read_timeout fastcgi_send_lowat fastcgi_send_timeout fastcgi_split_path_info fastcgi_store fastcgi_store_access fastcgi_temp_file_write_size fastcgi_temp_path fastcgi_upstream_fail_timeout fastcgi_upstream_max_fails flv geoip_city geoip_country google_perftools_profiles gzip gzip_buffers gzip_comp_level gzip_disable gzip_hash gzip_http_version gzip_min_length gzip_no_buffer gzip_proxied gzip_static gzip_types gzip_vary gzip_window if_modified_since ignore_invalid_headers image_filter image_filter_buffer image_filter_jpeg_quality image_filter_transparency imap_auth imap_capabilities imap_client_buffer index ip_hash keepalive_requests keepalive_timeout kqueue_changes kqueue_events large_client_header_buffers limit_conn limit_conn_log_level limit_rate limit_rate_after limit_req limit_req_log_level limit_req_zone limit_zone lingering_time lingering_timeout lock_file log_format log_not_found log_subrequest map_hash_bucket_size map_hash_max_size master_process memcached_bind memcached_buffer_size memcached_connect_timeout memcached_next_upstream memcached_read_timeout memcached_send_timeout memcached_upstream_fail_timeout memcached_upstream_max_fails merge_slashes min_delete_depth modern_browser modern_browser_value msie_padding msie_refresh multi_accept open_file_cache open_file_cache_errors open_file_cache_events open_file_cache_min_uses open_file_cache_valid open_log_file_cache output_buffers override_charset perl perl_modules perl_require perl_set pid pop3_auth pop3_capabilities port_in_redirect postpone_gzipping postpone_output protocol proxy proxy_bind proxy_buffer proxy_buffer_size proxy_buffering proxy_buffers proxy_busy_buffers_size proxy_cache proxy_cache_key proxy_cache_methods proxy_cache_min_uses proxy_cache_path proxy_cache_use_stale proxy_cache_valid proxy_connect_timeout proxy_headers_hash_bucket_size proxy_headers_hash_max_size proxy_hide_header proxy_ignore_client_abort proxy_ignore_headers proxy_intercept_errors proxy_max_temp_file_size proxy_method proxy_next_upstream proxy_pass_error_message proxy_pass_header proxy_pass_request_body proxy_pass_request_headers proxy_read_timeout proxy_redirect proxy_send_lowat proxy_send_timeout proxy_set_body proxy_set_header proxy_ssl_session_reuse proxy_store proxy_store_access proxy_temp_file_write_size proxy_temp_path proxy_timeout proxy_upstream_fail_timeout proxy_upstream_max_fails random_index read_ahead real_ip_header recursive_error_pages request_pool_size reset_timedout_connection resolver resolver_timeout rewrite_log rtsig_overflow_events rtsig_overflow_test rtsig_overflow_threshold rtsig_signo satisfy secure_link_secret send_lowat send_timeout sendfile sendfile_max_chunk server_name_in_redirect server_names_hash_bucket_size server_names_hash_max_size server_tokens set_real_ip_from smtp_auth smtp_capabilities smtp_client_buffer smtp_greeting_delay so_keepalive source_charset ssi ssi_ignore_recycled_buffers ssi_min_file_chunk ssi_silent_errors ssi_types ssi_value_length ssl ssl_certificate ssl_certificate_key ssl_ciphers ssl_client_certificate ssl_crl ssl_dhparam ssl_engine ssl_prefer_server_ciphers ssl_protocols ssl_session_cache ssl_session_timeout ssl_verify_client ssl_verify_depth starttls stub_status sub_filter sub_filter_once sub_filter_types tcp_nodelay tcp_nopush thread_stack_size timeout timer_resolution types_hash_bucket_size types_hash_max_size underscores_in_headers uninitialized_variable_warn use user userid userid_domain userid_expires userid_mark userid_name userid_p3p userid_path userid_service valid_referers variables_hash_bucket_size variables_hash_max_size worker_connections worker_cpu_affinity worker_priority worker_processes worker_rlimit_core worker_rlimit_nofile worker_rlimit_sigpending worker_threads working_directory xclient xml_entities xslt_stylesheet xslt_typesdrew@li229-23");
var keywords_block=words("http mail events server types location upstream charset_map limit_except if geo map");var keywords_important=words("include root server server_name listen internal proxy_pass memcached_pass fastcgi_pass try_files");var indentUnit=config.indentUnit;var type;return{startState:function(base){return{tokenize:tokenBase,baseIndent:base||0,stack:[]}},token:function(stream,state){if(stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);var context=state.stack[state.stack.length-
1];if(type=="hash"&&context=="rule")style="atom";else if(style=="variable")if(context=="rule")style="number";else if(!context||context=="@media{")style="tag";if(context=="rule"&&/^[\{\};]$/.test(type))state.stack.pop();if(type=="{")if(context=="@media")state.stack[state.stack.length-1]="@media{";else state.stack.push("{");else if(type=="}")state.stack.pop();else if(type=="@media")state.stack.push("@media");else if(context=="{"&&type!="comment")state.stack.push("rule");return style},indent:function(state,
textAfter){var n=state.stack.length;if(/^\}/.test(textAfter))n=n-(state.stack[state.stack.length-1]=="rule"?2:1);return state.baseIndent+n*indentUnit},electricChars:"}"}});CodeMirror.defineMIME("text/x-nginx-conf","nginx")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("octave",function(){function wordRegexp(words){return new RegExp("^(("+words.join(")|(")+"))\\b")}function tokenTranspose(stream,state){if(!stream.sol()&&stream.peek()==="'"){stream.next();state.tokenize=tokenBase;return"operator"}state.tokenize=tokenBase;
return tokenBase(stream,state)}function tokenComment(stream,state){if(stream.match(/^.*%}/)){state.tokenize=tokenBase;return"comment"}stream.skipToEnd();return"comment"}function tokenBase(stream,state){if(stream.eatSpace())return null;if(stream.match("%{")){state.tokenize=tokenComment;stream.skipToEnd();return"comment"}if(stream.match(/^[%#]/)){stream.skipToEnd();return"comment"}if(stream.match(/^[0-9\.+-]/,false)){if(stream.match(/^[+-]?0x[0-9a-fA-F]+[ij]?/)){stream.tokenize=tokenBase;return"number"}if(stream.match(/^[+-]?\d*\.\d+([EeDd][+-]?\d+)?[ij]?/))return"number";
if(stream.match(/^[+-]?\d+([EeDd][+-]?\d+)?[ij]?/))return"number"}if(stream.match(wordRegexp(["nan","NaN","inf","Inf"])))return"number";var m=stream.match(/^"(?:[^"]|"")*("|$)/)||stream.match(/^'(?:[^']|'')*('|$)/);if(m)return m[1]?"string":"string error";if(stream.match(keywords))return"keyword";if(stream.match(builtins))return"builtin";if(stream.match(identifiers))return"variable";if(stream.match(singleOperators)||stream.match(doubleOperators))return"operator";if(stream.match(singleDelimiters)||
stream.match(doubleDelimiters)||stream.match(tripleDelimiters))return null;if(stream.match(expressionEnd)){state.tokenize=tokenTranspose;return null}stream.next();return"error"}var singleOperators=new RegExp("^[\\+\\-\\*/&|\\^~<>!@'\\\\]");var singleDelimiters=new RegExp("^[\\(\\[\\{\\},:=;\\.]");var doubleOperators=new RegExp("^((==)|(~=)|(<=)|(>=)|(<<)|(>>)|(\\.[\\+\\-\\*/\\^\\\\]))");var doubleDelimiters=new RegExp("^((!=)|(\\+=)|(\\-=)|(\\*=)|(/=)|(&=)|(\\|=)|(\\^=))");var tripleDelimiters=new RegExp("^((>>=)|(<<=))");
var expressionEnd=new RegExp("^[\\]\\)]");var identifiers=new RegExp("^[_A-Za-z\u00a1-\uffff][_A-Za-z0-9\u00a1-\uffff]*");var builtins=wordRegexp(["error","eval","function","abs","acos","atan","asin","cos","cosh","exp","log","prod","sum","log10","max","min","sign","sin","sinh","sqrt","tan","reshape","break","zeros","default","margin","round","ones","rand","syn","ceil","floor","size","clear","zeros","eye","mean","std","cov","det","eig","inv","norm","rank","trace","expm","logm","sqrtm","linspace","plot",
"title","xlabel","ylabel","legend","text","grid","meshgrid","mesh","num2str","fft","ifft","arrayfun","cellfun","input","fliplr","flipud","ismember"]);var keywords=wordRegexp(["return","case","switch","else","elseif","end","endif","endfunction","if","otherwise","do","for","while","try","catch","classdef","properties","events","methods","global","persistent","endfor","endwhile","printf","sprintf","disp","until","continue","pkg"]);return{startState:function(){return{tokenize:tokenBase}},token:function(stream,
state){var style=state.tokenize(stream,state);if(style==="number"||style==="variable")state.tokenize=tokenTranspose;return style},lineComment:"%",fold:"indent"}});CodeMirror.defineMIME("text/x-octave","octave")});/*

 Copyright 2017 Google Inc.  All Rights Reserved.
 @fileoverview PathQuery 2.0 mode (http://go/pq2) for CodeMirror.
 @author renez@google.com
*/
(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function pushContext(state,col,type){state.context=new Context(state.indented,col,type,null,state.context)}function popContext(state){if(!state.context.prev_)return;var type=state.context.type_;if(type===")"||type==="]"||type==="}")state.indented=state.context.indented_;
state.context=state.context.prev_}var Context=function(indented,column,type,align,prev){this.indented_=indented;this.column_=column;this.type_=type;this.align_=align;this.prev_=prev};CodeMirror.defineMode("pathquery2",function(config){function isDef(state){var type=state.lastTokenType;return type==="def"||type==="deftype"||type=="import"}function isField(stream){return stream.match(/^\s*:([^:]|$)/,false)}function styleIdentifier(cur,stream,state){if(isDef(state))return"def";if(isField(stream))return"property";
if(builtins.has(cur))return"builtin";return"variable"}function updateLastTokenType(style,stream,state){var type=state.lastTokenType;if(type==="import"){if(style==="string"||stream.current()==="from")state.lastTokenType=null}else{state.lastTokenType=null;if(style==="keyword")if(stream.current()==="import")state.lastTokenType="import";else if(stream.current()==="def")state.lastTokenType="def";else if(type=="def"&&deftypes.has(stream.current()))state.lastTokenType="deftype"}}function tokenBase(stream,
state){var next=stream.next();if(next==="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}}if(next==='"'||next==="'"){state.tokenize=tokenString(next);return state.tokenize(stream,state)}if(next==="|"){state.tokenize=tokenIdentifier;return state.tokenize(stream,state)}if(/\d/.test(next)){stream.backUp(1);if(stream.match(/^0([bB][01]+|[oO][0-7]+|[xX][a-fA-F\d]+)/)||stream.match(/^\d+(\.\d+)?([eE][+-]?\d+)?/))return"number";
stream.next()}if(/[?$@]/.test(next)&&stream.match(/^[a-zA-Z_]\w*/)){var cur=stream.current();if(predicates.has(cur))return"atom";if(functions.has(cur))return"builtin";if(fields.has(cur)&&isField(stream))return"property";if(cur[0]==="@")return"variable";return"variable-2"}if(/[\/a-zA-Z_]/.test(next)){stream.backUp(1);if(stream.match(/^(\/\w|[a-zA-Z_])(\/?\w)*/)){var cur$jscomp$0=stream.current();if(keywords.has(cur$jscomp$0))return"keyword";if(atoms.has(cur$jscomp$0))return"atom";return styleIdentifier(cur$jscomp$0,
stream,state)}stream.next()}if(isOperatorChar.test(next))return"operator";if(/[\[\]{}\(\),;]/.test(next))curPunc=next;return null}function tokenComment(stream,state){var maybeEnd=false;var next;for(;(next=stream.next())!=null;){if(maybeEnd&&next==="/"){state.tokenize=tokenBase;break}maybeEnd=next==="*"}return"comment"}function tokenString(quote){return function(stream,state){var escaped=false;var next;for(;(next=stream.next())!=null;){if(next===quote&&!escaped){state.tokenize=tokenBase;break}escaped=
!escaped&&next==="\\"}return"string"}}function tokenIdentifier(stream,state){var escaped=false;var end=false;var next;for(;(next=stream.next())!=null;){if(next==="|"&&!escaped){end=true;break}escaped=!escaped&&next==="\\"}if(end||!escaped)state.tokenize=tokenBase;var cur=stream.current();if(cur==="||")return"operator";return styleIdentifier(cur.substring(1,cur.length-1),stream,state)}var indentUnit=config.indentUnit;var isOperatorChar=/[=!<>+\-*\/?:.#&|]/;var keywords=new Set(["import","as","from",
"into","external","implemented_by","def","path","expr","test","if","else","classify","eval","where","require","prohibit","optional","bind","local","map","recur","base","EBV","bind_order","ordered","EXISTS","IN","MAX","MIN","PICK","macro"]);var atoms=new Set(["true","false"]);var builtins=new Set(["Abs","Ceil","Floor","Log","LogBase","Pow","Exp","Round","Length","Substr","Lowercase","Uppercase","Replace","TextLang","Date","Time","Year","Month","Day","Hour","Minute","Second","Now","SecondsSinceEpoch",
"EpochToDateTime","Defined","Undefined","Split","Int","Double","String","Text","DateTime","Duration","Bool","Id","Uint","IdKey","IdNamespace","IsRecord","Sum","Avg","Min","Max","Dedup","Sort","Rsort","Top","Rtop","Slice","Exists","Not","Count","Join","SetIntersection","Expect"]);var predicates=new Set(["@roots","$root","?root","@cur","?cur","@triple","?triple","$params","?params","@entities","@internal","@in","@out"]);var functions=new Set(["@min","@max","@count","@sum","@avg","@join","@for","@slice",
"@dedup","@sort","@rsort","@top","@rtop"]);var fields=new Set(["@merge","@triple_defaults"]);var deftypes=new Set(["path","expr","test"]);var curPunc;return{startState:function(basecolumn){return{tokenize:tokenBase,context:new Context((basecolumn||0)-indentUnit,0,"top",false),indented:0,lastTokenType:null}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align_===null)ctx.align_=false;state.indented=stream.indentation()}if(stream.eatSpace())return null;curPunc=null;var style=
state.tokenize(stream,state);if(style==="comment")return style;if(ctx.align_===null)ctx.align_=true;if(state.tokenize===tokenBase)updateLastTokenType(style,stream,state);if(curPunc==="{")pushContext(state,stream.column(),"}");else if(curPunc==="[")pushContext(state,stream.column(),"]");else if(curPunc==="(")pushContext(state,stream.column(),")");else if(curPunc===ctx.type_)popContext(state);return style},indent:function(state,textAfter){if(state.tokenize!==tokenBase)return CodeMirror.Pass;var ctx=
state.context;var next=textAfter&&textAfter.charAt(0);var closing=next===ctx.type_;if(ctx.align_)return ctx.column_+(closing?0:1);else return ctx.indented_+(closing?0:indentUnit)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});CodeMirror.defineMIME("text/x-pq2","pathquery2")});CodeMirror.defineMode("pdql",function(config,parserConfig){function tokenString(quote,stream){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}return"string"}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.inBlockComment=false;break}maybeEnd=ch=="*"}return"comment"}var keywords=new Set(["all","and","auto","as","asc","between","by","const",
"contains","define","defined","desc","distinct","else","extend","extensions","false","for","from","full","function","group","having","if","import","in","infinity","inner","into","join","left","limit","nan","not","on","or","order","outer","over","package","pdql","proto","return","right","select","top","true","union","using","view","where","while"]);var builtin=new Set(["boolean","bytes","double","long","string"]);var functions=new Set(["avg","max","min","reduce","sum","count","count_distinct_ui","quantile_5",
"lower_quartile","median","upper_quartile","quantile_95","ratio_to_report","avg_non_zero","ceil","exp","floor","ln","log10","log2","pow","round","sqrt","abs","asin","acos","atan","cos","cosh","sin","sinh","tan","tanh","concat","endswith","is_empty","length","lower","lpad","part","partlast","rpad","startswith","substr","upper","extract_regexp","regexp","regexp_replace","regexp_split","curdate","date_add","format_time_usec","parse_time_usec","strftime_usec","time","time_usec_to_date_hour","time_usec_to_date_minute",
"time_usec_to_day","time_usec_to_hour","time_usec_to_week","time_usec_to_month","time_usec_to_quarter","time_usec_to_year","format_utc_usec","parse_utc_usec","strftime_utc_usec","utc_usec_to_date_hour","utc_usec_to_date_minute","utc_usec_to_day","utc_usec_to_hour","utc_usec_to_week","utc_usec_to_month","utc_usec_to_quarter","utc_usec_to_year","format_ip","parse_ip","format_packed_ip","parse_packed_ip","elt","fingerprint","fingerprint_28","hex_string","log_bucket","log2_bucket","positive_signed_fingerprint",
"range","ratio_to_report","max_double","max_long","min_double","min_long"]);return{startState:function(){return{inBlockComment:false,indent:0}},token:function(stream,state){if(state.inBlockComment)return tokenComment(stream,state);if(stream.eatSpace())return null;state.indent=stream.indentation();var ch=stream.next();if(ch=="#"||ch=="/"&&stream.peek()=="/"){stream.skipToEnd();return"comment"}else if(ch=="/"&&stream.peek()=="*"){stream.next();state.inBlockComment=true;return tokenComment(stream,state)}else if(ch>=
"0"&&ch<="9"){stream.match(/^[0-9]*\.?[0-9]+/);return"number"}else if(ch=='"'||ch=="'")return tokenString(ch,stream);else if(ch>="a"&&ch<="z"||ch>="A"&&ch<="Z"){stream.eatWhile(/[\w\d_\.]/);var cur=stream.current();if(keywords.has(cur.toLowerCase()))return"keyword";if(builtin.has(cur.toLowerCase()))return"builtin";if(functions.has(cur.toLowerCase()))return"qualifier";return"variable"}else if(ch=="("||ch=="=")state.indent+=config.indentUnit*2;else if(ch=="{")state.indent+=config.indentUnit},indent:function(state,
textAfter){return state.indent},lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:["brace","import"]}});CodeMirror.defineMIME("text/x-pdql",{name:"pdql"});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function look(stream,c){return stream.string.charAt(stream.pos+(c||0))}function prefix(stream,c){if(c){var x=stream.pos-c;return stream.string.substr(x>=0?x:0,c)}else return stream.string.substr(0,stream.pos-1)}function suffix(stream,c){var y=stream.string.length;var x=
y-stream.pos+1;return stream.string.substr(stream.pos,c&&c<y?c:x)}function eatSuffix(stream,c){var x=stream.pos+c;var y;if(x<=0)stream.pos=0;else if(x>=(y=stream.string.length-1))stream.pos=y;else stream.pos=x}CodeMirror.defineMode("perl",function(){function tokenChain(stream,state,chain,style,tail){state.chain=null;state.style=null;state.tail=null;state.tokenize=function(stream,state){var e=false;var c;var i=0;for(;c=stream.next();){if(c===chain[i]&&!e){if(chain[++i]!==undefined){state.chain=chain[i];
state.style=style;state.tail=tail}else if(tail)stream.eatWhile(tail);state.tokenize=tokenPerl;return style}e=!e&&c=="\\"}return style};return state.tokenize(stream,state)}function tokenSOMETHING(stream,state,string){state.tokenize=function(stream,state){if(stream.string==string)state.tokenize=tokenPerl;stream.skipToEnd();return"string"};return state.tokenize(stream,state)}function tokenPerl(stream,state){if(stream.eatSpace())return null;if(state.chain)return tokenChain(stream,state,state.chain,state.style,
state.tail);if(stream.match(/^(\-?((\d[\d_]*)?\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F_]+|0b[01_]+|\d[\d_]*(e[+-]?\d+)?)/))return"number";if(stream.match(/^<<(?=[_a-zA-Z])/)){stream.eatWhile(/\w/);return tokenSOMETHING(stream,state,stream.current().substr(2))}if(stream.sol()&&stream.match(/^=item(?!\w)/))return tokenSOMETHING(stream,state,"=cut");var ch=stream.next();if(ch=='"'||ch=="'"){if(prefix(stream,3)=="<<"+ch){var p=stream.pos;stream.eatWhile(/\w/);var n=stream.current().substr(1);if(n&&stream.eat(ch))return tokenSOMETHING(stream,
state,n);stream.pos=p}return tokenChain(stream,state,[ch],"string")}if(ch=="q"){var c=look(stream,-2);if(!(c&&/\w/.test(c))){c=look(stream,0);if(c=="x"){c=look(stream,1);if(c=="("){eatSuffix(stream,2);return tokenChain(stream,state,[")"],RXstyle,RXmodifiers)}if(c=="["){eatSuffix(stream,2);return tokenChain(stream,state,["]"],RXstyle,RXmodifiers)}if(c=="{"){eatSuffix(stream,2);return tokenChain(stream,state,["}"],RXstyle,RXmodifiers)}if(c=="<"){eatSuffix(stream,2);return tokenChain(stream,state,[">"],
RXstyle,RXmodifiers)}if(/[\^'"!~\/]/.test(c)){eatSuffix(stream,1);return tokenChain(stream,state,[stream.eat(c)],RXstyle,RXmodifiers)}}else if(c=="q"){c=look(stream,1);if(c=="("){eatSuffix(stream,2);return tokenChain(stream,state,[")"],"string")}if(c=="["){eatSuffix(stream,2);return tokenChain(stream,state,["]"],"string")}if(c=="{"){eatSuffix(stream,2);return tokenChain(stream,state,["}"],"string")}if(c=="<"){eatSuffix(stream,2);return tokenChain(stream,state,[">"],"string")}if(/[\^'"!~\/]/.test(c)){eatSuffix(stream,
1);return tokenChain(stream,state,[stream.eat(c)],"string")}}else if(c=="w"){c=look(stream,1);if(c=="("){eatSuffix(stream,2);return tokenChain(stream,state,[")"],"bracket")}if(c=="["){eatSuffix(stream,2);return tokenChain(stream,state,["]"],"bracket")}if(c=="{"){eatSuffix(stream,2);return tokenChain(stream,state,["}"],"bracket")}if(c=="<"){eatSuffix(stream,2);return tokenChain(stream,state,[">"],"bracket")}if(/[\^'"!~\/]/.test(c)){eatSuffix(stream,1);return tokenChain(stream,state,[stream.eat(c)],
"bracket")}}else if(c=="r"){c=look(stream,1);if(c=="("){eatSuffix(stream,2);return tokenChain(stream,state,[")"],RXstyle,RXmodifiers)}if(c=="["){eatSuffix(stream,2);return tokenChain(stream,state,["]"],RXstyle,RXmodifiers)}if(c=="{"){eatSuffix(stream,2);return tokenChain(stream,state,["}"],RXstyle,RXmodifiers)}if(c=="<"){eatSuffix(stream,2);return tokenChain(stream,state,[">"],RXstyle,RXmodifiers)}if(/[\^'"!~\/]/.test(c)){eatSuffix(stream,1);return tokenChain(stream,state,[stream.eat(c)],RXstyle,
RXmodifiers)}}else if(/[\^'"!~\/(\[{<]/.test(c)){if(c=="("){eatSuffix(stream,1);return tokenChain(stream,state,[")"],"string")}if(c=="["){eatSuffix(stream,1);return tokenChain(stream,state,["]"],"string")}if(c=="{"){eatSuffix(stream,1);return tokenChain(stream,state,["}"],"string")}if(c=="<"){eatSuffix(stream,1);return tokenChain(stream,state,[">"],"string")}if(/[\^'"!~\/]/.test(c))return tokenChain(stream,state,[stream.eat(c)],"string")}}}if(ch=="m"){c=look(stream,-2);if(!(c&&/\w/.test(c))){c=stream.eat(/[(\[{<\^'"!~\/]/);
if(c){if(/[\^'"!~\/]/.test(c))return tokenChain(stream,state,[c],RXstyle,RXmodifiers);if(c=="(")return tokenChain(stream,state,[")"],RXstyle,RXmodifiers);if(c=="[")return tokenChain(stream,state,["]"],RXstyle,RXmodifiers);if(c=="{")return tokenChain(stream,state,["}"],RXstyle,RXmodifiers);if(c=="<")return tokenChain(stream,state,[">"],RXstyle,RXmodifiers)}}}if(ch=="s"){c=/[\/>\]})\w]/.test(look(stream,-2));if(!c){c=stream.eat(/[(\[{<\^'"!~\/]/);if(c){if(c=="[")return tokenChain(stream,state,["]",
"]"],RXstyle,RXmodifiers);if(c=="{")return tokenChain(stream,state,["}","}"],RXstyle,RXmodifiers);if(c=="<")return tokenChain(stream,state,[">",">"],RXstyle,RXmodifiers);if(c=="(")return tokenChain(stream,state,[")",")"],RXstyle,RXmodifiers);return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers)}}}if(ch=="y"){c=/[\/>\]})\w]/.test(look(stream,-2));if(!c){c=stream.eat(/[(\[{<\^'"!~\/]/);if(c){if(c=="[")return tokenChain(stream,state,["]","]"],RXstyle,RXmodifiers);if(c=="{")return tokenChain(stream,
state,["}","}"],RXstyle,RXmodifiers);if(c=="<")return tokenChain(stream,state,[">",">"],RXstyle,RXmodifiers);if(c=="(")return tokenChain(stream,state,[")",")"],RXstyle,RXmodifiers);return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers)}}}if(ch=="t"){c=/[\/>\]})\w]/.test(look(stream,-2));if(!c){c=stream.eat("r");if(c){c=stream.eat(/[(\[{<\^'"!~\/]/);if(c){if(c=="[")return tokenChain(stream,state,["]","]"],RXstyle,RXmodifiers);if(c=="{")return tokenChain(stream,state,["}","}"],RXstyle,RXmodifiers);
if(c=="<")return tokenChain(stream,state,[">",">"],RXstyle,RXmodifiers);if(c=="(")return tokenChain(stream,state,[")",")"],RXstyle,RXmodifiers);return tokenChain(stream,state,[c,c],RXstyle,RXmodifiers)}}}}if(ch=="`")return tokenChain(stream,state,[ch],"variable-2");if(ch=="/")if(!/~\s*$/.test(prefix(stream)))return"operator";else return tokenChain(stream,state,[ch],RXstyle,RXmodifiers);if(ch=="$"){p=stream.pos;if(stream.eatWhile(/\d/)||stream.eat("{")&&stream.eatWhile(/\d/)&&stream.eat("}"))return"variable-2";
else stream.pos=p}if(/[$@%]/.test(ch)){p=stream.pos;if(stream.eat("^")&&stream.eat(/[A-Z]/)||!/[@$%&]/.test(look(stream,-2))&&stream.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){c=stream.current();if(PERL[c])return"variable-2"}stream.pos=p}if(/[$@%&]/.test(ch))if(stream.eatWhile(/[\w$]/)||stream.eat("{")&&stream.eatWhile(/[\w$]/)&&stream.eat("}")){c=stream.current();if(PERL[c])return"variable-2";else return"variable"}if(ch=="#")if(look(stream,-2)!="$"){stream.skipToEnd();return"comment"}if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(ch)){p=
stream.pos;stream.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/);if(PERL[stream.current()])return"operator";else stream.pos=p}if(ch=="_")if(stream.pos==1)if(suffix(stream,6)=="_END__")return tokenChain(stream,state,["\x00"],"comment");else if(suffix(stream,7)=="_DATA__")return tokenChain(stream,state,["\x00"],"variable-2");else if(suffix(stream,7)=="_C__")return tokenChain(stream,state,["\x00"],"string");if(/\w/.test(ch)){p=stream.pos;if(look(stream,-2)=="{"&&(look(stream,0)=="}"||stream.eatWhile(/\w/)&&look(stream,
0)=="}"))return"string";else stream.pos=p}if(/[A-Z]/.test(ch)){var l=look(stream,-2);p=stream.pos;stream.eatWhile(/[A-Z_]/);if(/[\da-z]/.test(look(stream,0)))stream.pos=p;else{c=PERL[stream.current()];if(!c)return"meta";if(c[1])c=c[0];if(l!=":")if(c==1)return"keyword";else if(c==2)return"def";else if(c==3)return"atom";else if(c==4)return"operator";else if(c==5)return"variable-2";else return"meta";else return"meta"}}if(/[a-zA-Z_]/.test(ch)){l=look(stream,-2);stream.eatWhile(/\w/);c=PERL[stream.current()];
if(!c)return"meta";if(c[1])c=c[0];if(l!=":")if(c==1)return"keyword";else if(c==2)return"def";else if(c==3)return"atom";else if(c==4)return"operator";else if(c==5)return"variable-2";else return"meta";else return"meta"}return null}var PERL={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,"x":4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,"lt":4,"gt":4,"le":4,"ge":4,"==":4,"!=":4,"<=>":4,"eq":4,"ne":4,"cmp":4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,
":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,"not":4,"and":4,"or":4,"xor":4,"BEGIN":[5,1],"END":[5,1],"PRINT":[5,1],"PRINTF":[5,1],"GETC":[5,1],"READ":[5,1],"READLINE":[5,1],"DESTROY":[5,1],"TIE":[5,1],"TIEHANDLE":[5,1],"UNTIE":[5,1],"STDIN":5,"STDIN_TOP":5,"STDOUT":5,"STDOUT_TOP":5,"STDERR":5,"STDERR_TOP":5,"$ARG":5,"$_":5,"@ARG":5,"@_":5,"$LIST_SEPARATOR":5,'$"':5,"$PROCESS_ID":5,"$PID":5,"$$":5,"$REAL_GROUP_ID":5,"$GID":5,"$(":5,"$EFFECTIVE_GROUP_ID":5,"$EGID":5,"$)":5,"$PROGRAM_NAME":5,
"$0":5,"$SUBSCRIPT_SEPARATOR":5,"$SUBSEP":5,"$;":5,"$REAL_USER_ID":5,"$UID":5,"$<":5,"$EFFECTIVE_USER_ID":5,"$EUID":5,"$>":5,"$a":5,"$b":5,"$COMPILING":5,"$^C":5,"$DEBUGGING":5,"$^D":5,"${^ENCODING}":5,"$ENV":5,"%ENV":5,"$SYSTEM_FD_MAX":5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,"$INPLACE_EDIT":5,"$^I":5,"$^M":5,"$OSNAME":5,"$^O":5,"${^OPEN}":5,"$PERLDB":5,"$^P":5,"$SIG":5,"%SIG":5,"$BASETIME":5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,
"$PERL_VERSION":5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,"$EXECUTABLE_NAME":5,"$^X":5,"$1":5,"$MATCH":5,"$&":5,"${^MATCH}":5,"$PREMATCH":5,"$`":5,"${^PREMATCH}":5,"$POSTMATCH":5,"$'":5,"${^POSTMATCH}":5,"$LAST_PAREN_MATCH":5,"$+":5,"$LAST_SUBMATCH_RESULT":5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,"$LAST_REGEXP_CODE_RESULT":5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,"$ARGV":5,"@ARGV":5,"ARGV":5,"ARGVOUT":5,"$OUTPUT_FIELD_SEPARATOR":5,
"$OFS":5,"$,":5,"$INPUT_LINE_NUMBER":5,"$NR":5,"$.":5,"$INPUT_RECORD_SEPARATOR":5,"$RS":5,"$/":5,"$OUTPUT_RECORD_SEPARATOR":5,"$ORS":5,"$\\":5,"$OUTPUT_AUTOFLUSH":5,"$|":5,"$ACCUMULATOR":5,"$^A":5,"$FORMAT_FORMFEED":5,"$^L":5,"$FORMAT_PAGE_NUMBER":5,"$%":5,"$FORMAT_LINES_LEFT":5,"$-":5,"$FORMAT_LINE_BREAK_CHARACTERS":5,"$:":5,"$FORMAT_LINES_PER_PAGE":5,"$=":5,"$FORMAT_TOP_NAME":5,"$^":5,"$FORMAT_NAME":5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,"$EXTENDED_OS_ERROR":5,"$^E":5,"$EXCEPTIONS_BEING_CAUGHT":5,
"$^S":5,"$WARNING":5,"$^W":5,"${^WARNING_BITS}":5,"$OS_ERROR":5,"$ERRNO":5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,"$CHILD_ERROR":5,"$?":5,"$EVAL_ERROR":5,"$@":5,"$OFMT":5,"$#":5,"$*":5,"$ARRAY_BASE":5,"$[":5,"$OLD_PERL_VERSION":5,"$]":5,"if":[1,1],elsif:[1,1],"else":[1,1],"while":[1,1],unless:[1,1],"for":[1,1],foreach:[1,1],"abs":1,accept:1,alarm:1,"atan2":1,bind:1,binmode:1,bless:1,bootstrap:1,"break":1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,"continue":[1,
1],"cos":1,crypt:1,dbmclose:1,dbmopen:1,"default":1,defined:1,"delete":1,die:1,"do":1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,"eval":1,"exec":1,exists:1,exit:1,"exp":1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,
getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,"goto":1,grep:1,hex:1,"import":1,index:1,"int":1,ioctl:1,"join":1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,"link":1,listen:1,local:2,localtime:1,lock:1,"log":1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,"new":1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,"package":1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,
qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,"return":1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,"sin":1,sleep:1,socket:1,socketpair:1,"sort":1,splice:1,"split":1,
sprintf:1,"sqrt":1,srand:1,stat:1,state:1,study:1,"sub":1,"substr":1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null};var RXstyle="string-2";var RXmodifiers=/[goseximacplud]/;return{startState:function(){return{tokenize:tokenPerl,chain:null,style:null,tail:null}},
token:function(stream,state){return(state.tokenize||tokenPerl)(stream,state)},lineComment:"#"}});CodeMirror.registerHelper("wordChars","perl",/[\w$]/);CodeMirror.defineMIME("text/x-perl","perl")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../clike/clike"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../clike/clike"],mod);else mod(CodeMirror)})(function(CodeMirror){function keywords(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function matchSequence(list,end,escapes){if(list.length==
0)return phpString(end);return function(stream,state){var patterns=list[0];var i=0;for(;i<patterns.length;i++)if(stream.match(patterns[i][0])){state.tokenize=matchSequence(list.slice(1),end);return patterns[i][1]}state.tokenize=phpString(end,escapes);return"string"}}function phpString(closing,escapes){return function(stream,state){return phpString_(stream,state,closing,escapes)}}function phpString_(stream,state,closing,escapes){if(escapes!==false&&stream.match("${",false)||stream.match("{$",false)){state.tokenize=
null;return"string"}if(escapes!==false&&stream.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/)){if(stream.match("[",false))state.tokenize=matchSequence([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],closing,escapes);if(stream.match(/^->\w/,false))state.tokenize=matchSequence([[["->",null]],[[/[\w]+/,"variable"]]],closing,escapes);return"variable-2"}var escaped=false;for(;!stream.eol()&&(escaped||escapes===false||!stream.match("{$",false)&&
!stream.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,false));){if(!escaped&&stream.match(closing)){state.tokenize=null;state.tokStack.pop();state.tokStack.pop();break}escaped=stream.next()=="\\"&&!escaped}return"string"}var phpKeywords="abstract and array as break case catch class clone const continue declare default "+"do else elseif enddeclare endfor endforeach endif endswitch endwhile enum extends final "+"for foreach function global goto if implements interface instanceof namespace "+"new or private protected public static switch throw trait try use var while xor "+
"die echo empty exit eval include include_once isset list require require_once return "+"print unset __halt_compiler self static parent yield insteadof finally readonly match";var phpAtoms="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__";var phpBuiltin="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage memory_get_peak_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";
CodeMirror.registerHelper("hintWords","php",[phpKeywords,phpAtoms,phpBuiltin].join(" ").split(" "));CodeMirror.registerHelper("wordChars","php",/[\w$]/);var phpConfig={name:"clike",helperType:"php",keywords:keywords(phpKeywords),blockKeywords:keywords("catch do else elseif for foreach if switch try while finally"),defKeywords:keywords("class enum function interface namespace trait"),atoms:keywords(phpAtoms),builtin:keywords(phpBuiltin),multiLineStrings:true,hooks:{"$":function(stream){stream.eatWhile(/[\w\$_]/);
return"variable-2"},"<":function(stream,state){var before;if(before=stream.match(/^<<\s*/)){var quoted=stream.eat(/['"]/);stream.eatWhile(/[\w\.]/);var delim=stream.current().slice(before[0].length+(quoted?2:1));if(quoted)stream.eat(quoted);if(delim){(state.tokStack||(state.tokStack=[])).push(delim,0);state.tokenize=phpString(delim,quoted!="'");return"string"}}return false},"#":function(stream){for(;!stream.eol()&&!stream.match("?>",false);)stream.next();return"comment"},"/":function(stream){if(stream.eat("/")){for(;!stream.eol()&&
!stream.match("?>",false);)stream.next();return"comment"}return false},'"':function(_stream,state){(state.tokStack||(state.tokStack=[])).push('"',0);state.tokenize=phpString('"');return"string"},"{":function(_stream,state){if(state.tokStack&&state.tokStack.length)state.tokStack[state.tokStack.length-1]++;return false},"}":function(_stream,state){if(state.tokStack&&state.tokStack.length>0&&!--state.tokStack[state.tokStack.length-1])state.tokenize=phpString(state.tokStack[state.tokStack.length-2]);
return false}}};CodeMirror.defineMode("php",function(config,parserConfig){function dispatch(stream,state){var isPHP=state.curMode==phpMode;if(stream.sol()&&state.pending&&state.pending!='"'&&state.pending!="'")state.pending=null;if(!isPHP){if(stream.match(/^<\?\w*/)){state.curMode=phpMode;if(!state.php)state.php=CodeMirror.startState(phpMode,htmlMode.indent(state.html,"",""));state.curState=state.php;return"meta"}if(state.pending=='"'||state.pending=="'"){for(;!stream.eol()&&stream.next()!=state.pending;);
var style="string"}else if(state.pending&&stream.pos<state.pending.end){stream.pos=state.pending.end;style=state.pending.style}else style=htmlMode.token(stream,state.curState);if(state.pending)state.pending=null;var cur=stream.current();var openPHP=cur.search(/<\?/);var m;if(openPHP!=-1){if(style=="string"&&(m=cur.match(/['"]$/))&&!/\?>/.test(cur))state.pending=m[0];else state.pending={end:stream.pos,style:style};stream.backUp(cur.length-openPHP)}return style}else if(isPHP&&state.php.tokenize==null&&
stream.match("?>")){state.curMode=htmlMode;state.curState=state.html;if(!state.php.context.prev)state.php=null;return"meta"}else return phpMode.token(stream,state.curState)}var htmlMode=CodeMirror.getMode(config,parserConfig&&parserConfig.htmlMode||"text/html");var phpMode=CodeMirror.getMode(config,phpConfig);return{startState:function(){var html=CodeMirror.startState(htmlMode);var php=parserConfig.startOpen?CodeMirror.startState(phpMode):null;return{html:html,php:php,curMode:parserConfig.startOpen?
phpMode:htmlMode,curState:parserConfig.startOpen?php:html,pending:null}},copyState:function(state){var html=state.html;var htmlNew=CodeMirror.copyState(htmlMode,html);var php=state.php;var phpNew=php&&CodeMirror.copyState(phpMode,php);var cur;if(state.curMode==htmlMode)cur=htmlNew;else cur=phpNew;return{html:htmlNew,php:phpNew,curMode:state.curMode,curState:cur,pending:state.pending}},token:dispatch,indent:function(state,textAfter,line){if(state.curMode!=phpMode&&/^\s*<\//.test(textAfter)||state.curMode==
phpMode&&/^\?>/.test(textAfter))return htmlMode.indent(state.html,textAfter,line);return state.curMode.indent(state.curState,textAfter,line)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(state){return{state:state.curState,mode:state.curMode}}}},"htmlmixed","clike");CodeMirror.defineMIME("application/x-httpd-php","php");CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:true});CodeMirror.defineMIME("text/x-php",phpConfig)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("pig",function(_config,parserConfig){function chain(stream,state,f){state.tokenize=f;return f(stream,state)}function tokenComment(stream,state){var isEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&isEnd){state.tokenize=tokenBase;break}isEnd=
ch=="*"}return"comment"}function tokenString(quote){return function(stream,state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}if(end||!(escaped||multiLineStrings))state.tokenize=tokenBase;return"error"}}function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'")return chain(stream,state,tokenString(ch));else if(/[\[\]{}\(\),;\.]/.test(ch))return null;else if(/\d/.test(ch)){stream.eatWhile(/[\w\.]/);
return"number"}else if(ch=="/")if(stream.eat("*"))return chain(stream,state,tokenComment);else{stream.eatWhile(isOperatorChar);return"operator"}else if(ch=="-")if(stream.eat("-")){stream.skipToEnd();return"comment"}else{stream.eatWhile(isOperatorChar);return"operator"}else if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);return"operator"}else{stream.eatWhile(/[\w\$_]/);if(keywords&&keywords.propertyIsEnumerable(stream.current().toUpperCase()))if(!stream.eat(")")&&!stream.eat("."))return"keyword";
if(builtins&&builtins.propertyIsEnumerable(stream.current().toUpperCase()))return"variable-2";if(types&&types.propertyIsEnumerable(stream.current().toUpperCase()))return"variable-3";return"variable"}}var keywords=parserConfig.keywords;var builtins=parserConfig.builtins;var types=parserConfig.types;var multiLineStrings=parserConfig.multiLineStrings;var isOperatorChar=/[*+\-%<>=&?:\/!|]/;return{startState:function(){return{tokenize:tokenBase,startOfLine:true}},token:function(stream,state){if(stream.eatSpace())return null;
var style=state.tokenize(stream,state);return style}}});(function(){function keywords(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}var pBuiltins="ABS ACOS ARITY ASIN ATAN AVG BAGSIZE BINSTORAGE BLOOM BUILDBLOOM CBRT CEIL "+"CONCAT COR COS COSH COUNT COUNT_STAR COV CONSTANTSIZE CUBEDIMENSIONS DIFF DISTINCT DOUBLEABS "+"DOUBLEAVG DOUBLEBASE DOUBLEMAX DOUBLEMIN DOUBLEROUND DOUBLESUM EXP FLOOR FLOATABS FLOATAVG "+"FLOATMAX FLOATMIN FLOATROUND FLOATSUM GENERICINVOKER INDEXOF INTABS INTAVG INTMAX INTMIN "+
"INTSUM INVOKEFORDOUBLE INVOKEFORFLOAT INVOKEFORINT INVOKEFORLONG INVOKEFORSTRING INVOKER "+"ISEMPTY JSONLOADER JSONMETADATA JSONSTORAGE LAST_INDEX_OF LCFIRST LOG LOG10 LOWER LONGABS "+"LONGAVG LONGMAX LONGMIN LONGSUM MAX MIN MAPSIZE MONITOREDUDF NONDETERMINISTIC OUTPUTSCHEMA  "+"PIGSTORAGE PIGSTREAMING RANDOM REGEX_EXTRACT REGEX_EXTRACT_ALL REPLACE ROUND SIN SINH SIZE "+"SQRT STRSPLIT SUBSTRING SUM STRINGCONCAT STRINGMAX STRINGMIN STRINGSIZE TAN TANH TOBAG "+"TOKENIZE TOMAP TOP TOTUPLE TRIM TEXTLOADER TUPLESIZE UCFIRST UPPER UTF8STORAGECONVERTER ";
var pKeywords="VOID IMPORT RETURNS DEFINE LOAD FILTER FOREACH ORDER CUBE DISTINCT COGROUP "+"JOIN CROSS UNION SPLIT INTO IF OTHERWISE ALL AS BY USING INNER OUTER ONSCHEMA PARALLEL "+"PARTITION GROUP AND OR NOT GENERATE FLATTEN ASC DESC IS STREAM THROUGH STORE MAPREDUCE "+"SHIP CACHE INPUT OUTPUT STDERROR STDIN STDOUT LIMIT SAMPLE LEFT RIGHT FULL EQ GT LT GTE LTE "+"NEQ MATCHES TRUE FALSE DUMP";var pTypes="BOOLEAN INT LONG FLOAT DOUBLE CHARARRAY BYTEARRAY BAG TUPLE MAP ";CodeMirror.defineMIME("text/x-pig",
{name:"pig",builtins:keywords(pBuiltins),keywords:keywords(pKeywords),types:keywords(pTypes)});CodeMirror.registerHelper("hintWords","pig",(pBuiltins+pTypes+pKeywords).split(" "))})()});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(window.CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("powershell",function(){function buildRegexp(patterns,options){options=options||{};var prefix=options.prefix!==undefined?options.prefix:"^";var suffix=options.suffix!==undefined?options.suffix:"\\b";var i=0;for(;i<patterns.length;i++)if(patterns[i]instanceof
RegExp)patterns[i]=patterns[i].source;else patterns[i]=patterns[i].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp(prefix+"("+patterns.join("|")+")"+suffix,"i")}function tokenBase(stream,state){var parent=state.returnStack[state.returnStack.length-1];if(parent&&parent.shouldReturnFrom(state)){state.tokenize=parent.tokenize;state.returnStack.pop();return state.tokenize(stream,state)}if(stream.eatSpace())return null;if(stream.eat("(")){state.bracketNesting+=1;return"punctuation"}if(stream.eat(")")){state.bracketNesting-=
1;return"punctuation"}var key;for(key in grammar)if(stream.match(grammar[key]))return key;var ch=stream.next();if(ch==="'")return tokenSingleQuoteString(stream,state);if(ch==="$")return tokenVariable(stream,state);if(ch==='"')return tokenDoubleQuoteString(stream,state);if(ch==="<"&&stream.eat("#")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(ch==="#"){stream.skipToEnd();return"comment"}if(ch==="@"){var quoteMatch=stream.eat(/["']/);if(quoteMatch&&stream.eol()){state.tokenize=
tokenMultiString;state.startQuote=quoteMatch[0];return tokenMultiString(stream,state)}else if(stream.eol())return"error";else if(stream.peek().match(/[({]/))return"punctuation";else if(stream.peek().match(varNames))return tokenVariable(stream,state)}return"error"}function tokenSingleQuoteString(stream,state){var ch;for(;(ch=stream.peek())!=null;){stream.next();if(ch==="'"&&!stream.eat("'")){state.tokenize=tokenBase;return"string"}}return"error"}function tokenDoubleQuoteString(stream,state){var ch;
for(;(ch=stream.peek())!=null;){if(ch==="$"){state.tokenize=tokenStringInterpolation;return"string"}stream.next();if(ch==="`"){stream.next();continue}if(ch==='"'&&!stream.eat('"')){state.tokenize=tokenBase;return"string"}}return"error"}function tokenStringInterpolation(stream,state){return tokenInterpolation(stream,state,tokenDoubleQuoteString)}function tokenMultiStringReturn(stream,state){state.tokenize=tokenMultiString;state.startQuote='"';return tokenMultiString(stream,state)}function tokenHereStringInterpolation(stream,
state){return tokenInterpolation(stream,state,tokenMultiStringReturn)}function tokenInterpolation(stream,state,parentTokenize){if(stream.match("$(")){var savedBracketNesting=state.bracketNesting;state.returnStack.push({shouldReturnFrom:function(state){return state.bracketNesting===savedBracketNesting},tokenize:parentTokenize});state.tokenize=tokenBase;state.bracketNesting+=1;return"punctuation"}else{stream.next();state.returnStack.push({shouldReturnFrom:function(){return true},tokenize:parentTokenize});
state.tokenize=tokenVariable;return state.tokenize(stream,state)}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;(ch=stream.next())!=null;){if(maybeEnd&&ch==">"){state.tokenize=tokenBase;break}maybeEnd=ch==="#"}return"comment"}function tokenVariable(stream,state){var ch=stream.peek();if(stream.eat("{")){state.tokenize=tokenVariableWithBraces;return tokenVariableWithBraces(stream,state)}else if(ch!=undefined&&ch.match(varNames)){stream.eatWhile(varNames);state.tokenize=tokenBase;
return"variable-2"}else{state.tokenize=tokenBase;return"error"}}function tokenVariableWithBraces(stream,state){var ch;for(;(ch=stream.next())!=null;)if(ch==="}"){state.tokenize=tokenBase;break}return"variable-2"}function tokenMultiString(stream,state){var quote=state.startQuote;if(stream.sol()&&stream.match(new RegExp(quote+"@")))state.tokenize=tokenBase;else if(quote==='"')for(;!stream.eol();){var ch=stream.peek();if(ch==="$"){state.tokenize=tokenHereStringInterpolation;return"string"}stream.next();
if(ch==="`")stream.next()}else stream.skipToEnd();return"string"}var notCharacterOrDash="(?=[^A-Za-z\\d\\-_]|$)";var varNames=/[\w\-:]/;var keywords=buildRegexp([/begin|break|catch|continue|data|default|do|dynamicparam/,/else|elseif|end|exit|filter|finally|for|foreach|from|function|if|in/,/param|process|return|switch|throw|trap|try|until|where|while/],{suffix:notCharacterOrDash});var punctuation=/[\[\]{},;`\\\.]|@[({]/;var wordOperators=buildRegexp(["f",/b?not/,/[ic]?split/,"join",/is(not)?/,"as",
/[ic]?(eq|ne|[gl][te])/,/[ic]?(not)?(like|match|contains)/,/[ic]?replace/,/b?(and|or|xor)/],{prefix:"-"});var symbolOperators=/[+\-*\/%]=|\+\+|--|\.\.|[+\-*&^%:=!|\/]|<(?!#)|(?!#)>/;var operators=buildRegexp([wordOperators,symbolOperators],{suffix:""});var numbers=/^((0x[\da-f]+)|((\d+\.\d+|\d\.|\.\d+|\d+)(e[\+\-]?\d+)?))[ld]?([kmgtp]b)?/i;var identifiers=/^[A-Za-z_][A-Za-z\-_\d]*\b/;var symbolBuiltins=/[A-Z]:|%|\?/i;var namedBuiltins=buildRegexp([/Add-(Computer|Content|History|Member|PSSnapin|Type)/,
/Checkpoint-Computer/,/Clear-(Content|EventLog|History|Host|Item(Property)?|Variable)/,/Compare-Object/,/Complete-Transaction/,/Connect-PSSession/,/ConvertFrom-(Csv|Json|SecureString|StringData)/,/Convert-Path/,/ConvertTo-(Csv|Html|Json|SecureString|Xml)/,/Copy-Item(Property)?/,/Debug-Process/,/Disable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)/,/Disconnect-PSSession/,/Enable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)/,/(Enter|Exit)-PSSession/,/Export-(Alias|Clixml|Console|Counter|Csv|FormatData|ModuleMember|PSSession)/,
/ForEach-Object/,/Format-(Custom|List|Table|Wide)/,new RegExp("Get-(Acl|Alias|AuthenticodeSignature|ChildItem|Command|ComputerRestorePoint|Content|ControlPanelItem|Counter|Credential"+"|Culture|Date|Event|EventLog|EventSubscriber|ExecutionPolicy|FormatData|Help|History|Host|HotFix|Item|ItemProperty|Job"+"|Location|Member|Module|PfxCertificate|Process|PSBreakpoint|PSCallStack|PSDrive|PSProvider|PSSession|PSSessionConfiguration"+"|PSSnapin|Random|Service|TraceSource|Transaction|TypeData|UICulture|Unique|Variable|Verb|WinEvent|WmiObject)"),
/Group-Object/,/Import-(Alias|Clixml|Counter|Csv|LocalizedData|Module|PSSession)/,/ImportSystemModules/,/Invoke-(Command|Expression|History|Item|RestMethod|WebRequest|WmiMethod)/,/Join-Path/,/Limit-EventLog/,/Measure-(Command|Object)/,/Move-Item(Property)?/,new RegExp("New-(Alias|Event|EventLog|Item(Property)?|Module|ModuleManifest|Object|PSDrive|PSSession|PSSessionConfigurationFile"+"|PSSessionOption|PSTransportOption|Service|TimeSpan|Variable|WebServiceProxy|WinEvent)"),/Out-(Default|File|GridView|Host|Null|Printer|String)/,
/Pause/,/(Pop|Push)-Location/,/Read-Host/,/Receive-(Job|PSSession)/,/Register-(EngineEvent|ObjectEvent|PSSessionConfiguration|WmiEvent)/,/Remove-(Computer|Event|EventLog|Item(Property)?|Job|Module|PSBreakpoint|PSDrive|PSSession|PSSnapin|TypeData|Variable|WmiObject)/,/Rename-(Computer|Item(Property)?)/,/Reset-ComputerMachinePassword/,/Resolve-Path/,/Restart-(Computer|Service)/,/Restore-Computer/,/Resume-(Job|Service)/,/Save-Help/,/Select-(Object|String|Xml)/,/Send-MailMessage/,new RegExp("Set-(Acl|Alias|AuthenticodeSignature|Content|Date|ExecutionPolicy|Item(Property)?|Location|PSBreakpoint|PSDebug"+
"|PSSessionConfiguration|Service|StrictMode|TraceSource|Variable|WmiInstance)"),/Show-(Command|ControlPanelItem|EventLog)/,/Sort-Object/,/Split-Path/,/Start-(Job|Process|Service|Sleep|Transaction|Transcript)/,/Stop-(Computer|Job|Process|Service|Transcript)/,/Suspend-(Job|Service)/,/TabExpansion2/,/Tee-Object/,/Test-(ComputerSecureChannel|Connection|ModuleManifest|Path|PSSessionConfigurationFile)/,/Trace-Command/,/Unblock-File/,/Undo-Transaction/,/Unregister-(Event|PSSessionConfiguration)/,/Update-(FormatData|Help|List|TypeData)/,
/Use-Transaction/,/Wait-(Event|Job|Process)/,/Where-Object/,/Write-(Debug|Error|EventLog|Host|Output|Progress|Verbose|Warning)/,/cd|help|mkdir|more|oss|prompt/,/ac|asnp|cat|cd|chdir|clc|clear|clhy|cli|clp|cls|clv|cnsn|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|dnsn|ebp/,/echo|epal|epcsv|epsn|erase|etsn|exsn|fc|fl|foreach|ft|fw|gal|gbp|gc|gci|gcm|gcs|gdr|ghy|gi|gjb|gl|gm|gmo|gp|gps/,/group|gsn|gsnp|gsv|gu|gv|gwmi|h|history|icm|iex|ihy|ii|ipal|ipcsv|ipmo|ipsn|irm|ise|iwmi|iwr|kill|lp|ls|man|md/,
/measure|mi|mount|move|mp|mv|nal|ndr|ni|nmo|npssc|nsn|nv|ogv|oh|popd|ps|pushd|pwd|r|rbp|rcjb|rcsn|rd|rdr|ren|ri/,/rjb|rm|rmdir|rmo|rni|rnp|rp|rsn|rsnp|rujb|rv|rvpa|rwmi|sajb|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls/,/sort|sp|spjb|spps|spsv|start|sujb|sv|swmi|tee|trcm|type|where|wjb|write/],{prefix:"",suffix:""});var variableBuiltins=buildRegexp([/[$?^_]|Args|ConfirmPreference|ConsoleFileName|DebugPreference|Error|ErrorActionPreference|ErrorView|ExecutionContext/,/FormatEnumerationLimit|Home|Host|Input|MaximumAliasCount|MaximumDriveCount|MaximumErrorCount|MaximumFunctionCount/,
/MaximumHistoryCount|MaximumVariableCount|MyInvocation|NestedPromptLevel|OutputEncoding|Pid|Profile|ProgressPreference/,/PSBoundParameters|PSCommandPath|PSCulture|PSDefaultParameterValues|PSEmailServer|PSHome|PSScriptRoot|PSSessionApplicationName/,/PSSessionConfigurationName|PSSessionOption|PSUICulture|PSVersionTable|Pwd|ShellId|StackTrace|VerbosePreference/,/WarningPreference|WhatIfPreference/,/Event|EventArgs|EventSubscriber|Sender/,/Matches|Ofs|ForEach|LastExitCode|PSCmdlet|PSItem|PSSenderInfo|This/,
/true|false|null/],{prefix:"\\$",suffix:""});var builtins=buildRegexp([symbolBuiltins,namedBuiltins,variableBuiltins],{suffix:notCharacterOrDash});var grammar={keyword:keywords,number:numbers,operator:operators,builtin:builtins,punctuation:punctuation,identifier:identifiers};var external={startState:function(){return{returnStack:[],bracketNesting:0,tokenize:tokenBase}},token:function(stream,state){return state.tokenize(stream,state)},blockCommentStart:"<#",blockCommentEnd:"#>",lineComment:"#",fold:"brace"};
return external});CodeMirror.defineMIME("application/x-powershell","powershell")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("properties",function(){return{token:function(stream,state){var sol=stream.sol()||state.afterSection;var eol=stream.eol();state.afterSection=false;if(sol)if(state.nextMultiline){state.inMultiline=true;state.nextMultiline=false}else state.position=
"def";if(eol&&!state.nextMultiline){state.inMultiline=false;state.position="def"}if(sol)for(;stream.eatSpace(););var ch=stream.next();if(sol&&(ch==="#"||ch==="!"||ch===";")){state.position="comment";stream.skipToEnd();return"comment"}else if(sol&&ch==="["){state.afterSection=true;stream.skipTo("]");stream.eat("]");return"header"}else if(ch==="="||ch===":"){state.position="quote";return null}else if(ch==="\\"&&state.position==="quote")if(stream.eol())state.nextMultiline=true;return state.position},
startState:function(){return{position:"def",nextMultiline:false,inMultiline:false,afterSection:false}}}});CodeMirror.defineMIME("text/x-properties","properties");CodeMirror.defineMIME("text/x-ini","properties")});(function(){function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}var protoConfig={name:"clike",keywords:words("bool bytes default double enum extend extensions fixed32 "+"fixed64 float group import int32 int64 max message "+"messageBody oneof option optional package public repeated required "+"reserved returns rpc service sfixed32 sfixed64 sint32 sint64 stream "+"string syntax to uint32 uint64 weak"),blockKeywords:words("enum extend group message service"),
builtin:words("bool bytes double fixed32 fixed64 float int32 int64"+"sfixed32 sfixed64 sint32 sint64 string uint32 uint64"),atoms:words("true false null"),multiLineStrings:true,hooks:{}};CodeMirror.defineMIME("text/x-proto",protoConfig)})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function wordRegexp(words){return new RegExp("^(("+words.join(")|(")+"))\\b","i")}function tokenBase(stream){if(stream.eatSpace())return null;if(stream.match("//")){stream.skipToEnd();return"comment"}if(stream.match(/^[0-9\.+-]/,false)){if(stream.match(/^[+-]?0x[0-9a-fA-F]+/))return"number";
if(stream.match(/^[+-]?\d*\.\d+([EeDd][+-]?\d+)?/))return"number";if(stream.match(/^[+-]?\d+([EeDd][+-]?\d+)?/))return"number"}if(stream.match(/^"([^"]|(""))*"/))return"string";if(stream.match(/^'([^']|(''))*'/))return"string";if(stream.match(keywords))return"keyword";if(stream.match(identifiers))return"variable";stream.next();return null}var keywordArray=["package","message","import","syntax","required","optional","repeated","reserved","default","extensions","packed","bool","bytes","double","enum",
"float","string","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","option","service","rpc","returns"];var keywords=wordRegexp(keywordArray);CodeMirror.registerHelper("hintWords","protobuf",keywordArray);var identifiers=new RegExp("^[_A-Za-z\u00a1-\uffff][_A-Za-z0-9\u00a1-\uffff]*");CodeMirror.defineMode("protobuf",function(){return{token:tokenBase,fold:"brace"}});CodeMirror.defineMIME("text/x-protobuf","protobuf")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../javascript/javascript"),require("../css/css"),require("../htmlmixed/htmlmixed"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../javascript/javascript","../css/css","../htmlmixed/htmlmixed"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("pug",function(config){function State(){this.javaScriptLine=false;this.javaScriptLineExcludesColon=
false;this.javaScriptArguments=false;this.javaScriptArgumentsDepth=0;this.isInterpolating=false;this.interpolationNesting=0;this.jsState=CodeMirror.startState(jsMode);this.restOfLine="";this.isIncludeFiltered=false;this.isEach=false;this.lastTag="";this.scriptType="";this.isAttrs=false;this.attrsNest=[];this.inAttributeName=true;this.attributeIsType=false;this.attrValue="";this.indentOf=Infinity;this.indentToken="";this.innerMode=null;this.innerState=null;this.innerModeForLine=false}function javaScript(stream,
state){if(stream.sol()){state.javaScriptLine=false;state.javaScriptLineExcludesColon=false}if(state.javaScriptLine){if(state.javaScriptLineExcludesColon&&stream.peek()===":"){state.javaScriptLine=false;state.javaScriptLineExcludesColon=false;return}var tok=jsMode.token(stream,state.jsState);if(stream.eol())state.javaScriptLine=false;return tok||true}}function javaScriptArguments(stream,state){if(state.javaScriptArguments){if(state.javaScriptArgumentsDepth===0&&stream.peek()!=="("){state.javaScriptArguments=
false;return}if(stream.peek()==="(")state.javaScriptArgumentsDepth++;else if(stream.peek()===")")state.javaScriptArgumentsDepth--;if(state.javaScriptArgumentsDepth===0){state.javaScriptArguments=false;return}var tok=jsMode.token(stream,state.jsState);return tok||true}}function yieldStatement(stream){if(stream.match(/^yield\b/))return"keyword"}function doctype(stream){if(stream.match(/^(?:doctype) *([^\n]+)?/))return DOCTYPE}function interpolation(stream,state){if(stream.match("#{")){state.isInterpolating=
true;state.interpolationNesting=0;return"punctuation"}}function interpolationContinued(stream,state){if(state.isInterpolating){if(stream.peek()==="}"){state.interpolationNesting--;if(state.interpolationNesting<0){stream.next();state.isInterpolating=false;return"punctuation"}}else if(stream.peek()==="{")state.interpolationNesting++;return jsMode.token(stream,state.jsState)||true}}function caseStatement(stream,state){if(stream.match(/^case\b/)){state.javaScriptLine=true;return KEYWORD}}function when(stream,
state){if(stream.match(/^when\b/)){state.javaScriptLine=true;state.javaScriptLineExcludesColon=true;return KEYWORD}}function defaultStatement(stream){if(stream.match(/^default\b/))return KEYWORD}function extendsStatement(stream,state){if(stream.match(/^extends?\b/)){state.restOfLine="string";return KEYWORD}}function append(stream,state){if(stream.match(/^append\b/)){state.restOfLine="variable";return KEYWORD}}function prepend(stream,state){if(stream.match(/^prepend\b/)){state.restOfLine="variable";
return KEYWORD}}function block(stream,state){if(stream.match(/^block\b *(?:(prepend|append)\b)?/)){state.restOfLine="variable";return KEYWORD}}function include(stream,state){if(stream.match(/^include\b/)){state.restOfLine="string";return KEYWORD}}function includeFiltered(stream,state){if(stream.match(/^include:([a-zA-Z0-9\-]+)/,false)&&stream.match("include")){state.isIncludeFiltered=true;return KEYWORD}}function includeFilteredContinued(stream,state){if(state.isIncludeFiltered){var tok=filter(stream,
state);state.isIncludeFiltered=false;state.restOfLine="string";return tok}}function mixin(stream,state){if(stream.match(/^mixin\b/)){state.javaScriptLine=true;return KEYWORD}}function call(stream,state){if(stream.match(/^\+([-\w]+)/)){if(!stream.match(/^\( *[-\w]+ *=/,false)){state.javaScriptArguments=true;state.javaScriptArgumentsDepth=0}return"variable"}if(stream.match("+#{",false)){stream.next();state.mixinCallAfter=true;return interpolation(stream,state)}}function callArguments(stream,state){if(state.mixinCallAfter){state.mixinCallAfter=
false;if(!stream.match(/^\( *[-\w]+ *=/,false)){state.javaScriptArguments=true;state.javaScriptArgumentsDepth=0}return true}}function conditional(stream,state){if(stream.match(/^(if|unless|else if|else)\b/)){state.javaScriptLine=true;return KEYWORD}}function each(stream,state){if(stream.match(/^(- *)?(each|for)\b/)){state.isEach=true;return KEYWORD}}function eachContinued(stream,state){if(state.isEach)if(stream.match(/^ in\b/)){state.javaScriptLine=true;state.isEach=false;return KEYWORD}else if(stream.sol()||
stream.eol())state.isEach=false;else if(stream.next()){for(;!stream.match(/^ in\b/,false)&&stream.next(););return"variable"}}function whileStatement(stream,state){if(stream.match(/^while\b/)){state.javaScriptLine=true;return KEYWORD}}function tag(stream,state){var captures;if(captures=stream.match(/^(\w(?:[-:\w]*\w)?)\/?/)){state.lastTag=captures[1].toLowerCase();if(state.lastTag==="script")state.scriptType="application/javascript";return"tag"}}function filter(stream,state){if(stream.match(/^:([\w\-]+)/)){var innerMode;
if(config&&config.innerModes)innerMode=config.innerModes(stream.current().substring(1));if(!innerMode)innerMode=stream.current().substring(1);if(typeof innerMode==="string")innerMode=CodeMirror.getMode(config,innerMode);setInnerMode(stream,state,innerMode);return"atom"}}function code(stream,state){if(stream.match(/^(!?=|-)/)){state.javaScriptLine=true;return"punctuation"}}function id(stream){if(stream.match(/^#([\w-]+)/))return ID}function className(stream){if(stream.match(/^\.([\w-]+)/))return CLASS}
function attrs(stream,state){if(stream.peek()=="("){stream.next();state.isAttrs=true;state.attrsNest=[];state.inAttributeName=true;state.attrValue="";state.attributeIsType=false;return"punctuation"}}function attrsContinued(stream,state){if(state.isAttrs){if(ATTRS_NEST[stream.peek()])state.attrsNest.push(ATTRS_NEST[stream.peek()]);if(state.attrsNest[state.attrsNest.length-1]===stream.peek())state.attrsNest.pop();else if(stream.eat(")")){state.isAttrs=false;return"punctuation"}if(state.inAttributeName&&
stream.match(/^[^=,\)!]+/)){if(stream.peek()==="="||stream.peek()==="!"){state.inAttributeName=false;state.jsState=CodeMirror.startState(jsMode);if(state.lastTag==="script"&&stream.current().trim().toLowerCase()==="type")state.attributeIsType=true;else state.attributeIsType=false}return"attribute"}var tok=jsMode.token(stream,state.jsState);if(state.attributeIsType&&tok==="string")state.scriptType=stream.current().toString();if(state.attrsNest.length===0&&(tok==="string"||tok==="variable"||tok==="keyword"))try{Function("",
"var x "+state.attrValue.replace(/,\s*$/,"").replace(/^!/,""));state.inAttributeName=true;state.attrValue="";stream.backUp(stream.current().length);return attrsContinued(stream,state)}catch(ex){}state.attrValue+=stream.current();return tok||true}}function attributesBlock(stream,state){if(stream.match(/^&attributes\b/)){state.javaScriptArguments=true;state.javaScriptArgumentsDepth=0;return"keyword"}}function indent(stream){if(stream.sol()&&stream.eatSpace())return"indent"}function comment(stream,state){if(stream.match(/^ *\/\/(-)?([^\n]*)/)){state.indentOf=
stream.indentation();state.indentToken="comment";return"comment"}}function colon(stream){if(stream.match(/^: */))return"colon"}function text(stream,state){if(stream.match(/^(?:\| ?| )([^\n]+)/))return"string";if(stream.match(/^(<[^\n]*)/,false)){setInnerMode(stream,state,"htmlmixed");state.innerModeForLine=true;return innerMode(stream,state,true)}}function dot(stream,state){if(stream.eat(".")){var innerMode=null;if(state.lastTag==="script"&&state.scriptType.toLowerCase().indexOf("javascript")!=-1)innerMode=
state.scriptType.toLowerCase().replace(/"|'/g,"");else if(state.lastTag==="style")innerMode="css";setInnerMode(stream,state,innerMode);return"dot"}}function fail(stream){stream.next();return null}function setInnerMode(stream,state,mode){mode=CodeMirror.mimeModes[mode]||mode;mode=config.innerModes?config.innerModes(mode)||mode:mode;mode=CodeMirror.mimeModes[mode]||mode;mode=CodeMirror.getMode(config,mode);state.indentOf=stream.indentation();if(mode&&mode.name!=="null")state.innerMode=mode;else state.indentToken=
"string"}function innerMode(stream,state,force){if(stream.indentation()>state.indentOf||state.innerModeForLine&&!stream.sol()||force)if(state.innerMode){if(!state.innerState)state.innerState=state.innerMode.startState?CodeMirror.startState(state.innerMode,stream.indentation()):{};return stream.hideFirstChars(state.indentOf+2,function(){return state.innerMode.token(stream,state.innerState)||true})}else{stream.skipToEnd();return state.indentToken}else if(stream.sol()){state.indentOf=Infinity;state.indentToken=
null;state.innerMode=null;state.innerState=null}}function restOfLine(stream,state){if(stream.sol())state.restOfLine="";if(state.restOfLine){stream.skipToEnd();var tok=state.restOfLine;state.restOfLine="";return tok}}function startState(){return new State}function copyState(state){return state.copy()}function nextToken(stream,state){var tok=innerMode(stream,state)||restOfLine(stream,state)||interpolationContinued(stream,state)||includeFilteredContinued(stream,state)||eachContinued(stream,state)||attrsContinued(stream,
state)||javaScript(stream,state)||javaScriptArguments(stream,state)||callArguments(stream,state)||yieldStatement(stream)||doctype(stream)||interpolation(stream,state)||caseStatement(stream,state)||when(stream,state)||defaultStatement(stream)||extendsStatement(stream,state)||append(stream,state)||prepend(stream,state)||block(stream,state)||include(stream,state)||includeFiltered(stream,state)||mixin(stream,state)||call(stream,state)||conditional(stream,state)||each(stream,state)||whileStatement(stream,
state)||tag(stream,state)||filter(stream,state)||code(stream,state)||id(stream)||className(stream)||attrs(stream,state)||attributesBlock(stream,state)||indent(stream)||text(stream,state)||comment(stream,state)||colon(stream)||dot(stream,state)||fail(stream);return tok===true?null:tok}var KEYWORD="keyword";var DOCTYPE="meta";var ID="builtin";var CLASS="qualifier";var ATTRS_NEST={"{":"}","(":")","[":"]"};var jsMode=CodeMirror.getMode(config,"javascript");State.prototype.copy=function(){var res=new State;
res.javaScriptLine=this.javaScriptLine;res.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon;res.javaScriptArguments=this.javaScriptArguments;res.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth;res.isInterpolating=this.isInterpolating;res.interpolationNesting=this.interpolationNesting;res.jsState=CodeMirror.copyState(jsMode,this.jsState);res.innerMode=this.innerMode;if(this.innerMode&&this.innerState)res.innerState=CodeMirror.copyState(this.innerMode,this.innerState);res.restOfLine=
this.restOfLine;res.isIncludeFiltered=this.isIncludeFiltered;res.isEach=this.isEach;res.lastTag=this.lastTag;res.scriptType=this.scriptType;res.isAttrs=this.isAttrs;res.attrsNest=this.attrsNest.slice();res.inAttributeName=this.inAttributeName;res.attributeIsType=this.attributeIsType;res.attrValue=this.attrValue;res.indentOf=this.indentOf;res.indentToken=this.indentToken;res.innerModeForLine=this.innerModeForLine;return res};return{startState:startState,copyState:copyState,token:nextToken}},"javascript",
"css","htmlmixed");CodeMirror.defineMIME("text/x-pug","pug");CodeMirror.defineMIME("text/x-jade","pug")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("puppet",function(){function define(style,string){var split=string.split(" ");var i=0;for(;i<split.length;i++)words[split[i]]=style}function tokenString(stream,state){var current;var prev;var found_var=false;for(;!stream.eol()&&(current=stream.next())!=
state.pending;){if(current==="$"&&prev!="\\"&&state.pending=='"'){found_var=true;break}prev=current}if(found_var)stream.backUp(1);if(current==state.pending)state.continueString=false;else state.continueString=true;return"string"}function tokenize(stream,state){var word=stream.match(/[\w]+/,false);var attribute=stream.match(/(\s+)?\w+\s+=>.*/,false);var resource=stream.match(/(\s+)?[\w:_]+(\s+)?{/,false);var special_resource=stream.match(/(\s+)?[@]{1,2}[\w:_]+(\s+)?{/,false);var ch=stream.next();if(ch===
"$"){if(stream.match(variable_regex))return state.continueString?"variable-2":"variable";return"error"}if(state.continueString){stream.backUp(1);return tokenString(stream,state)}if(state.inDefinition){if(stream.match(/(\s+)?[\w:_]+(\s+)?/))return"def";stream.match(/\s+{/);state.inDefinition=false}if(state.inInclude){stream.match(/(\s+)?\S+(\s+)?/);state.inInclude=false;return"def"}if(stream.match(/(\s+)?\w+\(/)){stream.backUp(1);return"def"}if(attribute){stream.match(/(\s+)?\w+/);return"tag"}if(word&&
words.hasOwnProperty(word)){stream.backUp(1);stream.match(/[\w]+/);if(stream.match(/\s+\S+\s+{/,false))state.inDefinition=true;if(word=="include")state.inInclude=true;return words[word]}if(/(^|\s+)[A-Z][\w:_]+/.test(word)){stream.backUp(1);stream.match(/(^|\s+)[A-Z][\w:_]+/);return"def"}if(resource){stream.match(/(\s+)?[\w:_]+/);return"def"}if(special_resource){stream.match(/(\s+)?[@]{1,2}/);return"special"}if(ch=="#"){stream.skipToEnd();return"comment"}if(ch=="'"||ch=='"'){state.pending=ch;return tokenString(stream,
state)}if(ch=="{"||ch=="}")return"bracket";if(ch=="/"){stream.match(/^[^\/]*\//);return"variable-3"}if(ch.match(/[0-9]/)){stream.eatWhile(/[0-9]+/);return"number"}if(ch=="="){if(stream.peek()==">")stream.next();return"operator"}stream.eatWhile(/[\w-]/);return null}var words={};var variable_regex=/({)?([a-z][a-z0-9_]*)?((::[a-z][a-z0-9_]*)*::)?[a-zA-Z0-9_]+(})?/;define("keyword","class define site node include import inherits");define("keyword","case if else in and elsif default or");define("atom",
"false true running present absent file directory undef");define("builtin","action augeas burst chain computer cron destination dport exec "+"file filebucket group host icmp iniface interface jump k5login limit log_level "+"log_prefix macauthorization mailalias maillist mcx mount nagios_command "+"nagios_contact nagios_contactgroup nagios_host nagios_hostdependency "+"nagios_hostescalation nagios_hostextinfo nagios_hostgroup nagios_service "+"nagios_servicedependency nagios_serviceescalation nagios_serviceextinfo "+
"nagios_servicegroup nagios_timeperiod name notify outiface package proto reject "+"resources router schedule scheduled_task selboolean selmodule service source "+"sport ssh_authorized_key sshkey stage state table tidy todest toports tosource "+"user vlan yumrepo zfs zone zpool");return{startState:function(){var state={};state.inDefinition=false;state.inInclude=false;state.continueString=false;state.pending=false;return state},token:function(stream,state){if(stream.eatSpace())return null;return tokenize(stream,
state)}}});CodeMirror.defineMIME("text/x-puppet","puppet")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function wordRegexp(words){return new RegExp("^(("+words.join(")|(")+"))\\b")}function top(state){return state.scopes[state.scopes.length-1]}var wordOperators=wordRegexp(["and","or","not","is"]);var commonKeywords=["as","assert","break","class","continue","def","del","elif",
"else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"];var commonBuiltins=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object",
"oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];CodeMirror.registerHelper("hintWords","python",commonKeywords.concat(commonBuiltins));CodeMirror.defineMode("python",function(conf,parserConf){function tokenBase(stream,state){var sol=stream.sol()&&state.lastToken!="\\";if(sol)state.indent=stream.indentation();if(sol&&top(state).type==
"py"){var scopeOffset=top(state).offset;if(stream.eatSpace()){var lineOffset=stream.indentation();if(lineOffset>scopeOffset)pushPyScope(state);else if(lineOffset<scopeOffset&&dedent(stream,state)&&stream.peek()!="#")state.errorToken=true;return null}else{var style=tokenBaseInner(stream,state);if(scopeOffset>0&&dedent(stream,state))style=style+(" "+ERRORCLASS);return style}}return tokenBaseInner(stream,state)}function tokenBaseInner(stream,state,inFormat){if(stream.eatSpace())return null;if(!inFormat&&
stream.match(/^#.*/))return"comment";if(stream.match(/^[0-9\.]/,false)){var floatLiteral=false;if(stream.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i))floatLiteral=true;if(stream.match(/^[\d_]+\.\d*/))floatLiteral=true;if(stream.match(/^\.\d+/))floatLiteral=true;if(floatLiteral){stream.eat(/J/i);return"number"}var intLiteral=false;if(stream.match(/^0x[0-9a-f_]+/i))intLiteral=true;if(stream.match(/^0b[01_]+/i))intLiteral=true;if(stream.match(/^0o[0-7_]+/i))intLiteral=true;if(stream.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)){stream.eat(/J/i);
intLiteral=true}if(stream.match(/^0(?![\dx])/i))intLiteral=true;if(intLiteral){stream.eat(/L/i);return"number"}}if(stream.match(stringPrefixes)){var isFmtString=stream.current().toLowerCase().indexOf("f")!==-1;if(!isFmtString){state.tokenize=tokenStringFactory(stream.current(),state.tokenize);return state.tokenize(stream,state)}else{state.tokenize=formatStringFactory(stream.current(),state.tokenize);return state.tokenize(stream,state)}}var i=0;for(;i<operators.length;i++)if(stream.match(operators[i]))return"operator";
if(stream.match(delimiters))return"punctuation";if(state.lastToken=="."&&stream.match(identifiers))return"property";if(stream.match(keywords)||stream.match(wordOperators))return"keyword";if(stream.match(builtins))return"builtin";if(stream.match(/^(self|cls)\b/))return"variable-2";if(stream.match(identifiers)){if(state.lastToken=="def"||state.lastToken=="class")return"def";return"variable"}stream.next();return inFormat?null:ERRORCLASS}function formatStringFactory(delimiter,tokenOuter){function tokenNestedExpr(depth){return function(stream,
state){var inner=tokenBaseInner(stream,state,true);if(inner=="punctuation")if(stream.current()=="{")state.tokenize=tokenNestedExpr(depth+1);else if(stream.current()=="}")if(depth>1)state.tokenize=tokenNestedExpr(depth-1);else state.tokenize=tokenString;return inner}}function tokenString(stream,state){for(;!stream.eol();){stream.eatWhile(/[^'"\{\}\\]/);if(stream.eat("\\")){stream.next();if(singleline&&stream.eol())return OUTCLASS}else if(stream.match(delimiter)){state.tokenize=tokenOuter;return OUTCLASS}else if(stream.match("{{"))return OUTCLASS;
else if(stream.match("{",false)){state.tokenize=tokenNestedExpr(0);if(stream.current())return OUTCLASS;else return state.tokenize(stream,state)}else if(stream.match("}}"))return OUTCLASS;else if(stream.match("}"))return ERRORCLASS;else stream.eat(/['"]/)}if(singleline)if(parserConf.singleLineStringErrors)return ERRORCLASS;else state.tokenize=tokenOuter;return OUTCLASS}for(;"rubf".indexOf(delimiter.charAt(0).toLowerCase())>=0;)delimiter=delimiter.substr(1);var singleline=delimiter.length==1;var OUTCLASS=
"string";tokenString.isString=true;return tokenString}function tokenStringFactory(delimiter,tokenOuter){function tokenString(stream,state){for(;!stream.eol();){stream.eatWhile(/[^'"\\]/);if(stream.eat("\\")){stream.next();if(singleline&&stream.eol())return OUTCLASS}else if(stream.match(delimiter)){state.tokenize=tokenOuter;return OUTCLASS}else stream.eat(/['"]/)}if(singleline)if(parserConf.singleLineStringErrors)return ERRORCLASS;else state.tokenize=tokenOuter;return OUTCLASS}for(;"rubf".indexOf(delimiter.charAt(0).toLowerCase())>=
0;)delimiter=delimiter.substr(1);var singleline=delimiter.length==1;var OUTCLASS="string";tokenString.isString=true;return tokenString}function pushPyScope(state){for(;top(state).type!="py";)state.scopes.pop();state.scopes.push({offset:top(state).offset+conf.indentUnit,type:"py",align:null})}function pushBracketScope(stream,state,type){var align=stream.match(/^[\s\[\{\(]*(?:#|$)/,false)?null:stream.column()+1;state.scopes.push({offset:state.indent+hangingIndent,type:type,align:align})}function dedent(stream,
state){var indented=stream.indentation();for(;state.scopes.length>1&&top(state).offset>indented;){if(top(state).type!="py")return true;state.scopes.pop()}return top(state).offset!=indented}function tokenLexer(stream,state){if(stream.sol()){state.beginningOfLine=true;state.dedent=false}var style=state.tokenize(stream,state);var current=stream.current();if(state.beginningOfLine&&current=="@")return stream.match(identifiers,false)?"meta":py3?"operator":ERRORCLASS;if(/\S/.test(current))state.beginningOfLine=
false;if((style=="variable"||style=="builtin")&&state.lastToken=="meta")style="meta";if(current=="pass"||current=="return")state.dedent=true;if(current=="lambda")state.lambda=true;if(current==":"&&!state.lambda&&top(state).type=="py"&&stream.match(/^\s*(?:#|$)/,false))pushPyScope(state);if(current.length==1&&!/string|comment/.test(style)){var delimiter_index="[({".indexOf(current);if(delimiter_index!=-1)pushBracketScope(stream,state,"])}".slice(delimiter_index,delimiter_index+1));delimiter_index=
"])}".indexOf(current);if(delimiter_index!=-1)if(top(state).type==current)state.indent=state.scopes.pop().offset-hangingIndent;else return ERRORCLASS}if(state.dedent&&stream.eol()&&top(state).type=="py"&&state.scopes.length>1)state.scopes.pop();return style}var ERRORCLASS="error";var delimiters=parserConf.delimiters||parserConf.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/;var operators=[parserConf.singleOperators,parserConf.doubleOperators,parserConf.doubleDelimiters,parserConf.tripleDelimiters,
parserConf.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/];var i=0;for(;i<operators.length;i++)if(!operators[i])operators.splice(i--,1);var hangingIndent=parserConf.hangingIndent||conf.indentUnit;var myKeywords=commonKeywords;var myBuiltins=commonBuiltins;if(parserConf.extra_keywords!=undefined)myKeywords=myKeywords.concat(parserConf.extra_keywords);if(parserConf.extra_builtins!=undefined)myBuiltins=myBuiltins.concat(parserConf.extra_builtins);var py3=!(parserConf.version&&Number(parserConf.version)<
3);if(py3){var identifiers=parserConf.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;myKeywords=myKeywords.concat(["nonlocal","False","True","None","async","await"]);myBuiltins=myBuiltins.concat(["ascii","bytes","exec","print"]);var stringPrefixes=new RegExp("^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|\"{3}|['\"]))","i")}else{identifiers=parserConf.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;myKeywords=myKeywords.concat(["exec","print"]);myBuiltins=myBuiltins.concat(["apply","basestring","buffer",
"cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);stringPrefixes=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var keywords=wordRegexp(myKeywords);var builtins=wordRegexp(myBuiltins);var external={startState:function(basecolumn){return{tokenize:tokenBase,scopes:[{offset:basecolumn||0,type:"py",align:null}],indent:basecolumn||0,lastToken:null,lambda:false,dedent:0}},token:function(stream,state){var addErr=
state.errorToken;if(addErr)state.errorToken=false;var style=tokenLexer(stream,state);if(style&&style!="comment")state.lastToken=style=="keyword"||style=="punctuation"?stream.current():style;if(style=="punctuation")style=null;if(stream.eol()&&state.lambda)state.lambda=false;return addErr?style+" "+ERRORCLASS:style},indent:function(state,textAfter){if(state.tokenize!=tokenBase)return state.tokenize.isString?CodeMirror.Pass:0;var scope=top(state);var closing=scope.type==textAfter.charAt(0)||scope.type==
"py"&&!state.dedent&&/^(else:|elif |except |finally:)/.test(textAfter);if(scope.align!=null)return scope.align-(closing?1:0);else return scope.offset-(closing?hangingIndent:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return external});CodeMirror.defineMIME("text/x-python","python");var words=function(str){return str.split(" ")};CodeMirror.defineMIME("text/x-cython",{name:"python",extra_keywords:words("by cdef cimport cpdef ctypedef enum except "+
"extern gil include nogil property public "+"readonly struct union DEF IF ELIF ELSE")})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("wordChars","r",/[\w.]/);CodeMirror.defineMode("r",function(config){function wordObj(words){var res={};var i=0;for(;i<words.length;++i)res[words[i]]=true;return res}function tokenBase(stream,state){curPunc=null;var ch=stream.next();if(ch=="#"){stream.skipToEnd();
return"comment"}else if(ch=="0"&&stream.eat("x")){stream.eatWhile(/[\da-f]/i);return"number"}else if(ch=="."&&stream.eat(/\d/)){stream.match(/\d*(?:e[+\-]?\d+)?/);return"number"}else if(/\d/.test(ch)){stream.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/);return"number"}else if(ch=="'"||ch=='"'){state.tokenize=tokenString(ch);return"string"}else if(ch=="`"){stream.match(/[^`]+`/);return"variable-3"}else if(ch=="."&&stream.match(/.(?:[.]|\d+)/))return"keyword";else if(/[a-zA-Z\.]/.test(ch)){stream.eatWhile(/[\w\.]/);
var word=stream.current();if(atoms.propertyIsEnumerable(word))return"atom";if(keywords.propertyIsEnumerable(word)){if(blockkeywords.propertyIsEnumerable(word)&&!stream.match(/\s*if(\s+|$)/,false))curPunc="block";return"keyword"}if(builtins.propertyIsEnumerable(word))return"builtin";return"variable"}else if(ch=="%"){if(stream.skipTo("%"))stream.next();return"operator variable-2"}else if(ch=="<"&&stream.eat("-")||ch=="<"&&stream.match("<-")||ch=="-"&&stream.match(/>>?/))return"operator arrow";else if(ch==
"="&&state.ctx.argList)return"arg-is";else if(opChars.test(ch)){if(ch=="$")return"operator dollar";stream.eatWhile(opChars);return"operator"}else if(/[\(\){}\[\];]/.test(ch)){curPunc=ch;if(ch==";")return"semi";return null}else return null}function tokenString(quote){return function(stream,state){if(stream.eat("\\")){var ch=stream.next();if(ch=="x")stream.match(/^[a-f0-9]{2}/i);else if((ch=="u"||ch=="U")&&stream.eat("{")&&stream.skipTo("}"))stream.next();else if(ch=="u")stream.match(/^[a-f0-9]{4}/i);
else if(ch=="U")stream.match(/^[a-f0-9]{8}/i);else if(/[0-7]/.test(ch))stream.match(/^[0-7]{1,2}/);return"string-2"}else{var next;for(;(next=stream.next())!=null;){if(next==quote){state.tokenize=tokenBase;break}if(next=="\\"){stream.backUp(1);break}}return"string"}}}function push(state,type,stream){state.ctx={type:type,indent:state.indent,flags:0,column:stream.column(),prev:state.ctx}}function setFlag(state,flag){var ctx=state.ctx;state.ctx={type:ctx.type,indent:ctx.indent,flags:ctx.flags|flag,column:ctx.column,
prev:ctx.prev}}function pop(state){state.indent=state.ctx.indent;state.ctx=state.ctx.prev}var commonAtoms=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"];var commonBuiltins=["list","quote","bquote","eval","return","call","parse","deparse"];var commonKeywords=["if","else","repeat","while","function","for","in","next","break"];var commonBlockKeywords=["if","else","repeat","while","function","for"];CodeMirror.registerHelper("hintWords","r",commonAtoms.concat(commonBuiltins,
commonKeywords));var atoms=wordObj(commonAtoms);var builtins=wordObj(commonBuiltins);var keywords=wordObj(commonKeywords);var blockkeywords=wordObj(commonBlockKeywords);var opChars=/[+\-*\/^<>=!&|~$:]/;var curPunc;var ALIGN_YES=1;var ALIGN_NO=2;var BRACELESS=4;return{startState:function(){return{tokenize:tokenBase,ctx:{type:"top",indent:-config.indentUnit,flags:ALIGN_NO},indent:0,afterIdent:false}},token:function(stream,state){if(stream.sol()){if((state.ctx.flags&3)==0)state.ctx.flags|=ALIGN_NO;if(state.ctx.flags&
BRACELESS)pop(state);state.indent=stream.indentation()}if(stream.eatSpace())return null;var style=state.tokenize(stream,state);if(style!="comment"&&(state.ctx.flags&ALIGN_NO)==0)setFlag(state,ALIGN_YES);if((curPunc==";"||curPunc=="{"||curPunc=="}")&&state.ctx.type=="block")pop(state);if(curPunc=="{")push(state,"}",stream);else if(curPunc=="("){push(state,")",stream);if(state.afterIdent)state.ctx.argList=true}else if(curPunc=="[")push(state,"]",stream);else if(curPunc=="block")push(state,"block",stream);
else if(curPunc==state.ctx.type)pop(state);else if(state.ctx.type=="block"&&style!="comment")setFlag(state,BRACELESS);state.afterIdent=style=="variable"||style=="keyword";return style},indent:function(state,textAfter){if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0);var ctx=state.ctx;var closing=firstChar==ctx.type;if(ctx.flags&BRACELESS)ctx=ctx.prev;if(ctx.type=="block")return ctx.indent+(firstChar=="{"?0:config.indentUnit);else if(ctx.flags&ALIGN_YES)return ctx.column+
(closing?0:1);else return ctx.indent+(closing?0:config.indentUnit)},lineComment:"#"}});CodeMirror.defineMIME("text/x-rsrc","r")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../python/python"),require("../stex/stex"),require("../../addon/mode/overlay"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../python/python","../stex/stex","../../addon/mode/overlay"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("rst",function(config,options){var rx_strong=/^\*\*[^\*\s](?:[^\*]*[^\*\s])?\*\*/;var rx_emphasis=
/^\*[^\*\s](?:[^\*]*[^\*\s])?\*/;var rx_literal=/^``[^`\s](?:[^`]*[^`\s])``/;var rx_number=/^(?:[\d]+(?:[\.,]\d+)*)/;var rx_positive=/^(?:\s\+[\d]+(?:[\.,]\d+)*)/;var rx_negative=/^(?:\s\-[\d]+(?:[\.,]\d+)*)/;var rx_uri_protocol="[Hh][Tt][Tt][Pp][Ss]?://";var rx_uri_domain="(?:[\\d\\w.-]+)\\.(?:\\w{2,6})";var rx_uri_path="(?:/[\\d\\w\\#\\%\\&\\-\\.\\,\\/\\:\\=\\?\\~]+)*";var rx_uri=new RegExp("^"+rx_uri_protocol+rx_uri_domain+rx_uri_path);var overlay={token:function(stream){if(stream.match(rx_strong)&&
stream.match(/\W+|$/,false))return"strong";if(stream.match(rx_emphasis)&&stream.match(/\W+|$/,false))return"em";if(stream.match(rx_literal)&&stream.match(/\W+|$/,false))return"string-2";if(stream.match(rx_number))return"number";if(stream.match(rx_positive))return"positive";if(stream.match(rx_negative))return"negative";if(stream.match(rx_uri))return"link";for(;stream.next()!=null;){if(stream.match(rx_strong,false))break;if(stream.match(rx_emphasis,false))break;if(stream.match(rx_literal,false))break;
if(stream.match(rx_number,false))break;if(stream.match(rx_positive,false))break;if(stream.match(rx_negative,false))break;if(stream.match(rx_uri,false))break}return null}};var mode=CodeMirror.getMode(config,options.backdrop||"rst-base");return CodeMirror.overlayMode(mode,overlay,true)},"python","stex");CodeMirror.defineMode("rst-base",function(config){function format(string){var args=Array.prototype.slice.call(arguments,1);return string.replace(/{(\d+)}/g,function(match,n){return typeof args[n]!="undefined"?
args[n]:match})}function to_normal(stream,state){var token=null;if(stream.sol()&&stream.match(rx_examples,false))change(state,to_mode,{mode:mode_python,local:CodeMirror.startState(mode_python)});else if(stream.sol()&&stream.match(rx_explicit)){change(state,to_explicit);token="meta"}else if(stream.sol()&&stream.match(rx_section)){change(state,to_normal);token="header"}else if(phase(state)==rx_role_pre||stream.match(rx_role_pre,false))switch(stage(state)){case 0:change(state,to_normal,context(rx_role_pre,
1));stream.match(/^:/);token="meta";break;case 1:change(state,to_normal,context(rx_role_pre,2));stream.match(rx_NAME);token="keyword";if(stream.current().match(/^(?:math|latex)/))state.tmp_stex=true;break;case 2:change(state,to_normal,context(rx_role_pre,3));stream.match(/^:`/);token="meta";break;case 3:if(state.tmp_stex){state.tmp_stex=undefined;state.tmp={mode:mode_stex,local:CodeMirror.startState(mode_stex)}}if(state.tmp){if(stream.peek()=="`"){change(state,to_normal,context(rx_role_pre,4));state.tmp=
undefined;break}token=state.tmp.mode.token(stream,state.tmp.local);break}change(state,to_normal,context(rx_role_pre,4));stream.match(rx_TEXT2);token="string";break;case 4:change(state,to_normal,context(rx_role_pre,5));stream.match(/^`/);token="meta";break;case 5:change(state,to_normal,context(rx_role_pre,6));stream.match(rx_TAIL);break;default:change(state,to_normal)}else if(phase(state)==rx_role_suf||stream.match(rx_role_suf,false))switch(stage(state)){case 0:change(state,to_normal,context(rx_role_suf,
1));stream.match(/^`/);token="meta";break;case 1:change(state,to_normal,context(rx_role_suf,2));stream.match(rx_TEXT2);token="string";break;case 2:change(state,to_normal,context(rx_role_suf,3));stream.match(/^`:/);token="meta";break;case 3:change(state,to_normal,context(rx_role_suf,4));stream.match(rx_NAME);token="keyword";break;case 4:change(state,to_normal,context(rx_role_suf,5));stream.match(/^:/);token="meta";break;case 5:change(state,to_normal,context(rx_role_suf,6));stream.match(rx_TAIL);break;
default:change(state,to_normal)}else if(phase(state)==rx_role||stream.match(rx_role,false))switch(stage(state)){case 0:change(state,to_normal,context(rx_role,1));stream.match(/^:/);token="meta";break;case 1:change(state,to_normal,context(rx_role,2));stream.match(rx_NAME);token="keyword";break;case 2:change(state,to_normal,context(rx_role,3));stream.match(/^:/);token="meta";break;case 3:change(state,to_normal,context(rx_role,4));stream.match(rx_TAIL);break;default:change(state,to_normal)}else if(phase(state)==
rx_substitution_ref||stream.match(rx_substitution_ref,false))switch(stage(state)){case 0:change(state,to_normal,context(rx_substitution_ref,1));stream.match(rx_substitution_text);token="variable-2";break;case 1:change(state,to_normal,context(rx_substitution_ref,2));if(stream.match(/^_?_?/))token="link";break;default:change(state,to_normal)}else if(stream.match(rx_footnote_ref)){change(state,to_normal);token="quote"}else if(stream.match(rx_citation_ref)){change(state,to_normal);token="quote"}else if(stream.match(rx_link_ref1)){change(state,
to_normal);if(!stream.peek()||stream.peek().match(/^\W$/))token="link"}else if(phase(state)==rx_link_ref2||stream.match(rx_link_ref2,false))switch(stage(state)){case 0:if(!stream.peek()||stream.peek().match(/^\W$/))change(state,to_normal,context(rx_link_ref2,1));else stream.match(rx_link_ref2);break;case 1:change(state,to_normal,context(rx_link_ref2,2));stream.match(/^`/);token="link";break;case 2:change(state,to_normal,context(rx_link_ref2,3));stream.match(rx_TEXT2);break;case 3:change(state,to_normal,
context(rx_link_ref2,4));stream.match(/^`_/);token="link";break;default:change(state,to_normal)}else if(stream.match(rx_verbatim))change(state,to_verbatim);else if(stream.next())change(state,to_normal);return token}function to_explicit(stream,state){var token=null;if(phase(state)==rx_substitution||stream.match(rx_substitution,false))switch(stage(state)){case 0:change(state,to_explicit,context(rx_substitution,1));stream.match(rx_substitution_text);token="variable-2";break;case 1:change(state,to_explicit,
context(rx_substitution,2));stream.match(rx_substitution_sepa);break;case 2:change(state,to_explicit,context(rx_substitution,3));stream.match(rx_substitution_name);token="keyword";break;case 3:change(state,to_explicit,context(rx_substitution,4));stream.match(rx_substitution_tail);token="meta";break;default:change(state,to_normal)}else if(phase(state)==rx_directive||stream.match(rx_directive,false))switch(stage(state)){case 0:change(state,to_explicit,context(rx_directive,1));stream.match(rx_directive_name);
token="keyword";if(stream.current().match(/^(?:math|latex)/))state.tmp_stex=true;else if(stream.current().match(/^python/))state.tmp_py=true;break;case 1:change(state,to_explicit,context(rx_directive,2));stream.match(rx_directive_tail);token="meta";if(stream.match(/^latex\s*$/)||state.tmp_stex){state.tmp_stex=undefined;change(state,to_mode,{mode:mode_stex,local:CodeMirror.startState(mode_stex)})}break;case 2:change(state,to_explicit,context(rx_directive,3));if(stream.match(/^python\s*$/)||state.tmp_py){state.tmp_py=
undefined;change(state,to_mode,{mode:mode_python,local:CodeMirror.startState(mode_python)})}break;default:change(state,to_normal)}else if(phase(state)==rx_link||stream.match(rx_link,false))switch(stage(state)){case 0:change(state,to_explicit,context(rx_link,1));stream.match(rx_link_head);stream.match(rx_link_name);token="link";break;case 1:change(state,to_explicit,context(rx_link,2));stream.match(rx_link_tail);token="meta";break;default:change(state,to_normal)}else if(stream.match(rx_footnote)){change(state,
to_normal);token="quote"}else if(stream.match(rx_citation)){change(state,to_normal);token="quote"}else{stream.eatSpace();if(stream.eol())change(state,to_normal);else{stream.skipToEnd();change(state,to_comment);token="comment"}}return token}function to_comment(stream,state){return as_block(stream,state,"comment")}function to_verbatim(stream,state){return as_block(stream,state,"meta")}function as_block(stream,state,token){if(stream.eol()||stream.eatSpace()){stream.skipToEnd();return token}else{change(state,
to_normal);return null}}function to_mode(stream,state){if(state.ctx.mode&&state.ctx.local){if(stream.sol()){if(!stream.eatSpace())change(state,to_normal);return null}return state.ctx.mode.token(stream,state.ctx.local)}change(state,to_normal);return null}function context(phase,stage,mode,local){return{phase:phase,stage:stage,mode:mode,local:local}}function change(state,tok,ctx){state.tok=tok;state.ctx=ctx||{}}function stage(state){return state.ctx.stage||0}function phase(state){return state.ctx.phase}
var mode_python=CodeMirror.getMode(config,"python");var mode_stex=CodeMirror.getMode(config,"stex");var SEPA="\\s+";var TAIL="(?:\\s*|\\W|$)";var rx_TAIL=new RegExp(format("^{0}",TAIL));var NAME="(?:[^\\W\\d_](?:[\\w!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)";var rx_NAME=new RegExp(format("^{0}",NAME));var NAME_WWS="(?:[^\\W\\d_](?:[\\w\\s!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)";var REF_NAME=format("(?:{0}|`{1}`)",NAME,NAME_WWS);var TEXT1="(?:[^\\s\\|](?:[^\\|]*[^\\s\\|])?)";var TEXT2="(?:[^\\`]+)";
var rx_TEXT2=new RegExp(format("^{0}",TEXT2));var rx_section=new RegExp("^([!'#$%&\"()*+,-./:;<=>?@\\[\\\\\\]^_`{|}~])\\1{3,}\\s*$");var rx_explicit=new RegExp(format("^\\.\\.{0}",SEPA));var rx_link=new RegExp(format("^_{0}:{1}|^__:{1}",REF_NAME,TAIL));var rx_directive=new RegExp(format("^{0}::{1}",REF_NAME,TAIL));var rx_substitution=new RegExp(format("^\\|{0}\\|{1}{2}::{3}",TEXT1,SEPA,REF_NAME,TAIL));var rx_footnote=new RegExp(format("^\\[(?:\\d+|#{0}?|\\*)]{1}",REF_NAME,TAIL));var rx_citation=new RegExp(format("^\\[{0}\\]{1}",
REF_NAME,TAIL));var rx_substitution_ref=new RegExp(format("^\\|{0}\\|",TEXT1));var rx_footnote_ref=new RegExp(format("^\\[(?:\\d+|#{0}?|\\*)]_",REF_NAME));var rx_citation_ref=new RegExp(format("^\\[{0}\\]_",REF_NAME));var rx_link_ref1=new RegExp(format("^{0}__?",REF_NAME));var rx_link_ref2=new RegExp(format("^`{0}`_",TEXT2));var rx_role_pre=new RegExp(format("^:{0}:`{1}`{2}",NAME,TEXT2,TAIL));var rx_role_suf=new RegExp(format("^`{1}`:{0}:{2}",NAME,TEXT2,TAIL));var rx_role=new RegExp(format("^:{0}:{1}",
NAME,TAIL));var rx_directive_name=new RegExp(format("^{0}",REF_NAME));var rx_directive_tail=new RegExp(format("^::{0}",TAIL));var rx_substitution_text=new RegExp(format("^\\|{0}\\|",TEXT1));var rx_substitution_sepa=new RegExp(format("^{0}",SEPA));var rx_substitution_name=new RegExp(format("^{0}",REF_NAME));var rx_substitution_tail=new RegExp(format("^::{0}",TAIL));var rx_link_head=new RegExp("^_");var rx_link_name=new RegExp(format("^{0}|_",REF_NAME));var rx_link_tail=new RegExp(format("^:{0}",TAIL));
var rx_verbatim=new RegExp("^::\\s*$");var rx_examples=new RegExp("^\\s+(?:>>>|In \\[\\d+\\]:)\\s");return{startState:function(){return{tok:to_normal,ctx:context(undefined,0)}},copyState:function(state){var ctx=state.ctx;var tmp=state.tmp;if(ctx.local)ctx={mode:ctx.mode,local:CodeMirror.copyState(ctx.mode,ctx.local)};if(tmp)tmp={mode:tmp.mode,local:CodeMirror.copyState(tmp.mode,tmp.local)};return{tok:state.tok,ctx:ctx,tmp:tmp}},innerMode:function(state){return state.tmp?{state:state.tmp.local,mode:state.tmp.mode}:
state.ctx.mode?{state:state.ctx.local,mode:state.ctx.mode}:null},token:function(stream,state){return state.tok(stream,state)}}},"python","stex");CodeMirror.defineMIME("text/x-rst","rst")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function wordObj(words){var o={};var i=0;var e=words.length;for(;i<e;++i)o[words[i]]=true;return o}var keywordList=["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not",
"or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"];var keywords=wordObj(keywordList);var indentWords=wordObj(["def","class","case","for","while","until","module","catch","loop","proc","begin"]);var dedentWords=wordObj(["end","until"]);
var opening={"[":"]","{":"}","(":")"};var closing={"]":"[","}":"{",")":"("};CodeMirror.defineMode("ruby",function(config){function chain(newtok,stream,state){state.tokenize.push(newtok);return newtok(stream,state)}function tokenBase(stream,state){if(stream.sol()&&stream.match("=begin")&&stream.eol()){state.tokenize.push(readBlockComment);return"comment"}if(stream.eatSpace())return null;var ch=stream.next();var m;if(ch=="`"||ch=="'"||ch=='"')return chain(readQuoted(ch,"string",ch=='"'||ch=="`"),stream,
state);else if(ch=="/")if(regexpAhead(stream))return chain(readQuoted(ch,"string-2",true),stream,state);else return"operator";else if(ch=="%"){var style="string";var embed=true;if(stream.eat("s"))style="atom";else if(stream.eat(/[WQ]/))style="string";else if(stream.eat(/[r]/))style="string-2";else if(stream.eat(/[wxq]/)){style="string";embed=false}var delim=stream.eat(/[^\w\s=]/);if(!delim)return"operator";if(opening.propertyIsEnumerable(delim))delim=opening[delim];return chain(readQuoted(delim,style,
embed,true),stream,state)}else if(ch=="#"){stream.skipToEnd();return"comment"}else if(ch=="<"&&(m=stream.match(/^<([-~])[`"']?([a-zA-Z_?]\w*)[`"']?(?:;|$)/)))return chain(readHereDoc(m[2],m[1]),stream,state);else if(ch=="0"){if(stream.eat("x"))stream.eatWhile(/[\da-fA-F]/);else if(stream.eat("b"))stream.eatWhile(/[01]/);else stream.eatWhile(/[0-7]/);return"number"}else if(/\d/.test(ch)){stream.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/);return"number"}else if(ch=="?"){for(;stream.match(/^\\[CM]-/););
if(stream.eat("\\"))stream.eatWhile(/\w/);else stream.next();return"string"}else if(ch==":"){if(stream.eat("'"))return chain(readQuoted("'","atom",false),stream,state);if(stream.eat('"'))return chain(readQuoted('"',"atom",true),stream,state);if(stream.eat(/[<>]/)){stream.eat(/[<>]/);return"atom"}if(stream.eat(/[\+\-\*\/&\|:!]/))return"atom";if(stream.eat(/[a-zA-Z$@_\xa1-\uffff]/)){stream.eatWhile(/[\w$\xa1-\uffff]/);stream.eat(/[\?!=]/);return"atom"}return"operator"}else if(ch=="@"&&stream.match(/^@?[a-zA-Z_\xa1-\uffff]/)){stream.eat("@");
stream.eatWhile(/[\w\xa1-\uffff]/);return"variable-2"}else if(ch=="$"){if(stream.eat(/[a-zA-Z_]/))stream.eatWhile(/[\w]/);else if(stream.eat(/\d/))stream.eat(/\d/);else stream.next();return"variable-3"}else if(/[a-zA-Z_\xa1-\uffff]/.test(ch)){stream.eatWhile(/[\w\xa1-\uffff]/);stream.eat(/[\?!]/);if(stream.eat(":"))return"atom";return"ident"}else if(ch=="|"&&(state.varList||state.lastTok=="{"||state.lastTok=="do")){curPunc="|";return null}else if(/[\(\)\[\]{}\\;]/.test(ch)){curPunc=ch;return null}else if(ch==
"-"&&stream.eat(">"))return"arrow";else if(/[=+\-\/*:\.^%<>~|]/.test(ch)){var more=stream.eatWhile(/[=+\-\/*:\.^%<>~|]/);if(ch=="."&&!more)curPunc=".";return"operator"}else return null}function regexpAhead(stream){var start=stream.pos;var depth=0;var next;var found=false;var escaped=false;for(;(next=stream.next())!=null;)if(!escaped){if("[{(".indexOf(next)>-1)depth++;else if("]})".indexOf(next)>-1){depth--;if(depth<0)break}else if(next=="/"&&depth==0){found=true;break}escaped=next=="\\"}else escaped=
false;stream.backUp(stream.pos-start);return found}function tokenBaseUntilBrace(depth){if(!depth)depth=1;return function(stream,state){if(stream.peek()=="}")if(depth==1){state.tokenize.pop();return state.tokenize[state.tokenize.length-1](stream,state)}else state.tokenize[state.tokenize.length-1]=tokenBaseUntilBrace(depth-1);else if(stream.peek()=="{")state.tokenize[state.tokenize.length-1]=tokenBaseUntilBrace(depth+1);return tokenBase(stream,state)}}function tokenBaseOnce(){var alreadyCalled=false;
return function(stream,state){if(alreadyCalled){state.tokenize.pop();return state.tokenize[state.tokenize.length-1](stream,state)}alreadyCalled=true;return tokenBase(stream,state)}}function readQuoted(quote,style,embed,unescaped){return function(stream,state){var escaped=false;var ch;if(state.context.type==="read-quoted-paused"){state.context=state.context.prev;stream.eat("}")}for(;(ch=stream.next())!=null;){if(ch==quote&&(unescaped||!escaped)){state.tokenize.pop();break}if(embed&&ch=="#"&&!escaped)if(stream.eat("{")){if(quote==
"}")state.context={prev:state.context,type:"read-quoted-paused"};state.tokenize.push(tokenBaseUntilBrace());break}else if(/[@\$]/.test(stream.peek())){state.tokenize.push(tokenBaseOnce());break}escaped=!escaped&&ch=="\\"}return style}}function readHereDoc(phrase,mayIndent){return function(stream,state){if(mayIndent)stream.eatSpace();if(stream.match(phrase))state.tokenize.pop();else stream.skipToEnd();return"string"}}function readBlockComment(stream,state){if(stream.sol()&&stream.match("=end")&&stream.eol())state.tokenize.pop();
stream.skipToEnd();return"comment"}var curPunc;return{startState:function(){return{tokenize:[tokenBase],indented:0,context:{type:"top",indented:-config.indentUnit},continuedLine:false,lastTok:null,varList:false}},token:function(stream,state){curPunc=null;if(stream.sol())state.indented=stream.indentation();var style=state.tokenize[state.tokenize.length-1](stream,state);var kwtype;var thisTok=curPunc;if(style=="ident"){var word=stream.current();style=state.lastTok=="."?"property":keywords.propertyIsEnumerable(stream.current())?
"keyword":/^[A-Z]/.test(word)?"tag":state.lastTok=="def"||state.lastTok=="class"||state.varList?"def":"variable";if(style=="keyword"){thisTok=word;if(indentWords.propertyIsEnumerable(word))kwtype="indent";else if(dedentWords.propertyIsEnumerable(word))kwtype="dedent";else if((word=="if"||word=="unless")&&stream.column()==stream.indentation())kwtype="indent";else if(word=="do"&&state.context.indented<state.indented)kwtype="indent"}}if(curPunc||style&&style!="comment")state.lastTok=thisTok;if(curPunc==
"|")state.varList=!state.varList;if(kwtype=="indent"||/[\(\[\{]/.test(curPunc))state.context={prev:state.context,type:curPunc||style,indented:state.indented};else if((kwtype=="dedent"||/[\)\]\}]/.test(curPunc))&&state.context.prev)state.context=state.context.prev;if(stream.eol())state.continuedLine=curPunc=="\\"||style=="operator";return style},indent:function(state,textAfter){if(state.tokenize[state.tokenize.length-1]!=tokenBase)return CodeMirror.Pass;var firstChar=textAfter&&textAfter.charAt(0);
var ct=state.context;var closed=ct.type==closing[firstChar]||ct.type=="keyword"&&/^(?:end|until|else|elsif|when|rescue)\b/.test(textAfter);return ct.indented+(closed?0:config.indentUnit)+(state.continuedLine?config.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#",fold:"indent"}});CodeMirror.defineMIME("text/x-ruby","ruby");CodeMirror.registerHelper("hintWords","ruby",keywordList)});/*

 Copyright 2019 Google Inc.  All Rights Reserved.
 @fileoverview Rule Service mode (http://go/rules-service) for CodeMirror.
 @author tesract@google.com
*/
(function(){function wordRegexp(words){return new RegExp("\\b(?:(?:"+words.join(")|(?:")+"))\\b")}var singleLineCommentMatcher=/(?:\/\/).*/;var multiLineCommentMatcher=/\/\*(?:.|\s)*\*\//;var protoKeywordMatcher=new RegExp("\\b(?:(?:"+[].concat(["actions","condition","context","description","expression","frd_graph_id","key","name","value"].map(function(field_name){return field_name+"\\s*:"}),["conflict_resolution","constants","directory_priority","file_priority","rules","stored_expressions"].map(function(message_name){return message_name+
"\\s*{"})).join(")|(?:")+"))");var protoAtomMatcher=wordRegexp(["NEW_CASE","ROUTING","EMAIL_SYSTEM","LEGACY_MAPPING","DECORATION","PHONE_DECORATION","ELIGIBILITY","EMAIL_SCORING","REVERSE_MAPPING","AUTO_REACT","SURVEY","TEST","PAGER_SERVICE","SIGNAL_CANONICAL_SYNTHESIS","QPLUS_ML_PRECHECK","GUP_PERSONALIZATION_SERVICE","SEARCH_CONTENT_PROMOTION","SUPPORT_CONTENT_ESCALATION_OPTIONS","SUPPORT_CONTENT_EXTENSIBLE_CONTACT_OPTIONS","SUPPORT_CONTENT_HELP_CENTER_FIELDS","RNA_CHANNEL_PRIORITIES","RNA_PREDICTIVE_ROUTING",
"CASES_SEGMENTS_ELIGIBILITY"]);var stringMatcher=/(?:"(?:[^\\"]|\\.)*")|(?:'(?:[^\\']|\\.)*')/;var ruleAtomMatcher=wordRegexp(["and","or","not","true","false"]);CodeMirror.defineMode("rulescfg",function(){return{token:function(stream){if(stream.eatSpace())return null;else if(stream.match(singleLineCommentMatcher)||stream.match(multiLineCommentMatcher))return"comment";else if(stream.match(protoKeywordMatcher))return"keyword";else if(stream.match(protoAtomMatcher))return"atom";else if(stream.match(stringMatcher))return"string";
else if(stream.match(ruleAtomMatcher))return"atom";else if(stream.match(/\w+\(/)){stream.backUp(1);return"def"}else if(stream.match(/\w+(\.\w+)+/))return"variable";else if(stream.match(/^[0-9]*\.?[0-9]+/))return"number";else{stream.next();return null}},lineComment:"//"}});CodeMirror.defineMIME("text/x-google-automation-rule-config",{name:"rulescfg"})})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../addon/mode/simple"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../addon/mode/simple"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\]|\\(?:[nrt0'"]|x[\da-fA-F]{2}|u\{[\da-fA-F]{6}\}))'/,
token:"string-2"},{regex:/b'(?:[^']|\\(?:['\\nrt0]|x[\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\s+mut)?|fn|enum|mod|struct|type|union)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|async|await|box|break|continue|const|crate|do|dyn|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,
token:"keyword"},{regex:/\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\b/,token:"atom"},{regex:/\b(?:true|false|Some|None|Ok|Err)\b/,token:"builtin"},{regex:/\b(fn)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\[.*\]/,token:"meta"},{regex:/\/\/.*/,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\w*/,token:"variable"},{regex:/[\{\[\(]/,
indent:true},{regex:/[\}\]\)]/,dedent:true}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\"]|\\(?:.|$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\s*\}$/,blockCommentStart:"/*",blockCommentEnd:"*/",
lineComment:"//",fold:"brace"}});CodeMirror.defineMIME("text/x-rustsrc","rust");CodeMirror.defineMIME("text/rust","rust")});CodeMirror.defineMode("rvl",function(){function set(list){var obj={};var i=0;for(;i<list.length;i++)obj[list[i]]=true;return obj}var rvlKeywords=set(["aggregate","and","array","as","asc","at","attr","between","by","case","cast","coerced_in_unnest","cross","debug_output","desc","distinct","drop","else","end","enum","except","extract","flatten","fold","for","from","group","hash","identifier_concat","if","ifnull","ignore","import","in","inner","interval","is","join","left","like","limit","lookup","main",
"module","mutate","new","nonprunable","not","null","nulls","on","or","order","outer","output","pivot_unpivot","proto_default_if_null","proto_null_if_unset","prunable","rename","respect","return","right","safe_cast","select","struct","then","tuple_in_unnest","unfold","union","unnest","using","view","when","where","with","_c_call","_external_call","_sql_call"]);var unreservedKeywords=set(["function","legacy","private","public","AGG_COLS","ANY","COLLATE","DATE","DATETIME","FULL","OFFSET","ORDINAL","SAFE_OFFSET",
"SAFE_ORDINAL","TABLE","TIME","TIMESTAMP","ZONE"]);var rvlTypes=set(["BOOL","INT32","UINT32","INT64","UINT64","FLOAT","DOUBLE","NUMERIC","STRING","BYTES","DATE","DATETIME","TIME","TIMESTAMP"]);var rvlConstants=set(["true","false"]);return{token:function(stream,state){if(stream.eat("#")){stream.skipToEnd();return"comment"}if(stream.match(/'([^']|(\\.))*'/)||stream.match(/"([^"]|(\\.))*"/))return"string";if(stream.match(/[bB]'([^']|(\\.))*'/)||stream.match(/[bB]"([^"]|(\\.))*"/))return"string";if(stream.match(/[0-9][0-9]*|(0[xX][0-9a-fA-F]+)/)||
stream.match(/([0-9]+|[0-9]+[.][0-9]*|[0-9]*[.][0-9]+)([eE][+-]?[0-9]+)/)||stream.match(/([0-9]+[.][0-9]*|[0-9]*[.][0-9]+)/))return"number";if(stream.match(/[A-Za-z_][A-Za-z_0-9]*/)){var originalWord=stream.current();var lowerCaseWord=originalWord.toLowerCase();if(rvlKeywords[lowerCaseWord])return"keyword";else if(unreservedKeywords[originalWord])return"keyword";else if(rvlTypes[originalWord])return"builtin";else if(rvlConstants[lowerCaseWord])return"atom";else return"variable"}if(stream.match(/`([^\\`\r\n]|(\\(.|\n|\r|\r\n)))*`/))return"variable";
stream.next();return null},lineComment:"#"}});CodeMirror.defineMIME("text/x-rvl","rvl");(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../css/css"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("sass",function(config){function tokenRegexp(words){return new RegExp("^"+words.join("|"))}function isEndLine(stream){return!stream.peek()||stream.match(/\s+$/,false)}function urlTokens(stream,state){var ch=stream.peek();
if(ch===")"){stream.next();state.tokenizer=tokenBase;return"operator"}else if(ch==="("){stream.next();stream.eatSpace();return"operator"}else if(ch==="'"||ch==='"'){state.tokenizer=buildStringTokenizer(stream.next());return"string"}else{state.tokenizer=buildStringTokenizer(")",false);return"string"}}function comment(indentation,multiLine){return function(stream,state){if(stream.sol()&&stream.indentation()<=indentation){state.tokenizer=tokenBase;return tokenBase(stream,state)}if(multiLine&&stream.skipTo("*/")){stream.next();
stream.next();state.tokenizer=tokenBase}else stream.skipToEnd();return"comment"}}function buildStringTokenizer(quote,greedy){function stringTokenizer(stream,state){var nextChar=stream.next();var peekChar=stream.peek();var previousChar=stream.string.charAt(stream.pos-2);var endingString=nextChar!=="\\"&&peekChar===quote||nextChar===quote&&previousChar!=="\\";if(endingString){if(nextChar!==quote&&greedy)stream.next();if(isEndLine(stream))state.cursorHalf=0;state.tokenizer=tokenBase;return"string"}else if(nextChar===
"#"&&peekChar==="{"){state.tokenizer=buildInterpolationTokenizer(stringTokenizer);stream.next();return"operator"}else return"string"}if(greedy==null)greedy=true;return stringTokenizer}function buildInterpolationTokenizer(currentTokenizer){return function(stream,state){if(stream.peek()==="}"){stream.next();state.tokenizer=currentTokenizer;return"operator"}else return tokenBase(stream,state)}}function indent(state){if(state.indentCount==0){state.indentCount++;var lastScopeOffset=state.scopes[0].offset;
var currentOffset=lastScopeOffset+config.indentUnit;state.scopes.unshift({offset:currentOffset})}}function dedent(state){if(state.scopes.length==1)return;state.scopes.shift()}function tokenBase(stream,state){var ch=stream.peek();if(stream.match("/*")){state.tokenizer=comment(stream.indentation(),true);return state.tokenizer(stream,state)}if(stream.match("//")){state.tokenizer=comment(stream.indentation(),false);return state.tokenizer(stream,state)}if(stream.match("#{")){state.tokenizer=buildInterpolationTokenizer(tokenBase);
return"operator"}if(ch==='"'||ch==="'"){stream.next();state.tokenizer=buildStringTokenizer(ch);return"string"}if(!state.cursorHalf){if(ch==="-")if(stream.match(/^-\w+-/))return"meta";if(ch==="."){stream.next();if(stream.match(/^[\w-]+/)){indent(state);return"qualifier"}else if(stream.peek()==="#"){indent(state);return"tag"}}if(ch==="#"){stream.next();if(stream.match(/^[\w-]+/)){indent(state);return"builtin"}if(stream.peek()==="#"){indent(state);return"tag"}}if(ch==="$"){stream.next();stream.eatWhile(/[\w-]/);
return"variable-2"}if(stream.match(/^-?[0-9\.]+/))return"number";if(stream.match(/^(px|em|in)\b/))return"unit";if(stream.match(keywordsRegexp))return"keyword";if(stream.match(/^url/)&&stream.peek()==="("){state.tokenizer=urlTokens;return"atom"}if(ch==="=")if(stream.match(/^=[\w-]+/)){indent(state);return"meta"}if(ch==="+")if(stream.match(/^\+[\w-]+/))return"variable-3";if(ch==="@")if(stream.match("@extend"))if(!stream.match(/\s*[\w]/))dedent(state);if(stream.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)){indent(state);
return"def"}if(ch==="@"){stream.next();stream.eatWhile(/[\w-]/);return"def"}if(stream.eatWhile(/[\w-]/))if(stream.match(/ *: *[\w-\+\$#!\("']/,false)){word=stream.current().toLowerCase();var prop=state.prevProp+"-"+word;if(propertyKeywords.hasOwnProperty(prop))return"property";else if(propertyKeywords.hasOwnProperty(word)){state.prevProp=word;return"property"}else if(fontProperties.hasOwnProperty(word))return"property";return"tag"}else if(stream.match(/ *:/,false)){indent(state);state.cursorHalf=
1;state.prevProp=stream.current().toLowerCase();return"property"}else if(stream.match(/ *,/,false))return"tag";else{indent(state);return"tag"}if(ch===":"){if(stream.match(pseudoElementsRegexp))return"variable-3";stream.next();state.cursorHalf=1;return"operator"}}else{if(ch==="#"){stream.next();if(stream.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){if(isEndLine(stream))state.cursorHalf=0;return"number"}}if(stream.match(/^-?[0-9\.]+/)){if(isEndLine(stream))state.cursorHalf=0;return"number"}if(stream.match(/^(px|em|in)\b/)){if(isEndLine(stream))state.cursorHalf=
0;return"unit"}if(stream.match(keywordsRegexp)){if(isEndLine(stream))state.cursorHalf=0;return"keyword"}if(stream.match(/^url/)&&stream.peek()==="("){state.tokenizer=urlTokens;if(isEndLine(stream))state.cursorHalf=0;return"atom"}if(ch==="$"){stream.next();stream.eatWhile(/[\w-]/);if(isEndLine(stream))state.cursorHalf=0;return"variable-2"}if(ch==="!"){stream.next();state.cursorHalf=0;return stream.match(/^[\w]+/)?"keyword":"operator"}if(stream.match(opRegexp)){if(isEndLine(stream))state.cursorHalf=
0;return"operator"}if(stream.eatWhile(/[\w-]/)){if(isEndLine(stream))state.cursorHalf=0;word=stream.current().toLowerCase();if(valueKeywords.hasOwnProperty(word))return"atom";else if(colorKeywords.hasOwnProperty(word))return"keyword";else if(propertyKeywords.hasOwnProperty(word)){state.prevProp=stream.current().toLowerCase();return"property"}else return"tag"}if(isEndLine(stream)){state.cursorHalf=0;return null}}if(stream.match(opRegexp))return"operator";stream.next();return null}function tokenLexer(stream,
state){if(stream.sol())state.indentCount=0;var style=state.tokenizer(stream,state);var current=stream.current();if(current==="@return"||current==="}")dedent(state);if(style!==null){var startOfToken=stream.pos-current.length;var withCurrentIndent=startOfToken+config.indentUnit*state.indentCount;var newScopes=[];var i=0;for(;i<state.scopes.length;i++){var scope=state.scopes[i];if(scope.offset<=withCurrentIndent)newScopes.push(scope)}state.scopes=newScopes}return style}var cssMode=CodeMirror.mimeModes["text/css"];
var propertyKeywords=cssMode.propertyKeywords||{};var colorKeywords=cssMode.colorKeywords||{};var valueKeywords=cssMode.valueKeywords||{};var fontProperties=cssMode.fontProperties||{};var keywords=["true","false","null","auto"];var keywordsRegexp=new RegExp("^"+keywords.join("|"));var operators=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"];var opRegexp=tokenRegexp(operators);var pseudoElementsRegexp=/^::?[a-zA-Z_][\w\-]*/;var word;return{startState:function(){return{tokenizer:tokenBase,
scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(stream,state){var style=tokenLexer(stream,state);state.lastToken={style:style,content:stream.current()};return style},indent:function(state){return state.scopes[0].offset},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}},"css");CodeMirror.defineMIME("text/x-sass","sass")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("scheme",function(){function makeKeywords(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function stateStack(indent,type,prev){this.indent=indent;this.type=type;this.prev=prev}function pushStack(state,
indent,type){state.indentStack=new stateStack(indent,type,state.indentStack)}function popStack(state){state.indentStack=state.indentStack.prev}function isBinaryNumber(stream){return stream.match(binaryMatcher)}function isOctalNumber(stream){return stream.match(octalMatcher)}function isDecimalNumber(stream,backup){if(backup===true)stream.backUp(1);return stream.match(decimalMatcher)}function isHexNumber(stream){return stream.match(hexMatcher)}function processEscapedSequence(stream,options){var next;
var escaped=false;for(;(next=stream.next())!=null;){if(next==options.token&&!escaped){options.state.mode=false;break}escaped=!escaped&&next=="\\"}}var BUILTIN="builtin";var COMMENT="comment";var STRING="string";var SYMBOL="symbol";var ATOM="atom";var NUMBER="number";var BRACKET="bracket";var INDENT_WORD_SKIP=2;var keywords=makeKeywords("\u03bb case-lambda call/cc class cond-expand define-class define-values exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax define-macro defmacro delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?");
var indentKeys=makeKeywords("define let letrec let* lambda define-macro defmacro let-syntax letrec-syntax let-values let*-values define-syntax syntax-rules define-values when unless");var binaryMatcher=new RegExp(/^(?:[-+]i|[-+][01]+#*(?:\/[01]+#*)?i|[-+]?[01]+#*(?:\/[01]+#*)?@[-+]?[01]+#*(?:\/[01]+#*)?|[-+]?[01]+#*(?:\/[01]+#*)?[-+](?:[01]+#*(?:\/[01]+#*)?)?i|[-+]?[01]+#*(?:\/[01]+#*)?)(?=[()\s;"]|$)/i);var octalMatcher=new RegExp(/^(?:[-+]i|[-+][0-7]+#*(?:\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?)(?=[()\s;"]|$)/i);
var hexMatcher=new RegExp(/^(?:[-+]i|[-+][\da-f]+#*(?:\/[\da-f]+#*)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?@[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?[-+](?:[\da-f]+#*(?:\/[\da-f]+#*)?)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?)(?=[()\s;"]|$)/i);var decimalMatcher=new RegExp(/^(?:[-+]i|[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)i|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)@[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)?i|(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*))(?=[()\s;"]|$)/i);
return{startState:function(){return{indentStack:null,indentation:0,mode:false,sExprComment:false,sExprQuote:false}},token:function(stream,state){if(state.indentStack==null&&stream.sol())state.indentation=stream.indentation();if(stream.eatSpace())return null;var returnType=null;switch(state.mode){case "string":processEscapedSequence(stream,{token:'"',state:state});returnType=STRING;break;case "symbol":processEscapedSequence(stream,{token:"|",state:state});returnType=SYMBOL;break;case "comment":var next;
var maybeEnd=false;for(;(next=stream.next())!=null;){if(next=="#"&&maybeEnd){state.mode=false;break}maybeEnd=next=="|"}returnType=COMMENT;break;case "s-expr-comment":state.mode=false;if(stream.peek()=="("||stream.peek()=="[")state.sExprComment=0;else{stream.eatWhile(/[^\s\(\)\[\]]/);returnType=COMMENT;break}default:var ch=stream.next();if(ch=='"'){state.mode="string";returnType=STRING}else if(ch=="'")if(stream.peek()=="("||stream.peek()=="["){if(typeof state.sExprQuote!="number")state.sExprQuote=
0;returnType=ATOM}else{stream.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/);returnType=ATOM}else if(ch=="|"){state.mode="symbol";returnType=SYMBOL}else if(ch=="#")if(stream.eat("|")){state.mode="comment";returnType=COMMENT}else if(stream.eat(/[tf]/i))returnType=ATOM;else if(stream.eat(";")){state.mode="s-expr-comment";returnType=COMMENT}else{var numTest=null;var hasExactness=false;var hasRadix=true;if(stream.eat(/[ei]/i))hasExactness=true;else stream.backUp(1);if(stream.match(/^#b/i))numTest=isBinaryNumber;
else if(stream.match(/^#o/i))numTest=isOctalNumber;else if(stream.match(/^#x/i))numTest=isHexNumber;else if(stream.match(/^#d/i))numTest=isDecimalNumber;else if(stream.match(/^[-+0-9.]/,false)){hasRadix=false;numTest=isDecimalNumber}else if(!hasExactness)stream.eat("#");if(numTest!=null){if(hasRadix&&!hasExactness)stream.match(/^#[ei]/i);if(numTest(stream))returnType=NUMBER}}else if(/^[-+0-9.]/.test(ch)&&isDecimalNumber(stream,true))returnType=NUMBER;else if(ch==";"){stream.skipToEnd();returnType=
COMMENT}else if(ch=="("||ch=="["){var keyWord="";var indentTemp=stream.column();var letter;for(;(letter=stream.eat(/[^\s\(\[;\)\]]/))!=null;)keyWord=keyWord+letter;if(keyWord.length>0&&indentKeys.propertyIsEnumerable(keyWord))pushStack(state,indentTemp+INDENT_WORD_SKIP,ch);else{stream.eatSpace();if(stream.eol()||stream.peek()==";")pushStack(state,indentTemp+1,ch);else pushStack(state,indentTemp+stream.current().length,ch)}stream.backUp(stream.current().length-1);if(typeof state.sExprComment=="number")state.sExprComment++;
if(typeof state.sExprQuote=="number")state.sExprQuote++;returnType=BRACKET}else if(ch==")"||ch=="]"){returnType=BRACKET;if(state.indentStack!=null&&state.indentStack.type==(ch==")"?"(":"[")){popStack(state);if(typeof state.sExprComment=="number")if(--state.sExprComment==0){returnType=COMMENT;state.sExprComment=false}if(typeof state.sExprQuote=="number")if(--state.sExprQuote==0){returnType=ATOM;state.sExprQuote=false}}}else{stream.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/);if(keywords&&keywords.propertyIsEnumerable(stream.current()))returnType=
BUILTIN;else returnType="variable"}}return typeof state.sExprComment=="number"?COMMENT:typeof state.sExprQuote=="number"?ATOM:returnType},indent:function(state){if(state.indentStack==null)return state.indentation;return state.indentStack.indent},fold:"brace-paren",closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});CodeMirror.defineMIME("text/x-scheme","scheme")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("shell",function(){function define(style,dict){var i=0;for(;i<dict.length;i++)words[dict[i]]=style}function tokenBase(stream,state){if(stream.eatSpace())return null;var sol=stream.sol();var ch=stream.next();if(ch==="\\"){stream.next();return null}if(ch===
"'"||ch==='"'||ch==="`"){state.tokens.unshift(tokenString(ch,ch==="`"?"quote":"string"));return tokenize(stream,state)}if(ch==="#"){if(sol&&stream.eat("!")){stream.skipToEnd();return"meta"}stream.skipToEnd();return"comment"}if(ch==="$"){state.tokens.unshift(tokenDollar);return tokenize(stream,state)}if(ch==="+"||ch==="=")return"operator";if(ch==="-"){stream.eat("-");stream.eatWhile(/\w/);return"attribute"}if(ch=="<"){if(stream.match("<<"))return"operator";var heredoc=stream.match(/^<-?\s*['"]?([^'"]*)['"]?/);
if(heredoc){state.tokens.unshift(tokenHeredoc(heredoc[1]));return"string-2"}}if(/\d/.test(ch)){stream.eatWhile(/\d/);if(stream.eol()||!/\w/.test(stream.peek()))return"number"}stream.eatWhile(/[\w-]/);var cur=stream.current();if(stream.peek()==="="&&/\w+/.test(cur))return"def";return words.hasOwnProperty(cur)?words[cur]:null}function tokenString(quote,style){var close=quote=="("?")":quote=="{"?"}":quote;return function(stream,state){var next;var escaped=false;for(;(next=stream.next())!=null;){if(next===
close&&!escaped){state.tokens.shift();break}else if(next==="$"&&!escaped&&quote!=="'"&&stream.peek()!=close){escaped=true;stream.backUp(1);state.tokens.unshift(tokenDollar);break}else if(!escaped&&quote!==close&&next===quote){state.tokens.unshift(tokenString(quote,style));return tokenize(stream,state)}else if(!escaped&&/['"]/.test(next)&&!/['"]/.test(quote)){state.tokens.unshift(tokenStringStart(next,"string"));stream.backUp(1);break}escaped=!escaped&&next==="\\"}return style}}function tokenStringStart(quote,
style){return function(stream,state){state.tokens[0]=tokenString(quote,style);stream.next();return tokenize(stream,state)}}function tokenHeredoc(delim){return function(stream,state){if(stream.sol()&&stream.string==delim)state.tokens.shift();stream.skipToEnd();return"string-2"}}function tokenize(stream,state){return(state.tokens[0]||tokenBase)(stream,state)}var words={};var commonAtoms=["true","false"];var commonKeywords=["if","then","do","else","elif","while","until","for","in","esac","fi","fin",
"fil","done","exit","set","unset","export","function"];var commonCommands=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who",
"write","yes","zsh"];CodeMirror.registerHelper("hintWords","shell",commonAtoms.concat(commonKeywords,commonCommands));define("atom",commonAtoms);define("keyword",commonKeywords);define("builtin",commonCommands);var tokenDollar=function(stream,state){if(state.tokens.length>1)stream.eat("$");var ch=stream.next();if(/['"({]/.test(ch)){state.tokens[0]=tokenString(ch,ch=="("?"quote":ch=="{"?"def":"string");return tokenize(stream,state)}if(!/\d/.test(ch))stream.eatWhile(/\w/);state.tokens.shift();return"def"};
return{startState:function(){return{tokens:[]}},token:function(stream,state){return tokenize(stream,state)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}});CodeMirror.defineMIME("text/x-sh","shell");CodeMirror.defineMIME("application/x-sh","shell")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("smalltalk",function(config){var specialChars=/[+\-\/\\*~<>=@%|&?!.,:;^]/;var keywords=/true|false|nil|self|super|thisContext/;var Context=function(tokenizer,parent){this.next=tokenizer;this.parent=parent};var Token=function(name,context,eos){this.name=
name;this.context=context;this.eos=eos};var State=function(){this.context=new Context(next,null);this.expectVariable=true;this.indentation=0;this.userIndentationDelta=0};State.prototype.userIndent=function(indentation){this.userIndentationDelta=indentation>0?indentation/config.indentUnit-this.indentation:0};var next=function(stream,context,state){var token=new Token(null,context,false);var aChar=stream.next();if(aChar==='"')token=nextComment(stream,new Context(nextComment,context));else if(aChar===
"'")token=nextString(stream,new Context(nextString,context));else if(aChar==="#")if(stream.peek()==="'"){stream.next();token=nextSymbol(stream,new Context(nextSymbol,context))}else if(stream.eatWhile(/[^\s.{}\[\]()]/))token.name="string-2";else token.name="meta";else if(aChar==="$"){if(stream.next()==="<"){stream.eatWhile(/[^\s>]/);stream.next()}token.name="string-2"}else if(aChar==="|"&&state.expectVariable)token.context=new Context(nextTemporaries,context);else if(/[\[\]{}()]/.test(aChar)){token.name=
"bracket";token.eos=/[\[{(]/.test(aChar);if(aChar==="[")state.indentation++;else if(aChar==="]")state.indentation=Math.max(0,state.indentation-1)}else if(specialChars.test(aChar)){stream.eatWhile(specialChars);token.name="operator";token.eos=aChar!==";"}else if(/\d/.test(aChar)){stream.eatWhile(/[\w\d]/);token.name="number"}else if(/[\w_]/.test(aChar)){stream.eatWhile(/[\w\d_]/);token.name=state.expectVariable?keywords.test(stream.current())?"keyword":"variable":null}else token.eos=state.expectVariable;
return token};var nextComment=function(stream,context){stream.eatWhile(/[^"]/);return new Token("comment",stream.eat('"')?context.parent:context,true)};var nextString=function(stream,context){stream.eatWhile(/[^']/);return new Token("string",stream.eat("'")?context.parent:context,false)};var nextSymbol=function(stream,context){stream.eatWhile(/[^']/);return new Token("string-2",stream.eat("'")?context.parent:context,false)};var nextTemporaries=function(stream,context){var token=new Token(null,context,
false);var aChar=stream.next();if(aChar==="|"){token.context=context.parent;token.eos=true}else{stream.eatWhile(/[^|]/);token.name="variable"}return token};return{startState:function(){return new State},token:function(stream,state){state.userIndent(stream.indentation());if(stream.eatSpace())return null;var token=state.context.next(stream,state.context,state);state.context=token.context;state.expectVariable=token.eos;return token.name},blankLine:function(state){state.userIndent(0)},indent:function(state,
textAfter){var i=state.context.next===next&&textAfter&&textAfter.charAt(0)==="]"?-1:state.userIndentationDelta;return(state.indentation+i)*config.indentUnit},electricChars:"]"}});CodeMirror.defineMIME("text/x-stsrc",{name:"smalltalk"})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed"],mod);else mod(CodeMirror)})(function(CodeMirror){var paramData={noEndTag:true,soyState:"param-def"};var tags={"alias":{noEndTag:true},"delpackage":{noEndTag:true},"namespace":{noEndTag:true,soyState:"namespace-def"},"@attribute":paramData,"@attribute?":paramData,
"@param":paramData,"@param?":paramData,"@inject":paramData,"@inject?":paramData,"@state":paramData,"template":{soyState:"templ-def",variableScope:true},"extern":{soyState:"param-def"},"export":{soyState:"export"},"literal":{},"msg":{},"fallbackmsg":{noEndTag:true,reduceIndent:true},"select":{},"plural":{},"let":{soyState:"var-def"},"if":{},"javaimpl":{},"jsimpl":{},"elseif":{noEndTag:true,reduceIndent:true},"else":{noEndTag:true,reduceIndent:true},"switch":{},"case":{noEndTag:true,reduceIndent:true},
"default":{noEndTag:true,reduceIndent:true},"foreach":{variableScope:true,soyState:"for-loop"},"ifempty":{noEndTag:true,reduceIndent:true},"for":{variableScope:true,soyState:"for-loop"},"call":{soyState:"templ-ref"},"param":{soyState:"param-ref"},"print":{noEndTag:true},"deltemplate":{soyState:"templ-def",variableScope:true},"delcall":{soyState:"templ-ref"},"log":{},"element":{variableScope:true},"velog":{},"const":{soyState:"const-def"}};var indentingTags=Object.keys(tags).filter(function(tag){return!tags[tag].noEndTag||
tags[tag].reduceIndent});CodeMirror.defineMode("soy",function(config){function last(array){return array[array.length-1]}function tokenUntil(stream,state,untilRegExp){if(stream.sol()){var indent=0;for(;indent<state.indent;indent++)if(!stream.eat(/\s/))break;if(indent)return null}var oldString=stream.string;var match=untilRegExp.exec(oldString.substr(stream.pos));if(match)stream.string=oldString.substr(0,stream.pos+match.index);var result=stream.hideFirstChars(state.indent,function(){var localState=
last(state.localStates);return localState.mode.token(stream,localState.state)});stream.string=oldString;return result}function contains(list,element){for(;list;){if(list.element===element)return true;list=list.next}return false}function prepend(list,element){return{element:element,next:list}}function popcontext(state){if(!state.context)return;if(state.context.scope)state.variables=state.context.scope;state.context=state.context.previousContext}function ref(list,name,loose){return contains(list,name)?
"variable-2":loose?"variable":"variable-2 error"}function Context(previousContext,tag,scope){this.previousContext=previousContext;this.tag=tag;this.kind=null;this.scope=scope}function expression(stream,state){var match;if(stream.match(/[[]/)){state.soyState.push("list-literal");state.context=new Context(state.context,"list-literal",state.variables);state.lookupVariables=false;return null}else if(stream.match(/\bmap(?=\()/)){state.soyState.push("map-literal");return"keyword"}else if(stream.match(/\brecord(?=\()/)){state.soyState.push("record-literal");
return"keyword"}else if(stream.match(/([\w]+)(?=\()/))return"variable callee";else if(match=stream.match(/^["']/)){state.soyState.push("string");state.quoteKind=match[0];return"string"}else if(stream.match(/^[(]/)){state.soyState.push("open-parentheses");return null}else if(stream.match(/(null|true|false)(?!\w)/)||stream.match(/0x([0-9a-fA-F]{2,})/)||stream.match(/-?([0-9]*[.])?[0-9]+(e[0-9]*)?/))return"atom";else if(stream.match(/(\||[+\-*\/%]|[=!]=|\?:|[<>]=?)/))return"operator";else if(match=stream.match(/^\$([\w]+)/))return ref(state.variables,
match[1],!state.lookupVariables);else if(match=stream.match(/^\w+/))return/^(?:as|and|or|not|in|if)$/.test(match[0])?"keyword":null;stream.next();return null}var textMode=CodeMirror.getMode(config,"text/plain");var modes={html:CodeMirror.getMode(config,{name:"text/html",multilineTagIndentFactor:2,multilineTagIndentPastTag:false,allowMissingTagName:true}),attributes:textMode,text:textMode,uri:textMode,trusted_resource_uri:textMode,css:CodeMirror.getMode(config,"text/css"),js:CodeMirror.getMode(config,
{name:"text/javascript",statementIndent:2*config.indentUnit})};return{startState:function(){return{soyState:[],variables:prepend(null,"ij"),scopes:null,indent:0,quoteKind:null,context:null,lookupVariables:true,localStates:[{mode:modes.html,state:CodeMirror.startState(modes.html)}]}},copyState:function(state){return{tag:state.tag,soyState:state.soyState.concat([]),variables:state.variables,context:state.context,indent:state.indent,quoteKind:state.quoteKind,lookupVariables:state.lookupVariables,localStates:state.localStates.map(function(localState){return{mode:localState.mode,
state:CodeMirror.copyState(localState.mode,localState.state)}})}},token:function(stream,state){var match;switch(last(state.soyState)){case "comment":if(stream.match(/^.*?\*\//))state.soyState.pop();else stream.skipToEnd();if(!state.context||!state.context.scope){var paramRe=/@param\??\s+(\S+)/g;var current=stream.current();for(;match=paramRe.exec(current);)state.variables=prepend(state.variables,match[1])}return"comment";case "string":match=stream.match(/^.*?(["']|\\[\s\S])/);if(!match)stream.skipToEnd();
else if(match[1]==state.quoteKind){state.quoteKind=null;state.soyState.pop()}return"string"}if(!state.soyState.length||last(state.soyState)!="literal")if(stream.match(/^\/\*/)){state.soyState.push("comment");return"comment"}else if(stream.match(stream.sol()?/^\s*\/\/.*/:/^\s+\/\/.*/))return"comment";switch(last(state.soyState)){case "templ-def":if(match=stream.match(/^\.?([\w]+(?!\.[\w]+)*)/)){state.soyState.pop();return"def"}stream.next();return null;case "templ-ref":if(match=stream.match(/(\.?[a-zA-Z_][a-zA-Z_0-9]+)+/)){state.soyState.pop();
if(match[0][0]==".")return"variable-2";return"variable"}if(match=stream.match(/^\$([\w]+)/)){state.soyState.pop();return ref(state.variables,match[1],!state.lookupVariables)}stream.next();return null;case "namespace-def":if(match=stream.match(/^\.?([\w\.]+)/)){state.soyState.pop();return"variable"}stream.next();return null;case "param-def":if(match=stream.match(/^\*/)){state.soyState.pop();state.soyState.push("param-type");return"type"}if(match=stream.match(/^\w+/)){state.variables=prepend(state.variables,
match[0]);state.soyState.pop();state.soyState.push("param-type");return"def"}stream.next();return null;case "param-ref":if(match=stream.match(/^\w+/)){state.soyState.pop();return"property"}stream.next();return null;case "open-parentheses":if(stream.match(/[)]/)){state.soyState.pop();return null}return expression(stream,state);case "param-type":var peekChar=stream.peek();if("}]=>,".indexOf(peekChar)!=-1){state.soyState.pop();return null}else if(peekChar=="["){state.soyState.push("param-type-record");
return null}else if(peekChar=="("){state.soyState.push("param-type-template");return null}else if(peekChar=="<"){state.soyState.push("param-type-parameter");return null}else if(match=stream.match(/^([\w]+|[?])/))return"type";stream.next();return null;case "param-type-record":peekChar=stream.peek();if(peekChar=="]"){state.soyState.pop();return null}if(stream.match(/^\w+/)){state.soyState.push("param-type");return"property"}stream.next();return null;case "param-type-parameter":if(stream.match(/^[>]/)){state.soyState.pop();
return null}if(stream.match(/^[<,]/)){state.soyState.push("param-type");return null}stream.next();return null;case "param-type-template":if(stream.match(/[>]/)){state.soyState.pop();state.soyState.push("param-type");return null}if(stream.match(/^\w+/)){state.soyState.push("param-type");return"def"}stream.next();return null;case "var-def":if(match=stream.match(/^\$([\w]+)/)){state.variables=prepend(state.variables,match[1]);state.soyState.pop();return"def"}stream.next();return null;case "for-loop":if(stream.match(/\bin\b/)){state.soyState.pop();
return"keyword"}if(stream.peek()=="$"){state.soyState.push("var-def");return null}stream.next();return null;case "record-literal":if(stream.match(/^[)]/)){state.soyState.pop();return null}if(stream.match(/[(,]/)){state.soyState.push("map-value");state.soyState.push("record-key");return null}stream.next();return null;case "map-literal":if(stream.match(/^[)]/)){state.soyState.pop();return null}if(stream.match(/[(,]/)){state.soyState.push("map-value");state.soyState.push("map-value");return null}stream.next();
return null;case "list-literal":if(stream.match("]")){state.soyState.pop();state.lookupVariables=true;popcontext(state);return null}if(stream.match(/\bfor\b/)){state.lookupVariables=true;state.soyState.push("for-loop");return"keyword"}return expression(stream,state);case "record-key":if(stream.match(/[\w]+/))return"property";if(stream.match(/^[:]/)){state.soyState.pop();return null}stream.next();return null;case "map-value":if(stream.peek()==")"||stream.peek()==","||stream.match(/^[:)]/)){state.soyState.pop();
return null}return expression(stream,state);case "import":if(stream.eat(";")){state.soyState.pop();state.indent-=2*config.indentUnit;return null}if(stream.match(/\w+(?=\s+as\b)/))return"variable";if(match=stream.match(/\w+/))return/\b(from|as)\b/.test(match[0])?"keyword":"def";if(match=stream.match(/^["']/)){state.soyState.push("string");state.quoteKind=match[0];return"string"}stream.next();return null;case "tag":var endTag;var tagName;if(state.tag===undefined){endTag=true;tagName=""}else{endTag=
state.tag[0]=="/";tagName=endTag?state.tag.substring(1):state.tag}var tag=tags[tagName];if(stream.match(/^\/?}/)){var selfClosed=stream.current()=="/}";if(selfClosed&&!endTag)popcontext(state);if(state.tag=="/template"||state.tag=="/deltemplate"){state.variables=prepend(null,"ij");state.indent=0}else state.indent-=config.indentUnit*(selfClosed||indentingTags.indexOf(state.tag)==-1?2:1);state.soyState.pop();return"keyword"}else if(stream.match(/^([\w?]+)(?==)/)){if(state.context&&state.context.tag==
tagName&&stream.current()=="kind"&&(match=stream.match(/^="([^"]+)/,false))){var kind=match[1];state.context.kind=kind;var mode=modes[kind]||modes.html;var localState=last(state.localStates);if(localState.mode.indent)state.indent+=localState.mode.indent(localState.state,"","");state.localStates.push({mode:mode,state:CodeMirror.startState(mode)})}return"attribute"}return expression(stream,state);case "template-call-expression":if(stream.match(/^([\w-?]+)(?==)/))return"attribute";else if(stream.eat(">")){state.soyState.pop();
return"keyword"}else if(stream.eat("/>")){state.soyState.pop();return"keyword"}return expression(stream,state);case "literal":if(stream.match("{/literal}",false)){state.soyState.pop();return this.token(stream,state)}return tokenUntil(stream,state,/\{\/literal}/);case "export":if(match=stream.match(/\w+/)){state.soyState.pop();if(match=="const"){state.soyState.push("const-def");return"keyword"}else if(match=="extern"){state.soyState.push("param-def");return"keyword"}}else stream.next();return null;
case "const-def":if(stream.match(/^\w+/)){state.soyState.pop();return"def"}stream.next();return null}if(stream.match("{literal}")){state.indent+=config.indentUnit;state.soyState.push("literal");state.context=new Context(state.context,"literal",state.variables);return"keyword"}else if(match=stream.match(/^\{([/@\\]?\w+\??)(?=$|[\s}]|\/[/*])/)){var prevTag=state.tag;state.tag=match[1];endTag=state.tag[0]=="/";var indentingTag=!!tags[state.tag];tagName=endTag?state.tag.substring(1):state.tag;tag=tags[tagName];
if(state.tag!="/switch")state.indent+=((endTag||tag&&tag.reduceIndent)&&prevTag!="switch"?1:2)*config.indentUnit;state.soyState.push("tag");var tagError=false;if(tag){if(!endTag)if(tag.soyState)state.soyState.push(tag.soyState);if(!tag.noEndTag&&(indentingTag||!endTag))state.context=new Context(state.context,state.tag,tag.variableScope?state.variables:null);else if(endTag){var isBalancedForExtern=tagName=="extern"&&(state.context&&state.context.tag=="export");if(!state.context||state.context.tag!=
tagName&&!isBalancedForExtern)tagError=true;else if(state.context){if(state.context.kind){state.localStates.pop();localState=last(state.localStates);if(localState.mode.indent)state.indent-=localState.mode.indent(localState.state,"","")}popcontext(state)}}}else if(endTag)tagError=true;return(tagError?"error ":"")+"keyword"}else if(stream.eat("{")){state.tag="print";state.indent+=2*config.indentUnit;state.soyState.push("tag");return"keyword"}else if(!state.context&&stream.sol()&&stream.match(/import\b/)){state.soyState.push("import");
state.indent+=2*config.indentUnit;return"keyword"}else if(match=stream.match("<{")){state.soyState.push("template-call-expression");state.indent+=2*config.indentUnit;state.soyState.push("tag");return"keyword"}else if(match=stream.match("</>")){state.indent-=1*config.indentUnit;return"keyword"}return tokenUntil(stream,state,/\{|\s+\/\/|\/\*/)},indent:function(state,textAfter,line){var indent=state.indent;var top=last(state.soyState);if(top=="comment")return CodeMirror.Pass;if(top=="literal"){if(/^\{\/literal}/.test(textAfter))indent=
indent-config.indentUnit}else{if(/^\s*\{\/(template|deltemplate)\b/.test(textAfter))return 0;if(/^\{(\/|(fallbackmsg|elseif|else|ifempty)\b)/.test(textAfter))indent=indent-config.indentUnit;if(state.tag!="switch"&&/^\{(case|default)\b/.test(textAfter))indent=indent-config.indentUnit;if(/^\{\/switch\b/.test(textAfter))indent=indent-config.indentUnit}var localState=last(state.localStates);if(indent&&localState.mode.indent)indent=indent+localState.mode.indent(localState.state,textAfter,line);return indent},
innerMode:function(state){if(state.soyState.length&&last(state.soyState)!="literal")return null;else return last(state.localStates)},electricInput:/^\s*\{(\/|\/template|\/deltemplate|\/switch|fallbackmsg|elseif|else|case|default|ifempty|\/literal\})$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",useInnerComments:false,fold:"indent"}},"htmlmixed");CodeMirror.registerHelper("wordChars","soy",/[\w$]/);CodeMirror.registerHelper("hintWords","soy",Object.keys(tags).concat(["css",
"debugger"]));CodeMirror.defineMIME("text/x-soy","soy")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("spt",function(config,modeConfig){var SPTSegmentType=function(regex,tokenizer,cloner){this.regex=regex;if(tokenizer!==undefined)this.token=tokenizer;if(cloner!==undefined)this.cloner=cloner;this.expression=new Array};SPTSegmentType.prototype.search=
function(line){return line.search(this.regex)};SPTSegmentType.prototype.token=function(stream,state){stream.match(this.regex);state.handler=null;return null};SPTSegmentType.prototype.clone=function(){var cloned=new SPTSegmentType;cloned.regex=this.regex;cloned.token=this.token;cloned.cloner=this.cloner;cloned.expression=this.expression;this.cloner(cloned);return cloned};SPTSegmentType.prototype.cloner=function(copyto){};SPTSegmentType.prototype.eatToEndIfSpace=function(stream,state){if(!stream.eol())stream.eatSpace();
this.resignIfEndOfLine(stream,state)};SPTSegmentType.prototype.resign=function(state){state.handler=null;this.expression.length=0};SPTSegmentType.prototype.resignIfEndOfLine=function(stream,state){if(stream.eol())this.resign(state)};SPTSegmentType.prototype.matchValue=function(stream){if(stream.match(/(False|True|None)\b/))return"builtin";if(stream.match(/"(?:[^"\\]|\\.)*"/)||stream.match(/'(?:[^'\\]|\\.)*'/))return"string";if(stream.match(/\d+(\.\d+)?/))return"number";return null};var peek=function(array){return array.length>
0?array[array.length-1]:undefined};var popIfEqual=function(array,object){return peek(array)!==object?undefined:array.pop()};var pushIfEmpty=function(array,object){if(array.length==0)array.push(object)};SPTSegmentType.prototype.expression=null;SPTSegmentType.prototype.expressionToken=function(stream,state){var style=null;if(stream.match(/\(/)){this.expression.push("(");return"bracket"}else if(stream.match(/\)/)){style="error";if(popIfEqual(this.expression,"("))style="bracket";popIfEqual(this.expression,
"$");return style}else if(stream.match(/\[/)){this.expression.push("[");return"bracket"}else if(stream.match(/\]/)){if(popIfEqual(this.expression,"["))return"bracket";return"error"}else if(stream.match(/\{/)){this.expression.push("{");return"bracket"}else if(stream.match(/\}/)){if(popIfEqual(this.expression,"{"))return"bracket";return"error"}else if(stream.match(/bool\s*\(/,false)){stream.match(/bool\s*/);return"operator"}else if(stream.match(/not\s+/)||stream.match(/\s+(and|or|in)\s+/))return"operator";
else if(stream.match(/\s*(=+|\+|-|\*|\/)\s*/))return"operator";else if(stream.match(/\$[a-zA-Z0-9_]*/)){if(!stream.match(/[\[\]\(\)\.\{\}]/,false))popIfEqual(this.expression,"$");return"variable-3"}else if(style=this.matchValue(stream)){popIfEqual(this.expression,"$");return style}else if(stream.peek()==="#"){this.expression.length=0;return null}else if(stream.match(/\s*[<>]\s*/)){if(this.expression[0]==="$")this.expression.length=0;else return"operator";return"variable"}else{style="variable";stream.match(/[^=\(\)\[\]\{\}#\s<>]+/);
if(!stream.match(/[\[\]\(\)\.\{\}]/,false))popIfEqual(this.expression,"$");return style}};SPTSegmentType.prototype.expressionTokenDone=function(state){return this.expression.length==0};var commentSegmentHandler=new SPTSegmentType(/##.*$/,function(stream,state){var style="comment";if(stream.match("TODO"))style="special";else if(stream.match(/(?:(?!TODO).)*/))style="comment";this.eatToEndIfSpace(stream,state);return style});SPTSegmentType.prototype.errorIfNotComment=function(stream,state){if(stream.match(/##/)){if(!stream.eol())state.handler=
commentSegmentHandler;else this.resign(state);return"comment"}else{stream.skipToEnd();this.resign(state);return"error"}};SPTSegmentType.prototype.matchPound=function(stream){return stream.match(/#(?!#)/)};var SPT_SEGMENT_TYPE_LIST=[new SPTSegmentType(/^##data.*$/,function(stream,state){stream.match(this.regex);this.resign(state);return"comment"}),commentSegmentHandler,new SPTSegmentType(/#from .*$/,function(stream,state){var style="error";if(this.stage===undefined&&stream.match(/#from/)){this.stage=
1;style="keyword"}else if(this.stage===1&&stream.match(/[a-zA-Z0-9_\.]*/)){this.stage=2;style="variable"}else if(this.stage===2&&stream.match(/import\s/)){this.stage=3;style="keyword"}else if(this.stage===3&&stream.match(/[a-zA-Z0-9_\.\s]*/)){this.stage=4;style="variable"}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#loose_resolution/,function(stream,state){if(this.done===undefined){stream.match(this.regex);
this.done=true;if(stream.eol())state.handler=null;return"keyword"}return this.errorIfNotComment(stream,state);this.resign(state);return"error"},function(copyto){copyto.done=this.done}),new SPTSegmentType(/#extends .*$/,function(stream,state){var style="error";if(this.stage===undefined&&stream.match(/#extends/)){this.stage=1;style="keyword"}else if(this.stage===1&&stream.match(/[a-zA-Z0-9_\.]*/)){this.stage=2;style="variable"}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,
state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#implements .*$/,function(stream,state){var style="error";if(this.stage===undefined&&stream.match(/#implements/)){this.stage=1;style="keyword"}else if(this.stage===1&&stream.match(/[a-zA-Z0-9_\.]*/)){this.stage=2;style="variable"}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#global .*$/,function(stream,
state){var style="error";if(this.stage===undefined&&stream.match(/#global/)){this.stage=1;style="keyword"}else if(this.stage===1&&stream.match(/\$[a-zA-Z0-9_]*/)){this.stage=2;style="variable-2"}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#attr .*$/,function(stream,state){var style="error";if(this.stage===undefined&&stream.match(/#attr/)){this.stage=1;style="keyword"}else if(this.stage===
1&&stream.match(/\$[a-zA-Z0-9_]*/)){this.stage=2;style="variable-2"}else if(this.stage===2&&stream.match("=")){this.stage=3;style="operator"}else if(this.stage===3){this.stage=4;style=this.matchValue(stream);if(style===null)style="error"}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#def .*$/,function(stream,state){var style="error";if(this.stage===undefined&&stream.match(/#def/)){this.stage=
1;style="keyword";state.stack.push("def")}else if(this.stage===1){pushIfEmpty(this.expression,"#");style=this.expressionToken(stream,state);if(this.expressionTokenDone(state))this.stage=2}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#end def.*$/,function(stream,state){if(this.stage===undefined){stream.match(/#end def/);this.stage=1;if(state.stack.length>0&&peek(state.stack)=="def"){state.stack.pop();
this.style="keyword"}else this.style="error"}else if(this.stage===1&&this.matchPound(stream))this.resign(state);else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return this.style},function(copyto){copyto.stage=this.stage;copyto.style=this.style}),new SPTSegmentType(/#set .*$/,function(stream,state){var style="error";if(this.stage===undefined&&stream.match(/#set/)){this.stage=1;style="keyword"}else if(this.stage===1){pushIfEmpty(this.expression,"#");style=this.expressionToken(stream,
state);if(this.expressionTokenDone(state))this.stage=2}else if(this.stage===2&&stream.match(/=/)){this.stage=3;style="operator"}else if(this.stage===3){pushIfEmpty(this.expression,"#");style=this.expressionToken(stream,state);if(this.expressionTokenDone(state))this.stage=4}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#(if|elif) .*$/,function(stream,state){var style="error";if(this.stage===
undefined&&stream.match(/#if/)){this.stage=1;style="keyword";state.stack.push("if")}else if(this.stage===undefined&&stream.match(/#elif/)){this.stage=1;if(peek(state.stack)=="if")style="keyword"}else if(this.stage===1){pushIfEmpty(this.expression,"#");style=this.expressionToken(stream,state);if(this.expressionTokenDone(state))this.stage=2}else if(this.stage===2&&this.matchPound(stream)){state.handler=null;return"keyword"}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,
state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#else/,function(stream,state){if(this.done===undefined&&peek(state.stack)==="if"){stream.match(this.regex);this.done=true;this.eatToEndIfSpace(stream,state);return"keyword"}if(this.matchPound(stream)){this.eatToEndIfSpace(stream,state);this.resign(state);return"keyword"}return this.errorIfNotComment(stream,state);this.resign(state);return"error"},function(copyto){copyto.done=this.done}),new SPTSegmentType(/#end if.*$/,
function(stream,state){if(this.stage===undefined){stream.match(/#end if/);this.stage=1;if(state.stack.length>0&&peek(state.stack)=="if"){state.stack.pop();this.style="keyword"}else this.style="error"}else if(this.stage===1&&this.matchPound(stream))this.resign(state);else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return this.style},function(copyto){copyto.stage=this.stage;copyto.style=this.style}),new SPTSegmentType(/#i18n.*$/,function(stream,state){var style="error";
if(this.stage===undefined&&stream.match(/#i18n/)){this.stage=1;style="keyword";state.stack.push("i18n")}else if(this.stage===1){pushIfEmpty(this.expression,"#");style=this.expressionToken(stream,state);if(this.expressionTokenDone(state))this.stage=2}else if(this.stage===2&&this.matchPound(stream)){this.resign(state);return"keyword"}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#end i18n.*$/,
function(stream,state){if(this.stage===undefined){stream.match(/#end i18n/);this.stage=1;if(state.stack.length>0&&peek(state.stack)=="i18n"){state.stack.pop();this.style="keyword"}else this.style="error"}else if(this.stage===1&&this.matchPound(stream))this.resign(state);else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return this.style},function(copyto){copyto.stage=this.stage;copyto.style=this.style}),new SPTSegmentType(/#for .*$/,function(stream,state){var style=
"error";if(this.stage===undefined&&stream.match(/#for/)){this.stage=1;style="keyword";state.stack.push("for")}else if(this.stage===1){pushIfEmpty(this.expression,"#");style=this.expressionToken(stream,state);if(this.expressionTokenDone(state))this.stage=2}else if(this.stage===2&&this.matchPound(stream)){this.resign(state);return"keyword"}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#end for.*$/,
function(stream,state){if(this.stage===undefined){stream.match(/#end for/);this.stage=1;if(state.stack.length>0&&peek(state.stack)=="for"){state.stack.pop();this.style="keyword"}else this.style="error"}else if(this.stage===1&&this.matchPound(stream))this.resign(state);else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return this.style},function(copyto){copyto.stage=this.stage;copyto.style=this.style}),new SPTSegmentType(/#strip_lines.*$/,function(stream,state){var style=
"error";if(this.stage===undefined&&stream.match(/#strip_lines/)){this.stage=1;style="keyword";state.stack.push("strip_lines")}else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return style},function(copyto){copyto.stage=this.stage}),new SPTSegmentType(/#end strip_lines.*$/,function(stream,state){if(this.stage===undefined){stream.match(/#end strip_lines/);this.stage=1;if(state.stack.length>0&&peek(state.stack)=="strip_lines"){state.stack.pop();this.style="keyword"}else this.style=
"error"}else if(this.stage===1&&this.matchPound(stream))this.resign(state);else return this.errorIfNotComment(stream,state);this.eatToEndIfSpace(stream,state);return this.style},function(copyto){copyto.stage=this.stage;copyto.style=this.style}),new SPTSegmentType(/#slurp\s*$/,function(stream,state){stream.match(this.regex);this.resign(state);return"keyword"}),new SPTSegmentType(/\$.*$/,function(stream,state){pushIfEmpty(this.expression,"$");var style=this.expressionToken(stream,state);if(this.expressionTokenDone(state))this.resign(state);
else this.eatToEndIfSpace(stream,state);return style})];var SPTState=function(){this.stack=new Array};SPTState.prototype.handler=null;SPTState.prototype.stack=null;SPTState.prototype.clone=function(){var state=new SPTState;if(this.handler!==null)state.handler=this.handler.clone();else state.handler=null;state.stack=this.stack.slice(0);return state};SPTState.prototype.token=function(stream){if(this.handler===null){var line=get_line(stream);var next_segment_type;var matches=SPT_SEGMENT_TYPE_LIST.every(function(segment_type){var min_token=
segment_type.search(line);if(min_token==0){next_segment_type=segment_type;return false}return true});if(matches)throw"Expecting SPT at stream head. Did not get SPT.";this.handler=next_segment_type.clone()}return this.handler.token(stream,this)};SPTState.prototype.end=function(){return this.handler===null};var nextSptSegment=function(line){var token_position=-1;SPT_SEGMENT_TYPE_LIST.forEach(function(segment_type){var min_token=segment_type.search(line);if(min_token>-1&&min_token<token_position||token_position==
-1)token_position=min_token});return token_position};var get_line=function(stream){stream.skipToEnd();var line=stream.current();stream.backUp(line.length);return line};var state_handlers={LINE_INIT:function(stream,state){var line=get_line(stream);state.params.nextSptIndex=nextSptSegment(line);state.params.savedHtmlMarker=0;state.current_state=state.params.nextSptIndex==0?"SPT":"HTML"},SPT_END:function(stream,state){var line=get_line(stream);state.params.nextSptIndex=nextSptSegment(line);for(;state.params.savedHtmlMarker>
0&&state.params.nextSptIndex!=0;){stream.next();state.params.savedHtmlMarker--;state.params.nextSptIndex--}if(stream.eol())state.current_state="LINE_INIT";else state.current_state=state.params.nextSptIndex==0?"SPT":"HTML";if(stream.current().length>0)return state.params.saved_html_style},SPT:function(stream,state){var style=state.spt.token(stream);state.params.savedHtmlMarker-=stream.current().length;if(stream.eol())state.current_state="LINE_INIT";else if(state.spt.end())state.current_state="SPT_END";
return style},HTML:function(stream,state){state.params.saved_html_style=htmlMode.token(stream,state.html);if(state.params.nextSptIndex>0){state.params.nextSptIndex-=stream.current().length;if(state.params.nextSptIndex<=0){var back_up_length=-state.params.nextSptIndex;stream.backUp(back_up_length);state.params.savedHtmlMarker=back_up_length;state.params.nextSptIndex=0;state.current_state="SPT"}}if(stream.eol())state.current_state="LINE_INIT";return state.params.saved_html_style}};var Params=function(){};
Params.prototype.saved_html_style=null;Params.prototype.savedHtmlMarker=0;Params.prototype.nextSptIndex=-1;Params.prototype.giveUp=false;Params.prototype.clone=function(){var newParams=new Params;newParams.saved_html_style=this.saved_html_style;newParams.savedHtmlMarker=this.savedHtmlMarker;newParams.nextSptIndex=this.nextSptIndex;newParams.giveUp=this.giveUp;return newParams};var htmlMode=CodeMirror.getMode(config,"text/html");var ADVANCE_ATTEMPTS=3;return{startState:function(){var html_state=CodeMirror.startState(htmlMode);
var spt_state=new SPTState;return{html:html_state,spt:spt_state,current_state:"LINE_INIT",params:new Params}},copyState:function(state){return{html:CodeMirror.copyState(htmlMode,state.html),spt:state.spt.clone(),current_state:state.current_state,params:state.params.clone()}},token:function(stream,state){if(state.params.giveUp)return htmlMode.token(stream,state.html);try{var style=null;var i=0;for(;i<ADVANCE_ATTEMPTS&&stream.current().length==0;i++)style=state_handlers[state.current_state](stream,
state);if(stream.current().length==0)throw"Unable to proceed past line: "+get_line(stream);return style}catch(e){console.log(e);state.params.giveUp=true}}}});CodeMirror.defineMIME("text/x-spt","spt")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function hookIdentifier(stream){var ch;for(;(ch=stream.next())!=null;)if(ch=="`"&&!stream.eat("`"))return"variable-2";stream.backUp(stream.current().length-1);return stream.eatWhile(/\w/)?"variable-2":null}function hookIdentifierDoublequote(stream){var ch;for(;(ch=stream.next())!=
null;)if(ch=='"'&&!stream.eat('"'))return"variable-2";stream.backUp(stream.current().length-1);return stream.eatWhile(/\w/)?"variable-2":null}function hookVar(stream){if(stream.eat("@")){stream.match("session.");stream.match("local.");stream.match("global.")}if(stream.eat("'")){stream.match(/^.*'/);return"variable-2"}else if(stream.eat('"')){stream.match(/^.*"/);return"variable-2"}else if(stream.eat("`")){stream.match(/^.*`/);return"variable-2"}else if(stream.match(/^[0-9a-zA-Z$\._]+/))return"variable-2";
return null}function hookClient(stream){if(stream.eat("N"))return"atom";return stream.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function set(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}CodeMirror.defineMode("sql",function(config,parserConfig){function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(result!==false)return result}if(support.hexNumber&&(ch=="0"&&stream.match(/^[xX][0-9a-fA-F]+/)||
(ch=="x"||ch=="X")&&stream.match(/^'[0-9a-fA-F]+'/)))return"number";else if(support.binaryNumber&&((ch=="b"||ch=="B")&&stream.match(/^'[01]+'/)||ch=="0"&&stream.match(/^b[01]+/)))return"number";else if(ch.charCodeAt(0)>47&&ch.charCodeAt(0)<58){stream.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/);support.decimallessFloat&&stream.match(/^\.(?!\.)/);return"number"}else if(ch=="?"&&(stream.eatSpace()||stream.eol()||stream.eat(";")))return"variable-3";else if(ch=="'"||ch=='"'&&support.doubleQuote){state.tokenize=
tokenLiteral(ch);return state.tokenize(stream,state)}else if((support.nCharCast&&(ch=="n"||ch=="N")||support.charsetCast&&ch=="_"&&stream.match(/[a-z][a-z0-9]*/i))&&(stream.peek()=="'"||stream.peek()=='"'))return"keyword";else if(support.escapeConstant&&(ch=="e"||ch=="E")&&(stream.peek()=="'"||stream.peek()=='"'&&support.doubleQuote)){state.tokenize=function(stream,state){return(state.tokenize=tokenLiteral(stream.next(),true))(stream,state)};return"keyword"}else if(support.commentSlashSlash&&ch==
"/"&&stream.eat("/")){stream.skipToEnd();return"comment"}else if(support.commentHash&&ch=="#"||ch=="-"&&stream.eat("-")&&(!support.commentSpaceRequired||stream.eat(" "))){stream.skipToEnd();return"comment"}else if(ch=="/"&&stream.eat("*")){state.tokenize=tokenComment(1);return state.tokenize(stream,state)}else if(ch=="."){if(support.zerolessFloat&&stream.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(stream.match(/^\.+/))return null;if(support.ODBCdotTable&&stream.match(/^[\w\d_$#]+/))return"variable-2"}else if(operatorChars.test(ch)){stream.eatWhile(operatorChars);
return"operator"}else if(brackets.test(ch))return"bracket";else if(punctuation.test(ch)){stream.eatWhile(punctuation);return"punctuation"}else if(ch=="{"&&(stream.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||stream.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";else{stream.eatWhile(/^[_\w\d]/);var word=stream.current().toLowerCase();if(dateSQL.hasOwnProperty(word)&&(stream.match(/^( )+'[^']*'/)||stream.match(/^( )+"[^"]*"/)))return"number";if(atoms.hasOwnProperty(word))return"atom";
if(builtin.hasOwnProperty(word))return"type";if(keywords.hasOwnProperty(word))return"keyword";if(client.hasOwnProperty(word))return"builtin";return null}}function tokenLiteral(quote,backslashEscapes){return function(stream,state){var escaped=false;var ch;for(;(ch=stream.next())!=null;){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=(backslashStringEscapes||backslashEscapes)&&!escaped&&ch=="\\"}return"string"}}function tokenComment(depth){return function(stream,state){var m=stream.match(/^.*?(\/\*|\*\/)/);
if(!m)stream.skipToEnd();else if(m[1]=="/*")state.tokenize=tokenComment(depth+1);else if(depth>1)state.tokenize=tokenComment(depth-1);else state.tokenize=tokenBase;return"comment"}}function pushContext(stream,state,type){state.context={prev:state.context,indent:stream.indentation(),col:stream.column(),type:type}}function popContext(state){state.indent=state.context.indent;state.context=state.context.prev}var client=parserConfig.client||{};var atoms=parserConfig.atoms||{"false":true,"true":true,"null":true};
var builtin=parserConfig.builtin||set(defaultBuiltin);var keywords=parserConfig.keywords||set(sqlKeywords);var operatorChars=parserConfig.operatorChars||/^[*+\-%<>!=&|~^\/]/;var support=parserConfig.support||{};var hooks=parserConfig.hooks||{};var dateSQL=parserConfig.dateSQL||{"date":true,"time":true,"timestamp":true};var backslashStringEscapes=parserConfig.backslashStringEscapes!==false;var brackets=parserConfig.brackets||/^[\{}\(\)\[\]]/;var punctuation=parserConfig.punctuation||/^[;.,:]/;return{startState:function(){return{tokenize:tokenBase,
context:null}},token:function(stream,state){if(stream.sol())if(state.context&&state.context.align==null)state.context.align=false;if(state.tokenize==tokenBase&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if(style=="comment")return style;if(state.context&&state.context.align==null)state.context.align=true;var tok=stream.current();if(tok=="(")pushContext(stream,state,")");else if(tok=="[")pushContext(stream,state,"]");else if(state.context&&state.context.type==tok)popContext(state);
return style},indent:function(state,textAfter){var cx=state.context;if(!cx)return CodeMirror.Pass;var closing=textAfter.charAt(0)==cx.type;if(cx.align)return cx.col+(closing?0:1);else return cx.indent+(closing?0:config.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:support.commentSlashSlash?"//":support.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}});var sqlKeywords="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";
var defaultBuiltin="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";CodeMirror.defineMIME("text/x-sql",{name:"sql",keywords:set(sqlKeywords+"begin"),builtin:set(defaultBuiltin),atoms:set("false true null unknown"),dateSQL:set("date time timestamp"),
support:set("ODBCdotTable doubleQuote binaryNumber hexNumber")});CodeMirror.defineMIME("text/x-mssql",{name:"sql",client:set("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:set(sqlKeywords+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),
builtin:set("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:set("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:false,dateSQL:set("date datetimeoffset datetime2 smalldatetime datetime time"),
hooks:{"@":hookVar}});CodeMirror.defineMIME("text/x-mysql",{name:"sql",client:set("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:set(sqlKeywords+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),
builtin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:set("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),
hooks:{"@":hookVar,"`":hookIdentifier,"\\":hookClient}});CodeMirror.defineMIME("text/x-mariadb",{name:"sql",client:set("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:set(sqlKeywords+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group group_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),
builtin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:set("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),
hooks:{"@":hookVar,"`":hookIdentifier,"\\":hookClient}});CodeMirror.defineMIME("text/x-sqlite",{name:"sql",client:set("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:set(sqlKeywords+
"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),
builtin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:set("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:set("date time timestamp datetime"),support:set("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":hookVar,":":hookVar,
"?":hookVar,"$":hookVar,'"':hookIdentifierDoublequote,"`":hookIdentifier}});CodeMirror.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:set("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),
builtin:set("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:set("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:set("commentSlashSlash decimallessFloat"),hooks:{}});CodeMirror.defineMIME("text/x-plsql",{name:"sql",client:set("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),
keywords:set("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),
builtin:set("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),
operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:set("date time timestamp"),support:set("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")});CodeMirror.defineMIME("text/x-hive",{name:"sql",keywords:set("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data d-placeholder;\n      }\n\n      textarea:-moz-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n\n      textarea::-moz-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n\n      textarea:-ms-input-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n    </style>\n\n    \x3c!-- the mirror sizes the input/textarea so it grows with typing --\x3e\n    \x3c!-- use &#160; instead &nbsp; of to allow this element to be used in XHTML --\x3e\n    <div id="mirror" class="mirror-text" aria-hidden="true">&nbsp;</div>\n\n    \x3c!-- size the input/textarea with a div, because the textarea has intrinsic size in ff --\x3e\n    <div class="textarea-container fit">\n      <textarea id="textarea" name$="[[name]]" aria-label$="[[label]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" autocapitalize$="[[autocapitalize]]" inputmode$="[[inputmode]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" disabled$="[[disabled]]" rows$="[[rows]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]"></textarea>\n    </div>\n']);
Z({_template:V(ot),is:"iron-autogrow-textarea",behaviors:[Ps,jr],properties:{value:{observer:"_valueChanged",type:String,notify:!0},bindValue:{observer:"_bindValueChanged",type:String,notify:!0},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},autocapitalize:{type:String,value:"none"},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},
minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){var a=navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&!navigator.userAgent.match(/OS 1[3456789]/);a&&(this.$.textarea.style.marginLeft=
"-3px")},validate:function(){var a=this.$.textarea.validity.valid;a&&(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Ps.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_bindValueChanged:function(a){this.value=a},_valueChanged:function(a){var b=this.textarea;b&&(b.value!==a&&(b.value=a||0===a?a:""),this.bindValue=a,this.$.mirror.textContent=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(a){var b=
X(a).path;this.value=b?b[0].value:a.target.value},_constrain:function(a){var b;a=a||[""];for(b=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&b.length<this.rows;)b.push("");return b.join("\n")+"\u00a0"},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.textContent=this._constrain(this.tokens)}});var pt=l.createTemplateTagFirstArg(['\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      label {\n        pointer-events: none;\n      }\n    </style>\n\n    <paper-input-container no-label-float$="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]" no-unfloated-label-error="[[noUnfloatedLabelError]]">\n\n      <label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label>\n\n      <iron-autogrow-textarea class="paper-input-input" slot="input" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" bind-value="{{value}}" invalid="{{invalid}}" validator$="[[validator]]" disabled$="[[disabled]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" autocapitalize$="[[autocapitalize]]" rows$="[[rows]]" max-rows$="[[maxRows]]" on-change="_onChange"></iron-autogrow-textarea>\n\n      <template is="dom-if" if="[[errorMessage]]">\n        <paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error>\n      </template>\n\n      <template is="dom-if" if="[[charCounter]]">\n        <paper-input-char-counter slot="add-on"></paper-input-char-counter>\n      </template>\n\n    </paper-input-container>\n']);
Z({_template:V(pt),is:"paper-textarea",behaviors:[Ys,Ns],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},value:{type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0},noUnfloatedLabelError:{type:Boolean,value:!1}},get selectionStart(){return this.$.input.textarea.selectionStart},set selectionStart(a){this.$.input.textarea.selectionStart=a},get selectionEnd(){return this.$.input.textarea.selectionEnd},
set selectionEnd(a){this.$.input.textarea.selectionEnd=a},_ariaLabelledByChanged:function(a){this._focusableElement.setAttribute("aria-labelledby",a)},_ariaDescribedByChanged:function(a){this._focusableElement.setAttribute("aria-describedby",a)},get _focusableElement(){return this.inputElement.textarea}});Nn.PaperInput={};Nn.PaperInput.AllImports={};/*

Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
Polymer.PaperInputAddonBehavior=Zs;Polymer.PaperInputHelper=Ws;Polymer.PaperInputBehavior=Ys;Polymer.PaperInputBehaviorImpl=Xs;var qt={hostAttributes:{role:"option",tabindex:"0"}},rt=[lr,jr,qt];var st=l.createTemplateTagFirstArg(["<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>"]),
tt=V(st);tt.setAttribute("style","display: none;");document.head.appendChild(tt.content);var ut=l.createTemplateTagFirstArg(['\n    <style include="paper-item-shared-styles"></style>\n    <style>\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n        @apply --paper-icon-item;\n\n        min-height: var(--paper-item-min-height, 48px);\n      }\n\n      .content-icon {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n\n        width: var(--paper-item-icon-width, 56px);\n        @apply --paper-item-icon;\n      }\n    </style>\n\n    <div id="contentIcon" class="content-icon">\n      <slot name="item-icon"></slot>\n    </div>\n    <slot></slot>\n']);
Z({_template:V(ut),is:"paper-icon-item",behaviors:[rt]});var vt=l.createTemplateTagFirstArg(["\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n"]);
Z({_template:V(vt),is:"paper-item-body"});var wt=l.createTemplateTagFirstArg(['\n    <style include="paper-item-shared-styles">\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n\n        min-height: var(--paper-item-min-height, 48px);\n      }\n    </style>\n    <slot></slot>\n']);Z({_template:V(wt),is:"paper-item",behaviors:[rt]});Nn.PaperItem={};Nn.PaperItem.AllImports={};Polymer.PaperItemBehavior=rt;Polymer.PaperItemBehaviorImpl=qt;var xt=function(a){this.multi=!1;this.selection=[];this.selectCallback=a};d=xt.prototype;d.get=function(){return this.multi?this.selection.slice():this.selection[0]};d.clear=function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&this.setItemSelected(b,!1)},this)};d.isSelected=function(a){return 0<=this.selection.indexOf(a)};
d.setItemSelected=function(a,b){if(null!=a&&b!==this.isSelected(a)){if(b)this.selection.push(a);else{var c=this.selection.indexOf(a);0<=c&&this.selection.splice(c,1)}this.selectCallback&&this.selectCallback(a,b)}};d.select=function(a){this.multi?this.toggle(a):this.get()!==a&&(this.setItemSelected(this.get(),!1),this.setItemSelected(a,!0))};d.toggle=function(a){this.setItemSelected(a,!this.isSelected(a))};var yt={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,
"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new xt(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},detached:function(){this._observer&&X(this).unobserveNodes(this._observer);this._removeListener(this.activateEvent)},
indexOf:function(a){return this.items?this.items.indexOf(a):-1},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length,b=a-1;void 0!==this.selected&&(b=(Number(this._valueToIndex(this.selected))-1+a)%a);this.selected=this._indexToValue(b)},selectNext:function(){var a=0;void 0!==this.selected&&(a=(Number(this._valueToIndex(this.selected))+1)%this.items.length);this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._observer&&
"function"===typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(a){this.listen(this,a,"_activateHandler")},_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},_updateItems:function(){var a=X(this).queryDistributedElements(this.selectable||"*");a=Array.prototype.filter.call(a,
this._bindFilterItem);this._setItems(a)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var a=this._valueToItem(this.selected);a?this._selection.select(a):this._selection.clear();this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},
_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},_valueForItem:function(a){if(!a)return null;if(!this.attrForSelected)return a=this.indexOf(a),-1===a?null:a;var b=a[om(this.attrForSelected)];return void 0!=b?b:a.getAttribute(this.attrForSelected)},
_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a);this.selectedAttribute&&this.toggleAttribute.call(a,this.selectedAttribute,b);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return X(a).observeNodes(function(b){this._updateItems();this._updateSelected();this.fire("iron-items-changed",b,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){a=
a.target;for(var b=this.items;a&&a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};var zt={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},multiChanged:function(a){this._selection.multi=a;this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},
_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):yt._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){a=a||[];a=(this._valuesToItems(a)||[]).filter(function(c){return null!==c&&void 0!==
c});this._selection.clear(a);for(var b=0;b<a.length;b++)this._selection.setItemSelected(a[b],!0);this.fallbackSelection&&!this._selection.get().length&&(a=this._valueToItem(this.fallbackSelection))&&this.select(this.fallbackSelection)},_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:nrray_min array_position array_remove array_repeat array_sort array_union arrays_overlap arrays_zip ascii asin asinh assert_true atan atan2 atanh avg base64 between bigint bin binary bit_and bit_count bit_get bit_length bit_or bit_xor bool_and bool_or boolean bround btrim cardinality case cast cbrt ceil ceiling char char_length character_length chr coalesce collect_list collect_set concat concat_ws conv corr cos cosh cot count count_if count_min_sketch covar_pop covar_samp crc32 cume_dist current_catalog current_database current_date current_timestamp current_timezone current_user date date_add date_format date_from_unix_date date_part date_sub date_trunc datediff day dayofmonth dayofweek dayofyear decimal decode degrees delimited dense_rank div double e element_at elt encode every exists exp explode explode_outer expm1 extract factorial filter find_in_set first first_value flatten float floor forall format_number format_string from_csv from_json from_unixtime from_utc_timestamp get_json_object getbit greatest grouping grouping_id hash hex hour hypot if ifnull in initcap inline inline_outer input_file_block_length input_file_block_start input_file_name inputformat instr int isnan isnotnull isnull java_method json_array_length json_object_keys json_tuple kurtosis lag last last_day last_value lcase lead least left length levenshtein like ln locate log log10 log1p log2 lower lpad ltrim make_date make_dt_interval make_interval make_timestamp make_ym_interval map map_concat map_entries map_filter map_from_arrays map_from_entries map_keys map_values map_zip_with max max_by md5 mean min min_by minute mod monotonically_increasing_id month months_between named_struct nanvl negative next_day not now nth_value ntile nullif nvl nvl2 octet_length or outputformat overlay parse_url percent_rank percentile percentile_approx pi pmod posexplode posexplode_outer position positive pow power printf quarter radians raise_error rand randn random rank rcfile reflect regexp regexp_extract regexp_extract_all regexp_like regexp_replace repeat replace reverse right rint rlike round row_number rpad rtrim schema_of_csv schema_of_json second sentences sequence sequencefile serde session_window sha sha1 sha2 shiftleft shiftright shiftrightunsigned shuffle sign signum sin sinh size skewness slice smallint some sort_array soundex space spark_partition_id split sqrt stack std stddev stddev_pop stddev_samp str_to_map string struct substr substring substring_index sum tan tanh textfile timestamp timestamp_micros timestamp_millis timestamp_seconds tinyint to_csv to_date to_json to_timestamp to_unix_timestamp to_utc_timestamp transform transform_keys transform_values translate trim trunc try_add try_divide typeof ucase unbase64 unhex uniontype unix_date unix_micros unix_millis unix_seconds unix_timestamp upper uuid var_pop var_samp variance version weekday weekofyear when width_bucket window xpath xpath_boolean xpath_double xpath_float xpath_int xpath_long xpath_number xpath_short xpath_string xxhash64 year zip_with"),
atoms:set("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable doubleQuote zerolessFloat")});CodeMirror.defineMIME("text/x-esper",{name:"sql",client:set("source"),keywords:set("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),
builtin:{},atoms:set("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:set("time"),support:set("decimallessFloat zerolessFloat binaryNumber hexNumber")})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var keywords={"always_safe":false,"canonical":false,"dedup":false,"false":false,"generate":false,"generate_feedback":false,"genie":false,"genie_only":false,"no_genie":false,"high":false,"lang":false,"low":false,"medium":false,"no_answer_check":false,"not_tokenized":false,
"personalizedsearch":false,"proto":false,"skipifmatches":false,"true":false,"ttl_duration":false,"ttl_queries":false,"TASK":false,"PERSONALITY":false,"SEARCH":false,"PERSONAL_SEARCH":false,"CHAT":false,"FACT":false,"HELP":false,"MEMORY_FALLBACK":false,"SAFESEARCH":false,"FOREIGN":false,"GENERAL_FALLBACK":false,"GAME":false,"ABUSE":false,"PERSONALITY_FALLBACK":false,"SEARCH_FALLBACK":false,"ACTION":false,"ACTION_FALLBACK":false,"OVERRIDE":false,"WAA":false,"WAA_OVERRIDE":false};var builtin={"arg":false,
"call":false,"call_rewrite":false,"counterexample":true,"example":true,"exclude":false,"message":false,"message_for_unsafe":false,"message_prefix":false,"message_prefix_for_unsafe":false,"message_suffix":false,"message_suffix_for_unsafe":false,"option":false,"package":false,"priority":false,"require":false,"rewrite":false,"search":false,"set":false,"source":false,"suggest":false,"test_match":true,"test_no_match":true,"test_no_win":true,"test_win":true,"unset":false};var suggest=["score_boost"];CodeMirror.defineMode("srgs",
function(config,parserConfig){function stringMode(stream,state){var next=stream.next();if(next=='"'){state.isString=false;return"string"}else if(next=="$"){stream.eatWhile(/[a-zA-Z_.0-9:]/);return"variable-2"}else if(next=="/"&&state.doesStringContainAnnotation){stream.eatWhile(/[-a-zA-Z_0-9]/);return"variable-2"}else if(";|(){}".indexOf(next)!=-1)return"punctuation";else{var escaped=false;for(;next!=null;){if(!escaped)if(next=='"'){state.isString=false;break}escaped=!escaped&&next=="\\";var peek=
stream.peek();if(!escaped&&"$/;|(){}".indexOf(peek)!=-1)break;next=stream.next()}return"string"}}function beginSentenceMode(stream,state,next){if(state.inAngleBracket){if(next==">"){state.inAngleBracket=false;return"bracket"}if(next=="="){state.atBeginningSentence=false;state.inRuleDefinition=true;state.inAngleBracket=false;state.indent=2;return"error"}if(next==";"){state.inAngleBracket=false;return"error"}if(next==":")return"punctuation";stream.eatWhile(/[-a-zA-Z_0-9\.]/);if("-0123456789".indexOf(next)!=
-1)return"number";return stream.current()=="score_boost"?"keyword":"error"}if(next=="="){state.atBeginningSentence=false;state.inRuleDefinition=true;state.indent=2;return"def"}else if(next=="<"){state.inAngleBracket=true;return"bracket"}else if(next=="$"){if(stream.peek()=="$")stream.next();stream.eatWhile(/[a-zA-Z_0-9\.]/);return"def"}else{stream.eatWhile(/[a-zA-Z_0-9]/);var cur=stream.current();if(cur in builtin){state.atBeginningSentence=false;state.doesStringContainAnnotation=builtin[cur];return"builtin"}return"error"}}
return{startState:function(basecolumn){var state={indent:basecolumn||0,inRuleDefinition:false,inAngleBracket:false,atBeginningSentence:true,isString:false,doesStringContainAnnotation:false,bracketStack:[]};return state},token:function(stream,state){if(state.isString)return stringMode(stream,state);if(stream.eatSpace())return null;var next=stream.next();if(next=="/"&&stream.peek()=="/"){stream.skipToEnd();return"comment"}else if(next>="0"&&next<="9"){stream.match(/^[0-9]*\.?[0-9]+/);return"number"}else if(next==
'"'){state.isString=true;return"string"}else if(state.atBeginningSentence)return beginSentenceMode(stream,state,next);if(next=="$"){stream.eatWhile(/[a-zA-Z_0-9\.:]/);return"variable-2"}else if(next=="/"){stream.eatWhile(/[-a-zA-Z_0-9]/);return"variable-2"}else if(next==";"){if(state.bracketStack[state.bracketStack.length-1]=="}")return"bracket";var isError=state.inAngleBracket||state.indent!=(state.inRuleDefinition?2:0);state.atBeginningSentence=true;state.inRuleDefinition=false;state.inAngleBracket=
false;state.inBracketsCount=0;state.doesStringContainAnnotation=false;state.indent=0;return isError?"error":"punctuation"}else if(next.match(/[-,+#\/!&|=:?]/))return"operator";else if(next.match(/[\[\]\(\)\{\}<>]/)){var openbra="({[<".indexOf(next);if(openbra>-1){state.indent+=2;state.bracketStack.push(")}]>"[openbra]);return state.inRuleDefinition&&openbra?"bracket":"punctuation"}else{state.indent-=2;if(state.bracketStack.pop()!=next)return"error";return state.inRuleDefinition&&next!=")"?"bracket":
"punctuation"}}else if(stream.current().match(/^[a-zA-Z_\-0-9\xa1-\u1FFF\u2010-\u2fff\u3001-\uFEFF]+$/)){stream.eatWhile(/[a-zA-Z_\-0-9\xa1-\u1FFF\u2010-\u2fff\u3001-\uFEFF]/);var cur=stream.current();var nextchar=stream.peek();if(state.inRuleDefinition){if(cur=="r"&&nextchar=='"')return"string";else if(cur=="ANY")return"keyword";else if(cur=="J"||cur=="S")return nextchar=="{"?"bracket":"error";else if(state.bracketStack[state.bracketStack.length-1]==">"||nextchar==":"||nextchar=="<")return"def";
return"atom"}else if(cur in keywords)return"keyword";else return"variable"}else return"error"},indent:function(state,textAfter){var this_indent=state.indent;if(this_indent>0)if(/^\s*[\}\]\)]/.test(textAfter))this_indent=this_indent-2;else if(state.inRuleDefinition){var inner_bracket=state.bracketStack[state.bracketStack.length-1];if((inner_bracket==")"||inner_bracket=="]")&&/^\s*\|/.test(textAfter)||inner_bracket=="}"&&/^\s*;/.test(textAfter))this_indent=this_indent-2}return this_indent},electricInput:/^\s*[\}\]\);\|]/,
lineComment:"//",fold:["brace"]}});CodeMirror.registerHelper("hintWords","srgs",suggest.concat(Object.keys(keywords),Object.keys(builtin)));CodeMirror.defineMIME("text/x-srgs",{name:"srgs"})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("stex",function(_config,parserConfig){function pushCommand(state,command){state.cmdState.push(command)}function peekCommand(state){if(state.cmdState.length>0)return state.cmdState[state.cmdState.length-1];else return null}function popCommand(state){var plug=
state.cmdState.pop();if(plug)plug.closeBracket()}function getMostPowerful(state){var context=state.cmdState;var i=context.length-1;for(;i>=0;i--){var plug=context[i];if(plug.name=="DEFAULT")continue;return plug}return{styleIdentifier:function(){return null}}}function addPluginPattern(pluginName,cmdStyle,styles){return function(){this.name=pluginName;this.bracketNo=0;this.style=cmdStyle;this.styles=styles;this.argument=null;this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null};
this.openBracket=function(){this.bracketNo++;return"bracket"};this.closeBracket=function(){}}}function setState(state,f){state.f=f}function normal(source,state){var plug;if(source.match(/^\\[a-zA-Z@]+/)){var cmdName=source.current().slice(1);plug=plugins.hasOwnProperty(cmdName)?plugins[cmdName]:plugins["DEFAULT"];plug=new plug;pushCommand(state,plug);setState(state,beginParams);return plug.style}if(source.match(/^\\[$&%#{}_]/))return"tag";if(source.match(/^\\[,;!\/\\]/))return"tag";if(source.match("\\[")){setState(state,
function(source,state){return inMathMode(source,state,"\\]")});return"keyword"}if(source.match("\\(")){setState(state,function(source,state){return inMathMode(source,state,"\\)")});return"keyword"}if(source.match("$$")){setState(state,function(source,state){return inMathMode(source,state,"$$")});return"keyword"}if(source.match("$")){setState(state,function(source,state){return inMathMode(source,state,"$")});return"keyword"}var ch=source.next();if(ch=="%"){source.skipToEnd();return"comment"}else if(ch==
"}"||ch=="]"){plug=peekCommand(state);if(plug){plug.closeBracket(ch);setState(state,beginParams)}else return"error";return"bracket"}else if(ch=="{"||ch=="["){plug=plugins["DEFAULT"];plug=new plug;pushCommand(state,plug);return"bracket"}else if(/\d/.test(ch)){source.eatWhile(/[\w.%]/);return"atom"}else{source.eatWhile(/[\w\-_]/);plug=getMostPowerful(state);if(plug.name=="begin")plug.argument=source.current();return plug.styleIdentifier()}}function inMathMode(source,state,endModeSeq){if(source.eatSpace())return null;
if(endModeSeq&&source.match(endModeSeq)){setState(state,normal);return"keyword"}if(source.match(/^\\[a-zA-Z@]+/))return"tag";if(source.match(/^[a-zA-Z]+/))return"variable-2";if(source.match(/^\\[$&%#{}_]/))return"tag";if(source.match(/^\\[,;!\/]/))return"tag";if(source.match(/^[\^_&]/))return"tag";if(source.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(source.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var ch=source.next();if(ch=="{"||ch=="}"||ch=="["||ch=="]"||ch=="("||ch==")")return"bracket";
if(ch=="%"){source.skipToEnd();return"comment"}return"error"}function beginParams(source,state){var ch=source.peek();var lastPlug;if(ch=="{"||ch=="["){lastPlug=peekCommand(state);lastPlug.openBracket(ch);source.eat(ch);setState(state,normal);return"bracket"}if(/[ \t\r]/.test(ch)){source.eat(ch);return null}setState(state,normal);popCommand(state);return normal(source,state)}var plugins={};plugins["importmodule"]=addPluginPattern("importmodule","tag",["string","builtin"]);plugins["documentclass"]=
addPluginPattern("documentclass","tag",["","atom"]);plugins["usepackage"]=addPluginPattern("usepackage","tag",["atom"]);plugins["begin"]=addPluginPattern("begin","tag",["atom"]);plugins["end"]=addPluginPattern("end","tag",["atom"]);plugins["label"]=addPluginPattern("label","tag",["atom"]);plugins["ref"]=addPluginPattern("ref","tag",["atom"]);plugins["eqref"]=addPluginPattern("eqref","tag",["atom"]);plugins["cite"]=addPluginPattern("cite","tag",["atom"]);plugins["bibitem"]=addPluginPattern("bibitem",
"tag",["atom"]);plugins["Bibitem"]=addPluginPattern("Bibitem","tag",["atom"]);plugins["RBibitem"]=addPluginPattern("RBibitem","tag",["atom"]);plugins["DEFAULT"]=function(){this.name="DEFAULT";this.style="tag";this.styleIdentifier=this.openBracket=this.closeBracket=function(){}};return{startState:function(){var f=parserConfig.inMathMode?function(source,state){return inMathMode(source,state)}:normal;return{cmdState:[],f:f}},copyState:function(s){return{cmdState:s.cmdState.slice(),f:s.f}},token:function(stream,
state){return state.f(stream,state)},blankLine:function(state){state.f=normal;state.cmdState.length=0},lineComment:"%"}});CodeMirror.defineMIME("text/x-stex","stex");CodeMirror.defineMIME("text/x-latex","stex")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function wordSet(words){var set={};var i=0;for(;i<words.length;i++)set[words[i]]=true;return set}function tokenBase(stream,state,prev){if(stream.sol())state.indented=stream.indentation();if(stream.eatSpace())return null;var ch=stream.peek();if(ch=="/"){if(stream.match("//")){stream.skipToEnd();
return"comment"}if(stream.match("/*")){state.tokenize.push(tokenComment);return tokenComment(stream,state)}}if(stream.match(instruction))return"builtin";if(stream.match(attribute))return"attribute";if(stream.match(binary))return"number";if(stream.match(octal))return"number";if(stream.match(hexadecimal))return"number";if(stream.match(decimal))return"number";if(stream.match(property))return"property";if(operators.indexOf(ch)>-1){stream.next();return"operator"}if(punc.indexOf(ch)>-1){stream.next();stream.match("..");
return"punctuation"}var stringMatch;if(stringMatch=stream.match(/("""|"|')/)){var tokenize=tokenString.bind(null,stringMatch[0]);state.tokenize.push(tokenize);return tokenize(stream,state)}if(stream.match(identifier)){var ident=stream.current();if(types.hasOwnProperty(ident))return"variable-2";if(atoms.hasOwnProperty(ident))return"atom";if(keywords.hasOwnProperty(ident)){if(definingKeywords.hasOwnProperty(ident))state.prev="define";return"keyword"}if(prev=="define")return"def";return"variable"}stream.next();
return null}function tokenUntilClosingParen(){var depth=0;return function(stream,state,prev){var inner=tokenBase(stream,state,prev);if(inner=="punctuation")if(stream.current()=="(")++depth;else if(stream.current()==")")if(depth==0){stream.backUp(1);state.tokenize.pop();return state.tokenize[state.tokenize.length-1](stream,state)}else--depth;return inner}}function tokenString(openQuote,stream,state){var singleLine=openQuote.length==1;var ch;var escaped=false;for(;ch=stream.peek();)if(escaped){stream.next();
if(ch=="("){state.tokenize.push(tokenUntilClosingParen());return"string"}escaped=false}else if(stream.match(openQuote)){state.tokenize.pop();return"string"}else{stream.next();escaped=ch=="\\"}if(singleLine)state.tokenize.pop();return"string"}function tokenComment(stream,state){var ch;for(;true;){stream.match(/^[^/*]+/,true);ch=stream.next();if(!ch)break;if(ch==="/"&&stream.eat("*"))state.tokenize.push(tokenComment);else if(ch==="*"&&stream.eat("/"))state.tokenize.pop()}return"comment"}function Context(prev,
align,indented){this.prev=prev;this.align=align;this.indented=indented}function pushContext(state,stream){var align=stream.match(/^\s*($|\/[\/\*])/,false)?null:stream.column()+1;state.context=new Context(state.context,align,state.indented)}function popContext(state){if(state.context){state.indented=state.context.indented;state.context=state.context.prev}}var keywords=wordSet(["_","var","let","actor","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open",
"public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","isolated","nonisolated","catch","do","rethrows","throw","throws","async","await","try","didSet","get",
"set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]);var definingKeywords=wordSet(["var","let","actor","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]);var atoms=wordSet(["true","false","nil","self","super","_"]);var types=wordSet(["Array","Bool","Character",
"Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]);var operators="+-/*%=|&<>~^?!";var punc=":;,.(){}[]";var binary=/^\-?0b[01][01_]*/;var octal=/^\-?0o[0-7][0-7_]*/;var hexadecimal=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/;var decimal=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/;var identifier=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/;var property=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;
var instruction=/^#[A-Za-z]+/;var attribute=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;CodeMirror.defineMode("swift",function(config){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(stream,state){var prev=state.prev;state.prev=null;var tokenize=state.tokenize[state.tokenize.length-1]||tokenBase;var style=tokenize(stream,state,prev);if(!style||style=="comment")state.prev=prev;else if(!state.prev)state.prev=style;if(style=="punctuation"){var bracket=
/[\(\[\{]|([\]\)\}])/.exec(stream.current());if(bracket)(bracket[1]?popContext:pushContext)(state,stream)}return style},indent:function(state,textAfter){var cx=state.context;if(!cx)return 0;var closing=/^[\]\}\)]/.test(textAfter);if(cx.align!=null)return cx.align-(closing?1:0);return cx.indented+(closing?0:config.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}});CodeMirror.defineMIME("text/x-swift",
"swift")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("tcl",function(){function parseWords(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function chain(stream,state,f){state.tokenize=f;return f(stream,state)}function tokenBase(stream,state){var beforeParams=
state.beforeParams;state.beforeParams=false;var ch=stream.next();if((ch=='"'||ch=="'")&&state.inParams)return chain(stream,state,tokenString(ch));else if(/[\[\]{}\(\),;\.]/.test(ch)){if(ch=="("&&beforeParams)state.inParams=true;else if(ch==")")state.inParams=false;return null}else if(/\d/.test(ch)){stream.eatWhile(/[\w\.]/);return"number"}else if(ch=="#"){if(stream.eat("*"))return chain(stream,state,tokenComment);if(ch=="#"&&stream.match(/ *\[ *\[/))return chain(stream,state,tokenUnparsed);stream.skipToEnd();
return"comment"}else if(ch=='"'){stream.skipTo(/"/);return"comment"}else if(ch=="$"){stream.eatWhile(/[$_a-z0-9A-Z\.{:]/);stream.eatWhile(/}/);state.beforeParams=true;return"builtin"}else if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);return"comment"}else{stream.eatWhile(/[\w\$_{}\xa1-\uffff]/);var word=stream.current().toLowerCase();if(keywords&&keywords.propertyIsEnumerable(word))return"keyword";if(functions&&functions.propertyIsEnumerable(word)){state.beforeParams=true;return"keyword"}return null}}
function tokenString(quote){return function(stream,state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}if(end)state.tokenize=tokenBase;return"string"}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="#"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return"comment"}function tokenUnparsed(stream,state){var maybeEnd=0;var ch;for(;ch=stream.next();){if(ch==
"#"&&maybeEnd==2){state.tokenize=tokenBase;break}if(ch=="]")maybeEnd++;else if(ch!=" ")maybeEnd=0}return"meta"}var keywords=parseWords("Tcl safe after append array auto_execok auto_import auto_load "+"auto_mkindex auto_mkindex_old auto_qualify auto_reset bgerror "+"binary break catch cd close concat continue dde eof encoding error "+"eval exec exit expr fblocked fconfigure fcopy file fileevent filename "+"filename flush for foreach format gets glob global history http if "+"incr info interp join lappend lindex linsert list llength load lrange "+
"lreplace lsearch lset lsort memory msgcat namespace open package parray "+"pid pkg::create pkg_mkIndex proc puts pwd re_syntax read regex regexp "+"registry regsub rename resource return scan seek set socket source split "+"string subst switch tcl_endOfWord tcl_findLibrary tcl_startOfNextWord "+"tcl_wordBreakAfter tcl_startOfPreviousWord tcl_wordBreakBefore tcltest "+"tclvars tell time trace unknown unset update uplevel upvar variable "+"vwait");var functions=parseWords("if elseif else and not or eq ne in ni for foreach while switch");
var isOperatorChar=/[+\-*&%=<>!?^\/\|]/;return{startState:function(){return{tokenize:tokenBase,beforeParams:false,inParams:false}},token:function(stream,state){if(stream.eatSpace())return null;return state.tokenize(stream,state)},lineComment:"#"}});CodeMirror.defineMIME("text/x-tcl","tcl")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var keywords=["as","export","func","import","return"];var builtin=["ArcSort","AssertEmpty","AssertEqual","AssertNull","CDRewrite","Compose","Concat","ConcatDelayed","Connect","Determinize","Difference","Expand","Invert","LoadFst","LoadFstFromFar","Minimize","MPdtCompose",
"Optimize","PdtCompose","Project","Reverse","Rewrite","RmEpsilon","StringFile","SymbolTable","Union","UnionDelayed"];CodeMirror.defineMode("thrax",function(config,parserConfig){function tokenString(quote,stream){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}return"string"}return{startState:function(basecolumn){var state={indent:basecolumn||0,expectingFunctionArgs:false,expectingFunctionName:false,expectingImportName:false,
expectingSubImport:false,functionToBeDefined:"",inFunctionArgs:[],inFunctionDef:false,inFunctionBracketsCount:0,inFunctionFsts:[],inFunctionFstToBeDefined:"",inGlobalFstDef:false,globalFsts:[],globalFstToBeDefined:"",localImports:[],lastStream:""};return state},token:function(stream,state){if(stream.eatSpace())return null;var next=stream.next();state.indent=stream.indentation();if(next=="#"){stream.skipToEnd();return"comment"}else if(next>="0"&&next<="9"){stream.match(/^[0-9]*\.?[0-9]+/);return"number"}else if(next==
'"'||next=="'")return tokenString(next,stream);else if(next.match(/[\+@;=:\|<>\*\?\-\.]/)){if(next=="=")if(state.inFunctionDef){state.inFunctionFstDef=true;state.inFunctionFstToBeDefined=state.lastStream}else{state.inGlobalFstDef=true;state.globalFstToBeDefined=state.lastStream}else if(next==";")if(state.inGlobalFstDef){state.inGlobalFstDef=false;state.globalFsts.push(state.globalFstToBeDefined)}else{if(state.inFunctionFstDef){state.inFunctionFstDef=false;state.inFunctionFsts.push(state.inFunctionFstToBeDefined)}}else if(next==
"."&&!stream.peek()==" ")state.expectingSubImport=true;return"operator"}else if(next.match(/[,\[\]\(\)\{\}]/)){if(next=="["&&state.expectingFunctionName){state.expectingFunctionName=false;state.expectingFunctionArgs=true}else if(next=="]"&&state.expectingFunctionArgs){state.expectingFunctionArgs=false;state.inFunctionDef=true}else if(next=="{"&&state.inFunctionDef)state.inFunctionBracketsCount++;else if(next=="}"&&state.inFunctionDef){state.inFunctionBracketsCount--;if(state.inFunctionBracketsCount==
0){state.inFunctionDef=false;state.inFunctionFsts.length=0;state.inFunctionArgs.length=0;state.globalFsts.push(state.functionToBeDefined)}}if(next=="{"||next=="["||next=="(")state.indent=state.indent+2;return"punctuation"}else if(stream.current().match(/^[a-zA-Z_\-0-9]+$/)){stream.eatWhile(/[a-zA-Z_\-0-9]/);var cur=stream.current();if(keywords.indexOf(cur)>-1){if(cur=="as")state.expectingImportName=true;if(cur=="func")state.expectingFunctionName=true;if(cur=="return")state.inFunctionFstDef=true;return"keyword"}else if(builtin.indexOf(cur)>
-1)return"builtin";else if(cur.match(/^[A-Za-z_\-0-9]+$/)){if(state.expectingImportName){state.expectingImportName=false;state.localImports.push(cur);return"variable-2"}if(state.expectingFunctionName)state.functionToBeDefined=cur;if(state.inGlobalFstDef){if(state.globalFsts.indexOf(cur)>-1)return"property";if(state.localImports.indexOf(cur)>-1)return"variable-2";if(state.expectingSubImport){state.expectingSubImport=false;return"variable"}return"error"}if(state.expectingFunctionArgs){state.inFunctionArgs.push(cur);
return"variable-3"}if(state.inFunctionDef){if(state.inFunctionFsts.indexOf(cur)>-1){if(!state.inFunctionFstDef)return"error";return"property"}if(state.localImports.indexOf(cur)>-1)return"variable-2";if(state.expectingSubImport){state.expectingSubImport=false;return"variable"}if(state.inFunctionArgs.indexOf(cur)>-1)return"property";if(state.inFunctionFstDef)return"error";state.lastStream=cur;return"variable"}if(state.globalFsts.indexOf(cur)>-1)return"error";state.lastStream=cur;return"variable"}}},
indent:function(state,textAfter){if(state.indent>0&&/^\s*[\}\]\)]/.test(textAfter))state.indent=state.indent-2;return state.indent},electricInput:/^\s*[\}\]\)]/,lineComment:"#",fold:["brace"]}});CodeMirror.registerHelper("hintWords","thrax",keywords.concat(builtin));CodeMirror.defineMIME("text/x-thrax",{name:"thrax"})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("tornado:inner",function(){function tokenBase(stream,state){stream.eatWhile(/[^\{]/);var ch=stream.next();if(ch=="{")if(ch=stream.eat(/\{|%|#/)){state.tokenize=
inTag(ch);return"tag"}}function inTag(close){if(close=="{")close="}";return function(stream,state){var ch=stream.next();if(ch==close&&stream.eat("}")){state.tokenize=tokenBase;return"tag"}if(stream.match(keywords))return"keyword";return close=="#"?"comment":"string"}}var keywords=["and","as","assert","autoescape","block","break","class","comment","context","continue","datetime","def","del","elif","else","end","escape","except","exec","extends","false","finally","for","from","global","if","import",
"in","include","is","json_encode","lambda","length","linkify","load","module","none","not","or","pass","print","put","raise","raw","return","self","set","squeeze","super","true","try","url_escape","while","with","without","xhtml_escape","yield"];keywords=new RegExp("^(("+keywords.join(")|(")+"))\\b");return{startState:function(){return{tokenize:tokenBase}},token:function(stream,state){return state.tokenize(stream,state)}}});CodeMirror.defineMode("tornado",function(config){var htmlBase=CodeMirror.getMode(config,
"text/html");var tornadoInner=CodeMirror.getMode(config,"tornado:inner");return CodeMirror.overlayMode(htmlBase,tornadoInner)});CodeMirror.defineMIME("text/x-tornado","tornado")});CodeMirror.defineMode("textpb",function(config,parserConfig){function tokenBase(stream,state){var ch=stream.next();if(ch=="'"||ch=='"')return tokenString(ch,stream);if(/[\[\]{}\(\):]/.test(ch)){curPunc=ch;return null}if(ch=="-"&&/\d/.test(stream.peek())||/\d/.test(ch)){stream.eatWhile(/[\w\.]/);return"number"}if(ch=="#"){stream.skipToEnd();return"comment"}stream.eatWhile(/[\w\$_\.]/);var cur=stream.current();if(keywords.propertyIsEnumerable(cur))return"keyword";if(atoms.propertyIsEnumerable(cur))return"atom";
if(state.context.type=="top"||state.context.type=="}")return"variable";return null}function tokenString(quote,stream){var escaped=false;var next;for(;(next=stream.next())!=null;){if(next==quote&&!escaped)break;escaped=!escaped&&next=="\\"}return"string"}function Context(type,field_name,prev){this.type=type;this.field_name=field_name;this.prev=prev}function pushContext(state,type,field_name){return state.context=new Context(type,field_name,state.context)}function popContext(state){return state.context=
state.context.prev}var keywords=parserConfig.keywords||{};var atoms=parserConfig.atoms||{"true":true,"false":true};var curPunc=null;return{startState:function(){return{context:new Context("top")}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=false;state.indented=stream.indentation()}if(stream.eatSpace())return null;curPunc=null;var style=tokenBase(stream,state);if(style=="comment")return style;if(ctx.align==null)ctx.align=true;if(!curPunc&&ctx.type==
"field")popContext(state);else if(curPunc=="{")pushContext(state,"}");else if(curPunc=="}")if(ctx.type=="top")style="error";else{if(ctx.type=="field")ctx=popContext(state);if(ctx.type=="}")ctx=popContext(state);if(ctx.type=="field")ctx=popContext(state)}else if(curPunc=="[")pushContext(state,"]");else if(curPunc==ctx.type)popContext(state);else if(!curPunc&&(ctx.type=="}"||ctx.type=="top"))pushContext(state,"field",stream.current());return style},lineComment:"#",fold:"brace"}});
(function(){CodeMirror.defineMIME("text/x-text-proto",{name:"textpb"})})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("vb",function(conf,parserConf){function wordRegexp(words){return new RegExp("^(("+words.join(")|(")+"))\\b","i")}function indent(_stream,state){state.currentIndent++}function dedent(_stream,state){state.currentIndent--}function tokenBase(stream,state){if(stream.eatSpace())return null;
var ch=stream.peek();if(ch==="'"){stream.skipToEnd();return"comment"}if(stream.match(/^((&H)|(&O))?[0-9\.a-f]/i,false)){var floatLiteral=false;if(stream.match(/^\d*\.\d+F?/i))floatLiteral=true;else if(stream.match(/^\d+\.\d*F?/))floatLiteral=true;else if(stream.match(/^\.\d+F?/))floatLiteral=true;if(floatLiteral){stream.eat(/J/i);return"number"}var intLiteral=false;if(stream.match(/^&H[0-9a-f]+/i))intLiteral=true;else if(stream.match(/^&O[0-7]+/i))intLiteral=true;else if(stream.match(/^[1-9]\d*F?/)){stream.eat(/J/i);
intLiteral=true}else if(stream.match(/^0(?![\dx])/i))intLiteral=true;if(intLiteral){stream.eat(/L/i);return"number"}}if(stream.match(stringPrefixes)){state.tokenize=tokenStringFactory(stream.current());return state.tokenize(stream,state)}if(stream.match(tripleDelimiters)||stream.match(doubleDelimiters))return null;if(stream.match(doubleOperators)||stream.match(singleOperators)||stream.match(wordOperators))return"operator";if(stream.match(singleDelimiters))return null;if(stream.match(doOpening)){indent(stream,
state);state.doInCurrentLine=true;return"keyword"}if(stream.match(opening)){if(!state.doInCurrentLine)indent(stream,state);else state.doInCurrentLine=false;return"keyword"}if(stream.match(middle))return"keyword";if(stream.match(doubleClosing)){dedent(stream,state);dedent(stream,state);return"keyword"}if(stream.match(closing)){dedent(stream,state);return"keyword"}if(stream.match(types))return"keyword";if(stream.match(keywords))return"keyword";if(stream.match(identifiers))return"variable";stream.next();
return ERRORCLASS}function tokenStringFactory(delimiter){var singleline=delimiter.length==1;var OUTCLASS="string";return function(stream,state){for(;!stream.eol();){stream.eatWhile(/[^'"]/);if(stream.match(delimiter)){state.tokenize=tokenBase;return OUTCLASS}else stream.eat(/['"]/)}if(singleline)if(parserConf.singleLineStringErrors)return ERRORCLASS;else state.tokenize=tokenBase;return OUTCLASS}}function tokenLexer(stream,state){var style=state.tokenize(stream,state);var current=stream.current();
if(current==="."){style=state.tokenize(stream,state);if(style==="variable")return"variable";else return ERRORCLASS}var delimiter_index="[({".indexOf(current);if(delimiter_index!==-1)indent(stream,state);if(indentInfo==="dedent")if(dedent(stream,state))return ERRORCLASS;delimiter_index="])}".indexOf(current);if(delimiter_index!==-1)if(dedent(stream,state))return ERRORCLASS;return style}var ERRORCLASS="error";var singleOperators=new RegExp("^[\\+\\-\\*/%&\\\\|\\^~<>!]");var singleDelimiters=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]");
var doubleOperators=new RegExp("^((==)|(<>)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))");var doubleDelimiters=new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))");var tripleDelimiters=new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");var identifiers=new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var openingKeywords=["class","module","sub","enum","select","while","if","function","get","set","property","try","structure","synclock","using","with"];var middleKeywords=["else","elseif","case","catch","finally"];
var endKeywords=["next","loop"];var operatorKeywords=["and","andalso","or","orelse","xor","in","not","is","isnot","like"];var wordOperators=wordRegexp(operatorKeywords);var commonKeywords=["#const","#else","#elseif","#end","#if","#region","addhandler","addressof","alias","as","byref","byval","cbool","cbyte","cchar","cdate","cdbl","cdec","cint","clng","cobj","compare","const","continue","csbyte","cshort","csng","cstr","cuint","culng","cushort","declare","default","delegate","dim","directcast","each",
"erase","error","event","exit","explicit","false","for","friend","gettype","goto","handles","implements","imports","infer","inherits","interface","isfalse","istrue","lib","me","mod","mustinherit","mustoverride","my","mybase","myclass","namespace","narrowing","new","nothing","notinheritable","notoverridable","of","off","on","operator","option","optional","out","overloads","overridable","overrides","paramarray","partial","private","protected","public","raiseevent","readonly","redim","removehandler",
"resume","return","shadows","shared","static","step","stop","strict","then","throw","to","true","trycast","typeof","until","until","when","widening","withevents","writeonly"];var commontypes=["object","boolean","char","string","byte","sbyte","short","ushort","int16","uint16","integer","uinteger","int32","uint32","long","ulong","int64","uint64","decimal","single","double","float","date","datetime","intptr","uintptr"];var keywords=wordRegexp(commonKeywords);var types=wordRegexp(commontypes);var stringPrefixes=
'"';var opening=wordRegexp(openingKeywords);var middle=wordRegexp(middleKeywords);var closing=wordRegexp(endKeywords);var doubleClosing=wordRegexp(["end"]);var doOpening=wordRegexp(["do"]);var indentInfo=null;CodeMirror.registerHelper("hintWords","vb",openingKeywords.concat(middleKeywords).concat(endKeywords).concat(operatorKeywords).concat(commonKeywords).concat(commontypes));var external={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:tokenBase,lastToken:null,currentIndent:0,
nextLineIndent:0,doInCurrentLine:false}},token:function(stream,state){if(stream.sol()){state.currentIndent+=state.nextLineIndent;state.nextLineIndent=0;state.doInCurrentLine=0}var style=tokenLexer(stream,state);state.lastToken={style:style,content:stream.current()};return style},indent:function(state,textAfter){var trueText=textAfter.replace(/^\s+|\s+$/g,"");if(trueText.match(closing)||trueText.match(doubleClosing)||trueText.match(middle))return conf.indentUnit*(state.currentIndent-1);if(state.currentIndent<
0)return 0;return state.currentIndent*conf.indentUnit},lineComment:"'"};return external});CodeMirror.defineMIME("text/x-vb","vb")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("velocity",function(){function parseWords(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function chain(stream,state,f){state.tokenize=f;return f(stream,state)}function tokenBase(stream,state){var beforeParams=
state.beforeParams;state.beforeParams=false;var ch=stream.next();if(ch=="'"&&!state.inString&&state.inParams){state.lastTokenWasBuiltin=false;return chain(stream,state,tokenString(ch))}else if(ch=='"'){state.lastTokenWasBuiltin=false;if(state.inString){state.inString=false;return"string"}else if(state.inParams)return chain(stream,state,tokenString(ch))}else if(/[\[\]{}\(\),;\.]/.test(ch)){if(ch=="("&&beforeParams)state.inParams=true;else if(ch==")"){state.inParams=false;state.lastTokenWasBuiltin=
true}return null}else if(/\d/.test(ch)){state.lastTokenWasBuiltin=false;stream.eatWhile(/[\w\.]/);return"number"}else if(ch=="#"&&stream.eat("*")){state.lastTokenWasBuiltin=false;return chain(stream,state,tokenComment)}else if(ch=="#"&&stream.match(/ *\[ *\[/)){state.lastTokenWasBuiltin=false;return chain(stream,state,tokenUnparsed)}else if(ch=="#"&&stream.eat("#")){state.lastTokenWasBuiltin=false;stream.skipToEnd();return"comment"}else if(ch=="$"){stream.eat("!");stream.eatWhile(/[\w\d\$_\.{}-]/);
if(specials&&specials.propertyIsEnumerable(stream.current()))return"keyword";else{state.lastTokenWasBuiltin=true;state.beforeParams=true;return"builtin"}}else if(isOperatorChar.test(ch)){state.lastTokenWasBuiltin=false;stream.eatWhile(isOperatorChar);return"operator"}else{stream.eatWhile(/[\w\$_{}@]/);var word=stream.current();if(keywords&&keywords.propertyIsEnumerable(word))return"keyword";if(functions&&functions.propertyIsEnumerable(word)||stream.current().match(/^#@?[a-z0-9_]+ *$/i)&&stream.peek()==
"("&&!(functions&&functions.propertyIsEnumerable(word.toLowerCase()))){state.beforeParams=true;state.lastTokenWasBuiltin=false;return"keyword"}if(state.inString){state.lastTokenWasBuiltin=false;return"string"}if(stream.pos>word.length&&stream.string.charAt(stream.pos-word.length-1)=="."&&state.lastTokenWasBuiltin)return"builtin";state.lastTokenWasBuiltin=false;return null}}function tokenString(quote){return function(stream,state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=
null;){if(next==quote&&!escaped){end=true;break}if(quote=='"'&&stream.peek()=="$"&&!escaped){state.inString=true;end=true;break}escaped=!escaped&&next=="\\"}if(end)state.tokenize=tokenBase;return"string"}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="#"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return"comment"}function tokenUnparsed(stream,state){var maybeEnd=0;var ch;for(;ch=stream.next();){if(ch=="#"&&maybeEnd==2){state.tokenize=tokenBase;
break}if(ch=="]")maybeEnd++;else if(ch!=" ")maybeEnd=0}return"meta"}var keywords=parseWords("#end #else #break #stop #[[ #]] "+"#{end} #{else} #{break} #{stop}");var functions=parseWords("#if #elseif #foreach #set #include #parse #macro #define #evaluate "+"#{if} #{elseif} #{foreach} #{set} #{include} #{parse} #{macro} #{define} #{evaluate}");var specials=parseWords("$foreach.count $foreach.hasNext $foreach.first $foreach.last $foreach.topmost $foreach.parent.count $foreach.parent.hasNext $foreach.parent.first $foreach.parent.last $foreach.parent $velocityCount $!bodyContent $bodyContent");
var isOperatorChar=/[+\-*&%=<>!?:\/|]/;return{startState:function(){return{tokenize:tokenBase,beforeParams:false,inParams:false,inString:false,lastTokenWasBuiltin:false}},token:function(stream,state){if(stream.eatSpace())return null;return state.tokenize(stream,state)},blockCommentStart:"#*",blockCommentEnd:"*#",lineComment:"##",fold:"velocity"}});CodeMirror.defineMIME("text/velocity","velocity")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function tlvScopeStyle(state,indentation,type){var depth=indentation/tlvIndentUnit;return"tlv-"+state.tlvIndentationStyle[depth]+"-"+type}function tlvIdentNext(stream){var match;return(match=stream.match(tlvIdentMatch,false))&&match[2].length>0}CodeMirror.defineMode("verilog",
function(config,parserConfig){function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}function tokenBase(stream,state){var ch=stream.peek();var style;if(hooks[ch]&&(style=hooks[ch](stream,state))!=false)return style;if(hooks.tokenBase&&(style=hooks.tokenBase(stream,state))!=false)return style;if(/[,;:\.]/.test(ch)){curPunc=stream.next();return null}if(isBracketChar.test(ch)){curPunc=stream.next();return"bracket"}if(ch=="`"){stream.next();
if(stream.eatWhile(/[\w\$_]/)){var cur=stream.current();curKeyword=cur;if(cur.startsWith("`uvm_")&&cur.endsWith("_begin")){var keywordClose=curKeyword.substr(0,curKeyword.length-5)+"end";openClose[cur]=keywordClose;curPunc="newblock"}else{stream.eatSpace();if(stream.peek()=="(")curPunc="newmacro";var withSpace=stream.current();stream.backUp(withSpace.length-cur.length)}return"def"}else return null}if(ch=="$"){stream.next();if(stream.eatWhile(/[\w\$_]/))return"meta";else return null}if(ch=="#"){stream.next();
stream.eatWhile(/[\d_.]/);return"def"}if(ch=="@"){stream.next();stream.eatWhile(/[@]/);return"def"}if(ch=='"'){stream.next();state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(ch=="/"){stream.next();if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}stream.backUp(1)}if(stream.match(realLiteral)||stream.match(decimalLiteral)||stream.match(binaryLiteral)||stream.match(octLiteral)||stream.match(hexLiteral)||
stream.match(unsignedNumber)||stream.match(realLiteral))return"number";if(stream.eatWhile(isOperatorChar)){curPunc=stream.current();return"meta"}if(stream.eatWhile(/[\w\$_]/)){cur=stream.current();if(keywords[cur]){if(openClose[cur]){curPunc="newblock";if(cur==="fork"){stream.eatSpace();if(stream.peek()==";")curPunc="newstatement";stream.backUp(stream.current().length-cur.length)}}if(statementKeywords[cur])curPunc="newstatement";curKeyword=cur;return"keyword"}return"variable"}stream.next();return null}
function tokenString(quote){return function(stream,state){var escaped=false;var next;var end=false;for(;(next=stream.next())!=null;){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}if(end||!(escaped||multiLineStrings))state.tokenize=tokenBase;return"string"}}function tokenComment(stream,state){var maybeEnd=false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return"comment"}function Context(indented,column,type,scopekind,
align,prev){this.indented=indented;this.column=column;this.type=type;this.scopekind=scopekind;this.align=align;this.prev=prev}function pushContext(state,col,type,scopekind){var indent=state.indented;var c=new Context(indent,col,type,scopekind?scopekind:"",null,state.context);return state.context=c}function popContext(state){var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}function isClosing(text,contextClosing){if(text==
contextClosing)return true;else{var closingKeywords=contextClosing.split(";");var i;for(i in closingKeywords)if(text==closingKeywords[i])return true;return false}}function isInsideScopeKind(ctx,scopekind){if(ctx==null)return false;if(ctx.scopekind===scopekind)return true;return isInsideScopeKind(ctx.prev,scopekind)}function buildElectricInputRegEx(){var allClosings=[];var i;for(i in openClose)if(openClose[i]){var closings=openClose[i].split(";");var j;for(j in closings)allClosings.push(closings[j])}var re=
new RegExp("[{}()\\[\\]]|("+allClosings.join("|")+")$");return re}var indentUnit=config.indentUnit;var statementIndentUnit=parserConfig.statementIndentUnit||indentUnit;var dontAlignCalls=parserConfig.dontAlignCalls;var compilerDirectivesUseRegularIndentation=parserConfig.compilerDirectivesUseRegularIndentation;var noIndentKeywords=parserConfig.noIndentKeywords||[];var multiLineStrings=parserConfig.multiLineStrings;var hooks=parserConfig.hooks||{};var keywords=words("accept_on alias always always_comb always_ff always_latch and assert assign assume automatic before begin bind "+
"bins binsof bit break buf bufif0 bufif1 byte case casex casez cell chandle checker class clocking cmos config "+"const constraint context continue cover covergroup coverpoint cross deassign default defparam design disable "+"dist do edge else end endcase endchecker endclass endclocking endconfig endfunction endgenerate endgroup "+"endinterface endmodule endpackage endprimitive endprogram endproperty endspecify endsequence endtable endtask "+"enum event eventually expect export extends extern final first_match for force foreach forever fork forkjoin "+
"function generate genvar global highz0 highz1 if iff ifnone ignore_bins illegal_bins implements implies import "+"incdir include initial inout input inside instance int integer interconnect interface intersect join join_any "+"join_none large let liblist library local localparam logic longint macromodule matches medium modport module "+"nand negedge nettype new nexttime nmos nor noshowcancelled not notif0 notif1 null or output package packed "+"parameter pmos posedge primitive priority program property protected pull0 pull1 pulldown pullup "+
"pulsestyle_ondetect pulsestyle_onevent pure rand randc randcase randsequence rcmos real realtime ref reg "+"reject_on release repeat restrict return rnmos rpmos rtran rtranif0 rtranif1 s_always s_eventually s_nexttime "+"s_until s_until_with scalared sequence shortint shortreal showcancelled signed small soft solve specify "+"specparam static string strong strong0 strong1 struct super supply0 supply1 sync_accept_on sync_reject_on "+"table tagged task this throughout time timeprecision timeunit tran tranif0 tranif1 tri tri0 tri1 triand trior "+
"trireg type typedef union unique unique0 unsigned until until_with untyped use uwire var vectored virtual void "+"wait wait_order wand weak weak0 weak1 while wildcard wire with within wor xnor xor");var isOperatorChar=/[\+\-\*\/!~&|^%=?:<>]/;var isBracketChar=/[\[\]{}()]/;var unsignedNumber=/\d[0-9_]*/;var decimalLiteral=/\d*\s*'s?d\s*\d[0-9_]*/i;var binaryLiteral=/\d*\s*'s?b\s*[xz01][xz01_]*/i;var octLiteral=/\d*\s*'s?o\s*[xz0-7][xz0-7_]*/i;var hexLiteral=/\d*\s*'s?h\s*[0-9a-fxz?][0-9a-fxz?_]*/i;
var realLiteral=/(\d[\d_]*(\.\d[\d_]*)?E-?[\d_]+)|(\d[\d_]*\.\d[\d_]*)/i;var closingBracketOrWord=/^((`?\w+)|[)}\]])/;var closingBracket=/[)}\]]/;var compilerDirectiveRegex=new RegExp("^(`(?:ifdef|ifndef|elsif|else|endif|undef|undefineall|define|include|begin_keywords|celldefine|default|"+"nettype|end_keywords|endcelldefine|line|nounconnected_drive|pragma|resetall|timescale|unconnected_drive))\\b");var compilerDirectiveBeginRegex=/^(`(?:ifdef|ifndef|elsif|else))\b/;var compilerDirectiveEndRegex=/^(`(?:elsif|else|endif))\b/;
var curPunc;var curKeyword;var blockKeywords=words("case checker class clocking config function generate interface module package "+"primitive program property specify sequence table task");var openClose={};var keyword;for(keyword in blockKeywords)openClose[keyword]="end"+keyword;openClose["begin"]="end";openClose["casex"]="endcase";openClose["casez"]="endcase";openClose["do"]="while";openClose["fork"]="join;join_any;join_none";openClose["covergroup"]="endgroup";openClose["macro_begin"]="macro_end";
var i;for(i in noIndentKeywords){keyword=noIndentKeywords[i];if(openClose[keyword])openClose[keyword]=undefined}var statementKeywords=words("always always_comb always_ff always_latch assert assign assume else export for foreach forever if import initial repeat while extern typedef");return{electricInput:buildElectricInputRegEx(),startState:function(basecolumn){var state={tokenize:null,context:new Context((basecolumn||0)-indentUnit,0,"top","top",false),indented:0,compilerDirectiveIndented:0,startOfLine:true};
if(hooks.startState)hooks.startState(state);return state},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=false;state.indented=stream.indentation();state.startOfLine=true}if(hooks.token){var style=hooks.token(stream,state);if(style!==undefined)return style}if(stream.eatSpace())return null;curPunc=null;curKeyword=null;style=(state.tokenize||tokenBase)(stream,state);if(style=="comment"||style=="meta"||style=="variable"){if((curPunc==="="||curPunc==="<=")&&
!isInsideScopeKind(ctx,"assignment")){pushContext(state,stream.column()+curPunc.length,"assignment","assignment");if(ctx.align==null)ctx.align=true}return style}if(ctx.align==null)ctx.align=true;var isClosingAssignment=ctx.type=="assignment"&&closingBracket.test(curPunc)&&ctx.prev&&ctx.prev.type===curPunc;if(curPunc==ctx.type||isClosingAssignment){if(isClosingAssignment)ctx=popContext(state);ctx=popContext(state);if(curPunc==")"){if(ctx&&ctx.type==="macro"){ctx=popContext(state);for(;ctx&&(ctx.type==
"statement"||ctx.type=="assignment");)ctx=popContext(state)}}else if(curPunc=="}")if(ctx&&ctx.type==="statement")for(;ctx&&ctx.type=="statement";)ctx=popContext(state)}else if((curPunc==";"||curPunc==",")&&(ctx.type=="statement"||ctx.type=="assignment")||ctx.type&&isClosing(curKeyword,ctx.type)){ctx=popContext(state);for(;ctx&&(ctx.type=="statement"||ctx.type=="assignment");)ctx=popContext(state)}else if(curPunc=="{")pushContext(state,stream.column(),"}");else if(curPunc=="[")pushContext(state,stream.column(),
"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(ctx&&ctx.type=="endcase"&&curPunc==":")pushContext(state,stream.column(),"statement","case");else if(curPunc=="newstatement")pushContext(state,stream.column(),"statement",curKeyword);else if(curPunc=="newblock")if(curKeyword=="function"&&ctx&&(ctx.type=="statement"||ctx.type=="endgroup"));else if(curKeyword=="task"&&ctx&&ctx.type=="statement");else if(curKeyword=="class"&&ctx&&ctx.type=="statement");else{var close=openClose[curKeyword];
pushContext(state,stream.column(),close,curKeyword)}else if(curPunc=="newmacro"||curKeyword&&curKeyword.match(compilerDirectiveRegex)){if(curPunc=="newmacro")pushContext(state,stream.column(),"macro","macro");if(curKeyword.match(compilerDirectiveEndRegex))state.compilerDirectiveIndented-=statementIndentUnit;if(curKeyword.match(compilerDirectiveBeginRegex))state.compilerDirectiveIndented+=statementIndentUnit}state.startOfLine=false;return style},indent:function(state,textAfter){if(state.tokenize!=
tokenBase&&state.tokenize!=null)return CodeMirror.Pass;if(hooks.indent){var fromHook=hooks.indent(state);if(fromHook>=0)return fromHook}var ctx=state.context;var firstChar=textAfter&&textAfter.charAt(0);if(ctx.type=="statement"&&firstChar=="}")ctx=ctx.prev;var closing=false;var possibleClosing=textAfter.match(closingBracketOrWord);if(possibleClosing)closing=isClosing(possibleClosing[0],ctx.type);if(!compilerDirectivesUseRegularIndentation&&textAfter.match(compilerDirectiveRegex)){if(textAfter.match(compilerDirectiveEndRegex))return state.compilerDirectiveIndented-
statementIndentUnit;return state.compilerDirectiveIndented}if(ctx.type=="statement")return ctx.indented+(firstChar=="{"?0:statementIndentUnit);else if((closingBracket.test(ctx.type)||ctx.type=="assignment")&&ctx.align&&!dontAlignCalls)return ctx.column+(closing?0:1);else if(ctx.type==")"&&!closing)return ctx.indented+statementIndentUnit;else return ctx.indented+(closing?0:indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}});CodeMirror.defineMIME("text/x-verilog",
{name:"verilog"});CodeMirror.defineMIME("text/x-systemverilog",{name:"verilog"});var tlvIdentifierStyle={"|":"link",">":"property","$":"variable","$$":"variable","?$":"qualifier","?*":"qualifier","-":"hr","/":"property","/-":"property","@":"variable-3","@-":"variable-3","@++":"variable-3","@+=":"variable-3","@+=-":"variable-3","@--":"variable-3","@-=":"variable-3","%+":"tag","%-":"tag","%":"tag",">>":"tag","<<":"tag","<>":"tag","#":"tag","^":"attribute","^^":"attribute","^!":"attribute","*":"variable-2",
"**":"variable-2","\\":"keyword",'"':"comment"};var tlvScopePrefixChars={"/":"beh-hier",">":"beh-hier","-":"phys-hier","|":"pipe","?":"when","@":"stage","\\":"keyword"};var tlvIndentUnit=3;var tlvTrackStatements=false;var tlvIdentMatch=/^([~!@#\$%\^&\*-\+=\?\/\\\|'"<>]+)([\d\w_]*)/;var tlvFirstLevelIndentMatch=/^[! ]  /;var tlvLineIndentationMatch=/^[! ] */;var tlvCommentMatch=/^\/[\/\*]/;CodeMirror.defineMIME("text/x-tlv",{name:"verilog",hooks:{electricInput:false,token:function(stream,state){var style=
undefined;var match;if(stream.sol()&&!state.tlvInBlockComment){if(stream.peek()=="\\"){style="def";stream.skipToEnd();if(stream.string.match(/\\SV/))state.tlvCodeActive=false;else if(stream.string.match(/\\TLV/))state.tlvCodeActive=true}if(state.tlvCodeActive&&stream.pos==0&&state.indented==0&&(match=stream.match(tlvLineIndentationMatch,false)))state.indented=match[0].length;var indented=state.indented;var depth=indented/tlvIndentUnit;if(depth<=state.tlvIndentationStyle.length){var blankline=stream.string.length==
indented;var chPos=depth*tlvIndentUnit;if(chPos<stream.string.length){var bodyString=stream.string.slice(chPos);var ch=bodyString[0];if(tlvScopePrefixChars[ch]&&((match=bodyString.match(tlvIdentMatch))&&tlvIdentifierStyle[match[1]])){indented=indented+tlvIndentUnit;if(!(ch=="\\"&&chPos>0)){state.tlvIndentationStyle[depth]=tlvScopePrefixChars[ch];if(tlvTrackStatements)state.statementComment=false;depth++}}}if(!blankline)for(;state.tlvIndentationStyle.length>depth;)state.tlvIndentationStyle.pop()}state.tlvNextIndent=
indented}if(state.tlvCodeActive){var beginStatement=false;if(tlvTrackStatements){beginStatement=stream.peek()!=" "&&style===undefined&&!state.tlvInBlockComment&&stream.column()==state.tlvIndentationStyle.length*tlvIndentUnit;if(beginStatement){if(state.statementComment)beginStatement=false;state.statementComment=stream.match(tlvCommentMatch,false)}}if(style!==undefined)style=style+(" "+tlvScopeStyle(state,0,"scope-ident"));else if(stream.pos/tlvIndentUnit<state.tlvIndentationStyle.length&&(match=
stream.match(stream.sol()?tlvFirstLevelIndentMatch:/^   /))){style="tlv-indent-"+(stream.pos%2==0?"even":"odd")+" "+tlvScopeStyle(state,stream.pos-tlvIndentUnit,"indent");if(match[0].charAt(0)=="!")style=style+" tlv-alert-line-prefix";if(tlvIdentNext(stream))style=style+(" "+tlvScopeStyle(state,stream.pos,"before-scope-ident"))}else if(state.tlvInBlockComment){if(stream.match(/^.*?\*\//)){state.tlvInBlockComment=false;if(tlvTrackStatements&&!stream.eol())state.statementComment=false}else stream.skipToEnd();
style="comment"}else if((match=stream.match(tlvCommentMatch))&&!state.tlvInBlockComment){if(match[0]=="//")stream.skipToEnd();else state.tlvInBlockComment=true;style="comment"}else if(match=stream.match(tlvIdentMatch)){var prefix=match[1];var mnemonic=match[2];if(tlvIdentifierStyle.hasOwnProperty(prefix)&&(mnemonic.length>0||stream.eol())){style=tlvIdentifierStyle[prefix];if(stream.column()==state.indented)style=style+(" "+tlvScopeStyle(state,stream.column(),"scope-ident"))}else{stream.backUp(stream.current().length-
1);style="tlv-default"}}else if(stream.match(/^\t+/))style="tlv-tab";else if(stream.match(/^[\[\]{}\(\);:]+/))style="meta";else if(match=stream.match(/^[mM]4([\+_])?[\w\d_]*/))style=match[1]=="+"?"tlv-m4-plus":"tlv-m4";else if(stream.match(/^ +/))if(stream.eol())style="error";else style="tlv-default";else if(stream.match(/^[\w\d_]+/))style="number";else{stream.next();style="tlv-default"}if(beginStatement)style=style+" tlv-statement"}else if(stream.match(/^[mM]4([\w\d_]*)/))style="tlv-m4";return style},
indent:function(state){return state.tlvCodeActive==true?state.tlvNextIndent:-1},startState:function(state){state.tlvIndentationStyle=[];state.tlvCodeActive=true;state.tlvNextIndent=-1;state.tlvInBlockComment=false;if(tlvTrackStatements)state.statementComment=false}}})});CodeMirror.defineMode("wfl",function(config,parserConfig){function getCloseChar(openChar){if(openChar==="(")return")";if(openChar==="[")return"]";if(openChar==="{")return"}";return""}function isAlnum(c){return c!=null&&(c>="0"&&c<="9"||c.toUpperCase()!==c.toLowerCase())}function allPrefixes(s){var prefixes=[];var i=0;for(;i<=s.length;++i)prefixes.push(s.slice(0,i));return prefixes}function getTokenName(token){switch(token){case Token.NUMBER:return"number";case Token.OPEN_BRACKET:return"bracket";case Token.CLOSE_BRACKET:return"bracket";
case Token.SEPARATOR:return"qualifier";case Token.OPERATOR:return"builtin";case Token.VARIABLE:return"variable";case Token.FUNCTION:return"builtin";case Token.STRING:return"string";case Token.COMMENT:return"comment";case Token.ERROR:return"error"}return""}var ParseState={INIT:0,IN_STRING:1,IN_ESCAPE:2,IN_COMMENT:3,IN_TOKEN:4,IN_OPERATOR:5};var Token={NONE:0,NUMBER:1,OPEN_BRACKET:2,CLOSE_BRACKET:3,SEPARATOR:4,OPERATOR:5,VARIABLE:6,FUNCTION:7,STRING:8,COMMENT:9,ERROR:99,CONTINUE:100,TOKEN:101,QUOTE:102,
ESCAPE:103,COMMENT_START:104};var INDENT_UNIT=2;var OPEN_CHARS="([{";var WFL_UNARY_OPERATORS=["~","!","~","NOT","not","@","def"];var WFL_OPERATORS=parserConfig.operators||["~","!","~","NOT","not","@","def","+","-","*","/","%","&","^","|","IN","in","BETWEEN","between","?","&&","||","AND","and","DOCAND","docand","OR","or","==","=~","!=","!~","<","<=",">",">=",">>","<<","+=","-=","*=","/=","%=","|=","&=","=",";",":="];var WFL_FUNCTIONS=parserConfig.functions||["defun","include","IN","acos","acosh","aggregate_keep_ungrouped",
"aggregate_with_group_field","aggregate_with_group_merged","aggregate_with_pii_adjusts","aggregate_with_rollup","aggregate_with_top","all","any","area","area_contains","area_detail_string","area_from_points","area_from_polygon","area_from_polyline","area_from_polyproto","area_from_rect","area_intersect","area_invert","area_multi_intersect","area_multi_union","area_to_locs","area_union","array","array_clear","array_count","array_get","array_pop","array_push","array_set","array_values","as_bytes","as_double",
"as_fixed32","as_fixed64","as_float","as_int32","as_int64","as_sint32","as_sint64","as_string","as_uint32","as_uint64","asin","acosh","atan","atanh","avg","base64_escape","base64_unescape","base_plus_delta","between","bloom_exists","bloom_filter","bloom_insert","bool","bt_column","bt_column_all_versions","bt_column_as","bt_column_as_proto","bt_column_named","bt_column_num_versions","bt_source","bt_source_add_attribute","bt_source_add_column","bt_source_expand","bt_source_get_proto","bt_source_max_row_count",
"bt_source_prefix","bt_source_range_max","bt_source_range_min","bt_source_regexp","byte_size","bytes_cat","bytes_join","str_left","bytes_reverse","str_right","str_substr","bytes_utf8","cat_describe","cat_index_estimate_between","cat_index_histogram","cat_index_max","cat_index_min","cat_index_summary","cat_index_summary_stats","cat_ls","cat_names","cat_protos","cat_sharding","cat_urls","cbrt","ceil","centroid","cescape","city_name","civiltime","civiltime_add_days","civiltime_add_hours","civiltime_add_minutes",
"civiltime_add_months","civiltime_add_seconds","civiltime_add_years","civiltime_ceil_day","civiltime_ceil_hour","civiltime_ceil_minute","civiltime_ceil_month","civiltime_ceil_year","civiltime_day","civiltime_day_of_year","civiltime_daysec","civiltime_==","civiltime_floor_day","civiltime_floor_hour","civiltime_floor_minute","civiltime_floor_month","civiltime_floor_year","civiltime_>=","civiltime_>","civiltime_hour","civiltime_<=","civiltime_<","civiltime_minute","civiltime_month","civiltime_!=","civiltime_next_weekday",
"civiltime_prev_weekday","civiltime_quarter","civiltime_second","civiltime_to_tdinfo","civiltime_to_string","civiltime_unix_sec","civiltime_week","civiltime_weekday","civiltime_year","clear_error","coord","coord_proto","coord_x","coord_y","coord_zoom","cos","cosh","country_name","data_size","day_of_month","day_of_week","quarter_of_year","second_of_day","dbg_log","dbg_string","deg2rad","delta_decoded","delta_encoded","dict","dict_clear","dict_count","dict_erase","dict_get","dict_haskey","dict_insert",
"dict_keys","dict_lookup","dict_values","diff","dist","distinct","double","double_decode","double_encode","dremel_sql","e7deg","empty_bool","empty_double","empty_float","empty_int64","empty_string","empty_uint64","ensure","env","exp","exp2","fabs","fdb","fdb_columns","fdb_file_source","fdb_sample","fdb_scan_expensive","feature_key","field_number_of","field_type_of","file_chown","","file_save","fileset_load","fileset_proto","findb_fileset","findb_open","findb_proto_name","findb_proto_set_name","findb_query",
"findb_query_scored","fingerprint","first","fixedint32_decode","fixedint32_encode","fixedint_decode","fixedint_encode","float","float_decode","float_encode","floor","flow_aggregate","flow_collect","flow_fileset","flow_flatten","flow_limit","flow_pipeline","flow_proto","flow_regulate","flow_save_fileset","flow_wrap","get_deps","get_field_deps","get_pii_params","get_semantic_counts","get_semantic_types","get_semantics","has","hash_segments","hash_segments_pair","hex","hex_rebase","histogram","histogram_add",
"histogram_avg","histogram_buckets","histogram_count","histogram_empty","histogram_entropy","histogram_max","histogram_merge","histogram_min","histogram_percentile","histogram_remove","histogram_std_def","histogram_sum","histogram_variance","hll_sketch","hmac_sha256","hour_of_day","index_of","int64","is_async","is_in","is_in_dynamic_polygon","is_in_polygon","is_repeated","is_static","join_path_respect_absolute","last","lat","list","lng","loc","loc_e6","loc_e7","areachoice","loc_partitioner_add_areas",
"loc_partitioner_from_areas","loc_partitioner_lookup","loc_to_s2","log","log10","log2","logs_flow","make_error","max","median","min","month","none","path_secure_storage","polyline_proto","pow","powf","privacy_dftpa","privacy_keystore_key","privacy_laplace","privacy_percentile","proto_byte_size","proto_encode","proto_fileset","proto_full_name","proto_full_project","proto_max_field_number","proto_restrict_to","proto_restrict_without","proto_text","proto_to_dataframe","proto_use_global_db","quarter_of_year",
"rad2deg","rand","rand_repeat","range","raw_bytes","round","route","route_data_from_url","rpc_channel","s2","s2_e6","s2_e7","s2_parent","s2_polygon_decode","s2_polygon_encode","s2_to_loc","safe_pii_params","second_of_day","seed_load","seq","seq_start","set","set_clear","set_contains","set_count","set_difference","set_erase","set_flow_run_options","set_insert","set_intersect","set_pii_params","set_union","set_values","sin","sinh","size","sketch_estimate","sketch_intersect_estimate","sketch_memory",
"sketch_merge","sketch_union_estimate","snap2shape","snap2shape_dist","snap2shape_poly","snap2shape_segs","sort_asc","sort_desc","source_columns","source_scan","sqrt","sstable_keys","sstable_lookup","sstable_open","sstable_values","static_value","str_binary","str_cat","str_contains","str_decimal_prefix","str_ends_with","str_find","str_format","str_join","str_left","str_len","str_match","str_match_case","str_match_group","str_match_group_case","str_match_groups","str_match_groups_case","str_replace",
"str_reverse","str_right","str_split","str_split_space","str_starts_with","str_substitute","str_substr","str_to_civiltime","str_tolower","str_toupper","str_trim","str_trim_back","str_trim_front","string","struct_all_fields","struct_all_fields_detail","struct_all_terms","struct_all_terms_detail","struct_fields","struct_fields_detail","struct_fileset","struct_terms","struct_terms_detail","sum","tag_escape","tag_unescape","tan","tanh","tdinfo_to_civiltime","term","term_and","term_and_op","term_area_contains",
"term_area_intersect","term_bbox_contains","term_docand","term_field","term_field_multi","term_in","term_it_from_sstable_keys","term_it_from_strings","term_loc_inarea","term_nop","term_not","term_or","term_or_op","term_parse","term_seq","term_seq_max","term_seq_min","term_uniq","term_val","term_val_max","term_val_max_strict","term_val_min","term_val_min_strict","tf_complex","tf_complex_imag","tf_complex_real","tf_const","tf_graph","tf_graph_load","tf_graph_new","tf_meta_graph_from_session","tf_scope",
"tf_scope_name","tf_session_from_graph","tf_session_from_model","tf_tensor","tf_shape_new","tf_tensor","tilex_to_lng","tiley_to_lat","time_dinfo_from_utc_sec","time_dinfo_from_utc_sec_tz","time_dinfo_from_utc_usec","time_dinfo_from_utc_usec_tz","time_iso","time_stdinfo_from_utc_sec","time_stdinfo_from_utc_sec_tz","time_stdinfo_from_utc_usec","time_stdinfo_from_utc_usec_tz","time_strftime","time_strptime_dinfo","time_strptime_stdinfo","time_strptime_stdinfo_tz","time_strptime_tdinfo","time_strptime_tdinfo_tz",
"time_strptime_tinfo","time_tdinfo_from_utc_sec","time_tdinfo_from_utc_sec_tz","time_tdinfo_from_utc_usec","time_tdinfo_from_utc_usec_tz","time_tinfo_from_utc_sec","time_tinfo_from_utc_sec_tz","time_tinfo_from_utc_usec","time_tinfo_from_utc_usec_tz","time_tv_sec_local","time_tv_sec_utc","time_utc_now","time_zone_at_location","timezone_id_to_string","timezone_str_to_id","total_dist","tvsec_to_date","tvsec_to_date","type_of","uint64","uniq_run","unix_sec_to_civiltime","user_name","varint32_decode",
"varint32_encode","varint_decode","varint_encode","week_of_year","with_field_number","with_semantics","year","zigzag_decode","zigzag_encode","zip_merge","zoom","add_include_path","aggregate_approx_count_distinct","aggregate_as_array","aggregate_as_dict","aggregate_as_set","aggregate_avg","aggregate_count","aggregate_count_distinct","aggregate_custom","aggregate_group_by","aggregate_group_by_seq","aggregate_histogram","aggregate_hll_sketch","aggregate_max","aggregate_median","aggregate_min","aggregate_msg",
"aggregate_robust_mean","aggregate_std_dev","aggregate_sum","aggregate_t_test","aggregate_topcount","array_sort","assert_eq","assert_ge","assert_gt","assert_le","assert_lt","assert_ne","at","bt_flow","bt_flow_kv","capacitor","choice","columnio","defun","enum","fdb_find","fdb_scan_terms","filter","flow_append_to_logio","flow_append_to_recordio","flow_bottom","flow_count","flow_distinct","flow_emit","flow_filter","flow_join","flow_join_cross_semantics","flow_join_direct_semantics","flow_map","flow_save",
"flow_shard","flow_sort_asc","flow_sort_desc","flow_sub_flow","flow_to_logio","flow_to_recordio","flow_to_sstable","flow_top","for","group","if","include","logio","map","map_finalized","module","multi_proto","par_map","proto","proto_add_field","proto_append","proto_clear","proto_decode","proto_enum","proto_field_sort_asc","proto_field_sort_desc","proto_load_fileset","proto_msg_field_sort_asc","proto_msg_field_sort_desc","proto_new","proto_parse","proto_set","proto_to_dict","recordio","reduce","repeat",
"rpc_call","select","slice","source_scan_kv","sstable","std_multi_proto","std_proto","tf_init","tf_iter","tf_iter2","tf_iter3","tf_iter4","tf_iter5","tf_node","tf_node_scope","tf_run","tf_run2","tf_run3","tf_run4","tf_run5","tf_tensor_create","tf_tensor_get","tf_tensor_new","tf_tensor_rand","tf_tensor_set"];var TokenizerStateElement=function(parent,openChar,startColumn,indent){this.parent=parent;this.level=parent?parent.level+1:0;this.expression=[];this.token=null;this.operator=null;this.separator=
null;this.statements=parent?parent.statements:[];this.openChar=openChar;this.closeChar=getCloseChar(openChar);this.startColumn=startColumn;this.indent=indent;this.restartIndent=false};TokenizerStateElement.prototype.copyFrom=function(elem){this.expression=elem.expression.slice(0);this.token=elem.token;this.operator=elem.operator;this.separator=elem.separator;this.openChar=elem.openChar;this.closeChar=elem.closeChar;this.startColumn=elem.startColumn;this.restartIndent=elem.restartIndent};TokenizerStateElement.prototype.pushExpressionChar=
function(ch){this.expression.push(ch)};TokenizerStateElement.prototype.popExpressionChar=function(){this.expression.pop()};TokenizerStateElement.prototype.endStatement=function(){this.statements.push(this.expression.join(""));this.expression=[]};TokenizerStateElement.prototype.toString=function(){return"@ level: "+this.level+" indent: "+this.indent+"\n          restart: "+this.restartIndent+" Exp: ["+this.expression.join("")+"]\n          "+(this.token?"tok: ["+this.token+"] ":"")+"\n          "+
(this.operator?"op: ["+this.operator+"] ":"")+" -\n          "+this.openChar+"/"+this.closeChar};TokenizerStateElement.prototype.setSeparator=function(separator){this.separator=separator;this.operator=null;this.token=null};TokenizerStateElement.prototype.setOperator=function(operator){this.separator=null;this.operator=operator;this.token=null};TokenizerStateElement.prototype.setToken=function(token){this.separator=null;this.operator=null;this.token=token};TokenizerStateElement.prototype.isEmpty=function(){return this.expression.join("").trim()===
""};var TokenizerState=function(tokenizer){this.tokenizer=tokenizer;this.element=[];this.element.push(new TokenizerStateElement(null,"",0,0));this.state=ParseState.INIT};TokenizerState.prototype.cloneState=function(){var state=new TokenizerState(this.tokenizer);state.element[0].copyFrom(this.element[0]);state.element[0].statements=this.element[0].statements.slice(0);var i=1;for(;i<this.element.length;++i){state.pushExpressionState(this.element[i].openChar,this.element[i].startColumn,this.element[i].indent);
state.element[i].copyFrom(this.element[i])}return state};TokenizerState.prototype.lastElement=function(){if(!this.element.length)throw new Error("We are in an invalid parse state.");return this.element[this.element.length-1]};TokenizerState.prototype.pushExpressionState=function(openChar,startColumn,indent){this.element.push(new TokenizerStateElement(this.lastElement(),openChar,startColumn,indent))};TokenizerState.prototype.popExpressionState=function(){this.element.pop();return this.lastElement()};
var Tokenizer=function(){var $jscomp$this$208170832$21=this;this.unaryOperators_=new Set(WFL_UNARY_OPERATORS);this.operators_=new Set(WFL_OPERATORS);this.operatorPrefix_=new Set;this.functions_=new Set(WFL_FUNCTIONS);WFL_OPERATORS.forEach(function(op){allPrefixes(op).forEach(function(prefix){$jscomp$this$208170832$21.operatorPrefix_.add(prefix)})})};Tokenizer.prototype.indent=function(parseState,textAfter){var state=parseState.lastElement();var isClosing=state.level&&textAfter&&state.closeChar===
textAfter[0];var tokenIndent=!isClosing&&(state.token||state.operator&&state.operator!==";"||textAfter&&"."===textAfter[0])?INDENT_UNIT:0;if(state.isEmpty())state.restartIndent=true;if(!state.openChar)return tokenIndent;var baseIndent=state.restartIndent?state.indent:state.startColumn;return isClosing?baseIndent:baseIndent+INDENT_UNIT+tokenIndent};Tokenizer.prototype.getNextToken=function(stream,parseState){var state=parseState.lastElement();if(stream.sol()){if(state.isEmpty())state.restartIndent=
true;if(parseState.state===ParseState.IN_COMMENT)parseState.state=ParseState.INIT}if(stream.eatSpace()){state.pushExpressionChar(" ");return Token.NONE}for(;true;){var c=stream.peek();var tokenState=Token.NONE;switch(parseState.state){case ParseState.INIT:tokenState=this.processInitState_(stream,parseState,state,c);break;case ParseState.IN_TOKEN:tokenState=this.processTokenState_(stream,parseState,state,c);break;case ParseState.IN_OPERATOR:tokenState=this.processOperatorState_(stream,parseState,state,
c);break;case ParseState.IN_STRING:tokenState=this.processStringState_(stream,parseState,state,c);break;case ParseState.IN_ESCAPE:tokenState=this.processEscapeState_(stream,parseState,state,c);break;case ParseState.IN_COMMENT:tokenState=this.processCommentState_(stream,parseState,state,c);break}if(tokenState<Token.CONTINUE)return tokenState}};Tokenizer.prototype.processInitState_=function(stream,parseState,state,c){if(c==null){state.pushExpressionChar("\n");return Token.NONE}state.pushExpressionChar(stream.next());
if(c.trim()==="")return Token.CONTINUE;if(c==="."){var num=stream.match(/^\d+(?:[eE][+\-]?\d+)?/);if(num!=null){state.setToken(num.join(""));state.pushExpressionChar(state.token);return Token.NUMBER}}if(OPEN_CHARS.includes(c)){parseState.pushExpressionState(c,stream.column()-1,stream.indentation());return Token.OPEN_BRACKET}if(c===state.closeChar){state.popExpressionChar();state.endStatement();state.pushExpressionChar(c);if(state.parent){state=parseState.popExpressionState();state.token=null}return Token.CLOSE_BRACKET}var isScoping=
c===":"&&stream.peek()===":";if(!isScoping&&(c===","||c===":"&&stream.peek()!=="="||c==="="&&stream.peek()===">")){if(stream.peek()===">"){state.pushExpressionChar(stream.next());c=c+">"}state.setSeparator(c);return Token.SEPARATOR}if(!isAlnum(c)&&!isScoping&&this.operatorPrefix_.has(c)){stream.backUp(1);state.popExpressionChar();parseState.state=ParseState.IN_OPERATOR;return Token.CONTINUE}if(/\d/.test(c)){var num$jscomp$0=stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);if(num$jscomp$0!=null){state.setToken(num$jscomp$0.join(""));
state.pushExpressionChar(state.token);return Token.NUMBER}}if(c==="'"){parseState.state=ParseState.IN_STRING;state.setToken("'");return Token.QUOTE}if(c==="#"){parseState.state=ParseState.IN_COMMENT;return Token.COMMENT_START}if(isAlnum(c)||c==="_"||c==="."||isScoping){stream.backUp(1);state.popExpressionChar();parseState.state=ParseState.IN_TOKEN;return Token.TOKEN}return Token.ERROR};Tokenizer.prototype.processScopingInToken_=function(stream,last,c){if(c===":"){if(last===":")return Token.ERROR;
return Token.TOKEN}stream.next();var isScoping=stream.peek()===":";stream.backUp(1);return isScoping?Token.TOKEN:Token.SEPARATOR};Tokenizer.prototype.processTokenState_=function(stream,parseState,state,c){var token="";var last="";var nextToken=Token.TOKEN;for(;nextToken===Token.TOKEN;){state.pushExpressionChar(c);token=token+stream.next();var cpeek=stream.peek();if(cpeek===":")nextToken=this.processScopingInToken_(stream,last,c);else if(cpeek==null||!isAlnum(cpeek)&&cpeek!=="_"&&cpeek!==".")nextToken=
Token.NONE;else nextToken=Token.TOKEN;last=c;c=cpeek==null?"":cpeek}if(nextToken===Token.ERROR)return Token.ERROR;parseState.state=ParseState.INIT;if(this.operators_.has(token)){state.setOperator(token);return Token.OPERATOR}state.setToken(token);if(this.functions_.has(token))return Token.FUNCTION;return Token.VARIABLE};Tokenizer.prototype.processOperatorState_=function(stream,parseState,state,c){var operator=c;state.pushExpressionChar(c);stream.next();for(;this.operatorPrefix_.has(operator+stream.peek());){state.pushExpressionChar(stream.peek());
operator=operator+stream.next()}if(operator===";")state.endStatement();var isError=state.operator&&!this.unaryOperators_.has(state.operator)&&!this.unaryOperators_.has(operator);state.setOperator(operator);parseState.state=ParseState.INIT;if(isError)return Token.ERROR;return Token.OPERATOR};Tokenizer.prototype.processStringState_=function(stream,parseState,state,c){if(c==null)return Token.STRING;do{var cnext=stream.next();c=cnext==null?"":cnext;state.token+=c;state.pushExpressionChar(c);if(c==="\\"){parseState.state=
ParseState.IN_ESCAPE;return Token.ESCAPE}else if(c==="'"){parseState.state=ParseState.INIT;return Token.STRING}}while(c&&stream.peek()!=null);return Token.ERROR};Tokenizer.prototype.processEscapeState_=function(stream,parseState,state,c){if(c==null)return Token.STRING;stream.next();state.token+=c;state.pushExpressionChar(c);parseState.state=ParseState.IN_STRING;return Token.QUOTE};Tokenizer.prototype.processCommentState_=function(stream,parseState,state,c){if(c==null)return Token.COMMENT;do{var cnext=
stream.next();c=cnext==null?"":cnext;if(c=="\n"){parseState.state=ParseState.INIT;return Token.COMMENT}}while(stream.peek()!=null&&c&&!stream.eol());return Token.COMMENT};return{electricChars:")}]",closeBrackets:{pairs:"()[]{}''"},fold:"indent",lineComment:"#",startState:function(basecolumn){return{"tokenize":new TokenizerState(new Tokenizer)}},copyState:function(state){return{"tokenize":state["tokenize"].cloneState()}},token:function(stream,state){return getTokenName(state["tokenize"].tokenizer.getNextToken(stream,
state["tokenize"]))},indent:function(state,textAfter){return state["tokenize"].tokenizer.indent(state["tokenize"],textAfter)}}});CodeMirror.defineMIME("text/x-wfl",{name:"wfl"});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var htmlConfig={autoSelfClosers:{"area":true,"base":true,"br":true,"col":true,"command":true,"embed":true,"frame":true,"hr":true,"img":true,"input":true,"keygen":true,"link":true,"meta":true,"param":true,"source":true,"track":true,"wbr":true,"menuitem":true},implicitlyClosed:{"dd":true,
"li":true,"optgroup":true,"option":true,"p":true,"rp":true,"rt":true,"tbody":true,"td":true,"tfoot":true,"th":true,"tr":true},contextGrabbers:{"dd":{"dd":true,"dt":true},"dt":{"dd":true,"dt":true},"li":{"li":true},"option":{"option":true,"optgroup":true},"optgroup":{"optgroup":true},"p":{"address":true,"article":true,"aside":true,"blockquote":true,"dir":true,"div":true,"dl":true,"fieldset":true,"footer":true,"form":true,"h1":true,"h2":true,"h3":true,"h4":true,"h5":true,"h6":true,"header":true,"hgroup":true,
"hr":true,"menu":true,"nav":true,"ol":true,"p":true,"pre":true,"section":true,"table":true,"ul":true},"rp":{"rp":true,"rt":true},"rt":{"rp":true,"rt":true},"tbody":{"tbody":true,"tfoot":true},"td":{"td":true,"th":true},"tfoot":{"tbody":true},"th":{"td":true,"th":true},"thead":{"tbody":true,"tfoot":true},"tr":{"tr":true}},doNotIndent:{"pre":true},allowUnquoted:true,allowMissing:true,caseFold:true};var xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,
allowMissing:false,allowMissingTagName:false,caseFold:false};CodeMirror.defineMode("xml",function(editorConf,config_){function inText(stream,state){function chain(parser){state.tokenize=parser;return parser(stream,state)}var ch=stream.next();if(ch=="<")if(stream.eat("!"))if(stream.eat("["))if(stream.match("CDATA["))return chain(inBlock("atom","]]\x3e"));else return null;else if(stream.match("--"))return chain(inBlock("comment","--\x3e"));else if(stream.match("DOCTYPE",true,true)){stream.eatWhile(/[\w\._\-]/);
return chain(doctype(1))}else return null;else if(stream.eat("?")){stream.eatWhile(/[\w\._\-]/);state.tokenize=inBlock("meta","?>");return"meta"}else{type=stream.eat("/")?"closeTag":"openTag";state.tokenize=inTag;return"tag bracket"}else if(ch=="&"){var ok;if(stream.eat("#"))if(stream.eat("x"))ok=stream.eatWhile(/[a-fA-F\d]/)&&stream.eat(";");else ok=stream.eatWhile(/[\d]/)&&stream.eat(";");else ok=stream.eatWhile(/[\w\.\-:]/)&&stream.eat(";");return ok?"atom":"error"}else{stream.eatWhile(/[^&<]/);
return null}}function inTag(stream,state){var ch=stream.next();if(ch==">"||ch=="/"&&stream.eat(">")){state.tokenize=inText;type=ch==">"?"endTag":"selfcloseTag";return"tag bracket"}else if(ch=="="){type="equals";return null}else if(ch=="<"){state.tokenize=inText;state.state=baseState;state.tagName=state.tagStart=null;var next=state.tokenize(stream,state);return next?next+" tag error":"tag error"}else if(/['"]/.test(ch)){state.tokenize=inAttribute(ch);state.stringStartCol=stream.column();return state.tokenize(stream,
state)}else{stream.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}}function inAttribute(quote){var closure=function(stream,state){for(;!stream.eol();)if(stream.next()==quote){state.tokenize=inTag;break}return"string"};closure.isInAttribute=true;return closure}function inBlock(style,terminator){return function(stream,state){for(;!stream.eol();){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function doctype(depth){return function(stream,state){var ch;
for(;(ch=stream.next())!=null;)if(ch=="<"){state.tokenize=doctype(depth+1);return state.tokenize(stream,state)}else if(ch==">")if(depth==1){state.tokenize=inText;break}else{state.tokenize=doctype(depth-1);return state.tokenize(stream,state)}return"meta"}}function lower(tagName){return tagName&&tagName.toLowerCase()}function Context(state,tagName,startOfLine){this.prev=state.context;this.tagName=tagName||"";this.indent=state.indented;this.startOfLine=startOfLine;if(config.doNotIndent.hasOwnProperty(tagName)||
state.context&&state.context.noIndent)this.noIndent=true}function popContext(state){if(state.context)state.context=state.context.prev}function maybePopContext(state,nextTagName){var parentTagName;for(;true;){if(!state.context)return;parentTagName=state.context.tagName;if(!config.contextGrabbers.hasOwnProperty(lower(parentTagName))||!config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName)))return;popContext(state)}}function baseState(type,stream,state){if(type=="openTag"){state.tagStart=
stream.column();return tagNameState}else if(type=="closeTag")return closeTagNameState;else return baseState}function tagNameState(type,stream,state){if(type=="word"){state.tagName=stream.current();setStyle="tag";return attrState}else if(config.allowMissingTagName&&type=="endTag"){setStyle="tag bracket";return attrState(type,stream,state)}else{setStyle="error";return tagNameState}}function closeTagNameState(type,stream,state){if(type=="word"){var tagName=stream.current();if(state.context&&state.context.tagName!=
tagName&&config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))popContext(state);if(state.context&&state.context.tagName==tagName||config.matchClosing===false){setStyle="tag";return closeState}else{setStyle="tag error";return closeStateErr}}else if(config.allowMissingTagName&&type=="endTag"){setStyle="tag bracket";return closeState(type,stream,state)}else{setStyle="error";return closeStateErr}}function closeState(type,_stream,state){if(type!="endTag"){setStyle="error";return closeState}popContext(state);
return baseState}function closeStateErr(type,stream,state){setStyle="error";return closeState(type,stream,state)}function attrState(type,_stream,state){if(type=="word"){setStyle="attribute";return attrEqState}else if(type=="endTag"||type=="selfcloseTag"){var tagName=state.tagName;var tagStart=state.tagStart;state.tagName=state.tagStart=null;if(type=="selfcloseTag"||config.autoSelfClosers.hasOwnProperty(lower(tagName)))maybePopContext(state,tagName);else{maybePopContext(state,tagName);state.context=
new Context(state,tagName,tagStart==state.indented)}return baseState}setStyle="error";return attrState}function attrEqState(type,stream,state){if(type=="equals")return attrValueState;if(!config.allowMissing)setStyle="error";return attrState(type,stream,state)}function attrValueState(type,stream,state){if(type=="string")return attrContinuedState;if(type=="word"&&config.allowUnquoted){setStyle="string";return attrState}setStyle="error";return attrState(type,stream,state)}function attrContinuedState(type,
stream,state){if(type=="string")return attrContinuedState;return attrState(type,stream,state)}var indentUnit=editorConf.indentUnit;var config={};var defaults=config_.htmlMode?htmlConfig:xmlConfig;var prop;for(prop in defaults)config[prop]=defaults[prop];for(prop in config_)config[prop]=config_[prop];var type;var setStyle;inText.isInText=true;return{startState:function(baseIndent){var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null};if(baseIndent!=
null)state.baseIndent=baseIndent;return state},token:function(stream,state){if(!state.tagName&&stream.sol())state.indented=stream.indentation();if(stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);if((style||type)&&style!="comment"){setStyle=null;state.state=state.state(type||style,stream,state);if(setStyle)style=setStyle=="error"?style+" error":setStyle}return style},indent:function(state,textAfter,fullLine){var context=state.context;if(state.tokenize.isInAttribute)if(state.tagStart==
state.indented)return state.stringStartCol+1;else return state.indented+indentUnit;if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\s*)/)[0].length:0;if(state.tagName)if(config.multilineTagIndentPastTag!==false)return state.tagStart+state.tagName.length+2;else return state.tagStart+indentUnit*(config.multilineTagIndentFactor||1);if(config.alignCDATA&&/<!\[CDATA\[/.test(textAfter))return 0;var tagAfter=textAfter&&
/^<(\/)?([\w_:\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1])for(;context;)if(context.tagName==tagAfter[2]){context=context.prev;break}else if(config.implicitlyClosed.hasOwnProperty(lower(context.tagName)))context=context.prev;else break;else if(tagAfter)for(;context;){var grabbers=config.contextGrabbers[lower(context.tagName)];if(grabbers&&grabbers.hasOwnProperty(lower(tagAfter[2])))context=context.prev;else break}for(;context&&context.prev&&!context.startOfLine;)context=context.prev;if(context)return context.indent+
indentUnit;else return state.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:config.htmlMode?"html":"xml",helperType:config.htmlMode?"html":"xml",skipAttribute:function(state){if(state.state==attrValueState)state.state=attrState},xmlCurrentTag:function(state){return state.tagName?{name:state.tagName,close:state.type=="closeTag"}:null},xmlCurrentContext:function(state){var context=[];var cx=state.context;for(;cx;cx=cx.prev)context.push(cx.tagName);
return context.reverse()}}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html"))CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("yaml",function(){var cons=["true","false","on","off","yes","no"];var keywordRegex=new RegExp("\\b(("+cons.join(")|(")+"))$","i");return{token:function(stream,state){var ch=stream.peek();var esc=state.escaped;state.escaped=false;if(ch=="#"&&(stream.pos==
0||/\s/.test(stream.string.charAt(stream.pos-1)))){stream.skipToEnd();return"comment"}if(stream.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(state.literal&&stream.indentation()>state.keyCol){stream.skipToEnd();return"string"}else if(state.literal)state.literal=false;if(stream.sol()){state.keyCol=0;state.pair=false;state.pairStart=false;if(stream.match("---"))return"def";if(stream.match("..."))return"def";if(stream.match(/\s*-\s+/))return"meta"}if(stream.match(/^(\{|\}|\[|\])/)){if(ch==
"{")state.inlinePairs++;else if(ch=="}")state.inlinePairs--;else if(ch=="[")state.inlineList++;else state.inlineList--;return"meta"}if(state.inlineList>0&&!esc&&ch==","){stream.next();return"meta"}if(state.inlinePairs>0&&!esc&&ch==","){state.keyCol=0;state.pair=false;state.pairStart=false;stream.next();return"meta"}if(state.pairStart){if(stream.match(/^\s*(\||>)\s*/)){state.literal=true;return"meta"}if(stream.match(/^\s*(&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(state.inlinePairs==0&&stream.match(/^\s*-?[0-9\.,]+\s?$/))return"number";
if(state.inlinePairs>0&&stream.match(/^\s*-?[0-9\.,]+\s?(?=(,|}))/))return"number";if(stream.match(keywordRegex))return"keyword"}if(!state.pair&&stream.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)){state.pair=true;state.keyCol=stream.indentation();return"atom"}if(state.pair&&stream.match(/^:\s*/)){state.pairStart=true;return"meta"}state.pairStart=false;state.escaped=ch=="\\";stream.next();return null},startState:function(){return{pair:false,pairStart:false,
keyCol:0,inlinePairs:0,inlineList:0,literal:false,escaped:false}},lineComment:"#",fold:"indent"}});CodeMirror.defineMIME("text/x-yaml","yaml");CodeMirror.defineMIME("text/yaml","yaml")});/*

 Copyright (C) 2012 by Marijn Haverbeke <marijnh@gmail.com>

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

 Please note that some subdirectories of the CodeMirror distribution
 include their own LICENSE files, and are released under different
 licences.
*/
(function(){function words(str){var obj={};var words=str.split(" ");var i=0;for(;i<words.length;++i)obj[words[i]]=true;return obj}var kgtypeConfig={name:"clike",keywords:words("access closed_set comment compatible_cotype default_property "+"delegated deprecated DEPRECATED_DATA_DELETED "+"DEPRECATED_IN_MIGRATION DEPRECATED_READ_ONLY DEPRECATION_ANNOUNCED "+"deprecation_announcement_link deprecation_message "+"deprecation_status direct_subproperty "+"direct_superproperty disambiguator documentation "+
"domain_constraint domain effective_date english_description "+"english_name emql_extension enumeration equivalent_collection "+"expected_by expected_proto expected_type expects_cvt false"+"generated_by_rule hidden hume_index hume_non_editable id "+"included_type incompatible_with instance_of "+"is_candidate_domain is_cvt master_property mid never_assert "+"owner ownership permitted_process property property_relationship "+"range_constraint related_property relationship related_type "+"required_cotype reverse_property requires_permission schema "+
"schema_rule shared status strict_included_type superproperty "+"transitive_closure transitive_closure_of transitive_over "+"transitive_over_of triples_for_kg true type type_relationship "+"unique unit used_by_rule valid_bare_property"),blockKeywords:words("domain expected_type id ownership property schema "+"deprecation_status property_relationship schema_rule type type_relationship"),builtin:words("/type/boolean /type/rawstring /type/datetime /type/int"+"/type/float /type/uri /type/text"),atoms:words("true false"),
multiLineStrings:true,hooks:{}};CodeMirror.defineMIME("text/x-kgtype",kgtypeConfig)})();
