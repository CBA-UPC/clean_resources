/*! For license information please see async-explore-feature-190164e9119258567426.js.LICENSE.txt */
"use strict";(globalThis.webpackChunktinderweb=globalThis.webpackChunktinderweb||[]).push([[8948],{91797:(E,e,a)=>{a.d(e,{Z:()=>_});const t=E=>E?Object.fromEntries(Object.entries(E).sort()):E;function _(E,e){return JSON.stringify(t(E))===JSON.stringify(t(e))}},252095:(E,e,a)=>{a.d(e,{Ee:()=>C,NA:()=>c,NJ:()=>S,O:()=>o,OA:()=>n,R0:()=>A,VJ:()=>T,ZB:()=>s,bK:()=>d,eQ:()=>r,jd:()=>i,xF:()=>R,yD:()=>l});var t=a(799327),_=a(259052);const C=(0,t.PH)(_.FETCH_EXPLORE_DATA),S=(0,t.PH)(_.FETCH_EXPLORE_DATA_SUCCESS,(E=>E)),o=(0,t.PH)(_.FETCH_EXPLORE_DATA_FAILURE,(E=>E)),T=(0,t.PH)(_.FETCH_CAMPAIGN_DATA,(E=>({campaignId:E}))),c=(0,t.PH)(_.FETCH_CAMPAIGN_DATA_SUCCESS,(E=>E)),A=(0,t.PH)(_.FETCH_CAMPAIGN_DATA_FAILURE,(E=>E)),l=(0,t.PH)(_.OPT_IN_CATALOG,(({catalogId:E,isOptedIn:e})=>({catalogId:E,isOptedIn:e}))),s=(0,t.PH)(_.FETCH_CURATED_RECS,(E=>({catalogId:E}))),r=(0,t.PH)(_.FETCH_CURATED_RECS_SUCCESS,(E=>({catalogId:E}))),d=(0,t.PH)(_.FETCH_CURATED_RECS_FAILURE,(E=>({catalogId:E}))),R=(0,t.PH)(_.SET_CURATED_RECS_PAGE_INFO,((E,e)=>({catalogId:E,pageInfo:e}))),i=(0,t.PH)(_.FETCH_EXPLORE_CATALOG_THEME,((E,e)=>({themeId:E,catalogId:e}))),n=(0,t.PH)(_.FETCH_EXPLORE_CATALOG_THEME_SUCCESS,((E,e)=>({catalogId:e,theme:E})))},259052:(E,e,a)=>{a.r(e),a.d(e,{FETCH_CAMPAIGN_DATA:()=>o,FETCH_CAMPAIGN_DATA_FAILURE:()=>c,FETCH_CAMPAIGN_DATA_SUCCESS:()=>T,FETCH_CURATED_RECS:()=>A,FETCH_CURATED_RECS_FAILURE:()=>s,FETCH_CURATED_RECS_SUCCESS:()=>l,FETCH_EXPLORE_CATALOG_THEME:()=>R,FETCH_EXPLORE_CATALOG_THEME_FAILURE:()=>n,FETCH_EXPLORE_CATALOG_THEME_SUCCESS:()=>i,FETCH_EXPLORE_DATA:()=>_,FETCH_EXPLORE_DATA_FAILURE:()=>S,FETCH_EXPLORE_DATA_SUCCESS:()=>C,OPT_IN_CATALOG:()=>r,RECS_REFRESH_ACTION_TYPES:()=>t.RECS_REFRESH_ACTION_TYPES,SET_CURATED_RECS_PAGE_INFO:()=>d});var t=a(691220);const _="FETCH_EXPLORE_DATA",C="FETCH_EXPLORE_DATA_SUCCESS",S="FETCH_EXPLORE_DATA_FAILURE",o="FETCH_CAMPAIGN_DATA",T="FETCH_CAMPAIGN_DATA_SUCCESS",c="FETCH_CAMPAIGN_DATA_FAILURE",A="FETCH_CURATED_RECS",l="FETCH_CURATED_RECS_SUCCESS",s="FETCH_CURATED_RECS_FAILURE",r="OPT_IN_CATALOG",d="SET_CURATED_RECS_PAGE_INFO",R="FETCH_EXPLORE_CATALOG_THEME",i="FETCH_EXPLORE_CATALOG_THEME_SUCCESS",n="FETCH_EXPLORE_CATALOG_THEME_FAILURE"},619354:(E,e,a)=>{a.r(e),a.d(e,{fetchCampaignByIdSaga:()=>U,fetchCatalogThemeSaga:()=>u,fetchCuratedRecsSaga:()=>y,fetchExploreCatalogSaga:()=>F,fetchExploreCatalogWhenProfileChanges:()=>N,optInCatalogSaga:()=>p});var t=a(13241),_=a(343599),C=a(13124),S=a(50377),o=a(323662),T=a(799327),c=a(259668),A=a(91797),l=a(235430),s=a(517727),r=a(911654),d=a(386494),R=a(612596),i=a(909627),n=a(26879),O=a(918499),g=a(3088),P=a(252095),I=a(430825);function*H(){const E=yield(0,t.RE)(yield(0,t.RE)(l.ds,s.tq,"getExplore")),{data:e={}}=E||{},a=(0,_.ZP)(e,(E=>{const{catalog_groups:a}=E,t=new Set([]);a?.forEach((E=>{E.sections.forEach((E=>{E.items.forEach((E=>{E.deeplink_urls.some((E=>!(0,o.GD)(E)))&&(E.deeplink_urls=[])})),E.items=E.items.filter((E=>!!E.deeplink_urls.length||(t.add(E.catalog_id),!1)))})),E.sections=E.sections.filter((E=>E.items.length>0))})),E.catalog_groups=a?.filter((E=>E.sections.length>0)),E.next_catalog_ids=e.next_catalog_ids?.filter((E=>!t.has(E)))}));yield(0,t.gz)((0,P.NJ)(a))}const F=(0,c.bi)(H,{name:"fetchExploreCatalogSaga",*errorHandler(E){yield(0,t.gz)((0,P.O)(E))}});const N=(0,c.bi)((function*(E){const e=yield(0,t.Ys)(d.ts),{user:a}=E.payload.data??{};[a&&!(0,A.Z)(e,a),E.type===n.UPDATE_ANTHEM].some(Boolean)&&(yield(0,t.RE)(H))}),{name:"fetchExploreCatalogWhenProfileChanges",*errorHandler(E){yield(0,t.gz)((0,P.O)(E))}});const U=(0,c.bi)((function*(E){const{campaignId:e}=E.payload,a=yield(0,t.RE)(yield(0,t.RE)(l.ds,s.tq,"getCampaignById"),e),{data:_}=a||{};yield(0,t.gz)((0,P.NA)(_))}),{name:"fetchCampaignByIdSaga",*errorHandler(E){yield(0,t.gz)((0,P.R0)(E)),yield(0,t.gz)((0,r.c0)({icon:O.lG,theme:g.k3,title:[{id:"error"}],body:[{id:"Explore.errorNotificationDescription"}]}))}});const p=(0,c.bi)((function*(E){const{catalogId:e,isOptedIn:a}=E.payload;yield(0,t.RE)(yield(0,t.RE)(l.ds,s.tq,"updateExploreOption"),{catalog_id:e,is_opted_in:a}),yield(0,t.gz)((0,P.Ee)())}),{name:"optInCatalogSaga",*errorHandler(){yield(0,t.gz)((0,r.c0)({icon:O.lG,theme:g.k3,title:[{id:"error"}],body:[{id:"Explore.errorNotificationDescription"}]}))}});const y=(0,c.bi)((function*(E){const{catalogId:e}=E.payload,a=(0,C.s8)()?.readLever(S.m);try{const E=yield(0,t.RE)(yield(0,t.RE)(l.ds,s.tq,"getExploreRecs"),{catalog_id:e},{shouldSupportShortVideo:a}),_=yield(0,T.Ff)(E,i.E,!1),{result:C}=_,{queue:S}=C||{};if(yield(0,t.gz)((0,P.eQ)(e)),S?.length){const E={..._,result:{queue:S}};yield(0,t.gz)((0,R.$R)(E,e))}else yield(0,t.gz)((0,R.G5)())}catch(E){throw new Error(e)}}),{name:"fetchCuratedRecsSaga",*errorHandler(E){yield(0,t.gz)((0,P.bK)(E?.message))},errorSampleRate:.01});const u=(0,c.bi)((function*(E){const{themeId:e,catalogId:a}=E.payload;if(!e||!a)return;if(!(yield(0,t.Ys)(I.EI))(a)?.theme){const E=yield(0,t.RE)(yield(0,t.RE)(l.ds,s.zJ,"getTheme"),e),{data:_}=E;yield(0,t.gz)((0,P.OA)(_.curated_cardstack,a))}}),{name:"fetchCatalogThemeSaga"})},814782:(E,e,a)=>{a.r(e),a.d(e,{reducer:()=>d});var t=a(343599),_=a(112954),C=a.n(_),S=a(454936),o=a(610747),T=a(351843),c=a(691220),A=a(259052),l=a(746381);const s=(0,t.ZP)(((E,e)=>{switch(e.type){case A.FETCH_EXPLORE_DATA:E.fetchingStatus=T.ik;break;case A.FETCH_EXPLORE_DATA_SUCCESS:{const{catalog_groups:a,intro_modal:t,next_catalog_ids:_=o.ow}=e.payload||{};E.fetchingStatus=T.xQ,E.catalogGroups=a,E.introModal=t,E.nextCatalogIds=_;break}case A.FETCH_EXPLORE_DATA_FAILURE:E.fetchingStatus=T.Vy;break;case(0,T.dh)(e.type):return l.default.catalog}}),l.default.catalog),r=(0,t.ZP)(((E,e)=>{switch(e.type){case c.SET_ACTIVE_QUEUE:{const a=e.payload;C()(E,["activeCatalogId"],a);break}case A.FETCH_CURATED_RECS:{const{catalogId:a}=e.payload||{};C()(E,["catalogs",a,"fetchingStatus"],T.ik);break}case A.FETCH_CURATED_RECS_SUCCESS:{const{catalogId:a}=e.payload||{};C()(E,["catalogs",a,"fetchingStatus"],T.xQ);break}case A.FETCH_CURATED_RECS_FAILURE:{const{catalogId:a}=e.payload||{};a&&C()(E,["catalogs",a,"fetchingStatus"],T.Vy);break}case A.SET_CURATED_RECS_PAGE_INFO:{const{catalogId:a,pageInfo:t}=e.payload||{};a&&t&&Object.assign(E.catalogs?.[a]||{},t);break}case A.FETCH_EXPLORE_CATALOG_THEME_SUCCESS:{const{catalogId:a,theme:t}=e.payload||{};a&&t&&C()(E,["catalogs",a,"theme"],t);break}case(0,T.dh)(e.type):return l.default.curatedRecs}}),l.default.curatedRecs),d=(0,S.UY)({catalog:s,curatedRecs:r})},430825:(E,e,a)=>{a.d(e,{EI:()=>l,EN:()=>A,Gw:()=>S,LY:()=>o,Vv:()=>T,ul:()=>c});var t=a(57250);const _=(0,a(799327).cF)("explore"),C=(0,t.createSelector)(_,(E=>E.catalog)),S=(0,t.createSelector)(C,(E=>E.fetchingStatus)),o=(0,t.createSelector)(C,(E=>E.catalogGroups)),T=(0,t.createSelector)(C,(E=>E.nextCatalogIds)),c=(0,t.createSelector)(_,(E=>E.curatedRecs)),A=(0,t.createSelector)(c,(E=>E.activeCatalogId)),l=(0,t.createSelector)(c,(E=>e=>E.catalogs?.[e]))},909627:(E,e,a)=>{a.d(e,{E:()=>S,b:()=>o});var t=a(371948),_=a(994806),C=a(769756);const S=new t.yX({results:C.oO},{processResult:{queue:"results"}}),o=new t.yX({match:_.$})},26879:(E,e,a)=>{a.r(e),a.d(e,{CLEAR_SONG_SEARCH_RESPONSE:()=>t,CONNECT_SPOTIFY:()=>s,DISCONNECT_SPOTIFY:()=>r,DISCONNECT_SPOTIFY_SUCCESS:()=>d,GET_POPULAR_SONGS:()=>o,GET_POPULAR_SONGS_ERROR:()=>T,GET_POPULAR_SONGS_SUCCESS:()=>c,RESYNC_SPOTIFY_SUCCESS:()=>n,SEARCH_SONG:()=>_,SONG_SEARCH_RESPONSE_ERROR:()=>C,SONG_SEARCH_RESPONSE_SUCCESS:()=>S,SPOTIFY_CONNECT_AUTH:()=>l,SYNC_SPOTIFY:()=>R,SYNC_SPOTIFY_SUCCESS:()=>i,UPDATE_ANTHEM:()=>A,UPDATE_SPOTIFY_TOP_ARTISTS:()=>O});const t="spotify/CLEAR_SONG_SEARCH_RESPONSE",_="spotify/SEARCH_SONG",C="spotify/SONG_SEARCH_RESPONSE_ERROR",S="spotify/SONG_SEARCH_RESPONSE_SUCCESS",o="spotify/GET_POPULAR_SONGS",T="spotify/GET_POPULAR_SONGS_ERROR",c="spotify/GET_POPULAR_SONGS_SUCCESS",A="spotify/UPDATE_ANTHEM",l="SPOTIFY_CONNECT_AUTH",s="CONNECT_SPOTIFY",r="DISCONNECT_SPOTIFY",d="DISCONNECT_SPOTIFY_SUCCESS",R="SYNC_SPOTIFY",i="SYNC_SPOTIFY_SUCCESS",n="RESYNC_SPOTIFY_SUCCESS",O="UPDATE_SPOTIFY_TOP_ARTISTS"}}]);