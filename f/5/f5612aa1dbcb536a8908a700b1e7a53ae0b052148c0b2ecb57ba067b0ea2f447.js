(window.webpackJsonp_name_chunkhash_=window.webpackJsonp_name_chunkhash_||[]).push([[8],{"../node_modules/mini-css-extract-plugin/dist/loader.js?!../node_modules/css-loader/index.js?!../node_modules/sass-loader/dist/cjs.js?!../node_modules/postcss-loader/lib/index.js?!./components/common/css/PollCard.scss":"./components/common/PollCard.js":function(e,t,n){"use strict";n.r(t);var o=n("../node_modules/react/index.js"),a=n.n(o),l=n("./components/common/css/PollCard.scss"),s=n("./components/lib/analytics/index.js"),c=n("./utils/util.js"),r=(n("./components/common/ssoLogin.js"),,i=Object(c.h)();t.default=function(e){var t=Object(o.useState)(""),n=r(t,2),d=n[0],m=n[1],u=e.data,p=u.pollid.toString(),h="true"==e.widget?"pollContainer wdt":"pollContainer";Object(o.useEffect)((function(){!function(){document.getElementById("captcha").innerHTML="";for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@!#$%^&*",t=[],n=0;n<6;n++){var o=Math.floor(Math.random()*e.length+1);-1==t.indexOf(e[o])?t.push(e[o]):n--}var a=document.createElement("canvas");a.id="captcha",a.width=100,a.height=50;var l=a.getContext("2d");l.font="25px Georgia",l.strokeText(t.join(""),0,30),m(t.join("")),document.getElementById("captcha").appendChild(a)}()}),[]);return a.a.createElement("div",{id:"polldiv","data-attr":"polldiv","data-exclude":"amp",className:h},a.a.createElement("form",{method:"post",name:"pollform_"+p,id:"pollform_"+p},a.a.createElement("h4",null,u.polltext),a.a.createElement("div",{className:"poll_content"},a.a.createElement("ul",null,u.polloption&&u.polloption.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement("label",null,e.optiontext,a.a.createElement("input",{className:"form-input",type:"radio",valign:"center",name:"PRadio",value:e.optionno,required:"required"})))})),a.a.createElement("input",{type:"hidden",name:"txtPolliD",value:p}),a.a.createElement("input",{type:"hidden",name:"clname",value:"VSNL"})),a.a.createElement("div",{className:"captcha-box"},a.a.createElement("div",{className:"customcaptcha"},a.a.createElement("div",{id:"captcha"}),a.a.createElement("div",null,a.a.createElement("input",{type:"text",placeholder:"Enter Captcha",id:"cpatchaTextBox",className:"captchatxtbox"}))),a.a.createElement("input",{type:"submit",className:l.a.btnsubmit+" btnsubmit",onClick:function(e){e.preventDefault();for(var t=e.target;"FORM"!=t.nodeName;)t=t.parentElement;if(document.getElementById("cpatchaTextBox").value!=d)return console.log(document.getElementById("cpatchaTextBox").value,d),!1;if(console.log(document.getElementById("cpatchaTextBox").value,d),null==t.PRadio.value||null==t.PRadio.value||""==t.PRadio.value)return alert("Please select an Option"),!1;var n=Array.from(new FormData(t),().join("&"),o=process.env.API_BASEPOINT+"/off-url-forward/wdt_polllistresult.cms";fetch(o,{method:"post",body:n,headers:{Accept:"application/json, application/xml, text/play, text/html, *.*","Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}}).then(().then((function(e){document.getElementById("pollform_"+p).innerHTML=e,s.a.event(i.poll_ga.poll_submit),document.querySelectorAll(".progress-child").forEach((function(e,t){e.style.width=parseInt(e.getAttribute("data-progress-percent"))+"%"}))})).catch(();var a=!!window._user;document.getElementById("polldivLoginLayer_"+p).classList.remove("hide"),document.getElementById("pollform_"+p).classList.add("hide");var l=Object(c.g)("POLLID"+p);null!=l&&null!=l&&(document.getElementById("votemsg_"+p).innerHTML=i.locale.votealready),document.getElementById("polldivLoginLayer_"+p).classList.add("hide"),document.getElementById("pollform_"+p).classList.remove("hide"),a?s.a.event(i.poll_ga.poll_result_loggedIn):s.a.event(i.poll_ga.poll_result_nonloggedIn)}.bind(void 0),id:"submit_"+p,value:i.locale.submit_vote})))),a.a.createElement("div",{className:"hide login-before-result",id:"polldivLoginLayer_"+p},a.a.createElement("span",{className:"check_icon"}),a.a.createElement("h5",null,a.a.createElement("span",{id:"votemsg_"+p},i.locale.votesuccessfully),i.locale.thanks)))}},"./components/common/css/PollCard.scss":function(e,t,n){"use strict";var o=n("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n.n(o),l=n("../node_modules/mini-css-extract-plugin/dist/loader.js?!../node_modules/css-loader/index.js?!../node_modules/sass-loader/dist/cjs.js?!../node_modules/postcss-loader/lib/index.js?!./components/common/css/PollCard.scss"),s=n.n(l),c={insert:"head",singleton:!1};a()(s.a,c);t.a=s.a.locals||{}}}]);