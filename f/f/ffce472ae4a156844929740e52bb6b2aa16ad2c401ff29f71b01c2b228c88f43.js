/*! For license information please see log-reporter.js.LICENSE.txt */
(()=>{var e,t,r={5282:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(5671),o=r(3144),i=r(5440),a=r(5753),s=r(2884),u=r(8185),c=r(4942),l=r(4625);const f=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;(0,n.Z)(this,e),(0,c.Z)(this,"timer",null),(0,c.Z)(this,"time",{day:0,start:0,duration:0}),(0,c.Z)(this,"lsid",""),this.time.duration=60*t*1e3,this.init()}return(0,o.Z)(e,[{key:"init",value:function(){var e=s.Z.getCookie("b_lsid")||"",t=e.split("_");if(t[1]){var r=this.splitDate(parseInt(t[1],16)||-1);this.lsid=e,this.time.start=r.millisecond,this.time.day=r.day}this.check(),this.interval()}},{key:"interval",value:function(){var e=this;this.timer||(this.timer=setTimeout((function(){e.check(),clearTimeout(e.timer),e.timer=null,e.interval()}),1e4))}},{key:"generate",value:function(){var e=this.splitDate(),t=(0,l.G$)(e.millisecond),r="".concat((0,l.Q4)(8),"_").concat(t);this.lsid=r,this.time.start=e.millisecond,this.time.day=e.day,s.Z.setCookie("b_lsid",r,0,"current-domain")}},{key:"check",value:function(){this.lsid=s.Z.getCookie("b_lsid")||"",Date.now()-this.time.start>=this.time.duration&&this.generate(),this.splitDate().day!==this.time.day&&this.generate()}},{key:"splitDate",value:function(e){var t=new Date(e||Date.now()),r=t.getDate(),n=t.getHours(),o=t.getMinutes(),i=t.getTime();return{day:r,hour:n,minute:o,second:Math.floor(i/1e3),millisecond:i}}}]),e}());var d=r(8537);const p=new(function(){function e(){var t=this;(0,n.Z)(this,e),this.requestQueue=[],this.requestLimit=6,this.msgObject=null,this.cache={},this.extsMsgConfg={},location.href.indexOf("bilihttps")>-1?this.baseURL="https://".concat(a.Z.dataHost,"/log/web"):this.baseURL="//".concat(a.Z.dataHost,"/log/web"),this.spmPrefix=s.Z.getSpmPrefix(),this.buvidFp=s.Z.getCookie("buvid_fp"),this.buvid4=s.Z.getCookie("buvid4"),this.initLogIdConfig(),this.updateConfig(),this.reportSelfDef=function(){},this.reportErrorSelfDef=function(){},setInterval((,1e3)}return(0,o.Z)(e,[{key:"initLogIdConfig",value:,{key:"updateConfig",value:function(){var e=this.logIdConfig,t=(new Date).getTime().toString(),r=encodeURIComponent(window.location.href).substr(0,1e3),n=window.innerWidth||document.body&&document.body.clientWidth,o=window.innerHeight||document.body&&document.body.clientHeight,i=u.Z.ptype(),a=s.Z.getCookie("laboratory"),c=document.referrer?encodeURIComponent(document.referrer).substr(0,1e3):"",l=s.Z.getDefaultAbtestInfo(window.abtest);this.msgConfig={appear:{logId:e.appear+t,url:r,spm_id:this.spmPrefix+".0.0",timestamp:t,browser_resolution:n+"x"+o,ptype:i,msg:"",language:"",abtest:l,is_selfdef:0},click:{logId:e.click+t,url:r,spm_id:this.spmPrefix+".0.0",target_url:"",timestamp:t,screenx:"",screeny:"",browser_resolution:n+"x"+o,ptype:i,msg:"",abtest:l,refer_url:c,_uuid:s.Z.getCookie("_uuid"),language:navigator.language,laboratory:a,is_selfdef:0},pv:{logId:e.pv+t,url:r,refer_url:c,spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",timestamp:t,fts:s.Z.getCookie("fts")?s.Z.getCookie("fts"):"",browser_resolution:n+"x"+o,ptype:i,msg:"",abtest:l,_uuid:s.Z.getCookie("_uuid"),language:navigator.language,laboratory:a,is_selfdef:0},abtest:{logId:e.abtest+t,url:r,refer_url:c,spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",timestamp:t,fts:s.Z.getCookie("fts")?s.Z.getCookie("fts"):"",browser_resolution:n+"x"+o,ptype:i,msg:"",abtest:l,_uuid:s.Z.getCookie("_uuid")},performance:{logId:e.performance+t,url:r,spm_id:this.spmPrefix?this.spmPrefix+".0.0":"",browser_resolution:n+"x"+o,navigationStart:"",unloadEventStart:"",unloadEventEnd:"",redirectStart:"",redirectEnd:"",fetchStart:"",domainLookupStart:"",domainLookupEnd:"",connectStart:"",connectEnd:"",secureConnectionStart:"",requestStart:"",responseStart:"",responseEnd:"",domLoading:"",domInteractive:"",domContentLoadedEventStart:"",domContentLoadedEventEnd:"",domComplete:"",loadEventStart:"",loadEventEnd:"",firstscreenfinish:"",ptype:i,language:"",abtest:l},h5_selfDef:s.Z.assignObject({logId:e.h5_selfDef+t,url:r,refer_url:c,spm_id:this.spmPrefix+".0.0",timestamp:t,fts:s.Z.getCookie("fts")?s.Z.getCookie("fts"):"",browser_resolution:n+"x"+o,ptype:i,avid:0,bsource:window.bsource||"default",args:void 0,abtest:l,_uuid:s.Z.getCookie("_uuid"),brand:"",model:"",system:"",network_type:"",session_id:"",unique_k:"",ua_source:"",type:"",platform:"",page_id:"",pageview_id:"",share_session_id:""},this.extsMsgConfg.h5_selfDef||{}),errorLog:{logId:e.errorLog+t},tech:{logId:e.tech+t,url:r,spm_id:this.spmPrefix+".0.0",target_url:"",timestamp:t,screenx:"",screeny:"",browser_resolution:n+"x"+o,ptype:i,msg:"",abtest:l,refer_url:c,uuid:s.Z.getCookie("_uuid"),language:navigator.language,laboratory:a,is_selfdef:0}}}},{key:"updateConfigByType",value:,{key:"setSearchPage",value:function(){var e=(new Date).getTime();this.secondMsgConfig=s.Z.cloneObj(this.msgConfig),this.secondMsgConfig.click.logId="000045"+e,this.secondMsgConfig.pv.logId="000043"+e,this.secondMsgConfig.performance.logId="000044"+e,delete this.secondMsgConfig.pv.abtest,delete this.secondMsgConfig.click.abtest,delete this.secondMsgConfig.errorLog,delete this.secondMsgConfig.appear,delete this.secondMsgConfig.h5_selfDef}},{key:"setSPM_id",value:,{key:"setMsgObject",value:,{key:"sendUnloadEvent",value:function(){this.msgObject&&(this.msgObject.unload={enter:performance&&performance.timing&&performance.timing.domComplete,leave:Date.now()}),this.checkMsgObjects()}},{key:"checkRequests",value:,{key:"checkMsgObjects",value:function(){var e=this.msgObject;for(var t in e)"tryCatchError"===t?this.reportErrorSelfDef(t,e[t]):this.reportSelfDef(t,e[t]),delete e[t]}},{key:"checkBuvidFp",value:function(){return this.buvidFp=s.Z.isInIframe()?"buvid_fp_iframe"+(0,l.Rl)():s.Z.getCookie("buvid_fp"),this.buvidFp}},{key:"checkBuvid4",value:function(){return this.buvid4=s.Z.getCookie("buvid4"),s.Z.isBuvid(this.buvid4)||s.Z.getBuvidGroup(),this.buvid4}},{key:"checkrequestPool",value:function(){var e=this,t=this.requestQueue.length;if(t&&(this.buvidFp||this.checkBuvidFp())){var r=[];t>this.requestLimit?r=this.requestQueue.splice(0,this.requestLimit):(r=this.requestQueue,this.requestQueue=[]),r.forEach(()}}},{key:"reportWithSpmPrefix",value:function(e,t,r){if(e&&t){var n={screenx:0,screeny:0};n.timestamp=Date.parse(new Date),n.url=encodeURIComponent(window.location.href),n.spm_id=e+".selfDef."+t,n.target_url="";var o={event:t,value:r};n.msg=JSON.stringify(o).replace(/"/g,"%22"),this.receiveMsg({type:"click",obj:n})}}},{key:"sendFpRisk",value:function(e,t){t&&(this.cache.fpriskMsg=t),e=e||{};var r=Object.assign({},this.cache.fpriskMsg||{},e.msg);this.receiveMsg({type:"tech",obj:Object.assign({is_selfdef:1},e,{spm_id:e.spm_id||this.spmPrefix+".fp.risk",msg:r})}),(0,d.b)(Object.assign({},this.msgConfig.tech,{spm_id:e.spm_id||this.spmPrefix+".fp.risk"}))}},{key:"reportCustomData",value:function(e,t){var r=this;"fprisk"!==e?-1!==["pv","click","appear","tech"].indexOf(e)&&(t.is_selfdef=1,s.Z.isValidBuvid()?this.receiveMsg({type:e,obj:t}):s.Z.getBuvidGroup().then(()):this.sendFpRisk(t)}},{key:"receiveMsg",value:function(e,t){var r=e.type,n=e.obj;this.updateConfig();var o=s.Z.assignObject(this.msgConfig[r],n);if(this.reportMsg(o,t),this.secondMsgConfig&&this.secondMsgConfig[r]){var i=s.Z.assignObject(this.secondMsgConfig[r],n);this.reportMsg(i,t)}}},{key:"receiveGroupMsg",value:function(e){var t=e.type,r=e.obj;this.updateConfig();var n=s.Z.assignObject(this.msgConfig[t],r);if(this.requestQueue.push(n),this.secondMsgConfig&&this.secondMsgConfig[t]){var o=s.Z.assignObject(this.secondMsgConfig[t],r);this.requestQueue.push(o)}}},{key:"reportMsg",value:function(e,t){if(t||this.buvidFp&&this.buvid4)return this.sendMsg(e);this.requestQueue.push(e)}},{key:"sendMsg",value:function(e){var t={lsid:f.lsid,buvid_fp:this.buvidFp||s.Z.getCookie("buvid_fp"),buvid4:encodeURIComponent(this.buvid4||s.Z.getCookie("buvid4")),bsource_origin:s.Z.getQueryParam("bsource")||s.Z.getCookie("bsource_origin")||"empty",share_source_origin:s.Z.getQueryParam("share_source")||s.Z.getCookie("share_source_origin")||"empty"};void 0!==e.msg&&(e.msg=s.Z.mergeBNutMsg(e.msg,t)),void 0!==e.args&&(e.args=s.Z.mergeBNutMsg(e.args,t));var r="";for(var n in e)"function"!=typeof e[n]&&(r+=e[n]+"|");r=(r=r.substring(0,r.length-1)).replace("|",""),i.Z.useBeacon("".concat(this.baseURL,"?").concat(r))}}]),e}())},5753:8537:(e,t,r)=>{"use strict";r.d(t,{i:()=>S,b:()=>b});var n,o=r(4942),i=r(2884),a=r(5440),s=r(8820),u=r.n(s),c=r(5282),l=r(5753),f=r(1002),d=r(5671),p=r(3144),h=r(4625),v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"beer",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{limit:20};(0,d.Z)(this,e),(0,o.Z)(this,"key",""),(0,o.Z)(this,"sub",""),(0,o.Z)(this,"start",20090626),(0,o.Z)(this,"time",{day:0,start:0,duration:0}),(0,o.Z)(this,"option",{}),this.key=r,this.sub=n,this.option=i,this.time.duration=60*t*1e3,this.init()}return(0,p.Z)(e,[{key:"timers",get:,{key:"oTimer",get:function(){var e=this.timers[this.key];return this.sub?null==e?void 0:e[this.sub]:e}},{key:"timer",get:,{key:"isNew",get:function(){return parseInt(this.timer,16)===this.start&&(this.setTimer((0,h.G$)(Date.now())),!0)}},{key:"init",value:function(){var e=parseInt(this.oTimer||0,16);if(e>this.start){var t=this.splitDate(e);this.time.start=t.millisecond,this.time.day=t.day}this.check()}},{key:"check",value:function(){Date.now()-this.time.start>=this.time.duration?this.reset():this.splitDate().day!==this.time.day&&this.reset()}},{key:"reset",value:function(){var e=this.splitDate();this.time.start=e.millisecond,this.time.day=e.day,this.setTimer((0,h.G$)(this.start))}},{key:"limitCheck",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"===(0,f.Z)(t[this.key])){var r=Object.keys(t[this.key]);r.length>=this.option.limit&&r.splice(0,r.length-this.option.limit).forEach((function(r){return delete t[e.key][r]}))}return t}},{key:"setTimer",value:function(e){var t=this.limitCheck(this.parseTimer());if(this.sub){t[this.key]=t[this.key]||{};try{t[this.key][this.sub]=e}catch(r){t[this.key]=(0,o.Z)({},this.sub,e)}}else t[this.key]=e;"undefined"!=typeof window&&window.sessionStorage&&window.sessionStorage.setItem("b_timer",JSON.stringify(t))}},{key:"parseTimer",value:function(){var e=sessionStorage.getItem("b_timer")||"{}";try{return JSON.parse(e)}catch(e){var t=(0,o.Z)({},this.key,(0,h.G$)(Date.now()));return"undefined"!=typeof window&&window.sessionStorage&&window.sessionStorage.setItem("b_timer",JSON.stringify(t)),t}}},{key:"splitDate",value:function(e){var t=new Date(e||Date.now()),r=t.getDate(),n=t.getHours(),o=t.getMinutes(),i=t.getTime();return{day:r,hour:n,minute:o,second:Math.floor(i/1e3),millisecond:i}}}]),e}(),g=null,m=(n={url:"03bf",spm_id:"39c8",target_url:"34f1",timestamp:"5062",screenx:"d402",screeny:"654a",browser_resolution:"6e7c",ptype:"3064",msg:"3c43",abtest:"54ef",refer_url:"8b94",uuid:"df35",language:"5ce3",laboratory:"5f45",is_selfdef:"db46",addBehavior:"6527",audio:"d02f",availableScreenResolution:"d61f",b_nut_h:"3bf4",buvid_fp:"737f",canva_novalid:"e8ad",canvas:"13ab",colorDepth:"5766",cookieEnabled:"807e",cpuClass:"d52f",deviceMemory:"1c57",fonts:"a658",hardwareConcurrency:"0bd0",hasLiedBrowser:"097b",hasLiedLanguages:"ed31",hasLiedOs:"72bd",hasLiedResolution:"2673",indexedDb:"7003"},(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)(n,"language","07a4"),"localStorage","3b21"),"lsid","507f"),"openDatabase","8a1c"),"platform","adca"),"plugins","80c9"),"screenResolution","748e"),"sessionStorage","75b8"),"timezone","6aa9"),"timezoneOffset","fc9d"),(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)(n,"touchSupport","52cd"),"userAgent","b8ce"),"webdriver","641c"),"webglVendorAndRenderer","6bc5"),"webgl_novalid","102a"),"webgl_params","a3c1"),"webgl_str","bfe9")),y=function(e){var t={};for(var r in e)m[r]&&(t[m[r]]=e[r]);return t},b=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;if(r&&new v(60,"ffp",e.spm_id+"_"+(null===(t=i.Z.getCookie("buvid3"))||void 0===t?void 0:t.slice(0,8)),{limit:20}).isNew){var n=w(r,!1),o=y(e||c.Z.msgConfig.tech);o[m.msg]=y(n),a.Z.post("//".concat(l.Z.apiHost,"/x/internal/gaia-gateway/ExClimbWuzhi"),JSON.stringify({payload:JSON.stringify(o)}),{"Content-type":"application/json;charset=UTF-8"})}},w=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.reduce((function(e,t){var r;switch(t.key){case"canvas":i.Z.isArray(t.value)?e.canvas=String(t.value[1]).substr(-20):(e.canvas="not available",e.canvas_novalid=t.value);break;case"webgl":var n,o,a;if(i.Z.isArray(t.value))e.webgl_str=String(null===(n=t.value)||void 0===n?void 0:n[0]).substr(-50),e.webgl_params=null===(o=t.value)||void 0===o||null===(a=o.slice(1))||void 0===a?void 0:a.map((function(e){return i.Z.transBoolToNum(e)}));else e.webgl_str="not available",e.webgl_params=[],e.webgl_novalid=t.value;break;default:e[t.key]=i.Z.isArray(t.value)?null===(r=t.value)||void 0===r?void 0:r.map(():i.Z.transBoolToNum(t.value)}return e}),{cookieEnabled:i.Z.transBoolToNum(navigator.cookieEnabled)});if(t)for(var n in r)i.Z.isArray(r[n])&&(r[n]=r[n].join(",,")),r[n]=i.Z.strEncodeURI(r[n]);return r},x=function(e){u().get((function(t){!function(e){var t=w(g=e,!0);c.Z.sendFpRisk({is_selfdef:0},t)}(t);var r=i.Z.getCookie("buvid_fp");if(!i.Z.isBuvidFp(r)){var n=t.map((function(e){return e.value})).join(""),o=u().x64hash128(n,31);i.Z.setCookie("buvid_fp",o,94608e3,"current-domain"),e&&e(o,t)}}))},S=function(e){var t=function(){x(e)};window.requestIdleCallback?requestIdleCallback(t):setTimeout(t,500)}},4625:(e,t,r)=>{"use strict";r.d(t,{G$:()=>a,Q4:()=>o,Rl:()=>n});var n=function(){var e=o(8),t=o(4),r=o(4),n=o(4),a=o(12),s=(new Date).getTime();return e+"-"+t+"-"+r+"-"+n+"-"+a+i((s%1e5).toString(),5)+"infoc"},o=function(e){for(var t="",r=0;r<e;r++)t+=a(16*Math.random());return i(t,e)},i=function(e,t){var r="";if(e.length<t)for(var n=0;n<t-e.length;n++)r+="0";return r+e},a=,2320:()=>{var e,t,r,n;window.performance&&window.performance.setResourceTimingBufferSize&&performance.setResourceTimingBufferSize(300),Array.from||(Array.from=(e=Object.prototype.toString,t=r=Math.pow(2,53)-1,n=)},8185:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(2884);var o={version:function(){var e,t,r,n,o,i=navigator.userAgent;navigator.appVersion;return{mobile:/AppleWebKit.*Mobile.*/i.test(i),ios:/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(i),android:/Android/i.test(i)||/Linux/i.test(i),windowsphone:/Windows Phone/i.test(i),iPhone:/iPhone/i.test(i),iPad:/iPad/i.test(i),webApp:!/Safari/i.test(i),MicroMessenger:/MicroMessenger/i.test(i),weibo:/Weibo/i.test(i),uc:/UCBrowser/i.test(i),qq:/MQQBrowser/i.test(i),baidu:/Baidu/i.test(i),mqq:/QQ\/([\d\.]+)/i.test(i),mbaidu:/baiduboxapp/i.test(i),iqiyi:/iqiyi/i.test(i),QQLive:/QQLive/i.test(i),Safari:(e=navigator.userAgent,t=/ OS \d/.test(e),r=!~e.indexOf("CriOS"),n=!e.indexOf("Mozilla"),o=/Safari\/[\d\.]+$/.test(e),t&&r&&n&&o),Youku:/youku/i.test(i),chrome:/CriOS/i.test(i),CMDC:/CMDC/i.test(i),xiaomiqjs:/MiuiQuickSearchBox/.test(i),baiduspider:/Baiduspider/.test(i),zhihu:/ZhihuHybrid/i.test(i),bcutWebApp:/bcut_windows/.test(i)}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};const i={identify:function(){var e=n.Z.getQueryParam("bsource"),t=n.Z.getQueryParam("share_source");if(e&&n.Z.setCookie("bsource_origin",e,0,"current-domain"),t&&n.Z.setCookie("share_source_origin",t,0,"current-domain"),window.bsourceFrom="",e)return window.bsourceFrom="url",n.Z.getQueryParam("bsource").toLowerCase();if(t){if(e={WEIXIN:"share_source_weixinchat",WEIXIN_MONMENT:"share_source_weixin_moments",WEIXIN_MONMENTS:"share_source_weixin_moments",QQ:"share_source_qqchat",QZONE:"share_source_qzone",QQZONE:"share_source_qzone",SINA:"share_source_weibo",WEIBO:"share_source_weibo",COPY:"share_source_copy_link",COPY_LINK:"share_source_copy_link",GENERIC:"share_source_more",MORE:"share_source_more",WEIBO_WEB:"share_source_weibo_web",QQ_WEB:"share_source_qqchat_web",QZONE_WEB:"share_source_qzone_web",TIEBA_WEB:"share_source_tieba_web",COPY_WEB:"share_source_copylink_web",WEIXIN_WEB:"share_source_weixinchat_web",ONPHONE_WEB:"share_source_onphone_web"}[n.Z.getQueryParam("share_source").toUpperCase()]||"")return window.bsourceFrom="share",e}var r=document.referrer;if(r){var i={search_360:/(.)*((baike.so.com)|(m.image.so.com)|(m.so.com)|(m.video.so.com)|(www.so.com))/,search_baidu:/(.)*\.baidu.com/,search_google:/(.)*\.google.com/,search_sm:/(.)*\.sm.cn/,search_sougo:/(.)*((m.soso.com)|(www.soso.com)|(\.sogou.com))/,search_bing:/(.)*\.bing.com/,search_yahoo:/(.)*\.yahoo.com/};for(var a in i)if(i[a].test(r))return window.bsourceFrom="refer",a}var s=n.Z.getCookie("bsource");if(s)return window.bsourceFrom="cookie",s;var u={baiduspider:"baiduspider",QQLive:"qqlive",mqq:"qq",weibo:"weibo",MicroMessenger:"wechat",mbaidu:"bdbox",iqiyi:"iqiyi_video_app",qq:"qqbrowser_app",uc:"uc_browser_app",xiaomiqjs:"xiaomiqjs",zhihu:"zhihu"};for(var c in u)if(o.version[c])return window.bsourceFrom="ua",u[c];window.bsourceFrom=""},ptype:function(){var e=n.Z.getPType();if(e)return e;var t=navigator.userAgent.toLowerCase(),r="ipad"==t.match(/ipad/i),o="iphone os"==t.match(/iphone os/i),i="midp"==t.match(/midp/i),a="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),s="ucweb"==t.match(/ucweb/i),u="android"==t.match(/android/i),c="windows ce"==t.match(/windows ce/i),l="windows mobile"==t.match(/windows mobile/i);return r||o||i||a||s||u||c||l?2:1},uaSource:function(){var e=navigator.userAgent.toLowerCase();if(/QQ\/([\d\.]+)/i.test(e))return"qq";var t={MicroMessenger:"wechat",wechat:"wechat","com.douban.frodo":"douban",doubanapp:"douban",baiduboxapp:"baidubox",baiduinput:"baiduinput","com.zhihu.android":"zhihu",zhihuhybrid:"zhihu",haokan:"haokan",IqiyiApp:"iqiyi","iqiyi IqiyiVersion":"iqiyi",Nga:"NGA",Weibo:"weibo",NewsArticle:"xigua",QQLiveBrowser:"qqlive","shence.hupu.com":"hupu",LetvMobileClient:"letv",Zuiyou:"zuiyou",CloudMusic:"cloudmusic",NeteaseMusic:"cloudmusic",tieba:"tieba",SogouSearch:"sogousearch",UCBrowser:"ucbrowser",baidubrowser:"baidubrowser",SogouMobileBrowser:"sogoumobilebrowser",HuaweiBrowser:"huaweibrowser",VivoBrowser:"vivobrowser",MiuiBrowser:"miuibrowser",oppobrowser:"oppobrowser",Quark:"quark",MQQBrowser:"mqqbrowser"};for(var r in t)if(e.indexOf(r.toLocaleLowerCase())>=0)return t[r];var n=/chrome/i.test(e)||/\b(?:crmo|crios)\/([\w\.]+)/i.test(e),o=/\bqihu|(qi?ho?o?|360)browser/i.test(e)||n&&!window.navigator.webkitPersistentStorage||Object.keys(window).some((function(e){return/qihoo/.test(e)}));switch(!0){case n:return"chromebrowser";case o:return"360browser"}return""},browser:o}},2884:(e,t,r)=>{"use strict";d(t,{Z:()=>b});var i=r(1002),a=r(4687),s=r.n(a),u="https://s1.hdslb.com",c="/bfs/seed/jinkela/short/cols/iframe.html",l="COLS_RES",f=function(){var e=o(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"!==document.readyState){e.next=3;break}return e.next=3,new Promise(();case 3:if((t=document.querySelector('iframe[src="'.concat(u).concat(c,'"]')))||((t=document.createElement("iframe")).src=u+c,t.style.display="none",document.body.appendChild(t)),t.dataset.count=(Number(t.dataset.count)||0)+1,!t.dataset.loaded){e.next=10;break}return e.abrupt("return",t);case 10:return e.abrupt("return",new Promise((function(e){t.addEventListener("load",(function r(){t.dataset.loaded=!0,t.removeEventListener("load",r),e(t)}))})));case 11:case"end":return e.stop()}}),e)})));return (),d=Math.round(65535*Math.random()),p=function(){return d+=1,d%=65535},h=function(){var e=o(s().mark((function e(t,r){var n,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&-1===(null===(n=t.indexOf)||void 0===n?void 0:n.call(t,":"))){e.next=2;break}throw new Error('namespace must be a string without ":"');case 2:if(i=(null==r?void 0:r.timeOut)||1e3,!navigator.vendor.match(/apple/i)){e.next=6;break}return e.abrupt("return",{getItem:function(e){return o(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",localStorage.getItem(t+":"+e));case 1:case"end":return r.stop()}}),r)})))()},setItem:function(e,r){return o(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",localStorage.setItem(t+":"+e,r));case 1:case"end":return n.stop()}}),n)})))()},removeItem:function(e){return o(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",localStorage.removeItem(t+":"+e));case 1:case"end":return r.stop()}}),r)})))()},keys:function(){return o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(localStorage).filter(().map(());case 1:case"end":return e.stop()}}),e)})))()},clear:function(){return o(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t+":",Object.keys(localStorage).filter(().forEach((function(e){return localStorage.removeItem(e)}));case 3:case"end":return e.stop()}}),e)})))()},listen:destroy:function(){}});case 6:return a=function(e){return new Promise((function(t,r){setTimeout((,i);window.addEventListener("message",(function r(n){n.data.type===l&&n.data.id===e&&(t(n.data.value),window.removeEventListener("message",r))}))}))},e.next=9,f();case 9:return c=e.sent,e.abrupt("return",{getItem:function(e){return o(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t+":"+e,n=p(),c.contentWindow.postMessage({type:"COLS_GET",key:e,id:n},u),r.abrupt("return",a(n));case 4:case"end":return r.stop()}}),r)})))()},setItem:function(e,r){return o(s().mark((function n(){var o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t+":"+e,o=p(),c.contentWindow.postMessage({type:"COLS_SET",key:e,value:r,id:o},u),n.abrupt("return",a(o));case 4:case"end":return n.stop()}}),n)})))()},removeItem:function(e){return o(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t+":"+e,n=p(),c.contentWindow.postMessage({type:"COLS_RM",key:e,id:n},u),r.abrupt("return",a(n));case 4:case"end":return r.stop()}}),r)})))()},keys:function(){return o(s().mark((function e(){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,n=p(),c.contentWindow.postMessage({type:"COLS_KEYS",key:r,id:n},u),e.abrupt("return",a(n));case 4:case"end":return e.stop()}}),e)})))()},clear:function(){return o(s().mark((function e(){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,n=p(),c.contentWindow.postMessage({type:"COLS_CLR",key:r,id:n},u),e.abrupt("return",a(n));case 4:case"end":return e.stop()}}),e)})))()},listen:function(e,r){e=t+":"+e;var n=p();c.contentWindow.postMessage({type:"COLS_LIS",key:e,id:n},u);var o=function(e){e.data.type===l&&e.data.id===n&&r(e.data.value)};return window.addEventListener("message",o),function(){window.removeEventListener("message",o),c.contentWindow.postMessage({type:"COLS_LIS_UN",key:e,id:n},u)}},destroy:function(){c.dataset.count=(Number(c.dataset.count)||0)-1,Number(c.dataset.count)<=0&&c.parentNode.removeChild(c)}});case 11:case"end":return e.stop()}}),e)})));return (),v=r(5753),g=r(5440),m=r(4625),y=r(8185);const b={getSpmPrefix:getPType:function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("spm_ptype"===e[t].getAttribute("name"))return e[t].getAttribute("content")},assignObject:function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var o in r[0])e[o]=r[0][o];for(var i=1;i<r.length;i++){var a=r[i];for(var o in a)e[o]=a[o]}return e},assignValidObject:function(){for(var e={},t=0;t<arguments.length;t++){var r=t<0||arguments.length<=t?void 0:arguments[t];for(var n in r)r[n]&&(e[n]=r[n])}return e},cloneObj:(function(e){var t,r=e.constructor===Array?[]:{};if("object"===(0,i.Z)(e)){if(window.JSON)t=JSON.stringify(e),r=JSON.parse(t);else for(var n in e)r[n]="object"===(0,i.Z)(e[n])?cloneObj(e[n]):e[n];return r}})),isEmptyObject:getCurrentDomain:function(){return"."+document.domain.split(".").slice(-2).join(".")},getCookie:setCookie:function(e,t,r,n){var o=new Date;o.setTime(o.getTime()+1e3*r);var i=r>0?";expires="+o.toGMTString():"";return"current-domain"===n&&(n=this.getCurrentDomain()),document.cookie=e+"="+escape(t)+i+(n?";domain=".concat(n,";path=/"):""),t},getQueryParam:addQueryParam:function(e,t,r){var n="";e.indexOf("#")>=0&&(n=e.split("#")[1],e=e.split("#")[0]);var o=e.split("?")[1],i=e.split("?")[0],a=new RegExp("(^|&)("+t+")=[^&]*");return a.test(o)?i+"?"+(o=o.replace(a,"$1$2="+r))+(""===n?"":"#"+n):i+"?"+(o?o+"&":"")+t+"="+r+(n?"#"+n:"")},throttleV2:function(e,t,r,n){var o,i=null;return function(){var a=this,s=arguments,u=+new Date;clearTimeout(i),n&&"function"==typeof n&&n(),o||(o=u),u-o>=r?(e.apply(a,s),o=u):i=setTimeout((,t)}},hexEncode:function(e){for(var t="",r=e.length,n=0;n<r;n++){t+=e.charCodeAt(n).toString(16)}return"b_"+t},myBrowser:function(){var e=navigator.userAgent;if(e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1)return"Chrome";if(e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"))return"Safari";var t=e.indexOf("Opera")>-1;return t?"Opera":e.indexOf("Edge")>-1?"Edge":e.indexOf("Firefox")>-1?"FF":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t?(new RegExp("MSIE (\\d+\\.\\d+);").test(e),"IE"+parseFloat(RegExp.$1)):e},splitUrlArgs:function(e){return e.indexOf("?")>-1?{path:e.split("?")[0],args:e.split("?")[1]}:{path:e,args:""}},isInIframe:function(){return!(window.location==window.parent.location&&window.self===window.top&&!window.frameElement)},isSupportBuvid4:function(){return!y.Z.browser.version.bcutWebApp&&!y.Z.browser.version.mobile&&!this.isInIframe()},isBuvidFp:function(e){return/^\w{32}$/.test(e)},isBuvid:function(e){return/^\w{8,}-\w{4,}-\w{4,}-\w{4,}/.test(e)},isBuvid3:crossStroage:null,crossLoading:!1,crossLoadingIns:null,destoryCrossStroage:function(){var e;null===(e=this.crossStroage)||void 0===e||e.destroy(),this.crossStroage=null,this.crossLoading=!1,this.crossLoadingIns=null},initCrossStroageIns:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"log-reporter-space";return o(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.isSupportBuvid4()){r.next=2;break}return r.abrupt("return",Promise.resolve(!0));case 2:if(!e.crossLoading){r.next=4;break}return r.abrupt("return",e.crossLoadingIns);case 4:if(e.crossLoading=!0,e.crossStroage){r.next=12;break}return e.crossLoadingIns=h(t),r.next=9,e.crossLoadingIns;case 9:e.crossStroage=r.sent,e.crossLoadingIns=null,e.crossLoading=!1;case 12:return r.abrupt("return",e.crossStroage);case 13:case"end":return r.stop()}}),r)})))()},initCrossStroage:function(){var e=this;return o(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isSupportBuvid4()){t.next=2;break}return t.abrupt("return",Promise.resolve(!0));case 2:if(e.crossStroage){t.next=6;break}return t.next=5,e.initCrossStroageIns();case 5:e.crossStroage=t.sent;case 6:return t.next=8,e.crossStroage.getItem("cross_buvid4");case 8:return r=t.sent,e.isBuvid(r)?(e.setCookie("buvid4",r,94608e3,"current-domain"),e.destoryCrossStroage()):e.saveBuvid4("buvid4"),t.abrupt("return",e.crossStroage);case 11:case"end":return t.stop()}}),t)})))()},saveBuvid4:function(e,t){var r=this.getCookie("buvid4");return this.isBuvid(r)?this.saveInCrossStroage(e,r):t?(this.setCookie(e,t,94608e3,"current-domain"),this.saveInCrossStroage(e,t)):void this.destoryCrossStroage()},saveInCrossStroage:function(e,t){var r=this;return o(s().mark((function n(){var o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.isSupportBuvid4()){n.next=2;break}return n.abrupt("return",Promise.resolve(!0));case 2:if(r.crossStroage){n.next=6;break}return n.next=5,r.initCrossStroageIns();case 5:r.crossStroage=n.sent;case 6:return o="cross_"+e,n.next=9,r.crossStroage.setItem(o,t);case 9:r.destoryCrossStroage();case 10:case"end":return n.stop()}}),n)})))()},isValidBuvid:function(){var e=this.getCookie("buvid3"),t=this.getCookie("buvid4");return this.isBuvid3(e)&&this.isBuvid(t)},getBuvid:function(e){var t=this,r={mid:this.getCookie("DedeUserID"),fts:this.getCookie("fts"),url:encodeURIComponent(window.location.href).substr(0,1e3),proid:3,ptype:2,module:"game",title:document.title,ajaxtag:"",ajaxid:"",page_ref:document.referrer?encodeURIComponent(document.referrer).substr(0,1e3):""},n="",o="";location.href.indexOf("bilihttps")>-1&&(n="https:"),o=".bilibili.com"!==this.getCurrentDomain()?"".concat(n,"//").concat(v.Z.apiHost,"/x/web-frontend/getbuvid"):"".concat(n,"//").concat(v.Z.dataHost,"/v/web/web_page_view"),g.Z.get(o,r,{success:function(r){t.setCookie("b_nut",Math.floor((new Date).getTime()/1e3),94608e3,"current-domain"),r&&t.setCookie("buvid3",r.data&&r.data.buvid,94608e3,"current-domain"),e&&e()}})},getBuvidGroupLoadingIns:null,getBuvidGroup:function(){var e=this;return o(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initCrossStroage();case 2:if(!e.isValidBuvid()){t.next=4;break}return t.abrupt("return");case 4:return r="",location.href.indexOf("bilihttps")>-1&&(r="https:"),n="".concat(r,"//").concat(v.Z.apiHost,"/x/frontend/finger/spi"),e.getBuvidGroupLoadingIns||(e.getBuvidGroupLoadingIns=new Promise((function(t){g.Z.get(n,null).then(o((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s().mark((function n(){var o,i,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=0===r.code&&r.data&&r.data.b_3||(0,m.Rl)(),i=0===r.code&&r.data&&r.data.b_4||"buvid4-failed-1",a=e.getCookie("buvid3"),e.isBuvid3(a)||(e.setCookie("buvid3",o,94608e3,"current-domain"),e.setCookie("b_nut",Math.floor((new Date).getTime()/1e3),94608e3,"current-domain")),e.saveBuvid4("buvid4",i),e.getBuvidGroupLoadingIns=null,t();case 7:case"end":return n.stop()}}),n)}))()}))).catch(o(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.getCookie("buvid3"),e.isBuvid3(r)||(e.setCookie("buvid3",(0,m.Rl)(),94608e3,"current-domain"),e.setCookie("b_nut",Math.floor((new Date).getTime()/1e3),94608e3,"current-domain")),e.saveBuvid4("buvid4","buvid4-failed-2"),e.getBuvidGroupLoadingIns=null;case 4:case"end":return t.stop()}}),t)}))))}))),t.abrupt("return",e.getBuvidGroupLoadingIns);case 9:case"end":return t.stop()}}),t)})))()},filterObjByWhitelist:function(e,t){var r={};if(!t)return e;for(var n in e)t.indexOf(n)<0||("function"==typeof e[n]?r[n]=e[n]().replace(/\|/g,"_"):r[n]=e[n]);return r},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD hh:mm:ss",r=new Date(e).toLocaleString("en-US",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).match(/([0-9]+){1,}/g),n={YYYY:r[2],MM:r[0],DD:r[1],hh:r[3],mm:r[4],ss:r[5]};for(var o in n)t=t.replace(o,n[o]);return t},getDefaultAbtestInfo:function(e){try{var t="string"==typeof e?JSON.parse(e):e||{};return JSON.stringify(t)}catch(t){return JSON.stringify(e)}},bNutFormatCache:{},getBnutInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["h"],r=this.getCookie("b_nut");if(r){if(!this.bNutFormatCache[r]){var n=this.formatDate(1e3*Number(r),"YYYY/MM/DD hh:mm:ss");this.bNutFormatCache[r]={b_nut_s:Number(r),b_nut_m:new Date(n.slice(0,16)).getTime()/1e3,b_nut_h:new Date(n.slice(0,14)+"00").getTime()/1e3,b_nut_d:new Date(n.slice(0,10)).getTime()/1e3}}return t.reduce((function(t,n){return t["b_nut_".concat(n)]=e.bNutFormatCache[r]["b_nut_".concat(n)],t}),{})}return{}},mergeBNutMsg:function(e,t){if(void 0===e)return JSON.stringify(t);try{var r="string"==typeof e?JSON.parse(e):e||{};return JSON.stringify(Object.assign({},r,this.getBnutInfo(["h"]),t))}catch(r){try{var n="string"==typeof e?JSON.parse(decodeURIComponent(e)):e||{};return JSON.stringify(Object.assign({},n,this.getBnutInfo(["h"]),t))}catch(t){return e}}},isArray:transBoolToNum:function(e){return"true"===e?1:"false"===e?0:"boolean"!=typeof e?e:Number(e)},strEncodeURI:},5440:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(4942),o=r(5671),i=r(3144);onst s=new(function(){eturn(0,i.Z)(e,[{key:"useBeacon",value:function(e){var t=navigator.userAgent;navigator.sendBeacon&&!/qq/i.test(t)?navigator.sendBeacon(e):this.get(e)}},{key:"post",value:function(e,t,r){this.ajax({url:e,data:t,noFormat:!0,type:"POST",headers:r})}},{key:"get",value:function(e,t,r,o){var i=r||{},s=i.success,u=i.fail;return this.ajax({url:e,params:t,success:"function"==typeof s?s:null,fail:"function"==typeof u?u:null},o||{}))}},{key:"ajax",value:function(e){return new Promise((function(t,r){(e=e||{}).type=(e.type||"GET").toUpperCase(),e.dataType=e.dataType||"json",e.params&&(e.url=e.url+"?"+e.params));var n=new XMLHttpRequest;if(n.withCredentials=!e.noCredentials,n.onerror=n.open(e.type,e.url,!0),e.headers)for(var o in e.headers)n.setRequestHeader(o,e.headers[o]);n.onreadystatechange=function(){if(4===n.readyState){var o=n.status;if(o>=200&&o<300){var i;try{i=JSON.parse(n.responseText)}catch(e){i=n.responseText}e.success&&e.success(i,n.responseXML,n),t(i,n.responseXML,n)}else e.fail&&e.fail(o),r()}},n.send(e.data||null);var i=setTimeout((function(){clearTimeout(i),i=null,4!==n.readyState&&(n.abort(),e.fail&&e.fail("abort"))}),e.timeout||3e4);return n}))}}]),e}())},8820:function(e,t,r){var n,o;!0,this,(function(){"use strict";void 0===Array.isArray&&(Array.isArray=;var e=t=r=n=o=i=a=s={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0,adBlock:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},u=c=l=f=d=p=h=v=g=function(e){try{return!!window.sessionStorage}catch(t){return e.ERROR}},m=y=b=function(e){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:e.NOT_AVAILABLE},w=x=S=C=k=))),ulrnrnig))!=d"e)nt)>je.0,{l)xt()},U=[{key:"userAgent",getData:function(e){e(navigator.userAgent)}},{key:"webdriver",gever)}},{key:"language",geBLE)}},{key:"colorDepth",geBLE)}},{key:"deviceMemory",getData:function(e,t){e(navigator.deviceMemory||t.NOT_AVAILABLE)}},{key:"pixelRatio",geBLE)}},{key:"hardwareConcurrency",getData:function(e,t){e(b(t))}},{key:"screenResolution",getData:function(e,t){e(f(t))}},{key:"availableScreenResolution",getData:function(e,t){e(d(t))}},{key:"timezoneOffset",get())}},{key:"timezone",geBLE)}},{key:"sessionStorage",getData:function(e,t){e(g(t))}},{key:"localStorage",getData:function(e,t){e(m(t))}},{key:"indexedDb",getData:function(e,t){e(y(t))}},{key:"addBehavior",geior)}},{key:"openDatabase",gease)}},{key:"cpuClass",getData:function(e,t){e(w(t))}},{key:"platform",getData:function(e,t){e(x(t))}},{key:"doNotTrack",ge(t))}},{key:"plugins",ge(t))}},{key:"canvas",geBLE)}},{key:"webgl",geBLE)}},{key:"webglVendorAndRenderer",ge:e()}},{key:"adBlock",getData:function(e){e(E())}},{key:"hasLiedLanguages",getData:function(e){e(_())}},{key:"hasLiedResolution",getData:function(e){e(A())}},{key:"hasLiedOs",getData:function(e){e(M())}},{key:"hasLiedBrowser",getData:function(e){e(B())}},{key:"touchSupport",geC())}},{key:"fonts",gee(g)},pauseBefore:!0},{key:"fontsFlash",geed")},pauseBefore:!0},{key:"audio",ge(r)}}},{key:"enumerateDevices",ge)}))00")};return (!1)},G.getPr)}))},G.g)}))},G.x64hash128=a,G.VERSION="2.1.4",G}))}n o}}==e}}ts=m}orts}orts}(n)}},4187:(e,t,r)=>{"use strict";var n=r(3825);r(810),e.exports=n}mise},509:(e,t,r)=>{"use strict";var n=r(9985),o=r(3691),i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not a function")}}r")}}e")}}=!0}n")}}t")}}!1)}}ice)}n r}}-1)}":n}}))}}}e}))}:t}}}r,e}}:t}}},r)}}n e}}n t}}]}))}A:r}}:{}}}t:0}} 0:o}ment}sion}bble},4764:(e,t,r)=>{"use strict";var n=r(71);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)ess)}t(n||""}ts=o}Of"]}n e}})))}})}))}e)}}}!0}}}s)})}s)}}})}))}ts)}}E:c}}){}}}(e)}}s)}}}r r}}e)]}}e")}}(r)}}")()},t)}},7248:e=>{"use strict";e.exports={}t){}}nt")}a}))})}:a}urce}se)}r}}}}=e)}}f e}}?g:v}ts=a==e}}(e)}}s=!1e))}}!1)}}),r}u,e}}R,_}}S:v}}s={}}th)}}ng")}(n)}ts=S}(e)}}(e)}},t)}}n e}}),e}}t])}},o)}}bols}ull}}eOf)}n l},o)}}e}:r}d 0)}"]"}}e")}}):t}ts=n}e}}}}G:v}}mise}ise})}))}ts=t}n e}}}})}}t})}}e))}}ts=a}js"})o(r)(!0)41}))ar:w}r,t)}(e))}n(t)}1):0(e))}e,t)}t+""}ng(n)o(e)}ct"}},36)}ratorpe}))rn e}g(i))l[e]}r:y})9382(e){:!0})se}})se}})se}})!0})},h(A)!0})}7905)se}})se}})e)}})))})t}}})ist")rts=n=>n})}),e}=r,e}g(t)}=>n})}ports}o.m=r,o.amdO=t}),[r]})},o.f=),[])),o.u=e=>e+"."+{14:"78135",86:"fd3f7",220:"819a3",507:"7a69b",512:"65972",770:"77e98",950:"ee096"}[e]+".function.chunk.jndow}}l(e,t),e={},t="webpackLogReporterd(s):!0})},o.p="//s1.hdslb.com/bfs/seed/log/repd(r))})();var i={};(()=>{"use strict";o.r(i);var e=o(2884),t=o(5282),r=o(5671),n=o(3144),a=o(1002),s=o(4564),u=o.n(s),c=function(){function o(e){(0,r.Z)(this,o),this.legalContainer="report-wrap-module",this.bindEvent(),this.extMsgs=e&&e.extMsgs||{},e&&e.heatMap&&this.bindHeatMapEvent(),t.Z.reportSelfDef=this.handleSelfDefReport.bind(this)}return(0,n.Z)(o,[{key:"bindHeatMapEvent",value:function(){var e=this;document.addEventListener("click",(function(r){var n=r.pageX||0,o=r.pageY||0,i="".concat(t.Z.spmPrefix,".selfDef.heatMap");e.todo({},"",n,o,i)}),!0)}},{key:"handleSelfDefReport",value:function(e,r){if("function"!=typeof t.Z.reportH5SelfDef||"click"!==e&&"pv"!==e&&"show"!==e){if("tryCatchError"!==e){var n="".concat(t.Z.spmPrefix,".selfDef.").concat(e),o={event:e,value:r};this.todo(o,"",0,0,n,1)}}else t.Z.reportH5SelfDef(e,r)}},{key:"checkContainer",value:function(e){return!(!e||"string"!=typeof e)&&e.indexOf(this.legalContainer)>-1}},{key:"bindEvent",value:function(e){var t=window.document;t.addEventListener?t.addEventListener("click",this.eventCB.bind(this),!1):t.attachEvent("onclick",this.eventCB.bind(this))}},{key:"eventCB",value:function(r){var n=t.Z.spmPrefix+".",o=(r=r||window.event).target||r.srcElement;3===o.nodeType&&(o=o.parentNode);for(var i=o,a=!1,s=null,c="";i.parentNode&&!this.checkContainer(i.className);){"a"!==i.tagName.toLowerCase()||a||(a=!0,s=i,c=encodeURIComponent(s.getAttribute("href"))),i=i.parentNode}if(9!==i.nodeType&&(i.parentNode||this.checkContainer(i.className))&&a){for(var l=-1,f=i.getElementsByTagName("a"),d=0,p=f.length;d<p;d++)if(f[d].isEqualNode&&f[d].isEqualNode(s)){l=d+1;break}var h=null===i.id?"navigationbar":""===i.id?"1000":i.id,v=n+h+"."+l,g=n+e.Z.hexEncode(h)+"."+l;this.todo({id:o.id},c,r.screenX,r.screenY,v);var m=decodeURIComponent(c),y=new(u())(m);if(i.id&&"null"!==m&&y.hostname&&0!==m.indexOf("#")&&location.href!==y.href){var b=e.Z.addQueryParam(m,"spm_id_from",g);s.setAttribute("href",b)}}}},{key:"todo",value:function(e,r,n,o,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u={};if("object"===(0,a.Z)(e))for(var c in e.bsource=window.bsource||"",this.extMsgs)"function"==typeof this.extMsgs[c]?e[c]=this.extMsgs[c]():e[c]=this.extMsgs[c];u.screenx=n,u.screeny=o,u.is_selfdef=s,u.timestamp=Date.parse(new Date),u.spm_id=i,u.target_url=r;var l=JSON.stringify(e);u.msg=l.replace(/"/g,"%22"),t.Z.receiveMsg({type:"click",obj:u})}}]),o}(),l=o(8537),f=o(4625),d=function(){function o(n){if((0,r.Z)(this,o),n&&!1===n.fpmode){if(e.Z.getCookie("buvid_fp"))return;e.Z.setCookie("buvid_fp","unlock",0)}(0,l.i)((function(){t.Z.checkBuvidFp(),t.Z.receiveMsg({type:"tech",obj:{spm_id:t.Z.spmPrefix+".fp.pv",msg:e.Z.getBnutInfo(["s","m","h","d"])}},!0)}));var i=e.Z.getCookie("_uuid");this.pvMsg=n&&n.pvMsg,this.extMsgs=n&&n.extMsgs||{},i&&"null"!==i?this._uuid=i:(this._uuid=(0,f.Rl)(),e.Z.setCookie("_uuid",this._uuid,31536e3,".bilibili.com")),this.sendPV()}return(0,n.Z)(o,[{key:"sendPV",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.Z.isValidBuvid()?this.todo(r):e.Z.getBuvidGroup().then((function(){t.todo(r)}))}},{key:"todo",value:function(e){var r=e.refer,n=e.msg,o=e.url,i=e.is_selfdef,a={},s=this.pvMsg||{};if("undefined"!=typeof window&&window.localStorage&&localStorage.index_user_setting){var u=JSON.parse(localStorage.index_user_setting).sort;s.sort=u}for(var c in window.bsource&&(s.bsource=window.bsource),this.extMsgs)"function"==typeof this.extMsgs[c]?s[c]=this.extMsgs[c]():s[c]=this.extMsgs[c];a.msg=JSON.stringify(s),r&&(a.refer_url=r),n&&(a.msg=n),a._uuid=this._uuid,a.url=encodeURIComponent(o||window.location.href).substr(0,1e3),a.is_selfdef=i;var l={type:"pv",obj:a};t.Z.receiveMsg(l,!0)}}]),o}(),p=o(8185),h=function(){function i(e){(0,r.Z)(this,i);this.cache=t.Z.cache,this.init(e)}return(0,n.Z)(i,[{key:"init",value:function(e){var r=e.sample;Math.random()>r||(this.initBsource(),this.initTracker(e),window.addEventListener("beforeunent()})))}},{key:"initBsource",value:function(){var t=p.Z.identify(),r=p.Z.uaSource();t&&(window.bsource=t,e.Z.setCookie("bsource",window.bsource,0,".bilibili.com")),window.uaSource=r}},{key:"importTracker",value:function(e,t){var r=this;switch(e){case"load":o.e(950).then(function(e){var n=o(7950).Z;r.loadTracker=new n(t)}.bind(null,o)).catch(o.oe);break;case"scroll":o.e(512).then(function(e){var n=o(8512).Z;r.scrollTracker=new n(t),"function"==typeof window.onScrollTrackerLoaded&&window.onScrollTrackerLoaded()}.bind(null,o)).catch(o.oe);break;case"error":o.e(86).then(function(e){var n=o(4086).Z;r.errorTracker=new n(t)}.bind(null,o)).catch(o.oe);break;case"misaka":o.e(770).then(function(e){var n=o(2770).Z;r.misakaTracker=new n(t)}.bind(null,o)).catch(o.oe);break;case"h5":o.e(14).then(function(e){var n=o(14).Z;r.h5Tracker=new n(t)}.bind(null,o)).catch(o.oe);break;case"abtest":o.e(220).then(function(e){var n=o(4220).Z;r.abtestTracker=new n(t)}.bind(null,o)).catch(o.oe);break;case"cdn":o.e(507).then(function(e){var n=o(7507).Z;r.cdnTracker=new n(t)}.bind(null,o)).catch(o.oe)}}},{key:"initTracker",value:function(e){this.pvTracker=new d(e),this.eventTracker=new c(e);var r=/spider|bot/i.test(navigator.userAgent);e.cancelLoadTracker||r||this.importTracker("load",e),e.scrollTracker&&this.importTracker("scroll",e),e.errorTracker&&this.importTracker("error",e),e.misakaTracker&&!r&&this.importTracker("misaka",e),e.supportH5&&this.importTracker("h5",e),e.hasAbtest&&this.importTracker("abtest",e),e.searchPage&&t.Z.setSearchPage()}},{key:"updateConfig",value:function(){t.Z.updateConfig()}},{key:"setSPM_id"id(e)}},{key:"reportWithSpmPrefix",value:function(e,r,n){t.Z.reportWithSpmPrefix(e,r,n)}},{key:"sendPV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.pvTracker.sendPV({refer:e,msg:t,url:r,is_selfdef:1})}},{key:"sendPerformance"nce()}},{key:"reportCustomData",value:function(e,r){t.Z.reportCustomData(e,r)}},{key:"forceCommit"sts()}},{key:"reportWithAdditionalParam",value:function(){}},{key:"setSpeicalMsg",value:function(){}}]),i}(),v=func d(t)}return(0,n.Z)(e,[{key:"sendPV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.pvTracker.sendPV({refer:e,msg:t})}},{key:"reportWithSpmPrefix",r,n)}},{key:"reportCustomData"(e,r)}},{key:"updateConfig",value:function(){}},{key:"setSPM_id",value:function(){}},{key:"reportWithAdditionalParam",value:function(){}},{key:"forceCommit",value:function(){}},{key:"setSpeicalMsg",value:function(){}}]),e}();o(4187),o(2320);!function(){var r=e.Z.getSpmPrefix();if(!window.reportObserver)if(window.reportConfig&&r){var n=window.reportConfig.msgObjects;n&&window[n]&&t.Z.setMsgObject(window[n]);var o=new h(window.reportConfig);window.reportObserver=o}else{var i=new v(window.reportConfig);window.reportObserver=i}}()})(),window.webpackLogReporter=i})();
//# sourceMappingURL=log-reporter.js.map