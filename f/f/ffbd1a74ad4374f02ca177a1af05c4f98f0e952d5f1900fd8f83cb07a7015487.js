//
//  Copyright 2019 mParticle, Inc.
//
//  Licensed under the Apache License, Version 2.0 (the "License");
//  you may not use this file except in compliance with the License.
//  You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
//  Unless required by applicable law or agreed to in writing, software
//  distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//  See the License for the specific language governing permissions and
//  limitations under the License.
//
//  Uses portions of code from jQuery
//  jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license

window.mParticle = window.mParticle || {};;
window.mParticle.config = window.mParticle.config || {};;
window.mParticle.config.serviceUrl = 'jssdk.mparticle.com/v2/JS/';;
window.mParticle.config.secureServiceUrl = 'jssdks.mparticle.com/v2/JS/';;
window.mParticle.config.appName = window.mParticle.config.appName || "TWC - Production";;
window.mParticle.config.minWebviewBridgeVersion = 2;
window.mParticle.config.workspaceToken = "B530D7A0";;
window.mParticle.config.aliasMaxWindow = 90;
window.mParticle.config.kitConfigs = window.mParticle.config.kitConfigs || [];;
window.mParticle.config.pixelConfigs = window.mParticle.config.pixelConfigs || [];;
window.mParticle.config.flags = {"eventsV3":"100","eventBatchingIntervalMillis":"10000","offlineStorage":"100","directURLRouting":"False"};
window.mParticle.config.dataPlan = window.mParticle.config.dataPlan || {};;
window.mParticle.config.dataPlan.document = {"dtpn":{"blok":{"ev":false,"ea":false,"ua":false,"id":false},"vers":{"version":1,"data_plan_id":"weather_web","last_modified_on":"2023-10-18T14:57:08.387Z","version_document":{"data_points":[]}}}};
var mParticle=function(){n),t={message:n.EventName};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.crashReport,data:t}}unction pf(n){var r=d(n),t={session_duration_ms:n.SessionLength};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.sessionEnd,data:t}} i={},r=t.FeatureFlags,u=r.ReportBatching,f=r.EventBatchingIntervalMillis,e=r.OfflineStorage,o=r.DirectUrlRouting;return n.flags?(i[u]=n.flags[u]||!1,i[f]=et(n.flags[f])||t.DefaultConfig.uploadInterval,i[e]=n.flags[e]||"0",i[o]=n.flags[o]==="True",i):{}}{var r=this;this.checkIdentitySwap=this.IdentityRequest={createKnownIdentities:function(n,t){var r={},u;if(n&&n.userIdentities&&i._Helpers.isObject(n.userIdentities))for(u in n.userIdentities)r[u]=n.userIdentities[u];return r.device_application_stamp=t,r},preProcessIdentityRequest:createIdentityRequest:createModifyIdentityRequest:createIdentityChanges:combineUserIdentities:createAliasNetworkRequest:convertAliasToNative:convertToNative:;this.IdentityAPI={HTTPCodes:c,identify:function(n,u){var f,o=i.Identity.getCurrentUser(),e=i._Identity.IdentityRequest.preProcessIdentityRequest(n,u,"identify"),h;o&&(f=o.getMPID());e.valid?(h=i._Identity.IdentityRequest.createIdentityRequest(n,t.platform,t.sdkVendor,t.sdkVersion,i._Store.deviceId,i._Store.context,f),i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Identify,JSON.stringify(i._Identity.IdentityRequest.convertToNative(n))),i._Helpers.invokeCallback(u,c.nativeIdentityRequest,"Identify request sent to native sdk")):i._IdentityAPIClient.sendIdentityRequest(h,"identify",u,n,r.parseIdentityResponse,f):(i._Helpers.invokeCallback(u,c.loggingDisabledOrMissingAPIKey,s.InformationMessages.AbandonLogEvent),i.Logger.verbose(s.InformationMessages.AbandonLogEvent))):(i._Helpers.invokeCallback(u,c.validationIssue,e.error),i.Logger.verbose(e))},logout:function(u,f){var e,l=i.Identity.getCurrentUser(),o=i._Identity.IdentityRequest.preProcessIdentityRequest(u,f,"logout"),h,a;l&&(e=l.getMPID());o.valid?(a=i._Identity.IdentityRequest.createIdentityRequest(u,t.platform,t.sdkVendor,t.sdkVersion,i._Store.deviceId,i._Store.context,e),i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Logout,JSON.stringify(i._Identity.IdentityRequest.convertToNative(u))),i._Helpers.invokeCallback(f,c.nativeIdentityRequest,"Logout request sent to native sdk")):(i._IdentityAPIClient.sendIdentityRequest(a,"logout",f,u,r.parseIdentityResponse,e),h=i._ServerModel.createEventObject({messageType:n.MessageType.Profile}),h.ProfileMessageType=n.ProfileMessageType.Logout,i._Store.activeForwarders.length&&i._Store.activeForwarders.forEach():(i._Helpers.invokeCallback(f,c.loggingDisabledOrMissingAPIKey,s.InformationMessages.AbandonLogEvent),i.Logger.verbose(s.InformationMessages.AbandonLogEvent))):(i._Helpers.invokeCallback(f,c.validationIssue,o.error),i.Logger.verbose(o))},login:function(n,u){var f,o=i.Identity.getCurrentUser(),e=i._Identity.IdentityRequest.preProcessIdentityRequest(n,u,"login"),h;o&&(f=o.getMPID());e.valid?(h=i._Identity.IdentityRequest.createIdentityRequest(n,t.platform,t.sdkVendor,t.sdkVersion,i._Store.deviceId,i._Store.context,f),i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Login,JSON.stringify(i._Identity.IdentityRequest.convertToNative(n))),i._Helpers.invokeCallback(u,c.nativeIdentityRequest,"Login request sent to native sdk")):i._IdentityAPIClient.sendIdentityRequest(h,"login",u,n,r.parseIdentityResponse,f):(i._Helpers.invokeCallback(u,c.loggingDisabledOrMissingAPIKey,s.InformationMessages.AbandonLogEvent),i.Logger.verbose(s.InformationMessages.AbandonLogEvent))):(i._Helpers.invokeCallback(u,c.validationIssue,e.error),i.Logger.verbose(e))},modify:function(n,u){var o,f=i.Identity.getCurrentUser(),e=i._Identity.IdentityRequest.preProcessIdentityRequest(n,u,"modify"),h,l;f&&(o=f.getMPID());h=n&&n.userIdentities?n.userIdentities:{};e.valid?(l=i._Identity.IdentityRequest.createModifyIdentityRequest(f?f.getUserIdentities().userIdentities:{},h,t.platform,t.sdkVendor,t.sdkVersion,i._Store.context),i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Modify,JSON.stringify(i._Identity.IdentityRequest.convertToNative(n))),i._Helpers.invokeCallback(u,c.nativeIdentityRequest,"Modify request sent to native sdk")):i._IdentityAPIClient.sendIdentityRequest(l,"modify",u,n,r.parseIdentityResponse,o):(i._Helpers.invokeCallback(u,c.loggingDisabledOrMissingAPIKey,s.InformationMessages.AbandonLogEvent),i.Logger.verbose(s.InformationMessages.AbandonLogEvent))):(i._Helpers.invokeCallback(u,c.validationIssue,e.error),i.Logger.verbose(e))},getCurrentUser:getUser:getUsers:aliasUsers:createAliasRequest:;this.mParticleUser=this.mParticleUserCart=this.parseIdentityResponse=function(t,u,f,e,o){var h=i.Identity.getUser(u),l,w,s,v,a={},b=h?h.getUserIdentities().userIdentities:{},tt=i._Helpers.extend({},b),nt,y,p;i._Store.identityCallInFlight=!1;try{if(i.Logger.verbose('Parsing "'+o+'" identity response from server'),t.responseText&&(s=JSON.parse(t.responseText),s.hasOwnProperty("is_logged_in")&&(i._Store.isLoggedIn=s.is_logged_in)),(!h||h.getMPID()&&s.mpid&&s.mpid!==h.getMPID())&&(i._Store.mpid=s.mpid,h&&i._Persistence.setLastSeenTime(u),i._Persistence.getFirstSeenTime(s.mpid)||(w=!0),i._Persistence.setFirstSeenTime(s.mpid)),t.status===200){if(o===lr)a=i._Identity.IdentityRequest.combineUserIdentities(b,e.userIdentities),i._Persistence.saveUserIdentitiesToPersistence(u,a);else{var k=r.IdentityAPI.getUser(s.mpid),d=k?k.getUserIdentities().userIdentities:{},it=i._Helpers.extend({},d);i.Logger.verbose("Successfully parsed Identity Response");o===lo&&h&&s.mpid===h.getMPID()&&i._Persistence.setFirstSeenTime(s.mpid);v=i._Store.currentSessionMPIDs.indexOf(s.mpid);i._Store.sessionId&&s.mpid&&u!==s.mpid&&v<0&&i._Store.currentSessionMPIDs.push(s.mpid);v>-1&&(i._Store.currentSessionMPIDs=i._Store.currentSessionMPIDs.slice(0,v).concat(i._Store.currentSessionMPIDs.slice(v+1,i._Store.currentSessionMPIDs.length)),i._Store.currentSessionMPIDs.push(s.mpid));i._CookieSyncManager.attemptCookieSync(u,s.mpid,w);r.checkIdentitySwap(u,s.mpid,i._Store.currentSessionMPIDs);e&&e.userIdentities&&Object.keys(e.userIdentities).length&&(a=r.IdentityRequest.combineUserIdentities(d,e.userIdentities));i._Persistence.saveUserIdentitiesToPersistence(s.mpid,a);i._Persistence.update();i._Persistence.findPrevCookiesBasedOnUI(e);i._Store.context=s.context||i._Store.context}if(l=i.Identity.getCurrentUser(),e&&e.onUserAlias&&i._Helpers.Validators.isFunction(e.onUserAlias))try{i.Logger.warning("Deprecated function onUserAlias will be removed in future releases");e.onUserAlias(h,l)}catch(g){i.Logger.error("There was an error with your onUserAlias function - "+g)}nt=i._Persistence.getPersistence();l&&(i._Persistence.storeDataInMemory(nt,l.getMPID()),h&&l.getMPID()===h.getMPID()&&h.isLoggedIn()===l.isLoggedIn()||i._Forwarders.initForwarders(l.getUserIdentities().userIdentities,i._APIClient.prepareForwardingStats),i._Forwarders.setForwarderUserIdentities(l.getUserIdentities().userIdentities),i._Forwarders.setForwarderOnIdentityComplete(l,o),i._Forwarders.setForwarderOnUserIdentified(l));y={};for(p in a)y[n.IdentityType.getIdentityName(i._Helpers.parseNumber(p))]=a[p];r.sendUserIdentityChangeEvent(y,o,s.mpid,o===lr?tt:it)}f?t.status===0?i._Helpers.invokeCallback(f,c.noHttpCoverage,s||null,l):i._Helpers.invokeCallback(f,t.status,s||null,l):s&&s.errors&&s.errors.length&&i.Logger.error("Received HTTP response code of "+t.status+" - "+s.errors[0].message);i._APIClient.processQueuedEvents()}catch(g){f&&i._Helpers.invokeCallback(f,t.status,s||null);i.Logger.error("Error parsing JSON response from Identity server: "+g)}};this.sendUserIdentityChangeEvent=function(n,t,u,f){var o,s,e,h;if(u||t==="modify"){o=this.IdentityAPI.getUser(u);for(e in n)f[e]!==n[e]&&(h=!f[e],s=r.createUserIdentityChange(e,n[e],f[e],h,o),i._APIClient.sendEventToServer(s))}};this.createUserIdentityChange=this.sendUserAttributeChangeEvent=this.createUserAttributeChange=nction wo(n){this.sendAliasRequest=this.sendIdentityRequest=function(t,i,r,u,f,e){var o,s,c=function(){o.readyState===4&&(n.Logger.verbose("Received "+o.statusText+" from server"),f(o,s,r,u,i))};if(n.Logger.verbose(ri.InformationMessages.SendIdentityBegin),!t){n.Logger.error(ri.ErrorMessages.APIRequestEmpty);return}if(n.Logger.verbose(ri.InformationMessages.SendIdentityHttp),o=n._Helpers.createXHR(c),o)try{n._Store.identityCallInFlight?n._Helpers.invokeCallback(r,ai.activeIdentityRequest,"There is currently an Identity request processing. Please wait for this to return before requesting again"):(s=e||null,i===po?o.open("post",n._Helpers.createServiceUrl(n._Store.SDKConfig.identityUrl)+e+"/"+i):o.open("post",n._Helpers.createServiceUrl(n._Store.SDKConfig.identityUrl)+i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("x-mp-key",n._Store.devToken),n._Store.identityCallInFlight=!0,o.send(JSON.stringify(t)))}catch(h){n._Store.identityCallInFlight=!1;n._Helpers.invokeCallback(r,ai.noHttpCoverage,h);n.Logger.error("Error sending identity request to servers with status code "+o.status+" - "+h)}}}unction pr(n,i,r){var s=bo(i,r),u,o,f,e;if(r._APIClient=new se(r,s),r._Forwarders=new oo(r,s),i.flags&&i.flags.hasOwnProperty(t.FeatureFlags.EventBatchingIntervalMillis)&&(r._Store.SDKConfig.flags[t.FeatureFlags.EventBatchingIntervalMillis]=i.flags[t.FeatureFlags.EventBatchingIntervalMillis]),r._Store.storageName=r._Helpers.createMainStorageName(i.workspaceToken),r._Store.prodStorageName=r._Helpers.createProductStorageName(i.workspaceToken),i.hasOwnProperty("workspaceToken")?r._Store.SDKConfig.workspaceToken=i.workspaceToken:r.Logger.warning("You should have a workspaceToken on your config object for security purposes."),i.hasOwnProperty("requiredWebviewBridgeName")?r._Store.SDKConfig.requiredWebviewBridgeName=i.requiredWebviewBridgeName:i.hasOwnProperty("workspaceToken")&&(r._Store.SDKConfig.requiredWebviewBridgeName=i.workspaceToken),r._Store.webviewBridgeEnabled=r._NativeSdkHelpers.isWebviewEnabled(r._Store.SDKConfig.requiredWebviewBridgeName,r._Store.SDKConfig.minWebviewBridgeVersion),r._Store.configurationLoaded=!0,r._Store.webviewBridgeEnabled||r._Persistence.initializeStorage(),r._Store.webviewBridgeEnabled)r._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.SetSessionAttribute,JSON.stringify({key:"$src_env",value:"webview"})),n&&r._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.SetSessionAttribute,JSON.stringify({key:"$src_key",value:n}));else{if(r._Helpers.isObject(r._Store.SDKConfig.identifyRequest)&&r._Helpers.isObject(r._Store.SDKConfig.identifyRequest.userIdentities)&&Object.keys(r._Store.SDKConfig.identifyRequest.userIdentities).length===0||!r._Store.SDKConfig.identifyRequest){if(o={},u=r.Identity.getCurrentUser(),u){f=u.getUserIdentities().userIdentities||{};for(e in f)f.hasOwnProperty(e)&&(o[e]=f[e])}r._Store.SDKConfig.identifyRequest={userIdentities:o}}u=r.Identity.getCurrentUser();r._Helpers.getFeatureFlag(t.FeatureFlags.ReportBatching)&&r._ForwardingStatsUploader.startForwardingStatsTimer();r._Forwarders.processForwarders(i,r._APIClient.prepareForwardingStats);r._Forwarders.processPixelConfigs(i);r._SessionManager.initialize();r._Events.logAST();!r._Store.identifyCalled&&r._Store.SDKConfig.identityCallback&&u&&u.getMPID()&&r._Store.SDKConfig.identityCallback({httpCode:vr.activeSession,getUser:getPreviousUser:body:{mpid:u.getMPID(),is_logged_in:r._Store.isLoggedIn,matched_identities:u.getUserIdentities().userIdentities,context:null,is_ephemeral:!1}})}r._Store.isInitialized=!0;r._preInit.readyQueue&&r._preInit.readyQueue.length&&(r._preInit.readyQueue.forEach(,r._preInit.readyQueue=[]);r._Store.isFirstRun&&(r._Store.isFirstRun=!1)}tion ns(){var i=this;this.Store={};this._instances={};this.IdentityType=n.IdentityType;this.EventType=n.EventType;this.CommerceEventType=n.CommerceEventType;this.PromotionType=n.PromotionActionType;this.ProductActionType=n.ProductActionType;this.MPSideloadedKit=dr;typeof window!="undefined"&&(this.isIOS=window.mParticle&&window.mParticle.isIOS?window.mParticle.isIOS:!1,this.config=window.mParticle&&window.mParticle.config?window.mParticle.config:{});this.init=this.getInstance=this.getDeviceId=function(){return i.getInstance().getDeviceId()};this.setDeviceId=function(n){return i.getInstance().setDeviceId(n)};this.isInitialized=function(){return i.getInstance().isInitialized()};this.startNewSession=function(){i.getInstance().startNewSession()};this.endSession=function(){i.getInstance().endSession()};this.setLogLevel=function(n){i.getInstance().setLogLevel(n)};this.ready=function(n){i.getInstance().ready(n)};this.setAppVersion=function(n){i.getInstance().setAppVersion(n)};this.getAppName=function(){return i.getInstance().getAppName()};this.setAppName=function(n){i.getInstance().setAppName(n)};this.getAppVersion=function(){return i.getInstance().getAppVersion()};this.getEnvironment=function(){return i.getInstance().getEnvironment()};this.stopTrackingLocation=function(){i.getInstance().stopTrackingLocation()};this.startTrackingLocation=function(n){i.getInstance().startTrackingLocation(n)};this.setPosition=function(n,t){i.getInstance().setPosition(n,t)};this.startNewSession=function(){i.getInstance().startNewSession()};this.endSession=function(){i.getInstance().endSession()};this.logBaseEvent=function(n,t){i.getInstance().logBaseEvent(n,t)};this.logEvent=this.logError=function(n,t){i.getInstance().logError(n,t)};this.logLink=function(n,t,r,u){i.getInstance().logLink(n,t,r,u)};this.logForm=function(n,t,r,u){i.getInstance().logForm(n,t,r,u)};this.logPageView=this.upload=this.eCommerce={Cart:{add:function(n,t){i.getInstance().eCommerce.Cart.add(n,t)},remove:clear:,setCurrencyCode:createProduct:createPromotion:createImpression:function(n,t){return i.getInstance().eCommerce.createImpression(n,t)},createTransactionAttributes:logCheckout:function(n,t,r,u){i.getInstance().eCommerce.logCheckout(n,t,r,u)},logProductAction:logPurchase:function(n,t,r,u,f){i.getInstance().eCommerce.logPurchase(n,t,r,u,f)},logPromotion:function(n,t,r,u,f){i.getInstance().eCommerce.logPromotion(n,t,r,u,f)},logImpression:logRefund:expandCommerceEvent:function(n){return i.getInstance().eCommerce.expandCommerceEvent(n)}};this.setSessionAttribute=function(n,t){i.getInstance().setSessionAttribute(n,t)};this.setOptOut=function(n){i.getInstance().setOptOut(n)};this.setIntegrationAttribute=function(n,t){i.getInstance().setIntegrationAttribute(n,t)};this.getIntegrationAttributes=function(n){return i.getInstance().getIntegrationAttributes(n)};this.Identity={HTTPCodes:i.getInstance().Identity.HTTPCodes,aliasUsers:function(n,t){i.getInstance().Identity.aliasUsers(n,t)},createAliasRequest:getCurrentUser:function(){return i.getInstance().Identity.getCurrentUser()},getUser:getUsers:function(){return i.getInstance().Identity.getUsers()},identify:function(n,t){i.getInstance().Identity.identify(n,t)},login:function(n,t){i.getInstance().Identity.login(n,t)},logout:function(n,t){i.getInstance().Identity.logout(n,t)},modify:;this.sessionManager={getSession:function(){return i.getInstance()._SessionManager.getSession()}};this.Consent={createConsentState:createGDPRConsent:function(n,t,r,u,f){return i.getInstance().Consent.createGDPRConsent(n,t,r,u,f)},createCCPAConsent:;this.reset=this._resetForTests=this.configurePixel=function(n){i.getInstance().configurePixel(n)};this._setIntegrationDelay=function(n,t){i.getInstance()._setIntegrationDelay(n,t)};this._getIntegrationDelays=function(){return i.getInstance()._getIntegrationDelays()};this.getVersion=function(){return i.getInstance().getVersion()};this.generateHash=this.addForwarder=this._getActiveForwarders=this._setWrapperSDKInfo=var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:_encode:decode:_decode:,yi={encode:decode:,lt={forEach:map:filter:isArray:Base64:b},kt,fi={SessionStart:1,SessionEnd:2,PageView:3,PageEvent:4,CrashReport:5,OptOut:6,AppStateTransition:10,Profile:14,Commerce:16,Media:20,UserAttributeChange:17,UserIdentityChange:18},tu=(kt={},pi(kt,fi.Commerce,1),pi(kt,fi.UserIdentityChange,1),kt),nt={Unknown:0,Navigation:1,Location:2,Search:3,Transaction:4,UserContent:5,UserPreference:6,Social:7,Other:8,Media:9,getName:,p={ProductAddToCart:10,ProductRemoveFromCart:11,ProductCheckout:12,ProductCheckoutOption:13,ProductClick:14,ProductViewDetail:15,ProductPurchase:16,ProductRefund:17,PromotionView:18,PromotionClick:19,ProductAddToWishlist:20,ProductRemoveFromWishlist:21,ProductImpression:22},r={Other:0,CustomerId:1,Facebook:2,Twitter:3,Google:4,Microsoft:5,Yahoo:6,Email:7,FacebookCustomAudienceId:9,Other2:10,Other3:11,Other4:12,Other5:13,Other6:14,Other7:15,Other8:16,Other9:17,Other10:18,MobileNumber:19,PhoneNumber2:20,PhoneNumber3:21},e,rt,tt,w,o,i,fr,ht,pt,st,bt,sr,l,u,ar,it,vr,f,wr,ui,br,kr,dr,vi;r.isValid=r.getName=r.getIdentityType=r.getIdentityName=e={Unknown:0,AddToCart:1,RemoveFromCart:2,Checkout:3,CheckoutOption:4,Click:5,ViewDetail:6,Purchase:7,Refund:8,AddToWishlist:9,RemoveFromWishlist:10};e.getName=function(n){switch(n){case e.AddToCart:return"Add to Cart";case e.RemoveFromCart:return"Remove from Cart";case e.Checkout:return"Checkout";case e.CheckoutOption:return"Checkout Option";case e.Click:return"Click";case e.ViewDetail:return"View Detail";case e.Purchase:return"Purchase";case e.Refund:return"Refund";case e.AddToWishlist:return"Add to Wishlist";case e.RemoveFromWishlist:return"Remove from Wishlist";default:return"Unknown"}};e.getExpansionName=rt={Unknown:0,PromotionView:1,PromotionClick:2};rt.getName=function(n){switch(n){case rt.PromotionView:return"view";case rt.PromotionClick:return"click";default:return"unknown"}};rt.getExpansionName=var n={MessageType:fi,EventType:nt,CommerceEventType:p,IdentityType:r,ProfileMessageType:{Logout:3},ApplicationTransitionType:{AppInit:1},ProductActionType:e,PromotionActionType:rt,TriggerUploadType:tu,Environment:{Production:"production",Development:"development"}},t={sdkVersion:"2.24.0",sdkVendor:"mparticle",platform:"web",Messages:{DeprecationMessages:{MethodIsDeprecatedPostfix:"is a deprecated method and will be removed in future releases",AlternativeMethodPrefix:"Please use the alternate method:"},ErrorMessages:{NoToken:"A token must be specified.",EventNameInvalidType:"Event name must be a valid string value.",EventDataInvalidType:"Event data must be a valid object hash.",LoggingDisabled:"Event logging is currently disabled.",CookieParseError:"Could not parse cookie",EventEmpty:"Event object is null or undefined, cancelling send",APIRequestEmpty:"APIRequest is null or undefined, cancelling send",NoEventType:"Event type must be specified.",TransactionIdRequired:"Transaction ID is required",TransactionRequired:"A transaction attributes object is required",PromotionIdRequired:"Promotion ID is required",BadAttribute:"Attribute value cannot be object or array",BadKey:"Key value cannot be object or array",BadLogPurchase:"Transaction attributes and a product are both required to log a purchase, https://docs.mparticle.com/?javascript#measuring-transactions"},InformationMessages:{CookieSearch:"Searching for cookie",CookieFound:"Cookie found, parsing values",CookieNotFound:"Cookies not found",CookieSet:"Setting cookie",CookieSync:"Performing cookie sync",SendBegin:"Starting to send event",SendIdentityBegin:"Starting to send event to identity server",SendWindowsPhone:"Sending event to Windows Phone container",SendIOS:"Calling iOS path: ",SendAndroid:"Calling Android JS interface method: ",SendHttp:"Sending event to mParticle HTTP service",SendAliasHttp:"Sending alias request to mParticle HTTP service",SendIdentityHttp:"Sending event to mParticle HTTP service",StartingNewSession:"Starting new Session",StartingLogEvent:"Starting to log event",StartingLogOptOut:"Starting to log user opt in/out",StartingEndSession:"Starting to end session",StartingInitialization:"Starting to initialize",StartingLogCommerceEvent:"Starting to log commerce event",StartingAliasRequest:"Starting to Alias MPIDs",LoadingConfig:"Loading configuration options",AbandonLogEvent:"Cannot log event, logging disabled or developer token not set",AbandonAliasUsers:"Cannot Alias Users, logging disabled or developer token not set",AbandonStartSession:"Cannot start session, logging disabled or developer token not set",AbandonEndSession:"Cannot end session, logging disabled or developer token not set",NoSessionToEnd:"Cannot end session, no active session found"},ValidationMessages:{ModifyIdentityRequestUserIdentitiesPresent:"identityRequests to modify require userIdentities to be present. Request not sent to server. Please fix and try again",IdentityRequesetInvalidKey:"There is an invalid key on your identityRequest object. It can only contain a `userIdentities` object and a `onUserAlias` function. Request not sent to server. Please fix and try again.",OnUserAliasType:"The onUserAlias value must be a function.",UserIdentities:"The userIdentities key must be an object with keys of identityTypes and values of strings. Request not sent to server. Please fix and try again.",UserIdentitiesInvalidKey:"There is an invalid identity key on your `userIdentities` object within the identityRequest. Request not sent to server. Please fix and try again.",UserIdentitiesInvalidValues:"All user identity values must be strings or null. Request not sent to server. Please fix and try again.",AliasMissingMpid:"Alias Request must contain both a destinationMpid and a sourceMpid",AliasNonUniqueMpid:"Alias Request's destinationMpid and sourceMpid must be unique",AliasMissingTime:"Alias Request must have both a startTime and an endTime",AliasStartBeforeEndTime:"Alias Request's endTime must be later than its startTime"}},NativeSdkPaths:{LogEvent:"logEvent",SetUserTag:"setUserTag",RemoveUserTag:"removeUserTag",SetUserAttribute:"setUserAttribute",RemoveUserAttribute:"removeUserAttribute",SetSessionAttribute:"setSessionAttribute",AddToCart:"addToCart",RemoveFromCart:"removeFromCart",ClearCart:"clearCart",LogOut:"logOut",SetUserAttributeList:"setUserAttributeList",RemoveAllUserAttributes:"removeAllUserAttributes",GetUserAttributesLists:"getUserAttributesLists",GetAllUserAttributes:"getAllUserAttributes",Identify:"identify",Logout:"logout",Login:"login",Modify:"modify",Alias:"aliasUsers",Upload:"upload"},StorageNames:{localStorageName:"mprtcl-api",localStorageNameV3:"mprtcl-v3",cookieName:"mprtcl-api",cookieNameV2:"mprtcl-v2",cookieNameV3:"mprtcl-v3",localStorageNameV4:"mprtcl-v4",localStorageProductsV4:"mprtcl-prodv4",cookieNameV4:"mprtcl-v4",currentStorageName:"mprtcl-v4",currentStorageProductsName:"mprtcl-prodv4"},DefaultConfig:{cookieDomain:null,cookieExpiration:365,logLevel:null,timeout:300,sessionTimeout:30,maxProducts:20,forwarderStatsTimeout:5e3,integrationDelayTimeout:5e3,maxCookieSize:3e3,aliasMaxWindow:90,uploadInterval:0},DefaultBaseUrls:{v1SecureServiceUrl:"jssdks.mparticle.com/v1/JS/",v2SecureServiceUrl:"jssdks.mparticle.com/v2/JS/",v3SecureServiceUrl:"jssdks.mparticle.com/v3/JS/",configUrl:"jssdkcdns.mparticle.com/JS/v2/",identityUrl:"identity.mparticle.com/v1/",aliasUrl:"jssdks.mparticle.com/v1/identity/"},Base64CookieKeys:{csm:1,sa:1,ss:1,ua:1,ui:1,csd:1,ia:1,con:1},SDKv2NonMPIDCookieKeys:{gs:1,cu:1,l:1,globalSettings:1,currentUserMPID:1},HTTPCodes:{noHttpCoverage:-1,activeIdentityRequest:-2,activeSession:-3,validationIssue:-4,nativeIdentityRequest:-5,loggingDisabledOrMissingAPIKey:-6,tooManyRequests:429},FeatureFlags:{ReportBatching:"reportBatching",EventBatchingIntervalMillis:"eventBatchingIntervalMillis",OfflineStorage:"offlineStorage",DirectUrlRouting:"directURLRouting"},DefaultInstance:"default_instance",CCPAPurpose:"data_sale_opt_out",IdentityMethods:{Modify:"modify",Logout:"logout",Login:"login",Identify:"identify"}},ei=tt=typeof SuppressedError=="function"?SuppressedError:w||(w={})),function(n){n.other="other";n.customerId="customerid";n.facebook="facebook";n.twitter="twitter";n.google="google";n.microsoft="microsoft";n.yahoo="yahoo";n.email="email";n.alias="alias";n.facebookCustomAudienceId="facebookcustomaudienceid";n.otherId2="other2";n.otherId3="other3";n.otherId4="other4";n.otherId5="other5";n.otherId6="other6";n.otherId7="other7";n.otherId8="other8";n.otherId9="other9";n.otherId10="other10";n.mobileNumber="mobile_number";n.phoneNumber2="phone_number_2";n.phoneNumber3="phone_number_3"}(o||(o={}));i={},i);var wi=t.Messages,ru=function(n){return cu(vu(n))},uu=fu=eu=ou=var su=bi=hu=k=et=ot=cu=function(n){return n.replace(/,/g,"|")},lu=function(n){return n.replace(/\|/g,",")},au=function(n){return n.replace(/\'/g,'"')},vu=yu=pu=wu=ki=function(n){return typeof n=="string"},gt=function(n){return typeof n=="number"},bu=function(n){return typeof n=="boolean"},ku=di=du=gu=oi=y=var tr=),re=function(n){function t(t,i){return n.call(this,t,window.localStorage,i)||this}return dt(t,n),t}(tr),ue=tr),fe=),ir=),ee=ir),oe=ir);var he=t.IdentityMethods.Modify,rr={isNumber:gt,isFunction:ku,isStringOrNumber:oi,isValidAttributeValue:isValidKeyValue:validateIdentities:,h=),ni=t.StorageNames;var yt=t.Messages,ur="mParticleAndroid",ci="mParticle";fr=t.Messages;ht=t.Messages;pt=t.Messages;var g=lt.Base64,ct=t.Messages,ti=t.Base64CookieKeys,wt=t.SDKv2NonMPIDCookieKeys,ft=t.StorageNames;st=t.Messages;var ii=t.IdentityMethods,ro=ii.Modify,uo=ii.Identify,fo=ii.Login,eo=ii.Logout;bt=n.MessageType;sr=n.ApplicationTransitionType;var s=t.Messages,c=t.HTTPCodes,cr=t.IdentityMethods,lo=cr.Identify,lr=cr.Modify;l=t.CCPAPurpose;u={ScreenView:"screen_view",CustomEvent:"custom_event",Commerce:"commerce",UserAttributes:"user_attributes",UserIdentities:"user_identities",ProductAction:"product_action",PromotionAction:"promotion_action",ProductImpression:"product_impression"};ar=);var ai=t.HTTPCodes,ri=t.Messages,po=t.IdentityMethods.Modify;return it=t.Messages,vr=t.HTTPCodes,f=function(){return null},wr=),ui||(ui={})),br||(br={})),kr||(kr={})),dr=),Array.prototype.forEach||(Array.prototype.forEach=lt.forEach),Array.prototype.map||(Array.prototype.map=lt.map),Array.prototype.filter||(Array.prototype.filter=lt.filter),Array.isArray||(Array.prototype.isArray=lt.isArray),vi=new ns,typeof window!="undefined"&&(window.mParticle=vi,window.mParticle._BatchValidator=new wr),vi}() ;;
window.mParticle.config.requestConfig = false;;
mParticle.init('us2-fb061d169ced8343850163112c402d41', window.mParticle.config);;