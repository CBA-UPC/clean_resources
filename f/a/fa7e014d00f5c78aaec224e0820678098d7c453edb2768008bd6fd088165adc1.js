import{F as Se,G as xe,H as Ce,I as $e}from"./0749e2c0.js";import{d as B,B as K,o as t,c as i,b as C,u as e,r as X,D as n,t as F,a as l,y as A,w as _,j as R,e as D,$ as Ve,_ as Ae,a6 as W,g as P,F as k,f as me,i as x,aa as pe,a9 as Me,Q as re,h as J,a8 as fe,L as Te,s as Q,E as he,Y as ce,X as Ee,cb as Z,as as Re,ag as Pe,cT as Be,m as Le,G as ue,aq as _e,aj as Fe,n as Ge}from"./entry.14d269f6.js";import de from"./86804303.js";import{a as Ie,b as ze}from"./1e6daec7.js";import{_ as be}from"./072947d9.js";import{_ as ee}from"./c8951a3b.js";import{_ as te}from"./9838ad62.js";import{u as Y,a as Ue}from"./b9ba46c1.js";import{f as De}from"./fb04fa47.js";import{f as Ne,h as je}from"./b2c54706.js";import{U as He}from"./7562fbe3.js";import{u as Oe}from"./6d242cec.js";import{z as Qe}from"./6e3fcbcb.js";import{_ as qe}from"./7579c46f.js";import{S as Ke}from"./92a8bc92.js";import{u as Xe}from"./80b53804.js";import{u as Ye}from"./0a9b695d.js";const We={type:"button",class:"tc-btn-focus flex items-center justify-center rounded-xl bg-gray-20 text-gray-90 hover:bg-gray-30 hover:text-gray-600","data-cy":"back"},Lo=B({__name:"AuthorizationGuestBackButton",setup(f){return(a,c)=>{const d=K("fa");return t(),i("button",We,[C(d,{icon:e(Se)},null,8,["icon"])])}}}),Je=["href"],Ze=B({__name:"SharedLinkConfidentialRules",setup(f){return(a,c)=>(t(),i("a",{href:e(Ie),target:"_blank",class:"tc-link-focus hover:underline"},[X(a.$slots,"default")],8,Je))}}),et={"data-cy":"message"},tt=["href"],ot=B({__name:"SharedTextAgreement",props:{buttonText:{default:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ"},linkClass:{type:[Boolean,String,Object,Array]}},setup(f){return(a,c)=>{const d=Ze;return t(),i("div",et,[n(" ÐÐ°Ð¶Ð¸Ð¼Ð°Ñ Â«"+F(a.buttonText)+"Â», Ð’Ñ‹Â Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚Ðµ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ ",1),l("a",{href:e(ze),target:"_blank",class:A(a.linkClass)},"ÐŸÑ€Ð°Ð²Ð¸Ð» Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ TenChat",10,tt),n(" Ð¸ "),C(d,{class:A(a.linkClass)},{default:_(()=>[n("ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ¸ ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸")]),_:1},8,["class"]),n(", ÑÐ¾Ð³Ð»Ð°ÑˆÐ°ÐµÑ‚ÐµÑÑŒ Ð½Ð° Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ð¸ Ñ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸. ")])}}}),st={"data-cy":"recaptcha-message"},nt=B({__name:"SharedTextGoogleRecaptcha",props:{linkClass:{type:[Boolean,String,Object,Array]}},setup(f){return(a,c)=>(t(),i("div",st,[n(" This site is protected by reCAPTCHA and the Google "),l("a",{href:"https://policies.google.com/privacy",rel:"nofollow",target:"_blank",class:A(["whitespace-nowrap",a.linkClass])},"Privacy Policy",2),n(" and "),l("a",{href:"https://policies.google.com/terms",rel:"nofollow",target:"_blank",class:A(["whitespace-nowrap",a.linkClass])},"Terms of Service",2);const ye=(f=60,a)=>{const c=R(0),d=D(()=>De(c.value*1e3,"mm:ss")),{pause:m,resume:r}=Ve(()=>{c.value-=1,c.value===0&&m()},1e3);m();const y=()=>{c.value=f,y,pause:m,resume:r}};const it={},at={class:"tc-small-scrollbar overflow-x-hidden"};function lt(f,a){return t(),i("div",at,[X(f.$slots,"default",{},void 0,!0)])}const rt=Ae(it,[["render",lt],["__scopeId","data-v-e6291c66"]]),ct=["disabled"],dt=["src"],ut={class:"min-w-[180px] list-none space-y-1.5 text-sm","data-cy":"countries-list"},mt=["data-cy","onClick"],pt=["src"],ft=["textContent"],ht=["textContent"],_t=B({__name:"SharedInputSelectCountry",props:{modelVat:()=>[]},dropdownPlacement:{default:"bottom-start"},dropdownDistance:{default:28},dropdownSkidding:{default:-12},dropdownDelay:{default:()=>({show:0,hide:100})},disabled:{type:Boolean}},emits:["update:model-value","show","hide"],setup(f,{emit:a}){const c=f,d==>{d.value!==p&&a("update:model-value",p),d.value=p},y=p=>{const s=Ne(p);if(s)return je(s.utfUnified)},g=()=>{m.value=!0,a("show")},w=()=>{m.value=!1,a("hide")};return W(()=>c.modelValue,r),(p,s)=>{const u=be,S=K("fa"),v=rt,T=K("VDropdown");return t(),P(T,{triggers:[],placement:p.dropdownPlacement,skidding:p.dropdownSkidding,distance:p.dropdownDistance,delay:p.dropdownDelay,shown:e(m),"popper-class":"tc-header-popper",theme:"rounded-xl",onApplyShow:g,onApplyHide:w},{popper:_(({hide:o})=>[C(v,{class:"m-2 max-h-[246px]"},{default:_(()=>[l("ul",ut,[(t(!0),i(k,null,me(p.countries,h=>(t(),i("li",{key:h.code},[l("button",{type:"button",class:"flex h-9 w-full items-center juitespace-nowrap px-2 py-1.5 pr-0.5 tracking-smallest outline-none hover:bg-gray-20 focus-visible:bg-gray-20","data-cy":`country-${h.code}`,onClick:E=>{r(h),o()}},[C(u,{src:y(h.regionCode||"")},{default:_(({src:E})=>[E?(t(),i("img",{key:0,width:"28",height:"28",src:E},null,8,pt)):x("",!0)]),_:2},1032,["src"]),l("span",{class:"ml-2.5",textContent:F(h.country)},null,8,ft),l("span",{class:"ml-1 text-gray-100",textContent:F(`+${h.phonePrefix}`)},null,8,ht)],8,mt)]))),128))])]fault:_(()=>[e(d)?(t(),i("button",{key:0,type:"button",class:"tc-btn-focus flex h-full items-center",disabled:p.disabled,onClick:s[0]||(s[0]=pe(o=>m.value=!e(m),["stop"]))},[C(u,{src:y(e(d).regionCode||"")},{default:_(({src:o})=>[o?(t(),i("img",{key:0,width:"28",height:"28",class:"h-6 object-cover",src:o},null,8,dt)):x("",!0)]),_:1},8,["src"]),C(S,{icon:e(m)?e(xe):e(Ce),class:"ml-2.5 text-gray-200"},null,8,["icon"])],8,ct)):x("",!0)]),_:1},8,["placement","skidding","distance","delay","shown"])}}});const bt=["textContent"],yt=["disabled"],gt={key:2},vt=B({__name:"SharedInputPhone",props:{value:{},country:{},countries:{default:()=>[]},invalid},disabled:{type:Boolean}},emits:["select","input"],setup(f,{expose:a,emit:c}){const d=f,m=R(),r=R(!1),y=Me({mask:"",tokens:{Ñ…:{pattern:/\d/}}}),g=o=>o[0]==="(",w=D(()=>{var o;return g(((o=d.country)==null?void 0:o.format)||"")?" (":" "}),p=D(()=>{var o;return`+ ${((o=d.country)==null?void 0:o.phonePrefix)||"7"}${w.value}`}),s=o=>{o!=null&&o.format&&(y.mask=g(o.format)?o.format.substring(1):o.format)},u=D(()=>{var o,h;return(((h=(o=v.value)==null?void 0:o.phonePrefix)==null?void 0:h.length,S=Dvoid 0:o.substring(u.value)},set:o=>c("input",`${p.value}${o}`)}),v=D({get:()=>d.country,set:o=>{s(o),c("select",o)}}),T=()=>{var o;(o=m.value)==null||o.focus()};return s(d.country),a({focusInput:T}),(o,h)=>{const E=_t,L=K("fa");return t(),i("div",{class:A(["flex cursor-text items-center rounded-xl border p-4 py-3.5 font-medium tablet:py-4 mobile:p-3.5",{"border-gray-20 bg-gray-20":!e(r)&&!o.invalid&&!e(S),"border-blue-400":e(r),"border-red-300 bg-red-10":o.invalid}]),onClick:T},[e(v)&&o.countries.length?(t(),P(E,{key:0,modelValue:e(v),"onUpdate:modelValue":h[0]||(h[0]=M=>re(v)?v.value=M:null),countries:o.countries,disabled:o.disabled,"data-cy":"country-code",onHide:T},null,8,["modelValue","countries","disabled"])):x("",!0),l("div",{class:"ml-3 shrink-0 select-none whitespace-pre","data-cy":"phone-prefix",textContent:F(e(p))},null,8,bt),e(y).mask?J((t(),i("input",{key:1,ref_key:"maskEl",ref:m,"onUpdate:modelValue":h[1]||(h[1alue=M:null),class:"w-full flex-1 bg-transparent outline-none",type:"tel",disabled:o.disabled,onFocus:h[2]||(h[2]=M=>r.value=!0),onBlur:h[3]||(h[3]=M=>r.value=!1)},null,40,yt)),[[fe,e(S)],[e(He),void 0,e(y)]]):x("",!0),o.invalid?(t(),i("div",gt,[C(L,{icon:e($e),size:"lg",class:"mr-0.5 text-red-300"},null,8,["icon"])])):x("",!0)],2)}}}),kt=l("br",{class:"mobile:hidden"},null,-1),wt=["onSubmit"],St={key:0,class:"mobile:hidden"},xt={key:0,class:"mobile:hidden"},Ct={key:3,class:"text-gray-100"},$t={class:"text-gray-1100"},Vt={key:1,class:"mt-6 self-stretch text-sm text-gray-100","data-cy":"message"},At=l("div",null,"ÐŸÑ€ÐµÐ²Ñ‹ÑˆÐµÐ½ Ð»Ð¸Ð¼Ð¸Ñ‚ Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº Ð²Ñ…Ð¾Ð´Ð°",-1),Mt=l("a",{href:"/TenChat_admin",target:"_blank",class:"tc-select-link mt-1 inline-block"}," Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ Ñ Ñ‚ÐµÑ…. Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ ",-1),Tt=[At,Mt],Et=B({__name:"AuthorizationGuestActionEnterPhone",props:{countries:{default:()=>[]},isMobileView:{type:Boolean},submitBtnText:{default:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ"},submitBtnClass:{type:[Boolean,String,Object,Array]},agreementClass:{type:[Boolean,String,Object,Array]}},emits:["submitted"],setup(f,{expose:a,emit:c}){const d=f,{$logError:m}=ce(),r=R(null),y=Te(),g=Y(),{country:w,isPhoneBlocked:p,isPhoneDeleted:s,isCodeSendingEarlyRequest:u,isCodeSendingErrorUnknown:S,isCodeSendingLimitReached:v,isPhoneNotFound:T,isCodeSendingFailed:o,isPhoneValid:h,isSendingCode:E,phone:L}=Q(g),M=b=>{b!==L.value&&g.resetErrors(),L.value=b},G=b=>{var q;b.code!==((q=w.value)==null?void 0:q.code)&&g.resetErrors(),g.setCountry(b)},{timeLeft:I,timeLeftFormatted:N,restart:j}=ye();W(I,b=>{b>0||g.resetErrors()});const{isEnabled:oe}=Ue(),{reachGoal:z}=he(),se=async()=>{try{await g.sendAuthCode(),g.resetErrors(),z("silue&&m(b)}u.value&&j()};return a({inputPhoneRef:r}),(b,q)=>{const ne=de,ie=ot,ae=nt,$=be,V=ee,U=te;return t(),P(U,{"is-mobile-view":b.isMobileView},{title:_(()=>[X(b.$slots,"title",{},()=>[n(" Ð’Ñ…Ð¾Ð´ Ð¸Ð»Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ ")])]),description:_(()=>[X(b.$slots,"description",{},()=>[n(" Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ "),kt,n(" Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ ÐºÐ¾ Ð²ÑÐµÐ¼ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑÐ¼ ")])]),footer:_(()=>[C(V,{"is-mobile-view":b.isMobileView},null,8,["is-mobile-view"])]),default:_(()=>[l("form",{class:A(["flex tablet:mt-8 tablet:flex-col tablet:space-x-0 tablet:space-y-3 mobile:mt-5",b.isMobileView?"flex-col mt-5 space-x-0 space-y-3":"mt-6 space-x-3"]),onSubmit:pe(se,["prevent"])},[C(vt,{ref_key:"inputPhoneRef",ref:r,value:e(L),country:e(w),countries:b.countries,invalid:e(o),disabled:e(E)||!e(y),"data-cy":"input-phone",onInput:M,onSelect:G}untries","invalid","disabled"]),C(ne,{type:"submit",theme:"filled",class:A(["shrink-0 !rounded-xl px-[26px] !text-base !font-medium mobile:py-3.5",[b.isMobileView?"py-3.5":"py-4",b.submitBtnClass]]),"data-cy":"send-auth-code",disabled:!e(h)||e(o)||e(E)},{default:_(()=>[n(F(b.submitBtnText),1)]),_:1},8,["class","disabled"])],42,wt),e(o)&&!e(v)?(t(),i("div",{key:0,class:A(["mt-3 self-stretch text-left text-red-300 mobile:text-xs mobile:tracking-smallest",b.isMobileView?"text-xs tracking-smallest":"text-sm"]),"data-cy":"error"},[e(T)?(t(),i(k,{key:0},[n(" ÐÐ° ÑÑ‚Ð¾Ñ‚ Ð½Ð¾Ð¼ÐµÑ€ Ð½Ðµ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ ")],64)):e(s)?(t(),i(k,{key:1},[n(" ÐÐºÐºÐ°ÑƒÐ½Ñ‚, Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð½Ð° ÑÑ‚Ð¾Ñ‚ Ð½Ð¾Ð¼ÐµÑ€, ÑƒÐ´Ð°Ð»ÐµÐ½. "),b.isMobileView?x("",!0):(t(),i("br",St)),n(" Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð½Ð¾Ð¼ÐµÑ€ ")],64)):e(p)?(t(),i(k,{key:2},[n(" ÐÐºÐºÐ°ÑƒÐ½Ñ‚, Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð½Ð° ÑÑ‚Ð¾Ñ‚ Ð½Ð¾Ð¼ÐµÑ€, Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½. "),b.isMobileView?x("",!0):(t(),i("br",xt)),n(" Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð½Ð¾Ð¼ÐµÑ€ ")],64)):e(u)?(t(),i("span",Ct,[n(" ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð´ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· "),l("span",$t,F(e(N)),1)])):e(S)?(t(),i(k,{key:4},[n(" ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð´Ð½ÐµÐµ ")],64)):x("",!0)],2)):e(o)?(t(),i("div",Vt,Tt)):e(h)?(t(),P($,{key:2,"text-link-class":"tc-link-focus text-gray-1100 hover:underline","text-class":["tracking-smallest mt-3 self-stretch text-left text-gray-100","tablet:text-sm tablet:tracking-normal mobile:text-xxs mobile:tracking-smallest",b.isMobileView?"text-xxs":"text-xs",b.agreementClass]},{default:_(({textClass:H,textLinkClass:O})=>[C(ie,{"button-text":b.submitBtnText,class:A(H),"link-class":O},null,8,["button-text","class","link-class"]),e(oe)?(t(),P(ae,{key:0,class:A(H),"link-class":O},null,8,["class","link-class"])):x("",!0)]),_:1},8,["text-class"])):x("",!0)]),_:3},8,["is-mobile-view"])}}}),ge="help@tenchat.ru",Rt=l("br",null,null,-1),Pt={class:"mobile:hidden"},Bt="}," Ð­Ñ‚Ð¾ Ð·Ð°Ð¹Ð¼ÐµÑ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð¸Ð½ÑƒÑ‚ ",-1),Ft={class:"mt-8 hidden tablet:block mobile:mt-5"},Gt=["href"],It={class:"mt-4 tablet:mt-8 mobile:mt-5"},zt=l("div",{class:"text-sm font-medium text-gray-1100"}," Ð’Ð¾Ð·Ð½Ð¸ÐºÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ¾ Ð²Ñ…Ð¾Ð´Ð¾Ð¼? ",-1),Ut=["href"],Dt=B({__name:"AuthorizationGuestActionEnterScanQr",props:{isMobileView:{type:Boolean}},setup(f){const{links:a}=Oe();return(c,d)=>{const m=ee,r=te;return t(),P(r,{"is-mobile-view":c.isMobileView},{title:_(()=>[n(" ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ "),Rt,n(" Ð² Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ ")]),description:_(()=>[l("p",Pt,[n(" ÐÐ°Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ°Ð¼ÐµÑ€Ñƒ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð° Ð½Ð° QR-ÐºÐ¾Ð´, "),c.isMobileView?x("",!0):(t(),i("br",Bt)),n(" Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ")]),Lt]),default:_(()=>[l("div",Ft,[C(m,{"is-mobile-view":c.isMobileView,class:"mobile:hidden"},null,8,["is-mobile-view"]),l("a",{href:e(a).appLinkQr,class:"tc-btn-filled hidden !rounded-2xl py-3.5 text-center !text-base mobile:block"}," Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ",8,Gt)]),l("div",It,[zt,l("a",{href:`mailto:${e(ge)}`,class:"tc-select-link mt-1 inline-block text-sm"}," Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ TenChat ",8,Ut)])]),footer:_(()=>[C(m,{"is-mobile-view":c.isMobileView},null,8,["is-mobile-view"])]),_:1},8,["is-mobile-view"])}}}),Nt={key:0,class:"mb-1 text-sm text-red-300","data-cy":"error"},jt=["innerHTML"],Ht=["href"],Ot={class:"text-gray-1100"},Qt={class:"flex items-center"},qt=l("span",null,"ÐžÑ),Kt={class:"ml-0.5 flex h-4 w-4 items-center justify-center"},ve=B({__name:"AuthorizationGuestCodeSendingTimer",props:{limitReachedText:{default:"ÐŸÑ€ÐµÐ²Ñ‹ÑˆÐµÐ½ Ð»Ð¸Ð¼Ð¸Ñ‚ Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº Ð²Ñ…Ð¾Ð´Ð°"},loading:{type:Boolean},resendText:{default:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ð¾Ðµ SMS Ñ‡ÐµÑ€ÐµÐ·:"},resendPeriod:{default:60}},emits:["sent","update:time-left"],setup(f,{expose:a,emit:c}){const d=f,m=Y(),{codeSentWay:r,isCodeSendingErrorUnknown:y,isCodeVerificationErrorUnknown:g,isCodeVerificationLimitReached:w,isCodeVerificationSendingFailed:p,isSendingCode:s,isVerificationCodeExpired:u,isVerificationCodeInvalid:S}=Q(m),{$logError:v}=ce(),{timeLeft:T,timeLeftFormatted:o,restart:h}=ye(d.resendPeriod,{immediate:!0});Ee(()=>{c("update:time-left",T.value)});const E=()=>L(["PUSH","SMS"].includes(r==null?void 0:r.value)?r==null?void 0:r.value:void 0),L=async M=>{if(!s.value)try{await m.sendAuthCode(M),h(),c("sent")}catch(G){y.value&&v(G)}};return a({resend:L}),(M,G)=>{const I=K("fa"),N=de;return t(),i("div",null,[e(p)&&!e(w)?(t(),i("div",Nt,[e(S)?(t(),i(k,{key:0},[n(" ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ ÐºÐ¾Ð´. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ")],64)):x("",!0),e(u)?(t(),i(k,{key:1},[n(" Ð’Ñ€ÐµÐ¼Ñ Ð¶Ð¸Ð·Ð½Ð¸ ÐºÐ¾Ð´Ð° Ð¸ÑÑ‚ÐµÐºÐ»Ð¾ ")],64)):x("",!0),e(g)?(t(),i(k,{key:2},[n(" ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð·Ð´Ð½ÐµÐµ ")],64)):x("",!0)])):x("",!0),e(w)?(t(),i(k,{key:1},[l("div",{innerHTML:M.limitReachedText},null,8,jt),l("a",{href:`mailto:${e(ge)}`,class:"tc-select-link mt-1 inline-block"}," Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ TenChat ",8,Ht)],64)):e(T)?(t(),i(k,{key:2},[n(F(M.resendText)+" ",1),l("span",Ot,F(e(o)),1)],64)):(t(),P(N,{key:3,loading:M.loading,type:"button",class:"tc-select-link whitespace-nowrap",onClick:G[0]||(G[0]=j=>E())},{default:_(()=>[l("div",Qt,[qt,l("div",Kt,[C(I,{icon:e(Qe),size:"sm"},null,8,["icon"])])])]),_:1},8,["loading"]))])}}}),Xt={key:0,class:"tablet:hidden"},Yt=l("div",{class:"text-sm font-medium text-gray-1100"}," ÐÐµ Ð¿Ñ€Ð¸ÑˆÐ»Ð¾ SMS? ",-1),Wt=l("div",{class:"mt-1 text-sm text-gray-100"}," Ð¡ÐºÐ°Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ QR-ÐºÐ¾Ð´, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸ÑŽ ",-1),Jt=[Yt,Wt],Zt=B({__name:"AuthorizationGuestActionEnterCodeWithoutAccount",props:{isMobileView:{type:Boolean}},setup(f){const a=Y(),{phoneDisplay:c,isSendingCode:d}=Q(a);return(m,r)=>{const y=ve,g=ee,w=te;return t(),P(w,{"is-mobile-view":m.isMobileView},{title:_(()=>[n(" ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ ÑÑÑ‹Ð»ÐºÑƒ Ð¸Ð·Â SMS ")]),description:_(()=>[l("p",null,[n(" ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑÐ²Ð¾Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð² Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸."),m.isMobileView?x("",!0):(t(),i("br",Xt)),n(" Ð­Ñ‚Ð¾ Ð·Ð°Ð¹Ð¼ÐµÑ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼Ð¸Ð½ÑƒÑ‚ ")]),l("div",{c["text-gray-11008 mobile:mt-5 mobile:text-base",m.isMobileView?"text-base mt-5":"mt-6"])},[r[0]||(Z(-1),r[0]=l("strong",{class:"whitespace-nowrap font-semibold"},[n(F(e(c)),1)]),Z(1),r[0])],2)]),default:_(()=>[C(y,{loading:e(d),class:"mt-1 text-sm text-gray-100","data-cy":"message"},null,8,["loading"]),l("div",{class:A(["tablet:hidden",m.isMobileView?"mt-5":"mt-6"])},Jt,2)]),footer:_(()=>[C(g,{"is-mobile-view":m.isMobileView},null,8,["is-mobile-view"])]),_:1},8,["is-mobile-view"])}}}),eo=f=>{if(f)try{const a=f,c=f;if(a.setSelectionRange)a.setSelectionRange(a.value.length,a.value.length);else{cocollapseToEnd(),d.scrollSelectionIntoView()}}catch(a){console.warn(a)}},ke=f=>{if(!f)return;const a=["INPUT","TEXTAREA"].ie)?f:f.querySelectorAll("input, textarea, div[contenteditable]")[0];a&&(a.focus(),eo(a))},to=["onUpdate:modelValue","disabled","onKeydown"],oo=B({__name:"SharedInputCode",props:{modelValue:{default:()=>[]},regex:{default:()=>/^\d$/},isMobileView:{type:Boolean},invalid:{type:Boolean},disabled:{type:Boolean}},emits:["update:model-value","submit"],setup(f,{expose:a,emit:c}){const d=f,m=R(),r=R(d.modelValue),y=s=>{var u;return(u=s.target.previousSibling)==null?void 0:u.focus()},g=s.target.nextSibling;u&&u.nodeName==="INPUT"&&(u==null||u.f(s,u)=>{s.key!=="Tab"&&(s.preventDefault(),s.key==="Backspace"?r.value[u]?r.value[u]="":u>0&&(r.value[u-1]="",y(s)):s.key==="Delete"?r.value[u]="":s.key==="ArrowLeft"?y(s):s.key==="ArrowRight"?g(s):d.regex.test(s.key)&&(r.value[u]=s.key,g(s)))};return W(()=>d.modelValue,s=>{r.value=s}),W(r,s=>{c("update:model-value",s);const u=r.value.join("");u.length===r.value.length&&c("submit",u)},{deep:!0}),a({focus:()=>ke(m.value)}),(s,u)=>(t(),i("form",{ref_key:"digitsFormEl",ref:m,class:"space-x-3"},[(t(!0),i(k,null,me(e(r).length,S=>J((t(),i("input",{key:S,"onUpdate:modelValue":v=>e(r)[S-1]=v,type:"text",inputmode:"numeric",pattern:"\\d",maxlength:"1",class:A(["rounded-xl border border-gray-60 text-center text-4xl outline-none focus:border-blue-400 mobile:h-[52px] mobile:w-[52px]",[{"border-red-300 bg-red-10":s.invalid},s.isMobileView?"h-[52px] w-[52px]":"h-14 w-14"]]),disabled:s.disabled,onKeydown:v=>w(v,S-1)},null,42,to)),[[fe,e(r)[S-1]]])),s:"br",{class:ull,-1),co={class:"flex h-14 w-64 items-center justify-center mobile:h-[52px]"},uo={key:1,class:"mt-1 text-sm text-gray-100"},mo=l("p",{class:"tablet:hidden"},[n(" Ð¡ÐºÐ°Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ QR-ÐºÐ¾Ð´ Ð¸Ð»Ð¸ Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ"),l("br¸Ñ Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ TenChat ")],-1),po=l("p",{class:"desktop:hidden"},[n(" Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Push-ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ TenChat, "),l("br",{class:"mobile:hidden"}),n(" Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´ Ð² Ð¼ÐµÑÑÐµÐ½Ð´Ð¶ÐµÑ€ ")],-1),fo=l("br",null,null,-1),ho=4,_o=B({__name:"AuthorizationGuestActionEnterCode",props:{isMobileView:{type:Boolean}},setup(f){const a=f,c=Re(),{$authTokens:d,$logError:m}=ce(),{load:r}=Pe(),y=Be(),g=R(),w=R(),p=Y(),{isCodeSentViaSms:s,isCodeSentViaVoice:u,isCodeVerificationErrorUnknown:S,isCodeVerificationLimitReached:v,isCodeVerificationSendingFailed:T,isPushAvailable:o,isSendingCode:h,isVerifyingCode:E,phoneDisplay:L}=Q(p),M=D(()=>s.value?"https://tenchat.app/chats/lead":"https://tenchat.app/chats/infobot"),G=()=>Array(ho).fill(""),I=R(G()),N=()=>{I.value=G()},j=R(!0),oe=$=>{j.value=$>0},z=R(!1),se=async()=>{var $,V;if(!z.value)try{z.value=!0,await(($=g.value)==null?void 0:$.resend(s.value?"PUSH":"SMS")),p.resetErrors(),await _e(),(V=w.value)==null||V.focus()}finally{z.value=!1}},b=()=>{v.value||p.resetErrors()},q=()=>{const[,$]=y.lastEntry||[];c.push($||Fe),y.$reset()},{reachGoal:ne}=he(),ie=Le(),ae=async $=>{let V=!1;try{const U=ie.query.utm_source,{acce p.verifyAuthCode($,U);d.set("TCAF",H.tokenValue),d.set("TCRF",O.tokenValue),V=!0,ne("sign-in-code",{modalAuth:a.isMobileView})}catch(U){v.value&&N(),S.value&&m(U)}V&&(a.isMobileView?window.location.reload():(await r(),q()))};return($,V)=>{const U=qe,H=de,O=ee,we=te;return t(),P(we,{"is-mobile-view":$.isMobileView},{title:_(()=>[e(s)?(t(),i(k,{key:0},[n(" Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´ Ð¸Ð· SMS ")],64)):e(u)?(t(),i(k,{key:1},[n(" Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ð´ Ð¸Ð· Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ ")],64)):(t(),¸Ñ‚Ðµ ÐºÐ¾Ð´ Ð¸Ð· Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ ")],64))]),description:_(()=>[e(s)?(t(),i("p",io," ÐšÐ¾Ð´ Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ð° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½ Ð½Ð° Ð½Ð¾Ð¼ÐµÑ€: ")):e(u)?(t(),i("p",ao," Ð’Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ Ð·Ð²Ð¾Ð½Ð¾Ðº Ñ ÐºÐ¾Ð´Ð¾Ð¼ Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð¸Ñ‚ Ð½Ð° Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°: ")):(t(),i("p",lo,[n(" ÐšÐ¾Ð´ Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ð° Ð¿Ñ€Ð¸ÑˆÐµÐ» Ð² Push-ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¸ "),ro,n(" Ð¸ Ð² Ñ‡Ð°Ñ‚Ñ‹ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ TenChat ")])),l("div",{class:A(["text-gray-1100 mobile:mt-3.5 mobile:text-base",$.isMobileView?"text-base mt-3":"mt-2"])},[V[0]||(Z(-1),V[0]=l("strong",{class:"whitespace-nowrap font-semibold"},[n(F(e(L)),1)]),Z(1),V[0])],2)]),footer:_(()=>[C(O,{"is-mobile-view":$.isMobileView,link:e(M)},{title:_(()=>[n(" Ð¡ÐºÐ°Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ QR-ÐºÐ¾Ð´ ")]),description:_(()=>[l("div",{class:A(["text-sm text-gray-300",{"!mt-1":$.isMobileView}])},[n(" ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÐºÐ¾Ð´ "),$.isMobileView?x("",!0):(t(),i(k,{key:0},[n(" Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ð° ")],64)),n(),fo,n(" Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ ")],2)]),_:1},8,["is-mobile-view","link"])]),default:_(()=>[l("div",{class:A(["tablet:mt-8 mobile:mt-5",$.isMobileView?"mt-5":"mt-6"])},[J(l("div",co,[C(U,{"dot-size":20,"dot-gap":24})],512),[[ue,e(E)||e(h)]]),J(C(oo,{ref_key:"sharedInputCodeRef",ref:w,modelValue:e(I),"onUpdate:modelValue":[V[1]||(V[1]=le=>re(I)?I.value=le:null),b],"is-mobile-view":$.isMobileView,invalid:e(T)&&!e(v),disabled:e(E)||e(h)||e(v),"data-cy":"code-digits",onSubmit:ae},null,8,["modelValue","is-mobile-view","inval[[ue,!e(E)&&!e(h)],[e(no)]])],2),C(ve,{ref_key:"codeSendingTimerRef",ref:g,class:"mt-3 text-sm text-gray-100","resend-text":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð´ Ñ‡ÐµÑ€ÐµÐ·:",loading:e(h)&&!e(z),"limit-reached-text":e(s)?"ÐŸÑ€ÐµÐ²Ñ‹ÑˆÐµÐ½ Ð»Ð¸Ð¼Ð¸Ñ‚ SMS":"ÐŸÑ€ÐµÐ²Ñ‹ÑˆÐµÐ½ Ð»Ð¸Ð¼Ð¸Ñ‚ Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº Ð²Ñ…Ð¾Ð´Ð°","data-cy":"message",onSent:V[2]||(V[2]=le=>N()),"onUpdate:timeLeft":oe},null,8,["loading","limit-reached-text"]),e(j)?x("",!0):(t(),i("div",{key:0,class:A(["text-sm font-medium text-gray-1100 tablet:mt-8 mobile:mt-5",$.isMobileView?"mt-5":"mt-6"])},[e(s)?(t(),i(k,{key:0},[n(" ÐÐµ Ð¿Ñ€Ð¸ÑˆÐ»Ð¾)],64)):e(u)?(t(),i(k,{key:1},[n(" ÐÐµ Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð¸Ð» Ð·Ð²Ð¾Ð½Ð¾Ðº? ")],64)):(t(),i(k,{key:2},[n(" ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾? ")],64))],2)),e(j)?x("",!0):(t(),i("div",uo,[e(s)&&!e(o)||e(u)?(t(),i(k,{key:0},[mo,po],64)):(t(),P(H,{key:1,loading:e(z),disabled:!e(z)&&e(h),type:"button",class:"tc-link","data-cy":"toggle",onClick:V[3]||(V[3]=le=>se())},{default:_(()=>[e(s)?(t(),i(k,{key:0},[n(" ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´ Ð² push-ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¸ ")],64)):(t(),i(k,{key:1},[n(" ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´ Ð² SMS ")],64))]),_:1},8,["loading","disabled"]))]))]),_:1},8,["is-mobile-view"])}}}),bo={class:"flex flex-col"},Fo=B({__name:"AuthorizationGuestAction",props:{isMobileView:{type:Boolean}},setup(f){const a=Ye(),c=Y(),{isCodeSent:d,isCodeSendingNotAvailable:m,isCodeSentViaSmsWithoutAccount:r}=Q(c),y=()=>{d.value=!1},g=R(),{codes:w}=Q(a);return c.isCodeVerified&&c.$reset(),c.country||c.setCountry(w.value[0]),Ge(()=>{d.value||_e(()=>{var p;return(p=g.value)==null?void 0:p.inputPhoneRef.focusInput()})}),Xe(a.load,"$c6SvSXGUqS"),(p,s)=>{const u=Et,S=Dt,v=Zt,T=_o;return t(),i("div",bo,[X(p.$slots,"header",{reset:y}),e(d)?e(m)?(t(),P(S,{key:1,class:"grow","is-mobile-view":p.isMobileView},null,8,["is-mobile-view"])):e(r)?(t(),P(v,{key:2,class:"grow","is-mobile-view":p.isMobileView,onReset:s[0]||(s[0]=o=>y())},null,8,["is-mobile-view"])):(t(),P(T,{key:3,class:"grow","is-mobile-view":p.isMobileView,onReset:s[1]||(s[1]=o=>y())},null,8,["is-mobile-view"])):(t(),P(u,{key:0,ref_key:"enterPhoneFormRef",ref:g,class:"grow",countries:e(w),"is-mobile-view":p.isMobileView},null,8,["countries","is-mobile-view"]))])}}});export{rt as E,ge as S,Lo as _,Fo as a,Ze as b,Et as c,ot as d,nt as e,eo as s,no as v};
