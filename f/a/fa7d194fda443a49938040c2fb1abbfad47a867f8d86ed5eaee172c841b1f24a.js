"use strict";var _min=("undefined"!=typeof __min?__min:null)||_min||{};_min=function(e){nction r(e,t,n,r){function i(t){t||(t=!1);var n=c(),r=e.getlistAsArray(n[P]);r=o(r),r.length>0&&p([r],t),n[P]=[],u(n)}function o(e){if(e.length<=1)return e;var t=[];e.forEach(function(e,n,r){t.push(JSON.stringify(e))});var n=t.filter(;return t=[],n.forEach(,t}function a(t,n){var r,i=c();i[n]=e.getlistAsArray(i[n]),r=i[n],r.push(t),u(i)}function c(){var e=t.getItem(A);if(e){if(e=JSON.parse(e),e.clicks)for(var n=0;n<e.clicks.length;n++)e.clicks[n]=r.extract(e.clicks[n]);if(e.clicksDelay)for(var n=0;n<e.clicksDelay.length;n++)e.clicksDelay[n]=r.extract(e.clicksDelay[n])}else e={};return e}function u(e){if(e.clicks)for(var n=0;n<e.clicks.length;n++)e.clicks[n]=r.compress(e.clicks[n]);if(e.clicksDelay)for(var n=0;n<e.clicksDelay.length;n++)e.clicksDelay[n]=r.compress(e.clicksDelay[n]);t.setItem(A,JSON.stringify(e))}function d(e,t){var n,r,i=typeof e;if("string"===i||"number"===i){if(n=c(),n[t]=n[t]||[],r=n[t],0===r.length)return null;for(var o=0;o<r.length;o++)if(r[o].id===e)return r[o];return null}}function p(t,r,i){if(!e.isArray(t))return void e.log("Report not an array");for(var o,a="Test:"+J.getGroupCode(),l=0;l<t.length;l++){o=e.isArray(t[l])?t[l]:[t[l]];for(var c=0;c<o.length;c++){var u=JSON.parse(JSON.stringify(o[c]));if(n.send(s.Emitter.CLICK,u),i){var d={url:u.url,user_agent:navigator.userAgent,source:q.getAnalyticsSource(),publisher:Z.getPublisherIdNumber(),category:"rightClick",action:"sendLogDelayById",label:"highlight_id",value:u.highlight_id};n.send(s.Emitter.CUSTOM_EVENTS,d)}u=e.cloneObject(u),a+=","+u.id+":PClick:"+(u.product||"0");var p=K.get(u.id,s.Emitter.CLICK_TYPE_CLICK,s.Emitter.CLICK_TYPE_CLICK,u.test_mode,u.product);p.isSent()||(u.uniq=!0,n.send(s.Emitter.CLICK,u),p.setAnalyticState(),a+=","+u.id+":UClick:"+(u.product||"0")),h.dispatchEvent(s.Events.DomWindow.CLICK)}}(Z.getCanReportImmediately()||r)&&n.getCounterServerReporter().flush()}function g(){i(),h.addEventListener(s.Events.PLAYER_VIDEO_CHANGED,i,this),h.addEventListener(s.Events.PLAYER_PLAYING,v,this)}unction f(e){a(e,P),e.product==s.Emitter.PRODUCT_IN_ARTICLE?i():D.start()}function m(e){a(e,S)}function E(e,t){var n,r,i=typeof e;if(("string"===i||"number"===i)&&(n=c(),n[t]=n[t]||[],r=n[t],0!==r.length)){for(var o=0;o<r.length;o++)if(r[o].id===e){r.splice(o,1);break}u(n)}}unction _(e){var t=d(e,S);t&&(t.type=s.Emitter.ANALYTICS_CLICK_EVENT,p([t],null,!0),y(e))}var A=s.StorageKeys.Analytics,P="clicks",S="clicksDelay",D=new l.utils.Debounce(s.FLUSH_ANALYTICS,i);return{init:g,log:f,logDelay:m,removeLogDelayById:y,sendLogDelayById:_}}function i(e,t,n){function r(){if(e.isClickByPointEnabled()){var t=function(e){for(var t=n.getAllActiveApv(),r=0;r<t.length;r++){var i=t[r];if(i.getMinuteLogo()){var o=i.getMinuteLogo().getLogoElement();if(o.offsetParent){var a=o.getBoundingClientRect();0!=a.left&&0!=a.top&&0!=a.width&&(0==e.x||0==e.y&&e.target==window.document.body||Math.abs(a.left-e.x)<=a.width&&Math.abs(a.top-e.y)<=a.width&&h.dispatchEvent(s.Events.CLICK_FROM_POINT,{containerUnique:i._containerUnique}))}}}};document&&document.body?document.body.addEventListener("click",t,!0):document.addEventListener("DOMContentLoaded",!1)}}return{init:r}}f(_min.debug)window._minAlreadyLoaded=!1;else{if(window._minAlreadyLoaded)return void console.warn("Minute.ly already loaded");window._minAlreadyLoaded=!0}!);var a=),s={};s.Urls=),s.styles={},s.styles.OBJECT_FIT="object-fit",s.values={},s.values.RELATIVE="relative",s.values.ABSOLUTE="absolute",s.values.HIDDEN="hidden",s.values.COVER="cover",s.values.NONE="none",s.values.BLOCK="block",s.values.HUNDRED_PERCENT="100%",s.APVStates={Disposed:"disposed",New:"new",Blocked:"blocked",Disabled:"disabled",Active:"active"},s.config={},s.config.WindowIntervals={SCROLL:"scroll",RESIZE:"resize",URL:"url",ECHO_TIME:"echoTime",ECHO_REPEAT:"echoRepeat"},s.FLUSH_ANALYTICS=5e3,s.WindowKeys={COMPATIBILITY:"compatibility"},s.Events={WINDOW_DISPOSE:"windowDispose",TEST_MODE_READY:"testModeReady",WINDOW_SERVICE_READY:"windowServiceReady",POST_MESSAGE_RESPONSE:"postMessageResponse",VIDEOS_UPDATE:"videosUpdate",APV_DISPOSED:"apvDisposed",PLAYER_VIDEO_VIEW_CLICK:"playerVideoViewClick",APV_LOGO_CLICK:"apvLogoClick",PLAYER_FOUND:"playerFound",PLAYER_PLACEHOLDER_FOUND:"playerPlaceholderFound",PLAYER_PLAYING:"playerPlaying",PLAYER_VIDEO_CHANGED:"playerVideoChanged",IMPRESSION:"impressionAnalytics",CLIENT_INIT_ANALYTICS:"clientInitAnalyticsEvent",DAILY_USER:"dailyUserCreated",FIRST_VIDEO_VIEW:"firstVideoView",SYSTEM_RUNNING:"systemRunning",NEW_VIDEO_DATE:"newVideoData",LOAD_MORE_FOUND:"loadmorefound",AUXCLICK_EVENT:"auxclick",MESSAGE_EVENT:"message",FORCE_FIND_ELMS:"forceFindElements",INARTICLE_CLICK:"inArticleClick",MOUSE_UP:"mouseup",REGULAR_CLICK:"regularClick",CONFIG_READY:"configReady",CLICK_FROM_POINT:"clickFromPoint",URL_MANIPULATION_INTERVAL_SERVICE:"URLManipulationIntervalService",ONE_SECONDS_INTERVAL:"ONE_SECOND",THREE_SECONDS_INTERVAL:"THREE_SECONDS",IN_ARTICLE_PLACER_DISPOSED:"IN_ARTICLE_PLACER_DISPOSED"},s.playmode={VIEWPORT:"viewport",HOVER:"hover",BLOCKINGHOVER:"blockinghover"},s.Events.Element={VISIBLE:"elmVisible",NON_VISIBLE:"elmNonVisible",ANALYTICS_VISIBLE:"elmVisibleAnalytics",CLICK:"elmClick",CONTEXT_MENU_OPEN:"elmContextMenuOpen",CONTEXT_MENU_CLOSE:"elmContextMenuClose",MUTANT:"elmMutant",MOUSE_ENTER:"mouseenter",FIRST_MOUSE_ENTER:"firstmouseenter",MOUSE_LEAVE:"mouseleave",READY:"ready",UPDATE_CAROUSEL_ELEMENT:"updateCarouselContainer"},s.Events.Players={PLAYING:"playing",PAUSED:"paused",LOADED:"loaded",ENDED:"ended",ERROR:"error",AD_EVENT:"adEvent"},s.Events.DomWindow={SCROLL:"scroll",FOCUS:"focus",SAFARI_FOCUS:"safariFocus",BLUR:"blur",RESIZE:"resize",CLICK:"click",VISIBILITY_CHANGE:"visibilitychange",ORIENTATION_CHANGE:"orientationchange"},s.UrlStructure={Origin:"origin",PathName:"pathname",Search:"search",Hash:"hash"},s.NEW_VIDEO_SOURCE={MINUTE_SNIPPET:0},s.Emitter={NEW_VIDEO_EVENT:2,VIDEO_VIEWS:42,CLICK:94,DAILY_USER:93,VIEWPORT:95,NEW_SCRAPE_EVENT:97,URL_REPORT:98,CUSTOM_EVENTS:"custom_analytic",CROWD_SOURCE:"crowd_source",CONTEXT_MENU_OPEN_EVENT:4,ANALYTICS_CLICK_EVENT:0,ANALYTICS_IMPRESSION_EVENT:1,ANALYTICS_BLOCKING_DISTANCE_POTENTIAL:2,ANALYTICS_SOURCE_WEB_VIEW_GENERAL:12,ANALYTICS_SOURCE_WEB_VIEW_ANDROID:10,ANALYTICS_SOURCE_WEB_VIEW_IOS:11,ANALYTICS_SOURCE_WEB_MOBILE:2,ANALYTICS_SOURCE_WEB_DESKTOP:1,PRODUCT_APV:0,PRODUCT_IN_ARTICLE:1,CLICK_TYPE_NONE:"n",CLICK_TYPE_CLICK:"c",MINUTE_VIEWPORT_EVENT:"minute_impression"},s.Placements={VIEWPORT_IMPRESSION:1,HOVER_IMPRESSION:2},s.ReportMethods={GIF:"gif",GET:"get",POST:"post"},s.OriginalSrc={PATH:"path",ATTR:"attr"},s.integrationDataSet={ENABLE:"data-min-enable",ANCHOR:"data-min-anchor",PREVIEW:"data-min-preview",SIZE:"data-min-size",VIEWPORT_MASK:"data-min-mask",VIEWPORT_OBSERVER:"data-min-observer",METHOD:"data-min-method",SOURCE_MOBILE:"mobile",SOURCE_DESKTOP:"desktop"},s.integrationDataSetElm={METHOD:"minMethod"},s.sizeSelector={CONTAINER:"CONTAINER"},e.debug?s.Events.MINUTE_READY="minuteReady_debug":s.Events.MINUTE_READY="minuteReady",s.logoPositions={"top-left":{left:0,top:0,marginRight:"2%",marginLeft:"2%",marginTop:"2%",marginBottom:"2%"},"top-right":{right:0,top:0,marginRight:"2%",marginLeft:"2%",marginTop:"2%",marginBottom:"2%"},"bottom-left":{left:0,bottom:0,marginRight:"2%",marginLeft:"2%",marginTop:"2%",marginBottom:"2%"},"bottom-right":{right:0,bottom:0,marginRight:"2%",marginLeft:"2%",marginTop:"2%",marginBottom:"2%"}},s.StorageKeys={DailyUser:"DailyUser",HadImp:"HadImp",TestMode:"TestMode",Analytics:"Analytics",FromCamp:"FromCamp",ViewedHlts:"ViewedHlts"},s.SESSION_TTL=18e5,s.USER_TTL=2592e6,s.minuteClasses={},s.minuteClasses.CONTAINER="minute-container",s.WELCOME_TO_MINUTE_SIZE={SMALL:"small",BIG:"big",OFF:"off"},e=e,e.ver="1.17.0.33",e._publisher=e._publisher||"",e._publisherDebugUrl=e._publisherDebugUrl||"";var l={};l.publisher={},l.publisher.utils=l.publisher.utils||{};var c={};c.getDateNow=c.getTimeNow=var u="production",d=c.getTimeNow(),p=window.performance?window.performance.timing.navigationStart:d,h=new a,g=(),"/");"/"==g&&(g=location.hostname),),c.cloneObject=c.extentObject=c.isArray=function(e){return Array.isArray(e)},l.utils=l.utils||{},l.utils.Signal=);var v=),f={HIGHLIGHT_APVS:"highlightAPV",ENABLE_DEBUG:"enableDebug",FORCE_TEST:"forceTest",FORCE_YOUTUBE_API:"forceYtApi",DISABLE_PROD:"disableProd",BYPASS_WINDOW_LOAD:"bypassWindowLoad",ACTIVE_ALL:"activeAll",PREVENT_PAGE_LOAD:"preventPageLoad",ENABLE_BLOCKING_DISTANCE:"enableBD",ENABLE_BLOCKING_DISTANCE_DEBUG:"enableBDDebug",MINUTE_UI_TEST:"uiTest",DEBUG_VISIBILITY:"debugVisibility",FORCE_ENABLE:"forceEnable",FORCE_CONTENT_CHANGED:"forceContentChanged"},m={QUERY_PARAMS_SOURCE:"queryParams",SCRIPT_HOSTNAME:"scriptHostname",IS_PROCUTION:"isProduction"};e.debugParams={},l.utils=l.utils||{},l.utils.Debounce=l.utils=l.utils||{},l.utils.Timer=l.utils.Timer.Tick="timerTick",l.utils.Timer.start=function(){function e(e,t){function n(e){e=e||{},v=!!e.isTrackAlsoDisplay,f=e.parentElement||null}function r(){h.start()}unction o(){c=null,h.kill(),h=null,d.removeAll(),d=null,p.removeAll(),p=null}function a(){return v?!!c.offsetParent:(f||document.body).contains(c)}function s(){var e=a();g!==e&&(g=e,g?(u.added&&u.added(),d.dispatch()):(u.removed&&u.removed(),p.dispatch()))}var c=e,u=t||{},d=new l.utils.Signal,p=new l.utils.Signal,h=new l.utils.Timer(500,s),g=a(),v=!1,f=null;return{start:r,stop:i,dispose:o,onAddToDom:d,onRemovedFromDom:p,setTrackingOptions:n}}l.utils.DomElementTracker=e}();var E=!),),),),c.log=l.utils.logger.log,c.logObject=l.utils.logger.logObject,c.logWarning=l.utils.logger.logWarning,c.logError=l.utils.logger.logError,c.setTestGroup=l.utils.logger.setTestGroup,c.consoleNative=c.cleanWindowInstance.console,),c.globalTasks={},c.isDebugEnabled=c.isNative=c.sendBeaconNative=),c.generateUID=c.b64EncodeUnicode=c.timeRounder=function(e){return Math.round(10*e)/10},c.getComputedStyle=c.extendObject=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},c.setMediaElementSize=c.extractElementSize=c.getMediaElementSize=c.ElementObjectFit=),c.isPromise=c.appendDebugToolsQueryData=),c.getAllDebugParamsString=c.debugParamsOverrides=c.parseUrlDebugParams=c.parseScriptDomain=c.getScriptHostname=),c.validateScraperURL=c.isPlacementEnabled=c.isCurrentUrlFilterValid=c.isUrlFilterValid=c.isUrlMatchPattern=c["extends"]=c.getlistAsArray=c.isElementHasSize=c.parseBool=c.parsePercentValue=c.generateUnique=function(){return"xxxxxxxxxxxx-xxxx-4xxx-yxxxxxx-xxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},c.generateShortUnique=c.getRequestAnimationFrame=c.isMidnightPassed=c.calcDateNextMidnightUTC=c.calcDatePlusMinutesUTC=c.windowDispatchEvent=c.isIFrame=c.isInt=c.isSupportIntersectionObserver=),c.getDayUTCCookie=c.addWinEventListener=c.removeWinEventListener=c.hasOwnProperty=Object.prototype.hasOwnProperty,c.isObjEmpty=c.isEmpty=c.includes=c.isJsonString=c.isDateString=c.getParamsFromUrl=c.isValidURL=function(){function e(t,n){e.__superCtor__.call(this),this.apvData=t,this.link=n,this._mobileContextMenuTimeoutCode=0,this._mobileTouchStartTime=0,this._mobileTouchEndTimeoutCode=0,q.isMobile()?this.attachMobileEvents():this.attachDesktopEvents()}var t=700,n=1500;c["extends"](e,a),e.prototype.attachMobileEvents=function(){var e=this,t=function(){e.handleLinkTouchStart(e.apvData)},n=function(){e.handleLinkTouchEnd(e.apvData)};this.link.addEventListener("touchstart",t,!!q.supportsPassive&&{passive:!0,capture:!1}),this.link.addEventListener("touchend",n),this.apvData.onDisposed().addOnce(},e.prototype.attachDesktopEvents=function(){var e=this,t=this.link.addEventListener?(this.link.addEventListener("contextmenu",t),this.apvData.onDisposed().addOnce(function(){e.link.removeEventListener("contextmenu",t)})):(this.link.attachEvent("oncontextmenu",t),this.apvData.onDisposed().addOnce()},e.prototype.handleLinkTouchStart=function(){var e=this;this._mobileContextMenuTimeoutCode=setTimeout(function(){e.contextMenuHandleOpen()},t),this._mobileTouchEndTimeoutCode=setTimeout(function(){e.handleTouchEndTimeout()},n),this._mobileTouchStartTime=c.getTimeNow()},e.prototype.handleLinkTouchEnd=function(){if(0!==this._mobileTouchEndTimeoutCode&&(clearTimeout(this._mobileTouchEndTimeoutCode),this._mobileTouchEndTimeoutCode=0),0!==this._mobileContextMenuTimeoutCode){clearTimeout(this._mobileContextMenuTimeoutCode),this._mobileContextMenuTimeoutCode=0;var e=c.getTimeNow()-this._mobileTouchStartTime;e<t&&this.dispatchEvent("contextMenuOpen",this.apvData)}},e.prototype.handleTouchEndTimeout=e.prototype.contextMenuHandleOpen=l.utils.ContextMenuObserver=e}(),function(){function e(e,t){function n(){f.addEventListener(h,i,!0),q.isMobile()&&f.addEventListener("touchstart",o,!q.supportsPassive||{passive:!0,capture:!0}),q.isIE()||q.isEdge()?f.addEventListener(s.Events.MOUSE_UP,r,!0):f.addEventListener(s.Events.AUXCLICK_EVENT,i,!0)}function r(e){1===e.button&&(v.dispatchEvent(h),t&&(t(),d()))}function i(e){e.type===s.Events.AUXCLICK_EVENT&&e.button>=2||(v.dispatchEvent(h),t&&(t(e),d()))}function o(){f&&(m=!1,f.addEventListener("touchmove",l,!0),f.addEventListener("touchend",c,!0),p=setTimeout(u,g))}unction c(e){m===!1&&i(e)}function u(){f&&(f.removeEventListener("touchmove",l,!0),f.removeEventListener("touchend",c,!0))}function d(){v.removeAllEventListener(),clearTimeout(p),f&&(f.removeEventListener(h,i,!0),f.removeEventListener(s.Events.AUXCLICK_EVENT,i,!0),f.removeEventListener("touchstart",o,!0),u(),f=null)}var p,h="click",g=350,v=new a,f=e,m=!1;return n(),{addEventListener:v.addEventListener.bind(v),removeEventListener:v.removeEventListener.bind(v),addEventListenerOnce:v.addEventListenerOnce.bind(v),dispose:d}}l.utils=l.utils||{},l.utils.MouseClickEventObserver=e}(),);var y=),_=),A=P=(),));!function(){var e={};l.utils=l.utils||{},l.utils.ApvElementUtils=e,e.setElementAsReplaced=e.unmarkElementAsReplaced=e.removeApv=function(e){e.minContainer.remove(),l.utils.ApvElementUtils.unmarkElementAsReplaced(e.elementToReplace)},e.testIsValidRatio=function(e){var t=e.clientWidth,n=e.clientHeight;return!(t/n<Z.getValidRatio())},e.getIsElementReplaced=();var S=D=I=function(e,t){ d(){return me}unction g(){return pe.scraper.filter}unction f(){return he.rezVideo}function m(){return he.rezVertical}unction y(){return pe.scraper.enableEventCollection}function _(){return pe.scraper.type2}function A(){return pe.scraper.IAContainers}function P(){return pe.scraper.featuredWrapper}function S(){return 50}function D(){return 1}function I(){return 1}function b(){return pe.regularPlacer.blockingDistance.staticBlockersSelector}function C(){return 10}function w(){return pe.general.testGroupSize}function T(){return"opacity 0.5s ease-out"}nction O(){return"Optimized by minute.ly"}unction V(){return pe.general.errorReport}function k(){return pe.inArticlePlacer.active}function U(){return pe.inArticlePlacer.showLogo}function F(){return pe.inArticlePlacer.logoPosition}function M(){return pe.regularPlacer.maxApvsPerPage}function B(){return pe.regularPlacer.minimumWidth}function x(){return pe.regularPlacer.minimumHeight}function W(){return pe.regularPlacer.validRatio}function H(){return pe.regularPlacer.logoPosition}function G(){return pe.regularPlacer.renderModulus}function z(){return pe.regularPlacer.applyZIndexReorder}function q(){return pe.regularPlacer.showLogo}function Y(){return pe.regularPlacer.watchFull}function j(){return pe.regularPlacer.disableParentTransform}function K(){return pe.regularPlacer.playerTransformScale}function J(){return pe.regularPlacer.containerTransformScale}function Z(){return pe.inArticlePlacer.watchFull}function X(){return pe.regularPlacer.blockingDistance.radius}function $(){return pe.regularPlacer.clickByPoint}function Q(){return he.server_version}unction te(){return pe.general.shareMinuteEvent}unction re(){return pe.general.shouldWaitForLoadEvent}function ie(){return pe.regularPlacer.noDuplicateVideos}nction se(){return pe.scraper.autopush}function le(){return pe.regularPlacer.trackSize}function ce(){return pe.general.welcomeToMinuteSize}function ue(){return pe.metadataEnhancer.publishedAt}function de(){return pe.metadataEnhancer.tags}var pe={},he={},ge={},ve=null,fe=null,me=e._publisher,Ee=null,ye=null,_e=null;return{init:n,getFilterPlacements:v,getStaticBlockerSelector:b,getEpsilonPercentage:C,getMaxApvsPerPage:M,getMinimumWidth:B,getMinimumHeight:x,getValidRatio:W,getLogoPosition:H,getRenderModulus:G,shouldApplyZIndexReorder:z,getShowLogo:q,getRegularPlacerWatchFullSettings:Y,isClickByPointEnabled:$,getBlockingDistanceRadius:X,noDuplicateVideos:ie,isBlockingServiceActive:oe,shouldTrackSize:le,getDisableParentTransform:j,getRegularPlacerPlayerTransformScale:K,getRegularPlacerContainerTransformScale:J,getTestGroupSize:w,getIsEnableErrorReport:V,shareMinuteEvent:te,shouldWaitForLoadEvent:re,getPublisherId:d,getPublisherIdNumber:p,getRezVideo:f,getRezVertical:m,getViewportAnalyticsPercentage:S,getViewportAnalyticsTimeSpan:D,getViewportPercentage:I,getEffectApvTransitionVideo:T,getCanReportImmediately:L,getTooltip:O,getBaseVideoUrl:N,getRelativePlacements:R,getServerVersion:Q,getBaseLinkUrl:ee,getPlaymode:ne,isInArticlePlacerActive:k,getInArticleViewportMask:l,getInArticleShowLogo:U,getInArticleLogoPosition:F,getInArticlePlacerWatchFullSettings:Z,getIgnoreShouldRender:ae,isScraperEnable:E,getFilterScraper:g,isScraperEnableEventCollection:y,getScraperType2:_,getIAContainers:A,getFeaturedWrapper:P,getAutopushCriteria:se,getWelcomeToMinuteSize:ce,getPublishedAtConfig:ue,getTagsConfig:de}},b=function(e,t,n,r){function i(e){var t=0;return 1==e&&(t=2),n.isMobile()&&t++,t}function o(e,t){return""+e.hltId+"_"+t}function a(e,n){var r=l(),i=o(e,n);if(!(r.indexOf(i)>-1)){for(;r.length>200;)r.shift();r.push(i),t.setItem(b,r.toString())}}function l(){var e=t.getItem(b);return e?e=e.split(","):[]}function c(e,t){for(var n=l(),r=0;r<n.length;r++)for(var i=n[r],a=0;a<e.length;a++){var s=o(e[a],t);if(s==i)return e[a]}return null}function u(t,n){for(var r=null,o=i(n),a=0;a<t.length;a++){var s=t[a];s.weights[o]&&(r&&e.logError("more than one hlt is set to product"),r=s)}return r}function d(e,t){var n=u(e,t);a(n,t)}function p(t,n){for(var r=0,i=0;i<t.length;i++){var o=t[i];r+=o.weights[D[I[n]]]}for(var a=Math.random(),s=0,l=0;l<t.length;l++){var o=t[l];if(s+=o.weights[D[I[n]]],a<s/r)return o}e.logWarning("shouldnt get here")}function h(e,t){switch(e.length){case 0:return null;case 1:return e[0]}var n=c(e,t);return n||(n=p(e,t)),n}function g(e,t){return e&&(e.weights=[0,0,0,0],e.weights[D[t]]=1),e}function v(t){return t.weights.split||e.logWarning("weights are not string, make sure no two snippets and config is well"),t.weights=t.weights.split?t.weights.split(","):t.weights,t.weights=t.weights.map(Number),t}function f(t){for(var n=[],r={},i=0;i<I.length;i++)r[I[i]]=[];for(var o=0;o<t.length;o++){var a=t[o];a=v(a);for(var s=0;s<I.length;s++){var l=D[I[s]];a.weights[l]>0&&r[I[s]].push(a)}}for(var i=0;i<I.length;i++){var c=h(r[I[i]],i);if(c){var u=e.cloneObject(c);u=g(u,I[i]),m(n,u)&&e.logError("shouldnt choose two of the exact same"),n.push(u)}}return n}function m(e,t){for(var n=Object.keys(t),r=0;r<e.length;r++){var i=!1,o=e[r];if(n.length===Object.keys(o).length){for(var a=0;a<n.length;a++){if(e[r][n[a]]!==t[n[a]]){i=!1;break}i=!0}if(i)return!0}}return!1}function E(e){return C?Math.floor(100*Math.random())+1:e}function y(t){if(0==t.length)return t;for(var n=0;n<t.length;n++){var r=t[n];r.rank&&(e.isArray(r.rank)?e.logWarning("BlockingD: should not run twice on rank param..."):r.rank=r.rank.split(","),r.rank=parseFloat(r.rank[D.REGULAR]),r.rank=E(r.rank))}return t}function _(e){var t=[];switch(e.length){case 0:t=[];break;case 1:var n=v(e[0]);t=[n];break;default:t=f(e)}return t=y(t)}function A(t,n){for(var r=i(n),o=!1,a=0;a<t.length;a++){var s=t[a];if(s.weights[r]>0){if(0==!!s.vidUrl)continue;o&&e.logError("shouldnt be more than one highlight per product at this stage"),o=!0}}return o}function P(){C=Math.floor(100*Math.random())<r.getEpsilonPercentage(),C&&e.log("BlockingD: This page is now Epsilon")}function S(t){var n=u(t,s.Emitter.PRODUCT_APV);return!!n&&e.parseBool(n.hasVertical,!1)}var D={};D.REGULAR=n.isDesktop()?0:1,D.IN_ARTICLE=n.isDesktop()?2:3;var I=Object.keys(D),b=s.StorageKeys.ViewedHlts,C=!1;return{init:P,initActiveHighlights:_,setHighlightViewed:d,getHltByProduct:u,hasAPVByProduct:A,supportVertical:S}},C=function(e,t){function n(n){function r(){if(p=parseInt(y.id),E=y.articleUrl,g=e.parseBool(y.doesCollect),h=parseInt(y.minVidId),v=y.videoRatio?parseFloat(y.videoRatio):1.78,f=y.highlights,m=y.vidId,f&&e.isArray(f))for(var t=0;t<f.length;t++)f[t].vidUrl="https://"+_+f[t].vidUrl}function i(){return p}unction a(){return E}function s(){return g}function l(){return m}function c(){return h}function u(){return f}function d(){return v}var p,h,g,v,f,m,E,y=e.cloneObject(n),_=t.getBaseVideoUrl();return r(),{getArticleId:i,getArticleUrl:a,getDoesCollect:s,getPublisherVideoId:l,getVideoDBId:c,getHighlights:u,getVideoRatio:d,hasAPVByProduct:o}}function r(e){return new n(e)}return{create:r}},w=T=function(){function e(e){function t(){u.selectors=u.selectors||{}}function n(){return u.selectors.preview}unction i(){return u.selectors.anchor}function o(){return u.selectors.container}function a(){return u.selectors.viewportMask}function s(){return u.selectors.viewportObserver}function l(){return u.name}ar u=e;return t(),{getPreviewSelector:n,getSizeSelector:r,getAnchorSelector:i,getContainerSelector:o,getName:l,getMethod:c,getViewportMaskSelector:a,getViewportObserverSelector:s}}eturn{create:t}},L=function(e,t,n){function r(t){if(l=t.getRelativePlacements(),0===l.length)return void o.log("Configuration has NO PLACEMENTS!");for(var r=n.isDeviceTablet()||!n.isMobile(),i=n.isMobile()&&!n.isDeviceTablet(),u=0;u<l.length;u++){var d=l[u];if(d.source){var p=i&&d.source!==s.integrationDataSet.SOURCE_MOBILE,h=r&&d.source!==s.integrationDataSet.SOURCE_DESKTOP;if(h||p)continue}if(d.filter){var g=d.filter;g.white=g.white||[],g.black=g.black||[];var v=!o.isCurrentUrlFilterValid(g);if(v){o.log("** Placement name: "+d.name+" canceled by placement filter. See placement. **");continue}}if(!d.selectors)return e.log("no selectors where set"),void(d.selectors={});d.selectors.preview=d.selectors.preview||"img",d.selectors.anchor=d.selectors.anchor||"a",d.selectors.click=d.selectors.click||"",c.push(a.create(d))}}function i(){return c}var o=e,a=t,l=[],c=[];return{init:r,getAllPlacements:i}},R=function(){unction n(){window.addEventListener("visibilitychange",}function r(e,t){var n=new l.utils.Debounce(t,d,null,e);n.enableFilter(),window.addEventListener(e,!0)}function i(){var e=new l.utils.Debounce(m,d,null,s.Events.DomWindow.SCROLL);e.enableFilter();var t;q.isMobile()&&q.isSafari()&&(t=new l.utils.Debounce(1e3,d,null,s.Events.DomWindow.SAFARI_FOCUS),t.enableFilter()),window.addEventListener(s.Events.DomWindow.FOCUS,}function o(){var e=window.addEventListener?window.addEventListener(s.Events.DomWindow.BLUR,e,!1):window.attachEvent&&window.attachEvent(s.Events.DomWindow.BLUR,e)}function a(){r(s.Events.DomWindow.RESIZE,v)}function u(){e.debugParams[f.DEBUG_VISIBILITY]&&c.log("DEBUG_VISIBILITY: scroll is calculated relative to window"),r(s.Events.DomWindow.SCROLL,g)}unction p(){(q.isMobile||q.isiPad())&&"undefined"!=typeof window.onorientationchange&&window.addEventListener(s.Events.DomWindow.ORIENTATION_CHANGE,function(){setTimeout(function(){d(s.Events.DomWindow.ORIENTATION_CHANGE,!0)},1e3)})}var g=100,v=50,m=50;return{init:t}}(),O=function(t,n){function r(e,t){t||(t={});var n=t.callbackName||"void",r=t.onSuccess||p,i=t.onTimeout||p,o=window.setTimeout(d);window[n]=function(e){window.clearTimeout(o),r(e),window[n]=function(){}};var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}function i(e){return("jsc"+c.b64EncodeUnicode(e||"JsonMinuteReadyNoURL")).replace(/=/g,"")}unction a(a){if(t.isBrowserSupported()){u=u||e._publisherDebugUrl||s.Urls.Configuration+"api/"+n.getServerVersion()+"/web/configuration/"+e._publisher+"/"+h+"/"+g+".json?",a.onSuccess=a.onSuccess||l,a.onTimeout=a.onTimeout||p;var d=u,f=a.pageUrl||c.urls.getCurrentCanonicalURL(),m=i(f),E={config:!1};d=d.replace(h,o(f)),d=d.replace(g,o(JSON.stringify(E))),d+="callback="+m,v.indexOf(f)>-1||(v.push(f),r(d,{callbackName:m,onTimeout:a.onTimeout,onSuccess:a.onSuccess}))}}ar u,d=t.isMobile()?1e4:5e3,p=function(){},h="[article_url]",g="[params]",v=[];return{loadNextArticle:a}},N=function(){function e(e){var t={};for(var r in e){var i="undefined"!=typeof n[r];if(i){var o=n[r];t[o]=e[r]}else t[r]=e[r]}return t}function t(e){var t={};for(var n in e){var r="undefined"!=typeof i[n];if(r){var o=i[n];t[o]=e[n]}else t[n]=e[n]}return t}var n={id:"a",highlight_id:"b",comp:"c",publisher:"d",hadImpression:"e",hadImpressionSession:"f",url:"g",script_time:"h",config_time:"i",event_time_from_genesis:"j",event_time_from_minute_genesis:"k",test_mode:"l",playMode:"m",sub_test_group:"n",source:"o",type:"p",placementFunction:"q",uniq:"r",product:"s",placement:"t"},r=i=r(n);return{compress:e,extract:t}},V=k=function(e,t){function n(){return{time:e.getTimeNow(),list:[]}}unction i(){var n;d.time=e.getTimeNow(),n=JSON.stringify(d),n=n.replace(/"/g,""),t.setItem(u,n)}function o(){var e=t.getItem(u);d=e&&c.test(e)?a(e):d||n()}function a(e){var t,n=e.replace("time:",'"time":').replace("list:",'"list":');return n.indexOf("[]")===-1&&(n=n.replace("[",'["').replace("]",'"]'),t=n.split("["),t[1]=t[1].replace(/,/g,'","'),n=t.join("[")),JSON.parse(n)}function s(t){function n(){return o(),d.list.indexOf(a)>-1}function r(){d.time=e.getTimeNow(),d.list.indexOf(a)>-1&&e.logError("Duplicated key in Usher! _key: "+a),d.list.push(a),i()}var a=t;return{isSent:n,setAnalyticState:r}}function l(e,t,n,r,i){var o=e.toString()+t+n+(r?"t":"f")+i;return new s(o)}var c=/{(time):\d+,(list):\[([\d\w,]*)+]}/,u="SessionUniqs",d={};return{get:l,init:r}},U=function(t,n,r,i,o,a){function l(e){h=n.isTestGroup(),p=r.isMobile(),g=!0,f=e}function c(e,n){(g||n)&&o.send(s.Emitter.VIEWPORT,t.cloneObject(e))}function u(e,t,n){var r=a.get(e.getArticleId(),t.placementFunction,s.Emitter.CLICK_TYPE_NONE,h,n);r.isSent()||(c(t),r.setAnalyticState())}function d(n,i,o){var a=o&&o.getBelongToUrl()||t.urls.getCurrentCanonicalURL(),s={id:n.getArticleId(),highlight_id:o.getHighlightId(),comp:r.isBrowserSupported()?1:0,publisher:e._publisher,hadImpression:f.hadImpression(n.getPublisherVideoId()),hadImpressionSession:f.hadImpressionSession(),url:a,script_time:v.getScriptTime(),config_time:v.getConfigTime(),event_time_from_genesis:v.getTimeFromGenesis(),event_time_from_minute_genesis:v.getTimeFromMinuteGenesis(),test_mode:h,source:r.getAnalyticsSource()};return t.extendObject(s,i)}var p,h=null,g=!1,f=null;return{init:l,pushAnalytics:c,sendSessionImpression:u,getAnalyticPayloadWithArticleData:d}},F=M=function(){function e(e,t){var n=e.getArticleData();n&&(i(n.getArticleId()),g(n,{type:s.Emitter.ANALYTICS_CLICK_EVENT,uniq:!1,placementFunction:s.Placements.HOVER_IMPRESSION,product:e.getProduct(),placement:e.getName(),playMode:e.getPlaymodeEnum()},!1,e,t),h.dispatchEvent(s.Events.REGULAR_CLICK,e))}function t(t,n){if(!(n.hasDisposed()||E.indexOf(t)>-1)){var r=new l.utils.MouseClickEventObserver(t,function(t){e(n,t)});n.onDisposed().addOnce(,o(n,t),E.push(t)}}function n(e){for(var n=c.cloneArray(e.getClickElements()),r=0;r<n.length;r++){var i=n[r];t(i,e)}t(e.getContainerElement(),e)}unction i(e){m>0&&(clearTimeout(m),m=0,te.removeLogDelayById(e))}function o(e,t){var n=new l.utils.ContextMenuObserver(e,t);n.addEventListener("contextMenuOpen",v),n.addEventListener("contextMenuHandleOpen",u)}function a(e){i(e),m=setTimeout(f)}function u(e){var t=e.data,n=t.getArticleData();a(n.getArticleId());var r=t.getProduct(),i=ie.getAnalyticPayloadWithArticleData(n,{type:s.Emitter.CONTEXT_MENU_OPEN_EVENT,placementFunction:s.Placements.HOVER_IMPRESSION,uniq:!1,product:r},t);te.logDelay(i)}function d(t){t.hasDisposed()||t.getDomAdapter().addEventListener(s.Events.APV_LOGO_CLICK,}function p(){var e=Q.getRegularArticleDataByURL(c.urls.getCurrentCanonicalURL());e&&te.sendLogDelayById(e.getArticleId())}function g(e,t,n,r,i){var o=t.product||0,a=o===s.Emitter.PRODUCT_IN_ARTICLE;if(r||(r=ae.getApvDataByKeyProduct(e.getPublisherVideoId(),o)),(a||n||Z.getCanReportImmediately())&&h.dispatchEvent(s.Events.INARTICLE_CLICK,r,i),ae.getShouldSendClickEvent(r)){var l=ie.getAnalyticPayloadWithArticleData(e,t,r);te.log(l)}ae.setClickAlreadySent(r)}function v(e){var t=e.data;te.removeLogDelayById(t.getArticleData().getArticleId())}var f=6e4,m=0,E=[];return{addLinkSelector:n,addLogoClickListener:d,sendDelayedClicks:p,addManualAnchor:r,sendClick:g}}(),B=),x=!function(){ar t;l.analytics=l.analytics||{};var n={INIT:0,IN_VIEWPORT:1,OUT_VIEWPORT:2,DONE:3};l.analytics.ViewportAnalyticsService=e,e.prototype.init=function(){var e=this;t=Z.getViewportAnalyticsPercentage(),h.addEventListener(s.Events.DomWindow.RESIZE,function(){e._debounceStartAll()}),h.addEventListener(s.Events.DomWindow.SCROLL,,e._debounceStartAll()},e.prototype.register=function(e){e.getDomAdapter().addEventListener(s.Events.Element.READY,this.addObservedElement,this),e.getDomAdapter().addEventListener(s.Events.Element.MUTANT,this.notifyVisibleFromMutant,this),e.onDisposed().addOnce(this.unregister,this)},e.prototype.unregister=function(e){e.getDomAdapter().removeEventListener(s.Events.Element.READY,this.addObservedElement,this),e.getDomAdapter().removeEventListener(s.Events.Element.ANALYTICS_VISIBLE,this.handleDomAdapterViewportEvent,this),e.getDomAdapter().removeEventListener(s.Events.Element.MUTANT,this.notifyVisibleFromMutant,this),this.removeSubjectByApvData(e)},e.prototype.addObservedElement=function(e){var t=e.data,r=J.isTestGroup()?t.apvData.getElementToReplace():t.apvData.getApvPlayer().getApvElement(),i={};i.id=t.apvData.getUniqId(),i.articleData=t.apvData.getArticleData(),i.elem=r,i.product=t.apvData.getProduct(),i.apvData=t.apvData,i.viewportMaskElement=t.apvData.getViewportMaskElement(),i.state=n.INIT;for(var o=!1,a=0;a<this._observedElements.length;a++)if(this._observedElements[a].id===t.apvData.getUniqId()){this._observedElements[a]=i,o=!0;break}o||this._observedElements.push(i),this.attachClickListeners(i.apvData),i.debounce=new l.utils.Debounce(Z.getViewportAnalyticsTimeSpan(),this._handleObservedElementDebounce,this,i),i.debounce.enableFilter(),i.apvData.getDomAdapter().addEventListener(s.Events.Element.ANALYTICS_VISIBLE,this.handleDomAdapterViewportEvent.bind(this))},e.prototype.removeSubjectByApvData=function(e){for(var t=0;t<this._observedElements.length;t++){var n=this._observedElements[t];if(e.getUniqId()===n.id){n.apvData=null,n.articleData=null,n.viewportMaskElement=null,n.elem=null,n.debounce.kill(),n.debounce=null,this._observedElements.splice(t,1);break}}},e.prototype.handleDomAdapterViewportEvent=function(e){var t=e.data.apvData,n=e.data.percentsVisible>=Z.getViewportAnalyticsPercentage();this.notifyVisible(t,n)},e.prototype._debounceStartAll=function(){for(var e=0;e<this._observedElements.length;e++){var t=this._observedElements[e];t.debounce.start()}},e.prototype.notifyVisible=function(e,t){for(var n=0;n<this._observedElements.length;n++){var r=this._observedElements[n];if(r.apvData===e)return r.isVisible=t,void r.debounce.start()}},e.prototype.notifyVisibleFromMutant=function(e){var t=this;setTimeout(e.data.timeout)},e.prototype._handleObservedElementDebounce=function(e){this.doUpdate(e)&&Z.getViewportAnalyticsTimeSpan()>=0&&setTimeout(this.doUpdate.bind(this,e,!0),Z.getViewportAnalyticsTimeSpan())},e.prototype.doUpdate=function(e,t){var r;return r=!(!c.isIFrame()&&!document.hasFocus())&&e.isVisible,(!e.apvData||!e.apvData.hasDisposed())&&(r?this._handleVisible(e,!!t):e.state=n.OUT_VIEWPORT,r)},e.prototype._handleVisible=function(e,t){switch(e.state){case n.IN_VIEWPORT:t&&(this._inViewport(e),e.state=n.DONE);break;case n.INIT:case n.OUT_VIEWPORT:e.state=n.IN_VIEWPORT}},e.prototype._inViewport=function(e){e.apvData&&e.apvData.getShouldSendImpression()&&this.sendImpression(e)},e.prototype.sendImpression=function(e){this.setHadImpressionSession(),e.apvData.setImpressionHasSent();var t={type:s.Emitter.ANALYTICS_IMPRESSION_EVENT,placementFunction:s.Placements.VIEWPORT_IMPRESSION,uniq:!1,product:e.apvData.getProduct(),placement:e.apvData.getName(),script_time:v.getScriptTime(),config_time:v.getConfigTime(),playMode:e.apvData.getPlaymodeEnum()};Z.getRezVertical()&&(t.vertical=e.apvData.isApvVertical());var n=ie.getAnalyticPayloadWithArticleData(e.articleData,t,e.apvData);pe.dispatchImpression(e),ie.pushAnalytics(n),ae.setImpressionSent(e.apvData),this.sendSessionImpression(e),$.setHighlightViewed(e.apvData.getHighlights(),e.apvData.getProduct()),h.dispatchEvent(s.Events.IMPRESSION)},e.prototype.sendSessionImpression=function(e){var t=e.apvData.getProduct(),n=ie.getAnalyticPayloadWithArticleData(e.articleData,{type:s.Emitter.ANALYTICS_IMPRESSION_EVENT,placementFunction:s.Placements.VIEWPORT_IMPRESSION,uniq:!0,product:t,placement:e.apvData.getName(),script_time:v.getScriptTime(),config_time:v.getConfigTime(),playMode:e.apvData.getPlaymodeEnum()},e.apvData);Z.getRezVertical()&&(n.vertical=e.apvData.isApvVertical()),ie.sendSessionImpression(e.articleData,n,t)},e.prototype.attachClickListeners=function(e){if(!ae.getIsClickRegistered(e)){switch(e.getProduct()){case s.Emitter.PRODUCT_APV:M.addLogoClickListener(e)}M.addManualAnchor(e),M.addLinkSelector(e),ae.setIsClickRegistered(e,!0)}},e.prototype.hadImpression=function(e){for(var t=0;t<this._observedElements.length;t++){var n=this._observedElements[t],r=n.articleData.getPublisherVideoId()===e;if(r&&n.apvData.getDidImpressionSent()&&n.apvData.getProduct()===s.Emitter.PRODUCT_IN_ARTICLE)return!0}return!1},e.prototype.hadImpressionSession=e.prototype.setHadImpressionSession=(),function(){function e(){return l.publisher.utils.isUrlHomePage(location.href)?location.origin:""}unction n(){return r}var r=document.referrer;window.self===window.top?(l.publisher.getFirstArticleUrl=e,l.publisher.getCustomUrl=t):l.publisher.getCustomUrl=l.publisher.getFirstArticleUrl=n}(),function(){function e(){}var t=new l.utils.Debounce(500,e);t.enableFilter(200),h.addEventListener(s.Events.DomWindow.SCROLL,t.start.bind(t))}(),function(){function e(e){if(u)return u;for(var t=Object.keys(e||{}),n=0;n<t.length;n++){var r=t[n];if(r.indexOf("__reactInternalInstance")>=0)return u=r.replace(s,"$1")}return null}unction n(t){try{return t[e(t)]._currentElement._owner.getPublicInstance()}catch(n){}return null}function r(t){try{var n=t[e(t)].memoizedProps.children,r=n.filter(;return r[0].props.store}catch(i){}return null}function i(t){for(var n=c.cloneArray(t.children),r=0;r<n.length;r++){var i=n[r],o=i[e(i)];if(o&&o._currentElement&&o._currentElement._owner&&o._currentElement._owner._instance&&o._currentElement._owner._instance.player)return o._currentElement._owner._instance.player}return null}.publisher.utils=l.publisher.utils||{};var a=l.publisher.utils,s=/__reactInternalInstance([.]+)$/i,u="";a.getReactData=a.isAnvatoPlayer=function(e){try{return!!e.querySelector("iframe").contentWindow.anvp}catch(t){}return!1},a.getReactVersion=a.getNflFrameDataRegex=function(){return"^(?:persistent-video-player|video-player|playaction-\\d+-)$"},a.getPlayerIFrameData=function(e){var t=e.querySelector("iframe");if(!t)return!1;var n=t.contentWindow.anvp,r=new RegExp(a.getNflFrameDataRegex(),"i");for(var i in n)if(r.test(i)&&n[i].config)return n[i].config;c.logError("Not suppose to get here, wrong element provided.")},a.getPlayerFeatured=function(e){var t=e.querySelector("iframe"),n=/^(?:video-player|playaction-0-)$/i;if(!t)return n.test(e.id);var r=t.contentWindow.anvp;for(var i in r)if(n.test(i))return!0;return!1},a.getPlayerComponent=a.getPlayerEventDispatcher=function(e){var t=e;return e instanceof HTMLElement&&(t=a.getPlayerComponent(e)),t&&t._eventDispatcher},a.getAdsComponent=a.getVideoUrlByContainer=function(e){var t=a.getReactData(e);if(t){if(t.props&&t.props.data)return t.props.data.shareUrl;if(t.props&&t.props.children&&t.props.children.props&&t.props.children.props.title)return t.props.children.props.title.url}return e.getAttribute("data-url")},a.getAnchorElement=function(e){return e},a.getPlayerInitialVideoId=a.getVideoDataFromPlayer=a.isFigurePlayerReady=function(t,n){return t.currentVideo&&t.currentVideo.id&&n.querySelector("[data-test-id]")&&e(n)&&n[e(n)]},a.getPlayerPoster=var d=/^https?:\/\/www\.nfl\.com\/m\/share\?p=(.+)/i,p=/^https?:\/\/www\.nfl\.com\/share\/(.+)/i,h="http://www.nfl.com";a.parseSharedUrl=function(e){return p.test(e)?h+"/now/"+e.replace(p,"$1"):d.test(e)?h+decodeURIComponent(e.replace(d,"$1")):e},a.parseCommercialsUrl=function(e){return p.test(e)?h+"/super-bowl/commercials/"+e.replace(p,"$1"):e},a.isElementLazyLoad=function(e){if(q.isIE()||q.isEdge())return!1;var t=e.containerElement.querySelectorAll("img");if(0===t.length)return!0;var n="https://static.nfl.com/static/content/public/static/wildcat/assets/icons/ic_playVideo.svg";return t.length>=1&&t[0].src===n||(1!==t.length||t[0].src===n)&&(!(t.length>1&&t[0].src!==n)&&(c.logError("HOW DID WE GET HERE???"),!1))};var g=["/super-bowl/commercials","/videos"];a.isUrlHomePage=function(e){var t=c.urls.getCanonicalURL(e);return""===t||g.indexOf(t)>-1}}(),function(){.scrap=l.scrap||{},l.scrap.utils=l.scrap.utils||{},l.scrap.player=l.scrap.player||{},l.scrap.detector=l.scrap.detector||{},l.scrap.driver=l.scrap.driver||{},l.scrap.picker=l.scrap.picker||{},l.scrap.plugin=l.scrap.plugin||{},l.scrap.utils.defineError=l.scrap.REGISTRED_DRIVERS=JSON.parse("{}"),l.scrap.PlayersNameEnum=JSON.parse('{"NFL":"NFL","NFLTheoPlayer":"NFLTheoPlayer"}'),l.scrap.PlayerEnum={DEFAULT:99,DEFAULT_99:99,Flowplayer:1,OOYALA:2,YOUTUBE:6,DailyMotion:6,Jwplayer:8,VideoJSIFrame:12,VideoJS:13,NBA:15,Edge:17,ThePlatformFoxSports:26,ThePlatformBravo:29,NFL:32,ThePlatformCnbc:33,CINCOPA:34,VjsNew:36,Channel10:37,MLB:39,EdgeBrightcove:39,CBSsports:40,WsbtvAnvato:41,JWFox:6,ZEE5:43,Vidible:44,DUMONT:46,MMM:47,Fotbolls:48,MLB_FORGE:49,MAGENTA:50,ESPORT:51,ELEAGUE:52,Telecine:53,WWE:54,UFC:55,GLOMEX:56,MOTORSPORT:6,VideoJSPethnow:13,NBC_Chicago:57,Motor1:6,VideoJSPethnow:13,Gray:99,Krone:99,Calcalist:99,USAToday:99,JwplayerArmstrong:8,Telemoundo:6,FoxSportsAU:99,TaboolaWionews:99,JwplayerCycling:8,Essence:99,JwplayerGolfChannel:99,NFLTheoPlayer:99,MorganPost:99,JwplayerSport1:99};var t=l.scrap.ScrapPlugin={VIDEO_VIEW:1,VISUAL_CLICKS:3,PLAYER_CONTENT_CHANGED:5,PLAYER_FOUND:7,PLACEHOLDER_FOUND:8,PLAYER_VIDEO_CHANGED:9};l.scrap.ScrapPluginAll=[t.VIDEO_VIEW,t.VISUAL_CLICKS,t.PLAYER_FOUND,t.PLACEHOLDER_FOUND,t.PLAYER_VIDEO_CHANGED],l.scrap.player.SubTypes={DEFAULT:"default"},l.scrap.driver={},l.scrap.driver.PlayerAction={NONE:"none",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",ENDED:"ended",SEEK_START:"seekStart",SEEK_END:"seekEnd",VOLUME_CHANGE:"volume",MUTE_CHANGE:"mute",FULLSCREEN:"fullscreen",NEW_VIDEO:"newVideo",REPLAY:"replay",FOCUS:"focus"},l.scrap.utils={},l.scrap.utils.roundValue=l.scrap.consts={VOLUME_EMPTY:-2,TIME_EMPTY:-1},l.scrap.factory=)}(),),),),),),),),),),),),),function(){function e(){e.__superCtor__.call(this)}var t=null;c["extends"](e,l.scrap.detector.Base),e.getName=function(){return l.scrap.PlayersNameEnum.NFL},e.prototype.getType=function(){return l.scrap.PlayerEnum.NFL},e.prototype._detectNewPlayers=function(){e.__super__._detectNewPlayers.call(this);for(var t="object"==typeof anvp?anvp.getAll():[],n=[],r=0;r<t.length;r++)document.querySelector("iframe#"+t[r])&&n.push(document.querySelector("iframe#"+t[r]));this._collectScraperDataList(n),this._setStateIdle()},e.prototype._collectScraperDataList=function(e){for(var n=0;n<e.length;n++){var r=e[n],i=this._collectScraperData(r);if(null!=t&&t!==c.urls.getLocationUrl())return;if(this._hasPlayerInstanceFound(i.videoId))return;this._sendPlayerInstanceFound(i),t=c.urls.getLocationUrl(),this._addPlayerInstanceFound(i.videoId)}},e.prototype._getVideoId=function(e){var t=this._getAnvpConfig(e).derivedMetadata;return t&&t.id},e.prototype._getVideoStream=function(e){return this._getAnvpConfig(e).url},e.prototype.getScraperPlayerId=function(){return l.scrap.PlayerEnum.DEFAULT},e.prototype._getAnvpConfig=function(e){return e&&anvp[e.id]&&anvp[e.id].config},e.prototype._getVideoTitle=e.prototype._getPlayerPlaceholder=function(e){return e},l.scrap.detector.NFL=e,l.scrap.factory.addDetector(e)}(),function(){function e(){e.__superCtor__.call(this)}c["extends"](e,l.scrap.detector.Base),e.getName=function(){return l.scrap.PlayersNameEnum.NFLTheoPlayer},e.prototype.getType=function(){return l.scrap.PlayerEnum.NFLTheoPlayer},e.prototype._detectNewPlayers=function(){var t;e.__super__._detectNewPlayers.call(this);var n=document.querySelectorAll(".theoplayer-container"),r=null===(t=this._getPlayerProperties())||void 0===t?void 0:t.playerReady;4==r&&this._collectScraperDataList(n),this._setStateIdle()},e.prototype._collectScraperDataList=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this._collectScraperData(n);if(this._hasPlayerInstanceFound(r.videoId))return;this._sendPlayerInstanceFound(r),this._addPlayerInstanceFound(r.videoId)}},e.prototype._getVideoId=function(e){var t,n=document.querySelector(".nfl-o-media-player.nfl-o-media-player__video"),r=n&&(null===n||void 0===n?void 0:null===(t=n.dataset)||void 0===t?void 0:t.id);return r},e.prototype._getVideoStream=function(e){var t,n=null===(t=this._getPlayerProperties())||void 0===t?void 0:t.videoSource;return n},e.prototype.getScraperPlayerId=function(){return l.scrap.PlayerEnum.DEFAULT},e.prototype._getVideoTitle=function(e){var t,n=(null===(t=this._getPlayerProperties())||void 0===t?void 0:t.title)||document.title;return n},e.prototype._getVideoDuration=function(e,t){var n,r=null===(n=this._getPlayerProperties())||void 0===n?void 0:n.objectDuration,i="number"==typeof r?r:0;return i},e.prototype._getIsLive=function(e){var t,n=null===(t=this._getPlayerProperties())||void 0===t?void 0:t.isLiveVideo;return n},e.prototype._getPlayerPlaceholder=e.prototype._getPlayerObject=e.prototype._getPlayerProperties=function(){var e,t,n,r,i=this._getPlayerObject();return i?{playerReady:(null===i||void 0===i?void 0:i.readyState)||null,objectDuration:(null===i||void 0===i?void 0:i.duration)||null,isLiveVideo:(null===i||void 0===i?void 0:null===(e=i.hesp)||void 0===e?void 0:e.isLive)||!1,videoSource:(null===i||void 0===i?void 0:null===(t=i.source)||void 0===t?void 0:null===(n=t.sources[0])||void 0===n?void 0:n.src)||null,videoTitle:null===i||void 0===i?void 0:null===(r=i.source)||void 0===r?void 0:r.metadata}:null},l.scrap.detector.NFLTheoPlayer=e,l.scrap.factory.addDetector(e)}(),function(){function e(){e.__superCtor__.call(this)}c["extends"](e,l.scrap.picker.Base),e.getName=e.prototype.handleDetector_PlayerInstanceFound=function(e){var t;if(this.isScrapDataValid(e)){var n=e.url,r=n.includes("videos"),i=n.split("/videos/").pop(),o=document.querySelector(".nfl-o-media-player__video[data-slug]"),a=null===o||void 0===o?void 0:null===(t=o.dataset)||void 0===t?void 0:t.slug;if(r&&i!==a)return c.log("Scrap cancel: Second video is the playlist!"),!1;this.setFeatureFlag(e),this._currentScraperData=e,this.sendPlayerFeaturedInstanceFound()}},l.scrap.picker.NFL=e,l.scrap.factory.addPicker(e)}(),),function(){["extends"](e,l.scrap.baseMetaDataEnhancer),e.prototype.getPublishedAt=function(e){var t=document.querySelectorAll(".nfl-o-video-player"),n=document.querySelector("main script[type='application/ld+json'"),r=null;if(n&&n.innerText.indexOf("datePublished")>-1){var i=JSON.parse(n.innerText).datePublished;r=new Date(i).getTime()}for(var o=0;o<t.length;o++){var a=t[o].parentElement,s=a.querySelector("script"),l=a.contains(e.playerJS);if(s&&l&&s.innerText.indexOf("datePublished")>-1){var c=JSON.parse(s.innerText).datePublished;r=new Date(c).getTime();break}}return r},e.prototype.getTags=function(){if(null!=window.utagParts)return window.utagParts.join(",")},l.scrap.metaDataEnhancer=e}(),function(){unction t(){t.__superCtor__.call(this),this.ATTR_MEDIA_SIZE="data-media_file_size",this.mediaHeightIndex="",this._apvElement=null,this.alreadyPlayed=!1}l.apv=l.apv||{},l.apv.players=l.apv.players||{};c["extends"](t,a),l.apv.players.ApvPlayerBase=t,t.States={STATE_HAVE_NOTHING:0,STATE_HAVE_METADATA:1,STATE_HAVE_CURRENT_DATA:2,STATE_HAVE_FUTURE_DATA:3,STATE_HAVE_ENOUGH_DATA:4},t.prototype.init=function(e){this._apvData=e,h.addEventListener(s.Events.DomWindow.RESIZE,this.handleResizeEvent,this),this.mediaHeightIndex=this.getNearestSize(),this._apvElement=document.createElement("video"),this._apvElement.className="minute_apv",this._apvElement.setAttribute("minVideoID",this._apvData.getArticleData().getArticleId()),this._apvElement.setAttribute("muted",""),this._apvElement.muted=!0,this._apvElement.volume=0,this._apvElement.setAttribute("playsinline",""),this._apvElement.setAttribute("webkit-playsinline",""),this._apvElement.setAttribute("disableRemotePlayback",""),this.setLoopPlay(),this._apvElement.style.transition=Z.getEffectApvTransitionVideo(),this.attachVideoEvents(),this.buildVideoSources()},t.prototype.attachVideoEvents=function(){unction n(){r.hasStartPlaying()?c.getRequestAnimationFrame(n):r.dispatchEvent(s.Events.Players.LOADED)}var r=this,i=!1,o=0;this._handleVideoEvent_LoadedMetadata=function(e){i=!0,t(),r.dispatchEvent("loadedmetadata"),r.handleMediaMetadataLoaded()},this._handleVideoEvent_Play=function(t){return r.handleVideoEvent_Play(t),e(t)},this._handleVideoEvent_Error=this._handleVideoEvent_Ended=this._handleCanPlayThrough=function(){r._apvElement&&r._apvElement.removeEventListener("canplaythrough",r._handleCanPlayThrough),r._handleCanPlayThrough=null,n()},this._apvElement.addEventListener("loadedmetadata",this._handleVideoEvent_LoadedMetadata),this._apvElement.addEventListener("play",this._handleVideoEvent_Play),this._apvElement.addEventListener("error",this._handleVideoEvent_Error),this._apvElement.addEventListener("ended",this._handleVideoEvent_Ended),this._apvElement.addEventListener("canplaythrough",this._handleCanPlayThrough),this._apvElement.addEventListener("timeupdate",e),this._apvElement.addEventListener("playing",e),this._apvElement.addEventListener("waiting",e),this._apvElement.addEventListener("load",e),this._apvElement.addEventListener("progress",e),this._apvElement.addEventListener("durationchange",e)},t.prototype.handleResizeEvent=function(){this._apvData&&c.ElementObjectFit.set({mediaElement:this.getApvElement(),originalElement:this._apvData.getElementSize(),isFullSize:this._apvData.getProduct()===s.Emitter.PRODUCT_IN_ARTICLE})},t.prototype.buildVideoSources=function(){var e=this.getFullVideoUrl("mp4");Z.getPlaymode(this._apvData.getProduct())==s.playmode.VIEWPORT&&(this._apvElement.src=e),this._apvElement.setAttribute("data-src",e),this._apvElement.setAttribute(this.ATTR_MEDIA_SIZE,Z.getRezVideo()[this.mediaHeightIndex])},t.prototype.setSource=function(){this._apvElement.src=this._apvElement.dataset.src,this._apvElement.load()},t.prototype.setLoopPlay=function(){try{this._apvElement.setAttribute("loop","")}catch(e){}},t.prototype.play=function(){(this._apvElement.readyState===t.States.STATE_HAVE_ENOUGH_DATA||this.alreadyPlayed)&&(this.playElement(),this.sendEventPlaying())},t.prototype.playElement=function(){his.alreadyPlayed=!0;var t=this._apvElement.play();e(t)&&t.then&&t["catch"]&&t.then(function(e){})["catch"](,q.isLPM(t,function(e){0===e.code&&q.isMobile()&&q.isSafari()&&(c.log("video can't be played due to low power mode "),this.hideApvElementBadWay())}.bind(this),},t.prototype.hideApvElementBadWay=t.prototype.setAutoplay=function(){try{this._apvElement.setAttribute("preload","auto")}catch(e){}try{this._apvElement.setAttribute("autoplay","")}catch(e){}},t.prototype.pause=t.prototype.forcePlay=function(){this.playElement()},t.prototype.isPaused=t.prototype.sendEventPlaying=function(){this.dispatchEvent(s.Events.Players.PLAYING),h.dispatchEvent(s.Events.Players.PLAYING)},t.prototype.getApvElement=function(){return this._apvElement},t.prototype.getSizeData=function(){return this._apvData.isApvVertical()?Z.getRezVertical():Z.getRezVideo()},t.prototype.setStyles=function(e){if(this._apvElement)for(var t in e)this._apvElement.style[t]=e[t]},t.prototype.setElementAttribute=t.prototype.getNearestSize=function(){var e,t="m",n=c.extractElementSize(this._apvData.getElementSize()),r=this.getSizeData();if(!n.width||!n.height)return t;n.width*=.9,n.height*=.9;for(e in r)if(r.hasOwnProperty(e)&&r[e]>=n.height)return e;return e},t.prototype.getFullVideoUrl=function(e){return this._apvData.getHltAPVUrl()+this.mediaHeightIndex+"."+e},t.prototype.handleMediaMetadataLoaded=function(){c.setMediaElementSize(this.getApvElement()),c.ElementObjectFit.set({mediaElement:this.getApvElement(),originalElement:this._apvData.getElementSize(),isFullSize:this._apvData.getProduct()===s.Emitter.PRODUCT_IN_ARTICLE})},t.prototype.dispose=function(){this._apvElement.removeEventListener("loadedmetadata",this._handleVideoEvent_LoadedMetadata),this._apvElement.removeEventListener("play",this._handleVideoEvent_Play),this._apvElement.removeEventListener("error",this._handleVideoEvent_Error),this._apvElement.removeEventListener("ended",this._handleVideoEvent_Ended),this._apvElement.removeEventListener("canplaythrough",this._handleCanPlayThrough),this._apvElement.removeEventListener("timeupdate",e),this._apvElement.removeEventListener("playing",e),this._apvElement.removeEventListener("waiting",e),this._apvElement.removeEventListener("load",e),this._apvElement.removeEventListener("progress",e),this._apvElement.removeEventListener("durationchange",e),this._handleVideoEvent_Play=null,this._handleVideoEvent_Error=null,this._handleVideoEvent_Ended=null,this._handleCanPlayThrough=null,this._handleVideoEvent_LoadedMetadata=null,h.removeEventListener(s.Events.DomWindow.RESIZE,this.handleResizeEvent,this),this.removeAllEventListener(),this._apvData=null,this._apvElement&&this._apvElement.parentElement&&this._apvElement.parentElement.removeChild(this._apvElement),this._apvElement=null},t.prototype.hasStartPlaying=function(){return!!this._apvElement&&!this._apvElement.paused&&0!==this._apvElement.currentTime},t.prototype.isImageUrl=function(){var e=document.createElement("a"),t=/\.(?:gif|png|webp|jpg|jpeg)$/i;return (),t.prototype.handleVideoEvent_Play=t.prototype.handleVideoEvent_Ended=function(){this.dispatchEvent("ended"),c.log("video ended for article "+this._apvData.getArticleData().getArticleUrl())},t.prototype.handleVideoEvent_Error=function(e){this.dispatchEvent("error"),c.log("Browser cannot play video!")}}(),function(){l.apv=l.apv||{},l.apv.logos=l.apv.logos||{};var e=l.apv.logos;e.LogoElmBase=c["extends"](e.LogoElmBase,a),e.LogoElmBase.prototype.init=function(e){this.isMobile=q.isMobile(),this.trans="0 , 0",this.buildLogoLinkElement(e)},e.LogoElmBase.prototype.buildLogoLinkElement=function(e){var t=this.createElement();t.className="minute_logo",
t.title=t.alt=Z.getTooltip(),t.style.cursor="pointer",t.style.width="4%",t.style.paddingTop="4%",q.isMobile()&&(t.style.minWidth="12px"),t.style.minWidth="16px",t.style.outline="none",t.style.transform="translateZ(1px)",t.style.position="absolute",Z.isClickByPointEnabled()&&(t.style.pointerEvents="none"),t.style.backgroundColor="transparent",t.style["z-index"]=1,t.style.opacity=.6;for(var n=0==e?Z.getLogoPosition():Z.getInArticleLogoPosition(),r=s.logoPositions[n||"bottom-left"],i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];t.style[a]=r[a]}t.innerHTML=this.getLogoInnerHtml(),this.minuteLinkElm=t},e.LogoElmBase.prototype.createElement=e.LogoElmBase.prototype.getLogoElement=function(){return this.minuteLinkElm},e.LogoElmBase.prototype.getLogoInnerHtml=(function(){function t(){t.__superCtor__.call(this),this.minContainer=null,this.blockingState=s.APVStates.Active,this._observerAttrChange=[],this.isIE=q.isIE(),this.hasDisposed=!1,this._coverLayer=null}l.apv=l.apv||{},l.apv.domAdapter=l.apv.domAdapter||{};var n=l.apv.domAdapter,r={"box-shadow":"none",border:0,padding:"(0,0,0,0)",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",paddingBottom:"0px",transform:"translate(0px,0px)","box-sizing":"border-box;","float":"none",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0},i={borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0};n.Base=t,c["extends"](t,a),t.getTypeName=function(){return"Base"},t.prototype.init=function(e){this.apvData=e,this.elementToReplace=this.apvData.getElementToReplace(),this.elementSize=this.apvData.getElementSize(),this.apvPlayer=this.apvData.getApvPlayer(),this.minuteLink=this.apvData.getMinuteLogo(),this.articleData=this.apvData.getArticleData(),c.log("initializing DOM adapter. articleData.getArticleId(): "+this.articleData.getArticleId()),this._initElements(),this.attachWindowEvents(),this.eventsRegister(),this.setElementToObserve(),this.registerMouseEvents(),this.dispatchEvent("apvInjection")},t.prototype.eventsRegister=function(){h.addEventListener(s.Events.DomWindow.BLUR,this.dispatchViewportEvent,this),h.addEventListener(s.Events.DomWindow.SAFARI_FOCUS,this.handleWindowEvent_SafariFocus,this)},t.prototype._initElements=function(){this.createMinContainer(),this.createVideoElement(),this.createCoverLayerElement(),this.createLogoElement(),this.createWatchBanner(),this.createVideoWrapper(),this.applyZIndexForAbsoluteElements(),this._videoWrapper.appendChild(this.apvPlayer.getApvElement()),Z.getShowLogo()&&this._videoWrapper.appendChild(this.minuteLinkElm),this.minContainer.appendChild(this._videoWrapper),this._coverLayer&&this.minContainer.appendChild(this._coverLayer),this._watchBanner&&this._videoWrapper.appendChild(this._watchBanner)},t.prototype.getBorderFix=function(){if(!this.borderFix&&(this.borderFix={left:0,top:0,right:0},(q.isFF()||q.isSafari())&&this.elementSize!==this.elementToReplace&&null!==this.elementToReplace.offsetParent)){var e=window.getComputedStyle(this.elementToReplace.offsetParent);this.borderFix.left=parseFloat(e.borderLeftWidth),this.borderFix.right=parseFloat(e.borderRightWidth),this.borderFix.top=parseFloat(e.borderTopWidth)}},t.prototype.render=function(){if(null!=this.elementToReplace){var e=this.elementToReplace.offsetParent;if(this.elementSize!==this.elementToReplace&&(e=this.elementSize.offsetParent),e){this.minContainer.style.display="flex";var t=getComputedStyle(this.elementSize);this.setWidthandHeight(e,t),this.setOffsetAndSides(e,t)}}},t.prototype.setWidthandHeight=function(e,t){return Z.shouldTrackSize()?(this.minContainer.style.width=t.width,this.minContainer.style.height=t.height,void(this.isIE&&(this.minContainer.style.height=""+(parseInt(t.height)+parseInt(t.paddingTop)+parseInt(t.paddingBottom))+"px"))):(this.minContainer.style.height="100%",void(this.minContainer.style.width="100%"))},t.prototype.setOffsetAndSides=function(e,t){if(!Z.shouldTrackSize())return this.minContainer.style.top="0",this.minContainer.style.left="0",void(J.isTestGroup()||(this.minContainer.style.opacity="1"));var n=this.elementSize.getBoundingClientRect(),r=e.getBoundingClientRect(),i=0;e===document.body&&(i=window.pageYOffset+e.getBoundingClientRect().top),this.minContainer.style.top=i+n.top-r.top-parseFloat(this.borderFix.top)+"px","rtl"==t.direction?this.minContainer.style.right=r.right-n.right+this.borderFix.right+"px":this.minContainer.style.left=n.left-r.left-parseFloat(this.borderFix.left)+"px",this.minuteLinkElm.style.paddingTop=this.minuteLinkElm.offsetWidth+"px"},t.prototype.redrawApvOnRequestAnimation=function(){var e=this,t=-1,n=Z.getRenderModulus(),r=function i(){if(t+=1,e.minContainer&&!e.hasDisposed&&(c.getRequestAnimationFrame(i),(Z.getIgnoreShouldRender()||e.shouldRender())&&t%n===0))return e.isElementToReplaceVisibleValid()?void e.render():void(e.minContainer.style.display="none")};c.getRequestAnimationFrame(r)},t.prototype.startAnimationResize=function(){this.getBorderFix(),this._debouncer=new l.utils.Debounce(50,this),this._debouncer.enableFilter(250),this._debouncer.setEcho(50,10),h.addEventListenerOnce(s.Events.DomWindow.RESIZE,this._debouncer.start,this._debouncer),this.render(),this.showApv(),Z.shouldTrackSize()&&this.redrawApvOnRequestAnimation()},t.prototype._copyStylesFromElement=function(e,t,n){var r=c.getComputedStyle(e);for(var i in n)t.style[i]=r[i]},t.prototype.createMinContainer=function(){this.minContainer=document.createElement("div"),this.minContainer.classList.add(s.minuteClasses.CONTAINER),this.minContainer.setAttribute("placement",this.apvData.getName()),this.minContainer.setAttribute("container_minvideoid",this.articleData.getArticleId()),this.minContainer.setAttribute("id",this.apvData.getContainerUnique()),this.minContainer.style.position="absolute",this.minContainer.style.overflow="hidden",this.minContainer.style.display="flex",this.minContainer.style.transition="opacity 0.5s ease-out",this.minContainer.style.opacity=0,this._copyStylesFromElement(this.elementToReplace,this.minContainer,this.getListOfCopyableStyles());var e=Z.getDisableParentTransform(),t=Z.getRegularPlacerPlayerTransformScale(),n=Z.getRegularPlacerContainerTransformScale();e&&!J.isTestGroup()&&(this.elementToReplace.style.transform="none",this.elementToReplace.style.webkitTransform="none",this.elementToReplace.style.MozTransform="none",this.elementToReplace.style.msTransform="none",this.elementToReplace.style.OTransform="none"),t&&(this.apvPlayer._apvElement.style.transform="scale("+t+")"),n&&(this.minContainer.style.transform="scale("+n+")")},t.prototype.createVideoElement=function(){var e=s.values.HUNDRED_PERCENT,t=s.values.HUNDRED_PERCENT;c.isInt(parseFloat(this.minContainer.style.width))||(e="calc("+s.values.HUNDRED_PERCENT+" + 1px)"),c.isInt(parseFloat(this.minContainer.style.height))||(t="calc("+s.values.HUNDRED_PERCENT+" + 1px)"),this.apvPlayer.setStyles({position:s.values.RELATIVE,display:s.values.BLOCK,width:e,height:t,objectFit:"cover"}),this._copyStylesFromElement(this.elementToReplace,this.apvPlayer._apvElement,i)},t.prototype.createWatchBanner=function(){var e=Z.getRegularPlacerWatchFullSettings();if(e.active&&!(this.elementSize.width<e.minimumWidth)){var t=document.createElement("div");t.style.position="absolute";for(var n=0;n<e.position.length;n++){var r=e.position[n];t.style[r]="0px"}t.style.margin="15px",t.style.fill="white",t.style.backgroundColor="#3f3f3f",t.style.opacity="0.7",t.style.color="white",t.style.padding="10px 20px",t.style.maxWidth="40%",t.style.border="1px solid white",t.style.fontSize="1.2em",t.style.pointerEvents="none",t.innerText=e.text,l.utils.ApvElementUtils.setElementAsReplaced(t),this._watchBanner=t}},t.prototype.createCoverLayerElement=t.prototype.createVideoWrapper=function(){this._videoWrapper=document.createElement("div"),this._videoWrapper.style.width=s.values.HUNDRED_PERCENT,this._videoWrapper.style.height=s.values.HUNDRED_PERCENT,this._videoWrapper.style.position=s.values.RELATIVE,this._videoWrapper.style.overflow="hidden",this._videoWrapper.style.flex="1",this._videoWrapper.style.display="block"},t.prototype.applyZIndexForAbsoluteElements=function(){if(Z.shouldApplyZIndexReorder()){for(var e,t,n=Number.MAX_VALUE,r=document.createTreeWalker(this.elementToReplace.parentElement,NodeFilter.SHOW_ELEMENT,null,!1),i=r.nextNode();i;)t=getComputedStyle(r.currentNode),"none"!==t.display?r.currentNode!==this.elementToReplace?"absolute"!==t.position||parseInt(t.width)<=1?i=r.nextNode():(e=Number(t.zIndex),isNaN(e)&&(e=0),n>e&&(n=e),r.currentNode.style.zIndex=e+1,i=r.nextNode()):((q.isFF()||q.isIE()||q.isEdge())&&t.zIndex<0&&"static"==t.position&&(n=parseInt(t.zIndex)+1),i=r.nextSibling()||r.nextNode()):i=r.nextSibling()||r.nextNode();if(n!==Number.MAX_VALUE)this.minContainer.style.zIndex=n;else{var o=getComputedStyle(this.elementToReplace).zIndex;this.minContainer.style.zIndex=isNaN(o)?0:o}this.minuteLinkElm.style.zIndex=this.minContainer.style.zIndex>=0?this.minContainer.style.zIndex:0,this._watchBanner&&(this._watchBanner.style.zIndex=this.minuteLinkElm.style.zIndex)}},t.prototype.insertContainerToDOM=function(){return this.apvData.getMethod()?void this.elementToReplace.insertAdjacentElement(this.apvData.getMethod(),this.minContainer):("A"==this.elementToReplace.tagName?this.elementToReplace.insertAdjacentElement("beforeend",this.minContainer):this.elementToReplace.insertAdjacentElement("afterend",this.minContainer),void this.dispatchReadyEvent())},t.prototype.dispose=function(){if(this.apvData){if(this.removeAllEventListener(),c.isSupportIntersectionObserver()||(h.removeEventListener(s.Events.DomWindow.SCROLL,this.dispatchViewportEvent,this),h.removeEventListener(s.Events.DomWindow.RESIZE,this.handleWindowEvent_Resize,this)),h.removeEventListener(s.Events.DomWindow.VISIBILITY_CHANGE,this.dispatchViewportEvent,this),h.removeEventListener(s.Events.DomWindow.BLUR,this.dispatchViewportEvent,this),h.removeEventListener(s.Events.DomWindow.ORIENTATION_CHANGE,this.dispatchViewportEvent,this),h.removeEventListener(s.Events.DomWindow.SAFARI_FOCUS,this.handleWindowEvent_SafariFocus,this),this.apvPlayer.removeEventListener(s.Events.Players.PLAYING,this.showApv,this),q.isSafari()||this.apvPlayer.setStyles({opacity:0}),this.apvPlayer.dispose(),this.apvPlayer=null,this._debounceCarousel&&(this._debounceCarousel.kill(),this._debounceCarousel=null),this._debouncer&&(this._debouncer.kill(),this._debouncer=null),this._observerAttrChange&&this._observerAttrChange.length>0)for(var e=0;e<this._observerAttrChange.length;e++){var t=this._observerAttrChange[e];t.disconnect(),t=null}this._observerAttrChange=null,this.elementToReplace=null,this.elementSize=null,this._videoWrapper&&(this._videoWrapper.parentElement&&this._videoWrapper.parentElement.removeChild(this._videoWrapper),this._videoWrapper=null),this.minuteLinkElm&&(this.minuteLinkElm.parentElement&&this.minuteLinkElm.parentElement.removeChild(this.minuteLinkElm),this.minuteLinkElm=null),this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=null),this.minuteLink=null,this.articleData=null,this.minContainer.apvData=null,this.minContainer=null,this.apvData=null,this.hasDisposed=!0}},t.prototype.setElementToObserve=function(){this.startObserveAttrChange(this.apvData.getViewportObserver())},t.prototype.isElementToReplaceVisibleValid=function(){return this.elementSize!=this.elementToReplace?!!this.elementToReplace&&!!this.elementToReplace.offsetParent||!!this.elementSize&&!!this.elementSize.offsetParent:!!this.elementToReplace&&!!this.elementToReplace.offsetParent},t.prototype.handleWindowEvent_Resize=t.prototype.showApv=function(){J.isTestGroup()||(this.minContainer.style.opacity=1)},t.prototype.hideApv=t.prototype.isElementVisible=function(){return _.isElementVisible(this.minContainer,this.apvData.getViewportMaskElement())},t.prototype.getElementVisiblePercents=t.prototype.dispatchViewportEvent=function(){if(this.apvData){var e=this.getElementVisiblePercents();this._reportViewportPercentage(e)}},t.prototype.shouldRender=t.prototype.setShouldRender=t.prototype._reportViewportPercentage=function(t){var n=t>=Z.getViewportPercentage();this.setShouldRender(n),this._updateVisible(n),e.debugParams[f.DEBUG_VISIBILITY]&&c.log("Regular APV "+this.apvData.getHighlightId()+" visibility: "+t),this.dispatchEvent(s.Events.Element.ANALYTICS_VISIBLE,{apvData:this.apvData,percentsVisible:t})},t.prototype._updateVisible=function(e){return this.dispatchEvent(e?s.Events.Element.VISIBLE:s.Events.Element.NON_VISIBLE,{articleData:this.articleData,apvData:this.apvData}),e},t.prototype.registerMouseEvents=function(){var e=this.apvData.getContainerElement();e||c.logError("WTF??? contact Daniel"),e.addEventListener(s.Events.Element.MOUSE_ENTER,function(){this.dispatchEvent(s.Events.Element.FIRST_MOUSE_ENTER)}.bind(this),{once:!0}),e.addEventListener(s.Events.Element.MOUSE_ENTER,function(){this.dispatchEvent(s.Events.Element.MOUSE_ENTER)}.bind(this)),e.addEventListener(s.Events.Element.MOUSE_LEAVE,bind(this))},t.prototype.dispatchReadyEvent=function(){this.apvData.setMinuteContainerElementTracker(this.minContainer),this.dispatchEvent(s.Events.Element.READY,{apvData:this.apvData}),c.isSupportIntersectionObserver()?this.initInterObserver():this.dispatchViewportEvent()},t.prototype.initInterObserver=function(){var e=this,t={root:null,threshold:[0,.01,.5,1]};this._intersectionObserver=new IntersectionObserver(function(t){e._reportViewportPercentage(100*t[0].intersectionRatio)},t),this._intersectionObserver.observe(this.apvData._elementSize)},t.prototype.play=function(){this.apvPlayer&&this.apvPlayer.play()},t.prototype.pause=t.prototype.attachWindowEvents=function(){c.isSupportIntersectionObserver()||(h.addEventListener(s.Events.DomWindow.SCROLL,this.dispatchViewportEvent,this),h.addEventListener(s.Events.DomWindow.RESIZE,this.handleWindowEvent_Resize,this)),h.addEventListener(s.Events.DomWindow.ORIENTATION_CHANGE,this.dispatchViewportEvent,this),h.addEventListener(s.Events.DomWindow.VISIBILITY_CHANGE,this.dispatchViewportEvent,this)},t.prototype.handleCarouselDebounceCallback=function(){this.dispatchEvent(s.Events.Element.MUTANT,{articleData:this.articleData,apvData:this.apvData})},t.prototype.startObserveAttrChange=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n)return;var r={attributes:!0,characterData:!0,childList:!0},i=this;this._debounceCarousel=new l.utils.Debounce(250,this.handleCarouselDebounceCallback,this),this._observerAttrChange;var o=new MutationObserver(;n&&o.observe(n,r),this._observerAttrChange.push(o)}},t.prototype.clickByPoint=function(e){J.isTestGroup()||this.apvData.getContainerUnique()==e.data.containerUnique&&this.openPagesClickByPoint()},t.prototype.createLogoElement=function(){this.minuteLinkElm=this.minuteLink.getLogoElement(),J.isTestGroup()||(Z.isClickByPointEnabled()?h.addEventListener(s.Events.CLICK_FROM_POINT,this.clickByPoint,this):this.minuteLinkElm.addEventListener("click",this.openPages.bind(this),!0))},t.prototype.openPagesClickByPoint=function(){window.open(Z.getBaseLinkUrl(),"_blank");return this.dispatchEvent(s.Events.APV_LOGO_CLICK,{articleData:this.articleData,apvData:this.apvData}),!1},t.prototype.openPages=function(e){e.preventDefault(),e.stopImmediatePropagation();var t=window.open(Z.getBaseLinkUrl(),"_blank");return window.open(this.apvData.getRawAnchorValue(),"_self"),t&&t.focus(),this.dispatchEvent(s.Events.APV_LOGO_CLICK,{articleData:this.articleData,apvData:this.apvData}),!1},t.prototype.getBoundingClientRect=t.prototype.handleWindowEvent_SafariFocus=function(){c.log("hack for fixing render issue on safari mobile such as 4496"),this.minContainer.style.display="none"},t.prototype.getListOfCopyableStyles=()),function(){function t(e){i[e.data.videoId]=e.data}function n(){n.__superCtor__.call(this),this.minContainer=null,this.blockingState=s.APVStates.Active,this.videoHasStarted=!1,this.apvSetHidden=!1,h.addEventListener(s.Events.PLAYER_PLAYING,this.handlePlayerPlayingEvent,this),h.addEventListener(s.Events.INARTICLE_CLICK,this.handleApvClicked,this)}l.apv=l.apv||{},l.apv.domAdapter=l.apv.domAdapter||{},l.apv.inArticleDomAdapter=l.apv.inArticleDomAdapter||{};var r=l.apv.domAdapter,i={};h.addEventListener(s.Events.PLAYER_PLAYING,t),r.InArticleBase=n,c["extends"](n,a),n.prototype.handlePlayerPlayingEvent=function(e){0===e.data.counter&&e.data.videoId==this.articleData.getPublisherVideoId()&&(h.removeEventListener(s.Events.PLAYER_PLAYING,this.handlePlayerPlayingEvent,this),c.log("hide video send inactive"),ae.setShouldSendImpClickForApvData(this.apvData,!1),this.videoHasStarted=!0,this.hideApv())},n.prototype.handleApvClicked=function(e){var t=e.data;t==this.apvData&&(h.removeEventListener(s.Events.INARTICLE_CLICK,this.handleApvClicked,this),this.hideApv())},n.prototype.isPlayerPlayingOnInit=function(){return!!i[this.articleData.getPublisherVideoId()]},n.prototype.cleanInstance=n.prototype.init=function(e){return this.apvData=e,this.containerElement=e.getContainerElement(),this.apvPlayer=e.getApvPlayer(),this.minuteLink=e.getMinuteLogo(),this.articleData=e.getArticleData(),this.player=e.getPlayerInstance(),this._containerOverlay=null,this._coverLayer=null,this.isPlayerPlayingOnInit()?void this.cleanInstance():(this._initElements(),this.attachWindowEvents(),this.addEvents(),this._observeViewportMask(),this.setElementToObserve(),void this.insertContainerToDOM())},n.prototype._observeViewportMask=function(){var e=Z.getInArticleViewportMask();if(e!==window){var t=function(){c.log("InArticleBase observed change!"),this.dispatchViewportEvent();var e=new l.utils.Timer(500,this.dispatchViewportEvent,this);e.setCounterLimit(3),e.start(),this.mutationObserver.disconnect()}.bind(this);this.mutationObserver=new MutationObserver(t),this.mutationObserver.observe(e,{attributes:!0})}},n.prototype.setElementToObserve=n.prototype.addEvents=function(){h.addEventListener(s.Events.PLAYER_VIDEO_CHANGED,this.handleVideoChanged.bind(this)),this.apvPlayer.addEventListener(s.Events.Players.PLAYING,this.showApv,this)},n.prototype._initElements=function(){if(this.createMinContainer(),this.createVideoElement(),this.createCoverLayerElement(),this.createLogoElement(),this.createContainerOverlay(),this.createWatchBanner(),this.minContainer.appendChild(this.apvPlayer.getApvElement()),this._containerOverlay&&this.minContainer.appendChild(this._containerOverlay),this.minContainer.appendChild(this._coverLayer),Z.getInArticleShowLogo()&&this.minContainer.appendChild(this.minuteLinkElm),this._watchBanner&&this.minContainer.appendChild(this._watchBanner),this.videoHasStarted)return void c.log("video has started to play, wont insert apv to in article")},n.prototype.createMinContainer=function(){this.minContainer=document.createElement("div"),this.minContainer.classList.add(s.minuteClasses.CONTAINER),this.decorateElementWithPlacementName(this.minContainer),this.minContainer.style.width="100%",this.minContainer.style.height="100%",this.minContainer.style.transition="opacity 0.5s ease-out",this.minContainer.style.position=s.values.ABSOLUTE,this.minContainer.style.top="0px",this.minContainer.style.opacity=0,this.minContainer.setAttribute("id",this.apvData.getContainerUnique())},n.prototype.getTypeName=n.prototype.decorateElementWithPlacementName=function(e){e.setAttribute("placement",this.getTypeName())},n.prototype.createVideoElement=function(){var e={position:s.values.RELATIVE,display:s.values.BLOCK,width:s.values.HUNDRED_PERCENT,height:s.values.HUNDRED_PERCENT};e[s.styles.OBJECT_FIT]="cover",this.apvPlayer.setStyles(e)},n.prototype.createWatchBanner=function(){var e=Z.getInArticlePlacerWatchFullSettings();if(e.active){var t=document.createElement("div");t.style.position="absolute";for(var n=0;n<e.position.length;n++){var r=e.position[n];t.style[r]="0px"}t.style.margin="15px",t.style.fill="white",t.style.backgroundColor="#3f3f3f",t.style.opacity="0.7",t.style.color="white",t.style.padding="10px 20px",t.style.maxWidth="40%",t.style.border="1px solid white",t.style.fontSize="1em",t.style.pointerEvents="none",t.innerText=e.text,l.utils.ApvElementUtils.setElementAsReplaced(t),this._watchBanner=t}},n.prototype.createCoverLayerElement=function(){this._coverLayer=document.createElement("div"),this._coverLayer.style.width=s.values.HUNDRED_PERCENT,this._coverLayer.style.height=s.values.HUNDRED_PERCENT,this._coverLayer.style.position=s.values.ABSOLUTE,this._coverLayer.style.top="0px"},n.prototype.insertContainerToDOM=function(){c.logError("insertContainerToDOM has to be implemented and do not forget to dispatchReadyEvent")},n.prototype.showApv=function(){J.isTestGroup()||this.apvSetHidden!==!1||(this.minContainer.style.opacity=1)},n.prototype.hideApv=n.prototype.isElementVisible=function(){var e=Z.getInArticleViewportMask();return _.isElementVisible(this.containerElement,e)},n.prototype.getElementVisiblePercents=function(){var e=Z.getInArticleViewportMask();return _.getElementVisiblePercents(this.containerElement,e)},n.prototype.dispatchViewportEvent=n.prototype._reportViewportPercentage=function(t){var n=t>=Z.getViewportPercentage();this._updateVisible(n),e.debugParams[f.DEBUG_VISIBILITY]&&c.log("In Article APV "+this.apvData.getHighlightId()+" visibility: "+t),this.dispatchEvent(s.Events.Element.ANALYTICS_VISIBLE,{apvData:this.apvData,percentsVisible:t})},n.prototype._updateVisible=function(e){e?this.dispatchEvent(s.Events.Element.VISIBLE,{articleData:this.articleData}):this.dispatchEvent(s.Events.Element.NON_VISIBLE,{articleData:this.articleData})},n.prototype.handleCarouselDebounceCallback=function(){this.dispatchEvent(s.Events.Element.MUTANT,{articleData:this.articleData,apvData:this.apvData})},n.prototype.startObserveAttrChange=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n)return;var r={attributes:!0,characterData:!0,childList:!0},i=this;this._debounceCarousel=new l.utils.Debounce(250,this.handleCarouselDebounceCallback,this),this._observerAttrChange=[];var o=new MutationObserver(function(e){i._debounceCarousel.start()});n&&o.observe(n,r),this._observerAttrChange.push(o)}},n.prototype.dispatchReadyEvent=function(){this.dispatchEvent(s.Events.Element.READY,{apvData:this.apvData}),c.isSupportIntersectionObserver()?this.initInterObserver():this.dispatchViewportEvent()},n.prototype.initInterObserver=function(){var e=this,t={root:null,threshold:[0,.01,.5,1]},n=new IntersectionObserver(function(t){e._reportViewportPercentage(100*t[0].intersectionRatio)},t);n.observe(this.containerElement)},n.prototype.play=n.prototype.pause=function(){this.apvPlayer&&this.apvPlayer.pause()},n.prototype.attachWindowEvents=function(){c.isSupportIntersectionObserver()||h.addEventListener(s.Events.DomWindow.SCROLL,this.dispatchViewportEvent,this),h.addEventListener(s.Events.DomWindow.ORIENTATION_CHANGE,this.dispatchViewportEvent,this)},n.prototype.clickByPoint=function(e){if(!J.isTestGroup()){var t=0==this.minContainer.style.opacity;this.apvData.getContainerUnique()!=e.data.containerUnique||t||this.openPagesClickByPoint()}},n.prototype.createLogoElement=function(){this.minuteLinkElm=this.minuteLink.getLogoElement(),J.isTestGroup()||(Z.isClickByPointEnabled()?h.addEventListener(s.Events.CLICK_FROM_POINT,this.clickByPoint,this):this.minuteLinkElm.addEventListener("click",this.openPages.bind(this),!0))},n.prototype.openPagesClickByPoint=function(){window.open(Z.getBaseLinkUrl(),"_blank");return this.dispatchEvent(s.Events.APV_LOGO_CLICK,{articleData:this.articleData,apvData:this.apvData}),!1},n.prototype.openPages=function(e){window.open(Z.getBaseLinkUrl(),"_blank");return this.dispatchEvent(s.Events.APV_LOGO_CLICK,{articleData:this.articleData,apvData:this.apvData}),!1},n.prototype.activateApv=function(){this.showApv()},n.prototype.setState=function(e){this.activateApv()},n.prototype.dispose=function(){this.hideApv(),ae.setShouldSendImpClickForApvData(this.apvData,!1)},n.prototype.observerAttrChange=function(){},n.prototype.getBoundingClientRect=function(){return this.minContainer.getBoundingClientRect()},n.prototype.blockApv=function(){},n.prototype.hideDebugBlocking=function(){},n.prototype.showDebugBlocking=function(){},n.prototype.handleVideoChanged=function(e){},n.prototype.createContainerOverlay=function(){}}(),function(){function e(){e.__superCtor__.call(this)}l.apv=l.apv||{},l.apv.domAdapter=l.apv.domAdapter||{},l.apv.inArticleDomAdapter=e,c["extends"](e,l.apv.domAdapter.InArticleBase),e.prototype.getTypeName=function(){return"NFL"},e.prototype.insertContainerToDOM=function(){var e=this.player.contentDocument.body.querySelector(".anv-splash-img"),t=this.player.contentDocument.body.querySelector(".anv-splash-img");e&&t&&(e.insertAdjacentElement("afterbegin",this.minContainer),this.dispatchReadyEvent(),this.detectVideoPlay(t))},e.prototype.createMinContainer=e.prototype.detectVideoPlay=function(e){var t=new MutationObserver(function(t,n){e&&null==e.offsetParent&&(this.handleVideoStarted(),n.disconnect());for(var r=0;r<t.length;r++){var i=t[r];"style"==i.attributeName&&i.target==e&&(this.handleVideoStarted(),n.disconnect())}}.bind(this));t.observe(e,{attributes:!0,childList:!0,subtree:!0})},e.prototype.handleVideoStarted=(),function(){function e(){e.__superCtor__.call(this),this.apvData=null,this.domAdapter=null,this.apvPlayer=null,this.articleData=null}l.apv=l.apv||{},l.apv.playmodes=l.apv.playmodes||{},l.apv.playmodes.Base=e,c["extends"](e,a),e.prototype.setDomAdapter=function(e){this.apvData=e,this.domAdapter=this.apvData.getDomAdapter(),this.apvPlayer=this.apvData.getApvPlayer(),this.articleData=this.apvData.getArticleData()},e.prototype.insertContainerToDOM=e.prototype.start=function(){}}(),function(){function e(){e.__superCtor__.call(this)}l.apv.playmodes.Viewport=e,c["extends"](e,l.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this),this.apvPlayer.setAutoplay(),this.apvPlayer.forcePlay(),this.apvPlayer.addEventListener(s.Events.Players.LOADED,bind(this)),this.domAdapter.addEventListener(s.Events.Element.VISIBLE,function(){this.domAdapter.play()}.bind(this)),this.domAdapter.addEventListener(s.Events.Element.NON_VISIBLE,function(){this.domAdapter.pause()}.bind(this)),this.domAdapter.addEventListener(s.Events.Element.MUTANT,function(e){setTimeout(function(){this.domAdapter.dispatchViewportEvent()}.bind(this),10)}.bind(this)),this.domAdapter.addEventListener("apvInjection",function(){this.insertContainerToDOM()}.bind(this))}}(),function(){function e(){e.__superCtor__.call(this)}l.apv.playmodes.Hover=e,c["extends"](e,l.apv.playmodes.Base),e.prototype.addMouseEvents=function(){this.domAdapter.addEventListener("mouseenter",bind(this)),this.domAdapter.addEventListener("mouseleave",function(){this.isVisible=!1,this.domAdapter.setShouldRender(!1),this.domAdapter.hideApv(),this.domAdapter.pause()}.bind(this))},e.prototype.start=function(){e.__super__.start.call(this),this.apvPlayer.setAutoplay(),this.apvPlayer.forcePlay(),this.domAdapter.addEventListener(s.Events.Element.FIRST_MOUSE_ENTER,function(){this.addMouseEvents(),this.domAdapter.setShouldRender(!0),this.apvPlayer.setSource(),this.apvPlayer.forcePlay(),this.insertContainerToDOM()}.bind(this)),this.domAdapter.addEventListener("apvInjection",function(){}.bind(this))}}();var W=function(){function e(e){this._containerUnique=c.generateShortUnique(),this._articleData=e.articleData,this._uuid=c.generateUnique(),this._product=e.product,this._key=""+this.getHighlightId(this._product),this._keyProduct=this._key+"_"+this._product,this._name=e.name,this._debug=null,this._state=s.APVStates.New,this._playmode=Z.getPlaymode(this._product),this._isVertical=!1,this._apvPlayer=null,this._domAdapter=null,this._minuteLogo=null,this._playerInstance=null,this._elementToReplace=e.elmToReplace,this._elementSize=e.elementSize,this._manualClick=null,this._rawAnchorValue=e.rawUrl,this._clickElements=[],this._viewportMask=e.viewportMaskElement,"undefined"==typeof this._viewportMask&&c.logError("_viewportMask should always be something!!!"),this._viewportObserver=e.viewportObserver,this._containerElement=null,this._domContainerElementTracker=null,this._domViewportMaskElementTracker=null,this._method=e.method||null,this._onDisposed=new l.utils.Signal,this._hasDisposed=!1,this._belongToUrl=null,this.setContainerElement(e.containerElement),this._shouldSendImpression=!0,this._didImpressionSent=!1,this._isClickRegistered=!1,this._shouldSendClickEvent=!0,this._clickAlreadySent=!1,this.setIsVertical()}return e.prototype.setImpressionHasSent=function(){this._didImpressionSent=!0},e.prototype.setShouldSendImpression=function(e){this._shouldSendImpression=e},e.prototype.getShouldSendImpression=function(){return!this.getDidImpressionSent()&&this._shouldSendImpression&&!this.getClickAlreadySent()},e.prototype.getDidImpressionSent=function(){return this._didImpressionSent},e.prototype.setIsClickRegistered=function(e){this._isClickRegistered=e},e.prototype.getIsClickRegistered=function(){return this._isClickRegistered},e.prototype.setShouldSendClickEvent=function(e){this._shouldSendClickEvent=e},e.prototype.getShouldSendClickEvent=function(){return this._shouldSendClickEvent&&!this.getClickAlreadySent()&&this.getDidImpressionSent()},e.prototype.setClickAlreadySent=function(){this._clickAlreadySent=!0},e.prototype.getClickAlreadySent=function(){return this._clickAlreadySent},e.prototype.setClickElements=function(e){this._clickElements=e},e.prototype.getVideoId=function(){return this._articleData&&this._articleData.getPublisherVideoId()},e.prototype.getMinuteVideoId=e.prototype.getName=function(){
return this._name},e.prototype.getMethod=function(){return this._method},e.prototype.setName=function(e){this._name=e},e.prototype.getClickElements=function(){return this._clickElements},e.prototype.setContainerElement=function(e){e&&!this._containerElement&&(this._containerElement=e,this._createElementsTracker(),this._belongToUrl=l.publisher.utils&&l.publisher.utils.getElementUrl&&l.publisher.utils.getElementUrl(this._containerElement))},e.prototype._createElementsTracker=function(){this._domContainerElementTracker=new l.utils.DomElementTracker(this._containerElement),this._domContainerElementTracker.onRemovedFromDom.addOnce(this._onContainerElementRemoved,this),this._domContainerElementTracker.start(),this._viewportMask!==window&&(this._domViewportMaskElementTracker=new l.utils.DomElementTracker(this._viewportMask),this._domViewportMaskElementTracker.onRemovedFromDom.addOnce(this._onContainerElementRemoved,this),this._domViewportMaskElementTracker.start())},e.prototype.setMinuteContainerElementTracker=function(e){this._domMinuteContainerElementTracker=new l.utils.DomElementTracker(e),this._domMinuteContainerElementTracker.onRemovedFromDom.addOnce(this._onContainerElementRemoved,this),this._domMinuteContainerElementTracker.start()},e.prototype.getProduct=function(){return this._product},e.prototype.getKey=function(){return this._key},e.prototype.getKeyProduct=function(){return this._keyProduct},e.prototype.getArticleData=function(){return this._articleData},e.prototype.getElementToReplace=function(){return this._elementToReplace},e.prototype.getElementSize=function(){return this._elementSize},e.prototype.getContainerElement=function(){return this._containerElement},e.prototype.setApvPlayer=e.prototype.getApvPlayer=function(){return this._apvPlayer},e.prototype.setDomAdapter=function(e){return this._domAdapter=e},e.prototype.getDomAdapter=function(){return this._domAdapter},e.prototype.setMinuteLogo=e.prototype.getMinuteLogo=function(){return this._minuteLogo},e.prototype.getBlockingDistance=function(){return Z.getBlockingDistanceRadius()},e.prototype.getPosition=function(){var e=this.getRect();return{top:e.top+document.body.scrollTop+parseInt(e.height)/2,left:e.left+document.body.scrollLeft+parseInt(e.width)/2}},e.prototype.getRect=function(){return this._domAdapter?this._domAdapter.getBoundingClientRect():this._elementToReplace.getBoundingClientRect()},e.prototype.setDebug=function(e){this._debug&&this._debug.parentElement.removeChild(this._debug),this._debug=e},e.prototype.getDebug=function(){return this._debug},e.prototype.setState=function(e){c.log("BlockingD: "+this._articleData.getArticleUrl()+" is "+e),this._state=e},e.prototype.getState=function(){return this._state},e.prototype.getViewportMaskElement=function(){return this._viewportMask},e.prototype.getViewportObserver=function(){return this._viewportObserver},e.prototype.setPlayerInstance=function(e){this._playerInstance=e},e.prototype.getPlayerInstance=function(){return this._playerInstance},e.prototype.setManualClick=function(e){e.length&&c.logWarning("SetManualClick as array which is not supported at the moment"),this._manualClick=e},e.prototype.getManualClick=function(){return this._manualClick},e.prototype.getUniqId=function(){return this._uuid},e.prototype.getRawAnchorValue=function(){return this._rawAnchorValue},e.prototype.getContainerUnique=function(){return this._containerUnique},e.prototype.dispose=function(){this._onDisposed&&(this.disposedHltData=c.cloneObject($.getHltByProduct(this._articleData.getHighlights(),this._product)),this.disposedArticleUrl=this._articleData.getArticleUrl(),this._onDisposed.dispatch(this),this._domContainerElementTracker&&(this._domContainerElementTracker.dispose(),this._domContainerElementTracker=null),this._domViewportMaskElementTracker&&(this._domViewportMaskElementTracker.dispose(),this._domViewportMaskElementTracker=null),this._domMinuteContainerElementTracker&&(this._domMinuteContainerElementTracker.dispose(),this._domMinuteContainerElementTracker=null),this._domAdapter&&(this._domAdapter.dispose(),this._domAdapter=null),this._articleData=null,this._apvPlayer=null,this._elementToReplace=null,this._elementSize=null,this._viewportMask=null,this._viewportObserver=null,this._containerElement=null,this._onDisposed.removeAll(),this._onDisposed=null,this._hasDisposed=!0,this._minuteLogo=null,this._watcher=null,this._manualClick=null,this._clickElements=null)},e.prototype.hasDisposed=function(){return this._hasDisposed},e.prototype.onDisposed=function(){return this._onDisposed},e.prototype._onContainerElementRemoved=function(){this.dispose()},e.prototype.getBelongToUrl=function(){return this._belongToUrl},e.prototype.getHighlights=function(){return this._articleData.getHighlights()},e.prototype.getHighlightId=function(){if(this._hasDisposed)return this.disposedHltData.hltId;var e=$.getHltByProduct(this._articleData.getHighlights(),this._product);return e||c.logError("shouldnt ever get to this point"),e.hltId},e.prototype.getRank=function(){var e=$.getHltByProduct(this._articleData.getHighlights(),this._product);return e||c.logError("BlockingD: shouldnt ever get to this point"),e.rank},e.prototype.getHltAPVUrl=function(){if(this._hasDisposed)return this.disposedHltData.vidUrl;var e=$.getHltByProduct(this._articleData.getHighlights(),this._product);return e||c.logError("shouldnt ever get to this point"),e.vidUrl},e.prototype.getArticleUrl=e.prototype.getPlaymodeEnum=e.prototype.getPlaymode=function(){return this._playmode},e.prototype.setPlaymode=function(e){this._playmode=e},e.prototype.setIsVertical=function(){var e=$.supportVertical(this._articleData.getHighlights()),t=!1,n=this._elementSize.clientWidth,r=this._elementSize.clientHeight;n/r<Z.getValidRatio()&&(t=!0),this._isVertical=e&&t},e.prototype.isApvVertical=function(){return this._isVertical},e}();!function(){function e(){this._usedApvDataList={},this._isRequestDisposedUpdate=!1,this._clickSentApv={},this._usedArticleDataList={},this._alreadySentImpression={}}e.prototype.isAPVAlreadyExists=function(e){if(this._usedApvDataList[e.getContainerUnique()])return!0;for(var t=Object.keys(this._usedApvDataList),n=0;n<t.length;n++)if(t[n]===e.getContainerElement()||this._usedApvDataList[t[n]]._containerElement===e.getContainerElement())return!0;return!1},e.prototype.add=function(e,t){if(e.hasDisposed())return!1;if(this.isAPVAlreadyExists(e))return!1;var n=this;this._usedApvDataList[e.getContainerUnique()]=e,"undefined"==typeof e.getHighlightId()&&c.logWarning("apvData with no highlight, make sure we have highlight in 'InArticlePlacer'");var r=e.getHighlightId().toString();return this._usedArticleDataList[r]=e,e.onDisposed().add(function(e){n.remove(e)}),this._alreadySentImpression[e.getKeyProduct()]&&this.setImpressionSent(e),this._clickSentApv[e.getKeyProduct()]&&e.setClickAlreadySent(),e.getProduct()===s.Emitter.PRODUCT_IN_ARTICLE&&e.setState(s.APVStates.Active),!0},e.prototype.remove=function(e){var t=e.getContainerUnique();this._usedApvDataList[t]&&delete this._usedApvDataList[t];var n=e.getHighlightId().toString();this._usedArticleDataList[n]&&delete this._usedArticleDataList[n],this._isRequestDisposedUpdate||(this._isRequestDisposedUpdate=!0,c.getRequestAnimationFrame(this.sendApvDisposedEvent.bind(this)))},e.prototype.sendApvDisposedEvent=function(){this._isRequestDisposedUpdate=!1,h.dispatchEvent(s.Events.APV_DISPOSED)},e.prototype.getApvDataByKeyProduct=e.prototype.setClickAlreadySent=function(e){e&&e.setClickAlreadySent();for(var t=this._getAllApvDataByKeyProduct(e.getHighlightId(),e.getProduct()),n=0;n<t.length;n++){var r=t[n];r!==e&&r.setClickAlreadySent()}this._clickSentApv[e.getKeyProduct()]=!0},e.prototype.setImpressionSent=function(e){this._alreadySentImpression[e.getKeyProduct()]=!0;for(var t=this._getAllApvDataByKeyProduct(e.getHighlightId(),e.getProduct()),n=0;n<t.length;n++){var r=t[n];r.setImpressionHasSent()}},e.prototype.setShouldSendImpClickForApvData=function(e,t){e.setShouldSendImpression(t),e.getDidImpressionSent()||e.setShouldSendClickEvent(t)},e.prototype.setIsClickRegistered=function(e,t){e.setIsClickRegistered(t)},e.prototype.getShouldSendClickEvent=e.prototype.getIsClickRegistered=function(e){return e.getIsClickRegistered()},e.prototype.getShouldSendImpression=e.prototype.getAllActiveApv=function(){for(var e=Object.keys(this._usedApvDataList),t=[],n=0;n<e.length;n++){var r=this._usedApvDataList[e[n]];r.getState()===s.APVStates.Active&&t.push(r)}return t},e.prototype._getAllApvDataByKeyProduct=function(e,t){for(var n=Object.keys(this._usedApvDataList),r=[],i=0;i<n.length;i++){var o=this._usedApvDataList[n[i]];o.getHighlightId()===e&&o.getProduct()===t&&r.push(o)}return r},e.prototype.getAmountOfApvDataOnPage=e.prototype.create=function(e){var t=new W(e),n=this.add(t,e.product);if(n)return t},e.prototype.setShouldSendClickEvent=e.prototype.sendClickEvent=function(e){M.sendClick(e.getArticleData(),{type:s.Emitter.ANALYTICS_CLICK_EVENT,placementFunction:s.Placements.VIEWPORT_IMPRESSION,uniq:!1,product:e.getProduct(),placement:e.getName()},!0,e)},l.ApvDataManager=e}(),function(){ar n;t.prototype.init=function(){this.markPlaces(),h.addEventListener(s.Events.ONE_SECONDS_INTERVAL,this.markPlaces,this)},t.prototype.setContainerAttr=t.prototype.getNewContainers=function(e){for(var t=e.getContainerSelector().split(","),n=0;n<t.length;n++)t[n]+=":not(["+s.integrationDataSet.ENABLE+"])";var r=t.join(),i=document.querySelectorAll(r);return i},t.prototype.markPlacement=function(t,n){for(var r=0;r<n.length;r++){var i=n[r];if(this.setContainerAttr(i,s.integrationDataSet.ENABLE,t.getName()),this.setContainerAttr(i,s.integrationDataSet.METHOD,t.getMethod()),"a"!==t.getAnchorSelector()){var o=i.querySelector(t.getAnchorSelector());o&&o.setAttribute(s.integrationDataSet.ANCHOR,"true"),t.getAnchorSelector()===s.sizeSelector.CONTAINER&&i.setAttribute(s.integrationDataSet.ANCHOR,"true")}if("img"!==t.getPreviewSelector()){var a=i.querySelector(t.getPreviewSelector());a&&a.setAttribute(s.integrationDataSet.PREVIEW,"true"),t.getPreviewSelector()===s.sizeSelector.CONTAINER&&i.setAttribute(s.integrationDataSet.PREVIEW,"true")}if("undefined"!=typeof t.getSizeSelector()&&""!==t.getSizeSelector()){var l=i.querySelector(t.getSizeSelector());l&&l.setAttribute(s.integrationDataSet.SIZE,"true"),t.getSizeSelector()===s.sizeSelector.CONTAINER&&i.setAttribute(s.integrationDataSet.SIZE,"true")}e.debug&&this.markAnchorWarned(t,i)}this.markObserverSelector(t),this.markMaskSelector(t)},t.prototype.markObserverSelector=function(e){if(e.getViewportObserverSelector())for(var t=document.querySelectorAll(e.getViewportObserverSelector()),n=0;n<t.length;n++){var r=t[n];r.setAttribute(s.integrationDataSet.VIEWPORT_OBSERVER,"true")}},t.prototype.markMaskSelector=function(e){if(e.getViewportMaskSelector())for(var t=document.querySelectorAll(e.getViewportMaskSelector()),n=0;n<t.length;n++){var r=t[n];r.setAttribute(s.integrationDataSet.VIEWPORT_MASK,"true")}},t.prototype.markPlaces=function(){for(var e,t=re.getAllPlacements(),n=0;n<t.length;n++){e=t[n];var r=this.getNewContainers(e);0!==r.length&&this.markPlacement(e,r)}},t.prototype.markAnchorWarned=function(e,t){this.warnedPlacements=this.warnedPlacements||{};for(var n=t.querySelectorAll(e.getAnchorSelector()),r=[],i=0;i<n.length;i++){var o=n[i].getAttribute("href");o&&r.push(o)}var a=s=r.filter(a),l=s.length>1;if(l){var u=e.getName(),d=this.warnedPlacements[u];d||(this.warnedPlacements[u]=!0,c.logError("Placement '"+e.getName()+"' has multiple anchors. "),t.style.border="2px solid red")}},l.services=l.services||{},l.services.Simulation=t}(),function(){function e(i,o,a){e.__superCtor__.call(this),!t&&(t=i),!n&&(n=o),!r&&(r=a)}var t,n,r;c["extends"](e,a),e.prototype._getAnchorElement=function(e){var t=e.containerElement;if(t.dataset.minAnchor)return t;var n=e.containerElement.querySelector("["+s.integrationDataSet.ANCHOR+"]");if(!n){var r=e.containerElement.querySelectorAll("a");n=r[0],r.length>1&&!this.anchorWarned&&(this.anchorWarned=!0),0!==r.length||this.anchorWarned||(this.anchorWarned=!0),n||"A"!==e.containerElement.tagName||(n=e.containerElement)}return n},e.prototype._getAricleData=function(e){for(var t,n,r,i=e.attributes,o=0;o<i.length;o++)if(r=i[o].name,n=e.getAttribute(r),t=Q.getRegularArticleDataByURL(c.urls.getCanonicalURL(n)))return{attributeName:r,targetUrl:n,articleData:t};return null},e.prototype.checkForArticleData=function(e){var t=this._getAnchorElement(e);if(!t)return null;var n=this._getAricleData(t);if(!n||c.isObjEmpty(n))return null;var r=n.articleData;return r&&r.hasAPVByProduct(s.Emitter.PRODUCT_APV)?{anchorElement:t,attributeName:n.attributeName,attrValue:c.urls.getCanonicalURL(n.targetUrl),rawUrl:c.urls.getRawByUrl(n.targetUrl),articleData:r}:null},e.prototype.createData=function(e){e.product=s.Emitter.PRODUCT_APV,e.method=this.getMethodOfInsertion(e);var t=n.create(e);if(t){var r=[],i=[];if(l.publisher.utils&&l.publisher.utils.getAdditionalClickElements&&(i=l.publisher.utils.getAdditionalClickElements(e)),e.containerElement===e.anchorElement)r=[t.getContainerElement()];else{var o=t.getContainerElement(),a="["+e.attributeName+'*="'+e.attrValue+'"]',c="["+e.attributeName+'*="'+encodeURIComponent(e.attrValue)+'"]',u=o.querySelectorAll(a+","+c);r=Array.prototype.slice.call(u)}return r=r.concat(i),t.setClickElements(r),t}},e.prototype.getMethodOfInsertion=function(e){var t=null;return e.containerElement.dataset[s.integrationDataSetElm.METHOD]&&"true"!=e.containerElement.dataset[s.integrationDataSetElm.METHOD]&&(t=e.containerElement.dataset[s.integrationDataSetElm.METHOD]),e.containerElement.removeAttribute(s.integrationDataSet.METHOD),t},e.prototype.getElementSize=function(e){return e.containerElement.dataset.minSize?e.containerElement:e.containerElement.querySelector("["+s.integrationDataSet.SIZE+"]")},e.prototype.getElementToReplace=function(e){var t=e.containerElement;if(t.dataset.minPreview)return t;var n=t.querySelector("["+s.integrationDataSet.PREVIEW+"]");if(!n){var r=t.querySelectorAll("img");if(r.length>=1){r.length>1&&!this.previewWarned&&(this.previewWarned=!0);for(var i=0;i<r.length;i++)if((!q.isFF()||"none"!==r[i].display)&&"none"!==getComputedStyle(r[i]).display&&"none"!=r[i].offsetParent){n=r[i];break}}if(!n)return this.previewWarned=!0,null}return n},e.prototype.retrieveDomElements=function(e){var t={};if(t.elmToReplace=this.getElementToReplace(e),t.elementSize=this.getElementSize(e)||t.elmToReplace,!t.elmToReplace)return null;if(l.utils.ApvElementUtils.getIsElementReplaced(t.elmToReplace))return null;var n=c.extractElementSize(t.elementSize),r=Z.getMinimumHeight()>n.height,i=n.width<=Z.getMinimumWidth();if(i||r)return null;var o=$.supportVertical(e.articleData.getHighlights());if(!o||!Z.getRezVertical()){var a=t.elementSize.clientWidth,s=t.elementSize.clientHeight;if(a/s<Z.getValidRatio())return null}return t.viewportMaskElement=this.getViewportMaskElement(e,t.elmToReplace),t.viewportObserver=this.getViewportObserver(e,t.elmToReplace),t.name=this._generateName(e),t},e.prototype.getApvDataByContainer=function(e){var t=this.checkForArticleData(e);if(t){c.extendObject(e,t);var n=this.retrieveDomElements(e);if(n)return c.extendObject(e,n),this.createData(e)}},e.prototype.getViewportMaskElement=function(e,t){var n=document.querySelectorAll("["+s.integrationDataSet.VIEWPORT_MASK+"]");if(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.contains(t))return i}return window}return window},e.prototype.getViewportObserver=function(e,t){var n=[],r=document.querySelectorAll("["+s.integrationDataSet.VIEWPORT_OBSERVER+"]");if(r)for(var i=0;i<r.length;i++){var o=r[i];o.contains(t)&&n.push(o)}return n},e.prototype.getNewApvData=function(){var e=[],t=this.getContainers();if(0!==t.length){for(var n=0;n<t.length;n++){var r=t[n];if(!r||!r.querySelector(".minute-container")){var i=this.getApvDataByContainer({containerElement:r});i&&e.push(i)}}return e}},e.prototype.getContainers=function(){var e=document.querySelectorAll("["+s.integrationDataSet.ENABLE+"]");return 0===e.length?[]:e},e.prototype._generateName=function(e){var t="true",n=e.containerElement;return t="true"!==n.getAttribute(s.integrationDataSet.ENABLE)&&""!==n.getAttribute(s.integrationDataSet.ENABLE)?n.getAttribute(s.integrationDataSet.ENABLE):n.offsetWidth+"X"+n.offsetHeight},l.services=l.services||{},l.services.VideoGenerator=l.services.VideoGenerator||{},l.services.VideoGenerator.Base=e}(),function(){services=l.services||{},l.services.BlockingDistance=l.services.BlockingDistance||{},l.services.BlockingDistance.StaticBlockerService=t,e.prototype.getRact=e.prototype.getPosition=function(){var e=this.getRact();return{top:e.top+document.body.scrollTop+parseInt(e.height)/2,left:e.left+document.body.scrollLeft+parseInt(e.width)/2}},e.prototype.getRank=function(){return 999},e.prototype.getBlockingDistance=function(){return Z.getBlockingDistanceRadius()},t.prototype.isStaticAlreadyMarked=function(e){for(var t=0;t<this._blockersContainers.length;t++){var n=this._blockersContainers[t];if(n.elm&&n.elm==e)return!0}return!1},t.prototype.getBlockers=function(){for(var t=Z.getStaticBlockerSelector(),n=document.querySelectorAll(t),r=0;r<n.length;r++){var i=n[r];if(!this.isStaticAlreadyMarked(i)){var o=new e(i);o&&(this.painter.draw.drawStatic(o),this._blockersContainers.push(o))}}return this._blockersContainers}}(),function(){function e(e){function n(){var n=localStorage&&localStorage.getItem("_minDisableBlockingD"),r=t.indexOf(e.getPlaymode(s.Emitter.PRODUCT_APV))>-1;if(!n&&r&&e.isBlockingServiceActive()){var i=new l.services.BlockingDistance.DocumentRadiusPainterFactory(e).create();return new l.services.BlockingDistance.BlockingDistanceService(e,i)}return new l.services.BlockingDistance.NotActivatedBlockingDistance}return{create:n}}l.services=l.services||{},l.services.BlockingDistance=l.services.BlockingDistance||{},l.services.BlockingDistance.Factory=e;var t=[s.playmode.VIEWPORT]}(),function(){function e(e,t){o=t,d=new l.services.BlockingDistance.StaticBlockerService(t)}unction n(e,t){var n=Math.pow(e.top-t.top,2),r=Math.pow(e.left-t.left,2);return Math.sqrt(r+n)}function r(e,t){for(var r,i=Z.noDuplicateVideos(),o=0;o<t.length;o++){var l=t[o];if(e.getUniqId()!==l.getUniqId()&&l.getState()!==s.APVStates.Blocked&&l.getState()!==s.APVStates.Disabled&&l.getState()!==s.APVStates.New){if(r=n(e.getPosition(),l.getPosition()),i&&e.getMinuteVideoId()==l.getMinuteVideoId())return!0;if(r<l.getBlockingDistance()){var c=e.getElementToReplace();return a.indexOf(c)===-1&&a.push(c),!0}}}return!1}function i(e){for(var t,r,i=0;r=u[i];i++)if(t=n(e.getPosition(),r.getPosition()),t<r.getBlockingDistance()){c.log("BlockingD: "+e.getArticleData().getArticleUrl()+" by a static container ");var o=e.getElementToReplace();a.indexOf(o)===-1&&a.push(o);var l={url:c.urls.getLocationUrl(),user_agent:navigator.userAgent,source:q.getAnalyticsSource(),publisher:Z.getPublisherIdNumber(),category:"BlockingD",action:"blockedByStatic",label:c.urls.getLocationUrl(),value:e.getHighlightId()};return j.send(s.Emitter.CUSTOM_EVENTS,l),!0}return!1}l.services=l.services||{},l.services.BlockingDistance=l.services.BlockingDistance||{},l.services.BlockingDistance.BlockingDistanceService=e;var o=null,a=[],u=[],d=null;e.prototype.calculate=function(e){u=d.getBlockers();for(var n=ae.getAllActiveApv(),a=e.sort(t),l=n.concat(e).sort(t),c=0;c<a.length;c++){var p=a[c],h=s.APVStates.Active;(i(p)||r(p,l))&&(h=s.APVStates.Blocked),p.setState(h)}o.draw.draw(n.concat(e))}}(),function(){ar t={INIT:0,NOT_SCROLLED:1,SCROLLED:2},n=function(n){this.viewportMaskElement=n,this.mutationObserver=new MutationObserver(e.bind(this)),this.mutationObserver.observe(this.viewportMaskElement,{attributes:!0}),this.state=t.INIT};n.prototype.isCarouselBlocking=function(){return this.state===t.SCROLLED},n.prototype.getViewportMaskElement=function(){return this.viewportMaskElement},l.apv=l.apv||{},l.apv.CarouselContainer=n}(),function(){function e(e){return{create:function(){var e=localStorage&&localStorage.getItem&&"true"==localStorage.getItem("_minShowBD");return{draw:e?r():{draw:function(){},drawStatic:function(){}}}}}}unction n(e){if(e.getProduct()!==s.Emitter.PRODUCT_IN_ARTICLE){var t=e.getElementToReplace();t.style.opacity=t.dataset.old_opacity}}function r(){function e(e){if(e.getProduct()!==s.Emitter.PRODUCT_IN_ARTICLE){var n=e.getElementToReplace();switch(t(n),e.getState()){case s.APVStates.Active:n.style.opacity=1;break;case s.APVStates.Blocked:case s.APVStates.Disabled:case s.APVStates.Disposed:n.style.opacity=.2,e.getDebug().style.opacity=0}}}function r(e){var t=e.getPosition(),n=t.left+window.scrollX,r=t.top+window.scrollY,i=2*e.getBlockingDistance(),o="rgba(255, 0, 0, 0.1)",a=c(r,n,i,o,e);e.getDebug().appendChild(a)}function i(e){var t=document.createElement("div");document.body.insertAdjacentElement("afterbegin",t),e.setDebug(t)}function o(){for(var t in u){var o=u[t];o.hasDisposed()||o.getProduct()===s.Emitter.PRODUCT_IN_ARTICLE||o.getPlaymode()!==s.playmode.VIEWPORT||(n(o),i(o),r(o),e(o))}}function a(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.getUniqId();u[r]||(u[r]=n)}}function l(e){var t=document.createElement("div");document.body.insertBefore(t,document.body.childNodes[0]);var n=e.getPosition(),r=n.left+window.scrollX,i=n.top+window.scrollY,o=2*e.getBlockingDistance(),a="rgba(0, 0, 255, 0.1)",s=c(i,r,o,a,e);t.appendChild(s)}function c(e,t,n,r,i){var o=document.createElement("div");return o.className="minPoint",o.style.position="absolute",o.style.width=n+"px",o.style.height=n+"px",o.style.top=e+"px",o.style.left=t+"px",o.style.zIndex=1e7,o.style.backgroundColor=r,o.style.transform="translate(-50%,-50%)",o.style.border="dotted green",o.style.borderRadius="50%",o.style.display="flex",o.style.alignItems="center",o.style.alignContent="center",o.style.justifyContent="center",o.style.textShadow="0 0 10px white",o.style.fontSize="20px",o.style.pointerEvents="none",o.style.textAlign="center",o.innerHTML="radius: "+n+"<br/>rank: "+i.getRank(),o}var u={};return setInterval(o,2e3),{draw:a,drawStatic:l}}l.services=l.services||{},l.services.BlockingDistance=l.services.BlockingDistance||{},l.services.BlockingDistance.DocumentRadiusPainterFactory=e}(),function(){function e(){}l.services=l.services||{},l.services.BlockingDistance=l.services.BlockingDistance||{},l.services.BlockingDistance.NotActivatedBlockingDistance=e,e.prototype.calculate=(),function(){function e(e,a,s,l,c){t=e,n=a,r=s,i=l,o=c,this.lastKnownUrl=location.href}var t=null,n=null,r=null,i=null,o=null;l.services=l.services||{},l.services.inArticlePlacers=l.services.inArticlePlacers||{},l.services.inArticlePlacers.Base=e,l.services.inArticlePlacers.Placer=e,e.prototype.init=function(){this.startAPVFactory(),h.addEventListener(s.Events.PLAYER_FOUND,this.newPlayerFoundHandler.bind(this)),h.addEventListener(s.Events.VIDEOS_UPDATE,this.startAPVFactory.bind(this)),h.addEventListener(s.Events.URL_MANIPULATION_INTERVAL_SERVICE,this.urlManipulationHandler.bind(this))},e.prototype.createInArticleApvWrapper=function(e){if(e){var t=o.add(e);t&&(c.log("APV IN ARTICLE Wrapper will now be created. VideoId: "+e.getArticleData().getArticleId()+', selector: "'+e.getName()+'"'),new l.apv.APVWrapper(e))}},e.prototype.getName=function(){return"InArticle"},e.prototype.urlManipulationHandler=function(){this.startAPVFactory()},e.prototype.startAPVFactory=function(){if(c.isPlacementEnabled(s.Emitter.PRODUCT_IN_ARTICLE)){var e=this.getPlayersOnPage()||[];e instanceof NodeList&&(e=Array.prototype.slice.call(e));var t=Object.keys(e||{});if(0===t.length)return void this.listenToNewPlayerEvent();for(var n=0;n<t.length;n++)this.createInArticleByPlayer(e[t[n]])}},e.prototype.createInArticleByPlayer=e.prototype.newPlayerFoundHandler=function(e){},e.prototype.createDataObject=function(e){var t={};t.player=e;var n=this.getArticleData(e);if(n&&n.hasAPVByProduct(s.Emitter.PRODUCT_IN_ARTICLE))return t.articleData=n,t},e.prototype.collectApvWrapperData=function(e){if(this.shouldPlayAPV(e)){var t=this.createDataObject(e);if(t)return this.createApvData(t)}},e.prototype.createApvData=function(e){var n=this.getContainerElement(e);n||t.logWarning("No container found on in article so... ;|  ");var r=new W({articleData:e.articleData,elementSize:n,containerElement:n,product:s.Emitter.PRODUCT_IN_ARTICLE,viewportMaskElement:this.getInarticleViewportMask(e),viewportObserver:this.getViewportElementsToObserve(e)});r.setName(this.getName());var i=this.getManualClick(e.player);return i&&r.setManualClick(i),r.setPlayerInstance(e.player),r},e.prototype.listenToNewPlayerEvent=function(){},e.prototype.getPlayersOnPage=function(){c.logError("Have to implement method that returns all players' instances")},e.prototype.getArticleData=function(){c.logError("getArticleData is not implemented")},e.prototype.shouldPlayAPV=e.prototype.getManualClick=function(){return null},e.prototype.getContainerElement=e.prototype.getInarticleViewportMask=function(){return Z.getInArticleViewportMask()},e.prototype.getViewportElementsToObserve=(),function(){function e(r,i,o,a,s){t=r,n=a,e.__superCtor__.call(this,r,i,o,a,s)}var t=null,n=null;c["extends"](e,l.services.inArticlePlacers.Base),l.services.inArticlePlacers.Placer=e,e.prototype.init=function(){h.addEventListener(s.Events.PLAYER_FOUND,this.newPlayerFoundHandler.bind(this))},e.prototype.getName=function(){return"NFL InArticle"},e.prototype.getType=function(){return l.scrap.PlayerEnum.NFL},e.prototype.newPlayerFoundHandler=function(e){this.container=e.data.container,this.articleData=e.data.articleData,this.autoplay=e.data.autoplay,this.player=e.data.playerJS,this.createInArticleByPlayer(this.player)},e.prototype.getPlayersOnPage=function(){},e.prototype.getArticleData=e.prototype.shouldPlayAPV=e.prototype.getElementToReplace=function(e){var t=e.player;e.articleData;if(!t.isStarted&&!this.container.querySelector("[data-test-id='controls']"))return this.container.querySelector(".poster")},e.prototype.getManualClick=function(){return this.container},e.prototype.getContainerElement=function(){return this.container}}(),function(){function e(e){this.apvData=e,this._initElements(),this.apvData=null}l.apv=l.apv||{},l.apv.APVWrapper=e;var t=l.publisher.utils;e.prototype._createDomAdapter=function(){switch(this.apvData.getProduct()){case s.Emitter.PRODUCT_APV:return l.apv.domAdapter.pubDomAdapter?new l.apv.domAdapter.pubDomAdapter:new l.apv.domAdapter.Base;case s.Emitter.PRODUCT_IN_ARTICLE:if(t.getDomAdapter)return new(l.apv.inArticleDomAdapter[t.getDomAdapter()]);var e=Object.keys(l.apv.inArticleDomAdapter);return 1==e.length?new l.apv.inArticleDomAdapter[e[0]]:new l.apv.inArticleDomAdapter}},e.prototype._createPlaymode=function(){var e=l.apv.playmodes;switch(this.apvData.getPlaymode()){case s.playmode.VIEWPORT:case s.playmode.BLOCKINGHOVER:return new e.Viewport;case s.playmode.HOVER:return new e.Hover}},e.prototype._initElements=function(){var e=new l.apv.players.ApvPlayerBase;e.init(this.apvData),this.apvData.setApvPlayer(e);var t=new l.apv.logos.LogoElmBase;t.init(this.apvData.getProduct()),this.apvData.setMinuteLogo(t);var n=this._createDomAdapter();if(!n)return c.log("No DomAdapter found."),null;this.apvData.setDomAdapter(n),se.register(this.apvData);var r=this._createPlaymode(this.apvData);return r?(r.setDomAdapter(this.apvData),r.start(),void n.init(this.apvData)):(c.log("No playmode found - probably unsupported browser."),null)}}(),function(){function t(e){for(var t=c.cloneArray(e.getContainerElement().querySelectorAll("img,div[style*='background-image']")||[]),n=0;n<t.length;n++){var r=t[n];l.utils.ApvElementUtils.setElementAsReplaced(r)}l.utils.ApvElementUtils.setElementAsReplaced(e.getElementToReplace())}function n(e,t,n){r=e,i=t;var a=l.services.VideoGenerator.Base;o=new a(e,t,n),this.blockingDistanceService=ce.create(r),this._apvWrapperNotCreatedHash={},this._apvsOnPage=0,this.findReplaceableElementsAndPlaceVideos(),h.addEventListener(s.Events.ONE_SECONDS_INTERVAL,this.findReplaceableElementsAndPlaceVideos,this)}l.services=l.services||{};var r=null,i=null,o=null;l.services.PlacementService=n,n.prototype.findReplaceableElementsAndPlaceVideos=function(){var e=o.getNewApvData();if(e&&(!e||0!=e.length)){var t=this;this.blockingDistanceService.calculate(e),e.forEach(function(e){if(!t._apvWrapperNotCreatedHash[e.getKey()]){switch(e.getState()){case s.APVStates.Disposed:return;case s.APVStates.Blocked:return void(Z.getPlaymode()==s.playmode.BLOCKINGHOVER&&(e.setState(s.APVStates.Active),e.setPlaymode(s.playmode.HOVER)))}t.createApvWrapper(e)}}),this.reportCounters()}},n.prototype.createApvWrapper=function(e){return this._apvsOnPage++>=r.getMaxApvsPerPage()?(this._apvWrapperNotCreatedHash[e.getKey()]=!0,void c.log("Blocked APV creation. number of APVs on page exceeds limit. Max="+r.getMaxApvsPerPage())):(new l.apv.APVWrapper(e),t(e),c.log("APV Wrapper Created. VideoId: "+e.getArticleData().getArticleId()),void this.reportCounters())},n.prototype.reportCounters=function(){var t=e._report||{APVs:-1,Watchers:-1};if(e._report={APVs:document.querySelectorAll("[data-apv_replaced]").length,NotCreated:Object.keys(this._apvWrapperNotCreatedHash).length,Watchers:document.querySelectorAll("[data-apv_watched]").length},(t.Watchers!==e._report.Watchers||t.NotCreated!==e._report.NotCreated||t.APVs!==e._report.APVs)&&document.body&&document.body.appendChild){var n="# of ApvData: "+i.getAmountOfApvDataOnPage();n+=e._report.NotCreated?" # of Apv not created due to max on page: "+e._report.NotCreated:" ",n+=e._report.Watchers?" # of Apvs that are watched: "+e._report.Watchers:" ",c.log(n),this._htmlReport||(this._htmlReport=document.createElement("div"),this._htmlReport.setAttribute("id","minReport"),this._htmlReport.style.display="none",document.body.appendChild(this._htmlReport)),this._htmlReport.setAttribute("data-apvs",e._report.APVs),this._htmlReport.setAttribute("data-apvs-not-created",e._report.NotCreated),this._htmlReport.setAttribute("data-watchers",e._report.Watchers),this._htmlReport.setAttribute("data-test",J.isTestGroup())}}}(),c.debugParamsOverrides();var H=new P;if(H.getCurrentStorage()){var G=new o;G.init();var z=new D,q=z.create(e.compatibility),Y=new A(H),j=new t(c,H,s.Urls),K=new k(c,H,Y),J=new V(c,window,e.debugParams[f.FORCE_TEST],H),Z=new I(e,c),X=new C(c,Z),$=new b(c,H,q,Z),Q=new w(c,Z,q,X,$),ee=new N,te=new r(c,H,j,ee),ne=new T,re=new L(c,ne,q),ie=new U(c,J,q,Z,j,K),oe=new O(q,Z),ae=new l.ApvDataManager,se=new l.analytics.ViewportAnalyticsService,le=new l.services.Simulation(Z),ce=new l.services.BlockingDistance.Factory(Z),ue=null,de=new x(c,J,q,H,v,Y),pe=new F(c,q,Z),he=new i(Z,c,ae);
Y.init(e.sessionData);var ge=function(){ction i(){P=e.config,_min.config=null,q.init(P.config),K.init(),Z.init(P,q,u,e.debugParams[f.ENABLE_BLOCKING_DISTANCE]),he.init(),$.init(),se.init(),R.init(),J.init(Z.getTestGroupSize(),!1),l.utils.logger.setTestGroup(J.isTestGroup()),setTimeout(0)}function o(){return ie.init(se),B.sendUrlReport(),q.isBrowserSupported()?q.isLPM()?void c.log("Minute will shut down now due to LPM "+e.ver+" "+e.debugParams[m.SCRIPT_HOSTNAME]):q.isDataSaverOn()?void c.log("Minute will shut down now due to Data saver  "+e.ver+" "+e.debugParams[m.SCRIPT_HOSTNAME]):H?void setTimeout(function(){de.start(),Q.init(P),y(),te.init(),M.sendDelayedClicks(),re.init(Z)},0):void c.log("Local Storage and Session Storage are not supported. Disable Minute."):void c.log("Minute is not supported "+e.ver+" "+e.debugParams[m.SCRIPT_HOSTNAME])}function a(){_=performance.now(),Z.shouldWaitForLoadEvent()?(window.addEventListener("load",,window.performance&&window.performance.timing&&window.performance.timing.loadEventEnd>0&&d()):d()}function d(){if(!S){D=performance.now();var e=D-_;if(S=!0,setTimeout(0),p(),h.dispatchEvent(s.Events.SYSTEM_RUNNING),Z.shouldWaitForLoadEvent()&&e>.2){c.log("core delayed: "+e);var t={url:encodeURIComponent(c.urls.getLocationUrl()),user_agent:navigator.userAgent,source:q.getAnalyticsSource(),publisher:Z.getPublisherIdNumber(),category:"CoreDelayed",action:"Delayed",label:"seconds",value:Math.round(e)};j.send(s.Emitter.CUSTOM_EVENTS,t)}}}unction g(){return!!c.isPlacementEnabled(s.Emitter.PRODUCT_IN_ARTICLE)&&!!Z.isInArticlePlacerActive()}function v(){if(!g())return h.addEventListenerOnce(s.Events.URL_MANIPULATION_INTERVAL_SERVICE,v),void c.log("** InArticle is turned off in configuration or didnt pass filter");var e=new l.services.inArticlePlacers.Placer(c,Z,ne,q,ae);e.init()}function E(){return c.isPlacementEnabled(s.Emitter.PRODUCT_APV)?(le.init(),ue=new l.services.PlacementService(Z,ae,c),!0):(c.log("** Placement Disabled by configuration. See filter configuration. **"),!1)}function y(){var e=c.urls.isUrlHomePage(),t=g(),n=c.urls.getLocationUrl(),r=c.isUrlFilterValid(n,Z.getFilterScraper());if(!e&&t){if(!r)return void c.log("** Missing Article Data blocked by scraper filter URL. **");if(""!==n&&!Q.hasInArticleArticleDataForUrl(n))try{oe.loadNextArticle({onSuccess:Q.appendVideos,videosFallback:!1})}catch(i){c.log("Error loading next article: "+i.message)}}}var _,A=null,P=null,S=!1,D=0;setTimeout(t,0)};new ge;return e}}(window._minDebug||_min||{});