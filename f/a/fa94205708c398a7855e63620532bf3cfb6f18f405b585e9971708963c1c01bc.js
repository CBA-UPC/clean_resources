(()=>{"use strict";(self.webpackChunkardplayer=self.webpackChunkardplayer||[]).push([[663],{8422:function(e,t,i){i.d(t,{m:function(){return T}});var s=i(8241),n=i(7072),a=i(721),r=i(5221),o=i(8353),l=i(2893),h=i(3675),d=i.n(h),c=i(1947),u=i(8187),p=i(5989),m=function(e,t,i){for(var s=arguments.length>2,n=0;n<t.length;n++)i=s?t[n].call(e,i):t[n].call(e);return s?i:void 0},E=function(e,t,i,s,n,a){function r(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=s.kind,h="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,c=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var m={};for(var E in s)m[E]="access"===E?{}:s[E];for(var E in s.access)m.access[E]=s.access[E];m.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");a.push(r(e||null))};var f=(0,i[p])("accessor"===l?{get:c.get,set:c.set}:c[h],m);if("accessor"===l){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(o=r(f.get))&&(c.get=o),(o=r(f.set))&&(c.set=o),(o=r(f.init))&&n.push(o)}else(o=r(f))&&("field"===l?n.push(o):c[h]=o)}d&&Object.defineProperty(d,s.name,c),u=!0},f=function(e,t,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(e):s?s.value:t.get(e)},v=function(e,t,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(e,i):n?n.value=i:t.set(e,i),i};let T=(()},8558:function(e,t,i){i.d(t,{i:function(){return h},v:function(){return d}});var s=i(3389),n=i(2893),a=i(8187),r=function(e,t,i,s,n,a){function r(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=s.kind,h="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,c=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var m={};for(var E in s)m[E]="access"===E?{}:s[E];for(var E in s.access)m.access[E]=s.access[E];m.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");a.push(r(e||null))};var f=(0,i[p])("accessor"===l?{get:c.get,set:c.set}:c[h],m);if("accessor"===l){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(o=r(f.get))&&(c.get=o),(o=r(f.set))&&(c.set=o),(o=r(f.init))&&n.push(o)}else(o=r(f))&&("field"===l?n.push(o):c[h]=o)}d&&Object.defineProperty(d,s.name,c),u=!0},o=l=let h=((),d=(()},1660:function(e,t,i){var s=i(8422),n=i(8241),a=i(7072),r=i(5989),o=i(8187),l=i(8353),h=d=t.Z=(()=>{var e,t,i,c,u,p,m,E,f,v,T,y;let g,S,k=[o.VP],_=[];return S=class extends s.m{constructor(s,n){super(s,n),e.set(this,!1),t.set(this,!1),i.set(this,0),c.set(this,!1),u.set(this,null),p.set(this,0),m.set(this,0),E.set(this,-1),f.set(this,0),v.set(this,0),T.set(this,-1),y.set(this,0),this.mc.isLive&&this.mc.isDvrEnabled&&(this.emap.map(this.mediaElement,"canplay",this.updateDVRValues,this),a.q.browserIsSafari&&(this.dvrWindowUnstable=!0,h(this,e,!0,"f"),this.emap.map(this.mediaElement,"playing",this.updateDVRValues,this)))}addSource(i){var s,o;null===(o=null===(s=this.player)||void 0===s?void 0:s.pixelController)||void 0===o||o.loadStream(i.url),this.resetDateSync(),a.q.browserIsSafari&&this._pendingSeek>0&&(i.url+=`#t=${this._pendingSeek}`,this._pendingSeek=0);const l=e=>{const t=document.createElement("source");t.src=i.url,t.type=e,this.mediaElement.appendChild(t),this.emap.map(t,"error",this.onSourceError,this),this.player.loop.dispatchEvent(n.J.EVENT_STREAM_LOADED,{})},c=i.url.toLowerCase();switch(!0){case c.indexOf(".m3u8")>0:h(this,t,d(this,e,"f"),"f"),l(this.player.isAudio?"audio/x-mpegurl":"application/x-mpegURL");break;case c.indexOf(".mp4")>0:l("video/mp4");break;case c.indexOf(".ogv")>0:l("video/ogg");break;case c.indexOf(".webm")>0:l("video/webm");break;case c.indexOf(".mp3")>0:l("audio/mpeg");break;case c.indexOf(".ogg")>0:l("audio/ogg");break;case c.indexOf(".wav")>0:l("audio/x-wav");break;case!(0,r.fp)(i.mimeType):l(i.mimeType);break;default:this.handleError(`Unknown mimetype "${i.mimeType}" for stream ${c}`)}}updateTime(e){d(this,t,"f")&&super.dvrRelToUnix(0),super.updateTime(e)}setCurrentTimeRaw(e,i=!1,s=!1,n=!1){d(this,t,"f")?super.setCurrentTimeRaw(e+this.smoothStartTime,i,s,n):super.setCurrentTimeRaw(e,i,s,n)}setTimeByPercent(e){if(d(this,t,"f")&&e>99.9){const t=e/100*this.getDuration();return this.seekToLive(),t}return super.setTimeByPercent(e)}seekToLive(){this.bufferingEventHandler(!0),d(this,t,"f")?this.mediaElement.currentTime=this.endTime:(this.mediaElement.load(),super.seekToLive())}onSeekEnd(e){super.onSeekEnd(e),d(this,t,"f")&&this.updateDVRValues()}onTimeUpdate(e){h(this,i,Date.now(),"f"),super.onTimeUpdate(e)}updateTicker(){super.updateTicker(),this.model.playstate===l.S.PLAYSTATE_PLAYING&&Date.now()-d(this,i,"f")>2e3?(h(this,c,!0,"f"),this.bufferingEventHandler(!0)):d(this,c,"f")&&this.bufferingEventHandler(!1)}play(){this.isNonDvrLive()&&this.model.playstate===l.S.PLAYSTATE_PAUSED&&this.seekToLive(),h(this,i,Date.now(),"f"),h(this,c,!1,"f"),super.play()}isNonDvrLive(){return this.mc.isLive&&!this.mediaElement.webkitCurrentPlaybackTargetIsWireless&&(!this.mc.isDvrEnabled||this.getDuration()<60||!d(this,t,"f"))}resetDateSync(){h(this,u,null,"f"),h(this,v,0,"f"),h(this,m,0,"f")}updateDVRValues(){if(!this.mc.isLive)return;if(this.isNonDvrLive())return void this.onDVRCallback(!1,0,!0);const e=this.mediaElement.getStartDate();isNaN(e.valueOf())?h(this,u,null,"f"):(h(this,u,{rel:-this.smoothStartTime,real:e.getTime(),at:(new Date).getTime()},"f"),this.onDVRCallback(this.getDuration()>=60,this.getDuration(),this.mediaElement.currentTime>=this.smoothEndTime))}et endTime(){const e=this.mediaElement.seekable.length<=0?0:this.mediaElement.seekable.end(this.mediaElement.seekable.length-1);return(d(this,m,"f")<=0||e!==d(this,p,"f"))&&(h(this,m,performance.now(),"f"),h(this,p,e,"f")),e}get smoothEndTime(){if(-1===d(this,E,"f")){const e=this.endTime;h(this,E,d(this,m,"f")<=0?e:d(this,p,"f")+(performance.now()-d(this,m,"f"))/1e3,"f"),this.player.safeTimeout((()=>{h(this,E,-1,"f")}))}return d(this,E,"f")}get startTime(){const e=this.mediaElement.seekable.length<=0?0:this.mediaElement.seekable.start(0);return(d(this,v,"f")<=0||e!==d(this,f,"f"))&&(h(this,v,performance.now(),"f"),h(this,f,e,"f")),e}get smoothStartTime(){if(-1===d(this,T,"f")){const e=this.startTime;h(this,T,d(this,v,"f")<=0?e:d(this,f,"f")+(performance.now()-d(this,v,"f"))/1e3,"f"),this.player.safeTimeout(()}return d(this,T,"f")}getCurrentTime(){return d(this,t,"f")?this.mediaElement.currentTime-this.smoothStartTime:super.getCurrentTime()}getDuration(){if(d(this,t,"f")){const e=this.smoothEndTime-this.smoothStartTime;return e!==d(this,y,"f")&&(h(this,y,e,"f"),d(this,t,"f")&&this.updateDVRValues()),e}return super.getDuration()}},e=new WeakMap,t=new WeakMap,i=new WeakMap,c=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,E=new WeakMap,f=new WeakMap,v=new WeakMap,T=new WeakMap,y=new WeakMap,function(e,t,i){"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}(S,"HtmlMediaBaseCtrl"),function(e,t,i,s,n,a){function r(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=s.kind,h="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?s.static?e:e.prototype:null,c=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),u=!1,p=i.length-1;p>=0;p--){var m={};for(var E in s)m[E]="access"===E?{}:s[E];for(var E in s.access)m.access[E]=s.access[E];m.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");a.push(r(e||null))};var f=(0,i[p])("accessor"===l?{get:c.get,set:c.set}:c[h],m);if("accessor"===l){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(o=r(f.get))&&(c.get=o),(o=r(f.set))&&(c.set=o),(o=r(f.init))&&n.push(o)}else(o=r(f))&&("field"===l?n.push(o):c[h]=o)}d&&Object.defineProperty(d,s.name,c),u=!0}(null,g={value:S},k,{kind:"class",name:S.name},null,_),S=g.value,function(e,t,i){for(var s=arguments.length>2,n=0;n<t.length;n++)i=s?t[n].call(e,i):t[n].call(e)}(S,_),S})()},9369:function(e,t,i){i.r(t),i.d(t,{default:);var s=i(7072),n=i(8187),a=i(1660);let r=(()=>{let e,t,i=[n.VP],r=[];return t=class extends a.Z{constructor(e,t){super(e,t),this.streamResetUrl="javascript:void(0)",s.q.browserIsSafari&&this.mc.isLive&&this.mc.isDvrEnabled&&(this.dvrWindowUnstable=!0)}applyVideoScale(e){}pause(){if(this.isNonDvrLive()){const e=this.mediaElement.querySelector("source");if(e)return this.info("stopping non-dvr live stream"),this.emap.unmap(e,"error",this.onSourceError,this),e.dataset.src=e.src,e.dataset.type=e.type,e.src=this.streamResetUrl,e.type="void",this.mediaElement.pause(),this.pauseEventHandler(null),void this.player.safeTimeout(()}super.pause()}seekToLive(){var e,t;if(this.isNonDvrLive()){const i=this.mediaElement.querySelector("source");if(i&&i.src===this.streamResetUrl){this.info("seekToLive on non-dvr audio - reload stream"),i.src=null!==(e=i.dataset.src)&&void 0!==e?e:"",i.type=null!==(t=i.dataset.type)&&void 0!==t?t:"";const s=i.src.replace(/[?&]bufferBuster=\d+/,"");return i.src=`${s}${s.includes("?")?"&":"?"}bufferBuster=${Date.now()}`,this.emap.map(i,"error",this.onSourceError,this),void this.mediaElement.load()}}super.seekToLive()}etAudioTrack(){var e;const t=this.player.currentAudio;return t?{id:"0",label:t.kind,enabled:!0,language:null!==(e=null==t?void 0:t.languageCode)&&void 0!==e?e:"de"}:null}etAudioTrack(e){},t,"HtmlAudioCtrl"),null,e={value:t},i,{kind:"class",name:t.name},null,r),t=e.value,t,r),t})();var o={Generator:i(8558).i,Controller:r}}}])})();