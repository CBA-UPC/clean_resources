!{1:10:11:122:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_utils_loaders__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(18),_utils_observe__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19),_VideoIMA__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(71),controller=function sellwildVideoController(){var elements=new Map;return{isReady:null,initialize:function(){var e=Object(_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){return _home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isReady){e.next=2;break}return e.abrupt("return",this.isReady);case 2:return this.isReady=loadDependencies(),e.abrupt("return",this.isReady);case 4:case"end":return e.stop()}},e,this)}));return (),elementAdded:function elementAdded(el){var element=el;elements.set(element.id,element);var onAdError=element.getAttribute("onAdError");if(onAdError&&this.isReady&&this.isReady.catch(function(){eval(onAdError)}.bind(element)),!element.querySelector("[data-selector=container]"))try{var src=element.getAttribute("src"),iu=element.getAttribute("iu"),au=element.getAttribute("ad-unit"),adUnit=JSON.parse(au);createVideoElements(element,{src:src}),prepareBidRequests(element,iu,adUnit)}catch(err){console.error(err)}},elementRemoved:invokeVideoPlayer:function(){var _invokeVideoPlayer=Object(_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(element,adTagUrl){var ima,onCompleted,onAllAdsCompleted,onSkipped,onAdError,onLoaded,onStart;return _home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.isReady;case 2:ima=Object(_VideoIMA__WEBPACK_IMPORTED_MODULE_4__.a)(element,adTagUrl),ima.setup(),ima.checkAutoplaySupport(),onCompleted=element.getAttribute("onCompleted"),onCompleted&&ima.emitter.on(window.google.ima.AdEvent.Type.COMPLETE,function(){eval(onCompleted)}.bind(element)),onAllAdsCompleted=element.getAttribute("onAllAdsCompleted"),onAllAdsCompleted&&ima.emitter.on(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(){eval(onAllAdsCompleted)}.bind(element)),onSkipped=element.getAttribute("onSkipped"),onSkipped&&ima.emitter.on(window.google.ima.AdEvent.Type.SKIPPED,function(){eval(onSkipped)}.bind(element)),onAdError=element.getAttribute("onAdError"),onAdError&&ima.emitter.on(window.google.ima.AdErrorEvent.Type.AD_ERROR,function(){eval(onAdError)}.bind(element)),onLoaded=element.getAttribute("onLoaded"),onLoaded&&ima.emitter.on(window.google.ima.AdEvent.Type.LOADED,function(){eval(onLoaded)}.bind(element)),onStart=element.getAttribute("onStarted"),onStart&&ima.emitter.on(window.google.ima.AdEvent.Type.STARTED,bind(element));case 17:case"end":return _context2.stop()}},_callee2,this)}));eturn invokeVideoPlayer}()}}();unction _loadDependencies(){return(_loadDependencies=Object(_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){return _home_runner_work_sellwild_widget_sellwild_widget_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(_utils_loaders__WEBPACK_IMPORTED_MODULE_2__.a)("//securepubads.g.doubleclick.net/tag/js/gpt.js"),Object(_utils_loaders__WEBPACK_IMPORTED_MODULE_2__.a)("//imasdk.googleapis.com/js/sdkloader/ima3.js"),Object(_utils_loaders__WEBPACK_IMPORTED_MODULE_2__.a)("//cache.sellwild.com/video/prebid7.54.5.1.js")]);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function prepareBidRequests(e,t,n){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.pbjs.que.push(function(){window.pbjs.addAdUnits([n]),window.pbjs.setConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}}),window.pbjs.requestBids({bidsBackHandler:function(r){console.log({bids:r});var o=window.pbjs.adServers.dfp.buildVideoUrl({adUnit:n,params:{iu:t}});console.log({videoUrl:o}),controller.invokeVideoPlayer(e,o)}})})}function createVideoElements(e,t){var n=t.src;e.innerHTML='\n  <div data-selector="container">\n    <video playsinline data-selector="video">\n      <source src="'.concat(n,'"></source>\n    </video>\n  </div>\n  <div data-selector="ad"></div>\n  <button data-selector="play">Play</button>\n  <style>\n    sellwild-video {\n      position: relative;\n      width: 400px;\n      height: 225px;\n      max-width: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    \n    sellwild-video div[data-selector=container], sellwild-video div[data-selector=ad] {\n      position: absolute;\n      top: 0px;\n      left: 0px;\n      width: 100%;\n      height: 100%;\n    }\n\n    sellwild-video div[data-selector=ad] > div,\n    sellwild-video div[data-selector=ad] > div > iframe {\n      width: 100%!important;\n      height: 100%!important;\n    }\n    \n    sellwild-video video[data-selector=video] {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      object-fit: cover;\n    }\n\n    [data-selector="ad"] video {\n      object-fit: cover;\n      background-color: rgba(0, 0, 0, 0)!important;\n    }\n    \n    sellwild-video button[data-selector=play] {\n      display: none;\n      width: 50%;\n      height: 60px;\n      padding: 0;\n      font-size: 22px;\n      font-family: sans-serif;\n      color: white;\n      text-align: center;\n      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.25);\n      background: #2c3e50;\n      border: 0;\n      border-bottom: 2px solid #22303f;\n      cursor: pointer;\n      -webkit-box-shadow: inset 0 -2px #22303f;\n      box-shadow: inset 0 -2px #22303f;\n    }    \n  </style>\n  ')}controller.initialize(),Object(_utils_observe__WEBPACK_IMPORTED_MODULE_3__.a)("sellwild-video",controller.elementAdded.bind(controller),controller.elementRemoved.bind(controller))},14:function(e,t,n){"use strict";var r=n(3),o=n(2);d(t,"a",function(){return a})},17:18:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var o=document.createElement("script");for(var i in o.src=e,t)o.setAttribute(i,t[i]);o.onload=o.onerror=document.head.appendChild(o)})}n.d(t,"a",function(){return r})},19:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(4),o=n(5),i=n(11),a=n(3),l=n(10),d=n(14);function u(e,t,n){window["sellwild".concat(e)]||(window["sellwild".concat(e)]=!0,customElements.define(e,function(d){eturn Object(l.a)(u,d),Object(o.a)(u,[{key:"connectedCallback",value:function(){if(this.isConnected){var n=window.crypto.getRandomValues(new Uint32Array(1))[0].toString(16);this.id="".concat(e,"-").concat(n),t(this)}}},{key:"disconnectedCallback",value:]),u}(Object(d.a)(HTMLElement))))}},2:3:4:5:7:71:function(e,t,n){"use strict";n.d(t,"a",;var r=n(4),o=n(5),i=function(){eturn Object(o.a)(e,[{key:"on",value:,{key:"off",value:,{key:"emit",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=(this._listeners[e]||[])[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){(0,i.value)(t)}}catch(l){r=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}]),e}();function a(e,t){var n=new i;function r(t){var n=new window.google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.uiElements=[window.google.ima.UiElements.COUNTDOWN,window.google.ima.UiElements.AD_ATTRIBUTION],e.adsManager=t.getAdsManager(e.videoContent,n);var r=e.autoplayAllowed&&e.autoplayRequiresMuted?0:1;e.adsManager.setVolume(r),e.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,s),e.adsManager.addEventListener(window.google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,_),e.adsManager.addEventListener(window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,p),e.adsManager.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,f),e.adsManager.addEventListener(window.google.ima.AdEvent.Type.LOADED,f),e.adsManager.addEventListener(window.google.ima.AdEvent.Type.STARTED,f),e.adsManager.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,f),e.adsManager.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,f),e.autoplayAllowed?function(){try{e.adsInitialized||(e.adDisplayContainer.initialize(),e.adsInitialized=!0),e.adsManager.init(400,225,window.google.ima.ViewMode.NORMAL),e.adsManager.start()}catch(t){e.videoContent.play()}}():e.playButton.style.display="block"}function o(){e.videoContent.pause(),e.autoplayAllowed=!0,e.autoplayRequiresMuted=!1,u()}function a(t){!function(){e.videoContent.volume=0,e.videoContent.muted=!0;var t=e.videoContent.play();void 0!==t&&t.then(l).catch(d)}()}function l(){e.videoContent.pause(),e.autoplayAllowed=!0,e.autoplayRequiresMuted=!0,u()}function d(t){e.videoContent.volume=1,e.videoContent.muted=!1,e.autoplayAllowed=!1,e.autoplayRequiresMuted=!1,u()}function u(){var n=new window.google.ima.AdsRequest;n.adTagUrl=t,n.setAdWillAutoPlay(e.autoplayAllowed),n.setAdWillPlayMuted(e.autoplayRequiresMuted),e.adsLoader.requestAds(n)}function c(){e.videoContent.onended=null,e.adsLoader&&e.adsLoader.contentComplete()}function s(t){console.log("onAdError",t.type,t.getError()),e.adsManager&&e.adsManager.destroy(),e.videoContent.play(),n.emit(window.google.ima.AdErrorEvent.Type.AD_ERROR,t)}function _(){e.videoContent.pause(),e.videoContent.onended=null}function p(){e.videoContent.play(),e.videoContent.onended=c}function f(t){var r=t.getAd();switch(console.log("Ad event",t),t.type){case window.google.ima.AdEvent.Type.LOADED:r.isLinear()||e.videoContent.play()}n.emit(t.type,t)}return e.videoContent=e.querySelector("[data-selector=video]"),e.adContent=e.querySelector("[data-selector=ad]"),e.playButton=e.querySelector("[data-selector=play]"),{setup:function(){window.google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),e.adDisplayContainer=new window.google.ima.AdDisplayContainer(e.adContent,e.videoContent),e.adsLoader=new window.google.ima.AdsLoader(e.adDisplayContainer),e.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r,!1),e.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,s,!1),e.videoContent.onended=c},emitter:n,checkAutoplaySupport:function(){var t=e.videoContent.play();void 0!==t&&t.then(o).catch(a)}}}}});
//# sourceMappingURL=video.js.map