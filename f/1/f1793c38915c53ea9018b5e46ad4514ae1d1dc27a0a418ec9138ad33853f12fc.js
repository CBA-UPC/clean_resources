var SourcePoint;(()=>{"use strict";var e={604:e=>{.exports=,785:645:81:379:569:216:565:795:589:,t={};.n=n.d=n.o=n.r=n.nc=void 0;var o={};(()=>{n.r(o),n.d(o,{handleConsentRejection:()=>J});var e={};n.r(e),n.d(e,{consentAccountIds:()=>t,consentDomains:()=>r,consentGroupIds:);var t={prisma:314,libe:384,arcpublishing:384},s={prisma:828489,"gala.fr":911322,libe:454785,arcpublishing:454785,"prismamedia.com":492941,"prismamediasolutions.com":781859,"prismashop.fr":496968,"prismashop-preprod":496968,"pms-ops":520234,"seeandso.com":828516,"infonity.me":736548,"passpresse.me":837754,"levonslesyeux.fr":520234,"croq-body.com":968197,"croq-kilos.com":968197,"cuisineaz.com":968197,"deco.fr":968197,"fourchette-et-bikini.fr":968197,"laroutinemiracle.com":968197,"meteocity.com":968197,"passeportsante.net":968197,"turbo.fr":968197,"yogiclub.com":968197,"gentside.com":371922,"ohmymag.com":371922,"gentside.co.uk":371922,"ohmymag.co.uk":371922,"gentside.de":371922,"ohmymag.de":371922,"maxisciences.com":371922},r={"cuisineactuelle.fr":"https://consent.cuisineactuelle.fr","caminteresse.fr":"https://consent.caminteresse.fr","capital.fr":"https://consent.capital.fr","cesoirtv.com":"https://consent.cesoirtv.com","femmeactuelle.fr":"https://consent.femmeactuelle.fr","gala.fr":"https://consent.gala.fr","geo.fr":"https://consent.geo.fr","hbrfrance.fr":"https://consent.hbrfrance.fr","neonmag.fr":"https://consent.neonmag.fr","programme.tv":"https://consent.programme.tv","programme-tv.net":"https://consent.programme-tv.net","voici.fr":"https://consent.voici.fr","prismashop.fr":"https://consent.prismashop.fr","prismashop-preprod":"https://consent.prismashop.fr","prismaconnect.fr":"https://consent.prismaconnect.fr","ohmymag.com":"https://ohmymag-fr-v3.ohmymag.com","gentside.com":"https://gentside-fr-v3.gentside.com","prismamedia.com":"https://consent.prismamedia.com","prismamediasolutions.com":"https://consent.prismamediasolutions.com","pms-ops.com":"https://consent.pms-ops.com","seeandso.com":"https://consent.seeandso.com","harpersbazaar.fr":"https://consent.harpersbazaar.fr","infonity.me":"https://consent.infonity.me","passpresse.me":"https://consent.passpresse.me","levonslesyeux.fr":"https://consent.levonslesyeux.fr","croq-body.com":"https://consent.croq-body.com","croq-kilos.com":"https://consent.croq-kilos.com","cuisineaz.com":"https://consent.cuisineaz.com","deco.fr":"https://consent.deco.fr","fourchette-et-bikini.fr":"https://consent.fourchette-et-bikini.fr","laroutinemiracle.com":"https://consent.laroutinemiracle.com","meteocity.com":"https://consent.meteocity.com","passeportsante.net":"https://consent.passeportsante.net","turbo.fr":"https://consent.turbo.fr","yogiclub.com":"https://consent.yogiclub.com","ohmymag.co.uk":"https://ohmymag-uk-v3.ohmymag.co.uk","gentside.co.uk":"https://gentside-uk-v3.gentside.co.uk","ohmymag.de":"https://ohmymag-de-v3.ohmymag.de","gentside.de":"https://gentside-de-v3.gentside.de","maxisciences.com":"https://gentside-fr-v3.gentside.com"},i=1===parseInt(window.sessionStorage.getItem("sourcepoint.debug")||new URLSearchParams(window.location.search).get("sourcepoint-debug"));function c(e,t){!0===i&&console.info("[sourcepoint] ".concat(e),t)}nction u(e){var t,n,o,s,r,i,c=e.match(a(/^((.*)\.)?(.*)\.((co.uk|com|fr|de|it|es|io|net|org|me|info|tv))$/,{subdomain:2,domain:3,extension:4}));return{domain:(null!==(t=null==c||null===(n=c.groups)||void 0===n?void 0:n.domain)&&void 0!==t?t:null)+"."+(null!==(o=null==c||null===(s=c.groups)||void 0===s?void 0:s.extension)&&void 0!==o?o:null),subDomain:null!==(r=null==c||null===(i=c.groups)||void 0===i?void 0:i.subdomain)&&void 0!==r?r:null}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=1===parseInt(window.sessionStorage.getItem("sourcepoint.intersectRedirect")||new URLSearchParams(window.location.search).get("sourcepoint-intersect-redirect"));c("intersectRedirect = ".concat(n)),n?c("redirect to ".concat(e)):0!==t?setTimeout((,t):window.location.assign(e)}c("debug = ".concat(i));var m=["femmeactuelle.fr","cuisineactuelle.fr","programme-tv.net","cesoirtv.com","programme.tv","voici.fr","gala.fr","harpersbazaar.fr","caminteresse.fr","capital.fr","geo.fr","hbrfrance.fr","neonmag.fr","prismamediadigital.com","gentside.com","ohmymag.com","maxisciences.com"],l=["www","rec1","rec2","rec3","actu","rec-actu","photo","rec2-photo","shopping","preprod.gaming","preprod.sport","preprod.voyage","preprod","gaming","sport","voyage"];function f(e,t){var{domain:n,subDomain:o}=e;return function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return[...t].includes(n)}("prismamedia","maecia")&&o.endsWith("consents")?t["prismamedia.com"]:t[n]||t.prisma}function h(e,t){var{domain:n}=e;return t[n]||"https://cdn.privacy-mgmt.com"}function v(e,t){var{domain:n}=e;return t[n]||t.prisma}function g(e){var{subDomain:t}=e;return["rec2","rec3"].includes(t)?t:["rec","recette","preprod","rec-actu","rec2-photo","rec2-communaute","rec3-communaute","integration","rec3-quiz"].includes(t)?"rec2":"prod"}function y(e){var t=document.cookie.split(";").find(();if(!t)return null;var[,n]=t.split("=");return n||null}function w(e,t,n,o){var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3);var r=s.toUTCString(),i=o||location.host;document.cookie="".concat(e,"=").concat(t,";expires=").concat(r,";domain=").concat(i,";path=/")}function b(e){var{environment:t}=e,n="prod"===t?"":"".concat(t,"-"),o=y("".concat(n,"pmc-premium"));try{var s,r=JSON.parse(o);return["succeeded","success"].includes(null==r||null===(s=r.paymentStatus)||void 0===s?void 0:s.toLowerCase())}catch(e){return!1}}function C(e){var t,n=function(e){if("prismamedia.com"!==e.domain)return e.domain;var t=new URLSearchParams(window.location.search).get("redirectTo");if(!t)return"prismaconnect.fr";var{domain:n}=u(new URL(t).hostname);return n}(e);return"https://"+(null!==(t=e.subDomain)&&void 0!==t&&t.startsWith("rec")?"".concat(e.subDomain,"-"):"")+"connect."+n+"/checkout"}function I(e){var t,n;null===(t=window)||void 0===t||null===(t=t.performance)||void 0===t||t.mark(e),null===(n=window)||void 0===n||null===(n=n.DD_RUM)||void 0===n||n.onReady(()}class _{constructor(){this.element=null,this.closeButton=null,this.onCloseConsentModal=this.onCloseConsentModal.bind(this)}init(){this.render(),this.element=document.getElementById("sp-consentModal"),this.closeButton=this.element.querySelector(".sp-consentModal-closeButton"),this.addEvents(),this.autoHide()}renderclass M{constructor(e,t){var{cookieDomain:n,domainsWithFirstIdRedirect:o,consentGroupId:s}=t,{eventStatus:r,purpose:{consents:i}}=e;this.tcData=e,this.eventStatus=r,this.cookieDomain=n,this.domainsWithFirstIdRedirect=o,this.consents=i,this.consentGroupId=s,this.firstIdConsented=!!this.consents[1],this.consentsQueue=[],this.methodStatus={cmpuishown:"cmpUiShown",useractioncomplete:"userActionComplete",tcloaded:"tcLoaded"},this.consentModal=null,window.dataLayer=window.dataLayer||[],c("TcfApi::constructor",{tcData:this.tcData,pageInfos:this.pageInfos,firstIdConsented:this.firstIdConsented})}init(){Object.keys(this.consents).length&&(this.firstIdConsented&&this.firstIdIsConsented(this.firstIdConsented),this.domainsWithFirstIdRedirect||window.sessionStorage.getItem("sourcepoint-enableFirstId")?this.firstIdRedirect():this.notFirstIdRedirect(),this.triggerPmdConsent())}firstIdIsConsented(){c("TcfApi::firstIdIsConsented"),y("cmp_firstid_consented")||(w("cmp_firstid_consented","1",180,this.cookieDomain),c("TcfApi::firstIdIsConsented - Cookie has been created")),!y("shown-privacy-manager-message")&&[s.prisma,s["gentside.com"],s["ohmymag.com"],s["maxiscience.com"]].includes(this.consentGroupId)&&(w("shown-privacy-manager-message",!0,180,this.cookieDomain),this.consentModal=new _,this.consentModal.init()),y("consentDate")||w("consentDate",(new Date).toISOString(),180,this.cookieDomain)}firstIdRedirect(){this.methodStatus[this.eventStatus]&&this[this.methodStatus[this.eventStatus]])}userActionComplete(){this.firstIdConsented?(w("cmp_referrer",document.referrer,7),window.sessionStorage.setItem("cmp_referrer",document.referrer),p((e=>{c("launch redirectToFirstid");var t=u(e.hostname),n="prod"===g(t)?"":"rec2-",o=encodeURIComponent("https://".concat(e.host)),s=encodeURIComponent(e.pathname+e.search+e.hash),r=encodeURIComponent("https://".concat(n,"consents.").concat(t.domain,"/v2?redirectUrl=").concat(o).concat(s)),i=encodeURIComponent("https://".concat(n,"consents.prismamedia.com/v2?redirectUrl=").concat(r)),a="https://".concat("gate-ag.first-id.fr","/?redirectHost=").concat(i,"&noRedirectUri=1&separator=%26");return c("redirectToFirstid redirectUrl to ".concat(a)),a})(window.location))):p(window.location.href)}tcLoaded(){y("cmp_sourcepoint_userActionComplete")||(w("cmp_sourcepoint_userActionComplete","1",180,this.cookieDomain),I("sourcepoint_userActionComplete")),this.consentsQueue.push("consentUserActionComplete"),this.updateQueueWithUserConsent()}notFirstIdRedirect(){switch(this.consentsQueue.push("consentUserActionComplete"),this.eventStatus){case"cmpuishown":this.cmpUiShown();break;case"useractioncomplete":y("cmp_sourcepoint_userActionComplete")||(w("cmp_sourcepoint_userActionComplete","1",180,this.cookieDomain),I("sourcepoint_userActionComplete")),this.updateQueueWithUserConsent();break;case"tcloaded":this.updateQueueWithUserConsent()}}triggerPmdConsent(){this.consentsQueue.forEach((e=>{window.pmdConsent({type:e,data:{tcData:this.tcData}})}))}updateQueueWithUserConsent(){this.isAllConsentGiven()?(this.consentsQueue.push("allConsentGiven"),window.dataLayer.push({event:"acceptCMP"})):this.isAdsConsentGiven()?(this.consentsQueue.push("adsConsentGiven"),window.dataLayer.push({event:"acceptAdsOnlyCMP"})):window.dataLayer.push({event:"rejectCMP"})}isAllConsentGiven(){return[1,2,3,4,5,6,7,8,9,10].every((e=>this.consents[e]))}isAdsConsentGiven(){return[1,2,3,4,7].evere]))}}var S=11,k=12,x=13,D=15,A=n(604),R=n.n(A),P=n(379),T=n.n(P),E=n(795),U=n.n(E),j=n(569),L=n.n(j),O=n(565),G=n.n(O),q=n(216),W=n.n(q),B=n(589),z=n.n(B),F=n(785),N={};N.styleTagTransform=z(),N.setAttributes=G(),N.insert=L().bind(null,"head"),N.domAPI=U(),N.insertStyleElement=W();T()(F.Z,N);F.Z&&F.Z.locals&&F.Z.loca)}var H=!1;function J(e){c("handleConsentRejection");var{domain:t,subDomain:n}=e;return window.pmdConsent({type:"noConsentGiven"}),t.includes("prismaconnect")||n.includes("boutique")?null:[s["gala.fr"],s.prisma,s["cuisineaz.com"],s["deco.fr"],s["fourchette-et-bikini.fr"],s["meteocity.com"],s["turbo.fr"],s["yogiclub.com"],s["laroutinemiracle.com"],s["passeportsante.net"],s["gentside.com"],s["ohmymag.com"],s["maxiscience.com"]].includes(e.consentGroupId)?void(b(e)?null===e.pmcConfirmationId||H||(window._sp_.gdpr.loadPrivacyManagerModal(e.pmcConfirmationId),H=!0):window.pmcstarter?window.pmcstarter("getPremiumOrderLink",(t=>{t?p("".concat(t,"&_sp_targeting_params=paymenttunnel:true")):null===e.pmcConfirmationId||H||(window._sp_.gdpr.loadPrivacyManagerModal(e.pmcConfirmationId),H=!0)})):p("".concat(C(e),"&_sp_targeting_params=paymenttunnel:true"))):null}function Z(){var t;return t=function*(){window.pmdConsent=window.pmdConsen)},R()();var t=function(){var t=u(window.location.hostname),{consentGroupIds:n,consentDomains:o,consentAccountIds:s}=e;return{domain:t.domain,cookieDomain:t.domain,subDomain:t.subDomain,environment:g(t),consentDomain:h(t,o),consentGroupId:f(t,n),consentAccountId:v(t,s),domainsWithFirstIdRedirect:m.includes(t.domain)&&l.includes(t.subDomain)}}();window.pmd_handleRejectAll=()=>{window.__tcfapi("postRejectAll",)}))},window._sp_queue=[],window._sp_=function(e){return{config:{baseEndpoint:e.consentDomain,accountId:e.consentAccountId,groupPmId:e.consentGroupId,gdpr:{groupPmId:e.consentGroupId,targetingParams:{isPremiumCookie:b(e)?"1":"0"}},events:{onMessageChoiceSelect:(t,n,o)=>{I("sourcepoint_onMessageChoiceSelect"),c("onMessageChoiceSelect is execute",o),[x,D,k].includes(o)||(c("onMessageChoiceSelect setCookie cmp_firstid_consented"),w("cmp_firstid_consented","1",180,e.cookieDomain)),o===S?w("shown-privacy-manager-message","true",180,e.cookieDomain):o===D?J(e):o===x&&(window.sessionStorage.setItem("sourcepoint_consentRejected",!0),J(e))}}}}}(t),yield function(e){var{src:t,elementId:n}=e;return new Promise(((e,o)=>{if(document.getElementById(n))return o(new Error("Sourcepoint::script already loaded"));var s=document.createElement("script");s.onlo(),s.onerr)),s.src=t,s.id=n;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(s,r)}))}({src:"".concat(t.consentDomain,"/unified/wrapperMessagingWithoutDetection.js"),elementId:"consentmanager"}),window.__tcfapi("addEventListener",2,((e,n)=>{n&&new M(e,t).init()}))})},Z.apply(this,arguments)}()})(),SourcePoint=o})();