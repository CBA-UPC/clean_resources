function createSvg(n,t,i){var r=d3.select(n).append("svg");return typeof t=="number"&&r.attr("width",t),typeof i=="number"&&r.attr("height",i),d3.select(n+" svg")}function createSvgMultiple(n,t,i){return d3.selectAll(n).append("svg").attr("width",t).attr("height",i),d3.selectAll(n+" svg")}function adjustTextLabels(n,t,i){n.selectAll(t).attr("transform","translate("+i+", 0)")}function horizontalBarGraph(n,t,i){var s=400,r=40,u={top:r*.3,right:210,bottom:r*.1+10,left:15},v=r-u.bottom,y=u.top,h=u.left,f=s-u.right,k=f-h,p=v-y,c=createSvg(n,s,r),e=r/t.length,w=d3.scale.linear().domain([0,d3.max(t,function(n){return n.value})]).range([h,f]),d=d3.scale.ordinal().domain([i[0].name,i[1].name]).range([p,0]),l=d3.scale.ordinal().range(["#83c994","#b9b833"]);l.domain([i[0].name,i[1].name]);var o=5,g=c.selectAll(".area").data(t).enter().append("g").append("rect").attr("class","area").style("fill",function(n){return l(n.name)}).attr("x",10).attr("width",function(n){return w(n.value)}).attr("y",.attr("height",e-6),a=[{x:f+5,y:o},{x:f+5,y:o+e}],b=c.append("g").attr("class","legend");b.selectAll(".source").data(t).enter().append("g").attr("class","source").attr("id",function(n){return"source"+n.name}).append("text").attr("x",function(n,t){return a[t].x+24}).attr("y",function(n,t){return a[t].y+10}).text(}function revExpBar(){let n=[];if(dataViz.length>0){const t=dataViz.length-1;n.push({name:"Revenue",value:dataViz[t].ngla_revenue,form_type:dataViz[t].form_type},{name:"Expenses",value:dataViz[t].ngla_expense,form_type:dataViz[t].form_type});horizontalBarGraph("#rev-exp-bar",n,[{name:"Revenue"},{name:"Expenses"}])}}function revExpLine(n,t){let i;i=t===!0?[{name:"Year"},{name:"Revenue"},{name:"Expenses"}]:[{name:"Year"},{name:"Revenue"}];try{multiBarGraph("#rev-exp-line",n,i,!0)}catch(r){ErrorHandler(r)}}function interactiveLineGraph(n,t,i,r){function tt(){var n=d3.max(t,function(n){return n.year}),c=s(h._[n].values[0]),l=s(h._[n].values[1]),v=u+f,r;o.select(".x").attr("transform","translate("+e(n)+","+(u+f)+")").attr("y2",-v);o.select(".val1Focus").attr("cx",e(n)).attr("cy",c+u);o.select(".val2Focus").attr("cx",e(n)).attr("cy",l+u);for(r in i)a.select("#value"+i[r].name).text(currency(h._[n].values[r]))}function it(){var n=d3.round(e.invert(d3.mouse(this)[0])),r=s(h._[n].values[0]),c=s(h._[n].values[1]),l=Math.max(r,c)+u+f,t;o.select(".x").attr("transform","translate("+e(n)+","+(u+f)+")").attr("y2",-l);o.select(".val1Focus").attr("cx",e(n)).attr("cy",r+u);o.select(".val2Focus").attr("cx",e(n)).attr("cy",c+u);for(t in i)a.select("#value"+i[t].name).text(currency(h._[n].values[t]))}var k=720,v=220,y={top:v*.1,right:240,bottom:v*.3+30,left:80},f=v-y.bottom,u=y.top,p=y.left,w=k-y.right,rt=w-p,et=f-u,l=createSvg(n,k,v),e=d3.scale.linear().domain(d3.extent(t,function(n){return n.year})).range([p,w]),ut=d3.svg.axis().scale(e).orient("bottom").tickFormat(function(n){return"'"+yearPartFormatter(n%100)}).ticks(Math.max(1,t.length-1)),s,d,b,g,nt,ft,o,a,h,c;l.append("g").attr("class","x-axis").attr("transform","translate(0,"+(f+u)+")").call(ut);s=d3.scale.linear().domain([0,d3.max(t,function(n){return Math.max(n.values[0],n.values[1])})]).range([f,0]);d=d3.svg.axis().scale(s).orient("left").tickFormat(thousandsMillions).ticks(5);l.append("g").attr("class","y-axis").attr("transform","translate("+p+","+u+")").call(d);b=l.append("g");g=d3.svg.line().x(function(n){return e(n.year)}).y(function(n){return s(n.values[0])+u}).interpolate("linear");b.append("path").attr("class","val1 line").attr("d",g(t));nt=d3.svg.line().x(function(n){return e(n.year)}).y(function(n){return s(n.values[1])+u}).interpolate("linear");b.append("path").attr("class","val2 line").attr("d",nt(t));ft=d3.select("body").append("div").attr("class","tool-tip");o=l.append("g").attr("class","focus");o.append("line").attr("class","x").attr("y1",0).attr("y2",f);o.append("circle").attr("class","val1Focus").attr("r",3);o.append("circle").attr("class","val2Focus").attr("r",3);l.append("rect").attr("x",p).attr("y",u).attr("width",rt).attr("height",f).style("fill","none").style("pointer-events","all").on("mousemove",it);a=l.append("g").attr("class","legend");h=d3.map(t,function(n){return n.year});c=r?[{x:25,y:f+65},{x:25,y:f+85}]:[{x:w+25,y:f+u-50},{x:w+25,y:f+u-30}];a.selectAll(".source").data(i).enter().append("g").attr("class","source").attr("id",function(n){return"source"+n.name}).append("text").attr("x",function(n,t){return c[t].x+24}).attr("y",function(n,t){return c[t].y+10}).text(function(n){return n.name});a.selectAll("g.source").data(i).append("text").attr("id",function(n){return"value"+n.name}).attr("x",function(n,t){return c[t].x+100}).attr("y",function(n,t){return c[t].y+10}).text("0");a.selectAll("g.source").data(i).append("rect").attr("x",function(n,t){return c[t].x}).attr("y",function(n,t){return c[t].y}).attr("width",20).attr("height",10).attr("id",function(n){return"rect"+n.name});tt()}function multiBarGraph(n,t,r,u){function tt(){var i=d3.max(t,function(n){return n.year});for(var n in r)o._[i]!==null&&(r[n].name==="Year"?f.select("#value"+r[n].name).text(o._[i].year):f.select("#value"+r[n].name).text(currency(o._[i].values[n-1])))}function it(){var t=d3.round(p.invert(d3.mouse(this)[0]-g)),u=" ",n;for(i=0;i<dataViz.length;i++)if(dataViz[i].fiscalYearEnd===t){u=dataViz[i].form_type;break}if(o._[t]&&u!=="X")for(n in r)r[n].name==="Year"?f.select("#value"+r[n].name).text(o._[t].year):f.select("#value"+r[n].name).text(currency(o._[t].values[n-1]));else for(n in r)f.select("#value"+r[n].name).text("")}var e,w,b,rt,ut,f,o,s;if(t!==undefined&&t.length!==0){var k=700,l=220,a={top:l*.1,right:80,bottom:l*.3+30,left:80},h=l-a.bottom,y=a.top,v=a.left,d=k-a.right,ft=d-v,et=h-y,lt=et/2,g=10,c=createSvg(n,k,l),ot=createSvg(n+"Legend",200,60),p=d3.scale.linear().domain(d3.extent(t,function(n){return n.year})).range([v,d]),at=d3.scale.ordinal().domain([0,1]),st=d3.min(t,function(n){return n.year}),ht=d3.max(t,function(n){return n.year}),nt=d3.svg.axis().scale(p).tickFormat(function(n){return Math.ceil(n)===n?"'"+yearPartFormatter(n%100):""}).ticks(ht-st);c.append("g").attr("class","x-axis").attr("transform","translate(0,"+h+")").call(nt);e=d3.scale.linear().domain([d3.min(t,function(n){return Math.min(n.values[0],n.values[1],0)}),d3.max(t,]).range([h,y]);c.append("g").attr("class","x-axis zero").attr("transform","translate(0,"+e(0)+")").call(nt.tickFormat("").tickSize(0));w=d3.svg.axis().scale(e).orient("left").tickFormat(thousandsMillions).ticks(5);c.append("g").attr("class","y-axis").attr("transform","translate("+v+",0)").call(w);b=c.selectAll(".state").data(t).enter().append("g").attr("class","focus").attr("transform",;b.selectAll("rect").data(function(n){return n.values}).enter().append("rect").attr("class",.attr("x",.attr("width",g).attr("y",function(n){return n<0?e(0):e(n)}).attr("height",;rt=d3.select("body").append("div").attr("class","tool-tip");ut=c.append("g").attr("class","focus");c.append("rect").attr("x",v).attr("y",y).attr("width",ft).attr("height",h).style("fill","none").style("pointer-events","all").on("mousemove",it);f=ot.append("g").attr("class","legend");o=d3.map(t,function(n){return n.year});s=u?[{x:25,y:h+45},{x:25,y:h+65},{x:25,y:h+85}]:[{x:0,y:0},{x:0,y:20},{x:0,y:40}];f.selectAll(".source").data(r).enter().append("g").attr("class","source").attr("id",function(n){return"source"+n.name}).append("text").attr("x",function(n,t){return s[t].x+24}).attr("y",function(n,t){return s[t].y+10}).text(function(n){return n.name});f.selectAll("g.source").data(r).append("text").attr("id",function(n){return"value"+n.name}).attr("x",function(n,t){return s[t].x+100}).attr("y",function(n,t){return s[t].y+10}).text("0");f.selectAll("g.source").data(r).append("rect").attr("x",function(n,t){return s[t].x}).attr("y",function(n,t){return s[t].y}).attr("width",20).attr("height",.attr("id",;try{tt()}catch(ct){ErrorHandler(ct)}}}function finBarGraphs(){var e=[],i=[],r=[],u=[],f,n;for(f in dataViz)n=dataViz[f],e.push(n.fiscalYearEnd),i.push({year:n.fiscalYearEnd,amount:n.quick_ratio}),r.push({year:n.fiscalYearEnd,amount:n.months_of_cash}),u.push({year:n.fiscalYearEnd,amount:n.fringe_rate*100});try{simpleBarGraph(i,"#liquidity-graph",!1,2)}catch(t){ErrorHandler(t)}try{simpleBarGraph(r,"#months-cash-graph",!1,1)}catch(t){ErrorHandler(t)}try{simpleBarGraph(u,"#fringe-rate-graph","%",0)}catch(t){ErrorHandler(t)}}function simpleBarGraph(n,t,i,r){function k(){var o=b.invert(d3.mouse(this)[0]),u=Math.floor(o),s=u===0?n[u]:n[u-1],h=u===n.length?n[u-1]:n[u],e=o-s[0]<h[0]-o?s:h,c=$(t),l=$(this);dataWidth=e.amount?String(e.amount.toFixed(r)).length:0;y.transition().style("opacity",.6).duration(100);e.amount&&y.html('<span class="bar-graph-tooltip">'+e.amount.toFixed(r)+(i||"")+"<\/span>").style("left",l.offset().left-dataWidth*3+"px").style("top",c.offset().top+Math.min(v(e.amount),f)+"px");y.transition().delay(1500).duration(500).style("opacity",1)}var s=300,l=90,h={top:l*.2,right:15,bottom:10,left:25},d=l-h.bottom,g=h.top,nt=h.left,tt=s-h.right,ut=tt-nt,f=d-g,u=createSvg(t).attr("viewBox","0 0 "+s.toString()+" "+l.toString()).attr("class","simple-bar-graph"),a=[],c=n.length,p=10,e;for(c>p&&(c=p),n=n.slice(c*-1),e=0;e<c;e++)a.indexOf(n[e].year)<0&&a.push(n[e].year);var o=s/n.length,w=n.length-1,b=d3.scale.linear().range([0,s]).domain([0,w+1]),it=d3.svg.axis().scale(b).orient("bottom").tickFormat(function(n,t){return"'"+yearPartFormatter(a[t]%100)}).ticks(w+1);u.append("g").attr("class","x-axis").attr("transform","translate(1, 62)").call(it);var v=d3.scale.linear().domain([0,d3.max(n,function(n){return n.amount})]).range([f,0]),y=d3.select("body").append("div").attr("class","tool-tip"),rt=u.selectAll(".area").data(n).enter().append("g").attr("class","area-container").append("rect").attr("class","area").attr("x",function(n,t){return t*o}).attr("y",function(n){return Math.min(parseInt(v(n.amount)),f)}).attr("height",function(n){return Math.max(f-parseInt(v(n.amount)),0)}).attr("width",o-3);u.selectAll("g.area-container").append("rect").attr("class","areaCover").attr("x",.attr("y",0).attr("height",f).attr("width",o-2).on("mousemove",k);rt.data(n);u.selectAll(".x-axis line")[0]&&(d3.select(u.selectAll(".x-axis line")[0].pop()).remove(),d3.select(u.selectAll(".x-axis text")[0].pop()).remove());adjustTextLabels(u,".x-axis text",o/2-5)}function findFiscalValue(n,t){var i=$(n).find(".ft-value"+t)[0],r;return i!==undefined&&i!==null?(i=i.textContent,r=!i||i===""?0:parseInt(i.replace("$","").replace("(","").replace(")","").replace(/,/g,"")),i.indexOf("(")===-1?r:-r):0}function fiscalYearSparkBarGraphsPf(){var n=[],t=[],i=[],r=[],u=[],f=[],e=[],o=[],s=[],h=[],c=[],l=[],a=[],v=[],y=[],p=[],w=[],b=[],k=[],d=[],g=[],nt=[];$(".fiscal-year-details").each(function(){if($(this).find(".fiscal-year-value")[0]&&$(this).find(".pf-investments")[0]){var tt=$(this).find(".fiscal-year-value")[0].textContent;n.push({year:tt,amount:findFiscalValue(this,".pf-investments")});t.push({year:tt,amount:findFiscalValue(this,".pf-netIncomeData")});i.push({year:tt,amount:findFiscalValue(this,".pf-operatingData")});r.push({year:tt,amount:findFiscalValue(this,".pf-contribData")});u.push({year:tt,amount:findFiscalValue(this,".pf-totExpenseData")});f.push({year:tt,amount:findFiscalValue(this,".pf-accountData")});e.push({year:tt,amount:findFiscalValue(this,".pf-interestData")});o.push({year:tt,amount:findFiscalValue(this,".pf-legalData")});s.push({year:tt,amount:findFiscalValue(this,".pf-otherProfData")});h.push({year:tt,amount:findFiscalValue(this,".pf-pensionData")});c.push({year:tt,amount:findFiscalValue(this,".pf-printingData")});l.push({year:tt,amount:findFiscalValue(this,".pf-netGainLossData")});a.push({year:tt,amount:findFiscalValue(this,".pf-cashData")});v.push({year:tt,amount:findFiscalValue(this,".pf-investUsData")});y.push({year:tt,amount:findFiscalValue(this,".pf-investCorpStockData")});p.push({year:tt,amount:findFiscalValue(this,".pf-investCorpBondData")});w.push({year:tt,amount:findFiscalValue(this,".pf-investOtherData")});b.push({year:tt,amount:findFiscalValue(this,".pf-lbeData")});k.push({year:tt,amount:findFiscalValue(this,".pf-otherData")});d.push({year:tt,amount:findFiscalValue(this,".pf-totAssetsData")});g.push({year:tt,amount:findFiscalValue(this,".pf-totalLiabilitiesData")});nt.push({year:tt,amount:findFiscalValue(this,".pf-netAssetsData")})}});sparkBarGraph(n,".pf-investments-spark-bar");sparkBarGraph(i,".pf-operatingData-spark-bar");sparkBarGraph(t,".pf-netIncomeData-spark-bar");sparkBarGraph(r,".pf-contribData-spark-bar");sparkBarGraph(u,".pf-totExpenseData-spark-bar");sparkBarGraph(f,".pf-accountData-spark-bar");sparkBarGraph(e,".pf-interestData-spark-bar");sparkBarGraph(o,".pf-legalData-spark-bar");sparkBarGraph(s,".pf-otherProfData-spark-bar");sparkBarGraph(h,".pf-pensionData-spark-bar");sparkBarGraph(c,".pf-printingData-spark-bar");sparkBarGraphPosNeg(l,".pf-netGainLossData-spark-bar");sparkBarGraph(a,".pf-cashData-spark-bar");sparkBarGraph(v,".pf-investUsData-spark-bar");sparkBarGraph(y,".pf-investCorpStockData-spark-bar");sparkBarGraph(p,".pf-investCorpBondData-spark-bar");sparkBarGraph(w,".pf-investOtherData-spark-bar");sparkBarGraph(b,".pf-lbeData-spark-bar");sparkBarGraph(k,".pf-otherData-spark-bar");sparkBarGraph(d,".pf-totAssetsData-spark-bar");sparkBarGraph(g,".pf-totalLiabilitiesData-spark-bar");sparkBarGraph(nt,".pf-netAssetsData-spark-bar")}function fiscalYearSparkBarGraphs(){var n=[],t=[],i=[],r=[],u=[],f=[],e=[],o=[],s=[],h=[],c=[],l=[],a=[],v=[],y=[],p=[],w=[],b=[],k=[],d=[],g=[],nt=[],tt=[],it=[],rt=[],ut=[],ft=[],et=[],ot=[],st=[],ht=[],ct=[],lt=[],at=[],vt=[],yt=[],pt=[],wt=[],bt=[],kt=[],dt=[],gt=[],ni=[];$(".fiscal-year-details").each(function(){if($(this).find(".fiscal-year-value")[0]&&$(this).find(".ft-value.contributions")[0]){var ti=$(this).find(".fiscal-year-value")[0].textContent;n.push({year:ti,amount:findFiscalValue(this,".contributions")});t.push({year:ti,amount:findFiscalValue(this,".govt-grants")});i.push({year:ti,amount:findFiscalValue(this,".program-services")});r.push({year:ti,amount:findFiscalValue(this,".investments")});u.push({year:ti,amount:findFiscalValue(this,".special-events")});f.push({year:ti,amount:findFiscalValue(this,".sales")});e.push({year:ti,amount:findFiscalValue(this,".revenue-other")});o.push({year:ti,amount:findFiscalValue(this,".total-revenue")});s.push({year:ti,amount:findFiscalValue(this,".program-expenses")});h.push({year:ti,amount:findFiscalValue(this,".administration-expenses")});c.push({year:ti,amount:findFiscalValue(this,".fundraising-expenses")});l.push({year:ti,amount:findFiscalValue(this,".total-expenses")});a.push({year:ti,amount:findFiscalValue(this,".net-gain-loss")});v.push({year:ti,amount:findFiscalValue(this,".accounting")});y.push({year:ti,amount:findFiscalValue(this,".adverts-promo")});p.push({year:ti,amount:findFiscalValue(this,".info-tech")});w.push({year:ti,amount:findFiscalValue(this,".insurance")});b.push({year:ti,amount:findFiscalValue(this,".interest")});k.push({year:ti,amount:findFiscalValue(this,".investment-mgmt")});d.push({year:ti,amount:findFiscalValue(this,".legal")});g.push({year:ti,amount:findFiscalValue(this,".pension")});nt.push({year:ti,amount:findFiscalValue(this,".pro-fundraising")});tt.push({year:ti,amount:findFiscalValue(this,".cash-equiv")});it.push({year:ti,amount:findFiscalValue(this,".acct-recv")});rt.push({year:ti,amount:findFiscalValue(this,".pledges")});ut.push({year:ti,amount:findFiscalValue(this,".recv-other")});ft.push({year:ti,amount:findFiscalValue(this,".inventory")});et.push({year:ti,amount:findFiscalValue(this,".securities")});ot.push({year:ti,amount:findFiscalValue(this,".invest-other")});st.push({year:ti,amount:findFiscalValue(this,".fixed-assets")});ht.push({year:ti,amount:findFiscalValue(this,".other-assets")});ct.push({year:ti,amount:findFiscalValue(this,".total-assets")});lt.push({year:ti,amount:findFiscalValue(this,".acct-pay")});at.push({year:ti,amount:findFiscalValue(this,".grants-pay")});vt.push({year:ti,amount:findFiscalValue(this,".deferred")});yt.push({year:ti,amount:findFiscalValue(this,".loans")});pt.push({year:ti,amount:findFiscalValue(this,".bonds")});wt.push({year:ti,amount:findFiscalValue(this,".other-liabilities")});bt.push({year:ti,amount:findFiscalValue(this,".total-liabilities")});kt.push({year:ti,amount:findFiscalValue(this,".temp-restrict")});dt.push({year:ti,amount:findFiscalValue(this,".perm-restrict")});gt.push({year:ti,amount:findFiscalValue(this,".unrestrict")});ni.push({year:ti,amount:findFiscalValue(this,".net-assets")})}});sparkBarGraph(n,".contributions-spark-bar");sparkBarGraph(t,".govt-grants-spark-bar");sparkBarGraph(i,".program-services-spark-bar");sparkBarGraph(r,".investments-spark-bar");sparkBarGraph(u,".special-events-spark-bar");sparkBarGraph(f,".sales-spark-bar");sparkBarGraph(e,".revenue-other-spark-bar");sparkBarGraph(o,".total-revenue-spark-bar");sparkBarGraph(s,".program-expenses-spark-bar");sparkBarGraph(h,".administration-expenses-spark-bar");sparkBarGraph(c,".fundraising-expenses-spark-bar");sparkBarGraph(l,".total-expenses-spark-bar");sparkBarGraphPosNeg(a,".net-gain-loss-spark-bar");sparkBarGraph(v,".accounting-spark-bar");sparkBarGraph(y,".adverts-promo-spark-bar");sparkBarGraph(p,".info-tech-spark-bar");sparkBarGraph(w,".insurance-spark-bar");sparkBarGraph(b,".interest-spark-bar");sparkBarGraph(k,".investment-mgmt-spark-bar");sparkBarGraph(d,".legal-spark-bar");sparkBarGraph(g,".pension-spark-bar");sparkBarGraph(nt,".pro-fundraising-spark-bar");sparkBarGraphPosNeg(tt,".cash-equiv-spark-bar");sparkBarGraphPosNeg(it,".acct-recv-spark-bar");sparkBarGraphPosNeg(rt,".pledges-spark-bar");sparkBarGraphPosNeg(ut,".recv-other-spark-bar");sparkBarGraphPosNeg(ft,".inventory-spark-bar");sparkBarGraphPosNeg(et,".securities-spark-bar");sparkBarGraphPosNeg(ot,".invest-other-spark-bar");sparkBarGraphPosNeg(st,".fixed-assets-spark-bar");sparkBarGraphPosNeg(ht,".other-assets-spark-bar");sparkBarGraphPosNeg(ct,".total-assets-spark-bar");sparkBarGraphPosNeg(lt,".acct-pay-spark-bar");sparkBarGraphPosNeg(at,".grants-pay-spark-bar");sparkBarGraphPosNeg(vt,".deferred-spark-bar");sparkBarGraphPosNeg(yt,".loans-spark-bar");sparkBarGraphPosNeg(pt,".bonds-spark-bar");sparkBarGraphPosNeg(wt,".other-liabilities-spark-bar");sparkBarGraphPosNeg(bt,".total-liabilities-spark-bar");sparkBarGraphPosNeg(kt,".temp-restrict-spark-bar");sparkBarGraphPosNeg(dt,".perm-restrict-spark-bar");sparkBarGraphPosNeg(gt,".unrestrict-spark-bar");sparkBarGraphPosNeg(ni,".net-assets-spark-bar")}function fiscalYearSparkBarGraphsEz(){var n=[],t=[],i=[],r=[],u=[],f=[],e=[],o=[],s=[],h=[],c=[],l=[],a=[],v=[],y=[],p=[],w=[],b=[],k=[],d=[],g=[];$(".fiscal-year-details").each(function(){if($(this).find(".fiscal-year-value")[0]&&$(this).find(".ft-value.ez-contributions")[0]){var nt=$(this).find(".fiscal-year-value")[0].textContent;n.push({year:nt,amount:findFiscalValue(this,".ez-contributions")});t.push({year:nt,amount:findFiscalValue(this,".ez-program-services")});i.push({year:nt,amount:findFiscalValue(this,".ez-investments")});r.push({year:nt,amount:findFiscalValue(this,".ez-special-events")});u.push({year:nt,amount:findFiscalValue(this,".ez-sales")});f.push({year:nt,amount:findFiscalValue(this,".ez-revenue-other")});e.push({year:nt,amount:findFiscalValue(this,".ez-total-revenue")});o.push({year:nt,amount:findFiscalValue(this,".ez-grants")});s.push({year:nt,amount:findFiscalValue(this,".ez-salaries-emp-benefits")});h.push({year:nt,amount:findFiscalValue(this,".ez-professional-fees")});c.push({year:nt,amount:findFiscalValue(this,".ez-occupancy")});l.push({year:nt,amount:findFiscalValue(this,".ez-printing")});a.push({year:nt,amount:findFiscalValue(this,".ez-other-expenses")});v.push({year:nt,amount:findFiscalValue(this,".ez-total-expenses")});y.push({year:nt,amount:findFiscalValue(this,".ez-net-gain-loss")});p.push({year:nt,amount:findFiscalValue(this,".ez-cash-equiv")});w.push({year:nt,amount:findFiscalValue(this,".ez-fixed-assets")});b.push({year:nt,amount:findFiscalValue(this,".ez-other-assets")});k.push({year:nt,amount:findFiscalValue(this,".ez-total-assets")});d.push({year:nt,amount:findFiscalValue(this,".ez-total-liabilities")});g.push({year:nt,amount:findFiscalValue(this,".ez-net-assets")})}});sparkBarGraph(n,".ez-contributions-spark-bar");sparkBarGraph(t,".ez-program-services-spark-bar");sparkBarGraph(i,".ez-investments-spark-bar");sparkBarGraph(r,".ez-special-events-spark-bar");sparkBarGraph(u,".ez-sales-spark-bar");sparkBarGraph(f,".ez-revenue-other-spark-bar");sparkBarGraph(e,".ez-total-revenue-spark-bar");sparkBarGraph(o,".ez-grants-spark-bar");sparkBarGraph(s,".ez-salaries-emp-spark-bar");sparkBarGraph(h,".ez-professional-fees-spark-bar");sparkBarGraph(c,".ez-occupancy-spark-bar");sparkBarGraph(l,".ez-printing-spark-bar");sparkBarGraph(a,".ez-other-expenses-spark-bar");sparkBarGraph(v,".ez-total-expenses-spark-bar");sparkBarGraph(y,".ez-net-gain-loss-spark-bar");sparkBarGraphPosNeg(p,".ez-cash-equiv-spark-bar");sparkBarGraphPosNeg(w,".ez-fixed-assets-spark-bar");sparkBarGraphPosNeg(b,".ez-other-assets-spark-bar");sparkBarGraphPosNeg(k,".ez-total-assets-spark-bar");sparkBarGraphPosNeg(d,".ez-total-liabilities-spark-bar");sparkBarGraphPosNeg(g,".ez-net-assets-spark-bar")}function sparkBarGraph(n,t){var f=50,s=15,u={top:1,right:10,bottom:1,left:10},e=s-u.bottom,h=u.top,o=u.left,c=f-u.right,p=c-o,l=e-h,a=createSvgMultiple(t,f,s),i,r;try{for(i=[],r=0;r<n.length;++r)i.indexOf(n[r].year)<0&&i.push(n[r].year);var w=p/i.length-1,v=d3.scale.linear().domain([i[0],i[i.length-1]]).range([o,c]),k=d3.svg.axis().scale(v).ticks(0),y=d3.scale.linear().domain([0,d3.max(n,function(n){return n.amount})]).range([l,0]),d=a.selectAll(".area").data(n).enter().append("rect").attr("class","area").attr("x",function(n){return v(n.year)}).attr("y",function(n){return h+parseInt(y(n.amount))}).attr("height",function(n){return Math.max(l-parseInt(y(n.amount)),0)}).attr("width",w),g=a.append("line").attr("class","x-axis x").style("stroke-width",1).attr("x1",o-5).attr("x2",f).attr("y1",e).attr("y2",e)}catch(b){ErrorHandler(b)}}function sparkBarGraphPosNeg(n,t){var e=50,s=9,u={top:1,right:10,bottom:1,left:10},h=s-u.bottom,w=u.top,f=u.left,b=e-u.right,c=b-f,l=h-w,a=createSvgMultiple(t,e,s),i,r;try{for(i=[],r=0;r<n.length;++r)i.indexOf(n[r].year)<0&&i.push(n[r].year);var k=c/i.length-1,v=d3.scale.linear().domain([i[0],i[i.length-1]]).range([f,f+c]),g=d3.svg.axis().scale(v).ticks(0),y=Math.max(Math.abs(d3.min(n,function(n){return n.amount})),Math.abs(d3.max(n,function(n){return n.amount}))),o=d3.scale.linear().domain([-y,y]).range([l,0]).nice(),nt=a.selectAll(".area").data(n).enter().append("rect").attr("class","area").attr("x",function(n){return v(n.year)}).attr("y",function(n){return parseInt(o(Math.max(0,n.amount*2)))}).attr("height",function(n){return Math.abs(o(n.amount*2)-o(0))}).attr("width",k),p=h-.5*l-1,tt=a.append("line").attr("class","x-axis x").style("stroke-width",1).attr("x1",f-5).attr("x2",e).attr("y1",p).attr("y2",p)}catch(d){ErrorHandler(d)}}function topFundersMRY(n){let i=topFunders;var r=250,t={top:5,right:5,bottom:5,left:5},s=n-t.left-t.right,h=r-t.top-t.bottom,f=createSvg("#top-funders-mry",n,r).attr("id","top-funders-mry-svg"),e=d3.scale.linear().domain([0,d3.max(i,function(n){return n.Amount})]).range([t.left,n-t.right]),u=d3.scale.ordinal().domain(d3.range(0,i.length)).rangeRoundBands([r-t.bottom,t.top],.3,.3),o=d3.scale.linear().domain([0,d3.max(i,]).range(["#83c994","#b9b833"]),c=f.selectAll("g").data(i).enter().append("g").append("rect").attr("class","area").attr("fill",function(n){return o(n.Amount)}).attr("height",u.rangeBand()).attr("x",.attr("width",function(n){return e(n.Amount)}).attr("y",;f.selectAll("g").append("text").attr("class","label").attr("x",t.left).attr("y",function(n,t){return u(t)+r*.08}).text(;f.selectAll("g").append("text").attr("class","topFundersAmount").attr("x",t.left).attr("y",function(n,t){return u(t)+r*.08+20}).text(}function splitWords(n,t,r){if(n.length<=t)return r===0?n:"";var u=n.trim().split(" "),f=["","","",""],e=0;for(i=0;i<u.length;i++)f[e].length+u[i].length>t&&(e+=1),f[e]+=" "+u[i];return f[r]}function detectIE(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),u,r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):(u=n.indexOf("Trident/"),u>0)?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0)?parseInt(n.substring(t+5,n.indexOf(".",t)),10):!1}function d3_MultibarChart(n){function i(i){var e;i.html("");e=i.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+n+" "+r);detectIE()&&detectIE()<12&&e.attr("height",r+"px");var o=u,s=d3.scale.linear().domain([0,d3.max(o,function(n){return parseInt(Math.round(n[1]))})]).range([0,f-t.right]),c=d3.scale.ordinal().domain(d3.range(0,o.length)).rangeRoundBands([r-t.bottom,t.top],.2,.8),h=d3.scale.linear().domain([0,d3.max(o,function(n){return parseInt(Math.round(n[1]))})]).range(["#febe10","#febe10"]),l=e.selectAll("g").data(o).enter().append("g").append("rect").attr("class","area").attr("fill",function(n){return h(parseInt(Math.round(n[1])))}).attr("height",20).attr("x",.attr("width",function(n){return s(parseInt(Math.round(n[1])))}).attr("y",;e.selectAll("g").append("text").attr("class","label").attr("x",t.left-60).attr("y",function(n,i){return t.top+30*i+14}).text(;e.selectAll("g").append("text").attr("x",t.left+5).attr("class","yearAmount").attr("y",function(n,i){return t.top+30*i+14}).text(function(n){return commaLargeNumberFormatter(parseInt(Math.round(n[1])))})}var r=120,t={top:0,right:5,bottom:40,left:60},f=n-t.left-t.right,e=r-t.top-t.bottom,u="";return i.width=function(r){return arguments.length?(n=r,f=n-t.left-t.right,i):n},i.height=function(n){return arguments.length?(r=n,e=r-t.top-t.bottom,i):r},i.metricData=i}ar currency=d3.format("$,"),percent=d3.format("%"),yearPartFormatter=d3.format("02f"),commaLargeNumberFormatter=d3.format(","),number=d3.format("d"),thousandsMillions=function(n){var i=1e9,r=1e6,u=1e3,t=Math.abs(n);return t>=i?currency(n/i)+"B":t>=r?currency(n/r)+"M":t>=u?currency(n/u)+"K":currency(n)}