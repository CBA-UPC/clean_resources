"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3512],{13512:function(e,t,r){r.r(t),r.d(t,{default:function(){return H}});var n=r(85893),a=r(67294),o=r(66436),i=r(36777),l=r(7361),s=r(37082),c=r(27361),d=r.n(c),u=r(47742),h=r(57689),f=r(63760),m=r(24921),p=r(55221),w=r(51912),g=r(3256),y=r(35385);let v=()=>{let{isOpen:e,onOpen:t,onClose:r}=(0,h.Z)(),{isMobile:i}=(0,s.Z)(),[l,c]=(0,a.useState)(""),{space:d}=(0,m.Z)();return(0,a.useEffect)(()=>{let r=r=>{if(!e){let n=r.target.closest("div.at-youtube-video");if(n){let{desktopSrc:a,mobileSrc:o}=n.dataset;i?o&&(c(o),t()):a&&(c(a),t())}}},n=document.querySelector(`#${f.WK}`);return n&&n.addEventListener("click",r),()=>n?.removeEventListener("click",r)},[e]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(p.Z,{isOpen:e,onClose:r,isCentered:!0,children:[(0,n.jsx)(w.Z,{}),(0,n.jsxs)(g.Z,{sx:{maxWidth:i?"100%":"82%",maxHeight:i?"55vh":"100vh",margin:i?"0":`${d.s10} auto 0`},children:[(0,n.jsx)(o.Z,{className:"responsive-iframe",id:"youtubeVideo",children:(0,n.jsx)("iframe",{className:"youtubeIframe embed-responsive-item",src:`${l}?autoplay=1&rel=0&showinfo=0&controls=1&modestbranding=0`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),(0,n.jsx)(y.Z,{sx:{width:"32px",height:"32px",top:"-32px",right:"-2px",color:"#fff","& svg":{width:"17px",height:"17px"}}})]})]})})};var b=r(49788),E=r(20801),x=r(9552),I=r(5152),$=r.n(I),Z=r(62266),C=r(39080),L=r(83459);let T=$()(()=>r.e(9764).then(r.bind(r,69764)),{loadableGenerated:{webpack:()=>[69764]},ssr:!1});function k(e){let{scheme:t,siteId:r,brand:o}=e,i=(0,C.Z)({groupId:"recommendations"}),l=i.reduce((e,t)=>({...e,[t.id]:(0,L.yx)(t,r)}),{}),s=l?.disableRecommendationOnPages?.includes("home"),c=l?.hideRecommendationPrice,d=l?.hideRecommendations;return(0,a.useMemo)(()=>s||d||!t||"no"===t.display?.toLowerCase()?null:(0,n.jsx)(Z.Z,{className:"certona-recommendations-home",children:(0,n.jsx)(T,{certonaData:t,siteId:r,label:t.explanation||"You may also like",hidePrice:c,type:"yaml",pageType:"home",brand:o})}),[s,d,t])}var A=r(87214),S=r(64929),N=r(73935),j=r(27588);let O=e=>{let{content:t,selector:r="#wyng-content",pageType:a}=e,o=t?.querySelector(r);return o&&a?N.createPortal((0,n.jsx)(j.Z,{pageType:a,showContentDivider:!1}),o):null};var _=r(13025),q=r(42959);let R=()=>{window.$&&window.$(".product .product-tile__ratings .ratings a").each((e,t)=>{let r=window.$(t);try{r.find("svg").each((e,t)=>{let r=window.$(t),n=(0,l.Ql)(r.attr("data-qa"));n&&r.prepend(n)})}catch(n){}})},M=()=>{window.$&&window.$(".drawer-icon svg .open-icon, .drawer-icon svg .close-icon").each((e,t)=>{let r=window.$(t),n=r.attr("class"),a=n.includes("open");r.replaceWith(function(){return window.$((0,l.OK)(a?"down":"up")).addClass(n)})})},D=()=>{window.$&&window.$(".drawer-icon svg").each((e,t)=>{let r=window.$(t),n=r.closest(".feature-benefit-card").attr("class"),a=r.attr("class"),o=n.includes("expanded");r.replaceWith(()=>window.$((0,l.OK)(o?"up":"down")).addClass(a))})},P=(e,t)=>{if(!window.$)return;let r=e?"desktop":"mobile",n="data-desktop-video-src";window.$('video:not([data-loading="lazy"]):not([src])').each((e,a)=>{let o=window.$(a);if(t?.length)t.forEach(e=>{if(o.attr("id")===e.videoId){let t=d()(e,`videoSrc.${r}`);t&&o.attr("src",t)}if(!o.attr("id")){let a=o.attr(`data-${r}-video-src`)||o.attr(n);a&&o.attr("src",a)}});else{let i=o.attr(`data-${r}-video-src`)||o.attr(n);i&&o.attr("src",i)}})},V=e=>{window.$&&window.$(`#${e}`).on("click",'a[data-parent="#accordion"]',e=>{e.preventDefault();let t=window.$(e.currentTarget),r=t.parents(".panel"),n=r.find(".panel-collapse");n.animate({height:"toggle"})})},z=(e,t,r)=>{try{t&&(0,l.uU)(e),(0,l.CX)(e),R(),M(),D(),P(t,r),V(e),(0,E.tq)()}catch(n){console.error("HomeBody onInit",n)}};function H(e){let{slots:t,videoSrcs:r,isHome:c,isYoutubeVideos:h,children:m,slotsBottom:p,onClickCmsAnalytics:w}=e,{isDesktop:g}=(0,s.Z)(),{session:y}=(0,a.useContext)(i.Z),{injectJquery:I}=(0,a.useContext)(u.Z),{appData:$}=(0,a.useContext)(u.Z),Z=(0,S.Z)(),C=d()($,"siteId"),L=d()($,"brand"),T=!!d()(y,"userEmail"),[N,j]=(0,a.useState)(null),_=(0,a.useRef)(null),q=(0,a.useRef)([]),R=(0,b.Z)({groupId:"wyng",preferenceId:"isEnableWyngOnHomePage"});R=d()(R,"value");let M=(0,b.Z)({groupId:"CertonaConfiguration",preferenceId:"Certona_HP_Visibility",siteId:C,defaultValue:!0}),D=(0,a.useCallback)(async e=>{let t=()=>z(f.WK,e,r);try{await I({slick:e}),window[l.Vp]=window[l.Vp]||t,window[l.Vp]?.()}catch(n){console.log("Error when init home page",n)}},[I]),P=e=>t=>{M&&Z.send("certonaInteraction",{eventPageLocation:"home",initialization:e,schemes:t})},V=(0,A.Z)("home1_rr",{pagetype:"home",onRequest:P(!0),onResponse:P(!1)});(0,a.useEffect)(()=>(D(g),(0,E.UE)(g),()=>{(0,E.uM)(),q.current.length&&(q.current.forEach(e=>e?.()),q.current=[])}),[]),(0,a.useEffect)(()=>{T&&K()},[T]);let H=(0,a.useCallback)(e=>{e&&j(e)},[]),F=(0,a.useCallback)(e=>{e&&((0,E.U4)(e),(0,E.SD)(g),(0,E.Vb)(g,w),W(e).then(e=>{e?.length&&(q.current=[...q.current,...e])}),B(e,g).then(e=>{e?.length&&(q.current=[...q.current,...e])}))},[]),U=(e,t,r)=>{if(!e||!t||!r)return;let n=document.querySelector(e);n&&(n.setAttribute("title",t),n.setAttribute("data-promotion-name",t),n.setAttribute("href",r),n.innerHTML=t)},K=()=>{let e=window?.location?.origin;e&&(U("[data-promotion-id=id-1108-insider-hp-banner][title='SIGN IN TO CUSTOMIZE']","EXPLORE CUSTOMIZATION",`${e}/shop/customization/for-her/all`),U("[data-promotion-id=id-1108-insider-hp-banner][title='BECOME AN INSIDER']","EXPLORE MONOGRAM STYLES",`${e}/shop/customization/the-monogram-shop`))},G=(e,t)=>{if(!e.html)return null;let r=`slot-${t}`;if(e.certonaRecomadation)return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(x.Z,{slot:e,idx:t,lazyLoadImages:!0,lazyLoadVideos:!0}),(0,n.jsx)(k,{scheme:V,siteId:C,brand:L})]},r);if(e.wyngSlot&&R){if(_.current&&_.current!==e.id)return;return _.current=e.id,(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(x.Z,{ref:H,slot:e,idx:t,lazyLoadImages:!0,lazyLoadVideos:!0}),(0,n.jsx)(O,{content:N,pageType:"home"})]},r)}return(0,n.jsx)(x.Z,{ref:F,slot:e,idx:t,lazyLoadImages:!0,lazyLoadVideos:!0},r)};return(0,n.jsxs)(o.Z,{w:"100%",maxWidth:"100vw",h:t?.length?"auto":"100vh",id:f.WK,className:`cms-slot ${c?"mwlc":""}`,children:[t?.map(G),h&&(0,n.jsx)(v,{}),m,p?.map(G)]})}async function W(e){if(!e)return;let t=[...e.querySelectorAll(_.COUNTDOWN_HTML_IDENTIFIER)];if(!t.length)return;let{startCountdown:n}=await Promise.resolve().then(r.bind(r,13025)),a=[];return t.forEach(e=>{let t=n(e);t&&a.push(t)}),a}async function B(e,t){if(!e)return;let n=[...e.querySelectorAll(q.TABBED_CONTENT_HTML_IDENTIFIER)];if(!n.length)return;let{initTabbedContent:a}=await Promise.resolve().then(r.bind(r,42959)),o=[];return n.forEach(e=>{let r=a(t,e);r&&o.push(r)}),o}},42959:function(e,t,r){r.r(t),r.d(t,{TABBED_CONTENT_HTML_IDENTIFIER:function(){return i},initTabbedContent:function(){return l},useTabbedContent:function(){return s}});var n=r(4184),a=r(37082),o=r(7361);let i=".mol-tabbed-content";function l(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,r=Array.from(t.querySelectorAll(".nav-link")),n=t=>{let r=function(e,t){if(!e)return null;for(;(e=e.parentNode)&&e!==document;)if(!t||e.matches(t))return e;return null}(t,".nav"),n=Array.from(r?.querySelectorAll(".nav-link")),a=Array.from(r?.parentNode?.querySelector(".tab-content")?.querySelectorAll(":scope > .tab-pane")),o=[...a,...n];o.forEach(e=>{e.classList.remove("active","show")}),e&&l()},a=e=>{let r=e.target.classList?.contains?.("active");if(r)return;let a=e.target.getAttribute("data-target");if(!a)return;let o=t.querySelector(a);o&&(n(e.target),o.classList.add("active","show"),e.target.classList.add("active"))},i=e=>t=>{t.classList.contains("slick-injected")||(t.innerHTML=(0,o.iB)(e),t.classList.add("slick-injected"))},l=()=>{window?.$?.(".product-tile-slider")?.slick?.("refresh"),t.querySelectorAll(".slick-prev").forEach(i("left")),t.querySelectorAll(".slick-next").forEach(i("right"))};return r.forEach(e=>{let t=e.getAttribute("title"),r=e.getAttribute("data-promotion-name");""==t&&""!=r&&e.setAttribute("title",r)}),r.forEach(e=>{e.addEventListener("click",a)}),()=>{r.forEach(e=>{e.removeEventListener("click",a)})}}let s=()=>{let{isDesktop:e}=(0,a.Z)();(0,n.Z)(()=>{let t=Array.from(document.querySelectorAll(i)),r=t.length?t.map(t=>l(e,t)):void 0;return()=>{r?.forEach(e=>e?.())}})}}}]);