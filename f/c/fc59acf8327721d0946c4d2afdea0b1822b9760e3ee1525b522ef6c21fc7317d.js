import{d as A,_ as R,bp as y}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import{S as V}from"./SvgIcon_e55bd28a_r24-02-0_b0_t240129-161140.js";import{E as T}from"./ElementInViewDirective_8a3c1de4_r24-02-0_b0_t240129-161140.js";import{V as C}from"./VLinkWrapper_89f0cc15_r24-02-0_b0_t240129-161140.js";import{V as L}from"./VCmsMediaSSR_1101c01c_r24-02-0_b0_t240129-161140.js";import{_ as M}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";import{L as f,A as i,B as n,I as r,a8 as S,J as m,G as _,V as u,W as p,_ as g,O as b,a7 as D,D as v,N as I,X as E}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";import"./i18n_4b81f106_r24-02-0_b0_t240129-161140.js";import"./vuex.esm-bundler_aa359dca_r24-02-0_b0_t240129-161140.js";import"./cmsContentHelper_f68cc642_r24-02-0_b0_t240129-161140.js";import"./typeOf_b861069e_r24-02-0_b0_t240129-161140.js";import"./eventBus_552c1ba1_r24-02-0_b0_t240129-161140.js";import"./safariCheck_11313f0b_r24-02-0_b0_t240129-161140.js";import"./LscoLazyLoadDirective_02fa23a1_r24-02-0_b0_t240129-161140.js";import"./VResponsivePicture_fb50e2e9_r24-02-0_b0_t240129-161140.js";import"./imageUtils_fcbf42ca_r24-02-0_b0_t240129-161140.js";const z={content_type_uid:"module_doorway_stacked_v2",components:{SvgIcon:V,VLinkWrapper:C,VCmsMediaSSR:L},props:{headline_text:{type:String,default:""},headline_color:{type:String,default:""},doorway_media:{type:Array,default:,moduleShouldEagerLoad:{type:Boolean,default:!1}},computed:{mobileDoorwayCount(){var e;return((e=this.doorway_media)==null?void 0:e.length)||0}},directives:{"activate-when-visible":T},data:()=>({buttonActiveState:!1,desktopActiveDoorwayIndex:0,mobileActiveDoorwayIndex:0,desktopStackIsShifting:!1,mobileStackShiftInProgress:!1,mobileDoorwayRefs:[],hammerElements:[],Hammer:null}),async mountedmethods:{initializeMobileDoorwayRef(e){e&&this.mobileDoorwayRefs.includes(e)===!1&&this.mobileDoorwayRefs.push(e)},async initializeHammerElements(){var e,s;((e=this.mobileDoorwayRefs)==null?void 0:e.length)>0&&((s=this.hammerElements)==null?void 0:s.length)===0&&(this.Hammer||(this.Hammer=await A(R(["ngsa/js/hammer_d33d1eb7_r24-02-0_b0_t240129-161140.js","ngsa/js/vendor_6ed58054_r24-02-0_b0_t240129-161140.js"]))),this.mobileDoorwayRefs.forEach(t=>{const l=new this.Hammer(t);l.get("pan").set({direction:this.Hammer.DIRECTION_HORIZONTAL}),l.on("panleft panright",this.handleDrag),l.on("panend",this.handleDragEnd),this.hammerElements.push(l)}))},setDesktopActiveDoorway(e){this.desktopStackIsShifting=!0,this.desktopActiveDoorwayIndex=e,setTimeout(y)},handleDrag(e){const s=e.target.closest(".draggable-doorway");s&&!this.mobileStackShiftInProgress&&(s.style.transform=`translateX(${(e==null?void 0:e.deltaX)||0}px)`)},handleDragEnd(e){const s=e.target.closest(".draggable-doorway"),t=s.getBoundingClientRect().width;if(s){const l=(e==null?void 0:e.deltaX)||0;if(Math.abs(l)>t/6){const c=l>0?"right":"left";this.mobileDoorwayStackShift(s,c)}else s.style.transform="translateX(0)"}},mobileDoorwayStackShift(e,s){var k;const t=e,l=parseInt((k=t==null?void 0:t.dataset)==null?void 0:k.index,10);this.mobileStackShiftInProgress=!0,t.style.transform=`translateX(${s==="left"?"-":""}125%)`;const w=c=()=>{l===this.mobileDoorwayRefs.length-1?this.mobileActiveDoorwayIndex=0:this.mobileActiveDoorwayIndex=l+1,this.mobileDoorwayRefs.forEach(d=>{const a=parseInt(d.dataset.mobilestackorder,10);a===0?d.dataset.mobilestackorder=this.mobileDoorwayRefs.length-1:d.dataset.mobilestackorder=a-1}),t.style.transform="translateX(0)"},h=()=>{t.style.opacity=1,this.mobileStackShiftInProgress=!1};setTimeout(()=>{w(),setTimeout(()=>{c(),setTimeout(y)},y)},y)}}},H={class:"stacked-doorway"},N={class:"hide-desktop stacked-doorway__mobile"},P={class:"lsco-row"},X={class:"lsco-col-xs-21 lsco-col-xs-offset-2"},B={class:"stacked-doorway__container"},O=["data-index","data-mobilestackorder"],W={key:0,class:"block-background"},F={class:"stacked-doorway__count"},U={class:"show-desktop stacked-doorway__desktop"},G={class:"lsco-row lsco-row-xs--middle"},J={class:"lsco-col-xs-10 lsco-col-xs-offset-2"},Q={class:"stacked-doorway__container"},Z={class:"lsco-col-xs-8 lsco-col-xs-offset-3"},j={class:"stacked-doorway__links"};function q(e,s,t,l,w,c){const h=f("VCmsMediaSSR"),k=f("SvgIcon"),d=f("VLinkWrapper");return i(),n("div",H,[r("div",N,[r("div",P,[r("div",X,[t.headline_text?(i(),n("h3",{key:0,class:"module-signpost-with-eyebrow__eyebrow",style:S({color:t.headline_color})},m(t.headline_text),5)):_("",!0),r("div",B,[(i(!0),n(u,null,p(t.doorway_media,(a,o)=>(i(),n("div",{class:g(["stacked-doorway__media draggable-doorway",[{active:o===e.mobileActiveDoorwayIndex},{inactive:o!==e.mobileActiveDoorwayIndex},{"mobile-stack-shifting":e.mobileStackShiftInProgress}]]),key:`mobile-stacked-doorway-${o}`,"data-index":o,"data-mobilestackorder":o,ref_for:!0,ref:c.initializeMobileDoorwayRef},[b(h,D(a.image_or_video_aem,{"media-link":a.cta_link,"alt-text":a.img_alt_text,"column-width":19,"aspect-ratio-width":4,"aspect-ratio-height":5,"disable-lazy-load":t.moduleShouldEagerLoad&&o===0}),null,16,["media-link","alt-text","disable-lazy-load"]),a.cta_link?(i(),v(d,{key:0,class:"mobile-link","cta-link":a.cta_link,"link-position":o},{default:I(()=>[a.cta_link?(i(),n("span",W,[E(m(a.cta_link.link_text)+" ",1),b(k,{"set-aria-hidden":!0,name:"arrow-right",class:"block-arrow"})])):_("",!0)]),_:2},1032,["cta-link","link-position"])):_("",!0)],10,O))),128))]),r("div",F,m(e.mobileActiveDoorwayIndex+1)+" / "+m(c.mobileDoorwayCount),1)])])]),r("div",U,[r("div",G,[r("div",J,[r("div",Q,[(i(!0),n(u,null,p(t.doorway_media,(a,o)=>(i(),n("div",{class:g(["stacked-doorway__media",[`stacked-doorway__media--${o}`,{active:o===e.desktopActiveDoorwayIndex},{"desktop-stack-shifting":e.desktopStackIsShifting},{inactive:o!==e.desktopActiveDoorwayIndex}]]),key:`desktop-stacked-doorway-${o}`},[b(h,D(a.image_or_video_aem,{"media-link":a.cta_link,"alt-text":a.img_alt_text,"column-width":8,"aspect-ratio-width":4,"aspect-ratio-height":5,"disable-lazy-load":t.moduleShouldEagerLoad&&o===0}),null,16,["media-link","alt-text","disable-lazy-load"])],2))),128))])]),r("div",Z,[t.headline_text?(i(),n("h3",{key:0,class:"module-signpost-with-eyebrow__eyebrow",style:S({color:t.headline_color})},m(t.headline_text),5)):_("",!0),r("ul",j,[(i(!0),n(u,null,p(t.doorway_media,(a,o)=>(i(),n("li",{class:"link-item",key:`stacked-doorway-link-${o}`},[a.cta_link?(i(),v(d,{key:0,class:g(["desktop-link",{active:o===e.desktopActiveDoorwayIndex}]),onMouseover:x=>c.setDesktopActiveDoorway(o),onFocus:"cta-link":a.cta_link,"link-position":o},{default:I(,_:2},1032,["onMouseover","onFocus","class","cta-link","link-position"])):_("",!0)]))),128))])])])])])}const he=M(z,[["render",q],["__scopeId","data-v-da9e498e"]]);export{he as default};
