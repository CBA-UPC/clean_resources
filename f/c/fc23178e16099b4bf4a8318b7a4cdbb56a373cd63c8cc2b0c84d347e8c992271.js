!function(){"use strict";var e,t,n,o,s,i,r,a,c,l,u,d,p,g,S,h;!function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(e||(e={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(t||(t={}));class E{t(e){return this.eventQueue.get(e)}remove(e){return this.eventQueue.delete(e)}t size(){return this.eventQueue.size}events(){let e=[];return this.eventQueue.forEach(((t,n)=>{e.push({id:n,callback:t.callback,parameter:t.parameter})})),e}}class C extends Error{constructor(e){super(e),this.name="DecodingError"}}class f{tatic decode(e){if(!/^[0-1]*$/.test(e))throw new C("Undecodable FixedInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length;t++)n[e.length-(t+1)]=0===t?1:2*n[e.length-t];for(let o=0;o<e.length;o++)"1"===e.charAt(o)&&(t+=n[o]);return t}}class m extends Error{constructor(e){super(e),this.name="EncodingError"}}class I{encode(e){if(!/^[0-1]*$/.test(e))throw new m("Unencodable Base64Url '"+e+"'");e=this.pad(e);let t="",n=0;for(;n<=e.length-6;){let o=e.substring(n,n+6);try{let e=f.decode(o);t+=I.DICT.charAt(e),n+=6}catch(t){throw new m("Unencodable Base64Url '"+e+"'")}}return t}decode(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new C("Undecodable Base64URL string");let t="";for(let n=0;n<e.length;n++){let o=e.charAt(n),s=I.REVERSE_DICT.get(o);t+=f.encode(s,6)}return t}}I.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",I.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);class T extends I{class _{tatic decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new C("Undecodable FibonacciInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length-1;t++)0===t?n.push(1):1===t?n.push(2):n.push(n[t-1]+n[t-2]);for(let o=0;o<e.length-1;o++)"1"===e.charAt(o)&&(t+=n[o]);return t}}class A{static encodetatic decodeclass N{static encode(e){e=e.sort(((e,t)=>e-t));let t=[],n=0,o=0;for(;o<e.length;){let n=o;for(;n<e.length-1&&e[n]+1===e[n+1];)n++;t.push(e.slice(o,n+1)),o=n+1}let s=f.encode(t.length,12);for(let e=0;e<t.length;e++)if(1==t[e].length){let o=t[e][0]-n;n=t[e][0],s+="0"+_.encode(o)}else{let o=t[e][0]-n;n=t[e][0];let i=t[e][t[e].length-1]-n;n=t[e][t[e].length-1],s+="1"+_.encode(o)+_.encode(i)}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new C("Undecodable FibonacciIntegerRange '"+e+"'");let t=[],n=f.decode(e.substring(0,12)),o=0,s=12;for(let i=0;i<n;i++){let n=A.decode(e.substring(s,s+1));if(s++,!0===n){let n=e.indexOf("11",s),i=_.decode(e.substring(s,n+2))+o;o=i,s=n+2,n=e.indexOf("11",s);let r=_.decode(e.substring(s,n+2))+o;o=r,s=n+2;for(let e=i;e<=r;e++)t.push(e)}else{let n=e.indexOf("11",s),i=_.decode(e.substring(s,n+2))+o;o=i,t.push(i),s=n+2}}return t}}class O{etValue(){return this.value}class P extends O{constructor(e){super(),this.setValue(e)}encode(){return N.encode(this.value)}decode(e){this.value=N.decode(e)}substring(e,t){let n=f.decode(e.substring(t,t+12)),o=t+12;for(let t=0;t<n;t++)o="1"===e.charAt(o)?e.indexOf("11",e.indexOf("11",o+1)+2)+2:e.indexOf("11",o+1)+2;return e.substring(t,o)}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}class b extends O{constructor(e,t){super(),this.bitStringLength=e,this.setValue(t)}encode(){return f.encode(this.value,this.bitStringLength)}decode(e){this.value=f.decode(e)}substring(e,t){return e.substring(t,t+this.bitStringLength)}}!n||(n={}));class D{constructor(e,t){this.fields=e,this.fieldOrder=t}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e).getValue():null}setFieldValue(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}getFieldOrder(){return this.fieldOrder}ass R extends D{constructor(e){let t=new Map;t.set(n.ID.toString(),new b(6,R.ID)),t.set(n.VERSION.toString(),new b(6,R.VERSION)),t.set(n.SECTION_IDS.toString(),new P([])),super(t,[n.ID.toString(),n.VERSION.toString(),n.SECTION_IDS.toString()]),this.base64UrlEncoder=new T,e&&e.length>0&&this.decode(e)}tId(){return R.ID}getName(){return R.NAME}}R.ID=3,R.VERSION=1,R.NAME="header";class w extends O{constructor(e){super(),this.setValue(e)}encode(){return A.encode(this.value)}decode(e){this.value=A.decode(e)}substring(e,t){return e.substring(t,t+1)}}class y{static encodetatic decodeclass V extends O{constructor(e){super(),this.setValue(e)}encode(){return y.encode(this.value)}decode(e){this.value=y.decode(e)}class U{static encode(e,t){let n="";for(let t=0;t<e.length;t++)n+=A.encode(e[t]);for(;n.length<t;)n+="0";return n}static decode(e){if(!/^[0-1]*$/.test(e))throw new C("Undecodable FixedBitfield '"+e+"'");let t=[];for(let n=0;n<e.length;n++)t.push(A.decode(e.substring(n,n+1)));return t}}class L extends O{constructor(e,t){super(),this.getLength=e,this.setValue(t)}ecode(e){this.value=U.decode(e)}etValue(){return[...super.getValue()]}class v extends O{ncode(){return U.encode(this.value,this.numElements)}decode(e){this.value=U.decode(e)}etValue(){return[...super.getValue()]}class M{static encode(e,t){for(;e.length<t;)e+=" ";let n="";for(let t=0;t<e.length;t++){let o=e.charCodeAt(t);if(32===o)n+=f.encode(63,6);else{if(!(o>=65))throw new m("Unencodable FixedString '"+e+"'");n+=f.encode(e.charCodeAt(t)-65,6)}}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new C("Undecodable FixedString '"+e+"'");let t="";for(let n=0;n<e.length;n+=6){let o=f.decode(e.substring(n,n+6));t+=63===o?" ":String.fromCharCode(o+65)}return t.trim()}}class x extends O{code(e){this.value=M.decode(e)}class G{asField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e).getValue():null}etSegments(){return this.segments}ass k{static encode(e){e.sort(((e,t)=>e-t));let t=[],n=0;for(;n<e.length;){let o=n;for(;o<e.length-1&&e[o]+1===e[o+1];)o++;t.push(e.slice(n,o+1)),n=o+1}let o=f.encode(t.length,12);for(let e=0;e<t.length;e++)1===t[e].length?o+="0"+f.encode(t[e][0],16):o+="1"+f.encode(t[e][0],16)+f.encode(t[e][t[e].length-1],16);return o}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new C("Undecodable FixedIntegerRange '"+e+"'");let t=[],n=f.decode(e.substring(0,12)),o=12;for(let s=0;s<n;s++){let n=A.decode(e.substring(o,o+1));if(o++,!0===n){let n=f.decode(e.substring(o,o+16));o+=16;let s=f.decode(e.substring(o,o+16));o+=16;for(let e=n;e<=s;e++)t.push(e)}else{let n=f.decode(e.substring(o,o+16));t.push(n),o+=16}}return t}}class F extends O{constructor(e){super(),this.setValue(e)}bstring(e,t){let n=f.decode(e.substring(t,t+12)),o=t+12;for(let t=0;t<n;t++)"1"===e.charAt(o)?o+=33:o+=17;return e.substring(t,o)}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}class B extends O{ncode(){let e=this.value.length>0?this.value[this.value.length-1]:0,t=k.encode(this.value),n=e;if(t.length<=n)return f.encode(e,16)+"1"+t;{let t=[],o=0;for(let n=0;n<e;n++)n===this.value[o]-1?(t[n]=!0,o++):t[n]=!1;return f.encode(e,16)+"0"+U.encode(t,n)}}decode(e){if("1"===e.charAt(16))this.value=k.decode(e.substring(17));else{let t=[],n=U.decode(e.substring(17));for(let e=0;e<n.length;e++)!0===n[e]&&t.push(e+1);this.value=t}}substringetValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(())}}!o||(o={}));class W extends I{class H extends G{constructor(e){let t=new Map,n=new Date;t.set(o.VERSION.toString(),new b(6,H.VERSION)),t.set(o.CREATED.toString(),new V(n)),t.set(o.LAST_UPDATED.toString(),new V(n)),t.set(o.CMP_ID.toString(),new b(12,0)),t.set(o.CMP_VERSION.toString(),new b(12,0)),t.set(o.CONSENT_SCREEN.toString(),new b(6,0)),t.set(o.CONSENT_LANGUAGE.toString(),new x(2,"EN")),t.set(o.VENDOR_LIST_VERSION.toString(),new b(12,0)),t.set(o.POLICY_VERSION.toString(),new b(6,2)),t.set(o.IS_SERVICE_SPECIFIC.toString(),new w(!1)),t.set(o.USE_NON_STANDARD_STACKS.toString(),new w(!1)),t.set(o.SPECIAL_FEATURE_OPTINS.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(o.PURPOSE_CONSENTS.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(o.PURPOSE_LEGITIMATE_INTERESTS.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(o.PURPOSE_ONE_TREATMENT.toString(),new w(!1)),t.set(o.PUBLISHER_COUNTRY_CODE.toString(),new x(2,"AA")),t.set(o.VENDOR_CONSENTS.toString(),new B([])),t.set(o.VENDOR_LEGITIMATE_INTERESTS.toString(),new B([])),t.set(o.PUBLISHER_RESTRICTIONS.toString(),new F([])),t.set(o.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new b(3,3)),t.set(o.PUBLISHER_CONSENTS.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(o.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let s=new b(6,0);t.set(o.NUM_CUSTOM_PURPOSES.toString(),s),t.set(o.PUBLISHER_CUSTOM_CONSENTS.toString(),new L((()=>s.getValue()),[])),t.set(o.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new L((()=>s.getValue()),[])),t.set(o.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new b(3,2)),t.set(o.VENDORS_ALLOWED.toString(),new B([])),t.set(o.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new b(3,1)),t.set(o.VENDORS_DISCLOSED.toString(),new B([])),super(t,[[o.VERSION.toString(),o.CREATED.toString(),o.LAST_UPDATED.toString(),o.CMP_ID.toString(),o.CMP_VERSION.toString(),o.CONSENT_SCREEN.toString(),o.CONSENT_LANGUAGE.toString(),o.VENDOR_LIST_VERSION.toString(),o.POLICY_VERSION.toString(),o.IS_SERVICE_SPECIFIC.toString(),o.USE_NON_STANDARD_STACKS.toString(),o.SPECIAL_FEATURE_OPTINS.toString(),o.PURPOSE_CONSENTS.toString(),o.PURPOSE_LEGITIMATE_INTERESTS.toString(),o.PURPOSE_ONE_TREATMENT.toString(),o.PUBLISHER_COUNTRY_CODE.toString(),o.VENDOR_CONSENTS.toString(),o.VENDOR_LEGITIMATE_INTERESTS.toString(),o.PUBLISHER_RESTRICTIONS.toString()],[o.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),o.PUBLISHER_CONSENTS.toString(),o.PUBLISHER_LEGITIMATE_INTERESTS.toString(),o.NUM_CUSTOM_PURPOSES.toString(),o.PUBLISHER_CUSTOM_CONSENTS.toString(),o.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],[o.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),o.VENDORS_ALLOWED.toString()],[o.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),o.VENDORS_DISCLOSED.toString()]]),this.base64UrlEncoder=new W,e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return this.updateDateStamp(),t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(o.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}decode(e){let t=e.split("."),n=[];for(let e=0;e<t.length;e++){let o=this.base64UrlEncoder.decode(t[e]);switch(o.substring(0,3)){case"000":n[0]=o;break;case"001":n[3]=o;break;case"010":n[2]=o;break;case"011":n[1]=o;break;default:throw new C("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n)}setFieldValue(e,t){e==o.PURPOSE_LEGITIMATE_INTERESTS.toString()&&(t[0]=!1,t[2]=t[3]=t[4]=t[5]=!1),e!=o.CREATED.toString()&&e!=o.LAST_UPDATED.toString()||(e==o.CREATED.toString()?super.setFieldValue(o.LAST_UPDATED.toString(),t):super.setFieldValue(o.CREATED.toString(),t)),super.setFieldValue(e,t)}getId(){return H.ID}getName(){return H.NAME}updateDateStamp(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));console.log("Debug: updateDateStamp"),super.setFieldValue(o.CREATED.toString(),t),super.setFieldValue(o.LAST_UPDATED.toString(),t)}}H.ID=2,H.VERSION=2,H.NAME="tcfeuv2",s||(s={}));class j extends G{constructor(e){let t=new Map,n=new Date;t.set(s.VERSION.toString(),new b(6,j.VERSION)),t.set(s.CREATED.toString(),new V(n)),t.set(s.LAST_UPDATED.toString(),new V(n)),t.set(s.CMP_ID.toString(),new b(12,0)),t.set(s.CMP_VERSION.toString(),new b(12,0)),t.set(s.CONSENT_SCREEN.toString(),new b(6,0)),t.set(s.CONSENT_LANGUAGE.toString(),new x(2,"EN")),t.set(s.VENDOR_LIST_VERSION.toString(),new b(12,0)),t.set(s.TCF_POLICY_VERSION.toString(),new b(6,2)),t.set(s.USE_NON_STANDARD_STACKS.toString(),new w(!1)),t.set(s.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(s.PURPOSES_EXPRESS_CONSENT.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(s.PURPOSES_IMPLIED_CONSENT.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(s.VENDOR_EXPRESS_CONSENT.toString(),new B([])),t.set(s.VENDOR_IMPLIED_CONSENT.toString(),new B([])),t.set(s.SEGMENT_TYPE.toString(),new b(3,3)),t.set(s.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(s.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new v([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let o=new b(6,0);t.set(s.NUM_CUSTOM_PURPOSES.toString(),o),t.set(s.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new L((()=>o.getValue()),[])),t.set(s.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new L((,[])),super(t,[[s.VERSION.toString(),s.CREATED.toString(),s.LAST_UPDATED.toString(),s.CMP_ID.toString(),s.CMP_VERSION.toString(),s.CONSENT_SCREEN.toString(),s.CONSENT_LANGUAGE.toString(),s.VENDOR_LIST_VERSION.toString(),s.TCF_POLICY_VERSION.toString(),s.USE_NON_STANDARD_STACKS.toString(),s.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),s.PURPOSES_EXPRESS_CONSENT.toString(),s.PURPOSES_IMPLIED_CONSENT.toString(),s.VENDOR_EXPRESS_CONSENT.toString(),s.VENDOR_IMPLIED_CONSENT.toString()],[s.SEGMENT_TYPE.toString(),s.PUB_PURPOSES_EXPRESS_CONSENT.toString(),s.PUB_PURPOSES_IMPLIED_CONSENT.toString(),s.NUM_CUSTOM_PURPOSES.toString(),s.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),s.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()]]),this.base64UrlEncoder=new T,e&&e.length>0&&this.decode(e)}ecode(e){let t=e.split("."),n=[];for(let e=0;e<t.length;e++){let o=this.base64UrlEncoder.decode(t[e]);switch(o.substring(0,3)){case"000":n[0]=o;break;case"011":n[1]=o;break;default:throw new C("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n)}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==s.CREATED.toString()&&e!==s.LAST_UPDATED.toString()){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.setFieldValue(s.CREATED.toString(),t),this.setFieldValue(s.LAST_UPDATED.toString(),t)}}getId(){return j.ID}getName(){return j.NAME}}j.ID=5,j.VERSION=1,j.NAME="tcfcav1";class Y extends Error{constructor(e){super(e),this.name="InvalidFieldError"}}!i||(i={}));class Q{constructor(e){this.fields=new Map,this.fields.set(i.VERSION.toString(),Q.VERSION),this.fields.set(i.NOTICE.toString(),"-"),this.fields.set(i.OPT_OUT_SALE.toString(),"-"),this.fields.set(i.LSPA_COVERED.toString(),"-"),e&&e.length>0&&this.decode(e)}hasField(e){return this.fields.has(e)}etFieldValuecode(){let e="";return e+=this.getFieldValue(i.VERSION.toString()),e+=this.getFieldValue(i.NOTICE.toString()),e+=this.getFieldValue(i.OPT_OUT_SALE.toString()),e+=this.getFieldValue(i.LSPA_COVERED.toString()),e}decodeetId(){return Q.ID}getName(){return Q.NAME}}Q.ID=6,Q.VERSION=1,Q.NAME="uspv1";class J{static encode(e,t,n){let o="";for(let n=0;n<e.length;n++)o+=f.encode(e[n],t);for(;o.length<t*n;)o+="0";return o}static decode(e,t,n){if(!/^[0-1]*$/.test(e))throw new C("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new C("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new C("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));let o=[];for(let n=0;n<e.length;n+=t)o.push(f.decode(e.substring(n,n+t)));for(;o.length<n;)o.push(0);return o}}class q extends O{code|(r={}));class z extends G{constructor(e){let t=new Map;t.set(r.VERSION.toString(),new b(6,z.VERSION)),t.set(r.SHARING_NOTICE.toString(),new b(2,0)),t.set(r.SALE_OPT_OUT_NOTICE.toString(),new b(2,0)),t.set(r.SHARING_OPT_OUT_NOTICE.toString(),new b(2,0)),t.set(r.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new b(2,0)),t.set(r.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new b(2,0)),t.set(r.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new b(2,0)),t.set(r.SALE_OPT_OUT.toString(),new b(2,0)),t.set(r.SHARING_OPT_OUT.toString(),new b(2,0)),t.set(r.TARGETED_ADVERTISING_OPT_OUT.toString(),new b(2,0)),t.set(r.SENSITIVE_DATA_PROCESSING.toString(),new q(2,[0,0,0,0,0,0,0,0,0,0,0,0])),t.set(r.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new q(2,[0,0])),t.set(r.PERSONAL_DATA_CONSENTS.toString(),new b(2,0)),t.set(r.MSPA_COVERED_TRANSACTION.toString(),new b(2,0)),t.set(r.MSPA_OPT_OUT_OPTION_MODE.toString(),new b(2,0)),t.set(r.MSPA_SERVICE_PROVIDER_MODE.toString(),new b(2,0)),t.set(r.GPC_SEGMENT_TYPE.toString(),new b(2,1)),t.set(r.GPC_SEGMENT_INCLUDED.toString(),new w(!0)),t.set(r.GPC.toString(),new w(!1)),super(t,[[r.VERSION.toString(),r.SHARING_NOTICE.toString(),r.SALE_OPT_OUT_NOTICE.toString(),r.SHARING_OPT_OUT_NOTICE.toString(),r.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),r.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),r.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),r.SALE_OPT_OUT.toString(),r.SHARING_OPT_OUT.toString(),r.TARGETED_ADVERTISING_OPT_OUT.toString(),r.SENSITIVE_DATA_PROCESSING.toString(),r.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),r.PERSONAL_DATA_CONSENTS.toString(),r.MSPA_COVERED_TRANSACTION.toString(),r.MSPA_OPT_OUT_OPTION_MODE.toString(),r.MSPA_SERVICE_PROVIDER_MODE.toString()],[r.GPC_SEGMENT_TYPE.toString(),r.GPC.toString()]]),this.base64UrlEncoder=new T,e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];if(t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0){!0===this.fields.get(r.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1]))}return t.join(".")}decode(e){let t=e.split("."),n=[],o=!1;for(let e=0;e<t.length;e++){let s=this.base64UrlEncoder.decode(t[e]);switch(s.substring(0,2)){case"00":n[0]=s;break;case"01":o=!0,n[1]=s;break;default:throw new C("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(r.GPC_SEGMENT_INCLUDED).setValue(o)}getId(){return z.ID}z.ID=7,z.VERSION=1,z.NAME="uspnatv1";class X{}X.SECTION_ID_NAME_MAP=new Map([[H.ID,H.NAME],[j.ID,j.NAME],[Q.ID,Q.NAME],[z.ID,z.NAME]]),X.SECTION_ORDER=[H.NAME,j.NAME,Q.NAME,z.NAME];class K{constructor(e){this.sections=new Map,e&&e.length>0&&this.decode(e)}setFieldValue(e,t,n){let o=null;if(this.sections.has(e)?o=this.sections.get(e):e===j.NAME?(o=new j,this.sections.set(j.NAME,o)):e===H.NAME?(o=new H,this.sections.set(H.NAME,o)):e===Q.NAME?(o=new Q,this.sections.set(Q.NAME,o)):e===z.NAME&&(o=new z,this.sections.set(z.NAME,o)),!o)throw new Y(e+"."+t+" not found");o.setFieldValue(t,n)}setFieldValueBySectionIdtFieldValueBySectionId(e,t){return this.getFieldValue(X.SECTION_ID_NAME_MAP.get(e),t)}asFieldBySectionIdsSectionId(e){return this.hasSection(X.SECTION_ID_NAME_MAP.get(e))}Header(){let e=new R;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}getSection(e){return this.sections.has(e)?this.sections.get(e).toObj():null}getSectionIds(){let e=[];for(let t=0;t<X.SECTION_ORDER.length;t++){let n=X.SECTION_ORDER[t];if(this.sections.has(n)){let t=this.sections.get(n);e.push(t.getId())}}return e}encode(){let e=[],t=[];for(let n=0;n<X.SECTION_ORDER.length;n++){let o=X.SECTION_ORDER[n];if(this.sections.has(o)){let n=this.sections.get(o);e.push(n.encode()),t.push(n.getId())}}let n=new R;return n.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(n.encode()),e.join("~")}decode(e){this.sections.clear();let t=e.split("~"),n=new R(t[0]);this.sections.set(R.NAME,n);let o=n.getFieldValue("SectionIds");for(let e=0;e<o.length;e++)if(o[e]===j.ID){let n=new j(t[e+1]);this.sections.set(j.NAME,n)}else if(o[e]===H.ID){let n=new H(t[e+1]);this.sections.set(H.NAME,n)}else if(o[e]===Q.ID){let n=new Q(t[e+1]);this.sections.set(Q.NAME,n)}else if(o[e]===z.ID){let n=new z(t[e+1]);this.sections.set(z.NAME,n)}}codeSection(e,t){let n=null;this.sections.has(e)?n=this.sections.get(e):e===j.NAME?(n=new j,this.sections.set(j.NAME,n)):e===H.NAME?(n=new H,this.sections.set(H.NAME,n)):e===Q.NAME?(n=new Q,this.sections.set(Q.NAME,n)):e===z.NAME&&(n=new z,this.sections.set(z.NAME,n)),n&&n.decode(t)}decodeSectionByIdoObject(){let e={};for(let t=0;t<X.SECTION_ORDER.length;t++){let n=X.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}}class ${constructor(){this.gppVersion="1.0",this.apiSupport=[H.NAME,j.NAME,Q.NAME,z.NAME],this.eventQueue=new E(this),this.cmpStatus=e.LOADING,this.cmpDisplayStatus=t.HIDDEN,this.applicableSections=[],this.gppModel=new K}reset(){delete this.cmpId,delete this.cmpVersion,delete this.currentAPI,delete this.eventStatus,this.gppModel=new K,this.cmpStatus=e.LOADING,this.cmpDisplayStatus=t.HIDDEN,this.eventQueue.clear()}}!a||(a={}));class Z{.ADD_EVENT_LISTENER,l=a.GET_FIELD,u=a.GET_GPP_DATA,d=a.GET_SECTION,p=a.GET_TC_DATA,g=a.HAS_SECTION,S=a.PING,h=a.REMOVE_EVENT_LISTENER,ee[c]=class extends Z{,ee[l]=class extends Z{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");let e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");let t=e[0],n=e[1],o=null;return"tcfeuv2"!=this.parameter&&(o=this.cmpApiContext.gppModel.getFieldValue(t,n)),this.invokeCallback(o),o}},ee[u]=class extends Z{,ee[d]=class extends Z{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");let e=null;return"tcfeuv2"!=this.parameter&&this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e),e}},ee[p]=class extends Z{,ee[g]=class extends Z{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");let e=this.cmpApiContext.gppModel.hasSection(this.parameter);return this.invokeCallback(e),e}},ee[S]=class extends Z{,ee[h]=class extends Z{;class te{constructor(e,t){if(this.cmpApiContext=e,t){let e=a.ADD_EVENT_LISTENER;if(null==t?void 0:t[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);if(e=a.REMOVE_EVENT_LISTENER,null==t?void 0:t[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);this.customCommands=t}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,n,o){if("string"!=typeof e)return t(null,!1);if("events"===e)return this.cmpApiContext.eventQueue.events();if(t&&"function"!=typeof t)throw new Error("invalid callback function");return this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new ee[e](this.cmpApiContext,t,n).execute():t?t(null,!1):void 0}ngSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]);var ie=window&&window.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(s,i){function r(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}((o=o.apply(e,t||[])).next())}))};class re{constructor(){this.consentLanguages=new se,this.language=re.DEFAULT_LANGUAGE,this.ready=!1,this.languageFilename="purposes-[LANG].json"}tatic fromUrl(e){return ie(this,void 0,void 0,(function*(){let t=e.baseUrl;if(!t||0===t.length)throw new oe("Invalid baseUrl: '"+t+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(t))throw new oe("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");t.length>0&&"/"!==t[t.length-1]&&(t+="/");let n=new re;if(n.baseUrl=t,e.languageFilename?n.languageFilename=e.languageFilename:n.languageFilename="purposes-[LANG].json",e.version>0){let o=e.versionedFilename;o||(o="archives/vendor-list-v[VERSION].json");let s=t+o.replace("[VERSION]",String(e.version));n.populate(yield ne.fetch(s))}else{let o=e.latestFilename;o||(o="vendor-list.json");let s=t+o;n.populate(yield ne.fetch(s))}return n}))}changeLanguage(e){return ie(this,void 0,void 0,(function*(){const t=e.toUpperCase();if(!this.consentLanguages.has(t))throw new oe(`unsupported language ${e}`);if(t!==this.language){this.language=t;const n=this.baseUrl+this.languageFilename.replace("[LANG]",e);try{this.populate(yield ne.fetch(n))}catch(e){throw new oe("unable to load language: "+e.message)}}}))}ndorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}etVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}EFAULT_LANGUAGE="EN";var ae=window&&window.__awaiter||class ce{constructor(e,t,n){this.cmpApiContext=new $,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=t,this.callResponder=new te(this.cmpApiContext,n)}fireEvent(e,t){this.cmpApiContext.eventQueue.exec(e,t)}fireErrorEvent(e){this.cmpApiContext.eventQueue.exec("error",e)}etEventStatus(){return this.cmpApiContext.eventStatus}setEventStatus(e){this.cmpApiContext.eventStatus=e}getCmpStatus(){return this.cmpApiContext.cmpStatus}setCmpStatus(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}getCmpDisplayStatus(){return this.cmpApiContext.cmpDisplayStatus}etApplicableSections(){return this.cmpApiContext.applicableSections}setApplicableSections(e){this.cmpApiContext.applicableSections=e}tGppString(e){this.cmpApiContext.gppModel.decode(e)}getGppString(){return this.cmpApiContext.gppModel.encode()}etSectionStringById(e,t){this.setSectionString(X.SECTION_ID_NAME_MAP.get(e),t)}getSectionString(e){return this.cmpApiContext.gppModel.encodeSection(e)}getSectionStringById(e){return this.getSectionString(X.SECTION_ID_NAME_MAP.get(e))}etFieldValueBySectionId(e,t,n){this.setFieldValue(X.SECTION_ID_NAME_MAP.get(e),t,n)}etFieldValueBySectionId(e,t){return this.getFieldValue(X.SECTION_ID_NAME_MAP.get(e),t)}getSection(e){return this.cmpApiContext.gppModel.getSection(e)}getSectionById(e){return this.getSection(X.SECTION_ID_NAME_MAP.get(e))}asSectionId(e){return this.hasSection(X.SECTION_ID_NAME_MAP.get(e))}eleteSectionById(e){this.deleteSection(X.SECTION_ID_NAME_MAP.get(e))}dow.WBD=window.WBD||{},window.WM=window.WM||{},function(e,t){if("function"!=typeof e.CustomEvent){var n=n.prototype=e.Event.prototype,e.CustomEvent=n,"function"!==e.Event&&(e.Event=n)}}(window,document),window.WBD.UserConsent=window.WBD.UserConsent||function(e,t){var n,o,s="",i={},r=!1,a=[],c=0,l="",u=null,d=null,p="unknown",g={},S=!1,h="",E="",C="",f="",m={tcfeuv2:2,tcfcav1:5,uspv1:6,uspnatv1:7},I=null,T="",_=null,A=!1,N=!1,O="en",P={binary:!0,boolean:!0,trinary:!0,integer:!0},b="",D=!1,R="4.1.2",w=null,y=!1,V=!1,U=!1,L=!1,v=!1,M=null,x="",G={addtlConsentCookie:"OTAdditionalConsentString",adChoicesLinkAction:"https://www.warnermediaprivacy.com/policycenter/b2c/WMNS/",adChoicesLinkTitle:{ar:"اختيارات الإعلان",en:"Ad Choices",de:"Anzeigenauswahl",es:"Elecciones de anuncios",fr:"Choix d’annonces"},categories:{sc:"required",tpv:"vendor",fc:"functional",mc:"media",pc:"performance",tc:"targeting"},ccCookie:"countryCode",ccpaGeos:["US:CA","US:CO","US:CT","US:UT","US:VA"],confirmCookie:"OptanonAlertBoxClosed",consentChangeAction:null,consentChangeActionDelay:1e3,consentCookie:"OptanonConsent",consentDefaults:{required:!0,vendor:!0,functional:!0,media:!0,performance:!0,targeting:!0},consentExpireIn:1,consentLinkTitle:{ar:"ملفات تعريف الارتباط",de:"Cookie-Einstellungen",en:"Cookie Settings",es:"Configuración de Cookies",fr:"Paramètres des Cookies"},consentNotApplicable:[],controlCookie:"OptanonControl",cookieSameSite:"Lax",cookieSecure:!1,enableDebug:!1,enableGPC:!0,enableTransitionCheck:!0,enableWebViewCheck:!0,defaultCountry:"US",defaultLanguage:"en",defaultState:"",gdprIabCookie:"eupubconsent-v2",geoCheckFunction:null,geoPassedToOneTrust:!0,gppCategories:{uspnatv1:[{field:"SharingNotice",type:"trinary",default:1},{field:"SaleOptOutNotice",type:"trinary",default:1},{field:"SharingOptOutNotice",type:"trinary",default:1},{field:"TargetedAdvertisingOptOutNotice",type:"trinary",default:1},{field:"SharingOptOut",type:"trinary",val:"vendor"},{field:"SaleOptOut",type:"trinary",val:"vendor"},{field:"TargetedAdvertisingOptOut",type:"trinary",val:"targeting"}],uspv1:[{field:"OptOutSale",type:"binary",val:["vendor","targeting"]}]},gppIabCookie:"OTGPPConsent",gppSection:"",iabRegion:"",languageFromBrowser:!0,privacyCenterLinkAction:"https://www.warnermediaprivacy.com/policycenter/b2c/WMNS/",privacyCenterLinkTitle:{ar:"سياسة خصوصية المستهلك",de:"Datenschutzhinweise",en:"Privacy Policy",es:"Política de Privacidad",fr:"Politique de Confidentialité"},regionChangeAction:null,regions:[{id:"us",compatCodes:{req:["sc"],ven:["tpv"]},consentExpireIn:3,consentGpcDefaults:{vendor:!1,targeting:!1},consentImpliedDefaults:{required:!0,functional:!0,media:!0,performance:!0},consentLinkTitle:{ar:"لا تبيع أو تشارك معلوماتي الشخصية",de:"Nicht Verkauf oder Nicht Weitergabe Ihrer personenbezogenen Daten zu stellen",en:"Do Not Sell Or Share My Personal Information",es:"No Venda Vi Comparta Mi Información Personal",fr:"Ne pas vendre ni partager mes informations personnelles"},geoMatch:["US:CA","US:CO","US:CT","US:UT","US:VA"],gppSection:"uspnatv1",iabRegion:"ccpa"},{id:"gdpr",consentDefaults:{functional:!1,media:!1,performance:!1,targeting:!1},consentImpliedDefaults:{vendor:!0},consentLinkTitle:{ar:"إدارة ملفات تعريف الارتباط+",de:"Cookies Verwalten+",en:"Manage Cookies+",es:"Administrar cookies+",fr:"Gérer les Cookies+"},geoMatch:["GB","DE","FR","IT","ES","PL","RO","NL","BE","GR","CZ","PT","SE","HU","AT","BG","DK","FI","SK","IE","HR","LT","SI","LV","EE","CY","LU","MT","NO","IS","LI"]},{id:"other-optin",consentDefaults:{functional:!1,media:!1,performance:!1,targeting:!1},consentImpliedDefaults:{vendor:!0},geoMatch:["CO","UY","PE","AR","CR","CL"]},{id:"other-optout",consentImpliedDefaults:{vendor:!0},geoMatch:["MX","PY","BR","VE","NI"]},{id:"global",geoMatch:["*"],useFixedConsent:!0}],reloadOnConsentChange:!0,reloadOnConsentReduction:!1,scCookie:"stateCode",setPageClass:!1,src:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",strictIabCompliance:!1,ucFlavor:"basic",useFixedConsent:!1,useGPP:!0,useIAB:!0,useIabString:!0,uspApiCookieName:"usprivacy",uspApiExplicitNotice:!0,uspApiIsLspa:!1};function k(e){const t=Array.prototype.slice.call(arguments);t[0]="[WMUC]"+(0===h.length?"":" ("+h+")")+":","error"===e?console.error.apply(console,t):console.log.apply(console,t)}function F(e){const n=t.cookie.match(new RegExp("(^|;) *"+e+" *= *([^;]+)"));return n?n.pop():null}function B(e,n,o){e&&(o=o||{},t.cookie=e+"="+("string"==typeof n?n:"")+"; Domain="+(o.domain||i.cookieDomain)+"; Path="+(o.path||"/")+(o.maxage?"; Max-Age="+o.maxage:o.expires?"; Expires="+o.expires:"")+(o.secure?"; Secure":"")+(o.samesite?"; SameSite="+o.samesite:""))}function W(e){let t=!1;for(let n=0;n<e.length;n++)if(e[n])if(E===e[n]||f===e[n]||"*"===e[n]||e[n]===i.regId)t=!0;else if("!"===e[n].charAt(0)){let o=e[n].substring(1);if(E===o||f===o||i.regId===o){t=!1;break}}return t}function H(e,t){let n=t?new Date(t):new Date;return n.setUTCFullYear(n.getUTCFullYear()+e),n}function j(e){let t;return t="object"==typeof e&&null!==e?e[O]||e[i.defaultLanguage]||"":"string"==typeof e?e:"",t}function Y(e){let t={};for(let o=0;o<n.length;o++)t[n[o]]=e[n[o]];return t}function Q(e,t){if(t){e=e||{};for(let o=0;o<n.length;o++)"boolean"==typeof t[n[o]]&&(e[n[o]]=t[n[o]])}return e}function J(){if(!A){if(e.OneTrust&&"function"==typeof e.OneTrust.getGeolocationData){let t=e.OneTrust.getGeolocationData();!t||t.country===E&&t.state===C?A=!0:"function"==typeof e.OneTrust.setGeoLocation?(e.OneTrust.setGeoLocation(E,C),A=!0):e.OneTrustStub&&"function"==typeof e.OneTrustStub.setGeoLocation&&(e.OneTrustStub.setGeoLocation(E,C),A=!0)}else e.OneTrustStub&&"function"==typeof e.OneTrustStub.setGeoLocation&&(e.OneTrustStub.setGeoLocation(E,C),A=!0);S&&k("debug",A?"Set OneTrust geo-location.":"Not yet able to set OneTrust geo-location.")}}function q(e,t,o){let s=I.getFieldValue(e,t.field),r=t.type.toLowerCase(),a=(e,t,s)=>{const r="string"==typeof t?[t]:t,a="boolean"===s?e:"trinary"===s?2===e:0!==e;for(let e of r)(0===i.consentNotApplicable.length||i.consentNotApplicable.indexOf(e)<0)&&(n.indexOf(e)>=0&&i.consentNotApplicable.indexOf(e)<0?o[e]=a:k("error",'Invalid consent "'+e+'" specified in GPP Categories!'))};if(r.startsWith("array"))if(r=r.substring(6),P[r]&&t.maxCount&&Array.isArray(s))for(let e=0;e<t.maxCount;e++)t[e]&&a(s[e],t[e],r);else k("error",'Error: Unparsable data type "'+r+'" or missing maxCount in GPP Categories "'+t.field+'" value!');else t.val&&(P[r]?a(s,void 0!==t.val?t.val:t.default,r):k("error",'Error: Unparsable data type "'+r+'" in GPP Categories!'))}function z(e,t,o){let s=I.getFieldValue(e,t.field),i=t.type.toLowerCase(),r=(e,t)=>{const s="string"==typeof e?[e]:e;let i=0,r=!0;for(let e of s)n.indexOf(e)>=0?void 0!==o[e]&&(r=r&&o[e],i++):k("error",'Invalid consent "'+e+'" specified in GPP Categories!');return i>0?"boolean"===t?r:"trinary"===t?r?2:1:r?1:0:"boolean"!==t&&0};try{if(i.startsWith("array")){if(i=i.substring(6),!P[i])throw"unparse";if(!t.maxCount||!Array.isArray(s))throw"badarray";for(let e=0;e<t.maxCount;e++)t[e]?s[e]=r(t[e],i):t.default&&void 0!==t.default[e]&&(s[e]=t.default[e])}else{if(!P[i])throw"unparse";t.val?s=r(t.val,i):void 0!==t.default&&(s=t.default)}I.setFieldValue(e,t.field,s)}catch(e){k("error","unparse"===e?'Error: Unparsable data type "'+i+'" in GPP Categories!':"badarray"===e?'Error: Missing maxCount or bad array in GPP Categories "'+t.field+'" value!':'Failed to set GPP field "'+t.field+'" value!')}}function X(t){const n=i.gppSection;let o="string"==typeof t?t:"",s="CMP",r=null;if(""===o&&(i.useExternalConsent?(o=e.OTExternalConsent.gppString||"",s="external consent"):(o=function(e){let t;if(null===(t=F(e))){t="";for(let n=1,o=null;""!==o&&n<10;n++,t+=o)o=F(e+n.toString(10))||""}return t}(i.gppIabCookie)||"",s="cookie")),""===o)return S&&k("debug","No GPP string present."),null;if(I.setGppString(o),!I.hasSection(n)||!Array.isArray(i.gppCategories[n]))return S&&k("debug","GPP string present, but for different region/section."),null;I.setApplicableSections([m[n]]),I.setCurrentAPI(n);const a=i.gppCategories[n];r=Y(i.consentDefaults);for(let e of a)"object"==typeof e&&null!==e&&e.field&&q(n,e,r);return i.useExternalConsent||(I.getFieldValue(n,"GpcSegmentIncluded")&&!I.getFieldValue(n,"Gpc")===V&&(I.setFieldValue(n,"Gpc",V),o=I.getGppString()),V&&(r=Q(r,i.consentGpcDefaults))),o!==T&&(T=o),S&&k("debug","Processed GPP string from "+s+": "+T),r}function K(e,t){const n=i.gppSection;if("string"==typeof e&&""!==e)try{I.setGppString(e),(T=e)&&I.hasSection(n)&&(I.setApplicableSections([m[n]]),I.setCurrentAPI(n)),S&&k("debug","GPP string set from CMP: ",e)}catch(e){return k("error","Failed to set GPP string: ",e),!1}else{if("object"!=typeof t||null===t||!Array.isArray(i.gppCategories[i.gppSection]))return k("error","Failed to set GPP string, invalid parameters."),!1;try{if(T||(I.setApplicableSections([m[n]]),I.setCurrentAPI(n)),Array.isArray(i.gppCategories[n])){const e=i.gppCategories[n];for(let o of e)"object"==typeof o&&null!==o&&o.field&&z(n,o,t)}V&&I.setFieldValue(n,"Gpc",V),(T=I.getGppString())&&I.hasSection(n)&&(I.setApplicableSections([m[n]]),I.setCurrentAPI(n)),S&&k("debug","GPP string set from consent state: ",T)}catch(e){return k("error","Failed to set GPP string: ",e),!1}}return!0}function $(t){let n;return i.useExternalConsent||function(){let e=F(i.consentCookie);if(e&&e.indexOf("&groups=")>=0){const t=e.split("&");for(let e=0;e<t.length;e++){let n=t[e];if(n){let e=n.split("="),t=e[0],o=e[1];"version"===t&&o&&(p=o)}}return!0}return!1}()||(r=!1,d=null),!r||i.useFixedConsent?(n=Y(i.consentDefaults),l="defaults"):!0!==i.useExternalConsent&&v&&i.gppIabCookie&&(n=X(t))?l=t?"gpp string":i.gppIabCookie+" cookie":!0!==i.useExternalConsent&&L&&i.gdprIabCookie&&(i.gdprIabCookie,i.addtlConsentCookie,n=null)?l=i.gdprIabCookie+" cookie":(n=function(){let t=F(i.consentCookie),n=null;if(i.useExternalConsent&&(t="groups="+encodeURIComponent(e.OTExternalConsent.groups),V=!1),t&&t.indexOf("&groups=")>=0){const e=t.split("&");for(let t=0;t<e.length;t++){let o=e[t];if(o){let e=o.split("="),t=e[0],s=e[1];if("groups"===t&&s){let e=decodeURIComponent(s).split(","),t=[],o=[],r=0,a=!1;n=Q(Y(i.consentDefaults),i.consentImpliedDefaults);for(let s=0;s<e.length;s++){let c=e[s].split(":"),l=c[0].toLowerCase(),u="1"===c[1];l&&(i.categories[l]?(n[i.categories[l]]=u,"required"!==i.categories[l]&&r++):(i.compatTransition&&i.compatTransition.old===l&&i.compatTransition.cond===u&&(a=!0),i.compatCodes[l]&&(t.push(l),o.push(u))))}if(0===r&&t.length>0){y=!0;for(let e=0;e<t.length;e++){let s=i.compatCodes[t[e]];s&&!Array.isArray(s)&&(s=[s]);for(let t of s){let s=i.categories[t];s&&(n[s]=o[e],r++)}}}else if(a&&i.compatTransition.new)if(Array.isArray(i.compatTransition.new))for(let e=0;e<i.compatTransition.new.length;e++)n[i.categories[i.compatTransition.new[e]]]=i.compatTransition.cond,r++;else n[i.categories[i.compatTransition.new]]=i.compatTransition.cond,r++;0===r&&(n=null)}}}}return n}())?l=i.useExternalConsent?"external consent":i.consentCsentDefaults),l="defauY(u)}function ee(){return D}function te(){return!1===D}function ne(){return N}function oe(){return null!==u}function se(e,t){const n="iab-"+(i.iabRegion||"N/A"),o="gpp-"+(i.gppSection||"N/A");let s=!0,r="not ready";if(t=t||{},oe()&&e){e=Array.isArray(e)?e:[e];for(let a=0;a<e.length&&s;a++)if(r=e[a],r&&"required"!==r)if("gpp"===r||"iab-gpp"===r||r===o){if(v&&(!t||!t.ignoreIAB))break}else if("iab"===r||r===n){if(i.useIAB&&""!==i.iabRegion&&(!t||!t.ignoreIAB))break}else if("boolean"==typeof u[r]&&!1===u[r])s=!1;else if(i.compatCategories[r]){let e=i.compatCategories[r];for(let t=0;t<e.length;t++){let n=e[t];if("boolean"==typeof u[n]&&!1===u[n]){s=!1;break}}}}return S&&!t.internal&&(t.name=t.name||t.id||"unnamed",a.push({ts:new Date,act:t.cact||"CHK",desc:t.name,res:s,note:!s&&r||""}),k("debug",s?"Check for consent ["+(e&&e.join(",")||"empty")+'] ALLOWS "'+t.name+'"'+("ADD"===t.cact?", script added":""):"Check for consent ["+(e&&e.join(",")||"empty")+'] REJECTS "'+t.name+'"'+("ADD"===t.cact?", script NOT added":""))),s}function ie(){let e;return e=U?"1"+(i.uspApiExplicitNotice?"Y":"N")+(se(["vendor"],{internal:!0})?"N":"Y")+(i.uspApiIsLspa?"Y":"N"):"1---",te()&&e!==x&&(x=e,null===M&&B(i.uspApiCookieName,e,{domain:i.cookieDomain,path:"/",samesite:i.cookieSameSite,secure:i.cookieSecure}),S&&k("debug","USP string updated: ",e)),x}function re(){if(t.body){let n,s=t.createElement("div");s.id="onetrust-consent-sdk",s.style.width="1px",s.style.display="block",s=t.body.appendChild(s),n=e.getComputedStyle(s),(o="none"===n.display)&&(S&&k("debug","OneTrust being blocked by filter."),t.dispatchEvent(new CustomEvent("oneTrustBlocked",{bubbles:!1,cancee:new Date,consentConfirmed:r}}))),s.remove()}else setTimeout(re.bind(e),5)}function ae(){e.location.reload()}function le(n){if(!e.frames[n]){if(t.body){const e=t.createElement("iframe");e.style.cssText="display:none",e.name=n,t.body.appendChild(e)}else setTimeout(le.bind(e,n),5);return!0}return!1}function ue(t){let nak}return n}function de(t){e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t)}function pe(e){g=e||{ccpaTCS:x,consentInteractions:c,consentTime:d,consentVersion:p,countryCode:E,region:i.regId,stateCode:C,userConsentVersion:R},te()&&B(i.controlCookie,"ccc="+g.countryCode+"&csc="+g.stateCode+"&cic="+g.consentInteractions+"&otvers="+g.consentVersion+"&pctm="+(g.consentTime&&encodeURIComponent(g.consentTime.toISOString())||"0")+"&reg="+g.region+"&ustcs="+encodeURIComponent(g.ccpaTCS)+"&vers="+g.userConsentVersion,{domain:i.cookieDomain,expires:H(i.consentExpireIn).toUTCString(),path:"/",samesite:i.cookieSameSite,secure:i.cookieSecure})}function ge(){const t=F(i.confirmCookie);if("string"==typeof t&&0!==t.length){let n=new Date(t);if(!e.isNaN(n.valueOf()))return n}return null}function Se(){const o=ge(),l=r,h=d;let E,C="",f=!1,m=!1;if(o&&(null===d||o>d)&&(r=!0,d=o),v&&e.__gpp){let t=e.__gpp("ping");t&&0!==t.cmpId&&(t.gppString||(t=e.__gpp("getGPPData"),t&&t.gppString&&(C=t.gppString)))}E=$(C);for(let e of n)if(E[e]!==u[e]&&(f=!0,!0!==E[e])){m=!0;break}if(f||!l&&r){const n=e.WBD.UserConsent_wrapproc>0?new Date(e.WBD.UserConsent_wrapproc):null;let o;if(c++,n&&(null===d||n.getTime()>d.getTime()+i.consentChangeActionDelay+1e3)&&(d=n),o=u,u=E,ie(),v&&K(C,E),pe(),f){if(S)try{a.push({ts:new Date,act:"CHG",desc:JSON.stringify(E),res:i.reloadOnConsentChange||i.reloadOnConsentReduction&&m,note:"function"==typeof i.consentChangeAction?"change function":""})}catch(e){k("error","Failed to track consent change: ",e)}if("function"==typeof i.consentChangeAction&&i.consentChangeAction(Z(),i.regId,p,o),t.dispatchEvent(new CustomEvent("userConsentChanged",{bubbles:!1,cancelable:!1,detail:{region:i.regId,time:d,old:o,new:Z(),gpp:T,usp:x,tcf:b,acf:s}})),i.reloadOnConsentChange||m&&i.reloadOnConsentReduction)setTimeout(ae,100);else if(te())try{e.sessionStorage.setItem("_ucWBDCons",JSON.stringify({consentState:u,consentTime:d,consentVersion:p,iabIsGlobal:!1})),e.postMessage("_ucWBDConsReset","*")}catch(e){k("error","Failed to update session storage and notify children of consent change: ",e)}}}if(!f&&e.WBD.UserConsent_optLoaded){try{a.push({ts:new Date,act:"NCC",desc:JSON.stringify(u),res:!1,note:i.regId})}catch(e){k("error","Failed to track consent no-change: ",e)}d=h,(!g.region||!g.consentVersion&&p||!g.userConsentVersion||g.userConsentVersion<"3.1.1")&&pe(),t.dispatchEvent(new CustomEvent("userConsentNotChanged",{bubbles:!1,cancelable:!1,detail:{region:i.regId,time:d,old:Z(),gpp:T,usp:x,tcf:b,acf:s}}))}e.WBD.UserConsent_optLoaded=!0,e.WBD.UserConsent_wrapproc=0}function he(o){const s=t.createElement("script");let P,b,R,x=!1,B=null;if(null!==u)return;if(o.regId="",R=ue("_usrConWBD"),null!==R){let t,s;h=e.name||"child";try{t=JSON.parse(e.sessionStorage.getItem("_ucWBDConf"))}catch(e){t=null,k("error","Failed to parse parent frame consent settings.")}if("object"==typeof t&&null!==t){o.countryCode=t.countryCode,o.cookieDomain=t.cookieDomain,o.cookieSameSite=t.cookieSameSite,o.cookieSecure=t.cookieSecure,o.domId=t.domId,o.languageFromBrowser=!!t.langFromBrowser,o.enableDebug=!!t.enableDebug,o.enableGPC=!!t.enableGPC,o.regId=t.regId,o.stateCode=t.stateCode,o.src=t.src;try{s=JSON.parse(e.sessionStorage.getItem("_ucWBDCons"))}catch(e){s=null,k("error","Failed to parse parent frame consent state.")}"object"==typeof s&&null!==s&&(u=s.consentState,d=s.consentTime,p=s.consentVersion,D=!0),t.parentReload||de((function(t){var o,s;if("_ucWBDConsReset"===t.data){try{s=e.sessionStorage.getItem("_ucWBDCons")}catch(e){s=null}"object"==typeof s&&null!==s&&(o=function(e,t){if(e&&t)for(let o=0;o<n.length;o++)if(e[n[o]]&&!t[n[o]])return!0;return!1}(u,s.consentState),u=s.consentState,d=s.consentTime,p=s.consentVersion,ie(),(i.reloadOnConsentChange||o&&i.reloadOnConsentReduction)&&setTimeout(ae,100))}}))}}if(!o||!o.domId||!o.cookieDomain)throw new Error("Invalid config passed to user-consent!");if(void 0===o.gppCategories)o.gppCategories=G.gppCategories;else{for(b in o.gppCategories)"usnat"===b?(o.gppCategories.uspnatv1=o.gppCategories.usnat,delete o.gppCategories.usnat):m[b]||(k("error",'Error: Unsupported GPP section "'+b+'" ignored.'),delete o.gppCategories[b]);for(b in G.gppCategories)o.gppCategories[b]=o.gppCategories[b]||G.gppCategories[b]}for(b in G)i[b]=void 0!==o[b]?o[b]:G[b];if(G=null,i.cookieDomain=o.cookieDomain,i.domId=o.domId,i.changeRegions=o.changeRegions,S=!(!console||!o.enableDebug&&-1===e.location.search.search(/[?&]wmuc_debug=[1t]/)),i.strictIabCompliance=!!i.strictIabCompliance,"string"==typeof o.countryCode&&2===o.countryCode.length&&(i.countryCode=o.countryCode),"string"==typeof o.stateCode&&2===o.stateCode.length&&(i.stateCode=o.stateCode),"object"==typeof e.GetExternalConsent&&null!==e.GetExternalConsent&&"function"==typeof e.GetExternalConsent.oneTrustCookie){let t;try{t=JSON.parse(e.GetExternalConsent.oneTrustCookie())}catch(e){t=null}"object"==typeof t&&null!==t&&t.consentedDate&&(t.gppString||t.tcString||t.groups)&&(t.gppString=t.gppString||"",e.OTExternalConsent=t),"function"==typeof e.GetExternalConsent.countryCode&&e.GetExternalConsent.countryCode()&&(e.ExternalConsentGeo={countryCode:e.GetExternalConsent.countryCode(),stateCode:e.GetExternalConsent.stateCode()||""})}i.enableWebViewCheck&&"object"==typeof e.OTExternalConsent&&null!==e.OTExternalConsent&&e.OTExternalConsent.consentedDate?(i.useExternalConsent=!0,S&&k("debug","Reading consent from external consent data: ",e.OTExternalConsent)):i.useExternalConsent=!1;const H="function"==typeof i.geoCheckFunction?i.geoCheckFunction():null;if(te()&&S&&-1!==e.location.search.search(/[?&]wmuc_cc=[A-Za-z]{2}/))k("debug","Set debug CC to: ",E=e.location.search.match(/[?&]wmuc_cc=([A-Za-z]{2})/)[1].toUpperCase());else if(i.useExternalConsent&&"object"==typeof e.ExternalConsentGeo&&"string"==typeof e.ExternalConsentGeo.countryCode&&2===e.ExternalConsentGeo.countryCode.length)E=e.ExternalConsentGeo.countryCode.toUpperCase();else if("string"==typeof i.countryCode&&2===i.countryCode.length)E=i.countryCode.toUpperCase();else if(H&&H.countryCode&&2===H.countryCode.length)E=H.countryCode.toUpperCase();else{const e=F(i.ccCookie||"countryCode");e&&2===e.length&&(E=e.toUpperCase())}if(E&&2===E.length||k("error","User-Consent unable to determine country, missing or invalid cookies!  Using default ("+(E=i.defaultCountry&&2==i.defaultCountry.length?i.defaultCountry.toUpperCase():"US")+")."),S&&-1!==e.location.search.search(/[?&]wmuc_sc=[A-Za-z]{2}/))k("debug","Set debug SC to: ",C=e.location.search.match(/[?&]wmuc_sc=([A-Za-z]{2})/)[1].toUpperCase());else if(i.useExternalConsent&&"object"==typeof e.ExternalConsentGeo&&"string"==typeof e.ExternalConsentGeo.stateCode&&2===e.ExternalConsentGeo.stateCode.length)C=e.ExternalConsentGeo.stateCode.toUpperCase();else if("string"==typeof i.stateCode&&2===i.stateCode.length)C=i.stateCode.toUpperCase();else if(H&&H.countryCode&&2===H.countryCode.length)C="string"==typeof H.stateCode?H.stateCode.toUpperCase():"";else{const e=F(i.scCookie||"stateCode");e&&2===e.length&&(C=e.toUpperCase())}if(C&&0!==C.length||(C=i.defaultState&&i.defaultState.length>0?i.defaultState.toUpperCase():"",S&&k("debug","User-Consent unable to determine state.  Using default ("+C+").")),f=E+":"+C,te()){!A&&i.geoPassedToOneTrust&&(e.OneTrust=e.OneTrust||{},e.OneTrust.geolocationResponse={countryCode:E,stateCode:C});let t=function(t){i.geoPassedToOneTrust&&J(),N&&!i.useExternalConsent&&null!==u&&0===e.WBD.UserConsent_wrapproc&&(e.WBD.UserConsent_wrapproc=(new Date).getTime(),S&&k("debug","Consent changed event handler determining consent changes."),setTimeout(Se,i.consentChangeActionDelay))};e.addEventListener?e.addEventListener("consent.onetrust",t,!1):e.attachEvent("consent.onetrust",t)}P=Object.keys(i.categories),n=[];for(let e=0;e<P.length;e++)n.push(i.categories[P[e]]);if(i.changeRegions){for(let e of["remove","replace","insert"])if(i.changeRegions[e]&&Array.isArray(i.changeRegions[e])&&0!==i.changeRegions[e].length){b=i.changeRegions[e];for(let t=0;t<b.length;t++)if("object"==typeof b[t]&&null!==b[t]&&b[t].id){let n=i.regions.length,o=b[t],s="insert"===e&&o.insertAfter?o.insertAfter:o.id,r=0;e:for(;r<n&&(!i.regions[r]||!i.regions[r].id||i.regions[r].id!==s);r++);"remove"===e?r<n&&delete i.regions[r]:"replace"===e?r<n&&(i.regions[r]=o):"insert"===e&&(r<n?o.insertAfter?(delete o.insertAfter,i.regions.splice(r+1,0,o)):i.regions[r]=o:(delete o.insertAfter,i.regions.splice(r+1,0,o)))}}delete i.changeRegions}for(let e=0;e<i.regions.length;e++)if(i.regions[e]&&i.regions[e].id&&i.regions[e].geoMatch){if(te()&&W(i.regions[e].geoMatch)||ee()&&i.regions[e].id===i.regId){B=i.regions[e];break}}else k("error","Invalid region, missing id or geoMatch!");if(!B){if(ee())throw new Error("No matching user-consent region, parent and iframe configs do not match!");throw new Error("No matching user-consent region!")}i.regId=B.id,i.defaultLanguage=(B.defaultLanguage||i.defaultLanguage).toLowerCase();try{let n="";i.languageFromBrowser||(n=t.getElementsByTagName("html")[0].getAttribute("xml:lang")||t.documentElement.lang||i.defaultLanguage),n||(n=e.navigator.language||i.defaultLanguage),O=n?n.substr(0,2).toLowerCase():"en"}catch(e){O="en"}if(S&&-1!==e.location.search.search(/[?&]wmuc_lang=[A-Za-z]{2}/)){let t=e.location.search.match(/[?&]wmuc_lang=([A-Za-z]{2})/)[1].toLowerCase();x=O!==t,k("debug","Set debug Language to: ",O=t)}if(i.adChoicesLinkAction=B.adChoicesLinkAction||i.adChoicesLinkAction||null,i.adChoicesLinkTitle=j(B.adChoicesLinkTitle||i.adChoicesLinkTitle),i.compatTransition=i.enableTransitionCheck&&B.compatTransition?B.compatTransition:null,i.compatCategories=B.compatCategories||i.compatCategories||{},i.compatCodes=B.compatCodes||i.compatCodes||{},i.consentExpireIn=B.consentExpireIn||i.consentExpireIn||1,i.consentLinkAction=B.consentLinkAction||i.consentLinkAction||null,i.consentLinkTitle=j(B.consentLinkTitle||i.consentLinkTitle),i.confirmCookie=B.confirmCookie||i.confirmCookie,i.consentCookie=B.consentCookie||i.consentCookie,i.addtlConsentCookie=B.addtlConsentCookie||i.addtlConsentCookie,B.consentDefaults&&(i.consentDefaults=Q(i.consentDefaults,B.consentDefaults)),i.consentGpcDefaults=B.consentGpcDefaults||i.consentGpcDefaults||null,i.consentImpliedDefaults=B.consentImpliedDefaults||i.consentImpliedDefaults||{},i.consentImpliedDefaults.required||(i.consentImpliedDefaults.required=!0),i.consentNotApplicable=B.consentNotApplicable||i.consentNotApplicable||[],i.consentNotApplicable&&Array.isArray(i.consentNotApplicable)&&0!==i.consentNotApplicable.length)for(let e of i.consentNotApplicable)void 0!==i.consentDefaults[e]&&delete i.consentDefaults[e],void 0!==i.consentImpliedDefaults[e]&&delete i.consentImpliedDefaults[e];if(i.useFixedConsent="boolean"==typeof B.useFixedConsent?B.useFixedConsent:i.useFixedConsent,i.domId=B.domId||i.domId,i.src=B.src||i.src,i.gdprIabCookie=B.gdprIabCookie||i.gdprIabCookie,i.tcfOpts=B.tcfOpts||i.tcfOpts||null,i.privacyCenterLinkAction=B.privacyCenterLinkAction||i.privacyCenterLinkAction||null,i.privacyCenterLinkTitle=j(B.privacyCenterLinkTitle||i.privacyCenterLinkTitle),i.useIAB&&(i.iabRegion=("string"==typeof B.iabRegion&&B.iabRegion||i.iabRegion).toLowerCase(),"ccpa"===i.iabRegion?U=!0:"gdpr"===i.iabRegion&&i.tcfOpts?L=!0:i.iabRegion&&"gpp"!==i.iabRegion&&k("error",'Error: Invalid IAB region "'+i.iabRegion+'" specified for region "'+i.regId+'", IAB not enabled for region!')),i.useGPP&&(i.gppSection=("string"==typeof B.gppSection&&B.gppSection||i.gppSection).toLowerCase(),i.gppSection="usnat"===i.gppSection?"uspnatv1":i.gppSection,i.useGPP&&i.gppSection&&(m[i.gppSection]&&i.gppCategories[i.gppSection]?(v=!0,U&&i.ccpaGeos&&!W(i.ccpaGeos)&&(U=!1)):k("error",'Error: Invalid GPP section "'+i.gppSection+'" specified for region "'+i.regId+'", IAB/GPP not enabled for region!'))),v||U||L||(i.iabRegion="",i.gppSection="",i.useIAB=!1,i.useGPP=!1),i.enableGPC&&i.consentGpcDefaults&&navigator.globalPrivacyControl&&(V=!0),i.setPageClass&&t.documentElement&&(t.documentElement.className=(t.documentElement.className&&" "!==t.documentElement.className?t.documentElement.className+" userconsent-cntry-":"userconsent-cntry-")+E.toLowerCase()+" userconsent-state-"+C.toLowerCase()+" userconsent-reg-"+i.regId.toLowerCase()+(V?" userconsent-gpc":"")),S&&(k("debug","GeoIP Country Code: "+E+", using consent region: "+i.regId),k("debug","IAB "+(i.useIAB?"enabled":"disabled"))),(v|r.callId};try{n.source.postMessage(o?JSON.stringify(i):i,"*")}catch(e){k("error","Failed to post reply: ",e)}};try{i=o?JSON.parse(n.data):n.data}catch(e){i={}}"object"==typeof i&&null!==i&&i[s]&&(r=i[s],"__gpp"===t?e.__gpp(r.command,a,r.parameter,r.versionnsent.getUspAPIstring()},!0),!0;if("ping"===t)return o({version:1,uspapiLoaded:!0},!0),!0;o(null,!1)}return!1},e.__uspapi.msgHandler=o.bind(e,"__uspapi"),de(e.__uspapi.msgHandler),S&&k("debug","IAB for CCPA ready.")):S&&k("debug","IAB for CCPA ready (via frame)."),L&&(t="__tcfapi",n="2.0",null===(w=ue(t+"Locator"))&&"function"!=typeof e[t]?(le(t+"Locator"),e[t]=function(){let o=arguments;return e[t].a=e[t].a||[],o.length>0&&("ping"===o[0]?o[2]({apiVersion:n,gdprApplies:!0,gdprAppliesGlobally:!1,cmpLoaded:!1,cmpStatus:"stub",displayStatus:"hidden"},!0):"setGdprApplies"===o[0]&&o.length>3&&"boolean"==typeof o[3]?(L=o[3])&&U&&(U=!1):e[t].a.push([].slice.apply(o))),e[t].a},e[t].msgHandler=o.bind(e,t),de(e[t].msgHandler),S&&k("debug","IAB (v"+n+") for GDPR ready."),e[t]("getTCData",0,e.OptanonWrapper)):w&&S&&k("debug","IAB (v"+n+") for GDPR ready (via frame).")),v&&(t="__gpp",n="1.0"")||e.__gpp?S&&k("debug","IAB for GPP ready (via frame)."):(le("__gppLocator"),e.__gpp=function(){return null},(I=I||new ce(0,1)).setCmpStatus("loading"),_=e.__gpp,e.__gpp.msgHandler=o.bind(e,"__gpp"),de(e.__gpp.msgHandler),S&&k("debug","IAB for GPP ready.")))}(),te()){let t;if(g=function(){const e=F(i.controlCookie),t={consentInteractions:c,consentTime:null,consentVersion:"",countryCode:"",region:"",stateCode:"",userConsentVersion:""};if("string"==typeof e&&0!==e.length){const n=e.split("&");for(let e=0;e<n.length;e++){let o=n[e].split("=");if("string"==typeof o[0]&&0!==o[0].length&&"string"==typeof o[1])switch(o[0]){case"ccc":t.countryCode=o[1].toLowerCase();break;case"csc":t.stateCode=o[1].toLowerCase();break;case"cic":t.consentInteractions=parseInt(o[1],10),(isNaN(t.consentInteractions)||t.consentInteractions<c)&&(t.consentInteractions=c);break;case"otvers":t.consentVersion=o[1].toLowerCase();break;case"pctm":let e;try{e="0"===o[1]?null:new Date(decodeURIComponent(o[1]))}catch(t){e=null}t.consentTime=null===e||isNaN(e.valueOf())?null:e;break;case"reg":t.region=o[1].toLowerCase();break;case"ustcs":try{t.ccpaTCS=decodeURIComponent(o[1]).toUpperCase()}catch(e){t.ccpaTCS=""}break;case"vers":t.userConsentVersion=o[1].toLowerCase()}}}return t}(),c=g.consentInteractions,i.useExternalConsent)try{d=new Date(e.OTExternalConsent.consentedDate),V=!1,S&&k("debug","Consent time read from external consent data: ",d)}catch(e){k("error","Consent Date from external consent data is invalid."),d=null}else d=ge(),null!==g.consentTime&&(null===d||g.consentTime>d)?(d=g.consentTime,S&&k("debug",'Consent time read from "'+i.controlCookie+'": ',d)):null!==d&&S&&k("debug",'Consent time read from "'+i.confirmCookie+'": ',d);if(t=S&&V?" [GPC override]":"",null!==d?(r=!0,u=$(),r?(s.async=!0,null!==g.consentTime&&g.consentTime<d&&(g.region=""),S&&(k("debug","Consent state read from "+l+" ("+p+")"+t+": ",u),y&&k("debug","Consent state using compatibility config."))):(d=null,g.region="",S&&k("debug","Consent state expired or removed, reset from defaults"+t+": ",u))):(u=Y(i.consentDefaults),V&&(u=Q(u,i.consentGpcDefaults)),S&&k("debug","Consent state from defaults"+t+": ",u)),v&&!T&&K("",u),S)try{a.push({ts:new Date,act:"SET",desc:JSON.stringify(u),res:null!==d,note:i.regId})}catch(e){k("error","Failed to track setting initial consent: ",e)}}if(e.WBD.UserConsent_initted)k("error","ERROR:  Second instance of UserConsent initialized!");else{if(e.WBD.UserConsent_initted=!0,ie(),te()){if(i.useExternalConsent?pe():g.region&&g.region!==i.regId&&(q=g.region,z=i.regId,S&&k("debug",'User-Consent detected region change from "'+q+'" to "'+z+'".'),"function"==typeof i.regionChangeAction&&i.regionChangeAction(q,z,i.consentLinkAction)),null===R&&le("_usrConWBD"))try{e.sessionStorage.setItem("_ucWBDConf",JSON.stringify({cookieDomain:i.cookieDomain,cookieSameSite:i.cookieSameSite,cookieSecure:i.cookieSecure,countryCode:E,domId:i.domId,enableDebug:S,langFromBrowser:i.languageFromBrowser,parentReload:i.reloadOnConsentChange,regId:i.regId,src:i.src,stateCode:C})),e.sessionStorage.setItem("_ucWBDCons",JSON.stringify({consentState:u,consentTime:d,consentVersion:p,iabIsGlobal:!1}))}catch(e){k("error","Failed to set UserConsent frame data!")}s.charset="utf-8",i.languageFromBrowser&&!x||(s.dataset.documentLanguage="true",x&&(s.dataset.language=O)),s.dataset.domainScript=i.domId,s0].appendChild(s)}var q,z;S&&v&&e.__gpp&&e.__gpp("addEventListener",(function(e,t){k("debug","GPP event: ",e)})),re(),S&&k("debug","Dispatching UserConsentReady event."),t.dispatchEvent(new CustomEvent("userConsentReady",{bubbles:!1,cancelable:!1,detail:{region:i.regId,time:new Date,consentConfirmed:r}}))}}return e.WBD.UserConsent_loaded?k("error","ERROR:  Second instance of UserConsent loaded!"):(e.WBD.UserConsent_loaded=!0,e.WBD.UserConsent_optLoaded=!1,e.WBD.UserConsent_wrapproc=0,e.OptanonWrapper=function(){if(!N){if(N=!0,i.geoPassedToOneTrust&&J(),v){let t="function"==typeof e.__gpp?e.__gpp("ping",(function(){})):null;t&&t.cmpStatus||(e.__gpp=_,t=e.__gpp("ping",(function(){}))),0===t.cmpId?(v=!1,S&&k("debug","OneTrust did NOT initialize GPP for this region."),I&&(I.setCmpStatus("error"),I.fireErrorEvent("CMP did not initialize GPP for this region."))):(t=e.__gpp("getGPPData"),t&&t.gppString&&K(t.gppString,null))}S&&k("debug","Dispatching OptanonLoaded event."),t.dispatchEvent(new CustomEvent("optanonLoaded",{bubbles:!1,cancelable:!1,detail:{region:i.regId,time:new Date,med:r}})),i.useExternalConsent&&!e.Optanon.IsAlertBoxClosed()&&e.Optanon.Close(),e.OptanonWrapper=function(){}}},"object"==typeof e.WBD.UserConsentConfig&&null!==e.WBD.UserConsentConfig?he(e.WBD.UserConsentConfig):"object"==typeof e.WM.UserConsentConfig&&null!==e.WM.UserConsentConfig&&he(e.WM.UserConsentConfig)),{addScript:function(e,n,o,s){if(e&&(e.src||e.text)){const i={cact:"ADD",name:e.name||e.src||e.id||"unnamed inline"},r=o||t.head,c=s||["*"];if(!W(c))return S&&(a.push({ts:new Date,act:"ADD",desc:i.name,res:!1,note:"Not in script region"}),k("debug","Check for region ["+(c.join(",")||"empty")+'] REJECTS "'+i.name+'", script NOT added')),!1;if(se(n,i)){const n=t.createElement("script"),o=Object.keys(e);for(let t=0;t<o.length;t++)n[o[t]]=e[o[t]];return r.appendChild(n),!0}}else k("error","Invalid or missing options to addScript.");return!1},addScriptElement:function(e,n,o,s){if(e){const i={cact:"ADD",name:e.name||e.src||e.id||"unnamed inline"},r=o||t.head,c=s||["*"];if(!W(c))return S&&(a.push({ts:new Date,act:"ADD",desc:i.name,res:!1,note:"Not in script region"}),k("debug","Check for region ["+(c.join(",")||"empty")+'] REJECTS "'+i.name+'", script NOT added')),!1;if(se(n,i))return ime:null,consentVersion:p,countryCode:E,region:i.regId,stateCode:C,userConsentVersion:R}),setTimeout(ae,100))},getAdChoicesLinkAction:function(){return"function"==typeof i.adChoicesLinkAction?i.adChoicesLinkAction:"string"==typeof i.adChoiceLinkAction&&-1!==i.adChoicesLinkAction.search(/^http/)?function(){e.open(i.adChoicesLinkAction,"_blank")}:null},getAdChoicesLinkTitle:function(){return i.adChoicesLinkTitle},getCmpString:function(t,n){let o,r,a,c="";if("function"==typeof t){if(n=n||this.getRegion(),!i.useIAB)return S&&k("debug","getCmpString called with IAB disabled"),void t(n,0,"","",new Error("IAB disabled"));if(v){if("string"==typeof T&&0!==T.length)return S&&k("debug","getCmpString returning GPP CMP string"),void t(n,1,T,"",null);o=e.__gpp,r="getGPPData",a=1,c="GPP"}else if(L){if(0!==b.length)return S&&k("debug","getCmpString returning GDPR v2 CMP string"),void t(n,2,b,s,null);o=e.__tcfapi,r="getTCData",a=2,c="TCF"}if(r){let e=function(e,t,n,o,s,i){i?(S&&k("debug","getCmpString returning "+n+" v"+o+" CMP string"),e(t,o,"GPP"===n?s.gppString:s.tcString,s.addtlConsent?s.addtlConsent:"",null)):(S&&k("debug","getCmpString returning "+n+" v"+o+" error"),e(t,o,"","",new Error(n+" CMP request failure")))}.bind(this,t,n,c,a);"GPP"===c?o(r,e):o(r,a,e)}else S&&k("debug","getCmpString returning CCPA v1 CMP string"),t(n,1,x,"",0!==x.length?null:new Error("CMP request failure"))}else k("error","getCmpString called without callback")},getConsentConfirmed:function(){return r},getConsentHistory:function(){return a},getConsentState:Z,getConsentTime:function(){return d},getConsentVersion:function(){return p},getGeoCountry:function(){return E},getGeoState:function(){return C},getGppAPIstring:.gppSection?iv?"__gpp":U?"_nction(){retur.Optanon.ToggleInfoDisplay||function(){e.Optanon&&e.Optanon.ToggleInfoDisplay&n&&-1!==i.privacyCenterLinkAction.search(/^http/)?function(){e.open(i.privacyCenterLinkAction,"_blank")}:null},getPrivacyCenterLinkTitle:function(){return i.privacyCenterLinkTitle},getRegion:function(){return i.regId},getReloadOnChange:function(){return i.reloadOnConsentChange},getReloadOnConsentReduction:function(){return i.reloadOnConsentReduction},getTcfAPIaddtlString:function(){return s},getTcfAPIstring:function(){return b},getUserConsentAdvertisingState:function(){return"iab"!=typeof i.ucFlavor?se(["vendor","targeting"]):se(["data-share","data-sell","ads-contextual","ads-person-prof","ads-person"])},getUspAPIstring:function(){return x},getVersion:function(){return R},init:he,inUnction(){returnV},isGpcSet:function(){return!!navigator.globalPrivacyControl},isInCcpaRegion:function(){return W(i.ccpaGeos)},isInGdprRegion:function(){return L},isInGppRegiegion:function(e){return e="string"==typeof e?e:"",i.iabRegion===e},isInRegion:function(e){return i.regId===e},isOneTrustBlocked:function(){return o},isOneTrustLoaded:ne,isOptanonLoaded:ne,isReady:oe,isSiteIABCompliant:function(){return i.strictIabCompliance}unction(){return y},usingExternalConsent:function(){returt},usingGPP:function(){return v},usingIAB:function(){return i.useIAB&&(v||U||L)},usingPSM:function(){return!1}}}(window,document),window.WM.UserConsent=window.WBD.UserConsent}();
