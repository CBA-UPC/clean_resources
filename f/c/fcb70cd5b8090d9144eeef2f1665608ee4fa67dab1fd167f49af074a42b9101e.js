"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[898],{1199:(t,e,s)=>{s.d(e,{R:()=>a,z:()=>i});var n=[];function i(t){if(0===n.length)return!0;if(void 0===t.hostname)return!1;for(var e=0;e<n.length;e++){var s=n[e];if("*"===s.hostname)return!1;if(r(s.hostname,t.hostname)&&o(s.pathname,t.pathname))return!1}return!0}function a(t){if(n=[],t&&t.length)for(var e=0;e<t.length;e++){var s=t[e];0===s.indexOf("http://")?s=s.substring(7):0===s.indexOf("https://")&&(s=s.substring(8));var i=s.indexOf("/");i>0?n.push({hostname:s.substring(0,i),pathname:s.substring(i)}):n.push({hostname:s,pathname:""})}}function r(t,e){return!(t.length>e.length)&&e.indexOf(t)===e.length-t.length}function o(t,e){return 0===t.indexOf("/")&&(t=t.substring(1)),0===e.indexOf("/")&&(e=e.substring(1)),""===t||t===e}},2573:(t,e,s)=>{s.d(e,{o:()=>d});var n=s(4247),i=s(1117),a=s(8673),r=s(8310),o=s(5763),h=s(3860);class d extends i.w{constructor(t,e,s){super(s),this.endpoint=t,this.opts=e||{},this.started=!1,this.timeoutHandle=null,this.aborted=!1,this.harvest=new a.M(this.sharedContext),(0,r.L)(this.unload.bind(this),(0,o.Mt)(this.sharedContext.agentIdentifier,"allow_bfcache")),this.sharedContext?.ee.on(h.wO.RESET,(()=>this.runHarvest({forceNoRetry:!0})))}unload(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}startTimer(t,e){this.interval=t,this.started=!0,this.scheduleHarvest(null!=e?e:this.interval)}stopTimer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=t,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(t,e){this.timeoutHandle||(null==t&&(t=this.interval),this.timeoutHandle=setTimeout((()=>{this.timeoutHandle=null,this.runHarvest(e)}),1e3*t))}runHarvest(t){if(this.aborted)return;const e=e=>{t?.forceNoRetry&&(e.retry=!1),this.onHarvestFinished(t,e)};let s,i,a=[];if(this.opts.getPayload){if(s=n.qD({isFinalHarvest:t?.unload}),!s)return!1;const e=!t?.unload&&s===n.Be;if(i=this.opts.getPayload({retry:e}),!i)return void(this.started&&this.scheduleHarvest());i="[object Array]"===Object.prototype.toString.call(i)?i:[i],a.push(...i)}let r=t=>this.harvest.sendX(t);a.length?r=this.opts.raw?t=>this.harvest._send(t):t=>this.harvest.send(t):a.push(void 0),a.forEach((n=>{r({endpoint:this.endpoint,payload:n,opts:t,submitMethod:s,cbFinished:e,customUrl:this.opts.customUrl,raw:this.opts.raw})})),this.started&&this.scheduleHarvest()}onHarvestFinished(t,e){if(this.opts.onFinished&&this.opts.onFinished(e),e.sent&&e.retry){const s=e.delay||this.opts.retryDelay;this.started&&s?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(s,t)):!this.started&&s&&this.scheduleHarvest(s,t)}}}},214:(t,e,s)=>{s.d(e,{AG:()=>h,FX:()=>u,n1:()=>l,uR:()=>d});var n=s(1284),i=s(4351),a=s(6141),r=Object.prototype.hasOwnProperty,o=64;function h(t,e,s){return t||0===t||""===t?e(t)+(s?",":""):"!"}function d(t,e){return e?Math.floor(t).toString(36):void 0===t||0===t?"":Math.floor(t).toString(36)}function u(t){var e=Object.hasOwnProperty("create")?Object.create(null):{},s=0;return function(n){if(void 0===n||""===n)return"";var i=new a.RR({agentIdentifier:t});n=String(n),i.shouldObfuscate()&&(n=i.obfuscateString(n));return r.call(e,n)?d(e[n],!0):(e[n]=s++,function(t){return"'"+t.replace(c,"\\$1")}(n))}}function l(t,e){var s=[];return(0,n.D)(t,(function(t,n){if(!(s.length>=o)){var a,r=5;switch(t=e(t),typeof n){case"object":n?a=e((0,i.P)(n)):r=9;break;case"number":r=6,a=n%1?n:n+".";break;case"boolean":r=n?7:8;break;case"undefined":r=9;break;default:a=e(n)}s.push([r,t+(a?","+a:"")])}})),s}var c=/([,\\;])/g},8310:(t,e,s)=>{s.d(e,{L:()=>o});var n=s(3239),i=s(7872),a=s(385),r=s(7956);if(a.v6){a._A.cleanupTasks=[];const t=a._A.close;a._A.close=()=>{for(let t of a._A.cleanupTasks)t();t()}}function o(t,e){if(a.il)if(e)(0,r.N)(t,!0),(0,n.bP)("pagehide",t);else{var s=(0,i.Z)(t);!a.IF||navigator.sendBeacon?(0,n.bP)("pagehide",s):(0,n.bP)("beforeunload",s),(0,n.bP)("unload",s)}else a.v6&&a._A.cleanupTasks.push(t)}},5039:(t,e,s)=>{s.r(e),s.d(e,{Aggregate:()=>v});var n=s(4322),i=s(4351),a=s(214),r=s(5546),o=s(5763),h=s(2573),d=s(1199),u=s(7825),l=s(8e3),c=s(3325),p=s(3081),f=s(2222);class v extends f.m{static featureName=u.t;constructor(t,e){super(t,e,u.t);let s,f=[],v={},g=[];const m=this.ee,b=(0,o.Mt)(t,"ajax.harvestTimeSeconds")||10,x=(0,o.Mt)(t,"ajax.maxPayloadSize")||1e6;function y(s,n,a,h,u){var l;if(n.time=a,l=s.cat?(0,i.P)([s.status,s.cat]):(0,i.P)([s.status,s.host,s.pathname]),(0,r.p)("bstXhrAgg",["xhr",l,s,n],void 0,c.D.sessionTrace,m),e.store("xhr",l,s,n),T())if((0,d.z)(s)){var g=this,b={method:s.method,status:s.status,domain:s.host,path:s.pathname,requestSize:n.txSize,responseSize:n.rxSize,type:u,startTime:a,endTime:h,callbackDuration:n.cbTime};if(g.dt&&(b.spanId=g.dt.spanId,b.traceId=g.dt.traceId,b.spanTimestamp=g.dt.timestamp),this.spaNode){var x=this.spaNode.interaction.id;v[x]=v[x]||[],v[x].push(b)}else f.push(b)}else s.hostname===(0,o.C5)(t).errorBeacon?(0,r.p)(p.xS,["Ajax/Events/Excluded/Agent"],void 0,c.D.metrics,m):(0,r.p)(p.xS,["Ajax/Events/Excluded/App"],void 0,c.D.metrics,m)}function S(t){if(t=t||{},0===f.length)return null;for(var e=H(f,t.maxPayloadSize||x),s=[],n=0;n<e.length;n++)s.push({body:{e:e[n]}});return t.retry&&(g=f.slice()),f=[],s}function H(t,e,s){s=s||1;for(var n=[],i=function(t,e){e=e||t.length;for(var s=[],n=0,i=t.length;n<i;n+=e)s.push(new A(t.slice(n,n+e)));return s}(t,t.length/s),a=!1,r=0;r<i.length;r++){var o=i[r];if(o.tooBig(e)){if(1!==o.events.length){a=!0;break}}else n.push(o.payload)}return a?H(t,e,++s):n}function A(e){this.addString=(0,a.FX)(t),this.events=e,this.payload="bel.7;";for(var s=0;s<e.length;s++){var n=e[s],i=[(0,a.uR)(n.startTime),(0,a.uR)(n.endTime-n.startTime),(0,a.uR)(0),(0,a.uR)(0),this.addString(n.method),(0,a.uR)(n.status),this.addString(n.domain),this.addString(n.path),(0,a.uR)(n.requestSize),(0,a.uR)(n.responseSize),"fetch"===n.type?1:"",this.addString(0),(0,a.AG)(n.spanId,this.addString,!0)+(0,a.AG)(n.traceId,this.addString,!0)+(0,a.AG)(n.spanTimestamp,a.uR,!1)],r="2,",h=(0,a.n1)((0,o.C5)(t).jsAttributes||{},this.addString);i.unshift((0,a.uR)(h.length)),r+=i.join(","),h&&h.length>0&&(r+=";"+h.join(";")),s+1<e.length&&(r+=";"),this.payload+=r}this.tooBig=function(t){return t=t||x,2*this.payload.length>t}}function T(){return!1!==(0,o.Mt)(t,"ajax.enabled")}this.storeXhr=y,this.prepareHarvest=S,this.getStoredEvents=function(){return{ajaxEvents:f,spaAjaxEvents:v}},m.on("interactionSaved",(t=>{v[t.id]&&delete v[t.id]})),m.on("interactionDiscarded",(t=>{v[t.id]&&T()&&(v[t.id].forEach((function(t){f.push(t)})),delete v[t.id])})),T()&&(0,d.R)((0,o.Mt)(t,"ajax.deny_list")),(0,n.X)("xhr",y,this.featureName,this.ee),T()&&(s=new h.o("events",{onFinished:function(t){t.retry&&g.length>0&&T()&&(f.unshift(...g),g=[])},getPayload:S},this),m.on("drain-".concat(this.featureName),(()=>{s.startTimer(b)}))),(0,l.L)(this.agentIdentifier,this.featureName)}}},7825:(t,e,s)=>{s.d(e,{t:()=>n});const n=s(3325).D.ajax}}]);