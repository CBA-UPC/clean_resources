define("modules/adobeLaunch",["jquery","cookies","addons/services/adobeLaunchService"],function(a,e,t){var n={events:{onItemClick:function(e){return function(n){if(window._satellite){var o=a(n.currentTarget);o.is("[data-link_url]")||(o=o.closest("[data-link_url]"));var u=i(e,o);if(!a.isEmptyObject(u)){t.link(window._satellite,u,"click_action");var d=o.attr("data-event_name");if(d&&d.includes("cart add")){var r=l(e,o);if(a.isEmptyObject(r))return;t.link(window._satellite,r,"cart_add")}}}}},onInit:function(e){return function(){if(window._satellite&&(window._satellite.buildInfo&&window._satellite.buildInfo.environment&&("development"===window._satellite.buildInfo.environment||"staging"===window._satellite.buildInfo.environment)&&window._satellite.setDebug(!0),"true"===window.fireVirtualPageEvent)){var n=o(e);if(a.isEmptyObject(n))return;t.link(window._satellite,n,"virtual_pv")}}}}},i=function(a,e){var t={};return e.is("[data-link_url-remove]")||u(a,e,t,"data-link_url","linkURL"),u(a,e,t,"data-link_type","linkType"),u(a,e,t,"data-link_name","linkName"),u(a,e,t,"data-link_position","linkPosition"),u(a,e,t,"data-link_module","linkModule"),u(a,e,t,"data-link_gameId","gameID"),u(a,e,t,"data-link_thumbnailType","thumbnailType"),u(a,e,t,"data-link_thumbnailName","thumbnailName"),u(a,e,t,"data-link_upsellType","upsellType","extraProperties|page"),u(a,e,t,"data-link_upsellLocation","upsellLocation","extraProperties|page"),u(a,e,t,"data-link_upsellLocation--nav-menu","upsellLocation","extraProperties|page"),u(a,e,t,"data-link_siteName","siteName"),u(a,e,t,"data-link_contentLocation","contentLocation"),u(a,e,t,"data-link_contentPosition","contentPosition"),u(a,e,t,"data-link_carouselName","carouselName"),t},l=function(a,e){var t={};return u(a,e,t,"data-purchase-link_module","linkModule"),u(a,e,t,"data-purchase-link_type","linkType"),u(a,e,t,"data-purchase-link_name","linkName"),u(a,e,t,"data-purchase-link_category","category"),u(a,e,t,"data-purchase-link_product","product"),u(a,e,t,"data-purchase-link_quantity","quantity"),u(a,e,t,"data-purchase-link_skuPrice","skuPrice"),u(a,e,t,"data-purchase-link_currency","currencyCode"),u(a,e,t,"data-purchase-link_products","products"),u(a,e,t,"data-purchase-link_billingMethod","billingMethod"),u(a,e,t,"data-purchase-link_upsellType","upsellType","extraProperties|page"),u(a,e,t,"data-purchase-link_upsellLocation","upsellLocation","extraProperties|page"),u(a,e,t,"data-purchase-link_siteName","siteName"),t},o=function(a){var e={};return u(a,null,e,null,"siteName"),u(a,null,e,null,"siteSection"),u(a,null,e,null,"siteSubsection"),u(a,null,e,null,"pageDetail"),u(a,null,e,null,"pageName"),u(a,null,e,null,"optimizedFor"),u(a,null,e,null,"partner"),u(a,null,e,null,"adBlock"),u(a,null,e,null,"siteLanguage"),e},u=function(e,t,n,i,l,o){try{var u="";if(i){if(""===(u=t.attr(i))&&i.includes("upsellLocation--nav-menu")&&window.utag_data){var d="nfl-plus"===window.utag_data.siteSection?"".concat(":",window.utag_data.siteSection):"";u="".concat(window.utag_data.siteName,d,":navigation-menu")}else""===u&&i.includes("upsellLocation")&&window.utag_data&&(u=window.utag_data.pageName);""===u&&i.includes("siteName")&&window.utag_data&&(u=window.utag_data.siteName)}else window.utag_data&&(u=window.utag_data[l]);if(e.setLinkCookie(l,u),void 0!==u){var r={};if(o){var s={};o.split("|").forEach(function(e){s[l]=u,n[e]?a.extend(n[e],s):(r[e]=s,a.extend(n,r))})}else r[l]=u,a.extend(n,r)}}catch(a){window._satellite.logger.error(a),e.removeLinkCookies([l])}},d=function(){return{opts:void 0,$items:void 0,init:function(e){var t=this;t.opts=a.extend({},n,e||{}),a("[data-link_url]").off("click.adobelaunch").on("click.adobelaunch",t.opts.events.onItemClick(t)),t.opts.events.onInit(t)()},setLinkCookie:function(a,e){var t="al_"+a;window._satellite.cookie.set(t,e,{path:"/",domain:window.location.hostname}),window._satellite.setVar(t,e),d.updateUTagDataKey(t,e)},removeLinkCookies:function(a){if(a)for(var e=0;e<a.length;e++){var t="al_"+a[e];window._satellite.cookie.remove(t),window._satellite.setVar(t,void 0),d.removeUTagDataKey(t)}},updateUTagDataKey:removeUTagDataKey:function(a){window.utag_data&&window.utag_data[a]&&(window.utag_data[a]=void 0)}}}();return d.init(),d});
//# sourceMappingURL=adobeLaunch.js.map