/*! For license information please see urlGenerator.js.LICENSE.txt */
(()=>{var t={27:482:187:349:786:910:994:789:421:469:(t,e,n)=>{"use strict";ar i;t.exports=R,R.WritableState=S;var s,o={deprecate:n(927)},a=n(677),h=n(14).Buffer,l=n.g.Uint8Array||function(){},u=n(72),f=n(222).getHighWaterMark,c=n(786).q,d=c.ERR_INVALID_ARG_TYPE,p=c.ERR_METHOD_NOT_IMPLEMENTED,_=c.ERR_MULTIPLE_CALLBACK,b=c.ERR_STREAM_CANNOT_PIPE,g=c.ERR_STREAM_DESTROYED,y=c.ERR_STREAM_NULL_VALUES,v=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING,m=u.errorOrDestroy;function E(){},a),S.prototype.getBuffer=),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:)):s=R.prototype.pipe=R.prototype.write=R.prototype.cork=R.prototype.uncork=R.prototype.setDefaultEncoding=Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=R.prototype._writev=null,R.prototype.end=Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:set:),R.prototype.destroy=u.destroy,R.prototype._undestroy=u.undestroy,R.prototype._destroy=,527:354:(t,e,n)=>{"use strict"; o=n(525).Buffer,a=n(386).inspect,h=a&&a.custom||"inspect";t.exports=)},72:640:327:218:222:677:326:717:318:785:509:189:393:448:336:432:499:686:816:553:engtnts)}}},263:()=>{},525:()=>{},386:()=>{},14:()=>{},616:()=>{},594:()=:()=>{xpoindow}}(),(()=>{"use strict";const t="cbc_ppid",e=document.location.origin+document.location.pathname,r=t=>{if("undefined"==typeof window)return;const e=window.document.cookie.split(";");let n=null;return e.forEach((e=>{const r=e.split("=");r[0]&&r[0].trim()===t&&(n={name:r[0],value:r[1]})})),n};window.CBC||(window.CBC={}),CBC.APP||(CBC.APP={}),CBC.APP.ADS||(CBC.APP.ADS={}),CBC.APP.ADS.getURL||(CBC.APP.ADS.getURL=i=>{let s="",o=encodeURI(e),a="",h="feed",l="";CBC.Listen||(CBC.Listen={}),CBC.Listen.currentMediaRequest||(CBC.Listen.currentMediaRequest={}),void 0!==window.CBC.Listen.currentMediaRequest.type&&(h="listen");let u="",f=(()=>t=>r(t))(t);if(void 0!==e&&""!=e&&null!=e)return e.value;{let e=(()=>{let t=r("cbc_plus");if(t)return{type:t.name.trim(),id:t.value.trim()};let e=r("cbc_visitor");return e?{type:e.name.trim(),id:e.value.trim()}:null})();return e?(((t,e,n)=>{if("undefined"==typeof window)return;const i=r(t);i&&(document.cookie=`${i.name} +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`),((t,e,n)=>{if("undefined"==typeof window)return;const r=864e5*(n||1e3);let i=new Date;i.setTime(i.getTime()+r);const s=`; expires=${i.toUTCString()}`;window.document.cookie=`${t}=${e}${s}; path=/; domain=.cbc.ca`})(t,e,n)})(t,e.id,7),e.id):null}})();try{"null"!=f&&(u=n(482)("sha256").update(f).digest("hex"))}catch(t){console.log("Failed to set PPID! Proceeding anyway")}try{(()=>{const t=document.createElement("script");t.type="text/javascript",t.src="https://js-sec.casalemedia.com/ixpb/ix-prebid-helper.js",document.body.appendChild(t),t.onload=function(){(()=>{const t={bidders:["ix"]};window.ixPrebidHelper=window.ixPrebidHelper||{cmd:[]},ixPrebidHelper.cmync(t)}))})()}})()}catch(t){console.log("Failed IX user sync")}if(i&&i.metadata){const t=i.metadata.idType||null,e=i.metadata.format,n=i.metadata.isLive;if("audioId"===t)return"";if(s="liveRadioId"===t||"audio"===e&&n?"https://pubads.g.doubleclick.net/gampad/ads?sz=4x4%7C320x240&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&ad_rule=1&dist=CBCListen-web&iu=5876/":"https://instream.casalemedia.com/playlist?ix_s=198408&ix_ca=%7B%22protocols%22%3A%5B2%2C3%2C5%2C6%5D%2C%22mimes%22%3A%5B%22video%2Fmp4%22%5D%2C%22apiList%22%3A%5B2%5D%2C%22size%22%3A%22320x240%22%2C%22maxAdDuration%22%3A30%2C%22timeout%22%3A1000%2C%22brandExclusion%22%3A1%7D&ix_vt=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads&sz=320x240&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&correlator=[timestamp]&ad_rule=1&cmsid=2469258&iu=5876/",a="&cust_params=plat%3Dphoenix",document.referrer.split("/").indexOf("amp")>-1&&(a+="%26env%3Damp"),window.CAFFEINE_AD_ENV&&"fb"===window.CAFFEINE_AD_ENV&&(a+="%26env%3Dfb"),s+=i.metadata.adOrder+"&ppid="+u+"&description_url="+o+"&vid="+i.metadata.id+a+"&ix_u="+o+"&url="+o+"&scp=bu="+h+"&vpi=0","audience-kvp"in sessionStorage){let t=sessionStorage.getItem("audience-kvp");null!==t&&(s+="&audienceList="+t.replaceAll(",","%2C"))}i.metadata.adCategoryExclusion&&""!==i.metadata.adCategoryExclusion&&(l="%26excl_cat%3D"+i.metadata.adCategoryExclusion,s+=l)}return s}),CBC.APP.ADS.getURL})()})();