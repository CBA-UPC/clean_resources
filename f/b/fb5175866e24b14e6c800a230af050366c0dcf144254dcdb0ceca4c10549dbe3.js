"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[147],{9124:(e,t,r)=>{r.r(t),r.d(t,{Aggregate:()=>S});var i=r(6562),n=r(4045),o=r(6875),s=r(5330),a=r(6034),c=r(4329),u=r(2374),l={REACT:"React",ANGULAR:"Angular",ANGULARJS:"AngularJS",BACKBONE:"Backbone",EMBER:"Ember",VUE:"Vue",METEOR:"Meteor",ZEPTO:"Zepto",JQUERY:"Jquery"};function h(){if(!u.il)return[];var e=[];try{(function(){try{if(window.React||window.ReactDOM||window.ReactRedux)return!0;if(document.querySelector("[data-reactroot], [data-reactid]"))return!0;for(var e=document.querySelectorAll("body > div"),t=0;t<e.length;t++)if(Object.keys(e[t]).indexOf("_reactRootContainer")>=0)return!0;return!1}catch(e){return!1}})()&&e.push(l.REACT),function(){try{return!!window.angular||(!!document.querySelector(".ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]")||!!document.querySelector('script[src*="angular.js"], script[src*="angular.min.js"]'))}catch(e){return!1}}()&&e.push(l.ANGULARJS),function(){try{return!!(window.hasOwnProperty("ng")&&window.ng.hasOwnProperty("coreTokens")&&window.ng.coreTokens.hasOwnProperty("NgZone"))||!!document.querySelectorAll("[ng-version]").length}catch(e){return!1}}()&&e.push(l.ANGULAR),window.Backbone&&e.push(l.BACKBONE),window.Ember&&e.push(l.EMBER),window.Vue&&e.push(l.VUE),window.Meteor&&e.push(l.METEOR),window.Zepto&&e.push(l.ZEPTO),window.jQuery&&e.push(l.JQUERY)}catch(e){}return e}var p,d,g,b=r(9548),y=r(9226),w=r(8226),f=r(2650),m=r(8544);class S extends s.m{constructor(e,t){let r;super(e,t,a.t9),(0,n.X)("block-err",(()=>{this.blocked=!0,r&&(r.aborted=!0)}),this.featureName,this.ee),(0,n.X)(a.xS,this.storeSupportabilityMetrics.bind(this),this.featureName,this.ee),(0,n.X)(a.vz,this.storeEventMetrics.bind(this),this.featureName,this.ee),this.singleChecks(),this.eachSessionChecks(),r=new o.o("jserrors",{onUnload:()=>this.unload()},this),r.harvest.on("jserrors",(()=>({body:this.aggregator.take(["cm","sm"])}))),(0,c.L)(this.agentIdentifier,this.featureName)}storeSupportabilityMetrics(e,t){if(this.blocked)return;const r=a.mY,i={name:e};this.aggregator.storeMetric(r,e,i,t)}storeEventMetrics(e,t){if(this.blocked)return;const r=a.gF,i={name:e};this.aggregator.store(r,e,i,t)}singleChecks(){this.storeSupportabilityMetrics("Generic/Version/".concat(w.q,"/Detected"));const{loaderType:e}=(0,i.OP)(this.agentIdentifier);e&&this.storeSupportabilityMetrics("Generic/LoaderType/".concat(e,"/Detected")),u.il&&(0,f.K)((()=>{h().forEach((e=>{this.storeSupportabilityMetrics("Framework/"+e+"/Detected")}))})),b.T.isFileProtocol()&&(this.storeSupportabilityMetrics("Generic/FileProtocol/Detected"),b.T.supportabilityMetricSent=!0);const t=(0,y.$c)(this.agentIdentifier);t.length>0&&this.storeSupportabilityMetrics("Generic/Obfuscate/Detected"),t.length>0&&!(0,y.Ng)(t)&&this.storeSupportabilityMetrics("Generic/Obfuscate/Invalid")}eachSessionChecks(){u.il&&(0,m.bP)("pageshow",(e=>{e.persisted&&this.storeSupportabilityMetrics("Generic/BFCache/PageRestored")}))}unload(){try{if(this.resourcesSent)return;this.resourcesSent=!0;const e=["beacon","fetch","xmlhttprequest"],t=["nr-data.net","newrelic.com","nr-local.net","localhost"];function r(t){return e.includes(t.initiatorType)}(performance?.getEntriesByType("resource")||[]).forEach((e=>{var i;i=e,t.some((e=>i.name.indexOf(e)>=0))?r(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/Internal"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/Internal"):r(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/External"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/External")}))}catch(i){}}}p=S,d="featureName",g=a.t9,(d=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(d))in p?Object.defineProperty(p,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[d]=g}}]);