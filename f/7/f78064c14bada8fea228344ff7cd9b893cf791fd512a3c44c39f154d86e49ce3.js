//# sourceMappingURL=SportsFromTheAthleticLogo-6af30909c330b55f7e35.js.map60530));n(t,"__esModule",{value:!0});var l=a(51942),i=(0,o.default)(l),r=a(62431),u=a(879893),s=(0,o.default)(u),d=a(234584),c=(0,o.default)(d),f=a(141655),g=(0,o.default)(f),p=a(469155),h=(0,o.default)(p),m=a(604990),v=(0,o.default)(m),E=a(183123),y=(0,o.default)(E),_=a(105001);s.default.sharedProps=(0,r.sharedPropsBuilder)((function(){return[]}),(function(){var e={pageId:c.default.getId(),getPagination:v.default.getPagination,getBlogShowDummyData:v.default.getBlogShowDummyData,getPosts:v.default.getPosts,getCategories:v.default.getCategories,getBlogSetting:v.default.getBlogSetting,getShowMorePostsWith:v.default.getShowMorePostsWith,fromSiteToApp:y.default.getFromSiteToApp(),addBlogPostsChangeListener:function(e,t){v.default.addBlogPostsChangeListener(e,t)},addBlogPostsLoadingStateListener:function(e,t){v.default.addBlogPostsLoadingStateListener(e,t)},removeBlogPostsLoadingStateListener:function(e,t){v.default.removeBlogPostsLoadingStateListener(e,t)},removeBlogPostsChangeListener:function(e,t){v.default.removeBlogPostsChangeListener(e,t)},addBlogCategoriesChangeListener:function(e){v.default.addBlogCategoriesChangeListener(e)},removeBlogCategoriesChangeListener:function(e){v.default.removeBlogCategoriesChangeListener(e)}};return(0,i.default)({},e)}),(function(){return{fetchBlogPosts:function(e,t,a,n,o,l,i){return h.default.fetchBlogPosts(e,t,a,n,o,l,i)},updateBlogArchiveDialog:function(e,t,a,n){g.default.updateBlogArchiveDialog(e,t,a,n)},fetchBlogCategories:function(e,t){g.default.fetchBlogCategories(e,t)}}})),t.default=(0,_.addOffline)(s.default),e.exports=t.default},454275:function(e,t,a){var n=a(353147),o=a(223765),l=a(501068),i=a(752424),r=a(663978),u=a(834074),s=a(60530)(a(60530));r(t,"__esModule",{value:!0});var d,c,f,g,p,h,m=a(726394),v=(0,s.default)(m),E=a(569198),y=(0,s.default)(E),_=a(705824),T=(0,s.default)(_),b=a(351379),C=(0,s.default)(b),P=a(900214),N=(0,s.default)(P),S=a(566380),O=(0,s.default)(S),L=a(487672),A=(0,s.default)(L),I=a(812077),w=(0,s.default)(I);a(209653),a(241539),a(339714);var D=a(620116),k=(0,s.default)(D),R=a(2991),B=(0,s.default)(R),M=a(694473),x=(0,s.default)(M),G=a(977766),U=(0,s.default)(G),F=a(54103),W=(0,s.default)(F),Z=a(277149),z=(0,s.default)(Z),j=a(778914),V=(0,s.default)(j),H=a(686902),q=(0,s.default)(H),Y=a(366757),J=(0,s.default)(Y),X=a(45697),K=((0,s.default)(X),a(223336)),$=(0,s.default)(K),Q=a(496486),ee=(0,s.default)(Q),te=a(294184),ae=(0,s.default)(te),ne=a(500134),oe=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var a=ce(t);if(a&&a.has(e))return a.get(e);var n={},l=r&&u;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=l?u(e,i):null;s&&(s.get||s.set)?r(n,i,s):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}(a(818166)),le=a(421522),ie=(0,s.default)(le),re=a(285072),ue=(0,s.default)(re),se=a(43138),de=(0,s.default)(se);function ce(e){if("function"!=typeof i)return null;var t=new i,a=new i;return(ce=function(e){return e?a:t})(e)}var fe=function(e,t,a){var n,o=function(e,t){return(0,w.default)("li",{className:"option","data-id":e},e,t)},l=(0,k.default)(n=e.children).call(n,(function(e){return e.id!==t})),i=(0,B.default)(l).call(l,(function(e){var t=e.id,a=e.name;return o(t,a)})),r=e.id,u=e.name;return r!==t&&i.unshift(o(r,u)),(0,w.default)("ul",{onClick:function(e){e.stopPropagation(),a(Number(e.target.dataset.id))}},void 0,(0,B.default)(i).call(i,(function(e){return e})))},ge=function(e){var t,a,n=e.category,o=e.hidden,l=e.currentCategory,i=e.mobile,r=e.index,u=e.onClickFn,s=e.categoryType,c=e.isNeedStaticLink,f=n.children,g=(null==f?void 0:(0,x.default)(f).call(f,(function(e){return e.id===l})))||n,p=g.id,h=g.name,m="store";oe.isInPortfolioCategoriesPage()?m="portfolio":"blog"===s&&(m="blog");var v=J.default.createElement(J.default.Fragment,null,c?(0,w.default)("a",{className:(0,ae.default)("category-link-item",{selected:l===p||l===h,"no-hover":i}),href:(0,U.default)(t="/".concat(m,"/categories/")).call(t,h)},r+p+h,h):(0,w.default)("span",{className:(0,ae.default)("category-link-item",{selected:l===p||l===h,"no-hover":i})},r+p+h,h));return(0,w.default)("div",{className:"category-link-item-wrapper",onClick:function(){return u(p)},style:{display:o?"none":"inline-block"}},void 0,null!==(a=n.children)&&void 0!==a&&a.length?(0,w.default)(ne.Popover,{placement:"bottom",whiteBg:!0,trigger:"hover",overlayClassName:"category-bar-popover",content:fe(n,l,u)},void 0,v,d||(d=(0,w.default)("i",{className:"entypo-right-open-big"}))):v)},pe=ie.default.decorate(ue.default)(c=function(e){(0,C.default)(i,e);var t,a,o=(t=i,a=function(){if("undefined"==typeof Reflect||!l)return!1;if(l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,O.default)(t);if(a){var o=(0,O.default)(this).constructor;e=l(n,arguments,o)}else e=n.apply(this,arguments);return(0,N.default)(this,e)});function i(e){var t,a,n,l;return(0,v.default)(this,i),l=o.call(this,e),(0,A.default)((0,T.default)(l),"listRefsWidth",0),(0,A.default)((0,T.default)(l),"isNeedStaticLink",(function(){return oe.isInStorePage,oe.isInPortfolioCategoriesPage,!1})),l.state={showMore:!1,changePosition:!1,mobile:!1},l._onClickShowMore=(0,W.default)(t=l._onClickShowMore).call(t,(0,T.default)(l)),l._onClickShowLess=(0,W.default)(a=l._onClickShowLess).call(a,(0,T.default)(l)),l._changePosition=(0,W.default)(n=l._changePosition).call(n,(0,T.default)(l)),l}return(0,y.default)(i,[{key:"componentWillMount",value:function(){var e;this._shrinkIndex=999,this._updateBar=ee.default.debounce((0,W.default)(e=this._updateBar).call(e,this),50)}},{key:"componentDidMount",value:function(){var e=this;this._updateBar(),this._changePosition(),this.listRefsWidth=window.innerWidth,(0,$.default)(window).on("resize",(function(){e.listRefsWidth!==window.innerWidth&&(e.listRefsWidth=window.innerWidth,e._updateBar())})),this.setState({mobile:de.default.isMobile()})}},{key:"componentDidUpdate",value:function(e,t){var a=this;e.categories.length!==this.props.categories.length&&this._updateBar(),!t.changePosition&&this.state.changePosition&&this.setTimeout((function(){var e,t=(0,x.default)(e=(0,$.default)(a.refs.list)).call(e,".top-list"),n=(0,x.default)(t).call(t,".selected");n.length&&t.scrollLeft(t.scrollLeft()+n.offset().left-t.offset().left-10),a.setState({changePosition:!1})}),10)}},{key:"componentWillUnmount",value:function(){(0,$.default)(window).off("resize",this._updateBar)}},{key:"_changePosition",value:function(){this.setState({changePosition:!0,showMore:!1})}},{key:"_onClickShowMore",value:function(){this.setState({showMore:!0})}},{key:"_onClickShowLess",value:function(){this.setState({showMore:!1})}},{key:"_updateBar",value:function(){var e=this,t=0;this._shrinkIndex=999,this.forceUpdate();var a=(0,$.default)(this.refs.list).width()||0;this.setTimeout((function(){var n;(0,x.default)(n=(0,$.default)(e.refs.list)).call(n,".check-list .category-link-item-wrapper").each((function(n,o){if(t+=(0,$.default)(o).outerWidth(!0),a<=t+50)return e._shrinkIndex=n,!1})),e.forceUpdate()}),100)}},{key:"formatCategories",value:function(e){if((0,z.default)(e).call(e,(function(e){return 1!==e.level}))){var t,a={},n=ee.default.cloneDeep(e);return(0,V.default)(e).call(e,(function(e,t){var o=e.parent_id,l=e.id;o&&(a[o]?a[o].push(e):a[o]=[e],n=(0,k.default)(n).call(n,(function(e){return e.id!==l})))})),(0,V.default)(t=(0,q.default)(a)).call(t,(function(e){var t=(0,x.default)(n).call(n,(function(t){return t.id.toString()===e}));t&&(t.children=a[e]||[])})),n}return e}},{key:"render",value:function(){var e,t,a=this,o=this.props,l=o.changeCategory,i=o.sbClass,r=o.isCategoryIdExist,u=o.categoryType,s=this.props.currentCategory,d=this.state,c=d.showMore,m=d.mobile,v=ee.default.cloneDeep("blog"===u?(0,k.default)(e=this.props.categories).call(e,(function(e){return e.count>0})):(0,k.default)(t=this.props.categories).call(t,(function(e){return e.products_count>0})));return(v=this.formatCategories(v)).unshift({name:n("Ecommerce|All"),id:"all"}),r(s)||(s="all"),J.default.createElement("div",{className:(0,ae.default)("s-category-bar s-font-body clearfix ".concat(i||""),{shrinked:this._shrinkIndex<v.length}),ref:"list"},!1,m&&(0,w.default)("div",{className:"category-list"},void 0,(0,w.default)("div",{className:"top-bar check-list ".concat(c?"hide-top-bar":"")},void 0,(0,w.default)("div",{className:"top-list"},void 0,(0,B.default)(v).call(v,(function(e,t){return(0,w.default)(ge,{isNeedStaticLink:a.isNeedStaticLink(),currentCategory:s,category:e,index:t,mobile:m,categoryType:u,hidden:!c&&t>=a._shrinkIndex,onClickFn:l})})))),this._shrinkIndex<v.length&&!c&&(0,w.default)("div",{className:"show-more-link mobile-link",onClick:this._onClickShowMore},void 0,f||(f=(0,w.default)("i",{className:"fa fa-angle-down"}))),c&&(0,B.default)(v).call(v,(function(e,t){return(0,w.default)(ge,{currentCategory:s,category:e,index:t,mobile:m,categoryType:u,isNeedStaticLink:a.isNeedStaticLink(),onClickFn:function(e){l(e),a._changePosition()}})})),this._shrinkIndex<v.length&&c&&(0,w.default)("div",{className:"show-more-link",onClick:this._onClickShowLess},void 0,g||(g=(0,w.default)("i",{className:"fa fa-angle-up"})))),!m&&(0,w.default)("div",{className:"category-list check-list"},void 0,(0,B.default)(v).call(v,(function(e,t){return(0,w.default)(ge,{currentCategory:s,category:e,index:t,mobile:m,categoryType:u,hidden:!c&&t>=a._shrinkIndex,isNeedStaticLink:a.isNeedStaticLink(),onClickFn:l})})),this._shrinkIndex<v.length&&!c&&(0,w.default)("div",{className:"show-more-link",onClick:this._onClickShowMore},void 0,p||(p=(0,w.default)("i",{className:"fa fa-angle-down"}))),this._shrinkIndex<v.length&&c&&(0,w.default)("div",{className:"show-more-link",onClick:this._onClickShowLess},void 0,h||(h=(0,w.default)("i",{className:"fa fa-angle-up"})))))}}]),i}(J.default.Component))||c;t.default=pe,e.exports=t.default},755802:function(e,t,a){var n=a(501068),o=a(663978),l=a(60530)(a(60530));o(t,"__esModule",{value:!0}),t.default=void 0;var i=a(812077),r=(0,l.default)(i),u=a(726394),s=(0,l.default)(u),d=a(569198),c=(0,l.default)(d),f=a(351379),g=(0,l.default)(f),p=a(900214),h=(0,l.default)(p),m=a(566380),v=(0,l.default)(m),E=a(366757),y=(0,l.default)(E),_=a(45697);(0,l.default)(_);var T=function(e){(0,g.default)(l,e);var t,a,o=(t=l,a=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,v.default)(t);if(a){var l=(0,v.default)(this).constructor;e=n(o,arguments,l)}else e=o.apply(this,arguments);return(0,h.default)(this,e)});function l(){return(0,s.default)(this,l),o.apply(this,arguments)}return(0,c.default)(l,[{key:"render",value:function(){return(0,r.default)("div",{className:"s-mobile-disabled-notice"},void 0,(0,r.default)("span",{className:"s-common-status s-font-body"},void 0,this.props.disabledNotice))}}]),l}(y.default.Component);t.default=T,e.exports=t.default},513495:function(e,t,a){var n=a(663978),o=a(60530)(a(60530));n(t,"__esModule",{value:!0});var l=a(780122),i=(0,o.default)(l),r=["component","children"],u=a(366757),s=(0,o.default)(u),d=a(454992),c=(0,o.default)(d);t.default=(0,c.default)((function(e){var t=e.component,a=e.children,n=(0,i.default)(e,r),o=t;return s.default.createElement(o,n,a)})),e.exports=t.default},487628:function(e,t,a){var n=a(501068),o=a(663978),l=a(60530)(a(60530));o(t,"__esModule",{value:!0});var i=a(205872),r=(0,l.default)(i),u=a(726394),s=(0,l.default)(u),d=a(569198),c=(0,l.default)(d),f=a(351379),g=(0,l.default)(f),p=a(900214),h=(0,l.default)(p),m=a(566380),v=(0,l.default)(m),E=a(366757),y=(0,l.default)(E),_=a(45697),T=((0,l.default)(_),a(454275)),b=(0,l.default)(T),C=a(604990),P=(0,l.default)(C),N=a(205223),S=(0,l.default)(N);var O=function(e){(0,g.default)(l,e);var t,a,o=(t=l,a=function(){if("undefined"==typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,v.default)(t);if(a){var l=(0,v.default)(this).constructor;e=n(o,arguments,l)}else e=o.apply(this,arguments);return(0,h.default)(this,e)});function l(){return(0,s.default)(this,l),o.apply(this,arguments)}return(0,c.default)(l,[{key:"render",value:function(){return y.default.createElement(b.default,(0,r.default)({},this.props,{categoryType:"blog"}))}}]),l}(y.default.Component),L=(0,S.default)(O,[],(function(){return{isCategoryIdExist:function(e){return P.default.isCategoryIdExist(e)}}}));t.default=L,e.exports=t.default},688884:function(e,t,a){var n=a(663978),o=a(60530)(a(60530));n(t,"__esModule",{value:!0});var l=a(213192),i={ActionTypes:(0,(0,o.default)(l).default)({ECOMMERCE_MANAGER_GET_COUPON:null,ECOMMERCE_MANAGER_GET_COUPON_SUCCESS:null,ECOMMERCE_MANAGER_GET_COUPON_FAIL:null,ECOMMERCE_MANAGER_CREATE_COUPON:null,ECOMMERCE_MANAGER_CREATE_COUPON_SUCCESS:null,ECOMMERCE_MANAGER_CREATE_COUPON_FAIL:null,ECOMMERCE_MANAGER_UPDATE_COUPON:null,ECOMMERCE_MANAGER_UPDATE_COUPON_SUCCESS:null,ECOMMERCE_MANAGER_UPDATE_COUPON_FAIL:null,ECOMMERCE_MANAGER_DELETE_COUPON:null,ECOMMERCE_MANAGER_DELETE_COUPON_SUCCESS:null,ECOMMERCE_MANAGER_DELETE_COUPON_FAIL:null}),ZERO_DECIMAL_CURRENCY_LIST:["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF","TWD"],miniProgramCKEditorToolbar:[["Bold","Italic","Underline","LineGroup","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","FontSize","TextColor","ScriptGroup"]],editorCKEditorToolbar:[["Bold","Italic","Underline","LineGroup","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","Link","FontSize","TextColor","ScriptGroup"]],editorToolbarColors:[["white","#fff"],["gray","#555"],["black","#000"],["brown","#816354"],["red","#ff4d4d"],["orange","#ffa64d"],["green","#9cce06"],["blue","#26c9ff"]],CheckPatterns:{tokenPattern:/^\w+$/,percentagePattern:/^(\d{1,2}|100)$/,pricePattern:/^\d+(\.\d{1,2}|\.)?$/,priceWithNoDecimal:/^\d+$/,productPrice:/^\d{1,8}(\.\d{1,2}|\.)?$/,productQuantity:/^(-1|0+|[1-9]\d*)$/,stockQuantity:/^(-1|0+|[1-9]\d*)$/},defaultImageUrl:"/images/ecommerce/ecommerce-default-image.png",textTemplate:{type:"RichText",id:null,value:"",defaultValue:null,backupValue:null,version:null}};t.default=i,e.exports=t.default},23436:function(e,t,a){var n=a(663978),o=a(60530)(a(60530));n(t,"__esModule",{value:!0});var l=a(855108),i=(0,o.default)(l);t.default=new i.default("MobileEditorDispatcher"),e.exports=t.default},850483:function(e,t,a){var n=a(353147),o=a(663978),l=a(60530)(a(60530));o(t,"__esModule",{value:!0});var i=a(726394),r=(0,l.default)(i),u=a(569198),s=(0,l.default)(u),d=a(620116),c=(0,l.default)(d),f=a(921806),g=(0,l.default)(f),p=a(680523),h=(0,l.default)(p),m=function(){function e(){(0,r.default)(this,e)}return(0,s.default)(e,null,[{key:"initClass",value:function(){this.prototype.products={create:function(){},index:function(e){return new g.default({type:"GET",url:h.default.PORTFOLIO.GET_PRODUCTS(e.pageId,e.category,e.page,e.per,(0,c.default)(e),e.sectionId),success:function(t){if("function"==typeof e.success)return e.success(t)},error:function(t){if(alert(n("Oops, a network issue occurred, please refresh and try again.")),"function"==typeof e.fail)return e.fail(t)}}).run()},get:function(e){var t=e.slug?h.default.PORTFOLIO.GET_PRODUCT_DETAIL_BY_SLUG(e.pageId,e.slug):h.default.PORTFOLIO.GET_PRODUCT_DETAIL(e.pageId,e.productId);return new g.default({type:"GET",url:t,success:function(t){if("function"==typeof e.success)return e.success(t)},error:function(t){if(e.fail)return e.fail(t);alert(n("Oops, a network issue occurred, please refresh and try again."))}}).run()},update:function(){},delete:function(){}},this.prototype.categories={get:function(e){return new g.default({type:"GET",url:h.default.PORTFOLIO.GET_CATEGORIES(e.pageId),success:function(t){if("function"==typeof e.success)return e.success(t)},error:function(t){if(alert(n("Oops, a network issue occurred, please refresh and try again.")),"function"==typeof e.fail)return e.fail(t)}}).run()}},this.prototype.settings={get:function(e){return new g.default({type:"GET",url:h.default.PORTFOLIO.SETTINGS(e.pageId),success:function(t){if("function"==typeof e.success)return e.success(t)},error:function(t){if(alert(n("Oops, a network issue occurred, please refresh and try again.")),"function"==typeof e.fail)return e.fail(t)}}).run()}},this.prototype.setting={post:function(e){return new g.default({type:"POST",url:h.default.PORTFOLIO.SETTING(e.pageId),success:function(t){if("function"==typeof e.success)return e.success(t)},error:function(t){if(alert(n("Oops, a network issue occurred, please refresh and try again.")),"function"==typeof e.fail)return e.fail(t)}}).run()}}}}]),e}();m.initClass(),t.default=new m,e.exports=t.default},162065:function(e,t,a){var n=a(663978),o=a(60530)(a(60530));n(t,"__esModule",{value:!0});var l=a(726394),i=(0,o.default)(l),r=a(569198),u=(0,o.default)(r),s=a(493476),d=(0,o.default)(s),c=a(680523),f=(0,o.default)(c),g=a(921806),p=(0,o.default)(g),h=function(){function e(){(0,i.default)(this,e)}return(0,u.default)(e,[{key:"create",value:function(e,t,a){return new p.default({url:f.default.SECTIONS.CREATE(),type:"POST",data:e,success:function(a){return"function"==typeof t?t(a,e):void 0},error:function(t,n){return"function"==typeof a?a(t,n,e):void 0}}).run()}},{key:"getByPage",value:function(e){e.siteId;var t=e.pageId,a=f.default.PAGE.GET_PAGE_DATA(t);return new d.default((function(e,t){new p.default({url:a,type:"GET",success:function(t){return e(t)},error:function(e,a){return t(a)}}).run()}))}}]),e}();t.default=new h,e.exports=t.default},476914:function(e,t,a){var n=a(353147),o=a(223765),l=a(752424),i=a(663978),r=a(834074),u=a(60530)(a(60530));i(t,"__esModule",{value:!0});var s=a(811128),d=(0,u.default)(s),c=a(977766),f=(0,u.default)(c),g=a(678580),p=(0,u.default)(g),h=a(730381),m=(0,u.default)(h);a(815461);var v=a(912972),E=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},l=i&&r;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=l?r(e,u):null;s&&(s.get||s.set)?i(n,u,s):n[u]=e[u]}return n.default=e,a&&a.set(e,n),n}(a(996646));function y(e){if("function"!=typeof l)return null;var t=new l,a=new l;return(y=function(e){return e?a:t})(e)}var _={formatDate:function(e,t,a){return E.formatDate(e,t,a)},fromNow:function(e,t,a){if(e){var o=(0,m.default)(e).locale(t),l=(0,m.default)().diff(o,"days");return l<1?o.fromNow():1===l?"".concat(n("Blog|a day ago")):l<=31?(0,v.t)(n("Blog|%{number} days ago"),{number:l}):o.format(a||E.getDateFormat(t))}return""},isExpired:function(e){return new Date-new Date(e)>0},getLastSaveText:function(e){var t=(0,d.default)()-e;return t<3e4?n("Editor|Saved just now."):t<9e4?n("Editor|Saved 1 min ago."):n("Editor|Saved %{minutes} min ago.",{minutes:~~(t/1e3/60)})},formatPublishedDate:function(e,t){return e?(0,m.default)(e).locale(t).format(E.getDateFormat(t)):""},formatBlogDate:function(e,t,a,o,l,i){var r,u,s,d,c=e||t,g=n("Blog|Scheduled for %{var}",{var:(0,m.default)(a).lang(o).format("lll")});return"scheduled"===t?(0,f.default)(r="".concat(g," ")).call(r,_.fromNow(l,o)):(0,p.default)(u=["published","pass"]).call(u,c)?(0,f.default)(s="".concat(n("Published")," ")).call(s,_.formatPublishedDate(l,o)):(0,f.default)(d="".concat(n("Draft created")," ")).call(d,_.fromNow(i,o))}};t.default=_,e.exports=t.default},851922:function(e,t,a){var n=a(663978),o=a(60530)(a(60530));n(t,"__esModule",{value:!0});var l=a(387937),i=(0,o.default)(l);t.default=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return{}},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return{}};return(0,i.default)(e,(function(e,a){return t(a)}),(function(e,t){return a(t)}),"Stores")},e.exports=t.default},109245:function(e,t,a){var n=a(353147),o=a(663978),l=a(60530)(a(60530));o(t,"__esModule",{value:!0});var i,r,u,s,d,c,f=a(812077),g=(0,l.default)(f),p=a(726394),h=(0,l.default)(p),m=a(569198),v=(0,l.default)(m),E=a(977766),y=(0,l.default)(E),_=a(20455),T=(0,l.default)(_),b=a(678580),C=(0,l.default)(b),P=a(778914),N=(0,l.default)(P),S=a(694473),O=(0,l.default)(S);a(974916),a(323123),a(569600);var L=a(366757),A=(0,l.default)(L),I=a(234584),w=(0,l.default)(I),D=a(766463),k=["grid","card"],R="automatic",B=[{key:"columns_mobile",label:function(){return n("Editor|Columns")},component:"select",children:[{value:R,label:function(){return n("Automatic")}},{value:"one",label:function(){return"1"},visible:[{type:"structure",value:k}]},{value:"two",label:function(){return"2"},visible:[{type:"structure",value:k}]}],defaultValue:R}],M={one:1,two:2,three:3,four:4},x={none:!1,show:!0};for(var G in x)x[x[G]]=G;var U={imageAlignment:"s-avatar-alignment",imageShape:"s-avatar",imageSize:"s-avatar",snippetLength:"s-snippet"},F=[{key:"structure",label:function(){return n("Editor|Structure")},component:"select",children:[{value:"rows",label:function(){return n("Editor|List")}},{value:"grid",label:function(){return n("Editor|Grid")}},{value:"card",label:function(){return n("Editor|Card")}},{value:"tiled",label:function(){return n("Editor|Tiled")}}]},{key:"columns",label:function(){return n("Editor|Columns")},component:"button",visible:[{type:"structure",value:["grid","card","tiled"]}],children:[{value:1,label:function(){return"1"},visible:[{type:"structure",value:["grid","card"]}]},{value:2,label:function(){return"2"}},{value:3,label:function(){return"3"}},{value:4,label:function(){return"4"}}]},{key:"imageShape",label:function(){return n("Editor|Image Shape")},component:"select",visible:[{type:"structure",value:["rows","grid","card"]}],children:[{value:"square",label:function(){return n("Editor|Square")}},{value:"landscape-4-3",label:function(){return n("Editor|Landscape (4:3)")}},{value:"landscape-16-9",label:function(){return n("Editor|Landscape (16:9)")}},{value:"landscape-4-1",label:function(){return n("Editor|Landscape (4:1)")}},{value:"circle",label:function(){return n("Editor|Small circle")},visible:[{type:"structure",value:["rows"]}]},{value:"none",label:function(){return n("Editor|No image")},visible:[{type:"structure",value:["rows"]}]}]},{key:"imageAlignment",label:function(){return n("Editor|Image Alignment")},component:"button",visible:[{type:"structure",value:["rows"]},{type:"imageShape",value:["square","circle","landscape-4-3","landscape-16-9","landscape-4-1"]}],children:[{value:"left",label:function(){return n("Editor|Left")}},{value:"right",label:function(){return n("Editor|Right")}}]},{key:"imageSize",label:function(){return n("Editor|Image Size")},component:"button",visible:[{type:"structure",value:["rows"]},{type:"imageShape",value:["square","landscape-4-3","landscape-16-9","landscape-4-1"]}],children:[{value:"s",label:function(){return n("Editor|S")}},{value:"m",label:function(){return n("Editor|M")}},{value:"l",label:function(){return n("Editor|L")}}]},{key:"snippetLength",label:function(){return n("Editor|Snippet")},component:"select",visible:[{type:"structure",value:["rows","grid"]}],children:[{value:"none",label:function(){return n("Editor|No snippet")}},{value:"short",label:function(){return n("Editor|Short snippet")}},{value:"long",label:function(){return n("Editor|Long snippet")},visible:[{type:"structure",value:["rows"]}]}]}],W=null;function Z(){return W||(W={columnOne:{thumbnail:[{value:"none",name:n("Editor|No thumbnail")},{value:"smallCircle",name:n("Editor|Small circle")},{value:"smallSquare",name:n("Editor|Small square")},{value:"landscape",name:n("Editor|Landscape")}],snippet:[{value:"none",name:n("Editor|No snippet")},{value:"short",name:n("Editor|Short snippet")},{value:"long",name:n("Editor|Long snippet")}]},columnOther:{thumbnail:[{value:"landscape",name:n("Editor|Landscape")},{value:"card",name:n("Editor|Card")}],snippet:{landscape:[{value:"none",name:n("Editor|No snippet")},{value:"short",name:n("Editor|Short snippet")}],card:[{value:"none",name:n("Editor|No snippet")}]}}}),W}var z=["one-thumbnail-snippet","one-thumbnail-none","one-none-none","one-none-snippet","one-landscape-none","one-landscape-snippet","num-landscape-none","num-landscape-short","num-card-none"],j={thumbnail:{none:"none",smallCircle:"circle",smallSquare:"square",landscape:"landscape",card:"card"},snippet:{none:0,short:100,long:300},titleLength:{one:999,two:100,three:68,four:68}},V=function(){function e(t){(0,h.default)(this,e);var a=t.split("-");this.columns=a[0],this.thumbnail=a[1],this.snippet=a[2],this.showCategoryTabs=x[a[3]]}return(0,v.default)(e,[{key:"serialize",value:function(){var e=this.columns,t=this.thumbnail,a=this.snippet,n=this.showCategoryTabs;return[e,t,a,x[n]].join("-")}},{key:"getAllColumns",value:function(){return M}},{key:"getThumbnailSelectItem",value:function(){var e=Z();return"one"===this.columns?e.columnOne.thumbnail:e.columnOther.thumbnail}},{key:"getSnippetSelectItem",value:function(){var e=Z();return"one"===this.columns?e.columnOne.snippet:e.columnOther.snippet[this.thumbnail]}},{key:"isRowAndLandscapeThumbnail",value:function(){return"one"===this.columns&&"landscape"===this.thumbnail}},{key:"isRowAndNoneThumbnail",value:function(){return"one"===this.columns&&"none"===this.thumbnail}},{key:"isColumnsAndCard",value:function(){return"one"!==this.columns&&"card"===this.thumbnail}},{key:"isColumns",value:function(){return"one"!==this.columns}},{key:"getLayoutClass",value:function(){var e;return"one"===this.columns?"s-layout-row s-avatar-".concat(j.thumbnail[this.thumbnail]):(0,y.default)(e="s-layout-columns ".concat(this.columns,"  s-avatar-")).call(e,j.thumbnail[this.thumbnail])}}]),e}(),H={},q={default:{A:"one-smallCircle-long-none",B:"one-smallCircle-none-none",C:"one-none-long-none",D:"one-landscape-short-none",E:"one-landscape-long-none",F:"three-landscape-short-none"},glow:{A:"one-smallCircle-long-none",B:"one-smallCircle-none-none",C:"one-none-long-none",D:"one-landscape-short-none",E:"one-landscape-long-none",F:"three-landscape-short-none",G:"three-card-none-none"}},Y={getDefaultLayoutKey:function(e,t){var a;return t?(a=(q[e]||q.default)[t])||(a=t):a=q.default.A,a},getLayout:function(e,t){var a=this.parseLayoutVariation(t);return function(){var n,o=(0,y.default)(n="".concat(e,"-")).call(n,t);if(H[o])return H[o];var l={showCategoryTabs:a.showCategoryTabs,isRowAndLandscapeThumbnail:a.isRowAndLandscapeThumbnail(),layoutClass:a.getLayoutClass(),isColumns:a.isColumns(),snippetLength:j.snippet[a.snippet],isColumnsAndCard:a.isColumnsAndCard(),isRowAndNoneThumbnail:a.isRowAndNoneThumbnail(),titleLength:j.titleLength[a.columns]};return H[o]=l,l}},getNewLayout:function(e,t){if(!e)return{};var a=this.parseLayoutVariation(t),n=this.getColumnsClassname(),o=e.get("structure"),l=e.get("imageShape"),i="rows"!==o;return{showCategoryTabs:a.showCategoryTabs,isRowAndLandscapeThumbnail:!i&&"circle"!==l&&"none"!==l,layoutClass:this.getNewLayoutClass(e),isColumns:i,snippetLength:j.snippet[e.get("snippetLength")],isColumnsAndCard:"card"===o,isRowAndNoneThumbnail:!i&&"none"===l,titleLength:j.titleLength[n[e.get("columns")-1]]}},parseLayoutVariation:function(e){return new V(e)},getLayoutOptions:function(){return z},getOldLayoutOptions:function(e){var t=q[e]||q.default;return(0,T.default)(t)},getArchiveDialogClass:function(e){var t=this.parseLayoutVariation(e);return"s-avatar-".concat(j.thumbnail[t.thumbnail])},getNewLayoutClass:function(e){var t,a,n=this.getColumnsClassname(),o=e.get("columns"),l=e.get("columns_mobile"),i=e.get("structure"),r=e.get("imageShape"),u=(0,y.default)(t=(0,y.default)(a="s-blog-new-layout s-blog-new-layout-".concat(i," ")).call(a,n[o-1]," ")).call(t,(0,C.default)(k).call(k,i)&&l?"mobile-".concat(l,"-columns mobile-columns"):"");return"rows"===i?(u+=" s-layout-row","perspective"===w.default.getThemeName()&&(u+=" s-blog-entry-wide-margin")):u+=" s-layout-columns","none"!==r&&"circle"!==r&&(u+=" s-avatar-landscape"),"card"===i&&(u+=" s-avatar-card"),(0,N.default)(e).call(e,(function(e,t){var a;U[t]&&(u+=(0,y.default)(a=" ".concat(U[t],"-")).call(a,e))})),u},getNewLayoutConfigByVariation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("-")||[],a={imageShape:"none",columns:M[t[0]]||3,snippetLength:"short",customized:!0,imageSize:"m",imageAlignment:"left"};return"one"===t[0]?(a.structure="rows",a.columns=1,a.templateName="D","smallSquare"===t[1]&&(a.imageShape="square",a.imageSize="s",a.templateName="A"),"smallCircle"===t[1]?(a.imageShape="circle",a.templateName="A"):"landscape"===t[1]&&(a.imageShape="landscape-16-9",a.templateName="A",a.imageAlignment="right")):"card"===t[1]?(a.structure="card",a.templateName="C",a.imageShape="square"):(a.structure="grid",a.imageShape="landscape-16-9",a.templateName="B"),"none"===t[2]&&(a.snippetLength="none"),"long"===t[2]&&(a.snippetLength="long"),"three"===t[0]&&"none"===t[2]&&(a.customized=!1),a},getNewLayoutConfigByTemplate:function(e){var t=[{templateName:"A",structure:"rows",imageShape:"landscape-4-3",imageAlignment:"left",imageSize:"m",columns:1,snippetLength:"short",customized:!1},{templateName:"B",structure:"grid",imageShape:"square",imageAlignment:"left",imageSize:"m",columns:3,snippetLength:"short",customized:!1},{templateName:"C",structure:"card",imageShape:"square",imageAlignment:"left",imageSize:"m",columns:3,snippetLength:"none",customized:!1},{templateName:"D",structure:"rows",imageShape:"none",imageAlignment:"left",imageSize:"m",columns:1,snippetLength:"short",customized:!1},{templateName:"E",structure:"grid",imageShape:"landscape-16-9",imageAlignment:"left",imageSize:"m",columns:1,snippetLength:"short",customized:!1},{templateName:"F",structure:"tiled",imageShape:"square",imageAlignment:"left",imageSize:"m",columns:3,snippetLength:"none",customized:!1}];return(0,O.default)(t).call(t,(function(t){return t.templateName===e}))||{}},getNewLayoutTemplates:function(){return[{name:"A",template:i||(i=(0,g.default)(A.default.Fragment,{},void 0,(0,g.default)("div",{className:"left"},void 0,(0,g.default)("div",{className:"block"})),(0,g.default)("div",{className:"right"},void 0,(0,g.default)("div",{className:"title"}),(0,g.default)("div",{className:"subtitle"}))))},{name:"B",template:r||(r=(0,g.default)(A.default.Fragment,{},void 0,(0,g.default)("div",{className:"left"},void 0,(0,g.default)("div",{className:"block"}),(0,g.default)("div",{className:"title"})),(0,g.default)("div",{className:"right"},void 0,(0,g.default)("div",{className:"block"}),(0,g.default)("div",{className:"title"}))))},{name:"C",template:u||(u=(0,g.default)(A.default.Fragment,{},void 0,(0,g.default)("div",{className:"left"},void 0,(0,g.default)("div",{className:"block"}),(0,g.default)("div",{className:"title"})),(0,g.default)("div",{className:"right"},void 0,(0,g.default)("div",{className:"block"}),(0,g.default)("div",{className:"title"}))))},{name:"D",template:s||(s=(0,g.default)("div",{className:"layout-template-d"},void 0,(0,g.default)("div",{className:"title"}),(0,g.default)("div",{className:"title"})))},{name:"E",template:d||(d=(0,g.default)(A.default.Fragment,{},void 0,(0,g.default)("div",{className:"block"}),(0,g.default)("div",{className:"title"})))},{name:"F",template:c||(c=(0,g.default)(A.default.Fragment,{},void 0,(0,g.default)("div",{className:"left"},void 0,(0,g.default)("div",{className:"block"}),(0,g.default)("div",{className:"block small"})),(0,g.default)("div",{className:"right"},void 0,(0,g.default)("div",{className:"block small"}),(0,g.default)("div",{className:"block"}))))}]},getNewLayoutOptions:function(e){return(0,D.getLayoutOptions)(e,F)},getColumnsClassname:function(){return["one","two","three","four"]},getAvailableMobileLayouts:function(){return k},getMobileLayoutOptions:function(e){return(0,D.getLayoutOptions)(e,B)}};t.default=Y,e.exports=t.default},766463:function(e,t,a){var n=a(663978),o=a(60530)(a(60530));n(t,"__esModule",{value:!0});var l=a(223765),i=(0,o.default)(l);t.getLayoutMapping=function(e){var t,a={};return(0,u.default)(t=(0,d.default)(e)).call(t,(function(t){return a[t]=(n=e[t],o={},function e(){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,u.default)(t=(0,d.default)(a)).call(t,(function(t){var l=n+(n?"-".concat(t):t),r=a[t];"object"!==(0,i.default)(r)?o[l]=r:e(l,r)}))}("",n),o);var n,o})),a},t.getThemeName=I,t.getThemeFeature=w,t.generateColumnClassWithOffset=D,t.generateColumnClass=k,t.generateItemClassByColumnsNum=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=16,n=I(),o="";if("persona"===n)o=4===e?"three columns half-fixed":5===e?"spfive columns half-fixed":6===e?"two columns half-fixed":k(12/e);else switch(e){case 1:o=w("narrowMedia")?t?k(14):D(14,14):k(a);break;case 3:o="third columns";break;case 4:o="four columns half-fixed";break;case 5:o="fifth columns half-fixed";break;case 6:o="sixth columns half-fixed";break;default:o=k(a/e)}return"".concat(o," no-float")},t.getClosestKey=function(e,t,a){for(var n=t.split("-"),o=e,l="",i="",r=0,u=n.length;r<u;r++){if(!o[i=n[r]]){if(r>=1){for(var s=r;s<a;s++)o=o[i=(0,d.default)(o)[0]],l+="".concat(i,"-");break}return""}o=o[i],l+="".concat(i,"-")}if((0,d.default)(o).length)for(var c=n.length;c<a;c++)o=o[i=(0,d.default)(o)[0]],l+="".concat(i,"-");return l.replace(/-$/,"")},t.removeOldBackgroundForText=function(e){var t,n=a(225425),o=a(971638),l=I(),i=e,r=i.getDefaultBinding().get("template_name"),u=i._getLayoutBinding().get("layout_variation");n.getLayoutMapping(l)[u]||"text"!==r||(0,p.default)(t=["persona","perspective"]).call(t,l)||i.getComponentBinding("background1").merge(O.default.fromJS(o.dataForEmptyBackground()))},t.getLayoutOptions=function(e,t){var a=(0,b.default)(t).call(t,(function(t){var a=t.visible,n=t.children;return!a||R(e,a)?(0,P.default)({},t,{children:B(e,n)}):null}));return(0,_.default)(a).call(a,(function(e){return Boolean(e)}))},t.saveNewLayoutConfig=function(e,t){e.merge(O.default.fromJS(t))},t.adjustImageSize=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.outerWidth()||0,o=e.outerHeight()||0,l=n/o,i=t.prop("naturalWidth"),r=t.prop("naturalHeight"),u=i/r||4/3;if(l>u){var s=n+10,d=s/u;t.width(s),t.height(d),t.css({top:"".concat((o-d)/2,"px")}),a?t.css({right:"".concat((n-s)/2,"px")}):t.css({left:"".concat((n-s)/2,"px")})}else{var c=o+10,f=c*u;t.height(c),t.width(f),t.css({top:"".concat((o-c)/2,"px")}),a?t.css({right:"".concat((n-f)/2,"px")}):t.css({left:"".concat((n-f)/2,"px")})}},a(974916),a(323123),a(115306);var r=a(778914),u=(0,o.default)(r),s=a(686902),d=(0,o.default)(s),c=a(977766),f=(0,o.default)(c),g=a(678580),p=(0,o.default)(g),h=a(277149),m=(0,o.default)(h),v=a(981643),E=(0,o.default)(v),y=a(620116),_=(0,o.default)(y),T=a(2991),b=(0,o.default)(T),C=a(51942),P=(0,o.default)(C),N=a(496486),S=((0,o.default)(N),a(143393)),O=(0,o.default)(S),L={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16};for(var A in L)L[L[A]]=A;function I(){return a(234584).getThemeName()}function w(e){var t=a(843296).get(I());return t&&t.features&&t.features[e]}function D(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=Math.floor((n-a)/2);return(0,f.default)(t="".concat(L[e]," columns ")).call(t,o?"offset-".concat(L[o]):"")}function k(e){return"".concat(L[e]," columns")}function R(e,t){return!(0,m.default)(t).call(t,(function(t){var a=t.type,n=t.value;return n&&-1===(0,E.default)(n).call(n,e.get(a))}))}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,_.default)(t).call(t,(function(t){var a=t.visible;return!a||R(e,a)}))}},225425:function(e,t,a){var n=a(353147),o=a(663978),l=a(60530)(a(60530));o(t,"__esModule",{value:!0}),a(974916),a(323123);var i=a(51942),r=(0,l.default)(i),u=a(981643),s=(0,l.default)(u),d=a(686902),c=(0,l.default)(d),f=a(766463),g="automatic",p=[{key:"columns_mobile",label:function(){return n("Editor|Columns")},component:"select",children:[{value:g,label:function(){return n("Automatic")}},{value:"one",label:function(){return"1"}},{value:"two",label:function(){return"2"}}],defaultValue:g}],h={repeatableClass:"",itemClass:"",textClass:"",buttonClass:""},m="s-mh",v="s-text-button";function E(){return h}function y(e){return(0,r.default)({},h,e)}function _(e){var t=(0,f.generateItemClassByColumnsNum)(e.columnsNum,!0),a=e.box?"s-mhi s-info-box":"s-mhi";return{text:function(){return y({repeatableClass:m,itemClass:t,textClass:a})},button:function(){return y({repeatableClass:m,itemClass:t,textClass:a,buttonClass:v})}}}function T(e,t){var a=e.getRepeatableBinding("repeatable1").get().size,n="";return n=a<=2||a%2&&0==t?"":"half",2==a?0==t&&(n+=" border-bottom"):(t<a-2&&(n+=" border-bottom"),t>0&&t%2&&a%2&&(n+=" border-right"),t%2||a%2||(n+=" border-right")),a<=4&&(n+=" large-info-box"),"s-persp-column s-mhi ".concat(n)}function b(e,t){return"s-persp-container absolute ".concat(["topRight","bottomLeft","bottomRight"][t])}function C(e){return function(t,a){var n=t,o=n.getRepeatableBinding("repeatable1").sub(a),l="";return n.sbAnyHasContent("text1 text2",{parentBinding:o,showOnly:!1})&&(l="s-persp-".concat(e)),l}}function P(e){return{text:function(){return y({itemClass:b,textClass:C(e)})},button:function(){return y({itemClass:b,textClass:C(e),buttonClass:v})}}}function N(){return{text:function(){return y({repeatableClass:"s-mh",itemClass:T,textClass:"s-info-box"})},button:function(){return y({repeatableClass:"s-mh",itemClass:T,textClass:"s-info-box",buttonClass:"s-text-button"})}}}var S={default:{text:{one:_({columnsNum:1}),two:_({columnsNum:2}),three:_({columnsNum:3}),four:_({columnsNum:4})},box:{one:_({columnsNum:1,box:!0}),two:_({columnsNum:2,box:!0}),three:_({columnsNum:3,box:!0}),four:_({columnsNum:4,box:!0})}},perspective:{text:{overlay:P("overlay"),card:P("card")},box:{center:N(),mediaLeft:N(),mediaRight:N()}}},O=(0,f.getLayoutMapping)(S),L={default:{"1col":"box-one-text","2col":"box-two-text","3col":"box-three-text","4col":"box-four-text"},perspective:{overlay:"text-overlay-text",card:"text-card-text",mediaLeft:"box-mediaLeft-text",mediaRight:"box-mediaRight-text",center:"box-center-text"}},A={default:{text:function(e){return"text-one-".concat(e)},box:function(e){return"box-two-".concat(e)}},perspective:{text:function(e){return"text-card-".concat(e)},box:function(e){return"box-center-".concat(e)}}};t.default={getDefaultLayoutKey:function(e,t){var a=(L[e]||L.default)[t=t||""];if((O[e]||O.default)[t]&&(a=t),!a){var n=-1!==(0,s.default)(t).call(t,"button")?"button":"text",o=t.split("-")[0],l=A[e]||A.default;a=l[o]&&l[o](n)}return a||(a=(0,c.default)(O[e]||O.default)[0]),a},getLayout:function(e,t){return(O[e]||O.default)[t]||E},getLayoutOptions:function(e){return S[e]||S.default},getLayoutMapping:function(e){return O[e]||O.default},getMobileLayoutOptions:function(){return p}},e.exports=t.default},386912:function(e,t,a){var n=a(223765),o=a(752424),l=a(663978),i=a(834074);l(t,"__esModule",{value:!0});var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var o={},r=l&&i;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var d=r?i(e,s):null;d&&(d.get||d.set)?l(o,s,d):o[s]=e[s]}return o.default=e,a&&a.set(e,o),o}(a(496486));function u(e){if("function"!=typeof o)return null;var t=new o,a=new o;return(u=function(e){return e?a:t})(e)}var s={};function d(e,t){return s[e][t]||t}function c(e,t,a,n){return a>n?t:r.reduce(t,(function(t,o,l){var i=o;r.isPlainObject(o)?i=c(e,o,a+1,n):r.isArray(o)&&(i=r.map(o,(function(t){return c(e,t,a+1,n)}))),s[e]=s[e]||{};var u=r.camelCase(l);return function(e,t,a){s[e]=s[e]||{},s[e][t]=a}(e,u,l),t[u]=i,t}),{})}function f(e,t,a,n){return a>n?t:r.reduce(t,(function(t,o,l){var i=o;return r.isPlainObject(o)?i=f(e,o,a+1,n):r.isArray(o)&&(i=r.map(o,(function(t){return f(e,t,a+1,n)}))),t[d(e,l)]=i,t}),{})}t.default={getCache:function(e,t){return d(e,t)},convertToCamel:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return c(e,t,0,a)},convertToSnake:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=s[e];return void 0===n&&console.error("".concat(e," has to be converted to camel first before it can be used")),f(e,t,0,a)}},e.exports=t.default},879893:function(e,t,a){var n=a(353147),o=a(501068),l=a(686902),i=a(14310),r=a(620116),u=a(834074),s=a(778914),d=a(239649),c=a(820368),f=a(663978),g=a(60530)(a(60530));f(t,"__esModule",{value:!0});var p,h,m,v,E,y=a(205872),_=(0,g.default)(y),T=a(359036),b=(0,g.default)(T),C=a(812077),P=(0,g.default)(C),N=a(726394),S=(0,g.default)(N),O=a(569198),L=(0,g.default)(O),A=a(705824),I=(0,g.default)(A),w=a(351379),D=(0,g.default)(w),k=a(900214),R=(0,g.default)(k),B=a(566380),M=(0,g.default)(B),x=a(487672),G=(0,g.default)(x);a(974916),a(864765);var U=a(694473),F=(0,g.default)(U),W=a(54103),Z=(0,g.default)(W),z=a(981643),j=(0,g.default)(z),V=a(492762),H=(0,g.default)(V),q=a(366757),Y=(0,g.default)(q),J=a(45697),X=(0,g.default)(J),K=a(223336),$=(0,g.default)(K),Q=a(143393),ee=(0,g.default)(Q),te=a(868309),ae=(0,g.default)(te),ne=a(755802),oe=((0,g.default)(ne),a(786483)),le=(0,g.default)(oe),ie=a(508962),re=(0,g.default)(ie),ue=a(294184),se=(0,g.default)(ue),de=a(176965),ce=(0,g.default)(de),fe=a(421522),ge=(0,g.default)(fe),pe=a(109245),he=(0,g.default)(pe),me=a(487628),ve=(0,g.default)(me),Ee=a(183123),ye=(0,g.default)(Ee),_e=a(874346),Te=(0,g.default)(_e),be=a(77178),Ce=(0,g.default)(be),Pe=a(344711),Ne=(0,g.default)(Pe),Se=a(141655),Oe=((0,g.default)(Se),a(169042)),Le=((0,g.default)(Oe),a(549556)),Ae=((0,g.default)(Le),a(500134));function Ie(e,t){var a=l(e);if(i){var n=i(e);t&&(n=r(n).call(n,(function(t){return u(e,t).enumerable}))),a.push.apply(a,n)}return a}var we=ge.default.decorate(ce.default.Mixin)((m=h=function(e){(0,D.default)(i,e);var t,a,l=(t=i,a=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,M.default)(t);if(a){var l=(0,M.default)(this).constructor;e=o(n,arguments,l)}else e=n.apply(this,arguments);return(0,R.default)(this,e)});function i(e){var t,a;return(0,S.default)(this,i),a=l.call(this,e),(0,G.default)((0,I.default)(a),"_getCategoryBarProps",(function(){var e=a.constructor.sharedProps().getCategories;return{currentCategory:a.props.category.get("id"),categories:e(),changeCategory:a._changeCategory}})),(0,G.default)((0,I.default)(a),"_onClickEditor",(function(e){var t=a.props.category;a.constructor.sharedProps().openBlogManagerDialog(function(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=Ie(Object(n),!0)).call(a,(function(t){(0,G.default)(e,t,n[t])}));else if(d)c(e,d(n));else{var o;s(o=Ie(Object(n))).call(o,(function(t){f(e,t,u(n,t))}))}}return e}({category:t.get("id")},e))})),(0,G.default)((0,I.default)(a),"publishOpenSideMenuTabPanel",(function(e){(a._getPostsProps()||{}).showDummyData})),(0,G.default)((0,I.default)(a),"postChangeListener",(function(e){e===a.props.category.get("id")&&(a.forceUpdate(),(0,$.default)(window).trigger("resize"))})),(0,G.default)((0,I.default)(a),"categoriesChangeListener",(function(){a.forceUpdate()})),(0,G.default)((0,I.default)(a),"_changeCategory",(function(e){var t,o=a.constructor.sharedProps().getCategories;if("all"!==e){var l=o();t=(0,F.default)(l).call(l,(function(t){return t.id===e}))}else t={id:"all",name:n("Section|All Categories")};a.getDefaultBinding().set("category",ee.default.fromJS(t))})),(0,G.default)((0,I.default)(a),"getIsShowComponentOverlay",(function(){return(a._getPostsProps()||{}).showDummyData,!1})),(0,G.default)((0,I.default)(a),"renderTooltipTilte",(function(){return Y.default.createElement(Y.default.Fragment,null,n("Editor|These sample posts won’t be shown on your live site. And the samples will be removed when you add your own posts."),v||(v=(0,P.default)("br",{})),n("Editor|Click here to add your own posts!"))})),a.state={isFetchingPosts:!1,isShowBlogTooltip:!1},a.loadingChangeListener=(0,Z.default)(t=a.loadingChangeListener).call(t,(0,I.default)(a)),a}return(0,L.default)(i,[{key:"componentDidMount",value:function(){var e=this,t=this.constructor.sharedProps(),a=t.addBlogPostsChangeListener,n=t.addBlogPostsLoadingStateListener,o=t.addBlogCategoriesChangeListener,l=this.props,i=l.sectionId,r=l.layoutSetting,u=(r=void 0===r?{}:r).blogNumber;l.inSectionSelector||(a(this.postChangeListener,i),o(this.categoriesChangeListener),le.default.Event.subscribe("BlogManager.CloseDialog",(function(){e.fetchBlogCategories(),e.fetchPosts(1,u,i)})),this.fetchBlogCategories(),this.fetchPosts(1,u,i),n(this.loadingChangeListener,i))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.sectionId,n=t.layoutSetting,o=(n=void 0===n?{}:n).blogNumber;if(!t.inSectionSelector){(e.category.get("id")||"all")!==(this.props.category.get("id")||"all")&&this.fetchPosts(1,o,a);var l=e.layoutSetting;(l=void 0===l?{}:l).blogNumber!==o&&this.fetchPosts(1,o,a)}}},{key:"componentWillUnmount",value:function(){var e=this.constructor.sharedProps(),t=e.removeBlogPostsLoadingStateListener,a=e.removeBlogPostsChangeListener,n=e.removeBlogCategoriesChangeListener,o=this.props,l=o.sectionId;o.inSectionSelector||(t(this.loadingChangeListener,l),a(this.postChangeListener,l),n(this.categoriesChangeListener))}},{key:"getPagination",value:function(){var e=this.props,t=e.category,a=e.sectionId,n=e.layoutSetting,o=(n=void 0===n?{}:n).blogNumber,l=t.get("id"),i=this.constructor.sharedProps().getPagination;return o?i(l,a):i(l)}},{key:"_getPostsProps",value:function(){var e,t,a=this.props,n=a.layout,o=a.category,l=a.sectionId,i=a.layoutSetting,r=(i=void 0===i?{}:i).blogNumber,u=a.layoutConfig,s=a.isPreviewMode,d=this.constructor.sharedProps().getBlogShowDummyData,c=o.get("id");return t=r?d(c,l):d(c),{layout:n,category:o,openArchiveDialog:(0,Z.default)(e=this.openArchiveDialog).call(e,this),layoutConfig:u,showDummyData:t,isPreviewMode:s}}},{key:"_getFooterProps",value:function(){var e,t,a,n=this.props.category;return{fromBlogPage:this.context.fromBlogPage,category:n,isFetchingPosts:this.state.isFetchingPosts,fetchPosts:(0,Z.default)(e=this.fetchPosts).call(e,this),openArchiveDialog:(0,Z.default)(t=this.openArchiveDialog).call(t,this),getPagination:(0,Z.default)(a=this.getPagination).call(a,this)}}},{key:"_getLayoutObject",value:function(){var e=this.constructor.sharedProps().themeName,t=this.props.layout;return he.default.getLayout(e,t)()}},{key:"toggleTooltip",value:function(e){(this._getPostsProps()||{}).showDummyData&&this.setState({isShowBlogTooltip:e})}},{key:"loadingChangeListener",value:function(e){this.setState({isFetchingPosts:e})}},{key:"fetchBlogCategories",value:function(){var e=this.constructor.sharedProps();(0,e.fetchBlogCategories)(e.pageId,this.props.category.get("id"))}},{key:"fetchPosts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"null",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.props.inSectionSelector&&"audience_agent"!==Ne.default.getRole()&&"store_manager"!==Ne.default.getRole()){var o=this.constructor.sharedProps(),l=o.fetchBlogPosts,i=o.pageId,r=ye.default.getIsPreview(),u="";if(!0&r){var s=window.location||{},d=s.search,c=void 0===d?"":d;-1!==(0,j.default)(c).call(c,"without_custom_code=true")&&(u="&without_custom_code=true")}this.setState({isFetchingPosts:!0}),l(i,t,a,this.props.category.toJS(),!0,n,u).fail((function(){e.props.onConnectionFailed()})).always((function(){return e.setState({isFetchingPosts:!1})}))}}},{key:"openArchiveDialog",value:function(e,t){if(this.constructor.sharedProps().fromSiteToApp)return this.props.onClickTag(e);var a=this.props,n=a.layout,o="all"===a.category.get("id");return(0,this.constructor.sharedProps().updateBlogArchiveDialog)(e,n,o,t),re.default.openDialog("blogArchiveDialog",{shade:!1}),null}},{key:"render",value:function(){var e,t,a,o=this,l=this.constructor.sharedProps(),i=l.getPosts,r=l.getShowMorePostsWith,u=l.getCategories,s=l.themeName,d=this.props,c=d.category,f=d.sectionId,g=d.layoutSetting,p=(g=void 0===g?{}:g).blogNumber,h=d.inSectionSelector,m=d.templateDummyData,v=this.state,y=v.isFetchingPosts,T=v.isShowBlogTooltip,C=u(),N=this.getPagination(),S=this._getLayoutObject().showCategoryTabs,O=this.context.fromBlogPage,L=r(),A=(this._getPostsProps()||{}).showDummyData,I=h&&(p||3)<m.length,w=p||3;a=p||A?i(c.get("id"),f):i(c.get("id")),h&&(a=(0,b.default)(m)||[]),!O&&a&&"pagination"!==L&&(0,H.default)(a).call(a,w,a.length);var D="persona"!==s?"columns sixteen":"";return(0,P.default)("div",{},void 0,S&&C.length>0&&!h&&Y.default.createElement(ve.default,this._getCategoryBarProps(),(0,P.default)("div",{className:"s-component-editor-wrapper"},void 0,(0,P.default)("div",{className:(0,se.default)("s-component-overlay",{visible:ye.default.getInWeChat()}),onClick:function(){return o._onClickEditor({activeTab:"settings",activeSettingsPane:"category"})}},void 0,(0,P.default)("div",{className:"overlay"},void 0,(0,P.default)("div",{className:"center"},void 0,(0,P.default)("span",{},void 0,n("Editor|Blog Categories"))))))),(0,P.default)("div",{className:"s-component s-blog ".concat(D)},void 0,this.getIsShowComponentOverlay()&&(0,P.default)("div",{className:"s-component-editor-wrapper"},void 0,(0,P.default)("div",{onMouseEnter:(0,Z.default)(e=this.toggleTooltip).call(e,this,!0),onMouseLeave:(0,Z.default)(t=this.toggleTooltip).call(t,this,!1),className:"s-component-overlay",onClick:function(){return o._onClickEditor()}},void 0,(0,P.default)("div",{className:"center"},void 0,(0,P.default)(Ae.Tooltip,{getPopupContainer:function(e){return null==e?void 0:e.parentNode},destroyTooltipOnHide:!0,visible:T,title:this.renderTooltipTilte()},void 0,(0,P.default)("span",{},void 0,n("Editor|Manage Blog Posts")))))),(0,P.default)("div",{className:"s-blog-wrapper"},void 0,(0,P.default)("div",{className:"s-blog-col-placeholder clearfix"},void 0,a?Y.default.createElement(Te.default,(0,_.default)({blogPosts:a},this._getPostsProps())):E||(E=(0,P.default)("div",{className:"s-loading"})),(!y&&N||I)&&Y.default.createElement(Ce.default,(0,_.default)({},this._getFooterProps(),{inSectionSelector:h}))))))}}]),i}(Y.default.Component),(0,G.default)(h,"contextTypes",{fromBlogPage:X.default.bool}),p=m))||p;we.defaultProps={layout:"one-smallCircle-none-none",category:ee.default.Map({id:"all",name:n("Section|All Categories")})},we.WaypointLazy=(0,ae.default)(we),t.default=we,e.exports=t.default},77178:function(e,t,a){var n=a(353147),o=a(501068),l=a(663978),i=a(60530)(a(60530));l(t,"__esModule",{value:!0});var r,u=a(812077),s=(0,i.default)(u),d=a(726394),c=(0,i.default)(d),f=a(569198),g=(0,i.default)(f),p=a(351379),h=(0,i.default)(p),m=a(900214),v=(0,i.default)(m),E=a(566380),y=(0,i.default)(E),_=a(54103),T=(0,i.default)(_),b=a(366757),C=(0,i.default)(b),P=a(45697),N=((0,i.default)(P),a(805803)),S=a(183123),O=(0,i.default)(S),L=a(62431),A=a(604990),I=(0,i.default)(A),w=a(513495),D=(0,i.default)(w);var k=function(e){(0,h.default)(i,e);var t,a,l=(t=i,a=function(){if("undefined"==typeof Reflect||!o)return!1;if(o.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,y.default)(t);if(a){var l=(0,y.default)(this).constructor;e=o(n,arguments,l)}else e=n.apply(this,arguments);return(0,v.default)(this,e)});function i(){return(0,c.default)(this,i),l.apply(this,arguments)}return(0,g.default)(i,[{key:"loadMorePosts",value:function(){var e=this.props.getPagination(),t=(e&&e.currentPage||0)+1;this.props.fetchPosts(t)}},{key:"goToPage",value:function(e){var t=this.props.getPagination().perPage,a=this.constructor.sharedProps().themeName;this.props.fetchPosts(e,t),"persona"!==a&&(window.location="#blog")}},{key:"needToShowFooter",value:function(){var e=(0,this.constructor.sharedProps().getShowMorePostsWith)(),t=this.props.getPagination();return!!this.props.inSectionSelector||("pagination"===e?t.totalPages>1:t.currentPage<t.totalPages)}},{key:"renderPagination",value:function(){var e,t,a=this.props.getPagination(),o=a.currentPage,l=a.totalPages,i=Math.min(l,10);o+3>i&&(i=Math.min(l,o+3));for(var r=[],u=1;u<i+1;u++){var d;r.push((0,s.default)("li",{},u,(0,s.default)("a",{className:u===o?"s-blog-link s-blog-pagination-page active":"s-blog-link s-blog-pagination-page ",onClick:(0,T.default)(d=this.goToPage).call(d,this,u)},void 0,u)," "))}return r.length>1&&(0,s.default)("div",{className:"s-blog-col-foot s-font-body"},void 0,o>1?(0,s.default)("a",{className:"s-blog-link s-blog-next-link",onClick:(0,T.default)(e=this.goToPage).call(e,this,o-1)},void 0,n("Blog|Newer")):""," ",(0,s.default)("ul",{className:"ul s-blog-pagination"},void 0,r)," ",o<l?(0,s.default)("a",{className:"s-blog-link s-blog-prev-link",onClick:(0,T.default)(t=this.goToPage).call(t,this,o+1)},void 0,n("Blog|Older")):"")}},{key:"render",value:function(){var e=this.constructor.sharedProps(),t=e.getShowMorePostsWith,a=e.fromSiteToApp,o=this.props,l=o.category,i=o.fromBlogPage,u=o.isFetchingPosts,d=o.openArchiveDialog,c=l.get("id"),f=l.get("name"),g=t();return this.needToShowFooter()?"pagination"===g?this.renderPagination():a?i?u?r||(r=(0,s.default)("i",{className:"fa fa-spin fa-spinner"})):(0,s.default)("span",{className:"s-common-button s-small-button s-font-body",onClick:this.loadMorePosts},void 0,n("Blog|More Posts")):(0,s.default)(N.Link,{className:"s-common-button s-small-button s-font-body",to:"/blog/page?category=".concat(c)},void 0,n("Blog|More Posts")):(0,s.default)("div",{className:"s-blog-col-foot"},void 0,(0,s.default)(D.default,{component:"span",className:"s-common-button s-small-button s-font-body",onClick:(0,T.default)(d).call(d,this,"all"===c?void 0:f,c)},void 0,n("Blog|More Posts"))):null}}]),i}(C.default.Component);k.sharedProps=(0,L.sharedPropsBuilder)((function(){return[]}),(function(){return{fromSiteToApp:O.default.getFromSiteToApp(),getShowMorePostsWith:I.default.getShowMorePostsWith}})),t.default=k,e.exports=t.default},874346:function(e,t,a){var n=a(353147),o=a(223765),l=a(501068),i=a(686902),r=a(14310),u=a(620116),s=a(834074),d=a(778914),c=a(239649),f=a(820368),g=a(663978),p=a(752424),h=a(60530)(a(60530));g(t,"__esModule",{value:!0});var m,v,E,y,_,T,b,C,P=a(812077),N=(0,h.default)(P),S=a(487672),O=(0,h.default)(S),L=a(359036),A=(0,h.default)(L),I=a(726394),w=(0,h.default)(I),D=a(569198),k=(0,h.default)(D),R=a(351379),B=(0,h.default)(R),M=a(900214),x=(0,h.default)(M),G=a(566380),U=(0,h.default)(G);a(974916),a(115306),a(804723),a(323123);var F=a(981643),W=(0,h.default)(F),Z=a(703649),z=(0,h.default)(Z),j=a(344494),V=(0,h.default)(j),H=a(778914),q=(0,h.default)(H),Y=a(977766),J=(0,h.default)(Y),X=a(2991),K=(0,h.default)(X),$=a(678580),Q=(0,h.default)($),ee=a(54103),te=(0,h.default)(ee),ae=a(366757),ne=(0,h.default)(ae),oe=a(294184),le=(0,h.default)(oe),ie=a(45697),re=((0,h.default)(ie),a(496486)),ue=(0,h.default)(re),se=a(476914),de=(0,h.default)(se),ce=(Be(a(143268)),Be(a(144726))),fe=a(223336),ge=(0,h.default)(fe),pe=a(607947),he=(0,h.default)(pe),me=a(937195),ve=(0,h.default)(me),Ee=a(43138),ye=(0,h.default)(Ee),_e=a(109245),Te=(0,h.default)(_e),be=a(62431),Ce=a(183123),Pe=(0,h.default)(Ce),Ne=a(234584),Se=(0,h.default)(Ne),Oe=a(680523),Le=((0,h.default)(Oe),a(604990)),Ae=(0,h.default)(Le),Ie=a(500134),we=Be(a(818166)),De=a(837337),ke=(0,h.default)(De);function Re(e){if("function"!=typeof p)return null;var t=new p,a=new p;return(Re=function(e){return e?a:t})(e)}function Be(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var a=Re(t);if(a&&a.has(e))return a.get(e);var n={},l=g&&s;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=l?s(e,i):null;r&&(r.get||r.set)?g(n,i,r):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}function Me(e,t){var a=i(e);if(r){var n=r(e);t&&(n=u(n).call(n,(function(t){return s(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)d(a=Me(Object(n),!0)).call(a,(function(t){(0,O.default)(e,t,n[t])}));else if(c)f(e,c(n));else{var o;d(o=Me(Object(n))).call(o,(function(t){g(e,t,s(n,t))}))}}return e}var Ge=Ie.Tag.Tag,Ue=Te.default.getColumnsClassname(),Fe=Te.default.getAvailableMobileLayouts(),We=/(width=')([0-9]+)/i,Ze=/(height=')([0-9]+)/i,ze=function(e){(0,B.default)(i,e);var t,a,o=(t=i,a=function(){if("undefined"==typeof Reflect||!l)return!1;if(l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,U.default)(t);if(a){var o=(0,U.default)(this).constructor;e=l(n,arguments,o)}else e=n.apply(this,arguments);return(0,x.default)(this,e)});function i(){return(0,w.default)(this,i),o.apply(this,arguments)}return(0,k.default)(i,[{key:"componentDidMount",value:function(){var e=this;(0,ge.default)(window).resize(he.default.debounce((function(){return e.forceUpdate()}),200))}},{key:"getHeaderBackgroundImageUrl",value:function(e){var t=e.headerImage,a="";return t.storageKey?a=ce.createImage(t).getUrlWithoutFocus(this._getImageSize()):"!"!==t.url&&(a=t.url),a}},{key:"getFirstContentImageUrl",value:function(e){var t=e.firstContentImage,a="";return t&&(a=ce.createImage(t).getUrl(this._getImageSize())),a}},{key:"_getImageSize",value:function(){var e=Pe.default.getIsNewBlogLayout(),t=this.props.layoutConfig;return["540x540>","2000x2000>","1440x1440>","1080x1080>","1080x1080>"][e?t&&t.get("columns"):0]}},{key:"_getLayoutObject",value:function(){var e=this.constructor.sharedProps().themeName,t=this.props,a=t.layout,n=t.layoutConfig;return Pe.default.getIsNewBlogLayout()&&n?Te.default.getNewLayout(n,a):Te.default.getLayout(e,a)()}},{key:"linkToPost",value:function(e){this.constructor.sharedProps().isPreview,this._getLayoutObject().isColumnsAndCard&&(window.location.href=e)}},{key:"transformBlurb",value:function(e){var t=this._getLayoutObject().snippetLength,a=0===(0,W.default)(e).call(e,"\\n")?(0,z.default)(e).call(e,2):e;return a=a.replace(/(\\n)+/g," "),0===t?"":ue.default.truncate(a,{length:t,separator:/\W/})}},{key:"transformTitle",value:function(e,t){var a=/[^\x00-\xff]/g;if(e.replace(a,"mm").length<=t)return e;for(var n=0,o=1;o<e.length&&(n=o,!(e.substr(0,o).replace(a,"mm").length>=t));o++);if(/[A-Za-z]/.test(e[n-1]))for(var l=/\W/,i=n+1;i<e.length;i++)if(l.test(e[i])){n=i;break}return"".concat(e.substr(0,n),"...")}},{key:"_getTiledList",value:function(){var e=this.props,t=e.blogPosts,a=e.layoutConfig,n=[],o=[],l=a&&a.get("columns");return l?(n.length=l,o.length=l,(0,V.default)(n).call(n,[]),(0,V.default)(o).call(o,0),(0,q.default)(t).call(t,(function(e){var t,a=(0,W.default)(o).call(o,Math.min.apply(Math,o));if(-1!==a){var l=e.headerImage,i=l.w,r=l.h,u=l.videoHtml,s=void 0===u?"":u;if(!i&&!r){var d=s&&s.match(We),c=s&&s.match(Ze);i=d?d[2]:null,r=c?c[2]:null}var f=(r||1)/(i||1)*100;ye.default.isSmallScreen()&&(f=0),o[a]+=f+30,n[a]=(0,J.default)(t=[]).call(t,(0,A.default)(n[a]),[xe(xe({},e),{},{renderPercentage:f})])}})),n):[]}},{key:"_renderThumbnail",value:function(e){var t,a,n=this._getLayoutObject().isRowAndLandscapeThumbnail,o=this.getHeaderBackgroundImageUrl(e),l=this.getFirstContentImageUrl(e);t=n?l||o:o||l;var i=n&&t===l?"s-blog-whole-avatar s-blog-avatar":"s-blog-avatar";return a=ye.default.isSmallScreen()?(0,N.default)("div",{className:i,style:{backgroundImage:"url(".concat(t.replace(".mp4",".jpg"),")")}}):/\.mp4$/.test(t)?(0,N.default)("div",{className:i},void 0,(0,N.default)("video",{src:t,autoPlay:"true",muted:"true",loop:"true",width:"100%"})):(0,N.default)("div",{className:i,style:{backgroundImage:"url(".concat(t,")")}}),t?a:m||(m=(0,N.default)("div",{className:"s-blog-default-avatar s-blog-avatar"},void 0,(0,N.default)("div",{className:"entypo-bookmark"})))}},{key:"_renderNoPost",value:function(){var e=this.props;return e.isPreviewMode,e.category.get("id"),(0,N.default)("div",{className:"s-blog-col-body s-blog-no-posts"},void 0,(0,N.default)("div",{className:"s-common-status s-font-body no-posts-error"},void 0,(0,N.default)("div",{},void 0,n("Blog|There are no published blog posts yet."))))}},{key:"renderTiledList",value:function(){var e=this,t=this._getTiledList(),a=this.props.layoutConfig,n=a.get("columns_mobile"),o=a.get("structure");return(0,K.default)(t).call(t,(function(t,l){var i;return(0,N.default)("div",{className:(0,J.default)(i="tiled-columns s-blog-entry s-layout-columns ".concat(Ue[a.get("columns")-1]||"one"," ")).call(i,(0,Q.default)(Fe).call(Fe,o)&&n?"mobile-".concat(n,"-columns mobile-columns"):"")},"tiled-column-".concat(l),(0,K.default)(t).call(t,(function(t,a){var n=t.renderPercentage,o=(0,ke.default)("div",{target:"css-xbt5lh0"})(".s-blog-entry.s-blog-new-layout.s-layout-columns.s-avatar-landscape\n              .s-blog-avatar-container{padding-bottom:",n,"% !important;height:100%;}");return(0,N.default)(o,{},"blog-post-item-".concat(a),e.renderItem(t))})))}))}},{key:"renderItem",value:function(e){var t,a,o,l,i=de.default.formatDate,r=this.props,u=r.category,s=r.openArchiveDialog,d=r.showDummyData,c=u.get("id"),f=this.constructor.sharedProps(),g=f.getBlogSetting,p=f.isPreview,h=f.language,m=g(),P=this._getLayoutObject(),S=P.layoutClass,O=P.isRowAndLandscapeThumbnail,L=P.isRowAndNoneThumbnail,A=P.showCategoryTabs,I=P.isColumnsAndCard,w=P.titleLength,D=e.publicUrl,k=(D.split("?")||[]).length>1?"&":"?";"all"!==c&&(D+=(0,J.default)(l="".concat(k,"categoryId=")).call(l,c),k="&");var R,B=!(null!==(t=e.settings)&&void 0!==t&&t.hideBlogDate),M=!A&&"all"===c&&e.allTagsList.length>0,x=Se.default.getIsS5Theme();R=p?Se.default.isOneClickPageInPreview()?"_blank":"_parent":"_self";var G=I&&!ye.default.isSmallScreen()?this.transformTitle(e.title,w):e.title,U=we.isInBlogCategoryPage();return(0,N.default)("div",{className:"s-blog-entry ".concat(S)},e.id,(0,N.default)("div",{className:"s-blog-entry-inner",onClick:(0,te.default)(a=this.linkToPost).call(a,this,D)},void 0,(0,N.default)("div",{className:"s-blog-entry-left s-blog-avatar-container"},void 0,d&&(0,N.default)(Ge,{className:"sample-tag light-blue",label:n("Editor|Sample")}),(0,N.default)("a",{target:R,href:D,"aria-label":G},void 0,this._renderThumbnail(e))),(0,N.default)("div",{className:"s-blog-entry-right"},void 0,(0,N.default)("div",{className:"s-blog-details"},void 0,(0,N.default)("div",{className:"s-blog-details-head"},void 0,(0,N.default)("div",{className:(0,le.default)({"s-item-title":x},"s-blog-title s-font-heading")},void 0,(0,N.default)("a",{target:R,href:D},void 0,U?(0,N.default)("h2",{},void 0,G):G),d&&(0,N.default)(Ge,{className:"sample-tag light-blue",label:n("Editor|Sample")})),(0,N.default)("div",{className:"s-blog-info  s-font-body"},void 0,e.pinned&&(v||(v=(0,N.default)("span",{className:"fa fa-star"}))),B&&(0,N.default)("span",{className:"s-blog-date"},void 0,i(e.publishedAt,h,"LL")),B&&!L&&M&&(E||(E=(0,N.default)("span",{className:"dot"},void 0," · "))),M&&!L&&(0,N.default)(ve.default,{tags:e.allTagsList,onClickTag:s}),!L&&m.enableComments&&e.approvedCommentsCount>0&&(0,N.default)("span",{},void 0,(e.pinned||B||M)&&(y||(y=(0,N.default)("span",{className:"dot"},void 0," · "))),(0,N.default)("a",{target:"_blank",href:"".concat(D,"#comments"),className:"s-approved-comments-count"},void 0,_||(_=(0,N.default)("i",{className:"entypo-comment"})),e.approvedCommentsCount)))),L&&M&&(0,N.default)("div",{className:"s-blog-info  s-font-body"},void 0,(0,N.default)(ve.default,{tags:e.allTagsList,onClickTag:s}),m.enableComments&&e.approvedCommentsCount>0&&(0,N.default)("span",{},void 0,(e.pinned||B||M)&&(T||(T=(0,N.default)("span",{className:"dot"},void 0," · "))),(0,N.default)("a",{target:"_blank",href:"".concat(D,"#comments"),className:"s-approved-comments-count"},void 0,b||(b=(0,N.default)("i",{className:"entypo-comment"})),e.approvedCommentsCount))),O?(0,N.default)("div",{className:"s-blog-details-blurb s-font-body s-blog-row"},void 0,(0,K.default)(o=this.transformBlurb(e.longBlurb||"").split("<br>")).call(o,(function(e,t){return(0,N.default)("div",{},t,e,C||(C=(0,N.default)("br",{})))}))):(0,N.default)("div",{className:"s-blog-details-blurb  s-font-body s-blog-row"},void 0,this.transformBlurb(e.longBlurb||"")),O&&(0,N.default)("a",{className:"s-blog-read-more-link s-font-body",href:D},void 0," ","".concat(n("Blog|Read more"),"...")," ")))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.blogPosts,n=t.layoutConfig,o=this._getLayoutObject().isColumns,l=Pe.default.getIsNewBlogLayout(),i=n&&"tiled"===n.get("structure")&&l;return 0===a.length?this._renderNoPost():(0,N.default)("div",{className:"s-blog-col-body s-blog-no-posts"},void 0,(0,N.default)("div",{className:"s-blog-posts ".concat(o?"s-blog-posts-columns clearfix":"")},void 0,!i&&(0,K.default)(a).call(a,(function(t){return e.renderItem(t)})),i&&this.renderTiledList()))}}]),i}(ne.default.Component);ze.sharedProps=(0,be.sharedPropsBuilder)((function(){return[]}),(function(){return{fromSiteToApp:Pe.default.getFromSiteToApp(),isPreview:Pe.default.getIsPreview(),language:Se.default.getForcedLocale()||"en",getBlogSetting:Ae.default.getBlogSetting}})),t.default=ze,e.exports=t.default}}]);