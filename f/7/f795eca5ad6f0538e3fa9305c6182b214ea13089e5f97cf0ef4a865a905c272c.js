(self.webpackChunk=self.webpackChunk||[]).push([["ConstituencyListResult"],{"./campaign/election/common/component/constituency/ConstituencyListResult.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:);var l=n("../node_modules/react/index.js"),a=n("../node_modules/prop-types/index.js"),r=n.n(a),o=n("../node_modules/react-redux/es/index.js"),s=n("./campaign/election/utils/util.js"),i=n("./components/common/SectionHeader/SectionHeader.js"),u=n("./utils/util.js"),c=n("./components/common/AnchorLink.js"),d=n("./utils/constants.js"),m=n("./campaign/election/utils/constants.js"),p=n("./utils/fetch/fetch.js");mpaign/election/common/css/Result_dropdown.scss"),n("./campaign/election/common/css/ConstituencyListResult.scss");var j=(0,u.m5)(),h=process.env.SITE,w=function(e){var t=e.data,n=e.params,a=(e.pagetype,e.pathname),r=e.starConstituency,o=e.hideYearlist,c=e.showlivedata,v=(e.resultrefresh,e.amp_liveJcms),y=(null==n?void 0:n.statename)||!1;if(!(null!=t&&t.years||null!=t&&t.constituencyData))return null;var f,b,w=t.years,x=t.constituencyData,N=E((0,l.useState)(x),2),I=N[0],O=N[1],k=(0,s.JC)(y,c),L="desktop"==process.env.PLATFORM,P=((0,s.Go)(y),w),A=(f=P)&&Array.isArray(f)&&Math.max.apply(Math,b=f)||b)||g(b)||)),D=E((0,l.useState)(A),2),R=D[0],T=D[1],U=(0,s.Br)(R,y);(0,l.useEffect)((function(){if(A!==R){var e="".concat(d.Z).concat(m.RM).concat(y,"_").concat(R,"_constituencyListPage.json");(0,p.ZP)(e).then(()}}),[R]);var Y,Z,M,J=(0,u.ix)(a);if(r){if(!(0,u.qt)(x))return null;var B,q,F=x.find((function(e){var t,n,l;if(r&&"true"==(null==e||null===(t=e.constituency)||void 0===t||null===(n=t.regInfo)||void 0===n||null===(l=n[h])||void 0===l?void 0:l.isStar))return e}));if(null==F||null===(B=F.constituency)||void 0===B||!B.uname||null==F||null===(q=F.constituency)||void 0===q||!q.cns_id)return null}return l.createElement("div",{itemProp:"headline",className:"head_constituency ".concat(r?"star-constituency":"tCenter")},(M={sectionhead:"".concat((Y=y,Z=Y,Y&&(Z="".concat(j.stateRegText[Y])),Z)," ").concat(j.locale.election_var_text)},r&&(M.sectionhead=j.locale.star_constituency_result,y&&(M.weblink="/elections/".concat(y,"-assembly-elections-constituencies"))),l.createElement(i.Z,M)),!o&&l.createElement(C,{setSelectedYear:T,yearsList:P,selectedYear:R,isAmpPage:J,params:n}),l.createElement(S,{constituencyData:I,isCurrentYear:U,isDesktopPlatform:L,params:n,starConstituency:r,isLive:k,amp_liveJcms:v,isAmpPage:J}))};function C(e){var t=e.setSelectedYear,n=e.yearsList,a=e.selectedYear,r=e.isAmpPage,o=e.params,s=E((0,l.useState)(!1),2),i=s[0],d=s[1],m=(0,l.useRef)(null),p=null==n?void 0:n.sort((),v=return(0,l.useEffect)((,[]),l.createElement(l.Fragment,null,l.createElement("div",{className:"ele-result-dropdown",ref:m},l.createElement("input",{type:"text",id:"",placeholder:"",onClick:value:a,className:"collapse_icon",readOnly:!0,"data-exclude":"amp"}),l.createElement("span",{className:"collapse_icon"}),r&&(0,u.qt)(p)?l.createElement("div",{className:"dsk-phase-tab"},l.createElement("ul",null,p.map((function(e,t){return l.createElement("li",{key:t,className:a==e?"active":""},l.createElement(c.Z,{"data-type":"link",style:{textDecoration:"none"},hrefData:{override:"/elections/".concat(null==o?void 0:o.statename,"-assembly-elections-constituencies")}},l.createElement("b",null,e)))})))):l.createElement("span",null),i&&!r&&l.createElement("ul",null,null==p?void 0:p.map((function(e,n){return l.createElement("li",{className:a==e?"active hide":"","data-exclude":"amp",onClick:function(){return n=e,d(!i),void t(n);var n},tabIndex:n},l.createElement("b",null,e))})))))}function S(e){var t,n=e.constituencyData,a=e.isCurrentYear,r=e.isDesktopPlatform,o=e.params,i=e.starConstituency,d=e.isLive,m=e.resultrefresh,p=e.isAmpPage,v=e.amp_liveJcms,g=E((0,l.useState)(!0),2),_=g[0],w=g[1];if(!(0,u.qt)(n))return null;var C={};if(p&&"object"==b(v)){var S=Object.keys(v)[0],x=null==v?void 0:v[S];C=f({},null==o?void 0:o.statename,(0,s.zE)(x))}var N=E((0,l.useState)((),2),I=N[0],O=N[1],k=function(e){var t=null==e?void 0:e.status;if(console.log(t,d,a,I,"+++status"),a&&d){var n=null==I?void 0:I[null==o?void 0:o.statename],l=null==n?void 0:n.get(parseInt(null==e?void 0:e.candidateCode,10));return s.sl[l]||"Awaited"}return t};function L(e){var t,n="-";return e&&e.party&&(e.party.regInfo&&e.party.regInfo.abbr?n=e.party.regInfo.abbr:null!=e&&null!==(t=e.party)&&void 0!==t&&t.abbr&&(n=e.party.abbr)),n}(0,l.useEffect)((function(){var e,t=!("false"==m),n=function(){return(0,s.TY)(null==o?void 0:o.statename).then((function(e){var t=(0,s.zE)(e);O((function(e){return y(y({},e),{},f({},null==o?void 0:o.statename,t))}))}))};return d&&a&&(n(null==o||o.statename),t)?(e=setInterval((function(){n(null==o||o.statename)}),3e4),:),[null==o?void 0:o.statename]);var P=function(e){var t,n,a,r,s=l.createElement("span",null,(null==e||null===(t=e.regInfo)||void 0===t||null===(n=t[h])||void 0===n?void 0:n.name)||(null==e?void 0:e.uname));if(null!=e&&e.cns_id&&null!=e&&e.uname&&null!=e&&null!==(a=e.regInfo)&&void 0!==a&&null!==(r=a[h])&&void 0!==r&&r.name){var i="/elections/".concat(null==o?void 0:o.statename,"-assembly-elections/").concat(null==e?void 0:e.uname,"-constituency-").concat(null==e?void 0:e.cns_id);return l.createElement(c.Z,{className:"default_anchor",href:i},s)}return s};return l.createElement(l.Fragment,null,l.createElement("div",{className:"mob_scroll_x ele_table_wrap ".concat(_||i&&!(i&&n.length>5)?"":"load-more-table")},r?l.createElement("table",{className:"election-table candidate cusEletbl"},l.createElement("tr",null,l.createElement("th",null,j.locale.constituency_area_text),l.createElement("th",null,j.locale.candidate_name_text),l.createElement("th",null,null==j?void 0:j.partyViewTxt),!a&&l.createElement("th",null,j.locale.winning_margin_text)),n.map((function(e){var t,n,r,o,d,m,p,v,y,f,b,E;return(0,u.L5)(e)?i&&"true"!=(null==e||null===(t=e.constituency)||void 0===t||null===(n=t.regInfo)||void 0===n||null===(r=n[h])||void 0===r?void 0:r.isStar)?null:l.createElement("tr",{key:(null==e||null===(o=e.constituency)||void 0===o||null===(d=o.regInfo)||void 0===d||null===(m=d[h])||void 0===m?void 0:m.name)||e.name},l.createElement("td",null,P(null==e?void 0:e.constituency)),l.createElement("td",null,l.createElement("table",{className:"election-table candidate"},l.createElement("tr",null,l.createElement("td",null,(0,s.pB)(null==e?void 0:e.winnerCandidate,c.Z)),l.createElement("td",null,(0,s.pB)(null==e?void 0:e.runnerUpCandidate,c.Z))))),l.createElement("td",null,l.createElement("table",{className:"election-table candidate"},l.createElement("tr",null,l.createElement("td",null,l.createElement("div",{className:"party_badge ".concat(L(null==e?void 0:e.winnerCandidate))},l.createElement("span",{className:"party_name",style:{backgroundColor:null==e||null===(p=e.winnerCandidate)||void 0===p||null===(v=p.party)||void 0===v?void 0:v.color}},L(null==e?void 0:e.winnerCandidate)),l.createElement("span",{className:"party_status ".concat(null===(y=k(null==e?void 0:e.winnerCandidate))||void 0===y?void 0:y.toLowerCase())},k(null==e?void 0:e.winnerCandidate)))),l.createElement("td",null,l.createElement("div",{className:"party_badge ".concat(L(null==e?void 0:e.runnerUpCandidate))},l.createElement("span",{className:"party_name",style:{backgroundColor:null==e||null===(f=e.runnerUpCandidate)||void 0===f||null===(b=f.party)||void 0===b?void 0:b.color}},L(null==e?void 0:e.runnerUpCandidate)),l.createElement("span",{className:"party_status ".concat(null===(E=k(null==e?void 0:e.runnerUpCandidate))||void 0===E?void 0:E.toLowerCase())},k(null==e?void 0:e.runnerUpCandidate))))))),!a&&l.createElement("td",null,null==e?void 0:e.winMargin)):null}))):l.createElement("div",{className:"mobile-table"},n.map((function(e,t){var n,a,r,o,d,m,p,v,y;return i&&"true"!=(null==e||null===(n=e.constituency)||void 0===n||null===(a=n.regInfo)||void 0===a||null===(r=a[h])||void 0===r?void 0:r.isStar)?null:(0,u.L5)(e)?l.createElement("table",{key:e.regInfo&&e.regInfo.name||e.name,className:"election-table candidate cusEletblMbl"},l.createElement("tr",null,l.createElement("td",{colSpan:2},P(null==e?void 0:e.constituency))),l.createElement("tr",null,l.createElement("td",null,l.createElement("span",{className:"twoLines"},(0,s.pB)(null==e?void 0:e.winnerCandidate,c.Z)),l.createElement("span",{className:"party_badge ".concat(L(null==e?void 0:e.winnerCandidate)," winnerup")},l.createElement("span",{className:"party_name",style:{backgroundColor:null==e||null===(o=e.winnerCandidate)||void 0===o||null===(d=o.party)||void 0===d?void 0:d.color}},L(null==e?void 0:e.winnerCandidate)),l.createElement("span",{className:"party_status ".concat(null===(m=k(null==e?void 0:e.winnerCandidate))||void 0===m?void 0:m.toLowerCase()," winnerup")},k(null==e?void 0:e.winnerCandidate)))),l.createElement("td",null,l.createElement("span",{className:"twoLines"},(0,s.pB)(null==e?void 0:e.runnerUpCandidate,c.Z)),l.createElement("div",{className:"party_badge ".concat(L(null==e?void 0:e.runnerUpCandidate)," runnerup")},l.createElement("span",{className:"party_name",style:{backgroundColor:null==e||null===(p=e.runnerUpCandidate)||void 0===p||null===(v=p.party)||void 0===v?void 0:v.color}},L(null==e?void 0:e.runnerUpCandidate)),l.createElement("span",{className:"party_status ".concat(null===(y=k(null==e?void 0:e.runnerUpCandidate))||void 0===y?void 0:y.toLowerCase()," runnerup")},k(null==e?void 0:e.runnerUpCandidate))))),l.createElement("tr",{className:"lastRow"},l.createElement("td",{colSpan:2},null==e?void 0:e.winMargin))):void 0})))),_?l.createElement("div",{className:"loadmore_btn","data-exclude":"amp",onClick:,l.createElement("div",null,null==j||null===(t=j.locale)||void 0===t?void 0:t.laodmore," ",l.createElement("span",null))):l.createElement("span",null))}C.propTypes={setSelectedYear:r().func,yearsList:r().array,selectedYear:r().string,isAmpPage:r().bool,params:r().object},S.propTypes={constituencyData:r().array,isDesktopPlatform:r().bool,params:r().object,starConstituency:r().bool},w.propTypes={data:r().array,params:r().object,pathname:r().object,pagetype:r().string,starConstituency:r().bool,hideYearlist:r().bool,resultrefresh:r().string,showlivedata:r().string};const x=(0,o.$j)((function(e){var t,n,l,a,r,o;return{resultrefresh:null==e||null===(t=e.app)||void 0===t||null===(n=t.election)||void 0===n?void 0:n.resultrefresh,showlivedata:null==e||null===(l=e.app)||void 0===l||null===(a=l.election)||void 0===a?void 0:a.showlivedata,amp_liveJcms:null==e||null===(r=e.constituencylist)||void 0===r||null===(o=r.value)||void 0===o?void 0:o.amp_liveJcms}}))(w)},"../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./campaign/election/common/css/ConstituencyListResult.scss":()=>{},"../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./campaign/election/common/css/Result_dropdown.scss":"./campaign/election/common/css/ConstituencyListResult.scss":(e,t,n)=>{"use strict";var l=n("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n.n(l),r=n("../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./campaign/election/common/css/ConstituencyListResult.scss"),o=n.n(r);a()(o(),{insert:"head",singleton:!1}),o().locals},"./campaign/election/common/css/Result_dropdown.scss":(e,t,n)=>{"use strict";var l=n("../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),a=n.n(l),r=n("../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../node_modules/css-loader/index.js??ruleSet[1].rules[2].use[2]!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../node_modules/postcss-loader/lib/index.js??ruleSet[1].rules[2].use[4]!./campaign/election/common/css/Result_dropdown.scss"),o=n.n(r);a()(o(),{insert:"head",singleton:!1}),o().locals}}]);