"use strict";(self.webpackChunktag=self.webpackChunktag||[]).push([[132],{5672:(e,t,n)=>{n.r(t),n.d(t,{AT_HIT_LABEL:()=>ge,HitType:()=>a.CK,aggregateActionTracking:()=>we,dispatchBatch:()=>K,dispatchHit:()=>be,getCurrentScrollPercent:()=>ve,notifyHit:()=>fe,setGlobals:()=>Ce});var a=n(5332),r=n(2180),o=n(9583),i=n(4868),s=n(1308),c=n(7112);const l="https://ariane.abtasty.com",u={"chrome mobile":78,chrome:77,firefox:70,edge:77,opera:64,safari:12,"uc browser":12};let p,d,y=[];async function m(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;if((new c.yo).haveConsent([c.CM.collect])||function(e){const t=e.h;return!!Array.isArray(t)&&t.some((e=>e.t===a.CK.consent&&"no"===e.co))}(e))if(t){const[a,r]=await(0,i.A)(!0,["browser.name","browser.version"]);!function(e,t){return!!e&&!!t&&!!u[e.toLowerCase()]&&parseInt(t,10)<=u[e.toLowerCase()]}(a,r)?function(e,t){navigator.sendBeacon(e,JSON.stringify(t))}(n,e):g(e,!t,n)}else if(window.fetch){let t={};if(!d)try{d=new AbortController,t={signal:d.signal}}catch(e){r.e5("[Hit] Error creating AbortController",e)}p={args:e,endpoint:n},await fetch(n,{...t,mode:"no-cors",method:"POST",headers:{"Content-type":"text/plain"},cache:"no-store",body:JSON.stringify(e)}),p=null}else p={args:e,endpoint:n},g(e,!t,n);else{if(0===y.length){const e=()=>{y.forEach((e=>{m(e.args,e.sync,e.endpoint)})),y=[]};window.addEventListener(`abtasty_${o.I.Name.consentValid}`,(t=>{const{detail:n}=t;n&&n.consentFor.includes(c.CM.collect)&&e()}))}y.push({args:e,sync:t,endpoint:n})}}function g(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;try{const a=new XMLHttpRequest;a.open("POST",n,t),a.setRequestHeader("Content-type","text/plain"),a.send(JSON.stringify(e)),a.onload=function(){p=null},d||(d=a)}catch(e){console.error(`${e} - Raw UserAgent: ${navigator.userAgent} - Parsed UserAgent: ${JSON.stringify((0,i.u)())}`)}}function h(e,t,n){r.sZ(`AB Tasty warning: '${e}' hit cannot be sent, format is not correct.`,...t,n)}var f=n(2142),b=n(8244),w=n(1053),v=n(720),C=n(9676);function A(e){const t=function(e){const t=(0,w.s9)().toleranceParams;if(!t||!t.length||!e)return e;try{const n=e,a=e.split("?")[0],r=(0,f.O0)(e);return 0===Object.keys(r).length?n:(t.forEach((e=>{delete r[e]})),`${a}?${Object.keys(r).map((e=>void 0===r[e]?"":`${e}=${r[e]}`)).join("&")}`)}catch(t){return(0,r.sZ)("[ABTasty]: Sensitive data restriction can't be applied",t),e}}(e);return function(e){const t=(0,w.s9)().toleranceRegex,n=e;if(!t)return n;try{const e=new RegExp(t).exec(n);if(e)return e.shift(),e.join("")}catch(e){(0,r.sZ)(`[ABTasty] The sensitive data regexp "${t}" can't be applied`,e)}return n}(t)}function E(e){const{campaignHistory:t,visitorId:n,currentSessionTimestamp:a,numberOfSessions:r}=e,o=new b.y;let i=o.getReferrer();!i&&o.isItNewSession()&&(i=document.referrer);const s={c:t?.()||{},cid:(0,w.i5)(),vid:n,dr:encodeURIComponent(A(i)),pt:encodeURIComponent(document.title),de:encodeURIComponent(document.characterSet),dl:encodeURIComponent(A(document.location.href)),cst:a,sn:r,lv:(0,v.aY)()};return(0,C.g9)()&&(s.qa=!0),s}var q=n(1019);let T,S=[];const I=e=>{S.push(e),function(){T&&"number"==typeof T&&clearTimeout(T);T=setTimeout((()=>{K()}),500)}(),JSON.stringify(S).length>=40960&&K()};const K=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=q.k.getCommonDataRefresher();if(t){const n=t();if(!S||!S.length)return void(e&&d&&(d.abort(),(0,s.A)(p)||m(p.args,!0,p.endpoint)));S.map((e=>{e.qt=Date.now()-e.qt}));const o={...E(n),tv:"latest",tch:`${"2d05d1c0".substring(0,5)}`,h:S,t:a.CK.batch};m(o,e),(0,r.uc)("A batch hit has been sent. Data:",o),S=[]}else(0,r.sZ)("[CollectFacade] common data refresher is not set")};var $=n(9176);const k={t:{label:"Hit Type",required:!0,types:[{type:a.um.String}],allowedValues:Object.values(a.CK)},ib:{label:"Is a bot",required:!1,types:[{type:a.um.Boolean}]}};function N(e,t){const{type:n,condition:r,model:o,allowEmpty:i=!0}=t,c=typeof e;switch(n){case a.um.Boolean:return c===n||["number","string"].some((e=>e===c))&&[0,1,"true","false","0","1"].includes(e);case a.um.IntegerArray:return Array.isArray(e)&&(!i&&e.length>0||i)&&e.every((e=>N(e,{type:a.um.Integer,condition:r})));case a.um.Integer:return"boolean"!==c&&!isNaN(e)&&Number(e)%1==0&&(!r||r&&r(Number(e)));case a.um.FloatArray:return Array.isArray(e)&&(!i&&e.length>0||i)&&e.every((e=>N(e,{type:a.um.Float,condition:r})));case a.um.Float:return"boolean"!==c&&!isNaN(e)&&(!r||r&&r(Number(e)));case a.um.ArrayArray:return Array.isArray(e)&&(!i&&e.length>0||i)&&e.every((e=>N(e,{type:a.um.Array,condition:r})));case a.um.Array:return Array.isArray(e)&&(!i&&e.length>0||i);case a.um.ObjectArray:return Array.isArray(e)&&(!i&&e.length>0||i)&&e.every((e=>N(e,{type:a.um.Object,model:o,condition:r,allowEmpty:i})));case a.um.Object:return c===n&&!Array.isArray(e)&&(!(!i&&Object.keys(e).length<=0)&&(!o||Object.entries(e).every((e=>{let[t,n]=e;return N(t,o.key)&&N(n,o.value)}))));case a.um.StringArray:return Array.isArray(e)&&(!i&&e.length>0||i)&&e.every((e=>N(e,{type:a.um.String,condition:r})));case a.um.String:return(c===n||["number","boolean"].some((e=>e===c))&&!isNaN(e))&&!(0,s.A)(e)&&(!i&&(""+e).length>0||i)&&(!r||r&&r(""+e));default:return c===n}}function O(e,t){const n={...k,...t};return Object.keys(n).reduce(((t,a)=>{const r=n[a];if(r){const{label:n,required:o,types:i,maxLength:c,allowedValues:l}=r,u=e[a];if(o&&((0,s.A)(u)||(0,$.t)(u)))t.push(`Argument '${a}' (${n}) is missing`);else if(void 0!==u&&i&&i.length>0){const r=i.map((t=>{const r=e[a],o=typeof r;if(!N(r,t))return`Argument '${a}' (${n}) is of wrong type ${o} (expected ${JSON.stringify(t)})`;switch(t.type.toLowerCase()){case"boolean":e[a]=!["0","false",0,!1].includes(r)&&!!r;break;case"integer":case"float":e[a]=Number(r);break;case"string":!["number","boolean"].some((e=>e===o))||isNaN(r)||void 0===r||(0,s.A)(r)||(e[a]=""+r)}}));r.every((e=>e&&e.length>0))&&r.forEach((e=>t.push(e)))}if(null!=u&&l&&-1===l.indexOf(u)){const e=l.map((e=>`"${e}"`)).join(", ");t.push(`Argument '${a}' (${n}) value is not allowed (expected one of ${e}, received ${u})`)}null!=u&&c&&u.length>c&&t.push(`Argument '${a}' (${n}) is too long (length of ${u.length}, expected ${c})`)}return t}),[])}var P=n(384);const D=e=>{const t={};(0,P.au)()&&!(0,s.A)((0,P.IL)().previousLogicalView)&&(t.pea="INVALIDATE",t.pev=(0,P.IL)().previousLogicalView);const n={...e,...t,t:a.CK.pageview},o=function(e){return O(e,{pea:{label:"PostEdit Action",required:!1,types:[{type:a.um.String,allowEmpty:!1}]},pev:{label:"PostEdit LogicalView",required:!1,types:[{type:a.um.String,allowEmpty:!1}]}})}(n);o.length?h(a.CK.pageview,o,n):(I(n),(0,r.uc)("Pageview hit has been aggregated. Data:",n))};const L=e=>{const t=window.ABTasty.results,n=e.caid&&t&&t[e.caid]&&Object.keys(t[e.caid].targetings.qaParameters).length>0||(0,C.g9)(),o={...e,t:a.CK.campaign};n&&(o.qa=!0);const i=function(e){return O(e,{caid:{label:"Campaign ID",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},vaid:{label:"Variation ID",required:!0,types:[{type:a.um.String,allowEmpty:!1}]}})}(o);i.length?h(a.CK.campaign,i,o):(I(o),(0,r.uc)("Campaign hit has been aggregated. Data:",o))};var j=n(4816),V=n(8404),x=n(5116);const B=(e,t)=>e.map((e=>{for(const n in e){if("qt"===n)continue;const a=e[n];(0,s.A)(t[n])||t[n]!=a||delete e[n]}return e})).filter((e=>{const t=Object.keys(e);return!(1===t.length&&"qt"===t[0])}));const M=e=>{const t={...e,t:a.CK.segment},n=function(e){return O(e,{s:{label:"Segments",required:!0,types:[{type:a.um.Object,model:{key:{type:a.um.String},value:{type:a.um.String}}}]},pa:{label:"Provider",required:!1,types:[{type:a.um.String,required:!1}]}})}(t);n.length?h(a.CK.segment,n,t):(Array.isArray(t.s)?t.s.forEach((t=>{const n={...e,t:a.CK.segment};n.s=t,I(n)})):I(t),function(e){if(!e.s&&"object"!=typeof e.s)return;if(e.pa&&"string"!=typeof e.pa)return;const t=new j.U;let n=t.getSegments()||[];const a=e.pa?{...e.s,pa:e.pa}:e.s;n=B(n,a),t.setSegments([...n,{...a,qt:e.qt}])}(e),(e=>{if(!e.s&&"object"!=typeof e.s)return;if(e.pa&&"string"!=typeof e.pa)return;let t=JSON.parse(V.ym.getItem(V.OS,x.a.CUSTOM_SEGMENTS))||[];const n=e.pa?{...e.s,pa:e.pa}:e.s;t=B(t,n),V.ym.setItem(V.OS,x.a.CUSTOM_SEGMENTS,JSON.stringify([...t,{...n,qt:e.qt}]))})(e),(0,r.IN)("Segment hit has been aggregated. Data:",t))};n(3768);const R=e=>{const t={...e,t:a.CK.event},n=function(e){return O(e,{ec:{label:"Event Category",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},ea:{label:"Event Action",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},el:{label:"Event Label",required:!1,types:[{type:a.um.String,allowEmpty:!0}]},ev:{label:"Event Value",required:!1,types:[{type:a.um.Integer,condition:e=>e>=0}]},caid:{label:"Campaign Id",required:!1,types:[{type:a.um.String,allowEmpty:!1}]},vaid:{label:"Variation Id",required:!1,types:[{type:a.um.String,allowEmpty:!1}]}})}(t);n.length?h(a.CK.event,n,t):(I(t),"csat"===t.ec&&t.caid&&t.vaid&&t.caid&&t.ev&&(new j.U).addVote({vaid:`${t.vaid}`,caid:`${t.caid}`,score:t.ev,maxScore:Number((t.cv&&t.cv[2]||"").replace(/\D/g,""))}),t.ec===ge&&t.caid?(0,r.IN)(`Event of category "${t.ec}" has been aggregated for campaign ${t.caid} and variation ${t.vaid}. Data:`,t):(0,r.IN)(`Event of category "${t.ec}" has been aggregated. Data:`,t))};const U=e=>{const t={...e,t:a.CK.transaction},n=function(e){return O(e,{tid:{label:"Transaction ID",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},ta:{label:"Transaction Affiliation",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},tr:{label:"Transaction Revenue",required:!1,types:[{type:a.um.Float,condition:e=>e>=0}]},ts:{label:"Transaction Shipping",required:!1,types:[{type:a.um.Float,condition:e=>e>=0}]},tt:{label:"Transaction Tax",required:!1,types:[{type:a.um.Float,condition:e=>e>=0}]},tc:{label:"Transaction Currency",required:!1,types:[{type:a.um.String,allowEmpty:!0}],maxLength:10},tcc:{label:"Transaction Coupon Code",required:!1,types:[{type:a.um.String,allowEmpty:!0}]},pm:{label:"Transaction Payment Method",required:!1,types:[{type:a.um.String,allowEmpty:!0}]},sm:{label:"Transaction Shipping Method",required:!1,types:[{type:a.um.String,allowEmpty:!0}]},icn:{label:"Transaction Number of Items",required:!1,types:[{type:a.um.Integer,condition:e=>e>=0}]}})}(t);n.length?h(a.CK.transaction,n,t):(I(t),function(e){const t={id:e.tid||e.id,value:e.tr,shipping:e.sm,payment:e.pm,coupon:e.tcc,tax:e.tt,shipping_cost:e.ts,currency:e.tc,name:e.name,quantity:e.quantity,affiliation:e.ta,time:e.time||(new Date).getTime()};(new j.U).addTransaction(t)}(e),(0,r.IN)(`Transaction "${t.ta}" has been aggregated. Data:`,t))};const _=e=>{const t={...e,t:a.CK.item},n=function(e){return O(e,{tid:{label:"Transaction ID",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},in:{label:"Item Name",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},ip:{label:"Item Price",required:!1,types:[{type:"float"}]},iq:{label:"Item Quantity",required:!1,types:[{type:"integer"}]},ic:{label:"Item Code",required:!1,types:[{type:a.um.String,allowEmpty:!0}],maxLength:500},iv:{label:"Item Category",required:!1,types:[{type:a.um.String,allowEmpty:!0}],maxLength:500}})}(t);n.length?h(a.CK.item,n,t):(I(t),function(e){const t={transactionId:e.tid,name:e.in,quantity:e.iq,revenue:e.iq&&e.ip?e.iq*e.ip:0,local_revenue:e.iq&&e.ip?e.iq*e.ip:0,sku:e.ic,category:e.iv,time:(new Date).getTime()};(new j.U).addItem(t)}(e),(0,r.IN)("Item hit has been aggregated. Data:",t))};var H=n(7772),F=n(1376),J=n(3200);const Z={[J.Gc]:"==",[J.aO]:"=@",[J._k]:"=~"};const X=e=>t=>{let{qt:n,...o}=t;const{waitForConsent:i}=(0,w.s9)(),s=(e=>{let{mode:t,data:n}=e;switch(t){case H.Av.customJs:return"custom";case H.Av.didomi:return"string"==typeof n&&n?n:F.y;case H.Av.specificCookie:if("object"==typeof n){const{name:e,value:t,condition:a}=n;return`${e}${a&&Z[a]?Z[a]:Z[J.Gc]}${t}`}default:return""}})(i),c=(e=>{let{campaignRestrictions:t}=e;return Object.keys(t).length>0&&0===Object.values(t).filter((e=>e)).length?a.pl.strict:a.pl.permissive})(i),l=(e=>{let{mode:t}=e;return Object.keys(a.mo).includes(t)?a.mo[t]:void 0})(i),u=(e=>{let{campaignRestrictions:t}=e;return Object.keys(t).filter((e=>t[e])).reduce(((e,t)=>e+H.QL[t]),0)})(i),p=Date.now(),d={...o,qt:p-n,me:s,om:c,sco:`${u}`,t:a.CK.consent,ts:p};l&&(d.op=l);const y=function(e){return O(e,{co:{label:"Consent",required:!0,types:[{type:a.um.Boolean,allowEmpty:!1}]}})}(d),g={...E(e),tv:"latest",tch:`${"2d05d1c0".substring(0,5)}`,h:[d],t:a.CK.batch};y.length?h(a.CK.consent,y,d):(m(g),(0,r.uc)("Consent hit has been sent. Data:",d))},G={ps:{label:"Product SKU",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},pn:{label:"Product name",required:!1,types:[{type:a.um.String,allowEmpty:!1}]},pq:{label:"Product quantity",required:!0,types:[{type:a.um.Integer,allowEmpty:!1}]},pp:{label:"Product price",required:!0,types:[{type:a.um.Float,allowEmpty:!1}]},pcid:{label:"Product cart Id",required:!0,types:[{type:a.um.String,allowEmpty:!1}]}},Q={pq:{label:"Product quantity",required:!0,types:[{type:a.um.Integer,allowEmpty:!1}]},pp:{label:"Product price",required:!0,types:[{type:a.um.Float,allowEmpty:!1}]},pcid:{label:"Product cart Id",required:!0,types:[{type:a.um.String,allowEmpty:!1}]}},Y={pp:{label:"Product price",required:!1,types:[{type:a.um.Float,allowEmpty:!1}]},ps:{label:"Product SKU",required:!0,types:[{type:a.um.String,allowEmpty:!1}]},pn:{label:"Product name",required:!1,types:[{type:a.um.String,allowEmpty:!1}]}},W=[a.wV.CART_ITEM,a.wV.CART_TOTAL,a.wV.VIEW];const z=e=>{const t={...e,t:a.CK.product},n=function(e){return O(e,{pit:{label:"Product interaction type",required:!0,types:[{type:"string",allowEmpty:!1,value:W,condition:e=>W.some((t=>t===e))}]},...e.pit===a.wV.CART_ITEM?G:{},...e.pit===a.wV.CART_TOTAL?Q:{},...e.pit===a.wV.VIEW?Y:{}})}(t);n.length>0?h(a.CK.product,n,t):(I(t),(0,r.IN)("Product hit has been aggregated. Data:",t))};function ee(e){if(!(e instanceof Element))return null;const t=[];let n=e;for(;n&&n.nodeType===Node.ELEMENT_NODE;){let e=n.nodeName.toLowerCase();if(n.id){e+="#"+n.id,t.unshift(e);break}{let t=n,a=1;for(;t=t.previousElementSibling;)t.nodeName.toLowerCase()===e&&a++;a>1&&(e+=":nth-of-type("+a+")")}t.unshift(e),n=n.parentNode}return t.join(" > ")}const te=Object.keys({click:"click",over:"over",scroll:"scroll"});function ne(e,t){const n={};if(e&&e!==document){const a=t.elementsMap.get(e);n.tecp=encodeURIComponent(ee(e)),e.id&&(n.teid=e.id),a&&a.enterTime&&(n.otbe=Date.now()-a.enterTime),n.tc=e.getAttribute("class")||"";const{left:r,top:o,width:i,height:s}=function(e){const t=e.getBoundingClientRect(),n=document.body,a=document.documentElement,r=window.pageYOffset||a.scrollTop||n.scrollTop,o=window.pageXOffset||a.scrollLeft||n.scrollLeft,i=a.clientTop||n.clientTop||0,s=a.clientLeft||n.clientLeft||0,c=t.top+r-i,l=t.left+o-s;return{top:Math.round(c),left:Math.round(l),width:Math.round(t.width),height:Math.round(t.height)}}(e);n.tes=`${i}x${s}`,n.tep=`${r}x${o}`,n.tcec=e.childElementCount||0,n.tet=e.tagName}return n}const ae=(e,t,n)=>{const{pageX:r,pageY:o}=t.mouse,i=void 0!==n.pageX?`${n.pageX}x${n.pageY}`:`${r}x${o}`,s={...ne(n.target,t),esp:ve(),cp:i,...e,t:a.CK.visitorevent},c=function(e){return O(e,{et:{label:"Event Type",required:!0,types:[{type:a.um.String}],allowedValues:te}})}(s);c.length?h(a.CK.visitorevent,c,s):I(s)};const re=e=>{let{caid:t,vaid:n,...o}=e;const i={...o,t:a.CK.nps},s=function(e){return O(e,{ns:{label:"The NPS score ranging from -100 to 100",required:!0,types:[{type:a.um.Integer}]},nf:{label:"The NPS feedbacks from visitors",required:!1,types:[{type:a.um.String,allowEmpty:!0}]}})}(i);s.length?h(a.CK.nps,s,i):(n&&t&&o.ns&&(new j.U).addVote({vaid:`${n}`,caid:`${t}`,score:o.ns}),I(i),(0,r.uc)("NPS hit has been aggregated. Data:",i))};const oe=e=>t=>{const n={...E(e),...t,t:a.CK.datalayer},o=function(e){return O(e,{dlr:{label:"Datalayer content",required:!0,types:[{type:a.um.Object},{type:a.um.Array}]}})}(n);o.length?h(a.CK.datalayer,o,n):(m(n,null,"https://ariane.abtasty.com/datalayer"),(0,r.uc)("Datalayer hit has been send. Data:",n))},ie=e=>t=>{if(window.Cypress)return Promise.resolve();const n={...E(e),...t,t:a.CK.usage},r=O(n,{cv:{label:"Custom values",required:!0,types:[{type:a.um.Object}]}});return r.length?(h(a.CK.usage,r,n),Promise.resolve()):m(n,!1,"https://ariane.abtasty.com/analytics")};var se=n(3460),ce=n(5592);const le=e=>{(0,ce.KQ)({deprecate:"window._abtasty.push()",el:`push-${e}`,type:"function"})};const ue=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window._abtasty).forEach((e=>{if(Array.isArray(e)&&Object.keys(e).length)switch(e[0].toString().toLowerCase()){case"transaction":(e=>{const t=e[1].toString(),n={tid:e[2],tr:(0,s.A)(e[3])?0:parseFloat(e[3].toString().replace(",",".")),icn:Number(e[4])||0,ta:t};be(a.CK.transaction,n)})(e),le("transaction");break;case"cv":(e=>{const t=e[1]||"",n=e[2]||"";if("string"!=typeof t||""===t||("string"!=typeof n||""===n)&&"number"!=typeof n)return void(0,r.sZ)("CV informations are not valid, please, check that your second and third argument are not empty strings");const o={category:se.u.CV,action:t,value:"string"==typeof n?n.substring(0,65):n,time:Date.now()};(new j.U).addCustomVariable(o);const i={[t]:"string"==typeof n?n.substring(0,65):n};be(a.CK.segment,{s:i})})(e),le("cv");break;case"eco":(e=>{const t=e[1]||"",n=e[2]||"";if("string"!=typeof t||""===t||("string"!=typeof n||""===n)&&"number"!=typeof n)return void(0,r.sZ)("ECO informations are not valid, please, check that your second and third argument are not empty strings");const o={action:t,category:se.u.ECO,value:"string"==typeof n?n.substring(0,65):n,time:Date.now()};(new j.U).addCustomVariable(o);const i={ec:"eco",ea:t,el:n};be(a.CK.event,i)})(e),le("eco");break;default:(0,r.e5)("Wrong format to push (nothing was sent)",e)}else(0,r.e5)("Please give at least one parameter for the/these arrays !",e)})),window._abtasty=[],window._abtasty.push=function(){return ue([arguments[0]]),Array.prototype.push.apply(this,arguments)}};var pe=n(7048),de=n(9324),ye=n(9292);const me=e=>t=>{if(window.Cypress)return Promise.resolve();const n={cv:t.cv,t:a.CK.troubleshooting,cid:(0,w.i5)(),vid:e.visitorId},r=O(n,{cv:{label:"Custom values",required:!0,types:[{type:a.um.Object}]}});return r.length?(h(a.CK.troubleshooting,r,n),Promise.resolve()):m(n,!1,"https://ariane.abtasty.com/troubleshooting")},ge="Action Tracking",he={elementsMap:new Map,mouse:{pageX:0,pageY:0}},fe=(e,t,a,r,o)=>{if(Promise.resolve().then(n.bind(n,7552)).then((n=>{let{recheckTargetingByHit:a}=n;a(e,t)})),window.frames.ABTastyQaAssistant){const n={...t,qt:a,event:r,path:o,name:"ABTasty_event",type:e.toUpperCase()};window.postMessage(n,document.location.origin),window.frames.ABTastyQaAssistant.postMessage(n,"*")}ye.$.getInstance().emit(e.toUpperCase(),t,a)},be=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;const i=q.k.getCommonDataRefresher();if(i){const r=t.qt||Date.now();fe(e,t,r,n,o),(e=>({[a.CK.consent]:X(e),[a.CK.campaign]:L,[a.CK.event]:R,[a.CK.item]:_,[a.CK.pageview]:D,[a.CK.segment]:M,[a.CK.transaction]:U,[a.CK.visitorevent]:ae,[a.CK.nps]:re,[a.CK.datalayer]:oe(e),[a.CK.product]:z,[a.CK.usage]:ie(e),[a.CK.troubleshooting]:me(e)}))(i())[e.toUpperCase()]({...t,qt:r},{...he},n)}else(0,r.sZ)("[CollectFacade] common data refresher is not set")};const we=(e,t,n,r,o)=>{const i={name:e,value:0,time:o||Date.now()};(new j.U).addActionTracking(i);const s=ee(r),c={ec:ge,ea:e,qt:o};n&&(c.caid=n.toString()),be(a.CK.event,c,void 0,s)};function ve(){const e=100*(document.body.scrollTop||document.documentElement.scrollTop)/(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight);return Math.round(e)}const Ce=e=>{q.k.setCommonDataRefresher(e),(()=>{if(window.abtasty){const e=window.abtasty.send;window.abtasty.send=(t,n)=>{be(t,n),e&&e(t,n)}}else window.abtasty={send:(e,t)=>{be(e,t)}};if("function"==typeof window.ABTastyClickTracking){const e=window.ABTastyClickTracking;window.ABTastyClickTracking=(t,n,a)=>{we(t,n,a,null),e(t,n,a)}}else window.ABTastyClickTracking=we;if("function"==typeof window.ABTastyEvent){const e=window.ABTastyEvent;window.ABTastyEvent=(t,n,a)=>{we(t,n,a,null),e(t,n,a)}}else window.ABTastyEvent=we})(),window._abtasty=window._abtasty||[],ue(window._abtasty),function(){const e=(0,pe.mA)()?"pagehide":"beforeunload";window.addEventListener(e,(()=>(K(!0),null)))}(),q.k.getCollectHit().forEach((e=>{be(e.type,{qt:e.time,...e.args},void 0,void 0)})),q.k.getEventTracking().forEach((e=>{we(e.name,e.data,e.campaignId,void 0,e.time)})),(new de.E).dispatchCustomEvent(o.I.Name.analyticsLoaded)}}}]);