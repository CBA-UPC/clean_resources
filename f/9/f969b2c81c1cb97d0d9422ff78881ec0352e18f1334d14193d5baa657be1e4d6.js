![function(e,t,n){const{stripTrackingId:o,stripSelligentRuid:r}=n(1),{checkGDPRConsent:i}=n(2),{localStorageStateManagement:a,createTouchpointManager:c,uuidv4:s}=n(3);((e,t,n,i)=>{const a=o(window,,c=r(window);function s(e,t){if(e("Collecting IDs"),TMCONFIG&&"false"===((TMCONFIG||{}).features||{}).reachIdAnalyticsEnabled)return;const n=function(n){const o=[];return o.push=function(r){Array.prototype.push.call(o,r),(async(n,o)=>{const r=n.shift(),i={timestamp:Date.now(),edges:[{source:"REACHID.TOUCHPOINT",id:o},r]};e(`Sending payload [${JSON.stringify(i)}]`),await fetch(t+"/collect",{method:"POST",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(i)})})(o,n.get())},(i),o=()=>window.dataLayer.filter(e=>void 0!==e.clientId)[0].clientId;if(window.dataLayer&&window.dataLayer.filter(.length>0){const t=o();e(`FOUND GA ID: [${t}]`),n("GA",t)}else e("REGISTERING ANALYTICS ID LISTENER"),window.addEventListener("analytics.clientId.ready",(,{once:!0});window.login_radius_user_profile&&window.login_radius_user_profile.ID?n("LOGINRADIUS",window.login_radius_user_profile.ID):window.addEventListener("loginradius.user.profile",e=>{const t=e.data||e.detail;t&&n("LOGINRADIUS",t.ID)}),(((window.commercialData||{}).info||{}).user||{}).luid&&"unknown"!==window.commercialData.info.user.luid?n("LOTAME",window.commercialData.info.user.luid):window.addEventListener("lotame.id.ready",e=>{const t=e.data||e.detail;t&&n("LOTAME",t)}),a&&n("PURE360",a),c&&n("SELLIGENT",c),window.REACHID=window.REACHID||n,document.dispatchEvent(((e,t)=>{if("function"==typeof window.CustomEvent)return new window.CustomEvent(e,t);t=t||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n})("REACHID.ready",{detail:n}))}if(e("Checking readers GDPR consent"),n())return e("GDPR Consent given"),s(e,t);e("Waiting for consent"),window.addEventListener("staticConsent.obtained",()=>n()?(e("GDPR Consent given"),s(e,t)):e("GDPR Consent not given"),{once:!0})})("https://reach-id.orbit.tm-awx.com",c(s,a))},function(e,t){const n=(e,t,n=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/)=>e.has(t)&&!!e.get(t).toLowerCase().match(n);e.exports={stripTrackingId:(e,t)=>{const o=new URLSearchParams(e.location.search);if(n(o,"pure360.trackingid")){const n=o.get("pure360.trackingid");o.delete("pure360.trackingid");return t(e.location.protocol+"//"+e.location.host+e.location.pathname+(0!=o.toString().length?"?"+o:"")),n}},stripSelligentRuid:e=>{const t=new URLSearchParams(e.location.search);if(n(t,"ruid"))return t.get("ruid")}}},function(e,t){e.exports={checkGDPRConsent:function(e){if((((e.TMConsent||{}).tcfv2consent||{}).purpose||{}).consents){const t=e.TMConsent.tcfv2consent.purpose.consents,n=new Set(["1","2","3","4","5","6","7","8","9","10"]);return 10===Object.keys(t).map(.filter(e=>e[1]).map(.filter(.length}return!1}}},function(e,t){const n={has:set:get:;e.exports={uuidv4:localStorageStateManagement:n,createTouchpointManager:(e,t)=>{const n="REACHID.TOUCHPOINT";return{get:()=>{if(t.has(n))return t.get(n);{const o=e();return t.set(n,o),o}},set:}}}]);