!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[5030],{62001:(t,e,n)=>{n.d(e,{$:()=>u,P:()=>s});var r=n(95004),i=n(32415),o=n(14544),a=n(12885),u=t=>!(null!=t&&t.isLoggedIn)||!1!=!!t.user.viewWithBlogTheme,s=t=>{var e=(0,o.M)().name,n=u((0,i.Pc)().data);return(0,r.useMemo)(()=>t?(0,a.Z)(t,{isNewPeepr:!0,useBlogTheme:n,palette:e}):{},[t,n,e])}},56874:(t,e,n)=>{n.r(e),n.d(e,{default:()=>e8});var r,i=n(44027),o=n.n(i),a=n(33970),u=n.n(a),s=n(54138),l=n.n(s),c=n(6135),h=n(33118),f=n(62001);function d(){}function p(t){return null==t?d:function(){return this.querySelector(t)}}_=Array.prototype.find;ar w=Array.prototype.filter;ion S(t){return t.__data__}.prototype={constructor:k,appendChild:insertBefore:querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:;var E="http://www.w3.org/1999/xhtml";let I={svg:"http://www.w3.org/2000/svg",xhtml:E,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};on Z(t,e){for(var n=$(t),r=-1,i=e.length;++r<i;)n.add(e[r])}unction q(){this.textContent=""}on U(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}ototype={add:remove:contains:;var W=[null];prototype=Q.prototype={constructor:J,select:selectAll:function(t){if("function"==typeof t){var e;e=t,t=else t=g(t);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var u,s=n[a],l=s.length,c=0;c<l;++c)(u=s[c])&&(i.push(t.call(u,u.__data__,c,s)),o.push(u));return new J(i,o)},selectChild:function(t){var e;return this.select(null==t?x:(e="function"==typeof t?t:m(t),function(){return _.call(this.children,e)}))},selectChildren:function(t){var e;return this.selectAll(null==t?b:(e="function"==typeof t?t:m(t),)},filter:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new J(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,S);var n=e?P:M,r=this._parents,i=this._groups;"function"!=typeof t&&(m=t,t=function(){return m});for(var o=i.length,a=Array(o),u=Array(o),s=Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,d="object"==typeof(y=t.call(c,c&&c.__data__,l,r))&&"length"in y?y:Array.from(y),p=d.length,v=u[l]=Array(p),g=a[l]=Array(p);n(c,h,v,g,s[l]=Array(f),d,e);for(var y,m,_,x,w=0,b=0;w<p;++w)if(_=v[w]){for(w>=b&&(b=w+1);!(x=g[b])&&++b<p;);_._next=x||null}}return(a=new J(a,r))._enter=u,a._exit=s,a},enter:function(){return new J(this._enter||this._groups.map(N),this._parents)},exit:join:merge:selection:function(){return this},order:sort:call:nodes:node:size:empty:each:attr:style:property:classed:text:function(t){return arguments.length?this.each(null==t?q:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:raise:function(){return this.each(V)},lower:function(){return this.each(B)},append:insert:remove:clone:datum:on:dispatch:[Symbol.iterator]:;var tt={value:;prototype=te.prototype={constructor:tn,on:copy:call:apply:;var ti,to,ta=0,tu=0,ts=0,tl=0,tc=0,th=0,tf="object"==typeof performance&&performance.now?performance:Date,td="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):type=ty.prototype={constructor:tg,restart:stop:;var tb=te("start","end","cancel","interrupt"),tN=[];unction tM(t,e){var n=tS(t,e);if(n.state>0)throw Error("too late; already scheduled");return n} tE=n(25337),tI=180/Math.PI,tz={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};unction tC(t,e,n,r){eturn function(o,a){var u,s,l,c,h=[],f=[];return o=t(o),a=t(a),!o.translateX,o.translateY,a.translateX,a.translateY,h,f),(u=o.rotate)!==(s=a.rotate)?(u-s>180?s+=360:s-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:(0,tE.Z)(u,s)})):s&&h.push(i(h)+"rotate("+s+r),(l=o.skewX)!==(c=a.skewX)?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:(0,tE.Z)(l,c)}):c&&h.push(i(h)+"skewX("+c+r),!function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:(0,tE.Z)(t,n)},{i:u-2,x:(0,tE.Z)(e,r)})}else(1!==n||1!==r)&&o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,h,f),o=a=null,}var tR=tC("px, ","px)","deg)"),t$=tC(", ",")",")");ar tZ=n(69180),tL=n(60664),tq=n(49989);ar tV=Q.prototype.constructor;ar tO=0;ar tY=Q.prototype;tX.prototype=(.prototype={constructor:tX,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=p(t));for(var r=this._groups,i=r.length,o=Array(i),a=0;a<i;++a)for(var u,s,l=r[a],c=l.length,h=o[a]=Array(c),f=0;f<c;++f)(u=l[f])&&(s=t.call(u,u.__data__,f,l))&&("__data__"in u&&(s.__data__=u.__data__),h[f]=s,tk(h[f],e,n,f,h,tS(u,n)));return new tX(o,this._parents,e,n)},selectAll:selectChild:tY.selectChild,selectChildren:tY.selectChildren,filter:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new tX(r,this._parents,this._name,this._id)},merge:selection:transition:call:tY.call,nodes:tY.nodes,node:tY.node,size:tY.size,empty:tY.empty,each:tY.each,on:attr:function(t,e){var n=z(t),r="transform"===n?t$:tD;return this.attrTween(t,"function"==typeof e?(n.local?(n,r,tT(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();var r=z(t);return this.tween(n,(r.local?(r,e))},style:function(t,e,n){var r,i,o,a,u,s,l,c,h,f,d,p,v,g,y,m,_,x,w,b,N,k="transform"==(t+="")?tR:tD;return null==e?this.styleTween(t,(r=t,).on("end.style."+t,tB(t)):"function"==typeof e?this.styleTween(t,(u=t,s=tT(this,"style."+t,e),).each((f=this._id,_="end."+(m="style."+(d=t)),):this.styleTween(t,(x=t,N=e+"",,n).on("end.style."+t,null)},styleTween:text:textTween:remove:tween:delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){tM(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){tM(this,t).delay=e}})(e,t)):tS(this.node(),e).delay},duration:ease:easeVarying:end:[Symbol.iterator]:tY[Symbol.iterator]};var tU={time:null,delay:0,duration:250,ease:;Q.prototype.interrupt=Q.prototype.transition=let{abs:tG,max:tF,min:tH}=Math;w","e"].map(tW),["n","s"].map(tW),["n","w","e","s","nw","ne","sw","se"].map(tW);unction tQ(t){return(t()-.5)*1e-6}function t0(t){return t.index}function t1(t,e){var n=t.get(e);if(!n)throw Error("node not found: "+e);return n}function t2(t){var e,n,r,i,o,a,u=t0,s=l=tJ(30),c=1;function h(r){for(var i=0,u=t.length;i<c;++i)for(var s,l,h,f,d,p,v,g=0;g<u;++g)l=(s=t[g]).source,p=((p=Math.sqrt((f=(h=s.target).x+h.vx-l.x-l.vx||tQ(a))*f+(d=h.y+h.vy-l.y-l.vy||tQ(a))*d))-n[g])/p*r*e[g],f*=p,d*=p,h.vx-=f*(v=o[g]),h.vy-=d*v,l.vx+=f*(v=1-v),l.vy+=d*v}function f(){if(r){var a,s,l=r.length,c=t.length,h=new Map(r.map();for(a=0,i=Array(l);a<c;++a)(s=t[a]).index=a,"object"!=typeof s.source&&(s.source=t1(h,s.source)),"object"!=typeof s.target&&(s.target=t1(h,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,o=Array(c);a<c;++a)s=t[a],o[a]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);e=Array(c),d(),n=Array(c),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}eturn null==t&&(t=[]),h.initialize=function(t,e){r=t,a=e,f()},h.links=h.id=function(t){return arguments.length?(u=t,h):u},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(s="function"==typeof t?t:tJ(+t),d(),h):s},h.distance=function(t){return arguments.length?(l="function"==typeof t?t:tJ(+t),p(),h):l},h}function t5(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,s,l,c,h,f,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(v+y)/2))?v=o:y=o,(c=n>=(a=(g+m)/2))?g=a:m=a,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&n===s)return p.next=d,i?i[h]=p:t._root=p,t;do i=i?i[h]=[,,,,]:t._root=[,,,,],(l=e>=(o=(v+y)/2))?v=o:y=o,(c=n>=(a=(g+m)/2))?g=a:m=a;while((h=c<<1|l)==(f=(s>=a)<<1|u>=o))return i[f]=d,i[h]=p,t}unction t3(t){return t[0]}et=t7.prototype=t8.prototype;function ee(t){return t.x}t.copy=function(){var t,e,n=new t8(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=t9(r),n;for(t=[{source:r,target:n._root=[,,,,]}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=[,,,,]}):r.target[i]=t9(e));return n},et.add=et.addAll=function(t){var e,n,r,i,o=t.length,a=Array(o),u=Array(o),s=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)!(isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e)))&&(a[n]=r,u[n]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(s>c||l>h)return this;for(this.cover(s,l).cover(c,h),n=0;n<o;++n)t5(this,a[n],u[n],t[n]);return this},et.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,u,s=i-n||1,l=this._root;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,(a=[,,,,])[u]=l,l=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},et.data=et.extent=et.find=function(t,e,n){var r,i,o,a,u,s,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new t6(v,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);s=p.pop();)if((v=s.node)&&!((i=s.x0)>f)&&!((o=s.y0)>d)&&!((a=s.x1)<c)&&!((u=s.y1)<h)){if(v.length){var g=(i+a)/2,y=(o+u)/2;p.push(new t6(v[3],g,y,a,u),new t6(v[2],i,y,g,u),new t6(v[1],g,o,a,y),new t6(v[0],i,o,g,y)),(l=(e>=y)<<1|t>=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var m=t-+this._x.call(null,v.data),_=e-+this._y.call(null,v.data),x=m*m+_*_;if(x<n){var w=Math.sqrt(n=x);c=t-w,h=e-w,f=t+w,d=e+w,r=v.data}}}return r},et.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,s,l,c,h,f,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(u=(p+g)/2))?p=u:g=u,(c=a>=(s=(v+y)/2))?v=s:y=s,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return((i=d.next)&&delete d.next,r)?i?r.next=i:delete r.next:e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d)):this._root=i,this},et.removeAll=et.root=et.size=et.visit=et.visitAfter=et.x=function(t){return arguments.length?(this._x=t,this):this._x},et.y=var er=Math.PI*(3-Math.sqrt(5));et eo={capture:!0,passive:!1};function ea(t){t.preventDefault(),t.stopImmediatePropagation()}et es=function t(e,n,r){function i(t,i){var o,a,u=t[0],s=t[1],l=t[2],c=i[0],h=i[1],f=i[2],d=c-u,p=h-s,v=d*d+p*p;if(v<1e-12)a=Math.log(f/l)/e,o=else{var g=Math.sqrt(v),y=(f*f-l*l+r*v)/(2*l*n*g),m=(f*f-l*l-r*v)/(2*f*n*g),_=Math.log(Math.sqrt(y*y+1)-y);a=(Math.log(Math.sqrt(m*m+1)-m)-_)/e,o=function(t){var r,i,o=t*a,c=eu(_),h=l/(n*g)*(((r=Math.exp(2*(r=e*o+_)))-1)/(r+1)*c-((i=Math.exp(i=_))-1/i)/2);return[u+h*d,s+h*p,l*c/eu(e*o+_)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=i}(Math.SQRT2,2,4);et ec=.prototype={constructor:ef,scale:translate:apply:applyX:function(t){return t*this.k+this.x},applyY:invert:invertX:function(t){return(t-this.x)/this.k},invertY:rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:toString:;var ed=new ef(1,0,0);type;var eb=n(17276),eN=n.n(eb),ek=n(86743),eM=n(60023),eP=n(78667),eS=n(56306),eA=n(32415),eE=n(95004),eI=n(12736),ez=n(14544),ej=n(63415),eC=n(63583),eR=n(96467),e$=n(44009),eT=n(54382),eZ=n(5754),eL=n.n(eZ),eq=n(45222),eD=n(85085),eV=n(17287),eB=n(82145),eO=n(69682),eX=n(50244),eY=n(25190),eU=n(34438),eG=n(78994),eF=n(17901),eH=n(84961);let eK={root:"M36U8",center:"NjIuf",summary:"iLdQV",content:"JYvZ9",gradient:"xFiD8",postCard:"DEVeL",activeNodeInfo:"f3N50",blogLink:"z7z0C",reblogChain:"_5c72B"};var eW=n(2629),eJ=t=>{var e,n=t.blogUuid,r=t.isCurrentPost,i=t.isNodeSelected,o=t.isRootPost,a=t.nodePreview,u=t.popoverLayout,s=t.postId,l=t.reblogDepth,h=(0,eP.bp)()._c,f=(0,eY.v$)().isMobile,d=(0,eG.s0)(),p=(0,eS.kx)(n,{postId:s},{staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:!1}),v=p.isPending,g=p.isError,y=p.data;if(v)return(0,eW.jsx)("div",{className:eL()(eK.root,eK.center),children:(0,eW.jsx)(c.Z,{small:!0,color:eC.paletteGray40})});if(g)return(0,eW.jsx)("div",{className:eL()(eK.root,eK.center),children:h("Message displayed when there is an error loading info about a post","Unable to load post")});var m=y[0],_=(null===(e=m.content)||void 0===e?void 0:e.length)>0||m.tags&&m.tags.length>0,x=()=>{d((0,eU.SS)({peeprBlogname:m.blogName,peeprPostId:String(m.id)}))};return(0,eW.jsxs)("div",{className:eK.root,children:[(0,eW.jsxs)("div",{role:"button",tabIndex:0,className:eK.summary,onClick:x,onKeyDown:x,children:[(0,eW.jsxs)("div",{className:eK.postCard,children:[(0,eW.jsx)("div",{children:(0,eW.jsx)(eq.Z,{imageResponse:m.blog.avatar,name:m.blogName,url:m.blog.url,dimension:eR.reblogGraphAvatarDimension,badge:o?void 0:eD.Z.ofType(eF.w.Reblog)})}),(0,eW.jsxs)("div",{className:eK.reblogChain,children:[(0,eW.jsx)(eV.Z,{blogName:m.blogName,ellipsisOverflow:!0,className:eK.blogLink,useCapture:!0,children:m.blogName}),!u&&m.rebloggedFromName&&(0,eW.jsxs)(eW.Fragment,{children:[(0,eW.jsx)(eB.Z,{size:{width:eR.reblogGraphAvatarIconDimension,height:eR.reblogGraphAvatarIconDimension},isCompact:!0}),(0,eW.jsx)(eV.Z,{blogName:m.rebloggedFromName,useCapture:!0,children:m.rebloggedFromName})]})]})]}),(0,eW.jsxs)("div",{className:eK.activeNodeInfo,children:[a,o?h("Label when the root post is selected","Root post"):r?(0,eW.jsxs)(eT.M2,{comment:"Label showing that the current post is selected, along with how many levels deep the reblog is",number:l,children:[(0,eW.jsx)(eT.CJ,{children:"Current post ([number] reblog deep)"}),(0,eW.jsx)(eT.CN,{children:"Current post ([number] reblogs deep)"})]}):(0,eW.jsxs)(eT.M2,{comment:"Label showing how many levels deep the reblog is",number:l,children:[(0,eW.jsx)(eT.CJ,{children:"[number] reblog deep"}),(0,eW.jsx)(eT.CN,{children:"[number] reblogs deep"})]})]})]}),i&&!r&&_&&(0,eW.jsxs)(eW.Fragment,{children:[(0,eW.jsxs)("div",{className:eK.content,children:[(0,eW.jsx)(eH.z.Provider,{value:{note:{blogName:m.blogName,postId:m.id}},children:(0,eW.jsx)(eO.ZP,{blocks:m.content,postingBlog:m.blog,isOriginalPost:!0})}),(0,eW.jsx)(eX.Z,{tags:m.tags,collapsedHeight:f?eR.wrappedTagsMobileHeight:eR.wrappedTagsDesktopHeight,postChromeStyles:{paddingLeft:0,paddingRight:0,marginTop:0,marginBottom:15}})]}),(0,eW.jsx)("div",{className:eK.gradient})]})]})};let eQ={root:"tzXkj",infoPanel:"Z3KHm",reblogsInfo:"cOVMJ",loadMoreButton:"QSL25"};var e0=t=>{var e=t.canLoadMoreReblogs,n=t.isCurrentPost,r=t.isLoadingReblogs,i=t.isNodeSelected,o=t.isRootPost,a=t.nodePreview,u=t.numReblogsLoaded,s=(t.onClickDebug,t.onClickLoadMore),l=t.popoverLayout,h=t.postBlogUuid,f=t.postId,d=t.selectedReblogDepth;return(0,eW.jsxs)("div",{className:eQ.root,children:[!1,(0,eW.jsxs)("div",{className:eQ.infoPanel,children:[(0,eW.jsxs)("div",{className:eQ.reblogsInfo,children:[(0,eW.jsx)("div",{children:(0,eW.jsx)(eT.ZP,{comment:"Label showing the number of reblogs",params:{count:u},children:"Showing [count] reblogs"})}),(0,eW.jsx)(e$.Z,{type:"button",label:"Load",disabled:r||!e,className:e?eQ.loadMoreButton:void 0,onClick:s,children:r?(0,eW.jsx)(c.Z,{small:!0,centerOrientation:"horizontal",color:eC.paletteGray40}):e?(0,eW.jsx)(eT.ZP,{comment:"Button label when there is more data available to load",children:"Load more reblogs"}):(0,eW.jsx)(eT.ZP,{comment:"Button label when there is no more data to load",children:"All reblogs loaded"})})]}),h&&f?(0,eW.jsx)(eJ,{postId:f,blogUuid:h,isCurrentPost:n,isNodeSelected:i,isRootPost:o,reblogDepth:d,popoverLayout:l,nodePreview:a}):(0,eW.jsx)(c.Z,{small:!0,centerOrientation:"horizontal",color:eC.paletteGray40})]})]})},e1=h.z.trueBlue,e2=t=>{var e,n,r=t.width,i=t.height,a=t.popoverLayout,s=t.post,c=(0,eA.Pc)().data,h=(0,eI.z)().isPeeprShowing,d=(0,ez.M)(),p=(0,f.$)(c),v=s.id,g=s.blogName,y=s.blog.uuid,m=v.toString(),_=function(t,e){var n=(0,eP.bp)().apiFetch;return(0,ek.N)({queryKey:["post-graph",{blogName:t,postId:e}],queryFn:r=>{var i,o,a;return eN()().async(function(u){for(;;)switch(u.prev=u.next){case 0:return o=r.pageParam,u.next=3,eN()().awrap(new eM.x(n,`/v2/blog/${t}/posts/${e}/graph`,{queryParams:{after:o}}).fetch());case 3:return a=u.sent.response,u.abrupt("return",{data:a.reblogs,next:null===(i=a.links)||void 0===i||null===(i=i.next)||void 0===i?void 0:i.after});case 6:case"end":return u.stop()}},null,null,null,Promise)},staleTime:1/0,initialPageParam:void 0,getNextPageParam:t=>t.next,refetchOnWindowFocus:!1})}(g,m),x=_.data,w=_.isFetchingNextPage,b=_.hasNextPage,N=_.fetchNextPage,k=(0,eE.useState)(null),M=u()(k,2),P=M[0],S=M[1],A=s.rebloggedRootId||m,E=s.rebloggedRootUuid||y,I=!s.rebloggedRootId,z=!P||P.id===A,j=!!(P&&(null==P?void 0:P.id)===m);z?(e=E,n=A):P&&(e=P.tumblelogUuid,n=P.id);var C=(0,eE.useRef)(null),R=(0,eE.useRef)(null),$=(0,eE.useRef)(new Map([[A,{id:A,isCurrentPost:!!s.rebloggedRootId,isInSelectedPath:!1,isRoot:!0,parentId:s.rebloggedFromId,tumblelogUuid:s.blog.uuid,x:r/2,y:i/2}]])),T=(0,eE.useRef)(),Z=(0,eE.useCallback)(()=>{var t="white",e="accent",n="black",r="accent";return h&&p?{colorBg:(0,ej.II)(e1[t]),colorEdge:(0,ej.II)(e1[e]),colorVertex:(0,ej.II)(e1[n]),colorVertexSelected:(0,ej.II)(e1[r])}:{colorBg:(0,ej.II)(d.colors[t]),colorEdge:(0,ej.II)(d.colors[e]),colorVertex:(0,ej.II)(d.colors[n]),colorVertexSelected:(0,ej.II)(d.colors[r])}},[h,d,p]),L=(0,eE.useRef)(l()(l()({},Z()),{},{debug:!1,nodeRadius:eR.reblogGraphNodeRadius,selectedNodeRadius:eR.reblogGraphSelectedNodeRadius,selectedVertex:null,transform:ed}));(0,eE.useEffect)(()=>{var t;Object.assign(L.current,Z()),null===(t=T.current)||void 0===t||t.restart()},[Z]),(0,eE.useEffect)(()=>{var t=C.current;if(t){t.setAttribute("width",`${r}px`),t.setAttribute("height",`${i}px`);var e=t.getContext("2d",{alpha:!1}),n=e6($.current),a=u()(n,2),s=a[0],l=a[1];T.current=(function(t){let e;var n,r=1,i=.001,o=1-Math.pow(.001,1/300),a=0,u=.6,s=new Map,l=ty(f),c=te("tick","end"),h=(e=1,()=>(e=(1664525*e+1013904223)%4294967296)/4294967296);rn null==t&&(t=[]),p(),n={tick:d,restart:stop:nodes:alpha:function(t){return arguments.length?(r=+t,n):r},alphaMin:function(t){return arguments.length?(i=+t,n):i},alphaDecay:alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:randomSource:force:find:on:})(s).force("link",t2(l).id(.strength(.06)).force("charge",(function(){var t,e,n,r,i,o=tJ(-30),a=1,u=1/0,s=.81;unction c(){if(t){var e,n,r=t.length;for(e=0,i=Array(r);e<r;++e)i[(n=t[e]).index]=+o(n,e,t)}}function h(t){var e,n,r,o,a,u=0,s=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(u+=e.value,s+=n,r+=n*e.x,o+=n*e.y);t.x=r/s,t.y=o/s}else{(e=t).x=e.data.x,e.y=e.data.y;do u+=i[e.data.index];while(e=e.next)}t.value=u}function f(t,o,l,c){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=c-o,p=h*h+f*f;if(d*d/s<p)return p<u&&(0===h&&(p+=(h=tQ(n))*h),0===f&&(p+=(f=tQ(n))*f),p<a&&(p=Math.sqrt(a*p)),e.vx+=h*t.value*r/p,e.vy+=f*t.value*r/p),!0;if(!t.length&&!(p>=u)){(t.data!==e||t.next)&&(0===h&&(p+=(h=tQ(n))*h),0===f&&(p+=(f=tQ(n))*f),p<a&&(p=Math.sqrt(a*p)));do t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=h*d,e.vy+=f*d);while(t=t.next)}}return l.initialize=l.strength=l.distanceMin=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.distanceMax=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l.theta=l})().strength(-100).distanceMax(1e3)).force("center",function(t,e){var n,r=1;function i(){var i,o,a=n.length,u=0,s=0;for(i=0;i<a;++i)u+=(o=n[i]).x,s+=o.y;for(u=(u/a-t)*r,s=(s/a-e)*r,i=0;i<a;++i)o=n[i],o.x-=u,o.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}(r/2,i/2)).alphaTarget(.05),((t,e)=>{var n=(function(){var t,e,n,r=eg,i=ey,o=ew,a=e_,u=ex,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=es,f=te("start","zoom","end"),d=0,p=10;tion _(t,e,n,r){t.on("start.zoom",function(){x(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",.tween("zoom",function(){var t=arguments,o=x(this,t).event(r),a=i.apply(this,t),u=null==n?m(a):"function"==typeof n?n.apply(this,t):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=this.__zoom,c="function"==typeof e?e.apply(this,t):e,f=h(l.invert(u).concat(s/l.k),c.invert(u).concat(s/c.k));return )}nction b(t,...e){if(r.apply(this,arguments)){var n=x(this,e).event(t),i=this.__zoom,u=Math.max(s[0],Math.min(s[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=el(t);if(n.wheel)(n.mouse[0][0]!==c[0]||n.mouse[0][1]!==c[1])&&(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===u)return;n.mouse=[c,i.invert(c)],tA(this),n.start()}ev(t),n.wheel=setTimeout(150),n.zoom("mouse",o(y(g(i,u),n.mouse[0],n.mouse[1]),n.extent,l))}}function N(t,...e){if(!n&&r.apply(this,arguments)){var i,a,u,s=t.currentTarget,c=x(this,e,!0).event(t),h=ei(t.view).on("mousemove.zoom",!0).on("mouseup.zoom",function(t){var e,n,r,i;h.on("mousemove.zoom mouseup.zoom",null),e=t.view,n=c.moved,r=e.document.documentElement,i=ei(e).on("dragstart.drag",null),n&&(i.on("click.drag",ea,eo),setTimeout(0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),ev(t),c.event(t).end()},!0),f=el(t,s),p=t.clientX,v=t.clientY;a=(i=t.view).document.documentElement,u=ei(i).on("dragstart.drag",ea,eo),"onselectstart"in a?u.on("selectstart.drag",ea,eo):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none"),ep(t),c.mouse=[f,this.__zoom.invert(f)],tA(this),c.start()}}unction M(n,...i){if(r.apply(this,arguments)){var o,a,u,s,l=n.touches,c=l.length,h=x(this,i,n.changedTouches.length===c).event(n);for(ep(n),a=0;a<c;++a)s=[s=el(u=l[a],this),this.__zoom.invert(s),u.identifier],h.touch0?h.touch1||h.touch0[2]===s[2]||(h.touch1=s,h.taps=0):(h.touch0=s,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=s[0],t=setTimeout(function(){t=null},500)),tA(this),h.start())}}unction S(t,...r){if(this.__zooming){var i,o,a=x(this,r).event(t),u=t.changedTouches,s=u.length;for(ep(t),n&&clearTimeout(n),n=setTimeout(500),i=0;i<s;++i)o=u[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=el(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<p)){var l=ei(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return v.transform=v.scaleBy=v.scaleTo=v.translateBy=v.translateTo=w.prototype={event:start:zoom:end:emit:,v.wheelDelta=v.filter=function(t){return arguments.length?(r="function"==typeof t?t:ec(!!t),v):r},v.touchable=v.extent=v.scaleExtent=v.translateExtent=v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(c=+t,v):c},v.interpolate=v.on=v.clickDistance=v.tapDistance=v})().scaleExtent([.1,4]).on("zoom",t=>{var e=t.transform;e&&(L.current.transform=e)}),r=ei(e);r.on("click",(e,n)=>{e.preventDefault();var r=t.find(...L.current.transform.invert([e.offsetX,e.offsetY]),L.current.nodeRadius);e5(L.current.selectedVertex,$.current,"deactivate"),r?(L.current.selectedVertex=r,e5(r,$.current,"activate")):L.current.selectedVertex=null,S(L.current.selectedVertex)}),n(r)})(T.current,C.current);var c=t=>{var n=t.source,r=t.target;e.strokeStyle=L.current.colorEdge;var i=n.fx||n.x,o=n.fy||n.y,a=r.fx||r.x,u=r.fy||r.y;i&&a&&o&&u&&(e.beginPath(),L.current.selectedVertex&&(n.isInSelectedPath&&r.isInSelectedPath?e.globalAlpha=1:e.globalAlpha=.25),e.moveTo(i,o),e.lineTo(a,u),e.stroke())},h=t=>{var n,r=L.current,i=r.colorVertex,o=r.colorVertexSelected,a=r.colorBg,u=r.selectedNodeRadius,s=r.nodeRadius,l=(null===(n=L.current.selectedVertex)||void 0===n?void 0:n.id)===t.id?o:i,c=t.fx||t.x,h=t.fy||t.y;e.fillStyle=l,c&&h&&(t.isRoot?e3(e,l,a,c,h,u):t.isCurrentPost?e4(e,l,a,c,h,u):t.isInSelectedPath?e7(e,l,a,c,h,u):(e.beginPath(),e.arc(c,h,s,0,2*Math.PI),e.fill()))};return T.current.on("tick",()=>{var t=L.current.transform,n=e6($.current),a=u()(n,2),s=a[0],l=a[1];e.save(),e.beginPath(),e.fillStyle=L.current.colorBg,e.fillRect(0,0,r,i),e.restore(),e.save(),e.translate(t.x,t.y),e.scale(t.k,t.k),e.save();var f,d,p=o()(l);try{for(p.s();!(d=p.n()).done;){var v=d.value;c(v)}}catch(t){p.e(t)}finally{p.f()}e.restore(),e.save();var g,y=o()(s);try{for(y.s();!(g=y.n()).done;){var m=g.value;h(m)}}catch(t){y.e(t)}finally{y.f()}e.restore(),e.restore();var _=null===(f=R.current)||void 0===f?void 0:f.getContext("2d",{desynchronized:!0});if(_){var x,w,b,N=eR.reblogGraphNodePreviewDimension/2,k=eR.reblogGraphNodePreviewDimension/2,M=eR.reblogGraphNodePreviewDimension/3,P=L.current,S=P.colorBg,A=P.colorVertex,E=P.colorVertexSelected,I=null!==(x=L.current.selectedVertex)&&void 0!==x&&x.isRoot?E:A;!L.current.selectedVertex||null!==(w=L.current.selectedVertex)&&void 0!==w&&w.isRoot?e3(_,I,S,N,k,M):null!==(b=L.current.selectedVertex)&&void 0!==b&&b.isCurrentPost?e4(_,E,S,N,k,M):e7(_,E,S,N,k,M)}}),},[r,i]),(0,eE.useEffect)(()=>{var t,e,n=null==x?void 0:x.pages[x.pages.length-1].data;null===(t=T.current)||void 0===t||t.stop(),null==n||n.forEach(t=>{var e=t.id,n={id:e,parentId:t.parentId,tumblelogUuid:t.tumblelogUuid,isInSelectedPath:!1};e===m&&(n.isCurrentPost=!0),$.current.set(e,n)});var r=e6($.current),i=u()(r,2),o=i[0],a=i[1];null===(e=T.current)||void 0===e||e.nodes(o).force("link",t2(a).id(t=>t.id).distance(0)).restart()},[x,m]),(0,eE.useEffect)(()=>{var t=()=>{var t;null===(t=T.current)||void 0===t||t.restart()},e=return window.addEventListener("focus",t),window.addEventListener("blur",e),,[]);var q=(0,eE.useState)(0),D=u()(q,2),V=D[0],B=D[1];return(0,eE.useEffect)(()=>{B($.current.size?$.current.size-1:0)},[x]),(0,eW.jsxs)(eW.Fragment,{children:[(0,eW.jsx)(e0,{postId:n,postBlogUuid:e,isCurrentPost:j,isRootPost:z,isLoadingReblogs:w,isNodeSelected:!!P,numReblogsLoaded:V,canLoadMoreReblogs:!!b&&!w,selectedReblogDepth:function(t,e){var n=e6(t);return u()(n,2)[1].filter(t=>{var e=t.source,n=t.target;return e.isInSelectedPath&&n.isInSelectedPath}).length-(e?0:1)}($.current,I),popoverLayout:a,nodePreview:(0,eW.jsx)("canvas",{ref:R,width:eR.reblogGraphNodePreviewDimension,height:eR.reblogGraphNodePreviewDimension,className:"Nx3j_"}),onClickLoadMore:onClickDebug:t=>void(L.current.debug=t.target.checked)}),(0,eW.jsx)("canvas",{ref:C})]})};function e5(t,e,n){if(t){var r="activate"===n;t.isInSelectedPath=r;for(var i=e.get(t.parentId);i&&i.isInSelectedPath!==r;)i.isInSelectedPath=r,i=e.get(i.parentId)}}function e6(t){var e=[...t.values()],n=e.flatMap(e=>{var n=e.parentId;return n&&t.has(n)?[{source:e,target:t.get(n)}]:[]});return[e,n]}var e3=(t,e,n,r,i,o)=>{t.beginPath(),t.arc(r,i,o,0,2*Math.PI),t.fillStyle=e,t.fill(),t.beginPath(),t.arc(r,i,.8*o,0,2*Math.PI),t.fillStyle=n,t.fill(),t.beginPath(),t.arc(r,i,.2*o,0,2*Math.PI),t.fillStyle=e,t.fill()},e4=(t,e,n,r,i,o)=>{t.beginPath(),t.arc(r,i,o,0,2*Math.PI),t.fillStyle=e,t.fill(),t.beginPath(),t.arc(r,i,.8*o,0,2*Math.PI),t.fillStyle=n,t.fill()},e7=(t,e,n,r,i,o)=>{t.beginPath(),t.arc(r,i,o,0,2*Math.PI),t.fillStyle=e,t.fill(),t.beginPath(),t.arc(r,i,o/1.5,0,2*Math.PI),t.fillStyle=n,t.fill(),t.beginPath(),t.arc(r,i,o/2.5,0,2*Math.PI),t.fillStyle=e,t.fill()};let e8=t=>{var e=t.blogUuid,n=t.postId,r=(0,eS.kx)(e,{postId:n},{staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1}).data,i=null==r?void 0:r[0];return(0,eW.jsx)("div",{className:"LqVA8",children:i?(0,eW.jsx)(e2,l()(l()({},t),{},{post:i})):(0,eW.jsx)(c.Z,{small:!0,centerOrientation:"horizontalAndVertical",color:eC.paletteGray40})})}},56306:(t,e,n)=>{n.d(e,{kx:()=>c});var r=n(54138),i=n.n(r),o=n(17276),a=n.n(o),u=n(33590),s=n(19937),l=n(78667);function c(t,e,n){var r=(0,l.bp)().apiFetchWithSchema;return(0,u.a)(i()(i()({},n),{},{queryKey:["get-posts",t,e],queryFn:()=>a()().async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.J)(r,i()({blogIdentifier:t},e)).fetch().then();case 1:case"end":return n.stop()}},null,null,null,Promise)}))}},69180:(t,e,n)=>{n.d(e,{B8:()=>k,Il:()=>i,J5:()=>a,SU:()=>N,Ss:()=>M,Ym:()=>C,ZP:()=>x,xV:()=>o});var r=n(93635);ar o=.7,a=1.4285714285714286,u="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=RegExp(`^rgb\\(${u},${u},${u}\\)$`),f=RegExp(`^rgb\\(${l},${l},${l}\\)$`),d=RegExp(`^rgba\\(${u},${u},${u},${s}\\)$`),p=RegExp(`^rgba\\(${l},${l},${l},${s}\\)$`),v=RegExp(`^hsl\\(${s},${l},${l}\\)$`),g=RegExp(`^hsla\\(${s},${l},${l},${s}\\)$`),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}tion N(t){return(t instanceof i||(t=x(t)),t)?new M((t=t.rgb()).r,t.g,t.b,t.opacity):new M}function k(t,e,n,r){return 1==arguments.length?N(t):new M(t,e,n,null==r?1:r)}function M(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}{copydisplayable(){return this.rgb().displayable()},hex:m,formatHex:m,formatHex8:formatHsl:formatRgb:_,toString:_}),(0,r.Z)(M,k,(0,r.l)(i,{brighter(t){return t=null==t?a:Math.pow(a,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},darkerrgbclamp(){return new M(E(this.r),E(this.g),E(this.b),A(this.opacity))},displayablehex:P,formatHex:P,formatHex8:formatRgb:S,toString:S})),(0,r.Z)(R,C,(0,r.l)(i,{brighter(t){return t=null==t?a:Math.pow(a,t),new R(this.h,this.s,this.l*t,this.opacity)},darkerrgbclampdisplayableformatHsl))},93635:(t,e,n)=>{d(e,{Z:()=>r,l:()=>i})},84465:(t,e,n)=>{n.d(e,{ZP:()=>u,wx:()=>o,yi:()=>a});var r=n(8949);nction a(t){return 1==(t=+t)?u:function(e,n){var i,o,a;return n-e?(i=e,o=n,i=Math.pow(i,a=t),o=Math.pow(o,a)-i,a=1/a,:(0,r.Z)(isNaN(e)?n:e)}},8949:(t,e,n)=>{n.d(e,{Z:()=>r});let r=t=>()=>t},25337:60664:(t,e,n)=>{n.d(e,{ZP:()=>a});var r=n(69180);ar o=n(84465);let a=1);function u(t){return function(e){var n,i,o=e.length,a=Array(o),u=Array(o),s=Array(o);for(n=0;n<o;++n)i=(0,r.B8)(e[n]),a[n]=i.r||0,u[n]=i.g||0,s[n]=i.b||0;return a=t(a),u=t(u),s=t(s),i.opacity=1,}u(,u(},49989:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(25337),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=RegExp(i.source,"g");function a(t,e){var n,a,u,s,l,c=i.lastIndex=o.lastIndex=0,h=-1,f=[],d=[];for(t+="",e+="";(u=i.exec(t))&&(s=o.exec(e));)(l=s.index)>c&&(l=e.slice(c,l),f[h]?f[h]+=l:f[++h]=l),(u=u[0])===(s=s[0])?f[h]?f[h]+=s:f[++h]=s:(f[++h]=null,d.push({i:h,x:(0,r.Z)(u,s)})),c=o.lastIndex;return c<e.length&&(l=e.slice(c),f[h]?f[h]+=l:f[++h]=l),f.length<2?d[0]?(n=d[0].x,:(a=e,:(e=d.length,}}}]);