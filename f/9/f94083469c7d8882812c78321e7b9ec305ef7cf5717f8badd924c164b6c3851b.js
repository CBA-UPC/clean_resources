/*! For license information please see video.min.js.LICENSE.txt */
!function(){var e,t,i,n,s={13490:9603:72167:86129:41146:function(e,t,i){var n=i(72167),s=n.find,r=n.NAMESPACE;ction u(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}ar d={},h=d.ELEMENT_NODE=1,p=d.ATTRIBUTE_NODE=2,f=d.TEXT_NODE=3,m=d.CDATA_SECTION_NODE=4,g=d.ENTITY_REFERENCE_NODE=5,y=d.ENTITY_NODE=6,_=d.PROCESSING_INSTRUCTION_NODE=7,v=d.COMMENT_NODE=8,b=d.DOCUMENT_NODE=9,T=d.DOCUMENT_TYPE_NODE=10,S=d.DOCUMENT_FRAGMENT_NODE=11,E=d.NOTATION_NODE=12,w={},k={},C=(w.INDEX_SIZE_ERR=(k[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3)),x=(w.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7),w.NOT_FOUND_ERR=(k[8]="Not found",8)),I=(w.NOT_SUPPORTED_ERR=(k[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10));unction O(){}nction D(){}ction U(){}function B(){}on W(e){return e&&e.nodeType===B.DOCUMENT_TYPE_NODE}function G(e){return e&&e.nodeType===B.ELEMENT_NODE}on Z(){this._nsMap={}}function ee(){}function te(){}function ie(){}function ne(){}function se(){}function re(){}function ae(){}function oe(){}function le(){}function ue(){}function ce(){}function de(){}ID_STATE_ERR=(k[11]="Invalid state",11),w.SYNTAX_ERR=(k[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),w.NAMESPACE_ERR=(k[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(k[15]="Invalid access",15),A.prototype=Error.prototype,u(w,A),O.prototype={length:0,item:toString:filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:,P.prototype.item=c(P,O),D.prototype={length:0,item:O.prototype.item,getNamedItem:setNamedItem:setNamedItemNS:removeNamedItem:removeNamedItemNS:getNamedItemNS:,U.prototype={hasFeature:createDocument:createDocumentType:,B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return J(this,e,t)},replaceChild:removeChild:appendChild:hasChildNodes:cloneNode:normalize:isSupported:hasAttributes:lookupPrefix:lookupNamespaceURI:isDefaultNamespace:,u(d,B),u(d,B.prototype),$.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:removeChild:replaceChild:importNode:getElementById:getElementsByClassName:createElement:createDocumentFragment:createTextNode:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:createProcessingInstruction:createAttribute:createEntityReference:createElementNS:createAttributeNS:,c($,B),Z.prototype={nodeType:h,hasAttribute:getAttribute:getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:removeAttributeNode:removeAttributeNS:hasAttributeNS:getAttributeNS:setAttributeNS:getAttributeNodeNS:getElementsByTagName:getElementsByTagNameNS:,$.prototype.getElementsByTagName=Z.prototype.getElementsByTagName,$.prototype.getElementsByTagNameNS=Z.prototype.getElementsByTagNameNS,c(Z,B),ee.prototype.nodeType=p,c(ee,B),te.prototype={data:"",substringData:appendData:insertData:appendChild:deleteData:replaceData:,c(te,B),ie.prototype={nodeName:"#text",nodeType:f,splitText:,c(ie,te),ne.prototype={nodeName:"#comment",nodeType:v},c(ne,te),se.prototype={nodeName:"#cdata-section",nodeType:m},c(se,te),re.prototype.nodeType=T,c(re,B),ae.prototype.nodeType=E,c(ae,B),oe.prototype.nodeType=y,c(oe,B),le.prototype.nodeType=g,c(le,B),ue.prototype.nodeName="#document-fragment",ue.prototype.nodeType=S,c(ue,B),ce.prototype.nodeType=_,c(ce,B),de.prototype.serializeToString=B.prototype.toString=he;try{if(Object.defineProperty){bject.defineProperty(P.prototype,"length",{get:),Object.defineProperty(B.prototype,"textContent",{get:set:),_e=}catch(be){}t.DocumentType=re,t.DOMException=A,t.DOMImplementation=U,t.Element=Z,t.Node=B,t.NodeList=O,t.XMLSerializer=de},31045:llip:™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES},3969:function(e,t,i){var n=i(41146);n.DOMImplementation,n.XMLSerializer,t.DOMParser=i(86129).DOMParser},76925:function(e,t,i){var n=i(72167).\u2C00-\u2FEF&&r[4][0]):/^system$/i.test(r[2][0])&&(u=r[3][0]));var c=r[a-1];return i.startDTD(o,l,u),i.enB++){var j=N[B];f(j.offseS.push(N))+1)}}(e,t,i,s,this.errorHandler),s.endDocument()}},y.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){retuis[e]. a funi(6061otype"able:!r(s(e);E>w;wrts={i(73926244),i);varts={le75:funiteraturn th),s=i("strin92597)r(var unctiounctio,t,i){itable(3070)try{o.nWritalue:tdefin&&voidHTMLFogthLiSheetL=i(803oid 0:s},7871:function(e,t,i){var n=i(83823),s=i(35268);e.exports=!n&&!s&&"object"==typeof window&no&&"oorts=/8113)!=types||l&&5);e.em?n:g?;l(h,d,s=Fun74:funfunctiototype,a=n&(r,"nct.getturn snts)}},a=i(918554:){var typeof globalThis&&globalThis)||n("urn th),s=i(y{1==a3),r=i=i(843hrow mion(e))).type.expturn d.call)05:funoLowerTIVE="bject"};if(kch(e){tch(e)):o(x[30),c=12),p===Obje"lengte&&(e..enter,S=funbol(),"none"tion(e"in icesso45656)nPropen(e,t)n=i(92c:nullar n=it[u++]n!!t&&in{}?fs)+"]"&&!r(ot to p!0;ifative urn!0}mise},n.all(.index)u[(c=9:fun){retu},9441")&&"s:functs=i(4able:"toStrvar n=23 Den0),a=i1))<56messag,o.addript"):v,cleurn i<unctio n=i(4tion(e(i)||rxports112)("throw =Strirn"Symham&&"ion()t,i){vt=e[m]ndex:0rgumenfunctis=i(53reduce4),l=iion(e,ion(e)e)){rfuncti){var TOR},{ n=i(8i){"us4),s=iy{o(e,=void of sel,pausey(s)),n=funcconds:veListction(:i[3]||"",params:i[4]||"",query:i[5]||"",fragment:i[scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=r},52732:function(e){e.exports=function(){"use strict";function e(){return e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},e.apply(this,arguments)}var t="undefined"!=typeof window,i=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,s=t&&"classList"in document.createElement("p"),r=t&&window.devicePixelRatio>1,a={elements_selector:".lazy",container:i||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",clas"ecallback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},o=function(t){return e({},a,t)},l=function(e,t){vaew CustomEvent(n,{detail:{instance:s}})}cc="srcset",d="sizes",h="poster",p=ading",g="loaded",y="applied",_="error",v="nae)dae){return T(e)===v},C=[m,g,y,_],x=funcn)):,A+"e.(t){var i=t._observer;i&&i.unobserve(e)}},L=function(e,t){e&&(e.loadingCount+=t)},D=fun,N i,dn(=fch,G=funced&&P(e,t),x(t.callback_applied,e,i))},z=function(e,t,i){Ib(e,t.d(e,t.data_src))},Y={IMG:function(e,t){R,((e,d()f,bngC,i)"loe){styn"-webkit-image-set(".concat(e,")")})),e.styunctionnction(e,t,i){var n=Y[e.tagName]),eion(e,,B)e=fner===document?null:e.contai,i){e.foerve(t)}t&&window.rfunction( t=le[e.tagName];t?t(e):function(e){ion(e,t){w(e)||k(e)||(A(e,t.class_entere,window.lazyLoadOptions),me}()},13407:function(e,t,i){.sr")}catch(e){t.align=n.get("align","middle")}try{t.position=n.get("position","auto")}catch(e){t.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positit",cr.prErrocode:1,mt){this.is.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var c=n.createElement&&n.createElement^>\\]+)?(\\?)>?$/);if(!_)continue;if(!(g=s(_[1],_[3])))continue;if(!n(u,g))continue;if(_[2]){var v=_[2].split(".");v.forEach((function(e){var t=/^bg_/.test(e),i=t?e.slice(3):e;if(h.hasOwnProperty(i)){var n=t?"background-color":"color",s=h[i];g.style[n]=s}})),g.className=v.join(" ")}m.push(_[1]),u.appendChild(g),u=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,1265sh(t.childNo%")})}o=["+y","-x","+x","-y"],s=newapsOppositeAxis(i,t[o])|move(t[o]);if(e.within(i))return e;var l=e.intersectPercentage(i);a>l&yle=function(e,t){ret(e,t){switch(t=void 0!==ft-=t,this.right-=toverlaps=function(e){return this.n!0;return!1},T.prototype.withint<e.left;case"-x":return this.min(this.right,e.right)Height:e.tagNameame?e.getBoundingClien||n,height:e.hurn!1}(t).appendChild(i.div),S(0,i,r,s),o.displapendChull,i.(i.cue),i.cue=null,i=!0}},set:function(e){if(!i(e))s=t=Obif(i.t=t="fumbol":4687:funcalThis.regeneratorRuntim}}},r={};function a(e){var t=r[e];if__es=e||[null,tmes(return i[e]}}));return r.default=function(){return i},a(Objec.u=function(e){return"js/"+e+"-o.ont(h.bin,i){var n,s,r=i[0],o=i[1],]=n,e}function n(e,t,i,n,s,r,a){try{var o=e[r](a),l=o.value}catch(e){return void i(e)}o.done?t(l):Promisunction(){var t=this,i=arguments;return new Promise((function(s,r){var a=e.apply(t,i);function o(e){n(a,s,r,o,l,"next",e)}function l(e){n(a,s,r,o,l,"throw",e)}o(void 0)}))}}a(92222);var r=a(64687),o=a.n(r),l=(a(41539),a(88674),a(74916),a(21249),a(85827),a(19601),a(52732)),u=a.n(l);function c(){return d.apply(this,arguments)}function d(){return(d=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){Promise.all([a.e(6809),a.e(7020)]).then(a.t.bind(a,86809,23)).then((function(t){e(t.default)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(66992),a(78783),a(33948);var h={config:null,get:function(e){if(!this.config){var t={};$(".content-meta").each((function(){var e=$(this).text();try{e=JSON.parse(e),t=Object.assign({},t,e)}catch(e){console.warn(e)}})),this.config=t}return e?this.config[e]:this.config}},p=function(){function e(){var t=this;i(this,"config",null),i(this,"socketChannels",{chat:null,gomise(function(){var i=s(o().mark((function i(n,s){vtch(i.prev=i.next){case 0:if(!t.chat){i.next=2;break}return i.abrupt("return",tConfig("CHAT_HOST"),{path:"/socket.io"})).on("connect",(function(){t.chat=a,n(t.chat)}));case 7:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(thisazyLoadInstance=new(u())({callback_error:function(e){var t=e.getAttribute("data-fallback-src");e.src=t}}),/^\/chat/gi.test(location.pathname)&&localStorage.removeItem("chatUMC")}e.getConfig=function(e){return void 0===e&&(e=null),h.get(e)};var t=e.prototype;return t.getConfig=function(e){return void 0===e&&(e=null),h.get(e)},e.importSelect2=function(){return new Promise((function(t,i){var n=e.getConfig("STATIC_HOST")+"vendor/select2/css/select2.min.css";$("head link[rel='stylesheet']").last().after("<link rel='stylesheet' href='"+n+"' type='text/css'>"),$.gIC_HOST")/js/select2.min.js",(function(){t()}))}))},e.importHighMaps=function(){return new Promise((function(t,i){$.when($.getScript(e.getConfig("STATIC_HOST")+"vendor/proj4js/dist/proj4.js"),$.getScript(e.getConfig("STATIC_HOST")+"vendor/highmaps-9.1.0/code/highmaps.js"),$.Deferred((function(e){$(e.resolve)}))).done((function(){t()}))}))},t.initChatNotificationsListener=function(){var t=s(o().mark((function t(){var i,n,s,r,a,l,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=9e4,n="chatUMC",s=(s=localStorage.getItem(n))?JSON.parse(s):{},r=e.getConfig("AUTH_USER_ID")){t.next=7;break}return t.abrupt("return",console.log("User not authenticated"));case 7:if(!s[r]){t.next=11;break}if(a=s[r],!(Date.now()-a.dateUpdated<=i)){t.next=11;break}return t.abrupt("return",document.dispatchEvent(new CustomEvent("chat-history-update",{detail:{unreadMsgCount:a.unreadMsgCount}})));case 11:return t.next=13,$.get(e.getConfig("ROUTES_AJAX_URL"),{userId:r,method:"get-profile-ids"});case 13:if((l=t.sent)&&(l=JSON.parse(l)),l.profiles){t.next=17;break}return t.abrupt("return",console.warn("This user does not rofiles.map((function(e){return e.id})),t.next=20,this.socketChannels.getChat();case 20:t.sent.emit("unread-messages-request-detached",{profileIds:u},(function(e){var t;if(!e.participations)return console.warn("No participations for authenticated user!");var i=e.particireadMsgCount}),0);document.dispatchEvent(new CustomEvent("chat-history-update",{detail:{unreadMsgCount:i}})),localStorage.setItem(n,JSON.stringify(Obje=a(27537),b=a.n(v),T=a(75974),S=a.n(T),E=a(9603),w=a.n(E),k=a(13407),C=a.n(k),x=a(49945),I=a.n(x);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},A.apply(this,arguments)}var O=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=fu("binary")),n=new Uint8Array(i.=e0)),i},R=function(((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let n,s=i.length;for(;s--;)""!==i[s]&&(n=/(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),t[n[0]]=n[1]);return t};class M extends O{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,i;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce(((t,i)=>{const n=i(e);return n===e?t:t.concat([n])}),[e]).forEach((e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e),t)return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e),t)return i=A(N(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e),t)return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:(.*)$/.exec(e),t){if(i={type:"tag",tagType:"map"},t[1]){const e=R(t[1]);e.URI&&(i.uri=e.URI),e.BYTERANGE&&(i.byterange=N(e.BYTERANGE))}this.trigger("data",i)}else if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e),t){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=R(t[1]),i.attributes.RESOLUTION){const e=i.attributes.RESOLUTION.split("x"),t={};e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),i.attributes.RESOLUTION=t}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i)}else{if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e),t)return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=R(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e),t)return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:(.*)$/.exec(e),t)return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=R(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-START:(.*)$/.exec(e),t)return i={type:"tag",tagType:"start"},t[1]&&(i.attributes=R(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-SKIP:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"skip"},i.attributes=R(t[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(D)),void this.trigger("data",i);if(t=/^#EXT-X-PART:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"part"},i.attributes=R(t[1]),["DURATION"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))})),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=N(i.attributes.BYTERANGE)),void this.trigger("data",i);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"server-control"},i.attributes=R(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))})),void this.trigger("data",i);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"part-inf"},i.ati.attributes=R(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(i.attributes.hasOwnProperty(e)){i.attributes[e]=parseInt(i.attributes[e],10);const t="BYTERANGE-LENGTH"=ge[t]=i.attributes[e],delete i.attributes[e]}})),void this.trigger("data",i);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"rendition-report"},i.attributes=R(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.DATERANGE:(.*)$/.exec(e),t&&t[1]){i={type:"utes.hasOwnProperty(e)&&(i.ttributes.hasOwnProperty(e)&&(i.attributes[e]=new DasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["END-ON-NEXT"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/i.test(i.attributes[e]))})),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=i.attributes[e].toString(16))}));const e=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in i.attributes){if(!e.test(t))continue;const n=/[0-9A-Fa-f]{6}/g.test(i.attributes[t]),s=/^\d+(\.\d+)?$/.test(i.attributes[t]);i.attributes[t]=n?i.attributes[t].toString(16):s?parseFloat(i.att"data",ecng HOLD-BACK (${t[r]}) to targetDuration * 3 (${o})`}),t[r]=o),n&&!t.hasOwnProperty(a)&&(t[a]=3*n,this.trigger("info",{message:`${s} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[a]}).`})),n&&t[a]<l&&(this.trigger("warn",{message:`${s} clamping PART-HOLD-BACK (${t[a]}) to partTargetDuration * 2 (${l}).`}),t[a]=l)};class j extends O{con{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let l=0;this.gments:[]};le l||(s.ti,"allow-cache"(){this.manifest.allowCactinage:"defaulting }else this.trigger("warne"(){isFinite(hte(warn",{messaap(){ANGUAGE&&(f.lttributes["INSTREAMtes.NAME]=f},dmeStrh.duration}):(this.manifest.targetDuration=h.duration,B.call(this,this.manittribute.length-1;this.wd=!1,this.trignOnMissingAttribut`})}},"renMissingAt"warn",{message:"A plain atleast one EXT-X-PROGRAMsegments"(){this.mssage:"defaulting seg.customType]=h.data):(this.manitom[h.customType]=h.data)}})[h.type].call(e)}))}warnOnMissingAttributes_(e,t,i){const n=[];i.forEach((function(e){t.hasOwnProperty(e)||n.push(e)})),n.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${n.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var F,H,q={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|ape(ear&Xn +';codecs="'+e+'"'}},Y=function(e){return void 0===e&&(e=""),g().MediaSource&&g().MediaSource.isTypeSuppor(",,J=n(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},ne=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||ie(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&en(e,ngt8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},le=function(e,t,i){var n=void 0===i?{}:i,s=n.offset,r=void 0===s?0:s,a=n.mask,o=void 0===a?[]:a;e=ne(e);var l=(t=ne(t)).every?t.every:Array.prototype.every;return t.length&&e.length-r>=t.length&&l.call(t,(function(t,i){return t===(o[i]?o[i]&e[r+i]:e[r+i])}))},ue=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=g().location&&g().location.href||"");var i="function"==typeof g().URL,n=/^\/\//.t/\/:n?.hrvartypeof t|Intber(r)),a<&&(t=Nuconsn:r}=e,{start:a,end:o}=_e[t](e),l=((e,t)=>{const i=[];for(let n=e;n<t;n++)i.push(n);return i})(a,o).map((e=>t=>{const{duration:i,timescale:n=1,periodStart:s,startNumber:r=1}=e;return{number:r+t,duration:i/n,timeline:s,time:t*i}})(e));if("static"===t){const e=l.length-1,t="number"==typeof s?s:r;l[e].duration=t-i/n*e}return l},be=e=>{const{baseUrl:t,initialization:i={},sourceDuration:n,indexRange:s="",periodStart:r,presentationTime:a,number:osubsegmentDuration;let y;y="tion:u,sourceDuration:s,indexRange:`$(_),p+="bigiimeline:r tn(r)}})),t},ke=({plents[0]&&(t.segments[0].discontinuity=!0),e[i].segments.push(...t.segments)),t.attributes.controtection=t.attim{})dwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targetDramn&&mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,Le=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,De=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,Ne=e=>e?Object.keys(e).reduce(((t,i)=>{const n=e[i];return t.concat(n.playlists)}),[]):[],Re=({dashPlaylists:e,locations:t,sidxMapping:i={},previousManifest:n,eventStream:s})=>{if(!e.length)return{};const{sourceDuration:r,type:a,suggestedPresentationDelay:o,minimumUpdatePeriod:l}=e[0].attributes,u=xe(e.filter(Pe)).map(Oe),c=xe(e.filter(Le)),d=xe(e.filter(De)),h=e.map((e=>e.attributes.captionServices)).filter(Boolean),p={allowCache:!0,discontinuityStarts:[],segments:[],endLisSequence:s,discontinuityStarts:r,timelineStarts:e.timelineStarts,mediaSequencE:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1}ECS=e.codecs),{attributes:r,uri:"",endList:"static"===e.type,timeline:e.pets:t}})(i),t)),e}),{}))(d,i):null,y=u.concat(Ne(m),Ne(g)),_=y.map((({timelineStarts:e})=>e));var v,b;return p.timelineStarts=Ee(s["CLOSEDline>n.segments[n.segments.length-1].t{pl=0;d<t.length;d++){const h=t[d],p=h.d,f=)u.ation,time:0,timeline:e.periodStart}])(e,t);return r.map((t=>{i.Number=t.number,i.Time=t.time;const n=je(e.media||"",i),r=e.timescale||1,Time:o}}))},$e=(e,t)=>{const{duration:i,segmentUrl,range:n.range}),r=gee(e=n(i,t.segmentTimeline);if(i.d:e})=>e===t)),Ve=e=>e.textContent.trim(),We=e=>{const t=/P(?:(\d*)Y)onst[i,n,s,r,a,o]=t.slice(1);return 31536e3*parseFloat(i||0)+2592e3*parseFloat(n||0)+at(s||0)+3600*parseFloat(r||0)+60*parseFloa(o||0)},Ge={mediaPresentationDuration(e){return We(e)},availabilityStartTid+:\d+:\d+(\.\d+)?$/imumUpdatePeriod(e){return We(e)},suggestedPresentationDelay(e){return We(e)},type(e){return e},timeShiftBufferDepth(e){return We(e)},st,height(e){return parseInt(e,10)},bandwidth(e){return parseInt(e,10)},frameRate(e){return(e=>parseFloat(e.split("/").reduce(((e,t)=>e/t))))(e)},startNumn(e){const t=parseInt(e,10);return isNaN(t)?We(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},presentationTime(e){return parseInt(e,10)},DEFAULT(e){return e}},ze=e=>e&&e.attributes?me(e.attributes).reduce(((e,t)=>{const i=Ge[t.name]||Ge.DEFAULT"orze(i.schemeIdUri;return qe(t,"Event").map((t=>{const s=ze(t),r=s.presentationTime||0,a=i.timescale||1,o=s.duration||0,l=r/a+e.attributes.start;return{schemeIdUri:n,value:i.value,id:s.id,start:l,end:l+o/a,messageData:Ve(t)||s.messageData,contentEncodin),r=Ke(t,qe(n,"BaseURL")),a=qe(n,"Role")[0],o={role:ze(a)};let l=he(e,s,o);const u=qe(n,"Accessibility")ader:0,"3D":0};if(/=/.test(e)){const[i,n=""]=e.split("=");t.channel=i,t.language=e,n.split(",").forEach((e=>{const[i,n]=e.split(":");"lang"===i?t.language=n:"er"===i?t.easyReader=Number(n):"war"===i?t.aspectRatio=Number(n):"3D"===i&&(t["3D"]=Number(n))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;var d;c&&(l=he(l,{captionServices:c}));const h=qe(n,"Label")[0];if(h&&h.childNodes.length){const e=h.childNodes[0].nodeValue.trim();l=he(l,{label:e})}const p=qe(n,"ContentProtection").reduce(((e,t)=>{const i=ze(t);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const n=Xe[i.schemeIdUri];if(n){e[n]={attributes:i};const s=qe(t,"cenc:pssh")[0];if(s){const t=Ve(<i.length;s++)map((e=>({segmentInfo:he(i,o),attributes:he(a,{baseUrl:e})})))})(l,r,y)))},Ze=(e,t)=>(i,n)=>{const s=Ke(t,qe(i.node,"BaseURL")),r=he(e,{periodStart:i.attributes.start});"number"==typeof i.attributes.duration&&(r.periodDuration=i.attributes.duration);const a=qe(i.node,"AdaptationSet"),o=Ye(i.node);return fe(a.map(Je(r,s,o)))},et=e=>{if(""===e)throw new Error(h>0)throw new Error("DASH_INVALID_XML");return n};v,rt=,112,117,115,72,1ze];t.url=funcreturn 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=ze))||[],at(e)})):[at(e)]}(i),t=ne(t);var s=[];if(!i.length)return s;for(var r=0;r<t.length;){var a=(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0,o=t.subarray(r+4,r+8);if(0===a)break;var l=r+a;if(l>t.length){if(n)break;l=t.length}var u=t.subarray(r+8,l);le(o,i[0])&&(1===i.length?s.push(u):s.push.apply(s,e(u,i.slice(1),n))),r=l}return s},ut={EBML:ne([26,69,223,163]),DocType:ne([66,130]),Segment:ne([24,83,128,103]),SegmentInfo:ne([21,73,169,102]),Tracks:ne([22,84,174,107]),Track:ne([174]),TrackNumber:ne([215]),DefaultDuration:ne([35,227,131]),TrackEntry:ne([ne(("brra n;for(var s=0;s<t.length;){var r=dt(t,s,!1),a=dt((1)(n=1/0),e=ne(e),i=[].concat(i);for(var s,r=0,a=0;r<e.length&&(a<n||s);){var o=void 0;if(le(e.subarray(r),mt)?o=4:le(e.subarray(r),gt)&&(o=3),o){if(a++,s)return _t(e.subarray(s,r));var l=void 0;"h264"===t?l=31&e[r+o]:"h265"===t&&(l=e[r+o]>>1&63),-1!==i.indexOf(l)&&(s=r+o),r+=o+("h264"===t?1:2)}else r++}return e.subarray(0,0)},bt={webm:ne([119,101,98,109]),matroska:ne([109,97,116,114,111,115,107,97]),flac:ne([102,76,97,67]),ogg:ne([79,103,103,83]),ac3:ne([11,119]":ne([102,116,121,112,51,103]),mp4:ne([102,116,121,112]),fmp4:ne([115,116,121,1[109},wee])[0](e,[ut.EBML,ut.DocType])[0];return le(t,bt.matroska)},mp4:functt:4}))},"3gp"],{offset:4})},ac3:function(e){var t=rt(e);return le(e,bt.ac3,{urn 7])ret:t})},ogg:function(e){return&le(e,bt.avi,{offset:8})},wav:function(e){re){return functn vt(e,"h265",[32,33],3)}(e).length}},5"!(ne(e))}}));var Et=Tt,wt=function(e){e=ne(e);for(var t=0;t<St.length;t++){var i=St[t];if(Et[i](e))return i}return""},kt=a(51489),Ct="8.3.0";const xt={},It=function(e,t){return xt[e]=xt[e]||[],t&&(xt[e]=xt[e].concat(t)),xt[e]},At=function(e,t){const i=It(e).indexOf(t);return!(i<=-1||(xt[e]=xt[e].slice(),xt[e].splice(i,1),0))},Ot={prefixed:!0},Pt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitent","msFus[n],a=new RegExp(`^(g"!==i&&s.unshift(i.toUpperCase()+":"),s.unshift(e+":"),Nt){Nt.push([].concat(s));const e=Nt.length-1e3;Nt.splice(0,e>0?e:0)}if(!g().console)returall"](g().ceLogger=debug:"debug|logarn|error",warn:"wevel=e=>{if("strils.hasOwnProperty(e))throw new Error(`"${e}" in not a valid log levestory=()=>Nt?[].concat(Nt):[]).filter=e=>(Nt||[]).filter((t=>new nst t={};return e.forEach((e=>{e&&jt(e,((e,i)=>{Ht(e)?(Ht(t[i])||(t[i]={}),t[i]=qt(t[i],e)):t[i]=e}))})),t}function Vt(e,t,i,n=!0){const s=i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),r={configurable:!0,enumerable:!0,get(){const e=i();return s(e),e}};return n&&(r.set=s),Object.defineProperty(e,t,r)}var Wt=Object.freeze({__proto__:null,each:jt,reduce:Ft,isObject:$t,isPlain:Ht,merge:qt,defineLazyProperty:Vt});let Gt,zt=!1,Xt=null,Kt=!1,Yt=!1,Qt=!1,Jt=!1,Zt=!1,ei=null,ti=null,ii=null,ni=!1,si=!1,ri=!1,ai=!1;const oi=Boolean(pi()&&("ontouchstart"in uchPoints||g().DocumentTouch&&g().document instanceof g().DocumentTouch)),li=g().navigator&&g().navigator.userAgentData;if(li&&t Edge"===e.brand))),Jt=Booigator.userAgent||"";zt=/iPod/i.test(e),Xt=function(){const t=e.match(/OS (\d+)_/i);return t&&t[1])?(?:,Yt=/Firefox/i.test(e),Qt=/Edg/i.test(e),Jt=/Chrome/i.test(e)||/CriOS/i.test(e),Zt=!Qt&&Jt,ei=ti=function(){const t=e.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),ii=function(){const t=/MSIE\s(\d+)\.\d/.exec(e);let i=t&&parseFloat(t[1]);return!i&&/Trident\/7.0/i.test(e)&&/rv:11.0/.test(e)&&(i=11),i}(),ni=/Safari/i.test(e)&&!Zt&&!Kt&&!Qt,si=/Windows/i.test(e),ri=/iPad/i.test(e)||ni&&oi&&!/iPhone/i.test(e),ai=/iPhone/i.test(e)&&!ri}const ui=ai||ri||zt,ci=(ni||ui)&&!Zt;var di=Object.freeze({__proto__:null,get IS_IPOD(){return zt},get IOS_VERSION(){return Xt},get IS_ANDROID(){return Kt},get ANDROID_VERSION(){return Gt},get IS_FIREFOX(){return Yt},g){return ei},get CHROME_VERSION(){return toesn't exist"),null)}function Ei(e,t,i){return"function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=void 0),t.split(/\s+/).forEach((t=>e.classList.toggle(t,i))),e}function wi(e,t){Object.getOwnPropertyNames(t).forEach((function(i){const n=t[i];null==n||!1===n?e.removeAttribute(i):e.setAtreateTextNode(e):void 0))).filter((e=>e))e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}const Fi=gi("querySelector"),$i=gi("querySelectorAll");function Hi(e,t){if(!e||!t)return"";if("function"==typeof g().getComputedStyle){let i;try{i=g().getComputedStyle(e)}catch(e){return""}return i?i.getPropertyValue(t)||i[t]:""}return""}var qi=Object.freeze({__proto__:null,isReal:pi,isEl:fi,isInFrame:mi,createEl:yi,textContent:_i,prependTo:vi,hasClass:bi,addClass:Ti,removeClass:Si,toggleClass:Ei,setAttributes:wi,getAttributes:ki,getAttribute:Ci,setAttribute:xi,removeAttribute:Ii,blockTextSelection:Ai,unblockTextSelection:Oi,getBoundingClientRect:Pi,findPosition:Li,getPointerPosition:Di,isTextNode:Ni,emptyEl:Ri,normalizeContent:Mi,appendContent:Ui,insertContent:Bi,isSingleLeftClick:ji,$:Fi,$$:$i,computedStyle:Hi});let Vi,Wi=!1;const Gi=function(){if(!1===Vi.options.autoSetup)return;const e=Array.prototype.slice.call(_().getElementsByTagName("videoyTagName("video-js")),n=e.concat(t,i);if(n&&n.length>0)for(let e=0,t=n.length;e<er&n zi(e,t){pi()&&(t&&(Vi=t),g().e.pageyCode,null!==e.button&&void 0&&t.target[t.type](),e.disabled=!1)}return!t.defaultPrevented}function cn(e,t,i){if(Array.isArray(td||e,t.performance.now();return function(...n){const s=g().performance.now();s-i>=t&&(e(...n),i=s)}},gn=function,this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),un(this,e)}queueTrigger(e){_n||(_n=new Map);const t=e.type||e;let i=_n.get(this);i||(i=new Map,_n.set(this,i));const n=i.get(t);rot=vnst ruc e[(e)"fu{bn(t):s,type:r,listener:a}},xn=(e,t,i,n)=>{En(e,e,t),e.nodeName?hn[t](e,i,n):e[t](i,n)},In={on(...e){const{isTargetingSelf:t,target:i,type:n,listener:s}=Cn(this,e,"on");if(xn(i,"on",n,s),!t){cons:n,,s);elssement.`);e.eventBusEl_=e[ir(e,((e,i)=>{this.state[i]!==e&&(t=t||{},t[i]={from:this.state[i],to:e}),this.state[i]=e})),t&&Tn(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Pn(ate=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&Tn(e)&&e.on("statechangector.defaultState),this.chilis.childIndpose();this.children_=null,(this.el_.parentNoden yi(e,t,i)}localize(e,t,i=e){const n=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),r=s&&s[n],ns_).filter((functi)return this.isReady_?void(t?e.call(thadyQueue_.push(e))}triggerReady;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)}$(e,t){return Fi(e,t||this.contentEl())}$$(e,t){return $i(e,t||this.contentEl())}hasClass(e){return bi(this.el_,e)}addClass(...e){Ti(this.el_,...e)}removeClass(...e){Si(this.el_,...e)}toggleClass(e,t){Ei(this.el_,e,t)}nsion(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Hi(this.el_,e),t=parseFloat(tentDimension("width"),height:this.curreterval(e,250)}));const i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchethis.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()}),t),this.setTimeoutIds_.add(i),i}clearTimeout is empty")},end(){throw new Error("Tvoid 0===t{e=e<0?0:e;let i=Math.floor(e%60),n=Math.floor(e/60%60),s=Math.floor(e/3600);const r=Math.floor(t/60%60),a=Math.floor(t/3600)or(let r=0;r<e.length;r++)i=e.start(r),n=e.end(r),n>t&&(n=t),s+=n-i;return s/t}function zn(e){if(e instanceof zn)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:$t(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=zn.defaultMessages[this.code]||"")}zn.prototype.code=0,zn.prototype.message="",zn.prototype.status=null,zn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],zn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media useor netwhen}function Kn(e){Xn(e)&&e.MLSelectElement||e instanceof g().HTMLTextAreaElement||e instanceof g().HTMLButtonElement)labelchange",e.labelchange_)}removeTrack(e){let t;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){t=this[i],t.off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let i=0,n=this.length;i<n;i++){const n=this[i];if(n.id=t t=this.length||0;let i=0;const n=e.length;this.cues_=e,this.length_=e.length;const s=function(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})};if(t<n)for(i=t;i<n;i++)s.call(this,i)}getCueById(e){let t=null;for(let i=0,n=this.length;i<n;i++){const n=this[i];if(n.id===e){t=n;break}}return t}}const ss={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},rs={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},as={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},os={howing"};clathn)n[tioent("a");t.href=e,e=t.href}return e},ds=function(e){if("string"==typeof e){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\sin.tech_.crossOrigin();s&&(i.withCredentials=s),w()(i,fn(this,(function(e,i,n){if(e)return Rt.error(e,i);t.loaded_=!0,"function"!=typeof g().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(e=>{if("vttjserror"!==e.type)return fs(n,t);Rt.error(`vttjs failed to load, stopping trying to process ${t.src}`)})):fs(n,t)})))};class gs extends ls{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=qt(e,{kind:as[e.kind]||"subtitles",language:e.langu,(function(e={}){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requeis.stopTra.startTracking(),Object.urn r;const e=this.tech_.currentTime(),t=[];for(let i=0,n=this.cues.length;i<n;i++){const n=this.cues[i];n.startTime<=e&&n.endTime>=e&&t.push(n)}if(a=!1,t.length.kind)&&ms(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandlelCue_=e}const i=this.tech_.textTracks();for(let e=0;e<i.length;e++)i[e]!==this&&i[e].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){const i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}gs.prototype.allowedEvents_={cuechange:"cuechange"};class ys extends ls{constructor(e={}){const t=qt(e,{kind:rs[e.kind]||""});super(t);let i=!1;Objepeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class _s extends ls{constructor(e={}){const t=qt(e,{kind:ss[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),t.selectector(e={}){let t;super();const i=new gs(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,&&(e.enabledChange_=()=>{this.changing_||(this.changlectedChange_=()=>{this.changing_||(this.changing_=!0,ts(this,e),this.changing_=!1,this.trigger("change"))},e.addEveTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},TrackClass:_s,capitalNameElement_(e){for(let t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&tsetInterval(fn(this,(function(){const e=this.bufferedPercpose()}clearTracks(e){(e=[].concat(emoveTrack(n)}}))}cleanupAutoTextTra&&this.ready((()=>this.autoRemoteTextTracteTextTrack(e){const t=this.rst t=en();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",(()=>{this.queuedHanders_.has(t)&&(,Es.techs_[Ln(eojs[e]?(Rt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),g().videojs[e]):void 0)}}Ss.names.forEach((function(e){const t=Ss[e];Es.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Es.prototype.featuresVolumeControl=!0,Es.protis.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){thregisterTech("Tech",Es),Es.defaultTechOrder_=[];const ws={},ks={},Cs={};function xs(e,t,i){e.setTimeout((()=>Ds(t,ws[t.type],i,e)),1)}function Is(e,t,i,n=null){cons;e++){const[s,r]=i[e];s===t&&(n=r)}return null===n&&(n=t(e),i.push([t,n])),n}(n,a);if(!t.setSource)return s.push(t),Ds(e,o,i,n,s,r);t.setSource(Object.assign({},e),(function(a,l){if(a)return Ds(e,o,i,n,s,r);s.push(t),Ds(l,e.type===l.type?o:ws[l.type],i,n,s,r)}))}else o.length?Ds(e,o,i,n,s,r):r?i(e,s):Ds(e,ws["*"],i,n,s,!0)}const Ns={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"videomp3|""},Ms=function(e){if(Array.isArreis.handleKeyDown_)}handleLanguagechange(){thipicture",{className:"vjs-poster",tabIndex:-1},{},yi("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Kn(this.player_.play()):this.player_.pause())}}js.prototype.crossorigin=js.prototype.crossOrigin,Mn.registerComponent("PosterImage",js);const Fs="#222",$s="#ccc",Hs={monospace:"monospace",sansSerif:"sans-serif",se[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),1n),VTT.processCues(g(),t,this.el_);foclassName:"vjs-controed; use a ClickableComponent ih(!0)&&this.player_.tech(!0).focus());const i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");ifrs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")}handupdateTextnode_: Prevented replacement of text node element since it was no longer a child of this nodxt_="Time",Xs.prototype.controlText_="Time",Mn.registerComponent("TimeDisplay",Xs);class Ks extends Xs{buildCSSClass(){returnme",Mn.registerComponent("CurrentTimeDisplay",Ks);class Ys extends Xs{constructor(e,t){super(e,t);const i=e=>this.updateContent(e);this.on(e,"duratio_==this.options_.displayNegative&&e.insertBefore(yi("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if("number"!=typeof this.player_.duration())r.Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.playt")||b().isEventKey(e,"Up")?(e.preventDefard()):super.handleKeyDown(e)}handleClicpercent_=r);for(let e=0;e<t.length;ethis.update=mn(fn(this,this.update),pn)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hiddeomponent("PlayProgressBar",nr);class sr extends Mn{constructor(e,t){super(e,t),this.update=mn(fn(this,this.updat n=this.calculateDistance(e),s=this.player_.liveTracker;if(s&&s.is){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),acker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableInterthis.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),td","loadedmetadata"],(e=>this.handlePictureInPictureEnabledChange(e))),this.on(tureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in g()?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?this.controlText("ExieenEnabled]&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenCcreen():this.player_.requestFullscreen()}}l.ass ur extends Mn{constructor(e,t){super(e,t),this.update=mn(fn(this,this.update),pn)}createEl(){return sud()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const e=this.playleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemovmuted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<()}handleVolumeControlKeyUp(e){b().isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),on(_(),"keypr.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),i=this.plays.focusedChild_&&(e=this.focusedChild_+1),this.focus.player_,{minline":e+="-popup",`vjs-menu-button ${e} ${Wson ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButs.buttonPressed_&&this.unpressButton(),b().isEventKebled_&&(this.buttonPressed_=!1,thi,!i)return;const n=fn(this,this.update);i.addEventListener("removetrack",n),i.addEventLiKeyDown(e)}handleClick(e){this.selelectedLanguageChange(e){if("showing"===this.et e=0,n=t.length;e<n;e++){const n=t[e];if(["caonst n=this.player_.textTracks();Array.isAn.registerComponent("TextTrackButton",Sr);class track_.label:this.localize(Dn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),suphis.player().textTracks();let i=!1;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n.kind!==this.kind_&&"showing"===n.mokr.prototype.kind_="descriptions",kr.prototype.controlText_="Descriptions",Mn.registerComponent("DescriptionsBuuItem",super(e,t),this.addClass("vjs-texttrack-sets()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){constxtends br{createEl(e,t,i){const n=super.creuildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return this.playernt:" "+this.localize("Descriptions")}))),n}hareturn`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs i=t.rate,n=parseFloat(i,10);t.label=i,t.selected=n===e.playbackRate(),t.selectableis.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.plal_.textContent=this.player().playbackRate()+"x")}}Nr.prototype.controlText_=cMn.registerComponent("CustomControlSpacer",class extends Rr{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}});class Mr extends Mn{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}Mr.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remaininotype.options_.children.length-1,0,"pictureInPictureToggle"),Mn.registerComponent("ControlBar",Mr);class Ur extends Jn{constructor(e,t){super(e,t),this.on(e,"error",(e=>this.open(e)))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}Ur.prototype.options_=Object.assign({},Jn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Mn.registerComponent("ErrorDisplay",Ur);const Br="vjs-text-track-settings",jr=["#000","Black"],Fr=["#00F","Blue"],$r=["#0FF","Cyan"],Hr=["#0F0","Green"],qr=["#F0F","Magenta"],Vr=["#F00","Red"],Wr=["#FFF","White"],Gr=["#FF0","Yellow"],zr=["1","Opaque"],Xr=["0.5","Semi-Transparent"],Kr=["0","Transparent"],Yr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[jr,Wr,Vr,Hr,Fr,Gr,qr,$r]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[zr,Xr,Kr]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Wr,jr,Vr,Hr,Fr,Gr,qr,$r]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casipt"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacitreground-opacity-%s",label:"Opacity",options:[zr,Xr]},windowColor:{selector:".vjs-window-c)):g().localStorage.removeItem(Br)}catch(e){Rt.warn(e)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()}handleLanguagechange(){this.fill()}}),Mn.registerComponent("ResizeManager",class extends Mn{constructor(e,t){let i=t.ResizeObserver||g().ResizeObserver;null===t.ResizeObserver&&(i=!1),super(e,qt({createEl:!i,repver(this.debouncedHandler_),this.resiayer_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.lastSeekEnd_=e,this.pastSeekE=i[e];Ri(s)),super.dispose(),this.els=null}});const Zrrc"fineP).cr(e),s};["append","appendChild","inserML"null,Object.keys(i).fotext tracks from loading.rc/i.teaturesNative${e}Tracks`])return;const i=e.toLowerCase();th("loadedmetadata",i),e||this.trs.el_.currentTime=e}catch(e){Rt(e,"Video is not ready. (Video.js)")}}dure.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fy)return.el().webkitDroppperformance.nowturn;const e=_().rack");return t.kindpe(e)},sa.canPlayg().setTimeout((()=>{sa&&sturn sa.TEST_VID.muted=!e e=()=>{};Object.definePrope,"src",{get:e,set:e}),Object.defineProperty(_().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(_().ineProperty(_().createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},sa.supportsNativeTextTracks=function(){return ci||ui&&Zt},sa.supportsNativeVideoTracks=function(){return!(!sa.TEST_VID||!sa.TEST_VID.videoTracks)},sa.supportsNativeAudioTracks=function(){return!(!sa.TEST_VID||!sa.TEST_VID.audioTracks)},sa.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volu"featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function([e,t]){Vt(sa.prototype,e,(()=>sa[t]()),!0)})),sa.protoents=!0,sa.prototype.hild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&functit=e.querySelectorAll("source");let i=t.length;for(;i--;)e.removeChil"autoplay","controls","loop","playsinline"].forEach((function(e){sa.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){sa.prototype["set"+Dn(e)]=functionveAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","play,"networkState","readyState","videoototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackorEach((function(e){sa.prototype["set"+eSourceHandler={},sa.nativeSourceHanreturn sa.TEST_VID.canPlayType(e)}catch(e){return""}},sa.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return sa.nativeSourceHandler.canPlayType(e.type);if(e.src){const t=ds(e.src);return sa.nativeSourceHandler.canPlayType(`video/${t}`)}return""},sa.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},sa.nativeSourceHandler.dispose=function(){},sa.registerSourceHandler(sa.nativeSourceHandler),Es.registerTdedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],aa={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},oa=["tiny","xsmall","small","medium","large","xlarge","huge"],la={};oa.forEach((e=>{const t="x"===e.charAt(0)?`x-${e.substring(1)}`:e;la[e]=`vjs-layout-${t}`}));const ua={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class ca extends Mn{constructor(e,t,i){if(e.id=e.id||t.id||`vjs_video_${en()}`,(t=Object.assign(ca.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const i=e.closest("[lang]");i&&(t.language=i.getAttribute("lang"))}if(super(null,t,i),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.isFullscreen_=!1,this.log=Mt(this.id_),this.fsApi_=Ot,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techO Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&ki(e),this.language(this.options_.language),t.languages){const e={};Object.getOwnPropertyNames(t.languages).forEach((function(i){e[i.toLowerCase()]=t.languages[i]})),this.languages_=e}else this.languages_=ca.prototype.optiools,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach((e=>{if("function"!=typeof this[e])throw new Error(`plugin "${e}" does not exist`)})),this.scrubbing_=!1,this.el_=this.createEl(),An(this,{eventBusKeytFullscreen&&(on(_(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=qt(this.options_);t.plugins&&Object.keys(t.plugins).forEach((e=>{this[e](t.plugins[e])})),t.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(t.playbackRates),this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),oi&&this.addClass("vjs-touch-enabled"),ui||this.addClass("vjs-workinghover"),ca.players[this.id_]=this;const s=Ct.split(".")[0];this.AcAttribute("translate","no"),this.el_=e,!==this.height_?this.height_:e*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Yi(this.styleEl_,`\n      .${n} {\n        width: ${e}px;\n        height: ${t}px;\n      }\n\n      .${n}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*r}%;\n      }\n    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const i=Dn(e),n=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Es.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let s=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(s=!1);const r={source:t,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${n}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loonPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Ss.names.forEach((e=>{const t=Ss[e];r[t.getterName]=this[t.privateName]})),Object.assign(r,this.options_[i]),Object.assign(r,this.options_[n]),Object.assign(r,this.options_[e.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&ew Error(`No Tech named '${i}h()'`);var o,l;this.tech_=ne(e)))})),l.textTracks(),ra.forEach((e=>{this.on(this.tech_,e,(t=>this[`handleTech${Dn(e)}_`](t)))})),Object.keys(aa).forEach((e=>{this.on(this.tech_,e,(t=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${aa[e]}_`].bind(this),event:t}):this[`handleTech${aa[e]}_`](t)}))})),this.on(this.tech_,"loadstart",(e=>this.handleTechLoadStart_(e))),this.on(this.tech_,"sourceset",(e=>this.handleTechSourceset_(e))),this.on(this.tech_,"waiting",(e=>this.handleTechWaiting_(e))),this.on(this.tech_,"ended",(e=>this.handleTechEnded_(e))),this.on(this.tech_,"seeking",(e=>this.handleTe=>this.handleTechPlay_(e))),this.on(this.tech_,"pause",(e=>this.handleTechPause_(e))),this.on(this.tech_,"durationchange",(e=>this.handleTechDurationChange_(e))),this.on(this.tech_,"fullscreenchange",((e,t)=>this.handleTechFullscreenChange_(e,t))),this.on(this.tech_,"fullscreenerror",((e,t)=>this.handleTechFullscreenError_(e,t))),this.on(this.tech_,"enterpictureinpicture",(e=>this.handleTechEnterPictureInPleavepictureinpicture",(e=>this.handleTechLeavePictureInPicture_(e))),this.on(this.tech_,"error",(e=>this.handleTechError_(e))),this.on(this.tech_,"posterchange",(e=>this.handleTechPosterChange_(e))),this.on(this.tech_,"textdata",(e=>this.handleTechTextData_(e))),this.on(this.tech_,"ratechange",(e=>this.handleTechRateChange_(e))),this.on(this.tech_,"loadedmetadata"hGet_("controls")),thisteName]=this[t.getterName]()})),this.textTracksJson_=function(e){const t=e.$$("track"),i=Array.prototype.map.call(t,(e=>e.track));return Array.prototype.map.callueuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeall(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscrehis.tech_.one("webkitendfullscreen",(()=>{this.removeClass("vjsremoveClass("vjs-picture-ins.runPlayTerminatedQueue_()&&this.exitPictureInPicture();const t=this;return new Promise(((i,n)=>{function s(){t.off("fullscreenerror",a),t.off("fullscreenchange",r)}function r(){s(),i()}function a(e,t){s(),n(t)}t.one("fullscreenchange",r),t.one("fullscreenerror",a);const o=t.requestFullscreenHelper_(e);o&&(o.then(s,s),o.then(i,n))}))}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.optiFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise(((t,i)=>{function n(){e.off("fullsccreenchange",s)}function s(){n(),t()}function r(e,t){n(),i(t)}e.one("fullscreenchange",s),e.one("fullscreenerror",r);const a=e.eturn this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&g().documentPictureInPicture){const e=_().createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChiend(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),t.addEventListeoptions_;t&&t.hotkeys&&((e=>{const t=e.tagName.toLowerCase();return!!e.isContentEditable||("input"===t?-1===["button","checkbox","hidden","radexOf(e.type):-1!activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=(e=>b().isEventKey(e,"f")),muteKey:n=(e=>b().isEventKey(e,"m")),playPauseKey:s=(e=>b().isEventKey(e,"k")||b().isEventKey(e,"Space"))}=t;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const t=Mn.getComponent("FullscreenToggld. Skipped browser support check for that tech.`),!1))),i=function(e,t,i){let n;return e.some((e=>t.some((t=>{if(n=i(e,t),n)return!0})))),n};let n;const s=([e,t],i)=>{if(t.canPlaySource(i,this.options_[e.toLowerCase()]))return{source:i,tech:e}};var r;return n=this.options_.sourceOrder?i(e,t,(r=s,(e,t)=>r(t,e))):i(t,e,s),n||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=Ms(e);if(i.length){if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),xs(this,eware_=n,t||(this.cache_.turc_(i.slice(1)):(this.changingSrc_=!1,this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),voisetTetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRategger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),e,e){const e=[];return this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.pus)):Promise.resolve().then((()=>{this.disablePosterModeUI_()})))}addTextTrack(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)}addRemoteTextTrthis.breakpoints_)}responsive(e){re,this.debugEnes;Array.isArray(e)&&e.every((e=>"number"==typeof e))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Ss.names.forEach((function(e){const t=Ss[e];ca.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),ca.prototype.crossorigin=ca.prototype.crossOrigin,ca.players={};const da=g().navigator;ca.prototype.options_={techOrder:Es.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:da&&(da.languages&&da.tSupportedMess:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","stwoionotyt t;return e.forEach((e=>{const i=ga(e);i&&(t=t||{},t[e]=i)})),t}static getPluginVersiotion Ta(e,t,i,n){returnurn functeEl=(s.parentNode&&s.parentNode.hasyer")?s.pareisArray(i)?t=qt(t,i):Rt.error("please return an object in beforesetup hooks")}));const r=Mn.getComponent("Player");return n=new r(s,t,i),It("setup").forEach((e=>e(n))),n}if(Ea.hooks_=xt,Ea.hooks=It,Ea.hook=function(e,t){It(e,t)},Ea.hookOnce=function(e,t){It(e,[].concat(t).map((t=>{const i=(...n)=>(At(e,i),t(...n));return i})))},Ea.removeHook=At,!0!==g().VIDEOJS_NO_DYNAMIC_STYLE&&pi()){let e=Fi(".vjs-styles-defaults");if(!eles-defaults"y-mode) {\n      tions=ca.prototype.options_,Ea.getPlayers=()=>ca.players,Ea.getPlayer=e=>{crs=()=>Object.keys(ca.players).map((e=>ca.players[e])).filternt=Mn.getComponent,Ea.registerComponent=(e,t)=>{Es.isTech(t)&&Rt.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Mn.registerComponent.call(Mn,e,t)},Ea.getTech=Es.getTech,Ea.registerTech=Es.registerTech,Ea.use=function(e,t){ws[e]=ws[e]||[],ws[e].push(t)},Object.defineProperty(Ea,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ea.middleware,"TERMINATOR",{value:Cs,writeable:!1,enumerable:!0}),Ea.bro,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Vt),Ea.bind=Ta(9,"videojs.bind","native Functin("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ba.registerPlugin(e,t)),Ea.getPlugins=ba.getPlugins,Ea.getPlugin=ba.getPlugin,Ea.getPluginVersion=ba.getPluginVersion,Ea.addLanguage=function(e,t){return e=(""+e).toLowerCase(),Ea.options.languages=qt(Ea.options.languages,{[e]:t}),Ea.options.languages[e]},Ea.log=Rt,Ea.createLogger=Mt,Ea.time=Wn,Ea.createTimeRange=Ta(9,"videojs.createTimeRange","videojs.time.createTimeRanges",jn),Ea.createTimeRanges=Ta(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",jn),Ea.formatTime=Ta(9,"videojs.formatTime","videojs.time.formatTime",Vn),Ea.setFormatTime=Ta(9,"videojs.setFormatTime","videojs.time.setFormatTime",Hn),Ea.resetFormatTime=Ta(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",qn),Ea.parseUrl=Ta(9,"videojs.parseUrl","videojs.url.parseUrl",us),Ea.isCrossOrigin=Ta(9,"videojs.isCrossOrigin",Ea.AudioTrack=ys,Ea.VideoTrack=_s,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","js.dom.computedStyle",Hi),Ea.dom=qi,Ea.fn=yn,Ea.num=er,Ea.str=Rn,Ea.url=ps;class wa{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRect.s.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,i=this.leng};for(const e in ka.prototype.allowedEvents_)ka.prototype["on"+e]=null;var=tyst(i.test(e)||(e=I().buildAbsoluteURL(g().location&&g().location.href||"",e)),i){vaildAbsoluteURL(e,t)},Aon )}fnge+)ta(e{rei))letloas||tio(e&:!1resn 0&&((lei,nurnediret==e},io=(e,t)=>!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.i||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri)),no=function(e,t){const i=e&&e.mediaGroups&&e.mediaGroups.AUDIt n=!1;for(i){for(const s in i[e])if(n=t(i[e][s]),n)break;if(n)break}return!!nsts&&e.playlists.len.length;t++){const i=o[t];if(a-=i.duration,r){if(a>0)continue}else if(a-Da>=0)continue;return{partIndex:i.paationList:o,startIndex:l,endIndex:t})}}retuime:t}},isEnabled:Za,isDisabled:function(e){return e.disabled},isExcluded:Qa,isIncompatible:Ja,playlistEnd:Yaforent:soplaceholder-uri-${e}-${t}-${i}`,uo=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((i=>{if(e.mediaGroups[i])for(const n in e.mediaGroups[i])for(const s if(ribut>{let t=e.playlists.length;ft)=&&(gthrel.me.playlists[t.uri]=r,ull,r?(this.main=r,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateM},"CLOSED-CAPTengcon)}, e.contyp-"+nctfron(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Oo=function(e){retuo=e=>{conste<t.length/i;e++)n=t.slice(e*i,e*i+i).map(Co).join(""),s=t.slice(e*i,e*i+i).map(xo).join(""),r+=n+" "+s+"\n";return r};var Lo=Object.freeze({__proto__:null,createTransferableMessage:Io,initSegmentId:Ao,segmentKeyId:Oo,hexDump:Po,tagDump:({bytes:e})=>Po(e),textRanges:e=>{let t,i="";for(t=0;t<e.length;t++)i+=ko(e,t)+" ";return i}});const Do=({programTime:e,playlist:t,retryCount:i=2,seekTo:n,pauseAftsage:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!r.hasStartsmuxedPresentationStart-o.transmuxerPrependedSeconds:s.duration+.25*s.duration;var o;retingInfo.transmuxedPresentationStart:ro.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})})(e,t);if(!o)retew Date(e),n=new Date(t)}catch(e){}coetTime()-s)/1e3})(l.dateurn 0===i?a({message:`$.se0;fretge.offset===t.map.byrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,t,i){return!this.request||(this.request=null,e?(this.error="objecte||e instanceof Error?{status:t.statusRequest_=g().s(s);return"ts"===oegthis.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Aa(this.mainPlaylistLoader_.srcUrl,i),n?(this.handleMain_(),void this.syncClientServerClock_((()=>e(i,n)))):e(i,n)}))}syncClientServerClock_(e){const t=(i=this.mainPlaylistLoader_.mainXml_,(e=>{const t=qe(e,"UTCTiming")[0];if(!t)return null;const i=ze(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}retudenAD"===t.method?n.responseHeaders&&n.responseHeaders.date?Date.parse(n.responseHeaders.date):this.mainLoaded_:Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let t=(({mainXml:e,srcUrl:t,clientOffset:i,sidxMapping:n,previousManifest:s})=>{const r=((e,t={})=>{const i=((e,t={})=>{const{manifestUri:i="",((e,t)=>{const i=ze(e),n=u[t-1];i.start=(({attributes:e,priorPeriodAttributes:t,mpdType:i})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==i?null:0)({attributes:i,priorPeriodAttributes:n?n.attributes:null,mpdType:o.type}),u.push({node:e,attributes:i})})),{locations:o.locations,representationInfo:fe(u.map(Ze(o,l))),eventStream:fe(u.map(Qe))}})(et(e),t),n=i.representationInfo.map(He);return Re({dashPlaylists:n,locations:i.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eonst a=e.playlists[0].id,o=_o(s,e.playlists[0],Mo);o&&(s=o,r in s.mediaGroups[t][i]||(s.mediaGroups[t][i][r]=e),s.mediaGroups[t][i][r].playlists[0]=s.playlists[a],n=!1)}})),((e,t)=>{uo(e,((i,n,s,r)=>{r in t.mediaGroups[n][s]||delete e.mediaGroups[n][s][r]}))})(s,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:s})(e,t,this.mainPlaylistLoader_.sidader_.main.playlists,i=!this.media_||this.media_!==t[e];if(i?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const e=()=>{this.media().endList||(this.mediaUpdateTimeout=g().setTimeout((()=>{this.trigger("mediaupdatetimeout"),e()}),vo(this.media(),Boolean(i))))};e()}this.trigger("lACKteOendconst n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(t),n.call(this)},i}},Vo=fue[t]=e[t].slice()[n].apply(this,r)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t,(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){thisn(e){this.trigger("reset",e)};,0,00,{ve,],iow .dami(28e).c0,0,amdc6,d)>>de,n,tda=nh,l=0;l<a.length;l++)o=a[l],n[s+]=(1665280&o.duration)>>>8,n[s+5&o.eLength),t}},ie=functioni.pts,n.dts=i.dts):().nalCount=i.length,&(n.duration=s[s.len;return!e[0][0].key).size,l.push(s);return l},cLength,u=e.nalCount,c=new Uc},generateSampleTableForFrame:function(e,t){var i,n=[];return i=ie(e,t||0(e){var t,aaVi)i=e[t],o.setUint32(n,i.data.byteLength),n+=4,abyteLength;return are=[33,65,108,84,1,2],ae=function(e){f;return t},oe=9e4;J=function(e,t){return X(Q(e,t))},Z=function(e,t){return K(Y(e),t)},ee=function(e,t,i){return Y(i?e:e-t)};var le={ONE_SECOND_IN_TS:oe,secondsToVideoTs:X=function(e){return e*oe},secondsToAudioTs:K=function(e,t){return e*t},videoTsToSeconds:Y=function(e){return e/oe},audioTsToSeconds:Q=function(e,t){return e/t},audioTsToVideoTs:J,v,ae(259),[56]],11025:[re,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,255,192],ae(268),[55,175,128],ae(108),[112]],8e3:[re,ae(268),[3,121,16],ae(47),[7]]};t=e,z=Object.keys(t).redudts:l.dts-r,pts:l.ptDts:function(e,t,i){rtion(e){var t,i,n=[];for(t=0;t<e.length;t,i,n=0,s=new Uint8Array(function(en(e){delete e.mmaxSegmentPts=yloadType:-1,pe=n,i.payloadSize=s,"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var i,n,s,r,a=[];if(!(64&t[0]))return a;for(n=31&t[0],i=0;i<n;i++)r={type:3&t[2+(s=3*i)],pts:e},4&t[s+2]&&(r.ccData=t[s+3]<<8|t[s+4],a.push(r));ret.on("partialdone",this.trigger.bind(thNextEqualDts_=!0;else{if(e.dgnoreNextEqualDts_=!1));non(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEa,ge.prototype.flush=function(){ret8Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Actthis.setsChannel2Active(e)&&(this[(e.type<<1)+this.activeCea608Chan(e){return 4096==(30720&e.ccData)},ge.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},ge.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},ge.prototype.dispatchCea708Packet=function(e){this.ye=52,4140:338,4144:96,this.winAttr={},this={},this.visible=0,thisy=0,this.relativePosiotype.clearText=functs.length>=this.virtuareRowOverflow&&this.befnt;)thiunction(e){this.roe.length-1)}};var be=function(ntWindow=new ve(-1),this.windowfunctioall(this);var t,i=this,n=e.captionServices||{}this.current708Packet=nulprototype=new fe,Te.prototyptsVals.push(e.pts),this.curre:151===n?s=this.setWindowAttris,a):143===n?a=this..clearText():13===n?a.curction(e){return this.curMultiByte,u=this.current708Packe8Array(s))):(a=ye[r=c|d]||r,n=his.getPts(e)),p.pendingNevisible=(32&n)>>5,r.rowLock=(16&n(12&n)>>2,s.fillBlue=3&n,n=iirection=(12&n)>>2,s.just+)t.windows[n].visible&&!t.windows[n].isEmpty()&&i.push(t.windows[n].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},Te.prototype.pushCaption=function(e){""!==e.text&&(this.triggere,t){var i=this.current708P){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var s=0;s<8;s++)i&1<<s&&(t.windows[s].visible=0);return e},Te.prototype.toggleWindows=function(e,t){var i=this.current708Pacn(e,t){var i=this.current708Paor(var s=0;s<8;s++)i&1<<snColor=function(e,t){var i=tcity=(192&n)>>6,s.bedgeBlue=3&n,e},Te.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,n=i[e],s=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,n=i[++e],s.row=15&n,n=i[++e],s.column=63&n,e},Te.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)};var Se={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,81028,ow_=a),1&s&&-1===this.formatting_.indexOf("u")&&played=function(e){/^\n+|\n+$/g,"");t.length&his.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROG_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE.isSpecialCharacterxtCharacter=function(e,t2&&t<=63},Ce.prototype.isM=this.EXT_&&t>=32&&t<=4"rollUp"!==this.mode_&&(thi;i<this.rollUpRows_;i++)this.function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,i)},Ce.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse=function(e,t){var i=wsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.pe.||(void 0===i&&(i=e.dts),e.dts=Pe(e.dts,i),e.pts=Pe(e.pts,i),t=e.dts,this.triggetio},this.reset=function(){this.discontinuity(),this.trigger("rstampRolloverStream:Le,handleRollover:Pe},Re=(e,t,i)=>{if(!e)return-1;for(var n=i;n<e.length;n++)if(e[n]===t)return n;return-1},Me=function(e,t,i){var n,s="";for(n=t;n<i;n++)s+="%"+("00"+e[n].toString(16)).slice(-2);return s},Ue=function(e,t,i){return decodeURIComponent(Me(e,t,i))},Be=function(e,t,i){return unescape(Me(e,t,i))},je=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Fe={APIC:function(e){var t,i,n=1;3===e.data[0]&&((t=Re(e.data,0,n))<0||(e.mimeType=Be(e.data,n,t),n=t+1,e.pictureType=e.data[n],n++,(i=Re(e.data,0,n))<0||(e.description=Ue(e.data,n,i),n=i+1,"--\x3e"===e.mimeType?e.url=Be(e.data,n,e.data.length):e.pictureDta[0]&&(e.value=Ue(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;3===e.data[0]&&-1!==(t=Re(e.data,0,1))&th).replace(/\0.*$/,,n+=10,64&e[5]&&(i+=4,i+=je(e.subarray(10,14)),n-=je(e.suParsers["W*"](o),"com.apple.streaming.transportStreamTimestamp"===o.owner){var u=o.data,c=(1&u,r++):(this.trigger("dPmt.push([t,n,i]):this.processPes_(t,n,i)},this.process){var n={type:"metadata",tracks:[]};null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}i=!1,this.flushStreams_(),this.trigger("done")}},Ge.prototype=new Xe;var Ze={PAT_PID:0,MP2T_PACKET_LENGTH:Je,TransportPacketStream:Ve,TransportParseStre)>>>2,samplesize:16,data:t.subarray(u+7+r,u+())}igger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.reset=functicase 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[t.readUnsignedByte()<<8|t.readUnsignofiam:16e3,12e3,11025,8e3,i+20:i+10},mt=function(e,t){retur[t+2]!=="3&&255==(255&e[t]<<3;return 6144&e[0===n[s]){vength-l<10)break;if(l+(o=_t.parseId3TagSize(e,l))>e.length)break;s={type:"timed-metadata",data:e.subarray(l,l+o)},this.trigger("data",s),l+=o}n=e.length-l,e=n>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimwt=hanrofh;ndiaDecodeTime,e.samplerl=o?i:r))return e;var u{return e.text?this.pendingCaptions.pus.pendingCaptions.lengtding_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&tOfPew Et;var $t,HtharCode(e[3])},Xt=Gt,Kt====4))=n.],c=131072&n.flags[0];return t=8,s&&(t+=4,n.baseDataOffset=i.getUint32(12),t+=4),r&&(n.sampleDescriptionIndex=i.getUint32(t),t+=4),a&&(n.defaultSampleDuration=i.getUint32(t),t+ionIsEmpty=!0),!s&&c&&(n.baseDataOffsetIsMoof=!0),n},npeof windoe)return s;i-=son(t){e=new si,a=!0,r=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,s.captions.push(e),s.captionStreams[e.stream]=!0})),e.on("log",(function(e){s.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof .dts,a=c;else{if(!a){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+s+" for trackId "+i+". See mux.js#223."});break}n.pts=a.pts,n.dts=a.dts}l.seiNals.push(n)}return l}(r,i,u),s[u]||(s[u]={seiNals:[],logs:[]}),s[u].seiNals=sNals,logs:n.logs,Nals?(this.pushNals(o.seiaptions:[],captionStreamd()||!t||0===t.length)=function()treams={},s.logs=[]},thized())return null;e.reset()},this.c]<<eLec+=pi(c[11])):s.codec="avuba(4,c+=(e){return!!(6i=functioturn"sei_l},parsePat:function(e){var t=Si(e),i=4+Ei(e);r)<<8|e[n+11]))return null;var i,n=null;re+3])&&(r=!0);do{n++}while(1!==i[n]&&n<i.length);s=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2=Oiame(e.appendStartgopsToAlignWith.slice())}}s",g.pot:n,byteLengtTransmux=null,e.transs.data.data,e.byteOa.byteLength),e.data&&(e.data=s.data.data)),n(s.data))};if(t.addEventListener("message",r),e.data){const i=e.data instanceof ArrayBuffer;s.byteOffset=i?0:e.data.byteOffset,s.byteLength=e.data.byteLength;const n=[i?e.data:e.data.buffer];t.postMessage(s,n)}else t.postMessage(s)},Zo=-101,el=-102,tl=e=>{e.forEach((e=>{e.abort()}))},il=(e,t)=>t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Zo,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:el,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:2,xhr:t}:null,nl=(e,t,i)=>(n,s)=>{const r=s.response,a=il(n,s);if(a)return i(a,e);if(16!==r.byteLength)return i({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:2,xhr:s},e);const o=new DataView(r),l=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);for(let e=0;e<t.lion:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:i,data:n})=>(e.map.bytes=n,i.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null))})},rl=({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})=>{const p=e.map&&e.map.tracks||{},f=Boolean(p.audio&&p.video);let m=n.bind(null,e,"audio","start");const g=n.bind(null,e,"audio","end");let y=n.bind(null:e.baseStartTime,callback:n=>{e.bytes=t=n.data;const p=n.result;p&&(i(e,{hasAudio:p.hasAudio,hasVideo:p.hasVideo,isMuxeo&&y(p.videoansmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void Xo(e);e.transmuxer.transmuxQueue.push(e)})ToAlignWith:e.gopsToAlignWith,remux:f,onData:t=>{t.type="com.type?,t)},onTracf&&(t.isMuxed=!0),i(e,t))},onAudio:e=>{m&&void 0!==e.start&nfo:e=>{y&&void 0!==e.start&&(y(e.start),y=null),_&&void 0!==e.end&&_(e.end)},onVideoSegmentTimingInfo:e=>{s(e)},onAudioSegmentTimingInfo:e=>{r(e)},onId3:(t,i)=>{a(e,t,i)},onCaptions:t=>{o(e,[t])},isEndOfTimeline:l,onEndedTimeline:()=>{="combined"===t.type?"video":t.type,d(null,e,t))}})}})},al=({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})=>{let p=new Uint8Array(t);if(functio:!!s.video,hasAudio:!!s.audio};s.audio&&s.audio.codec&&"enca"!==s.audio.codec&&(r.audioCodec=s.aud&n(e,"video","start",o),s.video&&i.byteLength&&e.transmuxer?Jo({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:p,timescales:e.map.timescales,trackIds:[s.video.id],callback:i=>{t=i.data.buffer,e.bytes=p=i.data,i.logs.forEach((function(e){h(Pa(e,{stream:"mp4CaptionParser"}))})),a(i.captions)}}):a()}})}else if(e.transmuxer){if(void 0===e.container&&(e.contata.source===e){n.removeEventListener("message",r);const e=t.data.decrypted;s(new Uint8Array(e.bytes,e.byteOffset,e.byteLength))}};let a;n.addEventListener("message",r),a=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),n.postMessage(Io(n:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return ol({decryptionWorker:t,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key},(t=>{g.map.bytes=t,sl(g,(t=>{if(t)return tl(e),d(t,g);p()}))}));p()}}}})({activeXhrs:y,decryptionWorker:i,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f,doneFn:m,onTransmuxerLog:g});if(n.key&&!n.key.bytes){const i=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&i.push(n.map.key);const s=e(Pa(t,{uri:n.key.resolvedUriuri:n.map.resolvedUri,responseType:"arraybuffer",headers:wo(n.map)}),s=(({segment:e,finishProcessingFn:t})=>(i,n)=>{const s=il(i,n);if(s)return t(s,e);const r=new U(e.length));for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer})(s.responseText.sureturn e.stats=Pa(e.stats,(e=>{const t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3n:mentTimingInfoFn:l,audio y.dia{i}if(!n[e].uri&&!n[e].playlistsstso&&ret(e);retT=b||v||muld||1.systemBandu,fentliser:e,currentTimeline:t,segmentTirType_&&this.timelineChangToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}))}createTransmuxer_(){return(e=>{const t=new zo;t.curren|e).resolvedUri};return n&&(s.bytes=n.bytes),s}couldBeginLoading_(}paused(){return null===this.checkBufferTimeout_}reserrentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,i=this.partIndex){if(!t||!this.mediaSource_)return!1;const n="number"==typeof e&&t.segments[e],s=e+1===t.segments.length,r=!n||!n.parts||i+1===n.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&s&&r}chooseNextRequest_(){const e=this.buffered_(),t=Fa(e)||0,i=$a(e,this.currentTime_()),n=!this.hasPlayed_()&&i>=1,s=i>=this.goalBufferLength_(),r=this.playlist_.segments;a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(a.isSyncRequest)a.mediaIndex=function(e,t,i){t=t||[];const n=[];let s=0;for(let r=0;r<t.length;r++){const a=t[r];if(e===a.timeline&&(n.push(r),s+=a.duration,s>i))return r}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,r,t);else if(null!==this.mediaIndex){const e=r[this.mediaIndex],i="number"==typeof this.partIndex?this.partIndex:-1;a.startOfSegment=e.end?e.end:t,e.parts&&e.parts[i+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=i+1):a.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:e,startTime:i,partIndex:n}=ro.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${t}`:`currentTime ${this.currentTime_()}`,a.mediaIndex=e,a.startOfSegment=i,a.partIndex=n}const o=r[a.mediaIndex];let l=o&&"number"==typeof a.partIndex&&o.parts&&o.parts[a.partIndex];if(!o||"number"==typeof a.partIndex&&!l)return null;if("number"!=typeof a.partIndex&&o.parts&&(a.partIndex=0,l=o.parts[0]),!i&&l&&!l.independent)if(0===a.partIndex){const e=r[a.mediaIndex-1],t=e.parts&&e.parts.length&&e.parts[e.parts.length-1];t&&t.indehasEnoughInfoToAppend_()&&this.processCallQueue_()))}handleTimingInfo_(e,t,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,r=kl(t);s[r]=s[r]||{},s[r][i]=n,this.logger_(`timinginfo: ${t} - ${i} - ${n}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(0===t.length)return void this.logger_("SegmentLoadepdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),n={};t.forEach((e=>{n[e.stream]=n[e.st8"});let n=i;/^cc708_/.test(i)&&(n,e[i]=t.addRemoteTextTrack({kind:"captions",id:n,default:a,label:s,language:r},!1).track}}}(a,this.vhs_.tech_,e),Tl(t,s,a[e]),function({inbandTextTracks:e,captionArray:t,timestampOffset:i}){if(!t)return;const n=g().WebKitDataCue||g().VTTCue;t.forEach((t=>{const s=t.stream;e[s].addCue(new n(t.startTime+i,t.endTime+i,t.text))}))}({captionArray:r,inbandTextTracks:a,timestampOffset:i})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,i){if(this.ear(this,e,t,i));const n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();((e,t,i)=>{e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)})(this.inbandTextTracks_,i,this.vhs_.tech_),(({iget(){return Ea.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get(){return Ea.log.warn("cue.frivateData:{get(){return Ea.lata is deprec)),!r.cues||!r.cues.length)return;const a=r.cues,o=[];for(let e=0;e<a.length;e++)a[e]&&o.push(a[e]);const l=o.rember(u[t+1])||n;i.forEach((e=>{e.endTime=s}))}))})({inbandTextTracks:this.inbandTeeStart?t.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),i="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end="number"==typeof i.end?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&thi target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return s||r?{severity:s?"warn":"info",message:a}:null})(e,this.sourceType_);if(t&&("warn"===t.severity?Ea.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_(`Throwing away un-appended sync request ${wl(e)}`);this.logger_(`Appended ${wl(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,n=e.part,s=i.end&&this.currentTime_()-i.end>3*e.playlist.targetDuration,r=n&&n.end&&this.currentTime_()-n.end>3*e.playlist.partTargetDuration;if(s||r)return this.logger_(`bad ${s?"segment":"part"} ${wl(e)}`),void this.resehroughput_(e){if(e.duration<El)return void this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record 0.016666666666666666`);const t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,i=t.start,n=t.end;if(!Sl(i)||!Sl(n))return;Tl(i,n,this.segmentMetadataTrack_);const s=g().WebKitDataCue||g().VTTCue,r={custom:t.custom,dateTimeObject:t.dateTimeObing:t.da.attributes.RESOLUTION,clin;if}elft(=>{22=e,t s=${taSo(e)r.adecveSer_(`changing ${t}Buffer codec f),this.onAudioUpdateEnd_=Gl("audio",this),this.o|(this.addOrChangeSourceBuffers(e),this.crdiaSource",sourrted!")}canRemoveSourceBuffer(){return!Ea.browser.IE_:-1},t),doneFn:t,name:"appendBuffer"}),"video"===n){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.lenush([i,n]),i=null,n=null);return La(a)}(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=Al){Wl({type:"mediaSource",sourceUpdater:this,action:$l(e),nthis.audioBuffered().end(0)?Wl({type:"audio",sourceUpdater:this,action:Ul(e,t),doneFn:i,name:"remove"}):i()}removeVideo(e,t,i=Al){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Wl({type:"video",sourceUpdater:tater:this,action:Bl(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}vgger("di)?this.removeSourceBuffer(e):this[`${e}Q>Nlistener("sourceopenarse received VTT cues, but thesegment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,i){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Zo&&this.handleTimeout_(),e.code===el?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);const n=this.pendingSegment_;this.sDING",this.trigger("appending");const s=n.segment;if(s.map&&(s.map.bytes=t.map.bytes),n.bytes=t.bytes,"function"!=typeof g().WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then((()=>this.segmentRequestFinished_(e,t,i)),(()=>this.stopForError({message:"Error loading vtt.js"})));s.requested=!0;try{this.parseVTTCues_(n)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timi.sesNativeTextTracks_?new(g().VTTCue)(e.startTime,e.endTime,e.tex.cues.ltartTime+=r,e.endTimlength-1].startTime;i.syncInfineToDatetimeMappings=null,a=null;s=s||0;const onuityStarts&&t.discontone({type:e,from:t,to:i}){return"er=function(eass n =new Uint8Array(e.byteLength),l=new Int32Array(o.buffer);let u,c,d,h,p,f,m,g,y;for(u=n[0],c=n[1],d=n[2],h=n[3],y=0;y<r.length;y+=4)p=s(r[y]),f=s(r[y+1]),m=s(r[y+2]),g=s(r[y+3]),a.decrypt(p,f,m,g,l,y),l[y]=s(l[y]^u),l[y+1]=s(l[y+1]^c),l[y+2]=s(l[y+2]^d),l[y+3]=s(l[y+3]^h),u=p,c=f,d=m,h=g;return o}(e,t,n);r.set(a,e.byteOffset)}}}var o="undefined"!=typeof globalThis?globalThis:"undefw:void 0!==o?o:"undefined"!=typeof self?self:{}).BigInt||Number;l("0x1"),l("0x100"),l("0x10000"),l("0x1000000"),l("0x100000000"),l("0x10000000000"),l("0x1000000000000"),l("0x100000000000000"),l("0x10000000000000000"),function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.b.byteOffset,t.iv.byteLength/4);new r(i,n,s,(function(e,i){self.postMessageeofryponst su=e=Group(),o=ckChanged()TrackChang,i)=>{const],i,r):f.r,c)}else"vhs-json"age: 0===u.def,kind:"capurn!0;if(e[i].playlists&&cu(e[i].playlists,t))return!0}return!1},du={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:i}}}=t;for(const e in i)if(i[e].enabled)return i[e];reonst e in i)if("showing"===i[e].mode||"hidden"===i[e].mode)return i[e];return null}};let hu;const pu=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],fu=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]};class mu extends Ea.EventTarget{constructor(e){super();const{src:t,withCredentials:i,tech:n,bandwidth:s,externVhs:r,useCueTags:a,playlistExclusionDuration:o,enableLowInitialPlaylist:l,sourceType:u,cacheEncryptionKeys:c,bufferBasedABR:d,leastPixelDiffSelector:h,captionServices:p}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:f}=e;null==f&&(f=1/0),hu=r,this.bufferBasedABR=Boolean(d),this.leastPixelDiffSelector=Boolean(h),this.withCredentials=i,this.tech_=n,this.vhs_=n.vhs,this.sourceType_=u,this.useCueTags_=a,this.playlistExclusionDuratieout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Al,activeTrack:Al,getActiveGroup:Al,onGroupChanged:Al,onTrackChanged:Al,lastTrack_:null,logger_:Oa(`MediaGroups[${t}]`)}})),e})(),this.mediaSource=new(g().MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=La(),this.hasPlayed_=!1,this.syncController_=new eu(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new nu,this.sourceUpdater_=new zl(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeonst m={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:c,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings};this.mainPlaylistLoader_="dash"===this.sourceType_?new Fo(t,this.vhs_,this.requestOptions_):new bo(t,this.vhs_,this.requestOptions_),this.setup(m,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Ql(Pa(m,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise(((e,t)=>{function i(){n.off("vttjserror",s),e()}function s(){n.off("vttjsloaden.one("vttjserror",s),n.addWebVttScript_()}))}),e),this.setupSegmentLoaderListeners_(),this.bufferB>this.startABRTimer_())),this.tech_.on("pause",(()=>this.stopABRTimer_())),this.tech_.on("play",(()=>this.startABRTimer_()))),pu.forEach((e=>{this[e+"_"]=fu.bind(this,e)})),this.logger_=Oa("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.prToLoadedData__=-1;const y="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(y,(()=>{const e=Date.now();this.tech_.one("laudioAppendsToLoadedData__=this.audioSegmentLoader=[];for(const t in i)if(i[t][s.label]){const n=i[t][s.label];if(n.playlists&&n.playlists.length)r.push.apply(r,n.playlists);else if(n.uri)r.push(n);else if(e.playlists.length)for(let i=0;i<e.playlists.length;i++){const n=e.playlists[i];n.attributes&&n.attributes.AUDIO&&n.attributes.AUDIO===t&&r.push(n)}}return r.length?r:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",(()=>{ge",l),n.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),s.on("dispose",(()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),n.clearTracks("audio");for(const e in t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[e])})({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(()=>{this.trigger("selectedinitialmedia")}))})),this.mainPlaylistLoader_.on("loadedplaylist",(()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.tialMedia_=t,this.switchMedia_(this.initialMedints)return;e=this.initialMedia_}this.handleUp,t=1.5*e.targetDuration*1e3;to(this.mainPlaylistLoahange",bubbles:!0})})),this.mainPlaylistLoader_.on("playlistunchanged",(()=>{const e=this.mainPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no l}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=pl(this.main(),t),n={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=i.video||e.main.videoCodec||"avc1.4d400d"),e.main.isMuxed&&(n.video+=`,${i.audio||e.main.audioCodec||J}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(n.audio=i.audio||{playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlifunction(t){if(n.hasOwnProperty(t)&&(i=e[t].isFmp4,s=n[t],!(i?Y(s):Q(s)))){const i=e[t].isFmp4?"browser":"muxer";r[i]=r[i]||[],r[i].push(n[t]),"audio"===t&&(a=i)}var i,s})),s&&a&&t.attributes.AUDIO){const e=t.attributes.AUDIO;this.main().playlists.f).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const e=[];if(["video","audio"].forEach((t=>{const i=(z(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,s=(z(n[t]||"")pdater_.codecs[t]}" -> "${n[t]}"`)})),e.length)return void this.excludePlaylist({playlistToExclude:t,error:{messageRate=t.attributes["FRAME-RATE"]}var r,a,o;this.codecs=pl(:"usage",name:"vhs-gap-;forgetSource&&"function"==typeof s.getSource)return i=Date.now(),s.getSource.call(e,a);Ea.log.error("ERROR: reloadSourceOnEl),e.reloadSourceOnError=function(t){l(),bu(e,t)}};var This.systemBandwidth,i=this.systemBandwidth),this.systebutes.RESOLUTION&&e.attributes.RESOs($o).forEach((e=>{Object.debe sure you know what you are doing`),"number"!=typeof t||t<0?Ea.log.warn(`value of Vhs.${e} must be greater than or equal to 0`):$octedIndex_=n,e.trigge(!_()||!_().createElement)return!1;const e=_().createElement("video");return!!Ea.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpe(function(t){reTech("Html5").isSupported())&&/maybe|probably/i.test(_().cls","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach((e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.option(!e)return;var i;this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:app.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=Su,this.options_.sourceType=te(t),this.options_this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new _u(n),this.playlistController_.on("error",(()=>{const e=Ea.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));const s=this.options_.bufferBasedABR?Su.movingAverageBandwidthSelector(.55):Su.STANDARD_PLAYLIST_SELECTOR;this.playlistController_lisnitialPlaylist=Srol{return this.pl.mator.connection||g().nconet(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const e=1/(this.bandwidth||1);roughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set(){Ea.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerableontroller_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoad!0},buffered:{get:()=>ja(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currenSource:{get:()=>this.tech_.curmerable:!0},currentTech:{get:()=>this.tec>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enu.setupFirstPlay.bind(this.playlistController_)),this.twidth:this.bandwidth,throughput:Math.round(this.throughput)})})),this("selectedinitialmedia",(()=>{var e;(e=this).reller_.main(),i=so(t)?e.playlistController_.getAufilter((e=>!Ja(e))).map(((t,i)=>new gu(e,t,t.id))):[]}})),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",(()=>{this.setupEme_()})),this.on(this.playlistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.playlistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=g().URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourdioMedia:i,mainPlaylists:n})=>{if(!e.eme.i=>{const n=t.contentProtection[i];return n&&n.pssh&&(e[i]={pssh:n.pssh}),e}),{});return Object.keys(i).length&&e.push(i),e}),[])),r=[],a=[];var o,l;return s.forEach((t=>{a.push(new Promise(keySystemmsaylistController_.sourceUpdater_.initializedEme()})).catch((e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Faes.CODECS&&(n.audio=i.attributes.CODECS);const s=K(n.video),r=K(n.audio),a={};for(const i in e)a[i]={},r&&(a[i].audioContentType=r),s&&(a[i].videoContentType=s),t.contentProtection&&t.contentProtection[i]&&t.contentProtection[i].pssh&&(a[i].pssh=t.contentProtection[i].pssh),"string"==typeof e[i]&&(a[i].uri.push(e))})),i.length&&(Ea.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capa,t){t.representations().forEach((t=>{e.add))}static version(){return{"@videojs/http-streamingntroller_.dispose(),this.qualitin",seekTime:n.estimatedStart});const s={mediaSeconds:t},r=((e,t(t,n.segment);return r&&(s.programDateTime=r.toISOString()),i(null)}seekToProgterSeek:i,scanHandleSource(ens,i);return t.vhs=new xu(e,t,n),t.vhs.xhr=Eo(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const i=te(e);if(!i)return"";const n=Iu.getOverrideNative(t);return!Su.supportsTypeNatively(i)||n?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,i=!(Ea.browser.IS_ANY_SAFARI||Ea.browser.IS_}=t;return n}};Y("avc1.4d400d,mp4a.40.2")&&Ea.getTech("Html5").registerSourceHandler(Iu,0),Ea.VhsHandler=xu,Ea.VhsSourceHandldSourceOnError")||Ea.registerPlugin("reloadSourceOnError",(function(e){bu(this,e)}));var Au=function(t){var n,s;function r(){for(var e,n=arguments.length,s=ne(void 0===e)throw new ReferenceEd - super() hasn't been called");return e}(e=t.call.apply(t,[this].concat(s))||this),"eventHandlers",{}),e}s=t,(n=r).prototype=Object.create(s.prototype),n.prototype.constructor=n,e(n,s),r.getInstance=function(){return r.instance_||(r.instance_=new r),r.instance_};var a=r.prototype;return a.init=function(){this.bindDOMEvents()},a.bindDOMEvents=function(){for(var e=document.getElementsByTagName("video-js"),t=0,i=e.length;t<i;t++){var n=e[t].getAttribute("data-poster");if(Ea(e[t].id,{controls:!0,auto16:9",fluid:!1,poster:n}),e[t].classList.contains("rounded")){var s=e[t].querySelector(".vjs-poster"),r=s.querySelector(".vjs-poster"),a=r.querySelector("img");s.classList.add("rounded"),r.classList.add("rounded"),a.classList.add("rounded")}}},r}(f);i(Au,"instance_",void 0),$(document).ready((function(){Au.getInstance().init()}))}()}();