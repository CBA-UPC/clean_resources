"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5724],{63656:function(t,e,a){a.r(e),a.d(e,{default:);var n,s=a(1717),r=a(27378),i=a(27693),o=a.n(i),c=a(89401),l=a(43083),d=a(99011),u=a(92572),m=a(1319),f=a(60042),x=a.n(f),h=a(36077),v=a(2251),b=a(5273),p=a(81817),y=a(24246);!n||(n={}));var j=function(t){var e=t.label,a=t.color,s=t.active,r=void 0!==s&&s,i=t.variant,o=void 0===i?n.DEFAULT:i,c=t.onClick;return(0,y.jsxs)("span",{className:x()("ds-flex ds-items-center ds-cursor-pointer ds-rounded-full",{"ds-py-1 ds-px-[2px]":o===n.DEFAULT,"ds-py-1 ds-pl-2 ds-pr-3 ds-border ds-border-line-default-translucent":o===n.OUTLINE,"ds-bg-fill-content-alternate":r}),onClick:children:[(0,y.jsx)(h.ZP,{name:v.v.DOT_CIRCLE_OUTLINE,size:p.XR.XS,style:{color:a}}),(0,y.jsx)(b.Z,{variant:p.Fu.TIGHT_S,className:"ds-text-typo",children:e})]})},O=a(44757),P=a(73627),g=a(15140),N=a(1305);ar D=function(t,e,a){var n={},s=1,r=0,i=0;return t.forEach((function(t){t.teamStats.forEach((function(t){var o=t.teamInfo;if(0===a.length||a.includes(o.id)){var c=0,l=[{x:0,y:0}];s=Math.max(t.allMatchObjectIds.length,s),t.allMatchObjectIds.map((function(t,a){var n=e[t];if(n.state===P.xdB.POST){var s,d=null===n||void 0===n?void 0:n.teams.find(();c+=null!==(s=null===d||void 0===d?void 0:d.points)&&void 0!==s?s:0,r=Math.max(r,c),i=Math.min(i,c),l.push({x:a+1,y:c,match:n})}})),n[o.id]={teamInfo:o,data:l}}}))})),{teamMatchPoints:n,maxMatches:s,maxPoints:r,minPoints:i}},w=function(t){var e=t.standings,a=t.className,i=(0,c.OO)(c.dp),f=e.groups,x=e.objects.matches,h=(0,r.useState)(new Set([])),v=h[0],w=h[1],C=(0,r.useState)({x:0,y:0,bottom:32}),M=C[0],T=C[1],k=(0,r.useContext)(m.Z),E=k.lang,I=k.theme,A=(0,r.useRef)(null),L=(0,r.useMemo)((function(){return {hasSeriesStarted:Object.values(x).some(()},D(f,x,[]))}),[]),R=L.maxMatches,U=L.maxPoints,X=L.minPoints,_=L.hasSeriesStarted,Z=D(f,x,Array.from(v)).teamMatchPoints,F=Object.values(Z).reduce((function(t,e){var a=M.x,n=e.data[a];return n&&n.match&&n.y===M.y&&t.add(n.match.objectId),t}),new Set);(0,r.useEffect)((function(){var t;v.forEach((function(e){var a=Z[e].data[0];(void 0===t||(null===a||void 0===a?void 0:a.x)<=t.x&&(null===a||void 0===a?void 0:a.y)<=t.y)&&(t=a)})),t&&T({x:t.x,y:t.y,bottom:32})}),[v.size]);var z=function(t,e){var a,n,s,r=null===(a=e.event)||void 0===a||null===(n=a.target)||void 0===n?void 0:n.getBoundingClientRect(),i=null===(s=A.current)||void 0===s?void 0:s.getBoundingClientRect(),o=32;r&&i&&(o=i.bottom-r.top-9),T({x:t.x,y:t.y,bottom:o})};return _?(0,y.jsxs)(l.ZP,{className:a,children:[(0,y.jsx)(l.ZP.Header,{title:"Points Graph"}),(0,y.jsxs)(l.ZP.Content,{children:[(0,y.jsxs)("section",{className:"ds-flex ds-gap-6",children:[(0,y.jsxs)(i,{height:400,className:"ci-graph",xDomain:[0,Math.max(R,4)],yDomain:[Math.min(X,0),Math.max(U,2)],children:[(0,y.jsx)(c.xL,{style:{strokeDasharray:"6, 2"}}),(0,y.jsx)(c.Kc,{tickValues:(0,N.SD)(1,Math.max(R,4)),tickFormat:),(0,y.jsx)(c.B2,{}),Object.values(Z).map((function(t){var e=t.data,a=t.teamInfo,n=I===g.Wi.DARK?"white":"black";return(0,y.jsx)(c.LU,{size:4,color:a.primaryColor||n,data:e.map((),markStyle:{cursor:"pointer"},onValueClick:z},a.id)})),(0,y.jsx)(c.Df,{text:"Matches",className:"alt-x-label",includeMargin:!0,xPercent:.5,yPercent:.9}),(0,y.jsx)(c.Df,{text:"Pts",className:"alt-y-label",includeMargin:!0,xPercent:.009,yPercent:.5,style:{transform:"rotate(-90)",textAnchor:"end"}}),(0,y.jsx)(c.LU,{size:7,color:I===g.Wi.DARK?"white":"black",data:[M],markStyle:{cursor:"pointer"}}),(0,y.jsx)(c.LU,{size:0,color:I===g.Wi.DARK?"#D8D8D8":"black",data:[{x:M.x,y:M.y},{x:R,y:M.y}],strokeStyle:"dashed"})]}),(0,y.jsxs)("div",{ref:A,className:"ds-relative",children:[(0,y.jsx)("div",{className:"ds-w-2 ds-h-4 ds-bg-ui-fill-contrast ds-absolute ds--left-[6px]",style:{clipPath:"polygon(100% 0, 0 50%, 100% 100%)",bottom:M.bottom}}),(0,y.jsx)("section",{className:"ds-w-44 ds-px-4 ds-py-2 ds-bg-ui-fill-contrast ds-rounded ds-overflow-y-auto ds-scollbar-hide ds-h-full",children:F.size>0?Array.from(F).map((function(t){var e=x[t];return e?(0,y.jsxs)("section",{children:[(0,y.jsx)(d.Z,{label:e.teams.map((function(t){return t.team.abbreviation})).join(" vs "),labelVariant:p.Fu.COMPACT_XXS,variant:d.I.UNDERLINE_WHITE,anchorType:{href:(0,u.n1)(E,e)},title:e.teams.map(().join(" vs "),className:"ds-mb-2"}),(0,y.jsxs)(b.Z,{variant:p.Fu.COMPACT_XXS,className:"ds-text-raw-white ds-ml-1",children:["(",o()(e.startDate).format("DD MMM 'YY"),")"]}),(0,y.jsx)(b.Z,{variant:p.Fu.COMPACT_XXS,className:"ds-block ds-text-raw-white ds--mt-2",children:e.statusText})]},e.id):null})):(0,y.jsx)(b.Z,{variant:p.Fu.COMPACT_XXS,className:"ds-text-raw-white",children:"Click on any colored dot in the graph to discover links to the corresponding match scorecards here"})})]})]}),(0,y.jsxs)("footer",{className:"ds-mt-4 ds-flex ds-items-center ds-gap-2 ds-justify-center ds-overflow-x-auto ds-scrollbar-hide",children:[(0,y.jsx)(O.ZP,{label:"Reset",variant:O.Tu.TEXT_PRIMARY,size:O.NA.XXS,disabled:0===v.size,onClick:function(){w(new Set([])),T({x:1,y:0,bottom:32})}}),(0,y.jsx)("div",{className:"ds-h-6 ds-border-l ds-border-line"}),f.map((function(t){return t.teamStats.map((function(t){var e=t.teamInfo;return(0,y.jsx)(j,{variant:n.OUTLINE,label:e.abbreviation,color:e.primaryColor?e.primaryColor:I===g.Wi.DARK?"white":"black",active:v.has(e.id),onClick:function(){v.has(e.id)?v.delete(e.id):v.add(e.id),w(new Set(v))}},e.id)}))}))]})]})]}):null}}}]);