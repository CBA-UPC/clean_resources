(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{1045:function(t,e,a){"use strict";var r=a(5),s=a(898),n=a(912),c=a(17),l=Object(r.defineComponent)({__name:"thread-default-image",props:{thread:null},setup(t){const e=t,a=Object(r.computed)((()=>Object(c.y)(e.thread.threadTypeId)?"/assets/img/scissors_b01d6.svg":"/assets/img/tag_33e5f.svg"));return{__sfc:!0,props:e,src:a,ThreadCardImg:s.a,ThreadCardPicture:n.a}}}),i=a(44),o=Object(i.a)(l,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e(a.ThreadCardPicture,{staticClass:"aGrid bg--color-greyPanel width--all-12 height--all-full"},[e(a.ThreadCardImg,{staticClass:"threadItemCard-image--default",attrs:{src:a.src,alt:t.thread.title}})],1)}),[],!1,null,null,null);e.a=o.exports},1046:function(t,e,a){"use strict";var r=a(5),s=a(912),n=a(898),c=a(521),l=Object(r.defineComponent)({__name:"thread-main-image",props:{thread:null},setup(t){const e=t,a={THREAD_768:[["re",768,768],["ft","jpg"],["qt",60]],THREAD_1024:[["re",1024,1024],["ft","jpg"],["qt",60]]},l=Object(r.computed)((),i=Object(r.computed)((()=>l.value.apply(a.THREAD_1024).toString())),o=Object(r.computed)((()=>l.value.apply(a.THREAD_768).toString()));return{__sfc:!0,props:e,PICSY_VARIANTS:a,picsyImage:l,threadImgSrc_1024:i,threadImgSrc_768:o,ThreadCardPicture:s.a,ThreadCardImg:n.a}}}),i=a(44),o=Object(i.a)(l,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e(a.ThreadCardPicture,[e("source",{attrs:{media:`(min-width: ${t.$breakpoint.thresholds.sm}px)`,srcset:a.threadImgSrc_1024}}),e(a.ThreadCardImg,{staticClass:"bRad--a",attrs:{src:a.threadImgSrc_768,alt:t.thread.title}})],1)}),[],!1,null,null,null);e.a=o.exports},1059:function(t,e,a){"use strict";var r=a(877).a,s=a(44),n=Object(s.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"threadItemCard-ticket boxAlign-as--all-c"},[e("div",{staticClass:"threadItemCard-ticket-content flex overflow--hidden bg--main"},[e("div",{staticClass:"threadItemCard-ticket-piece threadItemCard-ticket-piece--logo",class:{"flex boxAlign-jc--all-c":!t.merchantLogoSrc}},[t.merchantLogoSrc?e("img",{staticClass:"img--fit-cover width--all-12",attrs:{src:t.merchantLogoSrc.x1,srcset:`${t.merchantLogoSrc.x1} 1x, ${t.merchantLogoSrc.x2} 2x`,alt:t.thread.merchant.merchantName}}):e("BaseIcon",{staticClass:"boxAlign-as--all-c",attrs:{name:"scissors",width:"50",height:"50",color:"greyBackground"}})],1),e("div",{staticClass:"threadItemCard-ticket-piece threadItemCard-ticket-piece--discount space--h-4 space--v-4 flex flex--dir-col boxAlign-jc--all-c",class:t.discountCeptClass},[t.isHasDiscountType?[t.isFreeShipping?e("BaseIcon",{staticClass:"space--mb-1",attrs:{name:"truck",width:"45",height:"32"}}):t._e(),t.discount.value?e("p",{staticClass:"text--b",class:t.discountValueFontSizeClass},[t._v(t._s(t.discount.value))]):t._e(),t.discount.label?e("p",{staticClass:"text--b size--all-l text--lh-1-2",class:[{"text--upper":!t.isFreeShipping}]},[t._v(" "+t._s(t.discount.label)+" ")]):t._e()]:e("BaseIcon",{staticClass:"boxAlign-as--all-c",attrs:{color:"charcoal",name:"star-empty",width:"52",height:"50"}})],2)])])}),[],!1,null,null,null);e.a=n.exports},1084:1176:1232:function(t,e,a){"use strict";a.r(e);var r=a(5),s=a(574),n=a(4),c=a(718),l=a(510),i=Object(r.defineComponent)({__name:"social-share-button",props:{shareUrl:null,icon:null},setup:),o=a(44),u=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e(t._self._setupProxy.BaseButton,t._b({staticClass:"text--color-black",attrs:{variant:"secondary",mode:"default",href:t.shareUrl,square:"",size:"m"}},"BaseButton",t.$attrs,!1),[e("BaseIcon",{attrs:{name:t.icon}})],1)}),[],!1,null,null,null).exports,d=Object(r.defineComponent)({__name:"share-button-twitter",props:{url:null,threadId:null,text:null},setup(t){const e=t,a="chollometro",s=Object(r.computed)((()=>{const t=Object(c.b)(c.a.TWITTER,e.url,e.threadId),r=new URL("http://twitter.com/intent/tweet");return r.searchParams.set("url",t),r.searchParams.set("text",e.text),r.searchParams.set("via",a),r.toString()}));return{__sfc:!0,props:e,twitterUsername:a,shareUrl:s,SocialShareButton:u}}}),h=Object(o.a)(d,(function(){var t=this._self._c,e=this._self._setupProxy;return t(e.SocialShareButton,{directives:[{name:"track",rawName:"v-track:shareOnTwitter.click",arg:"shareOnTwitter",modifiers:{click:!0}}],attrs:{icon:"twitter","share-url":e.shareUrl,target:"_blank",title:"Twitter"}})}),[],!1,null,null,null).exports,p=Object(r.defineComponent)({__name:"share-button-facebook",props:{url:null,threadId:null},setup(t){const e=t,a=Object(r.computed)((()=>{const t=Object(c.b)(c.a.FACEBOOK,e.url,e.threadId),a=new URL("http://www.facebook.com/share.php");return a.searchParams.set("u",t),a.toString()}));return{__sfc:!0,props:e,shareUrl:a,SocialShareButton:u}}}),m=Object(o.a)(p,(function(){var t=this._self._c,e=this._self._setupProxy;return t(e.SocialShareButton,{directives:[{name:"track",rawName:"v-track:shareOnFacebook.click",arg:"shareOnFacebook",modifiers:{click:!0}}],attrs:{icon:"facebook","share-url":e.shareUrl,title:"Facebook",target:"_blank"}})}),[],!1,null,null,null).exports,_=Object(r.defineComponent)({__name:"share-button-whatsapp",props:{url:null,threadId:null},setup(t){const e=t,a=Object(r.computed)((()=>{const t=Object(c.b)(c.a.WHATSAPP,e.url,e.threadId),a=new URL("whatsapp://send");return a.searchParams.set("text",t),a.toString()}));return{__sfc:!0,props:e,shareUrl:a,SocialShareButton:u}}}),b=Object(o.a)(_,(function(){var t=this._self._c,e=this._self._setupProxy;return t(e.SocialShareButton,{directives:[{name:"track",rawName:"v-track:shareOnWhatsapp.click",arg:"shareOnWhatsapp",modifiers:{click:!0}}],attrs:{icon:"whatsapp",title:"Compartir por Whatsapp","share-url":e.shareUrl}})}),[],!1,null,null,null).exports,f=Object(r.defineComponent)({__name:"social-share-buttons",props:{thread:null},emits:["click"],setup(t,e){let{emit:a}=e;const s=t,c=Object(r.computed)((),l=Object(r.computed)((()=>{var t;return null===(t=n.a.getters["features/flags"].social)||void 0===t?void 0:t.whatsappSharing})),i=Object(r.computed)((()=>{var t;return null===(t=n.a.getters["features/flags"].social)||void 0===t?void 0:t.facebookSharing}));return{__sfc:!0,emit:a,props:s,threadId:c,canShareOnWhatsapp:l,canShareOnFacebook:i,TwitterShareButton:h,FacebookShareButton:m,WhatsappShareButton:b}}}),g=Object(o.a)(f,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"flex",on:{click:},[a.canShareOnWhatsapp?e(a.WhatsappShareButton,{attrs:{url:t.thread.shareableLink,"thread-id":a.threadId}}):t._e(),e(a.TwitterShareButton,{attrs:{text:t.thread.title,url:t.thread.shareableLink,"thread-id":a.threadId}}),a.canShareOnFacebook?e(a.FacebookShareButton,{attrs:{url:t.thread.shareableLink,"thread-id":a.threadId}}):t._e()],1)}),[],!1,null,null,null).exports,C=a(71),v=a(815),x=Object(r.defineComponent)({__name:"copy-button",props:{url:null,threadId:null},emits:["click"],setup(t,e){let{emit:a}=e;const s=t,i=Object(C.c)(),o=Object(r.ref)(null),u=Object(r.computed)((()=>{const t=i.lgAndUp?c.a.COPY_DESKTOP:c.a.COPY_MOBILE;return Object(c.b)(t,s.url,s.threadId)}));return{__sfc:!0,breakpoint:i,props:s,emit:a,copyButtonInput:o,shareUrl:u,handleClick:t=>{t(o.value),a("click"),n.a.dispatch("pageMsgs/set",[{type:"success",priority:"low",code:10001,title:"Enlace copiado en tu portapapeles"}])},BaseButton:l.a,CopyToClipboard:v.a}}}),S=Object(o.a)(x,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e(a.CopyToClipboard,{scopedSlots:t._u([{key:"default",fn:function({copy:r}){return[e(a.BaseButton,{directives:[{name:"track",rawName:"v-track:shareCopyLink.click",arg:"shareCopyLink",modifiers:{click:!0}}],attrs:{variant:"secondary",mode:"brand"},on:{click:},[t._v(" "+t._s("Copiar enlace")+" "),e("BaseIcon",{attrs:{name:"duplicate",right:""}}),e("input",{ref:"copyButtonInput",staticClass:"hide--screen",attrs:{type:"text"},domProps:{value:a.shareUrl}})],1)]}}])})}),[],!1,null,null,null).exports,O=a(1045),k=a(1046),j=a(1059),y=a(17),w=a(509),I=Object(r.defineComponent)({__name:"thread-share-modal",props:{thread:null},setup(t){const e=t,a=Object(r.computed)((()=>Object(y.y)(e.thread.threadTypeId)?"Comparte el ahorro: envía este cupón a los tuyos":"Comparte el ahorro: envía este chollo a los tuyos")),n=Object(r.computedd))),c=Object(r.computed)((()=>e.thread.mainImage?k.a:n.value?j.a:O.a));return{__sfc:!0,props:e,title:a,isVoucherThreadType:n,imageComponent:c,BaseModal:s.a,ModalHead:s.e,ModalBody:s.b,SocialShareButtons:g,CopyButton:S,FormSeparator:w.p}}}),B=(a(1176),Object(o.a)(I,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e(a.BaseModal,t._g({attrs:{"max-width":"375"},scopedSlots:t._u([{key:"default",fn:function({close:r}){return[e(a.ModalHead,[t._v(t._s(a.title))]),e(a.ModalBody,{directives:[{name:"track",rawName:"v-track:sharingOptions",arg:"sharingOptions"}]},[e("div",{staticClass:"flex boxAlign-jc--all-c space--t-1 space--b-5 space--mb-1"},[e(a.imageComponent,{tag:"Component",staticClass:"threadShare-image flex boxAlign-ai--all-c",attrs:{thread:t.thread}})],1),e(a.CopyButton,{staticClass:"width--all-12",attrs:{url:t.thread.shareableLink,"thread-id":t.thread.threadId},on:{click:r}}),e("div",{staticClass:"flex space--v-3"},[e(a.FormSeparator,{staticClass:"width--all-12"}),e("span",{staticClass:"space--h-1 text--upper text--color-charcoalTint size--all-l size--fromW2-m"},[t._v(t._s("O"))]),e(a.FormSeparator,{staticClass:"width--all-12"})],1),e(a.SocialShareButtons,{staticClass:"boxAlign-jc--all-c gap--h-3 space--mb-1",attrs:{thread:t.thread},on:{click:r}})],1)]}}])},t.$listeners))}),[],!1,null,null,null));e.default=B.exports},877:function(t,e,a){"use strict";(function(t){var r=a(521),s=a(548),n=a(962);e.a={mixins:[n.a],props:{thread:{type:Object,required:!0}},computed:{merchantLogoSrc(){var t;if(null===(t=this.thread.merchant)||void 0===t||!t.avatar)return null;const e=new r.a(this.thread.merchant.avatar);return{x1:e.apply([["re",140,140],["ft","jpg"],["qt",70]]).toString(),x2:e.apply([["re",280,280],["ft","jpg"],["qt",70]]).toString()}},discount(){if(this.isFreeShipping)return{value:null,label:this.discountString};const t=this.discountString.split("_&");return{value:t[0],label:t[1]}},discountString(){if(this.isFreeShipping)return"Envío gratis";const e=this.isPercentageDiscount?"".concat(this.thread.percentage,"%"):Object(s.a)(this.thread.price,{includeCurrency:!0}),a="".concat(e).concat("_&");return t("-:price",{replaces:{price:a}})},discountValueFontSizeClass(){var t;const e=null===(t=this.discount.value)||void 0===t?void 0:t.length;return this.isFreeShipping||e<=6?"size--all-xxxl":e>8?"size--all-l":"size--all-xxl"},discountCeptClass(){return this.isHasDiscountType,""}}}}).call(this,a(70).translation)},898:function(t,e,a){"use strict";var r=a(44),s=Object(r.a)({},(function(t,e){return t("img",e._b({staticClass:"width--max-12 height--max-100",class:[e.data.staticClass,e.data.class]},"img",e.data.attrs,!1))}),[],!0,null,null,null);e.a=s.exports},912:function(t,e,a){"use strict";var r=a(44),s=Object(r.a)({},(function(t,e){return t("picture",e._g(e._b({staticClass:"flex flex--dir-col boxAlign-ai--all-c boxAlign-jc--all-c bRad--fromW3-a",class:[e.data.staticClass,e.data.class]},"picture",e.$attrs,!1),e.$listeners),[e._t("default")],2)}),[],!0,null,null,null);e.a=s.exports},962:function(t,e,a){"use strict";var r=a(17);e.a={computed:{isFreeShipping(){return this.thread.discountType===r.b},isPriceDiscount(){return this.thread.discountType===r.d},isPercentageDisc.c},isHasDiscountnt}}}}}]);