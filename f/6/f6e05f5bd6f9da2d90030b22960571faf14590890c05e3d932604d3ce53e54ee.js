!function(){"use strict";const e="googima",t="TYPE_API",s="TYPE_SCHEDULE",i="jw-flag-ads-googleima",n="jw-flag-ads-vpaid",a="jw-flag-ads-vpaid-controls",r="playing",o="adError",l="adItem",d="adStarted",h="viewable",u="external",c=u,p="vast",g="googima",m="vmap",y="-1",f="adBreakIgnored",A="adError",v="__jwpseg__",P="instream",w="article",b={[[P]]:1,[["banner"]]:2,[[w]]:3,[["feed"]]:4,[["floating"]]:5,[["interstitial"]]:5,[["slider"]]:5},E=function(e,t,s,i){if(0!==i.indexOf(e))return!1;const n=parseFloat(i.slice(e.length));return!(n<t||n>s)&&n},_=E.bind(null,"800000",10,90),k=E.bind(null,"900000",10,90),M=E.bind(null,"JWIAB",1,999);var C=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};const I=/^[^:/?#]+:?\/\/[^/?#]+/,R=function(e,t){if(!e)return;if(!t)return e;let s,i="",n="";Object.keys(t).forEach((e=>{const s=t[e];i=`${i}${n}${e}=${s}`,n="&"}));const a=((e),r=a.pathname;return a.searchParams.has("cust_params")?a.searchParams.set("cust_params",`${i}&${a.searchParams.getAll("cust_params")}`):a.searchParams.set("cust_params",i),s=a.toString(),0===e.indexOf("./")?s=`.${s.substring(s.indexOf(r))}`:0===e.indexOf("../")?s=`..${s.substring(s.indexOf(r))}`:0!==e.indexOf(`${a.protocol}`)||e.includes("://")?0===e.indexOf("//")?s=s.replace(a.protocol,""):0!==e.indexOf("//")&&0===e.indexOf("/")?s=s.substring(s.indexOf(r)):0!==e.indexOf("/")&&0===e.indexOf(a.pathname.substring(1))&&(s=s.substring(s.indexOf(r)+1)):s=s.replace("://",":"),s},S=e=>e?new URL(e).hostname:"",j=(e,t=document.location.search)=>{if(e)return new URLSearchParams(t).getAll(e)},L="hb_jwvb",T="hb_jwcr",x={[[L]]:"VIEWABILITY",[[T]]:"COMPLETION_RATE",[["hb_jwiab"]]:"IAB_CONTEXTUAL",[["hb_jwbs"]]:"BRAND_SAFETY"},B=[L,T],D=/^(https?:\/\/).*.(?:ampproject.org|bing-amp.com)\/(?:.\/)*(.*)\/amp.*$/,O=function(){if(!((document.location.search,"isAMP"))return;const e=j("consentValue").join(),t=j("consentGdpr").join();return e||t?{gdprApplies:t,consentData:e}:void 0},q=Date.now||U=e=>{const t=(e=>{let t=window;for(;t;){try{if(t.frames[e])break}catch(e){}t=t===window.top?null:t.parent}return t})(`${e}Locator`);return null!==t&&function(s,i,n,a){const r=q(),o=t=>{let s=t?t.data:{};if("string"==typeof s)try{s=JSON.parse(s)}catch(e){s={}}const i=`${e}Return`;s[i]&&s[i].callId===r&&(removeEventListener("message",o),n(s[i].returnValue,s[i].success))};window.addEventListener("message",o,!1);const l={[[`${e}Call`]]:{command:s,callId:r,parameter:a,[[void 0!==a?"version":"parameter"]]:i}};t.postMessage(JSON.stringify(l),"*")}};let V=null,N={gdprApplies:!0,consentData:""};const H=function(e=1e3){return null===V&&(V=new Promise((e=>{const t=window.__tcfapi||U("__tcfapi");if(t)return t("getTCData",2,((t,s)=>{e(!1!==s?{gdprApplies:t.gdprApplies,consentData:t.tcString,addtlConsent:t.addtlConsent}:null)}));const s=window.__cmp||U("__cmp");if(s)return s("getConsentData",null,((t,s)=>{e(!1!==s?{gdprApplies:t.gdprApplies||t.isUserInEu,consentData:t.consentData}:null)}));const i=O();return e(i||{gdprApplies:!1,consentData:""})})).then(()),Promise.race([V,new Promise(()])},$=function(e){const t=e.advertising;if(null!=t&&t.placement){const e=t.placement.toLowerCase();if(b[e])return b[e]}return b[null!=t&&t.outstream?w:P]},z=function(){const e=(t=document.referrer)&&null!==t.match(I)?function(e){const t=e.match(D);return t&&t.length>1?`${t[1]}${t[2]}`:e}(document.referrer):"";var t;if(window.top!==window.self){try{return{url:window.top.location.href,domain:window.top.document.domain,referrer:e}}catch(e){}return{url:e,domain:S(e),referrer:""}}return{url:document.location.href,domain:document.domain,referrer:e}},Q=function(e,t){const s=function(e,t){if("start"===e||"0%"===e)return"pre";if("end"===e||"100%"===e)return"post";if("string"==typeof e&&("pre"===e||"post"===e||e.indexOf("%")>=0))return e;const s=t.seconds(e);return"number"==typeof s&&!isNaN(s)&&s}(e,t);return"pre"===s?0:"post"===s?-1:s},W=function(e,t){const s=e.getPlugin("inference"),i=t.jwpseg_client_side,n=t.jwpseg||[];let a;if(!i||!i.length||!s)return n;try{a=s.predict(i,t)}catch(e){return t.jwpseg||[]}return[...Object.keys(a).filter((),...n.filter(()]},G=function(e){const t=[],s=[],i=[],n=[];for(let a of e){"string"!=typeof a&&(a=String(a));const e=_(a);if(e){t.push(e);continue}const r=k(a);if(r){s.push(r);continue}const o=M(a);o?i.push(o):"JWBRSAFE"===a&&n.push(1)}return t.length||s.length||i.length||n.length?{hb_jwvb:t,hb_jwcr:s,hb_jwiab:i,hb_jwbs:n}:null},J=X=var F=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)};const K=/^((https?:)?\/\/)?(secure)?pubads\.g\.doubleclick\.net\/gampad\/ads\?[\S]*$/,Y=Z=ee=function(e,t,s,i,n,a={}){var r,o,l,d,h,u,c;if(!e)return Promise.resolve(e);const m=function(e,t){const s=e.getConfig(),i=e.getPlaylistItem()===t,n={playerHeight:e.getHeight()||s.height||"",playerWidth:e.getWidth()||s.width||"",itemDuration:i&&Z(e.getDuration(),3)||"",integerDuration:i&&Z(t.duration,0)||"",item:t,jwpseg:W(e,t),placement:$(s),userAgent:navigator.userAgent},a=s.advertising?s.advertising.ampMacros:{};return Object.assign(n,a)}(t,s),y=z();let f=null;null!=s&&s.jwpseg&&(f=G(s.jwpseg));const A={viewability:(null==(r=f)||null==(o=r.hb_jwvb)?void 0:o.map((e=>encodeURIComponent(e))).join(","))||"",completion:(null==(l=f)||null==(d=l.hb_jwcr)?void 0:d.map((e=>encodeURIComponent(e))).join(","))||"",brandSafety:1===(null==(h=f)?void 0:h.hb_jwbs[0])?encodeURIComponent("Yes"):encodeURIComponent("No"),contextual:(null==(u=f)||null==(c=u.hb_jwiab)?void 0:c.map(().join(","))||""};-1!==e.indexOf(v)&&(a.jwpseg=m.jwpseg),e=Y(e,"__random-number__",Math.random()*Math.pow(10,18)),e=Y(e,"__timestamp__",(new Date).getTime()),e=Y(e,"__page-url__",encodeURIComponent(m.pageUrl||y.url)),e=Y(e,"__referrer__",encodeURIComponent(m.referrer||y.referrer)),e=Y(e,"__player-height__",m.playerHeight),e=Y(e,"__player-width__",m.playerWidth),e=Y(e,"__item-duration__",m.itemDuration),e=Y(e,"__integer-duration__",m.integerDuration),e=Y(e,v,m.jwpseg),e=Y(e,"__domain__",encodeURIComponent(m.domain||y.domain)),e=Y(e,"__placement__",m.placement),e=Y(e,"__device-ua__",encodeURIComponent(m.userAgent)),e=Y(e,"__jw-viewability__",A.viewability),e=Y(e,"__jw-completion__",A.completion),e=Y(e,"__jw-brand-safety__",A.brandSafety),e=Y(e,"__jw-contextual__",A.contextual),e=n.companion?Y(e,"__companion-div__",n.companion.id):Y(e,"__companion-div__","");const P=Object.keys(m).filter((),w=P.map((e=>{const t=e.match(/item([\w]+?)(List)?$/);let s;return t&&(s=t[1].toLowerCase()),s}));let b=null;const E=/__item-([\w-]+?)(-list)?__/g,_=e;for(;null!==(b=E.exec(_));){const t=b[0],i=b[1],a=P[w.indexOf(i)];let r="";if(F(s,i)&&"string"==typeof s[i]||a){r=a?m[a]:s[i];const e=!1===n.truncateMacros?4096:1e3;r.length>e&&(r=r.substring(0,e));const t=b[2]?",":null;r=r.split(t).map(encodeURIComponent)}e=Y(e,t,r)}if(i===p){const s=t.getConfig().autostart?1:0,i=t.getMute()?1:0;e=function(e,t,s){return K.test(e)&&(e=`${e}&vpa=${t}&vpmute=${s}`),e}(e,s,i)}if(i===g&&s.title&&-1===e.indexOf("vid_t=")){const t=s.title.substring(0,100).replace(/[^\x00-\x7F]/g,"");e+=`${e)}vid_t=${encodeURIComponent(t)}`}return-1!==e.indexOf("__gdpr__")||-1!==e.indexOf("__gdpr_consent__")||-1!==e.indexOf("__addtl_consent__")?H().then((({gdprApplies:t,consentData:s,addtlConsent:i})=>(e=Y(e,"__gdpr__",t?1:0),e=Y(e,"__addtl_consent__",i||""),Y(e,"__gdpr_consent__",s||"")))).catch(():Promise.resolve(e)},te=function(){},se=function(e,t,s){let i=[];return e&&(i=e.getElementsByTagName(t),s&&i&&0===i.length&&(i=e.getElementsByTagName(`${s}:${t}`))),i},ie=ne=function(e,t,s){e.push({message:t,code:1002,adErrorCode:70001,id:s})},ae=re=function(e){if(e){const t=e.textContent||e.text;if(t)return t.trim()}return""},oe=function(e,t,s,i){let n=[];return e||t?(n=t.getElementsByTagNameNS?t.getElementsByTagNameNS(e,s):t.getElementsByTagName(`${i}:${s}`),n):n},le=function(e,t){if(e){const s=e.getElementsByTagName(t);if(s)return s[0]}return null};let de=function(e){(e.indexOf("[REGULATIONS]")>=0||e.indexOf("[GDPRCONSENT]")>=0)&&(H().catch(te),de=te)};const he=ue=function(e,t){if(!e)return null;const s=e.getElementsByTagName("Ad");if(!s.length)return null;const i={_offSet:t};if(1===s.length)i._adQueue=[s[0].textContent.trim()];else{i._pod=[];for(let e=0;e<s.length;e++)i._pod.push(s[e].textContent.trim())}return i},ce=function(e,t,s){if(se(e,"VMAP",m).length)return function(e,t,s){const i=[],n=se(e,"VMAP",m);ie(n[0],"version")||ne(i,"VMAP Schema Error: version missing from VMAP tag",y);const a=se(e,"AdBreak",m);a.length||ae();const r=e.lookupNamespaceURI(m),o={};for(let e=0;e<a.length;e++){const t={},s={},n=a[e],d=ie(n,"timeOffset")||0,h=ie(n,"breakId"),u=ie(n,"breakType"),c=se(n,"AdSource",m)[0],p=ie(c,"id"),g=se(n,"AdTagURI",m)[0],y=se(n,"VASTData",m)[0]||se(n,"VASTAdData",m)[0],f=ie(g,"templateType"),A=re(g),v=oe(r,n,"Tracking",m);if(u||ne(i,"VMAP Schema Error: missing breakType on AdBreak",h),y||f||ne(i,"VMAP Schema Error: missing templateType on AdBreak",h),d||ne(i,"VMAP Schema Error: missing timeOffset on AdBreak",h),t._type=u,t._vmap={id:p,breakid:h,timeoffset:d},y)t._adXML=(l=le(y,"VAST")).ownerDocument instanceof Document?l.outerHTML||(new XMLSerializer).serializeToString(l):null;else{if("vast2"!==f&&"vast3"!==f&&"vast4"!==f)continue;t._adQueue=[A],t._waterfallIndex=0}const P=[];if(v)for(let e=0;e<v.length;e++){he(s,v[e]);const t=ie(v[e],"event");P.push(t)}(P.indexOf("breakStart")<0||P.indexOf("breakEnd")<0||P.indexOf("error")<0)&&ne(i,"Tracking events are missing breakStart, breakEnd, or error for AdBreak",h),t._trackers=s,t._type=u;const w="number"==typeof d||"string"==typeof d;w&&!o[d]?(o[d]=t,o[d]._pod=t._adQueue?[...t._adQueue]:[]):w&&o[d]&&t._adQueue&&o[d]._pod.push(...t._adQueue)}var l;return Object.keys(o).forEach((e=>{const i=o[e];switch(i._pod&&i._pod.length<=1&&delete i._pod,e){case"start":i._offSet="pre",t.setPreRoll(i);break;case"100%":case"end":i._offSet="post",t.setPostRoll(i);break;default:if(/^#/.test(e))break;/^\d\d?(?:\.\d+)?%$/.test(e)?i._offSet=e:i._offSet=s.seconds(e),t.addMidRoll(i)}})),t.preRoll||t.midRolls.length||t.postRoll||ae(),t.sort(null,!0),i}(e,t,s);if(se(e,"Playlist",m).length)return function(e,t,s){const i=se(e,"Playlist",m)[0],n=i.getElementsByTagName("Preroll")[0],a=i.getElementsByTagName("Postroll")[0],r=ue(n,"pre"),o=ue(a,"post");r&&t.setPreRoll(r),o&&t.setPostRoll(o);const l=i.getElementsByTagName("Midroll");for(let e=0;e<l.length;e++){const i=l[e],n=s.seconds(i.getAttribute("timeOffset")),a=ue(i,n);t.addMidRoll(a)}return[]}(e,t,s);throw new Error("No VMAP tag in response")},pe=function(e){e.onload=e.onreadystatechange=e.onerror=null,"abort"in e&&e.abort()},ge=function(e,t,s){if(null===e)return;let i;return Object.keys(e).forEach((t=>{const s=e[t];i=i||{},i[t]="_adQueue"===t||"_pod"===t?s.slice():s})),i?(i.requestTimeout=t,i.creativeTimeout=s,i._errors=[],i._waterfallIndex=0,i._adPodIndex=0,i):void 0},me=function(e,t){return"%"===e.toString().slice(-1)?t*parseFloat(e.slice(0,-1))/100:parseFloat(e)};class ye{constructor(e,t){this.adRules=e,this.utils=t,this.preRoll=null,this.vmap=null,this.postRoll=null,this.midRolls=[],this.playedMidRolls=[],this.duration=0,this._vmapPromise=null,this._vmapXHR=null}anWaterfalletPreRolletPostRolletMidRollAtIndex(e){const t=this.midRolls[e];return ge(t,this.requestTimeout,this.creativeTimeout)}getLastMidRollIndexBetweenTime(e,t,s){if(e>t)return null;this.sort(s);let i=this.midRolls.length;for(;i--;){const n=this.midRolls[i],a=me(this.midRolls[i]._offSet,s);if(e>=a)return null;if(t>=a){const e=ge(n,this.requestTimeout,this.creativeTimeout);if(!this.adRules.timeBetweenAdsAllowsAdPlayback(e))return null;if(!this.adRules.timeBetweenAds){if(this.playedMidRolls.indexOf(i)>=0)return null;this.playedMidRolls.push(i)}return i}}return null}peek(e,t,s){if(this.midRolls.length>this.playedMidRolls.length){this.sort(s);let i=0;for(;this.midRolls[i];){const n=this.midRolls[i],a=me(n._offSet,s);if(a>=e&&-1===this.playedMidRolls.indexOf(i)){const s=q()+1e3*(a-e);return a<=t&&this.adRules.timeBetweenAdsAllowsAdPlayback(null,s)?i:null}i+=1}}const i=q()+1e3*(s-e);return this.postRoll&&t>=s&&this.adRules.timeBetweenAdsAllowsAdPlayback(null,i)?-1:null}getNextMidrollIndex(e,t,s){if(this.adRules.timeBetweenAds||this.adRules.startOnSeek)return this.getLastMidRollIndexBetweenTime(e,t,s);if(this.midRolls.length>this.playedMidRolls.length){const e=this.getClosestIndex(t,s);if(e>=0&&this.playedMidRolls.indexOf(e)<0)return this.playedMidRolls.push(e),e}return null}getMidRolls(){return this.midRolls.map(()}resetetPreRoll(e){this.resetBreakId(e),this.preRoll=e}addMidRollrt(e,t){(!e||e<1)&&(e=1),(this.duration!==e||t)&&(this.duration=e,this.midRolls.sort(((t,s)=>me(t._offSet,e)-me(s._offSet,e))),function(e,t){for(let s=0;s<e.length;s++){const i=e[s];t?i._vmap.item=s+1:(i._adbreak={item:s+1,breakid:i._breakId},i._pod?i._adbreak.pod=i._pod:i._adbreak.tags=i._adQueue)}}(this.getAllAds(),t))}getAllAdsetVMAP(e){this.vmap=e}etVMAP(){return this.vmap}getClosestIndex(e,t){this.sort(t);let s=this.midRolls.length;for(;s--;)if(e>=me(this.midRolls[s]._offSet,t))return s;return-1}clearAds(){this.preRoll=null,this.midRolls.length=0,this.postRoll=null}resetBreakIdnst fe=function(e){return Array.isArray(e)?e.slice(0):[e]},Ae=function(e,t){return 0===e?1/0:e||t};class ve{etSchedule(e,t){const s=new ye(t,this.utils);if(s.requestTimeout=Ae(e.requestTimeout,5e3),s.creativeTimeout=Ae(e.creativeTimeout,5e3),e.tag)s.setPreRoll({_offSet:"pre",_adQueue:fe(e.tag),_waterfallIndex:0});else if("string"==typeof e.vastxml)s.setPreRoll({_offSet:"pre",_adXML:e.vastxml});else{if("string"==typeof e.schedule)return s.setVMAP(e.schedule),s;if("string"==typeof e.adschedule)return s.setVMAP(e.adschedule),s;!function(e,t,s){const i=t.schedule||t.adschedule;if(!i)return;const n={};Object.keys(i).forEach((e=>{const t=i[e];t.ad&&(Object.assign(t,t.ad),delete t.ad);const a=function(e,t){if("start"===e||"0%"===e||!e&&0!==e)return"pre";if("end"===e||"100%"===e)return"post";if("pre"===e||"post"===e||`${e}`.indexOf("%")>=0)return e;const s=t.seconds(e);return"number"==typeof s&&s}(t.offset,s),r=Ae(t.requestTimeout,5e3),o=Ae(t.creativeTimeout,5e3);let l=n[a];if(l){if("nonlinear"===t.type)return;"nonlinear"===l._type&&(l=null)}const d=n[a]=l||{_offSet:a,_type:t.type,_breakId:e,adBreakId:s.genId(12),requestTimeout:r,creativeTimeout:o};!1===a&&s.log("Error: ad offset format not supported",a);const h=t.skipoffset;if(void 0!==h&&void 0===d.skipoffset&&(d.skipoffset=h),"string"==typeof t.adm)d.adm=t.adm;else if(t.pod){const e=d._pod||[];d._pod=e.concat(t.pod)}else if(t.tag){const e=R(t.tag,t.custParams);d._adQueue&&(d._pod=[d._adQueue[0]],delete d._adQueue),d._pod?d._pod.push(fe(e)[0]):d._adQueue=fe(e)}else"string"==typeof t.vastxml?d._adXML=t.vastxml:s.log("Error: no ad tag provided")})),Object.keys(n).forEach((s=>{const i=n[s];switch(i.skipoffset=void 0!==i.skipoffset?i.skipoffset:t.skipoffset,s){case"pre":e.setPreRoll(i);break;case"post":e.setPostRoll(i);break;default:e.addMidRoll(i)}}))}(s,e,this.utils)}return s.sort(),s}getOptParams(e,t){const s={cuetext:t.cuetext,dynamicMessage:t.admessage,loadingAd:t.loadingAd,podMessage:t.podmessage,skipoffset:e.skipoffset,skipMessage:t.skipmessage,skipText:t.skiptext,omidAccessMode:e.omidAccessMode||"full",omidSupport:e.omidSupport||"auto",allowedOmidVendors:e.allowedOmidVendors||[],vpaidcontrols:e.vpaidcontrols||!1,conditionaladoptout:e.conditionaladoptout||!1,requestFilter:e.requestFilter,trackingFilter:e.trackingFilter,withCredentials:void 0===e.withCredentials||e.withCredentials,extensions:"[object Object]"===Object.prototype.toString.call(e.extensions)?e.extensions:{}},i=e.companiondiv;return i&&(s.companion={id:i.id,height:i.height,width:i.width}),s}getAdRules(e){const t=e.rules||{},s=parseInt(t.frequency,10);return{startOn:t.startOn||1,frequency:isNaN(s)?1:s,timeBetweenAds:t.timeBetweenAds||0,startOnSeek:t.startOnSeek||null,deferAds:t.deferAds||null}}}const Pe=function(e,t=null,s={}){const i={client:e.client},{bidding:n,item:a,player:r}=e;if(e.isDestroyed()||Object.assign(i,{placement:$(r.getConfig()),viewable:r.getViewable()}),s.jwpseg&&(i.jwpseg=s.jwpseg),t){const{adBreakId:a,adPlayId:r}=e.getAdIds(t,s);if(Object.assign(i,{adBreakId:a,adPlayId:r,offset:t._offSet}),n){const e=n.getBid(r);e&&Object.assign(i,e.getEventObject())}}return i.item=a,i},we=function(e,t,s,i){return{client:i,message:e,adErrorCode:t,id:y,placement:$(s),tag:""}};class be{constructor(e,t){this.player=e,this.options=t,this.client=t.client,this.ignoreStartOnSeek=!1,this.reset(),t.timeBetweenAds&&e.on({adBreakStart:this.handleAdBreakStart,adSkipped:this.handleAdSkipped,adComplete:this.handleAdComplete,adBreakEnd:this.handleAdBreakEnd,destroyPlugin:this.destroy},this)}ouldDeferAdslearStartOnSeek(){this.ignoreStartOnSeek=!0}sendAdBreakIgnored(e,t){e&&this.player.trigger(f,function(e,t){let s={};return e&&(s={id:e._breakId,tag:e._adQueue&&e._adQueue.length>0?e._adQueue[0]:e._adXML,offset:e._offSet}),Object.assign(s,{timeSinceLastAd:t,type:f})}(e,t,this.client))}rulesAllowAdPlaybackndleAdComplete(){this.adComplete=!0}andleAdBreakEnd(){!this.adSkipped&&this.adComplete&&(this.recentCompletedAdTime=q(),this.player.trigger("previousAdCompleteTime",{time:this.recentCompletedAdTime}))}timeBetweenAdsAllowsAdPlayback(e,t=q()){if(this.options.timeBetweenAds){const s=(t-this.recentCompletedAdTime)/1e3;if(s<this.options.timeBetweenAds)return this.sendAdBreakIgnored(e,s),!1}return!0}estroyconst Ee=class _e{constructor(e,t,s){this.player=e,this.pluginConfig=t,this.adClient=s;const i=this.configParser=new ve(e.utils),n=this.adRules=new be(e,i.getAdRules(t),s);this.emptySchedule=new ye(n,e.utils)}getAdRules(){return this.adRules}resetDefaultSchedule(e){const t=void 0===this.pluginConfig.withCredentials||this.pluginConfig.withCredentials,s=this.defaultSchedule=this.configParser.getSchedule(this.pluginConfig,this.adRules);s.isVMAP()&&s.load(this.player,e,this.adClient,{withCredentials:t}).catch(Ee)}getSchedule(e,t){return t>0&&!this.adRules.rulesAllowAdPlayback(t)?this.emptySchedule:null!=e&&e.adschedule?this.configParser.getSchedule(e,this.adRules):(this.resetDefaultSchedule(e),this.defaultSchedule)}r ke=const Me={adPosition:"",autoplayadsmuted:!1,companiondiv:null,companionResourceType:"",customUi:null,debug:!1,omidSupport:"disabled",omidAccessModeRules:{},enablePreloading:!1,loadVideoTimeout:15e3,locale:"",maxRedirects:-1,ppid:"",preloadAds:!1,requestTimeout:1e4,truncateMacros:!0,vastLoadTimeout:1e4,vpaidcontrols:!1,vpaidmode:"insecure"},Ce=e=>{if("true"===e)return!0;if("false"===e)return!1;const t=parseFloat(e);return isNaN(t)?e:t};class Ie{constructor(e,t){this.config=e,this.utils=t,this.bidsResponse={};for(const t in Me)if(ke(Me,t)){let s=e[t];const i=Me[t],n=typeof i;if(void 0!==s){if("boolean"!==n&&"number"!==n||(s=Ce(s)),typeof s!==n)throw new Error(`invalid parameter: ${t} should be a ${n}`);this[t]=s}else this[t]=i}}setLocalizationOptions({admessage:e,cuetext:t,podmessage:s,loadingAd:i,skipmessage:n,skiptext:a}){this.admessage=e,this.cuetext=t,this.loadingAd=i,this.podmessage=s,this.skipmessage=n,this.skiptext=a}}et Se=null;function je(e){if(Se)return Se;if(window.google&&google.ima&&google.ima.AdDisplayContainer)return Se=Promise.resolve(),Se;const t=["//","imasdk.googleapis.com/js/sdkloader/ima3.js"];"file:"===document.location.protocol&&t.unshift("https:");const s=new(0,e.scriptloader)(t.join(""));return Se=s.load(),Se}onst Te=function(){};class xe{constructor(e,t,s,i,n){Object.assign(this,e.Events),this.client="shared",this.player=e,this.item=s,this.config=i,this.casting=n;const a=e.utils,r=new ve(a);this.adRules=new be(e,r.getAdRules(i)),"string"==typeof t?(this.schedule=new ye(this.adRules,a),this.schedule.setPreRoll({tag:t})):(this.schedule=t,t.resetAllBreakIds()),this.vmapPromise=null,this.lastTimeEvent=null,this.prerollPromise=null,this.midrollPromise={},this.postrollPromise=null,this.next=null,this.nextPlaylistItemPromise=null,this.relatedNextUp=null,this.bidding=e.getPlugin("bidding"),this.bids=[],this.bidsPromises=[],this.bidsPromise=null,this._events=[]}attachListeners(){this.player.on({all:this.onAll,beforePlay:this.checkPreroll,relatedReady:this.relatedReady,cast:this.onCast,destroyBidding:this.destroyBids},this)}onAll(e,t){"time"===e?this.checkMidrolls(t):"beforeComplete"===e&&this.checkPostrolls(t),"complete"===e&&(this.player.videoHasCompleted=!0)}relatedReady(){if(this.config.preloadAds){const e=this.player.getPlugin("related");e&&e.on("nextUp",(e=>{e&&"discovery"===e.mode&&(this.relatedNextUp=e)}))}}onCastnit(e,t){if(this.config.clearAdsOnComplete&&this.player.videoHasCompleted&&this.schedule.clearAds(),e=e||null,this.schedule.isVMAP()&&(t.requestTimeout=this.schedule.requestTimeout,t.creativeTimeout=this.schedule.creativeTimeout,this.vmapPromise=this.schedule.load(this.player,this.item,this.client,t)),this.bidsPromise=this.vmapPromise||Promise.resolve(),this.bidsPromise=null!==e?this.bidsPromise.then((()=>{if(this.isDestroyed())return;if(this.bidding)return this.createBidsPromise(e,t);const s=function(e,t,s){const i=Pe(e,t,s);return Object.assign(i,{message:"Ad Error: bidding plugin unavailable",code:900,adErrorCode:60008}),i}(this,null,t);this.player.trigger(A,s)})).catch(Te):this.bidsPromise.catch(Te),this.config.preloadAds)if(1===t.playlistItemEventCount){const e=this.player.getConfig().autostart;!1===e||"viewable"===e&&0===this.player.getViewable()?this.loadPreroll(t).catch((e=>this.isDestroyed()?null:this.enqueueAdEvent(A,e,{preload:!0}))):this.player.once("autostartNotAllowed",(()=>{this.loadPreroll(t).catch((e=>this.isDestroyed()?null:this.enqueueAdEvent(A,e,{preload:!0})))}))}else t.preloadPreroll&&this.loadPreroll(t).catch((e=>this.isDestroyed()?null:this.enqueueAdEvent(A,e,{preload:!0})));return this.bidsPromise}createBidsPromise(e,t){const s=this.player;let i=parseInt(e.bidOnBreaks,10);return i=i>0?i:1/0,this.bids=this.schedule.getAllAds().slice(0,i).map((i=>{const{adPlayId:n}=this.getAdIds(i),a=s.getConfig(),{skipoffset:r}=this.config,o=null!=r&&r>=0,l=W(s,this.item),d={id:n,offset:e.offset,jwpseg:l,placement:$(a),tag:i._adQueue?i._adQueue[0]:i._currentTag,adClient:this.client};this.client===p&&(d.skipoffset=o?r:-1);const h=this.bidding.createNewBid(d,{getURLParts:z});this.player.trigger("adBidRequest",Pe(this,i,Object.assign({jwpseg:l},t))),h.init();const u=h.start().then((({result:e})=>{if(this.isDestroyed())return;let s=Promise.resolve();var n;e&&!e.error&&(i.jwpseg=l,e.adm?(i._adXML=e.adm,null!=i&&null!=(n=i._adQueue)&&n.length&&i._adQueue.unshift(e.adm)):e.tag&&(s=ee(e.tag,this.player,this.item,this.client,{},i).then((e=>{this.client===p?(i._adQueue=i._adQueue||[],i._adQueue.unshift(e)):i._adQueue=[e]}))));return this.player.trigger("adBidResponse",Pe(this,i,t)),s}));return this.bidsPromises.push(u),h})),Promise.all(this.bidsPromises)}checkPreroll(e){if(this.bidTimeoutStarted||(this.bidTimeoutStarted=!0,this.bids.forEach((e=>e.timeout()))),this.casting||this.preRollPlayed||this.adRules.shouldDeferAds())return;this.preRollPlayed=!0;const t=(null==e?void 0:e.startTime)||this.player.getPosition();this.lastTimeEvent=t||this.lastTimeEvent;const s=this.schedule.getPreRoll(t);if(!s&&!this.vmapPromise)return;(null!==this.vmapPromise||s&&"nonlinear"!==s._type)&&this.startBlocking(),this.bidsPromise.then((()=>{if(this.isDestroyed())return;const e=this.schedule.getPreRoll(t);e&&"nonlinear"!==e._type&&this.triggerAdBreakEvents(e,"pre")})),t?"none"===this.adRules.startOnSeek&&(this.prerollPromise=null):this.adRules.clearStartOnSeek();const i=null!=e&&e.playReason?e.playReason:"external";this.playPreroll({adBlock:this.adBlockErrorDetected,startTime:t,reason:i})}checkMidrolls(e){if(this.casting||0===e.duration||this.adRules.shouldDeferAds())return;const t=this.schedule.getNextMidrollIndex(this.lastTimeEvent,e.position,e.duration);if(this.lastTimeEvent=e.position,null!==t){const e=this.schedule.getMidRollAtIndex(t);"nonlinear"!==e._type&&(this.startBlocking(),this.triggerAdBreakEvents(e,"mid")),this.playMidrollAtIndex(t,{adBlock:this.adBlockErrorDetected})}else if(!this.preRollPlayed&&this.schedule.getClosestIndex(e.position,e.duration)<0)this.checkPreroll(e);else if(this.config.preloadAds){const t=e.position+5,s=this.schedule.peek(e.position,t,e.duration);if(null!==s&&s>=0)this.loadMidrollAtIndex(s,{adBlock:this.adBlockErrorDetected,preload:!0}).catch(Te);else if(-1===s){const t=q()+1e3*(e.duration-e.position);this.loadPostroll({adBlock:this.adBlockErrorDetected,preload:!0,startTime:t}).catch(Te)}else if(null===this.next&&null===this.nextPlaylistItemPromise&&t>e.duration){const e=this.player.getPlaylistIndex()+1,t=this.player.getPlaylistItem(e);if(this.nextPlaylistRelated=Boolean(this.relatedNextUp),t||this.relatedNextUp){const t=this.relatedNextUp?-1:e;this.nextPlaylistItemPromise=Promise.resolve(this.player.getPlaylistItemPromise(t)).then((()=>{this.isDestroyed()||(this.trigger("preloadNext",{item:this.player.getPlaylistItem(e)||this.relatedNextUp,index:t}),this.relatedNextUp=null,this.nextPlaylistItemPromise=null)})).catch(Te)}}}}checkPostrolls(e){if(this.casting||this.adRules.shouldDeferAds()||this.isDestroyed())return;const t=this.schedule.getPostRoll();t&&("nonlinear"!==t._type&&(this.startBlocking(),this.triggerAdBreakEvents(t,"post")),this.playPostroll(e))}getAdIds(e,{tagIndex:t,podIndex:s}={}){let i=e.adRequestIds&&void 0!==t?e.adRequestIds[t]:null;if(!i){const t=`p${s||e._adPodIndex||0}w${e._waterfallIndex||0}`;"p0w0"===t?i=e.adBreakId:(e.adPlayIds=e.adPlayIds||{},i=e.adPlayIds[t]=e.adPlayIds[t]||this.player.utils.genId(12))}return{adBreakId:e.adBreakId,adPlayId:i}}loadPreroll(e={}){return this.prerollPromise||(this.prerollPromise=this.bidsPromise.then((()=>{if(this.isDestroyed())return;const t=this.schedule.getPreRoll(e.startTime);return t?(t._position="pre",t._preload=!0,this.loadAd(t,e)):void 0}))),this.prerollPromise}loadMidrollAtIndex(e,t){return this.midrollPromise[e]||(this.midrollPromise[e]=this.bidsPromise.then((()=>{if(this.isDestroyed())return;const s=this.schedule.getMidRollAtIndex(e);return s?(s._position="mid",s._preload=!0,this.loadAd(s,t)):void 0}))),this.midrollPromise[e]}loadPostroll(e={}){return this.postrollPromise||(this.postrollPromise=this.bidsPromise.then((()=>{if(this.isDestroyed())return;const t=this.schedule.getPostRoll(e.startTime);return t?(t._position="post",t._preload=!0,this.loadAd(t,e)):void 0}))),this.postrollPromise}playPreroll(e){this.prerollPromise?this.playPreloadedPromise(this.prerollPromise,e):this.bidsPromise.then((()=>{if(this.isDestroyed())return;const t=this.schedule.getPreRoll(e.startTime);t?(t._position="pre",this.startAdBreak(t,e)):this.stopBlocking()}))}playMidrollAtIndex(e){this.midrollPromise[e]?this.playPreloadedPromise(this.midrollPromise[e]):this.bidsPromise.then((()=>{const t=this.schedule.getMidRollAtIndex(e);t&&(t._position="mid",this.startAdBreak(t))}))}playPostroll(e){this.postrollPromise?this.playPreloadedPromise(this.postrollPromise):this.bidsPromise.then((()=>{const t=this.schedule.getPostRoll();t&&(t._position="post",this.startAdBreak(t,e))}))}estroy(){this.destroyBids(),this.player.off(null,null,this),this.player=null}destroyBids(){this.bids.forEach((),this.bidsPromises=[],this.bids=[]}enqueueAdEventequeueAdEvents(){}triggerAdBreakEvents(){}startBlocking(){}stopBlocking(){}loadAd(){}playPreloadedPromise(){}const Be=De=Oe=qe=e=>e.isBeforePlay()||0===e.getPosition()?"pre":e.isBeforeComplete()||e.getPosition()===e.getDuration()?"post":"mid",Ue=()=>null;class Ve{it(e,t,s){this.requestType=e,this.requestOptions=t,this.scheduledAd=s,this.offset=s._offset;const i=this.adsLoaderManager;return this.initAdsManagerPromise=this.initAdsManagerPromise||je().then(().then(().catch((),this.initAdsManagerPromise}AdBreak(e){!e&&this.adsLoaderManager&&(e=this.adsLoaderManager.adsManager),!this.destroyed()&&e&&(0===e.getCuePoints().length?this.destroy():(e.discardAdBreak(),e.stop()))}(){this.customUiDiv&&(this.customUiDiv.style.display="block",this.addCustomEventHandlers())}ressInterval(e,t){if(clearInterval(this.progressIntervalId),!t)return;const s=e.getAdId(),i=e.isSkippable()&&this.customSkipButton;let n=-1;const a=this.options.admessage||"",r=this.options.podmessage||"",o=this.options.skipmessage||"",l=this.options.skiptext||"",d=new RegExp("__AD_POD_CURRENT__","g"),h=new RegExp("__AD_POD_LENGTH__","g");this.progressIntervalId=setInterval((()=>{if(!this.currentAd||this.currentAd.getAdId()!==s)return void clearInterval(this.progressIntervalId);const u=t.getRemainingTime();if(isNaN(u)||u<=0)return;if(n===u)return;n=u;const c=this.currentAd.getDuration(),p=c-u,g=Math.round(c-p);if(i){const t=this.timeTillSkip=Math.ceil(e.getSkipTimeOffset()-p);t>0?(this.customSkipButton.innerText=o.replace(/(\b)xx(s?\b)/g,`$1${t}$2`),this.customSkipButton.style.cursor="default"):(this.customSkipButton.innerText=l,this.customSkipButton.style.cursor="pointer")}if(this.blockingInstreamPlayer){let e=a.replace(/(\b)xx(s?\b)/g,`$1${g}$2`);const t=Be(this.currentAd,"getAdPodInfo");if(t){const s=Be(t,"getTotalAds");if(s>1){const i=Be(t,"getAdPosition");e=`${r.replace(d,i).replace(h,s)}  ${e}`}}this.blockingInstreamPlayer.setText(e),this.customCountDownDiv&&(this.customCountDownDiv.innerText=e),this.instreamProvider.trigger("time",{duration:c,position:p})}if(c>0){const t=De(this.playlistItemManager,e,this.scheduledAd);t.position=p,t.duration=c,this.adViewableImpressionHandler(t),this.trigger("adTime",t)}}),250)}setupViewableListener(){this.player.off(h,this.viewableHandler,this),this.player.on(h,this.viewableHandler,this),this.viewableHandler({viewable:this.player.getViewable()})}ped(e){const t=e.getAd();this.debugConsoleLog("[JW DEBUG] AdSkipped"),this.adsLoaderManager.unbindEvents(["COMPLETE","VOLUME_CHANGED"]),this.finishAd();const s=De(this.playlistItemManager,t,this.scheduledAd);this.trigger("adSkipped",s)}llAdsCompleted(){this.resumeRequested(),this.stopAdsManager(),this.trigger("allAdsComplete",{})}ull;const He=function(e,t){e.getContainer().querySelectorAll(".jw-icon-fullscreen").forEach(()};class $e extends xe{dRequest(e,i){const n=this.utils.extend({},this.config);n.ad=e,this.offset=e.offset||this.offset,n.adPosition=qe(this.player);const a=new Ie(n,this.utils),r=i?s:t,o=this.initAdsPlayer(r,a,e);return je().then(()}pBlocking(e){var t;this.destroyed()||(this.player.off("viewable",null,this),t=this.player,He(t,""),this.utils.removeClass(this.player.getContainer(),[n,a,i]),this.blockingInstreamPlayer&&(this.instreamProvider.off(),this.blockingInstreamPlayer.destroy(),this.blockingInstreamPlayer=null),e||this.view.adTakeDown())}royed(){return null===this.adsLoaderManager}}onst Qe={},We={},Ge={},Je=(e,t)=>{const s=Qe[t];return s||(Qe[t]=new Promise(((s,i)=>{const n=new e.key(t);if("unlimited"===n.edition())return i();const a=["//","entitlements.jwplayer.com","/",n.token(),".json"];"file:"===window.location.protocol&&a.unshift("https:"),e.ajax(a.join(""),(function(e){const t=null==e?void 0:e.response;t?s(t):i()}),(,{timeout:1e4,responseType:"json"})})))},Xe=(e,t)=>{const s=We[t];return s||(We[t]=Je(e,t).catch((()=>({}))).then((e=>{if(!1===e.canUseVPB)throw new Error("Not entitled for Player Bidding")})))},Fe=(e,t,s)=>{const i=Ge[t];return i||(Ge[t]=Je(e,t).catch(().then((e=>{let t,i;if(!0===s.outstream?(t=!1!==e.canPlayOutstreamAds,i="Outstream Ad Limit Reached"):(t=!1!==e.canPlayAds,i="Ad Limit Reached"),!1===t)throw new Error(i);return{message:"Can Play Ads"}})))},Ke=function(){};var Ye="8.10.0";!".jw-plugin-googima{overflow:hidden;width:100%;height:100%;display:block;visibility:hidden;pointer-events:none;opacity:0}.jw-plugin-googima.jw-ad-instream{visibility:visible;display:block;pointer-events:all;opacity:1}.jw-plugin-googima.jw-ad-instream .jw-ads-view>:not(div),.jw-plugin-googima.jw-ad-instream .jw-ads-view>div:not(:empty){width:100%;height:100%}.jw-plugin-googima.jw-ad-linear{top:0;left:0;bottom:0}.jw-plugin-googima.jw-ad-non-linear{top:auto}.jw-plugin-googima .jw-ads-view{position:absolute;width:100%;height:100%}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-controlbar{font-size:1em}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-display-icon-display,.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-display-icon-display .jw-icon-display{pointer-events:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar{background:0 0!important;pointer-events:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-horizontal-volume-container{pointer-events:auto}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-icon{pointer-events:all}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-icon-fullscreen:not(.jw-fullscreen-ima){display:none}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-fullscreen-ima{display:flex}.jwplayer.jw-flag-ads-googleima .jw-controls-backdrop{display:none}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume,.jwplayer.jw-flag-ads-googleima.jw-ie .jw-svg-icon{background:rgba(0,0,0,.25);border-radius:3px}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume{margin:0 10px}@supports (filter:drop-shadow(0 0 3px #000)){.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume,.jwplayer.jw-flag-ads-googleima.jw-ie .jw-svg-icon{background:0 0;border-radius:0}.jwplayer.jw-flag-ads-googleima.jw-ie .jw-slider-volume{margin:0}}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-svg-icon{fill:#fff;filter:drop-shadow(0 0 3px #000)}.jwplayer.jw-flag-ads-googleima .jw-controlbar .jw-text{text-shadow:0 0 3px #000}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid) .jw-controls .jw-controlbar{pointer-events:none}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-controlbar{flex-flow:column-reverse nowrap;height:100%;max-height:none}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-button-container{align-items:flex-end;flex-wrap:wrap;margin-bottom:7px}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-controlbar .jw-icon{height:30px}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-text{align-self:flex-start;margin:16px 0 0 16px;order:-1;width:100%}");(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)(e,"8.1",class{constructor(t,s,i,n){this.formatAdCue=e=>({begin:e._offSet,text:this.options.cuetext,cueType:"ads",adId:e.adBreakId}),this.player=t,this.player.utils.extend(this,this.player.Events),this.pluginConfig=s,this.div=i,this.configScheduleParser=new _e(this.player,this.pluginConfig,e),this.options=new Ie(this.pluginConfig||{},this.player.utils),this.adRules=this.configScheduleParser.getAdRules(),this.videoElement=null,this.playlistItemEventCount=0,this.nextPlaylistItemManager=null,this.nextPlaylistRelated=!1,this.casting=!1,this.bidsBlock=this.pluginConfig.bids,n&&n.sdkPromise&&n.checkEntitlements?(n.checkEntitlements(),n.sdkPromise()):(!function(e,t,s,i){const n=t.key,a=e.utils,r=Fe(a,n,s);let o;r.catch(Ke),s.bids&&(o=Xe(a,n),o.catch(Ke)),e.on("ready",(()=>{o&&o.catch((s=>{e.trigger("destroyBidding"),e.trigger(A,we(s.message,60009,t,i))})),r.catch((s=>{e.trigger("destroyPlugin",s),e.trigger(A,we(s.message,60002,t,i))}))}))}(this.player,this.player.getConfig(),this.pluginConfig,e),je(this.player.utils).catch(this.player.utils.noop)),this.view=new Re(this.div,this.player.id,this.player.utils),this.instreamProvider=new Le(this.player.utils,this.player.Events,this.view),this.adsLoader=new ze(this.player,this.view.getAdDiv()),this.playlistItemManager=null,this.version=Ye,this.player.pauseAd=this.pauseAd.bind(this),this.player.playAd=this.playAd.bind(this),this.player.skipAd=this.skipAd.bind(this),this.player.on("ready",this.onReadyCallback,this),this.player.on("playlistItem",this.onPlaylistItemCallback,this),this.player.on("playlistComplete",this.onPlaylistCompleteCallback,this),this.player.on("cast",this.onCastCallback,this),this.player.on("mute",this.onMuteCallback,this),this.player.on("destroyPlugin",this.onDestroyPlugin,this),this.player.on("destroyBidding",this.onDestroyBidding,this)},t){var s;null!=this&&null!=(s=this.playlistItemManager)&&s.adsPlayer&&(e?this.playlistItemManager.adsPlayer.pause(t||{}):this.playlistItemManager.adsPlayer.resume(t||{}))}playAd(e,s){const i=this.player.utils.extend({},this.pluginConfig);let n;n=this.player._.isArray(e)?e.slice(0):[e];const a=new(null!=s&&s.Options?s.Options:Ie)(i,this.player.utils);a.setLocalizationOptions(this.player.getConfig().localization.advertising);const r=this.playlistItemManager?this.playlistItemManager.blockingInstreamPlayer:null;r&&(r.noResume=!0),this.destroy(),this.playlistItemManager=this.createPlaylistItemManager({item:this.player.getPlaylistItem()},t,a),this.playlistItemManager&&!this.playlistItemManager.destroyed()&&this.playlistItemManager.startAdBreak({_adQueue:n,_position:qe(this.player),adBreakId:this.player.utils.genId(12)})}nReadyCallback(e){this.options.setLocalizationOptions(this.player.getConfig().localization.advertising),this.videoElement||(this.videoElement=this.player.createInstream().getMediaElement()),null!=e&&e.sdkPromise?e.sdkPromise():je(this.player.utils).catch(();const t=document.body;this.primeAdDisplay=t.addEventListener("mouseup",this.primeAdDisplay,!1),t.addEventListener("touchend",this.primeAdDisplay,!1)}onPlaylistItemCallback(e){this.playlistItemEventCount++;const t=Object.assign({playlistItemEventCount:this.playlistItemEventCount},this.options);this.handlePlaylistItem(e,s,t),this.playlistItemManager&&!this.playlistItemManager.schedule.isVMAP()&&this.sendCues(this.playlistItemManager.schedule)}onPlaylistCompleteCallback(){this.resetSchedule(!0)}Cues(e){const t=e.getMidRolls(),s=[];e.preRoll&&s.push(this.formatAdCue(e.preRoll)),t.length&&t.forEach((),e.postRoll&&s.push(this.formatAdCue(e.postRoll)),this.player.addCues(s)}andleDependencyError(e,t){this.destroyPlugin(),this.player.trigger(o,Oe(null,{message:e,adErrorCode:t,id:"-1",placement:$(this.player.getConfig()),tag:""}))}})}();
