!function(c){ar n={},s={7:0};.e=function(o){var t,a,i,e,r,n=[],c=s[o];return 0!==c&&(c?n.push(c[2]):(t=new Promise(,n.push(c[2]=t),(a=document.createElement("script")).charset="utf-8",a.timeout=120,p.nc&&a.setAttribute("nonce",p.nc),a.src=p.p+"core."+o+".737b2255586f30bc959e.js",i=new Error,e=r=setTimeout(12e4),a.onerror=a.onload=e,document.head.appendChild(a))),Promise.all(n)},p.m=c,p.c=n,p.d=p.r=p.t=p.n=p.o=p.p="https://cdn.agentbot.net/core/10.1.12/",p.oe=var e=(o=window.agentWebpackJsonp=window.agentWebpackJsonp||[]).push.bind(o);o.push=t;for(var o=o.slice(),a=0;a<o.length;a++)t(o[a]);var l=e;p(p.s=210)}([function(t,e,n){t.exports=(t=function(p){var n=Object.create||function e(){}var t={},o=t.lib={},a=o.Base={extend:create:init:function(){},mixIn:clone:,l=o.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:concat:clamp:clone:random:),i=t.enc={},r=i.Hex={stringify:parse:,c=i.Latin1={stringify:parse:,s=i.Utf8={stringify:parse:,u=o.BufferedBlockAlgorithm=a.extend({reset:_append:_process:clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(o.Hasher=u.extend({cfg:a.extend(),init:reset:function(){u.reset.call(this),this._doReset()},update:finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:_createHmacHelper:),t.algo={});return t}(Math),t)},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(6);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KEY_AGENT=e.KEY_USER=e.KEY_BOT=e.KEY_USERBOT=e.KEY__USER_TYPE_LIVE=e.KEY__USER_TYPE_AGENTBOT=e.KEY__USER_TYPE_CLIENT=e.KEY__ELEMENT_HIDE=e.KEY__ELEMENT_SHOW=e.KEY__EVENT_RESIZE=e.KEY__EVENT_MOUSE_MOVE=e.KEY__EVENT_MOUSE_UP=e.KEY__EVENT_MOUSE_DOWN=e.KEY__STORE_UNMUTED_VIDEO_CHAT=e.KEY__STORE_MUTED_VIDEO_CHAT=e.KEY__STORE_VIDEO_CHAT_IOS=e.KEY__STORE_ZENDESK_SITEL=e.KEY__STORE_VISITS=e.KEY__STORE_LIVE=e.KEY__STORE_ZENDESK=e.KEY__STORE_MESSAGES=e.KEY__STORE_USERS=e.KEY__CLOSE_ICON_DISABLED_HEADER=e.KEY__CLOSE_ICON_ENABLED_HEADER=e.KEY__CLOSE_ICON_ENABLED=e.KEY__STORE_FEEDBACK_POINTS=e.KEY__STORE_FEEDBACK_FAREWALL_MESSAGES=e.KEY__STORE_FEEDBACK=e.KEY__STORE_USER=e.KEY__STORE_CONFIG=e.KEY__STORE=e.KEY__FONT_SIZE_LARGE=e.KEY__FONT_SIZE_MEDIUM=e.KEY__FONT_SIZE_SMALL=e.KEY__LOADING_INDETERMINATE=e.KEY__LOADING_SMALL=e.KEY__LOADING_PROGRESS=e.KEY_LAUNCHER_WITH_BUTTONS=e.KEY__LAUNCHER_TYPE_CUSTOM=e.KEY__LAUNCHER_TYPE_ONLY_IMAGE=e.KEY__LAUNCHER_TYPE_WITH_IMAGE=e.KEY__LAUNCHER_MOBILE=e.KEY__LAUNCHER=e.KEY__AUXILIARY=e.KEY__FEEDBACK_COMMENT_PLACEHOLDER_LIMIT=e.KEY_MESSAGE_HEIGHT=e.KEY__MESSAGES_GROUP_SCROLL=e.KEY__MESSAGES_GROUP=e.KEY__MESSAGES=e.KEY__MESSAGE_GREETING=e.KEY__MESSAGE_WRITING_DOTS=e.KEY__MESSAGE_WRITING=e.KEY__MESSAGE_SENDING=e.KEY__MESSAGE_SEND_FILE=e.KEY__MESSAGE_SEND=e.KEY__MESSAGE_TWO_BUTTON=e.KEY__MESSAGE_ONE_BUTTON=e.KEY__MESSAGE_INPUT_BLOCKED=e.KEY__MESSAGE_INPUT_SPEECH_TO_TEXT=e.KEY__MESSAGE_INPUT=e.KEY__MESSAGE_CLIENT=e.KEY__MESSAGE_USERNAME=e.KEY__MESSAGE_AVATAR=e.KEY__MESSAGE_TEXT=e.KEY__MESSAGE=e.KEY__HEADER_AVATAR_VIDEO_FIX=e.KEY__HEADER_AVATAR=e.KEY__HEADER_EXPAND=e.KEY__HEADER_MINIMIZE=e.KEY__HEADER_CLOSE=e.KEY__HEADER_TITLE=e.KEY__HEADER=e.KEY__INIT_VIDEO_CHAT_TEXT=e.KEY__INIT_VIDEO_CHAT_CONTAINER=e.KEY__INIT_VIDEO_CHAT=e.KEY__HIDE=e.KEY__COMPONENT_ADD_MESSAGE=e.KEY__COMPONENT_USER=e.KEY__COMPONENT=e.KEY__INIT_FORM=e.KEY__FORM_BUTTON_DISABLED=e.KEY__MODAL_OPEN_IOS=e.KEY__VIDEO_CHAT=e.KEY__FAQS_OPEN=e.KEY__WINDOW_MAXIMIZE_OPEN=e.KEY__SDK=e.KEY__APP_CONTAINER=e.KEY__NO_ANIMATION=e.KEY__FOOTER=e.KEY__QUICK_REPLY=e.KEY__ADVERT=e.KEY__WINDOW_EMBEDDED=e.KEY__STATIC_POSITION=e.KEY__NOT_SELECTABLE=e.KEY__CONTAINER_HIDE_STICKY=e.KEY__CONTAINER_STICKY=e.KEY__CONTAINER_IPHONE_KEYBOARD=e.KEY__CONTAINER_IPHONE=e.KEY__CONTAINER=e.KEY__APP_CONTENT=void 0,e.KEY__ROOMS_SID=e.KEY__GENERATIVE_AI=e.KEY_AIVO_WEB_CHANNEL=e.KEY_AIVO_HASH_ID=e.KEY_TOKEN_SITEL=e.KEY_SHADOW_DOM_OPENED=e.KEY_SHADOW_DOM_CLOSED=e.KEY_ZENDESK_REGISTER_TAGS=e.KEY_ZENDESK_URL=e.KEY_ZENDESK_CHAT_PRECLOSE=e.KEY_ZENDESK_CHAT_END_ERROR=e.KEY_ZENDESK_CHAT_END_SUCCESS=e.KEY__EXTERNALCHAT_FORM=e.KEY__EXTERNALCHAT=e.KEY__AGENT_MOBILE_CLASS=e.KEY__NONCE=e.KEY__CHARACTER_LIMIT=e.KEY__VIDEO_CHAT_CODE=e.KEY_REMOVED_STORAGE=e.MAX_LOCALSTORAGE_ELEMENTS=e.MAX_LOCALSTORAGE_SIZE=e.KEY__FASTCLICK_IGNORE=e.KEY__HEIGHT_CTA_TYPE_GIF=e.KEY__DERIVATION_HOLD_MINUTES=e.KEY_STATUS_TRANSFERRED=e.KEY_STATUS_CLOSED=e.KEY_STATUS_ATTENDED=e.KEY_TRIGGER=void 0;var o=n(15);e.KEY__APP_CONTENT="aivochat-app-content";e.KEY__CONTAINER="aivochat-container";e.KEY__CONTAINER_IPHONE="aivochat-container-iphone";e.KEY__CONTAINER_IPHONE_KEYBOARD="aivochat-container-iphone-keyboard";e.KEY__CONTAINER_STICKY="aivochat-container-sticky";e.KEY__CONTAINER_HIDE_STICKY="aivochat-container-hide-sticky";e.KEY__NOT_SELECTABLE="not-selectable";e.KEY__STATIC_POSITION="aivochat-static-position";e.KEY__WINDOW_EMBEDDED="aivochat-window-embedded";e.KEY__ADVERT="aivochat-advert";e.KEY__QUICK_REPLY="aivochat-quick-reply";e.KEY__FOOTER="aivochat-footer";e.KEY__NO_ANIMATION="aivochat-no-animation";n=o.MKbmYvg?"AgentAppContainerSandbox":"AgentAppContainer";e.KEY__APP_CONTAINER=n;n=o.MKbmYvg?"$aivoSandbox":"$aivo";e.KEY__SDK=n;e.KEY__WINDOW_MAXIMIZE_OPEN="maximize-open";e.KEY__FAQS_OPEN="aivochat-faqs-button";e.KEY__VIDEO_CHAT="aivochat-container-video-conversational";e.KEY__MODAL_OPEN_IOS="aivochat-modal-ios-open";e.KEY__FORM_BUTTON_DISABLED="aivochat-form-button-disabled";e.KEY__INIT_FORM="type-init-form";e.KEY__COMPONENT="aivochat-component";e.KEY__COMPONENT_USER="aivochat-component-user";e.KEY__COMPONENT_ADD_MESSAGE="agent-add-message";e.KEY__HIDE="aivochat-hide";e.KEY__INIT_VIDEO_CHAT="aivochat-init-video-conversational";e.KEY__INIT_VIDEO_CHAT_CONTAINER="aivochat-init-video-conversational-container";e.KEY__INIT_VIDEO_CHAT_TEXT="aivochat-init-video-conversational-text";e.KEY__HEADER="aivochat-header";e.KEY__HEADER_TITLE="aivochat-header-title";e.KEY__HEADER_CLOSE="aivochat-header-close";e.KEY__HEADER_MINIMIZE="aivochat-header-minimize";e.KEY__HEADER_EXPAND="aivochat-header-expand";e.KEY__HEADER_AVATAR="aivochat-header-avatar";e.KEY__HEADER_AVATAR_VIDEO_FIX="aivochat-header-avatar-fix-tmp-view";e.KEY__MESSAGE="aivochat-message";e.KEY__MESSAGE_TEXT="aivochat-message-text";e.KEY__MESSAGE_AVATAR="aivochat-message-avatar";e.KEY__MESSAGE_USERNAME="aivochat-message-username";e.KEY__MESSAGE_CLIENT="aivochat-message-client";e.KEY__MESSAGE_INPUT="aivochat-input";e.KEY__MESSAGE_INPUT_SPEECH_TO_TEXT="aivochat-input-speech-to-text";e.KEY__MESSAGE_INPUT_BLOCKED="aivochat-input-blocked";e.KEY__MESSAGE_ONE_BUTTON="aivochat-input-with-one-btn";e.KEY__MESSAGE_TWO_BUTTON="aivochat-input-with-two-btn";e.KEY__MESSAGE_SEND="aivochat-send";e.KEY__MESSAGE_SEND_FILE="aivochat-send-file";e.KEY__MESSAGE_SENDING="aivochat-sending";e.KEY__MESSAGE_WRITING="aivochat-message-writing";e.KEY__MESSAGE_WRITING_DOTS="aivochat-writing-dots";e.KEY__MESSAGE_GREETING="aivochat-greeting";e.KEY__MESSAGES="aivochat-messages";e.KEY__MESSAGES_GROUP="aivochat-group";e.KEY__MESSAGES_GROUP_SCROLL="aivochat-group-scroll";e.KEY_MESSAGE_HEIGHT="calc(100% - 80px)";e.KEY__FEEDBACK_COMMENT_PLACEHOLDER_LIMIT=35;e.KEY__AUXILIARY="aivochat-auxiliary";e.KEY__LAUNCHER="aivochat-launcher";e.KEY__LAUNCHER_MOBILE="aivochat-launcher-mobile";e.KEY__LAUNCHER_TYPE_WITH_IMAGE="with-img";e.KEY__LAUNCHER_TYPE_ONLY_IMAGE="only-img";e.KEY__LAUNCHER_TYPE_CUSTOM="custom-html-css";e.KEY_LAUNCHER_WITH_BUTTONS="cta-buttons__notification-container";e.KEY__LOADING_PROGRESS="aivochat-loading-progress";e.KEY__LOADING_SMALL="aivochat-loading-small";e.KEY__LOADING_INDETERMINATE="aivochat-loading-indeterminate";e.KEY__FONT_SIZE_SMALL="aivochat-fs-sm";e.KEY__FONT_SIZE_MEDIUM="aivochat-fs-md";e.KEY__FONT_SIZE_LARGE="aivochat-fs-lg";o=o.MKbmYvg?"aivoSandboxStorage":"aivoStorage";e.KEY__STORE=o;e.KEY__STORE_CONFIG="aivo-config-";e.KEY__STORE_USER="aivo-user";e.KEY__STORE_FEEDBACK="aivo-feedback-";e.KEY__STORE_FEEDBACK_FAREWALL_MESSAGES="aivo-feedback-farewall-messages";e.KEY__STORE_FEEDBACK_POINTS="aivo-feedback-points";e.KEY__CLOSE_ICON_ENABLED="close-icon-enabled";e.KEY__CLOSE_ICON_ENABLED_HEADER="close-icon-enabled-header";e.KEY__CLOSE_ICON_DISABLED_HEADER="close-icon-disabled-header";e.KEY__STORE_USERS="aivo-users";e.KEY__STORE_MESSAGES="aivo-messages";e.KEY__STORE_ZENDESK="aivo-zendesk";e.KEY__STORE_LIVE="aivo-live";e.KEY__STORE_VISITS="aivo-visits";e.KEY__STORE_ZENDESK_SITEL="aivo-zendesk-sitel";e.KEY__STORE_VIDEO_CHAT_IOS="aivo-video-chat-ios";e.KEY__STORE_MUTED_VIDEO_CHAT="aivo-muted-video-chat";e.KEY__STORE_UNMUTED_VIDEO_CHAT="aivo-unmuted-video-chat";e.KEY__EVENT_MOUSE_DOWN="mousedown";e.KEY__EVENT_MOUSE_UP="mouseup";e.KEY__EVENT_MOUSE_MOVE="mousemove";e.KEY__EVENT_RESIZE="resize";e.KEY__ELEMENT_SHOW="aivochat-element-show";e.KEY__ELEMENT_HIDE="aivochat-element-hide";e.KEY__USER_TYPE_CLIENT=1;e.KEY__USER_TYPE_AGENTBOT=2;e.KEY__USER_TYPE_LIVE=3;e.KEY_USERBOT="user-bot";e.KEY_BOT="bot";e.KEY_USER="user";e.KEY_AGENT="agent";e.KEY_TRIGGER="trigger";e.KEY_STATUS_ATTENDED="attended";e.KEY_STATUS_CLOSED="closed";e.KEY_STATUS_TRANSFERRED="transferred";e.KEY__DERIVATION_HOLD_MINUTES=60;e.KEY__HEIGHT_CTA_TYPE_GIF=50;e.KEY__FASTCLICK_IGNORE="needsclick";e.MAX_LOCALSTORAGE_SIZE=2500;e.MAX_LOCALSTORAGE_ELEMENTS=5;e.KEY_REMOVED_STORAGE="aivo-cfc07e83395266d";e.KEY__VIDEO_CHAT_CODE=32;e.KEY__CHARACTER_LIMIT="characterLimit";e.KEY__NONCE="YWl2b3F3ZXJ0eXVpb3Bhc2RmZ2hqa3p4Y3Zibg==";e.KEY__AGENT_MOBILE_CLASS="agent-isMobile";e.KEY__EXTERNALCHAT="externalChat_";e.KEY__EXTERNALCHAT_FORM="externalChatForm_";e.KEY_ZENDESK_CHAT_END_SUCCESS="zendesk-chat-end-success";e.KEY_ZENDESK_CHAT_END_ERROR="zendesk-chat-end-error";e.KEY_ZENDESK_CHAT_PRECLOSE="zendesk-chat-preclose";e.KEY_ZENDESK_URL="https://static.zdassets.com/ekr/snippet.js?key=";e.KEY_ZENDESK_REGISTER_TAGS="zendesk-register-tags";e.KEY_SHADOW_DOM_CLOSED="shadow-dom-closed";e.KEY_SHADOW_DOM_OPENED="shadow-dom-opened";e.KEY_TOKEN_SITEL="ec0633155e0d2eb58138ea776921e7f0";e.KEY_AIVO_HASH_ID="aivoHashId";e.KEY_AIVO_WEB_CHANNEL="aivowebchannel";e.KEY__GENERATIVE_AI="genai_response";e.KEY__ROOMS_SID="roomsSIDs"},function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(5),a=n(147),i=n(41),r=Object.defineProperty;e.f=n(12)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),a)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n=n(1)(n(440));t.exports=n.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.M6p9EQD=e.MM06YnL=e.ENV__TARGET_ORIGIN_ZENDESK=e.ENV__CONVERSATION_USER=e.ENV__GOOGLE_ANALYTICS_ID=e.MxyZagd=e.MjG64lk=e.MP5eYgz=e.MvjD9RL=e.MkX0D4E=e.MQXnYME=e.Mq9dNm9=e.MwXydeL=e.MNp0Ykg=e.M7Ddoz0=e.MVRKgA5=e.M86aEzV=e.MZ2y5k6=e.MyY8KEm=e.MDgqYvZ=e.M4KnYov=e.MleEy6a=e.Ma7q5DJ=e.Mdqv58M=e.MKbmYvg=void 0;var o=n(60);e.MKbmYvg=!1;e.Mdqv58M="production";e.Ma7q5DJ="10.1.12";n=(0,o.M5pAEQb)("U2FsdGVkX18szvkeqK9WGNLI2LiurY9uAiNv1yTUTLfKJZBxqli4OUZ7hq1e6Q+q");e.MleEy6a=n;e.M4KnYov="https://61b913e264a54ed1b7473cc7d9446167@sentry.aivo.co/3";e.MDgqYvZ="https://iqmiddleware.agentbot.net/api/v1";e.MyY8KEm="https://live-handler.agentbot.net";e.MZ2y5k6="https://adapter.aivo.co/api/v1";e.M86aEzV="https://apibot.agentbot.net";e.MVRKgA5="https://apibot2.agentbot.net/api/v1";e.M7Ddoz0="https://s3.amazonaws.com/elasticbeanstalk-us-east-1-143411648281";e.MNp0Ykg="https://apibot2.agentbot.net/public/api/v1";e.MwXydeL="https://apiform.agentbot.net";e.Mq9dNm9="https://agentcore.s3.amazonaws.com/production/assets";e.MQXnYME="U2FsdGVkX19Nc+46v3f02WxgfbawCZm/qz574C+GD7Y=";e.MkX0D4E="https://jqtmdiy716.execute-api.us-east-1.amazonaws.com/prod/queue_input";n=(0,o.M5pAEQb)("U2FsdGVkX19EGbp7Sv7mFOCmy5ZdRqb6k+Z7cjwiijr0tYNAkLgMAgaTvnCrahIsID9P75PRfQTlY99JjrF/5A==");e.MvjD9RL=n;n=(0,o.M5pAEQb)("U2FsdGVkX19Vj47IOsg2q3FrOitid4nbVAOq3Qt8FTQ=");e.MP5eYgz=n;e.MjG64lk="conversations";e.MxyZagd="https://live-prod-16c0e-default-rtdb.firebaseio.com/";e.ENV__GOOGLE_ANALYTICS_ID="UA-27172547-8";e.ENV__CONVERSATION_USER="https://conversation-user.aivo.co/api/v1";e.ENV__TARGET_ORIGIN_ZENDESK="https://zd.agentbot.net";n=(0,o.M5pAEQb)("U2FsdGVkX19XIVu/1Nstd9fHjxFkA5+oG0g0hxslwYm2PV+zchOLnzt7SM7oxmMcrCMrUTzon99Bvj5wvqYGHg==");e.MM06YnL=n;o=(0,o.M5pAEQb)("U2FsdGVkX1+etGosV3LQRzBABboFG38lXJJxZ5/qcVNdjTaBye0qAu6rJzESXoo8");e.M6p9EQD=o},function(t,e,n){var v;t.exports=(v=n(2),n(55),void(v.lib.Cipher||function(){var t=v,e=t.lib,n=e.Base,r=e.WordArray,o=e.BufferedBlockAlgorithm,a=t.enc,i=(a.Utf8,a.Base64),c=t.algo.EvpKDF,s=e.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:init:reset:process:finalize:keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:);.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=t.mode={},a=e.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:init:function(t,e){this._cipher=t,this._iv=e}}),a=l.CBC=((l=a.extend()).Encryptor=l.extend({processBlock:),l.Decryptor=l.extend({processBlock:),l);ar l=(t.pad={}).Pkcs7={pad:unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},h=(e.BlockCipher=s.extend({cfg:s.cfg.extend({mode:a,padding:l}),reset:_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:blockSize:4}),e.CipherParams=n.extend({init:toString:)),l=(t.format={}).OpenSSL={stringify:parse:,d=e.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:decrypt:_parse:),t=(t.kdf={}).OpenSSL={execute:,f=e.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:t}),encrypt:decrypt:)}()))},function(t,e,n){"use strict";var a=n(190),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function r(t){return void 0===t}ports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isPlainObject:s,isUndefined:r,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:isFunction:p,isStream:isURLSearchParams:isStandardBrowserEnv:forEach:l,merge:extend:trim:stripBOM:},function(t,e,n){"use strict";t.exports=n(398)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(13),a=n(44);t.exports=n(12)?function(t,e,n){return o.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.closeToSurveyThunk=e.switchBetweenVideoAndTraditional=e.toggleSwitchAssitant=e.closeWindow=e.stickWindow=e.minimizeWindow=e.maximizeWindow=e.openWindow=e.playFeeling=e.putFeeling=e.displayVideoChatBtnIos=e.closeConversation=e.addDefaultComplements=e.newSession=e.startSession=e.resetConfig=e.initConfig=e.addCustomStyles=e.addAssets=e.addGoogleAnalytics=e.setAdvertClick=e.setAdvertView=e.findFaqs=e.showWindowFeedback=e.setWindowConfig=e.removeConfig=e.setFeedbackConfig=e.hideDerivationLoader=e.showDerivationloader=e.initNewSession=e.resetVideoComplements=e.setComplementForVideoChat=e.enableAndDisableVideo=e.setConfig=e.removeUser=e.removeUsers=e.setUsers=e.setUser=e.updateUser=e.safeUserUpdate=e.connect=e.subscribe=e.sendMessageIM=e.addComplements=e.sendMessage=e.sendConditions=e.sendFeedbackAB=e.addMessages=e.removeMessages=e.updateMessage=e.removeMessage=e.resetQueueVideoResponse=e.dequeueVideoResponse=e.queueVideoResponse=e.addMessage=e.setAppConfig=void 0;var a=o(n(9)),i=o(n(70)),s=n(99),r=n(98),p=n(17),c=n(60),l=n(36),u=n(40),h=n(15),d=n(11),f=n(72),v=n(72),m=n(80),g=n(103),b=n(69),y=n(68),w=o(n(14)),_=o(n(71)),x=n(102),E=n(59);function k(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.setAppConfig=function(t){return{type:"SET_APP_CONFIG",app:t}};function O(t,e,n,o,a,i,r,c){return{type:"ADD_MESSAGE",message:t,user:e,messageType:n,params:o,sending:a,answerKey:i,defaultApp:r,isGenaiResponse:c}}e.addMessage=O;e.queueVideoResponse=function(t,e){return{type:"ENQUEUE_VIDEO_RESPONSE",response:t,message:e}};e.dequeueVideoResponse=function(){return function(t,e){var n=w.default.getConfig(),o=(0,i.default)(e().agentVideoResponse,1)[0],a=o.response,e=o.message;a&&e&&(o=(0,b.dataInterationFactory)({appId:n.app.id,answerID:a.answerID,message:e}),(0,b.setEventAnalytics)(n.user.id,n.app.id,window.navigator.userAgent,o),window[d.KEY__SDK]._onInteraction&&window[d.KEY__SDK]._onInteraction((0,p.typeEvasion)(a.answerID),e),(0,y.processVideoChatMessages)(a,t),(0,g.addMessage)(a,t),t(C()))}};var C=function(){return{type:"DEQUEUE_VIDEO_RESPONSE"}};e.resetQueueVideoResponse=C;e.removeMessage=function(t){return{type:"REMOVE_MESSAGE",id:t}};e.updateMessage=.removeMessages=T;e.addMessages=e.sendFeedbackAB=e.sendConditions=e.sendMessage=function(s){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,u=5<arguments.length?arguments[5]:void 0,h=6<arguments.length?arguments[6]:void 0,u=void 0===u?null:u;return function(t,e){var n,o=e(),a=h||s,i=o.agentConfig;l=l||i.app.id,p=p||w.default.getAppUser(),q();var r=i._windowConnected,c=i._iqTransferring,e=i._iqSubscribed,o=i.products;r===o.live.id?c||(e||t(O(s,p)),t(I(s,p,l,t,u))):(o.agentbot.id,t(L({_windowBlocked:!(null!==(o=i.chatWindow)&&void 0!==o&&null!==(n=o.videoChat)&&void 0!==n&&n.enabled&&i.__reproducedIntention),__writing:!0,__videoChatLoopBlur:!1,__videoChatForm:null,__videoChatCarousel:null,__videoChatButtons:null,__videoChatVideo:null,__videoChatFile:null})),t(O(s,p)),t(A(u,p)),t(I(a,p,l,t,u)))}};var A=function(n,o){var a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return function(e,t){n&&n.length&&n.forEach(function(t){t.action=t.action||t.type;t=(0,y.createMessage)(t);return e(O(t.message,o,t.type,t.params,a,i))})}};e.addComplements=A;var I=function(t,e,n,o){return{type:"SEND_MESSAGE_IM",message:t,user:e,appId:n,dispatch:o,complements:4<arguments.length&&void 0!==arguments[4]?arguments[4]:null}};e.sendMessageIM=I;.subscribe=P;function D(){return function(t,e){var n=e().agentConfig,o=n._iqAttended,a=n._iqTransferring,i=n.products,r=n._windowConnected,c=n._iqSubscribed,e=n._iqRoom,s=n.app,p=n.user;t(L({_showCTAButtons:!0})),i.live.enabled&&(!r&&i.live.default||+r===i.live.id)?(a={_iqSubscribed:void 0,_windowConnected:i.live.id,_windowLoading:!(!c||o&&!a)},t(L(a)),e&&setTimeout(function(){t(P(t,s.id,p.id))},500)):t(L({_windowConnected:i.agentbot.id}))}}e.connect=D;function R(n){return function(t){var e=(0,l.getItem)("agentUsers");e&&2500<(0,c.compress)(JSON.stringify(e)).length+9&&console.warn("2500 size has been exceeded in user in localstorage"),t(N(n))}}e.safeUserUpdate=R;var N=e.updateUser=N;function M(t){return{type:"SET_USER",user:t}}e.setUser=M;e.setUsers=function(t){return{type:"SET_USERS",users:t}};function j(){return{type:"REMOVE_USERS"}}e.removeUsers=j;e.removeUser=function(t){return{type:"REMOVE_USER",userId:t}};var L=function(t){return{type:"SET_CONFIG",config:t}};e.setConfig=L;function z(t){return{type:"ENABLE_AND_DISABLE_VIDEO",config:t}}e.enableAndDisableVideo=z;e.setComplementForVideoChat=function(t){return{type:"SET_COMPLEMENT_FOR_VIDEO_CHAT",config:t}};e.resetVideoComplements=function(t){return{type:"RESET_VIDEO_COMPLEMENTS",config:t}};function F(t){return{type:"INIT_NEW_SESSION",config:t}}e.initNewSession=F;e.showDerivationloader=function(){return{type:"SHOW_DERIVATION_LOADER",config:{_windowBlocked:!0,_windowLoading:!0}}};e.hideDerivationLoader=function(){return{type:"HIDE_DERIVATION_LOADER",config:{_windowBlocked:void 0,_windowLoading:void 0}}};e.setFeedbackConfig=function(t){return{type:"SET_FEEDBACK_CONFIG",config:t}};function U(){return{type:"REMOVE_CONFIG"}}e.removeConfig=U;function K(t){return{type:"SET_WINDOW_CONFIG",config:t}}e.setWindowConfig=K;function Y(t){return{type:"SHOW_WINDOWS_FEEDBACK",config:t}}e.showWindowFeedback=Y;function B(){return function(n){(0,y.getFaqs)(function(t){var e=w.default.getConfig();e.chatWindow.auxiliary={type:"faqs",params:t},e.chatWindow.faqs.data=t,(0,p.isSmallWindow)()||(e._windowAuxiliaryOpened=!0),n(L(e))})}}e.findFaqs=B;e.setAdvertView=function(){return function(t,e){e=e().agentConfig,e=e.proactivities?e.proactivities[0]:void 0;void 0!==e&&"1"===e.enabled&&(0,y.setAdsView)(e.id)}};e.setAdvertClick=function(){return function(t,e){e=e().agentConfig,e=e.proactivities?e.proactivities[0]:void 0;void 0!==e&&"1"===e.enabled&&(0,y.setAdsClick)(e.id)}};e.addGoogleAnalytics=function(){return function(t){var e=w.default.getConfig(),n=e.app.id;(0,p.checkTokenForGA)(n)&&(t(L(S(S({},e),{},{permissionsGA:!0}))),n=document.getElementsByTagName("head")[0],document.querySelector("head").appendChild(w.default.createElement("script",{id:"agent-core-tag-manager",type:"text/javascript",src:"https://www.googletagmanager.com/gtag/js?id=".concat(h.ENV__GOOGLE_ANALYTICS_ID),async:!0})),t=document.createElement("script"),e=document.createTextNode("\n        window.dataLayer = window.dataLayer || [];\n        function aivogtag(){dataLayer.push(arguments);}\n        aivogtag('js', new Date());\n        aivogtag('config', '".concat(h.ENV__GOOGLE_ANALYTICS_ID,"', {\n          'custom_map': {\n            'dimension1': 'bot_name',\n            'dimension2': 'satisfaction_type',\n          }\n        });")),t.appendChild(e),n.appendChild(t))}};e.addAssets=function(){return function(t,e){var n=w.default.createElement,o=w.default.searchInsideShadowRoot;o("#core-style-material-icons").length||(document.querySelector("head").appendChild(n("link",{id:"core-style-material-icons",rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})),document.querySelector("head").appendChild(n("link",{id:"core-style-font-open-sans-regular",rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Open+Sans"})),document.querySelector("head").appendChild(n("link",{id:"core-style-font-open-sans-bold",rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&display=swap"})),o()[0].appendChild(n("link",{id:"core-style-font",rel:"stylesheet",href:"https://cdn.jsdelivr.net/emojione/2.2.7/assets/css/emojione.min.css"})))}};function W(){return function(t,e){var n=e().agentConfig,o=w.default.createElement,a=w.default.searchInsideShadowRoot,e=w.default.removeElement;e("#".concat(d.KEY__APP_CONTAINER,"_contrast_style")),e("#".concat(d.KEY__APP_CONTAINER,"_style")),a()[0].appendChild(o("style",{nonce:d.KEY__NONCE,media:"screen",id:"".concat(d.KEY__APP_CONTAINER,"_style"),innerHTML:"\n          .agent-".concat(n.app.id," .custom-background,\n          .agent-").concat(n.app.id," .feedback-binary-form-buttons__submit,\n          .agent-").concat(n.app.id," .feedback-stars-form-buttons__submit,\n          .agent-").concat(n.app.id," .feedback-nps-form-buttons__submit,\n          .agent-").concat(n.app.id," .feedback-csat-form-buttons__submit,\n          .agent-").concat(n.app.id," .feedback-csat-form-assessment__point.active,\n          .agent-").concat(n.app.id," .feedback-nps-form-assessment__point.active,\n          .agent-").concat(n.app.id," .feedback-binary-form-assessment__button.active,\n          .agent-").concat(n.app.id," .controls-carousel a:first-child,\n          .agent-").concat(n.app.id," .custom-background-hover:hover,\n          .agent-").concat(n.app.id," .aivochat-faqs-button,\n          .agent-").concat(n.app.id," .aivochat-header-zendesk,\n          .agent-").concat(n.app.id," .interactive-list-main-container .interactive-list-header,\n          .agent-").concat(n.app.id," .interactive-list-main-container .interactive-list-send button {\n            background-color: ").concat(n.chatWindow.colors[0]," !important;\n          }\n          .agent-").concat(n.app.id," .feedback-nps-form-assessment__point:focus,\n          .agent-").concat(n.app.id," .feedback-csat-form-assessment__point:focus  {\n            box-shadow: inset 0 0 0 1px ").concat(n.chatWindow.colors[0]," !important;\n          }\n          .agent-").concat(n.app.id," .aivochat-component.aivochat-component-buttons .controls-carousel a:first-child {\n            color: #FFFFFF !important\n          }\n          .agent-").concat(n.app.id," .custom-background-rgba,\n          .agent-").concat(n.app.id," .custom-background-hover-rgba:hover {\n            background-color: ").concat((0,p.hexToRgbA)(n.chatWindow.colors[0],"0.2")," !important;\n            color: #333333 !important;\n            border-radius: 0 12px 12px 12px !important;\n          }\n          .agent-").concat(n.app.id," .custom-color,\n          .agent-").concat(n.app.id," .custom-color *:not(.aivochat-interactive-list-btn):not(.aivochat-interactive-list-icon):not(.aivochat-interactive-list-icon *),\n          .agent-").concat(n.app.id," .custom-color a:not(.aivochat-interactive-list-btn):not(.aivochat-interactive-list-icon):not(.aivochat-interactive-list-icon *),\n          .agent-").concat(n.app.id," .custom-color a *:not(.aivochat-interactive-list-btn):not(.aivochat-interactive-list-icon):not(.aivochat-interactive-list-icon *),\n          .agent-").concat(n.app.id," .interactive-list-container .interactive-list-title,\n          .agent-").concat(n.app.id," .feedback-binary__title,\n          .agent-").concat(n.app.id," .feedback-nps__title,\n          .agent-").concat(n.app.id," .feedback-stars__title,\n          .agent-").concat(n.app.id," .feedback-csat__title,\n          .agent-").concat(n.app.id," .feedback-binary-form-buttons__cancel,\n          .agent-").concat(n.app.id," .feedback-stars-form-buttons__cancel,\n          .agent-").concat(n.app.id," .feedback-nps-form-buttons__cancel,\n          .agent-").concat(n.app.id," .feedback-csat-form-buttons__cancel,\n          .agent-").concat(n.app.id," .feedback-csat-form-assessment__point:not(.active),\n          .agent-").concat(n.app.id," .feedback-nps-form-assessment__point:not(.active),\n          .agent-").concat(n.app.id," .feedback-stars-form-assessment__point,\n          .agent-").concat(n.app.id," .controls-carousel a:last-child,\n          .agent-").concat(n.app.id," .aivochat-feedback-answer .qualify-text,\n          .agent-").concat(n.app.id," .custom-color-hover:hover {\n            color: ").concat(n.chatWindow.colors[0]," !important;\n          }\n          .agent-").concat(n.app.id," .aivochat-component-buttons .custom-color {\n            background: ").concat(n.chatWindow.colors[0]," !important;\n            color: #FFFFFF !important;\n          }\n          .agent-").concat(n.app.id," .aivochat-component-buttons .custom-color:hover,\n          .agent-").concat(n.app.id," .interactive-list-main-container .interactive-list-send button:hover,\n          .agent-").concat(n.app.id," .type-init-form button:hover,\n          .agent-").concat(n.app.id," .aivochat-component-buttons .custom-color:focus,\n          .agent-").concat(n.app.id," .feedback-binary-form-buttons__submit:focus,\n          .agent-").concat(n.app.id," .feedback-stars-form-buttons__submit:focus,\n          .agent-").concat(n.app.id," .feedback-nps-form-buttons__submit:focus,\n          .agent-").concat(n.app.id," .feedback-csat-form-buttons__submit:focus,\n          .agent-").concat(n.app.id," .type-init-form button:focus,\n          .agent-").concat(n.app.id," .aivochat-component-quick-replies-button:focus {\n            background: ").concat((0,p.hexToRgbA)(n.chatWindow.colors[0],"0.8")," !important;\n          }\n          .agent-").concat(n.app.id," .aivochat-component-buttons .aivochat-component-controls .custom-color {\n            border: 1px solid #FFFFFF !important;\n           }\n\n          .agent-").concat(n.app.id," .aivochat-header.custom-color .custom-background *,\n          .agent-").concat(n.app.id," .aivochat-header-zendesk * ,\n          .agent-").concat(n.app.id," .interactive-list-main-container .interactive-list-header .interactive-list-header-btn-text,\n          .agent-").concat(n.app.id," .interactive-list-main-container .interactive-list-send button p {\n            color: #FFFFFF !important;\n          }\n          .agent-").concat(n.app.id," .aivochat-message:not(.aivochat-message-client) .aivochat-content a,\n          .agent-").concat(n.app.id," .aivochat-auxiliary.aivochat-auxiliary-expanded .aivochat-auxiliary-content ul li a,\n          .agent-").concat(n.app.id," .aivochat-message:not(.aivochat-message-client) .aivochat-content a *{\n            color: #333333 !important;\n          }\n          .agent-").concat(n.app.id," .feedback-csat-form-assessment__point.active,\n          .agent-").concat(n.app.id," .feedback-nps-form-assessment__point.active,\n          .agent-").concat(n.app.id," .feedback-binary-form-buttons__submit,\n          .agent-").concat(n.app.id," .feedback-stars-form-buttons__submit,\n          .agent-").concat(n.app.id," .feedback-nps-form-buttons__submit,\n          .agent-").concat(n.app.id," .feedback-csat-form-buttons__submit,\n          .agent-").concat(n.app.id," .aivochat-component-form button{\n            color: #fff !important;\n          }\n          .agent-").concat(n.app.id," .feedback-csat-form-assessment__point.active,\n          .agent-").concat(n.app.id," .feedback-nps-form-assessment__point.active,\n          body.agent-").concat(n.app.id," #").concat(d.KEY__APP_CONTAINER," .custom-border {\n            border-color: ").concat(n.chatWindow.colors[0]," !important;\n          }\n          .agent-").concat(n.app.id," .aivochat-component-file {\n            border-color: ").concat(n.chatWindow.colors[0]," !important;\n            border-radius: 0 11px 11px 11px !important;\n          }\n          .agent-").concat(n.app.id," div.aivochat-main.custom-4 > div.aivochat-messages {\n            height: calc(100% - 61px);\n          }\n          .agent-").concat(n.app.id," .aivochat-auxiliary {\n            border: 1px solid ").concat(n.chatWindow.colors[0],";\n          }")})),(0,r.contrast)(n.chatWindow.colors[0])||a()[0].appendChild(o("style",{nonce:d.KEY__NONCE,media:"screen",id:"".concat(d.KEY__APP_CONTAINER,"_contrast_style"),innerHTML:"\n            .agent-".concat(n.app.id," .custom-color:not(.aivochat-interactive-list-btn):not(.aivochat-interactive-list-icon):not(.aivochat-interactive-list-icon *),\n            .agent-").concat(n.app.id," .custom-color *:not(.aivochat-interactive-list-btn):not(.aivochat-interactive-list-icon):not(.aivochat-interactive-list-icon *),\n            .agent-").concat(n.app.id," .custom-color a:not(.aivochat-interactive-list-btn):not(.aivochat-interactive-list-icon):not(.aivochat-interactive-list-icon *),\n            .agent-").concat(n.app.id," .custom-color a *:not(.aivochat-interactive-list-btn):not(.aivochat-interactive-list-icon):not(.aivochat-interactive-list-icon *),\n            .agent-").concat(n.app.id," .interactive-list-container .interactive-list-title,\n            .agent-").concat(n.app.id," .interactive-list-main-container .interactive-list-header .interactive-list-header-btn-text,\n            .agent-").concat(n.app.id," .interactive-list-main-container .interactive-list-send button p,\n            .agent-").concat(n.app.id," a,\n            .agent-").concat(n.app.id," a *:not(.aivochat-component-video .va-middle, .aivochat-component-image .va-middle),\n            .agent-").concat(n.app.id," button:not(.mfp-close),\n            .agent-").concat(n.app.id," button *,\n            .agent-").concat(n.app.id," .aivochat-message:not(.aivochat-message-client) .aivochat-content a,\n            .agent-").concat(n.app.id," .aivochat-message:not(.aivochat-message-client) .aivochat-content a *,\n            .agent-").concat(n.app.id," .custom-color-hover:hover,\n            .agent-").concat(n.app.id," .custom-background,\n            .agent-").concat(n.app.id," .custom-background *,\n            .agent-").concat(n.app.id," .aivochat-feedback-answer .qualify-text,\n            .agent-").concat(n.app.id," .custom-background-hover:hover ,\n            .agent-").concat(n.app.id," .custom-background-hover:hover *,\n            .agent-").concat(n.app.id," .custom-background-rgba,\n            .agent-").concat(n.app.id," .custom-background-hover-rgba:hover,\n            .agent-").concat(n.app.id," .feedback-binary-form-buttons__submit,\n            .agent-").concat(n.app.id," .feedback-stars-form-buttons__submit,\n            .agent-").concat(n.app.id," .feedback-nps-form-buttons__submit,\n            .agent-").concat(n.app.id," .feedback-csat-form-buttons__submit,\n            .agent-").concat(n.app.id," .feedback-binary__title,\n            .agent-").concat(n.app.id," .feedback-nps__title,\n            .agent-").concat(n.app.id," .feedback-stars__title,\n            .agent-").concat(n.app.id," .feedback-csat__title,\n            .agent-").concat(n.app.id," .cta-buttons__notification-container-close i,\n            .agent-").concat(n.app.id," .feedback-nps-form-assessment__point,\n            .agent-").concat(n.app.id," .feedback-nps-form-assessment__point:not(.active),\n            .agent-").concat(n.app.id," .feedback-stars-form-assessment__point,\n            .agent-").concat(n.app.id," .feedback-stars-form-assessment__point:not(.active),\n            .agent-").concat(n.app.id," .feedback-csat-form-assessment__point,\n            .agent-").concat(n.app.id," .feedback-csat-form-assessment__point:not(.active),\n            .agent-").concat(n.app.id," .feedback-csat-form-assessment__point.active,\n            .agent-").concat(n.app.id," .feedback-nps-form-assessment__point.active,\n            .agent-").concat(n.app.id," .feedback-binary-form-assessment__button.active,\n            .agent-").concat(n.app.id," .aivochat-component-form button,\n            .agent-").concat(n.app.id," .aivochat-header-zendesk *,\n            .agent-").concat(n.app.id," .aivochat-component.aivochat-component-buttons .controls-carousel a:last-child,\n            .agent-").concat(n.app.id," .aivochat-auxiliary.aivochat-auxiliary-expanded .aivochat-auxiliary-content ul li a {\n              color: #333333 !important;\n            }\n            .agent-").concat(n.app.id," .aivochat-component-buttons .custom-color {\n              background: ").concat(n.chatWindow.colors[0]," !important;\n              color: #333333 !important;\n            }\n            .agent-").concat(n.app.id," .aivochat-component-buttons .custom-color:hover,\n            .agent-").concat(n.app.id," .aivochat-component-buttons .custom-color:focus {\n              background: ").concat((0,p.hexToRgbA)(n.chatWindow.colors[0],"0.8")," !important;\n            }\n            .agent-").concat(n.app.id," .aivochat-component-buttons .aivochat-component-controls .custom-color,\n            .agent-").concat(n.app.id," .interactive-list-main-container .interactive-list-send button {\n              border: 1px solid #e3e3e3 !important;\n            }\n            .agent-").concat(n.app.id," .aivochat-header-maximize img {\n              filter: invert(15%)!important;\n            }\n            body.agent-").concat(n.app.id," #").concat(d.KEY__APP_CONTAINER," .aivochat-launcher.custom-background {\n              border-color: #333333 !important;\n            }\n            .agent-").concat(n.app.id," .feedback-nps-form-assessment__point.active,\n            .agent-").concat(n.app.id," .feedback-stars-form-assessment__point.active,\n            .agent-").concat(n.app.id," .feedback-csat-form-assessment__point.active {\n              background-color: #333333 !important;\n              color: #FFFFFF !important;\n              border-color:#333333 !important;\n            }\n            .agent-").concat(n.app.id," .feedback-binary-form-buttons__submit,\n            .agent-").concat(n.app.id," .feedback-stars-form-buttons__submit,\n            .agent-").concat(n.app.id," .feedback-nps-form-buttons__submit,\n            .agent-").concat(n.app.id," .feedback-csat-form-buttons__submit {\n              border: 1px solid #e3e3e3 !important;\n            }\n            .agent-").concat(n.app.id," .custom-background-rgba,\n            .agent-").concat(n.app.id," .custom-background-hover-rgba:hover {\n              background-color: ").concat((0,p.hexToRgbA)(n.chatWindow.colors[0],"0.8")," !important;\n              border-radius: 0 12px 12px 12px !important;\n            }")})),n.chatWindow.header.avatar.enabled&&a()[0].appendChild(o("style",{nonce:d.KEY__NONCE,media:"screen",id:"".concat(d.KEY__APP_CONTAINER,"_style_feedback"),innerHTML:"\n          .agent-".concat(n.app.id," .feedback-binary__title,\n          .agent-").concat(n.app.id," .feedback-stars__title,\n          .agent-").concat(n.app.id," .feedback-csat__title{\n            margin-top: 16px !important;\n            margin-bottom: 24px !important;\n          }\n          .agent-").concat(n.app.id," .feedback-binary-form-assessment,\n          .agent-").concat(n.app.id," .feedback-stars-form-assessment,\n          .agent-").concat(n.app.id," .feedback-csat-form-assessment{\n            margin: 24px 0 !important;\n          }\n          .agent-").concat(n.app.id,"  .feedback-nps-form__textarea {\n            height: 15px !important;\n          }\n          .agent-").concat(n.app.id,"  .feedback-nps_subtitle {\n            margin: 8px 0 12px !important;\n          }\n          .agent-").concat(n.app.id," .feedback-nps__title,\n          .agent-").concat(n.app.id," .feedback-nps-form-assessment{\n            margin: 16px 0!important;\n          }\n          .agent-").concat(n.app.id," .feedback-binary-form-buttons,\n          .agent-").concat(n.app.id," .feedback-stars-form-buttons,\n          .agent-").concat(n.app.id," .feedback-nps-form-buttons,\n          .agent-").concat(n.app.id," .feedback-csat-form-buttons{\n            margin-top: 20px !important;\n          }")}))}}e.addCustomStyles=W;function V(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return function(t,e){var n=e(),o=S(S({},n.agentConfig),w.default.applicationConfig);setTimeout(500),a&&(o.chatWindow=S(S({},o.chatWindow),a),(0,x.isVideoChatChannel)()?t(K(S(S({},a),{},{videoChat:S(S({},a.videoChat),{},{enabled:!0})}))):t(K(a)),n.agentConfig.chatWindow.colors[0]!==a.colors[0]&&t(W()));e={id:"system",agentId:"system",name:(a&&a.app&&a.app.name?a:o.chatWindow.app&&o.chatWindow.app.name?o.chatWindow:o).app.name,picture:(a&&a.app&&a.app.picture?a:o.chatWindow.app&&o.chatWindow.app.picture?o.chatWindow:o).app.picture||"".concat(h.Mq9dNm9,"/app-user.png"),background:!o.app.picture&&(!o.chatWindow.app||!o.chatWindow.app.picture)||o.chatWindow.app&&-1<o.chatWindow.app.picture.indexOf("/assets/app-user.png"),type:2};w.default.getAppUser()||t(M(e)),o.chatWindow.app&&t(R(e)),w.default.getUser(o.user.id)||(e=(n.agentUsers||[]).length,o.chatWindow.initForm&&o.chatWindow.initForm.enabled&&o._windowUserRegistered&&e<2&&(t(H()),(0,u.capture)("StoreError: users not found",n.agentUsers,"info")),n={id:o.user.id,name:null,picture:null,type:1},t(M(n))),t(D()),t(q()),setTimeout(function(){t(L({_windowInitializing:!1}))},1e3),o._windowError&&(console.warn("The application has been reset to the init state because had an error"),setTimeout(function(){(0,u.capture)("windowError info:",o)},3e3))}}e.initConfig=V;var H=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return function(t,e){var n=e().agentConfig,o=n.user.id?w.default.getUser(n.user.id):null,e=n._windowGDPR,n=n.__windowPosition;t(T()),t(j()),t(U()),o&&(t(L({user:S({},o),_windowInitializing:!0,_windowGDPR:e,__windowPosition:n})),t(M(o))),t(V(a)),g.getSessionMessages&&(0,g.getSessionMessages)(t)}};e.resetConfig=H;var q=function(){return function(t,e){e=e().agentConfig;(0,y.hasSession)(e)||t(L({_windowSession:(0,y.getSession)(e)}))}};e.startSession=q;e.newSession=function(a){return function(n,o){n(L({_windowSession:void 0})),(0,l.removeItem)("_agentPublicIP"),setTimeout(function(){var t=o().agentConfig,e=t.chatWindow.defaultComplements;n(F({_windowSession:(0,y.getSession)(),_windowConnected:(0,y.getDefaultProduct)(t),_iqRoom:void 0,_iqAttended:void 0,_iqSubscribed:void 0,_iqTransferring:void 0,_windowLoading:void 0,_windowBlocked:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).some(}(e)})),a&&(0,E.isMercantilSegurosClient)(t.app.id)||n(G())},1)}};var G=function(o){return function(e,t){var t=t().agentConfig,n=w.default.getAppUser(),t=t.chatWindow.defaultComplements;t&&t.length&&t.forEach(function(t){return e(O(t.message,n,t.type,t.params,void 0,o))})}};e.addDefaultComplements=G;.closeConversation=Z;e.displayVideoChatBtnIos=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return{type:"INIT-VIDEO-CHAT-IOS",config:{__videoChatInitializedInIos:!t,__showVideoChatBtnIos:t}}};function $(o){var a=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(t,e){var n=e().agentConfig,e=n.chatWindow.header.avatar;o===e.video._active&&a===e.video._loop||(e.video._active=o,e.video._loop=a,t(L(S({},n))))}}e.putFeeling=$;e.playFeeling=function(o){return function(t){var e=w.default.searchInsideShadowRoot,n=e("#aivochat-video-Waiting"),e=e("#aivochat-video-".concat(o));n.length&&e.length&&(n[0].loop=!1,t($(o,!0)),e[0].playbackRate=1,n[0].playbackRate=1,e[0].play(),n[0].pause(),n[0].loop=!0,n[0].currentTime=0)}};e.openWindow=function(){var c=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return function(t,e){var n=e().agentConfig,o=n.__launcherHidden,a=w.default.searchInsideShadowRoot,i=n.chatWindow,e=i.launcher,i=i.videoChat,r="right"===(e.position||"right_bottom").split("_")[0]?"right":"left";setTimeout(function(){var t=a(v.SELECTOR__MESSAGE_INPUT);m.DEVICE__MOBILE||t&&t[0]&&t[0].focus()},300),t(L({__windowAnimation:!n._windowOpenMinimized,_windowOpened:!0,_windowSticky:c})),o&&(a(".".concat(d.KEY__LAUNCHER))[0].style.display="none"),setTimeout(1),!(0,y.getMessages)().length&&g.getSessionMessages&&(0,g.getSessionMessages)(t),window[d.KEY__SDK]._onOpenWindow&&window[d.KEY__SDK]._onOpenWindow(),null!=i&&i.enabled&&t(L({__windowOpenedVideoChat:!0}))}};e.maximizeWindow=function(c){return function(t,e){var n=e().agentConfig,o=w.default.searchInsideShadowRoot,a=o(".".concat(d.KEY__CONTAINER))[0],i=0!==o(".".concat(d.KEY__AUXILIARY)).length,e=n._windowAuxiliaryOpened,o=!(null==a||!a.classList)&&-1!==Array.from(a.classList).indexOf("maximize-open"),r=n.chatWindow.header.avatar.enabled;o?(a.removeAttribute("style"),t(L({_windowMaximizeOpen:!!c,_windowAuxiliaryOpened:!c})),setTimeout(1)):((0,b.setEventAnalytics)(n.user.id,n.app.id,window.navigator.userAgent,[{action:"event_type",param:"open_maximize"},{action:"event",param:"open_maximize"}]),window[d.KEY__SDK]._onOpenMaximize&&window[d.KEY__SDK]._onOpenMaximize(),i&&e?(t(L({_windowAuxiliaryOpened:!1})),"faqs"!==n.chatWindow.auxiliary.type&&t(B()),setTimeout(1e3)):t(L({_windowMaximizeOpen:!0})))}};function J(a){return function(t,e){var n=e().agentConfig,e=n.__launcherHidden,o=w.default.searchInsideShadowRoot;setTimeout(function(){(0,p.removeClassMobileFix)()},200),n._windowOpened&&t(L({__windowAnimation:!0})),window[d.KEY__SDK]._onMinimizeWindow&&window[d.KEY__SDK]._onMinimizeWindow(),e&&setTimeout(function(){t(L({__launcherHidden:!1})),o(".".concat(d.KEY__LAUNCHER))[0].style.display=""},200),setTimeout(function(){t(L({_windowOpened:!1,_windowOpenMinimized:a}))})}}e.minimizeWindow=J;e.stickWindow=function(){var t=w.default.searchInsideShadowRoot,e=w.default.getConfig()._isZendeskDerivation,t=t(".aivochat-input textarea")[0],e=_.default.getLocalStorage("derivateZendesk")||e;return window[d.KEY__SDK]._onMinimizeWindow&&window[d.KEY__SDK]._onMinimizeWindow(),m.DEVICE__IOS&&!e&&t.blur(),function(t){setTimeout(function(){(0,p.removeClassMobileFix)()},200),setTimeout(function(){t(L({_windowSticky:!0,__launcherHidden:!1,__windowAnimation:!0}))})}};e.closeWindow=function(){return function(t,e){var n=e().agentConfig,o=n.chatWindow.launcher,a=n._showSurvey,i=1<=w.default.searchInsideShadowRoot(f.SELECTOR__WINDOW_EMBEDDED).length,e=(0,w.default.searchInsideShadowRoot)(".aivochat-container")[0],o="right"===(o.position||"right_bottom").split("_")[0]?"right":"left";t(L({__windowAnimation:!!n._windowOpened,__windowAlert:!1,_userInteraction:!1,_userInteractionFeedback:!1})),(!n._showFeedback||a&&i&&n._userInteractionFeedback)&&(t(J()),t(Z(t)),t=[{action:"event_id",param:n.app.id},{action:"event_type",param:"close-chat"},{action:"label_event",param:"confirm"}],(0,b.setEventAnalytics)(n.user.id,n.app.id,window.navigator.userAgent,t),_.default.removeLocalStorage("roomsSIDs"),console.log("remove roomsSID from localstorage"),_.default.removeLocalStorage("agentFeedback"),(0,l.removeItem)("agentFeedback"),(e.style.inset="",s.fixAxis)(o),setTimeout(200),window[d.KEY__SDK]._onCloseWindow&&window[d.KEY__SDK]._onCloseWindow())}};e.toggleSwitchAssitant=function(){return function(t,e){var e=e().agentConfig.chatWindow,n=null==e||null===(n=e.videoChat)||void 0===n?void 0:n.enabled;t(L({chatWindow:S(S({},e),{},{videoChat:S(S({},e.videoChat),{},{enabled:!n})})}))}};e.switchBetweenVideoAndTraditional=function(n){return function(t,e){e=e().agentConfig.chatWindow;t(z({chatWindow:S(S({},e),{},{videoChat:S(S({},e.videoChat),{},{enabled:n})})}))}};e.closeToSurveyThunk=function(){return function(t,e){var n;(0,x.isVideoChatChannel)()||(n=(0,l.getItem)("agentFeedback"),(0,l.setItem)("agentFeedback",S(S({},n),{},{agentFeedbackPoints:void 0,show:"true"})),t(Y({_showSurvey:!0,__windowAlert:!1})))}}},function(t,e,n){var i=n(31);t.exports=function(o,a,t){if(i(o),void 0===a)return o;switch(t){case 1:return function(t){return o.call(a,t)};case 2:return function(t,e){return o.call(a,t,e)};case 3:return function(t,e,n){return o.call(a,t,e,n)}}return function(){return o.apply(a,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(452);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(445);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},function(t,e,n){var a=n(6);t.exports=function(t,e){if(!a(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!a(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!a(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!a(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=n(454)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(441);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(413);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},n t}},function(t,e,n){var o;t.exports=(o=n(2),function(){var s=o.lib.WordArray;o.enc.Base64={stri("")},parse:function(t){var e=t.length,n=this._map;if(!(o=this._reverseMap))for(var o=this._reverseMap=[],a=0;a<n.length;a++)o[n.charCodeAt(a)]=a;var i=n.charAt(64);return!i||-1!==(i=t.indexOf(i))&&(e=i),function(t,e,n){for(var o=[],a=0,i=0;i<e;i++){var r,c;i%4&&(r=n[t.charCodeAt(i-1)]<<i%4*2,c=n[t.charCodeAt(i)]>>>6-i%4*2,o[a>>>2]|=(r|c)<<24-a%4*8,a++)}return s.create(o,a)}(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),o.enc.Base64)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(199);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}e=!0},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n=o(n(443)).default;e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SELECTOR__WINDOW_EMBEDDED=e.SELECTOR__AUXILIARY=e.SELECTOR__WRITING=e.SELECTOR__MESSAGES_GROUP=e.SELECTOR__MESSAGES=e.SELECTOR__MESSAGE_INPUT=e.SELECTOR__MESSAGE=e.SELECTOR__LAUNCHER_MOBILE=e.SELECTOR__LAUNCHER=e.SELECTOR__HEADER_VIDEO_FIX=e.SELECTOR__HEADER_TITLE=e.SELECTOR__HEADER=e.SELECTOR__CONTAINER=void 0;var o=n(11),n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__CONTAINER);e.SELECTOR__CONTAINER=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__HEADER);e.SELECTOR__HEADER=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__HEADER," .").concat(o.KEY__HEADER_TITLE);e.SELECTOR__HEADER_TITLE=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__HEADER," .").concat(o.KEY__HEADER_AVATAR_VIDEO_FIX);e.SELECTOR__HEADER_VIDEO_FIX=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__LAUNCHER);e.SELECTOR__LAUNCHER=n;n="#".concat(o.KEY__APP_CONTAINER," #").concat(o.KEY__LAUNCHER_MOBILE);e.SELECTOR__LAUNCHER_MOBILE=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__MESSAGE);e.SELECTOR__MESSAGE=n;n="#".concat(o.KEY__COMPONENT_ADD_MESSAGE," .").concat(o.KEY__MESSAGE_INPUT," textarea");e.SELECTOR__MESSAGE_INPUT=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__MESSAGES);e.SELECTOR__MESSAGES=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__MESSAGES_GROUP);e.SELECTOR__MESSAGES_GROUP=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__MESSAGE,".").concat(o.KEY__MESSAGE_WRITING);e.SELECTOR__WRITING=n;n="#".concat(o.KEY__APP_CONTAINER," .").concat(o.KEY__AUXILIARY);e.SELECTOR__AUXILIARY=n;o=".".concat(o.KEY__APP_CONTENT," .").concat(o.KEY__WINDOW_EMBEDDED);e.SELECTOR__WINDOW_EMBEDD(n)}},function(t,e,n){t.exports=n(e=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEVICE__MOBILE=e.DEVICE__VISUAL_VIEWPORT_SUPPORTED=e.DEVICE__IE11=e.DEVICE__IE10=e.DEVICE__IOS_VERSION_OVER_15=e.DEVICE__EDGE=e.DEVICE__IOS=void 0;var o=!!window.navigator.userAgent&&/iPad|iPhone|iPod/.test(window.navigator.userAgent);e.DEVICE__IOS=o;o=navigator.userAgent.match(/Edge\//);e.DEVICE__EDGE=o;o=-1<window.navigator.userAgent.indexOf("CPU iPhone OS 15")&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)?38:0;e.DEVICE__IOS_VERSION_OVER_15=o;o=navigator.userAgent.match(/MSIE ([0-9]+)\./)&&10===parseInt(RegExp.$1);e.DEVICE__IE10=o;o="Netscape"===navigator.appName&&navigator.userAgent.match(/Trident/)&&navigator.userAgent.match(/rv:([0-9]+)\./)&&11===parseInt(RegExp.$1);e.DEVICE__IE11=o;o=void 0!==window.visualViewport;e.DEVICE__VISUAL_VIEWPORT_SUPPORTED=o;var a,i,o=(i=!1,a=navigator.userAgent||navigator.vendor||window.opera,i=!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))||i);e.DEVICE__MOBIEW:c}},function(t,e,n){var o;t.exports=(o=n(2),function(){var t=o,e=t.lib,a=e.Base,i=e.WordArray,t=t.x64={};t.Word=a.extendlow=e}}),t.WordArray=a.extendength}ytes)}urn t}})}le=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(471);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},function(t,e,n){"use strict";var o=n(1),i=n(17),r=n(11),a=o(n(14)),c=!1,s=a.default.searchInsideShadowRoot,p={isForcedLoading:function(){var t=a.default.getConfig();return Boolean(t._iqTransferring)},isLading},scrollToMessage:function(){var t=a.default.getConfig(),t=null==t?void 0:t.app.id,t=".agent-".concat(t," .").concat(r.KEY__MESSAGES),t=s(t)[0];!t||(t=t.querySelector(".".concat(r.KEY__MESSAGES_GROUP,":nth-last-child(2)")))&&t.scrollIntoView({behavior:"smooth"})},goToBottom:function(){setTage()},1)},dragWindow:function(t){window.addEventListener(r.KEY__EVENT_MOUSE_UP,p.stopDragging),window.addEventListener(r.KEY__EVENT_RESIZE,p.fixAxis(t))},startDragging:function(t){var e=s(".".concat(r.KEY__CONTAINER))[0],n=s(".aivochat-auxiliary-toggle")[0];if(e.classList.contains(r.KEY__STATIC_POSITION))return!0;var o=p,a=(0,i.getWindowSize)();c=!0,s(".aivochat-container")[0].addEventListener(r.KEY__EVENT_MOUSE_MOVE,o.moveWindow);o=parseFloat(getComputedStyle(e,null).width.replace("px","")),o=(0,i.isVisible)(n)?o+getComputedStyle(n,null).width:o,n="auto"===getComputedStyle(e).top?a.height-parseInt(getComputedStyle(e,null).width)-25:parseInt(getComputedStyle(e).top),a="auto"===getComputedStyle(e).left?a.width-o:parseInt(getComputedStyle(e).left);e.position={x:parseInt(a),y:parseInt(n),offsetY:t.clientY-parseInt(n),offsetX:t.pageX-parseInt(a),width:o,height:parseInt(getComputedStyle(e,null).height.replace("px",""))},e.classList.add(r.KEY__NOT_SELECTABLE)},moveWindow:function(t){var e=(0,i.getWindowSize)(),n=s(".".concat(r.KEY__CONTAINER))[0],o=n.position,a={y:t.clientY-o.offsetY,x:t.clientX-o.offsetX},t=o.width+a.x,o=o.height+a.y;0<=a.x&&t<=e.width&&(n.style.left="".concat(a.x,"px"),n.style.right="auto"),0<=a.y&&o<=e.height&&(n.style.top="".concat(a.y,"px"),n.bottom="auto")},stopDragging:function(){!0===c&&(s(".aivochat-container")[0].removeEventListener(r.KEY__EVENT_MOUSE_MOVE,p.moveWindow),s(".".concat(r.KEY__CONTAINER))[0].classList.remove(r.KEY__NOT_SELECTABLE),c=!1)},fixAxis:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"right",e=s(".".concat(r.KEY__CONTAINER))[0],n=s(".".concat(r.KEY__AUXILIARY))[0],o=(0,i.getWindowSize)();e&&(n||(n=n&&n.classList.contains("aivochat-auxiliary-expanded")?parseFloat(getComputedStyle(e,null).width.replace("px",""))+parseFloat(getComputedStyle(n,null).width.replace("px",""))+10:parseFloat(getComputedStyle(e,null).width.replace("px",""))+10,("auto"===getComputedStyle(e).left||parseInt(getComputedStyle(e).left)+n>o.width||parseInt(getComputedStyle(e).left)<0)&&(n=o.width-n,"right"===t?(e.style.left="".concat(n,"px"),e.style.right="auto"):"left"===t&&(e.style.right="".concat(n,"px"),e.style.left="auto")),("auto"===getComputedStyle(e).top||parseInt(getComputedStyle(e).top)+getComputedStyle(e).height+25>getComputedStyle(e).height||parseInt(getComputedStyle(e).top)<0)&&(o=o.height-parseFloat(getComputedStyle(e,null).height.replace("px",""))-25,e.style.top="".concat(o,"px"),e.style.bottom="auto")))}};t.exports=p},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n=o(n(482)).default;e.default=n},function(t,e,n){"use strict";var r=n(28);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"firebaseConn",{enumerable:!0,get:function(){return o.firebaseConn}});var o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((i=a?Object.getOwnPropertyDescriptor(t,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=t[n])}o.default=t,e&&e.set(t,o);return o}(n(484));function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(486);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(476);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},function(t,e,n){var o=n(6),a=n(3).document,i=o(a)&&o(a.createElement);t.exports=function(t){return i?a.createElement(te(this._oKey.clone().concat(t))}})}())},function(b,t,y){!function(t){var r=y(189),n="undefined"!=typeof window?window:void 0elf:{};function a(t){return void 0===t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function s(t){return"[object Strinon!==o.f"[Function: "+t.naon(t){reurn!0;default:return t instanceof Error}},isErrorEvent:function(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},isDOMError:function(t){return"[object DOMError]"===Object.pon]"===Object.prototype.toString.call(t)},isUndefined:a,isFunction:function(t){return"function"==typeof t},isPlainObif(t.hasOwnProperty(e))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(t){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0w DOMException(""),!0}catch(t){return!1rPolicy:"origin"}),!0}catch(t)"function"==typenction(t,e){return ){return t&&o(t,functionurn!!Object.isFrozen&&Object.isF"="+encodeURIComponent(e))}),n.join("&")},uuid4:function(){var t=n.crypto||n.msCrypto;if(a(t)||!t.getRandomValues)return"xxxxxxxx)|0;return("x"===t?e:3&e|8).toString(16)});var e=new Uint16Array(8);return t.getRandomValues(e),e[3]oString(16);e.length<4;)e="0"+e;return e})(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+arentNode;return n.reverse().join(" > ")},htmlElementAsString:h,isSameException:function(t,e){return!(!!t^!!e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&(n=t.stacktrace,o=e.stacktrace,(!a(n)||!a(o))&&d(t.stacktrace,e.stacktrac],host:e[4],path:e[5],relative:e[5]+n+t}},fill:function(t,e,n,o){var a;null!=t&&(a=t[e],t[e]=n(a),t[e].__raven__=!0,t[e]cannot be serialize):g(o)}(e,n);return m(r(a))>o?t(e,n-1):a},serializeKeysForMessage:function(t,e){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Arrter(function(t){return"string"==typeof t})).length)return"[object has no keys]";if(t[0].length>=(e="number"!=typeof e?40:e))return t[0];for(var n=t.length;0<n;n--){var o=t.slice(0,n).join(", ");if(!(o.length>e))return n===t.length?o:o+"…"}return""},sanitize:function(e,t){if(!p(t)||p(t)&&0===t.length)return e;var n,a=u(t),i="********";try{n=JSON.parse(r(e))}catch(t){return e}return function n(o){retu,e){return a.test(e)?t[e]=i:t[e]=n(o[e]),t},{}):o}(n)}}}.call(this,y(43))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(480);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){retureturn ('+t+").constructor;")()}catch(t){}}var d=SyntaxError,a=Function,f=TypeError,v=Object.getOwnPropertyDcGenerrguments,"callee").get}catch(t){return i}}}():i,c=n(491)(),s=Object.getPrototypeOf||function(t){return t.__proto__},g={},p="undefined"==typeof Uint8Array?l:s(Uint8Array),b={"%AggregateError%":"undefined"==typeof AggregateError?l:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?l:ArrayBuffer,"%ArrayIteratorPrototype%":c?s([][Symbol.iterator]()):l,"%AsyncFromSyncIteratorPrototype%":l,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":"undefined"==typeof Atomics?l:Atomics,"%BigInt%":"undefined"==typeof BigInt?l:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?l:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?l:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?l:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?l:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":g,"%Int8Array%":"undefined"==typeof Int8Array?l:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?l:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?l:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?s(s([][Symbol.iterator]())):l,"%JSON%":"object"==typeof JSON?JSON:l,"%Map%":"undefined"==typeof Map?l:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?s((new Map)[Symbol.iterator]()):l,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?l:Promise,"%Proxy%":"undefined"==typeof Proxy?l:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?l:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?l:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?s((new Set)[Symbol.iterator]()):l,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?l:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?s(""[Symbol.iterator]()):l,"%Symbol%":c?Symbol:l,"%SyntaxError%":d,"%ThrowTypeError%":r,"%TypedArray%":p,"%TypeError%":f,"%Uint8Array%":"undefined"==typeof Uint8Array?l:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?l:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?l:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?l:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?l:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?l:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?l:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},l=n(136),w=n(494),_=l.call(Function.call,Array.prototype.concat),x=l.call(Function.apply,Array.prototype.splice),E=l.call(Function.call,String.prototype.replace),k=l.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[:t){return String(t)}},RFC1738:i,RFC3986:r}},function(t,e,n){"use strict";t.exports=n(404)},function(t,e,n){"use strict";n.r(e),n.d(e,"createStore",function(){return w}),n.d(e,"combineReducers",function(){return _}),n.d(e,"bindActionCreators",function(){return E}),n.d(e,"applyMiddleware",function(){return O}),n.d(e,"compose",function(){return k});var o=n(203),e="object"==typeof self&&self&&self.Object===Object&&self,o=(o.a||e||Function("return this")()).Symbol,e=Object.prototype,i=e.hasOwnProperty,call(t);return o&&(e?t[c]=n:delete t[c]),a},s=Object.prototype.toString;var p=function(t){retur"[objeon(e,n){return function(t){return e(tion(t){return null!=t&&"object"==typeof t},e=Function.prototype,o=Object.prototype,f=e.toStrinonstructor)&&t instanceof t&&f.careturn t[b.a]=function(){return this},t},e}function _(t){for(var e=Object.keys(t),l={},n=0;n<e.length;n++){var o=e[n];0,"function"==typeof t[o]&&(l[o]=t[o])}var u=Object.keys(l);vae may not be undefined, but can be null.')})}catch(t){h=t}return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(h)throw h;for(var n=!1,o={},a=0;a<u.length;a++){var i=u[a],r=l[i],c=t[i],s=r(c,e);if(void 0===s){var p=(p=i,"Given action "+((r=(r=e)&&r.type)&&'"'+r.toString()+'"'||"an action")+', reducer "'+p+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');throw n){return t(e.apply(void 0,arguments))}})}var S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};function O(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return function(i){return function(t,e,n){var e=i(t,e,n),o=e.dispatch,n=[],a={getState:e.getStateurn o(t)}},n=r.map(function(t){return t(a)}),o=k.apply(void 0,n)(.default=t.exports,t.exports.prototype),o(t.prototype.constructor=t,e)}n.r(e),n.d(e,"Provider",function(){return c}),n.d(e,"createProvider",function(){return r}),n.d(e,"connectAdvanced",function(){return l}),n.d(e,"connect",function(){return q});var b=n(23),a=n.n(b),e=n(19),i=n.n(e),y=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),w=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});a.a.forwardRef;function r(o){var t,a=(o=void 0===o?"store":o)+"Subscriptcall(this,t,e)||this;ret){var t={eturn b.Children.only(this.props.children)},e}(b.Component);return e.propTypes={store:w.isRequired,children:i.a.element.isRequired},e.childContextTypes=((i],0<=e.indexOf(n)||(o[n]=t[n]);return o}var e=n(201),k=n.n(e),e=n(96),S=n.n(e),O=n(138),s=nue=n,this.unsubscribe=null,this.listenertrySubscribe(),thistedSubs=functiounction(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){var n,o;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStsteners(){for(var t=n=o,e=0;e<t.length;e++===n?n.slice():o).spll,this.listeners.clear(),this.listeners=p)},t}(),T=void 0!==a.a.forwardRef,A=0,I={};function P(){}function l(r,t){var e=t=void 0===t?{}:t,t=e.getDisplayName,o=void 0===t?function(t){return"ConnectAdvanced("+t+")"}:t,t=e.methodName,c=void 0===t?"connectAdvanced":t,t=e.renderCountProp,s=void 0===t?void 0:t,t=e.shouldHandleStateChanges,p=void 0===t||t,t=e.storeKey,l=void 0===t?"store":t,t=e.withRef,u=void 0!==t&&t,h=E(e,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),d=l+"Subscription",f=A++,v=((e={})[l]=w,e[d]=y,e),m=((e={})[d]=y,e);return function(n){S()(Object(O.isValidElementType)(n),"You must pass a component to the function returned by "+c+". Instead received "+JSON.stringify(n));var t=n.displayName||n.name||"Component",a=o(t),i=x({},h,{getDisplayName:o,methodName:c,renderCountProp:s,shouldHandleStateChanges:p,storeKey:l,withRef:u,displayName:a,wrappedComponentName:t,WrappedComponent:n}),t=function(o){function t(t,e){var n=o.call(this,t,e)||this;return n.version=f,n.state={},n.renderCount=0,n.store=t[l]||e[l],n.propsMode=Boolean(t[l]),n.setWrappedInstance=n.setWrappedInstance.bind(_(_(n))),S()(n.store,'Could not find "'+l+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+l+'" as a prop to "'+a+'".'),n.initSelector(),n.initSubscription(),n}g(t,o)tion,e={};return e[dshouldComponentUpdate&&this.eiveProps=function(t){threturn this.selector.shn=P,this.selector.shof the "+c+"() call."),this.wrappedInstance},e.setWrappedInstance=functio.error=t}}}),this.s.notifyNestedSub,this.setState(I)):this.notifyNestedSubntDidUpdate=voiription)&&this.subscription.isSubscribed()},e.addExtraProps=function(t){if(!(u||s||this.propsMode&&this.subscription))return t;t=x({},t);return u&&(t.ref=this.setWrappedInstance),s&&(t[s]=this.renderCount++),this.propsMode&&this.subscriateElement)(n,this.addExtraProps(t.props))},t}(b.Component);return T&&(t.prototype.UNSAFE_componentWillReceiveProps=t.prototype.componentWillReceiveProps,delete t.prototype.componentWillReceiveProps),t.WrappedComponent=n,t.displayName=a,t.childContextTypes=m,t.contextTypes=v,t.propTypes=v,k()(])||!h(t[n[o}}oame+".")}}function F(t,e){return t===e}var U,K,Y,B,W,V,H,q=(Y=void 0===(U=(K=void 0===U?{}:U).connectHOC)?l:U,B=void 0===(U=K.mapStateToPropsFactories)?[functiont){return t?void 0:v(function(){return{}})}]:U,W=Object(f.bindActionCreators)(e,t)}):void 0}]:U,V=void 0===(U=K.mergePropsFactories)?N:U,H=void 0===(K=K.selectorFactory)?L:K,function(t,e,n,o){var a=o=void 0===o?{}:o,i=a.pure,r=void 0===i||i,c=a.areStatesEqual,s=void 0===c?F:c,p=a.areOwnPropsEqual,o=void 0===p?d:p,i=a.areStatePropsEqual,c=void 0===i?d:i,p=a.areMergedPropsEqual,i=void 0===p?d:p,p=E(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),a=z(t,B,"mapStateToProps"),e=z(e,W,"mapDispatchToProps"),n=z(n,V,"mergeProps");returnlayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:a,initMapDispatchToProps:e,initMergeProps:n,pure:r,areStatesEqual:s,areOwnPropsEqual:o,areStat.call(n,r[c])&&(o[r[c]]=n[r[c]])}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(481);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enum,a(1))},e?"entries":"values",eturn f(t.a,function(t){return t[0]===e})}var c=n(66),s=n(42).getWeak,a=n(5),p=n(6),l=n(65),u=n(90),),f=i(5),v=i(6),mt:furn tar n=o(0]===e});return~t&&this.a.se?r(!0);return!0.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getPathname=e.aivoRemoveQueryParam=e.getQueryParams=e.hasQueryParams=e.addQueryParams=e.pressEscapeOrTab=e.pressEnterSpaceOrClick=e.unmountAgentCore=e.handleEvents=e.removeTags=e.getUrlParams=e.onLauncherLoad=e.speechToTextMessageGenerator=e.activeKeyboard=e.browserDetection=e.interactionWithUser=e.removeParamConversation=e.getKeyConversation=e.typeEvasion=e.hideArrowCarousel=e.updateArrowCarousel=e.keyExpired=e.hexToRgbA=e.calculateHeightEntryMessage=e.checkTokenForGA=e.isVisible=e.createElement=e.shadowDom=e.getHeightParentOrChild=e.outerHeight=e.getDomain=e.getShadowDOMMode=e.hasShadowDOM=e.checkViewPort=e.eachKey=e.maskingValues=e.replaceParams=e.urlToArray=e.arrayPop=e.removeClassMobileFix=e.addClassMobileFix=e.addCSSMobileFix=e.notify=e.getFaqsBtnPosition=e.getPositionClass=e.isSmallWindow=e.bringToFront=e.getWindowSize=e.uuid=e.randString=e.$jCore=void 0;var a=o(n(70)),d=n(80),f=n(11),i=n(15),r=o(n(54)),c=o(n(438)),s=n(27),p=n(144),l=n(186),u="undefined"!=typeof Audio?new Audio("".concat(i.Mq9dNm9,"/notify.mp3")):void 0,o=n(439);e.$jCore=o;function h(t){for(var e="";t>e.length;){var n=Math.random();e+=n<.1?Math.floor(100*n):String.fromCharCode(Math.floor(26*n)+97).toUpperCase()}return e}e.randString=h;e.uuid=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=h,t=t||n(8),n="".concat(t,"-").concat(n(4),"-").concat(n(4),"-").concat(n(4),"-").concat((new Date).getTime());return n=e?(0,r.default)(n).toString(c.default):n};function v(){var t={width:0,height:0};return void 0!==window.innerWidth?(t.width=window.innerWidth,t.height=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight):(t.width=document.getElementsByTagName("body")[0].clientWidth,t.height=document.getElementsByTagName("body")[0].clientHeight),t}e.getWindowSize=v;e.bringToFront=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"2147483647";return y(t)[0].style.zIndex=e};function m(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:v().width,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:v().height;return t<=700||e<475}e.isSmallWindow=m;e.getPositionClason(t){return"aivochat-position-".concat(t)}).join(" ")};e.getFaqsBtnPosition=function(t){return"right"===t.split("_")[0]?"left":"right"},e.notify={play:function(){var t;u&&u.play&&((t=u.play())&&t.catch(function(){}))}};e.addCSSMobileFix=function(){d.DEVICE__MOBILE&&m()&&0===y("style#aivochat-iphone").length&&document.querySelector("head").appendChild(w("style",{nonce:f.KEY__NONCE,id:"aivochat-iphone",innerHTML:".aivochat-iphone {position:absolute !important;overflow:hidden !important;width:100% !important;height:100% !important;}"}))};e.addClassMobileFix=function(){d.DEVICE__IOS&&(document.querySelector("body").classList.add("aivochat-iphone"),document.querySelector("html").classList.add("aivochat-iphone"))};e.removeClassMobileFix=function(){d.DEVICE__IOS&&(document.querySelector("body").classList.remove("aivochat-iphone"),document.querySelector("html").classList.remove("aivochat-iphone"))};e.arrayPop=function(t,e){return t.length?t.slice(Math.max(t.length-+e,0)):t};function g(t){var e={},n=t.substring(t.indexOf("?")+1).split("&");if(!(1===n.length&&n[0].indexOf("=")<0)){for(var o,a=0;a<n.length;a++)n[a]&&(e[(o=n[a].split("="))[0]]=o[1]);return e}}e.urlToArray=g;e.replaceParams=function(t,e,n){var o,a,i,r,c=g(t);if(c){for(var s in c)c.hasOwnProperty(s)&&("conversation"===(a=(o=c[s].replace(/{*}*/g,"")).split(":"))[0]&&(i=c[s],r=null,0<a.length&&(r="all"===a[1]?null:parseInt(a[1])),t=t.replace(i,encodeURIComponent(JSON.stringify((0,l.messagesToString)(n,r))))),e&&e[o]&&(t=t.replace(new RegExp(c[s]),e[o])),e&&0===o.indexOf("user.")&&0<(a=o.split(".")).length&&""!==a[1]&&(t=t.replace(new RegExp(c[s]),e[a[1]])));t=t.replace(/{location}/g,document.location.href)}return t};e.maskingValues=function(o,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"*";return t&&t.length&&t.forEach(function(t){var n=new RegExp(t,"g"),t=o.match(n);t&&t.forEach(function(t){var e=new RegExp("(.)","gmi");t=t.replace(e,a),o=o.replace(n,t)})}),o};e.eachKey=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1;return n&&t.forEach(function(t){n(t,e[t])}),t};e.checkViewPort=function(){var t=document.querySelector("meta[name=viewport]"),e=t&&t.content;t&&e&&-1===e.indexOf("maximum-scale")&&t.setAttribute("content","".concat(e,", maximum-scale=1"))};e.hasShadowDOM=function(){return!i.MKbmYvg&&(!!document.head.createShadowRoot||!!document.head.attachShadow)&&document.getElementById(f.KEY__APP_CONTAINER)&&document.getElementById(f.KEY__APP_rn"productio 01 Jan 1970 00:00:01 GMT;domain="+e+";",e};e.outerHeight=function(t,e){var n=(t[0]||t).offsetHeight,o=0;return e&&(t=getComputedStyle(t[0]||t),o=parseInt(t.marginTop)+parseInt(t.marginBottom)),n+o};e.getHeightParentOrChild=function(t){var e=t.offsetHeight||0;return e=0===e&&t.children[0]?0!==t.children[0].offsetHeight?t.children[0].offsetHeight:t.children[0].children[0]?t.children[0].children[0].offsetHeight:0:e};var b={setShadowRoot:function(t){b.__shadowRoot=t}};e.shadowDom=b;var y=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=b.__shadowRoot||null;if(!e)return Array.prototype.slice.call(document.querySelectorAll("#".concat(f.KEY__APP_CONTAINER)));if(!t)return Array.prototype.slice.call(new Array(e));t=(e.querySelectorAll(t).length?e:window.document).querySelectorAll(t);return Array.prototype.slice.call(t)},w=function(t,e){if(!t)throw new Error("Element type not found");var n,o=document.createElement(t);for(n in e)o[n]=e[n];return e.nonce&&o.setAttribute("nonce",e.nonce),o};e.createElement=w;e.isVisible=function(t){if(!t)return!1;if(!(t instanceof Element))throw Error("DomUtil: elem is not an element.");var e=getComputedStyle(t);if("none"===e.display)return!1;if("visible"!==e.visibility)return!1;if(e.opacity<.1)return!1;if(t.offsetWidth+t.offsetHeight+t.getBoundingClientRect().height+t.getBoundingClientRect().width===0)return!1;e={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2};if(e.x<0)return!1;if(e.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(e.y<0)return!1;if(e.y>(document.documentElement.clientHeight||window.innerHeight))return!1;var n=document.elementFromPoint(e.x,e.y);do{if(n===t)return!0}while(n===n.parentNode);return!1};e.checkTokenForGA=function(e){return["5784fa3093fea39e1499b7682d106c06","1a25b16928328a0a4b3268ccbca7f9367d2586ccc"].some(function(t){return e===t})};e.calculateHeightEntryMessage=function(t,e,n,o){var a=y(".aivochat-input textarea")[0],i=y(".aivochat-messages")[0],r=y(".aivochat-input-button-container"),c=y(".aivochat-container")[0],s=y(".".concat(f.KEY__WINDOW_MAXIMIZE_OPEN))[0],p=c.offsetHeight,c=(null==t?void 0:t.length)<10?35:a&&a.scrollHeight,l=!e||d.DEVICE__MOBILE||s||n||o?0:100,u=n&&o?(null===(o=y(".twilio-remote-video")[0])||void 0===o?void 0:o.clientHeight)||180:0,h=44;if(t?r.map:r.map(function(t){t.style.display="block"}),c&&i)switch(!0){case 125<c:a.style.overflow="auto";break;case 100<c:a.style.height="".concat(h=94,"px"),i.style.height="".concat(p-l-u-h-66,"px"),a.style.overflow="hidden";break;case 80<c:h=74,a.style.height="70px",i.style.height="".concat(p-l-u-h-66,"px"),a.style.overflow="hidden";break;case 70<c:h=64,a.style.height="60px",i.style.height="".concat(p-l-u-h-66,"px"),a.style.overflow="hidden",a.style.paddingBottom="0px";break;case 50<c:h=44,a.style.height="40px",i.style.height="".concat(p-l-u-h-66,"px"),a.style.paddingBottom="0px",a.style.overflow="hidden";break;case 30<c:h=44,a.style.height="20px",i.style.height="".concat(p-l-u-h-66,"px"),a.style.overflow="hidden"}};e.hexToRgbA=function(t,e){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)){3===(t=t.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]);t="0x".concat(t.join(""));return"rgba(".concat([t>>16&255,t>>8&255,255&t].join(","),",").concat(e,")")}};e.keyExpired=function(t){var e=Date.now();return new Date(t).getTime()-e<0};e.updateArrowCarousel=function(){y(".carousel-slider .slide.selected .aivochat-component-carousel-image-wrapper").forEach(function(t,e){t=t.offsetHeight;y(".carousel-slider .control-prev")[e].style.top="".concat(t/2,"px"),y(".carousel-slider .control-next")[e].style.top="".concat(t/2,"px"),y(".carousel-slider .control-prev")[e].style.display="flex",y(".carousel-slider .control-next")[e].style.display="flex"})};e.hideArrowCarousel=function(){y(".carousel-slider .slide.selected .aivochat-component-carousel-image-wrapper").forEach(function(t,e){y(".carousel-slider .control-prev")[e].style.display="none",y(".carousel-slider .control-next")[e].style.display="none"})};e.typeEvasion=function(t){switch(String(t)){case"0":return"evasion";case"-1":return"disambiguate";case"-2":return"evasion garabage";default:return"intention"}};e.getKeyConversation=function(t){var e,n=t.indexOf("{conversation}")-1;if(0<n){for(var o=n;0<n;o--)if("?"===t[o]||"&"===t[o]){e=o+1;break}return t.substr(e,n-e)}return"conversation"};e.removeParamConversation=function(t){for(var e,n=t.indexOf("{conversation}"),o=n+15,a=n;0<=a;a--){if("?"===t[a]){e=a+1;break}if("&"===t[a]){e=a,o-=1;break}}return t.substr(0,e).concat("",t.substr(o,t.length))};e.interactionWithUser=function(t){var e=!1;return t.map(function(t){"system"!==t[0].user.id&&(e=!0)}),e};function _(){return 0<=navigator.userAgent.search("MSIE")?"IE":0<=navigator.userAgent.search("Chrome")?"Chrome":0<=navigator.userAgent.search("Firefox")?"Firefox":0<=navigator.userAgent.search("Safari")&&navigator.userAgent.search("Chrome")<0?"Safari":0<=navigator.userAgent.search("Opera")?"Opera":void 0}e.browserDetection=_;e.activeKeyboard=function(){var t=y(".".concat(f.KEY__CONTAINER))[0],e="Safari"===_();if(t&&e&&d.DEVICE__MOBILE&&d.DEVICE__VISUAL_VIEWPORT_SUPPORTED)return window.visualViewport.height===window.innerHeight?(t.style.height="".concat(window.visualViewport.height,"px"),!(t.style.maxHeight="100%")):(t.style.height="".concat(window.visualViewport.height,"px"),!0)};e.speechToTextMessageGenerator=function(n,o){var a="";return 0<n.length?n.map(function(t,e){a+=t.transcript,e===n.length-1&&o&&t.transcript!==o&&(a+=o)}):a=o,a};e.onLauncherLoad=function(t,e,n){var o=t+20;switch(n){case"right_bottom":case"center_bottom":case"left_bottom":case"right_top":case"center_top":case"left_top":3!=(t,e){return new URLSearchParams(t).get(e)};e.removeTags=function(t){return!!t&&(t=t.toString()).replace(/(<([^>]+)>)/gi,"")};e.handleEvents=function(t,e,n){switch(t){case"closeToSurvey":e((0,s.closeWindow)(!0));break;case"minimize":e((0,s.minimizeWindow)(void 0));break;case"close":e((0,s.closeWindow)());break;default:console.warn("Not allowed to execute that event")}};e.unmountAgentCore=function(){document.getElementById(f.KEY__APP_CONTAINER)&&(0,p.unmountComponentAtNode)(document.getElementById(f.KEY__APP_CONTAINER))};e.pressEnterSpaceOrClick=function(t){if("keydown"===t.type&&(13===t.keyCode||32===t.keyCode)||"click"===t.type)return!0};e.pressEscapeOrTab=function(t){if(27===t.keyCode||9===t.keyCode)return!0};e.addQueryParams=function(t,e){if(!e)return t;var n=],e=e[1];return n.searchParams.append(t,e)}),n.toString()};e.hasQueryParams=function(t){return!!t&&new URLSearchParams(windoearchParams(window.location.search).get(t)};e.aivoRemoveQueryParam=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];try{if(!Array.isArray(t)||!t.length)return;var e=window.location.href,n=new URLSearchParams(window.location.search);t.forEach(function(t){return n.delete(t)});var o=n.toString()?"?".concat(n.toString()):n.toString(),a="".concat(e.split("?")[0]).concat(o);window.history.replaceState(null,null,a)}catcha56=o._createHmacHelper(e)}(Math),r.SHA256)},function(t,e,n){var r;t.exports=(r=n(2),n(94),function(){var t=r,e=t.lib.Hasion i(){return o.create.apply(o,arguments)}var tt=[i(1116352408,3609767458),i(1899447441,602891725),i(3049323471,3964484399),i(3921009573,2173295548),i(961987163,4081628472),i(1508970993,3053834265),i(2453635748,2937671579),i(2870763221,3664609560),i(3624381080,2734883394),i(310598401,1164996542),i(607225278,1323610764),i(1426881987,3590304994),i(1925078388,4068182383),i(2162078206,991336113),i(2614888103,633803317),i(3248222580,3479774868),i(3835390401,2666613458),i(4022224774,944711139),i(264347078,2341262773),i(604807628,2007800933),i(770255983,1495990901),i(1249150122,1856431235),i(1555081692,3175218132),i(1996064986,2198950837),i(2554220882,3999719339),i(2821834349,766784016),i(2952996808,2566594879),i(3210313671,3203337956),i(3336571891,1034457026),i(3584528711,2466948901),i(113926993,3758326383),i(338241895,168717936),i(666307205,1188179964),i(773529912,1546045734),i(1294757372,1522805485),i(1396182291,2643833823),i(1695183700,2343527390),i(1986661051,1014477480),i(2177026350,1206759142),i(2456956037,344077627),i(2730485921,1290863460),i(2820302411,3158454273),i(3259730800,3505952657),i(3345764771,106217008),i(3516065817,3606008344),i(3600352804,1432725776),i(4094571909,1467031594),i(275423344,851169720),i(430227734,3100823752),i(506948616,1363258195),i(659060556,3750685593),i(883997877,3785050280),i(958139571,3318307427),i(1322822218,3812723403),i(1537002063,2003034995),i(1747873779,3602036899),i(1955562222,1575990012),i(2024104815,1125592928),i(2227730452,2716904306),i(2361852424,442776044),i(2428436474,593698344),i(2756734187,3733110249),i(3204031479,2999351573),i(3329325298,3815920427),i(3391569614,3928383900),i(3515267271,566280711),i(3940187606,3454069534),i(4118630271,4000239992),i(116418474,1914138554),i(174292421,2731055270),i(289380356,3203993006),i(460393269,320620315),i(685471733,587496836),i(852142971,1086792851),i(1017036298,365543100),i(1126000580,2618297676),i(1288033470,3409855158),i(1501505948,4234509866),i(1607167915,!function(){for(var t=0;t<80;t++)et[t]=i()}();n=n.SHA512=e.extend({_doReset:function(){this._hash=new a.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,o=n[0],a=n[1],i=n[2],r=n[3],c=n[4],s=n[5],p=n[6],l=n[7],u=o.high,h=o.low,d=a.high,f=a.low,v=i.high,m=i.low,g=r.high,b=r.low,y=c.high,w=c.low,_=s.high,x=s.low,E=p.high,k=p.low,S=l.high,n=l.low,O=u,C=h,T=d,A=f,I=v,P=m,D=g,R=b,N=y,M=w,j=_,L=x,z=E,F=k,U=S,K=n,Y=0;Y<80;Y++){var B,W,V=et[Y];Y<16?(W=V.high=0|t[e+2*Y],B=V.low=0|t[e+2*Y+1]):(H=(J=et[Y-15]).high,Q=J.low,$=(X=et[Y-2]).high,Z=X.low,W=(W=(W=((H>>>1|Q<<31)^(H>>>8|Q<<24)^H>>>7)+(q=et[Y-7]).high+((B=(G=(Q>>>1|H<<31)^(Q>>>8|H<<24)^(Q>>>7|H<<25))+q.low)>>>0<G>>>0?1:0))+(($>>>19|Z<<13)^($<<3|Z>>>29)^$>>>6)+((B=B+(J=(Z>>>19|$<<13)^(Z<<3|$>>>29)^(Z>>>6|$<<26)))>>>0<J>>>0?1:0))+(X=et[Y-16]).high+((B=B+(Q=X.low))>>>0<Q>>>0?1:0),V.high=W,V.low=B);var H=N&j^~N&z,q=M&L^~M&F,G=O&T^O&I^T&I,Z=(C>>>28|O<<4)^(C<<30|O>>>2)^(C<<25|O>>>7),$=tt[Y],J=$.high,X=$.low,Q=K+((M>>>14|N<<18)^(M>>>18|N<<14)^(M<<23|N>>>9)),V=U+((N>>>14|M<<18)^(N>>>18|M<<14)^(N<<23|M>>>9))+(Q>>>0<K>>>0?1:0),$=Z+(C&A^C&P^A&P),U=z,K=F,z=j,F=L,j=N,L=M,N=D+(V=(V=(V=V+H+((Q=Q+q)>>>0<q>>>0?1:0))+J+((Q=Q+X)>>>0<X>>>0?1:0))+W+((Q=Q+B)>>>0<B>>>0?1:0))+((M=R+Q|0)>>>0<R>>>0?1:0)|0,D=I,R=P,I=T,P=A,T=O,A=C,O=V+(((O>>>28|C<<4)^(O<<30|C>>>2)^(O<<25|C>>>7))+G+($>>>0<Z>>>0?1:0))+((C=Q+$|0)>>>0<Q>>>0?1:0)|0}h=o.low=h+C,o.high=u+O+(h>>>0<C>>>0?1:0),f=a.low=f+A,a.high=d+T+(f>>>0<A>>>0?1:0),m=i.low=m+P,i.high=v+I+(m>>>0<P>>>0?1:0),b=r.low=b+R,r.high=g+D+(b>>>0<R>>>0?1:0),w=c.low=w+M,c.high=y+N+(w>>>0<M>>>0?1:0),x=s.low=x+L,s.high=_+j+(x>>>0<L>>>0?1:0),k=p.low=k+F,p.high=E+z+(k>>>0<F>>>0?1:0),n=l.low=n+.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(n),t.HmacSHA512=e._createHmacHelper(n)}(),r.SHA512)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.messagesToString=void 0;var s=n(11);e.messagesToString=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(!t||0===t.length)return"";for(var e=e||t.length,e=t.length>e?t.length-e:0,r=[],c=!1,n=e;n<=t.length;n++)void 0!==t[n]&&t[n].forEach(function(t,e){var n=a||"AgentBot";c&&(t.content="**********",c=!1),t.user&&t.user.name&&"system"!==t.user.id?n=t.user.name:t.user&&+t.user.type===s.KEY__USER_TYPE_CLIENT&&(n=i||"Client");var o=t.content;o&&r.push("- ".concat(n,": ").concat(o)),"integration_response"===t.type&&(c=!0)});return r.join("\n")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VIDEOCHAT_TRANSFER_SIMULATION=e.VIDEOCHAT_TRANSFER=e.HLS=e.EVASIVE=void 0;e.EVASIVE={es:{token:"0c9108481af3d948f05ed49e025606be"},en:{token:"8fe63d1b826642658ea74b921bfd1238"},pt:{token:"72d3dd7c5b6873ae543a5836a939fa51"}};e.HLS={domain:"https://videodelivery.net/",format:"/manifest/video.m3u8"};e.VIDEOCHAT_TRANSFER={es:{token:"8911b216a8295705d1e8f7c1eebfdbaa"},en:{token:"d8062e7e21b8799873be4ae90527bcbb"},pt:{token:"244092349fe5dee20ce3501c4c816619"}};e.VIDEOCHAT_TRANSFER_SIMULATION={es:{token:"8c3414293c8881a746a34c0330cdb760"},en:{token:"da10c27da939733e929fcdfd75bcb045"},pt:{token:"3da355f24dcecbc9482a0c938c8f6c7c"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BOT_IDS=e.CLIENTS=void 0;e.CLIENTS={PicPay:"168d56e216f035a0c4945f69e2db3563",BBW:"ec0633155e0d2eb58138ea776921e7f0",universidadDeLaSabana:["a5e8e3060da08635238653339987d027","ce1a51e735b57117ae4f01c9b2b52e47","4560f31241a4df50c4f66e9d7e15dae1"],MercantilSeguros:"df191cff99d703619ca872f5e0acffa5"};e.BOT_IDS={PicPay:"5870",Onmex:["7290","7293","7294","5463","1445","2335"],e]=t[e]);ret,e,n,o){return Jts=function(t){return!(!t||!t.n(t){r.headers[t]=n.merge(e)}),c.exports=r}.call(this,s(208))},function(t,e,n){"use strict";var s=n(22),p=n(460),l=n(462),u=n(191),h=n(463),d=n(466),f=n(467),v=n(195);t.exports=function(c){return new Promise(function(e,n){var o=c.data,a=c.headers;s.isFormData(o)&&delete a["Content-Type"];var t,i=new XMLHttpRequest;c.auth&&(t=c.auth.username||"",r=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"",a.Authorization="Basic "+btoa(t+":"+r));var r=h(c.baseURL,c.url);if(i.open(c.method.toUpperCase(),u(r,c.params,c.paramsSerializer),!ers:t,confuest aborton(){n(v("NeMessage),n(v(t,c,"ECONNABORTED",i)),i=null},!s.isStandardBrowserEnv()||(r=(c.withCredentials||f(r))&&c.xsrfCookieName?l.read(c.xsrfCookieName):void 0)&&(a[c.xsrfHeaderNCase()?delete a[e]:i.setRequestHeader(e,t)}),s.isUndefined(c.withCredentials)||(i.withCredentials=!!c.withCredentials),c.responseType)try{i.responseType=c.responseType}catch(t){if("json"!==c.responseType)throw t}"function"==typeof c.onDownloadProgress&&i.addEventListener("progress",c.onDownloadProgress),"function"==typeof c.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",c.onUploadProgresshen(function(t){i&&(i.abounction(){return o.WSocket}});var o=n(483)},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.typeVideoEvasive=e.processVideoChatMessages=e.setAdsClick=e.setAdsView=e.getFaqs=e.getDefaultProduct=e.getSession=e.hasSession=e.validateMessageSchema=e.checkMessagesToCheck=e.getMessagesToCheck=e.getMessageQueue=e.getMessages=e.setMessages=e.createMessage=void 0;var a=o(n(28)),i=o(n(9)),r=n(17),c=n(36),s=n(15),p=n(187),l=o(n(14)),u=o(n(56)),h=n(27),d=n(102);function f(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.createMessage=function(t){var e=t.message||t.answer||"";return{id:(0,r.uuid)(),answerKey:t.answerKey,content:e,user:t.user||l.default.getAppUser(),sentAt:Math.round((new Date).getTime()/1e3),type:t.messageType||t.action||"message",params:t.attachment||t.params||t.param,sending:t.sending,defaultApp:t.defaultApp,isGenaiResponse:t.isGenaiResponse}};e.setMessages=function(t){if(Array.isArray(t))return(0,c.setItem)("agentMessages",t)||(0,c.removeItem)("agentMessages"),t};function m(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l.default.store.messages;return(0<t.length?t:(0,c.getItem)("agentMessages"))||[]}e.getMessages=m;e.getMessageQueue=function(){var t=m()urn t.map(function(t){t.sending&&e.push(t)})}),e};e.getMessagesToCheck=function(){var t=m(),e=[];return t.map(function(t){return t.map(function(t){t.params&&t.params.blockInput&&!t.params.selected&&e.push(t)})}),e};e.checkMessagesToCheck=function(){var t=m(),n=[];return t.map(function(t){var e=[];return t.map(function(t){return t.params&&t.params.blockInput&&!t.params.selected&&(t=v(v({},t),{},{params:v(v({},t.params),{},{selected:(0,r.uuid)()})})),e.push(t),t}),n.push(e),e}),n};e.validateMessageSchema=function(t){var e="object"===(0,a.default)(t),n=e&&void 0!==t.complements,o=e&&n&&t.complements.length,n=e&&(t.answer||t.sentence||t.message);return!(!(e&&-1!==[(0,a.default)(t.answer),(0,a.default)(t.sentence),(0,a.default)(t.message)].indexOf("string"))||!n&&!o)};e.hasSession=function(t){t=l.default.getConfig(t);return Boolean(t._windowSession)};e.getSession=function(){return l.default.getConfig()._windowSession||(new Date).getTime()};e.getDefaultProduct=function(t){t=l.default.getConfig(t);return(t.products.agentbot.default?t.products.agentbot:t.products.live).id};e.getFaqs=function(e){var t=l.default.getConfig();return t.chatWindow.faqs&&t.chatWindow.faqs.enabled&&t.products.agentbot.enabled?t.chatWindow.faqs.automatic?u.default.get("".concat(s.M86aEzV,"/REST/faqs/"),{params:{token:t.app.id}}).then(function(t){if(0<t.data.length)return e(t.data),t.data}).catch(function(t){console.error("Error:",t)}):t.chatWindow.faqs.data?(e&&e(t.chatWindow.faqs.data),t.chatWindow.faqs.data):null:null};e.setAdsView=function(t){var e=l.default.getConfig().app.id,t="".concat(s.MNp0Ykg,"/").concat(e,"/proactivity/").concat(t,"/impressions");return u.default.post(t,{timeout:15e3,cache:!1})};e.setAdsClick=function(t){var e=l.default.getConfig().app.id,t="".concat(s.MNp0Ykg,"/").concat(e,"/proactivity/").concat(t,"/clicks");return u.default.post(t,{timeout:15e3,cache:!1})};e.processVideoChatMessages=function(t,e){if(t&&(0,d.isVideoChatChannel)()){var n=(0,d.includeVideoConversationalComplementForOpenAgentLive)(t.complements);if(n){var o,a,i=n.find(function(t){return"video_conversational"===t.action});i?e((0,h.setComplementForVideoChat)({__writing:!1,__reproducedIntention:!0,__urlIntentionVideochat:i.param})):(r=l.default.getConfig().app.lang,i=(a=null===(o=l.default.getConfig().chatWindow)||void 0===o?void 0:o.videoChat).VC_desambiguateUrl,o=a.VC_evasiveUrl,a=a.VC_garbageUrl,t=t.answerID,r="".concat(p.HLS.domain).concat(p.EVASIVE[r].token).concat(p.HLS.format),a=g({answerID:t,VC_desambiguateUrl:i,VC_evasiveUrl:o,VC_garbageUrl:a}),e((0,h.setComplementForVideoChat)({__writing:!1,__urlIntentionVideochat:a||r,__reproducedIntention:!0})));var r=n.find(function(t){return"open_agentlive"===t.action});if(r)return e((0,h.setComplementForVideoChat)({__videoConversationalToLive:!0,__room:r.param.room,__customToken:r.param.customToken}));r=n.find(function(t){return"generic_carousel"===t.action});if(r)return e((0,h.setComplementForVideoChat)({__videoChatCarousel:r.param,__videoChatLoopBlur:!0}));r=n.find(function(t){return"formData"===t.action});if(r)return e((0,h.setComplementForVideoChat)({__videoChatForm:r.param,__videoChatLoopBlur:!0}));r=n.find(function(t){return"play_video"===t.action});if(r)return e((0,h.setComplementForVideoChat)({__videoChatVideo:r.param,__videoChatLoopBlur:!0}));r=n.find(function(t){return"buttons"===t.action});if(r)return e((0,h.setComplementForVideoChat)({__videoChatButtons:r.data,__videoChatLoopBlur:!0}));n=n.find(function(t){return"file"===t.action});return n?e((0,h.setComplementForVideoChat)({__videoChatFile:n.param,__videoChatLoopBlur:!0})):void 0}}};var g=function(t){var e=t.answerID,n=t.VC_desambiguateUrl,o=t.VC_evasiveUrl,a=t.VC_garbageUrl;switch(String(e)){case"0":return o;case"-1":return n;case"-2":return a;default:return o}};e.typeVth;++o)void 0!==t[o]&&(n[o]=t[o]);return n}var p=n(137),s=Object")+e s.call(t,e)?t[e]=o(t[e],n,r):t[e]educe(fucombine:n[a]&&on decod2&63]+u[1uctor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===;o+=1)n.puObject===Object&&t;e.a=t}.call(this,n(43))},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(57)),r=o(n(58)),c=o(n(506)),s=o(n(141)),a=o(n(142)),p=o(n(97)),l=n(40),u=o(n(23));function h(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=(0,p.default)(n);return e=o?(t=(0,p.default)(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),(0,a.default)(this,e)}}n=function(o){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return function(t){(0,s.default)(n,t);var e=h(n);function n(t){return(0,i.default)(this,n),(t=e.call(this,t)).state={error:null,errorInfo:null},t}return(0,r.default)(n,[{key:"componentDidUpdate",value:function(){(0,c.default)((0,p.default)(n.prototype),"componentDidUpdate",this)&&(0,c.default)((0,p.default)(n.prototype),"componentDidUpdate",this).call(this)}},{key:"componentDidCatch",value:function(t,e){var n=a||o.name;(0,l.capture)("RenderError: render ".concat(n," component failed"),{excenull:u.default.createElement(o,this.props.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRANSLATIONS=void 0;e.TRANSLATIONS={es:{emojiMenu:"Menú de emojis",yourMessage:"Tu mensaje:",systemMessage:"Mensaje del bot:",avatar:"Avatar",send:"Enviar",cancel:"Cancelar",closeConversationAlertTitle:"¿Estás seguro de cerrar el chat?",closeConversationAlert:"La conversación finalizará al cerrar la ventana.",ok:"Aceptar",liveChat:"live chat",virtualAssistant:"Asistente Virtual",client:"Cliente",errorPreviewBigger:"el tamaño del archivo es demasiado grande",errorPreviewType:"el tipo de archivo {type} no está permitido",tooltip:{defaultError:"Complete el campo",error:{checkbox:"Tilde el campo",text:"Complete el campo",textarea:"Complete el campo",search:"Seleccione una opción",select:"Seleccione una opción",email:"Ingrese un email válido",date:"Ingrese una fecha válida",location:"Ingrese una ubicación válida",locationDenied:"Ubicación denegada",outOfCoverage:"Ubicación fuera de límites"}},policy:"Política de Privacidad",suggestion:"Puedo sugerirte",TEXT_GDPR:"Esta aplicación almacena cookies en tu computadora, que se utilizan para recopilar información y nos permite\nrecordarte como usuario. Dicha información ayuda a mejorar y personalizar la experiencia con nuestro asistente virtual.\nPara obtener más información, consulta nuestra <a href='https://aivo.co/policy/' target='_blank'>política de privacidad</a>.",feedback:{title:"¡Queremos saber tu opinión!",subtitle:"¿Cómo calificarías la reciente conversación?",message:"Escríbenos un comentario",submit:"Enviar",error:"Debe seleccionar un valor",messageSent:"¡Gracias por darnos tu opinión!"},faqs_title:"Preguntas Frecuentes",videoChat:{initChatInIos:"Iniciar conversación",placeholderInput:"Escribe un mensaje",transfer:"Te estamos transfiriendo a un agente",inputBlocked:"Podrás responder al finalizar la reproducción",HideAssistant:"Ocultar asistente",loading:"Cargando"},videoCall:{videoCallIncoming:"Videollamada entrante...",videoCallAccepted:"Videollamada aceptada",videoCallEnded:"Videollamada finalizada",videoCallMissed:"Videollamada perdida",videoCallDeclined:"Videollamada rechazada",videoCallClientSettingErrors:"Hubo un error al intentar ingresar la llamada. Asegúrese de que los permisos de su micrófono y cámara estén habilitados",callRecordingNotice:"Esta llamada se está grabando",meetingRecordingConsentMessage:"TODAS LAS VIDEOLLAMADAS SON GRABADAS. Al hacer clic para aceptar esta llamada, usted acepta que la videollamada se grabe y almacene de acuerdo con nuestra [LINK]",privacyPolicy:"política de privacidad",policyLink:"https://es.aivo.co/privacy",videoCallEndBtn:"Fin",videoCallAgent:"Agente",videoCallUser:"Usuario"},headerZendesk:"Abandonar el chat en vivo",connectionError:{firstMessage:"Hubo un problema de conexión, estamos reintentando… ",thirdMessage:"Hemos perdido la conexión, por favor cierra el chat para reiniciar la conversación"},waitingResponse:"Experando respuesta",newMessageLoaded:"Nuevo mensaje recibido",openChat:"Abrir chat",closeButton:"Cerrar",maximizeChat:"Maximizar",minimizeChat:"Minimizar",resizeChat:"Redimensionar ventana",defaultOptListSelect:"Selecciona una opción",userDataSubtitle:"Datos Del Usuario:",historySubtitle:"Historial de conversaciones:",fileName:"archivo",dateFormat:"DD-MM-YYYY",calendar:{months:{january:["Enero","Ene"],february:["Febrero","Feb"],march:["Marzo","Mar"],april:["Abril","Abr"],may:["Mayo","May"],june:["Junio","Jun"],july:["Julio","Jul"],august:["Agosto","Ago"],september:["Septiembre","Sep"],october:["Octubre","Oct"],november:["Noviembre","Nov"],december:["Diciembre","Dic"]},weekDays:{saturday:["Sabado","Sa"],sunday:["Domingo","Do"],monday:["Lunes","Lu"],tuesday:["Martes","Ma"],wednesday:["Miercoles","Mi"],thursday:["Jueves","Ju"],friday:["Viernes","Vi"]},digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]}},en:{emojiMenu:"Emoji menu",yourMessage:"Your message:",systemMessage:"Bot message:",avatar:"Avatar",send:"Send",cancel:"Cancel",closeConversationAlertTitle:"Are you sure you want to close the chat?",closeConversationAlert:"The conversation will end when you close the window.",ok:"Accept",liveChat:"live chat",virtualAssistant:"Virtual Assistant",client:"Cliente",errorPreviewBigger:"the file size is too much bigger",errorPreviewType:"the file type {type} is not allowed",tooltip:{defaultError:"Complete the field",error:{checkbox:"Check the field",text:"Complete the field",textarea:"Complete the field",search:"Select an option",select:"Select an option",email:"Enter a valid email",date:"Enter a valid date",location:"Enter a valid location",locationDenied:"Location denied",outOfCoverage:"Location out of bounds"}},policy:"Privacy Policy",suggestion:"I suggest",TEXT_GDPR:"This application stores cookies on your computer, which are used to collect information and allow us to\nremember you as a user. This information helps to improve and personalize your experience with our virtual assistent.\nFor more information, see our <a href='https://aivo.co/policy/' target='_blank'>Privacy Policy</a>.",feedback:{title:"¡We want to know your opinion!",subtitle:"How would you rate the recent conversation?",message:"Write us a comment",submit:"Submit",error:"You must select a value",messageSent:"Thanks for giving us your opinion!"},faqs_title:"Frequently Asked Questions",videoChat:{initChatInIos:"Start Chat",placeholderInput:"Write your message here",transfer:"I'm transferring you to a video call",inputBlocked:"ou'll be able to reply when playback ends",HideAssistant:"Hide assistant",loading:"Loading"},videoCall:{videoCallIncoming:"Incoming videocall...",videoCallAccepted:"Videocall accepted",videoCallEnded:"Videocall ended",videoCallMissed:"Videocall missed",videoCallDeclined:"Videocall declined",videoCallClientSettingErrors:"There was an error attempting to enter the call. Please make sure your microphone and camera permissions are enabled",callRecordingNotice:"This call is being recorded",meetingRecordingConsentMessage:"ALL VIDEO CALLS ARE RECORDED. By clicking to accept the call below and entering the video call, you are consenting to the video call being recorded and stored in accordance with our [LINK]",privacyPolicy:"privacy policy",policyLink:"https://www.aivo.co/privacy",videoCallEndBtn:"End",videoCallAgent:"Agent",videoCallUser:"User"},headerZendesk:"Leave live chat",connectionError:{firstMessage:"There was a connection problem, we are retrying…",thirdMessage:"We have lost the connection, please close the chat to restart the conversation"},waitingResponse:"Waiting response",newMessageLoaded:"New message received",openChat:"Open chat",closeButton:"Close",maximizeChat:"Maximize",minimizeChat:"Minimize",resizeChat:"Resize window",defaultOptListSelect:"Select an option",userDataSubtitle:"User Data:",historySubtitle:"Chat History:",fileName:"file",calendar:{months:{january:["January","Jan"],february:["February","Feb"],march:["March","Mar"],april:["April","Apr"],may:["May","May"],june:["June","Jun"],july:["July","Jul"],august:["August","Aug"],september:["September","Sep"],october:["October","Oct"],november:["November","Nov"],december:["December","Dec"]},weekDays:{saturday:["Saturday","Sat"],sunday:["Sunday","Sun"],monday:["Monday","Mon"],tuesday:["Tuesday","Tue"],wednesday:["Wednesday","Wed"],thursday:["Thursday","Thu"],friday:["Friday","Fri"]},digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]}},pt:{emojiMenu:"Teclado emoji",yourMessage:"sua mensagem:",systemMessage:"mensagem do bot:",avatar:"Avatar",send:"Mandar",cancel:"Cancelar",closeConversationAlertTitle:"Você realmente quer fechar o chat?",closeConversationAlert:"A conversação finalizará ao fechar a janela.",ok:"Aceitar",liveChat:"atendimento online",virtualAssistant:"Assistente Virtual",client:"Cliente",errorPreviewBigger:"o arquivo é muito maior",errorPreviewType:"arquivos {type} não são permitidos",tooltip:{defaultError:"Preencha o campo",error:{checkbox:"Verifique o campo",text:"Preencha o campo",textarea:"Preencha o campo",search:"Selecione uma opção",select:"Selecione uma opção",email:"Insira um e-mail válido",date:"Insira uma data válida",location:"Insira um local válido",locationDenied:"Local negado",outOfCoverage:"Local fora dos limites"}},policy:"Política de Privacidade",suggestion:"Sugestão",TEXT_GDPR:"Esta aplicação armazena cookies em seu computador, que são usados para coletar informações e nos permite\nlembrar de você como usuário. Esta informação ajuda a melhorar e personalizar a experiência com o nosso assistente virtual.\nPara obter mais informações, veja nossa <a href='https://aivo.co/policy/' target='_blank'>política de privacidade</a>.",feedback:{title:"¡Queremos saber sua opinião!",subtitle:"Como você classificaria a conversa recente?",message:"Escreva-nos um comentário",submit:"Enviar",error:"Você deve selecionar um valor",messageSent:"¡Obrigado por nos dar a sua opinião!"},faqs_title:"Perguntas Frequentes",videoChat:{initChatInIos:"Iniciar conversa",placeholderInput:"Escreva sua mensagem aqui",transfer:"Estamos transferindo você para um agente",inputBlocked:"você poderá responder quando a reprodução terminar",HideAssistant:"Esconder assistente",loading:"Carregando"},videoCall:{videoCallIncoming:"Chamada de vídeo recebida...",videoCallAccepted:"Chamada de vídeo aceita",videoCallEnded:"Chamada de vídeo encerrada",videoCallMissed:"Chamada de vídeo perdida",videoCallDeclined:"Chamada de vídeo recusada",videoCallClientSettingErrors:"Houve um erro ao tentar entrar na chamada. Certifique-se de que as permissões do seu microfone e câmera estão habilitadas",callRecordingNotice:"A chamada está sendo gravada",meetingRecordingConsentMessage:"TODAS AS VIDEOCHAMADAS SÃO GRAVADAS. Ao clicar para aceitar essa chamada, você concorda que a chamada de vídeo seja gravada e armazenada de acordo com nossa política de privacidade em [LINK]",privacyPolicy:"política de privacidade",policyLink:"https://pt.aivo.co/privacy",videoCallEndBtn:"Finalizar",videoCallAgent:"Agente",videoCallUser:"Usuário"},headerZendesk:"Sair do bate-papo ao vivo",connectionError:{firstMessage:"Ocorreu um problema de conexão, estamos tentando novamente…",thirdMessage:"Perdemos a conexão, por favor, feche o chat para reiniciar a conversa"},waitingResponse:"Aguardando resposta",newMessageLoaded:"Nova mensagem recebida",openChat:"Bate-papo aberto",closeButton:"Fechar",maximizeChat:"Maximizar",minimizeChat:"Minimizar",resizeChat:"Redimensionar janela",defaultOptListSelect:"Selecione uma opção",userDataSubtitle:"Dados Do Usuário:",historySubtitle:"Histórico de conversa:",fileName:"arquivo",calendar:{months:{january:["Janeiro","Jan"],february:["Fevereiro","Fev"],march:["Março","Mar"],april:["Abril","Abr"],may:["Maio","Mai"],june:["Junho","Jun"],july:["Julho","Jul"],august:["Agosto","Ago"],september:["Setembro","Set"],october:["Outubro","Out"],november:["Novembro","Nov"],december:["Dezembro","Dez"]},weekDays:{saturday:["Sabádo","Sab"],sunday:["Domingo","Dom"],monday:["Segunda-feira","Seg"],tuesday:["Terça-feira","Ter"],wednesday:["Quarta-feira","Qua"],thursday:["Quinta-feira","Qui"],friday:["Sexta-feira","Sex"]},digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]}},it:{emojiMenu:"Menu emoji",yourMessage:"Il tuo messaggio:",systemMessage:"Messaggio di bot:",avatar:"Avatar",send:"Inviare",cancel:"Cancellare",closeConversationAlertTitle:"Sei sicuro di voler chiudere la chat?",closeConversationAlert:"La chatta finirà quando chiudi la finestra.",ok:"Accettare",liveChat:"live chat",virtualAssistant:"Asistente Virtuale",client:"Cliente",errorPreviewBigger:"La dimensione del file è troppo grande",errorPreviewType:"Il tipo di file {type} non è permesso",tooltip:{defaultError:"Completa la casella",error:{checkbox:"Spunta la casella",text:"Completa la casella",textarea:"Completa la casella",search:"Seleziona un'opzione",select:"Seleziona un'opzione",email:"Inserire un email valido",date:"Inserisci una data valida",location:"Inserisci una posizione valida",locationDenied:"Posizione negata",outOfCoverage:"Posizione fuori dai limiti"}},policy:"Politica sulla Privacy",suggestion:"Posso suggerirti",TEXT_GDPR:"Questa applicazione memorizza cookies sul tuo computer che sono utilizzati per compilare informazzione e ci\n    permettono di ricordarti come utente. Detta informazione aiuta a migliorare e personalizzare l'esperienza con il nostro\n    assistente virtuale. Per maggiore informazione consulta la nostra <a href='https://aivo.co/policy/' target='_blank'>Política Sulla Privacy</a>.",feedback:{title:"Vogliamo conoscere la tua opinione!",subtitle:"Come valuteresti la conversazione recente?\r\n",message:"Lasciaci un commento",submit:"Inviare",error:"Devi selezionare un valore",messageSent:"Grazie per la tua opinione!"},faqs_title:"Domande frequenti",videoChat:{initChatInIos:"Iniziare la conversazione",placeholderInput:"Scrivi qui il tuo messaggio",transfer:"Ti stiamo trasferendo a un agente",inputBlocked:"Sarai in grado di rispondere al termine della riproduzione",HideAssistant:"Nascondi assistente",loading:"Caricamento in corso"},videoCall:{videoCallIncoming:"Chiamata video in arrivo...",videoCallAccepted:"Chiamata video accettata",videoCallEnded:"Chiamata video terminata",videoCallMissed:"Chiamata video persa",videoCallDeclined:"Chiamata video rifiutata",videoCallClientSettingErrors:"Si è verificato un errore nel tentativo di accedere alla chiamata. Assicurati che le autorizzazioni del microfono e della fotocamera siano abilitate",callRecordingNotice:"La chiamata si sta registrando",meetingRecordingConsentMessage:"TUTTE LE VIDEOCHIAMATE SONO REGISTRATE. Cliccando per accettare questa chiamata, acconsenti che la videochiamata venga registrata e archiviata in conformità con la nostra informativa sulla privacy a [LINK]",privacyPolicy:"informativa sulla privacy",policyLink:"https://www.aivo.co/privacy",videoCallEndBtn:"Fine",videoCallAgent:"Agente",videoCallUser:"Utente"},headerZendesk:"Abbandona la chat dal vivo",connectionError:{firstMessage:"Si è verificato un problema di connessione, stiamo riprovando...",thirdMessage:"Abbiamo perso la connessione, per favore chiudi la chat per riavviare la conversazione"},waitingResponse:"In attesa di risposta",newMessageLoaded:"Nuovo messaggio ricevuto",openChat:"Apri chat",closeButton:"Chiudere",maximizeChat:"Massimizza",minimizeChat:"Minimizzare",resizeChat:"Ridimensionare la finestra",defaultOptListSelect:"Seleziona un'opzione",userDataSubtitle:"Dati Utente:",historySubtitle:"Cronologia chat:",fileName:"archivio",calendar:{months:{january:["January","Jan"],february:["February","Feb"],march:["March","Mar"],april:["April","Apr"],may:["May","May"],june:["June","Jun"],july:["July","Jul"],august:["August","Aug"],september:["September","Sep"],october:["October","Oct"],november:["November","Nov"],december:["December","Dec"]},weekDays:{saturday:["Saturday","Sat"],sunday:["Sunday","Sun"],monday:["Monday","Mon"],tuesday:["Tuesday","Tue"],wednesday:["Wednesday","Wed"],thursday:["Thursday","Thu"],friday:["Friday","Fri"]},digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]}},fr:{emojiMenu:"Menu émoticônes",yourMessage:"Votre message:",systemMessage:"Message du robot:",avatar:"Avatar",send:"Envoyer",cancel:"Annuler",closeConversationAlertTitle:"Êtes-vous sûr de fermer le chat?",closeConversationAlert:"La conversation se terminera lorsque la fenêtre sera fermée.",ok:"Accepter",liveChat:"live chat",virtualAssistant:"Assistant virtuel",client:"Client",errorPreviewBigger:"Le fichier est trop lourd",errorPreviewType:"Le type de fichier {type} n'est pas autorisé",tooltip:{defaultError:"Remplir le champ",error:{checkbox:"Cochez la case",text:"Remplir le champ",textarea:"Remplir le champ",search:"Choisissez une option",select:"Choisissez une option",email:"Veuillez entrer une adresse email valide",date:"Veuillez entrer une date valide",location:"Entrez un emplacement valide",locationDenied:"Emplacement refusé",outOfCoverage:"Emplacement hors limites"}},policy:"Politique de confidentialité",suggestion:"Je peux vous suggérer",TEXT_GDPR:"Cette application stocke des cookies sur votre ordinateur qui sont utilisés pour collecter\n    des informations et nous permet de vous reconnaître en tant qu'utilisateur. Ces informations permettent d'améliorer et\n    de personnaliser l'expérience avec notre assistant virtuel. Pour plus d'informations, consultez notre <a href='https://aivo.co/policy/' target='_blank'>politique de confidentialité</a>.",feedback:{title:"Nous voulons connaître votre opinion !",subtitle:"Comment évalueriez-vous la conversation récente ?",message:"Ecrivez-nous un commentaire",submit:"Envoyer",error:"Vous devez sélectionner une valeur",messageSent:"Merci de nous donner votre avis !"},faqs_title:"Faqs",videoChat:{initChatInIos:"Démarrer la conversation",placeholderInput:"Ecrivez votre message ici",transfer:"Nous vous transférons à un agent",inputBlocked:"Vous pourrez répondre à la fin de la lecture",HideAssistant:"Masquer l'assistant",loading:"Chargement en cours"},videoCall:{videoCallIncoming:"Appel vidéo entrant...",videoCallAccepted:"Appel vidéo accepté",videoCallEnded:"Appel vidéo terminé",videoCallMissed:"Appel vidéo manqué",videoCallDeclined:"Appel vidéo refusé",videoCallClientSettingErrors:"Une erreur s'est produite en tentant d'entrer dans l'appel. Assurez-vous que les autorisations de votre microphone et de votre caméra sont activées",callRecordingNotice:"Cet appel est en cours d'enregistrement",meetingRecordingConsentMessage:"TOUTES LES APPELS VIDÉO SONT ENREGISTRÉS. En cliquant pour accepter cet appel, vous acceptez que l'appel vidéo soit enregistré et stocké conformément à notre politique de confidentialité à [LINK]",privacyPolicy:"politique de confidentialité",policyLink:"https://www.aivo.co/privacy",videoCallEndBtn:"Fin",videoCallAgent:"Agent",videoCallUser:"Utilisateur"},headerZendesk:"Quitter le chat en direct",connectionError:{firstMessage:"Il y a eu un problème de connexion, nous réessayons…",thirdMessage:"Nous avons perdu la connexion, veuillez fermer le chat pour reprendre la conversation"},waitingResponse:"Réponse en attente",newMessageLoaded:"Nouveau message reçu",openChat:"Ouvrir le chat",closeButton:"Fermer",maximizeChat:"Maximiser",minimizeChat:"Minimiser",resizeChat:"Redimensionner la fenêtre",defaultOptListSelect:"Sélectionner une option",userDataSubtitle:"Données D'utilisateur:",historySubtitle:"Historique des discussions:",fileName:"archives",calendar:{months:{january:["January","Jan"],february:["February","Feb"],march:["March","Mar"],april:["April","Apr"],may:["May","May"],june:["June","Jun"],july:["July","Jul"],august:["August","Aug"],september:["September","Sep"],october:["October","Oct"],november:["November","Nov"],december:["December","Dec"]},weekDays:{saturday:["Saturday","Sat"],sunday:["Sunday","Sun"],monday:["Monday","Mon"],tuesday:["Tuesday","Tue"],wednesday:["Wednesday","Wed"],thursday:["Thursday","Thu"],friday:["Friday","Fri"]},digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]}},de:{emojiMenu:"Emoji-Menü",yourMessage:"Ihre Nachricht:",systemMessage:"Bot-Nachricht:",avatar:"Benutzerbild",send:"Senden",cancel:"Abbrechen",closeConversationAlertTitle:"Sind Sie sicher, dass Sie den Chat beenden wollen?",closeConversationAlert:"Die Unterhaltung wird beendet, wenn Sie das Fenster schließen.",ok:"Zustimmen",liveChat:"live chat",virtualAssistant:"Virtueller Assistent",client:"Kunde",errorPreviewBigger:"Die Datei ist zu groß.",errorPreviewType:"Der Dateityp {type} ist nicht zulässig",tooltip:{defaultError:"Füllen Sie das Feld aus",error:{checkbox:"Überprüfen Sie das Feld",text:"Füllen Sie das Feld aus",textarea:"Füllen Sie das Feld aus",search:"Wählen Sie eine Option",select:"Wählen Sie eine Option",email:"Geben Sie eine gültige E-Mail-Adresse ein",date:"Bitte gib ein korrektes Datum an",location:"Geben Sie einen gültigen Standort ein",locationDenied:"Standort verweigert",outOfCoverage:"Standort außerhalb der Grenzen"}},policy:"Datenschutzerklärung",suggestion:"Ich kann vorschlagen, dass Sie...",TEXT_GDPR:"Dieses App speichert Cookies auf Ihrem Computer, die verwendet werden, um Informationen zu sammeln\n    und ermöglicht es uns auch, Sie als Benutzer zu erinnern. Diese Informationen helfen uns, die Erfahrung mit\n    unserem virtuellen Assistenten zu verbessern und zu personalisieren. Für weitere Informationen lesen Sie bitte\n    unsere Datenschutzerklärung.",feedback:{title:"Wir möchten Ihre Meinung erfahren!",subtitle:"Wie würden Sie das jüngste Gespräch bewerten?",message:"Schreib einen Kommentar",submit:"Senden",error:"Sie müssen einen Wert auswählen",messageSent:"Vielen Dank, dass Sie uns Ihr Feedback gegeben haben!"},faqs_title:"Häufig gestellte Fragen",videoChat:{initChatInIos:"Das Gespräch beginnen",placeholderInput:"Schreibe deine Nachricht hier",transfer:"Wir leiten Sie an einen Agenten weiter",inputBlocked:"Sie können am Ende der Lesung antworten",HideAssistant:"Assistent ausblenden",loading:"Wird geladen"},videoCall:{videoCallIncoming:"Inkommender Videoanruf...",videoCallAccepted:"Videoanruf angenommen",videoCallEnded:"Videoanruf beendet",videoCallMissed:"Verpasster Videoanruf",videoCallDeclined:"Videoanruf abgelehnt",videoCallClientSettingErrors:"Beim Versuch, den Anruf zu betreten, ist ein Fehler aufgetreten. Stellen Sie sicher, dass Ihre Mikrofon- und Kameraberechtigungen aktiviert sind",callRecordingNotice:"Dieser Anruf wird aufgezeichnet",meetingRecordingConsentMessage:"ALLE VIDEOANRUFEN WERDEN AUFGEZEICHNET. Durch Klicken, um diesen Anruf anzunehmen, stimmen Sie zu, dass der Videoanruf gemäß unserer Datenschutzrichtlinie unter [LINK] aufgezeichnet und gespeichert wird",privacyPolicy:"datenschutzrichtlinie",policyLink:"https://www.aivo.co/privacy",videoCallEndBtn:"Ende",videoCallAgent:"Agent",videoCallUser:"Benutzer"},headerZendesk:"Live-Chat verlassen",connectionError:{firstMessage:"Es gab ein Verbindungsproblem, wir versuchen es erneut...",thirdMessage:"Wir haben die Verbindung verloren, bitte schließen Sie den Chat, um die Konversation neu zu starten"},waitingResponse:"Antwort warten",newMessageLoaded:"Neue Nachricht erhalten",openChat:"Chat öffnen",closeButton:"Schließen",maximizeChat:"Maximieren",minimizeChat:"Minimieren",resizeChat:"Fenstergröße ändern",defaultOptListSelect:"Wähle eine Option",userDataSubtitle:"Benutzerdaten:",historySubtitle:"Chatverlauf:",fileName:"archiv",calendar:{months:{january:["January","Jan"],february:["February","Feb"],march:["March","Mar"],april:["April","Apr"],may:["May","May"],june:["June","Jun"],july:["July","Jul"],august:["August","Aug"],september:["September","Sep"],october:["October","Oct"],november:["November","Nov"],december:["December","Dec"]},weekDays:{saturday:["Saturday","Sat"],sunday:["Sunday","Sun"],monday:["Monday","Mon"],tuesday:["Tuesday","Tue"],wednesday:["Wednesday","Wed"],thursday:["Thursday","Thu"],friday:["Friday","Fri"]},digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]}}}SON",!0)},function(t,e,n){t.exports=n(82)("native-function-o(o.S+o.F*!n(12),"Object",{defineProperty:n(13).f})},function(t,e,n){var o=n(0);o(o.S+o.F*!n(12),"Object",{dn(18),a=n(51);n(34)("getPrototypeOf",function(){return function(t){return a(o(t))}})},function(t,e,n){var o=n(18),a=n(47);n(34)("keys",function(){return function(t){return a(o(t))}})},function(t,e,n){n(34)("getOwnPropertyNames",function(t)):t}})},function(t,e,n){var o=n(6),a=n(42).onFreeze;n(34)("seal",function(e){return function(t){retvar o=n(6);n(34)("isSealed",function(e){return function(is:n(153)})},function(t,e,n){var o=n(0);o(o.S,"Object",{setPe strict";var o=n(6),a=n(51),i=n(7)("hasInstance"),r=Function.prototype;i iEGATIVE_INFINITY,POSITIVE_INF){for(var n=-1,o=e;++n<6;)o+=t*h[n],h[n]=o%1e7,o=i(o/1e7)}function c(t){for(var e=6,n=0;0<=--e;)n+=h[e],h[e]=i(n/t),n=n%h[e]||(t=String(h[e]),n=""===n?t:n+u.call("0",7-t.length)+t);return n}var o=n(0),p=n(32),l=n(158),u=n(112),a=1..toFixed,i=Math.floor,h=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",f=fun6,0ecision: incorrect invocation!");return void 0===t?r.call(e):r.0),a=n(159),i=Math.abs;o(o.S,"Number",{isSafeInteger:function(t){return a(t)&&i(t)<=90071992547lz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.on(){return-5!=a(4294967295,5)||2!=a.length}),"Math",{imu535&o>>>16)<<16>>>0)}})},function(t,e,n){n=n(0);n(n.S,"Mn(t){var e=i(this,t,r),n=a(Math.min(1<argtueturn function(t){return e(this,"a","name",t)}})},function(t,e,n){"use strict";n(21)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(21)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(21)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(21)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(21)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,n){"use strict";n(21)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,n){"use strict";n(21)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(21)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,n){"use strict";n(21)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(21)("strike",function(tt,e,n){var o=n(7)("toPrimitive"),a=Date.prototype;o in a||nurn a(this,t,arguments[1])}})},function(t,e,n){var o=n(6),a=n(85),i=n(7)("species");t.exports=function(t){var e;return a(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!a(e.prototype)||(e=void 0),o(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var o=n(0),a=n(35)(1);o(o.P+o.F*!n(29)([].map,!0),"Array",{map:function(t){return a(this,t,arguments[1])}})},function(t,e,n){"use stricict";var o=n(0),a=n(35)(3);o(o.P+o.F*!n(29)([].some,!0),"Array",{some:function(t){return a(this,t,arguments[1])}})},function(t,e,n){"use strict";var o=n(0),a=n(350)<0;o(o.P+o.F*(s||!n(29)(c)),"Array",{lastIndexOf:function(t){if(s)return c.apply(rguments[1]:void 0)}}),n(52)("fi){var e=p(s,t,this);if(e.done)return e.value;var n=l(t),o=String(this);if(!n.global)return d(n,o);for(var a=n.unicode,i=[],r=n.lastIndex=0;null!==(c=d(n,o));){var c=String(c[0]);""===(i[r]=c)&&(n.lastIndex=h(o,u(n.lastIndex),a)),r++}return 0===r?null:i}]})},function(t,e,n){"use strict";var x=n(5),E=n(18),k=n(8),S=n(32),O=n(126),C=n(88),T=Math.max,A=Math.min,I=Math.floor,P=/\$([$&`']|\d\d?|<[^>]*>)/g,D=/\$([$&`']|\d\d?)/g;n(89)("replace",2,function(a,i,w,_){return[function(t,e){var n=a(this),o=null==t?void 0:t[i];return void 0!==o?o.call(t,n,e):w.call(String(n),t,e)},function(t,e){var n=_(w,t,this,e);if(n.done)return n.value;var o=x(t),a=String(this),i="function"==typeof e;i||(e=String(e));var r,c=o.global;c&&(r=o.unicode,o.lastIndex=0);for(var s=[];;){var p=C(o,a);if(null===p)break;if(s.push(p),!c)break;""===String(p[0])&&(o.lastIndex=O(a,k(o.lastIndex":return i;case"`":return r.slice(0,c);case"'":return r.slice(l);case"<":n=p[,t);for(var n=s(this).byteLength,o=p(t,n),a=p(void 0===e?n:e,n),n=new(u(this,h))(l(a-o)),i=new d(this),r=new d(n),c=0;o<a;)r.setUint8(c++,i.getUint8(o++));return n}}),n(64)(i)},functi)("Int8",1,function(o){return function(t,e,n){return o(this,t,e,n)}})},function(t,e,n){n(39)("Uint8",1,function(o){return function(t,e,n){return o(this,t,e,n)}})},function(t,e,n){n(39)("Uint8",1,function(o){return function(t,e,n){return o(this,t,e,n)}},!0)},function(t,e,n){n(39)("Int16",2,function(o){return function(t,e,n){return o(this,t,e,n)}})},function(t,e,n){n(39)("Uint16",2,function(o){return function(t,e,n){return o(this,t,e,n)}})},function(t,e,n){n(39)S,"Reflect",{getPrototypeOf:function(t){return a(i(t))}})},funble)return!1;a.value=o,c.f(i,n,a)}else c.f(i,n,u(0,o));a.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){ns=function t(e,n,o,a,i,r,c,s){for(var p,l,u=i,h=0,d=!!c&&g(c,s,3);h<a;){if(h in o){if(p=d?d(o[h],h,n):o[h],l=!1,(l=v(p)?void 0!==(l=p[b])?!!l:f(p):l)&&0<r)u=t(e,n,p,m(p.length),u,r-1)-1;else{if(9007199254740991<=u)throw TypeError();e[u]=p}u++}h++}return u}},function(t,e,n){n(362),t.exports=n(10).String.padStart},function(t,e,n){"use364),t.exports=n(10).String.padEnd},function(t,e,n){"use strict";var o=n(0),a=n(176),n=n(91),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);o(o.P+o.F*n,"String",{padEnd:function(t){return a(this,t,1<arguments(t,e,n){n(368),t.exports=n(10).String.trimRight},function(t,e,n){"use strn(10).Object.getOwnPropertyDescriptors},function(t,e,n){var o=n(0),s=n(175),p=n(26),l=n(33),u=n(121);o(o.S,"Object",{getOwnPropertyDescriptors:fuTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=a(h),f=0;f<d.length;f++){var v,m=d[f],g=h[m],b=r[m],y=b&&b.prototype;if(y&&(y[p]||c(y,p,u),y[l]||c(y,l,m),s[m]=u,g))for(v in o)y[v]||i(y,v,o[v],!0)}},function(e,t,n){e=function(r){"use strict";var s,t=Object.prototype,p=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",a=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var a,i,r,c,e=e&&e.prototype instanceof m?e:m,e=Object.create(e.prototype),o=new S(o||[]);return e._invoke=(a=t,i=n,r=o,c=u,function(t,e){if(c===d)throw new Error("Generator is already running");if(c===f){if("throw"===t)throw e;return C()}for(r.method=t,r.arg=e;;){var n=r.delegate;if(n){var o=function t(e,n){var o=e.iterator[n.method];if(o===s){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=s,t(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(o,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;o=o.arg;if(!o)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v;{if(!o.done)return o;n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s)}n.delegate=null;return v}(n,r);if(o){if(o===v)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(c===u)throw c=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);c=d;o=l(a,i,r);if("normal"===o.type){if(c=r.done?f:h,o.arg!==v)return{value:o.arg,done:r.done}}else"throw"===o.type&&(c=f,r.method="throw",r.arg=o.arg)}}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var u="suspendedStart",h="suspendedYield",d="executing",f="completed",v={};function m(){}function g(){}function b(){}var y={};y[o]=function(){return this};e=Object.getPrototypeOf,e=e&&e(e(O([])));e&&e!==t&&p.cal.type){var i=t.arg;return(n=i.value)&&"l(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)iC(){rett){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},r.mark=funcn{__await:t}},_(x.prototype),x.prototype[n]=function(){return this},r.AsyncIterator=x,r.async=function(t,e,n,otor"),w[o]=function(){return this},w.toStrinstruc.method="next",thiLoc)retis.prev&&,v):thil=thisthis.complete(ries[e];if(n.tryLoc===t){var o,a=n.completion;return"throw"===a.type&&(o=a.arg,k(n)),o}}throw!0),o(n),a)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.vn o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var o=n(1),r=n(28),a=o(n(57)),i=o(n(58)),c=o(n(9)),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};e=d(e);if(e&&e.has(t))return e.get(t);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((i=a?Object.getOwnPropertyDescriptor(t,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=t[n])}o.default=t,e&&e.set(t,o);return o}(n(23)),p=o(n(144)),l=n(143),v=o(n(405)),m=o(n(508)),u=n(68),g=o(n(14)),b=o(n(100)),y=o(n(101)),w=n(11),_=n(81),x=n(72),h=o(n(510)),E=n(17),k=n(146),S=n(27),O=o(n(99)),C=n(80),T=o(n(520)),A=n(182),I=o(n(71)),P=n(69),D=n(59),R=n(134);function d(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:e})(t)}function f(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(t,c,e){g.default.getSettings(t,function(){var f=h.default.configure(),r=f.subscribe(function(){var t=f.getState();g.default.setUsers(t.agentUsers),(0,u.setMessages)(t.agentMessages),g.default.setConfig(t.agentConfig)});I.default.removeOldCookies();var t;t=function(){f.dispatch((0,S.initConfig)());var u=f.getState().agentConfig,n=w.KEY__FONT_SIZE_SMALL,h=g.default.searchInsideShadowRoot;if(u.chatWindow.font&&u.chatWindow.font.size)switch(u.chatWindow.font.size){case"medium":n=w.KEY__FONT_SIZE_MEDIUM;break;case"large":n=w.KEY__FONT_SIZE_LARGE}function t(){return(0,s.useEffect)(function(){return function(){if((0,D.isSandbox)())try{window[w.KEY__SDK].status=void 0,r()}catch(t){console.warn(t)}}},[]),s.default.createElement("div",null,s.default.createElement("div",{className:(t=C.DEVICE__MOBILE?w.KEY__AGENT_MOBILE_CLASS:"",e="open"===o?w.KEY_SHADOW_DOM_OPENED:w.KEY_SHADOW_DOM_CLOSED,"".concat(w.KEY__APP_CONTENT," agent-").concat(u.app.id," ").concat(t," ").concat(e))},s.default.createElement("style",{nonce:w.KEY__NONCE,type:"text/css"},T.default[0][1]),s.default.createElement("div",{className:n},s.default.createElement(l.Provider,{store:f},s.default.createElement(v.default,null)))));var t,e}var e,d=(d=document.querySelector("#".concat(w.KEY__APP_CONTAINER)))||document.body.appendChild(((e=document.createElement("div")).id=w.KEY__APP_CONTAINER,e.className=w.KEY__FASTCLICK_IGNORE,e.style.display="none",e)),o=!1===window[w.KEY__SDK].shadowRootOpen?"open":(0,A.getShadowDOMMode)(),a=(0,E.hasShadowDOM)()?d.attachShadow({mode:o}):d,i={__shadowRoot:a};f.dispatch((0,S.setAppConfig)(i)),g.default.setAppConfig(i),E.shadowDom.setShadowRoot(a),p.default.render(s.default.createElement(t,null),a),f.dispatch((0,S.addAssets)()),f.dispatch((0,S.addCustomStyles)()),f.dispatch((0,S.resetQueueVideoResponse)()),setTimeout(function(){var t=!!g.default.searchInsideShadowRoot(x.SELECTOR__WINDOW_EMBEDDED).length,e=!!u.chatWindow.initOpened,n=u._windowOpened,o=u._windowOpenMinimized,a=u._windowSticky,i=e&&!o&&(!(0,E.isSmallWindow)()||t||!t),r=!e&&n&&!t;(0,R.reuseUserAssitantNavigation)(u.app.id,f.dispatch);o=I.default.getLocalStorage("agentSiteVisits")?I.default.getLocalStorage("agentSiteVisits").lastVisit:null;(24<=((new Date).getTime()-o)/36e5||null===o)&&(I.default.setLocalStorage("agentSiteVisits",(new Date).getTime()),c=[{action:"event_type",param:"site_visits"},{action:"event",param:"site_visits"},{action:"url_without_parameters",param:0<window.location.href.indexOf("?")?window.location.href.substring(0,window.location.href.indexOf("?")):window.location.href},{action:"full_url",param:window.location.href}],(0,P.setEventAnalytics)(u.user.id,u.app.id,window.navigator.userAgent,c));var c,e=g.default.getConfig(),n=e.app.id,t=I.default.getLocalStorage("derivationZendeskSitel");"false"!==t&&null!==t&&(o=null==t?void 0:t.key.match(_.PATTERN_ZENDESK_KEY),c=null==t?void 0:t.webChannel,s=t.zendeskUrl,n===c&&o[0]&&(console.info("aivo-zE: refresh"),(0,k.handlerExternalZendesk)({validKey:o[0],tokenForExternalZendesk:c,aivoStore:I.default,dispatch:f.dispatch,zendeskUrl:s})));var s=I.default.getLocalStorage("derivateZendesk");s&&s.settings&&s.date&&(Math.abs((new Date).getTime()-s.date)/6e4<w.KEY__DERIVATION_HOLD_MINUTES?(e.chatWindow.externalChat=s.settings,f.dispatch((0,S.setConfig)(e)),I.default.setLocalStorage("derivateZendesk",JSON.stringify({date:(new Date).getTime(),settings:s.settings}))):I.default.removeLocalStorage("derivateZendesk"));var p=u._iqRoom,l=u._customToken;b.default.checkLiveDerivation()&&y.default.lazyLoadDependencies().then(function(){y.default.conversationExist(p).then(function(t){t?b.default.start(f.dispatch,{complement:{param:{room:p,customToken:l}}}):b.default.disconnect(f.dispatch,p)}).catch(console.warn)}).catch(console.warn),(0,E.isSmallWindow)()&&f.dispatch((0,S.setConfig)({_windowMaximizeOpen:!1})),(i||r)&&f.dispatch((0,S.openWindow)(a)),setTimeout(function(){O.default.goToBottom()}auncher")[0];a&&a.addEventListener("click",function(){f.dispatch((0,ctorAll(".agent-launcher");Array.isArray(a)&&a.forEach(function(t){return t.addEventLisspatch((0,S.openWindow)())})})},1e3),C.DEVICE__IOS&&(0,E.addCSSMobileFix)(),window.coreSettings=function(t){f.dispatch((0,S.resetConfig)(t))},m.default.init(f),window[w.KEY__SDK].status="ok",z(c),(0,E.checkViewPort)(),setTimeout(function(){new L(f).start()})},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(t,1):document.addEventListener("DOMContentLoaded",t)},function(t){window[w.KEY__SDK].status=!1},e)}var j=fhis,n),(0,c.defaultring=t).match(/(\w)+");t=t.split("=");e.params[t[0]]=t[1]||""})}return(0,i.default)(n,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){return this.params[t]}}]),n}(),L=function(){function e(t){(0,a.default)(this,e),this.store=t}return(0,i.default)(e,[{key:"start",value:function(){var e,t,n=this,o=location.search.substr(1),a=new(window.URLSearchParams||j)(o),i=this.store.getState().agentConfig;a.has("send_message")&&((e=a.get("send_message"))?(i._windowOpened||this.store.dispatch((0,S.openWindow)()),setTimeout(function(){vendMessage)(e,t,i.app.id))},1e3)):console.warn("not setted user message, it cannot be undefined or empty")),a.has("add_message")&&((t=a.get("add_message"))?(this.store.dispatch((0,S.openWindow)()),setTimeout(function(){n.store.dispatch((0,S.addMessage)(t))},1e3)):console.warn("not setted bot message, it cannot be undefined or empty")),a.has("external_zendesk")&&(o=i.app.id,a=a.get("external_zendesk"),o&&"true"===a.toLowerCase()&&window.$aivo.registerTokenForExternalZendesk(o))}}]),e}(),z=function e(n){var o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];"function"==typeof n&&window[w.KEY__SDK].status&&setTimeout(function(){var t=(0,E.uuid)();"ok"===window[w.KEY__SDK].status?(window[w.KEY__SDK].time=(new Date).getTime(),o&&(window[t]=N({},window[w.KEY__SDK]),setTimeout(function(){delete window[w.KEY__SDK].chat,delete window[w.KEY__SDK].user,delete window[w.KEY__SDK].launcher,delete window[t]},500)),n(window[t])):e(n,o)},300)};window[w.KEY__SDK]=N(N({},window[w.KEY__SDK]),{},{rtAgentCore)(),window[w.KEY__SDK].status?z(e):(window[w.KEY__SDK].status="loading",M(t,e,n))},ready:function(t){window[w.KEY__SDK].time||z(t,1<arguments.length&&void 0!==arguments[1]&&arguments[1])},shadowRoot:function(t){window[w.KEY__SDK].shadowRootOpen=t}})},function(t,e,n){"use strict";var l=n(145),o="function"==typeof Symbol&&Symbol.for,u=o?Symbol.for("react.element"):60103,p=o?Symbol.for("react.portal"):60106,a=o?Symbol.for("react.fragment"):60107,i=o?Symbol.for("react.strict_mode"):60108,r=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,s=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.forward_ref"):60112,n=o?Symbol.for("react.suspense"):60113,d=o?Symbol.for("react.memo"):60115,f=o?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and rceUpdate:function(){},enqueueReplaceState:function( _(t,e,n){this.props=t,tonent={},y.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=functioArray(c),p=0;p<cn=a+(!(a=t).ke,type:a.type,key:n,ref:a.ref,props:a.props,_owner:a._owner}),o.push(t))}function M(t,e,n,o,a){var i="";P(t,N,e=A(e,i=null!=n?(""+n).replace(C,"$&/"(null===entBatdererActl==t):function(t,e,n){if(null==t)return t;P(t,R,e=A(null,null,e,n)),I(e)},count:function(t){return P(t,function(){return null},null)},toArray:function(t){var e=[]ll(e,c)&&!k.hasOe:t.type,key:a,ref:i,props:o,_owneof:s,_calcule,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).,e.creaateRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=O,e.lazy=function(t){return{$$typeof:f,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return L().useCallback(t,e)},e.useContext=function(t,e){retu=function(){}t(t,e)},e.useImperativeHandle=function(t,e,n){return LLayoutEffect=function(t,e){return L().useLayoutEffect(t,e)},e.useMemo=function(toder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="gw Error(S(227));var p=!1(t)}}.apply(u,aedRegistrationNames;if,e,n){if(x[t])throw Error(S(100,t));x[t]=e,E[t]=e.eventTypes[n].dependencies}var w=[],_={},x={},E={};function k(t){var e,nr(S(280));var e=t.stateNode)for(t=0;t<e.length;t++)I(e[t])}}function R(t,e){return t(e)}function N(t,e,n,o,a){return t(e,n,o,a)}function M(){}var j=R,L=!1,z=!1;function F(){null===T&&null===A||(M(),D())}function U(t,e,n){if(z)return t(e,n);z=!0;try{return j(t,e,n)}finally{z=!1,F()}}var K=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\se 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||e<1}}function H(t,e,n,o,a,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i}var q={};"children dangerouslySetInnerHTML defaultValue defaressHydrationWarning style".split(" ").forEach(function(t){q[t]=new H(t,0,!1,t,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];q[e]=new H(e,1,!1,t[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){q[t]=new H(t,2,!1,t.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q[t]=new H(t,2,!1,t,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(funcnull,!1)}),["checked","multiple","muted","selected"].forEach(function(t){q[t]=new H(t,3,!0,t,null,!1)}),["cat]=new H(t,4,!1,t,null,!1)}),["cols","rows","size","span"].forEach(function(t){q[t]=new H(t,6,!1,t,null,!1)}),["rowSpan","start"].forEach(function(t){q[t]=new H(t,5,!1,t.toLowerCase(),null,!1)});var G=/[\-:]([a-z])/g;function Z(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(G,Z);qk:type".split(" ").forEach(function(t){var e=t.replace(G,Z);q[e]=new H(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(G,Z);q[e]=new H(e,1,!1,t,"http:/Origin"].forEach(function(t){q[t]=new H(t,1,!1,t.toLowerCasebute(e):t.setAttribute(e,""+n))):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,o=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,Q="function"==typeof Symbol&&Symbol.for,tt=Q?Symbol.for("react.element"):60103,et=Q?Symbol.for("react.portal"):60106,nt=Q?Symbol.for("react.fragment"):60107,ot=Q?Symbol.for("react.strict_mode"):60108,at=Q?Symbol.for("react.profiler"):60114,it=Q?Symbol.for("react.provider"):60109,rt=Q?Symbol.for("react.context"):60110,ct=Q?Symbol.for("react.concurrent_mode"):60111,st=Q?Symbol.for("react.folue);null!=n&&((n=""+n)!==t.value&&(t.value=n),nullmath":return"htf(t.namespaceURI!==Mt||"innerHTML"in t)t.innerHTML=e;elsetrinurn Ft(t,e)})}:Ft);function Kt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Yt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Wration"),animationstart:Yt("Animation","AnimationStart"),transitionend:Yt("Transition","TransitionEnd")},Wt={},Vt={};function Ht(t){if(Wt[t])return Wt[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Vt)return Wt[t]=n[e];return t}O&&(Vt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var qt=Ht("animationend"),Gt=Ht("animationiteration"),Zt=Ht("animationstart"),$t=Ht("transitionend"),Jt="abort canplayling}rcElem);break;case"focus":case"blur":Ge(e,"focus",!0),Ge(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&Ge(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Jt.indexOf(t)&&qe(t,e)}n.set(t,null)}}var me,ge,be,ye=!1,we=[],_e=null,xe=null,Ee=null,ke=new Map,Se=new Map,Oe=[],Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend cocase"pointerout":ke.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Se.delete(e.pointerId)}}function Pe(t,e,n,o,a,i){return null===t||t.nativeEvent!n.tag)){if(null!==(e=ee(n)))return t.blockedOn=e,i.unstable_runWithPriority(t.priority,function(){be(n)})}else if(3===e&&n.stateNode.hydrate)return t.blockedOn=3===n.tag?n.stateNode.containerInfo:null}t.blockedOn=null})(n),null===n.blockedOn&&Oe.shift()}var Le={},ze=new Map,Fe=new Map,Ue=["abort","abort",qt,"animationEnd",Gt,"animationIteration",Zt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetnEnd","waiting","waiting"];function Ke(t,e){for(var n=0;n<t.length;n+=2){var o=t[n],a=t[n+1],i={phasedRegistrationNames:{bubbled:i="on"+(a[0].toUpperCase()+a.slice(1)),captured:i+"Capture"},dependencies:[o],eventPriority:e};Fe.set(o,e),ze.set(o,i),Le[a]=i}}Ke("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ke("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove (n);if(null===a)n=null;else{var i=a.tag;if(13===i){if(null!==(n=ee(a)))return n;n=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}t=de(t,o,n,e);try{U(fe,t)}finally{he(t)}return null}var Je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineCl"===e?"":n||"number"!= t=t.style,e){var o,a;e.hasOwnProperty(n)&&(o=0===n.indexOf("--"),a=Qe(n,e[n],o),"float"===n&&(n="cssFloat"),o?t.setProperty(n,a):t[n]=a)}}Object.ken(t,e){iface-src":caseontentWindow).document)}return e}function hn(t.autoFocus}}function wn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function kn(t){t=t.previousSibling;for(var e=0;t;){if(8=n(t){return!(t=t[On]||t[Tn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Pn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(S(33))}function Dn(t){return t[Cn]||null}function Rn(t){for(;(t=t.return)&&5!==t.tag;);return t||null}function Nn(t,e){var n=t.stateNode;if(!n)return null;var o=h(n);if(!o)return null;n=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture"onName&&(e=Nn(t,n.dispa Fn(t){ie(t,jn)}var Un.eventPool.pop();return th(t){t.eventPool="unknownnValue=!1),this.isDefaultPr,isPersistent:Vn,destructor:function(){for(var t in ce)this[t]=null;this.nativeEvent=this._targetInst=this.d=this.isDefaultPrevented=Vn,this._dispatchInstal,isTrusted:null},Hn.extend=function(t){function e(){}function n(){return o.apply(this,arguments)}var o=this;e.prototype=o.prototype;var a=new e;return g(a,n.prototype),((n.prototype=a).constructor=n).Interface=g({},o.Interface,t),n.extend=o.extend,Zn(n),n},Zn(Hn);var $n=Hn.extend({data:null}),Jn=Hn.extend({data:null}),Xn=[9,13,27,32],Qn=O&&"CompositionEvent"in window,n=null;O&&"documentMode"in document&&(n=document.documentMode);var to=O&&"TextEvent"in window&&!n,eo=O&&(!Qn||n&&8<n&&n<=11),no=String.fromCharCode(32),oo={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositao=!1;function io(t,e){switch(t){case"keyupength)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eo&&"ko"!==e.locale?null:e.data;default:retur,so={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function po(t){var e=t&o={change:{phasedRenput ke,fo=n,(ho=e).attachEvent("onpropertychange",wo)):"blur"===t&&yo()}function xo(t){if("selectionchange"===t||"keyup"===t||"keydow.type?a=go:po(r)?bo?a=ko:(a=xo,i=_o):!(c=r.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==r.type&&"radi&"number"===r.type&&Ct(r,"number",r.value)}},So=Hn.extend({view:null,detail:null}),Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Oo[t])null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:To,button:null,buttons:nul(t){if("movementX"in t)return t.movementX;var e=Ao;return Ao=t.screenX,Po?"mousemove"===t.type?t.screenX-e:0:(Po=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Io;return Io=t.screenY,Do?"mousemove"===t.type?t.screenY-e:0:(Do=!0,0)}}),No=Ro.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Mo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLear(c=i,i=[];o&&o!==c&&(null===(l=o.alternate)||lternate)||l!==c);)o.push(s),s=Rn(s)tion zo(t,e){if(jo(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++)if(!Lo.call(e,n[o])||!jo(t[n[o]],e[n[o]]))return!1;return!0}var Fo=O&&"documentMode"in(n=(n.ownerDocument&&n.ownerDocumen.contentEditable||(Ko=a,Yo=e,Bo=null);break;case"blur":Bo=Yo=Ko=null;break;case"mousedown":Wo=!0;bre(n,o);case"selectionchange":if(Fo)brell}),qo=Hn.extend({clipboardData:function(t){return("clipboardData"in t?t:window).clipboardData}}),Go=So.extend({relatedTarget:null});function Zo(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,32<=(t=10===t?13:t)||13===t?t:0}var $o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"HomollLock",224:"Meta"},Xo=So.extend({key:function(t){if(t.key){var e=$o[t.key]||t.key;if("Unidentified"!==e)return e}returing.froidenti:null,getModifierState:To,charCode:function(t){return"keypress"===t.type?Zo(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Zo(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Qo=Ro.engedTouame:null,elapsedTime:null,pseudoElement:null}),na=Ro.extend(e"copy":case"cut":case"paste":t=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=No;break;default:t=Hn}return Fn(e=t.getPooled(a,e,n,o)),e}};if(v)throw Error(S(101));v=Array.prototype.slice.call("ResponderEventPlugin Simple();h=Dn,o=In,d=Pn;k({SimpleEventPlugin:n,EntereactInternalMemoizedMergedChildContext||ca,la=sa.current,ra(sa,t),ra(pa,pa.current),1}function ga(t,e,n){var o=t.stateNode;if(!o)throw Error(S(169));n?(t=va(t,e,la),o.__reactInternalMemoizedMergedChildContext=t,ia(pa),ia(sa),ra(sa,t)):ia(pa),ra(pa,n)}var ba=i.unstable_runWithPriority,ya=i.unstable_scheduleCallback,wa=i.unstable_cancelCallback,Sn=i.unstable_requestPaint,_a=i.unstable_now,xa=i.unstable_getCurrentPriorityLevw null!==Pa&&(Pa=Pa.slice(e+1)),ya(Eaf("nunull!==(t=t.updateQueue)&&(null===(n=(t=t.shared).pending)?e.next=e:(e.next=n.next,n.next=e),t.pending=e)}function ii(t,e){var n=t.alternate;null!==n&&ni(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e).next=e:(e.next=n.next,n.next=e)}function ri(t,e,n,o){var a=t.updateQueue;ti=!1;var i=a.baseQueue;if(null!==(m=a.shared.pending)&&(null!==i&&(r=i.next,i.next=m.next,m.next=r),i=m,(a.shared.pending=null)===(r=t.alternate)||null!==(r=r.updateQueue)&&(r.baseQueue=m)),null!==i){var r=i.next,c=a.baseState,s=0,p=null,l=null,u=null;if(null!==r)for(var h=r;;){if((m=h.expirationTime)<o){var d={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===u?(l=u=d,p=c):u=u.next=d,s<m&&(s=m)}else{null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),os(m,h.suspenseConfig);t:{var f=t,v=h,m=e,d=n;switch(v.tag){case 1:if("function"==typeof(f=v.payload)){c=f.call(d,c,m);break t}c=f;break t;case 3:f.effectTag=-4097&f.effectTag|64;case 0:if(null==(m="function"==typeof(f=v.payload)?f.call(d,c,m):f))break t;c=g({},c,m);break t;case 2:ti=!0}}null!==h.callback&&(t.effectTag|=32,null===(m=a.,a.baseQueue=u,as(s),t.expirationTime=s,t.memoizedState=c}=a,a=n,"function"tCurrentBatchCon(t.updateQueue.baseSWc(),a=si.suspense;;Mount&&a.componen}if("string"!eof){case tt:return t=t.get(null===o.key?n:o.key)||null,o.type===nt?l(e,t,o.props.children,a,o.key):s(e,t,o,a);case et:return p(e,t=t.get(null===o.key?n:o.key)||null,o,a)}if(mi(o)||vt(o))return l(e,t=t.get(n)||null,o,a,null);bi(e,o)}return null}return function(t,e,n,o){var a="object"==typeof n&&null!==n&&n.type===nt&&null===n.key,i="object"==typeof(n=a?n.props.children:n)&&null!==n;if(i)switch(n.$$typeof){case tt:t:{for(i=n.key,a=e;null!==a;){if(a.key===i){switch(a.tag){case 7:if(n.type!==nt)break;d(t,a.sibling),(e=r(a,n.props.children)).return=t,t=e;break t;default:if(a.elementType===n.type){d(t,a.sibling),(e=r(a,n.props)).ref=gi(0,a,n),e.return=t,t=e;break t}}d(t,a);break}h(t,a),a=a.sibling}t=n.type===nt?((e=xs(n.props.children,t.mode,o,n.key)).return=t,e):((o=_s(n.type,n.key,n.props,null,t.mode,o)).ref=gi(0,e,n),o.return=t,o)}return c(t);case et:t:{for(a=n.key;null!==e;){if(e.key===a){if(4===e.tag&&e.stateNode.containerInfo===n.containerInfo&&e.stateNode.implementation===n.implementation){d(t,e.sibling),(e=r(e,n.children||[])).r))&&(t=v(r,t,c),null===i?t,c),null===i?a=p:i.sibling=p,i=p);return a}for(r=f(e,r);!p.done;c++,p=n.next())null!==(p=b(r,e,c,p.value,o))&&(u&&null!==p.alternate&&r.delete(null===p.key?c:p.key),t=v(p,t,c),null===i?a=p:i.sibling=p,i=p);return u&&r.forELt(e=(t=8===t?urn e}else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e$i(1|e,n,void 0,void 0===o?null:o)}function Qi(t,e,n,o){var a=Vction nr(t,eState;return null!==o&&null!==e&&Yi(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function pr(e,n,o){var t=ja();za(t<98?98:t,function(){e(!0)}),za(97<t?97:t,function(){var t=Mi.suspense;Mi.suspense=void 0===n?null:n;try{e(!1),o()}finally{Mi.suspense=t}})}function lr(t,e,n){var o,a={expirationTime:o=Vc(o=Wc(),t,a=si.suspense),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null},i=e.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),e.pending=a,i=t.alternate,t===Li||null!==i&&i===Li)Ui=!0,a.expirationTime=ji,Li.expirationTime=ji;else{if(0===t.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=e.lastRenderedReducer))try{var r=e.lastRenderedState,c=i(r,n);if(a.eagerReducer=i,a.eagerState=c,jo(c,r))return}catch(t){}Hc(t,o)}}var ur={readContext:Qa,useCallback:Ki,useContextKi,useRef:Ki,usender:Ki,Qa,useEffect(),n.mo=Wi();return e=void 0!==n?n(e):e,o.memoizedState=o.baseState=e,t=(t=o.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=lr.bind(null,Li,t),[o.memoizedState,t]},useRef:function(t){return Wi()DeferredValue:function(e,n){var t=Zi(e),o=t[0],a=t[1];return tr(function(){var t=Mi.suspense;Mi.suspense=void 0===n?null:n;try{a(e)}finally{Mi.suspense=t}},[e,n]),o},useTransition:function(t){var e=(n=Zi(!1))[0],n=n[1];return[rr(pr.bind(null,n,t),[n,t]),e]}},dr={readContext:Qa,useCallback:cr,useContext:Qa,useEffect:er,useImperativeHandle:ar,useLayoutEffect:nr,useMemo:sr,useReducer:qi,useRef:Ji,useState:function(){return qi(Hi)},useDebugValue:ir,useResponder:Ri,useDeferredValue:function(e,n){var t=qi(Hi),o=t[0],a=t[1];return er(function(){var t=Mi.suspense;Mi.suspense=void 0===n?null:n;try{a(e)}finally{Mi.suspense=t}},[e,n]),o},useTransition:function(t){var e=(n=qi(Hi))[0],n=n[1];retureducer:Gi,useReferredValue:function(e=t.nextSibling,e=0;t;){if(8hild,null,i),e.child=wi(e,null,c,i)):Or(t,e,c,i),e.memoizedState=o.state,a&&ga(e,n,!0),e.child}function Nr(t){var e=t.stateNode;e.pendingContext?fa(0,e.pendingContext,e.pendingContext!==e.context):e.context&&fa(0,e.context,!1),Ci(t,e.containerInfo)}var Mr={dehydrated:null,retryTime:0};function jr(t,e,n){var o,a=e.mode,i=e.pendingProps,r=Pi.current,c=!1;if((o=!(o=0!=(64&e.effectTag))?0!=(2&r)&&(null===t||null!==t.memoizedState):o)?(c=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(r|=1),ra(Pi,1&r),null===t){if(void 0!==i.fallback&&wr(e),c){if(c=i.fallback,0==(2&((i=xs(null,a,0,null)).return=e).mode))for(t=(null!==e.memoizedState?e.child:e).child,i.child=t;null!==t;)t.return=i,t=t.sibling;return(n=xs(c,a,n,null)).return=e,i.sibling=n,e.memoizedState=Mr,e.child=i,n}return a=i.children,e.memoizedState=null,e.child=_i(e,null,a,n)}if(null!==t.memoizedState){if(a=(t=t.child).sibling,c){if(i=i.fallback,0==(2&((n=ws(t,t.pendingProps)).return=e).mode)&&(c=(null!==e.memoizedState?e.child:e).child)!==t.child)for(n.child=c;null!==c;)c.return=n,c=c.sibling;return(a=ws(a,i)).return=e,n.sibling=a,n.childExpirationTime=0,e.memoizedState=Mr,e.child=n,a}return n=wi(e,t.child,i.children,n),e.memoizedState=null,e.child=n}if(t=t.child,c){if(c=i.fallback,(i=xs(null,a,0,null)).return=e,null!==(i.child=t)&&(t.return=i),0==(2&e.mode))for(t===n;){if(5===n.tag|berssContentEditableWarning"!==r&&"suppressHy;)t(e,n,o),e=e.sibling}:function t(e,n,o){var a=e.tag,i=5===a||6===a;if(i)e=i?e.stateNode:e.stateNode.instance,n?o.insertBefore(e,n):o.appendChild(e);else if(4!==a&&(e=e.child,null!==e))for(t(e,n,o),e=e.sibling;null!==e;)t(e,n,o),e=e.sibling})(t,n,e)}function ec(t,e,n){for(var o,a,i=e,r=!1;;){if(!r){r=i.return;t:for(;;){if(null===r)throw Error(S(160));switch(o=r.stateNode,r.tag){case 5:a=!1;break t;case 3:case 4:o=o.containerInfo,a=!0;break t}r=r.return}r=!0}if(5===i.tag||6===i.tag){t:for(var c=t,s=i,p=n,l=s;;)if(Xr(c,l,p),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break t;for(;null===l.sibling;){if(null===l.return||l.return===s)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}a?(c=o,s=i.stateNode,(8===c.nodeType?c.parentNode:c).removeChild(s)):o.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){o=i.stateNode.containerInfo,a(n.updateQueue=null)===(o=n.stateNode)&&(o=n});var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(t.callback=function(){"function"!=typeof a&&(null===jc?jc=new Set([this]):jc.add(this),Gr(e,n));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}var cc=Math.ceil,sc=$.ReactCurrentDispnull!=(o=o.type.childContextTypes)&&da();break;case 3:Ti(),ia(pa),ia(sa);break;case 5:Ii(o);break;case 4:Ti();break;case 13:case 19:ia(Pi);break;case 10:$a(o)}n=n.return}xc=ws((_c=t).current,null),Ec=e,kc=fc,Cc=Oc=1073741823,Tc=Sc=null,Ac=0,Ic=!1}function es(t,e){do{try{if(Za(),Ni.current=ur,Ui)for(var n=Li.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}if(ji=0,Fi=zi=Li=null,Ui=!1,null===xc||null===xc.return)return kc=vc,Sc=e,xc=null;t:{var a=t,i=xc.return,r=e;if(e=Ec,(b=xc).effectTag|=2048,(b.firstEffect=b.lastEffect=null)!==r&&"object"==typeof r&&"function"==typeof r.then){var c,s=r;0==(2&b.mode)&&((c=b.alternate)?(b.updateQueue=c.updateQueue,b.memoizedState=c.memoizedState,b.expirationTime=c.expirationTime):(b.updateQueue=null,b.memoizedState=null));var p,l,u,h=0!=(1&Pi.current),d=i;do{if(u=(u=13===d.tag)?null!==(p=d.memoizedState)?null!==p.dehydrated:void 0!==(l=d.memoizedProps).fallback&&(!0!==l.unstable_avoidThisFallback||!h):u){var f,v,m=d.updateQueue;if(null===m?((f=new Set).add(s),d.updateQueue=f):m.add(s),0==(2&d.mode)){d.effectTag|=64,b.effectTag&=-2981,1===b.tag&&(null===b.alternate?b.tag=17:((v=oi(1073741823,null)).tag=2,ai(b,v))),b.expirationTime=1073741823;break t}var g,r=void 0,b=e,y=a.pingCache;null===y?(y=a.pingCache=new ac,r=new Set,y.set(s,r)):void 0===(r=y.get(s))&&(r=new Set,y.set(s,r)),r.has(b)||(r.add(b),g=ds.bind(null,a,s,b),s.then(g,g)),d.effectTag|=4096,d.expirationTime=e;break t}}while(null!==(d=d.return));r=Error((mt(b.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(b))}kc!==yc&&(kc=mc),r=Yr(r,b),d=i;do{switch(d.tag){case 3:s=r;d.effectTag|=4096,d.expirationTime=e,ii(d,ic(d,s,e));break t;case 1:s=r;var w=d.type,_=d.stateNode;if(0==(64&d.effectTag)&&("frent;return sc.current=ur,null===t?ur:t}function os(t,e){t<Oc&&2<t&&(Oc=t),null!==e&&t<Cc&&2<t&&(Cc=t,Tc=e)}function as(t){Ac<t&&(Ac=t)}function is(t){var e=fs(t.alternate,t,Ec);return t.memoizedProps=t.pendingProps,null===e&&(e=rs(t)),pc.current=null,e}function rs(t){xc=t;do{var e=xc.alternate;if(t=xc.return,0==(2048&xc.effectTag)){if(e=function(t,e,n){var o=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ha(e.type)&&da(),null;case 3:return Ti(),ia(pa),ia(sa),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!xr(e)||(e.effectTag|=4),Wr(e),null;case 5:Ii(e),n=Oi(Si.current);var a=e.type;if(null!==t&&null!=e.stateNode)Vr(t,e,a,o,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!o){if(null===e.stateNode)throw Error(S(166));return null}if(t=Oi(Ei.current),xr(e)){var i,r,o=e.stateNode,a=e.type,c=e.memoizedProps;switch(o[On]=e,o[Cn]=c,a){case"iframe":case"object":case"embed":qe("load",o);break;case"video":case"audio":for(t=0;t<Jt.length;t++)qe(Jt[t],o);break;case"source":qe("error",o);break;case"img":case"image":case"link":qe("error",o),qe("load",o);break;case"form":qe("reset",o),qe("submit",o);break;case"details":qe("toggle",o);break;case"input":Et(o,c),qe("invalid",o),rn(n,"onChange");break;case"select":o._wrapperState={wasMultiple:!!c.multiple},qe("invalid",o),rn(n,"onChange");break;case"textarea":Pt(o,c),qe("invalid",o),rn(n,"onChange")}for(i in nn(a,c),t=null,c)c.hasOwnProperty(i)&&(r=c[i],"children"===i?"string"==typeof r?o.textContent!==r&&(t=["children",r]):"number"==typeof r&&o.textContent!==""+r&&(t=["children",""+r]):x.hasOwnProperty(i)&&null!=r&&rn(n,i));switch(a){case"input":wt(o),Ot(o,c,!0);break;case"textarea":wt(o),Rt(o);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(o.onclick=cn)}n=t,null!==(e.updateQueue=n)&&(e.effectTag|=4)}else{switch(i=9===n.nodeType?n:n.ownerDocument,(t=t===an?jt(a):t)===an?"script"===a?((t=i.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof o.is?t=i.createElement(a,{is:o.is}):(t=i.createElement(a),"select"===a&&(i=t,o.multiple?i.multiple=!0:o.size&&(i.size=o.size))):t=i.createElementNS(t,a),t[On]=e,t[Cn]=o,Br(t,e,!1,!1),e.stateNode=t,i=on(a,o),a){case"iframe":case"object":case"embed":qe("load",t),r=o;break;case"video":case"audio":for(r=0;r<Jt.length;r++)qe(Jt[r],t);r=o;break;case"source":qe("error",t),r=o;break;case"img":case"image":case"link":qe("error",t),qe("load",t),r=o;break;case"form":qe("reset",t),qe("submit",t),r=o;break;case"details":qe("toggle",t),r=o;break;case"input":Et(t,o),r=xt(t,o),qe("invalid",t),rn(n,"onChange");break;case"option":r=Tt(t,o);break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=g({},o,{value:void 0}),qe("invalid",t),rn(n,"onChange");break;case"textarea":Pt(t,o),r=It(t,o),qe("invalid",t),rn(n,"onChange");break;default:r=o}nn(a,r);var s,p=r;for(c in p)p.hasOwnProperty(c)&&(s=p[c],"style"===c?tn(t,s):"dangerouslySetInnerHTML"===c?null!=(s=s?s.__html:void 0)&&Ut(t,s):"children"===c?"string"==typeof s?"textarea"===a&&""===s||Kt(t,s):"number"==typeof s&&Kt(t,""+s):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(x.hasOwnProperty(c)?null!=s&&rn(n,c):null!=s&&J(t,c,s,i)));switch(a){case"input":wt(t),Ot(t,o,!1);break;case"textarea":wt(t),Rt(t);break;case"option":null!=o.value&&t.setAttribute("value",""+bt(o.value));break;case"select":t.multiple=!!o.multiple,null!=(n=o.value)?At(t,!!o.multiple,n,!1):null!=o.defaultValue&&At(t,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof r.onClick&&(t.onclick=cn)}yn(a,o)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Hr(t,e,t.memoizedProps,o);else{if("string"!=typeof o&&null===e.stateNode)throw Error(S(166));n=Oi(Si.current),Oi(Ei.current),xr(e)?(n=e.stateNode,o=e.memoizedProps,n[On]=e,n.nodeValue!==o&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[On]=e).stateNode=n}return null;case 13:return(ia(Pi),o=e.memoizedState,0!=(64&e.effectTag))?(e.expirationTime=n,e):(n=null!==o,o=!1,null===t?void 0!==e.memoizedProps.fallback&&xr(e):(o=null!==(a=t.memoizedState),n||null===a||null!==(a=t.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=a).nextEffect=c:(e.firstEffect=e.lastEffect=a).nextEffect=null,a.effectTag=8)),n&&!o&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Pi.current)?kc===fc&&(kc=gc):(kc!==fc&&kc!==gc||(kc=bc),0!==Ac&&null!==_c&&(Cs(_c,Ec),Ts(_c,Ac)))),(n||o)&&(e.effectTag|=4),null);case 4:return Ti(),Wr(e),null;case 10:return $a(e),null;case 17:return ha(e.type)&&da(),null;case 19:if(ia(Pi),null===(o=e.memoizedState))return null;if(a=0!=(64&e.effectTag),null===(c=o.rendering)){if(a)Kr(o,!1);else if(kc!==fc||null!==t&&0!=(64&t.effectTag))for(c=e.child;null!==c;){if(null!==(t=Di(c))){for(e.effectTag|=64,Kr(o,!1),null!==(a=t.updateQueue)&&(e.updateQueue=a,e.effectTag|=4),null===o.lastEffect&&(e.firstEffect=null),e.lastEffect=o.lastEffect,o=e.child;null!==o;)c=n,(a=o).effectTag&=2,a.nextEffect=null,a.firstEffect=null,(a.lastEffect=null)===(t=a.alternate)?(a.childExpirationTime=0,a.expirationTime=c,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=t.childExpirationTime,a.expirationTime=t.expirationTime,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,c=t.dependencies,a.dependencies=null===c?null:{expirationTime:c.expirationTime,firstContext:c.firstContext,responders:c.responders}),o=o.sibling;return ra(Pi,1&Pi.current|2),e.child}c=c.sibling}}else{if(!a)if(null!==(t=Di(c))){if(e.effectTag|=64,a=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Kr(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate)return null!==(e=e.lastEffect=o.lastEffect)&&(e.nextEffect=null),null}else 2*Ma()-o.renderingStartTime>o.tailExpiration&&1<n&&(e.effectTag|=64,Kr(o,!(a=!0)),e.expirationTime=e.childExpirationTime=n-1);o.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=o.last)?n.sibling=c:e.child=c,o.last=c)}return null!==o.tail?(0===o.tailExpiration&&(o.tailExpiration=Ma()+500),n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=e.lastEffect,o.renderingStartTime=Ma(),n.sibling=null,e=Pi.current,ra(Pi,a?1&e|2:1&e),n):null}throw Error(S(156,e.tag))}(e,xc,Ec),1===Ec||1!==xc.childExpirationTime){for(var n=0,o=xc.child;null!==o;){var a=o.expirationTime,i=o.childExpirationTime;(n=n<a?a:n)<i&&(n=i),o=o.sibling}xc.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.tTag)))throw Error(S(285));return t.effectTag=-4097&e|64,t;case 5:return Ii(t),null;case 13:return ia(Pi),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ia(P}}(xc)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=xc.sibling))return e}while(null!==(xc=t));return kc===fc&&(kc=yc),null}function cs(t){var e=t.expirationTime;return(t=t.childExpirationTime)<e?e:t}function ss(t){var e=ja();return za(99,function(t,e){for(;ps(),null!==zc;);if((wc&(hc|dc))!==lc)throw Error(S(327));var n=t.finishedWork,o=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var a,i=cs(n);if(t.firstPendingTime=i,o<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:o<=t.firstSuspendedTime&&(t.firstSuspendedTime=o-1),o<=t.lastPingedTime&&(t.lastPingedTime=0),o<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===_c&&(xc=_c=null,Ec=0),i=1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect,null!==i){var r=wc;wc|=dc,pc.current=null,gn=He;var c=un();if(hn(c)){if("selectionStart"in c)var s={start:c.selectionStart,end:c.selectionEnd};else t:{var p=(s=(s=c.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(p&&0!==p.rangeCount){s=p.anchorNode;var l=p.anchorOffset,u=p.focusNode;p=p.focusOffset;try{s.nodeType,u.nodeType}catch(t){s=null;break t}var h=0,d=-1,f=-1,v=0,m=0,g=c,b=null;e:for(;;){for(;g!==s||0!==l&&3!==g.nodeType||(d=h+l),g!==u||0!==p&&3!==g.nodeType||(f=h+p),3===g.nodeType&&(h+=g.nodeValue.length),null!==(a=g.firstChild);)b=g,g=a;for(;;){if(g===c)break e;if(b===shotBeforeUpdate(e.elementType===e.type?n:Wa(e.type,n),o),t.__reactInternalSnapshotBeforeUpdate=e);case 3:case 5:case 6:case 4:case 17:return}throw Error(S(163))}(Rc.alternate,Rc),0==(512&t)||Lc||(Lc=!0,Fa(97,function(){return ps(),null})),Rc=Rc.nextEffect}}()}catch(t){if(null===Rc)throw Error(S(330));hs(Rc,t),Rc=Rc.nextEffect}}while(null!==Rc);Rc=i;do{try{for(c=t,s=e;null!==Rc;){var y,w,_=Rc.effectTag;switch(16&_&&Kt(Rc.stateNode,""),128&_&&(null===(y=Rc.alternate)||null!==(w=y.ref)&&("function"==typeof w?w(null):w.curr:ec(c,l=Rc,s),function t(e){var n=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=nu=w.focusedElem,s=w.selectionRange,y!==_&&_&&_.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==s&&hn(_)&&(y=s.start,void 0===(w=s.end)&&(w=y),"selectionStart"in _?(_.selectionStart=y,_.selectionEnd=Math.min(w,_.value.length)):(w=(y=_.ownerDocument||document)&&y.defaultView||window).getSelection&&(w=w.getSelection(),l=_.textContent.length,c=Math.min(s.start,l),s=void 0===s.end?c:Math.min(s.end,l),!w.extend&&s<c&&(l=s,s=c,c=l),l=ln(_,c),u=ln(_,s),l&&u&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==u.node||w.focusOffset!==u.offset)&&((y=y.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),s<c?(w.addRange(y),w.extend(u.node,u.offset)):(y.setEnd(u.node,u.offset),w.addRange(y))))),y=[];for(w=_;w=w.parentNode;)1===w.nodeType&&y.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<y.length;_++)(w=y[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}He=!!gn,bn=gn=null,t.current=n,Rc=i;do{try{for(_=t;null!==Rc;){var x,E,k=Rc.effectTag;36&k&&function(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return Jr(3,n);case 1:var o;return t=n.stateNode,4&n.effectTag&&(null===e?t.componentDidMount():(o=n.elementType===n.type?e.memoizedProps:Wa(n.type,e.memoizedProps),t.componentDidUpdate(o,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),null!==(e=n.updateQueue)&&ci(0,e,t);case 3:if(null!==(e=n.updateQueue)){if((t=null)!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}ci(0,e,t)}return;case 5:return t=n.stateNode,null===e&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&t.focus();case 6:case 4:case 12:return;case 13:return null!==n.memoizedState||null!==(n=n.alternate)&&(null===(n=n.memoizedState)||null!==(n=n.dehydrated)&&je(n));case 19:case 17:case 20:case 21:return}throw Error(S(163))}(_,Rc.alternate,Rc),128&k&&(y=void 0,null!==(x=Rc.ref)&&(E=Rc.stateNode,Rc.tag,y=E,"function"==typeof x?x(y):x.current=y)),Rc=Rc.nextEffect}}catch(t){if(null===Rc)throw Error(S(330));hs(Rc,t),Rc=Rc.nextEffect}}while(null!==Rc);Rc=null,Ia(),wc=r}else t.current=n;if(Lc)Lc=!1,zc=t,Fc=e;else for(Rc=i;null!====(n=qc(n,1073741823))&&Zc(n);break}}n=n.return}}function ds(t,e,n){var o=t.pingCache;null!==o&&o.delete(e),_c===t&&Ec===n?kc===bc||kc===gc&&1073741823===Oc&&Ma()-Pc<Dc?ts(t,Ec):Ic=!0:Os(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Zc(t)))}var fs=function(t,e,n){var o,a,i=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||pa.current)Sr=!0;else{if(i<n){switch(Sr=!1,e.tag){case 3:Nr(e),Er();break;case 5:if(Ai(e),4&e.mode&&1!==n&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:ha(e.type)&&ma(e);break;case 4:Ci(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,r=e.type._context,ra(Va,r._currentValue),r._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&n<=i?jr(t,e,n):(ra(Pi,1&Pi.current),null!==(e=Ur(t,e,n))?e.sibling:null);ra(Pi,1&Pi.current);break;case 19:if(i=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(i)return Fr(t,e,n);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),ra(Pi,Pi.current),!i)return null}return Ur(t,e,n)}Sr=!1}}else Sr=!1;switch(e.expirationTime=0,e.tag){case 2:i=e.type;return null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=ua(e,sa.current),Xa(e,n),r=Bi(null,e,i,t,r,n),e.effectTag|=1,e="object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ha(i)?(c=!0,ma(e)):c=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ei(e),"function"==typeof(l=i.getDerivedStateFromProps)&&li(e,0,l,t),r.updater=ui,vi((e.stateNode=r)._&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingPropult=t)},function(t){0===o._status&&(o._status=2,o._result=t)})),1!==r._status)throw r._result;switch(r=r._result,e.type=r,c=e.tag=function(t){if("function"==typeof t)return ys(t)?1:0;if(null!=t){if((t=t.$$typeof)===st)return 11;if(t===ut)return 14}return 2}(r),t=Wa(r,t),c){case 0:e=Pr(null,e,r,t,n);break t;case 1:e=Dr(null,e,r,t,n);break t;case 11:e=Cr(null,e,r,t,n);break t;case 14:e=Tr(null,e,r,Wa(r.type,t),i,n);break t}throw Error(S(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,Pr(t,e,i,r=e.elementType===i?r:Wa(i,r),n);case 1:return i=e.type,r=e.pendingProps,Dr(t,e,i,r=e.elementType===i?r:Wa(i,r),n);case 3:if(Nr(e),i=e.updateQueue,null===t||null===i)throw Error(S(282));if(i=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,ni(t,e),ri(e,i,null,n),(i=e.memoizedState.element)===r)Er(),e=Ur(t,e,n);else{if((r=e.stateNode.hydrate)&&(mr=En(e.stateNode.containerInfo.firstChild),vr=e,r=gr=!0),r)for(n=_i(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Or(t,e,i,n),Er();e=e.child}return e;case 5:return Ai(e),null===t&&wr(e),i=e.type,r=e.pendingProps,c=null!==t?t.memoizedProps:null,l=r.children,wn(i,r)?l=null:null!==c&&wn(i,c)&&(e.effectTag|=16),Ir(t,e),e=4&e.mode&&1!==n&&r.hidden?(e.expirationTime=e.childExpirationTime=1,null):(Or(t,e,l,n),e.child);case 6:return null===t&&wr(e),null;case 13:return jr(t,e,n);case 4:return Ci(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=wi(e,null,i,n):Or(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Cr(t,e,i,r=e.elementType===i?r:Wa(i,r),n);case 7:return Or(t,e,e.pendingProps,n),e.child;case 8:case 12:return Or(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,r=e.pendingProps,l=e.memoizedProps;var c=r.value,s=e.type._context;if(ra(Va,s._currentValue),s._currentValue=c,null!==l)if(s=l.value,0===(c=jo(s,c)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(s,c):1073741823))){if(l.children===r.children&&!pa.current){e=Ur(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var p=s.dependencies;if(null!==p)for(var l=s.child,u=p.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&c)){1===s.tag&&((u=oi(n,null)).tag=2,ai(s,u)),s.expirationTime<n&&(s.expirationTime=n),null!==(u=s.alternate)&&u.expirationTime<n&&(u.expirationTime=n),Ja(s.return,n),p.expirationTime<n&&(p.expirationTime=n);break}u=u.next}else l=10===s.tag&&s.type===e.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===e){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}Or(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=(c=e.pendingProps).children,Xa(e,n),i=i(r=Qa(r,c.unstable_observedBits)),e.effectTag|=1,Or(t,e,i,n),e.child;case 14:return c=Wa(r=e.type,e.pendingProps),Tr(t,e,r,c=Wa(r.type,c),i,n);case 15:return Ar(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,s(e))throw Error(S(2:null,s._._"input[if(!a)threlect":null!=(e=n.value)&&A}},R=Xc,M=function(){var tar zs,j=function(t,e){var n=wc;wc|=2;try{return t(e)}finally{(wc=n)===lc&&Ka()}},Q={Events:[In,Pn,Dn,k,_,Fn,function(t){ie(t,zn)=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return;try{var n=e.inject(t);vs=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.eferUnmount(n,t)}catch(t){okState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=oe(t))?null:t.stateNode},findFiPortal=Ls,e.t=null===(t=oe(e))?null:t.stateNode;if("function"==typeof t.render)throw Error(S(188));thro)!==lc)throw Error(S(187)nction(t,e,n){if(!Ms(e))throw Error(S(200));return js!t._reactRootContainer&&(Qc(function()ction(t,e){return Ls(rguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,o=2*(o+1)-1,r=t[i],c=1+i,s=t[c];if(void 0!==r&&O(r,n)<0)o=void 0!==s&&Oc}}}return e}}function O(t,e){var n=t.sortIndex-e.sortIndex;retyunt=,t),n=null}catch(t){throw setTimeout(a,0),t}},r=Date.now(),c.unstable_now=function(){return Date.now()-r},i=function(t){null!==n?setTimeout(i,0,t):(n=t,setTimeout(a,0))},s=function(t,e){o=setTimeout(t,e)},p=function(){clearTimeout(o)},w=function(){return!1},F=c.unstable_forceFrameRate=function(){}):(l=window.performance,u=window.Date,h=window.setTimeout,d=window.clearTimeout,"undefined"!=typeof console&&(_=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fction"!=typeof _&&console.upport cancelAnimationFrame.older browsers. https://fb.me/react-polyfnction(){return c.unstable_now()>=y},F=function()thr(sa==m){var t=c.unstable_now();y=t+b;try{m(!0,t)back=o:I===k(C)&&S(C),M(e)):S(C),I=k(C)}var i,r=null!==I||(null!==(i=k(T))&&s(j,i.startTime-e),!1);return r}finally{I=null,P=n,D=!1}}function z(t){switch(t){case 1:return-1;case 2:return 250;case 5:re 1e4;default:return 5e3}}var c.unstable_ImmediatePriority=1,c.unc.unstable_NormalPriority=3,c.ununstable_UserBlo{R||D||(R=!0,i(L))},c.unstable_getCurrentPriorityLevel=function(){return P},c.unstable_getFilt:e=P}var n=P;P=e;try{return="number"==typeof n.ti===k(T)&&(N?p():N=!0,s(jlof t||"function"==typeof t||t===r||t===h||t===s||t===c||t===f||t===v||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===p||t.$$typ=_||t.$$typeof===b)},e.typeOf=x},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(143),i=n(406),n=o(n(204)),i=(0,a.connect)(function(t){return{agentConfig:t.agentConfig,appConfig:t.appConfig}})((0,n.default)(i.AppWrapper,"AppWrapper"type.valueOf.call(Reflect.construct(Boolean,[],fu,i.default)(n);return e=o?(t=(0,i.default)(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),(0,a.default)(this,e)}}n=function(t){(0,l.default)(i,t);var e,n,o,a=m(i);function i(){return(0,s.default)(this,i),a.apply(this,arguments)}return(0,p.default)(i,[{key:"importAgentApp",value:(o=(0,c.default)(r.default.mark(function t(){var e,n,o,a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.dispatch,n=this.props.agentConfig,t.next=4,(0,d.importAgentAppChunk)();case 4:o=t.sent,a=n.chatWindow.launcher.position||"right_bottom",a="right"===a.split("_")[0]?"right":"left",e((0,f.setAppConfig)({AgentApp:o})),n.chatWindow.staticPosition||v.default.dragWindow(a);case 9:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"importLauncher",value:(n=(0,c.default)(r.default.mark(function t(){var e,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.dispatch,t.next=3,(0,d.importLauncherChunk)();case 3:n=t.sent,e((0,f.setAppConfig)({Launcher:n}));case 5:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"importAdvert",value:(e=(0,c.default)(r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.dispatch,t.next=3,(0,d.importAdvertChunk)();case 3:n=t.sent,e((0,f.setAppConfig)({Advert:n}));case 5:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"renderAgentApp",value:function(){var t=this.props,e=t.agentConfig,t=t.appConfig.AgentApp;return!t&&e._windowOpened&&this.importAgentApp(),t?u.default.createElement(t,null):null}},{key:"renderLauncher",value:function(){var t=this.props,e=t.agentConfig,n=t.appConfig.Launcher,t=e.chatWindow.launcher&&e.chatWindow.launcher.enabled;return!n&&t&&this.importLauncher(),n&&!e._windowOpened?u.default.createElement(n,null):null}},{key:"renderAdvert",value:function(){var t=this.props.appConfig.Advert;return t||this.importAdvert(),t?u.default.createElement(t,null):null}},{key:"render",value:function(){var t=this.props.agentConfig._agentCoreHidden;return u.default.createElement("div[e];if(n.tryLoc===t){var o,a=n.completion;return"throw"===a.type&&(o=a.arg,k(n)),o}}throwratorRuntime = r")(e)}},function(n,t){function o(t,e){return n.exports=o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n.exports.default=n.exports,n.exports.__esModule=!0,o(t,e)}n.exports=o,n.exports.default=n.exports,n.exports.__esModule=!0},function(t,e,o){"use strict";var n=o(1);Object.defineProperty(e,"__esModule",{value:!0}),e.lazyVideoConversational=e.lazySpeechToText=e.importAPNGChunk=e.importComplementsChunk=e.importInitialFormChunk=e.importAdvertChunk=e.importLauncherChunk=e.importAgentAppChunk=void 0;var a=n(o(78)),i=n(o(79));e.importAgentAppChunk=function(){var t=(0,i.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([o.e(0),o.e(2),o.e(8),o.e(9)]).then(o.t.bind(null,522,7)).then(function(t){return t.default}).catch(function(){return null});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),e.importLauncherChunk=function(){var t=(0,i.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(20).then(o.t.bind(null,523,7)).then(function(t){return t.default}).catch(function(){return null});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),e.importAdvertChunk=function(){var t=(0,i.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(22).then(o.t.bind(null,524,7)).then(function(t){return t.default}).catch(function(){return null});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),e.importInitialFormChunk=function(){var t=(0,i.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([o.e(2),o.e(4),o.e(3),o.e(35)]).then(o.t.bind(null,525,7)).then(function(t){return t.default}).catch(function(){return null});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),e.importComplementsChunk=function(){var t=(0,i.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(25).then(o.t.bind(null,526,7)).then(function(t){return t.default}).catch(function(){return null});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),e.importAPNGChunk=function(){var t=(0,i.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(11).then(o.t.bind(null,527,7)).then(function(t){return t}).catch(function(){return null});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),e.lazySpeechToText=function(){var t=(0,i.default)(a.default.mark(function t(){var e,n=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(0<n.length&&void 0!==n[0])||n[0],t.prev=1,e){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,Promise.all([o.e(0),o.e(34)]).then(o.t.bind(null,528,7));case 6:return e=t.sent,e=e.default,t.abrupt("return",e);case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0);case 14:case"end":return t.stop()}},t,null,[[1,11]])}));return function(){return t.apply(this,arguments)}}(),e.lazyVideoConversational=function(){var t=(0,i.default)(a.default.mark(function t(){var e,n=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(0<n.length&&void 0!==n[0])||n[0],t.prev=1,e){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,Promise.all([o.e(40)n){var o,a,i=[],r=!0,c=!1;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(t){c=!0,a=t}finally{try{r||null==n.return||n.return()}finally{if(c)throw a}}return i}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getXToken=e.base64Encode=e.sanitize=e.decompress=e.compress=e.aesDecrypt=e.aesEncrypt=e.getAesJson=e.M5pAEQb=void 0;function a(t){return t?i.default.AES.decrypt(t,"abAXep25yPR").toString(i.default.enc.Utf8):""}var i=o(n(183)),r=n(15),c=(0,o(n(437)).default)(window);e.M5pAEQb=a;function s(){return{stringify:function(t){var e={ct:t.ciphertext.toString(i.default.enc.Base64)};return t.iv&&(e.iv=t.iv.toString()),t.salt&&(e.s=t.salt.toString()),JSON.stringify(e)},parse:function(t){var e=JSON.parse(t),t=i.default.lib.CipherParams.create({ciphertext:i.default.enc.Base64.parse(e.ct)});return e.iv&&(t.iv=i.default.enc.Hex.parse(e.iv)),e.s&&(t.salt=i.default.enc.Hex.parse(e.s)),t}}}e.getAesJson=s;e.aesEncrypt=function(t){var e=s();return i.default.AES.encrypt(JSON.stringify(t),a(r.MQXnYME),{format:e}).toString()};e.aesDecrypt=function(t){var e=s();return JSON.parse(i.default.AES.decrypt(JSON.stringify(t),a(r.MQXnYME),{format:e}).toString(i.default.enc.Utf8))};e.compress=function(t){try{return"data:".concat(btoa(encodeURI(t)))}catch(t){return!1}};e.decompress=function(t){try{return decodeURI(atob(t))}catch(t){return!1}};e.sanitize=function(t){var e=1<arguments.length&&ll;if(r.MKbmYvg)return t;var n={ALLOWED_TAGS:["img","strong","b","i","a","ul","ol","li","u","s","em","strike","hr","br","p"],ADD_ATTR:["target"],ALLOW_UNKNOWN_PROTOCOLS:!0};return e&&(n.ALLOWED_TAGS=n.ALLOWEs-=e}},o.pad.Iso10126)},function(t,e,n){var o;t.exports=(o=n(2)ray.cr),t.sigBytes--}},o.pa]<<16|c[h>>>8&255]<<8|c[255&p])^n[d++],g=(c[u>>>24]<<24|c[h>>>16&255]<<16|c[p>>>8&255]<<8|c[255&l])^n[d++],b=(c[h>>>24]<<24|c[p>>>16&255]<<16|c[l>>>8&255]<<8|c[255&u])^n[d++];t[e]=v,t[e+1]=m,t[e+2]=g,t[e+3]=b},keySize:8});t.AES=e._createHelper(n)}(),o.AES)},function(t,e,n){var i;t.exports=(i=n(2),n(67),n(54),n(55),n(16),function(){var t=i,e=t.lib,n=e.WordArray,o=e.BlockCipher,e=t.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671or(var r=a[i]=[],c=u[i],n=0;n<24;n++)r[n/6|0]|=e[(l[n]-1+c)%28]<<31-n%6,r[4+(n/>>31;for(n=1;n>>0];this._lBlock=r,this._rBlock=i^c}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,f.call(this,1,143165576252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize^=e<<t}t.DES=o._createHelper(a);e=e.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=a.createEncryptor(nor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,<<8|c[2]>>>24)+c[1]|0,t[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,t[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,t[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,t[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}t.RabbitLegacy=e._createHelper(n)}(),o.RabbitLegacy)},function(t,e,n){t.exports=function(){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Arri=Object.setPrototypeOf,r=Object.isFrozen,c=Object.getPrototypeOf,s=ObjectReflect!=="undefined"&&Reflect,l=e.apply,u=e.construct;if(!l)l=function t(e,n,o){return e.apply(n,o)};if(!Ut)Ut=function t(e){return e};if(!t)t=function t(e){return e};if(!u)u=function t(e,n){return new(Function.prototype.bind.apply(e,[null].concat(o(n))))};var Kt=h(Array.prototype.fon(TypeError);function h(a){return function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return l(a,t,n)}}function n(o){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return u(o,e)}}function Jt(t,e){if(i)i(t,null);var n=e.length;while(n--){var o=e[n];if(typeof o==="string"){var a=Wt(o);if(a!==o){ill);var n=void 0;for(n in t)if(l(a,t,[n]))e[n]=t[n];return e}function Qt(t,e){while(t!==null){var n=s(t,e);if(n){if(n.get)return h(n.get);if(typeof n.value==="function")return h(n.value)}t=c(t)}function o(t){console.warn("fallback value for",t);return null}return o}var te=Ut(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ee=Ut(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ne=Ut(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oe=Ut(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ae=Ut(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ie=Ut(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),re=Ut(["#text"]),ce=Ut(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),se=Ut(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),pe=Ut(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),le=Ut(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ue=t(/\{\{[\s\S]*|[\s\S]*\}\}/gm),he=t(/<%[\s\S]*|[\s\S]*%>/gm),de=t(/^data-[\-\w.\u00B7-\uFFFF]/),fe=t(/^aria-[\-\w]+$/),ve=t(/^(?:(?:(?returnt.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function we(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var _e=function t(){return typeof window==="undefined"?null:window},xe=function t(e,n){if((typeof e==="undefined"?"undefined":ye(e))eatePolicy!=="function")return null;var o=null;var a="data-tt-policy-suffix";if(n.currentScript&&n.currentScript.hasAttribute(a))o=n.currentScript.getAttribute(a);var i="dompurify"reatePolicy(i,{createHTML:function t(e){return e}})}catch(t){console.warn("TrustedTypes policy "+i+" could not be created.");return null}},d;function Ee(){var l=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_e();var h=function t(e){return Ee(e)};h.version="2.3.6";h.removed=[];if(!l||!l.document||l.document.nodeType!==9){h.isSupported=false;return h}var u=l.document;var c=l.document;var d=l.DocumentFragment,t=l.HTMLTemplateElement,f=l.Node,s=l.Element,n=l.NodeFilter,e=l.NamedNodeMap,o=e===undefined?l.NamedNodeMap||l.MozNamedAttrMap:e,a=l.HTMLFormElement,p=l.DOMParser,i=l.trustedTypes;var r=s.prototype;var v=Qt(r,"cloneNode");var m=Qt(r,"nextSibling");var g=Qt(r,"childNodes");var b=Qt(r,"parentNode");if(typeof t==="function"){var y=c.createElement("template");if(y.content&&y.content.ownerDocument)c=y.content.ownerDocument}var w=xe(i,u);var _=w?w.createHTML(""):"";var x=c,E=x.implementation,k=x.createNodeIterator,S=x.createDocumentFragment,O=x.getElementsByTagName;var C=u.importNode;var T={};try{T=Xt(c).documentMode?c.documentMode:{}}catch(t){}var A={};h.isSupported=typeof b==="function"&&E&&typeof E.createHTMLDocument!=="undefined"&&T!==9;var I=ue,P=he,D=de,R=fe,N=me,M=ge;var j=ve;var L=null;var z=Jt({},[].concat(we(te),we(ee),we(ne),we(ae),we(re)));var F=null;var U=Jt({},[].concat(we(ce),we(se),we(pe),we(le)));var K=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));var Y=null;var B=null;var W=true;var V=true;var H=false;var q=false;var G=false;var Z=false;var $=false;var J=false;var X=false;var Q=false;var tt=true;var et=true;var nt=false;var ot={};var at=null;var it=Jt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);var rt=null;var ct=Jt({},["audio","video","img","source","image","track"]);var st=null;var pt=Jt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);var lt="http://www.w3.orgtp://www.w3.org/1999/xhtml";var dt=ht;var ft=false;var vt=void 0;var mt=["application/xhtml+xml","text/html"];var gt="text/html";var bt=void 0;var yt=null;var wt=c.createElement("form");var _t=function t(e){return e instanceof RegExp||e instanceof Function};var xt=function t(e){if(yt&&yt===e)return;if(!e||(typeof e==="undefined"?"undefined":ye(e))!=="object")e={};e=Xt(e);L="ALLOWED_TAGS"in e?Jt({},e.ALLOWED_TAGS):z;F="ALLOWED_ATTR"in e?Jt({},e.ALLOWED_ATTR):U;st="ADD_URI_SAFE_ATTR"in e?Jt(Xt(pt),e.ADD_URI_SAFE_ATTR):pt;rt="ADD_DATA_URI_TAGS"in e?Jt(Xt(ct),e.ADD_DATA_URI_TAGS):ct;at="FORBID_CONTENTS"in e?Jt({},e.FORBID_CONTENTS):it;Y="FORBID_TAGS"in e?Jt({},e.FORBID_TAGS):{};B="FORBID_ATTR"in e?Jt({},e.FORBID_ATTR):{};ot="USE_PROFILES"in e?e.USE_PROFILES:false;W=e.ALLOW_ARIA_ATTR!==false;V=e.ALLOW_DATA_ATTR!==false;H=e.ALLOW_UNKNOWN_PROTOCOLS||false;q=e.SAFE_FOR_TEMPLATES||false;G=e.WHOLE_DOCUMENT||false;J=e.RETURN_DOM||false;X=e.RETURN_DOM_FRAGMENT||false;Q=e.RETURN_TRUSTED_TYPE||false;$=e.FORCE_BODY||false;tt=e.SANITIZE_DOM!==false;et=e.KEEP_CONTENT!==false;nt=e.IN_PLACE||false;j=e.ALLOWED_URI_REGEXP||j;dt=e.NAMESPACE||ht;if(e.CUSTOM_ELEMENT_HANDLING&&_t(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck))K.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(e.CUSTOM_ELEMENT_HANDLING&&_t(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))K.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")K.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;vt=mt.indexOf(e.PARSER_MEDIA_TYPE)===-1?vt=gt:vt=e.PARSER_MEDIA_TYPE;bt=vt==="application/xhtml+xml"?function(t){return t}:Wt;if(q)V=false;if(X)J=true;if(ot){L=Jt({},[].concat(we(re)));F=[];if(ot.html===true){Jt(L,te);Jt(F,ce)}if(ot.svg===true){Jt(L,ee);Jt(F,se);Jt(F,le)}if(ot.svgFilters===true){Jt(L,ne);Jt(F,se);Jt(F,le)}if(ot.mathMl===true){Jt(L,ae);Jt(F,pe);Jt(F,le)}}if(e.ADD_TAGS){if(L===z)L=Xt(L);Jt(L,e.ADD_TAGS)}if(e.ADD_ATTR){if(F===U)F=Xt(F);Jt(F,e.ADD_ATTR)}if(e.ADD_URI_SAFE_ATTR)Jt(st,e.ADD_URI_SAFE_ATTR);if(e.FORBID_CONTENTS){if(at===it)at=Xt(at);Jt(at,e.FORBID_CONTENTS)}if(et)L["#text"]=true;if(G)Jt(L,["html","head","body"]);if(L.table){Jt(L,["tbody"]);delete Y.tbody}if(Ut)Ut(e);yt=e};var Et=Jt({},["mi","mo","mn","ms","mtext"]);var kt=Jt({},["foreignobject","desc","title","annotation-xml"]);var St=Jt({},ee);Jt(St,ne);Jt(St,oe);var Ot=Jt({},ae);Jt(Ot,ie);var Ct=function t(e){var n=b(e);if(!n||!n.tagName)n={namespaceURI:ht,tagName:"template"};var o=Wt(e.tagName);var a=Wt(n.tagName);if(e.namespaceURI===ut){if(n.namespaceURI===ht)return o==="svg";if(n.namespaceURI===lt)return o==="svg"&&(a==="annotation-xml"||Et[a]);return Boolean(St[o])}if(e.namespaceURI===lt){if(n.namespaceURI===ht)return o==="math";if(n.namespaceURI===ut)respaceURI===lt&&!Et[a])return false;var i=Jt({},["title","style","font","a","script"]);return!Ot[o]&&(i[o]||!St[o])}return false};var Tt=function t(e){Bt(h.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=_}catch(t){e.remove()}}};var At=function t(e,n){try{Bt(h.removed,{attribute:n.getAttributeNode(e),from:n})}catch(t){Bt(h.removed,{attribute:null,from:n})}n.removeAttribute(e);if(e==="is"&&!F[e])if(J||X)try{Tt(n)}catch(t){}else try{n.setAttribute(e,"")}catch(t){}};var It=function t(e){var n=void 0;var o=void 0;if($)e="<remove></remove>"+e;else{var a=Vt(e,/^[\r\n\t ]+/);o=a&&a[0]}if(vt==="application/xhtml+xml")e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>";var i=w?w.createHTML(e):e;if(dt===ht)try{n=(new p).parseFromString(i,vt)}catch(t){}if(!n||!n.documentElement){n=E.createDocuent;if(e!=="string"||typeof e.insertBefore!=="function")};var Rf==="undefined"?"undefined":ye(f))==="object"?e instanceof f:e&&(typeof e==="undefined"?"undefined":ye(e))==="object"&&typeof e.nodeType==="number"&&typeof e.nodeName==="string"};var Nt=function t(e,n,o){if(!A[e])return;Kt(A[e],function(t){t.call(h,n,o,yt)})};var Mt=function t(e){var n=void 0;Nt("beforeSanitizeElements",e,null);if(Dt(e)){Tt(e);return true}if(Vt(e.nodeName,/[\u0080-\uFFFF]/)){Tt(e);return true}var o=bt(e.nodeName);Nt("uponSanitizeElement",e,{tagName:o,allowedTags:L});if(!Rt(e.firstElementChild)&&(!Rt(e.content)||!Rt(e.content.firstElementChild))&&Zt(/<[/\w]/g,e.innerHTML)&&Zt(/<[/\w]/g,e.textContent)){Tt(e);return true}if(o==="select"&&Zt(/<template/i,e.innerHTML)){Tt(e);return true}if(!L[o]||Y[o]){if(!Y[o]&&Lt(o)){if(K.tagNameCheck instanceof RegExp&&Zt(K.tagNameCheck,o))return false;if(K.tagNameCheck instanceof Function&&K.tagNameCheck(o))return false}if(et&&!at[o]){var a=b(e)||e.parentNode;var i=g(e)||e.childNodes;if(i&&a){var r=i.length;for(var c=r-1;c>=0;--c)a.insertBefore(v(i[c],true),m(e))}}Tt(e);return true}if(e instanceof s&&!Ct(e)){Tt(e);return true}if((o==="noscript"||o==="noembed")&&Zt(/<\/no(script|embed)/i,e.innerHTML)){Tt(e);return true}if(q&&e.nodeType===3){n=e.textContent;n=Ht(n,I," ");n=Ht(n,P," ");if(e.textContent!==n){Bt(h.removed,{element:e.cloneNode()});e.textContent=n}}Nt("afterSanitizeElements",e,null);return false};var jt=function t(e,n,o){if(tt&&(n==="id"||n==="name")&&(o in c||o in wt))return false;if(V&&!B[n]&&Zt(D,n));else if(W&&Zt(R,n));else if(!F[n]||B[n])if(Lt(e)&&(K.tagNameCheck instanceof RegExp&&Zt(K.tagNameCheck,e)||K.tagNameCheck instanceof Function&&K.tagNameCheck(e))&&(K.attributeNameCheck instanceof RegExp&&Zt(K.attributeNameCheck,n)||K.attributeNameCheck instanceof Function&&K.attributeNameCheck(n))||n==="is"&&K.allowCustomizedBuiltInElements&&(K.tagNameCheck instanceof RegExp&&Zt(K.tagNameCheck,o)||K.tagNameCheck instanceof Fu false;else if(st[n]);else if(Zt(j,Ht(o,M,"")));else if((n==="src"||n==="xlink:href"||n==="href")&&e!=="script"&&qt(o,"data:")===0&&rt[e]);else if(H&&!Zt(N,Ht(o,M,"")));else if(!o);else return false;return true};var Lt=function t(e){return e.indexOf("-")>0};var zt=function t(e){var n=void 0;var o=void 0;var a=void 0;var i=void 0;Nt("beforeSanitizeAttributes",e,null);var r=e.attributes;if(!r)return;var c={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:F};i=r.length;while(i--){n=r[i];var s=n,p=s.name,l=s.namespaceURI;o=Gt(n.value);a=bt(p);c.attrName=a;c.attrValue=o;c.keepAttr=true;c.forceKeepAttr=undefined;Nt("uponSanitizeAttribute",e,c);o=c.attrValue;if(c.forceKeepAttr)continue;At(p,e);if(!c.keepAttr)continue;if(Zt(/\/>/i,o)){At(p,e);continue}if(q){o=Ht(o,I," ");o=Ht(o,P," ")}var u=bt(e.nodeName);if(!jt(u,a,o))continue;try{if(l)e.setAttributeNS(l,p,o);else e.setAttribute(p,o);Yt(h.removed)}catch(t){}}Nt("afterSanitizeAttributes",e,null)};var Ft=function t(e){var n=void 0;var o=Pt(e);Nt("beforeSanitizeShadowDOM",e,null);while(n=o.nextNode()){Nt("uponSanitizeShadowNode",n,null);if(Mt(n))continue;if(n.content instanceof d)t(n.content);zt(n)}Nt("afterSanitizeShadowDOM",e,null)};h.sanitize=function(t,e){var n=void 0;var o=void 0;var a=void 0;var i=void 0;var r=void 0;ft=!t;if(ft)t="\x3c!--\x3e";if(typeof t!=="string"&&!Rt(t))if(typeof t.toString!=="function")throw $t("toString is not a function");else{t=t.toString();if(typeof t!=="string")throw $t("dirty is not a string, aborting")}if(!h.isSupported){if(ye(l.toStaticHTML)==="object"||typeof l.toStaticHTML==="function"){if(typeof t==="string")return l.toStaticHTML(t);if(Rt(t))return l.toStaticHTML(t.outerHTML)}return t}if(!Z)xt(e);h.removed=[];if(typeof t==="string")nt=false;if(nt){if(t.nodeName){var c=bt(t.nodeName);if(!L[c]||Y[c])throw $t("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof f){n=It("\x3c!----\x3e");o=n.ownerDocument.importNode(t,true);if(o.nodeType===1&&o.nodeName==="BODY")n=o;else if(o.nodeName==="HTML")n=o;else n.appendChild(o)}else{if(!J&&!q&&!G&&t.indexOf("<")===-1)return w&&Q?w.createHTML(t):t;n=It(t);if(!n)return J?null:Q?_:""}if(n&&$)Tt(n.firstChild);var s=Pt(nt?t:n);while(a=s.nextNode()){if(a.nodeType===3&&a===i)continue;if(Mt(a))continue;if(a.content instanceof d)Ft(a.content);zt(a);i=a}i=null;if(nt)return t;if(J){if(X){r=S.call(n.ownerDocument);while(n.firstChild)r.appendChild(n.firstChild)}else r=n;if(F.shadowroot)r=C.call(u,r,true);return r}var p=G?n.outerHTML:n.innerHTML;erDocument&&n.erDocument.doctype.name&&Zt(be,n.ownerDocument.doctype.name))p="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+p;if(q){p=Ht(p,I," ");p=Ht(p,P," ")}return w&&Q?w.createHTML(p):p};h.setConh.clearConfig=.isValidAttributeif(!yt)xt({});var o=bt(t)=function(t,e){if(typeof e!=="function")return;A[t]=A[t]||[];Bt(A[t],e)};h.removeHook=function(t){if(A[t])Yt(A[t])};h.removeHooks=function(t){if(A[t])A[t]=[]};h.removeAllHooks=function(){A={}};return h}return Ee()}()},function(t,e,n){t.exports=n(2).enc.Hex},function(t,n,o){var a;!function(){var e;e=this,void 0===(a=function(){return G=e,t=function(){var s,r,p,o,c,n,a=[],i=a.concat,l=a.filter,u=a.slice,h=G.document,d={},e={},f={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},v=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,b=/^(?:body|html)$/i,y=/([A-Z])/g,w=["val","css","html","text","data","width","height","offset"],t=h.createElement("table"),_=h.createElement("tr"),x={tr:h.createElement("tbody"),tbody:t,thead:t,tfoot:t,td:_,th:_,"*":h.createElement("div")},E=/complete|loaded|interactive/,k=/^[\w-]*$/,S={},O=S.toString,C={},T=h.createElement("div"),A={tabindex:"tabIndexcellpadding:"cellPadding",rowspan:"rse()}function F(t){return t in e?e[t]:e[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function U(t==e?p(t):p(t).filter(e)}function W(t,e,n,o){return D(e)?e.call(t,n,o):e}function V(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function H(t,e){var n=t.className||"",o=n&&n.baseVal!==s;if(e===s)return o?n.baseVal:n;o?n.baseVal=e:t.className=e}function q(e){try{return e&&("true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?p.parseJSON(e):e))}catch(t){return e}}return C.matches=function(t,e){if(!e||!ecar o=t.parentNode,n=!o;return n&&(o=T).appendChild(t),e=~C.qsa(o,e).indexOf(t),n&&T.removeChild(t),e},c=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},n=function(n){return l.call(n,function(t,e){rent=function(t,e,n){var o)):o)||(t2>")),e=!(e ielse{if(D(t))return p(h).ready(t);if(C.isZ(t){var na?e.slice(1):e,r=k.test(i);return t.ge&&!o&&t.getElementsByClassName?a?t.getElementsByClassName(i):t.getElementsByTagNameentElement.ce=P,p.isFuect=j,p.isEmptyObjectnction(t){var e=Number(t),n=typeof t;return null!=t&&"boolm.call(;else for(a in t)null!=(n=e(t[a],a))&&r.push(n);return 0<(i=r).length?p.fn.concat.apply([],i):i},p.each=function(t,e){var n,o;if(L(t)){for(n=0;n<t.length;n+n t)if(!1===e.call(t[o],o,t[o]))return t;return t},p.grep=function(t,e){return l.call(t,e)},G.JSON&&(p.parseJSON=JSON.parse),p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){S["[object "+e+"]"]=e.toLowerCase()}),p.fn={constructor:C.Zice:a.(var tis,e(t,e,t)}u.apply(this,arguments))},ready:function(t)),thiction()n(){ld(ion(t,e){return!1!==n.call(t,e,t)}),this},filter:function(e){(this,function(t){return C.matches(t,e)}))},add:function(t,e){return p(n(this.conchis.length&&ll():L(e)t){n.filter(function(){return M(t)?p.contains(this,t):p(this).find(tunction(){var t=this[0];return t&&!M(t)?t:p(t)},last:function(){var t=this[this.length-1];return t&&!:this.ma&&!(i?0entNode;er e=[],n=h(t),t});is.mapthis.mildNodes)})},siblings:function(t){return B(this.map(function(t,e){return l.call(K(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return p.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyls.style.display=(t=this.nodeName,d[t]||(e=h.createElement(t),h.body.appendChild(e),n=getComputedStyle(e,"").e"==n?"blop(e).get(0[0]){vathis},=p(thth?n.wrldren())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0(e){riblinrHTMLunction(e,n(thise(e))?t:s},&&t.s=W(tn null!th)return null;if(h.documentElement!==this[0]&&!p.contains(h.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+G.pageXOffset,top:t.top+G.pageYOffset,width:Math.round(t.wirguments.length<2){var n=this[0];if("string"==typeof t)return n?n.style[c(t)]||getComputedStyle(n,"").getPropertyValue(t):void 0;if(I(t)){if(!n)return;var o={},a=getComputedStyle(nyle[c(e)]||a.getPrg"==P(t)e for(r iProperty(z(r))});return this.each(function(){this.style.cssText+=";"+i})},index:function(t){return t?this.indexOf(p(t)[0]):this.pa:function(t){return!!t&&a.some.call(this,function(t){return this.test(o.length&&H().forEach(Class(t):o)=t}:funct.offset();retarseFloat(p(e[0]).css("border-left-width"))||0,{top:tion(o){var a=o.replace(/./,function(t){return t[0].toUpperCase()});p.fn[o]=function(e){var t,n=this[0];return e===s%2;p.fn[e]=function(){var n,o,a=p.map(arguments,function(t){var e=[];return"array"==(n=P(t))?(t.forEach(function(t){return t.nodeType!==s?e.push(t):p.zepto.isZ(t)?e=e.concat(t.get()):void(e=e.concat(C.fragment(t)))}),e):"object"==n||null==t?t:C.fragment(t)}),i=1<this.lengling:1==r?e.firstChild:2==r?e:null;var n=p.contains(h.documentElement,o);a.forEach(function(t){if(i)t=t.cloneNode(!0);else if(!o)return p(t).remove();o.insertBefore(t,e),n&&function t(e,n){n(e);for(var o=0,a=e.childNodes.length;o<a;o++)t(e.childt.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||(e=t.ownerDocument?t.ownerDocuTML)})})})},p.fn[c?e+"To":"insert"+(r?"Before":"After")]=function(t){return p(t)[e](this),this}}),C.Z.prototype=Y.prototype=p.fn,C.uniq=n,C.deserializeValue=q,p.),function(l){function p(t){return"string"==typeof t}var u,e=1,h=Array.prototype.slice,d=l.isFunction,f={},i={},n="onfocusin"in G,o={ntener"in a&&a.addEventListener(y(n.e),n.proxy,b(n,s))})}function _(e,t,n,o,a){var i=r n=2 in arguments&&h.call(arguments,2);if(d(t)){function o()argumentsturn n?(n.unshift(t[e],t),l.proxy.apply(null,n)):l.proxy(t[e],t);throw new TypeError("expected function")},l.fn.bind=function(t,e,n){return this.on(t,e,n)},l.fn.unbind=function(t,e){return this.off(t,e)},l.fn.one=function(t,e,n,o){return this.on(t,e,n,o,1)};var c=function(){return!0},x=function(){return!1},ted",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function E(o,a){return!a&&o.isDefaultPrevented||(a=a||o,l.each(t,function(t,e){var n=a[t];ow()),(a.defaultPrevented!==u?a.defaultPrevented:"returnValue"in a?!.getPreventDefault())&&(o.isDefaultPrevented=c)),o}function k(t){var e,n={originalEvent:t};nction(t(c=functieFired:o}),(chis,t,e,n)}))},l.fn.vent(t):l(this).triggerHandler(t,e)})},l.fn.triggerHandler=function(n,o){var a,i;return this.each(function(t,e){(a=k(p(n)?l.Event(n):n))._args=o,a.target=e,l.each(r(e,n.type||n),function(t,e){if(i=e.proad resizeon(e){l.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),l.Event=function(t,e){p(t)||(t=(e=t).type);var n=document.createEvent(i[t]||"Events"),o=!0;if(e)for(var a in e)"bubbles"==a?o=!!e[a]:n[a]=e[a];return n.initEvent(t,o,!0),E(n)}}(t),function(h){var d,f,l=+new Date,v=G.document,c=/<script\b[^<]*(?:(?!<\/scriptE(t,e,n,o){var a=n.context,i="success";n.success.call(a,t,i,e),o&&o.resolveWith(a,[t,i,e]),_(n,a,"ajaxSuccess",[e,n,t]),r(i,e,n)}function k(t,e,=n).global&&!--h.active&&_(n,null,"ajaxStop"k(null,e||"error",p,n,o),G[r]=s,a&&h.isFunction(s)&&s(a[0]),s=a=void 0}),!1===x(p,n)?t("abort"):l.replace(/\?(.+)=\?/,"?$1="+r),v.head.appendChild(c),0<n.timeout&&(i=setTimeout(function(){t("timeout")},n.timeout))),p},h.ajaxSettings={type:"GET",beforeSend:S,success:S,error:S,complete:S,context:null,global:!0,xhr:function(){return new G.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:b,xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:S},h.ajax=function(t){var e,o=h.extend({},t||{}),a=h.Deferred&&h.Deferred();for(d in h.ajaxSettings)void 0===o[d]&&(o[d]=h.ajaxSettings[d]);(e=o).global&&0==h.active++&&_(e,null,"ajaxStart"),o.crossDomain||((n=v.createElement("a")).href=o.url,n.href=n.href,o.crossDomain=w.protocol+"//"+w.host!=n.protocol+"//"+n.host),o.url||(o.url=G.location.toString()),-1<(n=o.url.indexOf("#"))&&(o.url=o.url.slice(0,n)),(n=o).processData&&n.data&&"string"!=h.type(n.data)&&(n.data=h.param(n.data,n.traditional)),!n.data||n.type&&"GET"!=n.type.toUpperCase()&&"jsonp"!=n.dataType||(n.url=O(n.url,n.data),n.data=void );if(n&&(i="jsonp"),!1!==o.cache&&(t&&!0===t.cache||"script"!=i&&"jsonp"!=i)||(o.url=O(o.url,"_="+Date.now())),"jsonp"==i)return n||(o.url=O(o.url,o.jsonp?o.jsonp+"=?":!1===o.jsonp?"":"callback=?")),h.ajaxJSONP(o,a);function r(t,e){s[t.toLowerCase()]=[t,e]}var c,n=o.accepts[i],s={},p=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:G.location.protocol,l=o.xhr(),u=l.setRequestHeader;if(a&&a.promise(l),o.crossDomain||r("X-Requested-With","XMLHttpRequest"),r("Accept",n||"*/*"),(n=o.mimeType||n)&&(-1<n.indexOf(",")&&(n=n.split(",",2)[0]),l.overrideMimeType&&l.overrideMimeType(n)),(o.contentType||!1!==o.contentType&&o.data&&"GET"!=o.type.toUpperCase())&&r("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(f in o.headers)r(f,o.headers[f]);if(l.setRequestHeader=r,!(l.onreadystatechange=function(){if(4==l.readyState){l.onreadystatechange=S,clearTimeout(c);var t,e=!1;if(200<=l.status&&l.status<300||304==l.status||0==l.status&&"file:"==p){if("==n?"html":n==b?"json":m.test(n)?"script":g.test(n)&&"xml")||"text"),"arraybuffer"==l.responseType||"blob"==l.responseType)t=l.response;else{t=l.responseText;try{t=function(t,e,n){if(n.dataFilter==S)return t;var o=n.context;return n.dataFilter.call(o,t,e)}(t,i,o),"script"==i?(0,eval)(t):"xml"==i?t=l.responseXML:"json"==i&&(t=y.test(t)?null:h.parseJSON(t))}catch(t){e=t}if(e)return k(e,"parsererror",l,o,a)}E(t,l,o,a)}else k(l.statusText||null,l.status?"error":"ab;n=!("async"in o)||o.async;if(l.open(o.typin o.xhrFields)l[f]=o.xhrFields[f];for(f in s)u.apply(l,s[f]);return 0<o.timeout&&(c=setTitimeout)),n.load=function(t,e,n){if(!this.length)return this;var o,a=this,i=t.split(/\s/),n=s(t,e,n),r=n.success;return 1<i.length&&(n.url=i[0],o=i[1]),n.succehis.push(o(t)+"="+o(e))},function n(o,t,a,i){var r,c=h.isArray(t),s=h.isPlaipush({name:n,vaset"!=o&&"button"!=o&&"file"!=o&&("radio"!=o&&"checkbox"!=o||e.checked)&&a(i(e).val())}),e},i.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encis.length&&(e=i.Event("submit"),this.eq(0).trigger(e),e.isDefaultPrevented()||this.get(0).submit()),this}}(t),function(){try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;G.getComputedStyle=function(t,e){try{return n(t,e)}catch(t){return null}}}}(),t;var G,t}.call(n,o,n,t))||(t.exports=a)}.call(window)},function(t,e,n){"use strict";var o=n(1),a=o(n(28)),u=o(n(70)),i=o(n(9)),r=n(15),h=n(187),d=n(11),c=n(81),f=n(59),v=o(n(442)),m=o(n(71)),s=n(17),g=n(60),b=n(40),p=n(36),l=n(206),y=o(n(56));function w(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x={applicationConfig:{},store:{config:{},messages:[],users:[]},getSettings:function(s,p,e,t){var l=this;return r.MKbmYvg?(x.applicationConfig=v.default,x.applicationConfig.app.id=s,x.applicationConfig.app.botId=t,m.default.init(s),p(x.applicationConfig),!0):y.default.get("".concat(r.MZ2y5k6,"/").concat(s,"/settings/u"),{params:{host:encodeURIComponent(location.href)}}).then(function(t){var e,n,o,a,i,r,c;t=(0,g.aesDecrypt)(t.data),0<Object.keys(t.chatWindow).length&&(e=t.app.lang,t.app=_(_({},t.app),{},{botId:t.botId}),t.protocolId===d.KEY__VIDEO_CHAT_CODE&&(n=(c=t.chatWindow).loop,o=c.welcome,a=c.goodbye,r=(i=t.text).VC_desambiguateText,c=i.VC_evasiveText,i=i.VC_garbageText,r=l.handleVideoEvasiveFormat([r,c,i]),i=(c=(0,u.default)(r,3))[0],r=c[1],c=c[2],t.chatWindow=_(_({},t.chatWindow),{},{videoChat:{enabled:(0,f.isSupportedVideoConversational)([n,o,a]),loop:n,welcome:o,close:a,VC_desambiguateUrl:i&&i[1],VC_evasiveUrl:r&&r[1],VC_garbageUrl:c&&c[1],transfer:h.VIDEOCHAT_TRANSFER[e].token,transferSimulation:h.VIDEOCHAT_TRANSFER_SIMULATION[e].token},speechToText:{enablednfig=t,on(t){0<t.status&&(0,b.capture)("RequestError: get setting failed",t,"warning"),e&&e()})},getSettingsHash:function(t,e){return y.default.get("".concat(r.MZ2y5k6,"/").concat(t,"/hash")).then(function(t){e(t.data)}).catch(function(t){console.error("error",t)})},setUsers:function(t){if(Array.isArray(t))return(0,p.see.users=t},getUsers:function(){var t=0<arguments.length&&void 0!==an(0<t.length?t:(0,p.getItem)("agentUsers"))||[]},getUser:function(e){var t=x.getUsers(),n=null;return e&&Array.isArray(t)&&t.map(function(t){t.id===e&&(n=t)}),n},getAppUser:function(){return x.getUser("system")},setAppConfig:function(t){x.store.appConfig=t},setConfig:function(t,e){t=_(_({},x.getConfig(e)),t);return(0,p.setItem)("agentConfig",t),x.store.config=t},getConfig:function(){function t(t){return t.user={id:(0,s.uuid)(null,!0),type:1},(0,p.setItem)("agentConfig",t),(0,p.setItem)("agentUser",t.user),t}var e=(0,p.getItem)("agentConfig");return e?e.user||(e.user=t(e).user,x.store.config=e):(e=t({}),x.store.config=e),_(_({},x.applicationConfig),e)},searchInsideShadowRoot:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=x.store.appConfig?x.store.appConfig.__shadowRoot:null;if(!e)return Array.pTAINER)));if(!t)return Array.prototype.slice.call(new Array(e));t=(e.querySelectorAll(t).length?e:window.document).querySelectorAll(t);return Array.prototype.slice.call(t)},htmlToElement:function(t){return document.createRange().createContextualFragment(t)},removeElement:function(t){t=x.searchInsideShadowRoot(t)[0];return t?t.parentNode.removeChild(t):null},createElement:function(t,e){if(!t)throw new Error("Element type not found");var n,o=document.createElement(t);for(n in e)o[n]=e[n];return e.nonce&&o.setAttribute("nonce",e.nonce),o},getHeight:funct is required");return parseFloat(getComputedStyle(t,null).height.replace("px",""))},getTranslations:function(){var t=x.applicationConfig.app.lang;return l.TRANSLATIONS[t]||l.TRANSLATIONS.en},nodeListToArray:function(t){return Array.prototype.slice.call(t)},conversationUserGetOneUser:function(o){if(!o)throw new Error("conversation-user: idUser is required");return new Promise(function(e,n){y.default.head("".concat(r.ENV__CONVERSATION_USER,"/users/").concat(o,"/exists"),{headers:{"Content-Type":"application/json"}}).then(function(t){return 204===t.status?e({data:{}}):void y.default.get("".concat(r.ENV__CONVERSATION_USER,"/users/").concat(o),{headers:{"Content-Type":"application/json"}}).then(e).catch(n)}).catch(n)})},conversationUserSetOneUser:function(t,e,n){if("string"==typeof e||"number"==typeof e){if(!e.toString().includes("secret_"))retut(r.ENV__CONVERSATION_USER,"/users/").concat(t),(0,i.default)({},e,n)).catch(funse if("object"===(0,a.default)(e)){var o=e;return Object.keys(e).filter(function(t){return t.includes("secret_")}).forEach(function(t){delete o[t]}),y.default.put("".concat(r.ENV__CONVERSATION_USER,"/users/").concat(t),o).catch(function(t){console.error(t)})}},handleVideoEvasiveForuments[0]:[];return t.length||console.warn("video-conversational: missing evasive configuration"),t.includes(void 0)?(console.warn("video-conversational: missing evasive configuration"),t.map(function(t){return t?t.match(c.PATTERN_HTTP_LIVE_STREAMING):null})):t.map(function(t){return t.match(c.PATTERN_HTTP_LIVE_STREAMING)})}};t.exports=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidParamsForAssistedNavComplement=e.isMercantilSegurosClient=e.isUniSabanaClient=e.isBBWClient=e.isSandbox=e.isPicPayClient=e.isClient=e.isSupportedVideoConversational=e.isURL=e.isNumber=e.isEmail=void 0;var o=n(17),a=n(11),i=n(188),r=n(15);e.isEmail=function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}9])*$/.test(t)};e.isURL=function(t){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/])onal=function(t){try{var e=!!rn void 0!==onsole.warn("video-conversational: missing renction c(t,e){return i.CLIENTS[t]===e}e.isClient=c;e.isPicPayClient=function(t){return c("PicPay",t)};e.isSandbox=function(){return!0===r.MKbmYvg};e.isBBWClient=function(t){return c("BBW",t)};function s(t){return i.CLIENTS.universidadDeLaSabana.includes(t)}e.isUniSabanaClient=s;e.isMercantilSegurosClient=function(t){return c("MercantilSeguros",t)};e.isValidParamsForAssistedNavComplement=function(t){if(!s(t))return!1;var e=(0,o.hasQueryParams)(a.KEY_AIVO_HASH_ID)&&(0,o.hasQueryParams)(a.KEY_AIVO_WEB_CHANNEL),t=(0,o.getQueryParams)(a.KEY_AIVO_WEB_CHANNEL)===t;return e&&t}},function(t,e,n){"use strict";n=n(17);t.exports={user:{id:(0,n.uuid)()},app:{id:"_TOKEN_",name:"Sandbox",lang:"en",picture:null},chatWindow:{audio:!0,staticPosition:!1,initOpened:!0,font:{size:"small"},initForm:{enabled:!1,message:null,data:[]},placeholder:null,welcomeText:null,colors:["#0e2a3a"],footer:{enabled:!0},header:{avatar:{enabled:!1,image:null},brand:null,text:"Sandbox",close:!0,reset:!1},faqs:{enabled:!1,automatic:!0,data:null},launcher:{enabled:!1,type:6,image:null,position:"right_bottom",mobile:{position:"left_center",type:6,image:"",html:"",css:""}},defaultComplements:[]},text:{AB_suggestions:"Puedo sugerirte",AB_feedback:"¿Te sirvió mi ayuda?",AB_feedbackThanks:"Gracias",noAttention:"Estimado cliente, el horario de atención del servicio de chat online es de lunes a sábados de 9 a 21 horas. Por favor, comuníquese al 0810-333-7784. Muchas gracias.",error:"Hubo un inconveniente. Intenta nuevamente.",transferring:"Te estamos derivando con uno de nuestros ejecutivos para que pueda atender mejor tu consulta.",waitingTransfer:"Te estamos derivando con uno de nuestros ejecutivos para que pueda atender mejor tu consulta. Tienes {clientsNumbers} clientes por delante.",attended:"{agentName} está ahora disponible para resolver tu consulta.",noAgent:"No hemos encontrado ningún agente disponible para poder ayudarte. Intenta más tarde.",disconnect:"La conversación con {agentName} ha finalizado. Puedes continuar hablando con nuestro Agente virtual",feedback:"¿Cómo fue la atención?",feedbackThanks:"Gracias por el feedback, lo tendremos en cuenta :)",writing:"{agentName} está escribiendo...",retransferring:"Aguarda un instante que te voy a derivar con el área correspondiente.",connectionProblem:"Hemos detectado problemas en tu conexión a internet",checkConnection:"Por favor, comprueba que esté funcionando correctamente",tryingConnect:"Estamos intentando conectarnos",weAreBack:"¡Hemos vuelto!",completeYourData:"Completá tus datos",firstname:"Nombre",lastname:"Apellido",email:"E-mail",phone:"Teléfono",send:"Enviar",cancel:"Cancelar"},products:{agentbot:{id:1,enabled:!0,default:!0},live:{id:2,enabled:!0,default:!1}}}},function(t,e,n){"use strict";var o=n(1),a=o(n(9)),i=o(n(444)),r=n(40),s=n(60),p=n(11),c=n(15),l=o(n(14)),u=n(17);function h(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f,v,m,g=!c.MKbmYvg&&null,b={init:function(t){b.localStorageSupport()&&(v=(0,u.getDomain)(),m=t),f=b.getLocalStore(),window[p.KEY__STORE]={clear:function(){try{window[p.KEY__STORE].removeItem("agentConfig"),window[p.KEY__STORE].removeItem("agentUser"),window[p.KEY__STORE].removeItem("agentUsers"),window[p.KEY__STORE].removeItem("agentMessages"),window[p.KEY__STORE].removeItem("derivateZendesk"),window[p.KEY__STORE].removeItem("derivateLive")}catch(t){return(0,r.capture)("UnexpectedError: clear aivoStorage failed",{data:f,exception:t},"warning",!1),!1}},getItem:function(e){try{var t=b.localStorageSupport()?b.getLocalStorage(e):f[e];return"string"==typeof t&&t?JSON.parse(b.filterItem(t)):t}catch(t){return(0,r.capture)("UnexpectedError: getItem aivoStorage failed",{data:{name:e,state:f},exception:t},"warning",!1),!1}},setItem:function(e,n){try{return n="string"==typeof n?n:JSON.stringify(n),b.localStorageSupport()&&(n=b.setLocalStorage(e,n)),f[e]=n,!0}catch(t){return(0,r.capture)("UnexpectedError: setItem aivoStorage failed",{data:{name:e,value:n},exception:t},"warning"),!1}},removeItem:function(e){try{return!b.localStorageSupport()||"agentUser"!==e&&"agentConfig"!==e&&"agentFeedback"!==e||b.removeLocalStorage(e),f[e]=null,f[e]}catch(t){return(0,r.capture)("UnexpectedError: removeItem aivoStorage failed",{data:e,exception:t},"warning",!1),!1}}}},removeOldCookies:function(){var e=["".concat(p.KEY__STORE_USERS,"b2d907b6"),"".concat(p.KEY__STORE_USER,"b2d907b6"),"".concat(p.KEY__STORE_CONFIG,"b2d907b6"),"".concat(p.KEY__STORE_MESSAGES,"b2d907b6"),"".concat(p.KEY__STORE_ZENDESK,"b2d907b6"),"".concat(p.KEY__STORE_LIVE,"b2d907b6"),"".concat(p.KEY__STORE_FEEDBACK,"b2d907b6"),"".concat(p.KEY__STORE_FEEDBACK_POINTS,"b2d907b6"),"".concat(p.KEY__STORE_FEEDBACK_FAREWALL_MESSAGES,"b2d907b6"),"".concat(p.KEY__STORE_FEEDBACK_POINTS),"".concat(p.KEY__STORE_FEEDBACK_FAREWALL_MESSAGES),"".concat(p.KEY__STORE_FEEDBACK_FAREWALL_MESSAGES).concat(m),"".concat(p.KEY__STORE_FEEDBACK_POINTS).concat(m),"".concat(p.KEY__STORE_USERS).concat(m),"".concat(p.KEY__STORE_USER).concat(m),"".concat(p.KEY__STORE_USER),"".concat(p.KEY__STORE_ZENDESK).concat(m),"".concat(p.KEY__STORE_LIVE).concat(m),"".concat(p.KEY__STORE_CONFIG).concat(m),"".concat(p.KEY__STORE_USERS),"".concat(p.KEY__STORE_LIVE),"".concat(p.KEY__STORE_FEEDBACK).concat(m),"".concat(p.KEY__STORE_ZENDESK)],t=document.cookie.match(/aivo-\w+-\w+/g),n=document.cookie.match(/aivo-\w+/g);t&&0<t.length&&t.forEach(function(t){-1!==e.indexOf(t)&&i.default.remove(t,{domain:v})}),n&&0<n.length&&n.forEach(function(t){-1!==e.indexOf(t)&&i.default.remove(t,{domain:v})})},getLocalStorage:function(t){var e;switch(t){case"agentUsers":(o=f[t]||JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_USERS,"-").concat(m),{domain:v}))))[0].__expires&&(0,u.keyExpired)(o[0].__expires)&&b.removeLocalStorage("agentUsers"),f[t]||(SON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_CONFIG).concat(m)))))||null)&&(e.expires&&(0,u.keyExpired)(e.expires)&&b.removeLocalStorage("agentConfig"),f[t]||(n=window[p.KEY__STORE].getItem("agentUsers").find(function(t){return void 0===t.agentId}),f[t]=JSON.stringify(d(d({},e),{},{user:{id:n.id}}))),n=d(d({},n=JSON.parse(f[t])),e),f[t]=JSON.stringify(n)),o=f[t];break;case"agentFeedback":var n=b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_FEEDBACK).concat(m),{domain:v})),o=f[t]||JSON.parse(n);n.expires&&(0,u.keyExpired)(n.expires)&&b.removeLocalStorage("agentFeedback");break;case"derivateZendesk":(o=JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_ZENDESK,"-").concat(m),{domain:v}))))&&(0,u.keyExpired)(o.expires)&&b.removeLocalStorage("derivateZendesk"),f[t]||(f[t]=o);break;case"agentDerivationLive":o=JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_LIVE,"-").concat(m),{domain:v})));break;case"agentSiteVisits":o=f[t]||JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_VISITS,"-").concat(m),{domain:v})));break;case"derivationZendeskSitel":o=JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_ZENDESK_SITEL,"-").concat(m),{domain:v})));break;case"videoChatInitializedInIos":o=JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_VIDEO_CHAT_IOS,"-").concat(m),{domain:v})));break;case"videoChatMuted":o=JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_MUTED_VIDEO_CHAT,"-").concat(m),{domain:v})));break;case"videoChatUnmuted":o=JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__STORE_UNMUTED_VIDEO_CHAT,"-").concat(m),{domain:v})));break;case"roomsSIDs":o=JSON.parse(b.filterItem(window.localStorage.getItem("".concat(p.KEY__ROOMS_SID,"-").concat(m),{domain:v})));break;default:o=f[t]}return o},setLocalStorage:function(t,e){var n=new Date,o=n.setDate(n.getDate()+7);switch(t){case"agentUser":e=d({},JSON.parse(e));var a=JSON.stringify([d(d({},e),{},{__expires:o})]);e=JSON.stringify({value:e,__expires:o}),window.localStorage.setItem("".concat(p.KEY__STORE_USERS,"-").concat(m),(0,s.compress)(a));break;case"agentConfig":var i,r="string"==typeof e?JSON.parse(e):e,c={};for(i in r)r.hasOwnProperty(i)&&0===i.indexOf("_")&&0!==i.indexOf("__")&&(c[i]=r[i]);c=d(d({},c),{},{expires:o,app:{id:r.app?r.app.id:null,lang:r.app?r.app.lang:"en",botId:r.app?r.app.botId:null}}),f[t]="string"==typeof e?e:JSON.stringify(e),window.localStorage.setItem("".concat(p.KEY__STORE_CONFIG).concat(m),(0,s.compress)(JSON.stringify(c)),{expires:7,domain:v});break;case"agentFeedback":window.localStorage.setItem("".concat(p.KEY__STORE_FEEDBACK).concat(m),(0,s.compress)(JSON.stringify(d(d({},JSON.parse(e)),{},{expires:o}))));break;case"derivateZendesk":window.localStorage.setItem("".concat(p.KEY__STORE_ZENDESK,"-").concat(m),(0,s.compress)(JSON.stringify(d(d({},JSON.parse(e)),{},{expires:n.setDate(n.getDate()+1)}))));break;case"agentDerivationLive":window.localStorage.setItem("".concat(p.KEY__STORE_LIVE,"-").concat(m),e);break;case"agentSiteVisits":window.localStorage.setItem("".concat(p.KEY__STORE_VISITS,"-").concat(m),(0,s.compress)(JSON.stringify({lastVisit:e})));break;case"derivationZendeskSitel":window.localStorage.setItem("".concat(p.KEY__STORE_ZENDESK_SITEL,"-").concat(m),(0,s.compress)(JSON.stringify(e)));break;case"videoChatInitializedInIos":window.localStorage.setItem("".concat(p.KEY__STORE_VIDEO_CHAT_IOS,"-").concat(m),(0,s.compress)(JSON.stringify(e)));break;case"videoChatMuted":window.localStorage.setItem("".concat(p.KEY__STORE_MUTED_VIDEO_CHAT,"-").concat(m),(0,s.compress)(JSON.stringify(e)));break;case"videoChatUnmuted":window.localStorage.setItem("".concat(p.KEY__STORE_UNMUTED_VIDEO_CHAT,"-").concat(m),(0,s.compress)(JSON.stringify(e)));break;case"roomsSIDs":window.localStorage.setItem("".concat(p.KEY__ROOMS_SID,"-").concat(m),(0,s.compress)(JSON.stringify(e)))}return e},removeLocalStorage:function(t){switch(t){case"agentConfig":window.localStorage.removeItem("".concat(p.KEY__STORE_CONFIG).concat(m));break;case"agentUsers":window.localStorage.removeItem("".concat(p.KEY__STORE_USERS,"-").concat(m));break;case"derivateZendesk":window.localStorage.removeItem("".concat(p.KEY__STORE_ZENDESK,"-").concat(m));break;case"agentDerivationLive":window.localStorage.removeItem("".concat(p.KEY__STORE_LIVE,"-").concat(m));break;case"agentSiteVisits":window.localStorage.removeItem("".concat(p.KEY__STORE_VISITS,"-").concat(m));break;case"agentFeedback":window.localStorage.removeItem("".concat(p.KEY__STORE_FEEDBACK).concat(m),{domain:v});break;case"derivationZendeskSitel":window.localStorage.removeItem("".concat(p.KEY__STORE_ZENDESK_SITEL,"-").concat(m),{domain:v});break;case"roomsSIDs":window.localStorage.removeItem("".concat(p.KEY__ROOMS_SID,"-").concat(m),{domain:v})}},filterItem:function(t){return t&&0===t.indexOf("data:")?(0,s.decompress)(t.substr(5)):t},getLocalStore:function(){return b.cleanLocalStorage(),{agentConfig:JSON.stringify(l.default.applicationConfig)}},localStorageSupported:function(){if(null===g){g=!1;var t="__aivo_test_storage";try{localStorage.setItem(t,t),localStorage.removeItem(t)}catch(t){(g=!1,r.capture)("Warning: localStorage not supported",{exception:t},"warning",!1)}}return g},localStorageSupport:function(){if(null===g){g=!0;var t="__aivo_test_storage";try{window.localStorage.setItem(t,t),window.localStorage.removeItem(t)}catch(t){(g=!1,r.capture)("Warning: localStorage not supported",{exception:t},"warning",!1)}}return g},cleanLocalStorage:function(){var t=JSON.stringify(window.localStorage).match(/agentConfig=[\w0-9:=]+/g),e=JSON.stringify(window.localStorage).match(/aivo-\w+-\w+/g);t&&t.length&&(window.localStorage.removeItem("agentConfig"),window.localStorage.removeItem("agentUsers"),window.localStorage.removeItem("agentUser"),window.localStorage.removeItem("agentMessages")),window.localStorage.getItem(p.KEY_REMOVED_STORAGE)||(e&&e.length>p.MAX_LOCALSTORAGE_ELEMENTS||e&&e[0]&&-1===e.indexOf("".concat(p.KEY__STORE_CONFIG).concat(m)))&&(e.forEach(function(t){-1!==["".concat(p.KEY__STORE_CONFIG).concat(m),"".concat(p.KEY__STORE_USERS,"-").concat(m),"".concat(p.KEY__STORE_MESSAGES,"-").concat(m),"".concat(p.KEY__STORE_FEEDBACK)p(r);if(e)try{r=JSON.parse(r)}catch(t){}if(n[c]=r,t===c)break}catch(t){}}return t?n[t]:n}}return r.set=n,r.get=function(t){return e(t,!1)},r.getJSON=function(t){return e(t,!0)},r.remove=function(t,e){n(t,"",c(e,{expires:-1}))},r.defaults={},r.withConverter=t,r}(function(){})})?o.call(e,n,e,t):o)||(t.exports=o),t.exports=a()},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.capture=e.setUser=e.install=e.init=void 0;var a=o(n(9)),i=o(n(446)),r=n(36),c=n(59),s=n(15),p=n(453);function l(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.init=function(t){i.default.config(s.M4KnYov,{release:s.Ma7q5DJ,environment:s.Mdqv58M}),i.default.setTagsContext({"bot.token":t.id,"bot.name":t.name})};e.install=function(t){var e={release:s.MeUrls:p.SENTRY_IGNORE_URLS};(0,c.isPicPayClient)(t.id)||(e.whitelistUrls=p.SENTRY_WHITELIST),i.default.config(s.M4KnYov,e).install(),i.default.setTagsContext({"bot.token":t.id,"bot.name":t.name})};e.setUser=function(t){(0,r.setItem)("agentUser",t),i.default.setUserContext(t)};e.capture=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"error",o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],a=!0;try{JSON.strin 0,user:void 0,products:void 0}),level:n})}},function(i,t,r){!function(t){var e=r(447),n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=n.Raven,a=new e;a.noConflict=function(){return n.Raven=o,a},a.afterLoad(),i.exports=a,i.exports.Client=e}.call(this,r(43))},function(W,t,V){!function(t){var i=V(448),r=V(189),o=V(449),c=V(450),e=V(133),a=e.isErrorEvent,s=e.isDOMError,p=e.isDOMException,l=e.isError,u=e.isObject,h=e.isPlainObject,n=e.isUndefined,d=e.isFunction,f=e.isString,v=e.isArray,m=e.isEmptyObject,g=e.each,b=e.objectMerge,y=e.truncate,w=e.objectFrozen,_=e.hasKey,x=e.joinRegExp,E=e.urlencode,k=e.uuid4,S=e.htmlTreeAsString,O=e.isSameException,C=e.isSameStacktrsupportsFetch,P=e.supportsReferrerPolicy,D=e.serializeKeysForMessage,R=e.serializeException,N=e.sanitize,M=V(451,this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=F.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)thi7.2",debug:!1,TraceKit:i,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var o=n._globalOptions;e&&g(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:o[t]=e}),n.setDSN(t),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=x(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&x(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&x(o.whitelistUrls),o.includePaths=x(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));e={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0tchFuncastIndexss&&n.pass.substr(1),e._globalProject=n.path.substr(o+1),e._globalServer=e._getGlobalServer(n),e._globalEndpoint=e._globalServer+"/"+a+"api/"+e._globalProject+"/store/",this._resetBackoff()},co.__raven_wrapper__}catch(t){return a}function e(){var t=[],e=arguments.length,n=!o||o&&!1!==o.deep;for(i&&d(i)&&i.apply(this__=!0,e.__orig__=a,e},uni.stackTraceLimit=this._originalason,{mechanism:{type:"onunhandRejectionHandler.bind(this),F.addEventListener&&F.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return F.removeEventListener&&F.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=b({trimHeadFrames:0},t||{}),a(e)&&e.error)e=e.error;else{if(s(e)||p(e)){var n=e.name||(s(e)?"DOMError":"DOMException"),n=e.message?n+": "+e.message:n;return this.captureMessage(n,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(!l(e)){if(!h(e))return this.captureMessage(e,b(t,{stacktrace:!0,trimHeadFraackInfo(o,t)}ca||""===n.message)&&(n.fingerprint=null==n.fingerprint?t:n.fingerprint,(e=b({trimHeadFrames:0},e)).trimHeadFrames+=1,e=this._prepareFrames(o,e),n.stacktrace={frames:e.reverse()}),n.fingerprint&&(n.fingerprint=v(n.fingerprint)?n.fingerprint:[n.fingerprint]),this._send(n),this}},captureBreadcrumb:function(t){var e=b({timestamp:z()/1e3return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:functlugins.push([s(),this},sser=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(r(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},set,setBreadcrumbCallback;return this._globalOptions.breadcrumbCallback=Y(e,t),this},setShouldSendCallback:function(t){var e=this._glohis._lastCp:function(){retu((n=t.user).name&&aar i=this._get"raven"+t.substr(0,1).toType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(n){var o=this;return function(t){if(o._keypressTimeout=null,o._lastCapturedEvent!==t){var e;o._lastCapturedEvent=t;try{e=S(t.target)}catch(t){e="<unknown>"}o.captureBreadcrumb({category:"ui."+n,message:e})}}},_keypressEventHandler:function(){var o=this;return function(t){t}},_captureUrlChange:fung:function(){var t=this;ction"==typeof this&rap({mechanism:{type:"instrument",data:{target:s,function:"addEventListener",handler:e&&e.name||"<anonymous>"}}},e,a),n,o)}},e),A(t,"removeEventListener",function(a){return function(t,e,n,o){toBreadcrumbs,e})}(n[o],t);return"onreadystatechange"in t&&d(t.onreadystatechange)?A(t,"onreadystatechange",function(t){return c.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,e)}):t.onreadystatechange=e,a.apply(this,arguments)}},e)),t.xhr&&I()&&A(F,"fetch",function(r){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];(a=o.meethod?t[1].method:a,url:n,status_code:null};return r.apply(this,t).then(function(t){return i.status_code=t.status,c.captureBreadcrumb({type:"http",category:"fetch",data:i}),t}).catch(function(t){throw c.captureBreadcrumb({type:"http",category:"fetch",data:i,level:"error"}),t})}},e),t.dom&&this._hasDocument&&(U.addEventListener?(U.addEventListener("click",c._breadcrumbEventHandler("click"),!1),U.addEventListener("keypress",c._keypressEventHandler(),!1)):U.aprpstate,F.onpopstate=function(){var t=c._location.href;if(c._captureUrlChange(c._lastHref,t),n)return n.aguments[2]:void 0;return t&&c._captureUrply(this,arguments)}n(t,e){c.capture{M(console,e,ons.shift()(e))})},_parseDSNvalid DSN: "+e)}if(n.paset-key");return n.mechanism=e.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handls._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:functiilename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(t,e,n,o,a,i){var r,c=(t?t+": ":"")+(e||"");this._globalOptions.ignoreErrors.test&&(this._globalOptions.ignoreErrors.test(e)||this._globalOptions.ignoreErrors.test(c))||(a&&a.length?(n=a[0].filename||n,a.reverse(),r={frames:a}):n&&(r={frames:[{filename:n,lineno:o,in_app:!0}]}),this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(n)||this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(n)||(null==(i=(n=b({exception:{values:[{type:t,value:e,stacktrace:r}]},transaction:n},i)).exception.values[0]).type&&""===i.value&&(i.value="Unrecoverable error caught"),!n.exception.mechanism&&n.mechanism&&(n.exception.mechanism=n.mechanism,delete n.mechanism),n.exception.mechanism=b({type:"generic",handled:!0},n.exception.mechanism||{}),this._send(n)))},_trimPacket:function(t){var e,n=this._globalOptions.maxMessageLength;t.message&&(t.message=y(t.message,n)),t.exception&&((e=t.exceptiotion(t){for(v){if(this._hasator&&K.userAgeon.href),this.|t.transaction!==State:function(t){if(!this._shouldBackoff()){var e,n=t.status;if(400===n||401===n||429===n){try{e=I()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),e=1e3*parseInt(e,10)}catch(t){}this._backoffDuration=e||2*this._backoffDuration||1e3,this._backoffStart=z()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},o=this._getHttpData();o&&(n.request=o),e.trimHeadFrames&&delete e.trimHeadFrames,(e=b(n,e)).tags=b(b({},this._globalContext.tags),e.tags),e.extra=b(b({},this._globalContext.extra),e.extra),e.extra["session:duration"]=z()-this._startTime,this._breadcrumbs&&0<this._breadcrumbs.length&&(e.breadcrubalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach(function(t){null!=e[t]&&""!==e[t]&&!m(e[t])||delete e[t]}),(e=d(t.dataCallback)?t..shouldSehouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):("number"!=typeof t.sampleRate||Math.random()<t.sampleRate)&&this._sendProcessedPayload(e)))},_sanitizeData:function(t){return N(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return k()},_sendProcessedPayload:function(e,n){var t,o,a,i=this,r=this._globalOptions;this.isSetup()&&(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)?(this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e),t={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey},this._globalSecret&&(t.sentry_secret=this._globalSecret),o=e.exception&&e.exception.values[0],this._globalOptions.autoBreadcrumbs&&this._globalOe:o?(o.tent("success",{data:e,src:a}),n&&n()},onError:function(t){i._logDebug("error","Raven transport failed to send: ",t),t.request&&i._setBackoffState(t.request),i._triggerEvent("failure",{data:e,src:a}),t=t||new Error("Raven send failed (no additional details provided)"),n&&n(t)}})):this._logDebug("warn","Raven dropped repeat event: ",e))},_makeRequest:function(n){var t=naluateHo=b(a,o);return e&&(o.headers=e),F.fetch(t,o).then(function(t){var e;t.ok?n.onSuccess&&n.onSuccess():((e=new Error("Sentry error code: "+t.status)).request=t,n.onError&&n.onError(e))}).catch(function(){n.onError&&n.onError(new Error("Sentry error code: network unavailable"))})}var i=F.XMLHttpRequest&&new F.XMLHttpRequest;i&&("withCredentials"in i||"undefined"!=typeof XDomainRequest)&&("withCredentials"in i?i.onreadystatError&&((t=new Error("Sent.onError(t)))}:(i=new XDomainRequesError("SensOwnProperty(et]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){n(e)?delete this._globalContext[t]:this._globalContext[t]=b(this._globalContext[t]||{},e)}}).setUser=B.prototype.setUserContext,B.prototype.setReleaseContext=B.prototype.setRelease,W.exports=B}.call(this,V(43))},function(_,t,xp.apply(this,arguments)}function m(){var t=l,e=i;r=l=i=null,v.apply(null,[t,!1].concat(e))}function s(t,e){var n=c.call(arguments,1);if(l){if(r===t)return;m()}var o=h.computeStackTrace(t);if(l=o,r=t,i=n,setTimeout(function(){r===t&&m()},o.incomplete?2e3:0),!1!==e)throw t}function g(t){if(void 0!==t.stack&&t.stack){for(var e,n,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,r=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,s=t.stack.split("\n"),p=[],l=(/^(.*) is undefined$/.exec(t.message),0),u=s.length;l<u;++l){if(n=o.exec(s[l])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=c.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),h={url:h?null:n[2],func:n[1]||"?",args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=a.exec(s[l]))h={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=i.exec(s[l])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(e=r.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==l||n[5]||void 0===t.columnNumber||(p[0].column=t.columnNumber+1),h={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!h.func&&h.line&&(h.func="?"),h.url&&"blob:"===h.url.substr(0,5)&&((n=new XMLHttpRequest).open("GET",h.url,!1),n.send(null),200!==n.status||(n=(n.responseText||"").slice(-300).match(/\/\/# sourceMappingURL=(.*)$/))&&("~"===(n=n[1]).charAt(0)&&(n=("undefined"==typeof document||null=rn b(e,t.sourceURL||t.fileName,t.li,e){var n=nulltry{if(n=y(tn{name:t.name,message:t.message,url:f()}}h.report=(a=[],l=r=i=null,s.subscribe=function(t){e||(p=n.onerror,n.onerror=o,e=!0),a.push(t)},s.unsubscriurn e=r(a.concat(p(e)),512+8*e.length),s(r(i.concat(e),640))}(n(t),n(e))}t.exports=function(t,e,n){return e?n?i(e,t):o(i(slice.call(arguments),e=s.safeJoin(t," "),n={level:i,logger:"console",extra:{arguments:t}};"assert"===o?!1===t[0]&&(e="Assertion .slice(1),a&&a(e,n)):a&&a(e,n),r&&Function.prototype.apply.call(r,c,t)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ro(){return a.MKbmYvg?window.aivoSandboxStorage:window.aivoStorage}var a=n(15);e.find=o;e.getItem=function(t){var e=o();return e?e.getItem(t):null};e.setItem=function(t,e){var n=o();return n?n.setItem(t,e):null};e.removeItem=function(t){var e=o();return e?e.removeItem(t):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SENTRY_IGNORE_URLS=e.SENTRY_IGNORE_ERRORS=e.SENTRY_WHITELIST=void 0;e.SENTRY_WHITELIST=["cdn.agentbot.net","agentcore-test.s3.amazonaws.com"];e.SENTRY_IGNORE_ERRORS=["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage",/^AbortError: The play\(\).+/,/^NetworkError.+/,/^NotFoundError.+/,/^SecurityError: Blocked a frame.+/];e.SENTRY_IGNORE_URLS=[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.jsrce=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},t.exports=a},function(t,e,n){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},function(t,e,n){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,l,u){"use strict";!function(e){var t=u(1);Object.defineProperty(l,"__esModule",{value:!0}),l.getCurrentPosition=l.sendUserDataAndChatHistoryToZD=l.isOnmexBotId=l.isPicPayBotId=l.decodeBotId=l.getLauncher=l.colorToIconsContrast=l.getFeedbackClass=l.getName=l.contrast=l.hexToRgb=l.luminance=l.getDate=l.createRoomName=void 0;var n=u(17),o=t(u(95)),a=u(11),i=u(188);l.createRoomName=function(t,e){e=(0,o.default)("".concat(t).concat(e).concat((new Date).getTime()));return"".concat("presence-").concat(e)};l.getDate=function()guments.length&&void 0!==arguments[1]?arguments[1]:0,t=t?new Date(1e3*parseInt(t)):new Date,t=t.getTime()+6e4*t.getTimezoneOffset();return new Date(t+36e5*e)};function r(t,e,n){return.2126*(n=[t,e,n].map(function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}))[0]+.7152*n[1]+.0722*n[2]}l.luminance=r;function c(t){return(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}l.hexToRgb=c;function s(t){return!(t=c(t))||2<(r(255,255,255)+.05)/(r(t.r,t.g,t.b)+.05)}l.contrast=s;l.getName=function(t){var e=t.name;return t.nickname?e=t.nickname:!e&&t.firstname&&t.lastname?e="".concat(t.firstname," ").concat(t.lastname):!e&&t.email&&(e=t.email),e};l.getFeedbackClass=function(t){var e="",n="number"==typeof t.type?t.type:t.type?t.type.id:null;switch(t.selected&&(e="".concat(e," aivochat-component-selected")),n){case 1:return"".concack-binary");case 2:return"".concat(e," ").concat(a.KEY__COMPONENT," feedback-star");case 3:return"".concat(e," ").concat(a.KEY__COMPONENT," feedback-nps");default:return"".concat(e," ").concat(a.KEY__COMPONENT)}};l.colorToIconsContrast=function(t){return st){var e=t;return(0,n.isSmallWindow)()&&t.mobile?e=t.mobile:!(0,n.isSmallWindow)()&&t.web&&(e=t.web),e};function p(t){return t=e.from(t,"base64").toString("ascii"),e.from(t,"base64").toString("ascii")}l.decodeBotId=p;l.isPicPayBotId=function(t){return p(t)===i.BOT_IDS.PicPay};l.isOnmexBotId=function(t){t=p(t);return i.BOT_IDS.Onmex.includes(t)};l.sendUserDataAndChatHistoryToZ}function I(t){ret-1)*Math.pow(2,a),r+=l):(c=e*Math.pow(2,l-1)*Math.pow(2,a),r=0));8<=a;t[n+h]=255&c,h+=d,c/=256,a-=8);for(r=r<<a|c,s+=a;0<s;t[n+h]=255&r,h+=d,r/=256,s-=8);t[n+h-d]|=128*i}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getFormDataAndUrl=e.onRetryAttempt=e.transferConversation=e.closeConversation=e.sendConditions=e.sendFeedbackAB=e.splitMessage=e.criticalError=e.getCustomForm=e.addSuggestions=e.dispatchEvents=e.addMessage=e.checkComplement=e.addSessionMessages=e.getSessionMessages=e.sendMessage=void 0;var u=o(n(28)),a=o(n(73)),i=o(n(9)),h=n(17),d=n(134),f=n(146),v=o(n(56)),m=n(60),g=n(40),b=n(15),y=n(11),w=o(n(100)),_=n(69),x=n(68),E=o(n(14)),k=n(27),S=n(81),r=n(199),O=o(n(71)),c=n(36),C=n(500),T=n(102),A=n(502);function s(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.Descriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e){try{var t=e.filter(function(t){return"buttons"===t.action});if(t.length<=1)return e;var n=e.filter(function(t){return"buttons"!==t.action}),o=t.reduce(function(t,e){return[I(I({},t),{},{data:[].concat((0,a.default)(t.data),(0,a.default)(e.data))})]});return n.length?[].concat((0,a.default)(o),(0,a.default)(n)):o}catch(t){return console.warn(t.message),e}}e.sendMessage=function(a,o,i,r,c_reproducedIntention,l=o.conditions,u="".concat(b.MZ2y5k6,"/agentcore/").concat(i,"/messages");return t((o=E.default.getUser(o.id)||o).id).then(function(t){t=t.data;t.extra&&(o=I(I({},t.extra),o))}).catch(function(t){return console.error("conversation-user error:",t.message)}).then(function(){o&&delete o.__expires,o.extra&&delete o.extra.__expires,a=(0,m.sanitize)(a);var t=z(c,i,a,o),e=t.form,t=t.urlToAudioMessn(0,v.default)({method:"post",url:u,data:s,async:!0,cache:!1,contentType:!1,processData:!1,onUploadProgress:function(t){t.lengthComputable&&(t=t.loaded/t.total,t=parseInt(100*t),r((0,k.setConfig)({_fileUploading:!0,_fileUploadingProgress:t})))}}).then(function(t){D(t.data,r)}).catch(function(t){var e={exception:t,url:u,data:s};t&&0<t.status&&(0,g.capture)("RequestError: send message formData failed",e)}).then(function(){r((0,k.setConfig)({_fileUploading:!1}))});var n=v.default.create();return C.requestInterceptor.subscribeResponseErrorInterceptor(n,L,r),e=b.MKbmYvg?JSON.parse(JSON.stringify({token:i,sentence:a,message:a,hash:o.id,userId:o.id,type:o.type,complements:c,param:{host:document.location.href,user:o||{},conditions:l}})):JSON.parse((0,m.aesEncrypt)({token:i,sentence:a,message:a,hash:o.id,userId:o.id,type:o.type,complements:c,param:{host:document.location.href,user:o||{},conditions:l}})),n.post(u,e).then(function(t){r((0,k.setConfig)({__writing:!1,_userInteraction:!0}));var e=b.MKbmYvg?t.data:(0,m.aesDecrypt)(t.data);b.MKbmYvg&&(e.complements=(0,A.updateResponseForPicPay)(e.complements)),e.complements=P(e.complements);var n=E.default.getConfig(),o=n.user,t=n.app;if((0,T.isVideoChatEnabled)()){if(p)return void r((0,k.queueVideoResponse)(e,a));try{(0,x.processVideoChatMessages)(e,r)}catch(t){console.error(t)}}n=(0,_.dataInterationFactory)({appId:t.id,answerID:e.answerID,message:a});(0,_.setEventAnalytics)(o.id,t.id,window.navigaSDK]._onInteraction((0,h.typeEvasion)(e.answerID),a),D(e,r)}).catch(function(t){M("RequestError: send message failed",{exception:t,url:u,param:{host:document.location.href,user:o||{},conditions:l}},r)}).finally(function(){C.requestInterceptor.clearResponseErrorInterceptor(n)})})};e.getSessionMessages=function(e,n){if(b.MKbmYvg)return!0;var t=E.default.getConfig(),o=E.default.getAppUser(),a=(0,h.uuid)();e((0,k.addMessage)(t.chatWindow.welcomeText,o,void 0,void 0,void 0,a));o=t.ctaMobile.complements,t=t.ctaWeb.complements;if((0,h.isSmallWindow)()?null!==o&&(o=o.map(function(t){return t.intention}),D({complements:[{action:"faqs",param:o}]},e)):null!==t&&(t=t.map(function(t){return t.intention}),D({complements:[{action:"faqs",param:t}]},e)),e((0,k.addDefaultComplements)(a)),!w.default.checkLiveDerivation()){var i=E.default.getConfig().user.id,a=Date.now();return v.default.get("".concat(b.MZ2y5k6,"/sessions/").concat(i,"/u?v=").concat(a),{cache:!1}).then(function(t){t=function(e){try{return e.map(function(t){var e=P(t.message.complements);return I(I({},t),{},{message:I(I({},t.message),{},{complements:e})})})}catch(t){return console.warn(t.message),e}}((0,m.aesDecrypt)(t.data));e((0,k.setConfig)({_enabledAnalytics:!t.length,_sessionLength:t.length||0})),t.length&&(0,x.getMessagesToCheck)().map(function(t){e((0,k.updateMessage)({params:I(I({},t.params),{},{selected:(0,h.uuid)()})},t.id))}),p(t,e),n&&n(t)}).catch(function(t){0<t.status&&(0,g.capture)("RequestError: get session messages failed",{exception:t,url:"".concat(b.MZ2y5k6,"/sessions/").concat(i)},"warning")})}};var p=function(o,a){var i=E.default.getConfig().user.id;o.length||a((0,k.setConfig)({_windowUserRegistered:!1})),o.reverse(),o.map(function(t,e){if((0,r.validateMessageSchema)(t.message))switch(t.message.complements=l(t.message.complements||[],e===o.length-1),t.message.answer=t.message.answer||t.message.sentence||t.message.message,t.channel){case"agentbot":t.message.complements=(0,d.cleanZendeskOpenChat)(t.message.complements),D(t.message,a);break;case"agentcore":D(t.message,a,{id:i,type:1});break;case"live":case"purecloud":case"genesys":case"salesforce":var n=t.message.param&&t.message.param.user;n&&(t.message.param.user=I(I({},t.message.param.user),{},{name:t.message.param.user.nickname||t.message.param.user.name})),D(t.message,a,I(I({},n?t.message.param.user:{}),{},{type:3}))}})};e.addSessionMessages=p;var l=function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=[];return t.map(function(t,e){switch(t.action){case"buttons":case"formData":n||(t.selected=(0,h.uuid)());break;case"show_url":n||(t=null);break;case"change_url":t=null}t&&o.push(t)}),o};e.checkComplement=l;var D=function(t,o,a){var e;t&&t.error?(o((0,k.setConfig)({_windowBlocked:void 0,_windowLoading:void 0})),o((0,k.addMessage)(E.default.getConfig().text.error,E.default.getAppUser()))):t&&(b.MKbmYvg&&window[y.KEY__SDK]._chat_interceptor&&window[y.KEY__SDK]._chat_interceptor(t),e=(0,T.isVideoChatChannel)()&&(0,T.isVideoChatEnabled)(),void 0!==(t=j(t.answer,I({},t)))[t.length-1].hasPattern||e?(0,c.setItem)("agentDerivationLive",!1):(0,c.setItem)("agentDerivationLive",!0),t.forEach(function(t,e){var n;t.key=void 0!==t.answerID?t.answerID:void 0,"All agents are busy at the moment. Please, try again later."===t.answetra||void 0===t.extra.priority)&&t.extra&&(void 0===t.extra.priority&&(t.extra.priority=1),t.key=t.extra.message&&1==+t.extra.priority?t.extra.message:null),n=!1,t.complements&&1<=t.complements.length&&t.complements.forEach(function(t){t.action===y.KEY__GENERATIVE_AI&&(n=!0)}),o((0,k.addMessage)(t.answer,a||E.default.getAppUser(),null,null,null,t.key,null,n))),t.suggested&&t.suggested.length&&N(t.suggested,t.timestamp,o),t.complements&&R(t.complements,t.key,t.timestamp,o),t.complements.some(function(t){var e;return!0===t.blockInput||!0===(null==t||null===(e=t.params)||void 0===e?void 0:e.blockInput)})?o((0,k.setConfig)({_windowBlocked:!0,_windowLoading:void 0})):(o((0,k.setConfig)({_windowBlocked:!1})),(0,T.isVideoChatEnabled)()||o((0,k.setConfig)({_windowBlocked:void 0,_windowLoading:void 0})))}))};e.addMessage=D;var R=function(t,s,p,l){l((0,k.setWindowConfig)({quickReplies:null})),t.forEach(function(e){var t=E.default.getConfig();if(E.default.searchInsideShadowRoot("#aivochat-video-".concat(e.expression))[0]&&E.default.searchInsideShadowRoot(".".concat(y.KEY__HEADER," .").concat(y.KEY__HEADER_AVATAR_VIDEO_FIX,":not(.hidden)"))[0])l((0,k.playFeeling)(e.expression));else if(!e.expression){var n="open_agentlive"===e.action||"open_chat"===e.action||"derivation"===e.action;switch(l((0,k.setConfig)({derivation:n})),e.action){case"derivation":b.MKbmYvg&&setTimeout(function(){var t="derivation to human chat complement: ".concat(e.param);l((0,k.addMessage)(t,E.default.getAppUser(),null,null,null,void 0))},1e3);break;case"open_agentlive":if(b.MKbmYvg){setTimeout(function(){var t="derivation to Live complement: ".concat(e.param);l((0,k.addMessage)(t,E.default.getAppUser(),null,null,null,void 0))},1e3);break}e.param.form?(r={type:"transfer",blockInput:!0,groupId:e.param.typeID},l((0,k.addMessage)("",E.default.getAppUser(),"formData",r))):(0,T.isVideoChatChannel)()&&(0,T.isVideoChatEnabled)()||w.default.start(l,{timestamp:p,complement:e});break;case"noagent_agentlive":w.default.errorNotAttention(l,null);break;case"change_url":if(b.MKbmYvg){setTimeout(function(){var t="change URL complement: ".concat(e.param);l((0,k.addMessage)(t,E.default.getAppUser(),null,null,null,void 0))},1e3);break}l((0,k.setConfig)({_windowBlocked:!0,_windowLoading:!0})),setTimeout(function(){l((0,k.setConfig)({_windowBlocked:void 0,_windowLoading:void 0})),(0,d.assistedNavigation)(e.param)},4e3);break;case"show_url":case"embed":if(b.MKbmYvg){setTimeout(function(){var t="show URL into iframe complement: ".concat(e.param);l((0,k.addMessage)(t,E.default.getAppUser(),null,null,null,void 0))},1e3);break}t.chatWindow.auxiliary=(0,x.createMessage)(e),l((0,k.setConfig)(t)),setTimeout(function(){l((0,k.setConfig)({_windowAuxiliaryOpened:!0}))},2e3);break;case"open_chat":if(b.MKbmYvg)return void setTimeout(function(){var t="derivation to human chat complement: ".concat(e.param);l((0,k.addMessage)(t,E.default.getAppUser(),null,null,null,void 0))},1e3);var o=t.__tokenForExternalZendesk,a=t.app.id,i=null==e?void 0:e.param,r=null==i?void 0:i.match(S.PATTERN_ZENDESK_KEY),o=o||y.KEY_TOKEN_SITEL;a===o&&r[0]?(0,f.handlerExternalZendesk)({validKey:r[0],tokenForExternalZendesk:o,aivoStore:O.default,dispatch:l,zendeskUrl:i}):setTimeout(function(){t.chatWindow.externalChat=(0,x.createMessage)(e),l((0,k.setConfig)(t)),O.default.setLocalStorage("derivateZendesk",JSON.stringify({date:(new Date).getTime(),settings:t.chatWindow.externalChat}))},2e3);break;case"buttons":e.quickReplies&&!e.selected?l((0,k.setWindowConfig)({quickReplies:e.data})):(c="object"!==(0,u.default)(e.param)&&e.param?e.param:I(I({},e),e.param),l((0,k.addMessage)(e.message,E.default.getAppUser(),e.action,c,null,s)));break;case"interactiveList":l((0,k.addMessage)(e.message,E.default.getAppUser(),e.action,e.param,null,s));break;case"video_conversational":l((0,k.addMessage)(e.message,E.de,s));break;default:var c="object"!==(0,u.default)(e.param)&&e.param?e.param:I(I({},e),e.param);l((0,k.addMessage)(e.message,E.default.getAppUser(),e.action,c,null,s))}}})};e.dispatchEvents=R;var N=function(t,e,n){t=(t=[t[0],t[1],t[2]]).map(function(t){return{label:t,value:t}}),t={message:"<i class='material-icons'>lightbulb_outline</i> ".concat(E.default.getConfig().text.AB_suggestions||"Suggestions"),type:"buttons",params:{data:t}};n((0,k.addMessage)(t.message,E.default.getAppUser(),t.type,t.params))};e.addSuggestions=N;e.getCustomForm=function(t){return v.default.get("".concat(b.MwXydeL,"/index.php/form/key/").concat(t),{params:{},headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}})};var M=function(t,e,n){var o=E.default.getAppUser();e.exception&&0<e.exception.status&&(0,g.capture)(t,e);e=E.default.getTranslations();n((0,k.addMessage)(e.connectionError.thirdMessage,o))};e.criticalError=M;var j=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=(0,h.uuid)(),n=new RegExp(S.PATTERN_SPLIT_MESSAGE),n=t?t.split(n):[];o.answerID=o.extra?o.extra.message:o.answerID||e;var a=[],i=I(I({},o),{},{suggested:void 0,answer:null,complements:[]});return 1<n.length||1===n.length&&""!==n[0].trim()?n.forEach(function(t,e){var n;t&&(i=I(I({},o),{},{suggested:void 0,answer:null,complements:[]}),t.trim()&&/:(\w+)}/.test(t)&&(n=t.match(/:(\w+)}/g)[0],o.complements.forEach(function(t,e){t.ref===n.replace(/[:}]/g,"")&&(i.complements.push(t),a.push(i),i=I(I({},o),{},{suggested:void 0,answer:null,complements:[]}))}),t=t.replace(/:(\w)+}/g,"")),t.trim()&&t.replace(new RegExp(S.PATTERN_SEARCH_BR,"g"),"")&&(i.answer=t,a.push(i)))}):a.push(I(I({},o),{},{complements:[]})),o&&o.complements&&o.complements.forEach(function(t,e){t.ref||a[a.length-1].complements.push(t)}),a[a.length-1].suggested=o.suggested,a};e.splitMessction(t,e,n,o,a,i){return(0,v.default)({method:"post",url:"".concat(b.MZ2y5k6,"/agentcore/").concat(n,"/events/feedback"),data:{message:t,qualifyID:e,userId:o},headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}}).then(function(t){i&&i(t.data)}).catch(function(t){0<t.status&&(0,g.capture)("RequestError: send AgentBot feedback failed",t,"warning")})};e.sendConditions=function(t,e,n){return"object"===(0,u.default)(t)&&(0,v.default)({method:"post",url:"".concat(b.MZ2y5k6,"/agentcore/").concat(e,"/events/conditions"),data:JSON.stringify({conditions:t,hash:n}),headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},async:!0,cache:!1}).then(function(t){}).catch(function(t){0<t.status&&(0,g.capture)("RequestError: send conditions failed",t,"warning")})};e.closeConversation=function(t,e,n){return(0,v.default)({method:"post",url:"".concat(b.MZ2y5k6,"/agentcore/").concat(e,"/events/close"),data:JSON.stringify({hash:t}),headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},async:!0,cache:!1}).then(function(t){t=t.data,n&&n(t)}).catch(function(t){0<t.status&&(0,g.capture)("RequestError: send conditions failed",t,"warning")})};e.transferConversation=function(e,n){return(0,v.default)({method:"get",url:"".concat(b.M86aEzV,"/REST/transfer/"),params:{message:e,transferType:n},headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},async:!0,cache:!1}).then(function(t){(t=t.data)&&0===t.Successful&&(0,g.capture)("ResponseError: transfer conversation unexpected error",{response:t,data:{message:e,transferType:n}},"warning")}).catch(function(t){0<t.status&&(0,g.capture)("RequestError: transfer conversation failed",t,"warning")})};var L=function(t,e){var n=E.default.getAppUser(),o=E.default.getTranslations();1===t&&e((0,k.addMessage)(o.connectionError.firstMessage,n))};e.onRetryAttempt=L;var z=function(t,e,n,o){var a=null,i=null;return t&&t.length&&(t[0].attachment?((i=t[0].attachment).append("token",e),i.append("message",n),i.append("sentence",n),i.append("hash",o.id),i.append("userId",o.id),i.append("type",o.type)):t[0].audio&&(a="".concat(b.MZ2y5k6,"/agentcore/").concat(e,"/audio/messages"),(i=t[0].audio)xports,t.exports.__esModule=!0},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.cleanZendeskOpenChat=e.hasOpenChatZendeskComplement=e.getUserLastInteractionData=e.getSurveyViews=e.getLastUserMessage=e.reuseUserAssitantNavigation=e.assistedNavigationSupport=e.assistedNavigation=void 0;var a=o(n(73)),i=o(n(9)),r=n(11),c=n(17),s=n(14),p=n(59),l=n(27),u=n(36);function h(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.assistedNavigation=function(t){var e=(0,s.getConfig)(),n=e.app,o=e.user,e=t;(0,p.isUniSabanaClient)(n.id)&&(e=(0,c.addQueryParams)(t,((0,i.default)(t={},r.KEY_AIVO_HASH_ID,o.id),(0,i.default)(t,r.KEY_AIVO_WEB_CHANNEL,n.id),t))),window.location.href=e};function f(){try{return(0,c.getQueryParams)(r.KEY_AIVO_HASH_ID)}catch(t){return console.warn(t.message),(0,c.uuid)(null,!0)}}e.assistedNavigationSupport=f;e.reuseUserAssitantNavigation=function(t,e){((0,c.hasQueryParams)(r.KEY_AIVO_HASH_ID)||(0,c.hasQueryParams)(r.KEY_AIVO_WEB_vComplement)(t)&&(t={id:f(),type:1},e((0,l.setConfig)({user:t})),e((0,l.setUser)(t))),(0,c.aivoRemoveQueryParam)([r.KEY_AIVO_WEB_CHANNEL,r.KEY_AIVO_HASH_ID]))};function v(t){return t||null!=t&&t.length?(0,a.default)(t).reverse().find(function(t){return"system"!==t[0].user.id}):[]}e.getLastUserMessage=v;e.getSurveyViews=function(){var t=(0,u.getItem)("agentFeedback");return{survey:!(null==t||!t.show||null!=t&&t.agentFeedbackFarewallMessages),feedbackThanks:!(null==t||!t.agentFeedbackFarewallMessages)}};e.getUserLastInteractionData=function(t){t=v(t);return t||null!=t&&t.length?{hasUserInteraction:!0,lastUserMessageSentAt:t[0].sentAt}:{hasUserInteraction:!1,lastpen_chat"===t.action})}catch(t){return console.warn("hasOpenChatZendeskComplement:",t.message),!1}}e.hasOpenChatZendeskComplement=m;e.cleanZendeskOpenChat=function(t){return m(t)?t.map(function(t){return"open_chat"===t.action?d(d({},t),{},{action:"open_chat_from_history"}):t}):t}},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.handlerZendeskDepartment=e.setCustomTags=e.getTags=e.addTagsZendesk=e.selectAndEnabledDepartment=e.isOnlineDepartment=e.isValidDepartment=e.setZendeskDepartment=e.cleanPathName=e.hasZendeskDepartment=e.getZendeskDepartment=e.handlerExternalZendesk=e.addTagScriptZendesk=e.businessLogicZendeskSitel=e.openZendeskFromAivo=e.createTagScriptZendesk=e.sendAivoHistoryToZendesk=e.isRefresh=e.buildHistory=e.hideAndCloseZendesk=e.showAndOpenZendesk=e.showAgentCore=e.hideAgentCore=e.getDataFromUser=e.prefillZendeskWithUserData=e.removeFocus=void 0;var c=o(n(78)),a=o(n(9)),i=o(n(70)),r=o(n(28)),s=o(n(79)),p=n(11),l=n(72),u=n(27),h=n(36),d=n(17),f=n(59),v=n(98),m=o(n(14));function g(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(){var t=m.default.searchInsideShadowRoot(l.SELECTOR__MESSAGE_INPUT);try{t&&t[0]&&t[0].blur()}catch(t){console.info(t)}}var w=function(){var e=(0,s.default)(c.default.mark(function t(e){var n;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:n=t.sent;try{Object.keys(n).length&&window.zE("webWidget","identify",n)}catch(t){console.warn(t),e((0,u.hideDerivationLoader)())}case 4:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}();e.removeFocus=y;var _=function(){var e=(0,s.default)(c.default.mark(function t(e){var n;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:n=t.sent;try{window.zE("webWidget","prefill",n)}catch(t){console.warn(t),e((0,u.hideDerivationLoader)())}case 4:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}();e.prefillZendeskWithUserData=_;var x=function(){var e=(0,s.default)(c.default.mark(function t(e){var n,o;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.prev=1,n=(null===(n=window.$aivo.user)||void 0===n?void 0:n.get())||{},S(n))return t.next=6,I();t.next=8;break;case 6:return o=t.sent,t.abrupt("return",k(o));case 8:return t.abrupt("return",k(n));case 11:return t.prev=11,t.t0=t.catch(1),t.next=15,I();case 15:return o=t.sent,t.abrupt("return",k(o));case 17:t.next=23;break;case 19:t.prev=19,t.t1=t.catch(0),console.warn(t.t1),e((0,u.hideDerivationLoader)());case 23:case"end":return t.stop()}},t,null,[[0,19],[1,11]])}));return function(t){return e.apply(this,arguments)}}();e.getDataFromUser=x;function E(t){docustyle.display="none",t((0,u.setConfig)({_agentCoreHidden:!0}))}var k=function(t){for(var e={name:"unknown",email:"unknown@mail.com"},n=0,o=["name","email","phone","organization"];n<o.length;n++){var a=o[n];t[a]&&(e[a]=t[a])}return e},S=function(t){return!t||!t.name||!t.email};e.hideAgentCore=E;function O(t){setTimeout(function(){t((0,u.setConfig)({_agentCoocument.querySelector("#AgentAppContainer").style.display="block"},2e3)}e.showAgentCore=O;function C(t,e){function n(){try{window.zE("webWidget","show"),window.zE("webWidget","open")}catch(t){console.info(t),e((0,u.hideDerivationLoader)())}}N(t)?n():setTimeout(function(){n()},3e3)}e.showAndOpenZendesk=C;function T(e){setTimeout(function(){try{window.zE("webWidget","close"),window.zE("webWidget","hide")}catch(t){console.info(t),e((0,u.hideDerivationLoader)())}},2e3)}e.hideAndCloseZendesk=T;var A=function(){var t=(0,s.default)(c.default.mark(function t(){var e;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.prev=1,t.next=4,window.$aivo.user.get();case 4:e=t.sent,t.next=20;break;case 7:return t.prev=7,t.t0=t.catch(1),t.prev=9,t.next=12,I().then(function(t){return t});case 12:e=t.sent,P(e,["extra","ip","platform","browser","country","state","city","lastSessionId"]),t.next=20;break;case 17:t.prev=17,t.t1=t.catch(9),console.warn("aivo-zE: ".concat(t.t1.message)case"end":return t.stop()}},t,null,[[1,7],[9,17]])}));return function(){return t.apply(this,arguments)}}(),I=function(){return window.$aivo.user.get(function(t){return t})},P=function(e,t){e&&"object"===(0,r.default)(e)&&t.forEach(function(t){e.hasOwnProperty(t)&&delete e[t]})},D=function(){var e=(0,s.default)(c.default.mark(function t(e){var n,o;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m.default.getConfig().app.id,o=m.default.getConfig().app.botId,(0,f.isBBWClient)(n)||(0,v.isOnmexBotId)(o)||(0,v.sendUserDataAndChatHistoryToZD)(o)){t.next=4;break}return t.abrupt("return","");case 4:return t.next=6,A();case 6:return o=t.sent,o=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:/^_{2}/g,a=["id","type"];return Object.entries(t).reduce(function(t,e){var n=(0,i.default)(e,2),e=n[0],n=n[1];return e.match(o)||a.includes(e)||(t[e]=n),t},{})}(o),o=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,n=m.default.getTranslations(),o="";0!==Object.keys(t).length?(a=n.userDataSubtitle||"User Data:",o=Object.entries(t).reduce(function(t,e){var n=(0,i.default)(e,2),e=n[0],n=n[1];return"".concat(t,"\n").concat(e,":  ").concat(n)},a),o="".concat(o,"\n").concat("--------------","\n")):J("AIVO without user data");var a="";return e?(n=n.historySubtitle||"Chat History:",a="".concat(n,"\n")):J("AIVO without Chat History"),"".concat(o).concat(a)}(o,e),t.abrupt("return",o);case 10:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),R=function(){var t=(0,s.default)(c.default.mark(function t(){var e,n,o;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,h.getItem)("agentMessages"),n="",t.prev=2,o=e&&1<=e.length,t.t0=n,t.next=7,D(o);case 7:n=t.t0+=t.sent,n+=(0,d.messagesToString)(e).replaceAll(/style=".+?"/g,""),t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),console.info("aivo-zE: could not send history");case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}},t,null,[[2,11]])}));return function(){return t.apply(this,arguments)}}();e.buildHistory=R;var N=function(t){t=t.getLocalStorage("derivationZendeskSitel");return!0===(null==t?void 0:t.refresh)};e.isRefresh=N;function M(t){if(!t)return!window.zE("webWidget:get","chat:departments").some(function(t){return"online"===t.status});var e=Z(t),t=G(t);return!e||!t||void 0}var j="",L=function(){var a=(0,s.default)(c.default.mark(function t(e,n,o,a){var i,r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.zE("webWidget:get","chat:isChatting"))return t.abrupt("return");t.next=3;break;case 3:return t.next=5,R();case 5:if(i=t.sent,window.zE("webWidget:on","userEvent",function(t){"Chat Offline Message Sent"===t.action&&(n.removeLocalStorage("derivationZendeskSitel"),T(o),o((0,u.hideDerivationLoader)()),o((0,u.addDefaultComplements)()),O(o))}),r=m.default.getConfig().app.botId,M(e)&&(0,v.isOnmexBotId)(r))return window.$zo");t.next=11;break;case 11:if(N(n)&&!a)return t.abrupt("return");t.next=13;break;case 13:console.info("aivo-zE: send history aivo to zE"),i&&window.zE("webWidget","chat:send",i);case 15:case"end":return t.stop()}},t)}));return function(t,e,n,o){return a.apply(this,arguments)}}();e.sendAivoHistoryToZendesk=L;function z(t){var e=t.key,n=void 0===(a=t.id)?"ze-snippet":a,o=t.async,a=void 0===o||o,t=void 0===(o=t.callback)?function(){}:o;return(o=document.createElement("script")).id=n,o.async=a,o.src="".concat(p.KEY_ZENDESK_URL).concat(e),o.onload=t,o}e.createTagScriptZendesko-zE: opening zE");try{window.zE("webWidget","chat:removeTags",["AIVO without user data","AIVO without Chat History","AIVO open popout"]),y(),w(e),_(e),C(t,e)}catch(t){console.warn(t),e((0,u.hideDerivationLoader)())}}e.openZendeskFromAivo=F;function U(){J("AIVO open popout")}function K(n,o,e){return function(){try{window.zE("webWidget:on","open",(0,s.default)(c.default.mark(function t(){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.info("aivo-zE: closing aivo"),E(o),window.zE("webWidget:on","chat:departmentStatus",function(){var e=(0,s.default)(c.default.mark(function t(e){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v.isOnmexBotId)return t.abrupt("return");t.next=2;break;case 2:if("online"===e.status)return t.next=5,L(j,n,o,!0);t.next=5;break;case 5:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()),t.next=5,L(j,n,o);case 5:W(n),window.zE("webWidget:on","chat:popout",U);case 7:case"end":return t.stop()}},t)}))),window.zE("webWidget:on","chat:end",function(){console.info("aivo-zE: onEnd zE"),console.info("aivo-zE: opening aivo"),n.removeLocalStorage("derivationZendeskSitel"),T(o),o((0,u.hideDerivationLoader)()),o((0,u.addDefaultComplements)()),O(o)}),window.zE("webWidget:on","chat:connected",(0,s.default)(c.default.mark(function t(){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et({zendeskUrl:e,aivoStore:n,dispatch:o});case 2:case"end":return t.stop()}},t)})))}catch(t){console.warn(t),n.setLocalStorage("derivationZendeskSitel","false"),o((0,u.hideDerivationLoader)())}}}e.businessLogicZendeskSitel=K;function Y(t){var e=t.validKey,n=t.tokenForExternalZendesk,o=t.aivoStore,a=t.dispatch,t=t.zendeskUrl;N(o)||o.setLocalStorage("derivationZendeskSitel",{key:e,webChannel:n,zendeskUrl:t}),t=z({key:e.replace("/",""),callback:K(o,a,t)}),document.head.appendChild(t)}e.addTagScriptZendesk=Y;e.handlerExternalZendesk=function(t){var e=t.validKey,n=t.tokenForExternalZendesk,o=t.aivoStore,a=t.dispatch,t=t.zendeskUrl;document.querySelector("#ze-snippet")?(o.setLocalStorage("derivationZendeskSitel",{key:e,webChannel:n,refresh:!1}),et({zendeskUrl:t,aivoStore:o,dispatch:a})):Y({validKey:e,tokenForExternalZendesk:n,aivoStore:o,dispatch:a,zendeskUrl:t})};function B(t){try{if(!t)return;if(!(0,f.isURL)(t))return;var e=new URL(t.trimf(!V(n))return;return n[3].repln(t){var e=t.getLocalStorage("derivationZendeskSitel");t.setLocalStorage("derivationZendeskSitel",b(b({},e),{},{refresh:!0}))};e.getZendeskDepartment=B;var V=function(t){return 4<=t.length};e.hasZendeskDepartment=V;var H=function(t){return t.filter(function(t){return""!==t})};e.cleanPathName=H;var q=function(){var e=(0,s.default)(c.default.mark(function t(e){var n;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=!0,t.next=3,G(e);case 3:if(t.sent){t.next=7;break}return console.warn("aivo-zE: invalid Department zE:",e),t.abrupt("return",!n);case 7:return console.info("aivo-zE: set department zE:",e),$(e),J([e]),t.abrupt("return",n);case 11:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}();e.setZendeskDepartment=q;var G=function(o){return new Promise(function(t,e){try{var n=window.zE("webWidget:get","chat:department",o);t((null==n?void 0:n.name)===o)}catch(t){console.warn(t),e(t)}})};e.isValidDepartment=G;var Z=function(t){t=window.zE("webWidget:get","chat:department",t);return"online"===(null==t?void 0:t.status)};e.isOnlineDepartment=Z;var $=function(t){try{window.zE("webWidget","updateSettings",{webWidget:{chat:{departments:{enabled:[t],select:t}}}})}catch(t){console.warn(t)}};e.selectAndEnabledDepartment=$;var J=function(t){try{window.zE("webWidget","chat:addTags",t)}catch(t){console.warn(t)}};e.addTagsZendesk=J;function X(t){var e;try{if(!t)return;if(!(0,f.isURL)(t))return;var n=decodeURI(t);return null===(e=new URL(n).searchParams.get("tags"))||void 0===e?void 0:e.split(",")}catch(t){console.warn(t)}}e.getTags=X;function Q(t){try{var e=X(t);if(!e)return;J(e)}catch(t){console.warn(t)}}e.setCustomTags=Q;function tt(t){return!!(j=B(t))&&(q(j),!0)}e.handlerZendeskDepartment=tt;var et=function(){var e=(0,s.default)(c.default.mark(function t(e){var n,o,a;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.zendeskUrl,o=e.aivoStore,a=e.dispatch,t.prev=1,a((0,u.showDerivationloader)()),t.next=5,tt(n);case 5:Q(n),F(o,a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.warn("aivo-zE: handlerZendeskDepartment"),a((0,u.hideDerivationLoader)());case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},function(t,e,n){"use strict";var o=n(1),r=n(28),a=o(n(57)),i=o(n(58)),s=o(n(9)),p=o(n(183)),l=n(15),u=n(11),c=n(198),h=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};e=E(e);if(e&&e.has(t))return e.get(t);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((i=a?Object.getOwnPropertyDescriptor(t,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=t[n])}o.default=t,e&&e.set(t,o);return o}(n(101)),d=n(17),f=n(40),v=n(68),m=o(n(14)),g=n(69),b=n(36),y=o(n(71)),w=o(n(56)),_=o(n(488)),x=n(27);function E(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(E=function(t){return t?n:e})(t)}function k(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=new(function(){function t(){return(0,a.default)(this,t),(0,s.default)(this,"disconnectTimeout",void 0),(0,s.default)(this,"writingTimeout",null),(0,s.default)(this,"isPusher",null),O=O|UserName",value:function(t){var e=t.name;return void 0!==t.nickname&&""!==t.nickname?e=t.nickname:void 0!==t.sourceName&&""!==t.sourceName?e=t.sourceName:e||void 0===t.email||""===t.email||(e=t.email),e}},{key:"setDisconnectTimeout",value:function(t){this.disconnectTimeout=t}},{key:"sendFeedback",value:function(t,e,n,o){var a=this.isPusher?l.MDgqYvZ:l.MyY8KEm,i=new FormData;return i.appd",o),(0,w.default)({method:"POST",url:"".concat(a,"/").concat(m.default.applicationConfig.app.id,"/conversation/").concat(e,"/feedback"),headers:{"content-type":"application/x-www-form-urlencoded"},data:this.isPusher?i:_.default.stringify({feedbackId:o})}).then(function(t){}).catch(function(t){0<t.status&&(0,f.capture)("RequestError: send Live feedback failed",t,"warning")})}},{key:"attended",value:function(t,e,n){setTimeout(function(){t((0,x.setConfig)({agentLiveName:n.name,agentLivePicture:n.picture}))},200),this.clearTimeoutDisconnect();var o=S(S({},n),{},{id:n.agentId,type:3,name:O.getUserName(n)}),a=m.default.applicationConfig.text.attended;m.default.getUser(o.id)||t((0,x.setUser)(o));var i=S(S({},m.default.getAppUser()),{},{picture:o.picture});t((0,x.addMessage)(a.replace("{agentName}",null==o?void 0:o.name),i,"attended")),tiqTransferring:void 0,_windowBlocked:void 0,_windowLoading:void 0}))}},{key:"error",value:function(t,e){this.disconnect(t,e),t((0,x.addMessage)(m.default.applicationConfig.text.error,m.default.getAppUser()))}},{key:"errorNotAttention",value:function(t,e){this.disconnect(t,e)}},{key:"errorInternet",value:function(t,e){this.disconnect(t,e),t((0,x.addMessage)(m.default.applicationConfig.text.connectionProblem,m.default.getAppUtAppUser()))}},{key:"errorTimeout",value:function(t,e){this.disconnect(t,e),t((0,x.addMessage)(m.default.applicationConfig.text.noAgent,m.default.getAppUser()))}},{key:"clearTimeoutDisconnect",value:function(){var t=clearTimeout(O.disconnectTimeout);O.setDisconnectTimeout(t)}},{key:"disconnect",value:function(t,e,n){if(this.clearTimeoutDisconnect(),this.WSocket&&this.WSocket.unsubscribeStatus(),e&&(this.WSocket&&this.WSocket.unsubscribe(e),t((0,x.newSession)(!0))),this.flagAsSeenMessageQueue(t),t((0,x.setConfig)({_iqRoom:void 0,_iqAttended:void 0,_iqSubscribed:void 0,_iqTransferring:void 0,_windowSession:void 0,_windowLoading:void 0,__videoConversationalToLive:void 0})),console.log("Live agent disconnected from live"),window[u.KEY__SDK]._onCloseDerivationLive)try{window[u.KEY__SDK]._onCloseDerivationLive()}catch(t){console.warn("onCloseDerivationLive: ".concat(t.message))}}},{key:"connecting",value:function(t,e){t((0,x.setConfig)({_iqRoom:e.room,_customToken:e.customToken,_iqTransferring:!0,_windowConnected:m.default.applicationConfig.products.live.id}))}},{key:"showLoading",value:function(t){t((0,x.setConfig)({_iqTransferring:!0}))}},{key:"hideLoading",value:function(t){t((0,x.setConfig)({_iqTransferring:!1}))}},{key:"checkState",value:function(n,o){var a=this,t=setTimeout(function(){w.default.get("".concat(l.MDgqYvZ,"/").concat(m.default.applicationConfig.app.id,"/conversation/").concat(o,"/statu","Content-Type":"application/json;charset=UTF-8"}}).then(function(t){var e=t.data;"open"!==e.status&&((0,b.setItem)("agentDerivationLive",!1),n((0,x.setCoternet(n,o),console.info("middleware status connection closed",e)},1e3))}).catch(function(t){a.error(n,o),console.error("middleware status connection error",t)})},1e4);O.setDisconnectTimeout(t)}},{key:"eventFactory",value:function(t,e,n){return{filter:t,comparison:e,value:n}}},{key:"connect",value:function(n,o){var t,a,i,e=m.default.getConfig();(0,b.setItem)("agentDerivationLive",!0),this.WSocket&&(this.WSocket.init(m.default.getConfig().user.id),t=[{action:"event_id",param:e.app.id},{action:"event_type",param:"transfer-chat"},{action:"event",param:"transfer-chat"},{action:"event_label",param:"intention"}],(0,g.setEventAnalytics)(e.user.id,e.app.id,window.navigator.userAgent,t),window[u.KEY__SDK]._onDerivationLive&&window[u.KEY__SDK]._onDerivationLive(),i=(a=this).WSocket.subscribe(o),this.WSocket.subscribeStatus(n,x.addMessage,m.default.applicationConfig.text,m.default.getAppUser()),this.WSocket.bind(i,"pusher:subscription_succeeded",function(){var e=m.default.getConfig();e._iqSubscribed||a.subscribe(n,!==e.user.id&&(m.default.getUser(t.id)||(t.nickname&&(t.name=t.nickname),n((0,x.setUser)(t))),e._iqAttended||"agent"!==t.type||O.attended(n,o,t))})}),this.WSocket.bind(i,"pusher:subscription_error",function(t){a.errorInternet(n,o),console.error("pusher subscription erssageQueue",value:function(e){(0,v.getMessageQueue)().forEach(function(t){e((0,x.updateMessage)({sending:void 0},t.id))})}},{key:"subscribe",value:function(i,r,t){i((0,x.setConfig)({_iqSubscribed:!0}));var c=this;this.WSocket.bind(t,"attendedBy",function(t){O.attended(i,r,t)}),this.WSocket.bind(t,"message",function(t){+t.type===u.KEY__USER_TYPE_LIVE&&(c.clearTimeoutDisconnect(),i((0,x.setConfig)({__writing:void 0,_iqTransferring:void 0,_windowBlocked:void 0,_windowLoading:void 0})));var e={id:t.userId,time:t.timestamp,name:O.getUserName(t)||null,picture:t.picture||null,type:t.type||u.KEY__USER_TYPE_CLIENT,sourceId:t.userId,sourceName:O.getUserName(t)||""};m.default.getUser(e.id)?e=m.default.getUser(e.id):(i((0,x.setUser)(e)),+e.type===u.KEY__USER_TYPE_LIVE&&e.id!==m.default.getConfig()._iqAttended&&i((0,x.setConfig)({_iqAttended:e.id})));var n=t.complements.find(function(t){return"video-call-start"===t.action});if(n){var o=n.param,a=p.default.AES.decrypt(o,l.M6p9EQD),o=JSON.parse(a.toString(p.default.enc.Utf8)),a=y.default.getLocalStorage(u.KEY__ROOMS_SID);if(a=JSON.parse(a)){if(a[o.roomSID])return;a[o.roomSID]=o.roomSID,y.default.setLocalStorage(u.KEY__ROOMS_SID,JSON.stringify(a))}else y.default.setLocalStorage(u.KEY__ROOMS_SID,JSON.stringify((0,s.default)({},o.roomSID,o.roomSID)));window.roomSID=o.roomSID,window.accessToken=o.accessToken;a=null==o?void 0:o.isRecordingVideoCall;return console.log(a,"isRecordingVideoCall"),i((0,x.setConfig)({isRecordingVideoCall:a})),i((0,x.setConfig)({_iqTransferring:!0,_windowLoading:!0})),void setTimeout(function(){i((0,x.setConfig)({showTwilioIncommingCall:!0})),i((0,x.setConfig)({_iqTransferring:!1,_windowLoading:!1}))},100)}i((0,x.addMessage)(t.message,e)),i((0,x.addComplements)(t.complements,e));o=t.complements.find(function(t){return"video-call-end"===t.action}),a=t.complements.find(function(t){return"video-call-hangup"===t.action}),e=m.default.getConfig().showTwilioIncommingCall,t=m.default.getTranslations();(o||a)&&e&&(i((0,x.setConfig)({showTwilioIncommingCall:!1})),null===(e=window.$aivo)||void 0===e||null!==(e=e.chat)&&void 0!==e&&e.addMessage(null==t?void 0:t.videoCall.videoCallDeclined))}),this.WSocket.bind(t,"client-startWrite",function(){var t=m.default.searchInsideShadowRoot;clearTimeout(O.writingTimeout),i((0,x.setConfig)({__writing:!0}));t=t(".aivochat-messages")[0];t.animate({scrollTop:t.scrollHeight},0)}),this.WSocket.bind(t,"client-stopWrite",function(){O.writingTimeout=setTimeout(function(){return i((0,x.setConfig)({__writing:void 0}))},2e3)}),this.WSocket.bind(t,"transferrt.getConfig()._iqAttended,e=m.default.getUser(t),t=m.default.applicationConfig.text.retransferring;i((0,x.addMessage)(t.replace("{agentName}",e.name),e)),i((0,x.setConfig)({_iqTransferring:!0,_windowLoading:!0}))}),this.WSocket.bind(t,"timeout",function(){c.errorTimeout(i,r)}),this.WSocket.bind(t,"disconnect",function(t){var e,n=(0,d.uuid)(),o=m.default.getConfig(),a=m.default.applicationConfig.text.disconnect;o._iqAttended&&(e=m.default.getUser(o._iqAttended),a=a.replace("{agentName}",e.name).replace("{conversationId}",t.conversationId)),c.disconnect(i,r),i((0,x.addMessage)(a,m.default.getAppUser(),void 0,void 0,void 0,n)),o.eventComplements&&o.eventComplements.CLOSE&&i((0,x.addMessage)("",m.default.getAppUser(),o.eventComplements.CLOSE.action,o.eventComplements.CLOSE,void 0,n)),t&&t.type&&i((0,x.addMessage)(m.default.applicationConfig.text.feedback,m.default.getAppUser(),"feedback",S(S({},t),{},{room:r}),void 0,n))})}},{key:"start",value:function(e,t){var n=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(t.complement){var a=t.complement.param,i=a.room,r=a.customToken;return this.backendService(i,r,e,o).then(function(){o?"refresh"===o.state&&n.init(o.action):(n.connecting(e,t.complement.param),n.connect(e,i,r))}).catch(function(t){console.error(t.message),n.error(e)})}this.error(e)}},{key:"isRoomOfFirebase",valuce-").length}},{key:"backendService",value:function(n,o,a,i){var r=this;return new Promise(function(t,e){return n?r.isRoomOfFirebase(n)?o?(r.isPusher=!1,r.WSocket=h.firebaseConn,r.showLoading(a),h.default.lazSocket.authService(o)}).then(t).catch(function(t){console.warn(t),r.hideLoading(a)})):e(new Error("customToken is required")):(r.isPusher=!0,r.WSocket=c.pusherConn,i||r.showLoading(a),r.WSocket.lazyLoadDependencies().then(t).catch(function(t){console.warn(t),r.hideLoading(a)})):e(new Error("room is required"))})}},{key:"checkLiveDerivation",value:function(){var t=y.default.getLocalStorage("agentDerivationLive"),e=this.isRoomOfFirebase(m.default.getConfig()._iqRoom);return t&&e}},{key:"init",value:function(t){m.default.getConfig()._iqRoom?this.connect(t.dispatch,m.default.getConfig()._iqRoom):this.error(t.dispatch)}}]),t}(t,e,nvalue:!0}),e.getPusher=e.WSocket=void 0;var o=n(15),a=null,r={core:null,lazyLoadDependencies:function(){return new Promise(function(t,e){if(a)return t();n.e(36).then(n.t.bind(null,530,7)).then(function(tgToConsole="})},init:fu,{encrypted:!0,auth:t}}})},subscribe:function(t){return r.core.subscribe(t)},bind:function(t,e,n){return t.bind(e,n)},unsubscribe:function(t){r.core&&r.core.unsubscribe(t)},disconnect:function(){r.core.disconnect()},unsubscribeStatus:function(){r.core&&r.core.connection.unbind("state_change")},subscribeStatus:function(e,n,o,a){var i=null;r.core.connection.bind("state_change",function(t){switch(t.current){case"error":case"unavailable":case"failed":e(n(o.connectionProblem,a)),e(n(o.checkConnection,a)),i=t.current;break;case"connecting":e(n(o.tryingConnect,a));break;case"connected":i&&e(n(o.weAreBack,a)),i=t.current}})}};e.WSocket=r;e.getPusher=function(){return a}},function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0}),e.firebaseConn=e.default=void 0;var h=n(a(78)),i=n(a(79)),r=n(a(57)),c=n(a(58)),s=n(a(9)),l=a(11),u=a(27),d=n(a(56)),f=a(60),v=n(a(14)),m=a(15),g=a(485);function o(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Objen=function(){function p(){var i=this;(0,r.default)(this,p),(0,s.default)(this,"getSourceData",function(t){return{user:i.userData,agent:i.agentData,trigger:i.agentData}[t]}),(0,s.default)(this,"sourceValid",function(t){return t===l.KEY_AGENT||t===l.KEY_USER||t===l.KEY_TRIGGER}),(0,s.default)(this,"getMessageFormat",function(t){var e=t.action,n=t.value,o=t.seconds,a=t.source;switch(e){case"text":return{message:n,timestamp:o,complements:[]};case"image":if(!i.sourceValid(a))throw new Error("behavior not determined for ".concat(a));if(a===l.KEY_USER)return{message:"",timestamp:o,complements:[{action:"image",type:"image",param:n}]};if(a===l.KEY_AGENT||a===l.KEY_TRIGGER)return{message:'<img src="'.concat(n,'" class="image-chat">'),timestamp:o,complements:[]};break;default:return{message:"",timestamp:o,complements:[{action:e,type:e,param:n}]}}}),(0,s.default)(this,"events",{attendedBy:"attendedBy",message:"message","pusher:subscription_succeeded":"subscriptionSucceeded",disconnect:"disconnect",transferringTo:"transferringb=null,this.onDisconnectRef=null,this.connectedRef=null,this.undStorer e,t,n,o;return(0,c.default)(p,[{key:"authService",value:function(t){return p.auth.signInWithCustomToken(t)}},{key:"signOutService",value:function(){p.auth.signOut().then(function(){return console.info("Sign Out New Live")}).catch(function(t){return console.error(t.message)})}},{key:"init",value:function(t){return this.thirdMessage=0,this.statusPrev="",this.userId=t,this.usersConnectedDb=p.db.ref("/status/".concat(t)),this.userPresence(),this}},{key:"subscribe",value:function(t){if(!t)throw new Error(" room is required ");return this.room=t,this.channel=p.fireStore.collection(m.MjG64lk).doc(t),this.channel}},{key:"manualDisconnect",value:function(t){this.unsubscribeStatus(),t((0,u.setConfig)({_iqRoom:void 0,_iqAttended:void 0,_iqSubscribed:void 0,_iqTransferring:void 0,_windowSession:void 0,_windowLoading:void 0})),t((0,u.addMessage)(v.default.applicationConfig.text.error,v.default.getAppUser())),t((0,u.newSession)(!0))}},{key:"subscribeStatus",value:function(n,o,a,i){var r=this;this.connectedRehis.connectedRef.on("value",function(t){var e=t.val();e?setTimeout(function(){e&&!c&&p.conversationExist(r.room).then(function(t){return t?(n(o(a.weAreBack,i)),void r.userPresence()):void r.manualDisconnect(n)}).catch(function(t){console.warn(t.message),r.manualDisconnect(n)}),e&&(c=!1)},3e3):setTimeout(function(){e||c||(n(o(a.tryingConnect,i)),n(o(a.checkConnection,i)))},3e3)})}},{key:"bind",value:function(){0<arguments.length&&void 0!==arguments[0]||this.channel;var t=this.events[1<arguments.length?arguments[1]:void 0];t&&this[t](2<arguments.length?arguments[2]:void 0)}},{key:"attendedBy",value:function(a){var i=this;this.unbindStore.attendedBy=this.channel.onSnapshot(function(t){var e,n,o;t&&(o=(n=t.data()).status,e=n.agent,t=n.user,o===l.KEY_STATUS_ATTENDED&&i.statusPrev!==l.KEY_STATUS_ATTENDED&&(n=t.id,o=t.hash,t=e.ID,i.statusPrev=l.KEY_STATUS_ATTENDED,i.setUserData({id:n,hash:o,KEY__USER_TYPE_CLIENT:l.KEY__USER_TYPE_CLIENT}),i.setAgentData({I:e.name||"",nickname:e.nickname||"",picture:e.picture})))})}},{key:"message",value:function(c){var s=this;this.unbindStore.message=this.channel.collection("history").onSnapshot(function(t){t.docChanges().sort(function(t,e){return t.doc.data().timestamp-e.doc.data().timestamp}).forEach(function(t){var e,n,o,a,i,r=!1;2===s.thirdMessage?r=!0:++s.thirdMessage,"added"===t.type&&r&&(i=p.app.firestore.Timestamp.now().seconds,e=(alue,n=a.source,o=a.action,r=a.sourceId,t=a.sourceName,a=s.getSourceData(n),i=s.getMessageFormat({action:o,value:e,seconds:i,source:n}),n!==l.KEY_USERBOT&&n!==l.KEY_BOT&&c(b(b(b({},a),i),{},{sourceId:r,sourceName:t})))})})}},{key:"subscriptionSucceeded",value:function(t){t()}},{key:"getFeedBack",value:(o=(0,i.default)(h.default.mark(function t(e){var n,o;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e||console.error("get feedback live error: groupId undefined"),o=v.default.getConfig(),o=o.app.id,o=(0,f.getXToken)(o),t.prev=4,t.next=7,d.default.get("".concat(m.MZ2y5k6,"/liveplatform/group/").concat(e,"/feedback"),{headers:{"x-token":o,"Content-Type":"application/json"}});case 7:if(o=t.sent,o=null==o||null===(n=o.data)||void 0===n?void 0:n.feedbackValues)return t.abrupt("return",o);t.next=11;break;case 11:throw new Error("feedback response is invalid");case 14:t.prev=14,t.t0=t.catch(4),console.error(t.t0);case 17:case"end":return t.stop()}},t,null,[[4,14]])})),function(t){return o.apply(this,arguments)})},{key:"unsubscribeStatus",value:function(){for(var t in this.unbindStore)this.unbindStore[t]();this.disconnectDB(),this.signOutService()}},{key:"disconnect",value:function(n){var o=this;this.unbindStore.disconnect=this.channel.onSnapshot(function(t){var e;t&&(t=(e=t.data()).status,e=e.groupsId,t===l.KEY_STATUS_CLOSED&&o.getFeedBack(e[0]||void 0).then(function(t){t=b(b({},t),{},{conversationId:o.room});n(t)}).catch(console.error))})}},{key:"clientauthServiceWrite",value:function(){return this}},{key:"clientStopWrite",value:function(){return this}},{key:"transferringTo",value:function(e){var n=this;this.unbindStore.transferringTo=this.channel.onSnapshot(function(t){t&&t.data().status===l.KEY_STATUS_TRANSFERRED&&(n.statusPrev=l.KEY_STATUS_TRANSFERRED,e())})}},{key:"timeOut",value:function(){}},{key:"unsubscribe",value:functionisconnect(),this.onDisconnectRef.set(this.userOnline(!1)).then(function(){t.usersConnectedDb.set(t.userOnline(!0))}).catch(console.error)}},{key:"disconnectDB",value:function(){this.connectedRef&&this.connectedRef.off("value",this.onValueChange),this.onDisconnectRef.cancel()}},{key:"userOnline",value:function(t){return t?ast_changed:p.app.database.ServerValue.TIMESTAMP}}},{key:"setUserData",value:function(t){this.userData={realUserId:t.id,userId:t.hash,type:l.KEY__USER_TYPE_CLIENT}}},{key:"setAgentData",value:function(t){this.agentData={realUserId:t.ID,userId:t.ID,type:l.KEY__USER_TYPE_LIVE}}},{key:"addMessageVideoCallStatus",value:(n=(0,i.default)(h.default.mark(function t(e){var n,o,a,i,r,c,s,p,l,u;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("addMessageVideoCallStatus to firebase"),p=v.default.getConfig(),i=p._iqRoom,r=p.user.id,u=v.default.getUser(null==this||null===(n=this.userData)||void 0===n?void 0:n.userId)||r,l=Boolean(u.firstname),c=l?"".concat(u.firstname," ").concat(u.lastname):"",s=p.app.id,l=(0,f.getXToken)(s),p="".concat(m.MyY8KEm,"/conversations/").concat(this.room||i,"/client/message"),l={"x-token":l,"Content-Type":"application/json"},u={message:[{action:e,value:"",botToken:s,hash:(null==this||null===(o=this.userData)||void 0===o?void 0:o.userId)||r,roomId:(null==this?void 0:this.room)||i,source:"user",sourceId:(null==this||null===(a=this.userData)||void 0===a?void 0:a.userId)||r,sourceName:(null==u?void 0:u.nickname)||(null==u?void 0:u.name)||c||u.email||""}]},t.prev=12,t.next=15,d.default.post(p,u,{headers:l});case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(12),console.error("Error:",t.t0),console.log("Firebase error");case 21:case"end":return t.stop()}},t,this,[[12,17]])})),function(t){return n.apply(this,arguments)})}],[{key:"lazyLoadDependencies",value:(t=(0,i.default)(h.default.mark(function t(){var e=this;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return")return t();Promise.all([Promise.all([a.e(1),a.e(39)]).then(a.bind(null,531)),Promise.all([a.e(1),a.e(37)]).then(a.bind(null,532)),Promise.aa.e(1),a.e(38)]).then(a.bind(null,533))]).then(function(t){return t[0].default}).then(function(t){e.app=t,e.app.initializeApp(g.firebaseConfig),e.fireStore=t.firestore(),e.auth=t.auth(),e.db=t.database()}).then(t).catch(function(){return new Error("lazy Load Firebase Error")})}));case 1:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})},{key:"conversationExist",value:(e=(0,i.default)(h.default.mark(function t(e){var n;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");cae().collection(m.MjG64lk).doc(e).get();case 5:return n=t.sent,t.abrupt("return",n.exists);case 9:return t.prev=9,t.t0=t.catch(2),console.warn(t.t0.message),t.abrupt("return",!1);case 13:case"end":return t.stop()}},t,null,[[2,9]])})),function(t){return e.apply(this,arguments)})}]),p}();e.default=n,(0,s.default)(n,"app",null),(0,s.default)(n,"fireStore",null),(0,s.default)(n,"auth",null),(0,s.default)(n,"db",null);n=new n;e.firebaseConn=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.firebaseConfig=void 0;n=n(15),n={apiKey:n.MvjD9RL,projectId:n.MP5eYgz,databaseURL:n.MxyZagd};e.firebaseConfig=n},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.includeVideoConversationalComplementForOpenAgentLive=e.isVideoChatEnabled=e.isVideoChatChannel=void 0;function a(){var t;return(null===(t=r.default.getConfig())||void 0===t?void 0:t.protocolId)===c.KEY__VIDEO_CHAT_CODE}var i=o(n(73)),r=o(n(14)),c=n(11),s=n(81);e.isVideoChatChannel=a;function ptConfig())||void 0===t||null===(e=t.chatWindow)||void 0===e||null===(n=e.videoChat)||void 0===n?void 0:n.enabled)}e.isVideoChatEnabled=p;e.includeVideoConversationalComplementForOpenAgentLive=function(t){if(!t)return t;if(!t.some(function(t){return"open_agentlive"===t.action})||!a()||!p())return t;var e=(null===(e=r.default.getConfig())||void 0===e?void 0:e.text.transferring).match(s.PATTERN_HTTP_LIVE_STREAMING);return[].concat((0,i.default)(t),[{action:"video_conversational",param:e&&e[0]}])}},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.dataInterationFactory=e.setEventAnalytics=void 0;var a=o(n(56)),i=o(n(14)),r=n(15),c=n(17);e.setEventAnalytics=function(t,e,n,o){if(i.default.getConfig()._enabledAnalytics)return a.default.post(r.MkX0D4E,{data:{user_hash:t,bot_token:e,user_ary{s({},"a",{value:1})}catch(t){s=null}t.exports=function(t){var e=r(o,i,arguments);return c&&s&&c(e,"length").configurable&&s(e,"length",{value:1+p(0,t.length-(arguments.length-1))}),e};n=function(){return r(o,a,arguments)};s?s(t.exports,"apply",{value:n}):t.exports.apply=n},function(t,e,n){var o="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,y=o&&a&&"function"==typeof a.get?a.get:null,w=o&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,o=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_=a&&o&&"function"==typeof o.get?o.get:null,x=a&&Set.prototype.forEach,E="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,k="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,S="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,O=Boolean.prototype.valueOf,i=Object.prototype.toString,C=Function.prototype.toString,T=String.prototype.match,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,l=Object.getOwnPropertySymbols,I="function"f Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,u=Object.oteStyle||e)?'"':"'";return e+t+e}function j(t){return!("[object Array]"!==F(t)||N&&"object"==typeof t&&N in t)}function L(t){if(P)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return 1;if(t&&"object"==typeof t&&I)try{return I.call(t),1}catch(t){}}t.exports=function o(n,t,a,i){var r=t||{};if(z(r,"quoteStyle")&&"single"!==r.quoteStyle&&"double"!==r.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(r,"maxStringLength")&&("number"==typeof r.maxStringLength?r.maxStringLength<0&&r.maxStringLength!==1/0:null!==r.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var e=!z(r,"customInspect")||r.customInspect;if("boolean"!=typeof e)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(z(r,"indent")&&null!==r.indent&&"\t"!==r.indent&&!(parseInt(r.indent,10)===r.indent&&0<r.indent))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function t(e,n){if(e.length>n.maxStringLength){var o=e.length-n.maxStringLength,o="... "+o+" more character"+(1<o?"s":"");return t(e.slice(0,n.maxStringLength),n)+o}e=e.replace(/(['\\])/g,"\\$1").replace:r.depth;if(c<=(a=void 0===a?0:a)&&0<c&&"object"==typeof n)re.indent+1).join(" ")}return{ba{if(e&&(i=i.slice()).push(e),n){n={depth:r.depth};return z(r,"quoteStyle")&&(n.quoteStyle=r.quoteStyle),o(t,n,a+1,i)}return o(t,r,a+1,i)}if("function"==typeof n){var c=function(t){if(t.name)return t.name;t=T.can).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(n);return"object"!=typeof n||P?l:Y(l)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(n)){for(var u="<"+String(n.nodeName).toLowerCase(),h=n.attributes||[],d=0;d<h.length;d++)u+=" "+h[d].name+"="+M((s=h[d].value,String(s).replace(/"/g,"&quot;")),"double",r);return u+=">",n.childNodes&&n.childNodes.length&&(u+="..."),u+="</"+String(n.nodeName).toLowerCase()+">"}if(j(n)){if(0===n.length)return"[]";var f=H(n,p);return t&&!function(t){for(var e=0;e<t.length;e++)if(0<=U(t[e],"\n"))return!1;return!0}(f)?"["+V(f,t)+"]":"[ "+f.join(", ")+" ]"}if(!("[object Error]"!==F(f=n)||N&&"object"==typeof f&&N in f)){var v=H(n,p);return 0===v.length?"["+String(n)+"]":"{ ["+String(n)+"] "+v.join(", ")+" }"}if("object"==type[R]();if("function"==typeofstanceof Map}catch(t){}returnll(n,function(t,e){m.push(p(e,n,!0)+" => "+p(t,n))}),W("Map",y.call(n),m,t)}if(function(t){if(!_||!t||"object"!=typeof t)return!1;try{_.call(t);try{y.call(t)}catch(t){return!0}return t instanceof Set}can!1;try{E.call(t,E);try{k.p");if(function(t){if(!k||!t||"object"!=typeof t)return!1;try{k.call(t,k);try{E.call(t,E)}catch(t){return!0}returject"!=typeof t)return!1;try{return S.call(t),!0}catch(t){}return!1}(n))return B("WeakRef");if(!("[object Number]"!==F(f=n)||N&&"object"==typeof f&&N in f))return Y(p(Number(n)));if(function(t){if(!t||"object"!=typeof t||!A)return!1;try{return A.call(t),!0}catch(t){}return!1}(n))return Y(p(A.call(n)));if(!("[object Boolean]"!==F(v=n)||N&&"object"==typeof v&&N in v))return Y(O.call(n));if(!("[object String]"!==F(e=n)||N&&"object"==typeof e&&N in e))return Y(p(String(n)));if(("[object Date]"!==F(f=n)||N&&"object"==typeof f&&N in f)&&("[object RegExp]"!==F(b=n)||N&&"object"==typeof b&&N in b)){var v=H(n,p),e=D?D(n)===Object.prototype:n instanceof Object||n.constructor===Object,f=n instanceof Object?"":"null prototype",b=!e&&N&&Object(n)===n&&N in n?F(n).slice(8,-1):f?"Obing(Number(i))===i&&i<ncat(a):(r=n.plainObjects?Object.create(null):{},c="["===p.charAt(0)&&"]"===p.charAt(p.length-1)?p.slice(1,-1):p,s=parseInt(c,10),n.parseArrays||""!==c?!isNaN(s)&&p!==c&&String(s)===c&&0<=s&&n.parseArrays&&s<=n.arrayLimit?(r=[])[s]=a:r[c]=a:r={0:a}),a=r}return a}(c,e,n,o)}}var h=n(200),d=Object.prototype.hasOwnProperty,f=Array.isArray,v=""===t||null==t)return n.plainObjects?Object.create(null):{};for(var o="string"==typeof t?s(t,n):t,a=n.plainObjects?Object.create(null):{},i=Object.keys(o),r=0;r<i.length;++r)var c=i[r],c=p(c,o[c],n,"string"==typeof t),a=h.merge(a,c,n);return!0===n.allowSparse?a:h.compact(a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(501);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:functionction(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.requestInterceptor=void 0;var a=o(n(57)),i=o(n(58)),c=o(n(9)),n=(n(56),new(function(){function t(){var r=this;(0,a.default)(this,t),(0,c.default)(this,"setRetries"s=t}),(0,c.default)(this,"subscribeResponseErrorInterceptor",function(n,o,a){r.clearResponseErrorInterceptor(n);var i=1,t=n.interceptors.response.use(function(t){return t},function(t){r.sleep(1);var e=t.config;return i<=r.retries?(o(i,a,t),i++,new Promise(function(t){t(n(e))})):Promise.reject(t)});r.map.set(n,t)}),(0,c.default)(this,"sleep",function(t){for(var e=Date.now();Date.now()-e<1e3*t;);}),this.map=new Map,this.retries=1}return(0,i.default)(t,[{key:"clearResponseErrorInterceptor",value:function(t){this.map.has(t)&&(t.interceptors.response.eject(this.map.get(t)),this.map.delete(t))}}]),t}()));e.requestInterceptor=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(503);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.removeNestedButtons=e.updateResponseForPicPay=e.hasNestedButtonsAndOtherButtonsTypes=e.isPicPay=void 0;var a=o(n(9)),i=o(n(14)),r=n(504);function c(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(){var t=i.default.applicationConfig.app.botId;return!!t&&(t=(0,r.decodeBotId)(t),["5870","5988","5463"].includes(t))}e.isPicPay=p;function l(t){return t.reduce(function(t,e){try{return"buttons"===e.action?"nested"!==e.data[0].type?s(s({},t),{},{simpleButtons:!0}):s(s({},t),{},{nestedButtons:!0}):t}catch(t){return console.warn("sandbox: ".concat(t.message)),!1}},{nestedButtons:!1,simpleButtons:!1})}e.hasNestedButtonsAndOtherButtonsTypes=l;e.updateResponseForPicPay=functiomoveNestedButtons=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(505);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBotId=void 0;e.decodeBotId=function(t){try{return window.atob(window.atob(t))}catch(t){console.warn("error: decodeBotId")}}},function(o,t,e){var a=e(507);function i(t,e,n){return"undefined"!=typeof Reflect&&Reflectrts.__esModule=!0,i(t,e,n||t)}o.exports=i,o.exports.default=o.exports,o.exports.__esModule=!0},function(t,e,n){var o=n(97);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n=o(n(509)).default;e.default=n},function(t,e,n){"use strict";var o=n(1),r=o(n(28)),c=o(n(9)),s=n(17),p=n(134),l=n(40),u=n(15),h=n(11),d=n(69),f=o(n(14)),v=n(27);function a(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptoropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n={init:function(o){var a=o.dispatch,i={get userId(){return o.getState().agentConfig.user.id},get appId(){return o.getState().agentConfig.app.id}};window[h.KEY__SDK]=m(m({},window[h.KEY__SDK]),{},{chat:{open:function(){var t=o.getState().agentConfig,e=o.getState().agentMessages,n=[{action:"event_id",param:t.app.id},{action:"event_type",param:"firstInteraction-chat"},{action:"event",param:"open_sdk"}];(0,d.setEventAnalytics)(t.user.id,t.app.id,window.navigator.usedow[h.KEY__SDK]._onFirstInteraction&&window[h.KEY__SDK]._onFirstInteraction("open_sdk"):window[h.KEY__SDK]._onOpenWindow&&windowindow)())},close:function(){a((0,v.closeWindow)())},closeToSurvey:function(){a((0,v.closeToSurveyThunk)())},getUserInteractionData:function(){var t=o.getState().agentMessages;return(0,p.getUserLastInteractionData)(t)},surveyViewsStatus:function(){return(0,p.getSurveyViews)()},maximize:function(){a((0,v.maximizeWindow)(0<arguments.length&&void 0!==arguments[0]&&arguments[0]))},minimize:function(){a((0,v.minimizeWindow)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0))},embed:function(){var t=f.default.searchInsideShadowRoot(".".concat(h.KEY__APP_CONTENT))[0],e=f.default.searchInsideShadowRoot(".".concat(h.KEY__APP_CONTENT," div"))[0],n=f.default.applicationConfig.app;if(!t||!e)return console.warn("".concat(h.KEY__APP_CONTAINER," element doesn't exist")),!1;n=n.langMarket||n.lang||"en";document.documentElement.setAttribute("lang",n),e.classList.add("aivochat-window-embedded"),a((0,v.openWindow)()),setTimeout(function(){var t=document.getElementsByTagName("html")[0];t.className=t.className.replace("aivochat-iphone","");t=document.getElementsByTagName("body")[0];t.className=t.className.replace("aivochat-iphone","")},500)},addMessage:function(t){if(!t)return console.warn("not setted user message, it cannot be undefined or empty"),!1;a((0,v.addMessage)(t))},sendMessage:function(t){if(!t)return console.warn("not setted user message, it cannot be undefined or empty"),!1;var e={id:i.userId,type:1};a((0,v.sendMessage)(t,e,i.appId))},setConditions:function(t){if("object"!==(0,r.default)(t))return console.warn("not setted conditions, it must be Array"),!1;a((0,v.sendConditions)(t,i.appId,i.userId))},setHeaderZendesk:function(t){a((0,v.setConfig)({_titleZendeskChat:t}))},interceptor:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._chat_interceptor="function"==typeof t?t:void 0},onOpenWindow:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onOpenWindow="function"==typeof t?t:void 0},onMinimizeWindow:function(){var t=0<arguments.length&&void DK]._onMinimizeWindow="function"==typeof t?t:void 0},onCloseWindow:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onCloseWindow="function"==typeof t?t:void 0},showCloseIcon:function(t){a((0,v.setConfig)({_showCloseIcon:t}))}},launcher:{show:function(){var t=f.default.searchInsideShadowRoot(".".concat(h.KEY__LAUNCHER))[0],e=f.default.searchInsideShadowRoot(".".concat(h.KEY_LAUNCHER_WITH_BUTTONS))[0];if(!t)return console.warn("launcher element not exists"),!1;a((0,v.setConfig)({__launcherHidden:!1})),t.style.display="block",e&&(e.style.display="block")},hide:function(){var t=f.default.searchInsideShadowRoot(".".concat(h.KEY__LAUNCHER))[0],e=f.default.searchInsideShadowRoot(".".concat(h.KEY_LAUNCHER_WITH_BUTTONS))[0];if(!t)return console.warn("launcher element not exists"),!1;a((0,v.setConfig)({__launcherHidden:!0})),t.style.display="none",e&&(e.style.display="none")},hideSticky:function(t){var e=f.default.searchInsideShadowRoot(".".concat(h.KEY__CONTAINER_STICKY))[0];if(!e)return console.warn("sticky element not exists"),!1;a((0,v.setConfig)({_stickyHidden:t})),t?e.classList.add(h.KEY__CONTAINER_HIDE_STICKY):e.classList.remove(h.KEY__CONTAINER_HIDE_STICKY)},remove:function(){var t=f.default.searchInsideShadowRoot(".".concat(h.KEY__LAUNCHER))[0],e=f.default.searchInsideShadowRoot(".".concat(h.KEY_LAUNCHER_WITH_BUTTONS))[0];if(!t)return console.warn("launcher element not exists"),!1;t.parentNode.removeChild(t),e&&e.parentNode.removeChild(e)}},user:{set:function(t,e){if(!t)return console.warn("not setted user data, the key cannot be undefined"),(0,l.capture)("SDK setUser:","the key cannot be undefined","warning"),!1;var n={};"string"==typeof t||"number"==typeof t?(n[t]=e,n=m(m({},n),{},{id:i.userId,type:1}t),{},{id:i.userId,type:1})),f.default.conversationUserSetOneUser(i.userId,t,e),a((0,v.safeUserUpdate)(n))},get:function(e){var t=i.userId,n=f.default.getUser(t);if(n&&"object"===(0,r.default)(n)&&(delete n.extra,Object.keys(n).filter(function(t){return t.includes("secret_")}).forEach(function(t){return n=m(m({},n),{},(0,c.default)({},t,"******"))})),"function"!=typeof e)return n;try{return f.default.conversationUserGetOneUser(t).then(function(t){t=t.data;return n=m(m({},n),t),e(n)})}catch(t){console.error(t)}},new:function(){var t={id:(0,s.uuid)(i.appId,!0),type:1};a((0,v.setConfig)({user:t})),a((0,v.setUser)(t))}},query:{exists:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t="advert"===t?".".concat(h.KEY__ADVERT):t;return 0!==f.default.searchInsideShadowRoot(t).length},onShowAdvert:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onShowAdvert="function"==typeof t?t:void 0}},subscribe:{onOpenWindow:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onOpenWindow="function"==typeof t?t:void 0},onMinimizeWindow:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onMinimizeWindow="function"==typeof t?t:void 0},onCloseWindow:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onCloseWindow="function"==typeof t?t:void 0},onShowAdvert:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onShowAdvert="function"==typeof t?t:void 0},onShowSurvey:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onShowSurvey="function"==typeof t?t:void 0},onSelectedSurvey:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onSelectedSurvey="function"==typeof t?t:void 0},onBlurComment:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onBlurComment="function"==typeof t?t:void 0},onSubmittedSurvey:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onSubmittedSurvey="function"==typeof t?t:void 0},onCloseSurvey:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onCloseSurvey="function"==typeof t?t:void 0},onFirstInteraction:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onFirstInteraction="function"==typeof t?t:void 0},onShowForm:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onShowForm="function"==typeof t?t:void 0},onSubmitForm:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onSubmitForm="function"==typeof t?t:void 0},onInteraction:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onInteraction="function"==typeof t?t:void 0},onDerivationLive:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onDerivationLive="function"==typeof t?t:void 0},onCloseDerivationLive:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onCloseDerivationLive="function"==typeof t?t:void 0},onFeedbackIntention:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onFeedbackIntention="function"==typeof t?t:void 0},onShowButton:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onShowButton="function"==typeof t?t:void 0},onShowCarousel:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onShowCarousel="function"==typeof t?t:void 0},onSelectedButton:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onSelectedButton="function"==typeof t?t:void 0},onSelectedButtonCarousel:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onSelectedButtonCarousel="function"==typeof t?t:void 0},onOpenMaximize:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onOpenMaximize="function"==typeof t?t:void oid 0!==arguments[0]?arguments[0]:void 0;window[h.KEY__SDK]._onCloseCtaButtons="function"==typeof t?t:void 0}},entryMessage:{hideAttachButton:function(){a((0,v.setConfig)({__enabledAttachButton:!1}))},showAttachButton:function(){a((0,v.setConfig)({__enabledAttachButton:!0}))}},registerTokenForExternalZendesk:function(){a((0,v.setConfig)({__tokenForExternalZendesk:0<arguments.length&&void 0!==arguments[0]?arguments[0]:""}))},_registerError:function(t,e){t&&e&&(0,l.capture)(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"error")},v:u.Ma7q5DJ}),window[h.KEY__SDK]=m(m({},window[h.KEY__SDK]),{},{showChat:function(){return(0,l.capture)("DEPRECATED method: $aivo.showChat",{},"info",!1),window[h.KEY__SDK].chat.open()},sendMessage:function(t){return(0,l.capture)("DEPRECATED method: $aivo.sendMessage",{},"info",!1),window[h.KEY__SDK].chat.sendMessage(t)},hideLauncher:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return(0,l.capture)("DEPRECATED method: $aivo.hideLauncher",{remove:t},"info",!1),t?window[h.KEY__SDK].launcher.remove():window[h.KEY__SDK].launcher.hide()},embed:function(){return(0,l.capture)("DEPRECATED method: $aivo.embed",{},"info",!1),window[h.KEY__SDK].chat.embed()}})}};t.exports=n},function(t,e,n){"use strict";var r=n(28);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((i=a?Object.getOwnPropertyDescriptor(t,n):null)&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=t[n])}o.default=t,e&&e.set(t,o);return o}(n(5{},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){vObject.defineProperty(o,n,i):o[n]=t[n])}o.default=t,e&&e.set(t,o);return o}(n(139)),c=o(n(512)),s=n(40),p=n(15),l=n(513),u=n(68),h=o(n(14)),d=n(103);function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}function v(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.configure=function(t){var e=h.default.getConfig(),n=(0,u.getMessages)(),o=m({},e);!1===o._windowOpenMinimized?o._windowOpenMinimized=void 0:!0===o._windowOpenMinimized&&(o._windowOpened=void 0),!1===o._windowOpened&&(o._windowOpened=void 0),(0,s.install)(e.app),e.app.botId!==h.default.applicationConfig.app.botId&&(n=(0,u.checkMessagesToCheck)(),(0,d.closeConversation)(o.user.id,o.app.id),o=m(m({},o),{},{_windowSession:void 0,_windowBlocked:void 0,_windowLoading:void 0,_iqRoom:void 0,_iqTransferring:void 0,_iqSubscribed:void 0,_iqAttended:void 0})),o=m(m(m({},o),h.default.applicationConfig),{},{chatWindow:m(m({},h.default.applicationConfig.chatWindow),{},{externalChat:o.chatWindow.externalChat,ads:void 0}),_windowInitializing:!0,__windowAnimation:!1,__windowAlert:!1,__launcherHidden:!1,__writing:!1,__enabledAttachButton:!0,_windowBlocked:void 0}),t=t||{agentMessages:n,agentUsers:h.default.getUsers(),agentConfig:o},h.default.setConfig(o);o=i.combineReducers({agentMessages:l.messagesReducer,agentUsers:l.usersReducer,agentConfig:l.configReduceer,agentConfigFeedback:l.feedback&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t}))}},function(t,e,n){"use strict";function o(a){return function(t){var n=t.dispatch,o=t.getState;return function(e){return function(t){return"function"==typeof t?t(n,o,a):e(t)}}}}n.r(e);n=o();n.withExtraArgument=o,e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"feedbackConfigReducer",{enumerable:!0,get:function(){return o.feedbackConfigReducer}}),Object.defineProperty(e,"messagesReducer",{enumerable:!0,get:function(){return a.messagesReducer}}),Object.defineProperty(e,"configReducer",{enumerable:!0,get:function()operty(e,"usersReducer",{enumerable:!0,get:function(){return r.usersReducer}}),Object.defineProperty(e,"appReducer",{enumerable:!0,get:function(){return c.appReducer}}),Object.defineProperty(e,"videoResponseReducer",{enumerable:!0,get:function(){return s.videoResponseReducer}});var o=n(514),a=n(515),i=n(516),r=n(517),c=n(518),s=n(519)},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.feedbackConfigReducer=void 0;var a=o(n(9));function i(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.feedbackConfigReducer=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"SET_FEEDBACK_CONFIG"!==e.typ]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.messagesReducer=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"ADD_MESSAGE":c=(0,h.default)(t);var o,a,i,r,c,s=(0,g.createMessage)(n);if(s.content||s.params){c=t&&0<t.length?(r=t.slice(-1),a=(l=(0,u.default)(r,1)[0])[0],i=l[l.length-1].user.id,r=+s.user.type===w.KEY__USER_TYPE_AGENTBOT&&void 0===a.answerKey,i!==s.user.id||s.answerKey!==a.answerKey||r?[].concat((0,h.default)(t),[[s]]):[].concat((0,h.default)(t.slice(0,-1)),[[].concat((0,h.default)(l),[s])])):[].concat((0,h.default)(t),[[s]]),+s.user.type!==w.KEY__USER_TYPE_CLIENT&&b.default.getConfig().chatWindow.audio&&!b.default.getConfig()._windowInitializing&&d.notify.play();var p=b.default.searchInsideShadowRoot("".concat(E.SELECTOR__MESSAGE_INPUT))[0]ideShadowRoot(".aivochat-input textarea")[0];if((null===(s=b.default.getConfig().chatWindot)||void 0===LE)return(0,h.default)(c);p&&(l.style.height="20px",x.DEVICE__MOBILE||setTimeout(function(){p.focus()},1))}return c;case"REMOVE_MESSAGE":return c=[],t.map(function(t){var e=[];return t.forEach(function(t){t.id!==n.id&&e.push(t)}),e}).forEach(function(t){0<t.length&&c.push(t)}),(0,h.default)(c);case"UPDATE_MESSAGE":return c=t.map(function(t){return t.map(function(t){return t.id===n.id?k(k({},t),n.message):t})}),(0,h.default)(c);case"REMOVE_MESSAGES":return[].concat();case"ADD_MESSAGES":return[].concat((0,h.default)(t),(0,h.default)(n.messages));case"SUBSCRIBE":l=b.default.getConfig()._iqRoom;return m.default.isRoomOfFirebase(l)?t:(m.default.start(n.dispatch,{complement:{param:{room:l,cusAGE_IM":return(0,y.sendMessage)(n.message,n.user,n.appId,n.dispatch,n.complements),t;case"SEND_FEEDBACK_AB":return e=b.default.getConfig(),(0,y.sendFeedbackAB)(n.answerKey,n.feedbackId,e.app.id,e.user.id,n.dispatch,function(t){t&&t.complements&&(0,y.addMessage)(t,n.dispatch)}),setTimeout(function(){n.dispatch((0,_.updateMessage)({qualified:n.feedbackId},n.messageId)),e.text&&e.text.AB_feedbackThanks&&n.dispatch((0,_.addMessage)(e.text.AB_feedbackThanks,b.default.getAppUser()))},1),t;case"SEND_CONDITIONS":return(0,y.sendConditions)(n.conditions,n.appId,n.userId),t;case"CLOSE_CONVERSATION":return e=b.default.getConfig(),setTimeout(function(){e._iqRoom&&(f.default||v.firebaseConn).unsubscribe(e._iqRoom),(0,y.closeConversation)(e.user.id,e.app.id,function(){var t=b.default.getConfig()._windowOpened;e.chatWindow.quickReplies=null,n.dispatch((0,_.resetConfig)(e.chatWindow)),t&&n.dispatch((0,_.setConfig)({_windowOpened:!0}))})},1),t;default:return t}}},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.configReducer=void 0;var a=o(n(9)),i=n(36),r=o(n(14));function c(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.configReducer=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"SET_COMPLEMENT_FOR_VIDEO_CHAT":case"ENABLE_AND_DISABLE_VIDEO":case"HIDE_DERIVATION_LOADER":case"SHOW_DERIVATION_LOADER":case"INIT-VIDEO-CHAT-IOS":case"SHOW_WINDOWS_FEEDBACK":case"INIT_NEW_SESSION":case"SET_CONFIG":case"RESET_VIDEO_COMPLEMENTS":return s(s({},t),e.config);case"REMOVE_CONFIG":return(0,i.removeItem)("agentConfig"),r.default.store.config=[],s(s({},r.default.getConfig()),{},{__enabledAttachButton:t.__enabledAttachButton});case"SET_WINDOW_CONFIG":var n=s(s({},t.chatWindow),e.config),o=s({},t);return o.chatWindow=r.default.getConfig().chatWindow,n.footer=s(s({},o.chatWindow.footer),e.config.footer||{}),n.header=s(s({},o.chatWindow.header),e.config.header||{}),n.header.avatar=s(s({},o.chatWindow.header.avatar),e.config.header&&e.config.header.avatar||{}),n.launcher=s(s({},o.chatWindow.launcher),e.config.launcher||{}),s(s({},t),{},{chatWindow:n});default:return t}}},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.usersReducer=void 0;var a=o(n(9)),i=o(n(73)),r=n(40),c=n(98),s=o(n(14)),p=n(11);function l(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.usersReducer=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"SET_USER":return s.default.getUser(e!==p.KEY__USER_TYPE_CLIENT||(0,r.setUser)(e.user),t.push(e.user)),(0,i.default)(t);case"SET_USERS":return[].concat((0,i.default)(t),(0,i.default)(e.users));case"REMOVE_USERS":return[].concat();case"REMOVE_USER":return(0,i.default)(t.filter(function(t){return t.id!==e.userId}));case"UPDATE_USER":var n=t.map(function(t){if(t.id!==e.user.id)return t;if(t.type&&t.type!==p.KEY__USER_TYPE_CLIENT)return u(u({},t),e.user);t=u(u(u({},t),e.user),{},{email:e.user.email||t.email||e.user.mail||t.mail,username:e.user.name||t.name||(0,c.getName)(u(u({},t),e.user)),name:e.user.name||t.name||(0,c.getName)(u(u({},t),e.user)),extra:u(u(u({},t),e.user),{},{id:void 0,firstname:void 0,lastname:void 0,phone:void 0,picture:void 0,email:void 0,mail:void 0,name:void 0,username:void 0,type:void 0,extra:void 0})});return(0,r.setUser)(t),t});return(0,i.default)(n);default:return t}}},function(t,e,n){"use strict";var o=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.appReducer=void 0;var a=o(n(9));function i(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.appReducer=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"SET_APP_CONFIG"!==e.type?t:r(r({},t),e.app)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.videoResponseReducer=void 0;e.videoResponseReducer=function(){var t=0<arguments}.aivochat-app-content .aivo-privacy-policy.aivo-privacy-policy-accepted .aivo-privacy-policy-accepted-container i{-webkit-animation:fadeOutZoom 0.5s ease-in-out;-webkit-animation-fill-mode:fog=function(){returno=t[3];if(!o)return n;if(e&&"function"==typeof btoa){t=function(t){return"/*# sourceMappingURL=data:application/json;charset=u("")},r.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&n[i[0]]||(e&&!i[2]?i[2]=e:e&&(i[2]="("+i[2]+") and ("+e+")"),r.push(i))}},r}},,,,,,,,,,,,,function(t,e){t.exports=Zepto}]);