(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7514],{55580:(e,t,r)=>{"use strict";r.d(t,{L:()=>d,S:()=>p});r(91181),r(62773);var o=r(11159),n=r(58125),i=r(72458),s=r(21492);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=let p=function(e){return e.NativePayButton="NativePayButton",e.DeprecatedHostPayButton="DeprecatedHostPayButton",e.HostPayButton="HostPayButton",e}({});const d=e=>{var t;let{evt:r,debug:a,hostBuyAvailability:u,availableFeatures:d,deprecatedHostBuyAvailability:f,shouldShowNativePayButton:m,shortcut:h}=e;null==r||r.preventDefault(),null==r||r.stopPropagation();const v=null==h||null===(t=h.popups)||void 0===t?void 0:t[0],y=Boolean(v),b=v?(0,s.J)(v):void 0,g=(0,n.h1)(b)?i._.Annihilation:i._.Default,P={isPopupMode:y,shortcut:h,popup:v};return m?(a&&l("NativePayButton"),{homeActionProps:c(c({paymentTypeComponent:p.NativePayButton},P),{},{successScreenType:g,metricsExtraData:{button_type:"native",purchase_type:"native"}})}):f.shouldRun?(a&&l("DeprecatedHostPayButton"),{homeActionProps:c({paymentTypeComponent:p.DeprecatedHostPayButton},P)}):u.shouldRun&&null!=d&&d.includes(o.iG.PAY_BUTTON_CONFIG)?(a&&l("HostPayButton"),{homeActionProps:c({paymentTypeComponent:p.HostPayButton},P)}):(a&&l("NullComponent"),{})}},59682:(e,t,r)=>{"use strict";r.d(t,{yy:()=>qe,LC:()=>k,vQ:()=>Ve,QC:()=>it,cH:()=>ut,bH:()=>vt,Ms:()=>oe,YH:()=>M,bX:()=>H,jg:()=>L,$V:()=>Ce,B1:()=>q});var o=r(67294),n=r(93056),i=r(39383),s=r(41062),a=r(42847),c=r(58839),u=r(44079),l=r(95005),p=(r(91181),r(64819)),d=r(18827);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v="Shortcut.Clicked",y=e=>{let{metricsContext:t,sendShortcutMetrics:r,metricsEventName:o=v,coreShortcutData:n,shortcutPosition:s,extraMetricsData:a,reachGoalTargets:c,url:u,isPopup:l}=e;if(t&&r&&!l){const e=(0,i.rX)(t);d.Z.send([m(m({},e),{},{event_name:o,event_value:m({shortcut_id:n.id,shortcut_name:n.name,shortcut_position_x:(null!=s?s:0)+1,shortcut_position_y:1,shortcut_attribution_service_name:n.serviceName,grid_width:t.shortcutsNumber,grid_height:1,section_id:t.section_id,section_position:t.sectionPosition+1,section_name:t.section_name,section_attribution_service_name:t.section_attribution_service_name,restriction_mode:t.restriction_mode,section_type:t.section_type,action_type:"link",link_url:u,config_id:t.config_id,config_name:t.config_name},a)})])}c&&c.forEach((e=>d.Z.goal(e)))};r(62773);var b=r(77754);const g=(e,t)=>{if(!e||!t)return!1;const r=t.actionType===b.Us.currentWindow?"_self":"_blank";try{const{hash:t,origin:o,pathname:n}=new URL(e,location.href);return t&&o===location.origin&&n===location.pathname&&"_self"===r}catch(o){return e.includes("#")}};var P=r(46894);const _=e=>{let{metricsContext:t,sendShortcutMetrics:r,metricsEventName:o,shortcutPosition:n,extraMetricsData:i,reachGoalTargets:s,url:a,shortcut:c,shortcutAction:u,evt:l,isPopup:p}=e;var d;return c&&y({metricsContext:t,sendShortcutMetrics:r,metricsEventName:o,coreShortcutData:c,shortcutPosition:n,extraMetricsData:i,reachGoalTargets:s,url:a,isPopup:p}),!g(u.url,u)||(null==l||l.preventDefault(),void(0,P.Y)(null===(d=u.url)||void 0===d?void 0:d.slice(1),"smooth"))},O=e=>{let{evt:t}=e;throw t&&(t.preventDefault(),t.stopPropagation()),new Error("Action has not been implemented yet")};var S=r(92142),E=r(84581),w=r(92954);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const j=e=>{let{url:t,urlType:r,actionType:o}=e;const n=(0,l.Bi)(t,(()=>{u.S.logError({message:"openSimpleWebviewLink: попытка открыть некорректный урл для ссылки",additional:{url:t,urlType:r,actionType:o}})}));null==n||n.searchParams.delete("use_simple");const i=(null==n?void 0:n.href)||t;return(0,E.U)().postMessage("OPEN_LINK",{needAuth:!0,url:i,urlType:r,openType:o===b.Us.newWindow?s.B8.OUT:s.B8.IN})},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?argumenыть некорректный урл для ссылки",additional:e})})),n="1"===(null==o?void 0:o.searchParams.get("use_simple"));null==o||o.searchParams.delete("use_simple");if(!(0,l.Bq)()||n)return u.S.logEventString("Smart-webview link opened with fallback to simple-webview","smart_link_opening_fallback"),j(e);const i=(0,E.U)();null==o||o.searchParams.set("parent_broadcast_id",t);const s=(null==o?void 0:o.href)||r,a=(null==o?void 0:o.searchParams.get("broadcast_id"))||e.broadcastId||"";return i.postMessage("OPEN_SMART",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({url:s,broadcastId:a},(null==o?void 0:o.searchParams)&&(0,w.b)(o.searchParams)))},I=e=>{let{openLinkType:t=S.b.Link,url:r,urlType:o,evt:n,shortcutAction:i,metricsContext:a,sendShortcutMetrics:c,metricsEventName:u,shortcutPosition:l,extraMetricsData:p,reachGoalTargets:d,shortcut:f,broadcastId:m,parentBroadcastId:h}=e;var v;if(n&&(n.preventDefault(),n.stopPropagation()),f&&y({metricsContext:a,sendShortcutMetrics:c,metricsEventName:u,coreShortcutData:f,shortcutPosition:l,extraMetricsData:p,reachGoalTargets:d,url:r}),g(i.url,i))return void(0,P.Y)(null===(v=i.url)||void 0===v?void 0:v.slice(1),"smooth");const{actionType:_,useSmartWebView:O}=i;o!==s.k2.DEEPLINK&&_===b.Us.newWindow&&(t===S.b.SmartWebview||O)?C({url:r,urlType:o,actionType:_,broadcastId:m},h):j({url:r,urlType:o,actionType:_})};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const k=e=>t=>{var r;const o=e.action||(null===(r=e.shortcut.actions)||void 0===r?void 0:r[0]);return(0,p.V)({plusAction:_,iframeAction:O,sdkAction:I},e.mode)(x(x({evt:t},e),{},{shortcutAction:o}))},R={},M=e=>{var t;let{shortcut:r,action:p,extraMetricsData:d,sendShortcutMetrics:f=!0,metricsEventName:m,shortcutPosition:h,openLinkType:v,reachGoalTargets:y,isPopup:b}=e;const g=(0,n.yU)(),P=g===a.H.SDK,_=(0,o.useContext)(i.$S),O=(0,n.Rs)(),S=p||(null==r||null===(t=r.actions)||void 0===t?void 0:t[0])||R,{deeplink:E}=S,w=P&&E||(null==S?void 0:S.url)||"",T=P&&E?s.k2.DEEPLINK:s.k2.WEBLINK;return(0,o.useEffect)((()=>{(0,l.Bi)(w,(()=>{u.S.logError({message:"useHomeLinkAction: передан некорректный урл",additional:{shortcutId:null==r?void 0:r.id,shortcut:r,action:S,urlType:T,url:w}})}))}),[w]),r?k({mode:g,shortcut:r,action:p,metricsContext:_,extraMetricsData:d,metricsEventName:m,sendShortcutMetrics:f,url:w,shortcutPosition:h,openLinkType:v,urlType:T,reachGoalTargets:y,parentBroadcastId:O,isPopup:b}):c.ZT};var U=r(37703),B=r(71749);const L=e=>{let{shortcuts:t,shortcutCoreData:r,shortcutPosition:s,type:a,popupScrollingIsEnabled:c,sendShortcutMetrics:u=!0,metricsEventName:l,extraMetricsData:p,reachGoalTargets:d}=e;const f=(0,n.yU)(),m=(0,o.useContext)(i.$S),h=(0,U.v9)(B.v),v=(0,n.AO)(),y=(0,n.eb)(),b=(0,n.Rs)(),g="undefined"!=typeof document?document.activeElement:void 0;return[Ve({coreShortcutData:r,mode:f,metricsContext:m,plusHost:h,initialSearch:v,shortcutPosition:s,type:a,shortcuts:t,sendShortcutMetrics:u,metricsEventName:l,extraMetricsData:p,getParams:y,popupScrollingIsEnabled:c,reachGoalTargets:d,parentBroadcastId:b}),qe({mode:f,lastFocus:g})]},H=e=>{let{shortcut:t,sendShortcutMetrics:r=!0,shortcutPosition:c}=e;const u=(0,n.yU)(),l=(0,o.useContext)(i.$S),p=(0,n.Rs)();return e=>{const{deeplink:o}=e,n=u===a.H.SDK&&o||(null==e?void 0:e.url)||"",i=u===a.H.SDK&&o?s.k2.DEEPLINK:s.k2.WEBLINK;return k({mode:u,shortcut:t,metricsContext:l,url:n,urlType:i,action:e,sendShortcutMetrics:r,shortcutPosition:c,parentBroadcastId:p})}};var F=r(90586),W=r(24650),G=r(86707),K=r(81369),z=r(11746),Y=r(21553),V=r(53769);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const q=e=>{var t,r,s,a,c,u;let{shortcutAction:l,shortcut:p,popupId:d,metricsEventName:f,reachGoalTargets:m,shortcutPosition:h,elementIndex:v,className:y,style:b,place:g}=e;const P=(0,n.yU)(),_=(0,o.useContext)(i.$S),O=(0,z.e)(p),S=l.subscriptionProductFeatures,{products:E,productsLoading:w}=(0,K.r)({features:S,serviceTarget:O,ssr:!0}),T=(0,o.useMemo)((()=>[...E].sort(((e,t)=>"P30D"===(0,V.Rs)(t)?-1:"P30D"===(0,V.Rs)(e)?1:0))),[E]),N=(0,G.cP)(T,{add:Z(Z({},O?{target:O}:{}),S?{features:S}:{})},null==l?void 0:l.url),j=(0,Y.C)(N.map(((e,t)=>{var r;return{offerType:null===(r=E[t])||void 0===r?void 0:r.offerType,payButtonProps:e,products:T,offerText:e.buttonSubtitle,metaShortcut:p,popupId:d,place:g}}))),{openPaymentPopup:C,updateTargetProductId:I}=(0,o.useContext)(F.K),D=l.useModalWindow;return(0,W.$)({serviceTarget:O,features:S,productId:null===(t=N[v])||void 0===t?void 0:t.productId,offersMetrics:null===(r=N[v])||void 0===r?void 0:r.offersMetrics,offerType:null===(s=N[v])||void 0===s?void 0:s.offerType,shouldUseModalWindow:D,tariffOfferName:null===(a=N[v])||void 0===a?void 0:a.tariffOfferName,optionOfferName:null===(c=N[v])||void 0===c?void 0:c.optionOfferName}),it({mode:P,metricsHandlers:j[v],url:null===(u=N[v])||void 0===u?void 0:u.buttonUrl,shortcut:p,buttonProps:N[v],products:T,metricsContext:_,metricsEventName:f,reachGoalTargets:m,openPaymentPopup:C,updateTargetProductId:I,serviceTarget:O,features:S,shouldUseModalWindow:D,shosition:h,shortcutAction:l,productsLoading:w,className:y,style:b})};var X=r(82612);const J=()=>!0,ee=e=>{let{evt:t}=e;throw t&&(t.preventDefault(),t.stopPropagation()),new Error("Fincard action has not been implemented yet")};var te=r(13730);const re=e=>{let{evt:t,isAuthorized:r}=e;t&&(t.preventDefault(),t.stopPropagation());const o=(0,E.U)();r?(0,te.C)():o.postMessage("NEED_AUTHORIZATION",{reason:s.GY.AUTHORIZATION_ACTION,callbackUrl:location.href})},oe=()=>{const e=(0,U.v9)(X.wl.getIsAuthorized);return(e=>{let{mode:t,isAuthorized:r}=e;return e=>(0,p.V)({plusAction:J,iframeAction:ee,sdkAction:re},t)({evt:e,isAuthorized:r})})({mode:(0,n.yU)(),isAuthorized:e})};function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let ae=function(e){return e.SHOWN="Modal.Shown",e.CLICKED="Modal.Button.Clicked",e.CLOSED="Modal.Closed",e.BUTTON_CLICKED="Alert.Clicked",e}({});var ce=r(12532),ue=r(61930);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))inr",e.IN_PROGRESS="inProgress",e.NOTHING_TO_PROLONG="nothingToProlong",e.IS_LOADING="isLoading",e}({});const me=e=>{let{paymentStatus:t,errorCode:r,callbacks:o,translate:n,isLoading:i}=e;const s=(e=>{let{paymentStatus:t,errorCode:r,isLoading:o}=e;if(o)return fe.IS_LOADING;if(r)switch(r){case ce.tO.ALREADY_PROLONGED:return fe.ALREADY_PROLONGED;case ce.tO.ALREADY_STARTED:return fe.IN_PROGRESS;case ce.tO.TRY_LIMIT_EXCEEDED:return fe.TRY_LIMIT_EXCEEDED;case ce.tO.INVALID_SUBSCRIPTION_STATE:return fe.NOTHING_TO_PROLONG;case ce.tO.UNKNOWN_ERROR:return fe.UNKNOWN_ERROR;case ce.tO.UNSUCCESSFUL_PAYMENT:return fe.FAIL}switch(t){case ce.fJ.SUCCESS:return fe.SUCCESS;case ce.fJ.IN_PROGRESS:case ce.fJ.CREATED:return fe.IN_PROGRESS}return fe.UNKNOWN_ERROR})({paymentStatus:t,errorCode:r,isLoading:i}),a=((e,t)=>{const{onClose:r,refresh:o,openLink:n,sendMetrics:i}=e,s={className:"retry-modal",withoutPadding:!0,visible:!0},a=e=>{let{textProps:t,action:r}=e;return pe(pe({},s),{},{onClose:()=>{i(pe({eventName:ae.CLOSED},t)),r()}})},c=e=>{let{textProps:t,action:r}=e;return()=>{i(pe({eventName:ae.CLICKED},t)),r()}},u={title:t("home.modal.successful-payment.title"),info:t("home.modal.successful-payment.subtitle"),type:ue.H.Success,mainButton:t("home.modal.button.ok")},l={statusScreenProps:pe(pe({},u),{},{onMainActionClick:c({textProps:u,action:o})}),modalProps:a({textProps:u,action:o})},p={title:t("home.modal.already-prolonged.title"),info:t("home.modal.already-prolonged.subtitle"),type:ue.H.Success,mainButton:t("home.modal.button.refresh")},d={statusScreenProps:pe(pe({},p),{},{onMainActionClick:c({textProps:p,action:o})}),modalProps:a({textProps:p,action:o})},f={title:t("home.modal.failed-payment.title"),info:t("home.modal.failed-payment.subtitle"),type:ue.H.Error,mainButton:t("home.modal.button.manage-cards")},m={statusScreenProps:pe(pe({},f),{},{onMainActionClick:c({textProps:f,action:n})}),modalProps:a({textProps:f,action:r})},h={title:t("home.modal.excedeed-tries.title"),info:t("home.modal.excedeed-tries.subtitle"),type:ue.H.Error,mainButton:t("home.modal.button.manage-cards")},v={statusScreenProps:pe(pe({},h),{},{onMainActionClick:c({textProps:h,action:n})}),modalProps:a({textProps:h,action:r})},y={title:t("home.modal.uknown-error.title"),info:t("home.modal.uknown-error.subtitle"),type:ue.H.Error,mainButton:t("home.modal.button.manage-cards")},b={statusScreenProps:pe(pe({},y),{},{onMainActionClick:c({textProps:y,action:n})}),modalProps:a({textProps:y,action:r})},g={title:t("home.modal.in-progress.title"),info:t("home.modal.in-progress.subtitle"),type:ue.H.Awaiting,mainButton:t("home.modal.button.ok")},P={statusScreenProps:pe(pe({},g),{},{onMainActionClick:c({textProps:g,action:o})}),modalProps:a({textProps:g,action:o})},_={title:t("home.modal.no-subscription.title"),info:t("home.modal.no-subscription.subtitle"),type:ue.H.Success,mainButton:t("home.modal.button.ok")},O={statusScreenProps:pe(pe({},_),{},{onMainActionClick:c({textProps:_,action:o})}),modalProps:a({textProps:_,action:o})},S={type:ue.H.Loading,title:"",info:"",mainButton:""};return{success:l,inProgress:P,fail:m,tryLimitExceeded:v,unknownError:b,alreadyProlonged:d,nothingToProlong:O,isLoading:{statusScreenProps:pe({isLoading:!0},S),modalProps:a({textProps:S,action:r})}}})(o,n);return a[s]};function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const be=e=>{var t,r;let{analyticsContext:o,shortcut:n,eventName:i,title:s,info:a,mainButton:c,type:u,result:l}=e;(e=>{let{analyticsContext:t,eventName:r,eventValue:o}=e;d.Z.send([ie(ie({},t),{},{event_name:r,event_value:{from_shortcut_id:o.fromShortcutId,from_native_pult:!o.fromShortcutId,modal_title:o.title,modal_subtitle:o.subtitle,alert_id:o.id,button_text:o.buttonText,modal_status:o.status,response:o.failReason}})],["RedAlert"])})({analyticsContext:o,eventName:i,eventValue:{fromShortcutId:(null==n?void 0:n.id)||"",title:s,subtitle:a,buttonText:c,status:u,id:(null==l||null===(t=l.data)||void 0===t?void 0:t.id)||"",failReason:null==l||null===(r=l.data)||void 0===r?void 0:r.errorCode}})},ge=async e=>{var t,r;let{analyticsContext:o,shortcut:n,getRetryPaymentResult:i,hideModal:s,refetchLayout:a,setModalProps:u,showModal:l,translate:p,customRefresh:f,customOpenLink:m}=e;(e=>{let{analyticsContext:t,eventValue:r}=e;d.Z.send([ie(ie({},t),{},{event_name:ae.BUTTON_CLICKED,event_value:{action_type:r.actionType,from_shortcut_id:r.fromShortcutId,from_native_pult:!r.fromShortcutId}})],["RedAlert"])})({analyticsContext:o,eventValue:{actionType:"retry",fromShortcutId:n.id||""}});const h=me({callbacks:{onClose:s,openLink:c.ZT,refresh:c.ZT,sendMetrics:e=>{be(ve(ve({},e),{},{analyticsContext:o,shortcut:n}))}},translate:p,isLoading:!0});u(h),l();const v=await i(),y=me({paymentStatus:null===(t=v.data)||void 0===t?void 0:t.status,errorCode:null===(r=v.dataerrorCode,callbacks:{onClose:s,refresh:()=>{null==f||f(),a(),s()},openLink:()=>{null==m||m(),s()},sendMetrics:e=>{be(ve(ve({},e),{},{result:v,analyticsContext:o,shortcut:n}))}},translate:p,isLoading:!1});var b,g;(u(y),v.loading)||be({eventName:ae.SHOWN,title:y.statusScreenProps.title||"",info:String(null===(b=y.statusScreenProps)||void 0===b?void 0:b.info)||"",mainButton:(null===(g=y.statusScreenProps)||void 0===g?void 0:g.mainButton)||"",type:y.statusScreenProps.type,result:v,analyticsContext:o,shortcut:n})},Pe=e=>{let{analyticsContext:t,shortcut:r,getRetryPaymentResult:o,hideModal:n,refetchLayout:i,setModalProps:s,showModal:a,translate:c,idUrl:u}=e;return ge({analyticsContext:t,shortcut:r,getRetryPetchLayout:i,setModalProps:s,showModal:a,translate:c,customOpenLink:()=>{window.open(u,"_blank")}})},_e=e=>{let{evt:t}=e;throw t&&(t.preventDefault(),t.stopPropagation()),new Error("RetryPayment action has not been implemented yet")},Oe=e=>{let{analyticsContext:t,shortcut:r,getRetryPaymentResult:o,hideModal:n,refetchLayout:i,setModalProps:a,showModal:c,translate:u,idUrl:l,evt:p}=e;p&&(p.preventDefault(),p.stopPropagation());const d=(0,E.U)();return ge({analyticsContext:t,shortcut:r,getRetryPaymentResult:o,hideModal:n,refetchLayout:i,setModalProps:a,showModal:c,translate:u,customRefresh:()=>{d.postMessage("UPDATE_TARGETS_STATE",{targets:[s._j.ALERTS]})},customOpenLink:()=>{d.postMessage("OPEN_LINK",{needAuth:!0,url:l,urlType:s.k2.WEBLINK,openType:s.B8.OUT})}})};var Se=r(55612),Ee.Db(Se.prolongation,t);var t;const{refetch:r}=function(e){return Ee.aM(we.prolongationStatus,e)}({variables:{prolongationId:""},skip:!0});let o=0;const n=async e=>{let t;for(;o<30&&(t=await r({prolongationId:e}).then((e=>{let{data:t}=e;return{data:null==t?void 0:t.prolongation,loading:!1,error:Boolean(t)}})).catch((e=>(u.S.logError({message:"Ошибка при пролонгации подписки"},new Error(e)),{data:{status:ce.fJ.FAILED,errorCode:ce.tO.UNKNOWN_ERROR,id:""},error:!0,loading:!1}))),[ce.fJ.IN_PROGRESS,ce.fJ.CREATED].includes(t.data.status));)o++,await(0,c.kU)(1e3);return t};return async()=>await(async()=>{const t=await e({}).then((e=>{let{data:t}=e;return{data:null==t?void 0:t.prolongation.startOnRedAlert,loading:!1,error:Boolean(t)}})).catch((e=>(u.S.logError({message:"Ошибка при создании заявки на пролонгацию подписки"},new Error(e)),{data:{status:ce.fJ.INVALID,errorCode:ce.tO.UNKNOWN_ERROR,id:""},error:!0,loading:!1})));if(!t.data||t.data.status===ce.fJ.INVALID)return t;let r;return"id"in t.data&&"string"==typeof t.data.id&&(r=await n(t.data.id)),r||t})()};var Ne=r(92101),je=r(22936);const Ce=e=>{let{shortcut:t,setModalProps:r,hideModal:o,showModal:s}=e;const a=Te(),c=(0,Ne.Q)(),u=(0,n.yU)(),l=`https://${(0,U.v9)(X.wl.getIdHost)}/pay#bank-cards?utm_source=domik&utm_medium=red_banner&utm_content=grace`,d=(0,je.F)();return(e=>{let{mode:t,shortcut:r,analyticsContext:o,getRetryPaymentResult:n,hideModal:i,refetchLayout:s,idUrl:a,setModalProps:c,showModal:u,translate:l}=e;return e=>(0,p.V)({plusAction:Pe,iframeAction:_e,sdkAction:Oe},t)({analyticsContext:o,shortcut:r,getRetryPaymentResult:n,hideModal:i,refetchLayout:s,setModalProps:c,showModal:u,translate:l,idUrl:a,evt:e})})({mode:u,analyticsContext:(0,i.$8)(),shortcut:t,getRetryPaymentResult:a,hideModal:o,refetchLayout:c,idUrl:l,setModalProps:r,showModal:s,translate:d})};var Ie=r(45509);function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ke="Shortcut.Clicked",Re=e=>{let{metricsContext:t,sendShortcutMetrics:r,metricsEventName:o=ke,coreShortcutData:n,shortcutPosition:s,extraMetricsData:a,reachGoalTargets:c}=e;return()=>{if(t&&r){const e=(0,i.rX)(t);d.Z.send([xe(xe({},e),{},{event_name:o,event_value:xe({shortcut_id:n.id,shortcut_name:n.name,shortcut_position_x:(null!=s?s:0)+1,shortcut_position_y:1,shortcut_attribution_service_name:n.serviceName,grid_width:t.shortcutsNumber,grid_height:1,section_id:t.section_id,section_position:t.sectionPosition+1,section_name:t.section_name,section_type:t.section_type,section_attribution_servion_attribution_service_name,action_type:"popup",config_id:t.config_id,config_name:t.config_name,restriction_mode:t.restriction_mode},a)})])}c&&c.forEach((e=>d.Z.goal(e)))}},Me=e=>{let{metricsContext:t,sendShortcutMetrics:r,metricsEventName:o,coreShortcutData:n,shortcutPosition:i,extraMetricsData:s,reachGoalTargets:a,type:c}=e;const u=Re({metricsetrics:r,metricsEventName:o,coreShortcutData:n,shortcutPosition:i,extraMetricsData:s,reachGoalTargets:a});return{PopupComponent:(0,Ie.a)(c),action:()=>null==u?void 0:u(),actionResult:!0}},Ue=()=>{throw new Error("Action has not been implemented yet")};var Be=r(87895),Le=r(82344),He=r(11159),Fe=r(58125);function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ze=e=>{let{actionURL:t,plusHost:r,type:o,parentBroadcastId:n}=e;const i=(0,E.U)(),a=t.replace("<domain>",r);let c="";const p=(0,l.Bi)(a,(()=>{u.S.logError({message:"actionWithUrl: попытка открыть некорректный урл для попапа",additional:{actionURL:t,plusHost:r,type:o,url:a}})})),d=(0,w.T)(a,o,n);if((0,l.Bq)()){const e=(null==p?void 0:p.searchParams.get("broadcast_id"))||"";i.postMessage("OPEN_SMART",Ge({url:d,broadcastId:e},(null==p?void 0:p.searchParams)&&(0,w.b)(p.searchParams))),c="OPEN_SMART_TIME"}else i.postMessage("OPEN_LINK",{url:d,urlType:s.k2.WEBLINK,openType:s.B8.IN,needAuth:!0}),c="OPEN_LINK_TIME";const f=Date.now();setTimeout((function(){window.Ya.Rum.logEventString("SDK_request",c,{service:"plus",additional:{trackId:"",timestamp:String(f),source:"open-popup"}})}),0)},Ye=e=>{var t,r,o;let{coreShortcutData:n,metricsContext:i,plusHost:s="plus.yandex.ru",initialSearch:a,type:c,shortcuts:l,getParams:p,popupScrollingIsEnabled:d,metricsEventName:f,sendShortcutMetrics:m,shortcutPosition:h,extraMetricsData:v,reachGoalTargets:y,parentBroadcastId:b}=e;const g=Re({metricsContext:i,sendShortcutMetrics:m,metricsEventName:f,coreShortcutData:n,shortcutPosition:h,extraMetricsData:v,reachGoalTargets:y}),P=e=>({PopupComponent:null,action:t=>{t&&(t.preventDefault(),t.stopPropagation()),null==g||g(),ze({actionURL:e,plusHost:s,type:c,parentBroadcastId:b})}}),_=null===(t=n.actions)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.url;if(_)return P(_);if((null===(o=n.popups)||void 0===o?void 0:o[0])&&c===Be.kQ.nyStatistics){return P(`https://<domain>/talent?shortcutId=${n.id}&openFormat=full&showNavBar=false&showDash=false`)}return{PopupComponent:null,action:e=>{e&&(e.preventDefault(),e.stopPropagation()),null==g||g(),(e=>{var t,r;let{coreShortcutData:o,metricsContext:n,initialSearch:i,shortcuts:s=[],getParams:a,popupScrollingIsEnabled:c,type:l,plusHost:p}=e;const d=null==n?void 0:n.section_name,f={shortcutData:o,sectionId:n.section_id,sectionName:d,sectionType:n.section_type,popupType:l},m=(0,E.U)(),h=Boolean(null===(t=a.available_features)||void 0===t?void 0:t.includes(He.iG.SCROLLABLE_STORIES)),v=Boolean(null===(r=a.available_features)||void 0===r?void 0:r.includes(He.iG.MINI_STORIES));if((h||v)&&c){const e=((v?(0,Fe._o)(s):s)||[]).reduce(((e,t,r,s)=>{var a;if(null!==(a=t.popups)&&void 0!==a&&a[0]){var u;const a={url:(0,Le.b)({storyData:Ge(Ge({},f),{},{shortcutData:t}),coreShortcutData:o,initialSearch:i,plusHost:p,popupScrollingIsEnabled:c,shortcutIndex:r,shortcutsLength:s.length}),data:JSON.stringify({metricsFrom:{from_shortcut_id:null==t?void 0:t.id,from_shortcut_name:null==t?void 0:t.name,from_shortcut_attribution_service_name:null==t?void 0:t.serviceName,from_section_type:null==n?void 0:n.section_type,from_section_id:null==n?void 0:n.section_id,from_section_name:null==n?void 0:n.section_name,from_section_attribution_service_name:null==n?void 0:n.section_attribution_service_name}}),active:o.id===t.id,id:(null===(u=t.id)||void 0===u?void 0:u.split("__")[1])||""};e.push(a)}return e}),[]);if(e){m.postMessage("OPEN_STORIES_LIST",{urls:e});const t=Date.now();setTimeout((function(){window.Ya.Rum.logEventString("SDK_request","OPEN_STORIES_LIST_TIME",{service:"plus",additional:{trackId:"",timestamp:String(t),source:"open-popup"}})}),0)}}else{const e=(0,Le.b)({storyData:Ge(Ge({},f),{},{shortcutData:o}),coreShortcutData:o,initialSearch:i,plusHost:p,popupScrollingIsEnabled:c});m.postMessage("OPEN_STORIES",{url:e,id:o.id.split("__")[1],data:JSON.stringify({metricsFrom:{from_shortcut_id:null==o?void 0:o.id,from_shortcut_name:null==o?void 0:o.name,from_shortcut_attribution_service_name:null==o?void 0:o.serviceName,from_section_type:null==n?void 0:n.section_type,from_section_id:null==n?void 0:n.section_id,from_section_name:null==n?void 0:n.section_name,from_section_attribution_service_name:null==n?void 0:n.section_attribution_service_name}})});const t=Date.now();setTimeout((function(){u.S.sendTimeMark("SDK_request.open_popup",void 0,void 0,{service:"plus",timestamp:String(t),source:"open-popup"})}),0)}})({coreShortcutData:n,metricsContext:i,initialSearch:a,shortcuts:l,getParams:p,popupScrollingIsEnabled:d,type:c,plusHost:s})}}},Ve=e=>()=>{const{mode:t}=e;return(0,p.V)({plusAction:Me,iframeAction:Ue,sdkAction:Ye},t)(e)},$e=e=>{let{lastFocus:t}=e;return null==t||t.focus(),!0},Ze=()=>{throw new Error("Action has not been implemented yet")},Qe=()=>{throw new Error("Action has not been implemented yet")},qe=e=>{let{mode:t,lastFocus:r}=e;return()=>(0,p.V)({plusAction:$e,iframeAction:Ze,sdkAction:Qe},t)({lastFocus:r})};var Xe=r(48606);const Je=e=>{let{url:t,shortcut:r,shortcutAction:o,buttonProps:n,products:i,metricsContext:s,metricsEventName:a,reachGoalTargets:c,openPaymentPopup:u,updateTargetProductId:l,serviceTarget:p,features:d,shouldUseModalWindow:f,shortcutPosition:m,metricsHandlers:h,discount:v,profit:y,productsLoading:b,buttonTitle:g,buttonSubtitle:P,offerType:O,className:S,style:E}=e;return{homeActionProps:{target:"_self",href:f?void 0:t,rel:"noopener noreferrer","data-test-id":`home-action__subscribe-link-${r.id}`,className:`home-action-element home-action-link__wrapper ${S||""}`,style:E,onClick:()=>{(0,Xe.p)({metrics:null==h?void 0:h.getPayButtonMetrics(),offerType:O,isFloatingButton:!1,title:g,subtitle:P}),null==h||h.sendMetricsHandler(),f?(l({target:p,features:d,productId:n.productId,offerMetrics:n.offersMetrics,offerType:n.offerType,tariffOfferName:n.tariffOfferName||"",optionOfferName:n.optionOfferName||""}),u(n.productId)):t&&_({metricsContext:s,sendShortcutMetrics:!0,metricsEventName:a,shortcutPosition:m,extraMetricsData:void 0,reachGoalTargets:c,url:t,shortcut:r,shortcutAction:o})}},childrenProps:{buttonTitle:g,buttonSubtitle:P,products:i,discount:v,profit:y,buttonProps:n,isLoading:b,metrics:null==h?void 0:h.getPayButtonMetrics()}}},et=()=>{throw new Error("Action has not been implemented yet")};var tt=r(97214);function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const it=e=>t=>{var r;const{mode:o,products:n,shortcutAction:i,buttonProps:s}=e,a=(0,tt.a9)(e.shortcut,"payButtonText","custom"),c=null!=n&&n[1]?(0,V.lV)(n[0],n[1]):void 0,u=null!=n&&n[1]?(0,V.Me)(n[0],n[1]):void 0,l=i.text||(null==a?void 0:a.text)||(null==s?void 0:s.buttonTitle),d=null==s?void 0:s.buttonSubtitle,f=null==s||null===(r=s.offerType)||void 0===r?void 0:r.toLowerCase();return(0,p.V)({plusAction:Je,iframeAction:et,sdkAction:()=>null},o)(ot(ot({evt:t},e),{},{customProductButtonTextFromAttribute:a,discount:c,profit:u,buttonTitle:l,buttonSubtitle:d,offerType:f}))};var st=r(55580);function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ct(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ut=e=>t=>(0,st.L)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({evt:t},e));var lt=r(72458),pt=r(21492);const dt=e=>{var t,r;let{evt:o,debug:n,shortcut:i,serviceTarget:s,productsInfo:a,widgetData:c,sdkButtonProps:u,sectionProps:l}=e;null==o||o.preventDefault(),null==o||o.stopPropagation();const p=null==i||null===(t=i.popups)||void 0===t?void 0:t[0],{products:d}=a,f=null===(r=d[0])||void 0===r?void 0:r.offerType,m=p?(0,pt.J)(p):void 0,h=(0,Fe.h1)(m)?lt._.Annihilation:lt._.Default;var v;return n&&(v="WebPayButton",console.info(`%cPayButton -> ${v}`,"color: green; font-weight: bold")),{homeActionProps:{shortcut:i,entityProducts:a,serviceTarget:s,offerType:f,successScreenType:h},childrenProps:{sdkButtonProps:u,widgetData:c,sectionProps:l}}};function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ht(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vt=e=>t=>{var r,o,i,s,a,c,u,l;const{widgetData:p,shortcut:d,productsInfo:f,errorText:m,sendMetrics:h,payButtonMetrics:v,offerType:y,serviceTarget:b,place:g}=e,{products:P}=f,_=null===(r=d.popups)||void 0===r?void 0:r[0],{isProductsLoading:O,onClickHandler:S,isRunningPaymentProcess:w,buttonText:T}=p,N=null===(o=d.actions)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.url;let j="";N&&N.startsWith("?")&&(j=N);const C=O||w,I=y===ce.C6.OPTION,D={offersBatchId:(null===(s=P[0])||void 0===s?void 0:s.offersBatchId)||"",offersPositionIds:(null===(a=P[0])||void 0===a?void 0:a.offersPositionIds)||[],currentOfferPositionId:(null===(c=P[0])||void 0===c?void 0:c.currentOfferPositionId)||"",eventSessionId:(null===(u=P[0])||void 0===u?void 0:u.eventSessionId)||""},x=(null===(l=P[0])||void 0===l?void 0:l.id)||null,A=_?{popup_id:_.id,popup_title:null==_?void 0:_.title,from_shortcut_id:null==d?void 0:d.id,from_shortcut_name:null==d?void 0:d.name}:{},k=(0,E.U)(),R={onBuy:e=>{null==e||e.stopPropagation(),h({eventName:n.KA.Clicked,buttonProps:{productId:x,buttonTitle:T},products:P,offersMetrics:D,place:g,extraData:mt(mt({},v),A)}),S()},onShow:()=>{k.postMessage("PURCHASE_BUTTON_SHOWN",{purchaseType:"web",productId:x})},isPopupMode:Boolean(_),products:P,metrics:mt(mt({target:b},v),A),isPayButtonLoading:C,errorText:m,offersMetrics:D},M={shouldSellTariffOption:I,offersMetrics:D,extraGetParams:j};return dt(mt(mt({evt:t},e),{},{sdkButtonProps:R,sectionProps:M}))}},60007:(e,t,r)=>{"use strict";r.d(t,{k:()=>d});var o=r(37703),n=r(93056),i=r(64819),s=r(78712);const a=e=>{let{action:t,afishaWidgetUrl:r}=e;const{url:o,afishaSettings:n}=t||{},{clientKey:i,regionId:a,dealerId:c,dealerType:u,urlQueryParams:l}=n||{};if(!(i&&a&&c&&u))return{};return{onClick:()=>{(0,s.P)({src:o||r,clientKey:i,regionId:String(a)}),window.YandexTicketsDealer.pms:l||""})}])}}},c=e=>{let{action:t,afishaWidgetUrl:r}=e;const{onClick:o}=a({action:t,afishaWidgetUrl:r});return{childrenProps:{handleClick:o}}},u=()=>{throw new Error("Action has not been implemented yet")},l=e=>{let{action:t,afishaWidgetUrl:r}=e;const{onClick:o}=a({action:t,afishaWidgetUrl:r});return{childrenProps:{handleClick:o}}};var p=r(82612);const d=e=>{let{action:t}=e;return(e=>{let{mode:t,action:r,afishaWidgetUrl:o}=e;return e=>(0,i.V)({plusAction:c,iframeAction:u,sdkAction:l},t)({evt:e,action:r,afishaWidgetUrl:o})})({action:t,mode:(0,n.yU)(),afishaWidgetUrl:(0,o.v9)(p.wl.getAfishaWidget)})}},92142:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});let o=function(e){return e.Link="Link",e.SmartWebview="SmartWebview",e}({})},87895:(e,t,r)=>{"use strict";r.d(t,{kQ:()=>o});let o=function(e){return e.home="home",e.nyStatistics="nyStatistics",e.dailyReward="activityPresent",e.dailyConfirmationOfRewardActivation="dailyConfirmationOfRewardActivation",e}({})},64819:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var o=r(42847);const n=(e,t)=>{switch(t){case o.H.IFRAME:return e.iframeAction;case o.H.SDK:return e.sdkAction;case o.H.PLUS_SITE:case o.H.OAUTH_WEB:default:return e.plusAction}}},45509:(e,t,r)=>{"use strict";r.d(t,{a:(d-components-HomePopupContent",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(6486),r.e(2911),r.e(1645),r.e(6062),r.e(9744)]).then(r.bind(r,39326)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},re39326}},{resFSD-shared-cync:()=>Pro.e(4543,87846)),requireAsyreturn this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return 87846}},{resolveComponent:e=>e.NyStatisticsPopupContent}),a=e=>{switch(e){case n.kQ.nyStatistics:return s;case n.kQ.home:default:return i}}},92954:(e,t,r)=>{"use strict";r.d(t,{b:()=>s,T:()=>n});var o=r(94752);const n=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const{top:n,right:i,bottom:s,left:a}=(0,o.A)(),c=new URL(e);return t&&c.searchParams.set("type",t),0!==n&&c.searchParams.set("sat",n.toString()),0!==i&&c.searchParams.set("sar",i.toString()),0!==s&&c.searchParamsearchParams.set("sal",a.toString()),r&&c.searchParams.set("parent_broadcast_id",r),c.toString()};var i=r(41062);r(91181),r(62773);const s=e=>{const t=e.get("openFormat"),r=(e=>Object.values(i.br).includes(e))(t)?t:i.br.CARD,o=e.get("showNavBar"),n=null===o||"true"===o,s=e.get("showDash");return{presentationOptions:{openFormat:r,header:{showNavigationBar:n,showDash:null!==s&&"true"===s}}}}},52304:(e,t,r)=>{"use strict";r.d(t,{h:()=>Te});var o=r(67294),n=r(77754),i=r(94184),s=r.n(i);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a.apply(this,arguments)}const c=e=>{let{className:t,children:r,accessibilityProps:n,style:i}=e;return o.createElement("div",a({},n,{className:s()(t,"home-action-element home-action_no-action"),style:i}),r)};var u=r(59682);const l=e=>{let{className:t,children:r}=e;const n=(0,u.Ms)(),i=(0,o.useCallback)((e=>n(e)),[n]);return o.createElement("div",{className:t,onClick:i},r)};var p=r(61327),d=r(42847),f=r(66642),m=r(33726);const h=(e,t)=>{const r=(0,p.i)(d.K7);(0,o.useEffect)((()=>{if(!r)return;const o=e.current;if(!o)return;const n=new IntersectionObserver((e=>{let[{target:r,isIntersecting:o}]=e;o&&((e=>{var t,r;if(null==e||null===(t=e.popups)||void 0===t||!t[0])o,background:n}=(null===(r=e.popups)||void 0===r?void 0:r[0])||{};o&&(0,m.p)({src:o}),(0,f.e)({sectionName:"popup",background:n}).forEach(m.p)})(t),n.unobserve(r))}));return n.observe(o),()=>{n.unobserve(o)}}),[r,e,t])};var v=r(49166);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},y.apply(this,arguments)}const b=e=>{var t;let{shortcuts:r,shortcut:n,children:i,extraMetricsData:a,accessibilityProps:c,popupType:l,shortcutPosition:p,popupScrollingIsEnabled:d,className:f,style:m,metricsEventName:b,reachGoalTargets:g}=e;const P=(0,o.useRef)(null);h(P,n);const[_,O]=(0,u.jg)({shortcuts:r,shortcutCoreData:n,type:l,shortcutPosition:p,popupScrollingIsEnabled:d,metricsEventName:b,extraMetricsData:a,reachGoalTargets:g}),[S,E]=(0,o.useState)(!1),{actionResult:w,PopupComponent:T,action:N}=_();return o.createElement(o.Fragment,null,o.createElement("button",y({},c,{ref:P,className:s()("home-action__button",f),"data-test-id":"home-action__button-"+(d),style:m,onClick:e=>{null==N||N(e),w&&E(!0)}}),i),T&&null!=n&&null!==(t=n.popups)&&void 0!==t&&t[0]&&S?o.createElement(v.s.Provider,{value:v.L.POPUP},o.createElement(T,{visible:!0,onClose:()=>{O({}),E(!1)},shortcut:n,shortcuts:r,popupScrollingIsEnabled:d})):null)};r(91181),r(62773);var g=r(37703),P=r(71749),_=r(93056),O=r(95005),S=r(58839),E=r(52713),w=r(1762);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},T.apply(this,arguments)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const I=e=>{var t,r;let{children:i,shortcut:s,component:a,rel:c,accessibilityProps:l,shortcutPosition:p,className:f,style:m,onAction:h,action:y,metricsEventName:b,extraMetricsData:N,reachGoalTargets:C,openLinkType:I,isPopup:D}=e;const x=(0,o.useContext)(v.s),A=(0,g.v9)(P.v);let k=y||(null===(t=s.actions)||void 0===t?void 0:t[0])||{subscriptionProductFeatures:[]};if(null!==(r=k)&&void 0!==r&&r.url&&(k=j(j({},k),{},{url:k.url.replace("<domain>",A)})),!(0,S.yF)()){var R;let e=null===(R=k)||void 0===R?void 0:R.url;e&&(0,O.c$)(location.host)===(0,O.c$)((0,O.XF)(e||""))&&(e=(0,E.A)(e)),k&&(k=j(j({},k),{},{url:e}),s=j(j({},s),{},{actions:[k]}))}const M=(0,_.yU)(),U=(0,u.YH)({shortcut:s,metricsEventName:b,extraMetricsData:N,shortcutPosition:p,openLinkType:I,reachGoalTargets:C,isPopup:D}),B=(0,o.useCallback)((e=>(null==h||h(),U(e))),[h,U]),L=[d.H.PLUS_SITE,d.H.OAUTH_WEB].includes(M)&&k.url;let H={className:"home-action-element home-action-link__wrapper ".concat(f||""),style:m,onClick:B};if(L){const e=a||w.r,t=k.actionType===n.Us.currentWindow?"_self":"_blank";return H=j(j({},H),{},{target:t,href:k.url,rel:c||"noopener noreferrer","data-test-id":`home-action__link-${s.id}`,"data-location":x||void 0}),o.createElement(e,T({},H,l),i)}const F=a||"button";return H=j(j({},H),{},{className:"home-action-element home-action__button ".concat(f||""),"data-test-id":`home-action__button-${s.id}`}),o.createElement(F,T({},H,l),i)};var D=r(73935),x=r(84581),A=r(46208),k=r(85720),R=r(13607);const M=r.p+"0a123cbd26ddd4625e61.png";var U=r(44229),B=r(72458),L=r(2574),H=r(22936);const F=e=>{let{type:t=B._.Default,onClick:r,isActive:n,offerType:i}=e;const a=(0,o.useRef)mainParams:{tankerKeys:{successTitleSubscriptionScreen:m,successDescriptionSubscriptionScreen:h}}}=(0,o.useContext)(L.X);(0,o.useEffect)((()=>{a.current&&(l(a.current.offsetWidth),f(a.current.offsetHeight))}),[a,l,f]);const v=(0,_.yU)()===d.H.SDK;(0,o.useEffect)((()=>{if(!v)return;(0,x.U)().postMessage("SUCCESS_SCREEN_SHOWN",{offerType:i})}),[v,i]);return(0,D.createPortal)(o.createElement("div",{className:s()("success-subscription-screen",{"success-subscription-screen__active pay-button-section_popup-mode":n}),ref:a,"data-test-id":"success-subscription-screen"},(0,S.yF)()||!u?null:o.createElement(U.V,{confettiConfig:{numberOfPieces:300},width:u,height:p,canvasWrapperClassName:"success-subscription-screen__confetti"}),o.createElement("img",{src:M,alt:"plus box",className:"success-subscription-screen__img"}),o.createElement("div",{className:"success-subscription-screen__text"},o.createElement(A.Z,{component:"h1",size:32,weight:"medium",className:"success-subscription-screen__text-title"},o.createElement(R.o,null,c(m))),o.createElement(A.Z,{size:16,component:"h2",weight:"regular",type:"tight",className:"success-subscription-screen__text-description"},t===B._.Annihilation?o.createElement(R.o,null,c("common.success-subscription_all_description_annihilation")):o.createElement(R.o,null,c(h)))),o.createElement("div",null,o.createElement(k.z,{onClick:()=>{if(v){(0,x.U)().postMessage("SUCCESS_SCREEN_BUTTON_TAPPED",{offerType:i})}r()},size:"l",color:"blue",className:"success-subscription-screen__button"},o.createElement(R.o,null,c("common.ru.subscription.downgrade.success.button.ready"))))),document.getElementById("root")||document.body)};var W=r(31071);const G=e=>{let{children:t,isDataError:r,shouldShowFinishScreen:n,onCloseSuccessScreen:i,successScreenType:s,offerType:a}=e;return r?o.createElement(W.E,null):o.createElement("div",null,n?o.createElement(F,{onClick:i,type:s,offerType:a}):t)};var K=r(42733),z=r(82612),Y=r(98495),V=r(43710),$=r(86707);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const X=e=>{let{products:t,onAbort:r,callbacks:n,onClose:i,onLinkClick:s,target:a,hashOrderId:c,offersMetrics:u,widgetExtraQuery:l}=e;const{lang:f,service_name:m,platform:h,source:v}=(0,_.eb)(),y=(0,g.v9)(z.wl.getTestIds),b=(0,_.eb)(),P="1"===b.cookieAuth&&"1"===b._yplus_dtToken),w=(0,_.yU)()===d.H.OAUTH_WEB,T=(0,O.Vj)(l||""),N=(0,p.i)(d.D8),{isLightTheme:j}=(0,Y.F)(),C=(0,V.LO)(),I=(0,$.af)(),{compositeName:D}=t[0];return o.createElement("div",{onClick:e=>e.stopPropagation(),className:"sdk-widget"},o.createElement("div",{className:"sdk-widget__pseudo-header"},o.createElement("button",{onClick:r,className:"sdk-widget__close"})),o.createElement(K.V,{widgetParams:Q({widgetServiceName:v||m,widgetSubServiceName:"plus-home-sdk",widgetType:"plus",lang:f,testIds:y,platform:h,referer:m,authMethod:w?"oauth:s,onReport:n.onReport,onAuthRequest:S.ZT,onSuccess:n.onSuccess,onError:n.onError,onClose:rguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return console.warn("--------",t)},theme:j?"light":"dark"},isLoading:!1,target:a,onClose:i,hashOrderId:c,retryProductRequest:()=>Promise.resolve(),eventSessionId:N?null==u?void 0:u.eventSessionId:void 0,silent:I,currentOfferPositionId:u.currentOfferPositionId,offersBatchId:u.offersBatchId,optionOfferName:null==D?void 0:D.optionOfferName,tariffOfferName:null==D?void 0:D.tariffOfferName,isTarifficator:!0,productId:t[0].id,analyticsContext:C}))},J=e=>{let{children:t,products:r,onAbortPayment:n,isRunningPaymentProcess:i,widgetCallbacks:s,openWidgetLinkHandler:a,closeWidgetHandler:c,widgetTarget:u,hashOrderId:l,offersMetrics:p,extraGetParams:d}=e;return r.length?o.createElement(o.Fragment,null,i&&(0,D.createPortal)(o.createElement(X,{products:r,onAbort:n,callbacks:s,onClose:c,onLinkClick:a,target:u,hashOrderId:l,offersMetrics:p,widgetExtraQuery:d}),document.getElementById("root")||document.body),t):null};var ee=r(41062);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},te.apply(this,arguments)}const re=e=>{let{children:t,shortcut:r,entityProducts:n,serviceTarget:i,offerType:s,successScreenType:a=B._.Default,widgetData:c,sectionProps:l}=e;const{onAbortPayment:p,closeSuccessScreen:f,closeWidgetHandler:m,callbacks:h,hasDataError:v,showFinishScreen:y,isRunningPaymentProcess:b,hash:g}=c;return o.createElement(G,{isDataError:v,shouldShowFinishScreen:y,onCloseSuccessScreen:f,successScreenType:a,offerType:s},o.createElement(J,te({products:n.products,onAbortPayment:p,isRunningPaymentProcess:b,widgetCallbacks:h,openWidgetLinkHandler:e=>{(0,u.LC)({mode:d.H.SDK,shortcut:r,url:e,urlType:ee.k2.WEBLINK})()},closeWidgetHandler:m,widgetTarget:i,hashOrderId:g},l),t))};var oe=r(87575);const ne=e=>{var t;let{children:r,homeActionProps:n,childrenProps:i,action:s,shortcut:a,elementIndex:c}=e;const{homeActionProps:u,childrenProps:l}=(0,oe.Y)({shortcut:a,shortcutPosition:0,action:s,elementIndex:c}),{widgetData:p,sectionProps:d,sdkButtonProps:f}=i||l||{},{entityProducts:m,serviceTarget:h,offerType:v,successScreenType:y}=n||u||{};return p&&d?null!=i&&i.showOnLoading&&null!=i&&null!==(t=i.widgetData)&&void 0!==t&&t.isProductsLoading?o.createElement(o.Fragment,null,r):o.createElement(re,{shortcut:a,entityProducts:m,serviceTarget:h,offerType:v,successScreenType:y,widgetData:p,sectionProps:d},o.createElement("div",{onClick:null==f?void 0:f.onBuy},r)):null},ie=e=>{var t;let{children:r,shortcut:n,action:i,elementIndex:s,homeActionProps:a,childrenProps:c,place:u,className:l}=e;const{homeActionProps:p}=(0,oe.Y)({shortcut:n,shortcutPosition:0,action:i,elementIndex:s,place:u,className:l}),d=null!=i&&i.useModalWindow?"div":w.r;return null!=c&&c.showOnLoading&&null!=c&&null!==(t=c.widgetData)&&void 0!==t&&t.isProductsLoading?o.createElement(o.Fragment,null,r):(null==a||delete a.onClick,o.createElement(d,a||p,r))};var se=r(84779),ae=r(19222);function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pe=e=>{var t;let{isPopupMode:r,popup:n,shortcut:i,metricsExtraData:s}=e;const a=(0,$.Fk)(null==i||null===(t=i.actions)||void 0===t?void 0:t[0]),c=(0,ae.lQ)({isPopupMode:r}),u=(0,ae.AW)({isPopupMode:r,paymentType:"host",metricsExtraData:s,shortcut:i,popup:n,finishPayment:c});return(0,o.useEffect)((()=>{const e={isPopup:r,purchaseType:"host"};a.enabled&&!a.canRun&&(0,se.Kz)(ue(ue({},e),{},{event:"Host_pay_button old_version_in_experiment"})),a.enabled&&a.canRun&&!a.availableForUser&&(0,se.Kz)(ue(ue({},e),{},{event:"Host_pay_button sdk_cant_start_host_purchase"})),a.shouldRun&&((0,se.Kz)(ue(ue({},e),{},{event:"Host_pay_button open"})),u())}),[]),o.createElement(W.E,null)};var de=r(47658),fe=r(11159);const me=e=>{var t;let{isPopupMode:r,metricsExtraData:n,popup:i,shortcut:s,successScreenType:a}=e;const c=(0,_.eb)(),u=(0,p.i)(d.a3),[l,f]=(0,o.useState)(!1),m=u&&(null===(t=c.available_fe?void 0:t.includes(fe.iG.PURCHASE_TARIFFICATOR)),h=(0,ae.wR)(),v=(0,ae.lQ)({isP,shouldSkipRefetchingInStory:!0}),y=(0,ae.AW)({ymentType:"native",onPaymentFinished:()=>{f(!0),r&&h()},metricsExtraData:n,shortcut:s,popup:i});return(0,de.L)(l&&!m),(0,o.useEffect)((()=>{y()}),[]),l?m?(v(),null):o.createElement(F,{onClick:()=>{v(),f(!1)},type:a,isActive:!0}):null};var he=r(39383);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ge=e=>{let{isPopupMode:t,popup:r,shortcut:n,metricsExtraData:i}=e;const s=(0,x.U)(),a=(0,o.useContext)(he.$S),c=(0,he.$8)(),u=(0,$._i)(),l=(0,ae.lQ)({isPopupMode:t}),p=e=>{s.unsubscribeByType("SHOW_NATIVE_BUY_RESPONSE",p);const{successfully:o}=e.payload,u={event:"Host_pay_button (deprecated) start_purchase",isPopup:t,purchaseType:"deprecated_host",value:o?"success":"failure"};if(o)return(0,se.Kz)(u),l(),void(0,se.QV)({eventName:se.Ck.Success,analyticsContext:c,metricsDetails:ye(ye(ye({},a),i),{},{button_type:"host",purchase_type:"host"}),popup:r,shortcut:n});(0,se.H)(u)};return(0,o.useEffect)((()=>{const e={isPopup:t,purchaseType:"deprecated_host"};u.canRun||(0,se.Kz)(ye(ye({},e),{},{event:"Host_pay_button (deprecated) old_version_in_experiment"})),u.canRun&&!u.availableForUser&&(0,se.Kz)(ye(ye({},e),{},{event:"Host_pay_button (deprecated) sdk_cant_start_host_purchase"})),u.shouldRun&&((0,se.Kz)(ye(ye({},e),{},{event:"Host_pay_button (deprecated) open"})),s.subscribeByType("SHOW_NATIVE_BUY_RESPONSE",p),s.postMessage("SHOW_NATIVE_BUY",null))}),[]),o.createElement(W.E,null)};var Pe=r(55580);const _e=e=>{var t;let{children:r,homeActionProps:n,childrenProps:i}=e,s=W.E;if(null==n||!n.paymentTypeComponent)return null;switch(n.paymentTypeComponent){case Pe.S.HostPayButton:s=pe;break;case Pe.S.DeprecatedHostPayButton:s=ge;break;case Pe.S.NativePayButton:s=me}return o.createElement(s,n,o.createElement("div",{onClick:null==i||null===(t=i.sdkButtonProps)||void 0===t?void 0:t.onBuy},r))};var Oe=r(15430);const Se=e=>{let{children:t,homeActionProps:r,childrenProps:n}=e;const{modalProps:i,isVisible:s}=(null==n?void 0:n.modal)||{};return o.createElement("div",r,t,s&&i?o.createElement(Oe.C_,{statusScreenProps:i.statusScreenProps,modalProps:i.modalProps}):null)};var Ee=r(60007);const we=e=>{let{children:t,action:r,onAction:n}=e;const i=(0,Ee.k)({action:r}),{childrenProps:s}=i();return o.createElement("div",{className:"open-afisha-widget-action",onClick:e=>{e.preventDefault(),e.stopPropagation(),null==n||n(),null==s||s.handleClick()}},t)},Te=e=>{var t;let{children:r,shortcut:i,hasTextInside:s,ariaLabel:a,shortcutPosition:u,popupType:p,shortcuts:f,popupScrollingIsEnabled:m,className:h,style:v,action:y,onAction:g,extraMetricsData:P,metricsEventName:O,reachGoalTargets:S,homeActionProps:E,childrenProps:w,place:T,isDisabled:N=!1,openLinkType:j,isPopup:C}=e,D={};void 0!==s&&a&&(D={[s?"aria-labelledby":"aria-label"]:a});const x=y||(null===(t=i.actions)||void 0===t?void 0:t[0])||{subscriptionProductFeatures:[]},A=(e=>{var t;let{shortcut:r,isActionDisabled:i,action:s}=e;const a=(0,$.qb)(r,s),u=(0,_.yU)()===d.H.SDK;return(0,o.useMemo)((()=>{var e;const{actionType:t}=s;return i?c:t===n.Us.newWindow||t===n.Us.currentWindow?I:t===n.Us.subscribe?u?a?ne:_e:ie:t===n.Us.retryPayment?Se:t===n.Us.cardActivation?l:t===n.Us.popup&&null!==(e=r.popups)&&void 0!==e&&e.length?b:t===n.Us.afisha?we:c}),[s,i,u,null===(t=r.popups)||void 0===t?void 0:t.length,a])})({shortcut:i,isActionDisabled:N,action:x});return o.createElement(A,{homeActionProps:E,childrenProps:w,accessibilityProps:D,shortcut:i,extraMetricsData:P,isDisabled:N,shortcutPosition:u,popupType:p,shortcuts:f,popupScrollingIsEnabled:m,className:h,style:v,openLinkType:j,onAction:g,action:x,metricsEventName:O,reachGoalTargets:S,place:T,isPopup:C},r)}},87575:(e,t,r)=>{"use strict";r.d(t,{Y:()=>k});var o=r(77754),n=r(25722),i=r(42847),s=(r(91181),r(67294)),a=r(8335),c=r(59682);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=e=>{let{shoclassName:r,accessibilityProps:o}=e;const{hideModal:n,showModal:i,visible:u}=(0,a.d)(!1),[p,d]=(0,s.useState)({}),f=(0,c.$V)({shortcut:t,hideModal:n,setModalProps:d,showModal:i}),m=(0,s.useCallback)((e=>f(e)),[f]);return{homeActionProps:l({className:r},o),childrenProps:{handleClick:m,modal:{isVisible:u,modalProps:p}}}},f=e=>{var t;let{shortcut:r,className:o,style:n,action:i,popupId:s,metricsEventName:a,reachGoalTargets:u,shortcutPosition:l,elementIndex:p=0,place:d}=e;const f=i||(null===(t=r.actions)||void 0===t?void 0:t[0])||{subscriptionProductFeatures:[]},m=(0,c.B1)({shortcutAction:f,shortcut:r,popupId:s,metricsEventName:a,reachGoalTargets:u,shortcutPosition:l,elementIndex:p,className:o,style:n,place:d}),{homeActionProps:h,childrenProps:v}=m();return{homeActionProps:h,childrenProps:v}};var m=r(37703),h=r(93056),v=r(86707),y=r(82612),b=r(67477);const g=e=>{var t;let{shortcut:r,action:o}=e;const n=(e=>{var t;let{shortcutAction:r,shortcut:o}=e;const n=(0,h.eb)(),i=(0,m.v9)(y.wl.getIsYaPlusDebug),s=(0,v._i)(),a=(0,v.Fk)(null==o||null===(t=o.actions)||void 0===t?void 0:t[0]),u=(0,b.N)(n,r),l=(0,v.yP)(r,u);return(0,c.cH)({debug:i,hostBuyAvailability:a,availableFeatures:n.available_features,deprecatedHostBuyAvailability:s,shouldShowNativePayButton:l,shortcut:o})})({shortcutAction:o||(null===(t=r.actions)||void 0===t?void 0:t[0])||{subscriptionProductFeatures:[]},shortcut:r}),{homeActionProps:i,childrenProps:s}=n();return{homeActionProps:i,childrenProps:s}};var P=r(81369),_=r(11746),O=r(19222),S=r(9998),E=r(39383);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=e=>{var t,:Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({serviceTarget:d,features:null==u?void 0:u.subscriptionProductFeatures,shouldSkip:!g},b)),{refetch:j}=(0,S.I)({fetchPolicy:"cache-only"}),C=(0,O.dU)(),I=(0,O.n)({shortcut:i,productsInfo:N,paymentCardId:C,refetchSectionGroups:j,place:l}),D=(0,O.w6)(I.widgetError),x=(0,h.Lm)(),{products:A}=N,k=A[a]?(null===(r=A[a])||void 0===r?void 0:r.buttonText)+" / "+(null===(o=A[a])||void 0===o?void 0:o.buttonAdditionalText):"",R=(0,s.useContext)(E.$S),M=null===(n=A[a])||void 0===n?void 0:n.offerType,U=(0,s.useMemo)((()=>({offer_text:k,from_section_id:null==R?void 0:R.section_id,from_section_attribution_service_name:R.section_attribution_service_name||null,from_section_name:null==R?void 0:R.section_name,from_sections_group_position:R.sections_group_index+1,is_one_click_payment:I.isOneClickPayment,offer_type:null==M?void 0:M.toLowerCase(),button_type:"web",purchase_type:"web",shortcut_id:i.id,shortcut_name:i.name,from_shortcut_attribution_service_name:i.serviceName||null})),[k,null==R?void 0:R.section_id,R.section_attribution_service_name,null==R?void 0:R.section_name,R.sections_group_index,I.isOneClickPayment,M,i.id,i.name,i.serviceName]);return(0,c.bH)({debug:f,shortcut:i,serviceTarget:d,widgetData:I,productsInfo:N,errorText:D,sendMetrics:x,payButtonMetrics:U,offerType:M,place:l})},j=e=>{var t;let{shortcut:r,elementIndex:o=0,action:n,place:i}=e;const s=N({shortcut:r,elementIndex:o,action:n||(null===(t=r.actions)||void 0===t?void 0:t[0]),place:i}),{homeActionProps:a,childrenProps:c}=s();return{homeActionProps:a,childrenProps:c}};var C=r(60007);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const A=e=>{let{action:t,className:r,accessibilityProps:o}=e;const n=(0,C.k)({action:t}),{childrenProps:i}=n();return{homeActionProps:D({className:r},o),childrenProps:i}},k=e=>{let{shortcut:t,extraMetricsData:r,isDisabled:s=!1,shortcutPosition:a,popupType:c,shortcuts:u,popupId:l,popupScrollingIsEnabled:p,className:m,style:h,openLinkType:y,onAction:b,action:P,metricsEventName:_,reachGoalTargets:O,elementIndex:S=0,hasTextInside:E,ariaLabel:w,place:T}=e,N={};void 0!==E&&w&&(N={[E?"aria-labelledby":"aria-label"]:w});const C=(e=>{var t;let{shortcut:r,action:n,mode:s}=e;const a=sK,c=n||(null===(t=r.actions)||void 0===t?void 0:t[0])||{subscriptionProductFeatures:[]},{actionType:u}=c,l=(0,v.qb)(r,n);return u===o.Us.retryPayment?d:u===o.Us.afisha?A:u===o.Us.subscribe?a?l?j:g:f:()=>({})})({shortcut:t,isActionDisabled:s,action:P,mode:(0,n.yU)()});return C({accessibilityProps:N,shortcut:t,extraMetricsData:r,isDisabled:s,shortcutPosition:a,popupType:c,shortcuts:u,popupScrollingIsEnabled:p,clEBVIEWtion(e){return e.unavailable="unavailable",e.restricted="restricted",e.unauthenticated="unauthenticated",e.unauthorized="unauthorized",e.noBankAccount="noBankAccount",e.normal="normal",e.unknown="unknown",e}({}),i=function(e){return e.cancel="cancel",e.success="success",e.failure="failure",e}({}),s=function(e){return e.SWIPE="swipe",e.TAP="tap",e}({})},70319:(e,t,r)=>{"use strict";r.d(t,{_:()=>u});r(91181);var o=r(67294),n=r(94184),i=r.n(n);const s={customCard:"customCard___Emoj54VPXOAG5EWK7Pn","customCard_filled-white":"customCard_filled-white__D_kmd8wScjfldJpQLEuJ",customCard_filled:"customCard_filled__yJ1XwsY4HO5MZd31ugAZ",customCard_inherited:"customCard_inherited__irC32h0mHABdw2SRDZda","customCard_padding-default":"customCard_padding-default__GUE3QuUjd0U3snIPykY_","customCard_padding-zero":"customCard_padding-zero__sx_OgTWr7SrszDMW4Izc","customCard_padding-large":"customCard_padding-large__dtL_Zq6zbHQfz5ZSlB_7","customCard_padding-default-large-tablet":"customCard_padding-default-large-tablet__pKLTkjTU8ZJ81Gp67uHD","customCard_padding-legacy":"customCard_padding-legacy__P7rBa3n5lYPCVH7jeXH2",customCard_hoverable:"customCard_hoverable__abcfH3GN0ztNpIKao2QP","is-theme_dark":"is-theme_dark__ZyBzo1xzEOuTfzzxc4sb",customCard_clickable:"customCard_clickable__A4EHOy1EkrvPK40WdZ7q"};function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const u=o.forwardRef(((e,t)=>{let{className:r,children:n,component:u="section",variant:l="filled-white",onClick:p,padding:d,hoverable:f=!0}=e,m=c(e,["className","children","component","variant","onClick","padding","hoverable"]);return o.createElement(u,a({onClick:p,ref:t,className:i()(s.customCard,r,{[s.customCard_clickable]:p,[s[`customCard_padding-${d}`]]:d,[s.customCard_hoverable]:f&&p,[s[`customCard_${l}`]]:l})},m),n)}))},58125:(e,t,r)=>{"use strict";r.d(t,{kk:()=>h,RG:()=>m,h1:()=>u,Jd:()=>d,QO:()=>f,dX:()=>l,sI:()=>v,CW:()=>y,_o:()=>p,hH:()=>c,YQ:()=>s,h:()=>g,Gy:()=>P});r(62773);var o=r(16631),n=r(81547),i=r(21492);const s=e=>{const{title:t}=e||{},r=(0,i.J)(e);let n;if(u(r)){const{daysToAnnihilation:e,error:i}=r;return n=i?"":0===e?i18n("Plus.home.today"):e?i18n("Plus.home.in_days",e,e):"",(0,o.g)(t,n)}return t},a=[".","!","?"],c=e=>{const t=(e=>{const{subtitle:t}=e||{},r=(0,i.J)(e);if(u(r)){const{dateOfAnnihilationInWords:e,bonusesAmount:n,error:i}=r;if(i)return(0,o.g)(t,"","");const s=n?i18n("pages.main_ru_cashback_points_texts-after",n,n):"";return(0,o.g)(t,e,n+"&nbsp;"+s)}return t})(e),r=t.indexOf(n.au);if(-1!==r){let e=t.subst e+=a.includes(.":"...",{short:ehort:null,full:t}},u=e=>"number"==typeof(null==e?void 0:e.daysToAnnihilat=e?void 0:e.error),l=e=>e.popups||[],p=e=>e.filter((e=>l(e).length>0)),d=e=>st o=t{miniPopupIndex:r,shortcutIndex:o}};let m=function(e){return e[e.MINI_POPUP=0]="MINI_POPUP",e[e.POPUP=1]="POPUP",e}({}),h=function(e){return e[e.NEXT=1]="NEXT",e[e.CURRENT=0]="CURRENT",e[e.PREV=-1]="PREV",e}({});const v=e=>{let{miniPopupId:t,shortcutsWithMiniPopups:r,target:o,isSdkMode:n}=e;const{miniPopupIndex:i,shortcutIndex:s}=f(t,r),a=l(r[s]);return o===m.MINI_POPUP&&i+1<a.length?{miniPopupIndex:i+1,shortcutIndex:s}:n?{miniPopupIndex:-1,shortcutIndex:h.NEXT}:s+1<r.length?{miniPopupIndex:0,shortcutIndex:s+1}:{miniPopupIndex:-1,shortcutIndex:-1}},y=e=>{let{miniPopupId:t,shortcutsWithMiniPopups:r,target:o,isSdkMode:n}=e;const{miniPopupIndex:i,shortcutIndex:s}=f(t,r);if(n)return o===m.MINI_POPUP&&i-1>=0?{miniPopupIndex:i-1,shortcutIndex:h.CURRENT}:{miniPopupIndex:-1,shortcutIndex:h.PREV};if(o===m.MINI_POPUP&&i-1>=0)return{miniPopupIndex:i-1,shortcutIndex:s};if(s-1>=0){const e=r[s-1];return{miniPopupIndex:o===m.MINI_POPUP?l(e).length-1:0,shortcutIndex:s-1}}return o===m.MINI_POPUP?{miniPopupIndex:0,shortcutIndex:s}:{miniPopupIndex:-1,shortcutIndex:-1}},b="white",g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return e.includes("gradient")?b:e.replace("#","")},P=e=>{let{miniPopupId:t,shortcutsWithMiniPopups:r,isSdkMode:o}=e;const{miniPopupIndex:n,shortcutIndex:i}=y({miniPopupId:t,shortcutsWithMiniPopups:r,ta:a}=v({miniPopupId:t,shortcutsWithMiniPopups:r,target:m.POPUP,isSdkMode:o});return{isPrevArrowNeeded:n>-1&&i>-1,isNextArrowNeeded:s>-1&&a>-1}}},31071:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});const o=()=>null},19222:(e,t,r)=>{"use strict";r.d(t,{lQ:()=>v,Hi:()=>B,w6:()=>R,f1:()=>U,wR:()=>m,dU:()=>l,AW:()=>D,n:()=>J});r(62773);var o=r(67294),n=r(11159),i=r(44079),s=r(84779),a=r(84581),c=r(93056),u=r(42847);const l=e=>{const t=(0,a.U)(),r=(0,c.eb)(),l=(0,c.yU)(),[p,d]=(0,o.useState)(void 0),f=l===u.H.SDK;return(0,o.useEffect)((()=>{var o;if(!e&&f)if(null!=r&&null!==(o=r.available_features)&&void 0!==o&&o.includes(n.iG.CARD_OVER_BRIDGE))try{const e=t.getPaymentCardId();d(e),(e=>{e?i.S.logEventString("PayButtonSection_card_response","receive_card"):i.S.logEventString("PayButtonSection_card_response","no_card")})(e)}catch(c){(e=>{const t=e;let r;if((null==t?void 0:t.message)===a.H){const o=`SDK hasn't respond within ${s.Gf}`;i.S.logError({message:o},t),console.error(e),r="timeout"}else i.S.logError({message:(null==t?void 0:t.message)||JSON.stringify(t)},t),console.error(e),r="error";i.S.logEventString("PayButtonSection_card_response",r)})(c)}else i.S.time("pay_button.delta_card_request"),i.S.logEventString("PayButtonSection_card_request",""),t.subscribeByType("USER_CARDS_RESPONSE",(e=>{const t=e,{defaultCard:r}=t.payload||{};d((null==r?void 0:r.paymentMethodId)||null),i.S.timeEnd("pay_button.delta_card_request")})),t.postMessage("USER_CARDS_REQUEST",null,{timeout:s.Gf,withRetry:!0})}),[]),p};var p=r(12532),d=r(41062),f=r(55321);const m=function(){let{offerType:e=p.C6.TARIFF}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,f.X)(),r=(0,a.U)(),o=e===p.C6.OPTION;return()=>{t&&r.postMessage("SEND_BROADCAST_EVENT",{id:d.kH.HOME,event:o?"SUCCESSFUL_STORY_OPTION_PAYMENT":"SUCCESSFUL_STORY_PAYMENT"})}};var h=r(92101);const v=e=>{let{isPopupMode:t,offerType:r,shouldSkipRefetchingInStory:o,refetchProducts:n}=e;const i=(0,c.yU)()===u.H.SDK,s=(0,a.U)(),l=m({offerType:r}),d=(0,h.Q)();return i&&t?()=>{o||l(),s.postMessage("CLOSE_STORIES",null)}:()=>{r===p.C6.OPTION&&(null==n||n()),d({plus:!0})}};r(91181);var y=r(48403),b=r.n(y),g=r(37703),P=r(43710),_=r(39383),O=r(85864);var S=r(78515);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=e=>{let{isPopupMode:t,metricsDetails:r,metricsExtraData:o,shortcut:n,popup:i,analyticsContext:c,paymentType:u,finishPayment:l}=e;if("host"!==u)return;const p=(0,a.U)(),d=e=>{p.unsubscribeByType("PURCHASE_PRODUCT_RESULT",d);const{purchaseType:a,status:u,errorType:f,errorMessage:m}=e.payload,h={error:f,errorMessage:m,event:"Host_pay_button finish_purchase",isPopup:t,purchaseType:a,value:u},v={analyticsContext:c,metricsDetails:w(w(w({},r),o),{},{button_type:"host",purchase_type:"host",error:f}),popup:i,shortcut:n};return u===S.ct.success?((0,s.Kz)(h),null==l||l(),void(0,s.QV)(w({eventName:s.Ck.Success},v))):u===S.ct.cancel?((0,s.Kz)(h),void(0,s.QV)(w({eventName:s.Ck.Cancelled},v))):((0,s.QV)(w({eventName:s.Ck.Failed},v)),void(0,s.H)(h))};p.subscribeByType("PURCHASE_PRODUCT_RESULT",d)};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const D=e=>{let{isPopupMode:t,paymentType:r,onPaymentFinished:n,metricsExtraData:i,shortcut:u,popup:l,finishPayment:p}=e;const d=(0,g.v9)(O.vh),f=(0,g.v9)(O.NI),m=(0,a.U)(),h=(0,P.VX)(),v=(0,_.$8)(),y=(0,o.useContext)(_.$S),S=(0,o.useMemo)((()=>({from_section_id:null==y?void 0:y.section_id,from_section_name:null==y?void 0:y.section_name,from_section_attribution_service_name:y.section_attribution_service_name||null,from_shortcut_attribution_service_name:u.serviceName||null,from_sections_group_position:y.sections_group_index+1,button_type:r,purchase_type:r,popup_id:null==l?void 0:l.id,config_id:y.config_id,config_name:y.config_name})),[null==y?void 0:y.section_id,null==y?void 0:y.section_name,y.section_attribution_service_name,y.sections_group_index,y.config_id,y.config_name,u.serviceName,r,null==l?void 0:l.id]),E=(()=>{const e=(0,c.Lm)();return t=>{let{onPaymentFinished:r,isPopupMode:o,metricsDetails:n,metricsExtraData:i,shortcut:a,popup:u,analyticsContext:l,type:p,paymentType:d,isExpiredToken:f,isAuthorized:m}=t;if("native"!==d)return;if(f||!m)return void(0,s.p0)({isExpiredToken:Boolean(f),isAuthorized:Boolean(m)});const h={from_section_id:null==n?void 0:n.section_id,from_section_name:null==n?void 0:n.section_name,from_section_attribution_service_name:null==n?void 0:n.section_attribution_service_name,from_sections_group_position:n.sections_group_index+1,from_shortcut_attribution_service_name:a.serviceName||null,button_type:d,purchase_type:d,popup_id:null==u?void 0:u.id};"button"===p?(e({eventName:c.KA.Clicked,products:[],extraData:h}),(0,s.vI)({onPaymentFinished:r,isPopupMode:o,metricsDetails:n,metricsExtraData:i,shortcut:a,popup:u,analyticsContext:l})):"card"===p&&(e({eventName:c.B$.Clicked,products:[],extraData:h}),(0,s.To)({onPaymentFinished:r,isPopupMode:o,metricsDetails:n,metricsExtraData:i,shortcut:a,popup:u,analyticsContext:l}))}})(),w=e=>{const{purchaseType:o,type:a}=e.payload,c={event:`${b()(r)}_pay_button click`,isPopup:t,purchaseType:o};(0,s.Kz)(C(C({},c),{},{value:a})),E({onPaymentFinished:n,isPopupMode:t,metricsDetails:y,metricsExtraData:i,shortcut:u,popup:l,analyticsContext:v,type:a,paymentType:r,isExpiredToken:f,isAuthorized:d}),N({isPopupMode:t,metricsDetails:y,metricsExtraData:i,shortcut:u,popup:l,analyticsContext:v,paymentType:r,finishPayment:p})},T=e=>{const{purchaseType:o,offerType:a}=e.payload,c={event:`${b()(r)}_pay_button autostart`,isPopup:t,purchaseType:o};(0,s.Kz)(C(C({},c),{},{value:a})),"native"===r&&(0,s.vI)({onPaymentFinished:n,isPopupMode:t,metricsDetails:y,metricsExtraData:i,shortcut:u,popup:l,analyticsContext:v}),N({isPopupMode:t,metricsDetails:y,metricsExtraData:i,shortcut:u,popup:l,analyticsContext:v,paymentType:r,finishPayment:p})},j=e=>{m.unsubscribeByType("PURCHASE_PRODUCT_BUTTON_STATUS",j);const{status:o,purchaseType:n,errorType:i,errorMessage:a}=e.payload,c={error:i,errorMessage:a,event:`${b()(r)}_pay_button show`,isPopup:t,purchaseType:n,value:o};if("success"===o)return(0,s.Kz)(c),h(void 0,C(C({},v),{},{[P.DA]:C({},S),[P.W1]:"BuySubscription.Button.Shown"}),!1),m.subscribeByType("PURCHASE_PRODUCT_CLICK",w),void m.subscribeByType("PURCHASE_PRODUCT_AUTOSTART",T);(0,s.H)(c),h(void 0,C(C({},v),{},{[P.DA]:C(C({},S),{.Show.Failed"}),!1)};return()=>{m.subscribeByType("PURCHASE_PRODUCT_BUTTON_STATUS",j),m.postMessage("SHOW_PURCHASE_BUTTON",null)}};var x=r(22936),A=r(44357);const k=e=>e===A.dA.SUBSCRIPTION_ALREADY_PURCHASED,R=e=>{const t=(0,x.F)();if(e)return{title:k(e)?t("sections.pay-button_all_button_error_already_subscribed"):t("sections.pay-button_all_button_error_try_again"),subTitle:k(e)?t("sections.pay-button_all_button_error_appear_soon"):t("sections.pay-button_all_button_error_went_wrong")}};var M=r(97214);const U=(e,t,r)=>{const o=(0,x.F)(),n=!e&&(null==r?void 0:r.trialAvailable),i=(0,M.a9)(t,"payButtonText",n?"trial":"noTrial"),s=o(n?"sections.pay-button_all_button-text_try-free":"sections.pay-button_all_button-text_subscribe");return e?"":(null==i?void 0:i.text)||s},B=e=>{let{productsLoading:t,isRunningPaymentProcess:r,popup:o,shortcut:n,products:i}=e;const s=Boolean(t||o&&(t||r));return{isPayButtonInfoLoading:s,buttonText:U(s,n,i[0])}};var L=r(44586),H=r(47658),F=r(9771),W=r(10158),G=r(19103),K=r(32394),z=r(61327),Y=r(38853),V=r(53590),$=r(38001),Z=r(11670);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const J=e=>{var t,r,l;let{shortcut:y,productsInfo:b,paymentCardId:P,refetchSectionGroups:E,place:w}=e;const T=y,N=T.popups,j=null==N?void 0:N[N.length-1],C=Boolean(j),I=(0,c.yU)()===u.H.SDK,D=(0,c.eb)(),{productsLoading:x,productsError:k,refetch:R}=b,[M,U]=(0,o.useState)(b.products),Q=(0,o.useContext)(_.$S),X=(0,_.$8)(),J=(0,F.BD)(),ee=(0,F.Ch)(),te=(0,c.Lm)(),re=Boolean(!M||k),oe=!re&&M.length>0,[ne,ie]=(0,o.useState)(!0),[se,ae]=(0,o.useState)(!1),[ce,ue]=(0,o.useState)(void 0),[le,pe]=(0,o.useState)(void 0),de=(0,o.useRef)(!1),[fe,me]=(0,o.useState)(!1),[he,ve]=(0,o.useState)(),[ye,be]=(0,o.useState)(!1),[ge,Pe]=(0,o.usg.v9)(K.hl),[Oe,Se]=(0,o.useState)(_e),Ee=null===(t=M[0])||void 0===t?void 0:t.offerType,we=(0,a.U)(),Te=(0,g.v9)(O.vh),Ne=(0,g.v9)(O.NI),je=(0,o.useCallback)((()=>{U([]),null==R||R().then((()=>{ie(!0),U(M)}))}),[M,R]),Ce=m({offerType:Ee}),Ie=v({isPopupMode:C,offerType:Ee,shouldSkipRefetchingInStory:!0,refetchProducts:je}),De=(0,f.X)(),xe=(0,h.Q)(),Ae=(0,W.Q$)(),ke=Boolean(le),Re=(0,s.ix)(he),Me=null===(r=M[0])||void 0===r?void 0:r.id,Ue=Ee===p.C6.OPTION,{isPayButtonInfoLoading:Be,buttonText:Le}=B({productsLoading:x,isRunningPaymentProcess:se,products:M,popup:j,shortcut:T}),He=(0,z.i)(u.D8),Fe=(0,fferName:Ve}=(null===(l=M[0])||void 0===l?void 0:l.compositeName)||{},$e=(0,o.useMemo)((()=>({productId:Me,evenfersBatchId:Ke,currentOfferPositionId:ze,tariffOfferName:Ye,optionOfferName:Ve})),[ze,Ge,Ke,Ve,Me,Ye]),Ze=(0,o.useMemo)((()=>q(q({},He?$e:{}),{},{buyAft,o.useMemo)((()=>(0,$.V)(Ze)),[Ze]),qe=(0,V.S)({search:Qe.toString()}),Xe=j?{popup_id:j.id,popup_title:null==j?void 0:j.title,from_shortcut_id:T.id,from_shortcut_name:T.name}:{},Je=()=>{Pe((0,L.Z)()),ae(!0)},et=()=>{ae(!1),Fe((0,G.I$)(!1))},tt=(0,o.useCallback)((async()=>{Ue?(await E({targeting:J,attributes:ee,weightType:p.Fh.ALL,isSDK:I,isAllWeightType:!0}),je()):await xe({plus:!0}),await Ae({plus:!0})}),[je,E,xe,Ae,Ue,J,ee,I]);(0,o.useEffect)((()=>{const e=b.products;!x&&!re&&e.length>0&&U(e)}),[x,re]),(0,o.useEffect)((()=>{De&&we.subscribeByType("BROADCAST_EVENT",(e=>{e.payload.event===S.R_.SUCCESSFUL_STORY_OPTION_PAYMENT&&tt()}))}),[De]);const rt=I&&C,ot=()=>{var e;(ie(!1),et(),(0,s.RE)(),ye)?(null==R||R(),Ie()):(0,s.QV)({eventName:s.Ck.Cancelled,analyticsContext:X,metricsDetails:q(q({},Q),{},{offer_type:Ee}),popup:j,shortcut:T,hash:ge,buttonText:Le,offerText:null===(e=M[0])||void 0===e?void 0:e.buttonText,productId:Me})};(0,Z.q)($e),(0,o.useEffect)((()=>{P&&(ue(P),pe(P)),Oe&&void 0!==P&&(Se(!1),We(Object.keys(Ze)),i.S.logEventString("buyAfterAuthRequest",String(null==D?void 0:D.buyAfterAuth)),Je())}),[P]);const nt={onSuccess:e=>{var t,r;e.type===A.DW.PURCHASE_DATA&&(null!==(t=D.available_features)&&void 0!==t&&t.includes(n.iG.UPD_TARGETS)?we.postMessage("UPDATE_TARGETS_STATE",{targets:[d._j.PLUS_POINTS,d._j.PAYMENT_CONFIGURATION]}):we.postMessage("USER_STATUS_CHANGED",{newStatus:{hasPlus:!0,bonuses:0},changedFields:["hasPlus"]}),we.postMessage("USER_BOUGHT_SUBSCRIPTION",{productId:Me}),be(!0),(0,s.QV)({analyticsContext:X,metricsDetails:Q,popup:j,shortcut:T,eventName:s.Ck.Success,hash:ge,buttonText:Le,offerText:null===(r=M[0])||void 0===r?void 0:r.buttonText,productId:Me}),ke&&me(!0),rt&&Ce());e.type===A.DW.USER_SCENARIO&&e.action===A.ES.CLOSE&&(we.postMessage("SUCCESS_SCREEN_SHOWN",{offerType:Ee}),we.postMessage("SUCCESS_SCREEN_BUTTON_TAPPED",{offerType:Ee}))},onError:e=>{const{error:t,type:r}=e;var o;(i.S.logError({message:"Error on payment processing. "},new Error(t)),console.error(t),t!==A.dA.PAYMENT_METHOD_ID_DOES_NOT_EXIST)?(et(),pe(void 0),ve(t),r&&(0,s.QV)({eventName:s.Ck.Failed,analyticsContext:X,metricsDetails:q(q({},Q),{},{error_code:r,error_text:t,offer_type:Ee}),popup:j,shortcut:T,hash:ge,buttonText:Le,offerText:null===(o=M[0])||void 0===o?void 0:o.buttonText,productId:Me})):pe(void 0)},onReport:e=>{if(e.type===A.kT.STATE){var t,r,o;const{action:n,name:i}=null!==(t=null===(r=e.data)||void 0===r||null===(o=r.payload)||void 0===o?void 0:o.page)&&void 0!==t?t:{};"mount"===n&&"paymentCompletePage"===i&&(de.current=!0,rt&&Ce())}"show3ds"===e.data.status&&pe(void 0),console.log(e)}};(0,H.L)(!le&&se);const it=(0,s.mf)({showFinishScreen:fe,hasDataError:re,productsLoading:x,products:M,isPopupMode:C,payButtonPanelShown:oe});return{payButtonPanelShown:oe,showTransition:ne,isProductsLoading:x,canTryToBuyAgain:Re,showStub:it,hasDataError:re,showFinishScreen:fe,paymentMethodIdForWidget:le,paymentMethodId:ce,isRunningPaymentProcess:se,widgetError:he,hash:ge,onClickHandler:()=>{we.postMessage("USER_TAPPED_SUBSCRIPTION",{productId:Me}),!Ne&&Te?Je():(0,s.p0)({isExpiredToken:Ne,isAuthorized:Te,retpath:He?qe:void 0})},onAbortPayment:()=>{de.current&&(we.postMessage("SUCCESS_SCREEN_SHOWN",{offerType:Ee}),we.postMessage("SUCCESS_SCREEN_BUTTON_TAPPED",{offerType:Ee}),rt&&we.postMessage("CLOSE_STORIES",null)),ie(!1),et(),ce&&!le&&pe(ce),ot()},closeSuccessScreen:()=>{me(!1),et(),Ie(),(0,s.RE)()},selectCardClickHandler:e=>{var t,r,o,n;null==e||e.stopPropagation(),se||(pe(void 0),te({eventName:c.B$.Clicked,buttonProps:{productId:Me},products:M,offersMetrics:{offersBatchId:(null===(t=M[0])||void 0===t?void 0:t.offersBatchId)||"",offersPositionIds:(null===(r=M[0])||void 0===r?void 0:r.offersPositionIds)||[],currentOfferPositionId:(null===(o=M[0])||void 0===o?void 0:o.currentOfferPositionId)||"",eventSessionId:(null===(n=M[0])||void 0===n?void 0:n.eventSessionId)||""},extraData:q(q({},Xe),{},{offer_type:null==Ee?void 0:Ee.toLowet,callbacks:nt,isPayButtonInfoLoading:Be,buttonText:Le,isOneClickPayment:ke}}},72458:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});let o=function(e){return e.Default="default",e.Annihilation="annihilation",e}({})},84779:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>I,qm:()=>D,Gf:()=>T,B8:()=>j,ix:()=>C,H:()=>i,Kz:()=>n,QV:()=>x,To:()=>b,vI:()=>m,RE:()=>N,p0:()=>c,mf:()=>g});r(91181);var o=r(44079);const n=e=>{let{event:t,value:r="",isPopup:n,purchaseType:i}=e;const s=n?`popup_${r}`:r;o.S.logEventString(t,s,{additional:{purchaseType:i}})},i=e=>{let{event:t,value:r,isPopup:n,purchaseType:i,error:s,errorMessage:a}=e;const c=n?`popup_${r}`:r;o.S.logError({message:`${t} ${c}`,additional:{purchaseType:i,error:s,errorMessage:a}})};var s=r(41062),a=r(84581);const c=e=>{let{isExpiredToken:t,isAuthorized:r,retpath:o}=e;const n=null!=o?o:j(location.href),i=(0,a.U)();t?i.postMessage("NEED_AUTHORIZATION",{reason:s.GY.EXPIRED,callbackUrl:n}):r||i.postMessage("NEED_AUTHORIZATION",{reason:s.GY.AUTHORIZATION_ACTION,callbackUrl:n})};var u=r(78515);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=(e,t)=>{const r=(0,a.U)(),o=t.isPopupMode,{purchaseType:s,status:c,errorType:l,errorMessage:d}=e.payload,f={error:l,errorMessage:d,event:"Native_trust start_purchase",isPopup:o,purchaseType:s,value:c};if(c===u.ct.success){n(f);const e=o=>{((e,t)=>{const{purchaseType:r,status:o,errorType:s,errorMessage:a}=e.payload,{analyticsContext:c,metricsDetails:l,metricsExtraData:d,popup:f,shortcut:m,isPopupMode:h,setIsRunningNativePaymentProcess:v,setPaymentError:y,onPaymentFinished:b}=t,g={error:s,errorMessage:a,event:"Native_trust finish_purchase",isPopup:h,purchaseType:r,value:o};if(null==v||v(!1),o===u.ct.failure||s)return null==y||y(s),x({eventName:I.Failed,analyticsContext:c,metricsDetails:p(p(p({},l),d),{},{error:s}),popup:f,shortcut:m}),void i(g);n(g),o!==u.ct.cancel?(x({eventName:I.Success,analyticsContext:c,metricsDetails:p(p({},l),d),popup:f,shortcut:m}),null==b||b()):x({eventName:I.Cancelled,analyticsContext:c,metricsDetails:p(p({},l),d),popup:f,shortcut:m})})(o,t),r.unsubscribeByType("PURCHASE_PRODUCT_RESULT",e)};r.subscribeByType("PURCHASE_PRODUCT_RESULT",e)}else t.setIsRunningNativePaymentProcess&&t.setIsRunningNativePaymentProcess(!1),c===u.ct.cancel?n(f):i(f),x({eventName:c===u.ct.cancel?I.Cancelled:I.Failed,antext:t.analyticsContext,metricsDetails:p(p(p({},t.metricsDetails),t.metricsExtraData),{},{error:l}),popup:t.popup,shortcut:t.shortcut})},m=e=>{(0,a.U)().subscribeByType("PURCHASE_PRODUCT_RESPONSE",(t=>f(t,e)))};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const b=e=>{(0,a.U)().subscribeByType("PURCHASE_CHOSE_CARD_RESPONSE",(t=>((e,t)=>{const{isPopupMode:r,analyticsContext:o,metricsDetails:s,popup:a,shortcut:c,hashOrderId:l,products:p,setIsRunningNativePaymentProcess:d}=t,f=null==p?void 0:p[0],h=null==f?void 0:f.id,{purchaseType:y,status:b,errorType:g,errorMessage:P}=e.payload,_={error:g,errorMessage:P,event:"Native_trust choose_payment_card",isPopup:r,purchaseType:y,value:b},O={analyticsContext:o,metricsDetails:s,popup:a,shortcut:c,hash:l,buttonText:null==f?void 0:f.buttonText,offerText:null==f?void 0:f.buttonText,productId:h};return b===u.ct.success?(n(_),void m(t)):(null==d||d(!1),b===u.ct.cancel?(n(_),x(v(v({},O),{},{eventName:D.Cancelled})),void x(v(v({},O),{},{eventName:I.Cancelled}))):(i(_),x(v(v({},O),{},{eventName:D.Failed})),void x(v(v({},O),{},{eventName:I.Failed}))))})(t,e))),e.setIsRunningNativePaymentProcess&&e.setIsRunningNativePaymentProcess(!0)},g=e=>{let{showFinishScreen:t,hasDataError:r,productsLoading:o,products:n,isPopupMode:i,payButtonPanelShown:s}=e;return Boolean(!t&&!r&&!o&&n.length>0&&s&&!i)};var P=r(44357),_=r(58839),O=r(18827);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Nume,=2e3,N=>e!=="BuySubscription.Failed",e.Success="BuySubscription.Success",e}({}),D=function(e){return e.Cancelled="BuySubscription.ChoosePaymentMethods.Cancelled",e.Failed="BuySubscription.ChoosePaymentMethods.Failed",e}({});const x=e=>{var t;let{analyticsContext:r,metricsDetails:o,popup:n,shortcut:i,eventName:s,hash:a,buttonText:c,offerText:u,productId:l}=e;O.Z.send([E(E({},r),{},{event_name:s,event_value:{error:null==o?void 0:o.error,error_code:null==o?void 0:o.error_code,error_text:null==o?void 0:o.error_text,button_type:null==o?void 0:o.button_type,purchase_type:null==o?void 0:o.purchase_type,hash_order_id:a,product_id:l,from_section_name:null==o?void 0:o.section_name,popup_id:null==n?void 0:n.id,popup_title:null==n?void 0:n.title,from_shortcut_id:i.id,from_shortcut_name:i.name,section_id:o.section_id,section_name:o.section_name,section_type:o.section_type,section_position:o.sectionPosition+1,from_section_attribution_service_name:o.section_attribution_service_name,shortcut_id:i.id,shortcut_name:i.name,from_shortcut_attribution_service_name:i.serviceName,button_text:c,offer_text:u,offer_type:null==o||null===(t=o.offer_type)||void 0=);function s(e,t,r){return(e-t)/(r-t)}function a(e,t,r){return(r-t)*e+t}function c(e,t){const r=t.x-e.x,o=t.y-e.y;return Math.sqrt(r*r+o*o)}function u(e,t,r,o){const n=rl(e,t,r){return e>=Math.min(t,r)&&e<=Math.max(t,r)}function p(e,t,r,o){return Math.max(e,t)>=Math.min(r,o)&&Math.min(e,t)<=Math.max(r,o)}const d={norm:s,lerp:a,map:function(e,t,r,o,n){return a(s(e,t,r),o,n)},clamp:function(e,t,r){return Math.min(Math.max(e,Math.min(t,r)),Math.max(t,r))},distance:c,distanceXy:u,circleCollision:function(e,t){return c(e,t)<=e.radius+t.radius},circlePointCollision:function(e,t,r){return u(e,t,r.x,r.y)<r.radius},inRange:l,pointInRect:function(e,t,r){return l(e,r.x,r.x+r.width)&&l(t,r,rectIntersex,t.x+t.width)&&p(e.y,e.y+e.height,t.y,t.y+t.height)},degreesToRads:function(e){return e/(180*Math.PI)},radsToDegrees:function(e){return 180*e/Math.PI},randomRange:function(e,t){return e+Math.random()*(t-e)},randomInt:function(e,t){return Math.floor(e+Math.random()*(t-e+1))}},f=r(47678),m=r(70898),h=r(11510),v=r(83262);let y=function(e){return e.star="star",e.home="home",e.circle="circle",e.tree="tree",e.default="default",e}({});class b{constructor(e,t,r,o){this.x=void 0,this.y=void 0,this.vx=void 0,this.vy=void 0,this.w=void 0,this.h=void 0,this.angle=void 0,this.anglespin=void 0,this.rotateY=void 0,this.color=void 0,this.particleType=void 0,this.context=void 0,this.config=void 0,this.source=void 0,this.x=e,this.y=t,this.vx=d.randomRange(-4,4),this.vy=d.randomRange(-10,-0),this.w=o.particleW||d.randomRange(5,7),this.h=o.particleH||d.randomRange(5,15),this.angle=o.blockTwist?0:d.degreesToRads(d.randomRange(0,360)),this.anglespin=o.blockTwist?0:d.randomRange(-.2,.2),this.color=o.colors[Math.floor(Math.random()*o.colors.length)],this.particleType=o.particleTypes?o.particleTypes[Math.floor(Math.random()*o.particleTypes.length)]:y.default,this.rotateY=d.randomRange(0,1),this.source={[y.star]:this.getImageFromSource(h),[y.tree]:this.getImageFromSource(f),[y.circle]:this.getImageFromSource(m),[y.home]:this.getImageFromSource(v),[y.default]:null},this.config=o,this.context=r}update(){this.x+=this.vx,this.y+=this.vy,this.vy+=this.config.gravity,this.vx+=this.config.wind,this.vx*=this.config.friction,this.vy*=this.config.friction,this.rotateY<1?this.rotateY+=.1:this.rotateY=-1,this.angle+=this.anglespin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=this.config.opacity,this.context.lineCap="round",type];e?this.context.drawImage(e,10,10,20,20):this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h),this.context.closePath(),this.context.restore()}getImageFromSource(e){const t=new Image;return t.src=e,t}}class g{constructor(e,t,r,o,n){this.x=void 0,this.y=void 0,this.w=void 0,this.h=void 0,this.num=void 0,this.particles=void 0,this.particlesGenerated=void 0,thishis.canvas=void 0,this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this.num=t,this.particles=[],this.particlesGenerated=0,this.context=r,this.config=o,this.canvas=){this.particles.splice(e,1)}getParticle(){const e=d.randomRange(this.x,this.w+this.x),t=d.randomRange(this.y,this.h+this.y);return new b(e,t,this.context,this.config)}start(){this.run=!0}stop(){this.run=!1}animate(){if(!this.run)return!1;const e=this.particles.length,t=this.config.recycle?e:this.particlesGenerated;return t<this.num&&(this.particles.push(this.getParticle()),this.particlesGenerated+=1),this.particles.forEach(((e,r)=>{e.update(),(e.y>this.canvas.height||e.y<-100||e.x>this.canvas.width+100||e.x<-100)&&(this.config.recycle&&t<=this.num?this.particles[r]=this.getParticle():this.removeParticleAt(r))})),e>0||t<this.num}}class P{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.numberOfPieces=300,this.friction=.99,this.wind=0,this.gravity=.1,this.opacity=1,this.recycle=!1,this.blockTwist=!1,this.particleW=0,this.particleH=0,this.particleTypes=[y.default],this.colors=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],this.confettiSource=void 0,this.run=void 0,this.particleGenerator=void 0,this.context=void 0,this.canvas=void 0,this.update=()=>{this.run&&(this.context.fillStyle="white",this.context.clearRect(0,0,this.canvas.width,this.canvas.height)),this.particleGenerator.animate()?requestAnimationFrame(this.update):this.stop()},this.numberOfPieces=t.numberOfPieces||this.numberOfPieces,this.friction=t.friction||this.friction,this.wind=t.wind||this.wind,this.gravity=t.gravity||this.gravity,this.colors=t.colors||this.colors,this.particleTypes=t.particleTypes||this.particleTypes,this.opacity=null!==t.opacity&&void 0!==t.opacity?t.opacity:this.opacity,this.recycle=t.recycle||this.recycle,this.particleW=t.particleW||this.particleW,this.particleH=t.particleH||this.particleH,this.blockTwist=t.blockTwist||this.blockTwist,this.confettiSource={x:0,y:0,w:e.width,h:0},this.canvas=e;const r=e.getContext("2d");if(null===r)throw new Error("canvas error");this.context=r,this.particleGenerator=new g(this.confettiSource,this.numberOfPieces,r,{colors:this.colors,particleTypes:this.particleTypes,gravity:this.gravity,wind:this.ecycle:this.recycle,particleW:this.particleW,particleH:this.particleH,blockTwist:this.blockTwist},e),this.run=!0,this.particleGenerator.start(),this.update()}stop(){this.run=!1,this.particleGenerator.stop()}}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must retur"string"===t?String:Number)(e)}eProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){return.1*e+180}class w extends o.PureComponent{constructor(){super(...arguments),this.anvas){const{confettiConfig:e={},width:t}=this.props;this.confetti=new P(this.canvas,O(O({},e),{},{numberOfPieces:e.numberOfPieces||E(t)}))}}componentWillUnmount(){null!==this.confetti&&this.conf){const{width:e,height:t,canvasWrapperClassName:r}=this.props;return o.createElement("div",{className:i()("react-confetti-canvas-wrapper",r)},o.createElement("canvas",{width:e,height:t,ref:e=>{this.canvas=e},style:{zIndex:2,position:"absolute",top:0,left:0,pointerEvents:"none"}}))}}},15430:(e,t,r)=>{"use strict";r.d(t,{C_:()=>h,Aw:()=>d});var o=r(67294),n=r(94184),i=r.n(n),s=r(56950),a=r(22313),c=r(65796),u=r(13607),l=r(70319);const p=e=>{let{title:t,info:r,type:n,mainButton:l,secondaryButton:p,onMainActionClick:d,onSecondaryActionClick:f,disabledNextButton:m,dataTestId:h,imageClassName:v,isLoading:y}=e;return y?o.createElement("div",{className:"status-screen__spinner"},o.createElement(s.Z,{progress:!0,size:"l",tone:"plus-blue"})):o.createElement(o.Fragment,null,o.createElement("div",{className:i()("status-screen__image",`status-screen__image_${n}`,v)}),o.createElement(c.Dx,{className:"status-screen__title",size:"4",align:"center"},o.createElement(u.o,null,t)),r&&o.createElement(c.uT,{className:"status-screen__info",size:"m",align:"center"},"string"==typeof r?o.createElement(u.o,null,r):r),Boolean(d)&&l&&o.createElement(a.z,{className:i()("status-screen__button",{"status-screen__button_with-reject-button":Boolean(f)&&p}),variant:"primary",size:"m",onClick:d,isDisabled:m,"data-test-id":`${h}_main-button`},o.createElement(u.o,null,l)),Boolean(f)&&p&&o.createElement(a.z,{className:"status-screen__button",variant:"secondary",size:"m",onClick:f,isDisabled:m,"data-test-id":`${h}_secondary-button`},o.createElement(u.o,null,p)))},d=e=>{const{withMargin:t,dataTestId:r}=e;return o.createElement(l._,{className:i()("status-screen",{"status-screen_with-margin":t}),"data-test-id":r},o.createElement(p,e))};var f=r(45611);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProper="%%text_to_highlight%%",c="%%plus_point_icon%%",u="%%plus_points%%",l="%%break%%",p="%%plus_icon_with_points%%",d="%%clock_icon%%",f="%%experience_icon%%",m="%%pulsating_dot%%",h="%%other_missions_count%%"},90586:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});var o=r(67294),n=r(58839);constalWindow:n.ZT},s=(0,o.createContext)(i)},49166:(e,t,r)=>{"use strict";r.d(t,{L:()=>n,s:()=>i});var o=r(67294);let n=function(e){return e.HOME="home",e.PULT="pult",e.STORY="story",e.POPUP="popup",e.NONE="",e}({});const i=(0,o.createContext)(n.NONE)},81369:(e,t,r)=>{"use strict";r.d(t,{r:()=>v});var o=r(67294);r(91181);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(25572),c=r(37703),u=r(8765),l=r(93056),p=r(68056);const d=e=>e.metrics.ids[e.metrics.ids.length-1];var f=r(29446);var m=r(42847),h=r(61327);const v=e=>{let{serviceTarget:t,features:r,shouldSkip:n=!1,ssr:s=!1}=e;const{eventSessionId:v}=(0,o.useContext)(p.w),y=(0,h.i)(m.D8),{offers:b,loading:g,error:P,refetch:_}=(0,a.d)({target:t,features:r,skip:n,ssr:s,context:{sendMetrics:!0},eventSessionId:y?v:void 0}),O=(0,o.useMemo)((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!Array.isArray(e)||null==e||!e.length||!t)return[];const r=[];for(let s=0;s<e.length;s++){var o,n;const a={optionOfferName:null===(o=e[s].optionOffer)||void 0===o?void 0:o.name,tariffOfferName:null===(n=e[s].tariffOffer)||void 0===n?void 0:n.name},c=e[s].optionOffer||e[s].tariffOffer;if(c&&(r.push(i(i({},c),{},{compositeName:a})),r.length>=t))break}return r}(b)),[b]);return(e=>{let{shouldSkip:t}=e;const{pwTools:r,eventSessionId:n,didSendFrontSessionStart:i}=(0,o.useContext)(p.w),{testIds:s,triggeredTestIds:a}=(0,f.j)(),m=(0,c.v9)(d),{service_name:h}=(0,l.eb)();(0,o.useEffect)((()=>{!t&&r&&n&&!i.current&&(i.current=!0,(0,u.Uy)({event:u.eL.START,pwTools:r,args:{session_id:n,service_channel:"plus",service:h,external_test_ids:null!=s?s:"",external_triggered_test_ids:null!=a?a:""},metricsCounterId:m}))}),[i,n,m,r,h,t,s,a])})({shouldSkip:n}),(e=>{let{target:t,products:r,shouldSkip:n}=e;const{pwTools:i,loadedBatchPositionIds:s}=(0,o.useContext)(p.w),{eventSessionId:a,offersBatchId:c,offersPositionIds:l}=r[0]||{};(0,o.useEffect)((()=>{!n&&i&&a&&c&&!s.has(c)&&(s.add(c),(0,u.Uy)({event:u.eL.LOAD,pwTools:i,args:{session_id:a,offers_batch_id:c||"",resulted_offer_position_ids:l||[],target:t}}))}),[a,s,c,l,i,n,t])})({shouldSkip:n,products:O,target:t}),{products:O,productsLoading:g,error:P,refetch:_}}},11746:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});var o=r(37703),n=r(82612),i=r(64413);const s=e=>{const t=e?(0,i.R)(e):"";return(0,o.v9)(n.wl.getTarget)||t||"plus-web"}},25572:(e,t,r)=>{"use strict";r.d(t,{d:()=>p});r(91181);var o=r(37703),n=r(66410),i=r(12532),s=r(82612),a=r(96973);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=e=>{const t=(0,o.v9)(s.wl.getLanguage),{loading:r,data:c,error:l,refetch:p}=(0,n.j)(u(u({},e),{},{variables:{offerRequest:{filter:{serviceOfferNames:e.serviceOfferNames,target:e.target,features:e.features,tariffOfferName:void 0},language:i.Do[t.toUpperCase()],eventReason:void 0,eventSessionId:e.eventSessionId}},displayName:"useCompositeOffers"})),d=!e.skip&&r;if(!c)return{offers:null,loading:d,error:l,refetcor:l,refetch:p}}},47658:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});var o=r(67294);const n=e=>{(0,o.useEffect)((()=>{if(e)retur primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=e=>{const t=(0,o.useContext)(n.$S),r=(0,i.Lm)(),{section_id:c,section_name:l,sections_group_index:p,config_id:d,config_name:f,section_attribution_service_name:m}=t,h=(0,o.useCallback)((e=>{var t,o;let{metaShortcut:n,offerText:h,offerType:v,payButtonProps:y,products:b,popupId:g,place:P}=e;const _=null==y?void 0:y.offersMetrics,O=null==y||null===(t=y.searchParams)||void 0===t||null===(o=t.add)||void 0===o?void 0:o.target;return{getPayButtonMetrics:e=>{const t={from_section_id:c,from_section_name:l,from_section_attribution_service_name:m,from_sections_group_position:p+1,is_one_click_payment:!1,offer_type:null==v?void 0:v.toLowerCase(),shortcut_id:null==n?void 0:n.id,shortcut_name:null==n?void 0:n.name,from_shortcut_attribution_service_name:null==n?void 0:n.serviceName,popup_id:g,config_id:d,config_name:f,target:O};return u(e?{offer_text:""}:{offer_text:h},t)},sendMetricsHandler:()=>{r({eventName:i.KA.Clicked,buttonProps:y,products:b,offersMetrics:_,place:P,extraData:{offer_type:null==v?void 0:v.toLowerCase(),shortcut_name:null==n?void 0:n.name,shortcut_id:null==n?void 0:n.id,from_shortcut_attribution_service_name:null==n?void 0:n.serviceName,popup_id:g,config_id:d,config_name:f,target:O}});const{message:e}=(0,s.Vj)(null==y?void 0:y.locationSearch),t=e?`message=${e}`:null==y?void 0:y.plusHost;a.Z.send([{[i.KA.ClickedUIParams]:{[t]:{[P||"unknownPlace"]:{[l]:{popupId:g}}}}}])}}}),[c,l,m,p,d,f,r]);return e.map(h)}},86707:(e,t,r)=>{"use strict";r.d(t,{_i:()=>d,Fk:()=>p,cP:()=>I,yP:()=>l,vA:()=>u,qb:()=>x,af:()=>k});r(62773);var o=r(37703),n=r(12532),i=r(11159),s=r(93056),a=r(85864),c=r(42847);const u=e=>{var t,r,u;const l=(0,s.eb)(),p=(0,s.yU)()===c.H.SDK,d=(0,o.v9)(a.vh);return p&&(d||!(null!==(t=l.available_features)&&void 0!==t&&t.includes(i.iG.ONLY_AUTHORIZED_PURCHASE)))&&(null===(r=l.available_features)||void 0===r?void 0:r.includes(i.iG.PAY_BUTTON_CONFIG))&&(null===(u=l.available_features)||void 0===u?void 0:u.includes(i.iG.NATIVE_PURCHASE))&&(null==e?void 0:e.subscriptionWidgetType)===n.vg.nativeWidget&&(null==e?void 0:e.subscriptionPaymentMethod)===n.f_.trust},l=(e,t)=>{var r;const c=u(e),l=(0,o.v9)(a.vh),p=(0,s.eb)();return!(!l&&null!==(r=p.available_features)&&void 0!==r&&r.includes(i.iG.ONLY_AUTHORIZED_PURCHASE))&&Boolean((null==e?void 0:e.subscriptionButtonType)===n.Qm.native&&(c||t))},p=e=>{var t;const r=(0,s.eb)(),c=(0,o.v9)(a.vh),u=(null==e?void 0:e.subscriptionWidgetType)===n.vg.host,l=c&&(null===(t=r.available_features)||void 0===t?void 0:t.includes(i.iG.HOST_PURCHASE)),p=u&&l&&r.host_purchase_available;return{enabled:u,canRun:l,shouldRun:Boolean(p),availableForUser:r.host_purchase_available,shouldHidePayButton:p}},d=()=>{var e,t;const r=(0,s.eb)(),n=(0,o.v9)(a.vh)&&(r.platform===i.NN.ANDROID||(null===(e=r.available_features)||void 0===e?void 0:e.includes(i.iG.NATIVE_BUY))),c=n&&r.native_buy_available&&!(null!==(t=r.available_features)&&void 0!==t&&t.includes(i.iG.PAY_BUTTON_CONFIG)),u=c&&r.native_buy_shown;return{canRun:n,shouldRun:Boolean(c),availableForUser:r.native_buy_available,shouldHidePayButton:u}};var f=r(67294),m=r(5977),h=r(82612),v=r(71749),y=r(56818),b=r(22936),g=r(78718),P=r.n(g),_=r(8575),O=r(74964),S=r(48757),E=r(95005);var w=r(55071),T=r(34054);const N=["offersBatchId","offersPositionIds","currentOfferPositionId","eventSessionId"];class j{constructor(e,t){let{translator:r,isUserAuthorized:o=!1,passportHost:n,plusHost:i,locationSearch:s,language:a,searchParams:c,homeUrlParameters:u="",allowDwh:l,allowOneClickPayment:p}=t;this.product=void 0,this.translator=void 0,this.isUserAuthorized=void 0,this.passportHost=void 0,this.plusHost=void 0,this.locationSearch=void 0,this.language=void 0,this.searchParams=void 0,this.homeUrlParameters=void 0,this.allowDwh=void 0,this.allowOneClickPayment=void 0,this.product=e,this.translator=r,this.isUserAuthorized=o,this.passportHost=n,this.plusHost=i,this.locationSearch=s,this.language=a,this.searchParams=c,this.homeUrlParameters=u,this.allowDwh=l,this.allowOneClickPayment=p}get search(){let e="";var t;"undefined"!=typeof window&&location.pathname&&(0,w.T)(location.pathname)&&Object.assign(null!==(t=this.searchParams.add)&&void 0!==t?t:{},{retpath:location.href});if(this.isUserAuthorized&&this.allowOneClickPayment){var r,o;if(this.optionOfferName)Object.assign(null!==(r=this.searchParams.add)&&void 0!==r?r:{},{optionOfferName:this.optionOfferName});if(this.tariffOfferName)Object.assign(null!==(o=this.searchParams.add)&&void 0!==o?o:{},{tariffOfferName:this.tariffOfferName})}if(this.allowDwh){const e=[T.N.eventSessionId,T.N.currentOfferPositionId,T.N.offersBatchId];for(const t of e){const e=this.product;var n;if(e[t])Object.assign(null!==(n=this.searchParams.add)&&void 0!==n?n:{},{ i;if(!this.isUserAuthorized)Object.assign(null!==(i=this.searchParams.add)&&void 0!==i?i:{},{buyAfterAuth:"true"})}if(e=(0,E.r8)(this.locationSearch,this.searchParams),this.homeUrlParameters&&(e=>"?"===e[0])(this.homeUrlParameters)){const t=this.homeUrlParameters.slice(1);e=e?`${e}&${t}`:t}return e}get plusUrl(){return _.format({hostname:this.plusHost,pathname:S.ZO.GET_PLUS_PAGE,protocol:"https",search:this.search})}get offersMetrics(){return P()(this.product,N)}get productId(){return this.product.id||""}get tariffOfferName(){var e;return this.product.hasOwnProperty("compositeName")?null===(e=this.product.compositeName)||voe;return this.product.hasOwnProperty("compositeName")?null===(e=this.product.compositeName)||void 0===e?void 0:e.?this.product.offerType:""}get buttonTitle(){return(0,O.bu)(this.product.buttonText||"",!1)||this.translator("common.showcase.button.error")}get buttonSubtitle(){return this.product.buttonAdditionalText||""}get buttonUrl(){return this.isUserAuthorized?this.plusUrl:_.format({hostname:this.passportHost,pathname:"/auth",protocol:"https",query:{origin:this.passportHost.includes("yango")?"yango_plus":"plus",retpath:this.plusUrl,lang:this.language}})}}var C=r(61327);const I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const{isAuthorized:n,passportHost:i,plusHost:s,locationSearch:a,language:u,translateFn:l,allowDwh:p,allowOneClickPayment:d}={isAuthorized:(0,o.v9)(h.wl.getIsAuthorized),passportHost:(0,o.v9)(h.wl.getPassportHost),plusHost:(0,o.v9)(v.v),locationSearch:(0,m.TH)().search,language:(0,y.AD)(),translateFn:(0,b.F)(),allowDwh:(0,C.i)(c.D8),allowOneClickPayment:(0,C.i)(c.Am)};return(0,f.useMemo)((()=>e.map((e=>new j(e,{translator:l,isUserAuthorized:n,passportHost:i,plusHost:s,locationSearch:a,language:u,searchParams:t,homeUrlParameters:r,allowDwh:p,allowOneClickPayment:d})))),[e,u,n,r,a,i,s,t,l,p,d])};var D=r(67477);const x=(e,t)=>{var r,c,f;const m=t||(null==e||null===(r=e.actions)||void 0===r?void 0:r[0]),h=(0,s.eb)(),v=d(),y=p(m),b=(0,o.v9)(a.vh),g=(0,D.N)(h,m),P=l(m,g),_=u(m);if(!e)return!1;const O=Boolean(null===(c=e.popups)||void 0===c?void 0:c[0]),S=null==m?void 0:m.subscriptionButtonType,E=null==m?void 0:m.subscriptionWidgetType,w=null==m?void 0:m.subscriptionPaymentMethod,T=S===n.Qm.web,N=S===n.Qm.native,j=E===n.vg.host,C=E===n.vg.nativeWidget,I=w===n.f_.inApp,x=j&&!v.shouldRun&&(!y.shouldRun||!(null!==(f=h.available_features)&&void 0!==f&&f.includes(i.iG.PAY_BUTTON_CONFIG)));return!(!b||I||!(x||N&&!_||C&&!P))||!(I&&!g||j||v.shouldRun||E===n.vg.nativeWidget&&!b||!b&&O)&&(T||E===n.vg.webWidget)};var A=r(32394);const k=()=>{const e=(0,o.v9)(A.hl);return(0,C.i)(c.Am)&&!e}},24650:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var o=r(67294),n=r(90586);const i=e=>{let{serviceTarget:t,features:r,productId:i,offersMetrics:s,offerType:a,shouldUseModalWindow:c,tariffOfferName:u,optionOfferName:l}=e;const{setTargetProductId:p,setShouldUseModalWindow:d}=(0,o.useContext)(n.K);(0,o.useEffect)((()=>{c&&t&&i&&s&&(d(c),p({target:t,features:r,productId:i,offerMetrics:s,offerType:a,tariffOfferName:u||"",optionOfferName:l||""}))}),[t,r,i,p,s,a,d,c,u,l])}},38853:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var o=r(5977),n=r(67294);function i(){const e=(0,o.k6)();return(0,n.useCallback)((t=>{const r=new URLSearchParams(location.search);for(const e of t)r.delete(e);e.replace({search:r.toString()})}),[e])}},11670:(e,t,r)=>{"use strict";r.d(t,{q:()=>l});var o=r(67294),n=r(37703),i=r(68056),s=r(63612),a=r(32394),c=r(82612);var u=r(8765);function l(e){let{eventSessionId:t,currentOfferPositionId:r,offersBatchId:l,tariffOfferName:p,optionOfferName:d,productId:f}=e;const m=(0,n.v9)(c.wl.getQuery),{pwTools:h,shownBatchPositionIds:v}=(0,o.useContext)(i.w),{from:y,page:b,url:g}=(0,s.W)(),P=(0,n.v9)(a.hl);(0,o.useEffect)((()=>{if(!h||!l||!P)return;var e,o;(o=m,!(!(e={productId:f,tariffOfferName:p,optionOfferName:d}).tariffOfferName&&!e.optionOfferName||e.tariffOfferName!==o.tariffOfferName||e.optionOfferName!==o.optionOfferName)||!(!e.productId||e.productId!==o.productId))||v.has(l)||((0,u.Uy)({pwTools:h,event:u.eL.SHOW,args:{session_id:t||"",offers_batch_id:l||"",offers_position_id:r||"",from:y,page:b,url:g,place:"paymentPopup",position:0}}),v.add(l),(0,u.Uy)({pwTools:h,event:u.eL.CLICK,args:{session_id:t||"",offers_batch_id:l||"",offers_position_id:r||"",from:y,page:b,url:g,place:"paymentPopup"}}))}),[r,t,y,P,l,d,b,f,h,m,v,p,g])}},8335:(e,t,r)=>{;r.d(t,{d:()=>n});var o=r(67294);function n(){let e=argume>0&&void 0!==arguments[0]&&arguments[0];const[t,r]=(0,o.useState)(e),n=(0,o.useCallback)((()=>{r(!0)}),[]),i=(0,o.useCallback)((()=>{r(!1)}),[]);return{visible:t,showModal:n,hideModal:i,toggleModal:()=>r(!t)}}},78712:(e,t,r)=>{"use strict";r.d(t,{P:()=>i});var o=r(58839);let n=!1;const i=e=>{var t;let{src:r,clientKey:i,regionId:s}=e;if(n||(0,o.yF)()||!r||!i||!s)return;const a=window.YandexTicketsDealer=[];a.push(["setDefaultClientKey",i]),a.push(["setDefaultRegionId",s]);const c="?arentNode)||void 0===t||t.insertBefore(u,l),n=!0}},61930:(e,t,r)=>{"use strict";r.d(t,{H:()=>o});let o=function(e){return e.Success="success",e.Error="error",e.Awaiting="awaiting",e.Loading="loading",e}({})},34645:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});r(91181);var o=r(67294),n=r(45611);function i(){return r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumell(e,r)&&(n[r]=e[r])}return n}const a=e=>{let{children:t}=e,r=s(e,["children"]);return o.createElement(n.u,i({modalPlusClassName:"modal-wrapper"},r),t)}},45611:(e,t,r)=>{"use strict";r.d(t,{u:()=>h,A:()=>o.A});var o=r(34645),n=r(67294),i=r(48547),s=r(94184),a=r.n(s),c=r(67891),u=r(65796),l=r(22313),p=r(13607),d=r(22936);r(62773);const f=(e,t)=>{const r=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(!e||!t)return;const{prev:o,next:n}=(e=>{const t=e.parentElement,r=document.createElement("div"),o=document.createElement("div");return r.tabIndex=0,o.tabIndex=0,null==t||t.append(o),null==t||t.prepend(r),{prev:r,next:o}})(t),i=[t,...t.querySelectorAll('a[href], button, [href], input:not(input[type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')],s=i[0],a=i[i.length-1];s.focus(),r.current=s;const c=e=>{const t=e.target;i.includes(t)?r.current=t:(s===r.current?a.focus((),r.current=documenner("focus",c,!0);const u=(e=>{const t=e.closest(".modal"),r=null==t?void d 0:r.children)||[]].filter((e=>e!==Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},m.apply(this,arguments)}const h=e=>{let{className:t,closeClassName:r,modalPlusClassName:o,modalPlusContentClassName:s,modalPlusContentWrapperClassName:h,onClose:v,children:y,visible:b=!1,title:g,isLoading:P,acceptButtonText:_,rejectButtonText:O,onAcceptButtonClick:S,onRejectButtonClick:E=v,dataTestId:w="",dataStyleId:T="",additionText:N,accessibilityProps:j={}}=e;const C=(0,d.F)(),I=(0,n.useRef)(null),D=(0,n.useRef)(null),x=Boolean(g),A=Boolean(_&&S),k=Boolean(O&&E),R=A||k,M=(0,n.useCallback)((e=>{P||(e&&e.stopPropagation(),v&&v())}),[P,v]);return(0,n.useEffect)((()=>{b?(0,c.disableBodyScroll)(;t&&t!==document.body;){if(t.getAttribute("body-scroll-lock-ignore"))return!0;t=t.parentElement}return!1}}):(0,c.enableBodyScroll)(I.current)}),[b]),(0,n.useEffect)((()=>()=>{(0,c.clearAllBodyScrollLocks)()}),[]),f(b,D.current),n.createElement(i.Z,{ref:I,cls:a()("modal-info",t),onOutsideClick:M,visible:b},n.createElement("div",m({ref:D,className:a()("modal-plus ",o),"data-test-id":w,"data-style-id":T,role:"dialog","aria-modal":"true",tabIndex:0},j),x?n.createElement("header",{className:"modal-plus__header"},n.createElement(u.Dx,{size:"4",elementType:"h3",className:"modal-plus__title"},n.createElement(p.o,null,g)),n.createElement("button",{type:"button",className:a()("modal-plus__close",r),disabled:P,onClick:M,"data-test-id":"modal_close","aria-label":C("common.close")})):null,n.createElement("div",{className:a()("modal-plus__content-wrapper",h)},n.createElement("div",{className:a()("modal-plus__content",s)},y),!x&&n.createElement("button",{type:"button",className:a()("modal-plus__close modal-plus__close_inner",r),disabled:P,onClick:M,"data-test-id":"modal_close","aria-label":C("common.close")})),R?n.createElement("div",{className:"modal-plus__buttons"},A?n.createElement(l.z,{className:"modal-plus__button",variant:"primary",size:"m",onClick:S,isLoading:P,"data-test-id":"modal_accept"},n.createElement(p.o,null,_)):null,k?n.createElement(l.z,{className:"modal-plus__button",variant:"secondary",size:"m",onClick:E,isDisabled:P,"data-test-id":"modal_reject"},n.createElement(p.o,null,O)):null):null,N?n.createElement(u.uT,{className:"modal-plus__addition",size:"s",elementType:"div",align:"center"},n.createElement(p.o,null,N)):null))}},13730:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var o=r(84581);const n=()=>{(0,o.U)().postMessage("WALLET_ACTION_ADD_FUNDS",null)}},21492:(e,t,r)=>{"use strict";r.d(t,{J:()=>o,n:()=>n});const o=e=>{if("extraPopupData"in e)return null==e?void 0:e.extraPopupData},n=(e,t)=>{var r;const o=Object.assign({},e);return o.popups=[Object.assign({},null===(r=e.popups)||void 0===r?void 0:r[0],{extraPopupData:t})],o}},66642:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});r(91181);var o=r(9733);const n=e=>{let{sectionName:t,background:r,mobileMaxSize:n}=e;if(!t||null==r||!r.imageUrl)return[];return(e=>{const t=Object.keys(e).map((e=>isNaN(Number(e))?e:Number(e)));return t.sort(((e,t)=>"default"===e?1:"default"===t?-1:e-t)),t.map(((r,o)=>{const n={src:e[r].imageUrlx1,srcSet:`${e[r].imageUrlx1} 1x, ${e[r].imageUrlx2} 2x, ${e[r].imageUrlx3} 3x`},i=0===o?null:t[o-1]+1,s=o===t.length-1?null:r;return i&&s?n.media=`(min-width: ${i}px) and (max-width: ${s}px)`:i?n.media=`(min-width: ${i}px)`:s&&(n.media=`(max-width: ${s}px)`),n}))})((0,o.y)({imageUrl:r.imageUrl,sectionName:t,mobileImageUrl:null==r?void 0:r.mobileImageUrl,mobileMaxSize:n}))}},64413:(e,t,r)=>{"use strict";r.d(t,{R:()=>o});const o=e=>(null==e?void 0:e.subscriptionProductsTarget)||(null==e?void 0:e.subscriptionProductTarget)||""},48606:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var o=r(57448);const n=e=>{let{offerType:t,isFloatingButton:r,title:n,metrics:i,subtitle:s}=e;if(!i)return;const a={"max-age":600};i.from_section_name&&(0,o.d)("payment-section",i.from_section_name,a),s&&(0,o.d)("offer-text",s,a),t&&(0,o.d)("payment-offer-type",t,a),(0,o.d)("button-text",n,a),(0,o.d)("is-floating-button",r,a),(0,o.d)("shortcut-name",i.shortcut_name,a),(0,o.d)("section-id",i.from_section_id,a),(0,o.d)("section-position",i.from_sections_group_position,a),(0,o.d)("shortcut-id",i.shortcut_id,a),(0,o.d)("is-plus-home",!0,a),(0,o.d)("section-attribution-service-name",i.from_section_attribution_service_name||"",a),(0,o.d)("shortcut-attribution-service-name",i.from_shortcut_attribution_service_name||"",a)}},67477:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});r(62773);var o=r(11159),n=r(12532);const i=(e,t)=>{var r,i;return Boolean((null===(r=e.available_features)||void 0===r?void 0:r.includes(o.iG.INAPP_PURCHASE))&&(null===(i=e.available_features)||void 0===i?void 0:i.includes(o.iG.PAY_BUTTON_CONFIG))&&(null==t?void 0:t.subscriptionPaymentMethod)===n.f_.inApp&&(null==t?void 0:t.subscriptionWidgetType)===n.vg.nativeWidget)}},33726:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});const o=e=>{let{src:t,srcSet:r,sizes:o,media:n,onLoad:i}=e;if("undefined"==typeof window||n&&!window.matchMedia(n).matches)return;const s=new Image;o&&(s.sizes=o),r&&(s.srcset=r),i&&(s.onload=i),s.src=t}},52713:(e,t,r)=>{"use strict";r.d(t=>i});var o=r(13817),n=r(95005);const i=e=>(0,o.u)(e,["theme","lang"].reduce(((e,t)=>{const r=(0,n.jS)(location.href,t);return r&&e.push({key:t,value:r}),e}),[]))},38001:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});r(91181);var o=r(58839);function n(e){if((0,o.yF)())return new URLSearchParams;const t=new URLSearchParams(location.search);for(const[r,o]of Object.entries(e))o&&t.append(r,String(o));return t}},55612:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"prolongation"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prolongation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startOnRedAlert"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:143}};t.loc.source={body:"mutation prolongation {\n    prolongation {\n        startOnRedAlert {\n            errorCode\n            id\n            status\n        }\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var o=e.type;"NamedType"===o.kind&&t.add(o.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var o={};function n(e,t){for(var r=0;r<e.definitions.length;r++){var o=e.definitions[r];if(o.name&&o.name.value==t)return o}}t.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),o[e.name.value]=t}})),e.exports=t,e.exports.prolongation=function(e,t){var r={kind:e.kind,definitions:[n(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var i=o[t]||new Set,s=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var o=n(e,t);o&&r.definitions.push(o)})),r}(t,"prolongation")},78698:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"prolongationStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"prolongationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prolongation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"prolongationId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:145}};t.loc.source={body:"queselectiofunction(e){r(e,t)})),o={};function n(e,t){for(var r=0;r<e.definidd(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var o=n(e,t);o&&r.definitions.push(o)})),r}(t,"prolongationStatus")},70898:(e,t,:(e,t,r)=>{"use strict";e.exports=r.p+"9896437aec6757e5bb6b.png"},11510:(e,t,r)=>{"use strict";e.exports=r.p+"68801ad0e19a37270f42.png"},47678:(e,t,r)=>{"use strict";e.exports=r.p+"5bacd9b2238fec98d733.png"}}]);
//# sourceMappingURL=https://plus-sourcemap.s3.mds.yandex.net/landing/2024Q1/build/modern/static/7514.client.15f854a6.js.map