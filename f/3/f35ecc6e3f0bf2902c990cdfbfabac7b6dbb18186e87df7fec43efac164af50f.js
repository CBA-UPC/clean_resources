"use strict";(self.webpackChunkWPS_Drive=self.webpackChunkWPS_Drive||[]).push([[1696],{51696:function(t,e,n){n.r(e);var r=n(37311),o=n(49200),i=n(2406),c=n.n(i),u=n(47189),a=n(19731),s=n(82041),l=n(73224),p=n(52184);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b="group_position",y={1:"superadm",2:"admin",3:"member"},m=function(t){return{content:t.policy.position_label,source:t.utmSource,company_id:t.companyId,role:y[t.userRole],user_id:t.user.id,position:t.windowKey,policy_id:t.policy.policy_id,task_id:t.policy.task_id}},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.content,r=e.source,o=e.company_id,i=e.role,c=e.user_id,u=e.position,a=e.task_id,l=e.policy_id,p={operation:t,content:n,source:r,company_id:o,role:i,user_id:c,position:u,policy_id:l,task_id:a},f={click:d({},p),show:d({},p),close:d({},p),button_click:d(d({},p),{},{button_name:e.button_name}),button_show:d(d({},p),{},{button_name:e.button_name})};f[t]&&(0,s.Vl)(b,f[t])};function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-operationBanner",style:{backgroundImage:"url("+t.policy.group_first_pic+")"}},[n("div",{staticClass:"k-operationBanner-title"},[t._v("\n    "+t._s(t.policy.group_first_title)+"\n  ")]),t._v(" "),n("div",{staticClass:"k-operationBanner-close",on:{click:t.onCloseBanner}},[n("KIcon",{staticClass:"close",attrs:{type:"grow-close"}})],1),t._v(" "),n("div",{staticClass:"k-operationBanner-content"},[n("div",{staticClass:"k-operationBanner-content-text"},[t._v(t._s(t.policy.group_first_guide)),t.policy.group_first_more?n("a",{staticClass:"k-operationBanner-content-more",attrs:{href:t.policy.group_first_link,target:"_blank"},on:{click:t.onClickMoreDw}},[t._v(t._s(t.policy.group_first_more)+" >")]):t._e()])]),t._v(" "),t.buttons&&t.buttons.length?n("div",{staticClass:"k-operationBanner-button"},t._l(t.buttons,(function(e,r){return n("div",{key:r,staticClass:"k-operationBanner-button-item",on:{click:function(n){return t.onShowDialog(e)}}},[n("img",{attrs:{src:e.buttonIcon}}),t._v(" "),n("span",{staticClass:"button-text"},[t._v(t._s(e.buttonText))])])})),0):t._e()])},staticRenderFns:[],name:"KOperationBanner",components:{},props:{windowKey:{type:String,default:"group_first_top"},companyInfo:{type:Object,require:!0,default:function(){return{}}},userRole:{type:[String,Number],require:!0},user:{type:Object,default:function(){return{}},require:!0}},data:function(){return{policy:{},buttons:[]}},computed:{companyId:function(){var t,e;return null!==(t=null===(e=this.user)||void 0===e?void 0:e.companyid)&&void 0!==t?t:""},utmSource:function(){return(0,a.at)(window)}},watch:{buttons:{handler:function(t){var e=this;t&&t.length>0&&t.forEach((function(t){_("button_show",g(g({},m(e)),{},{button_name:t.buttonText}))}))},immediate:!0}},mounted:function(){this.reqPolicy()},methods:{reqPolicy:function(){var t=this;return(0,r.Z)(c().mark((function e(){var n,r,o,i,a,s,l,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.SPt)({window_key:t.windowKey,company_id:t.companyId,utm_medium:t.windowKey,utm_source:t.utmSource});case 2:if(s=e.sent,l=null!==(n=null==s||null===(r=s.data)||void 0===r?void 0:r.task_id)&&void 0!==n?n:""){e.next=6;break}return e.abrupt("return");case 6:if(f=(null==s||null===(o=s.data)||void 0===o?void 0:o.data)||[],t.policy=f.reduce((function(t,e){var n=e.key,r=e.value;return t[n]=r,t}),{policy_id:null!==(i=null==s||null===(a=s.data)||void 0===a?void 0:a.policy_id)&&void 0!==i?i:"",task_id:l}),(0,p.U)(t.windowKey,t.policy.close_time)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,t.checkAppExist();case 12:return t.buttons=e.sent,t.onShowBanner(t.policy),e.abrupt("return",t.policy);case 15:case"end":return e.stop()}}),e)})))()},checkAppExist:function(){var t=this;return(0,r.Z)(c().mark((function e(){var n,r,o,i,u,a,s,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=JSON.parse((null===(n=t.policy)||void 0===n?void 0:n.group_first_button)||"[]"),o=[],e.prev=2,i=v(r),e.prev=4,i.s();case 6:if((u=i.n()).done){e.next=17;break}if(a=u.value,s=!0,"openApp"!==a.type||!a.appId){e.next=14;break}return e.next=12,(0,l.B)(a.appId);case 12:p=e.sent,s=!!p;case 14:s&&o.push(a);case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:e.next=30;break;case 27:return e.prev=27,e.t1=e.catch(2),e.abrupt("return",[]);case 30:return e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,null,[[2,27],[4,19,22,25]])})))()},onShowDialog:function(t){this.$emit("showDialog",null!=t?t:{}),_("button_click",g(g({},m(this)),{},{button_name:t.buttonText}))},onShowBanner:function(t){this.$emit("show",t),_("show",g({},m(this))),t.group_first_more&&_("button_show",g(g({},m(this)),{},{button_name:t.group_first_more}))},onCloseBanner:function(){this.$emit("close",this.policy.position_label),_("close",g({},m(this))),(0,p.M)(this.windowKey)},onClickMoreDw:function(){_("button_click",g(g({},m(this)),{},{button_name:this.policy.group_first_more}))}},install:function(t){t.component(k.name,k)}};e.default=k},73224:function(t,e,n){n.d(e,{B:function(){return u}});var r=n(37311),o=n(2406),i=n.n(o),c=n(26786);function u(t){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.ZP)({method:"common.plugin.getAppInfo",params:{pluginName:e}});case 3:return n=t.sent,t.abrupt("return",n&&n.pluginName);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}},52184:function(t,e,n){n.d(e,{M:function(){return o},U:function(){return i}});var r=function(t){return"".concat(t,"_close_time")},o=function(t){var e=r(t);localStorage.setItem(e,(new Date).getTime())},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"3",n=r(t),o=Number(localStorage.getItem(n)),i=24*Number(e)*60*60*1e3;return!o||(new Date).getTime()>o+i}}}]);
regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==e.lock){t.next=2;break}return t.abrupt("return");case 2:return e.lock=!0,e.$dw.searchStart({searchKey:e.text,searchSource:e.source}),e.articleCount=0,n=(new Date).getTime(),t.next=8,e.$ufResourceService.search({keyword:e.text,page:0});case 8:if(r=t.sent,e.lock=!1,r&&"ok"===r["result"]){t.next=14;break}return e.status.current="error",e.$dw.feedbackNetworkErrorShow("搜索页面"),t.abrupt("return");case 14:if(r&&"ok"===r["result"]&&r["data"]&&r["data"]["service_center_resource"]&&(a=r["data"]["service_center_resource"]["resources"],o=r["data"]["service_center_resource"]["total"],e.articleCount=o,e.$refs["article-container"].list=a,e.$refs["article-container"].pageCount=o,e.$refs["article-container"].lastSearchText=e.text),0!==e.articleCount){t.next=20;break}return e.status.current="nothing",!1===e.$optionsInfo.pure_reading&&e.$dw.feedbackShow("搜索页","搜索空页面"),e.$dw.searchNothingShow(e.text),t.abrupt("return");case 20:e.articleCount>0&&e.$dw.searchResultShow({searchKey:e.text,searchSource:e.source,qaType:"文章",quantity:e.articleCount,spentTime:(new Date).getTime()-n}),e.status.current="article";case 22:case"end":return t.stop()}}),t)})))()},handleShowMore:function(e){this.$dw.searchMoreresultClick({searchKey:this.text,searchSource:this.source,qaType:"文章",location:"搜索结果列表"}),this.status.current=e},handleCateSelect:function(e){this.$dw.searchMoreresultClick({searchKey:this.text,searchSource:this.source,qaType:"文章",location:"筛选器"}),this.status.current=e},handleRetry:function(){this.$dw.retryClick("搜索页面"),this.status.current="loading"},handleSelectArticleItem:function(e,t){this.$dw.searchResultClick({searchKey:this.text,searchSource:this.source,qaType:"文章",qaIndex:t,qaArticle:e.post_title});var n="".concat("https://helpdesk.wps.cn","/detail?id=").concat(e.id,"&5=").concat(this.md5,"&module_title=搜索&art_index=").concat(t);window.open(n)}}},F=q,H=(n("37a0"),n("3b94"),Object(O["a"])(F,D,K,!1,null,"161d6c46",null)),L=H.exports,W={name:"app",components:{GetHeader:$["a"],UaDropdown:P,GetContent:T["a"],AsideBlock:S["a"],SearchBox:j["a"],SearchPage:L,Guide:U["a"]},data:function(){var e=Object(N["g"])(window.location.href),t=null!==e&&e["5"]?e["5"]:"",n=null!==e&&e["view"]?e["view"]:"content";return{view:n,searchTxt:"",searchSource:"",status:{isReady:!1,clearSearch:!1},isVip:!1,optionsInfo:{productName:"",productId:0,description:"",app:{type:"",name:"",version:"",dist:"",unitId:"",guid:""},ext:"",ext_url:"",cb_url:"",detail:"",blocks:{isShowProduct:!0,isShowEditor:!1,isShowInfo:!0}},md5:t,client:"pc",key:0,customUserAgent:"pc",isGuideShow:!0}},methods:{handleUserAgent:function(e){this.customUserAgent=e,this.$ufResourceService.init({deviceId:this.$sdk.hdid,clientDist:this.optionsInfo.app.dist,clientVersion:this.optionsInfo.app.version,platform:e,os:e}),this.client=e,this.key++;var t={pc:"pc",mac:"mac设备","android-phone":"安卓手机","android-pad":"安卓pad",iphone:"iOS手机",ipad:"iPad"};this.$dw.udeskFilter(t[e])},handleToIndex:function(){var e=this;this.status.clearSearch=!0,setTimeout((function(){e.status.clearSearch=!1}),100),this.view="content"},handleSearchTxtChange:function(e){if(this.searchTxt=e.text,this.searchSource=e.source,""===this.searchTxt)return this.view="content",!1;this.view="search-page"},initOptionsInfo:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getWpsService.getOptionsInfo(e.md5);case 2:n=t.sent,e.optionsInfo=n;case 4:case"end":return t.stop()}}),t)})))()},refreshContentView:function(){this.key++},jump2Detail:function(e){var t="".concat("https://helpdesk.wps.cn","/detail?id=").concat(e.id,"&5=").concat(this.md5,"&module_title=").concat(e.moduleTile,"&art_index=").concat(e.index);window.open(t)},handleGobalClick:function(e){this.$eventHub.$emit("gobal-click",e)},handleGuideShow:function(e){this.isGuideShow=e},initUserInfo:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$sdk.getPrivilegeInfo().catch((function(e){return null}));case 2:n=t.sent,e.isVip=(null===n||void 0===n?void 0:n.isVip)||!1,r=(null===n||void 0===n?void 0:n.userid)||"",e.$dw.init(r);case 6:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initUserInfo();case 2:return e.customUserAgent=Object(N["e"])(),e.client=e.customUserAgent,t.next=6,e.initOptionsInfo();case 6:e.$dw.setProductName(e.optionsInfo.productName),e.$dw.setProductId(e.optionsInfo.productId),e.$dw.setAppType(e.optionsInfo.app.type),e.$dw.setAppName(e.optionsInfo.app.name),e.$dw.setAppVersion(e.optionsInfo.app.version),e.$dw.setAppDist(e.optionsInfo.app.dist),e.$dw.setUnitId(e.optionsInfo.app.unitId),e.$dw.setDetail(e.optionsInfo.detail),e.$dw.setCrossTerminal(e.optionsInfo.cross_terminal),e.$dw.pure_reading=2,e.$ufResourceService.init({deviceId:e.$sdk.hdid,clientDist:e.optionsInfo.app.dist,clientVersion:e.optionsInfo.app.version,platform:e.client,os:e.client}),e.status.isReady=!0;case 18:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;Object(N["l"])()&&(this.$eventHub.$on("login",(function(){e.initUserInfo()})),this.$eventHub.$on("logout",(function(){e.isVip=!1})))}},z=W,B=(n("d57f"),n("ffee"),Object(O["a"])(z,x,_,!1,null,"47a1b63e",null)),J=B.exports,Q=n("4b5d"),X=n("241d"),Y=n("2b9b"),Z=n("e123"),ee=n("0efe"),te=n.n(ee),ne=n("99fc"),re=n("fbff"),ae=n("f269"),oe=n.n(ae),ie=n("ec9c");function se(){return ce.apply(this,arguments)}function ce(){return ce=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return y["default"].config.productionTip=!1,y["default"].prototype.$sdk=Q["a"],y["default"].prototype.$dw=X["a"],y["default"].prototype.$toast=re["a"],y["default"].prototype.$getWpsService=new Y["a"](Q["a"]),y["default"].prototype.$learningService=new Z["a"](Q["a"]),y["default"].prototype.$ufResourceService=new te.a(Q["a"]),y["default"].prototype.$qaService=new ne["a"](Q["a"]),t=Object(N["g"])(window.location.href),n=null!==t&&t["5"]?t["5"]:"",e.next=12,y["default"].prototype.$getWpsService.getOptionsInfo(n);case 12:r=e.sent,y["default"].prototype.$optionsInfo=r,o=[g.a,m.a,f.a,p.a,d.a,c.a,i.a,a.a],o.forEach((function(e){e.install?y["default"].use(e):y["default"].component(e.name,e)})),y["default"].prototype.$eventHub=new y["default"],y["default"].filter("sliceStr",(function(e,t){return/(^[1-9]\d*$)/.test(t)?e.slice(0,t):e})),y["default"].filter("num2han",oe.a),y["default"].filter("dayFormat",ie["a"]),document.oncontextmenu=function(e){e.returnValue=!1},new y["default"]({render:function(e){return e(J)}}).$mount("#app");case 22:case"end":return e.stop()}}),e)}))),ce.apply(this,arguments)}window.Vue=y["default"],se()},"7ad9":function(e,t,n){},a026:function(e,t,n){},d57f:function(e,t,n){"use strict";n("5736")},d913:function(e,t,n){"use strict";n("a026")},ffee:function(e,t,n){"use strict";n("7ad9")}});
// sourceMappingURL=service_center_fe/1.0.0/static/js/uindex.9eecce44.js.map