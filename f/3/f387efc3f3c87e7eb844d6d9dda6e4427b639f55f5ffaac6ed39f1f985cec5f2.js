"use strict";(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[7857],{63189:(e,s,t)=>{t.d(s,{Z:()=>u});var a=t(38241),r=t(35272),o=t(60655),n=t(55553),i=t(96832),l=t(56494),d=t(34853);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},p.apply(this,arguments)}const c=()=>(0,d.tZ)("div",{width:"1.6rem",children:(0,d.tZ)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,d.tZ)("path",{d:"M7.00065 0.333008C3.32065 0.333008 0.333984 3.31967 0.333984 6.99967C0.333984 10.6797 3.32065 13.6663 7.00065 13.6663C10.6807 13.6663 13.6673 10.6797 13.6673 6.99967C13.6673 3.31967 10.6807 0.333008 7.00065 0.333008ZM7.00065 7.66634C6.63398 7.66634 6.33398 7.36634 6.33398 6.99967V4.33301C6.33398 3.96634 6.63398 3.66634 7.00065 3.66634C7.36732 3.66634 7.66732 3.96634 7.66732 4.33301V6.99967C7.66732 7.36634 7.36732 7.66634 7.00065 7.66634ZM7.66732 9.66634C7.66732 10.0345 7.36884 10.333 7.00065 10.333C6.63246 10.333 6.33398 10.0345 6.33398 9.66634C6.33398 9.29815 6.63246 8.99967 7.00065 8.99967C7.36884 8.99967 7.66732 9.29815 7.66732 9.66634Z",fill:"#A82700"})})});class h extends i.Component{constructor(...e){super(...e),this.state={error:!1,value:this.props.value},this.onChange=e=>{const s=p({},e);this.props.onChange(s);const{value:t}=s.target;this.setState({value:t}),this.validate(t)&&this.props.onValidated&&this.props.onValidated(t,e)},this.onFocus=this.onBlur=e=>{const s=p({},e);this.props.onBlur(s);const t=this.state.value;this.setState({started:!0},(()=>{this.validate(t)&&this.props.onValidated&&this.props.onValidated(t,s)}))}}validate(e){let s=!1;return this.props.validateFn&&(this.state.started||this.props.persistError)&&(s=this.props.validateFn(e),this.setState((()=>({error:!s})))),s}UNSAFE_componentWillReceivePropsender(){const e=[""].concat(this.props.classes);return this.state.error&&e.push("error"),(0,d.BX)("section",{className:e.join(" "),css:(0,a.iv)({marginBottom:this.props.collapseBottomMargin?"0.4rem    ":"1.5rem"},"",""),children:[(0,d.tZ)("label",{css:this.props.labelStyles,htmlFor:this.props.name,children:this.props.title}),(0,d.tZ)("input",{"aria-labelledby":this.props.ariaLabeledBy,autoComplete:this.props.autocomplete,autoFocus:this.props.autoFocus,className:this.props.className,"data-test":this.props.dataTest,disabled:this.props.disabled,max:this.props.max,min:this.props.min,name:this.props.name,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,placeholder:this.props.placeholder,style:this.props.inputStyles,tabIndex:this.props.tabIndex,type:this.props.type||"text",value:this.state.value}),(0,d.BX)("div",{children:[(0,d.BX)(o.Z,{"aria-hidden":!0,"aria-labelledby":"spoken",visible:this.state.error&&!(0,l.fp)(this.props.errorMessage),children:[(0,d.tZ)(c,{}),this.props.errorMessage]}),this.props.ariaErrorMessage?(0,d.tZ)(n.O,{"aria-live":"assertive",id:"spoken",children:this.props.ariaErrorMessage}):null]})]})}}h.defaultProps={ariaLabeledBy:void 0,ariaErrorMessage:void 0,autocomplete:void 0,autoFocus:void 0,classes:[],collapseBottomMargin:!1,disabled:!1,errorMessage:"",inputStyles:{},labelStyles:{},max:void 0,min:void 0,name:void 0,onBlur:r.Z,onChange:r.Z,onValidated:void 0,persistError:!1,placeholder:"",startOnFocus:!1,tabIndex:void 0,title:"",type:"text",value:void 0};const u=h},60655:(e,s,t)=>{t.d(s,{Z:()=>a});const a=(0,t(46255).Z)("div",{target:"ezxqs5i0"})((({theme:e,visible:s=!1})=>({alignItems:"center",justifyContent:"flex-start",display:s?"flex":"none",flexDirection:"row",color:"#A82700",fontSize:e.fonts.size[12],lineHeight:e.fonts.lineHeight[16],margin:"0.4rem 0 0.4rem","& svg":{marginRight:"0.4rem"}})),"")},55553:(e,s,t)=>{t.d(s,{O:()=>o,Z:()=>n});var a=t(46255);const r=(0,a.Z)("p",{target:"e188ztcp1"})((({theme:e,visible:s=!1})=>({background:e.colors.black.primary,borderRadius:"0.3rem",color:e.colors.white.primary,display:"block",fontSize:"1.3rem",fontWeight:"bold",height:s?"initial":"0",lineHeight:"1.755rem",margin:s?`${e.dimensions.gutter} 0 1rem 0`:0,padding:s?"1.4rem 1rem":"0",position:"relative",textAlign:"center",transition:"all 0.2s",width:"100%"})),""),o=(0,a.Z)("p",{target:"e188ztcp0"})((,""),n=r},22738:(e,s,t)=>{t.r(s),t.d(s,{default:()=>F});var a=t(66480),r=t(38491),o=t(55553),n=t(61711),i=t(70515),l=t(63189),d=t(72798),p=t(72935),c=t(90758),h=t(83900),u=t(75628),m=t(11129),g=t(36599),v=t(81410),w=t(63992),b=t(71130),f=t(96832),y=t(34853);onst C=(e,s,t,a)=>{if(e)for(let r=0;r<e.length;r+=1){const{code:o}=e[r];switch(o){case 106:s((e=>Z({},e,{oldPass:a("Password doesn't match our records")})));break;case 122:s((e=>Z({},e,{newPassConf:a("Uh-oh passwords don't match")})));break;case 141:s((e=>Z({},e,{newPass:{text:a("Password shouldn't have common words or passwords"),spoken:a("Password shouldn't have common words or passwords")}})));break;case 142:s((e=>Z({},e,{newPass:{text:a("Your new password cannot be the same as your current password"),spoken:a("Your new password cannot be the same as your current password")}})));break;case 143:s((e=>Z({},e,{newPass:{text:a("Password can only have English letters, numbers, spaces, and special characters from: . ! ? - _ , ; : /  ( ) [ ] ~ @ # $ % ^ & * + = ' \" ` | { } < >"),spoken:a("Password can only have English letters, numbers, spaces, and special characters from: dot, exclamation point, question mark, dash, underscore, comma, semicolon, colon, forward slash, backslash, open parenthesis, close parenthesis, open bracket, close bracket, tilde, at sign, number sign, dollar sign, percent sign, caret, ampersand, asterisk, plus sign, equal sign, apostrophe, quotation mark, grave accent, vertical bar, open curly bracket, close curly bracket, less than sign, and greater than sign")}})));break;default:t(a("An unknown error occurred. Please try again later."))}}};var P={name:"akdqam",styles:"margin-top:1rem"},S={name:"eivff4",styles:"display:none"},k={name:"eivff4",styles:"display:none"},x={name:"1ugxkr5",styles:"display:block;margin-top:3rem"};const B=(0,h.Z)({pageName:"update_password"})((({onSuccess:e})=>{var s,t;const h=(0,c.Z)(),B=(0,b.useSelector)(u.h_),O=(0,b.useSelector)(m.v4),M=(0,b.useSelector)(m.MQ),_=(0,b.useSelector)(g.Ms),F=(0,b.useSelector)(u.X0),{passwordValidationResults:E,doPasswordChecks:A}=(0,p.ZP)(F.password),[U,j]=(0,f.useState)(null),[z,D]=(0,f.useState)({}),[L,V]=(0,f.useState)(""),[N,H]=(0,f.useState)(""),[X,I]=(0,f.useState)(""),T=e=>{const{name:s}=e.target;D((),j(null)},q=e=>({color:e.colors.gray.medium,display:"block",fontSize:"13px",marginBottom:"1rem"});return(0,y.BX)("div",{children:[(0,y.tZ)(i.Z,{css:e=>({fontSize:e.fonts.size.medium,justifyContent:"flex-start",margin:"0 0 1.6rem"}),children:h("Update Password")}),(0,y.tZ)(o.Z,{"data-test":"sign-up-error",visible:!!U,children:U?(0,r.Z)(U.toString()):""}),(0,y.BX)("form",{css:P,method:"POST",onSubmit:s=>{s.preventDefault(),j(null),(0,d.Z)((0,w.HS)({ampUrl:B,newPw:L,oldPw:X,profileId:O,sessionId:M})).then((({data:s})=>{s.errors&&C(s.errors,D,j,h),a.Z.trackPassword({action:"update_password"}),e()}),(({response:{data:{errors:e=[]}}})=>{C(e,D,j,h)}))},children:[(0,y.tZ)("input",{css:S,name:"fakeusernameremembered",type:"text"}),(0,y.tZ)("input",{css:k,name:"fakepasswordremembered",type:"password"}),(0,y.tZ)("input",{autoComplete:"username",type:"hidden",value:_}),(0,y.tZ)(l.Z,{autoComplete:"current-password",dataTest:"settings-email-oldpassword",errorMessage:null==z?void 0:z.oldPass,labelStyles:q,name:"oldPass",onBlur:T,onChange:title:h("Old Password"),type:"password",validateFn:()=>!1,value:X}),(0,y.tZ)(l.Z,{ariaErrorMessage:null==z||null==(s=z.newPass)?void 0:s.spoken,ariaLabeledBy:v.UP,autoComplete:"new-password",collapseBottomMargin:!0,dataTest:"settings-email-newpassword",errorMessage:null==z||null==(t=z.newPass)?void 0:t.text,labelStyles:q,name:"newPass",onBlur:T,onChange:e=>{const{value:s}=e.target;V(s),A(s),D((e=>{const t=Z({},e);return s!==N?t.newPassConf=h("Uh-oh passwords don't match"):delete t.newPassConf,t}))},title:h("New Password"),type:"password",validateFn:()=>!1,value:L}),(0,y.tZ)(v.EH,{passwordValidationResults:E,translate:h}),(0,y.tZ)(l.Z,{autoComplete:"new-password",dataTest:"settings-email-confirmnewpassword",errorMessage:null==z?void 0:z.newPassConf,labelStyles:q,name:"newPassConf",onBlur:T,onChange:e=>{const{value:s}=e.target;H(s),D((e=>{const t=Z({},e);return s!==L?t.newPassConf=h("Uh-oh passwords don't match"):delete t.newPassConf,t}))},startOnFocus:!0,title:h("Confirm Password"),type:"password",validateFn:value:N}),(0,y.tZ)("div",{css:x,children:(0,y.tZ)(n.Z,{"aria-label":h("Update"),"data-test":"change-password-confirm-button",disabled:!!(Object.keys(z).length>0||U||""===X||""===L||""===N||L!==N),isBlock:!0,marginBottom:!0,styleType:"cta",type:"submit",children:h("Update")})})]})]})}));var O=t(29929),M=t(24586),_={name:"gr1hoz",styles:"max-width:290px;width:unset;text-align:left"};const F=({modal:e})=>{const s=(0,b.useDispatch)();return(0,y.tZ)(e,{children:(0,y.tZ)(e.Container,{children:(0,y.BX)(e.Content,{css:_,children:[(0,y.tZ)(B,{onSuccess:),(0,y.tZ)(e.Close,{})]})})})}},38491:(e,s,t)=>{function a(e){return`${e[0].toUpperCase()}${e.slice(1)}`}t.d(s,{Z:)}}]);
//# sourceMappingURL=components-ChangePasswordModal.www.js.map