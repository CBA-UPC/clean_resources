/*! For license information please see nr-spa-1.242.0.min.js.LICENSE.txt */
"use strict";(self["webpackChunk:NRBA-1.242.0.PROD"]=self["webpackChunk:NRBA-1.242.0.PROD"]||[]).push([[111],{9139:(e,t,i)=>{let s;i.d(t,{m:()=>r});const n=new Promise((e=>{s=e})),r=Object.freeze({onReplayReady:s,sessionReplayInitialized:n})},1199:(e,t,i)=>{i.d(t,{R:()=>r,z:()=>n});var s=[];function n(e){if(0===s.length)return!0;if(void 0===e.hostname)return!1;for(var t=0;t<s.length;t++){var i=s[t];if("*"===i.hostname)return!1;if(a(i.hostname,e.hostname)&&o(i.pathname,e.pathname))return!1}return!0}function r(e){if(s=[],e&&e.length)for(var t=0;t<e.length;t++){let i=e[t];if(!i)continue;0===i.indexOf("http://")?i=i.substring(7):0===i.indexOf("https://")&&(i=i.substring(8));const n=i.indexOf("/");let r,a;n>0?(r=i.substring(0,n),a=i.substring(n)):(r=i,a="");let[o]=r.split(":");s.push({hostname:o,pathname:a})}}function a(e,t){return!(e.length>t.length)&&t.indexOf(e)===t.length-e.length}function o(e,t){return 0===e.indexOf("/")&&(e=e.substring(1)),0===t.indexOf("/")&&(t=t.substring(1)),""===e||e===t}},2573:(e,t,i)=>{i.d(t,{o:()=>c});var s=i(4247),n=i(1117),r=i(6291),a=i(8310),o=i(3860);class c extends n.w{constructor(e,t,i){super(i),this.endpoint=e,this.opts=t||{},this.started=!1,this.timeoutHandle=null,this.aborted=!1,this.harvest=new r.M(this.sharedContext),(0,a.L)(this.unload.bind(this)),this.sharedContext?.ee.on(o.wO.RESET,(()=>this.runHarvest({forceNoRetry:!0})))}unload(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}startTimer(e,t){this.interval=e,this.started=!0,this.scheduleHarvest(null!=t?t:this.interval)}stopTimer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=e,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(e,t){this.timeoutHandle||(null==e&&(e=this.interval),this.timeoutHandle=setTimeout((()=>{this.timeoutHandle=null,this.runHarvest(t)}),1e3*e))}runHarvest(e){if(this.aborted)return;const t=t=>{e?.forceNoRetry&&(t.retry=!1),this.onHarvestFinished(e,t)};let i,n,r=[];if(this.opts.getPayload){if(i=s.qD({isFinalHarvest:e?.unload}),!i)return!1;const t=!e?.unload&&i===s.Be;if(n=this.opts.getPayload({retry:t}),!n)return void(this.started&&this.scheduleHarvest());n="[object Array]"===Object.prototype.toString.call(n)?n:[n],r.push(...n)}let a=e=>this.harvest.sendX(e);r.length?a=this.opts.raw?e=>this.harvest._send(e):e=>this.harvest.send(e):r.push(void 0),r.forEach((s=>{a({endpoint:this.endpoint,payload:s,opts:e,submitMethod:i,cbFinished:t,customUrl:this.opts.customUrl,raw:this.opts.raw})})),this.started&&this.scheduleHarvest()}onHarvestFinished(e,t){if(this.opts.onFinished&&this.opts.onFinished(t),t.sent&&t.retry){const i=t.delay||this.opts.retryDelay;this.started&&i?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(i,e)):!this.started&&i&&this.scheduleHarvest(i,e)}}}},6291:(e,t,i)=>{i.d(t,{M:()=>y});var s=i(4420),n=i(4351),r=i(4247);function a(){return""+location}var o=i(234),c=i(4222),h=i(7894),u=i(3239),d=i(6141);function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e&&"object"==typeof e?(Object.keys(e).forEach((n=>{"object"==typeof e[n]?l(e[n],t,i,s):typeof e[n]!==i||s.includes(n)||(e[n]=t(e[n]))})),e):e}var f=i(1117),p=i(6818),m=i(385),g=i(50);const v={};class y extends f.w{constructor(e){super(e),this.tooManyRequestsDelay=(0,o.Mt)(this.sharedContext.agentIdentifier,"harvest.tooManyRequestsDelay")||60,this.obfuscator=new d.RR(this.sharedContext),this._events={}}sendX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r.qD({isFinalHarvest:e.opts?.unload}),i={retry:!e.opts?.unload&&t===r.Be,isFinalHarvest:!0===e.opts?.unload},s=this.createPayload(e.endpoint,i);return(this.obfuscator.shouldObfuscate()?this.obfuscateAndSend.bind(this):this._send.bind(this))({...e,payload:s,submitMethod:t})}send(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(this.obfuscator.shouldObfuscate()?this.obfuscateAndSend.bind(this):this._send.bind(this))(e)}obfuscateAndSend(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{payload:i={}}=t;return l(i,(function(){return e.obfuscator.obfuscateString(...arguments)}),"string",["e"]),this._send({...t,payload:i})}_send(e){let{endpoint:t,payload:i={},opts:a={},submitMethod:c,cbFinished:h,customUrl:d,raw:l,includeBaseParams:f=!0}=e;const p=(0,o.C5)(this.sharedContext.agentIdentifier);if(!p.errorBeacon)return!1;const y=(0,o.OP)(this.sharedContext.agentIdentifier);let{body:b,qs:T}=this.cleanPayload(i);if(0===Object.keys(b).length&&!a?.sendEmptyBody)return h&&h({sent:!1}),!1;const S=(0,o.P_)(this.sharedContext.agentIdentifier),w=!1===S.ssl?"http":"https",N=S.proxy.beacon||p.errorBeacon,R="rum"!==t?"/".concat(t):"";let E="".concat(w,"://").concat(N).concat(R,"/1/").concat(p.licenseKey);d&&(E=d),l&&(E="".concat(w,"://").concat(N,"/").concat(t));const A=!l&&f?this.baseQueryString():"";let I=(0,s.j6)(T,y.maxBytes);c||(c=r.qD({isFinalHarvest:a.unload})),""===A&&I.startsWith("&")&&(I=I.substring(1));const P="".concat(E,"?").concat(A).concat(I);!!T?.attributes?.includes("gzip")||(b="events"===t?b.e:(0,n.P)(b),b.length>75e4&&1===(v[t]=(v?.[t]||0)+1)&&(0,g.Z)("The Browser Agent is attempting to send a very large payload to /".concat(t,". This is usually tied to large amounts of custom attributes. Please check your configurations."))),b&&0!==b.length&&"{}"!==b&&"[]"!==b||(b="");const O=[];O.push({key:"content-type",value:"text/plain"});let x=c({url:P,body:b,sync:a.unload&&(m.v6||m.w1),headers:O});if(!a.unload&&h&&c===r.Be){const e=this;x.addEventListener("load",(function(){const t={sent:!0,status:this.status};429===this.status?(t.retry=!0,t.delay=e.tooManyRequestsDelay):408!==this.status&&500!==this.status&&503!==this.status||(t.retry=!0),a.needResponse&&(t.responseText=this.responseText),h(t)}),(0,u.m$)(!1))}return x}baseQueryString(){const e=(0,o.OP)(this.sharedContext.agentIdentifier),t=(0,o.C5)(this.sharedContext.agentIdentifier),i=(0,c.f)(a()),n=this.obfuscator.shouldObfuscate()?this.obfuscator.obfuscateString(i):i;return["a="+t.applicationID,(0,s.wu)("sa",t.sa?""+t.sa:""),(0,s.wu)("v",p.q4),b(t),(0,s.wu)("ct",e.customTransaction),"&rst="+(0,h.z)(),"&ck=0","&s="+(e.session?.state.value||"0"),(0,s.wu)("ref",n),(0,s.wu)("ptid",e.ptid?""+e.ptid:"")].join("")}createPayload(e,t){const i=this._events[e],s={body:{},qs:{}};if(Array.isArray(i)&&i.length>0)for(let e=0;e<i.length;e++){const n=i[e](t);n&&(s.body={...s.body,...n.body||{}},s.qs={...s.qs,...n.qs||{}})}return s}cleanPayload(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||Array.isArray(e)?e:"string"==typeof e?e.length>0?e:null:Object.entries(e||{}).reduce(((e,t)=>{let[i,s]=t;return("number"==typeof s||"string"==typeof s&&s.length>0||"object"==typeof s&&Object.keys(s||{}).length>0)&&(e[i]=s),e}),{});return{body:t(e.body),qs:t(e.qs)}}on(e,t){Array.isArray(this._events[e])||(this._events[e]=[]),this._events[e].push(t)}}function b(e){return e.transactionName?(0,s.wu)("to",e.transactionName):(0,s.wu)("t",e.tNamePlain||"Unnamed Transaction")}},214:(e,t,i)=>{i.d(t,{AG:()=>c,FX:()=>u,n1:()=>d,uR:()=>h});var s=i(1284),n=i(4351),r=i(6141),a=Object.prototype.hasOwnProperty,o=64;function c(e,t,i){return e||0===e||""===e?t(e)+(i?",":""):"!"}function h(e,t){return t?Math.floor(e).toString(36):void 0===e||0===e?"":Math.floor(e).toString(36)}function u(e){var t=Object.hasOwnProperty("create")?Object.create(null):{},i=0;return function(s){if(void 0===s||""===s)return"";var n=new r.RR({agentIdentifier:e});s=String(s),n.shouldObfuscate()&&(s=n.obfuscateString(s));return a.call(t,s)?h(t[s],!0):(t[s]=i++,function(e){return"'"+e.replace(l,"\\$1")}(s))}}function d(e,t){var i=[];return(0,s.D)(e,(function(e,s){if(!(i.length>=o)){var r,a=5;switch(e=t(e),typeof s){case"object":s?r=t((0,n.P)(s)):a=9;break;case"number":a=6,r=s%1?s:s+".";break;case"boolean":a=s?7:8;break;case"undefined":a=9;break;default:r=t(s)}i.push([a,e+(r?","+r:"")])}})),i}var l=/([,\\;])/g},3860:(e,t,i)=>{i.d(t,{IK:()=>y,wO:()=>T,$s:()=>S});var s=i(4402),n=i(50),r=i(4351),a=i(8325);class o{constructor(e,t){if(!e.onEnd)throw new Error("onEnd handler is required");if(!t)throw new Error("ms duration is required");this.onEnd=e.onEnd,this.initialMs=t,this.startTimestamp=Date.now(),this.timer=this.create(this.onEnd,t)}create(e,t){return this.timer&&this.clear(),setTimeout((()=>e?e():this.onEnd()),t||this.initialMs)}clear(){clearTimeout(this.timer),this.timer=null}end(){this.clear(),this.onEnd()}isValid(){return this.initialMs-(Date.now()-this.startTimestamp)>0}}var c=i(385),h=i(7056),u=i(7956),d=i(7872);class l extends o{constructor(e,t){super(e,t),this.onPause="function"==typeof e.onPause?e.onPause:()=>{},this.onRefresh="function"==typeof e.onRefresh?e.onRefresh:()=>{},this.onResume="function"==typeof e.onResume?e.onResume:()=>{},this.remainingMs=void 0,e.refreshEvents||(e.refreshEvents=["click","keydown","scroll"]);try{this.abortController=new AbortController}catch(e){}if(c.il&&e.ee){if(e.ee){this.ee=e.ee;const t=(0,d.D)(this.refresh.bind(this),500,{leading:!0});this.refreshHandler=i=>{e.refreshEvents.includes(i?.[0]?.type)&&t()},e.ee.on("fn-end",this.refreshHandler)}(0,u.N)((e=>{"hidden"===e?this.pause():this.resume()}),!1,!1,this.abortController?.signal)}}abort(){this.clear(),this.abortController?.abort(),this.refreshHandler&&(this.ee.removeEventListener("fn-end",this.refreshHandler),this.refreshHandler=this.ee=null)}pause(){this.onPause(),clearTimeout(this.timer),this.remainingMs=this.initialMs-(Date.now()-this.startTimestamp)}resume(){this.refresh(),this.onResume()}refresh(e,t){this.clear(),this.timer=this.create(e,t),this.startTimestamp=Date.now(),this.remainingMs=void 0,this.onRefresh()}}var f=i(1214),p=i(9567),m=i(5546),g=i(3081),v=i(3325);const y={OFF:0,FULL:1,ERROR:2},b={value:"",inactiveAt:0,expiresAt:0,updatedAt:Date.now(),sessionReplay:y.OFF,sessionTraceMode:y.OFF,custom:{}},T={PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume"};class S{constructor(e){const{agentIdentifier:t,key:i,storage:s}=e;if(!t||!i||!s)throw new Error("Missing required field(s):".concat(t?"":" agentID").concat(i?"":" key").concat(s?"":" storage"));this.agentIdentifier=t,this.storage=s,this.state={},this.key=i,this.ee=a.ee.get(t),(0,f.em)(this.ee),this.setup(e)}setup(e){let{value:t=(0,s.ky)(16),expiresMs:i=h.oD,inactiveMs:n=h.Hb}=e;this.state={},this.sync(b),this.state.value=t,this.expiresMs=i,this.inactiveMs=n;const r=this.read();i?(this.state.expiresAt=r?.expiresAt||this.getFutureTimestamp(i),this.expiresTimer=new o({onEnd:()=>{this.collectSM("expired",this),this.collectSM("duration",this),this.reset()}},this.state.expiresAt-Date.now())):this.state.expiresAt=1/0,n?(this.state.inactiveAt=r?.inactiveAt||this.getFutureTimestamp(n),this.inactiveTimer=new l({onEnd:()=>{this.collectSM("inactive",this),this.collectSM("duration",this),this.reset()},onRefresh:this.refresh.bind(this),onResume:()=>{this.ee.emit(T.RESUME)},onPause:()=>{this.initialized&&this.ee.emit(T.PAUSE),this.write((0,p.D)(this.state,b))},ee:this.ee,refreshEvents:["click","keydown","scroll"]},this.state.inactiveAt-Date.now())):this.state.inactiveAt=1/0,void 0===this.isNew&&(this.isNew=!Object.keys(r).length),this.isNew?this.write((0,p.D)(this.state,b),!0):this.sync(r),this.initialized=!0}get lookupKey(){return"".concat(h.Bq,"_").concat(this.key)}sync(e){Object.assign(this.state,e)}read(){try{const e=this.storage.get(this.lookupKey);if(!e)return{};const t="string"==typeof e?JSON.parse(e):e;return this.isInvalid(t)?{}:this.isExpired(t.expiresAt)?(this.collectSM("expired",this),this.collectSM("duration",t,!0),this.reset()):this.isExpired(t.inactiveAt)?(this.collectSM("inactive",this),this.collectSM("duration",t,!0),this.reset()):t}catch(e){return(0,n.Z)("Failed to read from storage API",e),{}}}write(e){try{if(!e||"object"!=typeof e)return;return e.updatedAt=Date.now(),this.sync(e),this.storage.set(this.lookupKey,(0,r.P)(this.state)),e}catch(e){return(0,n.Z)("Failed to write to the storage API",e),null}}reset(){try{return this.initialized&&this.ee.emit(T.RESET),this.storage.remove(this.lookupKey),this.inactiveTimer?.abort?.(),this.expiresTimer?.clear?.(),delete this.isNew,this.setup({agentIdentifier:this.agentIdentifier,key:this.key,storage:this.storage,expiresMs:this.expiresMs,inactiveMs:this.inactiveMs}),this.read()}catch(e){return{}}}refresh(){const e=this.read();this.write({...e,inactiveAt:this.getFutureTimestamp(this.inactiveMs)})}isExpired(e){return Date.now()>e}isInvalid(e){return!Object.keys(b).every((t=>Object.keys(e).includes(t)))}collectSM(e,t,i){let s,n;if("duration"===e){const e=t.expiresAt-t.expiresMs;s=(i?t.updatedAt:Date.now())-e,n="Session/Duration/Ms"}"expired"===e&&(n="Session/Expired/Seen"),"inactive"===e&&(n="Session/Inactive/Seen"),n&&(0,m.p)(g.xS,[n,s],void 0,v.D.metrics,this.ee)}getFutureTimestamp(e){return Date.now()+e}syncCustomAttribute(e,t){if(c.il)if(null===t){const t=this.read();t.custom&&(delete t.custom[e],this.write({...t}))}else{const i=this.read();this.custom={...i?.custom||{},[e]:t},this.write({...i,custom:this.custom})}}}},5998:(e,t,i)=>{i.d(t,{uB:()=>m,wu:()=>p,zJ:()=>f});var s="Start",n="End",r="unloadEvent",a="redirect",o="domainLookup",c="onnect",h="request",u="response",d="loadEvent",l="domContentLoadedEvent",f=[];function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t)return i.of=e,g(i.of,i,"n",!0),g(t[r+s],i,"u",f),g(t[a+s],i,"r",f),g(t[r+n],i,"ue",f),g(t[a+n],i,"re",f),g(t["fetch"+s],i,"f",f),g(t[o+s],i,"dn",f),g(t[o+n],i,"dne",f),g(t["c"+c+s],i,"c",f),g(t["secureC"+c+"ion"+s],i,"s",f),g(t["c"+c+n],i,"ce",f),g(t[h+s],i,"rq",f),g(t[u+s],i,"rp",f),g(t[u+n],i,"rpe",f),g(t.domLoading,i,"dl",f),g(t.domInteractive,i,"di",f),g(t[l+s],i,"ds",f),g(t[l+n],i,"de",f),g(t.domComplete,i,"dc",f),g(t[d+s],i,"l",f),g(t[d+n],i,"le",f),i}function m(e,t){var i;return g("number"==typeof(i=e.type)?i:{navigate:void 0,reload:1,back_forward:2,prerender:3}[i],t,"ty"),g(e.redirectCount,t,"rc"),t}function g(e,t,i,s){if("number"==typeof e&&e>0){if(s){const i=t?.of>0?t.of:0;e=Math.max(e-i,0)}e=Math.round(e),t[i]=e}f.push(e)}},8310:(e,t,i)=>{i.d(t,{L:()=>a});var s=i(3239),n=i(385),r=i(7956);if(n.v6){n._A.cleanupTasks=[];const e=n._A.close;n._A.close=()=>{for(let e of n._A.cleanupTasks)e();e()}}function a(e){n.il?((0,r.N)(e,!0),(0,s.bP)("pagehide",e)):n.v6&&n._A.cleanupTasks.push(e)}},4222:(e,t,i)=>{i.d(t,{f:()=>r});var s=/([^?#]*)[^#]*(#[^?]*|$).*/,n=/([^?#]*)().*/;function r(e,t){return e.replace(t?s:n,"$1$2")}},4420:(e,t,i)=>{i.d(t,{j6:()=>u,wu:()=>d});var s=i(1284),n=i(4351),r={"%2C":",","%3A":":","%2F":"/","%40":"@","%24":"$","%3B":";"},a=(0,s.D)(r,(function(e){return e})),o=new RegExp(a.join("|"),"g");function c(e){return r[e]}function h(e){return null==e?"null":encodeURIComponent(e).replace(o,c)}function u(e,t){var i=0,r="";return(0,s.D)(e,(function(e,s){var a,o,c=[];if("string"==typeof s||!Array.isArray(s)&&null!=s&&s.toString().length)a="&"+e+"="+h(s),i+=a.length,r+=a;else if(Array.isArray(s)&&s.length){for(i+=9,o=0;o<s.length&&(a=h((0,n.P)(s[o])),i+=a.length,!(void 0!==t&&i>=t));o++)c.push(a);r+="&"+e+"=%5B"+c.join(",")+"%5D"}})),r}function d(e,t){return t&&"string"==typeof t?"&"+e+"="+h(t):""}},2271:(e,t,i)=>{i.d(t,{V:()=>n});var s=i(385);function n(){return Boolean("file:"===s._A?.location?.protocol)}},7872:(e,t,i)=>{function s(e){var t=this;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=s?.leading||!1;let r;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n&&void 0===r&&(e.apply(t,a),r=setTimeout((()=>{r=clearTimeout(r)}),i)),n||(clearTimeout(r),r=setTimeout((()=>{e.apply(t,a)}),i))}}function n(e){var t=this;let i=!1;return function(){if(!i){i=!0;for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];e.apply(t,n)}}}i.d(t,{D:()=>s,Z:()=>n})},6141:(e,t,i)=>{i.d(t,{$c:()=>h,Ng:()=>u,RR:()=>c});var s=i(234),n=i(1117),r=i(2271),a=i(50),o={regex:/^file:\/\/(.*)/,replacement:atob("ZmlsZTovL09CRlVTQ0FURUQ=")};class c extends n.w{shouldObfuscate(){return h(this.sharedContext.agentIdentifier).length>0}obfuscateString(e){if(!e||"string"!=typeof e)return e;for(var t=h(this.sharedContext.agentIdentifier),i=e,s=0;s<t.length;s++){var n=t[s].regex,r=t[s].replacement||"*";i=i.replace(n,r)}return i}}function h(e){var t=[],i=(0,s.Mt)(e,"obfuscate")||[];return t=t.concat(i),(0,r.V)()&&t.push(o),t}function u(e){for(var t=!1,i=!1,s=0;s<e.length;s++){"regex"in e[s]?"string"==typeof e[s].regex||e[s].regex instanceof RegExp||((0,a.Z)('An obfuscation replacement rule contains a "regex" value with an invalid type (must be a string or RegExp)'),i=!0):((0,a.Z)('An obfuscation replacement rule was detected missing a "regex" value.'),i=!0);var n=e[s].replacement;n&&"string"!=typeof n&&((0,a.Z)('An obfuscation replacement rule contains a "replacement" value with an invalid type (must be a string)'),t=!0)}return!t&&!i}},4247:(e,t,i)=>{i.d(t,{Be:()=>r,qD:()=>n});var s=i(385);function n(){let{isFinalHarvest:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&s.il&&s.Nk?a:r}function r(e){let{url:t,body:i=null,sync:s,method:n="POST",headers:r=[{key:"content-type",value:"text/plain"}]}=e;const a=new XMLHttpRequest;a.open(n,t,!s);try{"withCredentials"in a&&(a.withCredentials=!0)}catch(e){}return r.forEach((e=>{a.setRequestHeader(e.key,e.value)})),a.send(i),a}function a(e){let{url:t,body:i}=e;try{return window.navigator.sendBeacon.bind(window.navigator)(t,i)}catch(e){return!1}}},8158:(e,t,i)=>{i.d(t,{S:()=>s});const s={FIRST_PAINT:"fp",FIRST_CONTENTFUL_PAINT:"fcp",FIRST_INPUT_DELAY:"fi",LARGEST_CONTENTFUL_PAINT:"lcp",CUMULATIVE_LAYOUT_SHIFT:"cls",INTERACTION_TO_NEXT_PAINT:"inp",LONG_TASK:"lt",TIME_TO_FIRST_BYTE:"ttfb"}},6069:(e,t,i)=>{i.d(t,{y:()=>a});var s=i(8085),n=i(385),r=i(8158);const a=new(i(2094).U)(r.S.FIRST_CONTENTFUL_PAINT);if(n.il)if(n.ux)try{if(!n.iS){const e=performance.getEntriesByType("paint");e.forEach((t=>{"first-contentful-paint"===t.name&&a.update({value:Math.floor(t.startTime),entries:e})}))}}catch(e){}else(0,s.a4)((e=>{let{value:t,entries:i}=e;n.iS||a.isValid||a.update({value:t,entries:i})}))},8373:(e,t,i)=>{i.d(t,{U:()=>r});var s=i(385),n=i(8158);const r=new(i(2094).U)(n.S.FIRST_PAINT);if(s.il){const e=e=>{e.forEach((i=>{"first-paint"!==i.name||r.isValid||(t.disconnect(),r.update({value:i.startTime,entries:e}))}))};let t;try{PerformanceObserver.supportedEntryTypes.includes("paint")&&!s.iS&&(t=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))})),t.observe({type:"paint",buffered:!0}))}catch(e){}}},4806:(e,t,i)=>{i.d(t,{P:()=>o});var s=i(385),n=i(8158),r=i(2094),a=i(8085);const o=new r.U(n.S.TIME_TO_FIRST_BYTE);if(s.il&&"undefined"!=typeof PerformanceNavigationTiming&&!s.Tt)(0,a.mr)((e=>{let{value:t,entries:i}=e;o.isValid||o.update({value:t,entries:i})}));else if(!o.isValid){const e={};for(let t in s._A?.performance?.timing||{})e[t]=Math.max(s._A?.performance?.timing[t]-s.cv,0);o.update({value:e.responseStart,entries:[e]})}},2094:(e,t,i)=>{i.d(t,{U:()=>s});class s{#e=new Set;history=[];constructor(e,t){this.name=e,this.attrs={},this.roundingMethod="function"==typeof t?t:Math.floor}update(e){let{value:t,entries:i=[],attrs:s={},shouldAddConnectionAttributes:n=!1}=e;if(t<0)return;const r={value:this.roundingMethod(t),name:this.name,entries:i,attrs:s};n&&function(e){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!t)return;t.type&&(e["net-type"]=t.type);t.effectiveType&&(e["net-etype"]=t.effectiveType);t.rtt&&(e["net-rtt"]=t.rtt);t.downlink&&(e["net-dlink"]=t.downlink)}(r.attrs),this.history.push(r),this.#e.forEach((e=>{try{e(this.current)}catch(e){}}))}get current(){return this.history[this.history.length-1]||{value:void 0,name:this.name,entries:[],attrs:{}}}get isValid(){return this.current.value>=0}subscribe(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("function"==typeof e)return this.#e.add(e),this.isValid&&t&&this.history.forEach((t=>{e(t)})),()=>{this.#e.delete(e)}}}},5039:(e,t,i)=>{i.r(t),i.d(t,{Aggregate:()=>p});var s=i(4322),n=i(4351),r=i(214),a=i(5546),o=i(234),c=i(2573),h=i(1199),u=i(7825),d=i(3325),l=i(3081),f=i(2222);class p extends f.m{static featureName=u.t;constructor(e,t){super(e,t,u.t);const i=(0,o.P_)(e),f=!1!==i.ajax.enabled;if((0,s.X)("xhr",R,this.featureName,this.ee),!f)return void this.drain();const p=(0,o.OP)(e).denyList;(0,h.R)(p);let m=[],g={},v=[];const y=this.ee,b=i.ajax.harvestTimeSeconds||10,T=i.ajax.maxPayloadSize||1e6;this.storeXhr=R,this.prepareHarvest=E,this.getStoredEvents=function(){return{ajaxEvents:m,spaAjaxEvents:g}},y.on("interactionSaved",(e=>{g[e.id]&&delete g[e.id]})),y.on("interactionDiscarded",(e=>{g[e.id]&&(g[e.id].forEach((function(e){m.push(e)})),delete g[e.id])}));const S=new c.o("events",{onFinished:function(e){e.retry&&v.length>0&&(m.unshift(...v),v=[])},getPayload:E},this);y.on("drain-".concat(this.featureName),(()=>{S.startTimer(b)})),this.drain();const w=(0,o.C5)(e).errorBeacon,N=i.proxy.beacon;function R(e,i,s,r,o){var c;if(i.time=s,c=e.cat?(0,n.P)([e.status,e.cat]):(0,n.P)([e.status,e.host,e.pathname]),(0,a.p)("bstXhrAgg",["xhr",c,e,i],void 0,d.D.sessionTrace,y),t.store("xhr",c,e,i),f)if((0,h.z)(e)){var u=this,p={method:e.method,status:e.status,domain:e.host,path:e.pathname,requestSize:i.txSize,responseSize:i.rxSize,type:o,startTime:s,endTime:r,callbackDuration:i.cbTime};if(u.dt&&(p.spanId=u.dt.spanId,p.traceId=u.dt.traceId,p.spanTimestamp=u.dt.timestamp),this.spaNode){var v=this.spaNode.interaction.id;g[v]=g[v]||[],g[v].push(p)}else m.push(p)}else e.hostname===w||N&&e.hostname===N?(0,a.p)(l.xS,["Ajax/Events/Excluded/Agent"],void 0,d.D.metrics,y):(0,a.p)(l.xS,["Ajax/Events/Excluded/App"],void 0,d.D.metrics,y)}function E(e){if(e=e||{},0===m.length)return null;for(var t=A(m,e.maxPayloadSize||T),i=[],s=0;s<t.length;s++)i.push({body:{e:t[s]}});return e.retry&&(v=m.slice()),m=[],i}function A(e,t,i){i=i||1;for(var s=[],n=function(e,t){t=t||e.length;for(var i=[],s=0,n=e.length;s<n;s+=t)i.push(new I(e.slice(s,s+t)));return i}(e,e.length/i),r=!1,a=0;a<n.length;a++){var o=n[a];if(o.tooBig(t)){if(1!==o.events.length){r=!0;break}}else s.push(o.payload)}return r?A(e,t,++i):s}function I(t){this.addString=(0,r.FX)(e),this.events=t,this.payload="bel.7;";for(var i=0;i<t.length;i++){var s=t[i],n=[(0,r.uR)(s.startTime),(0,r.uR)(s.endTime-s.startTime),(0,r.uR)(0),(0,r.uR)(0),this.addString(s.method),(0,r.uR)(s.status),this.addString(s.domain),this.addString(s.path),(0,r.uR)(s.requestSize),(0,r.uR)(s.responseSize),"fetch"===s.type?1:"",this.addString(0),(0,r.AG)(s.spanId,this.addString,!0)+(0,r.AG)(s.traceId,this.addString,!0)+(0,r.AG)(s.spanTimestamp,r.uR,!1)],a="2,",c=(0,r.n1)((0,o.C5)(e).jsAttributes||{},this.addString);n.unshift((0,r.uR)(c.length)),a+=n.join(","),c&&c.length>0&&(a+=";"+c.join(";")),i+1<t.length&&(a+=";"),this.payload+=a}this.tooBig=function(e){return e=e||T,2*this.payload.length>e}}}}},1028:(e,t,i)=>{i.r(t),i.d(t,{Aggregate:()=>x});const s=/([a-z0-9]+)$/i;function n(e){if(!e)return;const t=e.match(s);return t?t[1]:void 0}var r=/^\n+|\n+$/g;function a(e){return function(e){var t;if(e.length>100){var i=e.length-100;t=e.slice(0,50).join("\n"),t+="\n< ...truncated "+i+" lines... >\n",t+=e.slice(-50).join("\n")}else t=e.join("\n");return t}(e).replace(r,"")}var o=i(385),c=i(4222);function h(e){if("string"!=typeof e)return"";const t=(0,c.f)(e);return t===(0,c.f)(o.FN)?"<inline>":t}var u=!1,d=/function (.+?)\s*\(/,l=/^\s*at (?:((?:\[object object\])?(?:[^(]*\([^)]*\))*[^()]*(?: \[as \S+\])?) )?\(?((?:file|http|https|chrome-extension):.*?)?:(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(?:(\S*|global code)(?:\(.*?\))?@)?((?:file|http|https|chrome|safari-extension).*?):(\d+)(?::(\d+))?\s*$/i,p=/^\s*at .+ \(eval at \S+ \((?:(?:file|http|https):[^)]+)?\)(?:, [^:]*:\d+:\d+)?\)$/i,m=/^\s*at Function code \(Function code:\d+:\d+\)\s*/i;function g(e){var t=null;try{if(t=function(e){if(!e.stack)return null;var t=e.stack.split("\n").reduce(v,{frames:[],stackLines:[],wrapperSeen:!1});return t.frames.length?{mode:"stack",name:e.name||y(e),message:e.message,stackString:a(t.stackLines),frames:t.frames}:null}(e),t)return t}catch(e){u}try{if(t=function(e){if(!("line"in e))return null;var t=e.name||y(e);if(!e.sourceURL)return{mode:"sourceline",name:t,message:e.message,stackString:t+": "+e.message+"\n    in evaluated code",frames:[{func:"evaluated code"}]};var i=h(e.sourceURL),s=t+": "+e.message+"\n    at "+i;e.line&&(s+=":"+e.line,e.column&&(s+=":"+e.column));return{mode:"sourceline",name:t,message:e.message,stackString:s,frames:[{url:i,line:e.line,column:e.column}]}}(e),t)return t}catch(e){u}try{if(t=function(e){var t=e.name||y(e);return t?{mode:"nameonly",name:t,message:e.message,stackString:t+": "+e.message,frames:[]}:null}(e),t)return t}catch(e){u}return{mode:"failed",stackString:"",frames:[]}}function v(e,t){let i=function(e){var t=e.match(f);t||(t=e.match(l));if(t)return{url:t[2],func:"Anonymous function"!==t[1]&&"global code"!==t[1]&&t[1]||null,line:+t[3],column:t[4]?+t[4]:null};if(e.match(p)||e.match(m)||"anonymous"===e)return{func:"evaluated code"}}(t);if(!i)return e.stackLines.push(t),e;var s;if((s=i.func)&&s.indexOf("nrWrapper")>=0&&(e.wrapperSeen=!0),!e.wrapperSeen){let s=h(i.url);s!==i.url&&(t=t.replace(i.url,s),i.url=s),e.stackLines.push(t),e.frames.push(i)}return e}function y(e){var t=d.exec(String(e.constructor));return t&&t.length>1?t[1]:"unknown"}function b(e){var t=0;if(!e||!e.length)return t;for(var i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}var T=i(4322),S=i(2573),w=i(4351),N=i(5546),R=i(1284),E=i(234),A=i(7894),I=i(6660),P=i(3325),O=i(2222);class x extends O.m{static featureName=I.t;constructor(e,t){var i;super(e,t,I.t),i=this,this.stackReported={},this.observedAt={},this.pageviewReported={},this.errorCache={},this.currentBody=void 0,this.errorOnPage=!1,this.ee.on("interactionSaved",(e=>this.onInteractionSaved(e))),this.ee.on("interactionDiscarded",(e=>this.onInteractionDiscarded(e))),(0,T.X)("err",(function(){return i.storeError(...arguments)}),this.featureName,this.ee),(0,T.X)("ierr",(function(){return i.storeError(...arguments)}),this.featureName,this.ee);const s=(0,E.Mt)(this.agentIdentifier,"jserrors.harvestTimeSeconds")||10,n=new S.o("jserrors",{onFinished:function(){return i.onHarvestFinished(...arguments)}},this);n.harvest.on("jserrors",(function(){return i.onHarvestStarted(...arguments)})),this.ee.on("drain-".concat(this.featureName),(()=>{this.blocked||n.startTimer(s)})),(0,T.X)("block-err",(()=>{this.blocked=!0,n.stopTimer(!0)}),this.featureName,this.ee),this.drain()}onHarvestStarted(e){var t=this.aggregator.take(["err","ierr","xhr"]);e.retry&&(this.currentBody=t);var i={body:t,qs:{}},s=(0,w.P)((0,E.OP)(this.agentIdentifier).releaseIds);return"{}"!==s&&(i.qs.ri=s),t&&t.err&&t.err.length&&!this.errorOnPage&&(i.qs.pve="1",this.errorOnPage=!0),i}onHarvestFinished(e){e.retry&&this.currentBody&&((0,R.D)(this.currentBody,((e,t)=>{for(var i=0;i<t.length;i++){var s=t[i],n=this.getBucketName(e,s.params,s.custom);this.aggregator.merge(e,n,s.metrics,s.params,s.custom)}})),this.currentBody=null)}nameHash(e){return b("".concat(e.exceptionClass,"_").concat(e.message,"_").concat(e.stack_trace||e.browser_stack_hash))}getBucketName(e,t,i){return"xhr"===e?b((0,w.P)(t))+":"+b((0,w.P)(i)):this.nameHash(t)+":"+b((0,w.P)(i))}buildCanonicalStackString(e){for(var t="",i=0;i<e.frames.length;i++){var s=e.frames[i],r=n(s.func);t&&(t+="\n"),r&&(t+=r+"@"),"string"==typeof s.url&&(t+=s.url),s.line&&(t+=":"+s.line)}return t}storeError(e,t,i,s){t=t||(0,A.z)();const n=(0,E.OP)(this.agentIdentifier);let r;if(!i&&n.onerror&&(r=n.onerror(e),r&&("string"!=typeof r.group||!r.group.length)))return;var a=g(e);const c={stackHash:b(this.buildCanonicalStackString(a)),exceptionClass:a.name,request_uri:o._A?.location.pathname};a.message&&(c.message=""+a.message),r?.group&&(c.errorGroup=r.group);var h,u=b("".concat(a.name,"_").concat(a.message,"_").concat(a.stackString));this.stackReported[u]?c.browser_stack_hash=b(a.stackString):(this.stackReported[u]=!0,c.stack_trace=(h=a.stackString).length>65530?h.substr(0,65530):h,this.observedAt[u]=n.offset+t),c.releaseIds=(0,w.P)(n.releaseIds),this.pageviewReported[u]||(c.pageview=1,this.pageviewReported[u]=!0),n?.session?.state?.sessionReplay&&(c.hasReplay=!0),c.firstOccurrenceTimestamp=this.observedAt[u];var d=i?"ierr":"err",l={time:t};const f=[d,u,c,l];if((0,N.p)("errorAgg",f,void 0,P.D.sessionTrace,this.ee),(0,N.p)("errorAgg",f,void 0,P.D.spa,this.ee),(0,N.p)("errorAgg",f,void 0,P.D.sessionReplay,this.ee),!this.blocked){var p=(0,E.C5)(this.agentIdentifier).jsAttributes;if(null!=c._interactionId)this.errorCache[c._interactionId]=this.errorCache[c._interactionId]||[],this.errorCache[c._interactionId].push([d,u,c,l,p,s]);else{var m={};(0,R.D)(p,y),s&&(0,R.D)(s,y);var v=u+":"+b((0,w.P)(m));this.aggregator.store(d,v,c,l,m)}}function y(e,t){m[e]=t&&"object"==typeof t?(0,w.P)(t):t}}onInteractionSaved(e){this.errorCache[e.id]&&!this.blocked&&(this.errorCache[e.id].forEach((t=>{var i={},s=t[4],n=t[5];(0,R.D)(s,o),(0,R.D)(e.root.attrs.custom,o),(0,R.D)(n,o);var r=t[2];r.browserInteractionId=e.root.attrs.id,delete r._interactionId,r._interactionNodeId&&(r.parentNodeId=r._interactionNodeId.toString(),delete r._interactionNodeId);var a=t[1]+e.root.attrs.id+":"+b((0,w.P)(i));function o(e,t){i[e]=t&&"object"==typeof t?(0,w.P)(t):t}this.aggregator.store(t[0],a,r,t[3],i)})),delete this.errorCache[e.id])}onInteractionDiscarded(e){this.errorCache&&this.errorCache[e.id]&&!this.blocked&&(this.errorCache[e.id].forEach((t=>{var i={},s=t[4],n=t[5];(0,R.D)(s,o),(0,R.D)(e.root.attrs.custom,o),(0,R.D)(n,o);var r=t[2];delete r._interactionId,delete r._interactionNodeId;var a=t[1]+":"+b((0,w.P)(i));function o(e,t){i[e]=t&&"object"==typeof t?(0,w.P)(t):t}this.aggregator.store(t[0],a,t[2],t[3],i)})),delete this.errorCache[e.id])}}},8939:(e,t,i)=>{i.r(t),i.d(t,{Aggregate:()=>C});var s=i(234),n=i(4322),r=i(2573),a=i(3081),o=i(385);const c="React",h="NextJS",u="Vue",d="NuxtJS",l="Angular",f="AngularUniversal",p="Svelte",m="SvelteKit",g="Preact",v="PreactSSR",y="AngularJS",b="Backbone",T="Ember",S="Meteor",w="Zepto",N="Jquery",R="MooTools",E="Qwik",A="Electron";function I(){if(!o.il)return[];const e=[];try{(function(){try{return Object.prototype.hasOwnProperty.call(window,"React")||Object.prototype.hasOwnProperty.call(window,"ReactDOM")||Object.prototype.hasOwnProperty.call(window,"ReactRedux")||document.querySelector("[data-reactroot], [data-reactid]")||(()=>{const e=document.querySelectorAll("body > div");for(let t=0;t<e.length;t++)if(Object.prototype.hasOwnProperty.call(e[t],"_reactRootContainer"))return!0})()}catch(e){return!1}})()&&(e.push(c),function(){try{return Object.prototype.hasOwnProperty.call(window,"next")&&Object.prototype.hasOwnProperty.call(window.next,"version")}catch(e){return!1}}()&&e.push(h)),function(){try{return Object.prototype.hasOwnProperty.call(window,"Vue")}catch(e){return!1}}()&&(e.push(u),function(){try{return Object.prototype.hasOwnProperty.call(window,"$nuxt")&&Object.prototype.hasOwnProperty.call(window.$nuxt,"nuxt")}catch(e){return!1}}()&&e.push(d)),function(){try{return Object.prototype.hasOwnProperty.call(window,"ng")||document.querySelector("[ng-version]")}catch(e){return!1}}()&&(e.push(l),function(){try{return document.querySelector("[ng-server-context]")}catch(e){return!1}}()&&e.push(f)),function(){try{return Object.prototype.hasOwnProperty.call(window,"__svelte")}catch(e){return!1}}()&&(e.push(p),function(){try{return!!Object.keys(window).find((e=>e.startsWith("__sveltekit")))}catch(e){return!1}}()&&e.push(m)),function(){try{return Object.prototype.hasOwnProperty.call(window,"preact")}catch(e){return!1}}()&&(e.push(g),function(){try{return document.querySelector('script[type="__PREACT_CLI_DATA__"]')}catch(e){return!1}}()&&e.push(v)),function(){try{return Object.prototype.hasOwnProperty.call(window,"angular")||document.querySelector(".ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]")||document.querySelector('script[src*="angular.js"], script[src*="angular.min.js"]')}catch(e){return!1}}()&&e.push(y),Object.prototype.hasOwnProperty.call(window,"Backbone")&&e.push(b),Object.prototype.hasOwnProperty.call(window,"Ember")&&e.push(T),Object.prototype.hasOwnProperty.call(window,"Meteor")&&e.push(S),Object.prototype.hasOwnProperty.call(window,"Zepto")&&e.push(w),Object.prototype.hasOwnProperty.call(window,"jQuery")&&e.push(N),Object.prototype.hasOwnProperty.call(window,"MooTools")&&e.push(R),Object.prototype.hasOwnProperty.call(window,"qwikevents")&&e.push(E),function(){try{return"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}catch(e){return!1}}()&&e.push(A)}catch(e){}return e}var P=i(2271),O=i(6141),x=i(3960),M=i(3239),k=i(2222);class C extends k.m{static featureName=a.t9;constructor(e,t){let i;super(e,t,a.t9),(0,n.X)("block-err",(()=>{this.blocked=!0,i&&(i.aborted=!0)}),this.featureName,this.ee),(0,n.X)(a.xS,this.storeSupportabilityMetrics.bind(this),this.featureName,this.ee),(0,n.X)(a.vz,this.storeEventMetrics.bind(this),this.featureName,this.ee),this.singleChecks(),this.eachSessionChecks(),this.ee.on("drain-".concat(this.featureName),(()=>{i=new r.o("jserrors",{onUnload:()=>this.unload()},this),i.harvest.on("jserrors",(()=>({body:this.aggregator.take(["cm","sm"])})))})),this.drain()}storeSupportabilityMetrics(e,t){if(this.blocked)return;const i=a.mY,s={name:e};this.aggregator.storeMetric(i,e,s,t)}storeEventMetrics(e,t){if(this.blocked)return;const i=a.gF,s={name:e};this.aggregator.store(i,e,s,t)}singleChecks(){const{distMethod:e,loaderType:t}=(0,s.OP)(this.agentIdentifier);t&&this.storeSupportabilityMetrics("Generic/LoaderType/".concat(t,"/Detected")),e&&this.storeSupportabilityMetrics("Generic/DistMethod/".concat(e,"/Detected")),o.il?(this.storeSupportabilityMetrics("Generic/Runtime/Browser/Detected"),(0,x.K)((()=>{I().forEach((e=>{this.storeSupportabilityMetrics("Framework/"+e+"/Detected")}))}))):o.v6?this.storeSupportabilityMetrics("Generic/Runtime/Worker/Detected"):this.storeSupportabilityMetrics("Generic/Runtime/Unknown/Detected"),(0,P.V)()&&this.storeSupportabilityMetrics("Generic/FileProtocol/Detected");const i=(0,O.$c)(this.agentIdentifier);i.length>0&&this.storeSupportabilityMetrics("Generic/Obfuscate/Detected"),i.length>0&&!(0,O.Ng)(i)&&this.storeSupportabilityMetrics("Generic/Obfuscate/Invalid");const{proxy:n}=(0,s.P_)(this.agentIdentifier);n.assets&&this.storeSupportabilityMetrics("Config/AssetsUrl/Changed"),n.beacon&&this.storeSupportabilityMetrics("Config/BeaconUrl/Changed")}eachSessionChecks(){o.il&&(0,M.bP)("pageshow",(e=>{e.persisted&&this.storeSupportabilityMetrics("Generic/BFCache/PageRestored")}))}unload(){try{if(this.resourcesSent)return;this.resourcesSent=!0;const e=(0,s.OP)(this.agentIdentifier),t=["beacon","fetch","xmlhttprequest"],i=["nr-data.net","newrelic.com","nr-local.net","localhost"];function n(e){return t.includes(e.initiatorType)}if((performance?.getEntriesByType("resource")||[]).forEach((e=>{var t;t=e,i.some((e=>t.name.indexOf(e)>=0))?n(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/Internal"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/Internal"):n(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/External"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/External")})),e.ptid&&this.storeSupportabilityMetrics("PageSession/Feature/SessionTrace/DurationMs",Math.round(performance.now())),"undefined"!=typeof performance){const r=performance.getEntriesByType("mark"),a=performance.getEntriesByType("measure");this.storeSupportabilityMetrics("Generic/Performance/Mark/Seen",r.length),this.storeSupportabilityMetrics("Generic/Performance/Measure/Seen",a.length)}}catch(o){}}}},1832:(e,t,i)=>{i.r(t),i.d(t,{Aggregate:()=>l});var s=i(1284),n=i(4351),r=i(4322),a=i(2573),o=i(4222),c=i(234),h=i(4649),u=i(385),d=i(2222);class l extends d.m{static featureName=h.t;constructor(e,t){var i;super(e,t,h.t),i=this,this.eventsPerMinute=240,this.harvestTimeSeconds=(0,c.Mt)(this.agentIdentifier,"page_action.harvestTimeSeconds")||(0,c.Mt)(this.agentIdentifier,"ins.harvestTimeSeconds")||30,this.eventsPerHarvest=this.eventsPerMinute*this.harvestTimeSeconds/60,this.referrerUrl=void 0,this.currentEvents=void 0,this.events=[],this.att=(0,c.C5)(this.agentIdentifier).jsAttributes,u.il&&document.referrer&&(this.referrerUrl=(0,o.f)(document.referrer)),(0,r.X)("api-addPageAction",(function(){return i.addPageAction(...arguments)}),this.featureName,this.ee),this.waitForFlags(["ins"]).then((e=>{let[t]=e;if(t){const e=new a.o("ins",{onFinished:function(){return i.onHarvestFinished(...arguments)}},this);e.harvest.on("ins",(function(){return i.onHarvestStarted(...arguments)})),e.startTimer(this.harvestTimeSeconds,0)}else this.blocked=!0})),this.drain()}onHarvestStarted(e){const{userAttributes:t,atts:i}=(0,c.C5)(this.agentIdentifier);var s={qs:{ua:t,at:i},body:{ins:this.events}};return e.retry&&(this.currentEvents=this.events),this.events=[],s}onHarvestFinished(e){e&&e.sent&&e.retry&&this.currentEvents&&(this.events=this.events.concat(this.currentEvents),this.currentEvents=null)}addPageAction(e,t,i){if(!(this.events.length>=this.eventsPerHarvest||this.blocked)){var r,a,h={};u.il&&window.document.documentElement&&(r=window.document.documentElement.clientWidth,a=window.document.documentElement.clientHeight);var d={timestamp:e+(0,c.OP)(this.agentIdentifier).offset,timeSinceLoad:e/1e3,browserWidth:r,browserHeight:a,referrerUrl:this.referrerUrl,currentUrl:(0,o.f)(""+location),pageUrl:(0,o.f)((0,c.OP)(this.agentIdentifier).origin),eventType:"PageAction"};(0,s.D)(d,l),(0,s.D)((0,c.C5)(this.agentIdentifier).jsAttributes,l),i&&"object"==typeof i&&(0,s.D)(i,l),h.actionName=t||"",this.events.push(h)}function l(e,t){h[e]=t&&"object"==typeof t?(0,n.P)(t):t}}}},3609:(e,t,i)=>{i.r(t),i.d(t,{Aggregate:()=>y});var s=i(385),n=i(5998),r=i(4351),a=i(234),o=i(6291),c=i(7633),h=i(3325),u=i(8632);function d(e){const t=[],i=(0,u.fP)();try{Object.keys(i.initializedAgents[e].features).forEach((e=>{switch(e){case h.D.ajax:t.push("xhr");break;case h.D.jserrors:t.push("err");break;case h.D.pageAction:t.push("ins");break;case h.D.sessionTrace:t.push("stn");break;case h.D.spa:t.push("spa")}}))}catch(e){}return t}var l=i(2587),f=i(50),p=i(2222),m=i(6069),g=i(8373),v=i(4806);class y extends p.m{static featureName=c.t;constructor(e,t){super(e,t,c.t),this.timeToFirstByte=0,this.firstByteToWindowLoad=0,this.firstByteToDomContent=0,s.il?v.P.subscribe((e=>{let{value:t,entries:i}=e;const s=i[0];this.timeToFirstByte=Math.max(t,this.timeToFirstByte),this.firstByteToWindowLoad=Math.max(Math.round(s.loadEventEnd-this.timeToFirstByte),this.firstByteToWindowLoad),this.firstByteToDomContent=Math.max(Math.round(s.domContentLoadedEventEnd-this.timeToFirstByte),this.firstByteToDomContent),this.sendRum()})):this.sendRum()}sendRum(){const e=(0,a.C5)(this.agentIdentifier),t=(0,a.OP)(this.agentIdentifier),i=new o.M(this);if(!e.beacon)return;e.queueTime&&this.aggregator.store("measures","qt",{value:e.queueTime}),e.applicationTime&&this.aggregator.store("measures","ap",{value:e.applicationTime}),this.aggregator.store("measures","be",{value:this.timeToFirstByte}),this.aggregator.store("measures","fe",{value:this.firstByteToWindowLoad}),this.aggregator.store("measures","dc",{value:this.firstByteToDomContent});const c={tt:e.ttGuid,us:e.user,ac:e.account,pr:e.product,af:d(this.agentIdentifier).join(","),...Object.entries(this.aggregator.get("measures")||{}).reduce(((e,t)=>{let[i,s]=t;return e[i]=s.params?.value,e}),{}),xx:e.extra,ua:e.userAttributes,at:e.atts};let h;if("object"==typeof e.jsAttributes&&Object.keys(e.jsAttributes).length>0&&(h={ja:e.jsAttributes}),s._A.performance)if("undefined"!=typeof PerformanceNavigationTiming){const e=s._A?.performance?.getEntriesByType("navigation")?.[0],i={timing:(0,n.wu)(t.offset,e,{}),navigation:(0,n.uB)(e,{})};c.perf=(0,r.P)(i)}else if("undefined"!=typeof PerformanceTiming){const e={timing:(0,n.wu)(t.offset,s._A.performance.timing,{},!0),navigation:(0,n.uB)(s._A.performance.navigation,{})};c.perf=(0,r.P)(e)}c.fp=g.U.current.value,c.fcp=m.y.current.value,i.send({endpoint:"rum",payload:{qs:c,body:h},opts:{needResponse:!0,sendEmptyBody:!0},cbFinished:e=>{let{status:t,responseText:i}=e;if(t>=400)this.ee.abort();else try{(0,l.N)(JSON.parse(i),this.agentIdentifier),this.drain()}catch(e){this.ee.abort(),(0,f.Z)("RUM call failed. Agent shutting down.")}}})}}},9766:(e,t,i)=>{i.r(t),i.d(t,{Aggregate:()=>A});var s=i(214),n=i(1284),r=i(2573),a=i(4322),o=i(5546),c=i(234),h=i(9251),u=i(3325),d=i(2222),l=i(8085),f=i(8158),p=i(2094),m=i(385);const g=new p.U(f.S.CUMULATIVE_LAYOUT_SHIFT,(e=>e));m.il&&(0,l.mw)((e=>{let{value:t,entries:i}=e;g.roundingMethod(t)!==g.current.value&&g.update({value:t,entries:i})}),{reportAllChanges:!0});var v=i(6069);const y=new p.U(f.S.FIRST_INPUT_DELAY);m.il&&(0,l.Fu)((e=>{let{value:t,entries:i}=e;m.iS||y.isValid||0===i.length||y.update({value:i[0].startTime,entries:i,attrs:{type:i[0].name,fid:Math.round(t)},shouldAddConnectionAttributes:!0})}));var b=i(8373);const T=new p.U(f.S.INTERACTION_TO_NEXT_PAINT);m.il&&(0,l.Yn)((e=>{let{value:t,entries:i,id:s}=e;T.update({value:t,entries:i,attrs:{metricId:s}})}));var S=i(4222);const w=new p.U(f.S.LARGEST_CONTENTFUL_PAINT);m.il&&(0,l.NO)((e=>{let{value:t,entries:i}=e;if(m.iS||w.isValid)return;const s=i[i.length-1];w.update({value:t,entries:i,...i.length>0&&{attrs:{size:s.size,eid:s.id,...!!s.url&&{elUrl:(0,S.f)(s.url)},...!!s.element?.tagName&&{elTag:s.element.tagName}}},shouldAddConnectionAttributes:!0})}));var N=i(4806),R=i(8310);const E=new p.U(f.S.LONG_TASK);if(m.il){const e=e=>{e.forEach((e=>{E.update({value:e.duration,entries:[e],attrs:{ltFrame:e.name,ltStart:e.startTime,ltCtr:e.attribution[0].containerType,..."window"!==e.attribution[0].containerType&&{ltCtrSrc:e.attribution[0].containerSrc,ltCtrId:e.attribution[0].containerId,ltCtrName:e.attribution[0].containerName}}})}))};let t;try{PerformanceObserver.supportedEntryTypes.includes("longtask")&&(t=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))})),t.observe({type:"longtask",buffered:!0}))}catch(e){}t&&(0,R.L)((()=>{e(t.takeRecords())}),!0)}class A extends d.m{static featureName=h.t;#t=e=>{let{name:t,value:i,attrs:s}=e;this.addTiming(t,i,s)};constructor(e,t){var i;super(e,t,h.t),i=this,this.timings=[],this.timingsSent=[],this.curSessEndRecorded=!1,b.U.subscribe(this.#t),v.y.subscribe(this.#t),y.subscribe(this.#t),w.subscribe(this.#t),T.subscribe(this.#t),N.P.subscribe((e=>{let{entries:t}=e;this.addTiming("load",Math.round(t[0].loadEventEnd))})),!0===(0,c.Mt)(this.agentIdentifier,"page_view_timing.long_task")&&E.subscribe(this.#t),(0,a.X)("docHidden",(e=>this.endCurrentSession(e)),this.featureName,this.ee),(0,a.X)("winPagehide",(e=>this.recordPageUnload(e)),this.featureName,this.ee);const s=(0,c.Mt)(this.agentIdentifier,"page_view_timing.initialHarvestSeconds")||10,n=(0,c.Mt)(this.agentIdentifier,"page_view_timing.harvestTimeSeconds")||30;this.ee.on("drain-".concat(this.featureName),(()=>{this.scheduler=new r.o("events",{onFinished:function(){return i.onHarvestFinished(...arguments)},getPayload:function(){return i.prepareHarvest(...arguments)}},this),this.scheduler.startTimer(n,s)})),this.drain()}endCurrentSession(e){this.curSessEndRecorded||(this.addTiming("pageHide",e,null),this.curSessEndRecorded=!0)}recordPageUnload(e){this.addTiming("unload",e,null),this.endCurrentSession(e)}addTiming(e,t,i){i=i||{},g.current.value>=0&&(i.cls=g.current.value),this.timings.push({name:e,value:t,attrs:i}),(0,o.p)("pvtAdded",[e,t,i],void 0,u.D.sessionTrace,this.ee)}onHarvestFinished(e){e.retry&&this.timingsSent.length>0&&(this.timings.unshift(...this.timingsSent),this.timingsSent=[])}appendGlobalCustomAttributes(e){var t=e.attrs||{},i=(0,c.C5)(this.agentIdentifier).jsAttributes||{},s=["size","eid","cls","type","fid","elTag","elUrl","net-type","net-etype","net-rtt","net-dlink"];(0,n.D)(i,(function(e,i){s.indexOf(e)<0&&(t[e]=i)}))}prepareHarvest(e){if(0!==this.timings.length){var t=this.getPayload(this.timings);if(e.retry)for(var i=0;i<this.timings.length;i++)this.timingsSent.push(this.timings[i]);return this.timings=[],{body:{e:t}}}}getPayload(e){for(var t=(0,s.FX)(this.agentIdentifier),i="bel.6;",n=0;n<e.length;n++){var r=e[n];i+="e,",i+=t(r.name)+",",i+=(0,s.AG)(r.value,s.uR,!1)+",",this.appendGlobalCustomAttributes(r);var a=(0,s.n1)(r.attrs,t);a&&a.length>0&&(i+=(0,s.uR)(a.length)+";"+a.join(";")),n+1<e.length&&(i+=";")}return i}}},9990:(e,t,i)=>{i.r(t),i.d(t,{AVG_COMPRESSION:()=>v,Aggregate:()=>R,IDEAL_PAYLOAD_SIZE:()=>w,MAX_PAYLOAD_SIZE:()=>S,RRWEB_VERSION:()=>g});var s=i(4322),n=i(2573),r=i(7144),a=i(4351),o=i(234),c=i(3860),h=i(2222),u=i(9139),d=i(4420),l=i(50),f=i(385),p=i(3081),m=i(3325);const g="2.0.0-alpha.8",v=.12;let y,b,T;const S=1e6,w=64e3,N={[c.IK.ERROR]:3e4,[c.IK.FULL]:3e5,[c.IK.OFF]:0};class R extends h.m{static featureName=r.t;constructor(e,t){super(e,t,r.t),this.events=[],this.harvestTimeSeconds=(0,o.Mt)(this.agentIdentifier,"session_replay.harvestTimeSeconds")||60,this.initialized=!1,this.errorNoticed=!1,this.mode=c.IK.OFF,this.blocked=!1,this.recording=!1,this.shouldCompress=!0,this.isFirstChunk=!1,this.hasSnapshot=!1,this.hasMeta=!1,this.hasError=!1,this.timestamp={event:{first:void 0,last:void 0},cycle:{first:void 0,last:void 0}},this.payloadBytesEstimation=0,this.lastMeta=void 0;const i=!0===(0,o.Mt)(e,"privacy.cookies_enabled")&&!0===(0,o.Mt)(e,"session_trace.enabled");this.stopRecording=()=>{},i&&(this.ee.on(c.wO.RESET,(()=>{this.abort("Session Reset")})),this.ee.on(c.wO.PAUSE,(()=>{this.stopRecording()})),this.ee.on(c.wO.RESUME,(()=>{this.initialized&&this.mode!==c.IK.OFF&&this.startRecording()})),this.scheduler=new n.o("browser/blobs",{onFinished:this.onHarvestFinished.bind(this),retryDelay:this.harvestTimeSeconds,getPayload:this.prepareHarvest.bind(this),raw:!0},this),(0,s.X)("errorAgg",(e=>{this.hasError=!0,this.errorNoticed=!0,this.mode===c.IK.ERROR&&(this.mode=c.IK.FULL,y&&this.initialized&&(this.stopRecording(),this.startRecording(),this.scheduler.startTimer(this.harvestTimeSeconds),this.syncWithSessionManager({sessionReplay:this.mode})))}),this.featureName,this.ee),this.waitForFlags(["sr"]).then((e=>{let[t]=e;return this.initializeRecording(t,100*Math.random()<(0,o.Mt)(this.agentIdentifier,"session_replay.error_sampling_rate"),100*Math.random()<(0,o.Mt)(this.agentIdentifier,"session_replay.sampling_rate"))})).then((()=>u.m.onReplayReady(this.mode))),this.drain())}async initializeRecording(e,t,s){if(this.initialized=!0,!e)return;const{session:n}=(0,o.OP)(this.agentIdentifier);if(n.isNew)if(s)this.mode=c.IK.FULL;else{if(!t)return;this.mode=c.IK.ERROR}else this.mode=n.state.sessionReplay;this.mode===c.IK.ERROR&&this.errorNoticed&&(this.mode=c.IK.FULL);try{y=(await i.e(433).then(i.bind(i,4019))).record}catch(e){return this.abort("Recorder failed to import")}this.mode===c.IK.FULL&&this.scheduler.startTimer(this.harvestTimeSeconds);try{const{gzipSync:e,strToU8:t}=await i.e(164).then(i.bind(i,3778));b=e,T=t}catch(e){this.shouldCompress=!1}this.startRecording(),this.isFirstChunk=!!n.isNew,this.syncWithSessionManager({sessionReplay:this.mode})}prepareHarvest(){if(0===this.events.length||this.mode!==c.IK.FULL&&!this.blocked)return;const e=this.getHarvestContents();return this.shouldCompress?(e.body=b(T((0,a.P)(e.body))),this.scheduler.opts.gzip=!0):this.scheduler.opts.gzip=!1,this.clearBuffer(),[e]}getHarvestContents(){const e=(0,o.OP)(this.agentIdentifier),t=(0,o.C5)(this.agentIdentifier),i=this.timestamp.event.first||this.timestamp.cycle.first,s=this.timestamp.event.last||this.timestamp.cycle.last;return{qs:{browser_monitoring_key:t.licenseKey,type:"SessionReplay",app_id:t.applicationID,protocol_version:"0",attributes:(0,d.j6)({...this.shouldCompress&&{content_encoding:"gzip"},"replay.firstTimestamp":i,"replay.lastTimestamp":s,"replay.durationMs":s-i,agentVersion:e.version,session:e.session.state.value,hasMeta:this.hasMeta,hasSnapshot:this.hasSnapshot,hasError:this.hasError,isFirstChunk:this.isFirstChunk,decompressedBytes:this.payloadBytesEstimation,"nr.rrweb.version":g},S-this.payloadBytesEstimation).substring(1)},body:this.events}}onHarvestFinished(e){429===e.status&&this.abort("429: Too many requests"),this.blocked&&this.scheduler.stopTimer(!0)}clearBuffer(){this.events=[],this.isFirstChunk=!1,this.hasSnapshot=!1,this.hasMeta=!1,this.hasError=!1,this.payloadBytesEstimation=0,this.clearTimestamps()}startRecording(){if(!y)return(0,l.Z)("Recording library was never imported"),this.abort("Recorder was never imported");this.clearTimestamps(),this.setTimestamps(),this.recording=!0;const{block_class:e,ignore_class:t,mask_text_class:i,block_selector:s,mask_input_options:n,mask_text_selector:r,mask_all_inputs:a}=(0,o.Mt)(this.agentIdentifier,"session_replay"),c=y({emit:this.store.bind(this),blockClass:e,ignoreClass:t,maskTextClass:i,blockSelector:s,maskInputOptions:n,maskTextSelector:r,maskAllInputs:a,checkoutEveryNms:N[this.mode]});this.stopRecording=()=>{this.recording=!1,c()}}store(e,t){if(this.setTimestamps(e),this.blocked)return;const i=(0,a.P)(e).length,s=this.getPayloadSize(i);if(s>S)return this.clearBuffer(),this.ee.emit(p.xS,["SessionReplay/Too-Big/Seen"],void 0,m.D.metrics,this.ee),this.abort("Payload too big");this.mode===c.IK.ERROR&&t&&this.clearBuffer(),4===e.type&&(this.hasMeta=!0,this.lastMeta=e),2===e.type&&(this.hasSnapshot=!0,this.hasMeta||(this.events.push(this.lastMeta),this.hasMeta=!0)),this.events.push(e),this.payloadBytesEstimation+=i,s>w&&this.mode!==c.IK.ERROR&&this.scheduler.runHarvest()}takeFullSnapshot(){y&&y.takeFullSnapshot()}setTimestamps(e){this.timestamp.cycle.last=(0,o.OP)(this.agentIdentifier).offset+f._A.performance.now(),this.timestamp.cycle.first||(this.timestamp.cycle.first=this.timestamp.cycle.last),e&&e.timestamp&&(this.timestamp.event.first||(this.timestamp.event.first=e.timestamp),this.timestamp.event.last=e.timestamp)}clearTimestamps(){this.timestamp={event:{first:void 0,last:void 0},cycle:{first:void 0,last:void 0}}}getPayloadSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.estimateCompression(this.payloadBytesEstimation+e)+1e3}abort(e){(0,l.Z)("SR aborted -- ".concat(e)),this.blocked=!0,this.mode=c.IK.OFF,this.stopRecording(),this.syncWithSessionManager({sessionReplay:this.mode}),this.clearTimestamps(),this.ee.emit("REPLAY_ABORTED")}estimateCompression(e){return this.shouldCompress?e*v:e}syncWithSessionManager(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{session:t}=(0,o.OP)(this.agentIdentifier);t.write(e)}}},6209:(e,t,i)=>{i.r(t),i.d(t,{Aggregate:()=>v});var s=i(4322),n=i(2573),r=i(7243),a=i(234),o=i(7894),c=i(3614);class h{#i=void 0;#s=[];#n=setTimeout((()=>this.#r()),5e3);#a=!1;#o(){this.#s.forEach((e=>e())),this.#r()}#r(){this.#s=[],clearTimeout(this.#n)}settle(e){!1===this.#i||(void 0===this.#i?this.#s.push(e):e())}decide(e){this.#a||(this.#i=e,!1===e&&this.#r(),!0===e&&this.#o())}permanentlyDecide(e){this.#a||(this.decide(e),this.#a=!0)}}var u=i(3860),d=i(8632),l=i(9139);var f=i(2222);const p={global:{mouseup:!0,mousedown:!0},window:{load:!0,pagehide:!0},xhrOriginMissing:{ignoreAll:!0}},m={typing:[1e3,2e3],scrolling:[100,1e3],mousing:[1e3,2e3],touching:[1e3,2e3]},g=6e5;class v extends f.m{static featureName=c.FEATURE_NAME;#c;constructor(e,t,i){var n;if(super(e,t,c.FEATURE_NAME),n=this,this.agentRuntime=(0,a.OP)(e),!this.agentRuntime.xhrWrappable)return;this.resourceObserver=i?.resourceObserver,this.ptid="",this.trace={},this.nodeCount=0,this.sentTrace=null,this.harvestTimeSeconds=(0,a.Mt)(e,"session_trace.harvestTimeSeconds")||10,this.maxNodesPerHarvest=(0,a.Mt)(e,"session_trace.maxNodesPerHarvest")||1e3,this.isStandalone=!1;const r=new h,o=this.agentRuntime.session;this.operationalGate=r;const f=e=>{switch(e){case u.IK.ERROR:this.startTracing(r,!0);break;case u.IK.FULL:case!0:this.startTracing(r);break;case u.IK.OFF:default:r.decide(!1)}};if(o){let t,i=!1;(0,s.X)("errorAgg",(()=>{i||(i=!0,o.state.sessionTraceMode===u.IK.ERROR&&this.#c&&(o.write({sessionTraceMode:t=u.IK.FULL}),this.trimSTNs(3e4),this.#c.runHarvest({needResponse:!0})))}),this.featureName,this.ee);const n=()=>{o.state.sessionTraceMode!==u.IK.OFF&&o.write({sessionTraceMode:u.IK.OFF}),r.permanentlyDecide(!1),t===u.IK.FULL&&this.#c?.runHarvest(),this.#c?.stopTimer(!0),this.#c=null};this.waitForFlags(["stn","sr"]).then((async s=>{let[r,c]=s;if(c)if(this.ee.on("REPLAY_ABORTED",(()=>n())),this.ee.on(u.wO.RESUME,(()=>{const e=o.state.sessionTraceMode;e===u.IK.OFF?n():e===u.IK.FULL&&this.#c&&!this.#c.started&&this.#c.runHarvest({needResponse:!0}),t=e})),this.ee.on(u.wO.PAUSE,(()=>{t=o.state.sessionTraceMode})),o.isNew){const s=await async function(e){try{const t=(0,d.fP)();if((0,a.Mt)(e,"session_replay.enabled")&&"object"==typeof t.initializedAgents[e].features.session_replay&&await t.initializedAgents[e].features.session_replay.onAggregateImported)return await l.m.sessionReplayInitialized}catch(e){}return u.IK.OFF}(e);let n;s===u.IK.OFF&&(this.isStandalone=!0),n=!0===r||s===u.IK.ERROR&&i?u.IK.FULL:s,o.write({sessionTraceMode:t=n}),f(n)}else o.state.sessionReplay===u.IK.OFF&&(this.isStandalone=!0),f(t=o.state.sessionTraceMode);else this.isStandalone=!0,f(r)}))}else this.isStandalone=!0,(0,s.X)("rumresp-stn",(e=>f(e)),this.featureName,this.ee);(0,s.X)("bst",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.settle((()=>n.storeEvent(...t)))}),this.featureName,this.ee),(0,s.X)("bstResource",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.settle((()=>n.storeResources(...t)))}),this.featureName,this.ee),(0,s.X)("bstHist",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.settle((()=>n.storeHist(...t)))}),this.featureName,this.ee),(0,s.X)("bstXhrAgg",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.settle((()=>n.storeXhrAgg(...t)))}),this.featureName,this.ee),(0,s.X)("bstApi",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.settle((()=>n.storeSTN(...t)))}),this.featureName,this.ee),(0,s.X)("errorAgg",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.settle((()=>n.storeErrorAgg(...t)))}),this.featureName,this.ee),(0,s.X)("pvtAdded",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.settle((()=>n.processPVT(...t)))}),this.featureName,this.ee),this.drain()}startTracing(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"undefined"!=typeof PerformanceNavigationTiming?this.storeTiming(window.performance.getEntriesByType("navigation")[0]):this.storeTiming(window.performance.timing),this.#c=new n.o("resources",{onFinished:this.#h.bind(this),retryDelay:this.harvestTimeSeconds},this),this.#c.harvest.on("resources",this.#u.bind(this)),!1===t&&this.#c.runHarvest({needResponse:!0}),e.decide(!0)}#h(e){e.sent&&e.responseText&&!this.ptid&&(this.agentRuntime.ptid=this.ptid=e.responseText,this.#c.startTimer(this.harvestTimeSeconds)),e.sent&&e.retry&&this.sentTrace&&(Object.entries(this.sentTrace).forEach((e=>{let[t,i]=e;this.nodeCount>=this.maxNodesPerHarvest||(this.nodeCount+=i.length,this.trace[t]=this.trace[t]?i.concat(this.trace[t]):i)})),this.sentTrace=null)}#u(e){if(this.isStandalone){if(this.ptid&&(0,o.z)()>=g)e.isFinalHarvest=!0,this.operationalGate.permanentlyDecide(!1),this.#c.stopTimer(!0);else if(this.ptid&&this.nodeCount<=30&&!e.isFinalHarvest)return}else{const e=this.agentRuntime.session.state.sessionTraceMode;if(e===u.IK.OFF&&0===Object.keys(this.trace).length)return;if(e===u.IK.ERROR)return}return this.takeSTNs(e.retry)}processPVT(e,t,i){this.storeTiming({[e]:t}),function(e,t){return"fi"===e&&!!t&&"number"==typeof t.fid}(e,i)&&this.storeEvent({type:"fid",target:"document"},"document",t,t+i.fid)}storeTiming(e){if(e)for(let t in e){let i=e[t];const s=t.toLowerCase();s.indexOf("size")>=0||s.indexOf("status")>=0||"number"==typeof i&&i>=0&&(i=Math.round(i),this.storeSTN({n:t,s:i,e:i,o:"document",t:"timing"}))}}storeEvent(e,t,i,s){if(this.shouldIgnoreEvent(e,t))return;const n={n:this.evtName(e.type),s:i,e:s,t:"event"};try{n.o=this.evtOrigin(e.target,t)}catch(e){n.o=this.evtOrigin(null,t)}this.storeSTN(n)}shouldIgnoreEvent(e,t){const i=this.evtOrigin(e.target,t);return e.type in p.global||(!(!p[i]||!p[i].ignoreAll)||!(!p[i]||!(e.type in p[i])))}evtName(e){switch(e){case"keydown":case"keyup":case"keypress":return"typing";case"mousemove":case"mouseenter":case"mouseleave":case"mouseover":case"mouseout":return"mousing";case"scroll":return"scrolling";case"touchstart":case"touchmove":case"touchend":case"touchcancel":case"touchenter":case"touchleave":return"touching";default:return e}}evtOrigin(e,t){let i="unknown";if(e&&e instanceof XMLHttpRequest){const t=this.ee.context(e).params;if(!(t&&t.status&&t.method&&t.host&&t.pathname))return"xhrOriginMissing";i=t.status+" "+t.method+": "+t.host+t.pathname}else if(e&&"string"==typeof e.tagName&&(i=e.tagName.toLowerCase(),e.id&&(i+="#"+e.id),e.className))for(let t=0;t<e.classList.length;t++)i+="."+e.classList[t];return"unknown"===i&&("string"==typeof t?i=t:t===document?i="document":t===window?i="window":t instanceof FileReader&&(i="FileReader")),i}storeHist(e,t,i){const s={n:"history.pushState",s:i,e:i,o:e,t};this.storeSTN(s)}#d=0;storeResources(e){e&&0!==e.length&&(e.forEach((e=>{if((0|e.fetchStart)<=this.#d)return;const t=(0,r.e)(e.name),i={n:e.initiatorType,s:0|e.fetchStart,e:0|e.responseEnd,o:t.protocol+"://"+t.hostname+":"+t.port+t.pathname,t:e.entryType};this.storeSTN(i)})),this.#d=0|e[e.length-1].fetchStart)}storeErrorAgg(e,t,i,s){if("err"!==e)return;const n={n:"error",s:s.time,e:s.time,o:i.message,t:i.stackHash};this.storeSTN(n)}storeXhrAgg(e,t,i,s){if("xhr"!==e)return;const n={n:"Ajax",s:s.time,e:s.time+s.duration,o:i.status+" "+i.method+": "+i.host+i.pathname,t:"ajax"};this.storeSTN(n)}storeSTN(e){if(this.nodeCount>=this.maxNodesPerHarvest){if(this.isStandalone||this.agentRuntime.session.state.sessionTraceMode!==u.IK.ERROR)return;if(0===this.trimSTNs(3e4))return}this.isStandalone&&(0,o.z)()>=g||(this.trace[e.n]?this.trace[e.n].push(e):this.trace[e.n]=[e],this.nodeCount++)}trimSTNs(e){let t=0;const i=Math.max((0,o.z)()-e,0);return Object.keys(this.trace).forEach((e=>{const s=this.trace[e];let n=s.findIndex((e=>i<=e.e));0!==n&&(n<0?(n=s.length,delete this.trace[e]):s.splice(0,n),this.nodeCount-=n,t+=n)})),t}takeSTNs(e){this.resourceObserver||this.storeResources(window.performance.getEntriesByType("resource"));let t=1/0;const i=Object.entries(this.trace).flatMap((e=>{let[i,s]=e;const n=s.reduce(((e,t)=>!e||t.s<e?t.s:e),void 0);if(n<t&&(t=n),!(i in m))return s;const r=this.smearEvtsByOrigin(i),a=s.sort(((e,t)=>e.s-t.s)).reduce(r,{});return Object.values(a).flat()}),this);return 0===i.length?{}:(e&&(this.sentTrace=this.trace),this.trace={},this.nodeCount=0,{qs:{st:this.agentRuntime.offset,hr:Number(!this.isStandalone),fts:this.agentRuntime.offset+t,n:i.length},body:{res:i}})}smearEvtsByOrigin(e){const t=m[e][0],i=m[e][1],s={};return(n,r)=>{let a=n[r.o];a||(a=n[r.o]=[]);const o=s[r.o];return"scrolling"!==e||function(e){const t=4;return!!(e&&"number"==typeof e.e&&"number"==typeof e.s&&e.e-e.s<t)}(r)?o&&r.s-o.s<i&&o.e>r.s-t?o.e=r.e:(s[r.o]=r,a.push(r)):(s[r.o]=null,r.n="scroll",a.push(r)),n}}}},2782:(e,t,i)=>{i.r(t),i.d(t,{Aggregate:()=>K});var s=i(4322),n=i(7243),r=i(1199),a=i(1284),o=i(5998),c=i(4402),h=i(234),u=i(8325),d=0;function l(e,t,i,s){Object.defineProperty(this,"interaction",{value:e,writable:!0}),this.parent=t,this.id=++d,this.type=i,this.children=[],this.end=null,this.jsEnd=this.start=s,this.jsTime=0,this.attrs={},this.cancelled=!1}var f=l.prototype;f.child=function(e,t,i,s){var n=this.interaction;if(n.end||n.nodes>=128)return null;n.onNodeAdded(this);var r=new l(n,this,e,t);return r.attrs.name=i,n.nodes++,s||n.remaining++,r},f.callback=function(e,t){var i=this;i.jsTime+=e,t>i.jsEnd&&(i.jsEnd=t,i.interaction.lastCb=t)},f.cancel=function(){this.cancelled=!0,this.interaction.remaining--},f.finish=function(e){var t=this;if(t.end)return;t.end=e;let i=t.parent;for(;i?.cancelled;)i=i.parent;i&&i.children.push(t),t.parent=null;var s=this.interaction;s.remaining--,s.lastFinish=e,s.checkFinish()};var p=h.Yu.ST,m=h.Yu.CT,g={};function v(e,t,i,s,n,r){this.agentIdentifier=r,this.ee=u.ee.get(r),g[r]=0,this.id=++g[r],this.eventName=e,this.nodes=0,this.remaining=0,this.finishTimer=null,this.checkingFinish=!1,this.lastCb=this.lastFinish=t,this.handlers=[],this.onFinished=n,this.done=!1;var a=(this.root=new l(this,null,"interaction",t)).attrs;a.trigger=e,a.initialPageURL=(0,h.OP)(r).origin,a.oldRoute=s,a.newURL=a.oldURL=i,a.custom={},a.store={}}var y=v.prototype;y.checkFinish=function(){var e=this;e.remaining>0?e._resetFinishCheck():e.checkingFinish||null===e.root.end&&(e._resetFinishCheck(),e.checkingFinish=!0,e.finishTimer=p((()=>{e.checkingFinish=!1,e.finishTimer=p((()=>{e.finishTimer=null,e.remaining<=0&&e.finish()}),1)}),0))},y.setNewURL=function(e){this.root.attrs.newURL=e},y.setNewRoute=function(e){this.root.attrs.newRoute=e},y.onNodeAdded=function(){this._resetFinishCheck()},y._resetFinishCheck=function(){this.finishTimer&&(m(this.finishTimer),this.finishTimer=null,this.checkingFinish=!1)},y.finish=function(){var e=this,t=e.root;if(null===t.end){var i=Math.max(e.lastCb,e.lastFinish),s=t.attrs.custom;this.onFinished&&this.onFinished(this),(0,a.D)((0,h.C5)(e.agentIdentifier).jsAttributes,(function(e,t){e in s||(s[e]=t)})),t.end=i,e.ee.emit("interaction",[this])}};var b=i(3239),T=i(2573),S=i(4222),w=i(214),N=i(1117);class R extends N.w{constructor(e){super(e),this.firstTimestamp=void 0}serializeMultiple(e,t,i){const s=(0,h.C5)(this.sharedContext.agentIdentifier);var n=(0,w.FX)(this.sharedContext.agentIdentifier),r="bel.7";return e.forEach((e=>{r+=";"+this.serializeInteraction(e.root,t,i,e.routeChange,n,s)})),this.firstTimestamp=void 0,r}serializeSingle(e,t,i,s){const n=(0,h.C5)(this.sharedContext.agentIdentifier);var r=(0,w.FX)(this.sharedContext.agentIdentifier),a="bel.7;"+this.serializeInteraction(e,t,i,s,r,n);return this.firstTimestamp=void 0,a}serializeInteraction(e,t,i,s,n,r){t=t||0;var o="initialPageLoad"===e.attrs.trigger,c={interaction:1,ajax:2,customTracer:4},h=!0;const u=(e,d)=>{if("customEnd"===e.type)return d.push([3,(0,w.uR)(e.end-this.firstTimestamp)]);var l=e.type,f=c[l],p=e.start,m=e.children.length,g=0,v=r.atts,y=o&&i.length&&1===f,b=[],T=e.attrs,N=T.metrics,R=T.params,E=r.queueTime,A=r.applicationTime;void 0===this.firstTimestamp?(p+=t,this.firstTimestamp=p):p-=this.firstTimestamp;var I=[(0,w.uR)(p),(0,w.uR)(e.end-e.start),(0,w.uR)(e.jsEnd-e.end),(0,w.uR)(e.jsTime)];switch(f){case 1:I[2]=(0,w.uR)(e.jsEnd-this.firstTimestamp),I.push(n(T.trigger),n((0,S.f)(T.initialPageURL,h)),n((0,S.f)(T.oldURL,h)),n((0,S.f)(T.newURL,h)),n(T.customName),o?"":s?1:2,(0,w.AG)(o&&E,w.uR,!0)+(0,w.AG)(o&&A,w.uR,!0)+(0,w.AG)(T.oldRoute,n,!0)+(0,w.AG)(T.newRoute,n,!0)+n(T.id),n(e.id),(0,w.AG)(T.firstPaint,w.uR,!0)+(0,w.AG)(T.firstContentfulPaint,w.uR,!1));var P=(0,w.n1)(T.custom,n);b=b.concat(P),g=P.length,v&&(m++,b.push("a,"+n(v)));break;case 2:I.push(n(R.method),(0,w.uR)(R.status),n(R.host),n(R.pathname),(0,w.uR)(N.txSize),(0,w.uR)(N.rxSize),T.isFetch?1:T.isJSONP?2:"",n(e.id),(0,w.AG)(e.dt&&e.dt.spanId,n,!0)+(0,w.AG)(e.dt&&e.dt.traceId,n,!0)+(0,w.AG)(e.dt&&e.dt.timestamp,w.uR,!1));break;case 4:var O=T.tracedTime;I.push(n(T.name),(0,w.AG)(O,w.uR,!0)+n(e.id))}for(var x=0;x<e.children.length;x++)u(e.children[x],b);if(I.unshift((0,w.uR)(f),(0,w.uR)(m+=g)),d.push(I),m&&d.push(b.join(";")),y){var M=",",k="b",C=0;(0,a.D)(i.slice(1,21),(function(e,t){void 0!==t?(k+=M+(0,w.uR)(t-C),M=",",C=t):(k+=M+"!",M="")})),d.push(k)}else 1===f&&d.push("");return d};return u(e,[]).join(";")}}var E=i(7836),A=i(3325),I=i(2222),P=i(6069),O=i(8373);const{FEATURE_NAME:x,INTERACTION_EVENTS:M,MAX_TIMER_BUDGET:k,FN_START:C,FN_END:F,CB_START:_,INTERACTION_API:j,REMAINING:L,INTERACTION:D,SPA_NODE:H,JSONP_NODE:U,FETCH_START:B,FETCH_DONE:X,FETCH_BODY:z,JSONP_END:q,originalSetTimeout:G}=E;class K extends I.m{static featureName=x;constructor(e,t){super(e,t,x),this.state={initialPageURL:(0,h.OP)(e).origin,lastSeenUrl:(0,h.OP)(e).origin,lastSeenRouteName:null,timerMap:{},timerBudget:k,currentNode:null,prevNode:null,nodeOnLastHashUpdate:null,initialPageLoad:null,pageLoaded:!1,childTime:0,depth:0,harvestTimeSeconds:(0,h.Mt)(e,"spa.harvestTimeSeconds")||10,interactionsToHarvest:[],interactionsSent:[]},this.serializer=new R(this);const{state:i,serializer:d}=this;let{blocked:l}=this;const f=u.ee.get(e),p=f.get("mutation"),m=f.get("promise"),g=f.get("history"),y=f.get("events"),S=f.get("timer"),w=f.get("fetch"),N=f.get("jsonp"),E=f.get("xhr"),I=f.get("tracer"),K=new T.o("events",{onFinished:function(e){e.sent&&e.retry&&i.interactionsSent.length>0&&(i.interactionsSent.forEach((function(e){i.interactionsToHarvest.unshift(e)})),i.interactionsSent=[])},retryDelay:i.harvestTimeSeconds},{agentIdentifier:e,ee:f});if(K.harvest.on("events",(function(e){if(0===i.interactionsToHarvest.length||l)return{};var t=d.serializeMultiple(i.interactionsToHarvest,0,o.zJ);e.retry&&i.interactionsToHarvest.forEach((function(e){i.interactionsSent.push(e)}));return i.interactionsToHarvest=[],{body:{e:t}}})),(0,s.X)("block-spa",(()=>{l=!0,K.stopTimer(!0)}),this.featureName,f),!1!==(0,h.Mt)(e,"spa.enabled")){i.initialPageLoad=new v("initialPageLoad",0,i.lastSeenUrl,i.lastSeenRouteName,te,e),i.initialPageLoad.save=!0,i.prevInteraction=i.initialPageLoad,i.currentNode=i.initialPageLoad.root,i.initialPageLoad[L]++,(0,s.X)(C,W,this.featureName,f),(0,s.X)(_,W,this.featureName,m);var V={getCurrentNode:function(){return i.currentNode},setCurrentNode:ee};(0,s.X)("spa-register",(function(e){"function"==typeof e&&e(V)}),A.D.spa,f),(0,s.X)(F,Z,this.featureName,f),(0,s.X)("cb-end",Z,this.featureName,m),(0,s.X)(C,(function(t,s){var n=t[0],r=n.type,a=n.__nrNode;if(i.pageLoaded||"load"!==r||s!==window||(i.pageLoaded=!0,this.prevNode=i.currentNode=null,i.initialPageLoad&&(a=i.initialPageLoad.root,i.initialPageLoad[L]=0,G((function(){M.push("popstate")})))),a)ee(a);else if("hashchange"===r)ee(i.nodeOnLastHashUpdate),i.nodeOnLastHashUpdate=null;else if(s instanceof XMLHttpRequest)ee(f.context(s).spaNode);else if(!i.currentNode&&-1!==M.indexOf(r)){var o=new v(r,this[C],i.lastSeenUrl,i.lastSeenRouteName,te,e);if(i.prevInteraction=o,ee(o.root),"click"===r){var c=function(e){var t=e.tagName.toLowerCase();if(-1!==["a","button","input"].indexOf(t))return e.title||e.value||e.innerText}(n.target);c&&(i.currentNode.attrs.custom.actionText=c)}}n.__nrNode=i.currentNode}),this.featureName,y),(0,s.X)("setTimeout-end",(function(e,t,s){!i.currentNode||i.timerBudget-this.timerDuration<0||(!e||e[0]instanceof Function)&&(i.currentNode[D][L]++,this.timerId=s,i.timerMap[s]=i.currentNode,this.timerBudget=i.timerBudget-50)}),this.featureName,S),(0,s.X)("clearTimeout-start",(function(e){var t=e[0],s=i.timerMap[t];if(s){var n=s[D];n[L]--,n.checkFinish(),delete i.timerMap[t]}}),this.featureName,S),(0,s.X)(C,(function(){i.timerBudget=this.timerBudget||k;var e=this.timerId,t=i.timerMap[e];ee(t),delete i.timerMap[e],t&&t[D][L]--}),this.featureName,S),(0,s.X)(C,(function(){ee(this[H])}),this.featureName,E),(0,s.X)("new-xhr",(function(){if(!i.currentNode&&i.prevInteraction&&!i.prevInteraction.ignored){const e=i.prevInteraction;i.currentNode=e.root,e.root.end=null}i.currentNode&&(this[H]=i.currentNode.child("ajax",null,null,!0))}),this.featureName,E),(0,s.X)("send-xhr-start",(function(){var e=this[H];e&&!this.sent&&(this.sent=!0,e.dt=this.dt,e.jsEnd=e.start=this.startTime,e[D][L]++)}),this.featureName,E),(0,s.X)("xhr-resolved",(function(){var e=this[H];if(e){if(!(0,r.z)(this.params))return void e.cancel();var t=e.attrs;t.params=this.params,t.metrics=this.metrics,e.finish(this.endTime),this.currentNode&&this.currentNode.interaction&&this.currentNode.interaction.checkFinish()}}),this.featureName,f),(0,s.X)("new-jsonp",(function(e){i.currentNode&&((this[U]=i.currentNode.child("ajax",this[B])).start=this["new-jsonp"],this.url=e,this.status=null)}),this.featureName,N),(0,s.X)("cb-start",(function(e){var t=this[U];t&&(ee(t),this.status=200)}),this.featureName,N),(0,s.X)("jsonp-error",(function(){var e=this[U];e&&(ee(e),this.status=0)}),this.featureName,N),(0,s.X)(q,(function(){var e=this[U];if(e){if(null===this.status)return void e.cancel();var t=e.attrs,i=t.params={},s=(0,n.e)(this.url);i.method="GET",i.pathname=s.pathname,i.host=s.hostname+":"+s.port,i.status=this.status,t.metrics={txSize:0,rxSize:0},t.isJSONP=!0,e.jsEnd=this[q],e.jsTime=this[_]?this[q]-this[_]:0,e.finish(e.jsEnd)}}),this.featureName,N),(0,s.X)(B,(function(e,t){if(e){if(!i.currentNode&&i.prevInteraction&&!i.prevInteraction.ignored){const e=i.prevInteraction;i.currentNode=e.root,e.root.end=null}i.currentNode&&(this[H]=i.currentNode.child("ajax",this[B]),t&&this[H]&&(this[H].dt=t))}}),this.featureName,w),(0,s.X)(z+"start",(function(e){i.currentNode&&(this[H]=i.currentNode,i.currentNode[D][L]++)}),this.featureName,w),(0,s.X)(z+"end",(function(e,t,i){var s=this[H];s&&s[D][L]--}),this.featureName,w),(0,s.X)(X,(function(e,t){var i=this[H];if(i){if(e||!(0,r.z)(this.params))return void i.cancel();var s=i.attrs;s.params=this.params,s.metrics={txSize:this.txSize,rxSize:this.rxSize},s.isFetch=!0,i.finish(this[X])}}),this.featureName,w),(0,s.X)("newURL",(function(e,t){if(i.currentNode)i.currentNode[D].setNewURL(e);else if(i.prevInteraction&&!i.prevInteraction.ignored){const t=i.prevInteraction;t.setNewURL(e),t.root.end=null,ee(t.root)}i.currentNode&&(i.lastSeenUrl!==e&&(i.currentNode[D].routeChange=!0),t&&(i.nodeOnLastHashUpdate=i.currentNode)),i.lastSeenUrl=e}),this.featureName,g),N.on("dom-start",(function(e){if(i.currentNode){var t=e[0],s=t&&"SCRIPT"===t.nodeName&&""!==t.src,n=i.currentNode.interaction;s&&(n[L]++,t.addEventListener("load",(function(){n[L]--,n.checkFinish()}),(0,b.m$)(!1)),t.addEventListener("error",(function(){n[L]--,n.checkFinish()}),(0,b.m$)(!1)))}})),(0,s.X)(C,(function(){ee(i.prevNode)}),this.featureName,p),(0,s.X)("resolve-start",Q,this.featureName,m),(0,s.X)("executor-err",Q,this.featureName,m),(0,s.X)("propagate",(function(e,t){!t&&this[H]||(this[H]=i.currentNode)}),this.featureName,m),(0,s.X)(_,(function(){ee((this.getCtx?this.getCtx():this)[H])}),this.featureName,m),(0,s.X)(j+"get",(function(t){var s;s=this.ixn=i?.currentNode?.[D]?i.currentNode[D]:null===i?.prevNode?.end&&"initialPageLoad"!==i?.prevNode?.[D]?.root?.[D]?.eventName?i.prevNode[D]:new v("api",t,i.lastSeenUrl,i.lastSeenRouteName,te,e),i.currentNode||(s.checkFinish(),i.depth&&ee(s.root))}),this.featureName,f),(0,s.X)(j+"actionText",(function(e,t){var i=this.ixn.root.attrs.custom;t&&(i.actionText=t)}),this.featureName,f),(0,s.X)(j+"setName",(function(e,t,i){var s=this.ixn.root.attrs;t&&(s.customName=t),i&&(s.trigger=i)}),this.featureName,f),(0,s.X)(j+"setAttribute",(function(e,t,i){this.ixn.root.attrs.custom[t]=i}),this.featureName,f),(0,s.X)(j+"end",(function(e){var t=this.ixn,i=J(t);ee(null),i.child("customEnd",e).finish(e),t.finish()}),this.featureName,f),(0,s.X)(j+"ignore",(function(e){this.ixn.ignored=!0}),this.featureName,f),(0,s.X)(j+"save",(function(e){this.ixn.save=!0}),this.featureName,f),(0,s.X)(j+"tracer",(function(e,t,i){var s=this.ixn,n=J(s),r=f.context(i);if(!t)return r.inc=++s[L],r[H]=n;r[H]=n.child("customTracer",e,t)}),this.featureName,f),(0,s.X)(C,Y,this.featureName,I),(0,s.X)("no-"+C,Y,this.featureName,I),(0,s.X)(j+"getContext",(function(e,t){var i=this.ixn.root.attrs.store;setTimeout((function(){t(i)}),0)}),this.featureName,f),(0,s.X)(j+"onEnd",(function(e,t){this.ixn.handlers.push(t)}),this.featureName,f),(0,s.X)("api-routeName",(function(e,t){i.lastSeenRouteName=t,i.currentNode&&i.currentNode[D].setNewRoute(t)}),this.featureName,f),f.on("errorAgg",(function(e,t,s,n){i.currentNode&&(s._interactionId=i.currentNode.interaction.id,i.currentNode.type&&"interaction"!==i.currentNode.type&&(s._interactionNodeId=i.currentNode.id))})),f.on("interaction",(function(e){if(e.ignored||!e.save&&!e.routeChange)return void f.emit("interactionDiscarded",[e]);i.prevInteraction===e&&(i.prevInteraction=null);e.root.attrs.id=(0,c.Rl)(),"initialPageLoad"===e.root.attrs.trigger&&(e.root.attrs.firstPaint=O.U.current.value,e.root.attrs.firstContentfulPaint=P.y.current.value);f.emit("interactionSaved",[e]),i.interactionsToHarvest.push(e),K.scheduleHarvest(0)})),this.drain()}function W(){i.depth++,this.prevNode=i.currentNode,this.ct=i.childTime,i.childTime=0,i.timerBudget=k}function Z(){i.depth--;var e=this.jsTime||0,t=e-i.childTime;i.childTime=this.ct+e,i.currentNode&&(i.currentNode.callback(t,this[F]),this.isTraced&&(i.currentNode.attrs.tracedTime=t)),this.jsTime=i.currentNode?0:t,ee(this.prevNode),this.prevNode=null,i.timerBudget=k}function Y(e,t,i){var s=this[H];if(s){var n=s[D],r=this.inc;this.isTraced=!0,r?n[L]--:s&&s.finish(e),i?ee(s):n.checkFinish()}}function J(e){return i.currentNode&&i.currentNode[D]===e?i.currentNode:e.root}function Q(){this.resolved||(this.resolved=!0,this[H]=i.currentNode)}function ee(e){i.pageLoaded||e||!i.initialPageLoad||(e=i.initialPageLoad.root),i.currentNode&&i.currentNode[D].checkFinish(),i.prevNode=i.currentNode,i.currentNode=e&&!e[D].root.end?e:null}function te(e){e===i.initialPageLoad&&(i.initialPageLoad=null);var t=e.root,s=t.attrs;i.currentNode=t,(0,a.D)(e.handlers,(function(e,t){t(s.store)})),ee(null)}}}},3228:(e,t,i)=>{i.d(t,{setupAgentSession:()=>d});var s=i(234),n=i(8e3),r=i(8325),a=i(4322),o=i(3860);class c{get(e){try{return localStorage.getItem(e)||void 0}catch(e){return""}}set(e,t){try{return null==t?this.remove(e):localStorage.setItem(e,t)}catch(e){}}remove(e){try{localStorage.removeItem(e)}catch(e){}}}class h{constructor(e){this.domain=e}get(e){try{var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));if(t)return t[2]}catch(e){return""}}set(e,t){try{const i="".concat(e,"=").concat(t,"; Domain=").concat(this.domain,"; Path=/");document.cookie=i}catch(e){}}remove(e){try{document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; Domain=").concat(this.domain,"; Path=/")}catch(e){}}}let u=0;function d(e){const t=(0,s.OP)(e);if(u++)return t.session;const i=(0,s.P_)(e).session,d=i?.domain?new h(i.domain):new c;t.session=new o.$s({agentIdentifier:e,key:"SESSION",storage:d,expiresMs:i?.expiresMs,inactiveMs:i?.inactiveMs});const l=t.session.state.custom,f=(0,s.C5)(e);l&&(f.jsAttributes={...f.jsAttributes,...l});const p=r.ee.get(e);return(0,a.X)("api-setCustomAttribute",((e,i,s)=>{t.session.syncCustomAttribute(i,s)}),"session",p),(0,a.X)("api-setUserId",((e,i,s)=>{t.session.syncCustomAttribute(i,s)}),"session",p),(0,n.L)(e,"session"),t.session}},2222:(e,t,i)=>{i.d(t,{m:()=>h});var s=i(4322),n=i(5938),r=i(234),a=i(7530),o=i(8632),c=i(8e3);class h extends n.W{constructor(){super(...arguments),this.checkConfiguration()}waitForFlags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(e.map((e=>new Promise((t=>{(0,s.X)("rumresp-".concat(e),(e=>t(e)),this.featureName,this.ee)})))))}drain(){(0,c.L)(this.agentIdentifier,this.featureName)}checkConfiguration(){if(!(0,r.lF)(this.agentIdentifier)){let e={...(0,o.gG)().info?.jsAttributes};try{e={...e,...(0,r.C5)(this.agentIdentifier)?.jsAttributes}}catch(e){}(0,a.j)(this.agentIdentifier,{...(0,o.gG)(),info:{...(0,o.gG)().info,jsAttributes:e},runtime:(0,r.OP)(this.agentIdentifier)})}}}},8582:(e,t,i)=>{i.d(t,{lazyFeatureLoader:()=>n});var s=i(3325);function n(e,t){if("aggregate"===t)switch(e){case s.D.ajax:return i.e(111).then(i.bind(i,5039));case s.D.jserrors:return i.e(111).then(i.bind(i,1028));case s.D.metrics:return i.e(111).then(i.bind(i,8939));case s.D.pageAction:return i.e(111).then(i.bind(i,1832));case s.D.pageViewEvent:return i.e(111).then(i.bind(i,3609));case s.D.pageViewTiming:return i.e(111).then(i.bind(i,9766));case s.D.sessionReplay:return i.e(111).then(i.bind(i,9990));case s.D.sessionTrace:return i.e(111).then(i.bind(i,6209));case s.D.spa:return i.e(111).then(i.bind(i,2782));default:throw new Error("Attempted to load unsupported agent feature: ".concat(e," ").concat(t))}}},7438:(e,t,i)=>{i.r(t),i.d(t,{setAPI:()=>l});var s=i(3325),n=i(234),r=i(8325),a=i(5546),o=i(4322),c=i(7872),h=i(4247),u=i(385),d=i(3081);function l(e){var t=r.ee.get(e),i=0,l={finished:(0,c.Z)((function(i,r){var o=r?r-(0,n.OP)(e).offset:i;(0,a.p)(d.vz,["finished",{time:o}],void 0,s.D.metrics,t),f(i,{name:"finished",start:o+(0,n.OP)(e).offset,origin:"nr"}),(0,a.p)("api-addPageAction",[o,"finished"],void 0,s.D.pageAction,t)})),setErrorHandler:function(t,i){(0,n.OP)(e).onerror=i},addToTrace:f,inlineHit:function(t,s,r,a,o,c,d){if(!u.il)return;s=window.encodeURIComponent(s),i+=1;const l=(0,n.C5)(e);if(!l.beacon)return;const f=(0,n.P_)(e),p=!1===f.ssl?"http":"https",m=f.proxy.beacon||l.beacon;let g="".concat(p,"://").concat(m,"/1/").concat(l.licenseKey);g+="?a="+l.applicationID+"&",g+="t="+s+"&",g+="qt="+~~r+"&",g+="ap="+~~a+"&",g+="be="+~~o+"&",g+="dc="+~~c+"&",g+="fe="+~~d+"&",g+="c="+i,h.Be({url:g})},addRelease:function(t,i,s){if(++p>10)return;(0,n.OP)(e).releaseIds[i.slice(-200)]=(""+s).slice(-200)}};function f(i,r){if(r&&"object"==typeof r&&r.name&&r.start){var o={n:r.name,s:r.start-(0,n.OP)(e).offset,e:(r.end||r.start)-(0,n.OP)(e).offset,o:r.origin||"",t:"api"};(0,a.p)("bstApi",[o],void 0,s.D.sessionTrace,t)}}Object.entries(l).forEach((e=>{let[i,s]=e;return(0,o.X)("api-"+i,s,"api",t)}));var p=0}},8085:(e,t,i)=>{i.d(t,{Fu:()=>j,NO:()=>Q,Yn:()=>Z,a4:()=>A,mr:()=>ie,mw:()=>P});var s,n,r,a,o,c=-1,h=function(e){addEventListener("pageshow",(function(t){t.persisted&&(c=t.timeStamp,e(t))}),!0)},u=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},d=function(){var e=u();return e&&e.activationStart||0},l=function(e,t){var i=u(),s="navigate";return c>=0?s="back-forward-cache":i&&(s=document.prerendering||d()>0?"prerender":document.wasDiscarded?"restore":i.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:s}},f=function(e,t,i){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var s=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return s.observe(Object.assign({type:e,buffered:!0},i||{})),s}}catch(e){}},p=function(e,t,i,s){var n,r;return function(a){t.value>=0&&(a||s)&&((r=t.value-(n||0))||void 0===n)&&(n=t.value,t.delta=r,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,i),e(t))}},m=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},g=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},v=function(e){var t=!1;return function(i){t||(e(i),t=!0)}},y=-1,b=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},T=function(e){"hidden"===document.visibilityState&&y>-1&&(y="visibilitychange"===e.type?e.timeStamp:0,w())},S=function(){addEventListener("visibilitychange",T,!0),addEventListener("prerenderingchange",T,!0)},w=function(){removeEventListener("visibilitychange",T,!0),removeEventListener("prerenderingchange",T,!0)},N=function(){return y<0&&(y=b(),S(),h((function(){setTimeout((function(){y=b(),S()}),0)}))),{get firstHiddenTime(){return y}}},R=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},E=[1800,3e3],A=function(e,t){t=t||{},R((function(){var i,s=N(),n=l("FCP"),r=f("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(r.disconnect(),e.startTime<s.firstHiddenTime&&(n.value=Math.max(e.startTime-d(),0),n.entries.push(e),i(!0)))}))}));r&&(i=p(e,n,E,t.reportAllChanges),h((function(s){n=l("FCP"),i=p(e,n,E,t.reportAllChanges),m((function(){n.value=performance.now()-s.timeStamp,i(!0)}))})))}))},I=[.1,.25],P=function(e,t){t=t||{},A(v((function(){var i,s=l("CLS",0),n=0,r=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=r[0],i=r[r.length-1];n&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(n+=e.value,r.push(e)):(n=e.value,r=[e])}})),n>s.value&&(s.value=n,s.entries=r,i())},o=f("layout-shift",a);o&&(i=p(e,s,I,t.reportAllChanges),g((function(){a(o.takeRecords()),i(!0)})),h((function(){n=0,s=l("CLS",0),i=p(e,s,I,t.reportAllChanges),m((function(){return i()}))})),setTimeout(i,0))})))},O={passive:!0,capture:!0},x=new Date,M=function(e,t){s||(s=t,n=e,r=new Date,F(removeEventListener),k())},k=function(){if(n>=0&&n<r-x){var e={entryType:"first-input",name:s.type,target:s.target,cancelable:s.cancelable,startTime:s.timeStamp,processingStart:s.timeStamp+n};a.forEach((function(t){t(e)})),a=[]}},C=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var i=function(){M(e,t),n()},s=function(){n()},n=function(){removeEventListener("pointerup",i,O),removeEventListener("pointercancel",s,O)};addEventListener("pointerup",i,O),addEventListener("pointercancel",s,O)}(t,e):M(t,e)}},F=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,C,O)}))},_=[100,300],j=function(e,t){t=t||{},R((function(){var i,r=N(),o=l("FID"),c=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),i(!0))},u=function(e){e.forEach(c)},d=f("first-input",u);i=p(e,o,_,t.reportAllChanges),d&&g(v((function(){u(d.takeRecords()),d.disconnect()}))),d&&h((function(){var r;o=l("FID"),i=p(e,o,_,t.reportAllChanges),a=[],n=-1,s=null,F(addEventListener),r=c,a.push(r),k()}))}))},L=0,D=1/0,H=0,U=function(e){e.forEach((function(e){e.interactionId&&(D=Math.min(D,e.interactionId),H=Math.max(H,e.interactionId),L=H?(H-D)/7+1:0)}))},B=function(){return o?L:performance.interactionCount||0},X=function(){"interactionCount"in performance||o||(o=f("event",U,{type:"event",buffered:!0,durationThreshold:0}))},z=[200,500],q=0,G=function(){return B()-q},K=[],V={},W=function(e){var t=K[K.length-1],i=V[e.interactionId];if(i||K.length<10||e.duration>t.latency){if(i)i.entries.push(e),i.latency=Math.max(i.latency,e.duration);else{var s={id:e.interactionId,latency:e.duration,entries:[e]};V[s.id]=s,K.push(s)}K.sort((function(e,t){return t.latency-e.latency})),K.splice(10).forEach((function(e){delete V[e.id]}))}},Z=function(e,t){t=t||{},R((function(){X();var i,s=l("INP"),n=function(e){e.forEach((function(e){e.interactionId&&W(e),"first-input"===e.entryType&&!K.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&W(e)}));var t,n=(t=Math.min(K.length-1,Math.floor(G()/50)),K[t]);n&&n.latency!==s.value&&(s.value=n.latency,s.entries=n.entries,i())},r=f("event",n,{durationThreshold:t.durationThreshold||40});i=p(e,s,z,t.reportAllChanges),r&&(r.observe({type:"first-input",buffered:!0}),g((function(){n(r.takeRecords()),s.value<0&&G()>0&&(s.value=0,s.entries=[]),i(!0)})),h((function(){K=[],q=B(),s=l("INP"),i=p(e,s,z,t.reportAllChanges)})))}))},Y=[2500,4e3],J={},Q=function(e,t){t=t||{},R((function(){var i,s=N(),n=l("LCP"),r=function(e){var t=e[e.length-1];t&&t.startTime<s.firstHiddenTime&&(n.value=Math.max(t.startTime-d(),0),n.entries=[t],i())},a=f("largest-contentful-paint",r);if(a){i=p(e,n,Y,t.reportAllChanges);var o=v((function(){J[n.id]||(r(a.takeRecords()),a.disconnect(),J[n.id]=!0,i(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,o,!0)})),g(o),h((function(s){n=l("LCP"),i=p(e,n,Y,t.reportAllChanges),m((function(){n.value=performance.now()-s.timeStamp,J[n.id]=!0,i(!0)}))}))}}))},ee=[800,1800],te=function e(t){document.prerendering?R((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},ie=function(e,t){t=t||{};var i=l("TTFB"),s=p(e,i,ee,t.reportAllChanges);te((function(){var n=u();if(n){var r=n.responseStart;if(r<=0||r>performance.now())return;i.value=Math.max(r-d(),0),i.entries=[n],s(!0),h((function(){i=l("TTFB",0),(s=p(e,i,ee,t.reportAllChanges))(!0)}))}}))}}}]);