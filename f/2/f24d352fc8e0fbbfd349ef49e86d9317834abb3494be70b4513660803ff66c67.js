(function(){PostRelease.ProcessResponse({"version":"3","placements":[],"safeIframe":false,"isWebview":false,"responseConsent":{"usPrivacyApplies":false,"gdprApplies":false,"gppApplies":false},"flags":{"useObserverViewability":false,"useMraidViewability":false}});})();on(e,n){"object"===("undefined"==typeof exports?"undefined":_typeof3(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).AdFuelOptions=n()}(void 0,(function(){return{ADFUEL:{AUTO_DISPATCH:!0,DEFAULT_TIMEOUT:800,DEFAULT_DESKTOP_TIMEOUT:800,DEFAULT_MOBILE_TIMEOUT:800,IFRAME_TITLE:"advertisement",NETWORK_ID:"8663477",REFRESH_ON_FOCUS_ONLY:!1,LAZY_LOAD_FETCH_PERCENT:500,LAZY_LOAD_RENDER_PERCENT:200,LAZY_LOAD_MOBILE_SCALING:2,COLLAPSE_EMPTY_DIVS:!0,DEBUG:!1,SITE_OBJECT:"CNNA"},A9:{ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},DEBUG:!1,TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}},AUI:{VENDORS:{Telaria:{COOKIE_NAME:"goiz",URL:"https://eq97f.publishers.tremorhub.com/pubsync?redir=https://umto.{{domain}}/user-sync?goiz=%5Btvid%5D&domain={{domain}}"},Rubicon:{COOKIE_NAME:"ifyr",URL:"https://pixel-us-east.rubiconproject.com/exchange/sync.php?p={{brand}}"},Freewheel:{COOKIE_NAME:"bea4",URL:"https://bea4.v.fwmrm.net/ad/u?mode=echo&cr=https://umto.{{domain}}/user-sync?bea4=#{user.id}&domain={{domain}}"},AppNexus:{COOKIE_NAME:"zwmc",URL:"https://ib.adnxs.com/getuid?https://umto.{{domain}}/user-sync?zwmc=$UID&domain={{domain}}"},PubMatic:{COOKIE_NAME:"kfyn",URL:"https://ads.pubmatic.com/AdServer/js/userSync.js"},LiveRamp:{COOKIE_NAME:"orev",URL:"https://idsync.rlcdn.com/712348.gif?partner_uid=${fwuid}"}},SITE_VENDORS:{DOM:["AppNexus","Freewheel","LiveRamp","PubMatic","Rubicon","SpotX","Telaria"],INTL:["AppNexus","Freewheel","ID5","LiveRamp","PubMatic","Rubicon","SpotX","Telaria"]},DEBUG:!1},BEEMRAY:{API_KEY:"123-456",CUSTOMER_ID:"cnn",DEBUG:!1},BLOCKTHROUGH:{DEBUG:!1},CEP:{DEBUG:!1},CONSOLE_TOOL:{DEBUG:!1,HOTKEY:["Control","Shift","Z"]},CREATIVE_REVIEW:{DEBUG:!1,HOTKEY:"^ d o h $"},CRITEO:{DEBUG:!1,DESKTOP_TIMEOUT:750,DESKTOP_ZONES:{},MOBILE_TIMEOUT:750,MOBILE_ZONES:{},MULTISIZE_FIRST:"F",MULTISIZE_LARGEST:"L",MULTISIZE_ALL:"A",MULTISIZE_METHOD:"L",TIMEOUT:750},FASTLANE:{DEBUG:!1,DESKTOP_TIMEOUT:750,DOM_ACCOUNT_ID:11078,INTL_ACCOUNT_ID:11016,MOBILE_TIMEOUT:750,TIMEOUT:750},GUID:{DEBUG:!1},IAS:{ACCOUNT_IDS:{DOM:925660,INTL:925660},DEBUG:!1},IX:{DEBUG:!1,SCRIPT_KEY:{DOM:null,INTL:null},IDENTITY:""},IVR:{DEBUG:!1,DEFAULT_DISPLAY_MILLISECONDS:35e3,DEFAULT_DISPLAY_PERCENT:50},KRUX:{DEBUG:!1,DOM_CONTROLTAG:"teff49ykn",INTL_CONTROLTAG:"teff49ykn"},MALVERTISING:{DEBUG:!1,SITE_VENDOR:"CleanIO",SCRIPT_SRC:"//d9esmwyn3ffr1.cloudfront.net/script.js"},PREBID:{BIDDERS:{CLIENT:{DOM:["appnexus","criteo","ix","pubmatic","rubicon"],INTL:["appnexus","criteo","ix","pubmatic","rubicon"]},NATIVE:{DOM:["appnexus"],INTL:["appnexus"]},S2S:{DOM:[],INTL:[]},VIDEO:{DOM:[],INTL:[]},OUTSTREAM:{DOM:["appnexus","pubmatic","teads"],INTL:["appnexus","pubmatic","teads"]}},APPROVED_BIDDERS:{CLIENT:{DOM:["appnexus","rubicon","criteo","ix","trustx"],INTL:["appnexus","pangaea","ix","rubicon","sharethrough","criteo"]},NATIVE:{DOM:["appnexus"],INTL:["appnexus","pangaea"]},S2S:{DOM:["ix"],INTL:["pangaea","sharethrough","ix"]},VIDEO:{DOM:["appnexus","ix","rubicon","spotx","telaria"],INTL:["appnexus","ix","rubicon","spotx","telaria"]},OUTSTREAM:{DOM:[],INTL:[]}},DEBUG:!1,TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:1e3,MIDROLL:750,REFRESH:"1200"}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:"8353",INTL:"8353"},VIDEO_INVCODE:{DOM:"arabic_homepage_video1",INTL:"arabic_homepage_video1"},PLAYBACK_METHOD:{DOM:{DESKTOP:"auto_play_sound_off",MOBILE:"auto_play_sound_off"},INTL:{DESKTOP:"auto_play_sound_off",MOBILE:"auto_play_sound_off"}},VIDEO:{DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:15,INTL:15}}}},RESERVE:{DOM:.9,INTL:.9},SUPPLY_TYPE:{DOM:{WEB:!0,MOBILE_WEB:!0},INTL:{WEB:!0,MOBILE_WEB:!0}},CONTEXT:{DOM:"instream",INTL:"instream"}},CRITEO:{ACCOUNT_ID:{DOM:"9264",INTL:9264}},RUBICON:{ACCOUNT_ID:{DOM:"11016",INTL:"11016"},SITE_ID:{DOM:{DESKTOP:"78590",MOBILE:"78592",VIDEO:{DESKTOP:"412352",MOBILE:"425984"}},INTL:{DESKTOP:78590,MOBILE:78592,VIDEO:{DESKTOP:"412352",MOBILE:"425984"}}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{atf:"650166",btf:"650166"},ROS:{atf:"369874",btf:"369874"}},MOBILE:{HP:{atf:"650168",btf:"650168"},ROS:{atf:"650168",btf:"650168"}},VIDEO:{DESKTOP:{HP:{atf:"2319232",btf:"2319232"},ROS:{atf:"2319232",btf:"2319232"}},MOBILE:{HP:{atf:"2419502",btf:"2419502"},ROS:{atf:"2419502",btf:"2419502"}}}},INTL:{DESKTOP:{HP:{atf:650166,btf:650166},ROS:{atf:369874,btf:369874}},MOBILE:{HP:{atf:650168,btf:650168},ROS:{atf:650168,btf:650168}},VIDEO:{DESKTOP:{HP:{atf:"2319232",btf:"2319232"},ROS:{atf:"2319232",btf:"2319232"}},MOBILE:{HP:{atf:"2419502",btf:"2419502"},ROS:{atf:"2419502",btf:"2419502"}}}}},LANGUAGE:{DOM:"en",INTL:"en"},VIDEO:{DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:15,INTL:15}}},LANGUAGE:"en"}},IX:{IDENTITY:"",SITE_ID:{DOM:{DESKTOP:{atf:{"728x90":"341947","970x250":"341950","970x90":"341951","300x600":"341949","300x250":"341948"},btf:{"300x600":"341956","300x250":"341955","728x90":"341952","970x250":"341953","970x90":"341954"}},MOBILE:{atf:{"320x50":"341957","300x250":"341958"},btf:{"300x250":"341958","320x50":"341957"}},VIDEO:0},INTL:{DESKTOP:{atf:{"728x90":"341923","970x250":"341924","970x90":"341925","300x600":"341927","300x250":"341926"},btf:{"300x600":"341935","300x250":"341933","728x90":"341930","970x250":"341931","970x90":"341932"}},MOBILE:{atf:{"320x50":"341928","300x250":"341929"},btf:{"320x50":"341957","300x250":"341936"}},VIDEO:0}},VIDEO:{WIDTH:640,HEIGHT:480,MIMES:["video/mp4"],PROTOCOLS:[2,3,5,6],SITE_ID:{DOM:{DESKTOP:" 829396",MOBILE:"827481"},INTL:{DESKTOP:"829396",MOBILE:"827481"}},DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:15,INTL:15}}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{"300x250":"SsCg33ro8BxmkVdoZRaLCMXi","300x600":"ZcBw6raAfrwo5hbU9g71KadN","728x90":"vAi8YZxsQQjJrBzRQBQ5DChf","970x250":"hKKnotBsBDRGdYZJwVguQGnG"},MOBILE:{"300x250":"SsCg33ro8BxmkVdoZRaLCMXi"}}}},DISTRICTM:{PID:{DOM:0,INTL:0}},TRIPLELIFT:{MAPPINGS:{DOM:{DESKTOP:{HP:{},ROS:{}},MOBILE:{HP:{},ROS:{}}},INTL:{DESKTOP:{HP:{},ROS:{}},MOBILE:{HP:{},ROS:{}}}}},KARGO:{PLACEMENT_ID:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},TRUSTX:{UID:{DOM:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}},TEADS:{PAGE_ID:{DOM:"124545",INTL:"124545"},PLACEMENT_ID:{DOM:"135466",INTL:"135466"}},PUBMATIC:{PUBLISHER_ID:{DOM:"160262",INTL:"160262"},MAPPINGS:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},THIRTYTHREEACROSS:{SITE_ID:{DOM:"",INTL:""}},SPOTX:{CHANNEL_ID:{DOM:{DESKTOP:"325241",MOBILE:"327351"},INTL:{DESKTOP:"325241",MOBILE:"327351"}},VIDEO:{DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}}}}},TELARIA:{AD_CODE:{DOM:"",INTL:""},SUPPLY_CODE:{DOM:"",INTL:""}}},SEND_ALL_BIDS:{DOM:!1,INTL:!1},LIBRARY:{VENDORS:["appnexus","criteo","ix","pubmatic","rubicon","teads"],MODULES:["consentManagement","gpdrEnforcement","id5IdSystem","freewheelAdserverVideo"]},PRICE_BUCKETS:{DOM:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:.01}],VIDEO:[{precision:2,min:1.5,max:30,increment:.5},{precision:2,min:30,max:50,increment:1}],NATIVE:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:1}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]},INTL:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],VIDEO:[{precision:2,min:1.5,max:30,increment:.5},{precision:2,min:30,max:50,increment:1}],NATIVE:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]}},FLOORS:{DISPLAY:{DOM:{DESKTOP:.01,MOBILE:.01},INTL:{DESKTOP:.01,MOBILE:.01}},VIDEO:{DOM:{DESKTOP:.01,MOBILE:.01},INTL:{DESKTOP:.01,MOBILE:.01}}}},PROXIMIC:{DEBUG:!1},SOURCEPOINT:{DEBUG:!1},SSAI:{DEBUG:!1,SITE_VENDORS:["AppNexus","Freewheel","LiveRamp","Rubicon","Telaria"],VENDORS:{AppNexus:{URL:"https://ib.adnxs.com/getuid?https://umto.{{domain}}/user-sync?zwmc=$UID&domain={{domain}}",COOKIE_NAME:"zwmc"},Freewheel:{URL:"https://bea4.v.fwmrm.net/ad/u?mode=echo&cr=https://umto.{{domain}}/user-sync?bea4=#{user.id}&domain={{domain}}",COOKIE_NAME:"bea4"},LiveRamp:{COOKIE_NAME:"orev",URL:"https://idsync.rlcdn.com/712348.gif?partner_uid=${fwuid}"},PubMatic:{URL:"https://ads.pubmatic.com/AdServer/js/userSync.js",COOKIE_NAME:"kfyn"},Rubicon:{URL:"https://pixel-us-east.rubiconproject.com/exchange/sync.php?p={{brand}}",COOKIE_NAME:"ifyr"},Telaria:{URL:"https://eq97f.publishers.tremorhub.com/pubsync?redir=https://umto.{{domain}}/user-sync?goiz=%5Btvid%5D&domain={{domain}}",COOKIE_NAME:"goiz"}}},TRANSACTION_ID:{DEBUG:!1},USER_CONSENT:{ENABLED:!1,DEBUG:!1,COOKIE_DOMAIN:"",ONETRUST_GUID:"",ONETRUST_SRC:""},VERSION:"1.3",NAME:"CNNa",TIMESTAMP:"10/9/2023, 12:34:21 PM"}})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Prebid=e()}}((function(){var define,module,exports;return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f,g,p=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.userConsentLib=(null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||(null===(g=window.WBD)||void 0===g?void 0:g.UserConsent),this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(p.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(p.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(p.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){p.logger.log("Waiting for UserConsent..."),p.waitForUserConsent().then((function(){var e,n,t,r;p.logger.log("Checking Module Flags...",p.moduleFlags),(p.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(e=p.userConsentLib)||void 0===e?void 0:e.inUserConsentState(p.consentTags))?(p.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(n=window.AdFuel)||void 0===n?void 0:n.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):(p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)})))):(p.logger.log("Waiting for AdFuel..."),p.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags)})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for AdFuel."),e)}))):(p.logger.info("User consent is not granted.",null===(t=p.userConsentLib)||void 0===t?void 0:t.inUserConsentState(p.consentTags)),null===(r=window.AdFuel)||void 0===r||r.setModuleLoaded(p.MODULE_LOG_TAG))})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(p.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){return p.userConsentLib?(p.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r;p._logger.log("Consent Promise with Timeout..."),(null===(n=p.userConsentLib)||void 0===n?void 0:n.isReady())?(p._logger.log("Consent Is Ready..."),(null===(t=p.userConsentLib)||void 0===t?void 0:t.isInRegion("gdpr"))?(p._logger.log("Region is GDPR..."),null!==(r=null===(o=p.userConsentLib)||void 0===o?void 0:o.isOptanonLoaded())&&void 0!==r&&r?(p._logger.log("Optanon is Loaded..."),e()):(p._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){p._logger.log("Optanon is Loaded..."),e()})))):(p._logger.log("Region is not GDPR..."),e())):p.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateCacheBuster=void 0,t.generateCacheBuster=function(){for(var e="",n=0;n<10;n++)e+=Math.floor(9*Math.random()).toString();return e}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1,c=new Set(["US","CA"]),l=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;t.isIntl=function(){var e,n,t,i,f,g,p,m,v,h,b,y,O=!1,_=(0,o.setHostAndPathNames)(),E=(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.getGeoCountry)&&"function"==typeof(null===(i=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===i?void 0:i.getGeoCountry)?null===(g=null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||void 0===g?void 0:g.getGeoCountry():a.countryCode,I=(null===(m=null===(p=window.WM)||void 0===p?void 0:p.UserConsent)||void 0===m?void 0:m.getGeoState)&&"function"==typeof(null===(h=null===(v=window.WM)||void 0===v?void 0:v.UserConsent)||void 0===h?void 0:h.getGeoState)?null===(y=null===(b=window.WM)||void 0===b?void 0:b.UserConsent)||void 0===y?void 0:y.getGeoState():"",w=_.search(/^(.*\.)?cnn\.com$/)>=0;return w&&c.delete("CA"),s.log("Is CNN:",w),s.log("Domestic Country Codes: ",Array.from(c)),s.log("UserConsent Location: ",{state:I,country:E}),"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),O=!0):_.search(l)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),O=!0):""===E||null===E?(d||(d=!0,s.log("No country code. Using Domestic PubIds.")),O=!1):c.has(E)?d||(d=!0,s.log("Domestic site or country code. Using Domestic PubIds."),O=!1):_.search(/^.*(money|\.cnn)\./)>=0?(_.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate International PubIds if available."),u=!0),d||(d=!0,s.log("International country code. Using International PubIds.")),O=!0):_.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate International PubIds if available.")),O=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site. Using International PubIds if available.")),O=!0),O};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":6,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,102,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(e("./isMobile"));var o=e("./isMobile");t.default=o.default},{"./isMobile":12}],12:[function(e,n,t){t.__esModule=!0;var o=/iPhone/i,r=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};t.default=function(e){var n={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?n.userAgent=e:e&&e.userAgent&&(n={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var t=n.userAgent,y=t.split("[FBAN");void 0!==y[1]&&(t=y[0]),void 0!==(y=t.split("Twitter"))[1]&&(t=y[0]);var O=function(e){return function(n){return n.test(e)}}(t),_={apple:{phone:O(o)&&!O(l),ipod:O(r),tablet:!O(o)&&(O(i)||b(n))&&!O(l),universal:O(a),device:(O(o)||O(r)||O(i)||O(a)||b(n))&&!O(l)},amazon:{phone:O(u),tablet:!O(u)&&O(c),device:O(u)||O(c)},android:{phone:!O(l)&&O(u)||!O(l)&&O(s),tablet:!O(l)&&!O(u)&&!O(s)&&(O(c)||O(d)),device:!O(l)&&(O(u)||O(c)||O(s)||O(d))||O(/\bokhttp\b/i)},windows:{phone:O(l),tablet:O(f),device:O(l)||O(f)},other:{blackberry:O(g),blackberry10:O(p),opera:O(m),firefox:O(h),chrome:O(v),device:O(g)||O(p)||O(m)||O(h)||O(v)},any:!1,phone:!1,tablet:!1};return _.any=_.apple.device||_.android.device||_.windows.device||_.other.device,_.phone=_.apple.phone||_.android.phone||_.windows.phone,_.tablet=_.apple.tablet||_.android.tablet||_.windows.tablet,_}},{}],13:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))((function(r,i){function a(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((o=o.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(d){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,d])}}},s=this&&this.__spreadArray||function(e,n,t){if(t||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))};Object.defineProperty(t,"__esModule",{value:!0}),t.Prebid=void 0;var d=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),u=e("@turnercode/digital-ads-utilities/dist/Version"),c=e("@turnercode/digital-ads-utilities/dist/localization"),l=e("@turnercode/digital-ads-utilities/dist/generateCacheBuster"),f=e("@turnercode/digital-ads-utilities/dist/getUrlParam"),g=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),p=e("ismobilejs");e("./prebidLibrary");var m=e("./version.json"),v=function(){var e=this;this.bidder="",this.params={},this.setBidder=function(n){e.bidder=n},this.setParams=function(n){e.params=n},this.addParam=function(n,t){e.params[n]=t}},h=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],b=function(e){function n(n){var t,o=this;return(o=e.call(this,n,"Prebid",new u.Version(m.major,m.minor,m.revision,m.family),"prebid","color: #58f53f; padding: 2px",d.ModuleFlags.EnableForDomestic|d.ModuleFlags.EnableForForeign|d.ModuleFlags.RunWithoutAdFuel,h)||this).config=n,o.enabled=!0,o.libraryConfigured=!1,o.PREBID_MIDROLL_VIDEO_TARGETING={hb_pb_cat_dur:new Array,hb_cache_id:""},o.RUBICON_SIZE_MAPPING={"728x90":2,"160x600":9,"300x600":10,"300x250":15,"320x50":43,"970x90":55,"970x250":57},o.REQUESTED_AD_UNITS={banner:new Array,outstream:new Array},o.SUPPORTED_MIMES=["video/mp4","video/webm"," video/ogg"],o.videoMediaType={context:"instream",playerSize:[640,480],mimes:o.SUPPORTED_MIMES,protocols:[2,3,5,6,7],api:[],linearity:1,minduration:6,maxduration:30,skip:0,startdelay:0,placement:1},o.BUILT_AD_UNITS=new Set,o.validateConfiguration=function(e){var n;try{o.logger.log("Configured Vendors: ",e.VENDOR);var t=Object.keys(o.config.BIDDERS);return o.logger.log("Configured Bidder Types: ",t),{status:!0,errors:[],config:o.config}}catch(e){null===(n=o.logger)||void 0===n||n.log("err on validateConfiguration: ",e)}},o.buildVideoBids=function(e,n){var t={code:e,mediaTypes:{video:{context:"instream",playerSize:[640,480],mimes:["video/mp4"],protocols:[2,3,5,6,7],api:[],linearity:1,minduration:6,maxduration:30,skip:0,startdelay:0,placement:1}},bids:[]},r=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.BIDDERS.VIDEO.INTL:o.config.BIDDERS.VIDEO.DOM,i={},a=[];return r.forEach((function(e){var r,s,d=new v;switch(e){case"appnexus":d.setBidder("appnexus"),d.params.invCode=n,d.params.member=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:o.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.CNN&&window.CNN.cep_topics&&d.addParam("keywords",window.CNN.cep_topics),d.params.reserve=.01,(0,c.isIntl)()&&!(0,c.isUSCNN)()?(o.config.VENDOR.APPNEXUS.SUPPLY_TYPE.INTL.WEB&&a.push("web"),o.config.VENDOR.APPNEXUS.SUPPLY_TYPE.INTL.MOBILE_WEB&&a.push("mobile_web")):(o.config.VENDOR.APPNEXUS.SUPPLY_TYPE.DOM.WEB&&a.push("web"),o.config.VENDOR.APPNEXUS.SUPPLY_TYPE.DOM.MOBILE_WEB&&a.push("mobile_web")),d.params.supplyType=a.join(","),d.params.video={minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MIN.INTL:o.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MIN.INTL:o.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MAX.INTL:o.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MAX.INTL:o.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MAX.DOM,context:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.CONTEXT.INTL:o.config.VENDOR.APPNEXUS.CONTEXT.DOM,skippable:!1,playback_method:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.INTL.MOBILE:o.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.INTL.DESKTOP:(0,p.default)().any?o.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.DOM.MOBILE:o.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.DOM.DESKTOP,frameworks:[]},null===(r=o.logger)||void 0===r||r.log("Pushing AppNexus Bid: ",d),t.bids.push(JSON.parse(JSON.stringify(d))),i.appnexus=JSON.parse(JSON.stringify(d.params));break;case"ix":d.setBidder("ix"),d.params={siteId:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.IX.VIDEO.SITE_ID.INTL.MOBILE:o.config.VENDOR.IX.VIDEO.SITE_ID.INTL.DESKTOP:(0,p.default)().any?o.config.VENDOR.IX.VIDEO.SITE_ID.DOM.MOBILE:o.config.VENDOR.IX.VIDEO.SITE_ID.DOM.DESKTOP,video:{w:640,h:480,mimes:o.SUPPORTED_MIMES,minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MIN.INTL:o.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MIN.INTL:o.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MAX.INTL:o.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MAX.INTL:o.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MAX.DOM,protocols:[2,3,5,6]}},t.bids.push(JSON.parse(JSON.stringify(d))),i.ix=JSON.parse(JSON.stringify(d.params));break;case"rubicon":d.setBidder("rubicon"),d.params={accountId:parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:o.config.VENDOR.RUBICON.ACCOUNT_ID.DOM,10),siteId:parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.RUBICON.SITE_ID.INTL.VIDEO.MOBILE:o.config.VENDOR.RUBICON.SITE_ID.INTL.VIDEO.DESKTOP:(0,p.default)().any?o.config.VENDOR.RUBICON.SITE_ID.DOM.VIDEO.MOBILE:o.config.VENDOR.RUBICON.SITE_ID.DOM.VIDEO.DESKTOP,10),zoneId:parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.VIDEO.MOBILE.HP.atf||0:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.VIDEO.DESKTOP.HP.atf||0:(0,p.default)().any?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.VIDEO.MOBILE.HP.atf||0:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.VIDEO.DESKTOP.HP.atf||0,10),video:{language:o.config.VENDOR.RUBICON.VIDEO.LANGUAGE,minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MIN.INTL:o.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MIN.INTL:o.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MAX.INTL:o.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MAX.INTL:o.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MAX.DOM}},t.bids.push(JSON.parse(JSON.stringify(d))),i.rubicon=JSON.parse(JSON.stringify(d.params));break;case"spotx":d.setBidder("spotx"),d.params={channel_id:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.SPOTX.CHANNEL_ID.INTL.MOBILE:o.config.VENDOR.SPOTX.CHANNEL_ID.INTL.DESKTOP:(0,p.default)().any?o.config.VENDOR.SPOTX.CHANNEL_ID.DOM.MOBILE:o.config.VENDOR.SPOTX.CHANNEL_ID.DOM.DESKTOP,ad_unit:"instream",secure:!0,mimes:o.SUPPORTED_MIMES,hide_skin:!0,min_duration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MIN.INTL:o.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MIN.INTL:o.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MIN.DOM,max_duration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MAX.INTL:o.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MAX.INTL:o.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MAX.DOM,placement_type:1},t.bids.push(JSON.parse(JSON.stringify(d))),i.spotx=JSON.parse(JSON.stringify(d.params));break;case"telaria":d.setBidder("telaria"),d.params={adCode:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.TELARIA.AD_CODE.INTL:o.config.VENDOR.TELARIA.AD_CODE.DOM,supplyCode:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.TELARIA.SUPPLY_CODE.INTL:o.config.VENDOR.TELARIA.SUPPLY_CODE.DOM},t.bids.push(JSON.parse(JSON.stringify(d))),i.telaria=JSON.parse(JSON.stringify(d.params));break;default:null===(s=o.logger)||void 0===s||s.log("bidder: ",e)}})),t},o.getVideoBids=function(e,n,t){return void 0===e&&(e="cnn_homepage_video1"),void 0===n&&(n=750),void 0===t&&(t={}),new Promise((function(t,r){var i,a,s;try{null===(i=o.logger)||void 0===i||i.log("Building Video AdUnit");var d=o.buildVideoBids("video1",e);o.BUILT_AD_UNITS.has(d.code)&&(null===(a=o.logger)||void 0===a||a.log("Removing Video Ad Unit...",d.code),window.pbjs.removeAdUnit(d.code),o.BUILT_AD_UNITS.delete(d.code)),window.pbjs.addAdUnits(d),o.BUILT_AD_UNITS.add(d.code),null===(s=o.logger)||void 0===s||s.log("Requesting Video Bids...",d);window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:[d.code],bidsBackHandler:function(e,n){var i,a;try{if(n)null===(a=o.logger)||void 0===a||a.log("Timed out...",e),r({err:"Bid request timed out."});else{var s=window.pbjs.getHighestCpmBids([d.code]),u=s[0],c="";s.forEach((function(e){e.videoCacheKey&&""!==c&&(c=u.videoCacheKey)})),null===(i=o.logger)||void 0===i||i.log("Received bids...",e);var l=window.pbjs.getAdserverTargeting()[d.code];""!==c&&(l.hb_uuid=c),t(l)}}catch(e){r(e)}},timeout:n})}catch(e){r(e)}}))},o.getRefreshedVideoBids=function(e,n,t){return void 0===e&&(e="cnn_homepage_video1"),void 0===n&&(n=750),void 0===t&&(t={}),new Promise((function(t,r){var i,a,s;try{null===(i=o.logger)||void 0===i||i.log("Building Video AdUnit");var d=o.buildVideoBids("video2",e);o.BUILT_AD_UNITS.has(d.code)&&(null===(a=o.logger)||void 0===a||a.log("Removing Video Ad Unit...",d.code),window.pbjs.removeAdUnit(d.code),o.BUILT_AD_UNITS.delete(d.code)),window.pbjs.addAdUnits(d),o.BUILT_AD_UNITS.add(d.code),null===(s=o.logger)||void 0===s||s.log("Requesting Video Bids...",d);window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:[d.code],bidsBackHandler:function(e,n){var i,a;try{if(n)null===(a=o.logger)||void 0===a||a.log("Timed out...",e),r({err:"Bid request timed out."});else{var s=window.pbjs.getHighestCpmBids([d.code]),u=s[0],c="";s.forEach((function(e){e.videoCacheKey&&""!==c&&(c=u.videoCacheKey)})),null===(i=o.logger)||void 0===i||i.log("Received bids...",e);var l=window.pbjs.getAdserverTargeting()[d.code];""!==c&&(l.hb_uuid=c),t(l)}}catch(e){r(e)}},timeout:n})}catch(e){r(e)}}))},o.getMidRollVideoBids=function(e,n,t,r,i,a){return void 0===e&&(e="cnn_homepage_midroll"),void 0===n&&(n=750),void 0===t&&(t=30),void 0===r&&(r=[30]),void 0===i&&(i=[640,480]),void 0===a&&(a=30),new Promise((function(n,a){var s,d;try{null===(s=o.logger)||void 0===s||s.log("Building Video AdUnit...");var u={code:"midroll".concat((0,l.generateCacheBuster)()),mediaTypes:{video:{context:"adpod",playerSize:i,adPodDurationSec:t,durationRangeSec:r}},bids:[{bidder:"appnexus",params:{invCode:e,member:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:o.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,video:{skippable:!1,playback_methods:["auto_play_sound_on"]}}}]};null===(d=o.logger)||void 0===d||d.log("Adding Video AdUnits: ",u);n({})}catch(e){a(e)}}))},o.buildPrebidOutstreamAdUnits=function(e){var n,t,r,i;try{var a={code:"video1",mediaTypes:{video:{context:"outstream",playerSize:[300,250]}},bids:new Array,sizes:[[1,1]]},s=(0,c.isIntl)()?o.config.BIDDERS.OUTSTREAM.INTL:o.config.BIDDERS.OUTSTREAM.DOM;null===(n=o.logger)||void 0===n||n.log("Outstream Bidders: ",s);var d=e.unWrappedSlot.rktr_ad_id.split("/")[0].toLowerCase(),u=e.unWrappedSlot.rktr_slot_id.replace("ad_",""),l=e.targeting||[];null===(t=o.logger)||void 0===t||t.log("Slot Targets: ",l);for(var f=0;f<e.unWrappedSlot.targeting.length;f++){var g=e.targeting[f];"pos"===g[0]&&(u=g[1][0],g[1][0].split("_")[1])}return s.forEach((function(n){var t,r,i,s,l=new v;switch(null===(t=o.logger)||void 0===t||t.log("Outstream Bidder: ",l),a.code=e.posMap||e.unWrappedSlot.rktr_slot_id,n){case"appnexus":l.addParam("invCode","".concat(d,"_").concat(u)),l.addParam("member",(0,c.isIntl)()?o.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:o.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM),window.CNN&&window.CNN.cep_topics&&l.addParam("keywords",window.CNN.cep_topics),null===(r=o.logger)||void 0===r||r.log("AppNexus Bid Mock: ",l);break;case"ix":l.addParam("siteId",(0,c.isIntl)()?(null===(i=o.config.VENDOR.IX.SITE_ID.OUTSTREAM)||void 0===i?void 0:i.INTL)||0:(null===(s=o.config.VENDOR.IX.SITE_ID.OUTSTREAM)||void 0===s?void 0:s.DOM)||0),l.addParam("video",{w:640,h:360,playerSize:[640,360],plcmt:[2]});break;case"pubmatic":l.addParam("publisherId",(0,c.isIntl)()?o.config.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:o.config.VENDOR.PUBMATIC.PUBLISHER_ID.DOM),l.addParam("outstreamAU","".concat(d,"_").concat(u)),l.addParam("video",{mimes:["video/mp4","video/x-flv"]}),l.addParam("adSlot",(0,c.isIntl)()?(0,p.default)().any?o.config.VENDOR.PUBMATIC.MAPPINGS.INTL.MOBILE[l.params.outstreamAU]:o.config.VENDOR.PUBMATIC.MAPPINGS.INTL.DESKTOP[l.params.outstreamAU]:(0,p.default)().any?o.config.VENDOR.PUBMATIC.MAPPINGS.DOM.MOBILE[l.params.outstreamAU]:o.config.VENDOR.PUBMATIC.MAPPINGS.DOM.DESKTOP[l.params.outstreamAU]);break;case"teads":l.addParam("placementId",(0,c.isIntl)()?o.config.VENDOR.TEADS.PLACEMENT_ID.INTL:o.config.VENDOR.TEADS.PLACEMENT_ID.DOM),l.addParam("pageId",(0,c.isIntl)()?o.config.VENDOR.TEADS.PAGE_ID.INTL:o.config.VENDOR.TEADS.PAGE_ID.DOM)}a.bids.push(l)})),null===(r=o.logger)||void 0===r||r.log("Outstream Ad Unit Mock: ",a),a}catch(e){return null===(i=o.logger)||void 0===i||i.error("Error when building Prebid Outstream Ad Units: ",e),{}}},o.buildPrebidAdUnits=function(e){var n,t=new Array,r=new Array;e.forEach((function(e){var n,i,a,s,d,u,l,f,g,m,h,b,y,O,_,E,I,w,A,C,S;null===(n=o.logger)||void 0===n||n.log("Wrapped Slot: ",e);var T=e.unWrappedSlot;if(null===(i=o.logger)||void 0===i||i.log("Unwrapped Slot: ",T),T.rktr_ad_id){null===(a=o.logger)||void 0===a||a.log("Slot has an ad unit:",T.rktr_ad_id);var D={code:"",ortb2Imp:{ext:{gpid:""}},mediaTypes:{banner:{sizes:new Array}},bids:new Array};if(e.monetization.isMonetized)if(null===(s=o.logger)||void 0===s||s.log("Slot is monetized."),T.rktr_slot_id.indexOf("_out_vid_")>=0)null===(d=o.logger)||void 0===d||d.log("Building Outstream Ad Unit: ",T),r.push(o.buildPrebidOutstreamAdUnits(e));else{null===(u=o.logger)||void 0===u||u.log("Building Banner Ad Unit: ",T);var P=new Array;null===(l=o.logger)||void 0===l||l.log("Size Mappings: ",o.RUBICON_SIZE_MAPPING),e.monetization.filteredSizes.forEach((function(e,n){var t,r="".concat(e.width,"x").concat(e.height);null===(t=o.logger)||void 0===t||t.log("Filtered Size: ",{sizeWrapper:e,index:n,targetSize:r}),P.push(o.RUBICON_SIZE_MAPPING[r])})),null===(f=o.logger)||void 0===f||f.log("Size Map Array: ",P);var N=T.rktr_ad_id.toLowerCase().split("/");null===(g=o.logger)||void 0===g||g.log("Ad Unit Array: ",N);var M=N[0]+(N[1]?"_"+N[1]:"");null===(m=o.logger)||void 0===m||m.log("criteoPubSubId: ",M);var U=T.rktr_ad_id.split("/"),R=U[0].toLowerCase()+(U[1]?"_"+U[1].toLowerCase():"");null===(h=o.logger)||void 0===h||h.log("invCode: ",{invCode:R,invCodeArray:U});var L="",k="atf";null===(b=o.logger)||void 0===b||b.log("A pos: ",{posValue:L,position:k});for(var F=0;F<e.unWrappedSlot.targeting.length;F++){var x=e.unWrappedSlot.targeting[F];"pos"===x[0]&&(L=x[1][0],k=x[1][0].split("_")[1])}null===(y=o.logger)||void 0===y||y.log("B pos: ",{posValue:L,position:k});var j=T.rktr_ad_id.indexOf("/homepage")>=0||T.rktr_ad_id.indexOf("/business/landing")>=0;null===(O=o.logger)||void 0===O||O.log("Is Homepage: ",j),D.code=T.rktr_slot_id,D.ortb2Imp.ext.gpid="".concat(T.rktr_ad_id,"#").concat(L),D.mediaTypes.banner.sizes=e.monetization.filteredSizes.map((function(e){return[e.width,e.height]})),null===(_=o.logger)||void 0===_||_.log("Banner Ad Unit Mock: ",D),L=JSON.parse(JSON.stringify(L)).replace(/"/g,""),null===(E=o.logger)||void 0===E||E.log("POS: ",L),null===(I=o.logger)||void 0===I||I.log("Location Check: ",{isIntl:(0,c.isIntl)(),isUSCNN:(0,c.isUSCNN)(),isMobile:(0,p.default)()});var B=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.BIDDERS.CLIENT.INTL:o.config.BIDDERS.CLIENT.DOM;null===(w=o.logger)||void 0===w||w.log("Bidders: ",B);var G={};B.forEach((function(n){var t,r,i,a,s,d,u,l,f;null===(t=o.logger)||void 0===t||t.log("Bidder: ",n);var g=new v;switch(n){case"appnexus":g.setBidder("appnexus"),g.params.invCode=R+"_"+L,g.params.member=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:o.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.CNN&&window.CNN.cep_topics&&g.addParam("keywords",window.CNN.cep_topics),null===(r=o.logger)||void 0===r||r.log("Pushing AppNexus Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.appnexus=JSON.parse(JSON.stringify(g.params));break;case"criteo":g.setBidder("criteo"),g.params.networkId=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.CRITEO.ACCOUNT_ID.INTL:o.config.VENDOR.CRITEO.ACCOUNT_ID.DOM,g.addParam("publisherSubId","".concat(M,"_").concat(T.rktr_slot_id)),null===(i=o.logger)||void 0===i||i.log("Pushing Criteo Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.criteo=JSON.parse(JSON.stringify(g.params));break;case"pangaea":g.setBidder("pangaea"),g.addParam("invCode",R+"_"+L),g.addParam("member",(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.PANGAEA.ACCOUNT_ID.INTL:o.config.VENDOR.PANGAEA.ACCOUNT_ID.DOM),null===(a=o.logger)||void 0===a||a.log("Pushing Pangaea Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.pangaea=JSON.parse(JSON.stringify(g.params));break;case"rubicon":g.setBidder("rubicon"),g.addParam("accountId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:o.config.VENDOR.RUBICON.ACCOUNT_ID.DOM,10)),g.addParam("siteId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.RUBICON.SITE_ID.INTL.MOBILE:o.config.VENDOR.RUBICON.SITE_ID.INTL.DESKTOP:(0,p.default)().any?o.config.VENDOR.RUBICON.SITE_ID.DOM.MOBILE:o.config.VENDOR.RUBICON.SITE_ID.DOM.DESKTOP,10)),(0,p.default)().any?j?g.addParam("zoneId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP,10)):g.addParam("zoneId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS,10)):j?g.addParam("zoneId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.HP[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS,10)):g.addParam("zoneId",parseInt((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[k]?o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[k]:o.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS,10)),g.addParam("position",k),g.addParam("sizes",P),null===(s=o.logger)||void 0===s||s.log("Pushing Rubicon Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.rubicon=JSON.parse(JSON.stringify(g.params));break;case"ix":e.monetization.filteredSizes.forEach((function(e){var n,t=new v;t.setBidder("ix");var r="".concat(e.width,"x").concat(e.height);t.addParam("siteId",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.SITE_ID.INTL.MOBILE[k][r]||"":o.config.VENDOR.IX.SITE_ID.DOM.MOBILE[k][r]||"":(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.IX.SITE_ID.INTL.DESKTOP[k][r]||"":o.config.VENDOR.IX.SITE_ID.DOM.DESKTOP[k][r]||""),t.addParam("size",JSON.parse(JSON.stringify(e.unwrapped))),""!==t.params.siteId&&(null===(n=o.logger)||void 0===n||n.log("Pushing IX Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t)))),G.ix=G.ix||{},G.ix[r]=JSON.parse(JSON.stringify(t.params))}));break;case"trustx":e.monetization.filteredSizes.forEach((function(e){var n,t=e.unwrapped.join("x"),r=new v;r.setBidder("trustx"),window.CNN&&window.CNN.cep_topics&&r.addParam("keywords",window.CNN.cep_topics),r.addParam("uid",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.TRUSTX.UID.INTL.MOBILE[k][t]||"":o.config.VENDOR.TRUSTX.UID.DOM.MOBILE[k][t]||"":(0,c.isIntl)()?o.config.VENDOR.TRUSTX.UID.INTL.DESKTOP[k][t]:o.config.VENDOR.TRUSTX.UID.DOM.DESKTOP[k][t]),""!==r.params.uid&&(null===(n=o.logger)||void 0===n||n.log("Pushing TRUSTX Bid: ",r),D.bids.push(JSON.parse(JSON.stringify(r)))),G.trustx=G.trustx||{},G.trustx[t]=JSON.parse(JSON.stringify(r.params))}));break;case"triplelift":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("triplelift");var r=e.join("x");t.addParam("inventoryCode",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?j&&o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[r]?o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[r]:o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.ROS[r]:j&&o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[r]?o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[r]:o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.ROS[r]:(0,c.isIntl)()&&!(0,c.isUSCNN)()?j&&o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[r]?o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[r]:o.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.ROS[r]:j&&o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[r]?o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[r]:o.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.ROS[r]);var i=!1;D.bids.forEach((function(e){"triplelift"===e.bidder&&(e.params.inventoryCode===t.params.inventoryCode&&(i=!0),i=!0)})),i||(null===(n=o.logger)||void 0===n||n.log("Pushing TripleLift Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t))))})),G.triplelift=JSON.parse(JSON.stringify(g.params));break;case"kargo":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("kargo");var r=e.join("x");t.addParam("placementId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.KARGO.MAPPINGS.INTL.MOBILE[r]:o.config.VENDOR.KARGO.MAPPINGS.DOM.MOBILE[r]);var i=!1;D.bids.forEach((function(e){"kargo"===e.bidder&&(i=!0)})),!i&&(0,p.default)().any&&(null===(n=o.logger)||void 0===n||n.log("Pushing Kargo Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t))))})),G.kargo=JSON.parse(JSON.stringify(g.params));break;case"districtm":g.setBidder("districtm"),g.addParam("placementId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.DISTRICTM.PID.INTL:o.config.VENDOR.DISTRICTM.PID.DOM),null===(d=o.logger)||void 0===d||d.log("Pushing DistrictM Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.districtm=JSON.parse(JSON.stringify(g.params));break;case"sharethrough":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("sharethrough");var r=e.join("x");t.addParam("pkey",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL.MOBILE[r]:o.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM.MOBILE[r]:(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL.DESKTOP[r]:o.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM.DESKTOP[r]);var i=!1;D.bids.forEach((function(e){"sharethrough"===e.bidder&&e.params.pkey===t.params.pkey&&(i=!0)})),!i&&t.params.pkey&&""!==t.params.pkey&&(null===(n=o.logger)||void 0===n||n.log("Pushing Sharethrough Bid for ".concat(D.code),t,T),D.bids.push(JSON.parse(JSON.stringify(t))))})),G.sharethrough=JSON.parse(JSON.stringify(g.params));break;case"pubmatic":g.setBidder("pubmatic"),g.addParam("publisherId",(0,c.isIntl)()?o.config.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:o.config.VENDOR.PUBMATIC.PUBLISHER_ID.DOM),g.addParam("adSlot","".concat(U[0].toLowerCase(),"_").concat(L)),null===(u=o.logger)||void 0===u||u.log("Pushing Pubmatic Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.pubmatic=JSON.parse(JSON.stringify(g.params));break;case"33across":g.setBidder("33across"),g.addParam("productId","siab"),g.addParam("siteId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.THIRTYTHREEACROSS.SITE_ID.INTL:o.config.VENDOR.THIRTYTHREEACROSS.SITE_ID.DOM),null===(l=o.logger)||void 0===l||l.log("Pushing 33Across Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G.thirtyThreeAcross=JSON.parse(JSON.stringify(g.params));break;case"yahoo":g.setBidder("yahoossp"),g.addParam("dcn",(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.YAHOO.MAPPINGS.INTL.MOBILE.DCN||"":o.config.VENDOR.YAHOO.MAPPINGS.INTL.DESKTOP.DCN||"":(0,p.default)().any?o.config.VENDOR.YAHOO.MAPPINGS.DOM.MOBILE.DCN||"":o.config.VENDOR.YAHOO.MAPPINGS.DOM.DESKTOP.DCN||""),g.addParam("pos",(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?o.config.VENDOR.YAHOO.MAPPINGS.INTL.MOBILE.POS[k]||"":o.config.VENDOR.YAHOO.MAPPINGS.INTL.DESKTOP.POS[k]||"":(0,p.default)().any?o.config.VENDOR.YAHOO.MAPPINGS.DOM.MOBILE.POS[k]||"":o.config.VENDOR.YAHOO.MAPPINGS.DOM.DESKTOP.POS[k]||""),null===(f=o.logger)||void 0===f||f.log("Pushing Yahoo Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),G||(G={}),G.yahoo=JSON.parse(JSON.stringify(g.params))}})),e.programmatic.prebid=G,null===(A=o.logger)||void 0===A||A.log("Banner Ad Unit: ",D),o.BUILT_AD_UNITS.has(JSON.parse(JSON.stringify(D.code)))||(o.BUILT_AD_UNITS.add(JSON.parse(JSON.stringify(D.code))),t.push(JSON.parse(JSON.stringify(D))))}else null===(C=o.logger)||void 0===C||C.log("Slot is not monetized.")}else null===(S=o.logger)||void 0===S||S.log("Slot has no ad unit:",T.rktr_ad_id)}));var i={banner:t,outstream:r};return null===(n=o.logger)||void 0===n||n.log("Built Ad Units: ",i),i},o.preQueue=function(e){return new Promise((function(n,t){var r,i,a,s,d=!1;if(null===(r=o.logger)||void 0===r||r.log("========== Prebid Slots: ",e),e.length>0){var u=o.buildPrebidAdUnits(e);null===(i=o.logger)||void 0===i||i.log("========== Prebid Ad Units: ",u);var c=null==u?void 0:u.banner.filter((function(e){var n;return e.bids.length>0&&-1===(null===(n=o.REQUESTED_AD_UNITS)||void 0===n?void 0:n.banner.indexOf(e))})),l=null==u?void 0:u.outstream.filter((function(e){var n;return e.bids.length>0&&-1===(null===(n=o.REQUESTED_AD_UNITS)||void 0===n?void 0:n.outstream.indexOf(e))}));null===(a=o.logger)||void 0===a||a.log("========== Filtered Ad Units: ",{banner:c,outstream:l});var f=function(){var t,r,i,a,s,u,f,g,m,v;null===(t=o.logger)||void 0===t||t.log("========== Hey Kids!  It's the pbQueueFunction! =========="),c.length>0&&(null===(r=o.logger)||void 0===r||r.log("========== Adding Banner Ad Units...",JSON.parse(JSON.stringify(c))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(c))),c.forEach((function(e){o.REQUESTED_AD_UNITS.banner.push(e)}))),l.length>0&&(null===(i=o.logger)||void 0===i||i.log("========== Adding Outstream Ad Units...",JSON.parse(JSON.stringify(l))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(l))),l.forEach((function(e){o.REQUESTED_AD_UNITS.outstream.push(e)}))),null===(a=o.logger)||void 0===a||a.log("========== Pre-Processing for Requesting Bids...",{banner:c,outstream:l});var h=e.map((function(e){var n;return null===(n=o.logger)||void 0===n||n.log("========== Adding slot to requested slots: ",e),e.unWrappedSlot.rktr_slot_id}));null===(s=o.logger)||void 0===s||s.log("========== Requested slots...",h),l.forEach((function(n){var t;null===(t=o.logger)||void 0===t||t.log("Checking AdUnit: ",n),h.indexOf(n.code)>=0&&e.push(n.code)}));if(null===(u=o.logger)||void 0===u||u.log("========== Banner Ad Units: ",c.length),null===(f=o.logger)||void 0===f||f.log("========== Outstream Ad Units: ",l.length),null===(g=o.logger)||void 0===g||g.log("========== Slots: ",e.length),e.length>0&&(c.length>0||l.length>0)){window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}});var b=new Array;c.forEach((function(e){b.push(e.code)})),l.forEach((function(e){b.push(e.code)})),null===(m=o.logger)||void 0===m||m.log("========== REQUESTING BIDS:",{adUnitCodes:b,bannerAdUnits:c,outstreamAdUnits:l}),window.pbjs.requestBids({adUnitCodes:b,timeout:(0,p.default)().any?o.config.TIMEOUTS.DISPLAY.MOBILE:o.config.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function(t,r){var i,a,s,u;if(t){null===(i=o.logger)||void 0===i||i.log("Bids/Slots: ",{bids:t,slots:e}),Object.keys(t).map((function(e){var n,t,r;null===(n=o.logger)||void 0===n||n.log("Getting manual targeting for ".concat(e));var i=window.pbjs.getAdserverTargetingForAdUnitCode(e),a=[];Object.keys(i).forEach((function(n){var t=Array.isArray(i[n])?i[n]:[i[n]];a.push({slotId:e,targetKey:n,targetValues:t})})),null===(t=o.logger)||void 0===t||t.log("Setting Bulk Targeting for slot ".concat(e),a),null===(r=window.AdFuel)||void 0===r||r.setBulkTargeting({slotTargets:a})}));try{null===(a=null===window||void 0===window?void 0:window.googletag)||void 0===a||a.cmd.push((function(){window.pbjs.setTargetingForGPTAsync(e),d||(d=!0,n({name:"Prebid",slots:e,bids:t,errMsg:null,err:null}))}))}catch(t){null===(s=o.logger)||void 0===s||s.warn("failed to get display ad for preQueueCallback",t),n({name:"Prebid",slots:e,bids:null,errMsg:"Failed to get Display Ad for preQueueCallback",err:t})}}else null===(u=o.logger)||void 0===u||u.warn("No bids: ",{slots:e,bids:t}),n({name:"Prebid",slots:e,bids:null,errMsg:"No Bids.",err:!0})}})}else null===(v=o.logger)||void 0===v||v.log("========== No Slots"),n({name:"Prebid",slots:e})};null===(s=o.logger)||void 0===s||s.log("========== Pushing function onto pbjs.que:",f),window.pbjs.que.push(f)}}))},o.setGeoTargeting=function(e){var n,t;void 0===e&&(e=!1);try{var r=function(){var n,t,r,i,a,s,d;null===(n=o.logger)||void 0===n||n.log("Setting GeoTargeting... ",(0,c.isIntl)()||e),(0,c.isIntl)()?(null===(t=o.logger)||void 0===t||t.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):null===(r=window.googletag)||void 0===r||r.pubads().setTargeting("hbg","EU")):e?(null===(i=o.logger)||void 0===i||i.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):null===(a=window.googletag)||void 0===a||a.pubads().setTargeting("hbg","EU")):(null===(s=o.logger)||void 0===s||s.log("Setting Geo Target: US"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","US"):null===(d=window.googletag)||void 0===d||d.pubads().setTargeting("hbg","US"))};window.googletag&&window.googletag.apiReady?r():null===(n=window.googletag)||void 0===n||n.cmd.push(r)}catch(e){null===(t=o.logger)||void 0===t||t.log("err on setGeoTargeting: ",e)}},o.configurePrebidLibrary=function(e){var n,t;try{if(!o.libraryConfigured){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],o.libraryConfigured=!0;var r={buckets:[{precision:2,max:5,increment:.01},{precision:2,max:30,increment:.05},{precision:2,max:(0,c.isIntl)()?50:115,increment:1}]},i=o.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.PRICE_BUCKETS.INTL.DISPLAY:o.config.PRICE_BUCKETS.DOM.DISPLAY:r,a=o.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.PRICE_BUCKETS.INTL.VIDEO:o.config.PRICE_BUCKETS.DOM.VIDEO:{buckets:[{precision:2,max:50,increment:1},{precision:2,max:100,increment:5}]},d={banner:{buckets:i},video:{buckets:a},"video-instream":{buckets:a},"video-outstream":{buckets:o.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.PRICE_BUCKETS.INTL.OUTSTREAM:o.config.PRICE_BUCKETS.DOM.OUTSTREAM:{buckets:[{precision:2,max:50,increment:1}]}}},u={buckets:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:(0,c.isIntl)()?50:115,increment:1}]},l=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.SEND_ALL_BIDS.INTL:o.config.SEND_ALL_BIDS.DOM;window.pbjs.que.push((function(){var e,n,t,r,i,a,f,m,v,h,b,y,O,_,E,I,w,A,C,S,T,D,P;null===(e=o.logger)||void 0===e||e.log("Is Mobile: ",(0,p.default)());var N=!1===(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isInRegion("global"));null===(r=o.logger)||void 0===r||r.log("Check Consent: ",N);var M={allowZeroCpmBids:!1,priceGranularity:u,mediaTypePriceGranularity:d,enableSendAllBids:l,bidderTimeout:(0,p.default)().any?o.config.TIMEOUTS.DISPLAY.MOBILE:o.config.TIMEOUTS.DISPLAY.DESKTOP,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},adpod:{brandCategoryExclusion:!0,prioritizeDeals:!0,dealTier:{appnexus:{prefix:"tier",minDealTier:6}}},targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"],alwaysIncludeDeals:!0},userSync:{userIds:[],filterSettings:{iframe:{bidders:"*",filter:"include"}}}},U=o.config.BIDDERS.S2S[(0,c.isIntl)()&&!(0,c.isUSCNN)()?"INTL":"DOM"];null===(i=o.logger)||void 0===i||i.log("Fire S2S: ",U.length>0),U.length>0&&(M.s2sConfig={accountId:"f7c6e556-48f6-4b8c-9fb6-921c12c9362f",enabled:!0,bidders:o.config.BIDDERS.S2S[(0,c.isIntl)()&&!(0,c.isUSCNN)()?"INTL":"DOM"],timeout:(0,p.default)().any?o.config.TIMEOUTS.DISPLAY.MOBILE:o.config.TIMEOUTS.DISPLAY.DESKTOP,adapter:"prebidServer",endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync"});var R={appnexus:{suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_appnexus_tier",val:function(e){if(null!=e.appnexus.dealPriority)return e.appnexus.dealPriority}}]},rubicon:{}};!(0,c.isIntl)()&&l&&(R.rubicon={alwaysUseBid:!0,suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_db_rubicon",val:function(e){var n;if(e.adserverTargeting&&e.adserverTargeting["rpfl_"+((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:o.config.VENDOR.RUBICON.ACCOUNT_ID.DOM)])n=e.adserverTargeting["rpfl_"+((0,c.isIntl)()?o.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:o.config.VENDOR.RUBICON.ACCOUNT_ID.DOM)];else{if(!e.rubiconTargeting||!e.rubiconTargeting["rpfl_"+((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:o.config.VENDOR.RUBICON.ACCOUNT_ID.DOM)])return;n=e.rubiconTargeting["rpfl_"+((0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:o.config.VENDOR.RUBICON.ACCOUNT_ID.DOM)]}return n.substring(n.indexOf("_")+1)}}]}),o.config.BIDDERS.OUTSTREAM=o.config.BIDDERS.OUTSTREAM||{DOM:[],INTL:[]},o.config.BIDDERS.VIDEO=o.config.BIDDERS.VIDEO||{DOM:[],INTL:[]};var L=[];(0,c.isIntl)()?(o.config.BIDDERS.CLIENT&&(L=s(s([],L,!0),o.config.BIDDERS.CLIENT.INTL,!0)),o.config.BIDDERS.S2S&&(L=s(s([],L,!0),o.config.BIDDERS.S2S.INTL,!0)),o.config.BIDDERS.OUTSTREAM&&(L=s(s([],L,!0),o.config.BIDDERS.OUTSTREAM.INTL,!0)),o.config.BIDDERS.VIDEO&&(L=s(s([],L,!0),o.config.BIDDERS.VIDEO.INTL,!0))):(o.config.BIDDERS.CLIENT&&(L=s(s([],L,!0),o.config.BIDDERS.CLIENT.DOM,!0)),o.config.BIDDERS.S2S&&(L=s(s([],L,!0),o.config.BIDDERS.S2S.DOM,!0)),o.config.BIDDERS.OUTSTREAM&&(L=s(s([],L,!0),o.config.BIDDERS.OUTSTREAM.DOM,!0)),o.config.BIDDERS.VIDEO&&(L=s(s([],L,!0),o.config.BIDDERS.VIDEO.DOM,!0))),L=L.map((function(e){return-1!==L.indexOf(e)?e:null})).filter((function(e){return null!==e})),o.logger.log("Bidders: ",L),L.forEach((function(e){var n,t;R[e]=R[e]||{},null===(n=o.logger)||void 0===n||n.log("Setting sendStandardTargeting for ".concat(e," to ").concat(!l)),R[e].sendStandardTargeting=!l,null===(t=o.logger)||void 0===t||t.log("Setting storageAllowed for ".concat(e)),R[e].storageAllowed=!0}));var k={name:"identityLink",params:{pid:"13452"},storage:{type:"cookie",name:"tok_lr2",expires:30}},F={name:"id5Id",params:{partner:963},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},x=g.CookieHelper.readCookie("sendAuthToken2");null===(a=o.logger)||void 0===a||a.log("sendAuthToken2:",x);var j=!1;j="string"==typeof x?"true"===(null===(f=g.CookieHelper.readCookie("sendAuthToken2"))||void 0===f?void 0:f.toLowerCase()):null!==x&&x,null===(m=o.logger)||void 0===m||m.log("sendAuthToken Boolean: ",j),!(0,c.isIntl)()&&k.params.pid&&j?(null===(v=o.logger)||void 0===v||v.log("Adding IdentityLink/LiveRamp UserID Config...",k),M.userSync=M.userSync||{userIds:[],filterSettings:{iframe:{bidders:"*",filter:"include"}}},M.userSync.userIds.push(k),null===(h=window.googletag)||void 0===h||h.cmd.push((function(){var e,n;null===(e=o.logger)||void 0===e||e.log("Setting tok_lr2 targeting...",g.CookieHelper.readCookie("tok_lr2")),null===(n=window.googletag)||void 0===n||n.pubads().setTargeting("tok_lr2",g.CookieHelper.readCookie("tok_lr2")||"")}))):(0,c.isIntl)()&&(null===(b=o.logger)||void 0===b||b.log("Adding Id5Id UserID Config...",F),M.userSync.userIds.push(F));var B=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.BIDDERS.CLIENT.INTL.indexOf("districtm")>=0:o.config.BIDDERS.CLIENT.DOM.indexOf("districtm")>=0,G=(0,c.isIntl)()&&!(0,c.isUSCNN)()?o.config.BIDDERS.CLIENT.INTL.indexOf("trustx")>=0||o.config.BIDDERS.VIDEO.INTL.indexOf("trustx")>=0:o.config.BIDDERS.CLIENT.DOM.indexOf("trustx")>=0||o.config.BIDDERS.VIDEO.DOM.indexOf("trustx")>=0;if(N){var V=null===(O=null===(y=window.WM)||void 0===y?void 0:y.UserConsent)||void 0===O?void 0:O.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);null===(_=o.logger)||void 0===_||_.log("Checking for Consent..."),V&&(M.consentManagement=M.consentManagement||{},window.WM.UserConsent.isInRegion("gdpr")&&(M.consentManagement.gdpr={cmpApi:"iab",timeout:100}),window.WM.UserConsent.isInRegion("gpp")&&(M.consentManagement.gpp={cmpApi:"iab",timeout:100}),M.consentManagement.usp={cmpApi:"iab",timeout:100},null===(E=o.logger)||void 0===E||E.log("Setting config...",M),window.pbjs.setConfig(M),null===(I=o.logger)||void 0===I||I.log("Setting Bidder Settings...",R),window.pbjs.bidderSettings=R,B&&(null===(w=o.logger)||void 0===w||w.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")),G&&(null===(A=o.logger)||void 0===A||A.log("Adding alias for TrustX..."),window.pbjs.aliasBidder("grid","trustx")))}else null===(C=o.logger)||void 0===C||C.log("Skipping User Consent Check..."),null===(S=o.logger)||void 0===S||S.log("Setting config...",M),window.pbjs.setConfig(M),null===(T=o.logger)||void 0===T||T.log("Setting Bidder Settings...",R),window.pbjs.bidderSettings=R,B&&(null===(D=o.logger)||void 0===D||D.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")),G&&(null===(P=o.logger)||void 0===P||P.log("Adding alias for TrustX..."),window.pbjs.aliasBidder("grid","trustx"))})),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.Prebid=window.PrebidVideoAPI={getTargetingData:o.getVideoBids,getRefreshedTargetingData:o.getRefreshedVideoBids,getPreRollTargetingData:o.getVideoBids,getMidRollTargetingData:o.getMidRollVideoBids,getRefreshedPreRollTargetingData:o.getRefreshedVideoBids,getRefreshedMidRollTargetingData:o.getMidRollVideoBids,__VERSION__:o.MODULE_VERSION};var m=(0,f.getUrlParam)("mdt");m&&(Object.keys(o.config.TIMEOUTS).forEach((function(e){Object.keys(o.config.TIMEOUTS[e]).forEach((function(n){o.config.TIMEOUTS[e][n]=parseInt(m,10)}))})),null===(n=o.logger)||void 0===n||n.log("Overriding Max Duration Time: ",o.config.TIMEOUTS))}}catch(e){null===(t=o.logger)||void 0===t||t.log("err on configurePrebidLibrary: ",e)}},o.init=function(){return new Promise((function(e,n){return i(o,void 0,void 0,(function(){var n,t,o,r,i,s=this;return a(this,(function(a){return null===(t=this.logger)||void 0===t||t.info("Initializing Prebid Module..."),this.enabled&&(null===(o=this.logger)||void 0===o||o.info("Initializing Module: ",this.config),n=this.validateConfiguration(this.config),null===(r=this.logger)||void 0===r||r.log("Validation: ",n),this.configurePrebidLibrary(this.config),(0,c.isIntl)()&&(this.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),window.AdFuel?(null===(i=this.logger)||void 0===i||i.log("Setting Module Ready"),window.AdFuel.setModuleReady(this.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){var e;null===(e=s.logger)||void 0===e||e.log("Setting Module Ready"),window.AdFuel.setModuleReady(s.MODULE_LOG_TAG)})),e()),[2]}))}))}))},null===(t=o.logger)||void 0===t||t.info("Prebid Module constructed"),o}return r(n,e),n.prototype.preDispatch=function(e){var n=this;return new Promise((function(t,o){n.setGeoTargeting(),t({name:"Prebid",slots:e})}))},n.prototype.preRefresh=function(e){var n=this;return new Promise((function(t){var o,r,i,a,s,d,u,c,l;null===(o=n.logger)||void 0===o||o.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Pre-Refresh Assets: ",e);var f=!1;if(e.length>0){null===(r=n.logger)||void 0===r||r.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  BUILT_AD_UNITS:",n.BUILT_AD_UNITS),e.forEach((function(e){n.BUILT_AD_UNITS.has(e.slotId)&&n.BUILT_AD_UNITS.delete(e.slotId)}));var g=n.buildPrebidAdUnits(e);null===(i=n.logger)||void 0===i||i.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  AdUnits: ",g);var m=e.map((function(e){var t;return null===(t=n.logger)||void 0===t||t.log("Page Slot: ",e,e.slotId),e.slotId}));if(null===(a=n.logger)||void 0===a||a.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Refreshed Page Slots: ",m),g.banner.length>0){null===(s=n.logger)||void 0===s||s.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Banner Ad Units: ",g.banner);var v=new Array;g.banner.forEach((function(e){v.push(e.code)})),g.outstream.forEach((function(e){v.push(e.code)})),null===(d=n.logger)||void 0===d||d.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Ad Unit Codes: ",v),window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),null===(u=n.logger)||void 0===u||u.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Requesting Bids...",v),window.pbjs.requestBids({adUnitCodes:v,timeout:(0,p.default)().any?n.config.TIMEOUTS.DISPLAY.MOBILE:n.config.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function(o,r){var i,a,s;try{null===(i=n.logger)||void 0===i||i.log("GOT BIDS: ",o,v),null===(a=window.googletag)||void 0===a||a.cmd.push((function(){window.pbjs.setTargetingForGPTAsync(v),f||(f=!0,t({name:"Prebid",bids:o,adUnitCodes:v,slots:e}))}))}catch(o){null===(s=n.logger)||void 0===s||s.warn("failed to get display ad for preRefreshCallback",o),t({name:"Prebid",err:o,slots:e})}}})}else null===(c=n.logger)||void 0===c||c.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  No Ad Units to Refresh.",g),f||(f=!0,t({name:"Prebid",slots:e,adUnits:g}))}else null===(l=n.logger)||void 0===l||l.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  No Slots To Refresh.",e),f||(f=!0,t({name:"Prebid",slots:e}))}))},n.prototype.destroySlots=function(e){var n=this;return new Promise((function(t,o){var r=Object.assign({},n.REQUESTED_AD_UNITS),i=s([],Array.from(n.BUILT_AD_UNITS),!0);e.forEach((function(e){var t;r.banner.forEach((function(t,o){var r,i;null===(r=n.logger)||void 0===r||r.log("rAU AdUnit: ",t),t.code===e.slotId&&(null===(i=n.logger)||void 0===i||i.log("Destroying Slot Requested Record: ",e.slotId),n.REQUESTED_AD_UNITS.banner.splice(o,1))})),i.forEach((function(t,o){var r,i;null===(r=n.logger)||void 0===r||r.log("bAU AdUnit: ",t),t===e.slotId&&(null===(i=n.logger)||void 0===i||i.log("Destroying Slot Built Record: ",e.slotId),n.BUILT_AD_UNITS.delete(e.slotId))})),null===(t=n.logger)||void 0===t||t.log("Removing Ad Unit from PBJS: ",e.slotId),window.pbjs.removeAdUnit(e.slotId)})),t({name:"Prebid",slots:e})}))},n}(d.AAdFuelModule);t.Prebid=b,new b(window.AdFuelOptions.PREBID||{BIDDERS:{CLIENT:{DOM:[],INTL:[]},OUTSTREAM:{DOM:[],INTL:[]},S2S:{DOM:[],INTL:[]},VIDEO:{DOM:[],INTL:[]}},DEBUG:!1,SEND_ALL_BIDS:{DOM:!0,INTL:!0},TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:500,MIDROLL:750,REFRESH:1e3}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:"7745",INTL:"8353"}},CRITEO:{ACCOUNT_ID:{DOM:4157,INTL:9264}},RUBICON:{ACCOUNT_ID:{DOM:"11078",INTL:"11016"},SITE_ID:{DOM:{DESKTOP:0,MOBILE:0},INTL:{DESKTOP:0,MOBILE:0}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}},MOBILE:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}}},INTL:{DESKTOP:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}},MOBILE:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}}}}},IX:{IDENTITY:"",SITE_ID:{DOM:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}}},PRICE_BUCKETS:{DOM:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:.01}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]},INTL:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]}}})},{"./prebidLibrary":14,"./version.json":15,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/generateCacheBuster":5,"@turnercode/digital-ads-utilities/dist/getUrlParam":6,"@turnercode/digital-ads-utilities/dist/localization":7,ismobilejs:11}],14:[function(require,module,exports){if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch(e){}else(function(){!function(){var e,n={5706:function(e,n,t){t.d(n,{Pd:function(){return c},Th:function(){return u},_U:function(){return l}});var o=t(5730),r=t(4358),i=t(265),a=t(4614),s=(0,t(8640).R)(),d="outstream";function u(e){var n=this,t=e.url,i=e.config,a=e.id,s=e.callback,u=e.loaded,c=e.adUnitCode,l=e.renderNow;this.url=t,this.config=i,this.handlers={},this.id=a,this.renderNow=l,this.loaded=u,this.cmd=[],this.push=function(e){"function"==typeof e?n.loaded?e.call():n.cmd.push(e):(0,r.H)("Commands given to Renderer.push must be wrapped in a function")},this.callback=s||function(){n.loaded=!0,n.process()},this.render=function(){var e=this,n=arguments,i=function(){e._render?e._render.apply(e,n):(0,r.yN)("No render function was provided, please use .setRender on the renderer")};f(c)?((0,r.yN)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(c)),i()):l?i():(this.cmd.unshift(i),(0,o.B)(t,d,this.callback,this.documentContext))}.bind(this)}function c(e){return!(!e||!e.url&&!e.renderNow)}function l(e,n,t){var o=null;e.config&&e.config.documentResolver&&(o=e.config.documentResolver(n,document,t)),o||(o=document),e.documentContext=o,e.render(n,e.documentContext)}function f(e){var n=s.adUnits,t=(0,a.sE)(n,(function(n){return n.code===e}));if(!t)return!1;var o=(0,i.Z)(t,"renderer"),r=!!(o&&o.url&&o.render),d=(0,i.Z)(t,"mediaTypes.video.renderer"),u=!!(d&&d.url&&d.render);return!!(r&&!0!==o.backupOnly||u&&!0!==d.backupOnly)}u.install=function(e){return new u({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode,renderNow:e.renderNow})},u.prototype.getConfig=function(){return this.config},u.prototype.setRender=function(e){this._render=e},u.prototype.setEventHandlers=function(e){this.handlers=e},u.prototype.handleVideoEvent=function(e){var n=e.id,t=e.eventName;"function"==typeof this.handlers[t]&&this.handlers[t](),(0,r.ji)("Prebid Renderer event for id ".concat(n," type ").concat(t))},u.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,r.H)("Error processing Renderer command: ",e)}}},4947:function(e,n,t){t.d(n,{EL:function(){return a},Jt:function(){return f},K$:function(){return r},S1:function(){return o},S5:function(){return i},UE:function(){return s},e:function(){return u},g0:function(){return l},oK:function(){return c},x$:function(){return d}});var o="accessDevice",r="syncUser",i="enrichUfpd",a="enrichEids",s="fetchBids",d="reportAnalytics",u="transmitEids",c="transmitUfpd",l="transmitPreciseGeo",f="transmitTid"},286:function(e,n,t){t.d(n,{T:function(){return r}});var o=t(6104),r=(0,t(6310).Oj)((function(e){return o.ZP.resolveAlias(e)}))},9633:function(e,n,t){t.d(n,{UL:function(){return r},XG:function(){return a},_U:function(){return s},wu:function(){return o},y2:function(){return i}});var o="prebid",r="bidder",i="userId",a="rtd",s="analytics"},6310:function(e,n,t){t.d(n,{$k:function(){return s},Hw:function(){return p},IV:function(){return g},JR:function(){return a},Ki:function(){return u},Oj:function(){return m},Qf:function(){return l},Ww:function(){return v},bL:function(){return c},bp:function(){return d},cx:function(){return f}});var o=t(4942),r=t(9633),i=t(2797),a="component",s=a+"Type",d=a+"Name",u="adapterCode",c="storageType",l="configName",f="syncType",g="syncUrl",p="_config";function m(e){return function(n,t,i){var c,l=(c={},(0,o.Z)(c,s,n),(0,o.Z)(c,d,t),(0,o.Z)(c,a,"".concat(n,".").concat(t)),c);return n===r.UL&&(l[u]=e(t)),v(Object.assign(l,i))}}var v=(0,i.z3)("sync",(function(e){return e}))},1087:function(e,n,t){t.d(n,{hb:function(){return b}});var o=t(1002),r=t(3324),i=t(265),a=t(3193),s=t(571),d=t(4947);function u(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var l=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((function(e){return"user.".concat(e)})),f=["user.eids","user.ext.eids"],g=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function p(e){return Object.assign({get:function(){},run:function(e,n,t,r,i){var a=t&&t[r];if(function(e){return null!=e&&("object"!==(0,o.Z)(e)||Object.keys(e).length>0)}(a)&&i()){var s=this.get(a);void 0===s?delete t[r]:t[r]=s}}},e)}function m(e){return e.forEach((function(e){e.paths=e.paths.map((function(e){var n=e.split("."),t=n.pop();return[n.length>0?n.join("."):null,t]}))})),function(n,t){for(var o=[],a=arguments.length,s=new Array(a>2?a-2:0),d=2;d<a;d++)s[d-2]=arguments[d];var c=v.apply(void 0,[n].concat(s));return e.forEach((function(e){if(!1!==n[e.name]){var a,s=u(e.paths);try{for(s.s();!(a=s.n()).done;){var d=(0,r.Z)(a.value,2),l=d[0],f=d[1],g=null==l?t:(0,i.Z)(t,l);if(o.push(e.run(t,l,g,f,c.bind(null,e))),!1===n[e.name])return}}catch(e){s.e(e)}finally{s.f()}}})),o.filter((function(e){return null!=e}))}}function v(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return function(n){return e.hasOwnProperty(n.name)||(e[n.name]=!!n.applies.apply(n,t)),e[n.name]}}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.xD;return function(t){return!n(e,t)}}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.xD,n=m(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.xD;return[{name:d.oK,paths:l,applies:h(d.oK,e)},{name:d.e,paths:f,applies:h(d.e,e)},{name:d.g0,paths:g,applies:h(d.g0,e),get:function(e){return Math.round(100*(e+Number.EPSILON))/100}},{name:d.Jt,paths:["source.tid"],applies:h(d.Jt,e)}].map(p)}(e)),t=m(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.xD;return[{name:d.e,paths:["userId","userIdAsEids"],applies:h(d.e,e)},{name:d.Jt,paths:["ortb2Imp.ext.tid"],applies:h(d.Jt,e)}].map(p)}(e));return function(e){var o={};return{ortb2:function(t){return n(o,t,e),t},bidRequest:function(n){return t(o,n,e),n}}}}();(0,s.oB)(d.Jt,"enableTIDs config",(function(){if(!a.vc.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}))},571:function(e,n,t){t.d(n,{oB:function(){return c},xD:function(){return l}});var o=t(3324),r=t(4358),i=t(6310);function a(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){d=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(d)throw i}}}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.qp)("Activity control:"),n={};function t(e){return n[e]=n[e]||[]}function s(n,t,o,r){var a;try{a=o(r)}catch(o){e.logError("Exception in rule ".concat(t," for '").concat(n,"'"),o),a={allow:!1,reason:o}}return a&&Object.assign({activity:n,name:t,component:r[i.JR]},a)}var d={};function u(n){var t=n.activity,o=n.name,r=n.allow,i=n.reason,a=n.component,s="".concat(o," ").concat(r?"allowed":"denied"," '").concat(t,"' for '").concat(a,"'").concat(i?":":""),u=d.hasOwnProperty(s);if(u&&clearTimeout(d[s]),d[s]=setTimeout((function(){return delete d[s]}),1e3),!u){var c=[s];i&&c.push(i),(r?e.logInfo:e.logWarn).apply(e,c)}}return[function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=t(e),s=a.findIndex((function(e){var n=(0,o.Z)(e,1)[0];return i<n})),d=[i,n,r];return a.splice(s<0?a.length:s,0,d),function(){var e=a.indexOf(d);e>=0&&a.splice(e,1)}},function(e,n){var r,i,d,c=a(t(e));try{for(c.s();!(d=c.n()).done;){var l=(0,o.Z)(d.value,3),f=l[0],g=l[1],p=l[2];if(r!==f&&i)break;r=f;var m=s(e,g,p,n);if(m){if(!m.allow)return u(m),!1;i=m}}}catch(e){c.e(e)}finally{c.f()}return i&&u(i),!0}]}(),u=(0,o.Z)(d,2),c=u[0],l=u[1]},875:function(e,n,t){t.d(n,{f:function(){return a}});var o=t(265),r={};function i(e,n,t){var o=function(e,n){var t=r[e]=r[e]||{bidders:{}};return n?t.bidders[n]=t.bidders[n]||{}:t}(e,t);return o[n]=(o[n]||0)+1,o[n]}var a={incrementRequestsCounter:function(e){return i(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,n){return i(e,"requestsCounter",n)},incrementBidderWinsCounter:function(e,n){return i(e,"winsCounter",n)},getRequestsCounter:function(e){return(0,o.Z)(r,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,n){return(0,o.Z)(r,"".concat(e,".bidders.").concat(n,".requestsCounter"))||0},getBidderWinsCounter:function(e,n){return(0,o.Z)(r,"".concat(e,".bidders.").concat(n,".winsCounter"))||0}}},8525:function(e,n,t){function o(e){var n=e;return{callBids:function(){},setBidderCode:function(e){n=e},getBidderCode:function(){return n}}}t.d(n,{Z:function(){return o}})},6104:function(e,n,t){t.d(n,{O6:function(){return x},uV:function(){return V}});var o=t(9062),r=t(3324),i=t(4942),a=t(4358),s=t(265),d=t(59),u=t(4699),c=t(8928),l=t(3193),f=t(2797),g=t(4614),p=t(875),m=t(5102),v=t(4516),h=t(2021),b=t(5644),y=t(9128),O=t(8653),_=t(9633),E=t(571),I=t(4947),w=t(6310),A=t(1087);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T="pbsBidAdapter",D="client",P="server",N={isAllowed:E.xD,redact:A.hb},M={},U=M.bidderRegistry={},R=M.aliasRegistry={},L=[];l.vc.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(L=(0,a.kJ)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var k={},F=(0,w.Oj)((function(e){return M.resolveAlias(e)}));function x(e){return F(_.wu,T,(0,i.Z)({},w.Qf,e.configName))}var j=(0,f.z3)("sync",(function(e){var n=e.bidderCode,t=e.auctionId,o=e.bidderRequestId,r=e.adUnits,i=e.src,d=e.metrics;return r.reduce((function(e,r){var u=r.bids.filter((function(e){return e.bidder===n}));return null==n&&0===u.length&&null!=r.s2sBid&&u.push({bidder:null}),e.push(u.reduce((function(e,n){var u=null==(n=Object.assign({},n,{ortb2Imp:(0,a.Ee)({},r.ortb2Imp,n.ortb2Imp)},(0,a.iG)(r,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?r.mediaTypes:n.mediaTypes;return(0,a.FS)(u)?n=Object.assign({},n,{mediaTypes:u}):(0,a.H)("mediaTypes is not correctly configured for adunit ".concat(r.code)),e.push(Object.assign({},n,{adUnitCode:r.code,transactionId:r.transactionId,sizes:(0,s.Z)(u,"banner.sizes")||(0,s.Z)(u,"video.playerSize")||[],bidId:n.bid_id||(0,a._d)(),bidderRequestId:o,auctionId:t,src:i,metrics:d,bidRequestsCount:p.f.getRequestsCounter(r.code),bidderRequestsCount:p.f.getBidderRequestsCounter(r.code,n.bidder),bidderWinsCount:p.f.getBidderWinsCounter(r.code,n.bidder)})),e}),[])),e}),[]).reduce(a.xH,[]).filter((function(e){return""!==e}))}),"getBids"),B=(0,f.z3)("sync",(function(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getS2SBidders;if(null==n)return e;var o=(void 0===t?V:t)(n);return e.filter((function(e){return o.has(e.bidder)}))}),"filterBidsForAdUnit");var G=(0,f.z3)("sync",(function(e,n){return e}),"setupAdUnitMediaTypes");function V(e){(0,a.kJ)(e)||(e=[e]);var n=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return n.add(e)})),n}var Z=(0,f.z3)("sync",(function(e,n){var t,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getS2SBidders,r=(void 0===o?V:o)(n);return(0,a.pP)(e).reduce((function(e,n){return e[r.has(n)?P:D].push(n),e}),(t={},(0,i.Z)(t,D,[]),(0,i.Z)(t,P,[]),t))}),"partitionBidders");function W(e,n){var t=U[e],o=(null==t?void 0:t.getSpec)&&t.getSpec();if(o&&o[n]&&"function"==typeof o[n])return[o,o[n]]}function H(e,n,t,o){try{(0,a.PN)("Invoking ".concat(e,".").concat(n));for(var r=arguments.length,i=new Array(r>4?r-4:0),s=4;s<r;s++)i[s-4]=arguments[s];l.vc.runWithBidder(e,o.bind.apply(o,[t].concat(i)))}catch(t){(0,a.yN)("Error calling ".concat(n," of ").concat(e))}}function q(e,n,t){if((null==t?void 0:t.src)!==b.os.YZ){var r=W(e,n);null!=r&&H.apply(void 0,[e,n].concat((0,o.Z)(r),[t]))}}M.makeBidRequests=(0,f.z3)("sync",(function(e,n,t,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0;s=(0,y.Bf)(s),h.j8(b.FP.BEFORE_REQUEST_BIDS,e),(0,d.Fb)(e),e.forEach((function(e){(0,a.PO)(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((function(e){return!e.bidder||N.isAllowed(I.UE,F(_.UL,e.bidder))}))})),e=G(e,r);var u=Z(e,L),c=u[D],f=u[P];l.vc.getConfig("bidderSequence")===l.FD&&(c=(0,a.TV)(c));var p=(0,m.nH)(),O=[],E=i.global||{},w=i.bidder||{};function A(e,n){var o=N.redact(null!=n?n:F(_.UL,e.bidderCode)),r=Object.freeze(o.ortb2((0,a.Ee)({source:{tid:t}},E,w[e.bidderCode])));return e.ortb2=r,e.bids=e.bids.map((function(e){return e.ortb2=r,o.bidRequest(e)})),e}L.forEach((function(o){var r=x(o);if(o&&o.enabled&&N.isAllowed(I.UE,r)){var i=function(e,n){var t=(0,a.I8)(e),o=!1;return t.forEach((function(e){var t=e.bids.filter((function(e){var t;return e.module===T&&(null===(t=e.params)||void 0===t?void 0:t.configName)===n.configName}));1===t.length?(e.s2sBid=t[0],o=!0,e.ortb2Imp=(0,a.Ee)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):t.length>1&&(0,a.yN)('Multiple "module" bids for the same s2s configuration; all will be ignored',t),e.bids=B(e.bids,n).map((function(e){return e.bid_id=(0,a._d)(),e}))})),{adUnits:t=t.filter((function(e){return 0!==e.bids.length||null!=e.s2sBid})),hasModuleBids:o}}(e,o),d=i.adUnits,u=i.hasModuleBids,c=(0,a.DO)();(0===f.length&&u?[null]:f).forEach((function(e){var i=(0,a._d)(),u=s.fork(),l=A({bidderCode:e,auctionId:t,bidderRequestId:i,uniquePbsTid:c,bids:j({bidderCode:e,auctionId:t,bidderRequestId:i,adUnits:(0,a.I8)(d),src:b.os.YZ,metrics:u}),auctionStart:n,timeout:o.timeout,src:b.os.YZ,refererInfo:p,metrics:u},r);0!==l.bids.length&&O.push(l)})),d.forEach((function(e){var n=e.bids.filter((function(e){return(0,g.sE)(O,(function(n){return(0,g.sE)(n.bids,(function(n){return n.bidId===e.bid_id}))}))}));e.bids=n})),O.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=d.filter((function(e){return e.bids.length>0||null!=e.s2sBid})))}))}}));var C=function(e){var n=(0,a.I8)(e);return n.forEach((function(e){e.bids=B(e.bids,null)})),n.filter((function(e){return 0!==e.bids.length}))}(e);return c.forEach((function(e){var i=(0,a._d)(),d=s.fork(),u=A({bidderCode:e,auctionId:t,bidderRequestId:i,bids:j({bidderCode:e,auctionId:t,bidderRequestId:i,adUnits:(0,a.I8)(C),labels:r,src:"client",metrics:d}),auctionStart:n,timeout:o,refererInfo:p,metrics:d}),c=U[e];c||(0,a.H)("Trying to make a request for bidder that does not exist: ".concat(e)),c&&u.bids&&0!==u.bids.length&&O.push(u)})),O.forEach((function(e){v.rp.getConsentData()&&(e.gdprConsent=v.rp.getConsentData()),v.nX.getConsentData()&&(e.uspConsent=v.nX.getConsentData()),v.TJ.getConsentData()&&(e.gppConsent=v.TJ.getConsentData())})),O}),"makeBidRequests"),M.callBids=function(e,n,t,o,i,s,d){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(n.length){var f=n.reduce((function(e,n){return e[Number(void 0!==n.src&&n.src===b.os.YZ)].push(n),e}),[[],[]]),g=(0,r.Z)(f,2),p=g[0],m=g[1],v=[];m.forEach((function(e){for(var n=-1,t=0;t<v.length;++t)if(e.uniquePbsTid===v[t].uniquePbsTid){n=t;break}n<=-1&&v.push(e)}));var y=0;L.forEach((function(e){if(e&&v[y]&&V(e).has(v[y].bidderCode)){var n=(0,c.OI)(s,i?{request:i.request.bind(null,"s2s"),done:i.done}:void 0),r=e.bidders,l=U[e.adapter],f=v[y].uniquePbsTid,g=v[y].adUnitsS2SCopy,p=m.filter((function(e){return e.uniquePbsTid===f}));if(l){var O={ad_units:g,s2sConfig:e,ortb2Fragments:u};if(O.ad_units.length){var _=p.map((function(e){return e.start=(0,a.AB)(),function(){d(e.bidderRequestId),o.apply(e,arguments)}})),E=(0,a.pP)(O.ad_units).filter((function(e){return r.includes(e)}));(0,a.ji)("CALLING S2S HEADER BIDDERS ==== ".concat(E.length>0?E.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),p.forEach((function(e){h.j8(b.FP.BID_REQUESTED,S(S({},e),{},{tid:e.auctionId}))})),l.callBids(O,m,t,(function(){return _.forEach((function(e){return e()}))}),n)}}else(0,a.H)("missing "+e.adapter);y++}})),p.forEach((function(e){e.start=(0,a.AB)();var n=U[e.bidderCode];l.vc.runWithBidder(e.bidderCode,(function(){(0,a.ji)("CALLING BIDDER"),h.j8(b.FP.BID_REQUESTED,e)}));var r=(0,c.OI)(s,i?{request:i.request.bind(null,e.bidderCode),done:i.done}:void 0),u=o.bind(e);try{l.vc.runWithBidder(e.bidderCode,n.callBids.bind(n,e,t,u,r,(function(){return d(e.bidderRequestId)}),l.vc.callbackWithBidder(e.bidderCode)))}catch(n){(0,a.H)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:n,bidRequest:e}),u()}}))}else(0,a.yN)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},M.videoAdapters=[],M.registerBidAdapter=function(e,n){var t,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===o?[]:o;e&&n?"function"==typeof e.callBids?(U[n]=e,v.qh.register(_.UL,n,null===(t=e.getSpec)||void 0===t?void 0:t.call(e).gvlid),(0,g.q9)(r,"video")&&M.videoAdapters.push(n),(0,g.q9)(r,"native")&&d.Sg.push(n)):(0,a.H)("Bidder adaptor error for bidder code: "+n+"bidder must implement a callBids() function"):(0,a.H)("bidAdapter or bidderCode not specified")},M.aliasBidAdapter=function(e,n,t){if(void 0===U[n]){var o=U[e];if(void 0===o){var r=[];L.forEach((function(t){if(t.bidders&&t.bidders.length){var o=t&&t.bidders;t&&(0,g.q9)(o,n)?R[n]=e:r.push(e)}})),r.forEach((function(e){(0,a.H)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var i,s=function(e){var n=[];return(0,g.q9)(M.videoAdapters,e)&&n.push("video"),(0,g.q9)(d.Sg,e)&&n.push("native"),n}(e);if(o.constructor.prototype!=Object.prototype)(i=new o.constructor).setBidderCode(n);else{var c=o.getSpec(),l=t&&t.gvlid;null!=c.gvlid&&null==l&&(0,a.yN)("Alias '".concat(n,"' will NOT re-use the GVL ID of the original adapter ('").concat(c.code,"', gvlid: ").concat(c.gvlid,"). Functionality that requires TCF consent may not work as expected."));var f=t&&t.skipPbsAliasing;i=(0,u.PZ)(Object.assign({},c,{code:n,gvlid:l,skipPbsAliasing:f})),R[n]=e}M.registerBidAdapter(i,n,{supportedMediaTypes:s})}catch(n){(0,a.H)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,a.ji)('alias name "'+n+'" has been already specified.')},M.resolveAlias=function(e){for(var n,t=e;R[t]&&(!n||!n.has(t));)t=R[t],(n=n||new Set).add(t);return t},M.registerAnalyticsAdapter=function(e){var n=e.adapter,t=e.code,o=e.gvlid;n&&t?"function"==typeof n.enableAnalytics?(n.code=t,k[t]={adapter:n,gvlid:o},v.qh.register(_._U,t,o)):(0,a.H)('Prebid Error: Analytics adaptor error for analytics "'.concat(t,'"\n        analytics adapter must implement an enableAnalytics() function')):(0,a.H)("Prebid Error: analyticsAdapter or analyticsCode not specified")},M.enableAnalytics=function(e){(0,a.kJ)(e)||(e=[e]),e.forEach((function(e){var n=k[e.provider];n&&n.adapter?N.isAllowed(I.x$,F(_._U,e.provider,(0,i.Z)({},w.Hw,e)))&&n.adapter.enableAnalytics(e):(0,a.H)("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},M.getBidAdapter=function(e){return U[e]},M.getAnalyticsAdapter=function(e){return k[e]},M.callTimedOutBidders=function(e,n,t){n=n.map((function(n){return n.params=(0,a.S0)(e,n.adUnitCode,n.bidder),n.timeout=t,n})),n=(0,a.vM)(n,"bidder"),Object.keys(n).forEach((function(e){q(e,"onTimeout",n[e])}))},M.callBidWonBidder=function(e,n,t){n.params=(0,a.S0)(t,n.adUnitCode,n.bidder),p.f.incrementBidderWinsCounter(n.adUnitCode,n.bidder),q(e,"onBidWon",n)},M.callBidBillableBidder=function(e){q(e.bidder,"onBidBillable",e)},M.callSetTargetingBidder=function(e,n){q(e,"onSetTargeting",n)},M.callBidViewableBidder=function(e,n){q(e,"onBidViewable",n)},M.callBidderError=function(e,n,t){q(e,"onBidderError",{error:n,bidderRequest:t})},M.callDataDeletionRequest=(0,f.z3)("sync",(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i="onDataDeletionRequest";Object.keys(U).filter((function(e){return!R.hasOwnProperty(e)})).forEach((function(e){var t=W(e,i);if(null!=t){var r=O.K.getBidsRequested().filter((function(n){return function(e){for(var n=new Set;R.hasOwnProperty(e)&&!n.has(e);)n.add(e),e=R[e];return e}(n.bidderCode)===e}));H.apply(void 0,[e,i].concat((0,o.Z)(t),[r],n))}})),Object.entries(k).forEach((function(e){var t,o=(0,r.Z)(e,2),s=o[0],d=o[1],u=null==d||null===(t=d.adapter)||void 0===t?void 0:t[i];if("function"==typeof u)try{u.apply(d.adapter,n)}catch(e){(0,a.H)("error calling ".concat(i," of ").concat(s),e)}}))})),n.ZP=M},4699:function(e,n,t){t.d(n,{BF:function(){return P},JY:function(){return M},PZ:function(){return S},dX:function(){return C}});var o=t(1002),r=t(3324),i=t(8525),a=t(6104),s=t(3193),d=t(9626),u=t(1974),c=t(59),l=t(154),f=t(5644),g=t(2021),p=t(4614),m=t(4358),v=t(2797),h=t(8653),b=t(5975),y=t(9128),O=t(571),_=t(286),E=t(9633),I=t(4947),w=["cpm","ttl","creativeId","netRevenue","currency"],A=["auctionId","transactionId"];function C(e){var n=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function t(e){var t=S(e);a.ZP.registerBidAdapter(t,e.code,n)}t(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(n){var o,r,i=n;(0,m.PO)(n)&&(i=n.code,o=n.gvlid,r=n.skipPbsAliasing),a.ZP.aliasRegistry[i]=e.code,t(Object.assign({},e,{code:i,gvlid:o,skipPbsAliasing:r}))}))}function S(e){return Object.assign(new i.Z(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:n,callBids:function(t,o,i,u,c,l){if(Array.isArray(t.bids)){var p=function(e){if((0,O.xD)(I.Jt,(0,_.T)(E.UL,e)))return{bidRequest:function(e){return e},bidderRequest:function(e){return e}};function n(e,n,t){return A.includes(n)?null:Reflect.get(e,n,t)}function t(e,n){var t=new Proxy(e,n);return Object.entries(e).filter((function(e){var n=(0,r.Z)(e,2);return n[0],"function"==typeof n[1]})).forEach((function(n){var o=(0,r.Z)(n,2),i=o[0],a=o[1];return t[i]=a.bind(e)})),t}var o=(0,m.HP)((function(e){return t(e,{get:n})}),(function(e){return e.bidId}));return{bidRequest:o,bidderRequest:function(e){return t(e,{get:function(t,r,i){return"bids"===r?e.bids.map(o):n(t,r,i)}})}}}(t.bidderCode),v={},h=[],w=U(t).measureTime("validate",(function(){return t.bids.filter((function(n){return function(n){return!!e.isBidRequestValid(n)||((0,m.yN)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(n))),!1)}(p.bidRequest(n))}))}));if(0!==w.length){var C={};w.forEach((function(e){C[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),T(e,w.map(p.bidRequest),p.bidderRequest(t),u,l,{onRequest:function(e){return g.j8(f.FP.BEFORE_BIDDER_HTTP,t,e)},onResponse:function(n){c(e.code),h.push(n)},onFledgeAuctionConfigs:function(e){e.forEach((function(e){var n=C[e.bidId];n?P(n.auctionId,n.adUnitCode,e.config):(0,m.yN)("Received fledge auction configuration for an unknown bidId",e)}))},onError:function(n,o){c(e.code),a.ZP.callBidderError(e.code,o,t),g.j8(f.FP.BIDDER_ERROR,{error:o,bidderRequest:t}),(0,m.H)("Server call for ".concat(e.code," failed: ").concat(n," ").concat(o.status,". Continuing without bids."))},onBid:function(n){var t=C[n.requestId];if(t){if(n.adapterCode=t.bidder,function(e,n){var t=b.S.get(n,"allowAlternateBidderCodes")||!1,o=b.S.get(n,"allowedAlternateBidderCodes");return!!(e&&n&&n!==e&&(o=(0,m.kJ)(o)?o.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(m.tT):o,!t||(0,m.kJ)(o)&&"*"!==o[0]&&!o.includes(e)))}(n.bidderCode,t.bidder))return(0,m.yN)("".concat(n.bidderCode," is not a registered partner or known bidder of ").concat(t.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void o.reject(t.adUnitCode,n,f.Gw.Dg);n.originalCpm=n.cpm,n.originalCurrency=n.currency,n.meta=n.meta||Object.assign({},n[t.bidder]);var r=Object.assign((0,d.m)(f.Q_.Q,t),n,(0,m.ei)(t,A));!function(e,n){var t=(0,y.Bf)(n.metrics);t.checkpoint("addBidResponse"),v[e]=!0,t.measureTime("addBidResponse.validate",(function(){return M(e,n)}))?o(e,n):o.reject(e,n,f.Gw.UI)}(t.adUnitCode,r)}else(0,m.yN)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(n.requestId,". Ignoring.")),o.reject(null,n,f.Gw.Gp)},onCompletion:S})}else S()}function S(){i(),s.vc.runWithBidder(e.code,(function(){g.j8(f.FP.BIDDER_DONE,t),n(h,t.gdprConsent,t.uspConsent,t.gppConsent)}))}}});function n(n,t,o,r){D(e,n,t,o,r)}}var T=(0,v.z3)("sync",(function(e,n,t,r,i,a){var s=a.onRequest,d=a.onResponse,u=a.onFledgeAuctionConfigs,c=a.onError,l=a.onBid,f=a.onCompletion,g=U(t);f=g.startTiming("total").stopBefore(f);var p=g.measureTime("buildRequests",(function(){return e.buildRequests(n,t)}));if(p&&0!==p.length){Array.isArray(p)||(p=[p]);var v=(0,m.yx)(f,p.length);p.forEach((function(n){var t=g.fork();function a(e){null!=e&&(e.metrics=t.fork().renameWith()),l(e)}var f=i((function(o,r){h();try{o=JSON.parse(o)}catch(e){}o={body:o,headers:{get:r.getResponseHeader.bind(r)}},d(o);try{o=t.measureTime("interpretResponse",(function(){return e.interpretResponse(o,n)}))}catch(n){return(0,m.H)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,n),void v()}var i;o&&(0,m.kJ)(o.fledgeAuctionConfigs)?(u(o.fledgeAuctionConfigs),i=o.bids):i=o,i&&((0,m.kJ)(i)?i.forEach(a):a(i)),v()})),p=i((function(e,n){h(),c(e,n),v()}));s(n);var h=t.startTiming("net");function b(t){var o=n.options;return Object.assign(t,o,{browsingTopics:!(null!=o&&o.hasOwnProperty("browsingTopics")&&!o.browsingTopics)&&(0,O.xD)(I.oK,(0,_.T)(E.UL,e.code))})}switch(n.method){case"GET":r("".concat(n.url).concat(function(e){return e?"?".concat("object"===(0,o.Z)(e)?(0,m.Re)(e):e):""}(n.data)),{success:f,error:p},void 0,b({method:"GET",withCredentials:!0}));break;case"POST":r(n.url,{success:f,error:p},"string"==typeof n.data?n.data:JSON.stringify(n.data),b({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,m.yN)("Skipping invalid request from ".concat(e.code,". Request type ").concat(n.type," must be GET or POST")),v()}}))}else f()}),"processBidderRequests"),D=(0,v.z3)("async",(function(e,n,t,o,r){var i=s.vc.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(i||!a.ZP.aliasRegistry[e.code])){var d=s.vc.getConfig("userSync.filterSettings"),c=e.getUserSyncs({iframeEnabled:!(!d||!d.iframe&&!d.all),pixelEnabled:!(!d||!d.image&&!d.all)},n,t,o,r);c&&(Array.isArray(c)||(c=[c]),c.forEach((function(n){u.k_.registerSync(n.type,e.code,n.url)})),u.k_.bidderDone(e.code))}}),"registerSyncs"),P=(0,v.z3)("sync",(function(e,n){}),"addComponentAuction");function N(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,o=void 0===t?h.K.index:t;if((n.width||0===parseInt(n.width,10))&&(n.height||0===parseInt(n.height,10)))return n.width=parseInt(n.width,10),n.height=parseInt(n.height,10),!0;var i=o.getBidRequest(n),a=o.getMediaTypes(n),s=i&&i.sizes||a&&a.banner&&a.banner.sizes,d=(0,m.sF)(s);if(1===d.length){var u=d[0].split("x"),c=(0,r.Z)(u,2),l=c[0],f=c[1];return n.width=parseInt(l,10),n.height=parseInt(f,10),!0}return!1}function M(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,o=void 0===t?h.K.index:t;function r(e){return"Invalid bid from ".concat(n.bidderCode,". Ignoring bid: ").concat(e)}return e?n?function(){var e=Object.keys(n);return w.every((function(t){return(0,p.q9)(e,t)&&!(0,p.q9)([void 0,null],n[t])}))}()?"native"!==n.mediaType||(0,c.r4)(n,{index:o})?"video"!==n.mediaType||(0,l.Dn)(n,{index:o})?!("banner"===n.mediaType&&!N(e,n,{index:o})&&((0,m.H)(r("Banner bids require a width and height")),1)):((0,m.H)(r("Video bid does not have required vastUrl or renderer property")),!1):((0,m.H)(r("Native bid missing some required properties.")),!1):((0,m.H)(r("Bidder ".concat(n.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):((0,m.yN)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,m.yN)("No adUnitCode was supplied to addBidResponse."),!1)}function U(e){return(0,y.Bf)(e.metrics).renameWith((function(n){return["adapter.client.".concat(n),"adapters.client.".concat(e.bidderCode,".").concat(n)]}))}},5730:function(e,n,t){t.d(n,{B:function(){return s}});var o=t(4614),r=t(4358),i=new WeakMap,a=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","qortex"];function s(e,n,t,s,d){if(n&&e){if((0,o.q9)(a,n)){s||(s=document);var u=f(s,e);if(u)return t&&"function"==typeof t&&(u.loaded?t():u.callbacks.push(t)),u.tag;var c=i.get(s)||{},l={loaded:!1,tag:null,callbacks:[]};return c[e]=l,i.set(s,c),t&&"function"==typeof t&&l.callbacks.push(t),(0,r.yN)("module ".concat(n," is loading external JavaScript")),function(n,t,o,i){o||(o=document);var a=o.createElement("script");a.type="text/javascript",a.async=!0;var s=f(o,e);return s&&(s.tag=a),a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=n,i&&(0,r.D9)(a,i),(0,r.jC)(a,o),a}(e,(function(){l.loaded=!0;try{for(var e=0;e<l.callbacks.length;e++)l.callbacks[e]()}catch(e){(0,r.H)("Error executing callback","adloader.js:loadExternalScript",e)}}),s,d)}(0,r.H)("".concat(n," not whitelisted for loading external JavaScript"))}else(0,r.H)("cannot load external script without url and moduleCode");function f(e,n){var t=i.get(e);return t&&t[n]?t[n]:null}}},8928:function(e,n,t){t.d(n,{OI:function(){return p},hj:function(){return m}});var o=t(3324),r=t(1002),i=t(3193),a=t(4358),s={fetch:window.fetch.bind(window),makeRequest:function(e,n){return new Request(e,n)},timeout:function(e,n){var t=new AbortController,o=setTimeout((function(){t.abort(),(0,a.H)("Request timeout after ".concat(e,"ms"),n),o=null}),e);return{signal:t.signal,done:function(){o&&clearTimeout(o)}}}},d="GET",u="POST",c="Content-Type";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.request,o=n.done,r=function(n,t){var o,r,a;null==e||null!=(null===(o=t)||void 0===o?void 0:o.signal)||i.vc.getConfig("disableAjaxTimeout")||(a=s.timeout(e,n),t=Object.assign({signal:a.signal},t));var d=s.fetch(n,t);return null!=(null===(r=a)||void 0===r?void 0:r.done)&&(d=d.finally(a.done)),d};return null==t&&null==o||(r=function(e){return function(n,r){var i=new URL(null==(null==n?void 0:n.url)?n:n.url,document.location).origin,a=e(n,r);return t&&t(i),o&&(a=a.finally((function(){return o(i)}))),a}}(r)),r}function f(e,n){var t=e.status,o=e.statusText,r=void 0===o?"":o,i=e.headers,s=e.url,d=0;function u(e){if(0===d)try{var t,o;d=(new DOMParser).parseFromString(n,null==i||null===(t=i.get(c))||void 0===t||null===(o=t.split(";"))||void 0===o?void 0:o[0])}catch(n){d=null,e&&e(n)}return d}return{readyState:XMLHttpRequest.DONE,status:t,statusText:r,responseText:n,response:n,responseType:"",responseURL:s,get responseXML(){return u(a.H)},getResponseHeader:function(e){return null!=i&&i.has(e)?i.get(e):null},toJSON:function(){return Object.assign({responseXML:u()},this)}}}function g(e,n){var t="object"===(0,r.Z)(n)&&null!=n?n:{success:"function"==typeof n?n:function(){return null},error:function(e,n){return(0,a.H)("Network error",e,n)}},i=t.success,s=t.error;e.then((function(e){return e.text().then((function(n){return[e,n]}))})).then((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1],a=f(t,r);t.ok||304===t.status?i(r,a):s(t.statusText,a)}),(function(){return s("",f({status:0},""))}))}function p(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:e.request,done:e.done});return function(e,t,o){g(n(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.method||(n?u:d);if(o===d&&n){var r=(0,a.en)(e,t);Object.assign(r.search,n),e=(0,a.Q2)(r)}var i=new Headers(t.customHeaders);i.set(c,t.contentType||"text/plain");var l={method:o,headers:i};return o!==d&&n&&(l.body=n),t.withCredentials&&(l.credentials="include"),t.browsingTopics&&isSecureContext&&(l.browsingTopics=!0),s.makeRequest(e,l)}(e,o,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})),t)}}var m=p();l()},5686:function(e,n,t){t.d(n,{LX:function(){return X},RH:function(){return z},Yt:function(){return U},Yw:function(){return C},dg:function(){return K},lU:function(){return F},mv:function(){return S},vO:function(){return M}});var o=t(1002),r=t(4358),i=t(265),a=t(6463),s=t(59),d=t(9885),u=t(5706),c=t(3193),l=t(1974),f=t(2797),g=t(4614),p=t(154),m=t(4679),v=t(8653),h=t(5975),b=t(2021),y=t(6104),O=t(5644),_=t(8792),E=t(9128),I=t(6066),w=t(8640),A=l.k_.syncUsers,C="inProgress",S="completed";b.on(O.FP.BID_ADJUSTMENT,(function(e){!function(e){var n=(0,I.O)(e.cpm,e);n>=0&&(e.cpm=n)}(e)}));var T={},D={},P=[],N=(0,w.R)();function M(e){var n=e.adUnits,t=e.adUnitCodes,i=e.callback,a=e.cbTimeout,s=e.labels,d=e.auctionId,u=e.ortb2Fragments,l=e.metrics;l=(0,E.Bf)(l);var f,p,h,I,w=n,M=s,j=t,B=d||(0,r.DO)(),V=a,Z=new Set,W=(0,_.P)(),q=[],z=i,K=[],J=[],X=[],Y=[],$=[];function ee(){return{auctionId:B,timestamp:f,auctionEnd:p,auctionStatus:I,adUnits:w,adUnitCodes:j,labels:M,bidderRequests:K,noBids:X,bidsReceived:J,bidsRejected:q,winningBids:Y,timeout:V,metrics:l,seatNonBids:$}}function ne(e){if(e||clearTimeout(h),void 0===p){var t=[];e&&((0,r.ji)("Auction ".concat(B," timedOut")),(t=K.filter((function(e){return!Z.has(e.bidderRequestId)})).flatMap((function(e){return e.bids}))).length&&b.j8(O.FP.BID_TIMEOUT,t)),I=S,p=Date.now(),l.checkpoint("auctionEnd"),l.timeBetween("requestBids","auctionEnd","requestBids.total"),l.timeBetween("callBids","auctionEnd","requestBids.callBids"),W.resolve(),b.j8(O.FP.AUCTION_END,ee()),k(w,(function(){try{if(null!=z){var o=J.filter((function(e){return j.includes(e.adUnitCode)})).reduce(Q,{});z.apply(N,[o,e,B]),z=null}}catch(e){(0,r.H)("Error executing bidsBackHandler",null,e)}finally{t.length&&y.ZP.callTimedOutBidders(n,t,V);var i=c.vc.getConfig("userSync")||{};i.enableOverride||A(i.syncDelay)}}))}}function te(){c.vc.resetBidder(),(0,r.PN)("Bids Received for Auction with id: ".concat(B),J),I=S,ne(!1)}function oe(e){Z.add(e)}function re(e){var n=this;e.forEach((function(e){var n;n=e,K=K.concat(n)}));var t={},i={bidRequests:e,run:function(){h=setTimeout((function(){return ne(!0)}),V),I=C,b.j8(O.FP.AUCTION_INIT,ee());var i=function(e,n){var t=(void 0===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index&&v.K.index,0),i=!1,a=new Set,s={};function d(){t--,i&&0===t&&e()}function u(e,n,o){return s[n.requestId]=!0,function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.index,i=void 0===o?v.K.index:o,a=i.getBidderRequest(e),s=i.getAdUnit(e),d=a&&a.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,r.AB)(),requestTimestamp:e.requestTimestamp||d,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:n}),null!=(null==s?void 0:s.ttlBuffer)&&(e.ttlBuffer=s.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(n,e),t++,o(d)}function l(e,t){u(e,t,(function(e){var r=H(t);r.mediaType===m.pX?x(n,r,e):(null!=r.native&&"object"===(0,o.Z)(r.native)&&G(r),F(n,r),e())}))}function f(e,t,o){return u(e,t,(function(e){t.rejectionReason=o,(0,r.yN)("Bid from ".concat(t.bidder||"unknown bidder"," was rejected: ").concat(o),t),b.j8(O.FP.BID_REJECTED,t),n.addBidRejected(t),e()}))}function p(){var o=n.getBidRequests(),d=c.vc.getConfig("auctionOptions");if(a.add(this),d&&!(0,r.xb)(d)){var u=d.secondaryBidders;u&&!o.every((function(e){return(0,g.q9)(u,e.bidderCode)}))&&(o=o.filter((function(e){return!(0,g.q9)(u,e.bidderCode)})))}i=o.every((function(e){return a.has(e)})),this.bids.forEach((function(e){s[e.bidId]||(n.addNoBid(e),b.j8(O.FP.NO_BID,e))})),i&&0===t&&e()}return{addBidResponse:function(){function e(e,n){var t;U.call({dispatch:l},e,n,(t=!1,function(o){t||(f(e,n,o),t=!0)}))}return e.reject=f,e}(),adapterDone:function(){var e=this;R(_.Z.resolve()).finally((function(){return p.call(e)}))}}}(te,n);y.ZP.callBids(w,e,i.addBidResponse,i.adapterDone,{request:function(e,n){s(T,n),s(t,e),D[e]||(D[e]={SRA:!0,origin:n}),t[e]>1&&(D[e].SRA=!1)},done:function(e){T[e]--,P[0]&&a(P[0])&&P.shift()}},V,oe,u)}};function a(e){var n=!0,t=c.vc.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var o=1,r=void 0!==e.src&&e.src===O.os.YZ?"s2s":e.bidderCode;return D[r]&&(!1===D[r].SRA&&(o=Math.min(e.bids.length,t)),T[D[r].origin]+o>t&&(n=!1)),!n})),n&&e.run(),n}function s(e,n){void 0===e[n]?e[n]=1:e[n]++}a(i)||((0,r.yN)("queueing auction due to limited endpoint capacity"),P.push(i))}return b.on(O.FP.SEAT_NON_BID,(function(e){var n;e.auctionId===B&&(n=e.seatnonbid,$=$.concat(n))})),{addBidReceived:function(e){J=J.concat(e)},addBidRejected:function(e){q=q.concat(e)},addNoBid:function(e){X=X.concat(e)},callBids:function(){I="started",f=Date.now();var e=l.measureTime("requestBids.makeRequests",(function(){return y.ZP.makeBidRequests(w,f,B,V,M,u,l)}));(0,r.PN)("Bids Requested for Auction with id: ".concat(B),e),l.checkpoint("callBids"),e.length<1?((0,r.yN)("No valid bid requests returned for auction"),te()):L.call({dispatch:re,context:this},e)},addWinningBid:function(e){var t=n.find((function(n){return n.transactionId===e.transactionId}));Y=Y.concat(e),y.ZP.callBidWonBidder(e.adapterCode||e.bidder,e,n),t&&!t.deferBilling&&y.ZP.callBidBillableBidder(e)},setBidTargeting:function(e){y.ZP.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:function(){return Y},getAuctionStart:function(){return f},getAuctionEnd:function(){return p},getTimeout:function(){return V},getAuctionId:function(){return B},getAuctionStatus:function(){return I},getAdUnits:function(){return w},getAdUnitCodes:function(){return j},getBidRequests:function(){return K},getBidsReceived:function(){return J},getNoBids:function(){return X},getNonBids:function(){return $},getFPD:function(){return u},getMetrics:function(){return l},end:W.promise}}var U=(0,f.z3)("sync",(function(e,n,t){this.dispatch.call(null,e,n)}),"addBidResponse"),R=(0,f.z3)("sync",(function(e){return e}),"responsesReady"),L=(0,f.z3)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),k=(0,f.z3)("async",(function(e,n){n&&n()}),"bidsBackCallback");function F(e,n){!function(e){var n,t=!0===h.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(t||e.dealId)&&(n=function(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,o=void 0===t?v.K.index:t;if(!n)return{};var r=o.getBidRequest(n),i={};return Y(i,X(n.mediaType,e),n,r),e&&h.S.getOwn(e,O.k2.xn)&&(Y(i,h.S.ownSettingsFor(e),n,r),n.sendStandardTargeting=h.S.get(e,"sendStandardTargeting")),n.native&&(i=Object.assign({},i,(0,s.Ur)(n))),i}(e.bidderCode,e)),e.adserverTargeting=Object.assign(e.adserverTargeting||{},n)}(n),(0,E.Bf)(n.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(n),b.j8(O.FP.BID_RESPONSE,n)}function x(e,n,t){var o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).index,a=void 0===o?v.K.index:o,s=!0,d=(0,i.Z)(a.getMediaTypes({requestId:n.originalRequestId||n.requestId,transactionId:n.transactionId}),"video"),u=d&&(0,i.Z)(d,"context"),l=d&&(0,i.Z)(d,"useCacheKey");c.vc.getConfig("cache.url")&&(l||u!==p.gZ)&&(!n.videoCacheKey||c.vc.getConfig("cache.ignoreBidderCacheKey")?(s=!1,W(e,n,t,d)):n.vastUrl||((0,r.H)("videoCacheKey specified but not required vastUrl for video bid"),s=!1)),s&&(F(e,n),t())}var j,B,G=function(e){var n,t,o=null===(n=v.K.index.getAdUnit(e))||void 0===n?void 0:n.nativeOrtbRequest,r=null===(t=e.native)||void 0===t?void 0:t.ortb;if(o&&r){var i=(0,s.zq)(r,o);Object.assign(e.native,i)}},V=function(e){(0,d.h)(e.map((function(e){return e.bidResponse})),(function(n,t){t.forEach((function(t,o){var i=e[o],a=i.auctionInstance,s=i.bidResponse,u=i.afterBidAdded;n?(0,r.yN)("Failed to save to the video cache: ".concat(n,". Video bid must be discarded.")):""===t.uuid?(0,r.yN)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(s.videoCacheKey=t.uuid,s.vastUrl||(s.vastUrl=(0,d.z)(s.videoCacheKey)),F(a,s),u())}))}))};c.vc.getConfig("cache",(function(e){j="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,B="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V,t=[[]],o=!1,r=function(e){return e()};return function(i,a,s){var d=B>0?e:r;t[t.length-1].length>=j&&t.push([]),t[t.length-1].push({auctionInstance:i,bidResponse:a,afterBidAdded:s}),o||(o=!0,d((function(){t.forEach(n),t=[[]],o=!1}),B))}}(),W=(0,f.z3)("async",(function(e,n,t,o){Z(e,n,t)}),"callPrebidCache");function H(e){var n,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,r=void 0===t?v.K.index:t;b.j8(O.FP.BID_ADJUSTMENT,e);var i=(null===(n=r.getBidRequest(e))||void 0===n?void 0:n.renderer)||r.getAdUnit(e).renderer,s=e.mediaType,d=r.getMediaTypes(e),l=d&&d[s],f=l&&l.renderer,g=null;f&&f.url&&f.render&&(!0!==f.backupOnly||!e.renderer)?g=f:i&&i.url&&i.render&&(!0!==i.backupOnly||!e.renderer)&&(g=i),g&&(e.renderer=u.Th.install({url:g.url,config:g.options}),e.renderer.setRender(g.render));var p=q(e.mediaType,d,c.vc.getConfig("mediaTypePriceGranularity")),m=(0,a.D)(e.cpm,"object"===(0,o.Z)(p)?p:c.vc.getConfig("customPriceBucket"),c.vc.getConfig("currency.granularityMultiplier"));return e.pbLg=m.low,e.pbMg=m.med,e.pbHg=m.high,e.pbAg=m.auto,e.pbDg=m.dense,e.pbCg=m.custom,e}function q(e,n,t){if(e&&t){if(e===m.pX){var o=(0,i.Z)(n,"".concat(m.pX,".context"),"instream");if(t["".concat(m.pX,"-").concat(o)])return t["".concat(m.pX,"-").concat(o)]}return t[e]}}var z=function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,t=void 0===n?v.K.index:n,o=q(e.mediaType,t.getMediaTypes(e),c.vc.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&o?"string"==typeof o?o:"custom":c.vc.getConfig("priceGranularity")},K=function(e){return function(n){var t=e||z(n);return t===O.Ql.B7?n.pbAg:t===O.Ql.uN?n.pbDg:t===O.Ql.yE?n.pbLg:t===O.Ql.M2?n.pbMg:t===O.Ql.lj?n.pbHg:t===O.Ql.qN?n.pbCg:void 0}};function J(e,n){return{key:e,val:"function"==typeof n?function(e,t){return n(e,t)}:function(e){return(0,r.NA)(e,n)}}}function X(e,n){var t=O.TD,o=Object.assign({},h.S.settingsFor(null));if(o[O.k2.xn]||(o[O.k2.xn]=function(){var e=O.TD;return[J(e.BIDDER,"bidderCode"),J(e.AD_ID,"adId"),J(e.PRICE_BUCKET,K()),J(e.SIZE,"size"),J(e.DEAL,"dealId"),J(e.SOURCE,"source"),J(e.FORMAT,"mediaType"),J(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:""})),J(e.ACAT,(function(e){return e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""})),J(e.DSP,(function(e){return e.meta&&(e.meta.networkId||e.meta.networkName)?(0,i.Z)(e,"meta.networkName")||(0,i.Z)(e,"meta.networkId"):""})),J(e.CRID,(function(e){return e.creativeId?e.creativeId:""}))]}()),"video"===e){var a=o[O.k2.xn].slice();if(o[O.k2.xn]=a,[t.UUID,t.CACHE_ID].forEach((function(e){void 0===(0,g.sE)(a,(function(n){return n.key===e}))&&a.push(J(e,"videoCacheKey"))})),c.vc.getConfig("cache.url")&&(!n||!1!==h.S.get(n,"sendStandardTargeting"))){var s=(0,r.en)(c.vc.getConfig("cache.url"));void 0===(0,g.sE)(a,(function(e){return e.key===t.CACHE_HOST}))&&a.push(J(t.CACHE_HOST,(function(e){return(0,i.Z)(e,"adserverTargeting.".concat(t.CACHE_HOST))?e.adserverTargeting[t.CACHE_HOST]:s.hostname})))}}return o}function Y(e,n,t,o){var i=n[O.k2.xn];return t.size=t.getSize(),(i||[]).forEach((function(i){var a=i.key,s=i.val;if(e[a]&&(0,r.yN)("The key: "+a+" is being overwritten"),(0,r.LQ)(s))try{s=s(t,o)}catch(e){(0,r.H)("bidmanager","ERROR",e)}(void 0===n.suppressEmptyKeys||!0!==n.suppressEmptyKeys)&&a!==O.TD.DEAL&&a!==O.TD.ACAT&&a!==O.TD.DSP&&a!==O.TD.CRID||!(0,r.jH)(s)&&null!=s?e[a]=s:(0,r.PN)("suppressing empty key '"+a+"' from adserver targeting")})),e}function Q(e,n){return e[n.adUnitCode]||(e[n.adUnitCode]={bids:[]}),e[n.adUnitCode].bids.push(n),e}},8653:function(e,n,t){t.d(n,{K:function(){return m}});var o=t(3324),r=t(9062),i=t(4358),a=t(5686);function s(e){Object.assign(this,{getAuction:function(n){var t=n.auctionId;if(null!=t)return e().find((function(e){return e.getAuctionId()===t}))},getAdUnit:function(n){var t=n.transactionId;if(null!=t)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===t}))},getMediaTypes:function(e){var n=e.transactionId,t=e.requestId;if(null!=t){var o=this.getBidRequest({requestId:t});if(null!=o&&(null==n||o.transactionId===n))return o.mediaTypes}else if(null!=n){var r=this.getAdUnit({transactionId:n});if(null!=r)return r.mediaTypes}},getBidderRequest:function(n){var t=n.requestId,o=n.bidderRequestId;if(null!=t||null!=o){var r=e().flatMap((function(e){return e.getBidRequests()}));return null!=o&&(r=r.filter((function(e){return e.bidderRequestId===o}))),null==t?r[0]:r.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===t}))}))}},getBidRequest:function(n){var t=n.requestId;if(null!=t)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===t}))}})}var d=t(5644),u=t(9128),c=t(613),l=t(8833),f=t(3193);function g(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var m=function(){var e=null,n=(0,c.Z)({startTime:function(e){return e.end.then((function(){return e.getAuctionEnd()}))},ttl:function(n){return null==e?null:n.end.then((function(){return 1e3*Math.max.apply(Math,[e].concat((0,r.Z)(n.getBidsReceived().map(l.N))))}))}});(0,l.l)((function(){null!=e&&n.refresh()})),f.vc.getConfig("minBidCacheTTL",(function(t){e!==(e="number"==typeof(e=null==t?void 0:t.minBidCacheTTL)?e:null)&&n.refresh()}));var t={};function p(e){var t,o=g(n);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(r.getAuctionId()===e)return r}}catch(e){o.e(e)}finally{o.f()}}function m(){return n.toArray().flatMap((function(e){return e.getBidsReceived()}))}return t.addWinningBid=function(e){var n=(0,u.Bf)(e.metrics);n.checkpoint("bidWon"),n.timeBetween("auctionEnd","bidWon","render.pending"),n.timeBetween("requestBids","bidWon","render.e2e");var t=p(e.auctionId);t?(e.status=d.UE.fe,t.addWinningBid(e)):(0,i.yN)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:function(e){return e.getAuctionStatus()===a.mv}},getAdUnitCodes:{post:i.tT}}).forEach((function(e){var r=(0,o.Z)(e,2),i=r[0],a=r[1],s=a.name,d=void 0===s?i:s,u=a.pre,c=a.post,l=null==u?function(e){return e[d]()}:function(e){return u(e)?e[d]():[]},f=null==c?function(e){return e}:function(e){return e.filter(c)};t[i]=function(){return f(n.toArray().flatMap(l))}})),t.getAllBidsForAdUnitCode=function(e){return m().filter((function(n){return n&&n.adUnitCode===e}))},t.createAuction=function(e){var t=(0,a.vO)(e);return function(e){n.add(e)}(t),t},t.findBidByAdId=function(e){return m().find((function(n){return n.adId===e}))},t.getStandardBidderAdServerTargeting=function(){return(0,a.LX)()[d.k2.xn]},t.setStatusForBids=function(e,n){var o=t.findBidByAdId(e);if(o&&(o.status=n),o&&n===d.UE.CK){var r=p(o.auctionId);r&&r.setBidTargeting(o)}},t.getLastAuctionId=function(){var e=n.toArray();return e.length&&e[e.length-1].getAuctionId()},t.clearAllAuctions=function(){n.clear()},t.index=new s((function(){return n.toArray()})),t}()},8833:function(e,n,t){t.d(n,{N:function(){return s},l:function(){return d}});var o=t(3193),r=t(4358),i=1,a=[];function s(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:i)}function d(e){a.push(e)}o.vc.getConfig("ttlBuffer",(function(e){"number"==typeof e.ttlBuffer?i!==(i=e.ttlBuffer)&&a.forEach((function(e){return e(i)})):(0,r.H)("Invalid value for ttlBuffer",e.ttlBuffer)}))},5975:function(e,n,t){t.d(n,{S:function(){return f}});var o=t(5671),r=t(3144),i=t(265),a=t(4358),s=t(8640),d=t(5644);function u(e,n,t){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return t}var c=new WeakSet;function l(e){return null==e?this.defaultScope:e}var f=new(function(){function e(n,t){(0,o.Z)(this,e),function(e,n){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.add(e)}(this,c),this.getSettings=n,this.defaultScope=t}return(0,r.Z)(e,[{key:"get",value:function(e,n){var t=this.getOwn(e,n);return void 0===t&&(t=this.getOwn(null,n)),t}},{key:"getOwn",value:function(e,n){return e=u(this,c,l).call(this,e),(0,i.Z)(this.getSettings(),"".concat(e,".").concat(n))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter((function(n){return n!==e.defaultScope}))}},{key:"settingsFor",value:function(e){return(0,a.Ee)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=u(this,c,l).call(this,e),this.getSettings()[e]||{}}}]),e}())((function(){return(0,s.R)().bidderSettings||{}}),d.k2.zF)},9626:function(e,n,t){t.d(n,{m:function(){return i}});var o=t(4358);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.src,r=void 0===t?"client":t,i=n.bidder,a=void 0===i?"":i,s=n.bidId,d=n.transactionId,u=n.auctionId,c=r,l=e||0;this.bidderCode=a,this.width=0,this.height=0,this.statusMessage=function(){switch(l){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=(0,o._d)(),this.requestId=s,this.transactionId=d,this.auctionId=u,this.mediaType="banner",this.source=c,this.getStatusCode=function(){return l},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function i(e,n){return new r(e,n)}},3193:function(e,n,t){t.d(n,{FD:function(){return g},vc:function(){return h}});var o=t(4942),r=t(1002),i=t(3324),a=t(6463),s=t(4614),d=t(4358),u=t(265),c=t(5644);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}var f="TRUE"===(0,d.ak)(c.f).toUpperCase(),g="random",p={};p[g]=!0,p.fixed=!0;var m=g,v={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},h=function(){var e,n,t,c=[],g=null;function h(){function o(e){return u[e].val}function r(e,n){u[e].val=n}e={};var u={publisherDomain:{set:function(e){null!=e&&(0,d.yN)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),r("publisherDomain",e)}},priceGranularity:{val:v.MEDIUM,set:function(e){g(e)&&("string"==typeof e?r("priceGranularity",l(e)?e:v.MEDIUM):(0,d.PO)(e)&&(r("customPriceBucket",e),r("priceGranularity",v.CUSTOM),(0,d.ji)("Using custom price granularity")))}},customPriceBucket:{val:{},set:function(){}},mediaTypePriceGranularity:{val:{},set:function(e){null!=e&&r("mediaTypePriceGranularity",Object.keys(e).reduce((function(n,t){return g(e[t])?"string"==typeof e?n[t]=l(e[t])?e[t]:o("priceGranularity"):(0,d.PO)(e)&&(n[t]=e[t],(0,d.ji)("Using custom price granularity for ".concat(t))):(0,d.yN)("Invalid price granularity for media type: ".concat(t)),n}),{}))}},bidderSequence:{val:m,set:function(e){p[e]?r("bidderSequence",e):(0,d.yN)("Invalid order: ".concat(e,". Bidder Sequence was not set."))}},auctionOptions:{val:{},set:function(e){(function(e){if(!(0,d.PO)(e))return(0,d.yN)("Auction Options must be an object"),!1;for(var n=0,t=Object.keys(e);n<t.length;n++){var o=t[n];if("secondaryBidders"!==o&&"suppressStaleRender"!==o)return(0,d.yN)("Auction Options given an incorrect param: ".concat(o)),!1;if("secondaryBidders"===o){if(!(0,d.kJ)(e[o]))return(0,d.yN)("Auction Options ".concat(o," must be of type Array")),!1;if(!e[o].every(d.d8))return(0,d.yN)("Auction Options ".concat(o," must be only string")),!1}else if("suppressStaleRender"===o&&!(0,d.jn)(e[o]))return(0,d.yN)("Auction Options ".concat(o," must be of type boolean")),!1}return!0})(e)&&r("auctionOptions",e)}}},c={debug:f,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10};function l(e){return(0,s.sE)(Object.keys(v),(function(n){return e===v[n]}))}function g(e){if(!e)return(0,d.H)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)l(e)||(0,d.yN)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,d.PO)(e)&&!(0,a.t)(e))return(0,d.H)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(c,Object.fromEntries(Object.entries(u).map((function(e){var n=(0,i.Z)(e,2),t=n[0],a=n[1];return[t,Object.assign({get:o.bind(null,t),set:r.bind(null,t),enumerable:!0},a)]})))),n&&D(Object.keys(n).reduce((function(e,t){return n[t]!==c[t]&&(e[t]=c[t]||{}),e}),{})),n=c,t={}}function b(){if(g&&t&&(0,d.PO)(t[g])){var e=t[g],o=new Set(Object.keys(n).concat(Object.keys(e)));return(0,s.Oc)(o).reduce((function(t,o){return void 0===e[o]?t[o]=n[o]:void 0===n[o]?t[o]=e[o]:(0,d.PO)(e[o])?t[o]=(0,d.Ee)({},n[o],e[o]):t[o]=e[o],t}),{})}return Object.assign({},n)}var y=[b,function(){var e=b();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((function(e){return function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var n=arguments.length<=0?void 0:arguments[0];return n?(0,u.Z)(e(),n):b()}return T.apply(void 0,arguments)}})),O=(0,i.Z)(y,2),_=O[0],E=O[1],I=[E,_].map((function(e){return function(){var n=e.apply(void 0,arguments);return n&&"object"===(0,r.Z)(n)&&(n=(0,d.I8)(n)),n}})),w=(0,i.Z)(I,2),A=w[0],C=w[1];function S(t){if((0,d.PO)(t)){var o=Object.keys(t),r={};o.forEach((function(o){var i=t[o];(0,d.PO)(e[o])&&(0,d.PO)(i)&&(i=Object.assign({},e[o],i));try{r[o]=n[o]=i}catch(e){(0,d.yN)("Cannot set config for property ".concat(o," : "),e)}})),D(r)}else(0,d.H)("setConfig options must be an object")}function T(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n;if("string"!=typeof e&&(r=e,e="*",t=n||{}),"function"==typeof r){var i={topic:e,callback:r};return c.push(i),t.init&&r("*"===e?E():(0,o.Z)({},e,E(e))),function(){c.splice(c.indexOf(i),1)}}(0,d.H)("listener must be a function")}function D(e){var n=Object.keys(e);c.filter((function(e){return(0,s.q9)(n,e.topic)})).forEach((function(n){n.callback((0,o.Z)({},n.topic,e[n.topic]))})),c.filter((function(e){return"*"===e.topic})).forEach((function(n){return n.callback(e)}))}function P(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{(function(e){if(!(0,d.PO)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,d.PO)(e.config))throw"setBidderConfig bidder options must contain a config object"})(e),e.bidders.forEach((function(o){t[o]||(t[o]={}),Object.keys(e.config).forEach((function(r){var i=e.config[r];if((0,d.PO)(i)){var a=n?d.Ee:Object.assign;t[o][r]=a({},t[o][r]||{},i)}else t[o][r]=i}))}))}catch(e){(0,d.H)(e)}}function N(e,n){g=e;try{return n()}finally{M()}}function M(){g=null}return h(),{getCurrentBidder:function(){return g},resetBidder:M,getConfig:E,getAnyConfig:_,readConfig:A,readAnyConfig:C,setConfig:S,mergeConfig:function(e){if((0,d.PO)(e)){var n=(0,d.Ee)(b(),e);return S(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n)),n}(0,d.H)("mergeConfig input must be an object")},setDefaults:function(t){(0,d.PO)(e)?(Object.assign(e,t),Object.assign(n,t)):(0,d.H)("defaults must be an object")},resetConfig:h,runWithBidder:N,callbackWithBidder:function(e){return function(n){return function(){if("function"==typeof n){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return N(e,n.bind.apply(n,[this].concat(o)))}(0,d.yN)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:P,getBidderConfig:function(){return t},mergeBidderConfig:function(e){return P(e,!0)}}}()},4516:function(e,n,t){t.d(n,{$P:function(){return O},NO:function(){return V},TJ:function(){return x},nX:function(){return F},qh:function(){return B},rp:function(){return k}});var o=t(3324),r=t(7326),i=t(9340),a=t(2963),s=t(1120),d=t(5671),u=t(3144),c=t(4942),l=t(8916),f=t(2793),g=t(4358),p=t(8792),m=t(3193);function v(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,s.Z)(e);if(n){var r=(0,s.Z)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,a.Z)(this,t)}}function h(e,n,t){b(e,n),n.set(e,t)}function b(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(e,n,t){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return t}var O=Object.freeze({}),_=new WeakMap,E=new WeakMap,I=new WeakMap,w=new WeakMap,A=new WeakMap,C=new WeakMap,S=new WeakSet,T=function(){function e(){var n;(0,d.Z)(this,e),b(this,n=S),n.add(this),h(this,_,{writable:!0,value:void 0}),h(this,E,{writable:!0,value:void 0}),h(this,I,{writable:!0,value:void 0}),h(this,w,{writable:!0,value:void 0}),h(this,A,{writable:!0,value:!0}),h(this,C,{writable:!0,value:void 0}),(0,c.Z)(this,"generatedTime",void 0),(0,c.Z)(this,"hashFields",void 0),this.reset()}return(0,u.Z)(e,[{key:"reset",value:function(){(0,f.Z)(this,I,(0,p.P)()),(0,f.Z)(this,_,!1),(0,f.Z)(this,E,null),(0,f.Z)(this,w,!1),this.generatedTime=null}},{key:"enable",value:function(){(0,f.Z)(this,_,!0)}},{key:"enabled",get:function(){return(0,l.Z)(this,_)}},{key:"ready",get:function(){return(0,l.Z)(this,w)}},{key:"promise",get:function(){return(0,l.Z)(this,w)?p.Z.resolve((0,l.Z)(this,E)):((0,l.Z)(this,_)||y(this,S,D).call(this,null),(0,l.Z)(this,I).promise)}},{key:"setConsentData",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,g.AB)();this.generatedTime=n,(0,f.Z)(this,A,!0),y(this,S,D).call(this,e)}},{key:"getConsentData",value:function(){return(0,l.Z)(this,E)}},{key:"hash",get:function(){var e=this;return(0,l.Z)(this,A)&&((0,f.Z)(this,C,(0,g._R)(JSON.stringify((0,l.Z)(this,E)&&this.hashFields?this.hashFields.map((function(n){return(0,l.Z)(e,E)[n]})):(0,l.Z)(this,E)))),(0,f.Z)(this,A,!1)),(0,l.Z)(this,C)}}]),e}();function D(e){(0,f.Z)(this,w,!0),(0,f.Z)(this,E,e),(0,l.Z)(this,I).resolve(e)}var P,N,M,U=function(e){(0,i.Z)(t,e);var n=v(t);function t(){return(0,d.Z)(this,t),n.apply(this,arguments)}return(0,u.Z)(t,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}]),t}(T),R=function(e){(0,i.Z)(t,e);var n=v(t);function t(){var e;(0,d.Z)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),(0,c.Z)((0,r.Z)(e),"hashFields",["gdprApplies","consentString"]),e}return(0,u.Z)(t,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,g.d8)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}]),t}(T),L=function(e){(0,i.Z)(t,e);var n=v(t);function t(){var e;(0,d.Z)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),(0,c.Z)((0,r.Z)(e),"hashFields",["applicableSections","gppString"]),e}return(0,u.Z)(t,[{key:"getConsentMeta",value:function(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}]),t}(T),k=new R,F=new U,x=new L,j=function(){function e(){return!!m.vc.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset:function(){},get promise(){return p.Z.resolve(e())},get hash(){return e()?"1":"0"}}}(),B=(P={},N={},M={},{register:function(e,n,t){t&&((P[n]=P[n]||{})[e]=t,N.hasOwnProperty(n)?N[n]!==t&&(N[n]=M):N[n]=t)},get:function(e){var n={modules:P[e]||{}};return N.hasOwnProperty(e)&&N[e]!==M&&(n.gvlid=N[e]),n}}),G={gdpr:k,usp:F,gpp:x,coppa:j},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;function n(n){return function(){return Object.fromEntries(e.map((function(e){var t=(0,o.Z)(e,2);return[t[0],t[1][n]()]})))}}return e=Object.entries(e),Object.assign({get promise(){return p.Z.all(e.map((function(e){var n=(0,o.Z)(e,2),t=n[0];return n[1].promise.then((function(e){return[t,e]}))}))).then((function(e){return Object.fromEntries(e)}))},get hash(){return(0,g._R)(e.map((function(e){var n=(0,o.Z)(e,2);return n[0],n[1].hash})).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((function(e){return[e,n(e)]}))))}()},6463:function(e,n,t){t.d(n,{D:function(){return l},t:function(){return g}});var o=t(4614),r=t(4358),i=t(3193),a={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},d={buckets:[{max:20,increment:.01}]},u={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},c={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=parseFloat(e);return isNaN(o)&&(o=""),{low:""===o?"":f(e,a,t),med:""===o?"":f(e,s,t),high:""===o?"":f(e,d,t),auto:""===o?"":f(e,c,t),dense:""===o?"":f(e,u,t),custom:""===o?"":f(e,n,t)}}function f(e,n,t){var a="";if(!g(n))return a;var s=n.buckets.reduce((function(e,n){return e.max>n.max?e:n}),{max:0}),d=0,u=(0,o.sE)(n.buckets,(function(n){if(e>s.max*t){var o=n.precision;void 0===o&&(o=2),a=(n.max*t).toFixed(o)}else{if(e<=n.max*t&&e>=d*t)return n.min=d,n;d=n.max}}));return u&&(a=function(e,n,t){var o=void 0!==n.precision?n.precision:2,a=n.increment*t,s=n.min*t,d=Math.floor,u=i.vc.getConfig("cpmRoundingFunction");"function"==typeof u&&(d=u);var c,l,f=Math.pow(10,o+2),g=(e*f-s*f)/(a*f);try{c=d(g)*a+s}catch(e){l=!0}return(l||"number"!=typeof c)&&((0,r.yN)("Invalid rounding function passed in config"),c=Math.floor(g)*a+s),(c=Number(c.toFixed(10))).toFixed(o)}(e,u,t)),a}function g(e){if((0,r.xb)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var n=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(n=!1)})),n}},3777:function(e,n,t){t.d(n,{Jc:function(){return c},dF:function(){return m}});var o=t(3193),r=t(2797),i=t(8640),a=t(4358),s=t(9626),d=t(5730),u=t(8792),c="__pbjs_debugging__";function l(){return(0,i.R)().installedModules.includes("debugging")}function f(e){return new u.Z((function(n){(0,d.B)(e,"debugging",n)}))}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.alreadyInstalled,t=void 0===n?l:n,d=e.script,g=void 0===d?f:d,p=null;return function(){return null==p&&(p=new u.Z((function(e,n){setTimeout((function(){if(t())e();else{var d="https://cdn.jsdelivr.net/npm/prebid.js@8.18.0/dist/debugging-standalone.js";(0,a.ji)('Debugging module not installed, loading it from "'.concat(d,'"...')),(0,i.R)()._installDebugging=!0,g(d).then((function(){(0,i.R)()._installDebugging({DEBUG_KEY:c,hook:r.z3,config:o.vc,createBid:s.m,logger:(0,a.qp)("DEBUG:")})})).then(e,n)}}))}))),p}}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.load,t=void 0===n?g():n,o=e.hook,i=void 0===o?(0,r.v5)("requestBids"):o,a=null,s=!1;function d(e){for(var n=this,t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return(a||u.Z.resolve()).then((function(){return e.apply(n,o)}))}function c(){i.getHooks({hook:d}).remove(),s=!1}return{enable:function(){s||(a=t(),i.before(d,99),s=!0)},disable:c,reset:function(){a=null,c()}}}();function m(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var n=p,t=null;try{t=e.getItem(c)}catch(e){}null!==t&&n.enable()}}p.reset,o.vc.getConfig("debugging",(function(e){var n=e.debugging;null!=n&&n.enabled?p.enable():p.disable()}))},2021:function(e,n,t){t.d(n,{S1:function(){return v},j8:function(){return b},on:function(){return m},vw:function(){return h}});var o=t(4358),r=t(5644),i=t(613),a=t(3193),s="eventHistoryTTL",d=null,u=(0,i.Z)({monotonic:!0,ttl:function(){return d}});a.vc.getConfig(s,(function(e){var n,t=d;e=null===(n=e)||void 0===n?void 0:n[s],t!==(d="number"==typeof e?1e3*e:null)&&u.refresh()}));var c=Array.prototype.slice,l=Array.prototype.push,f=Object.values(r.FP),g=r.aI,p=function(){var e={},n={};function t(n,t){o.ji("Emitting event for: "+n);var r=t[0]||{},i=r[g[n]],a=e[n]||{que:[]},s=Object.keys(a),d=[];u.add({eventType:n,args:r,id:i,elapsedTime:o.bd()}),i&&s.includes(i)&&l.apply(d,a[i].que),l.apply(d,a.que),(d||[]).forEach((function(e){if(e)try{e.apply(null,t)}catch(e){o.H("Error executing handler:","events.js",e)}}))}return n.on=function(n,t,r){if(function(e){return f.includes(e)}(n)){var i=e[n]||{que:[]};r?(i[r]=i[r]||{que:[]},i[r].que.push(t)):i.que.push(t),e[n]=i}else o.H("Wrong event name : "+n+" Valid event names :"+f)},n.emit=function(e){t(e,c.call(arguments,1))},n.off=function(n,t,r){var i=e[n];o.xb(i)||o.xb(i.que)&&o.xb(i[r])||r&&(o.xb(i[r])||o.xb(i[r].que))||(r?(i[r].que||[]).forEach((function(e){var n=i[r].que;e===t&&n.splice(n.indexOf(e),1)})):(i.que||[]).forEach((function(e){var n=i.que;e===t&&n.splice(n.indexOf(e),1)})),e[n]=i)},n.get=function(){return e},n.addEvents=function(e){f=f.concat(e)},n.getEvents=function(){return u.toArray().map((function(e){return Object.assign({},e)}))},n}();o.u2(p.emit.bind(p));var m=p.on,v=p.off,h=(p.get,p.getEvents),b=p.emit;p.addEvents},4078:function(e,n,t){t.d(n,{S:function(){return O}});var o=t(3324),r=t(2797),i=t(5102),a=t(8196),s=t(4358),d=t(6475),u=t(3193),c=t(8792),l=["architecture","bitness","model","platformVersion","fullVersionList"],f=["brands","mobile","platform"],g=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,t=n&&f.some((function(e){return void 0!==n[e]}))?Object.freeze(m(1,n)):null;return function(){return t}}(),p=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,t={},o=new WeakMap;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;if(!o.has(e)){var r=Array.from(e);r.sort(),o.set(e,r.join("|"))}var i=o.get(e);if(!t.hasOwnProperty(i))try{t[i]=n.getHighEntropyValues(e).then((function(e){return(0,s.xb)(e)?null:Object.freeze(m(2,e))})).catch((function(){return null}))}catch(e){t[i]=c.Z.resolve(null)}return t[i]}}();function m(e,n){function t(e,n){var t={brand:e};return(0,s.d8)(n)&&!(0,s.jH)(n)&&(t.version=n.split(".")),t}var o={source:e};return n.platform&&(o.platform=t(n.platform,n.platformVersion)),(n.fullVersionList||n.brands)&&(o.browsers=(n.fullVersionList||n.brands).map((function(e){return t(e.brand,e.version)}))),void 0!==n.mobile&&(o.mobile=n.mobile?1:0),["model","bitness","architecture"].forEach((function(e){var t=n[e];(0,s.d8)(t)&&(o[e]=t)})),o}var v=t(3790);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var b={getRefererInfo:i.nH,findRootDomain:a.W,getWindowTop:s.Zy,getWindowSelf:s.e7,getHighEntropySUA:p,getLowEntropySUA:g},y=(0,v.A_)("FPD"),O=(0,r.z3)("sync",(function(e){return c.Z.all([e,(n=u.vc.getConfig("firstPartyData.uaHints"),Array.isArray(n)&&0!==n.length?b.getHighEntropySUA(n):c.Z.resolve(b.getLowEntropySUA())).catch((function(){return null}))]).then((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1],i=b.getRefererInfo();!function(e){["app","site","device"].forEach((function(n){var t=u.vc.getConfig(n);null!=t&&(e[n]=(0,s.Ee)({},t,e[n]))}))}(t),Object.entries(I).forEach((function(e){var n=(0,o.Z)(e,2),r=n[0],a=(0,n[1])(t,i);a&&Object.keys(a).length>0&&(t[r]=(0,s.Ee)({},a,t[r]))})),r&&(0,d.N)(t,"device.sua",Object.assign({},r,t.device.sua)),t=y(t);var a,c=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}(v.Iq);try{for(c.s();!(a=c.n()).done;){var l=a.value;if((0,v.Qg)(t,l)){t[l]=(0,s.Ee)({},w(t,i),t[l]);break}}}catch(e){c.e(e)}finally{c.f()}return t}));var n}));function _(e){try{return e(b.getWindowTop())}catch(n){return e(b.getWindowSelf())}}function E(e){return(0,s.iG)(e,Object.keys(e))}var I={site:function(e,n){if(!v.Iq.filter((function(e){return"site"!==e})).some(v.Qg.bind(null,e)))return E({page:n.page,ref:n.ref})},device:function(){return _((function(e){return{w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,s.oV)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}}))},regs:function(){var e={};_((function(e){return e.navigator.globalPrivacyControl}))&&(0,d.N)(e,"ext.gpc",1);var n=u.vc.getConfig("coppa");return"boolean"==typeof n&&(e.coppa=n?1:0),e}};function w(e,n){var t,o,r,a=(0,i.hh)(n.page,{noLeadingWww:!0});return E({domain:a,keywords:null===(t=_((function(e){return e.document.querySelector("meta[name='keywords']")})))||void 0===t||null===(o=t.content)||void 0===o||null===(r=o.replace)||void 0===r?void 0:r.call(o,/\s/g,""),publisher:E({domain:b.findRootDomain(a)})})}},3790:function(e,n,t){t.d(n,{A_:function(){return i},Iq:function(){return r},Qg:function(){return a}});var o=t(4358),r=["dooh","app","site"];function i(e){return function(n){return r.reduce((function(t,r){return a(n,r)&&(null!=t?((0,o.yN)("".concat(e," specifies both '").concat(t,"' and '").concat(r,"'; dropping the latter.")),delete n[r]):t=r),t}),null),n}}function a(e,n){return null!=e[n]&&Object.keys(e[n]).length>0}},8196:function(e,n,t){t.d(n,{W:function(){return i}});var o=t(4358),r=(0,t(5164).eA)("fpdEnrichment"),i=(0,o.HP)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!r.cookiesAreEnabled())return e;var n,t,i=e.split(".");if(2===i.length)return e;var a=-2,s="_rdc".concat(Date.now()),d="writeable";do{n=i.slice(a).join(".");var u=new Date((0,o.AB)()+1e4).toUTCString();r.setCookie(s,d,u,"Lax",n,void 0),r.getCookie(s,void 0)===d?(t=!1,r.setCookie(s,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,n,void 0)):(a+=-1,t=Math.abs(a)<=i.length)}while(t);return n}))},2797:function(e,n,t){t.d(n,{Bx:function(){return p},Cd:function(){return u},IF:function(){return m},bA:function(){return g},o0:function(){return l},v5:function(){return c},z3:function(){return s}});var o=t(9062),r=t(1432),i=t.n(r),a=t(8792),s=i()({ready:i().SYNC|i().ASYNC|i().QUEUE}),d=(0,a.P)();s.ready=function(){var e=s.ready;return function(){try{return e.apply(s,arguments)}finally{d.resolve()}}}();var u=d.promise,c=s.get;function l(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:n}).length&&e.before(n,t)}var f={};function g(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).postInstallAllowed,r=void 0!==t&&t;s("async",(function(t){t.forEach((function(e){return n.apply(void 0,(0,o.Z)(e))})),r&&(f[e]=n)}),e)([])}function p(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];var r=f[e];if(r)return r.apply(void 0,t);c(e).before((function(e,n){n.push(t),e(n)}))}function m(e,n){return Object.defineProperties(n,Object.fromEntries(["before","after","getHooks","removeAll"].map((function(n){return[n,{get:function(){return e[n]}}]})))),n}},4679:function(e,n,t){t.d(n,{B5:function(){return o},Mk:function(){return i},Oh:function(){return a},pX:function(){return r}});var o="native",r="video",i="banner",a="adpod"},59:function(e,n,t){t.d(n,{Fb:function(){return D},JL:function(){return x},Sg:function(){return v},Ur:function(){return R},e6:function(){return U},eK:function(){return F},lY:function(){return V},r4:function(){return N},xc:function(){return h},zq:function(){return H}});var o=t(9062),r=t(3324),i=t(4942),a=t(265),s=t(4358),d=t(4614),u=t(8653),c=t(5644),l=t(4679);function f(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v=[],h=Object.keys(c.FY).map((function(e){return c.FY[e]})),b={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},y=c.s$,O=c.oF,_=c.V1,E=c.zA,I=c.FY,w=q(_),A=q(y),C={img:1,js:2,1:"img",2:"js"},S=1;function T(e){if(e&&e.type&&function(e){return!(!e||!(0,d.q9)(Object.keys(b),e))||((0,s.H)("".concat(e," nativeParam is not supported")),!1)}(e.type)&&(e=b[e.type]),!e||!e.ortb||P(e.ortb))return e}function D(e){e.forEach((function(e){var n=e.nativeParams||(0,a.Z)(e,"mediaTypes.native");n&&(e.nativeParams=T(n)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(e||(0,s.PO)(e)){var n={ver:"1.2",assets:[]};for(var t in e)if(!E.includes(t))if(I.hasOwnProperty(t))if("privacyLink"!==t){var o=e[t],r=0;o.required&&(0,s.jn)(o.required)&&(r=Number(o.required));var i={id:n.assets.length,required:r};if(t in _)i.data={type:y[_[t]]},o.len&&(i.data.len=o.len);else if("icon"===t||"image"===t){if(i.img={type:"icon"===t?O.ICON:O.MAIN},o.aspect_ratios)if((0,s.kJ)(o.aspect_ratios))if(o.aspect_ratios.length){var a=o.aspect_ratios[0],d=a.min_width,u=a.min_height;(0,s.U)(d)&&(0,s.U)(u)?(i.img.wmin=d,i.img.hmin=u):(0,s.H)("image.aspect_ratios min_width or min_height are invalid: ",d,u);var c=o.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));c.length>0&&(i.img.ext={aspectratios:c})}else(0,s.H)("image.aspect_ratios was passed, but it's empty:",o.aspect_ratios);else(0,s.H)("image.aspect_ratios was passed, but it's not a an array:",o.aspect_ratios);o.sizes&&(2===o.sizes.length&&(0,s.U)(o.sizes[0])&&(0,s.U)(o.sizes[1])?(i.img.w=o.sizes[0],i.img.h=o.sizes[1],delete i.img.hmin,delete i.img.wmin):(0,s.H)("image.sizes was passed, but its value is not an array of integers:",o.sizes))}else"title"===t?i.title={len:o.len||140}:"ext"===t&&(i.ext=o,delete i.required);n.assets.push(i)}else n.privacy=1;else(0,s.H)("Unrecognized native asset code: ".concat(t,". Asset will be ignored."));return n}(0,s.H)("Native assets object is empty or not an object: ",e)}(e.nativeParams))}))}function P(e){var n=e.assets;if(!Array.isArray(n)||0===n.length)return(0,s.H)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",n),!1;var t=n.map((function(e){return e.id}));return n.length!==new Set(t).size||t.some((function(e){return e!==parseInt(e,10)}))?((0,s.H)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,s.H)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):n.every((function(e){return function(e){if(!(0,s.PO)(e))return(0,s.H)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,s.hj)(e.img.w)&&!(0,s.hj)(e.img.wmin))return(0,s.H)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,s.hj)(e.img.h)&&!(0,s.hj)(e.img.hmin))return(0,s.H)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,s.hj)(e.title.len))return(0,s.H)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,s.hj)(e.data.type))return(0,s.H)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,s.hj)(e.video.minduration)&&(0,s.hj)(e.video.maxduration)))return(0,s.H)("video asset is not properly configured"),!1;return!0}(e)}))}function N(e){var n,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,o=(void 0===t?u.K.index:t).getAdUnit(e);if(!o)return!1;var r=o.nativeOrtbRequest;return M((null===(n=e.native)||void 0===n?void 0:n.ortb)||W(e.native,r),r)}function M(e,n){if(!(0,a.Z)(e,"link.url"))return(0,s.H)("native response doesn't have 'link' property. Ortb response: ",e),!1;var t=n.assets.filter((function(e){return 1===e.required})).map((function(e){return e.id})),o=e.assets.map((function(e){return e.id})),r=t.every((function(e){return(0,d.q9)(o,e)}));return r||(0,s.H)("didn't receive a bid with all required assets. Required ids: ".concat(t,", but received ids in response: ").concat(o)),r}function U(e,n){var t=n.native.ortb||Z(n.native);return"click"===e.action?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fetchURL,o=void 0===t?s.hq:t;if(n){var r,i=(e.assets||[]).filter((function(e){return e.link})).reduce((function(e,n){return e[n.id]=n.link,e}),{}),a=(null===(r=e.link)||void 0===r?void 0:r.clicktrackers)||[],d=i[n],u=a;d&&(u=d.clicktrackers||[]),u.forEach((function(e){return o(e)}))}else{var c;((null===(c=e.link)||void 0===c?void 0:c.clicktrackers)||[]).forEach((function(e){return o(e)}))}}(t,null==e?void 0:e.assetId):function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.runMarkup,o=void 0===t?function(e){return(0,s.$8)(e)}:t,r=n.fetchURL,i=void 0===r?s.hq:r,a=(e.eventtrackers||[]).filter((function(e){return e.event===S})).reduce((function(e,n){return C.hasOwnProperty(n.method)&&e[C[n.method]].push(n.url),e}),{img:[],js:[]}),d=a.img,u=a.js;e.imptrackers&&(d=d.concat(e.imptrackers)),d.forEach((function(e){return i(e)})),u=u.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),e.jstracker&&(u=u.concat([e.jstracker])),u.length&&o(u.join("\n"))}(t),e.action}function R(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,t=void 0===n?u.K.index:n,o={},r=t.getAdUnit(e);(0,a.Z)(r,"nativeParams.rendererUrl")?e.native.rendererUrl=j(r.nativeParams.rendererUrl):(0,a.Z)(r,"nativeParams.adTemplate")&&(e.native.adTemplate=j(r.nativeParams.adTemplate));var i=!1!==(0,a.Z)(r,"nativeParams.sendTargetingKeys"),s=B(r),d=m(m({},e.native),e.native.ext);return delete d.ext,Object.keys(d).forEach((function(n){var t=s[n],d=j(e.native[n])||j((0,a.Z)(e,"native.ext.".concat(n)));if("adTemplate"!==n&&t&&d){var u=(0,a.Z)(r,"nativeParams.".concat(n,".sendId"));"boolean"!=typeof u&&(u=(0,a.Z)(r,"nativeParams.ext.".concat(n,".sendId"))),u&&(d="".concat(t,":").concat(e.adId));var c=(0,a.Z)(r,"nativeParams.".concat(n,".sendTargetingKeys"));"boolean"!=typeof c&&(c=(0,a.Z)(r,"nativeParams.ext.".concat(n,".sendTargetingKeys"))),("boolean"==typeof c?c:i)&&(o[t]=d)}})),o}function L(e,n,t){var o,r,i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).index,a=void 0===i?u.K.index:i,s={message:"assetResponse",adId:e.adId},d=a.getAdUnit(n),l=n.native;return n.native.ortb?s.ortb=n.native.ortb:null!==(o=d.mediaTypes)&&void 0!==o&&null!==(r=o.native)&&void 0!==r&&r.ortb&&(s.ortb=W(n.native,d.nativeOrtbRequest)),s.assets=[],(null==t?Object.keys(l):t).forEach((function(e){if("adTemplate"===e&&l[e])s.adTemplate=j(l[e]);else if("rendererUrl"===e&&l[e])s.rendererUrl=j(l[e]);else if("ext"===e)Object.keys(l[e]).forEach((function(n){if(l[e][n]){var t=j(l[e][n]);s.assets.push({key:n,value:t})}}));else if(l[e]&&c.FY.hasOwnProperty(e)){var n=j(l[e]);s.assets.push({key:e,value:n})}})),s}var k=Object.fromEntries(Object.entries(c.FY).map((function(e){var n=(0,r.Z)(e,2),t=n[0];return[n[1],t]})));function F(e,n){var t=e.assets.map((function(e){return k[e]}));return L(e,n,t)}function x(e,n){return L(e,n,null)}function j(e){return(null==e?void 0:e.url)||e}function B(e){var n={};return(0,a.Z)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){n[e]="hb_native_".concat(e)})),m(m({},c.FY),n)}function G(e){if(P(e)){var n,t={},o=f(e.assets);try{var r=function(){var o=n.value;if(o.title){var r={required:!!o.required&&Boolean(o.required),len:o.title.len};t.title=r}else if(o.img){var i={required:!!o.required&&Boolean(o.required)};if(o.img.w&&o.img.h)i.sizes=[o.img.w,o.img.h];else if(o.img.wmin&&o.img.hmin){var a=function(e,n){for(;e&&n&&e!==n;)e>n?e-=n:n-=e;return e||n}(o.img.wmin,o.img.hmin);i.aspect_ratios=[{min_width:o.img.wmin,min_height:o.img.hmin,ratio_width:o.img.wmin/a,ratio_height:o.img.hmin/a}]}o.img.type===O.MAIN?t.image=i:t.icon=i}else if(o.data){var s=Object.keys(y).find((function(e){return y[e]===o.data.type})),d=Object.keys(_).find((function(e){return _[e]===s}));t[d]={required:!!o.required&&Boolean(o.required)},o.data.len&&(t[d].len=o.data.len)}e.privacy&&(t.privacyLink={required:!1})};for(o.s();!(n=o.n()).done;)r()}catch(e){o.e(e)}finally{o.f()}return t}}function V(e){if(!e||!(0,s.kJ)(e))return e;if(!e.some((function(e){var n;return null===(n=((null==e?void 0:e.mediaTypes)||{})[l.B5])||void 0===n?void 0:n.ortb})))return e;var n,t=(0,s.I8)(e),o=f(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.mediaTypes&&r.mediaTypes[l.B5]&&r.mediaTypes[l.B5].ortb&&(r.mediaTypes[l.B5]=Object.assign((0,s.ei)(r.mediaTypes[l.B5],E),G(r.mediaTypes[l.B5].ortb)),r.nativeParams=T(r.mediaTypes[l.B5]))}}catch(e){o.e(e)}finally{o.f()}return t}function Z(e){var n={link:{},eventtrackers:[]};return Object.entries(e).forEach((function(e){var t=(0,r.Z)(e,2),o=t[0],i=t[1];switch(o){case"clickUrl":n.link.url=i;break;case"clickTrackers":n.link.clicktrackers=Array.isArray(i)?i:[i];break;case"impressionTrackers":(Array.isArray(i)?i:[i]).forEach((function(e){n.eventtrackers.push({event:S,method:C.img,url:e})}));break;case"javascriptTrackers":n.jstracker=Array.isArray(i)?i.join(""):i;break;case"privacyLink":n.privacy=i}})),n}function W(e,n){var t=m(m({},Z(e)),{},{assets:[]});function o(e,o){var r=n.assets.find(e);null!=r&&(o(r=(0,s.I8)(r)),t.assets.push(r))}return Object.keys(e).filter((function(n){return!!e[n]})).forEach((function(n){var t=j(e[n]);switch(n){case"title":o((function(e){return null!=e.title}),(function(e){e.title={text:t}}));break;case"image":case"icon":var r="image"===n?O.MAIN:O.ICON;o((function(e){return null!=e.img&&e.img.type===r}),(function(e){e.img={url:t}}));break;default:n in _&&o((function(e){return null!=e.data&&e.data.type===y[_[n]]}),(function(e){e.data={value:t}}))}})),t}function H(e,n){var t={},r=(null==n?void 0:n.assets)||[];t.clickUrl=e.link.url,t.privacyLink=e.privacy;var i,a=f((null==e?void 0:e.assets)||[]);try{var s=function(){var e=i.value,n=r.find((function(n){return e.id===n.id}));e.title?t.title=e.title.text:e.img?t[n.img.type===O.MAIN?"image":"icon"]={url:e.img.url,width:e.img.w,height:e.img.h}:e.data&&(t[w[A[n.data.type]]]=e.data.value)};for(a.s();!(i=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}t.impressionTrackers=[];var d,u=[];e.imptrackers&&(d=t.impressionTrackers).push.apply(d,(0,o.Z)(e.imptrackers));var c,l=f((null==e?void 0:e.eventtrackers)||[]);try{for(l.s();!(c=l.n()).done;){var g=c.value;g.event===S&&g.method===C.img&&t.impressionTrackers.push(g.url),g.event===S&&g.method===C.js&&u.push(g.url)}}catch(e){l.e(e)}finally{l.f()}return u=u.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),null!=e&&e.jstracker&&u.push(e.jstracker),u.length&&(t.javascriptTrackers=u.join("\n")),t}function q(e){var n={};for(var t in e)n[e[t]]=t;return n}},4614:function(e,n,t){function o(e,n,t){return e&&e.includes(n,t)||!1}function r(){return Array.from.apply(Array,arguments)}function i(e,n,t){return e&&e.find(n,t)}t.d(n,{Oc:function(){return r},q9:function(){return o},sE:function(){return i}})},7055:function(e,n,t){t.d(n,{O5:function(){return we}});var o=t(3324),r=t(4942),i=t(8640),a=t(4358),s=t(265),d=t(6475),u=t(2021),c=t(59),l=t(5644),f=t(8653),g=t(4614),p=t(5706),m=t(3193),v=l.FP,h=v.AD_RENDER_FAILED,b=v.AD_RENDER_SUCCEEDED;function y(e){var n=e.reason,t=e.message,o=e.bid,r=e.id,i={reason:n,message:t};o&&(i.bid=o),r&&(i.adId=r),(0,a.H)(t),u.j8(h,i)}function O(e){var n=e.doc,t=e.bid,o=e.id,r={doc:n};t&&(r.bid=t),o&&(r.adId=o),u.j8(b,r)}var _=l.FP.BID_WON,E=l.FP.STALE_RENDER,I=new WeakSet,w={"Prebid Request":function(e,n,t){if(null!=t){if(t.status!==l.UE.fe||((0,a.yN)("Ad id ".concat(t.adId," has been rendered before")),u.j8(E,t),!(0,s.Z)(m.vc.getConfig("auctionOptions"),"suppressStaleRender"))){try{!function(e,n){var t=e.adId,o=e.ad,r=e.adUrl,i=e.width,s=e.height,d=e.renderer,u=e.cpm,c=e.originalCpm;(0,p.Pd)(d)?(0,p._U)(d,e):t&&(C(e),n({message:"Prebid Response",ad:(0,a.ew)(o,c||u),adUrl:(0,a.ew)(r,c||u),adId:t,width:i,height:s}))}(t,e)}catch(e){return void y({reason:l.q_.EXCEPTION,message:e.message,id:n.adId,bid:t})}f.K.addWinningBid(t),u.j8(_,t)}}else y({reason:l.q_.CANNOT_FIND_AD,message:"Cannot find ad for cross-origin render request: '".concat(n.adId,"'"),id:n.adId})},"Prebid Event":function(e,n,t){if(null!=t)if(t.status===l.UE.fe)switch(n.event){case l.FP.AD_RENDER_FAILED:y({bid:t,id:n.adId,reason:n.info.reason,message:n.info.message});break;case l.FP.AD_RENDER_SUCCEEDED:O({doc:null,bid:t,id:n.adId});break;default:(0,a.H)("Received x-origin event request for unsupported event: '".concat(n.event,"' (adId: '").concat(n.adId,"')"))}else(0,a.yN)("Received x-origin event request without corresponding render request for ad '".concat(n.adId,"'"));else(0,a.H)("Cannot find ad '".concat(n.adId,"' for x-origin event request"))}};function A(e){var n=e.message?"message":"data",t={};try{t=JSON.parse(e[n])}catch(e){return}if(t&&t.adId&&t.message){var o=(0,g.sE)(f.K.getBidsReceived(),(function(e){return e.adId===t.adId}));w.hasOwnProperty(t.message)&&w[t.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,a.H)(e),new Error(e)}:e.ports.length>0?function(n){e.ports[0].postMessage(JSON.stringify(n))}:function(n){e.source.postMessage(JSON.stringify(n),e.origin)}}(e),t,o)}}function C(e){var n=e.adId,t=e.adUnitCode,o=e.width,r=e.height;["div","iframe"].forEach((function(e){var i=function(e){var o=function(e,n){return(0,a.T9)()?function(e){var n=(0,g.sE)(window.googletag.pubads().getSlots(),(function(n){return(0,g.sE)(n.getTargetingKeys(),(function(t){return(0,g.q9)(n.getTargeting(t),e)}))}));return n?n.getSlotElementId():null}(e):(0,a.X4)()?function(e){var n=window.apntag.getTag(e);return n&&n.targetId}(n):n}(n,t),r=document.getElementById(o);return r&&r.querySelector(e)}(e+':not([style*="display: none"])');if(i){var s=i.style;s.width=o?o+"px":"100%",s.height=r+"px"}else(0,a.yN)("Unable to locate matching page element for adUnitCode ".concat(t,".  Can't resize it to ad's dimensions.  Please review setup."))}))}Object.assign(w,{"Prebid Native":function(e,n,t){if(null!=t)switch(I.has(t)||(I.add(t),f.K.addWinningBid(t),u.j8(_,t)),n.action){case"assetRequest":e((0,c.eK)(n,t));break;case"allAssetRequest":e((0,c.JL)(n,t));break;case"resizeNativeHeight":t.height=n.height,t.width=n.width,C(t);break;default:(0,c.e6)(n,t)}else(0,a.H)("Cannot find ad for x-origin event request: '".concat(n.adId,"'"))}});var S=t(1974),T=t(9062),D=t(4679),P=t(2797),N=t(5975),M=t(1136),U=t(8833),R=[],L="targetingControls.allowTargetingKeys",k="targetingControls.addTargetingKeys",F='Only one of "'.concat(L,'" or "').concat(k,'" can be set'),x=Object.keys(l.TD).map((function(e){return l.TD[e]})),j={isActualBid:function(e){return e.getStatusCode()===l.Q_.Q},isBidNotExpired:function(e){return e.responseTimestamp+1e3*(0,U.N)(e)>(0,a.AB)()},isUnusedBid:function(e){return e&&(e.status&&!(0,g.q9)([l.UE.fe],e.status)||!e.status)}};function B(e){return!Object.values(j).some((function(n){return!n(e)}))}var G=(0,P.z3)("sync",(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){var o=[],r=m.vc.getConfig("sendBidsControl.dealPrioritization"),i=(0,a.vM)(e,"adUnitCode");return Object.keys(i).forEach((function(e){var s=[],d=(0,a.vM)(i[e],"bidderCode");Object.keys(d).forEach((function(e){return s.push(d[e].reduce(n))})),t>0?(s=r?s.sort(V(!0)):s.sort((function(e,n){return n.cpm-e.cpm})),o.push.apply(o,(0,T.Z)(s.slice(0,t)))):o.push.apply(o,(0,T.Z)(s))})),o}return e}));function V(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,t){return void 0!==n.adserverTargeting.hb_deal&&void 0===t.adserverTargeting.hb_deal?-1:void 0===n.adserverTargeting.hb_deal&&void 0!==t.adserverTargeting.hb_deal?1:e?t.cpm-n.cpm:t.adserverTargeting.hb_pb-n.adserverTargeting.hb_pb}}var Z=function(e){var n={},t={};function o(e,n){return e.adserverTargeting&&n&&((0,a.kJ)(n)&&(0,g.q9)(n,e.adUnitCode)||"string"==typeof n&&e.adUnitCode===n)}function i(e,n){if(!0===m.vc.getConfig("targetingControls.alwaysIncludeDeals")){var t=x.concat(c.xc);return G(n,M.ZH).map((function(n){if(n.dealId&&o(n,e))return(0,r.Z)({},n.adUnitCode,I(n,t.filter((function(e){return void 0!==n.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function d(e,n){var t=Object.assign({},l.TD,l.FY),o=Object.keys(t),r={};(0,a.PN)("allowTargetingKeys - allowed keys [ ".concat(n.map((function(e){return t[e]})).join(", ")," ]")),e.map((function(e){var i=Object.keys(e)[0],a=e[i].filter((function(e){var i=Object.keys(e)[0],a=0===o.filter((function(e){return 0===i.indexOf(t[e])})).length||(0,g.sE)(n,(function(e){var n=t[e];return 0===i.indexOf(n)}));return r[i]=!a,a}));e[i]=a}));var i=Object.keys(r).filter((function(e){return r[e]}));return(0,a.PN)("allowTargetingKeys - removed keys [ ".concat(i.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function u(e){var n=e.map((function(e){return(0,r.Z)({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return(0,r.Z)({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,n){return Object.assign(n,e)}),{}))})).reduce((function(e,n){var t=Object.keys(n)[0];return e[t]=Object.assign({},e[t],n[t]),e}),{});return n}function f(n){return"string"==typeof n?[n]:(0,a.kJ)(n)?n:e.getAdUnitCodes()||[]}function p(){var n=e.getBidsReceived();if(m.vc.getConfig("useBidCache")){var o=m.vc.getConfig("bidCacheFilterFunction");"function"==typeof o&&(n=n.filter((function(e){return t[e.adUnitCode]===e.auctionId||!!o(e)})))}else n=n.filter((function(e){return t[e.adUnitCode]===e.auctionId}));return n=n.filter((function(e){return(0,s.Z)(e,"video.context")!==D.Oh})).filter(B),G(n,M.K$)}function v(e,t){var o=n.getWinningBids(e,t),i=h();return o=o.map((function(e){return(0,r.Z)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(n){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(n)})).reduce((function(n,t){var o=[e.adserverTargeting[t]],i=(0,r.Z)({},t.substring(0,20),o);if(t===l.TD.DEAL){var a="".concat(t,"_").concat(e.bidderCode).substring(0,20),s=(0,r.Z)({},a,o);return[].concat((0,T.Z)(n),[i,s])}return[].concat((0,T.Z)(n),[i])}),[]))})),o}function h(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(x).filter(a.tT)}function b(e,n,t,o){return Object.keys(n.adserverTargeting).filter(y()).forEach((function(t){e.length&&e.filter(function(e){return function(t){return t.adUnitCode===n.adUnitCode&&t.adserverTargeting[e]}}(t)).forEach(function(e){return function(t){(0,a.kJ)(t.adserverTargeting[e])||(t.adserverTargeting[e]=[t.adserverTargeting[e]]),t.adserverTargeting[e]=t.adserverTargeting[e].concat(n.adserverTargeting[e]).filter(a.tT),delete n.adserverTargeting[e]}}(t))})),e.push(n),e}function y(){var e=h();return e=e.concat(c.xc),function(n){return-1===e.indexOf(n)}}function O(e){return(0,r.Z)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(y()).map((function(n){return(0,r.Z)({},n.substring(0,20),[e.adserverTargeting[n]])})))}function _(e,n){return n.filter((function(n){return(0,g.q9)(e,n.adUnitCode)})).map((function(e){return Object.assign({},e)})).reduce(b,[]).map(O).filter((function(e){return e}))}function E(e,n){var t=x.concat(c.xc),i=m.vc.getConfig("sendBidsControl.bidLimit"),a=G(n,M.ZH,i),s=m.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),d=s?s.map((function(e){return l.TD[e]})):t;return a.map((function(n){if(o(n,e))return(0,r.Z)({},n.adUnitCode,I(n,t.filter((function(e){return void 0!==n.adserverTargeting[e]&&-1!==d.indexOf(e)}))))})).filter((function(e){return e}))}function I(e,n){return n.map((function(n){return(0,r.Z)({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[n]])}))}function w(n){function t(e){return(0,s.Z)(e,l.k2.xn)}return e.getAdUnits().filter((function(e){return(0,g.q9)(n,e.code)&&t(e)})).map((function(e){return(0,r.Z)({},e.code,function(e){var n=t(e);return Object.keys(n).map((function(e){return(0,a.d8)(n[e])&&(n[e]=n[e].split(",").map((function(e){return e.trim()}))),(0,a.kJ)(n[e])||(n[e]=[n[e]]),(0,r.Z)({},e,n[e])}))}(e))}))}return n.setLatestAuctionForAdUnit=function(e,n){t[e]=n},n.resetPresetTargeting=function(n,t){if((0,a.T9)()){var o=f(n),r=e.getAdUnits().filter((function(e){return(0,g.q9)(o,e.code)})),i=R.reduce((function(e,n){return e[n]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var n=(0,a.LQ)(t)&&t(e);r.forEach((function(t){(t.code===e.getAdUnitPath()||t.code===e.getSlotElementId()||(0,a.LQ)(n)&&n(t.code))&&e.updateTargetingFromMap(i)}))}))}},n.resetPresetTargetingAST=function(e){f(e).forEach((function(e){var n=window.apntag.getTag(e);if(n&&n.keywords){var t=Object.keys(n.keywords),o={};t.forEach((function(e){(0,g.q9)(R,e.toLowerCase())||(o[e]=n.keywords[e])})),window.apntag.modifyTag(e,{keywords:o})}}))},n.getAllTargeting=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),t=f(e),o=v(t,n).concat(_(t,n)).concat(m.vc.getConfig("enableSendAllBids")?E(t,n):i(t,n)).concat(w(t));o.map((function(e){Object.keys(e).map((function(n){e[n].map((function(e){-1===R.indexOf(Object.keys(e)[0])&&(R=Object.keys(e).concat(R))}))}))}));var r=Object.keys(Object.assign({},l.kF,l.FY)),s=m.vc.getConfig(L),c=m.vc.getConfig(k);if(null!=c&&null!=s)throw new Error(F);s=null!=c?r.concat(c):s||r,Array.isArray(s)&&s.length>0&&(o=d(o,s)),o=u(o);var g=m.vc.getConfig("targetingControls.auctionKeyMaxChars");return g&&((0,a.PN)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(g," characters.  Running checks on auction keys...")),o=function(e,n){var t=(0,a.I8)(e);return Object.keys(t).map((function(e){return{adUnitCode:e,adserverTargeting:t[e]}})).sort(V()).reduce((function(e,o,r,i){var s,d=(s=o.adserverTargeting,Object.keys(s).reduce((function(e,n){return e+"".concat(n,"%3d").concat(encodeURIComponent(s[n]),"%26")}),""));r+1===i.length&&(d=d.slice(0,-3));var u=o.adUnitCode,c=d.length;return c<=n?(n-=c,(0,a.PN)("AdUnit '".concat(u,"' auction keys comprised of ").concat(c," characters.  Deducted from running threshold; new limit is ").concat(n),t[u]),e[u]=t[u]):(0,a.yN)("The following keys for adUnitCode '".concat(u,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(c,", the current allotted amount was ").concat(n,".\n"),t[u]),r+1===i.length&&0===Object.keys(e).length&&(0,a.H)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(o,g)),t.forEach((function(e){o[e]||(o[e]={})})),o},m.vc.getConfig("targetingControls",(function(e){null!=(0,s.Z)(e,L)&&null!=(0,s.Z)(e,k)&&(0,a.H)(F)})),n.setTargetingForGPT=function(e,n){window.googletag.pubads().getSlots().forEach((function(t){Object.keys(e).filter(n?n(t):(0,a.zV)(t)).forEach((function(n){Object.keys(e[n]).forEach((function(t){var o=e[n][t];"string"==typeof o&&-1!==o.indexOf(",")&&(o=o.split(",")),e[n][t]=o})),(0,a.ji)("Attempting to set targeting-map for slot: ".concat(t.getSlotElementId()," with targeting-map:"),e[n]),t.updateTargetingFromMap(e[n])}))}))},n.getWinningBids=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),t=f(e);return n.filter((function(e){return(0,g.q9)(t,e.adUnitCode)})).filter((function(e){return!0===N.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(a.tT).map((function(e){return n.filter((function(n){return n.adUnitCode===e?n:null})).reduce(M.ZH)}))},n.setTargetingForAst=function(e){var t=n.getAllTargeting(e);try{n.resetPresetTargetingAST(e)}catch(e){(0,a.H)("unable to reset targeting for AST"+e)}Object.keys(t).forEach((function(e){return Object.keys(t[e]).forEach((function(n){if((0,a.ji)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(n," value: ").concat(t[e][n])),(0,a.d8)(t[e][n])||(0,a.kJ)(t[e][n])){var o={};n.search(/pt[0-9]/)<0?o[n.toUpperCase()]=t[e][n]:o[n]=t[e][n],window.apntag.setKeywords(e,o,{overrideKeyValue:!0})}}))}))},n.isApntagDefined=function(){if(window.apntag&&(0,a.LQ)(window.apntag.setKeywords))return!0},n}(f.K),W=t(3777),H=t(875),q=t(9626),z=t(5164),K=t(6104),J=t(9128),X=t(8792),Y=t(4078),Q=t(4516),$=t(154),ee=(0,i.R)(),ne=S.k_.triggerUserSyncs,te=l.FP,oe=te.ADD_AD_UNITS,re=te.BID_WON,ie=te.REQUEST_BIDS,ae=te.SET_TARGETING,se=te.STALE_RENDER,de=l.q_,ue=de.PREVENT_WRITING_ON_MAIN_DOCUMENT,ce=de.NO_AD,le=de.EXCEPTION,fe=de.CANNOT_FIND_AD,ge=de.MISSING_DOC_OR_ADID,pe={bidWon:function(e){if(f.K.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(a.xH).filter(a.tT).includes(e))return!0;(0,a.H)('The "'+e+'" placement is not defined.')}};function me(e,n,t){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=n,e.defaultView.frameElement.height=t)}function ve(e,n){var t=[];return(0,a.kJ)(e)&&(n?e.length===n:e.length>0)&&(e.every((function(e){return(0,a.HC)(e,2)}))?t=e:(0,a.HC)(e,2)&&t.push(e)),t}function he(e){var n=(0,a.I8)(e),t=n.mediaTypes.banner,o=ve(t.sizes);return o.length>0?(t.sizes=o,n.sizes=o):((0,a.H)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete n.mediaTypes.banner),n}function be(e){var n=(0,a.I8)(e),t=n.mediaTypes.video;if(t.playerSize){var o="number"==typeof t.playerSize[0]?2:1,r=ve(t.playerSize,o);r.length>0?(2===o&&(0,a.PN)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),t.playerSize=r,n.sizes=r):((0,a.H)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete n.mediaTypes.video.playerSize)}return n}function ye(e){var n=(0,a.I8)(e),t=n.mediaTypes.native;if(t.ortb){var o=Object.keys(l.FY).filter((function(e){return l.FY[e].includes("hb_native_")})),r=Object.keys(t).filter((function(e){return o.includes(e)}));r.length>0&&((0,a.H)("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(r," keys from request.")),r.forEach((function(e){return delete n.mediaTypes.native[e]})))}return t.image&&t.image.sizes&&!Array.isArray(t.image.sizes)&&((0,a.H)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete n.mediaTypes.native.image.sizes),t.image&&t.image.aspect_ratios&&!Array.isArray(t.image.aspect_ratios)&&((0,a.H)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete n.mediaTypes.native.image.aspect_ratios),t.icon&&t.icon.sizes&&!Array.isArray(t.icon.sizes)&&((0,a.H)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete n.mediaTypes.native.icon.sizes),n}function Oe(e,n){var t=(0,s.Z)(e,"mediaTypes.".concat(n,".pos"));if(!(0,a.hj)(t)||isNaN(t)||!isFinite(t)){var o="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");(0,a.yN)(o),u.j8(l.FP.AUCTION_DEBUG,{type:"WARNING",arguments:o}),delete e.mediaTypes[n].pos}return e}function _e(e){var n=function(n){return"adUnit.code '".concat(e.code,"' ").concat(n)},t=e.mediaTypes,o=e.bids;return null==o||(0,a.kJ)(o)?null==o&&null==e.ortb2Imp?((0,a.H)(n("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):t&&0!==Object.keys(t).length?(null==e.ortb2Imp||null!=o&&0!==o.length||(e.bids=[{bidder:null}],(0,a.ji)(n("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,a.H)(n("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,a.H)(n("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}(0,W.dF)(),ee.bidderSettings=ee.bidderSettings||{},ee.libLoaded=!0,ee.version="v8.18.0",(0,a.PN)("Prebid.js v8.18.0 loaded"),ee.installedModules=ee.installedModules||[],ee.adUnits=ee.adUnits||[],ee.triggerUserSyncs=ne;var Ee={validateAdUnit:_e,validateBannerMediaType:he,validateSizes:ve};Object.assign(Ee,{validateNativeMediaType:ye}),Object.assign(Ee,{validateVideoMediaType:be});var Ie,we=(0,P.z3)("sync",(function(e){var n=[];return e.forEach((function(e){if(null!=(e=_e(e))){var t,o,r,i=e.mediaTypes;i.banner&&(t=he(e),i.banner.hasOwnProperty("pos")&&(t=Oe(t,"banner"))),i.video&&(o=be(t||e),i.video.hasOwnProperty("pos")&&(o=Oe(o,"video"))),i.native&&(r=ye(o||t||e));var a=Object.assign({},t,o,r);n.push(a)}})),n}),"checkAdUnitSetup");function Ae(e){var n=f.K[e]().filter((function(e){return f.K.getAdUnitCodes().includes(e.adUnitCode)})),t=f.K.getLastAuctionId();return n.map((function(e){return e.adUnitCode})).filter(a.tT).map((function(e){return n.filter((function(n){return n.auctionId===t&&n.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return(0,r.Z)({},e[0].adUnitCode,{bids:e})})).reduce((function(e,n){return Object.assign(e,n)}),{})}function Ce(e,n,t){var o=n.querySelector(t);e.parentNode&&e.parentNode===o||(0,a.jC)(e,n,t)}ee.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,a.PN)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var n=ee.getAdserverTargetingForAdUnitCode(e);return(0,a.Ob)(n)}(0,a.ji)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},ee.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var n=f.K.getAllBidsForAdUnitCode(e).filter(B);return n.length?n.reduce(M.ZH):{}}(0,a.ji)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},ee.getAdserverTargetingForAdUnitCode=function(e){return ee.getAdserverTargeting(e)[e]},ee.getAdserverTargeting=function(e){return(0,a.PN)("Invoking pbjs.getAdserverTargeting",arguments),Z.getAllTargeting(e)},ee.getConsentMetadata=function(){return(0,a.PN)("Invoking pbjs.getConsentMetadata"),Q.NO.getConsentMeta()},ee.getNoBids=function(){return(0,a.PN)("Invoking pbjs.getNoBids",arguments),Ae("getNoBids")},ee.getNoBidsForAdUnitCode=function(e){return{bids:f.K.getNoBids().filter((function(n){return n.adUnitCode===e}))}},ee.getBidResponses=function(){return(0,a.PN)("Invoking pbjs.getBidResponses",arguments),Ae("getBidsReceived")},ee.getBidResponsesForAdUnitCode=function(e){return{bids:f.K.getBidsReceived().filter((function(n){return n.adUnitCode===e}))}},ee.setTargetingForGPTAsync=function(e,n){if((0,a.PN)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,a.T9)()){var t=Z.getAllTargeting(e);Z.resetPresetTargeting(e,n),Z.setTargetingForGPT(t,n),Object.keys(t).forEach((function(e){Object.keys(t[e]).forEach((function(n){"hb_adid"===n&&f.K.setStatusForBids(t[e][n],l.UE.CK)}))})),u.j8(ae,t)}else(0,a.H)("window.googletag is not defined on the page")},ee.setTargetingForAst=function(e){(0,a.PN)("Invoking pbjs.setTargetingForAn",arguments),Z.isApntagDefined()?(Z.setTargetingForAst(e),u.j8(ae,Z.getAllTargeting())):(0,a.H)("window.apntag is not defined on the page")},ee.renderAd=(0,P.z3)("async",(function(e,n,t){if((0,a.PN)("Invoking pbjs.renderAd",arguments),(0,a.ji)("Calling renderAd with adId :"+n),n)try{var o=f.K.findBidByAdId(n);if(!o){var r="Error trying to write ad. Cannot find ad by given id : ".concat(n);return void y({reason:fe,message:r,id:n})}if(o.status===l.UE.fe&&((0,a.yN)("Ad id ".concat(o.adId," has been rendered before")),u.j8(se,o),(0,s.Z)(m.vc.getConfig("auctionOptions"),"suppressStaleRender")))return;if(o.ad=(0,a.ew)(o.ad,o.originalCpm||o.cpm),o.adUrl=(0,a.ew)(o.adUrl,o.originalCpm||o.cpm),t&&t.clickThrough){var i=t.clickThrough;o.ad=(0,a.x_)(o.ad,i),o.adUrl=(0,a.x_)(o.adUrl,i)}f.K.addWinningBid(o),u.j8(re,o);var d=o.height,c=o.width,g=o.ad,v=o.mediaType,h=o.adUrl,b=o.renderer,_=o.adUnitCode,E=ee.adUnits.filter((function(e){return e.code===_})),I=ee.videoModule;if(E.video&&I)return void I.renderBid(E.video.divId,o);if(!e){var w="Error trying to write ad Id :".concat(n," to the page. Missing document");return void y({reason:ge,message:w,id:n})}var A=document.createComment("Creative ".concat(o.creativeId," served by ").concat(o.bidder," Prebid.js Header Bidding"));if((0,a.jC)(A,e,"html"),(0,p.Pd)(b))(0,p._U)(b,o,e),Ce(A,e,"html"),O({doc:e,bid:o,id:n});else if(e===document&&!(0,a.yL)()||"video"===v){var C="Error trying to write ad. Ad render call ad id ".concat(n," was prevented from writing to the main document.");y({reason:ue,message:C,bid:o,id:n})}else if(g)e.write(g),e.close(),me(e,c,d),Ce(A,e,"html"),(0,a.R_)(o),O({doc:e,bid:o,id:n});else if(h){var S=(0,a.$u)();S.height=d,S.width=c,S.style.display="inline",S.style.overflow="hidden",S.src=h,(0,a.jC)(S,e,"body"),me(e,c,d),Ce(A,e,"html"),(0,a.R_)(o),O({doc:e,bid:o,id:n})}else{var T="Error trying to write ad. No ad for bid response id: ".concat(n);y({reason:ce,message:T,bid:o,id:n})}}catch(e){var D="Error trying to write ad Id :".concat(n," to the page:").concat(e.message);y({reason:le,message:D,id:n})}else{var P="Error trying to write ad Id :".concat(n," to the page. Missing adId");y({reason:ge,message:P,id:n})}})),ee.removeAdUnit=function(e){(0,a.PN)("Invoking pbjs.removeAdUnit",arguments),e?((0,a.kJ)(e)?e:[e]).forEach((function(e){for(var n=ee.adUnits.length-1;n>=0;n--)ee.adUnits[n].code===e&&ee.adUnits.splice(n,1)})):ee.adUnits=[]},ee.requestBids=(Ie=(0,P.z3)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bidsBackHandler,t=e.timeout,r=e.adUnits,i=e.adUnitCodes,s=e.labels,d=e.auctionId,c=e.ttlBuffer,l=e.ortb2,f=e.metrics,p=e.defer;u.j8(ie);var v=t||m.vc.getConfig("bidderTimeout");(0,a.PN)("Invoking pbjs.requestBids",arguments),i&&i.length?r=r.filter((function(e){return(0,g.q9)(i,e.code)})):i=r&&r.map((function(e){return e.code}));var h={global:(0,a.Ee)({},m.vc.getAnyConfig("ortb2")||{},l||{}),bidder:Object.fromEntries(Object.entries(m.vc.getBidderConfig()).map((function(e){var n=(0,o.Z)(e,2);return[n[0],n[1].ortb2]})).filter((function(e){var n=(0,o.Z)(e,2);return n[0],null!=n[1]})))};return(0,Y.S)(X.Z.resolve(h.global)).then((function(e){return h.global=e,Se({bidsBackHandler:n,timeout:v,adUnits:r,adUnitCodes:i,labels:s,auctionId:d,ttlBuffer:c,ortb2Fragments:h,metrics:f,defer:p})}))}),"requestBids"),(0,P.IF)(Ie,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.adUnits||ee.adUnits;return e.adUnits=(0,a.kJ)(n)?n.slice():[n],e.metrics=(0,J.V6)(),e.metrics.checkpoint("requestBids"),e.defer=(0,X.P)({promiseFactory:function(e){return new Promise(e)}}),Ie.call(this,e),e.defer.promise})));var Se=(0,P.z3)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bidsBackHandler,t=e.timeout,o=e.adUnits,r=e.ttlBuffer,i=e.adUnitCodes,s=e.labels,u=e.auctionId,c=e.ortb2Fragments,l=e.metrics,p=e.defer,v=(0,K.uV)(m.vc.getConfig("s2sConfig")||[]);function h(e,t,o){if("function"==typeof n)try{n(e,t,o)}catch(e){(0,a.H)("Error executing bidsBackHandler",null,e)}p.resolve({bids:e,timedOut:t,auctionId:o})}if(function(e){e.forEach((function(e){return(0,$.cx)(e)}))}(o),(o=(0,J.Bf)(l).measureTime("requestBids.validate",(function(){return we(o)}))).forEach((function(e){var n,t,o=Object.keys(e.mediaTypes||{banner:"banner"}),i=e.bids.map((function(e){return e.bidder})),s=K.ZP.bidderRegistry,u=i.filter((function(e){return!v.has(e)})),c=(null===(n=e.ortb2Imp)||void 0===n||null===(t=n.ext)||void 0===t?void 0:t.tid)||(0,a.DO)();e.transactionId=c,null==r||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=r),(0,d.N)(e,"ortb2Imp.ext.tid",c),u.forEach((function(n){var t=s[n],r=t&&t.getSpec&&t.getSpec(),i=r&&r.supportedMediaTypes||["banner"];o.some((function(e){return(0,g.q9)(i,e)}))?H.f.incrementBidderRequestsCounter(e.code,n):((0,a.yN)((0,a.or)(e,n)),e.bids=e.bids.filter((function(e){return e.bidder!==n})))})),H.f.incrementRequestsCounter(e.code)})),o&&0!==o.length){var b=f.K.createAuction({adUnits:o,adUnitCodes:i,callback:h,cbTimeout:t,labels:s,auctionId:u,ortb2Fragments:c,metrics:l}),y=o.length;y>15&&(0,a.PN)("Current auction ".concat(b.getAuctionId()," contains ").concat(y," adUnits."),o),i.forEach((function(e){return Z.setLatestAuctionForAdUnit(e,b.getAuctionId())})),b.callBids()}else(0,a.ji)("No adUnits configured. No bids requested."),h()}),"startAuction");ee.requestBids.before((function(e,n){function t(e){for(var n;n=e.shift();)n()}t(z.Ld),t(Te),e.call(this,n)}),49),ee.addAdUnits=function(e){(0,a.PN)("Invoking pbjs.addAdUnits",arguments),ee.adUnits.push.apply(ee.adUnits,(0,a.kJ)(e)?e:[e]),u.j8(oe)},ee.onEvent=function(e,n,t){(0,a.PN)("Invoking pbjs.onEvent",arguments),(0,a.LQ)(n)?!t||pe[e].call(null,t)?u.on(e,n,t):(0,a.H)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,a.H)('The event handler provided is not a function and was not set on event "'+e+'".')},ee.offEvent=function(e,n,t){(0,a.PN)("Invoking pbjs.offEvent",arguments),t&&!pe[e].call(null,t)||u.S1(e,n,t)},ee.getEvents=function(){return(0,a.PN)("Invoking pbjs.getEvents"),u.vw()},ee.registerBidAdapter=function(e,n){(0,a.PN)("Invoking pbjs.registerBidAdapter",arguments);try{K.ZP.registerBidAdapter(e(),n)}catch(e){(0,a.H)("Error registering bidder adapter : "+e.message)}},ee.registerAnalyticsAdapter=function(e){(0,a.PN)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{K.ZP.registerAnalyticsAdapter(e)}catch(e){(0,a.H)("Error registering analytics adapter : "+e.message)}},ee.createBid=function(e){return(0,a.PN)("Invoking pbjs.createBid",arguments),(0,q.m)(e)};var Te=[],De=(0,P.z3)("async",(function(e){e&&!(0,a.xb)(e)?((0,a.PN)("Invoking pbjs.enableAnalytics for: ",e),K.ZP.enableAnalytics(e)):(0,a.H)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");ee.enableAnalytics=function(e){Te.push(De.bind(this,e))},ee.aliasBidder=function(e,n,t){(0,a.PN)("Invoking pbjs.aliasBidder",arguments),e&&n?K.ZP.aliasBidAdapter(e,n,t):(0,a.H)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},ee.aliasRegistry=K.ZP.aliasRegistry,m.vc.getConfig("aliasRegistry",(function(e){"private"===e.aliasRegistry&&delete ee.aliasRegistry})),ee.getAllWinningBids=function(){return f.K.getAllWinningBids()},ee.getAllPrebidWinningBids=function(){return f.K.getBidsReceived().filter((function(e){return e.status===l.UE.CK}))},ee.getHighestCpmBids=function(e){return Z.getWinningBids(e)},ee.markWinningBidAsUsed=function(e){var n=Pe(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");n.length>0&&f.K.addWinningBid(n[0])};var Pe=function(e,n){var t=[];return e.adUnitCode&&e.adId?t=f.K.getBidsReceived().filter((function(n){return n.adId===e.adId&&n.adUnitCode===e.adUnitCode})):e.adUnitCode?t=Z.getWinningBids(e.adUnitCode):e.adId?t=f.K.getBidsReceived().filter((function(n){return n.adId===e.adId})):(0,a.yN)(n),t};function Ne(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,a.H)("Error processing command :","prebid.js",e)}}))}ee.getConfig=m.vc.getAnyConfig,ee.readConfig=m.vc.readAnyConfig,ee.mergeConfig=m.vc.mergeConfig,ee.mergeBidderConfig=m.vc.mergeBidderConfig,ee.setConfig=m.vc.setConfig,ee.setBidderConfig=m.vc.setBidderConfig,ee.que.push((function(){window.addEventListener("message",A,!1)})),ee.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,a.H)("Error processing command :",e.message,e.stack)}else(0,a.H)("Commands written into pbjs.cmd.push must be wrapped in a function")},ee.que.push=ee.cmd.push,ee.processQueue=function(){P.z3.ready(),Ne(ee.que),Ne(ee.cmd)},ee.triggerBilling=function(e){var n=Pe(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),t=n.find((function(n){return n.requestId===e.requestId}))||n[0];if(n.length>0&&t)try{K.ZP.callBidBillableBidder(t)}catch(e){(0,a.H)("Error when triggering billing :",e)}else(0,a.yN)("The bid provided to triggerBilling did not match any bids received.")}},8640:function(e,n,t){t.d(n,{R:function(){return i},z:function(){return a}});var o=window,r=o.pbjs=o.pbjs||{};function i(){return r}function a(e){r.installedModules.push(e)}r.cmd=r.cmd||[],r.que=r.que||[],o===window&&(o._pbjsGlobals=o._pbjsGlobals||[],o._pbjsGlobals.push("pbjs"))},5102:function(e,n,t){t.d(n,{hh:function(){return a},nH:function(){return u}});var o=t(3193),r=t(4358);function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var t=n.location.protocol;try{t=n.top.location.protocol}catch(e){}return/^\/\//.exec(e)?t+e:"".concat(t,"//").concat(e)}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.noLeadingWww,o=void 0!==t&&t,r=n.noPort,a=void 0!==r&&r;try{e=new URL(i(e))}catch(e){return}return e=a?e.hostname:e.host,o&&e.startsWith("www.")&&(e=e.substring(4)),e}function s(e){try{var n=e.querySelector("link[rel='canonical']");if(null!==n)return n.href}catch(e){}return null}var d,u=function(e){var n,t,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return r.top!==r?e:function(){var i=s(r.document),a=r.location.href;return n===i&&a===t||(n=i,t=a,o=e()),o}}((d=window,function(){var e,n,t,u,c=[],l=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(d),f=o.vc.getConfig("maxNestedIframes"),g=!1,p=0,m=!1,v=!1,h=!1;do{var b=e,y=v,O=void 0,_=!1,E=null;v=!1,e=e?e.parent:d;try{O=e.location.href||null}catch(e){_=!0}if(_)if(y){var I=b.context;try{n=E=I.sourceUrl,h=!0,m=!0,e===d.top&&(g=!0),I.canonicalUrl&&(t=I.canonicalUrl)}catch(e){}}else{(0,r.yN)("Trying to access cross domain iframe. Continuing without referrer and location");try{var w=b.document.referrer;w&&(E=w,e===d.top&&(g=!0))}catch(e){}!E&&l&&l[p-1]&&(E=l[p-1],e===d.top&&(h=!0)),E&&!m&&(n=E)}else{if(O&&(n=E=O,m=!1,e===d.top)){g=!0;var A=s(e.document);A&&(t=A)}e.context&&e.context.sourceUrl&&(v=!0)}c.push(E),p++}while(e!==d.top&&p<f);c.reverse();try{u=d.top.document.referrer}catch(e){}var C=g||h?n:null,S=o.vc.getConfig("pageUrl")||t||null,T=o.vc.getConfig("pageUrl")||C||i(S,d);return C&&C.indexOf("?")>-1&&-1===T.indexOf("?")&&(T="".concat(T).concat(C.substring(C.indexOf("?")))),{reachedTop:g,isAmp:m,numIframes:p-1,stack:c,topmostLocation:n||null,location:C,canonicalUrl:S,page:T,domain:a(T)||null,ref:u||null,legacy:{reachedTop:g,isAmp:m,numIframes:p-1,stack:c,referer:n||null,canonicalUrl:S}}}))},5164:function(e,n,t){t.d(n,{Dp:function(){return g},Ld:function(){return m},c$:function(){return p},df:function(){return h},eA:function(){return b}});var o=t(4942),r=t(4358),i=t(5975),a=t(9633),s=t(571),d=t(6310),u=t(4947),c=t(3193),l=t(6104),f=t(286),g="html5",p="cookie",m=[];function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.moduleName,t=e.moduleType,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isAllowed,v=void 0===i?s.xD:i;function h(e,r){var i=n,s=c.vc.getCurrentBidder();return s&&t===a.UL&&l.ZP.aliasRegistry[s]===n&&(i=s),e({valid:v(u.S1,(0,f.T)(t,i,(0,o.Z)({},d.bL,r)))})}function b(e,n,t){if(!t||"function"!=typeof t)return h(e,n);m.push((function(){var o=h(e,n);t(o)}))}var y=function(e){return b((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,r.H)("Local storage api disabled")}return!1}),g,e)};return{setCookie:function(e,n,t,o,r,i){return b((function(i){if(i&&i.valid){var a=r&&""!==r?" ;domain=".concat(encodeURIComponent(r)):"",s=t&&""!==t?" ;expires=".concat(t):"",d=null!=o&&"none"==o.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(n)).concat(s,"; path=/").concat(a).concat(o?"; SameSite=".concat(o):"").concat(d)}}),p,i)},getCookie:function(e,n){return b((function(n){if(n&&n.valid){var t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}),p,n)},localStorageIsEnabled:function(e){return b((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),g,e)},cookiesAreEnabled:function(e){return b((function(e){return!(!e||!e.valid)&&(0,r.IG)()}),p,e)},setDataInLocalStorage:function(e,n,t){return b((function(t){t&&t.valid&&y()&&window.localStorage.setItem(e,n)}),g,t)},getDataFromLocalStorage:function(e,n){return b((function(n){return n&&n.valid&&y()?window.localStorage.getItem(e):null}),g,n)},removeDataFromLocalStorage:function(e,n){return b((function(n){n&&n.valid&&y()&&window.localStorage.removeItem(e)}),g,n)},hasLocalStorage:y,findSimilarCookies:function(e,n){return b((function(n){if(n&&n.valid){var t=[];if((0,r.wn)())for(var o=document.cookie.split(";");o.length;){var i=o.pop(),a=i.indexOf("=");a=a<0?i.length:a,decodeURIComponent(i.slice(0,a).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(i.slice(a+1)))}return t}}),p,n)}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.moduleType,t=e.moduleName,o=e.bidderCode;function r(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return o?((n&&n!==a.UL||t)&&r(),n=a.UL,t=o):t&&n||r(),v({moduleType:n,moduleName:t})}function b(e){return v({moduleName:e,moduleType:a.wu})}(0,s.oB)(u.S1,"deviceAccess config",(function(){if(!(0,r.wn)())return{allow:!1}})),(0,s.oB)(u.S1,"bidderSettings.*.storageAllowed",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.S;if(e[d.$k]===a.UL){var t=n.get(e[d.Ki],"storageAllowed");if(t&&!0!==t){var o=e[d.bL];t=Array.isArray(t)?t.some((function(e){return e===o})):t===o}else t=!!t;return t?void 0:{allow:t}}}))},1974:function(e,n,t){t.d(n,{k_:function(){return m}});var o=t(4942),r=t(3324),i=t(4358),a=t(3193),s=t(4614),d=t(5164),u=t(571),c=t(4947),l=t(6310),f=t(9633),g=t(286);a.vc.setDefaults({userSync:(0,i.I8)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var p=(0,d.eA)("usersync"),m=function(e){var n={},t={image:[],iframe:[]},d=new Set,u={},p={image:!0,iframe:!1},m=e.config;function v(){if(m.syncEnabled&&e.browserSupportsCookies){try{p.iframe&&h(t.iframe,(function(e){var n=(0,r.Z)(e,2),o=n[0],a=n[1];(0,i.ji)("Invoking iframe user sync for bidder: ".concat(o)),(0,i.Vs)(a),function(e,n){e.image=e.image.filter((function(e){return e[0]!==n}))}(t,o)})),p.image&&h(t.image,(function(e){var n=(0,r.Z)(e,2),t=n[0],o=n[1];(0,i.ji)("Invoking image pixel user sync for bidder: ".concat(t)),(0,i.hq)(o)}))}catch(e){return(0,i.H)("Error firing user syncs",e)}t={image:[],iframe:[]}}}function h(e,n){(0,i.TV)(e).forEach(n)}return a.vc.getConfig("userSync",(function(e){if(e.userSync){var n=e.userSync.filterSettings;(0,i.PO)(n)&&(n.image||n.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}m=Object.assign(m,e.userSync)})),e.regRule(c.K$,"userSync config",(function(e){if(!m.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[l.$k]===f.UL){var t=e[l.cx],o=e[l.bp];if(!n.canBidderRegisterSync(t,o))return{allow:!1,reason:"".concat(t," syncs are not enabled for ").concat(o)}}})),n.registerSync=function(n,r,a){var s;return d.has(r)?(0,i.ji)('already fired syncs for "'.concat(r,'", ignoring registerSync call')):m.syncEnabled&&(0,i.kJ)(t[n])?r?0!==m.syncsPerBidder&&Number(u[r])>=m.syncsPerBidder?(0,i.yN)('Number of user syncs exceeded for "'.concat(r,'"')):void(e.isAllowed(c.K$,(0,g.T)(f.UL,r,(s={},(0,o.Z)(s,l.cx,n),(0,o.Z)(s,l.IV,a),s)))&&(t[n].push([r,a]),u=function(e,n){return e[n]?e[n]+=1:e[n]=1,e}(u,r))):(0,i.yN)("Bidder is required for registering sync"):(0,i.yN)('User sync type "'.concat(n,'" not supported'))},n.bidderDone=d.add.bind(d),n.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(v,Number(e));v()},n.triggerUserSyncs=function(){m.enableOverride&&n.syncUsers()},n.canBidderRegisterSync=function(e,n){return!m.filterSettings||!function(e,n){var t=m.filterSettings;if(function(e,n){if(e.all&&e[n])return(0,i.yN)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(n,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var t=e.all?e.all:e[n],o=e.all?"all":n;if(!t)return!1;var r=t.filter,a=t.bidders;return r&&"include"!==r&&"exclude"!==r?((0,i.yN)('UserSync "filterSettings.'.concat(o,".filter\" setting '").concat(r,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===a||Array.isArray(a)&&a.length>0&&a.every((function(e){return(0,i.d8)(e)&&"*"!==e})))||((0,i.yN)('Detected an invalid setup in userSync "filterSettings.'.concat(o,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(t,e)){p[e]=!0;var o=t.all?t.all:t[e],r="*"===o.bidders?[n]:o.bidders,a={include:function(e,n){return!(0,s.q9)(e,n)},exclude:function(e,n){return(0,s.q9)(e,n)}};return a[o.filter||"include"](r,n)}return!p[e]}(e,n)},n}(Object.defineProperties({config:a.vc.getConfig("userSync"),isAllowed:u.xD,regRule:u.oB},{browserSupportsCookies:{get:function(){return!(0,i.fr)()&&p.cookiesAreEnabled()}}}))},4358:function(e,n,t){t.d(n,{$8:function(){return ce},$u:function(){return z},AB:function(){return Ce},D9:function(){return Ye},DO:function(){return P},EE:function(){return C},Ee:function(){return ze},FS:function(){return Ue},H:function(){return Z},HC:function(){return Ge},HP:function(){return Xe},I8:function(){return _e},IG:function(){return De},LQ:function(){return X},NA:function(){return ve},NI:function(){return L},Ob:function(){return M},PN:function(){return G},PO:function(){return ee},Q2:function(){return He},R_:function(){return ue},Re:function(){return N},S0:function(){return Re},SG:function(){return fe},T9:function(){return be},TV:function(){return Oe},U:function(){return je},Uv:function(){return ke},Vs:function(){return le},X4:function(){return ye},Yp:function(){return Ze},Zy:function(){return F},_R:function(){return Ke},_d:function(){return D},ak:function(){return K},bd:function(){return Se},d8:function(){return Y},dj:function(){return Je},e7:function(){return x},eB:function(){return q},ei:function(){return Be},en:function(){return We},ew:function(){return we},fr:function(){return Ie},hj:function(){return $},hq:function(){return de},iG:function(){return Me},jC:function(){return ae},jH:function(){return oe},ji:function(){return B},jn:function(){return ne},kJ:function(){return Q},oV:function(){return Le},or:function(){return xe},pP:function(){return he},qp:function(){return W},r3:function(){return ie},ry:function(){return Qe},s:function(){return R},sF:function(){return U},tT:function(){return ge},u2:function(){return E},vM:function(){return Ne},vZ:function(){return qe},wn:function(){return Te},xH:function(){return pe},x_:function(){return Ae},xb:function(){return te},yL:function(){return Ee},yN:function(){return V},yi:function(){return re},yx:function(){return Pe},zE:function(){return me},zV:function(){return Fe}});var o,r=t(9062),i=t(4942),a=t(3324),s=t(1002),d=t(3193),u=t(7079),c=t.n(u),l=t(4614),f=t(5644),g=t(8792),p=t(8640),m=Object.prototype.toString,v=Boolean(window.console),h=Boolean(v&&window.console.log),b=Boolean(v&&window.console.info),y=Boolean(v&&window.console.warn),O=Boolean(v&&window.console.error),_=(0,p.R)();function E(e){o=e}function I(){null!=o&&o.apply(void 0,arguments)}var w={checkCookieSupport:De,createTrackPixelIframeHtml:function(e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(D(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""},getWindowSelf:x,getWindowTop:F,getWindowLocation:j,insertUserSyncIframe:le,insertElement:ae,isFn:X,triggerPixel:de,logError:Z,logWarn:V,logMessage:B,logInfo:G,parseQS:Ve,formatQS:Ze,deepEqual:qe},A={};function C(){return A}var S,T=(S=0,function(){return++S});function D(){return T()+Math.random().toString(16).substr(2)}function P(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,P)}function N(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&");return n.replace(/&$/,"")}function M(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map((function(n){return"".concat(n,"=").concat(encodeURIComponent(e[n]))})).join("&"):""}function U(e){return"string"==typeof e?e.split(",").filter((function(e){return e.match(/^(\d)+x(\d)+$/i)})):"object"===(0,s.Z)(e)?2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[R(e)]:e.map(R):[]}function R(e){if(k(e))return e[0]+"x"+e[1]}function L(e){if(k(e))return{w:e[0],h:e[1]}}function k(e){return Q(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function F(){return window.top}function x(){return window.self}function j(){return window.location}function B(){q()&&h&&console.log.apply(console,H(arguments,"MESSAGE:"))}function G(){q()&&b&&console.info.apply(console,H(arguments,"INFO:"))}function V(){q()&&y&&console.warn.apply(console,H(arguments,"WARNING:")),I(f.FP.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function Z(){q()&&O&&console.error.apply(console,H(arguments,"ERROR:")),I(f.FP.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function W(e){function n(n){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];n.apply(void 0,[e].concat(o))}}return{logError:n(Z),logWarn:n(V),logMessage:n(B),logInfo:n(G)}}function H(e,n){e=[].slice.call(e);var t=d.vc.getCurrentBidder();return n&&e.unshift(n),t&&e.unshift(o("#aaa")),e.unshift(o("#3b88c3")),e.unshift("%cPrebid"+(t?"%c".concat(t):"")),e;function o(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function q(){return!!d.vc.getConfig("debug")}function z(){var e=document.createElement("iframe");return e.id=D(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e.style.height="0px",e.style.width="0px",e.allowtransparency="true",e}function K(e){return Ve(j().search)[e]||""}function J(e,n){return m.call(e)==="[object "+n+"]"}function X(e){return J(e,"Function")}function Y(e){return J(e,"String")}var Q=Array.isArray.bind(Array);function $(e){return J(e,"Number")}function ee(e){return J(e,"Object")}function ne(e){return J(e,"Boolean")}function te(e){return!e||(Q(e)||Y(e)?!(e.length>0):Object.keys(e).length<=0)}function oe(e){return Y(e)&&(!e||0===e.length)}function re(e,n){var t=this;if(X(null==e?void 0:e.forEach))return e.forEach(n,this);Object.entries(e||{}).forEach((function(e){var o=(0,a.Z)(e,2),r=o[0],i=o[1];return n.call(t,i,r)}))}function ie(e,n){return X(null==e?void 0:e.includes)&&e.includes(n)}function ae(e,n,t,o){var r;n=n||document,r=t?n.getElementsByTagName(t):n.getElementsByTagName("head");try{if((r=r.length?r:n.getElementsByTagName("body")).length){r=r[0];var i=o?null:r.firstChild;return r.insertBefore(e,i)}}catch(e){}}function se(e,n){var t=null;return new g.Z((function(o){var r=function n(){e.removeEventListener("load",n),e.removeEventListener("error",n),null!=t&&window.clearTimeout(t),o()};e.addEventListener("load",r),e.addEventListener("error",r),null!=n&&(t=window.setTimeout(r,n))}))}function de(e,n,t){var o=new Image;n&&w.isFn(n)&&se(o,t).then(n),o.src=e}function ue(e){var n=e.source,t=e.burl;n===f.os.YZ&&t&&w.triggerPixel(t)}function ce(e){if(e){var n,t=z();w.insertElement(t,document,"body"),(n=t.contentWindow.document).open(),n.write(e),n.close()}}function le(e,n,t){var o=w.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=o;var i=r.firstChild;n&&w.isFn(n)&&se(i,t).then(n),w.insertElement(i,document,"html",!0)}function fe(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""}function ge(e,n,t){return t.indexOf(e)===n}function pe(e,n){return e.concat(n)}function me(e,n){if(e)return n.flatMap((function(e){return e.bids})).find((function(n){return["bidId","adId","bid_id"].some((function(t){return n[t]===e}))}))}function ve(e,n){return e[n]}function he(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.adUnits).map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(pe,[])})).reduce(pe,[]).filter((function(e){return void 0!==e})).filter(ge)}function be(){if(window.googletag&&X(window.googletag.pubads)&&X(window.googletag.pubads().getSlots))return!0}function ye(){if(window.apntag&&X(window.apntag.getTag))return!0}function Oe(e){for(var n=e.length;n>0;){var t=Math.floor(Math.random()*n),o=e[--n];e[n]=e[t],e[t]=o}return e}function _e(e){return c()(e)}function Ee(){try{return w.getWindowSelf()!==w.getWindowTop()}catch(e){return!0}}function Ie(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function we(e,n){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,n)}function Ae(e,n){if(e&&n&&"string"==typeof n)return e.replace(/\${CLICKTHROUGH}/g,n)}function Ce(){return(new Date).getTime()}function Se(){return window.performance&&window.performance.now&&window.performance.now()||0}function Te(){return!1!==d.vc.getConfig("deviceAccess")}function De(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Pe(e,n){if(n<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(n));var t=0;return function(){++t===n&&e.apply(this,arguments)}}function Ne(e,n){return e.reduce((function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e}),{})}function Me(e,n){return n.filter((function(n){return e[n]})).reduce((function(n,t){return Object.assign(n,(0,i.Z)({},t,e[t]))}),{})}function Ue(e){var n=["banner","native","video"];return!!Object.keys(e).every((function(e){return(0,l.q9)(n,e)}))&&(!e.video||!e.video.context||(0,l.q9)(["instream","outstream","adpod"],e.video.context))}function Re(e,n,t){return e.filter((function(e){return e.code===n})).flatMap((function(e){return e.bids})).filter((function(e){return e.bidder===t})).map((function(e){return e.params||{}}))}function Le(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var ke=function(e,n){return e.getAdUnitPath()===n||e.getSlotElementId()===n};function Fe(e){return function(n){return ke(e,n)}}function xe(e,n){var t=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(t," ad unit\n    containing bidders that don't support ").concat(t,": ").concat(n,".\n    This bidder won't fetch demand.\n  ")}var je=Number.isInteger.bind(Number);function Be(e,n){return"object"!==(0,s.Z)(e)?{}:n.reduce((function(t,o,r){if("function"==typeof o)return t;var i=o,a=o.match(/^(.+?)\sas\s(.+?)$/i);a&&(o=a[1],i=a[2]);var s=e[o];return"function"==typeof n[r+1]&&(s=n[r+1](s,t)),void 0!==s&&(t[i]=s),t}),{})}function Ge(e,n){return Q(e)&&(!n||e.length===n)&&e.every((function(e){return je(e)}))}function Ve(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,n){var t=n.split("="),o=(0,a.Z)(t,2),r=o[0],i=o[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e}),{}):{}}function Ze(e){return Object.keys(e).map((function(n){return Array.isArray(e[n])?e[n].map((function(e){return"".concat(n,"[]=").concat(e)})).join("&"):"".concat(n,"=").concat(e[n])})).join("&")}function We(e,n){var t=document.createElement("a");n&&"noDecodeWholeURL"in n&&n.noDecodeWholeURL?t.href=e:t.href=decodeURIComponent(e);var o=n&&"decodeSearchAsString"in n&&n.decodeSearchAsString;return{href:t.href,protocol:(t.protocol||"").replace(/:$/,""),hostname:t.hostname,port:+t.port,pathname:t.pathname.replace(/^(?!\/)/,"/"),search:o?t.search:w.parseQS(t.search||""),hash:(t.hash||"").replace(/^#/,""),host:t.host||window.location.host}}function He(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(w.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function qe(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkTypes,o=void 0!==t&&t;if(e===n)return!0;if("object"!==(0,s.Z)(e)||null===e||"object"!==(0,s.Z)(n)||null===n||o&&e.constructor!==n.constructor)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var r in e){if(!n.hasOwnProperty(r))return!1;if(!qe(e[r],n[r],{checkTypes:o}))return!1}return!0}function ze(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];if(!t.length)return e;var a=t.shift();if(ee(e)&&ee(a)){var s=function(n){ee(a[n])?(e[n]||Object.assign(e,(0,i.Z)({},n,{})),ze(e[n],a[n])):Q(a[n])?e[n]?Q(e[n])&&a[n].forEach((function(t){for(var o=1,r=0;r<e[n].length;r++)if(qe(e[n][r],t)){o=0;break}o&&e[n].push(t)})):Object.assign(e,(0,i.Z)({},n,(0,r.Z)(a[n]))):Object.assign(e,(0,i.Z)({},n,a[n]))};for(var d in a)s(d)}return ze.apply(void 0,[e].concat(t))}function Ke(e){for(var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=function(e,n){if(X(Math.imul))return Math.imul(e,n);var t=(4194303&e)*(n|=0);return 4290772992&e&&(t+=(4290772992&e)*n|0),0|t},r=3735928559^t,i=1103547991^t,a=0;a<e.length;a++)r=o(r^(n=e.charCodeAt(a)),2654435761),i=o(i^n,1597334677);return r=o(r^r>>>16,2246822507)^o(i^i>>>13,3266489909),(4294967296*(2097151&(i=o(i^i>>>16,2246822507)^o(r^r>>>13,3266489909)))+(r>>>0)).toString()}function Je(e){try{return JSON.parse(e)}catch(e){}}function Xe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},t=new Map,o=function(){var o=n.apply(this,arguments);return t.has(o)||t.set(o,e.apply(this,arguments)),t.get(o)};return o.clear=t.clear.bind(t),o}function Ye(e,n){Object.entries(n).forEach((function(n){var t=(0,a.Z)(n,2),o=t[0],r=t[1];return e.setAttribute(o,r)}))}function Qe(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},o=0,r=e.length&&e.length-1,i=t(n);r-o>1;){var a=o+Math.round((r-o)/2);i>t(e[a])?o=a:r=a}for(;e.length>o&&i>t(e[o]);)o++;return o}},6066:function(e,n,t){t.d(n,{O:function(){return a}});var o=t(8653),r=t(5975),i=t(4358);function a(e,n,t){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=s.index,u=void 0===d?o.K.index:d,c=s.bs,l=void 0===c?r.S:c;t=t||u.getBidRequest(n);var f=null==n?void 0:n.adapterCode,g=(null==n?void 0:n.bidderCode)||(null===(a=t)||void 0===a?void 0:a.bidder),p=l.get(null==n?void 0:n.adapterCode,"adjustAlternateBids"),m=l.getOwn(g,"bidCpmAdjustment")||l.get(p?f:g,"bidCpmAdjustment");if(m&&"function"==typeof m)try{return m(e,Object.assign({},n),t)}catch(e){(0,i.H)("Error during bid adjustment",e)}return e}},9128:function(e,n,t){t.d(n,{A:function(){return _},Bf:function(){return v},V6:function(){return b},g3:function(){return O}});var o=t(3324),r=t(3193);function i(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){d=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw i}}}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var s="performanceMetrics",d=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},u=new WeakMap;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.now,t=void 0===n?d:n,o=e.mkNode,r=void 0===o?g:o,i=e.mkTimer,a=void 0===i?f:i,s=e.mkRenamer,c=void 0===s?function(e){return e}:s,l=e.nodes,p=void 0===l?u:l;return function(){return function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return{forEach:function(n){n(e)}}};o=c(o);var i=function(e){return function(t){return n.dfWalk({visit:function(n,o){var r=o[e];if(r.hasOwnProperty(t))return r[t]}})}}("timestamps");function s(e,t){var r=o(e);n.dfWalk({follow:function(e,n){return n.propagate&&(!e||!e.stopPropagation)},visit:function(e,n){r.forEach((function(o){null==e?n.metrics[o]=t:(n.groups.hasOwnProperty(o)||(n.groups[o]=[]),n.groups[o].push(t))}))}})}function d(e){return a(t,(function(n){return s(e,n)}))}function u(){var e={};return n.dfWalk({visit:function(n,t){e=Object.assign({},!n||n.includeGroups?t.groups:null,t.metrics,e)}}),e}var l={startTiming:d,measureTime:function(e,n){return d(e).stopAfter(n)()},measureHookTime:function(e,n,t){var o=d(e);return t(function(e){var n=o.stopBefore(e);return n.bail=e.bail&&o.stopBefore(e.bail),n.stopTiming=o,n.untimed=e,n}(n))},checkpoint:function(e){n.timestamps[e]=t()},timeSince:function(e,n){var o=i(e),r=null!=o?t()-o:null;return null!=n&&s(n,r),r},timeBetween:function(e,n,t){var o=i(e),r=i(n),a=null!=o&&null!=r?r-o:null;return null!=t&&s(t,a),a},setMetric:s,getMetrics:u,fork:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.propagate,a=void 0===i||i,s=t.stopPropagation,d=void 0!==s&&s,u=t.includeGroups;return e(r([[n,{propagate:a,stopPropagation:d,includeGroups:void 0!==u&&u}]]),o)},join:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.propagate,r=void 0===o||o,i=t.stopPropagation,a=void 0!==i&&i,s=t.includeGroups,d=void 0!==s&&s,u=p.get(e);null!=u&&u.addParent(n,{propagate:r,stopPropagation:a,includeGroups:d})},newMetrics:function(){return e(n.newSibling(),o)},renameWith:function(t){return e(n,t)},toJSON:function(){return u()}};return p.set(l,n),l}(r([]))}}function l(e,n,t){return function(){n&&n();try{return e.apply(this,arguments)}finally{t&&t()}}}function f(e,n){var t=e(),o=!1;function r(){o||(n(e()-t),o=!0)}return r.stopBefore=function(e){return l(e,r)},r.stopAfter=function(e){return l(e,null,r)},r}function g(e){return{metrics:{},timestamps:{},groups:{},addParent:function(n,t){e.push([n,t])},newSibling:function(){return g(e.slice())},dfWalk:function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.visit,a=t.follow,s=void 0===a?function(){return!0}:a,d=t.visited,u=void 0===d?new Set:d,c=t.inEdge;if(!u.has(this)){if(u.add(this),null!=(n=r(c,this)))return n;var l,f=i(e);try{for(f.s();!(l=f.n()).done;){var g=(0,o.Z)(l.value,2),p=g[0],m=g[1];if(s(c,m)&&null!=(n=p.dfWalk({visit:r,follow:s,visited:u,inEdge:m})))return n}}catch(e){f.e(e)}finally{f.f()}}}}}var p=function(){var e=function(){},n=function(){return{}},t={forEach:e},o=function(){return null};o.stopBefore=function(e){return e},o.stopAfter=function(e){return e};var r=Object.defineProperties({dfWalk:e,newSibling:function(){return r},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((function(e){return[e,{get:n}]}))));return c({now:function(){return 0},mkNode:function(){return r},mkRenamer:function(){return function(){return t}},mkTimer:function(){return o},nodes:{get:e,set:e}})()}(),m=!0;function v(e){return m&&e||p}r.vc.getConfig(s,(function(e){m=!!e[s]}));var h,b=(h=c(),function(){return m?h():p});function y(e,n){return function(t,o){return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var d=this;return v(n.apply(d,a)).measureHookTime(e+t,r,(function(e){return o.call.apply(o,[d,e].concat(a))}))}}}var O=y("requestBids.",(function(e){return e.metrics})),_=y("addBidResponse.",(function(e,n){return n.metrics}))},8792:function(e,n,t){t.d(n,{P:function(){return v},Z:function(){return p}});var o=t(3324),r=t(5671),i=t(3144),a=t(8916),s=t(2793);function d(e,n,t){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.set(e,t)}function u(e,n,t){return function(e,n){if(e!==n)throw new TypeError("Private static access of wrong provenance")}(e,n),t}var c=0,l=1,f=new WeakMap,g=new WeakMap,p=function(){function e(n){if((0,r.Z)(this,e),d(this,f,{writable:!0,value:void 0}),d(this,g,{writable:!0,value:void 0}),"function"!=typeof n)throw new Error("resolver not a function");var t=[],i=[],a=[c,l].map((function(e){return function(n){if(e===c&&"function"==typeof(null==n?void 0:n.then))n.then(p,m);else if(!t.length)for(t.push(e,n);i.length;)i.shift()()}})),u=(0,o.Z)(a,2),p=u[0],m=u[1];try{n(p,m)}catch(e){m(e)}(0,s.Z)(this,f,t),(0,s.Z)(this,g,i)}return(0,i.Z)(e,[{key:"then",value:function(e,n){var t=this,r=(0,a.Z)(this,f);return new this.constructor((function(i,s){var d=function(){var t=r[1],a=r[0]===c?[e,i]:[n,s],d=(0,o.Z)(a,2),u=d[0],l=d[1];if("function"==typeof u){try{t=u(t)}catch(e){return void s(e)}l=i}l(t)};r.length?d():(0,a.Z)(t,g).push(d)}))}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var n,t=this;return this.then((function(t){return n=t,e()}),(function(o){return n=t.constructor.reject(o),e()})).then((function(){return n}))}}],[{key:"timeout",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e((function(e){0===n?e():setTimeout(e,n)}))}},{key:"race",value:function(n){var t=this;return new this((function(o,r){u(t,e,m).call(t,n,(function(e,n){return e?o(n):r(n)}))}))}},{key:"all",value:function(n){var t=this;return new this((function(o,r){var i=[];u(t,e,m).call(t,n,(function(e,n,t){return e?i[t]=n:r(n)}),(function(){return o(i)}))}))}},{key:"allSettled",value:function(n){var t=this;return new this((function(o){var r=[];u(t,e,m).call(t,n,(function(e,n,t){return r[t]=e?{status:"fulfilled",value:n}:{status:"rejected",reason:n}}),(function(){return o(r)}))}))}},{key:"resolve",value:function(e){return new this((function(n){return n(e)}))}},{key:"reject",value:function(e){return new this((function(n,t){return t(e)}))}}]),e}();function m(e,n,t){var o=this,r=e.length;function i(){n.apply(this,arguments),--r<=0&&t&&t()}0===e.length&&t?t():e.forEach((function(e,n){return o.resolve(e).then((function(e){return i(!0,e,n)}),(function(e){return i(!1,e,n)}))}))}function v(){var e,n,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).promiseFactory,o=void 0===t?function(e){return new p(e)}:t;function r(e){return function(n){return e(n)}}return{promise:o((function(t,o){e=t,n=o})),resolve:r(e),reject:r(n)}}},1136:function(e,n,t){function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){d=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw a}}}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function i(e,n){return e===n?0:e<n?-1:1}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(n,t){return i(e(n),e(t))}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return function(n,t){return-e(n,t)||0}}function d(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e,t){var r,i=o(n);try{for(i.s();!(r=i.n()).done;){var a=(0,r.value)(e,t);if(0!==a)return a}}catch(e){i.e(e)}finally{i.f()}return 0}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return function(n,t){return e(t,n)<0?t:n}}function c(){return u(s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i))}t.d(n,{K$:function(){return p},LT:function(){return u},ZH:function(){return g},xI:function(){return a}});var l=a((function(e){return e.cpm})),f=a((function(e){return e.responseTimestamp})),g=c(d(l,s(a((function(e){return e.timeToRespond}))))),p=c(d(l,s(f)));c(d(l,f))},613:function(e,n,t){t.d(n,{Z:function(){return u}});var o=t(4942),r=t(3324),i=t(8792),a=t(4358);function s(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function u(){var e,n,t,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=d.startTime,c=void 0===u?a.AB:u,l=d.ttl,f=void 0===l?function(){return null}:l,g=d.monotonic,p=void 0!==g&&g,m=d.slack,v=void 0===m?5e3:m,h=new Map,b=[],y=p?function(e){return b.push(e)}:function(e){return b.splice((0,a.ry)(b,e,(function(e){return e.expiry})),0,e)};function O(){if(t&&clearTimeout(t),b.length>0){var e=(0,a.AB)();n=Math.max(e,b[0].expiry+v),t=setTimeout((function(){var e,n=(0,a.AB)(),o=0,r=s(b);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i.expiry>n)break;h.delete(i.item),o++}}catch(e){r.e(e)}finally{r.f()}b.splice(0,o),t=null,O()}),n-e)}else t=null}var _={};return e={},(0,o.Z)(e,Symbol.iterator,(function(){return h.keys()})),(0,o.Z)(e,"add",(function(e){!h.has(e)&&h.set(e,function(e){var o,a={},s=_,d=Object.entries({start:c,delta:f}).map((function(d){var u,c=(0,r.Z)(d,2),l=c[0],f=c[1];return function(){var r=u={};i.Z.resolve(f(e)).then((function(e){r===u&&(a[l]=e,s===_&&null!=a.start&&null!=a.delta&&(o=a.start+a.delta,y(p),(null==t||n>o+v)&&O()))}))}})),u=(0,r.Z)(d,2),l=u[0],g=u[1],p={item:e,refresh:g,get expiry(){return o}};return l(),g(),p}(e))})),(0,o.Z)(e,"clear",(function(){b.length=0,O(),h.clear(),_={}})),(0,o.Z)(e,"toArray",(function(){return Array.from(h.keys())})),(0,o.Z)(e,"refresh",(function(){b.length=0,O();var e,n=s(h.values());try{for(n.s();!(e=n.n()).done;)e.value.refresh()}catch(e){n.e(e)}finally{n.f()}})),e}},154:function(e,n,t){t.d(n,{Dn:function(){return l},LD:function(){return u},cx:function(){return c},gZ:function(){return d},hD:function(){return f}});var o=t(265),r=t(4358),i=t(3193),a=t(2797),s=t(8653),d="outstream",u="instream";function c(e){var n,t=null==e||null===(n=e.mediaTypes)||void 0===n?void 0:n.video;null!=t&&null==t.plcmt&&(t.context===d||[2,3,4].includes(t.placement)?t.plcmt=4:t.context!==d&&[2,6].includes(t.playbackmethod)&&(t.plcmt=2))}function l(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,t=void 0===n?s.K.index:n,r=(0,o.Z)(t.getMediaTypes(e),"video"),i=r&&(0,o.Z)(r,"context"),a=r&&(0,o.Z)(r,"useCacheKey"),d=t.getAdUnit(e);return f(e,d,r,i,a)}var f=(0,a.z3)("sync",(function(e,n,t,o,a){return t&&(a||o!==d)?i.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,r.H)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(o===d&&!a&&!(e.renderer||n&&n.renderer||t.renderer))}),"checkVideoBidSetup")},9885:function(e,n,t){t.d(n,{h:function(){return s},z:function(){return d}});var o=t(8928),r=t(3193),i=t(8653);function a(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,t=void 0===n?i.K.index:n,o=e.vastXml?e.vastXml:function(e,n){var t=n?"<![CDATA[".concat(n,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(t,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}(e.vastUrl,e.vastImpUrl),a=t.getAuction(e),s={type:"xml",value:o,ttlseconds:Number(e.ttl)+15};return r.vc.getConfig("cache.vasttrack")&&(s.bidder=e.bidder,s.bidid=e.requestId,s.aid=e.auctionId),null!=a&&(s.timestamp=a.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(s.key=e.customCacheKey),s}function s(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.OI,i={puts:e.map(a)};t(r.vc.getConfig("cache.timeout"))(r.vc.getConfig("cache.url"),function(e){return{success:function(n){var t;try{t=JSON.parse(n).responses}catch(n){return void e(n,[])}t?e(null,t):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(n,t){e(new Error("Error storing video ad in the cache: ".concat(n,": ").concat(JSON.stringify(t))),[])}}}(n),JSON.stringify(i),{contentType:"text/plain",withCredentials:!0})}function d(e){return"".concat(r.vc.getConfig("cache.url"),"?uuid=").concat(e)}},265:function(e,n,t){function o(e,n,t,o,r){for(n=n.split?n.split("."):n,o=0;o<n.length;o++)e=e?e[n[o]]:r;return e===r?t:e}t.d(n,{Z:function(){return o}})},1432:function(e){
/*
                * @license MIT
                * Fun Hooks v0.9.10
                * (c) @snapwich
                */
a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),t=new WeakMap,o="2,1,0"===[1].reduce((function(e,n,t){return[e,n,t]}),2).toString()?Array.prototype.reduce:function(e,n){var t,o=Object(this),r=o.length>>>0,i=0;if(n)t=n;else{for(;i<r&&!(i in o);)i++;t=o[i++]}for(;i<r;)i in o&&(t=e(t,o[i],i,o)),i++;return t};function r(e,n){return Array.prototype.slice.call(e,n)}var i=Object.assign||function(e){return o.call(r(arguments,1),(function(e,n){return n&&Object.keys(n).forEach((function(t){e[t]=n[t]})),e}),e)};function a(e){var s,d={},u=[];function c(e,n){return"function"==typeof e?p.call(null,"sync",e,n):"string"==typeof e&&"function"==typeof n?p.apply(null,arguments):"object"==_typeof(e)?l.apply(null,arguments):void 0}function l(e,n,t){var o=!0;void 0===n&&(n=Object.getOwnPropertyNames(e),o=!1);var r={},i=["constructor"];do{(n=n.filter((function(n){return!("function"!=typeof e[n]||-1!==i.indexOf(n)||n.match(/^_/))}))).forEach((function(n){var o=n.split(":"),i=o[0],a=o[1]||"sync";if(!r[i]){var s=e[i];r[i]=e[i]=p(a,s,t?[t,i]:void 0)}})),e=Object.getPrototypeOf(e)}while(o&&e);return r}function f(e){var n=Array.isArray(e)?e:e.split(".");return o.call(n,(function(t,o,r){var i=t[o],a=!1;return i||(r===n.length-1?(s||u.push((function(){a||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),t[o]=g((function(e){t[o]=e,a=!0}))):t[o]={})}),d)}function g(e){var n=[],o=[],r=function(){},a={before:function(e,t){return d.call(this,n,"before",e,t)},after:function(e,n){return d.call(this,o,"after",e,n)},getHooks:function(e){var t=n.concat(o);"object"==_typeof(e)&&(t=t.filter((function(n){return Object.keys(e).every((function(t){return n[t]===e[t]}))})));try{i(t,{remove:function(){return t.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return t},removeAll:function(){return this.getHooks().remove()}},s={install:function(t,i,a){this.type=t,r=a,a(n,o),e&&e(i)}};return t.set(a.after,s),a;function d(e,t,i,a){var s={hook:i,type:t,priority:a||10,remove:function(){var t=e.indexOf(s);-1!==t&&(e.splice(t,1),r(n,o))}};return e.push(s),e.sort((function(e,n){return n.priority-e.priority})),r(n,o),this}}function p(n,o,d){var c=o.after&&t.get(o.after);if(c){if(c.type!==n)throw"fun-hooks: recreated hookable with different type";return o}var l,p,m=d?f(d):g(),v={get:function(e,n){return m[n]||Reflect.get.apply(Reflect,arguments)}};return s||u.push(h),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?p=new Proxy(o,v):(p=function(){return v.apply?v.apply(o,this,r(arguments)):o.apply(this,arguments)},i(p,m)),t.get(p.after).install(n,p,(function(e,t){var o,i=[];function a(e){i.push(e.hook)}e.length||t.length?(e.forEach(a),o=i.push(void 0)-1,t.forEach(a),l=function(e,t,a){var s,d=0,u="async"===n&&"function"==typeof a[a.length-1]&&a.pop();function c(e){"sync"===n?s=e:u&&u.apply(null,arguments)}function l(e){if(i[d]){var o=r(arguments);return l.bail=c,o.unshift(l),i[d++].apply(t,o)}"sync"===n?s=e:u&&u.apply(null,arguments)}return i[o]=function(){var o=r(arguments,1);"async"===n&&u&&(delete l.bail,o.push(l));var i=e.apply(t,o);"sync"===n&&l(i)},l.apply(null,a),s}):l=void 0,h()})),p;function h(){!s&&("sync"!==n||e.ready&a.SYNC)&&("async"!==n||e.ready&a.ASYNC)?"sync"!==n&&e.ready&a.QUEUE?v.apply=function(){var e=arguments;u.push((function(){p.apply(e[1],e[2])}))}:v.apply=function(){throw"fun-hooks: hooked function not ready"}:v.apply=l}}return(e=i({},n,e)).ready?c.ready=function(){s=!0,function(e){for(var n;n=e.shift();)n()}(u)}:s=!0,c.get=f,c}e.exports=a},7079:function(e){e.exports=function e(n){var t=Array.isArray(n)?[]:{};for(var o in n){var r=n[o];t[o]=r&&"object"==_typeof(r)?e(r):r}return t}},907:function(e,n,t){function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}t.d(n,{Z:function(){return o}})},3878:function(e,n,t){function o(e){if(Array.isArray(e))return e}t.d(n,{Z:function(){return o}})},5057:function(e,n,t){t.d(n,{Z:function(){return r}});var o=t(907);function r(e){if(Array.isArray(e))return(0,o.Z)(e)}},7326:function(e,n,t){function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return o}})},6983:function(e,n,t){function o(e,n){return n.get?n.get.call(e):n.value}t.d(n,{Z:function(){return o}})},6011:function(e,n,t){function o(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}t.d(n,{Z:function(){return o}})},5671:function(e,n,t){function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,{Z:function(){return o}})},1519:function(e,n,t){function o(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}t.d(n,{Z:function(){return o}})},8916:function(e,n,t){t.d(n,{Z:function(){return i}});var o=t(6983),r=t(1519);function i(e,n){var t=(0,r.Z)(e,n,"get");return(0,o.Z)(e,t)}},2793:function(e,n,t){t.d(n,{Z:function(){return i}});var o=t(6011),r=t(1519);function i(e,n,t){var i=(0,r.Z)(e,n,"set");return(0,o.Z)(e,i,t),t}},3144:function(e,n,t){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}t.d(n,{Z:function(){return r}})},4942:function(e,n,t){function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:function(){return o}})},1120:function(e,n,t){function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}t.d(n,{Z:function(){return o}})},9340:function(e,n,t){function o(e,n){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},o(e,n)}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&o(e,n)}t.d(n,{Z:function(){return r}})},9199:function(e,n,t){function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}t.d(n,{Z:function(){return o}})},1902:function(e,n,t){function o(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,i=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(o=t.next()).done)&&(i.push(o.value),!n||i.length!==n);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==t.return||t.return()}finally{if(s)throw r}}return i}}t.d(n,{Z:function(){return o}})},5267:function(e,n,t){function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.d(n,{Z:function(){return o}})},2786:function(e,n,t){function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.d(n,{Z:function(){return o}})},2963:function(e,n,t){t.d(n,{Z:function(){return i}});var o=t(1002),r=t(7326);function i(e,n){if(n&&("object"===(0,o.Z)(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.Z)(e)}},3324:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(3878),r=t(1902),i=t(181),a=t(5267);function s(e,n){return(0,o.Z)(e)||(0,r.Z)(e,n)||(0,i.Z)(e,n)||(0,a.Z)()}},9062:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(5057),r=t(9199),i=t(181),a=t(2786);function s(e){return(0,o.Z)(e)||(0,r.Z)(e)||(0,i.Z)(e)||(0,a.Z)()}},1002:function(e,n,t){function o(e){return o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},o(e)}t.d(n,{Z:function(){return o}})},181:function(e,n,t){t.d(n,{Z:function(){return r}});var o=t(907);function r(e,n){if(e){if("string"==typeof e)return(0,o.Z)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,o.Z)(e,n):void 0}}},6475:function(e,n,t){function o(e,n,t){n.split&&(n=n.split("."));for(var o,r,i=0,a=n.length,s=e;i<a&&"__proto__"!==(r=n[i++])&&"constructor"!==r&&"prototype"!==r;)s=s[r]=i===a?t:_typeof(o=s[r])==_typeof(n)?o:0*n[i]!=0||~(""+n[i]).indexOf(".")?{}:[]}t.d(n,{N:function(){return o}})},5644:function(e){e.exports=JSON.parse('{"k2":{"xn":"adserverTargeting","zF":"standard"},"f":"pbjs_debug","Q_":{"Q":1},"FP":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"q_":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"aI":{"bidWon":"adUnitCode"},"Ql":{"yE":"low","M2":"medium","lj":"high","B7":"auto","uN":"dense","qN":"custom"},"TD":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat","CRID":"hb_crid","DSP":"hb_dsp"},"kF":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"FY":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"os":{"YZ":"s2s"},"UE":{"CK":"targetingSet","fe":"rendered"},"Gw":{"UI":"Bid has missing or invalid properties","Gp":"Invalid request ID","Dg":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","pe":"Bid does not meet price floor"},"V1":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"s$":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"oF":{"ICON":1,"MAIN":3},"zA":["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return n[e](i,i.exports,o),i.exports}o.m=n,e=[],o.O=function(n,t,r,i){if(!t){var a=1/0;for(c=0;c<e.length;c++){t=e[c][0],r=e[c][1],i=e[c][2];for(var s=!0,d=0;d<t.length;d++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](t[d])}))?t.splice(d--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,r,i]},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,{a:n}),n},o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={602:0};o.O.j=function(n){return 0===e[n]};var n=function(n,t){var r,i,a=t[0],s=t[1],d=t[2],u=0;if(a.some((function(n){return 0!==e[n]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(d)var c=d(o)}for(n&&n(t);u<a.length;u++)i=a[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},t=self.pbjsChunk=self.pbjsChunk||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var r=o(7055);r=o.O(r)}(),(self.pbjsChunk=self.pbjsChunk||[]).push([[402],{5370:function(e,n,t){t.d(n,{u:function(){return r}});var o=t(4358);function r(e,n){return Object.keys(e).forEach((function(t){var r,i;n[t]&&((0,o.LQ)(e[t])?n[t]=e[t](n[t]):n[t]=(r=e[t],i=n[t],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(n[t])&&delete n.key)})),n}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[157],{676:function(e,n,t){t.d(n,{c:function(){return d}});var o=t(9062),r=t(3790),i=t(265),a=["user.keywords"].concat(r.Iq.flatMap((function(e){return["keywords","content.keywords"].map((function(n){return"".concat(e,".").concat(n)}))})));function s(){for(var e=new Set,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return t.filter((function(e){return e})).flatMap((function(e){return Array.isArray(e)?e:e.split(",")})).map((function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")})).filter((function(e){return e})).forEach((function(n){return e.add(n)})),Array.from(e.keys())}function d(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return s.apply(void 0,(0,o.Z)(a.map((function(n){return(0,i.Z)(e,n)}))).concat(t))}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[277],{9050:function(e,n,t){t.d(n,{Bq:function(){return f},bn:function(){return h},cM:function(){return g},gw:function(){return v}});var o=t(3324),r=t(9062),i=t(4358),a=t(265),s=t(676),d=t(3790),u={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},c=["user.data"].concat(d.Iq.map((function(e){return"".concat(e,".content.data")})));function l(e,n,t){return null==n?t:(0,i.d8)(n)?n:(0,i.hj)(n)?n.toString():void(0,i.yN)("Unsuported type for param: "+e+" required type: String")}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",t=[];return(0,i.yi)(e,(function(e,o){if((0,i.kJ)(e)){var r=[];(0,i.yi)(e,(function(e){((e=l(n+"."+o,e))||""===e)&&r.push(e)})),e=r}else{if(e=l(n+"."+o,e),!(0,i.d8)(e))return;e=[e]}e=e.filter((function(e){return""!==e}));var a={key:o};e.length>0&&(a.value=e),t.push(a)})),t}function g(e){return(0,i.d8)(e)&&""!==e?p(e.split(/\s*(?:,)\s*/)):{}}function p(e){var n={};return e.forEach((function(e){if(-1!==e.indexOf("=")){var t=e.split("="),o=t[0],r=t[1];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}else n.hasOwnProperty(e)||(n[e]=[])})),n}function m(e){return p((0,s.c)(e))}function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return f(i.Ee.apply(void 0,(0,r.Z)(n.map((function(e){return Object.fromEntries(Object.entries(e||{}).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[t,(0,i.hj)(r)||(0,i.d8)(r)?[r]:r]})))})))))}function h(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return v.apply(void 0,[m(e),b(e)].concat(t))}function b(e){var n={};return c.forEach((function(t){((0,a.Z)(e,t)||[]).forEach((function(e){var t=u[(0,a.Z)(e,"ext.segtax")];t&&e.segment.forEach((function(e){n[t]?n[t].push(e.id):n[t]=[e.id]}))}))})),n}},7374:function(e,n,t){t.d(n,{G:function(){return r},h:function(){return i}});var o=t(4358);function r(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,n){return"_"+n.toLowerCase()})).replace(/^_/,"")}function i(e,n){for(var t=[],r=0;r<n;r++){var i=(0,o.PO)(e)?(0,o.I8)(e):e;t.push(i)}return t}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[284],{6296:function(e,n,t){function o(e,n){for(var t=[],o=0;o<Math.ceil(e.length/n);o++){var r=o*n,i=r+n;t.push(e.slice(r,i))}return t}t.d(n,{y:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[190],{4292:function(e,n,t){t.d(n,{m:function(){return o}});var o={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[968],{2712:function(e,n,t){t.d(n,{b6:function(){return f},kX:function(){return c},m1:function(){return l},sM:function(){return u}});var o=t(4942),r=t(3324),i=t(9062),a=t(8792);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=0,c=1,l=2;function f(e){var n=e.apiName,t=e.apiVersion,s=e.apiArgs,f=void 0===s?["command","callback","parameter","version"]:s,g=e.callbackArgs,p=void 0===g?["returnValue","success"]:g,m=e.mode,v=void 0===m?u:m,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,b={},y="".concat(n,"Call"),O="".concat(n,"Return");function _(e){var n,t="string"==typeof e.data&&e.data.includes(O)?JSON.parse(e.data):e.data;if(null!=t&&null!==(n=t[O])&&void 0!==n&&n.callId){var o=t[O];b.hasOwnProperty(o.callId)&&b[o.callId].apply(b,(0,i.Z)(p.map((function(e){return o[e]}))))}}var E,I=function(){for(var e,t=h,o=!1;null!=t;){try{if("function"==typeof t[n]){e=t,o=!0;break}}catch(e){}try{if(t.frames["".concat(n,"Locator")]){e=t;break}}catch(e){}if(t===h.top)break;t=t.parent}return[e,o]}(),w=(0,r.Z)(I,2),A=w[0],C=w[1];if(A)return C?E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.Z((function(t,o){var a=A[n].apply(A,(0,i.Z)(S(d(d({},e),{},{callback:e.callback||v===l?T(e.callback,t,o):void 0})).map((function(e){var n=(0,r.Z)(e,2);return n[0],n[1]}))));(v===c||null==e.callback&&v===u)&&t(a)}))}:(h.addEventListener("message",_,!1),E=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new a.Z((function(t,i){var a=Math.random().toString(),s=(0,o.Z)({},y,d(d({},Object.fromEntries(S(e).filter((function(e){return"callback"!==(0,r.Z)(e,1)[0]})))),{},{callId:a}));b[a]=T(null==e?void 0:e.callback,t,i,(n||null==(null==e?void 0:e.callback))&&function(){delete b[a]}),A.postMessage(s,"*"),v===c&&t()}))}),Object.assign(E,{isDirect:C,close:function(){!C&&h.removeEventListener("message",_)}});function S(e){return e=Object.assign({version:t},e),f.map((function(n){return[n,e[n]]}))}function T(e,n,t,o){var r="function"==typeof e;return function(i,a){(o&&o(),v!==c)&&(null==a||a?n:t)(r?void 0:i);r&&e.apply(this,arguments)}}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[703],{75:function(e,n,t){t.d(n,{ky:function(){return i}});var o=t(4614),r=t(4358);function i(e){var n=function(e){var n;return(0,r.T9)()&&(n=(0,o.sE)(window.googletag.pubads().getSlots(),function(e){return function(n){return(0,r.Uv)(n,e)}}(e))),n}(e);return n?{gptSlot:n.getAdUnitPath(),divId:n.getSlotElementId()}:{}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[279],{4980:function(e,n,t){t.d(n,{T:function(){return O},x:function(){return y}});var o=t(3324),r=new WeakMap;function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r.has(e)){var t=Object.entries(e);t.sort((function(e,n){return(e=e[1].priority||0)===(n=n[1].priority||0)?0:e>n?-1:1})),r.set(e,t.map((function(e){var n=(0,o.Z)(e,2);return[n[0],n[1].fn]})))}var i=r.get(e).filter((function(e){var t=(0,o.Z)(e,1)[0];return!n.hasOwnProperty(t)||n[t]})).map((function(e){var t=(0,o.Z)(e,2),r=t[0],i=t[1];return n.hasOwnProperty(r)?n[r].bind(this,i):i}));return function(){var e=this,n=Array.from(arguments);i.forEach((function(t){t.apply(e,n)}))}}var a=t(4358),s=t(4942),d=t(265),u=t(4679);function c(e){return(e=(0,a.sF)(e)).map((function(e){var n=e.split("x"),t=(0,o.Z)(n,2),r=t[0],i=t[1];return{w:parseInt(r,10),h:parseInt(i,10)}}))}var l,f=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),g={instream:1},p=t(5840),m=t(6372),v=t(3790),h=(l={},(0,s.Z)(l,m.Z,{fpd:{priority:99,fn:function(e,n){(0,a.Ee)(e,n.ortb2)}},onlyOneClient:{priority:-99,fn:(0,v.A_)("ORTB request")},props:{fn:function(e,n){Object.assign(e,{id:e.id||(0,a.DO)(),test:e.test||0});var t=parseInt(n.timeout,10);isNaN(t)||(e.tmax=t)}}}),(0,s.Z)(l,m.DZ,{fpd:{priority:99,fn:function(e,n){(0,a.Ee)(e,n.ortb2Imp)}},id:{fn:function(e,n){e.id=n.bidId}},banner:{fn:function(e,n,t){if(!t.mediaType||t.mediaType===u.Mk){var o=(0,d.Z)(n,"mediaTypes.banner");if(o){var r={topframe:!0===(0,a.yL)()?0:1};o.sizes&&(r.format=c(o.sizes)),o.hasOwnProperty("pos")&&(r.pos=o.pos),e.banner=(0,a.Ee)(r,e.banner)}}}},pbadslot:{fn:function(e){var n,t,o,r,i=null===(n=e.ext)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.pbadslot;i&&"string"==typeof i||null===(o=e.ext)||void 0===o||null===(r=o.data)||void 0===r||delete r.pbadslot}}}),(0,s.Z)(l,m.Px,{mediaType:{priority:99,fn:p.R},banner:{fn:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).createPixel,n=void 0===e?function(e){return(0,a.SG)(decodeURIComponent(e))}:e;return function(e,t){e.mediaType===u.Mk&&(t.adm&&t.nurl?(e.ad=t.adm,e.ad+=n(t.nurl)):t.adm?e.ad=t.adm:t.nurl&&(e.adUrl=t.nurl))}}()},props:{fn:function(e,n,t){var r;Object.entries({requestId:null===(r=t.bidRequest)||void 0===r?void 0:r.bidId,seatBidId:n.id,cpm:n.price,currency:t.ortbResponse.cur||t.currency,width:n.w,height:n.h,dealId:n.dealid,creative_id:n.crid,creativeId:n.crid,burl:n.burl,ttl:n.exp||t.ttl,netRevenue:t.netRevenue}).filter((function(e){var n=(0,o.Z)(e,2);return n[0],void 0!==n[1]})).forEach((function(n){var t=(0,o.Z)(n,2),r=t[0],i=t[1];return e[r]=i})),e.meta||(e.meta={}),n.adomain&&(e.meta.advertiserDomains=n.adomain)}}}),l);h[m.DZ].native={fn:function(e,n,t){if(!t.mediaType||t.mediaType===u.B5){var o,r=n.nativeOrtbRequest;r&&(null!==(o=(r=Object.assign({},t.nativeRequest,r)).assets)&&void 0!==o&&o.length?e.native=(0,a.Ee)({},{request:JSON.stringify(r),ver:r.ver},e.native):(0,a.yN)("mediaTypes.native is set, but no assets were specified. Native request skipped.",n))}}},h[m.Px].native={fn:function(e,n){if(e.mediaType===u.B5){var t;if(t="string"==typeof n.adm?JSON.parse(n.adm):n.adm,!(0,a.PO)(t)||!Array.isArray(t.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:t}}}},h[m.DZ].video={fn:function(e,n,t){if(!t.mediaType||t.mediaType===u.pX){var r=(0,d.Z)(n,"mediaTypes.video");if(!(0,a.xb)(r)){var i=Object.fromEntries(Object.entries(r).filter((function(e){var n=(0,o.Z)(e,1)[0];return f.has(n)})));if(r.playerSize){var s=c(r.playerSize);s.length>1&&(0,a.yN)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(i,s[0])}var l=g[r.context];null!=l&&(i.placement=l),e.video=(0,a.Ee)(i,e.video)}}}},h[m.Px].video={fn:function(e,n,t){if(e.mediaType===u.pX){if((0,d.Z)(t.imp,"video.w")&&(0,d.Z)(t.imp,"video.h")){var o=[t.imp.video.w,t.imp.video.h];e.playerWidth=o[0],e.playerHeight=o[1]}n.adm&&(e.vastXml=n.adm),n.nurl&&(e.vastUrl=n.nurl)}}};var b=t(1283);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.context,t=void 0===n?{}:n,o=e.processors,r=void 0===o?O:o,s=e.overrides,d=void 0===s?{}:s,u=e.imp,c=e.request,l=e.bidResponse,f=e.response,g=new WeakMap;function p(e,n,t,o){var a;return function(){return null==a&&(a=function(){var a=t.bind(this,i(r()[e]||{},d[e]||{}));return n&&(a=n.bind(this,a)),function(){try{return a.apply(this,arguments)}catch(e){o.call.apply(o,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),a.apply(this,arguments)}}var v=p(m.DZ,u,(function(e,n,t){var o={};return e(o,n,t),o}),(function(e,n,t){(0,a.H)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:n,context:t})})),h=p(m.Z,c,(function(e,n,t,o){var r={imp:n};return e(r,t,o),r}),(function(e,n,t,o){throw(0,a.H)("Error while converting to ORTB request",{error:e,imps:n,bidderRequest:t,context:o}),e})),b=p(m.Px,l,(function(e,n,t){var o={};return e(o,n,t),o}),(function(e,n,t){(0,a.H)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:n,context:t})})),y=p(m.YC,f,(function(e,n,t,o){var r={bids:n};return e(r,t,o),r}),(function(e,n,t,o){throw(0,a.H)("Error while converting from ORTB response",{error:e,bidResponses:n,ortbResponse:t,context:o}),e}));return{toORTB:function(e){var n=e.bidderRequest,o=e.bidRequests,r=e.context,i=void 0===r?{}:r;o=o||n.bids;var s={req:Object.assign({bidRequests:o},t,i),imp:{}};s.req.impContext=s.imp;var d=o.map((function(e){var o=Object.assign({bidderRequest:n,reqContext:s.req},t,i),r=v(e,o);if(null!=r){if(r.hasOwnProperty("id"))return Object.assign(o,{bidRequest:e,imp:r}),s.imp[r.id]=o,r;(0,a.H)("Converted ORTB imp does not specify an id, ignoring bid request",e,r)}})).filter(Boolean),u=h(d,n,s.req);return s.req.bidderRequest=n,null!=u&&g.set(u,s),u},fromORTB:function(e){var n=e.request,t=e.response,o=g.get(n);if(null==o)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,{ortbRequest:n},t,e)}var i=Object.fromEntries((n.imp||[]).map((function(e){return[e.id,e]}))),s=(t.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(n){if(i.hasOwnProperty(n.impid)&&o.imp.hasOwnProperty(n.impid))return b(n,r(o.imp[n.impid],{imp:i[n.impid],seatbid:e,ortbResponse:t}));(0,a.H)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",n)}))})).filter(Boolean);return y(s,t,r(o.req))}}}var O=(0,a.HP)((function(){return(0,b.F)(h,(0,m.fP)(m.TP))}))},1283:function(e,n,t){t.d(n,{F:function(){return r}});var o=t(6372);function r(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i=n.shift(),a=n.length>1?r.apply(void 0,n):n[0];return Object.fromEntries(o.gm.map((function(e){return[e,Object.assign({},i[e],a[e])]})))}},5840:function(e,n,t){t.d(n,{R:function(){return i},e:function(){return r}});var o=t(4679),r={1:o.Mk,2:o.pX,4:o.B5};function i(e,n,t){if(!e.mediaType){var o=t.mediaType;if(!o&&!r.hasOwnProperty(n.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=o||r[n.mtype]}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[951],{9933:function(e,n,t){t.d(n,{X:function(){return y}});var o,r=t(1283),i=t(4942),a=t(3324),s=t(6372),d=t(265),u=t(4358),c=t(1021),l=t(6104),f=t(6475),g=t(9702),p=t(3193),m=t(8640),v=t(4679),h=(o={},(0,i.Z)(o,s.Z,{extPrebid:{fn:function(e,n){var t;(0,f.N)(e,"ext.prebid",(0,u.Ee)({auctiontimestamp:n.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(t=e.ext)||void 0===t?void 0:t.prebid)),p.vc.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var n,t;(0,f.N)(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,m.R)().version},null===(n=e.ext)||void 0===n||null===(t=n.prebid)||void 0===t?void 0:t.channel))}},extPrebidAliases:{fn:function(e,n,t){var o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).am,r=void 0===o?l.ZP:o;if(r.aliasRegistry[n.bidderCode]){var i=r.bidderRegistry[n.bidderCode];i&&i.getSpec().skipPbsAliasing||(0,f.N)(e,"ext.prebid.aliases.".concat(n.bidderCode),r.aliasRegistry[n.bidderCode])}}}}),(0,i.Z)(o,s.DZ,{params:{fn:g.j},adUnitCode:{fn:function(e,n){var t=n.adUnitCode;t&&(0,f.N)(e,"ext.prebid.adunitcode",t)}}}),(0,i.Z)(o,s.Px,{mediaType:{fn:c.P,priority:99},videoCache:{fn:function(e,n){if(e.mediaType===v.pX){var t=(0,d.Z)(n,"ext.prebid.cache.vastXml")||{},o=t.cacheId,r=t.url;if(!o||!r){var i=(0,d.Z)(n,"ext.prebid.targeting")||{},a=i.hb_uuid,s=i.hb_cache_host,u=i.hb_cache_path;a&&s&&u&&(o=a,r="https://".concat(s).concat(u,"?uuid=").concat(a))}o&&r&&Object.assign(e,{videoCacheKey:o,vastUrl:r})}},priority:-10},bidderCode:{fn:function(e,n,t){var o;e.bidderCode=t.seatbid.seat,e.adapterCode=(0,d.Z)(n,"ext.prebid.meta.adaptercode")||(null===(o=t.bidRequest)||void 0===o?void 0:o.bidder)||e.bidderCode}},pbsBidId:{fn:function(e,n){var t=(0,d.Z)(n,"ext.prebid.bidid");(0,u.d8)(t)&&(e.pbsBidId=t)}},adserverTargeting:{fn:function(e,n){var t=(0,d.Z)(n,"ext.prebid.targeting");(0,u.PO)(t)&&(e.adserverTargeting=t)}},extPrebidMeta:{fn:function(e,n){e.meta=(0,u.Ee)({},(0,d.Z)(n,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn:function(e,n){var t=(0,d.Z)(n,"ext.prebid.events.win");(0,u.d8)(t)&&(e.pbsWurl=t)}}}),(0,i.Z)(o,s.YC,{serverSideStats:{fn:function(e,n,t){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((function(e){var o=(0,a.Z)(e,2),r=o[0],i=o[1],s=(0,d.Z)(n,"ext.".concat(r,".").concat(t.bidderRequest.bidderCode));s&&(t.bidderRequest[i]=s,t.bidRequests.forEach((function(e){return e[i]=s})))}))}}}),o),b=t(4980),y=(0,u.HP)((function(){return(0,r.F)((0,b.T)(),h,(0,s.fP)(s.md))}))},1021:function(e,n,t){t.d(n,{E:function(){return s},P:function(){return d}});var o,r=t(4942),i=t(4679),a=t(5840),s=(o={},(0,r.Z)(o,i.Mk,"banner"),(0,r.Z)(o,i.B5,"native"),(0,r.Z)(o,i.pX,"video"),o);function d(e,n,t){var o,r,d=t.mediaType;d||(d=a.e.hasOwnProperty(n.mtype)?a.e[n.mtype]:null===(o=n.ext)||void 0===o||null===(r=o.prebid)||void 0===r?void 0:r.type,s.hasOwnProperty(d)||(d=i.Mk)),e.mediaType=d}},9702:function(e,n,t){t.d(n,{j:function(){return a}});var o=t(8653),r=t(6104),i=t(6475);function a(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.adUnit,d=a.bidderRequests,u=a.index,c=void 0===u?o.K.index:u,l=a.bidderRegistry,f=void 0===l?r.ZP.bidderRegistry:l,g=n.params,p=f[n.bidder];p&&p.getSpec().transformBidParams&&(s=s||c.getAdUnit(n),d=d||[t.bidderRequest],g=p.getSpec().transformBidParams(g,!0,s,d)),g&&(0,i.N)(e,"ext.prebid.bidder.".concat(n.bidder),g)}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[635],{9957:function(e,n,t){t.d(n,{Nh:function(){return i},fe:function(){return a}});var o=t(8640),r=t(1136);function i(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n===t)return e;var i=e;try{i=(0,o.R)().convertCurrency(e,n,t)}catch(e){if(!r)throw e}return i}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return[e.cpm,e.currency]},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return function(o,r){return null==e&&(e=r),t(o,r,e,n)}}();return(0,r.xI)((function(t){return n.apply(null,e(t))}))}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[213],{9865:function(e,n,t){function o(e,n,t){return t?e+n+"="+encodeURIComponent(t)+"&":e}t.d(n,{t:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[871],{8979:function(e,n,t){var o=t(4942),r=t(3324),i=t(9062),a=t(8640),s=t(4358),d=t(265),u=t(5686),c=t(7055),l=t(154),f=t(2797),g=t(9885),p=t(3193),m=t(4679),v=t(4614),h=t(8653),b=t(5644),y="hb_pb_cat_dur",O="hb_cache_id",_=50,E=5,I=function(){var e={};return{addBid:function(n){e[n.auctionId]||function(n){var t,o,r;e[n]={},e[n].bidStorage=new Set,e[n].queueDispatcher=(t=_,r=1,function(e,n,i,a){var s=this,d=function(){A.call(s,e,n,i)};clearTimeout(o),a?r=1:r===E?(r=1,d()):(r++,o=setTimeout(d,t))}),e[n].initialCacheKey=(0,s.DO)()}(n.auctionId),e[n.auctionId].bidStorage.add(n)},removeBid:function(n){e[n.auctionId].bidStorage.delete(n)},getBids:function(n){return e[n.auctionId]&&e[n.auctionId].bidStorage.values()},getQueueDispatcher:function(n){return e[n.auctionId]&&e[n.auctionId].queueDispatcher},setupInitialCacheKey:function(n){e[n.auctionId]||(e[n.auctionId]={},e[n.auctionId].initialCacheKey=(0,s.DO)())},getInitialCacheKey:function(n){return e[n.auctionId]&&e[n.auctionId].initialCacheKey}}}();function w(e,n){var t,o=I.getInitialCacheKey(e),r=(0,d.Z)(e,"video.durationBucket"),i=function(e){var n;if(p.vc.getConfig("adpod.prioritizeDeals")&&(0,d.Z)(e,"video.dealTier")){var t=p.vc.getConfig("adpod.dealTier.".concat(e.bidderCode,".prefix"));n=t?t+(0,d.Z)(e,"video.dealTier"):(0,d.Z)(e,"video.dealTier")}else{var o=(0,u.RH)(e);n=(0,u.dg)(o)(e)}return n}(e);if(n){var a=(0,d.Z)(e,"meta.adServerCatId");t="".concat(i,"_").concat(a,"_").concat(r,"s")}else t="".concat(i,"_").concat(r,"s");e.adserverTargeting||(e.adserverTargeting={}),e.adserverTargeting.hb_pb_cat_dur=t,e.adserverTargeting.hb_cache_id=o,e.videoCacheKey=o,e.customCacheKey="".concat(t,"_").concat(o)}function A(e,n,t){!function(e){for(var n=0;n<e.length;n++)I.removeBid(e[n])}(n),(0,g.h)(n,(function(o,r){if(o)(0,s.yN)("Failed to save to the video cache: ".concat(o,". Video bid(s) must be discarded."));else for(var i=0;i<r.length;i++)""!==r[i].uuid?(0,u.lU)(e,n[i]):(0,s.PN)("Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ".concat(n[i].customCacheKey,". Bid was: "),n[i]),t()}))}function C(e,n){(0,g.h)(e,(function(t,o){if(t)n(t,null);else{for(var r=[],i=0;i<o.length;i++)""!==o[i]&&r.push(e[i]);n(null,r)}}))}function S(e,n){return e.adserverTargeting[b.TD.PRICE_BUCKET]/e.video.durationBucket<n.adserverTargeting[b.TD.PRICE_BUCKET]/n.video.durationBucket?1:e.adserverTargeting[b.TD.PRICE_BUCKET]/e.video.durationBucket>n.adserverTargeting[b.TD.PRICE_BUCKET]/n.video.durationBucket?-1:0}function T(e){return h.K.getAdUnits().filter((function(e){return(0,d.Z)(e,"mediaTypes.video.context")===m.Oh})).filter((function(n){return!(e.length>0)||-1!=e.indexOf(n.code)}))}function D(e,n){var t=n.map((function(e){return e.code}));return e.filter((function(e){return-1!=t.indexOf(e.adUnitCode)&&e.video&&e.video.context===m.Oh}))}p.vc.getConfig("adpod",(function(e){return function(e){void 0!==e.bidQueueTimeDelay&&("number"==typeof e.bidQueueTimeDelay&&e.bidQueueTimeDelay>0?_=e.bidQueueTimeDelay:(0,s.yN)("Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ".concat(_))),void 0!==e.bidQueueSizeLimit&&("number"==typeof e.bidQueueSizeLimit&&e.bidQueueSizeLimit>0?E=e.bidQueueSizeLimit:(0,s.yN)("Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ".concat(E)))}(e.adpod)})),(0,f.o0)((0,f.v5)("callPrebidCache"),(function(e,n,t,o,r){if(r&&r.context===m.Oh){var i=p.vc.getConfig("adpod.brandCategoryExclusion");!(0,d.Z)(t,"meta.adServerCatId")&&i?((0,s.yN)("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",t),o()):!1===p.vc.getConfig("adpod.deferCaching")?(I.addBid(t),w(t,i),function(e,n,t){var o=I.getBids(n);if(o){var r=(0,v.Oc)(o),i=I.getQueueDispatcher(n),a=!(e.getAuctionStatus()===u.Yw);i(e,r,t,a)}else(0,s.yN)("Attempted to cache a bid from an unknown auction. Bid:",n)}(n,t,o)):(I.setupInitialCacheKey(t),w(t,i),(0,u.lU)(n,t),o())}else e.call(this,n,t,o,r)})),(0,f.o0)(c.O5,(function(e,n){var t=n.filter((function(e){var n=(0,d.Z)(e,"mediaTypes"),t=(0,d.Z)(n,"video");if(t&&t.context===m.Oh){if(Object.keys(n).length>1)return(0,s.yN)("Detected more than one mediaType in adUnitCode: ".concat(e.code," while attempting to define an 'adpod' video adUnit.  'adpod' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.")),!1;var o="Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ".concat(e.code,".  This adUnit will be removed from the auction."),r=!!(t.playerSize&&((0,s.HC)(t.playerSize,2)||(0,s.kJ)(t.playerSize)&&t.playerSize.every((function(e){return(0,s.HC)(e,2)})))||t.sizeConfig),i=!!(t.adPodDurationSec&&(0,s.hj)(t.adPodDurationSec)&&t.adPodDurationSec>0),a=!!(t.durationRangeSec&&(0,s.HC)(t.durationRangeSec)&&t.durationRangeSec.every((function(e){return e>0})));if(!r||!i||!a)return o+=r?"":"\nmediaTypes.video.playerSize",o+=i?"":"\nmediaTypes.video.adPodDurationSec",o+=a?"":"\nmediaTypes.video.durationRangeSec",(0,s.yN)(o),!1}return!0}));n=t,e.call(this,n)})),(0,f.o0)(l.hD,(function(e,n,t,o,r){if(r===m.Oh){var a=!0;if(p.vc.getConfig("adpod.brandCategoryExclusion")&&!(0,d.Z)(n,"meta.primaryCatId")&&(a=!1),(0,d.Z)(n,"video"))if((0,d.Z)(n,"video.context")&&n.video.context===m.Oh||(a=!1),!(0,d.Z)(n,"video.durationSeconds")||n.video.durationSeconds<=0)a=!1;else{var u=function(e,n){var t=(0,d.Z)(n,"video.durationSeconds"),o=e.durationRangeSec;if(o.sort((function(e,n){return e-n})),e.requireExactDuration){if(!(0,v.sE)(o,(function(e){return e===t})))return(0,s.yN)("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",n),!1;n.video.durationBucket=t}else{var r=Math.max.apply(Math,(0,i.Z)(o));if(!(t<=r+2))return(0,s.yN)("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",n),!1;var a=(0,v.sE)(o,(function(e){return e+2>=t}));n.video.durationBucket=a}return!0}(o,n);u||(a=!1)}p.vc.getConfig("cache.url")||!n.vastXml||n.vastUrl||((0,s.H)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),a=!1),e.bail(a)}else e.call(this,n,t,o,r)}));var P={TARGETING_KEY_PB_CAT_DUR:y,TARGETING_KEY_CACHE_ID:O,getTargeting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.codes,t=e.callback;if(t){var i=T(n=n||[]),a=h.K.getBidsReceived(),u=p.vc.getConfig("adpod.brandCategoryExclusion"),c=p.vc.getConfig("adpod.deferCaching"),l="boolean"!=typeof c||c,f=D(a,i);if(f=u||l?function(e){var n=e.map((function(e){return Object.assign({},e,(0,o.Z)({},y,e.adserverTargeting.hb_pb_cat_dur))}));n=(0,s.vM)(n,y);var t=[];return Object.keys(n).forEach((function(e){var o;n[e].sort((o="responseTimestamp",function(e,n){return e[o]<n[o]?1:e[o]>n[o]?-1:0})),t.push(n[e][0])})),t}(f):f,p.vc.getConfig("adpod.prioritizeDeals")){var g=f.reduce((function(e,n){var t=(0,d.Z)(n,"video.dealTier"),o=p.vc.getConfig("adpod.dealTier.".concat(n.bidderCode,".minDealTier"));return o&&t?t>=o?e[1].push(n):e[0].push(n):t?e[1].push(n):e[0].push(n),e}),[[],[]]),m=(0,r.Z)(g,2),v=m[0],b=m[1];b.sort(S),v.sort(S),f=b.concat(v)}else f.sort(S);var _={};if(!1===l)i.forEach((function(e){var n=[],t=(0,d.Z)(e,"mediaTypes.video.adPodDurationSec");f.filter((function(n){return n.adUnitCode===e.code})).forEach((function(e,r,i){e.video.durationBucket<=t&&(n.push((0,o.Z)({},y,e.adserverTargeting.hb_pb_cat_dur)),t-=e.video.durationBucket),r===i.length-1&&n.length>0&&n.push((0,o.Z)({},O,e.adserverTargeting.hb_cache_id))})),_[e.code]=n})),t(null,_);else{var E=[];i.forEach((function(e){var n=(0,d.Z)(e,"mediaTypes.video.adPodDurationSec");f.filter((function(n){return n.adUnitCode===e.code})).forEach((function(e){e.video.durationBucket<=n&&(E.push(e),n-=e.video.durationBucket)}))})),C(E,(function(e,n){if(e)t(e,null);else{var r=(0,s.vM)(n,"adUnitCode");Object.keys(r).forEach((function(e){var n=[];r[e].forEach((function(e,t,r){n.push((0,o.Z)({},y,e.adserverTargeting.hb_pb_cat_dur)),t===r.length-1&&n.length>0&&n.push((0,o.Z)({},O,e.adserverTargeting.hb_cache_id))})),_[e]=n})),t(null,_)}}))}return _}(0,s.H)("No callback function was defined in the getTargeting call.  Aborting getTargeting().")}};Object.freeze(P),(0,f.bA)("adpod",(function(){(0,s.PO)(arguments.length<=0?void 0:arguments[0])?function(e,n){for(var t in n)e[t]=n[t]}(arguments.length<=0?void 0:arguments[0],P):(0,s.H)("Adpod module needs plain object to share methods with submodule")})),(0,a.z)("adpod")}},function(e){e(e.s=8979)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[864],{6319:function(e,n,t){var o=t(1002),r=t(9062),i=t(8640),a=t(4358),s=t(265),d=t(5706),u=t(3193),c=t(4699),l=t(4679),f=t(4614),g=t(154),p=t(5164),m=t(5975),v=t(7673),h=t(59),b=t(4292),y=t(9050),O=t(7374),_=t(5370),E=t(6296),I="appnexus",w=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],A=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],C=["age","externalUid","external_uid","segments","gender","dnt","language"],S=["geo","device_id"],T=["enabled","dongle","member_id","debug_timeout"],D={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},P={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},N={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},M=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,U=(0,p.df)({bidderCode:I}),R={code:I,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32}],supportedMediaTypes:[l.Mk,l.pX,l.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,n){var t,o,i=(e=(0,h.lY)(e)).map(L),s=(0,f.sE)(e,F),d={};!0===u.vc.getConfig("coppa")&&(d={coppa:!0}),s&&Object.keys(s.params.user).filter((function(e){return(0,f.q9)(C,e)})).forEach((function(e){var n=(0,O.G)(e);if("segments"===e&&(0,a.kJ)(s.params.user[e])){var t=[];s.params.user[e].forEach((function(e){(0,a.hj)(e)?t.push({id:e}):(0,a.PO)(e)&&t.push(e)})),d[n]=t}else"segments"!==e&&(d[n]=s.params.user[e])}));var c,l=(0,f.sE)(e,j);l&&l.params&&l.params.app&&(c={},Object.keys(l.params.app).filter((function(e){return(0,f.q9)(S,e)})).forEach((function(e){return c[e]=l.params.app[e]})));var g,p=(0,f.sE)(e,B);p&&p.params&&l.params.app&&l.params.app.id&&(g={appid:p.params.app.id});var m={},b={},I=U.getCookie("apn_prebid_debug")||null;if(I)try{m=JSON.parse(I)}catch(e){(0,a.H)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(D).forEach((function(e){var n=(0,a.ak)(e);(0,a.d8)(n)&&""!==n&&(m[D[e]]=n,m.enabled=!0)})),m=(0,_.u)({member_id:"number",debug_timeout:"number"},m);var w=(0,f.sE)(e,G);w&&w.debug&&(m=w.debug)}m&&m.enabled&&Object.keys(m).filter((function(e){return(0,f.q9)(T,e)})).forEach((function(e){b[e]=m[e]}));var A=(0,f.sE)(e,x),P=A?parseInt(A.params.member,10):0,N=e[0].schain,M=(0,f.sE)(e,Z),R={tags:(0,r.Z)(i),user:d,sdk:{source:"pbjs",version:"8.18.0"},schain:N};M&&(R.iab_support={omidpn:"Appnexus",omidpv:"8.18.0"}),P>0&&(R.member_id=P),l&&(R.device=c),p&&(R.app=g);var k=(0,a.I8)(n&&n.ortb2),H=(0,a.I8)(u.vc.getConfig("appnexusAuctionKeywords"))||{},q=(0,y.bn)(k,H);if(q.length>0&&(R.keywords=q),u.vc.getConfig("adpod.brandCategoryExclusion")&&(R.brand_category_uniqueness=!0),b.enabled&&(R.debug=b,(0,a.PN)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(b,null,4))),n&&n.gdprConsent&&(R.gdpr_consent={consent_string:n.gdprConsent.consentString,consent_required:n.gdprConsent.gdprApplies},n.gdprConsent.addtlConsent&&-1!==n.gdprConsent.addtlConsent.indexOf("~"))){var z=n.gdprConsent.addtlConsent,K=z.substring(z.indexOf("~")+1);R.gdpr_consent.addtl_consent=K.split(".").map((function(e){return parseInt(e,10)}))}if(n&&n.uspConsent&&(R.us_privacy=n.uspConsent),null!=n&&n.gppConsent?R.privacy={gpp:n.gppConsent.gppString,gpp_sid:n.gppConsent.applicableSections}:null!=n&&null!==(t=n.ortb2)&&void 0!==t&&null!==(o=t.regs)&&void 0!==o&&o.gpp&&(R.privacy={gpp:n.ortb2.regs.gpp,gpp_sid:n.ortb2.regs.gpp_sid}),n&&n.refererInfo){var J={rd_ref:encodeURIComponent(n.refererInfo.topmostLocation),rd_top:n.refererInfo.reachedTop,rd_ifs:n.refererInfo.numIframes,rd_stk:n.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")},X=n.refererInfo.canonicalUrl;(0,a.d8)(X)&&""!==X&&(J.rd_can=X),R.referrer_detection=J}if((0,f.sE)(e,V)&&e.filter(V).forEach((function(e){var n=function(e,n){var t=n.mediaTypes.video,o=t.durationRangeSec,i=t.requireExactDuration,a=function(e){var n=e.adPodDurationSec,t=e.durationRangeSec,o=e.requireExactDuration,i=Math.min.apply(Math,(0,r.Z)(t)),a=Math.floor(n/i);return o?Math.max(a,t.length):a}(n.mediaTypes.video),s=Math.max.apply(Math,(0,r.Z)(o)),d=e.filter((function(e){return e.uuid===n.bidId})),u=O.h.apply(void 0,(0,r.Z)(d).concat([a]));if(i){var c=Math.ceil(a/o.length),l=(0,E.y)(u,c);o.forEach((function(e,n){l[n].map((function(n){W(n,"minduration",e),W(n,"maxduration",e)}))}))}else u.map((function(e){return W(e,"maxduration",s)}));return u}(i,e),t=R.tags.filter((function(n){return n.uuid!==e.bidId}));R.tags=[].concat((0,r.Z)(t),(0,r.Z)(n))})),e[0].userId){var Y=[];e[0].userIdAsEids.forEach((function(e){!e||!e.uids||e.uids.length<1||e.uids.forEach((function(n){var t={source:e.source,id:n.id};"adserver.org"==e.source?t.rti_partner="TDID":"uidapi.com"==e.source&&(t.rti_partner="UID2"),Y.push(t)}))})),Y.length&&(R.eids=Y)}i[0].publisher_id&&(R.publisher_id=i[0].publisher_id);var Q=function(e,n){var t=[],o={withCredentials:!0},r="https://ib.adnxs.com/ut/v3/prebid";if((0,v.h)(null==n?void 0:n.gdprConsent)||(r="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,a.ak)("apn_test").toUpperCase()&&!0!==u.vc.getConfig("apn_test")||(o.customHeaders={"X-Is-Test":1}),e.tags.length>15){var i=(0,a.I8)(e);(0,E.y)(e.tags,15).forEach((function(e){i.tags=e;var a=JSON.stringify(i);t.push({method:"POST",url:r,data:a,bidderRequest:n,options:o})}))}else{var s=JSON.stringify(e);t={method:"POST",url:r,data:s,bidderRequest:n,options:o}}return t}(R,n);return Q},interpretResponse:function(e,n){var t=this,o=n.bidderRequest;e=e.body;var r=[];if(!e||e.error){var i="in response for ".concat(o.bidderCode," adapter");return e&&e.error&&(i+=": ".concat(e.error)),(0,a.H)(i),r}if(e.tags&&e.tags.forEach((function(e){var n,i=(n=e)&&n.ads&&n.ads.length&&(0,f.sE)(n.ads,(function(e){return e.rtb}));if(i&&(!0===m.S.get(o.bidderCode,"allowZeroCpmBids")?i.cpm>=0:i.cpm>0)&&(0,f.q9)(t.supportedMediaTypes,i.ad_type)){var u=function(e,n,t){var o=(0,a.zE)(e.uuid,[t]),r=(0,a._d)(),i={adId:r,requestId:e.uuid,cpm:n.cpm,creativeId:n.creative_id,dealId:n.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:o.adUnitCode,appnexus:{buyerMemberId:n.buyer_member_id,dealPriority:n.deal_priority,dealCode:n.deal_code}};if(n.adomain&&(i.meta=Object.assign({},i.meta,{advertiserDomains:[n.adomain]})),n.advertiser_id&&(i.meta=Object.assign({},i.meta,{advertiserId:n.advertiser_id})),n.buyer_member_id&&(i.meta=Object.assign({},i.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(n)})),n.brand_id&&(i.meta=Object.assign({},i.meta,{brandId:n.brand_id})),n.rtb.video)switch(Object.assign(i,{width:n.rtb.video.player_width,height:n.rtb.video.player_height,vastImpUrl:n.notify_url,ttl:3600}),(0,s.Z)(o,"mediaTypes.video.context")){case l.Oh:var u=b.m[n.brand_category_id]?b.m[n.brand_category_id]:null;i.meta=Object.assign({},i.meta,{primaryCatId:u});var c=n.deal_priority;i.video={context:l.Oh,durationSeconds:Math.floor(n.rtb.video.duration_ms/1e3),dealTier:c},i.vastUrl=n.rtb.video.asset_url;break;case g.gZ:if(i.adResponse=e,i.adResponse.ad=i.adResponse.ads[0],i.adResponse.ad.video=i.adResponse.ad.rtb.video,i.vastXml=n.rtb.video.content,n.renderer_url){var p=(0,f.sE)(t.bids,(function(n){return n.bidId===e.uuid})),m=(0,s.Z)(p,"mediaTypes.video.renderer.options");m||(m=(0,s.Z)(p,"renderer.options")),i.renderer=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=d.Th.install({id:n.renderer_id,url:n.renderer_url,config:t,loaded:!1,adUnitCode:e});try{o.setRender(H)}catch(e){(0,a.yN)("Prebid Error calling setRender on renderer",e)}return o.setEventHandlers({impression:function(){return(0,a.ji)("AppNexus outstream video impression event")},loaded:function(){return(0,a.ji)("AppNexus outstream video loaded event")},ended:function(){(0,a.ji)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),o}(i.adUnitCode,n,m)}break;case g.LD:i.vastUrl=n.notify_url+"&redir="+encodeURIComponent(n.rtb.video.asset_url)}else if(n.rtb[l.B5]){var v,h=n.rtb[l.B5];if(function(e){if(!e||""===e)return!1;var n=e.match(M),t=null!=n&&n.length>=1,o=e.match("trk.js"),r=null!=o&&o.length>=1;return e.startsWith("<script")&&r&&t}(n.viewability.config)){var y="pbjs_adid="+r+";pbjs_auc="+o.adUnitCode;v=n.viewability.config.replace("dom_id=%native_dom_id%",y)}var O=h.javascript_trackers;null==O?O=v:(0,a.d8)(O)?O=[O,v]:O.push(v),i[l.B5]={title:h.title,body:h.desc,body2:h.desc2,cta:h.ctatext,rating:h.rating,sponsoredBy:h.sponsored,privacyLink:h.privacy_link,address:h.address,downloads:h.downloads,likes:h.likes,phone:h.phone,price:h.price,salePrice:h.saleprice,clickUrl:h.link.url,displayUrl:h.displayurl,clickTrackers:h.link.click_trackers,impressionTrackers:h.impression_trackers,video:h.video,javascriptTrackers:O},h.main_img&&(i.native.image={url:h.main_img.url,height:h.main_img.height,width:h.main_img.width}),h.icon&&(i.native.icon={url:h.icon.url,height:h.icon.height,width:h.icon.width})}else{Object.assign(i,{width:n.rtb.banner.width,height:n.rtb.banner.height,ad:n.rtb.banner.content});try{if(n.rtb.trackers)for(var _=0;_<n.rtb.trackers[0].impression_urls.length;_++){var E=n.rtb.trackers[0].impression_urls[_],I=(0,a.SG)(E);i.ad+=I}}catch(e){(0,a.H)("Error appending tracking pixel",e)}}return i}(e,i,o);u.mediaType=function(e){var n=e.ad_type;return n===l.pX?l.pX:n===l.B5?l.B5:l.Mk}(i),r.push(u)}})),e.debug&&e.debug.debug_info){var u="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;u=u.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,a.ji)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,a.ji)(u)}return r},getUserSyncs:function(e,n,t,o,r){if(e.iframeEnabled&&(0,v.h)(t)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((function(e){return"number"==typeof e&&e<=5}))}(r))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,n,t,o){var r=y.Bq;if(!0===n){var i=null,d=u.vc.getConfig("s2sConfig");(0,a.PO)(d)?i=(0,s.Z)(d,"endpoint.p1Consent"):(0,a.kJ)(d)&&d.forEach((function(e){(0,f.q9)(e.bidders,t.bids[0].bidder)&&(i=(0,s.Z)(e,"endpoint.p1Consent"))})),i&&i.match("/openrtb2/prebid")&&(r=z)}return e=(0,_.u)({member:"string",invCode:"string",placementId:"number",keywords:r,publisherId:"number"},e),n&&(Object.keys(e).forEach((function(n){var t=(0,O.G)(n);t!==n&&(e[t]=e[n],delete e[n])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function L(e){var n,t={};Object.keys(e.params).forEach((function(n){var t=(0,O.G)(n);t!==n&&(e.params[t]=e.params[n],delete e.params[n])})),t.sizes=k(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code,t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;var o=function(e){if(!(0,a.LQ)(e.getFloor))return e.params.reserve?e.params.reserve:null;var n=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,a.PO)(n)&&!isNaN(n.floor)&&"USD"===n.currency?n.floor:null}(e);if(o&&(t.reserve=o),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{var r=(0,s.Z)(e,"mediaTypes.banner.pos")||(0,s.Z)(e,"mediaTypes.video.pos");0!==r&&1!==r&&3!==r||(t.position=3===r?2:r)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=k(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);var i=(0,y.gw)((0,y.cM)((0,s.Z)(e,"ortb2Imp.ext.data.keywords")),null===(n=e.params)||void 0===n?void 0:n.keywords);i.length>0&&(t.keywords=i);var d,u,c=(0,s.Z)(e,"ortb2Imp.ext.gpid")||(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot");if(c&&(t.gpid=c),(e.mediaType===l.B5||(0,s.Z)(e,"mediaTypes.".concat(l.B5)))&&(t.ad_types.push(l.B5),0===t.sizes.length&&(t.sizes=k([1,1])),e.nativeParams)){var g=(d=e.nativeParams,u={},Object.keys(d).forEach((function(e){var n=N[e]&&N[e].serverName||N[e]||e,t=N[e]&&N[e].requiredParams;if(u[n]=Object.assign({},t,d[e]),(n===N.image.serverName||n===N.icon.serverName)&&u[n].sizes){var o=u[n].sizes;((0,a.HC)(o)||(0,a.kJ)(o)&&o.length>0&&o.every((function(e){return(0,a.HC)(e)})))&&(u[n].sizes=k(u[n].sizes))}n===N.privacyLink&&(u.privacy_supported=!0)})),u);t[l.B5]={layouts:[g]}}var p=(0,s.Z)(e,"mediaTypes.".concat(l.pX)),m=(0,s.Z)(e,"mediaTypes.video.context");return t.hb_source=p&&"adpod"===m?7:1,(e.mediaType===l.pX||p)&&t.ad_types.push(l.pX),(e.mediaType===l.pX||p&&"outstream"!==m)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return(0,f.q9)(w,e)})).forEach((function(n){switch(n){case"context":case"playback_method":var o=e.params.video[n];o=(0,a.kJ)(o)?o[0]:o,t.video[n]=P[n][o];break;case"frameworks":break;default:t.video[n]=e.params.video[n]}})),e.params.video.frameworks&&(0,a.kJ)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),p&&(t.video=t.video||{},Object.keys(p).filter((function(e){return(0,f.q9)(A,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=p[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===p[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=p[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var n=p[e];(n=(0,a.kJ)(n)?n[0]:n)>=1&&n<=4&&(t.video.playback_method=n)}break;case"api":if(!t.video_frameworks&&(0,a.kJ)(p[e])){var o=p[e].map((function(e){var n=4===e?5:5===e?4:e;if(n>=1&&n<=5)return n})).filter((function(e){return e}));t.video_frameworks=o}break;case"startdelay":case"placement":if("number"!=typeof t.video.context){var r=p.placement,i=p.startdelay,s=function(e){if(e)return 2===e?"in-banner":e>2?"outstream":void 0}(r)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(i);t.video.context=P.context[s]}}}))),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,a.kJ)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks),(0,s.Z)(e,"mediaTypes.".concat(l.Mk))&&t.ad_types.push(l.Mk),0===t.ad_types.length&&delete t.ad_types,t}function k(e){var n=[],t={};if((0,a.kJ)(e)&&2===e.length&&!(0,a.kJ)(e[0]))t.width=parseInt(e[0],10),t.height=parseInt(e[1],10),n.push(t);else if("object"===(0,o.Z)(e))for(var r=0;r<e.length;r++){var i=e[r];(t={}).width=parseInt(i[0],10),t.height=parseInt(i[1],10),n.push(t)}return n}function F(e){return!!e.params.user}function x(e){return!!parseInt(e.params.member,10)}function j(e){if(e.params)return!!e.params.app}function B(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function G(e){return!!e.debug}function V(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===l.Oh}function Z(e){var n=!1,t=e.params,o=e.params.video;return t.frameworks&&(0,a.kJ)(t.frameworks)&&(n=(0,f.q9)(e.params.frameworks,6)),!n&&o&&o.frameworks&&(0,a.kJ)(o.frameworks)&&(n=(0,f.q9)(e.params.video.frameworks,6)),n}function W(e,n,t){(0,a.xb)(e.video)&&(e.video={}),e.video[n]=t}function H(e,n){!function(e){try{var n=document.getElementById(e).querySelectorAll("div[id^='google_ads']");n[0]&&n[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var n=document.getElementById(e).querySelectorAll("script[id^='sas_script']");n[0].nextSibling&&"iframe"===n[0].nextSibling.localName&&n[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){((null==n?void 0:n.defaultView)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},q.bind(null,e))}))}function q(e,n,t){e.renderer.handleVideoEvent({id:n,eventName:t})}function z(e){var n="";return Object.keys(e).forEach((function(t){(0,a.d8)(e[t])?""!==e[t]?n+="".concat(t,"=").concat(e[t],","):n+="".concat(t,","):(0,a.kJ)(e[t])&&(""===e[t][0]?n+="".concat(t,","):e[t].forEach((function(e){n+="".concat(t,"=").concat(e,",")})))})),n=n.substring(0,n.length-1)}(0,c.dX)(R),(0,i.z)("appnexusBidAdapter")},7673:function(e,n,t){t.d(n,{h:function(){return r}});var o=t(265);function r(e){return null==e||!e.gdprApplies||!0===(0,o.Z)(e,"vendorData.purpose.consents.1")}}},function(e){e.O(0,[402,157,277,284,190],(function(){return 6319,e(e.s=6319)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[156],{9496:function(e,n,t){var o=t(8640),r=t(3193),i=t(2797),a=t(8928),s=t(4358),d=t(5686),u=t(5164),c=t(9128),l=(0,u.eA)("categoryTranslation"),f="iabToFwMappingkey",g="iabToFwMappingkeyPub",p=(0,i.z3)("async",(function(e){"freewheel"===e&&v("https://cdn.jsdelivr.net/gh/prebid/category-mapping-file@1/freewheel-mapping.json",f)}),"registerAdserver");i.Cd.then((function(){return p()}));var m=(0,c.A)("categoryTranslation",(function(e,n,t,o){if(!t)return e.call(this,n,t,o);if(!r.vc.getConfig("adpod.brandCategoryExclusion"))return e.call(this,n,t,o);var i=r.vc.getConfig("brandCategoryTranslation.translationFile")?g:f;if(t.meta&&!t.meta.adServerCatId){var a=l.getDataFromLocalStorage(i);if(a){try{a=JSON.parse(a)}catch(e){(0,s.H)("Failed to parse translation mapping file")}t.meta.primaryCatId&&a.mapping&&a.mapping[t.meta.primaryCatId]?t.meta.adServerCatId=a.mapping[t.meta.primaryCatId].id:t.meta.adServerCatId=void 0}else(0,s.H)("Translation mapping data not found in local storage")}e.call(this,n,t,o)}));function v(e,n){(0,i.o0)(d.Yt,m,50);var t=l.getDataFromLocalStorage(n);try{(!(t=t?JSON.parse(t):void 0)||(0,s.AB)()>t.lastUpdated+864e5)&&(0,a.hj)(e,{success:function(e){try{(e=JSON.parse(e)).lastUpdated=(0,s.AB)(),l.setDataInLocalStorage(n,JSON.stringify(e))}catch(e){(0,s.H)("Failed to parse translation mapping file")}},error:function(){(0,s.H)("Failed to load brand category translation file.")}})}catch(e){(0,s.H)("Failed to parse translation mapping file")}}r.vc.getConfig("brandCategoryTranslation",(function(e){return function(e){e.translationFile&&v(e.translationFile,g)}(e.brandCategoryTranslation)})),(0,o.z)("categoryTranslation")}},function(e){e(e.s=9496)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[266],{5630:function(e,n,t){var o,r,i,a,s,d,u=t(1002),c=t(8640),l=t(4358),f=t(6475),g=t(3193),p=t(4516),m=t(4614),v=t(9128),h=t(6372),b=t(4078),y=t(2712),O=!1,_={iab:function(e){var n=e.onSuccess,t=e.onError,o=e.onEvent,r=(0,y.b6)({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});if(!r)return t("TCF2 CMP not found.");r.isDirect?(0,l.PN)("Detected CMP API is directly accessible, calling it now..."):(0,l.PN)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),r({command:"addEventListener",callback:function(e,r){(0,l.PN)("Received a response from CMP",e),r?(o(e),!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||w(e,{onSuccess:n,onError:t})):t("CMP unable to register callback function.  Please check CMP setup.")}})},static:function(e){var n=e.onSuccess,t=e.onError;w(a,{onSuccess:n,onError:t})}};function E(e){var n,t,i=!1,a=null,d=!1;function u(e){null!=a&&clearTimeout(a),i||null==e||(0===e?n():a=setTimeout(n,e))}function c(n,t,o){if(u(null),i=!0,p.rp.setConsentData(n),"function"==typeof e){for(var r=arguments.length,a=new Array(r>3?r-3:0),s=3;s<r;s++)a[s-3]=arguments[s];e.apply(void 0,[t,o].concat(a))}}if((0,m.q9)(Object.keys(_),o)){var l={onSuccess:function(e){return c(e,!1)},onError:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];c.apply(void 0,[null,!0,e].concat(t))},onEvent:function(e){t=e,d||(d=!0,null!=s&&u(s))}};n=function(){var e=function(e){c(e,!1,"".concat(d?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};w(t,{onSuccess:e,onError:function(){return e(A(void 0))}})},_[o](l),null!=s&&d||u(r)}else c(null,!1,"CMP framework (".concat(o,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var I=(0,v.g3)("gdpr",(function(e,n){var t;t=function(t,o){if(o){var r=l.yN;t&&(r=l.H,o="".concat(o," Canceling auction as per consentManagement config."));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];r.apply(void 0,[o].concat(a))}t?(e.stopTiming(),"function"==typeof n.bidsBackHandler?n.bidsBackHandler():(0,l.H)("Error executing bidsBackHandler")):e.call(this,n)},d?((0,l.PN)("User consent information already known.  Pulling internally stored information..."),t(!1)):E(t)}));function w(e,n){var t,o,r=n.onSuccess,a=n.onError;t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:i,o=e&&e.tcString,"boolean"==typeof t&&(!0!==t||o&&(0,l.d8)(o))?r(A(e)):a("CMP returned unexpected value during lookup process.",e)}function A(e){return d={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:i},e&&e.addtlConsent&&(0,l.d8)(e.addtlConsent)&&(d.addtlConsent=e.addtlConsent),d.apiVersion=2,d}g.vc.getConfig("consentManagement",(function(e){return function(e){var n;(e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))&&"object"===(0,u.Z)(e)?((0,l.d8)(e.cmpApi)?o=e.cmpApi:(o="iab",(0,l.PN)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,l.hj)(e.timeout)?r=e.timeout:(r=1e4,(0,l.PN)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),s=(0,l.hj)(e.actionTimeout)?e.actionTimeout:null,i=!0===e.defaultGdprScope,(0,l.PN)("consentManagement module has been activated..."),"static"===o&&((0,l.PO)(e.consentData)?(null!=(null===(n=a=e.consentData)||void 0===n?void 0:n.getTCData)&&(a=a.getTCData),r=0):(0,l.H)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),O||(0,c.R)().requestBids.before(I,50),O=!0,p.rp.enable(),E()):(0,l.yN)("consentManagement (gdpr) config not defined, exiting consent manager")}(e.consentManagement)})),b.S.before((function(e,n){return e(n.then((function(e){var n=p.rp.getConsentData();return n&&("boolean"==typeof n.gdprApplies&&(0,f.N)(e,"regs.ext.gdpr",n.gdprApplies?1:0),(0,f.N)(e,"user.ext.consent",n.consentString)),e})))})),(0,h.f8)({type:h.Z,name:"gdprAddtlConsent",fn:function(e,n){var t,o=null===(t=n.gdprConsent)||void 0===t?void 0:t.addtlConsent;o&&"string"==typeof o&&(0,f.N)(e,"user.ext.ConsentedProvidersSettings.consented_providers",o)}}),(0,c.z)("consentManagement")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors}},function(e){e.O(0,[968],(function(){return 5630,e(e.s=5630)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[168],{277:function(e,n,t){var o=t(1002),r=t(7326),i=t(9340),a=t(2963),s=t(1120);function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var o=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=(0,s.Z)(e)););return e}(e,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(arguments.length<3?e:t):r.value}},d.apply(this,arguments)}var u=t(3324),c=t(4942),l=t(8916),f=t(3144),g=t(5671),p=t(9062),m=t(8640),v=t(4358),h=t(6475),b=t(3193),y=t(4516),O=t(9128),_=t(4078),E=t(2712),I=t(8792),w=t(6310);function A(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,s.Z)(e);if(n){var r=(0,s.Z)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,a.Z)(this,t)}}function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e,n,t){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.set(e,t)}function D(e,n){var t=function(e,n,t){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.get(e)}(e,n);return function(e,n){if(n.set)return"__destrObj"in n||(n.__destrObj={set value(t){n.set.call(e,t)}}),n.__destrObj;if(!n.writable)throw new TypeError("attempted to set read only private field");return n}(e,t)}var P,N,M,U,R=!1;function L(e,n){var t=n.onSuccess,o=n.onError;new I.Z((function(n){return n(e())})).then(t,(function(e){e instanceof k?o.apply(void 0,[e.message].concat((0,p.Z)(e.args))):o("GPP error:",e)}))}var k=(0,f.Z)((function e(n,t){(0,g.Z)(this,e),this.message=n,this.args=null==t?[]:[t]})),F=new WeakMap,x=new WeakMap,j=new WeakMap,B=function(){function e(n,t){var o=this;(0,g.Z)(this,e),T(this,F,{writable:!0,value:void 0}),T(this,x,{writable:!0,value:void 0}),T(this,j,{writable:!0,value:[]}),(0,c.Z)(this,"initialized",!1),this.apiVersion=this.constructor.apiVersion,this.cmpVersion=t,this.cmp=t;var r=[0,1].map((function(e){return function(n){for(;(0,l.Z)(o,j).length;)(0,l.Z)(o,j).pop()[e](n)}})),i=(0,u.Z)(r,2);D(this,F).value=i[0],D(this,x).value=i[1]}return(0,f.Z)(e,[{key:"init",value:function(e){var n=this,t=this.updateWhenReady(e);return this.initialized||(this.initialized=!0,this.cmp({command:"addEventListener",callback:function(e,t){var o;null==t||t?"error"===(null==e||null===(o=e.pingData)||void 0===o?void 0:o.cmpStatus)?(0,l.Z)(n,x).call(n,new k('CMP status is "error"; please check CMP setup',e)):n.isCMPReady((null==e?void 0:e.pingData)||{})&&n.events.includes(null==e?void 0:e.eventName)&&(0,l.Z)(n,F).call(n,n.updateConsent(e.pingData)):(0,l.Z)(n,x).call(n,new k("Received error response from CMP",e))}})),t}},{key:"refresh",value:function(){return this.cmp({command:"ping"}).then(this.updateWhenReady.bind(this))}},{key:"updateConsent",value:function(e){return this.getGPPData(e).then((function(e){if(null==e||(0,v.xb)(e))throw new k("Received empty response from CMP",e);return q(e)})).then((function(e){return(0,v.PN)("Retrieved GPP consent from CMP:",e),e}))}},{key:"nextUpdate",value:function(){var e=this;return new I.Z((function(n,t){(0,l.Z)(e,j).push([n,t])}))}},{key:"updateWhenReady",value:function(e){return this.isCMPReady(e)?this.updateConsent(e):this.nextUpdate()}}],[{key:"register",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.apiVersion=e,this.CLIENTS[e]=this,n&&(this.CLIENTS.default=this)}},{key:"init",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.b6;return null==this.INST&&(this.INST=this.ping(n).catch((function(n){throw e.INST=null,n}))),this.INST.then((function(e){var n=(0,u.Z)(e,2),t=n[0],o=n[1];return[t,t.initialized?t.refresh():t.init(o)]}))}},{key:"ping",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.b6,t={apiName:"__gpp",apiArgs:["command","callback","parameter"]},o=n(S(S({},t),{},{mode:E.kX}));return new I.Z((function(r,i){if(null!=o){var a=!1,s=function(o,s){if(!a)if(null==s||s){if(null!=o){a=!0;var d=null==o?void 0:o.gppVersion,u=e.getClient(d);d!==u.apiVersion?(0,v.yN)("Unrecognized GPP CMP version: ".concat(d,". Continuing using GPP API version ").concat(u,"...")):(0,v.PN)("Using GPP version ".concat(d));var c="1.0"===u.apiVersion?E.sM:E.m1,l=new u(d,n(S(S({},t),{},{mode:c})));r([l,o])}}else i(o)};o({command:"ping",callback:s}).then((function(e){return s(e,!0)}),i)}else i(new k("GPP CMP not found"))})).finally((function(){o&&o.close()}))}},{key:"getClient",value:function(e){return this.CLIENTS.hasOwnProperty(e)?this.CLIENTS[e]:this.CLIENTS.default}}]),e}();(0,c.Z)(B,"CLIENTS",{}),(0,c.Z)(B,"INST",void 0);var G=function(e){(0,i.Z)(t,e);var n=A(t);function t(){var e;(0,g.Z)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),(0,c.Z)((0,r.Z)(e),"events",["sectionChange","cmpStatus"]),e}return(0,f.Z)(t,[{key:"isCMPReady",value:function(e){return"loaded"===e.cmpStatus}},{key:"getGPPData",value:function(e){var n=this,t=I.Z.all((e.supportedAPIs||e.apiSupport||[]).map((function(e){return n.cmp({command:"getSection",parameter:e}).catch((function(n){(0,v.yN)("Could not retrieve GPP section '".concat(e,"'"),n)})).then((function(n){return[e,n]}))}))).then((function(e){return Object.fromEntries(e.filter((function(e){var n=(0,u.Z)(e,2);return n[0],null!=n[1]})).map((function(e){var n=(0,u.Z)(e,2),t=n[0],o=n[1],r=[Object.fromEntries(Object.entries(o).filter((function(e){return"Gpc"!==(0,u.Z)(e,1)[0]})))];return null!=o.Gpc&&r.push({SubsectionType:1,Gpc:o.Gpc}),[t,r]})))}));return I.Z.all([this.cmp({command:"getGPPData"}),t]).then((function(e){var n=(0,u.Z)(e,2),t=n[0],o=n[1];return Object.assign({},t,{parsedSections:o})}))}}]),t}(B);d((0,s.Z)(G),"register",G).call(G,"1.0");var V=function(e){(0,i.Z)(t,e);var n=A(t);function t(){var e;(0,g.Z)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),(0,c.Z)((0,r.Z)(e),"events",["sectionChange","signalStatus"]),e}return(0,f.Z)(t,[{key:"isCMPReady",value:function(e){return"ready"===e.signalStatus}},{key:"getGPPData",value:function(e){return I.Z.resolve(e)}}]),t}(B);d((0,s.Z)(V),"register",V).call(V,"1.1",!0);var Z={iab:function(e){var n=e.onSuccess,t=e.onError,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.b6;L((function(){return B.init(o).then((function(e){var n=(0,u.Z)(e,2);return n[0],n[1]}))}),{onSuccess:n,onError:t})},static:function(e){return L((function(){return q(M)}),e)}};function W(e){var n=!1,t=null;function o(o,r,i){if(null!=t&&clearTimeout(t),n=!0,y.TJ.setConsentData(o),"function"==typeof e){for(var a=arguments.length,s=new Array(a>3?a-3:0),d=3;d<a;d++)s[d-3]=arguments[d];e.apply(void 0,[r,i].concat(s))}}if(Z.hasOwnProperty(P)){var r={onSuccess:function(e){return o(e,!1)},onError:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];o.apply(void 0,[null,!0,e].concat(t))}};if(Z[P](r),!n){var i=function(){var e=function(e){o(e,!1,"GPP CMP did not load, continuing auction...")};L((function(){return q(U)}),{onSuccess:e,onError:function(){return e(z())}})};0===N?i():t=setTimeout(i,N)}}else o(null,!1,"GPP CMP framework (".concat(P,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var H=(0,O.g3)("gpp",(function(e,n){var t;t=function(t,o){if(o){var r=v.yN;t&&(r=v.H,o="".concat(o," Canceling auction as per consentManagement config."));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];r.apply(void 0,[o].concat(a))}t?(e.stopTiming(),"function"==typeof n.bidsBackHandler?n.bidsBackHandler():(0,v.H)("Error executing bidsBackHandler")):e.call(this,n)},U?((0,v.PN)("User consent information already known.  Pulling internally stored information..."),t(!1)):W(t)}));function q(e){if(null!=(null==e?void 0:e.applicableSections)&&!Array.isArray(e.applicableSections)||null!=(null==e?void 0:e.gppString)&&!(0,v.d8)(e.gppString)||null!=(null==e?void 0:e.parsedSections)&&!(0,v.PO)(e.parsedSections))throw new k("CMP returned unexpected value during lookup process.",e);return z(e)}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U={gppString:null==e?void 0:e.gppString,applicableSections:(null==e?void 0:e.applicableSections)||[],parsedSections:(null==e?void 0:e.parsedSections)||{},gppData:e},y.TJ.setConsentData(e),U}b.vc.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.gpp)&&"object"===(0,o.Z)(e)?((0,v.d8)(e.cmpApi)?P=e.cmpApi:(P="iab",(0,v.PN)("consentManagement.gpp config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,v.hj)(e.timeout)?N=e.timeout:(N=1e4,(0,v.PN)("consentManagement.gpp config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"static"===P&&((0,v.PO)(e.consentData)?(M=e.consentData,N=0):(0,v.H)("consentManagement.gpp config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),(0,v.PN)("consentManagement.gpp module has been activated..."),R||((0,m.R)().requestBids.before(H,50),w.Ww.before((function(e,n){return e(Object.assign({gppConsent:y.TJ.getConsentData()},n))}))),R=!0,y.TJ.enable(),W()):(0,v.yN)("consentManagement.gpp config not defined, exiting consent manager module")}(e.consentManagement)})),_.S.before((function(e,n){return e(n.then((function(e){var n=y.TJ.getConsentData();return n&&(Array.isArray(n.applicableSections)&&(0,h.N)(e,"regs.gpp_sid",n.applicableSections),(0,h.N)(e,"regs.gpp",n.gppString)),e})))})),(0,m.z)("consentManagementGpp")}},function(e){e.O(0,[968],(function(){return 277,e(e.s=277)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[160],{9099:function(e,n,t){var o,r,i=t(1002),a=t(8640),s=t(4358),d=t(6475),u=t(3193),c=t(6104),l=t(4516),f=t(9128),g=t(2797),p=t(4078),m=t(2712),v="iab",h=v,b=50,y=!1,O={iab:function(e){var n,t=e.onSuccess,o=e.onError,r=(n={},{consentDataCallback:function(e,r){r&&e.uspString&&(n.usPrivacy=e.uspString),n.usPrivacy?I(n,{onSuccess:t,onError:o}):o("Unable to get USP consent string.")}}),i=(0,m.b6)({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]});if(!i)return o("USP CMP not found.");i.isDirect?(0,s.PN)("Detected USP CMP is directly accessible, calling it now..."):(0,s.PN)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),i({command:"getUSPData",callback:r.consentDataCallback}),i({command:"registerDeletion",callback:function(e,n){return(null==n||n)&&c.ZP.callDataDeletionRequest(e)}}).catch((function(e){(0,s.H)("Error invoking CMP `registerDeletion`:",e)}))},static:function(e){var n=e.onSuccess,t=e.onError;I(o,{onSuccess:n,onError:t})}};function _(e){var n=null,t=!1;function o(o,r){if(null!=n&&clearTimeout(n),t=!0,l.nX.setConsentData(o),null!=e){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];e.apply(void 0,[r].concat(a))}}if(O[h]){var r={onSuccess:o,onError:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];o.apply(void 0,[null,"".concat(e," Resuming auction without consent data as per consentManagement config.")].concat(t))}};O[h](r),t||(0===b?I(void 0,r):n=setTimeout(r.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),b))}else o(null,"USP framework (".concat(h,") is not a supported framework. Aborting consentManagement module and resuming auction."))}var E=(0,f.g3)("usp",(function(e,n){var t=this;y||w(),_((function(o){if(null!=o){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];s.yN.apply(void 0,[o].concat(i))}e.call(t,n)}))}));function I(e,n){var t=n.onSuccess,o=n.onError;e&&e.usPrivacy?(function(e){e&&e.usPrivacy&&(r=e.usPrivacy)}(e),t(r)):o("USPAPI returned unexpected value during lookup process.",e)}function w(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y||((0,s.PN)("USPAPI consentManagement module has been activated".concat(e?"":" using default values (api: '".concat(h,"', timeout: ").concat(b,"ms)"))),y=!0,l.nX.enable()),_()}u.vc.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.usp)&&"object"===(0,i.Z)(e)||(0,s.yN)("consentManagement.usp config not defined, using defaults"),e&&(0,s.d8)(e.cmpApi)?h=e.cmpApi:(h=v,(0,s.PN)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat(v,")."))),e&&(0,s.hj)(e.timeout)?b=e.timeout:(b=50,(0,s.PN)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===h&&((0,s.PO)(e.consentData)&&(0,s.PO)(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(o={usPrivacy:e.consentData.getUSPData.uspString}),b=0):(0,s.H)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),w(!0)}(e.consentManagement)})),(0,g.v5)("requestBids").before(E,50),p.S.before((function(e,n){return e(n.then((function(e){var n=l.nX.getConsentData();return n&&(0,d.N)(e,"regs.ext.us_privacy",n),e})))})),(0,a.z)("consentManagementUsp")}},function(e){e.O(0,[968],(function(){return 9099,e(e.s=9099)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[406],{241:function _(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9062),_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(8640),_src_utils_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4358),_src_utils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(265),_src_adloader_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5730),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4699),_src_config_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3193),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4679),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5164),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5102),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7673),_src_Renderer_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5706),_src_video_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(154),_src_ajax_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(8928);function _createForOfIteratorHelper(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var GVLID=91,ADAPTER_VERSION=36,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__.df)({bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=139,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",PUBLISHER_TAG_OUTSTREAM_SRC="https://static.criteo.net/js/ld/publishertag.renderer.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5],getUserSyncs:function(e,n,t,o){if(canFastBid(_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion")))return[];var r=(0,_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__.nH)(),i="criteoPrebidAdapter";if(e.iframeEnabled&&(0,_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__.h)(t)){var a=[];a.push("origin=".concat(i)),a.push("topUrl=".concat(r.domain)),t&&(t.gdprApplies&&a.push("gdpr=".concat(1==t.gdprApplies?1:0)),t.consentString&&a.push("gdpr_consent=".concat(t.consentString))),o&&a.push("us_privacy=".concat(o));var s=Math.random().toString(),d={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:i,requestId:s,tld:r.domain,topUrl:r.domain,version:"8.18.0".replace(/\./g,"_")};window.addEventListener("message",(function e(n){if(n.data&&"https://gum.criteo.com"==n.origin&&n.data.requestId===s){this.removeEventListener("message",e),n.stopImmediatePropagation();var t=n.data;t.optout?(deleteFromAllStorages(BUNDLE_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):t.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,t.bundle,GUID_RETENTION_TIME_HOUR)}}),!0);var u=JSON.stringify(d).replace(/"/g,"%22");return[{type:"iframe",url:"https://gum.criteo.com/syncframe?".concat(a.join("&"),"#").concat(u)}]}return[]},isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,n){var t,o,r,i,a=n.ortb2||{};Object.assign(n,{publisherExt:null===(t=a.site)||void 0===t?void 0:t.ext,userExt:null===(o=a.user)||void 0===o?void 0:o.ext,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.ceh"),coppa:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("coppa")});var s=_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion"),d=canFastBid(s);if(!publisherTagAvailable()&&d){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();var u=getFastBidUrl(s);setTimeout((function(){(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_6__.B)(u,BIDDER_CODE)}),n.timeout)}if(publisherTagAvailable()){var c=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,n,"8.18.0",{createOutstreamVideoRenderer:createOutstreamVideoRenderer});r=c.buildCdbUrl(),i=c.buildCdbRequest()}else{var l=buildContext(e,n);r=buildCdbUrl(l),i=buildCdbRequest(l,e,n)}if(i)return{method:"POST",url:r,data:i,bidRequests:e}},interpretResponse:function(e,n){var t=e.body||e;if(publisherTagAvailable()){var o=Criteo.PubTag.Adapters.Prebid.GetAdapter(n);if(o)return o.interpretResponse(t,n)}var r=[];return t&&t.slots&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.kJ)(t.slots)&&t.slots.forEach((function(o){var i=getAssociatedBidRequest(n.bidRequests,o);if(i){var a,s,d,u,c,l,f=i.bidId,g={requestId:f,cpm:o.cpm,currency:o.currency,netRevenue:!0,ttl:o.ttl||60,creativeId:o.creativecode,width:o.width,height:o.height,dealId:o.deal};if(null!==(a=t.ext)&&void 0!==a&&null!==(s=a.paf)&&void 0!==s&&s.transmission&&null!==(d=o.ext)&&void 0!==d&&null!==(u=d.paf)&&void 0!==u&&u.content_id){var p={content_id:o.ext.paf.content_id,transmission:e.ext.paf.transmission};g.meta=Object.assign({},g.meta,{paf:p})}o.adomain&&(g.meta=Object.assign({},g.meta,{advertiserDomains:[o.adomain].flat()})),null!==(c=o.ext)&&void 0!==c&&null!==(l=c.meta)&&void 0!==l&&l.networkName&&(g.meta=Object.assign({},g.meta,{networkName:o.ext.meta.networkName})),o.native?i.params.nativeCallback?g.ad=createNativeAd(f,o.native,i.params.nativeCallback):(g.native=createPrebidNativeAd(o.native),g.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5):o.video?(g.vastUrl=o.displayurl,g.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(i,"mediaTypes.video.context")===_src_video_js__WEBPACK_IMPORTED_MODULE_9__.gZ&&(g.renderer=createOutstreamVideoRenderer(o))):g.ad=o.creative,r.push(g)}})),r},onTimeout:function(e){if(publisherTagAvailable()&&Array.isArray(e)){var n=[];e.forEach((function(e){-1===n.indexOf(e.auctionId)&&(n.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))}},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)},onDataDeletionRequest:function(e){var n=readFromAllStorages(BUNDLE_COOKIE_NAME);n&&(deleteFromAllStorages(BUNDLE_COOKIE_NAME),(0,_src_ajax_js__WEBPACK_IMPORTED_MODULE_10__.hj)("https://privacy.criteo.com/api/privacy/datadeletionrequest",null,JSON.stringify({publisherUserId:n}),{contentType:"application/json",method:"POST"}))}};function readFromAllStorages(e){var n=storage.getCookie(e),t=storage.getDataFromLocalStorage(e);return n||t||void 0}function saveOnAllStorages(e,n,t){var o=new Date;o.setTime(o.getTime()+60*t*60*1e3);var r="expires=".concat(o.toUTCString());storage.setCookie(e,n,r),storage.setDataInLocalStorage(e,n)}function deleteFromAllStorages(e){storage.setCookie(e,"",0),storage.removeDataFromLocalStorage(e)}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,n){var t,o="";n&&n.refererInfo&&(o=n.refererInfo.page);var r=(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.en)(null==n||null===(t=n.refererInfo)||void 0===t?void 0:t.topmostLocation).search,i={url:o,debug:"1"===r.pbt_debug,noLog:"1"===r.pbt_nolog,amp:!1};return e.forEach((function(e){"amp"===e.params.integrationMode&&(i.amp=!0)})),i}function buildCdbUrl(e){var n=CDB_ENDPOINT;n+="?profileId="+PROFILE_ID_INLINE,n+="&av="+String(ADAPTER_VERSION),n+="&wv="+encodeURIComponent("8.18.0"),n+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?n+="&lsavail=1":n+="&lsavail=0",e.amp&&(n+="&im=1"),e.debug&&(n+="&debug=1"),e.noLog&&(n+="&nolog=1");var t=readFromAllStorages(BUNDLE_COOKIE_NAME);return t&&(n+="&bundle=".concat(t)),readFromAllStorages(OPTOUT_COOKIE_NAME)&&(n+="&optout=1"),n}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,n,t){var o,r,i,a,s,d,u,c,l,f,g,p,m,v,h,b,y,O,_={id:(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.DO)(),publisher:{url:e.url,ext:t.publisherExt},regs:{coppa:!0===t.coppa?1:!1===t.coppa?0:void 0,gpp:null===(o=t.ortb2)||void 0===o||null===(r=o.regs)||void 0===r?void 0:r.gpp,gpp_sid:null===(i=t.ortb2)||void 0===i||null===(a=i.regs)||void 0===a?void 0:a.gpp_sid},slots:n.map((function(e){var n,t,o;b||(b=e.userIdAsEids),v=e.params.networkId||v,h=e.schain||h;var r={slotid:e.bidId,impid:e.adUnitCode,transactionid:null===(n=e.ortb2Imp)||void 0===n||null===(t=n.ext)||void 0===t?void 0:t.tid};if(e.params.zoneId&&(r.zoneid=e.params.zoneId),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"ortb2Imp.ext")&&(r.ext=e.ortb2Imp.ext),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"ortb2Imp.rwdd")&&(r.rwdd=e.ortb2Imp.rwdd),e.params.ext&&(r.ext=Object.assign({},r.ext,e.params.ext)),null!==(o=e.nativeOrtbRequest)&&void 0!==o&&o.assets&&(r.ext=Object.assign({},r.ext,{assets:e.nativeOrtbRequest.assets})),e.params.publisherSubId&&(r.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(r.native=!0,checkNativeSendId(e)||(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.yN)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?r.sizes=parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.banner.sizes"),parseSize):r.sizes=[],hasVideoMediaType(e)){var i={playersizes:parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay,plcmt:e.mediaTypes.video.plcmt},a=e.params.video;void 0!==a&&(i.skip=i.skip||a.skip||0,i.placement=i.placement||a.placement,i.minduration=i.minduration||a.minduration,i.playbackmethod=i.playbackmethod||a.playbackmethod,i.startdelay=i.startdelay||a.startdelay||0),r.video=i}return enrichSlotWithFloors(r,e),r}))};return v&&(_.publisher.networkid=v),_.source={tid:null===(s=t.ortb2)||void 0===s||null===(d=s.source)||void 0===d?void 0:d.tid},h&&(_.source.ext={schain:h}),_.user=(null===(u=t.ortb2)||void 0===u?void 0:u.user)||{},_.site=(null===(c=t.ortb2)||void 0===c?void 0:c.site)||{},t&&t.ceh&&(_.user.ceh=t.ceh),t&&t.gdprConsent&&(_.gdprConsent={},void 0!==t.gdprConsent.gdprApplies&&(_.gdprConsent.gdprApplies=!!t.gdprConsent.gdprApplies),_.gdprConsent.version=t.gdprConsent.apiVersion,void 0!==t.gdprConsent.consentString&&(_.gdprConsent.consentData=t.gdprConsent.consentString)),t&&t.uspConsent&&(_.user.uspIab=t.uspConsent),t&&null!==(l=t.ortb2)&&void 0!==l&&null!==(f=l.device)&&void 0!==f&&f.sua&&(_.user.ext=_.user.ext||{},_.user.ext.sua=(null===(y=t.ortb2)||void 0===y||null===(O=y.device)||void 0===O?void 0:O.sua)||{}),b&&(_.user.ext=_.user.ext||{},_.user.ext.eids=(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__.Z)(b)),t&&null!==(g=t.ortb2)&&void 0!==g&&g.bcat&&(_.bcat=t.ortb2.bcat),t&&null!==(p=t.ortb2)&&void 0!==p&&p.badv&&(_.badv=t.ortb2.badv),t&&null!==(m=t.ortb2)&&void 0!==m&&m.bapp&&(_.bapp=t.ortb2.bapp),_}function parseSizes(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return null==e?[]:Array.isArray(e[0])?e.map((function(e){return n(e)})):[n(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.native")}function hasValidVideoMediaType(e){var n=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(t){void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.video."+t)&&void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"params.video."+t)&&(n=!1,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.H)("Criteo Bid Adapter: mediaTypes.video."+t+" is required"))})),n){var t=e.mediaTypes.video.placement||e.params.video.placement;if("instream"==e.mediaTypes.video.context&&1===t)return!0;if("outstream"==e.mediaTypes.video.context&&1!==t)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((function(e){return e.url}))}}function createNativeAd(e,n,t){var o="criteo_prebid_native_slots";return window[o]=window[o]||{},window[o][e]={callback:t,payload:n},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(o,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function pickAvailableGetFloorFunc(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{var n=parseFloat(e.params.bidFloor);return function(){return{currency:e.params.bidFloorCur,floor:n}}}catch(e){}}function enrichSlotWithFloors(e,n){try{var t,o,r,i={},a=pickAvailableGetFloorFunc(n);if(a)null!==(t=n.mediaTypes)&&void 0!==t&&t.banner&&(i.banner={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(n,"mediaTypes.banner.sizes")).forEach((function(e){return i.banner[parseSize(e).toString()]=a.call(n,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk})}))),null!==(o=n.mediaTypes)&&void 0!==o&&o.video&&(i.video={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(n,"mediaTypes.video.playerSize")).forEach((function(e){return i.video[parseSize(e).toString()]=a.call(n,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX})}))),null!==(r=n.mediaTypes)&&void 0!==r&&r.native&&(i.native={},i.native["*"]=a.call(n,{size:"*",mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5})),Object.keys(i).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:i}))}catch(e){(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.H)("Could not parse floors from Prebid: "+e)}}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){var n;return e===FAST_BID_VERSION_LATEST?n="":e?(String(e).split(".")[0]<102&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.yN)("Specifying a Fastbid version which is not supporting version selection."),n="."+e):n="."+FAST_BID_VERSION_CURRENT,PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,n)}function createOutstreamVideoRenderer(e){if(void 0!==e.ext.videoPlayerConfig&&void 0!==e.ext.videoPlayerType){var n=_src_Renderer_js__WEBPACK_IMPORTED_MODULE_12__.Th.install({url:PUBLISHER_TAG_OUTSTREAM_SRC,config:{documentResolver:function(e,n,t){return null!=t?t:n}}});return n.setRender((function(n,t){var o={slotid:e.impid,vastUrl:e.displayurl,vastXml:e.creative,documentContext:t},r=e.ext.videoPlayerConfig;window.CriteoOutStream[e.ext.videoPlayerType].play(o,r)})),n}}function getAssociatedBidRequest(e,n){var t,o=_createForOfIteratorHelper(e);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(r.adUnitCode===n.impid){var i,a;if(r.params.zoneId&&parseInt(r.params.zoneId)===n.zoneid)return r;if(n.native){if(null!==(a=r.mediaTypes)&&void 0!==a&&a.native||r.nativeParams)return r}else if(n.video){var s;if(null!==(s=r.mediaTypes)&&void 0!==s&&s.video)return r}else if(null!==(i=r.mediaTypes)&&void 0!==i&&i.banner||r.sizes)return r}}}catch(e){o.e(e)}finally{o.f()}}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.yN)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__.T)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.PN)("Using Criteo FastBid"),eval(publisherTag)):((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_7__.yN)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_13__.dX)(spec),(0,_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_14__.z)("criteoBidAdapter")},7673:function(e,n,t){t.d(n,{h:function(){return r}});var o=t(265);function r(e){return null==e||!e.gdprApplies||!0===(0,o.Z)(e,"vendorData.purpose.consents.1")}},4611:function(e,n){var t;Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,n=!1,t="",o=this.t,r=this.DB-o*this.DB%4;if(o-- >0)for(r<this.DB&&(e=this[o]>>r)>0&&(n=!0,t=c(e));o>=0;)r<4?(e=(this[o]&(1<<r)-1)<<4-r,e|=this[--o]>>(r+=this.DB-4)):(e=this[o]>>(r-=4)&15,r<=0&&(r+=this.DB,--o)),e>0&&(n=!0),n&&(t+=c(e));return n?t:"0"},e.prototype.fromHexString=function(n){if(null!==n){this.t=0,this.s=0;for(var t=n.length,o=!1,r=0;--t>=0;){var i=u(n,t);i<0?"-"==n.charAt(t)&&(o=!0):(o=!1,0==r?this[this.t++]=i:r+4>this.DB?(this[this.t-1]|=(i&(1<<this.DB-r)-1)<<r,this[this.t++]=i>>this.DB-r):this[this.t-1]|=i<<r,(r+=4)>=this.DB&&(r-=this.DB))}this.clamp(),o&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var n=r();return e.ZERO.subTo(this,n),n},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(n){var t=r();return this.abs().divRemTo(n,null,t),this.s<0&&t.compareTo(e.ZERO)>0&&n.subTo(t,t),t},e.prototype.copyTo=function(e){for(var n=this.t-1;n>=0;--n)e[n]=this[n];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,n){for(var t=e%this.DB,o=this.DB-t,r=(1<<o)-1,i=Math.floor(e/this.DB),a=this.s<<t&this.DM,s=this.t-1;s>=0;--s)n[s+i+1]=this[s]>>o|a,a=(this[s]&r)<<t;for(s=i-1;s>=0;--s)n[s]=0;n[i]=a,n.t=this.t+i+1,n.s=this.s,n.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var n=3&e;return(n=(n=(n=(n=n*(2-(15&e)*n)&15)*(2-(255&e)*n)&255)*(2-((65535&e)*n&65535))&65535)*(2-e*n%this.DV)%this.DV)>0?this.DV-n:-n},e.prototype.dlShiftTo=function(e,n){var t;for(t=this.t-1;t>=0;--t)n[t+e]=this[t];for(t=e-1;t>=0;--t)n[t]=0;n.t=this.t+e,n.s=this.s},e.prototype.squareTo=function(e){for(var n=this.abs(),t=e.t=2*n.t;--t>=0;)e[t]=0;for(t=0;t<n.t-1;++t){var o=n.am(t,n[t],e,2*t,0,1);(e[t+n.t]+=n.am(t+1,2*n[t],e,2*t+1,o,n.t-t-1))>=n.DV&&(e[t+n.t]-=n.DV,e[t+n.t+1]=1)}e.t>0&&(e[e.t-1]+=n.am(t,n[t],e,2*t,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(n,t){var o=this.abs(),r=n.abs(),i=o.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+o.t]=o.am(0,r[i],t,i,0,o.t);t.s=0,t.clamp(),this.s!=n.s&&e.ZERO.subTo(t,t)},e.prototype.divRemTo=function(n,t,o){var a=n.abs();if(!(a.t<=0)){var s=this.abs();if(s.t<a.t)return null!=t&&t.fromHexString("0"),void(null!=o&&this.copyTo(o));null==o&&(o=r());var d=r(),u=this.s,c=n.s,l=this.DB-i(a[a.t-1]);l>0?(a.lShiftTo(l,d),s.lShiftTo(l,o)):(a.copyTo(d),s.copyTo(o));var f=d.t,g=d[f-1];if(0!=g){var p=g*(1<<this.F1)+(f>1?d[f-2]>>this.F2:0),m=this.FV/p,v=(1<<this.F1)/p,h=1<<this.F2,b=o.t,y=b-f,O=null==t?r():t;for(d.dlShiftTo(y,O),o.compareTo(O)>=0&&(o[o.t++]=1,o.subTo(O,o)),e.ONE.dlShiftTo(f,O),O.subTo(d,d);d.t<f;)d[d.t++]=0;for(;--y>=0;){var _=o[--b]==g?this.DM:Math.floor(o[b]*m+(o[b-1]+h)*v);if((o[b]+=d.am(0,_,o,y,0,f))<_)for(d.dlShiftTo(y,O),o.subTo(O,o);o[b]<--_;)o.subTo(O,o)}null!=t&&(o.drShiftTo(f,t),u!=c&&e.ZERO.subTo(t,t)),o.t=f,o.clamp(),l>0&&o.rShiftTo(l,o),u<0&&e.ZERO.subTo(o,o)}}},e.prototype.rShiftTo=function(e,n){n.s=this.s;var t=Math.floor(e/this.DB);if(t>=this.t)n.t=0;else{var o=e%this.DB,r=this.DB-o,i=(1<<o)-1;n[0]=this[t]>>o;for(var a=t+1;a<this.t;++a)n[a-t-1]|=(this[a]&i)<<r,n[a-t]=this[a]>>o;o>0&&(n[this.t-t-1]|=(this.s&i)<<r),n.t=this.t-t,n.clamp()}},e.prototype.drShiftTo=function(e,n){for(var t=e;t<this.t;++t)n[t-e]=this[t];n.t=Math.max(this.t-e,0),n.s=this.s},e.prototype.subTo=function(e,n){for(var t=0,o=0,r=Math.min(e.t,this.t);t<r;)o+=this[t]-e[t],n[t++]=o&this.DM,o>>=this.DB;if(e.t<this.t){for(o-=e.s;t<this.t;)o+=this[t],n[t++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;t<e.t;)o-=e[t],n[t++]=o&this.DM,o>>=this.DB;o-=e.s}n.s=o<0?-1:0,o<-1?n[t++]=this.DV+o:o>0&&(n[t++]=o),n.t=t,n.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,n){var t;return t=e<256||n.isEven()?new l(n):new f(n),this.exp(e,t)},e.prototype.exp=function(n,t){if(n>4294967295||n<1)return e.ONE;var o=r(),a=r(),s=t.convert(this),d=i(n)-1;for(s.copyTo(o);--d>=0;)if(t.sqrTo(o,a),(n&1<<d)>0)t.mulTo(a,s,o);else{var u=o;o=a,a=u}return t.revert(o)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var n=this.s-e.s;if(0!=n)return n;var t=this.t;if(0!=(n=t-e.t))return this.s<0?-n:n;for(;--t>=0;)if(0!=(n=this[t]-e[t]))return n;return 0},e.prototype.am1=function(e,n,t,o,r,i){for(;--i>=0;){var a=n*this[e++]+t[o]+r;r=Math.floor(a/67108864),t[o++]=67108863&a}return r},e.prototype.am2=function(e,n,t,o,r,i){for(var a=32767&n,s=n>>15;--i>=0;){var d=32767&this[e],u=this[e++]>>15,c=s*d+u*a;r=((d=a*d+((32767&c)<<15)+t[o]+(1073741823&r))>>>30)+(c>>>15)+s*u+(r>>>30),t[o++]=1073741823&d}return r},e.prototype.am3=function(e,n,t,o,r,i){for(var a=16383&n,s=n>>14;--i>=0;){var d=16383&this[e],u=this[e++]>>14,c=s*d+u*a;r=((d=a*d+((16383&c)<<14)+t[o]+r)>>28)+(c>>14)+s*u,t[o++]=268435455&d}return r},e}();function r(){return new o(null)}function i(e){var n,t=1;return 0!=(n=e>>>16)&&(e=n,t+=16),0!=(n=e>>8)&&(e=n,t+=8),0!=(n=e>>4)&&(e=n,t+=4),0!=(n=e>>2)&&(e=n,t+=2),0!=(n=e>>1)&&(e=n,t+=1),t}n.BigInteger=o,n.nbi=r,n.nbits=i;var a,s,d=[];for(a="0".charCodeAt(0),s=0;s<=9;++s)d[a++]=s;for(a="a".charCodeAt(0),s=10;s<36;++s)d[a++]=s;for(a="A".charCodeAt(0),s=10;s<36;++s)d[a++]=s;function u(e,n){var t=d[e.charCodeAt(n)];return null==t?-1:t}function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}n.intAt=u,n.int2char=c,n.b64toHex=function(e){var n,t="",o=0,r=0;for(n=0;n<e.length&&"="!=e.charAt(n);++n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n));i<0||(0==o?(t+=c(i>>2),r=3&i,o=1):1==o?(t+=c(r<<2|i>>4),r=15&i,o=2):2==o?(t+=c(r),t+=c(i>>2),r=3&i,o=3):(t+=c(r<<2|i>>4),t+=c(15&i),o=0))}return 1==o&&(t+=c(r<<2)),t},n.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var l=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,n,t){e.multiplyTo(n,t),this.reduce(t)},e.prototype.sqrTo=function(e,n){e.squareTo(n),this.reduce(n)},e}(),f=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var n=r();return e.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),e.s<0&&n.compareTo(o.ZERO)>0&&this.m.subTo(n,n),n},e.prototype.revert=function(e){var n=r();return e.copyTo(n),this.reduce(n),n},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var n=0;n<this.m.t;++n){var t=32767&e[n],o=t*this.mpl+((t*this.mph+(e[n]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[t=n+this.m.t]+=this.m.am(0,o,e,n,0,this.m.t);e[t]>=e.DV;)e[t]-=e.DV,e[++t]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,n,t){e.multiplyTo(n,t),this.reduce(t)},e.prototype.sqrTo=function(e,n){e.squareTo(n),this.reduce(n)},e}();function g(e){var n=r();return n.fromHexString(e.toString()),n}n.nbv=g,o.ZERO=g(0),o.ONE=g(1),"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=o.prototype.am2,t=30):"Netscape"!=navigator.appName?(o.prototype.am=o.prototype.am1,t=26):(o.prototype.am=o.prototype.am3,t=28),o.prototype.DB=t,o.prototype.DM=(1<<t)-1,o.prototype.DV=1<<t,o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-t,o.prototype.F2=2*t-52},4950:function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(){}return e.hash=function(n){n=e.utf8Encode(n||"");for(var t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r=(n+=String.fromCharCode(128)).length/4+2,i=Math.ceil(r/16),a=new Array(i),s=0;s<i;s++){a[s]=new Array(16);for(var d=0;d<16;d++)a[s][d]=n.charCodeAt(64*s+4*d)<<24|n.charCodeAt(64*s+4*d+1)<<16|n.charCodeAt(64*s+4*d+2)<<8|n.charCodeAt(64*s+4*d+3)<<0}var u=8*(n.length-1)/Math.pow(2,32),c=8*(n.length-1)>>>0;for(a[i-1][14]=Math.floor(u),a[i-1][15]=c,s=0;s<i;s++){for(var l=new Array(64),f=0;f<16;f++)l[f]=a[s][f];for(f=16;f<64;f++)l[f]=e.q1(l[f-2])+l[f-7]+e.q0(l[f-15])+l[f-16]>>>0;var g=o[0],p=o[1],m=o[2],v=o[3],h=o[4],b=o[5],y=o[6],O=o[7];for(f=0;f<64;f++){var _=O+e.z1(h)+e.Ch(h,b,y)+t[f]+l[f],E=e.z0(g)+e.Maj(g,p,m);O=y,y=b,b=h,h=v+_>>>0,v=m,m=p,p=g,g=_+E>>>0}o[0]=o[0]+g>>>0,o[1]=o[1]+p>>>0,o[2]=o[2]+m>>>0,o[3]=o[3]+v>>>0,o[4]=o[4]+h>>>0,o[5]=o[5]+b>>>0,o[6]=o[6]+y>>>0,o[7]=o[7]+O>>>0}var I=new Array(o.length);for(O=0;O<o.length;O++)I[O]=("00000000"+o[O].toString(16)).slice(-8);return I.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,n){return e+String.fromCharCode(n)}),"")}catch(n){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,n){return n>>>e|n<<32-e},e.z0=function(n){return e.ROTR(2,n)^e.ROTR(13,n)^e.ROTR(22,n)},e.z1=function(n){return e.ROTR(6,n)^e.ROTR(11,n)^e.ROTR(25,n)},e.q0=function(n){return e.ROTR(7,n)^e.ROTR(18,n)^n>>>3},e.q1=function(n){return e.ROTR(17,n)^e.ROTR(19,n)^n>>>10},e.Ch=function(e,n,t){return e&n^~e&t},e.Maj=function(e,n,t){return e&n^e&t^n&t},e}();n.Sha256=t},1582:function(e,n,t){var o=t(4611),r=t(4950);n.T=function(e,n,t,i){var a=new o.BigInteger(o.b64toHex(n)),s=new o.BigInteger(o.b64toHex(t)),d=a.modPowInt(i,s);return o.removeExtraSymbols(d.toHexString())===r.Sha256.hash(e)}}},function(e){e(e.s=241)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[345],{4713:function(e,n,t){var o=t(8640),r=t(3193),i=t(2797),a=t(4942),s=t(3324),d=t(4358),u=t(9062),c=t(1002),l=t(265);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.setTimeout;this.setTimeout=void 0===n?window.setTimeout.bind(window):n,this.logger=e.logger,this.rules=[]}Object.assign(f.prototype,{DEFAULT_RULE_OPTIONS:{delay:0},serializeConfig:function(e){var n=this;return e.filter((function(e,t){var o=(0,d.vZ)(e,JSON.parse(JSON.stringify(e)),{checkTypes:!0});return o||(0,l.Z)(e,"options.suppressWarnings")||n.logger.logWarn("Bid interceptor rule definition #".concat(t+1," is not serializable and will be lost after a refresh. Rule definition: "),e),o}))},updateConfig:function(e){var n=this;this.rules=(e.intercept||[]).map((function(e,t){return n.rule(e,t+1)}))},rule:function(e,n){return{no:n,match:this.matcher(e.when,n),replace:this.replacer(e.then||{},n),options:Object.assign({},this.DEFAULT_RULE_OPTIONS,e.options)}},matcher:function(e,n){if("function"==typeof e)return e;if("object"!==(0,c.Z)(e))return this.logger.logError("Invalid 'when' definition for debug bid interceptor (in rule #".concat(n,")")),function(){return!1};function t(n,o){var r=o.ref,i=void 0===r?e:r,a=o.args,d=void 0===a?[]:a;return Object.entries(i).map((function(e){var o=(0,s.Z)(e,2),r=o[0],i=o[1],a=n[r];return i instanceof RegExp?null!=i.exec(a):"function"==typeof i?!!i.apply(void 0,[a].concat((0,u.Z)(d))):"object"===(0,c.Z)(i)?t(a,{ref:i,args:d}):a===i})).every((function(e){return e}))}return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t(e,{args:o})}},replacer:function(e,n){var t,o=this;return"function"==typeof e?t=function(n){var t=n.args;return e.apply(void 0,(0,u.Z)(t))}:"object"!==(0,c.Z)(e)?(this.logger.logError("Invalid 'then' definition for debug bid interceptor (in rule #".concat(n,")")),t=function(){return{}}):t=function(n){var o=n.args,r=n.ref,i=void 0===r?e:r,a=Array.isArray(i)?[]:{};return Object.entries(i).forEach((function(e){var n=(0,s.Z)(e,2),r=n[0],i=n[1];"function"==typeof i?a[r]=i.apply(void 0,(0,u.Z)(o)):null!=i&&"object"===(0,c.Z)(i)?a[r]=t({args:o,ref:i}):a[r]=i})),a},function(e){for(var n=o.responseDefaults(e),r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(0,d.Ee)(n,t({args:[e].concat(i)})),n.hasOwnProperty("ad")||n.hasOwnProperty("adUrl")||(n.ad=o.defaultAd(e,n)),n.isDebug=!0,n}},responseDefaults:function(e){return{requestId:e.bidId,cpm:3.5764,currency:"EUR",width:300,height:250,ttl:360,creativeId:"mock-creative-id",netRevenue:!1,meta:{}}},defaultAd:function(e,n){return"<html><head><style>#ad {width: ".concat(n.width,"px;height: ").concat(n.height,'px;background-color: #f6f6ae;color: #85144b;padding: 5px;text-align: center;display: flex;flex-direction: column;align-items: center;justify-content: center;}#bidder {font-family: monospace;font-weight: normal;}#title {font-size: x-large;font-weight: bold;margin-bottom: 5px;}#body {font-size: large;margin-top: 5px;}</style></head><body><div id="ad"><div id="title">Mock ad: <span id="bidder">').concat(e.bidder,'</span></div><div id="body">').concat(n.width,"x").concat(n.height,"</div></div></body></html>")},match:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return this.rules.find((function(n){return n.match.apply(n,[e].concat(t))}))},matchAll:function(e,n){var t=this,o=[],r=[];return e.forEach((function(e){var i=t.match(e,n);null!=i?o.push({rule:i,bid:e}):r.push(e)})),[o,r]},intercept:function(e){var n=this,t=e.bids,o=e.bidRequest,r=e.addBid,i=e.done;null==t&&(t=o.bids);var a=this.matchAll(t,o),u=(0,s.Z)(a,2),c=u[0],l=u[1];if(c.length>0){var f=(0,d.yx)(i,c.length);c.forEach((function(e){var t=e.rule.replace(e.bid,o),i=e.rule.options.delay;n.logger.logMessage("Intercepted bid request (matching rule #".concat(e.rule.no,"), mocking response in ").concat(i,"ms. Request, response:"),e.bid,t),n.setTimeout((function(){r(t,e.bid),f()}),i)})),t=(o=(0,d.I8)(o)).bids=l}else this.setTimeout(i,0);return{bids:t,bidRequest:o}}});var g,p,m=t(5644);function v(e,n){var t=n.hook,o=n.logger;g=_.bind({overrides:e,logger:o}),t.get("addBidResponse").before(g,5),p=E.bind({overrides:e,logger:o}),t.get("addBidderRequests").before(p,5)}function h(e){var n=e.hook;n.get("addBidResponse").getHooks({hook:g}).remove(),n.get("addBidderRequests").getHooks({hook:p}).remove()}function b(e,n,t){return!(!e.bidder||e.bidder===n)||!(!e.adUnitCode||e.adUnitCode===t)}function y(e,n){return Array.isArray(e)&&-1===e.indexOf(n)}function O(e,n,t,o){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(n,r){return o.logMessage("bidder overrides changed '".concat(n.adUnitCode,"/").concat(n.bidderCode,"' ").concat(t,".").concat(r," from '").concat(n[r],".js' to '").concat(e[r],"'")),n[r]=e[r],n.isDebug=!0,n}),n)}function _(e,n,t,o){var r=this.overrides,i=this.logger;y(r.bidders,t.bidderCode)?i.logWarn("bidder '".concat(t.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(r.bids)&&r.bids.forEach((function(e){b(e,t.bidderCode,n)||O(e,t,"bidder",i)})),e(n,t,o))}function E(e,n){var t=this.overrides,o=this.logger,r=n.filter((function(e){return!y(t.bidders,e.bidderCode)||(o.logWarn("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)}));Array.isArray(t.bidRequests)&&r.forEach((function(e){t.bidRequests.forEach((function(n){e.bids.forEach((function(t){b(n,e.bidderCode,t.adUnitCode)||O(n,t,"bidRequest",o)}))}))})),e(r)}function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var A,C=[],S=!1;function T(e,n){var t=n.fromSession,o=void 0!==t&&t,r=n.config,i=n.hook,a=n.logger;r.setConfig({debug:!0}),A.updateConfig(e),P(!0),h({hook:i}),v(e,{hook:i,logger:a}),S||(S=!0,a.logMessage("Debug overrides enabled".concat(o?" from session":"")))}function D(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.sessionStorage,o=void 0===t?window.sessionStorage:t,r=n.DEBUG_KEY;if(e.enabled){e.intercept&&((e=(0,d.I8)(e)).intercept=A.serializeConfig(e.intercept));try{o.setItem(r,JSON.stringify(e))}catch(e){}}else try{o.removeItem(r)}catch(e){}}function P(e){C.forEach((function(e){var n=(0,s.Z)(e,2),t=n[0],o=n[1];t().getHooks({hook:o}).remove()})),e&&C.forEach((function(e){var n=(0,s.Z)(e,2),t=n[0],o=n[1];t().before(o)}))}function N(e,n){var t=function(){var e;return(e=A).intercept.apply(e,arguments)};C.push([e,function(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];n.apply(void 0,[e,t].concat(r))}])}function M(e,n,t,o,r,i,a,s){var u=(0,d.yx)(s.onCompletion,2),c=n({bids:o,bidRequest:r,addBid:s.onBid,done:u});o=c.bids,r=c.bidRequest,0===o.length?u():e(t,o,r,i,a,w(w({},s),{},{onCompletion:u}))}var U=t(9626);!function(e){var n=e.DEBUG_KEY,t=e.config,o=e.hook,r=e.createBid,i=e.logger;A=new f({logger:i});var a=function(e){var n=e.createBid;return function(e,t,o,r,i,a){var s,c=a.onResponse,l=a.onError,f=a.onBid,g=(0,d.yx)((function(){return c.apply(void 0,(0,u.Z)(s))}),r.length+1);function p(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];s=n,g()}function v(e,t){f({adUnit:t.adUnitCode,bid:Object.assign(n(m.Q_.Q,t),e)})}if((r=r.map((function(e){return t({bidRequest:e,addBid:v,done:g}).bidRequest})).filter((function(e){return e.bids.length>0}))).length>0){var h=new Set;r.forEach((function(e){return e.bids.forEach((function(e){return h.add(e.bidId)}))})),(o=(0,d.I8)(o)).ad_units.forEach((function(e){e.bids=e.bids.filter((function(e){return h.has(e.bid_id)}))})),o.ad_units=o.ad_units.filter((function(e){return e.bids.length>0})),e(o,r,i,{onResponse:p,onError:l,onBid:f})}else p(!0,[])}}({createBid:r});N((function(){return o.get("processBidderRequests")}),M),N((function(){return o.get("processPBSRequest")}),a),function(e){var n,t=e.DEBUG_KEY,o=e.storage,r=e.config,i=e.hook,a=e.logger;try{o=o||window.sessionStorage,n=JSON.parse(o.getItem(t))}catch(e){}n&&T(n,{fromSession:!0,config:r,hook:i,logger:a})}({DEBUG_KEY:n,config:t,hook:o,logger:i}),t.getConfig("debugging",(function(e){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.getStorage,o=void 0===t?function(){return window.sessionStorage}:t,r=n.DEBUG_KEY,i=n.config,a=n.hook,s=n.logger;if(null!=e){var d;try{d=o()}catch(e){s.logError("sessionStorage is not available: debugging configuration will not persist on page reload",e)}null!=d&&D(e,{sessionStorage:d,DEBUG_KEY:r}),e.enabled?T(e,{config:i,hook:a,logger:s}):function(e){var n=e.hook,t=e.logger;A.updateConfig({}),P(!1),h({hook:n}),S&&(S=!1,t.logMessage("Debug overrides disabled"))}({hook:a,logger:s})}}(e.debugging,{DEBUG_KEY:n,config:t,hook:o,logger:i})}),{init:!0})}({DEBUG_KEY:t(3777).Jc,config:r.vc,hook:i.z3,createBid:U.m,logger:(0,d.qp)("DEBUG:")}),(0,o.z)("debugging")}},function(e){e(e.s=4713)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[910],{3410:function(e,n,t){var o=t(8640),r=t(3193),i=t(2797),a=t(4358),s=t(8792),d=t(9128),u=[],c=(0,d.g3)("fpd",(function(e,n){var t=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.global,t=void 0===n?{}:n,o=e.bidder,i=void 0===o?{}:o,d=r.vc.getConfig("firstPartyData")||{},c=s.Z.resolve({global:t,bidder:i});return u.sort((function(e,n){return(e.queue||1)-(n.queue||1)})).forEach((function(e){c=c.then((function(n){var t=n.global,o=n.bidder;return s.Z.resolve(e.processFpd(d,{global:t,bidder:o})).catch((function(n){return(0,a.H)("Error in FPD module ".concat(e.name),n),{}})).then((function(e){return{global:e.global||t,bidder:e.bidder||o}}))}))})),c})(n.ortb2Fragments).then((function(o){Object.assign(n.ortb2Fragments,o),e.call(t,n)}))}));(0,i.bA)("firstPartyData",(function(e){u.push(e)})),(0,i.v5)("startAuction").before(c,10),(0,o.z)("fpdModule")}},function(e){e(e.s=3410)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[72],{1144:function(e,n,t){var o,r,i=t(8640),a=t(4358),s=(0,i.R)(),d=t(2797),u={};(0,d.v5)("registerAdserver").before((function(e){e.call(this,"freewheel")})),o="freewheel",r={getTargeting:function(e){return u.getTargeting(e)}},s.adServers=s.adServers||{},s.adServers[o]=s.adServers[o]||{},Object.keys(r).forEach((function(e){s.adServers[o][e]?(0,a.yN)("Attempting to add an already registered function property ".concat(e," for AdServer ").concat(o,".")):s.adServers[o][e]=r[e]})),(0,d.Bx)("adpod",u),(0,i.z)("freeWheelAdserverVideo")}},function(e){e(e.s=1144)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[83],{1498:function(e,n,t){var o=t(3324),r=t(8640),i=t(4358),a=t(265),s=t(3193),d=t(6104),u=t(4516),c=t(2021),l=t(5644),f=t(9633),g=t(6310),p=t(571),m=t(4947);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var h={purpose:{},feature:{}},b={purpose:"purpose.consents",feature:"specialFeatureOptins"},y={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},O=new Set,_=new Set,E=new Set,I=new Set,w=new Set,A=new Set,C=!1,S=!1,T=[f.UL,f.y2,f._U,f.XG],D="TCF2",P=[],N=[2];function M(e,n,t){if(n){var o=s.vc.getConfig("gvlMapping");if(o&&o[n])return o[n];if(e===f.wu)return u.$P;var r=u.qh.get(n),a=r.gvlid,d=r.modules;if(null==a&&Object.keys(d).length>0){var c,l=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}(T);try{for(l.s();!(c=l.n()).done;){var g=c.value;if(d.hasOwnProperty(g)){a=d[g],g!==e&&(0,i.yN)("Multiple GVL IDs found for module '".concat(n,"'; using the ").concat(g," module's ID (").concat(a,") instead of the ").concat(e,"'s ID (").concat(d[e],")"));break}}}catch(e){l.e(e)}finally{l.f()}}return null==a&&t&&(a=t()),a||null}return null}function U(e,n,t){return null==e&&u.rp.enabled?((0,i.yN)("Attempting operation that requires purpose ".concat(n," consent while consent data is not available").concat(t?" (module: ".concat(t,")"):"",". Assuming no consent was given.")),!0):e&&e.gdprApplies}function R(e,n,t,o){var r=!!(0,a.Z)(e,"vendorData.".concat(b[n],".").concat(t)),i=!!(0,a.Z)(e,"vendorData.vendor.consents.".concat(o));return"purpose"===n&&N.includes(t)&&(r||(r=!!(0,a.Z)(e,"vendorData.purpose.legitimateInterests.".concat(t))),i||(i=!!(0,a.Z)(e,"vendorData.vendor.legitimateInterests.".concat(o)))),{purpose:r,vendor:i}}function L(e,n,t,o){var r=y[e.purpose];if((e.vendorExceptions||[]).includes(t))return!0;var i=e.enforceVendor&&!(o===u.$P||(e.softVendorExceptions||[]).includes(t)),a=R(n,r.type,r.id,o),s=a.purpose,d=a.vendor;return(!e.enforcePurpose||s)&&(!i||d)}function k(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return null};return function(r){var i=u.rp.getConsentData(),a=r[g.bp];if(U(i,e,a)){var s=M(r[g.$k],a,o(r)),d=!!n(i,a,s);if(!d)return t&&t.add(a),{allow:d}}}}function F(e){return k(e,(function(n,t,o){return!!L(h.purpose[e],n,t,o)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null})}function x(e){return function(n){if(n[g.$k]!==f.wu)return e(n)}}var j,B,G,V=(j=F(1,O),function(e){if(e[g.$k]!==f.wu||S)return j(e)}),Z=F(1,O),W=F(1,O),H=x(F(2,_)),q=F(7,E,(function(e){return n=e[g.bp],t=e[g.Hw],function(e){if("function"!=typeof e)return e;try{return e.call(r.adapter,t)}catch(e){(0,i.H)("Error invoking ".concat(n," adapter.gvlid()"),e)}}(null==(r=d.ZP.getAnalyticsAdapter(n))||null===(o=r.adapter)||void 0===o?void 0:o.gvlid);var n,t,o,r})),z=F(4,I),K=x((B=k("2-10",(function(e,n,t){for(var o=2;o<=10;o++){var r,i,a,s;if(null!==(r=h.purpose[o])&&void 0!==r&&null!==(i=r.vendorExceptions)&&void 0!==i&&i.includes(n))return!0;var d=R(e,"purpose",o,t),u=d.purpose,c=d.vendor;if(u&&(c||null!==(a=h.purpose[o])&&void 0!==a&&null!==(s=a.softVendorExceptions)&&void 0!==s&&s.includes(n)))return!0}return!1}),w),G=F(4,w),function(){var e;return(null!==(e=h.purpose[4])&&void 0!==e&&e.eidsRequireP4Consent?G:B).apply(this,arguments)})),J=k("Special Feature 1",(function(e,n,t){return L(h.feature[1],e,n,t)}),A);c.on(l.FP.AUCTION_END,(function(){var e=function(e){return Array.from(e.keys()).filter((function(e){return null!=e}))},n={storageBlocked:e(O),biddersBlocked:e(_),analyticsBlocked:e(E),ufpdBlocked:e(I),eidsBlocked:e(w),geoBlocked:e(A)};c.j8(l.FP.TCF2_ENFORCEMENT,n),[O,_,E,I,w,A].forEach((function(e){return e.clear()}))})),s.vc.getConfig("consentManagement",(function(e){return function(e){var n=(0,a.Z)(e,"gdpr.rules");n||(0,i.yN)("TCF2: enforcing P1 and P2 by default"),n=Object.fromEntries((n||[]).map((function(e){return[e.purpose,e]}))),S=!!(0,a.Z)(e,"strictStorageEnforcement"),Object.entries(y).forEach((function(e){var t,r=(0,o.Z)(e,2),i=r[0],a=r[1];h[a.type][a.id]=null!==(t=n[i])&&void 0!==t?t:a.default})),C||(null!=h.purpose[1]&&(C=!0,P.push((0,p.oB)(m.S1,D,V)),P.push((0,p.oB)(m.K$,D,Z)),P.push((0,p.oB)(m.EL,D,W))),null!=h.purpose[2]&&P.push((0,p.oB)(m.UE,D,H)),null!=h.purpose[4]&&P.push((0,p.oB)(m.oK,D,z),(0,p.oB)(m.S5,D,z)),null!=h.purpose[7]&&P.push((0,p.oB)(m.x$,D,q)),null!=h.feature[1]&&P.push((0,p.oB)(m.g0,D,J)),P.push((0,p.oB)(m.e,D,K)))}(e.consentManagement)})),(0,r.z)("gdprEnforcement")}},function(e){e(e.s=1498)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[296],{6787:function(e,n,t){var o=t(8640),r=t(4358),i=t(6475),a=t(265),s=t(3193),d=t(2797),u=t(4614),c=void 0,l={},f=!1,g=function(e){var n=l.customGptSlotMatching;if((0,r.T9)()){var t=e.reduce((function(e,n){return e[n.code]=e[n.code]||[],e[n.code].push(n),e}),{});window.googletag.pubads().getSlots().forEach((function(e){var o=(0,u.sE)(Object.keys(t),n?n(e):(0,r.zV)(e));if(o){var a={name:"gam",adslot:p(e.getAdUnitPath())};t[o].forEach((function(e){var n,t,o;(0,i.N)(e,"ortb2Imp.ext.data.adserver",Object.assign({},null===(n=e.ortb2Imp)||void 0===n||null===(t=n.ext)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.adserver,a))}))}}))}},p=function(e){return(s.vc.getConfig("gptPreAuction")||{}).mcmEnabled?e.replace(/(^\/\d*),\d*\//,"$1/"):e},m=function(e,n){var t=e.ortb2Imp.ext.data;if(t.pbadslot)return t.pbadslot;if((0,r.T9)()){var o=window.googletag.pubads().getSlots().filter((function(e){return e.getAdUnitPath()===n}));if(0!==o.length)return 1===o.length?n:"".concat(n,"#").concat(e.code)}},v=function(e,n){g(n);var t=l,o=t.useDefaultPreAuction,r=t.customPreAuction;n.forEach((function(e){e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};var n=e.ortb2Imp.ext;if(r||o){var t,i=(0,a.Z)(n,"data.adserver.adslot");r?t=r(e,i):o&&(t=m(e,i)),t&&(n.gpid=n.data.pbadslot=t)}else{var s=function(e){var n=e.ortb2Imp.ext.data,t=l.customPbAdSlot;if(!n.pbadslot)if(t)n.pbadslot=t(e.code,(0,a.Z)(n,"adserver.adslot"));else{try{var o=document.getElementById(e.code);if(o.dataset.adslotid)return void(n.pbadslot=o.dataset.adslotid)}catch(e){}if(!(0,a.Z)(n,"adserver.adslot"))return n.pbadslot=e.code,!0;n.pbadslot=n.adserver.adslot}}(e);n.gpid||s||(n.gpid=n.data.pbadslot)}}));for(var i=arguments.length,s=new Array(i>2?i-2:0),d=2;d<i;d++)s[d-2]=arguments[d];return e.call.apply(e,[c,n].concat(s))},h=function(e){(l=(0,r.ei)(e,["enabled",function(e){return!1!==e},"customGptSlotMatching",function(e){return"function"==typeof e&&e},"customPbAdSlot",function(e){return"function"==typeof e&&e},"customPreAuction",function(e){return"function"==typeof e&&e},"useDefaultPreAuction",function(e){return!0===e}])).enabled?f||((0,d.v5)("makeBidRequests").before(v),f=!0):((0,r.PN)("".concat("GPT Pre-Auction",": Turning off module")),l={},(0,d.v5)("makeBidRequests").getHooks({hook:v}).remove(),f=!1)};s.vc.getConfig("gptPreAuction",(function(e){return h(e.gptPreAuction)})),h({}),(0,o.z)("gptPreAuction")}},function(e){e(e.s=6787)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[750],{7206:function(e,n,t){var o=t(4925),r=t(1002),i=t(3324),a=t(9062),s=t(4942),d=t(8640),u=t(4358),c=t(265),l=t(8928),f=t(4699),g=t(5706),p=t(4679),m=t(3193),v=t(5164),h=["mind","maxd","size","playerSize","protocols","durationRangeSec"];function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O="grid",_="https://grid.bidswitch.net/hbjson",E="tmguid",I=(0,v.df)({bidderCode:O}),w="Bid from response has no adid parameter - ",A="Bid from response has no adm parameter - ",C="Array of bid objects is empty",S="Seatbid array from response has empty item",T="Seatbid from response has no array of bid objects - ",D={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}},gridNM:{defaultParams:{multiRequest:!0}}},P=!1,N={code:O,gvlid:686,aliases:["playwire","adlivetech","gridNM",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[p.Mk,p.pX],isBidRequestValid:function(e){return e&&Boolean(e.params.uid||e.params.secid)},buildRequests:function(e,n){var t,s,d,l;if(!e.length)return null;var f=null,g=null,v=null,b=null,O=null,w=null,A=null,C=!1,S=n||{},T=S.bidderRequestId,P=S.gdprConsent,N=S.uspConsent,M=S.timeout,U=S.refererInfo,R=S.gppConsent,L=U?encodeURIComponent(U.page):"",k=parseInt(M)||null,F=[],x={},j=[],B=[],G=[];e.forEach((function(e){var t={bid:e,savedPrebidBid:null};if(e.params.uid||e.params.secid){T||(T=e.bidderRequestId),v||(v=e.schain),b||(b=e.userIdAsEids),A||(A=D[e.bidder]&&D[e.bidder].endpoint);var a=e.params,s=e.mediaTypes,d=e.bidId,c=e.adUnitCode,l=e.rtd,m=e.ortb2Imp,O=y(y({},(D[e.bidder]||{}).defaultParams),a),_=O.secid,E=O.pubid,I=O.source,w=O.uid,S=O.keywords,P=O.forceBidder,N=O.multiRequest,M=O.content,U=O.video,R=function(e,n){var t=e.video?"video":"banner",o=parseFloat(n.params.bidFloor||n.params.floorcpm||0)||null;if("function"==typeof n.getFloor){var a=n.getFloor({currency:"USD",mediaType:t,size:n.sizes.map((function(e){var n=(0,i.Z)(e,2);return{w:n[0],h:n[1]}}))});"object"!==(0,r.Z)(a)||"USD"!==a.currency||isNaN(parseFloat(a.floor))||(o=Math.max(o,parseFloat(a.floor)))}return o}(s||{},e),V=l&&l.jwplayer&&l.jwplayer.targeting;V&&!g&&V.content&&(g=V.content);var Z,W,H,q,z,K,J={id:d.toString(),tagid:(_||w).toString(),ext:{divid:c.toString()}};if(m&&(m.instl&&(J.instl=parseInt(m.instl)||null),m.ext&&(J.ext.gpid=(null===(Z=m.ext.gpid)||void 0===Z?void 0:Z.toString())||(null===(W=m.ext.data)||void 0===W||null===(H=W.pbadslot)||void 0===H?void 0:H.toString())||(null===(q=m.ext.data)||void 0===q||null===(z=q.adserver)||void 0===z||null===(K=z.adslot)||void 0===K?void 0:K.toString()),m.ext.data&&(J.ext.data=m.ext.data))),(0,u.xb)(S)||(f||(f=S),J.ext.bidder={keywords:S}),R&&(J.bidfloor=R),!s||s[p.Mk]){var X=function(e,n){var t=n.sizes||e.sizes;if(t&&t.length){var o=t.map((function(e){return(0,u.NI)(e)})),r=(0,u.NI)(t[0]);return o.length&&(r.format=o),r}}(e,s?s[p.Mk]:{});X&&(J.banner=X)}if(s&&s[p.pX]){var Y=function(e,n,t){var r=y(y({},n),e),i=r.mind,a=r.maxd,s=r.size,d=r.playerSize,c=r.protocols,l=r.durationRangeSec,f=void 0===l?[]:l,g=(0,o.Z)(r,h);if(s&&(0,u.d8)(s)){var p=s.split("x");2===p.length&&parseInt(p[0])&&parseInt(p[1])&&(g.w=parseInt(p[0]),g.h=parseInt(p[1]))}if(!g.w||!g.h){var m=((d||t||[]).toString().match(/^\d+,\d+/)||[])[0],v=m&&m.split(",").map((function(e){return parseInt(e)}));v&&2===v.length&&Object.assign(g,(0,u.NI)(v))}if(g.w&&g.h){var b=i||f[0]||parseInt(g.minduration)||null,O=a||f[1]||parseInt(g.maxduration)||null;return b&&(g.minduration=b),O&&(g.maxduration=O),c&&c.length&&(g.protocols=c),g}}(U,s[p.pX],e.sizes);Y&&(J.video=Y)}if(J.banner||J.video)if(N){var Q,$,ee,ne,te={tid:null==n||null===(Q=n.ortb2)||void 0===Q||null===($=Q.source)||void 0===$||null===(ee=$.tid)||void 0===ee||null===(ne=ee.toString)||void 0===ne?void 0:ne.call(ee),ext:{wrapper:"Prebid_js",wrapper_version:"8.18.0"}};e.schain&&(te.ext.schain=e.schain);var oe={id:e.bidderRequestId&&e.bidderRequestId.toString(),site:{page:L},tmax:k,source:te,imp:[J]};E&&(oe.site.publisher={id:E});var re=M||V&&V.content;re&&(oe.site.content=re),j.push(oe),B.push(I),G.push(t)}else x[d]=t,F.push(J);!C&&P&&D[P]&&(C=P)}})),(C=m.vc.getConfig("forceBidderName")||C)&&D[C]&&(A=D[C].endpoint,this.forceBidderName=C);var V={tid:null==n||null===(t=n.ortb2)||void 0===t||null===(s=t.source)||void 0===s||null===(d=s.tid)||void 0===d||null===(l=d.toString)||void 0===l?void 0:l.call(d),ext:{wrapper:"Prebid_js",wrapper_version:"8.18.0"}};v&&(V.ext.schain=v);var Z=F.length||!j.length?{id:T&&T.toString(),site:{page:L},tmax:k,source:V,imp:F}:null;return g&&(Z.site.content=g),[].concat(j,[Z]).forEach((function(e){if(e){O=null;var t=(0,c.Z)(n,"ortb2.user.data");t&&t.length&&(O={data:(0,a.Z)(t)}),P&&P.consentString&&(w={consent:P.consentString});var o=(0,c.Z)(n,"ortb2.user.ext.device");o&&((w=w||{}).device=y({},o)),b&&b.length&&((w=w||{}).eids=(0,a.Z)(b)),w&&Object.keys(w).length&&((O=O||{}).ext=w);var i=I.getDataFromLocalStorage(E)||function(){if(m.vc.getConfig("localStorageWriteAllowed")){var e=(0,u.DO)().replace(/-/g,"");return I.setDataInLocalStorage(E,e),e}return null}();i&&((O=O||{}).id=i.toString()),O&&(e.user=O);var s=(0,c.Z)(n,"ortb2.user.keywords")||null,d=(0,c.Z)(n,"ortb2.site.keywords")||null;s&&((f=f||{}).user=f.user||{},f.user.ortb2=[{name:"keywords",keywords:s.split(",")}]),d&&((f=f||{}).site=f.site||{},f.site.ortb2=[{name:"keywords",keywords:d.split(",")}]),f&&(f=function(e){var n={};return Object.keys(e).forEach((function(t){var o=e[t];if(o)if("site"===t||"user"===t){var i={};Object.keys(o).forEach((function(e){if(Array.isArray(o[e])){var n=[];o[e].forEach((function(e){if("object"===(0,r.Z)(e)&&e.name){var t={name:e.name,segments:[]};Object.keys(e).forEach((function(n){Array.isArray(e[n])&&e[n].forEach((function(e){e&&("string"==typeof e?t.segments.push({name:n,value:e}):"segments"===n&&"string"==typeof e.name&&"string"==typeof e.value&&t.segments.push(e))}))})),t.segments.length&&n.push(t)}})),n.length&&(i[e]=n)}})),n[t]=i}else n[t]=o})),Object.keys(n).length&&n}(f))&&(e.ext={keywords:f}),P&&P.gdprApplies&&(e.regs={ext:{gdpr:P.gdprApplies?1:0}});var l=(0,c.Z)(n,"ortb2.regs")||{};if(R||null!=l&&l.gpp){var g,p,v,h={gpp:null!==(g=null==R?void 0:R.gppString)&&void 0!==g?g:null==l?void 0:l.gpp,gpp_sid:null!==(p=null==R?void 0:R.applicableSections)&&void 0!==p?p:null==l?void 0:l.gpp_sid};e.regs=(0,u.Ee)(null!==(v=null==e?void 0:e.regs)&&void 0!==v?v:{},h)}N&&(e.regs||(e.regs={ext:{}}),e.regs.ext||(e.regs.ext={}),e.regs.ext.us_privacy=N),!0===m.vc.getConfig("coppa")&&(e.regs||(e.regs={}),e.regs.coppa=1);var _=(0,c.Z)(n,"ortb2.site");if(_){var A=[].concat((0,a.Z)(_.cat||[]),(0,a.Z)(_.pagecat||[])).filter((function(e){return e&&"string"==typeof e}));A.length&&(e.site.cat=A);var C=(0,c.Z)(_,"content.genre");C&&"string"==typeof C&&(e.site.content=y(y({},e.site.content),{},{genre:C}));var S=(0,c.Z)(_,"content.data");if(S&&S.length){var T=e.site.content||{};e.site.content=(0,u.Ee)(T,{data:S})}var D=(0,c.Z)(_,"content.id");D&&(e.site.content=y(y({},e.site.content),{},{id:D}))}}})),[].concat((0,a.Z)(j.map((function(e,n){var t,o=(A||_).replace(/[?&]sp=([^?&=]+)/,(function(e,n){return n&&(t=n),""})),r=B[n]||t;return{method:"POST",url:o+(o.indexOf("?")>-1?"&":"?")+"no_mapping=1"+(r?"&sp=".concat(r):""),data:JSON.stringify(e),bidObject:G[n]}}))),(0,a.Z)(Z?[{method:"POST",url:A||_,data:JSON.stringify(Z),bidsMap:x}]:[]))},interpretResponse:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Th;e=e&&e.body;var o,r=[];e?e.seatbid&&!e.seatbid.length&&(o="Response has empty seatbid array"):o="Response is empty";var i=this.forceBidderName||this.code;return!o&&e.seatbid&&e.seatbid.forEach((function(e){!function(e,n,t,o,r){if(e){var i;if(e.adid||(i=w+JSON.stringify(e)),i||e.adm||e.nurl){var a=n.bidsMap?n.bidsMap[e.impid]:n.bidObject,s=a||{},d=s.bid,c=s.savedPrebidBid;if(d&&function(e,n){return!(0,u.hj)(n)||(e>n||e===n&&Math.random()>.5)}(e.price,c&&c.cpm)){var l={requestId:d.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.adid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain?e.adomain:[]},dealId:e.dealid};a.savedPrebidBid=l,e.ext&&e.ext.bidder&&e.ext.bidder.grid&&e.ext.bidder.grid.demandSource&&(l.adserverTargeting={hb_ds:e.ext.bidder.grid.demandSource},l.meta.demandSource=e.ext.bidder.grid.demandSource),"video"===e.content_type?(e.adm?(l.vastXml=e.adm,l.adResponse={content:l.vastXml}):e.nurl&&(l.vastUrl=e.nurl),l.mediaType=p.pX,d.renderer||d.mediaTypes&&d.mediaTypes.video&&"outstream"!==d.mediaTypes.video.context||(l.renderer=function(e,n,t){var o=t.install({id:n.id,url:n.url,loaded:!1});try{o.setRender(M)}catch(e){(0,u.yN)("Prebid Error calling setRender on renderer",e)}return o}(0,{id:d.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"},o))):(l.ad=e.adm,l.mediaType=p.Mk);var f=D[r]&&D[r].bidResponseExternal||{};t.push((0,u.Ee)(l,f))}}else i=A+JSON.stringify(e);i&&(0,u.H)(i)}}(function(e){return e?e.bid?e.bid[0]||(0,u.H)(C):(0,u.H)(T+JSON.stringify(e)):(0,u.H)(S),e&&e.bid&&e.bid[0]}(e),n,r,t,i)})),o&&(0,u.H)(o),r},getUserSyncs:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=n[0],r=n[2],i=n[3];if(!P&&o.pixelEnabled){var a="";r&&("boolean"==typeof r.gdprApplies&&(a+="&gdpr=".concat(Number(r.gdprApplies))),"string"==typeof r.consentString&&(a+="&gdpr_consent=".concat(r.consentString))),i&&(a+="&us_privacy=".concat(i));var s=this.forceBidderName||this.code,d=D[s]&&D[s].syncurl||"https://x.bidswitch.net/sync?ssp=themediagrid";return P=!0,{type:"image",url:d+a}}},ajaxCall:function(e,n,t,o){return(0,l.hj)(e,n,t,o)},onDataDeletionRequest:function(e){var n=[],t=[N.code].concat((0,a.Z)(N.aliases.map((function(e){return e.code||e}))));e.forEach((function(e){var o=e.bids;return o&&o.forEach((function(e){var o=e.bidder,r=e.params;t.includes(o)&&r&&r.uid&&n.push(r.uid)}))})),n.length&&N.ajaxCall("https://media.grid.bidswitch.net/uspapi_delete",(function(){}),JSON.stringify({uids:n}),{contentType:"application/json",method:"POST"})}};function M(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}(0,f.dX)(N),(0,d.z)("gridBidAdapter")},4925:function(e,n,t){function o(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}t.d(n,{Z:function(){return o}})}},function(e){e(e.s=7206)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[618],{272:function(e,n,t){var o=t(4942),r=t(5671),i=t(3144),a=t(8640),s=t(265),d=t(4358),u=t(6475),c=t(8928),l=t(2797),f=t(5102),g=t(5164),p=t(4516),m=t(9633);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.add(e)}function y(e,n,t){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return t}var O="id5id",_="".concat(O,"_privacy"),E="html5",I="User ID - ID5 submodule: ",w=["pbjs-id5id","id5id.1st","id5id"],A=(0,g.df)({moduleType:m.y2,moduleName:"id5Id"}),C={name:"id5Id",gvlid:131,decode:function(e,n){var t={};if(e&&"string"==typeof e.universal_uid){var o={id5id:{uid:e.universal_uid,ext:t=e.ext||t}};switch((0,s.Z)(e,"ab_testing.result")){case"control":(0,d.PN)(I+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),(0,u.N)(o,"id5id.ext.abTestingControlGroup",!0);break;case"error":(0,d.H)(I+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":(0,d.PN)(I+"A/B Testing - user is NOT in the Control Group"),(0,u.N)(o,"id5id.ext.abTestingControlGroup",!1)}return(0,d.PN)(I+"Decoded ID",o),o}},getId:function(e,n,t){if(x(e)){if(Z(n))return{callback:function(o){new M(e,n,t,p.nX.getConsentData()).execute().then((function(e){o(e)})).catch((function(e){(0,d.H)(I+"getId fetch encountered an error",e),o()}))}};(0,d.PN)(I+"Skipping ID5 local storage write because no consent given.")}},extendId:function(e,n,t){return Z(n)?(G(x(e)?e.params.partner:0),(0,d.PN)(I+"using cached ID",t),t):((0,d.PN)(I+"No consent given for ID5 local storage writing, skipping nb increment."),t)},eids:{id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}}}},S=new WeakSet,T=new WeakSet,D=new WeakSet,P=new WeakSet,N=new WeakSet,M=function(){function e(n,t,o,i){(0,r.Z)(this,e),b(this,N),b(this,P),b(this,D),b(this,T),b(this,S),this.submoduleConfig=n,this.gdprConsentData=t,this.cacheIdObj=o,this.usPrivacyData=i}return(0,i.Z)(e,[{key:"execute",value:function(){var e=this;return y(this,T,R).call(this,this.submoduleConfig).then((function(n){return y(e,D,L).call(e,n.extensionsCall).then((function(t){return y(e,P,k).call(e,n.fetchCall,t)}))})).then((function(n){try{B(e.submoduleConfig.params.partner,0),n.privacy&&V(_,JSON.stringify(n.privacy),30)}catch(e){(0,d.H)(I+e)}return n}))}}]),e}();function U(e,n,t){return new Promise((function(o,r){(0,c.hj)(e,{success:function(e){o(e)},error:function(e){r(e)}},n,t)}))}function R(e){var n=e.params.configUrl||"https://id5-sync.com/api/config/prebid";return y(this,S,U).call(this,n,JSON.stringify(e),{method:"POST"}).then((function(e){var n=JSON.parse(e);return(0,d.PN)(I+"config response received from the server",n),n}))}function L(e){if(void 0===e)return Promise.resolve(void 0);var n=e.url,t=e.method||"GET",o="GET"===t?void 0:JSON.stringify(e.body||{});return y(this,S,U).call(this,n,o,{method:t}).then((function(e){var n=JSON.parse(e);return(0,d.PN)(I+"extensions response received from the server",n),n}))}function k(e,n){var t=e.url,o=e.overrides||{},r=h(h(h({},y(this,N,F).call(this)),o),{},{extensions:n});return y(this,S,U).call(this,t,JSON.stringify(r),{method:"POST",withCredentials:!0}).then((function(e){var n=JSON.parse(e);return(0,d.PN)(I+"fetch response received from the server",n),n}))}function F(){var e,n=this.submoduleConfig.params,t=this.gdprConsentData&&"boolean"==typeof this.gdprConsentData.gdprApplies&&this.gdprConsentData.gdprApplies?1:0,o=(0,f.nH)(),r=this.cacheIdObj&&this.cacheIdObj.signature?this.cacheIdObj.signature:(w.forEach((function(n){A.getCookie(n)&&(e=(0,d.dj)(A.getCookie(n))||e)})),e&&e.signature||""),i=G(n.partner),a={partner:n.partner,gdpr:t,nbPage:i,o:"pbjs",tml:o.topmostLocation,ref:o.ref,cu:o.canonicalUrl,top:o.reachedTop?1:0,u:o.stack[0]||window.location.href,v:"8.18.0",storage:this.submoduleConfig.storage,localStorage:A.localStorageIsEnabled()?1:0};!t||void 0===this.gdprConsentData.consentString||(0,d.xb)(this.gdprConsentData.consentString)||(0,d.jH)(this.gdprConsentData.consentString)||(a.gdpr_consent=this.gdprConsentData.consentString),void 0===this.usPrivacyData||(0,d.xb)(this.usPrivacyData)||(0,d.jH)(this.usPrivacyData)||(a.us_privacy=this.usPrivacyData),void 0===r||(0,d.jH)(r)||(a.s=r),void 0===n.pd||(0,d.jH)(n.pd)||(a.pd=n.pd),void 0===n.provider||(0,d.jH)(n.provider)||(a.provider=n.provider);var s=n.abTesting||{enabled:!1};return s.enabled&&(a.ab_testing={enabled:!0,control_group_pct:s.controlGroupPct}),a}function x(e){if(!e||!e.params||!e.params.partner)return(0,d.H)(I+"partner required to be defined"),!1;var n=e.params.partner;if("string"==typeof n||n instanceof String){var t=parseInt(n);if(isNaN(t)||t<0)return(0,d.H)(I+"partner required to be a number or a String parsable to a positive integer"),!1;e.params.partner=t}else if("number"!=typeof n)return(0,d.H)(I+"partner required to be a number or a String parsable to a positive integer"),!1;return e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==E&&(0,d.yN)(I+"storage type recommended to be '".concat(E,"'. In a future release this may become a strict requirement")),e.storage.name!==O&&(0,d.yN)(I+"storage name recommended to be '".concat(O,"'. In a future release this may become a strict requirement")),!0):((0,d.H)(I+"storage required to be set"),!1)}function j(e){return"".concat(O,"_").concat(e,"_nb")}function B(e,n){V(j(e),n,30)}function G(e){var n=function(e){var n=function(e){var n=A.getDataFromLocalStorage("".concat(e,"_exp"));return""===n||n&&new Date(n).getTime()-Date.now()>0?A.getDataFromLocalStorage(e):(A.removeDataFromLocalStorage(e),null)}(j(e));return n?parseInt(n):0}(e)+1;return B(e,n),n}function V(e,n,t){A.setDataInLocalStorage("".concat(e,"_exp"),function(e){return new Date(Date.now()+864e5*e).toUTCString()}(t)),A.setDataInLocalStorage("".concat(e),n)}function Z(e){var n=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies,t=(0,s.Z)(e,"vendorData.purpose.consents.1"),o=(0,s.Z)(e,"vendorData.vendor.consents.".concat(131..toString()));return!!(!n||t&&o)}(0,l.Bx)("userId",C),(0,a.z)("id5IdSystem")}},function(e){e(e.s=272)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[114],{5407:function(e,n,t){var o=t(8640),r=t(4358),i=t(265),a=t(8928),s=t(2797),d=t(5164),u=t(9633),c="identityLink",l=(0,d.df)({moduleType:u.y2,moduleName:c}),f="_lr_env",g={name:c,gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,n){var t=e&&e.params||{};if(t&&"string"==typeof t.pid){var o=n&&"boolean"==typeof n.gdprApplies&&n.gdprApplies?1:0,a=o?n.consentString:"",s=2===i.Z(n,"vendorData.tcfPolicyVersion");if(!o||a&&""!==a){var d="https://api.rlcdn.com/api/identity/envelope?pid=".concat(t.pid).concat(o?(s?"&ct=4&cv=":"&ct=1&cv=")+a:"");return{callback:function(e){if(window.ats)r.PN("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(n){n?(r.PN("identityLink: An envelope can be retrieved from ATS!"),m(!0),e(JSON.parse(n).envelope)):p(d,e,t)}));else{var n=(o=l.getCookie(f)||l.getDataFromLocalStorage(f))?window.atob(o):void 0;n?(r.PN("identityLink: LiveRamp envelope successfully retrieved from storage!"),e(JSON.parse(n).envelope)):p(d,e,t)}var o}}}r.PN("identityLink: Consent string is required to call envelope API.")}else r.H("identityLink: requires partner id to be defined")},eids:{idl_env:{source:"liveramp.com",atype:3}}};function p(e,n,t){var o,i={success:function(e){var t;if(e)try{t=JSON.parse(e)}catch(e){r.PN(e)}n(t&&t.envelope?t.envelope:"")},error:function(e){r.PN("identityLink: identityLink: ID fetch encountered an error",e),n()}};t.notUse3P||l.getCookie("_lr_retry_request")||((o=new Date).setTime(o.getTime()+36e5),l.setCookie("_lr_retry_request","true",o.toUTCString()),r.PN("identityLink: A 3P retrieval is attempted!"),m(!1),(0,a.hj)(e,i,void 0,{method:"GET",withCredentials:!0}))}function m(e){var n=new Date;n.setTime(n.getTime()+2592e6),l.setCookie("_lr_env_src_ats",e,n.toUTCString())}(0,s.Bx)("userId",g),(0,o.z)("identityLinkIdSystem")}},function(e){e(e.s=5407)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[155],{3390:function(e,n,t){var o=t(3324),r=t(9062),i=t(4942),a=t(1002),s=t(8640),d=t(265),u=t(4358),c=t(6475),l=t(4679),f=t(3193),g=t(5644),p=t(5164),m=t(2021),v=t(4614),h=t(4699),b=t(154),y=t(5706),O=t(75),_=t(5370);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var C="ix",S="roundel",T=[l.Mk,l.pX,l.B5],D=[144,144],P={JPY:1},N="p",M="x",U=9,R={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},L={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},k=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],F=["mimes","minduration","maxduration"],x=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],j="ixdiag",B="".concat(C,"_features"),G=!1,V=(0,p.df)({bidderCode:C}),Z={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:function(e){return(0,d.Z)(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(V.localStorageIsEnabled()){var e=(0,u.dj)(V.getDataFromLocalStorage(B));(0,d.Z)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var n=e.body,t=new Date,o=(0,d.Z)(n,"ext.features");o&&(this.featureToggles={expiry:t.setHours(t.getHours()+1),features:o},V.localStorageIsEnabled()&&V.setDataInLocalStorage(B,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},V.localStorageIsEnabled()&&V.removeDataFromLocalStorage(B)}},W=0,H="",q="",z=!1;function K(e){var n=J(e,l.pX),t=(0,d.Z)(e,"mediaTypes.video"),o=(0,d.Z)(e,"params.video");if(ee(t,o).length)return{};for(var r in n.video=o?(0,u.I8)(e.params.video):{},n.ext.tid=(0,d.Z)(e,"ortb2Imp.ext.tid"),function(e,n){if((0,d.Z)(n,"mediaTypes.video.context")===b.gZ){var t=(0,d.Z)(n,"mediaTypes.video.renderer");if(t||(t=(0,d.Z)(n,"renderer")),(0,d.Z)(n,"schain",!1))e.displaymanager="pbjs_wrapper";else if(t&&"object"===(0,a.Z)(t)){if(void 0!==t.url){var o="";try{o=new URL(t.url).hostname}catch(e){return}o.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=t.url}}else e.displaymanager="ix"}}(n,e),se(n,e),t)-1===x.indexOf(r)||n.video.hasOwnProperty(r)||(n.video[r]=t[r]);if(n.video.minduration>n.video.maxduration)return(0,u.H)("IX Bid Adapter: video minduration [".concat(n.video.minduration,"] cannot be greater than video maxduration [").concat(n.video.maxduration,"]"),{bidder:C,code:U}),{};var i=o&&o.context||t&&t.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,u.U)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,u.yN)("IX Bid Adapter: video.plcmt [".concat(e.video.plcmt,"] must be an integer between 1-4 inclusive")),delete e.video.plcmt)}(n),i&&!n.video.hasOwnProperty("placement")&&(i===b.LD?n.video.placement=1:i===b.gZ?(0,d.Z)(o,"playerConfig.floatOnScroll")?n.video.placement=5:(n.video.placement=3,z=!0):(0,u.yN)("IX Bid Adapter: Video context '".concat(i,"' is not supported"))),!n.video.w||!n.video.h){var s=ne((0,d.Z)(n,"video.playerSize"))||ne((0,d.Z)(e,"params.size"));if(!s)return(0,u.yN)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};n.video.w=s[0],n.video.h=s[1]}return X(e,n,l.pX),n}function J(e,n){var t={};if(t.id=e.bidId,t.ext={},(0,d.Z)(e,"params.".concat(n,".siteId"))&&!isNaN(Number(e.params[n].siteId)))switch(n){case l.Mk:t.ext.siteID=e.params.banner.siteId.toString();break;case l.pX:t.ext.siteID=e.params.video.siteId.toString();break;case l.B5:t.ext.siteID=e.params.native.siteId.toString()}else t.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id)),t}function X(e,n,t){var o=null,r=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(o={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,u.LQ)(e.getFloor)){var i="*",a="*";if(t&&(0,u.r3)(T,t)){var s=n[t];i=t,a=[s.w,s.h]}try{r=e.getFloor({mediaType:i,size:a})}catch(e){(0,u.yN)("priceFloors module call getFloor failed, error : ",e)}}var d=!1;r?(n.bidfloor=r.floor,n.bidfloorcur=r.currency,n.ext.fl=N,d=!0):o&&(n.bidfloor=o.floor,n.bidfloorcur=o.currency,n.ext.fl=M,d=!0),d&&(t==l.Mk?((0,c.N)(n,"banner.ext.bidfloor",n.bidfloor),(0,c.N)(n,"banner.ext.fl",n.ext.fl)):t==l.pX?((0,c.N)(n,"video.ext.bidfloor",n.bidfloor),(0,c.N)(n,"video.ext.fl",n.ext.fl)):((0,c.N)(n,"native.ext.bidfloor",n.bidfloor),(0,c.N)(n,"native.ext.fl",n.ext.fl)))}function Y(e,n,t){var o={},r=!(!(0,d.Z)(e,"exp")||!(0,u.U)(e.exp)),i=(0,d.Z)(e,"dealid")||(0,d.Z)(e,"ext.dealid");P.hasOwnProperty(n)?o.cpm=e.price/P[n]:o.cpm=e.price/100,o.requestId=e.impid,i&&(o.dealId=i),o.netRevenue=!0,o.currency=n,o.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2!=e.mtype||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(o.vastUrl=e.ext.vasturl):o.vastXml=e.adm;var a=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{a=JSON.parse(e.adm)}catch(e){(0,u.yN)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||2==e.mtype?(o.width=t.video.w,o.height=t.video.h,o.mediaType=l.pX,o.mediaTypes=t.mediaTypes,o.ttl=r?e.exp:3600):a&&a.native?(o.native={ortb:a.native},o.width=e.w?e.w:1,o.height=e.h?e.h:1,o.mediaType=l.B5,o.ttl=r?e.exp:3600):(o.ad=e.adm,o.width=e.w,o.height=e.h,o.mediaType=l.Mk,o.ttl=r?e.exp:300),o.meta={},o.meta.networkId=(0,d.Z)(e,"ext.dspid"),o.meta.brandId=(0,d.Z)(e,"ext.advbrandid"),o.meta.brandName=(0,d.Z)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(o.meta.advertiserDomains=e.adomain),o}function Q(e){return Array.isArray(e)&&2===e.length&&(0,u.U)(e[0])&&(0,u.U)(e[1])}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Q(e))return e[0]===n[0]&&e[1]===n[1];for(var t=0;t<e.length;t++)if(e[t][0]===n[0]&&e[t][1]===n[1])return!0;return!1}function ee(e,n){var t=[];e||(0,u.yN)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var o,r=w(F);try{for(r.s();!(o=r.n()).done;){var i=o.value,a=e&&e.hasOwnProperty(i),s=n&&n.hasOwnProperty(i);a||s||t.push("IX Bid Adapter: ".concat(i," is not included in either the adunit or params level"))}}catch(e){r.e(e)}finally{r.f()}var d=e&&e.hasOwnProperty("protocol"),c=e&&e.hasOwnProperty("protocols"),l=n&&n.hasOwnProperty("protocol"),f=n&&n.hasOwnProperty("protocols");return d||c||l||f||t.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),t}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Q(e)?e:!!Q(e[0])&&e[0]}function te(e,n,t){if(e)return I(I({},(0,v.sE)(t,(function(n){return n.bidId===e}))),(0,v.sE)(n,(function(n){return n.id===e})))}function oe(e,n,t,o){var r="https://htlb.casalemedia.com/openrtb/pbjs",i=function(e){var n=[],t={};if((0,u.kJ)(e)){var o,r=w(e);try{for(r.s();!(o=r.n()).done;){var i=o.value;L.hasOwnProperty(i.source)&&(0,d.Z)(i,"uids.0")&&(t[i.source]=!0,""!=L[i.source]&&(i.uids[0].ext={rtiPartner:L[i.source]}),delete i.uids[0].atype,n.push(i))}}catch(e){r.e(e)}finally{r.f()}}return{toSend:n,seenSources:t}}((0,d.Z)(e,"0.userIdAsEids")),s=i.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,n){var t=window.headertag.getIdentityInfo();if(t&&"object"===(0,a.Z)(t))for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];!r.responsePending&&r.data&&"object"===(0,a.Z)(r.data)&&Object.keys(r.data).length&&!n.seenSources[r.data.source]&&e.push(r.data)}}(s,i),n&&n.bidderCode===S&&!i.seenSources["liveramp.com"])return[];var l=[],g=function(e){var n={};return n.id=e[0].bidderRequestId.toString(),n.site={},n.ext={},n.ext.source="prebid",n.ext.ixdiag={},n.ext.ixdiag.ls=V.localStorageIsEnabled(),n.imp=[],n.at=1,n}(e);g=function(e,n){return n.length>0&&(e.ext.features={},n.forEach((function(n){e.ext.features[n]={activated:Z.isFeatureEnabled(n)}}))),e}(g,Z.REQUESTED_FEATURE_TOGGLES);var p=function(e,n){var t,o=e.map((function(e){return e.adUnitCode})).filter((function(e,n,t){return t.indexOf(e)===n})),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"8.18.0",userIds:ue(e[0]),url:window.location.href.split("?")[0],vpd:z,ae:n},i=w(o);try{var a=function(){var n=t.value,o=e.filter((function(e){return e.adUnitCode===n}))[0];(0,d.Z)(o,"mediaTypes")&&(Object.keys(o.mediaTypes).length>1&&r.mfu++,(0,d.Z)(o,"mediaTypes.native")&&r.nu++,(0,d.Z)(o,"mediaTypes.banner")&&r.bu++,"outstream"===(0,d.Z)(o,"mediaTypes.video.context")&&(r.ou++,be(o)&&(r.ren=!0)),"instream"===(0,d.Z)(o,"mediaTypes.video.context")&&r.iu++,r.allu++)};for(i.s();!(t=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return r}(e,(0,d.Z)(n,"fledgeEnabled"));for(var m in p)g.ext.ixdiag[m]=p[m];g=function(e,n,t,o,r){var i,a,s=(0,d.Z)(n,"timeout");s&&(e.ext.ixdiag.tmax=s),f.vc.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=f.vc.getConfig("userSync").syncsPerBidder);var c=function(){if(V.localStorageIsEnabled()){var e,n={};try{e=JSON.parse(V.getDataFromLocalStorage(j)||"{}")}catch(e){return(0,u.H)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(o){"number"==typeof e[t][o]&&(n[o]=n[o]?n[o]+e[t][o]:e[t][o])}))})),n}}();return(0,u.xb)(c)||(e.ext.ixdiag.err=c),e.ext.ixdiag.imps=Object.keys(t).length,e.source={tid:null==n||null===(i=n.ortb2)||void 0===i||null===(a=i.source)||void 0===a?void 0:a.tid},o[0].schain&&(e.source.ext={},e.source.ext.schain=o[0].schain),r.length>0&&(e.user={},e.user.eids=r),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(g,n,t,e,s),g=function(e,n){if(n){n.gdprConsent&&((H=n.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:H.gdprApplies?1:0}}),H.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:H.consentString||""},H.hasOwnProperty("addtlConsent")&&H.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:H.addtlConsent}))),n.uspConsent&&((0,c.N)(e,"regs.ext.us_privacy",n.uspConsent),q=n.uspConsent);var t=(0,d.Z)(n,"refererInfo.page");t&&(e.site.page=t),n.gppConsent&&((0,c.N)(e,"regs.gpp",n.gppConsent.gppString),(0,c.N)(e,"regs.gpp_sid",n.gppConsent.applicableSections))}return f.vc.getConfig("coppa")&&(0,c.N)(e,"regs.coppa",1),e}(g,n);var v={};W=e[0].params.siteId,v.s=W;for(var h=Object.keys(t),b=!1,y=0;y<h.length&&!(l.length>=4);y++){g=re(t,h,g,y);var O=(0,d.Z)(n,"ortb2")||{},_=I({},O.site||O.context);_.page=ie(n);var E=I({},O.user);(0,u.xb)(O)||b||((g=ae(n,g,O,_,E)).site=(0,u.Ee)({},g.site,_),g.user=(0,u.Ee)({},g.user,E),b=!0),g=de(t,g,h,y,v,r);var A=y===h.length-1;g=Ee(g=_e(g=we(g))),A&&(l.push({method:"POST",url:r+"?s="+W,data:(0,u.I8)(g),option:{contentType:"text/plain"},validBidRequests:e}),g.imp=[],b=!1)}return l}function re(e,n,t,o){var i=e[n[o]],a=i.missingImps,s=void 0===a?[]:a,f=i.ixImps,g={ixImps:void 0===f?[]:f,missingBannerImpressions:s},p=Object.keys(g).map((function(e){return g[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,n){return e.concat.apply(e,(0,r.Z)(n))}),[]),m=e[n[o]].gpid,v=e[n[o]].dfp_ad_unit_code,h=e[n[o]].tid,b=e[n[o]].sid,y=e[n[o]].ae,O=p.filter((function(e){return l.Mk in e})),_=p.filter((function(e){return!(l.Mk in e)}));if(O.length>0){var E=O.reduce((function(e,n){return e[n.adunitCode]||(e[n.adunitCode]=[]),e[n.adunitCode].push(n),e}),{});for(var I in E){for(var w=E[I],A=w[0],C={id:A.id,banner:{topframe:A.banner.topframe,format:w.map((function(e){var n=e.banner;return{w:n.w,h:n.h,ext:e.ext}}))}},S=0;S<C.banner.format.length;S++)null!=C.banner.format[S].ext&&null!=C.banner.format[S].ext.sid&&delete C.banner.format[S].ext.sid,"bidfloor"in w[S]&&(C.banner.format[S].ext.bidfloor=w[S].bidfloor);var T=e[n[o]].pos;(0,u.U)(T)&&(C.banner.pos=T),(v||m||h||b||y)&&(C.ext={},C.ext.dfp_ad_unit_code=v,C.ext.gpid=m,C.ext.tid=h,C.ext.sid=b,1==y&&(C.ext.ae=1)),"bidfloor"in w[0]&&(C.bidfloor=w[0].bidfloor),"bidfloorcur"in w[0]&&(C.bidfloorcur=w[0].bidfloorcur);var D=e[n[o]].adUnitFPD;D&&(0,c.N)(C,"ext.data",D),t.imp.push(C)}}return _.length>0&&_.forEach((function(e){if((0,c.N)(e,"ext.gpid",m),t.imp.length>0){var n=!1;t.imp.forEach((function(o,r){e.id===o.id&&l.pX in e?(o.video=e.video,o.video.ext=Object.assign({},e.video.ext,e.ext),(0,d.Z)(o,"video.ext.bidfloor",!1)&&(0,d.Z)(o,"bidfloor",!1)&&o.video.ext.bidfloor<o.bidfloor&&(o.bidfloor=o.video.ext.bidfloor),!(0,d.Z)(o,"ext.siteID",!1)&&(0,d.Z)(e,"video.ext.siteID")&&((0,c.N)(o,"ext.siteID",e.video.ext.siteID),(0,c.N)(t,"ext.ixdiag.usid",!0)),n=!0):e.id===o.id&&l.B5 in e&&(o.native=e.native,o.native.ext=Object.assign({},e.native.ext,e.ext),(0,d.Z)(o,"native.ext.bidfloor",!1)&&(0,d.Z)(o,"bidfloor",!1)&&o.native.ext.bidfloor<o.bidfloor&&(o.bidfloor=o.native.ext.bidfloor),!(0,d.Z)(o,"ext.siteID",!1)&&(0,d.Z)(e,"native.ext.siteID",!1)&&((0,c.N)(o,"ext.siteID",e.native.ext.siteID),(0,c.N)(t,"ext.ixdiag.usid",!0)),n=!0)})),n||t.imp.push(e)}else t.imp.push(e)})),t}function ie(e){var n,t=e&&e.bidderCode||"ix",r=f.vc.getConfig(t);return n=(0,d.Z)(e,"ortb2.site.page")?e.ortb2.site.page:(0,d.Z)(e,"refererInfo.page"),r&&"object"===(0,a.Z)(r.firstPartyData)?function(e,n,t){var r;try{r=new URL(n)}catch(t){(0,u.yN)("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(n,". Using referer URL instead.")),r=new URL((0,d.Z)(e,"refererInfo.page"))}for(var i=new URLSearchParams(r.search),a=0,s=Object.entries(t);a<s.length;a++){var c=(0,o.Z)(s[a],2),l=c[0],f=c[1];i.has(l)||i.append(l,f)}return r.search=i.toString(),r.toString()}(e,n,r.firstPartyData):n}function ae(e,n,t,o,r){if(n.ext.ixdiag.fpd=!0,Object.keys(o).forEach((function(e){-1===R.SITE.indexOf(e)&&delete o[e]})),Object.keys(r).forEach((function(e){-1===R.USER.indexOf(e)&&delete r[e]})),t.device){var i=I({},t.device.sua);(0,u.xb)(i)||(0,c.N)(n,"device.sua",i)}return t.hasOwnProperty("regs")&&!e.gppConsent&&(t.regs.hasOwnProperty("gpp")&&"string"==typeof t.regs.gpp&&(0,c.N)(n,"regs.gpp",t.regs.gpp),t.regs.hasOwnProperty("gpp_sid")&&Array.isArray(t.regs.gpp_sid)&&(0,c.N)(n,"regs.gpp_sid",t.regs.gpp_sid)),n}function se(e,n){var t=(0,d.Z)(n,"ortb2Imp.ext.data");t&&(0,c.N)(e,"ext.data",t)}function de(e,n,t,o,r,i){var a=e[t[o]].pbadslot,s=e[t[o]].tagId,d=e[t[o]].adUnitCode,u=e[t[o]].divId;return(a||s||d||u)&&(n.ext.ixdiag.pbadslot=a,n.ext.ixdiag.tagid=s,n.ext.ixdiag.adunitcode=d,n.ext.ixdiag.divId=u),n}function ue(e){var n=e.userId||{};return k.filter((function(e){return n[e]}))}function ce(e,n){if(n)for(var t=0;t<e.length;t++){var o=e[t];if(n[0]===o[0]&&n[1]===o[1]){e.splice(t,1);break}}}function le(e,n){var t=function(e){var n=J(e,l.B5),t=e.nativeOrtbRequest;return t.eventtrackers=[{event:1,methods:[1,2]}],t.privacy=1,n.native={request:JSON.stringify(t),ver:"1.2"},n.ext.tid=(0,d.Z)(e,"ortb2Imp.ext.tid"),se(n,e),X(e,n,l.B5),n}(e);if(0!=Object.keys(t).length){n[e.adUnitCode]={},n[e.adUnitCode].ixImps=[],n[e.adUnitCode].ixImps.push(t),n[e.adUnitCode].gpid=(0,d.Z)(e,"ortb2Imp.ext.gpid"),n[e.adUnitCode].dfp_ad_unit_code=(0,d.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),n[e.adUnitCode].pbadslot=(0,d.Z)(e,"ortb2Imp.ext.data.pbadslot"),n[e.adUnitCode].tagId=(0,d.Z)(e,"params.tagId");var o=e.adUnitCode,r=document.getElementById(o)?o:(0,O.ky)(o).divId;n[e.adUnitCode].adUnitCode=o,n[e.adUnitCode].divId=r}}function fe(e,n){var t=K(e);if(0!=Object.keys(t).length){n[e.adUnitCode]={},n[e.adUnitCode].ixImps=[],n[e.adUnitCode].ixImps.push(t),n[e.adUnitCode].gpid=(0,d.Z)(e,"ortb2Imp.ext.gpid"),n[e.adUnitCode].dfp_ad_unit_code=(0,d.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),n[e.adUnitCode].pbadslot=(0,d.Z)(e,"ortb2Imp.ext.data.pbadslot"),n[e.adUnitCode].tagId=(0,d.Z)(e,"params.tagId");var o=e.adUnitCode,r=document.getElementById(o)?o:(0,O.ky)(o).divId;n[e.adUnitCode].adUnitCode=o,n[e.adUnitCode].divId=r}}function ge(e,n,t,o){var r=function(e){var n=J(e,l.Mk);n.banner={},n.adunitCode=e.adUnitCode;var t=(0,d.Z)(e,"params.size");return t&&(n.banner.w=t[0],n.banner.h=t[1]),n.banner.topframe=(0,u.yL)()?0:1,X(e,n,l.Mk),n}(e),i=$((0,d.Z)(e,"mediaTypes.banner.sizes"),(0,d.Z)(e,"params.size"));if(t.hasOwnProperty(e.adUnitCode)||(t[e.adUnitCode]={}),t[e.adUnitCode].gpid=(0,d.Z)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,d.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].tid=(0,d.Z)(e,"ortb2Imp.ext.tid"),t[e.adUnitCode].pbadslot=(0,d.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,d.Z)(e,"params.tagId"),t[e.adUnitCode].pos=(0,d.Z)(e,"mediaTypes.banner.pos"),(0,d.Z)(o,"fledgeEnabled")){var a=(0,d.Z)(e,"ortb2Imp.ext.ae");a?(0,u.U)(a)?t[e.adUnitCode].ae=a:(0,u.yN)("error setting auction environment flag - must be an integer"):1==(0,d.Z)(o,"defaultForSlots")&&(t[e.adUnitCode].ae=1)}var s=(0,d.Z)(e,"ortb2Imp.ext.data");s&&(t[e.adUnitCode].adUnitFPD=s);var c=(0,d.Z)(e,"params.id");!c||"string"!=typeof c&&"number"!=typeof c||(t[e.adUnitCode].sid=String(c));var f=e.adUnitCode,g=document.getElementById(f)?f:(0,O.ky)(f).divId;t[e.adUnitCode].adUnitCode=f,t[e.adUnitCode].divId=g,i&&(t[e.adUnitCode].hasOwnProperty("ixImps")||(t[e.adUnitCode].ixImps=[]),t[e.adUnitCode].ixImps.push(r)),function(e,n,t){if(n.hasOwnProperty(e.adUnitCode)){var o=[];n[e.adUnitCode].hasOwnProperty("missingSizes")&&(o=n[e.adUnitCode].missingSizes),ce(o,e.params.size),n[e.adUnitCode].missingSizes=o}else if((0,d.Z)(e,"mediaTypes.banner.sizes")){var r=(0,u.I8)(e.mediaTypes.banner.sizes);ce(r,e.params.size);var i={missingSizes:r,impression:t};n[e.adUnitCode]=i}}(e,n,r)}function pe(e,n,t){var o=(0,u.I8)(n);return o.banner.w=t[0],o.banner.h=t[1],X(e,o,l.Mk),o}function me(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===C&&function(e){if(V.localStorageIsEnabled()){var n;try{n=JSON.parse(V.getDataFromLocalStorage(j)||"{}")}catch(e){(0,u.yN)("ix can not read ixdiag from localStorage.")}var t=new Date;if(Object.keys(n).map((function(e){var o=new Date(e);o.setDate(o.getDate()+7)-t<0&&delete n[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===C){var o=t.toISOString().slice(0,10),r=e.arguments[1].code;r&&(n[o]=n[o]||{},Number(n[o][r])||(n[o][r]=0),n[o][r]++)}V.setDataInLocalStorage(j,JSON.stringify(n))}}(e)}function ve(e){e.renderer.push((function(){var n=e.adUnitCode,t=document.getElementById(n)?n:(0,O.ky)(n).divId;t?window.createIXPlayer(t,e):(0,u.yN)("IX Bid Adapter: adUnitCode: ".concat(t," not found on page."))}))}function he(e,n){var t=y.Th.install({id:e,url:n,loaded:!1});try{t.setRender(ve)}catch(e){return(0,u.yN)("Prebid Error calling setRender on renderer",e),null}return n?t:((0,u.yN)("Outstream renderer URL not found"),null)}function be(e){if("outstream"!==(0,d.Z)(e,"mediaTypes.video.context"))return!1;var n=(0,d.Z)(e,"mediaTypes.video.renderer");return n||(n=(0,d.Z)(e,"renderer")),!("object"===(0,a.Z)(n)&&n.url&&n.render)||n.backupOnly}var ye={code:C,gvlid:10,aliases:[{code:S,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:T,isBidRequestValid:function(e){G||(m.on(g.FP.AUCTION_DEBUG,me),m.on(g.FP.AD_RENDER_FAILED,me),G=!0);var n,t,o=(0,d.Z)(e,"params.video"),r=(0,d.Z)(e,"params.size"),i=(0,d.Z)(e,"mediaTypes.banner.sizes"),a=(0,d.Z)(e,"mediaTypes.video"),s=(0,d.Z)(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),l=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,u.r3)(T,e.mediaType))return(0,u.yN)("IX Bid Adapter: media type is not supported."),!1;if((0,d.Z)(e,"mediaTypes.banner")&&!i)return!1;if(r){var f=ne(r);if(!f)return(0,u.H)("IX Bid Adapter: size has invalid format.",{bidder:C,code:1}),!1;if(!$(e.sizes,f)&&!$(s,f)&&!$(i,f))return(0,u.H)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:C,code:2}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,u.H)("IX Bid Adapter: siteId must be string or number type.",{bidder:C,code:4}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,u.H)("IX Bid Adapter: siteId must valid value",{bidder:C,code:4}),!1;if((c||l)&&!(c&&l&&(n=e.params.bidFloor,t=e.params.bidFloorCur,Boolean("number"==typeof n&&"string"==typeof t&&t.match(/^[A-Z]{3}$/)))))return(0,u.H)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:C,code:5}),!1;if(a&&o){var p=K(e).video,v=ee(a,o);if((0,d.Z)(e,"mediaTypes.video.context")===b.gZ&&be(e)&&p){var h=[(0,d.Z)(p,"w"),(0,d.Z)(p,"h")];if(!(h[0]>=D[0]&&h[1]>=D[1]))return(0,u.H)("IX Bid Adapter: ".concat(h," is an invalid size for IX outstream renderer")),!1}if(v.length)return v.forEach((function(e){(0,u.H)(e,{bidder:C,code:3})})),!1}return function(e){return void 0===(0,d.Z)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,n){var t=[],o={},i={},a={},s={};for(var c in Z.getFeatureToggles(),e.forEach((function(e){var t=Object.keys((0,d.Z)(e,"mediaTypes",{}));for(var r in t)switch(t[r]){case l.Mk:ge(e,s,o,n);break;case l.pX:fe(e,i);break;case l.B5:le(e,a);break;default:(0,u.yN)("IX Bid Adapter: ad unit mediaTypes ".concat(r," is not supported"))}})),s)if(s.hasOwnProperty(c)){var f=s[c].missingSizes;o.hasOwnProperty(c)||(o[c]={}),o[c].hasOwnProperty("missingImps")||(o[c].missingImps=[],o[c].missingCount=0);for(var g=s[c].impression,p=0;p<f.length;p++){var m=pe(e[0],g,f[p]);o[c].missingImps.push(m),o[c].missingCount++}}var v,h=[];return Object.keys(o).length>0&&h.push(o),Object.keys(i).length>0&&h.push(i),Object.keys(a).length>0&&h.push(a),Z.isFeatureEnabled("pbjs_enable_multiformat")?t.push.apply(t,(0,r.Z)(oe(e,n,(v={},h.forEach((function(e){Object.keys(e).forEach((function(n){Object.keys(v).includes(n)?v[n].hasOwnProperty("ixImps")&&e[n].hasOwnProperty("ixImps")?v[n].ixImps=[].concat((0,r.Z)(v[n].ixImps),(0,r.Z)(e[n].ixImps)):v[n].hasOwnProperty("missingImps")&&e[n].hasOwnProperty("missingImps")?v[n].missingImps=[].concat((0,r.Z)(v[n].missingImps),(0,r.Z)(e[n].missingImps)):e[n].hasOwnProperty("ixImps")?v[n].ixImps=e[n].ixImps:e[n].hasOwnProperty("missingImps")&&(v[n].missingImps=e[n].missingImps):v[n]=e[n]}))})),v)))):(Object.keys(o).length>0&&t.push.apply(t,(0,r.Z)(oe(e,n,o))),Object.keys(i).length>0&&t.push.apply(t,(0,r.Z)(oe(e,n,i))),Object.keys(a).length>0&&t.push.apply(t,(0,r.Z)(oe(e,n,a)))),t},interpretResponse:function(e,n){var t=[],o=null,r=(0,d.Z)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(Z.setFeatureToggles(e),!e.hasOwnProperty("body"))return t;for(var i=e.body,s=i.seatbid||[],c=0;c<s.length;c++)if(s[c].hasOwnProperty("bid")){for(var f=s[c].bid,g=n.data,p=0;p<f.length;p++){var m=te(f[p].impid,g.imp,n.validBidRequests);if((o=Y(f[p],i.cur,m)).mediaType===l.pX&&be(m)){var v=(0,d.Z)(i,"ext.videoplayerurl");if(o.renderer=he(f[p].bidId,v),!o.renderer)continue}t.push(o)}if((0,d.Z)(g,"ext.ixdiag.err")&&V.localStorageIsEnabled())try{V.removeDataFromLocalStorage(j)}catch(e){(0,u.H)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(r)&&r.length>0))return t;r=r.filter((function(e){return!!function(e){return"object"===(0,a.Z)(e)&&null!==e}(e)||((0,u.yN)("Malformed auction config detected:",e),!1)}));try{return{bids:t,fledgeAuctionConfigs:r}}catch(e){return(0,u.yN)("Error attaching AuctionConfigs",e),t}},transformBidParams:function(e,n){return(0,_.u)({siteID:"number"},e)},getUserSyncs:function(e,n){var t=[],o=null;if(n.length>0&&(o=(0,d.Z)(n[0],"body.ext.publishersyncsperbidderoverride")),void 0!==o&&0==o)return[];if(e.iframeEnabled)t.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var r=null;f.vc.getConfig("userSync")&&(r=f.vc.getConfig("userSync").syncsPerBidder),0===r&&(r=o),r=o&&(0===r||r)?o>r?r:o:1;for(var i=0;i<r;i++)t.push({type:"image",url:Oe(r,i)})}return t}};function Oe(e,n){var t="",o="0";return H&&H.hasOwnProperty("gdprApplies")&&(o=H.gdprApplies?"1":"0"),H&&H.hasOwnProperty("consentString")&&(t=H.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+W.toString()+"&p="+e.toString()+"&i="+n.toString()+"&gdpr="+o+"&gdpr_consent="+t+"&us_privacy="+(q||"")}function _e(e){return e.imp.forEach((function(n,t){var o=n.ext;if(null==o)return e;Ie(n)<2||Object.keys(o).forEach((function(r){if(l.Mk in n){var i=n.banner.ext;if(void 0!==i&&void 0!==i[r]&&i[r]==o[r]&&delete e.imp[t].banner.ext[r],void 0!==n.banner.format)for(var a=0;a<n.banner.format.length;a++)null!=n.banner.format[a].ext&&null!=n.banner.format[a].ext[r]&&n.banner.format[a].ext[r]==o[r]&&delete e.imp[t].banner.format[a].ext[r]}if(l.pX in n){var s=n.video.ext;void 0!==s&&void 0!==s[r]&&s[r]==o[r]&&delete e.imp[t].video.ext[r]}if(l.B5 in n){var d=n.native.ext;void 0!==d&&void 0!==d[r]&&d[r]==o[r]&&delete e.imp[t].native.ext[r]}}))})),e}function Ee(e){return e.imp.forEach((function(n,t){if(null==n.ext)return e;if(!(Ie(n)<2)){if(l.Mk in n){var o=n.banner.ext;if(void 0!==o&&void 0!==o.siteID&&delete e.imp[t].banner.ext.siteID,void 0!==n.banner.format)for(var r=0;r<n.banner.format.length;r++)void 0!==n.banner.format[r].ext&&void 0!==n.banner.format[r].ext.siteID&&((0,c.N)(e.imp[t],"ext.siteID",n.banner.format[r].ext.siteID),(0,c.N)(e,"ext.ixdiag.usid",!0),delete e.imp[t].banner.format[r].ext.siteID)}if(l.pX in n){var i=n.video.ext;void 0!==i&&void 0!==i.siteID&&delete e.imp[t].video.ext.siteID}if(l.B5 in n){var a=n.native.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[t].native.ext.siteID}}})),e}function Ie(e){var n=0;return void 0!==e.banner&&(n+=1),void 0!==e.video&&(n+=1),void 0!==e.native&&(n+=1),n}function we(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}(0,h.dX)(ye),(0,s.z)("ixBidAdapter")}},function(e){e.O(0,[402,703],(function(){return 3390,e(e.s=3390)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[826],{5526:function(e,n,t){var o,r,i,a=t(3324),s=t(1002),d=t(8640),u=t(4358),c=t(265),l=t(3193),f=t(4699),g=t(5164),p=t(4679),m=Object.freeze({CODE:"kargo",HOST:"krk2.kargo.com",REQUEST_METHOD:"POST",REQUEST_ENDPOINT:"/api/v1/prebid",TIMEOUT_ENDPOINT:"/api/v1/event/timeout",GVLID:972,SUPPORTED_MEDIA_TYPES:[p.Mk,p.pX]}),v=(0,g.df)({bidderCode:m.CODE}),h=Object.freeze({KEY:"currency",US_DOLLAR:"USD"}),b=Object.freeze({SOCIAL_CANVAS:"params.socialCanvas",SUA:"ortb2.device.sua",TDID_ADAPTER:"userId.tdid"}),y=Object.freeze({BROWSERS:"browsers",MOBILE:"mobile",MODEL:"model",PLATFORM:"platform",SOURCE:"source"}),O=[y.BROWSERS,y.MOBILE,y.MODEL,y.SOURCE,y.PLATFORM],_=Object.freeze({KEY:"krg_crb",SYNC_URL:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}&gpp={GPP_STRING}&gpp_sid={GPP_SID}",SYNC_COUNT:5,PAGE_VIEW_ID:"pageViewId",PAGE_VIEW_TIMESTAMP:"pageViewTimestamp",PAGE_VIEW_URL:"pageViewUrl"});function E(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var n=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("");return n.slice(0,8)+"-"+n.slice(8,12)+"-"+n.slice(12,16)+"-"+n.slice(16,20)+"-"+n.slice(20)}catch(e){return""}}function I(){return o||(o=E()),o}function w(e){try{return v.getDataFromLocalStorage(e)}catch(e){return null}}function A(e,n,t,o,r){var i=C._getCrb(),a={crbIDs:i.syncIds||{}};e&&(a.tdID=e),!e&&i.tdID&&(a.tdID=i.tdID),n&&(a.usp=n);try{t&&(a.gdpr={consent:t.consentString||"",applies:!!t.gdprApplies})}catch(e){}if(null!=i.lexId&&(a.kargoID=i.lexId),null!=i.clientId&&(a.clientID=i.clientId),null!=i.optOut&&(a.optOut=i.optOut),null!=o&&(a.sharedIDEids=o),r){var s={};r&&r.consentString&&(s.gppString=r.consentString),r&&r.applicableSections&&(s.applicableSections=r.applicableSections),(0,u.xb)(s)||(a.gpp=s)}return a}var C={gvlid:m.GVLID,code:m.CODE,isBidRequestValid:function(e){return!(!e||!e.params||!e.params.placementId)},buildRequests:function(e,n){var t=l.vc.getConfig(h.KEY),o=t&&t.adServerCurrency?t.adServerCurrency:null,a=[];(0,u.yi)(e,(function(e){a.push(function(e){var n,t,o={id:e.bidId,tid:null===(n=e.ortb2Imp)||void 0===n||null===(t=n.ext)||void 0===t?void 0:t.tid,pid:e.params.placementId,code:e.adUnitCode};null!=e.floorData&&e.floorData.floorMin>0&&(o.floor=e.floorData.floorMin),e.bidRequestsCount>0&&(o.bidRequestCount=e.bidRequestsCount),e.bidderRequestsCount>0&&(o.bidderRequestCount=e.bidderRequestsCount),e.bidderWinsCount>0&&(o.bidderWinCount=e.bidderWinsCount);var r=function(e){if(null!=e.ortb2Imp){if(null!=e.ortb2Imp.gpid&&""!=e.ortb2Imp.gpid)return e.ortb2Imp.gpid;if(null!=e.ortb2Imp.ext&&null!=e.ortb2Imp.ext.data){if(null!=e.ortb2Imp.ext.data.pbAdSlot&&""!=e.ortb2Imp.ext.data.pbAdSlot)return e.ortb2Imp.ext.data.pbAdSlot;if(null!=e.ortb2Imp.ext.data.adServer&&null!=e.ortb2Imp.ext.data.adServer.adSlot&&""!=e.ortb2Imp.ext.data.adServer.adSlot)return e.ortb2Imp.ext.data.adServer.adSlot}}return null!=e.adUnitCode&&""!=e.adUnitCode?e.adUnitCode:""}(e);return null!=r&&""!=r&&(o.fpd={gpid:r}),null!=e.mediaTypes&&(null!=e.mediaTypes.banner&&(o.banner=e.mediaTypes.banner),null!=e.mediaTypes.video&&(o.video=e.mediaTypes.video),null!=e.mediaTypes.native&&(o.native=e.mediaTypes.native)),o}(e))}));var s=e[0],d=(0,c.Z)(s,b.TDID_ADAPTER),f=function(e){var n;return{pageURL:null==e||null===(n=e.refererInfo)||void 0===n?void 0:n.page,rawCRB:v.getCookie(_.KEY),rawCRBLocalStorage:w(_.KEY)}}(n),g=Object.assign({},{pbv:"8.18.0",aid:s.auctionId,sid:I(),url:f.pageURL,timeout:n.timeout,ts:(new Date).getTime(),device:{size:[window.screen.width,window.screen.height]},imp:a,user:A(d,n.uspConsent,n.gdprConsent,s.userIdAsEids,n.gppConsent)});s.schain&&s.schain.nodes&&(g.schain=s.schain);var p=r===window.location.pathname?++i:(r=window.location.pathname,i=0);null!=p&&(g.requestCount=p),null!=o&&o!=h.US_DOLLAR&&(g.cur=o),null!=f.rawCRB&&(g.rawCRB=f.rawCRB),null!=f.rawCRBLocalStorage&&(g.rawCRBLocalStorage=f.rawCRBLocalStorage);var E=(0,c.Z)(s,b.SOCIAL_CANVAS);null!=E&&(g.socan=E);var C=(0,c.Z)(s,b.SUA);if(C){var S=[];O.forEach((function(e){var n=C[e];if(n&&("string"!=typeof n||""!==n.trim()))switch(e){case y.MOBILE&&n<1:case y.SOURCE&&n<1:break;default:S.push(e)}})),g.device.sua=(0,u.ei)(C,S)}var T=null!=w(_.PAGE_VIEW_ID),D=null!=w(_.PAGE_VIEW_TIMESTAMP),P=null!=w(_.PAGE_VIEW_URL),N={};return T&&(N.id=w(_.PAGE_VIEW_ID)),D&&(N.timestamp=Number(w(_.PAGE_VIEW_TIMESTAMP))),P&&(N.url=w(_.PAGE_VIEW_URL)),(0,u.xb)(N)||(g.page=N),Object.assign({},n,{method:m.REQUEST_METHOD,url:"https://".concat(m.HOST).concat(m.REQUEST_ENDPOINT),data:g,currency:o})},interpretResponse:function(e,n){var t=e.body,o=[];return(0,u.xb)(t)||"object"!==(0,s.Z)(t)||Object.entries(t).forEach((function(e){var t=(0,a.Z)(e,2),r=t[0],i=t[1],s={mediaType:i.mediaType&&m.SUPPORTED_MEDIA_TYPES.includes(i.mediaType)?i.mediaType:p.Mk};i.metadata&&i.metadata.landingPageDomain&&(s.clickUrl=i.metadata.landingPageDomain[0],s.advertiserDomains=i.metadata.landingPageDomain);var d={requestId:r,cpm:Number(i.cpm),width:i.width,height:i.height,ttl:300,creativeId:i.id,dealId:i.targetingCustom,netRevenue:!0,currency:i.currency||n.currency,mediaType:s.mediaType,meta:s};s.mediaType==p.pX?i.admUrl?d.vastUrl=i.admUrl:d.vastXml=i.adm:d.ad=i.adm,o.push(d)})),o},getUserSyncs:function(e,n,t,o,r){var i=[],a=E(),s=C._getCrb().clientId,d=t&&t.gdprApplies?1:0,u=t&&t.consentString?t.consentString:"",c=r&&r.consentString?r.consentString:"",l=r&&r.applicableSections&&Array.isArray(r.applicableSections)?r.applicableSections.join(","):"";if("string"==typeof o&&4==o.length&&1==o[0]&&"Y"==o[2])return i;if(e.iframeEnabled&&a&&s)for(var f=0;f<_.SYNC_COUNT;f++)i.push({type:"iframe",url:_.SYNC_URL.replace("{UUID}",s).replace("{SEED}",a).replace("{INDEX}",f).replace("{GDPR}",d).replace("{GDPR_CONSENT}",u).replace("{US_PRIVACY}",o||"").replace("{GPP_STRING}",c).replace("{GPP_SID}",l)});return i},supportedMediaTypes:m.SUPPORTED_MEDIA_TYPES,onTimeout:function(e){null!=e&&e.forEach((function(e){!function(e,n){var t={aid:e,ato:n};try{var o=(0,u.Q2)({protocol:"https",hostname:m.HOST,pathname:m.TIMEOUT_ENDPOINT,search:t});(0,u.hq)(o)}catch(e){}}(e.auctionId,e.timeout)}))},_getCrb:function(){var e=function(){try{return JSON.parse(atob(w(_.KEY)))}catch(e){return{}}}();return Object.keys(e).length?e:function(){try{var e=JSON.parse(v.getCookie(_.KEY));if(e&&e.v){var n=JSON.parse(atob(e.v));if(n)return n}return{}}catch(e){return{}}}()},_getSessionId:I};(0,f.dX)(C),(0,d.z)("kargoBidAdapter")}},function(e){e(e.s=5526)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[30],{7497:function(e,n,t){var o,r=t(8640),i=t(8525),a=t(4358),s=t(265),d=t(5644),u=t(6104),c=t(3193),l=t(4699),f=t(2021),g=t(4614),p={appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}},m=t(8928),v=t(2797),h=t(7673),b=t(3324),y=t(1002),O=t(4942),_=t(4980),E=t(6475),I=t(9626),w=t(9933),A=t(9702),C=t(1021),S=t(6372),T=t(1087),D=t(286),P=t(9633),N=t(571),M=t(4947),U=t(9957),R=t(1136);function L(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){(0,O.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j,B,G=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),V=(0,_.x)({processors:w.X,context:{netRevenue:!0},imp:function(e,n,t){Object.assign(t,n.pbsData);var o=e(n,t);if((n.bids||[]).forEach((function(e){e.ortb2Imp&&Object.keys(e.ortb2Imp).length>0&&(0,E.N)(o,"ext.prebid.imp.".concat(e.bidder),e.ortb2Imp)})),Object.values(C.E).some((function(e){return o[e]})))return o.secure=t.s2sBidRequest.s2sConfig.secure,o},request:function(e,n,t,o){if(n.length){var r=o.s2sBidRequest,i=o.requestedBidders,s=o.eidPermissions,d=e(n,t,o);return d.tmax=r.s2sConfig.timeout,[d.app,d.dooh,d.site].forEach((function(e){var n;!e||null!==(n=e.publisher)&&void 0!==n&&n.id||(0,E.N)(e,"publisher.id",r.s2sConfig.accountId)})),(0,a.kJ)(s)&&s.length>0&&(i&&(0,a.kJ)(i)&&(s=s.map((function(e){return x(x({},e),{},{bidders:e.bidders.filter((function(e){return i.includes(e)}))})}))),(0,E.N)(d,"ext.prebid.data.eidpermissions",s)),o.transmitTids||(0,E.N)(d,"ext.prebid.createtids",!1),d}(0,a.H)("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},bidResponse:function(e,n,t){var o,r,i=t.actualBidRequests.get(t.seatbid.seat);null==i&&(i=t.actualBidRequests.get(null)),i&&Object.assign(t,{bidRequest:i,bidderRequest:t.actualBidderRequests.find((function(e){return e.bidderCode===i.bidder}))});var a=e(n,t);return a.requestBidder=null===(o=i)||void 0===o?void 0:o.bidder,null!==(r=a.native)&&void 0!==r&&r.ortb&&(a.adm=a.native.ortb),a.requestTimestamp=t.requestTimestamp,{bid:Object.assign((0,I.m)(d.Q_.Q,{src:d.os.YZ,bidId:i?i.bidId||i.bid_Id:null,transactionId:t.adUnit.transactionId,auctionId:t.bidderRequest.auctionId}),a),adUnit:t.adUnit.code}},overrides:(o={},(0,O.Z)(o,S.DZ,{id:function(e,n,t,o){n.id=o.impId},params:function(e,n,t,o){var r,i=o.s2sBidRequest.s2sConfig.adapterOptions,a=L(o.actualBidRequests.values());try{for(a.s();!(r=a.n()).done;){var s=r.value;(0,A.j)(n,s,o,o),i&&i[s.bidder]&&Object.assign(n.ext.prebid.bidder[s.bidder],i[s.bidder])}}catch(e){a.e(e)}finally{a.f()}},bidfloor:function(e,n,t,o){var r,i,a=(0,R.LT)((0,U.fe)((function(e){return[e.bidfloor,e.bidfloorcur]}))),s=L(o.actualBidRequests.values());try{for(s.s();!(i=s.n()).done;){var d=i.value,u={};if(e(u,d,o),null==u.bidfloorcur||null==u.bidfloor){r=null;break}r=null==r?u:a(r,u)}}catch(e){s.e(e)}finally{s.f()}null!=r&&Object.assign(n,r)}}),(0,O.Z)(o,S.Z,{fpd:function(e,n,t,o){var r,i,s;o.transmitTids&&(0,E.N)(n,"source.tid",t.auctionId),(0,a.Ee)(n,null===(r=o.s2sBidRequest.ortb2Fragments)||void 0===r?void 0:r.global),o.s2sBidRequest.s2sConfig.extPrebid&&"object"===(0,y.Z)(o.s2sBidRequest.s2sConfig.extPrebid)&&(0,E.N)(n,"ext.prebid",(0,a.Ee)((null===(s=n.ext)||void 0===s?void 0:s.prebid)||{},o.s2sBidRequest.s2sConfig.extPrebid)),o.getRedactor().ortb2(n);var d=Object.entries((null===(i=o.s2sBidRequest.ortb2Fragments)||void 0===i?void 0:i.bidder)||{}).filter((function(e){var n=(0,b.Z)(e,1)[0],t=o.s2sBidRequest.s2sConfig.bidders;return o.s2sBidRequest.s2sConfig.allowUnknownBidderCodes||t&&t.includes(n)})).map((function(e){var n=(0,b.Z)(e,2),t=n[0],r=n[1];return{bidders:[t],config:{ortb2:o.getRedactor(t).ortb2(r)}}}));d.length&&(0,E.N)(n,"ext.prebid.bidderconfig",d)},extPrebidAliases:function(e,n,t,o){o.actualBidderRequests.forEach((function(t){return e(n,t,o)}))},sourceExtSchain:function(e,n,t,o){var r,i=(0,s.Z)(n,"ext.prebid.schains")||[],a=new Set(i.flatMap((function(e){return e.bidders})));i=Object.values(i.concat(o.actualBidderRequests.filter((function(e){return!a.has(e.bidderCode)})).map((function(e){return{bidders:[e.bidderCode],schain:(0,s.Z)(e,"bids.0.schain")}}))).filter((function(e){var n=e.bidders,t=e.schain;return(null==n?void 0:n.length)>0&&t})).reduce((function(e,n){var t=n.bidders,o=n.schain,i=JSON.stringify(o);return e.hasOwnProperty(i)||(e[i]={bidders:new Set,schain:o}),t.forEach((function(n){return e[i].bidders.add(n)})),(null==r||e[i].bidders.size>r.bidders.size)&&(r=e[i]),e}),{})).map((function(e){var n=e.bidders,t=e.schain;return{bidders:Array.from(n),schain:t}})),null!=r&&(0,E.N)(n,"source.ext.schain",r.schain),i.length&&(0,E.N)(n,"ext.prebid.schains",i)}}),(0,O.Z)(o,S.YC,{serverSideStats:function(e,n,t,o){o.actualBidderRequests.forEach((function(r){return e(n,t,x(x({},o),{},{bidderRequest:r,bidRequests:r.bids}))}))},fledgeAuctionConfigs:function(e,n,t,o){var r=Object.values(o.impContext).flatMap((function(e){return(e.fledgeConfigs||[]).map((function(n){return{adUnitCode:e.adUnit.code,config:n.config}}))}));r.length>0&&(n.fledgeAuctionConfigs=r)}}),o)}),Z=t(9128),W=c.vc.getConfig,H=d.os.YZ,q=0,z={bidders:Object.freeze([]),timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{eventtrackers:[{event:1,methods:[1,2]}]}};function K(e,n,t,o,r){if(j.length!==q){q++;var i={},s=W("userSync.filterSettings");if(s){var d=s.all,u=s.iframe||d,c=s.image||d;u&&(i=Object.assign({iframe:u},i)),c&&(i=Object.assign({image:c},i))}var l={uuid:(0,a.DO)(),bidders:e,account:r.accountId,filterSettings:i},f=r.userSyncLimit;(0,a.hj)(f)&&f>0&&(l.limit=f),n&&(l.gdpr=n.gdprApplies?1:0,!1!==n.gdprApplies&&(l.gdpr_consent=n.consentString)),t&&(l.us_privacy=t),o&&(l.gpp_sid=o.applicableSections.join(),l.gpp=o.gppString),"boolean"==typeof r.coopSync&&(l.coopSync=r.coopSync);var g=JSON.stringify(l);(0,m.hj)(Q(r.syncEndpoint,n),(function(e){try{J((e=JSON.parse(e)).bidder_status,r)}catch(e){(0,a.H)(e)}}),g,{contentType:"text/plain",withCredentials:!0})}}function J(e,n){if(0!==e.length){var t=e.shift();t.no_cookie?function(e,n,t,o,r){r.syncUrlModifier&&"function"==typeof r.syncUrlModifier[t]&&(n=r.syncUrlModifier[t](e,n,t)),function(e,n,t,o,r){n?"image"===e||"redirect"===e?((0,a.ji)('Invoking image pixel user sync for bidder: "'.concat(t,'"')),(0,a.hq)(n,o,r)):"iframe"===e?((0,a.ji)('Invoking iframe user sync for bidder: "'.concat(t,'"')),(0,a.Vs)(n,o,r)):((0,a.H)('User sync type "'.concat(e,'" not supported for bidder: "').concat(t,'"')),o()):((0,a.H)('No sync url for bidder "'.concat(t,'": ').concat(n)),o())}(e,n,t,o,r.syncTimeout)}(t.usersync.type,t.usersync.url,t.bidder,J.bind(null,e,n),n):J(e,n)}}c.vc.setDefaults({s2sConfig:z}),W("s2sConfig",(function(e){return function(e){if(e){var n=Array.isArray(e)?e:[e],t=[];return n.every((function(n,o,r){!function(e){["endpoint","syncEndpoint"].forEach((function(n){if((0,a.d8)(e[n])){var t=e[n];e[n]={p1Consent:t,noP1Consent:t}}!(0,a.PO)(e[n])||e[n].p1Consent&&e[n].noP1Consent||["p1Consent","noP1Consent"].forEach((function(t){e[n][t]||(0,a.yN)("s2sConfig.".concat(n,".").concat(t," not defined.  PBS request will be skipped in some P1 scenarios."))}))}))}(e);var i=function(e){if(e.defaultVendor){var n=e.defaultVendor,t=Object.keys(e);if(!p[n])return(0,a.H)("Incorrect or unavailable prebid server default vendor option: "+n),!1;Object.keys(p[n]).forEach((function(o){z[o]!==e[o]&&(0,g.q9)(t,o)||(e[o]=p[n][o])}))}return e.enabled="boolean"==typeof e.enabled&&e.enabled}(n);if(!1!==i){var s=function(e){var n=Object.keys(e);if(["accountId","endpoint"].filter((function(e){return!(0,g.q9)(n,e)&&((0,a.H)(e+" missing in server to server config"),!0)})).length>0)return!1}(n);if(!1!==s)return Array.isArray(n.bidders)&&(r[o].bidders=n.bidders.filter((function(e){return-1===t.indexOf(e)&&(t.push(e),!0)}))),!0}return(0,a.yN)("prebidServer: s2s config is disabled"),!1}))?j=n:void 0}}(e.s2sConfig)}));var X={};function Y(e){var n,t,o=function(e,n){if([e,n].every(a.d8))return X["".concat(e).concat(n)]}(e.auctionId,e.adId);(0,a.d8)(o)&&((0,a.ji)('Invoking image pixel for wurl on BID_WIN: "'.concat(o,'"')),(0,a.hq)(o),[n=e.auctionId,t=e.adId].every(a.d8)&&(X["".concat(n).concat(t)]=void 0))}function Q(e,n){return(0,h.h)(n)?e.p1Consent:e.noP1Consent}function $(e){var n,t,o;return Array.isArray(e)&&e.length>0&&(n=e[0].gdprConsent,t=e[0].uspConsent,o=e[0].gppConsent),{gdprConsent:n,uspConsent:t,gppConsent:o}}var ee=(0,v.z3)("sync",(function(e,n,t,o){var r=o.onResponse,i=o.onError,s=o.onBid,d=o.onFledge,l=$(n).gdprConsent,f=(0,a.I8)(e.ad_units),p=f.map((function(e){return e.bids.map((function(e){return e.bidder})).filter(a.tT)})).reduce(a.xH,[]).filter(a.tT),m=e.metrics.measureTime("buildRequests",(function(){return function(e,n,t,o,r){var i,s,d=(0,a.AB)(),l=new Set,f=[],g=(0,u.O6)(e.s2sConfig),p=(i=(0,T.hb)(g),s={},function(e){return null==e?i:(s.hasOwnProperty(e)||(s[e]=(0,T.hb)((0,D.T)(P.UL,e))),s[e])});(t=t.map((function(e){return p().bidRequest(e)}))).forEach((function(e){var o=new Map;t.bids=e.bids.map((function(e){return p(e.bidder).bidRequest(e)})),e.bids.forEach((function(t){null!=t.mediaTypes&&(0,a.yN)("Prebid Server adapter does not (yet) support bidder-specific mediaTypes for the same adUnit. Size mapping configuration will be ignored for adUnit: ".concat(e.code,", bidder: ").concat(t.bidder)),o.set(t.bidder,(0,a.zE)(t.bid_id,n))}));for(var r=e.code,i=1;l.has(r);)i++,r="".concat(e.code,"-").concat(i);l.add(r),f.push(x(x(x({},e),{},{adUnitCode:e.code},(0,a.iG)(o.values().next().value||{},["userId","userIdAsEids","schain"])),{},{pbsData:{impId:r,actualBidRequests:o,adUnit:e}}))}));var m=x(x({},Object.fromEntries(Object.entries(n[0]).filter((function(e){var n=(0,b.Z)(e,1)[0];return!G.has(n)})))),{},{fledgeEnabled:n.some((function(e){return e.fledgeEnabled}))});return V.toORTB({bidderRequest:m,bidRequests:f,context:{currency:c.vc.getConfig("currency.adServerCurrency")||"USD",ttl:e.s2sConfig.defaultTtl||60,requestTimestamp:d,s2sBidRequest:e,requestedBidders:o,actualBidderRequests:n,eidPermissions:r,nativeRequest:e.s2sConfig.ortbNative,getRedactor:p,transmitTids:(0,N.xD)(M.Jt,g)}})}(e,n,f,p,B)})),v=m&&JSON.stringify(m);(0,a.PN)("BidRequest: "+v);var h=Q(e.s2sConfig.endpoint,l);if(m&&v&&h){var y=e.metrics.startTiming("net");t(h,{success:function(n){var t;y();try{t=JSON.parse(n);var o=e.metrics.measureTime("interpretResponse",(function(){return function(e,n){return V.fromORTB({response:e,request:n})}(t,m)})),i=o.bids,u=o.fledgeAuctionConfigs;i.forEach(s),u&&u.forEach(d)}catch(e){(0,a.H)(e)}!t||t.status&&(0,g.q9)(t.status,"Error")?((0,a.H)("error parsing response: ",t?t.status:"not valid JSON"),r(!1,p)):r(!0,p,t)},error:function(){y(),i.apply(this,arguments)}},v,{contentType:"text/plain",withCredentials:!0,browsingTopics:(0,N.xD)(M.oK,(0,u.O6)(e.s2sConfig))})}else(0,a.H)("PBS request not made.  Check endpoints.")}),"processPBSRequest");(0,a.EE)().setEidPermissions=function(e){B=e},u.ZP.registerBidAdapter(new function(){var e=new i.Z("prebidServer");return e.callBids=function(e,n,t,o,r){var i=e.metrics=(0,Z.Bf)((0,s.Z)(n,"0.metrics")).newMetrics().renameWith((function(n){return["adapter.s2s.".concat(n),"adapters.s2s.".concat(e.s2sConfig.defaultVendor,".").concat(n)]}));o=i.startTiming("total").stopBefore(o),n.forEach((function(e){return(0,Z.Bf)(e.metrics).join(i,{continuePropagation:!1})}));var g=$(n),p=g.gdprConsent,m=g.uspConsent,v=g.gppConsent;Array.isArray(j)&&(e.s2sConfig&&e.s2sConfig.syncEndpoint&&Q(e.s2sConfig.syncEndpoint,p)&&K(e.s2sConfig.bidders.map((function(e){return u.ZP.aliasRegistry[e]||e})).filter((function(e,n,t){return t.indexOf(e)===n})),p,m,v,e.s2sConfig),ee(e,n,r,{onResponse:function(t,r,a){t&&n.forEach((function(e){return f.j8(d.FP.BIDDER_DONE,e)})),function(e,n){var t,o;return(null==e||null===(t=e.extPrebid)||void 0===t?void 0:t.returnallbidstatus)&&(null==n||null===(o=n.ext)||void 0===o?void 0:o.seatnonbid)}(e.s2sConfig,a)&&f.j8(d.FP.SEAT_NON_BID,{seatnonbid:a.ext.seatnonbid,auctionId:n[0].auctionId,requestedBidders:r,response:a,adapterMetrics:i}),o(),function(e,n,t,o){e.forEach((function(e){var r=u.ZP.getBidAdapter(e);r&&r.registerSyncs&&c.vc.runWithBidder(e,r.registerSyncs.bind(r,[],n,t,o))}))}(r,p,m,v)},onError:function(e,t){(0,a.H)("Prebid server call failed: '".concat(e,"'"),t),n.forEach((function(e){return f.j8(d.FP.BIDDER_ERROR,{error:t,bidderRequest:e})})),o()},onBid:function(n){var o,r,i,s=n.adUnit,u=n.bid,c=u.metrics=e.metrics.fork().renameWith();c.checkpoint("addBidResponse"),null!=u.requestId&&null!=u.requestBidder||e.s2sConfig.allowUnknownBidderCodes?c.measureTime("addBidResponse.validate",(function(){return(0,l.JY)(s,u)}))?(t(s,u),u.pbsWurl&&(o=u.auctionId,r=u.adId,i=u.pbsWurl,[o,r].every(a.d8)&&(X["".concat(o).concat(r)]=i))):t.reject(s,u,d.Gw.UI):((0,a.yN)("PBS adapter received bid from unknown bidder (".concat(u.bidder,"), but 's2sConfig.allowUnknownBidderCodes' is not set. Ignoring bid.")),t.reject(s,u,d.Gw.Dg))},onFledge:function(e){var t=e.adUnitCode,o=e.config;(0,l.BF)(n[0].auctionId,t,o)}}))},f.on(d.FP.BID_WON,Y),Object.assign(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:H})},"prebidServer"),(0,r.z)("prebidServerBidAdapter")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors},7673:function(e,n,t){t.d(n,{h:function(){return r}});var o=t(265);function r(e){return null==e||!e.gdprApplies||!0===(0,o.Z)(e,"vendorData.purpose.consents.1")}}},function(e){e.O(0,[279,951,635],(function(){return 7497,e(e.s=7497)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[60],{9171:function(e,n,t){var o,r=t(1002),i=t(4925),a=t(4942),s=t(8640),d=t(4358),u=t(265),c=t(6475),l=t(3193),f=t(8928),g=t(2021),p=t(5644),m=t(2797),v=t(4614),h=t(5102),b=t(5975),y=t(8653),O=t(6372),_=t(9128),E=t(6066),I=t(75),w=t(9957),A=["modelGroups"];function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T="Price Floors",D=(0,f.OI)(1e4),P=Symbol(),N=[P,"gptSlot","adUnitCode","size","domain","mediaType"],M=!1,U=!1,R={},L=[],k={};function F(e,n){return Math.ceil((parseFloat(e)*Math.pow(10,n)).toFixed(1))/Math.pow(10,n)}var x;function j(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,o=void 0===t?y.K.index:t;return(null==e?void 0:e.adUnitCode)||o.getAdUnit(n).code}var B=(o={},(0,a.Z)(o,P,(function(){return"*"})),(0,a.Z)(o,"size",(function(e,n){return(0,d.s)(n.size)||"*"})),(0,a.Z)(o,"mediaType",(function(e,n){return n.mediaType||"banner"})),(0,a.Z)(o,"gptSlot",(function(e,n){return function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,t=(void 0===n?y.K.index:n).getAdUnit({transactionId:e});return"gam"===(0,u.Z)(t,"ortb2Imp.ext.data.adserver.name")&&t.ortb2Imp.ext.data.adserver.adslot}((e||n).transactionId)||(0,I.ky)(j(e,n)).gptSlot})),(0,a.Z)(o,"domain",(function(){return null==x&&(x=(0,d.en)((0,h.nH)().topmostLocation,{noDecodeWholeURL:!0}).hostname),x})),(0,a.Z)(o,"adUnitCode",(function(e,n){return j(e,n)})),o);function G(e,n){var t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(e,n,t){return e.length?e.reduce((function(e,o){var r=B[o](n,t)||"*";return e.push("*"===r?["*"]:[r.toLowerCase(),"*"]),e}),[]):[]}((0,u.Z)(e,"schema.fields")||[],n,o);if(!r.length)return{matchingFloor:void 0};var i=r.map((function(e){return e[0]})).join("-"),a=(0,u.Z)(e,"matchingInputs.".concat(i));if(a)return S({},a);var s=function(e,n){return e.reduce((function(e,t){var o=[];return e.map((function(e){t.map((function(t){o.push(e+n+t)}))})),o})).sort((function(e,n){return e.split("*").length-n.split("*").length}))}(r,(0,u.Z)(e,"schema.delimiter")||"|"),d=(0,v.sE)(s,(function(n){return e.values.hasOwnProperty(n)})),l={floorMin:e.floorMin||0,floorRuleValue:e.values[d],matchingData:s[0],matchingRule:d===(null===(t=e.meta)||void 0===t?void 0:t.defaultRule)?void 0:d},f=(0,u.Z)(n,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof f&&(l.floorMin=f),l.matchingFloor=Math.max(l.floorMin,l.floorRuleValue),(0,c.N)(e,"matchingInputs.".concat(i),S({},l)),l}function V(e,n,t){return parseFloat((0,E.O)(e,S(S({},n),{},{cpm:e}),t))}var Z={banner:function(e){return(0,u.Z)(e,"mediaTypes.banner.sizes")||[]},video:function(e){return(0,u.Z)(e,"mediaTypes.video.playerSize")||[]},native:function(e){return(0,u.Z)(e,"mediaTypes.native.image.sizes")?[(0,u.Z)(e,"mediaTypes.native.image.sizes")]:[]}};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},n=this,t=k[n.auctionId];if(!t||t.skipped)return{};e=function(e,n){var t=Object.keys(e.mediaTypes||{});return"*"===n.mediaType&&1===t.length&&(n.mediaType=t[0]),"*"===n.size&&-1!==t.indexOf(n.mediaType)&&Z[n.mediaType]&&1===Z[n.mediaType](e).length&&(n.size=Z[n.mediaType](e)[0]),n}(n,e);var o=G(t.data,S({},n),{mediaType:e.mediaType,size:e.size}),r=e.currency||t.data.currency;if(o.matchingFloor&&r!==t.data.currency)try{o.matchingFloor=(0,s.R)().convertCurrency(o.matchingFloor,t.data.currency,r)}catch(e){(0,d.yN)("".concat(T,": Unable to get currency conversion for getFloor for bidder ").concat(n.bidder,". You must have currency module enabled with defaultRates in your currency config")),r=t.data.currency}if(t.enforcement.bidAdjustment&&o.matchingFloor){var i=b.S.get(n.bidder,"inverseBidAdjustment");if(i)o.matchingFloor=i(o.matchingFloor,n);else{var a=V(o.matchingFloor,null,n);o.matchingFloor=a?function(e,n){var t=Math.pow(10,10);return e*t/(n*t)*(e*t)/t}(o.matchingFloor,a):o.matchingFloor}}return o.matchingFloor?{floor:F(o.matchingFloor,4),currency:r}:{}}function H(e,n){var t=(0,d.I8)(e);return t.schema.delimiter=e.schema.delimiter||"|",t.values=function(e,n){var t=e.schema.fields,o=e.schema.delimiter,r=n&&-1===t.indexOf("adUnitCode")&&t.unshift("adUnitCode");return Object.keys(e.values).reduce((function(t,i){return t[(r?"".concat(n).concat(o).concat(i):i).toLowerCase()]=e.values[i],t}),{})}(t,n),t.currency=t.currency||"USD",t}function q(e){e.hasExited||(L=L.filter((function(n){return n.timer!==e.timer})),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,d.DO)(),k[e.reqBidsConfigObj.auctionId]=function(e,n){var t=(0,d.I8)(R);if(2===(0,u.Z)(t,"data.floorsSchemaVersion")){var o=t.data,r=o.modelGroups,a=(0,i.Z)(o,A);t.data=Object.assign(a,function(e,n){for(var t=Math.floor(Math.random()*n+1),o=0;o<e.length;o++)if((t-=e[o].modelWeight)<=0)return e[o]}(r,a.modelWeightSum))}var s=0===Object.keys((0,u.Z)(t,"data.values")||{}).length;if(t.data=s?function(e){var n=e.find((function(e){var n;return null!=(null===(n=e.floors)||void 0===n?void 0:n.schema)}));return e.reduce((function(e,t){var o,r;if(null!=(null===(o=t.floors)||void 0===o?void 0:o.schema)&&!(0,d.vZ)(t.floors.schema,null==n||null===(r=n.floors)||void 0===r?void 0:r.schema))return(0,d.H)("".concat(T,": adUnit '").concat(t.code,"' declares a different schema from one previously declared by adUnit '").concat(n.code,"'. Floor config for '").concat(t.code,"' will be ignored.")),e;var i=Object.assign({},null==n?void 0:n.floors,{values:void 0},t.floors);if(J(i))if(e.values){var a=H(i,t.code).values;Object.assign(e.values,a)}else(e=H(i,t.code)).location="adUnit";else null!=t.floors&&(0,d.yN)("adUnit '".concat(t.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),t);return e}),{})}(e):H(t.data),0===Object.keys((0,u.Z)(t,"data.values")||{}).length)t.skipped=!0;else{var c=(0,d.ak)("pbjs_skipRate")||t.skipRate,l=100*Math.random()<parseFloat(c);t.skipped=l}return t.hasOwnProperty("floorMin")&&(t.data.floorMin=t.floorMin),function(e,n,t){e.forEach((function(e){e.bids.forEach((function(e){n.skipped?delete e.getFloor:e.getFloor=W,e.auctionId=t,e.floorData={skipped:n.skipped,skipRate:n.skipRate,floorMin:n.floorMin,modelVersion:(0,u.Z)(n,"data.modelVersion"),modelWeight:(0,u.Z)(n,"data.modelWeight"),modelTimestamp:(0,u.Z)(n,"data.modelTimestamp"),location:(0,u.Z)(n,"data.location","noData"),floorProvider:n.floorProvider,fetchStatus:R.fetchStatus}}))}))}(e,t,n),t}(e.reqBidsConfigObj.adUnits||(0,s.R)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function z(e){return e=function(e){if((0,d.hj)(e.default)){var n,t,o="*",r=((null===(n=e.schema)||void 0===n?void 0:n.fields)||[]).length;r?o=Array(r).fill("*").join((null===(t=e.schema)||void 0===t?void 0:t.delimiter)||"|"):(0,c.N)(e,"schema.fields",[P]),e.values=e.values||{},null==e.values[o]&&(e.values[o]=e.default,e.meta={defaultRule:o})}return e}(e),n=(0,u.Z)(e,"schema.fields"),!!(Array.isArray(n)&&n.length>0&&n.every((function(e){return-1!==N.indexOf(e)}))||((0,d.H)("".concat(T,": Fields recieved do not match allowed fields")),0))&&(t=e,o=e.schema.fields.length,i=e.schema.delimiter||"|","object"===(0,r.Z)(t.values)&&(t.values=Object.keys(t.values).reduce((function(e,n){return function(e,n,t,o){return"string"==typeof e&&e.split(o).length===t&&"number"==typeof n}(n,t.values[n],o,i)&&(e[n]=t.values[n]),e}),{}),Object.keys(t.values).length>0));var n,t,o,i}var K={1:function(e){return z(e)},2:function(e){return!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((function(n){return!("number"!=typeof n.modelWeight||!z(n)||(e.modelWeightSum+=n.modelWeight,0))})))}};function J(e){return"object"===(0,r.Z)(e)&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof K[e.floorsSchemaVersion]?((0,d.H)("".concat(T,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):K[e.floorsSchemaVersion](e))}function X(e,n){if(e&&"object"===(0,r.Z)(e)&&J(e))return(0,d.PN)("".concat(T,": A ").concat(n," set the auction floor data set to "),e),S(S({},e),{},{location:n});(0,d.H)("".concat(T,": The floors data did not contain correct values"),e)}var Y=(0,_.g3)("priceFloors",(function(e,n){var t={reqBidsConfigObj:n,context:this,nextFn:e,haveExited:!1,timer:null};R.auctionDelay>0&&M?(t.timer=setTimeout((function(){(0,d.yN)("".concat(T,": Fetch attempt did not return in time for auction")),R.fetchStatus="timeout",q(t)}),R.auctionDelay),L.push(t)):q(t)}));function Q(){L.forEach((function(e){clearTimeout(e.timer),q(e)})),L=[]}function $(e){var n;M=!1,R.fetchStatus="success";try{n=JSON.parse(e)}catch(t){n=e}var t=X(n,"fetch");t&&(R.data=t,R.skipRate=(0,d.hj)(t.skipRate)?t.skipRate:R.skipRate,R.floorProvider=t.floorProvider||R.floorProvider),Q()}function ee(e){M=!1,R.fetchStatus="error",(0,d.H)("".concat(T,": Fetch errored with: "),e),Q()}var ne=(0,_.A)("priceFloors",(function(e,n,t,o){var r=k[t.auctionId];if(!r||!t||r.skipped)return e.call(this,n,t,o);var i,a=y.K.index.getBidRequest(t),c=G(r.data,a,S(S({},t),{},{size:[t.width,t.height]}));if(!c.matchingFloor)return(0,d.yN)("".concat(T,": unable to determine a matching price floor for bidResponse"),t),e.call(this,n,t,o);var l,f=r.data.currency.toUpperCase(),g=t.currency||"USD";if(f===g.toUpperCase())i=t.cpm;else if(t.originalCurrency&&f===t.originalCurrency.toUpperCase())i=t.originalCpm;else try{i=(0,s.R)().convertCurrency(t.cpm,g.toUpperCase(),f)}catch(r){return(0,d.H)("".concat(T,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(t)),e.call(this,n,t,o)}return function(e,n,t,o){t.floorData={floorValue:n.matchingFloor,floorRule:n.matchingRule,floorRuleValue:n.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:o,enforcements:S({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach((function(o,r){var i=n.matchingData.split(e.data.schema.delimiter)[r];t.floorData.matchedFields[o]=i}))}(r,c,t,i=V(i,t,a)),function(e,n,t){var o=!1!==(0,u.Z)(e,"enforcement.enforceJS"),r=!0===(0,u.Z)(e,"enforcement.floorDeals")||!t.dealId,i=t.floorData.cpmAfterAdjustments<n.matchingFloor;return o&&i&&r}(r,c,t)?(o(p.Gw.pe),void(0,d.yN)("".concat(T,": ").concat(t.bidderCode,"'s Bid Response for ").concat(n," was rejected due to floor not met (adjusted cpm: ").concat(null==t||null===(l=t.floorData)||void 0===l?void 0:l.cpmAfterAdjustments,", floor: ").concat(null==c?void 0:c.matchingFloor,")"),t)):e.call(this,n,t,o)}));l.vc.getConfig("floors",(function(e){return function(e){var n;(R=(0,d.ei)(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(n){return(0,u.Z)(e,"data.floorProvider",n)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN((0,u.Z)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return(0,d.ei)(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e}])},"additionalSchemaFields",function(e){return"object"===(0,r.Z)(e)&&Object.keys(e).length>0?(n=e,void Object.keys(n).forEach((function(e){-1===N.indexOf(e)&&"function"==typeof n[e]&&(N.push(e),B[e]=n[e])}))):void 0;var n},"data",function(e){return e&&X(e,"setConfig")||void 0}])).enabled?((n=R.endpoint).url&&!M?"GET"!==(n.method||"GET")?(0,d.H)("".concat(T,": 'GET' is the only request method supported at this time!")):(D(n.url,{success:$,error:ee},null,{method:"GET"}),M=!0):M&&(0,d.yN)("".concat(T,": A fetch is already occuring. Skipping.")),U||(g.on(p.FP.AUCTION_END,(function(e){setTimeout((function(){return delete k[e.auctionId]}),3e3)})),(0,s.R)().requestBids.before(Y,50),(0,m.v5)("addBidResponse").before(ne,(0,d.eB)()?4:50),U=!0)):((0,d.PN)("".concat(T,": Turning off module")),R={},k={},(0,m.v5)("addBidResponse").getHooks({hook:ne}).remove(),(0,s.R)().requestBids.getHooks({hook:Y}).remove(),U=!1)}(e.floors)})),(0,O.f8)({type:O.DZ,name:"bidfloor",fn:function(e,n,t){if("function"==typeof n.getFloor){var o,r;try{var i=n.getFloor({currency:t.currency||l.vc.getConfig("currency.adServerCurrency")||"USD",mediaType:t.mediaType||"*",size:"*"});o=i.currency,r=i.floor}catch(e){return void(0,d.yN)("Cannot compute floor for bid",n)}r=parseFloat(r),null==o||null==r||isNaN(r)||Object.assign(e,{bidfloor:r,bidfloorcur:o})}}}),(0,O.f8)({type:O.DZ,name:"extPrebidFloors",fn:function(e,n,t){if(null!=e.bidfloor){var o,r,i,a,s,d,u,l,f,g,p=t.reqContext.floorMin||{},m=p.floorMinCur,v=p.floorMin;null==m&&(m=e.bidfloorcur);var h=(null===(o=e.ext)||void 0===o||null===(r=o.prebid)||void 0===r||null===(i=r.floors)||void 0===i?void 0:i.floorMinCur)||(null===(a=e.ext)||void 0===a||null===(s=a.prebid)||void 0===s?void 0:s.floorMinCur)||m,b=(null===(d=e.ext)||void 0===d||null===(u=d.prebid)||void 0===u||null===(l=u.floors)||void 0===l?void 0:l.floorMin)||(null===(f=e.ext)||void 0===f||null===(g=f.prebid)||void 0===g?void 0:g.floorMin),y=(0,w.Nh)(e.bidfloor,e.bidfloorcur,m),O=!(!b||!h)&&(0,w.Nh)(b,h,m),_=O&&O<y?O:y;(0,c.N)(e,"ext.prebid.floors.floorMin",_),(null==v||v>_)&&(v=_),t.reqContext.floorMin={floorMin:v,floorMinCur:m}}},dialects:[O.md],priority:-1}),(0,O.f8)({type:O.Z,name:"extPrebidFloors",fn:function(e,n,t){var o,r,i;U&&(0,c.N)(e,"ext.prebid.floors.enabled",(null===(o=e.ext)||void 0===o||null===(r=o.prebid)||void 0===r||null===(i=r.floors)||void 0===i?void 0:i.enabled)||!1),null!=t&&t.floorMin&&(0,d.Ee)(e,{ext:{prebid:{floors:t.floorMin}}})},dialects:[O.md]}),(0,s.z)("priceFloors")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors},4925:function(e,n,t){function o(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}t.d(n,{Z:function(){return o}})}},function(e){e.O(0,[635,703],(function(){return 9171,e(e.s=9171)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[126],{5817:function(e,n,t){var o=t(3324),r=t(9062),i=t(4942),a=t(1002),s=t(8640),d=t(4358),u=t(265),c=t(6475),l=t(4699),f=t(4679),g=t(3193),p=t(5706),m=t(5975),v=t(5644),h=t(5370);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O="PubMatic: ",_="USD",E=void 0,I="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),w={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},A="number",C="string",S="boolean",T="array",D={mimes:T,minduration:A,maxduration:A,startdelay:A,playbackmethod:T,api:T,protocols:T,w:A,h:A,battr:T,linearity:A,placement:A,plcmt:A,minbitrate:A,maxbitrate:A,skip:A},P=1,N=3,M={1:"PMP",5:"PREF",6:"PMPG"},U={bootstrapPlayer:function(e){var n={code:e.adUnitCode};if(e.vastXml?n.vastXml=e.vastXml:e.vastUrl&&(n.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var t,o=U.getRendererId("pubmatic",e.rendererCode),r=document.getElementById(e.adUnitCode),i=0;i<window.bluebillywig.renderers.length;i++)if(window.bluebillywig.renderers[i]._id===o){t=window.bluebillywig.renderers[i];break}t?t.bootstrap(n,r):(0,d.yN)("".concat(O,": Couldn't find a renderer with ").concat(o))}else(0,d.yN)("".concat(O,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,n){var t=I.replace("$RENDERER",e),o=p.Th.install({url:t,loaded:!1,adUnitCode:n});try{o.setRender(U.outstreamRender)}catch(e){(0,d.yN)("".concat(O,": Error tying to setRender on renderer"),e)}return o},outstreamRender:function(e){e.renderer.push((function(){U.bootstrapPlayer(e)}))},getRendererId:function(e,n){return"".concat(e,"-").concat(n)}},R=[f.Mk,f.pX,f.B5],L=0,k=!1,F=["pubmatic"],x=["all"];function j(e,n){if(!(0,d.d8)(n))return n&&(0,d.yN)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+(0,a.Z)(n)),E;switch(e){case"pmzoneid":return n.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(n)||E;case"yob":return parseInt(n)||E;default:return n}}function B(e,n,t){var o,r="Ignoring param key: "+e+", expects "+t+", found "+(0,a.Z)(n);switch(t){case S:o=d.jn;break;case A:o=d.hj;break;case C:o=d.d8;break;case T:o=d.kJ}return o(n)?n:((0,d.yN)(O+r),E)}var G={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},V=v.oF,Z=v.zA,W=v.FY,H=v.s$,q=Object.values(G);function z(e){var n;if(e.ortb){e=e.ortb,n=y(y({ver:"1.2"},e),{},{assets:[]});var t=e.assets,o=function(e){return e.title||e.img||e.data||e.video};if(t.length<1||!t.some((function(e){return o(e)})))return(0,d.yN)("".concat(O,": Native assets object is empty or contains some invalid object")),k=!0,n;t.forEach((function(e){var t=e;t.img&&(t.img.type==N?(t.w=t.w||t.width||(t.sizes?t.sizes[0]:E),t.h=t.h||t.height||(t.sizes?t.sizes[1]:E),t.wmin=t.wmin||t.minimumWidth||(t.minsizes?t.minsizes[0]:E),t.hmin=t.hmin||t.minimumHeight||(t.minsizes?t.minsizes[1]:E)):t.img.type==P&&(t.w=t.w||t.width||(t.sizes?t.sizes[0]:E),t.h=t.h||t.height||(t.sizes?t.sizes[1]:E))),t&&void 0!==t.id&&o(t)&&n.assets.push(t)}))}else n=function(e){if(!e&&!(0,d.PO)(e))return(0,d.yN)("".concat(O,": Native assets object is empty or not an object: ").concat(e)),void(k=!0);var n={ver:"1.2",assets:[]};for(var t in e)if(!Z.includes(t))if(W.hasOwnProperty(t)||q.includes(t)){var o=e[t],r=0;o.required&&(0,d.jn)(o.required)&&(r=Number(o.required));var i={id:n.assets.length,required:r};if(t in G)i.data={type:H[G[t]]},(o.len||o.length)&&(i.data.len=o.len||o.length),o.ext&&(i.data.ext=o.ext);else if("icon"===t||"image"===t){if(i.img={type:"icon"===t?V.ICON:V.MAIN},o.aspect_ratios)if((0,d.kJ)(o.aspect_ratios))if(o.aspect_ratios.length){var a=o.aspect_ratios[0],s=a.min_width,u=a.min_height;(0,d.U)(s)&&(0,d.U)(u)?(i.img.wmin=s,i.img.hmin=u):(0,d.yN)("".concat(O,": image.aspect_ratios min_width or min_height are invalid: ").concat(s,", ").concat(u));var c=o.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));c.length>0&&(i.img.ext={aspectratios:c})}else(0,d.yN)("".concat(O,": image.aspect_ratios was passed, but it's empty: ").concat(o.aspect_ratios));else(0,d.yN)("".concat(O,": image.aspect_ratios was passed, but it's not a an array: ").concat(o.aspect_ratios));i.img.w=o.w||o.width,i.img.h=o.h||o.height,i.img.wmin=o.wmin||o.minimumWidth||(o.minsizes?o.minsizes[0]:E),i.img.hmin=o.hmin||o.minimumHeight||(o.minsizes?o.minsizes[1]:E),o.sizes&&(2===o.sizes.length&&(0,d.U)(o.sizes[0])&&(0,d.U)(o.sizes[1])?((0,d.PN)("".concat(O,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),i.img.w=o.sizes[0],i.img.h=o.sizes[1],delete i.img.hmin,delete i.img.wmin):(0,d.yN)("".concat(O,": image.sizes was passed, but its value is not an array of integers: ").concat(o.sizes))),o.ext&&(i.img.ext=o.ext),o.mimes&&(i.img.mimes=o.mimes)}else"title"===t?(i.title={len:o.len||o.length||140},o.ext&&(i.title.ext=o.ext)):"ext"===t&&(i.ext=o,delete i.required);n.assets.push(i)}else(0,d.yN)("".concat(O,": Unrecognized native asset code: ").concat(t,". Asset will be ignored."));return n.assets.length<1?((0,d.yN)("".concat(O,": Could not find any valid asset")),void(k=!0)):n}(e);return n}function K(e){var n,t=e.mediaTypes.banner.sizes,o=[];if(t!==E&&(0,d.kJ)(t)){if(n={},e.params.width||e.params.height)n.w=e.params.width,n.h=e.params.height;else{if(0===t.length)return n=E,(0,d.yN)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),n;n.w=parseInt(t[0][0],10),n.h=parseInt(t[0][1],10),t=t.splice(1,t.length-1)}t.length>0&&(o=[],t.forEach((function(e){e.length>1&&o.push({w:e[0],h:e[1]})})),o.length>0&&(n.format=o)),n.pos=0,n.topframe=(0,d.yL)()?0:1}else(0,d.yN)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),n=E;return n}function J(e){var n,t=(0,d.Ee)((0,u.Z)(e.mediaTypes,"video"),e.params.video);if(t!==E){for(var o in n={},function(e,n){(0,u.Z)(e,"placement")||(0,d.yN)("Video.Placement param missing for "+n)}(t,e.adUnitCode),D)t.hasOwnProperty(o)&&(n[o]=B(o,t[o],D[o]));(0,d.kJ)(e.mediaTypes.video.playerSize[0])?(n.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),n.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,d.hj)(e.mediaTypes.video.playerSize[0])&&(n.w=parseInt(e.mediaTypes.video.playerSize[0],10),n.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else n=E,(0,d.yN)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return n}function X(e,n){var t,o,r={},i={},s=e.hasOwnProperty("sizes")?e.sizes:[],l="",p=[],m=null==n?void 0:n.fledgeEnabled;if(function(e,n){n.params.deals&&((0,d.kJ)(n.params.deals)?n.params.deals.forEach((function(n){(0,d.d8)(n)&&n.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:n})):(0,d.yN)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+n)})):(0,d.yN)("PubMatic: Error: bid.params.deals should be an array of strings."))}(r={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:j("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:j("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?j("currency",e.params.currency):_},e),function(e,n){var t,o="";if(n.params.dctr)if(o=n.params.dctr,(0,d.d8)(o)&&o.length>0){var r=o.split("|");o="",r.forEach((function(e){o+=e.length>0?e.trim()+"|":""})),t=o.length,"|"===o.substring(t,t-1)&&(o=o.substring(0,t-1)),e.ext.key_val=o.trim()}else(0,d.yN)("PubMatic: Ignoring param : dctr with value : "+o+", expects string-value, found empty or non-string value")}(r,e),function(e,n){var t=n.rtd&&n.rtd.jwplayer&&n.rtd.jwplayer.targeting||void 0,o="";if(void 0!==t&&""!==t&&t.hasOwnProperty("segments")){var r,i=t.segments.length;o+="jw-id="+t.content.id;for(var a=0;a<i;a++)o+="|jw-"+t.segments[a]+"=1";(r=e.ext)&&void 0===r.key_val?r.key_val=o:r.key_val+="|"+o}}(r,e),e.hasOwnProperty("mediaTypes"))for(l in e.mediaTypes)switch(l){case f.Mk:(t=K(e))!==E&&(r.banner=t);break;case f.B5:i.request=JSON.stringify(z(e.nativeParams)),k?((0,d.yN)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),k=!1):r.native=i;break;case f.pX:(o=J(e))!==E&&(r.video=o)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:(0,d.yL)()?0:1},(0,d.kJ)(s)&&s.length>1&&((s=s.splice(1,s.length-1)).forEach((function(e){p.push({w:e[0],h:e[1]})})),t.format=p),r.banner=t;return function(e,n){var t=y({},(0,u.Z)(n,"ortb2Imp.ext.data"));Object.keys(t).forEach((function(n){"pbadslot"===n?"string"==typeof t[n]&&t[n]&&(0,c.N)(e,"ext.data.pbadslot",t[n]):"adserver"===n?["name","adslot"].forEach((function(n){var o=(0,u.Z)(t,"adserver.".concat(n));"string"==typeof o&&o&&((0,c.N)(e,"ext.data.adserver.".concat(n.toLowerCase()),o),"adslot"===n&&(0,c.N)(e,"ext.dfp_ad_unit_code",o))})):(0,c.N)(e,"ext.data.".concat(n),t[n])}))}(r,e),function(e,n){var t=-1;"function"!=typeof n.getFloor||g.vc.getConfig("pubmatic.disableFloors")||[f.Mk,f.pX,f.B5].forEach((function(o){if(e.hasOwnProperty(o)){var r=[];"banner"===o&&(e[o].w&&e[o].h&&r.push([e[o].w,e[o].h]),(0,d.kJ)(e[o].format)&&e[o].format.forEach((function(e){return r.push([e.w,e.h])}))),0===r.length&&r.push("*"),r.forEach((function(r){var i=n.getFloor({currency:e.bidfloorcur,mediaType:o,size:r});if((0,d.PN)(O,"floor from floor module returned for mediatype:",o," and size:",r," is: currency",i.currency,"floor",i.floor),"object"===(0,a.Z)(i)&&i.currency===e.bidfloorcur&&!isNaN(parseInt(i.floor))){var s=parseFloat(i.floor);(0,d.PN)(O,"floor from floor module:",s,"previous floor value",t,"Min:",Math.min(s,t)),t=-1===t?s:Math.min(s,t),(0,d.PN)(O,"new floor value:",t)}}))}})),e.bidfloor&&((0,d.PN)(O,"floor from floor module:",t,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(t,e.bidfloor)),t=Math.max(t,e.bidfloor)),e.bidfloor=!isNaN(t)&&t>0?t:E,(0,d.PN)(O,"new impObj.bidfloor value:",e.bidfloor)}(r,e),function(e,n,t){var o,r,i;t?(e.ext=e.ext||{},void 0!==(null==n||null===(o=n.ortb2Imp)||void 0===o||null===(r=o.ext)||void 0===r?void 0:r.ae)&&(e.ext.ae=n.ortb2Imp.ext.ae)):null!==(i=e.ext)&&void 0!==i&&i.ae&&delete e.ext.ae}(r,e,m),r.hasOwnProperty(f.Mk)||r.hasOwnProperty(f.B5)||r.hasOwnProperty(f.pX)?r:E}function Y(e,n){(n=n.filter((function(e){return"string"==typeof e||((0,d.yN)("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,n,t){return t.indexOf(e)===n}))).length>0&&((0,d.yN)("PubMatic: acat: Selected: ",n),e.ext.acat=n)}function Q(e){return!0===(0,d.kJ)(e)&&e.length>0}var $={code:"pubmatic",gvlid:76,supportedMediaTypes:[f.Mk,f.pX,f.B5],isBidRequestValid:function(e){if(e&&e.params){if(!(0,d.d8)(e.params.publisherId))return(0,d.yN)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(f.pX)){var n=(0,u.Z)(e.mediaTypes,"video.mimes"),t=(0,u.Z)(e,"params.video.mimes");if(!1===Q(n)&&!1===Q(t))return(0,d.yN)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[f.pX].hasOwnProperty("context"))return(0,d.H)("".concat(O,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[f.pX].context&&!(0,d.d8)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[f.pX].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(f.Mk)||e.mediaTypes.hasOwnProperty(f.B5)?(delete e.mediaTypes[f.pX],(0,d.yN)("".concat(O,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):((0,d.H)("".concat(O,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,n){var t,o,i,s,l,p,v,h,b,O;n&&n.refererInfo&&(O=n.refererInfo);var I,A=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(O),C=function(e){return{id:""+(new Date).getTime(),at:1,cur:[_],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(A),S="",T=[],D=[],P=[];if(e.forEach((function(e){var t,o;if((I=(0,d.I8)(e)).params.adSlot=I.params.adSlot||"",function(e){var n;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(n=e.params.adSlot,(0,d.d8)(n)?n.replace(/^\s+/g,"").replace(/\s+$/g,""):(n&&(0,d.yN)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var t=e.params.adSlot,o=t.split(":");if(t=o[0],2==o.length&&(e.params.adUnitIndex=o[1]),o=t.split("@"),e.params.adUnit=o[0],o.length>1){if(2!=(o=o[1].split("x")).length)return void(0,d.yN)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(o[0],10),e.params.height=parseInt(o[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(f.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var r=0,i=[];r<e.mediaTypes.banner.sizes.length;r++)2===e.mediaTypes.banner.sizes[r].length&&i.push(e.mediaTypes.banner.sizes[r]);e.mediaTypes.banner.sizes=i,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(I),I.mediaTypes&&I.mediaTypes.hasOwnProperty("video")||I.params.hasOwnProperty("video"));else if(!(I.hasOwnProperty("mediaTypes")&&I.mediaTypes.hasOwnProperty(f.B5)||0!==I.params.width||0!==I.params.height))return void(0,d.yN)("PubMatic: Skipping the non-standard adslot: ",I.params.adSlot,JSON.stringify(I));A.pubId=A.pubId||I.params.publisherId,(A=function(e,n){var t,o,r;for(t in n.kadpageurl||(n.kadpageurl=n.pageURL),w)w.hasOwnProperty(t)&&(o=e[t])&&(r=w[t],"object"===(0,a.Z)(r)&&(o=r.f(o,n)),(0,d.d8)(o)?n[t]=o:(0,d.yN)("PubMatic: Ignoring param : "+t+" with value : "+w[t]+", expects string-value, found "+(0,a.Z)(o)));return n}(I.params,A)).transactionId=null===(t=I.ortb2Imp)||void 0===t||null===(o=t.ext)||void 0===o?void 0:o.tid,""===S?S=I.params.currency||E:I.params.hasOwnProperty("currency")&&S!==I.params.currency&&(0,d.yN)("PubMatic: Currency specifier ignored. Only one currency permitted."),I.params.currency=S,I.params.hasOwnProperty("dctr")&&(0,d.d8)(I.params.dctr)&&T.push(I.params.dctr),I.params.hasOwnProperty("bcat")&&(0,d.kJ)(I.params.bcat)&&(D=D.concat(I.params.bcat)),I.params.hasOwnProperty("acat")&&(0,d.kJ)(I.params.acat)&&(P=P.concat(I.params.acat));var r=X(I,n);r&&C.imp.push(r)})),0!=C.imp.length){C.site.publisher.id=A.pubId.trim(),L=A.pubId.trim(),C.ext.wrapper={},C.ext.wrapper.profile=parseInt(A.profId)||E,C.ext.wrapper.version=parseInt(A.verId)||E,C.ext.wrapper.wiid=A.wiid||n.auctionId,C.ext.wrapper.wv="prebid_prebid_8.18.0",C.ext.wrapper.transactionId=A.transactionId,C.ext.wrapper.wp="pbjs";var N,M,U=n?m.S.get(n.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==U){if(C.ext.marketplace={},n&&1==U){var R=m.S.get(n.bidderCode,"allowedAlternateBidderCodes");(0,d.kJ)(R)?(R=R.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(d.tT),F=R.includes("*")?x:[].concat((0,r.Z)(F),(0,r.Z)(R))):F=x}C.ext.marketplace.allowedbidders=F.filter(d.tT)}C.user.gender=A.gender?A.gender.trim():E,C.user.geo={},C.user.yob=j("yob",A.yob),C.site.page=A.kadpageurl.trim()||C.site.page.trim(),C.site.domain=(N=C.site.page,(M=document.createElement("a")).href=N,M.hostname),"object"===(0,a.Z)(g.vc.getConfig("content"))&&(C.site.content=g.vc.getConfig("content")),"object"===(0,a.Z)(g.vc.getConfig("device"))&&(C.device=Object.assign(C.device,g.vc.getConfig("device"))),C.device.language=C.device.language&&C.device.language.split("-")[0],(0,c.N)(C,"source.tid",null==n||null===(t=n.ortb2)||void 0===t||null===(o=t.source)||void 0===o?void 0:o.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(C.test=1),e[0].schain&&(0,c.N)(C,"source.ext.schain",e[0].schain),n&&n.gdprConsent&&((0,c.N)(C,"user.ext.consent",n.gdprConsent.consentString),(0,c.N)(C,"regs.ext.gdpr",n.gdprConsent.gdprApplies?1:0)),n&&n.uspConsent&&(0,c.N)(C,"regs.ext.us_privacy",n.uspConsent),null!=n&&null!==(i=n.gppConsent)&&void 0!==i&&i.gppString?((0,c.N)(C,"regs.gpp",n.gppConsent.gppString),(0,c.N)(C,"regs.gpp_sid",n.gppConsent.applicableSections)):null!=n&&null!==(s=n.ortb2)&&void 0!==s&&null!==(l=s.regs)&&void 0!==l&&l.gpp&&((0,c.N)(C,"regs.gpp",n.ortb2.regs.gpp),(0,c.N)(C,"regs.gpp_sid",n.ortb2.regs.gpp_sid)),!0===g.vc.getConfig("coppa")&&(0,c.N)(C,"regs.coppa",1),function(e,n){var t=(0,u.Z)(n,"0.userIdAsEids");(0,d.kJ)(t)&&t.length>0&&(0,c.N)(e,"user.eids",t)}(C,e);var k,B,G,V=n&&n.ortb2||{},Z=V.user,W=V.device,H=V.site,q=V.bcat;if(H){var z=C.site,K=z.page,J=z.domain,Q=z.ref;(0,d.Ee)(C,{site:H}),C.site.page=K,C.site.domain=J,C.site.ref=Q}if(Z&&(0,d.Ee)(C,{user:Z}),q&&(D=D.concat(q)),null!=W&&W.sua&&(C.device.sua=null==W?void 0:W.sua),null!=Z&&Z.geo&&null!=W&&W.geo?(C.device.geo=y(y({},C.device.geo),W.geo),C.user.geo=y(y({},C.user.geo),Z.geo)):(null!=Z&&Z.geo||null!=W&&W.geo)&&(C.user.geo=C.device.geo=null!=Z&&Z.geo?y(y({},C.user.geo),Z.geo):y(y({},C.user.geo),W.geo)),null!==(p=V.ext)&&void 0!==p&&null!==(v=p.prebid)&&void 0!==v&&null!==(h=v.bidderparams)&&void 0!==h&&null!==(b=h[n.bidderCode])&&void 0!==b&&b.acat){var $=V.ext.prebid.bidderparams[n.bidderCode].acat;Y(C,$)}else P.length&&Y(C,P);return function(e,n){(n=n.filter((function(e){return"string"==typeof e||((0,d.yN)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,n,t){if(e.length>3)return t.indexOf(e)===n;(0,d.yN)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,d.yN)("PubMatic: bcat: Selected: ",n),e.bcat=n)}(C,D),null!=n&&n.timeout?C.tmax=n.timeout:C.tmax=null===(k=window)||void 0===k||null===(B=k.PWT)||void 0===B||null===(G=B.versionDetails)||void 0===G?void 0:G.timeout,C.ext.epoch=(new Date).getTime(),"object"===(0,a.Z)(g.vc.getConfig("app"))&&(C.app=g.vc.getConfig("app"),C.app.publisher=C.site.publisher,C.app.ext=C.site.ext||E,"object"!==(0,a.Z)(C.app.content)&&(C.app.content=C.site.content||E),delete C.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(C),bidderRequest:n}}},interpretResponse:function(e,n){var t=[],r=_,i=JSON.parse(n.data),a=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&(0,d.kJ)(e.body.seatbid)&&(r=e.body.cur||r,e.body.seatbid.forEach((function(e){e.bid&&(0,d.kJ)(e.bid)&&e.bid.forEach((function(o){var s={requestId:o.impid,cpm:parseFloat((o.price||0).toFixed(2)),width:o.w,height:o.h,creativeId:o.crid||o.id,dealId:o.dealid,currency:r,netRevenue:!0,ttl:300,referrer:a,ad:o.adm,pm_seat:e.seat||null,pm_dspid:o.ext&&o.ext.dspid?o.ext.dspid:null,partnerImpId:o.id||""};i.imp&&i.imp.length>0&&i.imp.forEach((function(e){if(o.impid===e.id)switch(function(e,n){if(e.ext&&null!=e.ext.bidtype)n.mediaType=R[e.ext.bidtype];else{(0,d.PN)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var t=e.adm,o="",r=new RegExp(/VAST\s+version/);if(t.indexOf('span class="PubAPIAd"')>=0)n.mediaType=f.Mk;else if(r.test(t))n.mediaType=f.pX;else try{(o=JSON.parse(t.replace(/\\/g,"")))&&o.native&&(n.mediaType=f.B5)}catch(e){(0,d.yN)("PubMatic: Error: Cannot parse native reponse for ad response: "+t)}}}(o,s),s.mediaType){case f.Mk:break;case f.pX:s.width=o.hasOwnProperty("w")?o.w:e.video.w,s.height=o.hasOwnProperty("h")?o.h:e.video.h,s.vastXml=o.adm,function(e,n){var t,o,r;if(n.bidderRequest&&n.bidderRequest.bids){for(var i=0;i<n.bidderRequest.bids.length;i++)n.bidderRequest.bids[i].bidId===e.requestId&&(t=n.bidderRequest.bids[i].params,o=n.bidderRequest.bids[i].mediaTypes[f.pX].context,r=n.bidderRequest.bids[i].adUnitCode);o&&"outstream"===o&&t&&t.outstreamAU&&r&&(e.rendererCode=t.outstreamAU,e.renderer=U.newRenderer(e.rendererCode,r))}}(s,n),function(e,n,t){var o,r,i;if(null!=n&&null!==(o=n.ext)&&void 0!==o&&o.prebiddealpriority){var a=(0,d.zE)(e.requestId,[t.bidderRequest]),s=(0,u.Z)(a,"mediaTypes.video");if((null==s?void 0:s.context)==f.Oh){var c=(null==n||null===(r=n.ext)||void 0===r||null===(i=r.video)||void 0===i?void 0:i.duration)||(null==s?void 0:s.maxduration);e.video={context:f.Oh,durationSeconds:c,dealTier:n.ext.prebiddealpriority}}}}(s,o,n);break;case f.B5:!function(e,n){if(e.hasOwnProperty("adm")){var t="";try{t=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,d.yN)("PubMatic: Error: Cannot parse native reponse for ad response: "+n.adm)}n.native={ortb:y({},t.native)},n.mediaType=f.B5,n.width||(n.width=0),n.height||(n.height=0)}}(o,s)}})),o.ext&&o.ext.deal_channel&&(s.dealChannel=M[o.ext.deal_channel]||null),function(e,n,t){e.meta={},n.ext&&n.ext.dspid&&(e.meta.networkId=n.ext.dspid,e.meta.demandSource=n.ext.dspid),n.ext&&n.ext.dchain&&(e.meta.dchain=n.ext.dchain);var o=t||n.ext&&n.ext.advid;o&&(e.meta.advertiserId=o,e.meta.agencyId=o,e.meta.buyerId=o),n.adomain&&Q(n.adomain)&&(e.meta.advertiserDomains=n.adomain,e.meta.clickUrl=n.adomain[0],e.meta.brandId=n.adomain[0]),n.cat&&Q(n.cat)&&(e.meta.secondaryCatIds=n.cat,e.meta.primaryCatId=n.cat[0])}(s,o,e.seat),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),o.ext&&o.ext.marketplace&&(s.bidderCode=o.ext.marketplace),t.push(s)}))})));var s=(0,u.Z)(e.body,"ext.fledge_auction_configs");if(s)return s=Object.entries(s).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return{bidId:t,config:Object.assign({auctionSignals:{}},r)}})),{bids:t,fledgeAuctionConfigs:s}}catch(e){(0,d.H)(e)}return t},getUserSyncs:function(e,n,t,o,r){var i,a,s=""+L;return t&&(s+="&gdpr="+(t.gdprApplies?1:0),s+="&gdpr_consent="+encodeURIComponent(t.consentString||"")),o&&(s+="&us_privacy="+encodeURIComponent(o)),null!=r&&r.gppString&&null!=r&&null!==(i=r.applicableSections)&&void 0!==i&&i.length&&(s+="&gpp="+encodeURIComponent(r.gppString),s+="&gpp_sid="+encodeURIComponent(null==r||null===(a=r.applicableSections)||void 0===a?void 0:a.join(","))),!0===g.vc.getConfig("coppa")&&(s+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+s}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+s}]},transformBidParams:function(e,n,t,o){return(0,h.u)({publisherId:"string",adSlot:"string"},e)}};(0,l.dX)($),(0,s.z)("pubmaticBidAdapter")}},function(e){e.O(0,[402],(function(){return 5817,e(e.s=5817)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[187],{60:function(e,n,t){var o=t(9062),r=t(4942),i=t(3324),a=t(1002),s=t(8640),d=t(4980),u=t(9933),c=t(4699),l=t(3193),f=t(4679),g=t(4614),p=t(5706),m=t(4358),v=t(6475),h=t(265),b=t(676),y=t(5370);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=l.vc.getConfig("rubicon")||{};l.vc.getConfig("rubicon",(function(e){(0,m.Ee)(E,e.rubicon)}));var I={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,m.yi)(I,(function(e,n){return I[e]=n}));var w=(0,d.x)({request:function(e,n,t,r){var i,d,u,c=r.bidRequests,f=e(n,t,r);f.cur=["USD"],f.test=l.vc.getConfig("debug")?1:0,(0,v.N)(f,"ext.prebid.cache",{vastxml:{returnCreative:!0===E.returnVast}}),(0,v.N)(f,"ext.prebid.bidders",{rubicon:{integration:E.int_type||"pbjs"}}),(0,v.N)(f,"ext.prebid.targeting.pricegranularity",{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(u=l.vc).getConfig("customPriceBucket")&&u.getConfig("customPriceBucket").buckets}[u.getConfig("priceGranularity")]});var g=(0,s.R)().installedModules;return!g||g.length&&-1===g.indexOf("rubiconAnalyticsAdapter")||(0,v.N)(f,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,n,t){var r,i,a={},s=b.c.apply(void 0,[t].concat((0,o.Z)(n.map((function(e){return e.params.keywords})))));n.forEach((function(n){var t,o,r,i,s,d={user:{ext:{data:_({},n.params.visitor)}},site:{ext:{data:_({},n.params.inventory)}}},u=e.imp.find((function(e){var n,t,o,r,i;return null===(n=e.ext)||void 0===n||null===(t=n.prebid)||void 0===t||null===(o=t.bidder)||void 0===o||null===(r=o.rubicon)||void 0===r||null===(i=r.video)||void 0===i?void 0:i.language}));u&&(d.site.content={language:null===(t=u.ext)||void 0===t||null===(o=t.prebid)||void 0===o||null===(r=o.bidder)||void 0===r||null===(i=r.rubicon)||void 0===i||null===(s=i.video)||void 0===s?void 0:s.language}),a=(0,m.Ee)(a,n.ortb2||{},d);var c=l.vc.getConfig("user.id");a.user.id=a.user.id||c})),(0,m.Ee)(e,a),s&&s.length&&(0,v.N)(e,"site.keywords",s.join(",")),null==e||null===(r=e.ext)||void 0===r||null===(i=r.prebid)||void 0===i||delete i.storedrequest}(f,c,t.ortb2),null==f||null===(i=f.ext)||void 0===i||null===(d=i.prebid)||void 0===d||delete d.storedrequest,!0===E.disableFloors&&delete f.ext.prebid.floors,c.filter((function(e){return"object"===(0,a.Z)(e.floorData)})).length>0&&(f.ext.prebid.floors={enabled:!1}),f},imp:function(e,n,t){var o,r,i=P(n);if(!i.includes(f.Mk)||1!=i.length){var a=e(n,t);return a.id=n.adUnitCode,delete a.banner,l.vc.getConfig("s2sConfig.defaultTtl")&&(a.exp=l.vc.getConfig("s2sConfig.defaultTtl")),"atf"===n.params.position&&a.video&&(a.video.pos=1),"btf"===n.params.position&&a.video&&(a.video.pos=3),null===(o=a.ext)||void 0===o||null===(r=o.prebid)||void 0===r||delete r.storedrequest,!0===n.params.bidonmultiformat&&i.length>1&&(0,v.N)(a,"ext.prebid.bidder.rubicon.formats",i),function(e,n){if("USD"!=n.bidfloorcur&&(delete n.bidfloor,delete n.bidfloorcur),!n.bidfloor){var t=parseFloat((0,h.Z)(e,"params.floor"));isNaN(t)||(n.bidfloor=t,n.bidfloorcur="USD")}}(n,a),a}},bidResponse:function(e,n,t){var o,r=e(n,t);r.meta.mediaType=(0,h.Z)(n,"ext.prebid.type");var a=t.bidRequest,s="outstream"===(null===(o=a.mediaTypes.video)||void 0===o?void 0:o.context)?T(a,f.pX):[void 0,void 0],d=(0,i.Z)(s,2),u=d[0],c=d[1];return r.width=n.w||u||r.playerWidth,r.height=n.h||c||r.playerHeight,r.mediaType===f.pX&&"outstream"===a.mediaTypes.video.context&&(r.renderer=function(e){var n=p.Th.install({id:e.adId,url:E.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:E.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{n.setRender(S)}catch(e){(0,m.yN)("Prebid Error calling setRender on renderer",e)}return n}(r)),(0,h.Z)(n,"ext.bidder.rp.advid")&&(0,v.N)(r,"meta.advertiserId",n.ext.bidder.rp.advid),r},context:{netRevenue:!1!==E.netRevenue,ttl:300},processors:u.X}),A={code:"rubicon",gvlid:52,supportedMediaTypes:[f.Mk,f.pX,f.B5],isBidRequestValid:function(e){var n=!0;if("object"!==(0,a.Z)(e.params))return!1;for(var t=0,o=["accountId","siteId","zoneId"];t<o.length;t++)if(e.params[o[t]]=parseInt(e.params[o[t]]),isNaN(e.params[o[t]]))return(0,m.H)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r=P(e,!0);if(!r.length)return!1;r.includes(f.pX)&&(n=function(e){var n=!0,t=Object.prototype.toString.call([]),o={mimes:t,protocols:t,linearity:Object.prototype.toString.call(0),api:t};return Object.keys(o).forEach((function(t){Object.prototype.toString.call((0,h.Z)(e,"mediaTypes.video."+t))!==o[t]&&(n=!1,(0,m.H)("Rubicon: mediaTypes.video."+t+" is required and must be of type: "+o[t]))})),n}(e));var i=[f.Mk,f.B5].filter((function(e){return r.includes(e)})).length>0;return i?n&&i:n},buildRequests:function(e,n){var t,o=[],r=[];if((t=e.filter((function(e){var n=P(e)||[],t=n.length,o=e.params||{},r=o.bidonmultiformat,i=o.video;return 1===t&&(n.includes(f.pX)||n.includes(f.B5))||2===t&&!n.includes(f.Mk)||i&&n.includes(f.pX)||r&&(n.includes(f.pX)||n.includes(f.B5))})))&&t.length){var i=w.toORTB({bidRequests:t,bidderRequest:n});r.push({method:"POST",url:"https://".concat(E.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:i,bidRequest:t})}var a=e.filter((function(e){var n=P(e)||[],t=e.params||{},o=t.bidonmultiformat,r=t.video;return n.includes(f.Mk)&&(1===n.length||o||!o&&!r||!o&&r&&!n.includes(f.pX))}));if(!0!==E.singleRequest)o=r.concat(a.map((function(e){var t=A.createSlotParams(e,n);return{method:"GET",url:"https://".concat(E.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:A.getOrderedParams(t).reduce((function(e,n){var o=t[n];return(0,m.d8)(o)&&""!==o||(0,m.hj)(o)?"".concat(e).concat(M(n,o),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var s=a.reduce((function(e,n){return(e[n.params.siteId]=e[n.params.siteId]||[]).push(n),e}),{});o=r.concat(Object.keys(s).reduce((function(e,t){var o;return(o=s[t],10,o.map((function(e,n){return n%10==0?o.slice(n,n+10):null})).filter((function(e){return e}))).forEach((function(t){var o=A.combineSlotUrlParams(t.map((function(e){return A.createSlotParams(e,n)})));e.push({method:"GET",url:"https://".concat(E.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:A.getOrderedParams(o).reduce((function(e,n){var t=o[n];return(0,m.d8)(t)&&""!==t||(0,m.hj)(t)?"".concat(e).concat(M(n,t),"&"):e}),"")+"slots=".concat(t.length,"&rand=").concat(Math.random()),bidRequest:t})})),e}),[]))}return o},getOrderedParams:function(e){var n=/^tg_v/,t=/^tg_i/,o=/^eid_|^tpid_/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((function(e){return o.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter((function(e){return-1===r.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var n=e.reduce((function(n,t,o){return Object.keys(t).forEach((function(r){n.hasOwnProperty(r)||(n[r]=new Array(e.length)),n[r].splice(o,1,t[r])})),n}),{}),t=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(n).forEach((function(e){var o=n[e].join(";"),r=o.match(t);n[e]=r?r[1]:o})),n},createSlotParams:function(e,n){var t,o,r,s,d;e.startTime=(new Date).getTime();var u=e.params,c=T(e,"banner"),p=u.latLong||[],v=(0,i.Z)(p,2),b=v[0],y=v[1],O={account_id:u.accountId,site_id:u.siteId,zone_id:u.zoneId,size_id:c[0],alt_size_ids:c.slice(1).join(",")||void 0,rp_floor:(u.floor=parseFloat(u.floor))>=.01?u.floor:void 0,rp_secure:"1",tk_flint:"".concat(E.int_type||"pbjs_lite","_v8.18.0"),"x_source.tid":null===(t=n.ortb2)||void 0===t||null===(o=t.source)||void 0===o?void 0:o.tid,"x_imp.ext.tid":null===(r=e.ortb2Imp)||void 0===r||null===(s=r.ext)||void 0===s?void 0:s.tid,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:u.userId,"p_geo.latitude":isNaN(parseFloat(b))?void 0:parseFloat(b).toFixed(4),"p_geo.longitude":isNaN(parseFloat(y))?void 0:parseFloat(y).toFixed(4),"tg_fl.eid":e.code,rf:C(e,n)};if("function"==typeof e.getFloor&&!E.disableFloors){var I;try{I=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,m.H)("Rubicon: getFloor threw an error: ",e)}O.rp_hard_floor="object"!==(0,a.Z)(I)||"USD"!==I.currency||isNaN(parseInt(I.floor))?void 0:I.floor}!0===u.bidonmultiformat&&(0,h.Z)(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(O.p_formats=Object.keys(e.mediaTypes).join(","));var w={1:"atf",3:"btf"}[(0,h.Z)(e,"mediaTypes.banner.pos")]||"";O.p_pos="atf"===u.position||"btf"===u.position?u.position:w;var S,D,P=l.vc.getConfig("user.id");return P&&(O.ppuid=P),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source)O.tpid_tdid=e.uids[0].id,O["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)O["tpid_liveintent.com"]=e.uids[0].id,O["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(O["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)O.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)O["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||"");else{var n="rubiconproject.com"===e.source?e.uids[0].id:"".concat(e.uids[0].id,"^").concat(e.uids[0].atype||"");O["eid_".concat(e.source)]=n}if(!O.ppuid){var t=(0,g.sE)(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(O.ppuid=t.id)}}catch(n){(0,m.yN)("Rubicon: error reading eid:",e,n)}})),n.gdprConsent&&("boolean"==typeof n.gdprConsent.gdprApplies&&(O.gdpr=Number(n.gdprConsent.gdprApplies)),O.gdpr_consent=n.gdprConsent.consentString),n.uspConsent&&(O.us_privacy=encodeURIComponent(n.uspConsent)),null!==(d=n.gppConsent)&&void 0!==d&&d.gppString&&(O.gpp=n.gppConsent.gppString,O.gpp_sid=null===(S=n.gppConsent)||void 0===S||null===(D=S.applicableSections)||void 0===D?void 0:D.toString()),O.rp_maxbids=n.bidLimit||1,function(e,n,t){var o={user:{ext:{data:_({},e.params.visitor)}},site:{ext:{data:_({},e.params.inventory)}}};e.params.keywords&&(o.site.keywords=(0,m.kJ)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var r=(0,m.Ee)({},e.ortb2||{},o),i=(0,h.Z)(e.ortb2Imp,"ext")||{},s=(0,h.Z)(e.ortb2Imp,"ext.data")||{},d=(0,h.Z)(e,"ortb2Imp.ext.gpid"),u={user:[4],site:[1,2,5,6]},c={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},l=function(e,n,t){return"data"===n&&Array.isArray(e)?e.filter((function(e){return e.segment&&(0,h.Z)(e,"ext.segtax")&&u[t]&&-1!==u[t].indexOf((0,h.Z)(e,"ext.segtax"))})).map((function(e){var n=e.segment.filter((function(e){return e.id})).reduce((function(e,n){return e.push(n.id),e}),[]);if(n.length>0)return n.toString()})).toString():"object"===(0,a.Z)(e)&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter((function(e){if("object"!==(0,a.Z)(e)&&void 0!==e)return e.toString();(0,m.yN)("Rubicon: Filtered value: ",e,"for key",n,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()},g=function(e,n,o){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=l(e,o,n),a=c[o]&&r?"".concat(c[o]):"data"===o?"".concat(c[n],"iab"):"".concat(c[n]).concat(o);t[a]=t[a]?t[a].concat(",",i):i};n===f.Mk?(["site","user"].forEach((function(e){Object.keys(r[e]).forEach((function(n){"site"===e&&"content"===n&&r[e][n].data?g(r[e][n].data,e,"data"):"ext"!==n?g(r[e][n],e,n):r[e][n].data&&Object.keys(r[e].ext.data).forEach((function(n){g(r[e].ext.data[n],e,n,!1)}))}))})),Object.keys(s).forEach((function(e){"adserver"!==e?g(s[e],"site",e):"gam"===s[e].name&&g(s[e].adslot,name,e)})),d&&(t.p_gpid=d),t["tg_i.pbadslot"]&&delete t["tg_i.dfp_ad_unit_code"]):(Object.keys(i).length&&(0,m.Ee)(t.imp[0].ext,i),d&&(t.imp[0].ext.gpid=d),(0,m.Ee)(t,r))}(e,f.Mk,O),!0===l.vc.getConfig("coppa")&&(O.coppa=1),e.schain&&N(e.schain)&&(O.rp_schain=A.serializeSupplyChain(e.schain)),O},serializeSupplyChain:function(e){if(!N(e))return"";var n=e.ver,t=e.complete,o=e.nodes;return"".concat(n,",").concat(t,"!").concat(A.serializeSupplyChainNodes(o))},serializeSupplyChainNodes:function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return n.map((function(n){return encodeURIComponent(e[n]||"")})).join(",")})).join("!")},interpretResponse:function(e,n){e=e.body;var t=n.data;if(!e||"object"!==(0,a.Z)(e))return[];if(e.seatbid){var o=(0,h.Z)(e,"ext.errors.rubicon");return Array.isArray(o)&&o.length>0&&(0,m.yN)("Rubicon: Error in video response"),w.fromORTB({request:t,response:e}).bids}var r,s=e.ads,d=0,u=n.bidRequest;return"object"===(0,a.Z)(u)&&!Array.isArray(u)&&P(u).includes(f.pX)&&"object"===(0,a.Z)(s)&&(s=s[u.adUnitCode]),!Array.isArray(s)||s.length<1?[]:s.reduce((function(n,t,o){if(t.impression_id&&r===t.impression_id?d++:r=t.impression_id,"ok"!==t.status)return n;var s,c,l=Array.isArray(u)?u[o-d]:u;if(l&&"object"===(0,a.Z)(l)){var g={requestId:l.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==E.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network,mediaType:f.Mk}};if(t.creative_type&&(g.mediaType=t.creative_type),t.adomain&&(g.meta.advertiserDomains=Array.isArray(t.adomain)?t.adomain:[t.adomain]),t.creative_type===f.pX)g.width=l.params.video.playerWidth,g.height=l.params.video.playerHeight,g.vastUrl=t.creative_depot_url,g.impression_id=t.impression_id,g.videoCacheKey=t.impression_id;else{g.ad=(s=t.script,c=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(c,"'>\n<script type='text/javascript'>").concat(s,"<\/script>\n</div>\n</body>\n</html>"));var p=I[t.size_id].split("x").map((function(e){return Number(e)})),v=(0,i.Z)(p,2);g.width=v[0],g.height=v[1]}g.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce((function(e,n){return e[n.key]=n.values[0],e}),{rpfl_elemid:l.adUnitCode}),n.push(g)}else(0,m.H)("Rubicon: bidRequest undefined at index position:".concat(o),u,e);return n}),[]).sort((function(e,n){return(n.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,n,t,o,r){if(!U&&e.iframeEnabled){var i,a={};return t&&("boolean"==typeof t.gdprApplies&&(a.gdpr=Number(t.gdprApplies)),"string"==typeof t.consentString&&(a.gdpr_consent=t.consentString)),o&&(a.us_privacy=encodeURIComponent(o)),null!=r&&r.gppString&&(a.gpp=r.gppString,a.gpp_sid=null===(i=r.applicableSections)||void 0===i?void 0:i.toString()),a=Object.keys(a).length?"?".concat((0,m.Yp)(a)):"",U=!0,{type:"iframe",url:"https://".concat(E.syncHost||"eus",".rubiconproject.com/usync.html")+a}}},transformBidParams:function(e,n){return(0,y.u)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function C(e,n){var t;return t=e.params.referrer?e.params.referrer:n.refererInfo.page,e.params.secure?t.replace(/^http:/i,"https:"):t}function S(e){var n,t=document.getElementById(e.adUnitCode);(n=t.querySelector("div[id^='google_ads']"))&&n.style.setProperty("display","none"),function(e){var n=e.querySelector("script[id^='sas_script']"),t=n&&n.nextSibling;t&&"iframe"===t.localName&&t.style.setProperty("display","none")}(t);var o=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:o.align||"center",position:o.position||"append"},closeButton:o.closeButton||!1,label:o.label||void 0,collapse:o.collapse||!0})}))}function T(e,n){var t=e.params;if(n===f.pX){var o=[];return t.video&&t.video.playerWidth&&t.video.playerHeight?o=[t.video.playerWidth,t.video.playerHeight]:Array.isArray((0,h.Z)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?o=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(o=e.sizes[0]),o}var r=[];return Array.isArray(t.sizes)?r=t.sizes:void 0!==(0,h.Z)(e,"mediaTypes.banner.sizes")?r=D(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?r=D(e.sizes):(0,m.yN)("Rubicon: no sizes are setup or found"),function(e){var n=[15,2,9];return e.sort((function(e,t){var o=n.indexOf(e),r=n.indexOf(t);return o>-1||r>-1?-1===o?1:-1===r?-1:o-r:e-t}))}(r)}function D(e){return(0,m.sF)(e).reduce((function(e,n){var t=parseInt(I[n],10);return t&&e.push(t),e}),[])}function P(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[];if(function(e){var n=void 0!==(0,h.Z)(e,"mediaTypes.".concat(f.pX)),t=void 0!==(0,h.Z)(e,"mediaTypes.".concat(f.Mk)),o=void 0!==(0,h.Z)(e,"params.bidonmultiformat"),r="object"!==(0,a.Z)((0,h.Z)(e,"params.video"));return!(!n||!o)||(t&&r&&(n=!1),n&&r&&(0,v.N)(e,"params.video",{}),n)}(e)){if(-1===["outstream","instream"].indexOf((0,h.Z)(e,"mediaTypes.".concat(f.pX,".context"))))return n&&(0,m.H)("Rubicon: mediaTypes.video.context must be outstream or instream"),t;if(T(e,f.pX).length<2)return n&&(0,m.H)("Rubicon: could not determine the playerSize of the video"),t;n&&(0,m.ji)("Rubicon: making video request for adUnit",e.adUnitCode),t.push(f.pX)}if(void 0!==(0,h.Z)(e,"mediaTypes.".concat(f.B5))&&t.push(f.B5),void 0!==(0,h.Z)(e,"mediaTypes.".concat(f.Mk))){if(0===T(e,f.Mk).length)return n&&(0,m.H)("Rubicon: could not determine the sizes for banner request"),t;n&&(0,m.ji)("Rubicon: making banner request for adUnit",e.adUnitCode),t.push(f.Mk)}return t}function N(e){var n=!1,t=["asi","sid","hp"];return e.nodes?((n=e.nodes.reduce((function(e,n){return e?t.every((function(e){return n.hasOwnProperty(e)})):e}),!0))||(0,m.H)("Rubicon: required schain params missing"),n):n}function M(e,n){return"rp_schain"===e?"rp_schain=".concat(n):"".concat(e,"=").concat(encodeURIComponent(n))}var U=!1;(0,c.dX)(A),(0,s.z)("rubiconBidAdapter")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors}},function(e){e.O(0,[402,279,951,157],(function(){return 60,e(e.s=60)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[312],{6349:function(e,n,t){var o=t(1002),r=t(3324),i=t(4942),a=t(8640),s=t(4699),d=t(3193),u=t(4679),c=t(4358),l=t(265);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p="sharethrough",m="https://btlr.sharethrough.com/universal/v1?supply_id=".concat("WYu2BXv1"),v=function(){return window.location.protocol},h={code:p,supportedMediaTypes:[u.pX,u.Mk],gvlid:80,isBidRequestValid:function(e){return!!e.params.pkey&&e.bidder===p},buildRequests:function(e,n){var t,o,i,a,s,u=n.timeout,f=n.ortb2||{},p=v().indexOf("http")<0||v().indexOf("https")>-1,h={id:(0,c.DO)(),at:1,cur:["USD"],tmax:u,site:g({domain:(0,l.Z)(n,"refererInfo.domain",window.location.hostname),page:(0,l.Z)(n,"refererInfo.page",window.location.href),ref:(0,l.Z)(n,"refererInfo.ref")},f.site),device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:"1"===navigator.doNotTrack?1:0,h:window.screen.height,w:window.screen.width},regs:{coppa:!0===d.vc.getConfig("coppa")?1:0,ext:{}},source:{tid:null===(t=n.ortb2)||void 0===t||null===(o=t.source)||void 0===o?void 0:o.tid,ext:{version:"8.18.0",str:"4.3.0",schain:e[0].schain}},bcat:(0,l.Z)(n.ortb2,"bcat")||e[0].params.bcat||[],badv:(0,l.Z)(n.ortb2,"badv")||e[0].params.badv||[],test:0};if(h.user=_(f.user,{}),h.user.ext||(h.user.ext={}),h.user.ext.eids=e[0].userIdAsEids||[],n.gdprConsent){var E=!0===n.gdprConsent.gdprApplies;h.regs.ext.gdpr=E?1:0,E&&(h.user.ext.consent=n.gdprConsent.consentString)}return n.uspConsent&&(h.regs.ext.us_privacy=n.uspConsent),null!=n&&null!==(i=n.gppConsent)&&void 0!==i&&i.gppString?(h.regs.gpp=n.gppConsent.gppString,h.regs.gpp_sid=n.gppConsent.applicableSections):null!=n&&null!==(a=n.ortb2)&&void 0!==a&&null!==(s=a.regs)&&void 0!==s&&s.gpp&&(h.regs.ext.gpp=n.ortb2.regs.gpp,h.regs.ext.gpp_sid=n.ortb2.regs.gpp_sid),e.map((function(e){var n={ext:{}},t=(0,l.Z)(e,"ortb2Imp.ext.tid");t&&(n.ext.tid=t);var o=(0,l.Z)(e,"ortb2Imp.ext.gpid",(0,l.Z)(e,"ortb2Imp.ext.data.pbadslot"));o&&(n.ext.gpid=o);var i=(0,l.Z)(e,"mediaTypes.video");if(i){var a=640,s=360;if(i.playerSize&&i.playerSize[0]&&i.playerSize[0][0]&&i.playerSize[0][1]){var d=(0,r.Z)(i.playerSize[0],2);a=d[0],s=d[1]}n.video={pos:_(i.pos,0),topframe:(0,c.yL)()?0:1,skip:_(i.skip,0),linearity:_(i.linearity,1),minduration:_(i.minduration,5),maxduration:_(i.maxduration,60),playbackmethod:i.playbackmethod||[2],api:b(i),mimes:i.mimes||["video/mp4"],protocols:y(i),w:a,h:s,startdelay:_(i.startdelay,0),skipmin:_(i.skipmin,0),skipafter:_(i.skipafter,0),placement:"instream"===i.context?1:+(0,l.Z)(i,"placement",4)},i.delivery&&(n.video.delivery=i.delivery),i.companiontype&&(n.video.companiontype=i.companiontype),i.companionad&&(n.video.companionad=i.companionad)}else n.banner={pos:(0,l.Z)(e,"mediaTypes.banner.pos",0),topframe:(0,c.yL)()?0:1,format:e.sizes.map((function(e){return{w:+e[0],h:+e[1]}}))};return g({id:e.bidId,tagid:String(e.params.pkey),secure:p?1:0,bidfloor:O(e)},n)})).filter((function(e){return!!e})).map((function(e){return{method:"POST",url:m,data:g(g({},h),{},{imp:[e]})}}))},interpretResponse:function(e,n){var t=e.body;return t&&t.seatbid&&0!==t.seatbid.length&&t.seatbid[0].bid&&0!==t.seatbid[0].bid.length?t.seatbid[0].bid.map((function(e){var o,r,i,a,s,d,c,l,f,g,p,m,v,h={requestId:e.impid,width:+e.w,height:+e.h,cpm:+e.price,creativeId:e.crid,dealId:e.dealid||null,mediaType:n.data.imp[0].video?u.pX:u.Mk,currency:t.cur||"USD",netRevenue:!0,ttl:360,ad:e.adm,nurl:e.nurl,meta:{advertiserDomains:e.adomain||[],networkId:(null===(o=e.ext)||void 0===o?void 0:o.networkId)||null,networkName:(null===(r=e.ext)||void 0===r?void 0:r.networkName)||null,agencyId:(null===(i=e.ext)||void 0===i?void 0:i.agencyId)||null,agencyName:(null===(a=e.ext)||void 0===a?void 0:a.agencyName)||null,advertiserId:(null===(s=e.ext)||void 0===s?void 0:s.advertiserId)||null,advertiserName:(null===(d=e.ext)||void 0===d?void 0:d.advertiserName)||null,brandId:(null===(c=e.ext)||void 0===c?void 0:c.brandId)||null,brandName:(null===(l=e.ext)||void 0===l?void 0:l.brandName)||null,demandSource:(null===(f=e.ext)||void 0===f?void 0:f.demandSource)||null,dchain:(null===(g=e.ext)||void 0===g?void 0:g.dchain)||null,primaryCatId:(null===(p=e.ext)||void 0===p?void 0:p.primaryCatId)||null,secondaryCatIds:(null===(m=e.ext)||void 0===m?void 0:m.secondaryCatIds)||null,mediaType:(null===(v=e.ext)||void 0===v?void 0:v.mediaType)||null}};return h.mediaType===u.pX&&(h.ttl=3600,h.vastXml=e.adm),h})):[]},getUserSyncs:function(e,n){return e.pixelEnabled&&void 0!==(0,l.Z)(n,"0.body.cookieSyncUrls")?n[0].body.cookieSyncUrls.map((function(e){return{type:"image",url:e}})):[]},onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}};function b(e){var n=e.api;return n&&Array.isArray(n)&&n.length>0?n:[2]}function y(e){var n=e.protocols;return n&&Array.isArray(n)&&n.length>0?n:[2,3,5,6,7,8]}function O(e){var n=null;if("function"==typeof e.getFloor){var t=e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.video?"video":"banner",size:e.sizes.map((function(e){return{w:e[0],h:e[1]}}))});"object"!==(0,o.Z)(t)||"USD"!==t.currency||isNaN(parseFloat(t.floor))||(n=parseFloat(t.floor))}return null!==n?n:e.params.floor}function _(e,n){return null==e?n:e}(0,s.dX)(h),(0,a.z)("sharethroughBidAdapter")}},function(e){e(e.s=6349)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[599],{789:function(e,n,t){var o=t(1002),r=t(9062),i=t(4942),a=t(8640),s=t(4358),d=t(4679),u=t(4699),c=t(3193),l=t(5164),f=t(9865);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m="triplelift",v=null,h=null,b=(0,l.df)({bidderCode:m}),y={gvlid:28,code:m,supportedMediaTypes:[d.Mk,d.pX],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,n){var t="https://tlx.3lift.com/header/auction?",o=function(e,n){var t,o,i={},a=e[0].schain,d=function(e){var n={},t={},o={},r=e.ortb2||{},i=function(){var e=b.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,s.H)("Triplelift: error parsing JSON: ",e),null}}(),a=Object.assign({},r.site),d=Object.assign({},r.user);if(i){d.data=d.data||[];try{d.data.push({name:"www.1plusx.com",ext:i})}catch(e){(0,s.H)("Triplelift: error adding 1plusX segments: ",e)}}return w(t,a),w(o,d),(0,s.xb)(t)||(n.context=t),(0,s.xb)(o)||(n.user=o),n}(n);i.imp=e.map((function(e,n){var t={id:n,tagid:e.params.inventoryCode,floor:I(e)};return O(e)&&(t.video=function(e){var n=p(p({},e.params.video),e.mediaTypes.video);try{n.w||(n.w=n.playerSize[0][0]),n.h||(n.h=n.playerSize[0][1])}catch(e){(0,s.yN)("Video size not defined",e)}return"instream"===n.context&&(n.placement||(n.placement=1)),"outstream"===n.context&&(n.placement?-1===[3,4,5].indexOf(n.placement)&&((0,s.ji)("video.placement value of ".concat(n.placement," is invalid for outstream context. Setting placement to 3")),n.placement=3):n.placement=3),n.playbackmethod&&Number.isInteger(n.playbackmethod)&&(n.playbackmethod=Array.from(String(n.playbackmethod),Number)),delete n.playerSize,n}(e)),e.mediaTypes.banner&&!_(e)&&(t.banner={format:S(e.sizes)}),(0,s.xb)(e.ortb2Imp)||(t.fpd=function(e){var n={},t={};return w(t,e.ext),(0,s.xb)(t)||(n.context=t),n}(e.ortb2Imp),(0,s.xb)(e.ortb2Imp.ext)||(t.ext=p({},e.ortb2Imp.ext))),t}));var u,c=[].concat((0,r.Z)((u=[e[0]],A(u,"tdid","adserver.org","TDID"))),(0,r.Z)(function(e){return A(e,"idl_env","liveramp.com","idl")}([e[0]])),(0,r.Z)(function(e){return A(e,"criteoId","criteo.com","criteoId")}([e[0]])),(0,r.Z)(function(e){return A(e,"pubcid","pubcid.org","pubcid")}([e[0]])),(0,r.Z)(function(e){var n=["adserver.org","liveramp.com","criteo.com","pubcid.org"],t=[];return e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if(-1===n.indexOf(e.source)){var o=e.uids.map((function(n){return{id:n.id,ext:{rtiPartner:e.source}}}));t.push({source:e.source,uids:o})}}catch(n){(0,s.yN)("Triplelift: Error attempting to add ".concat(e," to bid request"),n)}})),t}(e[0])));c.length>0&&(i.user={ext:{eids:c}});var l=function(e,n){var t={};return(0,s.xb)(e)||(t.schain=p({},e)),(0,s.xb)(n)||(t.fpd=p({},n)),t}(a,d);return(0,s.xb)(l)||(i.ext=l),null!=n&&null!==(t=n.ortb2)&&void 0!==t&&null!==(o=t.regs)&&void 0!==o&&o.gpp&&(i.regs=Object.assign({},n.ortb2.regs)),null!=n&&n.ortb2&&(i.ext.ortb2=Object.assign({},n.ortb2)),i}(e,n);if(t=(0,f.t)(t,"lib","prebid"),t=(0,f.t)(t,"v","8.18.0"),n&&n.refererInfo){var i=n.refererInfo.page;t=(0,f.t)(t,"referrer",i)}return n&&n.timeout&&(t=(0,f.t)(t,"tmax",n.timeout)),n&&n.gdprConsent&&(v=void 0===n.gdprConsent.gdprApplies||n.gdprConsent.gdprApplies,t=(0,f.t)(t,"gdpr",v.toString()),void 0!==n.gdprConsent.consentString&&(h=n.gdprConsent.consentString,t=(0,f.t)(t,"cmp_cs",h))),n&&n.uspConsent&&(t=(0,f.t)(t,"us_privacy",n.uspConsent)),n&&n.fledgeEnabled&&(t=(0,f.t)(t,"fledge",n.fledgeEnabled)),!0===c.vc.getConfig("coppa")&&(t=(0,f.t)(t,"coppa",!0)),t.lastIndexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),(0,s.ji)("tlCall request built: "+t),{method:"POST",url:t,data:o,bidderRequest:n}},interpretResponse:function(e,n){var t=n.bidderRequest,o=e.body.bids||[],r=e.body.paapi||[];if(o=o.map((function(e){return function(e,n){var t={},o=n.width||1,r=n.height||1,i=n.deal_id||"",a=n.crid||"",s=e.bids[n.imp_id];return 0!=n.cpm&&n.ad&&(t={requestId:s.bidId,cpm:n.cpm,width:o,height:r,netRevenue:!0,ad:n.ad,creativeId:a,dealId:i,currency:"USD",ttl:300,tl_source:n.tl_source,meta:{}},O(s)&&"video"===n.media_type&&(t.vastXml=n.ad,t.mediaType="video",t.ttl=3600),n.advertiser_name&&(t.meta.advertiserName=n.advertiser_name),n.adomain&&n.adomain.length&&(t.meta.advertiserDomains=n.adomain),n.tl_source&&"hdx"==n.tl_source&&(O(s)&&"video"===n.media_type?t.meta.mediaType="video":t.meta.mediaType="banner"),n.tl_source&&"tlx"==n.tl_source&&(t.meta.mediaType="native"),a&&(t.meta.networkId=a.slice(0,a.indexOf("_")))),t}(t,e)})),r.length>0){var i=r.map((function(e){return{bidId:t.bids[e.imp_id].bidId,config:e.auctionConfig}}));return(0,s.ji)("Response with FLEDGE:",{bids:o,fledgeAuctionConfigs:i}),{bids:o,fledgeAuctionConfigs:i}}return o},getUserSyncs:function(e,n,t,o,r){var i=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(i){var a="https://eb2.3lift.com/sync?";return"image"===i&&(a=(0,f.t)(a,"px",1),a=(0,f.t)(a,"src","prebid")),(null!==h||v)&&(a=(0,f.t)(a,"gdpr",v),a=(0,f.t)(a,"cmp_cs",h)),o&&(a=(0,f.t)(a,"us_privacy",o)),r&&(r.gppString&&(a=(0,f.t)(a,"gpp",r.gppString)),r.applicableSections&&0!==r.applicableSections.length&&(a=(0,f.t)(a,"gpp_sid",r.applicableSections.filter((function(e){return Number.isInteger(e)})).join(",")))),[{type:i,url:a}]}}};function O(e){return E(e)&&(_(e)||function(e){return E(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function _(e){return E(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function E(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function I(e){var n=null;if("function"==typeof e.getFloor)try{var t=e.getFloor({currency:"USD",mediaType:O(e)?"video":"banner",size:"*"});"object"!==(0,o.Z)(t)||"USD"!==t.currency||isNaN(parseFloat(t.floor))||(n=parseFloat(t.floor))}catch(e){(0,s.H)("Triplelift: getFloor threw an error: ",e)}return null!==n?n:e.params.floor}function w(e,n){(0,s.xb)(n)||Object.keys(n).forEach((function(t){null!=n[t]&&(e[t]=n[t])}))}function A(e,n,t,o){return e.map(function(e){return function(n){return n&&n.userId&&n.userId[e]}}(n)).filter(C(n)).map(function(e,n){return function(t){return{source:e,uids:[{id:t.id?t.id:t,ext:{rtiPartner:n}}]}}}(t,o))}var C=function(e){return function(n,t,o){var r=!!n&&((0,s.d8)(n)?!!n:(0,s.PO)(n)&&!(0,s.kJ)(n)&&!(0,s.xb)(n)&&n.id&&(0,s.d8)(n.id)&&!!n.id);return r||void 0===o[0]||(0,s.yN)("Triplelift: invalid ".concat(e," userId format")),r}};function S(e){return e.filter(T).map((function(e){return{w:e[0],h:e[1]}}))}function T(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,u.dX)(y),(0,a.z)("tripleliftBidAdapter")}},function(e){e.O(0,[213],(function(){return 789,e(e.s=789)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[215],{2722:function(e,n,t){var o=t(9062),r=t(1002),i=t(3324),a=t(4942),s=t(8640),d=t(4614),u=t(3193),c=t(2021),l=t(4516),f=t(6104),g=t(5644),p=t(2797),m=t(4358),v=t(265),h=new Map;function b(e){var n={};function t(e){var t,r,i=JSON.stringify([null===(t=e.source)||void 0===t?void 0:t.toLowerCase(),e.ext]);n.hasOwnProperty(i)?(r=n[i].uids).push.apply(r,(0,o.Z)(e.uids)):n[i]=e}return Object.entries(e).forEach((function(e){var n=(0,i.Z)(e,2),o=n[0],r=n[1];r=Array.isArray(r)?r:[r],("pubProvidedId"===o?r:r.map((function(e){return function(e,n){var t=h.get(n);if(t&&e){var o={};o.source=(0,m.LQ)(t.getSource)?t.getSource(e):t.source;var r=(0,m.LQ)(t.getValue)?t.getValue(e):e;if((0,m.d8)(r)){var i={id:r,atype:t.atype};if((0,m.LQ)(t.getUidExt)){var a=t.getUidExt(e);a&&(i.ext=a)}if(o.uids=[i],(0,m.LQ)(t.getEidExt)){var s=t.getEidExt(e);s&&(o.ext=s)}return o}}return null}(e,o)}))).filter((function(e){return null!=e})).forEach(t)})),Object.values(n)}var y,O,_,E,I,w,A=t(5164),C=t(6475),S=(0,p.z3)("sync",(function(){})),T=t(8792),D=t(6372),P=t(9128),N=t(8196),M=t(9633),U=t(571),R=t(4947),L=t(286),k="User ID",F=A.c$,x=A.Dp,j="_pbjs_id_optout",B=(0,A.eA)("userId"),G={isAllowed:U.xD},V=!1,Z=[],W=[],H={},q=[],z=function(){return null==w&&(w=(0,P.V6)()),w};function K(e){return z().fork().renameWith((function(n){return["userId.mod.".concat(n),"userId.mods.".concat(e,".").concat(n)]}))}function J(e,n){n=n||e.storageMgr;var t="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,o=e.config.storage.name;return function(e,r,i){n.setCookie(o+(e||""),r,i,"Lax",t)}}function X(e,n){var t=e.config.storage,o=e.storageMgr;try{var r=new Date(Date.now()+864e5*t.expires).toUTCString(),i=(0,m.PO)(n)?JSON.stringify(n):n;if(t.type===F){var a=J(e);a(null,i,r),a("_cst",me(),r),"number"==typeof t.refreshInSeconds&&a("_last",(new Date).toUTCString(),r)}else t.type===x&&(o.setDataInLocalStorage("".concat(t.name,"_exp"),r),o.setDataInLocalStorage("".concat(t.name,"_cst"),me()),o.setDataInLocalStorage(t.name,encodeURIComponent(i)),"number"==typeof t.refreshInSeconds&&o.setDataInLocalStorage("".concat(t.name,"_last"),(new Date).toUTCString()))}catch(e){(0,m.H)(e)}}function Y(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=e.storageMgr,r=e.config.storage,i=t?"".concat(r.name,"_").concat(t):r.name;try{if(r.type===F)n=o.getCookie(i);else if(r.type===x){var a=o.getDataFromLocalStorage("".concat(r.name,"_exp"));""===a?n=o.getDataFromLocalStorage(i):a&&new Date(a).getTime()-Date.now()>0&&(n=decodeURIComponent(o.getDataFromLocalStorage(i)))}"string"==typeof n&&"{"===n.trim().charAt(0)&&(n=JSON.parse(n))}catch(e){(0,m.H)(e)}return n}function Q(e,n,t){n=z().fork().startTiming("userId.callbacks.total").stopBefore(n);var o=(0,m.yx)((function(){clearTimeout(void 0),n()}),e.length);e.forEach((function(e){var n=K(e.submodule.name).startTiming("callback").stopBefore(o);try{e.callback((function(o){o?(e.config.storage&&X(e,o),e.idObj=e.submodule.decode(o,e.config),ve($(t))):(0,m.PN)("".concat(k,": ").concat(e.submodule.name," - request id responded with an empty value")),n()}),Y.bind(null,e))}catch(t){(0,m.H)("Error in userID module '".concat(e.submodule.name,"':"),t),n()}e.callback=void 0}))}function $(e){return Array.isArray(e)&&e.length?ne(e):{}}function ee(e,n,t){return Object.fromEntries(Object.entries(e.reduce((function(e,o){var r=n(o);return r&&Object.keys(r).forEach((function(n){var i,a=null===(i=H[n])||void 0===i?void 0:i.indexOf(t(o)),s={priority:(0,m.hj)(a)?a:-1,value:r[n]};if(e[n]){var d=s.priority>e[n].priority?s:e[n];e[n]=d}else e[n]=s})),e}),{})).map((function(e){var n=(0,i.Z)(e,2);return[n[0],n[1].value]})))}function ne(e){return ee(e.filter((function(e){return(0,m.PO)(e.idObj)&&Object.keys(e.idObj).length})),(function(e){return e.idObj}),(function(e){return e.submodule.name}))}function te(e,n){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&(0,m.kJ)(e.bids)&&e.bids.forEach((function(e){var t=function(e,n){return Array.isArray(e)&&e.length&&n?ne(e.filter((function(e){return!e.config.bidders||!(0,m.kJ)(e.config.bidders)||(0,d.q9)(e.config.bidders,n)}))):{}}(n,e.bidder);Object.keys(t).length&&(e.userId=t,e.userIdAsEids=b(t))}))}))}var oe,re={};function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de()||[],n=E&&e.find((function(e){return e.source===E}));if(n&&"string"==typeof(0,v.Z)(n,"uids.0.id")){var t=n.uids[0].id.replace(/[\W_]/g,"");if(t.length>=32&&t.length<=150)return t;(0,m.yN)("User ID - Googletag Publisher Provided ID for ".concat(E," is not between 32 and 150 characters - ").concat(t))}}var ae=(0,P.g3)("userId",(function(e,n){var t=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.delay,i=void 0===r?T.Z.timeout:r,a=o.getIds,d=void 0===a?pe:a;T.Z.race([d().catch((function(){return null})),i(_)]).then((function(){te(n.adUnits||(0,s.R)().adUnits,y),z().join((0,P.Bf)(n.metrics),{propagate:!1,includeGroups:!0}),e.call(t,n)}))}));function se(){return $(y)}function de(){return b(se())}function ue(e){return b(function(e,n){if(!Array.isArray(e)||!e.length)return{};var t=ne(e),o=Object.keys(t).find((function(e){var t=h.get(e);return(null==t?void 0:t.source)===n||(0,m.LQ)(null==t?void 0:t.getSource)&&t.getSource()===n}));return o?(0,a.Z)({},o,t[o]):[]}(y,e))[0]}function ce(e,n,t){return oe().then((function(){var o={};if((0,m.LQ)(t)){(0,m.PN)("".concat(k," - Getting encrypted signal from custom function : ").concat(t.name," & source : ").concat(e," "));var r=t(e);o[e]=r?le(r):null}else{var i=ue(e);(0,m.PN)("".concat(k," - Getting encrypted signal for eids :").concat(JSON.stringify(i))),(0,m.xb)(i)||(o[i.source]=!0===n?le(i):i.uids[0].id)}return(0,m.PN)("".concat(k," - Fetching encrypted eids: ").concat(o[e])),o[e]}))}function le(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="";return 1===n&&(t="object"===(0,r.Z)(e)?window.btoa(JSON.stringify(e)):window.btoa(e)),"".concat(n,"||").concat(t)}function fe(){if((0,m.T9)()){window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];var e=u.vc.getConfig("userSync.encryptedSignalSources");if(e){var n=e.registerDelay||0;setTimeout((function(){e.sources&&e.sources.forEach((function(e){var n=e.source,t=e.encrypt,o=e.customFunc;n.forEach((function(e){window.googletag.secureSignalProviders.push({id:e,collectorFunction:function(){return ce(e,t,o)}})}))}))}),n)}else(0,m.yN)("".concat(k," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function ge(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).submoduleNames,n=arguments.length>1?arguments[1]:void 0;return oe({refresh:!0,submoduleNames:e}).then((function(){return n&&(0,m.LQ)(n)&&n(),se()}))}function pe(){return oe().then((function(){return se()}),(function(e){return e===re?Promise.resolve().then(pe):((0,m.H)("Error initializing userId",e),T.Z.reject(e))}))}function me(){for(var e=Number(l.NO.hash),n=[];e>0;)n.push(String.fromCharCode(255&e)),e>>>=8;return btoa(n.join())}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();if(e&&E){var n=ie(b(e));n&&((0,m.T9)()?window.googletag.pubads().setPublisherProvidedId(n):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(n)}))))}}function he(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return z().fork().measureTime("userId.init.modules",(function(){if(!n.length)return[];if(!(n=n.filter((function(e){return(!e.config.storage||function(e){var n,t;switch(null===(n=e.config)||void 0===n||null===(t=n.storage)||void 0===t?void 0:t.type){case x:if(e.storageMgr.localStorageIsEnabled())return!B.getDataFromLocalStorage(j)||((0,m.PN)("".concat(k," - opt-out localStorage found, storage disabled")),!1);break;case F:if(e.storageMgr.cookiesAreEnabled())return!B.getCookie(j)||((0,m.PN)("".concat(k," - opt-out cookie found, storage disabled")),!1)}return!1}(e))&&G.isAllowed(R.EL,(0,L.T)(M.y2,e.config.name))}))).length)return(0,m.yN)("".concat(k," - no ID module configured")),[];var o=n.reduce((function(e,o){return K(o.submodule.name).measureTime("init",(function(){try{(function(e,n,t){var o=l.rp.getConsentData();if(e.config.storage){var r,i=Y(e),a=!1;if("number"==typeof e.config.storage.refreshInSeconds){var s=new Date(Y(e,"last"));a=s&&Date.now()-s.getTime()>1e3*e.config.storage.refreshInSeconds}!i||a||n||function(e){var n=Y(e,"cst");return!n||n!==me()}(e)?r=e.submodule.getId(e.config,o,i):"function"==typeof e.submodule.extendId&&(r=e.submodule.extendId(e.config,o,i)),(0,m.PO)(r)&&(r.id&&(X(e,r.id),i=r.id),"function"==typeof r.callback&&(e.callback=r.callback)),i&&(e.idObj=e.submodule.decode(i,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var d=e.submodule.getId(e.config,o,void 0);(0,m.PO)(d)&&("function"==typeof d.callback&&(e.callback=d.callback),d.id&&(e.idObj=e.submodule.decode(d.id,e.config)))}ve($(t))})(o,t,n),e.push(o)}catch(e){(0,m.H)("Error in userID module '".concat(o.submodule.name,"':"),e)}return e}))}),[]);return o.length&&function(e){var n=(0,m.EE)().setEidPermissions;"function"==typeof n&&(0,m.kJ)(e)&&n(function(e){var n=[];return e.filter((function(e){return(0,m.PO)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(t){var o=h.get(t)||{};(0,v.Z)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&o.source&&n.push({source:o.source,bidders:e.config.bidders})}))})),n}(e))}(o),o.forEach(be.bind(null,e)),o}))}function be(e,n){for(var t=!1,o=0;o<e.length;o++)if(n.config.name.toLowerCase()===e[o].config.name.toLowerCase()){t=!0,e[o]=n;break}t||e.push(n)}var ye=new Set([x,F]);function Oe(){!function(e){h.clear(),Object.entries(ee(e,(function(e){return e.eids}),(function(e){return e.name}))).forEach((function(e){var n=(0,i.Z)(e,2),t=n[0],o=n[1];return h.set(t,o)}))}(q);var e=function(e,n){return Array.isArray(e)?e.reduce((function(e,n){return!n||(0,m.jH)(n.name)||(n.storage&&!(0,m.jH)(n.storage.type)&&!(0,m.jH)(n.storage.name)&&ye.has(n.storage.type)||(0,m.PO)(n.value)?e.push(n):n.storage||n.value||e.push(n)),e}),[]):[]}(W);if(e.length){var n=q.filter((function(e){return!(0,d.sE)(Z,(function(n){return n.name===e.name}))}));Z.splice(0,Z.length),n.map((function(n){var t=(0,d.sE)(e,(function(e){return e.name&&(e.name.toLowerCase()===n.name.toLowerCase()||n.aliasName&&e.name.toLowerCase()===n.aliasName.toLowerCase())}));return t&&n.name!==t.name&&(t.name=n.name),n.findRootDomain=N.W,t?{submodule:n,config:t,callback:void 0,idObj:void 0,storageMgr:(0,A.df)({moduleType:M.y2,moduleName:t.name})}:null})).filter((function(e){return null!==e})).forEach((function(e){return Z.push(e)})),!V&&Z.length&&((0,s.R)().requestBids.before(ae,40),f.ZP.callDataDeletionRequest.before(Ee),S.after((function(e){return e(ie())})),(0,m.PN)("".concat(k," - usersync config updated for ").concat(Z.length," submodules: "),Z.map((function(e){return e.submodule.name}))),V=!0)}}function _e(e,n){if(e){var t={},r=new Map(n.map((function(e){return e.submodule.aliasName?[e.submodule.aliasName,e.submodule.name]:[]})));Object.keys(e).forEach((function(n){var i=(0,m.kJ)(e[n])?(0,o.Z)(e[n]).reverse():[];t[n]=i.map((function(e){return r.has(e)?r.get(e):e}))})),H=t}else H={}}function Ee(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];(0,m.PN)("UserID: received data deletion request; deleting all stored IDs..."),Z.forEach((function(e){if("function"==typeof e.submodule.onDataDeletionRequest)try{var n;(n=e.submodule).onDataDeletionRequest.apply(n,[e.config,e.idObj].concat(t))}catch(n){(0,m.H)("Error calling onDataDeletionRequest for ID submodule ".concat(e.submodule.name),n)}!function(e){var n,t,o,r;switch(null===(n=e.config)||void 0===n||null===(t=n.storage)||void 0===t?void 0:t.type){case F:var i=J(e,B),a=new Date(Date.now()-864e5).toUTCString();o=function(e){return i(e,"",a)},r=["","_last","_cst"];break;case x:o=function(n){return B.removeDataFromLocalStorage(e.config.storage.name+n)},r=["","_last","_exp","_cst"]}o&&r.forEach((function(e){try{o(e)}catch(e){(0,m.H)(e)}}))}(e)})),e.apply(this,t)}function Ie(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delay,t=void 0===n?T.Z.timeout:n;E=void 0,Z=[],W=[],V=!1,y=[],oe=function(){var e,n,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).delay,o=void 0===t?T.Z.timeout:t,r=(0,T.P)(),i=(0,T.P)(),a=!1;function s(t){return n=z().fork(),null!=e&&e.reject(re),e=(0,T.P)(),T.Z.race([t,e.promise]).finally(n.startTiming("userId.total"))}var d=y,u=Z;function f(e){return function(){if(d===y&&u===Z)return e.apply(void 0,arguments)}}function v(){return l.NO.promise.finally(n.startTiming("userId.init.consent"))}var h=s(T.Z.all([p.Cd,r.promise]).then(v).then(f((function(){he(d,u)}))).then((function(){return i.promise.finally(n.startTiming("userId.callbacks.pending"))})).then(f((function(){var e=d.filter((function(e){return(0,m.LQ)(e.callback)}));if(e.length)return new T.Z((function(n){return Q(e,n,d)}))}))));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refresh,t=void 0!==n&&n,l=e.submoduleNames,p=void 0===l?null:l,m=e.ready;return void 0!==m&&m&&!a&&(a=!0,r.resolve(),_>0?i.resolve():c.on(g.FP.AUCTION_END,(function e(){c.S1(g.FP.AUCTION_END,e),o(O).then(i.resolve)}))),t&&a&&(h=s(h.catch((function(){return null})).then(v).then(f((function(){var e=he(d,u.filter((function(e){return null==p||p.includes(e.submodule.name)})),!0).filter((function(e){return null!=e.callback}));if(e.length)return new T.Z((function(n){return Q(e,n,d)}))}))))),h}}({delay:t}),null!=I&&I(),q=[],I=e.getConfig("userSync",(function(e){var n=e.userSync;n&&(E=n.ppid,n.userIds&&(W=n.userIds,O=(0,m.hj)(n.syncDelay)?n.syncDelay:500,_=(0,m.hj)(n.auctionDelay)?n.auctionDelay:0,Oe(),_e(n.idPriority,Z),oe({ready:!0})))})),(0,s.R)().getUserIds=se,(0,s.R)().getUserIdsAsEids=de,(0,s.R)().getEncryptedEidsForSource=Ie(ce),(0,s.R)().registerSignalSources=fe,(0,s.R)().refreshUserIds=Ie(ge),(0,s.R)().getUserIdsAsync=Ie(pe),(0,s.R)().getUserIdsAsEidBySource=ue}(u.vc),(0,p.bA)("userId",(function(e){(0,d.sE)(q,(function(n){return n.name===e.name}))||(q.push(e),l.qh.register(M.y2,e.name,e.gvlid),Oe(),oe({refresh:!0,submoduleNames:[e.name]}))})),(0,D.f8)({type:D.Z,name:"userExtEids",fn:function(e,n,t){var o=(0,v.Z)(t,"bidRequests.0.userIdAsEids");o&&Object.keys(o).length>0&&(0,C.N)(e,"user.ext.eids",o)}}),(0,s.z)("userId")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return r},md:function(){return l}});var o,r=["request","imp","bidResponse","response"],i=["default","pbs"],a=r[0],s=r[1],d=r[2],u=r[3],c=i[0],l=i[1],f=new Set(r),g=(o={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));u.forEach((function(e){o.hasOwnProperty(e)||(o[e]={}),o[e].hasOwnProperty(n)||(o[e][n]={}),o[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return o[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors}},function(e){e(e.s=2722)}])})(),pbjs.processQueue()},{}],15:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:35}},{}]},{},[13])(13)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).A9=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f,g,p=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.userConsentLib=(null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||(null===(g=window.WBD)||void 0===g?void 0:g.UserConsent),this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(p.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(p.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(p.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){p.logger.log("Waiting for UserConsent..."),p.waitForUserConsent().then((function(){var e,n,t,r;p.logger.log("Checking Module Flags...",p.moduleFlags),(p.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(e=p.userConsentLib)||void 0===e?void 0:e.inUserConsentState(p.consentTags))?(p.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(n=window.AdFuel)||void 0===n?void 0:n.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):(p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)})))):(p.logger.log("Waiting for AdFuel..."),p.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags)})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for AdFuel."),e)}))):(p.logger.info("User consent is not granted.",null===(t=p.userConsentLib)||void 0===t?void 0:t.inUserConsentState(p.consentTags)),null===(r=window.AdFuel)||void 0===r||r.setModuleLoaded(p.MODULE_LOG_TAG))})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(p.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){return p.userConsentLib?(p.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r;p._logger.log("Consent Promise with Timeout..."),(null===(n=p.userConsentLib)||void 0===n?void 0:n.isReady())?(p._logger.log("Consent Is Ready..."),(null===(t=p.userConsentLib)||void 0===t?void 0:t.isInRegion("gdpr"))?(p._logger.log("Region is GDPR..."),null!==(r=null===(o=p.userConsentLib)||void 0===o?void 0:o.isOptanonLoaded())&&void 0!==r&&r?(p._logger.log("Optanon is Loaded..."),e()):(p._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){p._logger.log("Optanon is Loaded..."),e()})))):(p._logger.log("Region is not GDPR..."),e())):p.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":12,"./promiseWithTimeout":14}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Performance=void 0;var o=function(){function e(e){this._tag="ADFUEL",this._tag=e,this.addMark("AdFuel Load START")}return e.prototype.addMark=function(e){"undefined"!=typeof window&&window.performance.mark("[".concat(this._tag,"] ").concat(e))},e.prototype.addMeasure=function(e){"undefined"!=typeof window&&window.performance.measure("[".concat(this._tag,"] ").concat(e),"[".concat(this._tag,"] ").concat(e," START"),"[".concat(this._tag,"] ").concat(e," END"))},e.prototype.getMarks=function(){var e,n=this;return null!==(e=null===window||void 0===window?void 0:window.performance.getEntriesByType("mark").filter((function(e){return e.name.indexOf("[".concat(n._tag,"] "))})))&&void 0!==e?e:[]},e.prototype.getMeasures=function(){var e,n=this;return null!==(e=null===window||void 0===window?void 0:window.performance.getEntriesByType("measure").filter((function(e){return e.name.indexOf("[".concat(n._tag,"] "))})))&&void 0!==e?e:[]},e}();t.Performance=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PiiFilter=void 0;var o=function(){function e(e){var n=this;this.logger=e,this.re=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\[\]\.,;:\s@\"]+\.)+[^<>()\[\]\.,;:\s@\"]{2,})/i,this.present=function(){return n.presentInQueryString()||n.presentInHash()||n.presentInReferrer()}}return e.prototype.presentInQueryString=function(){if(document.location.search){var e=document.location.search.search(this.re)+1,n=void 0;try{n=decodeURIComponent(document.location.search).search(this.re)+1}catch(t){n=e}return 1===e||1===n}return!1},e.prototype.presentInHash=function(){if(document.location.hash){var e=document.location.hash.search(this.re)+1,n=void 0;try{n=decodeURIComponent(document.location.hash).search(this.re)+1}catch(t){n=e}return e||n}return!1},e.prototype.presentInReferrer=function(){if(document.referrer){var e=document.referrer.search(this.re)+1,n=void 0;try{n=decodeURIComponent(document.location.referrer).search(this.re)+1}catch(t){n=e}return e||n}return!1},e.prototype.filterDFPRequest=function(){if(this.presentInQueryString()||this.presentInHash()||this.presentInReferrer()){if("undefined"!=typeof window&&window.AdFuel){this.logger.log("Filtering DFP Request due to PII in query string.");for(var e=Object.getOwnPropertyNames(window.AdFuel),n=0;n<e.length;n++);window.googletag=null}return!0}return!1},Object.defineProperty(e.prototype,"qs",{get:function(){return this.presentInQueryString},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.presentInHash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return this.presentInReferrer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPIIPresent",{get:function(){return this.present},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this.filterDFPRequest},enumerable:!1,configurable:!0}),e}();t.PiiFilter=o},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateCacheBuster=void 0,t.generateCacheBuster=function(){for(var e="",n=0;n<10;n++)e+=Math.floor(9*Math.random()).toString();return e}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasVideo=void 0,t.hasVideo=function(){var e=document.getElementsByTagName("video"),n=document.getElementsByClassName("fave-wrapper"),t=document.getElementsByClassName("top-container");return!!e.length||!!n.length||!!t.length}},{}],10:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.waitForVideo=t.Version=t.PiiFilter=t.Performance=t.toString=t.setHostAndPathNames=t.selectedEdition=t.promiseWithTimeout=t.normalizeUrl=t.noop=t.ModuleFlags=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=t.Logger=t.locationServiceURL=t.loadScriptFromUrl=t.isUSCNN=t.isIntl=t.hasVideo=t.hasUserConsent=t.getUrlParam=t.generateCacheBuster=t.countryCode=t.CookieHelper=t.AAdFuelModule=void 0;var o=e("./AAdFuelModule");Object.defineProperty(t,"AAdFuelModule",{enumerable:!0,get:function(){return o.AAdFuelModule}}),Object.defineProperty(t,"ModuleFlags",{enumerable:!0,get:function(){return o.ModuleFlags}});var r=e("./CookieHelper");Object.defineProperty(t,"CookieHelper",{enumerable:!0,get:function(){return r.CookieHelper}});var i=e("./getUrlParam");Object.defineProperty(t,"getUrlParam",{enumerable:!0,get:function(){return i.getUrlParam}});var a=e("./hasVideo");Object.defineProperty(t,"hasVideo",{enumerable:!0,get:function(){return a.hasVideo}});var s=e("./localization");Object.defineProperty(t,"isIntl",{enumerable:!0,get:function(){return s.isIntl}}),Object.defineProperty(t,"isUSCNN",{enumerable:!0,get:function(){return s.isUSCNN}});var d=e("./loadScriptFromUrl");Object.defineProperty(t,"loadScriptFromUrl",{enumerable:!0,get:function(){return d.loadScriptFromUrl}});var u=e("./Logger");Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return u.Logger}});var c=e("./normalizeUrl");Object.defineProperty(t,"normalizeUrl",{enumerable:!0,get:function(){return c.normalizeUrl}});var l=e("./promiseWithTimeout");Object.defineProperty(t,"promiseWithTimeout",{enumerable:!0,get:function(){return l.promiseWithTimeout}});var f=e("./Performance");Object.defineProperty(t,"Performance",{enumerable:!0,get:function(){return f.Performance}});var g=e("./PiiFilter");Object.defineProperty(t,"PiiFilter",{enumerable:!0,get:function(){return g.PiiFilter}});var p=e("./setHostAndPathNames");Object.defineProperty(t,"setHostAndPathNames",{enumerable:!0,get:function(){return p.setHostAndPathNames}});var m=e("./generateCacheBuster");Object.defineProperty(t,"generateCacheBuster",{enumerable:!0,get:function(){return m.generateCacheBuster}});var v=e("./variables");Object.defineProperty(t,"MODULE_VERSION",{enumerable:!0,get:function(){return v.MODULE_VERSION}}),Object.defineProperty(t,"MODULE_NAME",{enumerable:!0,get:function(){return v.MODULE_NAME}}),Object.defineProperty(t,"MODULE_LOG_TAG",{enumerable:!0,get:function(){return v.MODULE_LOG_TAG}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return v.toString}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return v.noop}}),Object.defineProperty(t,"countryCode",{enumerable:!0,get:function(){return v.countryCode}}),Object.defineProperty(t,"locationServiceURL",{enumerable:!0,get:function(){return v.locationServiceURL}}),Object.defineProperty(t,"selectedEdition",{enumerable:!0,get:function(){return v.selectedEdition}}),Object.defineProperty(t,"hasUserConsent",{enumerable:!0,get:function(){return v.hasUserConsent}});var h=e("./Version");Object.defineProperty(t,"Version",{enumerable:!0,get:function(){return h.Version}});var b=e("./waitForVideo");Object.defineProperty(t,"waitForVideo",{enumerable:!0,get:function(){return b.waitForVideo}})},{"./AAdFuelModule":1,"./CookieHelper":2,"./Logger":3,"./Performance":4,"./PiiFilter":5,"./Version":6,"./generateCacheBuster":7,"./getUrlParam":8,"./hasVideo":9,"./loadScriptFromUrl":11,"./localization":12,"./normalizeUrl":13,"./promiseWithTimeout":14,"./setHostAndPathNames":15,"./variables":16,"./waitForVideo":17}],11:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":14}],12:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1,c=new Set(["US","CA"]),l=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;t.isIntl=function(){var e,n,t,i,f=!1,g=(0,o.setHostAndPathNames)(),p=(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.getGeoCountry())||a.countryCode,m=(null===(i=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===i?void 0:i.getGeoState())||"",v=g.search(/^(.*\.)?cnn\.com$/)>=0;return v&&c.delete("CA"),s.log("Is CNN:",v),s.log("Domestic Country Codes: ",Array.from(c)),s.log("UserConsent Location: ",{state:m,country:p}),"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),f=!0):g.search(l)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),f=!0):""===p||null===p?(d||(d=!0,s.log("No country code. Using Domestic PubIds.")),f=!1):c.has(p)?d||(d=!0,s.log("Domestic site or country code. Using Domestic PubIds."),f=!1):g.search(/^.*(money|\.cnn)\./)>=0?(g.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate International PubIds if available."),u=!0),d||(d=!0,s.log("International country code. Using International PubIds.")),f=!0):g.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate International PubIds if available.")),f=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site. Using International PubIds if available.")),f=!0),f};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":8,"./setHostAndPathNames":15,"./variables":16}],13:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeUrl=void 0,t.normalizeUrl=function(e){var n=Object.assign({normalizeProtocol:!0,normalizeHttps:!1,normalizeHttp:!0,stripFragment:!0,stripWWW:!0,removeQueryParameters:!0,removeTrailingSlash:!1,removeDirectoryIndex:!1},{}),t=e.trim(),o="/"===e[0]&&"/"===e[1];!o&&/^\.*\//.test(e)||(t=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,"http://"));var r=document.createElement("a");if(r.href=t,n.normalizeHttps&&n.normalizeHttp)throw new Error("The `normalizeHttp` and `normalizeHttps` options cannot be used together");return n.normalizeHttp&&("http:"===r.protocol||o)&&(r.protocol="https:"),n.normalizeHttps&&("https:"===r.protocol||o)&&(r.protocol="http:"),n.stripFragment&&(r.hash=""),r.pathname&&(r.pathname=r.pathname.replace(/((?![https?:]).)\/{2,}/g,(function(e,n){return/^(?!\/)/g.test(n)?n+"/":"/"}))),r.pathname&&(r.pathname=decodeURI(r.pathname)),r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),n.stripWWW&&(r.hostname=r.hostname.replace(/^www\./,""))),n.removeQueryParameters&&(r.search=""),t=r.href,(n.removeTrailingSlash||"/"===r.pathname)&&(t=e.replace(/\/$/,"")),o&&!n.normalizeProtocol&&(t=e.replace(/^http:\/\//,"//")),t}},{}],14:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],15:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],16:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,102,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":6}],17:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.waitForVideo=void 0;t.waitForVideo=function(e){var n=!1,t=new MutationObserver((function(o){var r=document.getElementsByTagName("video"),i=document.getElementsByClassName("fave-wrapper"),a=document.getElementsByClassName("top-container");(r.length||i.length||a.length)&&(n||e(),n=!0,t.disconnect())}));t.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0});var o=document.getElementsByTagName("video"),r=document.getElementsByClassName("fave-wrapper"),i=document.getElementsByClassName("top-container");(o.length||r.length||i.length)&&(e(),n=!0,t.disconnect())}},{}],18:[function(e,n,t){t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(e("./isMobile"));var o=e("./isMobile");t.default=o.default},{"./isMobile":19}],19:[function(e,n,t){t.__esModule=!0;var o=/iPhone/i,r=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};t.default=function(e){var n={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?n.userAgent=e:e&&e.userAgent&&(n={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var t=n.userAgent,y=t.split("[FBAN");void 0!==y[1]&&(t=y[0]),void 0!==(y=t.split("Twitter"))[1]&&(t=y[0]);var O=function(e){return function(n){return n.test(e)}}(t),_={apple:{phone:O(o)&&!O(l),ipod:O(r),tablet:!O(o)&&(O(i)||b(n))&&!O(l),universal:O(a),device:(O(o)||O(r)||O(i)||O(a)||b(n))&&!O(l)},amazon:{phone:O(u),tablet:!O(u)&&O(c),device:O(u)||O(c)},android:{phone:!O(l)&&O(u)||!O(l)&&O(s),tablet:!O(l)&&!O(u)&&!O(s)&&(O(c)||O(d)),device:!O(l)&&(O(u)||O(c)||O(s)||O(d))||O(/\bokhttp\b/i)},windows:{phone:O(l),tablet:O(f),device:O(l)||O(f)},other:{blackberry:O(g),blackberry10:O(p),opera:O(m),firefox:O(h),chrome:O(v),device:O(g)||O(p)||O(m)||O(h)||O(v)},any:!1,phone:!1,tablet:!1};return _.any=_.apple.device||_.android.device||_.windows.device||_.other.device,_.phone=_.apple.phone||_.android.phone||_.windows.phone,_.tablet=_.apple.tablet||_.android.tablet||_.windows.tablet,_}},{}],20:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=this&&this.__spreadArray||function(e,n,t){if(t||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))};Object.defineProperty(t,"__esModule",{value:!0}),t.A9=void 0;var s=e("@turnercode/digital-ads-utilities"),d=e("ismobilejs"),u=e("./version.json"),c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],l=function(e){function n(n){var t=e.call(this,n,"A9",new s.Version(u.major,u.minor,u.revision,u.family),"a9","color: #58f53f; padding: 2px",s.ModuleFlags.EnableForDomestic|s.ModuleFlags.EnableForForeign|s.ModuleFlags.RunWithoutAdFuel,c,"A9VideoAPI")||this;return t._isInitialized=!1,t.initialPreRollSent=!1,t.blocked=!1,t.builtSlots=[],t.refreshSlots=[],t.defaultTimeout=0,t.defaultRefreshTimeout=0,t.siSection="",t.getTargetingData=function(e){return new Promise((function(n,o){var r=!0;if(t.blocked)t.logger.log("Blocked...");else{t.initialPreRollSent||(r=!1),e=e||t.defaultTimeout;var i=(0,s.getUrlParam)("mdt");i&&(e=+i,t.logger.log("Overriding Max Duration Time: ",e));var a=new Promise((function(e){t.logger.log("Getting Video targeting...");if(!window.A9VideoAPI._targetingPromise||!t.initialPreRollSent){t.logger.log("Targeting Promise not yet created. Sending pre-roll request manually."),t.initialPreRollSent=!0;var n=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL,o=(0,d.default)().phone?"aps-preroll-mobile":"aps-preroll",r=(0,s.getUrlParam)("slotname");r&&(o=r,t.logger.log("Overriding Slot Name: ",o)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise((function(e){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:o,slotName:o,mediaType:"video"}],timeout:n},e)}))}window.A9VideoAPI._targetingPromise.then((function(n){e(function(e){t.logger.log("Clearing Timeout: ",window.targetingTimeoutId),clearTimeout(window.targetingTimeoutId);var n={targeting:{amznbid:"",amzniid:""},slotID:""};t.logger.log("Pre-Roll Bids: ",e),e&&e.forEach((function(e){e.slotID.indexOf("aps-preroll")>=0&&(n=e)}));var o=n.targeting||{amznbid:"",amzniid:""};return t.logger.log("Returning Targeting: ",o),o}(n))}))}));r?(t.logger.log("Racing against a timeout..."),(0,s.promiseWithTimeout)(e,a).then((function(e){return n(e)})).catch((function(e){return o(e)}))):(t.logger.log("Running solo..."),n(a))}}))},t.getRefreshedTargetingData=function(e,n){return new Promise((function(o,r){if(t.blocked)t.logger.log("Blocked");else{n=n||t.defaultRefreshTimeout,e=e?e+((0,d.default)().phone?"-mobile":""):(0,d.default)().phone?"aps-midroll-mobile":"aps-midroll";var i=(0,s.getUrlParam)("mdt"),a=(0,s.getUrlParam)("slotname");i&&(n=+i,t.logger.log("Overriding Max Duration Time: ",n)),a&&(t.logger.log("Overriding Slot Name: ",e),e=a);var u=new Promise((function(o){window.A9VideoAPI._refreshedTargetingPromise=new Promise((function(t){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:e,slotName:e,mediaType:"video"}],timeout:n},t)}));t.logger.log("Refreshing Video targeting..."),window.A9VideoAPI._refreshedTargetingPromise.then((function(n){clearTimeout(window.targetingTimeoutId);var r={targeting:{amznbid:"",amzniid:""}};n.forEach((function(n){n.slotID===e&&(r=n)}));var i=r.targeting||{amznbid:"",amzniid:""};t.logger.log("Returning Refreshed Targeting: ",i),o(i)}))}));(0,s.promiseWithTimeout)(n,u).then((function(e){return o(e)})).catch((function(e){return r(e)}))}}))},t.buildDisplaySlot=function(e){if(t.logger.log("Building Display Slot: ",e),""===t.siSection){var n=e.unWrappedSlot.rktr_ad_id.split("/");n.length>1&&"homepage"!==n[1]&&(t.siSection=n[0]+(n[1]?"/"+n[1]:""))}var o=e.slotId,r=o;t.config.SLOTNAMES.PREPEND_ADUNIT&&(t.logger.log("Prepending Ad Unit To SlotName..."),r="".concat(e.unWrappedSlot.rktr_ad_id,"_").concat(o));var i={slotID:o,slotName:r,sizes:e.monetization.filteredSizes.map((function(e){return[e.width,e.height]}))};return t.logger.log("A9 Slot Object: ",i),e.programmatic.A9=JSON.parse(JSON.stringify(i)),i},t.buildOutstreamSlot=function(e){if(t.logger.log("Building Outstream Slot: ",e),""===t.siSection){var n=e.unWrappedSlot.rktr_ad_id.split("/");n.length>1&&"homepage"!==n[1]&&(t.siSection=n[0]+(n[1]?"/"+n[1]:""))}var o=e.slotId,r=o;t.config.SLOTNAMES.PREPEND_ADUNIT&&(t.logger.log("Prepending Ad Unit To SlotName..."),r="".concat(e.unWrappedSlot.rktr_ad_id,"_").concat(o));var i={slotID:o,slotName:r,mediaType:"video",video:{sizes:[[400,300]]}};return t.logger.log("A9 Slot Object: ",i),e.programmatic.A9=JSON.parse(JSON.stringify(i)),i},t.preQueue=function(e){return new Promise((function(n,o){t.logger.log("Starting A9 Prequeue Processes...");var r=[];if(e&&e.length>0)for(var i=function(n){if(!e[n].unWrappedSlot)return t.logger.warn("There appears to be an empty unwrapped slot object:",!e[n]),"continue";var o,i=e[n];i.unWrappedSlot.rktr_ad_id&&i.monetization&&i.slotId.indexOf("_out_vid_")<=0&&(i.monetization.isMonetized&&(o=i.slotId.includes("_out_")?t.buildOutstreamSlot(i):t.buildDisplaySlot(i),t.builtSlots.some((function(e){return e.slotID===o.slotID}))?t.logger.log("Already pushed builtSlot: ",o):(t.logger.log("Pushing builtSlot: ",o),t.builtSlots.push(o),r.push(o))))},s=0;s<e.length;s++)i(s);else t.logger.log("No Slots");if(t.logger.log("bidslots: ",r),r.length>0){var u={slots:r,timeout:(0,d.default)().any?t.config.TIMEOUTS.MOBILE.DISPLAY.INITIAL:t.config.TIMEOUTS.DESKTOP.DISPLAY.INITIAL,params:{si_section:t.siSection}};t.logger.log("REQUESTING TARGETING:",u),window.apstag.fetchBids(u,(function(o){t.logger.log("SETTING MANUAL TARGETING: ",o),o.forEach((function(e){var n=e.slotID;if(e.targeting){var o=Object.keys(e.targeting);t.logger.log("Setting targeting for slot: ",n),t.logger.log("targetKeys",o),o.forEach((function(o){var r=e.targeting[o];r&&(t.logger.log("Setting key [".concat(o,"] target [").concat(o,"] with value: ").concat(r)),window.AdFuel.addSlotLevelTarget(n,o,e.targeting[o]))}))}else t.logger.log("No targeting returned for bid: ",e)})),t.refreshSlots=a(a([],t.refreshSlots,!0),r,!0),t.logger.log("Setting refreshable slots to: ",t.refreshSlots),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preQueue",slots:e,bids:o,err:null})}))}else t.logger.log("No valid slots."),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preQueue",slots:e,bids:null,err:"No valid slots"})}))},t.preRefresh=function(e){return new Promise((function(n){e.forEach((function(e){if(""===t.siSection){var n=e.unWrappedSlot.rktr_ad_id.split("/");t.siSection=n[0]+(n[1]?"/"+n[1]:"")}})),t.logger.log("Refresh Slots: ",t.refreshSlots);var o,r=(o=t.refreshSlots).filter((function(e,n){var t=JSON.stringify(e);return n===o.findIndex((function(e){return JSON.stringify(e)===t}))})),i={slots:r,timeout:(0,d.default)().any?t.config.TIMEOUTS.MOBILE.DISPLAY.REFRESH:t.config.TIMEOUTS.DESKTOP.DISPLAY.REFRESH,params:{si_section:t.siSection}};r.length>0?(t.logger.log("Fetching Bids... ",i),window.apstag.fetchBids(i,(function(o){t.logger.log("SETTING MANUAL TARGETING: ",o),o.forEach((function(e){var n=e.slotID;if(e.targeting){var o=Object.keys(e.targeting);t.logger.log("Setting targeting for slot: ",n),t.logger.log("targetKeys",o),o.forEach((function(o){var r=e.targeting[o];r&&(t.logger.log("Setting key [".concat(o,"] target [").concat(o,"] with value: ").concat(r)),window.AdFuel.addSlotLevelTarget(n,o,e.targeting[o]))}))}else t.logger.log("No targeting returned for bid: ",e)})),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preRefresh",slots:e,bids:o,err:null})}))):(t.logger.log("No slots to refresh: ",e,r),t.logger.log("No slots to refresh"),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString,callback:"preRefresh",err:"No valid slots",slots:e,bids:null}))}))},t.sendInitialPreRollRequest=function(){if((0,s.hasVideo)()&&!t.initialPreRollSent){t.logger.log("Sending Initial Pre-Roll Request...");var e=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL,n=(0,s.getUrlParam)("mdt");n&&(e=+n,t.logger.log("Overriding Max Duration Time: ",e));var o=(0,d.default)().phone?"aps-preroll-mobile":"aps-preroll",r=(0,s.getUrlParam)("slotname");r&&(o=r,t.logger.log("Overriding Slot Name: ",o)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise((function(n){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:o,slotName:o,mediaType:"video"}],timeout:e},n)}))}else(0,s.hasVideo)()?t.logger.log("Initial pre-roll request already sent."):t.logger.log("No video tag found. Not sending automatic pre-roll request.")},t.configureA9Library=function(e){var n,o,r,i,a,u,c,l;t.defaultTimeout=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL,t.defaultRefreshTimeout=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.REFRESH:t.config.TIMEOUTS.DESKTOP.VIDEO.REFRESH;var f=!1===(null===(o=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===o?void 0:o.isInRegion("global"));if(t.logger.log("In Consent Region: ",f),f){t.logger.log("Checking User Consent...");var g=null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);t.logger.log("User Consent Granted: ",g),t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI");var p=t.config.ACCOUNT_IDS.DOM;(0,s.isIntl)()&&(p=(0,s.isUSCNN)()?t.config.ACCOUNT_IDS.DOM:t.config.ACCOUNT_IDS.INTL),t.logger.log("Final Pub ID: ",p);var m=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL;(y=(0,s.getUrlParam)("mdt"))&&(m=+y,t.logger.log("Overriding Max Duration Time: ",m));var v=(0,d.default)().phone?t.config.SLOTNAMES.PREROLL+"-mobile":t.config.SLOTNAMES.PREROLL;(O=(0,s.getUrlParam)("slotname"))&&(v=O,t.logger.log("Overriding Slot Name: ",v));var h={pubID:p,adServer:"googletag",videoAdServer:"freeWheel",deals:!0,gdpr:{enabled:!1,consent:""}};if(!t.blocked&&g&&(null===(u=null===(a=window.WM)||void 0===a?void 0:a.UserConsent)||void 0===u?void 0:u.isInRegion("gdpr"))){t.logger.log("Enabling GDPR...");var b=null===(l=null===(c=window.WM)||void 0===c?void 0:c.UserConsent)||void 0===l?void 0:l.getTcfAPIstring();h.gdpr={enabled:!0,consent:b||""}}return(0,s.loadScriptFromUrl)("https://c.amazon-adsystem.com/aax2/apstag.js","a9script").then((function(){t.logger.log("Initializing APSTAG Library with...",h),window.apstag.init(h),t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},(0,s.waitForVideo)(t.sendInitialPreRollRequest),t.sendInitialPreRollRequest()}))}t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI");p=t.config.ACCOUNT_IDS.DOM;(0,s.isIntl)()&&(p=(0,s.isUSCNN)()?t.config.ACCOUNT_IDS.DOM:t.config.ACCOUNT_IDS.INTL),t.logger.log("Final Pub ID: ",p);var y;m=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL;(y=(0,s.getUrlParam)("mdt"))&&(m=+y,t.logger.log("Overriding Max Duration Time: ",m));var O;v=(0,d.default)().phone?t.config.SLOTNAMES.PREROLL+"-mobile":t.config.SLOTNAMES.PREROLL;(O=(0,s.getUrlParam)("slotname"))&&(v=O,t.logger.log("Overriding Slot Name: ",v));var _={pubID:p,adServer:"googletag",videoAdServer:"freeWheel",deals:!0,gdpr:{enabled:!1,consent:""}};return(0,s.loadScriptFromUrl)("https://c.amazon-adsystem.com/aax2/apstag.js","a9script").then((function(){t.logger.log("Initializing APSTAG Library with...",_),window.apstag.init(_),t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuel?(t.logger.log("Setting Module Ready (1)..."),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG),window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)):(t.logger.log("Setting Module Ready (2)..."),document.addEventListener("AdFuelCreated",(function(){t.logger.log("Setting Module Ready (2b)..."),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG),window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)}))),(0,s.waitForVideo)(t.sendInitialPreRollRequest),t.sendInitialPreRollRequest()}))},t.deprecationWarning=function(){return new Promise((function(e){t.logger.warn("This function has been deprecated. Please update your code to use getTargetingData or getRefreshedTargetingData"),e({})}))},t.logger.info("Constructed A9 Module"),t}return i(n,e),Object.defineProperty(n.prototype,"__VERSION__",{get:function(){return this.MODULE_VERSION.toString()},enumerable:!1,configurable:!0}),n.prototype.init=function(){var e=this;return new Promise((function(n){if(e._isInitialized)e.logger.log("Init already called.  Resolving..."),n();else{e.logger.log("Setting _isInitialized to true"),e._isInitialized=!0;var t=function(){return new Promise((function(n,t){e.logger.warn("Amazon Video API not yet available."),n({amznbid:"",amzniid:""})}))};e.logger.log("Predefining A9VideoAPI"),window.A9VideoAPI=window.A9VideoAPI||{getTargetingData:function(e){return t()},getRefreshedTargetingData:function(e,n){return t()},__VERSION__:e.MODULE_VERSION.toString()},e.logger.log("Configuring Library: ",e.config),e.configureA9Library(e.config).then((function(){e.logger.log("Redefining A9VideoAPI"),window.A9VideoAPI=e,document.dispatchEvent(new CustomEvent("A9Ready",{detail:{A9VideoAPI:e}})),window.AdFuel?(e.logger.log("Setting Module Ready (3)..."),window.AdFuel.setModuleLoaded(e.MODULE_LOG_TAG),window.AdFuel.setModuleReady(e.MODULE_LOG_TAG)):(e.logger.log("Setting Module Ready (4)..."),document.addEventListener("AdFuelCreated",(function(){e.logger.log("Setting Module Ready (4b)..."),window.AdFuel.setModuleLoaded(e.MODULE_LOG_TAG),window.AdFuel.setModuleReady(e.MODULE_LOG_TAG)})))})).catch((function(e){console.log("A9 did not finish loading.",e)})),n()}}))},n}(s.AAdFuelModule);t.A9=l;new l((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.A9)||{ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}})},{"./version.json":21,"@turnercode/digital-ads-utilities":10,ismobilejs:18}],21:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:20}},{}]},{},[20])(20)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Audience=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Audience=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/localization"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("@turnercode/digital-ads-utilities/dist/getUrlParam"),c=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),l=function(e){function n(n){var t=e.call(this,n,"Audience and User Identity Module",new d.Version(2,0,6,"TS"),"aui","color: #d2b000; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign)||this;return t.config=n,t.enabled=!0,t.ssaiActive=!1,t.turnerDomainArray=["cnn.com","cnn.com"],t.domainRegex=/.*?\.(.*?\..*?)$/,t.cdpflIsSet=!1,t.datidIsSet=!1,t.ukidIsSet=!1,t.init=function(){return new Promise((function(e,n){t.logger.info("Initializing Global Identity Module..."),t.enabled&&(t.logger.info("Initializing Module: ",t.config),t.turnerDomainArray=t.domainRegex.exec(window.location.hostname)||[],t.turnerDomain=t.turnerDomainArray&&t.turnerDomainArray.length>0&&t.turnerDomainArray[1]||"cnn.com",window.WM=window.WM||{},window.WM.getDatIdTargeting=t.getDatIdTargeting.bind(t),window.WM.getAllCDPFlags=t.getAllCDPFlags.bind(t),window.WM.buildCDPFlags=t.buildCDPFlags.bind(t),((0,s.isIntl)()&&t.config.SITE_VENDORS.INTL.includes("ID5")||!(0,s.isIntl)()&&t.config.SITE_VENDORS.DOM.includes("ID5"))&&(t.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),t.getDatIdTargeting(),window.AdFuel?window.AdFuel.setModuleReady(t.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)})),t.addScripts(),e())}))},t.start=function(){return new Promise((function(e,n){window.WM.getUMTOCookies=t.getUMTOCookies,window.AdFuelUtils=window.AdFuelUtils||{},window.AdFuelUtils.getUMTOCookies=t.getUMTOCookies,e()}))},t.buildCDPFlags=function(e,n,t){var o=("true"===c.CookieHelper.readCookie(e)?"t":"f")||"x",r=("true"===c.CookieHelper.readCookie(n)?"t":"f")||"x",i=c.CookieHelper.readCookie(t)?"t":"f";return"".concat(o).concat(r).concat(i)},t.getAllCDPFlags=function(){var e=[];return e.push("lr"+t.buildCDPFlags("isInAuthTokenExperiment","sendAuthToken2","tok_lr2")),e.filter((function(e){return!e.includes("xxf")})).join("-")},t.getDatIdTargeting=function(){return c.CookieHelper.hasCookie("datid")&&null!==c.CookieHelper.readCookie("datid")?(t.logger.info("Setting datid",{datid:c.CookieHelper.readCookie("datid")}),t.datid=c.CookieHelper.readCookie("datid")||"",window.WM.getDatId=function(){return c.CookieHelper.readCookie("datid")},{datid:t.datid}):c.CookieHelper.hasCookie("WMUKID_STABLE")&&null!==c.CookieHelper.readCookie("WMUKID_STABLE")?(t.logger.info("Setting datid to WMUKID_STABLE",{ukid:c.CookieHelper.readCookie("WMUKID_STABLE")}),t.datid=c.CookieHelper.readCookie("WMUKID_STABLE")||"",window.WM.getDatId=function(){return c.CookieHelper.readCookie("WMUKID_STABLE")},{datid:t.datid}):(t.logger.info("Could not find datid or WMUKID_STABLE"),{datid:""})},t.getUMTOCookies=function(){t.logger.log("getting UMTO cookies"),t.logger.log("sendHHID: ",c.CookieHelper.readCookie("sendHHID")),t.logger.log("HHID: ",c.CookieHelper.readCookie("wmhhid"));var e="";window.WM&&window.WM.getAllCDPFlags&&(e=window.WM.getAllCDPFlags());var n="true"===c.CookieHelper.readCookie("sendHHID")&&c.CookieHelper.hasCookie("wmhhid")&&null!==c.CookieHelper.readCookie("wmhhid")?c.CookieHelper.readCookie("wmhhid"):"";null===n&&(n="");var o=[];return c.CookieHelper.readCookie("bea4")?o.push("_fw_vcid2="+c.CookieHelper.readCookie("bea4")):c.CookieHelper.readCookie("bea4r")&&o.push("_fw_vcid2="+c.CookieHelper.readCookie("bea4r")),c.CookieHelper.readCookie("kxuser")&&o.push("krux_user="+c.CookieHelper.readCookie("kxuser")),c.CookieHelper.readCookie("zwmc")&&o.push("zwmc="+c.CookieHelper.readCookie("zwmc")),c.CookieHelper.readCookie("ifyr")&&o.push("ifyr="+c.CookieHelper.readCookie("ifyr")),c.CookieHelper.readCookie("hkgc")&&o.push("hkgc="+c.CookieHelper.readCookie("hkgc")),c.CookieHelper.readCookie("goiz")&&o.push("goiz="+c.CookieHelper.readCookie("goiz")),c.CookieHelper.readCookie("kfyn")&&o.push("kfyn="+c.CookieHelper.readCookie("kfyn")),(c.CookieHelper.readCookie("datid")||c.CookieHelper.readCookie("WMUKID_STABLE"))&&(c.CookieHelper.readCookie("datid")?(t.logger.log("Pushing vcid as datid: ",c.CookieHelper.readCookie("datid")),o.push("vcid="+c.CookieHelper.readCookie("datid")),o.push("wmuk="+c.CookieHelper.readCookie("datid"))):c.CookieHelper.readCookie("WMUKID_STABLE")&&(t.logger.log("Pushing vcid as WMUKID_STABLE: ",c.CookieHelper.readCookie("WMUKID_STABLE")),o.push("vcid="+c.CookieHelper.readCookie("WMUKID_STABLE")),o.push("wmuk="+c.CookieHelper.readCookie("WMUKID_STABLE")))),""!==e&&o.push("cdpfl="+e),window.spIsBlocking&&"function"==typeof window.spIsBlocking?o.push("abip="+window.spIsBlocking()):o.push("abip=na"),o.join("&")},t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isURIEncoded=function(e){return!!t.isString(e)&&decodeURIComponent(e)!==e},t.addScripts=function(){if(!t.ssaiActive)if("complete"===document.readyState)t.addSSAIJavascript(),t.addUMTOCookie(),t.addFWCookie();else{var e=t;document.onreadystatechange=function(){"complete"===document.readyState&&(e.addSSAIJavascript(),e.addUMTOCookie(),e.addFWCookie())}}},t.setLiveRampCookie=function(e){var n={cookieName:"orev",cookieValue:e,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(n)},t.addLiveRampFreewheelPixel=function(e,n){if(null!==e){var o="https://idsync.rlcdn.com/712348.gif?partner_uid=".concat(e),r=document.createElement("script");r.src=o,document.head.appendChild(r),"G"===n?t.setLiveRampCookie("B"):t.setLiveRampCookie("F")}},t.addLiveRampGAMPixel=function(e,n,o){if(null!==e||null!==n){var r="https://idsync.rlcdn.com/712551.gif?partner_uid=".concat(e||n),i=document.createElement("script");i.src=r,document.head.appendChild(i),"F"===o?t.setLiveRampCookie("B"):t.setLiveRampCookie("G")}},t.processVendor=function(e){var n,o,r=t.config.VENDORS[e];if("LiveRamp"===e){var i=c.CookieHelper.hasCookie("orev")?c.CookieHelper.readCookie("orev"):"X";c.CookieHelper.hasCookie("bea4")&&"F"!==i&&"B"!==i&&(t.logger.log("Adding LiveRamp Freewheel Pixel..."),t.addLiveRampFreewheelPixel(c.CookieHelper.readCookie("bea4"),i)),"G"!==i&&"B"!==i&&(t.logger.log("Adding LiveRamp GAM Pixel..."),t.addLiveRampGAMPixel(c.CookieHelper.readCookie("datid"),c.CookieHelper.readCookie("WMUKID_STABLE"),i))}else if(r&&r.COOKIE_NAME&&(!c.CookieHelper.hasCookie("umto")||c.CookieHelper.hasCookie("umto")&&!c.CookieHelper.hasCookie(r.COOKIE_NAME))&&null!==t.turnerDomain){var a=t.turnerDomain.match(/\./g);if(t.turnerDomain=a&&a.length>1?t.turnerDomain.replace(/^\w+\.?/,"")||"":t.turnerDomain||"",t.logger.log("Adding SSAI tag for "+e+" ..."),"SpotX"===e)t.addSpotXCookie(r);else if("PubMatic"===e)t.addPubMaticUserSync(r);else if("Freewheel"===e){var s=r.URL.replace(/{{domain}}/g,t.turnerDomain);if(!t.isURIEncoded(s)){var d=s.split("?");d[d.length-1]=encodeURIComponent(d[d.length-1]),s=d.join("?").replace("user-sync?","user-sync%3F")}(n=document.createElement("img")).src=s,n.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(n)}else"Rubicon"===e?(null!=(o=t.turnerDomain.match(/(.*?)\..*?$/))&&(o=o[1]),(n=document.createElement("img")).src=r.URL.replace(/{{brand}}/g,o),n.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(n)):"Telaria"===e?((n=document.createElement("img")).src=r.URL.replace(/{{domain}}/g,t.turnerDomain).replace("&domain","%26domain"),n.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(n)):((n=document.createElement("img")).src=r.URL.replace(/{{domain}}/g,t.turnerDomain),n.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(n));t.logger.log("Added SSAI pixel for "+e)}},t.addSSAIJavascript=function(){t.logger.log("Site Vendors: ",t.config);var e=t.config.SITE_VENDORS,n=(0,u.getUrlParam)("forcePubMatic");console.log("Forcing PubMatic: ",n),n&&e.indexOf("PubMatic")<0&&(t.logger.log("PRE- Forcing PubMatic SSAI Vendor Configuration...",{siteVendors:e,config:t.config.VENDORS.PubMatic}),e.push("PubMatic"),t.config.VENDORS.PubMatic=t.config.VENDORS.PubMatic||{URL:"https://ads.pubmatic.com/AdServer/js/userSync.js",COOKIE_NAME:"kfyn"},t.logger.log("POST- Forcing PubMatic SSAI Vendor Configuration...",{siteVendors:e,config:t.config.VENDORS.PubMatic})),(0,s.isIntl)()?e.INTL.forEach((function(e){t.processVendor(e)})):e.DOM.forEach((function(e){t.processVendor(e)})),t.ssaiActive=!0},t.addPubMaticUserSync=function(e,n){var o,r,i,a,d,u,c,l;void 0===n&&(n={PUBLISHER_ID:{DOM:"161163",INTL:"161163"}});var f=t.turnerDomain,g="https://image8.pubmatic.com/AdServer/ImgSync?p={{publisherId}}&gdpr={{gdpr}}&gdpr_consent={{gdprConsent}}&us_privacy={{usPrivacy}}&pu=";g=(g=(g=(g=g.replace(/{{publisherId}}/g,(0,s.isIntl)()?n.PUBLISHER_ID.INTL:n.PUBLISHER_ID.DOM)).replace(/{{gdprConsent}}/g,(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInGdprRegion())?null===(i=window.WM)||void 0===i?void 0:i.UserConsent.getTcfAPIstring():"")).replace(/{{gdpr}}/g,(null===(d=null===(a=window.WM)||void 0===a?void 0:a.UserConsent)||void 0===d?void 0:d.isInGdprRegion())?"1":"0")).replace(/{{usPrivacy}}/g,(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())?window.WM&&window.WM.UserConsent?window.WM.UserConsent.getUspAPIstring():"1YNN":"");var p="http://image4.pubmatic.com/AdServer/SPug?p={{publisherId}}&mpc=4&fp=1&pmc=PM_PMC&&pr=";p=p.replace(/{{publisherId}}/g,(0,s.isIntl)()?n.PUBLISHER_ID.INTL:n.PUBLISHER_ID.DOM);var m="https://umto.{{brand}}/user-sync?domain={{brand}}&{{cookieName}}=#PMUID";m=(m=m.replace(/{{brand}}/g,f)).replace(/{{cookieName}}/g,e.COOKIE_NAME),p+=encodeURIComponent(m),g+=encodeURIComponent(p),null===(l=t.logger)||void 0===l||l.log("Adding PubMatic Pixel: ",g);var v=document.createElement("img");v.src=g,v.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(v)},t.addSpotXCookie=function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){var o=void 0;if(200===n.status){o=JSON.parse(n.response).audience_id;var r=new Date(Date.now()+31536e6),i={cookieName:e.COOKIE_NAME,cookieValue:o,attributes:[{key:"expires",value:r.toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(i)}else 204===n.status?t.logger.log("Not able to check cookie, no audience_id returned"):t.logger.log("No audience_id available")}},n.open("GET",e.URL),n.withCredentials=!0,n.send()},t.addFWCookie=function(){var e=t.config.VENDORS.Freewheel,n=document.cookie.match(/bea4r?=.*?;/),o=document.cookie.match(/ug=.*?;/);if(!n&&o){var r=o[0].replace(/(ug=|;)*/,""),i=Math.pow(16,6),a=Math.pow(16,8),s=r.slice(14),d=Date.now(),u=(Math.ceil(d/1e3)%a).toString(16).slice(0,8),l=(d%i).toString(16).slice(0,6),f=new Date(d+31536e6),g={cookieName:e.COOKIE_NAME+"r",cookieValue:u+l+s,attributes:[{key:"expires",value:f.toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(g)}},t.addUMTOCookie=function(){t.logger.log("Adding UMTO Cookie...");var e={cookieName:"umto",cookieValue:1,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"},{key:"Domain",value:t.turnerDomain},{key:"SameSite",value:"None"}],secure:!0};c.CookieHelper.setCookie(e),t.logger.log("Added UMTO Cookie.")},t.preQueue=function(){return new Promise((function(e,n){var o,r=function(){var n,o,r,i=t.getDatIdTargeting();t.logger.log("Checking for targeting...");var a=t.getAllCDPFlags();!t.datidIsSet&&i.datid&&(t.logger.info("Setting PPID: ",i.datid),null===(n=window.googletag)||void 0===n||n.pubads().setPublisherProvidedId(i.datid),t.datidIsSet=!0),!t.ukidIsSet&&i.datid&&(t.logger.info("Setting wmuk: ",i.datid),null===(o=window.googletag)||void 0===o||o.pubads().setTargeting("wmuk",i.datid),t.ukidIsSet=!0),!t.cdpflIsSet&&a.length>0&&(t.logger.info("Setting cdpfl: ",a),null===(r=window.googletag)||void 0===r||r.pubads().setTargeting("cdpfl",a),t.cdpflIsSet=!0),e({name:"Audience and User Identity"})};window.googletag&&"function"==typeof window.googletag.pubads?r():null===(o=window.googletag)||void 0===o||o.cmd.push(r)}))},t.logger.info("Audience and User Identity Module constructed"),t}return i(n,e),n}(a.AAdFuelModule);t.Audience=l;var f=new l((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.AUI)||window.AUIConfig);window.AdFuelUtils||(window.AdFuelUtils={}),window.AdFuelUtils.getUMTOCookies=function(){return f.getUMTOCookies()}},{"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/getUrlParam":5,"@turnercode/digital-ads-utilities/dist/localization":6}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Blockthrough=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Blockthrough=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("./version.json"),u=function(e){function n(){var n=e.call(this,null,"Blockthrough Module",new s.Version(d.major,d.minor,d.revision,d.family),"bt","color: #d2b000; padding: 2px",i.ModuleFlags.RunWithoutAdFuel|i.ModuleFlags.EnableForDomestic)||this;return n.preDispatch=function(e){return new Promise((function(e,t){var o,r,i,a;n.logger.info("BLOCKTHROUGH: preDispatch was fired."),window.AdFuelUtils||(window.AdFuelUtils={isBlockerEnabled:!1,isReinsertionAllowed:!1,getPermissionToReinsert:function(e){}}),window.AdFuelUtils.isBlockerEnabled=null!==(r=null===(o=window.BT)||void 0===o?void 0:o.BLOCKER_ENABLED)&&void 0!==r&&r,window.AdFuelUtils.isReinsertionAllowed=null!==(a=null===(i=window.BT)||void 0===i?void 0:i.REINSERTION_ALLOWED)&&void 0!==a&&a,window.AdFuelUtils.getPermissionToReinsert=function(e){window.BT&&window.BT.getPermissionToReinsert((function(n){n&&e()}))},e()}))},n.logger.info("Created Blockthrough Module"),n}return r(n,e),n.prototype.init=function(){var e=this;return new Promise((function(n,t){(0,a.loadScriptFromUrl)("warnermediagroup-com.videoplayerhub.com/galleryloader.js","btScript").then((function(){e.logger.info("Setting ready."),window.AdFuel?window.AdFuel.setModuleReady(e.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(e.MODULE_LOG_TAG)}))})).catch((function(n){e.logger.error("There was an error loading the Blockthrough script.",n),t()})),n()}))},n}(i.AAdFuelModule);t.Blockthrough=u,new u},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).FWProgrammatic=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.FWProgrammatic=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),u=e("./version.json"),c=function(e){function n(n){var t=e.call(this,n,"FW Programmatic Module",new s.Version(u.major,u.minor,u.revision,u.family),"fwp","color: #d2b000; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign)||this;return t.config=n,t.isInitialized=!1,t.enabled=!0,t.targetingSet=!1,t.addSATOCookie=function(e){t.logger.log("Adding SATO cookie... ",{turnerDomain:e});var n={cookieName:"sato",cookieValue:1,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"},{key:"Domain",value:e}],secure:!1};d.CookieHelper.setCookie(n),t.logger.log("Added SATO cookie.")},t.addPixels=function(e){if(!d.CookieHelper.hasCookie("sato")&&e.consentGranted){var n=["https://ads.stickyadstv.com/user-matching?id=185&_fw_gdpr=".concat(e.gdprApplies,"&_fw_gdpr_consent=").concat(e.consentString||""),"https://ads.stickyadstv.com/auto-user-sync"];if(window.WM&&window.WM.getHHIDTargeting){var o=window.WM.getHHIDTargeting();if("true"===o.sendHHID&&null!==o.wmhhid&&o.wmhhid.length>=32){t.logger.log("Adding Freewheel pixel for vcid2 to pixel collection.");var r=o.wmhhid;n.push("https://bea4.v.fwmrm.net/ad/u?token=b8ce708402a6286faf64c964294f2046&nw=48804&dpid=127719&puid=".concat(r))}}t.logger.log("Adding Pixels..."),n.forEach((function(e){var n=document.createElement("script");n.src=e,t.logger.log("Adding Pixel: ",e),document.head.appendChild(n)})),t.addSATOCookie(e.turnerDomain)}else t.logger.log("Not adding pixels. Has SATO cookie or consent not granted.",{hasCookie:d.CookieHelper.hasCookie("sato"),consentGranted:e.consentGranted})},t.init=function(){return new Promise((function(e,n){var o,r,i,a;if(t.logger.info("Initializing FW Programmatic Module..."),t.enabled){t.logger.info("Initializing Module: ",t.config);var s="gdpr"===window.WM.UserConsent.getRegion()?1:0,d="function"==typeof window.__tcfapi?null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.getTcfAPIstring():"",u=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),c=/.*?\.(.*?\..*?)$/.exec(window.location.hostname),l="cnn.com";c&&c.length>0&&(l=c[1]),t.logger.log("Calling addPixels: ",{turnerDomain:l,gdprApplies:s,consentGranted:u,consentString:d}),t.addPixels({turnerDomain:l,gdprApplies:s,consentGranted:u,consentString:d}),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)})),e()}}))},t.logger.info("FW Programmatic Module constructed"),t}return i(n,e),n}(a.AAdFuelModule);t.FWProgrammatic=c,new c((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.FWP)||window.FWPConfig||{DEBUG:!1})},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:2,minor:0,revision:5}},{}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Guid=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Guid=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),u=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),c=e("./version.json"),l=["data-store","ads-contextual","ads-person-prof","ads-person","content-person-prof","content-person","measure-ads","measure-content","measure-market","product-develop"],f=function(e){function n(n){var t=e.call(this,n,"GUID Module",new s.Version(c.major,c.minor,c.revision,c.family),"guid","color: #d2b000; padding: 2px",a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign|a.ModuleFlags.RunWithoutAdFuel,l)||this;return t.config=n,t.enabled=!0,t.targetingSet=!1,t.init=function(){return new Promise((function(e,n){t.logger.info("Initializing GUID Module..."),t.enabled&&(t.logger.info("Initializing Module: ",t.config),window.AdFuel?window.AdFuel.setModuleReady(t.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)})),e())}))},t.preDispatch=function(e){return new Promise((function(e,n){var o;t.logger.info("GUID preDispatch fired.");var r=t.getGuid();t.logger.info("Got GUID:",r),t.targetingSet||(t.targetingSet=!0,t.logger.info("Adding GUID Targeting..."),window.AdFuel?window.AdFuel.addPageLevelTarget("guid",r):null===(o=window.googletag)||void 0===o||o.cmd.push((function(){var e;null===(e=window.googletag)||void 0===e||e.pubads().setTargeting("guid",r)}))),e({name:"GUID",guid:r})}))},t.includeGuidScript(),t.logger.info("Guid Module constructed"),t}return i(n,e),n.prototype.includeGuidScript=function(){var e=this;return new Promise((function(n){(0,d.loadScriptFromUrl)("www.ugdturner.com/xd.sjs","guid").then((function(){e.logger.info("Exposing window.turner_getGuid"),window.turner_getGuid=e.getGuid,n()}))}))},n.prototype.getGuid=function(){return u.CookieHelper.readCookie("ug")||""},n}(a.AAdFuelModule);t.Guid=f,new f((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.GUID)||{DEBUG:!1})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).IAS=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(e("./isMobile"));var o=e("./isMobile");t.default=o.default},{"./isMobile":12}],12:[function(e,n,t){t.__esModule=!0;var o=/iPhone/i,r=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};t.default=function(e){var n={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?n.userAgent=e:e&&e.userAgent&&(n={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var t=n.userAgent,y=t.split("[FBAN");void 0!==y[1]&&(t=y[0]),void 0!==(y=t.split("Twitter"))[1]&&(t=y[0]);var O=function(e){return function(n){return n.test(e)}}(t),_={apple:{phone:O(o)&&!O(l),ipod:O(r),tablet:!O(o)&&(O(i)||b(n))&&!O(l),universal:O(a),device:(O(o)||O(r)||O(i)||O(a)||b(n))&&!O(l)},amazon:{phone:O(u),tablet:!O(u)&&O(c),device:O(u)||O(c)},android:{phone:!O(l)&&O(u)||!O(l)&&O(s),tablet:!O(l)&&!O(u)&&!O(s)&&(O(c)||O(d)),device:!O(l)&&(O(u)||O(c)||O(s)||O(d))||O(/\bokhttp\b/i)},windows:{phone:O(l),tablet:O(f),device:O(l)||O(f)},other:{blackberry:O(g),blackberry10:O(p),opera:O(m),firefox:O(h),chrome:O(v),device:O(g)||O(p)||O(m)||O(h)||O(v)},any:!1,phone:!1,tablet:!1};return _.any=_.apple.device||_.android.device||_.windows.device||_.other.device,_.phone=_.apple.phone||_.android.phone||_.windows.phone,_.tablet=_.apple.tablet||_.android.tablet||_.windows.tablet,_}},{}],13:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.IAS=void 0;var s=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),c=e("@turnercode/digital-ads-utilities/dist/localization"),l=e("ismobilejs"),f=e("./version.json"),g=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],p=function(e){function n(n){var t=e.call(this,n,"Integral Ad Science Module",new d.Version(f.major,f.minor,f.revision,f.family),"ias","color: #d2b000; padding: 2px",s.ModuleFlags.EnableForDomestic|s.ModuleFlags.EnableForForeign|s.ModuleFlags.RunWithoutAdFuel,g)||this;return t.config=n,t.enabled=!0,t.iasActive=!1,t.slotsAdded=!1,t.registeredSlots={},t.adSlots=[],t.init=function(){return new Promise((function(e,n){t.logger.info("Initializing Integral Ad Science Module..."),t.enabled&&(t.logger.info("Initializing Module: ",t.config),(0,u.loadScriptFromUrl)("cdn.adsafeprotected.com/iasPET.1.js","ias").then((function(n){t.iasActive=!0;var o=(0,c.isIntl)()?t.config.ACCOUNT_IDS.INTL:t.config.ACCOUNT_IDS.DOM;t.logger.info("Pub Ids: ",t.config.ACCOUNT_IDS.DOM,t.config.ACCOUNT_IDS.INTL),t.logger.info("Setting iasPET.pubId: ",o),window.__iasPET.pubId=o,window.IAS=window.IAS||{},window.IAS.getTargetingForVideo=t.getTargetingForVideo,window.AdFuel?window.AdFuel.setModuleReady(t.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)})),e()})).catch((function(e){t.logger.error("There was an error loading the Integral Ad Science script.",e),n(e)})))}))},t.getTargetingForVideo=function(e){return void 0===e&&(e="cnn.com_politics_carousel_t1"),new Promise((function(n,o){t.logger.log("Getting Video targeting...");var r={adSlotId:"video1",size:[1,1],type:"video",adUnitPath:e||""};window.__iasPET.queue.push({adSlots:[r],dataHandler:function(e){e||(t.logger.warn("No IAS Targeting For Video"),o(new Error("No Targeting Returned")));try{var r=JSON.parse(e),i=a(a(a(a({},r),r.brandSafety),r.slots.video1),r.custom);delete i.brandSafety,delete i.slots,delete i.custom,t.logger.info("IAS Video Targeting",i),n(i)}catch(e){t.logger.error("Error Parsing IAS Targeting: ",e),o(e)}}})}))},t.preQueue=function(e){return new Promise((function(n,o){var r;if(null!==(r=!(null==t?void 0:t.iasActive))&&void 0!==r&&r)n({name:t.MODULE_LOG_TAG,data:"not active"});else{t.logger.info("IAS preQueue fired.");var i=Math.floor(1e3*Math.random()).toString(),s=!1;if(!t.slotsAdded&&e.length>0){for(var d=0,u=e;d<u.length;d++){var c=u[d];t.logger.info("---------- Queue WrappedSlot: ",c);var f=c.unWrappedSlot,g={};!t.registeredSlots[f.rktr_slot_id]&&"page"!==f.rktr_slot_id&&f.sizes.length>0&&(t.registeredSlots[f.rktr_slot_id]=!0,g={adSlotId:f.rktr_slot_id,size:f.sizes.map((function(e){return"fluid"===(Array.isArray(e)?e[0]:"")?[1,1]:e})),adUnitPath:"/8663477/"+f.rktr_ad_id},t.logger.info("---------- Queue iasSlot: ",g),t.adSlots.push(g)),"page"!==f.rktr_slot_id&&Object.assign(c.programmatic,{ias:a({},g)})}window.IASFallbackTimeout=window.IASFallbackTimeout||{},window.IASFallbackTimeout[i]=setTimeout((function(){s||(void 0!==i&&delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:i}),s=!0)}),(0,l.default)().any?t.config.DEFAULT_MOBILE_TIMEOUT||1e3:t.config.DEFAULT_DESKTOP_TIMEOUT||750),window.__iasPET.queue.push({adSlots:t.adSlots,dataHandler:function(e){var r;e||(t.logger.warn("No IAS Targeting",i),s||(clearTimeout(window.IASFallbackTimeout[i]),delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:"No IAS targeting for ".concat(i)}),s=!0));try{r=JSON.parse(e);var d=a(a({},r),{queueId:i});t.logger.info("Setting IAS Targeting...",{targetData:d}),window.__iasPET.setTargetingForGPT(),Object.entries(r.slots).forEach((function(e){var n=e[0],t=e[1];for(var o in t)window.AdFuel.addSlotLevelTarget(n,o,t[o])})),s||(clearTimeout(window.IASFallbackTimeout[i]),delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:r}),s=!0)}catch(n){t.logger.error("Error Parsing IAS targeting for queueId ".concat(i),n,e),o({err:n})}}}),window.__iasPET.queue.length>0&&"function"==typeof window.__iasPET.start&&(t.logger.info("Manually starting IAS queue processes for queue: ",i),window.__iasPET.start())}else s||(n({name:t.MODULE_LOG_TAG,data:"No wrapped slots"}),s=!0)}}))},t.logger.info("IAS Module constructed"),t}return i(n,e),n}(s.AAdFuelModule);t.IAS=p,new p((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.IAS)||{DEBUG:!0,ACCOUNT_IDS:{DOM:0,INTL:0},DEFAULT_DESKTOP_TIMEOUT:1e3,DEFAULT_MOBILE_TIMEOUT:750})},{"./version.json":14,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6,"@turnercode/digital-ads-utilities/dist/localization":7,ismobilejs:11}],14:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:11}},{}]},{},[13])(13)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MalvertisingDetection=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.MalvertisingDetection=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("./version.json"),c=function(e){function n(n){var t=e.call(this,n,"Malvertising Detection",new d.Version(u.major,u.minor,u.revision,u.family),"maldetect","color: #58f53f; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign)||this;return t.logger.log("Malvertising Detection constructed..."),t}return i(n,e),n.prototype.init=function(){var e=this;return new Promise((function(n,t){""==e.config.SCRIPT_SRC?t("SCRIPT_SRC is not set."):((0,s.loadScriptFromUrl)("".concat(e.config.SCRIPT_SRC),"maldetect").then((function(){e.logger.info("Setting ready."),window.AdFuel?window.AdFuel.setModuleReady(e.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(e.MODULE_LOG_TAG)}))})).catch((function(n){e.logger.error("There was an error loading MalvertisingDetection:",n),t()})),n())}))},n}(a.AAdFuelModule);t.MalvertisingDetection=c,new c((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.MALVERTISING)||{SCRIPT_SRC:""})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:8}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Proximic=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t,r){return void 0===t&&(t=document),void 0===r&&(r=!0),(0,o.promiseWithTimeout)(5e3,new Promise((function(o,i){var a,s,d=t.createElement("script");if(document.getElementById(n))i("Element name ".concat(n," already exists in the document."));else try{var u="";if(e.split("//").length>1)u=e;else u=null!==(s="https:"===(null===(a=t.location)||void 0===a?void 0:a.protocol))&&void 0!==s&&s?"https://".concat(e):"http://".concat(e);var c=t.getElementsByTagName("script")[0];if(d.id=n,d.type="text/javascript",d.src=u,d.async=r,d.addEventListener("load",(function(){o(d)})),!(null==c?void 0:c.parentNode))throw new Error("Could not insert script.");c.parentNode.insertBefore(d,c)}catch(e){console.log("Error in loading script from ".concat(d.src),e),i(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var o,r,i=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Proximic=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),u=e("./version.json"),c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],l=function(e){function n(n){var t=e.call(this,n,"Proximic Module",new s.Version(u.major,u.minor,u.revision,u.family),"proximic","color: #d2b000; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign,c)||this;return t.config=n,t.isInitialized=!1,t.enabled=!0,t.targetingSet=!1,t.scannableUrl="",t.init=function(){return new Promise((function(e,n){if(t.logger.info("Initializing Proximic Module..."),t.enabled){t.logger.info("Initializing Module: ",t.config);var o="undefined"!=typeof document?document.location.href:"",r=document.createElement("a");r.href=o,t.scannableUrl=r.origin+(0!==r.pathname.indexOf("/")?"/"+r.pathname:r.pathname),(0,d.loadScriptFromUrl)("segment-data-us-east.zqtk.net/turner-47fcf6?url=".concat(encodeURIComponent(t.scannableUrl)),"proximic").then((function(){window.AdFuel?window.AdFuel.setModuleReady(t.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)})),t.logger.info("Proximic Script Loaded."),window.gotSegmentData=function(e){e.data&&(t.logger.info("Proximic returned with segment data: ",e.data),window.proximicData=e.data),e.errors&&(t.logger.error("Proximic returned with errors: ",e.errors),window.proximicData=e.errors)},e()})).catch((function(e){t.logger.error("There was an error loading the Proximic script.",e),n(e)}))}}))},t.logger.info("Proximic Module constructed"),t}return i(n,e),n.prototype.preDispatch=function(e){var n=this;return new Promise((function(e,t){var o,r;if(null!==(o=!(null==n?void 0:n.isInitialized))&&void 0!==o&&o)e({name:"Proximic"});else{if(n.logger.info("PROXIMIC preDispatch fired."),!n.targetingSet){n.targetingSet=!0;var i=window.proximicData;n.logger.log("Adding Proximic Targeting..."),window.AdFuel?window.AdFuel.addPageLevelTarget("pconid",i):null===(r=window.googletag)||void 0===r||r.cmd.push((function(){var e;null===(e=window.googletag)||void 0===e||e.pubads().setTargeting("pconid",i)}))}e({name:"Proximic",pconid:window.proximicData})}}))},n}(a.AAdFuelModule);t.Proximic=l,new l((null===(r=window.AdFuelOptions)||void 0===r?void 0:r.PROXIMIC)||{DEBUG:!1})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:15}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SourcePoint=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.SourcePoint=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("./version.json"),d=function(e){function n(){var n=e.call(this,null,"Sourcepoint Module",new a.Version(s.major,s.minor,s.revision,s.family),"sourcepoint","color: #00e1e1; padding: 2px",i.ModuleFlags.RunWithoutAdFuel|i.ModuleFlags.EnableForDomestic|i.ModuleFlags.EnableForForeign)||this;return n.init=function(){return new Promise((function(e,t){n.addScript().then((function(){window.AdFuel?(window.AdFuel.setModuleReady(n.MODULE_LOG_TAG),n.logger.log("Sourcepoint module initialized and reported ready.")):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(n.MODULE_LOG_TAG),n.logger.log("Sourcepoint module initialized and reported ready.")})),e()})).catch((function(e){n.logger.error("The sourcepoint module encountered an error: ",e),t()})),e()}))},n.addScript=function(){return new Promise((function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var t=document.createElement("html");t.innerHTML=n.responseText;var o=t.getElementsByTagName("script")[0],r=document.createElement("script");r.src=o.src,r.async=o.async,r.type=o.type,Object.keys(o.dataset).forEach((function(e){r.dataset[e]=o.dataset[e]}));var i=document.getElementsByTagName("head");i.length>0&&"function"==typeof i[0].appendChild&&i[0].appendChild(r),e()}},n.open("GET","https://d20kffh39acpue.cloudfront.net/imm.js",!0),n.send(null)}))},n.logger.log("Sourcepoint module created..."),n}return r(n,e),n}(i.AAdFuelModule);t.SourcePoint=d,new d},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).spblocking=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.SourcePointBlocking=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("../../version.json"),d=function(e){function n(){var n=e.call(this,null,"Sourcepoint Add-on: Ad Blocking",new a.Version(s.major,s.minor,s.revision,s.family),"spblocking","color: #00e1e1; padding: 2px",i.ModuleFlags.RunWithoutAdFuel|i.ModuleFlags.EnableForDomestic|i.ModuleFlags.EnableForForeign)||this;return n.blockerStatus=!1,n.init=function(){return new Promise((function(e,t){window.spIsBlocking=n.spIsBlocking,window.addEventListener("sp.blocking",(function(e){n.logger.log("Ad Status: BLOCKED"),n.blockerStatus=!0})),window.addEventListener("sp.not_blocking",(function(e){n.logger.log("Ad Status: Not Blocked"),n.blockerStatus=!1})),window.AdFuel?window.AdFuel.setModuleReady(n.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(n.MODULE_LOG_TAG)})),e()}))},n.spIsBlocking=function(){return n.logger.log("Returning Ad Blocker Status: ",n.blockerStatus),n.blockerStatus},n.logger.log("Sourcepoint Add-on created..."),n}return r(n,e),n}(i.AAdFuelModule);t.SourcePointBlocking=d,new d},{"../../version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).TransId=e()}}((function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return r(n[a][1][e]||e)}),c,c.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var o,r=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(o=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=o.EnableForDomestic|o.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=o.None;return(0,a.isIntl)()&&(e|=o.EnableForForeign),(0,a.isIntl)()||(e|=o.EnableForDomestic),(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic&&(f.moduleFlags&o.EnableForForeign)===o.EnableForForeign?e===(e&o.EnableForDomestic)||e===(e&o.EnableForForeign):(f.moduleFlags&o.EnableForDomestic)===o.EnableForDomestic?e===(e&o.EnableForDomestic):e===(e&o.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,r,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&o.RunWithoutAdFuel)==o.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&o.RunWithoutAdFuel)===o.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&o.RunWithoutConsent)==o.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,o,r,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(r=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===r?void 0:r.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new r.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var o=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,o=!1,r=null;return"undefined"!=typeof localStorage&&(o=!0),o&&(r=localStorage.getItem(e)),o&&null!==r||(t=(n=e).length+1,r="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),r},e}();t.CookieHelper=o},{}],3:[function(e,n,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(o=t.LogLevel||(t.LogLevel={}));var r=function(){function e(e,n,t,r){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=r||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),o.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),o.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""},e}();t.Logger=r},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var o=function(){function e(e,n,t,o){var r=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=o,this.setfamily=function(e){return r.setFamilyTo=e,r},this.toString=function(){return"".concat(r.major,".").concat(r.minor.toString().padStart(2,"0"),".").concat(r.revision.toString().padStart(3,"0")," ").concat(r.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=o},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var o=t.exec(document.location.search);return o?o[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var o=e("./setHostAndPathNames"),r=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,o.setHostAndPathNames)();return"true"===(0,r.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var o=new Promise((function(n,o){var r=setTimeout((function(){clearTimeout(r),o(t)}),e)}));return Promise.race([n,o])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(r=null===(o=s.CookieHelper.readCookie("CG"))||void 0===o?void 0:o.substr(0,2))&&void 0!==r?r:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var o,r=this&&this.__extends||(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionId=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("./version.json"),d=function(e){function n(){return e.call(this,null,"TransactionId",new a.Version(s.major,s.minor,s.revision,s.family),"transid","color: #d2b000;padding: 2px;",i.ModuleFlags.EnableForDomestic|i.ModuleFlags.EnableForForeign|i.ModuleFlags.RunWithoutAdFuel)||this}return r(n,e),n.prototype.getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round((new Date).getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},n.prototype.init=function(){var e=this;return new Promise((function(n,t){var o;window.turner_getTransactionId=e.getTransactionID,window.cnnad_getTransactionId=e.getTransactionID,"function"!=typeof window.turner_getTransactionId?e.logger.warn("turner_getTransactionId failed."):(o=window.turner_getTransactionId(),e.logger.info("Received: ".concat(o)),window.AdFuel?(window.AdFuel.setModuleReady(e.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(e.MODULE_LOG_TAG),window.AdFuel.addPageLevelTarget("transId",o)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(e.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(e.MODULE_LOG_TAG),window.AdFuel.addPageLevelTarget("transId",o)})))}))},n}(i.AAdFuelModule);t.TransactionId=d,new d},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:11}},{}]},{},[10])(10)}));