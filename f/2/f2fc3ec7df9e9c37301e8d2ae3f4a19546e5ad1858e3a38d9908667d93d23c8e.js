"use strict";(self.webpackChunksports_web_app=self.webpackChunksports_web_app||[]).push([["vn-rtms-overlay"],{37469:(Ke,I,d)=>{d.r(I),d.d(I,{provide:);var f=d(83918),c=d(74329),e=d(29039),R=d(79736),w=d(74520),r=d(16736),C=d(72698),E=d(83517),L=d(94844),l=d(26575),A=d(73789),g=d(65865),v=d(18127),b=d(33252),T=d(25690);function F(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e._UZ(1,"span",11),e.qZA()}}function J(s,o){if(1&s&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14),e._UZ(3,"vn-image",15),e.qZA(),e.TgZ(4,"div",16),e._UZ(5,"div",17),e.ALo(6,"trustAsHtml"),e.qZA()()()),2&s){const t=o.ngIf;e.xp6(3),e.Q6J("textClass","bonus-teaser")("src",t.bonusImage.src)("alt",t.bonusImage.alt)("intro",t.overlayImageIntroductoryText)("title",t.overlayImageTitleText)("subtitle",t.overlayImageSubtitleText)("titleFontSize",t.overlayImageTitleFontSize)("textAlign",t.overlayImageTextAlignment),e.xp6(2),e.Q6J("innerHtml",e.lcZ(6,9,t.bonusText),e.oJD)}}const k=(s,o)=>({"theme-up":s,"theme-down":o});function G(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.tacExpanded())}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",20),e.qZA(),e._UZ(5,"div",21),e.ALo(6,"trustAsHtml"),e.qZA()}if(2&s){const t=e.oxw();e.xp6(3),e.Oqu(null==t.content.messages?null:t.content.messages.TermsAndConditions),e.xp6(1),e.Q6J("ngClass",e.WLB(5,k,t.isTacExpanded,!t.isTacExpanded)),e.xp6(1),e.Q6J("innerHtml",e.lcZ(6,3,t.message.tnCData),e.oJD)}}const H=["contentItem"],B=["*"];function Q(s,o){if(1&s&&(e.TgZ(0,"div",7)(1,"a",8)(2,"div",9),e._UZ(3,"span",10)(4,"vn-image",11),e.qZA()()()),2&s){const t=o.$implicit;e.xp6(4),e.Q6J("src",t.icon.src)("alt",t.title)}}function N(s,o){if(1&s&&(e.TgZ(0,"div",5),e.YNc(1,Q,5,2,"div",6),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.message.desktopGames)("ngForTrackBy",t.trackByTitle)}}function P(s,o){if(1&s&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",7)(3,"a",8)(4,"div",9),e._UZ(5,"span",10)(6,"vn-image",11),e.qZA()()()(),e.BQk()),2&s){const t=o.$implicit;e.xp6(6),e.Q6J("src",t.icon.src)("alt",t.title)}}const S=function U(s,o){if(1&s&&(e.TgZ(0,"vn-swiper",12),e.YNc(1,P,7,2,"ng-container",13),e.qZA()),2&s){const t=e.oxw();e.Q6J("swiperOptions",e.WLB(3,S,t.slidesPerView,t.arrows)),e.xp6(1),e.Q6J("ngForOf",t.message.desktopGames)("ngForTrackBy",t.trackByTitle)}}function Y(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",7)(1,"a",8),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.goTo(a.launchUrl))}),e._UZ(2,"vn-image",9),e.qZA()()}if(2&s){const t=o.$implicit;e.xp6(2),e.Q6J("src",t.icon.src)("alt",t.title)}}function q(s,o){if(1&s&&(e.TgZ(0,"div",5),e.YNc(1,Y,3,2,"div",6),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.message.desktopGames)("ngForTrackBy",t.trackByTitle)}}function j(s,o){if(1&s){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"div",7)(3,"a",8),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.goTo(a.launchUrl))}),e._UZ(4,"vn-image",9),e.qZA()()(),e.BQk()}if(2&s){const t=o.$implicit;e.xp6(4),e.Q6J("src",t.icon.src)("alt",t.title)}}function z(s,o){if(1&s&&(e.TgZ(0,"vn-swiper",10),e.YNc(1,j,5,2,"ng-container",11),e.qZA()),2&s){const t=e.oxw();e.Q6J("swiperOptions",e.WLB(3,S,t.slidesPerView,t.arrows)),e.xp6(1),e.Q6J("ngForOf",t.message.desktopGames)("ngForTrackBy",t.trackByTitle)}}function K(s,o){if(1&s&&(e.TgZ(0,"div",8)(1,"a",9)(2,"div",10),e._UZ(3,"span",11)(4,"vn-image",12),e.qZA()()()),2&s){const t=o.$implicit;e.xp6(4),e.Q6J("src",t.icon.src)("alt",t.title)}}function W(s,o){if(1&s&&(e.TgZ(0,"div",6),e.YNc(1,K,5,2,"div",7),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.message.mobileGames)("ngForTrackBy",t.trackByTitle)}}function X(s,o){if(1&s&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",8)(3,"a",9)(4,"div",10),e._UZ(5,"span",11)(6,"vn-image",12),e.qZA()()()(),e.BQk()),2&s){const t=o.$implicit;e.xp6(6),e.Q6J("src",t.icon.src)("alt",t.title)}}const M=function V(s,o){if(1&s&&(e.TgZ(0,"vn-swiper",13),e.YNc(1,X,7,2,"ng-container",14),e.qZA()),2&s){const t=e.oxw(2);e.Q6J("swiperOptions",e.VKq(3,M,t.slidesPerView)),e.xp6(1),e.Q6J("ngForOf",t.message.mobileGames)("ngForTrackBy",t.trackByTitle)}}function $(s,o){if(1&s&&(e.TgZ(0,"div",2)(1,"div",3),e.YNc(2,W,2,2,"div",4)(3,V,2,5,"vn-swiper",5),e.qZA()()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("hidden",0===t.message.mobileGames.length),e.xp6(1),e.Q6J("ngIf",t.message.mobileGames.length<=3),e.xp6(1),e.Q6J("ngIf",t.message.mobileGames.length>3)}}function ee(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",7)(1,"a",8),e.NdJ("click",function(){const a=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.goTo(a.launchUrl))}),e._UZ(2,"vn-image",9),e.qZA()()}if(2&s){const t=o.$implicit;e.xp6(2),e.Q6J("src",t.icon.src)("alt",t.title)}}unction se(s,o){if(1&s){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"div",7)(3,"a",8),e.NdJ("click",,e._UZ(4,"vn-image",9),e.qZA()()(),e.BQk()}if(2&s){const t=o.$implicit;e.xp6(4),e.Q6J("src",t.icon.src)("alt",t.title)}}function ne(s,o){if(1&s&&(e.TgZ(0,"vn-swiper",10),e.YNc(1,se,5,2,"ng-container",11),e.qZA()),2&s){const t=e.oxw();e.Q6J("swiperOptions",e.VKq(3,M,t.slidesPerView)),e.xp6(1),e.Q6J("ngForOf",t.message.desktopGames)("ngForTrackBy",t.trackByTitle)}}function ie(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e._UZ(1,"span",15),e.qZA()}}unction ae(s,o){if(1&s&&(e.TgZ(0,"div",16),e._UZ(1,"vn-image",17)(2,"div",18),e.ALo(3,"trustAsHtml"),e.YNc(4,oe,1,1,"div",19),e.qZA()),2&s){const t=o.ngIf,n=e.oxw();e.xp6(1),e.Q6J("textClass","vn-img")("src",n.overlayImage)("intro",n.imageIntroductoryText)("title",n.imageTitleText)("subtitle",n.imageSubtitleText)("titleFontSize",n.imageTitleFontSize)("textAlign",n.imageTextAlignment),e.xp6(1),e.Q6J("innerHtml",e.lcZ(3,9,t.preAcceptanceKeyTerms),e.oJD),e.xp6(2),e.Q6J("ngIf",t.headerTermsAndConditionsRewardsOverlay)}}function re(s,o){if(1&s&&e._UZ(0,"vn-rtms-mobile-games-locked-list",21),2&s){const t=e.oxw(2);e.Q6J("content",t.content)("message",t.message)}}function ce(s,o){if(1&s&&e._UZ(0,"vn-rtms-desktop-games-locked-list",21),2&s){const t=e.oxw(2);e.Q6J("content",t.content)("message",t.message)}}function me(s,o){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,re,1,2,"vn-rtms-mobile-games-locked-list",20)(2,ce,1,2,"vn-rtms-desktop-games-locked-list",20),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isMobile),e.xp6(1),e.Q6J("ngIf",!t.isMobile)}}function le(s,o){if(1&s&&e._UZ(0,"vn-rtms-mobile-games-unlocked-list",21),2&s){const t=e.oxw(2);e.Q6J("content",t.content)("message",t.message)}}unction pe(s,o){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,le,1,2,"vn-rtms-mobile-games-unlocked-list",20)(2,de,1,2,"vn-rtms-desktop-games-unlocked-list",20),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isMobile),e.xp6(1),e.Q6J("ngIf",!t.isMobile)}}function ge(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.tacExpanded())}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",24),e.qZA(),e._UZ(5,"div",25),e.ALo(6,"trustAsHtml"),e.qZA()}if(2&s){const t=e.oxw();e.xp6(3),e.Oqu(null==t.content.messages?null:t.content.messages.TermsAndConditions),e.xp6(1),e.Q6J("ngClass",e.WLB(5,k,t.isTacExpanded,!t.isTacExpanded)),e.xp6(1),e.Q6J("innerHtml",e.lcZ(6,3,t.message.tnCData),e.oJD)}}function _e(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",26)(1,"vn-rtms-cta-action",27),e.NdJ("action",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.rtmsCtaActions(i))}),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("content",t.message.content.preAcceptanceCTA1+t.message.content.preAcceptanceCTA2)("rtmsCtaAction",t.message)("rtmsCtaActionMessages",t.content.messages)}}function ve(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",26)(1,"vn-rtms-cta-action",27),e.NdJ("action",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.rtmsCtaActions(i))}),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("content",t.message.content.postAcceptanceCTA)("rtmsCtaAction",t.message)("rtmsCtaActionMessages",t.content.messages)}}const ue=["modalContentWrapperEl"],fe=["modalContentEl"];function he(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e._UZ(1,"span",16),e.qZA()}}unction Te(s,o){if(1&s&&(e.TgZ(0,"div",17),e._UZ(1,"vn-image",18),e.YNc(2,Ce,1,1,"div",19),e.qZA()),2&s){const t=o.ngIf,n=e.oxw();e.xp6(1),e.Q6J("textClass","overlay")("src",t.overlayImage)("intro",t.overlayImageIntroductoryText)("title",t.overlayImageTitleText)("subtitle",t.overlayImageSubtitleText)("titleFontSize",t.overlayImageTitleFontSize)("textAlign",t.overlayImageTextAlignment),e.xp6(1),e.Q6J("ngIf",n.message.content.headerTermsAndConditionsOverlay)}}function ye(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.tacExpanded())}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",23),e.qZA(),e._UZ(5,"div",24),e.ALo(6,"trustAsHtml"),e.qZA()}if(2&s){const t=e.oxw();e.ekj("with-shadow",t.isShadowOnActions),e.xp6(3),e.Oqu(null==t.content.messages?null:t.content.messages.TermsAndConditions),e.xp6(1),e.Q6J("ngClass",e.WLB(7,k,t.isTacExpanded,!t.isTacExpanded)),e.xp6(1),e.Q6J("innerHtml",e.lcZ(6,5,t.message.tnCData),e.oJD)}}function Ae(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"vn-rtms-overlay",2),e.NdJ("tacExpandedEvent",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleTaC(i))})("closeEvent",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("message",t.messageContent)("content",t.sitecoreContent)}}function be(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"vn-rtms-custom-overlay",2),e.NdJ("tacExpandedEvent",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleTaC(i))})("closeEvent",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("message",t.messageContent)("content",t.sitecoreContent)}}function ke(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"vn-rtms-bonus-teaser",2),e.NdJ("tacExpandedEvent",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleTaC(i))})("closeEvent",,e.qZA()}if(2&s){const t=e.oxw();e.Q6J("message",t.messageContent)("content",t.sitecoreContent)}}const xe=function Oe(s,o){if(1&s&&e._UZ(0,"vn-image",13),2&s){const t=o.ngIf;e.Q6J("imageClass","rtms-toast__img")("textClass","toster")("src",t.tosterImage)}}unction Re(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",15)(1,"vn-rtms-cta-action",16),e.NdJ("action",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.rtmsCtaActions(i,a.notification.id))}),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("content",t.notification.content.toasterPrimaryGhostCallToAction)("rtmsCtaAction",t.notification)("rtmsCtaActionMessages",null==t.messagesContent?null:t.messagesContent.messages)}}function we(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.close(i,a.notification.id))}),e.qZA()}}function Ee(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.close(i,a.notification.id))}),e._UZ(1,"div",19)(2,"div",20),e.qZA()}}function Se(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",26)(1,"vn-rtms-cta-action",16),e.NdJ("action",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.rtmsCtaActions(i,a.notification.id))}),e.qZA()()}if(2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("content",t.notification.content.toasterCallToAction)("rtmsCtaAction",t.notification)("rtmsCtaActionMessages",null==t.messagesContent?null:t.messagesContent.messages)}}function Me(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.close(i,a.notification.id))}),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("innerHtml",t.notification.content.toasterCloseCallToActionLabel,e.oJD)}}function De(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",28)(1,"vn-rtms-cta-action",16),e.NdJ("action",,e.qZA()()}if(2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("content",t.notification.content.toasterPrimaryGhostCallToAction)("rtmsCtaAction",t.notification)("rtmsCtaActionMessages",null==t.messagesContent?null:t.messagesContent.messages)}}function Ze(s,o){if(1&s&&(e.TgZ(0,"div",21),e.YNc(1,Se,2,3,"div",22),e.TgZ(2,"div",23),e.YNc(3,Me,1,1,"div",24)(4,De,2,3,"div",25),e.qZA()()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.notification.content.toasterCallToAction),e.xp6(2),e.Q6J("ngIf",t.notification.content.toasterCloseCallToActionLabel),e.xp6(1),e.Q6J("ngIf",t.notification.content.toasterPrimaryGhostCallToAction&&t.notification.content.toasterCloseCallToActionLabel)}}function Le(s,o){if(1&s){const t=e.EpF();e.ynx(0),e.TgZ(1,"vn-rtms-toaster-item",3),e.NdJ("onClose",,e.qZA(),e.BQk()}if(2&s){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("notification",t)("messagesContent",n.messagesContent)}}const Fe=let D=(()=>{class s{constructor(t){this.api=t}updateBonusTncAcceptance(t){return this.api.post("bonus/updatebonustncacceptance",t).pipe((0,R.U)(n=>n.updated))}dropBonusOffer(t){return this.api.post("bonus/dropbonusoffer",t).pipe((0,R.U)()}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(c.ubk))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),x=(()=>{class s{rackRtmsOverlayToasterLoad(t){this.trackingService.triggerEvent("contentView",this.trackData(t,"load"))}trackRtmsOverlayToasterClick(t){var n=this;return(0,f.Z)(function*(){yield n.trackingService.triggerEvent("Event.Tracking",n.trackData(t,"click"))})()}trackRtmsOverlayToasterClose(t){this.trackingService.triggerEvent("Event.Tracking",this.trackData(t,"close"))}trackData(t,n){return{"component.CategoryEvent":"customer communications","component.ActionEvent":n,"component.LabelEvent":t.labelEvent.toLocaleLowerCase(),"component.PositionEvent":t.positionEvent.toLocaleLowerCase(),"component.LocationEvent":t.locationEvent,"component.EventDetails":"close"===n?"close x":t.eventDetails,"component.URLClicked":"click"!=n||"javascript:void(0)"==t.urlClicked?"not applicable":t.urlClicked,"component.ContentPosition":"not applicable",campaignId:t.campaignId,"page.sitecoretemplateid":t.sitecoreTemplateid,"component.Product":t.product.toLocaleLowerCase(),"component.PromoIntent":t.promoIntent}}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(c.e2C))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),_=(()=>{class s{constructor(){this.closeEvent=new e.vpe,this.tacExpandedEvent=new e.vpe,this.trackByTitle=(0,c.RpI)("title"),this.navigation=(0,e.f3M)(c.f5Y),this.windowRef=(0,e.f3M)(c.X9E),this.nativeApplication=(0,e.f3M)(c.rBu),this.changeDetectorRef=(0,e.f3M)(e.sBO)}ngOnInit(){this.content=this.content||{form:{}}}ngOnChanges(t){t.message&&t.message.currentValue&&(this.message.mobileGameList=this.message.mobileGameList||[],this.message.desktopGameList=this.message.desktopGameList||[],this.message.mobileAllList=this.message.mobileAllList||[],this.message.desktopAllList=this.message.desktopAllList||[],this.message.desktopSectionGamesPairs=this.message.desktopSectionGamesPairs||[],this.message.mobileSectionGamesPairs=this.message.mobileSectionGamesPairs||[],this.message.mobileGames=this.message.mobileGames||[],this.message.desktopGames=this.message.desktopGames||[],this.handleSitecoreTncMsgConfiguration(this.message),this.message.content.useRewardsOverlay&&(this.message.messageType===r.ap.BONUS_OFFER&&(this.message.sourceStatus=this.message.bonusSourceStatus),this.message.sourceStatus===r.w5.OFFER_CLAIMED||this.message.sourceStatus===r.w5.OPTED_IN||this.message.sourceStatus===r.w5.OPTEDIN?(this.showPostAcceptanceContent(),this.isOfferClaimed=!0):(this.showPreAcceptanceContent(),this.isOfferClaimed=!1)))}etSectionTitle(t){return this.content.messages["GameSection."+t.replace(" ","")]||t}goTo(t){t&&(this.nativeApplication.isNativeApp?this.windowRef.nativeWindow.location.href=t:this.navigation.goTo(t,{forceReload:!0}))}rtmsCtaActions(t){switch(t.type){case r.YL.hideRtms:this.close();break;case r.YL.claimOfferSuccess:this.claimOfferSuccess(t.value)}}claimOfferSuccess(t){t&&(this.message.bonusSourceStatus=t.status,this.showPostAcceptanceContent(),this.isOfferClaimed=!0,this.changeDetectorRef.detectChanges())}ndleSitecoreTncMsgConfiguration(t){t.content&&t.content.showManualTermsAndConditionsOnOverlay&&t.content.overlayManualTermsAndConditions?(t.isShowTnc=!0,t.tnCData=t.content.overlayManualTermsAndConditions):t.isShowTnc=!(!t.isTnCTemplate||!t.tnCData)}showPreAcceptanceContent(){this.headerTitle=this.message.content.preAcceptanceHeaderTitle,this.overlayImage=this.message.content.preAcceptanceImage,this.title=this.message.content.preAcceptanceTitle,this.description=this.message.content.preAcceptanceDescription,this.imageIntroductoryText=this.message.content.preAcceptanceImageIntroductoryText,this.imageTitleText=this.message.content.preAcceptanceImageTitleText,this.imageSubtitleText=this.message.content.preAcceptanceImageSubtitleText,this.imageTextAlignment=this.message.content.preAcceptanceImageTextAlignment,this.imageTitleFontSize=this.message.content.preAcceptanceImageTitleFontSize}showPostAcceptanceContent(){this.headerTitle=this.message.content.postAcceptanceHeaderTitle,this.overlayImage=this.message.content.postAcceptanceImage,this.title=this.message.content.postAcceptanceTitle,this.description=this.message.content.postAcceptanceDescription,this.isOfferClaimed=!0,this.imageIntroductoryText=this.message.content.postAcceptanceImageIntroductoryText,this.imageTitleText=this.message.content.postAcceptanceImageTitleText,this.imageSubtitleText=this.message.content.postAcceptanceImageSubtitleText,this.imageTextAlignment=this.message.content.postAcceptanceImageTextAlignment,this.imageTitleFontSize=this.message.content.postAcceptanceImageTitleFontSize}}return s.metaData={inputs:["message","content"],outputs:["closeEvent"]},s.\u0275fac=function(t){return new(t||s)},s.\u0275dir=e.lG2({type:s,inputs:{message:"message",content:"content"},outputs:{closeEvent:"closeEvent",tacExpandedEvent:"tacExpandedEvent"},features:[e.TTD]}),s})(),Je=(()=>{class s extends _{constructor(t,n,i,a){super(),this.bonusResourceService=t,this.rtmsConfig=n,this.page=i,this.cashierService=a,this.bonusHeader=""}ngOnInit(){super.ngOnInit(),this.message.content.bonusHeader&&(this.bonusHeader=this.message.content.bonusHeader.replace(/<[^>]*>/g,"")),this.bonusTeaserRedirectUrl=this.rtmsConfig.bonusTeaserRedirectUrl.replace("{culture}",this.page.lang)}decline(){this.bonusResourceService.dropBonusOffer({bonusId:this.message.bonusId,agentName:"System",reason:"PLP"}).subscribe(}accept(){this.message.isBonusTncAccepted?this.postTncAcceptanceAction():this.bonusResourceService.updateBonusTncAcceptance({offerId:+this.message.offerId,offerArc:1,isCampaignBonus:this.message.isCampaignBonus,tncAcceptanceFlag:!0}).subscribe(}postTncAcceptanceAction(){this.close(),this.message.isNoDepositBonus?this.redirectTo(this.bonusTeaserRedirectUrl):this.goToCashier(this.message.bonusCode)}goToCashier(t){this.cashierService.goToCashierDeposit({returnUrl:this.bonusTeaserRedirectUrl,skipQuickDeposit:!0,queryParameters:{bonusCodeForPrefill:t}})}}return s.\u0275fac=s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-bonus-teaser"]],standalone:!0,features:[e.qOj,e.jDz],decls:13,vars:8,consts:[[1,"generic-modal-title"],[1,"header-ctrl-wrapper"],[1,"header-ctrl","d-flex","justify-content-between","align-items-center"],[1,"header-ctrl-txt","text-truncate",3,"innerHtml"],["class","header-ctrl-r",3,"click",4,"ngIf"],["class","generic-modal-content-wrapper",4,"ngIf"],["class","generic-modal-tc",4,"ngIf"],[1,"generic-modal-actions"],["type","button",1,"btn","btn-light","btn-md",3,"click"],["type","button",1,"btn","btn-primary","btn-md",3,"click"],[1,"header-ctrl-r",3,"click"],[1,"ui-icon","ui-icon-size-lg","ui-close","theme-ex"],[1,"generic-modal-content-wrapper"],[1,"generic-modal-content"],[1,"over-content"],[3,"textClass","src","alt","intro","title","subtitle","titleFontSize","textAlign"],[1,"generic-modal-overlay-content"],[3,"innerHtml"],[1,"generic-modal-tc"],[1,"generic-modal-tc-header","d-flex","align-items-center","justify-content-between",3,"click"],[1,"theme-down","toggle-tnc-icon",3,"ngClass"],[1,"generic-modal-tc-body",3,"innerHtml"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.ALo(4,"trustAsHtml"),e.YNc(5,F,2,0,"div",4),e.qZA()()(),e.YNc(6,J,7,11,"div",5)(7,G,7,8,"div",6),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return n.decline()}),e._uU(10),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.accept()}),e._uU(12),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("innerHtml",e.lcZ(4,6,n.bonusHeader),e.oJD),e.xp6(2),e.Q6J("ngIf",n.rtmsConfig.showCloseButtonOnBonusTeaser&&!n.message.content.restrictedOverlay),e.xp6(1),e.Q6J("ngIf",n.message.content),e.xp6(1),e.Q6J("ngIf",n.message.isShowTnc),e.xp6(3),e.hij(" ",null==n.content.messages?null:n.content.messages.Decline," "),e.xp6(2),e.hij(" ",n.message.isBonusTncAccepted&&!n.message.isNoDepositBonus?null==n.content.messages?null:n.content.messages.DepositNow:null==n.content.messages?null:n.content.messages.Accept," "))},dependencies:[l.ez,l.mk,l.O5,A.WL,g.c],encapsulation:2}),s})(),O=(()=>{class s{constructor(t,n,i,a,m,p){this.cashierService=t,this.renderer=n,this.navigationService=i,this.offersResourceService=a,this.rtmsOverlayTrackingService=m,this.appInfo=p,this.action=new e.vpe,this.unlistenClaimCtaKey="unlistenClaimCta",this.ctaHrefIndicator="inbox://cta/",this.ctaEdsHrefIndicator="/INBOXEDS",this.ctaPatHrefIndicator="/INBOXPAT",this.ctaCloseHrefIndicator="close://cta/",this.ctaSimpleIndicator="rtms-cta",this.ctaNoThanksIndicator="rtms-no-thanks-btn",this.linksClickListeners=[]}ngOnChanges(t){"DESCRIPTION"===this.rtmsCtaContentType&&this.content&&this.contentItem&&t.content&&!t.content.firstChange&&this.injectContent()}gOnDestroy(){this.linksClickListeners&&this.linksClickListeners.forEach(}injectContentandleInjectedContent(){var t=this;if(!Object.keys(this.rtmsCtaAction).length||!this.rtmsCtaActionMessages)return;this.styleButtons(this.contentItem);for(const a of this.getCtaElements(this.contentItem))this.handleCtaElement(a);let n,i;"CTA"===this.rtmsCtaContentType&&(n=this.contentItem.nativeElement.querySelector("a.OverlayCloseButton"))&&this.handleCloseElement(n),"CTA"===this.rtmsCtaContentType&&(i=this.contentItem.nativeElement.querySelector("a.DeclineOfferButton"))&&this.handleDeclineCtaElement(i),this.bindCashierLinks(this.contentItem),(void 0===this.rtmsType||"TOASTER"===this.rtmsType)&&this.contentItem.nativeElement.addEventListener(c.oW_.Click,function(){var a=(0,f.Z)(function*(m){return t.generalButtonClickEventHandler(m)});return function(m){return a.apply(this,arguments)}}())}TrackClickData(t,n){var i;return{campaignId:this.rtmsCtaAction.campaignId,eventDetails:void 0===this.rtmsType||"TOASTER"===this.rtmsType?null===(i=t.querySelector("a"))||void 0===i?void 0:i.text:t.innerHTML,locationEvent:void 0===this.rtmsType||"TOASTER"===this.rtmsType?this.rtmsCtaAction.content.toasterTitle:this.rtmsCtaAction.content.overlayTitle,positionEvent:this.rtmsCtaAction.messageType,product:this.appInfo.product,sitecoreTemplateid:this.rtmsCtaAction.sitecoreId,urlClicked:n,labelEvent:void 0===this.rtmsType||"TOASTER"===this.rtmsType?"toaster":this.rtmsType,promoIntent:"not applicable"}}styleButtons(t){"CTA"===this.rtmsCtaContentType&&t.nativeElement.querySelectorAll("a").forEach(n=>{"TOASTER"!==this.rtmsType&&(n.classList.contains("OverlayCloseButton")||n.classList.contains("DeclineOfferButton")?n.classList.add("btn","cancel","rtms-no-thanks-btn","btn-light"):n.classList.add("btn","rtms-cta","btn-primary"))})}getCtaElements(t){return[...Array.from(t.nativeElement.querySelectorAll(`a[href^="${this.ctaHrefIndicator}"]`)),...Array.from(t.nativeElement.querySelectorAll(`a[href^="${this.ctaEdsHrefIndicator}"]`)),...Array.from(t.nativeElement.querySelectorAll(`a[href^="${this.ctaPatHrefIndicator}"]`)),...Array.from(t.nativeElement.querySelectorAll(`a[href^="${this.ctaCloseHrefIndicator}"]`)),...Array.from(t.nativeElement.querySelectorAll(`a[class*="${this.ctaSimpleIndicator}"]`)),...Array.from(t.nativeElement.querySelectorAll(`a[class*="${this.ctaNoThanksIndicator}"]`))]}handleCloseElement(t){this.renderer.listen(t,"click",n=>{n.stopPropagation(),n.preventDefault(),this.action.next(new r.Wg(r.YL.hideRtms))})}handleDeclineCtaElement(t){const n=this.rtmsCtaAction;n.offerId||t.getAttribute("data-eds-event-id")&&"[empty]"!==t.getAttribute("data-eds-event-id")?n.messageType===r.ap.BONUS_OFFER&&(t.href="javascript:void(0)",this.declineBonusOffer(t)):this.setElementIsHidden(t,!0)}declineBonusOffer(t){let n=()=>{};n=this.renderer.listen(t,c.oW_.Click,i=>{i.stopPropagation(),this.rtmsOverlayTrackingService.trackRtmsOverlayToasterClick(this.TrackClickData(t,t.href)),n(),this.offersResourceService.updateStatus(v.m_.BONUSES,this.rtmsCtaAction.offerId,!1).subscribe(a=>{a.status&&this.action.next(new r.Wg(r.YL.hideRtms))},a=>(0,b._)(a))})}handleCtaElement(t){var n=this;const i=this.rtmsCtaAction;this.renderer.setAttribute(t,"sitecoreid",i.sitecoreId);const a=!!t.href.match(new RegExp(this.ctaHrefIndicator,"igm")),m=!!t.href.match(new RegExp(this.ctaEdsHrefIndicator,"igm")),p=!!t.href.match(new RegExp(this.ctaPatHrefIndicator,"igm")),y=!!t.href.match(new RegExp(this.ctaCloseHrefIndicator,"igm"));if(y)this.action.next(new r.Wg(r.YL.hideRtms));else if(i.offerId||t.getAttribute("data-eds-event-id")&&"[empty]"!==t.getAttribute("data-eds-event-id"))if(a)t.href="javascript:void(0)",t.classList.add("send","ctabutton"),this.handleBonusCtaMessage(t);else if(m||p){this.currentOfferId=t.getAttribute("data-eds-event-id")||i.offerId,this.setElementIsDisable(t,!0);const u=p?v.m_.PROMOS:v.m_.EDS;this.offersResourceService.getStatus(u,this.currentOfferId).subscribe(h=>{h.status?this.handleEdsMessage(t,h.status,u):this.handleMessage(t,u)},}else t.addEventListener(c.oW_.Click,function(){var u=(0,f.Z)(;return ());else this.setElementIsHidden(t,!0);(a||m||p||y)&&(t.href="javascript:void(0)")}handleMessage(t,n){this.setElementIsHidden(t,!1),this.setElementIsDisable(t,!1),t[this.unlistenClaimCtaKey]=this.renderer.listen(t,"click",i=>{i.stopPropagation(),this.rtmsOverlayTrackingService.trackRtmsOverlayToasterClick(this.TrackClickData(t,t.href)),this.claimCta(t,n)}),this.linksClickListeners.push(t[this.unlistenClaimCtaKey])}handleEdsMessage(t,n,i){switch(this.setElementIsHidden(t,!1),this.setElementIsDisable(t,!1),n){case r.w5.OFFERED:this.handleMessage(t,i);break;case r.w5.NOTOFFERED:case r.w5.NOT_OFFERED:this.setElementIsDisable(t,!0),this.setTextFormAttr(t,"data-eds-message-not-offered",this.rtmsCtaActionMessages.NotEligible);break;case r.w5.EXPIRED:this.setElementIsDisable(t,!0),this.setTextFormAttr(t,"data-eds-message-expired",this.rtmsCtaActionMessages.Expired);break;case r.w5.OPTEDIN:case r.w5.OPTED_IN:this.setElementIsDisable(t,!0),this.setTextFormAttr(t,"data-eds-message-opted-in",this.rtmsCtaActionMessages.YouHaveOptedIn);break;case r.w5.OPTEDOUT:case r.w5.OPTED_OUT:this.setElementIsDisable(t,!0),this.setTextFormAttr(t,"data-eds-message-opted-out",this.rtmsCtaActionMessages.YouHaveOptedOut);break;case r.w5.INVALID:this.setElementIsDisable(t,!0);break;case r.w5.NO_OFFER:this.setElementIsHidden(t,!0);break;default:this.setElementIsDisable(t,!0)}}setTextFormAttr(t,n,i){t.getAttribute(n)&&"[empty]"!==t.getAttribute(n)?this.renderer.setProperty(t,"innerText",t.getAttribute(n)):this.renderer.setProperty(t,"innerText",i)}handleBonusCtaMessage(t){let n=switch(this.rtmsCtaAction.bonusSourceStatus){case r.w5.OFFER_NEW:n=this.renderer.listen(t,c.oW_.Click,i=>{i.stopPropagation(),this.rtmsOverlayTrackingService.trackRtmsOverlayToasterClick(this.TrackClickData(t,t.href)),n(),this.claimBonusOffer(t)});break;case r.w5.OFFER_TNC_ACCEPTED:n=this.renderer.listen(t,c.oW_.Click,i=>{i.stopPropagation(),this.rtmsOverlayTrackingService.trackRtmsOverlayToasterClick(this.TrackClickData(t,t.href)),n(),this.goToOrReturnCashierUrlStrategy(this.rtmsCtaAction.bonusCode)}),this.renderer.setProperty(t,"innerText",this.rtmsCtaActionMessages.DepositNow);break;case r.w5.OFFER_CLAIMED:this.setElementIsDisable(t,!0),this.renderer.setProperty(t,"innerText",this.rtmsCtaActionMessages.Claimed);break;case r.w5.OFFER_DROPPED:case r.w5.OFFER_EXPIRED:this.setElementIsDisable(t,!0),this.renderer.setProperty(t,"innerHTML",this.rtmsCtaActionMessages.Expired);break;case r.w5.NO_OFFER:this.setElementIsHidden(t,!0)}}claimCta(t,n){this.setElementIsDisable(t,!0);const i=t.getAttribute("data-eds-event-id")||this.rtmsCtaAction.offerId;this.offersResourceService.updateStatus(n,i).subscribe(a=>{if(n!==this.rtmsCtaActionMessages.cta&&this.rtmsCtaAction.isNoDepositBonus&&this.action.emit(new r.Wg(r.YL.claimOfferSuccess,a)),a.status===r.w5.OPTED_IN){const m=[t];this.renderer.removeAttribute(t,"disabled"),this.onClaimCtaSuccess(m)}},a=>(0,b._)(a))}claimBonusOffer(t){this.setElementIsDisable(t,!0);const n=t.getAttribute("data-eds-event-id")||this.rtmsCtaAction.offerId;this.offersResourceService.updateStatus(v.m_.BONUSES,n).subscribe(i=>{if(v.m_.BONUSES!==this.rtmsCtaActionMessages.cta&&(this.rtmsCtaAction.isNoDepositBonus||this.rtmsCtaAction.content&&this.rtmsCtaAction.content.useRewardsOverlay)&&this.action.emit(new r.Wg(r.YL.claimOfferSuccess,i)),i.status===r.w5.OFFER_CLAIMED){const a=[t];this.renderer.removeAttribute(t,"disabled");const m=this.contentItem.nativeElement.querySelectorAll("a.DeclineOfferButton")[0];null!=m&&m.setAttribute("disabled","disabled"),this.onClaimCtaSuccess(a)}},}onClaimCtaSuccess(t){for(let n=0;n<t.length;n++){const i=t[n];this.rtmsCtaAction.messageType===r.ap.BONUS_OFFER&&this.rtmsCtaAction.isNoDepositBonus?this.renderer.setProperty(i,"innerText",this.rtmsCtaActionMessages.Claimed):this.rtmsCtaAction.isNoDepositBonus||this.rtmsCtaAction.messageType!==r.ap.BONUS_OFFER?this.rtmsCtaAction.messageType===r.ap.EDS_OFFER?this.setTextFormAttr(i,"data-eds-message-opted-in",this.rtmsCtaActionMessages.YouHaveOptedIn):this.renderer.setProperty(i,"innerText",this.rtmsCtaActionMessages.YouHaveOptedIn):(this.goToOrReturnCashierUrlStrategy(this.rtmsCtaAction.bonusCode),this.setElementIsDisable(i,!1)),this.renderer.setAttribute(i,"disabled","disabled")}}etElementIsDisable(t,n){n?this.renderer.setAttribute(t,"disabled","disabled"):this.renderer.removeAttribute(t,"disabled")}setElementIsHidden(t,n){this.renderer.setStyle(t,"display",n?"none":"")}bindCashierLinks(t){t.nativeElement.querySelectorAll('a[class*="btn-cashier"]').forEach(i=>{this.linksClickListeners.push(this.renderer.listen(i,c.oW_.Click,a=>{a.stopPropagation(),a.preventDefault(),i.href&&(this.action.next(new r.Wg(r.YL.hideRtms)),this.navigationService.goTo(i.href))}))})}ctaClickEventHandler(t,n){var i=this;return(0,f.Z)(function*(){t.stopPropagation(),t.preventDefault(),yield i.rtmsOverlayTrackingService.trackRtmsOverlayToasterClick(i.TrackClickData(n,n.href)),i.navigationService.goTo(n.href)})()}generalButtonClickEventHandler(t){var n=this;return(0,f.Z)(function*(){var i;t.stopPropagation();const a=null===(i=n.contentItem.nativeElement.querySelector("a"))||void 0===i?void 0:i.href;a&&(yield n.rtmsOverlayTrackingService.trackRtmsOverlayToasterClick(n.TrackClickData(n.contentItem.nativeElement,a)),n.navigationService.goTo(a))})()}}return s.\u0275fac=s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-cta-action"]],viewQuery:inputs:{rtmsCtaAction:"rtmsCtaAction",rtmsCtaActionMessages:"rtmsCtaActionMessages",content:"content",rtmsType:"rtmsType",rtmsCtaContentType:"rtmsCtaContentType"},outputs:{action:"action"},standalone:!0,features:[e.TTD,e.jDz],ngContentSelectors:B,decls:3,vars:0,consts:[[1,"rtms-cta-action-container"],["contentItem",""]],template:function(t,n){1&t&&(e.F$t(),e.Hsn(0),e._UZ(1,"div",0,1))},dependencies:[l.ez],encapsulation:2}),s})(),Ge=(()=>{class s extends _{constructor(){super(),this.slidesPerView=3,this.arrows=!0}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-desktop-games-locked-list"]],standalone:!0,features:[e.qOj,e.jDz],decls:5,vars:4,consts:[[1,"bcms-games-container","mobile","bcms-padding",3,"hidden"],[1,"bcms-games-wrapper"],[1,"bcms-games",3,"hidden"],["class","bcms-games-img-container no-slider",4,"ngIf"],["swiperClass","bcms-games-img-container",3,"swiperOptions",4,"ngIf"],[1,"bcms-games-img-container","no-slider"],["class","bcms-single-game-container",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bcms-single-game-container"],[1,"bcms-game-img-link","dh"],[1,"bcms-game-locked"],[1,"theme-locked","ui-icon","ui-icon-size-xl","d-flex","justify-content-center","align-items-center"],["width","140","height","140","imageClass","bcms-game-img",3,"src","alt"],["swiperClass","bcms-games-img-container",3,"swiperOptions"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swiper-slide"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,N,2,2,"div",3)(4,U,2,6,"vn-swiper",4),e.qZA()()()),2&t&&(e.Q6J("hidden",0===n.message.desktopGames.length&&!n.message.isAllDesktopGames),e.xp6(2),e.Q6J("hidden",0===n.message.desktopGames.length),e.xp6(1),e.Q6J("ngIf",n.message.desktopGames.length<=3),e.xp6(1),e.Q6J("ngIf",n.message.desktopGames.length>3))},dependencies:[l.ez,l.sg,l.O5,T.n,g.c],encapsulation:2}),s})(),He=(()=>{class s extends _{return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-desktop-games-unlocked-list"]],standalone:!0,features:[e.qOj,e.jDz],decls:5,vars:4,consts:[[1,"bcms-games-container","mobile","bcms-padding",3,"hidden"],[1,"bcms-games-wrapper"],[1,"bcms-games",3,"hidden"],["class","bcms-games-img-container no-slider",4,"ngIf"],["swiperClass","bcms-games-img-container",3,"swiperOptions",4,"ngIf"],[1,"bcms-games-img-container","no-slider"],["class","bcms-single-game-container",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bcms-single-game-container"],[1,"bcms-game-img-link","dh",3,"click"],["width","140","height","140","imageClass","bcms-game-img",3,"src","alt"],["swiperClass","bcms-games-img-container",3,"swiperOptions"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swiper-slide"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,q,2,2,"div",3)(4,z,2,6,"vn-swiper",4),e.qZA()()()),2&t&&(e.Q6J("hidden",0===n.message.desktopGames.length&&!n.message.isAllDesktopGames),e.xp6(2),e.Q6J("hidden",0===n.message.desktopGames.length),e.xp6(1),e.Q6J("ngIf",n.message.desktopGames.length<=3),e.xp6(1),e.Q6J("ngIf",n.message.desktopGames.length>3))},dependencies:[l.ez,l.sg,l.O5,T.n,g.c],encapsulation:2}),s})(),Be=(()=>{class s extends _{constructor(){super(),this.slidesPerView=3}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-mobile-games-locked-list"]],standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:2,consts:[[1,"bcms-games-container","mobile",3,"hidden"],["class","bcms-games-wrapper",4,"ngIf"],[1,"bcms-games-wrapper"],[1,"scrollable-games","top-game-section","bcms-games",3,"hidden"],["class","bcms-games-img-container no-slider",4,"ngIf"],["swiperClass","bcms-games-img-container",3,"swiperOptions",4,"ngIf"],[1,"bcms-games-img-container","no-slider"],["class","bcms-single-game-container",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bcms-single-game-container"],[1,"bcms-game-img-link","dh"],[1,"bcms-game-locked"],[1,"theme-locked","ui-icon","ui-icon-size-xl","d-flex","justify-content-center","align-items-center"],["width","140","height","140","imageClass","bcms-game-img",3,"src","alt"],["swiperClass","bcms-games-img-container",3,"swiperOptions"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swiper-slide"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,$,4,3,"div",1),e.qZA()),2&t&&(e.Q6J("hidden",0===n.message.mobileGames.length&&!n.message.isAllMobileGames),e.xp6(1),e.Q6J("ngIf",!n.isOfferClaimed))},dependencies:[l.ez,l.sg,l.O5,T.n,g.c],encapsulation:2}),s})(),Qe=(()=>{eturn s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-mobile-games-unlocked-list"]],standalone:!0,features:[e.qOj,e.jDz],decls:5,vars:4,consts:[[1,"bcms-games-container","mobile",3,"hidden"],[1,"bcms-games-wrapper"],[1,"scrollable-games","top-game-section","bcms-games",3,"hidden"],["class","bcms-games-img-container no-slider",4,"ngIf"],["swiperClass","bcms-games-img-container",3,"swiperOptions",4,"ngIf"],[1,"bcms-games-img-container","no-slider"],["class","bcms-single-game-container",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bcms-single-game-container"],[1,"bcms-game-img-link","dh",3,"click"],["width","140","height","140","imageClass","bcms-game-img",3,"src","alt"],["swiperClass","bcms-games-img-container",3,"swiperOptions"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swiper-slide"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,te,2,2,"div",3)(4,ne,2,5,"vn-swiper",4),e.qZA()()()),2&t&&(e.Q6J("hidden",0===n.message.mobileGames.length&&!n.message.isAllMobileGames),e.xp6(2),e.Q6J("hidden",0===n.message.mobileGames.length),e.xp6(1),e.Q6J("ngIf",n.message.mobileGames.length<=3),e.xp6(1),e.Q6J("ngIf",n.message.desktopGames.length>3))},dependencies:[l.ez,l.sg,l.O5,T.n,g.c],encapsulation:2}),s})(),Ne=(()=>{class s extends _{gOnInit(){this.isMobile=this.deviceService.isMobile}}return s.\u0275fac=s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-custom-overlay"]],standalone:!0,features:[e.qOj,e.jDz],decls:18,vars:18,consts:[[1,"generic-modal-title"],[1,"header-ctrl-wrapper"],[1,"header-ctrl","d-flex","justify-content-between","align-items-center"],[1,"header-ctrl-txt","text-truncate",3,"innerHtml"],["class","header-ctrl-r",3,"click",4,"ngIf"],[1,"generic-modal-content-wrapper"],[1,"generic-modal-content"],["class","generic-modal-disclaimer",4,"ngIf"],[1,"generic-modal-overlay-content"],[1,"bcms-item-title",3,"innerHtml"],["rtmsType","OVERLAY","rtmsCtaContentType","DESCRIPTION",1,"bcms-item-description",3,"content","rtmsCtaAction","rtmsCtaActionMessages","action"],[4,"ngIf"],["class","generic-modal-tc",4,"ngIf"],["class","generic-modal-actions",4,"ngIf"],[1,"header-ctrl-r",3,"click"],[1,"ui-icon","ui-icon-size-lg","ui-close","theme-ex"],[1,"generic-modal-disclaimer"],[3,"textClass","src","intro","title","subtitle","titleFontSize","textAlign"],[1,"generic-modal-disclaimer-content",3,"innerHtml"],["class","generic-modal-disclaimer-content",3,"innerHtml",4,"ngIf"],[3,"content","message",4,"ngIf"],[3,"content","message"],[1,"generic-modal-tc"],[1,"generic-modal-tc-header","d-flex","align-items-center","justify-content-between",3,"click"],[1,"theme-down","toggle-tnc-icon",3,"ngClass"],[1,"generic-modal-tc-body",3,"innerHtml"],[1,"generic-modal-actions"],["rtmsType","OVERLAY","rtmsCtaContentType","CTA",1,"bcms-cta",3,"content","rtmsCtaAction","rtmsCtaActionMessages","action"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.ALo(4,"trustAsHtml"),e.YNc(5,ie,2,0,"div",4),e.qZA()()(),e.TgZ(6,"div",5)(7,"div",6),e.YNc(8,ae,5,11,"div",7),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.ALo(11,"trustAsHtml"),e.TgZ(12,"vn-rtms-cta-action",10),e.NdJ("action",function(a){return n.rtmsCtaActions(a)}),e.qZA(),e.YNc(13,me,3,2,"div",11)(14,pe,3,2,"div",11),e.qZA()()(),e.YNc(15,ge,7,8,"div",12)(16,_e,2,3,"div",13)(17,ve,2,3,"div",13)),2&t&&(e.xp6(3),e.ekj("brand-logo",n.message.content.overlayHeaderType===n.HeaderType.LOGO),e.Q6J("innerHtml",e.lcZ(4,14,n.headerTitle),e.oJD),e.xp6(2),e.Q6J("ngIf",!n.message.content.restrictedOverlay),e.xp6(3),e.Q6J("ngIf",n.message.content),e.xp6(2),e.Q6J("innerHtml",e.lcZ(11,16,n.title),e.oJD),e.xp6(2),e.Q6J("content",n.description)("rtmsCtaAction",n.message)("rtmsCtaActionMessages",n.content.messages),e.xp6(1),e.Q6J("ngIf",!n.isOfferClaimed),e.xp6(1),e.Q6J("ngIf",n.isOfferClaimed),e.xp6(1),e.Q6J("ngIf",n.message.isShowTnc),e.xp6(1),e.Q6J("ngIf",!n.isOfferClaimed),e.xp6(1),e.Q6J("ngIf",n.isOfferClaimed))},dependencies:[l.ez,l.mk,l.O5,A.WL,O,g.c,Ge,He,Be,Qe],encapsulation:2}),s})(),Pe=(()=>{class s extends _{et isShadowOnActions(){var t,n;return(null===(t=this.modalContentEl)||void 0===t?void 0:t.nativeElement.offsetHeight)>(null===(n=this.modalContentWrapperEl)||void 0===n?void 0:n.nativeElement.offsetHeight)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-overlay"]],viewQuery:standalone:!0,features:[e.qOj,e.jDz],decls:16,vars:16,consts:[[1,"generic-modal-title"],[1,"header-ctrl-wrapper"],[1,"header-ctrl","d-flex","justify-content-between","align-items-center"],[1,"header-ctrl-txt","text-truncate",3,"innerHtml"],["class","header-ctrl-r",3,"click",4,"ngIf"],[1,"generic-modal-content-wrapper"],["modalContentWrapperEl",""],[1,"generic-modal-content"],["modalContentEl",""],["class","generic-modal-disclaimer",4,"ngIf"],[1,"generic-modal-overlay-content"],["rtmsType","OVERLAY","rtmsCtaContentType","DESCRIPTION",1,"player-inbox-item-description",3,"content","rtmsCtaAction","rtmsCtaActionMessages","action"],["class","generic-modal-tc",3,"with-shadow",4,"ngIf"],[1,"generic-modal-actions"],["rtmsType","OVERLAY","rtmsCtaContentType","CTA",1,"player-inbox-item-cta","ctaaction","clearfix",3,"content","rtmsCtaAction","rtmsCtaActionMessages","action"],[1,"header-ctrl-r",3,"click"],[1,"ui-icon","ui-icon-size-lg","ui-close","theme-ex"],[1,"generic-modal-disclaimer"],[3,"textClass","src","intro","title","subtitle","titleFontSize","textAlign"],["class","generic-modal-disclaimer-content",3,"innerHtml",4,"ngIf"],[1,"generic-modal-disclaimer-content",3,"innerHtml"],[1,"generic-modal-tc"],[1,"generic-modal-tc-header","d-flex","align-items-center","justify-content-between",3,"click"],[1,"theme-down","toggle-tnc-icon",3,"ngClass"],[1,"generic-modal-tc-body",3,"innerHtml"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.ALo(4,"trustAsHtml"),e.YNc(5,he,2,0,"div",4),e.qZA()()(),e.TgZ(6,"div",5,6)(8,"div",7,8),e.YNc(10,Te,3,8,"div",9),e.TgZ(11,"div",10)(12,"vn-rtms-cta-action",11),e.NdJ("action",function(a){return n.rtmsCtaActions(a)}),e.qZA()()()(),e.YNc(13,ye,7,10,"div",12),e.TgZ(14,"div",13)(15,"vn-rtms-cta-action",14),e.NdJ("action",,e.qZA()()),2&t&&(e.xp6(3),e.ekj("brand-logo",n.message.content.overlayHeaderType===n.HeaderType.LOGO),e.Q6J("innerHtml",e.lcZ(4,14,n.message.content.overlayTitle),e.oJD),e.xp6(2),e.Q6J("ngIf",!n.message.content.restrictedOverlay),e.xp6(5),e.Q6J("ngIf",n.message.content),e.xp6(2),e.Q6J("content",n.message.content.overlayDescription)("rtmsCtaAction",n.message)("rtmsCtaActionMessages",n.content.messages),e.xp6(1),e.Q6J("ngIf",n.message.isShowTnc),e.xp6(1),e.ekj("with-shadow",n.isShadowOnActions&&!n.message.isShowTnc),e.xp6(1),e.Q6J("content",n.message.content.overlayCallToAction)("rtmsCtaAction",n.message)("rtmsCtaActionMessages",n.content.messages))},dependencies:[O,l.ez,l.mk,l.O5,A.WL,g.c],encapsulation:2}),s})(),Ue=(()=>{class s{constructor(t,n,i,a,m){this.overlayRef=t,this.rtmsCommonService=n,this.trackingService=i,this.rtmsOverlayTrackingService=a,this.appInfo=m,this.tacActive=!1,this.HeaderType=r.NS}ngOnInit(){this.currentMessage=this.rtmsCommonService.rtmsMessage,this.messageContent=this.rtmsCommonService.currentNotificationMessage,this.sitecoreContent=this.rtmsCommonService.rtmsCommonContent,this.currentMessage&&this.trackingService.triggerEvent("Message View",this.currentMessage.eventInfo)}toggleTaC(t){this.rtmsOverlayTrackingService.trackRtmsOverlayToasterClick({campaignId:this.messageContent.campaignId,eventDetails:t?"t&c - expand":"t&c - hide",locationEvent:this.messageContent.content.overlayTitle,positionEvent:this.messageContent.messageType,product:this.appInfo.product,sitecoreTemplateid:this.messageContent.sitecoreId,urlClicked:"not applicable",labelEvent:c.C7X.OVERLAY,promoIntent:"not applicable"}),this.tacActive=t}close(){this.currentMessage&&this.trackingService.triggerEvent("A message Close",this.currentMessage.eventInfo),this.overlayRef.detach(),this.rtmsCommonService.nextMessage()}}return s.\u0275fac=s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-overlay-container"]],standalone:!0,features:[e.jDz],decls:4,vars:14,consts:[[1,"generic-modal-wrapper",3,"ngClass"],["class","rtms-content",3,"message","content","tacExpandedEvent","closeEvent",4,"ngIf"],[1,"rtms-content",3,"message","content","tacExpandedEvent","closeEvent"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ae,1,2,"vn-rtms-overlay",1)(2,be,1,2,"vn-rtms-custom-overlay",1)(3,ke,1,2,"vn-rtms-bonus-teaser",1),e.qZA()),2&t&&(e.ekj("actions-in-row",!n.messageContent.isShowTnc)("actions-with-tc",!!n.messageContent.isShowTnc)("gm-overlay-title",n.messageContent.content.overlayHeaderType===n.HeaderType.TRANSPARENT),e.Q6J("ngClass",e.WLB(11,xe,n.tacActive,!n.tacActive)),e.uIk("sitecoreId",null==n.currentMessage?null:n.currentMessage.payload.baseTemplateId),e.xp6(1),e.Q6J("ngIf",!n.messageContent.content.useRewardsOverlay&&!n.messageContent.isBonusTeaser),e.xp6(1),e.Q6J("ngIf",n.messageContent.content.useRewardsOverlay&&!n.messageContent.isBonusTeaser),e.xp6(1),e.Q6J("ngIf",n.messageContent.isBonusTeaser))},dependencies:[Ne,Je,Pe,l.ez,l.mk,l.O5],encapsulation:2}),s})(),Ye=(()=>{class s{gOnInit(){this.notification.content.toasterCloseAfterTimeout&&(this.elementRef.nativeElement.style.setProperty("--countdown-timer",`${this.config.toastShowTime}s`),this.toastCloseTimeoutId=this.timer.setTimeoutOutsideAngularZone(1e3*this.config.toastShowTime))}tmsCtaActions(t,n){t.type===r.YL.hideRtms&&this.onClose.next(n)}wipe(t,n){if(this.deviceService.isMobile){const i=100*t.deltaX/window.innerWidth;n.style.transform="translateX( "+i+"% )"}}swipeEnd(t,n,i){if(this.deviceService.isMobile){const a=100*t.deltaX/window.innerWidth;if(Math.abs(a)>30){const p=100;n.animate([{transform:"translateX("+(t.deltaX>0?100:-100)+"%)"}],p),this.toastSwipeCloseTimeoutId=this.timer.setTimeout(p)}else n.style.transform="translateX(0)"}}}return s.\u0275fac=s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-toaster-item"]],inputs:{notification:"notification",messagesContent:"messagesContent"},outputs:{onClose:"onClose"},standalone:!0,features:[e.jDz],decls:13,vars:8,consts:[["id","notification.id",1,"rtms-toast__container",3,"panleft","panright","panend"],["toaster",""],[1,"rtms-toast__content","d-flex"],[3,"imageClass","textClass","src",4,"ngIf"],["class","header-terms-and-conditions",3,"innerHtml",4,"ngIf"],[1,"rtms-toast__message"],[1,"rtms-toast__title",3,"innerHtml"],[1,"rtms-toast-txt",3,"innerHtml"],["class","btn btn-sm btn-link d-flex align-items-center",4,"ngIf"],[1,"rtms-toast__close","d-flex","flex-column","align-items-center","dh"],["class","theme-ex",3,"click",4,"ngIf"],["class","radial-timer",3,"click",4,"ngIf"],["class","rtms-toast__footer text-center",4,"ngIf"],[3,"imageClass","textClass","src"],[1,"header-terms-and-conditions",3,"innerHtml"],[1,"btn","btn-sm","btn-link","d-flex","align-items-center"],[3,"content","rtmsCtaAction","rtmsCtaActionMessages","action"],[1,"theme-ex",3,"click"],[1,"radial-timer",3,"click"],[1,"radial-timer__close","theme-ex"],[1,"radial-timer__time"],[1,"rtms-toast__footer","text-center"],["class","btn btn-sm btn-primary rtms-toast__btn",4,"ngIf"],[1,"d-flex","justify-content-end"],["class","btn btn-sm btn-link",3,"innerHtml","click",4,"ngIf"],["class","btn btn-sm btn-link",4,"ngIf"],[1,"btn","btn-sm","btn-primary","rtms-toast__btn"],[1,"btn","btn-sm","btn-link",3,"innerHtml","click"],[1,"btn","btn-sm","btn-link"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("panleft",function(m){e.CHM(i);const p=e.MAs(1);return e.KtG(n.swipe(m,p))})("panright",("panend",function(m){e.CHM(i);const p=e.MAs(1);return e.KtG(n.swipeEnd(m,p,n.notification.id))}),e.TgZ(2,"div",2),e.YNc(3,Oe,1,3,"vn-image",3)(4,Ie,1,1,"div",4),e.TgZ(5,"div",5),e._UZ(6,"div",6)(7,"div",7),e.qZA(),e.YNc(8,Re,2,3,"div",8),e.TgZ(9,"div",9),e.YNc(10,we,1,0,"span",10)(11,Ee,3,0,"div",11),e.qZA()(),e.YNc(12,Ze,5,3,"div",12),e.qZA()}2&t&&(e.xp6(3),e.Q6J("ngIf",n.notification.content),e.xp6(1),e.Q6J("ngIf",n.notification.content.headerTermsAndConditionsToaster),e.xp6(2),e.Q6J("innerHtml",n.notification.content.toasterTitle,e.oJD),e.xp6(1),e.Q6J("innerHtml",n.notification.content.toasterDescription,e.oJD),e.xp6(1),e.Q6J("ngIf",n.notification.content.toasterPrimaryGhostCallToAction&&!n.notification.content.toasterCloseCallToActionLabel),e.xp6(2),e.Q6J("ngIf",!n.notification.content.toasterCloseAfterTimeout),e.xp6(1),e.Q6J("ngIf",n.notification.content.toasterCloseAfterTimeout),e.xp6(1),e.Q6J("ngIf",n.notification.content.toasterCallToAction||n.notification.content.toasterPrimaryGhostCallToAction||n.notification.content.toasterCloseCallToActionLabel))},dependencies:[g.c,O,l.ez,l.O5],encapsulation:2}),s})(),qe=(()=>{class s{constructor(){this.overlayRef=(0,e.f3M)(C.Iu),this.rtmsConfig=(0,e.f3M)(r.Hu),this.rtmsCommonService=(0,e.f3M)(r.HY),this.stacked=this.rtmsConfig.enableToastStacking,this.trackById=(0,c.RpI)("id")}ggleStacking(){this.rtmsConfig.enableToastStacking&&(this.stacked=!this.stacked)}close(t){1==this.toasterItems.length&&(this.overlayRef.detach(),this.rtmsCommonService.nextMessage()),this.rtmsCommonService.toasterList=this.toasterItems.filter(}}return s.\u0275fac=s.\u0275cmp=e.Xpm({type:s,selectors:[["vn-rtms-toaster-container-overlay"]],standalone:!0,features:[e.jDz],decls:3,vars:5,consts:[[1,"toast-container","rtms-toast","toast-bottom-center",3,"click"],[1,"rtms-toast-stack","dh",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"notification","messagesContent","onClose"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",,e.TgZ(1,"div",1),e.YNc(2,Le,2,2,"ng-container",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngClass",e.VKq(3,Fe,n.stacked)),e.xp6(1),e.Q6J("ngForOf",n.toasterItems)("ngForTrackBy",n.trackById))},dependencies:[Ye,l.ez,l.mk,l.sg],encapsulation:2}),s})(),Z=(()=>{class s{nit(){this.rtmsNotificationQueue.newMsObserver.subscribe(t=>{this.currentRef&&((null==t?void 0:t.type)===c.C7X.OVERLAY||(null==t?void 0:t.type)===c.C7X.TOASTER&&!this.config.enableToastStacking)||this.rtmsCommonService.processMessage()}),this.initToasters(),this.initOverlays()}trackingDataForService(t,n){return{campaignId:t.notification.campaignId,eventDetails:t.notification.content.overlayTitle,locationEvent:t.notification.content.overlayTitle,positionEvent:t.notification.messageType,product:this.appInfo.product,sitecoreTemplateid:t.notification.sitecoreId,urlClicked:"not applicable",labelEvent:n,promoIntent:"not applicable"}}initToasters(){this.rtmsCommonService.messageProcessedEvents.pipe((0,w.h)(t=>t.type===c.C7X.TOASTER)).subscribe(t=>{this.rtmsCommonService.toasterList.unshift(t.notification),this.showToaster(),this.rtmsOverlayTrackingService.trackRtmsOverlayToasterLoad(this.trackingDataForService(t,c.C7X.TOASTER))})}initOverlays(){this.rtmsCommonService.messageProcessedEvents.pipe((0,w.h)().subscribe(t=>{this.showOverlay(),this.rtmsOverlayTrackingService.trackRtmsOverlayToasterLoad(this.trackingDataForService(t,c.C7X.OVERLAY))})}showToaster(){if(this.currentRef)return;const t=this.overlay.create({hasBackdrop:!1});t.detachments().subscribe(()=>{this.overlay.dispose(t),this.currentRef=null,this.rtmsCommonService.nextMessage();const i=this.rtmsCommonService.currentNotificationMessage,a=new r.ZJ;a.notification=i,this.rtmsOverlayTrackingService.trackRtmsOverlayToasterClose(this.trackingDataForService(a,c.C7X.TOASTER))});const n=new E.C5(qe,null,e.zs3.create({providers:[{provide:C.Iu,useValue:t}],parent:this.injector}));t.attach(n),this.currentRef=t}showOverlay(){if(this.currentRef)return;const t=this.overlay.create({panelClass:["vn-rtms-overlay-panel","generic-modal-overlay"]});t.detachments().subscribe(()=>{this.overlay.dispose(t),this.currentRef=null,this.rtmsCommonService.nextMessage();const i=this.rtmsCommonService.currentNotificationMessage,a=new r.ZJ;a.notification=i,this.rtmsOverlayTrackingService.trackRtmsOverlayToasterClose(this.trackingDataForService(a,c.C7X.OVERLAY))});const n=new E.C5(Ue,null,e.zs3.create({providers:[{provide:C.Iu,useValue:t}],parent:this.injector}));t.attach(n),this.currentRef=t}}return s.\u0275fac=s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),je=(()=>{class s{nFeatureInit(){this.rtmsClientConfig.whenReady.subscribe(()=>{2===this.rtmsClientConfig.version&&(this.rtmsSubscriberService.init(),this.rtmsToasterOverlayService.init())})}}return s.\u0275fac=s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})();function ze(){return[D,Z,(0,c.Z7W)(je)]}}}]);
//# sourceMappingURL=vn-rtms-overlay.13224b716e0f26ea.js.map