!function(){"use strict";var e=ar n=function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};l,d,f,p,v,h=g=y=m="dclid",b="fbclid",_="gbraid",I="gclid",w="ko_click_id",S="li_fat_id",E="msclkid",T="rtd_cid",O="ttclid",k="twclid",P="wbraid",R={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},x=),U="Event rejected due to exceeded retry count";!c||(c={})),l||(l={})),d||(d={})),f||(f={})),p||(p={})),v||(v={}));var q=Object.freeze({__proto__:null,get SpecialEventType(){return d},get IdentifyOperation(){return c},get RevenueProperty(){return l},get LogLevel(){return f},get ServerZone(){return p},get Status),D=N=L=),A="AMP",j="".concat(A,"_unsent"),C="https://api2.amplitude.com/2/httpapi",M=V=F=),Q=function(e,t){return n(n({},t),{event_type:d.IDENTIFY,user_properties:e.getUserProperties()})},$=K=),B=),z="Amplitude Logger ",W=),J=Z=),Y=G=ar X=),ee=te=ne=ie=re=oe=),se=),ue=ae=ce=),le=se),de=),fe=pe=),ve=he=Object.entries||(Object.entries=;var ge=),ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:self,me=),be=_e=),Ie=we=Se=Ee=function(e){var t,n,i=r=void 0;return(n=e.defaultTracking,we(n,"pageViews"))&&(i=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(i=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:i,trackHistoryChanges:r,eventType:t}},Te=Oe=ke=Pe=),Re=),xe=1e3,Ue=Re),qe=Re),De=se),Ne=se),Le=Ae=je=Ce="[Amplitude]",Me="".concat(Ce," Form Started"),Ve="".concat(Ce," Form Submitted"),Fe="".concat(Ce," File Downloaded"),Qe="session_start",$e="session_end",Ke="".concat(Ce," File Extension"),Be="".concat(Ce," File Name"),ze="".concat(Ce," Link ID"),We="".concat(Ce," Link Text"),Je="".concat(Ce," Link URL"),Ze="".concat(Ce," Form ID"),Ye="".concat(Ce," Form Name"),Ge="".concat(Ce," Form Destination"),He="cookie",Xe=Z),et=tt=nt=it=rt=ot=function(e,t,n,r){void 0===r&&(r=!0),e.referrer;var o=e.referring_domain,s=i(e,["referrer","referring_domain"]),u=t||{};u.referrer;var a=u.referring_domain,c=i(u,["referrer","referring_domain"]);if(st(n.excludeReferrers,e.referring_domain))return!1;if(!r&&e)&&t)return!1;var l=JSON.stringify(s)!==JSON.stringify(c),d=rt(o||"")!==rt(a||"");return!t||l||d},st=ut=function(e){var t=this;void 0===e&&(e={});var i={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(t,i){var s;return r(this,void 0,void 0,(function(){var r,a,c,l,d,f,p,v;return o(this,(function(o){switch(o.label){case 0:return r=n({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:(m=null===(s=t.cookieOptions)||void 0===s?void 0:s.domain,b=m,b?(b.startsWith(".")&&(b=b.substring(1)),[new RegExp("".concat(b.replace(".","\\."),"$"))]):[])},e),t.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),a=t.cookieStorage,h=t.apiKey,void 0===(g="MKTG")&&(g=""),void 0===y&&(y=10),c=[A,g,h.substring(0,y)].filter(Boolean).join("_"),[4,Promise.all([(new x).parse(),a.get(c)])];case 1:return l=u.apply(void 0,[o.sent(),2]),d=l[0],f=l[1],p=ae(t.sessionTimeout,t.lastEventTime),ot(d,f,r,p)&&(r.resetSessionOnNewCampaign&&(i.setSessionId(Date.now()),t.loggerProvider.log("Created a new session for new campaign.")),t.loggerProvider.log("Tracking attribution."),v=d,r),i.track(v),a.set(c,d)),[2]}var h,g,y,m,b}))}))},execute:;return i},at=ct=function(e){var t;void 0===e&&(e={});var i,s=h(),a=void 0,c=l=d="undefined"!=typeof location?location.href:null,f=p=v={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:execute:teardown:;return v},lt=dt=ft=pt=function(){var e,t=[],n=function(e,n,i){e.addEventListener(n,i),t.push({element:e,type:n,handler:i})};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,i){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){return i?("undefined"==typeof document||(r=Array.from(document.getElementsByTagName("form")).forEach(r),"undefined"!=typeof MutationObserver&&(e=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"FORM"===e.nodeName&&r(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(r)}))}))}))).observe(document.body,{subtree:!0,childList:!0})),[2]):(t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])}))}))},execute:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,e]}))}))},teardown:function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return null==e||e.disconnect(),t.forEach((function(e){var t=e.element,n=e.type,i=e.handler;null==t||t.removeEventListener(n,i)})),t=[],[2]}))}))}}},vt=ht=function(){var e,t=[];return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(n,i){return r(void 0,void 0,void 0,(function(){var r,s;return o(this,(function(o){return i?("undefined"==typeof document||(r=s=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,Array.from(document.getElementsByTagName("a")).forEach(r),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(()).observe(document.body,{subtree:!0,childList:!0})),[2]):(n.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])}))}))},execute:teardown:},gt=!1,yt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),i.prototype.init=i.prototype._init=function(t){var i,s;return r(this,void 0,void 0,(function(){var r,u,a,c,l=this;return o(this,(function(o){switch(o.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,et(t.apiKey,t,this)]);case 1:return r=o.sent(),[4,e.prototype._init.call(this,r)];case 2:return o.sent(),this.setSessionId(null!==(s=null!==(i=t.sessionId)&&void 0!==i?i:this.config.sessionId)&&void 0!==s?s:Date.now()),(u=be(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new X).promise];case 3:return o.sent(),[4,this.add(new Pe).promise];case 4:return o.sent(),[4,this.add(new _e).promise];case 5:return o.sent(),f=this.config,gt||void 0!==f.defaultTracking||(f.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),gt=!0),d=this.config.defaultTracking,we(d,"fileDownloads")?[4,this.add(ht()).promise]:[3,7];case 6:o.sent(),o.label=7;case 7:return function(e){return we(e,"formInteractions")}(this.config.defaultTracking)?[4,this.add(pt()).promise]:[3,9];case 8:o.sent(),o.label=9;case 9:return Se(this.config.defaultTracking)?(a=this.config),c=ut(a),[4,this.add(c).promise]):[3,11];case 10:o.sent(),o.label=11;case 11:return[4,this.add(ct(Ee(this.config))).promise];case 12:return o.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 13:return o.sent(),u.eventBridge.setEventReceiver((),[2]}var d,f}))}))},i.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},i.prototype.setUserId=i.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},i.prototype.setDeviceId=i.prototype.reset=i.prototype.getSessionId=i.prototype.setSessionId=i.prototype.extendSession=i.prototype.setTransport=i.prototype.identify=i.prototype.groupIdentify=i.prototype.revenue=i.prototype.process=i}(K),mt=bt=mt(),_t=bt.add,It=bt.extendSession,wt=bt.flush,St=bt.getDeviceId,Et=bt.getSessionId,Tt=bt.getUserId,Ot=bt.groupIdentify,kt=bt.identify,Pt=bt.init,Rt=bt.logEvent,xt=bt.remove,Ut=bt.reset,qt=bt.revenue,Dt=bt.setDeviceId,Nt=bt.setGroup,Lt=bt.setOptOut,At=bt.setSessionId,jt=bt.setTransport,Ct=bt.setUserId,Mt=bt.track,Vt=Object.freeze({__proto__:null,add:_t,extendSession:It,flush:wt,getDeviceId:St,getSessionId:Et,getUserId:Tt,groupIdentify:Ot,identify:kt,init:Pt,logEvent:Rt,remove:xt,reset:Ut,revenue:qt,setDeviceId:Dt,setGroup:Nt,setOptOut:Lt,setSessionId:At,setTransport:jt,setUserId:Ct,track:Mt,Types:q,createInstance:mt,runQueuedFunctions:Te,Revenue:B,Identify:F});!)}();
