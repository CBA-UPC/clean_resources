(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[6734],{19589:(e,t,r)=>{"use strict";r.d(t,{p:()=>h});r(91938);var n=r(76955),a=r(29466),o=r.n(a),i=r(45525),s=r(55382),c=r.n(s),l=r(64214),p=r(66003),m=r(72852),d=r.n(m);function u(e,t){return e.alt===t.alt&&e.className===t.className&&e.disableLazy===t.disableLazy&&e.hasThumb===t.hasThumb&&e.height===t.height&&e.noImageSize===t.noImageSize&&e.noImageSrc===t.noImageSrc&&e.src===t.src&&e.width===t.width&&o()(e.style,t.style)&&e.withBackgroundColor===t.withBackgroundColor}var g=e=>{var[t,r]=n.useState(!1),a=n.useCallback((,[]);if(!e.hasThumb){var o={height:"".concat(e.noImageSize,"px"),width:"".concat(e.noImageSize,"px")};return n.createElement("div",{className:d().Block,style:o},n.createElement("span",{className:d().NoImageBlock},"no image"))}var i=t?e.noImageSrc:e.src,s=e.disableLazy?d().Block:d().BlockLoading;return n.createElement(p.j,{alt:e.alt,className:c()(e.withBackgroundColor?d().WithBackgroundColor:"",e.className||s),disableLazy:e.disableLazy,height:(0,l.W)(e.height),src:i,srcSet:e.srcSet,style:e.style,width:(0,l.W)(e.width),onError:a})};g.defaultProps={alt:"",className:"",disableLazy:!1,hasThumb:!0,noImageSize:80,noImageSrc:"",src:"",srcSet:"",style:{},withBackgroundColor:!1};var h=(0,i.w1)(d())(n.memo(g,u))},10793:(e,t,r)=>{"use strict";r.d(t,{f:()=>c});var n=r(76955),a=r(52377),o=r(5154),i=r.n(o),s=r(54285);class c extends n.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:i(),viewLogger:i()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:r,subCategoryId:n,contentId:a,displayPosition:o,pageId:i,entryId:s,orderId:c,sectionId:l,serviceId:p,tagName:m}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:r,subCategoryId:n,contentId:a,displayPosition:o,pageId:i,entryId:s,orderId:c,sectionId:l,serviceId:p,tagName:m}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(c.intersectionListener||(c.intersectionListener=(0,s.T)({})),this.stopListen(),this.trigger=a.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=c.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=n.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=n.cloneElement(e,{onClick:this.handleClick})),e}}c.displayName="Tracker"},64087:(e,t,r)=>{"use strict";r.d(t,{H_:()=>k,WK:()=>C,dC:()=>S,nx:()=>N,qA:()=>_});var n=r(41185),a=r(66062),o=r(18274),i=r(55752),s=r.n(i),c=r(5663),l=r.n(c),p=r(26946),m=r.n(p),d=r(73614),u=r(11622),g=r(43044),h=r(2412),y=r(44909),b=r(64132),f=r(70317),v=r(97781);tion T(e){return{type:v.Mb,payload:{error:e},error:!0}}var _=(0,o.H)({ttl:200},((e,t,r,n)=>function(){var o=(0,a.Z)((function*(a,o,i){var{fetchr:c}=i,p=s()(o(),["commentState","commentMap",r]);if(p)return a(L(p));try{var m=yield c.read("blogSingleComment").params({blogId:e,entryId:t,commentId:r,amebaId:n}).end(),{data:g}=m;if(l()(g))return a(T({message:"Not Found"}));if(!("comment_author"in g))if(g.comment_url){var[y]=(0,h.d)([g.comment_url]);yield a(d.Rs(y));var b=s()(o(),["bloggerState","bloggerMap",y,"profile"],{});g.comment_author=(0,h.E)(g,b)}else g.comment_author=(0,h.E)(g);if(g.image=s()(g,["comment_author","profile_image_url"],""),!(!1!==s()(o(),["deviceState","isEmojiSupported"])))try{var f={[r]:g},v=yield(0,u.t5)(f);Object.assign(g,v[r])}catch(I){console.warn(I)}return a(L(g))}catch(I){return console.warn(I),a(T(I))}}));return ()));function S(e){var{commentName:t,commentText:r}=e,n=(0,y.nL)(t),a=(0,y.xW)(r),o=!n.valid||!a.valid,[i=""]=a.errorMessages,s=(0,b.j)(r);return{type:v.NX,payload:{commentText:r,commentTextErrorMessage:i,commentTextLength:s,disableSendButton:o}}}function N(e){var{commentName:t,commentText:r}=e,n=(0,y.nL)(t),a=(0,y.xW)(r),o=!n.valid||!a.valid,[i=""]=n.errorMessages,s=(0,b.j)(t);return{type:v.NU,payload:{commentName:t,commentNameErrorMessage:i,commentNameLength:s,disableSendButton:o}}}var C=(0,o.H)({ttl:200},(e=>{var{amebaId:t,amebloToken:r,entryId:n,inReplyToCommentId:o,recaptchaToken:i,sessionUserNickname:c,enableFiltering:l=!1}=e;return function(){var e=(0,a.Z)((function*(e,a){var{commentName:p,commentText:d}=s()(a(),["replyCommentState","componentState"],{}),u={amebaId:t,commentText:d,entryId:parseInt(n,10),inReplyToCommentId:parseInt(o,10),recaptchaToken:i,enableFiltering:l};try{return e(function(e){return{type:v.m_,payload:{commentNameKey:m()("@tama-web/entryReplyComment/SEND_REPLY_COMMENT/SUCCESS_NAME"),commentTextKey:m()("@tama-web/entryReplyComment/SEND_REPLY_COMMENT/SUCCESS_TEXT"),data:e}}}((0,f.jl)(a())?yield(0,g.S)(w(w({},u),{},{amebloToken:r,commentName:c})):yield(0,g.y)(w(w({},u),{},{commentName:p}))))}catch(h){return e(function(e){return{type:v.E,payload:{error:e},error:!0}}(h))}}));return ()}))},89562:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n,a,o,i=r(3e4),s=r(66062),c=(r(91938),r(76955)),l=r(29466),p=r.n(l),m=r(55752),d=r.n(m),u=r(97175),g=r(66948),h=r(73614),y=r(64087),b=r(12942),f=r(5563),v=r(89403);function I(){return(I=(0,s.Z)((function*(e){var{dispatch:t,getState:r,match:n}=e,{params:a}=n,{amebaId:o,entryId:i,commentId:s}=a,c=yield t((0,h.Rs)(o));if(c&&c.error)"Not Found"===d()(c,"payload.error.message")?t((0,b.Qn)(o)):t((0,b.$F)(o));else{var l=r(),p=d()(l,["bloggerState","bloggerMap",o],{}),m=d()(l,["bloggerState","blogMap",p.blog],{});if(m&&m.blog_id){var{blog_id:u}=m,g=yield t((0,y.qA)(u,i,s,o));"Not Found"===d()(g,["payload","error","message"])&&t((0,b.Qn)(o))}else t((0,b.Qn)(o))}}))).apply(this,arguments)}var w=(0,u.provideHooks)({defer:)(n=(0,g.$j)((function(e,t){var{match:r}=t,{params:n,route:a}=r,{amebaId:o}=n,{pageType:i}=a;return{amebaId:o,bloggerType:d()(e,["bloggerState","bloggerMap",o,"attribute","bloggerType"],""),comment:d()(e,["replyCommentState","replyComment","data"]),pageType:i}}),{trackTapLog:f.XI,trackViewLog:f.iG})((o=a=class extends c.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.bloggerType!==e.bloggerType||!p()(this.props.comment,e.comment)||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||this.props.trackViewLog!==e.trackViewLog}render(){return(0,i.Z)(v.d,{amebaId:this.props.amebaId,bloggerType:this.props.bloggerType,clampComment:!0,comment:this.props.comment,index:0,pageType:this.props.pageType,showReplyLink:!1,trackTapLog:this.props.trackTapLog,trackViewLog:this.props.trackViewLog})}},a.displayName="SpEntryReplyComment",n=o))||n)||n},64214:(e,t,r)=>{"use strict";r.d(t,{W:);var n=e=>{var t=Number(e);return Number.isNaN(t)?e:t}},50518:function(e,t,r){"use strict";var n=this&&this.__assign||a=this&&this.__createBinding||(Object.create?,o=this&&this.__setModuleDefault||(Object.create?,i=this&&this.__importStar||Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(76955));t.default=,40112:(e,t,r)=>{var n=r(18300),a=r(55830),o=n(();o.i(a,"",!0),o.push([e.id,'._1g8R0KLz,._2ZRT7Mwb{position:relative;width:100%}._2ZRT7Mwb{}._JdNQmklx{color:#ccc;content:"no image";font-family:\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 Pro W6,\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 Pro W3,Hiragino Kaku Gothic Pro,\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af,Helvetica,Arial,sans-serif;font-size:12px;left:0;margin:-.5em 0 0;position:absolute;text-align:center;top:50%;width:100%}._25tu5oLk{background-color:rgba(8, 18, 26, 0.04)}',""]),o.locals={Block:"_1g8R0KLz",BlockLoading:"_2ZRT7Mwb "+a.locals.Loading,NoImageBlock:"_JdNQmklx",WithBackgroundColor:"_25tu5oLk"},e.exports=o},72852:(e,t,r)=>{var n=r(40112),a=Object.assign||o=Object.defineProperty||"string"==typeof n&&(n=[[e.id,n,""]]),e.exports=function(e){var t=a({},e.locals||{});return o(t,"_",{value:),o(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(n)}}]);