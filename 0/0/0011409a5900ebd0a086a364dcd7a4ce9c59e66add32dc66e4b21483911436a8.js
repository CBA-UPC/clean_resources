<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>404 - Page not found</title>
    <meta content="The page you are looking for doesn&#x27;t exist or has been moved." name="description">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <link href="https://d3e54v103j8qbb.cloudfront.net/css/webflow-https-errors.webflow.css" rel="stylesheet" type="text/css">

    <link href="https://d3e54v103j8qbb.cloudfront.net/static/designer_favicon.5ea478d03e.png" rel="shortcut icon" type="image/x-icon">
</head>

<body>
<div class="utility-wrapper">
    <div class="utility-container">
        <div class="text-mono">404</div>
        <div class="utility-content">
            <h1>Page not found<br></h1>
            <p>The page you are looking for doesn&#x27;t exist or has been moved.</p>
        </div>
        <div></div>
    </div>
</div>
</body>

</html>
ch-dynamic-id-cache-controller-574a0b21.js";import"./faceplate-expandable-section-helper-82dbe62e.js";import"./faceplate-auto-height-animator-4e0eb968.js";e("icon-custom-feed",t`${a('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="m11.5 16.262-.32-.193C11.009 15.968 7 13.536 7 10.48a2.7 2.7 0 0 1 2.664-2.73 2.629 2.629 0 0 1 1.836.761 2.629 2.629 0 0 1 1.836-.761A2.7 2.7 0 0 1 16 10.48c0 3.056-4.009 5.488-4.18 5.589l-.32.193ZM9.664 9a1.45 1.45 0 0 0-1.414 1.48c0 1.769 2.112 3.55 3.249 4.312 1.138-.764 3.251-2.548 3.251-4.312A1.45 1.45 0 0 0 13.336 9a1.4 1.4 0 0 0-1.269.84l-.567 1.228-.567-1.228A1.4 1.4 0 0 0 9.664 9Zm7.711 10H5.625A1.627 1.627 0 0 1 4 17.375V5.625A1.627 1.627 0 0 1 5.625 4h11.75A1.627 1.627 0 0 1 19 5.625v11.75A1.627 1.627 0 0 1 17.375 19ZM5.625 5.25a.375.375 0 0 0-.375.375v11.75a.375.375 0 0 0 .375.375h11.75a.375.375 0 0 0 .375-.375V5.625a.375.375 0 0 0-.375-.375H5.625Zm-3 9.5a.375.375 0 0 1-.375-.375V2.624a.375.375 0 0 1 .375-.374h11.75a.375.375 0 0 1 .375.374H16A1.627 1.627 0 0 0 14.375 1H2.625A1.627 1.627 0 0 0 1 2.624v11.751A1.627 1.627 0 0 0 2.625 16v-1.25Z"/></svg>')}`,t`${a('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M2.625 15.375V16A1.627 1.627 0 0 1 1 14.375V2.624A1.627 1.627 0 0 1 2.625 1h11.75A1.627 1.627 0 0 1 16 2.624H5.629a3.008 3.008 0 0 0-3 3l-.004 9.751ZM19 5.625v11.75A1.627 1.627 0 0 1 17.375 19H5.625A1.627 1.627 0 0 1 4 17.375V5.625A1.627 1.627 0 0 1 5.625 4h11.75A1.627 1.627 0 0 1 19 5.625Zm-3 4.855a2.7 2.7 0 0 0-2.664-2.73 2.629 2.629 0 0 0-1.836.761 2.629 2.629 0 0 0-1.836-.761A2.7 2.7 0 0 0 7 10.48c0 3.056 4.009 5.488 4.18 5.589l.32.193.32-.193c.171-.101 4.18-2.533 4.18-5.589Z"/></svg>')}`);var oe;!function(e){e.SearchDropdown="search_dropdown"}(oe||(oe={}));const ce=(e,t,a)=>s({source:"search",action:e,noun:t},a),{svg:de}=i();var le=l(de`<path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0ZM8.016 8.633a1.616 1.616 0 0 0-.2.806V13.5H5.931V6.172h1.8v.9h.039a3.009 3.009 0 0 1 1.018-.732 3.45 3.45 0 0 1 1.449-.284c.246-.003.491.02.732.068.158.024.309.08.444.164l-.759 1.832a2.09 2.09 0 0 0-1.093-.26c-.33-.01-.658.062-.954.208a1.422 1.422 0 0 0-.591.565Zm2.9 6.918H9.355L14.7 2.633c.426.272.828.58 1.2.922l-4.984 11.996Z"></path>`,"0 0 20 20","community-fill");const{svg:he}=i();var pe=l(he`<path d="M2.625 15.375V16A1.627 1.627 0 0 1 1 14.375V2.624A1.627 1.627 0 0 1 2.625 1h11.75A1.627 1.627 0 0 1 16 2.624H5.629a3.008 3.008 0 0 0-3 3l-.004 9.751ZM19 5.625v11.75A1.627 1.627 0 0 1 17.375 19H5.625A1.627 1.627 0 0 1 4 17.375V5.625A1.627 1.627 0 0 1 5.625 4h11.75A1.627 1.627 0 0 1 19 5.625Zm-3 4.855a2.7 2.7 0 0 0-2.664-2.73 2.629 2.629 0 0 0-1.836.761 2.629 2.629 0 0 0-1.836-.761A2.7 2.7 0 0 0 7 10.48c0 3.056 4.009 5.488 4.18 5.589l.32.193.32-.193c.171-.101 4.18-2.533 4.18-5.589Z"></path>`,"0 0 20 20","custom-feed-fill");const{svg:ue}=i();var me=l(ue`<path d="M3.554 17.826a1.124 1.124 0 0 1-.8-.33L.435 15.175a1.131 1.131 0 0 1 0-1.6l6.008-6.008a1.643 1.643 0 0 1 2.315 0l1.878 1.879 2.8-2.8-1.412-1.406A.726.726 0 0 1 12.54 4h6.736a.727.727 0 0 1 .726.727v6.735a.727.727 0 0 1-1.239.516l-1.41-1.411-5.56 5.56a1.64 1.64 0 0 1-2.313 0L7.6 14.248 4.354 17.5c-.213.21-.5.328-.8.326ZM1.4 14.376l2.151 2.151 4.05-4.047 2.76 2.763a.389.389 0 0 0 .547 0L17.352 8.8l1.4 1.4V5.25h-4.951l1.4 1.4-4.567 4.566-2.76-2.765a.391.391 0 0 0-.547 0L1.4 14.376Z"></path>`,"0 0 20 20","rising-outline");const{svg:fe}=i();var ye=l(fe`<path d="m13.558 14.442-4.183-4.183V4h1.25v5.741l3.817 3.817-.884.884ZM20 10a10 10 0 1 0-10 10 10.011 10.011 0 0 0 10-10Zm-1.25 0A8.75 8.75 0 1 1 10 1.25 8.76 8.76 0 0 1 18.75 10Z"></path>`,"0 0 20 20","history-outline");let be;const Se=new Uint8Array(16);function ge(){if(!be&&(be="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!be))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return be(Se)}var ve=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const we=[];for(let e=0;e<256;++e)we.push((e+256).toString(16).slice(1));function Ee(e,t=0){return(we[e[t+0]]+we[e[t+1]]+we[e[t+2]]+we[e[t+3]]+"-"+we[e[t+4]]+we[e[t+5]]+"-"+we[e[t+6]]+we[e[t+7]]+"-"+we[e[t+8]]+we[e[t+9]]+"-"+we[e[t+10]]+we[e[t+11]]+we[e[t+12]]+we[e[t+13]]+we[e[t+14]]+we[e[t+15]]).toLowerCase()}function Ie(e){if(!function(e){return"string"==typeof e&&ve.test(e)}(e))throw TypeError("Invalid UUID");let t;const a=new Uint8Array(16);return a[0]=(t=parseInt(e.slice(0,8),16))>>>24,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=255&t,a[4]=(t=parseInt(e.slice(9,13),16))>>>8,a[5]=255&t,a[6]=(t=parseInt(e.slice(14,18),16))>>>8,a[7]=255&t,a[8]=(t=parseInt(e.slice(19,23),16))>>>8,a[9]=255&t,a[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,a[11]=t/4294967296&255,a[12]=t>>>24&255,a[13]=t>>>16&255,a[14]=t>>>8&255,a[15]=255&t,a}function Re(e,t,a){function s(e,s,r,i){var n;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let a=0;a<e.length;++a)t.push(e.charCodeAt(a));return t}(e)),"string"==typeof s&&(s=Ie(s)),16!==(null===(n=s)||void 0===n?void 0:n.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(s),o.set(e,s.length),o=a(o),o[6]=15&o[6]|t,o[8]=63&o[8]|128,r){i=i||0;for(let e=0;e<16;++e)r[i+e]=o[e];return r}return Ee(o)}try{s.name=e}catch(e){}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s}function Ae(e){return 14+(e+64>>>9<<4)+1}function De(e,t){const a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function Ne(e,t,a,s,r,i){return De((n=De(De(t,e),De(s,i)))<<(o=r)|n>>>32-o,a);var n,o}function Te(e,t,a,s,r,i,n){return Ne(t&a|~t&s,e,t,r,i,n)}function ke(e,t,a,s,r,i,n){return Ne(t&s|a&~s,e,t,r,i,n)}function $e(e,t,a,s,r,i,n){return Ne(t^a^s,e,t,r,i,n)}function xe(e,t,a,s,r,i,n){return Ne(a^(t|~s),e,t,r,i,n)}Re("v3",48,(function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let a=0;a<t.length;++a)e[a]=t.charCodeAt(a)}return function(e){const t=[],a=32*e.length,s="0123456789abcdef";for(let r=0;r<a;r+=8){const a=e[r>>5]>>>r%32&255,i=parseInt(s.charAt(a>>>4&15)+s.charAt(15&a),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Ae(t)-1]=t;let a=1732584193,s=-271733879,r=-1732584194,i=271733878;for(let t=0;t<e.length;t+=16){const n=a,o=s,c=r,d=i;a=Te(a,s,r,i,e[t],7,-680876936),i=Te(i,a,s,r,e[t+1],12,-389564586),r=Te(r,i,a,s,e[t+2],17,606105819),s=Te(s,r,i,a,e[t+3],22,-1044525330),a=Te(a,s,r,i,e[t+4],7,-176418897),i=Te(i,a,s,r,e[t+5],12,1200080426),r=Te(r,i,a,s,e[t+6],17,-1473231341),s=Te(s,r,i,a,e[t+7],22,-45705983),a=Te(a,s,r,i,e[t+8],7,1770035416),i=Te(i,a,s,r,e[t+9],12,-1958414417),r=Te(r,i,a,s,e[t+10],17,-42063),s=Te(s,r,i,a,e[t+11],22,-1990404162),a=Te(a,s,r,i,e[t+12],7,1804603682),i=Te(i,a,s,r,e[t+13],12,-40341101),r=Te(r,i,a,s,e[t+14],17,-1502002290),s=Te(s,r,i,a,e[t+15],22,1236535329),a=ke(a,s,r,i,e[t+1],5,-165796510),i=ke(i,a,s,r,e[t+6],9,-1069501632),r=ke(r,i,a,s,e[t+11],14,643717713),s=ke(s,r,i,a,e[t],20,-373897302),a=ke(a,s,r,i,e[t+5],5,-701558691),i=ke(i,a,s,r,e[t+10],9,38016083),r=ke(r,i,a,s,e[t+15],14,-660478335),s=ke(s,r,i,a,e[t+4],20,-405537848),a=ke(a,s,r,i,e[t+9],5,568446438),i=ke(i,a,s,r,e[t+14],9,-1019803690),r=ke(r,i,a,s,e[t+3],14,-187363961),s=ke(s,r,i,a,e[t+8],20,1163531501),a=ke(a,s,r,i,e[t+13],5,-1444681467),i=ke(i,a,s,r,e[t+2],9,-51403784),r=ke(r,i,a,s,e[t+7],14,1735328473),s=ke(s,r,i,a,e[t+12],20,-1926607734),a=$e(a,s,r,i,e[t+5],4,-378558),i=$e(i,a,s,r,e[t+8],11,-2022574463),r=$e(r,i,a,s,e[t+11],16,1839030562),s=$e(s,r,i,a,e[t+14],23,-35309556),a=$e(a,s,r,i,e[t+1],4,-1530992060),i=$e(i,a,s,r,e[t+4],11,1272893353),r=$e(r,i,a,s,e[t+7],16,-155497632),s=$e(s,r,i,a,e[t+10],23,-1094730640),a=$e(a,s,r,i,e[t+13],4,681279174),i=$e(i,a,s,r,e[t],11,-358537222),r=$e(r,i,a,s,e[t+3],16,-722521979),s=$e(s,r,i,a,e[t+6],23,76029189),a=$e(a,s,r,i,e[t+9],4,-640364487),i=$e(i,a,s,r,e[t+12],11,-421815835),r=$e(r,i,a,s,e[t+15],16,530742520),s=$e(s,r,i,a,e[t+2],23,-995338651),a=xe(a,s,r,i,e[t],6,-198630844),i=xe(i,a,s,r,e[t+7],10,1126891415),r=xe(r,i,a,s,e[t+14],15,-1416354905),s=xe(s,r,i,a,e[t+5],21,-57434055),a=xe(a,s,r,i,e[t+12],6,1700485571),i=xe(i,a,s,r,e[t+3],10,-1894986606),r=xe(r,i,a,s,e[t+10],15,-1051523),s=xe(s,r,i,a,e[t+1],21,-2054922799),a=xe(a,s,r,i,e[t+8],6,1873313359),i=xe(i,a,s,r,e[t+15],10,-30611744),r=xe(r,i,a,s,e[t+6],15,-1560198380),s=xe(s,r,i,a,e[t+13],21,1309151649),a=xe(a,s,r,i,e[t+4],6,-145523070),i=xe(i,a,s,r,e[t+11],10,-1120210379),r=xe(r,i,a,s,e[t+2],15,718787259),s=xe(s,r,i,a,e[t+9],21,-343485551),a=De(a,n),s=De(s,o),r=De(r,c),i=De(i,d)}return[a,s,r,i]}(function(e){if(0===e.length)return[];const t=8*e.length,a=new Uint32Array(Ae(t));for(let s=0;s<t;s+=8)a[s>>5]|=(255&e[s/8])<<s%32;return a}(e),8*e.length))}));var Ce,Pe={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function qe(e,t,a){if(Pe.randomUUID&&!t&&!e)return Pe.randomUUID();const s=(e=e||{}).random||(e.rng||ge)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=s[e];return t}return Ee(s)}function Ue(e,t,a,s){switch(e){case 0:return t&a^~t&s;case 1:return t^a^s;case 2:return t&a^t&s^a&s;case 3:return t^a^s}}function _e(e,t){return e<<t|e>>>32-t}Re("v5",80,(function(e){const t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let a=0;a<t.length;++a)e.push(t.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,r=Math.ceil(s/16),i=new Array(r);for(let t=0;t<r;++t){const a=new Uint32Array(16);for(let s=0;s<16;++s)a[s]=e[64*t+4*s]<<24|e[64*t+4*s+1]<<16|e[64*t+4*s+2]<<8|e[64*t+4*s+3];i[t]=a}i[r-1][14]=8*(e.length-1)/Math.pow(2,32),i[r-1][14]=Math.floor(i[r-1][14]),i[r-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<r;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=i[e][t];for(let e=16;e<80;++e)s[e]=_e(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let r=a[0],n=a[1],o=a[2],c=a[3],d=a[4];for(let e=0;e<80;++e){const a=Math.floor(e/20),i=_e(r,5)+Ue(a,n,o,c)+d+t[a]+s[e]>>>0;d=c,c=o,o=_e(n,30)>>>0,n=r,r=i}a[0]=a[0]+r>>>0,a[1]=a[1]+n>>>0,a[2]=a[2]+o>>>0,a[3]=a[3]+c>>>0,a[4]=a[4]+d>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]})),function(e){e.QUERY="query",e.TRENDING="trending",e.TYPEAHEAD="typeahead"}(Ce||(Ce={}));const Le=/^m\/([\w+-]+)\/?/,Oe=/^r\/([\w+-]+)\/?/;var Be;!function(e){e.QUERY="query",e.SUBREDDIT="subreddit",e.MULTIREDDIT="multireddit",e.PROFILE="profile"}(Be||(Be={}));const Me=()=>h(p.RecentSearches)||[],Qe=e=>{u(p.RecentSearches,e)};function Fe({searchScopeType:e,multireddit:t,subreddit:a,profile:s,includeGlobal:i=!0}){const n=i?[f]:[];return{[r.GLOBAL]:n,[r.CUSTOM_FEED]:t?.path?[{type:r.CUSTOM_FEED,path:t.path},...n]:n,[r.COMMUNITY]:a?.prefixedName?[{type:r.COMMUNITY,path:`/${a.prefixedName}/`},...n]:n,[r.PROFILE]:s?.name?[{type:r.PROFILE,path:ie(s.name)},...n]:n}[e]}const je=()=>{const e=h(p.NsfwTypeaheadExpanded);return void 0===e||Boolean(e)};var Ve;function Ye(e,t){return t&&e===Ve.NO_TYPEAHEAD_DISMISS}function Ze(e,t){return Ye(e,t)||function(e,t){return t&&e===Ve.NO_TYPEAHEAD_NO_DISMISS}(e,t)}!function(e){e.ENABLED="enabled",e.NO_TYPEAHEAD_DISMISS="no_typeahead_dismiss",e.NO_TYPEAHEAD_NO_DISMISS="no_typeahead_no_dismiss"}(Ve||(Ve={}));const ze=/^(\/?[r|u]\/)/,He="clear-search-input",Ge="reddit-recent-searches-partial-container",We=y(b(v)),Ke={size:d.Small,attributes:{"aria-hidden":"true",className:"flex items-center justify-center h-100 ml-px"}};class Je extends We{constructor(){super(...arguments),this.scope=f,this.query=this.initialQuery??"",this.pageType="",this.isSearchScopeEnabled=!1,this.trendingSearches=null,this.isFocused=!1,this.typeaheadResults=null,this.recentSearches=Me(),this.showDropdown=!1,this.loadingSearchResults=!1,this.debouncedSearch=w(this.fetchTypeaheadResults,300),this.getPageType=E,this.isNsfwTypeaheadExpanded=!0,this.partialRequest=new I(this),this.handleRecentSearchDataUpdate=(e,t)=>{const{query:a,profile:s,subreddit:i,multireddit:n}=this,o=t?.target?.closest('[role="menuitem"]'),c=((e,t,a)=>{const{query:s,profile:i,scope:n,subreddit:o,multireddit:c,isSearchScopeEnabled:d}=t;switch(e){case Ce.TRENDING:if(a){const e=a.href,t=a?.querySelectorAll('[data-type="search-dropdown-item-label-text"]')?.[0]?.textContent,r=JSON.parse(a?.closest('[data-type="search-dropdown-item"]')?.getAttribute("data-faceplate-tracking-context")||"{}");if(t&&e)return{type:Be.QUERY,name:t,path:e,trackingContext:r,rawQuery:s,uuid:qe()}}break;case Ce.TYPEAHEAD:if(a){const e=a.href,t=a?.querySelectorAll('[data-type="search-dropdown-item-label-text"]')?.[0]?.textContent,r=JSON.parse(a?.closest('[data-type="search-dropdown-item"]')?.getAttribute("data-faceplate-tracking-context")||"{}"),i=a?.querySelector("faceplate-img")?.src,n=!!a.getElementsByClassName("text-alert-caution").length,o=!!a.getElementsByClassName("text-category-nsfw").length;let c=Be.QUERY;if(t&&Oe.test(t)?c=Be.SUBREDDIT:t&&Le.test(t)&&(c=Be.MULTIREDDIT),t&&e)return{type:c,name:t,path:e,isNsfw:o,isQuarantined:n,icon:i,trackingContext:r,rawQuery:s,uuid:qe()}}break;case Ce.QUERY:if(s){const e=re(n),t={[r.GLOBAL]:"",[r.COMMUNITY]:o?.communityIcon,[r.CUSTOM_FEED]:c?.icon,[r.PROFILE]:i?.icon}[n.type];let a=s.trim();d&&n.type!==r.GLOBAL&&(a=`${e} ${a}`);const l=W({cursor:{},query:s.trim(),scope:n,type:m.Posts});return{type:Be.QUERY,name:a,path:l,icon:t,rawQuery:s,uuid:qe()}}}return null})(e,{query:a,scope:this.scope,profile:s,subreddit:i,multireddit:n,isSearchScopeEnabled:this.isSearchScopeEnabled},o);if(c){const e=Me()?.filter((e=>e?.name!==c.name));e.length>=R&&e.pop(),e.unshift(c),Qe(e)}},this.handlePageDataReceived=e=>{const{profile:t,search:a,subreddit:s,multireddit:r}=e;a?.query&&this.pageType===A.SearchResults&&(this.query=a.query),s&&(this.subreddit=s),t&&this.isWithinProfileSearchEnabled&&(this.profile=t),r&&(this.multireddit=r)},this.handleEmptyTypeahead=()=>{this.typeaheadResults=null,this.isFocused&&!this.trendingSearches&&this.fetchTrendingSearches()},this.handleSearchInput=e=>{this.handleQueryChange(e.target.value)},this.handleQueryChange=e=>{this.query!==e&&(e||this.handleEmptyTypeahead(),K.update(D.Qf),this.query=e,this.query&&this.debouncedSearch())},this.handleSubmit=(e,t=this.activeSearchScope)=>{e.preventDefault(),this.handleRecentSearchDataUpdate(Ce.QUERY),this.redirect(this.getSearchUrl(t))},this.redirect=e=>{window.location.href=e},this.handleClear=()=>{this.handleQueryChange(""),this.input&&(this.input.value="",this.input.focus())},this.handleRemoveFilter=e=>{if(!this.isSearchScopeEnabled)return;const{searchTelemetryData:t}=this;var a;this.trackEvent((a={...t,action_info:{...t.action_info,type:e},...this.subreddit?{subreddit:{id:this.subreddit.id,quarantined:this.subreddit.isQuarantined,nsfw:this.subreddit.isNsfw,name:this.subreddit.name}}:{}},ce("disable","subreddit_search",a))),this.isSearchScopeEnabled=!1,this.input?.focus(),this.maybeFetchDropdownItems()},this.handleFilterClick=e=>{e.preventDefault()},this.resetIsSearchScopeEnabled=()=>{this.isSearchScopeEnabled=this.isSearchScopeInitiallyEnabled},this.handleFocus=()=>{var e;this.isFocused||(this.isFocused=!0,K.update(D.Qf),J.set(D.Qf),this.trackEvent((e=this.searchTelemetryData,ce("click","search_bar",e))),window.addEventListener("click",this.handleBlur),this.maybeFetchDropdownItems())},this.handleBlur=e=>{e.target===this||this.shadowRoot.contains(e.target)||(this.isFocused=!1,window.removeEventListener("click",this.handleBlur))},this.maybeUpdateDropdownState=()=>{const e=Boolean(this.isFocused&&(this.query||!this.query&&this.trendingSearches||!this.query&&Ye(this.scopedSearchPromptsVariant,this.isSearchScopeEnabled)));this.showDropdown!==e&&(!this.showDropdown&&e?(this.showDropdown=!0,this.handleDropdownShown()):this.showDropdown=!1)},this.buildEvent=()=>({search:{...this.searchTelemetryData.search,typeahead_active:!0,sort:N.Relevance,origin_element:"search_bar"},action_info:{page_type:A.SearchDropdown}}),this.handleDropdownShown=()=>{var e;this.dispatchEvent(new Event("reddit-search:open")),this.trackEvent((e=this.buildEvent(),s({source:"global",action:"view",noun:"screen"},e)))},this.handleArrowKeyNavigation=()=>{}}static get styles(){return[T,k(".search-input {\n  -webkit-appearance: none;\n}\n.search-input::-webkit-search-cancel-button {\n  display: none;\n}\n.search-input-focus faceplate-search-input {\n  --color-input-hover: var(--color-neutral-background-strong);\n  --color-input-default: var(--color-neutral-background-strong);\n}\n@media screen and (max-width: 768px) {\n  faceplate-search-input {\n    --font-14-20-regular: var(--font-16-20-regular);\n  }\n}\n.search-results-list > li:last-child [role='menuitem'],\n.search-results-list > *:last-child li [role='menuitem'],\n.search-results-list > li:last-child:hover [role='menuitem'],\n.search-results-list > *:last-child li:hover [role='menuitem'],\n.search-results-list > li:last-child:focus [role='menuitem'],\n.search-results-list > *:last-child li:focus [role='menuitem'],\n.search-results-list > li:last-child:active [role='menuitem'],\n.search-results-list > *:last-child li:active [role='menuitem'] {\n  border-bottom-left-radius: 1.25rem;\n  border-bottom-right-radius: 1.25rem;\n}\n")]}connectedCallback(){super.connectedCallback(),this.isNsfwTypeaheadExpanded=je(),this.pageType=this.getPageType()??"",this.isSearchScopeEnabled=this.isSearchScopeInitiallyEnabled,this.subscribe($.PageDataLoaded,this.handlePageDataReceived),this.omitDynamicId&&(J.shouldOverrideId=!0,K.shouldOverrideId=!0,X.shouldOverrideId=!0)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe($.PageDataLoaded,this.handlePageDataReceived)}updated(e){this.loadingSearchResults&&(e.has("typeaheadResults")||e.has("trendingSearches"))&&(this.loadingSearchResults=!1);const t=e=>{const t=this.typeaheadResultsNsfwSection?.querySelector('[data-id="typeahead-nsfw-expander-tracker"]'),a=e?"collapse_nsfw":"expand_nsfw";t?.getAttribute("noun")!==a&&t?.setAttribute("noun",a)};this.isNsfwTypeaheadExpanded=je();const a=this.typeaheadResultsNsfwSection?.hasAttribute("open");t(this.isNsfwTypeaheadExpanded),e.has("typeaheadResults")&&this.typeaheadResultsNsfwSection&&this.typeaheadResultsNsfwSection.querySelector("summary")?.addEventListener("click",(()=>{this.isNsfwTypeaheadExpanded=!this.isNsfwTypeaheadExpanded,t(this.isNsfwTypeaheadExpanded),u(p.NsfwTypeaheadExpanded,this.isNsfwTypeaheadExpanded)})),a!==this.isNsfwTypeaheadExpanded&&this.typeaheadResultsNsfwSection&&(this.isNsfwTypeaheadExpanded?this.typeaheadResultsNsfwSection.setAttribute("open",""):this.typeaheadResultsNsfwSection.removeAttribute("open"))}normalizeQuery(e){if(!e)return"";return e.toLowerCase().trim().replace(ze,"")}getAdParam(){return new URL(window.location.href).searchParams.get("ad")}handleDeleteRecentSearchItem(e){const t=this.recentSearches.filter((t=>t?.uuid!==e));this.recentSearches=t,Qe(t)}async fetchTrendingSearches(){if(this.isSearchScopeEnabled&&this.scopedSearchPromptsVariant!==Ve.ENABLED)return;this.loadingSearchResults=!0;const e=this.getAdParam(),t=new URLSearchParams({cId:J.get(D.Qf),...e?{ad:e}:{}}),a=await this.partialRequest.request(`/svc/shreddit/trending-searches?${t.toString()}`),s=await(a?.text());if(s&&this.trendingSearchesContainer){const e=x(s),t=e.find((e=>e.attributes.getNamedItem(C.IsPromoted)));t&&t.querySelector("[role=menuitem]")?.addEventListener("keydown",(function(e){"Enter"===e.code&&e.target?.dispatchEvent(new MouseEvent("click",{bubbles:!0}))})),this.trendingSearches=e}}async fetchTypeaheadResults(){if(this.isSearchScopeEnabled&&this.scopedSearchPromptsVariant!==Ve.ENABLED)return;this.loadingSearchResults=!0;const e=await this.partialRequest.request(`/svc/shreddit/subreddit-results?query=${this.normalizeQuery(this.query)}`),t=await(e?.text());t&&this.typeaheadResultsContainer?this.typeaheadResults=x(t):this.handleEmptyTypeahead()}get isSearchScopeInitiallyEnabled(){return this.scope.type!==r.GLOBAL&&!document.querySelector("shreddit-forbidden")}get activeSearchScope(){return this.isSearchScopeEnabled?this.scope:f}maybeFetchDropdownItems(){this.query||this.recentSearches||(this.recentSearches=Me()),this.query||this.trendingSearches?this.query&&!this.typeaheadResults&&this.fetchTypeaheadResults():this.fetchTrendingSearches()}get isInvalidWithinProfileSearch(){return this.scope.type===r.PROFILE&&!this.isWithinProfileSearchEnabled}getSearchUrl(e){return W({conversationId:J.get(D.Qf),cursor:{},impressionId:K.getUUID(),query:this.query,scope:e,type:m.Posts})}get searchTelemetryData(){const e={action_info:{pane_name:oe.SearchDropdown},search:{conversation_id:J.get(D.Qf),impression_id:K.get(D.Qf),query:this.query,origin_page_type:this.pageType??"",range:P.ALL,sort:q,query_id:X.get({query:this.query,scope:f,type:m.Posts},D.Qf)}};return this.isSearchScopeEnabled&&!this.isInvalidWithinProfileSearch&&(e.search=((e,t,{subreddit_id:a,subreddit_name:s,custom_feed_id:i})=>({[r.COMMUNITY]:{...e,subreddit_id:a,subreddit_name:s},[r.CUSTOM_FEED]:{...e,custom_feed_id:i},[r.PROFILE]:e,[r.GLOBAL]:e,[r.PDP]:e}[t]))(e.search,this.scope.type,{subreddit_id:this.subreddit?.id,subreddit_name:this.subreddit?.name,custom_feed_id:this.multireddit?.path})),e}isPromotedTrendClick(e){const t=e?.target?.closest('[role="menuitem"]');return null!==t?.parentElement?.attributes.getNamedItem(C.IsPromoted)}handleDropdownResultClick(e,t=Ce.TYPEAHEAD){const a=document.querySelector("shreddit-good-visit-tracker");if(a){const e=this.buildEvent();a.setAttribute("pagetype",A.SearchDropdown),a.setAttribute("screenview-data-attr",JSON.stringify(e))}this.handleRecentSearchDataUpdate(t,e)}willUpdate(){this.maybeUpdateDropdownState()}handleKeyDown(e){if("Backspace"!==e.code||this.query||this.scope.type===r.GLOBAL||this.scopedSearchPromptsVariant){if(("Enter"===e.code||"Enter"===e.key)&&this.query&&"search-input"===e.target.id){const{activeSearchScope:a,searchTelemetryData:s}=this;this.trackEvent((t={...s,action_info:{...s.action_info,type:`input-${a.type}`}},ce("click","full_search_button",t))),this.handleSubmit(e,a)}}else this.handleRemoveFilter("pill-backspace");var t}renderSearchInput(e=!1){const t=ne(this.activeSearchScope,{isWithinProfileSearchEnabled:this.isWithinProfileSearchEnabled??!1});return U` <faceplate-search-input \n class="search-input m-0 border-none bg-transparent flex-1 w-full outline-none p-0 font-sans placeholder:text-neutral-content-weak ${_({"mr-md":!e})}" \n id="${"search-input"}" \n @input="${this.handleSearchInput}" \n @keydown="${this.handleKeyDown}" \n @focus="${this.handleFocus}" \n type="search" \n placeholder="${e||!this.isSearchScopeEnabled||this.scopedSearchPromptsVariant?t:""}" \n value="${L(this.query)}" \n name="q" \n autocomplete="off" \n inputmode="" \n novalidate\n>${this.renderScopedSearchPill()}\n ${c({attributes:{id:"search-input-clear-button",slot:"clearIcon",type:"button",onclick:this.handleClear},appearance:"plain",size:o.Small,screenReaderContent:"Limpiar búsqueda",leadingIcon:O({size:d.Small})})}\n </faceplate-search-input>`}renderRecentSearchItem(e){const{icon:t,path:a,name:s,type:r,isNsfw:i,rawQuery:n,isQuarantined:l,trackingContext:h}=e,p={...h||{},search:{query:n}};let u;if(t||i){const e=i?"Icono de búsqueda reciente de 18+":`Icono de ${s}`,a=i?`${window?.CLIENT_CONFIG?.STATIC_BASE_URL}assets/avatar_over18.png`:t;u=U`<faceplate-img \n class="rounded-full h-lg w-lg flex items-center justify-center static" \n loading="lazy" \n src="${a}" \n width="16" \n height="16" \n alt="${e}" \n></faceplate-img>`}else u=r===Be.SUBREDDIT?U`${le({size:d.Small,attributes:{"aria-hidden":"true",className:"flex items-center justify-center h-100 ml-px"}})}`:r===Be.MULTIREDDIT?U`${pe({size:d.Small,attributes:{"aria-hidden":"true",className:"flex items-center justify-center h-100 ml-px"}})} `:ye({size:d.Small});const m=c({appearance:"plain",leadingIcon:O({size:d.Small}),screenReaderContent:"Eliminar reciente",shape:"pill",size:o.Small,attributes:{tabindex:"-1",className:"recent-search-item-delete-button",onclick:t=>{t?.stopPropagation(),t?.preventDefault(),this.handleDeleteRecentSearchItem(e.uuid)}}}),f=l?U`<span class="text-alert-caution inline-block">\n ${B(M()[Q.QUARANTINED])}\n </span>`:U``;return U`\n <faceplate-tracker \n source="search" \n action="click" \n noun="recent_search" \n data-type="search-dropdown-item" \n data-faceplate-tracking-context="${JSON.stringify(p)}" \n>\n <faceplate-tracker \n source="search" \n action="view" \n noun="recent_search" \n loading-modifier="${F.Always}" \n role="none" \n>\n ${j({attributes:{role:"menuitem",tabindex:"-1"},href:a,onClick:()=>{const t=this.recentSearches.filter((t=>t.uuid!==e.uuid));t.unshift(e),Qe(t)},leadingAvatar:u,label:U` <div class="flex items-center px-4 py-2 gap-2xs align-baseline">\n <div class="text-neutral-content flex-grow">${s}</div>\n </div>`,trailingSlot:m,description:f,size:V.Small})}\n </faceplate-tracker>\n </faceplate-tracker>\n `}renderRecentSearches(){const e=U`${this.recentSearches.reduce(((e,t)=>{const a=this.renderRecentSearchItem(t);return a&&e.push(a),e}),[])}`;return U` <div \n class="w-full border-solid border-b-sm border-t-0 border-r-0 border-l-0 border-neutral-border ${_({hidden:this.query})}" \n>\n <ul \n class="p-0 m-0 border-none" \n id="${"reddit-recent-searches-partial-container"}" \n @keydown="${this.handleArrowKeyNavigation}" \n>\n ${e}\n </ul>\n </div>`}renderTrendingSearches(){const e=this.query||!this.trendingSearches||Ze(this.scopedSearchPromptsVariant,this.isSearchScopeEnabled);return U`\n <div \n class="ml-md mt-sm mb-2xs text-neutral-content-weak flex items-center ${_({hidden:e})}" \n>\n ${me({attributes:{"aria-hidden":"true",className:"mr-2xs"},size:d.Small})}\n EN TENDENCIA HOY\n </div>\n <ul \n class="list-none mt-0 mb-0 p-0 search-results-list ${_({hidden:e})}" \n id="${"reddit-trending-searches-partial-container"}" \n @keydown="${this.handleArrowKeyNavigation}" \n @click="${e=>{this.isLinkToPdpEnabled?this.isPromotedTrendClick(e)||this.handleDropdownResultClick(e,Ce.TRENDING):this.handleRecentSearchDataUpdate(Ce.TRENDING,e)}}" \n role="menu" \n aria-busy="${this.loadingSearchResults}" \n>\n ${this.trendingSearches}\n </ul>\n `}renderTypeaheadResults(e=!1){return U`<ul \n id="${"reddit-typeahead-results-partial-container"}" \n class="list-none mt-0 mb-0 p-0 search-results-list min-w-0 ${_({"px-md":e,"-mx-md":e,hidden:!this.query})}" \n @click="${this.handleDropdownResultClick}" \n @keydown="${this.handleArrowKeyNavigation}" \n role="menu" \n aria-busy="${this.loadingSearchResults}" \n>\n ${this.typeaheadResults??""}${this.renderQueryPrompts()}\n </ul>`}getQueryPromptLabel(e){return this.scopedSearchPromptsVariant?e.type!==r.GLOBAL?`Buscar "${this.query}" en ${re(e)}`:`Buscar "${this.query}" en todo Reddit`:this.isSearchScopeEnabled&&e.type!==r.GLOBAL?`Buscar "${this.query}" en ${re(e)}`:`Buscar "${this.query}"`}renderQueryPrompts(){let e=[this.activeSearchScope];return this.isInvalidWithinProfileSearch||(Ye(this.scopedSearchPromptsVariant,this.isSearchScopeEnabled)?e=Fe({searchScopeType:this.scope.type,multireddit:this.multireddit,subreddit:this.subreddit,profile:this.profile,includeGlobal:!1}):this.isSearchScopeEnabled&&this.scopedSearchPromptsVariant&&(e=Fe({searchScopeType:this.scope.type,multireddit:this.multireddit,subreddit:this.subreddit,profile:this.profile}))),Y(e,(e=>`${e.type}-${this.query}`),((e,t)=>{const a={action_info:{type:`prompt-${e.type.toLowerCase()}`}};return U`<faceplate-tracker \n source="search" \n action="view" \n noun="query_prompt" \n loading-modifier="${F.Always}" \n data-faceplate-tracking-context="${JSON.stringify(a)}" \n data-type="search-dropdown-item" \n><faceplate-tracker source="search" action="click" noun="full_search_button" \n>${j({attributes:{className:this.typeaheadResults||t>0?"border-solid border-neutral-border-weak border-0 border-t-sm":void 0,id:`search-query-prompt-${e.type.toLowerCase()}`,tabindex:"-1",role:"menuitem"},href:this.getSearchUrl(e),label:U`<span class="text-neutral-content line-clamp-1 break-all" \n>${this.getQueryPromptLabel(e)}</span>`,leadingIcon:se({attributes:{"aria-hidden":"true",className:"pr-2xs"},size:d.Small}),onClick:t=>this.handleSubmit(t,e)})}</faceplate-tracker></faceplate-tracker>`}))}renderScopedSearchPill(){if(this.scope.type!==r.GLOBAL&&this.isSearchScopeEnabled&&!this.isInvalidWithinProfileSearch&&!this.scopedSearchPromptsVariant){const e=re({type:this.scope.type,path:this.scope.path});return(({attributes:e,children:t,selected:a,leadingIcon:s,ariaControls:r,screenReaderContent:l,deleteButtonConfig:h})=>{const{html:p,ifDefined:u}=i();return p` <span class="inline-flex relative max-w-full" slot="${u(null==e?void 0:e.slot)}"> ${n({hideChildrenOverflow:!0,ariaControls:r,attributes:e,selected:a,size:o.Small,leadingIcon:s&&ee({children:s,appearance:"icon",size:"2xs"}),children:p`<span class="${a?"inline-block mr-[calc(var(--size-button-sm-h)-var(--rem10)-var(--button-border-width-default))]":""} overflow-hidden text-ellipsis">${t}</span>`,screenReaderContent:l})} ${a?p` <span style="${"transform: translateY(-50%);\nposition: absolute;\nright: 0;\ntop: 50%;\ntransform: translateY(-50%);\ndisplay: inline-flex;\n"}"> ${c(Object.assign(Object.assign({},h),{appearance:"plain",size:o.Small,leadingIcon:te({size:d.Small})}))} </span>`:void 0} </span> `})({attributes:{id:"search-input-chip",onclick:this.handleFilterClick,slot:"chips"},deleteButtonConfig:{screenReaderContent:`Eliminar el filtro ${e} y ampliar la búsqueda a todo Reddit`,attributes:{id:"search-input-remove-filter",onclick:()=>this.handleRemoveFilter("pill-click"),type:"button"}},screenReaderContent:`La búsqueda actual está en ${e}`,selected:!0,leadingIcon:this.getChipIcon(),children:U`<span aria-hidden="true">${e}</span>`})}return Z}getChipIcon(){if(this.scope.type===r.GLOBAL)return U``;const{defaultIcon:e,iconUrl:t,isScopeNsfw:a}={[r.COMMUNITY]:{defaultIcon:le,iconUrl:this.subreddit?.communityIcon,isScopeNsfw:this.subreddit?.isNsfw},[r.CUSTOM_FEED]:{defaultIcon:pe,iconUrl:this.multireddit?.icon,isScopeNsfw:this.multireddit?.isNsfw},[r.PROFILE]:{defaultIcon:ae,iconUrl:this.profile?.icon,isScopeNsfw:this.profile?.isNsfw}}[this.scope.type];return a&&!this.isNsfwEnabled?U`${z(Ke)}`:t?U`<div class="w-full h-full flex justify-center items-center">\n <img \n height="16" \n width="16" \n class="rounded-full overflow-hidden" \n src="${t}" \n role="presentation" \n>\n </div>`:U`${e(Ke)}`}renderAdjustSearchScopePrompts(){return U`<div class="text-14 font-semibold py-xs px-md">\n Ampliar la b\u00FAsqueda\n </div>\n <div \n class="search-results-list" \n id="${"adjust-search-scope-container"}" \n @keydown="${this.handleArrowKeyNavigation}" \n role="menu" \n aria-busy="false" \n>\n <div data-type="search-dropdown-item">\n ${j({attributes:{role:"menuitem",tabindex:"0"},onClick:()=>this.handleRemoveFilter("prompt-click"),leadingIcon:se({attributes:{"aria-hidden":"true",className:"pr-2xs"},size:d.Small}),label:U`<span class="text-neutral-content line-clamp-1 break-all" \n>Buscar en todo Reddit</span>`})}\n </div>\n </div>`}renderDropdownResults(e){const t=[],a=!this.query;return a&&this.recentSearches.length&&!Ze(this.scopedSearchPromptsVariant,this.isSearchScopeEnabled)&&t.push(this.renderRecentSearches()),a&&Ye(this.scopedSearchPromptsVariant,this.isSearchScopeEnabled)&&t.push(this.renderAdjustSearchScopePrompts()),[...t,this.renderTrendingSearches(),this.renderTypeaheadResults(e)]}}S([H({attribute:"initial-query",type:String})],Je.prototype,"initialQuery",void 0),S([H({attribute:"scope",type:Object})],Je.prototype,"scope",void 0),S([H({attribute:"scoped-search-prompts-variant",type:String})],Je.prototype,"scopedSearchPromptsVariant",void 0),S([H({attribute:"is-within-profile-search-enabled",type:Boolean})],Je.prototype,"isWithinProfileSearchEnabled",void 0),S([H({attribute:"omit-dynamic-id",type:Boolean})],Je.prototype,"omitDynamicId",void 0),S([H({attribute:"is-nsfw-enabled",type:Boolean})],Je.prototype,"isNsfwEnabled",void 0),S([H({attribute:"is-impression-origin-enabled",type:Boolean})],Je.prototype,"isImpressionOriginEnabled",void 0),S([H({attribute:"is-link-to-pdp-enabled",type:Boolean})],Je.prototype,"isLinkToPdpEnabled",void 0),S([G(".search-input",!0)],Je.prototype,"input",void 0),S([G("#reddit-typeahead-results-partial-container")],Je.prototype,"typeaheadResultsContainer",void 0),S([G("#typeahead-results-nsfw-section")],Je.prototype,"typeaheadResultsNsfwSection",void 0),S([G("#reddit-trending-searches-partial-container")],Je.prototype,"trendingSearchesContainer",void 0),S([G("#reddit-recent-searches-partial-container")],Je.prototype,"recentSearchesContainer",void 0),S([G("#adjust-search-scope-container")],Je.prototype,"adjustSearchScopeContainer",void 0),S([g()],Je.prototype,"query",void 0),S([g()],Je.prototype,"subreddit",void 0),S([g()],Je.prototype,"profile",void 0),S([g()],Je.prototype,"multireddit",void 0),S([g()],Je.prototype,"pageType",void 0),S([g()],Je.prototype,"isSearchScopeEnabled",void 0),S([g()],Je.prototype,"trendingSearches",void 0),S([g()],Je.prototype,"isFocused",void 0),S([g()],Je.prototype,"typeaheadResults",void 0),S([g()],Je.prototype,"recentSearches",void 0),S([g()],Je.prototype,"showDropdown",void 0),S([g()],Je.prototype,"loadingSearchResults",void 0);export{He as C,Je as R,Ge as a,Ye as i};
//# sourceMappingURL=base-6c4b313c.js.map
