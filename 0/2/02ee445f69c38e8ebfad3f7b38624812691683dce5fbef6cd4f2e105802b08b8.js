"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1991],{11991:(e,t,r)=>{r.d(t,{bu:()=>u.bu,Pw:()=>u.Pw,WB:()=>g});r(63961),r(73338),r(60678),r(21164),r(38910),r(56743),r(98205),r(8627),r(11900),r(20143),r(15706),r(7242),r(36433);var n=r(50959),l=r(93295),o=r(13174),a=r(12875),s=r(9129),u=r(56871);function i(e,t,r,n){if(e.defaultPrevented)return null;const l=t.includes(u.Pw.BEFORE),o=t.includes(u.Pw.AFTER);let a=u.Pw.ON;if(e.currentTarget instanceof HTMLElement&&(l||o)){const{top:o,height:s,left:i,width:c,right:d}=e.currentTarget.getBoundingClientRect(),f=t.includes(u.Pw.ON);if("horizontal"===r)if(f&&l){(n?e.clientX>Math.round(d)-c/4:e.clientX<Math.round(i)+c/4)&&(a=u.Pw.BEFORE)}else{a=(n?e.clientX>Math.round(d)-c/2:e.clientX<Math.round(i)+c/2)?u.Pw.BEFORE:u.Pw.AFTER}else"vertical"===r&&(f&&l?e.clientY<Math.round(o)+s/4&&(a=u.Pw.BEFORE):a=e.clientY<Math.round(o)+s/2?u.Pw.BEFORE:u.Pw.AFTER)}return t.includes(a)?a:null}var c=r(55147);function d(e,t){var r;return Array.from((null===(r=e.dataTransfer)||void 0===r?void 0:r.types)??[]).filter(o.Fu).filter((e=>!!(0,u.Ii)(e)&&t.includes(e))).filter(u.Ii)}r(3371),r(40032);var f=r(45084);function T(e,t,r){var n;const l=d(e,t),a=function(e,t){return e.split(/[\s,;]+/g).map((e=>(0,c.EC)(null==e?void 0:e.trim()))).filter(f.K).reduce(((e,r)=>{const n=o.ZP[r.type];return(0,u.Ii)(n)&&t.includes(n)?(e[n]||(e[n]=[]),e[n].push(r.toURI()),e):e}),{})}(null===(n=e.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),t),s=Array.from(new Set([...Object.keys(a),...l])).filter(u.Ii),i=Object.fromEntries(s.map((t=>{var r;const n=a[t]??[],l=(null===(r=e.dataTransfer)||void 0===r||null===(r=r.getData(t))||void 0===r?void 0:r.split("\n").filter(Boolean))??[];return[t,Array.from([...l,...n.filter((e=>!l.includes(e)))])]})));if(r){const{[o.RN.PLAYLISTS]:e,...t}=i,r=Array.from(new Set([...i[o.RN.PLAYLISTS_V2]??[],...(i[o.RN.PLAYLISTS]??[]).map(p)]));return{...t,...r.length?{[o.RN.PLAYLISTS_V2]:r}:null}}return i}function p(e){const t=(0,c.EC)(e);return(null==t?void 0:t.type)===c.JM.PLAYLIST?(0,c.FW)(t.id).toURI():e}const S={droppableMimeTypes:"albums artists episodes folders playlists shows tracks local-tracks audiobooks pseudo-playlists",useDropTarget:"NxEINIJHGytq4gF1r2N1","useDropTarget--albums":"O0AN8Ty_Cxd4iLwyKATB","useDropTarget--artists":"wQnUXn1m6Gy4PH8jhslb","useDropTarget--episodes":"XNjgtSbyhshr7YQcVvry","useDropTarget--folders":"mhuhir0ikRqXAPHU8ZZ1","useDropTarget--playlists":"D8wJ9TPfJzLeLJYxnad2","useDropTarget--shows":"oE8LAmRhbeQqsZrQo4lb","useDropTarget--tracks":"or84FBarW2zQhXfB9VFb","useDropTarget--local-tracks":"odS2IW9wfNVHhkhc0l_X","useDropTarget--audiobooks":"zWWLnqWslTLHwq3wBgGB","useDropTarget--pseudo-playlists":"pTvxY5yAQklZgb7VZFGS"};function g(e){let{uri:t,id:r=t,allowedMimeTypesByDropPosition:c,onDrop:f,onLongDragOver:p,longDragOverTimeout:g=1e3,reorderDirection:v="vertical"}=e;const L=(0,l.NY)((()=>c),[c]),P=(0,s.S)(),m=(0,a.Oi)(),N=!!r&&1===m.length&&m[0]===r,A=Object.values(L).every((e=>e.includes(o.RN.PLAYLISTS_V2)&&!e.includes(o.RN.PLAYLISTS))),[D,E]=(0,n.useState)(null),O=(0,n.useCallback)((e=>N?[]:Object.entries(L).filter((t=>{let[r,n]=t;return d(e,n).length>0})).map((e=>{let[t]=e;return t})).filter(u.mJ)),[N,L]),w=(0,n.useRef)(!0),b=(0,n.useRef)(null),h=(0,n.useRef)(f);h.current=f;const y=(0,n.useRef)(p);y.current=p;const I=(0,n.useCallback)((()=>{w.current=!0,E(null),b.current&&(window.clearTimeout(b.current),b.current=null)}),[]);(0,n.useEffect)((()=>I),[I]);const k=(0,n.useCallback)((e=>{const t=O(e);t.length&&(E(i(e,t,v,P)),e.dataTransfer&&!e.defaultPrevented&&(e.dataTransfer.dropEffect=t.includes(u.Pw.ON)?"copy":"move"),e.preventDefault())}),[O,P,v]),Y=(0,n.useCallback)((e=>{if(O(e).length&&!e.defaultPrevented){if(w.current){w.current=!1;const t=e.currentTarget,r=()=>{document.contains(t)||(I(),document.removeEventListener("dragenter",r))};document.addEventListener("dragenter",r),document.addEventListener("dragend",(()=>{document.removeEventListener("dragenter",r),I()}),{once:!0}),y.current&&(b.current=window.setTimeout((()=>{var e;null===(e=y.current)||void 0===e||e.call(y)}),g))}e.preventDefault()}}),[O,g,I]),C=(0,n.useCallback)((e=>{O(e).length&&(function(e){return null===e.relatedTarget&&R?!document.elementsFromPoint(e.clientX,e.clientY).includes(e.currentTarget):!e.currentTarget.contains(e.relatedTarget instanceof Node?e.relatedTarget:null)}(e)&&I(),e.preventDefault())}),[O,I]),B=(0,n.useCallback)((e=>{const t=i(e,O(e),v,P);if(!e.defaultPrevented&&t){const r=T(e,L[t]??[],A);Object.keys(r).length&&h.current&&(h.current(r,t),e.preventDefault())}I()}),[O,v,P,I,L,A]);return{dropPosition:D,className:(0,n.useMemo)((()=>{var e;return`${S.useDropTarget} ${null===(e=Array.from(new Set(Object.values(L).flat())))||void 0===e?void 0:e.map((e=>S[`useDropTarget--${u.YC[e]}`]??"")).join(" ")}`}),[L]),onDragEnter:Y,onDragLeave:C,onDragOver:k,onDrop:B}}const R=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},56871:(e,t,r)=>{r.d(t,{Ii:()=>i,Pw:()=>s,YC:()=>a,bu:()=>o,mJ:()=>u});r(60678);var n=r(13174),l=r(41906);const o=[n.RN.TRACKS,n.RN.LOCAL_TRACKS,n.RN.ALBUMS,n.RN.ARTISTS,n.RN.PLAYLISTS,n.RN.PLAYLISTS_V2,n.RN.FOLDERS,n.RN.EPISODES,n.RN.SHOWS,n.RN.AUDIOBOOKS,n.RN.PSEUDO_PLAYLISTS],a={[n.RN.TRACKS]:"tracks",[n.RN.ALBUMS]:"albums",[n.RN.ARTISTS]:"artists",[n.RN.PLAYLISTS]:"playlists",[n.RN.FOLDERS]:"folders",[n.RN.SHOWS]:"shows",[n.RN.EPISODES]:"episodes",[n.RN.LOCAL_TRACKS]:"local-tracks",[n.RN.AUDIOBOOKS]:"audiobooks",[n.RN.PSEUDO_PLAYLISTS]:"pseudo-playlists"};let s=function(e){return e.ON="on",e.BEFORE="before",e.AFTER="after",e}({});const u=(0,l.y)(s);function i(e){return o.includes(e)}}}]);
//# sourceMappingURL=1991.179cacc8.js.map