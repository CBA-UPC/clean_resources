var _33AcrossPpidMappingsProvider;(()=>{var e={759:(e,t,s)=>{const{loadConsentData:n,LocalStorageId:a}=s(262),r=s(454),i=n();function o(e){let{expires:t,refreshInSeconds:s,...n}=e,{fetch:c=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=new a({idKeyName:"33acrossEids",expires:t,refreshInSeconds:s}),p=new r(n,{consentDataHandler:i,localStorageEid:l});return o.providers.push(p),c&&p.fetch(),p}i.hasChangedSinceStored(),o.providers=[],e.exports=o},454:(e,t,s)=>{const{Ajax:n}=s(262),a="https://lexicon.33across.com/v1/ppid",r={GDPR:e=>{let{consentString:t}=e;return{gdpr_consent:t}},CCPA:e=>{let{consentString:t}=e;return{us_privacy:t}},GPP:e=>{let{consentString:t,applicableSections:s=[]}=e;return{gpp:t,gpp_sid:encodeURIComponent(s.join(","))}}},i="33acrossIdFp";e.exports=class{#e;#t;#s;#n;#a=[];#r;#i;#o;#c=!1;#l;constructor(e){let{pid:t,win:s=window,callback:r=(()=>{}),apiUrl:i=a,regs:o={}}=e,{ajax:c=n,consentDataHandler:l={consentData:Promise.resolve([])},localStorageEid:p}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.#e=t,this.#t=r,this.#s=i,this.#n=c,this.#r=l,this.#i=p,this.#o=s,this.#l=o}#p(e){this.#a=e}#h(e){let{eids:t,fp:s}=e;this.#i.setId(JSON.stringify(t)),s&&this.#o.localStorage.setItem(i,s)}#d(e){const t=JSON.parse(e);return t.succeeded&&t.data?.eids?{...t.data}:(this.#u(),{eids:"",fp:t.data?.fp||""})}#g(e){let{allConsentData:t,fp:s}=e;const n=t.reduce(((e,t)=>{let{consentData:s={}}=t;const n=r[s.name];return s.consentString&&n&&Object.assign(e,n(s)),e}),{pid:this.#e,ver:"1.3.0"});return s&&(n.fp=s),Number(this.#l.coppa)&&(n.coppa=1),n}async#m(e){let{excludeFp:t,consentData:s=this.#r.consentData}=e;try{this.#c=!0;const e={allConsentData:await s};t||Object.assign(e,{fp:this.#o.decodeURIComponent(this.#o.localStorage.getItem(i)||"")});const n=await this.#n({url:this.#s,params:this.#g(e),options:{withCredentials:!0,timeout:1e4}}).then((e=>(this.#c=!1,e)));return this.#d(n)}catch(e){throw new Error(`_33AcrossPpidMappingsProvider: ${e}`)}}async#C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{eids:t,fp:s}=await this.#m(e);return t&&(this.#h({eids:t,fp:s}),this.#p(t),this.#t(t)),this.getIds()}#u(){this.#o.localStorage.removeItem(i),this.#i.clear()}#S(){this.#r.onChange((e=>(this.#u(),this.#C({consentData:e}))))}#P(e){return this.#i.isRefreshRequired()?this.#C():this.#t(JSON.parse(e)),this.#p(JSON.parse(e)),this.#a}#f(){const e=this.#i.getId();return!e||this.#i.hasExpired()||!1!==this.#r.getChangedSinceStoredResult()?(this.#C({excludeFp:!0}),this.#a):this.#P(e)}async#D(){const e=this.#i.getId();return!e||this.#i.hasExpired()||await this.#r.hasChangedSinceStored()?this.#C({excludeFp:!0}):this.#P(e)}fetch(){return this.#S(),this.#D()}getIds(){return this.#a}getPid(){return this.#e}loadIds(){return this.#S(),this.getIds().length||this.#c||this.#f(),this.getIds()}}},542:(e,t)=>{e.exports=function(e){return new Promise(((t,s)=>{const n=function(e){let{url:t,params:s={},win:n=window,options:a={}}=e;const r=new n.XMLHttpRequest("MSXML2.XMLHTTP.3.0"),i=new URLSearchParams(s);return r.open("GET",`${t}?${i}`,1),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.withCredentials=a.withCredentials||!0,r.timeout=a.timeout,r}(e);n.onreadystatechange=()=>{4===n.readyState&&(n.status>=200&&n.status<300?t(n.responseText):s(`Ajax: Status code ${n.status}`))},n.onerror=()=>s("Ajax: Network error"),n.ontimeout=()=>s("Ajax: Timeout"),n.send()}))}},346:(e,t,s)=>{const n="iab",a=s(24),r={CCPA:"__uspapi",GDPR:"__tcfapi",GPP:"__gpp"},i={GDPR:"__tcfapiLocator",CCPA:"__uspapiLocator",GPP:"__gppLocator"},o={GDPR:"addEventListener",CCPA:"getUSPData",GPP:"addEventListener"},c={GDPR:2,CCPA:1},l={GDPR(e,t,s){e(t,c.GDPR,s)},CCPA(e,t,s){e(t,c.CCPA,s)},GPP(e,t,s,n){e(t,s,n)}};e.exports=class{#w;#b;#I;#v;#o;#E;#x;#y;constructor(e){let{name:t,userCmp:s=n,win:a=window,config:i={}}=e;this.#w=t,this.#b=r[t],this.#I=s,this.#o=a,this.#E=i.consentTimeout||1e4,this.#x=i.staticConsentData||{}}#R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.#o;try{if("function"==typeof t[this.#b])return{cmpApi:t[this.#b],win:t}}catch(e){}return t.frames[e]?{win:t}:t===this.#o.top?{}:this.#R(e,t.parent)}#A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="boolean"==typeof e.gdprApplies&&e.gdprApplies;return!t||(s=e.tcString)&&"string"==typeof s?{consentData:this.#L({consentString:e.tcString,consentObject:e,additionalFields:{applies:t,..."string"==typeof e.addtlConsent?{addtlConsent:e.addtlConsent}:{}}})}:this.#j(e);var s}#G(e){return t=e?.uspString,t&&"string"==typeof t?{consentData:this.#L({consentString:e.uspString,consentObject:e})}:this.#j(e);var t}#j(e){return this.#M("CMP returned unexpected value during lookup process.",{consentObject:e})}#M(e,t){return{errMsg:e,errArgs:t}}#O(e){const t=e=>Array.isArray(e)&&e.length>0&&0!==e[0];return t(e.applicableSections)?e.applicableSections:t(e.applicableSection)?e.applicableSection:null}#T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.assign({},e,e.pingData);if(!t.gppString||"string"!=typeof t.gppString)return this.#j(t);const s=this.#O(t);return s?{consentData:this.#L({consentString:t.gppString,apiVersion:t.gppVersion,consentObject:t,additionalFields:{applicableSections:s}})}:this.#j(t)}#L(){let{consentString:e,consentObject:t,apiVersion:s=c[this.#w],additionalFields:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{consentString:e,vendorData:t,apiVersion:s,name:this.#w,hash:a(JSON.stringify([e])),...n}}#_(e,t){const s={GDPR:e=>this.#A(e),CCPA:e=>this.#G(e),GPP:e=>this.#T(e)}[this.#w](e);return t&&this.#y?.(s,this.#w),s}#U(e,t){switch(this.#w){case"GDPR":return[!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus];case"CCPA":return[!0];case"GPP":return"sectionChange"===e.eventName?[!0,!0]:"loaded"===e.pingData.cmpStatus?e.pingData.gppString||e.hasOwnProperty("gppString")?[!0]:(this.#N("getGPPData").then(t),[!1]):"ready"===e.pingData.signalStatus?[!0]:"error"===e.pingData.cmpStatus?[!1,!1,"CMP returned with a cmpStatus:error response. Please check CMP setup."]:[!1];default:return[!1]}}#F(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])return void e(this.#M("CMP unable to register callback function.  Please check CMP setup."));const[s,n,a]=this.#U(t,e);s?e(this.#_(t,n)):a?e({errMsg:a}):this.#v=t}#k(e,t){const s=`${this.#b}Return`,n=(e.data?.includes?.(s)?JSON.parse(e.data):e.data)[s];n?.callId&&(t[n.callId]?.(n.returnValue,n.success),delete t[n.callId])}#V(e,t,s){const n={},a=`${this.#b}Call`;this.#o.addEventListener("message",(e=>this.#k(e,n)),!1),function(e,s,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=Math.random().toString(),c={[a]:Object.assign({command:e,callId:o},s&&{version:s},i&&{parameter:i})};n[o]=r,t.postMessage(c,"*")}(e,c[this.#w],s)}#N(e){var t=this;return new Promise((s=>{const{cmpApi:n,win:a}=this.#R(i[this.#w]);if(!a)return void s(this.#M("CMP not found, the CMP script needs to be loaded before the 33across script"));const r=function(){s.fnName=e;for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];t.#F(s,...a)};n?l[this.#w](n,e,r):this.#V(e,a,r)}))}#K(){return this.#_(this.#x)}onChange(e){this.#y=e}loadConsentData(){const e={iab:()=>this.#N(o[this.#w]),static:()=>this.#K()};let t=null;if(!Object.keys(e).includes(this.#I))return Promise.resolve(this.#M(`The indicated CMP (${this.#I}) is not a supported`));const s=new Promise((e=>{t=this.#o.setTimeout((()=>{const{consentData:t,errMsg:s}=this.#_(this.#v);e(Object.assign(this.#M("CMP hasn't been loaded"),{consentData:s?this.#L():t}))}),this.#E)}));return Promise.race([e[this.#I](),s]).finally((()=>this.#o.clearTimeout(t)))}}},989:(e,t)=>{const s="33acrossId_cst",n=["GPP","CCPA","GDPR"];e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const a={},r=n.reduce(((t,s)=>Object.assign(t,{[s]:e(s)})),{}),i=(e,r)=>{r.consentData&&(a[e]=r,t.localStorage.setItem(s,n.map((e=>a[e]?.consentData?.hash||"")).join(",")))},o=()=>t.localStorage.getItem(s)?.split(",")||[],c=o();let l;return{onChange(e){r.GPP.onChange((t=>{const[s]=o();t.consentData?.hash!==s&&(i("GPP",t),e(Object.values(a)))}))},consentData:new Promise((e=>{const t=Object.entries(r).reduce(((e,t)=>{let[s,n]=t;return(e[s]=n.loadConsentData()).then((e=>i(s,e))),e}),{});Promise.all(Object.values(t)).then((()=>e(Object.values(a)))),t.GPP.then((t=>{t.consentData?.consentString&&e(Object.values(a))}))})),getChangedSinceStoredResult:()=>l,async hasChangedSinceStored(){if(!c)return!0;if(void 0!==l)return l;await this.consentData;const e=n.reduce(((e,t,s)=>Object.assign(e,{[t]:c[s]})),{});return l=!!Object.entries(a).find((t=>{let[s,{consentData:n}]=t;return(n.hash||"")!==e[s]})),l}}}},24:(e,t)=>{e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const s=function(e,t){if("function"==typeof Math.imul)return Math.imul(e,t);let s=(4194303&e)*(t|=0);return 4290772992&e&&(s+=(4290772992&e)*t|0),0|s};let n=3735928559^t,a=1103547991^t;for(let t,r=0;r<e.length;r++)t=e.charCodeAt(r),n=s(n^t,2654435761),a=s(a^t,1597334677);return n=s(n^n>>>16,2246822507)^s(a^a>>>13,3266489909),a=s(a^a>>>16,2246822507)^s(n^n>>>13,3266489909),(4294967296*((2097151&a)+(n>>>0))).toString()}},262:(e,t,s)=>{const n=s(346),a=s(989),r=s(542),i=s(847),o=e=>new n({name:e});e.exports={ConsentManagement:n,loadConsentData:()=>a(o),Ajax:r,LocalStorageId:i}},847:(e,t)=>{const s=28800,n=90;e.exports=class{#H;#q;#o;#$;constructor(e){let{idKeyName:t,refreshInSeconds:a=s,expires:r=n,win:i=window}=e;this.#H={VALUE:t,LAST:`${t}_last`,EXP:`${t}_exp`},this.#o=i,this.#q=a,this.#$=r}#X(e,t){return this.#o.localStorage.setItem(e,t),this}#J(e){return this.#o.localStorage.removeItem(e),this}#Q(e){return this.#o.localStorage.getItem(e)}hasExpired(){const e=this.#Q(this.#H.EXP);return!!e&&new Date(e).getTime()-Date.now()<=0}isRefreshRequired(){const e=new Date(this.#Q(this.#H.LAST));return Date.now()-e.getTime()>1e3*this.#q}setId(e){const t=new Date(Date.now()+864e5*this.#$);this.#X(this.#H.VALUE,e).#X(this.#H.EXP,t.toUTCString()).#X(this.#H.LAST,(new Date).toUTCString())}getId(){return this.#o.decodeURIComponent(this.#Q(this.#H.VALUE)||"")}clear(){return this.#J(this.#H.VALUE).#J(this.#H.EXP).#J(this.#H.LAST),this}}}},t={},s=function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}(759);_33AcrossPpidMappingsProvider=s})();