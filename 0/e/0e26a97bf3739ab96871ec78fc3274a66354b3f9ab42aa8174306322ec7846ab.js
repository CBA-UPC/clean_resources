!function(){"use strict";var e= o,r=),a=s=function(e){return Array.isArray(e)},c=(o=+Date.now()+Number((""+Math.random()).slice(2,8)),,l=h=u=p=d=f=function(e){var t={};try{var i=d(e).search;if(!i)return t;(i=i.slice(1)).split("&").forEach(()}catch(e){}return t},g=var m=(),_=function(e,t){try{return e?m.get(e,{domain:t||document.domain}):m.get()}catch(e){return""}},v=z=);var y={getItem:function(e){try{var t=localStorage.getItem(e),i=t;try{t&&"string"==typeof t&&(i=JSON.parse(t))}catch(e){}return i||{}}catch(e){}return{}},setItem:function(e,t){try{var i="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,i)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return _(e,t)},setCookie:function(e,t,i,n){v(e,t,i,n)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},b={getItem:setItem:removeItem:getCookie:setCookie:isSupportSession:)},E=),w=function(){eturn e.prototype.init=e.prototype.last=e.prototype.browser=function(){var e,t,i="",n=""+parseFloat(this.appVersion),o=this.userAgent;return-1!==o.indexOf("Edge")||-1!==o.indexOf("Edg")?(i="Microsoft Edge",-1!==o.indexOf("Edge")?(e=o.indexOf("Edge"),n=o.substring(e+5)):(e=o.indexOf("Edg"),n=o.substring(e+4))):-1!==(e=o.indexOf("MSIE"))?(i="Microsoft Internet Explorer",n=o.substring(e+5)):-1!==(e=o.indexOf("Lark"))?(i="Lark",n=o.substring(e+5,e+11)):-1!==(e=o.indexOf("MetaSr"))?(i="sougoubrowser",n=o.substring(e+7,e+10)):-1!==o.indexOf("MQQBrowser")||-1!==o.indexOf("QQBrowser")?(i="qqbrowser",-1!==o.indexOf("MQQBrowser")?(e=o.indexOf("MQQBrowser"),n=o.substring(e+11,e+15)):-1!==o.indexOf("QQBrowser")&&(e=o.indexOf("QQBrowser"),n=o.substring(e+10,e+17))):-1!==o.indexOf("Chrome")?-1!==(e=o.indexOf("MicroMessenger"))?(i="weixin",n=o.substring(e+15,e+20)):-1!==(e=o.indexOf("360"))?(i="360browser",n=o.substring(o.indexOf("Chrome")+7)):-1!==o.indexOf("baidubrowser")||-1!==o.indexOf("BIDUBrowser")?(-1!==o.indexOf("baidubrowser")?(e=o.indexOf("baidubrowser"),n=o.substring(e+13,e+16)):-1!==o.indexOf("BIDUBrowser")&&(e=o.indexOf("BIDUBrowser"),n=o.substring(e+12,e+15)),i="baidubrowser"):-1!==(e=o.indexOf("xiaomi"))?-1!==o.indexOf("openlanguagexiaomi")?(i="openlanguage xiaomi",n=o.substring(e+7,e+13)):(i="xiaomi",n=o.substring(e-7,e-1)):-1!==(e=o.indexOf("TTWebView"))?(i="TTWebView",n=o.substring(e+10,e+23)):(-1!==(e=o.indexOf("Chrome"))||-1!==(e=o.indexOf("Chrome")))&&(i="Chrome",n=o.substring(e+7)):-1!==o.indexOf("Safari")?-1!==(e=o.indexOf("QQ"))?(i="qqbrowser",n=o.substring(e+10,e+16)):-1!==(e=o.indexOf("Safari"))&&(i="Safari",n=o.substring(e+7),-1!==(e=o.indexOf("Version"))&&(n=o.substring(e+8))):-1!==(e=o.indexOf("Firefox"))?(i="Firefox",n=o.substring(e+8)):-1!==(e=o.indexOf("MicroMessenger"))?(i="weixin",n=o.substring(e+15,e+20)):-1!==(e=o.indexOf("QQ"))&&(i="qqbrowser",n=o.substring(e+3,e+8)),-1!==(t=n.indexOf(";"))&&(n=n.substring(0,t)),-1!==(t=n.indexOf(" "))&&(n=n.substring(0,t)),-1!==(t=n.indexOf(")"))&&(n=n.substring(0,t)),{browser:i,browser_version:n}},e.prototype.os=function(){for(var e="",t="",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"chromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],n=0;n<i.length;n++){var o=i[n];if(o.r.test(this.userAgent)){"Mac OS X"===(e=o.s)&&this.isNewIpad()&&(e="iOS");break}}var r=a=/Windows/.test(e)&&(t=r(/Windows (.*)/,e),e="windows");var s,c;switch(e){case"Mac OS X":t=a("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":s=this.userAgent,(c=r(/Android ([\.\_\d]+)/,s))||(c=r(/Android\/([\.\_\d]+)/,s)),t=c,e="android";break;case"iOS":t=this.isNewIpad()?a("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios";break;case"chromeOS":var l=this.userAgent.indexOf("x86_64");t=this.userAgent.substring(l+7,l+16)}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=e.prototype.isNewIpad=e}(),S={cn:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},k={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az28z1gz1hz1gz1cz18z1nz1gz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"};var T,A,D=l("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z20z18z1lz1ez1cz20z21z4az1hz21"),C=l("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z18z19z49z1az1mz20z1cz4az1hz21"),M=l("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z18z19z49z1jz1mz18z1bz1cz20z4az1hz21"),G=l("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1fz1cz18z22z1kz18z1nz49z1az1mz20z1c"),O=l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1bz18z22z18z4az24z1mz1jz1az1az1bz1lz4az1az1mz1kz4bz1mz19z1hz4bz1bz18z22z18z49z21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz22z1cz21z22z1cz20z49z1cz24z1cz1lz22z49z1gz1lz21z1nz1cz1az22z1mz20"),x=function(){eturn e.prototype.checkVerify=})),this.checkEventParams(o){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),!Object.keys(t).length)return!0;for(var i in t)return!!this.calculate(i,"params")&&(!("string"==typeof t[i]&&t[i].length>1024)||(console.warn("params: "+i+" can not over 1024 byte, please check;"),!1));return!0},e.prototype.calculate=function(e,t){return-1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||(!new RegExp("^\\$").test(e)&&!new RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start wi,e.VisualAp.DEVTOOL_WEB_READY="devtool-web-ready"}(A||(A={}));var I=T,R=void 0,B=(new Date).getTimezoneOffset(),N=parseInt(""+-B/60,10),j=60*B,U=function(){function t(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var i=new w(t.app_id,t.cookie_domain||"",t.cookie_expire||7776e6).init();this.eventCheck=new x(e,t);var n="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new E(!1,"session"),this.localStorage=new E(!1,"local"),t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var o=this.localStorage.getItem(n);o&&1==o?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(n,"1")),this.envInfo={user:{user_unique_id:R,user_type:R,user_id:R,user_is_auth:R,user_is_login:R,device_id:R,web_id:R,ip_addr_id:R,user_unique_id_type:R},header:{app_id:R,app_name:R,app_install_id:R,install_id:R,app_package:R,app_channel:R,app_version:R,ab_version:R,os_name:i.os_name,os_version:i.os_version,device_model:i.device_model,ab_client:R,traffic_type:R,client_ip:R,device_brand:R,os_api:R,access:R,language:i.language,region:R,app_language:R,app_region:R,creative_id:i.utm.creative_id,ad_id:i.utm.ad_id,campaign_id:i.utm.campaign_id,log_type:R,rnd:R,platform:i.platform,sdk_version:"5.1.14",sdk_lib:"js",province:R,city:R,timezone:N,tz_offset:j,tz_name:R,sim_region:R,carrier:R,resolution:i.screen_width+"x"+i.screen_height,browser:i.browser,browser_version:i.browser_version,referrer:i.referrer,referrer_host:i.referrer_host,width:i.screen_width,height:i.screen_height,screen_width:i.screen_width,screen_height:i.screen_height,utm_term:i.utm.utm_term,utm_content:i.utm.utm_content,utm_source:i.utm.utm_source,utm_medium:i.utm.utm_medium,utm_campaign:i.utm.utm_campaign,tracer_data:JSON.stringify(i.utm.tracer_data),custom:{},wechat_unionid:R,wechat_openid:R}},this.ab_version="",this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(i),this.initDomain(),this.ininitConfig.channel;this.domain=l(k[t])}},t.prototype.setDomain=function(e){this.domain=e},t.prototype.getDomain=function(){retlStorage.getItem(e);this.setAbCache(t)},t.prototype.setAbCache=function(e){this.ab_cache=e},t.prototype.getAbCache=function(){return bVersion=function(e){this.ab_version=e},t.prototype.getAbVersion=function(){return th(){this.ab_version="",this.ab_cache={}},t.prototype.getUrl=function(e){var t="";switch(e){case"event":t="/list";break;case"webid":t="/webid";break;case"tobid":t="/tobid"}var i="";return this.initConfig.caller&&(i="?sdk_version=5.1.14&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+thisInfo.header.custom[t]=e.latest_data[t]},t.prototype.set=function(t){var i=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&null!==t[n]||i.delete(n);try{i.eventCheck.calculate(n,"config")}catch(e){}if("traffic_type"===n&&i.isLast&&(i.envInfo.header.custom.$latest_traffic_source_type=t[n]),"evtParams"===n)i.evtParams=e(e({},i.evtParams||{}),t.evtParams||{});else if("_staging_flag"===n)i.evtParams=e(e({},i.evtParams||{}),{_staging_flag:t._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof t[n])i.reportErrorCallback=t[n];else{var o="",r="";if(n.indexOf(".")>-1){var a=n.split(".");o=a[0],r=a[1]}o?"user"===o||"header"===o?i.envInfo[o][r]=t[n]:i.envInfo.header.custom[r]=t[n]:Object.hasOwnProperty.call(i.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?i.envInfo.user[n]=t[n]?Number(t[n]):t[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?i.envInfo.user[n]=t[n]?String(t[n]):t[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?i.envInfo.user[n]=Boolean(t[n]):"device_id"===n&&(i.envInfo.user[n]=t[n]):Object.hasOwnProperty.call(i.envInfo.header,n)?i.envInfo.header[n]=t[n]:i.envInfo.hea,level:"error",time:D‰∫ÜÂºÇÂ∏∏",level:"errèëÁîü‰∫ÜÂºÇÂ∏∏",lev∏",leve+e)}1;ree){t(/[xy]/g,(function(e){var t=16*Math.random()|0;returionId(e)})),this.collect.on(I.Se)}:e.timestamp=Date.now()onTimeCheck||(this.sessioe.getItem(this.sessionKeys.sessionExp),this.sessionE{var t={sessionId:e||ime&&(e={sessionId){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return t.prototype.apply=function(e,t){var i=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new x(e,t),this.cacheStorgae=new E(!0),this.localStorage=new E(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||t.report_time||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.pageId=q()this.collect.on(I.ConfigDomain,(function(){i.reportUrl=i.configManager.getUrl("event")})),this.collect.on(I.Event,(function(e){i.event(e)})),this.collect.on(I.BeconEvent,(function(e){i.beconEvent(e)})),this.collect.on(I.CleanEventsrtAll(!1)}));var n=this.linster();this.collect.on(){n&&n()}))},t.prototype.linster=function(){varload",t,!1),h(t);var i=function(){"hidden"===document.visientListener("beforeunloitychange",i,!1)}}pe:A.DEBUGGER_MESSAGE_S.sdkReady&&(this.cacheSte.length&&(this.cacthis.eventKey)||[];t.le;var o=this.split(this.m.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},t.prototype.merge=function(t,i){var n=this,o=this.configManager.get(),r=o.header,a=o.user;this.config.enable_pageid&&(r.custom.page_id=this.pageId),r.referrer=this.handleRefer(),r.custom=JSON.stringify(r.custom);var s=this.configManager.get("evtParams"),c=this.configManager.get("user_unique_id_type"),l=t.map((function(t){try{Object.keys(s).length&&!i&&(t.params=e(e({},s),t.params)),c&&(t.params.$user_unique_id_type=c);var o=n.configManager.getAbCache(),r=a[n.config.ab_user_mode]||a.user_unique_id;return o&&o.uuid&&o.uuid===r&&n.configManager.getAbVersion()&&(t.ab_sdk_version=n.configManager.getAbVersion()),t.session_id=n.collect.sessionManager.getSessionId(),t.params=JSON.stringify(t.params),t}catch(e){return n.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"ÂèëÁîü‰∫ÜÂºÇÂ∏∏",level:"error",time:Date.now(),data:e.message}),t}})),h=JSON.parse(JSON.stringify({events:l,user:a,header:r}));h.local_time=Math.floor(Date.now()/1e3),h.user_unique_type=this.config.enturn u.push(h),u},t.prototype.split=function(e){return e=e.map((function(e){var t=[];return t.push(e),t}))},t.prototype.send=function(e,t){var i=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var n=JSON.parse(JSON.stringify(e));i.config.filter&&((n=i.config.filter(n))||console.warn("filter must return data !!")),i.collect.eventFilter&&n&&((n=i.collect.eventFilter(n))||console.warn("filterEvent api must return data !!"));var o=if(i.eventCheck.checkVerify(r),!o.length)return;var a=!0;if(o.forEach((function(e){e.events.length||(a=!1)})),!a)i.colcollect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_EVENT,info:"ÂüãÁÇπ‰∏äÊä•ÁΩëÁªúÂºÇÂ∏∏",time:Date.now(),data:r,code:t,failType:"ÁΩëÁªúÂºÇÂ∏∏Â§±Ë¥•",status:"fail"})},timeout:i.timeout,useBeacon:t,withCredentials:i.enable_ttwebid}),i.collect.emit(I.SubmitAfter,o)}catch(e){console.warn("somethinsage})}})))},+-8e3+-1e11).replace(/[0n(I.ConfigWebId,(functionustomWebId,(functicheToken.web_id?this.gram")){var t=f(window.location.href);return!(!t||!t.Web_ID)&&(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),!0)}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),i={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ÂèëËµ∑WEBIDËØ∑Ê±Ç",logType:"fetch",level:"info",time:Date.now(),data:i}),this.collect.requestManager.useRequest({url:t,data:i,success:function(t){var i;if(t&&0===t.e)i=t.web_id,e.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"WEBIDËØ∑Ê±ÇÊàêÂäü",logType:"fetch",level:"info",time:Date.now(),data:t});else{var n=J();i=n,e.collect.configManager.set({localWebId:n}),e.collect.emit(I.TokenError),e.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"WEBIDËØ∑Ê±ÇËøîÂõûÂÄºÂºÇÂ∏∏",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")}e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i})},fail:function(){var t=J();e.complete({web_id:e.configManager.get("web_id")||t,user_unique_id:e.configManager.get("user_unique_id")||t}),e.collect.configManager.set({localWebId:t}),e.collect.emit(I.TokenError),e.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_Me.prototype.complete=functcompleteTtWid=functin||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(I.TokenChange,"uuid"),this.collect.emit(I.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&this.configManager.get("user_unique_id")!==this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.que_id");i&&i!==t||(thiable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise((function(t){e.collect.requestManager.useRequest({urlp_id:er_unique_id:e.configManager.get("user_unique_id"),web_eText){try{e=JSON.parse(p.responseText)}catch(t){e={}}r(e,n)}}},p.onerror=function(){p.abort(),a&&a(n,t.errorCode.XHR_ON)},p.send(JSON.stringify(n))}catch(e){}else this.useFetch({url:i,data:n,method:o,success:r,fail:a})},e}(),$=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.eventVerifyReady=!1,t.enable_debug){var i=e.adapters.storage;this.collect=e,this.config=t,this.app_id=t.app_id,this.cacheStorgae=new i(!1,"session"),this.eventVerifyInfo=[],this.sdk_type="5.1.14".includes("tob")?"tob":"inner",this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","tion(){console.log("l.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach((function(t){var i=t.split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}))}catch(e){}return e},e.prototype.load=function(){return e=this,i=void 0,o=function(){var e,i,n;return t(this,(function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),(e=this.parseUrl()).open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return[2]}else if(!this.getStorage())return[2];return this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool(),[4,this.fetchEventInfo()];case 1:romise))((function(t,r){function a(e){value):new n((function(e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript(l("1fz22z22z1nz21z4mz4bz4bz1jz").web_id,e.info[2].infoName["Ëá™ÂÆö‰πâ‰ø°ÊÅØ"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["Â∑≤ÊõùÂÖâVID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/BÂüüÂêç"]=e.config.ab_channel_domain||l(S[e.config.channel]),e.info[4].infoName["ÂÖ®ÈÉ®ÈÖçÁΩÆ"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["ÊòØÂê¶ÊâìÈÄö"]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.stop(),this.collect.on(A.DEBUGGER_MESSAGE,(function(t){switch(t.type){case A.DEBUGGER_MESSAGE_SDK:var i={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(i.desc={content:JSON.stringify(t.data)}),e.updateLog(i),t.secType&&"AB"===t.secType?(e.info[4].infoName["Â∑≤ÊõùÂÖâVID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["ÂÖ®ÈÉ®ÈÖçÁΩÆ"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case A.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var n=t.if(r.custom=JSON.parse(r.custom),!o.length)return;o.forEach((function(i){i.checkShow=!0,i.searchShow=!0,i.type=-1!==e.filterEvent.indexOf(i.event)?"sdk":"cus",i.type=e.collect.bridgeReport?"bridge":i.type,i.params=JSON.parse(i.params),"fail"===t.status&&(i.info={message:"code: "+t.code+"Ôºå msg: "+t.failType},i.failType=t.failType);var n=!1,o=!1,r=[];e.eventVerifyInfo&&e.eventVerifyInfo.length&&(e.eventVerifyInfo.forEach((function(e){e.eventStatus=!1})),e.eventVerifyInfo.forEach((function(t){i.event===t.name&&(o=!0,n=!0,i.verifyStatus=t.status,Object.keys(i.params).forEach((function(n){if("event_index"!==n){var a={};a.paramsKey=n,a.paramsKeyValue=i.params[""+n],a.paramsStatus=!1,a.paramsStatusInfo="Â±ûÊÄßÊú™ÂΩïÂÖ•",t.params.forEach((function(t){n===t.name&&(t.checked=!0,typeof i.params[""+n]!==e.formatParamse):(a.paramsStatus=!0,a.paramsStatusInfo=""))})),r.push(a),a.paramsStatusInfo&&(o=!1)}})),t.params.forEach((function(e){e.checked||(o=!1,r.push({paramsKey:e.name,paramsStatus:!1,paramsStatusInfo:"Áº∫Â∞ëÂ±ûÊÄß"+e.name}))})))}))),i.reportStatus="success"===t.status,i.paramsInfo=r,i.eventStatus=o&&"success"===t.status,i.eventRecord=n})),e.updateEvent(n)}return}}))},e.prototype.formatParamsType=function(e){switch(e){case 0:return"string";case 1:case 2:return"number";case 3:return"boolean"}},e.prototype.fetchEventInfo=function(){var e=this;try{return new Promise((function(t){var i=l("1fz22z22z1nz21z4mz4bz4bz18z1nz1nz1jz1mz1ez1fz1mz1kz1cz4az19z27z22z1cz1bz18z1lz1az1cz4az1lz1cz22z4bz18z1nz1nz1jz1mz1ez1bz1cz24z22z1mz1mz1jz21z4bz1mz1nz1cz1lz18z1nz1gz4bz24z4dz4bz18z1nz1nz16z1jz1mz1ez16z1kz1cz22z18")+"?app_id="+e.app_id+"&t="+e.sdk_type+"&nc=false";e.collect.requestManager.useRequest({url:i,method:"GET",success:function(i){e.eventVerifyReady=!0,e.collect.reStart(),t({data:i.data,verifyStatus:!0})},fail:function(){e.eventVerifyReady=!0,e.collect.reStart(),t({data:[],verifyStatus:!1}}},e.prototype.addLintener=fl:web:ready"===t.data.tendData("devtool:web:ita&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()})),t&&t.data&&t.data.type}}))},e.prototype.sendDt("div");i.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web"></div>';var n=document.createElement("div");n.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(i),document.getElementsByTagName("body")[0].appendChild(n),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),X={autotrack:{src:{cn:l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz18z23z22z1mz22z20z18z1az1iz4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{cn:l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz18z19z4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{cn:l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz21z22z18z27z4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{cn:l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz20z1mz23z22z1cz4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{cn:l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz1az1cz1nz4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{cn:l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz22z20z18z1az1cz20z4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{cn:l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz4hz4az4dz4bz1nz1jz23z1ez1gz1lz4bz20z1cz22z20z27z4az1hz21"),sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{cn:l("1fz22z22z1nz21z4mz4bz4bz1jz1dz4fz49z1az1bz1lz49z22z1mz21z4az19z2lect/5.0/plugin/viances=[],this.sended=!{t.plugins[r].plugin=e,t.plugins[r].options=n||{},o=!0;break}}o||t.plugins.push({name:i,plugin:e,options:n})}else t.plugins.push({plugin:e})},t.prototype.usePlugin=function(e,t,i){e&&("full"===this.loadType&&Q.includes(e)?console.info("your sdk version has "+e+" pluhis.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:i}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},t.prototype.init=function(e){var i,n=this;(this.logger=new P(this.name,e.log),this.inited)?this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!"):e&&a(e)?e.app_id&&("number"==typeof(i=e.app_id)&&!isNaN(i))?!e.app_key||function(e){return"string"==typeof e}(e.app_key)?(e.channel_domain||-1!==["cn","sg","va"].indexOf(e.channel)||(this.logger.warn("channel must be `cn`, `sg`,`va` !"),e.channel="cn"),this.spider=new V,this.spider.checkSpider(e)?this.logger.warn("your env may be a spider, can not report!"):(this.appBridge=new L(this,e.enable_native),this.requestManager=new F(this,e),this.bridgeReport=this.appBridge.bridgeInject(),this.configManagernitConfig=e,this.emit(I.Init),this.emit(A.Droy=!1,e.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.set({app_id:e.app_id}),this.eventManager=new H,this.tokenManager=new W,this.sessionManager=new K,Promise.all([new Promise((function(e){n.once(I.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){n.once(I.Start,(function(){e(!0)}))}))]).then((function(){try{t.plugins.reduce((function(e,t){var i=t.plugin,o=t.options,r=Object.assign(n.initConfig,o),a=new i;return a.apply(n,r),e.push(a),e}),n.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),n.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"ÂèëÁîü‰∫ÜÂºÇÂ∏∏",level:"error",time:Date.now(),data:e.message})}n.sdkReady=!0,n.emit(I.Ready),n.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ÂàùÂßãÂåñÂÆåÊàê",time:Date.now(),level:"info",data:n.configManager.get("user")}),n.logger.info("appid: "+e.ap.opener||window.parend+" token change, new userInfo:"+JSON.stringify(n.configManager.get("user"))),n.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ËÆæÁΩÆ‰∫ÜÁî®Êà∑‰ø°ÊÅØ",time:Date.now(),secType:"USER",level:"info",data:n.configManager.get("user")})})),n.on(I.TokenReset,(function(){n.logger.info("appid: "+e.app_id+" token reset, new userInfo:"+JSON.stringify(n.configManager.get("user"))),n.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ÈáçÁΩÆ‰∫ÜÁî®Êà∑‰ø°ÊÅØ",time:Date.now(),secType:"USER",level:"info",data:n.configManager.get("user")})})),n.on(I.RouteChange,(function(t){t.init||e.disable_route_report||n.pageView()}))})),this.tokenManager.apply(this,e),this.eventManager.apply(this,e),this.sessionManager.apply(this,e)),this.inited=!0)):this.logger.warn("app_key param is error, must be string, please check!"):this.logger.warn("app_id param is error, muableAutoPageView=!0,delete t.disable_auto_pv);var i=e({},t),n=this.initConfig.configPersist||this.initConfig.config_persist||!1;if(this.initConfig&&n){var o=this.configManager.getStore();o&&(i=Object.assign(o,t)),this.configManager.setStore(t)}i.web_id,i.user_unique_id;var r=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n++)t.indexOf(n[o])<0&&(i[nue_id"]);this.configManager.set(r),i.hasOwnProperty("web_id")&&this.emit(I.ConfigWebId,i.web_id),i.hGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ÊâßË°åCONFIG",level:"info",time:Dansole.warn("config params is error, please check");else console.warn("config must be use after function init")},t.prototype.setUserUniqueID=function(e){this.config({user_unique_id:e})},t.prototype.setHeaderInfo=function(e,t){var i={};i[e]=t,this.config(i)},t.prototype.removeHeaderInfo=function(e){var t={};t[e]=void 0,this.config(t)},t.prototype.setDomain=funhis.emit(I.ConfigDomain)},t.prototype.getConfig=function(e){return this.configManager.ge.inited&&!this.sended&&(this.sended=!0,this.started=!0,this.emit(I.Start),this.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ÊâßË°åSTART",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageViush(o)}this.bridgeReportt,n=e.params;i.appBridge.,t.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is nullÔºå please check"),null;var i=e;/^event\./.test(e)&&(i=e.slice(6));var n=t;"object"!=typeof n&&(n={}),n.profile?deleid 0;return n.local_ms?(o=n.local_ms,delete n.local_ms):o=+new Date,{event:i,params:n,local_time_ms:o,is_bav:thig.autotrack?1:0}}catAGE_SDK,info:"ÂèëÁîü‰∫ÜÂºÇÂ∏∏"stop=function(){this.sdkStophis.sdkStop=!1},t.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},t.prototype.predefinePageView=function(t){if(void 0=cument.title||location.pathnams_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=e(e({},i),t);this.event("predefine_pagearn("predefinePageView muype.clearEventCache=function(){this.emit(I.CleanEvents)},t.prototype.setWebIDviaUnionID=function(e){if(e){var t=g(e);this.config({wesetWebIDviaOpenID=fun},t.prototype.resetStayParams=function(e,t,i){void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=""),this.emit(I.SetStay,{url_path:e,title:t,url:i},I.Stay)},t.prototype.getToken=function(t,i){var n=this;if(this.inited){var o=!1,r=function(i){if(!o){o=!0;var r=n.configManager.get().user;return i&&(r.tobid=i,r["diss".split("").reverse().join("")]=i),t(e({},r))}},a=function(){n.tokenManager.getTobId().then((function(e){r(e)}))};this.sdkReady?a():(i&&setTimeout((function(){r()}),i),this.on(I.Ready,(function(){a()})))}else console.warn("getToken must be use after function init")},t.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(I.ProfileSet,e,I.Profile),this.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ÊâßË°åprofileSet",level:"info",time:Date.now"SDK ÊâßË°åprofileSetOnce"SAGE_SDK,info:"SDK ÊâßË°åprofileI.bridgeReport?this.DEBUGGER_MESSAGE,{type:A,time:Date.now(),data:e})},tt?this.appBridge.profileAppend(JSo:"SDK ÊâßË°åprofileAppend",level:"info",time:Date.now(),data:e})},t.prototype.setExternalAbVersion=function(e){this.emit(I.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,Iemit(I.AbVar,{name:e,de.getABconfig=function(e,t){this.emit(I.AbConfig,{params:e,callback:t},I.Ab)},t.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersionI.Ab),function(){t.eotype.openOverlayer=function(){this.emit(I.Ab]=te[e]||[],(e){t=vi]&&te[i].forEach((function(t){!1)}var ce="",le=!1;function he(e){var t=e.event,i=e.editorUrl;e.collectInstance,e.fromSession;le||(le=!0,u(i,(function(){oe(t,"abEditorScriptloadSuccess")}),(function(){t&&oe(t,"abEditorScriptloadError"),le=!1})))}var ue;!function(e){e[e.Var=0]="Var",e[e.All=1]="All"}(ue||(ue={}));var pe=function(){function t(){this.fetchStatus="no",this.refreshFetchStatus="complete",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data=null,this.changeListener=new Map,this.readyStatus=!1,this.exposureCache=[]}return t.prototype.apply=function(e,t){var i=this;if(t.enable_ab_test){this.collect=e,this.config=t;var n=t.enable_multilink,o=t.ab_channel_domain,r=t.enable_ab_visual,a=t.ab_cross,s=t.ab_cookie_domain,c=t.ab_timeout,h=o||l(S[t.channel|acheStorgae=new u(!1),this.timeout=c||3e3,this.enable_multilink=n,this.enable_ab_visual=r,this.abKey="__tea_sdk_ab_version_"+t.app_id,this.ab_cross=a,this.ab_cookie_domain=s||"",this.fetchUanager.getUrl("event"),this.exposureLimit=t.exposure_limit||20,this.ab_batch_time=t.ab_batch_time||500,this.ab_user_mode=t.ab_user_mode||"user_unique_id",this.collect.on(p.TokenChange,(function(e){"uuid"===e&&i.readyStatus&&(i.clearCache(),i.fet,(function(e){"uuid"===e&&i.readyStatus&n(e){var t=e.name,n=e.defaultValue,o=e.callback;i.getVar(t,n,o)})),this.collect.on(p.AbAllVars,(function(e){i.getAllVars(e)})),this.collect.on(p.AbConfig,(function(e){var t=e.params,n=e.callback;i.getABconfig(t,n)})),this.collect.on(p.AbExternalVersion,(function(e){i.setExternalAbVersion(e)})),this.collect.on(p.AbOpenLayer,(function(){i.openOverlayer()})),this.collect.on(p.AbCloseLayer,(function(){i.closeOverlayer()})),this.collect.on(p.AbVersionChangeOn,(function(e){i.changeListener.set(e,e)})),this.collect.on(p.AbVersionChangeOff,(function(e){i.changeListener.get(e)&&i.chk)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(this.fetchAB(),this.readyStatus=!0),this.collect.emit(p.AbReady)}},t.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var i=this.collect.hook._hooksCache[e];if(!Object.keys(i).length)return;var n=function(e){i[e].length&&i[e].forEach((function(i){t.collect.hook.emit(e,i)}))};for(var o in i)n(o)}},t.prototype.loadMode=function(){var e,t,i=function(){try{var e=JSON.parse(atob(window.name));return e||void 0}catch(e){return}}(),n="";if(i){var o=i.scenario,r=i.href;o?(this.editMode=!0,n=o):!r||-1===r.indexOf("datatester")a<i.length&&a!==i.length-1;a++)n=n+"/"+i[a];n+="/visual-ab-core"}}catch(e){}re("tea:openVisualABEditor",(function(i){var o=i.data;if("string"==typeof i.data)try{o=JSON.parse(i.data)}catch(e){o=void 0}if(o){var r=o.lang;if(o.appId!==t.app_id)return oe(i,"apctInstance:e})}}))}(this.coppId;window.TEAVisualEdit"",window.TEAVisualEditor.ls=i||[],this.versions=t||[]);this.enable_multions(e.join(",")),this.uype.getRealVar=functionhis.updateVersions(),this.fBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Ë∞ÉÁî®getVar",level:"info",time:Date.now(),data:n}),o(n)}else o(n)},t.prototype.getAllVars=function(e){if("function"!=typeof e)throw new Error("callback must be a function");var t={callback:e,type:ue.All};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(t):this.callbacks.push(t)},t.prototype.getRealAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{}),this.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK Ë∞ÉÁî®getAllVars",level:"info",time:Date.now(),data:this.data})},t.prototype.fechEvent=function(e,t,i){try{if(this.config:this.config.appId,nction(e,t){var i=this;this.exposeportTimeout),this.exposrt(t),clearTimeos.exposureCache,êÂäü",time:Date.now(),dotype.getABconfig=functiondomain);return t?JSON.p.setCookie(e,t,2592e6,tersion:[],ab_version_multip=Date.now(),this.set(this.a={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[],this.collect.configManager.clearAbCache()},t.prototype.openOverlayer=function(e){var t=this;if(function(){if(!doopacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.id=ee,i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i)}}(),e)var i=setTimeout((function(){t.closeOverlayer(),clearTimeout(i)}),e)},t.prototype.closeOverlayer=function(){var e;(e=document.getElementById(ee))&&e.parentElement.removeChild(e)},t.prototype.fetchComplete=function(e,t){var i=this;try{if(e&&"[object Object]"==Object.prototype.toString.call(e)){this.data=e,this.setAbCache(t);var n=[];Object.=e[t].vid;i&&n.push(i)})),this.versions=this.versions},window.TEAVisualEditor.__ab_config=e,u(M+"?query="+Date.now(),(function()visual render fail")})),i.closeOverlayer()}))}else if(o&&this.enable_multilink){this.mulilinkVersions=this.mulilinkVersions.filter((function(e){return n.includes(e)}));var a=o.val,s=o.vid;a&&s&&this.getVar("$ab_url",a,(function(){i.editMode||(a!==window.location.href?setTimeout((function(){if(!i.collect.destroy){var e=""+a;e=-1===e.indexOf("http")?"https://"+e:e,d(e).host!==location.host?e=e+"&vid="+s:window.history.replaceState("","",e),window.location.href=e}}),100):i.closeOverlayer())}))}this.updateVersions()}else this.closeOow.lodata:o,success:function(e){i.fetchStatus="complete",i.refreshFetchStatus="complete";var n=e.data;"success"===e.message?(i.fetchComplete(n,r),t&&t(n)):(i.fetchComplete(null,r),t&&t(null)),i.collect.emit(i.types.AbComplete,n),i.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"ABÂÆûÈ™åËØ∑Ê±ÇÊàêÂäü",lunction(){i.fetchStatus="complete",i.refreshFetchStatus="complete",i.fetchComplete(null,r),i.collect.emit(i.types.AbTimeout),t&&t(null),i.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"ABÂÆûÈ™åËØ∑Ê±ÇÁΩëÁªúÂºÇÂ∏∏",level:"error",logType:"fetch",time:Date.now()})},timeout:this.timeout})},t}();try{var de=Z();de&&(de.LogAb=function(e,t){(new pe).apply(e,t)})}catch(e){console.log(e)}var fe=function(){function e(){}return e.prototype.apply=function(e,t){var i=this;t.event_verify_url&&("string"==typeof t.event_verify_url?(this.url=t.event_verify_url+"/v1/list_test",e.on(e.Types.SubmitBefore,(function(t){e.requestManager.useBeacon({url:i.url,data:t})}))):console.log("please use correct et_test url"))},e}(),ge=function(){function t(e,t){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.focusState=!0,this.collect=e,this.config=t,this.pageStartTime=Date.now(),this.sessionStartTimete.now(),this.hard&&this.removeMode&&this.removeMode()},t.prototype.sendEvent=function(t,i){void 0===i&&(i=!1);var n=i?this.aliveDTime:Date.now()-this.sessionStartTime;n<0||n>this.aliveDTime||Date.now()-this.pageStartTime>this.maxDuration||i&&"hidden"===document.visibilitySt,duration:n,is_support_visibition(e){switch(e){case"uration.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},t.prototype.setUpTimer=function(){var e=this;return this.timerHandler&&clearInterval(this.timerHandler),setInterval((function(){Date.now()-e.sessionStartTime>e.aliveDTime&&e.sendEvent(!1,!0)}),1e3)},t.prototype.visibilitychange=function(){Timer();var t=this.visibilitychange.bind(this),i=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),window.addEventListener("pagehide",i),function(){e.befoon(){e.focusState=is;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.focusState=!0,this.visibilitychange=function(){"hidden"===document.visibilityState?i.activeEndTime=Date.now():"visible"===document.visibilityState&&(i.activeEndTime&&(i.totalTime+=i.activeEndTime-i.activeStartTime,i.activeTimes+=1),i.activeEndTime=void 0,i.activeStartTime=Date.now())},this.beforeunload=function(){if(i.totaconfig.autotrack){te){}}i.sendEventPageion||864e5,this.pageSt}return t.prototype.setParams=fime:Date.now(),this.acalTime>=this.maxDuration||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.closeName,e({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_timel",focusState:this.focent.title||location.pathname;case"url":return this.set_url||this.url||location.href}},t.prototype.enablePageClose=function(){var e=this,t=this.visibilitychange.bind(this),i=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),window.addEventListener("pagehide",i),function(){e.beforeunload(),document.removeEventListener("visibilityEventListener("pagehide",i)}},t.prototype.hardMode=function(){var e=this,t=function(){e.focusState=!1},i=function(){e.focusState=!0};returni),function(){window.removeEvunction(){function e(){}return e.prototype.apply=function(e,t){var i=this;if(this.collect=e,this.config=t,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new ge(e,t),this.pageClose=new me(e,t);var n=this.collect.Types;this.collect.on(n.DestoryInstance,(function(){i.disable()})),this.collect.on(n.ResetStay,(funcis.collect.on(n.RoutayDuration()})),this.colle(e)){var i=this.co)return;var n=function(e){i[e]ble=function(){this.pageAlive.disabltotype.setStayParmas=function(e,t,i){void 0id 0===t&&(t=""),void 0===i&&(i=""),this.pageAlive.setParams(e,t,i),this.pageClose.setParams(e,t,i),this.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ÊâßË°å resetStayParams",level:"info",time:Date.now(),data:{url_path:e,title:t,url:i}})},e.prototype.reset=function(e,t,i){this.disable(),this.enable(e,t,i)},e.prototype.resetStayDuration=function(e,t,i){this.reset(e,t,i),this.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"SDK ÊâßË°å resetStayDuration",level:"info"e,title:t,url:i}})},e}();try{var vunction(e,t){(new _e).apply(e,t)})}catch(e)n.ProfileSet,(function(e){i.setProfile(e)})),this.collect.on(n.ProfileSetOnce,(function(e){i.setOnceProfile(e)})),this.collect.on(n.ProfileUnset,(function(e){i.unsetProfile(e)})),this.collect.on(n.ProfileIncrement,(function(e){i.incrementProfile(e)})),this.collect.on(n.ProfileAppend,(function(e){i.appendProfile(e)})),this.collect.on(n.ProfileClear,(function(){i.cache={}})),this.ready(n.Profile)},t.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var i=this.collect.hook._hooksCache[o)}},t.prototype.report=funtManager.merge(i);this.collect.requestManager.useRequest({url:this.reportUrl,data:n}),this.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_EVENT,info:"ÂüãÁÇπ‰∏äÊä•ÊàêÂäü",time:Date.now(),data:n,code:200,status:"success"})}catch(e){this.collect.emit(A.DEBUGGER_MESSAGE,{type:A.DEBUGGER_MESSAGE_SDK,info:"ÂèëÁîü‰∫ÜÂºÇÂ∏∏",level:"error",time:Date.now(),data:e.message})}},t.prototype.setProfile=function(t){var i=this.formatParams(t);i&&Object.keys(i).length&&(this.pushCache(i),this.report("__profile_set",e(e({},i),{profile:!0})))},t.prototype.setOnceProfile=function(t){var i=this.formatParams(t,!0);i&&Object.keys(i).length&&(this.pushCache(i),this.report("__profile_set_once",e(e({},i),{profile:!0})))},t.prototype.incrementProfile=functioject!!!")},t.prototype.unsole.warn("please che value of params:t?!o:!(o&&i.compare(t],e}),{(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var n=this.collect.Types;this.collect.on(n.SessionResetTime,(function(){i.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_timument.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),be=function(){function e(){}return e.prototype.apply=function(e,t){var i=this;t.channel_domain||t.disable_track_event||t.disable_sdk_monitor||(this.collect=e,this.config=t,this.url=e.configManager.getUrl("evepp_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var i=this;try{var n=e[0],o=n.user,r=n.header,a=[];e.forEach((function(e){e.events.forEach((function(e){a.push(e)}))}));var s={events:a.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:r.app_id,app_name:r.app_name||"",error_event:e.event,sdk_version:r.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(r),user:JSON.stringify(o)}),local_time_ms:Date.now()}})),user:{user_unique_id:o.user_unique_id},header:{}};setTimeout((function(){i.collect.requestManager.useRequesd 0erty("teaIdx"))return!0;if(e.hasAttribute&&e.hasAttribue.hasAttribute("data-tea-container"))return!0;if(i&&e.hasAttribute&&e.hasAttribute(i))return!0}return!1}function we(e,t){for(var i=e;i&&!Ee(i,"container",t.container_attr||"");){if("HTML"===i.nodeName||"BODY"===i.nodeName)return e;i=i.parentElement}return i||e}var Se=function(e,t){return e.hasAttribute?e.hasAttribute(t):e.atar i=!1,n=0;n<t.length;n++){if(Se(e,t[n])){i=!0;break}}return i}};function Te(e,t){if(1!==e.nodeType)return!1;it,i=!1;t;)"svg"===t.tagName.toLowerCase()?(t=null,i=!0):t=t.parentElement;return i}(e))return!1;if(["turn"none"!==i.style.d==i.nodeName)return n;ldren;return![].slice.call(t).some((function(e){return e.children.length>0}))}return!0}(i)||t.svg))}var Ae=function(){function t(t,i,n){var o=this;this.sions)&&o.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){o.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){o.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(t,i){i&&"pushState"===i&&o.eventHandel({eventType:"dom"Name:"page_view"},t)lcp:e})},this.config=n.getConfig().eventConfig,this.collect=i,this.options=t,this.beatTime=t.beat,this.domContainer=t.containefunction(e){this.eventHandel=e;var t=this.config.mog.click&r("click",this.clickEvent,!0)),this.config.pv){this.collect.on("route-change",(function(e){var i=e.config,n=e.name;t.getPageVirTimeout(i))}),2e3)}if(this.config.beat){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",(function(){t.beatEvent(t.beatTime)}));var n=0,o=null;window.addEventListener("scroll",(function(){clearTimeout(o),o=setTimeout(r,500),n=document.documentElement.scrollTop||document.body.scrollTop}));vt.body.scrollTop)==n&&t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catcgetPageLoadEvent(a[0].startTiremoveEventListener("click",this.clickEvent,!0)},t.prototype.beatEvent=function(e){var t=this;try{var i;this.eventHandel({eventType:"dom",e{beat_type:0}),t.beatTime&&clearInterval(i)}))}catch(e){}},t.prototype.getDefaultConfig=function(){return{is_html:1,url:location.href,referrer:document.referrat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},Ce=function(){function s.config},e.pt;var i=[],n=[];return t.forEach((function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,i=e.parentElement;if(i)for(var n=i.children,o=0;o<n.length&&n[o]!==e;o++)n[o].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),Ee(e,"list")?"[]":""].join(""),index:t}}(e),o=t.str,r=t.index;i.unshift(o),n.unshift(r)})),{element_path:"/"+i.join("/"),positions:n}}function Ge(e,t,i,n){var o={},r=function(e){if(e){var t=e.getBoundingClientRect(),i=t.width,n=t.height;return{left:t.left,top:t.top,element_width:i,element_height:n}}}(t=we(t,i)),a=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var i=e.clientX,n=e.clientY,o=t.left,r=t.top,a=i-o>=0?i-o:0,s=n-r>=0?n-r:0;return{touch_x:Math.floor(a),touch_y:Math.floor(s)}}(=r.element_height,h=a.touch_x,u=a.touch_y,p=Me(t),d=p.element_path,f=p.positions,g=function(e,t){var i=we(e,t),n=[];return function e(t){var i=function(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}(t);if(i&&-1===n.indexOf(i)&&n.push(i),t.childNodes.length>0)for(var o=t.childNodes,r=0;r<o.length;r++)8!==o[r].nodeType&&e(o[r])}(i),n}(t,i),m=window.performance.timing.navigationStart,_=Date.now()-m,v=f.map((function(e){return""+e})),z=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(z=window.TEAVisualEditor.getOrig,o.element_path=z&&z.xp).replace(/\s+/g,","):e.innerText&&(t=e.innerText.trim().replace(/\s+/g,",")),"input"!==e.tagName&&"INPUT"!==e.tagName||(t=e.value||"")}finally{return t}}(t)),o.element.flotypew.-type":"awindow.TEAVisualEditor.__editor_ajax_domain||m.get("_TEA_VE_APIHOST"),i=window.TEAVisualEditor.__editor_verison=window.TEAVisualEditor.__editor_verison||m.get("_VISUAL_EDITOR_V"),n=window.TEAVisualEditor.__editor_url=window.TEAVisualEditor.__editor_url||m.get("_VISUAL_EDITOR_U")",t,{expires:r}),m.set("_VISUAL_EDITOR_U",n,{expires:r}),m.set("lang",e,{expires:r}),m.set("_VISUAL_EDITOR_V",i||"",{expires:r})}catch(e){console.log("set cookie err")}}var Be=!1;function Ne(e){var t=e.event,i=e.editorUrl,n=estroy()}),(function(){t&&oe(t,"editorScriptloadError"),Be=!1})))}function je(e,t){window.TEAVisualEditor=window.TEAVisualEditor||{};var i="",n=D+"?query="+Date.now();window.TEAVis1"===m.get("_TEA_VE_OPEN")){var u=function(){ualEditor.__editor_ajax_domain=u,p=m.get("_VISUAL_EDITOR_U")),Ne({event:nullt.data)try{a=JSON.parse(t.data)}catch(e){a=void 0}if(a){var s=a.referrn,o){var l=a.version;i=r?""+r+(l?"/visual-editor-rangers-v"+l:"/visual-editor-rangers-v1.0.0")+".js":n,window.TEAstance:e}),Re()}})),window.TEAVisualEditor.openAutotrackEditor=function(){Ne({event:null,editorUrl:window.TEAVisualEditor.__editor_url,autoTrackInstance:e})}}catch(e){console.log("receive message error")}try{re("tea:openHeatMapCore",(function(i){var n=G,o=i.data.app_id;o&&o!==t.app_id||Ne({event:i,editorUe,Pe=function(){function e(e){this._instance=null,this._intersection=e,this.init()}return e.prototype.init=function(){var e=this;if(window.MutationObserver)try{this._instance=new MutationObserver((function(t){t.forEach((function(t){"attributes"===t.type&&e.attributeChangeObserve(t),"childList"===t.type&&e.modifyNodeObserve(t)}))})),this._instance.observe(document.body,{childList:!0,attributes:!0,subtreease update")},e.prototypre")?this.exposureAdd(e,"mun(e){var t=this;Array.from(e.addedom",eecting){if("0"===e.target.style.opacity||"hidden"===e.target.style.visibility)rction(e){this.instct")}))},e}(),qe={hashTag:!1,impr:!1},Ke=function(){function e(){}return e.prototype.apply=function(e,t){if(this.autoTrackStart=!1,this.collect=e,this.config=t,t.autotrack){var i=e.Types;t.autotrack&&t.aready(i.Autotrack),thi){try{var i=e.eventNent",extra:{methods:"GET"}},n)}else if("page_view"===i||"page_statistics"===i){var o=voiEventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},o)}else if("beat"===i){var r=this.EventHandle.handleBeadtEvent(t),a=e.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:a},r)}}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},e.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},e}();try{var He=Z();He&&(He.LogAutoTrack=function(e,t){(new Ke).apply(e,t)})}catch(e){}!function(e){e.Net="net",e.FailNet="f_net",e.FailData="f_data"}(Ue||(Ue={}));var Je={pv:["pre_set","__profile_set_once","__profile_increment","__profile_unset","__profanager.getUrl("event");varhis.tracerCache=newprocessTracer(i,e,t))}erCount=function(e,t,i,n){var o=this;try{if(e&&e.length){var r=e[0].events;r&&r.length&&("f_data"===t?(n&&n.hasOwnProperty("sc")?this.addCount("log",t,r.length-n.sc):this.addCount("log",t,r.length),this.errorCode[t]=i):r.forEach((function(e){var n="log";for(var r in Je)if(-1!==Je[r].indexOf(e.event)){n=r;break}o.addCount(n,t,1),o.errorCode[t])}))})),t&&t.length&&totype.sendTracer=function(e,t){try{var i=this.collect.eventManager.merge(e);this.collect.requestManager.useRequest({ype.processTracer=function(e,t,i){var n={count:e,state:i,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:"5.1.14"};"f_net"!==i&&"f_data"!==i||(n.errorCode=this.errorCode[i]);var o=this.collect.processEvent("applog_trace",n);if(o&&o.event)return delete o.is_bav,o},e.prototype.listener=function(){var e=this;document.addEventListener("visibilitychange",(functioePage()})),h((function(){e.leavePage()}))},e.prototype.leavePage=function()r.getUrl("event"),this"!==e.type&&i.storeData(e)})),e.on(n.Ready,(function(){i.checkStorage()}))}},e.prototype.retryRightNow=function(e){var t=this;if(this.retryStatus)this.errorCache.push(e);else{var i=0;this.retryStatus=!0;var n=setInterval((function(){if(3===i)return t.storeData(t.errorCache),t.retryStatus=!1,void clearInterval(n);var o=e.eventData;t.fetchData(o,(functi++}))}),this.retryInterval)}},e.prototype.storeData=function(e){var t=this.storage.getItem(this.eventKey),i=e.eventData;Object.keys(t).length!==this.storageNum&&(t[Date.now()]=i,this.storage.setItem(this.eventKey,t))},e.prototype.checkStorage=function(){var e=this;try{if(!window.navigator.onLine)return;var t=this.storage.getItem(this.eventKey);if(!t||!Object.keys(t).length)return;var i={events:[{event:"ontest",params:{app_id:this.config.app_id.fetchData([i],(functioly(e,t)})}catch(e)ry="+Date.now();e.exnd error")}},e.prototypction(e,t,i){try{ifde "+e+" success")}else adPlugin=function(efunction e(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return e.prototype.apply=function(e,t){if(t.spa||t.autotrack){var i=e.Types;this.collect=e,this.config=t,this.appid=t.app_id,this.allowHash=t.allow_hash,this.fncArray=new Map,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),e.emit(i.RouteReady)}},e.prototype.setKey=function(){var e=this.collect.adapters.storage;this.storage=new e(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:"",refer_title:document.title||location.pathname,refer_manual_key:"",routeChange:!1},this.config.autotrack&&"object"==typeof this.config.autotrack&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(i){for(var o=[],r=1;r<arguments.lengthypeof history.onpushstat a=t.call.apply(tferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(s,"pushState"),a}}};var i=history.replaceState;history.replaceState=function(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];if(!e.collect.sdkStop&&!e.collect.destroy){"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var a=i.call.apply(i,n([history,t],o));if(e.lastLocation!==location.href){var s=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(s),a}}}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocatio(){return this.lastLocation},e.prototype.init=function(){var e=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:e,init:!0})},e.prototype.listener=function(){var e=this;window.addEventListener("hashchange",(function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&e.lastLocation!==window.location.href&&e.allowHash){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var i=e.getPopStateChangeEventData();e.sendPv(i)}})),window.addEventListener("popstate",(function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&e.lastLocation!==window.location.href){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var i=e.getPopStateChangeEventData();e.sendPv(i)}}))},e.prototype.getPs_back=0,e},e.prototype.location.href,referrer:thikey:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:e&&e.refer_manual_key||"",refer_page_title:e&&e.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:"UGGER_MESSAGE_SDK,info:"ÂèëÁîülect.configManager.get(;try{var et=Z();et&&(et.LogRoute=function(e,t){(new Ze).apply(e,t)})}catch(e){console.log(e)}var tt=["getConfig","getAbSdkVersion","getSessionId"],it=["init","usePlugin","autoInitializationRangers","on"],nt=function(){function e(e){this.task=[],this.Collector=e,this.collectMap=new Map}return e.prototype.processTask=function(){var e=this;if(this.task.length){var t=this.findIndex(this.task,it,"0");-1!==t?(this.processCmd.apply(this,n(this.task[t])),this.task.forEach((function(i,o){o!==t&&e.e[t]=arguments[t];if(s(e)n(e,t,i){try{if(-1!==it.indexOf(t)&&(this.collectMap.get(e)||(this.collect=new this.Collector(e),this.collectMap.set(e,this.collect))),!this.collectMap.get(e))return void console.log("init or use must be first call, cmd: "+t);var o=this.collectMap.get(e);if(o&&o[t])if("event"pe.processScope=function(e){var t="default";try{if("string"==typeof e&&e.indexOf(".")>-1){var i=e.split(".");t=i[0],e=i[1]}}catch(i){return{scope:t,cmd:e}}return{scope:t,cmd:e}},e}();Y.usePlugin(Ye,"extend"),Y.usePlugin(pe,"ab"),Y.usePlugin(_e,"stay"),Y.usePlugin(Ke,"autotrack"),Y.usePlugin($e,"retry"),Y.usePlugin(fe,"et"),Y.usePlugin(ze,"profile"),Y.usePlugin(ye,"heartbeat"),Y.usePlugin(be,"monitor"),Y.usePlugin(Ze,"route"),Y.usePlugin(We,"tracer"),function(e){if("undefined"!=typeof window){var t=function(){if("undefined"!=typeof window)return window.LogAnalyticsObject||window.TeaAnalyticsObject}();if(t&&window[t]){var i=window[t];i.sdkLoad?console.log("you page has load sdk file already, do not load another sdk file"):(e.task=i.q||[],window[t]=e.processCmd.bind(e),window[t].sdkLoad=!0,e.processTask())}}}(new nt(Y))}();
