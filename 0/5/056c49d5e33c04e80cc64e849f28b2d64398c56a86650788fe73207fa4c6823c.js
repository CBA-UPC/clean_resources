(function(){var n="0.2.1",t,a="undefined",e=25,r=parseInt(1e3/e),i=t,o={"function":!0,object:!0},s={DEBUG_MODE:!1,counterID:"511",instanceID:"externalConf###Instanceid"},u=c="HISTATS_CANVAS_DEBUG_ON";s.DEBUG_MODE=u(window[c])&&1==window[c];var A=function(){return s.instanceID},f="_HistatsCounterGraphics_",d,g=function(){return f+s.counterID},l=h=v=function(a,e){var o=a||{};try{var c=A={ANIMATION_RUNNING_STATUS:!0,ANIMATION_STARTED:!1,AUTOSTART:c(o),_STOPPED:!1,INSTANCE_ID:"-"+parseInt(1e4*Math.random())},f=function(){return A.INSTANCE_ID},l=100,v=1,w=function(){return e.document},m=p=b=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||p,C=e["Date"]||{},S=o.getInstanceID=f;var T=g();o.IS_HISTATS_CANVAS=!0,o.globalObjectName=T,o.$window=e;var x=B={w:0,h:0,yBase:0,xBase:0,hasShadow:!1,hasLabel:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:1,doMouseOverOut:1},N={msLastFrameDrawn:0,msPerFrame:r,frameCounter:0,isInAnimationTransition:!1,animation_duration_inFrames:20,waitframesBetweenTwoAnimations:80,framesBetweenTwoAnimations:100,currentLoopFrame:0,autoTriggerTextChange_onFrame:t,customization:{}},I={domCanvasObject:null,canvas2dContext:null,canvasProperties:B},E=),O=function(){return s.counterID},F=_=y=[],D=P=R=k=U=Q=L=M=G=j=q=X=function(n,t,a){t.addEventListener?t.addEventListener(n,a,!1):t.attachEvent?t.attachEvent("on"+n,a):t[n]=a},W=z=J=H=Y=V=E.subscribe("setAnimationProperties",,E.subscribe("draw-callback-publish-reconfiguration",,E.subscribe("configuration-changed",;var Z=K=function(){return I},$=nn=tn=an=en=rn=E.subscribe("setCanvasProperties",rn,10);var on=E.subscribe("clear-canvas-rectangle",on,10);var sn=un=cn=E.subscribe("draw-callback-requested-reconfiguration",cn,15),o.__CODE_VERSION=n,o.getCanvasObject=K,o.getCanvas2dContext=function(){return K().canvas2dContext},o.onCanvas2dContext=an,o.getXYCanvas=o.addDrawCallback=z,o.getCanvasProperties=o.setCanvasProperties=o.updateCanvasProperties=o.getAnimationFrames=function(){return N.frameCounter},o.getAnimationControl=function(){return N},o.setAnimationControl=function(n){for(var t in n)n.hasOwnProperty(t)&&(N[t]=n[t])},o.start=W,o.changeRunningStatus=Z,o.getRunningStatus=function(){return A.ANIMATION_RUNNING_STATUS},o.eventBus=E,o.getDebugMode=function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var t=n.bars={},a=!1,e=3,r=1,i=0,o=[2,5,10];n.eventBus.subscribe("set-bars-params",function(t){A(t),n.eventBus.publish("configuration-changed",{})});var s=[],u={xBase:5,yBase:13,hMin:2,hMax:10,w:4,barsColours:[["#3e8bfd","#2572e4"],["#feb23f","#dc901d"],["#d83f3f","#b41b1b"]],parent:n},c=function(){return u},A=f=function(n){a=!0;for(var t=0;t<e;t++)n.push({x:t*(u.w+1),y:0,width:u.w,height:o[t],animateDirection:r,gradient:null,gradientStart:u.barsColours[t][0],gradientEnd:u.barsColours[t][1]})},d=function(t){var a=.5,e=t.height,o=n.getXYCanvas();t.animateDirection==r&&e>=u.hMax?t.animateDirection=i:t.animateDirection==i&&e<=u.hMin&&(t.animateDirection=r),e+=a*(t.animateDirection==r?1:-1),t.y=u.yBase-e+o.y,t.height=e},g=function(t){return function(a){var e=n.getXYCanvas();a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,a.beginPath(),a.fillStyle=v(t,a),a.fillRect(e.x+u.xBase+t.x,t.y,t.width,t.height)}},l=n.eventBus.subscribe("draw-callback-requested-reconfiguration",l,11);var h=function(){a||f(s);for(var t in s)if(s.hasOwnProperty(t)){var e=s[t];d(e),n.onCanvas2dContext(g(e))}},v=function(t,a){var e=n.getXYCanvas(),r=u.xBase,i=a.createLinearGradient(r+t.x+e.x,t.y,r+t.x+t.width,t.height+t.y);return i.addColorStop(0,t.gradientStart),i.addColorStop(1,t.gradientEnd),i};t.getBoxProperties=c,t.setBoxProperties=A,t.transformBarsColour=t.draw=h}.call(o),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var t=n.effectLightLine={},a=e={x:0,y:0,width:0,height:0,colorStops:[]},r=function(n){var t=n.createLinearGradient(e.x,e.y,e.x+e.width,e.y);e.colorStops.forEach(,n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height)};t.addColorStop=a,t.draw=r,t.getProperties=t.setProperties=.call(o),call(o),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var a=n.counter={};a.ID="511",a.properties={w:95,h:16,hasShadow:!0};var e=!1,r={backgroundImageObject:t},i={xBase:3,yBase:13,barsColours:[["#8ab9fd","#117ae3"],["#fec745","#eb8a26"],["#76fd1c","#3db31c"]]},o={animation_duration_inFrames:20,autoTriggerTextChange_onFrame:10,waitframesBetweenTwoAnimations:110};n.eventBus.publish("setCanvasProperties",a.properties),n.eventBus.publish("setAnimationProperties",o),n.eventBus.publish("set-bars-params",i);var s={light:{x:0,y:0,w:10,h:16,movementsPerFrame:1,xStart:0,xEnd:85}},u=function(n){var t=s;t.light.movementsPerFrame=(s.light.xEnd-s.light.xStart)/o.animation_duration_inFrames};u(o.animation_duration_inFrames);var c=function(t){var a=s,e=n.getXYCanvas();a.light.x+=a.light.movementsPerFrame;var r=t.createLinearGradient(e.x+a.light.x,e.y+a.light.y,e.x+a.light.x+a.light.w,e.y+a.light.y);r.addColorStop(0,"rgba(255,255,255,0)"),r.addColorStop(.5,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=r,t.fillRect(e.x+a.light.x,e.y+a.light.y,a.light.w,a.light.h)},A=f=function(n,t){var a=s;t.isInAnimationTransition?c(n):a.light.x=a.light.xStart},d=return n.eventBus.subscribe("draw-callback-requested-reconfiguration",d,13),n.eventBus.subscribe("background-image-loaded",13),n}.call(o),A.AUTOSTART&&o.start()}catch(An){}return o},w="base.js",m=window,p="_DEBUG_HISTATSCANVAS_RETURN_BUILDER";_value_RETURN_BUILDER=u(window[p])&&window[p]===!0,window[g()]=v,window["histats_canvascounters_"+w]=v}).call(this);