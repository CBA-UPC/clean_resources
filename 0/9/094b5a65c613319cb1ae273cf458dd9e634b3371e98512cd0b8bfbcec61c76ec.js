(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5696],{54118:function(e,t,r){"use strict";r.d(t,{V:function(){return s}});var n=r(57611),l=r(67597);r(76398),r(80699);var o=r(71541),a=r(91159);r(49853),r(29493);var i=r(70355);let s=e=>{let t=(0,l.useRef)(null),s=(0,l.useRef)(null),u=(0,l.useRef)(null),{config:c,onReady:d,playlist:v}=e,f=(0,l.useMemo)(async()=>{let e=Promise.resolve().then(r.bind(r,53833)),t=r.e(4348).then(r.bind(r,44348)),n=r.e(1354).then(r.t.bind(r,51354,23)),l=Promise.all([r.e(1354),r.e(3516)]).then(r.t.bind(r,63516,23)),o=r.e(9699).then(r.bind(r,29699));return Promise.all([e,t,n,l,o])},[]),p=async()=>{if(s.current||t.current){var e;null===(e=s.current)||void 0===e||e.dispose()}let r=t.current;if(null===r||void 0==c){a.W.error("Could not initialize VideoJSPlayer: Missing configurations or a placeholder element.");return}let n=r.appendChild(document.createElement("video"));n.classList.add("video-js","vjs-big-play-centered");try{let e=await f,t=e[0].default,r=e[2],l=t(n,c,()=>{d(l,u.current,r)});s.current=l,void 0!==l.playlist&&(l.playlist(v),l.playlist.autoadvance(0))}catch(e){a.W.error(e)}};return(0,o.q)(,(0,l.useEffect)(()=>{let e=async()=>{try{u.current=await (0,i.Z)()}catch(e){a.W.warn("Could not load Google IMA SDK")}};e()},[s]),(0,l.useEffect)([c,v]),(0,l.useEffect)(()=>()=>{let e=s.current;e&&(e.dispose(),s.current=null)},[s]),(0,n.jsx)("div",{ref:t})}},49274:function(e,t,r){"use strict";.d(t,{L:function(){return n}})},49514:function(e,t,r){"use strict";r.d(t,{V:function(){return l}});var n=r(67597);let l=e=>{let t=(0,n.useRef)(null),r=(0,n.useRef)(0);return(0,n.useEffect)(()=>(e?t.current=setInterval(1e3):t.current&&(clearInterval(t.current),r.current=0),,[e]),r}},71541:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var n=r(67597);let l=e=>{let t=(0,n.useRef)(e),r=(0,n.useRef)(),l=(0,n.useRef)(!1),o=(0,n.useRef)(!1),[,a]=(0,n.useState)(0);l.current&&(o.current=!0),(0,n.useEffect)(()=>(l.current||(r.current=t.current(),l.current=!0),a(,()=>{o.current&&void 0!==r.current&&r.current()}),[])}},61060:function(e,t,r){"use strict";r.d(t,{p:function(){return o}});var n=r(67597);let l="safari-fullscreen-video-layers-fix",o=()=>{let e=(0,n.useRef)({isFullScreen:!1,wasFullScreen:!1});return(0,n.useEffect)(()=>{function t(){let t=document,r=Boolean(t.fullscreenElement)||Boolean(t.webkitFullscreenElement);e.current.isFullScreen=r,r&&(e.current.wasFullScreen=!0),document.body.classList.toggle(l)}return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.body.classList.remove(l)}},[]),e}},13608:function(e,t,r){"use strict";r.d(t,{j:function(){return l}});var n=r(67597);let l=e=>{let t=(0,n.useRef)();(0,n.useEffect)(()=>{t.current=t=>{let r=e(t);return"string"==typeof r?t.returnValue=r:t.defaultPrevented?t.returnValue="":void 0}},[e]),(0,n.useEffect)(()=>{let e=return window.addEventListener("beforeunload",e),,[])}},83792:function(e,t,r){"use strict";r.d(t,{g:function(){return f}});var n=r(52918),l=r(57611);r(67597);var o=r(9134),a=r.n(o),i=r(41674),s=r.n(i),u=r(61395),c=r(50370);function d(){let e=(0,n.Z)(["ADBLOCKER_BANNER_HEADLINE"]);return d=function(){return e},e}et f=()=>{let{t:e}=(0,u.Z)("web-payments");return(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:a()(s().videoJs,s().banner),children:[(0,l.jsx)(c.J,{src:"https://images.onefootball.com/cw/icons/watch-now-light.svg",alt:"",height:40,width:40,className:s().playIcon}),(0,l.jsxs)("div",{className:a()(s().videoJs,s().msg),children:[(0,l.jsx)(c.J,{src:"https://images.onefootball.com/cw/icons/info-dark.svg",alt:"",height:40,width:40,className:s().infoIcon}),(0,l.jsx)("p",{className:a()("title-3-bold",s().title),children:e(d())}),(0,l.jsx)("p",{className:a()("title-6-bold",s().subtitle),children:e(v())})]})]})})}},51410:function(e,t,r){"use strict";r.d(t,{d:),(n=l||(l={})).Ready="ready",n.Play="play",n.Pause="pause",n.Ended="ended",n.Error="error",n.Playlistitem="playlistitem";var n,l,o=r(67597),a=r(26098),i=r(91159),s=r(95123),u=r(49514),c=r(61060),d=r(12718),v=r(86376),f=r(61247);let p=e=>{var t,r;let{player:n,options:l,durationRef:o,fullScreenRef:a,wasFinished:i}=e;if((0,d.Y)(n))return;let s=null!==(r=null===(t=n.playlist)||void 0===t?void 0:t.currentItem())&&void 0!==r?r:-1,u=null==l?void 0:l.playlist[s];if((0,d.Y)(u)||(0,d.Y)(u.trackingEvents))return;let c=u.trackingEvents.filter(.map(e=>{let{typedServerParameter:t,clientParameterRequests:r}=e,n=r.reduce((e,t)=>{switch(t.type){case v.nS.PARAMETER_VIDEO_PLAYBACK_DURATION_SECONDS:e[t.key]={type:v._4.INTEGER,value:o.current.toString()};break;case v.nS.PARAMETER_VIDEO_ENTERED_FULLSCREEN_MODE:e[t.key]={type:v._4.BOOLEAN,value:a.current.wasFullScreen.toString()};break;case v.nS.PARAMETER_VIDEO_FINISHED:e[t.key]={type:v._4.BOOLEAN,value:i.toString()}}return e},{}),l={...e,typedServerParameter:{...n,...t},trackers:e.trackers};return l});0!==c.length&&f.N.sendXpaTracking(c,v.tw.VIDEO_PLAYED)};var m=r(39153),y=r(58385),g=r(27056),h=r(49274),E=r(13713);let b=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.W;try{let r=new URL(e);if(void 0!==t){var n;let e=decodeURIComponent(null!==(n=r.searchParams.get("cust_params"))&&void 0!==n?n:""),l=new URLSearchParams(e);(0,m.m)(t).forEach(e=>{let[t,r]=e;l.set(t.replace(/[A-Z]/g,,r)}),r.searchParams.set("cust_params",l.toString())}return r.toString()}catch(n){let t=n instanceof Error?n.message:"Unknown error occurred constructing URL from ".concat(e);return r.error(t),""}},_=()=>{let e={key:g.A.AdBlockerBanner,value:"hide",expires:(0,h.L)(24)};y.l.put(e)},k=(e,t)=>{let r=document.querySelector("[src='".concat(e,"']"));if(r&&t){t();return}let n=document.createElement("script");n.src=e,n.defer=!0,document.body.appendChild(n),n.onerror=()=>{t&&t()},n.onload=;function w(e){let t={};return Object.entries(e).forEach(e=>{var r;let[n,l]=e;switch(null===(r=l.kind)||void 0===r?void 0:r.$case){case"stringValue":t[n]=l.kind.stringValue;break;case"intValue":t[n]=l.kind.intValue;break;case"boolValue":t[n]=l.kind.boolValue;break;case"doubleValue":t[n]=l.kind.doubleValue;break;default:i.W.error("Could not parse Youbora configuration. Unexpected value.")}}),t}var A=r(13608);let I="https://imasdk.googleapis.com/js/sdkloader/ima3.js";var S=r(71541);let N=e=>{var t,r,n,l,o;let{player:i,options:s}=e,u=Boolean(window.google)&&(null==i?void 0:i.ima)!==void 0,c=null===(t=null===(r=null==s?void 0:s.playlist[0])||void 0===r?void 0:r.ads[0])||void 0===t?void 0:t.urls[0],d=null===(n=null===(l=null==s?void 0:s.playlist[0])||void 0===l?void 0:l.ads[0])||void 0===n?void 0:n.customParameters;if(u&&(0,a.C)(c)){let e=b(c,d);null===(o=i.ima)||void 0===o||o.call(i,{adTagUrl:e})}};var R=r(16922);let C=e=>{var t;let{youbora:r,options:n,player:l}=e,o=new r.Plugin({accountCode:R.iM.youboraAccountCode}),a=null===(t=null==n?void 0:n.playlist[0])||void 0===t?void 0:t.youboraConfig;if(void 0!==a){let e=w(a);o.setOptions(e);let t=new r.adapters.Videojs(l);o.setAdapter(t)}return o},P=e=>{var t,r;let{player:n,event:l}=e,o=null===(t=n.playlist)||void 0===t?void 0:t.call(n)[n.playlist.currentItem()],a=null===(r=null==o?void 0:o.ads[0])||void 0===r?void 0:r.adTrackingEvents;if((0,d.Y)(a)||0==a.length)return;let i=l.getAd();if(i){let e;let t=i.getAdPodInfo(),r=i.getDuration().toString(),n=t.getPodIndex();switch(n){case 0:e="preroll";break;case -1:e="postroll";break;default:e="midroll"}let l=t.getAdPosition().toString(),o=i.getAdId();a.forEach(t=>{let n={ad_duration:{type:v._4.INTEGER,value:r},ad_type:{type:v._4.STRING,value:e},ad_unit_id:{type:v._4.STRING,value:o},pod_position:{type:v._4.STRING,value:l},network_name:{type:v._4.STRING,value:"Google"}},a={...t,typedServerParameter:{...n,...t.typedServerParameter}};f.N.sendXpaTracking([a],v.tw.VIDEO_AD_STARTED)})}},D=e=>{let{id:t,videoJsOptions:r,events:n}=e,v=(0,o.useRef)(null),{playingId:f,setPlayingId:m}=(0,o.useContext)(s.d),[h,R]=(0,o.useState)(!1),[D,L]=(0,o.useState)(!1),T=(0,u.V)(h),j=(0,c.p)(),[x,V]=(0,o.useState)(!1),O=(0,o.useCallback)(e=>{e.on(l.Play,()=>{var r;(0,a.C)(m)&&t!==e.id()&&m(t),R(!0),null==n||null===(r=n.onPlay)||void 0===r||r.call(n)}),e.on(l.Pause,()=>{var t;e.currentTime()!==e.duration()&&R(!1),null==n||null===(t=n.onPause)||void 0===t||t.call(n)}),e.on(l.Ended,()=>{var e,t;L(!0),R(!1),p({player:null!==(t=v.current)&&void 0!==t?t:null,wasFinished:D,options:r,durationRef:T,fullScreenRef:j}),null==n||null===(e=n.onEnd)||void 0===e||e.call(n)}),e.on(l.Playlistitem,()=>{var t;L(!1),null==n||null===(t=n.onPlaylistNewItem)||void 0===t||t.call(n,e)}),e.on(l.Error,()=>{var e;i.W.warn("VIDEOJS error. Playback time in seconds ".concat(T.current)),null==n||null===(e=n.onError)||void 0===e||e.call(n)})},[T,n,j,t,m,r,D]),U=(0,o.useCallback)(e=>{var t,o;let i=v.current;if(!i)return;N({player:i,options:r});let s=C({youbora:e,player:i,options:r}),u=null===(t=null==r?void 0:r.playlist[0])||void 0===t?void 0:t.drm,c=null===(o=null==r?void 0:r.playlist[0])||void 0===o?void 0:o.sources[0];void 0!==u&&(null==c?void 0:c.src)!==void 0&&(u.fpCertificateUrl?function(e,t,r){let n=t.fpCertificateUrl;void 0!==e.eme&&e.eme();let l={src:r.src,type:r.type,keySystems:{"com.apple.fps.1_0":{certificateUri:n,licenseUri:t.processSpcUrl,getContentId:""!==t.processSpcUrl?null:function(e,t){let r=function(e){let t=new Uint16Array(e.buffer);return String.fromCharCode.apply(null,Array.from(t))}(t);if(r.includes("skd://")){var n;let e=null!==(n=r.split("skd://")[1])&&void 0!==n?n:"";return e.substr(0,32)||""}throw Error("Invalid Content ID format. The format of the Content ID must be the following :skd://xxx where xxx is the Key ID in hex format.")},getLicense:""!==t.processSpcUrl?null:function(e,r,n,l){let o="spc="+function(e){let t,r,n,l,o,a,i;let s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;for(;c<e.length;)t=e[c++],r=c<e.length?e[c++]:Number.NaN,n=c<e.length?e[c++]:Number.NaN,void 0!==t&&void 0!==r&&void 0!==n&&(l=t>>2,o=(3&t)<<4|r>>4,a=(15&r)<<2|n>>6,i=63&n,isNaN(r)?a=i=64:isNaN(n)&&(i=64),u+=s.charAt(l)+s.charAt(o)+s.charAt(a)+s.charAt(i));return u}(n)+"&assetId="+r;fetch("https://fp-keyos.licensekeyserver.com/getkey",{method:"POST",headers:{customdata:t.token},body:o}).then(e=>{if(!(0,E.M)(e.status))throw Error(e.statusText);return e.text()}).then(e=>{l(null,e))}).catch(}}}};e.src(l)}(i,u,c):function(e,t,r){let n=t.token;void 0!==e.eme&&e.eme({emeHeaders:{customdata:n}});let l={src:r.src,type:r.type,keySystems:{"com.widevine.alpha":t.widevineUrl||"https://wv-keyos.licensekeyserver.com/","com.microsoft.playready":t.playreadyUrl||"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx"}};e.src(l)}(i,u,c)),i.on(l.Playlistitem,()=>{var e;if((0,a.C)(i.playlist)&&0!==i.playlist.currentItem()){let e=i.playlist()[i.playlist.currentItem()];if(Boolean(window.google)&&void 0!==i.ima&&(null==e?void 0:e.ads[0])!==void 0&&void 0!==e.ads[0].urls[0]){let t=b(e.ads[0].urls[0],e.ads[0].customParameters);i.ima.changeAdTag(t),i.ima.requestAds()}if((null==e?void 0:e.youboraConfig)!==void 0){let t=w(e.youboraConfig);s.setOptions(t)}}null==n||null===(e=n.onPlaylistNewItem)||void 0===e||e.call(n,i)})},[n,r]),B=(0,o.useCallback)((e,t)=>{e.one("ads-manager",r=>{let{adsManager:n}=r;null!==t&&n.addEventListener(t.AdEvent.Type.STARTED,})},[]),M=(0,o.useCallback)((e,t,r)=>{v.current=e,O(e),U(r),B(e,t)},[B,U,O]);return(0,o.useEffect)(()=>{if(!(0,d.Y)(v.current))try{N({player:v.current,options:r})}catch(e){i.W.error("useVideoPlayer: something went wrong"+JSON.stringify(e))}},[v,r]),(0,o.useEffect)(()=>{let e=T.current;return()=>{(0,a.C)(v.current)&&e>0&&p({player:v.current,wasFinished:D,options:r,durationRef:T,fullScreenRef:j})}},[T,j,r,D]),(0,o.useEffect)(()=>{x&&(0,a.C)(v.current)&&(v.current.player().dispose(),v.current=null)},[x]),(0,o.useEffect)(()=>{if(f!==t){var e;null===(e=v.current)||void 0===e||e.pause()}},[t,v,f]),(0,S.q)(()=>{let e=y.l.get(g.A.AdBlockerBanner);void 0==e||"hide"!==e?fetch("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",cache:"no-store"}).then(e=>{if(!(0,E.M)(e.status))throw Error(e.statusText);k(I)}).catch(()=>{var e;V(!0),null===(e=v.current)||void 0===e||e.dispose(),_()}):k(I)}),(0,A.j)(()=>{var e;(0,a.C)(v.current)&&T.current>0&&p({player:v.current,wasFinished:D,options:r,durationRef:T,fullScreenRef:j}),null===(e=v.current)||void 0===e||e.dispose(),v.current=null}),{playerRef:v,playingId:f,initPlayerOnReady:M,showAdBlockerBanner:x}}},41674:25893:]);
//# sourceMappingURL=5696-aaf4a52b12b13dc4.js.map