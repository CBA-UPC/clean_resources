"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6685],{88331:function(e,t,r){r.d(t,{Z:);var n=r(27378),a=r(87062),i=r(68442),l=r(5977),o=r(52802);var c=(0,i.default)("div",{target:"e1ch4aay0",label:"FullHeightWrapper"})({name:"13udsys",styles:"height:100%"}),u=e=>{var{context:t,children:r,isFullHeight:i}=e;return n.createElement(a.iL,{context:t},i?n.createElement(c,{lang:(0,o.pD)(t)},r):r)},s=(0,n.createContext)(),d=()=>(0,n.useContext)(s),m=(0,n.createContext)(),p=(0,n.createContext)(),f=v=e=>{var{context:{language:t,variant:r,uploaderStrings:a,brandLogoUrlRecipe:i,backLinkUrl:l,isEmbedded:o},baseHeadingLevel:c,children:d}=e,m={variant:r,isEmbedded:o,isFirstRenderRef:(0,n.useRef)(!0),baseHeadingLevel:null!=c?c:1,brandLogoUrlRecipe:i,backLinkUrl:l};return n.createElement(u,{context:t,isFullHeight:!o},n.createElement(s.Provider,{value:a},n.createElement(p.Provider,{value:m},d)))},g=e=>{var{setPageTitle:t}=e,{pageTitle:r}=d();return t&&t(r),null},E=r(73503),y=r(30540),b=r(81458),h=r(92371),O=r(40),S=r(55163),R=r(39164),P=r(51663),I=r(63640),w=r(95282),k=r.n(w),C=r(25252),T=r(75622),_=["tracking","children"];function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}ar j=()=>{var{analytics:e}=d(),t=(0,n.useContext)(m);return r=>{var{name:n,itemType:a,text:i,url:l,position:o}=r,c={item:{name:n,type:a,text:i,url:l,position:o},group:T.R[t]};return k()({},e,c)}},D=e=>{var{tracking:t,children:r}=e,a=N(e,_),i=j();return n.createElement(C.f,A({tracking:i(t)},a),()},x=(0,i.default)("div",{target:"e1t1q76u3",label:"StyledPageBackground"})("background-color:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";position:relative;@media (min-width: ",b.TN,"){background-image:",(,";background-size:cover;background-attachment:fixed;background-position:top;padding:",h.SPACING_11," 0;height:100%;box-sizing:border-box;}"),L=(0,i.default)("div",{target:"e1t1q76u2",label:"CloseButtonWrapper"})("background-color:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";display:flex;position:absolute;top:",h.SPACING_4,";right:",h.SPACING_4,";"),M=(0,i.default)("div",{target:"e1t1q76u1",label:"StepPanel"})("padding:0 ",h.SPACING_4," ",h.SPACING_4," ",h.SPACING_4,";background-color:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";@media (min-width: ",b.TN,"){max-width:",(0,O.s)(510),";box-sizing:border-box;padding:0 ",h.SPACING_7," ",h.SPACING_7," ",h.SPACING_7,";margin:0 calc(",h.SPACING_7," + 5%) 0;}@media (min-width: ",b.lK,"){margin-left:",h.SPACING_13,";}@media (min-width: ",b.o8,"){margin-left:",h.SPACING_14,";}"),U=(0,i.default)("div",{target:"e1t1q76u0",label:"StepPanelBox"})("margin:auto;@media (min-width: ",b.lK,"){max-width:",b.lK,";}@media (min-width: ",b.o8,"){max-width:",b.o8,";}"),F=e=>{var{pageBackgroundUrl:t,step:r,setStep:a,children:i}=e,{ariaLabels:{backToFormStep:o},backLinkText:c}=d(),{variant:u,backLinkUrl:s}=f(),m=t?t.replace(/\$recipe/,"1280xn"):((u);return n.createElement(x,{pageBackgroundImage:m,"data-testid":"page-background"},n.createElement(U,null,n.createElement(M,null,i)),n.createElement(L,null,r===y.S.PRIVACY_NOTICE?n.createElement(D,{tracking:{name:"close",itemType:"button",text:o}},(e=>{var{trackRef:t}=e;return n.createElement(P.Z,{iconOnly:!0,iconType:"actions:close",emphasis:"medium",onClick:()=>a(y.S.FORM),trackRef:t},o)})):n.createElement(D,{tracking:{name:"close",itemType:"button",text:c,url:s}},(e=>{var{trackRef:t}=e;return n.createElement(I.Z,{iconOnly:!0,iconType:"actions:close",emphasis:"medium",href:s,trackRef:t},c)}))))},B=r(55336),G=r(61932),H=r(98843),Z=r(74868),V=r(77990),z=r(55889),q=r(21424),W=(0,i.default)("div",{target:"e1l0lcpu0",label:"RichTextContainer"})("color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";overflow-wrap:break-word;>",z.b,"{margin-top:",h.SPACING_4,";}i,em{font-style:italic;}b,strong{",B.jC,";}ul{list-style:disc;padding-left:1.75em;>",z.b,"{margin-top:1em;}}ol{list-style:decimal;padding-left:1.75em;>",z.b,"{margin-top:1em;}& &{list-style:lower-alpha;}& & &{list-style:lower-roman;}}a{&:link{color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";}&:visited{color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";}&:link,&:visited{",B.jC," border-bottom:",(0,O.s)(1)," solid ",(e=>{var{theme:t}=e;return t.colourPalette.border}),";text-decoration:none;@supports (text-underline-offset: 0.25em){border-bottom:none;text-decoration:underline ",(e=>{var{theme:t}=e;return t.colourPalette.border}),";text-decoration-thickness:",(0,O.s)(1),";text-decoration-skip-ink:none;text-underline-offset:0.25em;}&:hover,&:focus{border-bottom-color:currentcolor;border-bottom-width:",(0,O.s)(2),";text-decoration-color:currentcolor;text-decoration-thickness:",(0,O.s)(2),";color:",(e=>{var{theme:t}=e;return t.colourPalette.hyperlink}),";}}}h2{",G.Hd," ",B.jC,";}h3{",G.Pm," ",B.jC,";}h4,h5,h6{",G.Pm,";}"),K=e=>{var{html:t}=e;return n.createElement(q.Z,{html:t,type:"noscript",wrapper:W})},$=r(38303),X=r(70316),Y=r(91582),J=r(6284),Q=()=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},n.createElement("circle",{cx:"50%",cy:"50%",r:"50%",fill:"#ffd201"}),n.createElement("path",{d:"M38.25,146.84C43.2,135.48,73.13,123,73.13,123s11.21,30.43,6.25,41.79a22.44,22.44,0,0,1-41.13-18Z",fill:"#269dc8"}),n.createElement("g",{fill:"#2b2b2b"},n.createElement("path",{d:"M86.43,128.18a29.47,29.47,0,0,1-26.5-16.38,5,5,0,1,1,8.94-4.47,19.62,19.62,0,0,0,35.1,0,5,5,0,1,1,8.94,4.48A29.47,29.47,0,0,1,86.43,128.18Z"}),n.createElement("path",{d:"M167.93,128.18a29.47,29.47,0,0,1-26.5-16.38,5,5,0,1,1,8.94-4.47,19.62,19.62,0,0,0,35.1,0,5,5,0,1,1,8.94,4.48A29.47,29.47,0,0,1,167.93,128.18Z"}),n.createElement("path",{d:"M84.51,204a4.15,4.15,0,0,1-3.36-6.59c12.28-16.93,29.9-26.64,48.35-26.64,18,0,35.37,9.34,47.6,25.62a4.15,4.15,0,1,1-6.64,5c-10.8-14.38-25.34-22.3-41-22.3s-30.93,8.46-41.63,23.21A4.15,4.15,0,0,1,84.51,204Z"}))),ee=()=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 239 239"},n.createElement("path",{fill:"#83d43c",d:"M151.74 74.17l-43.93 52.36-24.76-20.77-15.33 18.27 24.75 20.76 18.27 15.33 15.33-18.27L170 89.5l-18.26-15.33z"}),n.createElement("path",{fill:"#83d43c",d:"M120.5 30A90.5 90.5 0 1 1 30 120.5 90.6 90.6 0 0 1 120.5 30m0-29A119.5 119.5 0 1 0 240 120.5 119.5 119.5 0 0 0 120.5 1z",transform:"translate(-1 -1)"})),te=()=>n.createElement("svg",{viewBox:"0 0 239 239",fill:"currentcolor"},n.createElement("path",{d:"M119.5 29A90.5 90.5 0 1 1 29 119.5 90.6 90.6 0 0 1 119.5 29m0-29A119.5 119.5 0 1 0 239 119.5 119.5 119.5 0 0 0 119.5 0z"}),n.createElement("path",{d:"M119.5 148q6 0 9.43 3.46a12 12 0 0 1 3.39 8.78 12.68 12.68 0 0 1-1.52 6.12 10.67 10.67 0 0 1-4.39 4.39 15.81 15.81 0 0 1-13.82 0 10.67 10.67 0 0 1-4.39-4.39 12.68 12.68 0 0 1-1.52-6.12 12 12 0 0 1 3.39-8.78q3.38-3.46 9.43-3.46zm9.22-9.79h-18.44L108.41 68h22.18z"})),re="CLOCK",ne="TICK",ae="ERROR",ie=(0,i.default)("div",{target:"e1dwy9jt0",label:"IconWrapper"})((,";"),le=e=>{var{iconType:t,displayChildrensIcon:r}=e,{variant:a,isEmbedded:i}=f(),o=r&&(0,l.g)(a)&&!i,c=(0,Y.u)();switch(t){case re:return n.createElement(ie,{colour:c.colourPalette.primary},o?n.createElement(Q,null):n.createElement(J.Z,{type:"time-and-date:clock"}));case ne:return n.createElement(ee,null);default:return n.createElement(ie,{colour:c.colourPalette.states.error},n.createElement(te,null))}},oe=(0,i.default)("div",{target:"eva9vik2",label:"LogoContainer"})("height:",(0,O.s)(84),";margin-right:",h.SPACING_6,";background:transparent;"),ce=(0,i.default)("img",{target:"eva9vik1",label:"StyledLogo"})("max-height:",(0,O.s)(84),";max-width:",(0,O.s)(150),";"),ue=(0,i.default)("span",{target:"eva9vik0",label:"SizedIcon"})("height:",(0,O.s)(24),";width:",(0,O.s)(84),";min-width:",(0,O.s)(84),";margin-right:",h.SPACING_6,";"),se=()=>{var{brandLogoUrlRecipe:e}=f(),t=null==e?void 0:e.replace(/\$recipe/,"256xn"),{headerLogo:r}=d();return t?n.createElement(oe,null,n.createElement(ce,{src:t,alt:r.branded})):n.createElement(ue,{role:"img","aria-label":r.default},n.createElement(J.Z,{type:"logo:bbc"}))},de=e=>e<6?e:6;var me=(0,i.default)("div",{target:"e1enpzvi4",label:"HeaderBannerWrapper"})({name:"h0tpnj",styles:"justify-content:space-between;display:flex;align-items:center"}),pe=(0,i.default)("div",{target:"e1enpzvi3",label:"HeaderWrapper"})(B.eV," ",G.o$," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";overflow-wrap:break-word;padding-top:",(e=>{var{hasMargin:t}=e;return t?h.SPACING_4:0}),";@media (min-width: ",b.TN,"){padding-top:",(,";}"),fe=(0,i.default)("div",{target:"e1enpzvi2",label:"BackLinkWrapper"})("display:none;@media (min-width: ",b.TN,"){display:block;}"),ve=(0,i.default)("div",{target:"e1enpzvi1",label:"HeaderTextWrapper"})({name:"zjik7",styles:"display:flex"}),ge=(0,i.default)("div",{target:"e1enpzvi0",label:"StatusIconStylingWrapper"})("min-width:",(0,O.s)(56),";width:",(0,O.s)(56),";margin-right:",h.SPACING_4,";@media (min-width: ",b.TN,"){min-width:",(0,O.s)(66),";width:",(0,O.s)(66),";margin-right:",h.SPACING_6,";}"),Ee=e=>{var{displayBackLink:t,title:r,description:a,icon:i}=e,{isFirstRenderRef:l,isEmbedded:o,baseHeadingLevel:c,brandLogoUrlRecipe:u,backLinkUrl:s}=f(),m=(0,n.useMemo)((,[]),{backLinkText:p}=d(),v=de(c);return n.createElement(pe,{hasMargin:!u&&!o},n.createElement("header",null,n.createElement(H.Z,{spacing:6},!o&&n.createElement(me,null,n.createElement(se,null),t&&n.createElement(D,{tracking:{name:"close",itemType:"link",text:p,url:s}},(e=>{var{trackRef:t}=e;return n.createElement(fe,null,n.createElement(X.Z,{url:s,trackRef:t},p))}))),n.createElement(ve,null,i&&n.createElement(ge,null,n.createElement(le,{iconType:i})),n.createElement(H.Z,{spacing:2},n.createElement($.Z,{shouldGainFocus:m,level:v,fontScale:"headlineSmall"},r),a&&n.createElement(K,{html:a}))))))},ye=n.memo(Ee),be=r(13369),he=r(68202),Oe=e=>{var t=[];return(e.sections||[]).forEach((e=>{(e.fields||[]).forEach((e=>{if(e.fieldType===he.ar.CONDITIONAL_LOGIC_FIELD)t.push(e),e.options.forEach(();else t.push(e)}))})),t},Se=(e,t)=>{if(null!=e&&e.conditionalOn){var{fieldId:r,fieldValue:n}=e.conditionalOn;return n===t[r]}return!0},Re=(e,t)=>{var r=Object.entries(e).filter((r=>{var[n]=r;return Se(t[n],e)}));return Object.fromEntries(r)},Pe=(e,t)=>{var r=e.filter(().map(();return{totalSize:Object.entries(t).reduce(((e,t)=>{var[n,a]=t;return r.includes(n)?[...e,...a]:e}),[]).reduce((,0),numberOfFiles:r.length}},Ie=()=>{var{analytics:e}=d();return(t,r)=>{var n;if(null!==(n=window)&&void 0!==n&&null!==(n=n.Reverb)&&void 0!==n&&n.userActionEvent){var a=w({},t,e);window.Reverb.userActionEvent("viewability",r,a)}}},we="general",ke="file-size",Ce=()=>{var e=Ie();return t=>{var r={item:{name:"validation",type:t},group:T.R[y.S.FORM],event:{category:"error"}};e(r)}},Te=r(8449),_e=r(15416),Ae=e=>!e.inputRef.current.validity.badInput,Ne=[{ruleName:"inputType",ruleBuilder:(e,t)=>({isValid:(e,r)=>{switch(t){case _e.MF.EMAIL:return(e=>!e||RegExp("^[a-zA-Z0-9#'$%+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9#'$%+/=?^_`{|}~-]+)*[a-zA-Z0-9#'$%+/=?^_`{|}~-]*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9]{2,}$").test(e))(e);case _e.MF.NUMBER:return((e,t)=>Ae(t)&&(!e||RegExp("^\\d+$").test(e)))(e,r);case he.ar.DATE:return Ae(r);default:return!0}},errorMessage:e})},{ruleName:"mandatory",ruleBuilder:e=>({isValid:e=>Array.isArray(e)?e.some(():"string"==typeof e?Boolean(e.trim()):Boolean(e),errorMessage:e})},{ruleName:"wordLimitMax",ruleBuilder:(e,t)=>({isValid:e=>(0,Te.WF)(e)<=t,errorMessage:e})},{ruleName:"wordLimitMin",ruleBuilder:(e,t)=>({isValid:e=>0===(0,Te.WF)(e)||(0,Te.WF)(e)>=t,errorMessage:e})}];function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Le=e=>function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.map((t=>De(De({},t),{},{fields:t.fields.map((t=>t.fieldType===he.ar.CONDITIONAL_LOGIC_FIELD?function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return De(De({},e(t,...n)),{},{options:t.options.map((t=>De(De({},t),{},{fieldGroupFields:t.fieldGroupFields.map(()})))})}(e,t,...n):e(t,...n)))})))},Me=Le(((e,t)=>e.id in t?De(De({},e),{},{errorMessage:t[e.id]}):e)),Ue=Le((),Fe=Le(((e,t)=>e.fieldType===he.ar.FILE_FIELD?De(De({},e),{},{displayFileDetails:t}):e)),Be=Le(((e,t)=>De(De({},e),{},{inputRef:(0,n.createRef)(),setHasValidationErrors:r=>t(()}))),Ge=r(59466),He=(0,i.default)("div",{target:"ebgikpg0",label:"ErrorSummaryTitle"})(B.jC,";"),Ze="VALIDATION_ERROR",Ve="TOTAL_FILE_SIZE_ERROR",ze="NO_ERROR",qe=e=>{var{errorSummaryType:t}=e,{errorMessages:{summary:{tooLargeDescription:r,genericDescription:a,title:i}}}=d(),l={[Ze]:a,[Ve]:r};return n.createElement(Ge.ZP,{role:"alert"},n.createElement(H.Z,{spacing:2},n.createElement(He,null,i),l[t]))},We=(e,t,r,n)=>{var a={};return Object.entries(e).forEach((e=>{var[i,l]=e;if(i in r)a[i]=r[i];else{var o=n.find((),c=(e=>{var t=[];return Ne.forEach((r=>{var{ruleName:n,ruleBuilder:a}=r,i=e[n];if(i){var l=a(i.errorMessage,i.ruleValue);t.push(l)}})),t})(t[i]),u=c.find(();a[i]=u?u.errorMessage:void 0}})),a},Ke="UPDATE_MULTIPLE_ERRORS",$e="CLEAR_ERROR",Xe="SET_ALL_SUBMITTED",Ye="SET_DISPLAY_FILE_DETAILS",Je=(e,t)=>{switch(t.type){case Ke:return Me(e,t.payload);case $e:return Me(e,{[t.payload]:void 0});case Xe:return Ue(e);case Ye:return Fe(e,t.payload);default:return e}},Qe=(e,t,r,a)=>{var[i,l]=(0,n.useState)({}),o=Be(r,l),[c,u]=(0,n.useReducer)(Je,o),s=Oe({sections:c}),d=Ce();return{allSectionsIncludingErrors:c,clearError:r=>{u({type:$e,payload:r}),((e,t,r,n,a)=>{Object.values(t).some((t=>{var a;return t.id!==e&&(null===(a=r[t.id].conditionalOn)||void 0===a?void 0:a.fieldId)!==e&&Se(r[t.id],n)&&Boolean(t.errorMessage)}))||a(ze)})(r,s,t,e,a)},validateAndSubmit:r=>n=>{n.preventDefault(),u({type:Xe}),u({type:Ye,payload:!1});var l=Re(e,t),o=We(l,t,i,s);Object.values(o).some(()?(d(we),u({type:Ke,payload:o}),a(Ze)):Pe(s,l).totalSize>be.A?(d(ke),u({type:Ye,payload:!0}),a(Ve)):r()}}},et=r(7834);function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at,it="UPDATE_FIELD",lt="RESET_FORM",ot=e=>{var[t,r]=(0,n.useReducer)(((e,t)=>{switch(t.type){case it:return rt(rt({},e),{},{[t.payload.fieldId]:t.payload.fieldValue});case lt:return t.payload;default:return e}}),e);return{formStateDispatch:r,formState:t}},ct=r(10043);var ut,st,dt=(0,ct.iv)(at||(ut=["\n  margin: "," -",";\n  @media (min-width: ",") {\n    margin: "," -",";\n  }\n"],st||(st=ut.slice(0)),at=Object.freeze(Object.defineProperties(ut,{raw:{value:Object.freeze(st)}}))),h.SPACING_4,h.SPACING_2,b.TN,h.SPACING_7,h.SPACING_4),mt=(0,i.default)("hr",{target:"epok6cl0",label:"StyledDivider"})("border:none;height:",(0,O.s)(1),";background-color:",(e=>{var{theme:t}=e;return t.colourPalette.border}),";margin:",h.SPACING_4," 0;",(,";"),pt=()=>{var{isEmbedded:e}=f();return n.createElement(mt,{isEmbedded:e})};function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Et=(e,t)=>{var r=Oe({sections:e});if(0===r.length)return!1;var n,a=r[0];return(n=a).fieldType===et.vq.FILE_FIELD&&n.minFiles>=1&&!((a.id,t)},yt=e=>{var{sections:t,formStateReducer:r,clearError:a,displayFirstFieldOnly:i,setDisplayFirstFieldOnly:l}=e,{formState:o,formStateDispatch:c}=r,u=(e,t)=>{a(t),c({type:it,payload:{fieldId:t,fieldValue:e}})};(0,n.useEffect)((()=>{i&&!Et(t,o)&&l(!1)}),[i,o,t,l]);var{baseHeadingLevel:s}=f(),d=de(s+1),m=i?(e=>{var t=[];return e.every((e=>{var r=e.fields||[];return r.length>0?(t.push(vt(vt({},e),{},{fields:[r[0]]})),!1):(t.push(e),!0)})),t})(t):t;return n.createElement(n.Fragment,null,m.map(((e,t)=>{var{sectionText:{title:r,description:a},fields:i}=e;return n.createElement(n.Fragment,{key:t},n.createElement(pt,null),n.createElement(he.ZP,{title:r,description:a,fields:i,fieldChangeHandler:u,fieldValues:o,headingLevel:d}))})))},bt=(0,i.default)("div",{target:"eq50zbk1",label:"IconWrapper"})("flex:none;align-self:flex-start;margin-right:",h.SPACING_2,";width:",(0,O.s)(20),";height:",(0,O.s)(20),";"),ht=(0,i.default)("div",{target:"eq50zbk0",label:"U13PrivacyNotice"})(B.eV," ",G.WM," display:flex;flex-direction:row;margin-bottom:-",h.SPACING_4,";@media (min-width: ",b.TN,"){margin:-",h.SPACING_4," 0;}"),Ot=e=>{var{onClick:t,under13PrivacyLinkRef:r,trackRef:a}=e,{formStep:{privacyCta:i,privacyLinkText:l}}=d();return n.createElement("div",null,n.createElement(pt,null),n.createElement(ht,{ref:a},n.createElement(bt,null,n.createElement(J.Z,{type:"labels:info"})),n.createElement("span",null,i,n.createElement(X.Z,{url:"#",onClick:trackRef:r},l))))},St=(0,i.default)("form",{target:"ekpve5v1",label:"Form"})(B.eV," ",G.oV," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";display:block;"),Rt=(0,i.default)("div",{target:"ekpve5v0",label:"PrivacyNotice"})(G.WM,";"),Pt=e=>{var{config:t,formStateReducer:r,onSubmit:a,formRuleOptions:i,privacyNoticeClickHandler:o,refToFocus:c}=e,{title:u,description:s,privacyNotice:m,settings:{signinRequired:p}}=t,{submitButtonText:v,formStep:{privacyLinkText:g}}=d(),{variant:E}=f(),b=((E),h=p&&(0,Z.Vy)()===V.dr.UNDER_13&&!b,{formState:O}=r,[S,R]=(0,n.useState)(Et(t.sections,O)),{errorSummaryType:I,errorSummaryPanelKey:w,updateErrorSummaryPanel:k,showErrorSummaryPanel:C}=(()=>{var[e,t]=(0,n.useReducer)((,"a"),[r,a]=(0,n.useState)(ze);return{errorSummaryType:r,errorSummaryPanelKey:e,updateErrorSummaryPanel:showErrorSummaryPanel:r!==ze}})(),{allSectionsIncludingErrors:T,validateAndSubmit:_,clearError:A}=Qe(O,i,t.sections,k),N=(0,n.useRef)(null);return(0,n.useEffect)((,[w]),n.createElement(St,{noValidate:!0,onSubmit:_(a)},n.createElement(H.Z,{spacing:7},n.createElement(ye,{displayBackLink:!0,title:u,description:s}),h&&n.createElement(D,{tracking:{name:"privacy-link",text:g,step:y.S.FORM}},(e=>{var{trackRef:t}=e;return n.createElement(Ot,{onClick:o,under13PrivacyLinkRef:c,trackRef:t})})),n.createElement(yt,{sections:T,formStateReducer:r,clearError:A,displayFirstFieldOnly:S,setDisplayFirstFieldOnly:R}),!S&&n.createElement(H.Z,{spacing:4},!h&&n.createElement(Rt,null,n.createElement(K,{html:m.default})),C&&n.createElement(qe,{errorSummaryType:I,key:w}),n.createElement(D,{tracking:{name:"submit-form",text:v},suppressNavigationOnClick:!0},(e=>{var{trackRef:t}=e;return n.createElement(P.Z,{type:"submit",width:"full",trackRef:t},v)})))),C&&n.createElement("div",{ref:N}))},It=r(64536),wt=(0,i.default)("div",{target:"ec5pb1u0",label:"StyledIconBackground"})("background-image:",(,";background-repeat:no-repeat;margin:0 -",h.SPACING_4,";@media (min-width: ",b.TN,"){margin:0 -",h.SPACING_7,";}"),kt=e=>{var{iconBackgroundUrl:t,children:r}=e,{variant:a,isEmbedded:i}=f(),o=(0,l.g)(a)&&!i;return n.createElement(wt,{iconBackgroundUrl:o&&t?"url(".concat(t,")"):"none","data-testid":"icon-background"},r)};var Ct=(0,i.default)("div",{target:"ewhwcx20",label:"StatusIconWithinBackground"})({name:"14c9qim",styles:"display:block;justify-content:center;position:relative;width:46.66667%;margin:auto;svg{display:block;}"}),Tt=e=>{var{iconType:t,iconBackgroundUrl:r}=e;return n.createElement(kt,{iconBackgroundUrl:r},n.createElement(Ct,null,n.createElement(le,{iconType:t,displayChildrensIcon:!0})))},_t=(0,i.default)("div",{target:"esq4liy1",label:"SummaryTitle"})(B.eV," ",G.Pm," font-weight:bold;color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),At=(0,i.default)("div",{target:"esq4liy0",label:"SummaryDescription"})(B.eV," ",G.o$," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),Nt=e=>{var{title:t,iconType:r,iconBackgroundUrl:a,summaryTitle:i,summaryDescription:l,displayCta:o=!0,children:c}=e,{isEmbedded:u,backLinkUrl:s}=f(),{backLinkText:m}=d(),p=o&&!u;return n.createElement(H.Z,{spacing:7},n.createElement(ye,{displayBackLink:!0,title:t}),n.createElement(Tt,{iconType:r,iconBackgroundUrl:a}),n.createElement(H.Z,{spacing:4},n.createElement(_t,null,i),n.createElement(At,null,l),c),p&&n.createElement(D,{tracking:{name:"close",itemType:"cta",text:m,url:s}},(e=>{var{trackRef:t}=e;return n.createElement(I.Z,{width:"full",emphasis:"high",href:s,trackRef:t},m)})))},jt=e=>{var{title:t}=e,{preOpenStep:{descriptionRichText:r,title:a}}=d();return n.createElement(Nt,{title:t,summaryTitle:a,summaryDescription:n.createElement(K,{html:r}),iconType:re,iconBackgroundUrl:It})},Dt=r(33866),xt=r(67254),Lt=r(80570);function Mt(e,t,r,n,a,i,l){try{var o=e[i](l),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ut(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function l(e){Mt(i,n,a,l,o,"next",e)}function o(e){Mt(i,n,a,l,o,"throw",e)}l(void 0)}))}}var Ft=(e,t)=>{var r=t&&!t.endsWith(".com")?".co.uk":".com";return"https://idcta".concat("live"===e?"":".test",".api.bbc").concat(r,"/idcta")},Bt=e=>{var t;switch(null!==(t=null==e?void 0:e.split("-")[0])&&void 0!==t?t:"en"){case"cy":return"cy-GB";case"ga":return"ga-GB";default:return"en-GB"}},Gt=function(){var e=Ut((function*(e,t){var r=Ft(e,t),n=yield fetch("".concat(r,"/config"),{cache:"no-store"});if(!n.ok)throw new Error("ID CTA Config Endpoint returned ".concat(n.status));return"GREEN"===(yield n.json())["id-availability"]}));return function(t,r){return e.apply(this,arguments)}}(),Ht=function(){var e=Ut((function*(e,t,r){var{languageContext:n,purpose:a,policy:i,renderMode:l}=r,o=((e,t)=>{var{purpose:r,lang:n,policy:a,renderMode:i}=t,l=new URL(e);return l.searchParams.set("ptrt",window.location.href),r&&l.searchParams.set("purpose",r),n&&l.searchParams.set("lang",n),a&&l.searchParams.set("policy",a),i&&l.searchParams.set("renderMode",i),l.toString()})("".concat(Ft(e,t),"/init"),{purpose:a,policy:i,lang:Bt(n),renderMode:l}),c=yield fetch(o,{credentials:"include",cache:"no-store"});if(!c.ok)throw new Error("ID CTA Init Endpoint returned ".concat(c.status));var u=yield c.json();return{html:u.html,css:u.css,policyCheck:u.policyCheck}}));return function(t,r,n){return e.apply(this,arguments)}}(),Zt=r(16108);function Vt(e,t,r,n,a,i,l){try{var o=e[i](l),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}function zt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function l(e){Vt(i,n,a,l,o,"next",e)}function o(e){Vt(i,n,a,l,o,"throw",e)}l(void 0)}))}}var qt="ERR_MAXIMUM_SUBMISSIONS_REACHED",Wt=function(){var e=zt((function*(e,t){try{return yield(0,Zt.I)({environment:e,isDotCom:t}),!0}catch(r){return!1}}));return function(t,r){return e.apply(this,arguments)}}(),Kt=function(){var e=zt((function*(e,t,r){var n=t&&t.endsWith(".com");if(!(yield Wt(e,n)))return null;var a=yield fetch(((e,t)=>{var r="https://www".concat("live"===e?"":".test",".bbc.co.uk/ugc/check");return"".concat(r,"/").concat(t)})(e,r),{method:"POST",credentials:"include",cache:"no-store"});return a.ok?(yield a.json()).code:null}));return function(t,r,n){return e.apply(this,arguments)}}();function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e,t,r,n,a,i,l){try{var o=e[i](l),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}ar er=(e,t,r,i,l,o)=>{var{env:c,host:u}=(0,xt.B)(),s=(0,a.Qg)(),{accountCheckStep:{accountPurpose:m}}=d();(0,n.useEffect)((()=>{var n=function(){var e=Qt((function*(){if(!(yield Gt(c,u)))throw new Error("ID CTA Flagpole is not green.")}));return function(){return e.apply(this,arguments)}}(),a=t=>e.includes(t),d=function(){var e=Qt((function*(){return Ht(c,u,{languageContext:s,renderMode:"authorised"})}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Qt((function*(e){if(!e||a(e))return null;var t=yield d();return{type:Lt.M.AGE_CHECK_FAILURE,response:Xt(Xt({},t),{},{userAgeBracket:e})}}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Qt((function*(){var e=yield Ht(c,u,{languageContext:s,purpose:m,policy:t});return e.html?{type:e.policyCheck?Lt.M.POLICY_CHECK_FAILURE:Lt.M.NOT_SIGNED_IN,response:e}:null}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Qt((function*(){return r&&(yield Kt(c,u,i))===qt?{type:Lt.M.MAXIMUM_SUBMISSIONS_REACHED,response:yield d()}:null}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Qt((function*(){try{yield n();var e=(0,Z.Vy)();if(!t&&!r&&(0,Dt.Z)()&&a(e))return l();var i=(yield p(e))||(yield f())||(yield v());return i?o(i.type,i.response):e?l():o(Lt.M.DEFAULT)}catch(c){return o(Lt.M.FLAGPOLE_ERROR)}}));return ();g()}),[m,e,i,r,c,u,s,o,l,t])};var tr,rr=(0,i.default)("div",{target:"egxuo7u2",label:"AccountCheck"})({name:"k9j0rc",styles:"display:flex;flex-direction:column;min-height:80vh"}),nr=(0,i.default)("div",{target:"egxuo7u1",label:"IdctaCheck"})("flex-grow:1;display:flex;justify-content:center;align-items:center;flex-direction:column;",B.eV," ",G.oV," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),ar=(0,i.default)("div",{target:"egxuo7u0",label:"LoadingSpinnerStyling"})("color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";height:",(0,O.s)(32),";width:",(0,O.s)(32),";"),ir=e=>{var{title:t,allowedAgeGroups:r,policy:a,entryCap:i,campaignId:l,onSuccessHandler:o,onErrorHandler:c}=e,{accountCheckStep:u}=d();return er(r,a,i,l,o,c),n.createElement(rr,null,n.createElement(ye,{displayBackLink:!0,title:t}),n.createElement(pt,null),n.createElement(nr,null,n.createElement(ar,{"data-testid":"playback-avkx:loading","aria-labelledby":"loading_spinner_label"},n.createElement(J.Z,{type:"playback-avkx:loading"})),n.createElement("p",{id:"loading_spinner_label","aria-hidden":!0},u.loading)))},lr=r(26610),or=e=>{var{title:t}=e,{accountError:{flagpoleError:{title:r,description:a}}}=d();return n.createElement(Nt,{title:t,summaryTitle:r,summaryDescription:a,iconType:ae,iconBackgroundUrl:lr})},cr=r(44475);var ur=(0,ct.F4)(tr||(tr=["\n      from { transform: rotate(0deg); }\n      to { transform: rotate(360deg); }\n    "]))),sr=(0,i.default)("object",{target:"ecvfsnt0",label:"SpinningSvg"})("animation:",ur," 1s linear infinite;width:100%;"),dr=e=>{var{primaryColour:t}=e;return n.createElement(sr,null,n.createElement("svg",{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M218.52,37.5,196.6,59.42A97,97,0,1,1,128,31l2,0,.63-31c-.87,0-1.74,0-2.61,0a128,128,0,1,0,90.52,37.5Z",fill:t})))};var mr=(0,i.default)("div",{target:"ep806v54",label:"ProgressPercentagePosition"})("position:absolute;height:100%;width:100%;",B.eV," ",B.jC,";"),pr=(0,i.default)("div",{target:"ep806v53",label:"SpinnerStylingWrapper"})({name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"}),fr=(0,i.default)("text",{target:"ep806v52",label:"PercentWrapper"})("font-size:",(0,O.s)(50),";"),vr=(0,i.default)("tspan",{target:"ep806v51",label:"PercentNumber"})({name:"f76676",styles:"text-anchor:middle;font-size:155%;dominant-baseline:central"}),gr=(0,i.default)("tspan",{target:"ep806v50",label:"PercentSymbol"})({name:"1gmif7y",styles:"font-size:70%;dominant-baseline:central"}),Er=e=>{var{colour:t,progressPercentage:r}=e;return n.createElement("svg",{viewBox:"0 0 256 256",fill:t},n.createElement(fr,null,n.createElement(vr,{x:"144",y:"50%"},r),n.createElement(gr,{dx:"0",dy:"-12"},"%")))},yr=e=>{var{progressPercentage:t}=e,{inProgressStep:{title:r,description:a}}=d(),i=t>99?99:Math.round(t),[l,o]=(0,n.useReducer)((,i);(0,n.useEffect)((,[]);var c=(0,Y.u)();return n.createElement(H.Z,{spacing:7},n.createElement(ye,{title:r,description:a}),n.createElement(kt,{iconBackgroundUrl:It},n.createElement(Ct,null,n.createElement(pr,null,n.createElement(dr,{primaryColour:c.colourPalette.states.interaction}),null!==t&&n.createElement(mr,null,n.createElement(cr.Z,{"aria-live":"polite"},"".concat(l,"%")),n.createElement(Er,{colour:c.colourPalette.states.interaction,progressPercentage:i}))))))},br=e=>{var t,{submitAnotherClickHandler:r}=e,{confirmationStep:{sendAnotherLinkText:a}}=d(),{variant:i}=f();return i!==l.o.childrensUpload&&i!==l.o.upload||!r?null:n.createElement("div",null,n.createElement(D,{tracking:{name:"reset",text:a,url:null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.href}},(e=>{var{trackRef:t}=e;return n.createElement(X.Z,{url:"#",onClick:r,trackRef:t},a)})))},hr=e=>{var{submissionId:t,signinRequired:r,configValues:{includeDataRetentionText:a,includeRightToRevokeText:i,includeRemovalGuidelineText:o},displayCta:c,referenceNumberHeadingLevel:u,submitAnotherClickHandler:s}=e,{variant:m,isEmbedded:p,backLinkUrl:v}=f(),{confirmationStep:{retentionExpiryDateString:g,privacyInfoText:E,referenceNumber:y,revokingMessage:b,removalGuidelineText:h,signedOutSubmissionInfoMessage:O,over13ChildrensEmailMessage:S,under13ChildrensEmailMessage:R,signedInSubmissionInfoMessage:P},backLinkText:w}=d(),k=c&&!p;return n.createElement(H.Z,{spacing:7},m===l.o.childrensUpload&&n.createElement("div",null,(0,Z.Vy)()===V.dr.UNDER_13?R:S),k&&n.createElement(D,{tracking:{name:"close",itemType:"cta",text:w,url:v}},(e=>{var{trackRef:t}=e;return n.createElement(I.Z,{width:"full",href:v,trackRef:t},w)})),n.createElement(H.Z,{spacing:4},m!==l.o.childrensUpload&&n.createElement(n.Fragment,null,n.createElement(H.Z,{spacing:4},n.createElement("div",null,r&&(0,Dt.Z)()?P:O),n.createElement("div",null,n.createElement($.Z,{level:u,fontScale:"indexHeadlineSmall"},y),t)),i&&n.createElement(K,{html:"".concat(b.replace(/{{submissionId}}/g,t)," ").concat(o&&h?h:"")}),a&&n.createElement(K,{html:g}),n.createElement(K,{html:E}))),n.createElement(br,{submitAnotherClickHandler:s}))},Or=r(8765),Sr=r(45115),Rr=e=>{var{confirmationMessageRichText:t}=e,{confirmationStep:{whatHappensNextTitle:r}}=d(),{baseHeadingLevel:a}=f(),i=de(a+1);return t?n.createElement(H.Z,{spacing:4},n.createElement($.Z,{level:i,fontScale:"indexHeadlineMedium"},r),n.createElement(K,{html:t})):null};function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pr.apply(this,arguments)}var Ir=(0,i.default)("li",{target:"exni9hj0",label:"PromoListItemWrapper"})("margin-top:",h.SPACING_4,";"),wr=e=>{var{promos:t,configValues:r,submissionId:a,signinRequired:i,displayCta:l,submitAnotherClickHandler:o}=e,{confirmationStep:{submissionDetails:c},analytics:u}=d(),{baseHeadingLevel:s}=f(),{confirmationMessageRichText:m}=r;return n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement($.Z,{level:de(s+1),fontScale:"indexHeadlineMedium"},t.title),n.createElement("ul",null,t.promos.map(((e,t)=>n.createElement(Ir,{key:"UploaderPromo".concat(t)},n.createElement(D,{tracking:{name:"promo",text:e.headline,url:e.url,position:t+1}},(t=>{var{trackRef:r}=t;return n.createElement(Sr.Z,Pr({},e,{trackRef:r}))}))))))),n.createElement(Rr,{confirmationMessageRichText:m}),n.createElement(Or.ZP,{drawers:[{headingTitleDetails:{expandedTitle:c,closedTitle:c,leftIcon:"labels:info"},tracking:k()({},u,{item:{name:"submission-details",text:c},group:{type:y.S.CONFIRMATION}}),contents:n.createElement(hr,{configValues:r,referenceNumberHeadingLevel:de(s+2),submissionId:a,signinRequired:i,displayCta:l})}],headingLevel:de(s+1)}),n.createElement(br,{submitAnotherClickHandler:o}))};ar Cr=(0,i.default)("div",{target:"e1q3iipc0",label:"ConfirmationStyling"})(B.eV," ",G.o$," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),Tr=e=>{var{confirmationStep:{title:t,description:r}}=d(),{baseHeadingLevel:a}=f(),{promos:i,configValues:{confirmationMessageRichText:l}}=e,o=i.promos.length>0;return n.createElement(Cr,null,n.createElement(H.Z,{spacing:7},n.createElement(ye,{displayBackLink:!0,title:t,description:r,icon:o&&ne}),o?n.createElement(wr,e):n.createElement(n.Fragment,null,n.createElement(Tt,{iconType:ne,iconBackgroundUrl:It}),n.createElement(Rr,{confirmationMessageRichText:l}),n.createElement(hr,kr({},e,{displayCta:!0,referenceNumberHeadingLevel:de(a+1)})))))},_r=(0,i.default)("div",{target:"ekrfe681",label:"MessageTitle"})(B.eV," ",G.Pm," font-weight:bold;color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),Ar=(0,i.default)("div",{target:"ekrfe680",label:"MessageBody"})(B.eV," ",G.o$," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),Nr=()=>{var{generalErrorStep:{title:e,description:t}}=d(),r="javascriptDisabled";return n.createElement(H.Z,{spacing:4},n.createElement(_r,null,e[r]),n.createElement(Ar,null,t[r]))},jr=n.memo(Nr);function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(r),!0).forEach((function(t){Lr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lr(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mr={TOKEN_REFRESH_ERROR:"ERR_TOKEN_REFRESH_FAIL",SIGNED_OUT:"ERR_SIGNED_OUT"},Ur={EMPTY_FILE:"ERR_EMPTY_FILE",UNSUPPORTED_PROFILES:"ERR_PROFILES_NOT_SUPPORTED",CAMPAIGN_CLOSED:"ERR_CAMPAIGN_CLOSED",MAX_SUBMISSIONS:"ERR_MAXIMUM_SUBMISSIONS_REACHED",CAMPAIGN_NOT_FOUND:"ERR_CAMPAIGN_NOT_FOUND",NOT_LOGGED_IN:"ERR_NOT_LOGGED_IN",ACCOUNT_POLICY_DENIED:"ERR_ACCOUNT_POLICY_DENIED",UNKNOWN_SUBMISSION_ERROR:"UNKNOWN_SUBMISSION_ERROR"},Fr={CLIENTSIDE_TIMEOUT:"CLIENTSIDE_TIMEOUT_99",REQUEST_ABORTED:"ERR_REQUEST_ABORTED"},Br=xr(xr(xr({},Mr),Ur),Fr),Gr=[Mr.SIGNED_OUT,Ur.UNSUPPORTED_PROFILES,Ur.MAX_SUBMISSIONS,Ur.CAMPAIGN_NOT_FOUND,Ur.ACCOUNT_POLICY_DENIED,Ur.NOT_LOGGED_IN,Ur.CAMPAIGN_CLOSED],Hr=Zr=e=>!Object.values(Mr).includes(e)&&!Object.values(Fr).includes(e);class Vr extends Error{constructor(e){var{httpStatusCode:t,httpResponse:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.name="SubmissionError",this.errorAnalytics={code:Zr(e)?null==t?void 0:t.toString():void 0,response:Zr(e)?r:void 0,name:e!==Ur.UNKNOWN_SUBMISSION_ERROR?e:void 0,type:Hr(e)?"unrecoverable":"recoverable"}}}function zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(r),!0).forEach((function(t){Wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wr(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kr=qr(qr({},{[Br.MAX_SUBMISSIONS]:"maxSubmissions",[Br.EMPTY_FILE]:"emptyFile",[Br.UNSUPPORTED_PROFILES]:"unsupportedProfiles",[Br.CAMPAIGN_CLOSED]:"campaignClosed"}),{},{ERR_JAVASCRIPT_DISABLED:"javascriptDisabled"}),$r=Xr=(e,t,r,n)=>{var a;return $r(e)?t:null!==(a=r[n])&&void 0!==a?a:r.default},Yr=(e,t,r)=>{if(!$r(e))return r?t[r]:Hr(e)?t.unrecoverable:t.default},Jr=(0,i.default)("div",{target:"e12vl8ur0",label:"ErrorReference"})(B.eV," ",G.oV," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),Qr=e=>{var{submissionAttemptId:t,onRetry:r,errorMessage:a,campaignTitle:i}=e,{backLinkText:l,generalErrorStep:{retryButtonText:o,title:c,description:u,submissionAttemptIdLabel:s}}=d(),m=Kr[a],{isEmbedded:p,backLinkUrl:v}=f();return n.createElement(H.Z,{spacing:7},n.createElement(ye,{displayBackLink:!0,title:Xr(a,i,c,m),description:Yr(a,u,m)}),n.createElement(Tt,{iconType:ae,iconBackgroundUrl:lr}),$r(a)&&n.createElement(jr,null),t&&n.createElement(Jr,null,s.replace(/{{submissionAttemptId}}/g,t)),Hr(a)||$r(a)?!p&&n.createElement(D,{tracking:{name:"close",itemType:"cta",text:l,url:v}},(e=>{var{trackRef:t}=e;return n.createElement(I.Z,{href:v,width:"full",trackRef:t},l)})):n.createElement(D,{tracking:{name:"try-again",text:o}},(e=>{var{trackRef:t}=e;return n.createElement(P.Z,{width:"full",onClick:r,trackRef:t},o)})))},en=e=>{var{title:t}=e,{closedStep:{title:r,descriptionRichText:a}}=d();return n.createElement(Nt,{title:t,summaryTitle:r,summaryDescription:n.createElement(K,{html:a}),iconType:re,iconBackgroundUrl:It})},tn=e=>{var{title:t}=e,{suspendedStep:{title:r,description:a}}=d();return n.createElement(Nt,{title:t,summaryTitle:r,summaryDescription:a,iconType:re,iconBackgroundUrl:It})},rn=r(13082),nn=(0,i.default)("div",{target:"e9p39i10",label:"IdctaResponseWrapper"})(B.eV," ",G.oV," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),an=e=>{var{idctaResponse:t}=e;return n.createElement(nn,null,n.createElement(rn.ql,null,t.css.map(((e,t)=>n.createElement("link",{rel:"stylesheet",type:"text/css",href:e,key:t})))),n.createElement(K,{html:t.html}))},ln=e=>{var{title:t,description:r,errorResponse:a}=e;return n.createElement(n.Fragment,null,n.createElement(ye,{displayBackLink:!0,title:t,description:r}),n.createElement(pt,null),n.createElement(an,{idctaResponse:a}))},on=e=>{var{title:t,errorResponse:r}=e;return n.createElement(Nt,{title:t,iconType:ae,iconBackgroundUrl:lr,displayCta:!1},n.createElement(an,{idctaResponse:r}))},cn=e=>{var{title:t,allowedAgeGroups:r,errorResponse:a}=e,{accountError:{minAgeError:i,maxAgeError:l,betweenAgesError:o}}=d(),{title:c,description:u}=(()=>{var{minAge:e,maxAge:t}=(0,V.QK)(r);return e&&t?o:e?i:t?l:null})()||{};return n.createElement(Nt,{title:t,summaryTitle:c,summaryDescription:u,iconType:ae,iconBackgroundUrl:lr,displayCta:!1},n.createElement(an,{idctaResponse:a}))},un=(0,i.default)("div",{target:"e9agaux0",label:"PrivacyNotice"})(B.eV," ",G.oV," color:",(,";"),sn=e=>{var{returnButtonClickHandler:t,privacyNoticeHtml:r}=e,{privacyNoticeStep:{title:a,backButtonText:i}}=d();return n.createElement(un,null,n.createElement(H.Z,null,n.createElement(ye,{title:a}),n.createElement(K,{html:r}),n.createElement(D,{tracking:{name:"close-privacy",text:i}},(e=>{var{trackRef:r}=e;return n.createElement(P.Z,{onClick:t,width:"full",trackRef:r},i)}))))},dn=r(32703),mn=r(56901);function pn(e,t,r,n,a,i,l){try{var o=e[i](l),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}var fn=function(){var e,t=(e=function*(e,t){try{yield(0,Zt.I)({environment:e,isDotCom:t})}catch(n){var r=n.message;throw n instanceof dn.s?r=Mr.SIGNED_OUT:n instanceof mn.m&&(r=Mr.TOKEN_REFRESH_ERROR),new Vr(r)}},function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function l(e){pn(i,n,a,l,o,"next",e)}function o(e){pn(i,n,a,l,o,"throw",e)}l(void 0)}))});return (),vn=function(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new XMLHttpRequest;return i.withCredentials=a,r&&i.upload.addEventListener("progress",(e=>{var t=e.loaded/e.total*100;r(t),t>=99&&(i.readyState===XMLHttpRequest.DONE||n||(n=setTimeout((,9e4)))})),i.open("post",e),new Promise(((e,r)=>{var a,l=i.abort;i.abort=e=>{a=e||Fr.REQUEST_ABORTED,l.apply(i)},i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){var t;clearTimeout(n);try{t=JSON.parse(i.responseText)}catch(c){t=i.responseText}if(200===i.status)e({statusCode:200,body:t});else{var l=(o=t,a||(null==o?void 0:o.code)||Ur.UNKNOWN_SUBMISSION_ERROR);r(new Vr(l,{httpStatusCode:i.status,httpResponse:i.responseText}))}}var o},i.send(t)}))};function gn(e,t,r,n,a,i,l){try{var o=e[i](l),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}var En=function(){var e,t=(e=function*(e){var t,r,{formState:n,updateSubmissionProgress:a,campaignId:i,isSigninRequired:l,environment:o,isDotCom:c,submissionAttemptId:u,formRuleOptions:s}=e,d=(t=n,r=s,Object.entries(t).reduce(((e,n)=>{var[a,i]=n;return Se(r[a],t)&&(Array.isArray(i)?i:[i]).forEach((t=>{"object"!=typeof t||t instanceof File?e.append(a,t):((e,t,r)=>{var{value:n,checked:a}=t;void 0!==n&&!0===a&&r.append(e,n)})(a,t,e)})),e}),new FormData)),m=((e,t,r)=>{var n="https://www".concat("live"===t?"":".test",".bbc.co.uk/ugc/send");return"".concat(n,"/").concat(e,"?said=").concat(r)})(i,o,u);return l&&(yield fn(o,c)),vn(m,d,a,l)},function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function l(e){gn(i,n,a,l,o,"next",e)}function o(e){gn(i,n,a,l,o,"throw",e)}l(void 0)}))});return ();ar bn=function(){var e,t=(e=function*(e,t,r){t(y.S.IN_PROGRESS);var n,a=(new Date).getTime();try{var i=yield En(e),{submissionId:l}=i.body;r(l),n={success:!0,submissionId:l}}catch(c){n={success:!1,error:c}}var o=(new Date).getTime()-a;o<2e3&&(yield new Promise((e=>setTimeout(e,2e3-o)))),n.success?t(y.S.CONFIRMATION,{submissionId:n.submissionId}):t(y.S.SUBMISSION_ERROR,{errorAnalytics:n.error.errorAnalytics},{errorMessage:n.error.message})},;return (),hn=(e,t,r,a,i,l)=>{var[o,c]=(0,n.useState)(null),[u,s]=(0,n.useState)(null),{host:d,env:m}=(0,xt.B)(),p={formState:r,campaignId:e,isSigninRequired:t,environment:m,isDotCom:d&&d.endsWith(".com"),submissionAttemptId:l,updateSubmissionProgress:c,formRuleOptions:a};return{formSubmissionHandler:submissionProgress:o,submissionId:u}},On=e=>{var[t,r]=(0,n.useState)(null);return{accountCheckSuccessHandler:(0,n.useCallback)((,[e]),accountCheckErrorHandler:(0,n.useCallback)(((t,n)=>{r(n),e((0,Lt.T)(t),{errorAnalytics:(0,T.h)(t,n)})}),[e]),accountErrorResponse:t}},Sn=(e,t)=>{var[r,a]=(0,n.useState)(0),[i,l]=(0,n.useState)(!1),o=(0,n.useRef)(),{isFirstRenderRef:c,isEmbedded:u}=f(),s=e=>{u?window.scrollBy({top:e,behavior:"smooth"}):window.scrollTo(0,e)};return(0,n.useEffect)((()=>{i&&o.current&&(o.current.focus(),l(!1))}),[i,e]),(0,n.useEffect)((()=>{if(!c.current)if(e!==y.S.FORM||u){var n=t.current?t.current.getBoundingClientRect().top-20:0;s(n)}else s(r),a(0);e!==y.S.ACCOUNT_CHECK&&(c.current=!1)}),[e]),[o,()=>{a(document.body.scrollTop||document.documentElement.scrollTop),l(!0)}]},Rn=e=>{return t=Oe(e),r={},t.forEach((e=>{var{fieldType:t}=e;t===he.ar.CHECKBOX_LIST?r[e.id]=e.options.map((e=>{var{label:t,value:r}=e;return{label:t,checked:!1,value:r}})):t===he.ar.FILE_FIELD?r[e.id]=[]:r[e.id]=""})),r;var t,r},Pn=(e,t)=>"1"===e?t.one:t.multiple,In=e=>{var{title:t,entryCap:r,errorResponse:a}=e,{accountError:{submissionCap:{title:i,description:l}}}=d();return n.createElement(Nt,{title:t,summaryTitle:i,summaryDescription:Pn(r,l),iconType:ae,iconBackgroundUrl:lr,displayCta:!1},n.createElement(an,{idctaResponse:a}))};var wn=(0,i.default)("div",{target:"ef5egq10",label:"StyledHideWhenJavaScriptDisabled"})({name:"1xyc2b2",styles:"html.no-js &{display:none;}"}),kn=e=>{var{config:t,step:r,setStep:a,stepState:i,submissionAttemptId:l,refreshSubmissionAttemptId:o,formStateReducer:c,formRuleOptions:u,topOfStepPanelRef:s}=e,{formSubmissionHandler:d,submissionProgress:m,submissionId:p}=hn(t.campaignId,t.settings.signinRequired,c.formState,u,a,l),[f,v]=Sn(r,s),{accountCheckSuccessHandler:g,accountCheckErrorHandler:E,accountErrorResponse:b}=On(a),h=(0,n.useMemo)((,[t]),O=(0,n.useCallback)((()=>{switch(r){case y.S.PRE_OPEN:return n.createElement(jt,{title:t.title});case y.S.CLOSED:return n.createElement(en,{title:t.title});case y.S.SUSPENDED:return n.createElement(tn,{title:t.title});case y.S.ACCOUNT_CHECK:return n.createElement(ir,{title:t.title,policy:t.settings.accountPolicy,entryCap:t.settings.entryCap,allowedAgeGroups:t.settings.allowedAgeGroups,campaignId:t.campaignId,onErrorHandler:E,onSuccessHandler:g});case y.S.IN_PROGRESS:return n.createElement(yr,{progressPercentage:m});case y.S.CONFIRMATION:return n.createElement(Tr,{submissionId:p,signinRequired:t.settings.signinRequired,configValues:t.confirmationStep,promos:t.promo,submitAnotherClickHandler:()=>{var e=o();c.formStateDispatch({type:lt,payload:Rn(t)}),a(y.S.FORM,{submissionAttemptIdOverride:e})}});case y.S.PRIVACY_NOTICE:return n.createElement(sn,{returnButtonClickHandler:privacyNoticeHtml:t.privacyNotice.additional});case y.S.SUBMISSION_ERROR:return n.createElement(Qr,{onRetry:()=>{var e=o();a(y.S.FORM,{submissionAttemptIdOverride:e})},submissionAttemptId:l,errorMessage:null==i?void 0:i.errorMessage});case y.S.ACCOUNT_FLAGPOLE_ERROR:return n.createElement(or,{title:t.title});case y.S.ACCOUNT_NOT_SIGNED_IN_ERROR:return n.createElement(ln,{title:t.title,description:t.description,errorResponse:b});case y.S.ACCOUNT_ERROR:return n.createElement(on,{title:t.title,errorResponse:b});case y.S.ACCOUNT_ENTRY_CAP_REACHED_ERROR:return n.createElement(In,{title:t.title,entryCap:t.settings.entryCap,errorResponse:b});case y.S.ACCOUNT_AGE_ERROR:return n.createElement(cn,{title:t.title,errorResponse:b,allowedAgeGroups:t.settings.allowedAgeGroups});case y.S.FORM:default:return n.createElement(Pt,{config:t,formStateReducer:c,onSubmit:d,formRuleOptions:u,privacyNoticeClickHandler:refToFocus:f})}}),[E,g,b,d,f,v,p,m,t,u,c,o,r,a,i,l]);return n.createElement(n.Fragment,null,n.createElement("noscript",null,n.createElement(Qr,{backLinkUrl:t.submissionUrl,brandLogo:h,errorMessage:"ERR_JAVASCRIPT_DISABLED",campaignTitle:t.title})),n.createElement(wn,null,O()))};function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){_n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _n(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var An=(e,t)=>{var{submissionAttemptId:r,getFilesMetadata:a}=t,i=Ie(),l=function(e){var{submissionId:t,errorAnalytics:n,submissionAttemptIdOverride:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(((e)){var o=((e)?a():null,c={item:{name:e},group:T.R[e],event:{category:"uploader",sequence:{id:t}},error:n,uploader:Tn({attempt_id:l||r},o&&{file_count:null==o?void 0:o.numberOfFiles,data_volume:null==o?void 0:o.totalSize})};i(c,"load")}},[o,c]=(0,n.useState)(e),[u,s]=(0,n.useState)();(0,n.useEffect)((()=>{var t=setInterval((()=>{var r;null!==(r=window)&&void 0!==r&&null!==(r=r.Reverb)&&void 0!==r&&r.userActionEvent&&(l(e),clearInterval(t))}),500);return),[]);return[o,(e,t,r)=>{l(e,t),c(e),s(r)},u]}; xn="mandatory",Ln="wordLimitMax",Mn="wordLimitMin",Un="inputType",Fn=(e,t,r,n)=>{switch(e){case xn:return((e,t)=>{switch(e){case he.ar.SINGLE_LINE_INPUT:case he.ar.TEXT_AREA:case he.ar.DATE:return t.textField;case he.ar.CONDITIONAL_LOGIC_FIELD:case he.ar.RADIO_GROUP:return t.radioGroup;case he.ar.CHECKBOX_LIST:return t.checkboxList;case he.ar.CHECKBOX:return t.checkbox;case he.ar.DROPDOWN:return t.dropdown;default:return""}})(t,r.mandatory);case Un:return((e,t)=>{switch(e){case _e.MF.EMAIL:return t.email;case _e.MF.NUMBER:return t.number;case he.ar.DATE:return t.date;default:return""}})(n,r.inputType);case Ln:return((e,t)=>{var{ruleValue:r,exact:n}=e;return r>1?(n?t.exact.many:t.many).replace(/{{pluralsCount}}/g,r):n?t.exact.one:t.one})(n,r.wordLimit.maximum);case Mn:return((e,t)=>{var{ruleValue:r,exact:n}=e;return(n?t.exact.many:t.many).replace(/{{pluralsCount}}/g,r)})(n,r.wordLimit.minimum);default:return""}},Bn=(e,t)=>{var r={};return Oe(e).forEach((e=>{r[e.id]=((e,t)=>{var r={},{validation:n,fieldType:a}=e;return n&&Object.entries(n).forEach((e=>{var[n,i]=e;!0===i?r[n]={errorMessage:Fn(n,a,t,i)}:"object"==typeof i?r[n]=jn(jn({},i),{},{errorMessage:Fn(n,a,t,i)}):i&&(r[n]={ruleValue:i,errorMessage:Fn(n,a,t,i)})})),r})(e,t)})),r},Gn=r(70942),Hn=()=>{var[e,t]=(0,n.useState)((0,Gn.Z)());return[e,()=>{var e=(0,Gn.Z)();return t(e),e}]},Zn=(0,i.default)("div",{target:"e4ncwph0",label:"EmbeddableFormWrapper"})("max-width:",E.q,";"),Vn=e=>{var{config:t}=e,{campaignStatus:r,settings:a,sections:i}=t,[l,o]=Hn(),c=ot(Rn(t)),{errorMessages:u}=d(),s=(0,n.useMemo)((,[t,u]),p=((e,t)=>{switch(e){case y.$.PRE_OPEN:return y.S.PRE_OPEN;case y.$.CLOSED:return y.S.CLOSED;case y.$.SUSPENDED:return y.S.SUSPENDED;case y.$.OPEN:default:return t?y.S.ACCOUNT_CHECK:y.S.FORM}})(r,a.signinRequired),[v,g,E]=An(p,{submissionAttemptId:l,getFilesMetadata:()=>((e,t,r)=>{var n=Oe({sections:r}),a=Re(e,t);return Pe(n,a)})(c.formState,s,i)}),{isEmbedded:b}=f(),h=(0,n.useRef)();return b?n.createElement(m.Provider,{value:v},n.createElement(Zn,{ref:h},n.createElement(kn,{config:t,step:v,setStep:g,stepState:E,formRuleOptions:s,formStateReducer:c,submissionAttemptId:l,refreshSubmissionAttemptId:o,topOfStepPanelRef:h}))):n.createElement(m.Provider,{value:v},n.createElement(F,{pageBackgroundUrl:a.pageBackgroundTemplateUrl,step:v,setStep:g},n.createElement(kn,{config:t,step:v,setStep:g,stepState:E,submissionAttemptId:l,refreshSubmissionAttemptId:o,topOfStepPanelRef:h,formRuleOptions:s,formStateReducer:c})))},zn=e=>{var{context:t,config:r,baseHeadingLevel:a=1,setPageTitle:i=!1}=e,{isEmbedded:l}=t;return n.createElement(v,{context:t,baseHeadingLevel:a},!l&&n.createElement(g,{setPageTitle:i}),n.createElement(Vn,{config:r}))}}}]);