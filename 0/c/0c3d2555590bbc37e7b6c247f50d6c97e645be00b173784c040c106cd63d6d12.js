import{A as h,B as c,a3 as v}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";const t={xmlns:"http://www.w3.org/2000/svg",width:"542",height:"59",fill:"none",viewBox:"0 0 542 59"},l=v('<path fill="#C9C9C9" stroke="#C9C9C9" stroke-width="2" d="M35 12a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"></path><path fill="#6E6E6E" d="M22.103 39.21c2.758 0 3.85-1.372 3.85-2.968 0-1.554-1.008-2.436-2.856-2.828l-1.75-.378c-1.246-.266-1.736-.714-1.736-1.512 0-1.05.84-1.652 2.268-1.652 1.526 0 2.408.672 2.52 1.946h1.246c-.154-1.932-1.512-3.01-3.724-3.01-2.296 0-3.542 1.148-3.542 2.828 0 1.596 1.176 2.268 2.8 2.604l1.4.294c1.554.322 2.114.84 2.114 1.778 0 1.134-.84 1.834-2.548 1.834-1.722 0-2.73-.714-2.87-2.38H18.03c.168 2.31 1.582 3.444 4.074 3.444Zm7.49-6.496 1.652.056v-.994l-1.652.056v-2.268h-1.288v2.254l-1.078-.042v.994l1.078-.056v4.676c0 1.12.49 1.61 1.61 1.61h1.316v-1.078h-.938c-.532 0-.7-.168-.7-.7v-4.508Zm9.568 5.334c-.476 0-.63-.154-.63-.63v-3.556c0-1.582-1.036-2.31-2.828-2.31-1.862 0-2.884.756-3.01 2.352h1.274c.084-.966.602-1.288 1.638-1.288 1.12 0 1.624.364 1.624 1.12v.308c0 .336-.168.504-.518.546l-1.848.238c-1.75.224-2.464 1.064-2.464 2.254 0 1.33.952 2.1 2.422 2.1 1.232 0 2.156-.546 2.618-1.246.056.714.476 1.064 1.246 1.064h.686v-.952h-.21Zm-4.102.14c-.84 0-1.386-.42-1.386-1.162 0-.644.392-1.092 1.4-1.246l2.156-.322v1.008c0 .924-1.008 1.722-2.17 1.722Zm9.272-6.608c-1.134 0-1.89.644-2.352 1.652v-1.456h-1.204V39h1.288v-3.948c.056-1.47 1.12-2.212 2.072-2.212.168 0 .308 0 .462.014v-1.26c-.084-.014-.168-.014-.266-.014Zm3.76 1.134 1.652.056v-.994l-1.652.056v-2.268h-1.288v2.254l-1.078-.042v.994l1.078-.056v4.676c0 1.12.49 1.61 1.61 1.61h1.316v-1.078h-.938c-.532 0-.7-.168-.7-.7v-4.508Zm9.484 2.506c0-2.254-1.274-3.612-3.304-3.612-2.156 0-3.402 1.54-3.402 3.752 0 2.226 1.274 3.808 3.43 3.808 1.582 0 2.772-.854 3.22-2.352l-1.176-.14c-.322.91-.938 1.442-2.002 1.442-1.302 0-2.142-.798-2.184-2.422h5.418v-.476Zm-3.29-2.562c1.176 0 1.918.742 2.086 2.114h-4.2c.126-1.414.966-2.114 2.114-2.114Zm9.997-3.626v3.612c-.462-.63-1.246-1.022-2.184-1.022-1.834 0-3.122 1.47-3.122 3.654 0 2.24 1.19 3.878 3.15 3.878 1.05 0 1.89-.546 2.324-1.302V39h1.12v-9.968h-1.288Zm-2.03 9.016c-1.246 0-1.988-1.092-1.988-2.772 0-1.652.77-2.548 2.016-2.548 1.204 0 2.072.868 2.072 2.576 0 1.708-.896 2.744-2.1 2.744Z"></path><path stroke="#C9C9C9" stroke-width="2" d="M178.333 13h-120"></path><path fill="#C9C9C9" stroke="#C9C9C9" stroke-width="2" d="M187.667 12a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"></path><path fill="#6E6E6E" d="M165.786 39h1.302v-9.968h-1.302V39Zm7.233-7.406c-1.064 0-1.932.434-2.422 1.204v-1.022h-1.204V39h1.288v-4.018c0-1.722 1.064-2.268 2.058-2.268.98 0 1.442.532 1.442 1.526V39h1.288v-5.012c0-1.526-.938-2.394-2.45-2.394Zm4.267 4.494h3.92v-1.162h-3.92v1.162Zm11.529-7.056h-7.966v1.134h3.332V39h1.302v-8.834h3.332v-1.134Zm3.617 2.548c-1.134 0-1.89.644-2.352 1.652v-1.456h-1.204V39h1.288v-3.948c.056-1.47 1.12-2.212 2.072-2.212.168 0 .308 0 .462.014v-1.26c-.084-.014-.168-.014-.266-.014Zm7.9 6.468c-.476 0-.63-.154-.63-.63v-3.556c0-1.582-1.036-2.31-2.828-2.31-1.862 0-2.884.756-3.01 2.352h1.274c.084-.966.602-1.288 1.638-1.288 1.12 0 1.624.364 1.624 1.12v.308c0 .336-.168.504-.518.546l-1.848.238c-1.75.224-2.464 1.064-2.464 2.254 0 1.33.952 2.1 2.422 2.1 1.232 0 2.156-.546 2.618-1.246.056.714.476 1.064 1.246 1.064h.686v-.952h-.21Zm-4.102.14c-.84 0-1.386-.42-1.386-1.162 0-.644.392-1.092 1.4-1.246l2.156-.322v1.008c0 .924-1.008 1.722-2.17 1.722Zm9.342-6.594c-1.064 0-1.932.434-2.422 1.204v-1.022h-1.204V39h1.288v-4.018c0-1.722 1.064-2.268 2.058-2.268.98 0 1.442.532 1.442 1.526V39h1.288v-5.012c0-1.526-.938-2.394-2.45-2.394Zm7.137 7.588c1.904 0 3.01-.868 3.01-2.282 0-1.05-.616-1.708-2.114-2.044l-1.4-.308c-.854-.182-1.12-.504-1.12-.966 0-.644.546-.952 1.456-.952 1.022 0 1.568.406 1.708 1.246h1.274c-.182-1.554-1.302-2.268-2.94-2.268-1.778 0-2.688.826-2.688 2.086 0 1.022.602 1.666 2.002 1.96l1.456.308c.756.154 1.134.476 1.134 1.05 0 .686-.546 1.134-1.722 1.134-1.106 0-1.708-.42-1.834-1.428h-1.232c.168 1.652 1.19 2.464 3.01 2.464Zm4.618-8.764h1.288v-1.386h-1.288v1.386Zm0 8.582h1.288v-7.224h-1.288V39Zm5.333-6.286 1.652.056v-.994l-1.652.056v-2.268h-1.288v2.254l-1.078-.042v.994l1.078-.056v4.676c0 1.12.49 1.61 1.61 1.61h1.316v-1.078h-.938c-.532 0-.7-.168-.7-.7v-4.508Z"></path><path stroke="#C9C9C9" stroke-width="2" d="M331 13H211"></path><path fill="#fff" stroke="#134A7D" stroke-width="2" d="M336.333 12c0-6.075 4.925-11 11-11s11 4.925 11 11-4.925 11-11 11-11-4.925-11-11Z"></path><path fill="#134A7D" fill-rule="evenodd" d="m343.487 11.6-1.154 1.2 3.077 3.2 6.923-6.8-1.154-1.2-5.769 5.6-1.923-2Z" clip-rule="evenodd"></path><path fill="#134A7D" d="M320.523 36.528c1.456-.384 2.176-1.328 2.176-2.784 0-1.616-.88-3.136-3.6-3.136h-5.312V42h2.368v-4.416h2.096c1.232 0 1.632.512 1.728 1.488l.272 2.928h2.432l-.464-3.616c-.096-.752-.368-1.584-1.696-1.856Zm-4.368-.864v-3.072h2.592c1.168 0 1.632.64 1.632 1.472 0 .88-.528 1.6-1.952 1.6h-2.272Zm16.096 2.496c0-2.896-1.792-4.624-4.24-4.624-2.528 0-4.064 1.888-4.064 4.304 0 2.528 1.568 4.448 4.304 4.448 1.856 0 3.232-.88 3.792-2.672l-2.24-.16c-.272.72-.816 1.072-1.6 1.072-1.12 0-1.84-.736-1.936-1.984h5.984v-.384Zm-4.16-2.976c1.024 0 1.696.672 1.824 1.824h-3.664c.112-1.136.816-1.824 1.84-1.824Zm9.152 7.088c2.08 0 3.488-1.152 3.824-3.12h-2.208c-.256.896-.784 1.36-1.584 1.36-1.152 0-1.824-.928-1.824-2.608 0-1.68.672-2.608 1.824-2.608.816 0 1.344.432 1.584 1.328h2.208c-.336-1.952-1.712-3.088-3.824-3.088-2.448 0-3.968 1.712-3.968 4.368 0 2.656 1.52 4.368 3.968 4.368Zm13.102-4.112c0-2.896-1.792-4.624-4.24-4.624-2.528 0-4.064 1.888-4.064 4.304 0 2.528 1.568 4.448 4.304 4.448 1.856 0 3.232-.88 3.792-2.672l-2.24-.16c-.272.72-.816 1.072-1.6 1.072-1.12 0-1.84-.736-1.936-1.984h5.984v-.384Zm-4.16-2.976c1.024 0 1.696.672 1.824 1.824h-3.664c.112-1.136.816-1.824 1.84-1.824Zm5.616-2.528h2.256v-2.048h-2.256v2.048Zm0 9.344h2.256v-8.256h-2.256V42Zm8.924-8.256-.752 2.48-.8 3.6-.848-3.6-.688-2.48h-2.384l2.72 8.256h2.304l2.72-8.256h-2.272Zm11.182 4.416c0-2.896-1.792-4.624-4.24-4.624-2.528 0-4.064 1.888-4.064 4.304 0 2.528 1.568 4.448 4.304 4.448 1.856 0 3.232-.88 3.792-2.672l-2.24-.16c-.272.72-.816 1.072-1.6 1.072-1.12 0-1.84-.736-1.936-1.984h5.984v-.384Zm-4.16-2.976c1.024 0 1.696.672 1.824 1.824h-3.664c.112-1.136.816-1.824 1.84-1.824Zm10.96-4.576v3.968c-.56-.688-1.344-1.04-2.4-1.04-1.872 0-3.376 1.6-3.376 4.304 0 2.656 1.472 4.432 3.552 4.432 1.024 0 1.84-.432 2.4-1.296l.08 1.024h2V30.608h-2.256Zm-1.744 9.68c-1.088 0-1.856-.928-1.856-2.448 0-1.504.768-2.432 1.856-2.432s1.856.944 1.856 2.432-.768 2.448-1.856 2.448Z"></path><path stroke="#C9C9C9" stroke-width="2" d="M483.667 13h-120"></path><path fill="#fff" stroke="#C9C9C9" stroke-width="2" d="M493 12a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"></path><path fill="#6E6E6E" d="M476.297 35.822c-.098-.924-.658-1.498-1.526-1.666 1.05-.294 1.778-1.204 1.778-2.492 0-1.596-1.148-2.632-3.052-2.632h-4.62V39h1.302v-4.298h3.08c1.162 0 1.666.462 1.792 1.638l.294 2.66h1.316l-.364-3.178Zm-3.248-2.254h-2.87v-3.402h3.094c1.26 0 1.946.574 1.946 1.624 0 1.134-.812 1.778-2.17 1.778Zm11.997 1.652c0-2.254-1.274-3.612-3.304-3.612-2.156 0-3.402 1.54-3.402 3.752 0 2.226 1.274 3.808 3.43 3.808 1.582 0 2.772-.854 3.22-2.352l-1.176-.14c-.322.91-.938 1.442-2.002 1.442-1.302 0-2.142-.798-2.184-2.422h5.418v-.476Zm-3.29-2.562c1.176 0 1.918.742 2.086 2.114h-4.2c.126-1.414.966-2.114 2.114-2.114Zm7.911-2.548h.742v-1.078h-.77c-1.512 0-2.17.658-2.17 2.17v.616l-1.162-.042v.994l1.162-.056V39h1.288v-6.286l1.652.056v-.994l-1.652.056v-.812c0-.686.224-.91.91-.91Zm7.006 1.666v4.018c0 1.722-1.064 2.268-2.058 2.268-.98 0-1.442-.532-1.442-1.526v-4.76h-1.288v5.012c0 1.526.938 2.394 2.45 2.394 1.064 0 1.932-.434 2.422-1.204V39h1.204v-7.224h-1.288Zm7.15-.182c-1.064 0-1.932.434-2.422 1.204v-1.022h-1.204V39h1.288v-4.018c0-1.722 1.064-2.268 2.058-2.268.98 0 1.442.532 1.442 1.526V39h1.288v-5.012c0-1.526-.938-2.394-2.45-2.394Zm9.573-2.562v3.612c-.462-.63-1.246-1.022-2.184-1.022-1.834 0-3.122 1.47-3.122 3.654 0 2.24 1.19 3.878 3.15 3.878 1.05 0 1.89-.546 2.324-1.302V39h1.12v-9.968h-1.288Zm-2.03 9.016c-1.246 0-1.988-1.092-1.988-2.772 0-1.652.77-2.548 2.016-2.548 1.204 0 2.072.868 2.072 2.576 0 1.708-.896 2.744-2.1 2.744Zm11.838-2.828c0-2.254-1.274-3.612-3.304-3.612-2.156 0-3.402 1.54-3.402 3.752 0 2.226 1.274 3.808 3.43 3.808 1.582 0 2.772-.854 3.22-2.352l-1.176-.14c-.322.91-.938 1.442-2.002 1.442-1.302 0-2.142-.798-2.184-2.422h5.418v-.476Zm-3.29-2.562c1.176 0 1.918.742 2.086 2.114h-4.2c.126-1.414.966-2.114 2.114-2.114Zm9.997-3.626v3.612c-.462-.63-1.246-1.022-2.184-1.022-1.834 0-3.122 1.47-3.122 3.654 0 2.24 1.19 3.878 3.15 3.878 1.05 0 1.89-.546 2.324-1.302V39h1.12v-9.968h-1.288Zm-2.03 9.016c-1.246 0-1.988-1.092-1.988-2.772 0-1.652.77-2.548 2.016-2.548 1.204 0 2.072.868 2.072 2.576 0 1.708-.896 2.744-2.1 2.744Z"></path>',12),Z=[l];function m(e,a){return h(),c("svg",t,Z)}const d={render:m};export{d as default,m as render};
OptInChecked=s)},{default:y(()=>[l("label",{for:"email-optin__checkbox",innerHTML:e.globalModalAccountCreationContent.clickwrap_checkbox||""},null,8,ne)]),_:1},8,["checked"])):_("",!0),g(v,{class:"clickwrap-notice","content-id":r.clickwrapNoticeId,html:e.globalModalAccountCreationContent.clickwrap_notice||""},null,8,["content-id","html"])],40,oe)])]),_:1},8,["class","headline","copy","button-text","link-text","disabled","onButtonClick","onLinkClick"])}const de=w(te,[["render",le],["__scopeId","data-v-0f7fa4ee"]]),ce={components:{BlockBasic:L},props:{headline_text:{type:String,default:""},copy:{type:String,default:""}}},me={class:"container"};function he(e,t,o,i,n,r){const c=a("BlockBasic");return d(),M("div",me,[g(c,{headline:o.headline_text,copy:o.copy},null,8,["headline","copy"])])}const ue=w(ce,[["render",he]]);const{NGS_ENV_REFER_A_FRIEND_PROGRAM:pe}=$,ge={mixins:[V(ee)],emits:["close","resetPassword","etoUserFound","type"],props:{isValidParams:{type:Boolean,default:!1}},components:{EmailCheck:H,ReferFriendRegistrationForm:de,ResponsiveModal:D,ReferAFriendExistingUser:ue},data:()=>({email:"",editEmail:!1,registrationGateEntry:{}}),computed:{...k(P,["country","locale"]),...R("auth",["loggedIn","hardLoggedIn"]),...U("userProfileState",["record"]),...k(T,["countryHasLoyaltyInLSA","isLoyaltyReferAFriendEnabled","paths"]),...k(j,["referralPage"]),...k(S,["globalModalEmailSignupWelcomeContent"]),getClassName(){return["registration-gate-modal","raf-registration-gate-modal","light",this.getFormsClass]},getModalBodyClass(){return["registration-gate-body","lsco-col-xs-20","lsco-col-md-offset-2","lsco-col-md-offset-right-2","lsco-col-md-7",{"enrollment-confirmation__modal":this.stateName===f.ENROLLMENT_CONFIRMATION}]},canGoBack(){return[f.REGISTRATION].includes(this.stateName)},emailCheckProps(){var e,t,o;return{...(e=this.registrationGateEntry)==null?void 0:e.existing_email_check,ariaLabelledby:(o=(t=this.registrationGateEntry)==null?void 0:t.existing_email_check)==null?void 0:o.headline_text,darkScheme:!0}},registrationFormProps(){var e,t,o;return{...(e=this.registrationGateEntry)==null?void 0:e.create_account,ariaLabelledby:(o=(t=this.registrationGateEntry)==null?void 0:t.create_account)==null?void 0:o.headline_text}},existingUserRAFProps(){var e,t,o,i,n,r,c,h;return this.isValidParams?{...(r=this.registrationGateEntry)==null?void 0:r.email_exists,ariaLabelledby:(h=(c=this.registrationGateEntry)==null?void 0:c.email_exists)==null?void 0:h.headline_text}:(t=(e=this.registrationGateEntry)==null?void 0:e.not_eligible)!=null&&t.headline_text?{...(o=this.registrationGateEntry)==null?void 0:o.not_eligible,ariaLabelledby:(n=(i=this.registrationGateEntry)==null?void 0:i.not_eligible)==null?void 0:n.headline_text}:{headline_text:this.$t("i18n.referAFriendSorry"),copy:this.$t("i18n.referAFriendNotEligible"),ariaLabelledby:this.$t("i18n.referAFriendSorry")}},getFormsClass(){return this.isValidParams?"email-entry-form":(this.stateService.send(p.USER_FOUND),"oops-modal")},clickwrapNotice(){const{termsOfUseRedTab:e}=this.paths;return this.$t("i18n.referAFriendTermsApply",[e])}},watch:{loggedIn(e){if(!e)return;[f.EMAIL_CHECK,f.LOGIN].includes(this.stateName)&&this.close()},referralPage(e){e&&this.fetchCms()}},created(){this.$_states=f,this.$_events=p,this.fetchCms()},methods:{close(){this.$emit("close")},onEmailCheckLinkClicked({linkUrl:e}){this.redirectAndCloseModal({redirectPath:e})},onUserFound(e){this.email=e,this.stateService.send(p.USER_FOUND)},onUserNotFound(e){this.email=e,this.stateService.send(p.USER_NOT_FOUND)},redirectAndCloseModal({redirectPath:e}){this.$router.push({path:O(e,this.country,this.locale)}),this.close()},async fetchCms(){var e;this.registrationGateEntry=(e=this.referralPage)==null?void 0:e.referral_registration},onBackButtonClicked(){this.editEmail=!1,this.stateService.send(p.BACK)},onClickEditEmail(){this.editEmail=!0,this.stateService.send(p.BACK)},onEtoUserFoundDuringRegistration(e){this.$authEmitter.emit(x.CLOSE_REGISTRATION_GATE),this.$authEmitter.emit(x.MERGE_ACCOUNT,{userEmail:e})},onUserRegistered(){this.getPromoCode(),this.close()},async getPromoCode(){typeof window=="object"&&this.isLoyaltyReferAFriendEnabled&&this.hardLoggedIn&&(await G(),function(e,t,o,i,n){for(e[t]=e[t]||{},e[t].q=e[t].q||[];n<i.length;)o(i[n++],e[t])}(window,"extole",(e,t)=>{t[e]=t[e]||function(){t.q.push([e,arguments])}},["createZone"],0),window.extole.createZone({name:"conversion",data:{email:this.record.uid,coupon_code:"REFER",first_name:this.record.firstName,last_name:this.record.lastName,partner_user_id:this.record.customerId,label:pe,advocate_code:this.$route.query.extole_shareable_code,country:`${this.country}`,locale:`${this.locale}`}}))}}};function _e(e,t,o,i,n,r){const c=a("EmailCheck"),h=a("ReferFriendRegistrationForm"),C=a("ReferAFriendExistingUser"),b=a("ResponsiveModal");return d(),m(b,{class:u(r.getClassName),"full-width-mobile":!1,"can-close":!0,"show-back-button":r.canGoBack,"show-close-button":!0,onBackClicked:r.onBackButtonClicked,onCloseModal:r.close},{body:y(()=>[l("div",{"data-testid":"registration-gate-content",class:u(r.getModalBodyClass)},[e.stateName===e.$_states.EMAIL_CHECK?(d(),m(c,N({key:0},r.emailCheckProps,{class:"email-check","initial-email":e.email,"edit-email":e.editEmail,"clickwrap-notice":r.clickwrapNotice,onUserFound:r.onUserFound,onUserNotFound:r.onUserNotFound,onLinkClicked:r.onEmailCheckLinkClicked}),null,16,["initial-email","edit-email","clickwrap-notice","onUserFound","onUserNotFound","onLinkClicked"])):_("",!0),e.stateName===e.$_states.REGISTRATION?(d(),m(h,N({key:1},r.registrationFormProps,{"supplied-email":e.email,"onUpdate:suppliedEmail":t[0]||(t[0]=E=>e.email=E),onUserRegistered:r.onUserRegistered,onRedirectAndClose:r.redirectAndCloseModal,onOnEditLinkClick:r.onClickEditEmail,onEtoUserFound:r.onEtoUserFoundDuringRegistration}),null,16,["supplied-email","onUserRegistered","onRedirectAndClose","onOnEditLinkClick","onEtoUserFound"])):_("",!0),e.stateName===e.$_states.LOGIN?(d(),m(C,B(N({key:2},r.existingUserRAFProps)),null,16)):_("",!0)],2)]),_:1},8,["class","show-back-button","onBackClicked","onCloseModal"])}const Ye=w(ge,[["render",_e],["__scopeId","data-v-4c8b1844"]]);export{Ye as default};
