"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[3788],{93788:(e,t,a)=>{a.r(t),a.d(t,{default:);var i,r,n,o,s=a(3e4),p=a(66062),c=(a(91938),a(76955)),g=a(55752),d=a.n(g),m=a(29466),l=a.n(m),u=a(97175),h=a(66948),y=a(43177),b=a.n(y),f=a(12943),v=a.n(f),_=a(55382),T=a.n(_),I=a(77948),Z=a(48516),E=a(36509),L=a(16884),k=a(73614),w=a(89865),P=a(5563),D=a(10793),A=a(75457);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function O(){return(O=(0,p.Z)((function*(e){var{dispatch:t,getState:a,match:i}=e,{params:r}=i,n=r.amebaId,o=yield t((0,k.Rs)(n));if(!o||!o.error){var s=a().bloggerState,p=s.bloggerMap,c=s.blogMap[(p[n]||{}).blog];if(c&&c.blog_id){var g=r.entryId||"";if(""===g){var d=a().entryState,m=M(r.page);g=((d.pcBlogTopPageMap["".concat(c.blog_id,"/").concat(m)]||{}).data||[])[0]}g&&c.blog_id&&(yield t((0,w.KL)(g,c.blog_id)))}}}))).apply(this,arguments)}var S=(0,h.$j)((function(e,t){var{match:a}=t,{params:i,route:r}=a,n=i.amebaId,o=r.pageType,s=e.bloggerState,p=e.blogRecentEntryState,c=s.bloggerMap[n]||{},g=(c.attribute||{}).isOfficial,m=s.blogMap[c.blog]||{},l=i.entryId||"";if(""===l){var u=e.entryState,h=M(i.page);l=((u.pcBlogTopPageMap["".concat(m.blog_id,"/").concat(h)]||{}).data||[])[0]}return{amebaId:n,imageProtectionType:d()(c,"official.image_protection_type")||"",isOfficial:g,pageType:o,recentlyImageEntries:(p.blogRecentEntry[l]||{}).recently_image_entry||[]}}),{trackTapLog:P.XI})(i=(0,u.provideHooks)({done:)((n=r=class extends c.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.imageProtectionType!==e.imageProtectionType||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||!l()(this.props.recentlyImageEntries,e.recentlyImageEntries)}getDateForImage(e){var t=b()(new Date,I.Z.DEFAULT_DATE),a=b()(e.entry_created_datetime,I.Z.DEFAULT_DATE);switch(v()(t,a)){case 0:return"\u4eca\u65e5";case 1:return"\u6628\u65e5";case 2:return"\u304a\u3068\u3068\u3044";default:return a}}renderImageList(){return this.props.recentlyImageEntries.slice(0,4).map(((e,t)=>{var a=this.getDateForImage(e),i="amember"===e.publish_flg,r=i?(0,s.Z)("img",{alt:e.entry_title,height:110,src:"".concat(window.process.env.HTTP_PATH_STAT,"/blog/img/user/thumb_amember_110.gif"),width:110}):(0,s.Z)("img",{alt:e.entry_title,height:215,src:"".concat(window.process.env.HTTP_PATH_BLOG_IMG).concat(e.image_url,"?cpd=").concat(215),width:215}),n=i?"":"?frm_src=thumb_module";return(0,s.Z)("li",{},"recent_image_entry_".concat(e.entry_id),(0,s.Z)(D.f,{orderId:"".concat(t+1),pageId:this.props.pageType,sectionId:"image-article",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,s.Z)(Z.Z,{"data-uranus-component":"imageEntriesTarget",targetUrl:"".concat((0,E.IT)(this.props.amebaId,e)).concat(n)},void 0,(0,s.Z)("div",{"data-uranus-component":"imageEntriesCover"},void 0,r),(0,s.Z)("p",{"data-uranus-component":"imageEntriesTitle"},void 0,e.entry_title),(0,s.Z)("p",{className:T()({"skin-textQuiet":!i}),"data-uranus-component":"imageEntriesDatetime"},void 0,a))))}))}render(){var{recentlyImageEntries:e}=this.props;return!e||e.length<4?null:(0,s.Z)("div",{"data-uranus-component":"mainWidget"},void 0,o||(o=(0,s.Z)("div",{className:"skin-mainWidgetTitle skin-borderLoud","data-uranus-component":"mainWidgetHeader"},void 0,(0,s.Z)("h4",{},void 0,"\u753b\u50cf\u3064\u304d\u8a18\u4e8b"))),(0,s.Z)("div",{"data-uranus-component":"mainWidgetBody"},void 0,(0,s.Z)("ul",{"data-uranus-component":"imageEntries"},void 0,this.renderImageList())),"all_deny"!==this.props.imageProtectionType&&(0,s.Z)("div",{"data-uranus-component":"mainWidgetFooter"},void 0,(0,s.Z)(D.f,{pageId:this.props.pageType,sectionId:"image-article-list",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,s.Z)("a",{className:"skin-btn","data-uranus-component":"button",href:(0,L.Z)(A.Z.ImageList,{amebaId:this.props.amebaId})},void 0,"\u3082\u3063\u3068\u898b\u308b"))))}},r.displayName="PcRecentEntryImageListUranus",i=n))||i)||i}}]);