/*!
 * 阿里巴巴企业智能前端监控 AES 版本： v0.11.18
 * 如有疑问请联系： 曙月<tommy.lky@.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=136)}([function(e,t,n){"use strict";var r=n(5),o="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast,i="undefined"!==typeof wx&&!!wx&&("undefined"!equestIdleCallback(e,{timeout:t||1e3}):setTimeout(e,0)}function u(e){return"undef/.test(e)||/micromessenger/.test(e)}catch(n){return!1}}()?5e3:35e3,f=[],l=[],d=function x(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:20,t=arguments.length>1?arguments[1]:undefined;return t=t||"",e?x(--e,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".charAt(Math.floor(60*Mh(n+"="+encodeURIComponent(p[n]));return t.join("&")}functioncat(["pid"]).some((function(e){return p[e]===undefined}))}c.setConfig=function(e,t){var n=function(){if(t!==undefined)p[e]=t;else fngth?(n(),m()||(l.forEach((function(e){v.apply(null,e)})),l=[])):(function(){if(t!==undefined)return t!==p[e];for(var n in e)if(}()&&h(),n())e]:p},c.updatePVID=function(){c.setConfig("pv_id",d())},c.log=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(e){t.ts=t.ts||(new Date).getTime(),t.type=e;var o=[];for(var i in t){var a=t[i],u=Object.prototype.toString.call(a);"[object String]"!==u&&"[object Number]"!==u&&"[object Boolean]"!==u&&"[object Object]"!==u&&"[object Array]"!==u||("[object Object]"!==u&&"[object Array]"!==u||(a=Object(r.a)(a)),o.push("".concat(i,"=").concat(encodeURIComponent(a))))}t=encodeURIComponent(o.joi.then((f function(){var n=arguments;e.apply(c,n),t.apply(c,n)}};var y=c,b=-1!==nvar o in window.AES_CONFIG)t[o]=AES_CONFIG[o];return t}()),window.addEventListener("hashchange",(function(){y.setConfig("hash",location.hash)}));var w=navigator.connection||navigatorEach((function(e){a((function(){y.send(e)})).observe(e,{childList:!0,characterData:!0,subtree:!0})};document.querySelector("title")?E():document.addEventListeneid")!==r&",arguments:r})}else _.length>500&&ion"===ty objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return c}));var r=function(){return window.__getUserId&&__getUserId()||window.g_config&&window.g_config.loginUserId||function(){if(typeof document===undefined)return"";var e=document.cookie,t=(/emplid=([^;]+)/i.exec(e)||[])[1],n=(/work_?no=([^;]+)/i.exec(e)||[])[1],r=(/SSO_EMPID_HASH=([^;]+)/.exec(e)||/SSO_EMPID_HASH_V2=([^;]+)/.exec(e)||[])[1];return t||n||r||""}()},o=function(){var e="",t="",n=window,r=n._SPM_a,o=n._SPM_b;if(r&&o)e=r,t=o;else{var i=document.head||document.querySelector("head"),a=i&&i.getElementsByTagName("meta");if(a)for(var u=0,c=a.length;u<c;u++){var s=a[u],f=s&&s.getAttribute&&s.getAttribute("name");if(f){var l=s.getAttribute("content");if("data-spm"===f&&l)e=l;else if("spm-id"===f){var d=l&&l.split(".")||[];e=d[0],t=d[1]}}}var p=document.body;if(p){var h=p&&p.getAttribute&&p.getAttribute("data-spm");h&&(t=h)}}return[e||"0",t||"0"]},i=function(e,t,n){0===e.indexOf("//")&&"file:"===location.protocol&&(e="https:"+e);var r=document.createElement("script");r.crossOrigin="anonymous",r.src=e,r.charset="utf-8",t&&(r.onload=t),n&&(r.onerror=n),document.head.insertBefore(r,docy,u=function(){return window.AES&&window.AES.setConfig},c=function(e){if("aap.alibaba-inc.com"===e)return-1!==location.href.indexOf("https://aap.alibaba-inc.com/admin");return-1!==["cmall.alibaba-inc.com","csupplier.alibabacorp.com","procurement.alibaba-inc.com","pur-infraurn"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(u)throw o}}return i}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array+)r[n]=e[n];return r}n.d(t,"a",(fo:function(e){return s&&l.N;e.exports=function(e){return i?oor("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){e.exports=n(86)},function(e,t,n){e.exports=n(97)},function(e,t"default"]=e.exports},function(e,t,n){e.exports=n(115)},function(e,t,n){"use strict";var r=n(80);e.exports=r;var function f(e){var t=new r(r._D);return t._y=1,t._z=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(e===undefined)return u;if(!0===e)return o;if(!1===e)return i;if(0===e)return c;if(""===e)return s;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new r(t.bind(e))}catch(n)rototype.slice.call(e)},Array.prototype.slice.caljec,0===--o&&e(t))},r.allreject=l(e).forEach((functiorototy)ch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(6),o=n(1),i=n(7),a=Object(o.a)({},window.AES_CONFIG||{});a.requiredFields=["equiredFields||[]).filter((function(e){return"pid"!==e}))));var u=Object(i.b)(),c=a.spm_a||u[0];null==a.pid&&"0"!==c&&(a.pid="xux-".concat(c)),null==a.spm_a&&"0"!==c&&(a.spm_a=c),null==a.spm_b&&"0"!==u[1]&&(a.spm_b=u[1]),null==a.uid&&(a.uid=Object(i.c)(),a.user_type=14),/\bpre[0-9]?\b/.test(location.hostname.split(".")[0])&&(a.env="pre"),"__spa__"===a.spm_b&&(a.plugin_pv=Object(o.a)(Object(o.a)({},a.plugin_pv),{},{autoPV:!1})),a.plugin_jserror=Object(o.a)({disable_unhandled_rejection:!0},a.plugin_jserror),"8161610"===a.spm_b&&(a.plugin_jserror.ignoreList=[function(){return!0}]),Object(i.d)(location.hostname)&&(a.plugin_repeat_path={minNodeNum:3,minRepeatNum:3}),Object(i.e)()?(window.AES.setConfig(a),console.warn("[monitor-aes] \u4f01\u4e1a\u667a\u80fd\u7edf\u4e00\u76d1\u63a7\u53d1\u73b0 AES \u5df2\u7ecf\u8f7d\u5165\u5b8c\u6bd5\uff0c\u5c1d\u8bd5\u8865\u5145\u914d\u7f6e\u4f46\u53e,t)}catch(n){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){n(50)e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(10),o=n(15),i=n(48),a=n(26),u=n(16),c=n(70),s=n(36),f=n(71),l=n(17),d=n(34),p=n(11).f,h=n(120)(0),v=n(14);e.exports=function(e,t,n,g,m,y){var b=r[e],_=b,w=m?"set":"add",O=_&&_.prototype,(y||O.for){f(t,_,e,"_c"),t._c=new b,n!=undefined&&s(n,m,t[w],t)})),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"=ndefined;var o=this._c[e](0===n?0:_.prototype,"size",{get:function(){return this._c.size}})):(_=g.getConstructor(t,e,m,w),c(_.prototype,n),i.NEED=!0),dts=function(e,t){var n=[];return.push(u(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"test",(t(n):"HAS_CONTENT"==t?n&&n.textContent:!!n)}catch(r){}},s=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1?arguments[1]:undefined,n=Object(i.a)({},u.a.getConfig(),e),r=n.plugin_blank_target,o=n.plugin_blank_tester,s=void 0===o?"EXISTS":o,f=n.plugin_blank_when,l=void 0===f?["timeout","leave"]:f,d=n.plugin_blank_timeout,pg=function(){v.forEach((function(e){return e()})),v=[]},m=function(e){try{!h&&c(r,s)&&(u.a.log("blank",{p1:p,p2:r,p3:Object(a.a)()-t,p4:"complete"===document.readyState,p5:e}),h=!0),g()}catch(n){}};return l.forEach((function(e){var n=function(){m("function"===typeof e?"custom":e)};if("timeoubject(a.a)()-t));v.push((function(){r&&clearTimeout(r)}))}else if("leave"==="complete"===document.readyState&&document.hidden&&n()}),v.push((function(){document.removeEventListener("visibilitychange",o)}))}else or",i=function(){"complete"===document.readyState&&n()}),v.push((function(){window.removeEventListener("error",i)}))}else if("load"===e)"complete"===document.readyState?set.push((function(){window.removeEventListener("load",n)})));else if("function"===typeof e){var u=e(n);"function"===typeof u&&v.push(u)}})),g}};!1!==u.a.getConfig("plugin_blank_autoTest")&&s(undefined,null===(r=window.performance)||void 0===r||null===(oid 0:o.navigationStart);var f=function(e){return s(e)};t["default"]={test:f}},function(e,t,n){"use strict";n.r(t),n.d(t,"addPlugin",(function(){return T})),n.d(t,"removePlugin",(function(){return L})),n.d(t,"builtinPlugin",(function(){return ve})),n.d(t,"start",(function(){return Se}))n(){return Le})),n.d(t,"autolog",(function(){return Te}));var r=n(1),o=n(9),i=n(0),a=/(^[\s\u3000*]un?[\d,]+(\.\d+)?$/.test(e)?"[NUMBER]":e.substr(0,30):""};function s(e){for(var t=Array.isArray(e)?e:[e],n=t.length,r=0;r<n;r++){var o=t[r];if(u(o)){var i=u(f(o));if(!i)continue;return c(i.replace(a,""))}}return""}function f(e){if(!!e.querySelector(".badge")){var t=e.cloneNode(!0),n=document.createElement("div");return n.appendChild(t),n.removeChild(t),(Array.prototype.t=e.parentElement)||void 0===t?void 0:t.removeChild(e)})),t}return e}var l=["button","checkbo=e.getAttribute("role");return t&&l.indexOf(t)>-1?t:""}function p(e){for(var t=[],n=[],r=[],o=e,i=!1,a=function(){var e=o.tagName,a="string"===typeof e?e.toLocaleLowerCase():o instanceof HTMLFormElement?"form":"unknown";if(r.push(a),t.push(o),!i){var u=o.id;if(u&&o!==document.body&&o!==document.documentElement&&(n.push('/*[@id="'.concat(u,'"]')),i=!0),o.parentElement){var c=Array.((function(e){return e.tagName.toLocaleLowerCase()===a}));c.length>1&&(a="".concat(a,"[").concat(c.indexOf(o)+1,"]"))}i||n.push(a)}o=o.parentElement};o;)a();return{reversedXPathArray:n,reversedDOMArray:t,xpath:h(n),reversedTagNameArray:r}}function h(e){var t=[].concat(e);return"/".concat(t.reverse().join("/"))}var v,g,m,y,b,_=function(){var e=null!==i.a&&void 0!==i.a&&i.a.getConfig?w(i.a.getConfig("plugin_autolog")):{};return Object(r.a)(Object(r.a)({},{click:"all",exposure:"manual",autoLoad:!0,autologProps:["data-autolog"],containerProps:["data-autolog-container"]}),e||{})},w=function(e)(e).forgth>0)for(var r=0;r<e.length;r++)n.push(e[r]);return n},E=["__continue","__restart","__break"],A=["target","extra"],x=[],S=[],T=function(e,t,n){L(e.name,!0);var o=w(t),i=Object(r.a)(Object(r.a)({},e),{},{config:o});console.log("[aes-autolog] \u6ce8\u518c\u63d2\u4ef6",i),x[n?"unshift":"push"](i),k()},L=function(e,t){e&&(console.log("[aes-autolog] \u79fb\u9664\u63d2\u4ef6",e),x=!0===e?[]:x.filter((function(t){return t.name!==e})),!t&&k())},k=function(){var e=[],t=[];x.forEach((function(n){if(n.prioritizedRules){var o=e.concat(n.prioritizedRules);e=o.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{plue){return Object(r.a)(Object(r.a)({},e),{},{plice(0,a),reversedXPathArray:u,xpath:h(u)}}return p(e)}(e,t):p(e);return Object(r.a)(Object(r.a)({},n),{},{tagName:e.tagName.toLowerCase()})},P=function(e,t,n){var i=function l(e){var t=e.source,n=e.logType,i=e.isRestarted,a=e.isByManual;console.log("[aes-autolog] \u4e8b\u4ef6\u89e6\u53d1\u76ee\u6807",t);for(var u=S.length,c={feature:"",text:"",xpath:"",container:"",target:t},f={info:j(t),utils:{getFeature:d,getText:s}},p=Object(r.a)({source:t,logType:n,isByManual:a},f),h=0;h<u;h++){var v=S[h];try{var g=v.selector,m=v.action,y=v.plugin;p.config=Object(r.a)(Object(r.a)({},y.defaultConfig),y.config);var b=g(p);if(b){console.log("[aes-autolog] \u547d\u4e2d\u89c4\u5219",v),p.target=b,c.target=b,b!==t&&b&&(p.info=j(b));var _="function"===typeof m?m(p):m;if(_){_.__continue,_.__restart;var O=_.__break,A=Object(o.a)(_,E);if(O){c.feature="";break}if(_.__restart){if(!i)return l({source:b,logType:n,isRestarted:!0,isByManual:a});console.error("[aes-autolog] \u5df2\u7ecf\u91cd\u65b0\u6267\u884c\u8fc7\u89c4\u5219\u3002\u8bf7\u68c0\u67e5\u89c4\u5219\u903b\u8f91"),console.error(v)}if(c.feature=A.feature||c.feature||d(b),c.text=A.text||c.text||s(b)||A.placeholder||"",c.xpath=A.xpath||c.xpath||p.info.xpath,c.container=A.container||c.container||"",c.extra=A.extra?Object(r.a)(Object(r.a)({},c.extra),w(A.extra)):c.extra,_.__continue)continue}else c.feature=c.feature||d(b),c.text=c.text||s(b),c.xpath=c.xpath||p.info.xpath;break}}catch(x){console.error("[aes-autolog] \u89c4\u5219\u6267\u884c\u51fa\u9519",v),console.error(x)}}return c}({source:e,logType:t,isByManual:n}),a=i.target,u=i.extra,c=Object(o.a)(i,A);if(console.log("[aes-autolog] \u91c7\u96c6\u7ed3\u679c",a,c),!!c.feature){var f=Object(r.a)(Object(r.a)(Object(r.a)({},w(u)),w(c)),{},{className:a.getAttribute("class")||"",selector:"",logtype:t});return consol\u679c",f),f}},N=function(){return(new Date).valueOf()},M=window&&"ontouchstart"in window,C={},I=function(){Object.keys(C).map((function(e){var t=e,n=C[t];n&&docu),U=n(2);!fXP_WATCH_CHANGE",e.DOM_DURATION_END="DOM_DURATION_END"}(g||(g={})),function(e){e[e.INIT=0]="INIT",e[e.IN_Vction(e){e[[e.LISTENING=1]="b||(b====e||null===(t=e.globalConfig)||void 0===t||!t.debug)},F=function(){var e;return!!window.IntersectionObserver&&!(null!==(e.getAttribute?e.getAttribute("autolog-exp-hash"):null}var X=function(e){var t={};return e&&("function"===typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()),G(t.x)||G(t.left)&&(t.x=t.left),G(t.y)||G(t.top)&&(t.y=t.top),G(t.width)||(t.width=e.offsetWidth),G(t.height)||tBottom[0]&&t.y>=e.pLeftTop[1]&&t.y<=e.pRightBottom[1]},V=function(e,t){var n=0,r=q(e,t),o=q(e,{x:t.x+t.width,y:t.y}),i=q(e,{x:t.x,y:t.y+t.(n=function(){var e=0;return r&&a&&(e=t.size/t.size),e}())>0||(n=function(){var n=0,u=0;return r&&o&&!i&&!a?(n=t.width,u=e.pLeftBottom[1]-t.y):!r&&o&&!i&&a?(n=t.width+t.x,u=t.y):!r&&!o&&i&&a?(n=t.width,u=t.height+t.y):r&&!o&&i&&!a&&(n=e.pRightTop[e.pRightBottom[1]-t.y),t.size>0?Math.abs(n*u)/t.size:0}()};function z(e){var t=[];if(e&&"function"===typeof document.querySelector){var n=document.querySelector(e);if(n){var r=X(n)||{};if(G(r.x)&&G(r.y)&&G(r.width)&&G(r.height)){var o=r;t.push({pLeftTop:[o.x,o.y],pRightTop:[o.x+o.width,o.y],pLeftBottom:[o.x,o.y+o.height],pRightBottom:[o.x+o.width,o.y+o.height]})}}}var i=document.documentElement,a=document.body,u=i.clientWidth||a.offsetWidth||0,c=i.clientHeight||a.offsetHeight||0;return t.push({pLeftTop:[0,0],pRightTop:[u,0],pLeftBottom:[0,c],pRightBottom:[u,c]}),t}function Y(e){var t=e.rootPositions,n=e.elemPosition;if(t&&t.length)for(var r=0;r<t.length;r++){var o=t[r];if(!o)return!1;if(V(o,n)<e.targetRate)return!1}return!0}function K(){var e,t;if(null!==(e=window.__AES_AUTOLOG_EXP__)&&void 0!==e&&null!==(t=e.globalConfig)&&void 0!==t&&t.debug){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];console.log.apply(w){console.error("[tracker-plugin-autolog-exposure]",e)}var Q=function(){function e(t){var n,r=this;Object(R.a)(this,e),Object(U.a)(this,"isThrottleWatch",void 0),Object(U.a)(this,"_observer",void 0),Object(U.a)(this,"_throttleHandlerDomChange",void 0),Object(U.a)(this,"_removeElementHashs",void 0),Object(U.a)(this,"_removing",void 0),Object(U.a)(this,"_oldWatching",void 0),Object(U.a)(this,"_loopTimer",void 0),Object(U.a)(this,"_looptimes",void 0),Object(U.a)(this,"_eventMap",void 0),Object(U.a)(this,"windowStatus",void 0),this.isThrottleWatch=null===(n=t.isThrottleWatch)||void 0===n||n,this._observer=window.__AES_AUTOLOG_EXP__.mutationObserver,this._removeElementHashs=[],this._removing=!1,this._looptimes=0,this._oldWatching=!1,this.windowStatus=" ,u=0,r=o=i=null},s}((function(e){r.domChangeHandler(e)}),200)}return Object(D.a)(e,[{key:"initObserver",value:function(e,t){var n=this,r=["IFRAME","BODY","OBJECT","SbuteName)>-1?[e.target]:"childList"!==e.type?[]:void 0},a=function(e,n){var o,i,a=(null===(o=window.__AES_AUTOLOG_EXP__)||void 0===o||null===(i=o.globalConfig)||void 0===i?voidreturn!!n&&!!n.getAttriHashs),n._removeElementHashs=[],n._remo),a(r,n),n.removedNodes.length&&u(O(n.removedNodes))}}})),window.__AES_AUTOLOG_EXP__.mutationObserver=this._observer);this._observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),K("init Mutadow.__AES_AUTOLOG_EXP__.pubSuus="focus",this._oldWatchingBlurHandler",value:function(){thidden"===document.visibie,t,n,r){this._eventMap[t]e.removeEventListener(t,r,n),addEvent(window,"blur",this.onBlEvent(window,"focus"),this.rion(){this._throttleHandlerDomChange({type:"polling"})}},{key:"oldWatchDOMChange",value:function(){var e=this;this._loopTimer=setTimeout((function(){if(clearTimeout(e._loopTimer),"blur"!==e.windowStatus){var t,n;e._looptimes++,e._oldWatching=!0,e.domChangeHandler({type:"polling"});var r=null===(t=window.__AES_AUTOLOG_EXP__)||void 0===t?void 0:t.dispatcher;null!==r&&void 0!==r&&null!==(n=r.listenerMap)&&void 0!==n&&n.size&&e.oldWatchDOMChange()}else e._oldWatching=!1}),1e3)}},{key:"start",value:function(){var e,t=window.MutationObserver,n=this;(function(){var e;return!!window.MutationObserver&&!(null!==(e=window.__AES_AUTOLOG_EX,(function(){n._throttleHandlerDomChange({type:"mob"})})):null!==(e=window.__AES_AUTOLOG_EXP__.globalConfig)&&void 0!==e&&e.disabledPolling?K("\u5f53\u524d\u6d4f\u89c8\u5668\u7248\u672c\u4e0d\u652f\u6301\u66dd\u5149\u76d1\u542c"):(this.domChangeHandler({type:"init"}),this.addAllListener());F()||(this.addEvent(window,"touchmove",this.scrollHandler.bind(this),{passive:!0}),this.addEvent(window,"scroll",this.scrollHandler.bind(this),{passive:!0}),this.addEvent(window,"resize",this.scroe:!0}),this.removeEvent(window,"resize",{passive:!0}))}}]),e}(),$=function(){function e(){Object(R.a)(this,e),Object(U.a)(this,"_data",void 0),Object(U.a)(this,"size",void 0),this.sizeunction(e,t){this.:function(e){return ttion(e){this._data&&(delete this._data[e],this.size--)}},{key:"has",value:function(e){return!!this._data&&this._data[e]!==undefined}},{key:"forEach",value:ft.keys(t).forEach((func(r,n)}))}},{key:"clear",value:function(){this._data={}}}]),e}(),Z={every:!1,duration:200,threshold:.5},ee=function(){function e(t){Object(R.a)(this,e),Object(U.a)(this,"config",void 0),Object(U.a)(this,"status",void 0),Object(U.a)(this,"token",void 0),Object(U.a)(this,"observerNameMap",void 0),this.config=Object(r.a)(Object(r.a)({},Z),t),this.status=b.WAITTING,this.token=function(e){var t,n,r,o="";e.selectorFunc?o=e.selectorFunc.name||"selectorFunc":e.selector&&(o=e.selector,e.rootSelector&&(o+="".concat(e.rootSelector,"_")));var i=(null===(t=window.__AES_AUTOLOG_EXP__)||void 0===t||null===(n=t.cacheSelectorNameMap)||void 0===n?void 0:n[o])||0;return r="".concat(o,"_exp_").concat(i+1),window.__AES_AUTOLOG_EXP__.cacheSelectorNameMap[o]=i+1,r}(t),this.observerNameMap=new $}return Object(D.a)(e,[{key:"needReport",value:function(e){return!(!this.config.every||!H())||!((t=e)&&t.getAttribute("autolog-exp-reported")==="".concat(y.REPORTED));var t}},{key:"onExposure",value:function(e){var t=e.element;"function"===typeof this.config.onExposure&&this.config.onExposure({element:t,config:this.config}),tment;return O(t.querySelect}},{key:"changeStatus",value:function(e){this.status=e}}]),e}();var te=function(){function e(t){Object(R.a)(this,e),Object(U.a)(this,"id",void 0),Object(U.a)(this,"dom",void 0),Object(U.a)(this,"status",void 0),Object(U.a)(this,"reportStatus",void 0),Object(U.a)(this,"listenerMap",void 0),Object(U.a)(this,"everyListenerMap",void 0),Object(U.a)(this,"observerMap",void 0),Object(U.a)(this,"durationList",void 0),Object(U.a)(this,"durationTaskMap",void 0),this.dom=t.element,this.id=t.id,this.listenerMap=new $,this.everyListenerMap=new $,this.observerMap=new $,this.durationList=[],this.durationTaskMap=new $,this.status=m.INIT,this.reportStatus=y.INIT,this.dom.setAttribute("autolog-exp-hash",onfig.every&&H()&&this.evthis.listenerMap.size){F()?this.intersectionWatchs.checkIsInView(e)&&thisatch",value:function(e){return terverMap.set(o,n.token)&&Y({rootPositions:t,elemPosition:r.exposureLeave();break}this.handleReport(r.listener)}}}},{key:"checkIsInView",value:function(e){var t=X(this.dom),n=[];this.listenerMap.forEach((function(e){return n.push(e)}));for(var r=e,o=0;o<n.length;o++){var i=n[o];if(i){var a=i.config,u=null===a||void 0===a?void 0:a.rootSelector;if(u&&(r=z(u)),Y({rootPositions:r,elemPosition:t,targetRate:a.threshold||.5}))return!0}}return!1}},{key:"oldhandleDurationTask",value:function(e){if(e)for(var t=z(),n=X(this.dom),r=this.durationList,o=0;o<r.length;o++){var i=r[o];if(i&&i.flag===e){var a=t,u=i.listener.config,c=null===u||void 0===u?void 0:u.rootSelector;if(c&&(a=z(c)),!this.isInView({rootPositions:a,rate:null===u||void 0===u?void 0:u.threshold,elemPosition:n})){this.exposureLeave();break}this.handlunction(t){return t.flag!==e}))):this.exposureLeave())}},{key:"handleReport",value:function(e){var t;this.reportStatus!==y.REPORTED&&(this.reportStatus=y.REPORTED,(t=this.dom)&&t.setAttribute("autolog-exp-reported","".concat(y.REPORTED))),e.onExposure({element:this.dom}),e.config.every&&H()||this.listenerMap["delete"](e.token)}},{key:"exposureStart",value:function(e){var t=this,n=e.observerName,r=e.isPolling;if((r||n)&&this.needReport()){var o=Date.now();this.status=m.IN_VIEW,this.listenerMap.forEach((function(e){var i=e.config.duration;if(i){if(r||n&&e.observerNameMap.has(n)){var a="".concat(o,"_").concat(n,"_").co){var u=setTimeout((function(){t.handleDurationTask(a)}),i);t.durationTaskMap.set(a,{flag:a,timer:u})}t.durationList.push({listener:e,flag:a})}})})),this.durationList=[],this.durationTaskMap.clear()}}]),e}(),ne=window.IntersectionObserver,re=function(){function e(){Object(R.a)(this,e),Object(U.a)(this,"watchElemetMap",void 0),Object(U.a)(this,"listenerMap",void 0),Object(U.a)(this,"observerMap",void 0),Object(U.a)(this,"domWatcher",void 0),Object(U.a)(this,"status",void 0),Object(U.a)(this,"isThrottling",void 0),Object(U.a)(this,"isAddThrottling",void 0),Object(U.a)(this,"_watchTimes",void 0),Object(U.a)(this,"_domChangeTimes",void 0),Object(U.a)(this,"_configChangeTimes",void 0),this.watchElemetMap=new $,this.listenerMap=new $,this.observerMap=new $,this.isThrottling=!1,this._watchTimes=0,this._domChangeTimes=0,this._configChangeTimes=0,ne&&this.observerMap.set("io_base",this.createIObserver({},"io_base")),this.star_AES_AUTOLOG_EXP__.pubSatch:!0}),e.listenerbscribe(g.DOM_REMOVE,this.handp.get(e);t&&n.clearWatchElemenfo:t}),this.updateElementSub(t),teElementSub({type:"config"}),this._configChangeTimes++}},{key:"clearWatchElement",value:function(e,t){var n=this;e&&(e.dom&&e.observerMap.forEach((function(t){var r=n.observerMap.get(t);r&&r.unobserve(e.dom)})),this.watchEleeturn!e.needReport()&&(this.cle._watchTimes++,t.watch(n))})),e.isThrottling=!1}),50)}}},{key:"handleDomExposureChange",value:function(e,t){var n=e.target.getAttribute("autolog-exp-hash");if(n){var r=this.watchElemetMap.get(n);if(r&&e.target===r.dom)(e.isIntersecting===undefined?e.intersectionRatio>=.5:e.isIntersecting)?r.exposureStart({observerName:t}):r.status===m.IN_VIEW&&r.exposureLeave()}}},{key:"createIObserver",value:function(e,t){var n=this,o={forEach((function(e){n.handleDomExposureChange(e,t)}))}),Obje{this.watchElemetMap.clear(),his.observerMap.forEach((function(e){e.disconnect()}))}},{key:"getIObserver",value:function(e){var t,n=.5===e.threshold?"io_base":"io_v_".concat(e.threshold);if("io_base"!==n){var r=this.observerMap.get(n);if(r)t=r;else{var o=this.createIObserver({threshold:e.threshold},n);this.observerMap.set(n,o),t=o}}else t=this.observerMaetMap.clear(),this.domW=this.status&&(this.cl_AES_AUTOLOG_EXP__.pubSu},{key:"getStatus",value:function(){return this.status}},{key:"addExposureListener",value:function(e){var t=this;if(function(e){return e.selectorFunc?"function"===typeof e.selectorFunc||(J("config.selectorFunc \u7c7b\u578b\u5e94\u8be5\u4e3a\u51fd\u6570"),!1):!!e.selector||(J("config.selector \u548c config.selectorFunc\u5fc5\u987b\u6709\u4e00\u4e2a"),!1)}(e)){var n=new ee(e);return this.listenerMap.set(n.token,n),thi_AES_AUTOLOG_EXP__.pubSub.publish(g.EXP_CONFIG_CHANGE)}),30)),n.token}}},{key:"removeExposureListener",value:function(e){var t=this;this.listenerMap.has(e)&&(this.listenerMap["delete"](e),this.watchElemetMap.forEach((function(n,r){n.listenerMap.has(e)&&n.listenerMap["delete"on(e){var r=t.observerMap.get(e);r&&r.unobserve(n.dom)})),t.watchElemetMap["delete"](r))})))}}]),e}();function oe(e){if("function"!==typeof e)throw new TypeEt(U.a)(this,"handlerMap",void 0),this.handledlerMap.get(e);n?n.push(t):this.handlerMap.set(e,[t])}}},{key:"unsubscribe",value:function(e,t){if(oe(t)){var n=this.handlerMap.get(e);if(!n)return this;if(n.length&&t)for(var r=0;r<n.length;r++){var o=n[r];o&&t.toString()===o.toString()&&n.splice(r,1)}else thio),a=0;a<o;a++)i[a]=arguments[a];t.apply(n,i)})),this}}},{key:"publish",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return window.queueMicrotask?window.queueMicrotask((function(){var n=t.handlerMap.get(e)||[];n.length>0&&n.forEach((function(n){"function"===typeof n&&n.apply(t,[e].concat(r))}))})):setTimeout((function(){var n=t.handlerMap.get(e)||[];n.length>0&&n.forEach((function(n){"function"===typeof n&&n.apply(t,[e].concaubscripti;var t=new re;window.__AES_AUTOLOG_EXP__.dispatcher=t}}();var ae,ue=function(e){var t;if(null!==(t=window.__AES_AUTOLOG_EXP__)&&void 0!==t&&t.dispatcher)return window.__AES_AUTOLOG_EXP__.dispatcher.addExposureListetion(e,t){n[t]=e}))}catch(r){console.error(r)}return n}(e);var t={};try{if("string"!==typeof e||0===e.length)return t;for(var n=e.split("&"),r=n.length,o=0;o<r;++o){var i,a,u,c,s=n[o]||"",f=s.indexOf("=");f>=0?(i=s.substr(0,f),a=s.substr(f+1)):(i=s,a=""),u=decodeURIComponent(i),c=decodeURICompn t},se=function(e,t){return e.exp===t||e.exposure===t},fe=function(){ae&&(!function(e){var t;if(null!==(t=window.__AES_AUTOLOG_EXP__)&&void 0!==t&&t.dispatcher)window.__AES_AUTOLOG_EXP__.dispatcher.removeExposureListener(e)}(ae),ae=undefined)},le=window.getComputedStyle?window.__aes_plugin_autolog_singleton?(console.warn("[aes-autolog] \u5df2\u88ab\u8f7d\u5165\uff0c\u8bf7\u52ff\u91cd\u590d\u8f7d\u5165"),!1):(window.__aes_plugin_autolog_singleton=!0,!0):(console.warn("[aes-autolog] \u5728\u5f53\u524d\u73af\u5883\u4e0b\u65e0\u6cd5\u4f7f\u7528"),!1),de=["feature","text","xpath","clk","exp","exposure"],pe=["button","checkbox","link","menuitem","radio","tab","combobox","search"],he=function(e,t){var n=t.autologProps.map((function(n){var r=e.getAttribute(n);if(r)return t.autologPropsHandler(r,n)})).filter(Boolean)[0]||{};return!!Object.keys(n).length?n:unr a=he(xpath,__continue:!1};return{container:n,__continue:!0}}},{selector:function(e){var t=e.info,n=e.config,r=e.sourcetion(t){return e.getAttribute(t)})).filter(Boolean)[0]}))[0];if(!i&&!o){var a=_(),u=(n.autologProps.map((function(e){var t=r.getAttribute(e);if(t)return n.autologPropsHandler(t,e)})).filter(Boolean)[0]||{}).clk;if("all"!==a.click||"false"==u)return r}return i},action:function(e){var t=e.source,n=e.target,r=e.config,o=e.logType,getAttribute(e);if(t)return r.autologPropsHandler(t,e)})).filter(Boolean)[0],c=u||{},s=c.feature,f=c.text,l=c.xpath,d=c.clk,p=c.extra;if("CLK"===o&&!i){var h=_();"false"===d?a=!1:"auto"===h.click?a=!!u:"manual"===h.click&&(a="true"===d)}return a?{feature:s||"custom",text:f,xpath:l,extra:p&&Object.keys(p).length>0?p:undefined,__continue:!f&&!s}:{__break:!0}}return{__restart:!0}}}],rules:[{selector:function(e){var t=dStyle(t).cursor&&(i="icon-button"),{feature:i,text:r}}},{selector:function(e){var t=e.info,n=e.source;if("area"===t.tagName)return n;var r=t.reversedTagNameArray.indexOf("a");return-1!==r?t.reversedDOMArray[r]:void 0},action:{feature:"link"}},{selector:function(e){var t=e.info,n=t.reversedTagNameArray.indexOf("button");if(-1!==n)return t.redexOf("eturn{featuce,r=t.ature="buttndexOf(type;if("chr t=e.iturn{featurt.getAtibute("role=e.source;if(t.getAttribute("data-spm-click"))returrce;if("pointer"===getComputedStyle(t).cursor)return t},action:{feature:"clickable"}}],defaultConfig:{containerProps:["data-autolog-container"],autologProps:["data-autolog","data-xux-log"],autologPropsHandler:function(e){var t=ce(e),n=t.feature,r=t.text,i=t.xpath,a=t.clk,u=t.exp;t.exposure;return{feature:n,text:r,xpath:i,exp:u,clk:a,extra:Object(o.a)(t,de)}}}},ge="START_LOAD_TO_AUTOLOG",me="IN_AEM_CONTAINER",ye="PLUGIN_START",be="START_LOAD_TO_AUTOLOG_FROM_PLUGIN",_e="READY_TO_LOAD_BY_AUTOLOG",we="READY_TO_LOAD_BY_AUTOLOG_TO_PLUGIN",Oe=function(e){if("string"!==typeof e)return!1;return/^https:\/\/(dev\.)?g\.alicdn\.com\/aes\/tracker-plugin-adata\//.test(e)},Ee=function(e){var t=e.self,n=e.target,o=e.onMessage,i=function(e,t,n){var o=function(e){e.data&&"object"===typees_adata_msg_flag_&&setTimeout((function(){n(e.data,e)}),0)};return e.addEventListener("message",o,!1),{send:function(e,n){var o="function"===typeof t?t():t;o&&o.postMessage(Object(r.a)(Object(rstroy:function(){e.removeEventListener("message",o,!1)}}}(t,n,(function(e,t){console.log("IFrame \u65e \u5411 MainFrame \u53d1\u9001\u6d88\u606f",e),a(e,t)},destroy:i.destroy}};var Ae=["target","feature","text","logType"],xe=_();T(ve,{autologProps:xe.autologProps,autologPropsHandler:xe.autologPropsHandler,containerProps:xe.containerProps});var Se=function(){var e=_();le&&(function(e){if(I(),M){var t,n=function(e){var n=e.touches,r=e.changedTouches;if(1===n.length&&1===r.length){var o=r[0],i=o.pageX,a=o.pageY;t={time:N(),pageX:i,pageY:a}}},r=function(n){var r=n.changedTouches;if(1===r.length&&t){var o=r[0],i=o.pageX,a=o.pageY,u=N()-t.time,c=t.pageX-i|0,s=t.pageY-a|0;u<500&&c*c+s*s<36&&e(n),t=undefined}};document.addEventListener("touchstart",n),document.addEventListener("touchend",r),C.touchstart=n,C.touchend=r}else document.addEventListener("mousedown",e),C.mousedown=e}((function(t){if(!1!==e.click&&t.target&&t.target instanceof Element){var n=P(t.target,"CLK");n&&n.feature&&(e.debug&&(console.warn("[aes-autolog] \u53d1\u9001AES\u70b9\u51fb\u65e5\u5fd7",n),window.validLog(n,"2.0"),window.validNewLog(n,t.target)),e.dryRun||i.a.log("autolog",n))}})),function(e){var t,n;fe();var r,o,a=_(),u=i.a.getConfig("plugin_autolog_exposure_selector");!1!==a.exposure&&(ae?console.log("[aes-autolog]\u66dd\u5149\u76d1\u542c\u5df2\u7ecf\u5f00\u59cb\u4e86"):ae=ue("function"!==typeof u?{selectorFunc:function(){var e=a.autologProps,t=void 0===e?[]:e,n=a.containerProps,r=void 0===n?[]:n;if(!t.length&&!r.length)return[];var o=[],i=t.map((function(e){return"[".concat(e,"]")})).join(","),u=t.length?O(docngth){var c=r.map((function(e){return"[".concat(e,"]".filter(Boolean)[0];nual"===a.exposure&&se(r,"true")&&o.push(e):o.push(e)}})),o},duration:(null===(t=a.exposureProps)||void 0===t?void 0:t.duration)||300,threshold:(null===(n=a.exposureProps)||void 0===n?void 0:n.areaThreshold)||.5,onExry{return u()||[]}catch(e){return console.error(e),[]}},duration:(null===(r=a.exposureProps)||void 0===r?void 0:r.duration)||300,threshold:(null===(o=a.exposurePrshold)||.5,onExposure:function(t){var n=t.element;e(n)}}))}((function(t){if(t&&t instanceof Element){var n=P(t,"EXP");n&&n.feature&&(e.debug&&(console.warn("[aes-autolog] \u53d1\u9001AES\u66dd\u5149\u65e5\u5fd7",n),window.validNewLog(n,t)),e.dryRun||i.a.log("autolog",n))}})))},Te=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.target,n=e.feature,a=e.text,u=e.logType,c=void 0===u?"CLK":u,s=Object(o.a)(e,Ae);if(!t||!(t instanceof Element))return console.error('Parameter "target" is not an Element!'),!1;var f=P(t,c,!0);if(f){var l=Object(r.a)(Object(r.a)({},f),{},{feature:n||f.feature,text:a||f.text},s);l&&l.feature&&(xe.debug&&(console.warn("[aes-autolog] \u53d1\u9001AES\u65e5\u5fd7",l),window.v||i.a.log("autolog",l))}},Le=function(){le&&(I(),fe())};!1===xe.autoLoad||!1===xe.click&&!1===xe.exposure||Se(),function(){try{if(window.parent&&window!==window.parent)var e=Ee({self:window,target:window.parent,onMessage:function(t,n){if(t.type===me)e&&e.send({type:_e},n&&n.origin);else if(t.type===ge){if(window._aes_autolog_adata_loader_)return void console.log("\u5df2\u52a0\u8f7dadata render");var r=t.payload&&t.payload.adataScriptUrl;if(r&&Oe(r)){window._aes_autolog_adata_loader_=!0;var o=document.createElement("script");o.src=r,document.body.appendChild(o)}e&&e.destroy(),e=null}}})}catch(t){console.error(t)}}(),function(){try{var e=Ee({self:window,target:function(){var e=document.getElementById("aesAdataPluginIframe");return e&&e.contentWindow},onMessage:function(t,n){if(t.type===ye)e&&e.send({type:we},n&&n.origin);else if(t.type===be){if(window._aes_autolog_adata_plugin_loader_)return void console.log("\u5df2\u52a0\u8f7dadata plugin-render");var r=t.payload&&t.payload.adataScriptUrl;if(r&&Oe(r)){window._aes_autolog_adata_plugin_loader_=!0;var o=document.createElement("script");o.src=r,document.body.appendChild(o)}e&&e.destroy(),e=null}}}),t=Ee({self:window,target:window,onMessage:function(e,n){"AES_ADATA_PLUGIN_LOAD"===e.type&&(t&&t.send({type:"HAS_AES_AUTOLOG_TO_PLUGIN"},n&&n.origin),t&&t.destroy(),t=null)}})}catch(n){console.error(n)}}();t["default"]={addPlugin:T,removePlugin:L,builtinPlugin:ve,start:Se,stop:Le,autolog:Te}},function(e,t,n){"use strict";n.r(t);var r=n(1[AES tracker-plugin-even("r(var t=[],n=e;n;)t.push(n),n=n.parentNode;return l(t)},p=document.hidden!==undefined?{hidden:"hidden",visibilityChange:"visibilitychange"}:document.webkitHidden!==undefined?{hidden:"webkitHidden",visibilityChange:"webkitvisibilitychange"}:document.msHidden!==undefined?{hidden:"msHidden",visibilityChange:"msvisibilitychange"}:void 0,h=!!p;if(window.PerformanceEventTiming){var v,g,m,y=function(e,t){var n,r;n=function(){a.a.log("eventTiming",{p1:e.startTime,p2:e.duration,p3:e.target&&d(e.target),p4:e.name,p5:e.processingStart,p6:e.processingEnd,p7:t?"1":"0"})},"function"===typeof requestIdleCallback?requestIdleCallback(n,{timeout:r||1e3}):setTimeout(n,0)},b=new PerformanceObserver((function(e){var t=e.getEntries().filter((function(e){return e.interactionId!==undefined&&e.processingStart&&e.processing})),n=t.fi=t.interactionId;return e[n]||(e[n]=[]),e[n].push(t),h-1]);t.fileturn 0===e.interactionId})).forEach((function(e){y(e)}))}));try{b.observe({type:"event",durationThreshold:100})}catch(De){}null!==(v=window.PerformanceObserver)&&void 0!==v&&null!==(g=v.supportedEntryTypes)&&void 0!==g&ion(e,t){y(e.getEntries()[0],!0),t.disconnectitch(De){}}),100):(m&&m.disconnect(),b&&b.disconnect())}))}var _={noop:function(){},win:"obje.call(e).substring(8).replace("]","");return t?n===t:n},on:function(e,t,n,r,o){return e.addEventListener?(o=o||!1,e.addEventListener(t,(function i(a){r&&e.removeEventListener(t,i,o),n.call(this,a)}),o)):e.attachEvent&&e.attachEvent("on"+t,(function a(o)ener(t,n):e.detachEvent&&e.detachEvent(t,n),this):this}},w=n(5)r_t,filename:t,lineno:n,colno:r,error:o});T(e)}catch(e){}}function k(e){if(e)try{var t="",n=0,r=0,o="",i="",a="string"===typeof e?e:e.reason,u=E("AES").getConfig("plugin_js_error_processPromiseRejectReason");if("function"===typeof u&&(!1===(a=u(a))||a===undefined||""===a||null===a))return;"string"===typeof e.message&&(t=e.message),"string"===typeof a?t=a:"object"===typeof a&&(t=a.message);try{t||(t="object"===typeof a?Object(w.a)(a).substr(0,150):t)}catch(e){}if("object"===typeof a){if("number"===typeof a.column)r=a.column,n=a.line;else if(a.stack){(c=a.stack.match(/at\s+.+:(\d+):(\d+)/))&&(n=c[1],r=c[2])}if(a.sourceURL)o=a.sourceURL;else if(a.stack){var c;(c=a.stack.match(/at\s+(.+):\d+:\d+/))&&(o=c[1])}a.stack&&(i=a.stack)}T({message:t,filename:o,lineno:n,colno:r,stackeof PromiseRejectionEvent?k(e):L.apply(null,arguments)},M=L,C=k;j="AES",P=a.a,typeof j!==undefined&&(O[j]=P);var I=N,R=M,D=C;!function(){var e=a.a.getConfig("plugin_jserror")||{};window&&!window.AESPluginJsError&&(_.on(window,"error",R),!e.disable_unhandled_rejection&&_.on(window,"unhandledrejection",D))}();var U={sendError:I},G=n(30),H={},F=null,B=0,W=function(e){var t=e.name,n=e.startTime,r={"first-paint":"p1","first-contentful-paint":"p2"};r[t]&&(H[r[|X:e.c3,c4:e.c4,c5:e.c5,c6:e.c6};a.a.log("usertiming",r)},V=function(e){var t=function(e){return"string"===typeof e||"number"===typeof e?e:"object"===typeof e&&e instanceof HTMLElement?e.tagName:void 0},n={startTime:"p1",identifier:"p2",name:"p3",url:"p4",element:"p5",naturalHeight:"p6",naturalWidth:"p7"},r={};for(var o in n)e[o]!==undefined&&(r[n[o]]=t(e[o]));a.a.log("elementtiming",r)},z=function(){var e,t,n,r,o=a.a.getConfig("plugin_perf_resourceTimingSampling")||.01;if(!(Math.random()>=o)&&"function"===typeof window.fetch&&null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntries&&null!==(n=window)&&void 0!==n&&null!==(r=n.performance)&&void 0!==r&&r.getEntriesByType){var i=a.a.getConfig("plugin_perf_resourceTimingThreshhold")||8e3,u=performance.getEntriesByType("navigation")[0]||window.performance.timing;if(u)if(u.loadEventStart-u.fetchStart<i)return;var c=performance.getEntries();if(c&&0!==c.length)try{var s=a.a.getConfig("pv_id"),f=a.a.getConfig("pid"),l={__topic__:"resourcetiming",__logs__:[{pid:f,name:s,resource:encodeURIComponent(Object(w.a)(c.slice(0,200)))}]};if(!f||!s)return;fetch("https://aes.cn-wulanchabu.log.aliyuncs.com/logstores/aes-resourcetiming/track",{method:"POST",body:Object(w.a)(l),headers:{"Content-Type":"application/json","x-log-apiversion":"0.6.0","x-log-bodyrawsize":"1234"}})}catch(d){}}},Y=function(e){F=e},K=function(e){var t=function(e){return"string"===typeof e||"number"===typeof e?e:"object"===typeof e&&e instanceof HTMLElement?e.tagName:void 0},n={startTime:"p3",element:"p4",url:"p5"};for(var r in n)e[r]!==undeseformance.timing.navigationStart:(new Date).getTime()-J},ee=function(e){return q(Object(G.a)({entryType:"mark",duration:0},e)),e},te=n(3),ne=n(4),re={hasHooks.foreadyState&&(r.req.hook(),this.hasHookers=this.listeners.filter((function(t){return t!==e}))}},oe=function(){function e(t){var n=thiackSize+n.assetsStack,1!==n.end&&t(n.requestserver()}))):(re.addEvention(){this.end=1,re.removeEventListener(this.observer)}}]),e}(),ie=function(){function e(t){Object(te.a)(this,e),this.inputTypes=["click","keypress","wheel"],this.eventHandler=t}return Object(ne.a)(e,[{key:"observer",value:function(){var e=this;this.inputTypes.forEach((function(t){window.addEventLis(t){window.removeE"plugin_perf_enableResourceTiming")&&setTimeout(z,5e3)},"complete"===document.reEventListener("load",(function(){return setTimeout(ae)}));!function(){if(window.PerformanceObserver){var e=[];a.a.getConfig("plugin_perf_enableUserTimingObserve")&&(window.PerformanceMark&&e.push("mark"),window.PerformanceMeasure&&e.push("measure")),window.PerformancePaintTiming&&e.push("paint"),window.PerformanceElementTiming&&e.push("element"),window.LargestContentfulPaint&&(e.push("largest-contentfument.removeEventListener("visibilitychange",t,!0),X())}),!0));try{!function(){for(var t={},n=0;n<e.length;n++){var r=e[n],o=new PerformanceObserver((function(e){e.getEntries().forEach((function(e){switch(e.entryType){case"paint":W(e);break;case"mark":case"measure":q(e);break;case"element":t[e.identifier]||(t[e.identifier]=1,V(e));break;case"largest-contentful-paint":Y(e)}}))}));try{o.observe({type:r,buffered:!0})}catch(a){o.observe({enark",staduration:(o.startTime||Z())-r.startTime};return q(i),i},markWithEntry:ee,measureWithEntry:function(e){return q(Object(G.a)({entryType:"measure"},e)),e},markOnMCP:function(e){var t,n;if(window.PerformanceLongTaskTiming&&window.MutationObserver&&null!==(t=window)&&void 0!==t&&null!==(n=t{vim,ler(),window.addEventListener("visibilitychange",l),d()};return"complete"!==document.readyState?(o=0,window.addEventListener("load",h)):(o=performance.now(),h()),{abort:p}}}};var se,fe,le,de=a.a.getConfig("plugin_pv")||{},pe=de.autoPV,he=void 0===pe||pe,ve=de.autoLeave,ge=var n=t||500;return e.length>n?e.slice(0,n-3)+"...":e}},_e=function(){return{p1:window.parent!==window,p2:be(_e)}},Oech(t){}}function Se(){se&&(clearTimeout(se),se=nen(t){a.appchange",(function(){e({page_id:location.hash||"#"})}))}(Ae),ge)&&(fe=function(){Oe()},null===(le=window)||void 0===le||le.addEventListener("beforeunload",fe));var Te={sendPV:Ae,switchPage:xe,cleawindow.removeEventListener("beforeunload",fe),fe=null)}},Le=n(7),ke=["spmA","spmB"];Le.a&&Object(Le.f)("//g.alicdn.com/alilog/mlog/aplus_v2.js"),Object(Le.e)()||(window.AES=a.a,window._aes_tracker_plugin_adata_aes_instance=a.a);var je=window._AliMonitor_AES_Only||window._AliMonitor_AES_AUTOLOG_V2?n(131):n(135);window.AESPluginAutolog||(window.AESPluginAutolog=je),window.AESPluginEvent||(window.AESPluginEvent=f),window.AESPluginJSError||(window.AESPluginJSError=U),window.AESPluginPerf||(window.AESPluginPerf=ce),window.AESPluginPV||(window.AESPluginPV=Te);Object(Le.d)(location.hostname)&&!window.AESPlugiuginRepeatPath=n(133));var Pe=function(){return n(13unction(){var e;return(e=Pe()).test.apply(e,arguments)}}),window.__AliMonitorAesLoadBlankPlugin=Pe,a.a.getConfig().plugin_blank_target&&Pe();if((Le.a||window._AliMonitor_AES_API)&&n(134),!Le.a)try{var Ne,Me=function(){var e,t,n,u;if((null===(e=window.AliMonitor)||void 0===e||null===(t=e.hook)||void 0===t||t.call(e,"switchPage",(function(e){var t=e.spmA,n=e.spmB,r=Object(i.a)(e,ke),u=t&&"0"!=t,c=n&&"0"!=n,s=u?t:a.a.getConfig().spm_a,f=c?n:a.a.getConfig().spm_b,l=u?"xux-".concat(s):a.a.getConfig().pid;xe(Object(o.a)({spm_a:s,spm_b:f,pid:l},r))})),"__spa__"===(a.a.getConfig()||{}).spm_b)&&(null!==(n=window.AliMonitor)&&void 0!==n&&null!==(u=n._runtimeConfig)&&void 0!==u&&u.spm)){var c=window.AliMonitor._runtimeConfig.spm.split("."),s=Object(r.a)(c,2),f=s[0],l=s[1];l&&"__spa__"!=l&&xe({spm_a:f,spm_b:l})}},Ce=window.AliMonitorQueue;if(Ce&&Array.isArray(Ce))Ce.unshift((function(){Me()}));else null===Ce||voi(Ne=Ce.push)||void 0===Ne||Ne.call(Cele.error(Ue)}var Ie=function(e){return setTimeout(e,0)},Re=window.AliMonitorAesQueue;window.AliMonitorAesQueue={push:Ie},Re&&Re.length>0&&(Re.push=Ie,Re.forEach(Ie)),console.log("AliMonitor AES 0.11.18 loaded")},function(e,t,n){"use strict";n.r(t),n.d(t,"startRecord",(function(){return re}));var r=n(5),o=n(24),i=n(1),a=n(6);function u(e){for(var t=[],n=[],r=[],o=e,i=!1,a=function(){var e=o.tagName,a="string"===typeof e?e.toLocaleLowerCase():o instanceof HTMLFormElement?"form":"unknown";if(r.push(a),t.push(o),!i){var u=o.id;if(u&&o!==document.body&&o!==document.documentElement&&(n.push('/*[@id="'.concat(u,'"]')),i=!0),o.parentElement){var c=Array.prototype.slice.apply(o.parentElement.children).filter((function(e){return e.tagName.toLocaleLowerCase()===a}));c.length>1&&(a="".concat(a,"[").concat(c.indexOf(o)+1,"]"))}i||n.push(a)}o=o.parentElement};o;)a();return{reversedXPathArray:n,reversedDOMArray:t,xpath:c(n),reversedTagNameArray:r}}function c(e){var t=[].concat(e);return"/".concat(t.reverse().join("/"))}function s(e){var t=[];if(null!=e){var n=[];for(n.unshift(e);0!=n.length;){var r=n.shift();if("LABEL"===r.tagName)return r.innerText||"";t.push(r);for(var o=r.children,i=0;i<o.length;i++)n.push(o[i])}}r===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
d=function(){return e};var e={},t=Objec,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIteralue:n,enumerable:!0,conarg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var p={};function h(){}function v(){}function g(){}var m={};c(m,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(L([])));b&&b!==t&&n.call(b,i}}function k(){return{value:undefined,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displ(t===v|u,"Generect.create(_),e},e.awrap=function(e){return{__await:e}},w(O.prototype),c(O.prototype().then((function(e){return e.done?e.value:a.next()}))},w(_),c(_,u,"Generator"),c(_,i,(function(){return this})),c(_,"toS in t)return o.value=e,o.done=!1,o}return o.call(etion;if("throw"==");if(tthod="nexthis.ne)return (n)}return o}}extLoc:n},"next"===this.method&&(this.arg=undefined),p}},e}var p=n(23);function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(p.a)(e))||t&&e&&"number"===typeof()done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have ahocar null==n["return"]||n["return"]()}finally{if(u)throw i}}}}var v,g,m,y=n(18);function b(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var n={root:document.body,idName:functiame:fName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumbreturn e;if(e===t.root)retuon(){return _(e,v.Two,(function(){return _(e,v.One)}))}));if(r){var o=k(function t(e,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{counter:0,visited:new Map};return d().mark((function o(){var i,u,c;return d().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e.length>2&&e.length>g.optimizedMinLength)){o.next=19;break}i=1;case 2:if(!(i<e.length-1)){o.next=19;break}if(!(r.counter>g.maxNumberOfTries)){o.next=5;break}return o.abrupt("return");case 5:if(r.counter+=1,(u=Object(a.a)(e)).splice(i,1),c=O(u),!r.visited.has(c)){o.next=11;break}return o.abrupt("return");case 11:if(!A(u)||!j(u,n)){o.next=16;break}return o.next=14,u;case 14:return r.visited.set(c,!0),o.delegateYield(t(u,n,r),"t0",16);case 16:i++,o.next=2;break;case 19:case"end":return o.stop()}}),o)}))()}(r,e));return o.length>0&&(r=o[0]),O(r)}throw new Error("Selector was not found.")}function _(name:"#"+I(t,{isIdentifier:!0}),{isIdentifier:!0})+'="'+I(e.value){return);if(g.tagName(t))return{name:ode.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}(i);if(t===v.All)c&&(e=e.concat(e.filter(S).map((function(e){return x(e,c)}))));else if(t===v.Two)e=e.slice(0,1),c&&(e=e.concat(e.filter(S).map((function(e){return x(e,c)}))));else if(t===v.One){var s=e=e.slice(0,1),f=Object(y.a)(s,1)[0];c&&S(f)&&(e=[x(f,c)])}var l,d=h(e);try{for(d.s();!(l=d.n()).done;){l.value.level=u}}catch(p){d.e(p)}finally{d.f()}if(o.push(e),o.length>=g.seedMinLength&&(r=w(o,n)))return"break";i=i.parentElement,u++};i&&i!==g.root.parentElement;){if("break"===c())break}return r||(r=w(o,n)),r}function w(e,t){var n=k(function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return d().mark((function n(){var r,o,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.length>0)){n.next=19;break}r=h(e[0]),n.prev=2,r.s();case 4:if((o=r.n()).done){n.next=9;break}return i=o.value,n.delegateYield(u(e.slice(1,e.length),t.concat(i)),"t0",7);case 7:n.next=4;break;case 9:n.next=14;break;case 11:n.prev=11,n.t1=n["catch"](2),r.e(n.t1);case 14:return n.prev=14,r.f(),n.finish(14);case 17:n.next=21;break;case 19:return n.next=21,t;case 21:case"end":return n.stop()}}),n,null,[[2,11,14,17]])}))()}(e));if(n.length>g.threshold)return t?t():null;var r,o=h(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(Anction j(e,t){return m.querySelector(O(e))===t}!function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(v||(v={}));var P=/[ -,\.\/:-@\[-\^`\{-~]/,N=/[ -,\.\/:-@\[\]\^`\{-~]/,M=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,C={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};function I(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=Object.assign(Object.assign({},C),t);"single"!=n.quotes&&"double"!=n.quotes&&(n.quotes="single");for(var r="double"==n.quotes?'"':"'",o=n.isIdentifier,i=e.charAt(0),a="",u=0,c=e.length;u<c;){var s=e.charAt(u++),f=s.charCodeAt(0),l=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&u<c){var d=e.charCodeAt(u++);56320==(64512&d)?f=((1023&f)<<10)+(1023&d)+65536:u--}l="\\"+f.toString(16).toUpperCase()+" "}else l=n.escapeEverything?P.test(s)?"\\"+s:"\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(s)?"\\"+f.toString(16).toUpperCase()+" ":"\\"==s||!o&&('"'==s&&r==s||"'"==s&&r==s)||o&&N.test(s)?"\\"+s:s;a+=l}return o&&(/^-[-\d]/.test(a)?a="\\-"+a.slice(1):/ce(M,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!o&&n.wrap?["focus"].forEach((function(n){e.indexOf(n)>-1&&(t=!0)})),!t}var D=n(12);function U(){return JSON.parse(localStorage.getItem("AES_EVENT_TASK"))||[]}function G(){localStorage.removeItem("AES_EVENT_STR"),localStorage.removeItem("AES_EVENT_TASK"),localStorage.removeItem("FIRST_MATCH")}function H(){var e=window.location;return{href:(null===e||void 0===e?void 0:e.href)||"",origin:(null===e||void 0===e?void 0:e.origin)||"",pathName:(null===e||void 0===e?void 0:e.pathname)||"",search:(null===e||void 0===e?void 0:e.search)||""}}function F(e,t){var n=JSON.parse(localStorage.getItem("AES_EVENT_STR"))||[];if(0===n.length){var r=[].concat(Object(a.a)(n),[{action:t,xpath:e,str:String.fromCharCode(32)}]);return localStorage.setItem("AES_EVENT_STR",JSON.stringify(r)),String.fromCharCode(32)}var o,i=h(n.entries());try{for(i.s();!(o=i.n()).done;){var u=Object(y.a)(o.value,2),c=u[0],s=u[1];if(W(s.xpath,e)&&s.action===t)return s.str;if(c===n.length-1){var f=n[n.length-1].str.charCodeAt();f>=126&&G();var l=String.fromCharCode(f+1),d=[].concat(Object(a.a)(n),[{action:t,xpath:e,str:l}]);return localStorage.setItem("AES_EVENT_STR",JSON.stringify(d)),l}}}catch(p){i.e(p)}finally{i.f()}}function B(e){var t,n=U(),r=[],o=h(e);try{for(o.s();!(t=o.n()).done;)for(var i=t.value,a=n.length-1;a>=0;a--)if(i===n[a].repeatStr){r.push(n[a]);break}}catch(u){o.e(u)}finally{o.f()}return r}function W(e,t){var n=e.split("/"),r=t.split("/");if(n.length!==r.length)return!1;for(var o=/^(li\[\d+\])/,i=0;i<n.length;i++)if(n[i]!==r[i]){if(o.test(n[i])&&o.test(r[i]))continue;return!1}return!0}function X(e,t){var n=H().search;Object(D.parse)(n.split("?")[1]).debug&&console.log("AES_REPEAT_LOG",e,t)}function q(e,t){var n,r,o,c,s=[],f=(n=t.xpath,document.evaluate(n,document,null,XPathResult.ANY_TYPE,null).iterateNext()),l=H(),d=l.href,p=l.origin,h=l.pathName,v=(r=f)?b(r,{className:R}):"",g=function(){if(window===window.parent)return[];var e=[];return function t(n){if(n&&n.frameElement){var r,o=null===(r=u(n.frameElement))||void 0===r?void 0:r.reversedTagNameArray.reverse().join(" ");e.unshift(o),t(n.parent)}}(window),e}();("autolog"===e&&(s=[].concat(Object(a.a)(U()),[Object(i.a)(Object(i.a)({},t),{},{selector:v,href:d,origin:p,pathName:h,tagName:(null===f||void 0===f?void 0:f.tagName)||"",action:"click",iframePath:g,repeatStr:F(t.xpath,"click"),creatTime:Date.now()})])),"keyup"===e)&&(s=[].concat(Object(a.a)(U()),[Object(i.a)(Object(i.a)({},t),{},{selector:v,href:d,origin:p,pathName:h,tagName:(null===f||void 0===f?void 0:f.tagName)||"",action:"keyup",iframePath:g,repeatStr:F(t.xpath,"keyup"),keyUpPath:[{keyValue:null===(o=t.e)||void 0===o?void 0:o.key,keyCode:null===(c=t.e)||void 0===c?void 0:c.keyCode}],creatTime:Date.now()})]));localStorage.setItem("AES_EVENT_TASK",JSON.stringify(s))}function V(e){var t=u(e),n=t.xpath,r=t.reversedDOMArray;return{xpath:n,inputName:function(e,t,n){var r,o=t.indexOf("label");if(-1!==o)return null===(r=n[o])||void 0===r?void 0:r.innerText;if(e.id)for(var i=document.getElementsByTagName("label")||[],a=0;a<i.length;a++){var u,c,f;if((null===(u=i[a])||void 0===u||null===(c=u.getAttributeNode("for"))||void 0===c?void 0:c.value)===e.id)return null===(f=i[a])||void 0===f?void 0:f.innerText}for(var l=e,d=0;d<5;d++){var p,h=s(l=null===(p=l)||void 0===p?void 0:p.parentNode);if(h)return h}return""}(e,t.reversedTagNameArray,r),feature:function(e){var t=e.tagName.toLocaleLowerCase();return t&&f.indexOf(t)>-1?t:"custom"}(e)}}function z(e){var t=[];!function r}(e,t);v)).sort((function(e,t){return e.el.localeCompare(t.el)})).map((function(e){return e.index}));return{suffix:n.map((function(t){return e.substring(t)})),sa:n}}function Y(e,t){if(!e||!t)return 0;for(var n=e.length,r=t.length,o=new Array(n+1).fill(0).map((function(){return new Array(r+1).fill(0)})),i=1;i<=n;i++)for(var a=1;a<=r;a++)e.charAt(i-1)===t.charAt(a-1)?o[i][a]=o[i-1][a-1]+1:o[i][a]=Math.max(o[i-1][a],o[i][a-1]);return function u(e,t,n,r,o){return 0==r||0==o?"":t[r-1]==n[o-1]?u(e,t,n,r-1,o-1)+t[r-1]:e[r][o-1]>e[r-1][o]?u(e,t,n,r,o-1):u(e,t,n,r-1,o)}(o,e,t,e.length,t.length)}function K(e,t,n){var r=z(e),o=r.suffix,i=r.sa,a=function(e){for(var t=z(e),n=t.suffix,r=t.sa,o=[],i="",a=0;a<n.length-1;a++)i=r[a+1]>r[a]?Y(n[a].substring(0,r[a+1]-r[a]),n[a+1]):Y(n[a],n[a+1].substring(0,r[a]-r[a+1])),o.push(i.length);return o}(e);X("\u540e\u7f00\u6570\u7ec4: ".concat(o,", sa\u6570\u7ec4: ").concat(i,", height\u6570\u7ec4: ").concat(a));var u,c=[],s=h(function(e,t){for(var n=[],r=0;r<=e.length-1;r++)if(!(e[r]<t)){for(var o=r;o<e.length;){if(!(e[o+1]>=t)){n.push([r,o]);break}o++}r=o}return n}(a,t));try{var f=function(){var e=u.value,n=e[0],r=e[1],a="";if(Math.abs(i[n]-i[r+1])>=t)if(n===r){if((a=i[n+1]>i[n]?Y(o[n].substring(0,i[n+1]-i[n]),o[n+1]):Y(o[n],o[n+1].substring(0,i[n]-i[n+1]))).length>=t){if(0===c.length)return c.push({path:a,count:2}),"continue";var s,f=h(c.entries());try{for(f.s();!(s=f.n()).done;){var l=Object(y.a)(s.value,2),d=l[0],p=l[1];if(p.path!==a){if(d===c.length-1){c.push({path:a,count:2});break}}else p.count+=1}}catch(E){f.e(E)}finally{f.f()}}}else{for(var v=o.slice(n,r+2),g="",m=n;m<=r+1;m++)o[m].length>g.length&&(g=o[m]);for(var b=0;b<v.length-1;b++){a=i[b+1]>i[b]?Y(v[b].substring(0,i[b+1]-i[b]),v[b+1]):Y(v[b],v[b+1].substring(0,i[b]-i[b+1]));for(var _=0,w=0,O=0;O<=g.length;O++)a===Y(g.tion(e){return(null===e||void 0===e?void 0:e.path)===a})))continue;c.push({path:a,count:w})}}}};for(s.s();!(u=s.n()).done;)f()}catch(g){s.e(g)}finally{s.f()}X("\u91cd\u590d\u64cd\u4f5c\u5b57\u7b26\u4e32",c);for(var l={path:"",count:0},d=0,p=c;d<p.length;d++){var v=p[d];v.count>=n&&(l.path||(l=v),l.path.length<v.path.length&&(l=v))}if(l.path)return X("\u7528\u6237\u91cd\u590d\u64ath),maxLength:c.map((function(e){return e.path.length})).sort()[c.length-1]}}nS_EVENT_TASK"),localStorage.removeItem("FIRST_MATCH")}function ee(){var e=window.location;return{href:(null==e?void 0:e.href)||"",origin:(null==e?void 0:e.origin)||"",pathName:(null==e?void 0:e.pathname)||"",search:(null==e?void 0:e.search)||""}}function te(e,t){var n=ee().search;Object(D.parse)(n.split("?")[1]).debug&&console.log("AES_REPEAT_LOG",e,t)}function ne(e){var t=null==e?void 0:e.map((function(e){return e.creatTime}));return(Math.max.apply(Math,Q()(t))-Math.min.apply(Math,Q()(t)))/1e3}function re(){(window.AliMonitorQueue||(window.AliMonitorQueue=[]))&&window.AliMonitorQueue.push((function(){!function(){var e=window.AES||null;e&&(e.log=e.before(e.log,(function(e,t){var n=U();if("autolog"===e&&"CLK"===t.logtype&&"auto"!==(null===t||void 0===t?void 0:t.text)){if(0===n.length)return void q(e,t);if(W(n[n.length-1].xpath,t.xpath))return;q(e,t)}return[e,t]})))}()})),document.addEventListener("keyup",(function(e){var t=U(),n=V(e.target),r=n.xpath,o=n.inputName,i={xpath:r,text:o,inputName:o,feature:n.feature,e:e};0!==t.length&&(W(t[t.length-1].xpath,r)&&"keyup"===t[t.length-1].action?(t[t.length-1].keyUpPath.push({keyValue:e.key,keyCode:e.keyCode}),localStorage.setItem("AES_EVENT_TASK",JSON.stringify(t))):q("keyup",i))}));var e=setInterval((function(){var t,n=window.AES_CONFIG||{};localStorage.getItem("FIRST_MATCH")||localStorage.setItem("FIRST_MATCH",Object(r.a)({firstHasResult:!0,preEventLength:0,prePathLength:0}));var i=JSON.parse(localStorage.getItem("FIRST_MATCH")),a=i.firstHasResult,u=i.preEventLength,c=i.prePathLength,s=null==n?void 0:n.plugin_repeat_path,f=s.minNodeNum,l=void 0===f?5:f,d=s.minRepeatNum,p=void 0===d?5:d,h=$();te("\u7528\u6237\u64cd\u4f5c\u5e8f\u5217",h),Object(o.a)()-(null==(t=h[h.length-1])?void 0:t.creatTime)>12e5&&(e&&clearInterval(e),te("\u5b9a\u65f6\u5661e3&&Z();var v=K(h.map((function(e){return e.repeatStr})).join(""),l,p)||{},g=v.result,m=void 0===g?[]:g,y=v.maxLength,b=void 0===y?0:y;0!==(null==m?void 0:m.length)&&a&&localStorage.setItem("FIRST_MATCH",Object(r.a)({firstHasResult:!1,preEventLength:h.length,prePathLength:m.length}));var _,w=u+b-c<=h.length;0!==(null==m?void 0:m.length)&&0!==u&&w&&(window.FuyaoEventEmitter&&window.FuyaoEventEmitter.emit("HOT_LINK",{repeatPath:m}),Z(),te("\u8bc6\u522b\u5230\u91cd\u590d\u94fe\u8def\uff0c\u6e05\u9664session\u7f13\u5b58"),window.AESPluginEvent&&window.AESPluginEvent("repe.action?"\u70b9\u51fb":"\u952e\u76d8\u8f93\u5165")+")"})).join("-")),c3:ne(m)}))}),3e3)}(ee().search.split("?")[1]||"").split("&").includes("rpaRunning=true")||re();t["default"]={startRecord:re}},function(e,t,n){"use strict";n.n(0);function o(e,t){for(var n in t)e[n]=t[n];return e}function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e3;if("string"===typeof e)return e.length>t&&(e=e.substr(0,t-3)+"..."),e}var a=function(e){var t=e.url,n=e.success,o=e.msg,a=e.status,u=e.code,c=e.duration,s=e.traceId,f=e.params,l=e.body,d=e.response,p=e.headers,h=e.rtype,v=e.method,g=r.a.getConfig("plugin_api")||{},mcatch(r){/.test(t)||/micromessenger/.test(t)}catch(e){return!1}}();r.a.log("api",{url:t,method:"string"===typeof v?v.toUpperCase():undefined,success:n,msg:o,status:a,code:u,duration:c,trace_id:s,params:f,body:i(l,b?2e3:1e4),response:!n||y?i(d,b?1e3:1e4):undefined,headers:p,rtype:h})}};function u(e,t){return(t===undefined||t>=200&&t<300)&&(e.success!==undefined?!0===e.success||"true"===e.success:e.isSuccess!==undefined?!0===e.isSuccess||"true"===e.isSuccess:e.isOk!==undefined?!0===e.isOk||"true"===e.isOk:e.ok!==undefined?!0===e.ok||"true"===e.ok:isNa?e.clone().text():Object.prototype.toString.call(e)}}function l(e,t,n){var o,i=e;if("string"===typeof i)try{i=JSON.parse(e)}catch(d){}o="[object Object]"===Object.prototype.toString.call(i)?{msg:s(i),code:c(i),success:u(i,t)}:{success:t===undefined||t>=200&&t<300};var a=r.a.getConfig("plugin_api")||{};if("function"===typeof a.parseResponse)try{var f=a.parseResponseerCase().indexOf("text")?"[".concat(n,"]"):e.text()}var g=function(){if("function"===typeof window.fetch&&(!window.fetch||!window.fetch.polyfill)){var e=window.fetch;window.fetch=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=r.a.getConfig("plugin_api")||{};if("HEAD"===n.method||"no-cors"===n.mode)return e.apply(window,arguments);var u="object"===typeof t?t.url||t.href:t;if(d(u))return e.apply(window,arguments);var c,s,g=u.split("?"),m=g[0],y=g[1],b=n.method||t.method||"GET";try{s=h(n.headersh(w){}try{p(c=f(n.body||t,b))&&c.then((function(e){c=e}))}catch(w){}var _=(new},ation:t,params:y,body:c,headers:s,rtype:"fetch"},n)),e}))}}};var m=function(){if("function"===typeof window.XMLHttpRequest&&window.addEventListener){var e=window.XMLHttpRequest,t=e.prototype,n.apply(this,arguments),this.|(this._aesHook.headers={}),this._aesHook.headers[e]=t},e.prototype.send=function(e){i.apply(this,arguments);try{var t=this._aesHook,n=t.url,u=t.method,c=void 0===u?"GET":u,s=t.headers;delete this._aesHook;var p=n?n.href||n:"";if(d(p))return;var h,v=p.split("?"),g=this,m=0,y=v[1],b=(,params:y,headers:s,body:h,response:f,rtype:"xhr"},p))};g.onloadend!==undefined?(g.addEventListener("abm=-2})),g.addEventListener("timeout",(function(e){m=-3})),g.addEventListener("loadend",_)):g.addEventListener("readystatechange",(function(){4===g.readyState&&_()}))}catch(w){}}}},y=n(5),b=Object.defineProperty.bind(Object);var _={hookFetch:g,hookXHR:m,hookMtop:function(){function e(e){var t=this.options,n=this.params,i=(new Date).getTime();return e().then((function(){var e=t.retJson.ret,u=(new Date).getTime()-i;e instanceof Array&&(e=e.join(","));var c=r.a.getConfig("plugin_api")||{},s={};if("function"===typeof c.parseResponse)try{s=c.parseResponse(t.retJson,"",{type:"mtop",params:n.data,url:n.api})||{}}catch(_){}var f=s.success===undefined?-1===e.indexOf("SUCCESS"):!s.success;if(f||!c.disable_send_on_success){var l,d,p,h=t.retJson.code||200,v=t.retJson.responseHeaders;if("string"===typeof v){var g=v.match(/(x-eagleeye-id|eagleeye-traceid):\s*([a-z0-9]+)/);g&&(l=g[2]);var m=v.match(/status:\s*(\d+)/);m&&(h=m[1])}if(e){var b=e.split("::");d=b[0],p=b[1]}a(o({url:n.api,success:!f,method:n.type||"GET",msg:p,status:h,code:d,duration:u,traceId:l,params:n.data,response:Object(y.a)(t.retJson),rtype:"mtop"},s))}}))}var t;window.lib||(window.lib={}),lib.mtop?lib.mtop.middlewares&&lib.mtop.middlewares.push(e):b(lib,"mtop",{configurable:!0,set:function(n){var r;(t=n).middlewares?-1===t.middlewares.indexOf(e)&&t.midle:!0,set:function(t){-1===(r=t).indexOf(e)&&r.push(e)},geop;!0!==n&&(0,_.hookFetch)(),!0!==o&&a(),!0!==i&&u()}}}();t["default"]={sendApi:a}},function(e,t,n){"use strict";n.r(t),n.d(t,"autolog",(function(){return S})),n.d(t,"setPlugin",(function(){retff1a:~-]+$)|([(\uff08]\d+[)\uff09])/gm,"")}return""}function p(e){return e?"string"===typeof e.className?e.className:e.getAttribute("class")||"":""}function h(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;if(!e)return{};if(t&&"function"===typeof t){var r=t(n);if(r)return{feature:r.feature,text:r.text||"",placeholder:r.placeholder||"",target:r.target||e}}var o=["button","checkbox","link","menuitem","radio","tab","combobox","search"],i="",a="",u="",h=e,v=(s(e)||{cursor:"default"}).cursor;"pointer"===v&&(i="clickable");var g=f(e);do{e.getAttribute("data-spm-click")&&(i="custom");var m=e.getAttribute("data-xux-log")||e.getAttribute("data-autolog");if(m){var y=Object(c.parse)(m);if(i=y.feature||"custom",a=y.text||"",y.ignore)return{feature:"",placeholder:u,text:a,target:e};if(a)return{feature:i,placeholder:u,text:a,target:e}}var b=e.getAttribute("role");b&&~o.indexOf(b)&&(i=b);var _=(e.tagName||"").toLocaleLowerCase();switch(_){case"input":"text"===(i=e.type)?u=e.placeholder||"":"button"===i||"submit"===i?(a=a||e.value,i="button"):"password"===i&&(u=e.placeholder||"");break;case"button":a=a||d(e),i=_;break;case"select":case"textarea":u=e.placeholder||"",i=_;break;case"a":case"area":a=a||d(e)||e.alt||e.href,i="link";break;case"label":var w=e.getElementsByTagName("input");if(w[0]){var O=w[0].type;"checkbox"!==O&&"radio"!==O||(i=O,a||a||d(e))}break;case"svg":case"icon":"pointer"===v&&(i="icon-button",a=d(e)||"ICON_BUTTON");break;case"img":a=a||d(e)||e.alt;var E=l(e);E?(a=a||d(E)||E.href,i="link"):"pointer"===v&&(a=a||"ICON_BUTTON",i="icon-button")}if("li"===_&&/\b(page|pagination)\b/i.test(p(e)))return{feature:"pagination",placeholder:u,text:a,target:h};if(/\bicon\b/i.test(p(e))&&"pointer"===v)return{feature:"icon-button",placeholder:u,text:d(e)||"ICON_BUTTON",target:e};if(/\bradio\b/i.test(p(e)))return{feature:"radio",placeholder:u,text:d(e),target:e};if(/\b(datetime|date)\b/i.test(p(e)))return{feature:"date",placeholder:u,text:d(e),target:e};if(/\b(prev|next|btn|button)\b/i.test(p(e))&&/^(?!next).*/.test(p(e))){a=d(e);var A=s(e),x=s(e);if(a)return{feature:"button",placeholder:u,text:a,target:e};if(A&&A.content?a=A.content:x&&x.content&&(a=x.content),!a){var S=e.getElementsByTagName("svg"),T=e.getElementsByTagName("img"),L=e.getElementsByTagName("icon");(S.length||T.length||L.length)&&(a="ICON_BUTTON")}return{feature:"icon-button",placeholder:u,text:a,target:e}}if(!i||"clickable"===i){var k=e.getElementsByTagName("select");if(1===k.length){var j=s(k[0]);"absolute"!=j.position&&"none"!==j.display||(i="select",e=k[0])}}if(i&&"clickable"!==i&&"text"!==i)return{feature:i,placeholder:u,text:a,target:e};e.parentNode&&e.parentNode!==e&&(e=e.parentNode)}while(e&&e!==document.body&&e!==g&&e.getAtt.body&&o!==i&&!r);r=r||n||d(a),o=a}e.text=r,e.target=o}function g(e){if(!e)return"";for(var t=[];e.parentNode;){var n=(e.tagName||"").toLocaleLowerCase(),r=e.id;if(r&&e!==document.body&&e!==document.documentElement)return['//*[@id="'.concat(r,'"]')].concat(t).join("/");var o=Arrayction(e){return(e.tagName||"").toLocaleLowerCase()===n}));o.length>1?t.unshift("".concat(n,"[").concat(o.indexOf(e)+1,"]")):t.unshift(n)a(o){r&&e.deta,shortenStr$/.test(e)?"666":m.shortenString(e,500))||"UNKNO,"text"],_=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"wrapEvent",value:function(){var e=this;return function(t){var n=t.target;if(n!==document&&n!==document.documentElement){var r=h(n,e.plugin,t);if(r.feature){r.text||v(r);var o=r.feature,i=r.text,a=r.target,s={feature:o,text:y.handleText(i),xpath:g(a),selector:"",logtype:"CLK"},f=Object(c.parse)(a.getAtxpath"!==e&&"selector"!==e&&"re:"block-click",text:n.text||"",target:t}}return null}(a);if(l){var d={feature:l.feature,text:l.text,xpath:g(l.target),selector:"",logtype:"CLK"};u.a.log("autolog",d)}}}}}},{key:"run",value:function(){if(window.getComputedStyle){var e=this.wrapEvent();if("ontouchstart"in window){var t=null,n=0;y.on(document,"touchstart",(function(e){var r=e.changedTouches;r&&1===r.length&&(t={x:r[0].pageX,y:r[0].pageY},n=Date.now())})),y.on(document,"touchend",(function(r){var o=r.changedTouches;if(t&&o&&1===o.length){var i={x:o[0].pageX,y:o[0].pageY};Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)<100&&Date.now()-n<1e3&&e(r)}t=null}))}else y.on(document,"mousedown",e)}}},{key:"autolog",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.target,n=e.feature,i=e.text,a=Object(o.a)(e,b);if(!t)return console.error('Parameter "target" is required!'),!1;var s=h(t),f=s.feature,l=s.text;if(n||f){var d=Object(r.a)({feature:n||f,text:y.handleText(i||l||v(s)),xpath:g(t),selector:"",logtype:"CLK"},a),p=Object(c.parse)(t.getAt===e||"selector"===e||"logtype"===e||d[e]||(d[e]=p[e])})),u.a.log("autolog",d)}}},{key:"setPlugin",value:function(e){this.plugin=e}}]),e}(),w=Object.freeze({START_LOAD_TO_AUTOLOG:"START_LOAD_TO_AUTOLOG",IN_AEM_CONTAINER:"IN_AEM_CONTAINER",PLUGIN_START:"PLUGIN_START",START_LOAD_TO_AUTOLOG_FROM_PLUGIN:"START_LOAD_TO_AUTOLOG_FROM_PLUGIN"}),O=Object.freeze({READY_TO_LOAD_BY_AUTOLOG:"READY_TO_LOAD_BY_AUTOLOG",READY_TO_LOAD_BY_AUTOLOG_TO_PLUGIN:"READY_TO_LOAD_BY_AUTOLOG_TO_PLUGIN"}),E=function(e){if("string"!==typeof e)return!1;return/^https:\/\/(dev\.)?g\.alicdn\.com\/aes\/tracker-plugin-adata\//.test(e)},A=function(e){var t=e.self,n=e.target,o=e.onMessage,i=function(e,t,n){var o=function(e){e.data&&"object"===typeof e.data&&1===e.data._aes_adata_msg_flag_&&setTimeout((function(){n(e.data,e)}),0)};return e.addEventListener("message",o,!1),{send:function(e,n){var o="function"===typeof t?t():t;o&&o.postMessage(Object(r.a)(Object(r.a)({},e),{},{_aes_adata_msg_flag_:1}),n||"*")},destroy:function(){e.removeEventListener("message",o,!1)}}}(t,n,(function(e,t){console.log("IFrame \u6536\u5230\u6d88\u606f",e),o(e,t)})),a=i.send;return{send:function(e,t){console.log("\u4ece IFrame \u5411 MainFrame \u53d1\u9001\u6d88\u606f",e),a(e,t)},destroy:i.eturn x}e),t&&t.destroy(),t=null)}})}catch(n){console.error(n)}}();t["default"]={autolog:S,setPlugin:T}},function(e,t,n){"use strict";n.r(t),window.Promise||(window.Promise=n(79));var r=n(7);window.AliMonitorQueue=window.AliMonitorQueue||[],window.AliMonitorAesQueue=window.AliMonitorAesQueue||[],window.AES_QUEUE=window.AES_QUEUE||[];var o=window._AliMonitor_AES_Only,i=function(){if(/AliMonitorEnable/.test(location.search))return!1;var e=!1;if(!o){var t,n,r,i=!(null!==(t=window)&&void 0!==t&&t.AliMonitor),a=i&&(null===(n=i.config)||void 0===n?void 0:n.stopReport),u=i&&(null===(r=i._runtimeConfig)||void 0===r?void 0:r.stopReport);e=a!=undefined?a:u!=undefined&&u}return e||/alibaba\.net/.test(location.hostname)||/alitest\.com/.test(location.hostname)||/\buat\b/.test(location.hostname)||/aliyun\.test/.test(location.hostname)||/AliMonitor/.test(location.search)}();!function(){var e="[monitor-aes] \u4f01\u4e1a\u667a\u80fd\u7edf\u4e00\u76d1\u63a7 AES \u7248\u5c06\u4f1a\u9000\u51fa\uff0c\u539f\u56e0\uff1a";Object(r.e)()?console.warn(e+"\u5168\u5c40 AES \u5df2\u7ecf\u5b58\u5728"):i?console.warn(e+"stopReport == true"):(n(83),n(132))}()}]);