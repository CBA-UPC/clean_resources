;(function(omidGlobal, factory, exports) {
  // CommonJS support
  if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
    factory(omidGlobal, exports);

  // If neither AMD nor CommonJS are used, export to a versioned name in the
  // global context.
  } else {
    var exports = {};
    var versions = ['1.4.6-iab4036'];
    var additionalVersionString = 'default';
    if (!!additionalVersionString) {
       versions.push(additionalVersionString);
    }

    factory(omidGlobal, exports);

    function deepFreeze(object) {
      for (var key in object) {
        if (object.hasOwnProperty(key)) {
          object[key] = deepFreeze(object[key]);
        }
      }
      return Object.freeze(object);
    }

    // Inject and freeze the exported components of omid.
    for (var key in exports) {
      if (exports.hasOwnProperty(key)) {
        if (Object.getOwnPropertyDescriptor(omidGlobal, key) == null) {
          // Define the top level property in the global scope
          Object.defineProperty(omidGlobal, key, {
            value: {},
          });
        }
        versions.forEach(function(version) {
          if (Object.getOwnPropertyDescriptor(omidGlobal[key], version) == null) {
            var frozenObject = deepFreeze(exports[key]);
            // Define the object exports keyed-off versions
            Object.defineProperty(omidGlobal[key], version, {
              get: function () {
                return frozenObject;
              },
              enumerable: true,
            });
          }
        });
      }
    }
  }
}(typeof global === 'undefined' ? this : global, function(omidGlobal, omidExports) {
  var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.createTemplateTagFirstArg = function(a) {
  return a.raw = a;
};
$jscomp.createTemplateTagFirstArgWithRaw = function(a, b) {
  a.raw = b;
  return a;
};
$jscomp.arrayIteratorImpl = function(a) {
  var b = 0;
  return function() {
    return b < a.length ? {done:!1, value:a[b++],} : {done:!0};
  };
};
$jscomp.arrayIterator = function(a) {
  return {next:$jscomp.arrayIteratorImpl(a)};
};
$jscomp.makeIterator = function(a) {
  var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];
  if (b) {
    return b.call(a);
  }
  if ("number" == typeof a.length) {
    return $jscomp.arrayIterator(a);
  }
  throw Error(String(a) + " is not an iterable or ArrayLike");
};
$jscomp.arrayFromIterator = function(a) {
  for (var b, c = []; !(b = a.next()).done;) {
    c.push(b.value);
  }
  return c;
};
$jscomp.arrayFromIterable = function(a) {
  return a instanceof Array ? a : $jscomp.arrayFromIterator($jscomp.makeIterator(a));
};
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.SIMPLE_FROUND_POLYFILL = !1;
$jscomp.ISOLATE_POLYFILLS = !1;
$jscomp.FORCE_POLYFILL_PROMISE = !1;
$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION = !1;
$jscomp.objectCreate = $jscomp.ASSUME_ES5 || "function" == typeof Object.create ? Object.create : function(a) {
  var b = function() {
  };
  b.prototype = a;
  return new b();
};
$jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function(a, b, c) {
  if (a == Array.prototype || a == Object.prototype) {
    return a;
  }
  a[b] = c.value;
  return a;
};
$jscomp.getGlobal = function(a) {
  a = ["object" == typeof globalThis && globalThis, a, "object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global,];
  for (var b = 0; b < a.length; ++b) {
    var c = a[b];
    if (c && c.Math == Math) {
      return c;
    }
  }
  throw Error("Cannot find global object");
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE = "function" === typeof Symbol && "symbol" === typeof Symbol("x");
$jscomp.TRUST_ES6_POLYFILLS = !$jscomp.ISOLATE_POLYFILLS || $jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills = {};
$jscomp.propertyToPolyfillSymbol = {};
$jscomp.POLYFILL_PREFIX = "$jscp$";
var $jscomp$lookupPolyfilledValue = function(a, b, c) {
  if (!c || null != a) {
    c = $jscomp.propertyToPolyfillSymbol[b];
    if (null == c) {
      return a[b];
    }
    c = a[c];
    return void 0 !== c ? c : a[b];
  }
};
$jscomp.polyfill = function(a, b, c, d) {
  b && ($jscomp.ISOLATE_POLYFILLS ? $jscomp.polyfillIsolated(a, b, c, d) : $jscomp.polyfillUnisolated(a, b, c, d));
};
$jscomp.polyfillUnisolated = function(a, b, c, d) {
  c = $jscomp.global;
  a = a.split(".");
  for (d = 0; d < a.length - 1; d++) {
    var f = a[d];
    if (!(f in c)) {
      return;
    }
    c = c[f];
  }
  a = a[a.length - 1];
  d = c[a];
  b = b(d);
  b != d && null != b && $jscomp.defineProperty(c, a, {configurable:!0, writable:!0, value:b});
};
$jscomp.polyfillIsolated = function(a, b, c, d) {
  var f = a.split(".");
  a = 1 === f.length;
  d = f[0];
  d = !a && d in $jscomp.polyfills ? $jscomp.polyfills : $jscomp.global;
  for (var l = 0; l < f.length - 1; l++) {
    var m = f[l];
    if (!(m in d)) {
      return;
    }
    d = d[m];
  }
  f = f[f.length - 1];
  c = $jscomp.IS_SYMBOL_NATIVE && "es6" === c ? d[f] : null;
  b = b(c);
  null != b && (a ? $jscomp.defineProperty($jscomp.polyfills, f, {configurable:!0, writable:!0, value:b}) : b !== c && (void 0 === $jscomp.propertyToPolyfillSymbol[f] && (c = 1E9 * Math.random() >>> 0, $jscomp.propertyToPolyfillSymbol[f] = $jscomp.IS_SYMBOL_NATIVE ? $jscomp.global.Symbol(f) : $jscomp.POLYFILL_PREFIX + c + "$" + f), $jscomp.defineProperty(d, $jscomp.propertyToPolyfillSymbol[f], {configurable:!0, writable:!0, value:b})));
};
$jscomp.getConstructImplementation = function() {
  function a() {
    function c() {
    }
    new c();
    Reflect.construct(c, [], function() {
    });
    return new c() instanceof c;
  }
  if ($jscomp.TRUST_ES6_POLYFILLS && "undefined" != typeof Reflect && Reflect.construct) {
    if (a()) {
      return Reflect.construct;
    }
    var b = Reflect.construct;
    return function(c, d, f) {
      c = b(c, d);
      f && Reflect.setPrototypeOf(c, f.prototype);
      return c;
    };
  }
  return function(c, d, f) {
    void 0 === f && (f = c);
    f = $jscomp.objectCreate(f.prototype || Object.prototype);
    return Function.prototype.apply.call(c, f, d) || f;
  };
};
$jscomp.construct = {valueOf:$jscomp.getConstructImplementation}.valueOf();
$jscomp.underscoreProtoCanBeSet = function() {
  var a = {a:!0}, b = {};
  try {
    return b.__proto__ = a, b.a;
  } catch (c) {
  }
  return !1;
};
$jscomp.setPrototypeOf = $jscomp.TRUST_ES6_POLYFILLS && "function" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : $jscomp.underscoreProtoCanBeSet() ? function(a, b) {
  a.__proto__ = b;
  if (a.__proto__ !== b) {
    throw new TypeError(a + " is not extensible");
  }
  return a;
} : null;
$jscomp.inherits = function(a, b) {
  a.prototype = $jscomp.objectCreate(b.prototype);
  a.prototype.constructor = a;
  if ($jscomp.setPrototypeOf) {
    var c = $jscomp.setPrototypeOf;
    c(a, b);
  } else {
    for (c in b) {
      if ("prototype" != c) {
        if (Object.defineProperties) {
          var d = Object.getOwnPropertyDescriptor(b, c);
          d && Object.defineProperty(a, c, d);
        } else {
          a[c] = b[c];
        }
      }
    }
  }
  a.superClass_ = b.prototype;
};
$jscomp.getRestArguments = function() {
  for (var a = Number(this), b = [], c = a; c < arguments.length; c++) {
    b[c - a] = arguments[c];
  }
  return b;
};
$jscomp.polyfill("Reflect", function(a) {
  return a ? a : {};
}, "es6", "es3");
$jscomp.polyfill("Reflect.construct", function(a) {
  return $jscomp.construct;
}, "es6", "es3");
$jscomp.polyfill("Reflect.setPrototypeOf", function(a) {
  if (a) {
    return a;
  }
  if ($jscomp.setPrototypeOf) {
    var b = $jscomp.setPrototypeOf;
    return function(c, d) {
      try {
        return b(c, d), !0;
      } catch (f) {
        return !1;
      }
    };
  }
  return null;
}, "es6", "es5");
$jscomp.initSymbol = function() {
};
$jscomp.polyfill("Symbol", function(a) {
  if (a) {
    return a;
  }
  var b = function(l, m) {
    this.$jscomp$symbol$id_ = l;
    $jscomp.defineProperty(this, "description", {configurable:!0, writable:!0, value:m});
  };
  b.prototype.toString = function() {
    return this.$jscomp$symbol$id_;
  };
  var c = "jscomp_symbol_" + (1E9 * Math.random() >>> 0) + "_", d = 0, f = function(l) {
    if (this instanceof f) {
      throw new TypeError("Symbol is not a constructor");
    }
    return new b(c + (l || "") + "_" + d++, l);
  };
  return f;
}, "es6", "es3");
$jscomp.polyfill("Symbol.iterator", function(a) {
  if (a) {
    return a;
  }
  a = Symbol("Symbol.iterator");
  for (var b = "Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "), c = 0; c < b.length; c++) {
    var d = $jscomp.global[b[c]];
    "function" === typeof d && "function" != typeof d.prototype[a] && $jscomp.defineProperty(d.prototype, a, {configurable:!0, writable:!0, value:function() {
      return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this));
    }});
  }
  return a;
}, "es6", "es3");
$jscomp.iteratorPrototype = function(a) {
  a = {next:a};
  a[Symbol.iterator] = function() {
    return this;
  };
  return a;
};
$jscomp.iteratorFromArray = function(a, b) {
  a instanceof String && (a += "");
  var c = 0, d = !1, f = {next:function() {
    if (!d && c < a.length) {
      var l = c++;
      return {value:b(l, a[l]), done:!1};
    }
    d = !0;
    return {done:!0, value:void 0};
  }};
  f[Symbol.iterator] = function() {
    return f;
  };
  return f;
};
$jscomp.polyfill("Array.prototype.keys", function(a) {
  return a ? a : function() {
    return $jscomp.iteratorFromArray(this, function(b) {
      return b;
    });
  };
}, "es6", "es3");
$jscomp.checkEs6ConformanceViaProxy = function() {
  try {
    var a = {}, b = Object.create(new $jscomp.global.Proxy(a, {get:function(c, d, f) {
      return c == a && "q" == d && f == b;
    }}));
    return !0 === b.q;
  } catch (c) {
    return !1;
  }
};
$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS = !1;
$jscomp.ES6_CONFORMANCE = $jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS && $jscomp.checkEs6ConformanceViaProxy();
$jscomp.owns = function(a, b) {
  return Object.prototype.hasOwnProperty.call(a, b);
};
$jscomp.polyfill("WeakMap", function(a) {
  function b() {
    if (!a || !Object.seal) {
      return !1;
    }
    try {
      var e = Object.seal({}), h = Object.seal({}), k = new a([[e, 2], [h, 3]]);
      if (2 != k.get(e) || 3 != k.get(h)) {
        return !1;
      }
      k.delete(e);
      k.set(h, 4);
      return !k.has(e) && 4 == k.get(h);
    } catch (n) {
      return !1;
    }
  }
  function c() {
  }
  function d(e) {
    var h = typeof e;
    return "object" === h && null !== e || "function" === h;
  }
  function f(e) {
    if (!$jscomp.owns(e, m)) {
      var h = new c();
      $jscomp.defineProperty(e, m, {value:h});
    }
  }
  function l(e) {
    if (!$jscomp.ISOLATE_POLYFILLS) {
      var h = Object[e];
      h && (Object[e] = function(k) {
        if (k instanceof c) {
          return k;
        }
        Object.isExtensible(k) && f(k);
        return h(k);
      });
    }
  }
  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {
    if (a && $jscomp.ES6_CONFORMANCE) {
      return a;
    }
  } else {
    if (b()) {
      return a;
    }
  }
  var m = "$jscomp_hidden_" + Math.random();
  l("freeze");
  l("preventExtensions");
  l("seal");
  var p = 0, g = function(e) {
    this.id_ = (p += Math.random() + 1).toString();
    if (e) {
      e = $jscomp.makeIterator(e);
      for (var h; !(h = e.next()).done;) {
        h = h.value, this.set(h[0], h[1]);
      }
    }
  };
  g.prototype.set = function(e, h) {
    if (!d(e)) {
      throw Error("Invalid WeakMap key");
    }
    f(e);
    if (!$jscomp.owns(e, m)) {
      throw Error("WeakMap key fail: " + e);
    }
    e[m][this.id_] = h;
    return this;
  };
  g.prototype.get = function(e) {
    return d(e) && $jscomp.owns(e, m) ? e[m][this.id_] : void 0;
  };
  g.prototype.has = function(e) {
    return d(e) && $jscomp.owns(e, m) && $jscomp.owns(e[m], this.id_);
  };
  g.prototype.delete = function(e) {
    return d(e) && $jscomp.owns(e, m) && $jscomp.owns(e[m], this.id_) ? delete e[m][this.id_] : !1;
  };
  return g;
}, "es6", "es3");
$jscomp.MapEntry = function() {
};
$jscomp.polyfill("Map", function(a) {
  function b() {
    if ($jscomp.ASSUME_NO_NATIVE_MAP || !a || "function" != typeof a || !a.prototype.entries || "function" != typeof Object.seal) {
      return !1;
    }
    try {
      var g = Object.seal({x:4}), e = new a($jscomp.makeIterator([[g, "s"]]));
      if ("s" != e.get(g) || 1 != e.size || e.get({x:4}) || e.set({x:4}, "t") != e || 2 != e.size) {
        return !1;
      }
      var h = e.entries(), k = h.next();
      if (k.done || k.value[0] != g || "s" != k.value[1]) {
        return !1;
      }
      k = h.next();
      return k.done || 4 != k.value[0].x || "t" != k.value[1] || !h.next().done ? !1 : !0;
    } catch (n) {
      return !1;
    }
  }
  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {
    if (a && $jscomp.ES6_CONFORMANCE) {
      return a;
    }
  } else {
    if (b()) {
      return a;
    }
  }
  var c = new WeakMap(), d = function(g) {
    this.data_ = {};
    this.head_ = m();
    this.size = 0;
    if (g) {
      g = $jscomp.makeIterator(g);
      for (var e; !(e = g.next()).done;) {
        e = e.value, this.set(e[0], e[1]);
      }
    }
  };
  d.prototype.set = function(g, e) {
    g = 0 === g ? 0 : g;
    var h = f(this, g);
    h.list || (h.list = this.data_[h.id] = []);
    h.entry ? h.entry.value = e : (h.entry = {next:this.head_, previous:this.head_.previous, head:this.head_, key:g, value:e,}, h.list.push(h.entry), this.head_.previous.next = h.entry, this.head_.previous = h.entry, this.size++);
    return this;
  };
  d.prototype.delete = function(g) {
    g = f(this, g);
    return g.entry && g.list ? (g.list.splice(g.index, 1), g.list.length || delete this.data_[g.id], g.entry.previous.next = g.entry.next, g.entry.next.previous = g.entry.previous, g.entry.head = null, this.size--, !0) : !1;
  };
  d.prototype.clear = function() {
    this.data_ = {};
    this.head_ = this.head_.previous = m();
    this.size = 0;
  };
  d.prototype.has = function(g) {
    return !!f(this, g).entry;
  };
  d.prototype.get = function(g) {
    return (g = f(this, g).entry) && g.value;
  };
  d.prototype.entries = function() {
    return l(this, function(g) {
      return [g.key, g.value];
    });
  };
  d.prototype.keys = function() {
    return l(this, function(g) {
      return g.key;
    });
  };
  d.prototype.values = function() {
    return l(this, function(g) {
      return g.value;
    });
  };
  d.prototype.forEach = function(g, e) {
    for (var h = this.entries(), k; !(k = h.next()).done;) {
      k = k.value, g.call(e, k[1], k[0], this);
    }
  };
  d.prototype[Symbol.iterator] = d.prototype.entries;
  var f = function(g, e) {
    var h = e && typeof e;
    "object" == h || "function" == h ? c.has(e) ? h = c.get(e) : (h = "" + ++p, c.set(e, h)) : h = "p_" + e;
    var k = g.data_[h];
    if (k && $jscomp.owns(g.data_, h)) {
      for (g = 0; g < k.length; g++) {
        var n = k[g];
        if (e !== e && n.key !== n.key || e === n.key) {
          return {id:h, list:k, index:g, entry:n};
        }
      }
    }
    return {id:h, list:k, index:-1, entry:void 0};
  }, l = function(g, e) {
    var h = g.head_;
    return $jscomp.iteratorPrototype(function() {
      if (h) {
        for (; h.head != g.head_;) {
          h = h.previous;
        }
        for (; h.next != h.head;) {
          return h = h.next, {done:!1, value:e(h)};
        }
        h = null;
      }
      return {done:!0, value:void 0};
    });
  }, m = function() {
    var g = {};
    return g.previous = g.next = g.head = g;
  }, p = 0;
  return d;
}, "es6", "es3");
var module$exports$omid$common$constants = {AdEventType:{IMPRESSION:"impression", LOADED:"loaded", GEOMETRY_CHANGE:"geometryChange", SESSION_START:"sessionStart", SESSION_ERROR:"sessionError", SESSION_FINISH:"sessionFinish", MEDIA:"media", VIDEO:"video", START:"start", FIRST_QUARTILE:"firstQuartile", MIDPOINT:"midpoint", THIRD_QUARTILE:"thirdQuartile", COMPLETE:"complete", PAUSE:"pause", RESUME:"resume", BUFFER_START:"bufferStart", BUFFER_FINISH:"bufferFinish", SKIPPED:"skipped", VOLUME_CHANGE:"volumeChange", 
PLAYER_STATE_CHANGE:"playerStateChange", AD_USER_INTERACTION:"adUserInteraction", STATE_CHANGE:"stateChange",}, MediaEventType:{LOADED:"loaded", START:"start", FIRST_QUARTILE:"firstQuartile", MIDPOINT:"midpoint", THIRD_QUARTILE:"thirdQuartile", COMPLETE:"complete", PAUSE:"pause", RESUME:"resume", BUFFER_START:"bufferStart", BUFFER_FINISH:"bufferFinish", SKIPPED:"skipped", VOLUME_CHANGE:"volumeChange", PLAYER_STATE_CHANGE:"playerStateChange", AD_USER_INTERACTION:"adUserInteraction",}, ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript", 
UNSPECIFIED:"unspecified", LOADED:"loaded", BEGIN_TO_RENDER:"beginToRender", ONE_PIXEL:"onePixel", VIEWABLE:"viewable", AUDIBLE:"audible", OTHER:"other",}, ErrorType:{GENERIC:"generic", VIDEO:"video", MEDIA:"media",}, AdSessionType:{NATIVE:"native", HTML:"html", JAVASCRIPT:"javascript",}, EventOwner:{NATIVE:"native", JAVASCRIPT:"javascript", NONE:"none",}, AccessMode:{FULL:"full", DOMAIN:"domain", LIMITED:"limited",}, AppState:{BACKGROUNDED:"backgrounded", FOREGROUNDED:"foregrounded",}, Environment:{APP:"app", 
WEB:"web",}, DeviceCategory:{CTV:"ctv", DESKTOP:"desktop", MOBILE:"mobile", OTHER:"other",}, InteractionType:{CLICK:"click", INVITATION_ACCEPT:"invitationAccept",}, CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript", HTML_DISPLAY:"htmlDisplay", NATIVE_DISPLAY:"nativeDisplay", VIDEO:"video", AUDIO:"audio",}, MediaType:{DISPLAY:"display", VIDEO:"video",}, Reason:{NOT_FOUND:"notFound", HIDDEN:"hidden", BACKGROUNDED:"backgrounded", VIEWPORT:"viewport", OBSTRUCTED:"obstructed", CLIPPED:"clipped", 
UNMEASURABLE:"unmeasurable", NO_WINDOW_FOCUS:"noWindowFocus", NO_OUTPUT_DEVICE:"noOutputDevice",}, SupportedFeatures:{CONTAINER:"clid", VIDEO:"vlid",}, VideoPosition:{PREROLL:"preroll", MIDROLL:"midroll", POSTROLL:"postroll", STANDALONE:"standalone",}, VideoPlayerState:{MINIMIZED:"minimized", COLLAPSED:"collapsed", NORMAL:"normal", EXPANDED:"expanded", FULLSCREEN:"fullscreen",}, NativeViewKeys:{X:"x", LEFT:"left", Y:"y", TOP:"top", WIDTH:"width", HEIGHT:"height", AD_SESSION_ID:"adSessionId", IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor", 
CLIPS_TO_BOUNDS:"clipsToBounds", CHILD_VIEWS:"childViews", END_X:"endX", END_Y:"endY", OBSTRUCTIONS:"obstructions", OBSTRUCTION_CLASS:"obstructionClass", OBSTRUCTION_PURPOSE:"obstructionPurpose", OBSTRUCTION_REASON:"obstructionReason", PIXELS:"pixels", HAS_WINDOW_FOCUS:"hasWindowFocus",}, MeasurementStateChangeSource:{CONTAINER:"container", CREATIVE:"creative",}, ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element",}, CommunicationType:{NONE:"NONE", DIRECT:"DIRECT", POST_MESSAGE:"POST_MESSAGE",}, 
OmidImplementer:{OMSDK:"omsdk",}, MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow",}};
var module$contents$omid$common$InternalMessage_GUID_KEY = "omid_message_guid", module$contents$omid$common$InternalMessage_METHOD_KEY = "omid_message_method", module$contents$omid$common$InternalMessage_VERSION_KEY = "omid_message_version", module$contents$omid$common$InternalMessage_ARGS_KEY = "omid_message_args", module$exports$omid$common$InternalMessage = function(a, b, c, d) {
  this.guid = a;
  this.method = b;
  this.version = c;
  this.args = d;
};
module$exports$omid$common$InternalMessage.isValidSerializedMessage = function(a) {
  return !!a && void 0 !== a[module$contents$omid$common$InternalMessage_GUID_KEY] && void 0 !== a[module$contents$omid$common$InternalMessage_METHOD_KEY] && void 0 !== a[module$contents$omid$common$InternalMessage_VERSION_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_GUID_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_METHOD_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_VERSION_KEY] && (void 0 === a[module$contents$omid$common$InternalMessage_ARGS_KEY] || 
  void 0 !== a[module$contents$omid$common$InternalMessage_ARGS_KEY]);
};
module$exports$omid$common$InternalMessage.deserialize = function(a) {
  return new module$exports$omid$common$InternalMessage(a[module$contents$omid$common$InternalMessage_GUID_KEY], a[module$contents$omid$common$InternalMessage_METHOD_KEY], a[module$contents$omid$common$InternalMessage_VERSION_KEY], a[module$contents$omid$common$InternalMessage_ARGS_KEY]);
};
module$exports$omid$common$InternalMessage.prototype.serialize = function() {
  var a = {};
  a = (a[module$contents$omid$common$InternalMessage_GUID_KEY] = this.guid, a[module$contents$omid$common$InternalMessage_METHOD_KEY] = this.method, a[module$contents$omid$common$InternalMessage_VERSION_KEY] = this.version, a);
  void 0 !== this.args && (a[module$contents$omid$common$InternalMessage_ARGS_KEY] = this.args);
  return a;
};
var module$exports$omid$common$Communication = function(a) {
  this.to = a;
  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.NONE;
};
module$exports$omid$common$Communication.prototype.sendMessage = function(a, b) {
};
module$exports$omid$common$Communication.prototype.handleMessage = function(a, b) {
  if (this.onMessage) {
    this.onMessage(a, b);
  }
};
module$exports$omid$common$Communication.prototype.serialize = function(a) {
  return JSON.stringify(a);
};
module$exports$omid$common$Communication.prototype.deserialize = function(a) {
  return JSON.parse(a);
};
module$exports$omid$common$Communication.prototype.isDirectCommunication = function() {
  return this.communicationType_ === module$exports$omid$common$constants.CommunicationType.DIRECT;
};
module$exports$omid$common$Communication.prototype.isCrossOrigin = function() {
};
var module$exports$omid$common$argsChecker = {};
function module$contents$omid$common$argsChecker_assertTruthyString(a, b) {
  if (!b) {
    throw Error("Value for " + a + " is undefined, null or blank.");
  }
  if ("string" !== typeof b && !(b instanceof String)) {
    throw Error("Value for " + a + " is not a string.");
  }
  if ("" === b.trim()) {
    throw Error("Value for " + a + " is empty string.");
  }
}
function module$contents$omid$common$argsChecker_assertNotNullObject(a, b) {
  if (null == b) {
    throw Error("Value for " + a + " is undefined or null");
  }
}
function module$contents$omid$common$argsChecker_assertNumber(a, b) {
  if (null == b) {
    throw Error(a + " must not be null or undefined.");
  }
  if ("number" !== typeof b || isNaN(b)) {
    throw Error("Value for " + a + " is not a number");
  }
}
function module$contents$omid$common$argsChecker_assertNumberBetween(a, b, c, d) {
  module$contents$omid$common$argsChecker_assertNumber(a, b);
  if (b < c || b > d) {
    throw Error("Value for " + a + " is outside the range [" + c + "," + d + "]");
  }
}
function module$contents$omid$common$argsChecker_assertFunction(a, b) {
  if (!b) {
    throw Error(a + " must not be truthy.");
  }
}
function module$contents$omid$common$argsChecker_assertPositiveNumber(a, b) {
  module$contents$omid$common$argsChecker_assertNumber(a, b);
  if (0 > b) {
    throw Error(a + " must be a positive number.");
  }
}
module$exports$omid$common$argsChecker.assertTruthyString = module$contents$omid$common$argsChecker_assertTruthyString;
module$exports$omid$common$argsChecker.assertNotNullObject = module$contents$omid$common$argsChecker_assertNotNullObject;
module$exports$omid$common$argsChecker.assertNumber = module$contents$omid$common$argsChecker_assertNumber;
module$exports$omid$common$argsChecker.assertNumberBetween = module$contents$omid$common$argsChecker_assertNumberBetween;
module$exports$omid$common$argsChecker.assertFunction = module$contents$omid$common$argsChecker_assertFunction;
module$exports$omid$common$argsChecker.assertPositiveNumber = module$contents$omid$common$argsChecker_assertPositiveNumber;
var module$exports$omid$common$exporter = {};
function module$contents$omid$common$exporter_getOmidExports() {
  return "undefined" === typeof omidExports ? null : omidExports;
}
function module$contents$omid$common$exporter_getOrCreateName(a, b) {
  return a && (a[b] || (a[b] = {}));
}
function module$contents$omid$common$exporter_packageExport(a, b, c) {
  if (c = void 0 === c ? module$contents$omid$common$exporter_getOmidExports() : c) {
    a = a.split("."), a.slice(0, a.length - 1).reduce(module$contents$omid$common$exporter_getOrCreateName, c)[a[a.length - 1]] = b;
  }
}
module$exports$omid$common$exporter.packageExport = module$contents$omid$common$exporter_packageExport;
var module$exports$omid$sessionClient$Partner = function(a, b) {
  module$contents$omid$common$argsChecker_assertTruthyString("Partner.name", a);
  module$contents$omid$common$argsChecker_assertTruthyString("Partner.version", b);
  this.name = a;
  this.version = b;
};
module$contents$omid$common$exporter_packageExport("OmidSessionClient.Partner", module$exports$omid$sessionClient$Partner);
var module$exports$omid$sessionClient$VerificationScriptResource = function(a, b, c, d) {
  d = void 0 === d ? module$exports$omid$common$constants.AccessMode.FULL : d;
  module$contents$omid$common$argsChecker_assertTruthyString("VerificationScriptResource.resourceUrl", a);
  this.resourceUrl = a;
  this.vendorKey = b;
  this.verificationParameters = c;
  this.accessMode = d;
};
module$exports$omid$sessionClient$VerificationScriptResource.prototype.toJSON = function() {
  return {accessMode:this.accessMode, resourceUrl:this.resourceUrl, vendorKey:this.vendorKey, verificationParameters:this.verificationParameters,};
};
module$contents$omid$common$exporter_packageExport("OmidSessionClient.VerificationScriptResource", module$exports$omid$sessionClient$VerificationScriptResource);
var module$exports$omid$sessionClient$Context = function(a, b, c, d) {
  c = void 0 === c ? null : c;
  d = void 0 === d ? null : d;
  module$contents$omid$common$argsChecker_assertNotNullObject("Context.partner", a);
  this.partner = a;
  this.verificationScriptResources = b;
  this.videoElement = this.slotElement = null;
  this.contentUrl = c;
  this.customReferenceData = d;
  this.underEvaluation = !1;
  this.serviceWindow = null;
};
module$exports$omid$sessionClient$Context.prototype.setVideoElement = function(a) {
  module$contents$omid$common$argsChecker_assertNotNullObject("Context.videoElement", a);
  this.videoElement = a;
};
module$exports$omid$sessionClient$Context.prototype.setSlotElement = function(a) {
  module$contents$omid$common$argsChecker_assertNotNullObject("Context.slotElement", a);
  this.slotElement = a;
};
module$exports$omid$sessionClient$Context.prototype.setServiceWindow = function(a) {
  module$contents$omid$common$argsChecker_assertNotNullObject("Context.serviceWindow", a);
  this.serviceWindow = a;
};
module$contents$omid$common$exporter_packageExport("OmidSessionClient.Context", module$exports$omid$sessionClient$Context);
var module$exports$omid$common$OmidGlobalProvider = {};
function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal() {
  if ("undefined" !== typeof omidGlobal && omidGlobal) {
    return omidGlobal;
  }
  if ("undefined" !== typeof global && global) {
    return global;
  }
  if ("undefined" !== typeof window && window) {
    return window;
  }
  if ("undefined" !== typeof globalThis && globalThis) {
    return globalThis;
  }
  var a = Function("return this")();
  if (a) {
    return a;
  }
  throw Error("Could not determine global object context.");
}
module$exports$omid$common$OmidGlobalProvider.omidGlobal = module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();
var module$contents$omid$sessionClient$OmidJsSessionInterface_ExportedNodeKeys = {ROOT:"omidSessionInterface", AD_EVENTS:"adEvents", MEDIA_EVENTS:"mediaEvents",}, module$contents$omid$sessionClient$OmidJsSessionInterface_MethodNameMap = {sessionError:"reportError",}, module$contents$omid$sessionClient$OmidJsSessionInterface_MediaEventMethodNames = Object.keys(module$exports$omid$common$constants.MediaEventType).map(function(a) {
  return module$exports$omid$common$constants.MediaEventType[a];
}), module$contents$omid$sessionClient$OmidJsSessionInterface_AdEventMethodNames = ["impressionOccurred",], module$exports$omid$sessionClient$OmidJsSessionInterface = function(a) {
  a = void 0 === a ? module$exports$omid$common$OmidGlobalProvider.omidGlobal : a;
  this.interfaceRoot_ = a[module$contents$omid$sessionClient$OmidJsSessionInterface_ExportedNodeKeys.ROOT];
};
module$exports$omid$sessionClient$OmidJsSessionInterface.prototype.isSupported = function() {
  return null != this.interfaceRoot_;
};
module$exports$omid$sessionClient$OmidJsSessionInterface.prototype.sendMessage = function(a, b, c) {
  "registerSessionObserver" == a && (c = [b]);
  module$contents$omid$sessionClient$OmidJsSessionInterface_MethodNameMap[a] && (a = module$contents$omid$sessionClient$OmidJsSessionInterface_MethodNameMap[a]);
  b = this.interfaceRoot_;
  0 <= module$contents$omid$sessionClient$OmidJsSessionInterface_AdEventMethodNames.indexOf(a) && (b = b[module$contents$omid$sessionClient$OmidJsSessionInterface_ExportedNodeKeys.AD_EVENTS]);
  0 <= module$contents$omid$sessionClient$OmidJsSessionInterface_MediaEventMethodNames.indexOf(a) && (b = b[module$contents$omid$sessionClient$OmidJsSessionInterface_ExportedNodeKeys.MEDIA_EVENTS]);
  b = b[a];
  if (!b) {
    throw Error("Unrecognized method name: " + a + ".");
  }
  b.apply(null, $jscomp.arrayFromIterable(c));
};
var module$exports$omid$common$Rectangle = function(a, b, c, d) {
  this.x = a;
  this.y = b;
  this.width = c;
  this.height = d;
};
var module$exports$omid$common$guid = {};
function module$contents$omid$common$guid_generateGuid() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(a) {
    var b = 16 * Math.random() | 0;
    a = "y" === a ? (b & 3 | 8).toString(16) : b.toString(16);
    return a;
  });
}
module$exports$omid$common$guid.generateGuid = module$contents$omid$common$guid_generateGuid;
var module$exports$omid$common$logger = {};
function module$contents$omid$common$logger_error() {
  var a = $jscomp.getRestArguments.apply(0, arguments);
  module$contents$omid$common$logger_executeLog(function() {
    throw new (Function.prototype.bind.apply(Error, [null, "Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(a))))();
  }, function() {
    return console.error.apply(console, $jscomp.arrayFromIterable(a));
  });
}
function module$contents$omid$common$logger_debug() {
  var a = $jscomp.getRestArguments.apply(0, arguments);
  module$contents$omid$common$logger_executeLog(function() {
  }, function() {
    return console.error.apply(console, $jscomp.arrayFromIterable(a));
  });
}
function module$contents$omid$common$logger_executeLog(a, b) {
  "undefined" !== typeof jasmine && jasmine ? a() : "undefined" !== typeof console && console && console.error && b();
}
module$exports$omid$common$logger.error = module$contents$omid$common$logger_error;
module$exports$omid$common$logger.debug = module$contents$omid$common$logger_debug;
var module$exports$omid$common$eventTypedefs = {};
var module$exports$omid$common$version = {ApiVersion:"1.0", Version:"1.4.6-iab4036"};
var module$exports$omid$common$VersionUtils = {}, module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER = 3;
function module$contents$omid$common$VersionUtils_isValidVersion(a) {
  return /\d+\.\d+\.\d+(-.*)?/.test(a);
}
function module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a, b) {
  a = a.split("-")[0].split(".");
  b = b.split("-")[0].split(".");
  for (var c = 0; c < module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER; c++) {
    var d = parseInt(a[c], 10), f = parseInt(b[c], 10);
    if (d > f) {
      break;
    } else if (d < f) {
      return !1;
    }
  }
  return !0;
}
module$exports$omid$common$VersionUtils.isValidVersion = module$contents$omid$common$VersionUtils_isValidVersion;
module$exports$omid$common$VersionUtils.versionGreaterOrEqual = module$contents$omid$common$VersionUtils_versionGreaterOrEqual;
var module$exports$omid$common$ArgsSerDe = {}, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION = "1.0.3";
function module$contents$omid$common$ArgsSerDe_serializeMessageArgs(a, b) {
  return module$contents$omid$common$VersionUtils_isValidVersion(a) && module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION) ? b : JSON.stringify(b);
}
function module$contents$omid$common$ArgsSerDe_deserializeMessageArgs(a, b) {
  return module$contents$omid$common$VersionUtils_isValidVersion(a) && module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION) ? b ? b : [] : b && "string" === typeof b ? JSON.parse(b) : [];
}
module$exports$omid$common$ArgsSerDe.serializeMessageArgs = module$contents$omid$common$ArgsSerDe_serializeMessageArgs;
module$exports$omid$common$ArgsSerDe.deserializeMessageArgs = module$contents$omid$common$ArgsSerDe_deserializeMessageArgs;
var module$exports$omid$common$serviceMethodUtils = {}, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix = {SESSION_SERVICE:"SessionService.", VERIFICATION_SERVICE:"VerificationService.",};
function module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod(a) {
  return module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.SESSION_SERVICE);
}
function module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod(a) {
  return module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.SESSION_SERVICE);
}
function module$contents$omid$common$serviceMethodUtils_isPrefixedSessionServiceMethod(a) {
  return null != module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod(a);
}
function module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod(a) {
  return module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.VERIFICATION_SERVICE);
}
function module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod(a) {
  return module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.VERIFICATION_SERVICE);
}
function module$contents$omid$common$serviceMethodUtils_isPrefixedVerificationServiceMethod(a) {
  return null != module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod(a);
}
function module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a, b) {
  return b + a;
}
function module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a, b) {
  return (a = a.match(new RegExp("^" + b + "(.*)"))) && a[1];
}
module$exports$omid$common$serviceMethodUtils.getPrefixedSessionServiceMethod = module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod;
module$exports$omid$common$serviceMethodUtils.getPrefixedVerificationServiceMethod = module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod;
module$exports$omid$common$serviceMethodUtils.getUnprefixedSessionServiceMethod = module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod;
module$exports$omid$common$serviceMethodUtils.getUnprefixedVerificationServiceMethod = module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod;
module$exports$omid$common$serviceMethodUtils.isPrefixedSessionServiceMethod = module$contents$omid$common$serviceMethodUtils_isPrefixedSessionServiceMethod;
module$exports$omid$common$serviceMethodUtils.isPrefixedVerificationServiceMethod = module$contents$omid$common$serviceMethodUtils_isPrefixedVerificationServiceMethod;
var module$exports$omid$common$windowUtils = {};
function module$contents$omid$common$windowUtils_isValidWindow(a) {
  return null != a && "undefined" !== typeof a.top && null != a.top;
}
function module$contents$omid$common$windowUtils_isCrossOrigin(a) {
  if (a === module$exports$omid$common$OmidGlobalProvider.omidGlobal) {
    return !1;
  }
  try {
    if ("undefined" === typeof a.location.hostname) {
      return !0;
    }
    module$contents$omid$common$windowUtils_isSameOriginForIE(a);
  } catch (b) {
    return !0;
  }
  return !1;
}
function module$contents$omid$common$windowUtils_isSameOriginForIE(a) {
  return "" === a.x || "" !== a.x;
}
function module$contents$omid$common$windowUtils_resolveGlobalContext(a) {
  "undefined" === typeof a && "undefined" !== typeof window && window && (a = window);
  return module$contents$omid$common$windowUtils_isValidWindow(a) ? a : module$exports$omid$common$OmidGlobalProvider.omidGlobal;
}
function module$contents$omid$common$windowUtils_resolveTopWindowContext(a) {
  return module$contents$omid$common$windowUtils_isValidWindow(a) ? a.top : module$exports$omid$common$OmidGlobalProvider.omidGlobal;
}
function module$contents$omid$common$windowUtils_isTopWindowAccessible(a) {
  try {
    return a.top.location.href ? !0 : !1;
  } catch (b) {
    return !1;
  }
}
function module$contents$omid$common$windowUtils_removeDomElements(a) {
  a.type === module$exports$omid$common$constants.AdEventType.SESSION_START && ("undefined" !== typeof a.data.context.videoElement && (a.data.context.videoElement = "DOM Video Element - Present but not parsed to avoid parse error"), "undefined" !== typeof a.data.context.slotElement && (a.data.context.slotElement = "DOM Slot Element - Present but not parsed to avoid parse error"));
  return a;
}
function module$contents$omid$common$windowUtils_evaluatePageUrl(a) {
  if (!module$contents$omid$common$windowUtils_isValidWindow(a)) {
    return null;
  }
  try {
    var b = a.top;
    return module$contents$omid$common$windowUtils_isCrossOrigin(b) ? null : b.location.href;
  } catch (c) {
    return null;
  }
}
module$exports$omid$common$windowUtils.evaluatePageUrl = module$contents$omid$common$windowUtils_evaluatePageUrl;
module$exports$omid$common$windowUtils.isCrossOrigin = module$contents$omid$common$windowUtils_isCrossOrigin;
module$exports$omid$common$windowUtils.removeDomElements = module$contents$omid$common$windowUtils_removeDomElements;
module$exports$omid$common$windowUtils.resolveGlobalContext = module$contents$omid$common$windowUtils_resolveGlobalContext;
module$exports$omid$common$windowUtils.resolveTopWindowContext = module$contents$omid$common$windowUtils_resolveTopWindowContext;
module$exports$omid$common$windowUtils.isTopWindowAccessible = module$contents$omid$common$windowUtils_isTopWindowAccessible;
var module$exports$omid$common$DirectCommunication = function(a) {
  module$exports$omid$common$Communication.call(this, a);
  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.DIRECT;
  this.handleExportedMessage = module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this);
};
$jscomp.inherits(module$exports$omid$common$DirectCommunication, module$exports$omid$common$Communication);
module$exports$omid$common$DirectCommunication.prototype.sendMessage = function(a, b) {
  b = void 0 === b ? this.to : b;
  if (!b) {
    throw Error("Message destination must be defined at construction time or when sending the message.");
  }
  b.handleExportedMessage(a.serialize(), this);
};
module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage = function(a, b) {
  module$exports$omid$common$InternalMessage.isValidSerializedMessage(a) && this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(a), b);
};
module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin = function() {
  return !1;
};
var module$exports$omid$common$PostMessageCommunication = function(a, b) {
  b = void 0 === b ? module$exports$omid$common$OmidGlobalProvider.omidGlobal : b;
  module$exports$omid$common$Communication.call(this, b);
  var c = this;
  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.POST_MESSAGE;
  a.addEventListener("message", function(d) {
    if ("object" === typeof d.data) {
      var f = d.data;
      module$exports$omid$common$InternalMessage.isValidSerializedMessage(f) && (f = module$exports$omid$common$InternalMessage.deserialize(f), d.source && c.handleMessage(f, d.source));
    }
  });
};
$jscomp.inherits(module$exports$omid$common$PostMessageCommunication, module$exports$omid$common$Communication);
module$exports$omid$common$PostMessageCommunication.isCompatibleContext = function(a) {
  return !!(a && a.addEventListener && a.postMessage);
};
module$exports$omid$common$PostMessageCommunication.prototype.sendMessage = function(a, b) {
  b = void 0 === b ? this.to : b;
  if (!b) {
    throw Error("Message destination must be defined at construction time or when sending the message.");
  }
  b.postMessage(a.serialize(), "*");
};
module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin = function() {
  return this.to ? module$contents$omid$common$windowUtils_isCrossOrigin(this.to) : !0;
};
var module$exports$omid$common$DetectOmid = {OMID_PRESENT_FRAME_NAME:"omid_v1_present", isOmidPresent:function(a) {
  try {
    return a.frames ? !!a.frames[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME] : !1;
  } catch (b) {
    return !1;
  }
}, declareOmidPresence:function(a) {
  a.frames && a.document && (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME in a.frames || (null == a.document.body && module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(a) ? module$exports$omid$common$DetectOmid.registerMutationObserver_(a) : a.document.body ? module$exports$omid$common$DetectOmid.appendPresenceIframe_(a) : a.document.write('<iframe style="display:none" id="' + (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME + '" name="') + (module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME + 
  '" sandbox></iframe>'))));
}, appendPresenceIframe_:function(a) {
  var b = a.document.createElement("iframe");
  b.id = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME;
  b.name = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME;
  b.style.display = "none";
  b.sandbox = "";
  a.document.body.appendChild(b);
}, isMutationObserverAvailable_:function(a) {
  return "MutationObserver" in a;
}, registerMutationObserver_:function(a) {
  var b = new MutationObserver(function(c) {
    c.forEach(function(d) {
      "BODY" === d.addedNodes[0].nodeName && (module$exports$omid$common$DetectOmid.appendPresenceIframe_(a), b.disconnect());
    });
  });
  b.observe(a.document.documentElement, {childList:!0});
}};
var module$exports$omid$common$serviceCommunication = {}, module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME = ["omid", "v1_SessionServiceCommunication"], module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME = ["omid", "v1_VerificationServiceCommunication"], module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME = ["omidVerificationProperties", "serviceWindow"];
function module$contents$omid$common$serviceCommunication_getValueForKeypath(a, b) {
  return b.reduce(function(c, d) {
    return c && c[d];
  }, a);
}
function module$contents$omid$common$serviceCommunication_startServiceCommunication(a, b, c, d) {
  if (!module$contents$omid$common$windowUtils_isCrossOrigin(b)) {
    try {
      var f = module$contents$omid$common$serviceCommunication_getValueForKeypath(b, c);
      if (f) {
        return new module$exports$omid$common$DirectCommunication(f);
      }
    } catch (l) {
    }
  }
  return d(b) ? new module$exports$omid$common$PostMessageCommunication(a, b) : null;
}
function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, b, c, d) {
  b = $jscomp.makeIterator(b);
  for (var f = b.next(); !f.done; f = b.next()) {
    if (f = module$contents$omid$common$serviceCommunication_startServiceCommunication(a, f.value, c, d)) {
      return f;
    }
  }
  return null;
}
function module$contents$omid$common$serviceCommunication_startSessionServiceCommunication(a, b, c) {
  c = void 0 === c ? module$exports$omid$common$DetectOmid.isOmidPresent : c;
  var d = [a, module$contents$omid$common$windowUtils_resolveTopWindowContext(a)];
  b && d.unshift(b);
  return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, d, module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME, c);
}
function module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication(a, b) {
  b = void 0 === b ? module$exports$omid$common$DetectOmid.isOmidPresent : b;
  var c = [], d = module$contents$omid$common$serviceCommunication_getValueForKeypath(a, module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);
  d && c.push(d);
  c.push(module$contents$omid$common$windowUtils_resolveTopWindowContext(a));
  return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, c, module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME, b);
}
module$exports$omid$common$serviceCommunication.startSessionServiceCommunication = module$contents$omid$common$serviceCommunication_startSessionServiceCommunication;
module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication = module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication;
var module$contents$omid$sessionClient$AdSession_SESSION_CLIENT_VERSION = module$exports$omid$common$version.Version, module$exports$omid$sessionClient$AdSession = function(a, b, c) {
  module$contents$omid$common$argsChecker_assertNotNullObject("AdSession.context", a);
  this.adSessionId_ = module$contents$omid$common$guid_generateGuid();
  this.context_ = a;
  this.impressionOccurred_ = !1;
  var d = this.context_.serviceWindow || void 0;
  this.communication_ = b || module$contents$omid$common$serviceCommunication_startSessionServiceCommunication(module$contents$omid$common$windowUtils_resolveGlobalContext(), d);
  this.sessionInterface_ = c || new module$exports$omid$sessionClient$OmidJsSessionInterface();
  this.isSessionRunning_ = this.hasMediaEvents_ = this.hasAdEvents_ = !1;
  this.impressionType_ = this.creativeType_ = null;
  this.creativeLoaded_ = !1;
  this.callbackMap_ = {};
  this.communication_ && (this.communication_.onMessage = this.handleInternalMessage_.bind(this));
  this.setClientInfo_();
  this.injectVerificationScripts_(a.verificationScriptResources);
  this.sendSlotElement_(a.slotElement);
  this.sendVideoElement_(a.videoElement);
  this.sendContentUrl_(a.contentUrl);
  this.watchSessionEvents_();
};
module$exports$omid$sessionClient$AdSession.prototype.getAdSessionId = function() {
  return this.adSessionId_;
};
module$exports$omid$sessionClient$AdSession.prototype.setCreativeType = function(a) {
  if (a === module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT) {
    throw Error("Creative type cannot be redefined with value " + module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT);
  }
  if (this.impressionOccurred_) {
    throw Error("Impression has already occurred");
  }
  if (this.creativeLoaded_) {
    throw Error("Creative has already loaded");
  }
  if (this.creativeType_ && this.creativeType_ !== module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT) {
    throw Error("Creative type cannot be redefined");
  }
  if (void 0 === this.creativeType_) {
    throw Error("Native integration is using OMID 1.2 or earlier");
  }
  this.sendOneWayMessage("setCreativeType", a, this.adSessionId_);
  this.creativeType_ = a;
};
module$exports$omid$sessionClient$AdSession.prototype.setImpressionType = function(a) {
  if (a === module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT) {
    throw Error("Impression type cannot be redefined with value " + module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT);
  }
  if (this.impressionOccurred_) {
    throw Error("Impression has already occurred");
  }
  if (this.creativeLoaded_) {
    throw Error("Creative has already loaded");
  }
  if (this.impressionType_ && this.impressionType_ !== module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT) {
    throw Error("Impression type cannot be redefined");
  }
  if (void 0 === this.impressionType_) {
    throw Error("Native integration is using OMID 1.2 or earlier");
  }
  this.sendOneWayMessage("setImpressionType", a, this.adSessionId_);
  this.impressionType_ = a;
};
module$exports$omid$sessionClient$AdSession.prototype.isSupported = function() {
  return !!this.communication_ || this.sessionInterface_.isSupported();
};
module$exports$omid$sessionClient$AdSession.prototype.isSendingElementsSupported_ = function() {
  return this.communication_ ? this.communication_.isDirectCommunication() : this.sessionInterface_.isSupported();
};
module$exports$omid$sessionClient$AdSession.prototype.registerSessionObserver = function(a) {
  this.sendMessage("registerSessionObserver", a, this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.start = function() {
  this.sendOneWayMessage("startSession", {customReferenceData:this.context_.customReferenceData, underEvaluation:this.context_.underEvaluation,}, this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.finish = function() {
  this.sendOneWayMessage("finishSession", this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.error = function(a, b) {
  this.sendOneWayMessage("sessionError", a, b, this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.registerAdEvents = function() {
  if (this.hasAdEvents_) {
    throw Error("AdEvents already registered.");
  }
  this.hasAdEvents_ = !0;
  this.sendOneWayMessage("registerAdEvents", this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.registerMediaEvents = function() {
  if (this.hasMediaEvents_) {
    throw Error("MediaEvents already registered.");
  }
  this.hasMediaEvents_ = !0;
  this.sendOneWayMessage("registerMediaEvents", this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.sendOneWayMessage = function(a) {
  var b = $jscomp.getRestArguments.apply(1, arguments);
  this.sendMessage.apply(this, [a, null].concat($jscomp.arrayFromIterable(b)));
};
module$exports$omid$sessionClient$AdSession.prototype.sendMessage = function(a, b) {
  var c = $jscomp.getRestArguments.apply(2, arguments);
  this.communication_ ? this.sendInternalMessage_(a, b, c) : this.sessionInterface_.isSupported() && this.sendInterfaceMessage_(a, b, c);
};
module$exports$omid$sessionClient$AdSession.prototype.sendInternalMessage_ = function(a, b, c) {
  var d = module$contents$omid$common$guid_generateGuid();
  b && (this.callbackMap_[d] = b);
  a = new module$exports$omid$common$InternalMessage(d, module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod(a), module$exports$omid$common$version.Version, module$contents$omid$common$ArgsSerDe_serializeMessageArgs(module$exports$omid$common$version.Version, c));
  this.communication_.sendMessage(a);
};
module$exports$omid$sessionClient$AdSession.prototype.handleInternalMessage_ = function(a, b) {
  b = a.method;
  var c = a.guid;
  a = a.args;
  if ("response" === b && this.callbackMap_[c]) {
    var d = module$contents$omid$common$ArgsSerDe_deserializeMessageArgs(module$exports$omid$common$version.Version, a);
    this.callbackMap_[c].apply(this, d);
  }
  "error" === b && window.console && module$contents$omid$common$logger_error(a);
};
module$exports$omid$sessionClient$AdSession.prototype.sendInterfaceMessage_ = function(a, b, c) {
  try {
    this.sessionInterface_.sendMessage(a, b, c);
  } catch (d) {
    module$contents$omid$common$logger_error("Failed to communicate with SessionInterface with error:"), module$contents$omid$common$logger_error(d);
  }
};
module$exports$omid$sessionClient$AdSession.prototype.assertSessionRunning = function() {
  if (!this.isSessionRunning_) {
    throw Error("Session not started.");
  }
};
module$exports$omid$sessionClient$AdSession.prototype.impressionOccurred = function() {
  if (this.creativeType_ === module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT) {
    throw Error("Creative type has not been redefined");
  }
  if (this.impressionType_ === module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT) {
    throw Error("Impression type has not been redefined");
  }
  this.impressionOccurred_ = !0;
};
module$exports$omid$sessionClient$AdSession.prototype.creativeLoaded = function() {
  if (this.creativeType_ === module$exports$omid$common$constants.CreativeType.DEFINED_BY_JAVASCRIPT) {
    throw Error("Creative type has not been redefined");
  }
  if (this.impressionType_ === module$exports$omid$common$constants.ImpressionType.DEFINED_BY_JAVASCRIPT) {
    throw Error("Impression type has not been redefined");
  }
  this.creativeLoaded_ = !0;
};
module$exports$omid$sessionClient$AdSession.prototype.setClientInfo_ = function() {
  this.sendOneWayMessage("setClientInfo", module$exports$omid$common$version.Version, this.context_.partner.name, this.context_.partner.version, this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.injectVerificationScripts_ = function(a) {
  a && (a = a.map(function(b) {
    return b.toJSON();
  }), this.sendOneWayMessage("injectVerificationScriptResources", a, this.adSessionId_));
};
module$exports$omid$sessionClient$AdSession.prototype.sendSlotElement_ = function(a) {
  this.sendElement_(a, "setSlotElement");
};
module$exports$omid$sessionClient$AdSession.prototype.sendVideoElement_ = function(a) {
  this.sendElement_(a, "setVideoElement");
};
module$exports$omid$sessionClient$AdSession.prototype.sendElement_ = function(a, b) {
  a && (this.isSendingElementsSupported_() ? this.sendOneWayMessage(b, a, this.adSessionId_) : this.error(module$exports$omid$common$constants.ErrorType.GENERIC, "Session Client " + b + " called when communication is cross-origin"));
};
module$exports$omid$sessionClient$AdSession.prototype.sendContentUrl_ = function(a) {
  a && this.sendOneWayMessage("setContentUrl", a, this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.setElementBounds = function(a) {
  module$contents$omid$common$argsChecker_assertNotNullObject("AdSession.elementBounds", a);
  this.sendOneWayMessage("setElementBounds", a, this.adSessionId_);
};
module$exports$omid$sessionClient$AdSession.prototype.watchSessionEvents_ = function() {
  var a = this;
  this.registerSessionObserver(function(b) {
    b.type === module$exports$omid$common$constants.AdEventType.SESSION_START && (a.isSessionRunning_ = !0, a.creativeType_ = b.data.creativeType, a.impressionType_ = b.data.impressionType);
    b.type === module$exports$omid$common$constants.AdEventType.SESSION_FINISH && (a.isSessionRunning_ = !1);
  });
};
module$contents$omid$common$exporter_packageExport("OmidSessionClient.AdSession", module$exports$omid$sessionClient$AdSession);
var module$exports$omid$common$VastProperties = function(a, b, c, d) {
  this.isSkippable = a;
  this.skipOffset = b;
  this.isAutoPlay = c;
  this.position = d;
};
module$exports$omid$common$VastProperties.prototype.toJSON = function() {
  return {isSkippable:this.isSkippable, skipOffset:this.skipOffset, isAutoPlay:this.isAutoPlay, position:this.position,};
};
var module$exports$omid$sessionClient$AdEvents = function(a) {
  module$contents$omid$common$argsChecker_assertNotNullObject("AdEvents.adSession", a);
  this.adSessionId_ = a.getAdSessionId();
  try {
    a.registerAdEvents(), this.adSession = a;
  } catch (b) {
    throw Error("AdSession already has an ad events instance registered");
  }
};
module$exports$omid$sessionClient$AdEvents.prototype.impressionOccurred = function() {
  this.adSession.assertSessionRunning();
  this.adSession.impressionOccurred();
  this.adSession.sendOneWayMessage("impressionOccurred", this.adSessionId_);
};
module$exports$omid$sessionClient$AdEvents.prototype.loaded = function(a) {
  a = void 0 === a ? null : a;
  this.adSession.creativeLoaded();
  a = a ? a.toJSON() : null;
  this.adSession.sendOneWayMessage("loaded", a, this.adSessionId_);
};
module$contents$omid$common$exporter_packageExport("OmidSessionClient.AdEvents", module$exports$omid$sessionClient$AdEvents);
var module$exports$omid$sessionClient$MediaEvents = function(a) {
  module$contents$omid$common$argsChecker_assertNotNullObject("MediaEvents.adSession", a);
  this.adSessionId_ = a.getAdSessionId();
  try {
    a.registerMediaEvents(), this.adSession = a;
  } catch (b) {
    throw Error("AdSession already has a media events instance registered");
  }
};
module$exports$omid$sessionClient$MediaEvents.prototype.start = function(a, b) {
  module$contents$omid$common$argsChecker_assertNumber("MediaEvents.start.duration", a);
  module$contents$omid$common$argsChecker_assertNumberBetween("MediaEvents.start.mediaPlayerVolume", b, 0, 1);
  this.adSession.sendOneWayMessage("start", a, b, this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.firstQuartile = function() {
  this.adSession.sendOneWayMessage("firstQuartile", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.midpoint = function() {
  this.adSession.sendOneWayMessage("midpoint", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.thirdQuartile = function() {
  this.adSession.sendOneWayMessage("thirdQuartile", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.complete = function() {
  this.adSession.sendOneWayMessage("complete", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.pause = function() {
  this.adSession.sendOneWayMessage("pause", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.resume = function() {
  this.adSession.sendOneWayMessage("resume", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.bufferStart = function() {
  this.adSession.sendOneWayMessage("bufferStart", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.bufferFinish = function() {
  this.adSession.sendOneWayMessage("bufferFinish", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.skipped = function() {
  this.adSession.sendOneWayMessage("skipped", this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.volumeChange = function(a) {
  module$contents$omid$common$argsChecker_assertNumberBetween("MediaEvents.volumeChange.mediaPlayerVolume", a, 0, 1);
  this.adSession.sendOneWayMessage("volumeChange", a, this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.playerStateChange = function(a) {
  module$contents$omid$common$argsChecker_assertNotNullObject("MediaEvents.playerStateChange.playerState", a);
  this.adSession.sendOneWayMessage("playerStateChange", a, this.adSessionId_);
};
module$exports$omid$sessionClient$MediaEvents.prototype.adUserInteraction = function(a) {
  module$contents$omid$common$argsChecker_assertNotNullObject("MediaEvents.adUserInteraction.interactionType", a);
  this.adSession.sendOneWayMessage("adUserInteraction", a, this.adSessionId_);
};
module$contents$omid$common$exporter_packageExport("OmidSessionClient.MediaEvents", module$exports$omid$sessionClient$MediaEvents);
var module$exports$omid$sessionClient$OmidVersion = function(a, b) {
  module$contents$omid$common$argsChecker_assertTruthyString("OmidVersion.semanticVersion", a);
  module$contents$omid$common$argsChecker_assertTruthyString("OmidVersion.apiLevel", b);
};
module$contents$omid$common$exporter_packageExport("OmidSessionClient.OmidVersion", module$exports$omid$sessionClient$OmidVersion);
var module$exports$omid$sessionClient$ServiceCommunication = {};
function module$contents$omid$sessionClient$ServiceCommunication_listenForServiceWindow(a) {
  var b = module$contents$omid$common$windowUtils_resolveGlobalContext();
  (new module$exports$omid$common$PostMessageCommunication(b)).onMessage = function(c, d) {
    c.method === module$exports$omid$common$constants.MessageMethod.IDENTIFY_SERVICE_WINDOW && a(d);
  };
}
module$contents$omid$common$exporter_packageExport("OmidSessionClient.listenForServiceWindow", module$contents$omid$sessionClient$ServiceCommunication_listenForServiceWindow);
module$exports$omid$sessionClient$ServiceCommunication.listenForServiceWindow = module$contents$omid$sessionClient$ServiceCommunication_listenForServiceWindow;
var module$exports$omid$sessionClient$VastPropertiesExports = {};
module$contents$omid$common$exporter_packageExport("OmidSessionClient.VastProperties", module$exports$omid$common$VastProperties);
var module$exports$omid$sessionClient$VerificationVendor = {VerificationVendorId:{OTHER:1, MOAT:2, DOUBLEVERIFY:3, INTEGRAL_AD_SCIENCE:4, PIXELATE:5, NIELSEN:6, COMSCORE:7, MEETRICS:8, GOOGLE:9,}};
function module$contents$omid$sessionClient$VerificationVendor_verificationVendorIdForScriptUrl(a) {
  for (var b = $jscomp.makeIterator(module$contents$omid$sessionClient$VerificationVendor_VERIFICATION_VENDORS.keys()), c = b.next(); !c.done; c = b.next()) {
    c = c.value;
    for (var d = $jscomp.makeIterator(module$contents$omid$sessionClient$VerificationVendor_VERIFICATION_VENDORS.get(c)), f = d.next(); !f.done; f = d.next()) {
      if (f.value.test(a)) {
        return c;
      }
    }
  }
  return module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.OTHER;
}
var module$contents$omid$sessionClient$VerificationVendor_VERIFICATION_VENDORS = new Map([[module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.MOAT, [/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.moatads\.com\/.*$/,],], [module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.DOUBLEVERIFY, [/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.doubleverify\.com\/.*$/, /^(https?:\/\/|\/\/)?c\.[\w\-]+\.com\/vfw\/dv\/.*$/, /^(https?:\/\/|\/\/)?(www\.)?[\w]+\.tv\/r\/s\/d\/.*$/,],], [module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.INTEGRAL_AD_SCIENCE, 
[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.adsafeprotected\.com\/.*$/,],], [module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.PIXELATE, [/^https?:\/\/(q|cdn)\.adrta\.com\/s\/.*\/(aa|aanf)\.js.*$/, /^https:\/\/cdn\.rta247\.com\/s\/.*\/(aa|aanf)\.js.*$/,],], [module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.NIELSEN, [],], [module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.COMSCORE, [/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.voicefive\.com\/.*$/, 
/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.measuread\.com\/.*$/, /^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.scorecardresearch\.com\/.*$/,],], [module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.MEETRICS, [/^(https?:\/\/|\/\/)?s418\.mxcdn\.net\/bb-serve\/omid-meetrics.*\.js$/,],], [module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId.GOOGLE, [/^(https?:\/\/|\/\/)?pagead2\.googlesyndication\.com\/.*$/, /^(https?:\/\/|\/\/)?www\.googletagservices\.com\/.*$/,],],]);
module$contents$omid$common$exporter_packageExport("OmidSessionClient.verificationVendorIdForScriptUrl", module$contents$omid$sessionClient$VerificationVendor_verificationVendorIdForScriptUrl);
module$contents$omid$common$exporter_packageExport("OmidSessionClient.VerificationVendorId", module$exports$omid$sessionClient$VerificationVendor.VerificationVendorId);
module$exports$omid$sessionClient$VerificationVendor.verificationVendorIdForScriptUrl = module$contents$omid$sessionClient$VerificationVendor_verificationVendorIdForScriptUrl;
var module$exports$omid$common$FloatComparer = {}, module$contents$omid$common$FloatComparer_FLOAT_ROUGH_DIFF_TOLERANCE = 0.01;
function module$contents$omid$common$FloatComparer_roughlyEqual(a, b) {
  return Math.abs(a - b) < module$contents$omid$common$FloatComparer_FLOAT_ROUGH_DIFF_TOLERANCE;
}
function module$contents$omid$common$FloatComparer_roughlyLessThan(a, b) {
  return b - a > module$contents$omid$common$FloatComparer_FLOAT_ROUGH_DIFF_TOLERANCE;
}
function module$contents$omid$common$FloatComparer_lessThanOrRoughlyEqual(a, b) {
  return a < b || module$contents$omid$common$FloatComparer_roughlyEqual(a, b);
}
function module$contents$omid$common$FloatComparer_greaterThanOrRoughlyEqual(a, b) {
  return a > b || module$contents$omid$common$FloatComparer_roughlyEqual(a, b);
}
module$exports$omid$common$FloatComparer.roughlyLessThan = module$contents$omid$common$FloatComparer_roughlyLessThan;
module$exports$omid$common$FloatComparer.lessThanOrRoughlyEqual = module$contents$omid$common$FloatComparer_lessThanOrRoughlyEqual;
module$exports$omid$common$FloatComparer.greaterThanOrRoughlyEqual = module$contents$omid$common$FloatComparer_greaterThanOrRoughlyEqual;

}, typeof exports === 'undefined' ? undefined : exports));

/g-svg>\n          <div\n            ng-hide="$ctrl.display_state === \'dismissed\'"\n            class="apple_music_player-player-song_art-image"\n          >\n            <div class="cover_art">\n              <img\n                class="cover_art-image"\n                class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n                ng-src="{{$ctrl.preview_track.artwork_url}}"\n              >\n            </div>\n          </div>\n        </div>\n        <div\n          ng-if="!$ctrl.use_mobile_template && $ctrl.display_state !== \'dismissed\'"\n          class="apple_music_player-player-info"\n        >\n          <div class="apple_music_player-player-info-title">{{$ctrl.preview_track.title}}</div>\n          <div class="apple_music_player-player-info-artist">{{$ctrl.preview_track.artist_display_name}}</div>\n        </div>\n        <play-button\n          ng-if="$ctrl.play_state !== \'loading\'"\n          playing="$ctrl.play_state !== \'paused\'"\n          ng-click="$ctrl.toggle_playing({playback_origin: \'player\'})"\n          dismissed="$ctrl.display_state === \'dismissed\'"\n        ></play-button>\n        <spinner ng-if="$ctrl.play_state === \'loading\'"></spinner>\n        <playback-time\n          ng-if="!$ctrl.use_mobile_template && $ctrl.display_state !== \'dismissed\'"\n          is-scrubbing="$ctrl.is_scrubbing() && !$ctrl.seeking"\n          progress="$ctrl.is_scrubbing() ? $ctrl.scrubber_progress : $ctrl.playback_time / $ctrl.playback_duration_for_display()"\n          playback-duration="$ctrl.playback_duration_for_display()"\n        ></playback-time>\n        <div\n          ng-if="$ctrl.display_state !== \'dismissed\'"\n          class="apple_music_player-player-seekbar"\n        >\n          <div\n            class="apple_music_player-player-seekbar-solid"\n            ng-class="{\'apple_music_player-player-seekbar-solid--preview\': $ctrl.current_player_has_played && !$ctrl.authorized}"\n          >\n            <seekbar\n              can-scrub="$ctrl.can_scrub()"\n              is-scrubbing="$ctrl.is_scrubbing() && !$ctrl.seeking"\n              progress="$ctrl.is_scrubbing() ? $ctrl.scrubber_progress : $ctrl.playback_time / $ctrl.playback_duration_for_display()"\n              finish-scrub="$ctrl.finish_scrub(progress)"\n              set-scrubber-progress="$ctrl.set_scrubber_progress(progress)"\n              show-spinner="$ctrl.ad_playing"\n              on-spinner-click="$ctrl.dismiss_ad_player_if_playing()"\n              click-to-seek="!$ctrl.use_mobile_template"\n            ></seekbar>\n          </div>\n          <div class="apple_music_player-player-seekbar-dashed"></div>\n        </div>\n        <playback-time\n          ng-if="$ctrl.display_state !== \'dismissed\'"\n          is-scrubbing="$ctrl.is_scrubbing() && !$ctrl.seeking"\n          progress="$ctrl.is_scrubbing() ? $ctrl.scrubber_progress : $ctrl.playback_time / $ctrl.playback_duration_for_display()"\n          playback-duration="$ctrl.playback_duration_for_display()"\n          time-remaining="true"\n        ></playback-time>\n        <div\n          ng-if="!$ctrl.use_mobile_template"\n          class="apple_music_player-player-popup"\n          ng-class="{\'apple_music_player-player-popup--visible\': $ctrl.show_added_to_playlist_message}"\n        >\n          Added to your library\n          <g-svg src="checkmark.svg"></g-svg>\n        </div>\n        <div ng-if="!$ctrl.use_mobile_template && $ctrl.display_state !== \'dismissed\'">\n          <div\n            ng-if="$ctrl.authorized && !$ctrl.added_to_playlist"\n            ng-click="$ctrl.add_to_playlist()"\n            class="apple_music_player-player-add_to_playlist apple_music_player-player-add_to_playlist--clickable"\n          >\n            <g-svg src="add_to_playlist_large.svg"></g-svg>\n          </div>\n          <div\n            ng-if="$ctrl.authorized && $ctrl.added_to_playlist"\n            class="apple_music_player-player-add_to_playlist"\n          >\n            <g-svg src="added_to_playlist_large.svg"></g-svg>\n          </div>\n        </div>\n        <div\n          ng-if="!$ctrl.use_mobile_template"\n          class="apple_music_player-player-logo"\n          ng-class="{\'u-half_left_margin\': $ctrl.display_state === \'dismissed\'}"\n        >\n          <g-svg\n            src="apple_music_logo.svg"\n            svg-class="apple_music_player-logo"\n          ></g-svg>\n        </div>\n        <div\n          class="apple_music_player-player-dismiss"\n          ng-if="$ctrl.use_mobile_template"\n          ng-click="$ctrl.toggle_dismiss()"\n        >\n          <g-svg\n            src="x.svg"\n            svg-class="apple_music_player-logo"\n          ></g-svg>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},1667:function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){var e=function(){},t={},n={},r={};function i(e,t){e=e.push?e:[e];var i,o,a,s=[],c=e.length,u=c;for(i=function(e,n){n.length&&s.push(e),--u||t(s)};c--;)o=e[c],(a=n[o])?i(o,a):(r[o]=r[o]||[]).push(i)}function o(e,t){if(e){var i=r[e];if(n[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function a(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function s(t,n,r,i){var o,a,c=document,u=r.async,l=(r.numRetries||0)+1,p=r.before||e,f=t.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(t)?(o=!0,(a=c.createElement("link")).rel="stylesheet",a.href=f):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(a=c.createElement("img")).src=f:((a=c.createElement("script")).src=t,a.async=void 0===u||u),a.onload=a.onerror=a.onbeforeload=function(e){var c=e.type[0];if(o&&"hideFocus"in a)try{a.sheet.cssText.length||(c="e")}catch(e){c="e"}if("e"==c&&(i+=1)<l)return s(t,n,r,i);n(t,c,e.defaultPrevented)},!1!==p(t,a)&&c.head.appendChild(a)}function c(e,t,n){var r,i,o=(e=e.push?e:[e]).length,a=o,c=[];for(r=function(e,n,r){if("e"==n&&c.push(e),"b"==n){if(!r)return;c.push(e)}--o||t(c)},i=0;i<a;i++)s(e[i],r,n)}function u(e,n,r){var i,s;if(n&&n.trim&&(i=n),s=(i?r:n)||{},i){if(i in t)throw"LoadJS";t[i]=!0}c(e,(function(e){a(s,e),o(i,e)}),s)}return u.ready=function(e,t){return i(e,(function(e){a(t,e)})),u},u.done=function(e){o(e,[])},u.reset=function(){t={},n={},r={}},u.isDefined=function(e){return e in t},u})?r.apply(t,i):r)||(e.exports=o)},1668:function(e,t,n){var r=n(1794),i=n(160),o=n(33);e.exports=function(e,t){return r(e,o(t,3),i)}},1669:function(e,t){e.exports='<div\n  class="apple_music_player-play_button"\n  ng-class="{\n    \'apple_music_player-play_button--desktop_click_area\': !$ctrl.use_mobile_template && !$ctrl.dismissed,\n    \'apple_music_player-play_button--mobile_tap_area\': $ctrl.use_mobile_template,\n  }"\n>\n  <g-svg\n    ng-hide="$ctrl.playing"\n    src="play.svg"\n  >Play</g-svg>\n  <g-svg\n    ng-show="$ctrl.playing"\n    src="pause.svg"\n  >Pause</g-svg>\n</div>\n'},167:function(e,t,n){var r=n(29);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1670:function(e,t){e.exports='<div\n  ng-click="$ctrl.click_to_seek && $ctrl.seekbar_click($event)"\n  class="apple_music_player-seekbar"\n  ng-class="{\'apple_music_player-seekbar--click_to_seek\': $ctrl.click_to_seek}"\n></div>\n<div class="apple_music_player-seekbar-scrubber_container">\n  <div\n    ng-click="$ctrl.show_spinner && $ctrl.on_spinner_click()"\n    class="apple_music_player-seekbar-scrubber"\n    ng-class="{\'apple_music_player-seekbar-scrubber--click_to_seek\': $ctrl.click_to_seek}"\n    ng-style="{left: ($ctrl.progress * 100) + \'%\'}"\n  >\n    <div\n      class="apple_music_player-seekbar-scrubber-circle"\n      ng-class="{\n        \'apple_music_player-seekbar-scrubber-circle--large\': $ctrl.is_scrubbing || $ctrl.show_spinner,\n        \'apple_music_player-seekbar-scrubber-circle--purple\': $ctrl.is_scrubbing,\n        \'apple_music_player-seekbar-scrubber-circle--gray\': $ctrl.show_spinner,\n        \'apple_music_player-seekbar-scrubber-circle--click_to_seek\': $ctrl.click_to_seek\n      }"\n    ></div>\n    <div\n      class="apple_music_player-seekbar-scrubber-x"\n      ng-class="{\n        \'apple_music_player-seekbar-scrubber-x--visible\': $ctrl.show_spinner,\n        \'apple_music_player-seekbar-scrubber-x--click_to_seek\': $ctrl.click_to_seek\n      }"\n    >\n      <g-svg src="x_small.svg"></g-svg>\n    </div>\n    <div\n      ng-if="$ctrl.show_spinner"\n      class="apple_music_player-seekbar-scrubber-spinner"\n      ng-class="{\'apple_music_player-seekbar-scrubber-spinner--click_to_seek\': $ctrl.click_to_seek}"\n    >\n      <g-svg src="circle.svg"></g-svg>\n    </div>\n  </div>\n</div>\n'},1671:function(e,t){e.exports="<div\n  class=\"apple_music_player-playback_time\"\n  ng-class=\"{\n    'apple_music_player-playback_time--active': $ctrl.is_scrubbing,\n    'apple_music_player-playback_time--time_remaining': $ctrl.time_remaining\n  }\"\n>\n  {{$ctrl.playback_time_for_display()}}\n</div>\n"},1672:function(e,t){e.exports='<g-svg\n  src="circle.svg"\n  svg-class="spinner"\n></g-svg>\n'},1673:function(e,t,n){var r=n(1814),i=n(208);e.exports=function(e,t){return null!=e&&i(e,t,r)}},1674:function(e,t,n){var r=n(206),i=n(33),o=n(1815),a=n(2),s=n(90);e.exports=function(e,t,n){var c=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),c(e,i(t,3))}},1675:function(e,t){e.exports='<div\n  ng-class="{\n    \'apple_music_player_container--border\': $ctrl.containing_frame_is_fullbleed,\n  }"\n>\n  <a\n    ng-if="$ctrl.operating_system"\n    class="apple_music_player-app_banner"\n    ng-click="$ctrl.track_click()"\n    ng-href="{{$ctrl.operating_system === \'ios\' ? \'https://itunes.apple.com/us/app/genius-song-lyrics-more/id709482991?ls=1&mt=8\' : \'https://play.google.com/store/apps/details?id=com.genius.android\'}}"\n    target="_blank"\n  >\n    <div class="apple_music_player-app_banner-button">\n      {{$ctrl.operating_system === \'ios\' ? \'Get\' : \'Install\'}}\n    </div>\n    <div class="apple_music_player-app_banner-icon apple_music_player-app_banner-icon--{{$ctrl.operating_system}}">\n      <g-svg\n        src="sgnarly.svg"\n        svg-class="apple_music_player-app_banner-icon-sgnarly"\n      ></g-svg>\n    </div>\n    <div class="u-left_margin">\n      <div class="apple_music_player-app_banner-heading">\n        {{$ctrl.operating_system === \'ios\' ? \'Get\' : \'Install\'}} the Genius App\n      </div>\n      <div class="apple_music_player-app_banner-subheading">\n        Song lyrics & more\n      </div>\n    </div>\n    <div class="apple_music_player-app_banner-dismiss"></div>\n  </a>\n</div>\n'},168:function(e,t,n){var r=n(28);e.exports=function(){this.__data__=new r,this.size=0}},169:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},17:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},170:function(e,t){e.exports=function(e){return this.__data__.get(e)}},171:function(e,t){e.exports=function(e){return this.__data__.has(e)}},172:function(e,t,n){var r=n(28),i=n(56),o=n(59);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},173:function(e,t,n){var r=n(174),i=n(28),o=n(56);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},174:function(e,t,n){var r=n(175),i=n(176),o=n(177),a=n(178),s=n(179);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},175:function(e,t,n){var r=n(30);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},176:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},177:function(e,t,n){var r=n(30),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},178:function(e,t,n){var r=n(30),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},1789:function(e,t){if(!function(){try{var e="__storage_test__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}()){var n={_store:{},setItem:function(e,t){return this._store[e]=String(t)},getItem:function(e){return this._store.hasOwnProperty(e)?this._store[e]:void 0},removeItem:function(e){return delete this._store[e]},clear:function(){return this._store={}}};Object.defineProperty(window,"localStorage",{value:n}),Object.defineProperty(window,"sessionStorage",{value:n})}},179:function(e,t,n){var r=n(30);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},1790:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=e instanceof Error?e:new Error(e);if("object"==typeof t?n=t:null!=t&&(i.code=t),n)for(r in n)i[r]=n[r];return i}},1791:function(e,t,n){e.exports=n(1792)},1792:function(e,t,n){var r=n(1793);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"==typeof e[i]&&r.push(i);for(var o=0;o<r.length;o++){var a=r[o],s=e[a];e[a]=function(){var r=t.operation(n),i=Array.prototype.slice.call(arguments),o=i.pop();i.push((function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),o.apply(this,arguments))})),r.attempt((function(){s.apply(e,i)}))},e[a].options=n}}},1793:function(e,t){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._timeouts=e,this._options=t||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift()}var n=this,r=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),this._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),t);return this._options.unref&&r.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t}},1794:function(e,t){e.exports=function(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}},1795:function(e,t,n){var r={"./add_to_playlist.svg":1796,"./add_to_playlist_large.svg":1797,"./added_to_playlist.svg":1798,"./added_to_playlist_large.svg":1799,"./apple_music_icon.svg":1800,"./apple_music_logo.svg":1801,"./checkmark.svg":1802,"./circle.svg":1803,"./left_arrow.svg":1804,"./pause.svg":1805,"./play.svg":1806,"./play_no_padding.svg":1807,"./right_arrow.svg":1808,"./sgnarly.svg":1809,"./x.svg":1810,"./x_small.svg":1811};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=1795},1796:function(e,t){e.exports='<svg viewBox="0 0 22 16" xmlns="http://www.w3.org/2000/svg"><path d="M16 10V6h2v4h4v2h-4v4h-2v-4h-4v-2h4zM0 0h18v2H0V0zm0 5h14v2H0V5zm0 5h10v2H0v-2z"></path></svg>'},1797:function(e,t){e.exports='<svg viewBox="0 0 15 10" xmlns="http://www.w3.org/2000/svg"><path d="M11 6V3h1v3h3v1h-3v3h-1V7H8V6h3zM0 0h12v1H0V0zm0 3h9v1H0V3zm0 3h6v1H0V6z" fill-rule="evenodd"></path></svg>'},1798:function(e,t){e.exports='<svg viewBox="0 0 23 15" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h18v2H0V0zm0 5h14v2H0V5zm0 5h10v2H0v-2zm12 .75l.97-1.04 3.115 2.904L21.313 7l1.04.97-6.198 6.654L12 10.75z" fill="#0ECB27"></path></svg>'},1799:function(e,t){e.exports='<svg viewBox="0 0 16 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h12v1H0V0zm0 3h9v1H0V3zm0 3h6v1H0V6zm8 .714l.673-.752 2.164 2.101L14.467 4l.722.702-4.303 4.815L8 6.714z" fill="#0ECB27" fill-rule="evenodd"></path></svg>'},18:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},180:function(e,t,n){var r=n(31);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},1800:function(e,t){e.exports='<svg version="1.1" id="Artwork" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 361 361" style="enable-background:new 0 0 361 361;" xml:space="preserve"><style type="text/css"> .st0{fill-rule:evenodd;clip-rule:evenodd;fill:url(#SVGID_1_);} .st1{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;} </style><g id="Layer_5"></g><g><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="180" y1="358.6047" x2="180" y2="7.7586"><stop offset="0" style="stop-color:#FA233B"></stop><stop offset="1" style="stop-color:#FB5C74"></stop></linearGradient><path class="st0" d="M360,112.61c0-4.3,0-8.6-0.02-12.9c-0.02-3.62-0.06-7.24-0.16-10.86c-0.21-7.89-0.68-15.84-2.08-23.64 c-1.42-7.92-3.75-15.29-7.41-22.49c-3.6-7.07-8.3-13.53-13.91-19.14c-5.61-5.61-12.08-10.31-19.15-13.91 c-7.19-3.66-14.56-5.98-22.47-7.41c-7.8-1.4-15.76-1.87-23.65-2.08c-3.62-0.1-7.24-0.14-10.86-0.16C255.99,0,251.69,0,247.39,0 H112.61c-4.3,0-8.6,0-12.9,0.02c-3.62,0.02-7.24,0.06-10.86,0.16C80.96,0.4,73,0.86,65.2,2.27c-7.92,1.42-15.28,3.75-22.47,7.41 c-7.07,3.6-13.54,8.3-19.15,13.91c-5.61,5.61-10.31,12.07-13.91,19.14c-3.66,7.2-5.99,14.57-7.41,22.49 c-1.4,7.8-1.87,15.76-2.08,23.64c-0.1,3.62-0.14,7.24-0.16,10.86C0,104.01,0,108.31,0,112.61v134.77c0,4.3,0,8.6,0.02,12.9 c0.02,3.62,0.06,7.24,0.16,10.86c0.21,7.89,0.68,15.84,2.08,23.64c1.42,7.92,3.75,15.29,7.41,22.49c3.6,7.07,8.3,13.53,13.91,19.14 c5.61,5.61,12.08,10.31,19.15,13.91c7.19,3.66,14.56,5.98,22.47,7.41c7.8,1.4,15.76,1.87,23.65,2.08c3.62,0.1,7.24,0.14,10.86,0.16 c4.3,0.03,8.6,0.02,12.9,0.02h134.77c4.3,0,8.6,0,12.9-0.02c3.62-0.02,7.24-0.06,10.86-0.16c7.89-0.21,15.85-0.68,23.65-2.08 c7.92-1.42,15.28-3.75,22.47-7.41c7.07-3.6,13.54-8.3,19.15-13.91c5.61-5.61,10.31-12.07,13.91-19.14 c3.66-7.2,5.99-14.57,7.41-22.49c1.4-7.8,1.87-15.76,2.08-23.64c0.1-3.62,0.14-7.24,0.16-10.86c0.03-4.3,0.02-8.6,0.02-12.9V112.61 z"></path></g><g id="Glyph_2_"><g><path class="st1" d="M254.5,55c-0.87,0.08-8.6,1.45-9.53,1.64l-107,21.59l-0.04,0.01c-2.79,0.59-4.98,1.58-6.67,3 c-2.04,1.71-3.17,4.13-3.6,6.95c-0.09,0.6-0.24,1.82-0.24,3.62c0,0,0,109.32,0,133.92c0,3.13-0.25,6.17-2.37,8.76 c-2.12,2.59-4.74,3.37-7.81,3.99c-2.33,0.47-4.66,0.94-6.99,1.41c-8.84,1.78-14.59,2.99-19.8,5.01 c-4.98,1.93-8.71,4.39-11.68,7.51c-5.89,6.17-8.28,14.54-7.46,22.38c0.7,6.69,3.71,13.09,8.88,17.82 c3.49,3.2,7.85,5.63,12.99,6.66c5.33,1.07,11.01,0.7,19.31-0.98c4.42-0.89,8.56-2.28,12.5-4.61c3.9-2.3,7.24-5.37,9.85-9.11 c2.62-3.75,4.31-7.92,5.24-12.35c0.96-4.57,1.19-8.7,1.19-13.26l0-116.15c0-6.22,1.76-7.86,6.78-9.08c0,0,88.94-17.94,93.09-18.75 c5.79-1.11,8.52,0.54,8.52,6.61l0,79.29c0,3.14-0.03,6.32-2.17,8.92c-2.12,2.59-4.74,3.37-7.81,3.99 c-2.33,0.47-4.66,0.94-6.99,1.41c-8.84,1.78-14.59,2.99-19.8,5.01c-4.98,1.93-8.71,4.39-11.68,7.51 c-5.89,6.17-8.49,14.54-7.67,22.38c0.7,6.69,3.92,13.09,9.09,17.82c3.49,3.2,7.85,5.56,12.99,6.6c5.33,1.07,11.01,0.69,19.31-0.98 c4.42-0.89,8.56-2.22,12.5-4.55c3.9-2.3,7.24-5.37,9.85-9.11c2.62-3.75,4.31-7.92,5.24-12.35c0.96-4.57,1-8.7,1-13.26V64.46 C263.54,58.3,260.29,54.5,254.5,55z"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},1801:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 337.4 80.6"><defs></defs><path d="M43.9 12.7c2.7-3.4 4.6-8 4-12.7a17.7 17.7 0 00-15.8 18.3c4.5.4 9-2.3 11.8-5.6M48 19.1c-6.6-.3-12.1 3.7-15.3 3.7-3 0-7.8-3.5-13-3.4-6.7.1-13 4-16.4 10-7 12-1.8 30 5 39.8 3.3 4.9 7.3 10.2 12.6 10 5-.2 6.9-3.2 13-3.2 6 0 7.7 3.2 13 3.1 5.4 0 8.8-4.8 12.1-9.7 3.8-5.6 5.4-11 5.5-11.2-.1-.1-10.5-4.1-10.6-16C53.8 32 62 27.2 62.4 27c-4.6-6.9-12-7.7-14.5-7.9M140.9 78.6V25h-.4l-22 53.7H110L88 25h-.4v53.7H77.3v-73h13.1l23.7 58.2h.4L138 5.6h13.1v73H141zM208.3 78.6H198v-9h-.3c-3 6.4-8.3 10-16.5 10-11.6 0-18.7-7.6-18.7-19.8V25.4h11v32.3c0 8.1 3.8 12.5 11.3 12.5 8 0 12.7-5.5 12.7-13.8v-31h11v53.2zM238.3 24.4c12.4 0 20.5 6.9 20.8 16.7h-10.3c-.6-5.2-4.4-8.4-10.5-8.4-6 0-9.9 2.9-9.9 7.1 0 3.4 2.5 5.7 8.2 7l8.7 2c10.9 2.5 15 6.7 15 14.4 0 9.8-9 16.4-21.6 16.4-13.3 0-21.3-6.5-22.3-16.6h10.8c1 5.6 4.8 8.3 11.5 8.3 6.6 0 10.6-2.7 10.6-7.1 0-3.4-2-5.5-7.8-6.8l-8.6-2c-10.1-2.3-15.1-7.2-15.1-15 0-9.5 8.3-16 20.5-16zM268 11.3c0-3.5 2.8-6.3 6.3-6.3 3.4 0 6.2 2.8 6.2 6.3 0 3.4-2.8 6.3-6.2 6.3a6.3 6.3 0 01-6.4-6.3zm.8 14h11v53.3h-11V25.4zM325.9 43.7a12 12 0 00-12.5-10.2c-8.5 0-14 7-14 18.5 0 11.7 5.6 18.5 14 18.5 6.8 0 11.2-3.7 12.5-9.9h10.5c-1.1 11.3-10.2 19-23 19-15.3 0-25.2-10.4-25.2-27.6 0-17 10-27.6 25-27.6 13.8 0 22.2 8.8 23.1 19.3H326z"></path></svg>'},1802:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 16.2"><path d="M8.83 16.2L0 7.97l2.06-2.21 6.62 6.17L19.79 0 22 2.06 8.83 16.2"></path></svg>'},1803:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="64 0 20 20"><circle cx="74" cy="10" r="9"></circle></svg>'},1804:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.87 21.32"><path d="M9.37 21.32L0 10.66 9.37 0l1.5 1.32-8.21 9.34L10.87 20l-1.5 1.32"></path></svg>'},1805:function(e,t){e.exports='<svg viewBox="0 0 44 44" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M13 13H19V31H13V13ZM25 13H31V31H25V13Z"></path></svg>'},1806:function(e,t){e.exports='<svg viewBox="0 0 56 56" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M48 27.6667L18 11V44.3333L48 27.6667Z"></path></svg>'},1807:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg"><path d="M9 5L0 0v10z"></path></svg>'},1808:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.87 21.32"><path d="M1.5 21.32L0 20l8.21-9.34L0 1.32 1.5 0l9.37 10.66L1.5 21.32"></path></svg>'},1809:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path d="M31.8 108.5c.3.2.6.3 1 .3 1 0 1.8-.8 1.8-1.8 0-.2 0-.5-.1-.7-2.6-7-4-14.6-4-22.6C30.4 66 37.6 49.8 49 38l.1-.1.1-.1c.2-.3.4-.7.4-1.1v-23c0-1-.8-1.8-1.8-1.8H24.7c-.5 0-1 .3-1.3.6-.5.4-.9.9-1.4 1.3C10.9 24.9 4 40.2 4 57.2s6.9 32.3 18 43.4c2.9 3 6.2 5.6 9.8 7.9zm43-48c-1 .1-1.7.9-1.7 1.8v.4c.5 5.1 2.5 9.7 5.7 13.3l.1.1.6.6.2.2.6.6.2.2c.2.2.4.3.6.5.1.1.2.2.3.2.2.2.4.3.6.5.1.1.2.2.3.2.2.1.4.3.5.4.1.1.2.2.4.3.2.1.4.2.5.4.1.1.3.2.4.3.2.1.4.2.5.3.1.1.3.2.4.2.2.1.4.2.5.3.2.1.3.2.5.2.2.1.3.2.5.3.2.1.3.1.5.2s.3.2.5.2c.2.1.3.1.5.2s.3.1.5.2.4.1.6.2c.2.1.3.1.5.2s.4.1.6.2c.2 0 .3.1.5.1.2.1.4.1.6.1.2 0 .3.1.5.1s.4.1.7.1c.2 0 .3.1.5.1s.5.1.7.1c.1 0 .3 0 .4.1.3 0 .6 0 .8.1h2c12.7-.3 22.9-10.6 22.9-23.4v-17c0-1 .8-1.8 1.8-1.8h6.4c1 0 1.8-.8 1.8-1.8 0-.2 0-.3-.1-.5-2.1-10-6.6-19.2-12.9-26.9-.3-.4-.8-.7-1.4-.7H98.1c-1 0-1.8.8-1.8 1.8v23.6c.1 12.3-9.4 22.4-21.5 23.2z"></path><path d="M169 13.7c-.3-.4-.8-.7-1.4-.7-1 0-1.8.8-1.8 1.8 0 .2 0 .4.1.6v.1c4.6 12 7.2 25.2 7.2 38.8 0 59-47.8 106.8-106.8 106.8-13.7 0-26.8-2.6-38.8-7.3-.2-.1-.4-.1-.7-.1-1 0-1.8.8-1.8 1.8 0 .6.3 1.1.7 1.4 18.2 17.4 42.8 28 69.9 28 56 0 101.4-45.4 101.4-101.4 0-27.1-10.6-51.6-28-69.8z"></path></svg>'},181:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},1810:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path d="M22 1.39L20.61 0 11 9.62 1.39 0 0 1.39 9.62 11 0 20.61 1.39 22 11 12.38 20.61 22 22 20.61 12.38 11 22 1.39"></path></svg>'},1811:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.18 12.18"><path d="M12.18 1.41L10.77 0 6.09 4.68 1.41 0 0 1.41l4.68 4.68L0 10.77l1.41 1.41L6.09 7.5l4.68 4.68 1.41-1.41L7.5 6.09l4.68-4.68z"></path></svg>'},1812:function(e,t,n){var r=n(1813),i=n(191),o=n(1141),a=n(201),s=n(1103),c=n(1062),u=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":i(t)).length;if(n<2)return n?r(t,e):t;var l=r(t,u(e/s(t)));return a(t)?o(c(l),0,e).join(""):l.slice(0,e)}},1813:function(e,t){var n=Math.floor;e.exports=function(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=n(t/2))&&(e+=e)}while(t);return r}},1814:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},1815:function(e,t,n){var r=n(104);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},182:function(e,t,n){var r=n(31);e.exports=function(e){return r(this,e).get(e)}},183:function(e,t,n){var r=n(31);e.exports=function(e){return r(this,e).has(e)}},184:function(e,t,n){var r=n(31);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},1849:function(e,t,n){"use strict";n.r(t);var r=n(49),i=n.n(r),o=(n(1136),i.a.module("genius.apple_music_player",["ngCookies"])),a=n(1094),s=n.n(a),c=n(225),u=n.n(c),l=n(2),p=n.n(l),f=n(144),d=n.n(f),h=n(42),v=n.n(h);o.factory("AppConfig",["$window",function(e){var t,n=JSON.parse(document.querySelector('meta[itemprop="js-config"]').content),r=document.querySelector('meta[itemprop="cf-country-code"]').content,i=new URLSearchParams(window.location.search),o=i.get("long_tail_cache_experiment"),a=i.has("react"),s="amp"===e.location.host.split(".")[0];return t=s&&v.a.ios?"ios_amp":s&&v.a.android?"android_amp":n.mobile_device?"ios_mobile_web":e.navigator.platform.indexOf("Mac")>-1?"mac_desktop":e.navigator.platform.indexOf("Win")>-1?"windows_desktop":"other",d()(n,{country_code:r,platform:t,long_tail_cache_experiment:o,is_amp:s,is_react:a})}]);var g,m;o.constant("TrackingData",(g=JSON.parse(document.querySelector('meta[itemprop="js-tracking-data"]').content),m=new URLSearchParams(window.location.search),g.react=Boolean(m.get("react")),g.amp_cache=Boolean(m.get("amp_cache")),g)),o.factory("bugsnag",["AppConfig","TrackingData",function(e,t){if(!e.bugsnag)return{notify:function(){},notify_from_angular:function(){},leaveBreadcrumb:function(){}};var n=s()(u()({},e.bugsnag,{maxBreadcrumbs:40,beforeSend:function(e){p()(e.stacktrace)&&0!==e.stacktrace.length||(e.groupingHash=e.errorClass+e.errorMessage)}}));return t.user_id&&(n.user={id:t.user_id}),n.metaData={page:t},{notify:n.notify.bind(n),notify_from_angular:function(e,t){n.notify(e,{beforeSend:function(e){e.updateMetaData("angular",{cause:t})}})},leaveBreadcrumb:n.leaveBreadcrumb.bind(n)}}]),o.factory("$exceptionHandler",["$log","bugsnag",function(e,t){return function(n,r){e.error(n,r),t.notify_from_angular(n,r)}}]);n(1789);var _=n(143),y=n.n(_),$=n(1666),b=n.n($),w=n(1667),x=n.n(w),k=n(1065),S=n.n(k);o.factory("MusicKit",["$q","AppConfig","CampaignToken",function(e,t,n){var r=e.when(S()({minTimeout:500,factor:1.75},(function(t){var n=e.defer();return document.addEventListener("musickitloaded",n.resolve),x()(["https://js-cdn.music.apple.com/musickit/v3/musickit.js"],{async:!0,error:function(){n.reject(new Error("MusicKit failed to load"))}}),n.promise.catch(t)})));return{load:function(e){return r.then((function(){var r=window.MusicKit;return r.configure({developerToken:t.music_kit_token,affiliateToken:t.affiliate_token,campaignToken:n.get(e),debug:!0,app:{name:"Genius"},suppressErrorDialog:!0,features:["equivalencies"]}).then((function(){return r}))}))}}}]),o.factory("IframeResizer",[function(){return{resize:function(e){window.parent.postMessage(d()({sentinel:"amp",type:"embed-size"},e),"*")}}}]);var E=n(64),O=n.n(E),C=n(63),A=n.n(C),T=n(1095),M=n.n(T);o.factory("LocalStorage",["$window",function(e){return{is_available:function(){try{var t="__storage_test__";return e.localStorage.setItem(t,t),e.localStorage.removeItem(t),!0}catch(e){return!1}},set_item:function(t,n){e.localStorage.setItem(t,JSON.stringify(n))},get_item:function(t){return JSON.parse(e.localStorage.getItem(t)||"null")},remove_item:e.localStorage.removeItem.bind(e.localStorage),safe_set_item:function(e,t){this.is_available()&&this.set_item(e,t)},safe_get_item:function(e,t){return this.is_available()?this.get_item(e):t},safe_remove_item:function(e){this.is_available()&&this.remove_item(e)}}}]);var j=n(145),I=n.n(j);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.factory("AbTest",["LocalStorage","$q","$http","AppConfig","bugsnag","$window",function(e,t,n,r,i,o){var a=["apple_player_position"],s=["apple_mobile_upsell_shelf"];return{get_variant_for:function(e){return this.get_ab_tests().then((function(t){return t[e]}))},get_ab_tests:function(){return["ios_amp","android_amp"].includes(r.platform)||r.is_react?t.all([this.get_ab_tests_from_api_or_localstorage(),this.get_ab_tests_from_query_params()]).then((function(e){var t=V(e,2),n=t[0],r=t[1];return P(P({},n),r)})):this.get_ab_tests_from_api_or_localstorage()},get_ab_tests_from_query_params:I()((function(){var e={};return[].concat(a,s).forEach((function(t){var n=o.location.search.match("[?&]x-ab-test-".concat(t,"=([^&#]+)"));n&&(e[t]=n[1])})),t.resolve(e)})),get_ab_tests_from_api_or_localstorage:I()((function(){var o=e.safe_get_item("ab_tests_version",null),a=e.safe_get_item("ab_tests",null);return a&&r.ab_tests_version===o?t.resolve(a):t.when(S()({minTimeout:100,factor:2.3,retries:5},(function(t){return n.get("https://".concat(r.canonical_domain,"/api/ab_tests")).then((function(t){var n=t.data.response.ab_tests;return e.safe_set_item("ab_tests",n),e.safe_set_item("ab_tests_version",r.ab_tests_version),n})).catch(t)})).catch((function(e){return i.notify(e)})))})),clear:function(){e.safe_remove_item("ab_tests")}}}]),o.factory("mixpanel",["AppConfig","TrackingData","AbTest",function(e,t,n){if(e.mixpanel_enabled){var r=L({},t);O.a.init(e.mixpanel_token);O.a.register({"Logged In":!!t.user_id,"Mobile Site":t["Mobile Site"],AMP:!1,Tag:t.Tag,genius_platform:"web"}),["AB Test - apple_desktop_static_cta","AB Test - apple_mobile_static_cta","AB Test - apple_mobile_unmatched_cta","AB Test - apple_player_position","AB Test - apple_player_position_mobile","Annotatable ID","Annotatable Type","Comment Count","Has Apple Match","Has Description","Has Recirculated Articles","Has Translation Q&A","Has Youtube URL","Lyrics Language","Music?","NRM Target Date","NRM Tier","Primary Album","Primary Album ID","Primary Artist","Primary Artist ID","Primary Tag","Primary Tag ID","Release Date","Song ID","Title","amp_cache","cohort_ids","containing_frame_is_fullbleed","created_at","created_month","created_year","distinct_id","featured_video","has_featured_annotation","has_verified_callout","hot","platform_variant","provider","provider_id","react","song","song_id","song_tier","web_interstitial_variant"].forEach((function(e){O.a.unregister(e)}));var i=n.get_ab_tests().then((function(e){M()(e,(function(e,t){r["AB Test - ".concat(t)]=e}))}));return{track:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=L(L({},r),{},{timestamp:Date.now()},t),i.finally((function(){return setTimeout((function(){return O.a.track("apple_player:".concat(e),t)}))}))},register:function(e){Object.assign(r,e)},get_distinct_id:O.a.get_distinct_id.bind(O.a)}}return{track:A.a,register:A.a,get_distinct_id:A.a}}]),o.factory("PlayerTracker",["mixpanel","bugsnag",function(e,t){return function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};q(this,n),this.music_kit_instance=e,this.params=t,this.track_player_event("player_ready")}var r,i,o;return r=n,i=[{key:"first_playback_request",value:function(e){this.track_player_event("playback_initiated",e)}},{key:"player_start",value:function(e){this.track_player_event("playback_started",{playback_timestamp:e})}},{key:"player_pause",value:function(e){this.track_player_event("playback_paused",{playback_timestamp:e})}},{key:"player_finish",value:function(){this.track_player_event("playback_completed")}},{key:"player_scrub",value:function(e,t){this.track_player_event("playback_scrubbed",{from_playback_timestamp:e,to_playback_timestamp:t})}},{key:"player_dismiss",value:function(){this.track_player_event("player_dismissed")}},{key:"player_recall",value:function(){this.track_player_event("player_recalled")}},{key:"upsell_click",value:function(e){this.track_player_event("upsell_started",e)}},{key:"upsell_expanded",value:function(){this.track_player_event("upsell_expanded")}},{key:"auth_click",value:function(){this.track_player_event("musickit_auth_started")}},{key:"auth_success",value:function(){this.track_player_event("musickit_auth_success")}},{key:"auth_failure",value:function(){this.track_player_event("musickit_auth_failure")}},{key:"upsell_audio_ad_start",value:function(e){this.track_player_event("upsell_audio_ad_started",{trigger:e})}},{key:"upsell_audio_ad_complete",value:function(){this.track_player_event("upsell_audio_ad_complete")}},{key:"upsell_audio_ad_dismiss",value:function(){this.track_player_event("upsell_audio_ad_dismissed")}},{key:"add_to_playlist",value:function(){this.track_player_event("added_to_playlist")}},{key:"common_data",get:function(){return Object.assign({},{is_player_visible:!document.hidden,is_user_authenticated_with_apple_music:this.music_kit_instance.isAuthorized,musickit_version:this.music_kit_instance.version,current_storefront:this.music_kit_instance.storefrontId},this.params)}},{key:"player_error",value:function(e){var n=this;e.description||(e.description=e.message),this.track_player_event("error",{error_code:e.errorCode,error_description:e.description}),t.notify(e,{beforeSend:function(t){e.errorCode&&(t.errorClass=e.errorCode),t.updateMetaData("player",n.common_data)}})}},{key:"track_player_event",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r=Object.assign({},this.common_data,r),e.track(n,r),t.leaveBreadcrumb(n,r)}},{key:"distinct_id",get:function(){return e.get_distinct_id()}}],i&&F(r.prototype,i),o&&F(r,o),n}()}]),o.factory("ContainingFrameIsFullbleed",["AppConfig","$window",function(e,t){var n=e.use_mobile_template,r=n&&t.innerHeight>=91,i=!n&&t.innerHeight>=64;return r||i}]);var H=n(1091),z=n.n(H);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.factory("PlaylistManager",["LocalStorage",function(e){var t="Discovered on Genius",n="apple_discovered_on_genius_playlist_id";return function(){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.instance=e}var i,o,a;return i=r,(o=[{key:"add_song",value:function(r){var i=this,o={data:[{id:r,type:"songs"}]},a=e.safe_get_item(n,null);return a?this._add_to_playlist(a,o).catch((function(){return e.safe_remove_item(n),i.add_song(r)})):this.instance.api.library.playlists().then((function(e){var n=find(e,{name:t});return n?i._add_to_playlist(n.id,o):i._create_playlist(o)}))}},{key:"_add_to_playlist",value:function(e,t){return this._api_request("POST","me/library/playlists/".concat(e,"/tracks"),t)}},{key:"_create_playlist",value:function(r){return this._api_request("POST","me/library/playlists",{attributes:{name:t},relationships:{tracks:r}}).then((function(t){return e.safe_set_item(n,t.data[0].id)}))}},{key:"_api_request",value:function(e,t,n){var r={method:e,headers:new Headers({Authorization:"Bearer ".concat(this.instance.developerToken),"Music-User-Token":this.instance.musicUserToken,"Content-Type":"application/json"})};return n&&(r.body=JSON.stringify(n)),fetch("".concat(this.instance.api.url,"/").concat(t),r).then((function(e){if(e.ok)return e.text().then((function(e){return z()(e)?void 0:JSON.parse(e)}));throw new Error("Network response was not ok.")}))}}])&&W(i.prototype,o),a&&W(i,a),r}()}]);var G=n(102),J=n.n(G),K=n(1668),X=n.n(K),Y=n(223),Z=n.n(Y);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.factory("MusicKitPlayer",["PlaylistManager",function(e){return function(){function t(n){var r,i=n.music_kit,o=n.instance,a=n.tracks;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.music_kit=i,this.instance=o,this.tracks=a,this._event_listeners=[],this._playlist_manager=new e(this.instance),this.playback_state_by_music_kit_state=(Q(r={},this.music_kit.PlaybackStates.playing,"playing"),Q(r,this.music_kit.PlaybackStates.stopped,"paused"),Q(r,this.music_kit.PlaybackStates.paused,"paused"),Q(r,this.music_kit.PlaybackStates.completed,"ended"),Q(r,this.music_kit.PlaybackStates.ended,"ended"),Q(r,this.music_kit.PlaybackStates.waiting,"loading"),Q(r,this.music_kit.PlaybackStates.loading,"loading"),Q(r,this.music_kit.PlaybackStates.stalled,"loading"),Q(r,this.music_kit.PlaybackStates.seeking,"loading"),r),this.track=this._track_for_country_code(o.storefrontId)||this._track_for_country_code("US")}var n,r,i;return n=t,(r=[{key:"load",value:function(){var e=this;return S()({minTimeout:100,factor:2.3,retries:5},(function(t){return e.instance.setQueue({song:e.track.apple_id}).catch((function(e){throw e instanceof TypeError&&(console.error(e),e=new TypeError(e.message)),e})).catch(t).then((function(n){if(n.isEmpty){if("US"===e.track.country_code){var r=new Error("Song not found in Apple catalog");throw r.errorCode="QUEUE_ERROR",r}e.track=e._track_for_country_code("US"),t()}}))}))}},{key:"on",value:function(e,t){var n,r=this;switch(e){case"playback_state_change":n=function(e){var n=r.playback_state_by_music_kit_state[e.oldState],i=r.playback_state_by_music_kit_state[e.state];n!==i&&t({old_state:n,state:i})},this._event_listeners.push({event_name:this.music_kit.Events.playbackStateDidChange,handler:n}),this.instance.addEventListener(this.music_kit.Events.playbackStateDidChange,n);break;case"playback_error":n=function(e){var n=e.target.error,r=X()(MediaError,(function(e){return n.code===e})),i=new Error("MediaError ".concat(r," (").concat(n.message,")"));i.errorCode="MEDIA_ERROR",t(i)},this._event_listeners.push({event_name:this.music_kit.Events.mediaPlaybackError,handler:n}),this.instance.addEventListener(this.music_kit.Events.mediaPlaybackError,n);break;case"playback_progress_change":n=function(){return t(1e3*r.instance.currentPlaybackTime)},this._event_listeners.push({event_name:this.music_kit.Events.playbackProgressDidChange,handler:n}),this.instance.addEventListener(this.music_kit.Events.playbackProgressDidChange,n)}}},{key:"play",value:function(){return this.instance.play()}},{key:"pause",value:function(){return this.instance.pause()}},{key:"seek",value:function(e){return this.instance.seekToTime(e/1e3)}},{key:"is_queue_empty",value:function(){return this.instance.queue.isEmpty}},{key:"duration",value:function(){return this.track.duration}},{key:"destroy",value:function(){var e=this;this._event_listeners.forEach((function(t){var n=t.event_name,r=t.handler;return e.instance.removeEventListener(n,r)})),this.instance.stop()}},{key:"add_to_playlist",value:function(){return this._playlist_manager.add_song(this.track.apple_id)}},{key:"_track_for_country_code",value:function(e){if(e){var t=Z()(this.tracks,(function(t){var n=t.country_codes;return J()(n,e.toUpperCase())}));return t?u()(t,{country_code:e.toUpperCase()}):void 0}}}])&&ee(n.prototype,r),i&&ee(n,i),t}()}]);var te=n(1096),ne=n.n(te),re=n(1066),ie=n.n(re);function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.factory("HtmlPlayer",(function(){return function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fade_audio:!1};oe(this,e),this.player=document.createElement("audio"),this.player.src=t,this.player.load(),this._event_listeners=[],this.state="paused",this._fade_audio=r.fade_audio,ne()(this,"_set_volume_by_playback_time"),this._fade_audio&&this._set_volume_by_playback_time(),this.player.addEventListener("playing",(function(){var e=n.state;n.state="playing",n.player.dispatchEvent(new CustomEvent("playback_state_change",{detail:{old_state:e,state:n.state}}))})),this.player.addEventListener("pause",(function(){var e=n.state;n.state="paused",n.player.dispatchEvent(new CustomEvent("playback_state_change",{detail:{old_state:e,state:n.state}}))})),this.player.addEventListener("waiting",(function(){var e=n.state;n.state="loading",n.player.dispatchEvent(new CustomEvent("playback_state_change",{detail:{old_state:e,state:n.state}}))})),this.player.addEventListener("ended",(function(){var e=n.state;n.state="ended",n.player.dispatchEvent(new CustomEvent("playback_state_change",{detail:{old_state:e,state:n.state}}))}))}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t){var n,r=this;switch(e){case"playback_state_change":n=function(e){r._fade_audio&&r._update_volume_interval(),t(e.detail)},this._event_listeners.push({event_name:"playback_state_change",handler:n}),this.player.addEventListener("playback_state_change",n);break;case"playback_progress_change":n=function(){r._fade_audio&&r._update_volume_interval(),t(1e3*r.player.currentTime)},this._event_listeners.push({event_name:"timeupdate",handler:n}),this.player.addEventListener("timeupdate",n)}}},{key:"play",value:function(){return this.player.play()}},{key:"pause",value:function(){return this.player.pause(),Promise.resolve()}},{key:"seek",value:function(e){return this.player.currentTime=e/1e3,this._fade_audio&&this._set_volume_by_playback_time(),Promise.resolve()}},{key:"is_queue_empty",value:function(){return!1}},{key:"duration",value:function(){return 30}},{key:"destroy",value:function(){var e=this;this._event_listeners.forEach((function(t){var n=t.event_name,r=t.handler;return e.player.removeEventListener(n,r)})),this.player.pause(),this.player.removeAttribute("src")}},{key:"_set_volume_by_playback_time",value:function(){this.player.currentTime<=1?this.player.volume=this.player.currentTime:this.player.currentTime>=this.duration()-1?this.player.volume=ie()(this.duration()-this.player.currentTime,0,1):this.player.volume=1}},{key:"_update_volume_interval",value:function(){clearInterval(this._update_interval),"playing"===this.state&&(this.player.currentTime<=1||this.player.currentTime>this.duration()-2)&&(this._update_interval=setInterval(this._set_volume_by_playback_time,16))}}])&&ae(t.prototype,n),r&&ae(t,r),e}()}));var se={ios_app:"0",ios_mobile_web:"1",ios_amp:"2",android_amp:"3",mac_desktop:"4",windows_desktop:"5",other:"6"},ce={LONG_TAIL_CACHE:{control:"lc",use_long_tail_cache:"lu"},apple_mobile_upsell_shelf:{control:"uc",apple_music:"um",apple_one:"uo"}},ue=["apple_mobile_upsell_shelf"];o.factory("CampaignToken",["AppConfig",function(e){return{get:function(t){var n=t.song_id,r=t.apple_music_id,i=t.ab_tests,o=t.upsell_shelf_triggered,a=parseInt((new Date).toISOString().slice(0,10).replace(/-/g,"")).toString(36),s=Number(n).toString(36),c=Number(r||0).toString(36),u=se[e.platform]||se.other,l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=[];return ue.forEach((function(e){var n=t[e];n&&r.push(ce[e][n])})),t.apple_mobile_upsell_shelf&&n&&r.push("ut"),e.long_tail_cache_experiment&&r.push(ce.LONG_TAIL_CACHE[e.long_tail_cache_experiment]),r.join(":")}(i,o);return[a,s,c,u,l,e.country_code].join("_")}}}]);var le=n(1669),pe=n.n(le),fe={},de=n(1795);de.keys().forEach((function(e){return fe[e.substring(2)]=de(e)})),o.component("gSvg",{template:"",bindings:{src:"@",svg_class:"@svgClass"},controller:["$element",function(e){var t=this;this.$onChanges=function(n){n.src&&e.html(fe[t.src]),t.svg_class&&e.children()[0].setAttribute("class",t.svg_class)}}]}),o.component("playButton",{template:pe.a,bindings:{playing:"<",dismissed:"<"},controller:["AppConfig",function(e){var t=this;this.$onInit=function(){t.use_mobile_template=e.use_mobile_template}}]});var he=n(1670),ve=n.n(he),ge=n(1097),me=n.n(ge);o.component("seekbar",{template:ve.a,bindings:{can_scrub:"<canScrub",progress:"<",finish_scrub:"&finishScrub",set_scrubber_progress:"&setScrubberProgress",is_scrubbing:"<isScrubbing",show_spinner:"<showSpinner",on_spinner_click:"&onSpinnerClick",click_to_seek:"<clickToSeek"},controller:["$element",function(e){var t,n,r=this,i=function(e){return e.pageX?e.pageX:"touchend"===e.type?e.changedTouches[0].pageX:e.touches[0].pageX};this.$onInit=function(){var o=e[0].querySelector(".apple_music_player-seekbar-scrubber_container"),a=e[0].querySelector(".apple_music_player-seekbar-scrubber-circle"),s=function(e,t){if(t.preventDefault(),r.can_scrub){var n=o.offsetWidth,s=i(t),c=a.getBoundingClientRect().left-o.getBoundingClientRect().left,u=function(e){return Math.max(0,Math.min(n,i(e)-s+c))/n},l=function(e){e.preventDefault(),r.set_scrubber_progress({progress:u(e)})};document.addEventListener(e.move,l),document.addEventListener(e.end,(function t(n){n.preventDefault(),r.finish_scrub({progress:u(n)}),document.removeEventListener(e.move,l),document.removeEventListener(e.end,t)}))}};(n=e[0].querySelector(".apple_music_player-seekbar-scrubber")).addEventListener("touchstart",me()(s,{end:"touchend",move:"touchmove"})),n.addEventListener("mousedown",me()(s,{end:"mouseup",move:"mousemove"})),t=e[0].querySelector(".apple_music_player-seekbar")},this.seekbar_click=function(e){if(r.can_scrub){var o=(i(e)-t.getBoundingClientRect().left-n.offsetWidth/2)/(t.offsetWidth-n.offsetWidth);r.finish_scrub({progress:Math.min(Math.max(o,0),1)})}}}]});var _e=n(1671),ye=n.n(_e),$e=n(1615),be=n.n($e);o.component("playbackTime",{template:ye.a,bindings:{progress:"<",playback_duration:"<playbackDuration",is_scrubbing:"<isScrubbing",time_remaining:"<timeRemaining"},controller:[function(){var e=this;this.playback_time_for_display=function(){if(!e.playback_duration)return"0:00";var t=(e.time_remaining?1-e.progress:e.progress)*e.playback_duration/1e3,n=e.time_remaining?Math.ceil(t):Math.floor(t),r=Math.floor(n/3600),i=Math.floor((n-3600*r)/60),o=n-3600*r-60*i,a=r>0?"".concat(r,":"):"",s=r>0?be()(i.toString(),2,"0"):i.toString(),c=be()(o.toString(),2,"0");return"".concat(e.time_remaining?"-":"").concat(a).concat(s,":").concat(c)}}]});var we=n(1672),xe=n.n(we);o.component("spinner",{template:xe.a});var ke=n(204),Se=n.n(ke),Ee=n(1673),Oe=n.n(Ee),Ce=n(1057),Ae=n.n(Ce);function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}o.factory("Bindings",[function(){var e=function(e,t){var n=e[0];"?"===e[1]&&(n+="?");var r=e.slice(n.length)||t,i={"@":function(){return this.$attrs[r]},"<":function(){return this.$scope.$eval(this.$attrs[r])},"&":function(){var e=this;return function(t){return e.$scope.$eval(e.$attrs[r],t)}},"&?":function(){var e=this;if(!Ae()(this.$attrs[r]))return function(t){return e.$scope.$eval(e.$attrs[r],t)}}}[n];if(!i)throw new Error("invalid attribute specification passed to Bindings service: '".concat(e,"'"));return i};return{resolver:function(t){var n=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.$scope=e,this.$attrs=t,this.assign_to(this)}var r,i,o;return r=n,(i=[{key:"assign_to",value:function(n){var r=this;Se()(t,(function(t,i){Reflect.defineProperty(n,i,{get:e(t,i).bind(r)})}))}}])&&Te(r.prototype,i),o&&Te(r,o),n}();return function(e,t){return new n(e,t)}}}}]),o.directive("classForBrowser",["Bindings",function(e){var t=e.resolver({browsers_and_classes:"<classForBrowser"});return{restrict:"A",link:function(e,n,r){var i=t(e,r),o=!1;Se()(i.browsers_and_classes,(function(e,t){Oe()(v.a,t)&&(n.addClass(e),o=!0)})),o||n.addClass(i.browsers_and_classes._default)}}}]);var Me=n(1674),je=n.n(Me);o.component("appleMusicPlayer",{template:b.a,bindings:{apple_music_tracks:"<appleMusicTracks",preview_track:"<previewTrack",is_matched:"<isMatched",song_id:"<songId",unmatched_placeholder_track:"<unmatchedPlaceholderTrack"},controller:["$scope","MusicKit","IframeResizer","PlayerTracker","$timeout","AppConfig","$window","ContainingFrameIsFullbleed","MusicKitPlayer","HtmlPlayer","$httpParamSerializer","mixpanel","LocalStorage","CampaignToken","AbTest",function(e,t,n,r,o,a,s,c,u,l,p,f,d,h,g){var m,_,$,b,w,x,k,S=this;this.$onInit=function(){S.display_state=185===s.innerWidth?"dismissed":"player_only",S.play_state="paused",S.use_mobile_template=a.use_mobile_template,S.playback_time=0,S.apple_music_explicit_article_url=a.apple_music_explicit_article_url,S.containing_frame_is_fullbleed=c,S.sticky_top=a.sticky_top,S.ad_playing=!1,S.current_player_has_played=!1,S.variants={},S.upsell_shelf_triggered=!1,S.apple_one_services=[{name:"iCloud",image_src:"/images/apple_one-icloud.png"},{name:"Apple TV",image_src:"/images/apple_one-apple_tv.png"},{name:"Apple Music",image_src:"/images/apple_one-apple_music.png"},{name:"Apple Arcade",image_src:"/images/apple_one-apple_arcade.png"},{name:"Apple Fitness Plus",image_src:"/images/apple_one-apple_fitness_plus.png"},{name:"Apple News",image_src:"/images/apple_one-apple_news.png"}],f.register({containing_frame_is_fullbleed:S.containing_frame_is_fullbleed}),m=S.containing_frame_is_fullbleed?a.use_mobile_template?{player_only:{height:107},expanded:{height:165},upsell_expanded:{height:245},dismissed:{height:0},upsell_shelf:{height:144}}:{player_only:{height:64},expanded:{height:116},upsell_expanded:{height:220},dismissed:{height:64,width:185}}:a.use_mobile_template?{player_only:{height:71},expanded:{height:129},upsell_expanded:{height:209},dismissed:{height:0}}:{player_only:{height:44},expanded:{height:96},upsell_expanded:{height:200},dismissed:{height:44,width:149}},s.addEventListener("hashchange",(function(){"#toggle_play_from_header"===window.location.hash&&e.$applyAsync((function(){S.upsell_opened=!0,S.toggle_playing({playback_origin:"header"})}))}),{once:!0}),s.parent.postMessage("in_apple_music_deal","*"),_=y.a.build({window:s.parent,origin:"*",scope:"com.genius.Genius"})},this.$onChanges=function(n){if(n.apple_music_tracks||n.is_matched){g.get_variant_for("apple_mobile_upsell_shelf").then((function(e){return S.variants={apple_mobile_upsell_shelf:e},i.a.element((function(){s.addEventListener("message",S.open_upsell_shelf),s.parent.postMessage("apple_music_player_ready","https://".concat(a.canonical_domain))})),t.load({song_id:S.song_id,apple_music_id:S.preview_track&&S.preview_track.apple_id,ab_tests:S.variants})})).then((function(t){$=(w=t).getInstance(),x=a.audio_ad_url&&d.safe_get_item("apple_audio_ad_last_played_date",null)!==(new Date).toDateString(),e.$applyAsync((function(){S.loaded=!0,S.authorized=$.isAuthorized,S.player_tracker=new r($,{does_player_have_static_overlay:S.should_use_static_overlay()}),S.is_matched||(S.preview_track=S.unmatched_placeholder_track),O()}))}))}};var E,O=function(){b&&(b.destroy(),C(),S.playback_time=0,S.play_state="paused",V()),S.authorized?(b=new u({music_kit:w,instance:$,tracks:S.apple_music_tracks})).load().catch((function(e){return S.player_tracker.player_error(e)})):(b=new l(S.preview_track.preview_url,{fade_audio:!0}),x&&(k=new l(a.audio_ad_url)).on("playback_state_change",(function(t){var n=t.state;return e.$applyAsync((function(){"ended"===n&&(C(),S.player_tracker.upsell_audio_ad_complete())}))}))),b.on("playback_state_change",(function(t){var n=t.old_state,r=t.state;return e.$applyAsync((function(){I(n,r),V(),_.notify({method:"player_play_pause",params:S.play_state})}))})),b.on("playback_error",A),b.on("playback_progress_change",(function(t){return e.$applyAsync((function(){P=t-S.playback_time,Math.abs(P)>N&&(P=0,S.playback_time=t)}))})),_.bind("header_play_pause",(function(){return e.$applyAsync((function(){return S.toggle_playing({playback_origin:"header"})}))})),_.bind("dismiss",(function(){"playing"===S.play_state&&e.$applyAsync((function(){return S.toggle_playing({playback_origin:"dismiss"})}))})),S.current_player_has_played=!1},C=function(){k&&(S.ad_playing=!1,k.destroy(),k=null)};this.dismiss_ad_player_if_playing=function(){k&&S.ad_playing&&(C(),S.player_tracker.upsell_audio_ad_dismiss())};var A=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic";return e.$applyAsync((function(){console.error(t),S.error_message=n,t.errorCode===w.MKError.AUTHORIZATION_ERROR&&(S.authorized=!1,S.error_message="deauthorized",d.safe_set_item("apple_musickit_authorized","false"),O()),t.errorCode===w.MKError.MEDIA_PLAYBACK&&$.player.queue.isRestricted&&je()($.player.queue.items,"isExplicitItem")&&(S.error_message="restricted"),S.play_state="paused",E=S.display_state,R("expanded"),S.player_tracker.player_error(t)}))};this.authorize=function(){$.authorize().then((function(t){t&&(S.player_tracker.auth_success(),e.$applyAsync((function(){R("expanded"),S.authorized=!0,S.error_message=null,_.notify({method:"player_auth",params:S.authorized}),"ios_amp"!==a.platform&&o((function(){return R("player_only")}),3e3),d.safe_set_item("apple_musickit_authorized","true"),O()})))})).catch((function(e){S.player_tracker.auth_failure(),A(e)}))},this.unauthorize=function(){return $.unauthorize()},this.upsell_url=function(){var e,t=h.get({song_id:S.song_id,apple_music_id:S.preview_track&&S.preview_track.apple_id,ab_tests:S.variants,upsell_shelf_triggered:S.upsell_shelf_triggered}),n={app:a.affiliate_app,at:a.affiliate_token,ct:t,itscg:a.affiliate_itscg,mttnsubad:t,cc:a.country_code};return a.mobile_device?(e="deeplink",n.p=a.affiliate_page,n.itsct=v.a.ios?a.affiliate_itsct_mobile:a.affiliate_itsct_mobile_android):(e="subscribe",n.itsct=a.affiliate_itsct_desktop,n.ls="1"),"https://music.apple.com/".concat(e,"?").concat(p(n))},this.playback_duration_for_display=function(){return 1e3*(S.has_played&&!S.authorized?b.duration():S.preview_track.duration)};var T,M=function(){return"loading"===S.play_state||"attempting_play"===S.play_state};this.should_be_visible_on_unmatched=function(){return S.use_mobile_template&&!S.authorized},this.toggle_playing=function(t){var n=t.playback_origin;if(S.dismiss_ad_player_if_playing(),!M())if(S.error_message&&(S.error_message=null,R(E)),S.should_use_static_overlay())S.click_overlay({playback_origin:n});else if("playing"===S.play_state)S.play_state="paused",b.pause().catch(A);else{if($.isAuthorized||S.has_played||"dismissed"===S.display_state||R("expanded"),S.current_player_has_played||e.$applyAsync((function(){return S.current_player_has_played=!0})),S.has_played||(S.player_tracker.first_playback_request({playback_origin:n}),S.has_played=!0,k&&k.play().then((function(){return k.pause()})).catch(A)),b.is_queue_empty())return void A(new Error("Can't play empty queue"));S.play_state="attempting_play",b.play().catch(A)}};var j,I=function(e,t){switch(t){case"playing":S.play_state="playing",o.cancel(T),S.player_tracker.player_start(S.playback_time);break;case"paused":S.play_state="paused",o.cancel(T),S.player_tracker.player_pause(S.playback_time);break;case"ended":S.playback_time=1e3*b.duration(),S.play_state="paused",o.cancel(T),S.player_tracker.player_finish(),k&&(k.play(),d.safe_set_item("apple_audio_ad_last_played_date",(new Date).toDateString()),S.player_tracker.upsell_audio_ad_start("preview_ended"),S.ad_playing=!0);break;case"loading":"playing"===e&&(S.play_state="attempting_play"),T=o((function(){S.play_state="loading",_.notify({method:"player_play_pause",params:S.play_state})}),250)}},N=500,P=0,D=16,V=function(){clearInterval(j),"playing"===S.play_state&&(j=setInterval((function(){S.is_scrubbing()||e.$applyAsync((function(){var e;e=P/2e3*D,S.playback_time=Math.min(Math.max(S.playback_time+D+e,0),S.playback_duration_for_display()),L()}))}),D))};this.can_scrub=function(){return S.current_player_has_played&&!M()},this.set_scrubber_progress=function(t){return e.$applyAsync((function(){return S.scrubber_progress=t}))},this.is_scrubbing=function(){return!Ae()(S.scrubber_progress)},this.finish_scrub=function(t){S.dismiss_ad_player_if_playing();var n=t*S.playback_duration_for_display();S.player_tracker.player_scrub(S.playback_time,n),e.$applyAsync((function(){return S.seeking=!0})),b.seek(n).then((function(){return e.$applyAsync((function(){S.seeking=!1,Reflect.deleteProperty(S,"scrubber_progress"),S.playback_time=n,P=0}))})).catch(A)};var R=function(t){if(t!==S.display_state){window.addEventListener("resize",(function n(){e.$applyAsync((function(){return S.display_state=t})),window.removeEventListener("resize",n)})),n.resize(m[t])}},B=!1,L=function(){var e=1e3*b.duration()-S.playback_time;!B&&1e4>e&&!S.authorized&&!S.upsell_clicked&&"dismissed"!==S.display_state&&(B=!0,S.player_tracker.upsell_expanded(),R("upsell_expanded"))};this.is_expanded_at_all=function(){return J()(["expanded","upsell_expanded"],S.display_state)},this.toggle_dismiss=function(){S.dismiss_ad_player_if_playing(),"dismissed"===S.display_state?(R(S.authorized||!S.has_played?"player_only":"expanded"),S.player_tracker.player_recall()):(R("dismissed"),S.player_tracker.player_dismiss())},this.add_to_playlist=function(){if(S.authorized){S.added_to_playlist=!0,S.show_added_to_playlist_message=!0;var t=o((function(){return S.show_added_to_playlist_message=!1}),2e3);b.add_to_playlist().then((function(){return S.player_tracker.add_to_playlist()})).catch((function(n){return e.$applyAsync((function(){S.added_to_playlist=!1,S.show_added_to_playlist_message=!1,o.cancel(t),A(n,"playlist")}))}))}},this.upsell_click=function(){S.player_tracker.upsell_click({playback_origin:"player",upsell_expanded:"upsell_expanded"===S.display_state,url:S.upsell_url(),upsell_shelf_triggered:S.upsell_shelf_triggered}),S.upsell_clicked=!0,C()},this.should_use_static_overlay=function(){return!S.authorized&&S.use_mobile_template},this.click_overlay=function(e){var t=e.playback_origin;S.player_tracker.upsell_click({playback_origin:t,upsell_expanded:!1,url:S.upsell_url(),upsell_shelf_triggered:S.upsell_shelf_triggered}),S.upsell_clicked=!0,S.upsell_opened||(window.open(S.upsell_url()),S.upsell_opened=!0),S.is_matched&&R("expanded")},this.should_use_upsell_shelf_music=function(){return S.should_use_static_overlay()&&"apple_music"===S.variants.apple_mobile_upsell_shelf},this.should_use_upsell_shelf_one=function(){return S.should_use_static_overlay()&&"apple_one"===S.variants.apple_mobile_upsell_shelf},this.in_upsell_shelf_test=function(){return S.should_use_static_overlay()&&["control","apple_music","apple_one"].includes(S.variants.apple_mobile_upsell_shelf)},this.has_upsell_shelf_component=function(){return S.should_use_static_overlay()&&["apple_music","apple_one"].includes(S.variants.apple_mobile_upsell_shelf)},this.open_upsell_shelf=function(e){e.origin==="https://".concat(a.canonical_domain)&&e.source===s.parent&&"open-upsell-shelf"===e.data&&(S.upsell_shelf_triggered=S.in_upsell_shelf_test(),S.has_upsell_shelf_component()&&R("upsell_shelf"),s.removeEventListener("message",S.open_upsell_shelf))}}]});var Ie=n(1675),Ne=n.n(Ie);o.component("appBanner",{template:Ne.a,bindings:{tracking_data:"<trackingData"},controller:["ContainingFrameIsFullbleed","mixpanel",function(e,t){var n=this;this.$onInit=function(){v.a.ios?n.operating_system="ios":v.a.android&&(n.operating_system="android"),t.track("not_shown",n.tracking_data),n.containing_frame_is_fullbleed=e},this.track_click=function(){return t.track("app_banner_clicked",n.tracking_data)}}]})},185:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},186:function(e,t,n){var r=n(187),i=n(108),o=n(16);e.exports=function(e){return r(e,o,i)}},187:function(e,t,n){var r=n(94),i=n(2);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},188:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},189:function(e,t){e.exports=function(){return[]}},190:function(e,t,n){var r=n(191);e.exports=function(e){return null==e?"":r(e)}},191:function(e,t,n){var r=n(15),i=n(40),o=n(2),a=n(34),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},192:function(e,t,n){var r=n(243),i=n(208);e.exports=function(e,t){return null!=e&&i(e,t,r)}},193:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},194:function(e,t,n){var r=n(94),i=n(246);e.exports=function e(t,n,o,a,s){var c=-1,u=t.length;for(o||(o=i),s||(s=[]);++c<u;){var l=t[c];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},195:function(e,t,n){var r=n(196),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},196:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},197:function(e,t,n){var r=n(10),i=n(8);e.exports=function(e){return i(e)&&r(e)}},198:function(e,t,n){var r=n(112);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},199:function(e,t,n){var r=n(24);e.exports=function(e){return"function"==typeof e?e:r}},2:function(e,t){var n=Array.isArray;e.exports=n},200:function(e,t,n){var r=function(){"use strict";var e=Math.floor(1000001*Math.random()),t={};function n(e){return Array.isArray?Array.isArray(e):-1!=e.constructor.toString().indexOf("Array")}var r={},i=function(e){try{var n=JSON.parse(e.data);if("object"!=typeof n||null===n)throw"malformed"}catch(e){return}var i,o,a,s=e.source,c=e.origin;if("string"==typeof n.method){var u=n.method.split("::");2==u.length?(i=u[0],a=u[1]):a=n.method}if(void 0!==n.id&&(o=n.id),"string"==typeof a){var l=!1;if(t[c]&&t[c][i])for(var p=0;p<t[c][i].length;p++)if(t[c][i][p].win===s){t[c][i][p].handler(c,a,n),l=!0;break}if(!l&&t["*"]&&t["*"][i])for(p=0;p<t["*"][i].length;p++)if(t["*"][i][p].win===s){t["*"][i][p].handler(c,a,n);break}}else void 0!==o&&r[o]&&r[o](c,a,n)};return window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent&&window.attachEvent("onmessage",i),{build:function(i){var o=function(e){if(i.debugOutput&&window.console&&window.console.log){try{"string"!=typeof e&&(e=JSON.stringify(e))}catch(e){}console.log("["+c+"] "+e)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if("object"!=typeof i)throw"Channel build invoked without a proper object argument";if(!i.window||!i.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===i.window)throw"target window is same as present window -- not allowed";var a,s=!1;"string"==typeof i.origin&&("*"===i.origin?s=!0:null!==(a=i.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(i.origin=a[0].toLowerCase(),s=!0));if(!s)throw"Channel.build() called with an invalid origin";if(void 0!==i.scope){if("string"!=typeof i.scope)throw"scope, when specified, must be a string";if(i.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var c=function(){for(var e="",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}(),u={},l={},p={},f=!1,d=[],h=function(e,t,a){if("function"==typeof i.gotMessageObserver)try{i.gotMessageObserver(e,a)}catch(e){o("gotMessageObserver() raised an exception: "+e.toString())}if(a.id&&t){if(u[t]){var s=function(e,t,n){var r=!1,i=!1;return{origin:t,invoke:function(t,r){if(!p[e])throw"attempting to invoke a callback of a nonexistent transaction: "+e;for(var i=!1,o=0;o<n.length;o++)if(t===n[o]){i=!0;break}if(!i)throw"request supports no such callback '"+t+"'";g({id:e,callback:t,params:r})},error:function(t,n){if(i=!0,!p[e])throw"error called for nonexistent message: "+e;delete p[e],g({id:e,error:t,message:n})},complete:function(t){if(i=!0,!p[e])throw"complete called for nonexistent message: "+e;delete p[e],g({id:e,result:t})},delayReturn:function(e){return"boolean"==typeof e&&(r=!0===e),r},completed:function(){return i}}}(a.id,e,a.callbacks?a.callbacks:[]);p[a.id]={};try{if(a.callbacks&&n(a.callbacks)&&a.callbacks.length>0)for(var c=0;c<a.callbacks.length;c++){for(var f=a.callbacks[c],d=a.params,h=f.split("/"),v=0;v<h.length-1;v++){var m=h[v];"object"!=typeof d[m]&&(d[m]={}),d=d[m]}d[h[h.length-1]]=function(){var e=f;return function(t){return s.invoke(e,t)}}()}var _=u[t](s,a.params);s.delayReturn()||s.completed()||s.complete(_)}catch(e){var y="runtime_error",$=null;if("string"==typeof e?$=e:"object"==typeof e&&(e&&n(e)&&2==e.length?(y=e[0],$=e[1]):"string"==typeof e.error&&(y=e.error,e.message?"string"==typeof e.message?$=e.message:e=e.message:$="")),null===$)try{void 0===($=JSON.stringify(e))&&($=e.toString())}catch(t){$=e.toString()}s.error(y,$)}}}else a.id&&a.callback?l[a.id]&&l[a.id].callbacks&&l[a.id].callbacks[a.callback]?l[a.id].callbacks[a.callback](a.params):o("ignoring invalid callback, id:"+a.id+" ("+a.callback+")"):a.id?l[a.id]?(a.error?(0,l[a.id].error)(a.error,a.message):void 0!==a.result?(0,l[a.id].success)(a.result):(0,l[a.id].success)(),delete l[a.id],delete r[a.id]):o("ignoring invalid response: "+a.id):t&&u[t]&&u[t]({origin:e},a.params)};!function(e,n,r,i){function o(t){for(var n=0;n<t.length;n++)if(t[n].win===e)return!0;return!1}var a=!1;if("*"===n){for(var s in t)if(t.hasOwnProperty(s)&&"*"!==s&&"object"==typeof t[s][r]&&(a=o(t[s][r])))break}else t["*"]&&t["*"][r]&&(a=o(t["*"][r])),!a&&t[n]&&t[n][r]&&(a=o(t[n][r]));if(a)throw"A channel is already bound to the same window which overlaps with origin '"+n+"' and has scope '"+r+"'";"object"!=typeof t[n]&&(t[n]={}),"object"!=typeof t[n][r]&&(t[n][r]=[]),t[n][r].push({win:e,handler:i})}(i.window,i.origin,"string"==typeof i.scope?i.scope:"",h);var v=function(e){return"string"==typeof i.scope&&i.scope.length&&(e=[i.scope,e].join("::")),e},g=function(e,t){if(!e)throw"postMessage called with null message";if(o((f?"post  ":"queue ")+" message: "+JSON.stringify(e)),t||f){if("function"==typeof i.postMessageObserver)try{i.postMessageObserver(i.origin,e)}catch(e){o("postMessageObserver() raised an exception: "+e.toString())}i.window.postMessage(JSON.stringify(e),i.origin)}else d.push(e)},m={unbind:function(e){if(u[e]){if(!delete u[e])throw"can't delete method: "+e;return!0}return!1},bind:function(e,t){if(!e||"string"!=typeof e)throw"'method' argument to bind must be string";if(!t||"function"!=typeof t)throw"callback missing from bind params";if(u[e])throw"method '"+e+"' is already bound!";return u[e]=t,this},call:function(t){if(!t)throw"missing arguments to call function";if(!t.method||"string"!=typeof t.method)throw"'method' argument to call must be string";if(!t.success||"function"!=typeof t.success)throw"'success' callback missing from call";var n={},i=[],o=[],a=function(e,t){if(o.indexOf(t)>=0)throw"params cannot be a recursive data structure";if(o.push(t),"object"==typeof t)for(var r in t)if(t.hasOwnProperty(r)){var s=e+(e.length?"/":"")+r;"function"==typeof t[r]?(n[s]=t[r],i.push(s),delete t[r]):"object"==typeof t[r]&&null!==t[r]&&a(s,t[r])}};a("",t.params);var s,c,u,p={id:e,method:v(t.method),params:t.params};i.length&&(p.callbacks=i),t.timeout&&(s=e,c=t.timeout,u=v(t.method),window.setTimeout((function(){if(l[s]){var e="timeout ("+c+"ms) exceeded on method '"+u+"'";(0,l[s].error)("timeout_error",e),delete l[s],delete r[s]}}),c)),l[e]={callbacks:n,error:t.error,success:t.success},r[e]=h,e++,g(p)},notify:function(e){if(!e)throw"missing arguments to notify function";if(!e.method||"string"!=typeof e.method)throw"'method' argument to notify must be string";g({method:v(e.method),params:e.params})},destroy:function(){!function(e,n,r){for(var i=t[n][r],o=0;o<i.length;o++)i[o].win===e&&i.splice(o,1);0===t[n][r].length&&delete t[n][r]}(i.window,i.origin,"string"==typeof i.scope?i.scope:""),window.removeEventListener?window.removeEventListener("message",h,!1):window.detachEvent&&window.detachEvent("onmessage",h),f=!1,u={},p={},l={},i.origin=null,d=[],o("channel destroyed"),c=""}};return m.bind("__ready",(function(e,t){if(o("ready msg received"),f)throw"received ready message while in ready state.  help!";for(c+="ping"===t?"-R":"-L",m.unbind("__ready"),f=!0,o("ready msg accepted."),"ping"===t&&m.notify({method:"__ready",params:"pong"});d.length;)g(d.pop());"function"==typeof i.onReady&&i.onReady(m)})),setTimeout((function(){g({method:v("__ready"),params:"ping"},!0)}),0),m}}}();e.exports=r},201:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},203:function(e,t,n){var r=n(96),i=n(104),o=n(199),a=n(2);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},204:function(e,t,n){e.exports=n(203)},206:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},207:function(e,t,n){var r=n(12)(n(3),"Set");e.exports=r},208:function(e,t,n){var r=n(44),i=n(32),o=n(2),a=n(27),s=n(53),c=n(26);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,p=!1;++u<l;){var f=c(t[u]);if(!(p=null!=e&&n(e,f)))break;e=e[f]}return p||++u!=l?p:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(o(e)||i(e))}},209:function(e,t,n){var r=n(11),i=n(2),o=n(8);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},210:function(e,t,n){var r=n(55),i=n(114),o=n(83),a=n(250),s=n(5),c=n(38),u=n(115);e.exports=function e(t,n,l,p,f){t!==n&&o(n,(function(o,c){if(f||(f=new r),s(o))a(t,n,c,l,e,p,f);else{var d=p?p(u(t,c),o,c+"",t,n,f):void 0;void 0===d&&(d=o),i(t,c,d)}}),c)}},211:function(e,t,n){var r=n(1071),i=n(98),o=n(66);e.exports=function(e){return o(i(e,void 0,r),e+"")}},212:function(e,t,n){var r=n(24),i=n(213),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},213:function(e,t,n){var r=n(109),i=r&&new r;e.exports=i},214:function(e,t,n){var r=n(215),i=n(216),o=n(1075),a=n(85),s=n(217),c=n(101),u=n(1084),l=n(70),p=n(3);e.exports=function e(t,n,f,d,h,v,g,m,_,y){var $=128&n,b=1&n,w=2&n,x=24&n,k=512&n,S=w?void 0:a(t);return function E(){for(var O=arguments.length,C=Array(O),A=O;A--;)C[A]=arguments[A];if(x)var T=c(E),M=o(C,T);if(d&&(C=r(C,d,h,x)),v&&(C=i(C,v,g,x)),O-=M,x&&O<y){var j=l(C,T);return s(t,n,e,E.placeholder,f,C,j,m,_,y-O)}var I=b?f:this,N=w?I[t]:t;return O=C.length,m?C=u(C,m):k&&O>1&&C.reverse(),$&&_<O&&(C.length=_),this&&this!==p&&this instanceof E&&(N=S||a(N)),N.apply(I,C)}}},215:function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,c=-1,u=t.length,l=n(a-s,0),p=Array(u+l),f=!i;++c<u;)p[c]=t[c];for(;++o<s;)(f||o<a)&&(p[r[o]]=e[o]);for(;l--;)p[c++]=e[o++];return p}},216:function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,c=r.length,u=-1,l=t.length,p=n(a-c,0),f=Array(p+l),d=!i;++o<p;)f[o]=e[o];for(var h=o;++u<l;)f[h+u]=t[u];for(;++s<c;)(d||o<a)&&(f[h+r[s]]=e[o++]);return f}},217:function(e,t,n){var r=n(1076),i=n(220),o=n(221);e.exports=function(e,t,n,a,s,c,u,l,p,f){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var h=[e,t,s,d?c:void 0,d?u:void 0,d?void 0:c,d?void 0:u,l,p,f],v=n.apply(void 0,h);return r(e)&&i(v,h),v.placeholder=a,o(v,e,t)}},218:function(e,t,n){var r=n(213),i=n(63),o=r?function(e){return r.get(e)}:i;e.exports=o},219:function(e,t,n){var r=n(58),i=n(118);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},220:function(e,t,n){var r=n(212),i=n(99)(r);e.exports=i},221:function(e,t,n){var r=n(1081),i=n(1082),o=n(66),a=n(1083);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},223:function(e,t,n){var r=n(252)(n(1072));e.exports=r},225:function(e,t,n){var r=n(68),i=n(41),o=n(116),a=n(10),s=n(36),c=n(16),u=Object.prototype.hasOwnProperty,l=o((function(e,t){if(s(t)||a(t))i(t,c(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=l},227:function(e,t,n){var r=n(92)(Object.keys,Object);e.exports=r},228:function(e,t,n){var r=n(10);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},229:function(e,t,n){var r=n(230),i=n(238),o=n(111);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},230:function(e,t,n){var r=n(55),i=n(105);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],p=e[l],f=u[1];if(c&&u[2]){if(void 0===p&&!(l in e))return!1}else{var d=new r;if(o)var h=o(p,f,l,e,t,d);if(!(void 0===h?i(f,p,3,o,d):h))return!1}}return!0}},231:function(e,t,n){var r=n(55),i=n(106),o=n(234),a=n(235),s=n(60),c=n(2),u=n(39),l=n(43),p="[object Arguments]",f="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,m){var _=c(e),y=c(t),$=_?f:s(e),b=y?f:s(t),w=($=$==p?d:$)==d,x=(b=b==p?d:b)==d,k=$==b;if(k&&u(e)){if(!u(t))return!1;_=!0,w=!1}if(k&&!w)return m||(m=new r),_||l(e)?i(e,t,n,v,g,m):o(e,t,$,n,v,g,m);if(!(1&n)){var S=w&&h.call(e,"__wrapped__"),E=x&&h.call(t,"__wrapped__");if(S||E){var O=S?e.value():e,C=E?t.value():t;return m||(m=new r),g(O,C,n,v,m)}}return!!k&&(m||(m=new r),a(e,t,n,v,g,m))}},232:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},233:function(e,t){e.exports=function(e){return this.__data__.has(e)}},234:function(e,t,n){var r=n(15),i=n(93),o=n(17),a=n(106),s=n(185),c=n(107),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,p,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var h=1&r;if(d||(d=c),e.size!=t.size&&!h)return!1;var v=f.get(e);if(v)return v==t;r|=2,f.set(e,t);var g=a(d(e),d(t),r,u,p,f);return f.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},235:function(e,t,n){var r=n(186),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var p=l;p--;){var f=u[p];if(!(c?f in t:i.call(t,f)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=c;++p<l;){var m=e[f=u[p]],_=t[f];if(o)var y=c?o(_,m,f,t,e,s):o(m,_,f,e,t,s);if(!(void 0===y?m===_||a(m,_,n,o,s):y)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var $=e.constructor,b=t.constructor;$==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof $&&$ instanceof $&&"function"==typeof b&&b instanceof b||(v=!1)}return s.delete(e),s.delete(t),v}},236:function(e,t,n){var r=n(12)(n(3),"DataView");e.exports=r},237:function(e,t,n){var r=n(12)(n(3),"Promise");e.exports=r},238:function(e,t,n){var r=n(110),i=n(16);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},239:function(e,t,n){var r=n(105),i=n(13),o=n(192),a=n(67),s=n(110),c=n(111),u=n(26);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},24:function(e,t){e.exports=function(e){return e}},240:function(e,t,n){var r=n(241),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},241:function(e,t,n){var r=n(242);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},242:function(e,t,n){var r=n(59);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},243:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},244:function(e,t,n){var r=n(193),i=n(245),o=n(67),a=n(26);e.exports=function(e){return o(e)?r(a(e)):i(e)}},245:function(e,t,n){var r=n(61);e.exports=function(e){return function(t){return r(t,e)}}},246:function(e,t,n){var r=n(15),i=n(32),o=n(2),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},247:function(e,t){e.exports=function(e){return e!=e}},248:function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},249:function(e,t,n){var r=n(40);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},250:function(e,t,n){var r=n(114),i=n(138),o=n(139),a=n(45),s=n(140),c=n(32),u=n(2),l=n(197),p=n(39),f=n(52),d=n(5),h=n(141),v=n(43),g=n(115),m=n(251);e.exports=function(e,t,n,_,y,$,b){var w=g(e,n),x=g(t,n),k=b.get(x);if(k)r(e,n,k);else{var S=$?$(w,x,n+"",e,t,b):void 0,E=void 0===S;if(E){var O=u(x),C=!O&&p(x),A=!O&&!C&&v(x);S=x,O||C||A?u(w)?S=w:l(w)?S=a(w):C?(E=!1,S=i(x,!0)):A?(E=!1,S=o(x,!0)):S=[]:h(x)||c(x)?(S=w,c(w)?S=m(w):d(w)&&!f(w)||(S=s(x))):E=!1}E&&(b.set(x,S),y(S,x,_,$,b),b.delete(x)),r(e,n,S)}}},251:function(e,t,n){var r=n(41),i=n(38);e.exports=function(e){return r(e,i(e))}},252:function(e,t,n){var r=n(33),i=n(10),o=n(16);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var c=r(n,3);t=o(t),n=function(e){return c(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[c?t[u]:u]:void 0}}},26:function(e,t,n){var r=n(34);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},27:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},28:function(e,t,n){var r=n(163),i=n(164),o=n(165),a=n(166),s=n(167);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},29:function(e,t,n){var r=n(17);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},3:function(e,t,n){var r=n(81),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},30:function(e,t,n){var r=n(12)(Object,"create");e.exports=r},31:function(e,t,n){var r=n(181);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},32:function(e,t,n){var r=n(155),i=n(8),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},33:function(e,t,n){var r=n(229),i=n(239),o=n(24),a=n(2),s=n(244);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},34:function(e,t,n){var r=n(11),i=n(8);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},36:function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},37:function(e,t,n){var r=n(80);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},38:function(e,t,n){var r=n(91),i=n(158),o=n(10);e.exports=function(e){return o(e)?r(e,!0):i(e)}},39:function(e,t,n){(function(e){var r=n(3),i=n(156),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(this,n(18)(e))},4:function(e,t,n){"use strict";(function(t){e.exports=function(){if("object"==typeof globalThis)return globalThis;var e;try{e=this||new Function("return this")()}catch(e){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==t)return t}return e}()}).call(this,n(9))},40:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},41:function(e,t,n){var r=n(68),i=n(37);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?i(n,u,l):r(n,u,l)}return n}},42:function(e,t,n){var r,i,o;o=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}var r,i,o,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),c=/CrOS/.test(t),u=n(/edge\/(\d+(\.\d+)?)/i),l=n(/version\/(\d+(\.\d+)?)/i),p=/tablet/i.test(t),f=!p&&/[^-]mobi/i.test(t);/opera|opr/i.test(t)?r={name:"Opera",opera:e,version:l||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?r={name:"Yandex Browser",yandexbrowser:e,version:l||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(t)?(r={name:"Windows Phone",windowsphone:e},u?(r.msedge=e,r.version=u):(r.msie=e,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?r={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?r={name:"Microsoft Edge",msedge:e,version:u}:/chrome|crios|crmo/i.test(t)?r={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?(r={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},l&&(r.version=l)):/sailfish/i.test(t)?r={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?r={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(t)?(r={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(r.firefoxos=e)):/silk/i.test(t)?r={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:l}:/phantom/i.test(t)?r={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?r={name:"BlackBerry",blackberry:e,version:l||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(t)?(r={name:"WebOS",webos:e,version:l||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(r.touchpad=e)):r=/bada/i.test(t)?{name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(t)?{name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||l}:/safari/i.test(t)?{name:"Safari",safari:e,version:l}:{name:n(/^(.*)\/(.*) /),version:(i=/^(.*)\/(.*) /,o=t.match(i),o&&o.length>1&&o[2]||"")},!r.msedge&&/(apple)?webkit/i.test(t)?(r.name=r.name||"Webkit",r.webkit=e,!r.version&&l&&(r.version=l)):!r.opera&&/gecko\//i.test(t)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.msedge||!s&&!r.silk?a&&(r[a]=e,r.ios=e):r.android=e;var d="";r.windowsphone?d=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):a?d=(d=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?d=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?d=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?d=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?d=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(d=n(/tizen[\/\s](\d+(\.\d+)*)/i)),d&&(r.osversion=d);var h=d.split(".")[0];return p||"ipad"==a||s&&(3==h||4==h&&!f)||r.silk?r.tablet=e:(f||"iphone"==a||"ipod"==a||s||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.chrome&&r.version>=20||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6?r.c=e:r.x=e,r}var n=t("undefined"!=typeof navigator?navigator.userAgent:"");return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in n)return!0}return!1},n._detect=t,n},e.exports?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},43:function(e,t,n){var r=n(157),i=n(54),o=n(82),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},44:function(e,t,n){var r=n(2),i=n(67),o=n(240),a=n(190);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},45:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},49:function(e,t,n){n(69),e.exports=angular},5:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},51:function(e,t,n){var r=n(24),i=n(98),o=n(66);e.exports=function(e,t){return o(i(e,t,r),e+"")}},52:function(e,t,n){var r=n(11),i=n(5);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},53:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},54:function(e,t){e.exports=function(e){return function(t){return e(t)}}},55:function(e,t,n){var r=n(28),i=n(168),o=n(169),a=n(170),s=n(171),c=n(172);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},56:function(e,t,n){var r=n(12)(n(3),"Map");e.exports=r},57:function(e,t,n){var r=n(113);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},58:function(e,t,n){var r=n(5),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},59:function(e,t,n){var r=n(173),i=n(180),o=n(182),a=n(183),s=n(184);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},60:function(e,t,n){var r=n(236),i=n(56),o=n(237),a=n(207),s=n(109),c=n(11),u=n(89),l="[object Map]",p="[object Promise]",f="[object Set]",d="[object WeakMap]",h="[object DataView]",v=u(r),g=u(i),m=u(o),_=u(a),y=u(s),$=c;(r&&$(new r(new ArrayBuffer(1)))!=h||i&&$(new i)!=l||o&&$(o.resolve())!=p||a&&$(new a)!=f||s&&$(new s)!=d)&&($=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case v:return h;case g:return l;case m:return p;case _:return f;case y:return d}return t}),e.exports=$},61:function(e,t,n){var r=n(44),i=n(26);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},62:function(e,t,n){var r=n(92)(Object.getPrototypeOf,Object);e.exports=r},63:function(e,t){e.exports=function(){}},64:function(e,t,n){"use strict";var r,i={DEBUG:!1,LIB_VERSION:"2.15.0"};r="undefined"==typeof window?{navigator:{userAgent:""},document:{location:{}}}:window;var o,a,s,c,u,l,p,f,d,h,v,g=Array.prototype,m=Function.prototype,_=Object.prototype,y=g.slice,$=_.toString,b=_.hasOwnProperty,w=r.console,x=r.navigator,k=r.document,S=x.userAgent,E=m.bind,O=g.forEach,C=g.indexOf,A=Array.isArray,T={},M={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},j=function(){if(i.DEBUG&&!M.isUndefined(w)&&w)try{w.log.apply(w,arguments)}catch(e){M.each(arguments,(function(e){w.log(e)}))}},I=function(){if(i.DEBUG&&!M.isUndefined(w)&&w){var e=["Mixpanel error:"].concat(M.toArray(arguments));try{w.error.apply(w,e)}catch(t){M.each(e,(function(e){w.error(e)}))}}},N=function(){if(!M.isUndefined(w)&&w){var e=["Mixpanel error:"].concat(M.toArray(arguments));try{w.error.apply(w,e)}catch(t){M.each(e,(function(e){w.error(e)}))}}};M.bind=function(e,t){var n,r;if(E&&e.bind===E)return E.apply(e,y.call(arguments,1));if(!M.isFunction(e))throw new TypeError;return n=y.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(y.call(arguments)));var i={};i.prototype=e.prototype;var o=new i;i.prototype=null;var a=e.apply(o,n.concat(y.call(arguments)));return Object(a)===a?a:o},r},M.bind_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=M.bind(e[t],e))},M.each=function(e,t,n){if(null!=e)if(O&&e.forEach===O)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e)===T)return}else for(var o in e)if(b.call(e,o)&&t.call(n,e[o],o,e)===T)return},M.escapeHTML=function(e){var t=e;return t&&M.isString(t)&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t},M.extend=function(e){return M.each(y.call(arguments,1),(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e},M.isArray=A||function(e){return"[object Array]"===$.call(e)},M.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},M.isArguments=function(e){return!(!e||!b.call(e,"callee"))},M.toArray=function(e){return e?e.toArray?e.toArray():M.isArray(e)||M.isArguments(e)?y.call(e):M.values(e):[]},M.keys=function(e){var t=[];return null===e||M.each(e,(function(e,n){t[t.length]=n})),t},M.values=function(e){var t=[];return null===e||M.each(e,(function(e){t[t.length]=e})),t},M.identity=function(e){return e},M.include=function(e,t){var n=!1;return null===e?n:C&&e.indexOf===C?-1!=e.indexOf(t):(M.each(e,(function(e){if(n||(n=e===t))return T})),n)},M.includes=function(e,t){return-1!==e.indexOf(t)},M.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},M.isObject=function(e){return e===Object(e)&&!M.isArray(e)},M.isEmptyObject=function(e){if(M.isObject(e)){for(var t in e)if(b.call(e,t))return!1;return!0}return!1},M.isUndefined=function(e){return void 0===e},M.isString=function(e){return"[object String]"==$.call(e)},M.isDate=function(e){return"[object Date]"==$.call(e)},M.isNumber=function(e){return"[object Number]"==$.call(e)},M.isElement=function(e){return!(!e||1!==e.nodeType)},M.encodeDates=function(e){return M.each(e,(function(t,n){M.isDate(t)?e[n]=M.formatDate(t):M.isObject(t)&&(e[n]=M.encodeDates(t))})),e},M.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},M.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},M.safewrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){N("Implementation error. Please turn on debug and contact support@mixpanel.com."),i.DEBUG&&N(e)}}},M.safewrap_class=function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=M.safewrap(e.prototype[t[n]])},M.safewrap_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=M.safewrap(e[t]))},M.strip_empty_properties=function(e){var t={};return M.each(e,(function(e,n){M.isString(e)&&e.length>0&&(t[n]=e)})),t},M.truncate=function(e,t){var n;return"string"==typeof e?n=e.slice(0,t):M.isArray(e)?(n=[],M.each(e,(function(e){n.push(M.truncate(e,t))}))):M.isObject(e)?(n={},M.each(e,(function(e,r){n[r]=M.truncate(e,t)}))):n=e,n},M.JSONEncode=function(e){var t=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,(function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'},n=function(e,r){var i="",o=0,a="",s="",c=0,u=i,l=[],p=r[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),typeof p){case"string":return t(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(i+="    ",l=[],"[object Array]"===$.apply(p)){for(c=p.length,o=0;o<c;o+=1)l[o]=n(o,p)||"null";return s=0===l.length?"[]":i?"[\n"+i+l.join(",\n"+i)+"\n"+u+"]":"["+l.join(",")+"]",i=u,s}for(a in p)b.call(p,a)&&(s=n(a,p))&&l.push(t(a)+(i?": ":":")+s);return s=0===l.length?"{}":i?"{"+l.join(",")+u+"}":"{"+l.join(",")+"}",i=u,s}};return n("",{"":e})},M.JSONDecode=(u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(e){throw{name:"SyntaxError",message:e,at:o,text:s}},p=function(e){return e&&e!==a&&l("Expected '"+e+"' instead of '"+a+"'"),a=s.charAt(o),o+=1,a},f=function(){var e,t="";for("-"===a&&(t="-",p("-"));a>="0"&&a<="9";)t+=a,p();if("."===a)for(t+=".";p()&&a>="0"&&a<="9";)t+=a;if("e"===a||"E"===a)for(t+=a,p(),"-"!==a&&"+"!==a||(t+=a,p());a>="0"&&a<="9";)t+=a,p();if(e=+t,isFinite(e))return e;l("Bad number")},d=function(){var e,t,n,r="";if('"'===a)for(;p();){if('"'===a)return p(),r;if("\\"===a)if(p(),"u"===a){for(n=0,t=0;t<4&&(e=parseInt(p(),16),isFinite(e));t+=1)n=16*n+e;r+=String.fromCharCode(n)}else{if("string"!=typeof u[a])break;r+=u[a]}else r+=a}l("Bad string")},h=function(){for(;a&&a<=" ";)p()},c=function(){switch(h(),a){case"{":return function(){var e,t={};if("{"===a){if(p("{"),h(),"}"===a)return p("}"),t;for(;a;){if(e=d(),h(),p(":"),Object.hasOwnProperty.call(t,e)&&l('Duplicate key "'+e+'"'),t[e]=c(),h(),"}"===a)return p("}"),t;p(","),h()}}l("Bad object")}();case"[":return function(){var e=[];if("["===a){if(p("["),h(),"]"===a)return p("]"),e;for(;a;){if(e.push(c()),h(),"]"===a)return p("]"),e;p(","),h()}}l("Bad array")}();case'"':return d();case"-":return f();default:return a>="0"&&a<="9"?f():function(){switch(a){case"t":return p("t"),p("r"),p("u"),p("e"),!0;case"f":return p("f"),p("a"),p("l"),p("s"),p("e"),!1;case"n":return p("n"),p("u"),p("l"),p("l"),null}l('Unexpected "'+a+'"')}()}},function(e){var t;return s=e,o=0,a=" ",t=c(),h(),a&&l("Syntax error"),t}),M.base64Encode=function(e){var t,n,r,i,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,c=0,u="",l=[];if(!e)return e;e=M.utf8Encode(e);do{t=(o=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,l[c++]=a.charAt(t)+a.charAt(n)+a.charAt(r)+a.charAt(i)}while(s<e.length);switch(u=l.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},M.utf8Encode=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var a=e.charCodeAt(i),s=null;a<128?n++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==s&&(n>t&&(o+=e.substring(t,n)),o+=s,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},M.UUID=(v=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},function(){var e=(screen.height*screen.width).toString(16);return v()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var e,t,n=S,r=[],i=0;function o(e,t){var n,i=0;for(n=0;n<t.length;n++)i|=r[n]<<8*n;return e^i}for(e=0;e<n.length;e++)t=n.charCodeAt(e),r.unshift(255&t),r.length>=4&&(i=o(i,r),r=[]);return r.length>0&&(i=o(i,r)),i.toString(16)}()+"-"+e+"-"+v()}),M.isBlockedUA=function(e){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)},M.HTTPBuildQuery=function(e,t){var n,r,i=[];return M.isUndefined(t)&&(t="&"),M.each(e,(function(e,t){n=encodeURIComponent(e.toString()),r=encodeURIComponent(t),i[i.length]=r+"="+n})),i.join(t)},M.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n||n&&"string"!=typeof n[1]&&n[1].length?"":decodeURIComponent(n[1]).replace(/\+/g," ")},M.getHashParam=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},M.cookie={get:function(e){for(var t=e+"=",n=k.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=M.JSONDecode(M.cookie.get(e))||{}}catch(e){}return t},set_seconds:function(e,t,n,r,i){var o="",a="",s="";if(r){var c=k.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";o=u?"; domain=."+u:""}if(n){var l=new Date;l.setTime(l.getTime()+1e3*n),a="; expires="+l.toGMTString()}i&&(s="; secure"),k.cookie=e+"="+encodeURIComponent(t)+a+"; path=/"+o+s},set:function(e,t,n,r,i){var o="",a="",s="";if(r){var c=k.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";o=u?"; domain=."+u:""}if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),a="; expires="+l.toGMTString()}i&&(s="; secure");var p=e+"="+encodeURIComponent(t)+a+"; path=/"+o+s;return k.cookie=p,p},remove:function(e,t){M.cookie.set(e,"",-1,t)}},M.localStorage={error:function(e){I("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(e){M.localStorage.error(e)}return null},parse:function(e){try{return M.JSONDecode(M.localStorage.get(e))||{}}catch(e){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){M.localStorage.error(e)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(e){M.localStorage.error(e)}}},M.register_event=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var a="on"+n,s=t[a];t[a]=function(t,n,r){return function(i){if(i=i||e(window.event)){var o,a,s=!0;return M.isFunction(r)&&(o=r(i)),a=n.call(t,i),!1!==o&&!1!==a||(s=!1),s}}}(t,r,s)}else I("No valid element provided to register_event")}}(),M.dom_query=function(){function e(e){return e.all?e.all:e.getElementsByTagName("*")}var t=/[\t\r\n]/g;function n(e,n){var r=" "+n+" ";return(" "+e.className+" ").replace(t," ").indexOf(r)>=0}function r(t){if(!k.getElementsByTagName)return[];var r,i,o,a,s,c,u,l,p,f,d=t.split(" "),h=[k];for(c=0;c<d.length;c++)if((r=d[c].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){o=(i=r.split("#"))[0];var v=i[1],g=k.getElementById(v);if(!g||o&&g.nodeName.toLowerCase()!=o)return[];h=[g]}else if(r.indexOf(".")>-1){o=(i=r.split("."))[0];var m=i[1];for(o||(o="*"),a=[],s=0,u=0;u<h.length;u++)for(p="*"==o?e(h[u]):h[u].getElementsByTagName(o),l=0;l<p.length;l++)a[s++]=p[l];for(h=[],f=0,u=0;u<a.length;u++)a[u].className&&M.isString(a[u].className)&&n(a[u],m)&&(h[f++]=a[u])}else{var _=r.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/);if(_){o=_[1];var y,$=_[2],b=_[3],w=_[4];for(o||(o="*"),a=[],s=0,u=0;u<h.length;u++)for(p="*"==o?e(h[u]):h[u].getElementsByTagName(o),l=0;l<p.length;l++)a[s++]=p[l];switch(h=[],f=0,b){case"=":y=function(e){return e.getAttribute($)==w};break;case"~":y=function(e){return e.getAttribute($).match(new RegExp("\\b"+w+"\\b"))};break;case"|":y=function(e){return e.getAttribute($).match(new RegExp("^"+w+"-?"))};break;case"^":y=function(e){return 0===e.getAttribute($).indexOf(w)};break;case"$":y=function(e){return e.getAttribute($).lastIndexOf(w)==e.getAttribute($).length-w.length};break;case"*":y=function(e){return e.getAttribute($).indexOf(w)>-1};break;default:y=function(e){return e.getAttribute($)}}for(h=[],f=0,u=0;u<a.length;u++)y(a[u])&&(h[f++]=a[u])}else{for(o=r,a=[],s=0,u=0;u<h.length;u++)for(p=h[u].getElementsByTagName(o),l=0;l<p.length;l++)a[s++]=p[l];h=a}}return h}return function(e){return M.isElement(e)?[e]:M.isObject(e)&&!M.isUndefined(e.length)?e:r.call(this,e)}}(),M.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",n={};return M.each(e,(function(e){(t=M.getQueryParam(k.URL,e)).length&&(n[e]=t)})),n},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=M.info.searchEngine(e),n="yahoo"!=t?"q":"p",r={};if(null!==t){r.$search_engine=t;var i=M.getQueryParam(e,n);i.length&&(r.mp_keyword=i)}return r},browser:function(e,t,n){return t=t||"",n||M.includes(e," OPR/")?M.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":M.includes(e,"IEMobile")||M.includes(e,"WPDesktop")?"Internet Explorer Mobile":M.includes(e,"Edge")?"Microsoft Edge":M.includes(e,"FBIOS")?"Facebook Mobile":M.includes(e,"Chrome")?"Chrome":M.includes(e,"CriOS")?"Chrome iOS":M.includes(e,"UCWEB")||M.includes(e,"UCBrowser")?"UC Browser":M.includes(e,"FxiOS")?"Firefox iOS":M.includes(t,"Apple")?M.includes(e,"Mobile")?"Mobile Safari":"Safari":M.includes(e,"Android")?"Android Mobile":M.includes(e,"Konqueror")?"Konqueror":M.includes(e,"Firefox")?"Firefox":M.includes(e,"MSIE")||M.includes(e,"Trident/")?"Internet Explorer":M.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[M.info.browser(e,t,n)];if(void 0===r)return null;var i=e.match(r);return i?parseFloat(i[i.length-2]):null},os:function(){var e=S;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return M.extend(M.strip_empty_properties({$os:M.info.os(),$browser:M.info.browser(S,x.vendor,window.opera),$referrer:k.referrer,$referring_domain:M.info.referringDomain(k.referrer),$device:M.info.device(S)}),{$current_url:window.location.href,$browser_version:M.info.browserVersion(S,x.vendor,window.opera),$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:i.LIB_VERSION})},people_properties:function(){return M.extend(M.strip_empty_properties({$os:M.info.os(),$browser:M.info.browser(S,x.vendor,window.opera)}),{$browser_version:M.info.browserVersion(S,x.vendor,window.opera)})},pageviewInfo:function(e){return M.strip_empty_properties({mp_page:e,mp_referrer:k.referrer,mp_browser:M.info.browser(S,x.vendor,window.opera),mp_platform:M.info.os()})}},M.toArray=M.toArray,M.isObject=M.isObject,M.JSONEncode=M.JSONEncode,M.JSONDecode=M.JSONDecode,M.isBlockedUA=M.isBlockedUA,M.isEmptyObject=M.isEmptyObject,M.info=M.info,M.info.device=M.info.device,M.info.browser=M.info.browser,M.info.properties=M.info.properties;var P,D,V={_initializedTokens:[],_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;do{e=e.previousSibling}while(e&&1!==e.nodeType);return e},_loadScript:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onload=t;var r=document.getElementsByTagName("script");r.length>0?r[0].parentNode.insertBefore(n,r[0]):document.body.appendChild(n)},_getClassName:function(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}},_getPropertiesFromElement:function(e){var t={classes:this._getClassName(e).split(" "),tag_name:e.tagName.toLowerCase()};if(M.includes(["input","select","textarea"],e.tagName.toLowerCase())){var n=this._getFormFieldValue(e);this._includeProperty(e,n)&&(t.value=n)}M.each(e.attributes,(function(e){t["attr__"+e.name]=e.value}));for(var r=1,i=1,o=e;o=this._previousElementSibling(o);)r++,o.tagName===e.tagName&&i++;return t.nth_child=r,t.nth_of_type=i,t},_isTag:function(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()},_shouldTrackDomEvent:function(e,t){if(!e||this._isTag(e,"html")||1!==e.nodeType)return!1;switch(e.tagName.toLowerCase()){case"html":return!1;case"form":return"submit"===t.type;case"input":return-1===["button","submit"].indexOf(e.getAttribute("type"))?"change"===t.type:"click"===t.type;case"select":case"textarea":return"change"===t.type;default:return"click"===t.type}},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1,$host:window.location.host,$pathname:window.location.pathname}},_getInputValue:function(e){var t=null;switch(e.type.toLowerCase()){case"checkbox":e.checked&&(t=[e.value]);break;case"radio":e.checked&&(t=e.value);break;default:t=e.value}return t},_getSelectValue:function(e){var t;if(e.multiple){var n=[];M.each(e.querySelectorAll("[selected]"),(function(e){n.push(e.value)})),t=n}else t=e.value;return t},_includeProperty:function(e,t){for(var n=e;n.parentNode&&!this._isTag(n,"body");n=n.parentNode){var r=this._getClassName(n).split(" ");if(M.includes(r,"mp-sensitive")||M.includes(r,"mp-no-track"))return!1}if(M.includes(this._getClassName(e).split(" "),"mp-include"))return!0;if(null===t)return!1;switch((e.type||"").toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))return!1;if("string"==typeof t){if(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[\- ]/g,"")))return!1;if(/(^\d{3}-?\d{2}-?\d{4}$)/.test(t))return!1}return!0},_getFormFieldValue:function(e){var t;switch(e.tagName.toLowerCase()){case"input":t=this._getInputValue(e);break;case"select":t=this._getSelectValue(e);break;default:t=e.value||e.textContent}return this._includeProperty(e,t)?t:null},_getFormFieldProperties:function(e){var t={};return M.each(e.elements,(function(e){var n=e.getAttribute("name")||e.getAttribute("id");if(null!==n){n="$form_field__"+n;var r=this._getFormFieldValue(e);if(this._includeProperty(e,r)){var i=t[n];t[n]=void 0!==i?[].concat(i,r):r}}}),this),t},_extractCustomPropertyValue:function(e){var t=[];return M.each(document.querySelectorAll(e.css_selector),(function(e){["input","select"].indexOf(e.tagName.toLowerCase())>-1?t.push(e.value):e.textContent&&t.push(e.textContent)})),t.join(", ")},_getCustomProperties:function(e){var t={};return M.each(this._customProperties,(function(n){M.each(n.event_selectors,(function(r){var i=document.querySelectorAll(r);M.each(i,(function(r){M.includes(e,r)&&(t[n.name]=this._extractCustomPropertyValue(n))}),this)}),this)}),this),t},_getEventTarget:function(e){return void 0===e.target?e.srcElement:e.target},_trackEvent:function(e,t){var n=this._getEventTarget(e);if(3===n.nodeType&&(n=n.parentNode),this._shouldTrackDomEvent(n,e)){for(var r=[n],i=n;i.parentNode&&!this._isTag(i,"body");)r.push(i.parentNode),i=i.parentNode;var o,a,s,c=[],u=!1;if(M.each(r,(function(e,t){if("a"===e.tagName.toLowerCase()?o=e.getAttribute("href"):"form"===e.tagName.toLowerCase()&&(s=e),!a&&t<5&&e.textContent){var n=M.trim(e.textContent);n&&(a=n.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}var r=this._getClassName(e).split(" ");M.includes(r,"mp-no-track")&&(u=!0),c.push(this._getPropertiesFromElement(e))}),this),u)return!1;var l=M.extend(this._getDefaultProperties(e.type),{$elements:c,$el_attr__href:o,$el_text:a},this._getCustomProperties(r));return!s||"submit"!==e.type&&"click"!==e.type||M.extend(l,this._getFormFieldProperties(s)),t.track("$web_event",l),!0}},_navigate:function(e){window.location.href=e},_addDomEventHandlers:function(e){var t=M.bind((function(t){t=t||window.event,this._trackEvent(t,e)}),this);M.register_event(document,"submit",t,!1,!0),M.register_event(document,"change",t,!1,!0),M.register_event(document,"click",t,!1,!0)},_customProperties:{},init:function(e){if(document&&document.body){var t=e.get_config("token");if(this._initializedTokens.indexOf(t)>-1)console.log('autotrack already initialized for token "'+t+'"');else if(this._initializedTokens.push(t),!this._maybeLoadEditor(e)){var n=M.bind((function(t){t&&t.config&&!0===t.config.enable_collect_everything?(t.custom_properties&&(this._customProperties=t.custom_properties),e.track("$web_event",M.extend({$title:document.title},this._getDefaultProperties("pageview"))),this._addDomEventHandlers(e)):e.__autotrack_enabled=!1}),this);e._send_request(e.get_config("api_host")+"/decide/",{verbose:!0,version:"1",lib:"web",token:t},e._prepare_callback(n))}}else{console.log("document not ready yet, trying again in 500 milliseconds...");var r=this;setTimeout((function(){r.init(e)}),500)}},_editorParamsFromHash:function(e,t){var n;try{var r=M.getHashParam(t,"state");r=JSON.parse(decodeURIComponent(r));var i=M.getHashParam(t,"expires_in");n={accessToken:M.getHashParam(t,"access_token"),accessTokenExpiresAt:(new Date).getTime()+1e3*Number(i),bookmarkletMode:!!r.bookmarkletMode,projectId:r.projectId,projectOwnerId:r.projectOwnerId,projectToken:r.token,readOnly:r.readOnly,userFlags:r.userFlags,userId:r.userId},window.sessionStorage.setItem("editorParams",JSON.stringify(n)),r.desiredHash?window.location.hash=r.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(e){console.error("Unable to parse data from hash",e)}return n},_maybeLoadEditor:function(e){try{var t=!1;if(M.getHashParam(window.location.hash,"state")){var n=M.getHashParam(window.location.hash,"state");t="mpeditor"===(n=JSON.parse(decodeURIComponent(n))).action}var r,i=!!window.sessionStorage.getItem("_mpcehash");return t?r=this._editorParamsFromHash(e,window.location.hash):i?(r=this._editorParamsFromHash(e,window.sessionStorage.getItem("_mpcehash")),window.sessionStorage.removeItem("_mpcehash")):r=JSON.parse(window.sessionStorage.getItem("editorParams")||"{}"),!(!r.projectToken||e.get_config("token")!==r.projectToken)&&(this._loadEditor(e,r),!0)}catch(e){return!1}},_loadEditor:function(e,t){if(!window._mpEditorLoaded){window._mpEditorLoaded=!0;var n=e.get_config("app_host")+"/js-bundle/reports/collect-everything/editor.js?_ts="+(new Date).getTime();return this._loadScript(n,(function(){window.mp_load_editor(t)})),!0}return!1},enabledForProject:function(e,t,n){t=M.isUndefined(t)?10:t,n=M.isUndefined(n)?10:n;for(var r=0,i=0;i<e.length;i++)r+=e.charCodeAt(i);return r%t<n},isBrowserSupported:function(){return M.isFunction(document.querySelectorAll)}};M.bind_instance_methods(V),M.safewrap_instance_methods(V);var R="mixpanel",B="__mps",L="__mpso",U="__mpus",q="__mpa",F="__mpap",H="__mpu",z="$set",W="$set_once",G="$unset",J="$add",K="$append",X="$union",Y="$people_distinct_id",Z="__alias",Q="__cmpns",ee="__timers",te=[B,L,U,q,F,H,Y,Z,Q,ee],ne=r.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,re=!ne&&-1===S.indexOf("MSIE")&&-1===S.indexOf("Mozilla"),ie={api_host:"https://api.mixpanel.com",app_host:"https://mixpanel.com",autotrack:!0,cdn:"https://cdn.mxpnl.com",cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,property_blacklist:[]},oe=!1,ae=function(){};ae.prototype.create_properties=function(){},ae.prototype.event_handler=function(){},ae.prototype.after_track_handler=function(){},ae.prototype.init=function(e){return this.mp=e,this},ae.prototype.track=function(e,t,n,i){var o=this,a=M.dom_query(e);if(0!==a.length)return M.each(a,(function(e){M.register_event(e,this.override_event,(function(e){var a={},s=o.create_properties(n,this),c=o.mp.get_config("track_links_timeout");o.event_handler(e,this,a),r.setTimeout(o.track_callback(i,s,a,!0),c),o.mp.track(t,s,o.track_callback(i,s,a))}))}),this),!0;I("The DOM query ("+e+") returned 0 elements")},ae.prototype.track_callback=function(e,t,n,r){r=r||!1;var i=this;return function(){n.callback_fired||(n.callback_fired=!0,e&&!1===e(r,t)||i.after_track_handler(t,n,r))}},ae.prototype.create_properties=function(e,t){return"function"==typeof e?e(t):M.extend({},e)};var se=function(){this.override_event="click"};M.inherit(se,ae),se.prototype.create_properties=function(e,t){var n=se.superclass.create_properties.apply(this,arguments);return t.href&&(n.url=t.href),n},se.prototype.event_handler=function(e,t,n){n.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,n.href=t.href,n.new_tab||e.preventDefault()},se.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout((function(){r.location=t.href}),0)};var ce=function(){this.override_event="submit"};M.inherit(ce,ae),ce.prototype.event_handler=function(e,t,n){n.element=t,e.preventDefault()},ce.prototype.after_track_handler=function(e,t){setTimeout((function(){t.element.submit()}),0)};var ue=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(N("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie");"localStorage"===t&&function(){var e=!0;try{var t="__mplssupport__";M.localStorage.set(t,"xyz"),"xyz"!==M.localStorage.get(t)&&(e=!1),M.localStorage.remove(t)}catch(t){e=!1}return e||I("localStorage unsupported; falling back to cookie store"),e}()?this.storage=M.localStorage:this.storage=M.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};ue.prototype.properties=function(){var e={};return M.each(this.props,(function(t,n){M.include(te,n)||(e[n]=t)})),e},ue.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=M.extend({},e))}},ue.prototype.upgrade=function(e){var t,n,r=e.upgrade;r&&(t="mp_super_properties","string"==typeof r&&(t=r),n=this.storage.parse(t),this.storage.remove(t),this.storage.remove(t,!0),n&&(this.props=M.extend(this.props,n.all,n.events))),e.cookie_name||"mixpanel"===e.name||(t="mp_"+e.token+"_"+e.name,(n=this.storage.parse(t))&&(this.storage.remove(t),this.storage.remove(t,!0),this.register_once(n))),this.storage===M.localStorage&&(n=M.cookie.parse(this.name),M.cookie.remove(this.name),M.cookie.remove(this.name,!0),n&&this.register_once(n))},ue.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,M.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure))},ue.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},ue.prototype.clear=function(){this.remove(),this.props={}},ue.prototype.register_once=function(e,t,n){return!!M.isObject(e)&&(void 0===t&&(t="None"),this.expire_days=void 0===n?this.default_expiry:n,M.each(e,(function(e,n){this.props.hasOwnProperty(n)&&this.props[n]!==t||(this.props[n]=e)}),this),this.save(),!0)},ue.prototype.register=function(e,t){return!!M.isObject(e)&&(this.expire_days=void 0===t?this.default_expiry:t,M.extend(this.props,e),this.save(),!0)},ue.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())},ue.prototype._expire_notification_campaigns=M.safewrap((function(){var e=this.props.__cmpns,t=i.DEBUG?6e4:36e5;if(e){for(var n in e)1*new Date-e[n]>t&&delete e[n];M.isEmptyObject(e)&&delete this.props.__cmpns}})),ue.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(M.info.campaignParams()),this.campaign_params_saved=!0)},ue.prototype.update_search_keyword=function(e){this.register(M.info.searchInfo(e))},ue.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:M.info.referringDomain(e)||"$direct"},"")},ue.prototype.get_referrer_info=function(){return M.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},ue.prototype.safe_merge=function(e){return M.each(this.props,(function(t,n){n in e||(e[n]=t)})),e},ue.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},ue.prototype.set_disabled=function(e){this.disabled=e,this.disabled&&this.remove()},ue.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},ue.prototype.get_cross_subdomain=function(){return this.cross_subdomain},ue.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},ue.prototype._add_to_people_queue=function(e,t){var n=this._get_queue_key(e),r=t[e],i=this._get_or_create_queue(z),o=this._get_or_create_queue(W),a=this._get_or_create_queue(G),s=this._get_or_create_queue(J),c=this._get_or_create_queue(X),u=this._get_or_create_queue(K,[]);n===B?(M.extend(i,r),this._pop_from_people_queue(J,r),this._pop_from_people_queue(X,r),this._pop_from_people_queue(G,r)):n===L?(M.each(r,(function(e,t){t in o||(o[t]=e)})),this._pop_from_people_queue(G,r)):n===U?M.each(r,(function(e){M.each([i,o,s,c],(function(t){e in t&&delete t[e]})),M.each(u,(function(t){e in t&&delete t[e]})),a[e]=!0})):n===q?(M.each(r,(function(e,t){t in i?i[t]+=e:(t in s||(s[t]=0),s[t]+=e)}),this),this._pop_from_people_queue(G,r)):n===H?(M.each(r,(function(e,t){M.isArray(e)&&(t in c||(c[t]=[]),c[t]=c[t].concat(e))})),this._pop_from_people_queue(G,r)):n===F&&(u.push(r),this._pop_from_people_queue(G,r)),j("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),j(t),this.save()},ue.prototype._pop_from_people_queue=function(e,t){var n=this._get_queue(e);M.isUndefined(n)||(M.each(t,(function(e,t){delete n[t]}),this),this.save())},ue.prototype._get_queue_key=function(e){return e===z?B:e===W?L:e===G?U:e===J?q:e===K?F:e===X?H:void I("Invalid queue:",e)},ue.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]},ue.prototype._get_or_create_queue=function(e,t){var n=this._get_queue_key(e);return t=M.isUndefined(t)?{}:t,this.props[n]||(this.props[n]=t)},ue.prototype.set_event_timer=function(e,t){var n=this.props.__timers||{};n[e]=t,this.props.__timers=n,this.save()},ue.prototype.remove_event_timer=function(e){var t=(this.props.__timers||{})[e];return M.isUndefined(t)||(delete this.props.__timers[e],this.save()),t};var le,pe=function(){},fe=function(){},de=function(e,t,n){var r,o=n===R?D:D[n];if(o&&0===P)r=o;else{if(o&&!M.isArray(o))return void I("You have already initialized "+n);r=new pe}if(r._init(e,t,n),r.people=new fe,r.people._init(r),i.DEBUG=i.DEBUG||r.get_config("debug"),r.__autotrack_enabled=r.get_config("autotrack"),r.get_config("autotrack")){V.enabledForProject(r.get_config("token"),100,100)?V.isBrowserSupported()?V.init(r):(r.__autotrack_enabled=!1,j("Disabling Automatic Event Collection because this browser is not supported")):(r.__autotrack_enabled=!1,j("Not in active bucket: disabling Automatic Event Collection."));try{ge(r)}catch(e){I(e)}}return!M.isUndefined(o)&&M.isArray(o)&&(r._execute_array.call(r.people,o.people),r._execute_array(o)),r};pe.prototype.init=function(e,t,n){if(M.isUndefined(n))I("You must name your new library: init(token, config, name)");else{if(n!==R){var r=de(e,t,n);return D[n]=r,r._loaded(),r}I("You must initialize the main mixpanel object right after you include the Mixpanel js snippet")}},pe.prototype._init=function(e,t,n){this.__loaded=!0,this.config={},this.set_config(M.extend({},ie,t,{name:n,token:e,callback_fn:(n===R?n:"mixpanel."+n)+"._jsc"})),this._jsc=function(){},this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.persistence=this.cookie=new ue(this.config),this.register_once({distinct_id:M.UUID()},"")},pe.prototype._loaded=function(){this.get_config("loaded")(this),this.get_config("track_pageview")&&this.track_pageview()},pe.prototype._dom_loaded=function(){M.each(this.__dom_loaded_queue,(function(e){this._track_dom.apply(this,e)}),this),M.each(this.__request_queue,(function(e){this._send_request.apply(this,e)}),this),delete this.__dom_loaded_queue,delete this.__request_queue},pe.prototype._track_dom=function(e,t){if(this.get_config("img"))return I("You can't use DOM tracking functions with img = true."),!1;if(!oe)return this.__dom_loaded_queue.push([e,t]),!1;var n=(new e).init(this);return n.track.apply(n,t)},pe.prototype._prepare_callback=function(e,t){if(M.isUndefined(e))return null;if(ne){return function(n){e(n,t)}}var n=this._jsc,r=""+Math.floor(1e8*Math.random()),i=this.get_config("callback_fn")+"["+r+"]";return n[r]=function(i){delete n[r],e(i,t)},i},pe.prototype._send_request=function(e,t,n){if(re)this.__request_queue.push(arguments);else{var r=this.get_config("verbose");if(t.verbose&&(r=!0),this.get_config("test")&&(t.test=1),r&&(t.verbose=1),this.get_config("img")&&(t.img=1),ne||(n?t.callback=n:(r||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),e+="?"+M.HTTPBuildQuery(t),"img"in t){var i=k.createElement("img");i.src=e,k.body.appendChild(i)}else if(ne)try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=!0,o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)n&&n(r?M.JSONDecode(o.responseText):Number(o.responseText));else{var e="Bad HTTP status: "+o.status+" "+o.statusText;I(e),n&&n(r?{status:0,error:e}:0)}},o.send(null)}catch(e){I(e)}else{var a=k.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src=e;var s=k.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)}}},pe.prototype._execute_array=function(e){var t,n=[],r=[],i=[];M.each(e,(function(e){e&&(t=e[0],"function"==typeof e?e.call(this):M.isArray(e)&&"alias"===t?n.push(e):M.isArray(e)&&-1!==t.indexOf("track")&&"function"==typeof this[t]?i.push(e):r.push(e))}),this);var o=function(e,t){M.each(e,(function(e){this[e[0]].apply(this,e.slice(1))}),t)};o(n,this),o(r,this),o(i,this)},pe.prototype.push=function(e){this._execute_array([e])},pe.prototype.disable=function(e){void 0===e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},pe.prototype.track=function(e,t,n){if("function"!=typeof n&&(n=function(){}),M.isUndefined(e))I("No event name provided to mixpanel.track");else{if(!this._event_is_disabled(e)){(t=t||{}).token=this.get_config("token");var r=this.persistence.remove_event_timer(e);if(!M.isUndefined(r)){var i=(new Date).getTime()-r;t.$duration=parseFloat((i/1e3).toFixed(3))}this.persistence.update_search_keyword(k.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(k.referrer),t=M.extend({},M.info.properties(),this.persistence.properties(),t);try{this.get_config("autotrack")&&"mp_page_view"!==e&&"$create_alias"!==e&&(t=M.extend({},t,this.mp_counts),this.mp_counts={$__c:0},M.cookie.set("mp_"+this.get_config("name")+"__c",0,1,!0))}catch(e){I(e)}var o=this.get_config("property_blacklist");M.isArray(o)?M.each(o,(function(e){delete t[e]})):I("Invalid value for property_blacklist config: "+o);var a={event:e,properties:t},s=M.truncate(a,255),c=M.JSONEncode(s),u=M.base64Encode(c);return j("MIXPANEL REQUEST:"),j(s),this._send_request(this.get_config("api_host")+"/track/",{data:u},this._prepare_callback(n,s)),s}n(0)}},pe.prototype.track_pageview=function(e){M.isUndefined(e)&&(e=k.location.href),this.track("mp_page_view",M.info.pageviewInfo(e))},pe.prototype.track_links=function(){return this._track_dom.call(this,se,arguments)},pe.prototype.track_forms=function(){return this._track_dom.call(this,ce,arguments)},pe.prototype.time_event=function(e){M.isUndefined(e)?I("No event name provided to mixpanel.time_event"):this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime())},pe.prototype.register=function(e,t){this.persistence.register(e,t)},pe.prototype.register_once=function(e,t,n){this.persistence.register_once(e,t,n)},pe.prototype.unregister=function(e){this.persistence.unregister(e)},pe.prototype._register_single=function(e,t){var n={};n[e]=t,this.register(n)},pe.prototype.identify=function(e,t,n,r,i,o,a){e!==this.get_distinct_id()&&e!==this.get_property(Z)&&(this.unregister(Z),this._register_single("distinct_id",e)),this._check_and_handle_notifications(this.get_distinct_id()),this._flags.identify_called=!0,this.people._flush(t,n,r,i,o,a)},pe.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1,this.register_once({distinct_id:M.UUID()},"")},pe.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},pe.prototype.alias=function(e,t){if(e===this.get_property(Y))return N("Attempting to create alias for existing People user - aborting."),-2;var n=this;return M.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(Z,e),this.track("$create_alias",{alias:e,distinct_id:t},(function(){n.identify(e)}))):(I("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},pe.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},pe.prototype.set_config=function(e){M.isObject(e)&&(M.extend(this.config,e),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),i.DEBUG=i.DEBUG||this.get_config("debug"))},pe.prototype.get_config=function(e){return this.config[e]},pe.prototype.get_property=function(e){return this.persistence.props[e]},pe.prototype.toString=function(){var e=this.get_config("name");return e!==R&&(e="mixpanel."+e),e},pe.prototype._event_is_disabled=function(e){return M.isBlockedUA(S)||this._flags.disable_all_events||M.include(this.__disabled_events,e)},pe.prototype._check_and_handle_notifications=function(e){if(e&&!this._flags.identify_called&&!this.get_config("disable_notifications")){j("MIXPANEL NOTIFICATION CHECK");var t={verbose:!0,version:"2",lib:"web",token:this.get_config("token"),distinct_id:e},n=this;this._send_request(this.get_config("api_host")+"/decide/",t,this._prepare_callback((function(e){e.notifications&&e.notifications.length>0&&n._show_notification.call(n,e.notifications[0])})))}},pe.prototype._show_notification=function(e){new le(e,this).show()},fe.prototype._init=function(e){this._mixpanel=e},fe.prototype.set=function(e,t,n){var r={},i={};return M.isObject(e)?(M.each(e,(function(e,t){this._is_reserved_property(t)||(i[t]=e)}),this),n=t):i[e]=t,this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(k.referrer),i=M.extend({},M.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),i),r.$set=i,this._send_request(r,n)},fe.prototype.set_once=function(e,t,n){var r={},i={};return M.isObject(e)?(M.each(e,(function(e,t){this._is_reserved_property(t)||(i[t]=e)}),this),n=t):i[e]=t,r.$set_once=i,this._send_request(r,n)},fe.prototype.unset=function(e,t){var n={},r=[];return M.isArray(e)||(e=[e]),M.each(e,(function(e){this._is_reserved_property(e)||r.push(e)}),this),n.$unset=r,this._send_request(n,t)},fe.prototype.increment=function(e,t,n){var r={},i={};return M.isObject(e)?(M.each(e,(function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void I("Invalid increment value passed to mixpanel.people.increment - must be a number");i[t]=e}}),this),n=t):(M.isUndefined(t)&&(t=1),i[e]=t),r.$add=i,this._send_request(r,n)},fe.prototype.append=function(e,t,n){var r={},i={};return M.isObject(e)?(M.each(e,(function(e,t){this._is_reserved_property(t)||(i[t]=e)}),this),n=t):i[e]=t,r.$append=i,this._send_request(r,n)},fe.prototype.union=function(e,t,n){var r={},i={};return M.isObject(e)?(M.each(e,(function(e,t){this._is_reserved_property(t)||(i[t]=M.isArray(e)?e:[e])}),this),n=t):i[e]=M.isArray(t)?t:[t],r.$union=i,this._send_request(r,n)},fe.prototype.track_charge=function(e,t,n){if(M.isNumber(e)||(e=parseFloat(e),!isNaN(e)))return this.append("$transactions",M.extend({$amount:e},t),n);I("Invalid value passed to mixpanel.people.track_charge - must be a number")},fe.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},fe.prototype.delete_user=function(){if(this._identify_called()){var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)}I("mixpanel.people.delete_user() requires you to call identify() first")},fe.prototype.toString=function(){return this._mixpanel.toString()+".people"},fe.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var n=M.encodeDates(e),r=M.truncate(n,255),i=M.JSONEncode(n),o=M.base64Encode(i);return this._identify_called()?(j("MIXPANEL PEOPLE REQUEST:"),j(r),this._mixpanel._send_request(this._get_config("api_host")+"/engage/",{data:o},this._mixpanel._prepare_callback(t,r)),r):(this._enqueue(e),M.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),r)},fe.prototype._get_config=function(e){return this._mixpanel.get_config(e)},fe.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},fe.prototype._enqueue=function(e){z in e?this._mixpanel.persistence._add_to_people_queue(z,e):W in e?this._mixpanel.persistence._add_to_people_queue(W,e):G in e?this._mixpanel.persistence._add_to_people_queue(G,e):J in e?this._mixpanel.persistence._add_to_people_queue(J,e):K in e?this._mixpanel.persistence._add_to_people_queue(K,e):X in e?this._mixpanel.persistence._add_to_people_queue(X,e):I("Invalid call to _enqueue():",e)},fe.prototype._flush_one_queue=function(e,t,n,r){var i=this,o=M.extend({},this._mixpanel.persistence._get_queue(e)),a=o;M.isUndefined(o)||!M.isObject(o)||M.isEmptyObject(o)||(i._mixpanel.persistence._pop_from_people_queue(e,o),r&&(a=r(o)),t.call(i,a,(function(t,r){0===t&&i._mixpanel.persistence._add_to_people_queue(e,o),M.isUndefined(n)||n(t,r)})))},fe.prototype._flush=function(e,t,n,r,i,o){var a=this,s=this._mixpanel.persistence._get_queue(K);if(this._flush_one_queue(z,this.set,e),this._flush_one_queue(W,this.set_once,r),this._flush_one_queue(G,this.unset,o,(function(e){return M.keys(e)})),this._flush_one_queue(J,this.increment,t),this._flush_one_queue(X,this.union,i),!M.isUndefined(s)&&M.isArray(s)&&s.length){for(var c,u=function(e,t){0===e&&a._mixpanel.persistence._add_to_people_queue(K,c),M.isUndefined(n)||n(e,t)},l=s.length-1;l>=0;l--)c=s.pop(),a.append(c,u);a._mixpanel.persistence.save()}},fe.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e},(le=pe._Notification=function(e,t){M.bind_instance_methods(this),this.mixpanel=t,this.persistence=this.mixpanel.persistence,this.campaign_id=M.escapeHTML(e.id),this.message_id=M.escapeHTML(e.message_id),this.body=(M.escapeHTML(e.body)||"").replace(/\n/g,"<br/>"),this.cta=M.escapeHTML(e.cta)||"Close",this.notif_type=M.escapeHTML(e.type)||"takeover",this.style=M.escapeHTML(e.style)||"light",this.title=M.escapeHTML(e.title)||"",this.video_width=le.VIDEO_WIDTH,this.video_height=le.VIDEO_HEIGHT,this.dest_url=e.cta_url||null,this.image_url=e.image_url||null,this.thumb_image_url=e.thumb_image_url||null,this.video_url=e.video_url||null,this.clickthrough=!0,this.dest_url||(this.dest_url="#dismiss",this.clickthrough=!1),this.mini="mini"===this.notif_type,this.mini||(this.notif_type="takeover"),this.notif_width=this.mini?le.NOTIF_WIDTH_MINI:le.NOTIF_WIDTH,this._set_client_config(),this.imgs_to_preload=this._init_image_html(),this._init_video()}).ANIM_TIME=200,le.MARKUP_PREFIX="mixpanel-notification",le.BG_OPACITY=.6,le.NOTIF_TOP=25,le.NOTIF_START_TOP=200,le.NOTIF_WIDTH=388,le.NOTIF_WIDTH_MINI=420,le.NOTIF_HEIGHT_MINI=85,le.THUMB_BORDER_SIZE=5,le.THUMB_IMG_SIZE=60,le.THUMB_OFFSET=Math.round(le.THUMB_IMG_SIZE/2),le.VIDEO_WIDTH=595,le.VIDEO_HEIGHT=334,le.prototype.show=function(){var e=this;this._set_client_config(),this.body_el?(this._init_styles(),this._init_notification_el(),this._preload_images(this._attach_and_animate)):setTimeout((function(){e.show()}),300)},le.prototype.dismiss=M.safewrap((function(){this.marked_as_shown||this._mark_delivery({invisible:!0});var e,t,n,r=this.showing_video?this._get_el("video"):this._get_notification_display_el();this.use_transitions?(this._remove_class("bg","visible"),this._add_class(r,"exiting"),setTimeout(this._remove_notification_el,le.ANIM_TIME)):(this.mini?(e="right",t=20,n=-100):(e="top",t=le.NOTIF_TOP,n=le.NOTIF_START_TOP+le.NOTIF_TOP),this._animate_els([{el:this._get_el("bg"),attr:"opacity",start:le.BG_OPACITY,goal:0},{el:r,attr:"opacity",start:1,goal:0},{el:r,attr:e,start:t,goal:n}],le.ANIM_TIME,this._remove_notification_el))})),le.prototype._add_class=M.safewrap((function(e,t){t=le.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className?~(" "+e.className+" ").indexOf(" "+t+" ")||(e.className+=" "+t):e.className=t})),le.prototype._remove_class=M.safewrap((function(e,t){t=le.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className&&(e.className=(" "+e.className+" ").replace(" "+t+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))})),le.prototype._animate_els=M.safewrap((function(e,t,n,r){var i,o,a,s=this,c=!1,u=1*new Date;for(a=u-(r=r||u),i=0;i<e.length;i++)if(void 0===(o=e[i]).val&&(o.val=o.start),o.val!==o.goal){c=!0;var l=o.goal-o.start,p=o.goal>=o.start?1:-1;o.val=o.start+l*a/t,"opacity"!==o.attr&&(o.val=Math.round(o.val)),(p>0&&o.val>=o.goal||p<0&&o.val<=o.goal)&&(o.val=o.goal)}if(c){for(i=0;i<e.length;i++)if((o=e[i]).el){var f="opacity"===o.attr?"":"px";o.el.style[o.attr]=String(o.val)+f}setTimeout((function(){s._animate_els(e,t,n,r)}),10)}else n&&n()})),le.prototype._attach_and_animate=M.safewrap((function(){var e=this;if(!this.shown&&!this._get_shown_campaigns()[this.campaign_id]){this.shown=!0,this.body_el.appendChild(this.notification_el),setTimeout((function(){var t,n,r,i=e._get_notification_display_el();e.use_transitions?(e.mini||e._add_class("bg","visible"),e._add_class(i,"visible"),e._mark_as_shown()):(e.mini?(t="right",n=-100,r=20):(t="top",n=le.NOTIF_START_TOP+le.NOTIF_TOP,r=le.NOTIF_TOP),e._animate_els([{el:e._get_el("bg"),attr:"opacity",start:0,goal:le.BG_OPACITY},{el:i,attr:"opacity",start:0,goal:1},{el:i,attr:t,start:n,goal:r}],le.ANIM_TIME,e._mark_as_shown))}),100),M.register_event(e._get_el("cancel"),"click",(function(t){t.preventDefault(),e.dismiss()}));var t=e._get_el("button")||e._get_el("mini-content");M.register_event(t,"click",(function(t){t.preventDefault(),e.show_video?(e._track_event("$campaign_open",{$resource_type:"video"}),e._switch_to_video()):(e.dismiss(),e.clickthrough&&e._track_event("$campaign_open",{$resource_type:"link"},(function(){r.location.href=e.dest_url})))}))}})),le.prototype._get_el=function(e){return k.getElementById(le.MARKUP_PREFIX+"-"+e)},le.prototype._get_notification_display_el=function(){return this._get_el(this.notif_type)},le.prototype._get_shown_campaigns=function(){return this.persistence.props.__cmpns||(this.persistence.props.__cmpns={})},le.prototype._browser_lte=function(e,t){return this.browser_versions[e]&&this.browser_versions[e]<=t},le.prototype._init_image_html=function(){var e=[];return this.mini?(this.thumb_image_url=this.thumb_image_url||"//cdn.mxpnl.com/site_media/images/icons/notifications/mini-news-dark.png",e.push(this.thumb_image_url)):(this.image_url?(e.push(this.image_url),this.img_html='<img id="img" src="'+this.image_url+'"/>'):this.img_html="",this.thumb_image_url?(e.push(this.thumb_image_url),this.thumb_img_html='<div id="thumbborder-wrapper"><div id="thumbborder"></div></div><img id="thumbnail" src="'+this.thumb_image_url+'" width="'+le.THUMB_IMG_SIZE+'" height="'+le.THUMB_IMG_SIZE+'"/><div id="thumbspacer"></div>'):this.thumb_img_html=""),e},le.prototype._init_notification_el=function(){var e="",t="",n="",r='<div id="cancel"><div id="cancel-icon"></div></div>';if(this.notification_el=k.createElement("div"),this.notification_el.id=le.MARKUP_PREFIX+"-wrapper",this.mini)e='<div id="mini"><div id="mainbox">'+r+'<div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"></div></div><div id="body"><div id="body-text"><div>'+this.body+'</div></div></div></div></div><div id="mini-border"></div></div>';else{var i=this.clickthrough||this.show_video?"":'<div id="button-close"></div>',o=this.show_video?'<div id="button-play"></div>':"";this._browser_lte("ie",7)&&(i="",o=""),e='<div id="takeover">'+this.thumb_img_html+'<div id="mainbox">'+r+'<div id="content">'+this.img_html+'<div id="title">'+this.title+'</div><div id="body">'+this.body+'</div><div id="tagline"><a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL</a></div></div><div id="button">'+i+'<a id="button-link" href="'+this.dest_url+'">'+this.cta+"</a>"+o+"</div></div></div>"}this.youtube_video?(t="//www.youtube.com/embed/"+this.youtube_video+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.yt_custom&&(t+="&enablejsapi=1&html5=1&controls=0",n='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"></div><div id="video-elapsed" class="video-progress-el"></div></div><div id="video-time" class="video-progress-el"></div></div>')):this.vimeo_video&&(t="//player.vimeo.com/video/"+this.vimeo_video+"?autoplay=1&title=0&byline=0&portrait=0"),this.show_video&&(this.video_iframe='<iframe id="'+le.MARKUP_PREFIX+'-video-frame" width="'+this.video_width+'" height="'+this.video_height+'"  src="'+t+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"></iframe>',n='<div id="video-'+(this.flip_animate?"":"no")+'flip"><div id="video"><div id="video-holder"></div>'+n+"</div></div>");var a=n+e;this.flip_animate&&(a=(this.mini?e:"")+'<div id="flipcontainer"><div id="flipper">'+(this.mini?n:a)+"</div></div>"),this.notification_el.innerHTML=('<div id="overlay" class="'+this.notif_type+'"><div id="campaignid-'+this.campaign_id+'"><div id="bgwrapper"><div id="bg"></div>'+a+"</div></div></div>").replace(/class=\"/g,'class="'+le.MARKUP_PREFIX+"-").replace(/id=\"/g,'id="'+le.MARKUP_PREFIX+"-")},le.prototype._init_styles=function(){"dark"===this.style?this.style_vals={bg:"#1d1f25",bg_actions:"#282b32",bg_hover:"#3a4147",bg_light:"#4a5157",border_gray:"#32353c",cancel_opacity:"0.4",mini_hover:"#2a3137",text_title:"#fff",text_main:"#9498a3",text_tagline:"#464851",text_hover:"#ddd"}:this.style_vals={bg:"#fff",bg_actions:"#e7eaee",bg_hover:"#eceff3",bg_light:"#f5f5f5",border_gray:"#e4ecf2",cancel_opacity:"1.0",mini_hover:"#fafafa",text_title:"#5c6578",text_main:"#8b949b",text_tagline:"#ced9e6",text_hover:"#7c8598"};var e="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",t=e,n=e,r=le.THUMB_IMG_SIZE+2*le.THUMB_BORDER_SIZE,i=le.ANIM_TIME/1e3+"s";this.mini&&(e="none");var o={};o["@media only screen and (max-width: "+(le.NOTIF_WIDTH_MINI+20-1)+"px)"]={"#overlay":{display:"none"}};var a={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.doc_width+"px","min-height":4*this.doc_height+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",filter:"alpha(opacity=60)",transition:"opacity "+i},"#bg.visible":{opacity:le.BG_OPACITY},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:le.NOTIF_WIDTH+"px","margin-left":Math.round(-le.NOTIF_WIDTH/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:le.NOTIF_START_TOP+"px",transition:"opacity "+i+", top "+i},"#takeover.visible":{opacity:"1.0",top:le.NOTIF_TOP+"px"},"#takeover.exiting":{opacity:"0.0",top:le.NOTIF_START_TOP+"px"},"#thumbspacer":{height:le.THUMB_OFFSET+"px"},"#thumbborder-wrapper":{position:"absolute",top:-le.THUMB_BORDER_SIZE+"px",left:le.NOTIF_WIDTH/2-le.THUMB_OFFSET-le.THUMB_BORDER_SIZE+"px",width:r+"px",height:r/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:r+"px",height:r+"px","border-radius":r+"px","background-color":this.style_vals.bg_actions,opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:le.NOTIF_WIDTH/2-le.THUMB_OFFSET+"px",width:le.THUMB_IMG_SIZE+"px",height:le.THUMB_IMG_SIZE+"px",overflow:"hidden","z-index":"100","border-radius":le.THUMB_IMG_SIZE+"px"},"#mini":{position:"absolute",right:"20px",top:le.NOTIF_TOP+"px",width:this.notif_width+"px",height:2*le.NOTIF_HEIGHT_MINI+"px","margin-top":20-le.NOTIF_HEIGHT_MINI+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":e,"text-align":"center","background-color":this.style_vals.bg,"font-size":"14px",color:this.style_vals.text_main},"#mini #mainbox":{height:le.NOTIF_HEIGHT_MINI+"px","margin-top":le.NOTIF_HEIGHT_MINI+"px","border-radius":"3px",transition:"background-color "+i},"#mini-border":{height:le.NOTIF_HEIGHT_MINI+6+"px",width:le.NOTIF_WIDTH_MINI+6+"px",position:"absolute",top:"-3px",left:"-3px","margin-top":le.NOTIF_HEIGHT_MINI+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":n},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:le.NOTIF_HEIGHT_MINI+"px","border-radius":"3px 0 0 3px","background-color":this.style_vals.bg_actions,background:"linear-gradient(135deg, "+this.style_vals.bg_light+" 0%, "+this.style_vals.bg_actions+" 100%)",transition:"background-color "+i},"#mini:hover #mini-icon":{"background-color":this.style_vals.mini_hover},"#mini:hover #mainbox":{"background-color":this.style_vals.mini_hover},"#mini-icon-img":{position:"absolute","background-image":"url("+this.thumb_image_url+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:le.NOTIF_HEIGHT_MINI+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden","word-wrap":"break-word",padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.style_vals.text_title},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:le.NOTIF_HEIGHT_MINI+"px","font-size":"16px","letter-spacing":"0.8px",color:this.style_vals.text_title},"#mini #body-text":{display:"table",height:le.NOTIF_HEIGHT_MINI+"px"},"#mini #body-text div":{display:"table-cell","vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.style_vals.text_tagline,transition:"color "+i},"#tagline a:hover":{color:this.style_vals.text_hover},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",cursor:"pointer",transition:"background-color "+i},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",height:"8px",overflow:"hidden","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/cancel-x.png)",opacity:this.style_vals.cancel_opacity},"#cancel:hover":{"background-color":this.style_vals.bg_hover},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.style_vals.bg_actions,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+i},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/play-"+this.style+"-small.png)","background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center","font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.style_vals.text_title,transition:"color "+i},"#button:hover":{"background-color":this.style_vals.bg_hover,color:this.style_vals.text_hover},"#button:hover a":{color:this.style_vals.text_hover},"#video-noflip":{position:"relative",top:2*-this.video_height+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",top:le.NOTIF_TOP+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.video_width/2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":t,transform:"translateZ(1px)",transition:"opacity "+i+", top "+i},"#video.exiting":{opacity:"0.0",top:this.video_height+"px"},"#video-holder":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.video_width+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.style_vals.bg,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.style_vals.text_main,"background-color":"#666","border-radius":"0 0 5px 0"}};this._browser_lte("ie",8)&&M.extend(a,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}}),this._browser_lte("ie",7)&&M.extend(a,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.style_vals.bg_hover},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});var s=["backface-visibility","border-radius","box-shadow","opacity","perspective","transform","transform-style","transition"],c=["khtml","moz","ms","o","webkit"];for(var u in a)for(var l=0;l<s.length;l++){var p=s[l];if(p in a[u])for(var f=a[u][p],d=0;d<c.length;d++)a[u]["-"+c[d]+"-"+p]=f}var h,v,g,m,_;h=o,v=function(e){var t="";for(var n in e){t+="\n"+n.replace(/#/g,"#"+le.MARKUP_PREFIX+"-").replace(/\./g,"."+le.MARKUP_PREFIX+"-")+" {";var r=e[n];for(var i in r)t+=i+":"+r[i]+";";t+="}"}return t},g=v(a)+function(e){var t="";for(var n in e)t+="\n"+n+" {"+v(e[n])+"\n}";return t}(h),m=k.head||k.getElementsByTagName("head")[0]||k.documentElement,_=k.createElement("style"),m.appendChild(_),_.setAttribute("type","text/css"),_.styleSheet?_.styleSheet.cssText=g:_.textContent=g},le.prototype._init_video=M.safewrap((function(){if(this.video_url){var e=this;e.yt_custom="postMessage"in r,e.dest_url=e.video_url;var t=e.video_url.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i),n=e.video_url.match(/vimeo\.com\/.*?(\d+)/i);if(t){if(e.show_video=!0,e.youtube_video=t[1],e.yt_custom){r.onYouTubeIframeAPIReady=function(){e._get_el("video-frame")&&e._yt_video_ready()};var i=k.createElement("script");i.src="//www.youtube.com/iframe_api";var o=k.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o)}}else n&&(e.show_video=!0,e.vimeo_video=n[1]);(e._browser_lte("ie",7)||e._browser_lte("firefox",3))&&(e.show_video=!1,e.clickthrough=!0)}})),le.prototype._mark_as_shown=M.safewrap((function(){var e=this;M.register_event(e._get_el("bg"),"click",(function(){e.dismiss()}));var t=function(e,t){var n={};return k.defaultView&&k.defaultView.getComputedStyle?n=k.defaultView.getComputedStyle(e,null):e.currentStyle&&(n=e.currentStyle),n[t]};if(this.campaign_id){var n=this._get_el("overlay");n&&"hidden"!==t(n,"visibility")&&"none"!==t(n,"display")&&this._mark_delivery()}})),le.prototype._mark_delivery=M.safewrap((function(e){this.marked_as_shown||(this.marked_as_shown=!0,this.campaign_id&&(this._get_shown_campaigns()[this.campaign_id]=1*new Date,this.persistence.save()),this._track_event("$campaign_delivery",e),this.mixpanel.people.append({$campaigns:this.campaign_id,$notifications:{campaign_id:this.campaign_id,message_id:this.message_id,type:"web",time:new Date}}))})),le.prototype._preload_images=function(e){var t=this;if(0!==this.imgs_to_preload.length){for(var n=0,r=[],i=function(){++n===t.imgs_to_preload.length&&e&&(e(),e=null)},o=0;o<this.imgs_to_preload.length;o++){var a=new Image;a.onload=i,a.src=this.imgs_to_preload[o],a.complete&&i(),r.push(a)}this._browser_lte("ie",7)&&setTimeout((function(){var t=!0;for(o=0;o<r.length;o++)r[o].complete||(t=!1);t&&e&&(e(),e=null)}),500)}else e()},le.prototype._remove_notification_el=M.safewrap((function(){r.clearInterval(this._video_progress_checker),this.notification_el.style.visibility="hidden",this.body_el.removeChild(this.notification_el)})),le.prototype._set_client_config=function(){var e=function(e){var t=navigator.userAgent.match(e);return t&&t[1]};this.browser_versions={},this.browser_versions.chrome=e(/Chrome\/(\d+)/),this.browser_versions.firefox=e(/Firefox\/(\d+)/),this.browser_versions.ie=e(/MSIE (\d+).+/),this.browser_versions.ie||r.ActiveXObject||!("ActiveXObject"in r)||(this.browser_versions.ie=11),this.body_el=k.body||k.getElementsByTagName("body")[0],this.body_el&&(this.doc_width=Math.max(this.body_el.scrollWidth,k.documentElement.scrollWidth,this.body_el.offsetWidth,k.documentElement.offsetWidth,this.body_el.clientWidth,k.documentElement.clientWidth),this.doc_height=Math.max(this.body_el.scrollHeight,k.documentElement.scrollHeight,this.body_el.offsetHeight,k.documentElement.offsetHeight,this.body_el.clientHeight,k.documentElement.clientHeight));var t=this.browser_versions.ie,n=k.createElement("div").style,i=function(e){if(e in n)return!0;if(!t)for(var r=["O"+(e=e[0].toUpperCase()+e.slice(1)),"Webkit"+e,"Moz"+e],i=0;i<r.length;i++)if(r[i]in n)return!0;return!1};this.use_transitions=this.body_el&&i("transition")&&i("transform"),this.flip_animate=(this.browser_versions.chrome>=33||this.browser_versions.firefox>=15)&&this.body_el&&i("backfaceVisibility")&&i("perspective")&&i("transform")},le.prototype._switch_to_video=M.safewrap((function(){var e=this,t=[{el:e._get_notification_display_el(),attr:"opacity",start:1,goal:0},{el:e._get_notification_display_el(),attr:"top",start:le.NOTIF_TOP,goal:-500},{el:e._get_el("video-noflip"),attr:"opacity",start:0,goal:1},{el:e._get_el("video-noflip"),attr:"top",start:2*-e.video_height,goal:0}];if(e.mini){var n=e._get_el("bg"),i=e._get_el("overlay");n.style.width="100%",n.style.height="100%",i.style.width="100%",e._add_class(e._get_notification_display_el(),"exiting"),e._add_class(n,"visible"),t.push({el:e._get_el("bg"),attr:"opacity",start:0,goal:le.BG_OPACITY})}e._get_el("video-holder").innerHTML=e.video_iframe;var o=function(){r.YT&&r.YT.loaded&&e._yt_video_ready(),e.showing_video=!0,e._get_notification_display_el().style.visibility="hidden"};e.flip_animate?(e._add_class("flipper","flipped"),setTimeout(o,le.ANIM_TIME)):e._animate_els(t,le.ANIM_TIME,o)})),le.prototype._track_event=function(e,t,n){this.campaign_id?(t=t||{},t=M.extend(t,{campaign_id:this.campaign_id,message_id:this.message_id,message_type:"web_inapp",message_subtype:this.notif_type}),this.mixpanel.track(e,t,n)):n&&n.call()},le.prototype._yt_video_ready=M.safewrap((function(){var e=this;if(!e.video_inited){e.video_inited=!0;var t=e._get_el("video-elapsed"),n=e._get_el("video-time"),i=e._get_el("video-progress");new r.YT.Player(le.MARKUP_PREFIX+"-video-frame",{events:{onReady:function(o){var a=o.target,s=a.getDuration(),c=function(e){return("00"+e).slice(-2)},u=function(e){var t=Math.round(s-e),r=Math.floor(t/60),i=Math.floor(r/60);t-=60*r,r-=60*i,n.innerHTML="-"+(i?i+":":"")+c(r)+":"+c(t)};u(0),e._video_progress_checker=r.setInterval((function(){var e=a.getCurrentTime();t.style.width=e/s*100+"%",u(e)}),250),M.register_event(i,"click",(function(e){var t=Math.max(0,e.pageX-i.getBoundingClientRect().left);a.seekTo(s*t/i.clientWidth,!0)}))}}})}})),pe.prototype.init=pe.prototype.init,pe.prototype.reset=pe.prototype.reset,pe.prototype.disable=pe.prototype.disable,pe.prototype.time_event=pe.prototype.time_event,pe.prototype.track=pe.prototype.track,pe.prototype.track_links=pe.prototype.track_links,pe.prototype.track_forms=pe.prototype.track_forms,pe.prototype.track_pageview=pe.prototype.track_pageview,pe.prototype.register=pe.prototype.register,pe.prototype.register_once=pe.prototype.register_once,pe.prototype.unregister=pe.prototype.unregister,pe.prototype.identify=pe.prototype.identify,pe.prototype.alias=pe.prototype.alias,pe.prototype.name_tag=pe.prototype.name_tag,pe.prototype.set_config=pe.prototype.set_config,pe.prototype.get_config=pe.prototype.get_config,pe.prototype.get_property=pe.prototype.get_property,pe.prototype.get_distinct_id=pe.prototype.get_distinct_id,pe.prototype.toString=pe.prototype.toString,pe.prototype._check_and_handle_notifications=pe.prototype._check_and_handle_notifications,pe.prototype._show_notification=pe.prototype._show_notification,ue.prototype.properties=ue.prototype.properties,ue.prototype.update_search_keyword=ue.prototype.update_search_keyword,ue.prototype.update_referrer_info=ue.prototype.update_referrer_info,ue.prototype.get_cross_subdomain=ue.prototype.get_cross_subdomain,ue.prototype.clear=ue.prototype.clear,fe.prototype.set=fe.prototype.set,fe.prototype.set_once=fe.prototype.set_once,fe.prototype.unset=fe.prototype.unset,fe.prototype.increment=fe.prototype.increment,fe.prototype.append=fe.prototype.append,fe.prototype.union=fe.prototype.union,fe.prototype.track_charge=fe.prototype.track_charge,fe.prototype.clear_charges=fe.prototype.clear_charges,fe.prototype.delete_user=fe.prototype.delete_user,fe.prototype.toString=fe.prototype.toString,M.safewrap_class(pe,["identify","_check_and_handle_notifications","_show_notification"]);var he={},ve=function(){D.init=function(e,t,n){if(n)return D[n]||(D[n]=he[n]=de(e,t,n),D[n]._loaded()),D[n];var i=D;he.mixpanel?i=he.mixpanel:e&&((i=de(e,t,R))._loaded(),he.mixpanel=i),D=i,1===P&&(r.mixpanel=D),M.each(he,(function(e,t){t!==R&&(D[t]=e)})),D._=M}},ge=function(e){var t=e.get_config("name");e.mp_counts=e.mp_counts||{},e.mp_counts.$__c=parseInt(M.cookie.get("mp_"+t+"__c"))||0;var n=function(){try{e.mp_counts=e.mp_counts||{},e.mp_counts.$__c=(e.mp_counts.$__c||0)+1,M.cookie.set("mp_"+t+"__c",e.mp_counts.$__c,1,!0)}catch(e){I(e)}};M.register_event(k,"submit",n),M.register_event(k,"change",n);var r=null;M.register_event(k,"mousedown",(function(e){r=e.target})),M.register_event(k,"mouseup",(function(e){e.target===r&&n()}))};var me=(P=0,D=new pe,ve(),D.init(),function(){function e(){e.done||(e.done=!0,oe=!0,re=!1,M.each(he,(function(e){e._dom_loaded()})))}if(k.addEventListener)"complete"===k.readyState?e():k.addEventListener("DOMContentLoaded",e,!1);else if(k.attachEvent){k.attachEvent("onreadystatechange",e);var t=!1;try{t=null===r.frameElement}catch(e){}k.documentElement.doScroll&&t&&function t(){try{k.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}()}M.register_event(r,"load",e,!0)}(),D);e.exports=me},65:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},66:function(e,t,n){var r=n(147),i=n(99)(r);e.exports=i},67:function(e,t,n){var r=n(2),i=n(34),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},68:function(e,t,n){var r=n(37),i=n(17),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},69:function(e,t){!function(e){"use strict";var t={objectMaxDepth:5};function n(e){if(!L(e))return t;B(e.objectMaxDepth)&&(t.objectMaxDepth=r(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function r(e){return F(e)&&e>0}function i(e,n){return n=n||Error,function(){var r,i,o=arguments[0],a=arguments[1],s="["+(e?e+":":"")+o+"] ",c=fe(arguments,2).map((function(e){return He(e,t.objectMaxDepth)}));for(s+=a.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1);return t<c.length?c[t]:e})),s+="\nhttp://errors.angularjs.org/1.6.6/"+(e?e+"/":"")+o,i=0,r="?";i<c.length;i++,r="&")s+=r+"p"+i+"="+encodeURIComponent(c[i]);return new n(s)}}var o=/^\/(.+)\/([a-z]*)$/,a="validity",s=Object.prototype.hasOwnProperty,c=function(e){return q(e)?e.toLowerCase():e},u=function(e){return q(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(c=function(e){return q(e)?e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(32|e.charCodeAt(0))})):e},u=function(e){return q(e)?e.replace(/[a-z]/g,(function(e){return String.fromCharCode(-33&e.charCodeAt(0))})):e});var l,p,f,d,h=[].slice,v=[].splice,g=[].push,m=Object.prototype.toString,_=Object.getPrototypeOf,y=i("ng"),$=e.angular||(e.angular={}),b=0;function w(e){if(null==e||K(e))return!1;if(z(e)||q(e)||p&&e instanceof p)return!0;var t="length"in Object(e)&&e.length;return F(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function x(e,t,n){var r,i;if(e)if(G(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(z(e)||w(e)){var o="object"!=typeof e;for(r=0,i=e.length;r<i;r++)(o||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==x)e.forEach(t,n,e);else if(U(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)s.call(e,r)&&t.call(n,e[r],r,e);return e}function k(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function S(e){return function(t,n){e(n,t)}}function E(){return++b}function O(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function C(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(L(a)||G(a))for(var s=Object.keys(a),c=0,u=s.length;c<u;c++){var l=s[c],p=a[l];n&&L(p)?H(p)?e[l]=new Date(p.valueOf()):J(p)?e[l]=new RegExp(p):p.nodeName?e[l]=p.cloneNode(!0):ne(p)?e[l]=p.clone():(L(e[l])||(e[l]=z(p)?[]:{}),C(e[l],[p],!0)):e[l]=p}}return O(e,r),e}function A(e){return C(e,h.call(arguments,1),!1)}function T(e){return C(e,h.call(arguments,1),!0)}function M(e){return parseInt(e,10)}l=e.document.documentMode;var j=Number.isNaN||function(e){return e!=e};function I(e,t){return A(Object.create(e),t)}function N(){}function P(e){return e}function D(e){return function(){return e}}function V(e){return G(e.toString)&&e.toString!==m}function R(e){return void 0===e}function B(e){return void 0!==e}function L(e){return null!==e&&"object"==typeof e}function U(e){return null!==e&&"object"==typeof e&&!_(e)}function q(e){return"string"==typeof e}function F(e){return"number"==typeof e}function H(e){return"[object Date]"===m.call(e)}N.$inject=[],P.$inject=[];var z=Array.isArray;function W(e){switch(m.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function G(e){return"function"==typeof e}function J(e){return"[object RegExp]"===m.call(e)}function K(e){return e&&e.window===e}function X(e){return e&&e.$evalAsync&&e.$watch}function Y(e){return"boolean"==typeof e}function Z(e){return e&&G(e.then)}var Q=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var ee=function(e){return q(e)?e.trim():e},te=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function ne(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function re(e){return c(e.nodeName||e[0]&&e[0].nodeName)}function ie(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function oe(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function ae(e,t,n){var i,o,a=[],c=[];if(n=r(n)?n:NaN,t){if((o=t)&&F(o.length)&&Q.test(m.call(o))||(i=t,"[object ArrayBuffer]"===m.call(i)))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");return z(t)?t.length=0:x(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),a.push(e),c.push(t),u(e,t,n)}return l(e,n);function u(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if(z(e))for(var o=0,a=e.length;o<a;o++)t.push(l(e[o],n));else if(U(e))for(r in e)t[r]=l(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=l(e[r],n));else for(r in e)s.call(e,r)&&(t[r]=l(e[r],n));return O(t,i),t}function l(e,t){if(!L(e))return e;var n=a.indexOf(e);if(-1!==n)return c[n];if(K(e)||X(e))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(e){switch(m.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(l(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(G(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=z(e)?[]:Object.create(_(e)),r=!0),a.push(e),c.push(i),r?u(e,i,t):i}}function se(e,t){return e===t||e!=e&&t!=t}function ce(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o===typeof t&&"object"===o){if(!z(e)){if(H(e))return!!H(t)&&se(e.getTime(),t.getTime());if(J(e))return!!J(t)&&e.toString()===t.toString();if(X(e)||X(t)||K(e)||K(t)||z(t)||H(t)||J(t))return!1;for(r in i=Le(),e)if("$"!==r.charAt(0)&&!G(e[r])){if(!ce(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&B(t[r])&&!G(t[r]))return!1;return!0}if(!z(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!ce(e[r],t[r]))return!1;return!0}}return!1}var ue=function(){if(!B(ue.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ue.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ue.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ue.rules},le=function(){if(B(le.name_))return le.name_;var t,n,r,i,o=Ee.length;for(n=0;n<o;++n)if(r=Ee[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return le.name_=i};function pe(e,t,n){return e.concat(h.call(t,n))}function fe(e,t){return h.call(e,t||0)}function de(e,t){var n=arguments.length>2?fe(arguments,2):[];return!G(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,pe(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function he(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:K(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":X(n)&&(r="$SCOPE"),r}function ve(e,t){if(!R(e))return F(t)||(t=t?2:null),JSON.stringify(e,he,t)}function ge(e){return q(e)?JSON.parse(e):e}var me=/:/g;function _e(e,t){e=e.replace(me,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return j(n)?t:n}function ye(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,n*(_e(t,r)-r))}function $e(e){e=p(e).clone().empty();var t=p("<div>").append(e).html();try{return e[0].nodeType===qe?c(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(e,t){return"<"+c(t)}))}catch(e){return c(t)}}function be(e){try{return decodeURIComponent(e)}catch(e){}}function we(e){var t={};return x((e||"").split("&"),(function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(r=e.substring(0,n),i=e.substring(n+1)),B(r=be(r))&&(i=!B(i)||be(i),s.call(t,r)?z(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))})),t}function xe(e){var t=[];return x(e,(function(e,n){z(e)?x(e,(function(e){t.push(Se(n,!0)+(!0===e?"":"="+Se(e,!0)))})):t.push(Se(n,!0)+(!0===e?"":"="+Se(e,!0)))})),t.length?t.join("&"):""}function ke(e){return Se(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Se(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Ee=["ng-","data-ng-","ng:","x-ng-"];var Oe=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every((function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document);function Ce(t,n){var r,i,o={};if(x(Ee,(function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,i=t.getAttribute(n))})),x(Ee,(function(e){var n,o=e+"app";!r&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))})),r){if(!Oe)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(e,t){var n,r,i=Ee.length;for(r=0;r<i;++r)if(n=Ee[r]+t,q(n=e.getAttribute(n)))return n;return null}(r,"strict-di"),n(r,i?[i]:[],o)}}function Ae(t,n,r){L(r)||(r={});r=A({strictDi:!1},r);var i=function(){if((t=p(t)).injector()){var i=t[0]===e.document?"document":$e(t);throw y("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Wt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply((function(){t.data("$injector",r),n(t)(e)}))}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!a.test(e.name))return i();e.name=e.name.replace(a,""),$.resumeBootstrap=function(e){return x(e,(function(e){n.push(e)})),i()},G($.resumeDeferredBootstrap)&&$.resumeDeferredBootstrap()}function Te(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Me(e){var t=$.element(e).injector();if(!t)throw y("test","no injector found for element argument to getTestability");return t.get("$$testability")}var je=/[A-Z]/g;function Ie(e,t){return t=t||"_",e.replace(je,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Ne=!1;function Pe(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function De(e,t,n){return n&&z(e)&&(e=e[e.length-1]),Pe(G(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Ve(e,t){if("hasOwnProperty"===e)throw y("badname","hasOwnProperty is not a valid {0} name",t)}function Re(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&G(e)?de(o,e):e}function Be(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=p(h.call(e,0,i))),t.push(n));return t||e}function Le(){return Object.create(null)}function Ue(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!V(e)||z(e)||H(e)?ve(e):e.toString()}return e}var qe=3;function Fe(e,t){if(z(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(L(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function He(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):R(e)?"undefined":"string"!=typeof e?function(e,t){var n=[];return r(t)&&(e=$.copy(e,null,t)),JSON.stringify(e,(function(e,t){if(L(t=he(e,t))){if(n.indexOf(t)>=0)return"...";n.push(t)}return t}))}(e,t):e}var ze={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};ut.expando="ng339";var We=ut.cache={},Ge=1;ut._data=function(e){return this.cache[e[this.expando]]||{}};var Je=/-([a-z])/g,Ke=/^-ms-/,Xe={mouseleave:"mouseout",mouseenter:"mouseover"},Ye=i("jqLite");function Ze(e,t){return t.toUpperCase()}function Qe(e){return e.replace(Je,Ze)}var et=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,tt=/<|&#?\w+;/,nt=/<([\w:-]+)/,rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,it={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ot(e){return!tt.test(e)}function at(e){var t=e.nodeType;return 1===t||!t||9===t}function st(e,t){var n,r,i,o,a=t.createDocumentFragment(),s=[];if(ot(e))s.push(t.createTextNode(e));else{for(n=a.appendChild(t.createElement("div")),r=(nt.exec(e)||["",""])[1].toLowerCase(),i=it[r]||it._default,n.innerHTML=i[1]+e.replace(rt,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;s=pe(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",x(s,(function(e){a.appendChild(e)})),a}it.optgroup=it.option,it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td;var ct=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function ut(t){if(t instanceof ut)return t;var n,r,i,o;if(q(t)&&(t=ee(t),n=!0),!(this instanceof ut)){if(n&&"<"!==t.charAt(0))throw Ye("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ut(t)}n?yt(this,(r=t,i=i||e.document,(o=et.exec(r))?[i.createElement(o[1])]:(o=st(r,i))?o.childNodes:[])):G(t)?kt(t):yt(this,t)}function lt(e){return e.cloneNode(!0)}function pt(e,t){!t&&at(e)&&p.cleanData([e]),e.querySelectorAll&&p.cleanData(e.querySelectorAll("*"))}function ft(e,t,n,r){if(B(r))throw Ye("offargs","jqLite#off() does not support the `selector` argument");var i=ht(e),o=i&&i.events,a=i&&i.handle;if(a)if(t){var s=function(t){var r=o[t];B(n)&&oe(r||[],n),B(n)&&r&&r.length>0||(e.removeEventListener(t,a),delete o[t])};x(t.split(" "),(function(e){s(e),Xe[e]&&s(Xe[e])}))}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,a),delete o[t]}function dt(e,t){var n=e.ng339,r=n&&We[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ft(e)),delete We[n],e.ng339=void 0}}function ht(e,t){var n=e.ng339,r=n&&We[n];return t&&!r&&(e.ng339=n=++Ge,r=We[n]={events:{},data:{},handle:void 0}),r}function vt(e,t,n){if(at(e)){var r,i=B(n),o=!i&&t&&!L(t),a=!t,s=ht(e,!o),c=s&&s.data;if(i)c[Qe(t)]=n;else{if(a)return c;if(o)return c&&c[Qe(t)];for(r in t)c[Qe(r)]=t[r]}}}function gt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function mt(e,t){t&&e.setAttribute&&x(t.split(" "),(function(t){e.setAttribute("class",ee((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ee(t)+" "," ")))}))}function _t(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");x(t.split(" "),(function(e){e=ee(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")})),e.setAttribute("class",ee(n))}}function yt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function $t(e,t){return bt(e,"$"+(t||"ngController")+"Controller")}function bt(e,t,n){9===e.nodeType&&(e=e.documentElement);for(var r=z(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(B(n=p.data(e,r[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function wt(e){for(pt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function xt(e,t){t||pt(e);var n=e.parentNode;n&&n.removeChild(e)}function kt(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var St=ut.prototype={ready:kt,toString:function(){var e=[];return x(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return p(e>=0?this[e]:this[this.length+e])},length:0,push:g,sort:[].sort,splice:[].splice},Et={};x("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){Et[c(e)]=e}));var Ot={};x("input,select,option,textarea,button,form,details".split(","),(function(e){Ot[e]=!0}));var Ct={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function At(e,t){var n=Et[t.toLowerCase()];return n&&Ot[re(e)]&&n}function Tt(e,t,n){n.call(e,t)}function Mt(e,t,n){var r=t.relatedTarget;r&&(r===e||ct.call(e,r))||n.call(e,t)}function jt(){this.$get=function(){return A(ut,{hasClass:function(e,t){return e.attr&&(e=e[0]),gt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),_t(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),mt(e,t)}})}}function It(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||E)():r+":"+e}x({data:vt,removeData:dt,hasData:function(e){for(var t in We[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)dt(e[t])}},(function(e,t){ut[t]=e})),x({data:vt,inheritedData:bt,scope:function(e){return p.data(e,"$scope")||bt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return p.data(e,"$isolateScope")||p.data(e,"$isolateScopeNoTemplate")},controller:$t,injector:function(e){return bt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:gt,css:function(e,t,n){if(t=function(e){return Qe(e.replace(Ke,"ms-"))}(t),!B(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==qe&&2!==i&&8!==i&&e.getAttribute){var o=c(t),a=Et[o];if(!B(n))return r=e.getAttribute(t),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)}},prop:function(e,t,n){if(!B(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(R(t)){var n=e.nodeType;return 1===n||n===qe?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(R(t)){if(e.multiple&&"select"===re(e)){var n=[];return x(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),n}return e.value}e.value=t},html:function(e,t){if(R(t))return e.innerHTML;pt(e,!0),e.innerHTML=t},empty:wt},(function(e,t){ut.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==wt&&R(2===e.length&&e!==gt&&e!==$t?t:n)){if(L(t)){for(r=0;r<o;r++)if(e===vt)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=R(a)?Math.min(o,1):o,c=0;c<s;c++){var u=e(this[c],t,n);a=a?a+u:u}return a}for(r=0;r<o;r++)e(this[r],t,n);return this}})),x({removeData:dt,on:function(e,t,n,r){if(B(r))throw Ye("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(at(e)){var i=ht(e,!0),o=i.events,a=i.handle;a||(a=i.handle=function(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(R(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Tt;o>1&&(i=Fe(i));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||s(e,n,i[c])}};return n.elem=e,n}(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length,u=function(t,r,i){var s=o[t];s||((s=o[t]=[]).specialHandlerWrapper=r,"$destroy"===t||i||e.addEventListener(t,a)),s.push(n)};c--;)t=s[c],Xe[t]?(u(Xe[t],Mt),u(t,void 0,!0)):u(t)}},off:ft,one:function(e,t,n){(e=p(e)).on(t,(function r(){e.off(t,n),e.off(t,r)})),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;pt(e),x(new ut(t),(function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t}))},children:function(e){var t=[];return x(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var r=0,i=(t=new ut(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;x(new ut(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){var n,r,i;n=e,r=p(t).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:xt,detach:function(e){xt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var i=0,o=(t=new ut(t)).length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:_t,removeClass:mt,toggleClass:function(e,t,n){t&&x(t.split(" "),(function(t){var r=n;R(r)&&(r=!gt(e,t)),(r?_t:mt)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:lt,triggerHandler:function(e,t,n){var r,i,o,a=t.type||t,s=ht(e),c=s&&s.events,u=c&&c[a];u&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:N,type:a,target:e},t.type&&(r=A(r,t)),i=Fe(u),o=n?[r].concat(n):[r],x(i,(function(t){r.isImmediatePropagationStopped()||t.apply(e,o)})))}},(function(e,t){ut.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)R(i)?B(i=e(this[o],t,n,r))&&(i=p(i)):yt(i,e(this[o],t,n,r));return B(i)?i:this}})),ut.prototype.bind=ut.prototype.on,ut.prototype.unbind=ut.prototype.off;var Nt=Object.create(null);function Pt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Pt.prototype={_idx:function(e){return e===this._lastKey||(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return j(e)?Nt:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Dt=Pt,Vt=[function(){this.$get=[function(){return Dt}]}],Rt=/^([^(]+?)=>/,Bt=/^[^(]*\(\s*([^)]*)\)/m,Lt=/,/,Ut=/^\s*(_?)(\S+?)\1\s*$/,qt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ft=i("$injector");function Ht(e){return Function.prototype.toString.call(e)}function zt(e){var t=Ht(e).replace(qt,"");return t.match(Rt)||t.match(Bt)}function Wt(e,t){t=!0===t;var n={},r="Provider",i=[],o=new Dt,a={$provide:{provider:h(v),factory:h(m),service:h((function(e,t){return m(e,["$injector",function(e){return e.instantiate(t)}])})),value:h((function(e,t){return m(e,D(t),!1)})),constant:h((function(e,t){Ve(e,"constant"),a[e]=t,c[e]=t})),decorator:function(e,t){var n=s.get(e+r),i=n.$get;n.$get=function(){var e=p.invoke(i,n);return p.invoke(t,null,{$delegate:e})}}}},s=a.$injector=_(a,(function(e,t){throw $.isString(t)&&i.push(t),Ft("unpr","Unknown provider: {0}",i.join(" <- "))})),c={},u=_(c,(function(e,t){var n=s.get(e+r,t);return p.invoke(n.$get,n,void 0,e)})),p=u;a.$injectorProvider={$get:D(u)},p.modules=s.modules=Le();var f=function e(t){Pe(R(t)||z(t),"modulesToLoad","not an array");var n,r=[];return x(t,(function(t){if(!o.get(t)){o.set(t,!0);try{q(t)?(n=d(t),p.modules[t]=n,r=r.concat(e(n.requires)).concat(n._runBlocks),i(n._invokeQueue),i(n._configBlocks)):G(t)||z(t)?r.push(s.invoke(t)):De(t,"module")}catch(e){throw z(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ft("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=s.get(r[0]);i[r[1]].apply(i,r[2])}}})),r}(e);return(p=u.get("$injector")).strictDi=t,x(f,(function(e){e&&p.invoke(e)})),p;function h(e){return function(t,n){if(!L(t))return e(t,n);x(t,S(e))}}function v(e,t){if(Ve(e,"service"),(G(t)||z(t))&&(t=s.instantiate(t)),!t.$get)throw Ft("pget","Provider '{0}' must define $get factory method.",e);return a[e+r]=t}function g(e,t){return function(){var n=p.invoke(t,this);if(R(n))throw Ft("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function m(e,t,n){return v(e,{$get:!1!==n?g(e,t):t})}function _(e,o){function s(t,r){if(e.hasOwnProperty(t)){if(e[t]===n)throw Ft("cdep","Circular dependency found: {0}",t+" <- "+i.join(" <- "));return e[t]}try{return i.unshift(t),e[t]=n,e[t]=o(t,r),e[t]}catch(r){throw e[t]===n&&delete e[t],r}finally{i.shift()}}function c(e,n,r){for(var i=[],o=Wt.$$annotate(e,t,r),a=0,c=o.length;a<c;a++){var u=o[a];if("string"!=typeof u)throw Ft("itkn","Incorrect injection token! Expected service name as string, got {0}",u);i.push(n&&n.hasOwnProperty(u)?n[u]:s(u,r))}return i}return{invoke:function(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=c(e,n,r);return z(e)&&(e=e[e.length-1]),function(e){if(l||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return Y(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(Ht(e))),t}(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,n){var r=z(e)?e[e.length-1]:e,i=c(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:s,annotate:Wt.$$annotate,has:function(t){return a.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}}function Gt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){var o=n.document;function a(e){if(e){e.scrollIntoView();var t=function(){var e=s.yOffset;if(G(e))e=e();else if(ne(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else F(e)||(e=0);return e}();if(t){var r=e.getBoundingClientRect().top;n.scrollBy(0,r-t)}}else n.scrollTo(0,0)}function s(e){var t,n,i;(e=q(e)?e:F(e)?e.toString():r.hash())?(t=o.getElementById(e))?a(t):(n=o.getElementsByName(e),i=null,Array.prototype.some.call(n,(function(e){if("a"===re(e))return i=e,!0})),(t=i)?a(t):"top"===e&&a(null)):a(null)}return t&&i.$watch((function(){return r.hash()}),(function(t,n){var r,o;t===n&&""===t||(r=function(){i.$evalAsync(s)},"complete"===(o=o||e).document.readyState?o.setTimeout(r):p(o).on("load",r))})),s}]}Wt.$$annotate=function(e,t,n){var r,i;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw q(n)&&n||(n=e.name||function(e){var t=zt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Ft("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);x(zt(e)[1].split(Lt),(function(e){e.replace(Ut,(function(e,t,n){r.push(n)}))}))}e.$inject=r}}else z(e)?(De(e[i=e.length-1],"fn"),r=e.slice(0,i)):De(e,"fn",!0);return r};var Jt=i("$animate"),Kt="ng-animate";function Xt(e,t){return e||t?e?t?(z(e)&&(e=e.join(" ")),z(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Yt(e){return L(e)?e:{}}var Zt=function(){this.$get=N},Qt=function(){var e=new Dt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:N,on:N,off:N,pin:N,push:function(a,s,c,u){u&&u(),(c=c||{}).from&&a.css(c.from),c.to&&a.css(c.to),(c.addClass||c.removeClass)&&function(n,a,s){var c=e.get(n)||{},u=i(c,a,!0),l=i(c,s,!1);(u||l)&&(e.set(n,c),t.push(n),1===t.length&&r.$$postDigest(o))}(a,c.addClass,c.removeClass);var l=new n;return l.complete(),l}};function i(e,t,n){var r=!1;return t&&x(t=q(t)?t.split(" "):z(t)?t:[],(function(t){t&&(r=!0,e[t]=n)})),r}function o(){x(t,(function(t){var n=e.get(t);if(n){var r=function(e){q(e)&&(e=e.split(" "));var t=Le();return x(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),i="",o="";x(n,(function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)})),x(t,(function(e){i&&_t(e,i),o&&mt(e,o)})),e.delete(t)}})),t.length=0}}]},en=["$provide",function(e){var t=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Jt("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.customFilter=function(e){return 1===arguments.length&&(r=G(e)?e:null),r},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){var t=new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]");if(t.test(n.toString()))throw n=null,Jt("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Kt)}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&p(r),i=i&&p(i),t(n,r=r||i.parent(),i),e.push(n,"enter",Yt(o))},move:function(n,r,i,o){return r=r&&p(r),i=i&&p(i),t(n,r=r||i.parent(),i),e.push(n,"move",Yt(o))},leave:function(t,n){return e.push(t,"leave",Yt(n),(function(){t.remove()}))},addClass:function(t,n,r){return(r=Yt(r)).addClass=Xt(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return(r=Yt(r)).removeClass=Xt(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return(i=Yt(i)).addClass=Xt(i.addClass,n),i.removeClass=Xt(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return(o=Yt(o)).from=o.from?A(o.from,n):n,o.to=o.to?A(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=Xt(o.tempClasses,i),e.push(t,"animate",o)}}}]}],tn=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},nn=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?function(e){i(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function r(){if(n===e.length)return void t(!0);e[n]((function(e){!1!==e?(n++,r()):t(!1)}))}()},o.all=function(e,t){var n=0,r=!0;function i(i){r=r&&i,++n===e.length&&t(r)}x(e,(function(e){e.done(i)}))},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:N,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(x(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},o}]},rn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){var i=r||{};i.$$prepared||(i=ae(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,a=new n;return{start:s,end:s};function s(){return e((function(){!function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null);i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null);i.to&&(t.css(i.to),i.to=null)}(),o||a.complete(),o=!0})),a}}}]};function on(e,t,n,r){var i=this,o=e.location,a=e.history,s=e.setTimeout,c=e.clearTimeout,u={};i.isMock=!1;var l=0,f=[];function d(e){try{e.apply(null,fe(arguments,1))}finally{if(0===--l)for(;f.length;)try{f.pop()()}catch(e){n.error(e)}}}i.$$completeOutstandingRequest=d,i.$$incOutstandingRequestCount=function(){l++},i.notifyWhenNoOutstandingRequests=function(e){0===l?e():f.push(e)};var h,v,g=o.href,m=t.find("base"),_=null,y=r.history?function(){try{return a.state}catch(e){}}:N;S(),i.url=function(t,n,s){if(R(s)&&(s=null),o!==e.location&&(o=e.location),a!==e.history&&(a=e.history),t){var c=v===s;if(g===t&&(!r.history||c))return i;var u=g&&nr(g)===nr(t);return g=t,v=s,!r.history||u&&c?(u||(_=t),n?o.replace(t):u?o.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):o.href=t,o.href!==t&&(_=t)):(a[n?"replaceState":"pushState"](s,"",t),S()),_&&(_=t),i}return _||o.href.replace(/%27/g,"'")},i.state=function(){return h};var $=[],b=!1;function w(){_=null,E()}var k=null;function S(){ce(h=R(h=y())?null:h,k)&&(h=k),k=h,v=h}function E(){var e=v;S(),g===i.url()&&e===h||(g=i.url(),v=h,x($,(function(e){e(i.url(),h)})))}i.onUrlChange=function(t){return b||(r.history&&p(e).on("popstate",w),p(e).on("hashchange",w),b=!0),$.push(t),t},i.$$applicationDestroyed=function(){p(e).off("hashchange popstate",w)},i.$$checkUrlChange=E,i.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},i.defer=function(e,t){var n;return l++,n=s((function(){delete u[n],d(e)}),t||0),u[n]=!0,n},i.defer.cancel=function(e){return!!u[e]&&(delete u[e],c(e),d(N),!0)}}function an(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new on(e,r,t,n)}]}function sn(){this.$get=function(){var e={};function t(t,n){if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,o=A({},n,{id:t}),a=Le(),s=n&&n.capacity||Number.MAX_VALUE,c=Le(),u=null,l=null;return e[t]={put:function(e,t){if(!R(t)){if(s<Number.MAX_VALUE)p(c[e]||(c[e]={key:e}));return e in a||r++,a[e]=t,r>s&&this.remove(l.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=c[e];if(!t)return;p(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=c[e];if(!t)return;t===u&&(u=t.p),t===l&&(l=t.n),f(t.n,t.p),delete c[e]}e in a&&(delete a[e],r--)},removeAll:function(){a=Le(),r=0,c=Le(),u=l=null},destroy:function(){a=null,o=null,c=null,delete e[t]},info:function(){return A({},o,{size:r})}};function p(e){e!==u&&(l?l===e&&(l=e.n):l=e,f(e.n,e.p),f(e,u),(u=e).n=null)}function f(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return x(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function cn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var un=i("$compile");var ln=new function(){};function pn(t,n){var r={},i="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,a=/(([\w-]+)(?::([^;]+))?;?)/,u=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),f=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,d=/^(on[a-z]+|formaction)$/,h=Le();function v(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=Le();return x(e,(function(e,o){if(e in h)i[o]=h[e];else{var a=e.match(r);if(!a)throw un("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(h[e]=i[o])}})),i}function g(e,t){var n={isolateScope:null,bindToController:null};if(L(e.scope)&&(!0===e.bindToController?(n.bindToController=v(e.scope,t,!0),n.isolateScope={}):n.isolateScope=v(e.scope,t,!1)),L(e.bindToController)&&(n.bindToController=v(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw un("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(n,o){return Pe(n,"name"),Ve(n,"directive"),q(n)?(!function(e){var t=e.charAt(0);if(!t||t!==c(t))throw un("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw un("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),Pe(o,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],t.factory(n+i,["$injector","$exceptionHandler",function(e,t){var i=[];return x(r[n],(function(r,o){try{var a=e.invoke(r);G(a)?a={compile:D(a)}:!a.compile&&a.link&&(a.compile=D(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=function(e){var t=e.require||e.controller&&e.name;return!z(t)&&L(t)&&x(t,(function(e,n){var r=e.match(f);e.substring(r[0].length)||(t[n]=r[0]+n)})),t}(a),a.restrict=function(e,t){if(e&&(!q(e)||!/[EACM]/.test(e)))throw un("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(a.restrict,n),a.$$moduleName=r.$$moduleName,i.push(a)}catch(e){t(e)}})),i}])),r[n].push(o)):x(n,S(e)),this},this.component=function e(t,n){if(!q(t))return x(t,S(de(this,e))),this;var r=n.controller||function(){};function i(e){function t(t){return G(t)||z(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:$n(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return x(n,(function(e,t){"$"===t.charAt(0)&&(o[t]=e)})),o}return x(n,(function(e,t){"$"===t.charAt(0)&&(i[t]=e,G(r)&&(r[t]=e))})),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationWhitelist=function(e){return B(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return B(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var _=!0;this.debugInfoEnabled=function(e){return B(e)?(_=e,this):_};var y=!1;this.preAssignBindingsEnabled=function(e){return B(e)?(y=e,this):y};var $=!1;this.strictComponentBindingsEnabled=function(e){return B(e)?($=e,this):$};var b=10;this.onChangesTtl=function(e){return arguments.length?(b=e,this):b};var w=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(w=e,this):w};var k=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(k=e,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,h,v,S,E,O,C,T,M){var j,D=/^\w/,V=e.document.createElement("div"),U=w,F=k,H=b;function J(){try{if(!--H)throw j=void 0,un("infchng","{0} $onChanges() iterations reached. Aborting!\n",b);O.$apply((function(){for(var e=[],t=0,n=j.length;t<n;++t)try{j[t]()}catch(t){e.push(t)}if(j=void 0,e.length)throw e}))}finally{H++}}function K(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=t[i]}else this.$attr={};this.$$element=e}function Z(e,t){try{e.addClass(t)}catch(e){}}K.prototype={$normalize:vn,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=gn(e,t);n&&n.length&&T.addClass(this.$$element,n);var r=gn(t,e);r&&r.length&&T.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i,o=At(this.$$element[0],e),a=Ct[e],s=e;if(o?(this.$$element.prop(e,t),r=o):a&&(this[a]=t,s=a),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Ie(e,"-")),"a"===(i=re(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===i&&"src"===e)this[e]=t=M(t,"src"===e);else if("img"===i&&"srcset"===e&&B(t)){for(var c="",u=ee(t),l=/\s/.test(u)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,p=u.split(l),f=Math.floor(p.length/2),d=0;d<f;d++){var v=2*d;c+=M(ee(p[v]),!0),c+=" "+ee(p[v+1])}var g=ee(p[2*d]).split(/\s/);c+=M(ee(g[0]),!0),2===g.length&&(c+=" "+ee(g[1])),this[e]=t=c}!1!==n&&(null===t||R(t)?this.$$element.removeAttr(r):D.test(r)?this.$$element.attr(r,t):function(e,t,n){V.innerHTML="<span "+t+">";var r=V.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],r,t));var m=this.$$observers;m&&x(m[s],(function(e){try{e(t)}catch(e){h(e)}}))},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=Le()),i=r[e]||(r[e]=[]);return i.push(t),O.$evalAsync((function(){i.$$inter||!n.hasOwnProperty(e)||R(n[e])||t(n[e])})),function(){oe(i,t)}}};var Q=n.startSymbol(),te=n.endSymbol(),ne="{{"===Q&&"}}"===te?P:function(e){return e.replace(/\{\{/g,Q).replace(/}}/g,te)},ie=/^ngAttr[A-Z]/,ae=/^(.+)Start$/;return ue.$$addBindingInfo=_?function(e,t){var n=e.data("$binding")||[];z(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:N,ue.$$addBindingClass=_?function(e){Z(e,"ng-binding")}:N,ue.$$addScopeInfo=_?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:N,ue.$$addScopeClass=_?function(e,t){Z(e,t?"ng-isolate-scope":"ng-scope")}:N,ue.$$createComment=function(t,n){var r="";return _&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},ue;function ue(e,t,n,r,i){e instanceof p||(e=p(e));var o=le(e,t,e,n,r,i);ue.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw un("multilink","This element has already been linked.");Pe(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new());var s,c,u,l=(r=r||{}).parentBoundTranscludeFn,f=r.transcludeControllers,d=r.futureParentElement;if(l&&l.$$boundTransclude&&(l=l.$$boundTransclude),a||(c=(s=d)&&s[0],a=c&&"foreignobject"!==re(c)&&m.call(c).match(/SVG/)?"svg":"html"),u="html"!==a?p(Ae(a,p("<div>").append(e).html())):n?St.clone.call(e):e,f)for(var h in f)u.data("$"+h+"Controller",f[h].instance);return ue.$$addScopeInfo(u,t),n&&n(u,t),o&&o(t,u,u,l),n||(e=o=null),u}}function le(e,t,n,r,i,o){for(var a,s,c,u,f,d,h,v=[],g=z(e)||e instanceof p,m=0;m<e.length;m++)a=new K,11===l&&pe(e,m,g),(c=(s=ve(e[m],[],a,0===m?r:void 0,i)).length?ye(s,e[m],a,t,n,null,[],[],o):null)&&c.scope&&ue.$$addScopeClass(a.$$element),f=c&&c.terminal||!(u=e[m].childNodes)||!u.length?null:le(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||f)&&(v.push(m,c,f),d=!0,h=h||c),o=null;return d?function(e,n,r,i){var o,a,s,c,u,l,f,d,g;if(h){var m=n.length;for(g=new Array(m),u=0;u<v.length;u+=3)f=v[u],g[f]=n[f]}else g=n;for(u=0,l=v.length;u<l;)s=g[v[u++]],o=v[u++],a=v[u++],o?(o.scope?(c=e.$new(),ue.$$addScopeInfo(p(s),c)):c=e,d=o.transcludeOnThisElement?he(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?he(e,t):null,o(a,c,s,r,d)):a&&a(e,s.childNodes,void 0,i)}:null}function pe(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===qe)for(;(r=o?i.nextSibling:e[t+1])&&r.nodeType===qe;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}function he(e,t,n){function r(r,i,o,a,s){return r||((r=e.$new(!1,s)).$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=Le();for(var o in t.$$slots)t.$$slots[o]?i[o]=he(e,t.$$slots[o],n):i[o]=null;return r}function ve(e,t,r,i,s){var c,u,l,p=e.nodeType,f=r.$attr;switch(p){case 1:xe(t,vn(u=re(e)),"E",i,s);for(var d,h,v,g,m,_,y=e.attributes,$=0,b=y&&y.length;$<b;$++){var w=!1,x=!1;h=(d=y[$]).name,m=d.value,g=vn(h),(_=ie.test(g))&&(h=h.replace(dn,"").substr(8).replace(/_(.)/g,(function(e,t){return t.toUpperCase()})));var k=g.match(ae);k&&ke(k[1])&&(w=h,x=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),f[v=vn(h.toLowerCase())]=h,!_&&r.hasOwnProperty(v)||(r[v]=m,At(e,v)&&(r[v]=!0)),Te(e,t,m,v,_),xe(t,v,"A",i,s,w,x)}if("input"===u&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!F)break;if(L(l=e.className)&&(l=l.animVal),q(l)&&""!==l)for(;c=a.exec(l);)xe(t,v=vn(c[2]),"C",i,s)&&(r[v]=ee(c[3])),l=l.substr(c.index+c[0].length);break;case qe:!function(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&ue.$$addBindingClass(t),function(e,t){var i=t.parent();n||ue.$$addBindingClass(i),ue.$$addBindingInfo(i,r.expressions),e.$watch(r,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:if(!U)break;!function(e,t,n,r,i){try{var a=o.exec(e.nodeValue);if(a){var s=vn(a[1]);xe(t,s,"M",r,i)&&(n[s]=ee(a[2]))}}catch(e){}}(e,t,r,i,s)}return t.sort(Oe),t}function ge(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw un("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1===e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0);else r.push(e);return p(r)}function me(e,t,n){return function(r,i,o,a,s){return i=ge(i[0],t,n),e(r,i,o,a,s)}}function _e(e,t,n,r,i,o){var a;return e?ue(t,n,r,i,o):function(){return a||(a=ue(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function ye(e,t,n,r,i,o,a,s,c){c=c||{};for(var u,l,f,d,v,g=-Number.MAX_VALUE,m=c.newScopeDirective,_=c.controllerDirectives,$=c.newIsolateScopeDirective,b=c.templateDirective,w=c.nonTlbTranscludeDirective,k=!1,S=!1,O=c.hasElementTranscludeDirective,C=n.$$element=p(t),T=o,M=r,j=!1,I=!1,N=0,P=e.length;N<P;N++){var D=(u=e[N]).$$start,V=u.$$end;if(D&&(C=ge(t,D,V)),f=void 0,g>u.priority)break;if((v=u.scope)&&(u.templateUrl||(L(v)?(Ce("new/isolated scope",$||m,u,C),$=u):Ce("new/isolated scope",$,u,C)),m=m||u),l=u.name,!j&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(var B,U=N+1;B=e[U++];)if(B.transclude&&!B.$$tlb||B.replace&&(B.templateUrl||B.template)){I=!0;break}j=!0}if(!u.templateUrl&&u.controller&&(_=_||Le(),Ce("'"+l+"' controller",_[l],u,C),_[l]=u),v=u.transclude)if(k=!0,u.$$tlb||(Ce("transclusion",w,u,C),w=u),"element"===v)O=!0,g=u.priority,f=C,C=n.$$element=p(ue.$$createComment(l,n[l])),t=C[0],Me(i,fe(f),t),f[0].$$parentNode=f[0].parentNode,M=_e(I,f,r,g,T&&T.name,{nonTlbTranscludeDirective:w});else{var q=Le();if(L(v)){f=[];var F=Le(),H=Le();for(var W in x(v,(function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,F[e]=t,q[t]=null,H[t]=n})),x(C.contents(),(function(e){var t=F[vn(re(e))];t?(H[t]=!0,q[t]=q[t]||[],q[t].push(e)):f.push(e)})),x(H,(function(e,t){if(!e)throw un("reqslot","Required transclusion slot `{0}` was not filled.",t)})),q)q[W]&&(q[W]=_e(I,q[W],r))}else f=p(lt(t)).contents();C.empty(),(M=_e(I,f,r,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope})).$$slots=q}if(u.template)if(S=!0,Ce("template",b,u,C),b=u,v=G(u.template)?u.template(C,n):u.template,v=ne(v),u.replace){if(T=u,f=ot(v)?[]:mn(Ae(u.templateNamespace,ee(v))),t=f[0],1!==f.length||1!==t.nodeType)throw un("tplrt","Template for directive '{0}' must have exactly one root element. {1}",l,"");Me(i,C,t);var J={$attr:{}},Y=ve(t,[],J),Z=e.splice(N+1,e.length-(N+1));($||m)&&we(Y,$,m),e=e.concat(Y).concat(Z),Se(n,J),P=e.length}else C.html(v);if(u.templateUrl)S=!0,Ce("template",b,u,C),b=u,u.replace&&(T=u),ie=Ee(e.splice(N,e.length-N),C,n,i,k&&M,a,s,{controllerDirectives:_,newScopeDirective:m!==u&&m,newIsolateScopeDirective:$,templateDirective:b,nonTlbTranscludeDirective:w}),P=e.length;else if(u.compile)try{d=u.compile(C,n,M);var Q=u.$$originalDirective||u;G(d)?te(null,de(Q,d),D,V):d&&te(de(Q,d.pre),de(Q,d.post),D,V)}catch(e){h(e,$e(C))}u.terminal&&(ie.terminal=!0,g=Math.max(g,u.priority))}return ie.scope=m&&!0===m.scope,ie.transcludeOnThisElement=k,ie.templateOnThisElement=S,ie.transclude=M,c.hasElementTranscludeDirective=O,ie;function te(e,t,n,r){e&&(n&&(e=me(e,n,r)),e.require=u.require,e.directiveName=l,($===u||u.$$isolateScope)&&(e=je(e,{isolateScope:!0})),a.push(e)),t&&(n&&(t=me(t,n,r)),t.require=u.require,t.directiveName=l,($===u||u.$$isolateScope)&&(t=je(t,{isolateScope:!0})),s.push(t))}function ie(e,r,i,o,c){var u,l,f,d,v,g,w,k,S,C;for(var T in t===i?(S=n,k=n.$$element):S=new K(k=p(i),n),v=r,$?d=r.$new(!0):m&&(v=r.$parent),c&&(w=function(e,t,n,r){var i;X(e)||(r=n,n=t,t=e,e=void 0);O&&(i=g);n||(n=O?k.parent():k);if(!r)return c(e,t,i,n,P);var o=c.$$slots[r];if(o)return o(e,t,i,n,P);if(R(o))throw un("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,$e(k))},w.$$boundTransclude=c,w.isSlotFilled=function(e){return!!c.$$slots[e]}),_&&(g=function(e,t,n,r,i,o,a){var s=Le();for(var c in r){var u=r[c],l={$scope:u===a||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},p=u.controller;"@"===p&&(p=t[u.name]);var f=E(p,l,!0,u.controllerAs);s[u.name]=f,e.data("$"+u.name+"Controller",f.instance)}return s}(k,S,w,_,d,r,$)),$&&(ue.$$addScopeInfo(k,d,!0,!(b&&(b===$||b===$.$$originalDirective))),ue.$$addScopeClass(k,!0),d.$$isolateBindings=$.$$isolateBindings,(C=Ve(r,S,d,d.$$isolateBindings,$)).removeWatches&&d.$on("$destroy",C.removeWatches)),g){var M=_[T],j=g[T],I=M.$$bindings.bindToController;if(y){j.bindingInfo=I?Ve(v,S,j.instance,I,M):{};var N=j();N!==j.instance&&(j.instance=N,k.data("$"+M.name+"Controller",N),j.bindingInfo.removeWatches&&j.bindingInfo.removeWatches(),j.bindingInfo=Ve(v,S,j.instance,I,M))}else j.instance=j(),k.data("$"+M.name+"Controller",j.instance),j.bindingInfo=Ve(v,S,j.instance,I,M)}for(x(_,(function(e,t){var n=e.require;e.bindToController&&!z(n)&&L(n)&&A(g[t].instance,be(t,n,k,g))})),x(g,(function(e){var t=e.instance;if(G(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){h(e)}if(G(t.$onInit))try{t.$onInit()}catch(e){h(e)}G(t.$doCheck)&&(v.$watch((function(){t.$doCheck()})),t.$doCheck()),G(t.$onDestroy)&&v.$on("$destroy",(function(){t.$onDestroy()}))})),u=0,l=a.length;u<l;u++)Ne(f=a[u],f.isolateScope?d:r,k,S,f.require&&be(f.directiveName,f.require,k,g),w);var P=r;for($&&($.template||null===$.templateUrl)&&(P=d),e&&e(P,i.childNodes,void 0,c),u=s.length-1;u>=0;u--)Ne(f=s[u],f.isolateScope?d:r,k,S,f.require&&be(f.directiveName,f.require,k,g),w);x(g,(function(e){var t=e.instance;G(t.$postLink)&&t.$postLink()}))}}function be(e,t,n,r){var i;if(q(t)){var o=t.match(f),a=t.substring(o[0].length),s=o[1]||o[3],c="?"===o[2];if("^^"===s?n=n.parent():i=(i=r&&r[a])&&i.instance,!i){var u="$"+a+"Controller";i=s?n.inheritedData(u):n.data(u)}if(!i&&!c)throw un("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(z(t)){i=[];for(var l=0,p=t.length;l<p;l++)i[l]=be(e,t[l],n,r)}else L(t)&&(i={},x(t,(function(t,o){i[o]=be(e,t,n,r)})));return i||null}function we(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=I(e[r],{$$isolateScope:t,$$newScope:n})}function xe(e,n,o,a,s,c,u){if(n===s)return null;var l=null;if(r.hasOwnProperty(n))for(var p,f=t.get(n+i),d=0,h=f.length;d<h;d++)if(p=f[d],(R(a)||a>p.priority)&&-1!==p.restrict.indexOf(o)){if(c&&(p=I(p,{$$start:c,$$end:u})),!p.$$bindings){var v=p.$$bindings=g(p,p.name);L(v.isolateScope)&&(p.$$isolateBindings=v.isolateScope)}e.push(p),l=p}return l}function ke(e){if(r.hasOwnProperty(e))for(var n=t.get(e+i),o=0,a=n.length;o<a;o++)if(n[o].multiElement)return!0;return!1}function Se(e,t){var n=t.$attr,r=e.$attr;x(e,(function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r.length?r+=("style"===i?";":" ")+t[i]:r=t[i]),e.$set(i,r,!0,n[i]))})),x(t,(function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))}))}function Ee(e,t,n,r,i,o,a,s){var c,u,l=[],f=t[0],d=e.shift(),g=I(d,{templateUrl:null,transclude:null,replace:null,$$originalDirective:d}),m=G(d.templateUrl)?d.templateUrl(t,n):d.templateUrl,_=d.templateNamespace;return t.empty(),v(m).then((function(h){var v,y,$,b;if(h=ne(h),d.replace){if($=ot(h)?[]:mn(Ae(_,ee(h))),v=$[0],1!==$.length||1!==v.nodeType)throw un("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d.name,m);y={$attr:{}},Me(r,t,v);var w=ve(v,[],y);L(d.scope)&&we(w,!0),e=w.concat(e),Se(n,y)}else v=f,t.html(h);for(e.unshift(g),c=ye(e,v,n,i,t,d,o,a,s),x(r,(function(e,n){e===v&&(r[n]=t[0])})),u=le(t[0].childNodes,i);l.length;){var k=l.shift(),S=l.shift(),E=l.shift(),O=l.shift(),C=t[0];if(!k.$$destroyed){if(S!==f){var A=S.className;s.hasElementTranscludeDirective&&d.replace||(C=lt(v)),Me(E,p(S),C),Z(p(C),A)}b=c.transcludeOnThisElement?he(k,c.transclude,O):O,c(u,k,C,r,b)}}l=null})).catch((function(e){W(e)&&h(e)})),function(e,t,n,r,i){var o=i;t.$$destroyed||(l?l.push(t,n,r,o):(c.transcludeOnThisElement&&(o=he(t,c.transclude,i)),c(u,t,n,r,o)))}}function Oe(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Ce(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw un("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,$e(r))}function Ae(t,n){switch(t=c(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Te(e,t,r,i,o){var a=function(e,t){if("srcdoc"===t)return C.HTML;var n=re(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return C.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return C.RESOURCE_URL}(e,i),s=!o,c=u[i]||o,l=n(r,s,a,c);if(l){if("multiple"===i&&"select"===re(e))throw un("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",$e(e));if(d.test(i))throw un("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=Le()),u=o[i];u!==r&&(l=u&&n(u,!0,a,c),r=u),l&&(o[i]=l(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(l,(function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)})))}}}})}}function Me(t,n,r){var i,o,a=n[0],s=n.length,c=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===a){t[i++]=r;for(var u=i,l=u+s-1,f=t.length;u<f;u++,l++)l<f?t[u]=t[l]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}c&&c.replaceChild(r,a);var d=e.document.createDocumentFragment();for(i=0;i<s;i++)d.appendChild(n[i]);for(p.hasData(a)&&(p.data(r,p.data(a)),p(a).off("$destroy")),p.cleanData(d.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function je(e,t){return A((function(){return e.apply(null,arguments)}),e,t)}function Ne(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){h(e,$e(n))}}function De(e,t){if($)throw un("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Ve(e,t,r,i,o){var a,c=[],u={};function l(t,n,i){G(r.$onChanges)&&!se(n,i)&&(j||(e.$$postDigest(J),j=[]),a||(a={},j.push(p)),a[t]&&(i=a[t].previousValue),a[t]=new fn(i,n))}function p(){r.$onChanges(a),a=void 0}return x(i,(function(i,a){var p,f,d,h,v,g=i.attrName,m=i.optional;switch(i.mode){case"@":m||s.call(t,g)||(De(g,o.name),r[a]=t[g]=void 0),v=t.$observe(g,(function(e){if(q(e)||Y(e)){var t=r[a];l(a,e,t),r[a]=e}})),t.$$observers[g].$$scope=e,q(p=t[g])?r[a]=n(p)(e):Y(p)&&(r[a]=p),u[a]=new fn(ln,r[a]),c.push(v);break;case"=":if(!s.call(t,g)){if(m)break;De(g,o.name),t[g]=void 0}if(m&&!t[g])break;f=S(t[g]),h=f.literal?ce:se,d=f.assign||function(){throw p=r[a]=f(e),un("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[g],g,o.name)},p=r[a]=f(e);var _=function(t){return h(t,r[a])||(h(t,p)?d(e,t=r[a]):r[a]=t),p=t};_.$stateful=!0,v=i.collection?e.$watchCollection(t[g],_):e.$watch(S(t[g],_),null,f.literal),c.push(v);break;case"<":if(!s.call(t,g)){if(m)break;De(g,o.name),t[g]=void 0}if(m&&!t[g])break;var y=(f=S(t[g])).literal,$=r[a]=f(e);u[a]=new fn(ln,r[a]),v=e.$watch(f,(function(e,t){if(t===e){if(t===$||y&&ce(t,$))return;t=$}l(a,e,t),r[a]=e}),y),c.push(v);break;case"&":if(m||s.call(t,g)||De(g,o.name),(f=t.hasOwnProperty(g)?S(t[g]):N)===N&&m)break;r[a]=function(t){return f(e,t)}}})),{initialChanges:u,removeWatches:c.length&&function(){for(var e=0,t=c.length;e<t;++e)c[e]()}}}}]}function fn(e,t){this.previousValue=e,this.currentValue=t}pn.$inject=["$provide","$$sanitizeUriProvider"],fn.prototype.isFirstChange=function(){return this.previousValue===ln};var dn=/^((?:x|data)[:\-_])/i,hn=/[:\-_]+(.)/g;function vn(e){return e.replace(dn,"").replace(hn,Ze)}function gn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function mn(e){var t=(e=p(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===qe&&""===n.nodeValue.trim())&&v.call(e,t,1)}return e}var _n=i("$controller"),yn=/^(\S+)(\s+as\s+([\w$]+))?$/;function $n(e,t){if(t&&q(t))return t;if(q(e)){var n=yn.exec(e);if(n)return n[3]}}function bn(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){Ve(t,"controller"),L(t)?A(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,r){return function(i,a,s,c){var u,l,p,f;if(s=!0===s,c&&q(c)&&(f=c),q(i)){if(!(l=i.match(yn)))throw _n("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);if(p=l[1],f=f||l[3],!(i=e.hasOwnProperty(p)?e[p]:Re(a.$scope,p,!0)||(t?Re(r,p,!0):void 0)))throw _n("ctrlreg","The controller with the name '{0}' is not registered.",p);De(i,p,!0)}if(s){var d=(z(i)?i[i.length-1]:i).prototype;return u=Object.create(d||null),f&&o(a,f,u,p||i.name),A((function(){var e=n.invoke(i,u,a,p);return e!==u&&(L(e)||G(e))&&(u=e,f&&o(a,f,u,p||i.name)),u}),{instance:u,identifier:f})}return u=n.instantiate(i,a,p),f&&o(a,f,u,p||i.name),u};function o(e,t,n,r){if(!e||!L(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function wn(){this.$get=["$window",function(e){return p(e.document)}]}function xn(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function i(){r=n.hidden}return e.on("visibilitychange",i),t.$on("$destroy",(function(){e.off("visibilitychange",i)})),function(){return r}}]}function kn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var Sn=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof p&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},En="application/json",On={"Content-Type":"application/json;charset=utf-8"},Cn=/^\[|^\{(?!\{)/,An={"[":/]$/,"{":/}$/},Tn=/^\)]\}',?\n/,Mn=i("$http");function jn(e){return L(e)?H(e)?e.toISOString():ve(e):e}function In(){this.$get=function(){return function(e){if(!e)return"";var t=[];return k(e,(function(e,n){null===e||R(e)||G(e)||(z(e)?x(e,(function(e){t.push(Se(n)+"="+Se(jn(e)))})):t.push(Se(n)+"="+Se(jn(e))))})),t.join("&")}}}function Nn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,r,i){if(null===n||R(n))return;z(n)?x(n,(function(t,n){e(t,r+"["+(L(t)?n:"")+"]")})):L(n)&&!H(n)?k(n,(function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))})):t.push(Se(r)+"="+Se(jn(n)))}(e,"",!0),t.join("&")}}}function Pn(e,t){if(q(e)){var n=e.replace(Tn,"").trim();if(n){var r=t("Content-Type"),i=r&&0===r.indexOf(En);if(i||(a=(o=n).match(Cn))&&An[a[0]].test(o))try{e=ge(n)}catch(t){if(!i)return e;throw Mn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var o,a;return e}function Dn(e){var t,n=Le();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return q(e)?x(e.split("\n"),(function(e){t=e.indexOf(":"),r(c(ee(e.substr(0,t))),ee(e.substr(t+1)))})):L(e)&&x(e,(function(e,t){r(c(t),ee(e))})),n}function Vn(e){var t;return function(n){if(t||(t=Dn(e)),n){var r=t[c(n)];return void 0===r&&(r=null),r}return t}}function Rn(e,t,n,r){return G(r)?r(e,t,n):(x(r,(function(r){e=r(e,t,n)})),e)}function Bn(e){return 200<=e&&e<300}function Ln(){var e=this.defaults={transformResponse:[Pn],transformRequest:[function(e){return!L(e)||(t=e,"[object File]"===m.call(t))||function(e){return"[object Blob]"===m.call(e)}(e)||function(e){return"[object FormData]"===m.call(e)}(e)?e:ve(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Fe(On),put:Fe(On),patch:Fe(On)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return B(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,o,a,s,l,p,f,d){var h=s("$http");e.paramSerializer=q(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var v=[];function g(n){if(!L(n))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!q(d.valueOf(n.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var s=A({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);s.headers=function(t){var n,r,i,o=e.headers,a=A({},t.headers);o=A({},o.common,o[c(t.method)]);e:for(n in o){for(i in r=c(n),a)if(c(i)===r)continue e;a[n]=o[n]}return function(e,t){var n,r={};return x(e,(function(e,i){G(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e})),r}(a,Fe(t))}(n),s.method=u(s.method),s.paramSerializer=q(s.paramSerializer)?f.get(s.paramSerializer):s.paramSerializer,r.$$incOutstandingRequestCount();var m=[],_=[],y=p.resolve(s);return x(v,(function(e){(e.request||e.requestError)&&m.unshift(e.request,e.requestError),(e.response||e.responseError)&&_.push(e.response,e.responseError)})),y=(y=$(y,m)).then((function(n){var r=n.headers,i=Rn(n.data,Vn(r),void 0,n.transformRequest);R(i)&&x(r,(function(e,t){"content-type"===c(t)&&delete r[t]}));R(n.withCredentials)&&!R(e.withCredentials)&&(n.withCredentials=e.withCredentials);return function(n,r){var i,s,u=p.defer(),f=u.promise,v=n.headers,m="jsonp"===c(n.method),_=n.url;m?_=d.getTrustedResourceUrl(_):q(_)||(_=d.valueOf(_));_=function(e,t){t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(_,n.paramSerializer(n.params)),m&&(_=function(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw Mn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(new RegExp("[&?]"+t+"=").test(e))throw Mn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(_,n.jsonpCallbackParam));g.pendingRequests.push(n),f.then(S,S),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=L(n.cache)?n.cache:L(e.cache)?e.cache:h);i&&(B(s=i.get(_))?Z(s)?s.then(k,k):z(s)?w(s[1],s[0],Fe(s[2]),s[3],s[4]):w(s,200,{},"OK","complete"):i.put(_,f));if(R(s)){var y=ei(n.url)?a()[n.xsrfCookieName||e.xsrfCookieName]:void 0;y&&(v[n.xsrfHeaderName||e.xsrfHeaderName]=y),o(n.method,_,r,b,v,n.timeout,n.withCredentials,n.responseType,$(n.eventHandlers),$(n.uploadEventHandlers))}return f;function $(e){if(e){var n={};return x(e,(function(e,r){n[r]=function(n){function r(){e(n)}t?l.$applyAsync(r):l.$$phase?r():l.$apply(r)}})),n}}function b(e,n,r,o,a){function s(){w(n,e,r,o,a)}i&&(Bn(e)?i.put(_,[e,n,Dn(r),o,a]):i.remove(_)),t?l.$applyAsync(s):(s(),l.$$phase||l.$apply())}function w(e,t,r,i,o){(Bn(t=t>=-1?t:0)?u.resolve:u.reject)({data:e,status:t,headers:Vn(r),config:n,statusText:i,xhrStatus:o})}function k(e){w(e.data,e.status,Fe(e.headers()),e.statusText,e.xhrStatus)}function S(){var e=g.pendingRequests.indexOf(n);-1!==e&&g.pendingRequests.splice(e,1)}}(n,i).then(b,b)})),y=(y=$(y,_)).finally((function(){r.$$completeOutstandingRequest(N)}));function $(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function b(e){var t=A({},e);return t.data=Rn(e.data,e.headers,e.status,s.transformResponse),Bn(e.status)?t:p.reject(t)}}return x(n,(function(e){v.unshift(q(e)?f.get(e):f.invoke(e))})),g.pendingRequests=[],function(e){x(arguments,(function(e){g[e]=function(t,n){return g(A({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){x(arguments,(function(e){g[e]=function(t,n,r){return g(A({},r||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),g.defaults=e,g}]}function Un(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function qn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return function(e,t,n,r,i){return function(i,a,s,u,l,p,f,d,h,v){if(a=a||e.url(),"jsonp"===c(i))var g=r.createCallback(a),m=o(a,g,(function(e,t){var n=200===e&&r.getResponse(g);S(u,e,n,"",t,"complete"),r.removeCallback(g)}));else{var _=t(i,a);_.open(i,a,!0),x(l,(function(e,t){B(e)&&_.setRequestHeader(t,e)})),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"===Qr(a).protocol?404:0),S(u,n,t,_.getAllResponseHeaders(),e,"complete")};var y=function(){S(u,-1,null,null,"","error")},$=function(){S(u,-1,null,null,"","abort")},b=function(){S(u,-1,null,null,"","timeout")};if(_.onerror=y,_.onabort=$,_.ontimeout=b,x(h,(function(e,t){_.addEventListener(t,e)})),x(v,(function(e,t){_.upload.addEventListener(t,e)})),f&&(_.withCredentials=!0),d)try{_.responseType=d}catch(e){if("json"!==d)throw e}_.send(R(s)?null:s)}if(p>0)var w=n(k,p);else Z(p)&&p.then(k);function k(){m&&m(),_&&_.abort()}function S(e,t,r,i,o,a){B(w)&&n.cancel(w),m=_=null,e(t,r,i,o,a)}};function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,c="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}}(e,r,e.defer,t,n[0])}]}var Fn=$.$interpolateMinErr=i("$interpolate");function Hn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,u),"g"),c=new RegExp(t.replace(/./g,u),"g");function u(e){return"\\\\\\"+e}function l(n){return n.replace(s,e).replace(c,t)}function p(e,t,n,r){var i=e.$watch((function(e){return i(),r(e)}),t,n);return i}function f(s,c,u,f){if(!s.length||-1===s.indexOf(e)){var d;if(!c)(d=D(l(s))).exp=s,d.expressions=[],d.$$watchDelegate=p;return d}f=!!f;for(var h,v,g,m=0,_=[],y=[],$=s.length,b=[],w=[];m<$;){if(-1===(h=s.indexOf(e,m))||-1===(v=s.indexOf(t,h+o))){m!==$&&b.push(l(s.substring(m)));break}m!==h&&b.push(l(s.substring(m,h))),g=s.substring(h+o,v),_.push(g),y.push(n(g,S)),m=v+a,w.push(b.length),b.push("")}if(u&&b.length>1&&Fn.throwNoconcat(s),!c||_.length){var x=function(e){for(var t=0,n=_.length;t<n;t++){if(f&&R(e[t]))return;b[w[t]]=e[t]}return b.join("")},k=function(e){return u?i.getTrusted(u,e):i.valueOf(e)};return A((function(e){var t=0,n=_.length,i=new Array(n);try{for(;t<n;t++)i[t]=y[t](e);return x(i)}catch(e){r(Fn.interr(s,e))}}),{exp:s,expressions:_,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,(function(r,i){var o=x(r);G(t)&&t.call(this,o,r!==i?n:o,e),n=o}))}})}function S(e){try{return e=k(e),f&&!B(e)?e:Ue(e)}catch(e){r(Fn.interr(s,e))}}}return f.startSymbol=function(){return e},f.endSymbol=function(){return t},f}]}function zn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){var o={};function a(a,s,c,u){var l=arguments.length>4,p=l?fe(arguments,4):[],f=t.setInterval,d=t.clearInterval,h=0,v=B(u)&&!u,g=(v?r:n).defer(),m=g.promise;return c=B(c)?c:0,m.$$intervalId=f((function(){v?i.defer(_):e.$evalAsync(_),g.notify(h++),c>0&&h>=c&&(g.resolve(h),d(m.$$intervalId),delete o[m.$$intervalId]),v||e.$apply()}),s),o[m.$$intervalId]=g,m;function _(){l?a.apply(null,p):a(h)}}return a.cancel=function(e){return!(!e||!(e.$$intervalId in o))&&(Pr(o[e.$$intervalId].promise),o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},a}]}Fn.throwNoconcat=function(e){throw Fn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Fn.interr=function(e,t){return Fn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Wn=function(){this.$get=function(){var e=$.callbacks,t={};return{createCallback:function(n){var r="_"+(e.$$counter++).toString(36),i="angular.callbacks."+r,o=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(r);return t[i]=e[r]=o,i},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var r=t[n];delete e[r.id],delete t[n]}}}},Gn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Jn={http:80,https:443,ftp:21},Kn=i("$location");function Xn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ke(t[n]);return t.join("/")}function Yn(e,t){var n=Qr(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=M(n.port)||Jn[n.protocol]||null}var Zn=/^\s*[\\/]{2,}/;function Qn(e,t){if(Zn.test(e))throw Kn("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Qr(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=we(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function er(e,t){return e.slice(0,t.length)===t}function tr(e,t){if(er(t,e))return t.substr(e.length)}function nr(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function rr(e){return e.replace(/(#.+)|#$/,"$1")}function ir(e,t,n){this.$$html5=!0,n=n||"",Yn(e,this),this.$$parse=function(e){var n=tr(t,e);if(!q(n))throw Kn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Qn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=xe(this.$$search),n=this.$$hash?"#"+ke(this.$$hash):"";this.$$url=Xn(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(B(o=tr(e,r))?(a=o,s=n&&B(o=tr(n,o))?t+(tr("/",o)||o):e+a):B(o=tr(t,r))?s=t+o:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s);var o,a,s}}function or(e,t,n){Yn(e,this),this.$$parse=function(r){var i,o=tr(e,r)||tr(t,r);R(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",R(o)&&(e=r,this.replace())):R(i=tr(n,o))&&(i=o),Qn(i,this),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;er(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(r=i.exec(e))?r[1]:e}(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=xe(this.$$search),r=this.$$hash?"#"+ke(this.$$hash):"";this.$$url=Xn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return nr(e)===nr(t)&&(this.$$parse(t),!0)}}function ar(e,t,n){this.$$html5=!0,or.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e===nr(r)?o=r:(a=tr(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,a},this.$$compose=function(){var t=xe(this.$$search),r=this.$$hash?"#"+ke(this.$$hash):"";this.$$url=Xn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}var sr={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:cr("$$absUrl"),url:function(e){if(R(e))return this.$$url;var t=Gn.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:cr("$$protocol"),host:cr("$$host"),port:cr("$$port"),path:ur("$$path",(function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(q(e)||F(e))e=e.toString(),this.$$search=we(e);else{if(!L(e))throw Kn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");x(e=ae(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:R(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:ur("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function cr(e){return function(){return this[e]}}function ur(e,t){return function(n){return R(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function lr(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return B(t)?(e=t,this):e},this.html5Mode=function(e){return Y(e)?(t.enabled=e,this):L(e)?(Y(e.enabled)&&(t.enabled=e.enabled),Y(e.requireBase)&&(t.requireBase=e.requireBase),(Y(e.rewriteLinks)||q(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){var s,c,u,l,f=r.baseHref(),d=r.url();if(t.enabled){if(!f&&t.requireBase)throw Kn("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=(l=d).substring(0,l.indexOf("/",l.indexOf("//")+2))+(f||"/"),c=i.history?ir:ar}else u=nr(d),c=or;var h=function(e){return e.substr(0,nr(e).lastIndexOf("/")+1)}(u);(s=new c(u,h,"#"+e)).$$parseLinkUrl(d,d),s.$$state=r.state();var v=/^\s*(javascript|mailto):/i;function g(e,t,n){var i=s.url(),o=s.$$state;try{r.url(e,t,n),s.$$state=r.state()}catch(e){throw s.url(i),s.$$state=o,e}}o.on("click",(function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var c=p(e.target);"a"!==re(c[0]);)if(c[0]===o[0]||!(c=c.parent())[0])return;if(!q(i)||!R(c.attr(i))){var u=c.prop("href"),l=c.attr("href")||c.attr("xlink:href");L(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=Qr(u.animVal).href),v.test(u)||!u||c.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(u,l)&&(e.preventDefault(),s.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}})),rr(s.absUrl())!==rr(d)&&r.url(s.absUrl(),!0);var m=!0;return r.onUrlChange((function(e,t){er(e,h)?(n.$evalAsync((function(){var r,i=s.absUrl(),o=s.$$state;e=rr(e),s.$$parse(e),s.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,s.absUrl()===e&&(r?(s.$$parse(i),s.$$state=o,g(i,!1,o)):(m=!1,_(i,o)))})),n.$$phase||n.$digest()):a.location.href=e})),n.$watch((function(){if(m||s.$$urlUpdatedByLocation){s.$$urlUpdatedByLocation=!1;var e=rr(r.url()),t=rr(s.absUrl()),o=r.state(),a=s.$$replace,c=e!==t||s.$$html5&&i.history&&o!==s.$$state;(m||c)&&(m=!1,n.$evalAsync((function(){var t=s.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,s.$$state,o).defaultPrevented;s.absUrl()===t&&(r?(s.$$parse(e),s.$$state=o):(c&&g(t,a,o===s.$$state?null:s.$$state),_(e,o)))})))}s.$$replace=!1})),s;function _(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}}]}function pr(){var e=!0,t=this;this.debugEnabled=function(t){return B(t)?(e=t,this):e},this.$get=["$window",function(n){var r,i=l||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:(r=a("debug"),function(){e&&r.apply(t,arguments)})};function o(e){return W(e)&&(e.stack&&i?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function a(e){var t=n.console||{},r=t[e]||t.log||N;return function(){var e=[];return x(arguments,(function(t){e.push(o(t))})),Function.prototype.apply.call(r,t,e)}}}]}x([ar,or,ir],(function(e){e.prototype=Object.create(sr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==ir||!this.$$html5)throw Kn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=R(t)?null:t,this.$$urlUpdatedByLocation=!0,this}}));var fr=i("$parse"),dr={}.constructor.prototype.valueOf;function hr(e){return e+""}var vr=Le();x("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){vr[e]=!0}));var gr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},mr=function(e){this.options=e};mr.prototype={constructor:mr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=vr[t],o=vr[n],a=vr[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=B(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw fr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=c(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=gr[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var _r=function(e,t){this.lexer=e,this.options=t};function yr(e,t){return void 0!==e?e:t}function $r(e,t){return void 0===e?t:void 0===t?e:e+t}_r.Program="Program",_r.ExpressionStatement="ExpressionStatement",_r.AssignmentExpression="AssignmentExpression",_r.ConditionalExpression="ConditionalExpression",_r.LogicalExpression="LogicalExpression",_r.BinaryExpression="BinaryExpression",_r.UnaryExpression="UnaryExpression",_r.CallExpression="CallExpression",_r.MemberExpression="MemberExpression",_r.Identifier="Identifier",_r.Literal="Literal",_r.ArrayExpression="ArrayExpression",_r.Property="Property",_r.ObjectExpression="ObjectExpression",_r.ThisExpression="ThisExpression",_r.LocalsExpression="LocalsExpression",_r.NGValueParameter="NGValueParameter",_r.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:_r.Program,body:e}},expressionStatement:function(){return{type:_r.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!xr(e))throw fr("lval","Trying to assign a value to a non l-value");e={type:_r.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:_r.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:_r.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:_r.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:_r.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:_r.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:_r.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:_r.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:_r.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=ae(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:_r.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:_r.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:_r.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:_r.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:_r.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:_r.Identifier,name:e.text}},constant:function(){return{type:_r.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_r.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:_r.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:_r.ObjectExpression,properties:t}},throwError:function(e,t){throw fr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw fr("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw fr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:_r.ThisExpression},$locals:{type:_r.LocalsExpression}}};function br(e,t,n){var r,i,o,a=e.isPure=function(e,t){switch(e.type){case _r.MemberExpression:if(e.computed)return!1;break;case _r.UnaryExpression:return 1;case _r.BinaryExpression:return"+"!==e.operator&&1;case _r.CallExpression:return!1}return void 0===t?2:t}(e,n);switch(e.type){case _r.Program:r=!0,x(e.body,(function(e){br(e.expression,t,a),r=r&&e.expression.constant})),e.constant=r;break;case _r.Literal:e.constant=!0,e.toWatch=[];break;case _r.UnaryExpression:br(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case _r.BinaryExpression:br(e.left,t,a),br(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case _r.LogicalExpression:br(e.left,t,a),br(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case _r.ConditionalExpression:br(e.test,t,a),br(e.alternate,t,a),br(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case _r.Identifier:e.constant=!1,e.toWatch=[e];break;case _r.MemberExpression:br(e.object,t,a),e.computed&&br(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case _r.CallExpression:o=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),r=o,i=[],x(e.arguments,(function(e){br(e,t,a),r=r&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=r,e.toWatch=o?i:[e];break;case _r.AssignmentExpression:br(e.left,t,a),br(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case _r.ArrayExpression:r=!0,i=[],x(e.elements,(function(e){br(e,t,a),r=r&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=r,e.toWatch=i;break;case _r.ObjectExpression:r=!0,i=[],x(e.properties,(function(e){br(e.value,t,a),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(br(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))})),e.constant=r,e.toWatch=i;break;case _r.ThisExpression:case _r.LocalsExpression:e.constant=!1,e.toWatch=[]}}function wr(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function xr(e){return e.type===_r.Identifier||e.type===_r.MemberExpression}function kr(e){if(1===e.body.length&&xr(e.body[0].expression))return{type:_r.AssignmentExpression,left:e.body[0].expression,right:{type:_r.NGValueParameter},operator:"="}}function Sr(e){this.$filter=e}function Er(e){this.$filter=e}function Or(e,t,n){this.ast=new _r(e,n),this.astCompiler=n.csp?new Er(t):new Sr(t)}function Cr(e){return G(e.valueOf)?e.valueOf():dr.call(e)}function Ar(){var e,t,n=Le(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){var o={csp:ue().noUnsafeEval,literals:ae(r),isIdentifierStart:G(e)&&e,isIdentifierContinue:G(t)&&t};return function(e,t){var r,a,f;switch(typeof e){case"string":if(e=e.trim(),!(r=n[f=e])){":"===e.charAt(0)&&":"===e.charAt(1)&&(a=!0,e=e.substring(2));var d=new Or(new mr(o),i,o);(r=d.parse(e)).constant?r.$$watchDelegate=l:a?r.$$watchDelegate=r.literal?u:c:r.inputs&&(r.$$watchDelegate=s),n[f]=r}return p(r,t);case"function":return p(e,t);default:return p(N,t)}};function a(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Cr(e))&&!n)&&(e===t||e!=e&&t!=t)}function s(e,t,n,r,i){var o,s=r.inputs;if(1===s.length){var c=a;return s=s[0],e.$watch((function(e){var t=s(e);return a(t,c,s.isPure)||(o=r(e,void 0,void 0,[t]),c=t&&Cr(t)),o}),t,n,i)}for(var u=[],l=[],p=0,f=s.length;p<f;p++)u[p]=a,l[p]=null;return e.$watch((function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var c=s[n](e);(t||(t=!a(c,u[n],s[n].isPure)))&&(l[n]=c,u[n]=c&&Cr(c))}return t&&(o=r(e,void 0,void 0,l)),o}),t,n,i)}function c(e,t,n,r,i){var o,a;return o=r.inputs?s(e,c,n,r,i):e.$watch((function(e){return r(e)}),c,n);function c(e,n,r){a=e,G(t)&&t(e,n,r),B(e)&&r.$$postDigest((function(){B(a)&&o()}))}}function u(e,t,n,r){var i,o;return i=e.$watch((function(e){return r(e)}),(function(e,n,r){o=e,G(t)&&t(e,n,r),a(e)&&r.$$postDigest((function(){a(o)&&i()}))}),n),i;function a(e){var t=!0;return x(e,(function(e){B(e)||(t=!1)})),t}}function l(e,t,n,r){var i=e.$watch((function(e){return i(),r(e)}),t,n);return i}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==u&&n!==c?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return B(a)?s:a};return r=!e.inputs,n&&n!==s?(i.$$watchDelegate=n,i.inputs=e.inputs):t.$stateful||(i.$$watchDelegate=s,i.inputs=e.inputs?e.inputs:[e]),i.inputs&&(i.inputs=i.inputs.map((function(e){return 2===e.isPure?function(t){return e(t)}:e}))),i}}]}function Tr(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return jr((function(e){t.$evalAsync(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return B(t)?(e=t,this):e}}function Mr(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return jr((function(e){t.defer(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return B(t)?(e=t,this):e}}function jr(e,t,n){var r=i("$q",TypeError),o=0,a=[];function s(){return new c}function c(){var e=this.promise=new u;this.resolve=function(t){f(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){g(e,t)}}function u(){this.$$state={status:0}}function l(){for(;!o&&a.length;){var e=a.shift();if(!Ir(e)){Nr(e);var n="Possibly unhandled rejection: "+He(e.value);W(e.value)?t(e.value,n):t(n)}}}function p(t){!n||t.pending||2!==t.status||Ir(t)||(0===o&&0===a.length&&e(l),a.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++o,e((function(){!function(t){var r,i,a;a=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var s=0,c=a.length;s<c;++s){Nr(t),i=a[s][0],r=a[s][t.status];try{G(r)?f(i,r(t.value)):1===t.status?f(i,t.value):h(i,t.value)}catch(e){h(i,e)}}}finally{--o,n&&0===o&&e(l)}}(t)})))}function f(e,t){e.$$state.status||(t===e?v(e,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):d(e,t))}function d(e,t){var n,r=!1;try{(L(t)||G(t))&&(n=t.then),G(n)?(e.$$state.status=-1,n.call(t,(function(t){if(r)return;r=!0,d(e,t)}),i,(function(t){g(e,t)}))):(e.$$state.value=t,e.$$state.status=1,p(e.$$state))}catch(e){i(e)}function i(t){r||(r=!0,v(e,t))}}function h(e,t){e.$$state.status||v(e,t)}function v(e,t){e.$$state.value=t,e.$$state.status=2,p(e.$$state)}function g(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&e((function(){for(var e,n,o=0,a=i.length;o<a;o++){n=i[o][0],e=i[o][3];try{g(n,G(e)?e(r):r)}catch(e){t(e)}}}))}function m(e){var t=new u;return h(t,e),t}function _(e,t,n){var r=null;try{G(n)&&(r=n())}catch(e){return m(e)}return Z(r)?r.then((function(){return t(e)}),m):t(e)}function y(e,t,n,r){var i=new u;return f(i,e),i.then(t,n,r)}A(u.prototype,{then:function(e,t,n){if(R(e)&&R(t)&&R(n))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&p(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return _(t,$,e)}),(function(t){return _(t,m,e)}),t)}});var $=y;function b(e){if(!G(e))throw r("norslvr","Expected resolverFn, got '{0}'",e);var t=new u;return e((function(e){f(t,e)}),(function(e){h(t,e)})),t}return b.prototype=u.prototype,b.defer=s,b.reject=m,b.when=y,b.resolve=$,b.all=function(e){var t=new u,n=0,r=z(e)?[]:{};return x(e,(function(e,i){n++,y(e).then((function(e){r[i]=e,--n||f(t,r)}),(function(e){h(t,e)}))})),0===n&&f(t,r),t},b.race=function(e){var t=s();return x(e,(function(e){y(e).then(t.resolve,t.reject)})),t.promise},b}function Ir(e){return!!e.pur}function Nr(e){e.pur=!0}function Pr(e){Nr(e.$$state)}function Dr(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function Vr(){var e=10,t=i("$rootScope"),n=null,r=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(i,o,a){function c(e){e.currentScope.$$destroyed=!0}function u(e){9===l&&(e.$$childHead&&u(e.$$childHead),e.$$nextSibling&&u(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=E(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}p.prototype={constructor:p,$new:function(e,t){var n;return t=t||this,e?(n=new p).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=E(),this.$$ChildScope=null}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",c),n},$watch:function(e,t,r,i){var a=o(e);if(a.$$watchDelegate)return a.$$watchDelegate(this,t,r,a,e);var s=this,c=s.$$watchers,u={fn:t,last:b,get:a,exp:i||e,eq:!!r};return n=null,G(t)||(u.fn=N),c||((c=s.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(u),c.$$digestWatchIndex++,y(this,1),function(){var e=oe(c,u);e>=0&&(y(s,-1),e<c.$$digestWatchIndex&&c.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),r=new Array(e.length),i=[],o=this,a=!1,s=!0;if(!e.length){var c=!0;return o.$evalAsync((function(){c&&t(r,r,o)})),function(){c=!1}}if(1===e.length)return this.$watch(e[0],(function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)}));function u(){a=!1,s?(s=!1,t(r,r,o)):t(r,n,o)}return x(e,(function(e,t){var s=o.$watch(e,(function(e,i){r[t]=e,n[t]=i,a||(a=!0,o.$evalAsync(u))}));i.push(s)})),function(){for(;i.length;)i.shift()()}},$watchCollection:function(e,t){v.$stateful=!0;var n,r,i,a=this,c=t.length>1,u=0,l=o(e,v),p=[],f={},d=!0,h=0;function v(e){var t,i,o,a;if(!R(n=e)){if(L(n))if(w(n)){r!==p&&(h=(r=p).length=0,u++),t=n.length,h!==t&&(u++,r.length=h=t);for(var c=0;c<t;c++)a=r[c],o=n[c],a!=a&&o!=o||a===o||(u++,r[c]=o)}else{for(i in r!==f&&(r=f={},h=0,u++),t=0,n)s.call(n,i)&&(t++,o=n[i],a=r[i],i in r?a!=a&&o!=o||a===o||(u++,r[i]=o):(h++,r[i]=o,u++));if(h>t)for(i in u++,r)s.call(n,i)||(h--,delete r[i])}else r!==n&&(r=n,u++);return u}}return this.$watch(l,(function(){if(d?(d=!1,t(n,n,a)):t(n,i,a),c)if(L(n))if(w(n)){i=new Array(n.length);for(var e=0;e<n.length;e++)i[e]=n[e]}else for(var r in i={},n)s.call(n,r)&&(i[r]=n[r]);else i=n}))},$digest:function(){var o,s,c,u,l,p,v,y,$,w=e,x=this,S=[];m("$digest"),a.$$checkUrlChange(),this===f&&null!==r&&(a.defer.cancel(r),k()),n=null;do{l=!1,v=x;for(var E=0;E<d.length;E++){try{(0,($=d[E]).fn)($.scope,$.locals)}catch(e){i(e)}n=null}d.length=0;e:do{if(u=v.$$watchers)for(u.$$digestWatchIndex=u.length;u.$$digestWatchIndex--;)try{if(o=u[u.$$digestWatchIndex])if((s=(0,o.get)(v))===(c=o.last)||(o.eq?ce(s,c):j(s)&&j(c))){if(o===n){l=!1;break e}}else l=!0,n=o,o.last=o.eq?ae(s,null):s,(0,o.fn)(s,c===b?s:c,v),w<5&&(S[y=4-w]||(S[y]=[]),S[y].push({msg:G(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:s,oldVal:c}))}catch(e){i(e)}if(!(p=v.$$watchersCount&&v.$$childHead||v!==x&&v.$$nextSibling))for(;v!==x&&!(p=v.$$nextSibling);)v=v.$parent}while(v=p);if((l||d.length)&&!w--)throw _(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,S)}while(l||d.length);for(_();g<h.length;)try{h[g++]()}catch(e){i(e)}h.length=g=0,a.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===f&&a.$$applicationDestroyed(),y(this,-this.$$watchersCount),this.$$listenerCount)$(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=N,this.$on=this.$watch=this.$watchGroup=function(){return N},this.$$listeners={},this.$$nextSibling=null,u(this)}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e,t){f.$$phase||d.length||a.defer((function(){d.length&&f.$digest()})),d.push({scope:this,fn:o(e),locals:t})},$$postDigest:function(e){h.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{_()}}catch(e){i(e)}finally{try{f.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){var t=this;e&&v.push((function(){t.$eval(e)})),e=o(e),null===r&&(r=a.defer((function(){f.$apply(k)})))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,$(i,1,e))}},$emit:function(e,t){var n,r,o,a=[],s=this,c=!1,u={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=pe([u],arguments,1);do{for(n=s.$$listeners[e]||a,u.currentScope=s,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,l)}catch(e){i(e)}else n.splice(r,1),r--,o--;if(c)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,r=n,o=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,c,u,l=pe([a],arguments,1);r=o;){for(a.currentScope=r,c=0,u=(s=r.$$listeners[e]||[]).length;c<u;c++)if(s[c])try{s[c].apply(null,l)}catch(e){i(e)}else s.splice(c,1),c--,u--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var f=new p,d=f.$$asyncQueue=[],h=f.$$postDigestQueue=[],v=f.$$applyAsyncQueue=[],g=0;return f;function m(e){if(f.$$phase)throw t("inprog","{0} already in progress",f.$$phase);f.$$phase=e}function _(){f.$$phase=null}function y(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function $(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function b(){}function k(){for(;v.length;)try{v.shift()()}catch(e){i(e)}r=null}}]}function Rr(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return B(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return B(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return""===(i=Qr(n).href)||i.match(o)?n:"unsafe:"+i}}}Sr.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},br(e,t.$filter);var n,r="";if(this.stage="assign",n=kr(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var o=wr(e.body);t.stage="inputs",x(o,(function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:r,isPure:e.isPure}),e.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(e);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,hr,yr,$r);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return x(t,(function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")})),t.length&&e.push("fn.inputs=["+t.map((function(e){return e.name})).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return x(this.state.filters,(function(n,r){e.push(n+"=$filter("+t.escape(r)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var a,s,c,u,l,p=this;if(r=r||N,!o&&B(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case _r.Program:x(e.body,(function(t,n){p.recurse(t.expression,void 0,void 0,(function(e){s=e})),n!==e.body.length-1?p.current().body.push(s,";"):p.return_(s)}));break;case _r.Literal:u=this.escape(e.value),this.assign(t,u),r(t||u);break;case _r.UnaryExpression:this.recurse(e.argument,void 0,void 0,(function(e){s=e})),u=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,u),r(u);break;case _r.BinaryExpression:this.recurse(e.left,void 0,void 0,(function(e){a=e})),this.recurse(e.right,void 0,void 0,(function(e){s=e})),u="+"===e.operator?this.plus(a,s):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):"("+a+")"+e.operator+"("+s+")",this.assign(t,u),r(u);break;case _r.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case _r.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case _r.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),(function(){p.if_("inputs"===p.stage||"s",(function(){i&&1!==i&&p.if_(p.isNull(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))}))}),t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),r(t);break;case _r.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,a,void 0,(function(){p.if_(p.notNull(a),(function(){e.computed?(s=p.nextId(),p.recurse(e.property,s),p.getStringValue(s),i&&1!==i&&p.if_(p.not(p.computedMember(a,s)),p.lazyAssign(p.computedMember(a,s),"{}")),u=p.computedMember(a,s),p.assign(t,u),n&&(n.computed=!0,n.name=s)):(i&&1!==i&&p.if_(p.isNull(p.nonComputedMember(a,e.property.name)),p.lazyAssign(p.nonComputedMember(a,e.property.name),"{}")),u=p.nonComputedMember(a,e.property.name),p.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))}),(function(){p.assign(t,"undefined")})),r(t)}),!!i);break;case _r.CallExpression:t=t||this.nextId(),e.filter?(s=p.filter(e.callee.name),c=[],x(e.arguments,(function(e){var t=p.nextId();p.recurse(e,t),c.push(t)})),u=s+"("+c.join(",")+")",p.assign(t,u),r(t)):(s=p.nextId(),a={},c=[],p.recurse(e.callee,s,a,(function(){p.if_(p.notNull(s),(function(){x(e.arguments,(function(t){p.recurse(t,e.constant?void 0:p.nextId(),void 0,(function(e){c.push(e)}))})),u=a.name?p.member(a.context,a.name,a.computed)+"("+c.join(",")+")":s+"("+c.join(",")+")",p.assign(t,u)}),(function(){p.assign(t,"undefined")})),r(t)})));break;case _r.AssignmentExpression:s=this.nextId(),a={},this.recurse(e.left,void 0,a,(function(){p.if_(p.notNull(a.context),(function(){p.recurse(e.right,s),u=p.member(a.context,a.name,a.computed)+e.operator+s,p.assign(t,u),r(t||u)}))}),1);break;case _r.ArrayExpression:c=[],x(e.elements,(function(t){p.recurse(t,e.constant?void 0:p.nextId(),void 0,(function(e){c.push(e)}))})),u="["+c.join(",")+"]",this.assign(t,u),r(t||u);break;case _r.ObjectExpression:c=[],l=!1,x(e.properties,(function(e){e.computed&&(l=!0)})),l?(t=t||this.nextId(),this.assign(t,"{}"),x(e.properties,(function(e){e.computed?(a=p.nextId(),p.recurse(e.key,a)):a=e.key.type===_r.Identifier?e.key.name:""+e.key.value,s=p.nextId(),p.recurse(e.value,s),p.assign(p.member(t,a,e.computed),s)}))):(x(e.properties,(function(t){p.recurse(t.value,e.constant?void 0:p.nextId(),void 0,(function(e){c.push(p.escape(t.key.type===_r.Identifier?t.key.name:""+t.key.value)+":"+e)}))})),u="{"+c.join(",")+"}",this.assign(t,u)),r(t||u);break;case _r.ThisExpression:this.assign(t,"s"),r(t||"s");break;case _r.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case _r.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(q(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(F(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw fr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Er.prototype={compile:function(e){var t,n,r=this;br(e,r.$filter),(t=kr(e))&&(n=this.recurse(t));var i,o=wr(e.body);o&&(i=[],x(o,(function(e,t){var n=r.recurse(e);n.isPure=e.isPure,e.input=n,i.push(n),e.watchId=t})));var a=[];x(e.body,(function(e){a.push(r.recurse(e.expression))}));var s=0===e.body.length?N:1===e.body.length?a[0]:function(e,t){var n;return x(a,(function(r){n=r(e,t)})),n};return n&&(s.assign=function(e,t,r){return n(e,r,t)}),i&&(s.inputs=i),s},recurse:function(e,t,n){var r,i,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case _r.Literal:return this.value(e.value,t);case _r.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case _r.BinaryExpression:case _r.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case _r.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case _r.Identifier:return a.identifier(e.name,t,n);case _r.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case _r.CallExpression:return o=[],x(e.arguments,(function(e){o.push(a.recurse(e))})),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,a){for(var s=[],c=0;c<o.length;++c)s.push(o[c](e,n,r,a));var u=i.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,a){var s,c=i(e,n,r,a);if(null!=c.value){for(var u=[],l=0;l<o.length;++l)u.push(o[l](e,n,r,a));s=c.value.apply(c.context,u)}return t?{value:s}:s};case _r.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var s=r(e,n,o,a),c=i(e,n,o,a);return s.context[s.name]=c,t?{value:c}:c};case _r.ArrayExpression:return o=[],x(e.elements,(function(e){o.push(a.recurse(e))})),function(e,n,r,i){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,r,i));return t?{value:a}:a};case _r.ObjectExpression:return o=[],x(e.properties,(function(e){e.computed?o.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):o.push({key:e.key.type===_r.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})})),function(e,n,r,i){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,r,i)]=o[s].value(e,n,r,i):a[o[s].key]=o[s].value(e,n,r,i);return t?{value:a}:a};case _r.ThisExpression:return function(e){return t?{value:e}:e};case _r.LocalsExpression:return function(e,n){return t?{value:n}:n};case _r.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=B(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=B(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=$r(e(r,i,o,a),t(r,i,o,a));return n?{value:s}:s}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),u=(B(s)?s:0)-(B(c)?c:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var c=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,a){var s=i&&e in i?i:r;n&&1!==n&&s&&null==s[e]&&(s[e]={});var c=s?s[e]:void 0;return t?{context:s,name:e,value:c}:c}},computedMember:function(e,t,n,r){return function(i,o,a,s){var c,u,l=e(i,o,a,s);return null!=l&&(c=hr(c=t(i,o,a,s)),r&&1!==r&&l&&!l[c]&&(l[c]={}),u=l[c]),n?{context:l,name:c,value:u}:u}},nonComputedMember:function(e,t,n,r){return function(i,o,a,s){var c=e(i,o,a,s);r&&1!==r&&c&&null==c[t]&&(c[t]={});var u=null!=c?c[t]:void 0;return n?{context:c,name:t,value:u}:u}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},Or.prototype={constructor:Or,parse:function(e){var t=this.ast.ast(e),n=this.astCompiler.compile(t);return n.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===_r.Literal||e.body[0].expression.type===_r.ArrayExpression||e.body[0].expression.type===_r.ObjectExpression)}(t),n.constant=function(e){return e.constant}(t),n}};var Br=i("$sce"),Lr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ur=/_([a-z])/g;function qr(e){return e.replace(Ur,Ze)}function Fr(e){var t=[];return B(e)&&x(e,(function(e){t.push(function(e){if("self"===e)return e;if(q(e)){if(e.indexOf("***")>-1)throw Br("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=te(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(J(e))return new RegExp("^"+e.source+"$");throw Br("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Hr(){this.SCE_CONTEXTS=Lr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Fr(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Fr(e)),t},this.$get=["$injector",function(n){var r=function(e){throw Br("unsafe","Attempting to use an unsafe value in a safe context.")};function i(e,t){return"self"===e?ei(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}n.has("$sanitize")&&(r=n.get("$sanitize"));var a=o(),s={};return s[Lr.HTML]=o(a),s[Lr.CSS]=o(a),s[Lr.URL]=o(a),s[Lr.JS]=o(a),s[Lr.RESOURCE_URL]=o(s[Lr.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw Br("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||R(t)||""===t)return t;if("string"!=typeof t)throw Br("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(n,o){if(null===o||R(o)||""===o)return o;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(n===Lr.RESOURCE_URL){if(function(n){var r,o,a=Qr(n.toString()),s=!1;for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!1;break}return s}(o))return o;throw Br("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(n===Lr.HTML)return r(o);throw Br("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function zr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&l<8)throw Br("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=Fe(Lr);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=P),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,(function(t){return r.getTrusted(e,t)}))};var i=r.parseAs,o=r.getTrusted,a=r.trustAs;return x(Lr,(function(e,t){var n=c(t);r[qr("parse_as_"+n)]=function(t){return i(e,t)},r[qr("get_trusted_"+n)]=function(t){return o(e,t)},r[qr("trust_as_"+n)]=function(t){return a(e,t)}})),r}]}function Wr(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=M((/android (\d+)/.exec(c((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.body&&a.body.style,u=!1,p=!1;return s&&(u=!(!("transition"in s)&&!("webkitTransition"in s)),p=!(!("animation"in s)&&!("webkitAnimation"in s))),{history:!(!r||i<4||o),hasEvent:function(e){if("input"===e&&l)return!1;if(R(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:ue(),transitions:u,animations:p,android:i}}]}var Gr=i("$compile");function Jr(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function a(s,c){a.totalPendingRequests++,q(s)&&!R(n.get(s))||(s=o.getTrustedResourceUrl(s));var u=r.defaults&&r.defaults.transformResponse;return z(u)?u=u.filter((function(e){return e!==Pn})):u===Pn&&(u=null),r.get(s,A({cache:n,transformResponse:u},e)).finally((function(){a.totalPendingRequests--})).then((function(e){return n.put(s,e.data),e.data}),(function(e){c||(e=Gr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e));return i.reject(e)}))}return a.totalPendingRequests=0,a}]}function Kr(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={findBindings:function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return x(r,(function(e){var r=$.element(e).data("$binding");r&&x(r,(function(r){n?new RegExp("(^|\\s)"+te(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)}))})),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return r}]}function Xr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){var o={};function a(a,s,c){G(a)||(c=s,s=a,a=N);var u,l=fe(arguments,3),p=B(c)&&!c,f=(p?r:n).defer(),d=f.promise;return u=t.defer((function(){try{f.resolve(a.apply(null,l))}catch(e){f.reject(e),i(e)}finally{delete o[d.$$timeoutId]}p||e.$apply()}),s),d.$$timeoutId=u,o[u]=f,d}return a.cancel=function(e){return!(!e||!(e.$$timeoutId in o))&&(Pr(o[e.$$timeoutId].promise),o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}var Yr=e.document.createElement("a"),Zr=Qr(e.location.href);function Qr(e){var t=e;return l&&(Yr.setAttribute("href",t),t=Yr.href),Yr.setAttribute("href",t),{href:Yr.href,protocol:Yr.protocol?Yr.protocol.replace(/:$/,""):"",host:Yr.host,search:Yr.search?Yr.search.replace(/^\?/,""):"",hash:Yr.hash?Yr.hash.replace(/^#/,""):"",hostname:Yr.hostname,port:Yr.port,pathname:"/"===Yr.pathname.charAt(0)?Yr.pathname:"/"+Yr.pathname}}function ei(e){var t=q(e)?Qr(e):e;return t.protocol===Zr.protocol&&t.host===Zr.host}function ti(){this.$get=D(e)}function ni(e){var t=e[0]||{},n={},r="";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,a,s,c,u=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(u!==r)for(e=(r=u).split("; "),n={},a=0;a<e.length;a++)(s=(o=e[a]).indexOf("="))>0&&(c=i(o.substring(0,s)),R(n[c])&&(n[c]=i(o.substring(s+1))));return n}}function ri(){this.$get=ni}function ii(e){var t="Filter";function n(r,i){if(L(r)){var o={};return x(r,(function(e,t){o[t]=n(t,e)})),o}return e.factory(r+t,i)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",ci),n("date",$i),n("filter",oi),n("json",bi),n("limitTo",ki),n("lowercase",wi),n("number",ui),n("orderBy",Ei),n("uppercase",xi)}function oi(){return function(e,t,n,r){if(!w(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}var o,a;switch(r=r||"$",si(t)){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=function(e,t,n,r){var i=L(e)&&n in e;!0===t?t=ce:G(t)||(t=function(e,t){return!R(e)&&(null===e||null===t?e===t:!(L(t)||L(e)&&!V(e))&&(e=c(""+e),t=c(""+t),-1!==e.indexOf(t)))});return function(o){return i&&!L(o)?ai(o,e[n],t,n,!1):ai(o,e,t,n,r)}}(t,n,r,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function ai(e,t,n,r,i,o){var a=si(e),s=si(t);if("string"===s&&"!"===t.charAt(0))return!ai(e,t.substring(1),n,r,i);if(z(e))return e.some((function(e){return ai(e,t,n,r,i)}));switch(a){case"object":var c;if(i){for(c in e)if(c.charAt&&"$"!==c.charAt(0)&&ai(e[c],t,n,r,!0))return!0;return!o&&ai(e,t,n,r,!1)}if("object"===s){for(c in t){var u=t[c];if(!G(u)&&!R(u)){var l=c===r;if(!ai(l?e:e[c],u,n,r,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function si(e){return null===e?"null":typeof e}ni.$inject=["$document"],ii.$inject=["$provide"];function ci(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return R(n)&&(n=t.CURRENCY_SYM),R(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:li(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function ui(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:li(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function li(e,t,n,r,i){if(!q(e)&&!F(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,c=Math.abs(e)+"",u="";if(a)u="∞";else{o=function(e){var t,n,r,i,o,a=0;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;"0"===e.charAt(r);r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;"0"===e.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(c),function(e,t,n,r){var i=e.d,o=i.length-e.i,a=(t=R(t)?Math.min(Math.max(n,o),r):+t)+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var c=a;c<i.length;c++)i[c]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var u=1;u<a;u++)i[u]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var p=i.reduceRight((function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)}),0);p&&(i.unshift(p),e.i++)}(o,i,t.minFrac,t.maxFrac);var l=o.d,p=o.i,f=o.e,d=[];for(s=l.reduce((function(e,t){return e&&!t}),!0);p<0;)l.unshift(0),p++;p>0?d=l.splice(p,l.length):(d=l,l=[0]);var h=[];for(l.length>=t.lgSize&&h.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)h.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&h.unshift(l.join("")),u=h.join(n),d.length&&(u+=r+d.join("")),f&&(u+="e+"+f)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function pi(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function fi(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),pi(a,t,r,i)}}function di(e,t,n){return function(r,i){var o=r["get"+e]();return i[u((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function hi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function vi(e){return function(t){var n,r=hi(t.getFullYear()),i=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+r;return pi(1+Math.round(i/6048e5),e)}}function gi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}ci.$inject=["$locale"],ui.$inject=["$locale"];var mi={yyyy:fi("FullYear",4,0,!1,!0),yy:fi("FullYear",2,0,!0,!0),y:fi("FullYear",1,0,!1,!0),MMMM:di("Month"),MMM:di("Month",!0),MM:fi("Month",2,1),M:fi("Month",1,1),LLLL:di("Month",!1,!0),dd:fi("Date",2),d:fi("Date",1),HH:fi("Hours",2),H:fi("Hours",1),hh:fi("Hours",2,-12),h:fi("Hours",1,-12),mm:fi("Minutes",2),m:fi("Minutes",1),ss:fi("Seconds",2),s:fi("Seconds",1),sss:fi("Milliseconds",3),EEEE:di("Day"),EEE:di("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=pi(Math[r>0?"floor":"ceil"](r/60),2)+pi(Math.abs(r%60),2)},ww:vi(2),w:vi(1),G:gi,GG:gi,GGG:gi,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},_i=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,yi=/^-?\d+$/;function $i(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,a,s="",c=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,q(n)&&(n=yi.test(n)?M(n):function(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,o=0,a=n[8]?r.setUTCFullYear:r.setFullYear,s=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=M(n[9]+n[10]),o=M(n[9]+n[11])),a.call(r,M(n[1]),M(n[2])-1,M(n[3]));var c=M(n[4]||0)-i,u=M(n[5]||0)-o,l=M(n[6]||0),p=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(r,c,u,l,p),r}return e}(n)),F(n)&&(n=new Date(n)),!H(n)||!isFinite(n.getTime()))return n;for(;r;)(a=_i.exec(r))?r=(c=pe(c,a,1)).pop():(c.push(r),r=null);var u=n.getTimezoneOffset();return i&&(u=_e(i,u),n=ye(n,i,!0)),x(c,(function(t){s+=(o=mi[t])?o(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function bi(){return function(e,t){return R(t)&&(t=2),ve(e,t)}}$i.$inject=["$locale"];var wi=D(c),xi=D(u);function ki(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):M(t),j(t)?e:(F(e)&&(e=e.toString()),w(e)?(n=(n=!n||isNaN(n)?0:M(n))<0?Math.max(0,e.length+n):n,t>=0?Si(e,n,n+t):0===n?Si(e,t,e.length):Si(e,Math.max(0,n+t),n)):e)}}function Si(e,t,n){return q(e)?e.slice(t,n):h.call(e,t,n)}function Ei(e){return function(r,o,a,s){if(null==r)return r;if(!w(r))throw i("orderBy")("notarray","Expected array but received: {0}",r);z(o)||(o=[o]),0===o.length&&(o=["+"]);var c=o.map((function(t){var n=1,r=P;if(G(t))r=t;else if(q(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t)).constant)){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})),u=a?-1:1,l=G(s)?s:n,p=Array.prototype.map.call(r,(function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:c.map((function(r){return function(e,n){var r=typeof e;null===e?(r="string",e="null"):"object"===r&&(e=function(e){if(G(e.valueOf)&&t(e=e.valueOf()))return e;if(V(e)&&t(e=e.toString()))return e;return e}(e));return{value:e,type:r,index:n}}(r.get(e),n)}))}}));return p.sort((function(e,t){for(var r=0,i=c.length;r<i;r++){var o=l(e.predicateValues[r],t.predicateValues[r]);if(o)return o*c[r].descending*u}return(l(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*u})),r=p.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(L(o)&&(o=e.index),L(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}}function Oi(e){return G(e)&&(e={link:e}),e.restrict=e.restrict||"AC",D(e)}Ei.$inject=["$parse"];var Ci=D({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===m.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),Ai={};x(Et,(function(e,t){if("multiple"!==e){var n=vn("ng-"+t),r=i;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&i(e,0,r)}),Ai[n]=function(){return{restrict:"A",priority:100,link:r}}}function i(e,r,i){e.$watch(i[n],(function(e){i.$set(t,!!e)}))}})),x(Ct,(function(e,t){Ai[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(o);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],(function(e){r.$set(t,e)}))}}}})),x(["src","srcset","href"],(function(e){var t=vn("ng-"+e);Ai[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===m.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,(function(t){t?(i.$set(a,t),l&&o&&r.prop(o,i[a])):"href"===e&&i.$set(a,null)}))}}}}));var Ti={$addControl:N,$$renameControl:function(e,t){e.$name=t},$removeControl:N,$setValidity:N,$setDirty:N,$setPristine:N,$setSubmitted:N},Mi="ng-pending",ji="ng-submitted";function Ii(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Ti,this.$$element=e,this.$$animate=r,Vi(this)}Ii.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ii.prototype={$rollbackViewValue:function(){x(this.$$controls,(function(e){e.$rollbackViewValue()}))},$commitViewValue:function(){x(this.$$controls,(function(e){e.$commitViewValue()}))},$addControl:function(e){Ve(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],x(this.$pending,(function(t,n){this.$setValidity(n,null,e)}),this),x(this.$error,(function(t,n){this.$setValidity(n,null,e)}),this),x(this.$$success,(function(t,n){this.$setValidity(n,null,e)}),this),oe(this.$$controls,e),e.$$parentForm=Ti},$setDirty:function(){this.$$animate.removeClass(this.$$element,Mo),this.$$animate.addClass(this.$$element,jo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Mo,jo+" "+ji),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,x(this.$$controls,(function(e){e.$setPristine()}))},$setUntouched:function(){x(this.$$controls,(function(e){e.$setUntouched()}))},$setSubmitted:function(){this.$$animate.addClass(this.$$element,ji),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Ri({clazz:Ii,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(oe(r,n),0===r.length&&delete e[t])}});var Ni=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Ii,compile:function(n,i){n.addClass(Mo).addClass(Ao);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var c=function(t){e.$apply((function(){s.$commitViewValue(),s.$setSubmitted()})),t.preventDefault()};n[0].addEventListener("submit",c),n.on("$destroy",(function(){t((function(){n[0].removeEventListener("submit",c)}),0,!1)}))}(a[1]||s.$$parentForm).$addControl(s);var u=o?r(s.$name):N;o&&(u(e,s),i.$observe(o,(function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=r(s.$name))(e,s))}))),n.on("$destroy",(function(){s.$$parentForm.$removeControl(s),u(e,void 0),A(s,Ti)}))}}}};function r(e){return""===e?n('this[""]').assign:n(e).assign||N}}]},Pi=Ni(),Di=Ni(!0);function Vi(e){e.$$classCache={},e.$$classCache[To]=!(e.$$classCache[Ao]=e.$$element.hasClass(Ao))}function Ri(e){var t=e.clazz,n=e.set,r=e.unset;function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,n){t=t?"-"+Ie(t,"-"):"",i(e,Ao+t,!0===n),i(e,To+t,!1===n)}t.prototype.$setValidity=function(e,t,a){var s;R(t)?function(e,t,r,i){e[t]||(e[t]={});n(e[t],r,i)}(this,"$pending",e,a):function(e,t,n,i){e[t]&&r(e[t],n,i);Bi(e[t])&&(e[t]=void 0)}(this,"$pending",e,a),Y(t)?t?(r(this.$error,e,a),n(this.$$success,e,a)):(n(this.$error,e,a),r(this.$$success,e,a)):(r(this.$error,e,a),r(this.$$success,e,a)),this.$pending?(i(this,Mi,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(i(this,Mi,!1),this.$valid=Bi(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,e,s=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,s,this)}}function Bi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Li=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ui=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,qi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Fi=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Hi=/^(\d{4,})-(\d{2})-(\d{2})$/,zi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wi=/^(\d{4,})-W(\d\d)$/,Gi=/^(\d{4,})-(\d\d)$/,Ji=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ki=Le();x("date,datetime-local,month,time,week".split(","),(function(e){Ki[e]=!0}));var Xi={text:function(e,t,n,r,i,o){Zi(e,t,n,r,i,o),Yi(r)},date:eo("date",Hi,Qi(Hi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":eo("datetimelocal",zi,Qi(zi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:eo("time",Ji,Qi(Ji,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:eo("week",Wi,(function(e,t){if(H(e))return e;if(q(e)){Wi.lastIndex=0;var n=Wi.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,c=0,u=hi(r),l=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,u.getDate()+l,o,a,s,c)}}return NaN}),"yyyy-Www"),month:eo("month",Gi,Qi(Gi,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o){var a,s;to(e,t,n,r),no(r),Zi(e,t,n,r,i,o),(B(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||R(a)||e>=a},n.$observe("min",(function(e){a=ro(e),r.$validate()})));(B(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||R(s)||e<=s},n.$observe("max",(function(e){s=ro(e),r.$validate()})));if(B(n.step)||n.ngStep){var c;r.$validators.step=function(e,t){return r.$isEmpty(t)||R(c)||ao(t,a||0,c)},n.$observe("step",(function(e){c=ro(e),r.$validate()}))}},url:function(e,t,n,r,i,o){Zi(e,t,n,r,i,o),Yi(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Ui.test(n)}},email:function(e,t,n,r,i,o){Zi(e,t,n,r,i,o),Yi(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||qi.test(n)}},radio:function(e,t,n,r){var i=!n.ngTrim||"false"!==ee(n.ngTrim);R(n.name)&&t.attr("name",E());t.on("click",(function(e){var o;t[0].checked&&(o=n.value,i&&(o=ee(o)),r.$setViewValue(o,e&&e.type))})),r.$render=function(){var e=n.value;i&&(e=ee(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)},range:function(e,t,n,r,i,o){to(e,t,n,r),no(r),Zi(e,t,n,r,i,o);var a=r.$$hasNativeValidators&&"range"===t[0].type,s=a?0:void 0,c=a?100:void 0,u=a?1:void 0,l=t[0].validity,p=B(n.min),f=B(n.max),d=B(n.step),h=r.$render;r.$render=a&&B(l.rangeUnderflow)&&B(l.rangeOverflow)?function(){h(),r.$setViewValue(t.val())}:h,p&&(r.$validators.min=a?function(){return!0}:function(e,t){return r.$isEmpty(t)||R(s)||t>=s},v("min",(function(e){if(s=ro(e),j(r.$modelValue))return;if(a){var n=t.val();s>n&&(n=s,t.val(n)),r.$setViewValue(n)}else r.$validate()})));f&&(r.$validators.max=a?function(){return!0}:function(e,t){return r.$isEmpty(t)||R(c)||t<=c},v("max",(function(e){if(c=ro(e),j(r.$modelValue))return;if(a){var n=t.val();c<n&&(t.val(c),n=c<s?s:c),r.$setViewValue(n)}else r.$validate()})));d&&(r.$validators.step=a?function(){return!l.stepMismatch}:function(e,t){return r.$isEmpty(t)||R(u)||ao(t,s||0,u)},v("step",(function(e){if(u=ro(e),j(r.$modelValue))return;a&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate()})));function v(e,r){t.attr(e,n[e]),n.$observe(e,r)}},checkbox:function(e,t,n,r,i,o,a,s){var c=so(s,e,"ngTrueValue",n.ngTrueValue,!0),u=so(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",(function(e){r.$setViewValue(t[0].checked,e&&e.type)})),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push((function(e){return ce(e,c)})),r.$parsers.push((function(e){return e?c:u}))},hidden:N,button:N,submit:N,reset:N,file:N};function Yi(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function Zi(e,t,n,r,i,o){var a,s=c(t[0].type);if(!i.android){var u=!1;t.on("compositionstart",(function(){u=!0})),t.on("compositionend",(function(){u=!1,l()}))}var l=function(e){if(a&&(o.defer.cancel(a),a=null),!u){var i=t.val(),c=e&&e.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(i=ee(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",l);else{var p=function(e,t,n){a||(a=o.defer((function(){a=null,t&&t.value===n||l(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||p(e,this,this.value)})),i.hasEvent("paste")&&t.on("paste cut",p)}t.on("change",l),Ki[s]&&r.$$hasNativeValidators&&s===n.type&&t.on("keydown wheel mousedown",(function(e){if(!a){var t=this.validity,n=t.badInput,r=t.typeMismatch;a=o.defer((function(){a=null,t.badInput===n&&t.typeMismatch===r||l(e)}))}})),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Qi(e,t){return function(n,r){var i,o;if(H(n))return n;if(q(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Li.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},x(i,(function(e,n){n<t.length&&(o[t[n]]=+e)})),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function eo(e,t,n,r){return function(i,o,a,s,c,u,l){to(i,o,a,s),Zi(0,o,a,s,c,u);var p,f,d,h=s&&s.$options.getOption("timezone");(s.$$parserName=e,s.$parsers.push((function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,p);return h&&(r=ye(r,h)),r}})),s.$formatters.push((function(e){if(e&&!H(e))throw Vo("datefmt","Expected `{0}` to be a date",e);return v(e)?((p=e)&&h&&(p=ye(p,h,!0)),l("date")(e,r,h)):(p=null,"")})),B(a.min)||a.ngMin)&&(s.$validators.min=function(e){return!v(e)||R(f)||n(e)>=f},a.$observe("min",(function(e){f=g(e),s.$validate()})));(B(a.max)||a.ngMax)&&(s.$validators.max=function(e){return!v(e)||R(d)||n(e)<=d},a.$observe("max",(function(e){d=g(e),s.$validate()})));function v(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function g(e){return B(e)&&!H(e)?n(e)||void 0:e}}}function to(e,t,n,r){var i=t[0];(r.$$hasNativeValidators=L(i.validity))&&r.$parsers.push((function(e){var n=t.prop(a)||{};return n.badInput||n.typeMismatch?void 0:e}))}function no(e){e.$$parserName="number",e.$parsers.push((function(t){return e.$isEmpty(t)?null:Fi.test(t)?parseFloat(t):void 0})),e.$formatters.push((function(t){if(!e.$isEmpty(t)){if(!F(t))throw Vo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}))}function ro(e){return B(e)&&!F(e)&&(e=parseFloat(e)),j(e)?void 0:e}function io(e){return(0|e)===e}function oo(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function ao(e,t,n){var r=Number(e),i=!io(r),o=!io(t),a=!io(n);if(i||o||a){var s=i?oo(r):0,c=o?oo(t):0,u=a?oo(n):0,l=Math.max(s,c,u),p=Math.pow(10,l);r*=p,t*=p,n*=p,i&&(r=Math.round(r)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(r-t)%n==0}function so(e,t,n,r,i){var o;if(B(r)){if(!(o=e(r)).constant)throw Vo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}var co=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Xi[c(a.type)]||Xi.text)(i,o,a,s[0],t,e,n,r)}}}}],uo=/^(true|false|\d+)$/,lo=function(){function e(e,t,n){var r=B(n)?n:9===l?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return uo.test(n.ngValue)?function(t,n,r){e(n,r,t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,(function(t){e(n,r,t)}))}}}},po=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,(function(e){n.textContent=Ue(e)}))}}}}],fo=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",(function(e){r.textContent=R(e)?"":e}))}}}}],ho=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,(function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")}))}}}}],vo=D({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function go(e,t){var n;return e="ngClass"+e,["$parse",function(s){return{restrict:"AC",link:function(c,u,l){var p,f=l[e].trim(),d=":"===f.charAt(0)&&":"===f.charAt(1),h=s(f,d?a:o),v=d?function(e){var t=o(e);t!==p&&y(t)}:y,g=u.data("$classCounts"),m=!0;function _(e,t){var n=[];return x(e,(function(e){(t>0||g[e])&&(g[e]=(g[e]||0)+t,g[e]===+(t>0)&&n.push(e))})),n.join(" ")}function y(e){m===t&&function(e,t){var n=i(e),o=i(t),a=r(n,o),s=r(o,n),c=_(a,-1),u=_(s,1);l.$addClass(u),l.$removeClass(c)}(p,e),p=e}g||(g=Le(),u.data("$classCounts",g)),"ngClass"!==e&&(n||(n=s("$index",(function(e){return 1&e}))),c.$watch(n,(function(e){e===t?(n=_(i(n=p),1),l.$addClass(n)):function(e){e=_(i(e),-1),l.$removeClass(e)}(p);var n;m=e}))),c.$watch(h,v,d)}}}];function r(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function i(e){return e&&e.split(" ")}function o(e){var t=e;return z(e)?t=e.map(o).join(" "):L(e)&&(t=Object.keys(e).filter((function(t){return e[t]})).join(" ")),t}function a(e){var t=e;if(z(e))t=e.map(a);else if(L(e)){var n=!1;t=Object.keys(e).filter((function(t){var r=e[t];return!n&&R(r)&&(n=!0),r})),n&&t.push(void 0)}return t}}var mo=go("",!0),_o=go("Odd",0),yo=go("Even",1),$o=Oi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),bo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],wo={},xo={blur:!0,focus:!0};x("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=vn("ng-"+e);wo[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t]);return function(t,n){n.on(e,(function(n){var i=function(){a(t,{$event:n})};xo[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)}))}}}}]}));var ko=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,c,u;n.$watch(i.ngIf,(function(n){n?c||a((function(n,o){c=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)})):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),s&&(u=Be(s.clone),e.leave(u).done((function(e){!1!==e&&(u=null)})),s=null))}))}}}],So=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:$.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,c,u,l){var p,f,d,h=0,v=function(){f&&(f.remove(),f=null),p&&(p.$destroy(),p=null),d&&(n.leave(d).done((function(e){!1!==e&&(f=null)})),f=d,d=null)};r.$watch(o,(function(o){var c=function(e){!1===e||!B(s)||s&&!r.$eval(s)||t()},f=++h;o?(e(o,!0).then((function(e){if(!r.$$destroyed&&f===h){var t=r.$new();u.template=e;var s=l(t,(function(e){v(),n.enter(e,null,i).done(c)}));d=s,(p=t).$emit("$includeContentLoaded",o),r.$eval(a)}}),(function(){r.$$destroyed||f===h&&(v(),r.$emit("$includeContentError",o))})),r.$emit("$includeContentRequested",o)):(v(),u.template=null)}))}}}}],Eo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(m.call(r[0]).match(/SVG/))return r.empty(),void t(st(o.template,e.document).childNodes)(n,(function(e){r.append(e)}),{futureParentElement:r});r.html(o.template),t(r.contents())(n)}}}],Oo=Oi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Co=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,a=o?ee(i):i;r.$parsers.push((function(e){if(!R(e)){var t=[];return e&&x(e.split(a),(function(e){e&&t.push(o?ee(e):e)})),t}})),r.$formatters.push((function(e){if(z(e))return e.join(i)})),r.$isEmpty=function(e){return!e||!e.length}}}},Ao="ng-valid",To="ng-invalid",Mo="ng-pristine",jo="ng-dirty",Io="ng-untouched",No="ng-touched",Po="ng-empty",Do="ng-not-empty",Vo=i("ngModel");function Ro(e,t,n,r,i,o,a,s,c){var u;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Ti,this.$options=Bo,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,Vi(this),(u=this).$$scope.$watch((function(e){var t=u.$$ngModelGet(e);if(t!==u.$modelValue&&(u.$modelValue==u.$modelValue||t==t)){u.$modelValue=u.$$rawModelValue=t,u.$$parserValid=void 0;for(var n=u.$formatters,r=n.length,i=t;r--;)i=n[r](i);u.$viewValue!==i&&(u.$$updateEmptyClasses(i),u.$viewValue=u.$$lastCommittedViewValue=i,u.$render(),u.$$runValidators(u.$modelValue,u.$viewValue,N))}return t}))}Ro.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Ro.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return G(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){G(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Vo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,$e(this.$$element))},$render:N,$isEmpty:function(e){return R(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Do),this.$$animate.addClass(this.$$element,Po)):(this.$$animate.removeClass(this.$$element,Po),this.$$animate.addClass(this.$$element,Do))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,jo),this.$$animate.addClass(this.$$element,Mo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Mo),this.$$animate.addClass(this.$$element,jo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Io,No)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,No,Io)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!j(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,(function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())}))}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var r,i,o=this.$$currentValidationRunId,a=this;(function(){var e=a.$$parserName||"parse";if(!R(a.$$parserValid))return a.$$parserValid||(x(a.$validators,(function(e,t){s(t,null)})),x(a.$asyncValidators,(function(e,t){s(t,null)}))),s(e,a.$$parserValid),a.$$parserValid;s(e,null);return!0})()?!function(){var n=!0;if(x(a.$validators,(function(r,i){var o=Boolean(r(e,t));n=n&&o,s(i,o)})),!n)return x(a.$asyncValidators,(function(e,t){s(t,null)})),!1;return!0}()?c(!1):(r=[],i=!0,x(a.$asyncValidators,(function(n,o){var a=n(e,t);if(!Z(a))throw Vo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),r.push(a.then((function(){s(o,!0)}),(function(){i=!1,s(o,!1)})))})),r.length?a.$$q.all(r).then((function(){c(i)}),N):c(!0)):c(!1);function s(e,t){o===a.$$currentValidationRunId&&a.$setValidity(e,t)}function c(e){o===a.$$currentValidationRunId&&n(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!R(e)||void 0,this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(R(e=this.$parsers[n](e))){this.$$parserValid=!1;break}j(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){t.$modelValue!==r&&t.$$writeModelToScope()}this.$$rawModelValue=e,i&&(this.$modelValue=e,o()),this.$$runValidators(e,this.$$lastCommittedViewValue,(function(n){i||(t.$modelValue=n?e:void 0,o())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),x(this.$viewChangeListeners,(function(e){try{e()}catch(e){this.$$exceptionHandler(e)}}),this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");F(t[e])?t=t[e]:F(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},Ri({clazz:Ro,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Bo,Lo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ro,priority:1,compile:function(t){return t.addClass(Mo).addClass(Io).addClass(Ao),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",(function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)})),e.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(t,n,r,i){var o=i[0];function a(){o.$setTouched()}o.$options.getOption("updateOn")&&n.on(o.$options.getOption("updateOn"),(function(e){o.$$debounceViewValueCommit(e&&e.type)})),n.on("blur",(function(){o.$touched||(e.$$phase?t.$evalAsync(a):t.$apply(a))}))}}}}}],Uo=/(\s+|^)default(\s+|$)/;function qo(e){this.$$options=e}qo.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return x(e=A({},e),(function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=ee(n.replace(Uo,(function(){return e.updateOnDefault=!0," "}))))}),this),t&&(delete e["*"],Ho(e,this.$$options)),Ho(e,Bo.$$options),new qo(e)}},Bo=new qo({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Fo=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Bo,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function Ho(e,t){x(t,(function(t,n){B(e[n])||(e[n]=t)}))}var zo=Oi({terminal:!0,priority:1e3}),Wo=i("ngOptions"),Go=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Jo=["$compile","$document","$parse",function(t,n,r){var i=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=N},post:function(e,a,s,c){for(var u=c[0],l=c[1],f=s.multiple,d=0,h=a.children(),v=h.length;d<v;d++)if(""===h[d].value){u.hasEmptyOption=!0,u.emptyOption=h.eq(d);break}a.empty();var g,m=!!u.emptyOption;p(i.cloneNode(!1)).val("?");var _=function(e,t,n){var i=e.match(Go);if(!i)throw Wo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,$e(t));var o=i[5]||i[7],a=i[6],s=/ as /.test(i[0])&&i[1],c=i[9],u=r(i[2]?i[1]:o),l=s&&r(s)||u,p=c&&r(c),f=c?function(e,t){return p(n,t)}:function(e){return It(e)},d=function(e,t){return f(e,y(e,t))},h=r(i[2]||i[1]),v=r(i[3]||""),g=r(i[4]||""),m=r(i[8]),_={},y=a?function(e,t){return _[a]=t,_[o]=e,_}:function(e){return _[o]=e,_};function $(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function b(e){var t;if(!a&&w(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:c,getTrackByValue:d,getWatchables:r(m,(function(e){for(var t=[],r=b(e=e||[]),o=r.length,a=0;a<o;a++){var s=e===r?a:r[a],c=e[s],u=y(c,s),l=f(c,u);if(t.push(l),i[2]||i[1]){var p=h(n,u);t.push(p)}if(i[4]){var d=g(n,u);t.push(d)}}return t})),getOptions:function(){for(var e=[],t={},r=m(n)||[],i=b(r),o=i.length,a=0;a<o;a++){var s=r===i?a:i[a],u=r[s],p=y(u,s),_=l(n,p),w=f(_,p),x=new $(w,_,h(n,p),v(n,p),g(n,p));e.push(x),t[w]=x}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[d(e)]},getViewValueFromOption:function(e){return c?ae(e.viewValue):e.viewValue}}}}}(s.ngOptions,a,e),y=n[0].createDocumentFragment();function $(e,t){var n=i.cloneNode(!1);t.appendChild(n),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label);t.value=e.selectValue}(e,n)}function b(e){var t=g.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}u.generateUnknownOptionValue=function(e){return"?"},f?(u.writeValue=function(e){if(g){var t=e&&e.map(b)||[];g.items.forEach((function(e){e.element.selected&&!ie(t,e)&&(e.element.selected=!1)}))}},u.readValue=function(){var e=a.val()||[],t=[];return x(e,(function(e){var n=g.selectValueMap[e];n&&!n.disabled&&t.push(g.getViewValueFromOption(n))})),t},_.trackBy&&e.$watchCollection((function(){if(z(l.$viewValue))return l.$viewValue.map((function(e){return _.getTrackByValue(e)}))}),(function(){l.$render()}))):(u.writeValue=function(e){if(g){var t=a[0].options[a[0].selectedIndex],n=g.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(a[0].value!==n.selectValue&&(u.removeUnknownOption(),a[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(e)}},u.readValue=function(){var e=g.selectValueMap[a.val()];return e&&!e.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),g.getViewValueFromOption(e)):null},_.trackBy&&e.$watch((function(){return _.getTrackByValue(l.$viewValue)}),(function(){l.$render()}))),m&&(t(u.emptyOption)(e),a.prepend(u.emptyOption),8===u.emptyOption[0].nodeType?(u.hasEmptyOption=!1,u.registerOption=function(e,t){""===t.val()&&(u.hasEmptyOption=!0,u.emptyOption=t,u.emptyOption.removeClass("ng-scope"),l.$render(),t.on("$destroy",(function(){var e=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,e&&l.$render()})))}):u.emptyOption.removeClass("ng-scope")),e.$watchCollection(_.getWatchables,(function(){var e=g&&u.readValue();if(g)for(var t=g.items.length-1;t>=0;t--){var n=g.items[t];B(n.group)?xt(n.element.parentNode):xt(n.element)}g=_.getOptions();var r={};if(g.items.forEach((function(e){var t;B(e.group)?((t=r[e.group])||(t=o.cloneNode(!1),y.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),$(e,t)):$(e,y)})),a[0].appendChild(y),l.$render(),!l.$isEmpty(e)){var i=u.readValue();(_.trackBy||f?ce(e,i):e===i)||(l.$setViewValue(i),l.$render())}}))}}}}],Ko=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,a,s){var u,l=s.count,p=s.$attr.when&&a.attr(s.$attr.when),f=s.offset||0,d=o.$eval(p)||{},h={},v=t.startSymbol(),g=t.endSymbol(),m=v+l+"-"+f+g,_=$.noop;function y(e){a.text(e||"")}x(s,(function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+c(n[2]);d[r]=a.attr(s.$attr[t])}})),x(d,(function(e,n){h[n]=t(e.replace(r,m))})),o.$watch(l,(function(t){var r=parseFloat(t),i=j(r);if(i||r in d||(r=e.pluralCat(r-f)),!(r===u||i&&j(u))){_();var a=h[r];R(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),_=N,y()):_=o.$watch(a,y),u=r}}))}}}],Xo=["$parse","$animate","$compile",function(e,t,n){var r="$$NG_REMOVED",o=i("ngRepeat"),a=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},c=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,l){var p=l.ngRepeat,f=n.$$createComment("end ngRepeat",p),d=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var h=d[1],v=d[2],g=d[3],m=d[4];if(!(d=h.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",h);var _,y,$,b,k=d[3]||d[1],S=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var E={$id:It};return m?_=e(m):($=function(e,t){return It(t)},b=function(e){return e}),function(e,n,i,l,d){_&&(y=function(t,n,r){return S&&(E[S]=t),E[k]=n,E.$index=r,_(e,E)});var h=Le();e.$watchCollection(v,(function(i){var l,v,m,_,E,O,C,A,T,M,j,I,N=n[0],P=Le();if(g&&(e[g]=i),w(i))T=i,A=y||$;else for(var D in A=y||b,T=[],i)s.call(i,D)&&"$"!==D.charAt(0)&&T.push(D);for(_=T.length,j=new Array(_),l=0;l<_;l++)if(E=i===T?l:T[l],O=i[E],C=A(E,O,l),h[C])M=h[C],delete h[C],P[C]=M,j[l]=M;else{if(P[C])throw x(j,(function(e){e&&e.scope&&(h[e.id]=e)})),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,C,O);j[l]={id:C,scope:void 0,clone:void 0},P[C]=!0}for(var V in h){if(I=Be((M=h[V]).clone),t.leave(I),I[0].parentNode)for(l=0,v=I.length;l<v;l++)I[l][r]=!0;M.scope.$destroy()}for(l=0;l<_;l++)if(E=i===T?l:T[l],O=i[E],(M=j[l]).scope){m=N;do{m=m.nextSibling}while(m&&m[r]);c(M)!==m&&t.move(Be(M.clone),null,N),N=u(M),a(M.scope,l,k,O,S,E,_)}else d((function(e,n){M.scope=n;var r=f.cloneNode(!1);e[e.length++]=r,t.enter(e,null,N),N=r,M.clone=e,P[M.id]=M,a(M.scope,l,k,O,S,E,_)}));h=P}))}}}}],Yo="ng-hide",Zo="ng-hide-animate",Qo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,(function(t){e[t?"removeClass":"addClass"](n,Yo,{tempClasses:Zo})}))}}}],ea=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,(function(t){e[t?"addClass":"removeClass"](n,Yo,{tempClasses:Zo})}))}}}],ta=Oi((function(e,t,n){e.$watch(n.ngStyle,(function(e,n){n&&e!==n&&x(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}),!0)})),na=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var a=i.ngSwitch||i.on,s=[],c=[],u=[],l=[],p=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(a,(function(n){for(var r,i;u.length;)e.cancel(u.pop());for(r=0,i=l.length;r<i;++r){var a=Be(c[r].clone);l[r].$destroy(),(u[r]=e.leave(a)).done(p(u,r))}c.length=0,l.length=0,(s=o.cases["!"+n]||o.cases["?"])&&x(s,(function(n){n.transclude((function(r,i){l.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),e.enter(r,o.parent(),o)}))}))}))}}}],ra=Oi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){var o=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(e,t,n){return n[t-1]!==e}));x(o,(function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})}))}}),ia=Oi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),oa=i("ngTransclude"),aa=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){if(!o)throw oa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",$e(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var a=r.ngTransclude||r.ngTranscludeSlot;function s(){n(e,(function(e){t.append(e)}))}o((function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==qe||r.nodeValue.trim())return!0}}(e)?t.append(e):(s(),n.$destroy())}),null,a),a&&!o.isSlotFilled(a)&&s()}}}}],sa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],ca={$setViewValue:N,$render:N};function ua(e,t){e.prop("selected",t),e.attr("selected",t)}var la=["$element","$scope",function(t,n){var r=this,i=new Dt;r.selectValueMap={},r.ngModelCtrl=ca,r.multiple=!1,r.unknownOption=p(e.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),t.prepend(r.unknownOption),ua(r.unknownOption,!0),t.val(n)},r.updateUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n),ua(r.unknownOption,!0),t.val(n)},r.generateUnknownOptionValue=function(e){return"? "+It(e)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(t.val(""),ua(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&ua(r.emptyOption,!1)},n.$on("$destroy",(function(){r.renderUnknownOption=N})),r.readValue=function(){var e=t.val(),n=e in r.selectValueMap?r.selectValueMap[e]:e;return r.hasOption(n)?n:null},r.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&ua(p(n),!1),r.hasOption(e)){r.removeUnknownOption();var i=It(e);t.val(i in r.selectValueMap?i:e);var o=t[0].options[t[0].selectedIndex];ua(p(o),!0)}else r.selectUnknownOrEmptyOption(e)},r.addOption=function(e,t){if(8!==t[0].nodeType){Ve(e,'"option value"'),""===e&&(r.hasEmptyOption=!0,r.emptyOption=t);var n=i.get(e)||0;i.set(e,n+1),a()}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):i.set(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return t[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&t[0].options[t[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(e){null==e&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(e):r.renderUnknownOption(e)};var o=!1;function a(){o||(o=!0,n.$$postDigest((function(){o=!1,r.ngModelCtrl.$render()})))}var s=!1;function c(e){s||(s=!0,n.$$postDigest((function(){n.$$destroyed||(s=!1,r.ngModelCtrl.$setViewValue(r.readValue()),e&&r.ngModelCtrl.$render())})))}r.registerOption=function(e,t,n,i,o){if(n.$attr.ngValue){var s,u=NaN;n.$observe("value",(function(e){var n,i=t.prop("selected");B(u)&&(r.removeOption(s),delete r.selectValueMap[u],n=!0),u=It(e),s=e,r.selectValueMap[u]=e,r.addOption(e,t),t.attr("value",u),n&&i&&c()}))}else i?n.$observe("value",(function(e){var n;r.readValue();var i=t.prop("selected");B(s)&&(r.removeOption(s),n=!0),s=e,r.addOption(e,t),n&&i&&c()})):o?e.$watch(o,(function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&r.removeOption(i),r.addOption(e,t),i&&o&&c()})):r.addOption(n.value,t);n.$observe("disabled",(function(e){("true"===e||e&&t.prop("selected"))&&(r.multiple?c(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))})),t.on("$destroy",(function(){var e=r.readValue(),t=n.value;r.removeOption(t),a(),(r.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)}))}}],pa=function(){return{restrict:"E",require:["select","?ngModel"],controller:la,priority:1,link:{pre:function(e,t,n,r){var i=r[0],o=r[1];if(!o)return void(i.registerOption=N);if(i.ngModelCtrl=o,t.on("change",(function(){i.removeUnknownOption(),e.$apply((function(){o.$setViewValue(i.readValue())}))})),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return x(t.find("option"),(function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}})),e},i.writeValue=function(e){x(t.find("option"),(function(t){var n=!!e&&(ie(e,t.value)||ie(e,i.selectValueMap[t.value]));n!==t.selected&&ua(p(t),n)}))};var a,s=NaN;e.$watch((function(){s!==o.$viewValue||ce(a,o.$viewValue)||(a=Fe(o.$viewValue),o.$render()),s=o.$viewValue})),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,r){var i=r[1];if(!i)return;var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}},fa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return B(n.ngValue)||(B(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],da=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",(function(){r.$validate()})))}}},ha=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",(function(e){if(q(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,$e(t));o=e||void 0,r.$validate()})),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||R(o)||o.test(t)}}}}},va=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",(function(e){var t=M(e);i=j(t)?-1:t,r.$validate()})),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},ga=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",(function(e){i=M(e)||0,r.$validate()})),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var t;if(!Ne){var n=le();(f=R(n)?e.jQuery:n?e[n]:void 0)&&f.fn.on?(p=f,A(f.fn,{scope:St.scope,isolateScope:St.isolateScope,controller:St.controller,injector:St.injector,inheritedData:St.inheritedData}),t=f.cleanData,f.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=f._data(r,"events"))&&n.$destroy&&f(r).triggerHandler("$destroy");t(e)}):p=ut,$.element=p,Ne=!0}}(),function(t){A(t,{errorHandlingConfig:n,bootstrap:Ae,copy:ae,extend:A,merge:T,equals:ce,element:p,forEach:x,injector:Wt,noop:N,bind:de,toJson:ve,fromJson:ge,identity:P,isUndefined:R,isDefined:B,isString:q,isFunction:G,isObject:L,isNumber:F,isElement:ne,isArray:z,version:ze,isDate:H,lowercase:c,uppercase:u,callbacks:{$$counter:0},getTestability:Me,reloadWithDebugInfo:Te,$$minErr:i,$$csp:ue,$$encodeUriSegment:ke,$$encodeUriQuery:Se,$$stringify:Ue}),d=function(e){var t=i("$injector"),n=i("ng");function r(e,t,n){return e[t]||(e[t]=n())}var o=r(e,"angular",Object);return o.$$minErr=o.$$minErr||i,r(o,"module",(function(){var e={};return function(i,o,a){var s={};return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),o&&e.hasOwnProperty(i)&&(e[i]=null),r(e,i,(function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],r=[],c=[],u=p("$injector","invoke","push",r),l={_invokeQueue:e,_configBlocks:r,_runBlocks:c,info:function(e){if(B(e)){if(!L(e))throw n("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:o,name:i,provider:f("$provide","provider"),factory:f("$provide","factory"),service:f("$provide","service"),value:p("$provide","value"),constant:p("$provide","constant","unshift"),decorator:f("$provide","decorator",r),animation:f("$animateProvider","register"),filter:f("$filterProvider","register"),controller:f("$controllerProvider","register"),directive:f("$compileProvider","directive"),component:f("$compileProvider","component"),config:u,run:function(e){return c.push(e),this}};return a&&u(a),l;function p(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),l}}function f(t,n,r){return r||(r=e),function(e,o){return o&&G(o)&&(o.$$moduleName=i),r.push([t,n,arguments]),l}}}))}}))}(e),d("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Rr}),e.provider("$compile",pn).directive({a:Ci,input:co,textarea:co,form:Pi,script:sa,select:pa,option:fa,ngBind:po,ngBindHtml:ho,ngBindTemplate:fo,ngClass:mo,ngClassEven:yo,ngClassOdd:_o,ngCloak:$o,ngController:bo,ngForm:Di,ngHide:ea,ngIf:ko,ngInclude:So,ngInit:Oo,ngNonBindable:zo,ngPluralize:Ko,ngRepeat:Xo,ngShow:Qo,ngStyle:ta,ngSwitch:na,ngSwitchWhen:ra,ngSwitchDefault:ia,ngOptions:Jo,ngTransclude:aa,ngModel:Lo,ngList:Co,ngChange:vo,pattern:ha,ngPattern:ha,required:da,ngRequired:da,minlength:ga,ngMinlength:ga,maxlength:va,ngMaxlength:va,ngValue:lo,ngModelOptions:Fo}).directive({ngInclude:Eo}).directive(Ai).directive(wo),e.provider({$anchorScroll:Gt,$animate:en,$animateCss:rn,$$animateJs:Zt,$$animateQueue:Qt,$$AnimateRunner:nn,$$animateAsyncRun:tn,$browser:an,$cacheFactory:sn,$controller:bn,$document:wn,$$isDocumentHidden:xn,$exceptionHandler:kn,$filter:ii,$$forceReflow:Sn,$interpolate:Hn,$interval:zn,$http:Ln,$httpParamSerializer:In,$httpParamSerializerJQLike:Nn,$httpBackend:qn,$xhrFactory:Un,$jsonpCallbacks:Wn,$location:lr,$log:pr,$parse:Ar,$rootScope:Vr,$q:Tr,$$q:Mr,$sce:zr,$sceDelegate:Hr,$sniffer:Wr,$templateCache:cn,$templateRequest:Jr,$$testability:Kr,$timeout:Xr,$window:ti,$$rAF:Dr,$$jqLite:jt,$$Map:Vt,$$cookieReader:ri})}]).info({angularVersion:"1.6.6"})}($),$.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,r){var i=0|e,o=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var r=Math.pow(10,n);return{v:n,f:(e*r|0)%r}}(e,r);return 1==i&&0==o.v?t:n}})}]),p((function(){Ce(e.document,Ae)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},70:function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[o++]=r)}return a}},8:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},80:function(e,t,n){var r=n(12),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},81:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(9))},82:function(e,t,n){(function(e){var r=n(81),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(18)(e))},83:function(e,t,n){var r=n(161)();e.exports=r},84:function(e,t,n){var r=n(195),i=n(5),o=n(34),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},85:function(e,t,n){var r=n(58),i=n(5);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},89:function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},9:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},90:function(e,t,n){var r=n(17),i=n(10),o=n(27),a=n(5);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},91:function(e,t,n){var r=n(154),i=n(32),o=n(2),a=n(39),s=n(27),c=n(43),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),p=!n&&!l&&a(e),f=!n&&!l&&!p&&c(e),d=n||l||p||f,h=d?r(e.length,String):[],v=h.length;for(var g in e)!t&&!u.call(e,g)||d&&("length"==g||p&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||h.push(g);return h}},92:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},93:function(e,t,n){var r=n(3).Uint8Array;e.exports=r},94:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},95:function(e,t,n){var r=n(93);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},96:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},97:function(e,t){e.exports=function(e){return function(){return e}}},98:function(e,t,n){var r=n(65),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(c),r(e,this,u)}}},99:function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}}});