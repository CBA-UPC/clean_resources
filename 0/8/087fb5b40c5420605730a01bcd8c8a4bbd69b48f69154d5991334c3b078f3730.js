!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ar n={exports:{}};!n);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};tion c(){}function u(t){return null==t?c:function(){return this.querySelector(t)}}totype={constructor:g,appendChild:insertBefore:querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var m="$";nction b(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function x(t){return function(){this.removeAttribute(t)}}function w(t){return function(){this.removeAttributeNS(t.space,t.local)}}ion E(t){return function(){this.style.removeProperty(t)}}I(t,e){for(var n=z(t),r=-1,i=e.length;++r<i;)n.add(e[r])}unction j(t){return function(){I(this,t)}}nction U(){this.textContent=""}function B(t){return function(){this.textContent=t}}function q(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}ion K(){return null}unction J(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}.prototype={add:remove:contains:;var tt={},et=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(tt={mouseenter:"mouseover",mouseleave:"mouseout"}));[null];ction dt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}ut.prototype=ht.prototype={constructor:ut,select:selectAll:filter:data:enter:function(){return new ut(this._enter||this._groups.map(p),this._parents)},exit:join:merge:order:sort:call:nodes:node:size:empty:each:attr:style:property:classed:text:function(t){return arguments.length?this.each(null==t?U:("function"==typeof t?q:B)(t)):this.node().textContent},html:raise:function(){return this.each(X)},lower:function(){return this.each(V)},append:insert:remove:clone:datum:on:dispatch:;var pt,gt={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */ar yt=e(window.DOMPurify||(window.DOMPurify=mt().default||mt()));const vt=bt=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),xt=1e5,wt=vt((t=>t.version),();onst Mt=t=>Array.isArray(t);r Tt=var Et="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;=var Dt=e(Nt),zt="1.13.6",Rt="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},It=Array.prototype,Pt=Object.prototype,jt="undefined"!=typeof Symbol?Symbol.prototype:null,Ft=It.push,Ht=It.slice,Ut=Pt.toString,Bt=Pt.hasOwnProperty,qt="undefined"!=typeof ArrayBuffer,Wt="undefined"!=typeof DataView,Yt=Array.isArray,Gt=Object.keys,Xt=Object.create,Vt=qt&&ArrayBuffer.isView,Kt=isNaN,Zt=isFinite,Jt=!{toString:null}.propertyIsEnumerable("toString"),Qt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],te=Math.pow(2,53)-1;function ee(t){return t instanceof ee?t:this instanceof ee?void(this._wrapped=t):new ee(t)}function ne(t){return t}function re(t){var e="[object "+t+"]";return function(t){return Ut.call(t)===e}}ee.VERSION=zt,ee.prototype.value=function(){return this._wrapped},ee.prototype.valueOf=ee.prototype.toJSON=ee.prototype.value,ee.prototype.toString=function(){return String(this._wrapped)};var ie=re("Function"),oe=Rt.document&&Rt.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof oe&&(ie=function(t){return"function"==typeof t||!1});var ae=ie;function se(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var le=Yt||re("Array");unction ue(t,e){return null!=t&&Bt.call(t,e)}r de=ce(fe);tion ve(t){return ee.toPath(t)}th=ye,ee.iteratee=_e;var Te=Ae("length"),Ee=ke(Te);nction Oe(t,e){for(var n=(e=ve(e)).length,r=0;r<n;r++){var i=e[r];if(!ue(t,i))return!1;t=t[i]}return!!n}function Le(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}var Ce=4.7421875,Ne=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];ar ze=1/3;var Re=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return Le(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return De(t+1)},gamma:De,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,ze):Math.pow(t,ze)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),Ie="INUMBER",Pe="IOP1",je="IOP2",Fe="IOP3",He="IVAR",Ue="IVARNAME",Be="IFUNCALL",qe="IFUNDEF",We="IEXPR",Ye="IEXPREVAL",Ge="IMEMBER",Xe="IENDSTATEMENT",Ve="IARRAY";function Ke(t,e){this.type=t,this.value=null!=e?e:0}function Ze(t){return new Ke(Pe,t)}function Je(t){return new Ke(je,t)}function Qe(t,e,n){var r,i,o,a,s,l,c=[];if(en(t))return nn(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],d=f.type;if(d===Ie||d===Ue)c.push(f.value);else if(d===je)i=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!Qe(i,e,n)):"or"===f.value?c.push(!!r||!!Qe(i,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,Qe(i,e,n),n))):(a=e.binaryOps[f.value],c.push(a(nn(r,n),nn(i,n))));else if(d===Fe)o=c.pop(),i=c.pop(),r=c.pop(),"?"===f.value?c.push(Qe(r?i:o,e,n)):(a=e.ternaryOps[f.value],c.push(a(nn(r,n),nn(i,n),nn(o,n))));else if(d===He){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var p=n[f.value];if(void 0===p)throw new Error("undefined variable: "+f.value);c.push(p)}}else if(d===Pe)r=c.pop(),a=e.unaryOps[f.value],c.push(a(nn(r,n)));else if(d===Be){for(l=f.value,s=[];l-- >0;)s.unshift(nn(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(d===qe)c.push(function(){for(var t=c.pop(),r=[],i=f.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return Qe(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(d===We)c.push(tn(f,e));else if(d===Ye)c.push(f);else if(d===Ge)r=c.pop(),c.push(r[f.value]);else if(d===Xe)c.pop();else{if(d!==Ve)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:nn(c[0],n)}function tn(t,e,n){return en(t)?t:{type:Ye,value:function(n){return Qe(t.value,e,n)}}}function en(t){return t&&t.type===Ye}function nn(t,e){return en(t)?t.value(e):t}Ke.prototype.toString=function(){switch(this.type){case Ie:case Pe:case je:case Fe:case He:case Ue:case Xe:return this.value;case Be:return"CALL "+this.value;case qe:return"DEF "+this.value;case Ve:return"ARRAY "+this.value;case Ge:return"."+this.value;default:return"Invalid Instruction"}};var rn="TEOF",on="TOP",an="TNUMBER",sn="TSTRING",ln="TPAREN",cn="TBRACKET",un="TCOMMA",hn="TNAME",fn="TSEMICOLON";function dn(t,e,n){this.type=t,this.value=e,this.index=n}function pn(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}dn.prototype.toString=function(){return this.type+": "+this.value},pn.prototype.newToken=function(t,e,n){return new dn(t,e,null!=n?n:this.pos)},pn.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},pn.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},pn.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(rn,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},pn.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(sn,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},pn.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(ln,t),this.pos++,!0)},pn.prototype.isBracket=pn.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(un,","),this.pos++,!0)},pn.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(fn,";"),this.pos++,!0)},pn.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(an,this.consts[r]),this.pos+=r.length,!0}return!1},pn.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(on,r),this.pos+=r.length,!0}return!1},pn.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(hn,i),this.pos+=i.length,!0}return!1},pn.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var gn=/^[0-9a-f]{4}$/i;function mn(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}pn.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);gn.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},pn.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},pn.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(an,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},pn.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken(an,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},pn.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(on,e);else if("∙"===e||"•"===e)this.current=this.newToken(on,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(on,">="),this.pos++):this.current=this.newToken(on,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(on,"<="),this.pos++):this.current=this.newToken(on,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(on,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(on,"=="),this.pos++):this.current=this.newToken(on,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(on,"!="),this.pos++):this.current=this.newToken(on,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},pn.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},pn.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},pn.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},mn.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},mn.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?Le(e,t.value):"function"==typeof e?e(t):t.value===e)},mn.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},mn.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},mn.prototype.acc0)},mn.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},mn.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(hn)||this.accept(on,(function(t){return t.value in e})))t.push(new Ke(He,this.current.value));else if(this.accept(an))t.push(new Ke(Ie,this.current.value));else if(this.accept(sn))t.push(new Ke(Ie,this.current.value));else if(this.accept(ln,"("))this.parseExpression(t),this.expect(ln,")");else{if(!this.accept(cn,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(cn,"]"))t.push(new Ke(Ve,0));else{var n=this.parseArrayList(t);t.push(new Ke(Ve,n))}}},mn.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},mn.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},mn.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(fn)&&(!this.nextToken||this.nextToken.type===rn||this.nextToken.type===ln&&")"===this.nextToken.value||e.push(new Ke(Xe)),this.nextToken.type!==rn&&this.parseExpression(e),t.push(new Ke(We,e)),!0)},mn.prototype.parseArrayList=function(t){for(var e=0;!this.accept(cn,"]");)for(this.parseExpression(t),++e;this.accept(un);)this.parseExpression(t),++e;return e},mn.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(on,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==Be){if(e.type!==He&&e.type!==Ge)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Ke(Ue,e.value)),t.push(new Ke(We,n)),t.push(Je("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===He&&(t[a]=new Ke(Ue,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new Ke(We,n)),t.push(new Ke(qe,e.value))}}},mn.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(on,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(on,":"),this.parseConditionalExpression(n),t.push(new Ke(We,e)),t.push(new Ke(We,n)),t.push(new Ke(Fe,"?"))}},mn.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(on,"or");){var e=[];this.parseAndExpression(e),t.push(new Ke(We,e)),t.push(Je("or"))}},mn.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(on,"and");){var e=[];this.parseComparison(e),t.push(new Ke(We,e)),t.push(Je("and"))}};var yn=["==","!=","<","<=",">=",">","in"];mn.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(on,yn);){var e=this.current;this.parseAddSub(t),t.push(Je(e.value))}};var vn=["+","-","||"];mn.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(on,vn);){var e=this.current;this.parseTerm(t),t.push(Je(e.value))}};var bn=["*","/","%"];mn.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(on,bn);){var e=this.current;this.parseFactor(t),t.push(Je(e.value))}},mn.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(on,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===ln&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===fn||this.nextToken.type===un||this.nextToken.type===rn||this.nextToken.type===ln&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(Ze(n.value))}else this.parseExponential(t)},mn.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(on,"^");)this.parseFactor(t),t.push(Je("^"))},mn.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(on,"!");)t.push(Ze("!"))},mn.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(on,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(Ze(n.value))}else for(this.parseMemberExpression(t);this.accept(ln,"(");)if(this.accept(ln,")"))t.push(new Ke(Be,0));else{var r=this.parseArgumentList(t);t.push(new Ke(Be,r))}},mn.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(ln,")");)for(this.parseExpression(t),++e;this.accept(un);)this.parseExpression(t),++e;return e},mn.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(on,".")||this.accept(cn,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(hn),t.push(new Ke(Ge,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(cn,"]"),t.push(Je("["))}}};const{add:xn,sub:wn,mul:_n,div:Mn,mod:kn,equal:An,notEqual:Tn,greaterThan:En,lessThan:$n,greaterThanEqual:Sn,lessThanEqual:On,andOperator:Ln,orOperator:Cn,log10:Nn,neg:Dn,not:zn,trunc:Rn,random:In,stringOrArrayLength:Pn,condition:jn,roundTo:Fn,arrayIndex:Hn,max:Un,min:Bn,sum:qn,arrayMap:Wn,arrayFold:Yn,arrayFilter:Gn,sign:Xn,log1p:Vn,log2:Kn}=Re;function Zn(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Jn(t){return t.trim()}Zn.prototype.evaluate=function(t){return t=t||{},Qe(this.tokens,this,t)},Zn.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const Qn=new Set(["__proto__","prototype","constructor"]);function tr(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Kn,LN:Math.log,LOG10:Math.log10||Nn,LG:Math.log10||Nn,LOG1P:Math.log1p||Vn,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Rn,"-":Dn,"+":Number,EXP:Math.exp,NOT:zn,LENGTH:Pn,"!":zn,SIGN:Math.sign||Xn,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":xn,"-":wn,"*":_n,"/":Mn,"%":kn,"^":Math.pow,"==":An,"!=":Tn,">":En,"<":$n,">=":Sn,"<=":On,and:Ln,or:Cn,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Hn},this.ternaryOps={"?":jn};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:jn,RANDOM:In,MIN(){const t=r.apply(this,arguments);return Bn(t)},MAX(){return Un(r.apply(this,arguments))},SUM(){return qn(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return qn(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Fn,CONCAT(){return Array.from(arguments).join("")},TRIM:Jn,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Qn.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Wn,FOLD:Yn,FILTER:Gn,PLUCK(t,e){if(Qn.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}tr.prototype.parse=function(t){var e=[],n=new mn(this,new pn(this,t),{allowMemberAccess:!0,restrictMemberAccess:Qn});return n.parseExpression(e),n.expect(rn,"EOF"),new Zn(e,this)},tr.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var er=new tr;tr.parse=function(t){return er.parse(t)},tr.evaluate=function(t,e){return er.parse(t).evaluate(e)},tr.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var nr={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};tr.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(nr,t)?nr[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const rr="%UNDEFINED%",ir={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>or(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>or(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===rr?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function or(t){return t===rr?t:Number.isFinite(t)?"".concat(t,"px"n)}const sr=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,lr=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;var))},ur=e(cr):t};const fr=hr;const dr={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])dr["[object ".concat(t,"]")]=t.toLowerCase();var pr=function(t){return dr[Object.prototype.toString.call(t)]||"object"};const gr=pr;const mr=pr;const yr=Math.PI;var vr={clip_ t},limit:hr,type:pr,unp0]},lll},PI:yr,TWOPI:2*yr,PITHIRD:yr/3,DEG2RAD:yr/180,RAD2DEG:180/yr};const br={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},{unpack:xr}=vr,{pow:wr}=Math.4).t0)]};var)]},Tr=e(Ar);var Er={exports:{}};
/**
	 * chroma.js - JavaScript library for color conversions
	 *
	 * Copyright (c) 2011-2019, Gregor Aisch
	 * All rights reserved.
	 *
	 * Redistribution and use in source and binary forms, with or without
	 * modification, are permitted provided that the following conditions are met:
	 *
	 * 1. Redistributions of source code must retain the above copyright notice, this
	 * list of conditions and the following disclaimer.
	 *
	 * 2. Redistributions in binary form must reproduce the above copyright notice,
	 * this list of conditions and the following disclaimer in the documentation
	 * and/or other materials provided with the distribution.
	 *
	 * 3. The name Gregor Aisch may not be used to endorse or promote products
	 * derived from this software without specific prior written permission.
	 *
	 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
	 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
	 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
	 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
	 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
	 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
	 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
	 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
	 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	 *
	 * -------------------------------------------------------
	 *
	 * chroma.js includes colors from colorbrewer2.org, which are released under
	 * the following license:
	 *
	 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
	 * and The Pennsylvania State University.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 *
	 * ------------------------------------------------------
	 *
	 * Named colors are taken from X11 Color Names.
	 * http://www.w3.org/TR/css3-color/#svg-color
	 *
	 * @preserve
	()}(Er);var $r=e(Er.exporr zr=re("String"),Rr=re("Number"),Ir=re("Date"),Pr=re("RegExp"),jr=re("Error"),Fr=re("Symbol"),Hr=re("ArrayBuffer"),Ur=re("Object"),Br=Wt&&Ur(new DataView(new ArrayBuffer(8))),qr="undefined"!=typeof Map&&Ur(new Map),Wr=re("DataView");var Yrr)}:Wr,Gr=re("Arguments})}();var Xr}}var Zr=Ae("byteLength"),Jr=ke(Zr),Qr=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var ti))}:Kr())}var ni="[object DataViear li="forEach",ci=["clear","delete"],ui=["get","has","set"],hi=ci.concat(li,ui),fi=ci.concat(ui),di=["add"].concat(ci,li,"has"),pi=qr?si(hi):re("Map"),gi=qr?si(fi):re("WeakMap"),mi=qr?si(di):re("Set"),yi=re("WeakSe}var wi=ce(ai),_i=ce(ai,r}function Ai))}var Ei=Date.nt}}var Si={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Oi=$i(Si),Li=$i(bi(Si)),Ci=ee.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ni=/(.)^/,Di={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},zi=/\\|'|\r|\n|\u2028|\u202t]}var Ii=/^\s*(\w|\$)+\s*$/;var P:o}var Fi= r}));Fi.placeholder=ee;var Hi= r r}var Bi= t}));var qi=e)})),Wi=Fi(qi,ee}}var Xi=Fi(Gi}}var Zi=Ki(1),Ji=Ki(}}var eo=to(1,Zi,Qi),no=to(-1,var so=ao(1),lo=ao(0}var ho=))o}var go=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff}var bo=e]})),xo==e})),wo==1})),_o=e)}), n}var ko= n})),Ao=n)}var So=))})),Oo=Lr((function(t,e){return So(t,e) i}var Co=)) n}var Do=Lr(}io(["pop","push","reverse","shift","sort","splice","unshift)}})),io(["concat","join","slice)}}));var Po=Object.freeze({__proto__:null,VERSION:zt,restArguments:Lr,isObject:se,isN=t},isUndefined:Cr,isBoolean:Nr,isElement:Dr,isString:zr,isNumber:Rr,isDate:Ir,isRegExp:Pr,isError:jr,isSymbol:Fr,isArrayBuffer:Hr,isDataView:Yr,isArray:le,isFunction:ae,isArguments:Xr,isFin))},isNaN:Vr,isTypedArray:ti,isEm))},isMatch:pe,isEqual:oi,isMap:pi,isWeakMap:gi,isSet:mi,isWeakSet:yi,keys:fe,allKeys:ai,values:vi,pa r},invert:bi,functions:xi,methods:xi,extend:wi,extendOwn:de,assign:de,defaults:_i,cre,n},cl:t},,t},get:ki,has:Oe,mapObj o},identity:ne,constant:Kr,noop:Ai,toPath:ye,property:be,propert)}},matcher:ge,matches:ge,ti r},random:Ti,now:Ei,escape:Oi,unescape:Li,templateSettings:Ci,templ,l},res t},uniqu:e},ch,e},iteratee:_e,partial:Fi,bind:Hi,bindAll:Bi,memo,n},delay:qi,defer:Wi,throt,c},debou,c},wrap:function(t,e){return Fi(e,t)},negate:Yi,compr}},af)}},before:Gi,once:Xi,findKey:Vi,findIndex:Zi,findLastIndex:Ji,sortedIndex:Qi,indexOf:eo,lastIndexOf:no,find:ro,detect:ro,findWhere:function(t,e){return ro(t,ge(e))},each:io,forEach:io,map:oo,collect:oo,reduce:so,foldl:so,inject:so,reduceRight:lo,foldr:lo,filter:co,select:co,rejn)},every:$e,all:$e,some:Se,any:Se,contains:uo,includes:uo,include:uo,invoke:ho,pluck:fo,wh))},max:po, o},shuf0)},sample:yo,sor")},groupBy:bo,indexBy:xo,countBy:wo,partition:_o,toArray:mo,sth},pick:ko,omit:Ao,first:Eo,head:Eo,take:Eo,initial:To,l))},rest:$o,tail:$o,drop:$o,compn)},flat1)},without:Oo,uniq:Lo,unique:Lo,union:Co,intersect e},difference:So,unzip:No,transpose:No,zip:Do,obj n},range:zo,ch n},mixin:Io,default:ee}),jo=Io(l}jo._=jo;const Uo=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;var Bo="$";function qo{}qo.prototype=Wo.prototype={constructor:qo,is},t]},is},reme]},clt]},k t},val t},entr t},s t},em!0},es)}};var Go=Wo.protot0"}Yo.prototype={constructor:Yo,has:Go.h,this},remove:Go.remove,clear:Go.clear,values:Go.keys,size:Go.size,empty:Go.empty,each:Go.each},ht.prototype.tra:this},ht.prototype.urn r},ht.prototype.urn o},ht.prototype.de}))},ht.prototype.selecturn e},ht.prototype.:0}))},ht.prototype.append(t)},ht.protot(t,e)},ht.protot"px"}},ht.prototype.prop=ht.prototype.property;const Jo={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12,oncat(l)}const ta=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","ur=o+1}return r}}}vr]=t+r*n;return o}var oa=Math.sqrt(50),aa=Math.sqrt(1(i*=2),e<t?-i:i}va.Ls=x,k.p={},k}()}(ha);var fa=e(ha.exportsr.bind(this)(o)}}}(da);var pa=e(da.exportso.call(this,r)}})}(ga);var ma=e(ga.exports),this.week(t)}})}(ya);var va=e(yaturn e.ticks(i)}}fa.extend(pa),fa.extend(va),fa.extend(ma),fa.extend(ba);const _a=[[10],[5,4,5],[3,10/3],[2,2.5,num:o.length}}))}const k|<br>|<br\/>)/i))}}const Ea={YY:"YYYY",M:"MMMM",MM:"MMMM",MMM:"MMMM",DD:"D",d<Sa?"LT":"MMM D|LT"}const Sa=864e5,Oa=30*Sa,La=365*Sa,C n}function Za(){}var Ja=.7,Qa=1/Ja,ts="\\s*([+-]?\\d+)\\s*",es="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ns="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rs=/^#([0-9a-f]{3,8})$/,is=new RegExp("^rgb\\("+[ts,ts,ts]+"\\)$"),os=new RegExp("^rgb\\("+[ns,ns,ns]+"\\)$"),as=new RegExp("^rgba\\("+[ts,ts,ts,es]+"\\)$"),ss=new RegExp("^rgba\\("+[ns,ns,ns,es]+"\\)$"),ls=new RegExp("^hsl\\("+[es,ns,ns]+"\\)$"),cs=new RegExp("^hsla\\("+[es,ns,ns,es]+"\\)$"),us={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hs(){return thopacity):new vs}function ys(t,e,n,r){return 1===arguments.length?ms(t):new vs(t,e,n,null==r?1:r)}function vs(t,e,n,r){this.r=+t,this.g=+e,this.,s,l,t.opacity)}function ks(t,e,n,r){this.h=+t,this.s=+e,this.(n-e)*(240-t)/constructor,rgb().displayable()},hex:hs,formatHex:hs,formatHsl:function(){return Ms(this).formatHsl()},formatRgb:fs,toString:fs}),Va(vs,ys,Ka(Za,{brighter:function(t){return t=null==t?Qa:Math.pow(Qa,t),new vs(this.r*t,this.g*t,this.b*t,ts.b*ction(){retuty&&this.opacity<=1},hex:bs,formatHex:bs,formatRgb:xs,t(t,e,n,null==r?1:r)}),Ka(Za,{brighter:function(t){return t=null==t?Qa:Math.pow(Qa,t),new ks(this.h,this.s,this.l*t,ts.l*,i,r),this.oty&&this.o==t?")":", "+t+")")}}));var Ts=Math.PI/180,Es=180/Math.PI,$s=.96422,Ss=1,Os=.82521,Ls=4/29,Cs=6/29,Nst,e,n,null==r?1:r)}function Is(t,e,n,r){this.l=+t,this.a=+e,this.t.c,t.opacity)}function qs(t){return ):qs(isNaN(t)?e:t)}Va(Ihis.b,this.27*n),this(t,e,n,null==r?1:?1:t),t?1:tturn Bs(th}ren](t);return i}}var Qs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tl=new Rund(t*(1-n)+e*n)}}var il,ol,al,sl,ll=180/Math.PI,cl={translateX:0,translateY:0,rotate:0,skewX:eturn s.j+t[3],+t[4],+t[5]))}),"px, ",.c,t.d,t.e,t.f),null==Strue>(0,urn?n[N(t)?t:e[t%e.length];var _l=me:e,value:n}),t}kl.prototype=Ml.prototyp],t.n();reo].vali].value.apply(e,n)}};var El,$l,Sl=0,Ol=0,Ll=0,Cl=1e3,Nl=0,Dl=0,zl=0,Rl="object"==typeof performance&&performance.now?performance:Date,Il="object"==typeof window&&window.requestAnimationFrame?window.requestAnimati+e)}),e,n),r}Fl.prototype=Hl.prototype={cot,thihis._time=1/0,ql())}};var Yl=Ml("start","end","cancel","interrupt"),Gl=[],Xl=0,Vl=1,Kl=2mer:null,state:Xl})}function nc(t,e){var n=ic(t,e);if(n.state>Xl)throw new Error("too late; already ue=e,i}function yc(t,e){return function(){nc(this,t).delay=+e.apply(this,arguments)}}function vc(t,e){return e=+e,function()his,t).duration=e}}var wc=ht.p.removePon Ac(){return++Mc}var Tc=ht.prototype;kc.prototype={c,this._parurn newhis._nhis._name,oups,this._,this._parents,t,n)},call:Tc.call,nodes:Tc.nodes,node:Tc.node,size:Tc.size,empty:Tc.en),a.ocal?fc:hc.localend.style."(t,e,}(null==t?n r._va(this)l==e?oc:ac)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?yc:vc)(e,t)):ic(this.node(.nodethisshe=+e=+e,n.expe=+e,n.exponent=t,n}(3),$c={time:null,delaytain(t)}return this}htsition}}(this,t)}))},ht.,this._parents,t,e)};var Lc=Array.prototype,Cc=Lc.map,Nc=Lc.slice,ply(u(),arguments)}function Ic(t){return+t}var Pc=[0,1];fun)))?t[1]:NaN}var Xc,Vc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\ngth+2).join("0")}Kc.prototype=Zc.prototype,Zm?"~":"")+thn(100*t).toFixed(e)},b:function(t){return Math.routi,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){rern t.toPrecision(e)},o:function(t){return Math.rou{returnthg(und(t).toString(16)}};function tu(t){return t}var eu,nu,ru,iu=Array.prototype.map,ou=["y","z","a","f","p","n","µ","m","","k","M","G")/r,e(i)),t},t}(t)}eu=au({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),nu=eu.format,ru=eu.formatPrefix;var cue)%t==0}):i:null}),i}var t,e){t.setTime(+t+e)}),(function(t,e){rrn(n-e)/t})):fu:null};var du=fu;fu.range;var pu=1e3,gu=6e4,mu=36e5,yu=8t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*pu)}),(function(t,e){return(e-t)/pu}),(function(t){return t.getUTCSeconds()})),xu=b)-t.getSeconds()*pu)}),(function(t,e){t.setTime(+t+e*gu)}),(function(t,e){return(e-t)/gu}),(function(t){return t.getMinutes()})),_u=wu-){t.setTime(+t+e*mu)}),(function(t,e){return(e-t)/mu}),(function(t){return t.getHours()})),ku=Mu;Mu.range;var Au=hu((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gu)/yu}),(function(t){return teOffset())*gu)/vu}))}Au.range;var $u=Eu(0),Su=Eu(1),Ou=Eu(2),Lu=Eu(3),Cu=Eu(4),Nu=Eu(5),Du=Eu(6);$u.range,Su.range,Ou.range,Lu.range,Cu.range,Nu.rang,t.setHours(0,0,0,0)}),(function(t,e){t.setMonr()-t.getFullYear())}),(function(t){return t.getMonth()})),Ru=zu;zu.range;var Iu=hu((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Iu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?hu((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Pu=IsetUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(turn t.gee){return(e-t)/vu}))}ju.range;var Uu=Hu(0),Bu=Hu(1),qu=Hu(2),Wu=Hu(3),Yu=Hu(4),Gu=Hu(5),Xu=Hu(6);Uu.range,Bu.range,qu.range,Wu.range,Yu.range,Gu.rangse.g)-t.getUTCFullYear()}),(function(t){return t.getUTCFlYear()+n*n,H:0,M:0,S:0,L:0}}Vu.range;var th,eh,nh={"-":"",_:" ",0:"0"},rh=/^\s*\d+/,ih=/^%/,oh=ase()]=n;return e}function uh(t,e,n){var r=rh.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hh(t,e,n){var r=rh.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function fh(t,e,n){var r=rh.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function dh(t,e,n){var r=rh.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ph(t,e,n){var r=rh.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gh(t,e,n){var r=rh.exec(e.slice(n,n+4));return r?(t.y=+rn+r[0].length):-1}function xh(t,e,n){var r=rh.exec(e.slice(n,n+2));return r?(t.d=+r0],n+r[0].length):-1}function _h(t,e,n){var r=rh.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mh(t,e,n){var r=rh.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function kh(t,e,n){var r=rh.exec(e.slice(n,n+2));return r?(t.S=+rr?n+r[0].length:-1}function $h(t,e,n){var r=rh.exec(e.slice(n));return r?(t.Q=+r0],n+r[0].length):-1}function Oh(t,e){return ah(t.getDate(),e,2)}function Lh(t,e){return ah(t.getHours(),e,2)}function Ch(t,e){return ah(t.getHours()%12||12,e,2)}function Nh(t,e){return ah(1+Tu.count(Pu(t),t),e,3)}function Dh(t,e){return ah(t.getMilliseconds(),e,3)}function zh(t,e){return Dh(t,e)+"000"}function Rh(t,e){return ah(t.getMonth()+1,e,2)}function Ih(t,e){return ah(t.getMinutes(),e,2)}function Ph(t,e){return ah(t.getSeconds(),e,2)}function jh(t){var e=t.getDay();return 0===e?7:e}function Fh(t,e){return ah($u.count(Pu(t)-1,t),e,2)}function Hh(t){var e=t.getDay();return e>=4||0===e?Cu(t):Cu.ceil(t)}function Uh(t,e){return t=Hh(t),ah(Cu.count(Pu(t),t)+(4===Pu(t).getDay()),e,2)}function Bh(t){return t.getDay()}function qh(t,e){return ah(Su.count(Pu(t)-1,t),e,2)}function Wh(t,e){return ah(t.getFullYear()%100,e,2)}function Yh(t,e){return ah((t=Hh(t)).getFullYear()%100,e,2)}function Gh(t,e){return ah(t.getFullYear()%1e4,e,4)}function Xh(t,e){var n=t.getDay();return ah((t=n>=4||0===n?Cu(t):Cu.ceil(t)).g0",2)+ah(e%60,"0",2)}function Kh(t,e){return ah(t.getUTCDate(),e,2)}function Zh(t,e){return ahcount(Ku(t),t),e,3)}function tf(t,e){return ah(t.getUetUTCMonth()+1,e,2)}function rf(t,e){return ah(t();return 0===e?7:e}function sf(t,e){return ah(Uu.).getUTCDay()),e,2)}function uf(t)ount(Ku(t)-1,t),e,2)}function ff(t,e){return ah(t.getUullYear()%1e4,e,4)}function mf(){return"+0000"}fucFormat,th.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xf=1e3,wf=60*xf,_f=60*wf,Mf=24*_f,kf=7*.opacity),")"),r}const Cf={horizontal:90,vertical:0,"diagonal-up":13Object.freeze(e)}}))}var Df,zf,Rf,If,Pf,jf,Ff,Hf,Uf,Bf,qf,Wf,Yf,Gf,Xf,Vf,Kered}},e.highlightTimer=Cr}(n)}(t[n][0],e))return n;return-1}var rd=Array.prototype.splice;function id(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set){this.__data__=[],trd.call(e,n,1),--e,t);return n<0?v{return nd(this._,n.push([t,e])):n[r][1]=e,this};var od="object"==typeof global&&global&&global.Object===Object&&global,ad="object"==typeof self&&self&&self.Object===Object&&self,sd=od||ad||Function("return this")(),ld=sd.Symbol,cd=Object.prototype,ud=cd.hasOwnProperty,hd=cd.toString,fd=ld?ld.toStringTag:void 0;var dd=Object.prototype.toString;var pd="[object Null]",gd="[object Undefine&("object"==e||"function"==e)}var bd="[object AsyncFunction]",xd="[object Function]",wd="[object Generatourn e==xd||e==wd||e==bd||e==_d}var kd,Ad=sd["__core-js_shared__"],Td=(kd=/[^.]+$/.exec(Ad&&Ad.keys&&Ad.keys.IE_PROTO||""))?"Symbol(src)_1."+kd:"";vareturn t+""}catch(t){}}return""}var Sd=/^\[object .+?Constructor\]$/,Od=Function.prototype,Ld=Object.prototype,Cd=Od.toString,Nd=Ld.hasOwnProperty,Dd=RegExp("^"+Cd.call(Nd).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| ]}(t,e);return zd(n)?n:void 0}var Id=Rd(sd,"Map"),Pd=Rd(Object,"create");var jd=Object.prototype.hasOwnProperty;var Fd=Object.prototype.hasOwnProperty;function Hd(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){r r=t[e];this.seta__=Pd?Pd(null):{},t_[t];return this.eturn jd.call(e,t Pd?void 0!==e[t]odash_hash_undefinemap:new(Id||id),strie(t);return this.size-=e?1:0,e},Bd.prototype.get=function(t){return Ud(ton(t){return Ud(ta__=new id(t);thisis.__data__=new id,te(t);return this.size=e.size,n},qd.prototype.get=function(t){return this.__data__.get(t)},qd.prototype.has=function(t){return this.__tion Gd(t,e){return t.has(e)}Wd.lodash_hash_undefined__"),this},Wd.prototype.has=function(t){return thisturn o.delete(t),o.dch((function(t){n[++e]=t})),n}var tp=1,ep=2,np="[object Boolean]",rp="[object Date]",ip="[object Error]",op="[object Map]",ap="[object Number]",sp="[object RegExp]",lp="[object Set]",cp="[object String]",up="[object Symbol]",hp="[object ArrayBuffer]",fp="[object DataView]",dp=ld?ld.prototype:void 0,pp=dp?dp.valueOf:void 0;var gp=Array.isArray;var mp=Object.prototype.propertyIsEnumerable,yp=Obj(t,e)}&&"[object Arguments]"==yd(t)}var _p=Object.prototype,Mp=_p.hasOwnProperty,kp=_p.propertyIsEnumerable,Ap=wp(funcallee")&&!kp.call(t,"callee")},Tp=Ap;var Ep="object"==typeof exports&&exports&&!exports.nodeType&&exports,$p=Ep&&"object"==typeof module&&module&&!module.nodeType&&module,Sp=$p&&$p.exports===Ep?sd.Buffer:voir:void 0)||function(){return!1},Lp=9007199Cp.test(t))&&t>-1&&t%1==typeof t&&t>-1&&t%1==0&&t<=Dp}var Rp={};Rp["[object Float32Array]"]=Rp["[object Float64Array]"]=Rp["[object Int8Array]"]=Rp["[object Int16Array]"]=Rp["[object Int32Array]"]=Rp["[object Uint8Array]"]=Rp["[object Uint8ClampedArray]"]=Rp["[object Uint16Array]"]=Rp["[object Uint32Array]"]=!0,Rp["[object Arguments]"]=Rp["[object Array]"]=Rp["[object ArrayBuffer]"]=Rp["[object Boolean]"]=Rp["[object DataView]"]=Rp["[object Date]"]=Rp["[object Error]"]=Rp["[object Function]"]=Rp["[object Map]"]=Rp["[object Number]"]=Rp["[object Object]"]=Rp["[object RegExp]"]=Rp["[object Set]"]=Rp["[object String]"]=Rp["[object WeakMap]"]=!1;var Ip,Pp="object"==typeof exports&&exports&&!exports.nodeType&&exports,jp=Pp&&"object"==typeof module&&module&&!module.nodeType&&module,Fp=jp&&Fp.binding("util")}catch(t){}}(),Up=Hp&&Hp.isTypedArray,Bp=Up?(I(t)&&zp(t.length)&&!!Rp[yd(t)]},qp=||Np(c,l))||s.push(c);return srn function(n){return t(e(n))}}(Object.keys,Object),Xp=Gp,Vp=;return t}(r,n(t))}(t,Zp,bp)}var Qp=1,tg=Object.prototype.hasOwnProperty;var eg=Rd(sd,"DataView"),ng=Rd(sd,"Promise"),rg=Rd(sd,"Set"),ig=Rd(sd,"WeakMap"),og="[object Map]",ag="[object Promise]",sg="[object Set]",lg="[object WeakMap]",cg="[object DataView]",ug=$d(eg),hg=$d(Id),fg=$d(ng),dg=$d(rg),pg=$d(ig),gg=yd;(eg&&gg(new eg(new ArrayBuffer(1)))!=cg||Id&&gg(new Id)!=og||ng&&gg(ng.resolve())!=ag||rg&&gg(new rg sg;case pg:return lg}return e});var mg=gg,yg=1,vg="[object Arguments]",bg="[object Array]",xg="[object Object]",wg=?t!=t&&e!=e:)return!1}}return!0}(nl"==typeof t||xp(t)&&yd(t)==Sg}var Lg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\t(t)||null!=e&&t in Object(ern n.cache=new(zg.Cache||Bd),n}zg.Cache=Bd;var Rg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?l?i.replace(Ig,"$1"):n||t)})),e})),jg=Pg;var Fg=1/0,Hg=ld?ld.prototype:{return ni)&&(gp(t)&&r===e?Vg(n,t):Mg(e,r,n(e,t[r]))return!0;return!1}var im=rg&&1/Qd(new rg([,-0]))[1]==1/0?function(t){return new r0],n[1]):$g(n):tm(n)):[];varerpolate(e,n,r,"rgb").hex()}function dm(){}function pm(t){return t()}function gm(){return Object.create(null)}function mm(t){t.forEach(pm)}function ym(t){return"function"==typeof t}function vm(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const bm="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;fuxm(t.head||t,e),e.sheet}(r,t)}}function _m(t,e,n){t.insertBefore(e,n||null)}function Mm(t){t.parentNode&&t.parentNode.removeChild(t)}function km(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Am(t){return document.createElement(t)}function Tm(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Em(t){return document.createTextNode(t)}function $m(){return Em(" ")}function Sm(){return Em("")}function Om(t,e,n,r){return t.addEventListener(e,n,r),(pPropagation(),t.call(this,e)}}function Cm(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Nm(t,e){e=""+e,t.data!==e&&(t.data=e)}function Dm(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function zm(t,e,n){this.a)}d(){this.n.forEach(o.defaultPrevented}return!0}}function Um(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const Bm=[],qm=[];let Wm=[];const Ym=[],Gm=Promise.resolve();let Xm=!1;function Vm(){Xm||(Xm=!0,Gm.then(ty))}function Km(t){Wm.push(t)}function Zm(t){Ym.push(t)}const Jm=new Set;let Qm=0;function ty(){if(0!==Qm)return;const t=Im;do{try{for(;Qm<Bm.length;){const t=Bm[Qm];Qm++,Pm(t),ey(t.$$)}}catch(t){throw Bm.length=0,Qm=0,t}for(Pm(null),Bm.length=0,Qm=0;qm.length;)qm.pop()();for(let t=0;t<Wm.length;t+=1){const e=Wm[t];Jm.has(e)||(Jm.add(e),e())}Wm.length=0}while(Bm.length);for(;Ym.length;)Ym.pop()();Xm=!1,Jm.clear(),Pm(t)}function ey(t){if(null!==t.fragment){t.update(),mm(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Km)}}const ny=new Set;let ry;function iy(){ry={r:0,c:[],p:ry}}function oy(){ry.r||mm(ry.c),ry=ry.p}function ay(t,e){t&&t.i&&(ny.delete(t),t.i(e))}function sy(t,e,n,r){if(t&&t.o){if(ny.has(t))return;ny.add(t),ry.c.push((()=>{ny.delete(t),r&&(n&&t..$$.bound[r]=n,n(t.$$.ctx[r]))}function cy(t){t&&t.c()}function uy(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Km((()=>{const e=t.$$.on_mount.map(pm).filter(ym);t.$$.on_destroy?t.$$.on_destroy.push(...e):mm(e),t.r,e.customElement),ty()}Pm(l)}class dy{$destroy(){hy(this,1),this.$destroy=dm}$on(t,e){if(!ym(e))return dm;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$,e,n){return t<e&&n>0}(e,a,o)}function my(t){wm(t,"svelte-gqfmpf",".resizers.svelte-gqfmpf.svelte-gqfmpf{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.resizer.svelte-gqfmpf.svelte-gqfmpf{position:absolute;display:flex;align-items:center;justify-content:center;pointer-events:auto}.resizer.x.svelte-gqfmpf.svelte-gqfmpf{top:0;width:5px;height:100%;cursor:ew-resize}.resizer.y.svelte-gqfmpf.svelte-gqfmpf{height:5px;width:100%;left:0;cursor:ns-resize}.resizer.drag.svelte-gqfmpf.svelte-gqfmpf{cursor:grab}.resizer.drag.svelte-gqfmpf.svelte-gqfmpf:active{cursor:grabbing}.resizer-inner.svelte-gqfmpf.svelte-gqfmpf{position:absolute;border-radius:2px;background:rgba(255, 0, 221, 0.35);opacity:0;transition:opacity 0.2s}.resizer.x.svelte-gqfmpf .resizer-inner.svelte-gqfmpf{width:5px;height:50%;min-height:10px;max-height:40px}.resizer.y.svelte-gqfmpf .resizer-inner.svelte-gqfmpf{height:5px;width:50%;min-width:10px;max-width:40px}.text:hover .resizer-inner.svelte-gqfmpf.svelte-gqfmpf,.range-annotation:hover .resizer-inner.svelte-gq,rangeOverPlotEnd:4},my)}}const My=Math.cos(.25*Maonc|s.toFixed(1)===c.toFixed(1))}},Cy=Oy(!0),Ny=Oy(!1);var Dy=Object.freeze({__proto__:null,straight:rrowHead?n.strokeWidth:0))}))}}const Ry={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 Lx:0,y:0,width:t(t,e){return Math.atan(t/e)*By}function Wy(t){wm(t,"svelte-1j9q1i5",".callout-line path{stroke:#222;fill:none}.callout-line path.crisp{shape-rendering:crispEdges}.callout-line circle{stroke:#222;fill:none}.callout-line-arrow-head{fill:#222}.callout-line-arrow-head.callout-line-arrow-head-fy(this,t,null,null,vm,{},Wy)}}function Gy(t){wm(t,"svelte-zo497q",".text-annotation.svelte-zo497q.svelte-zo497q{position:relative;z-index:2;pointer-events:auto}.text.svelte-zo497q.svelte-zo497q,.shadow-text.svelte-zo497q.svelte-zo497q{left:0px;position:absolute;white-space:pre-line;line-height:1.2;outline-color:rgba(0, 0, 0, 0)}.shadow-text.svelte-zo497q.svelte-zo497q{pointer-events:none}.shadow-text.svelte-zo497q.svelte-zo497q,.text-annotation .shadow-text *{color:transparent !important}.dw-bold.svelte-zo497q.svelte-zo497q{font-weight:700}.italic.svelte-zo497q.svelte-zo497q{font-style:italic}.underline.svelte-zo497q.svelte-zo497q{-webkit-text-decoration:underline;text-decoration:underline}.num.svelte-zo497q.svelte-zo497q{display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px}.connector-line.svelte-zo497q.svelte-zo497q{left:0px;position:absolute;direction:ltr;pointer-events:none}svg.svelte-zo497q.svelte-zo497q{position:absolute;overflow:visible}.reference-point.svelte-zo497q.svelte-zo497q,.offset-point.svelte-zo497q.svelte-zo497q{left:0px;position:absolute;width:5px;height:5px;background:rgba(255, 0, 221, 0.95);z-index:1}.reference-point.hollow.svelte-zo497q.svelte-zo497q{background:rgba(255, 0, 221, 0.1);border:1px solid rgba(255, 0, 221, 0.95);border-radius:50%;left:-1px;top:-1px;z-index:auto}.reference-point.svelte-zo497q.svelte-zo497q::before{content:'';position:absolute;top:-5px;left:-5px;width:calc(100% + 9px);height:calc(100% + 9px);cursor:grab}.edit-mode.svelte-zo497q:not(.key) .text.svelte-zo497q{cursor:grab}.edit-mode.svelte-zo497q:not(.key) .text .text-inner.svelte-zo497q:after{outline:1px none rgba(255, 0, 221, 0);transition:outline-color 0.2s, outline-style 0.2s}.edit-mode.svelte-zo497q:not(.key):not(.selected) .text:hover .text-inner.svelte-zo497q:after{outline:1px dotted rgba(255, 0, 221, 0.95)}.edit-mode.svelte-zo497q:not(.key) .text.svelte-zo497q::before{content:'';z-index:-1;position:absolute;top:-10px;left:-10px;width:calc(100% + 20px);height:calc(100% + 20px);cursor:grab}.edit-mode.selected.svelte-zo497q .text.svelte-zo497q{outline-style:solid}.edit-mode.svelte-zo497q .text-background.svelte-zo497q{position:relative}.edit-mode.selected.svelte-zo497q:not(.editable) .text-inner.svelte-zo497q::after{background:rgba(255, 0, 221, 0.1)}.edit-mode.svelte-zo497q:not(.selected):hover .text-inner.svelte-zo497q::after,.edit-mode.selected.editable.svelte-zo497q:hover .text-inner.svelte-zo497q::after{background:rgba(255, 0, 221, 0.05)}.edit-mode.svelte-zo497q .text:hover .text-inner.svelte-zo497q::after,.edit-mode.selected.svelte-zo497q .text .text-inner.svelte-zo497q::after{outline:1px solid rgba(255, 0, 221, 0.95)}.edit-mode.editable.svelte-zo497q:hover .text-inner.svelte-zo497q:hover:after{background:transparent !important}.edit-mode.svelte-zo497q .text-inner.svelte-zo497q:after{content:'';width:100%;height:100%;position:absolute;left:0;top:0;pointer-events:none}.edit-mode.selected.editable.svelte-zo497q .text.svelte-zo497q{background:transparent}.edit-mode.selected.editable.svelte-zo497q .text-inner.svelte-zo497q{background:rgba(255, 255, 255, 0.9);cursor:text}.edit-mode.not-editable.svelte-zo497q.svelte-zo497q:not(.key){-webkit-user-select:none;user-select:none;cursor:grab}.edit-mode.svelte-zo497q .text-inner.svelte-zo497q{outline:0}.edit-mode.dragging.svelte-zo497q.svelte-zo497q,.edit-mode.dragging.svelte-zo497q .text.svelte-zo497q::before,.edit-mode.dragging.selected.svelte-zo497q .text-inner.svelte-zo497q,.edit-mode.dragging.svelte-zo497q .reference-point.svelte-zo497q::before{cursor:grabbing}.edit-mode.svelte-zo497q .helper.svelte-zo497q{left:0px;position:absolute;direction:ltr}.edit-mode.svelte-zo497q .helper-line.svelte-zo497q{stroke:rgba(255, 0, 221, 0.95);stroke-dasharray:2, 2;fill:none}.edit-mode.svelte-zo497q .num.text.svelte-zo497q{outline:0}.edit-mode.selected.svelte-zo497q .num .text-inner.svelte-zo497q{background:transparent}.edit-mode.selected.dragging.out-of-bounds.svelte-zo497q.svelte-zo497q{display:block !important}.edit-mode.selected.dragging.out-of-bounds.svelte-zo497m(r),o=!1,a()}}}function uv(t,e,n){let r,i,o,a,s,l,c,u,h,f,d,p,g,m,y,v,b,x,w,_,M,k,A,T,E,$,S,O,L,C,{annotation:N={}}=e,{dataToPx:D}=e,{pxToData:z}=e,{bounds:R}=e,{theme:I}=e,{cm:P}=e,{chroma:j}=e,{purifyHtml:F}=e,{key:H}=e,{rtl:U=!1}=e,{mirrorX:B=!1}=e,{isMobileWid)}())}it?t():n-Math.sqrt(Math.pow(e,2)/2)}let et=1,nt=1;const rt=Hm();let{editMode:it}=e,{isEditable:ot}=e,{editorState:at}=e,{index:sation:N,index:st,type:"text"})}let ht,pt=!1;let{moveX:gt}=e,{moveY:mt}=e,{dragging:yt}=e,{noOffsetAtEventStart:vt}=e,{forceOffsetDrag:bt}=e,{forceAnchorDrag:xt}=e,{forceAnchorDragTemp:wt}=e;let _t,Mt,{activeResizer:kt}=e,{resizing:At}=e,Tt=N.teizing"in t&&n(5,At=t.resizing)},t.$$.update=()=>{if(16777216&t.$$.dirty[1]&&n(79,r={mobile:dt(I,"vis.base.annotations.mobile",{}),desktop:dt(I,"vis.base.annotations.text",{})}),16777216&t.$$.dirty[1]&&n(21,i=dt(I,"colors.background","#ffffff")),83886080&t.$$.dirty[1]&&n(70,o=Sr(I,j).fallbackBaseColor),2097152&t.$$.dirty[0]|131072&t.$$.dirty[2]&&n(76,a=dt(r.mobile,"icons.background",Hy(i,.7))),131328&t.$$.dirty[2]&&n(77,s=dt(r.mobile,"icons.outline",`1px solid ${o}`)),131072&t.$$.dirty[2]&&n(78,l=r.desktop.color),268435456&t.$$.dirty[1]&&n(67,c=B?-1:1),1&t.$$.dirty[0]&&n(0,N.dx=+N.dx||0,N),1&t.$$.dirty[0]&&n(0,N.dy=+N.dy||0,N),16397&t.$$.dirty[0]|16515072&t.$$.dirty[1]|49&t.$$.dirty[2]&&pt&&yt&&(gt||mt)&&!ct){if(vt&&!bt||xt||wt){let[t,e]=D(N.x,N.y,N._plot);t+=gt,e+=mt;const{x:r,y:i,plot:o,validPosition:a}=z(t,e,N.showInAllPlots?N._plot:void 0);n(48,at.draggingOutOfBounds=!1===a,at),!0===a&&n(48,at.lastPositionInPlot={x:N.x,y:N.y,plot:N.plot},at),!N.showInAllPlots&&o&&(N.plot!==o&&n(48,at.plotHasUpdated=!0,at),n(0,N.plot=o,N)),n(0,N.x=r,N),n(0,N.y=i,N)}else n(0,N.dx+=gt*c,N),n(0,N.dy+=mt,N);bt&&vt&&!N.connectorLine.enabled&&!Q(20)&&(n(0,N.connectorLine.enabled=!0,N),n(0,N.connectorLine.type="curveLeft",N)),n(49,gt=0),n(50,mt=0),ut()}if(16389&t.$$.dirty[0]|1073872896&t.$$.dirty[1]&&(yt||!pt||!0!==at.draggingOutOfBounds||N.showInAllPlots&&lt!==at.activeRepeatedAnnotationIndex||(n(0,N={...N,...at.lastPositionInPlot}),n(48,at.draggingOutOfBounds=!1,at),ut())),16505&t.$$.dirty[0]|281804800&t.$$.dirty[1]&&pt&&At&&(gt||mt)){let t=gt/R.width*100,e=0;if(N.align.includes("c")?(e+=gt/2,"l"===kt&&(t=-t)):N.align.includes(B?"r":"l")?"l"===kt&&(e+=gt,t=-t):N.align.includes(B?"l":"r")&&("l"===kt&&(t=-t),"r"===kt&&(e+=gt)),vt){const t=D(N.x,N.y,N._plot);let r=t[0];r+=e;const{x:i,y:o}=z(r,t[1]);n(0,N.x=i,N),n(0,N.y=o,N)}else n(0,N.dx+=e,N);n(0,N.width+=t,N),n(0,N.width=Math.max(5,N.width),N),n(49,gt=0),ut()}if(1&t.$$.dirty[0]|33554432&t.$$.dirty[1]|65536&t.$$.dirty[2]&&n(71,u=N.color?P(N.color):P(l,{noInvert:!0})),1&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&n(11,[W,Y]=D(N.x,N.y,N._plot),W,(n(12,Y),n(53,D),n(0,N),n(14,pt),n(2,yt),n(49,gt),n(50,mt),n(66,ct),n(3,vt),n(51,bt),n(52,xt),n(62,wt),n(54,z),n(67,c),n(48,at),n(61,lt),n(5,At),n(6,R),n(4,kt),n(59,B))),2048&t.$$.dirty[0]&&n(20,g=void 0===W),4096&t.$$.dirty[0]&&n(19,m=void 0===Y),1579073&t.$$.dirty[0]|8388608&t.$$.dirty[1]&&R&&!g&&!m){const{validPosition:t}=z(W,Y,N._plot);!1===t&&void 0!==N._plot?n(13,Z=!0):n(13,Z=!1)}var e;if(8193&t.$$.dirty[0]|536870912&t.$$.dirty[1]&&n(39,h=Fy(N)||!(!Py((e=N).showMobile)||!1!==e.showDesktop||q)||jy(N)&&q||Z),256&t.$$.dirty[0]&&n(18,f=H&&H.render),262144&t.$$.dirty[0]|10&t.$$.dirty[2]&&n(72,d=!f&&V>G),10&t.$$.dirty[2]&&(p=V-G),1&t.$$.dirty[0]&&n(68,_=0===N.dx&&0===N.dy),268288&t.$$.dirty[0]|268435456&t.$$.dirt],r-=X*{t:0,m:.5,b:1}[a],[n,const[e,n]=y(t);return Iy(e,n)}),262144&t.$$.dirtynsform: ${v(t)}`),e.join("; ")}),2097152&t.$$.dirtynsform: ${v(t)}`),e.join("; ")}),1&t.$$.diractiveRepeatedAnnotationIndex)}(N,lt,at),1024&t.$$electedTextAnnotations[0]===e)}(at,st),32770&t.$$.dirty[0]&&!ot&&ht&&ht.blur(),1858561&t.$$.dirty[0]|6&t.$$.dirty[2]&&pt){const t={x:W,y:Y,invalidX:g,invalidY:m,width:G,height:X,mobileFallback:f,text:N.text,plot:N._plot,index:st};rt("updateEditorState",{selectedAnnotationProps:t})}if(1&t.$$.dirty[0]&&n(69,M="mc"===N.align),279040&t.$$.dirty[0]|192&t.$$.dirty[2]&&n(36,k=it&&pt&&!f&&!(_&&M)),279040&t.$$.dirty[0]|64&t.$$.dirty[2]&&n(35,A=it&&pt&&!f&];return t-=2.5,e-=2.5,Iy(t,e)}),279040&t.$$.dirty[0]|192&t.$$.dirty[2]&&n(33,E=it&&pt&&!f&&!_&&!M),6145&t.$$.di=2.5,t+=N.dx*c,e+=N.dy,Iy(t,e)}),32897&t.$$.dirty[0]){ht&&ht===document.activeElement||(n(27,_t=F(N.text)),n(28,Tt=N.text))}if(279041&t.$$.dirty[0]|64&t.$$.dirty[2]&&n(17,S=it&&pt&&!N.connectorLine.enabled&&!_&&!f),6144&t.$$.di},${n} L${e+t.dx*c},${n+t.dy}`}),196608&t.$$.dirty[0]&&Mt&&S){const t=Mt.getBBox();n(29,Et=Math.max(Math.ceil(t.width),1)),n(30,$t=Math.max(Mn.charAt(1)]:"center"}(t)}`),e}),[N,ot,yt,vt,kt,At,R,F,H,it,st,W,Y,Z,pt,ht,Mt,S,f,m,g,i,L,C,K,et,n}),n(3,vt=0===N.dx&&0===N.dy))},func,N.width=G/R.width*100,N),ut()},at,gt,mt,bt,xt,D,z,I,P,j,U,B,q,lt,wt,G,X,V,ct,c,_,M,o,u,d,y,v,b,a,s,l,r,function(t){qm[t?"unshift":"push"]((()=>{K=t,n(24,K)}))},function(t){qm[t?"unshift":"push"]((()=>{Mt=t,n(16,Mt)}))},function(t){qm[t?"unshift":n(5,At),n(6,R),n(4,kt),n(59,B)},function(t){qm[t?"unshift":"push"]((()=>{ht=t,n(15,ht)}))},function(t){qm[t?"unshift":"push"]((()=>{C=t,n(23,C)}))},function(t){vt=t,n(3,vt)},function(t){kt=t,n(4,kt)},function(t){At=t,n(5,At)}"epeatedAnnotationIndex}function xv(t,e,n){let r,i,o,a,s,l,c,u,h,{annotation:f}=e,{dataToPx:d}=e,{pxToData:p}=e,{bounds:g}=e,{theme:m}=e,{cm:y}=e,{editMode:v}=e,{editorState:b}=e,{index:x}=e,{repeatedIndex:w}=e,{moveX:_}=e,{moveY:M}=e,{resizing:k}=e,{dragging:A}=e,{activeResizer:T}=e,{forceAize:"x"===t?g.height:gation:f,index:&n(26,E=t.fo,{selectedAnnotationProps:t})}},[f,k,x,repeatedIndex:w}),n(2,A=!0))},_,M,d,p,y,b,E,o,i,c,l,function(e){Um.call(this,t,e)},function(t){T=t,n(3,T),n(11,r),n(0,f),n(8,w),n(25,b),n(1,k),n(20,_),n(21,M),n(22,d),n(4,g),n(23,p),n(26,E),n(7,x),n(2,A)},function(t){k=t,n(1,k)},nchorDragTemp:26},fvunction(t){return Ct(t,!0,!0)}}(_v,_v.exporoUpperCase():e>62?"-":"_"),"")};function Av(){return kv(10)}const{document:Tv}=bm;function Ev(t){wm(t,"svelte-ptcp5a",".annotations-inner.svelte-ptcp5a.svelte-ptcp5a{width:100%;height:100%;pointer-events:none}.annotations-inner.editing.svelte-ptcp5a.svelte-ptcp5a{pointer-events:auto}.annotations-inner.create-mode.svelte-ptcp5a.svelte-ptcp5a{cursor:crosshair;-webkit-user-select:none;user-select:none}.annotations-inner.create-mode.svelte-ptcp5a .text-annotation,.annotations-inner.create-mode.svelte-ptcp5a .text-annotation .resizer,.annotations-inner.create-mode.svelte-ptcp5a .range-annotation,.annotations-inner.create-mode.svelte-ptcp5a .range-annotation .resizer{pointer-events:none}.create-rect.text.svelte-ptcp5a.svelte-ptcp5a{position:absolute;outline:1px solid rgba(255, 0, 221, 0.95);background:rgba(255, 0, 221, 0.1)}.create-rect.range.svelte-ptcp5a.svelte-ptcp5a{position:absolute;background:rgba(0, 0, 0, 0.1)}.annotation-keys{display:flex;flex-direction:column;gap:5px;width:100%;margin-top:10px}.annotation-keys.hide{display:none}.annotation-keys .key{display:flex;align-items:baseline}.annotation-keys .num{flex:0 0 auto;display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px}.annotation-keys.dir-rtl .num{margin-left:5px}.annotation-keys:not(.dir-rtl) .num{margin-right:5px}.annotation-keys .num.dw-bold{font-weight:700}.annotation-plot.svelte-ptcp5a.svelte-ptcp5a{position:absolute;width:100%;height:100%;box-sizing:border-box;border:1px dashed rgba(255, 0, 221, 0);transition:border-color 200ms}.annotation-plot.show-bounds.svelte-ptcp5a.svelte-ptcp5a{border-color:rgba(255, 0, 221, 0.5);transition-delay:100ms}.annotations-inner.creating.svelte-ptcp5a .annotation-plot.svelte-ptcp5a:not(.create-plot){cursor:default}.enter-plot.svelte-ptcp5a.svelte-ptcp5a{animation:svelte-ptcp5a-fadeOut ease 500ms;animation-fill-mode:forwards}@keyframes svelte-ptcp5a-fadeOut{0%{background:rgba(255, 0, 221, 0.1)}100%{background:rgba(255, 0, 221, 0)}}")}function $v(t,e,n){const r=t.slice();return r[83]=e[n],r}function Sv(t,e,n){const r=t.slice();return r[83]=e[n],r}function Ov(t,e,n){const ngth}},d(t){t&&Mm(e),km(r,t)}}}function Cv(t){let e;return{c(){e=Am("div"),Cm(e,"class","annotation-plot svelte-ptcp5a"),zm(e,"create-plot",t[18]&&t[19]&&t[88].name===t[19].name),zm(e,"enter-plot",t[0].plotHasUpdated&&!t[0].draggingOutOfBounds&&t[0].selectedAnnotationProps.plot===t[88].name),zm(e,"show-bounds",t[30][t[88].name]),Dm(e,"width",`${t[88].width}px`),Dm(e,"height",`${t[88].height}px`),Dm(e,"left",`${t[88].x}px`),Dm(e,"top",`${t[88].y}px`),Dm(e,"opacity","1")},m(t,n){_m(t,e,n)},p(t,n){787456&n[0]&&zm(e,"create-plot",t[18]&&t[19]&&t[88].name===t[19].name),1025&n[0]&&zm(e,"enter-plot",t[0].plotHasUpdated&&!t[0].draggingOutOfBounds&&t[0].selectedAnnotationProps.plot===t[88].name),1073742848&n[0]&&zm(e,"show-bounds",t[30][t[88].name]),1024&n[0]&&Dm(e,"width",`${t[88].width}px`),1024&n[0]&&Dm(e,"height",`${t[88].height}px`),1024&n[0]&&Dm(e,"left",`${t[88].x}px`),1024&n[0]&&Dm(e,"top",`ize:Math.min(f-h,c-h,f-l)}}function Pv(t,e,n){let r,i,o,a,s,l,c,u,{textAnnotations:h=[]}=e,{rangeAnnotations:f=[]}=e,{dataToPx:d}=e,{pxToData:p}=e,{theme:g}=e,{cm:m=(t=>t)}=e,{visWidth:y}=e,{visHeight:v}=e,{annotationKeysSel:b=null}=e,{ariaLabel:x=""}=e,{chroma:w}=e,{purifyHtml:_}=e,{rtl:M=!1}=e,{mrn{render:i,num:i?r:null}}))}let S,O,L=[],{editMode:C=!1}=e,{editorState:N={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],activeRepeatedAnnotationIndex:null,createMode:!1,hideConnectorLine:!1,forceOffsetDrag:!1,width:null,height:null,dataToPx:null,pxToData:null,plotHasUpdated:!1,draggingOutOfBounds:!1,lastPositionInPlot:null,selectedAnnotationProps:{x:null,y:null,invalidX:!1,invalidY:!1,width:null,height:null,mobileFallback:!1,text:null,start:null,end:null,invalidStart:!1,invalidEnd:0,N.height=O.offsetHeight,N)))}));let D,z,R,I,P,j=0,F=0,H=!1,U=!=null),n(0,N.createMode=!1,N)}const Z=Hm();let J=!1;const Q=document.querySelector(".dw-chate"in t&&n(0,N=t.editorState)},t.$$.update=()=>{if(1024&t.$$.dirty[0]|53248&t.$$.dirty[1]&&n(54,r=E(h,A,y,v)),1024&t.$$.dirty[0]|57344&t.$$.dirty[1]&&n(53,i=E(f,A,y,v)),8388608&t.$$.dirty[1]&&n(33,o=[...r].reverse()),4194304&t.$$.dirty[1]&&n(32,a=[...i].reverse()),4096&t.$$.dirty[0]&&n(21,s=u<=450),72&t.$$.dirty[0]&&n(52,l=Sr(g,w).fallbackBaseColor),2105602&t.$$.dirty[0]|2166784&t.$$.dirty[1]&&b&&(n(13,L=$({textAnnotations:h,isMobileWidth:s,dataToPx:d})),b.classed("hide",!0).html(""),b.classed("dir-${_(n.text)}</span>`}(l,r,e)))})),b.classed("hide",!t)}3&t.$$.dirty[0]&&N&&n(0,N.dataToPx=d,N),5&t.$$.dirty[0]&&N&&n(0,N.pxToData=p,N),573441&t.$$.dirty[0ight}px`)}}return t.join("; ")}),2049&t.$$.dirty[0]|12288&t.$$.dirty[1]&&C&&Z("update",{rangeAnnotations:Mv(f),textAnnotations:Mv(h),editorState:Mv(N)}),1507329&t.$$.dirty[0]&&(n(20,J=H||B||q||N.createMode),Q&&(J?Q.classList.add("editing-annotations"):Q.classList.remove("editing-annotations"))),197633&t.$$.dirty[0]&&A&&A.forEach((t=>{const e=N.selectedRangeAnnotations.length>0&&(B||H)&&N.selectedAnnotationProps&&N.selectedAnnotationProps.plot===t.name,r=N.selectedTextAnnotations.length>0&&H;n(30,tt[t.name]=N.createMode||r||e,tt)}))},[N,d,p,g,m,x,w,_,M,k,A,C,u,L,j,F,H,B,qtX+G.x),n(,void 0===r|on(){n(12,u=window.innerWidth)},function(t){D=t,n(24,D)},function(t){X=t,n(29,X)},function(t){H=t,n(16,H)},function(t){R=t,n(26,R)},function(t){z=t,n(25,z)},function(t){j=t,n(14,j)},function(t){F=t,n(15,F)},function(t){B=t,n(17,B)},function(t){P=t,n(28,P)},function(t){qm[t?"unshift":"push"]((()=>{S=t,n(22,S)}))},function(t){H=t,n(16,H)},function(t){j=t,n(14,j)},function(t){F=t,n(15,F)},function(t){B=t,n(17,B)},function(t){P=t,n(28,P)},function(t){qm[t?"unshift"left","".concat(n.l,"px"))}fa.ex,multiply:M{datet[,e]=t;return[e,i]})))}),[]))}fa.extend(pa),fa.extend(va),fa.extend(ma),fa.extend(ba),dw.visualization.register("column-chart","base",(functione.axesDef=e.axes(),e.__lastRow=0},render:function(t){const n=this;n.ret?e[t%e.length]:t.toLowerCase()}}(n.chart().get("type"),n.chart().get("metadata"),n.dataset,n.theme().filter((t=>!isFinite(t)||t<=0)).length)return void n.renderingComplete();if(n.checkDataset(t),!n.axesDef)return void n.renderingComplete();let r;if(n._isColumnChart()&&n.get("disable-tabs",!0))r=n.dataset.hasColumn(n.axesDef.column);else{const t=n.__lastRow||0;r=n.axesDef.columns[t]&&n.dataset.hasColumn(n.axesDef.columns[t])}if(!r)return n.showError(n.chart().translate("insufficient-data-columns",!0).replace("%chartid%",n.chart().get("id"))),void n.renderingComplete();e&&(n.initLocales(),e=!1),n._isColumnChFilterUI({column:r,type:"auto"})}(n,t,{rtl:n.isRtl()});const i=n.initCanvas(t);n._m.labels.totals.color",i.value),i}(n.theme()),n._formatChars={minusChar:dt(n.theme(),"vis.base.format.minusCharacter","−"),plusMinusChar:dt(n.theme(),"vis.ba1),n("highlight.clear")}}),o?0:300)}(n),n.renderChart(t,iColumn()&&this.renadjustXGrid(),ight-r.t-r.b,t.inid(),t.seriesAndValueLabelPadding())},calculateScales:function(){const t=this,e=t.isRtl(),{size:n,marginInner:r}=t.__canvas,i=[e?n.width-r.r:r.l,e?r.l:n.width-r.r],o={y:lu().domain(t.getDomain()).range([n.height,0]),x:(t.isTimeScale()?Of:Rc)().domain(t.getDomainX()).range(i)},a=t.columnData().length,s=(i[1]-i[0])/a;o.annotationsX=tale()?o.x:lu().range(i.map((t=>t-s/2))).domain([0,a]),t.renderContext.set("scales",o)},scales:function(){return this.renderContext.has("scales")||this.calculateScales(),this.renderContext.get("scales")},seriesAndValueLabelPadding:function(){const t=this,{size:e,margin:n}=t.__canvas,r=t.getDomain(),{diverging:i}=t.valueDistribution(),o={tpad:0,bpad:0},a=[e.height,0r.bpad,r.tpado,s);const c=(t,e)=>Math.abs(t-e)<.5;c(o.bpad,n.labels.bottom)&&c(o.tpad,n.labels.top)||(n.labels.bottom=o.bpad,n.labels.top=o.tpad,t.maruped()&&u)&&c&&!i.b&&(i.b=o.bpad),o},checkSeriesLabelSpace:function(t,e,n){const r=this,i={bpad:0,tpad:0};if(r.isTimeScale())return i;const o=r.seriesDist();return r.seriesLabelData().forEach((function(t){t._rotatedLblW=Math.min(150,r.labelWidth(t.label,r.sLblClass(t)))+2;const a=o+(r.rotateLabels()?t._rotatedLblW:r.labelHeight(t.label,r.sLblClass(t),r.labelSpace()));if(r._isGrouped()&&r.valueDistribution().diverging)i.bpad=Math.max(i.bpad,a);else if("bottom"===t.align){const e=Math.max(a-n(t.y),0);i.tpad=Math.max(i.tpad,e)}else{const r=Math.max(n(t.y)+a-e,0);i.bpad=Mines",!0);return e&&r&&"inside"===n},renderColumns:function(){const t=this,e=t.scales(),n=t.getColumnWidth(),r=t.chart().hasHighlight(),{gColumns:i}=t.__svgMarkup,o=t.__update,a=i.selectAll("rect.coHighlighted?"_fil().append("rect.colufilter((t=>!t.invisible)).reverse()},renderOverlays:function(){const t=this,{chroma:e}=t.libraries();if(!t.get("disable-tabs",!0))return;if(!t._isColumnChart())return;const n=t.scales(),r=t.getColumnWidth(),i=t.chart().hasHighlight(),{gOverlays:o}=t.__svgMarkup,a=t.theme(),s=t.getOverlays(),l=t.colorMap();o.selectAlHighlighted?t._fadedFill:t._fill)))}))},addLabels:function(t){const e=this,n=e.chart(),r=e.get("valueLabels.enabled",!0),i=e.chart().hasHighlight();if("value"===t&&!r&&!i)return;if("series"===t&&e.isTimeScale())return;const o=e.__update,a=e.scales(),{margin:s}=e.__canvas,{diverging:l,neg:c}=e.valueDistribution(),u=["value","total"].includes(t)?e.valueDist():e.seriesDist(),h="series"===t&&e.rotateLabels(),f="series"===t?e.seriesLabelData():e.columnData(),d=e.labelHeight("X","value ".concat("total"===t?"total":""),100),p="".concat(t).concat("total"===t?".value":""),g=o?e._$chart.select("div.labels.".concat(p)):e._$chart.append("div.labels.".concat(p)),m=g.selectAll("div.label.".concat(p)).dativ.label").style(bel:e.formatValue(n))})),o&&y(!1,n)}(),y(o),h&&g.selectAll("div.label.series").classed("rotate90",!0).classed("lbl-align-right",(t=>"top"===t.align)).classed("lbl-align-left",(t=>"bottom"===t.align)),["value","total"].includes(t)&&e.appl:function(){thisowTotals()&&this.addLabels("total")},getLabelLeft:function(t,e,n){let r=this.scales().x(t.x)+t.labelOffset-e/2;return["value","total"].includes(n)&&(r=Math.min(this.chartBbox().right-e,Math.max(0"dontshow",(t=>!t._isHighlighted))}},addXGridHoverLabels(){const t=this;if(!t.isTimeScale())return;t.initDateFormatter();const{gridAbove:e}=t.__svgMarkup,n=t.scales(),r=e.select("g.x-tick-labels").append("g.labels.series"),i=t.columnData(),o="top"===t.getXAxisPosition(),{tickLabels:a}=t.__themeProps.xGridOpts,s=t.__themeProps.xGridFontSize,l=r.selectAll("g.label.series").data(i).enter().append("g.label.series").classed("topttom",!o).translate((t=);"fg"===t&&e.style(ion(){return this.segmentWidth()<30},rotateLabels:function(){const t=this,e=t.get("rotate-labels","auto");if("on"===e)return!0;if("off"===e)return!1;if(t.renderContext.has("rotateLabels"))return t.renderContext.get("rotateLabels");let n=!1lClass(e),0)>t.labelSpace()&&(n=!0)})),t.renderContexls()&&e.push(taset.column(t.axesDef.columns[e])}},update:function(){const t=this;t.renderContext.delete("columnWidth"),t.renderContext.delete("seriesLabelData"),t.renderContext.delete("domain"),t.renderContext.delete("dataDomain"),t._marginChangeCount=0,t.initMargins(),t.__update=!0,t.renderSharedMarkup(!0)},getDomain:function(){const t=this;if(t.renderContext.has("domain"))return t.renderContext.get("domain");const e=t.applyCustomRange(t.dataDomain());return t.renderContext.set("domain",e),e},dataDomain:function(){const t=this;if(t.renderContext.has("dataDomain"))return t.renderContext.get("dataDomain");const e=!t.get("disable-tabs",!0),n=t.columnData().filter((t=>!t.noData)).map((t=>t.value));let r=[Math.min(...n,0),Math.max(...n,0)];if(e)t.get("absolute-scale",!1)&&(r=dw.utils.minMax(t.axes(!0).columns),r=[Math.min(0,r[0]),Math.max(0,r[1])]);else{const e.type()&&(n=n.concat(i.range()))}))})),r=[Math.min(0,r[0],...n),Math.max(0,r[1],...n)]}return t.renderContext.set,n[1]&&(e[1]=Mat[0],n[1]=!imeScale()?0:t.segmentWidth())-e)/2},chartBbox:function(){const t=this;if(t.renderContext.has("chartBbox"))return t.renderContext.get("chartBbox");const e=t.chart().getElementBounds(t._$chart.node());return t.renderConteisTimeScale()?0:t.segmentWidth()/2)},nSeries:function(){return tion(){return.9*this.segmentWidth()},columnWidth:function(){returnurn(t.width-e.l-e.r)et("yAxisLabels.alignment","left")]},getColumnWidth:function(){const t=this;if(t.renderContext.has("columnWidth"))return t.renderContext.get("columnWidth");const{size:e}=t.__canvas,{static:n}=t.chart().flags(),r="grouped-column-chart"===t.meta.id?"series":"bar",i=1-.5*t.get("".concat(r,"-padding"),30)/100;let o,a;if(t.isTimeScale()){coes(),r=n.slice(1).map(((t,e)=>t-n[e])),s=Math.min.apply),l=r.reduce(((t,e)=>t+(e>s?e/s-1:0)),0),c=n.length+l,u=e.width/(c+1)*i,h=t.getDomainX(!0),f=t.getDomainX(),d=Math.abs(h[1]-h[0])/Math.abs(f[1]-f[0]);o=e.width/c*(1-i),a=u*d,t.__minDiff=s}else{const n=t.getDomainX().length;if(o=e.width/n*(1-i),a=e.width/n*i,t.groupSpacing()){const e=t.nSeries(),n=t.get("yAxisLabels.enabled",!0)?e:e-1;a-=t.groupSpacing()*n/e}}return t._$chart.classed("geometric-precision-columns",!n&&o<4),t.renderContext.set(e=>e*(t.isNormatTime())),!n.length&&e.length<5?e:n},renderYGrid:function(){const t=this,{size:e,margin:n,marginInner:r}=t.__canvas,i=t.getColumnFormat(),o=[i["number-prepend"]||"",i["number-append"]||""],a=Math.pow(10,-i["number-divisor"]||0),{gridBelow:s,gridAbove:l}=t.__svgMarkup,c=t.theme(),u=t.get("yAxisLabels.enabled",!0),h=t.get("grid-lines",!0),f=t.getCustomTicksY(),d=t.isNormalized(),p=!u&&!h,g=t.get("y-grid-format","auto"),m=t.axisLabelsAlignment(),y=t.chart(),h&&(l.labelWidth=n.labelWidth)})),l}({visId:"column-chart",className:"grid-y",belowChart:s,aboveChart:l,scale:t.scales().y,scaleType:"number",plotSize:[e.width,e.height],tickPosition:m,tickLabels:u,gridLines:h,theme:c,tickLabelsInside:t.insideTicks(),secondary:!0,tickLabelFormat:d?g.replace("%",""):g,tickLabelMultiply:d?100:a,tickLabelUnit:d?["","%"]:o,baseLine:["zero"],ticks:{major:{values:f.length&&!p?f:void 0}},emotion:y.emotion,numeral:v,translate:y.translate,rtl:t.isRtl(),...t._formatChars,chroma:t.libraries().chroma}),t.insideTicks()){const e=[];l.select[m.slice(0,1)]=n.yGrid.labelWidth+5}))}for(const e of["top","left","bottom","right"])if(n.yGrid[e]>n[e.slice(0,1)]){t.marginsChanged();break}},renderXGrid:function(){const t=this,{gridBelow:e,gridAbove:n}=t.__svgMarkup,{size:r,margin:i}=t.__canvas,o=t.isTimeScale(),a=t.scales(),s=t.theme(),l=dt(s,"vis.base.gridFrame.vertical",[]),c=t.verticalBaseLine(),u=t.axisLabelsAlignment(),h=[];c&&(l.includes("axisSide")&&h.push(u),l.includes("oppositeSide")&&h.push("left"===u?"right":"left"));const f=t.getXAxisPosition(),d=t.get("grid-lines-x.enabled",!1),p=t.get("grid-lines-x.type","ticks"),g=t.getCustomTicksX(),m=t.get("x-grid-format","auto"),y=t.chart(),{numeral:v}=t.libraries(),b=t.columnData().length,x=o?!!g.length&&g:ia(1,b+2),w={visId:"column-chart",className:"grid-x",belowChart:e,aboveChart:n,scale:a.annotationsX,scaleType:o?"date":"number",secondary:!1,plotSize:[r.width,r.height],tickPosition:f,gridLines:"lines"===p&&d,tickLines:"ticks"===p&&d,tickLabels:o,theme:s,tickLabelFormat:m,minusChar:dt(s,"vis.base.format.minusCharacter","−"),baseLine:h,ticks:{major:{values:x}},rtl:t.isRtl(),translate:y.translate,emotion:y.emotion,numeral:v,chroma:t.libraries().chroma};o&&(t.__xFormat="auto"===m?$a(a.x.domain(),xa(v,w).ticksMajor):m);const _=Fa(w);if(o)for(const e of["top","left","bottom","right"])if(Math.abs(i.xGrid[e]-_[e])>1){i.xGrid=Fa(w),t(this).translate([t[0],t[1]+e.b])}))},positionTickLines:function(){const t=this,e=t.xTickLength();if(!e||t.isTimeScale())return;const{diverging:n,mix:r,pos:i,neg:o}=t.valueDistribution();if(i||t._isGrouped()&&n)return;const{size:a}=t.__canvas;t._isStacked()&&n||t._$chart.select("g.x-tick-lines").translate([0,t.scales().y(0)]),o||t.columnData().forEach(((i,o)=>{let{value:s,negSum:l,posSum:c}=i;const u=t._$chart.select(".x-tick-line:nth-child(".concat(o+1,")")),h=hm(u);if(t._isStacked()&&n){const n=t.scales().y(c?l:0)-a.height-(c?0:e);u.translate([h[0],n])}else r&&s<0&&u.transla;return e&&n.lengt0&&(e=!1)})),{pos:t,neg:e,mix:!e&&!t}},getXAxisPosition:function(){const t=this.getDomain(),{neg:e}=this.valueDistribution();return e&&0===Math.max(...t)?"top":"bottom"},tickDist:function(){return dt(this.theme(),"vis.column-chartcolumn-charn t.isTimeScemeProps.xGridOpts.tickLines.length:0},valueLabelH:function(){const t=this;if(t.renderContext.has("vLblHeight"))return t.renderContext.get("vLblHeight");const e=t.labelHeight("10","value",100);return t.renderContext.set("vLblHeight",e),e},valueLabelSpace:function(){const t=this;return t.valueLabelsEnabled()?t.valueLabelHled",!0)||thlighted))||tt.axes.gridlines.gapBetweenGroups",0)},renderGridGroups:function(){const t=this,{size:e,margin:n}=t.__canvas,r=t.groupSpacing();if(!r)return;const{gridBelow:i,gridAbove:o}=t.__svgMarkup,a=t.insideTicks(),s=t.nSeries(),l=t.segmentWidth(),c=r/2,u=e.outerWidth-n.r,h=t.scales(),f=t.columnData().map(((t,e)=>({x1:0===e&&a?0:h.x(t.x)+c,x2:a&&e===s-1?u:h.x").attr("x1",t.x1).get("metadattion(tl(this.axes:this.axes:this.axes(),dataset:this.dataset})},initGetColor:function(){const t=this,{chroma:e}=t.libraries(),n=t.colorMap(),r=dt(t.theme(),"vis.base.highlights.noFade",!1),i=t.get("base-color",0),o={customColors:t.get("color-category.map",{}),selectedColor:i},a=t.get("negativeColor.enabled",!1);if(a){const e=t.theme().colors.negative,n=t.get("negativeColor.value",e);o.negativeColor=a,o.negativeColorValue=n}const s=gl(t.theme(),o:fm(e,n(s(i,o,a)),t.theme.axesDef.columnsmat",{})[this.fmtColumn().name()]||{}},initValueFormatter(){const t=this,e=t.isNormalized(),n=t.shortPrependAppend()&&!e,r=t.getColumnFormat();let i=t.get("valueLabels.format")||t.get("y-grid-format","auto");"auto"===i&&(i=Zo(t.scales().y.domain())),e&&!i.includes("%")&&(i+="%");const{nummber-divisor"]||0),...t._formatChars})},_isStacked:function(){return"stacked-column-chart"===this.meta.id},_isGrouped:function(){return"grouped-column){return"colun().diverging&&&(e[0]=n&&(n=t)}retuM"===dw.columte.getMonth(),t.date.getDate()))})),t},columnData:function(){const t=this,e=!t.get("disable-tabs",!0),n=e&&t.__lastRow||0;if(t.renderContext.has("columnData"))return t.renderContext.get("columnData")[n];const{chroma:r}=t.libraries(),i=t.axes(!0),o=t.colorMap(),a=t.isTimeScale()?t.getDates(!0).filter((t=>Ir(t.date))):i.labels.values(),s=t.chart().hasHighl&&n.reverse()}return n[0]._first=!0,n}));return t.renderContextto]:[]).some((t=>!Rr(t)||isNaN(t)))))},seriesLabelData:function(){const t=this;if(t.renderContext.has("seriesLabelData"))return t.renderContext.get("seriesLabe,y:0,align:t.value>=0?"top":"bottom"})));return t.renderContext.)}returlassed(t,!1),ft(e).classed(n,!0),t=n)},renderAnnotations:function(){const t=this,{margin:e,size:n}=t.__canvas,r=t.scales(),i=t.isTimeScale(),o={y:r.y,x:r.annotationsX};let a=t.renderContext.get("annotationLayer");if(a){const e=Hv(o,i),r=Uv(o,i);Bv(t),a.$set({dataToPx:e,pxToData:r,visWidth:n.width,visHeight:n.height})}else a=function(t,e){const{size:n}=t.__canvas,r=t.chart(),i=t._$chart,o=t.chart().inEditor(),a=t.chart().flags().isEdititMode:!0}),l.syncAnnotationLayer(g))}}():null;const c=At(t.get("text-annotations",[])),u=At(t.get("range-annotations",[])),h=t.isTimeScale();if(!c.lenEach((t=>{t.x?Fv(t.x1):+t.x1,t.y0=+t.y0,t.y1=+t.y1}));const f=Hv(e,h),d=Uv(e,h);Bv(t);const p=t.renderContext.get("annotationLayer");if(p)try{p.$destroy()}catch(t){}let g;if(!s){const e=i.append("div.annotation-keys"),r=i.append("div.annotations-outer").append("div.annotations");g=new jv({target:r.node(),props:{textAnnotations:c,rangeAnnotations:u,dataToPx:f,pxToData:d,theme:t.theme(),cm:t.colorMap(),visWidth:n.width,visHeight:n.height,rtl:t.isRtl(),mirrorX:t.isRtl(),annotationKeysSel:e,chroma:t.libraries().chsplay tabs."}),l.set({editorState:t})}l&&(m(),s||(g.$set({editMode:!0}),l.syncAnnotationLayer(g)));const y=i.select(".annotation-keys:not(.hide)").node(),v=y&&y.children.length?r.getElementBounds(y).height+20:0;return t.renderContext.set("annotationKeyHeight",v),g}(t,o),t.renderContext.set("annotationLayer",a);e.annotationKeys=t.renderContext.get("annseColorSwahis.get("show]=o+n.top+n.bottom,t.marginsChanged()},legend:function(){return arguments.length&&this.renderContext.set("legend",arguments.length<=0?void 0:arguments[0]),this.renderCdPadding().top"vis.base.legend.panumber-appenales.dayjs;t&&fa.everse().map((t=>e=>fa(e).format(t)))},getOffset:function(){const t=this;if(t.renderContext.has("offset"))return t.renderContext.get("offset");const e=t.chart().getElementBounds(t._$chart.select(".bgRect").node()),n={right:e.right-t.__canvas.size.outerWidth,top:e.top,left:e.left};return t.rendet("span").not("span").nodaltion.duration:0).ease(Ec.exponent(5))},animation:{duratheight:a}},eis.__canvas.marginInner={l:0,r:0,b:0}},isTimeScale:function(){const t=this;if(t.renderContext.has("isTimeScale"))return t.renderContext.get("isTimeScale");const e=t.axes(!0).labels,n="date"===e.type()&&e.values().filter(Ir).length>1;return t.renderContext.sheme(),"colot(thison(){return"rtl"===this.textDirection},renderContext:new Map}}),...dw.visualization.hasVisHash?["01090a99"]:[]),dw.visualization.register("grouped-column-chart","column),n.addDirectLabghted)).map((t=>t.key))t._isHighlighted)).map((t=>t.key)):[]},dataDomain:function(){const t=this;if(t.renderContext.has("dataDomain"))return t.renderContext.get("dataDomain");let e=dw.utils.minMax(t.axes(!0).columns);return e=[Math.min(e[0],0),Math.max(e[1],0)],t.renderContexg",1);returnmnWidth()/this.axes(!0).labels.length},groupWidth:function(){return this.getColumnWidth()},renderColumns:function(){const t=this,e=t.scales(),n=t.chart().hasHighlight(),r=t.columnPadding(),i=t.colorMap(),o=t.isRtl(),a=t.__svgMarkup.gColumns.selectAll("g.group").data(t.columnData()).enter().append("g").attr("class","group").translate((n=>[e.x(n.x)+t.leftOffset()(t=>o?t.data.slice(0).reverse():t.data)).eattr("x",((e,n)=>t.columnWidth()*n+r/2)).attr(.y(0)-e.y(t.value):e.y(t.value)-e.y(0))).att("y",(t=>t.value>0?e.y(t.value):e.y(0))),n&&a.selectAll("rect.column").classed("highlighted",(t=>t._isHighlighted)).classed("unfocus",(t=>!t._isHighlighted))},addValueLabels:function(){const t=this,{chroma:e}=t.libraries(),n=t.chart(),r=t.get("valueLabels.enabled",!0),i=t.chart().hasHighlight(),o=t.colorMap();if(!r&&!i)return;const a="outside"===t.get("valueLabels.placement"),s=t.scales(),l=t.__canvas.margin,c=t.valueDist(),u=t.labelHeight("X","value",100),h=t._$chart.append("div.labels.values").selectAll("div.label-group.values").data(t.columnData()).enter().append("div.label-group.valueRtl()?e.data.slice(0).reverse():e.data)).enter().append("div.label.value").clted",(t=>!a&&e(o(t._fill)).lab()[0]<70));h.append("span.fg").style("color",a?t.__themeProps.value:null).html((e=>t.formatValue(e,!t.s5+r),t.getLabel(t.value)+l.t-(t.value<0?u+5:-5)+"px"})),t.applyValueLabelClasses()},addDirectLabels:function(){const t=this,{chroma:e}=t.libraries();if(!t.useDirectLabeling())return;const n=t.colorMap(),r=t.isRtl(),{margin:i,size:o}=t.__canvas,a=t.scales(),s=t._$chart.selectAll("g.conodes().filter((t=>ft(t).datum().label)).map(((s,l)=>{const c=ft(s).datum(),u=a.y(c[c.value<0?"y0":"y1"])+i.t;t.__last_bar={x:a.x(c.x)+t.labelOffset()-t.columnWidth()/2,w:t.columnWir[2]):n:r[0]<15?e.lab(50,r[1],r[2]):n}(n(ft(s).datum()._fill)):t.__themeProps.chartContentBaseColor;return{label:ft(s).datum().directLabel,x:r?i.l-20:o.outerWidth-i.r+20,y:u+c._height/2,oy:u+c._height/2,w:i[r?"l":"r"]-20,align:"left",valign:"middle",cl:"",rotate:0,sl2Key:"row-"+l,labelColor:t.get("use-line-color")?h:null,lineColor:h}})),l=t._$chart.selectAll("div.label.direct").data(s).enter().append("div.label.direct").style(ght","0px").style("width",(t=>t.w+"px")).append("span").style("color",(t=>t.labelColor)).hteme);ft(this).style("top",e-n/2+"px")}))}({labels:l,pad:7,valign:"middle",ymin:-line-color")?2:1).att("categoryLabels.position","direct")},connectBars:function(){const t=this;if(!t._isStacked()||!t.get("connect-bars"))return;const{neg:e,pos:n}=t.valueDistribution();if(!e&&!n)return;const{svgRoot:r}=t.__svgMarkup,i=t.isRtl()?-1:1,o=t.scales(),a=t.columnData(),s=t.getColumnWidth(),l=dt(t.theme(),"vis.stacked-column-chart.connectBa("fill",t._fill).attr("opacity",l)}))}))},valueLabelSpace:function(){const t=this,e=t.get("valueLabels.enabled",!0),n="inside"===t.get("valueLabels.placement"),r=t.chart().hasHighlight();if(n)return 0;if(r||e){const e=t.scales(),n=t.valueDist(),r=t.labelHeight("X","value",100),i=e.y.domain()[0],o=t.dataDomain()[0],a=e.y(i)-e.y(o);return Math.mas:n,mix:!r&&!n},t.(n)&&t.__highlightedSeries.push(n)}))},headerColumn:function(){const t=this;if(t.renderContext.has("headerColumn"))return t.renderContext.get("headerColumn");const e=dw.column("",t.axes().columns);return t.renderContext.set("heads)(r.type(!0).pays.indexOf(a)&&t.fault:l,nonumRows()>1&&);return Math.round(e.top+e.bottom+r)},createGetColor:function(){const t=this,{chroma:e}=t.libraries(),n=t.get("color-category.map",{}),r=t.get("base-color",0),i=dt(t.theme(),"vis.base.highlights.noFade",!1),o=gl(t.theme(),{customColors:n,selectedColor:r,permute:!1,keys:t.colorKeys()});let a=o;if(t.chart().hasHighlight()).interpolate(o(r,a),n,.&&(r=t)}retus.date(this.axesDef.columns).format()},columnData:function(){return this._columnData()},_columnData:function(){const t=this;if(t.renderContext.has("columnData"))return t.renderContext.get("columnData");const e=t.get("sort-values"),n=t.get("reverse-order"),r=t.isTimeScale()map(((t,e)=>"".concat(t,"-").concat(e))),i=t.get("color-catabel:d,directLabel:dt(i,c,d),r:n}}))}}));return t.isTimeScale()||(e&&(o=t.sorn t.data[tion(t){return/^X\.\d+$/.test(t)?"":t},seriesLabelData:function(){const t=this;if(t.renderContext.has("seriesLabelData"))return t.renderContext.get("seriesLabelData");const{pos:e,mix:n,diverging:r}=t.valueDistribution(),i=t.sca|n&&t.range[0]>=0||r?"top":"bottom",t)));return t.renderContext.set("seriesLabelData",o),o},isTimeScale:function(){const t=this;if(t.renderContext.has("isTimeScale"))return t.renderContext.get("isTimeScale");t.axesDef=t.axes();const e=dw.column.types.date(t.axesDef.columns),n=t.axesDef.columns.map((t=>e.parse(t))).filter(Ir),r=t.chart().get("metadata.data.column-format",{})[t.axesDef.labels]||{},i=t._isStacked()&&"text"!==r.type&&n.length>1;return t.renderContext.set("isTimeScale",i),i}}}),...dw.visualization.hasVisHash?["01090a99"]:[]),dw.visualization.register("stacked-column-chart","grouped-column-chart",(function(){return{columnData:function(){const t=this;if(t.renderContext.has("stackedColumnData"))return t.renderContext.get("stackedColumnData");const e=t.get("sort-values"),n=t.get("reverse-order"),r=t._columnData();let i;r(((t,n)=>{e[n]||(-1&&(o._last=!0),0===a&&(o._first=!0)})),t.renderContext.set("stackedColumnData",r),r},seriesLabelData:function(){const t=this;if(t.renderContext.has("seriesLabelData"))return t.renderContext.get("seriesLabelData");const{pos:e,mix:n,diverging:r}=t.vali>=0||r&&0!==t.posSum?"top":"bottom"}}));return t.renderContext.set("seriesLabelData",i),i},renderColumns:function(){const t=this,e=t.scales(),n=t.chart().hasHighlight(),r=t.colorMap(),{gColumns:i}=t.__svgMarkup,o=t.columnData(),a=i.selectAll("g.column-group").data(o).enter().ap.classed("lasnslate((n=>[e.x(n.x)+t.leftOffset(),0]));a.selectAll("rect.column").data((t=>t.data)).entert.column").style(th.abs(e.y(0)-e.y(t.value)),t._height))).a("y",(t=>t.value<0?e.y(t.y0):e.y(t.y1))),n&&a.selectAll("rect.column").classed("highlighted",(t=lassed("unfocus",(t=>!t._isHighlighted))},addValueLabels:function(){const t=this,{chroma:e}=t.libraries(),n=t.chart(),r=t.get("valueLabels.enabled",!0),i=n.hasHighlight();if(!r&&!i)return;const o=t.scales(),a=t.__canvas.margin,s=t.columnData(),l=t.labelHeight("X","value",100),c=t.colorMap(),u=t._$chart.append("div.labels.values").selectAll("div.label-group.values").data(s).enter().append("div.label-group.values").selectAll("div.label.value.inside").data((t=>t.data)).enter().append("div.lanverted",(t=>e(c(t._fill)).lformatValue(e,!t.set(),t.getLabel1))/2;return o.y(t.y0)-e+a.t-l/2+"px"})),t.applyValueLabelClasses()},dataDomain:function(){const t=this;if(t.renderContext.has("dataDomain"))return t.renderContext.get("dataDomain");const e=t.isNormalized();let n=0,r=0;const i=[],or+t:r})),i.push(n),o.push(r),n=0,r=0)})),e||(n=Math.min.apply(Math,i),r=Math.max.apply(Math,o)),t.renderContext.set("dataDomain",e?[0,1]:[n,r]),t.renderContext.get("dataDomain")},getDomain:function(){const t=this;if(t.renderContext.has("domain"))return t.renderContext.get("domain");const e=t.dataDomain(),n=t.isNormal,r=t.get("custom-range",[]).map((t=>+t));return isNaN(r[0])||(e[0]=r[0]>e[0]?e[0]:r[0]),isNaN(r[1])||(e[1]=r[1]<e[1]?e[1]:r[1]),e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0),t.renderContext.set("domain",n?[0,1]:e),t.re"value total",1als()?t.totanction()ion(){retuthis.get("categoryLabels.enabled",!0)}}}),...dw.visualization.hasVisHash?["01090a99"]:[])}();

