"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[3300],{83300:(e,t,a)=>{a.r(t),a.d(t,{default:);var r,n,i,o,s,p,d=a(3e4),c=a(41185),l=a(66062),m=(a(91938),a(76955)),u=a(29466),g=a.n(u),b=a(97175),h=a(66948),y=a(43177),f=a.n(y),v=a(77948),Z=a(29842),T=a(73614),I=a(89865),O=a(5563),_=a(10793),k=a(48516),E=a(16884),L=a(36509),j=a(75457);nction M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function C(){return(C=(0,l.Z)((function*(e){var{dispatch:t,getState:a,match:r}=e,{params:n}=r,i=n.amebaId,o=yield t((0,T.Rs)(i));if(!o||!o.error){var s=a().bloggerState,p=s.bloggerMap,d=s.blogMap[(p[i]||{}).blog];if(d&&d.blog_id){var c=n.entryId||"";if(""===c){var l=a().entryState,m=M(n.page);c=((l.pcBlogTopPageMap["".concat(d.blog_id,"/").concat(m)]||{}).data||[])[0]}c&&d.blog_id&&(yield t((0,I.KL)(c,d.blog_id)))}}}))).apply(this,arguments)}var N=(0,h.$j)((function(e,t){var{match:a}=t,{params:r,route:n}=a,i=r.amebaId,o=n.pageType,s=e.entryState,p=e.bloggerState,d=e.blogRecentEntryState,c=p.bloggerMap[i]||{},l=(c.attribute||{}).isOfficial,m=p.blogMap[c.blog]||{},u=r.entryId||"";if(""===u){var g=M(r.page);u=((s.pcBlogTopPageMap["".concat(m.blog_id,"/").concat(g)]||{}).data||[])[0]}return{amebaId:i,blog:m,entry:s.entryMap[u]||{},isOfficial:l,pageType:o,recentlyThemeEntries:((d.blogRecentEntry[u]||{}).recently_theme||[]).map((e=>w(w({},e),s.entryReactionsMap[e.entry_id])))}}),{trackTapLog:O.XI})(r=(0,b.provideHooks)({done:)((i=n=class extends m.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||!g()(this.props.blog,e.blog)||!g()(this.props.entry,e.entry)||!g()(this.props.recentlyThemeEntries,e.recentlyThemeEntries)}renderTheme(){var{amebaId:e,entry:t}=this.props;return t.theme_name?(0,d.Z)("h4",{"data-uranus-component":"mainWidgetTitle"},void 0,"\u540c\u3058\u30c6\u30fc\u30de \u300c",(0,d.Z)(k.Z,{targetUrl:(0,E.Z)(j.Z.Theme,{amebaId:e,themeId:t.theme_id})},void 0,t.theme_name),"\u300d \u306e\u8a18\u4e8b"):o||(o=(0,d.Z)("h4",{"data-uranus-component":"mainWidgetTitle"},void 0,"\u540c\u3058\u30c6\u30fc\u30de\u306e\u8a18\u4e8b"))}renderEntryList(){var{amebaId:e,blog:t}=this.props,a=this.props.recentlyThemeEntries.slice(0,3).map(((a,r)=>{var n=f()(a.entry_created_datetime,v.Z.DEFAULT_DATE),i=(0,Z.M)(t,a),o=a.iineCnt||0,c=a.commentCnt||0,l=i.canIine&&o>0&&"open"===a.publish_flg,m=i.canComment&&c>0;return(0,d.Z)("li",{className:"skin-borderQuiet"},"recent_theme_entry_".concat(a.entry_id),(0,d.Z)(_.f,{orderId:"".concat(r+1),pageId:this.props.pageType,sectionId:"same-theme-article",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,d.Z)(k.Z,{"data-uranus-component":"relatedEntriesTarget",targetUrl:(0,L.IT)(e,a)},void 0,(0,d.Z)("p",{"data-uranus-component":"relatedEntriesTitle"},void 0,a.entry_title),(0,d.Z)("p",{className:"skin-textQuiet","data-uranus-component":"relatedEntriesDatetime"},void 0,n),(0,d.Z)("div",{className:"skin-textQuiet","data-uranus-component":"relatedEntriesFeedback"},void 0,(0,d.Z)("dl",{className:"skin-textQuiet","data-uranus-component":"feedbackCounts"},void 0,l&&[s||(s=(0,d.Z)("dt",{"aria-label":"\u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u305f\u3044\u3044\u306d\u6570"},"iine-label",(0,d.Z)("span",{"data-uranus-icon":"iine large"}))),(0,d.Z)("dd",{},"iine-cnt",o)],m&&[p||(p=(0,d.Z)("dt",{"aria-label":"\u3053\u306e\u8a18\u4e8b\u306b\u3064\u3044\u305f\u30b3\u30e1\u30f3\u30c8\u6570"},"comment-label",(0,d.Z)("span",{"data-uranus-icon":"comment large"}))),(0,d.Z)("dd",{},"comment-cnt",c)])))))}));return(0,d.Z)("ul",{className:"skin-borderLoud","data-uranus-component":"relatedEntries"},void 0,a)}render(){var{amebaId:e,entry:t,recentlyThemeEntries:a}=this.props;return a&&0!==a.length?(0,d.Z)("div",{"data-uranus-component":"mainWidget"},void 0,(0,d.Z)("div",{className:"skin-mainWidgetTitle skin-borderLoud","data-uranus-component":"mainWidgetHeader"},void 0,this.renderTheme()),(0,d.Z)("div",{"data-uranus-component":"mainWidgetBody"},void 0,this.renderEntryList()),(0,d.Z)("div",{"data-uranus-component":"mainWidgetFooter"},void 0,(0,d.Z)(_.f,{pageId:this.props.pageType,sectionId:"same-theme-article-more",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,d.Z)(k.Z,{className:"skin-btn","data-uranus-component":"button",targetUrl:(0,E.Z)(j.Z.Theme,{amebaId:e,themeId:t.theme_id})},void 0,"\u3082\u3063\u3068\u898b\u308b")))):null}},n.displayName="PcRecentThemeEntryListUranus",r=i))||r)||r}}]);