import{l as F,a3 as $,c,G as i,P as l,Y as s,F as h,$ as P,a6 as f,z as t,x as d,I as k,a7 as b,R as x,a4 as w,q,N as I,O as S,H as B,an as A,ao as N}from"./graphql.5cf3693b.js";import{aF as D,K as M,cb as R,aA as V,l as E,as as C,b8 as L,aD as T}from"./itinerary-entities.5f897bcd.js";import{P as j}from"./PanelContainer.e2d81510.js";import{b as z,A as G}from"./entry.a7cea746.js";import"./itinerary-modules.2ea32123.js";import"./service-client.4862e840.js";const H={class:"infos-list"},J={class:"title"},K={class:"value"},O=F({__name:"FrozenCard",props:{item:{},selected:{type:Boolean}},setup(e){const a=$(),o=D(),{day:r}=E(),v=c(()=>[{title:"Ù…Ø¨Ø¯Ø§",value:e.item.origin},{title:"Ù…Ù‚ØµØ¯",value:e.item.destination},{title:"ØªØ§Ø±ÛŒØ® Ø³ÙØ±",value:r.js(e.item.departureDate).format(M({format:"long"}))},{title:"ØªØ¹Ø¯Ø§Ø¯",value:`${e.item.count} Ù†ÙØ±`}]),p=c(()=>{switch(e.item.status){case"Cancelled":return"Ú©Ù†Ø³Ù„ Ø´Ø¯Ù‡";case"Finalized":return"ÙØ±ÛŒØ² Ù‚ÛŒÙ…Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.";case"PaymentPending":return"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª";case"InProcess":{const n=r.gregory(e.item.departureDate).diff(new Date,"days"),u=r.gregory(e.item.departureDate).diff(new Date,"hours")%24;return e.selected?`Ù…Ù‡Ù„Øª Ø§Ø³ØªÙØ§Ø¯Ù‡: ${n} Ø±ÙˆØ² Ùˆ ${u} Ø³Ø§Ø¹Øª Ø¯ÛŒÚ¯Ø±`:`${e.item.flightCount} Ù¾Ø±ÙˆØ§Ø² ÙØ±ÛŒØ² Ø´Ø¯Ù‡ ØªØ§ ${n} Ø±ÙˆØ² Ùˆ ${u} Ø³Ø§Ø¹Øª Ø¯ÛŒÚ¯Ø±`}case"FilledCapacity":return"ØªÚ©Ù…ÛŒÙ„ Ø¸Ø±ÙÛŒØª";case"ExpiredDate":return"ÙØ±ØµØª Ø®Ø±ÛŒØ¯ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ø§Ø³Øª.";default:return"ÙˆØ¶Ø¹ÛŒØª Ù†Ø§Ù…Ø´Ø®Øµ"}}),y=()=>{e.selected||(o.selectedFrozenPrice=e.item,a.push(`/panel/price-freeze/${e.item.id}`))};return(n,u)=>(i(),l("div",{class:x(["frozen-card-container",{selected:n.selected}])},[s("div",H,[(i(!0),l(h,null,P(t(v),m=>(i(),l("div",{key:m.title,class:"info-container"},[s("div",J,f(m.title),1),s("div",K,f(m.value),1)]))),128))]),d(z,{class:"desktop-only",vertical:"",margin:20,size:"52px"}),divider",margin:12,size:"100%"}),d(V,{type:"transparent","left-icon":n.selected?vck:y},{default:k(()=>[b(f(t(p)),1)]),_:1},8,["left-icon"])],2))}});const Y=C(O,[["__scopeId","data-v-af8376e7"]]),_=e=>(A("data-v-9e232ab3"),e=e(),N(),e),Q={class:"price-freeze-page-wrapper"},U={class:"title"},W=_(()=>s("p",{class:"description"}," Ù†Ú¯Ø±Ø§Ù† Ø§ÙØ²Ø§ÛŒØ´ Ù‚ÛŒÙ…Øª Ù‡Ø³ØªÛŒØ¯ ÛŒØ§ Ø²Ù…Ø§Ù† Ø¨ÛŒØ´ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ØŸ Ø¨Ø§ ÙØ±ÛŒØ² Ù‚ÛŒÙØ§Ù†Ø¯Ù‡ Ø¨Ù‡ ØªØ§Ø±ÛŒØ® Ù¾Ø±ÙˆØ§Ø² Ø¨Ø§ Ù‚ÛŒÙ…Øª ÙØ†ÛŒØ¯. ",-1)),X=_(()=>s("div",{class:"loader-card loading-skeleton"},nullv",-skeleton"},null,-1)),ee=_(()=>s("div",{class:"loader-card loading-skeleton"},null,-1)),te=F({__name:"index",setup(e){const a=w(),o=D(),r=c(()=>!!a.query.mac),v=c(()=>!!a.query.id||!!a.query.mac),p=c(()=>o.loadingFrozenPrices),y=c(()=>o.frozenPrices),n=()=>{o.loadFrozenPrices()};return q(async()=>{a.query.id&&a.query.mac&&await o.confirmPriceFreeze({id:Number(a.query.id),mac:a.query.mac}),n()}),(u,m)=>(i(),l("div",Q,[I(s("div",{class:x(["statuser",{success:t(r),failed:!t(r)}])},[d(T,{icon:t(L),size:"large",color:"var(--green-700)"},null,8,["icon"]),s("div",U,f(t(r)?"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.":"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ù…Ø§ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯."),1)],2),[[S,t(v)]]),d(j,{title:"Ù¾Ø±ÙˆØ§Ø²Ù‡Ø§ÛŒ ÙØ±ÛŒØ² Ø´Ø¯Ù‡","show-header-in-mobile":""},{default:k(()=>[W]),_:1}),t(p)?(i(),l(h,{key:0},[X,Z,ee],64)):(i(!0),l(h,{key:1},P(t(y),g=>(i(),B(Y,{key:g.id,item:g},null,8,["item"]))),128)),d(G,{class:"accordion",title:"Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ø´Ø±Ø§ÛŒØ· Ø§Ø³ØªÙØ§Ø¯Ù‡","title-variant":"h3"})]))}});const ce=C(te,[["__scopeId","data-v-9e232ab3"]]);export{ce as default};
