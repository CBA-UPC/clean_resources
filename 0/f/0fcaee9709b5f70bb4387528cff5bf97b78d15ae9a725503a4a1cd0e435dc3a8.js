(window.webpackJsonp=window.webpackJsonp||[]).push([[36,17],{1523:function(e,t,a){},1559:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(5),c=a(150),i=a(151),l=a(153),s=a(152),d=a(24),m=a.n(d),u=a(261),p=a(35),h=a(161),f=a(698),b=a(155),v=a(11),g=a(27),y=function(e){var t=e.id,a=e.previewStop,n=e.editTourStop,r=e.toggleDeleteConfirm,c=Object(g.a)(b.k.manageTours),i=Object(v.a)(c,1)[0];return o.a.createElement("div",{className:"tour-stop-btn-wrapper"},o.a.createElement(p.a,{handleClick:a,"data-cy":"stop-card-preview-btn-".concat(t)},o.a.createElement("i",{className:"material-icons"},"visibility"),"\xa0Preview"),o.a.createElement(p.a,{handleClick:n,"data-cy":"stop-card-edit-btn-".concat(t)},o.a.createElement("i",{className:"material-icons"},"edit"),"\xa0Edit"),o.a.createElement(p.a,{handleClick:r,disabled:!i,"data-cy":"stop-card-delete-btn-".concat(t)},o.a.createElement("i",{className:"material-icons"},i?"delete":"lock"),"\xa0Delete"))},E=(a(1523),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showDeleteConfirm:!1},e.removeStopFromTour=function(){var t=e.props,a=t.item.id;(0,t.commonProps.handleStopRemove)(a)},e.editTourStop=function(){var t=e.props,a=t.item,n=a.id,o=a.tourId;t.commonProps.history.push("/home/".concat(o,"/edit/stop/").concat(n))},e.previewStop=function(){var t=e.props,a=t.item,n=a.tourId,o=a.order,r=t.commonProps.history;r.push({pathname:"/home/view/".concat(n,"/stop/").concat(o+1),state:{previewExitPath:r.location.pathname}})},e.toggleDeleteConfirm=e.renderDeleteConfirmButtons=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{className:"media-delete text-btn",handleClick:e.removeStopFromTour},o.a.createElement("i",{className:"material-icons"},"delete"),"\xa0Delete"),o.a.createElement(p.a,{className:"delete-cancel text-btn",handleClick:e.toggleDeleteConfirm},o.a.createElement("i",{className:"material-icons"},"cancel"),"\xa0Cancel"))},e}return Object(i.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.item.order!==this.props.item.order||t.showDeleteConfirm!==this.state.showDeleteConfirm}},{key:"render",value:function(){var e=this.props,t=e.item,a=t.id,n=t.description,r=t.name,c=t.panoId,i=t.mainMediaType,l=t.order,s=e.itemSelected,d=e.dragHandle,p=e.commonProps.highlightMarker,v=this.state.showDeleteConfirm,g=m()("tour-stop-card item",{dragged:0!==s}),E=n&&Object(f.a)(n);return o.a.createElement("article",{className:g,onMouseOver:onMouseOut:"data-cy":"stop-card-".concat(a)},d(o.a.createElement("div",{className:"drag-handle"},o.a.createElement("i",{className:"material-icons"},"open_with"))),o.a.createElement("span",{className:"tour-stop-card-thumb-wrapper"},o.a.createElement(h.default,{mediaId:c,mediaType:i||b.j,thumbClass:"stop-card-thumbnail",height:75,alt:E})),o.a.createElement("div",{className:"tour-stop-card-content"},o.a.createElement("h3",null,r),o.a.createElement("p",{className:"tour-stop-card-paragraph",style:{WebkitBoxOrient:"vertical",MozBoxOrient:"vertical"}},E),o.a.createElement(y,{id:a,previewStop:this.previewStop,editTourStop:this.editTourStop,toggleDeleteConfirm:this.toggleDeleteConfirm})),o.a.createElement(u.a,{copy:"Are you sure you want to delete this stop?",closeModal:this.toggleDeleteConfirm,isOpen:v,renderButtons:this.renderDeleteConfirmButtons}))}}]),a}(n.Component)),C=Object(r.a)(,k=Object(n.memo)(function(e){var t=e.tourStops,a=e.path,n=e.history,r=e.userEmail,c=e.handleStopRemove,i=e.highlightMarker,l=e.handleStopChange;return o.a.createElement("section",{className:"tour-stop-list","data-cy":"tour-stops-list"},o.a.createElement(C,{itemKey:"id",template:E,list:t,onMoveEnd:padding:0,commonProps:{path:a,history:n,highlightMarker:i,userEmail:r,handleStopRemove:c}}))});t.default=k},161:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(150),c=a(151),i=a(153),l=a(152),s=a(24),d=a.n(s),m=a(167),u=a.n(m),p=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).thumbClickEvent=function(){var t=e.props,a=t.id,n=t.handleClick;"function"===typeof n&&n(a)},e.state={loaded:!1},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.loaded,a=this.props,n=a.id,r=a.classes,c=a.height,i=a.src,l=a.alt,s=a.thumbBtns,m=a.overlayMediaName,p=a.name,h=a.dragHandle,f=a.dragHandleProps,b=a.tabIndex,v=Math.round(c/2),g="#fff url(".concat(u.a,") center / ").concat(v,"px no-repeat");return o.a.createElement("div",{tabIndex:b||-1,className:"".concat(r," thumb-wrapper"),key:n,"aria-hidden":"true",style:{background:g},onClick:this.thumbClickEvent,onKeyPress:this.thumbClickEvent},o.a.createElement("img",{style:{display:"block",height:c,minHeight:c,margin:"auto"},className:d()({loaded:t}),src:i,alt:l,onLoad:),m&&o.a.createElement("span",{className:"stop-name overlay"},p),"function"===typeof s&&o.a.createElement("div",{className:"thumb-btn-wrapper"},s(n),"function"===typeof h&&h(f)))}}]),a}(n.Component),h=a(11),f=a(238),b=a(186),v=a.n(b),g=a(155),y=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={loaded:!1},e.thumbClickEvent=e.buildThumb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t.split("."),n=Object(h.a)(a,2),o=n[0],r=n[1];return e===g.o&&(t=o),{assetId:e!==g.a?"".concat(e,"/").concat(t):"images/audio-thumb-placeholder.jpg",format:r}},e.setLoaded=e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.loaded,t=this.props,a=t.alt,n=t.classes,r=t.deleted,c=t.dragHandle,i=t.dragHandleProps,l=t.height,s=t.id,m=t.logo,p=t.mediaType,h=t.name,b=t.overlayMediaName,g=t.pad,y=t.publicId,E=t.selectedMedia,C=t.tabIndex,k=t.thumbBtns,w=t.view,N=d()({"thumb-image":!0,loaded:e,hidden:r&&!E,"hidden-width":r&&s===E}),O=Math.round(l/2),M=w?v.a:u.a,j=!m&&"".concat(w?"#000":"#fff"," url(").concat(M,") center / ").concat(O,"px no-repeat"),S=this.buildThumb(p,s).assetId,I=m?"limit":g?"pad":"lfill",x=m?"":"black",D="videos360"===p;return s?o.a.createElement("div",{className:"".concat(n," thumb-wrapper"),key:s,style:{background:j},onClick:this.thumbClickEvent,onKeyPress:this.thumbClickEvent,"aria-hidden":0!==C,tabIndex:C>-1?C:-1,"data-cy":"cloudinary-thumb-".concat(s)},!D&&o.a.createElement(f.a,{alt:a,background:x,className:N,cloudName:"concept3d",crop:I,fetchFormat:"auto",gravity:"center",height:l,onLoad:this.setLoaded,publicId:y||S,quality:"auto",responsive:!0}),D&&o.a.createElement(f.a,{alt:a,className:N,cloudName:"concept3d",fetchFormat:"jpg",height:l||1,onLoad:this.setLoaded,publicId:S,quality:"auto",resourceType:"video"}),"function"===typeof k&&o.a.createElement("div",{className:"thumb-btn-wrapper"},k(s),"function"===typeof c&&c(i)),b&&o.a.createElement("span",{className:"stop-name overlay"},h)):null}}]),a}(n.PureComponent);a(187),t.default=function(e){var t=e.alt,a=e.deleted,n=e.dragHandle,r=e.dragHandleProps,c=e.handleClick,i=e.height,l=e.logo,s=e.mediaId,d=e.mediaType,m=e.name,u=e.overlayMediaName,h=e.pad,f=e.publicId,b=e.selectedMedia,v=e.tabIndex,E=e.thumbBtns,C=e.thumbClass,k=e.thumbSrc,w=e.view,N=e.width;return d===g.n?o.a.createElement(p,{alt:t,classes:C,dragHandle:n,dragHandleProps:r,handleClick:c,height:i,id:s,key:s,name:m,overlayMediaName:u,src:k,tabIndex:v,thumbBtns:E}):o.a.createElement(y,{alt:t,publicId:f,classes:C,deleted:a,dragHandle:n,dragHandleProps:r,handleClick:c,height:i,id:s,key:s,logo:l,mediaType:d,name:m,overlayMediaName:u,pad:h,selectedMedia:b,tabIndex:v,thumbBtns:E,view:w,width:N})}},167:function(e,t,a){e.exports=a.p+"static/media/placeholder-dark-logo.d501ab4e.png"},186:187:function(e,t,a){},261:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(53);a(304);t.a=function(e){var t=e.closeModal,a=e.copy,n=e.isOpen,c=e.renderButtons;return o.a.createElement(r.a,{isOpen:n,closeModal:t,className:"delete-confirm-modal"},o.a.createElement("div",{className:"delete-confirm-modal__wrapper"},o.a.createElement("p",{className:"delete-confirm-modal__copy"},a),o.a.createElement("span",{className:"delete-confirm-modal__btn-wrapper"},"function"===typeof c&&c())))}},304:698:function(e,t,a){"use strict";t.a=}]);