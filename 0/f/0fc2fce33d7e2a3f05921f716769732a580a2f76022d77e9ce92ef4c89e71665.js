import{H as c,L as m,A as d,B as u,D as g,_ as r,S as b,al as _,Z as p,I as f,J as y,O as v,G as S}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";import{u as k,c as V}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import{F as B,G as M}from"./lsanalytics-cart_5cb2710b_r24-02-0_b0_t240129-161140.js";import{G as C}from"./GmapAutocompleteWrapper_03ed6bde_r24-02-0_b0_t240129-161140.js";import{l as x}from"./csrViewStoreInventory_328e6f57_r24-02-0_b0_t240129-161140.js";import{S as G}from"./SvgIcon_e55bd28a_r24-02-0_b0_t240129-161140.js";import{_ as O}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";const A={inject:["mq"],emits:["validateAutofill","searchStore","callback","tryAutofill"],components:{GmapAutocompleteWrapper:C,SvgIcon:G},props:{id:{type:String,default:""},labelText:{type:String,default:""},stateModel:{type:String,required:!1,default:""},stateModule:{type:String,required:!1,default:""},disableStateUpdate:{type:Boolean,default:!1},value:{type:String,default:""},validation:{type:Function,default:,errorMsg:{type:String,default:""},isValid:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!1},maxlength:{type:Number,required:!1,default:30},autocompleteOptions:{type:Object,default:,isRequired:Boolean,validateOnBlur:{type:Boolean,default:!0},setSelectedRange:{type:Boolean,default:!1},billingCountry:{type:String,default:""}},datacomputed:{...c(k,["country"]),...c(V,["isBopisEnabled"]),mappedValue:{get(){return this.disableStateUpdate?this.value:this.$store.getters[`${this.stateModule}/${this.stateModel}`]},set(l){this.isValid||this.validation(l),this.disableStateUpdate?this.$emit("callback",l):this.$store.commit(`${this.stateModule}/updateState`,{property:this.stateModel,value:l})}},isFilledoptions(){return{...this.autocompleteOptions,componentRestrictions:{country:this.getGMapCountry()}}},isMobile,methods:{getGMapCountryblurValidation(l){this.addOutline=!1,this.validateOnBlur&&(B(),this.validation(l.target.value))},clickLabelautofillData(l){let i=!1;if(l.address_components){if(this.id==="findStore.address"){this.mappedValue="";const t=l.address_components.reduce((e,s)=>s.types.includes("locality")&&s.types.includes("political")||s.types.includes("country")&&s.types.includes("political")?(i=!0,[...e,s.long_name]):!i&&s.types.includes("neighborhood")&&s.types.includes("political")?[...e,s.long_name]:s.types.includes("administrative_area_level_1")&&s.types.includes("political")?[...e,s.short_name]:e,[]);this.mappedValue=t.length&&t.join(", ");return}this.mappedValue="",M();const a=l.address_components.find(t=>t.types.includes("postal_code"));this.disableStateUpdate?this.$emit("tryAutofill",{key:"postcode",value:a?a.long_name:""}):this.$store.commit(`${this.stateModule}/updateState`,{property:"postcode",value:a?a.long_name:""});const n=this.getGMapCountry();if(["GB","SE","NO"].includes(n)){const t=l.address_components.find(e=>e.types.includes("postal_town"));this.disableStateUpdate?this.$emit("tryAutofill",{key:"city",value:t?t.long_name:""}):this.$store.commit(`${this.stateModule}/updateState`,{property:"city",value:t?t.long_name:""})}else if(n==="TR"){const t=l.address_components.find(e=>e.types.includes("administrative_area_level_2"));this.disableStateUpdate?this.$emit("tryAutofill",{key:"city",value:t?t.long_name:""}):this.$store.commit(`${this.stateModule}/updateState`,{property:"city",value:t?t.long_name:""})}else{const t=l.address_components.find(e=>e.types.includes("locality"));if(this.disableStateUpdate?this.$emit("tryAutofill",{key:"city",value:t?t.long_name:""}):this.$store.commit(`${this.stateModule}/updateState`,{property:"city",value:t?t.long_name:""}),n==="US"||n==="CA"){const e=l.address_components.find(;this.disableStateUpdate?this.$emit("tryAutofill",{key:"state",value:`${n}-${e.short_name}`}):this.$store.commit(`${this.stateModule}/updateState`,{property:"state",value:`${n}-${e.short_name}`})}}this.mappedValue=l.name?l.name:"",this.$emit("validateAutofill")}else this.mappedValue=l.name?l.name:"",this.isBopisEnabled&&this.$emit("searchStore")},handleInputenterClicked,beforeCreate(){this.autocomplete&&x().then(}},L=["id","name","maxlength","disabled"],D=["for"],F={key:2,class:"error-msg",id:"error-message",role:"alert"};function I(l,i,a,n,t,e){const s=m("gmap-autocomplete-wrapper"),h=m("SvgIcon");return d(),u("div",{class:r(["form-group hasFloatLabel",[{invalid:!a.isValid}]])},[a.autocomplete&&t.dependencyLoaded?(d(),g(s,{key:0,value:e.mappedValue,class:r(["form-control",{isFilled:e.isFilled},{invalid:!a.isValid},{"outlined-on-focus":t.addOutline}]),placeholder:"",id:"address.line1",onFocus:i[0]||(i[0]=o=>t.addOutline=!0),onInput:i[1]||(i[1]=,onPlace_changed:e.autofillData,onBlur:e.blurValidation,options:e.options,disabled:a.isDisabled,"set-selection-range":a.setSelectedRange,"aria-label":a.labelText},null,8,["value","class","onPlace_changed","onBlur","options","disabled","set-selection-range","aria-label"])):b((d(),u("input",{key:1,id:a.id,name:a.id,class:r(["form-control",{isFilled:e.isFilled},{invalid:!a.isValid},{"outlined-on-focus":t.addOutline}]),"onUpdate:modelValue":i[2]||(i[2]=,type:"text",maxlength:a.maxlength,onFocus:i[3]||(i[3]=,onBlur:i[4]||(i[4]=(...o)=>e.blurValidation&&e.blurValidation(...o)),disabled:a.isDisabled,"aria-required":"true",onKeyup:i[5]||(i[5]=p((...o)=>e.enterClicked&&e.enterClicked(...o),["enter"])),"aria-activedescendant":"error-message"},null,42,L)),[[_,e.mappedValue]]),f("label",{class:r(["control-label",{disabled:a.isDisabled},{required:a.isRequired}]),for:a.id,onClick:i[6]||(i[6]=(...o)=>e.clickLabel&&e.clickLabel(...o)),onKeyup:i[7]||(i[7]=p(["enter"]))},y(a.labelText),43,D),!a.isValid&&!a.isDisabled&&a.errorMsg?(d(),u("div",F,[v(h,{name:"error",class:"error-icon",title:"error","set-aria-hidden":!0}),f("span",null,y(a.errorMsg),1)])):S("",!0)],2)}const P=O(A,[["render",I],["__scopeId","data-v-fe877913"]]);export{P as T};
