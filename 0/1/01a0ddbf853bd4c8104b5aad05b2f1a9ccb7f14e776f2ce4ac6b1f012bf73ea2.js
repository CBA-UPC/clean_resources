(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{Fz6n:function(e,t,n){(function(e){(function(t){"use strict";var n=r=i=o=Array.prototype.splice,a=c=s=u=function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}p.prototype.clear=n,p.prototype.delete=a,p.prototype.get=c,p.prototype.has=s,p.prototype.set=u;var l=p,f=y=d=function(e){return this.__data__.get(e)},_=function(e){return this.__data__.has(e)},v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};nction g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m="object"==g(v)&&v&&v.Object===Object&&v;function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T="object"==("undefined"===typeof self?"undefined":I(self))&&self&&self.Object===Object&&self,S=m||T||Function("return this")(),A=S.Symbol,O=Object.prototype,b=O.hasOwnProperty,R=O.toString,N=A?A.toStringTag:void 0,C=P=Object.prototype.toString,w=function(e){return P.call(e)},V=A?A.toStringTag:void 0,M=function L(e){return(L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var D=U=k=S["__core-js_shared__"],F=),j=G=Function.prototype.toString,B=H=/^\[object .+?Constructor\]$/,W=Function.prototype,Y=Object.prototype,x=W.toString,K=Y.hasOwnProperty,z=RegExp("^"+x.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=J=X=Z=X(S,"Map"),Q=X(Object,"create"),$=ee=te=Object.prototype.hasOwnProperty,ne=re=Object.prototype.hasOwnProperty,ie=oe=function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ae.prototype.clear=$,ae.prototype.delete=ee,ae.prototype.get=ne,ae.prototype.has=ie,ae.prototype.set=oe;var ce=ae,se=function ue(e){return(ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pe=le=fe=ye=function(e){return le(this,e).get(e)},de=_e=e.prototype.clear=se,ve.prototype.delete=fe,ve.prototype.get=ye,ve.prototype.has=de,ve.prototype.set=_e;var he=ve,Ee=e.prototype.clear=f,ge.prototype.delete=y,ge.prototype.get=d,ge.prototype.has=_,ge.prototype.set=Ee;var me=ge,Ie=Te=),Se=Ae=Object.prototype.hasOwnProperty,Oe=be=Re=function Ne(e){return(Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ce=Pe=function(e){return Ce(e)&&"[object Arguments]"==M(e)},we=Object.prototype,Ve=we.hasOwnProperty,Me=we.propertyIsEnumerable,Le=Pe(function(){return arguments}())?Pe:De=Array.isArray,Ue=function(){return!1},ke=E(();function Fe(e){return(Fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var je=/^(?:0|[1-9]\d*)$/,Ge=Be=He={};He["[object Float32Array]"]=He["[object Float64Array]"]=He["[object Int8Array]"]=He["[object Int16Array]"]=He["[object Int32Array]"]=He["[object Uint8Array]"]=He["[object Uint8ClampedArray]"]=He["[object Uint16Array]"]=He["[object Uint32Array]"]=!0,He["[object Arguments]"]=He["[object Array]"]=He["[object ArrayBuffer]"]=He["[object Boolean]"]=He["[object DataView]"]=He["[object Date]"]=He["[object Error]"]=He["[object Function]"]=He["[object Map]"]=He["[object Number]"]=He["[object Object]"]=He["[object RegExp]"]=He["[object Set]"]=He["[object String]"]=He["[object WeakMap]"]=!1;var We=Ye=xe=E((),Ke=xe&&xe.isTypedArray,ze=Ke?Ye(Ke):We,qe=Object.prototype.hasOwnProperty,Je=Xe=Object.prototype,Ze=Qe=$e=Qe(Object.keys,Object),et=Object.prototype.hasOwnProperty,tt=nt=rt=function(e){return nt(e)?Je(e):tt(e)},it=function(e,t){return e&&be(t,rt(t),e)},ot=at=Object.prototype.hasOwnProperty,ct=st=ut=pt=E((),lt=ft=yt=dt=Object.prototype.propertyIsEnumerable,_t=Object.getOwnPropertySymbols,vt=_t?yt,ht=function(e,t){return be(e,vt(e),t)},Et=gt=Qe(Object.getPrototypeOf,Object),mt=Object.getOwnPropertySymbols?yt,It=Tt=St=function(e){return Tt(e,rt,vt)},At=Ot=X(S,"DataView"),bt=X(S,"Promise"),Rt=X(S,"Set"),Nt=X(S,"WeakMap"),Ct="[object Map]",Pt="[object Promise]",wt="[object Set]",Vt="[object WeakMap]",Mt="[object DataView]",Lt=B(Ot),Dt=B(Z),Ut=B(bt),kt=B(Rt),Ft=B(Nt),jt=M;(Ot&&jt(new Ot(new ArrayBuffer(1)))!=Mt||Z&&jt(new Z)!=Ct||bt&&jt(bt.resolve())!=Pt||Rt&&jt(new Rt)!=wt||Nt&&jt(new Nt)!=Vt)&&(jt=;var Gt=jt,Bt=Object.prototype.hasOwnProperty,Ht=Wt=S.Uint8Array,Yt=xt=function(e,t){var n=t?Yt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Kt=/\w*$/,zt=qt=A?A.prototype:void 0,Jt=qt?qt.valueOf:void 0,Xt=Zt=Qt=$t=Object.create,en=),tn=nn=function(e){return Ce(e)&&"[object Map]"==Gt(e)},rn=xe&&xe.isMap,on=rn?Ye(rn):nn,an=cn=xe&&xe.isSet,sn=cn?Ye(cn):an,un="[object Arguments]",pn="[object Function]",ln="[object Object]",fn={};fn[un]=fn["[object Array]"]=fn["[object ArrayBuffer]"]=fn["[object DataView]"]=fn["[object Boolean]"]=fn["[object Date]"]=fn["[object Float32Array]"]=fn["[object Float64Array]"]=fn["[object Int8Array]"]=fn["[object Int16Array]"]=fn["[object Int32Array]"]=fn["[object Map]"]=fn["[object Number]"]=fn[ln]=fn["[object RegExp]"]=fn["[object Set]"]=fn["[object String]"]=fn["[object Symbol]"]=fn["[object Uint8Array]"]=fn["[object Uint8ClampedArray]"]=fn["[object Uint16Array]"]=fn["[object Uint32Array]"]=!0,fn["[object Error]"]=fn[pn]=fn["[object WeakMap]"]=!1;var yn=dn=function(e){return yn(e,5)},_n=vn=function(e){return"string"===typeof e},hn=function(e){return function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}(e,"Date")},En=function(e){return null===e||void 0===e},gn={EVENT:{LoggedIn:{eventType:1,endpoint:"login"},Click:{eventType:2,endpoint:"click"},Search:{eventType:3,endpoint:"search"},Cart:{eventType:4,endpoint:"cart"},Purchase:{eventType:5,endpoint:"purchase"},LoggedOut:{eventType:6,endpoint:"logout"},PromotionAd:{eventType:7,endpoint:"adPromotion"},VideoPreview:{eventType:8,endpoint:"video/preview"},Recommend:{eventType:9,endpoint:"recommendation"},Download:{eventType:10,endpoint:"download"},VideoStream:{eventType:11,endpoint:"video/stream"},PageView:{eventType:12,endpoint:"pageView"},Voucher:{eventType:13,endpoint:"voucher"},Navigation:{eventType:14},Interact:{eventType:15,endpoint:"interact"},ActivityPost:{eventType:16,endpoint:"activity"},Reg:{eventType:17,endpoint:"reg"},Impression:{eventType:18,endpoint:"impression"},Cam:{eventType:19,endpoint:"cam"},Optimus:{eventType:20,endpoint:"optimus"},CommunityModify:{eventType:21,endpoint:"community/modify"},CommunityUser:{eventType:22,endpoint:"community/user"},CommunityPost:{eventType:23,endpoint:"community/post"},List:{eventType:24,endpoint:"list"},MessagePost:{eventType:28,endpoint:"messagepost"},Startup:{eventType:30,endpoint:"startup"},Error:{eventType:99,endpoint:"error"},UserFacingError:{eventType:100,endpoint:"errorUver"}},DEVICE_TYPE:{WEB:201,PS3:202,VITA:203,HE:204,XPERIA:205,PS4:206,PS4K:206,WEB_MOBILE:207,MWEB:207,COMP_APP:208,PSNOW_BETA:209,SEN_TV:210,TV:210,FRIEND_APP:211,PSNOW_VITA:212,PSNOW_VITA_TV:213,AAVU:214,IPHONE_VIDEO:215,PSNOW_CE:216,PSNOW_SUBSCRIPTION:217,PSNOW_PC:222,PS4_SOCIAL:223,PS4_REGCAM:224,SOCIAL_WEB_PC:225,SOCIAL_WEB_MOBILE:226,SOCIAL_TOOLBAR_PC:227,SOCIAL_TOOLBAR_MOBILE:228,WEB_STORE_PC:229,WEB_STORE_MOBILE:230,PODRACER:233,PS4_VIDEO:236,ANDROID_TV:237,ANDROID:238,IOS:239,ROKU:240,FIRE_TV:241,APPLE_TV:242,CHROMECAST:243},IMPACT:{CRITICAL:0,MAJOR:1,MINOR:2,NORMAL:3,INFO:4}};function mn(){return(mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}gn.URL={EVENT:"https://event.api.{{env}}.km.playstation.net/event/"};var In=function(e){if(void 0===e)return!1;var t=e.event,n=e.payload,r=void 0===n?{}:n,i=e.properties,o=e.validations;return i?!!o[String(t.type)](e)&&(mn(r,function(e,t){return Object.keys(e).reduce((function(n,r){var i=e[r](t);return void 0!==i&&(n[r]=i),n}),{})}(i,e)),r):(e.logger.warning("[KamajiPlugin] Unsupported event type.",{eventType:t.type,pluginName:e.pluginName}),!1)},Tn=function(e){return e.environment.deviceId},Sn=new RegExp("(".concat(["&quot;","&rsquo;",'"',"&","'","#","\\$","%","\\^","\\*","!","<",">","~",";","\\?","\u2122","\xae","\xa9",":"].join("|"),")"),"g"),An=function(){function e(){}return e.truncateJsonToString=function(e,t,n){if(!e)return"";var r=JSON.stringify(e);if(r.length<=t)return r;for(var i="...",o=n+i.length,a=Object.keys(e).map((function(t){var n=e[t];return{key:t,value:n,output:function(e){return"number"===typeof e}(n)||"undefined"===typeof n?"":vn(n)?n:JSON.stringify(n)}}));r.length>t&&a.length>0;){a.sort((function(e,t){return t.output.length-e.output.length}));var c=a[0];if(c.output.length<=o)break;vn(c.value)||(c.value=c.output,e[c.key]=c.value,r=JSON.stringify(e));var s=Math.max(c.value.length-(r.length-t),Math.floor(c.value.length/2),o);c.value=c.value.substring(0,s-i.length)+i,c.output=c.value,e[c.key]=c.value,r=JSON.stringify(e)}return r},e.cleanUpString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return"";var r=String(e);return r=r.replace(Sn,""),t&&(r=r.replace(t,"")),r=r.replace(/[ ]{2,}/," ").replace(/\s?:\s?/g,":").replace(/(^\s+|\s+$)/g,""),n?r.toLowerCase():r},e.cleanUpLocationString=function(t){for(var n=[],r=t.split(":"),i=0;i<r.length;i+=1)r[i]&&n.push(e.cleanUpString(r[i]));return n.join(":")},e}(),On=function(e){var t=e.event,n=e.environment;return An.cleanUpString(t.overrideAppName||n.appName)},bn={accessToken:function(){},accountId:function(e){var t=e.environment;return t.visitorId||Tn({environment:t})},appName:On,buildVersion:function(e){var t=e.event,n=e.environment,r=e.gctVersion,i=An.cleanUpString(t.overrideBuildVersion||n.buildVersion);return"BuildNum:".concat(On({event:t,environment:n}),"|").concat(i,"|gct_v").concat(r)},deviceId:Tn,shortTermId:function(e){return e.event.shortTermId},deviceType:function(e){var t,n=e.environment,r=e.config,i=e.pluginName,o=e.logger,a=n.deviceType.toUpperCase();if(r.overrideDeviceType)t=r.overrideDeviceType;else{if(!gn.DEVICE_TYPE[a])return o.warning("[Kamaji] Unknown deviceType provided",{pluginName:i,deviceType:n.deviceType}),!1;t=gn.DEVICE_TYPE[a]}return t},eventType:function(e){var t=e.event,n=e.EVENT_CONSTANTS,r=void 0===n?{}:n;return function(e,t){var n=t[e];if(void 0===n)throw new TypeError("invalid type: ".concat(JSON.stringify(e)));return n.eventType}(t.type,r)},ipAddress:function(){return""},time:function(e){var t=e.event,n=hn(t.time)&&!isNaN(t.time.valueOf())?t.time:new Date;return n.toISOString()},storeCountryCode:function(e){var t,n=e.environment;return vn(n.locale)&&(t=n.locale,/^[a-z]{2}_(?:[a-z]{2}){1,2}(?:_[a-z]{2})?$/i.test(t))?n.locale.substr(3,2):"US"}},Rn={data:function(e){var t=e.event,n={errorDesc:t.description,errorUrl:t.apiUrl,errorStack:t.stack};return t.errorMetadata&&Object.keys(t.errorMetadata).filter(().forEach((),An.truncateJsonToString(n,1536,15)},errorCode:function(e){var t,n=e.event,r=e.logger;return"undefined"===typeof n.error?(r.warning("event.error is missing"),!1):"undefined"===typeof n.code?(r.warning("event.code is missing"),!1):(t=parseInt(n.code,10),isNaN(t)&&(r.warning("event.code is not a number: ".concat(n.code),{code:n.code}),t=null),t)},expId:function(){return""},feature:function(e){var t=e.logger,n=e.locationSegments,r=(void 0===n?[]:n).slice(0,2).join(":");return r.length>16&&(t.warning("Length of feature exceeds ".concat(16," chars limit for: '").concat(r,"'")),r=r.substr(0,16)),r},impact:function(e){var t=e.event,n=e.pluginName;return function(e,t){var n="string"===typeof e?e.toUpperCase():e;if("undefined"!==typeof n){if(n in gn.IMPACT)return gn.IMPACT[n];throw new Error("Severity '".concat(e,"' not supported by ").concat(t," plugin"))}}(t.severity,n)},major:function(e){var t=e.logger,n=e.locationSegments,r=(void 0===n?[]:n).slice(2,3).join(":");return r.length>16&&(t.warning("Length of major exceeds ".concat(16," chars limit for: '").concat(r,"'")),r=r.substr(0,16)),r},minor:function(e){var t=e.event,n=e.logger,r=An.cleanUpString(t.error);return r.length>32&&(n.warning("Event.minor exceeds maximum character limit.",{maxLength:32,value:r}),r=r.substr(0,32)),r}};function Nn(){return(Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Cn={Startup:function(){return!0},UserFacingError:function(e){var t=e.event,n=e.logger;if("UserFacingError"===t.type){if("undefined"===typeof t.error)return n.warning("event.error is missing"),!1;if("undefined"===typeof t.code)return n.warning("event.code is missing"),!1}return!0}},Pn={Startup:Nn({},bn,{currentPageUrl:function(e){return e.event.url},deeplink:function(e){return e.event.deeplink},location:function(e){return e.event.location},locationType:function(e){return e.event.locationType},plusUser:function(e){return e.environment.isPlusUser},privacySettings:function(e){return e.environment.platformPrivacyWs1},startupContext:function(e){return e.event.startupContext},startupType:function(e){return e.event.startupType},userAgent:function(){return"undefined"!==typeof navigator&&navigator&&navigator.userAgent||void 0}}),UserFacingError:Nn({},bn,Rn)},wn=function(e){return e?e.split(":").filter((function(e){return e})).map((function(e){return An.cleanUpString(e)})):[]},Vn=function(){function e(){}var t=e.prototype;return t.emergency=function(){},t.alert=function(){},t.critical=function(){},t.error=function(){},t.warning=function(){},t.notice=function(){},t.info=function(){},t.debug=function(){},t.log=function(){},e}();function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dn=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t,n,r,i)||this).properties=Ln({},Pn),o.validations=Ln({},Cn),o.eventConstants=Ln({},gn.EVENT),o._xhr=n.xhr,Object.keys(o.config.customEventsDefinition||{}).forEach((function(e){var t=o.config.customEventsDefinition[e],n=t.validate,r=t.eventType,i=t.batchName,a=t.endpoint,c=t.sendImmediately,s=t.payload,u=n||if(void 0===o.eventConstants[e]){if(En(r)||En(i)||En(a))return void o.logger.warn("kamaji: customEventsDefinition missing properties for ".concat(e,"."));o.eventConstants[e]={eventType:r,batchName:i,endpoint:a,sendImmediately:c}}else En(r)&&En(i)&&En(a)&&En(c)||o.logger.warn("kamaji: The following properties are read-only (eventType, batchName, endpoint, sendImmediately).");En(s)?o.logger.warn("kamaji: customEventsDefinition missing payload for ".concat(e,".")):function(e,t,n){void 0===o.properties[e]?(o.properties[e]=Ln({},t,bn),o.validations[e]=n):o.logger.warn("kamaji: Cannot extend properties, key ".concat(e," already exists."))}(e,s,u)})),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.buildPayload=function(e,t){var n=t.event,r=t.gctVersion,i=this.properties[String(n.type)];if(!i)return this.logger.warning("[KamajiPlugin] Unsupported event type.",{eventType:n.type,pluginName:this.pluginName}),!1;var o={event:n,config:this.config,environment:this.environment,gctVersion:r,locationSegments:wn(n.location),logger:this.logger,payload:{},pluginName:this.pluginName,validations:this.validations,properties:i,EVENT_CONSTANTS:this.eventConstants};return In(o)},i.sendPayload=function(e,t,n){var r=function(e,t){return function(e){return e?"/"===e.substr(-1)?e:"".concat(e,"/"):"/"}((e.eventUrl||gn.URL.EVENT).replace("{{env}}",e.env||"e1-np"))+t}(n.config,function(e,t){var n=Object.keys(t).find(();return"undefined"===typeof n?{}:t[n]}(e.eventType,this.eventConstants).endpoint),i={"Content-Type":"application/json; charset=utf-8"},o=function(e){return e?"[".concat(JSON.stringify(e),"]"):null}(e);this._xhr("POST",r,i,o)},r}(function(){function e(e,t,n,r){this.environment=e||{},this.config=t||{},this.__logger=this.config.__logger||new Vn,this.__pluginName=n,this.__serviceLocator=r,this._useAsyncInterface=!1}var t,n,r,i=e.prototype;return i._dispatchAsync=function(e){var t=this;return Promise.resolve(null).then((function(){var n=t.buildPayloadAsync(e);return n?(t.config.dryRun||t.sendPayloadAsync(n,e),n):n}))},i._dispatchSync=function(e,t){var n=this.buildPayload(e,t);return n?(this._logEventPayload(e,n),this.config.dryRun?this.logger.warning("Not sending ".concat(e.type," event to ").concat(this.pluginName," (dry run)")):this.sendPayload(n,e,t)):!1===n&&this.logger.warning("Could not build payload for ".concat(e.type," event to ").concat(this.pluginName,"!")),this.config.dryRun?null:n},i.dispatch=function(e,t){return this._useAsyncInterface?this._dispatchAsync(t):this._dispatchSync(e,t)},i._logEventPayload=function(e,t){var n=e&&e.type||"Unknown";this.logger.debug("".concat(this.pluginName," ").concat(n," Sending payload."),{payload:t})},i.buildPayload=function(e,t){return this.logger.warning("".concat(this.constructor.name,".buildPayload() is not implemented by plugin!")),{}},i.buildPayloadAsync=function(e){throw new Error("Method buildPayloadAsync is abstract.")},i.sendPayload=function(e,t,n){this.logger.warning("".concat(this.constructor.name,".sendPayload() is not implemented by plugin!"))},i.sendPayloadAsync=function(e,t){throw new Error("Method sendPayloadAsync is abstract.")},t=e,(n=[{key:"pluginName",get:function(){return this.__pluginName}},{key:"serviceLocator",get:function(){return this.__serviceLocator}},{key:"logger",get:function(){return this.__logger}}])&&Mn(t.prototype,n),r&&Mn(t,r),e}());function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var kn="kamaji";function Fn(e){return(Fn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var jn=E((function(e,t){e.exports={1:[function(e,t,n){function r(e){var t=Array.prototype.map.call(e,(function(e){return e.charCodeAt(0)})),n=new ArrayBuffer(t.length),r=new Uint8Array(n);return t.length&&r.set(t),n}function i(e){return unescape(encodeURIComponent(e||""))}unction a(e,t,n){if(e.byteLength<t+n.byteLength)throw new Error("_copyBytes() insufficient space remaining in dest for elements in src");for(var r=new Uint8Array(e),i=new Uint8Array(n),o=0;o<i.length;o++)r[o+t]=i[o]}function c(e){var t={url:e.url};t.async=void 0===e.async||e.async,t.type=e.type||"GET",t.headers=e.headers||{},t.data=e.data||null,t.timeout=~~e.timeout,t.success="function"===typeof e.success?e.success:function(){},t.error="function"===typeof e.error?e.error:function(){};var n=new XMLHttpRequest;n.open(t.type,t.url,t.async),n.timeout=t.timeout,Object.keys(t.headers).forEach((function(e){n.setRequestHeader(e,t.headers[e])})),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?t.success(n.responseText,n):t.error(n.responseText,n))},n.send(t.data)}function s(){}s.prototype.BYTES_PER_METRIC=16,s.prototype.PROTOCOL_VERSION=3,s.prototype.SESSION_EXPIRE_MS=18e5,s.prototype.initialize=function(e,t,n,r,i,o,a){if(null!==e&&"object"===Fn(e))this._initializeOptionsObject(e);else{var c={deviceId:e,buildVersion:t,dataStore:n,accountId:i,url:r,xhr:o,afterInit:a};this._initializeOptionsObject(c)}},s.prototype._initializeOptionsObject=function(e){this.protocolVersion=this.PROTOCOL_VERSION,this.deviceId=e.deviceId,this.dataStore=e.dataStore,this.accountId=e.accountId,this.appName=e.appName,this.buildVersion=e.buildVersion,this.networkType=e.networkType,this.platformVersion=e.platformVersion,this.screenInfo=e.screenInfo,this.expId=e.expId,this.keyMap={},this.url=e.url,this.expUrl=e.url.replace("/clairvoyance/","/clairvoyance/exp/")+"?DeviceID="+encodeURIComponent(e.deviceId||""),this.deviceIdBytes=r(i(e.deviceId)),this.accountIdBytes=r(i(e.accountId)),this.buildVersionBytes=r(i(e.buildVersion)),this.expIdBytes=r(i(e.expId)),this.appNameBytes=r(i(e.appName)),this.networkTypeBytes=r(i(e.networkType)),this.platformVersionBytes=r(i(e.platformVersion)),this.screenInfoBytes=r(i(e.screenInfo)),this.useExperimentalVersion31=e.useExperimentalVersion31||!1;var t=Int8Array.BYTES_PER_ELEMENT+Int8Array.BYTES_PER_ELEMENT+Float64Array.BYTES_PER_ELEMENT+Int16Array.BYTES_PER_ELEMENT+Float64Array.BYTES_PER_ELEMENT+Int16Array.BYTES_PER_ELEMENT+this.buildVersionBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.deviceIdBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.accountIdBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.expIdBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.appNameBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.networkTypeBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.platformVersionBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+this.screenInfoBytes.byteLength;function n(){"function"===typeof e.afterInit&&e.afterInit()}this.bytesToSendHeader=t,this.xhr="function"===typeof e.xhr?e.xhr:c,n()},s.prototype._getSessionString=function(){var e=this.dataStore.getSessionString();return e||(e=Date.now()+","+Math.random()+",-1|-1",this.dataStore.saveSessionString(e)),e},s.prototype.start=s.prototype.stop=function(e){this.sendLatencyData(this,[{metric:e,startTimestamp:this.keyMap[e],latency:Date.now()-this.keyMap[e]}]),this.keyMap[e]=null},s.prototype.sendLatencyData=function(e,t,n,c,s){var u=this._getSessionInfo(),p=this.useExperimentalVersion31?1:0,l=r(i(c)),f=r(i(s));e=e.sort(o).map(function(e){return this.useExperimentalVersion31&&(e.bootInfoBytes=e.bootInfo?r(i(e.bootInfo)):l,e.metricInfoBytes=r(i(e.metricInfo))),e}.bind(this));var y=this.bytesToSendHeader+e.length*this.BYTES_PER_METRIC+f.byteLength+Int16Array.BYTES_PER_ELEMENT;this.useExperimentalVersion31?e.forEach(function(e){y+=Int16Array.BYTES_PER_ELEMENT+e.bootInfoBytes.byteLength+Int16Array.BYTES_PER_ELEMENT+e.metricInfoBytes.byteLength}.bind(this)):y+=l.byteLength+Int16Array.BYTES_PER_ELEMENT;var d=e[0].startTimestamp,_=new ArrayBuffer(y),v=new DataView(_),h=0;v.setInt8(h,this.protocolVersion,!1),h+=Int8Array.BYTES_PER_ELEMENT,v.setInt8(h,p,!1),h+=Int8Array.BYTES_PER_ELEMENT,v.setFloat64(h,u.sessionId,!1),h+=Float64Array.BYTES_PER_ELEMENT,v.setInt16(h,u.sequence,!1),h+=Int16Array.BYTES_PER_ELEMENT,v.setFloat64(h,d,!1),h+=Float64Array.BYTES_PER_ELEMENT,v.setInt16(h,this.buildVersionBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.buildVersionBytes),h+=this.buildVersionBytes.byteLength,v.setInt16(h,this.deviceIdBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.deviceIdBytes),h+=this.deviceIdBytes.byteLength,v.setInt16(h,this.accountIdBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.accountIdBytes),h+=this.accountIdBytes.byteLength,v.setInt16(h,this.expIdBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.expIdBytes),h+=this.expIdBytes.byteLength,v.setInt16(h,this.appNameBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.appNameBytes),h+=this.appNameBytes.byteLength,v.setInt16(h,this.networkTypeBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.networkTypeBytes),h+=this.networkTypeBytes.byteLength,this.useExperimentalVersion31||(v.setInt16(h,l.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,l),h+=l.byteLength),v.setInt16(h,f.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,f),h+=f.byteLength,v.setInt16(h,this.platformVersionBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.platformVersionBytes),h+=this.platformVersionBytes.byteLength,v.setInt16(h,this.screenInfoBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,this.screenInfoBytes),h+=this.screenInfoBytes.byteLength;var E=u.previousMetric;e.forEach(function(e){v.setInt32(h,e.metric,!1),h+=Int32Array.BYTES_PER_ELEMENT,this.useExperimentalVersion31&&(v.setInt16(h,e.metricInfoBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,e.metricInfoBytes),h+=e.metricInfoBytes.byteLength),v.setInt32(h,E,!1),h+=Int32Array.BYTES_PER_ELEMENT,v.setInt32(h,e.latency,!1),h+=Int32Array.BYTES_PER_ELEMENT,v.setInt32(h,e.startTimestamp-d,!1),h+=Int32Array.BYTES_PER_ELEMENT,this.useExperimentalVersion31&&(v.setInt16(h,e.bootInfoBytes.byteLength,!1),h+=Int16Array.BYTES_PER_ELEMENT,a(_,h,e.bootInfoBytes),h+=e.bootInfoBytes.byteLength),E=e.metric}.bind(this)),this.xhr({url:this.url,type:"POST",data:_,headers:{"Content-type":"application/octet-stream"},success:t,error:n}),this._updateSessionInfo(E)},s.prototype._getSessionInfo=function(){var e,t=this._getSessionString(),n=t.split("|"),r=n[0].split(","),i=r[0],o=r[1],a=parseInt(r[2]),c=Date.now(),s=n[1],u=!1;n.length<3&&(u=!0),(c-i>this.SESSION_EXPIRE_MS||u)&&(o=Math.random(),a=-1,s=-1);var p=(i=c)+","+(e={sessionId:o,sequence:a+1,previousMetric:s}).sessionId+","+e.sequence;return n[0]=p,t=n.join("|"),this.dataStore.saveSessionString(t),e},s.prototype._updateSessionInfo=function(e){var t=this._getSessionString(),n=t.split("|");n[1]=e,t=n.join("|"),this.dataStore.saveSessionString(t)},t.exports=s},{}]},{},[1])(1)})),Gn=function(e){return function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}(e,"Object")},Bn=function(){function e(){}var t=e.prototype;return t.emergency=function(){},t.alert=function(){},t.critical=function(){},t.error=function(){},t.warn=function(){},t.warning=function(){},t.notice=function(){},t.info=function(){},t.debug=function(){},t.log=function(){},e}();function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wn=function(){function e(e,t,n,r){this.environment=e||{},this.config=t||{},this.__logger=this.config.__logger||new Bn,this.__pluginName=n,this.__serviceLocator=r,this._useAsyncInterface=!1}var t,n,r,i=e.prototype;return i._dispatchAsync=function(e){var t=this;return Promise.resolve(null).then((function(){var n=t.buildPayloadAsync(e);return n?(t.config.dryRun||t.sendPayloadAsync(n,e),n):n}))},i._dispatchSync=function(e,t){var n=this.buildPayload(e,t);return n?(this._logEventPayload(e,n),this.config.dryRun?this.logger.warning("Not sending ".concat(e.type," event to ").concat(this.pluginName," (dry run)")):this.sendPayload(n,e,t)):!1===n&&this.logger.warning("Could not build payload for ".concat(e.type," event to ").concat(this.pluginName,"!")),this.config.dryRun?null:n},i.dispatch=function(e,t){return this._useAsyncInterface?this._dispatchAsync(t):this._dispatchSync(e,t)},i._logEventPayload=function(e,t){var n=e&&e.type||"Unknown";this.logger.debug("".concat(this.pluginName," ").concat(n," Sending payload."),{payload:t})},i.buildPayload=function(e,t){return this.logger.warning("".concat(this.constructor.name,".buildPayload() is not implemented by plugin!")),{}},i.buildPayloadAsync=function(e){throw new Error("Method buildPayloadAsync is abstract.")},i.sendPayload=function(e,t,n){this.logger.warning("".concat(this.constructor.name,".sendPayload() is not implemented by plugin!"))},i.sendPayloadAsync=function(e,t){throw new Error("Method sendPayloadAsync is abstract.")},t=e,(n=[{key:"pluginName",get:function(){return this.__pluginName}},{key:"serviceLocator",get:function(){return this.__serviceLocator}},{key:"logger",get:function(){return this.__logger}}])&&Hn(t.prototype,n),r&&Hn(t,r),e}(),Yn={DEVICE_TYPES:{PS3:202,PS4:206,PS4K:206,TV:210,WEB:201,MWEB:207,ANDROID_TV:237,ANDROID:238,IOS:239,ROKU:240,FIRE_TV:241,APPLE_TV:242,CHROMECAST:243}};Object.freeze(Yn.DEVICE_TYPES);var xn,Kn=function(){ar t=e.prototype;return t.saveSessionString=function(e){this._value=e},t.getSessionString=function(){return this._value},e}(),zn={accountId:function(e){var t=e.environment;return String(t.visitorId||t.deviceId||"")},expId:function(){return null},appName:function(e){return e.environment.appName},buildVersion:deviceId:function(e){return e.environment.deviceId||""},url:function(e){var t=e.environment,n=e.config,r=function(e){var t=e.environment,n=e.config.overrideDeviceType,r=(t.deviceType||"").toUpperCase(),i=n||Yn.DEVICE_TYPES[r];if(!i)throw new Error("Device Type '".concat(t.deviceType,"' not supported."));return i}({environment:t,config:n}),i=n.env&&"sp-int"!==n.env?n.env:"e1-np",o=n.eventUrl||"https://event.api.{{env}}.km.playstation.net/event/clairvoyance/{{deviceType}}";return o=(o=o.replace("{{env}}",i)).replace("{{deviceType}}",r.toString())},networkType:function(e){return e.environment.networkType||"unknown"},platformVersion:function(e){return e.environment.platformVersion||"unknown"},screenInfo:xhr:function(e){var t=e.serviceLocator,n=e.config,r="/network/".concat("string"===typeof n.xhr?n.xhr:"xhrInterface"),i=t.get(r);return ,callback:function(){return null},dataStore:function(){return new Kn}},qn=function(e,t,n){var r={environment:e,config:t,serviceLocator:n},i=Object.keys(zn).reduce((,{});return void 0!==t.useExperimentalVersion31&&(i.useExperimentalVersion31=Boolean(t.useExperimentalVersion31)),i},Jn=jn,Xn=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._requireMetricsMap=function(e){if(!Gn(e))throw new Error("Missing or invalid metric map for ".concat(this.pluginName," plugin!"))},i._requireValidConfig=i._createClairvoyanceInstance=function(){return new Jn},i._initializeClairvoyanceInstanceParams=function(e,t,n){var r=qn(e,t,n),i=this._createClairvoyanceInstance();return i.initialize(r),i},i.buildPayload=function(e,t){this._requireValidConfig(t.config);var n=t.config,r=n.metricsMap,i=n.metricsSuffix,o=t.event.location.split(":").slice(0,4).join(":"),a=function(e){return function(t){return function(n){return function(r){var i="".concat(n,":timing:").concat(r),o="".concat(i,":").concat(t),a=!1;return e[i]?a=parseInt(e[i],10):e[r]?a=parseInt(e[r],10):e[o]&&(a=parseInt(e[o],10)),a}}}}(r)(i)(o);return function(e,t,n,r){if("LoadTime"!==n.type)return e.warning("Not sending ".concat(n.type," event for ").concat(r," (unsupported)")),!1;var i=n.time.getTime();!function(e,t,n){t.time.getTime()<1384502400068&&e.warning("Warning: time of ".concat(t.type," event for ").concat(n," is in the past"))}(e,n,r);var o=[],a=n.timings||[];if(n.loadTime>0){var c={name:"overall",startTime:0,duration:n.loadTime};a.unshift(c)}return a.forEach((function(n){var a=t(n.name),c=function(e,t,n){if(!t)return!1;var r={metric:t,startTimestamp:e+n.startTime,latency:n.duration};return n.bootInfo&&(r.bootInfo=n.bootInfo),n.metricInfo&&(r.metricInfo=n.metricInfo),r}(i,a,n);c?o.push(c):e.warning("Skipping '".concat(n.name,"' timing in ").concat(r," (timing not in metric map)"))})),o.length<1?(e.warning("Not sending ".concat(n.type," event to ").concat(r," (no timings found)")),!1):{timings:o,bootInfo:n.bootInfo||"unknown",dataSizeGroup:n.dataSizeGroup||"unknown"}}(this.logger,a,t.event,this.pluginName)},i.sendPayload=function(e,t,n){var r=n.environment,i=n.config;this._initializeClairvoyanceInstanceParams(r,i,this.serviceLocator).sendLatencyData(e.timings,null,null,e.bootInfo,e.dataSizeGroup)},r}(Wn),Zn=function(e){var t={};return Object.keys(e).forEach((function(n){for(var r={},i=n;e[i];){if(r[i])throw new Error("CyclicAlias: Circular Alias Reference encountered at ".concat(i));r[i]=!0,Object.defineProperty(r,i,{value:!0}),i=e[i]}t[n]=i})),t},Qn=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._instances={},this._factories=e.factories||{},this._aliases=e.aliases||{},this._resolvedAliases=Zn(this._aliases)}var t=e.prototype;return t.setService=function(e,t){if(this.has(e))throw new Error("ServiceExists: the service already exists: ".concat(e,"."));this._instances[e]=t},t.getFactory=function(e){var t=this._factories[e]||void 0;if("function"===typeof t)return t;throw new Error("ServiceNotFound: Unable to resolve ".concat(e," to a factory."))},t.get=function(e){if(this._instances[e])return this._instances[e];var t=this._resolvedAliases[e]||e;if(e!==t&&this._instances[t])return this._instances[e]=this._instances[t],this._instances[t];var n=this.doCreate(t);return this._instances[t]=n,e!==t&&(this._instances[e]=n),n},t.has=function(e){var t=this._resolvedAliases[e]||e;return"undefined"!==typeof this._instances[t]||"function"===typeof this._factories[t]},t.build=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._resolvedAliases[e]||e;return this.doCreate(n,t)},t.doCreate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getFactory(e),r=n(this,e,t);return r},e}(),$n=Object.prototype.hasOwnProperty,er=!xn||(xn={}));var tr=function(){function e(){}var t=e.prototype;return t.emergency=function(e,t){this.log(xn.EMERGENCY,e,t)},t.alert=function(e,t){this.log(xn.ALERT,e,t)},t.critical=function(e,t){this.log(xn.CRITICAL,e,t)},t.error=function(e,t){this.log(xn.ERROR,e,t)},t.warning=function(e,t){this.log(xn.WARNING,e,t)},t.notice=function(e,t){this.log(xn.NOTICE,e,t)},t.info=function(e,t){this.log(xn.INFO,e,t)},t.debug=t.log=function(e,t,n){throw new Error("NotImplemented")},e}();function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rr,ir=function(e){var t,n,r,i,o;eturn n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.log=r=a,(i=[{key:"logger",get:function(){return this._logger}}])&&nr(r.prototype,i),o&&nr(r,o),a}(tr),or=function(e){var t,n;function r(t,n){var r;if(r=e.call(this,n)||this,"function"!==typeof t)throw new Error('InvalidArgument: Callback is expected to be of type "function".');return r._callback=t,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.log=function(e,t,n){var r="function"===typeof n?n():n;this.logger.log(e,t,this._callback(r))},r}(ir),ar=function(e){var t,n;eturn n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.log=function(e,t,n){this.logger.log(e,"".concat(this._prefix).concat(t),n)},r}(ir);function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sr=(cr(rr={},xn.EMERGENCY,0),cr(rr,xn.CRITICAL,1),cr(rr,xn.ALERT,2),cr(rr,xn.ERROR,3),cr(rr,xn.WARNING,4),cr(rr,xn.NOTICE,5),cr(rr,xn.INFO,6),cr(rr,xn.DEBUG,7),rr),ur=function(e){var t,n;function r(t,n){var r;if((r=e.call(this,n)||this)._logLevel=sr[t],void 0===r._logLevel)throw new Error("InvalidArgument: Unknown log level provided. ".concat(JSON.stringify(t)));return r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.resolveLogLevel=i.log=function(e,t,n){this.resolveLogLevel(e)>this._logLevel||this.logger.log(e,t,n)},r}(ir);function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lr=function(e){var t,n;function r(t){var n,r;r=e.call(this)||this;var i=function(e){if(void 0!==t[e])return t[e].bind(t)||void 0};if("function"!==typeof t.log)throw new Error("PrerequisiteError: No console.log method found.");var o=t.log.bind(t),a=i("error")||o,c=i("info")||o,s=i("warn")||o,u=i("debug")||o;return r._defaultLog=u,r._logLevelFunctionMap=(pr(n={},xn.EMERGENCY,a),pr(n,xn.ALERT,a),pr(n,xn.CRITICAL,a),pr(n,xn.ERROR,a),pr(n,xn.WARNING,s),pr(n,xn.NOTICE,c),pr(n,xn.INFO,c),pr(n,xn.DEBUG,u),n),r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.log=function(e,t,n){if(n){var r="function"===typeof n?n():n;(this._logLevelFunctionMap[e]||this._defaultLog)(t,r)}else(this._logLevelFunctionMap[e]||this._defaultLog)(t)},r}(tr),fr=function(){function e(){}var t=e.prototype;return t.alert=function(e,t){},t.critical=function(e,t){},t.debug=function(e,t){},t.emergency=function(e,t){},t.error=function(e,t){},t.info=function(e,t){},t.log=t.notice=function(e,t){},t.warning=e}(),yr=/[^a-zA-Z0-9\-_.]/g,dr=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this._namespace=t.namespace||"default",this._storage=e,this._clockSkew=6e4,this._logger=n||new fr}var t=e.prototype;return t.normalizeKey=function(e){var t=e.replace(yr,"");return"!".concat(this._namespace,"!").concat(t)},t.get=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.normalizeKey(e),i=this._storage.getItem(r);if(null===i)return n;if("{"!==i[0])return n;try{t=JSON.parse(i)}catch(o){return n}return er(t,"value")&&t.metaData?this.isActive(t.metaData.notBefore,t.metaData.notAfter)?t.value:(this._storage.removeItem(r),n):n},t.isActive=function(e,t){return!(e&&Date.now()+this._clockSkew<e)&&!(t&&Date.now()-this._clockSkew>t)},t.resolveTtl=function(e){return!!e&&("number"===typeof e&&isFinite(e)?Date.now()+e:e instanceof Date?e.getTime():(this._logger.error("resolveTtl() expects number or Date",{ttl:e}),!1))},t.set=function(e,t,n){var r=this.normalizeKey(e),i={value:t,metaData:{notBefore:Date.now(),notAfter:this.resolveTtl(n)}};try{var o=JSON.stringify(i);this._storage.setItem(r,o)}catch(a){return!1}return!0},t.delete=function(e){var t=this.normalizeKey(e);return this._storage.removeItem(t),!0},t.namespacedKeys=function(){for(var e=[],t=this.normalizeKey(""),n=0;n<this._storage.length;n+=1){var r=this._storage.key(n);0===r.indexOf(t)&&e.push(r)}return e},t.clear=function(){var e=this._storage;return this.namespacedKeys().forEach((),!0},t.has=function(e){var t=this.normalizeKey(e);return null!==this._storage.getItem(t)},e}(),_r=function(){ar t=e.prototype;return t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._storage.has(e)?this._storage.get(e):t},t.set=t.delete=function(e){return this._storage.delete(e)},t.clear=t.has=function(e){return this._storage.has(e)},e}();function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hr=function(){function e(e,t,n){e&&(this._name=e),t&&(this._target=t),this._params=n||{}}var t,n,r,i=e.prototype;return i.getParam=function(e,t){return void 0===this._params[e]?t:this._params[e]},i.setParam=i.stopPropagation=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._stopPropagation=Boolean(e)},t=e,(n=[{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"target",get:function(){return this._target},set:function(e){this._target=e}},{key:"params",get:function(){return this._params},set:function(e){this._params=e}},{key:"isPropagationStopped",get:function(){return this._stopPropagation}}])&&vr(t.prototype,n),r&&vr(t,r),e}(),Er=function(e){return"string"===typeof e},gr=function(e){return void 0===e};function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ir=function(){ar t,n,r,i=e.prototype;return i.push=function(e){this._responses.push(e)},i.contains=t=e,(n=[{key:"asArray",get:function(){return this._responses}},{key:"length",get:function(){return this._responses.length}},{key:"stopped",get:function(){return this._stopped},set:function(e){this._stopped=Boolean(e)}},{key:"first",get:function(){return this._responses[0]}},{key:"last",get:])&&mr(t.prototype,n),r&&mr(t,r),e}();function Tr(e){return(Tr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Sr=Ar=function(){ar t=e.prototype;return t.asEvent=function(e,t,n){var r=new hr;return r.name=e,t&&(r.target=t),n&&(r.params=n),r},t.attach=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!Er(e))throw new Error('Event Name must be a string. "'.concat(Tr(e),'" given.'));this._events[e]||(this._events[e]={});var r=this._events[e];return r[n]||(r[n]=[[]]),this._events[e][n][0].push(t),t},t.detach=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&("*"!==t||r)){if(this._events[t]){var i=Object.keys(this._events[t]);i.forEach((function(r){var i=n._events[t][Number(r)],o=i[0].indexOf(e);-1!==o&&(i[0].splice(o,1),i[0].length||delete n._events[t][Number(r)])})),this._events[t]&&Object.keys(this._events[t]).length||delete this._events[t]}}else Object.keys(this._events).forEach(()},t.clearListeners=t.trigger=t.triggerUntil=function(e,t,n,r){return this.triggerListeners(this.asEvent(t,n,r),e)},t.triggerEvent=t.triggerEventUntil=t.triggerListeners=function(e,t){var n,r=this,i=e.name;if(!i)throw new Error("Event requires a name.");this._events[i]?(n=this._events[i],this._events["*"]&&Object.keys(this._events["*"]).forEach((function(e){r._events["*"][Number(e)].forEach(()}))):n=this._events["*"]?this._events["*"]:[],e.stopPropagation(!1);var o=new Ir;return Object.keys(n).sort(Sr).reverse().every((function(r){return n[Number(r)].every((function(n){return n.every((function(n){var r=n(e);return o.push(r),e.isPropagationStopped?(o.stopped=!0,!1):!t||!t(r)||(o.stopped=!0,!1)}))}))})),o},e}();function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var br=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shortTermId,n=e.sessionId,r=e.tracingId,i=e.testIdentifiers;if(!t)throw new Error("Configuration parameter `shortTermId` is required.");if(!n)throw new Error("Configuration parameter `shortTermId` is required.");if(!r)throw new Error("Configuration parameter `tracingId` is required.");this._shortTermId=t,this._tracingId=r,this._sessionId=n,"undefined"!==typeof i&&(this._testCaseId=i.testCaseId,this._testSessionId=i.testSessionId)}var t,n,r;return t=e,(n=[{key:"shortTermId",get:function(){return this._shortTermId.value}},{key:"sessionId",get:function(){return this._sessionId.value}},{key:"tracingId",get:function(){return this._tracingId.value}},{key:"testCaseId",get:function(){return this._testCaseId}},{key:"testSessionId",get:function(){return this._testSessionId}}])&&Or(t.prototype,n),r&&Or(t,r),e}();function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nr,Cr=function(){ar t,n,r,i=e.prototype;return i.toString=function(){return this.value},i.populate=function(e){e.isOptOut&&(this.isOptOut=e.isOptOut),e.isMissingId&&(this.isMissingId=e.isMissingId),e.isSignedOut&&(this.isSignedOut=e.isSignedOut)},i.asObject=t=e,(n=[{key:"_optOutValue",get:,{key:"_optInValue",get:,{key:"value",get:,{key:"isSignedOut",set:function(e){this._isSignedOut=Boolean(e)}},{key:"isMissingId",set:function(e){this._isMissingId=Boolean(e)}},{key:"isOptOut",set:function(e){this._isOptOut=Boolean(e)}}])&&Rr(t.prototype,n),r&&Rr(t,r),e}();function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}!Nr||(Nr={}));for(var wr=function(){function e(e,t){this._sessionId=e,this._telemetryService=t,this._prefix=new Cr,this._listeners=[[this.updatePrefix.bind(this),"signedInStateChange"],[this.updatePrefix.bind(this),"platformPrivacyLevelChange"]],this.attachListeners(t.eventManager),this.updatePrefix()}var t=e.prototype;return t.attachListeners=function(e){this._listeners.forEach(()},t.updatePrefix=function(){var e=this._telemetryService,t=!e._legacyEnvironment.isSignedIn,n=!e._legacyEnvironment.userVisitorId,r=e.platformPrivacyLevel===Nr.MINIMAL;this._prefix.isSignedOut=t,this._prefix.isOptOut=r,this._prefix.isMissingId=n,this._sessionId.prefix=this._prefix.value},e}(),Vr=E((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=else{var r=new Array(16);e.exports=})),Mr=[],Lr=0;Lr<256;++Lr)Mr[Lr]=(Lr+256).toString(16).substr(1);var Dr=Ur=kr=function(e){if(e instanceof Date)return e.getTime();if("number"===typeof e)return e;if("string"===typeof e){var t=new Date(e).getTime();return!isNaN(t)&&t}return!1};function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jr=function(){ar t,n,r,i=e.prototype;return i.populate=i.asObject=t=e,(n=[{key:"created",get:function(){return this._created},set:function(e){this._created=kr(e)||0}},{key:"lastAccess",get:function(){return this._lastAccess},set:function(e){this._lastAccess=kr(e)||0}}])&&Fr(t.prototype,n),r&&Fr(t,r),e}();function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Br=function(){function e(e){this._ttl=e}var t,n,r;return e.prototype.isValid=function(e){var t=Date.now();return"number"===typeof e?t<=e+this._ttl:e instanceof Date&&t<=e.getTime()+this._ttl},t=e,(n=[{key:"ttl",get:function(){return this._ttl}}])&&Gr(t.prototype,n),r&&Gr(t,r),e}(),Hr=function(){eturn e.prototype.isValid=e}(),Wr=function(){function e(){}return e.prototype.hydrate=function(e,t){t&&(t.state&&e._state.populate(t.state),t.prefix&&(e.prefix=t.prefix),t.id&&(e._id=t.id))},e}(),Yr=function(){function e(){}return e.prototype.extract=e}();function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kr=/[^0-9a-f]/gi,zr="identifier-session-id",qr=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._id=void 0,this._prefix=e.prefix||"unknwn",this._state=new jr,this._validator=e.validator||new Hr,this._hydrator=e.hydrator||new Wr,this._extractor=e.extractor||new Yr,this._cacheThrottle=1e3,this._cacheLastSave=0,this._cacheKey=e.cacheKey||zr,this._cache=e.cache,this.load()}var t,n,r,i=e.prototype;return i.toString=function(){return this.value},i.regenerate=function(){this._id="".concat(Ur()).concat(Ur()).replace(Kr,""),this._state.created=Date.now(),this._state.lastAccess=Date.now(),this.save()},i.load=function(){if(this._cache){var e=this._cache.get(this._cacheKey);e&&this._hydrator.hydrate(this,e)}},i.save=function(){if(this._cache){var e=this._extractor.extract(this);this._cache.set(this._cacheKey,e),this._cacheLastSave=Date.now()}},i.throttledSave=function(){Date.now()-this._cacheLastSave>this._cacheThrottle&&this.save()},t=e,(n=[{key:"prefix",set:function(e){this._prefix=e},get:function(){return this._prefix}},{key:"value",get:function(){return this.isExpired&&this.regenerate(),this._state.lastAccess=Date.now(),this.throttledSave(),"".concat(this.prefix,"x").concat(this._id)}},{key:"isExpired",get:function(){return!this._validator.isValid(this._state)}}])&&xr(t.prototype,n),r&&xr(t,r),e}(),Jr=function(){function e(){}return e.prototype.extract=function(e){return{id:e._id,state:e._state.asObject()}},e}(),Xr=function(){function e(){}return e.prototype.hydrate=function(e,t){t&&(t.state&&e._state.populate(t.state),t.id&&(e._id=t.id))},e}(),Zr=1728e5,Qr=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._lifetimeValidator=e.validator||new Br(Zr)}return e.prototype.isValid=e}();function $r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ei=function(){function e(){this._created=0}var t,n,r,i=e.prototype;return i.populate=function(e){this._created=e.created},i.asObject=function(){return{created:this._created}},t=e,(n=[{key:"created",get:function(){return this._created},set:function(e){this._created=kr(e)||0}}])&&$r(t.prototype,n),r&&$r(t,r),e}();function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ni=/[^0-9a-f]/gi,ri="identifier-short-term-id",ii=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._id=void 0,this._state=new ei,this._validator=e.validator||new Qr,this._hydrator=e.hydrator||new Xr,this._extractor=e.extractor||new Jr,this._cacheKey=e.cacheKey||ri,e.appName){var t=e.appName.toLowerCase();this._cacheKey="".concat(this._cacheKey,"-").concat(t)}this._cache=e.cache,this.load()}var t,n,r,i=e.prototype;return i.toString=function(){return this.value},i.regenerate=function(){this._id="".concat(Ur()).concat(Ur()).replace(ni,""),this._state.created=Date.now(),this.save()},i.load=function(){if(this._cache){var e=this._cache.get(this._cacheKey);e&&this._hydrator.hydrate(this,e)}},i.save=function(){if(this._cache){var e=this._extractor.extract(this);this._cache.set(this._cacheKey,e)}},t=e,(n=[{key:"value",get:,{key:"isExpired",get:])&&ti(t.prototype,n),r&&ti(t,r),e}(),oi=function(){function e(){}return e.prototype.extract=e}(),ai=function(){function e(){}return e.prototype.hydrate=function(e,t){t&&(t.state&&e._state.populate(t.state),t.id&&(e._id=t.id))},e}();function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var si=function(){ar t,n,r,i=e.prototype;return i.populate=i.asObject=t=e,(n=[{key:"created",get:function(){return this._created},set:])&&ci(t.prototype,n),r&&ci(t,r),e}();function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pi=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._id=void 0,this._state=new si,this._hydrator=e.hydrator||new ai,this._extractor=e.extractor||new oi}var t,n,r,i=e.prototype;return i.toString=function(){return this.value},i.regenerate=function(){this._id=Ur(),this._state.created=Date.now()},t=e,(n=[{key:"value",get:])&&ui(t.prototype,n),r&&ui(t,r),e}();function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fi=function(){ar t,n,r;return e.prototype.setPayload=function(e,t){this._payloads.set(e,t)},t=e,(n=[{key:"inputEvent",get:function(){return this._inputEvent},set:function(e){this._inputEvent=e}},{key:"rawEvent",get:function(){return this._inputEvent},set:function(e){this._inputEvent=e}},{key:"filteredEvent",get:function(){return this._filteredEvent},set:function(e){this._filteredEvent=e}},{key:"payloads",get:function(){return this._payloads}}])&&li(t.prototype,n),r&&li(t,r),e}();function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var di=function(){ar t,n,r,i=e.prototype;return i.enable=function(){this._enabled=!0},i.disable=i.addEvent=function(e){return e||(e=new fi),this.isEnabled&&this.events.push(e),e},i.clear=t=e,(n=[{key:"isEnabled",get:function(){return this._enabled}},{key:"events",get:function(){return this._events}}])&&yi(t.prototype,n),r&&yi(t,r),e}();function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vi,hi,Ei,gi,mi=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._value=void 0,this._messages=new Map,this._messageTemplates=e.messageTemplates||{}}var t,n,r,i=e.prototype;return i._createMessage=function(e,t){var n=this._messageTemplates[e];if(!n)throw new Error("UNKNOWN_MESSAGE_KEY: No template found for the message key: ".concat(e,"."));return n.replace("{value}",t)},i.error=function(e,t){this._messages.set(e,this._createMessage(e,void 0===t?this.value:t))},t=e,(n=[{key:"value",get:function(){return this._value},set:,{key:"messages",get:function(){return this._messages}}])&&_i(t.prototype,n),r&&_i(t,r),e}(),Ii="invalidNpAccountLocale",Ti=(Ei="Invalid NP Account Locale provided.",(hi=Ii)in(vi={})?Object.defineProperty(vi,hi,{value:Ei,enumerable:!0,configurable:!0,writable:!0}):vi[hi]=Ei,vi),Si=/^[a-z]{2}_[A-Z]{2}$/,Ai=function(e){var t,n;function r(){return e.call(this,{messageTemplates:Ti})||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isValid=function(e){return this.value=e,!!Si.test(e)||(this.error(Ii),!1)},r}(mi);function Oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bi(e){var t=(gi||(gi=new RegExp("^([a-z]{2,3})(?:[-_]([a-z]{4}))?(?:[-_]((?:[a-z]{2})|(?:[0-9]{3})))?((?:[-_](?:(?:[a-z0-9]{5,8})|(?:[0-9][a-z0-9]{3})))*)((?:(?:[-_][a-wyz0-9]{1})(?:[-_][a-z0-9]{2,8})+)*)([-_]x(?:[-_][a-z0-9]{1,8})+)?$","i")),gi).exec(e);if(!t)return null;var n=Oi(t,5);return[n[1],n[2],n[3],function(e){return e.length?e.split(/-|_/).slice(1):[]}(n[4]),[]]}var Ri="invalidPsnAccountLanguage",Ni=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},Ri,"Invalid PSN Account Language provided."),Ci=function(e){var t,n;function r(){return e.call(this,{messageTemplates:Ni})||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isValid=function(e){this.value=e;var t=function(e){var t=bi(e);if(!t)return null;var n=Oi(t,5);return{languageId:n[0],scriptId:n[1],regionId:n[2],variants:n[3],extensions:n[4]}}(e);return!(!t||!t.languageId)||(this.error(Ri),!1)},r}(mi),Pi="invalidPsnAccountRegion",wi={},Pi,"Invalid PSN Account Region provided."),Vi=/^[A-Z]{2}$/,Mi=function(e){var t,n;eturn n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isValid=function(e){return this.value=e,!!Vi.test(e)||(this.error(Pi),!1)},r}(mi),Li=function(e){return e>=55296&&e<=56319},Di=Ui=function(e,t,n){var r=e.charCodeAt(0);return r<=127?1:r<=2047?2:Di(r)&&Li(n.charCodeAt(t-1))?1:3},ki=function(e){var t,n=0;for(t=0;t<e.length;t+=1)n+=Ui(e[t],t,e);return n},Fi=function(e,t){var n,r=0;for(n=0;n<e.length&&!((r+=Ui(e[n],n,e))>t);n+=1);return Li(e.charCodeAt(n-1))&&Di(e.charCodeAt(n))&&(n-=1),e.substr(0,n)},ji=/^([A-Za-z][A-Za-z0-9.+-]*):/,Gi=/^\/\/([^/\\?#]*)/,Bi=/:[\d]{1,5}$/,Hi=/^[^?#]*/,Wi=/^\?([^#]*)/,Yi=function(e){var t={scheme:void 0,authority:void 0,userInfo:void 0,port:void 0,path:"",query:void 0,hash:void 0};if(Er(e)){var n=e,r=function(e){var t=ji.exec(e);return t?t[1]:void 0}(n);gr(r)||(n=n.substr(r.length+1),t.scheme=r);var i=function(e){var t=Gi.exec(e);if(t){var n,r=t[1],i=r;if(-1!==i.indexOf("@")){var o=i.split("@");i=o.pop()}if(t=Bi.exec(i)){n=t[0].substr(1);var a=t[0].length;i=i.substr(0,i.length-a)}return{authority:r,host:i,port:n}}}(n);if(gr(i)||(n=n.substr(i.authority.length+2),t.authority=i.authority,t.userInfo=i.userInfo,t.port=i.port,t.host=i.host),!n)return t;var o=function(e){var t=Hi.exec(e);if(t)return t[0]}(n);if(gr(o)||(t.path=o,n=n.substr(o.length)),!n)return t;var a=n);return gr(a)||(t.query=a,n=n.substr(a.length+1)),n&&"#"===n.substr(0,1)&&(t.hash=n.substr(1)),t}},xi=function(e,t){var n=Yi(e);return n?function(e){if(!e)return"";var t=[];return e.scheme&&t.push("".concat(e.scheme,":")),gr(e.host)&&gr(e.port)||(t.push("//"),e.host&&t.push(e.host),gr(e.port)||t.push(":".concat(e.port))),e.path&&t.push(e.path),gr(e.query)||t.push("?".concat(e.query)),gr(e.hash)||t.push("#".concat(e.hash)),t.join("")}(t(n)):""},Ki=function(e){return gr(e)?[]:e.split("&").map((function(e){return function(e){if(e.length){var t=e.split("=");return[t.shift(),t.length?t.join("="):void 0]}}(e)}))},zi=qi=/([a-z])|([0-9])/gi,Ji=Xi=function(e){return Ki(e).map((function(e){return(t=e)?gr(t[1])?Ji(t[0]):"".concat(t[0],"=").concat(Ji(t[1])):"";var t})).join("&")};function Zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Qi=function(e){for(var t=null==e?0:e.length,n=0,r=0,i=[];n<t;){var o=e[n];o&&(i[r]=o,r+=1),n+=1}return i};function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eo=["name","date","description","overrideKey"],to=function(){function e(e){!function(e){var t=Qi((arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((function(t){return"undefined"===typeof e[t]?t:""})));if(t.length){var n=t.map(().join(", ");throw new Error("MissingProperty: The following fields are required: ".concat(n))}}(e,eo),this._date=new Date(e.date),this._name=String(e.name),this._description=String(e.description),this._overrideKey=String(e.overrideKey)}var t,n,r;return t=e,(n=[{key:"name",get:function(){return this._name}},{key:"date",get:function(){return this._date}},{key:"description",get:function(){return this._description}},{key:"overrideKey",get:function(){return this._overrideKey}}])&&$i(t.prototype,n),r&&$i(t,r),e}();function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ro=function(){function e(e){var t=e.name,n=e.start,r=e.end;this._name=t,this._start=new Date(n),this._end=new Date(r)}var t,n,r;return t=e,(n=[{key:"name",get:function(){return this._name}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}}])&&no(t.prototype,n),r&&no(t,r),e}();function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oo=function(e){return e.toISOString().substr(0,10)},ao=new Date("2017-12-01"),co=[{name:15,start:"2017-08-31T00:00:00Z",end:"2017-12-06T23:59:59Z"},{name:16,start:"2017-12-07T00:00:00Z",end:"2018-03-14T23:59:59Z"},{name:17,start:"2018-03-15T00:00:00Z",end:"2018-06-06T23:59:59Z"},{name:18,start:"2018-06-07T00:00:00Z",end:"2018-08-29T23:59:59z"},{name:19,start:"2018-08-30T00:00:00Z",end:"2018-12-05T23:59:59Z"},{name:20,start:"2018-12-06T00:00:00Z",end:"2019-03-13T23:59:59Z"},{name:21,start:"2019-03-14T00:00:00Z",end:"2019-06-05T23:59:59Z"},{name:22,start:"2019-06-06T00:00:00Z",end:"2019-08-28T23:59:59Z"},{name:23,start:"2019-08-29T00:00:00Z",end:"2019-12-04T23:59:59Z"},{name:24,start:"2019-12-05T00:00:00Z",end:"2020-03-11T23:59:59Z"},{name:"25(est)",start:"2020-03-12T00:00:00Z",end:"2020-06-03T23:59:59Z"},{name:"26(est)",start:"2020-06-04T00:00:00Z",end:"2020-08-26T23:59:59Z"},{name:"27(est)",start:"2020-08-27T00:00:00Z",end:"2020-12-02T23:59:59Z"}].map((),so=function(e){if(e<ao)return 0;var t=function(e,t){var n=null==e?0:e.length;if(!n)return-1;for(var r=0;r<n;){if(t(e[r]))return r;r+=1}return-1}(co,();return-1===t?co.length:t},uo=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._logger=e.logger,this._overrides=e.overrides||{},this._referenceDate=e.referenceDate,this._alwaysThrow=Boolean(e.alwaysThrow)}var t,n,r,i=e.prototype;return i.trigger=function(e){this.logDeprecation(e),this._alwaysThrow?this.triggerException(e):this.canTriggerException(e)&&(this.isOverrideActiveFor(e)?this.logOverrideUsed(e):this.triggerException(e))},i.logOverrideUsed=function(e){this.logger.error("A thrown error was muted by the use of configuration.\nThis feature is on track for removal.\nUpdate your code immediately.",{name:e.name,description:e.description,overrideKey:e.overrideKey,featureRemovalOn:this.featureRemovalDateStringFor(e)})},i.isOverrideActiveFor=function(e){return Boolean(this.overrides[e.overrideKey])},i.logDeprecation=function(e){var t=this;this.logger.warning("Deprecation Notice: ### IMPORTANT ###\nFeature has been flagged as deprecated, and is on track for active removal.",(function(){return{name:e.name,description:e.description,deprecatedAsOf:e.date,overrideKey:e.overrideKey,exceptionsStartOn:t.exceptionDateStringFor(e),featureRemovalOn:t.featureRemovalDateStringFor(e)}}))},i.canTriggerException=function(e){var t=this.exceptionPsiFor(e);return!!t&&this._referenceDate>=t.start},i.triggerException=function(e){throw this.logger.error("Feature is deprecated.",{name:e.name,description:e.description}),new Error('DeprecationError: "'.concat(e.name,'" is deprecated. ').concat(e.description,"."))},i.exceptionPsiFor=function(e){var t=so(e.date);return co[t+2]||void 0},i.exceptionDateStringFor=function(e){var t=this.exceptionPsiFor(e);return t?"PSI ".concat(t.name," (").concat(oo(t.start),")"):"TBD"},i.featureRemovalDateStringFor=function(e){var t=so(e.date),n=co[t+3];return n?"PSI ".concat(n.name," (").concat(oo(n.start),")"):"TBD"},t=e,(n=[{key:"logger",get:function(){return this._logger}},{key:"overrides",get:function(){return this._overrides}},{key:"alwaysThrow",get:function(){return this._alwaysThrow}},{key:"referenceDate",get:function(){return this._referenceDate}}])&&io(t.prototype,n),r&&io(t,r),e}();function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lo,fo=[],yo=function(){function e(){}var t,n,r,i=e.prototype;return i.trigger=i.__resetState=function(){lo=void 0,fo=[]},t=e,(n=[{key:"queue",get:function(){return fo}},{key:"deprecationManager",get:function(){return lo},set:function(e){lo=e,fo.forEach((),fo=[]}}])&&po(t.prototype,n),r&&po(t,r),e}(),_o={MAXIMAL:"all",MINIMAL:"minimal",EXEMPT:"exempt"};_o.ALL=[_o.MAXIMAL,_o.EXEMPT,_o.MINIMAL];var vo,ho=Eo=go=mo=function(e){return e},Io=To=So="function"===typeof Array.prototype.includes?function(e,t){return e.includes(t)}:Ao="d",Oo="s",bo="a",Ro="e",No="f",Co="i",Po="l",wo="n",Vo="b";function Mo(e){return(Mo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Lo=["string","number","boolean","undefined"],Do=Number.MAX_SAFE_INTEGER||9007199254740991,Uo=function(e){return t=Mo(e),So(Lo,t)||null===e;var t},ko=Fo=function(e){return"function"===typeof e},jo=function(e){return"string"===typeof e},Go=Bo=Ho=function(e){return ko(e,"Object")},Wo=function(e){return ko(e,"Array")},Yo=xo=function(e){return Yo(e)||null!==e.match(/^\s*$/)},Ko=function(e,t){switch(t.type){case Oo:return!(!t.allowNumber||"number"!==typeof e)||"string"===typeof e;case wo:return"number"===typeof e;case Ro:return ko(e,"Object")&&!Yo(e);case Vo:return"boolean"===typeof e;case Co:return Go(e)&&e<Do&&e>-Do;case Po:return function(e){return Go(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(e);case No:return e);case bo:return Wo(e);case Ao:return e)}return!1},zo=function e(t,n,r,i){if(void 0!==n){var o=t.reduce((,n);if(void 0!==o){if(Ho(o)){var a={};return To(o,(function(n,o){var c=r.properties&&r.properties[o]||{};a[o]=e(t,n,c,i)})),a}if(De(o)){var c=r.collection||{};return o.map(()}return o}}},qo=function(e,t,n){var r=e.environment;return zo(t,n,r||{})},Jo=function e(t,n){return Ko(t,n)?n.type===bo?t.map((function(t){return e(t,n.collection||{})})):Uo(t)||n.type===Ao||n.type===Ro?t:void 0:void 0!==n.invalidValue?n.invalidValue:void 0},Xo={REQUIRED:"r",OPTIONAL:"o"};Xo.ALL=[Xo.REQUIRED,Xo.OPTIONAL];var Zo=function(e,t){return t.type===Ao&&"string"===typeof e?new Date(e):e},Qo=function(e,t){if(t.c===Xo.REQUIRED)return e},$o=function(e,t){var n=[Zo,Jo];return"all"!==t&&"exempt"!==t&&n.push(Qo),n.concat(e.filters)},ea=new RegExp("[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"),ta=function(e,t,n,r,i){var o=dn(r);return function(e,t){"Startup"!==e.type||(e.privacySettings=t)}(o,n),function(e,t){e.sessionId=t.sessionId,e.shortTermId=t.shortTermId,"undefined"!==typeof e.tracingId&&ea.test(e.tracingId)||(e.tracingId=t.tracingId),"undefined"!==typeof t.testCaseId&&(e.testCaseId=t.testCaseId),"undefined"!==typeof t.testSessionId&&(e.testSessionId=t.testSessionId)}(o,e),function(e,t,n,r){n&&t===_o.MINIMAL&&!0!==r&&["url","apiUrl","deeplink","httpReferrer","pageUrl"].forEach(()}(t,n,o,i),o},na=ra=a.prototype.add=ia.prototype.push=na,ia.prototype.has=ra;var oa=ia,aa=ca=sa=ua=pa=la=fa=ya=da=_a=A?A.isConcatSpreadable:void 0,va=ha=Ea=ga=Math.max,ma=Ia=Ta=Te?mo,Sa=Date.now,Aa=Ta),Oa=ba=Ra=Oa((),Na=function(e,t,n){e.error("The event is missing .location or .locationType.  Aborting.",{inputEvent:n}),t||function(e){if(!e)throw new Error("Event is empty.");if(!e.location)throw new Error("Missing location field for event type '".concat(e.type,"'"));if(!e.locationType)throw new Error("Missing locationType field for event type '".concat(e.type,"'"))}(n)},Ca=function(e,t,n){return e.getSamplingPermilleForRequest(t,n)},Pa=function(e,t,n,r,i,o,a,c,s,u,p,l,f){var y,d=new fi,_=$o(n,c),v=p.plugins||{};if(!((y=s)&&y.location&&y.locationType))return Na(t,a,s),d;var h=ta(e,o,c,s,a),E=function(e,t){return(e.events||{})["default"===t.eventNamespace?t.eventLocalName:t.eventName]||{}}(f,l);h=function(e,t,n){return!t||"client"!==t.eventNamespace&&"native"!==t.eventNamespace||(e.eventVersion=n.version),e}(h,l,E),l.version=E.version?E.version:"UNKNOWN";var g={eventMetadata:l,config:p,environment:u,event:h},m=function(e,t,n){return zo(t,n,e,n,e))}(E,_,h=function(e,t,n){return e.sbahnSampling=Ca(n,t,"sbahn"),e.aaSampling=Ca(n,t,"aa"),e.ciiSampling=Ca(n,t,"cii"),e}(h,g,r)),I=qo(f,_,u),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return void 0!==t[n.eventLocalName]?t[n.eventLocalName]:void 0!==t[n.eventName]?t[n.eventName]:(e.error("UnknownEvent: config.events does not contain an entry for the requested event.",{eventType:n.eventLocalName}),[])}(t,p.events,l),S=function(e,t,n){return n.filter((function(n){return!!e,t,n)}))}(r,g,T);return function(e,t,n,r){n||e.debug("No plugins defined for event type",{eventType:r.type,inputEvent:r}),n.length!==t.length&&e.debug("Plugins are throttled for this event.",{inputEvent:r,throttled:Ra(t,n)})}(t,T,S,s),function(e,t,n,r){var i=Ra(r,Object.keys(n));if(i.length&&(e.warning("The following plugin ids are not loaded.",{unknownIds:i}),!t))throw new Error("Invalid plugin '".concat(i[0],"' in dispatch()! Please register plugin first."))}(t,a,i,S),function(e,t,n,r,i,o,a){i&&r.forEach((function(r){var c=e[r];if(c){c.environment=o;var s={environment:o||{},event:i,config:t[r]||{},eventMetadata:a,gctVersion:"5.5.0"},c);n.setPayload(r,s)}}))}(i,v,d,S,m,I,l),d.inputEvent=dn(s),d.filteredEvent=m,d},wa=Va=function(e){return e.toLowerCase().replace(/_/g," ")};function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var La,Da=function(e){for(var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mo,i={},o=e.length,a=0;a<o;a++){if(_n(e[a]))t=e[a],n=r(e[a]);else{var c=Ma(e[a],2);t=c[0],n=c[1]}i[t]=n}return Object.freeze(i)},Ua=Da(["AGE_GROUP_0","AGE_GROUP_1","AGE_GROUP_2","AGE_GROUP_3"],Va),ka=Da(["SUCCESS","FAILURE"],Va),Fa=function(e){return e.toLowerCase()},ja=Da(["PAID_AD_VIEWED","PAID_AD_LOADED","VIDEO_AD_PLAYED","REFRESH_IMAGE_VIEWED","REFRESH_VIDEO_VIEWED","DEFAULT"],Fa),Ga=Da(["INITIATE_FRIEND_REQUEST","SEND_FRIEND_REQUEST","SEND_CLOSE_FRIEND_REQUEST","CANCEL_FRIEND_REQUEST","VIEW_FRIEND_REQUEST","ACCEPT_FRIEND_REQUEST","ACCEPT_CLOSE_FRIEND_REQUEST","DELETE_FRIEND_REQUEST","INITIATE_REAL_NAME_REQUEST","SEND_REAL_NAME_REQUEST","CANCEL_REAL_NAME_REQUEST","VIEW_REAL_NAME_REQUEST","ACCEPT_REAL_NAME_REQUEST","DELETE_REAL_NAME_REQUEST","CANCEL_CLOSE_FRIEND_REQUEST","VIEW_CLOSE_FRIEND_REQUEST","REMOVE_FROM_FRIEND","SELECT_FRIEND","SEARCH_FRIENDS","INITIATE_BLOCK_USER","BLOCK_USER","UNBLOCK_USER","FOLLOW","UNFOLLOW",["CLICK_NOTIFICATION_ICON","click notifications icon"],"SELECT_NOTIFICATION","SELECT_NOTIFICATION_LINK","SELECT_MESSAGE","SELECT_MESSAGE_GROUP","INITIATE_MESSAGE","NEW_MESSAGE","SEND_MESSAGE","REMOVE_ME_FROM_GROUP","CHANGE_GROUP_NAME","ADD_PLAYERS","START_PARTY","JOIN_PARTY","JOIN_SESSION","REQUEST_TO_WATCH","VIEW_SESSION","VIEW_COMMUNITY_SESSION","VIEW_BROADCAST","SHARE_PLAY","VIEW_PROFILE","VIEW_ACCOUNT","CHANGE_ONLINE_STATUS","CHANGE_ONLINE_STATUS_ONLINE","CHANGE_ONLINE_STATUS_OFFLINE","EDIT_PROFILE","CHANGE_BACKGROUND_IMAGE","INITIATE_CHANGE_BACKGROUND_IMAGE","INITIATE_CHANGE_BACKGROUND_COLOR","INITIATE_REMOVE_BACKGROUND_IMAGE","REMOVE_BACKGROUND_IMAGE","SET_BACKGROUND_IMAGE","CHANGE_PRIVACY_SETTING","VIEW_ALL_RELATED_TITLES","ACTIVATE_FRIEND_ONLINE_NOTIFICATION","DEACTIVATE_FRIEND_ONLINE_NOTIFICATION","SET_AVATAR",["SET_AVATAR_PREMIUM","set premium avatar"],"ADD_TO_CUSTOM_LIST",["INITIATE_PROFILE_EDIT","click edit profile"],"NOTIFY_WHEN_ONLINE","UPDATE_PROFILE_INFO","CHANGE_PROFILE_PICTURE","VIEW_ALL_TROPHIES","VIEW_ALL_FRIENDS","CREATE_ROADSTER_PROFILE","DELETE_PROFILE_PICTURE","VIEW_TEAM_MESSAGES","CLICK_EDIT_PROFILE_BUTTON","SEND_MESSAGE_OWNER","JOIN_TEAM","INITIATE_DECLINE_TEAM_INVITE","DECLINE_TEAM_INVITE","INITIATE_LEAVE_TEAM","LEAVE_TEAM","INITIATE_DISBAND_TEAM","DISBAND_TEAM","SEND_TEAM_INVITE","INITIATE_PROMOTE_TEAM_CAPTAIN","PROMOTE_TEAM_CAPTAIN","INITIATE_DEMOTE_TEAM_MEMBER","DEMOTE_TEAM_MEMBER","INITIATE_KICK_OUT_TEAM_MEMBER","KICK_OUT_TEAM_MEMBER","INITIATE_CANCEL_TEAM_INVITE","CANCEL_TEAM_INVITE","VIEW_BACKGROUND_IMAGE","VIEW_TOURNAMENT_RESULT","FIND_TOURNAMENTS","EXPAND_DESCRIPTION","VIEW_BLOCKED_PLAYER_DESCRIPTION","CREATE_TEAM","CANCEL_TEAM_CREATION","CHANGE_TEAM_NAME","CHANGE_TEAM_DESCRIPTION","CHANGE_TEAM_LOGO","REMOVE_TEAM_LOGO","SHOW_RECENT_TEAM_PERFORMANCE","HIDE_RECENT_TEAM_PERFORMANCE","INITIATE_CHANGE_TEAM_LOGO","LIKE","UNLIKE","INITIATE_COMMENT","INITIATE_SHARE","INITIATE_RESHARE","OPEN_INTRO","VIEW_ACTIVITY","INITIATE_POST_ANYTHING","ADD_TO_POST_ANYTHING","SUBMIT_POST_ANYTHING","SUBMIT_RESHARE","SUBMIT_COMMENT","GO_TO_LINK","VIEW_GAME_BROADCAST","VIEW_GAME_VIDEO","VIEW_GAME_SCREENSHOT","VIEW_CONTENT_DETAILS","VIEW_CONTENT_INFO","VIEW_LIKE_COUNT","VIEW_RESHARE_COUNT","DELETE_COMMENT","VIEW_IN_FACEBOOK","VIEW_IN_TWITTER","VIEW_IN_YOUTUBE","VIEW_IN_DAILYMOTION","VIEW_IN_NICONICO","VIEW_IN_LFPS","VIEW_PURCHASE_SUBSCRIPTION","VIEW_GIFT","VIEW_TAGGED_USERS","VIEW_RESHARE_ORIGINAL","LISTEN_IN_SPOTIFY","VIEW_FREE_TRIAL","VIEW_PROMO_SITE","VOTE_NOW","VIEW_VOTE_NOW_RESULTS","COMPARE_TROPHIES","WATCH_PS_VIDEO","VIEW_MY_VIDEOS","VIEW_PRODUCT_DEMOS","VIEW_FULL_GAME_TRIAL","FIND_FACEBOOK_FRIENDS","CREATE_EVENT","VIEW_EVENT","JOIN_EVENT","CANCEL_EVENT","CHANGE_EVENT_STATUS_GOING","CHANGE_EVENT_STATUS_NOT_GOING",["UNREGISTER_EVENT","unregister from event"],["VIEW_EVENT_SUPPORT","view event support page"],"VIEW_TOURNAMENT_STANDINGS","VIEW_EVENT_WEBSITE","VIEW_TOURNAMENT_RULES","WATCH_EVENT_BROADCAST",["VIEW_EVENT_BROADCASTS","view more event broadcasts"],["VIEW_IN_STORE","view ps store"],["VIEW_GAME_IN_STORE","view game in ps store"],"VIEW_ALL_FRIENDS_IN_BROADCAST","VIEW_RELATED_EVENTS","VIEW_TROPHIES","VIEW_TROPHY","TROPHY_COMPARISON_ON","TROPHY_COMPARISON_OFF","GIVE_CONTROLLER_TO_VISITOR","TAKE_BACK_CONTROLLER_FROM_VISITOR","STOP_SHARE_PLAY","LEAVE_SHARE_PLAY","START_SHARE_PLAY","JOIN_SHARE_PLAY","WHAT_IS_SHARE_PLAY","SWITCH_TO_SHARE_PLAY_GAME_SCREEN","VIEW_OTHER_PARTIES","VIEW_PARTY_SETTINGS","LEAVE_PARTY","MUTE_CHAT_MYSELF","UNMUTE_CHAT_MYSELF","MUTE_CHAT_PLAYER","UNMUTE_CHAT_PLAYER","CHANGE_PARTY_PLAYER_LIMIT","SEND_INVITATIONS","INITIATE_CREATE_PARTY","ADJUST_PARTY_PRIVACY_PUBLIC","ADJUST_PARTY_PRIVACY_PRIVATE","ADJUST_AUDIO_MIX","ADJUST_CHAT_AUDIO_PRIORITIZE_PARTY_CHAT","ADJUST_CHAT_AUDIO_PRIORITIZE_GAME_CHAT","ADJUST_VIDEO_QUALITY_FOR_SHARE_PLAY_HIGH_RESOLUTION","ADJUST_VIDEO_QUALITY_FOR_SHARE_PLAY_STANDARD_RESOLUTION","ADJUST_VIDEO_QUALITY_FOR_SHARE_PLAY_HIGH_FRAME_RATE","ADJUST_VIDEO_QUALITY_FOR_SHARE_PLAY_STANDARD_FRAME_RATE","ADJUST_VOICE_SHARING_PERMISSIONS_ALWAYS_ALLOW","ADJUST_VOICE_SHARING_PERMISSIONS_DO_NOT_ALLOW","ADJUST_VOICE_SHARING_PERMISSIONS_ALLOW_FOR_PARTY","INVITE_PLAYERS_TO_PARTY","INVITE_MESSAGE_GROUP_TO_PARTY","INVITE_COMMUNITY_GROUP_TO_PARTY","CHANGE_CONTROLLER_TYPE","TEST_CONNECTION_SPEED","INITIATE_SEND_MESSAGE_TO_ALL","INITIATE_CREATE_NEW_EVENT","VIEW_CHAT_TRANSCRIPTION_PAGE","KICK_OUT_OF_PARTY","VIEW_COMMUNITY","VIEW_COMMUNITIES","SEARCH_COMMUNITIES","FILTER_COMMUNITIES","CREATE_COMMUNITY","JOIN_COMMUNITY",["INVITE_COMMUNITY","click invite to community icon"],["COMMUNITY_SETTING","click community settings icon"],"ACCEPT_COMMUNITY_MEMBERSHIP_REQUEST","DENY_COMMUNITY_MEMBERSHIP_REQUEST","DELETE_COMMUNITY","LEAVE_COMMUNITY",["CHANGE_COMMUNITY_NAME_PERMISSION","change community name and permissions"],"CHANGE_COMMUNITY_GAME_ASSOCIATION",["CHANGE_COMMUNITY_IMAGE_BACKGROUND","change community image and background"],["SUBMIT_FRIENDS_INVITATIONS_COMMUNITY","submit friends invitations to community"],"CHANGE_COMMUNITY_NOTIFICATIONS",["POST_COMMUNITY_WALL","post to community wall"],["REPLY_COMMUNITY_POST","reply to community post"],["VIEW_IMAGE_COMMUNITY_WALL","view image on community wall"],["SEND_MESSAGE_COMMUNITY","send message to community member"],"VIEW_IN_PS_STORE","VIEW_MY_ADD_ONS","VIEW_MY_THEMES","VIEW_MY_AVATARS","VIEW_STORE_ADD_ON","VIEW_STORE_THEME","VIEW_STORE_AVATAR","VIEW_STORE_EXTRA","VIEW_VOTE_TO_PLAY","ADD_TO_CART","REMOVE_FROM_CART","ADD_TO_CART_UPSELL","VERSION_UPSELL","PSPLUS_UPSELL","OPTIMUS","ADD_TO_WISHLIST","CREATE_WISHLIST","REMOVE_FROM_WISHLIST","PREORDER_INTRO","SUBSCRIBE_AUTOFUND","SUBSCRIBE_EXTEND_INTRO","REDEEM_VOUCHER","REDEEM_MONEY_VOUCHER","VOUCHER_APPLICATION_CASH","VOUCHER_APPLICATION_PRODUCT","VOUCHER_APPLICATION_PRODUCT_PERCENT_OFF","VOUCHER_APPLICATION_ORDER_PERCENT_OFF","MULTI_BUY_ADD_ANOTHER_ITEM","CHANGE_SUBSCRIPTION_STATUS","DOWNLOAD_PS_NOW_GAME","LOGIN","EUROPEAN_CHECKOUT_CHECKBOX","COUNTDOWNTIMER","STARTGAME_CLICK","DOWNLOAD_PAUSE","DOWNLOAD_RESUME","CONFIRM_PURCHASE","OSK_SEARCH_TEXT_ENTRY","OSK_SEARCH_ZERO_STATE","OSK_SEARCH_NO_RESULTS","OSK_SEARCH_RESULTS_RETURN","START_GAME","START_APP","CLOSE_GAME","CLOSE_APP","RATE","DOWNLOAD","DOWNLOAD_PROGRESS","TRY_FREE_DEMO","TRY_FULL_GAME","BUY","BUY_PS_PLUS_PRICE","PRE_ORDER","PRE_ORDER_COUNTDOWN","GET_IT_NOW","CLICK_LIVE_TILE","VIEW_LIVE_DETAIL","INITIATE_ADD_TO_LIBRARY","ADD_TO_LIBRARY","CLICK_TO_LIVE_BROADCAST","JOIN_PS_PLUS","MANAGE_SUBSCRIPTION","MANAGE_STORAGE","MANAGE_MEMBERSHIP","AUTO_RENEW_VALUE_PROP_YES","AUTO_RENEW_VALUE_PROP_NO","AUTO_RENEW_FEEDBACK_CONTINUE","AUTO_RENEW_CONFIRMATION_OK","VIEW_MINI_PROFILE","JOIN_NOW","SIGN_UP","SIGN_IN","SIGN_OUT","SETUP_2_STEP_VERIFICATION","CHANGE_AUTO_RENEW_PAYMENT_SETTING","CHANGE_PASSWORD_PAYMENT_SETTING","SAVE_PAYMENT_METHOD_INFORMATION","REMOVE_PAYMENT_METHOD","SAVE_DEFAULT_PAYMENT_METHOD","ADD_PAYMENT_METHOD","CHANGE_AGE_VERIFICATION_DOCUMENT","COMPLETE_AGE_VERIFICATION_DOCUMENT","ABORT_SECURE_VERIFYING","ACTIVATE_2SV","DEACTIVATE_2SV","ADD_PHONE_NUMBER","REMOVE_PHONE_NUMBER","VERIFY_PHONE_NUMBER","SEND_FAMILY_INVITE","ACCEPT_FAMILY_INVITE","DECLINE_FAMILY_INVITE","REVOKE_FAMILY_INVITE","LEAVE_FAMILY","REMOVE_USER_FROM_FAMILY","PROMOTE_TO_GUARDIAN","CHANGE_PARENTAL_CONTROLS","DEMOTE_FROM_GUARDIAN","VIEW_AS_FAMILY_MANAGER","VIEW_AS_GUARDIAN","CREATE_MASTER_ACCOUNT","CREATE_YOUTH_ACCOUNT","CREATE_KID_ACCOUNT","CREATE_OFFLINE_ACCOUNT","CLAIM_YOUTH_ACCOUNT","CLAIM_KID_ACCOUNT","APPROVE_SUBACCOUNT","EDIT_ACCOUNT_INFO","CHANGE_SECURITY_SETTINGS","SUGGEST_ONLINE_ID","CONFIRM_ONLINE_ID","CHANGE_OLD_ID_DISPLAY_SETTING","DEACTIVATE_DEVICE","ACTIVATE_DEVICE","VERIFY_CODE","RESEND_CODE","SEND_EMAIL","INITIATE_GRIEF_REPORT","BACK_FROM_STEP_GRIEF_REPORT","CANCEL_GRIEF_REPORT","COMPLETE_STEP1_GRIEF_REPORT","COMPLETE_STEP2_GRIEF_REPORT","SEND_GRIEF_REPORT",["CLICK_QUICK_VIEW_SELECT_BANNER","quick view select banner"],["CLICK_QUICK_VIEW_HOVER_BANNER","quick view hover banner"],["CLICK_QUICK_VIEW_NAVIGATION","quick view navigation"],["CLICK_QUICK_VIEW_CLOSE","quick view close"],["CLICK_QUICK_VIEW_OPEN","quick view open"],"CLOSE_WINDOW","REDEEM_CODE_SCAN","REDEEM_CODE_MANUAL","EASY_SIGNIN_SCAN","EASY_SIGNIN_MANUAL","FILTER_BY_MOST_RECENT","FILTER_BY_MOST_POPULAR","VIEW_ALL","OPEN","SEARCH","VIEW_SEARCH_RESULT","DELETE","EXIT_BACK","EXIT_PS_BUTTON","EXPAND_WINDOW","OPEN_GALLERY_VIEW","VIEW_NOTICE","CHECK_FOR_UPDATE","UPDATE_HISTORY","INFORMATION","ADD_TO_FOLDER","MOVE_FROM_FOLDER","EDIT_FOLDER","CLICK_TILE","CLICK_BANNER","SELECT_BANNER","CANCEL_OVERLAY","DISMISS_OVERLAY","PERMANENTLY_REMOVE_OVERLAY","CLICK_OVERLAY","FILTER_CATEGORY","SORT_CATEGORY","CLICK_RECOMMENDATION","FAVORITED","UNFAVORITED","VIEW_FRIENDS","VIEW_HOME","VIEW_PDC","VIEW_ACTIVITY_FEED","CLICK_SUBSCRIPTION_MANAGEMENT","VIEW_DOWNLOAD_LIST","VIEW_DOWNLOAD_QUEUE","VIEW_MY_VIDEOS","VIEW_STOREFRONT_COUNTRY","VIEW_WISHLIST","CLICK_BUTTON","CLICK_ARROW","CLICK_ICON","CLICK_NAV",["CLICK_TOS","click terms of service"],"CLICK_PRIVACY_POLICY","CLICK_ABOUT_US",["CLICK_CA_PRIVACY_RIGHTS","click your ca privacy rights"],"CLICK_BLOG","CLICK_SUPPORT","CLICK_CONTACT_US",["CLICK_OPEN_OSS","click open source licenses"],"CLICK_CAREERS","CLICK_PAYMENT_MANAGEMENT","CLICK_REDEEM_CODES",["VIEW_ADDON_TROPHIES","view add-on trophies"],"VIEW_MORE_GAMES","MANAGE_PERSONALIZATION_SETTINGS","VIEW_PRIVACY_SETTINGS","MANAGE_DATA_GATHERING_SETTINGS","CHANGE_PLAYTIME_LIMIT","SELECT_SET_HOME_DEVICE","SUBMIT_HOME_DEVICE","RETRY_DEVICE_LIMIT","CONFIRM_OUT_OF_DMA","ADD_TO_MY_DVR","REMOVE_FROM_MY_DVR","MORE_EPISODES","GO_TO_CHANNEL","START_WATCHING","CONTINUE_WATCHING","PLAY_LATEST_EPISODE","VIEW_FULL_DESCRIPTION","GO_BACK","GENRE","MULTIVIEW_PROGRAM_ADDED","MULTIVIEW_PROGRAM_REMOVED","MULTIVIEW_SWITCH_ONFOCUS","MULTIVIEW_SWITCH_OFFFOCUS","MULTIVIEW_WATCH","AD_CLICK","CLICK_HEADER"],Va),Ba=Da(["AE","AR","AT","AU","BA","BE","BG","BH","BO","BR","CA","CH","CL","CN","CO","CR","CY","CZ","DE","DK","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HR","HU","ID","IE","IL","IN","IR","IS","IT","JP","KR","KW","KZ","LB","LT","LU","LV","ME","MK","MT","MX","MY","NI","NL","NO","NZ","OM","PA","PE","PL","PT","PY","QA","RO","RS","RU","SA","SE","SG","SI","SK","SV","TH","TR","TW","UA","US","UY","VN","ZA"]),Ha=Da(["PS3","PS4","PS4K","TV","WEB","MWEB","ANDROID","IOS","ROKU","ANDROID_TV","FIRE_TV","APPLE_TV","CHROMECAST"],Fa),Wa=Da(["START","COMPLETE","NEXT","BACK","CANCEL","SKIP","START_NESTED","COMPLETE_NESTED"],Va),Ya=Da(["ar_AE","ar_BH","ar_KW","ar_LB","ar_OM","ar_QA","ar_SA","ch_HK","ch_TW","cs_CZ","da_DK","de_AT","de_CH","de_DE","de_LU","el_GR","en_AE","en_AR","en_AU","en_BG","en_BH","en_BR","en_CA","en_CL","en_CO","en_CR","en_CY","en_CZ","en_DK","en_EC","en_FI","en_GB","en_GR","en_HK","en_HR","en_HU","en_ID","en_IE","en_IL","en_IN","en_IS","en_KW","en_LB","en_MT","en_MX","en_MY","en_NO","en_NZ","en_OM","en_PA","en_PE","en_PL","en_QA","en_RO","en_SA","en_SE","en_SG","en_SI","en_SK","en_TH","en_TR","en_TW","en_US","en_ZA","es_AR","es_BO","es_BR","es_CL","es_CO","es_CR","es_EC","es_ES","es_GT","es_HN","es_MX","es_NI","es_PA","es_PE","es_PY","es_SV","es_UY","fi_FI","fr_BE","fr_CA","fr_CH","fr_FR","fr_LU","hu_HU","id_ID","it_CH","it_IT","ja_JP","ko_KR","nl_BE","nl_NL","no_NO","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","ru_UA","sv_SE","th_TH","tr_TR","vi_VN","zh_CN","zh_HK","zh_TW"]),xa=Object.freeze({WIFI:"wifi",WIRED:"wired",CELL_LTE:"cell lte",CELL_3G:"cell 3G"}),Ka=Da(["CC_AMEX","CC_CARTEBANCAIRE","CC_CARTEBLEUE","CC_DISCOVER","CC_ELO","CC_HIPERCARD","CC_JCB","CC_MAESTRO","CC_MASTERCARD","CC_MASTERCARD_3DS","CC_VISA","CC_VISA_3DS","APM_PAYPAL","APM_PAYPAL_DI","APM_ALIPAY","APM_BOKU","APM_BOKU_DI","APM_CASHU","APM_CHINAUNIONPAY","APM_EDY","APM_GIROPAY","APM_IDEAL","APM_KAKAOPAY","APM_MISTERCASH","APM_PAYSAFECARD","APM_POSTEPAY","APM_SOFORT","APM_SOLO","APM_YANDEXMONEY","VOUCHER","WALLET"],(),za=Da([["ALLOW","allow advertising"],["DISALLOW","disallow advertising"]],Va),qa=Da(["TRIAL","SUBSCRIPTION","NOT_SUBSCRIBED"],Va),Ja=Da(["FREE_TRIAL","SUBSCRIPTION","LAPSED","NEVER_SUBSCRIBED"],Va),Xa=Da(["GAME_DIGITAL","GAME_DISC","GAME_PSNOW_PS3","GAME_PSNOW_PS4","APP"]),Za=Da([["ALLOW","allow recommendations"],["DISALLOW","disallow recommendations"]],Va),Qa=Object.freeze({E1:"e1-np",NP:"np"}),$a=Da(["CRITICAL","MAJOR","MINOR","NORMAL","INFO"],Fa),ec=Da(["APP",["PAGE","Page"]]),tc=Da(["LIVE","VOD","DVR","CATCH_UP","PROMO","TRAILER","PS_VUE_LIVE","TVOD","SVOD","HLS","DASH","NONE","UNKNOWN"]),nc=Da(["VOUCHER_CASH","VOUCHER_PRODUCT","FUNDING","FUNDING_3DS","BEGIN_3DS","COMPLETE_3DS","MISC","VIEW_PRODUCT","ADD_TO_CART","REMOVE_FROM_CART","VIEW_CART","CONFIRM_PURCHASE","PURCHASE","PURCHASE_3DS","BUY_NOW","BUY_NOW_3DS","PREORDER_PAY_NOW","PREORDER_PAY_NOW_3DS","RECOMMENDATION","VOUCHER_PRODUCT_PERCENT_OFF","VOUCHER_ORDER_PERCENT_OFF","VOUCHER_PRODUCT_FIXED_AMOUNT_OFF",["APPLY_VOUCHER","voucher application"],"PURCHASE_DETAILS","PROCESSING_PAYMENT","CONFIRM_PURCHASE_FPI"],Va),rc=Da(["START","PAUSE","RESUME","PROGRESS","COMPLETE","AUTO_START","ON_FOCUS_START","ON_FOCUS_AUTO_START","REBUFFER","PLAYER_ERROR"]),ic=Da(["TV_SHOWS","MOVIES","SPORTS","NEWS","SENTV_VIDEOS","INFOMERCIALS","PROMO","USER_GENERATED_CONTENT","LIVE_EVENT","CATCH_UP","CHANNEL","MUSIC","OTHER","NONE"]),oc=Da(["LIVE","PREVIEW","TRAILER","FULL"]),ac=Da(["FULLSCREEN","PARTIAL","UNKNOWN"],Va),cc={},sc=function(e){return function(t){return function(n){return wa(cc[e])&&function(e,t){cc[e]=Object.keys(t).map((function(e){return t[e]}))}(e,t),So(cc[e],n)}}},uc=sc("COUNTRIES")(Ba),pc=sc("DEVICES")(Ha),lc=sc("FORM_ACTIONS")(Wa),fc=sc("NETWORKS")(xa),yc=sc("PAYMENT_METHODS")(Ka),dc=sc("PSNOW_TYPES")(qa),_c=sc("PSPLUS_TYPES")(Ja),vc=sc("SEVERITIES")($a),hc=sc("STREAM_TYPES")(tc),Ec=sc("TRANSACTION_TYPES")(nc),gc=sc("VIDEO_ACTIONS")(rc),mc=sc("VIDEO_FORMATS")(oc),Ic=sc("VIDEO_TYPES")(ic),Tc=sc("WINDOW_MODES")(ac);function Sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ac,Oc="missingFieldDeviceId",bc="missingFieldApplicationName",Rc="missingFieldBuildVersion",Nc="missingFieldDeviceType",Cc="missingFieldCharSet",Pc="missingPsnAccountLanguage",wc="missingPsnAccountRegion",Vc="invalidDeviceType",Mc="invalidNetworkType",Lc="invalidNpAccountLocale",Dc="invalidPsnAccountLanguage",Uc="invalidPsnAccountRegion",kc=(Sc(La={},Oc,'The field "deviceId" is required and cannot be empty.'),Sc(La,bc,'The field "appName" is required and cannot be empty.'),Sc(La,Rc,'The field "buildVersion" is required and cannot be empty.'),Sc(La,Nc,'The field "deviceType" is required and cannot be empty.'),Sc(La,Cc,'The field "charset" is required and cannot be empty.'),Sc(La,Pc,'"psnAccountLanguage" cannot be empty if "psnAccountRegion" is set.'),Sc(La,wc,'"psnAccountRegion" cannot be empty if "psnAccountLanguage" is set.'),Sc(La,Vc,'The provided "deviceType" is invalid: {value}.'),Sc(La,Mc,'The provided "networkType" is invalid: {value}.'),Sc(La,Lc,'The NP Account Locale "locale" provided is invalid: {value}.'),Sc(La,Dc,'The PSN Account Language "psnAccountLanguage" is invalid: {value}.'),Sc(La,Uc,'The PSN Account Language "psnAccountRegion" is invalid: {value}.'),La),Fc=function(e){var t,n;function r(){var t;return(t=e.call(this,{messageTemplates:kc})||this).npAccountValidator=new Ai,t.psnAccountRegionValidator=new Mi,t.psnAccountLanguageValidator=new Ci,t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isValid=function(e){var t=!0;return e.appName||(this.error(bc),t=!1),e.buildVersion||(this.error(Rc),t=!1),e.deviceId||(this.error(Oc),t=!1),e.deviceType||(this.error(Nc),t=!1),e.charset||(this.error(Cc),t=!1),pc(e.deviceType)||(this.error(Vc,e.deviceType),t=!1),e.networkType&&!fc(e.networkType)&&(this.error(Mc,e.networkType),t=!1),e.locale&&!this.npAccountValidator.isValid(e.locale)&&(this.error(Lc,e.locale),t=!1),e.psnAccountRegion&&!this.psnAccountRegionValidator.isValid(e.psnAccountRegion)&&(this.error(Uc,e.psnAccountRegion),t=!1),e.psnAccountLanguage&&!this.psnAccountLanguageValidator.isValid(e.psnAccountLanguage)&&(this.error(Dc,e.psnAccountLanguage),t=!1),e.psnAccountLanguage&&!e.psnAccountRegion&&(this.error(wc),t=!1),!e.psnAccountLanguage&&e.psnAccountRegion&&(this.error(Pc),t=!1),t},r}(mi);unction Gc(e){var t=(Ac||(Ac=new RegExp("^([a-z]{2,3})(?:[-_]([a-z]{4}))?(?:[-_]((?:[a-z]{2})|(?:[0-9]{3})))?((?:[-_](?:(?:[a-z0-9]{5,8})|(?:[0-9][a-z0-9]{3})))*)((?:(?:[-_][a-wyz0-9]{1})(?:[-_][a-z0-9]{2,8})+)*)([-_]x(?:[-_][a-z0-9]{1,8})+)?$","i")),Ac).exec(e);if(!t)return null;var n=jc(t,5);return[n[1],n[2],n[3],function(e){return e.length?e.split(/-|_/).slice(1):[]}(n[4]),[]]}var Bc=function(e){var t=Gc(e);if(!t)return null;var n=jc(t,5);return{languageId:n[0],scriptId:n[1],regionId:n[2],variants:n[3],extensions:n[4]}};function Hc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wc=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._legacyEnvironment=e,this._logger=t.logger,this._deprecationManager=t.deprecationManager,this._npAccountLocaleValidator=void 0,this._psnAccountLanguageValidator=void 0,this._psnAccountRegionValidator=void 0}var t,n,r,i=e.prototype;return i._requireValidPlusUserType=function(e){if(e&&!_c(e))throw new Error("Invalid value for plusUserType.")},i.user_signOut=i.user_withPlusMembership=function(e){this._requireValidPlusUserType(e),this._legacyEnvironment.withUserPlusMembership(e)},i.user_withNoPlusMembership=i.user_withPostalCode=function(e){var t;e&&(jo(e)&&!xo(e)?t=e.trim():Go(e)&&e>0&&(t=String(e))),this._legacyEnvironment.withUserPostalCode(t)},i.user_withDma=function(e){var t;e&&(jo(e)&&!xo(e)?t=e.trim():Go(e)&&e>0&&(t=String(e))),this._legacyEnvironment.withUserDma(t)},i.user_withPsNowMembershipType=function(e){this._legacyEnvironment.withUserPsNowMembershipType(e)},i._user_withPsnAccountLanguage=function(e){if(e&&!this.psnAccountLanguageValidator.isValid(e))throw new Error('Invalid value for "psnAccountLanguage": '.concat(e,"!"));this._legacyEnvironment.withUserPsnAccountLanguage(e)},i._user_withPsnAccountRegion=function(e){if(e&&!this.psnAccountRegionValidator.isValid(e))throw new Error('Invalid value for "psnAccountRegion": '.concat(e,"!"));this._legacyEnvironment.withUserPsnAccountRegion(e)},i.user_withPsnAccount=function(e,t){this._legacyEnvironment.withoutUserNpLocale(),this._user_withPsnAccountRegion(t),this._user_withPsnAccountLanguage(e)},i.user_withNpAccountLocale=function(e){if(e){if(this._deprecationManager.trigger(new to({date:"2019-03-12",name:"environment.locale",description:"Use of env.locale is deprecated, use psnAccountLanguage and psnAccountRegion.",overrideKey:"allowEnvironmentLocale"})),!this.npAccountLocaleValidator.isValid(e))throw new Error('Invalid value for "locale": '.concat(e,"!"));if(!uc(e.substr(-2)))throw new Error('Invalid country in "locale": '.concat(e,"!"));var t=Bc(e);if(!t||!t.languageId)throw new Error("Invalid Locale encountered in userWithNpAccountLocale.  Should not be possible.");this.user_withPsnAccount(t.languageId,t.regionId)}else this.user_withPsnAccount(!1,!1)},i.platform_withNetworkType=i.compat_withPlusUserStatusAndType=function(e,t){!0!==e?!1!==e?this._logger.error("updatePlusUserStatus called with invalid value for isPlusUser: ",JSON.stringify(e)):this.user_withNoPlusMembership(t):this.user_withPlusMembership(t)},i.compat_withUserSignedIn=function(e,t,n,r,i){if(t&&i)throw new Error("Cannot use both npAccountLocale and psnAccount.");if(this._legacyEnvironment.withUserSignedIn(),this._legacyEnvironment.withUserVisitorId(e),this.user_withDma(r),this.user_withPostalCode(n),this.user_withNpAccountLocale(t),i){if(!i.language||!i.region)throw new Error("The PsnAccountObject must contain keys .language and .region");this.user_withPsnAccount(i.language,i.region)}},i.compat_resolveUndefinedSignedIn=function(){void 0===this._legacyEnvironment.rawSignedIn&&(this._legacyEnvironment.withUserSignedIn(),this._deprecationManager.trigger(new to({date:"2018-11-14",name:"env.signedIn",description:"Please set a value for env.signedIn.  Default value is changing.",overrideKey:"allowUndefinedEnvSignedIn"})))},i.compat_resolveConstructorSignedOut=function(){this._legacyEnvironment.isSignedIn||(this._legacyEnvironment.withUserSignedOut(),this._legacyEnvironment.withUserVisitorId(void 0),this._legacyEnvironment.withUserDma(void 0),this._legacyEnvironment.withUserPostalCode(void 0),this._legacyEnvironment.withoutUserNpLocale(),this._legacyEnvironment.withUserPsnAccountRegion(void 0),this._legacyEnvironment.withUserPsnAccountLanguage(void 0))},i.compat_withUserSignedOutBlankAssociated=function(){this._legacyEnvironment.withUserSignedOut(),this._legacyEnvironment.withUserVisitorId(void 0),this._legacyEnvironment.withUserDma(void 0),this._legacyEnvironment.withUserPostalCode(void 0),this._legacyEnvironment.withoutUserNpLocale(),this._legacyEnvironment.withUserPsnAccountRegion(void 0),this._legacyEnvironment.withUserPsnAccountLanguage(void 0)},t=e,(n=[{key:"psnAccountLanguageValidator",get:function(){return this._psnAccountLanguageValidator||(this._psnAccountLanguageValidator=new Ci),this._psnAccountLanguageValidator}},{key:"psnAccountRegionValidator",get:function(){return this._psnAccountRegionValidator||(this._psnAccountRegionValidator=new Mi),this._psnAccountRegionValidator}},{key:"npAccountLocaleValidator",get:])&&Hc(t.prototype,n),r&&Hc(t,r),e}();function Yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xc=function(){function e(e){this._environment=Object.freeze(dn(e))}var t,n,r,i=e.prototype;return i._replaceWith=i._unfrozenValue=i.withUserDma=function(e){var t=this._unfrozenValue();t.DMA=e||void 0,this._replaceWith(t)},i.withUserNoPlusMembership=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this._unfrozenValue();t.isPlusUser=!1,t.plusUserType=e&&_c(e)?e:void 0,this._replaceWith(t)},i.withoutUserNpLocale=function(){var e=this._unfrozenValue();delete e.locale,this._replaceWith(e)},i.withUserPsnAccountRegion=function(e){var t=this._unfrozenValue();t.psnAccountRegion=e||void 0,this._replaceWith(t)},i.withUserPsnAccountLanguage=function(e){var t=this._unfrozenValue();t.psnAccountLanguage=e||void 0,this._replaceWith(t)},i.withUserPlusMembership=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this._unfrozenValue();t.isPlusUser=!0,t.plusUserType=e&&_c(e)?e:void 0,this._replaceWith(t)},i.withUserPostalCode=function(e){var t=this._unfrozenValue();t.postalCode=e||void 0,this._replaceWith(t)},i.withUserPsNowMembershipType=function(e){var t=dc(e)?e:void 0,n=this._unfrozenValue();n.psnowMembershipType=t,this._replaceWith(n)},i.withUserSignedIn=function(){var e=this._unfrozenValue();e.signedIn=!0,this._replaceWith(e)},i.withUserSignedOut=i.withUserVisitorId=function(e){var t=this._unfrozenValue();t.visitorId=e||void 0,this._replaceWith(t)},i.withPlatformPrivacyWs1=function(e){var t=this._unfrozenValue(),n=e;ho(e)||(n=_o.MINIMAL),t.platformPrivacyWs1=n,this._replaceWith(t)},i.withPlatformNetworkType=function(e){var t=fc(e)?e:void 0,n=this._unfrozenValue();n.networkType=t,this._replaceWith(n)},t=e,(n=[{key:"value",get:function(){return this._environment}},{key:"platformNetworkType",get:function(){return this.value.networkType}},{key:"rawSignedIn",get:function(){return this.value.signedIn}},{key:"isSignedIn",get:,{key:"platformPrivacyWs1",get:function(){return this.value.platformPrivacyWs1}},{key:"userVisitorId",get:])&&Yc(t.prototype,n),r&&Yc(t,r),e}(),Kc=new RegExp("(".concat(["&quot;","&rsquo;",'"',"&","'","#","\\$","%","\\^","\\*","!","<",">","~",";","\\?","\u2122","\xae","\xa9",":"].join("|"),")"),"g"),zc=function(){eturn e.truncateJsonToString=function(e,t,n){if(!e)return"";var r=JSON.stringify(e);if(r.length<=t)return r;for(var i="...",o=n+i.length,a=Object.keys(e).map((function(t){var n=e[t];return{key:t,value:n,output:n)||"undefined"===typeof n?"":jo(n)?n:JSON.stringify(n)}}));r.length>t&&a.length>0;){a.sort(();var c=a[0];if(c.output.length<=o)break;jo(c.value)||(c.value=c.output,e[c.key]=c.value,r=JSON.stringify(e));var s=Math.max(c.value.length-(r.length-t),Math.floor(c.value.length/2),o);c.value=c.value.substring(0,s-i.length)+i,c.output=c.value,e[c.key]=c.value,r=JSON.stringify(e)}return r},e.cleanUpString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return"";var r=String(e);return r=r.replace(Kc,""),t&&(r=r.replace(t,"")),r=r.replace(/[ ]{2,}/," ").replace(/\s?:\s?/g,":").replace(/(^\s+|\s+$)/g,""),n?r.toLowerCase():r},e.cleanUpLocationString=function(t){for(var n=[],r=t.split(":"),i=0;i<r.length;i+=1)r[i]&&n.push(e.cleanUpString(r[i]));return n.join(":")},e}();ar Jc=function(){function e(e,t,n,r){this.environment=e||{},this.config=t||{},this.__logger=this.config.__logger||new fr,this.__pluginName=n,this.__serviceLocator=r,this._useAsyncInterface=!1}var t,n,r,i=e.prototype;return i._dispatchAsync=function(e){var t=this;return Promise.resolve(null).then((function(){var n=t.buildPayloadAsync(e);return n?(t.config.dryRun||t.sendPayloadAsync(n,e),n):n}))},i._dispatchSync=function(e,t){var n=this.buildPayload(e,t);return n?(this._logEventPayload(e,n),this.config.dryRun?this.logger.warning("Not sending ".concat(e.type," event to ").concat(this.pluginName," (dry run)")):this.sendPayload(n,e,t)):!1===n&&this.logger.warning("Could not build payload for ".concat(e.type," event to ").concat(this.pluginName,"!")),this.config.dryRun?null:n},i.dispatch=i._logEventPayload=function(e,t){var n=e&&e.type||"Unknown";this.logger.debug("".concat(this.pluginName," ").concat(n," Sending payload."),{payload:t})},i.buildPayload=function(e,t){return this.logger.warning("".concat(this.constructor.name,".buildPayload() is not implemented by plugin!")),{}},i.buildPayloadAsync=i.sendPayload=function(e,t,n){this.logger.warning("".concat(this.constructor.name,".sendPayload() is not implemented by plugin!"))},i.sendPayloadAsync=t=e,(n=[{key:"pluginName",get:function(){return this.__pluginName}},{key:"serviceLocator",get:function(){return this.__serviceLocator}},{key:"logger",get:])&&qc(t.prototype,n),r&&qc(t,r),e}(),Xc={};function Zc(e){return(Zc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Xc.MISSING_VISITOR_ID="0000000000000000000000000000000000000000000000000000000000000000",Xc.COUNTRY_TERRITORY_ENUM={ae:"middle_east",ar:"latam",at:"europe_other",au:"anz",ba:"eastern_europe",be:"benelux",bg:"eastern_europe",bh:"middle_east",bo:"latam",br:"latam",ca:"usca",ch:"europe_other",cl:"latam",cn:"china",co:"latam",cr:"latam",cy:"europe_other",cz:"eastern_europe",de:"efigs",dk:"nordics",ec:"latam",ee:"eastern_europe",sv:"latam",gt:"latam",hn:"latam",py:"latam",es:"efigs",fi:"nordics",fr:"efigs",gb:"efigs",gr:"europe_other",hk:"sceh",hr:"europe_other",hu:"eastern_europe",id:"sceh",ie:"europe_other",il:"middle_east",in:"europe_other",ir:"middle_east",is:"europe_other",it:"efigs",jp:"scej",kr:"scek",kw:"middle_east",kz:"middle_east",lb:"middle_east",lt:"eastern_europe",lu:"benelux",lv:"eastern_europe",me:"eastern_europe",mk:"eastern_europe",mt:"europe_other",mx:"latam",my:"sceh",nl:"benelux",ni:"latam",no:"nordics",nz:"anz",om:"middle_east",pa:"latam",pe:"latam",pl:"eastern_europe",pt:"europe_other",qa:"middle_east",ro:"eastern_europe",rs:"eastern_europe",ru:"eastern_europe",sa:"middle_east",se:"nordics",sg:"sceh",si:"europe_other",sk:"eastern_europe",th:"sceh",tr:"europe_other",tw:"sceh",ua:"eastern_europe",us:"usca",uy:"latam",vn:"sceh",za:"africa"},Object.freeze(Xc.COUNTRY_TERRITORY_ENUM),Xc.DEFAULT_ORGANIZATION_ID="BD260C0F53C9733E0A490D45@AdobeOrg",Xc.DEFAULT_TRACKING_SERVER="metrics.aem.playstation.com",Xc.DEFAULT_TRACKING_SERVER_SECURE="smetrics.aem.playstation.com",Xc.DEFAULT_MARKETING_CLOUD_SERVER="metrics.aem.playstation.com",Xc.DEFAULT_MARKETING_CLOUD_SERVER_SECURE="smetrics.aem.playstation.com",Xc.DEFAULT_AUDIENCE_MANAGER_SERVER="sne.demdex.net",Xc.DEFAULT_AUDIENCE_MANAGER_SERVER_SECURE="sne.demdex.net",Xc.INVALID_COMMA_REGEX=/,/g,Object.freeze(Xc);var Qc,$c=es=/^\s+|\s+$/g,ts=/^[-+]0x[0-9a-f]+$/i,ns=/^0b[01]+$/i,rs=/^0o[0-7]+$/i,is=parseInt,os=as=1/0,cs=ss=us=ps=ls=Math.max,fs=ys=["&quot;","&rsquo;","\t","\n","\r","#","&","<",">"],ds=["!",'"',"$","%","'","*",";","?","^","~","\xae","\xa9","\u2122","\u2019"],_s=vs=function(e){return new RegExp("(".concat(e.map(_s).join("|"),")"),"g")},hs=new RegExp("\\s+","g"),Es=vs(ys.concat(ds).concat([",","=","\u201c","\u201d","\u2018","\xab","\xbb","[","]","{","}","(",")","`","+","/","|","@","\\"])),gs=function(e){return zc.cleanUpString(e)},ms=function(e,t){if("string"===typeof e){var n=t||gs;return String(e).split(":").map(n).join(":")||void 0}},Is=function(e,t,n){if(4*e.length<=t)return e;var r=Fi(e,t);if(r===e||!n||0===n.length)return r;var i=n.map((function(e){return r.lastIndexOf(e)})).reduce((function(e,t){return Math.max(e,t)}),0);return r.substr(0,i)},Ts=function(e){var t=e instanceof RegExp?e:vs(Wo(e)?e:[e]);return function(e){return e.replace(t,"")}},Ss=As=function(e){return e},Os=function(e){return e).trim()},bs=function(e){var t=ys.concat(ds);return Ts(t)(e)},Rs=function(e){var t=ys.concat(ds).filter(();return Ts(t)(e)},Ns=function(e){var t=ys.concat(ds).filter(();return Ts(t)(e)},Cs=Ps=function(e){return So([void 0,null,!1],e)?"":String(e)},ws=function(e){return function(t){return Cs(t).map(Ps).map(Ts(e)).map(bs).map(Os).join(e)}},Vs=ws(":"),Ms=(Qc=",",function(e){return Cs(e).map(Ps).map(Ts(Qc)).map(Os).join(Qc)}),Ls=ws("-"),Ds=ws("|"),Us=ws(";"),ks=function(e){return Is(Os(Ts(Es)(e)),100)},Fs=js=function(e,t){if(!So([void 0,null,!1],e)){if("number"===typeof e)return e;var n=t||{},r=n.allowUppercase,i=n.cleaner,o=n.delimiters;return Is((r?As:Ss)(Os((i||bs)(e))),255,o)||void 0}},Gs=function(e){if(!So([void 0,null,!1],e))return"number"===typeof e?e:Ss(Os(bs(e)))||void 0},Bs=function(e,t){var n=function(e){if(!e)return"empty";var t=Bc(e);return t.languageId?t.languageId.toLowerCase():"empty"}(e),r=t);return[function(e){if(!e)return"empty";var t=e.toLowerCase();return Xc.COUNTRY_TERRITORY_ENUM[t]||"other"}(t),r,n].join("-")},Hs=function(e){return function(e){return e&&_n(e)&&!xo(e)}(e)?e.trim():"empty"},Ws=function(e){var t=e.environment||{},n=Bs(t.psnAccountLanguage,t.psnAccountRegion),r=Hs(t.postalCode),i=Hs(t.DMA);return js(Vs([n,r,i]),{allowUppercase:!0})},Ys=function(e){var t=[];return e.postAnythingHasText&&t.push("txt"),e.postAnythingHasImage&&t.push("img"),e.postAnythingHasUrl&&t.push("url"),e.postAnythingHasGameTag&&t.push("gam"),e.postAnythingHasFriendTag&&t.push("frn"),0!==t.length?t.join("|"):"no post contents"},xs=function(e){var t="no impression";return e>6e4?t="60s+":e>=3e4?t="30-59s":e>=1e4?t="10-29s":e>=5e3?t="5-9.9s":e>=2e3?t="2-4.9s":e>=500&&(t="0.5-1.9s"),t},Ks=[1,5,6,33,39,58,60,68],zs=qs=["store promo story tile","publisher promo story tile","screenshot upload verified story tile","video upload verified story tile"],Js=function(e,t){var n=e&&e.toLowerCase();return n&&fs(qs,n)&&t||"no tile id"},Xs=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r=function(e,t,r){var i=void 0===r?n(e,t):n(e,t).substr(0,r);return{cleanString:i,size:ki(i)}},i=e=0===t.tilePosition?"zero":t.tilePosition>=53?"53+":t.tilePosition>=33?"33-52":t.tilePosition>=23?"23-32":t.tilePosition>=18?"18-22":t.tilePosition>=13?"13-17":t.tilePosition;var o=r(t.tileType,Xc.INVALID_COMMA_REGEX),a=[o,r(t.productTitle||"no product",Xc.INVALID_COMMA_REGEX),r(t.ctaType||"no cta",Xc.INVALID_COMMA_REGEX),r(e,Xc.INVALID_COMMA_REGEX),r(xs(t.impressionTime),Xc.INVALID_COMMA_REGEX),r(Js(o.cleanString,t.tileId||t.tileTrackingId),Xc.INVALID_COMMA_REGEX),r(t.campaignId||"no campaign",Xc.INVALID_COMMA_REGEX,100),r(t.tileAuthor||"no author",Xc.INVALID_COMMA_REGEX),r(t.tileTitle||"no title",Xc.INVALID_COMMA_REGEX,50),r(t.tileCaption||"no caption",Xc.INVALID_COMMA_REGEX,20),r(Ys(t),Xc.INVALID_COMMA_REGEX)],c=function(e){return e.map((function(e){return e.size})).reduce((,0)+(e.length-1)},s=1,u=6,p=9,l=8,f=30,y=255;return[p,l,u,s].forEach((function(e){c(a)>y&&a[e].size>f&&(a[e]=r(Fi(a[e].cleanString,f)))})),i(a)},Zs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[zc.cleanUpString(e.name,Xc.INVALID_COMMA_REGEX),zc.cleanUpString(e.sku||"no product sku",Xc.INVALID_COMMA_REGEX)].join(":")},Qs=new yo,$s={populateProps:function(e){Object.keys(e).forEach((function(t){if("eVar"===t.substr(0,4)){var n=parseInt(t.substr(4),10);n<76&&!fs(Ks,n)&&!e["prop".concat(n)]&&(e["prop".concat(n)]="D=v".concat(n))}}))},getLinkType:getBannerInfo:zs,getBannersInfo:function(e){return e.banners&&e.banners.length?e.banners.map((function(e){return zs(e)})).join(","):null},getTileInfo:Xs,getTilesInfo:function(e){return e.tiles&&e.tiles.length?e.tiles.map((function(e){return Xs(e)})).join(","):null},getLocaleInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qs;t.trigger(new to({date:"2019-03-12",name:"adobeUtils.getLocaleInfo",description:"If anyone is using this, let GHOST know.",overrideKey:"allowAdobeUtilsGetLocaleInfo"}));var n=e||{};if(n.locale&&(!n.psnAccountLanguage||!n.psnAccountRegion)){var r=e.locale.split("_");(n=dn(e)).psnAccountLanguage=r[0],n.psnAccountRegion=r[1]}return Ws({environment:n})},getRecommendationInfo:Zs,getRecommendationsInfo:function(e){return e.recommendations&&e.recommendations.length?e.recommendations.map((function(e){return Zs(e)})).join(","):null}},eu="5.5.0",tu=nu=ru=iu=ou=A?A.prototype:void 0,au=ou?ou.valueOf:void 0,cu=su=Object.prototype.hasOwnProperty,uu=pu="[object Arguments]",lu="[object Array]",fu="[object Object]",yu=Object.prototype.hasOwnProperty,du=_u=vu=hu=Eu=gu=mu=function Iu(e){return(Iu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Tu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Su=/^\w*$/,Au=u.Cache=he;var bu=Ou,Ru=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nu=/\\(\\)?/g,Cu=(),Pu=A?A.prototype:void 0,wu=Pu?Pu.toString:void 0,Vu=Mu=Lu=Du=Uu=ku=Fu=ju=Gu=Bu=Hu=Wu=Yu=function xu(e){return(xu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ku=zu=go),qu=function Ju(e){return(Ju="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xu,Zu,Qu,$u,ep,tp,np,rp,ip=op=ap=[nc.RECOMMENDATION,nc.VIEW_PRODUCT],cp=[nc.VOUCHER_CASH,nc.FUNDING_3DS,nc.FUNDING],sp=function(e){return!So(cp,e)},up=pp=lp=function(e){var t=e.event,n=e.data;if(void 0!==n.isValidTransaction)return n.isValidTransaction;n.isValidTransaction=!1;var r=t.transaction;return!!r&&!!Ec(r.type)&&!(r.paymentMethod&&!yc(r.paymentMethod))&&!!function(e,t,n){var r=n.logger;if(!e||!e.length)return!0;if(t===nc.MISC)return!0;for(var i,o,a=e.length,c=1;c<=a;c+=1){if(i=e[c-1],up(t)){if(o=i.quantity,isNaN(o)||!(o>=1))return r.warning("Invalid quantity for product ".concat(c)),!1;if(!pp(i.totalPrice))return r.warning("Invalid totalPrice for product ".concat(c)),!1;if(!pp(i.totalRevenue))return r.warning("Invalid totalRevenue for product ".concat(c)),!1}if(sp(t)){if(!jo(i.name)||!i.name)return r.warning("Invalid name string for product ".concat(c)),!1;if(!jo(i.sku)||!i.sku)return r.warning("Invalid sku string for product ".concat(c)),!1}}return!0}(r.products,r.type,e)&&(n.isValidTransaction=!0,!0)},fp=function(e){var t=e.event,n=t)||t);if(n)return function(e){var t=e.event,n=e.data;"PageView"!==t.type&&"Impression"!==t.type||n.pushEvent(111)}(e),Gs(n)};function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dp,_p=function(e,t,n){switch(e){case nc.VOUCHER_CASH:return"funding:voucher:".concat(n.totalPrice.toFixed(2));case nc.FUNDING:case nc.FUNDING_3DS:var r=function(e,t){switch(e){case nc.VOUCHER_PRODUCT:case nc.VOUCHER_CASH:return"voucher";case nc.FUNDING:case nc.FUNDING_3DS:case nc.PURCHASE:case nc.PURCHASE_3DS:case nc.BUY_NOW:case nc.BUY_NOW_3DS:case nc.PREORDER_PAY_NOW:case nc.PREORDER_PAY_NOW_3DS:return t;default:return""}}(e,t);return"funding:".concat(r,":").concat(n.totalPrice.toFixed(2));default:return"".concat(gs(n.name),":").concat(gs(n.sku))}},vp=(yp(Xu={},nc.PURCHASE,!0),yp(Xu,nc.PURCHASE_3DS,!0),yp(Xu,nc.BUY_NOW,!0),yp(Xu,nc.BUY_NOW_3DS,!0),yp(Xu,nc.PREORDER_PAY_NOW,!0),yp(Xu,nc.PREORDER_PAY_NOW_3DS,!0),yp(Xu,nc.VOUCHER_CASH,!0),yp(Xu,nc.VOUCHER_PRODUCT,!0),yp(Xu,nc.FUNDING,!0),yp(Xu,nc.FUNDING_3DS,!0),yp(Xu,nc.VOUCHER_PRODUCT_PERCENT_OFF,!0),yp(Xu,nc.VOUCHER_ORDER_PERCENT_OFF,!0),yp(Xu,nc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,!0),yp(Xu,nc.PROCESSING_PAYMENT,!0),yp(Xu,nc.PURCHASE_DETAILS,!0),Xu),hp=Ep=function(e,t){return vp[e]?t.totalRevenue.toFixed(2):""},gp=(yp(Zu={},nc.ADD_TO_CART,[26]),yp(Zu,nc.REMOVE_FROM_CART,[28]),yp(Zu,nc.PROCESSING_PAYMENT,[325]),yp(Zu,nc.PURCHASE_DETAILS,[323]),yp(Zu,nc.CONFIRM_PURCHASE_FPI,[314]),Zu),mp=(yp(Qu={},nc.VOUCHER_CASH,[9,11]),yp(Qu,nc.VOUCHER_PRODUCT,[9]),yp(Qu,nc.FUNDING_3DS,[11]),yp(Qu,nc.FUNDING,[11]),Qu),Ip=(yp($u={},nc.REMOVE_FROM_CART,[29]),yp($u,nc.ADD_TO_CART,[27]),yp($u,nc.PROCESSING_PAYMENT,[326]),yp($u,nc.PURCHASE_DETAILS,[324]),yp($u,nc.CONFIRM_PURCHASE_FPI,[315]),$u),Tp=(yp(ep={},nc.PURCHASE,[36]),yp(ep,nc.VOUCHER_PRODUCT_PERCENT_OFF,[36]),yp(ep,nc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,[36]),ep),Sp=(yp(tp={},nc.PURCHASE,[37]),yp(tp,nc.VOUCHER_ORDER_PERCENT_OFF,[37]),tp),Ap=(yp(np={},nc.PURCHASE,[93]),yp(np,nc.VOUCHER_PRODUCT_PERCENT_OFF,[93]),yp(np,nc.VOUCHER_ORDER_PERCENT_OFF,[93]),yp(np,nc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,[93]),np),Op=(yp(rp={},nc.PURCHASE,[94]),yp(rp,nc.VOUCHER_PRODUCT_PERCENT_OFF,[94]),yp(rp,nc.VOUCHER_ORDER_PERCENT_OFF,[94]),yp(rp,nc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,[94]),rp),bp=yp({},nc.APPLY_VOUCHER,[271]),Rp=function(e,t){return Ds(function(e,t){return(gp[e]||[]).map(()}(e,t).concat(function(e,t){return(mp[e]||[]).map((function(e){return"event".concat(e,"=").concat(Fs(t.totalPrice))}))}(e,t)).concat(function(e,t){return(Ip[e]||[]).map(()}(e,t)).concat(function(e,t){var n=Tp[e]||[];return"number"===typeof t.totalDiscount?n.map((function(e){return"event".concat(e,"=").concat(Fs(t.totalDiscount||0))})):[]}(e,t)).concat(function(e,t){var n=Sp[e]||[];return"number"===typeof t.totalOrderLevelDiscount?n.map((function(e){return"event".concat(e,"=").concat(Fs(t.totalOrderLevelDiscount||0))})):[]}(e,t)).concat(function(e,t){var n=Ap[e]||[];return"number"===typeof t.walletRevenue?n.map((function(e){return"event".concat(e,"=").concat(Fs(t.walletRevenue||0))})):[]}(e,t)).concat(function(e,t){var n=Op[e]||[];return"number"===typeof t.promotionalMarketingRevenue?n.map((function(e){return"event".concat(e,"=").concat(Fs(t.promotionalMarketingRevenue||0))})):[]}(e,t)).concat(function(e,t){var n=bp[e]||[];return"number"===typeof t.voucherValue?n.map(():[]}(e,t)))},Np=function(e,t){var n=t.payload,r={merchCategory:8,recAnchor:29,findingMethod:31,pstpCampaign:32,recCampaign:33};return Ds(Object.keys(r).filter(().map((function(t){var i=r[t];return n["prop".concat(i)]="D=v".concat(i),"evar".concat(i,"=").concat(Vs(e[t].split(":").map(ks)))})))},Cp=function(e){var t=e.event;if(lp(e)&&t.transaction.products&&t.transaction.products.length&&t.transaction.type!==nc.MISC&&("Impression"!==t.type||t.transaction.type===nc.RECOMMENDATION)){var n=t.transaction;return Ms(n.products.map((function(t){return function(e,t,n){return Us(["",_p(e.type,e.paymentMethod,t),hp(e.type,t),Ep(e.type,t),Rp(e.type,t),Np(t,n)])}(n,t,e)})))}},Pp=/^[a-zA-Z]+:/,wp=Vp="undefined"!==typeof window?window:void 0,Mp="undefined"!==typeof window?window:void 0,Lp=function(e){var t=e.event,n=e.data;(t&&t.sessionId||"").startsWith("optout")&&n.pushEvent(998)},Dp=function(e){var t=e.data,n=e.event;t.pushEvent(66),n.isPlaytimeUnlimited||(n.playtimeDurationChange>0?function(e){var t=e.event;e.data.pushEvent({id:287,value:t.playtimeDurationChange})}(e):n.playtimeDurationChange<0&&function(e){var t=e.event;e.data.pushEvent({id:288,value:Math.abs(t.playtimeDurationChange)})}(e)),function(e){var t=e.event,n=e.data;t.banner&&!n.hasEvent(211)&&n.pushEvent(6)}(e),function(e){var t=e.event,n=e.data;De(t.searchFilter)&&t.searchFilter.length&&n.pushEvent(15)}(e),function(e){var t=e.event,n=e.data;De(t.sortOrder)&&t.sortOrder.length&&n.pushEvent(16)}(e),function(e){var t=e.event,n=e.data;t.hasPurchaseIntent&&n.pushEvent(32)}(e),function(e){var t=e.event,n=e.data;(t.tile||t.tiles)&&n.pushEvent(112)}(e),function(e){var t=e.event,n=e.data;t.apiStatus===ka.SUCCESS&&n.pushEvent(193)}(e),function(e){var t=e.event,n=e.data;t.apiStatus===ka.FAILURE&&n.pushEvent(194)}(e)};function Up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kp,Fp=(Up(dp={},Ga.ACCEPT_FAMILY_INVITE,[254]),Up(dp,Ga.ACCEPT_REAL_NAME_REQUEST,[127]),Up(dp,Ga.ACCEPT_FRIEND_REQUEST,[126]),Up(dp,Ga.ADD_PAYMENT_METHOD,[232]),Up(dp,Ga.ADD_TO_CART_UPSELL,[182]),Up(dp,Ga.ADD_TO_LIBRARY,[14,30]),Up(dp,Ga.ADD_TO_WISHLIST,[87]),Up(dp,Ga.APPROVE_SUBACCOUNT,[218]),Up(dp,Ga.BLOCK_USER,[133]),Up(dp,Ga.CANCEL_FRIEND_REQUEST,[124]),Up(dp,Ga.CANCEL_REAL_NAME_REQUEST,[125]),Up(dp,Ga.CHANGE_EVENT_STATUS_NOT_GOING,[47]),Up(dp,Ga.CLAIM_KID_ACCOUNT,[217]),Up(dp,Ga.CLAIM_YOUTH_ACCOUNT,[216]),Up(dp,Ga.CLICK_BANNER,[6]),Up(dp,Ga.CLICK_QUICK_VIEW_HOVER_BANNER,[211]),Up(dp,Ga.CLICK_QUICK_VIEW_OPEN,[43,114]),Up(dp,Ga.CLICK_RECOMMENDATION,[97]),Up(dp,Ga.CLICK_TILE,[112]),Up(dp,Ga.CREATE_EVENT,[262]),Up(dp,Ga.CREATE_KID_ACCOUNT,[214]),Up(dp,Ga.CREATE_MASTER_ACCOUNT,[212]),Up(dp,Ga.CREATE_OFFLINE_ACCOUNT,[215]),Up(dp,Ga.CREATE_YOUTH_ACCOUNT,[213]),Up(dp,Ga.CREATE_TEAM,[248]),Up(dp,Ga.CREATE_WISHLIST,[87,89]),Up(dp,Ga.CHANGE_TEAM_DESCRIPTION,[249]),Up(dp,Ga.CHANGE_TEAM_LOGO,[250]),Up(dp,Ga.CHANGE_TEAM_NAME,[252]),Up(dp,Ga.DECLINE_FAMILY_INVITE,[255]),Up(dp,Ga.DECLINE_TEAM_INVITE,[243]),Up(dp,Ga.DELETE_FRIEND_REQUEST,[128]),Up(dp,Ga.DELETE_REAL_NAME_REQUEST,[129]),Up(dp,Ga.DISBAND_TEAM,[247]),Up(dp,Ga.DEMOTE_FROM_GUARDIAN,[275]),Up(dp,Ga.DOWNLOAD,[14]),Up(dp,Ga.FAVORITED,[69]),Up(dp,Ga.FILTER_BY_MOST_RECENT,[15]),Up(dp,Ga.FILTER_BY_MOST_POPULAR,[15]),Up(dp,Ga.FILTER_CATEGORY,[15]),Up(dp,Ga.FILTER_COMMUNITIES,[15]),Up(dp,Ga.FOLLOW,[47]),Up(dp,Ga.INITIATE_COMMENT,[186]),Up(dp,Ga.INITIATE_FRIEND_REQUEST,[189]),Up(dp,Ga.INITIATE_GRIEF_REPORT,[190]),Up(dp,Ga.INITIATE_MESSAGE,[188]),Up(dp,Ga.INITIATE_RESHARE,[192]),Up(dp,Ga.INITIATE_SHARE,[187]),Up(dp,Ga.JOIN_COMMUNITY,[150]),Up(dp,Ga.JOIN_EVENT,[149]),Up(dp,Ga.JOIN_PARTY,[148]),Up(dp,Ga.JOIN_TEAM,[242]),Up(dp,Ga.JOIN_SESSION,[135,136]),Up(dp,Ga.KICK_OUT_TEAM_MEMBER,[246]),Up(dp,Ga.LEAVE_TEAM,[244]),Up(dp,Ga.LEAVE_FAMILY,[256]),Up(dp,Ga.LIKE,[46]),Up(dp,Ga.OPEN_INTRO,[191]),Up(dp,Ga.PSPLUS_UPSELL,[182]),Up(dp,Ga.POST_COMMUNITY_WALL,[260]),Up(dp,Ga.PREORDER_INTRO,[219]),Up(dp,Ga.PROMOTE_TO_GUARDIAN,[258]),Up(dp,Ga.RATE,[34]),Up(dp,Ga.REPLY_COMMUNITY_POST,[261]),Up(dp,Ga.REQUEST_TO_WATCH,[137]),Up(dp,Ga.REMOVE_BACKGROUND_IMAGE,[208]),Up(dp,Ga.REMOVE_FROM_FRIEND,[272]),Up(dp,Ga.REMOVE_FROM_WISHLIST,[88]),Up(dp,Ga.REMOVE_PAYMENT_METHOD,[233]),Up(dp,Ga.REMOVE_TEAM_LOGO,[251]),Up(dp,Ga.REMOVE_USER_FROM_FAMILY,[257]),Up(dp,Ga.REVOKE_FAMILY_INVITE,[269]),Up(dp,Ga.SEARCH,[17]),Up(dp,Ga.SEARCH_FRIENDS,[17]),Up(dp,Ga.SEARCH_COMMUNITIES,[17]),Up(dp,Ga.SELECT_BANNER,[211]),Up(dp,Ga.SEND_MESSAGE,[142]),Up(dp,Ga.SEND_FAMILY_INVITE,[253]),Up(dp,Ga.SEND_FRIEND_REQUEST,[122]),Up(dp,Ga.SEND_GRIEF_REPORT,[132]),Up(dp,Ga.SEND_REAL_NAME_REQUEST,[123]),Up(dp,Ga.SORT_CATEGORY,[16]),Up(dp,Ga.START_APP,[135]),Up(dp,Ga.START_GAME,[135]),Up(dp,Ga.START_PARTY,[152]),Up(dp,Ga.SUBMIT_COMMENT,[145]),Up(dp,Ga.SUBMIT_POST_ANYTHING,[204]),Up(dp,Ga.SUBMIT_RESHARE,[49]),Up(dp,Ga.SUBSCRIBE_EXTEND_INTRO,[220]),Up(dp,Ga.SUBSCRIBE_AUTOFUND,[221]),Up(dp,Ga.UNBLOCK_USER,[134]),Up(dp,Ga.UNFAVORITED,[76]),Up(dp,Ga.UNLIKE,[77]),Up(dp,Ga.UNFOLLOW,[151]),Up(dp,Ga.VERSION_UPSELL,[182]),Up(dp,Ga.VIEW_BROADCAST,[138]),Up(dp,Ga.VIEW_COMMUNITY,[139]),Up(dp,Ga.VIEW_ACTIVITY,[191]),Up(dp,Ga.VIEW_AS_FAMILY_MANAGER,[265]),Up(dp,Ga.VIEW_AS_GUARDIAN,[266]),Up(dp,Ga.VIEW_SEARCH_RESULT,[18]),Up(dp,Ga.DOWNLOAD_PS_NOW_GAME,[293]),Up(dp,Ga.OSK_SEARCH_TEXT_ENTRY,[309]),Up(dp,Ga.OSK_SEARCH_ZERO_STATE,[17,310]),Up(dp,Ga.OSK_SEARCH_NO_RESULTS,[17,19]),Up(dp,Ga.OSK_SEARCH_RESULTS_RETURN,[311]),Up(dp,Ga.LOGIN,[3]),Up(dp,Ga.MULTIVIEW_PROGRAM_ADDED,[331]),Up(dp,Ga.MULTIVIEW_PROGRAM_REMOVED,[332]),Up(dp,Ga.MULTIVIEW_SWITCH_ONFOCUS,[333]),Up(dp,Ga.MULTIVIEW_SWITCH_OFFFOCUS,[334]),Up(dp,Ga.MULTIVIEW_WATCH,[335]),dp),jp=function(e){var t=e.event,n=e.config,r=e.data;if(t.clickType)if(n.overrideEvents&&n.overrideEvents[t.clickType])r.pushEvents(n.overrideEvents[t.clickType]);else switch(r.pushEvents(Fp[t.clickType]||[]),t.clickType){case Ga.RATE:!function(e){var t=e.event,n=e.data,r=t.ratingNumber;r&&n.pushEvent({id:33,value:parseInt(r,10)})}(e);break;case Ga.COMPLETE_AGE_VERIFICATION_DOCUMENT:!function(e){var t=e.event,n=e.data;!0===t.hasUserMetAgeRequirement&&n.pushEvent(39)}(e);break;case Ga.SEND_MESSAGE:!function(e){var t=e.event,n=e.data;!0===t.hasSticker&&n.pushEvent(143)}(e),function(e){var t=e.event,n=e.data;!0===t.hasAttachment&&n.pushEvent(144)}(e);break;case Ga.SUBMIT_POST_ANYTHING:!function(e){var t=e.event,n=e.data;!0===t.hasImage&&n.pushEvent(205)}(e),function(e){var t=e.event,n=e.data;!0===t.hasGameTagged&&n.pushEvent(206)}(e),function(e){var t=e.event,n=e.data;t.hasPlayersTagged>0&&n.pushEvent({id:207,value:parseInt(t.hasPlayersTagged,10)})}(e),function(e){var t=e.event,n=e.data,r=parseInt(t.urlsPosted,10);r>0?n.pushEvent({id:295,value:r}):0===r&&n.pushEvent({id:295,value:0})}(e);break;case Ga.SEND_TEAM_INVITE:!function(e){var t=e.event,n=e.data;t.hasPlayersInvited>0&&n.pushEvent({id:245,value:parseInt(t.hasPlayersInvited,10)})}(e);break;case Ga.CHANGE_BACKGROUND_IMAGE:case Ga.SET_BACKGROUND_IMAGE:!function(e){var t=e.event,n=e.data;!0===t.hasImageChanged&&n.pushEvent(209)}(e),function(e){var t=e.event,n=e.data;!0===t.hasColorChanged&&n.pushEvent(210)}(e);break;case Ga.MANAGE_DATA_GATHERING_SETTINGS:!function(e){var t=e.event,n=e.data;void 0!==t.allowAdditionalData&&n.pushEvent(t.allowAdditionalData?276:277)}(e);break;case Ga.MANAGE_PERSONALIZATION_SETTINGS:!function(e){var t=e.event,n=e.data;void 0!==t.allowPersonalizedRecs&&n.pushEvent(t.allowPersonalizedRecs?278:279)}(e),function(e){var t=e.event,n=e.data;void 0!==t.allowPersonalizedAds&&n.pushEvent(t.allowPersonalizedAds?280:281)}(e);break;case Ga.MULTIVIEW_WATCH:!function(e){var t=e.event,n=e.data,r=parseInt(t.multiViewTimeSpent,10);r>0?n.pushEvent({id:336,value:r}):0===r&&n.pushEvent({id:336,value:0})}(e)}};function Gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bp,Hp=(Gp(kp={},Wa.START,[98,103]),Gp(kp,Wa.COMPLETE,[99,103]),Gp(kp,Wa.NEXT,[103]),Gp(kp,Wa.BACK,[103]),Gp(kp,Wa.CANCEL,[103]),Gp(kp,Wa.SKIP,[104]),Gp(kp,Wa.START_NESTED,[101,103]),Gp(kp,Wa.COMPLETE_NESTED,[102,103]),kp),Wp=function(e){var t=e.event;e.data.pushEvents(Hp[t.formAction]||[])},Yp=function(e){!function(e){var t=e.environment,n=e.data;t.psnowMembershipType===qa.TRIAL&&n.pushEvent(234)}(e),function(e){var t=e.environment,n=e.data;t.psnowMembershipType===qa.SUBSCRIPTION&&n.pushEvent(235)}(e),function(e){var t=e.environment,n=e.data;t.psnowMembershipType===qa.NOT_SUBSCRIBED&&n.pushEvent(236)}(e)},xp="lastAdobeReportedSessionId",Kp=function(e){var t=e.event,n=e.data,r=e.cache.get(xp)||"",i=t&&t.sessionId||"";i.startsWith("optout")&&i!==r&&n.hasEvents()&&n.pushEvent(999)};function zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qp,Jp,Xp=[nc.FUNDING,nc.FUNDING_3DS],Zp=[Ka.CC_VISA_3DS,Ka.CC_MASTERCARD_3DS],Qp=(zp(Bp={},nc.VIEW_PRODUCT,["prodView",31]),zp(Bp,nc.ADD_TO_CART,["scOpen","scAdd",26,27]),zp(Bp,nc.REMOVE_FROM_CART,["scRemove",28,29]),zp(Bp,nc.VIEW_CART,["scView"]),zp(Bp,nc.CONFIRM_PURCHASE,["scCheckout"]),zp(Bp,nc.PURCHASE,["purchase"]),zp(Bp,nc.PURCHASE_3DS,["purchase",231]),zp(Bp,nc.BUY_NOW,["purchase",2]),zp(Bp,nc.BUY_NOW_3DS,["purchase",2,231]),zp(Bp,nc.PREORDER_PAY_NOW,["purchase",2,51]),zp(Bp,nc.PREORDER_PAY_NOW_3DS,["purchase",2,51,231]),zp(Bp,nc.VOUCHER_CASH,[8,9,10,11]),zp(Bp,nc.VOUCHER_PRODUCT,[8,9]),zp(Bp,nc.FUNDING_3DS,[10,11,231]),zp(Bp,nc.BEGIN_3DS,[230]),zp(Bp,nc.COMPLETE_3DS,[231]),zp(Bp,nc.FUNDING,[10,11]),zp(Bp,nc.APPLY_VOUCHER,[270,271]),zp(Bp,nc.VOUCHER_PRODUCT_PERCENT_OFF,["purchase"]),zp(Bp,nc.VOUCHER_ORDER_PERCENT_OFF,["purchase"]),zp(Bp,nc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,["purchase"]),zp(Bp,nc.PURCHASE_DETAILS,[323,324]),zp(Bp,nc.PROCESSING_PAYMENT,[325,326]),zp(Bp,nc.CONFIRM_PURCHASE_FPI,["scCheckout",314,315]),Bp),$p=function(e){return void 0!==e.totalOrderLevelDiscount},el=function(e){return void 0!==e.walletRevenue},tl=nl=function(e){lp(e)&&(function(e){var t=e.event,n=e.data;Qp[t.transaction.type]&&n.pushEvents(Qp[t.transaction.type])}(e),function(e){var t=e.event,n=e.data;if(t.transaction.type===nc.PURCHASE){for(var r=!1,i=!1,o=!1,a=!1,c=t.transaction.products.length,s=0;s<c;s+=1)r||void 0===t.transaction.products[s].totalDiscount||(r=!0),!i&&$p(t.transaction.products[s])&&(i=!0),!o&&el(t.transaction.products[s])&&(o=!0),!a&&tl(t.transaction.products[s])&&(a=!0);r&&n.pushEvent(36),i&&n.pushEvent(37),o&&n.pushEvent(93),a&&n.pushEvent(94)}}(e),function(e){var t=e.event,n=e.data;So(Xp,t.transaction.type)&&So(Zp,t.transaction.paymentMethod)&&n.pushEvent(231)}(e))};function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var il,ol,al,cl,sl,ul,pl,ll,fl=(rl(qp={},rc.AUTO_START,[83,86]),rl(qp,rc.ON_FOCUS_AUTO_START,[83,86,201]),rl(qp,rc.ON_FOCUS_START,[83,201]),rl(qp,rc.PAUSE,[81]),rl(qp,rc.RESUME,[82]),rl(qp,rc.START,[83]),qp),yl=(rl(Jp={},rc.AUTO_START,[20,86]),rl(Jp,rc.COMPLETE,[24]),rl(Jp,rc.ON_FOCUS_AUTO_START,[20,86,201]),rl(Jp,rc.ON_FOCUS_START,[20,201]),rl(Jp,rc.PAUSE,[81]),rl(Jp,rc.RESUME,[82]),rl(Jp,rc.START,[20]),Jp),dl=function(e){var t=e.event,n=e.data;if(r=t.videoAction,!So([rc.AUTO_START,rc.START,rc.ON_FOCUS_START,rc.ON_FOCUS_AUTO_START],r)){var r,i=t.currentViewedTime;wa(i)||n.pushEvent({id:65,value:i})}},_l=function(e){var t=e.event,n=e.data;fl[t.videoAction]?n.pushEvents(fl[t.videoAction]):(function(e){var t=e.event,n=e.data;t.streamType===tc.LIVE&&t.videoAction===rc.PROGRESS&&(!t.elapsedTime||t.elapsedTime>=600||t.elapsedTime%60===0&&n.pushEvent(84))}(e),function(e){var t=e.event,n=e.data;t.streamType===tc.LIVE&&t.videoAction===rc.PROGRESS&&(!t.elapsedTime||t.elapsedTime<600||t.elapsedTime%600===0&&n.pushEvent(85))}(e))},vl=function(e){var t=e.event,n=e.data;yl[t.videoAction]?n.pushEvents(yl[t.videoAction]):function(e){var t=e.event,n=e.data;if(t.streamType!==tc.LIVE&&t.videoAction===rc.PROGRESS&&t.elapsedTime&&t.videoDuration){var r,i,o=t.elapsedTime,a=t.videoDuration;a>240?i=(r=o-o%60)-60:(r=o+1,i=o-1);var c=.25*a,s=.5*a,u=.75*a;i<c&&r>=c&&o>=c&&o<s?n.pushEvent(21):i<s&&r>=s&&o>=s&&o<u?n.pushEvent(22):i<u&&r>=u&&o>=u&&n.pushEvent(23)}}(e)},hl=function(e){var t=e.event,n=e.data;gc(t.videoAction)&&(t.streamType===tc.LIVE?_l(e):vl(e),n.hasEvents()&&(n.pushEvent(66),dl(e)))},El=gl=function(e){var t=e.data;if(t.events){var n={};return t.events.map((function(e){return function(e,t){var n,r;if(El(e)||_n(e))n=e;else{if(!D(e))return;n=e.id,r=e.value}if(!t[n=El(n)?"event".concat(n):n])return t[n]=!0,void 0!==r?"".concat(n,"=").concat(r):n}(e,n)})).filter((function(e){return e})).join(",")}}; Sl=(Tl(il={},ja.PAID_AD_VIEWED,[200]),Tl(il,ja.DEFAULT,[181]),Tl(il,ja.PAID_AD_LOADED,[5]),Tl(il,ja.VIDEO_AD_PLAYED,[195]),Tl(il,ja.REFRESH_IMAGE_VIEWED,[181,228]),Tl(il,ja.REFRESH_VIDEO_VIEWED,[195,228]),il),Al=[nc.PURCHASE,nc.PURCHASE_3DS,nc.BUY_NOW,nc.BUY_NOW_3DS,nc.PREORDER_PAY_NOW,nc.PREORDER_PAY_NOW_3DS,nc.VOUCHER_ORDER_PERCENT_OFF,nc.VOUCHER_PRODUCT_PERCENT_OFF,nc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,nc.PROCESSING_PAYMENT],Ol=function(e){var t=e.event;if(t.transaction)return t.transaction.currencyCode)},bl=function(e){var t=e.event,n=t.transaction?t.transaction.type:void 0;if(So(Al,n))return gs(t.transaction.transactionID)},Rl=function(e){var t=e.event,n=t.transaction?t.transaction.type:void 0;if(So(Al,n))return"pur:".concat(gs(t.transaction.transactionID))},Nl=(Tl(ol={},Ha.ANDROID,"mobile app"),Tl(ol,Ha.APPLE_TV,"table top"),Tl(ol,Ha.CHROMECAST,"cast device"),Tl(ol,Ha.IOS,"mobile app"),Tl(ol,Ha.MWEB,"mweb"),Tl(ol,Ha.PS3,"console"),Tl(ol,Ha.PS4,"console"),Tl(ol,Ha.PS4K,"console"),Tl(ol,Ha.TV,"tv"),Tl(ol,Ha.FIRE_TV,"table top"),Tl(ol,Ha.ROKU,"table top"),Tl(ol,Ha.WEB,"web"),ol),Cl=function(e){var t=e.event,n=e.data,r=e.logger;if(t.banners||t.banner){var i=t.banners?$s.getBannersInfo(t):$s.getBannerInfo(t.banner);if(i){if(!t.bannerType||Sl[t.bannerType])return"PageView"!==t.type&&"Impression"!==t.type&&"VideoStream"!==t.type&&"AdClick"!==t.type&&"AdImpression"!==t.type&&"AdVideoStream"!==t.type||n.pushEvents(Sl[t.bannerType]||[5]),Gs(i);r.warn("unknown banner type")}}},Pl=function(e){var t=e.event,n=e.data;if(t.recommendations||t.recommendation){var r=t.recommendations?$s.getRecommendationsInfo(t):$s.getRecommendationInfo(t.recommendation);if(r)return"PageView"!==t.type&&"Impression"!==t.type||n.pushEvent(96),Gs(r)}},wl=function(e){return Ws(e)},Vl=function(e){var t=e.environment;return js(!0===t.signedIn?"signed_in":"guest")},Ml={plus:[Ja.FREE_TRIAL,Ja.SUBSCRIPTION],nonplus:[Ja.LAPSED,Ja.NEVER_SUBSCRIBED]},Ll=function(e){var t=e.environment,n=t.isPlusUser,r=So(n?Ml.plus:Ml.nonplus,t.plusUserType)?t.plusUserType:void 0;if(n||r)return js(Vs([n?"plus member":"non plus member",r].filter((function(e){return e}))))},Dl=function(e){var t=e.environment;return js(t&&t.userAge>0?t.userAge:void 0)},Ul=["signin","sgnout","dnrhid"],kl=function(e){var t=e.event;return js(t.merchCategory)},Fl=[Ga.COMPLETE_STEP1_GRIEF_REPORT,Ga.COMPLETE_STEP2_GRIEF_REPORT,Ga.SEND_GRIEF_REPORT],jl=function(e){var t=e.event;if(So(Fl,t.clickType))return js(Vs([t.griefReportItem,t.griefReportReason]))},Gl=function(e){var t=e.event;if(t.searchFilter)return js(Ds(t.searchFilter))},Bl=function(e){var t=e.event;return js(Ds(t.sortOrder))},Hl=(Tl(al={},nc.FUNDING,!0),Tl(al,nc.FUNDING_3DS,!0),Tl(al,nc.PURCHASE,!0),Tl(al,nc.PURCHASE_3DS,!0),Tl(al,nc.BUY_NOW,!0),Tl(al,nc.BUY_NOW_3DS,!0),Tl(al,nc.PREORDER_PAY_NOW,!0),Tl(al,nc.PREORDER_PAY_NOW_3DS,!0),Tl(al,nc.MISC,!0),Tl(al,nc.VOUCHER_CASH,"voucher"),Tl(al,nc.VOUCHER_PRODUCT,"voucher"),Tl(al,nc.VOUCHER_PRODUCT_PERCENT_OFF,!0),Tl(al,nc.VOUCHER_ORDER_PERCENT_OFF,!0),Tl(al,nc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,!0),al),Wl=function(e){var t=e.event,n=e.data;if(lp({event:t,data:n})){var r=t.transaction,i=Hl[r.type];if(!0===i){if(i=r.paymentMethod,!yc(i))return;r.type===nc.MISC&&!0===r.useWallet&&(i="wallet-".concat(i))}return js(i)}},Yl=(Tl(cl={},nc.FUNDING,!0),Tl(cl,nc.FUNDING_3DS,!0),Tl(cl,nc.PURCHASE,"purchase"),Tl(cl,nc.PURCHASE_3DS,"purchase"),Tl(cl,nc.BUY_NOW,"buy now"),Tl(cl,nc.BUY_NOW_3DS,"buy now"),Tl(cl,nc.PREORDER_PAY_NOW,"preorder pay now"),Tl(cl,nc.PREORDER_PAY_NOW_3DS,"preorder pay now"),Tl(cl,nc.VOUCHER_CASH,"voucher:cash"),Tl(cl,nc.VOUCHER_PRODUCT,"voucher:product"),Tl(cl,nc.VOUCHER_PRODUCT_PERCENT_OFF,"voucher:product percent off"),Tl(cl,nc.VOUCHER_ORDER_PERCENT_OFF,"voucher:order percent off"),Tl(cl,nc.VOUCHER_PRODUCT_FIXED_AMOUNT_OFF,"voucher:product fixed amount off"),cl),xl=function(e){var t=e.event,n=e.data;if(lp({event:t,data:n})){var r=Yl[t.transaction.type];return!0===r&&(r=t.transaction.type.replace(" ",":")),js(r)}},Kl=function(e){var t=e.event;return js(t.searchTerm||void 0)},zl=function(e){var t=e.event;if(t.searchResult&&t.searchPosition){var n=[t.searchResult,t.searchPosition];return t.searchCount&&n.push(t.searchCount),js(Vs(n))}},ql=function(e){var t=e.event;if(t.productName)return js(Vs([t.productName,t.productSku||"no sku"]))},Jl=(Tl(sl={},Xa.GAME_DIGITAL,"game:digital"),Tl(sl,Xa.GAME_DISC,"game:disc"),Tl(sl,Xa.GAME_PSNOW_PS3,"game:psnowps3"),Tl(sl,Xa.GAME_PSNOW_PS4,"game:psnowps4"),Tl(sl,Xa.APP,"app:app"),sl),Xl=function(e){var t=e.event,n=e.logger;if(t.productClassification1||t.productType){if(t.productClassification1||!t.productType||Jl[t.productType])return js(t.productClassification1||Jl[t.productType]);n.warning('Unsupported product type value "'.concat(t.productType,'"'))}},Zl=function(e){var t=e.event;return js(t.productClassification2||(Jl[t.productType]?"not configured":void 0))},Ql=function(e){var t=e.event;return js(t.productClassification3||(Jl[t.productType]?"not configured":void 0))},$l=function(e){var t=e.event;return js(t.productType)},ef=function(e){var t=e.event;if(t.genre&&t.maturity)return js(Vs([t.genre,t.maturity]))},tf=function(e){var t=e.event;if(t.releaseDate&&jo(t.releaseDate))return js(t.releaseDate)},nf=function(e){var t=e.event;if(t.displayPrice&&jo(t.displayPrice))return js(t.displayPrice,{cleaner:Rs})},rf=function(e){var t=e.event;return js(t.recAnchor)},of=function(e){var t=e.event;return js(t.publisher)},af=function(e){var t=e.event;return js(t.findingMethod)},cf=function(e){var t=e.event;return js(t.pstpCampaign)},sf=function(e){var t=e.event;return js(ms(t.recCampaign))},uf=(Tl(ul={},ic.OTHER,"other video type"),Tl(ul,ic.NONE,"no video type"),ul),pf=function(e){var t=e.event;if(Ic(t.videoType)){var n=uf[t.videoType]||t.videoType;return js(n.replace(/_/g," "))}},lf=(Tl(pl={},oc.TRAILER,"short form"),Tl(pl,oc.PREVIEW,"short form"),Tl(pl,oc.FULL,"long form"),Tl(pl,oc.LIVE,"live"),pl),ff=function(e){var t=e.event;return js(lf[t.videoFormat])},yf=function(e){var t=e.event;return js(t.networkName)},df=function(e){var t=e.event,n=e.logger,r=e.data;if(t.loadTime){if(!(t.loadTime<0)){var i;if(t.loadTime>=1e4)i="10000+";else{var o=Math.floor(t.loadTime/100);i="".concat(o.toString(),"00-").concat(o.toString(),"99")}return r.pushEvent({id:119,value:t.loadTime}),r.pushEvent(180),js(i)}n.warning("Load time cannot be negative or zero")}},_f=vf=function(e){var t=e.event;return t.searchCampaign?zl({event:t}):void 0},hf=function(e){var t=e.event;return js(t.recommendationSrc||void 0)},Ef=function(e){return e.isPlaytimeUnlimited?"playtime unlimited":e.playtimeDurationChange>0?"playtime increased":e.playtimeDurationChange<0?"playtime decreased":"playtime not changed"},gf=function(e){switch(e.event.type){case"Startup":return function(e){var t,n=e.event,r=e.environment,i=e.data;switch(n.startupType){case ec.APP:t="startup app ".concat(Vs([r.appName,n.startupContext]));break;case ec.PAGE:t="startup page ".concat(Vs(i.locationSegments));break;default:t=""}return js(t.replace(/_/g," "))}(e);case"VideoStream":return function(e){var t=e.event;return js("".concat(t.streamType," ").concat(t.videoAction).replace(/_/g," "))}(e);case"Click":return function(e){var t=e.event;if("change playtime limit"===t.clickType)return[t.clickType,t.playtimeAgeGroup,Ef(t)].join(":");var n=t.clickMetadata?t.clickMetadata.split(":"):[];return js(Vs([t.clickType].concat(n)))}(e);default:return}},mf=function(e){var t=e.event;return js(t.contentDetail)},If=(Tl(ll={},qa.TRIAL,"trial subscriber"),Tl(ll,qa.SUBSCRIPTION,"subscriber"),Tl(ll,qa.NOT_SUBSCRIBED,"non-subscriber"),ll),Tf=function(e){var t=e.environment,n=e.logger,r=e.event,i=If[t.psnowMembershipType];if(i||"undefined"===typeof t.psnowMembershipType){if(i)return js(Vs([i,r.subscriptionSku?"".concat(r.subscriptionSku):"empty",r.isHomeshare?"is homeshare":"not homeshare"].filter((function(e){return e}))))}else n.warning("unknown PS Now membership type",t.psnowMembershipType)},Sf=function(e){var t=e.event;return js(t.eaMemberAccess)},Af=function(e){var t=e.event;if(hc(t.streamType))return t.streamType===tc.NONE?"no stream type":js("".concat(t.streamType," video"))},Of=bf=function(e){var t=e.event;if(t.videoTitle)return js(Vs([t.videoTitle,t.videoEpisodeName||"no title",t.videoSeasonNum||"no season",t.videoEpisodeNum||"no episode",ff({event:t})||"no format"]))},Rf=function(e){var t,n=e.event;if(n.playerId)return t=n.playerSoundEnabled?"on":"off",js(Vs([n.playerId,Tc(n.windowMode)?n.windowMode:"empty",wa(n.playerPosition)?"empty":"".concat(n.playerPosition),wa(n.playerSoundEnabled)?"empty":t].filter(()))},Nf=function(e){var t=e.event;if(t.formAction&&lc(t.formAction))return js(ms(t.formLocation))},Cf=function(e){var t=e.event;if(t.videoUrl)return js(t.videoUrl,{allowUppercase:!0,cleaner:Ns})},Pf=function(e){return Boolean("UserFacingError"===e.type&&e.overrideAppName&&e.overrideBuildVersion)},wf=function(e){var t=e.event,n=e.environment;return Pf(t)?t.overrideAppName:n.appName},Vf=Mf=function(e){var t=e.event,n=e.sdkVersion,r=e.gctVersion,i=Pf(t)?[]:["gct_v".concat(r),n];return js(Vs([wf(e),Vf(e)].concat(i)))},Lf=function(e){var t=e.event;if(t.clickType===Ga.MANAGE_PERSONALIZATION_SETTINGS&&void 0!==t.allowPersonalizedRecs&&void 0!==t.allowPersonalizedAds)return js(Vs([t.allowPersonalizedRecs?Za.ALLOW:Za.DISALLOW,t.allowPersonalizedAds?za.ALLOW:za.DISALLOW]))},Df=function(e){var t=e.event,n=e.data;if((t.banners&&t.banners.length||t.banner)&&(!t.bannerType||Sl[t.bannerType]))return js(Vs(n.locationSegments))},Uf=function(e){var t=e.data,n=e.event,r=e.environment;return js(Vs([r.networkType||"no conn type",n.bootInfo||"no boot type",n.dataSizeGroup||"no data size",r.platformVersion||"no platform"].concat(t.locationSegments)))},kf=function(e){var t=e.event;return t.tile?$s.getTileInfo(t.tile):$s.getTilesInfo(t)||void 0},Ff=function(e,t){return function(n){return"string"===typeof n?n.split(e)[t]:void 0}},jf=function(e){var t=e.event;if(t.searchFilter)return js(Vs(t.searchFilter.map(Ff(":",1))))},Gf=function(e){var t=e.event;if(t.textPostUrlDomain)return js(t.textPostUrlDomain)},Bf=function(e){var t=e.event;if(t.sortOrder)return js(Vs(t.sortOrder.map(Ff(":",1))))},Hf={account:function(e){return e.config.reportSuite.join(",")},charset:function(e){return e.environment.charset},pageURL:function(e){var t=e.event;return wp(t.pageUrl||function(){var e=Vp&&Vp.location||"";return e.href?e.href:e}())},referrer:function(e){var t=e.event;return wp(t.httpReferrer||Mp&&Mp.document&&Mp.document.referrer)},trackingServer:function(e){return e.config.trackingServer||Xc.DEFAULT_TRACKING_SERVER},trackingServerSecure:function(e){return e.config.trackingServerSecure||Xc.DEFAULT_TRACKING_SERVER_SECURE},marketingCloudServer:function(e){return e.config.marketingCloudServer||Xc.DEFAULT_MARKETING_CLOUD_SERVER},marketingCloudServerSecure:ssl:timestamp:function(e){var t=e.event;return new Date(t.time-t.time%1e3).toISOString().replace(".000","")},visitorID:function(e){var t=e.environment,n=e.event;return!0===t.signedIn&&t.visitorId?gs(t.visitorId):n.sessionId},eVar7:function(e){var t=e.event,n=t&&t.sessionId||"",r="optout";return op(Ul,(function(e){return n.startsWith(e)}))&&(r="optin"),js(r)},eVar21:function(e){var t=e.event;if(t.experimentData&&Wo(t.experimentData)){var n=t.experimentData.map((function(e){return e.univexId})).filter(();return n.length>3&&(n.length=3,n[3]="..."),js(Vs(n))}},eVar47:eVar55:function(e){var t=e.environment;return js(t.constellationId)},eVar68:function(e){var t=e.event;return js(t.url,{allowUppercase:!0,cleaner:Ns})},eVar71:function(){if("object"===("undefined"===typeof navigator?"undefined":Il(navigator))&&navigator.userAgent)return js(navigator.userAgent,{allowUppercase:!0})},eVar72:function(e){var t=e.environment,n=e.data.locationSegments.slice(0,2);return"ps4"===n[0]&&t.deviceType===Ha.PS4K&&(n[0]="ps4k"),js(Vs(n))},eVar74:Mf,eVar75:function(e){var t=e.environment,n=e.event;if(!0===t.signedIn)return js(t.visitorId||n.sessionId)},eVar94:function(e){var t=e.event;return js(t.deeplink,{allowUppercase:!0,cleaner:Ns})},eVar100:function(e){var t=e.event;if(t.experimentData&&Wo(t.experimentData)&&t.experimentData.some(())return t.experimentData.filter((function(e){return e&&(!!e.experimentId||!!e.variantId)})).map(().join(",")},prop69:,Wf={};Wf.Click={currencyCode:Ol,products:Cp,purchaseID:bl,transactionID:Rl,eVar2:wl,eVar3:Vl,eVar4:Ll,eVar5:Dl,eVar8:kl,eVar9:jl,eVar12:Gl,eVar13:Bl,eVar14:Wl,eVar15:xl,eVar17:Kl,eVar18:zl,eVar20:ql,eVar22:Xl,eVar23:Zl,eVar24:Ql,eVar25:$l,eVar26:ef,eVar27:tf,eVar28:nf,eVar29:rf,eVar30:of,eVar31:af,eVar32:cf,eVar33:sf,eVar35:pf,eVar36:ff,eVar38:yf,eVar41:_f,eVar43:vf,eVar46:hf,eVar49:gf,eVar56:mf,eVar58:Tf,eVar60:Sf,eVar61:Af,eVar62:Of,eVar63:bf,eVar64:Rf,eVar66:Nf,eVar78:Lf,eVar93:Df,eVar99:kf,list1:Cl,list2:Pl,list3:fp,prop5:jf,prop6:Bf,prop8:Gf,clickTypeEvents:jp,clickEvents:Dp,formEvents:Wp,transactionEvents:nl,psnowEvents:Yp,sessionEvents:Kp,events:gl},Wf.PageView={campaign:function(e){return e.event.marketingCampaign)},channel:function(e){return e.data.locationSegments.slice(0,3).join(":")},currencyCode:Ol,pageName:products:Cp,purchaseID:bl,server:transactionID:Rl,eVar1:function(){return"D=pageName"},eVar2:wl,eVar3:Vl,eVar4:Ll,eVar5:Dl,eVar8:kl,eVar10:function(e){var t=e.event;return js(t.locationType)},eVar14:Wl,eVar15:xl,eVar17:Kl,eVar18:zl,eVar20:ql,eVar22:Xl,eVar23:Zl,eVar24:Ql,eVar25:$l,eVar26:ef,eVar27:tf,eVar28:nf,eVar29:rf,eVar30:of,eVar31:af,eVar32:cf,eVar33:sf,eVar39:df,eVar40:function(e){var t=e.data;return js(function(e){return String(e).split(":").map(gs).filter((function(e){return e})).join(":")||void 0}(t.referrerLocation))},eVar43:vf,eVar45:function(e){var t=e.data;return js(t.referrerLocation?"D=v40":void 0,{allowUppercase:!0})},eVar50:function(e){var t=e.data;return js(Vs(t.locationSegments.slice(0,4)))},eVar51:function(e){var t=e.data;return js(Vs(t.locationSegments.slice(0,5)))},eVar52:function(e){var t=e.data;return js(Vs(t.locationSegments.slice(0,6)))},eVar53:function(e){var t=e.data;return js(Vs(t.locationSegments.slice(0,7)))},eVar56:mf,eVar58:Tf,eVar60:Sf,eVar66:Nf,eVar67:function(e){var t=e.event;if(t.community)return js(Vs([t.community.id,t.community.name,t.community.permissions,t.community.titleId,t.community.productTitle,t.community.timeZone,t.community.language]))},eVar69:function(e){var t=e.event;if(t.emailCampaign)return js(t.emailRecipient)},eVar76:function(e){var t=e.event;if(t.emailCampaign&&t.emailRecipient)return js(t.emailCampaign)},eVar77:function(e){var t=e.event;return js(t.marketingCampaign)},eVar80:function(e){var t=e.event;return js(t.userGenes)},eVar93:Df,eVar95:Uf,eVar97:function(e){var t=e.event;if(t.viewIds&&t.viewIds.length&&"undefined"!==typeof t.experienceId)return js(Vs([Ls(t.viewIds),t.viewCollectionId||"empty",t.experienceId]),{delimiters:[":","-"]})},eVar101:function(e){var t=e.event,n=e.data;if(t.tournamentName){var r=return n.pushEvent({id:346,value:t.tournamentPlayersSignedUp}),js(Vs([r(t.tournamentName).substr(0,50),t.tournamentFormat||"no format",t.tournamentStageInfo||"no stage info",t.tournamentPrizeInfo||"no prize info",t.tournamentStartTime?t.tournamentStartTime.toISOString().substr(0,10):"no start time",t.tournamentVideoType||"no video",t.tournamentType||"no type",t.tournamentSponsors?r(Ds(t.tournamentSponsors)).substr(0,50):"no sponsors"]))}},eVar102:function(e){var t=e.event;return js(t.maturityRating)},hier1:function(){return"D=pageName"},list1:Cl,list2:Pl,list3:fp,prop45:pageViewEvents:function(e){e.data.pushEvent(1),function(e){var t=e.event,n=e.data;!0===t.isAgeGate&&n.pushEvent(38)}(e),function(e){var t=e.event,n=e.data;!0===t.eaAccessIsVaultPurchase&&n.pushEvent(78)}(e),function(e){var t=e.event,n=e.data;!0===t.eaAccessIsPFTPurchase&&n.pushEvent(79)}(e),function(e){var t=e.event,n=e.data;!0===t.hasCompletedTournamentSignUp&&n.pushEvent(299)}(e),function(e){var t=e.event,n=e.data;t.oskZeroStateResult&&""!==t.searchTerm&&n.pushEvent(312)}(e),function(e){var t=e.event,n=e.data;t.oskZeroStateResult&&""===t.searchTerm&&n.pushEvent(313)}(e),function(e){var t=e.event,n=e.data;t.totalStrands&&n.pushEvent({id:322,value:t.totalStrands})}(e)},formEvents:Wp,clickTypeEvents:jp,transactionEvents:nl,psnowEvents:Yp,sessionEvents:Kp,events:gl},Wf.Impression={products:Cp,eVar2:wl,eVar3:Vl,eVar4:Ll,eVar5:Dl,eVar30:of,eVar33:sf,eVar60:Sf,eVar93:Df,list1:Cl,list2:Pl,list3:fp,sessionEvents:Kp,events:gl},Wf.Startup={eVar49:gf,eVar95:Uf,startupEvents:function(e){e.data.pushEvents([66,264])},sessionEvents:Kp,events:gl},Wf.UserFacingError={eVar2:wl,eVar3:Vl,eVar4:Ll,eVar5:Dl,eVar16:function(e){var t=e.event;return js(Vs([t.error||"",t.severity||"",t.code||"",t.description||"no description"]))},eVar37:function(e){var t=e.event;return js((t.apiUrl||"no url").replace(/[:/]/g,"_"))},eVar48:function(e){var t=e.data;return js(Vs(t.locationSegments))},eVar74:Mf,userFacingErrorEvents:sessionEvents:Kp,events:gl},Wf.LoadTime={eVar39:df,eVar95:Uf,sessionEvents:Kp,events:gl},Wf.VideoStream={eVar8:kl,eVar20:ql,eVar22:Xl,eVar23:Zl,eVar24:Ql,eVar25:$l,eVar26:ef,eVar27:tf,eVar28:nf,eVar30:of,eVar35:pf,eVar36:ff,eVar38:yf,eVar49:gf,eVar56:mf,eVar60:Sf,eVar61:Af,eVar62:Of,eVar63:bf,eVar64:Rf,eVar70:Cf,list3:fp,list1:Cl,videoStreamEvents:hl,sessionEvents:Kp,events:gl},Wf.AdClick={currencyCode:Ol,products:Cp,purchaseID:bl,transactionID:Rl,eVar2:wl,eVar3:Vl,eVar4:Ll,eVar5:Dl,eVar8:kl,eVar9:jl,eVar12:Gl,eVar13:Bl,eVar14:Wl,eVar15:xl,eVar17:Kl,eVar18:zl,eVar20:ql,eVar22:Xl,eVar23:Zl,eVar24:Ql,eVar25:$l,eVar26:ef,eVar27:tf,eVar28:nf,eVar29:rf,eVar30:of,eVar31:af,eVar32:cf,eVar33:sf,eVar35:pf,eVar36:ff,eVar38:yf,eVar41:_f,eVar43:vf,eVar46:hf,eVar49:gf,eVar56:mf,eVar58:Tf,eVar60:Sf,eVar61:Af,eVar62:Of,eVar63:bf,eVar64:Rf,eVar66:Nf,eVar78:Lf,eVar93:Df,eVar99:kf,list1:Cl,list2:Pl,list3:fp,prop5:jf,prop6:Bf,prop8:Gf,adEvents:Lp,clickTypeEvents:jp,clickEvents:Dp,formEvents:Wp,transactionEvents:nl,psnowEvents:Yp,sessionEvents:Kp,events:gl},Wf.AdImpression={products:Cp,eVar2:wl,eVar3:Vl,eVar4:Ll,eVar5:Dl,eVar30:of,eVar33:sf,eVar60:Sf,eVar93:Df,list1:Cl,list2:Pl,list3:fp,adEvents:Lp,sessionEvents:Kp,events:gl},Wf.AdVideoStream={eVar8:kl,eVar20:ql,eVar22:Xl,eVar23:Zl,eVar24:Ql,eVar25:$l,eVar26:ef,eVar27:tf,eVar28:nf,eVar30:of,eVar35:pf,eVar36:ff,eVar38:yf,eVar49:gf,eVar56:mf,eVar60:Sf,eVar61:Af,eVar62:Of,eVar63:bf,eVar64:Rf,eVar70:Cf,list3:fp,list1:Cl,adEvents:Lp,videoStreamEvents:hl,sessionEvents:Kp,events:gl};var Yf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n,r){var i=e[r](t);return void 0!==i&&(n[r]=i),n};return Object.keys(e).reduce(n,{})};function xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kf,zf,qf=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t,n,r,i)||this)._requireValidConfig(n),o.abortOnWs1=!wa(n.abortOnWs1)&&n.abortOnWs1,o._urlPrivacyFilter=i.get("/privacy/uriCensor"),o._superCalled=!0,o._environment=t,o.__resolveDispatcher(n,n.dispatcher,i),o._cache=i.get("/cache/cacheInterface"),o._initMcidVisitor(),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,o,a,c=r.prototype;return c._isValidConfig=c._requireValidConfig=c._initMcidVisitor=function(){this._superCalled&&this.dispatcher.initMcidVisitor(this.shouldRestrictData,this.environment,this.config,this.logger)},c.buildPayload=function(e){var t={cache:this._cache,config:this.config,data:{pushEvents:pushEvent:hasEvent:hasEvents:,environment:this.environment,event:e,gctVersion:eu,logger:this.logger,payload:{},pluginName:this.pluginName,sdkVersion:this.dispatcher.version};t.data.events=[],t.data.locationSegments=(e.location||"").split(":").map((function(e){return zc.cleanUpString(e)})).filter((function(e){return e})),t.data.referrerLocation=e.referrerLocation||e.referrer||"";var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event,n=e.payload,r=Wf[String(t.type)];return r?(ml(n,Yf(Hf,e)),ml(n,Yf(r,e)),n.events?n:(e.logger.debug("Not sending ".concat(t.type," event to ").concat(e.pluginName," (no event property)")),null)):(e.logger.warn("Not sending ".concat(t.type," event to ").concat(e.pluginName," (unsupported)")),!1)}(t);return n?($s.populateProps(n),this.shouldRestrictData&&this.config.abortOnWs1&&(n.abort=!0),n):n},c.sendPayload=function(e,t){this.shouldRestrictData&&this.abortOnWs1?this.logger.info("Not sending payload, abortOnWs1 is configured."):(t.sessionId&&e.events&&-1!==e.events.split(",").indexOf("event999")&&this._cache.set(xp,t.sessionId),this.dispatcher.dispatchPayload(this.shouldRestrictData,e,t))},c.__resolveDispatcher=function(e,t,n){var r=_n(t)?t:"webSdk",i=n.get("/adobe/".concat(r));U(i.dispatchPayload)?this._dispatcher=i:this._dispatcher=new i(e,n)},i=r,(o=[{key:"dispatcher",get:function(){return this._dispatcher}},{key:"environment",get:function(){return this._environment},set:function(e){var t=e!==this._environment;this._environment=e,t&&this._initMcidVisitor()}},{key:"shouldRestrictData",get:])&&xf(i.prototype,o),a&&xf(i,a),r}(Jc);function Jf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(qf,"CONSTANTS",{enumerable:!0,writable:!1,configurable:!1,value:Xc}),Object.defineProperty(qf,"Utils",{enumerable:!0,writable:!1,configurable:!1,value:$s});var Xf=function(){var e,t,n;function r(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object.defineProperty(this,"type",{enumerable:!0,writable:!1,configurable:!1,value:t});var i=t.replace(/([a-z](?=[A-Z]))/g,"$1 ");Object.defineProperty(this,"name",{enumerable:!0,writable:!1,configurable:!1,value:(r?"".concat(i," ").concat(r):i).toLowerCase()}),this.time=e.time||new Date,this.location=e.location,this.locationType=e.locationType,this.url=e.url;var o=rt(this);rt(e).filter((function(e){return!fs(o,e)})).forEach((function(t){n[t]=e[t]}))}return r.setDispatcher=e=r,(t=[{key:"deprecationManager",get:])&&Jf(e.prototype,t),n&&Jf(e,n),r.prototype.dispatch=r}();function Zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qf=function(){function e(e){this._serviceContainer=e}var t,n,r;return t=e,(n=[{key:"logger",get:function(){return this._logger||(this._logger=this._serviceContainer.get("Logger")),this._logger}},{key:"throttler",get:function(){if(!this._throttler){var e=this._serviceContainer.get("config");this._throttler=this._serviceContainer.build("/throttler/ThrottlerInterface",e.sampling)}return this._throttler}},{key:"schemaOptions",get:,{key:"deprecationManager",get:function(){return this._deprecationManager||(this._deprecationManager=this._serviceContainer.get("/deprecation/deprecationManager")),this._deprecationManager}},{key:"identifiers",get:function(){return this._identifiers||(this._identifiers=this._serviceContainer.get("/identifier/identifierProvider")),this._identifiers}},{key:"eventManager",get:function(){return this._eventManager||(this._eventManager=this._serviceContainer.get("/event/eventManager")),this._eventManager}},{key:"eventInspector",get:function(){return this._eventInspector||(this._eventInspector=this._serviceContainer.get("EventInspector")),this._eventInspector}}])&&Zf(t.prototype,n),r&&Zf(t,r),e}(),$f=function(e){var t,n;function r(t){var n="";return t.clickLocation&&(n+="".concat(t.clickLocation," ")),t.clickType=String(t.clickType),n+=t.clickType.replace("click ",""),e.call(this,t,"Click",n.replace("_"," "))||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf);unction ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ny=function(e,t){if(e instanceof Date&&t instanceof Date){var n=t.valueOf()-e.valueOf();return Number.isNaN(n)?void 0:n}},ry=function(e){var t,n;function r(t){return e.call(this,{},t,{dwellDurationTime:ny(t.dwellStartTime,t.dwellEndTime)}),"Dwell")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),iy=function(e){var t,n;function r(t){return e.call(this,t,"AdClick")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),oy=function(e){var t,n;function r(t){return e.call(this,t,"AdImpression")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),ay=function(e){var t,n;function r(t){return e.call(this,t,"AdVideoStream")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),cy=function(e){var t,n;function r(t){var n;if(t.banners){if(n="banners",t.bannerType)switch(t.bannerType){case ja.PAID_AD_VIEWED:n+=" paid ad viewed";break;case ja.PAID_AD_LOADED:n+=" paid ad loaded";break;case ja.VIDEO_AD_PLAYED:n+=" video ad played"}}else t.tiles?n="tiles":t.recommendations&&(n="recommendations");return e.call(this,t,"Impression",n)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),sy=function(e){var t,n;function r(t){return e.call(this,t,"LoadTime")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),uy=function(e){var t,n;function r(t){return e.call(this,t,"PageView")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),py=function(e){var t,n;eturn n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),ly=function(e){var t,n;function r(t){return e.call(this,t,"Startup",t.startupType)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),fy=function(e){var t,n;function r(t){if(!vc(t.severity))throw new Error("Invalid value for SEVERITIES: ".concat(t.severity,"!"));var n=zc.cleanUpString(t.error);return e.call(this,t,"UserFacingError",n)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(Xf),yy=function(e,t,n){if(!t(n))throw new Error(e.replace("{value}",n))},dy=function(e){var t,n;function r(t){t.videoAction&&yy("Invalid value for VIDEO_ACTIONS: {value}!",gc,t.videoAction),yy("Invalid value for STREAM_TYPES: {value}!",hc,t.streamType),yy("Invalid value for VIDEO_FORMATS: {value}!",mc,t.videoFormat),yy("Invalid value for VIDEO_TYPES: {value}!",Ic,t.videoType);var n="".concat(t.streamType," ").concat(t.videoAction);return e.call(this,t,"VideoStream",n.replace(/(_)/g," "))||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.dispatch=function(t){return t&&(this.videoAction=t,this.time=new Date),e.prototype.dispatch.call(this)},r}(Xf);function _y(){return(_y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var vy=function(e,t){return function(n){return function(e,t,n){var r=e.get("config"),i=_y({},(r.plugins||{})[t]||{});!0===r.dryRun&&(i.dryRun=!0);var o=e.get("telemetryService").filteredEnvironment;return i.__logger=e.get("Logger"),new n(o,i,t,e)}(n,e,t)}},hy={},Ey=function(e,t){return e[0].toUpperCase()+e.substr(1)+(t[0].toUpperCase()+t.substr(1))},gy={PLUGINS:hy,register:function(e,t,n,r){var i=Ey(t,r);hy[t]=n,e.__createTransitionPluginReference(i,n)},unregister:function(e,t,n){if(hy[t]){delete hy[t];var r=Ey(t,n);delete e[r],e.PLUGINS&&delete e.PLUGINS[r]}}},my=function(){return"undefined"===typeof window||"undefined"===typeof window.location||"undefined"===typeof window.location.search?"":function(e){var t={};return Ki(e).forEach((function(e){if(void 0!==e){var n=Zi(e,2),r=n[0],i=n[1],o=Er(r)?decodeURIComponent(r):"",a=Er(i)?decodeURIComponent(i):"";t[o]=a}})),t}(window.location.search.substr(1)).PlatformPrivacyWs1||""},Iy=function(e,t){if(e)return e;var n=t();return n||void 0},Ty=function(e){var t=e.env,n=[function(){return t)},.reduce(Iy,null);return n)?n:_o.MINIMAL},Sy=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;return Object.keys(n).forEach((function(i){if(Ho(n[i])){if(r.has(n[i]))return void(t[i]=r.get(n[i]));Ho(t[i])||(t[i]={}),r.set(n[i],t[i]),t[i]=e(t[i],n[i],r),r.delete(n[i])}Uo(n[i])||Fo(n[i])?t[i]=n[i]:Wo(n[i])&&(Wo(t[i])||(t[i]=[]),t[i]=t[i].concat(n[i]))})),t};function Ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Oy(e){return(Oy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var by={UNKNOWN:0,SIGNED_IN:1,SIGNED_OUT:2},Ry=Ny=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Boolean(e.signedIn),n=Ry(e.visitorId),r=Ry(e.deviceId),i="object"===("undefined"===typeof navigator?"undefined":Oy(navigator))?Ry(navigator.userAgent):null;return{isSignedIn:t,hashedPsnAccountId:n,deviceId:r,deviceAgent:i}},Cy=Py=function(e){return e.isSignedIn?{id:e.hashedPsnAccountId||Xc.MISSING_VISITOR_ID,authState:by.SIGNED_IN}:{authState:by.SIGNED_OUT}},wy=function(e){var t={},n=Py(e);n&&(t.psn_Member=n);var r=function(e){return e.deviceId?{id:e.deviceId,authState:Cy(e)}:null}(e);r&&(t.psn_Device=r);var i=function(e){return e.deviceAgent?{id:e.deviceAgent,authState:Cy(e)}:null}(e);return i&&(t.psn_DeviceAgent=i),t},Vy=function(e,t){var n=Ny(t),r=wy(n);Object.keys(r).length>0&&e.setCustomerIDs(r)},My=function(e){return[["trackingServer",e.trackingServer],["trackingServerSecure",e.trackingServerSecure],["marketingCloudServer",e.marketingCloudServer],["marketingCloudServerSecure",e.marketingCloudServerSecure],["audienceManagerServer",e.audienceManagerServer],["audienceManagerServerSecure",e.audienceManagerServerSecure]].reduce((,{})},Ly=function(e,t){var n=e.visitorApi;if(!n)return null;var r=My(e),i=n.getInstance(e.organizationId,r);return i?(Vy(i,t),i):null},Dy=function(e,t){var n=Object.keys(e).filter((function(e){return!So(t,e)}));if(n.length>0)throw Error("Unknown keys in object: ".concat(n.join(", "),"."))};function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ky(e){return(ky="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Fy=function(e){return Boolean(function(e){return Boolean("undefined"!==typeof e&&null!==e)}(e.visitorApi))},jy=function(e){return Fy(e)||Boolean("object"===("undefined"===typeof window?"undefined":ky(window))&&window.Visitor)},Gy=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Bo(e))throw new Error("McidConfig requires the parameter adobe plugin config object.");this.adobePluginConfig=e}var t,n,r;return t=e,(n=[{key:"isVisitorApiAvailable",get:function(){return jy(this.adobePluginConfig)}},{key:"isDryRun",get:function(){return!0===this.adobePluginConfig.dryRun}},{key:"isEnabled",get:,{key:"audienceManagerServer",get:function(){return this.adobePluginConfig.audienceManagerServer||Xc.DEFAULT_AUDIENCE_MANAGER_SERVER}},{key:"audienceManagerServerSecure",get:function(){return this.adobePluginConfig.audienceManagerServerSecure||Xc.DEFAULT_AUDIENCE_MANAGER_SERVER_SECURE}},{key:"organizationId",get:function(){return this.adobePluginConfig.organizationId||Xc.DEFAULT_ORGANIZATION_ID}},{key:"trackingServer",get:function(){return this.adobePluginConfig.trackingServer||Xc.DEFAULT_TRACKING_SERVER}},{key:"trackingServerSecure",get:function(){return this.adobePluginConfig.trackingServerSecure||Xc.DEFAULT_TRACKING_SERVER_SECURE}},{key:"marketingCloudServer",get:function(){return this.adobePluginConfig.marketingCloudServer||Xc.DEFAULT_MARKETING_CLOUD_SERVER}},{key:"marketingCloudServerSecure",get:,{key:"visitorApi",get:function(){return this.adobePluginConfig.visitorApi||("object"===("undefined"===typeof window?"undefined":ky(window))?window.Visitor:null)||null}}])&&Uy(t.prototype,n),r&&Uy(t,r),e}(),By=["config","environment","logger"],Hy=function(e,t){Dy(t,By);var n=t.config,r=t.environment,i=t.logger,o=new Gy(n);if(!o.isEnabled)return null;if(!o.isVisitorApiAvailable)return i&&i.warn('Adobe VisitorAPI is not loaded. Ensure that VisitorAPI.js is loaded, or pass in a reference via "adobeConfig.visitorApi".'),null;if(o.isDryRun)return i&&i.warn("DryRun configuration detected. Cancelling MCID Initialization."),null;var a=Ly(o,r);return a?(e.visitor=a,a):(i&&i.warn("Unable to obtain Omniture visitor instance from VisitorAPI."),null)};function Wy(){return(Wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xy=/^(?:prop|eVar|hier|list)[1-9][0-9]*$/,Ky=["campaign","channel","eventList","events","productList","products","purchaseID","state","transactionID","zip"],zy=function(e){return!!e.match(xy)||Ky.indexOf(e)>=0},qy=function(){function e(e){this.sdk=e.sdk,this.urlPrivacyFilter=e.urlPrivacyFilter,this.boundPluginCallback=this.sdkPluginCallback.bind(this)}var t,n,r,i=e.prototype;return i.initMcidVisitor=function(e,t,n,r){e?delete this.sdk.visitor:this.mcidVisitor=Hy(this.sdk,{environment:t,config:n,logger:r})},i.dispatchPayload=function(e,t,n){var r="PageView"===n.type;this._configureSdkPluginFilter(e),r&&this._clearSdkVars(),Wy(this.sdk,t),r?this._dispatchPageView():this._dispatchPageLink(t,n)},i._configureSdkPluginFilter=function(e){e?(this.sdk.usePlugins=!0,this.sdk.doPlugins=this.boundPluginCallback):(this.sdk.usePlugins=!1,this.sdk.doPlugins=void 0)},i._clearSdkVars=function(){this.sdk.clearVars()},i._dispatchPageView=function(){this.sdk.t()},i._dispatchPageLink=function(e,t){var n=zc.cleanUpString(t.name),r=$s.getLinkType(t);this.sdk.linkTrackVars=Object.keys(e).filter(zy).join(","),this.sdk.linkTrackEvents=this.sdk.events.replace(/=[0-9]+/g,""),this.sdk.tl(!0,r,n)},i.filterUrl=function(e){return this.urlPrivacyFilter(e)},i.sdkPluginCallback=function(e){e.pageURL=this.filterUrl(e.pageURL),e.referrer=this.filterUrl(e.referrer),e.fid="",e.mcid=""},t=e,(n=[{key:"version",get:])&&Yy(t.prototype,n),r&&Yy(t,r),e}();function Jy(){return(Jy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zy=Qy=function(){ar t,n,r,i=e.prototype;return i.initMcidVisitor=function(){},i.dispatchPayload=function(e,t,n){var r=new Date,i=["https://",t.trackingServerSecure,"/b/ss/",t.account,"/1/","gctxhr-5.5.0/","s".concat(Math.floor(r.getTime()/108e5)%10+Math.floor(1e13*Math.random()),"?"),"AQB=1&","ndh=1&","pf=1&","ce=UTF-8&"];"PageView"===n.type?(i.push(Zy("pageName",t.pageName)),i.push(Zy("ch",t.channel)),i.push(Zy("server",t.server))):(i.push("pe=lnk_".concat($s.getLinkType(n),"&")),i.push("pev2=".concat(encodeURIComponent(zc.cleanUpString(n.name)),"&"))),i.push(Zy("events",t.events)),i.push(Zy("vid",t.visitorID)),i.push(Zy("ts",t.timestamp));var o,a=r.getYear(),c=["".concat(r.getDate(),"/").concat(r.getMonth(),"/").concat(a<1900?a+1900:a)," ","".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds())," ",r.getDay()," ",r.getTimezoneOffset()];i.push(Zy("t",c.join("")));for(var s=1;s<=255;s+=1)t[o="eVar".concat(s)]&&i.push(Zy("v".concat(s),t[o])),o="prop".concat(s),s<=75&&t[o]&&i.push(Zy("c".concat(s),t[o])),o="hier".concat(s),s<=5&&t[o]&&i.push(Zy("h".concat(s),t[o])),o="list".concat(s),s<=3&&t[o]&&i.push(Zy("l".concat(s),t[o]));t.products&&i.push(Zy("products",t.products)),t.currencyCode&&i.push(Zy("cc",t.currencyCode)),t.purchaseID&&i.push(Zy("purchaseID",t.purchaseID)),t.transactionID&&i.push(Zy("xact",t.transactionID)),t.campaign&&i.push(Zy("v0",t.campaign)),i.push("AQE=1"),this._xhr("GET",i.join(""),null,null)},t=e,(n=[{key:"version",get:])&&Xy(t.prototype,n),r&&Xy(t,r),e}();function $y(){return($y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ed={adobe:{dispatcher:{webSdk:{sdk:""},xhr:{xhr:"/network/xhrInterface"}}},services:{factories:{"/adobe/webSdk":function(e){var t=Jy({},(e.get("config").plugins||{}).adobe||{}),n=e.get("/privacy/uriCensor"),r=function(e,t){return _n(t)?e.get(t):t||e.get("/adobe/appMeasurement")}(e,t.sdkInstance);return new qy({sdk:r,urlPrivacyFilter:n})},"/adobe/xhr":function(e){var t=$y({},(e.get("config").plugins||{}).adobe||{}),n=e.get("/network/".concat(_n(t.xhr)?t.xhr:"xhrInterface"));return new Qy({xhr:n})}}}};function td(e){return(td="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nd={cache:{domLocalStorage:{namespace:"gct"}},services:{factories:{"/cache/cacheInterface":function(e){return function(){if("undefined"===typeof window)return!1;var e;try{e=window.localStorage;var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(n){return!("undefined"===typeof DOMException||!e)&&n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&0!==e.length}}()?e.get("/cache/domLocalStorage"):e.get("/cache/memoryCache")},"/cache/memoryCache":function(){return new _r},"/cache/domLocalStorage":function(e){var t=e.get("config").cache.domLocalStorage;if("object"!==("undefined"===typeof window?"undefined":td(window)))throw new Error("No window object.");if("object"!==td(window.localStorage))throw new Error("No window.localStorage.");return new dr(window.localStorage,{namespace:t.namespace})}}}},rd={deprecation:{alwaysThrow:!1,overrides:{}},services:{factories:{"/deprecation/deprecationManager":function(e){var t=e.get("config").deprecation||{},n=t.overrides||{},r=t.alwaysThrow||!1,i=e.get("Logger"),o=e.get("/build/date");return new uo({referenceDate:o,logger:i,overrides:n,alwaysThrow:r})},"/deprecation/staticDeprecationManager":function(e){var t=new yo;if(!t.deprecationManager){var n=e.get("/deprecation/deprecationManager"),r=e.get("/host/appName");e.get("Logger").info("Static deprecations are handled by ".concat(r,".")),t.deprecationManager=n}}}}},id={inspector:{enabled:!1},services:{aliases:{EventInspector:"/inspector/eventInspector"},factories:{"/inspector/eventInspector":function(e){var t=e.get("config").inspector||{},n=new di;return t.enabled&&n.enable(),n}}}},od={services:{factories:{"/event/eventManager":function(){return new Ar}}}},ad="2020-07-22T17:58:10.426Z",cd={schema:{enabled:!1},services:{aliases:{GctBuildDate:"/build/date"},factories:{"/build/date":function(e){var t=e.get("/build/rawBuildDate");return"@@BUILD_DATE"===t?new Date:new Date(t)},"/build/rawBuildDate":function(){return ad}}}},sd={services:{factories:{"/host/appName":function(e){var t=e.get("config");return t.env&&t.env.appName||"unknown-app"}}}},ud={sessionId:{cache:"cache.sessionId",cacheKey:void 0},shortTermId:{cache:"cache.shortTermId",cacheKey:void 0,lifetime:void 0},testIdentifiers:{cache:"cache.testIdentifiers",cacheKey:void 0},services:{aliases:{"cache.identifier":"/cache/cacheInterface","cache.shortTermId":"cache.identifier","cache.sessionId":"cache.identifier","cache.testIdentifiers":"cache.identifier"},factories:{"/identifier/sessionId":function(e){var t=e.get("config"),n=e.get("telemetryService"),r=t.sessionId||{},i={};r.cacheKey&&(i.cacheKey=r.cacheKey),r.cache&&(i.cache=e.get(r.cache));var o=new qr(i);return new wr(o,n),o},"/identifier/shortTermId":function(e){var t=e.get("config"),n=e.get("/host/appName"),r=t.shortTermId||{},i={};if(r.cacheKey&&(i.cacheKey=r.cacheKey),r.cache&&(i.cache=e.get(r.cache)),r.lifetime){var o={lifetime:r.lifetime},a=new Qr(o);i.validator=a}return i.appName=n,new ii(i)},"/identifier/tracingId":function(){return new pi},"/identifier/testIdentifiers":function(e){var t=e.get("config").testIdentifiers||{},n=t.cacheKey||"test-identifiers";if(!t.cache)return{};var r=e.get(t.cache);return r&&r.get(n)||{}},"/identifier/identifierProvider":function(e){var t=e.get("/identifier/sessionId"),n=e.get("/identifier/shortTermId"),r=e.get("/identifier/tracingId"),i=e.get("/identifier/testIdentifiers");return new br({sessionId:t,shortTermId:n,tracingId:r,testIdentifiers:i})}}}},pd=xn.WARNING,ld=xn.ERROR,fd=xn.INFO,yd=xn.EMERGENCY,dd=xn.ALERT,_d=xn.DEBUG,vd=xn.NOTICE,hd=xn.CRITICAL,Ed=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.warn=i.groupCollapsed=function(e){this.log(_d,e,{})},i.groupEnd=function(){},r}(ir),gd={EMERGENCY:yd,ALERT:dd,CRITICAL:hd,ERROR:ld,WARNING:pd,NOTICE:vd,INFO:fd,DEBUG:_d,TRACE:_d,WARN:pd,TIME:_d},md=Id={logger:{async:!1,jsonOutput:!1},logLevel:void 0,services:{aliases:{Logger:"/logger/console"},factories:{"/logger/console":function(e){var t=e.get("config"),n=t.logger||{},r=new lr(console),i=new ar("[GCT] ",r);return n.jsonOutput&&(i=new or(md,i)),i=function(e,t){if(_n(e)){var n=e.toUpperCase();if("OFF"===n)return new fr;if(gd[n])return new ur(gd[n],t)}return new ur(ld,t)}(t.logLevel,i),i=new Ed(i)}}}},Td=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.method=/^(POST|DELETE|PUT)$/i.test(e)?e.toUpperCase():"GET",this.uri=t,this.headers=n||{},this.callback=r||this._logger=i.logger}return e.prototype.open=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=new XMLHttpRequest;n.open(this.method,this.uri,!0),Object.keys(this.headers).forEach((),void 0!==this.timeout&&(n.timeout=this.timeout);var r=this.callback;n.onload=function(){var t=n.status,i=n.responseText;if(/^application\/json/i.test(n.getResponseHeader("Content-Type"))&&i.trim().length>0)try{i=JSON.parse(i)}catch(o){e._logger.error("Request returned invalid JSON",{uri:e.uri,response:i}),r(!0,-4,"InvalidJsonError: JSON Parse Error.")}r(t>=400,t,i)},n.onerror=function(){r(!0,-1,"HttpError: The server responded with an error.")},n.onabort=function(){r(!0,-2,"ConnectionError: HTTP Request Terminated.")},n.ontimeout=function(){r(!0,-3,"TimeoutError: Server failed to respond after configured timeout.")},this._logger.debug("XHR Request Created.",{method:this.method,uri:this.uri,body:t}),n.send("POST"===this.method||"PUT"===this.method?t:null)},e}(),Sd={network:{defaultXhr:"browserXhr"},services:{factories:{"/network/xhrInterface":function(e){var t=e.get("config").network||{},n=_n(t.defaultXhr)?t.defaultXhr:"browserXhr";return e.get("/network/".concat(n))},"/network/browserXhr":function(e){return function(e){return function(t,n,r,i,o){new Td(t,n,r,o,e).open(i)}}({logger:e.get("Logger")})}}}},Ad={plugins:{adobe:{}},services:{factories:{"/adobe/appMeasurement":function(){return new AppMeasurement},"/plugin/adobe":vy("adobe",qf)}}},Od={plugins:{clairvoyance:{}},services:{factories:{"/plugin/clairvoyance":vy("clairvoyance",Xn)}}},bd={plugins:{kamaji:{}},services:{factories:{"/plugin/kamaji":function(e){var t=e.get("config"),n=(t.plugins||{}).kamaji||{},r=Un({},n);!0===t.dryRun&&(r.dryRun=!0),r.xhr=function(e,t){var n=t.xhr&&vn(t.xhr)?"/network/".concat(t.xhr):"/network/xhrInterface";return e.get(n)}(e,n),r.__logger=e.get("Logger");var i=e.get("telemetryService").filteredEnvironment;return new Dn(i,r,kn,e)}}}},Rd=function(e){return e.userInfo=void 0,e.query=Xi(e.query)||void 0,e.hash=void 0,e},Nd={services:{factories:{"/privacy/uriCensor":}},Cd=Function.prototype,Pd=Object.prototype,wd=Cd.toString,Vd=Pd.hasOwnProperty,Md=wd.call(Object),Ld=Dd=Math.min,Ud=kd=Fd=Oa((),jd=S.isFinite,Gd=Bd=Hd=Wd="a",Yd="b",xd="d",Kd="e",zd="f",qd="i",Jd="n",Xd="o",Zd="r",Qd="s",$d={schemaVersion:1,version:"1.0",eventTemplates:{baseEvent:{type:Kd,properties:{deeplink:{type:Qd,c:Zd},experimentData:{type:Wd,c:Xd,collection:{type:Kd,c:Xd,properties:{experimentId:{type:Qd,c:Xd},univexId:{type:Qd,c:Xd},variantId:{type:Qd,c:Xd}}}},httpReferrer:{type:Qd,c:Xd},location:{type:Qd,c:Zd},locationType:{type:Qd,c:Zd},name:{type:Qd,c:Zd},pageUrl:{type:Qd,c:Zd},time:{type:xd,c:Zd},type:{type:Qd,c:Zd},url:{type:Qd,c:Zd},sessionId:{type:Qd,c:Zd},shortTermId:{type:Qd,c:Zd},testCaseId:{type:Qd,c:Zd},testSessionId:{type:Qd,c:Zd}}},recommendation:{type:Kd,c:Xd,properties:{name:{type:Qd,c:Xd},sku:{type:Qd,c:Xd}}},recommendations:{type:Wd,c:Xd,collection:{_include:["recommendation"]}},survey:{type:Kd,c:Xd,properties:{surveyId:{type:Qd,c:Xd},questionId:{type:qd,c:Xd},questionText:{type:Qd,c:Xd},userResponse:{type:Qd,c:Xd},permissionToContact:{type:Yd,c:Xd},reasonId:{type:qd,c:Xd},reasonText:{type:Qd,c:Xd}}},tile:{type:Kd,c:Xd,properties:{campaignId:{type:Qd,c:Xd},ctaType:{type:Qd,c:Xd},productTitle:{type:Qd,c:Xd},sponsored:{type:Yd,c:Xd},tileAuthor:{type:Qd,c:Xd},tileTitle:{type:Qd,c:Xd},tileCaption:{type:Qd,c:Xd},tileId:{type:Qd,c:Xd},tileLanguage:{type:Qd,c:Xd},postAnythingHasText:{type:Yd,c:Xd},postAnythingHasImage:{type:Yd,c:Xd},postAnythingHasUrl:{type:Yd,c:Xd},postAnythingHasGameTag:{type:Yd,c:Xd},postAnythingHasFriendTag:{type:Yd,c:Xd},tileTrackingId:{type:Qd,c:Xd},tileType:{type:Qd,c:Xd},tilePosition:{type:qd,c:Xd}}},tiles:{type:Wd,c:Xd,collection:{_include:["tile"]}},transaction:{type:Kd,c:Xd,properties:{currencyCode:{type:Qd,c:Xd},paymentMethod:{type:Qd,c:Xd},products:{type:Wd,c:Xd,collection:{type:Kd,c:Xd,properties:{findingMethod:{type:Qd,c:Xd},merchCategory:{type:Qd,c:Xd},name:{type:Qd,c:Xd},pstpCampaign:{type:Qd,c:Xd},quantity:{type:qd,c:Xd},recAnchor:{type:Qd,c:Xd},recCampaign:{type:Qd,c:Xd},totalPrice:{type:zd,c:Xd},totalRevenue:{type:zd,c:Xd},totalDiscount:{type:zd,c:Xd},totalOrderLevelDiscount:{type:zd,c:Xd},walletRevenue:{type:zd,c:Xd},promotionalMarketingRevenue:{type:zd,c:Xd},sku:{type:Qd,c:Xd}}}},purchaseID:{type:Qd,c:Zd},transactionID:{type:Qd,c:Zd},type:{type:Qd,c:Zd},useWallet:{type:Yd,c:Zd}}}},events:{Click:{_include:["baseEvent"],c:Xd,properties:{allowAdditionalData:{type:Yd,c:Xd},allowPersonalizedRecs:{type:Yd,c:Xd},allowPersonalizedAds:{type:Yd,c:Xd},apiStatus:{type:Qd,c:Xd},banner:{type:Qd,c:Xd},clickType:{type:Qd,c:Xd},clickLocation:{type:Qd,c:Xd},clickMetadata:{type:Qd,c:Xd},contentDetail:{type:Qd,c:Xd},displayPrice:{type:Qd,c:Xd},downloadClick:{type:Yd,c:Xd},exitClick:{type:Yd,c:Xd},findingMethod:{type:Qd,c:Xd},formAction:{type:Qd,c:Xd},formLocation:{type:Qd,c:Xd},griefReportItem:{type:Qd,c:Xd},griefReportReason:{type:Qd,c:Xd},genre:{type:Qd,c:Xd},hasAttachment:{type:Yd,c:Xd},hasColorChanged:{type:Yd,c:Xd},hasImage:{type:Yd,c:Xd},hasImageChanged:{type:Yd,c:Xd},hasGameTagged:{type:Yd,c:Xd},hasPlayersTagged:{type:qd,c:Xd},hasPlayersInvited:{type:qd,c:Xd},hasPurchaseIntent:{type:Yd,c:Xd},hasSticker:{type:Yd,c:Xd},hasText:{type:Yd,c:Xd},urlsPosted:{type:qd,c:Xd},hasUserMetAgeRequirement:{type:Yd,c:Xd},hasVideo:{type:Yd,c:Xd},impressionTime:{type:qd,c:Xd},isPlaytimeUnlimited:{type:Yd,c:Xd},maturity:{type:Qd,c:Xd},merchCategory:{type:Qd,c:Xd},multiViewTimeSpent:{type:qd,c:Xd},networkName:{type:Qd,c:Xd},playerId:{type:Qd,c:Xd},playtimeAgeGroup:{type:Qd,c:Xd},playtimeDurationChange:{type:qd,c:Xd},productClassification1:{type:Qd,c:Xd},productClassification2:{type:Qd,c:Xd},productClassification3:{type:Qd,c:Xd},productName:{type:Qd,c:Xd},productSku:{type:Qd,c:Xd},publisher:{type:Qd,c:Xd},ratingNumber:{type:qd,c:Xd},recCampaign:{type:Qd,c:Xd},recommendation:{_include:["recommendation"]},recommendationSrc:{type:Qd,c:Xd},releaseDate:{type:Qd,c:Xd},searchFilter:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},searchTerm:{type:Qd,c:Xd},sortOrder:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},streamType:{type:Qd,c:Xd},survey:{_include:["survey"]},textPostUrlDomain:{type:Qd,c:Xd},tile:{_include:["tile"]},tiles:{_include:["tiles"]},transaction:{_include:["transaction"]},videoType:{type:Qd,c:Xd},videoFormat:{type:Qd,c:Xd},videoId:{type:Qd,c:Xd},videoSeasonNum:{type:qd,c:Xd},videoTitle:{type:Qd,c:Xd},videoEpisodeName:{type:Qd,c:Xd},videoEpisodeNum:{type:qd,c:Xd}}},Impression:{_include:["baseEvent"],c:Xd,properties:{banners:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},bannerType:{type:Qd,c:Xd},publisher:{type:Qd,c:Xd},tiles:{_include:["tiles"]},recCampaign:{type:Qd,c:Xd},recommendations:{_include:["recommendations"]},transaction:{_include:["transaction"]}}},LoadTime:{_include:["baseEvent"],c:Zd,properties:{bootInfo:{c:Zd,type:Qd},dataSizeGroup:{type:Qd,c:Zd},loadTime:{type:zd,c:Zd},timings:{type:Wd,c:Zd,collection:{type:Kd,c:Zd,properties:{name:{c:Zd,type:Qd},startTime:{c:Zd,type:zd},duration:{c:Zd,type:zd},bootInfo:{c:Xd,type:Qd},metricInfo:{c:Xd,type:Qd}}}}}},PageView:{_include:["baseEvent"],c:Xd,properties:{banners:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},bannerType:{type:Qd,c:Xd},bootInfo:{type:Qd,c:Xd},dataSizeGroup:{type:Qd,c:Xd},clickType:{type:Qd,c:Xd},community:{type:Kd,c:Xd,properties:{id:{type:Qd,c:Xd},language:{type:Qd,c:Xd},name:{type:Qd,c:Xd},permissions:{type:Qd,c:Xd},productTitle:{type:Qd,c:Xd},timeZone:{type:Qd,c:Xd},titleId:{type:Qd,c:Xd}}},contentDetail:{type:Qd,c:Xd},displayPrice:{type:Qd,c:Xd},emailCampaign:{type:Qd,c:Xd},emailRecipient:{type:Qd,c:Xd},experienceId:{type:Qd,c:Xd},findingMethod:{type:Qd,c:Xd},formAction:{type:Qd,c:Xd},formLocation:{type:Qd,c:Xd},genre:{type:Qd,c:Xd},isAgeGate:{type:Yd,c:Xd},loadTime:{type:zd,c:Xd},marketingCampaign:{type:Qd,c:Xd},maturity:{type:Qd,c:Xd},merchCategory:{type:Qd,c:Xd},oskZeroStateResult:{type:Yd,c:Xd},pstpCampaign:{type:Qd,c:Xd},productClassification1:{type:Qd,c:Xd},productClassification2:{type:Qd,c:Xd},productClassification3:{type:Qd,c:Xd},productName:{type:Qd,c:Xd},productSku:{type:Qd,c:Xd},productType:{type:Qd,c:Xd},publisher:{type:Qd,c:Xd},referrerLocation:{type:Qd,c:Xd},recAnchor:{type:Qd,c:Xd},recommendations:{_include:["recommendations"]},recCampaign:{type:Qd,c:Xd},releaseDate:{type:Qd,c:Xd},searchResult:{type:Qd,c:Xd},searchTerm:{type:Qd,c:Xd},searchPosition:{type:qd,c:Xd},searchCount:{type:qd,c:Xd},searchCampaign:{type:Yd,c:Xd},survey:{_include:["survey"]},tiles:{_include:["tiles"]},tournamentName:{type:Qd,c:Xd},tournamentFormat:{type:Qd,c:Xd},tournamentStageInfo:{type:Qd,c:Xd},tournamentPrizeInfo:{type:Qd,c:Xd},tournamentStartTime:{type:xd,c:Xd},tournamentVideoType:{type:Qd,c:Xd},tournamentType:{type:Qd,c:Xd},tournamentSponsors:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},hasCompletedTournamentSignUp:{type:Yd,c:Xd},tournamentPlayersSignedUp:{type:qd,c:Xd},maturityRating:{type:Qd,c:Xd},totalStrands:{type:Qd,c:Xd},transaction:{_include:["transaction"]},userGenes:{type:Qd,c:Xd},viewCollectionId:{type:Qd,c:Xd},viewIds:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}}}},Startup:{_include:["baseEvent"],c:Zd,properties:{privacySettings:{type:Qd,c:Zd},startupType:{type:Qd,c:Zd},startupContext:{type:Qd,c:Zd},bootInfo:{type:Qd,c:Zd},dataSizeGroup:{type:Qd,c:Zd}}},UserFacingError:{_include:["baseEvent"],c:Zd,properties:{apiUrl:{type:Qd,c:Zd},code:{type:Qd,allowNumber:!0,c:Zd},description:{type:Qd,c:Zd},error:{type:Qd,c:Zd},overrideAppName:{type:Qd,c:Zd},overrideBuildVersion:{type:Qd,c:Zd},severity:{type:Qd,c:Zd},stack:{type:Qd,c:Zd},errorMetadata:{type:Kd,c:Zd,properties:{skuId:{type:Qd,c:Zd},titleId:{type:Qd,c:Zd},errorUuid:{type:Qd,c:Zd},somethingLong:{type:Qd,c:Zd}}}}},VideoStream:{_include:["baseEvent"],c:Xd,properties:{banners:{c:Xd,type:Wd,collection:{type:Qd,c:Xd}},currentViewedTime:{type:zd,c:Xd},displayPrice:{type:Qd,c:Xd},elapsedTime:{type:zd,c:Xd},genre:{type:Qd,c:Xd},maturity:{type:Qd,c:Xd},networkName:{type:Qd,c:Xd},playerId:{type:Qd,c:Xd},playerPosition:{type:qd,c:Xd},playerSoundEnabled:{type:Yd,c:Xd},publisher:{type:Qd,c:Xd},releaseDate:{type:Qd,c:Xd},streamType:{type:Qd,c:Xd},totalViewedTime:{type:zd,c:Xd},tile:{_include:["tile"]},videoAction:{type:Qd,c:Xd},videoType:{type:Qd,c:Xd},videoDuration:{type:zd,c:Xd},videoEpisodeName:{type:Qd,c:Xd},videoEpisodeNum:{type:qd,c:Xd},videoFormat:{type:Qd,c:Xd},videoId:{type:Qd,c:Xd},videoSeasonNum:{type:qd,c:Xd},videoTitle:{type:Qd,c:Xd},windowMode:{type:Qd,c:Xd},videoUrl:{type:Qd,c:Xd}}},Search:{_include:["baseEvent"],c:Xd,properties:{searchTerm:{type:Qd,c:Xd},searchType:{type:Qd,c:Xd},retryCount:{type:qd,c:Xd},resultCount:{type:qd,c:Xd},itemIdNamespace:{type:Qd,c:Xd},itemIds:{type:Wd,c:Xd,collection:{c:Xd,type:Qd}},contentType:{type:Qd,c:Xd},storeRegion:{type:Qd,c:Xd},storeLanguage:{type:Qd,c:Xd}}},Dwell:{_include:["baseEvent"],c:Xd,properties:{tile:{_include:["tile"]},dwellTargetType:{type:Qd,c:Xd},dwellTargetId:{type:Qd,c:Xd},dwellStartTime:{type:xd,c:Xd},dwellEndTime:{type:xd,c:Xd},dwellDurationTime:{type:qd,c:Xd},survey:{_include:["survey"]}}},AdClick:{_include:["baseEvent"],c:Zd,properties:{clickType:{type:Qd,c:Zd},exitClick:{type:Yd,c:Zd},banner:{type:Qd,c:Zd},tile:{_include:["tile"],properties:{campaignId:{c:Zd},productTitle:{c:Zd},tileId:{c:Zd},tilePosition:{c:Zd},tileType:{c:Zd}}}}},AdImpression:{_include:["baseEvent"],c:Zd,properties:{banners:{type:Wd,c:Zd,collection:{type:Qd,c:Zd}},bannerType:{type:Qd,c:Zd},tiles:{type:Wd,c:Zd,collection:{_include:["tile"],properties:{campaignId:{c:Zd},productTitle:{c:Zd},tileId:{c:Zd},tilePosition:{c:Zd},tileType:{c:Zd}}}}}},AdVideoStream:{_include:["baseEvent"],c:Zd,properties:{banners:{type:Wd,c:Zd,collection:{type:Qd,c:Zd}},currentViewedTime:{type:zd,c:Zd},elapsedTime:{type:zd,c:Zd},playerId:{type:Qd,c:Zd},streamType:{type:Qd,c:Zd},totalViewedTime:{type:zd,c:Zd},videoAction:{type:Qd,c:Zd},videoDuration:{type:zd,c:Zd},videoFormat:{type:Qd,c:Zd},videoType:{type:Qd,c:Zd},videoUrl:{type:Qd,c:Zd},windowMode:{type:Qd,c:Zd},tile:{_include:["tile"],properties:{campaignId:{c:Zd},productTitle:{c:Zd},tileId:{c:Zd},tilePosition:{c:Zd},tileType:{c:Zd}}}}}},environment:{type:Kd,c:Zd,properties:{platformPrivacyWs1:{type:Qd,c:Zd},locale:{type:Qd,c:Zd},deviceId:{type:Qd,c:Xd},visitorId:{type:Qd,c:Xd},appName:{type:Qd,c:Zd},buildVersion:{type:Qd,c:Zd},deviceType:{type:Qd,c:Zd},charset:{type:Qd,c:Zd},signedIn:{type:Yd,c:Zd},plusUserType:{type:Qd,c:Zd},isPlusUser:{type:Yd,c:Zd},userAge:{type:qd,c:Xd},zipcode:{type:qd,c:Xd},postalCode:{type:Qd,c:Xd},DMA:{type:Qd,c:Xd},networkType:{type:Qd,c:Zd},screenInfo:{type:Qd,c:Zd},platformVersion:{type:Qd,c:Zd},psnAccountLanguage:{type:Qd,c:Zd},psnAccountRegion:{type:Qd,c:Zd},psnowMembershipType:{type:Qd,c:Zd},adobeMCID:{type:Qd,c:Zd},constellationId:{type:Qd,c:Zd}}},overlays:{default:[],"sample-override":["sample-override"],commerce:["commerce"],monaco:["monaco"],titan:["titan"],blackbird:["blackbird"],feeds:["feeds"],apollo2:["apollo2"],"psnow-auto-renew":["psnow-auto-renew"],"psnow-player-menu":["psnow-player-menu"],"valkyrie-storefront":["valkyrie-storefront"],"valkyrie-vue":["valkyrie-vue"],chronos:["chronos"],friends:["friends"],yaka:["yaka"],unibeam:["unibeam"]},overlayFiles:{"sample-override":{events:{LoadTime:{properties:{bootInfo:{c:Xd}}},UserFacingError:{properties:{myCustomProperty:{type:Qd,c:Zd}}},CustomEvent:{_include:["baseEvent"],properties:{deeplink:{c:Xd}}}}},commerce:{events:{UserFacingError:{properties:{errorMetadata:{properties:{httpStatus:{type:qd,c:Zd},requestId:{type:Qd,c:Xd},correlationId:{type:Qd,c:Xd},skus:{type:Qd,c:Xd}}}}},Click:{c:Zd,properties:{recommendation:{c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}},tile:{c:Zd,properties:{campaignId:{c:Zd},ctaType:{c:Zd},productTitle:{c:Zd},sponsored:{c:Zd},tileAuthor:{c:Zd},tileCaption:{c:Zd},tileId:{c:Zd},tileLanguage:{c:Zd},tileTitle:{c:Zd},tileTrackingId:{c:Zd},tileType:{c:Zd},tilePosition:{c:Zd}}},tiles:{c:Zd},transaction:{c:Zd,properties:{currencyCode:{c:Zd},paymentMethod:{c:Zd},products:{c:Zd,collection:{c:Zd,properties:{findingMethod:{c:Zd},merchCategory:{c:Zd},name:{c:Zd},pstpCampaign:{c:Zd},quantity:{c:Zd},recAnchor:{c:Zd},recCampaign:{c:Zd},totalPrice:{c:Zd},totalRevenue:{c:Zd},sku:{c:Zd},campaignId:{type:Qd,c:Zd},coverContextType:{type:Qd,c:Zd},discountSubType:{type:Qd,c:Zd},discountType:{type:Qd,c:Zd},displayPrice:{type:Qd,c:Zd},imageUrl:{type:Qd,c:Zd},itemId:{type:Qd,c:Zd},itemPrice:{type:qd,c:Zd},itemSubtype:{type:Qd,c:Zd},itemType:{type:Qd,c:Zd},recContext:{type:Qd,c:Zd},recUuid:{type:Qd,c:Zd},rewardId:{type:Qd,c:Zd},trackContentType:{type:Qd,c:Zd}}}},transactionID:{c:Zd},type:{c:Zd}}},allowAdditionalData:{c:Zd},allowPersonalizedRecs:{c:Zd},allowPersonalizedAds:{c:Zd},banner:{c:Zd},clickType:{c:Zd},clickLocation:{c:Zd},clickMetadata:{c:Zd},contentDetail:{c:Zd},displayPrice:{c:Zd},exitClick:{c:Zd},findingMethod:{c:Zd},formAction:{c:Zd},formLocation:{c:Zd},genre:{c:Zd},maturity:{c:Zd},networkName:{c:Zd},playerId:{c:Zd},productClassification1:{c:Zd},productClassification2:{c:Zd},productClassification3:{c:Zd},productName:{c:Zd},productSku:{c:Zd},publisher:{c:Zd},recCampaign:{c:Zd},releaseDate:{c:Zd},searchFilter:{c:Zd,collection:{c:Zd}},searchTerm:{c:Zd},sortOrder:{c:Zd,collection:{c:Zd}},videoType:{c:Zd},videoFormat:{c:Zd},videoId:{c:Zd},videoSeasonNum:{c:Zd},videoTitle:{c:Zd},videoEpisodeName:{c:Zd},videoEpisodeNum:{c:Zd},searchCampaign:{type:Yd,c:Zd},searchPosition:{type:Qd,c:Zd,sbahn:{alias:"searchPosition_commerce"}},accessToken:{type:Qd,c:Xd},adType:{type:Qd,c:Zd},cartEventType:{type:Qd,c:Zd},catHierarchy:{type:Qd,c:Zd},downloadStatus:{type:Qd,c:Zd},entryPoint:{type:Qd,c:Zd},focus:{type:Qd,c:Zd},interactType:{type:Qd,c:Zd},isRedownload:{type:Yd,c:Zd},isSuggested:{type:Yd,c:Zd},itemCount:{type:qd,c:Zd},kamajiEventType:{type:Qd,c:Zd},layoutId:{type:Qd,c:Zd},menuContext:{type:Qd,c:Zd},pageName:{type:Qd,c:Zd},pageNumber:{type:qd,c:Zd},playGoType:{type:Qd,c:Zd},productId:{type:Qd,c:Zd},recommendationType:{type:qd,c:Zd},resultCount:{type:qd,c:Zd},sourceContext:{type:Qd,c:Zd},eaMemberAccess:{type:Qd,c:Zd},userGenes:{type:Qd,c:Zd},userType:{type:Qd,c:Zd},vAmount:{type:Qd,c:Zd},vCode:{type:Qd,c:Zd},vId:{type:Qd,c:Zd},vType:{type:Qd,c:Zd}}},Impression:{c:Zd,properties:{bannerType:{c:Zd},banners:{c:Zd,collection:{c:Zd}},recommendations:{collection:{c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}},c:Zd},transaction:{c:Zd,properties:{currencyCode:{c:Zd},paymentMethod:{c:Zd},products:{c:Zd,collection:{c:Zd,properties:{campaignId:{type:Qd,c:Zd},discountSubType:{type:Qd,c:Zd},discountType:{type:Qd,c:Zd},displayPrice:{type:Qd,c:Zd},findingMethod:{c:Zd},imageUrl:{type:Qd,c:Zd},itemId:{type:Qd,c:Zd},itemPrice:{type:qd,c:Zd},itemSubtype:{type:Qd,c:Zd},itemType:{type:Qd,c:Zd},merchCategory:{c:Zd},name:{c:Zd},quantity:{c:Zd},recCampaign:{c:Zd},recContext:{type:Qd,c:Zd},recUuid:{type:Qd,c:Zd},rewardId:{type:Qd,c:Zd},sku:{c:Zd},totalPrice:{c:Zd},totalRevenue:{c:Zd},trackContentType:{type:Qd,c:Zd}}}},transactionID:{c:Zd},type:{c:Zd}}},recommendation:{_include:["recommendation"],c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}},accessToken:{type:Qd,c:Xd},adType:{type:Qd,c:Zd},categoryId:{type:Qd,c:Zd},catHierarchy:{type:Qd,c:Zd},focus:{type:Qd,c:Zd},isSuggested:{type:Yd,c:Zd},kamajiEventType:{type:Qd,c:Zd},menuContext:{type:Qd,c:Zd},pageName:{type:Qd,c:Zd},pageNumber:{type:Qd,c:Zd},productId:{type:Qd,c:Zd},recommendationType:{type:qd,c:Zd},resultCount:{type:qd,c:Zd},sourceContext:{type:Qd,c:Zd},eaMemberAccess:{type:Qd,c:Zd},userGenes:{type:Qd,c:Zd},userType:{type:Qd,c:Zd}}},VideoStream:{c:Zd,properties:{banners:{c:Zd,collection:{c:Zd}},currentViewedTime:{c:Zd},displayPrice:{c:Zd},elapsedTime:{type:zd,c:Zd},genre:{c:Zd},maturity:{c:Zd},networkName:{c:Zd},playerId:{c:Zd},releaseDate:{c:Zd},streamType:{c:Zd},totalViewedTime:{type:zd,c:Zd},videoAction:{c:Zd},videoDuration:{type:zd,c:Zd},videoEpisodeName:{c:Zd},videoEpisodeNum:{c:Zd},videoFormat:{c:Zd},videoId:{c:Zd},videoSeasonNum:{c:Zd},videoTitle:{c:Zd},videoType:{c:Zd},videoUrl:{c:Zd},windowMode:{c:Zd},accessToken:{type:Qd,c:Xd},appVer:{type:Qd,c:Zd},drmContentId:{type:Qd,c:Zd},focus:{type:Qd,c:Zd},kamajiEventType:{type:Qd,c:Zd},playBackMethod:{type:Qd,c:Zd},eaMemberAccess:{type:Qd,c:Zd},userType:{type:Qd,c:Zd}}},PageView:{c:Zd,properties:{recommendation:{_include:["recommendation"],c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}},recommendations:{c:Zd,collection:{c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}}},tile:{_include:["tile"],c:Zd,properties:{campaignId:{c:Zd},ctaType:{c:Zd},productTitle:{c:Zd},sponsored:{c:Zd},tileAuthor:{c:Zd},tileCaption:{c:Zd},tileId:{c:Zd},tileLanguage:{c:Zd},tileTitle:{c:Zd},tileTrackingId:{c:Zd},tileType:{c:Zd},tilePosition:{c:Zd}}},tiles:{c:Zd},transaction:{c:Zd,properties:{currencyCode:{c:Zd},paymentMethod:{c:Zd},products:{c:Zd,collection:{c:Zd,properties:{campaignId:{type:Qd,c:Zd},coverContextType:{type:Qd,c:Zd},discountAmt:{type:Qd,c:Zd},discountCode:{type:Qd,c:Zd},discountSubType:{type:Qd,c:Zd},discountType:{type:Qd,c:Zd},displayPrice:{type:Qd,c:Zd},findingMethod:{c:Zd},imageUrl:{type:Qd,c:Zd},itemId:{type:Qd,c:Zd},itemPrice:{type:qd,c:Zd},itemSubtype:{type:Qd,c:Zd},itemType:{type:Qd,c:Zd},merchCategory:{c:Zd},name:{c:Zd},pstpCampaign:{c:Zd},quantity:{c:Zd},recAnchor:{c:Zd},recCampaign:{c:Zd},recContext:{type:Qd,c:Zd},revFindingMethod:{type:Qd,c:Zd},rewardId:{type:Qd,c:Zd},totalPrice:{c:Zd},totalRevenue:{c:Zd},trackContentType:{type:Qd,c:Zd},sku:{c:Zd}}}},transactionID:{c:Zd},type:{c:Zd}}},banners:{c:Zd,collection:{c:Zd}},bannerType:{c:Zd},clickType:{c:Zd},contentDetail:{c:Zd},displayPrice:{c:Zd},experienceId:{c:Zd},formAction:{c:Zd},formLocation:{c:Zd},genre:{c:Zd},loadTime:{c:Zd},marketingCampaign:{c:Zd},maturity:{c:Zd},productClassification1:{c:Zd},productClassification2:{c:Zd},productClassification3:{c:Zd},productName:{c:Zd},productSku:{c:Zd},productType:{c:Zd},publisher:{c:Zd},referrerLocation:{c:Zd},releaseDate:{c:Zd},searchCampaign:{c:Zd},searchPosition:{type:Qd,c:Zd,sbahn:{alias:"searchPosition_commerce"}},searchResult:{c:Zd},searchTerm:{c:Zd},searchCount:{c:Zd},userGenes:{c:Zd},viewCollectionId:{c:Zd},viewIds:{c:Zd,collection:{c:Zd}},searchFilter:{type:Wd,c:Zd,collection:{type:Qd,c:Zd}},sortOrder:{type:Wd,c:Zd,collection:{type:Qd,c:Zd}},oskZeroStateResult:{type:Yd,c:Zd},accessToken:{type:Qd,c:Xd},catHierarchy:{type:Qd,c:Zd},eaMemberAccess:{type:Qd,c:Zd},eaAccessIsVaultPurchase:{type:Yd,c:Zd},eaAccessIsPFTPurchase:{type:Yd,c:Zd},entryPoint:{type:Qd,c:Zd},etsId:{type:Qd,c:Zd},focus:{type:Qd,c:Zd},fundingInformation:{type:Qd,c:Zd},itemCount:{type:qd,c:Zd},itemIds:{type:Wd,c:Zd,collection:{c:Zd,type:Qd}},kamajiEventType:{type:Qd,c:Zd},layoutId:{type:Qd,c:Zd},menuContext:{type:Qd,c:Zd},pageName:{type:Qd,c:Zd},pageNumber:{type:qd,c:Zd},personalizations:{type:Wd,c:Zd,collection:{c:Zd,type:Qd}},purchaseType:{type:qd,c:Zd},resultCount:{type:qd,c:Zd},searchType:{type:Qd,c:Zd},userType:{type:Qd,c:Zd},walletFundingValue:{type:qd,c:Zd},memorySnapshot:{type:Qd,c:Xd},visitedLocations:{type:Qd,c:Xd}}}}},monaco:{events:{UserFacingError:{c:Zd,properties:{errorMetadata:{c:Zd,properties:{appCacheStatus:{type:qd,c:Zd},appName:{type:Qd,c:Zd},errApps:{type:Wd,c:Zd,collection:{type:Kd,c:Zd,properties:{title_id:{c:Zd,type:Qd},name:{c:Zd,type:Qd}}}},filename:{type:Qd,c:Zd},imgUrl:{type:Qd,c:Zd},message:{type:Qd,c:Zd},method:{type:Qd,c:Zd},newStrandSize:{type:qd,c:Zd},oldStrandSize:{type:qd,c:Zd},pageName:{type:Qd,c:Zd},readyState:{type:qd,c:Zd},responseMsg:{type:Qd,c:Zd},result:{type:Qd,c:Zd},retries:{type:qd,c:Zd},strandId:{type:Qd,c:Zd},vshVersion:{type:Qd,c:Zd}}}}},MonacoCustomEvent:{_include:["baseEvent"],type:Kd,c:Xd,properties:{strandId:{type:Qd,c:Xd},tilePosition:{type:Qd,c:Xd},contentId:{type:Qd,c:Xd},strandPosition:{type:Qd,c:Xd},partnerNpTitleId:{type:Qd,c:Xd},contentType:{type:Qd,c:Xd},contentName:{type:Qd,c:Xd},page:{type:Qd,c:Xd},partnerName:{type:Qd,c:Xd},totalNumberOfStrands:{type:Qd,c:Xd},country:{type:Qd,c:Xd},language:{type:Qd,c:Xd},searchState:{type:Qd,c:Xd},searchTerm:{type:Qd,c:Xd}}}}},titan:{events:{UserFacingError:{c:Zd,properties:{errorMetadata:{properties:{appName:{type:Qd,c:Zd},url:{type:Qd,c:Xd},method:{type:Qd,c:Zd},message:{type:Qd,c:Zd},vshVersion:{type:Qd,c:Zd}},c:Zd}}}}},blackbird:{events:{Click:{properties:{kamajiEventType:{type:Qd,c:Xd},searchPosition:{type:qd,c:Xd},cust05:{type:Qd,c:Xd},cust06:{type:Qd,c:Xd},cust07:{type:qd,c:Xd,sbahn:{alias:"cust07_blackbird"}},cust15:{type:Qd,c:Xd},userType:{type:Qd,c:Xd},searchType:{type:Qd,c:Xd},resultCount:{type:qd,c:Xd},searchIndex:{type:qd,c:Xd},entryPoint:{type:Qd,c:Xd},refSource:{type:Qd,c:Xd},sourceContext:{type:Qd,c:Xd},destContext:{type:Qd,c:Xd},interactType:{type:Qd,c:Xd},galleryViewButtonType:{type:Qd,c:Xd},titleId:{type:Qd,c:Xd},actorOnlineId:{type:Qd,c:Xd},relatedOnlineIds:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},accessToken:{type:Qd,c:Xd},focus:{type:Qd,c:Xd},action:{type:qd,c:Xd},messageId:{type:Qd,c:Xd},currentPageUrl:{type:Qd,c:Xd},isPlusUser:{type:qd,c:Xd,sbahn:{alias:"isPlusUser_blackbird"}},storyType:{type:Qd,c:Xd}}},Impression:{properties:{kamajiEventType:{type:Qd,c:Xd},isPlusUser:{type:qd,c:Xd,sbahn:{alias:"isPlusUser_blackbird"}},focus:{type:Qd,c:Xd},cust15:{type:Qd,c:Xd},userType:{type:Qd,c:Xd},productId:{type:Qd,c:Xd},action:{type:qd,c:Xd},sourceContext:{type:Qd,c:Xd},destContext:{type:Qd,c:Xd},interactType:{type:Qd,c:Xd},actorOnlineId:{type:Qd,c:Xd},relatedOnlineIds:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},galleryViewButtonType:{type:Qd,c:Xd},communityId:{type:Qd,c:Xd},backgroundPicture:{type:qd,c:Xd},communityName:{type:Qd,c:Xd},missionStatement:{type:qd,c:Xd},privacy:{type:qd,c:Xd},profilePicture:{type:qd,c:Xd},timezone:{type:Qd,c:Xd},messageAttached:{type:qd,c:Xd},onlineIdAffected:{type:Qd,c:Xd},attachmentTypeId:{type:qd,c:Xd},titleId:{type:Qd,c:Xd},messageId:{type:Qd,c:Xd},originalMessageId:{type:Qd,c:Xd},accessToken:{type:Qd,c:Xd},impressionType:{type:Qd,c:Xd},storyId:{type:Qd,c:Xd},plusUserAffected:{type:qd,c:Xd},role:{type:qd,c:Xd},notificationSettings:{type:Qd,c:Xd},expId:{type:Qd,c:Xd},itemId:{type:Qd,c:Xd},entryPoint:{type:Qd,c:Xd},cust05:{type:Qd,c:Xd},cust10:{type:Qd,c:Xd},cust16:{type:Qd,c:Xd},cust19:{type:Qd,c:Xd},pageUrl:{type:Qd,c:Xd},storyType:{type:Qd,c:Xd}}},VideoStream:{properties:{kamajiEventType:{type:Qd,c:Xd},isPlusUser:{type:qd,c:Xd,sbahn:{alias:"isPlusUser_blackbird"}},focus:{type:Qd,c:Xd},accessToken:{type:Qd,c:Xd},contentPageUrl:{type:Qd,c:Xd},userType:{type:Qd,c:Xd},pcnt:{type:qd,c:Xd},playBackMethod:{type:Qd,c:Xd},playBackMode:{type:Qd,c:Xd},ipAddress:{type:Qd,c:Xd},contentType:{type:Qd,c:Xd},pageUrl:{type:Qd,c:Xd},refSource:{type:Qd,c:Xd},userAgent:{type:Qd,c:Xd},videoUrl:{type:Qd,c:Xd},itemId:{type:Qd,c:Xd},entryPoint:{type:Qd,c:Xd}}}}},feeds:{events:{Click:{properties:{friendTagsList:{type:Qd,c:Xd},storyId:{type:Qd,c:Xd},titleId:{type:Qd,c:Xd}}}}},apollo2:{events:{Click:{properties:{code:{type:Qd,c:Xd},description:{type:Qd,c:Xd},componentCode:{type:Qd,c:Xd},clientSessionId:{type:Qd,c:Xd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:Qd,c:Xd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Xd},loadTime:{type:Jd,c:Xd},locale:{type:Qd,c:Xd,sbahn:{alias:"locale_apollo2"}},membershipType:{type:Qd,c:Xd},networkType:{type:Qd,c:Xd,sbahn:{alias:"networkType_apollo2"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Xd},displayEstimatedWaitTimeOnOpen:{type:Jd,c:Xd},displayEstimatedWaitTimeOnOpenMS:{type:Jd,c:Xd},displayPlaceInLineOnOpen:{type:Jd,c:Xd},displayQueuePosition:{type:Jd,c:Xd},displayWaitTimeEstimate:{type:Qd,c:Xd},ESRBRating:{type:Qd,c:Xd},gameIndex:{type:Jd,c:Xd},Genre:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},productId:{type:Qd,c:Xd},queuePosition:{type:Jd,c:Xd},oskZeroStateResult:{type:Yd,c:Xd},searchInvalidTerm:{type:Qd,c:Xd},searchResults:{type:Jd,c:Xd},searchPosition:{type:Jd,c:Xd},searchCount:{type:Jd,c:Xd},sku:{type:Qd,c:Xd},Sort:{type:Qd,c:Xd},SwitchToProductID:{type:Qd,c:Xd},catalogId:{type:Qd,c:Xd},catalogTrackingId:{type:Qd,c:Xd},tile:{type:Kd,c:Xd,properties:{productId:{type:Qd,c:Xd},rowPosition:{type:qd,c:Xd},parentId:{type:Qd,c:Xd},parentTitle:{type:Qd,c:Xd},parentTrackingId:{type:Qd,c:Xd}}},userInitiated:{type:Yd,c:Xd},waitTimeErrorMargin:{type:Jd,c:Xd},waitTimeErrorMarginPct:{type:Jd,c:Xd},waitTimeEstimate:{type:Jd,c:Xd},enabledFeatureFlags:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},downloadHistoryCount:{type:Jd,c:Xd}}},LoadTime:{properties:{code:{type:Qd,c:Zd},description:{type:Qd,c:Zd},componentCode:{type:Qd,c:Zd},clientSessionId:{type:Qd,c:Zd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:Qd,c:Zd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Zd},locale:{type:Qd,c:Zd,sbahn:{alias:"locale_apollo2"}},membershipType:{type:Qd,c:Zd},networkType:{type:Qd,c:Zd,sbahn:{alias:"networkType_apollo2"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Zd}}},PageView:{properties:{code:{type:Qd,c:Xd},description:{type:Qd,c:Xd},componentCode:{type:Qd,c:Xd},clientSessionId:{type:Qd,c:Xd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:Qd,c:Xd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Xd},loadTime:{type:zd,c:Xd},locale:{type:Qd,c:Xd,sbahn:{alias:"locale_apollo2"}},membershipType:{type:Qd,c:Xd},networkType:{type:Qd,c:Xd,sbahn:{alias:"networkType_apollo2"}},platform:{type:Qd,c:Xd},productId:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Xd},viewCollectionName:{type:Qd,c:Xd}}},UserFacingError:{properties:{code:{type:Qd,c:Zd},description:{type:Qd,c:Zd},componentCode:{type:Qd,c:Zd},clientSessionId:{type:Qd,c:Zd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:Qd,c:Zd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Zd},locale:{type:Qd,c:Zd,sbahn:{alias:"locale_apollo2"}},membershipType:{type:Qd,c:Zd},networkType:{type:Qd,c:Zd,sbahn:{alias:"networkType_apollo2"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Zd},deeplinkUri:{type:Qd,c:Xd},productId:{type:Qd,c:Xd},productName:{type:Qd,c:Xd},errorMetadata:{type:Kd,c:Zd,properties:{appendedName:{type:Qd,c:Zd},code:{type:Qd,c:Zd},col:{type:Qd,c:Zd},error:{type:Qd,c:Zd},lineNum:{type:Qd,c:Zd},message:{type:Qd,c:Zd},name:{type:Qd,c:Zd},position:{type:Jd,c:Zd},query:{type:Qd,c:Zd},stack:{type:Qd,c:Zd},totalSize:{type:Jd,c:Zd},payload:{type:Kd,c:Zd,properties:{eventCode:{type:Qd,c:Zd},name:{type:Qd,c:Zd}}}}}}},Dwell:{properties:{code:{type:Qd,c:Xd},description:{type:Qd,c:Xd},componentCode:{type:Qd,c:Xd},clientSessionId:{type:Qd,c:Xd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_apollo2"}},componentVersion:{type:Qd,c:Xd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Xd},locale:{type:Qd,c:Xd,sbahn:{alias:"locale_apollo2"}},membershipType:{type:Qd,c:Xd},networkType:{type:Qd,c:Xd,sbahn:{alias:"networkType_apollo2"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Xd}}}}},"psnow-auto-renew":{events:{Click:{properties:{code:{type:Qd,c:Xd},description:{type:Qd,c:Xd},componentCode:{type:Qd,c:Xd},clientSessionId:{type:Qd,c:Xd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_psnowautorenew"}},componentVersion:{type:Qd,c:Xd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Xd},loadTime:{type:Jd,c:Xd},locale:{type:Qd,c:Xd,sbahn:{alias:"locale_psnowautorenew"}},membershipType:{type:Qd,c:Xd},networkType:{type:Qd,c:Xd,sbahn:{alias:"networkType_psnowautorenew"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},stringValue:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Xd}}},PageView:{properties:{code:{type:Qd,c:Xd},description:{type:Qd,c:Xd},componentCode:{type:Qd,c:Xd},clientSessionId:{type:Qd,c:Xd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_psnowautorenew"}},componentVersion:{type:Qd,c:Xd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Xd},loadTime:{type:zd,c:Xd},locale:{type:Qd,c:Xd,sbahn:{alias:"locale_psnowautorenew"}},membershipType:{type:Qd,c:Xd},networkType:{type:Qd,c:Xd,sbahn:{alias:"networkType_psnowautorenew"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},stringValue:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Xd}}},UserFacingError:{properties:{code:{type:Qd,c:Zd},description:{type:Qd,c:Zd},componentCode:{type:Qd,c:Zd},clientSessionId:{type:Qd,c:Zd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_psnowautorenew"}},componentVersion:{type:Qd,c:Zd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Zd},locale:{type:Qd,c:Zd,sbahn:{alias:"locale_psnowautorenew"}},membershipType:{type:Qd,c:Zd},networkType:{type:Qd,c:Zd,sbahn:{alias:"networkType_psnowautorenew"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},stringValue:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Zd}}},LoadTime:{properties:{code:{type:Qd,c:Zd},description:{type:Qd,c:Zd},componentCode:{type:Qd,c:Zd},clientSessionId:{type:Qd,c:Zd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_psnowautorenew"}},componentVersion:{type:Qd,c:Zd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Zd},locale:{type:Qd,c:Zd,sbahn:{alias:"locale_psnowautorenew"}},membershipType:{type:Qd,c:Zd},networkType:{type:Qd,c:Zd,sbahn:{alias:"networkType_psnowautorenew"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Zd}}}}},"psnow-player-menu":{events:{Click:{properties:{code:{type:Qd,c:Xd},description:{type:Qd,c:Xd},componentCode:{type:Qd,c:Xd},clientSessionId:{type:Qd,c:Xd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_psnowplayermenu"}},componentVersion:{type:Qd,c:Xd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Xd},loadTime:{type:Jd,c:Xd},locale:{type:Qd,c:Xd,sbahn:{alias:"locale_psnowplayermenu"}},membershipType:{type:Qd,c:Xd},networkType:{type:Qd,c:Xd,sbahn:{alias:"networkType_psnowplayermenu"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Xd},newValue:{type:Jd,c:Xd},oldValue:{type:Jd,c:Xd}}},PageView:{properties:{code:{type:Qd,c:Xd},description:{type:Qd,c:Xd},componentCode:{type:Qd,c:Xd},clientSessionId:{type:Qd,c:Xd},apiUrl:{type:Qd,c:Xd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_psnowplayermenu"}},componentVersion:{type:Qd,c:Xd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Xd},loadTime:{type:zd,c:Xd},locale:{type:Qd,c:Xd,sbahn:{alias:"locale_psnowplayermenu"}},membershipType:{type:Qd,c:Xd},networkType:{type:Qd,c:Xd,sbahn:{alias:"networkType_psnowplayermenu"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Xd}}},UserFacingError:{properties:{code:{type:Qd,c:Zd},description:{type:Qd,c:Zd},componentCode:{type:Qd,c:Zd},clientSessionId:{type:Qd,c:Zd},appName:{type:Qd,c:Xd,sbahn:{alias:"appName_psnowplayermenu"}},componentVersion:{type:Qd,c:Zd},eventSource:{type:Qd,c:Xd},isHomeshare:{type:Yd,c:Xd},isMember:{type:Yd,c:Xd},line:{type:Qd,c:Zd},locale:{type:Qd,c:Zd,sbahn:{alias:"locale_psnowplayermenu"}},membershipType:{type:Qd,c:Zd},networkType:{type:Qd,c:Zd,sbahn:{alias:"networkType_psnowplayermenu"}},platform:{type:Qd,c:Xd},SMCID:{type:Qd,c:Xd},streamSessionId:{type:Qd,c:Xd},subscriptionSku:{type:Qd,c:Xd},vshVersion:{type:Qd,c:Zd}}}}},"valkyrie-storefront":{events:{Click:{_include:["baseEvent"],c:Zd,properties:{recommendation:{c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}},tile:{c:Zd,properties:{campaignId:{c:Zd},ctaType:{c:Zd},productTitle:{c:Zd},sponsored:{c:Zd},tileAuthor:{c:Zd},tileCaption:{c:Zd},tileId:{c:Zd},tileLanguage:{c:Zd},tileTitle:{c:Zd},tileTrackingId:{c:Zd},tileType:{c:Zd},tilePosition:{c:Zd}}},tiles:{c:Zd},transaction:{c:Zd,properties:{currencyCode:{c:Zd},paymentMethod:{c:Zd},products:{c:Zd,collection:{c:Zd,properties:{findingMethod:{c:Zd},merchCategory:{c:Zd},name:{c:Zd},pstpCampaign:{c:Zd},quantity:{c:Zd},recAnchor:{c:Zd},recCampaign:{c:Zd},totalPrice:{c:Zd},totalRevenue:{c:Zd},sku:{c:Zd},walletRevenue:{c:Zd},promotionalMarketingRevenue:{c:Zd},totalDiscount:{c:Zd},voucherValue:{c:Zd,type:Jd}}}},transactionID:{c:Zd},type:{c:Zd}}},allowAdditionalData:{c:Zd},allowPersonalizedRecs:{c:Zd},allowPersonalizedAds:{c:Zd},banner:{c:Zd},clickType:{c:Zd},clickLocation:{c:Zd},clickMetadata:{c:Zd},contentDetail:{c:Zd},displayPrice:{c:Zd},eaMemberAccess:{type:Qd,c:Zd},exitClick:{c:Zd},findingMethod:{c:Zd},formAction:{c:Zd},formLocation:{c:Zd},genre:{c:Zd},maturity:{c:Zd},networkName:{c:Zd},playerId:{c:Zd},productClassification1:{c:Zd},productClassification2:{c:Zd},productClassification3:{c:Zd},productName:{c:Zd},productSku:{c:Zd},publisher:{c:Zd},recCampaign:{c:Zd},releaseDate:{c:Zd},searchFilter:{c:Zd,collection:{c:Zd}},searchTerm:{c:Zd},sortOrder:{c:Zd,collection:{c:Zd}},videoType:{c:Zd},videoFormat:{c:Zd},videoId:{c:Zd},videoSeasonNum:{c:Zd},videoTitle:{c:Zd},videoEpisodeName:{c:Zd},videoEpisodeNum:{c:Zd}}},Impression:{c:Zd,properties:{bannerType:{c:Zd},banners:{c:Zd,collection:{c:Zd}},recommendations:{collection:{c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}},c:Zd},transaction:{c:Zd,properties:{currencyCode:{c:Zd},paymentMethod:{c:Zd},products:{c:Zd,collection:{c:Zd,properties:{findingMethod:{c:Zd},merchCategory:{c:Zd},name:{c:Zd},quantity:{c:Zd},recCampaign:{c:Zd},sku:{c:Zd},totalPrice:{c:Zd},totalRevenue:{c:Zd},walletRevenue:{c:Zd},promotionalMarketingRevenue:{c:Zd},totalDiscount:{c:Zd},voucherValue:{c:Zd,type:Jd}}}},transactionID:{c:Zd},type:{c:Zd}}},recommendation:{_include:["recommendation"],c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}},eaMemberAccess:{type:Qd,c:Zd}}},PageView:{_include:["baseEvent"],c:Zd,properties:{recommendation:{_include:["recommendation"],c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}},recommendations:{c:Zd,collection:{c:Zd,properties:{name:{c:Zd},sku:{c:Zd}}}},tile:{_include:["tile"],c:Zd,properties:{campaignId:{c:Zd},ctaType:{c:Zd},productTitle:{c:Zd},sponsored:{c:Zd},tileAuthor:{c:Zd},tileCaption:{c:Zd},tileId:{c:Zd},tileLanguage:{c:Zd},tileTitle:{c:Zd},tileTrackingId:{c:Zd},tileType:{c:Zd},tilePosition:{c:Zd}}},tiles:{c:Zd},transaction:{c:Zd,properties:{currencyCode:{c:Zd},paymentMethod:{c:Zd},products:{c:Zd,collection:{c:Zd,properties:{findingMethod:{c:Zd},merchCategory:{c:Zd},name:{c:Zd},pstpCampaign:{c:Zd},quantity:{c:Zd},recAnchor:{c:Zd},recCampaign:{c:Zd},totalPrice:{c:Zd},totalRevenue:{c:Zd},sku:{c:Zd},walletRevenue:{c:Zd},promotionalMarketingRevenue:{c:Zd},totalDiscount:{c:Zd},voucherValue:{c:Zd,type:Jd}}}},transactionID:{c:Zd},type:{c:Zd}}},banners:{c:Zd,collection:{c:Zd}},bannerType:{c:Zd},clickType:{c:Zd},contentDetail:{c:Zd},displayPrice:{c:Zd},eaMemberAccess:{type:Qd,c:Zd},eaAccessIsVaultPurchase:{type:Yd,c:Zd},eaAccessIsPFTPurchase:{type:Yd,c:Zd},experienceId:{c:Zd},formAction:{c:Zd},formLocation:{c:Zd},genre:{c:Zd},loadTime:{c:Zd},marketingCampaign:{c:Zd},maturity:{c:Zd},productClassification1:{c:Zd},productClassification2:{c:Zd},productClassification3:{c:Zd},productName:{c:Zd},productSku:{c:Zd},productType:{c:Zd},publisher:{c:Zd},referrerLocation:{c:Zd},releaseDate:{c:Zd},searchCampaign:{c:Zd},searchPosition:{type:Qd,c:Zd,sbahn:{alias:"searchPosition_valkyriestorefront"}},searchResult:{c:Zd},searchTerm:{c:Zd},userGenes:{c:Zd},viewCollectionId:{c:Zd},viewIds:{c:Zd,collection:{c:Zd}},searchFilter:{type:Wd,c:Zd,collection:{type:Qd,c:Zd}},sortOrder:{type:Wd,c:Zd,collection:{type:Qd,c:Zd}}}}}},"valkyrie-vue":{events:{UserFacingError:{properties:{errorMetadata:{properties:{amazonPay:{type:Yd,c:Xd},browser:{type:Kd,c:Xd,properties:{name:{type:Qd,c:Xd},version:{type:Qd,c:Xd}}},cobraCode:{type:Qd,c:Xd},httpStatus:{type:qd,c:Xd},dma:{type:Kd,c:Xd,properties:{dmaCode:{type:qd,c:Xd},dmaZipCode:{type:Qd,c:Xd}}},pathName:{type:Qd,c:Xd},presentation:{type:Qd,c:Xd},referrer:{type:Qd,c:Xd},routeName:{type:Qd,c:Xd}}},callStack:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}}}}}},chronos:{events:{Click:{c:Zd,properties:{clickType:{c:Zd},exitClick:{c:Zd},banner:{c:Zd}}},VideoStream:{c:Zd,properties:{streamType:{c:Zd},videoType:{c:Zd},videoFormat:{c:Zd},videoAction:{c:Zd},videoId:{c:Zd},playerId:{c:Zd},videoDuration:{c:Zd},elapsedTime:{c:Zd},banners:{c:Zd,collection:{c:Zd}}}},Impression:{c:Zd,properties:{bannerType:{c:Zd},banners:{c:Zd,collection:{c:Zd}}}}}},friends:{events:{Click:{_include:["baseEvent"],c:Xd,properties:{localUserId:{type:Qd,c:Xd},entryPoint:{type:qd,c:Xd,sbahn:{alias:"entryPoint_friends"}},receiversOnlineId:{type:Qd,c:Xd},targetOrigin:{type:qd,c:Xd},typeOfRelation:{type:qd,c:Xd},sourceContext:{type:qd,c:Xd,sbahn:{alias:"sourceContext_friends"}},buttonType:{type:qd,c:Xd},titleId:{type:Qd,c:Xd},numberOfUsers:{type:qd,c:Xd},maxNumberOfUsers:{type:qd,c:Xd}}},Impression:{_include:["baseEvent"],c:Xd,properties:{localUserId:{type:Qd,c:Xd},entryPoint:{type:qd,c:Xd,sbahn:{alias:"entryPoint_friends"}},buttonTypeList:{type:Wd,c:Xd,collection:{type:qd,c:Xd}},titleIdList:{type:Wd,c:Xd,collection:{type:Qd,c:Xd}},sourceContext:{type:qd,c:Xd,sbahn:{alias:"sourceContext_friends"}},numberOfRecomendedUsers:{type:qd,c:Xd}}},PageView:{_include:["baseEvent"],c:Xd,properties:{localUserId:{type:Qd,c:Xd},introductionScreenType:{type:qd,c:Xd}}}}},yaka:{events:{Hover:{_include:["baseEvent"],properties:{sourceContext:{type:Qd,c:Xd},cust04:{type:Qd,c:Xd},cust05:{type:Qd,c:Xd},cust06:{type:Qd,c:Xd},trackAction:{type:Qd,c:Xd}}},Click:{properties:{sourceContext:{type:Qd,c:Xd},cust04:{type:Qd,c:Xd},cust05:{type:Qd,c:Xd},cust06:{type:Qd,c:Xd},cust07:{type:Qd,c:Xd},cust08:{type:Qd,c:Xd},cust09:{type:Qd,c:Xd},cust10:{type:Qd,c:Xd},cust11:{type:Qd,c:Xd},trackAction:{type:Qd,c:Xd}}}}},unibeam:{events:{Click:{c:Zd,properties:{banner:{c:Zd},clickType:{c:Zd},exitClick:{c:Zd},tile:{c:Zd,properties:{campaignId:{c:Zd},productTitle:{c:Zd},tileAuthor:{c:Zd},tileId:{c:Zd},tilePosition:{c:Zd},tileTitle:{c:Zd},tileType:{c:Zd}}}}},Impression:{c:Zd,properties:{banners:{c:Zd,collection:{c:Zd}},bannerType:{c:Zd},tiles:{c:Zd,collection:{c:Zd,properties:{campaignId:{c:Zd},productTitle:{c:Zd},tileAuthor:{c:Zd},tileId:{c:Zd},tilePosition:{c:Zd},tileTitle:{c:Zd},tileType:{c:Zd}}}}}},VideoStream:{c:Zd,properties:{banners:{c:Zd,collection:{c:Zd}},elapsedTime:{c:Zd},playerId:{c:Zd},streamType:{c:Zd},tile:{c:Zd,properties:{campaignId:{c:Zd},productTitle:{c:Zd},tileAuthor:{c:Zd},tileId:{c:Zd},tilePosition:{c:Zd},tileTitle:{c:Zd},tileType:{c:Zd}}},videoAction:{c:Zd},videoDuration:{c:Zd},videoFormat:{c:Zd},videoType:{c:Zd},videoUrl:{c:Zd},windowMode:{c:Zd}}}}}}},e_=function e(t,n){var r={};return n._include&&(r=n._include.reduce((function(n,r){if(t[r]){var i=t[r]._include?e(t,t[r]):t[r];return Sy(n,i)}return n}),{})),delete(r=Sy(r,n))._include,r.properties&&Object.keys(r.properties).forEach((),r.collection&&(r.collection=e(t,r.collection)),r},t_=function(e,t){var n={};return Object.keys(t).forEach((),n},n_=function r_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i_=function(e,t){t.forEach((function(t){Sy(e,JSON.parse(JSON.stringify(t)))}))},o_=function(e){return e.map((function(e){return JSON.parse(JSON.stringify(e).replace(/"classification"/g,'"c"').replace(/"required"/g,'"r"').replace(/"optional"/g,'"o"').replace(/"string"/g,'"s"').replace(/"int"/g,'"i"').replace(/"float"/g,'"f"').replace(/"number"/g,'"n"').replace(/"object"/g,'"e"').replace(/"boolean"/g,'"b"').replace(/"array"/g,'"a"').replace(/"date"/g,'"d"'))}))},a_=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.overlaySetId,n=void 0===t?"":t,r=e.schemaOverlays,i=void 0===r?[]:r,o=e.defaultSchema,a=void 0===o?$d:o,c=e.disableDefaultSchema,s=void 0!==c&&c,u=e.logger,p=void 0===u?new fr:u;this._schema=s?{}:JSON.parse(JSON.stringify(a)),this._logger=p,this._overlaysNotification(i),i_(this._schema,this.getOverlaysForId(n)),i_(this._schema,o_(i)),this._schema.events=t_(this._schema.eventTemplates||{},this._schema.events||{}),this._schema.environment=n_(this._schema.environment||{})}var t,n,r,i=e.prototype;return i._overlaysNotification=function(e){0!==e.length&&this._logger.warning("Overlays are meant to be used only in testing environment, use overrideid instead for production.")},i.getSchemaForEvent=i.getOverlay=i.hasOverlay=function(e){return!wa((this.schema.overlays||{})[e])},i.getOverlayFilesIdsFor=function(e){if(!e)return[];if(!this.hasOverlay(e))return this._error("InvalidArgumentError: Overlay not found.",{overlayId:e}),[];var t=this.getOverlay(e);return De(t)?t:(this._error("TypeError: Overlay is not an Array of strings.",{overlayId:e,type:Object.prototype.toString.call(t)}),[])},i.getOverlayFile=function(e){if(this.schema.overlayFiles&&this.schema.overlayFiles[e]){var t=this.schema.overlayFiles[e];if(Ld(t))return t;this._error("TypeError: Overlay file is not an object.",{overlayFileId:e,type:Object.prototype.toString.call(t)})}else this._error("NotFoundError: Overlay file not found.",{overlayFileId:e})},i.getOverlaysForId=function(e){var t=this,n=this.getOverlayFilesIdsFor(e).map((function(e){return t.getOverlayFile(e)}));return Hd(n)},i._error=function(e,t){this.logger.error("".concat(e,"|").concat(JSON.stringify(t)))},t=e,(n=[{key:"schema",get:function(){return this._schema}},{key:"events",get:function(){return this._schema.events}},{key:"environment",get:function(){return this._schema.environment}},{key:"logger",get:function(){return this._logger}}])&&r_(t.prototype,n),r&&r_(t,r),e}();function c_(){return(c_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u_={_activeSchema:void 0,_remoteUpdate:{},disableDefaultSchema:!1,disableEventTypeCheck:!1,disableEventPrivacyFilter:!1,disableEnvironmentTypeCheck:!0,disableEnvironmentPrivacyFilter:!1,enabled:!0,filters:[],logger:void 0,overrideId:void 0,overlays:[]},p_=Object.keys(u_),l_=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c_(this,u_),this._fromObject(e),this._builtInSchema=$d,this._remoteUpdate=e.remoteUpdate||{},Object.seal(this)}var t,n,r,i=e.prototype;return i._invalidValue=function(e,t){var n="env.invalidValue: Invalid value for property ".concat(e,": ").concat(JSON.stringify(t),".");this.logger.warning(n)},i._fromObject=function(e){var t=this,n=Object.keys(e),r=Ra(n,p_);r.length&&this.logger.warning("schema.unknownOption: Unknown options in schema configuration.",{invalidKeys:r}),r.length?Fd(n,p_).forEach(():c_(this,e)},i._createRemoteSchema=i._createSchema=i._fetchLatest=function(){var e=this;this._remoteUpdate.fetchRemoteSchema().then((function(t){e._activeSchema=e._createRemoteSchema(t),e._remoteUpdate.save(t),e.logger.warning("Remote fetch succeeded!")})).catch(()},i._initializeSchema=function(){if(this._remoteUpdate.enabled){if(this._fetchLatest(),this._remoteUpdate.isCached)return this._createRemoteSchema(this._remoteUpdate.cachedSchema);this.overlays.length&&this.logger.warning("Overlays are ignored while remote update is enabled.")}return this._createSchema()},t=e,(n=[{key:"remoteUpdate",get:function(){return this._remoteUpdate}},{key:"activeSchema",get:,{key:"enabled",get:function(){return this._enabled},set:function(e){this._activeSchema=void 0,this._enabled=Boolean(e)}},{key:"filters",get:function(){return this._filters},set:function(e){this._filters=e}},{key:"disableDefaultSchema",get:function(){return this._disableDefault},set:function(e){this._activeSchema=void 0,this._disableDefault=Boolean(e)}},{key:"disableEventTypeCheck",get:function(){return this._disableEventTypeCheck},set:function(e){this._disableEventTypeCheck=Boolean(e)}},{key:"disableEnvironmentTypeCheck",get:function(){return this._disableEnvironmentTypeCheck},set:function(e){this._disableEnvironmentTypeCheck=Boolean(e)}},{key:"disableEventPrivacyFilter",get:function(){return this._disableEventPrivacyFilter},set:function(e){this._disableEventPrivacyFilter=Boolean(e)}},{key:"disableEnvironmentPrivacyFilter",get:function(){return this._disableEnvironmentPrivacyFilter},set:,{key:"overrideId",get:function(){return this._overrideId},set:function(e){this._overrideId=function(e){return _n(e)?e:Bd(e)&&Gd(e)?String(e):""}(e)}},{key:"overlays",get:function(){return this._overlays},set:function(e){if(this._activeSchema=void 0,!De(e))return this._invalidValue("overlays",e),void(this._overlays=[]);this._overlays=e}},{key:"logger",get:function(){return this._logger||(this._logger=new fr),this._logger},set:function(e){this._logger=e}}])&&s_(t.prototype,n),r&&s_(t,r),e}(),f_=y_=d_=__=v_=h_=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),E_=function(e){return h_.test(e)},g_="[\\ud800-\\udfff]",m_="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",I_="\\ud83c[\\udffb-\\udfff]",T_="[^\\ud800-\\udfff]",S_="(?:\\ud83c[\\udde6-\\uddff]){2}",A_="[\\ud800-\\udbff][\\udc00-\\udfff]",O_="(?:"+m_+"|"+I_+")?",b_="[\\ufe0e\\ufe0f]?",R_=b_+O_+"(?:\\u200d(?:"+[T_,S_,A_].join("|")+")"+b_+O_+")*",N_="(?:"+[T_+m_+"?",m_,S_,A_,g_].join("|")+")",C_=RegExp(I_+"(?="+I_+")|"+N_+R_,"g"),P_=w_=V_=/\s+$/,M_=function L_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D_=function(e){return _n(e)?e:Bd(e)&&Gd(e)?String(e):""},U_="remote-schema",k_=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._environment=e.remoteUpdateEnvironment||"e1-np",this._path=e.remoteUpdatePath||{np:"https://theia.dl.playstation.net/telemetry-config","e1-np":"https://theia.e1-np.dl.playstation.net/telemetry-config"},this.timeout=e.remoteUpdateFetchTimeout,this.enabled=e.remoteUpdateEnabled,this.fileName=e.remoteUpdateFileName,this._cacheKey=e.cacheKey||U_,this._cacheKey="".concat(this._cacheKey,".").concat(this.fileName.toLowerCase().replace(".json","")),this._cache=e.cache,this.logger=e.logger||new fr}var t,n,r,i=e.prototype;return i.save=i.fetchRemoteSchema=function(){var e=this;return new Promise((function(t,n){var r=new Td("GET",e.fetchUrl,{"Content-Type":"application/json; charset=utf-8"},(function(r,i,o){if(e.logger.info("Remote Fetch ".concat(r?"failed":"successful"," with ").concat(i)),r){var a=Error("RemoteFetch failed with message: ".concat(o));throw n(a),a}200===i&&t(o)}),{logger:e.logger});r.timeout=e.timeout,r.open(),e.logger.warn("Remote fetch invoked!")}))},t=e,(n=[{key:"isCached",get:,{key:"cachedSchema",get:function(){return this._cache?this._cache.get(this._cacheKey):{}}},{key:"fetchUrl",get:function(){if(void 0===this._path[this.environment])throw new Error("activeSchema.invalidEnvironment: invalid environment type supplied.");return"".concat(this._path[this.environment],"/").concat(this.fileName)}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=!f_(e)&&Boolean(e)}},{key:"NPPath",get:function(){return this._path.np},set:function(e){this._path.np=M_(D_(e),"/")}},{key:"E1Path",get:set:function(e){this._path["e1-np"]=M_(D_(e),"/")}},{key:"environment",get:function(){return this._environment},set:function(e){this._environment=M_(D_(e),"/")}},{key:"fileName",get:function(){return this._fileName},set:function(e){this._fileName=f_(e)?"default.json":D_(e)}},{key:"timeout",get:function(){return this._timeout},set:function(e){this._timeout=f_(e)||!Bd(e)?1e4:e}}])&&L_(t.prototype,n),r&&L_(t,r),e}(),F_={schema:{enabled:!0,cache:"cache.remoteSchema",cacheKey:void 0,remoteUpdateEnvironment:"e1-np",remoteUpdatePath:{np:"https://theia.dl.playstation.net/telemetry-config","e1-np":"https://theia.e1-np.dl.playstation.net/telemetry-config"},remoteUpdateEnabled:!1,remoteUpdateFileName:"default.json",remoteUpdateFetchTimeout:1e4},services:{aliases:{SchemaOptions:"/schema/schemaOptions",RemoteUpdate:"/schema/remoteUpdate","cache.remoteSchema":"/cache/cacheInterface"},factories:{"/schema/remoteUpdate":function(e){var t=e.get("config"),n=e.get("Logger"),r=t.schema||{},i={};return r.cacheKey&&(i.cacheKey=r.cacheKey),r.cache&&(i.cache=e.get(r.cache)),i.remoteUpdateEnvironment=r.remoteUpdateEnvironment,i.remoteUpdatePath=r.remoteUpdatePath,i.remoteUpdateEnabled=r.remoteUpdateEnabled,i.remoteUpdateFileName=r.remoteUpdateFileName,i.remoteUpdateFetchTimeout=r.remoteUpdateFetchTimeout,Ld(r)||(n.error("schemaOptions.invalidValue: Schema Options must be an object, or instance of SchemaOptions."),r={}),r.logger||(i.logger=n),new k_(i)},"/schema/schemaOptions":function(e){var t=e.get("config"),n=e.get("Logger"),r=e.get("/schema/remoteUpdate"),i=t.schema||{};if(Object.isExtensible(i)&&(i.remoteUpdate=r),i instanceof l_)return i;Ld(i)||(n.error("schemaOptions.invalidValue: Schema Options must be an object, or instance of SchemaOptions."),i={});var o=new l_(i);return i.logger||(o.logger=n),o}}}},j_=function(){function e(e){this._deprecationManager=e}var t=e.prototype;return t.apply=function(e){if(!e||!e.locale)return e;if(e.psnAccountLanguage||e.psnAccountRegion)return e;this.triggerDeprecation();var t=e.locale.split("_"),n=t[0]||void 0,r=t[1]||void 0,i=dn(e);return i.psnAccountLanguage=n,i.psnAccountRegion=r,delete i.locale,i},t.triggerDeprecation=function(){this._deprecationManager.trigger(new to({date:"2019-03-12",name:"environment.locale",description:'Please use "psnAccountLanguage" and "psnAccountRegion" instead of "locale".',overrideKey:"allowEnvironmentLocale"}))},e}(),G_=function(e){return JSON.stringify(e,(function(e,t){return"sdkInstance"===e?"sdkInstance":"_"!==e[0]?t:void 0}),2)},B_=function(){function e(){}return e.prototype.apply=function(e){if(!e)return e;if(!e.psnAccountRegion||!e.psnAccountLanguage)return e;var t=Bc(e.psnAccountLanguage).languageId.toLowerCase(),n=e.psnAccountRegion.toUpperCase(),r="".concat(t,"_").concat(n),i=dn(e);return i.locale=r,i},e}(),H_={telemetry:{_isUnifiedTelemetry:!1},services:{factories:{"/telemetry/serializer/defaultDebug":function(){return G_},"/telemetry/MigrateLocaleToPsnAccount":function(e){var t=e.get("/deprecation/deprecationManager");return new j_(t)},"/telemetry/BackFillLocaleFromPsnAccount":}},W_=function(){ar t=e.prototype;return t.isRequestAllowed=t.getSamplingPermilleForRequest=function(e,t){return this._result?1e3:0},e}(),Y_=function(e){return"number"===typeof e&&isFinite(e)},x_=function(e){return function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}(e,"Object")},K_=function(e){return void 0===e},z_=function(e){return Y_(e)&&e||function(e){return"string"===typeof e}(e)&&Number(e)||0};function q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J_=function(){function e(e,t){var n,r,i=null!==(r=null===(n=null===e||void 0===e?void 0:e.sampling)||void 0===n?void 0:n[t])&&void 0!==r?r:{},o=i.resolution,a=i.cutoffs;this._resolution=this.parseResolution(o),this._cutoffs=this.parseCutoffs(a)}var t,n,r,i=e.prototype;return i.parseResolution=function(e){return z_(e)},i.parseCutoffs=function(e){var t={};for(var n in e){var r=e[n];if(x_(r))for(var i in t[n]={},r)t[n][i]=z_(r[i])}return t},t=e,(n=[{key:"cutoffs",get:function(){return this._cutoffs}},{key:"resolution",get:function(){return this._resolution}}])&&q_(t.prototype,n),r&&q_(t,r),e}(),X_=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isAllowed=function(e,t,n){var r=this._idExtractor(e);if(!Y_(r))return!1;var i=r%t;return(n>=1e3||0!==i)&&i<=n},r}(function(){function e(e){var t;this._idExtractor=e.idExtractor,this._enableConfigPerDispatch=null!==(t=e.enableConfigPerDispatch)&&void 0!==t&&t,this._options=e.options,this._serviceId=e.serviceId}var t=e.prototype;return t.isAllowed=t.getOptions=function(e){return this._options&&!this._enableConfigPerDispatch||(this._options=new J_(e.config,this._serviceId)),this._options},t.isRequestAllowed=function(e,t){var n=e.eventMetadata.eventName,r=this.getOptions(e),i=r.resolution,o=r.cutoffs[t]||{};if(!K_(o[n]))return this.isAllowed(e,i,o[n]);if(!K_(o["*"]))return this.isAllowed(e,i,o["*"]);var a=r.cutoffs["*"]||{};return K_(a[n])?!K_(a["*"])&&this.isAllowed(e,i,a["*"]):this.isAllowed(e,i,a[n])},t.getSamplingPermilleForRequest=function(e,t){var n=e.eventMetadata.eventName,r=this.getOptions(e),i=r.cutoffs[t]||{};if(!K_(i[n]))return Math.floor(i[n]);if(!K_(i["*"]))return Math.floor(i["*"]);var o=r.cutoffs["*"]||{};return K_(o[n])?K_(o["*"])?0:Math.floor(o["*"]):Math.floor(o[n])},e}());function Z_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q_=function(e){var t,n;=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.isRequestAllowed=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=this.throttlers[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)if(!o.value.isRequestAllowed(e,t))return!1}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0},i.getSamplingPermilleForRequest=function(e,t){var n=1,r=!0,i=!1,o=void 0;try{for(var a,c=this.throttlers[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)n*=a.value.getSamplingPermilleForRequest(e,t)/1e3}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return 1e3*n},r}(function(){ar t,n,r;return t=e,(n=[{key:"throttlers",get:])&&Z_(t.prototype,n),r&&Z_(t,r),e}()),$_=function(e){var t,n=null===(t=null===e||void 0===e?void 0:e.config)||void 0===t?void 0:t.samplingChance;if(K_(n))throw new Error("[Telemetry][samplingChanceIdExtractor] samplingChance not defined in config");return 1e3*n};function ev(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tv(){return(tv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var nv=function(e,t){var n=function(e){if(!x_(e))return{};var t={};for(var n in e){var r=e[n];if(x_(r))for(var i in t[n]={},r){var o="*"!==i&&-1===i.indexOf(":")?"default:".concat(i):i;t[n][o]=1e3*z_(r[i])}}return t}(e.samplingThresholds);return tv(tv({},e),{sampling:tv(tv({},e.sampling),ev({},t,{resolution:1e3,cutoffs:n}))})},rv=[ed,nd,rd,id,od,cd,sd,ud,Id,Ad,Od,bd,Nd,Sd,F_,H_,{samplingThresholds:void 0,samplingChance:void 0,services:{factories:{"/throttler/ThrottlerInterface":function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Array.isArray(n.plugins)?n.plugins:[],i=r.map((function(t){return e.get(t)}));return 0===i.length?new W_(!0):1===i.length?i[0]:new Q_(i)},"/throttler/GctThrottler":function(e,t){var n,r=e.get("config"),i=r.samplingChance,o=r.samplingThresholds,a=!(K_(i)&&K_(o)),c=!K_(null===(n=null===r||void 0===r?void 0:r.sampling)||void 0===n?void 0:n[t]);if(!a&&!c)return new W_(!0);a&&(r=nv(r,t));var s=new J_(r,t);return new X_({idExtractor:$_,enableConfigPerDispatch:!1,options:s,serviceId:t})}}},sampling:{plugins:["/throttler/GctThrottler"]}}].reduce((function(e,t){return Sy(e,t)}),{});function iv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ov=function(){function e(e){this.eventLocalName=e.type,this.eventNamespace=void 0===e.namespace?"default":e.namespace}var t,n,r;return t=e,(n=[{key:"eventLocalName",get:function(){return this._eventLocalName},set:function(e){this._eventLocalName=e}},{key:"eventNamespace",get:function(){return this._eventNamespace},set:,{key:"eventName",get:])&&iv(t.prototype,n),r&&iv(t,r),e}();unction cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sv="platformPrivacyLevelChange",uv="signedInStateChange",pv={BasePlugin:Jc,AdobePlugin:qf,ClairvoyancePlugin:Xn,KamajiPlugin:Dn},lv={BaseEvent:Xf,ClickEvent:$f,ImpressionEvent:cy,LoadTimeEvent:sy,PageViewEvent:uy,StartupEvent:ly,UserFacingErrorEvent:fy,SearchEvent:py,DwellEvent:ry,VideoStreamEvent:dy,AdClickEvent:iy,AdImpressionEvent:oy,AdVideoStreamEvent:ay},fv=function(){function e(e){var t=this,n=[{},rv,e].reduce((,{});n.plugins=e.plugins,this._config=n,this._transitionMigrateRegistryPlugins(),this._sharedServices=new Qf(this.serviceLocator),this.serviceLocator.setService("config",n),this._validateTelemetryConfig(n),this.serviceLocator.setService("telemetryService",this),this._constructorInitPlatformPrivacyWs1(n.env||{}),this._constructorInitEnvironment(n.env||{}),this._sharedServices.logger.info("Resolved WS1 Setting.",{platformPrivacyLevel:this.platformPrivacyLevel}),this._lastPageView=void 0,Xf.setDispatcher(this.dispatch.bind(this)),this.initializeStaticDeprecationManager(),this._sharedServices.logger.debug("GCT Initialized.",(function(){var e=t.serviceLocator.get("/telemetry/serializer/defaultDebug");return{version:eu,config:e(t._config),filteredEnvironment:t.filteredEnvironment}}))}var t,n,r,i=e.prototype;return i._constructorInitEnvironment=function(e){this._requireValidEventEnvironment(e),this._legacyEnvironment=new xc(e),this._legacyEnvironmentControl=new Wc(this._legacyEnvironment,{logger:this._sharedServices.logger,deprecationManager:this._sharedServices.deprecationManager}),this._processEventEnvironmentLegacyConstructor(this._legacyEnvironment,this._legacyEnvironmentControl)},i._processEventEnvironmentLegacyConstructor=function(e,t){e.withPlatformPrivacyWs1(this.platformPrivacyLevel),t.compat_resolveUndefinedSignedIn(),t.compat_resolveConstructorSignedOut()},i._requireValidEventEnvironment=function(e){if(!this.environmentValidator.isValid(e))throw new Error(Array.from(this.environmentValidator.messages.values()).join("; "))},i._transitionMigrateRegistryPlugins=function(){var e=this,t=Object.keys(gy.PLUGINS);if(t.length){var n=this.serviceLocator;t.forEach((function(t){var r=e._pluginServiceKeyFor(t);if(n.has(r))throw new Error("The service ".concat(t," has been defined more than once."));var i=vy(t,gy.PLUGINS[t]);n._factories[r]=i}))}},i.initializeStaticDeprecationManager=i._validateTelemetryConfig=i._parsePlatformPrivacyLevel=function(e){return this._sharedServices.schemaOptions.enabled?Ty({env:e}):_o.EXEMPT},i._constructorInitPlatformPrivacyWs1=i.setSignedInState=function(e,t,n,r){return _n(t)?this._setSignedInStateV1(e,t,n,r):this._setSignedInStateV2(e,t,n,r)},i._setSignedInStateV2=function(e,t,n,r){this._legacyEnvironmentControl.compat_withUserSignedIn(e,void 0,n,r,t),this._sharedServices.eventManager.trigger(uv,this,{})},i._setSignedInStateV1=function(e,t,n,r){this._legacyEnvironmentControl.compat_withUserSignedIn(e,t,n,r,void 0),this._sharedServices.eventManager.trigger(uv,this,{})},i.setDMA=function(e){this._legacyEnvironmentControl.user_withDma(e)},i.setPostalCode=function(e){this._legacyEnvironmentControl.user_withPostalCode(e)},i.setNetworkType=function(e){this._legacyEnvironmentControl.platform_withNetworkType(e)},i.setUserSignedOut=function(){this._legacyEnvironmentControl.compat_withUserSignedOutBlankAssociated(),this._sharedServices.eventManager.trigger(uv,this,{})},i.setSignedOutState=i.updatePlusUserStatus=i.updatePSNowMembershipType=function(e){this._legacyEnvironmentControl.user_withPsNowMembershipType(e)},i.dispatch=i._processFallbackLocationFeature=function(e,t){if(!e))return t;var n=dn(t);return this._dispatchTrackPageView(n),n},i.dispatch2WithLog=function(e,t,n){e||this._sharedServices.logger.error("Attempting to dispatch null or undefined.");var r=this.dispatch2(e,t,n);return function(e,t){var n=t.inputEvent&&!t.filteredEvent,r={inputEvent:t.inputEvent,filteredEvent:t.filteredEvent,messages:[],payloads:{}};t.payloads.forEach((),n&&r.messages.push("Entire event was filtered."),e.debug("Dispatched Event",r)}(this._sharedServices.logger,r),r},i.dispatch2=function(e,t,n){var r=new ov(e);return this.dispatch3(e,t,n,r)},i.dispatch3=function(e,t,n,r){if(void 0!==r&&void 0!==r.eventLocalName||this._sharedServices.logger.error("eventMetaData eventLocalName can not be undefined."),void 0===e.type?e.type=r.eventLocalName:e.type!==r.eventLocalName&&this._sharedServices.logger.error("eventMetaData type conflict with inputEvent type."),!e)return new fi;e=this._processFallbackLocationFeature(n,e);var i=this._applyDeprecatedEnvironmentLocale(t),o=this._resolveActiveSchema(n,e),a=Ty({env:t}),c=this._resolveThrottler(n),s=Pa(this._sharedServices.identifiers,this._sharedServices.logger,this._sharedServices.schemaOptions,c,this.pluginInstances,this._uriCensor,this._isUnifiedTelemetry,a,e,i,n,r,o);return this.eventInspector.addEvent(s),s},i._resolveThrottler=function(e){return e===this._config?this._sharedServices.throttler:this._serviceLocator.build("/throttler/ThrottlerInterface",e.sampling)},i._applyDeprecatedEnvironmentLocale=function(e){var t=this._serviceLocator.get("/telemetry/MigrateLocaleToPsnAccount"),n=this._serviceLocator.get("/telemetry/BackFillLocaleFromPsnAccount"),r=t.apply(e);return r=n.apply(r)},i._resolveActiveSchema=function(e){var t=this._sharedServices.schemaOptions,n=t.activeSchema,r=t.overlays,i=(e.schema||{}).overrideId;if(this._isUnifiedTelemetry&&i&&n.hasOverlay(i)){if(this._schemaCache||(this._schemaCache=new Map),!this._schemaCache.has(i)){var o=new a_({defaultSchema:{},schemaOverlays:[].concat(av(r),av(n.getOverlaysForId(i))),disableDefaultSchema:!0});this._schemaCache.set(i,o)}return this._schemaCache.get(i)}return n},i.plugin=function(e){if(!this.pluginInstances[e])throw new Error("Plugin with name '".concat(e,"' has not been registered."));return this.pluginInstances[e]},i._plugins=function(){var e=this,t=[];return Object.keys(this.pluginInstances).forEach((),t},i._pluginServiceKeyFor=i._isPluginRegistered=i._validatePluginIds=function(e){var t=this;return Object.keys(e.plugins||[]).forEach((),!0},i._instantiatePlugins=function(e){var t=this;this._pluginInstances={};var n=e?Object.keys(e):[];n.length&&n.forEach((function(e){var n=t._pluginServiceKeyFor(e);t._isPluginRegistered(e)&&(t._pluginInstances[e]||(t._pluginInstances[e]=t.serviceLocator.get(n)))}))},i._dispatchTrackPageView=e.registerPlugin=function(t,n){var r=0!==Object.keys(gy.PLUGINS).filter((function(e){return e.toLocaleLowerCase()===t.toLocaleLowerCase()})).length,i=!e.__isPluginRegistered(t);if(r||!i)throw new Error("The plugin '".concat(t,"' is already registered!"));gy.register(e,t,n,"plugin")},e.unregisterPlugin=function(t){var n=Object.keys(gy.PLUGINS),r=0!==n.filter(().length,i=!e.__isPluginRegistered(t);!n.length||!r&&i||gy.unregister(e,t,"plugin")},e.__resetStaticState=function(){e.staticDeprecationManager.__resetState&&e.staticDeprecationManager.__resetState(),e._staticDeprecationManager=void 0,e._pushEventAccessDeprecation=!1,e._pushPluginAccessDeprecation=!1},e.__isPluginRegistered=e.__createTransitionPluginReference=function(t,n){e[t]=n,pv[t]=n},e.__createTransitionEventReference=i.getEventSchema=function(e,t){var n=new ov(e);return(this._resolveActiveSchema(t).events||{})["default"===n.eventNamespace?n.eventLocalName:n.eventName]||{}},t=e,r=[{key:"staticDeprecationManager",get:,{key:"VERSION",get:,{key:"Utils",get:function(){return zc}}],(n=[{key:"environmentValidator",get:function(){return this._environmentValidator||(this._environmentValidator=new Fc),this._environmentValidator}},{key:"serviceLocator",get:,{key:"eventManager",get:function(){return this._sharedServices.eventManager}},{key:"identifiers",get:function(){return this._sharedServices.identifiers}},{key:"eventInspector",get:function(){return this._sharedServices.eventInspector}},{key:"pluginInstances",get:function(){return void 0===this._pluginInstances&&this._instantiatePlugins(this.config.plugins),this._pluginInstances}},{key:"platformPrivacyLevel",get:function(){return this._platformPrivacyLevel},set:function(e){var t=e;ho(e)||(this._sharedServices.logger.error("InvalidArgument: Unknown value for platformPrivacyLevel. Using default of MINIMAL.",{level:e}),t=_o.MINIMAL),this._platformPrivacyLevel=t,this._legacyEnvironment.withPlatformPrivacyWs1(this._platformPrivacyLevel),this._sharedServices.eventManager.trigger(sv,this)}},{key:"filteredEnvironment",get:function(){var e=this._legacyEnvironment.value,t=this._serviceLocator.get("/telemetry/BackFillLocaleFromPsnAccount").apply(e),n=this.platformPrivacyLevel,r=this._sharedServices.schemaOptions,i=$o(r,n),o=qo(r.activeSchema,i,t);return Object.freeze(o)}},{key:"config",get:function(){return this._config.env=this.filteredEnvironment,this._config}},{key:"_uriCensor",get:,{key:"_isUnifiedTelemetry",get:])&&cv(t.prototype,n),r&&cv(t,r),e}();t.AGE_GROUP=Ua,t.API_STATUSES=ka,t.AdClickEvent=iy,t.AdImpressionEvent=oy,t.AdVideoStreamEvent=ay,t.AdobePlugin=qf,t.BANNER_TYPES=ja,t.BaseEvent=Xf,t.BasePlugin=Jc,t.CLICK_TYPES=Ga,t.COUNTRIES=Ba,t.ClairvoyancePlugin=Xn,t.ClickEvent=$f,t.DEVICES=Ha,t.DwellEvent=ry,t.FORM_ACTIONS=Wa,t.ImpressionEvent=cy,t.KamajiPlugin=Dn,t.LOCALES=Ya,t.LoadTimeEvent=sy,t.NETWORKS=xa,t.PAYMENT_METHODS=Ka,t.PERSONALIZED_ADS=za,t.PRODUCT_TYPES=Xa,t.PSNOW_TYPES=qa,t.PSPLUS_TYPES=Ja,t.PURCHASE_REC=Za,t.PageViewEvent=uy,t.REMOTE_UPDATE_ENVIRONMENT=Qa,t.SEVERITIES=$a,t.STARTUP_TYPES=ec,t.STREAM_TYPES=tc,t.SearchEvent=py,t.StartupEvent=ly,t.TRANSACTION_TYPES=nc,t.TelemetryService=fv,t.UserFacingErrorEvent=fy,t.VIDEO_ACTIONS=rc,t.VIDEO_FORMATS=oc,t.VIDEO_TYPES=ic,t.VideoStreamEvent=dy,t.WINDOW_MODES=ac,t.buildDate=ad,t.version=eu,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n("fRV1"))}}]);