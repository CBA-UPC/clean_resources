/** **********************************************************************
 * Copyright 2020 Adobe
*  All Rights Reserved.
*  NOTICE: Adobe permits you to use, modify, and distribute this file in
*  accordance with the terms of the Adobe license agreement accompanying
*  it.
**************************************************************************
*/
!function(){var t,e,r,n;(e=t||(t={})).EVENT_LISTENER="adobedx.conversationalforms.register.event",e.EVENT_LISTENER_REGISTER="adobedx.conversations.register.event",(n=r||(r={})).CONVERSATIONAL_FORMS_CLOSE="adobedx.conversationalforms.close",n.CONVERSATION_CLOSE="adobedx.conversations.close",n.CONVERSATION_READY="adobedx.conversations.ready";var o=["adobezero","adobestaging"];function i(){for(var t=document.querySelectorAll("script"),e=0;e<t.length;e++)if(-1!==t[e].src.indexOf("munchkin.js"))return!0;return!1}function a(t){for(var e=t.split(/[;,] */),r=e.length,n=0;n<r;n++){var o=e[n],i=o.indexOf("=");if(i>=0)if("_mkto_trk"===o.substring(0,i).trim())return!0}return!1}function c(t,e){if(e.skipCookie)t();else{if(a(document.cookie))return void t();(r=e.instanceId,n=1,c=7,r&&o.some(()&&(c=15),new Promise((function(t){if(i())t(!0);else var e=setInterval((function(){var r=i();if(r||n===c)return clearInterval(e),t(!(n===c&&!r));n++}),1e3)}))).then((function(e){e?function(t){var e=1;if(a(document.cookie))t();else var r=setInterval((function(){(a(document.cookie)||5===e)&&(clearInterval(r),t()),e++}),1e3)}(t):t()}))}var r,n,c}unction s(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";ry{c({},"")}catch(t){c=wrap=f;var d={};function h(){}function p(){}ar y={};c(y,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(j([])));g&&g!==e&&r.call(g,o)&&(y=g);var w=v.prototype=h.prototype=Object.create(y);.prototype=v,c(w,"constructor",v),c(v,"constructor",p),p.displayName=c(v,a,"GeneratorFunction"),t.isGeneratorFunction=t.mark=t.awrap=b(E.prototype),c(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=b(w),c(w,a,"Generator"),c(w,o,(),c(w,"toString",(),t.keys=t.values=j,S.prototype={constructor:S,reset:stop:dispatchException:abrupt:complete:finish:catch:delegateYield:,t}();m&&"prod"!==m.env&&console.log(m.env);var g,w,b,E="f667ab5ddba5b4311de41ccf5294f6642ebddc76",O="https://assets.adoberesources.net/builds/".concat(E,"/dist/"),x={local:"http://localhost:1234/",dev:O,qe:O,qa:O,stage:O,stg:O,prod:O},L={scripts:{core:m?x[m.env]+"core/src/index.js":"","core-ui":m?x[m.env]+"core-ui/src/index.js":""},styles:{}},S=[];function j(t){return Promise.all(Object.keys(t).map((function(e){return t[e])})))}function k(t){return Promise.all(Object.keys(t).map((function(e){return r=t[e],new Promise((function(t,e){var n,o=document.createElement("script");o.async=!0,o.addEventListener("load",(),o.addEventListener("error",e),o.src=r,null===(n=document.currentScript)||void 0===n||n.after(o)}));var r})))}function P(){return(P=y(s().mark((function t(e){var n,o,i,a,u,l,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return n=L.scripts,o=L.styles,t.next=4,Promise.all([j(o),k(n),N()]);case 4:if(i=t.sent,a=f(i,2),u=a[0],(l=a[1])&&l.length===Object.keys(n).length&&(d=new CustomEvent(r.CONVERSATION_READY),window.dispatchEvent(d)),g){t.next=11;break}throw new Error("Failed to load hummingbird api");case 11:c((,e),u.forEach(g.addStyle),S.forEach((function(t){return t(g)}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e,r){window.addEventListener(t,(function(t){if(r&&r.listenOn&&r.listenOn.length>0&&r.listenOn.some(()){var n={type:t.detail.type,data:h({},t.detail.data)};e(n)}}))}function A(){if(window.location.hash&&function(t){if(t)return new RegExp("^((#cf-)[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12})$","gm").test(t);return!1}(window.location.hash)){var t=window.location.hash;I({id:t.substring(t.indexOf("-")+1),type:"popup"}),window.history&&window.history.replaceState("","",window.location.pathname+window.location.search)}}function I(e){if(e&&m){var n=new w;return b?b(n):S.forEach((function(t){return t(n)})),e.path="livestream",e.id=e.id.startsWith("#cf-")?e.id.substring(e.id.indexOf("-")+1):e.id,c((,m),{registerCallback:_,Enum:{Events:r,CallbackType:t}}}}function N(){return new Promise((function(t){"complete"===document.readyState||"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",()}))}function T(){return(T=y(s().mark((function t(e){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"});case 2:if((r=t.sent).ok){t.next=5;break}throw new Error("Failed loading style ".concat(e));case 5:return t.abrupt("return",r.text());case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){var t;if(document.currentScript){var e=document.currentScript.getAttribute("src"),r=document.currentScript.getAttribute("data-loader")||void 0;if(e){var n=e.split("?")[1]?new URLSearchParams(e.split("?")[1]):new URLSearchParams(r),o=n.get("orgId"),i=n.get("instanceId"),a=n.get("geo"),c=n.get("env"),u="true"===n.get("skipCookie");o&&i&&(t={orgId:o,instanceId:i,env:c,geo:a,skipCookie:u})}if(!t)throw new Error("Hummingbird error: orgId and instanceId are required parameters on the script url.")}return t}window.AdobeDX||(window.AdobeDX={_init:function(t){g=new t,w=t,S.forEach((function(t){return t(g)}))},register:function(t){g?(t(g),b=t):S.push(t)},conversationalForms:function(t){return I(t)},conversations:,window.addEventListener("hashchange",A),window.location.hash&&window.addEventListener("load",A),C()))}();
//# sourceMappingURL=loader.js.map
