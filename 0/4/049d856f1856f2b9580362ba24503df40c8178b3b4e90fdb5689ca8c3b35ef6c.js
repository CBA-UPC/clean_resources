/**
 * Description: TinyUI2.0 components
 * Version: Tiny 2.23.3-cloud
 * Date: 2019-02-11 09:45:02
 */

/**
 * @description
 * AngularJS version of the tiAccordion directive.
 * tiAccordion参考了UIBootstrap设计思路
 * 
 * Copyright (c) 2012-2017 the AngularUI Team, https://github.com/organizations/angular-ui/teams/291112
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 */

/**
 * @description
 * AngularJS version of the tiTab directive.
 * tiTab参考了UIBootstrap设计思路
 * 
 * Copyright (c) 2012-2017 the AngularUI Team, https://github.com/organizations/angular-ui/teams/291112
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 */

/**
 * @description
 * AngularJS version of the tiModal service.
 * tiModal服务用来实现弹出框功能，参考了UIBootstrap设计思路
 *
 * Copyright (c) 2012-2017 the AngularUI Team, https://github.com/organizations/angular-ui/teams/291112
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 */

/* 本组件参考了smartTable的设计思路
  *
  * Copyright (C) 2016 Laurent Renard.
  * All rights reserved.
  *
  * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), 
  * to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, 
  * and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
  * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
  *
  * LICENSE
  * https://github.com/lorenzofox3/

define("components/common/service/service",[],function(){"use strict";function t(){}function n(e){function i(e){var t=-1;if(angular.isNumber(e)){var n=e.toString().split(".");n[1]?t=n[1].length:t=0}return t}var t="mediumDate",n="mediumTime",r="medium";this.contains=function(e,t){return angular.isArray(e)?_.contains(e,t):!1},this.add=function(e,t){var n=angular.isArray(e)?e:[];return _.contains(n,t)||n.push(t),n},this.remove=function(e,t){if(angular.isArray}return e},this.parseNumber=function(e){return parseFloat(this.parseNumWithDecimal(e))},this.parseNumWithDecimal=function(e,t){var n=angular.injector(["ng"]).get("$locale"),r=n.NUMBER_FORMATS,i=r.GROUP_SEP,s=r.DECIMAL_SEP,o=new RegExp("^(?:-?\\d*|-?\\d(?:\\"+i+"?\\d*)+)?(?:\\"+s+"\\d*)?$"),u=e+"";if(!o.test(u))return NaN;var a=new RegExp("\\"+i,"g"),f=new RegExp("\\"+s,"g"),l=u.replace(a,"").replace(f,"."),c=parseFloat(l,10);return t&&-1!==l.indexOf(".")?l:c},this.formatsInfo=function(){var e=angular.injector(["ng"]).get("$locale"),t=e.NUMBER_FORMATS;return t.DECIMAL_SEP},this.formatNumber=function(t,n){return t===""?"":e("number")(t,n)},this.formatDate=function(n,r){return e("date")(n,r||t)},this.formatCurrency=function(t){!angular.isNumber(t)&&angular.isString(t)&&(t=Number(t));var n=i(t),r="";if(n===-1)return r;var s=angular.injector(["ng"]).get("$locale"),o=parseInt(s.NUMBER_FORMATS.PATTERNS[1].minFrac,10),u=parseInt(s.NUMBER_FORMATS.PATTERNS[1].maxFrac,10),a=s.NUMBER_FORMATS.CURRENCY_SYM;return 0<=n&&n<=o?r=e("currency")(t,a,o):o<n&&n<=u?r=e("currency")(t,a,n):r=e("currency")(t,a,u),r},this.formatTime=function(t,r){return e("date")(t,r||n)},this.formatDateTime=function(t,n){return e("date")(t,n||r)},this.getDateTimeFormat=function(e){var i=angular.injector(["ng"]).get("$locale").DATETIME_FORMATS;return e==="time"?i[n]:e==="date"?i[t].replace(/y+/g,"yyyy"):i[r]}}var e=angular.module("tiny.service",[]);return e.service("tiService",n),n.$inject=["$filter"],e.service("camel",t),e.name}),define("components/common/service/configService",[],function(){"use strict";at:!1}};this.setDefaults=function(t){t.datetime&&angular.extend(e.datetime,t.datetime)},this.$get=function(){var e={defaultConfig:this.defaultConfig};return e}}var e=angular.module("tiny.configService",[]);e.provider("tiConfig",t)}),define("components/common/utils/browser",[],function(){function e(){var e={},t=navigator.userAgent.toLowerCase(),n;return(n=t.match(/rv:([\d.]+)\) like gecko/))?e.ie=!0:(n=t.match(/msie ([\d.]+)/))?e.ie=!0:(n=t.match(/firefox\/([\d.]+)/))?e.firefox=!0:(n=t.match(/chrome\/([\d.]+)/))?e.chrome=!0:(n=t.match(/opera.([\d.]+)/))?e.opera=!0:(n=t.match(/version\/([\d.]+).*safari/))?e.safari=!0:0,_.isArray(n)&&(e.version=n[1]),e}return!window.tiny&&(window.tiny={}),!tiny.utils&&(tiny.utils={}),tiny.utils.browser=e(),tiny.utils.browser}),define("components/common/utils/placeholder",["components/common/utils/browser"],function(e){"use strict";function r(e,t){if(typeof t!="string")return;var n=$(e),r=n[0];n.attr("tiPlaceholder",t),_.isSpe",r.type),n.val()===""&&s(r),r.onfocus=function(){n.hasClass("ti-placeholder")&&i(r)},r.onblur=function(){r.value===""&&s(r)}}function i(e){var t=$(e);e.value="",t.removeClass("ti-placeholder"),t.data("defaultType")==="password"&&(e.type="password")}function s(e){var t=$(e);e.value=t.attr("tiPlaceholder"),t.addClass("ti-placeholder"),t.data("defaultType")==="password"&&(e.type="text")}function o(e){var t=$(e);return t.hasClass("ti-placeholder")?"":e.value}function u(e,t){var n=$(e);return n.attr("tiPlaceholder")===undefined?(e.value=t,n):(t===""?(e.value="",e!==document.activeElement&&s(e)):(i(e),e.value=t),n)}!window.tiny&&(window.tiny={}),!tiny.utils&&(tiny.utils={}),tiny.utils.placeholder={};var t=tiny.utils.placeholder;if(!window.tiny.utils.browser.ie&&"placeholder"in document.createElement("input"))t.setPlaceholder=function(e,t){typeof t=="string"&&$(e).attr("placeholder",t)},t.clearPlaceholder=function(){},t.updatePlaceholder=t.setPlaceholder;else{t.setPlaceholder=r,t.clearPlaceholder=i,t.updatePlaceholder=function(e,t){typeof t=="string"&&$(e).attr("tiPlaceholder",t)};var n={get:o,set:u};$.valHooks.input=n,$.valHooks.textarea=n,$.propHooks.value=n}return t}),define("components/common/utils/utils",["components/common/utils/placeholder","components/common/utils/browser"],function(){"use strict";var e=window.tiny.utils?window.tiny.utils:{};return e.isDate=function(e){return Object.prototype.toString.call(e)==="[object Date]"&&e!="Invalid Date"?!0:!1},e.localeSort=function(e,t,n,r){var i=window.tiny.sortLanguage||navigator.browserLanguage||naviga[t].localeCompare(e[t],i,r)}):e.sort(function(e,n){return e[t].localeCompare(n[t],i,r)}),e},e.isEventType=function(e,t){var n=e[t];return _.isUndefined(n)?!1:n.indexOf("(")!==-1},e.applyCallback=function(t){var n=t.scope,r=t.attrs,i=t.evtName,s=t.params,o=_.map(t.params,function(e){return e}),u=t.isDelay,a={};if(!a.hasOwnProperty.call(r,i)||!r[i])return;u?setTimeout(function(){e.isEventType(r,i)?n[i](s):_.isFunction(n[i]())&&n[i]().apply(window,o),n.$evalAsync()},0):e.isEventType(r,i)?n[i](s):_.isFunction(n[i]())&&n[i]().apply(window,o)},e.isCallbackDefined=function(t,n,r){return!_.isUndefined(n[r])&&(e.isEventType(n,r)||_.isFunction(t[r]()))},e.formatEntry=function(t,n){if(arguments.length===1)return function(){var n=$.makeAr$.each(n,function(e,t){r=r.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),r},e}),define("i18n/zh-cn/tiny2Language",[],function(){return{more_title:"更多",ok_btn:"确认",cancel_btn:"取消",actionmenu_operate_title:"操作",msg_prompt_title:"提示",msg_warn_title:"警告",msg_confirm_title:"确认",msg_error_title:"错误",date_format:"yyyy-MM-dd",time_format:"HH:mm",date_today_btn:"今天",date_week_names_abb:["日","一","二","三","四","五","六"],date_week_names_title:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],date_month_names_abb:["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],btn_slider_arr:["1","2","3","4","5","6","7","8","9个月","1 年","2 年","3 年"],date_year_suffix_label:"年",date_range_begin_label:"开始时间",date_range_end_label:"结束时间",page_goto_label:"跳转",page_prev_title:"上一页",page_next_title:"下一页",page_total_label:"总条数: ",upload_select_file_tip:"选择文件",upload_file_btn:"上传文件",upload_file_btn_tip:"未发现待上传文件，请先在左侧选择。",upload_add_file_btn:"添加文件",upload_wait_info:"等待上传",upload_success_info:"上传成功!",upload_error_info:"上传失败!",upload_add_success_general_info:"已添加{0}个文件",upload_single_add_success_general_info:"已添加文件",upload_single_uploading_general_info:"正在上传",upload_uploading_general_info:"{0} 正在上传",upload_error_general_info:"{0}个文件上传失败!",upload_remove_file_single:"清空选择",upload_remove_files:"清空选择",upload_cancel_files:"取消上传",upload_reload_files:"重新上传",valid_required_info:"输入不能为空。",valid_maxSize_info:"输入长度不能超过{0}个字符。",valid_minSize_info:"输入长度不能小于{0}个字符。",valid_rangeSize_info:"输入长度范围为{0}到{1}个字符。",valid_maxValue_info:"输入值不能超过{0}。",valid_minValue_info:"输入值不能小于{0}。",valid_rangeValue_info:"输入值必须在{0}到{1}之间。",valid_regularCheck_info:"输入值无效。",valid_contains_info:"输入值必须包含有字符{0}。",valid_notContains_info:"输入值不能含有非法字符{0}。",valid_checkScriptInfo_info:"输入值不能含有script标签。",valid_equal_info:"输入值必须等于{0}。",valid_notEqual_info:"输入值不能等于{0}。",valid_port_info:"端口号为0到65535的整数。",valid_path_info:"输入值未满足路径格式要求。",valid_email_info:"输入email地址无效。",valid_date_info:"输入日期无效。",valid_url_info:"输入URL无效。",valid_integer_info:"输入值不是有效整数。",valid_number_info:"输入值不是有效数字。",valid_digits_info:"输入值不是有效数字字符。",valid_ipv4_info:"输入值不是有效IPV4地址。",valid_ipv6_info:"输入值不是有效IPV6地址。",valid_rangeSize_msg:"{0}~{1}个字符。",valid_charTypeNum_msg:"至少包含以下字符中的{0}种：大写字母、小写字母、数字、特殊字符`~!@#$%^&*()-_=+\\|[{}];:'\",<.>/?  和空格。",valid_notEqualPosRev_msg:"不能与用户名或倒序的用户名相同。",valid_pwd_info:"密码输入不符合要求，请重新输入。",valid_pwd_sec:"安全程度:",valid_pwd_sec_level_low:"弱",valid_pwd_sec_level_medium:"中",valid_pwd_sec_level_high:"强",valid_phone_info:"输入不是有效的电话号码。",valid_phone_short_info:"输入电话号码位数太少。",valid_phone_long_info:"输入电话号码位数太多。",loadingText:"数据加载中...",intro_skip:"跳过",intro_previous:"上一个",intro_next:"下一个",intro_finish:"立即体验",select_all:"(全选)",nodata_text:"暂无数据",wizard_required_msg:"必选项"}}),define("components/module",["components/common/service/service","components/common/service/configService","components/common/utils/utils","i18n/zh-cn/tiny2Language"],function(e,t,n,r){"use strict";!window.tiny&&(window.tiny={}),!tiny.language&&(tiny.language=r);var i=angular.module("tiny",["tiny.service","tiny.configService"]);return i.config(["$sceProvider","$animateProvider",function(e,t){e.enabled(!1),t.classNameFilter(/^(?:(?!ti-no-ng-animate).)*$/)}]),i}),define("components/common/utils/keymap",[],function(){"use strict";return{MOUSE_LEFT_BUTTON:0,MOUSE_MIDDLE_BUTTON:1,MOUSE_RIGHT_BUTTON:2,MOUSE_BACK_BUTTON:3,MOUSE_FORWARD_BUTTON:4,KEY_BACKSPACE:8,KEY_TAB:9,KEY_ENTER:13,KEY_SHIFT:16,KEY_CONTROL:17,KEY_ALT:18,KEY_PAUSE_BREAK:19,KEY_CAPS_LOCK:20,KEY_ESCAPE:27,KEY_SPACE:32,KEY_PAGE_UP:33,KEY_PAGE_DOWN:34,KEY_END:35,KEY_HOME:36,KEY_ARROW_LEFT:37,KEY_ARROW_UP:38,KEY_ARROW_RIGHT:39,KEY_ARROW_DOWN:40,KEY_PRINT_SCREEN:44,KEY_INSERT:45,KEY_DELETE:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,KEY_META_LEFT:91,KEY_META_RIGHT:92,KEY_CONTEXT_MENU:93,KEY_NUMPAD_EY_NUMPAD_4:100,KEY_NUMPAD_Y_NUMPAD_7:103,KEY_NUMPAD_8:104,KEY_NUMPAD_9:105,KEY_NUMPAD_MULTIPLY:106,KEY_NUMPAD_ADD:107,KEY_NUMPAD_ENTER:108,KEY_NUMPAD_SUBTRACT:109,KEY_NUMPAD_DECIMAL:110,KEY_NUMPAD_DIVIDE:111,KEY_F1:112,KEY_F2:113,KEY_F3:114,KEY_F4:115,KEY_F5:116,KEY_F6:117,KEY_F7:118,KEY_F8:119,KEY_F9:120,KEY_F10:121,KEY_F11:122,KEY_F12:123,KEY_F13:124,KEY_F14:125,KEY_F15:126,KEY_F16:127,KEY_F17:128,KEY_F18:129,KEY_F19:130,KEY_F20:131,KEY_F21:132,KEY_F22:133,KEY_F23:134,KEY_F24:135,KEY_NUM_efine("components/accordion/accordion",["components/module","components/common/utils/keymap"],function(e,t){"use strict";function n(e,t,n){var r=e.accordionItems=[];this.headClass=e.$eval(t.headClass),this.bodyClass=e.$eval(t.bodyClass);var i=e.$eval(t.elementId);this.elementId=_.isString(i)?i:"",this.closeOthers=function(i){var s=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;s&&angular.forEach(r,function(e){e.open&&e!==i&&(e.open=!1)})},this.addItem=function(e){r.push(e)},this.removeItem=function(e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)}}function r(e){this.setHead=function(e){this.head=e}}function i(e){return{require:"^tiAccordion",transclude:!0,restrict:"E",replace:!0,templateUrl:"/tiny-components/src/components/accordion/accordion-item.html",scope:{open:"=?",disable:"=?",clickToggle:"=?",elementId:"=?",headClickm(t),t.headClass=i.headClass?i.headClass:"",t.bodyClass=i.bodyClass?i.bodyClass:"",_.isString(t.elementId)&&t.element.elemId="",t.$watch("open",function(e){e&&i.closeOthers(t)});var s=angular.isDefined(r.clickToggle)?t.$eval(r.clickToggle):e.clickToggle;t.toggleOpen=function(){!t.disable&&s&&(t.open=!t.open),typeof t.headClick()=="function"&&t.headClick()(t.open)},t.$on("$destroy",function(){i.removeItem(t)})}}}return e.constant("tiAccordionConfig",{closeOthers:!0,clickToggle:!0}),e.controller("tiAccordionController",n),n.$inject=["$scope","$attrs","tiAccordionConfig"],e.directive("tiAccordion",function(){return{restrict:"E",controller:n,controllerAs:"accordion",transclude:!0,replace:!0,templateUrl:"/tiny-components/src/components/accordion/accordion.html"}}),e.controller("tiAccordionItemController",r),r.$inject=["$scope"],e.directive("tiAccordionItem",i),i.$inject=["tiAccordionConfig"],e.directive("tiAccordionHead",function(){return{transclude:!0,template:"",replace:!0,restrict:"E",require:"^tiAccordionItem",link:function(e,t,n,r,i){r.setHead(i(e,angular.noop))}}}),e.directive("tiAccordionTransclude",function(){return{require:"^tiAccordionItem",link:function(e,t,n,r){e.$watch(function(){return r[n.tiAccordionTransclude]},function(e){if(e){var n=$(t.find("[ti-accordion-header]")[0]);n.html(""),n.append(e)}})}}}),e.name}),define("components/button/button",["components/module"],function(e){"use strict";function t(){var e={restrict:"A",link:function(e,t){var n=window.tiny.utils;t.attr("autofocus")!==undefined&&n.browser.ie&&n.browser.version<10&&t[0].focus()}};return e}return e.directive("tiButton",t),e.name}),define("components/tip/tip",["components/module"],function(e){"use strict";function n(){function n(e){return e.length<1||$.isPlainObject(e[0].tiTip)?!1:!0}function r(e,t,n){o(e,t),u(e,t,n),$(document).on("mousewheel.tiTip DOMMouseScroll.tiTip tiScroll tipRelocation",e[0].tiTip.hideTooltip(e)),$(window).on("resize.tiTip hashchange.tiTip",e[0].tiTip.hideTooltip(e));var r=T();document.addEventListener(r,e[0].tiTip.hideTooltip(e)),e.on("$destroy",function(){if(e[0].tiTip===null)return;$(document).off("mousewheel.tiTip DOMMouseScroll.tiTip tipRelocation",e[0].tiTip.hideTooltip(e)),document.removeEventListener(r,e[0].tiTip.hideTooltip(e)),$(window).off("resize.tiTip hashchange.tiTip",e[0].tiTip.hideTooltip(e)),!e[0].tiTip.tooltipDom||e[0].tiTip.tooltipDom.remove(),e[0].tiTip=null})}function o(e,t){e[0].tiTip={tooltipModel:t,hasShown:!1,isPrevented:!1,hideTooltip:function(e){return function(t){if(angular.isUndefined(e[0].tiTip)||e[0].tiTip===null||!e[0].tiTip.hasShown)return;var n={duration:0,complete:function(){e[0].tiTip.tooltipDom.remove(),e[0].tiTip.hasShown=!1}};angular.isUndefined(t)?angular.extend(n,e[0].tiTip.tooltipModel.hideEffect):angular.extend(n,t),e[0].tiTip.tooltipDom.fadeOut(n)}}}}function u(e,n,r){var s=i(n,t.EVENT_MAP);s.showEvt==="click"?e.on("click",function(){e[0].tiTip.hasShown===!0?e[0].tiTip.hideTooltip(e)():a(e,n,r)}):(e.on(s.showEvt,function(){a(e,n,r)}),e.on(s.hideEvt,function(){s.hideEvt==="mouseleave"?setTimeout(function(){e[0].tiTip&&e[0].tiTip.isPrevented===!1&&e[0].tiTip.hideTooltip(e)()},0):e[0].tiTip.hideTooltip(e)()}))}function a(e,t,n){if(angular.isUndefined(e[0].tiTip)||e[0].tiTip===null)return;e[0].tiTip.hideTooltip(e)({duration:0});if(t.content==="")return;var r=f(e,t,n),i=w(e,r,t);E(r,i);var s={duration:0};angular.extend(s,t.showEffect),r.fadeIn(s),e[0].tiTip.hasShown=!0}function f(e,t,n){var r;t.position==="auto"?r=s(e).tipPosition:r=t.position;var i;t.hasArrow?i=$('<div class="ti-tooltip ti-tooltip-'+r+'">'+'<div class="ti-tooltip-content"></div>'+'<div class="ti-tooltip-'+r+'-sqr"></div>'+"</div>"):i=$('<div class="ti-tooltip"><div class="ti-tooltip-content"></div><div class="ti-tooltip-'+r+'-sqr"></div>'+"</div>");if(t.scope!==undefined){var o;if(_.isString(t.scope)&&e.closest(t.scope).length&&_.isObject(e.closest(t.scope).scope())){var u=e.closest(t.scope).scope();o=n(t.content)(u),u.$root&&!u.$root.$$phase&&u.$apply()}else if(_.isObject(t.scope)&&_.has(t.scope,"$$watchers")){var u=t.scope;o=n(t.content)(t.scope),u.$root&&!u.$root.$$phase&&u.$apply()}}var a=o&&o.length?o:t.content;$(".ti-tooltip-content",i).html(a),$(".ti-tooltip-content",i).css({maxHeight:document.documentElement.clientHeight/2,overflowY:"auto",padding:"1px",whiteSpace:t.isPre?"pre-wrap":"normal"}),i.addClass(t.customClass),e[0].tiTip.tooltipDom=i;var f=_.isArray(t.triggerEvent)&&(t.triggerEvent[0]==="mouseenter"||t.triggerEvent[1]==="mouseleave");if(f||t.triggerEvent==="mouseenter")i.on("mouseenter",function(){e[0].tiTip.isPrevented=!0}),i.on("mouseleave",function(){if(e[0].tiTip.isClick)return;e[0].tiTip.hideTooltip(e)(),e[0].tiTip.isPrevented=!1});return i.on("click ",function(){e[0].tiTip.isClick=!0,setTimeout(function(){e[0].tiTip.isClick=!1},0)}),i.on("mousewheel.tiTip DOMMouseScroll.tiTip click mousedown",function(e){e.stopPropagation()}),i}var e={triggerEvent:"mouseenter",show:!1,hasArrow:!0,position:"adaptive",content:"",isPre:!1};this.setDefaults=function(t){angular.extend(e,t)},this.getDefaults=function(){return e},this.$get=["$compile",function(t){function i(i,s){function u(e){if(angular.isUndefined(i)||i.length<1)return;$.isPlainObject(e)&&angular.extend(i[0].tiTip.tooltipModel,e),a(i,i[0].tiTip.tooltipModel,t)}function f(){if(angular.isUndefined(i)||angular.isUndefined(i[0].tiTip)||i.tiTip===null)return;i[0].tiTip.hideTooltip(i)()}if(angular.isUndefined(i)||!n(i))return;var o=angular.extend({},e,s);r(i,o,t);var l={show:u,hide:f};return l}return{getDefaults:this.getDefaults,setDefaults:this.setDefaults,createTip:i,setTooltip:this.setTooltip}}],this.setTooltip=function(e,t){var n=this;if(angular.isUndefined(e)||e.length<1)return;t=angular.isUndefined(t)?{}:t,e.on("mouseenter",function(){if(t.autoTip!==!1){var r=$(e[0].cloneNode(!0)).css({"font-size":e.css("font-size"),"font-weight":e.css("font-weight"),"font-family":e.css("font-family"),"white-space":t.isPre?"pre":"nowrap","max-width":"none"});r.addClass("ti-tooltip-clone"),$("body").append(r);var i=parseFloat(e[0].getBoundingClientRect().width.toFixed(2)),s=parseFloat(r[0].getBoundingClientRect().width.toFixed(2));r.remove()}e[0].tiTip&&e[0].tiSetTooltip&&(e[0].tiTip.tooltipModel.content="");if(t.autoTip===!1||s>i){e[0].tiSetTooltip||(e[0].tiSetTooltip=n.createTip(e,{content:"",triggerEvent:[null,"mouseleave"]}));var o={content:$.encoder.encodeForHTML(e.text().trim()),position:"right",maxWidth:document.documentElement.clientWidth/2},u=angular.extend({},o,t);e[0].tiSetTooltip.show(u)}})}}function r(e){return{restrict:"A",scope:{tipConfig:"=?tiAutoTip"},link:function(t,n){var r={position:"auto",maxWidth:"276px"},i=angular.extend({},r,t.tipConfig);e.setTooltip(n,i),t.$watch("tipConfig.content",function(t,r){if(t===r)return;i.content=t,e.setTooltip(n,i)})}}}function i(e,t){var n={};return _.isArray(e.triggerEvent)?n={showEvt:e.triggerEvent[0],hideEvt:e.triggerEvent[1]}:n={showEvt:e.triggerEvent,hideEvt:t[e.triggerEvent]},n}function s(e){var t=S(e),n=t.left-$(document).scrollLeft(),r=t.top-$(document).scrollTop(),i=document.documentElement.clientWidth,s=document.documentElement.clientHeight,o={};return n<=i/4?r<=s/4?o={truePosition:"left-top",tipPosition:"right-top"}:r<=s/4*3?o={truePosition:"left",tipPosition:"right"}:o={truePosition:"left-bottom",tipPosition:"right-bottom"}:n<=i/4*3?r<=s/4?o={truePosition:"top",tipPosition:"bottom"}:r<=s/4*3?o={truePosition:"center",tipPosition:"top"}:o={truePosition:"bottom",tipPosition:"top"}:r<=s/4?o={truePosition:"right-top",tipPosition:"left-top"}:r<=s/4*3?o={truePosition:"right",tipPosition:"left"}:o={truePosition:"right-bottom",tipPosition:"left-bottom"},o}function o(e,t,n){var r={};switch(s(e).truePosition){case"left-top":r=g(e,t,n);break;case"left":r=m(e,t,n);break;case"left-bottom":r=y(e,t,n);break;case"top":r=l(e,t,n);break;case"bottom":case"center":r=u(e,t,n);break;case"right-top":r=d(e,t,n);break;case"right":r=p(e,t,n);break;case"right-bottom":r=v(e,t,n)}return r}function u(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=s[0].offsetHeight,a=i.top-u-t.ARROW_HEIGHT-t.DISTANCE,f=(s[0].offsetWidth-e[0].offsetWidth)/2,l=i.left-f;return s[0].offsetWidth/2>document.documentElement.scrollWidth-i.left-e[0].offsetWidth/2&&(s.remove(),o=(document.documentElement.scrollWidth-i.left-e[0].offsetWidth/2)*2,l=document.documentElement.scrollWidth-o,s.css({position:"absolute",left:l,width:o+"px"}).appendTo($("body")).show(),a=i.top-s[0].offsetHeight-t.ARROW_HEIGHT-t.DISTANCE),s.remove(),{left:l,top:a,width:o}}function a(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=s[0].offsetHeight,a=i.top-u-t.ARROW_HEIGHT-t.DISTANCE,f=i.left;return s[0].offsetWidth>document.documentElement.scrollWidth-i.left&&(s.remove(),o=document.documentElement.scrollWidth-i.left,f=document.documentElement.scrollWidth-o,s.css({position:"absolute",left:f,width:o+"px"}).appendTo($("body")).show(),a=i.top-s[0].offsetHeight-t.ARROW_HEIGHT-t.DISTANCE),s.remove(),{left:f,top:a,width:o}}function f(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=i.left+i.width-s[0].offsetWidth,a=s[0].offsetHeight,f=i.top-a-t.ARROW_HEIGHT-t.DISTANCE;return s.remove(),{left:u,top:f,width:o}}function l(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=i.top+i.height+t.ARROW_HEIGHT+t.DISTANCE,a=(s[0].offsetWidth-e[0].offsetWidth)/2,f=i.left-a;return s[0].offsetWidth/2>document.documentElement.scrollWidth-i.left-e[0].offsetWidth/2&&(o=(document.documentElement.scrollWidth-i.left-e[0].offsetWidth/2)*2,f=document.documentElement.scrollWidth-o),s.remove(),{left:f,top:u,width:o}}function c(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=i.top+i.height+t.ARROW_HEIGHT+t.DISTANCE,a=i.left;return s[0].offsetWidth>document.documentElement.scrollWidth-i.left&&(o=document.documentElement.scrollWidth-i.left,a=document.documentElement.scrollWidth-o),s.remove(),{left:a,top:u,width:o}}function h(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=i.left+i.width-s[0].offsetWidth,a=i.top+i.height+t.ARROW_HEIGHT+t.DISTANCE;return s.remove(),{left:u,top:a,width:o}}function p(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=i.left-t.ARROW_HEIGHT-t.DISTANCE-s[0].offsetWidth,a=(s[0].offsetHeight-i.height)/2,f=i.top-a;return s.remove(),{left:u,top:f,width:o}}function d(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=i.left-t.ARROW_HEIGHT-t.DISTANCE-s[0].offsetWidth,a=i.top;return s.remove(),{left:u,top:a,width:o}}function v(e,n,r){var i=S(e),s=n.clone();s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var o=x(s,r),u=i.left-t.ARROW_HEIGHT-t.DISTANCE-s[0].offsetWidth;s.css({width:o});var a=i.top+i.height-s[0].offsetHeight;return s.remove(),{left:u,top:a,width:o}}function m(e,n,r){var i=S(e),s=n.clone(),o=i.left+i.width+t.ARROW_HEIGHT+t.DISTANCE,u=o+"px";s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var a=x(s,r),f=(s[0].offsetHeight-i.height)/2,l=i.top-f;return s[0].offsetWidth>document.documentElement.scrollWidth-o&&(s.remove(),a=document.documentElement.scrollWidth-o,s.css({position:"absolute",left:u,width:a+"px"}).appendTo($("body")).show(),l=i.top-(s[0].offsetHeight-i.height)/2),s.remove(),{left:u,top:l,width:a}}function g(e,n,r){var i=S(e),s=n.clone(),o=i.left+i.width+t.ARROW_HEIGHT+t.DISTANCE,u=o+"px";s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var a=x(s,r),f=i.top;return s[0].offsetWidth>document.documentElement.scrollWidth-o&&(a=document.documentElement.scrollWidth-o),s.remove(),{left:u,top:f,width:a}}function y(e,n,r){var i=S(e),s=n.clone(),o=i.left+i.width+t.ARROW_HEIGHT+t.DISTANCE,u=o+"px";s.css({position:"absolute",left:"-9999px",top:"-9999px"}).appendTo($("body")).show();var a=x(s,r);s[0].offsetWidth>document.documentElement.scrollWidth-o&&(a=document.documentElement.scrollWidth-o),s.css({width:a});var f=i.top+i.height-s[0].offsetHeight;return s.remove(),{left:u,top:f,width:a}}function b(e,t,n){var r=S(e),i=r.left,s=r.top,o=document.documentElement.clientWidth-r.left,a=document.documentElement.clientHeight-r.top-r.height,f=[{position:"left",value:i},{position:"right",value:o},{position:"top",value:s},{position:"bottom",value:a}],c=_.max(f,function(e){return e.value}),h={};switch(c.position){case"top":h=u(e,t,n);break;case"bottom":h=l(e,t,n);break;case"left":h=v(e,t,n);break;case"right":h=y(e,t,n);break;default:}return h}function w(e,t,n){var r={};switch(n.position){case"top":r=u(e,t,n);break;case"top-left":r=a(e,t,n);break;case"top-right":r=f(e,t,n);break;case"bottom":r=l(e,t,n);break;case"bottom-right":r=h(e,t,n);break;case"bottom-left":r=c(e,t,n);break;case"left":r=p(e,t,n);break;case"left-top":r=d(e,t,n);break;case"left-bottom":r=v(e,t,n);break;case"right":r=m(e,t,n);break;case"right-top":r=g(e,t,n);break;case"right-bottom":r=y(e,t,n);break;case"adaptive":r=b(e,t,n);break;case"auto":r=o(e,t,n);break;default:}return r}function E(e,t){e.css({left:parseInt(t.left,10)+"px",top:parseInt(t.top,10)+"px",right:parseInt(t.right,10)+"px",bottom:parseInt(t.bottom,10)+"px",width:parseFloat(t.width)+"px"}),e.appendTo($("body"))}function S(e){return{top:e.offset().top,left:e.offset().left,width:e[0].offsetWidth,height:e[0].offsetHeight}}function x(e,n){var r,i;return n.position==="auto"?i=n.maxWidth||document.documentElement.clientWidth/2:i=n.maxWidth||t.WIDTH,e[0].offsetWidth>parseInt(i,10)&&(r=i),r||(r=Math.ceil(e[0].getBoundingClientRect().width*100)/100),e.css("width",r),r}function T(){var e="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":"",t=e.replace(/hidden/i,"visibilitVENT_MAP:{mouseenter:"mouseleave",focus:"blur",click:"click",none:"none"},ARROW_HEIGHT:6.5,DISTANCE:5};return e.provider("tiTipService",n),e.directive("tiAutoTip",r),r.$inject=["tiTipService"],e.directive("tiTip",["tiTipService","$compile","$q",function(e,n,r){function o(t,n){var r=angular.extend({},e.getDefaults(),t.tooltipModel);t.isPrevented=!1,u(n,r,t),t.$watchCollection("tooltipModel",function(r,i){if(_.isUndefined(r)||r===null)return;var s=r.show===!0&&!!r.content;if(s){l(t,{duration:0});var o=angular.extend({},e.getDefaults(),r);a(n,o,t)}else l(t)})}function u(e,n,r){var s=i(n,t.EVENT_MAP);s.showEvt==="click"?e.on("click",function(){r.tooltipModel.show=!r.tooltipModel.show,r.$evalAsync()}):(e.on(s.showEvt,function(){r.isPrevented=!1,r.tooltipModel.show=!0,r.$evalAsync()}),e.on(s.hideEvt,function(){s.hideEvt==="mouseleave"?setTimeout(function(){r.isPrevented===!1&&(r.tooltipModel.show=!1,r.$evalAsync())},0):(r.tooltipModel.show=!1,r.$evalAsync())})),r.hideTooltip=function(){if(!r.$tooltipElem)return;r.tooltipModel.show=!1,r.$tooltipElem.remove()},e.on("$destroy",function(){r.hideTooltip(),r.$destroy()})}function a(e,t,i){var o;t.position==="auto"?o=s(e).tipPosition:o=t.position;var u;t.hasArrow?u=$('<div class="ti-tooltip ti-tooltip-'+o+'">'+'<div class="ti-tooltip-content"></div>'+'<div class="ti-tooltip-'+o+'-sqr"></div>'+"</div>"):u=$('<div class="ti-tooltip"><div class="ti-tooltip-content"></div><div class="ti-tooltip-'+o+'-sqr"></div>'+"</div>");var a=r.defer(),l=a.promise;l.then(function(){var n=c&&c.length?c:t.content;$(".ti-tooltip-content",u).html(n),$(".ti-tooltip-content",u).css({maxHeight:document.documentElement.clientHeight/2,overflowY:"auto",padding:"1px",whiteSpace:t.isPre?"pre-wrap":"normal"}),u.addClass(t.customClass),i.$tooltipElem=u,f(i,u,t);var r=w(e,u,t);E(u,r);var s={duration:0};angular.extend(s,i.tooltipModel.showEffect),u.fadeIn(s)},function(){});if(t.scope!==undefined){var c,h;_.isString(t.scope)&&e.closest(t.scope).length&&_.isObject(e.closest(t.scope).scope())?(h=e.closest(t.scope).scope(),c=n(t.content)(h)):_.isObject(t.scope)&&_.has(t.scope,"$$watchers")&&(h=t.scope,c=n(t.content)(h));if(_.isObject(h)){setTimeout(function(){h.$root&&!h.$root.$$phase&&h.$apply(),a.resolve()},0);return}}a.resolve()}function f(e,t,n){var r=_.isArray(n.triggerEvent)&&(n.triggerEvent[0]==="mouseenter"||n.triggerEvent[1]==="mouseleave");if(r||n.triggerEvent==="mouseenter")t.on("mouseenter",function(){e.isPrevented=!0}),t.on("mouseleave",function(){if(e.isClick)return;e.tooltipModel.show=!1,e.isPrevented=!1,e.$evalAsync()});t.on("mousewheel.tiTip DOMMouseScroll.tiTip click mousedown",function(e){e.stopPropagation()}),t.on("click ",function(){e.isClick=!0,setTimeout(function(){e.isClick=!1,e.$evalAsync()},0)}),$(document).on("mousewheel.tiTip DOMMouseScroll.tiTip tiScroll tipRelocation",e.hideTooltip),$(window).on("resize.tiTip hashchange.tiTip",e.hideTooltip);var i=T();document.addEventListener(i,function(){e.tooltipModel.show=!1,e.$evalAsync()})}function l(e,t){if(!e.$tooltipElem)return;$(document).off("mousewheel.tiTip DOMMouseScroll.tiTip tipRelocation",e.hideTooltip);var n=T();document.removeEventListener(n,function(){e.tooltipModel.show=!1,e.$evalAsync()}),$(window).off("resize.tiTip hashchange.tiTip",e.hideTooltip);var r={duration:0,complete:function(){if(e.$tooltipElem===null)return;e.$tooltipElem.remove(),e.$tooltipElem=null}};angular.isUndefined(t)?angular.extend(r,e.tooltipModel.hideEffect):angular.extend(r,t),e.$tooltipElem.fadeOut(r)}return{restrict:"A",replace:!1,scope:{tooltipModel:"=tiTip"},link:o}}]),e.name}),define("components/checkbox/checkbox",["components/module","components/tip/tip"],function(e,t){"use strict";function n(e,t){function r(n,r,i,s){function l(){var r=e(i.isNoWrap)(n);r===!0&&(f.addClass("ti-checkbox-nowrap"),f.mouseenter(function(e){function a(e){var t=$("<span>").text(e);return t[0].innerHTML}var n=$(e.currentTarget),r=$(n.find(".ti-checkbox-label")[0].cloneNode(!0)).css({"font-size":n.css("font-size"),"font-weight":n.css("font-weight"),"font-family":n.css("font-family"),"padding-right":n.css("paddingRight"),"padding-left":n.css("paddingLeft"),"border-right":n.css("borderRightWidth")+" dotted transparent","border-left":n.css("borderLeftWidth")+" dotted transparent",height:n.height()});r.addClass("ti-checkbox-label-clone"),$("body").append(r);var i=n[0].getBoundingClientRect().width,s=r[0].getBoundingClientRect().width,o=parseFloat(n.find(".ti-checkbox-skin").css("width"))+parseFloat(n.find(".ti-checkbox-skin").css("marginRight"));r.remove(),n[0].labelTooltip&&n[0].tiTip&&(n[0].tiTip.tooltipModel.content="");if(s>i-o){var u="bottom";n[0].labelTooltip||(n[0].labelTooltip=t.createTip(n,{content:""})),n[0].labelTooltip.show({content:n.prev().attr("tip-content")||a(n.text().trim()),position:n.prev().attr("tip-position")||u})}}))}var o=i.id;o||(o=_.uniqueId("ti_checkbox_"),r.attr("id",o));var u="<label class='ti-checkbox' for='<%= id %>'><span class='ti-checkbox-skin ti-icon ti-icon-checkmark' for='<%= id %>'></span><label class='ti-checkbox-label' for='<%= id %>'></label></label>",a=_.template(u)({id:o});r.after(a),r.attr("tabindex","-1");var f=r.next();n.$watch(e(i.tiCheckbox),function(e){var t=f.find(".ti-checkbox-label");_.isUndefined(e)?t.html(""):t.html(e)}),l(),i.partialCheck&&n.$watch(e(i.partialCheck),function(e){e===!0?r.prop("indeterminate",!0):r.prop("indeterminate",!1)});var c=f.find(".ti-checkbox-skin"),h=e(i.ngModel),p=h.assign;r.on("click",function(){c.focus(),window.tiny.utils.browser.ie&&e(i.partialCheck)(n)===!0&&(p(n,!0),e(i.ngChange)(n),n.$evalAsync())}),r.next(".ti-checkbox").on("click",function(e){e.stopPropagation()}),n.$watch(function(){return r.attr("disabled")},function(e){e?c.removeAttr("tabindex"):c.attr("tabindex","0")}),_.isUndefined(i.focused)||n.$watch(e(i.focuabled"))return;var t=e.which||e.keyCode;t===32&&e.preventDefault()}),c.on("keyup",function(e){if(r.attr("disabled"))return;var t=e.which||e.keyCode;t===32&&(r[0].checked=!r[0].checked,s&&s.$setViewValue(r[0].checked),r.trigger("change"))})}var n={restrict:"A",priority:598,require:"?ngModel",link:r};return n}return e.directive("tiCheckbox",n),n.$inject=["$parse","tiTipService"],e.name}),define("components/collapse/collapse",["components/module"],function(e){"use strict";function t(e,t,n){return{link:function(e,t,r){function o(){i={height:""},s={height:"0"},e.$eval(r.tiCollapse)?t.addClass("ti-collapse").css(s):t.addClass("ti-in").addClass("ti-collapse").css(i)}function u(e){return{height:e.scrollHeight+"px"}}function a(){t.removeClass("ti-collapse").addClass("ti-collapsing"),n.addClass(t,"ti-in",{css:{overflow:"hidden"},to:u(t[0])}).then(f)}function f(){t.removeClass("ti-collapsing").addClass("ti-collapse").css(i)}function l(){t.css(u(t[0])).removeClass("ti-collapse").addClass("ti-collapsing"),n.removeClass(t,"ti-in",{to:s}).then(c)}function c(){t.css(s),t.removeClass("ti-collapsing").addClass("ti-collapse")}var i={},s={};o(),e.$watch(r.tiCollapse,function(e,t){if(e===t)return;e?l():a()})}}}return e.directive("tiCollapse",t),t.$inject=["$parse","$injector","$animate"],e.name}),define("components/formfield/formfield",["components/module"],function(e){"use strict";function n(){return{restrict:"E",transclude:!0,scope:!0,replace:!0,controller:r,templateUrl:"/tiny-components/src/components/formfield/formfield.html"}}function r(e,t,n){var r=this;e.items=[],e.groupedItems=[],e.btnItems=[];var p=e.$eval(t.isTextForm);e.isTextForm=_.isUndefined(p)?!1:p;var d=e.$eval(t.cols);s(e,d),o(e,d,n.colsGap),a(e,e.$eval(t.verticalAlign),n),h(e),r.removeCntItem=function(t){var n=_.findIndex(e.items,t);n!==-1&&(e.items.splice(n,1),e.groupedItems=i(e.items,e.colsNumber))},r.addCntItem=function(r){var s=_.isObject(r.verticalAlign)?r.verticalAlign["vertical-align"]:r.verticalAlign;f(r,s),l(r,e.$eval(t.labelWidth)),e.isTextForm&&c(r,e.$eval(t.formLineHeight)),r.labelStyle=_.extend({},r.verticalAlign,r.labelWidth,r.lineHeight),r.contentStyle=_.extend({},r.verticalAlign,r.lineHeight),r.colsGap=e.colsGap,e.items.push(r),e.items=_.sortBy(e.items,"itemIndex"),e.groupedItems=i(e.items,e.colsNumber)},r.addBtnItem=function(r){f(r,r.verticalAlign),u(r,e.colsNumber,n),e.btnItems.push(r)}}function i(e,t){function o(e,t,n){var r=-1,i=e.length,s=t,o=n;t<0&&(s=-s>i?0:i+s),o=o>i?i:o,o<0&&(o+=i),i=s>o?0:o-s>>>0,s>>>=0;var u=Array(i);while(++r<i)u[r]=e[r+s];return u}var n=e?e.length:0;if(!n||t<1)return[];var r=0,i=-1,s=new Array(Math.ceil(n/t));while(r<n)s[++i]=o(e,r,r+=t);return s}function s(e,t){var n=parseInt(t&&t.number,10);e.colsNumber=_.isNaN(n)||n<1?1:n}function o(e,t,n){var r=t&&t.gap,ifor(var s=0;s<i;s++)s<i-1?e.colsGap.push({width:n}):e.colsGap.push({width:"h,i]);for(var u=0;u<o;u++)r[u]!==""&&(e.colsGap[u]={width:r[u]})}}function u(e,t,n){var r=n.tdNumPerItem,i=e.alignOpts=n.horizontalAlignOpts;_.has(i,e.horizontalAlign)||(e.horizontalAlign=i.content);switch(e.horizontalAlign){case i.required:e.btnColspan=r*t;break;case i.label:e.btnColspan=r*t-1;break;default:e.btnColspan=r*t-2}}function a(e,t,n){var r=angular.isDefined(t)?t:n.verticalAlign;e.verticalAlign={"vertical-align":r}}function f(e,t){if(!angular.isDefined(t))return;e.verticalAlign={"vertical-align":t}}function l(e,t){if(!angular.isDefined(t))return;e.labelWidth={width:t}}function c(e,t){if(!angular.isDefined(t))return;e.lineHeight={"line-height":t}}function h(e){e.fieldId="ti-field-"+e.$id+"-"+_.uniqueId()}function p(){return{require:"^tiFormfield",restrict:"E",replace:!0,template:"",transclude:!0,scope:{hide:"=?",label:"=?",required:"=?",verticalAlign:"=?"},controller:d,link:function(e,n,r,i,s){e.itemIndex=t++,e.setHasLabel(e,!0),e.$transcludeFn=s,e.$watch(function(){return!!e.hide},function(t){t===!0?i.removeCntItem(e):i.addCntItem(e)}),$(n).on("$destroy",function(){i.removeCntItem(e),e.$destroy()})}}}function d(e){e.setHasLabel=function(e,t){t?(e.hasLabel=!0,e.cntColspan=1)}}function v(){return{require:"^tiFormfield",restrict:"E",replace:!0,scope:{hide:"=?",horizontalAlign:"=?",verticalAlign:"=?"},template:"",transclude:!0,link:function(e,t,n,r,i){e.hide=_.isUndefined(e.hide)?udeFn=i}}}var t=0;return e.constant("tiFormConst",{tdNumPerItem:4,colsGap:"70px",horizontalAlignOpts:{required:"required",label:"label",content:"content"},verticalAlign:"middle"}),e.directive("tiFormfield",n),r.$inject=["$scope","$attrs","tiFormConst"],e.directive("tiItem",p),d.$inject=["$scope"],e.directive("tiBtnItem",v),e.directive("itemLabelTransclude",function(){return{restrict:"A",require:"^tiFormfield",link:function(e,t,n){var r=e.$eval(n.itemLabelTransclude);r.$watch("label",function(n){_.isUndefined(n)?r.setHasLabel(r,!1):(r.setHasLabel(r,!0),t.html(""),t.append(n))})}}}),e.directive("itemContentTransclude",function(){returr=e.$ev;r.$transcludeFn(r.$parent,function(e){var n=e.filter("ti-item-label");n.length>0&&(r.label=n),r.content=e.filter(function(){return n[0]!==this}),t.html(""),t.append(r.content)})}}}),e.directive("fieldBtnTransclude",function(){return{restrict:"A",require:"^tiFormfield",link:function(e,t,n){var r=e.$eval(n.fieldBtnTransclude);r.$transcludeFn(r.$parent,function(e){t.html(""),t.append(e)})}}}),e.name}),define("components/radio/radio",["components/module"],function(e){"use strict";function t(e){function n(t,n,r,i){var s=r.id;s||(s=_.uniqueId("ti_radio_"),n.attr("id",s));var o="<label class='ti-radio' for='<%= id %>'><span class='ti-radio-skin' for='<%= id %>'></span><label class='ti-radio-label' for='<%= id %>'></label></label>",u=_.template(o)({id:s});n.after(u),n.attr("tabindex","-1");var a=n.next();t.$watch(e(r.tiRadio),function(e){var t=a.find(".ti-radio-label");_.isUndefined(e)?t.html(""):t.html(e)});var f=a.find(".ti-radio-skin");n.on("click",function(){f.focus()}),t.$watch(function(){return n.attr("disabled")},function(e){e?f.removeAttr("tabindex"):f.attr("tabindex","0")});var l=function(e){return e===32};f.on("keydown",function(e){if(n.attr("disabled"))return;var t=e.which||e.keyCode;l(t)&&e.preventDefault()}),f.on("keyup",function(e){if(n.attr("disabled"))return;var t=e.which||e.keyCode;l(t)&&(n[0].checked||(n[0].checked=!0,n.trigger("change")),i&&i.$setViewValue(r.value))})}var t={restrict:"A",priority:598,require:"?ngModel",link:n};return t}return e.directive("tiRadio",t),t.$inject=["$parse"],e.name}),define("components/dropdown/dropdown",["components/module","components/common/utils/keymap"],function(e,t){"use strict";function r(){function e(e,t,n){i(e,t,n),o(e,t,n),u(e,t)}return{restrict:"E",replace:!0,transclude:!0,scope:{elementId:"=?",options:"=?",selectedId:"=?",selectedArray:"=?",showStyle:"=?",maxHeight:"=?",panelWidth:"=?",noDataText:"=?",dominator:"=?",show:"=?",isAppendToBody:"=?",enableSearch:"=?",tipConfig:"=?",select:"&",change:"&",search:"&",isWithPagination:"=?",enableSelectAll:"=?",isShowButton:"=?",panelAlign:"=?",hOffset:"=?",okClick:"&",cancelClick:"&",isPreventedKeyboard:"=?"},templateUrl:function(e,t){return t.customDefine!==undefined?"/tiny-components/src/components/dropdown/dropdownExt.html":_.has(t,"multi")?"/tiny-components/src/components/dropdown/dropdownMulti.html":"/tiny-components/src/components/dropdown/dropdownSingle.html"},link:e}}function i(e,t,n){s(e),e.isMulti=_.has(n,"multi");vTitle)?e.selecteAllTitle:r.select_all,e.okTitle=r.ok_btn,e.cancelTitle=r.cancel_btn,e.isShowButton=_.isUndefined(e.isShowButton)?!1:e.isShowButton,e.selectedArray=_.isArray(e.selectedArray)?e.selectedArray:[],e.oldSelectedArray=angular.copy(e.selectedArray),e.noDataText=_.isString(e.noDataText)?e.noDataText:r.nodata_text,e.panelAlign=e.panelAlign==="right"?"right":"left",e.hOffset=_.isNaN(e.hOffset)?0:e.hOffset,e.elementId=_.isString(e.elementId)?e.elementId:"";var i={position:"right"};e.getTipConfig=function(t){return t.tipConfig?(t.tipConfig.position=t.tipConfig.position||"right",t.tipConfig):e.tipConfig?(e.tipConfig.position=e.tipConfig.position||"right",e.tipConfig):i},n.enableSearch!==undefined&&(e.searchObj={label:""},e.searchbox={value:"",focused:!1,elementId:e.elementId!==""?e.elementId+"_searchBox":"",change:function(n){t.find(">ul").scrollTop(0);if(window.tiny.utils.browser.ie===!0){var r=t.find(">ul"),i=parseFloat(r.css("max-height")),s=parseFloat(r.css("min-width"));r.css("max-height",i+1+"px"),r.css("min-width",s+1+"px"),setTimeout(function(){r.css("max-height",i+"px"),r.css("min-width",s+"px")},0)}e.enableSelectAll&&setTimeout(function(){var n=A(e,t),r=_.pluck(n,"id");O(e.selectedArray,r)?e.isSelectAll=!0:e.isSelectAll=!1,e.$evalAsync()},0)},search:function(t){_.isFunction(e.search())&&e.search()(t)},clear:function(){e.searchObj.label="",t.find(">ul").scrollTop(0)}}),e.show===!0?S(e,t):L(e,t)}function s(e){if(e.panelWidth==="auto"||e.panelWidth==="justified"||!_.isNaN(parseInt(e.panelWidth,10)))return;e.panelWidth="justified"}function o(e,n,r){e.panelMousedown=function(t){t.stopPropagation(),window.tiny.utils.browser.ie===!0&&(e.dominator[0].isPrevented=!0,wn=function(e){e.preventDefault(),e.stopPropagation()},e.mousedown=function(r,i){r.preventDefault();var s=r.button;if(s!==undefined&&s!==t.MOUSE_LEFT_BUTTON&&s!==t.MOUSE_MIDDLE_BUTTON)return;window.tiny.utils.browser.ie===!0&&r.stopPropagation();if(i.disable===!0)return;if(e.isMulti===!0)_.indexOf(e.selectedArray,i.id)===-1?d(e,angular.copy(i),n):v(e,angular.copy(i),n);else{var o=angular.copy(i);e.selectedId=o.id,e.show=!1,n.hasClass("ti-head-filter-without-margin-top")&&_.isFunction(o.click)&&o.click(o),_.isFunction(e.select())&&e.select()(o,r)}},e.selectAllMousedown=function(r){r.preventDefault();var i=r.button;if(i!==undefined&&i!==t.MOUSE_LEFT_BUTTON&&i!==t.MOUSE_MIDDLE_BUTTON)return;var s=e.dominator.outerHeight(),o=A(e,n);if(e.isSelectAll){for(var u=o.length-1;u>=0;u--)if(e.selectedAxOf(o[u].id);e.selectedArray.splice(a,1)}e.isSelectAll=!1}else{for(var u=0;u<o.length;u++)e.selectedArray.indexOf(o[u].id)<0&&e.selectedArray.push(o[u].id);e.isSelectAll=!0}_.isFunction(e.change())&&e.change()(e.selectedArray),setTimeout(function(){h(e,s,n),e.$evalAsync()},0)},e.buttonContainerMousedown=function(e){e.preventDefault()},e.okClickFn=function(n){var r=n.button;if(r!==undefined&&r!==t.MOUSE_LEFT_BUTTON&&r!==t.MOUSE_MIDDLE_BUTTON)return;_.isFunction(e.okClick())&&e.okClick()(e.selectedArray),e.show=!1},e.cancelClickFn=function(n){var r=n.button;if(r!==undefined&&r!==t.MOUSE_LEFT_BUTTON&&r!==t.MOUSE_MIDDLE_BUTTON)return;e.selectedArray=e.oldSelectedArray,_.isFunction(e.cancelClick())&&e.cancelClick()(e.selectedArray),e.show=!1},n.on("mousewheel DOMMouseScroll",">ul",function(e){e.stopPropagation(),e.preventDefault(),window.tiny.utils.browser.firefox?n.find(">ul")[0].scrollTop+=e.originalEvent.detail>0?120:-120:n.find(">ul")[0].scrollTop+=e.originalEvent.wheelDelta>0?-120:120}),n.on("mousewheel DOMMouseScroll",".ti-dropdown-searchbox-wrapper-outer",function(e){e.stopPropagation(),e.preventDefault()}),e.keydown=function(r){if(!e.show)return;var i=r.keyCode;switch(i){case t.KEY_ARROW_UP:a(e,n,r);break;case t.KEY_ARROW_DOWN:f(e,n,r);break;case t.KEY_ESCAPE:l(e,r);break;case t.KEY_SPACE:case t.KEY_ENTER:case t.KEY_NUMPAD_ENTER:c(e,n);break;default:}},$(document).on("keydown",e.keydown),e.hiddenPanel=function(){e.show=!1,e.$evalAsync()},e.tiScrollFn=function(){window.tiny.utils.browser.ie||e.hiddenPanel()},$(document).on("tiScroll",e.tiScrollFn),$(document).on("mousewheel DOMMouseScroll scroll tipRelocation",e.hiddenPanel),$(window).on("resize hashchange",e.hiddenPanel),r.enableSearch!==undefined&&n.on("keydown",".ti-dropdown-searchbox-wrapper-inner",function(e){var n=e.keyCode;n===t.KEY_SPACE&&e.stopPropagation()})}function u(e,t){e.$watch("show",function(n,r){if(n===r)return;n===!0?(S(e,t),e.oldSelectedId=e.selectedId,e.oldSelectedArray=angular.copy(e.selectedArray)):(L(e,t),e.oldSelectedId!==e.selectedId&&e.isMulti===!1&&_.isFunction(e.change())&&e.change()(e.selectedId))}),e.$watch("elementId",function(n){e.curElementId=_.isString(n)?n:"",e.curElementId!==""?(t.attr("id",e.curElementId),e.groupElemId=e.curElementId+"_group_",e.singleElemId=e.curElementId+"_single_"):(e.groupElemId="",e.singleElemId="")}),e.$watch("options",function(){if(e.show===!1)return;var r=e.dominator,i=r.offset(),s=r[0].offsetHeight,o=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,u,a=e.isShowButton?t.find(".ti-dropdown-button-container").outerHeight():0;if(e.showStyle==="down"){var f=o+$(document).scrollTop()-i.top-s-n;u=f>parseInt(e.maxHeight,10)?e.maxHeight:f}else if(e.showStyle==="up"){var l=i.top-$(document).scrollTop()-n;u=l>parseInt(e.maxHeight,10)?e.maxHeight:l}if(e.enableSearch===!0){var c=t.find(".ti-dropdown-searchbox-wrapper-outer")[0].offsetHeight;t.find(">ul").css("max-height",u-c-a+"px")}else t.find(">ul").css("max-height",u-a+"px")},!0),e.$watch("selectedId",function(n,r){if(n===r)return;e.isWithPagination&&e.show&&setTimeout(function(){T(e,t),e.$evalAsync()},0)}),e.isMulti&&e.$watch("selectedArray",function(n,r){if(_.isUndefined(n))return;setTimeout(function(){var n=A(e,t),r=_.pluck(n,"id");O(e.selectedArray,r)?e.isSelectAll=!0:e.isSelectAll=!1,e.$evalAsync()},0)},!0),e.$watch("dominator",function(n){if(_.isUndefined(n))return;e.isAppendToBody===!1?t.appendTo(e.dominator):t.appendTo($("body")),e.dominator.on("$destroy",function(){t.remove(),e.$destroy(),$(document).off("keydown",e.keydown),$(window).off("resize hashchange",e.hiddenPanel),$(document).off("mousewheel DOMMouseScroll scroll tipRelocation",e.hiddenPanel),$(document).off("tiScroll",e.tiScrollFn)})})}function a(e,t,n){n.preventDefault();if(e.isPreventedKeyboard)return;e.isMul}function f(e,t,n){n.preventDefault();if(e.isPreventedKeyboard)return;e.isMulti===!0?y(t):b(e,t,n)}function l(e,t){t.preventDefault(),e.show=!1,e.$evalAsync()}function c(e,t){if(e.isPreventedKeyboard)return;e.isMulti===!0?p(e,t):e.show=!1,e.$evalAsync()}function h(e,t,n){if(e.showStyle==="up")return;var r=e.dominator.outerHeight(),i=r-t,s=n[0].getBoundingClientRect().top+i+"px";n.css({top:s})}function p(e,t){var n=t.find(".ti-dropdown-option-hover");if(n.length<1){e.show=!1;return}n.hasClass("ti-dropdown-select-all-option")?n.triggerHandler("mousedown"):n.hasClass("ti-dropdown-option-selected")?v(e,angular.copy(n.scope().option),t):d(e,angular.copy(n.scope().option),t)}function d(e,t,n){e.selectedArray.push(t.id),_.isFunction(e.select())&&e.select()(t);var r=e.dominator.outerHeight();_.isFunction(e.change())&&e.change()(e.selectedArray),setTimeout(function(){h(e,r,n)},0)}function v(e,t,n){var r=_.indexOf(e.selectedArray,t.id);e.selectedArray.splice(r,1),_.isFunction(e.select())&&e.select()(t);var i=e.dominator.outerHeight();_.isFunction(e.change())&&e.change()(e.selectedArray),setTimeout(function(){h(e,i,n)},0)}function m(e){var t=e.find(".ti-dropdown-option").not(".ti-dropdown-option-disabled");if(t.length<1)return;var n=t.filter(".ti-dropdown-option-hover"),r,i;n.length<1&&(n=t.filter(".ti-dropdown-option-selected").first()),n.length>0&&(i=E(n,t)),i>0?r=$(t[i-1]):r=t.last(),n.removeClass("ti-dropdown-option-hover"),r.addClass("ti-dropdown-option-hover"),e.find(">ul").scrollTop(r[0].offsetTop-r[0].offsetHeight)}function g(e,t,n){var r=t.find(".ti-dropdown-option").not(".ti-dropdown-option-disabled");if(r.length<1)return;var i=r.filter(".ti-dropdown-option-selected"),s,o;i.length>0&&(o=E(i,r)),o>0?s=$(r[o-1]):s=r.last(),window.tiny.utils.browser.firefox&&setTimeout(function(){w(e,s,t)&&t.find(">ul").scrollTop(s[0].offsetTop)},0);var u=angular.copy(s.scope().option);e.selectedId=u.id,e.$evalAsync(),window.tiny.utils.browser.firefox||setTimeout(function(){w(e,s,t)&&t.find(">ul").scrollTop(s[0].offsetTop)},0),_.isFunction(e.select())&&e.select()(u,n)}function y(e){var t=e.find(".ti-dropdown-option").not(".ti-dropdown-option-disabled");if(t.length<1)return;var n=t.filter(".ti-dropdown-option-hover"),r,i;n.length<1&&(n=t.filter(".ti-dropdown-option-selected").first()),n.length>0&&(i=E(n,t)),i<t.length-1?r=$(t[i+1]):r=t.first(),n.removeClass("ti-dropdown-option-hover"),r.addClass("ti-0].offsetTop-r[0].offsetHeight)}function b(e,t,n){var r=t.find(".ti-dropdown-option").not(".ti-dropdown-option-disabled");if(r.length<1)return;var i=r.filter(".ti-dropdown-option-selected"),s,o;i.length>0&&(o=E(i,r)),o<r.length-1?s=$(r[o+1]):s=r.first(),window.tiny.utils.browser.firefox&&setTimeout(function(){w(e,s,t)&&t.find(">ul").scrollTop(s[0].offsetTop+s[0].offsetHeight-e.maxHeight)},0);var u=angular.copy(s.scope().option);e.selectedId=u.id,e.$evalAsync(),window.tiny.utils.browser.firefox||setTimeout(function(){w(e,s,t)&&t.find(">ul").scrollTop(s[0].offsetTop+s[0].offsetHeight-e.maxHeight)},0),_.isFunction(e.select())&&e.select()(u,n)}function w(e,t,n){return t[0].offsetTop+t[0].offsetHeight-n.find(">ul").scrollTop()-e.maxHeight>0||t[0].offsetTop-n.find(">ul").scrollTop()<0?!0:!1}function E(e,t){if(e.length<1||t.length<1)return-1;for(var n=0;n<t.length;n++)if(e[0]===t[n])return n;return-1}function S(e,t){x(e,t),setTimeout(function(){T(e,t),t.show(),k(e,t),C(e,t),e.enableSearch===!0&&(window.tiny.utils.browser.ie?e.searchbox.focused=!0:t.on("animationend",function(){e.searchbox.focused=!0,e.$evalAsync()})),e.$evalAsync()},0)}function x(e,t){var n=e.dominator,r=n.outerHeight(),i=r*8;e.maxHeight=_.isNaN(parseFloat(e.maxHeight))?i:parseFloat(e.maxHeight),t.find(">ul").css({"min-width":n.outerWidth()-2+"px","max-height":e.maxHeight-2+"px"})}function T(e,t){var r=e.dominator,i=r.outerHeight(),s=r.offset(),o=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,u=o+$(document).scrollTop()-s.top-i-n,a=s.top-$(document).scrollTop()-n,f=N(e,t),l=f.actualHeight,c=f.searchboxHeight,h=f.buttonContainerHeight,p=r[0].getBoundingClientRect(),d=e.maxHeight;if(e.panelAlign==="right")var v="auto",m=$(window).outerWidth()-p.left-r.outerWidth()+e.hOffset+"px";else var v=p.left+"px",m="auto";l<=u?(t.css({bottom:"",top:p.top+i+n/2+"px",left:v,right:m}),d>u&&(d=u),t.find(">ul").css("max-height",d-c-h+"px"),e.showStyle="down"):l<=a?(t.css({top:"",bottom:o-p.top+n/2+"px",left:v,right:m}),d>a&&(d=a),t.find(">ul").css("max-height",d-c-h+"px"),e.showStyle="up"):a>u?(t.css({top:"",bottom:o-p.top+n/2+"px",left:v,right:m}),d>a&&(d=a),t.find(">ul").css("max-height",d-c-h+"px"),e.showStyle="up"):(t.css({bottom:"",top:p.top+i-1+n/2+"px",left:v,right:m}),d>u&&(d=u),t.find(">ul").css("max-height",d-c-h+"px"),e.showStyle="down")}function N(e,t){var n=t.clone();n.css({display:"block",visibility:"hidden",left:"-9999px",position:"absolute"}).appendTo($("body"));var r=n.outerHeight(),i=0,s=0;return e.enableSearch===!0&&(i=n.find(".ti-dropdown-searchbox-wrapper-outer")[0].offsetHeight),e.isShowButton===!0&&(s=n.find(".ti-dropdown-button-container").outerHeight()),n.remove(),{actualHeight:r,searchboxHeight:i,buttonContainerHeight:s}}function C(e,t){if(e.options&&e.options.length>0&&e.options[0].hasOwnProperty("children")){if(e.isMulti===!0&&e.selectedArray.length===0){t.find(">ul").scrollTop(0);return}if(e.selectedId===""){t.find(">ul").scrollTop(0);return}}var n=t.find(".ti-dropdown-option");if(n.length<1)return;var r={};for(var i=1;i<n.length;i++){r=$(n[i]).scope().option;if(e.isMulti===!0){if(e.enableSelectAll){t.find(">ul").scrollTop(0);return}if(_.indexOf(e.selectedArray,r.id)!==-1){t.find(">ul").scrollTop(n[i-1].offsetTop);return}}else if(r.id===e.selectedId){t.find(">ul").scrollTop(n[i-1].offsetTop);return}}t.find(">ul").scrollTop(n[0].offsetTop)}function k(e,t){var n=parseInt(e.panelWidth,10);if(!isNaN(n))t.css("width",parseInt(e.panelWidth,10)+"px");else if(e.panelWidth==="auto"){t.css("width","auto"),t.css("min-width",parseInt(e.dominator[0].offsetWidth,10)+"px");if(!window.tiny.utils.browser.ie){t[0].style.width=null;var r=t[0].clientWidth,i=t[0].offsetWidth,s=i-r;i>r+2&&t.outerWidth()<t.outerWidth()+s&&t.css("width",t.outerWidth()+s-2)}}else{var o=e.dominator;t.css("width",parseInt(o[0].offsetWidth,10)+"px")}}function L(e,t){e.enableSearch===!0&&(e.searchObj={label:""},e.enableSelectAll&&e.searchbox.change("")),t.hide()}function A(e,t){var n=t.find(".ti-dropdown-option").not(".ti-dropdown-select-all-option").not(".ti-dropdown-option-disabled"),r=[];if(n.length>0)for(var i=0;i<n.length;i++){var s=$(n[i]).scope().option;r.push(s)}return r}function O(e,t){if(e instanceof Array&&t instanceof Array){if(e.length===0||t.length===0)return!1;if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])===-1)return!1;return!0}return!1}var n=10;return e.filter("groupFilter",function(){return function(e,t){return _.isUndefined(t)||t.label===""?e:_.filter(e,function(e){var n=e.children,r=!1;for(var i=0;i<n.length;i++)if(n[i].label.toLowerCase().indexOf(t.label.toLowerCase())>=0){r=!0;break}return r})}}),e.directive("tiDropdown",r),e.name}),define("components/selectDominator/selectDominator",["components/module","components/common/utils/keymap"],function(e,t){function n(e){return{restrict:"E",replace:!0,scope:{type:"=?",text:"=?",panelShow:"=?",showPosition:"=?",placeholderText:"=?",disable:"=?",focused:"=?",elementId:"=?",enableDelete:"=?",enableClear:"=?",buttonStyle:"=?",tipConfig:"=?",focus:"&",blur:"&","delete":"&",click:"&",beforeOpen:"&"},templateUrl:"/tiny-components/src/components/selectDominator/selectDominator.html",link:function(t,n,o){r(t,n,o),i(t,n),s(t,n,e)}}}function r(e,t,n){e.panelShow=!1,e.isFocused=!1,e.isDominatorMousedown=!1,e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.enableDelete=_.isUndefined(e.enableDelete)?!1:e.enableDelete,e.buttonStyle=_.isUndefined(e.buttonStyle)?"dropdown":e.buttonStyle,e.enableClear=e.enableClear===!0?!0:!1,e.showClear=!1,e.elementId=_.isString(e.elementId)?e.elementId:""}function i(e,n){e.deleteFn=function(t){if(e.disable===!0)return;window.tiny.utils.browser.ie===!0&&(e.panelShow=!1),e.text=undefined,_.isFunction(e.delete())&&e.delete()(),t.stopPropagation()},e.focusFn=function(t){if(e.disable===!0){t.preventDefault();return}if(e.isFocused!==!1)return;e.isFocused=!0,e.focused=!0,_.isFunction(e.focus())&&e.focus()()},e.selectMousedownFn=function(t){if(e.disable){t.preventDefault();return}e.isDominatorMousedown=!0,o(e)},e.menuMousedownFn=function(t){window.tiny.utils.browser.ie===!0&&t.preventDefault(),e.focused=!0},e.blurFn=function(){if(e.panelShow!==!1||e.isFocused!==!0)return;e.isFocused=!1,e.focused=!1,_.isFunction(e.blur())&&e.blur()()},e.toggle=function(){if(e.isDominatorMousedown){e.isDominatorMousedown=!1;return}e.panelShow=!1,e.blurFn(),e.$evalAsync()},$(document).on("mousedown.tiSelectDominator",e.toggle),e.keydownFn=function(n){if(e.disable||e.isFocused===!1)return;var r=n.keyCode;switch(r){case t.KEY_TAB:u(e,n);break;caseR:a(e);break;case t.KEY_SPACE:f(e,n);break;default:}},$(document).on("keydown.tiSelectDominator",e.keydownFn),e.enableClear===!0&&(e.clearMousedownFn=function(t){t.stopPropagation(),t.preventDefault(),e.showClear=!1,n.trigger("clear.tiSelect")},e.mouseenterFn=function(){!e.disable&&e.text&&_.isString(e.text)&&e.text.length>0&&(e.showClear=!0,e.$evalAsync())},e.mouseleaveFn=function(){!e.disable&&e.text&&_.isString(e.text)&&e.text.length>0&&(e.showClear=!1,e.$evalAsync())},n.on("mouseleave",e.mouseleaveFn),n.on("mouseenter",e.mouseenterFn)),n.on("$destroy",function(){$(document).off("keydown.tiSelectDominator",e.keydownFn),$(document).off("mousedown.tiSelectDominator",e.toggle)})}function s(e,t,n){e.$watch("focused",function(r,i){r===!0&&e.isFocused===!1?r===i?n(function(){t.trigger("focus")},0):t.trigger("focus"):r===!1&&e.isFocused===!0&&t.trigger("blur")})}function o(e){_.isFunction(e.click())&&e.click()(),e.panelShow===!1&&_.isFunction(e.beforeOpen())?e.beforeOpen()():e.panelShow=!e.panelShow}function u(e,t){e.panelShow&&(t.preventDefault(),e.panelShow=!1),e.$evalAsync()}function a(e){o(e),e.$evalAsync()}function f(e,t){t.preventDefault();if(e.panelShow===!0)return;o(e),e.$evalAsync()}return e.directive("tiSelectDominator",n),n.$inject=["$timeout"],e.name}),define("components/select/select",["components/module","components/dropdown/dropdown","components/selectDominator/selectDominator"],function(e){function t(){return{restrict:"E",replace:!0,scope:{placeholderText:"=?",disable:"=?",focused:"=?",panelMaxHeight:"=?",panelWidth:"=?",selectedId:"=?",options:"=?",noDataText:"=?",textTipConfig:"=?",panelTipConfig:"=?",elementId:"=?",enableSearch:"=?",enableClear:"=?",isAppendToBody:"=?",storageId:"=?",change:"&",blur:"&",focus:"&",select:"&",beforeOpen:"&",clear:"&",search:"&",isWithPagination:"=?"},templateUrl:"/tiny-components/src/components/select/select.html",link:function(e,t,s){n(e,t,s),r(e,t,s),i(e,t)}}}function n(e,t,n){e.isOpen=!1,e.showText="",e.suggestions=_.isUndefined(e.options)?[]:angular.copy(e.options),e.selectedId=_.isUndefined(e.selectedId)?"":e.selectedId,e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.enableClear=e.enableClear===!0?!0:!1,e.dominator=t.find(".ti-select-dominator-wrapper");if(e.storageId){var r=window.sessionStorage.getItem(e.storageId);r&&e.selectedId!==r&&(e.selectedId=r,s(e,t,n,e.selectedId,!1,!1))}_.isString(e.elementId)&&e.elementId!==""?(e.dropdownId=e.elementId+"_dropdown",n.id||t.attr("id",e.elementId)):e.dropdownId=""}function r(e,t,n){e.focusFn=function(){var r={evtName:"focus",attrs:n,scope:e,params:{option:e.selectedOption},isDelay:!1};window.tiny.utils.applyCallback(r),t.trigger("tiFocus")},e.blurFn=function(){var r={evtName:"blur",attrs:n,scope:e,params:{option:e..applyCallback(r),t.trigger("tiBlur")},u(n,"beforeOpen")&&(e.beforeOpenFn=function(){o(e,n)}),e.changeFn=function(r){s(e,t,n,r,!0,!1)},e.selectFn=function(t){var r={evtName:"select",attrs:n,scope:e,params:{option:t}};window.tiny.utils.applyCallback(r)},e.searchFn=function(t){var r={evtName:"search",attrs:n,scope:e,params:{content:t}};window.tiny.utils.applyCallback(r)};if(e.storageId){var r=function(){window.sessionStorage.setItem(e.storageId,e.selectedId)};$(window).on("unload",r),t.on("$destroy",function(){r(),$(window).off("unload",r)})}e.enableClear===!0&&(e.clearFn=function(r){if(e.disable)return;e.selectedId="",s(e,t,n,e.selectedId,!1,!0);var i={evtName:"clear",attrs:n,scope:e,params:{},isDelay:!0};window.tiny.utils.applyCallback(i),setTimeout(function(){e.dominator.find(".ti-select-dominator-container").blur(),t.trigger("mousedown.tiSelectDominator"),e.$evalAsync()},0)},t.on("clear.tiSelect",e.clearFn))}function i(e,t){e.$watch("options",function(t,n){if(t===n)return;e.suggestions=angular.copy(t),e.selectedOption=a(t,e.selectedId)},!0),e.$watch("selectedId",function(t){e.selectedOption=a(e.options,t)}),e.$watch("selectedOption",function(n){t[0].tiValue=n.label,e.showText=n.label},!0)}function s(e,t,n,r,i,s){var o=a(e.options,r);t[0].tiValue=_.isUndefined(o.label)?"":o.label,t.trigger("contentChange");var u={evtName:"change",attrs:n,scope:e,params:{option:o,isClear:s},isDelay:i};window.tiny.utils.applyCallback(u)}function o(e,t){var n;window.tiny.utils.isEventType(t,"beforeOpen")?n=e.beforeOpen():n=e.beforeOpen()(),!_.isUndefined(n)&&_.isFunction(n.then)?n.then(function(){e.isOpen=!0,e.$evalAsync()}):e.isOpen=!0}function u(e,t){var n={};return n.hasOwnProperty.(_.isUndefined(e)||e.length<1)return{};var n;if(_.has(e[0],"children")){var r=[];for(n=0;n<e.length;n++){r=e[n].children;for(var i=0;i<r.length;i++)if(t===r[i].id)return r[i]}}else for(n=0;n<e.length;n++)if(t===e[n].id)return e[n];return{}}return e.directive("tiSelect",t),e.name}),define("components/selectPlus/selectPlus",["components/module"],function(e){function t(){return{restrict:"E",replace:!0,scope:{text:"=?",placeholderText:"=?",disable:"=?",focused:"=?",enableDelete:"=?",elementId:"=?",click:"&","delete":"&"},templateUrl:"/tiny-components/src/components/selectPlus/selectPlus.html",link:function(e,t,n){r(e,t,n),i(e,t,n),s(e,t)}}}function n(e,t){for(var n in t)e[n]=_.isUndefined(e[n])?t[n]:e[n]}function r(e,t,r){n(e,{disable:!1,focused:!1,enableDelete:!1,elementId:""}),e.elementId=_.isString(e.elementId)?e.elementId:"",r.id||t.attr("id",e.elementId)}function i(e,t,n){e.focusFn=function(){t.trigger("tiFocus")},e.blurFn=function(){t.trigger("tiBlur")},e.deleteFn=function(){_.isFunction(e.delete())&&e.delete()(),t[0].tiValue=undefined,e.blurFn()}}function s(e,t){e.$watch("text",function(e){t[0].tiValue=e})}return e.directive("tiSelectPlus",t),e.name}),define("components/multiSelect/multiSelect",["components/module","components/dropdown/dropdown"],function(e){function t(e,t,n){e.isOpen=!1,e.isFocused=!1,e.isDominatorMousedown=!1,e.suggestions=_.isUndefined(e.options)?[]:angular.copy(e.options),e.selectedId=_.isArray(e.selectedId)?e.selectedId:[],e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.enableSearch=_.isUndefined(e.enableSearch)?!1:e.enableSearch,e.dominator=t,_.isString(e.elementId)&&e.elementId!==""?(e.dropdownId=e.elementId+"_dropdown",n.id||t.attr("id",e.elementId),e.inputElemId=e.elementId+"_input",e.inputClickElemId=e.elementId+"_input_click_",e.inputCloseElemId=e.elementId+"_input_close_",e.btnElemId=e.elementId+"_btn"):(e.dropdownId="",e.inputElemId="",e.inputClickElemId="",e.inputCloseElemId="",e.btnElemId="",e.inputCloseElemId="")}function n(e,t,n){e.deleteFn=function(t,n){if(e.disable===!0||t.disable===!0)return;e.isDeleteMousedown=!0;var r=_.indexOf(e.selectedId,t.id);e.selectedId.splice(r,1),e.content=_.without(e.content,t.label),e.changeFn(e.selectedId)},e.focusFn=function(n){if(e.disable===!0){n.preventDefault();return}if(e.isFocused===!0)return;e.isFocused=!0,e.focused=!0,_.isFunction(e.focus())&&e.focus()(),t.trigger("tiFocus")},e.searchFn=function(t){var r={evtName:"search",attrs:n,scope:e,params:{content:t},isDelay:!1};window.tiny.utils.applyCallback(r)},e.selectMousedownFn=function(t){if(e.disable){t.preventDefault();return}e.isDominatorMousedown=!0;if(e.isDeleteMousedown===!0){e.isDeleteMousedown=!1,e.isOpen===!0&&(e.isOpen=!1);return}_.isFunction(e.beforeOpen())&&e.isOpen===!1?i(e):e.isOpen=!e.isOpen},e.blurFn=function(){if(e.isOpen!==!1||e.isFocused!==!0)return;e.isFocused=!1,e.focused=!1,e.activeId=undefined;var r=f(e.options,e.selectedId),i={evtName:"blur",attrs:n,scope:e,params:{options:r},isDelay:!1};window.tiny.utils.applyCallback(i),t.trigger("tiBlur")},e.selectClickFn=function(t){if(e.disable===!0||t.disable===!0)return;e.activeId=t.id},e.changeFn=function(r){t[0].tiValue=f(e.options,r);var i={evtName:"change",attrs:n,scope:e,params:{selectedId:r},isDelay:!1};window.tiny.utils.applyCallback(i),t.trigger("contentChange")},e.menuMousedownFn=function(t){window.tiny.utils.browser.ie===!0&&t.preventDefault(),e.focused=!0},e.toggle=function(t){if(e.isDominatorMousedown){e.isDominatorMousedown=!1;return}if(e.isFocused===!1)return;e.isOpen=!1,e.blurFn(),e.$evalAsync()},$(document).on("mousedown.tiMultiSelect",e.toggle),e.keydownFn=function(t){if(e.disable||e.isFocused===!1)return;var n=t.keyCode;switch(n){case 9:s(e,t);break;case 13:case 108:o(e);break;case 32:u(e,t);break;default:}},$(document).on("keydown.tiMultiSelect",e.keydownFn),t.on("$destroy",function(){$(document).off("keydown.tiMultiSelect",e.keydownFn),$(document).off("mousedown.tiMultiSelect",e.toggle)})}function r(e,t,n){e.$watch("options",function(n,r){if(n===r)return;e.suggestions=angular.copy(n),e.content=f(n,e.selectedId),t[0].tiValue=e.content},!0),e.$watchCollection("selectedId",function(n){e.content=f(e.options,n),t[0].tiValue=e.content}),e.$watch("placeholderText",function(){a(e,t)}),e.$watch("focused",function(r,i){r===!0&&e.isFocused===!1?r===i?n(function(){t.find(".ti-multiselect-container").trigger("focus")},0):t.find(".ti-multiselect-container").trigger("focus"):r===!1&&e.isFocused===!0&&t.find(".ti-multiselect-container").trigger("blur")})}function i(e){var t=e.beforeOpen()();!_.isUndefined(t)&&_.isFunction(t.then)?t.then(function(){e.isOpen=!0,e.$evalAsync()}):e.isOpen=!0}function s(e,t){e.isOpen?(t.preventDefault(),e.isOpen=!1):e.blurFn(),e.$evalAsync()}function o(e){e.isOpen||(_.isFunction(e.beforeOpen())?i(e):e.isOpen=!0),e.$evalAsync()}function u(e,t){t.preventDefault(),_.isFunction(e.beforeOpen())?i(e):e.isOpen=!0,e.$evalAsync()}function a(e,t){t.find(".ti-select-dominator-text").attr("placeholder",e.placeholderText)}function f(e,t){if(_.isUndefined(e)||e.length<1||t.length<1)return"";var n=[],r;if(_.has(e[0],"children")){var i=[];for(r=0;r<e.length;r++){i=e[r].children;for(var s=0;s<i.length;s++)_.indexOf(t,i[s].id)!==-1&&n.push(i[s])}}else for(r=0;r<e.length;r++)_.indexOf(t,e[r].id)!==-1&&n.push(e[r]);return n}return e.directive("tiMultiSelect",["$timeout","tiTipService",function(e,i){function s(i,s,o){t(i,s,o),n(i,s,o),r(i,s,e)}return{restrict:"E",replace:!0,scope:{placeholderText:"=?",disable:"=?",focused:"=?",panelMaxHeight:"=?",panelWidth:"=?",selectedId:"=?",options:"=?",panelTipConfig:"=?",noDataText:"=?",elementId:"=?",enableSearch:"=?",change:"&",blur:"&",focus:"&",search:"&",beforeOpen:"&",enableSelectAll:"=?"},templateUrl:"/tiny-components/src/components/multiSelect/multiSelect.html",link:s}}]),e.name}),define("components/combobox/combobox",["components/module","components/dropdown/dropdown"],function(e){"use strict";function t(e){function t(t,s){n(t,s),r(t,s),i(t,s,e)}return{restrict:"E",replace:!0,scope:{autoMend:"=?",placeholderText:"=?",disable:"=?",focused:"=?",panelMaxHeight:"=?",panelWidth:"=?",elementId:"=?",change:"&",blur:"&",focus:"&",select:"&",selectedId:"=?",match:"=?",options:"=?",noMatched:"=?"},templateUrl:"/tiny-components/src/components/combobox/combobox.html",link:t}}function n(e,t){e.isFocused=!1,e.isOpen=!1,e.match=_.isUndefined(e.match)?"any-nocap":e.match,e.panelWidth=_.isUndefined(e.panelWidth)?"justified":e.panelWidth,e.suggestions=_.isUndefined(e.options)?[]:angular.copy(e.options),e.selectedId=_.isUndefined(e.selectedId)?"":e.selectedId,e.selectedOption=o(e.suggestions,e.selectedId),e.content=_.isString(e.selectedOption.label)?e.selectedOption.label.replace(/\s+/g," "):e.selectedOption.label,t[0].tiValue=e.content,e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.dominator=t,_.isString(e.elementId)&&e.elementId!==""?(e.dropdownId=e.elementId+"_dropdown",e.inputElemId=e.elementId+"_input",e.btnElemId=e.elementId+"_btn"):(e.dropdownId="",e.inputElemId="",e.btnElemId="")}function r(e,t){e.focusFn=function(n){if(e.disable===!0){n.preventDefault();return}if(window.tiny.utils.browser.ie&&t[0].isPrevented===!0){t[0].isPrevented=!1;return}e.isFocused=!0,e.focused=!0,_.isFunction(e.focus())&&e.focus()(e.selectedOption,n),t.trigger("tiFocus")},e.blurFn=function(n){if(window.tiny.utils.browser.ie&&t[0].isPrevented===!0){t.find(".ti-combobox-text").focus();return}e.autoMend=_.isUndefined(e.autoMend)?!0:e.autoMend,e.isFocused=!1,e.focused=!1,e.isOpen=!1,s(e,t),_.isFunction(e.blur())&&(e.autoMend?e.blur()(e.selectedOption,n,e.selectedOption.label):e.blur()(e.selectedOption,n,e.content)),t.trigger("tiBlur")},e.keydownFn=function(t){if(e.disable===!0){t.preventDefault();return}(t.keyCode===13||t.keyCode===108)&&f(e)&&_.isFunction(e.select())&&e.select()(e.selectedOption)},e.menuMousedownFn=function(n){if(e.disable===!0)return;n.preventDefault(),e.isFocused||t.find(".ti-combobox-text").trigger("focus"),e.suggestions=angular.copy(e.options),e.isOpen=!e.isOpen},e.changeFn=function(n){t[0].tiValue=n,t.trigger("contentChange");if(!_.isFunction(e.change())){u(e,n);return}var r=e.change()(e.selectedOption);!_.isUndefined(r)&&_.isFunction(r.then)?r.then(function(){e.isOpen=!0,e.$evalAsync()}):r===!0?e.isOpen=!0:u(e,n)},e.selectFn=function(n,r){e.content=n.label,_.isString(n.label)&&(e.content=n.label.replace(/\s+/g," ")),t[0].tiValue=e.content,t.trigger("contentChange");if(r.keyCode===38||r.keyCode===40)return;setTimeout(function(){_.isFunction(e.select())&&(e.select()(n),e.$evalAsync())},0)},t.on("$destroy",function(){e.$destroy()})}function i(e,t,n){e.$watch("options",function(t,n){if(t===n)return;e.suggestions=angular.copy(t),e.selectedOption=o(t,e.selectedId)},!0),e.$watch("selectedId",function(t,n){if(t===n)return;e.selectedOption=o(e.options,t)}),e.$watch("placeholderText",function(e,n){var r=window.tiny.utils;r.placeholder.setPlaceholder(t.find(".ti-combobox-text")[0],e)}),e.$watch("selectedOption",function(n,r){if(n===r)return;e.content=n.label,_.isString(n.label)&&(e.content=n.label.replace(/\s+/g," ")),e.selectedId=n.id,t[0].tiValue=e.content},!0),e.$watch("focused",function(r,i){r===!0&&e.isFocused===!1?r===i?n(function(){t.find(".ti-combobox-text").trigger("focus")},0):t.find(".ti-combobox-text").trigger("focus"):r===!1&&e.isFocused===!0&&t.find(".ti-combobox-text").trigger("blur")})}function s(e,t){if(e.content===""||_.isUndefined(e.content)){e.selectedOption={id:"",label:""};return}var n=e.options,r=[],i=!1;for(var s=0,o=n.length;s<o;s++){if(_.isUndefined(n[s].children))n[s].label.replace(/\s+/g," ")===e.content.replace(/\s+/g," ")&&(e.selectedOption=n[s],i=!0);else{r=n[s].children;for(var u=0;u<r.length;u++)if(r[u].label.replace(/\s+/g," ")===e.content.replace(/\s+/g," ")){e.selectedOption=r[u],i=!0;break}}if(i)break}i===!1&&e.autoMend&&(e.content=e.selectedOption.label,_.isString(e.selectedOption.label)&&(e.content=e.selectedOption.label.replace(/\s+/g," ")),t[0].tiValue=e.content)}function o(e,t){if(e.length<1)return{};if(_.has(e[0],"children")){var n=[];for(var r=0;r<e.length;r++){n=e[r].children;for(var i=0;i<n.length;i++)if(t===n[i].id)return n[i]}}else for(var r=0;r<e.length;r++)if(t===e[r].id)return e[r];return{}}function u(e,t){var n=e.options,r=[];if(t==="")r=n;else for(var i=0,s=n.length;i<s;i++)if(_.isUndefined(n[i].children))a(t.replace(/\s+/g," "),n[i].label.replace(/\s+/g," "),e.match)&&r.push(n[i]);else{var o=angular.copy(n[i]),u=o.children,f=[];for(var l=0;l<u.length;l++)a(t.replace(/\s+/g," "),u[l].label.replace(/\s+/g," "),e.match)&&f.push(u[l]);f.length>0&&(o.children=f,r.push(o))}e.suggestions=r,e.isOpen=!0}function a(e,t,n){if(_.isFunction(n))return n(e,t);var r=!1;switch(n){case"head":t.indexOf(e)===0&&(r=!0);break;case"any":t.indexOf(e)>=0&&(r=!0);break;case"head-nocap":t.toLowerCase().indexOf(e.toLowerCase())===0&&(r=!0);break;default:t.toLowerCase().indexOf(e.toLowerCase())>=0&&(r=!0)}return r}function f(e){if(e.content===""||_.isUndefined(e.content))return!1;var t=e.options,n=[],r=!1;for(var i=0,s=t.length;i<s;i++){if(_.isUndefined(t[i].children))t[i].label&&t[i].label.replace(/\s+/g," ")===e.content.replace(/\s+/g," ")&&(e.selectedOption=t[i],r=!0);else{n=t[i].children;for(var o=0;o<n.length;o++)if(n[o].label&&n[o].label.replace(/\s+/g," ")===e.content.replace(/\s+/g," ")){e.selectedOption=n[o],r=!0;break}}ifombobox",s/searchbox/searchbox",["components/module","components/dropdown/dropdown"],function(e){"use strict";function t(e){function t(e,t,s){n(e,t,s),r(e,t,s),i(e,t)}function n(e,t,n){e.isFocused=!1,e.isOpen=!1,e.value=_.isString(e.value)?e.value:"",e.isShowClear=e.value!=="",e.suggestion=_.isUndefined(e.suggestion)?[]:angular.copy(e.suggestion),e.field=_.isString(e.field)?e.field:"label",e.selectedId=_.isUndefined(e.selectedId)?"":e.selectedId,e.placeholderText=_.isUndefined(e.placeholderText)?"":e.placeholderText,e.dominator=t,isNaN(e.maxlength)||t.find(".ti-searchbox-input").attr("maxlength",e.maxlength),_.has(n,"autofocus")&&s(e,t);if(e.storageId){var r=window.sessionStorage.getItem(e.storageId);_.isNull(r)||(e.value=r)}_.isString(e.elementId)&&e.elementId!==""?(e.dropdownId=e.elementId+"_dropdown",e.inputElemId=e.elementId+"_input",e.clearBtnElemId=e.elementId+"_clear",e.searchBtnElemId=e.elementId+"_search"):(e.dropdownId="",e.inputElemId="",e.clearBtnElemId="",e.searchBtnElemId="")}function r(t,n,r){t.focusFn=function(e){t.isFocused=!0,t.focused=!0},t.blurFn=functinction(e){switch(e.keyCode){case 13:case 108:t.isOpen&&e.stopPropagation(),setTimeout(function(){var e=n.find(".ti-searchbox-input").val().trim();t.searchFn(e),t.isFocused===!0&&n.find(".ti-searchbox-input").trigger("blur")},0);break;default:}},t.searchFn=function(e){if(t.disable===!0)return;if(_.isFunction(t.search())){var r=n.find(".ti-searchbox-input").val().trim();t.search()(r)}},t.changeFn=function(n){function r(){var e=t.change()(n);if(_.isUndefined(e)||!_.isFunction(e.then)){i();return}e.then(function(){i()})}function i(){e(function(){t.suggestion.length?t.isOpen=!0:t.isOpen=!1},0)}t.selectedId="",_.isFunction(t.change())&&r()},t.selectFn=function(e,n){t.value=e[t.field];if(n.keyCode===38||n.keyCode===40)return;_.isFunction(t.disable===!0)return;t.value="",t.changeFn(""),n.find(".ti-searchbox-input").trigger("focus");var i={evtName:"clear",attrs:r,scope:t,params:{event:e},isDelay:!1};window.tiny.utils.applyCallback(i)},n.on("$destroy",function(){t.$destroy()});if(t.storageId){var i=function(){window.sessionStorage.setItem(t.storageId,t.value)};$(window).on("unload",i),n.on("$destroy",function(){i(),$(window).off("unload",i)})}}function i(t,n){t.$watch("suggestion",function(e,n){if(!_.isArray(e))return;t.dropList=angular.copy(e)},!0),t.$watch("placeholderText",function(e){var t=window.tiny.utils;t.placeholder.setPlaceholder(n.find(".ti-searchbox-input")[0],e)}),t.$watch("value",function(e,n){if(e===n)return;if(!_.isString(e)){t.value=n;return}e===""?t.isShowClear=!1:t.isShowClear=!0}),t.$watch("focused",function(r,i){r===!0&&t.isFocused===!1?r===i?e(function(){n.find(".ti-searchbox-input").trigger("focus")},0):n.find(".ti-searchbox-input").trigger("focus"):r===!1&&t.isFocused===!0&&n.find(".ti-searchbox-input").trigger("blur")})}function s(t,n){if(t.disable===!0)return;e(function(){n.find(".ti-searchbox-input").trigger("focus")},0)}return{restrict:"E",replace:!0,scope:{placeholderText:"=?",disable:"=?",maxlength:"=?",suggestion:"=?",field:"=?",value:"=?",elementId:"=?",focused:"=?",storageId:"=?",change:"&",search:"&",clear:"&"},templateUrl:function(e,t){return _.has(t,"withoutDropdown")?"/tiny-components/src/components/searchbox/searchboxWithoutDropdown.html":"/tiny-components/src/components/searchbox/searchbox.html"},link:t}}return e.directive("tiSearchbox",t),t.$inject=["$timeout"],e.name}),define("components/btnSlider/btnSlider",["components/module"],function(e){"use strict";function t(){function e(e){function t(t){if(!_.isArray(t))return;var n=t.length;for(var r=0;r<n;r++)e.values[r]={text:t[r],id:r}}function n(t){if(!_.isArray(t))return;var n=e.labelArr.length,i=t.length;for(var s=0;s<i;s++)!_.isUndefined(t[s].index)&&!_.isNaN(t[s].index)&&t[s].index>=0&&t[s].index<n&&r(t[s])}function r(t){function s(r){switch(r){case n[0]:t[n[0]]&&$.isPlainObject(t[n[0]])&&(e.values[t.index][n[0]]=t[n[0]]);break;case n[1]:t[n[1]]&&$.isPlainObject(t[n[1]])&&(e.values[t.index][n[1]]=t[n[1]]);break;case n[2]:t[n[2]]&&_.isString(t[n[2]])&&(e.values[t.index][n[2]]=t[n[2]]);break;case n[3]:_.isUndefined(t[n[3]])||(e.values[t.index][n[3]]=!!t[n[3]]);break;default:}}var n=["sup","tip","text","disable"],r;for(var i=0;i<n.length;i++)r=n[i],s(r)}e.labelArr=_.isArray(e.labelArr)?e.labelArr:window.tiny.langut(e.labelArr),n(e.data),e.changeFn=function(t){_.isFunction(e.change())&&e.change()(t)},e.$watch("labelArrs=e.values.slice(0,r.length)},!0),e.$watch("data",function(e,t){if(e===t)return;n(e)},!0)}return{restrict:"E",scope:{data:"=?",labelArr:"=?",elementId:"=?",enableDeselect:"=?",selectedId:"=?",change:"&"},templateUrl:"/tiny-components/src/components/btnSlider/btnSlider.html",replace:!0,link:e}}return e.directive("tiBtnSlider",t),e.name}),define("components/tab/tab",["components/module"],function(e){"use strict";function t(){return{restrict:"EA",transclude:!0,scope:{elementId:"=?"},replace:!0,controller:n,templateUrl:"/tiny-components/src/components/tab/tabset.html",link:function(){}}}function n(e,t){function u(e,t){angular.forEach(e,function(e){e.active&&e!==t&&(e.active=!1,t.headElement&&t.headElement.length>0&&t.headElement.parent("a").blur(),e.onDeselect()&&e.onDe=this,r=n.tabs=e.taion(e,n){u(r,e),e.active=!0,_.isUndefined(t.level2)&&e.disable!==!0&&setTimeout(function(){o(e.headElement,n)},0),e.selectCalled||(e.onSelect()&&e.onSelect()(),e.selectCalled=!0)},n.addTab=function(t){r.push(t);var n=function(){for(var e=0;e<r.length;e++)r[e].active=!1};r.length===1&&t.active!==!1?t.active=!0:t.active&&r.length>1?(n(),t.active=!0):t.active=!1};var i;n.removeTab=function(t){var s=r.indexOf(t);if(t.active&&r.length>1&&!i){var u=s===r.length-1?s-1:s+1;n.activeTab(r[u],!1)}if(!t>0&&setTimeout(function(){o(a[a.length-1].headElement,!1)},0)}r.splice(s,1)};var s=_.isString(e.elementId)?e.elementId:"";n.elementId=s,e.$on("$destroy",function(){i=!0})}function r(){function e(e,t,n,r,i){function s(t,n){t&&e.active===!0&&o(e.headElement,n)}e.tip||(e.tip={}),_.isString(e.elementId)&&e.elementId!==""?e.elemId=r.elementId+"_"+e.elementId:e.elemId="",r.addTab(e),e.$watch("active",function(t,n){t===n&&t?r.activeTab(e,!0):t&&r.activeTab(e,!1)}),e.select=function(){e.disable||(e.active=!0)},e.$on("ngShowDone",function(e,t){s(t,!0)}),e.$on("ngHideDone",function(e,t){s(!t,!0)}),e.$on("$destroy",function(){r.removeTab(e);if(r.tabs.length===0){var n=t.closest("ul").next(".ti-tab-slider");n.css({width:0,left:0})}}),e.$transcludeFn=i}return{require:"^tiTabs",restrict:"EA",replace:!0,templateUrl:"/tiny-components/src/components/tab/tab.html",transclude:!0,scope:{active:"=?",disable:"=?",tip:"=?",elementId:"=?",onSelect:"&",onDeselect:"&"},controller:function(){},link:e}}function i(){return{restrict:"A",require:"?^tiTab",link:function(e,t){e.$watch("headElement",function(n){n&&(t.html(""),t.append(n))})}}}function s(){function e(e,t,n){var r=e.$eval(n.tiTabBodyHtml);r.$transcludeFn(r.$parent,function(e){var n=e.filter("ti-tab-head"),i=e.not($("ti-tab-head"));r.headElement=n,t.append(i)})}return{restrict:"A",require:"?^tiTab",link:e}}function o(e,t){if(e.closest("li.ti-tab-li").length<1||e.closest(".ti-tabs-container").length<1)return;var n=e.closest("li.ti-tab-li").offset().left-e.closest(".ti-tabs-container").offset().left,r=e.closest("li.ti-tab-li").outerWidth(),i=e.closest("ul").next(".ti-tab-slider"),s=t?"none":"left 0.1s ease-in-out";i.css({transition:s,width:r,left:n})}return e.directive("tiTabs",t),n.$inject=["$scope","$attrs"],e.directive("tiTab",r),e.directive("tiTabHeadHtml",i),e.directive("tiTabBodyHtml",s),e.name}),define("components/text/text",["components/module","components/tip/tip","components/common/utils/keymap"],function(e,t,n){"use strict";function r(e,t,n){function i(e,t,n){s(e,t,n),o(e,t,n),u(e,t,n)}function s(t,n,r){t.hasFocused=!1;if(r.type==="password"&&r.autocomplete!=="on")height:0;posit-1">';$(i).insertBefore(n),n.attr("autocomplete","off")}a(n)&&f(t,n,r);var s=t.$eval(r.storageId);if(s){var o=window.sessionStorage.getItem(s);_.isNull(o)||(n.val(o),_.isUndefined(r,o),t.$evalAsync())}}function o(t,n,i){ftentChange")},0):n.trigger("contentChange")}n.on("focus",function(){n.trigger("tiFocus"),r=!0,_.isUndefined(i.focused)||e(i.focused).assign(t,!0),!t.hasFocused&&window.tiny.utils.browser.chrome&&n[0].selectionDirection&&n[0].setSelectionRange(0,0),t.hasFocused=!0}),n.on("blur",function(){n.trigger("tiBlur"),r=!1,_.isUndefined(i.focused)||e(i.focused).assign(t,!1)}),a(n)&&$(".ti-text-clear",n.parent()).on("mousedown",function(){if(!_.isUndefined(n.attr("disabled")))return;n.val(""),_.isUndefined(i.ngModel)||e(i.ngModel).assign(t,""),t.$evalAsync(),o(),setTimeout(function(){n.trigger("focus")},0)});var s=window.tiny.utils;n.on("input",function(){o()}),s.browser.ie&&s.browser.version<10&&(n.on("cut",function(){setTimeout(function(){o()},0)}),n.on("keyup",function(e){(e.keyCode===8||e.keyCode===46)&&o()}));if(s.browser.ie&&i.type==="password"){var u=function(e){e.keyCode===9&&n[0]===document.activeElement&&n[0].select()},f=angular.element(document);f.bind("keyup",u),n.on("$destroy",function(){f.unbind("keyup",u)})}var l=t.$eval(i.storageId);if(l){var c=function(){var e=n.val();window.sessionStorage.setItem(l,e)};$(window).on("unload",c),n.on("$destroy",function(){c(),$(window).off("unload",c)})}}function u(e,n,i){_.isUndefined(i.placeholderText)||e.$watch(i.placeholderText,function(e){window.tiny.utils.placeholder.setPlaceholder(n[0],e)}),_.isUndefined(i.focused)||e.$watch(i.focused,function(e,i){e===!0&&r===!1?e===i?t(function(){n.trigger("focus")},0):n.trigger("focus"):e===!1&&r===!0&&n.trigger("blur")})}function a(e){return!_.isUndefined(e.parent().attr("ti-clear"))}function f(e,t){var n=t.parent();n.addClass("ti-text-clear-container");var r=$('<div class="ti-text-clear ti-icon ti-icon-close"></div>');n.append(r),e.$watch(function(){return t.val()},function(e){_.isString(e)&&e!==""?(r.css("display","block"),t.addClass("ti-text-input-show-clear")):(r.css("display","none"),t.removeClass("ti-text-input-show-clear"))})}var r=!1;return{restrict:"A",link:i}}return e.directive("tiText",r),r.$inject=["$parse","$timeout","tiTipService"],e.name}),define("components/textarea/textarea",["components/module"],function(e){"use strict";function t(e,t,n){var r=!1,i={restrict:"A",link:function(i,s,o){function A(e,t,n){var r=e;e.length>n&&(r=e.slice(0,n),s.val(r)),g(i,r),O(r,t)}function O(e,t){var n=e.length;t.text(n),n>0?t.addClass("ti-textarea-counter-inputed"):t.removeClass("ti-textarea-counter-inputed")}function M(){u.browser.ie?setTimeout(function(){s.trigger("contentChange")},0):s.trigger("contentChange")}function D(e){e?s.attr("spellcheck",!1):s.attr("spellcheck",!0)}function P(){i.$on("$destroy",function(){$(document).off("mousemove",F).off("mouseup",U),s.closest("div.ti-textarea-container").length>0&&s.cloemove()})}function H(t){var n=s.css(t),r=0;if(n!==""&&n!=="none"&&n!=="0px")r=n.toString().replace(/px/,"")-0;else switch(t){case"min-width":r=e.minWidth;break;case"min-height":r=e.minHeight;break;case"max-width":r=e.maxWidth;break;case"max-height":r=e.maxHeight;break;default:}return r}function B(t){var n=$("body");n.toggleClass(e.unSelectableClass,t),t?n.attr("unselectable","on"):n.removeAttr("unselectable")}function j(){T.storeWidth=$(T.$target).parents(".ti-textarea-container").outerWidth(),T.storeHeight=$(T.$target).parents(".ti-textarea-container").outerHeight()}function F(e){if(T.mouseXPosition===0&&T.mouseYPosition===0||!T.$target)return;I(e)}function I(e){e.preventDefault();var t=T.storeWidth,n=T.storeHeight,r=e.pageX-T.mouseXPosition,i=e.pageY-T.mouseYPosition;S!=="vertical"&&t+r>=N&&t+r<k&&(T.storeWidth+=r,q($(T.$target).parents(".ti-textarea-container"),T.storeWidth)),S!=="horizontal"&&n+i>=C&&n+i<L&&(T.storeHeight+=i,R($(T.$target).parents(".ti-textarea-container"),T.storeHeight)),T.mouseXPosition=e.pageX,T.mouseYPosition=e.pageY}function q(e,t){e.css("width",t)}function R(e,t){e.css("height",t)}function U(){s.has("ti-textarea-resize-border");try{z(),B(!1)}catch(e){}}function z(){T.mouseXPosition=0,T.mouseYPosition=0,j(),T.$target=null}var u=window.tiny.utils,a=$('<div class="ti-textarea-container"></div>'),f=parseInt(i.$eval(o.height),10);f=_.isNaN(f)?0:f;var l=parseInt(i.$eval(o.width),10);l=_.isNaN(l)?0:l;var c=f||s.css("height"),h=l||s.css("width"),p=s.css("margin");parseInt(c)<e.minHeight&&(c=e.minHeight+"px"),a.css({height:c,width:h,margin:p}),o.class&&(s.removeClass(o.class),a.addClass(o.class)),s.css("margin",""),s.wrap(a),o.autofocus!==undefined&&s.focus();if(!isNaN(o.maxlength)&&o.maxlength!==""){var d=o.maxlength,v=Number(u.browser.version.split(".")[0]);u.browser.chrome&&v<55&&o.$set("maxlength","");var m=t(o.ngModel),g=m.assign,y=0,b=$('<span class="ti-textarea-counter"><span class="ti-textarea-counter-count">'+y+"</span>"+"/"+d+"</span>");s.parent(".ti-textarea-container").hasClass("ti-textarea-container-counter")||-container-counter"),b.insertAfter(s);var w=$(".ti-textarea-.val()},function(e){A(e,w,d)}),o.$set("ngTrim","false")}else s.parent(".ti-textarea-container").hasClass("ti-textarea-container-counter")&&s.parent(".ti-textarea-container").removeClass("ti-textarea-container-counter");i.$watch(function(){return!_.isUndefined(s.attr("disabled"))||i.$eval(o.ngDisabled)},function(e){e===!0?s.parent().addClass("ti-textarea-container-disable"):s.parent().removeClass("ti-textarea-container-disable")});var E=i.$eval(o.resize),S=_.isUndefined(E)?e.resize:E;if(S!=="none"){var xspan>'),T={$target:null,storeWidth:0,storeHeight:0,mouseXPosition:0,mouseYPosition:0},N=H(=H("max-width"),L=H("max-height");s.css({"min-width":"","min-height":"","max-width":"","max-height":""}),x.insertAfter(s),x.on("mousedown",function(e){s.addClass("ti-textarea-resize-border"),T.$target=$(e.target),T.mouseXPosition=e.pageX,T.mouseYPosition=e.pageY,j(),B(!0)}),x.on("mouseup",function(e){s.removeClass("ti-textarea-resize-border")}),$(document).on("mousemove",F).on("mouseup",U),P()}i.$watch(function(){return i.$eval(o.placeholderText)},function(e){u.placeholder.setPlaceholder(s[0],e)}),_.isUndefined(o.focused)||i.$watch(o.focused,function(e,t){e===!0&&r===!1?e===t?n(function(){s.trigger("focus")},0):s.trigger("focus"):e===!1&&r===!0&&s.trigger("blur")}),s.on("focus",function(){s.trigger("tiFocus"),r=!0,_.isUndefined(o.focused)||t(o.focused).assign(i,!0)}),s.on("blur",function(){s.trigger("tiBlur"),r=!1,_.isUndefined(o.focused)||t(o.focused).assign(i,!1)}),s.on("input",function(e){M(e)}),u.browser.ie&&u.browser.version<10&&(s.on("cut",function(e){setTimeout(function(){M(e)},0)}),s.on("keyup",function(e){(e.keyCode===8||e.keyCode===46)&&M(e)})),u.browser.ie&&i.$watch(function(){return s.val()===""},function(e){D(e)})}};return i}return e.constant("tiTextAreaConfig",{resize:"both",minWidth:60,minHeight:64,maxWidth:1280,maxHeight:9999,unSelectableClass:"ti-unselectable"}),e.directive("tiTextarea",t),t.$inject=["tiTextAreaConfig","$parse","$timeout"],e.name}),define("components/time/time",["components/module"],function(e){"use strict";function t(e,t,n){function r(e,t,n){i(e,t,n),l(e,t),v(e,t)}function i(e,t,n){s(e),o(e),O(e,t),u(e),a(e),f(e),!n.id&&_.isString(e.elementId)&&e.elementId!==""&&t.attr("id",e.elementId)}function s(r){if(_.isString(r.format))return;t.defaultConfig.datetime.isNgLocaleFormat?r.format=n.getDateTimeFormat("time"):r.format=e.defaultValue.format}function o(e){e.showValue={hour:"00",minute:"00",second:"00",ampm:"AM"};var t=e.format.replace(/a/,""),n=t.split(":");e.formats={hour:n[0]&&n[0].trim(),minute:n[1]&&n[1].trim(),second:n[2]&&n[2].trim()},e.show={minute:e.formats.minute==="m"||e.formats.minute==="mm",second:e.formats.second==="s"||e.formats.second==="ss",ampm:e.formats.hour==="hh"||e.formats.hour==="h"}}function u(t){t.maxValue=C(t.maxValue)?t.maxValue:e.defaultValue.maxValue,t.minValue=C(t.minValue)?t.minValue:e.defaultValue.minValue,m(t.maxValue,t.minValue)&&(t.maxValue=e.defaultValue.maxValue,t.minValue=e.defaultValue.minValue)}function a(e){C(e.value)||(C(e.nowTime)?e.value=n.formatTime(e.nowTime,w(e)):e.value=n.formatTime(new Date,w(e))),m(e.value,e.minValue)&&(e.value=e.minValue),g(e.value,e.maxValue)&&(e.value=e.maxValue)}function f(e){var t=new Date("2015/2/14 "+A(e.value));e.value=n.formatTime(t,w(e)),e.showValue.hour=n.formatTime(t,e.formats.hour),e.show.minute&&(e.showValue.minute=n.formatTime(t,e.formats.minute)),e.show.second&&(e.showValue.second=n.formatTime(t,e.formats.second)),e.show.ampm&&(e.showValue.ampm=n.formatTime(t,"a"))}function l(e,t){c(e),h(e),p(e),d(e,t),t.on("$destroy",function(){e.$destroy()})}function c(e){e.hourKeyup=function(t){var n,r=e.formats.hour;if(t.keyCode===38){n=+e.showValue.hour,k(r)?n>=12?n=1:n+=1:n>=23?n=0:n+=1,e.showValue.hour=r==="hh"||r==="HH"?L(n,2):n,e.value=E(e),T(t.target);return}t.keyCn-=1:n===0||n>23?n=23:n-=1,e.showValue.hour=r==="hh"||r==="HH"?L(n,2):n,e.value=E(e),T(t.target))},e.minuteKeyup=function(t){var n,r=e.formats.minute;if(t.keyCode===38){n=+e.showValue.minute,n>=59?n=0:n+=1,e.showValue.minute=r==="mm"?L(n,2):n,e.value=E(e),T(t.targ&&(n=+e.showValue.minute,n===0||n>59?n=59:n-=1,e.showValue.minute=r==="mm"?L(n,2):n,e.value=E(e),T(t.target))},e.secondKeyup=function(t){var n,r=e.formats.second;if(t.keyCode===38){n=+e.showValue.second,n>=59?n=0:n+=1,e.showValue.second=r==="ss"?L(n,2):n,e.value=E(e),T(t.target);return}t.keyCode===40&&(n=+e.showValue.second,n===0||n>59?n=59:n-=1,e.showValue.second=r==="ss"?L(n,2):n,e.value=E(e),T(t.target))},e.ampmKeyup=function(t){if(t.keyCode===38||t.keyCode===40){var n;n=e.showValue.ampm,e.showValue.ampm=n==="AM"?"PM":"AM",e.value=E(e),T(t.target)}}}function h(e){e.hourFocus=function(t){e.focusedTime="hour",t.target.select()},e.minuteFocus=function(t){e.focusedTime="minute",t.target.select()},e.secondFocus=function(t){e.focusedTime="second",t.target.select()},e.ampmFocus=function(t){e.focusedTime="ampm",t.target.select()}}function p(e){e.hourChange=function(){e.showValue.hour=S(e.showValue.hour),e.value=E(e)},e.minuteChange=function(){e.showValue.minute=S(e.showValue.minute),e.value=E(e)},e.secondChange=function(){e.showValue.second=S(e.showValue.second),e.value=E(e)},e.ampmChange=function(){e.value=E(e)}}function d(e,t){e.hourBlur=function(){var n=parseInt(e.showValue.hour);if(n<0||n>23)e.showValue.hour="23",e.value=E(e);N(e,t)},e.minuteBlur=function(){var n=parseInt(e.showValue.minute);if(n<0||n>59)e.showValue.minute="59",e.value=E(e);N(e,t)},e.secondBlur=function(){var n=parseInt(e.showValue.second);if(n<0||n>59)e.showValue.second="59",e.value=E(e);N(e,t)},e.ampmBlur=function(){N(e,t)}}function v(e,t){e.$watch("value",function(t,n){if(t===n)return;if(e.value===E(e)){D(e);return}if(!M(e)){e.value=n;return}f(e),D(e)}),e.$watch("minValue",function(t,n){if(t===n)return;if(!P(e)){e.minValue=n;return}C(e.value)&&m(e.value,e.minValue)&&(e.value=e.minValue)}),e.$watch("maxValue",function(t,n){if(t===n)return;if(!H(e)){e.maxValue=n;return}C(e.value)&&g(e.value,e.maxValue)&&(e.value=e.maxValue)}),e.$watch("rmat=r;return}var i=e.format.split(":");e.formats={hour:i[0],minute:i[1],second:i[2]},e.show={minute:e.formats.minute==="m"||e.formats.minute==="mm",second:e.formats.second==="s"||e.formats.second==="ss",ampm:e.formats.hour==="hh"||e.formats.hour==="h"},O(e,t),C(e.value)&&f(2015/2/14 "+A(e))<Date.parse("2015/2/14 "+A(t))}function g(e,t){return Date.parse("2015/2/14 "+A(e))>Date.parse("2015/2/14 "+A(t))}function y(e,t){return Date.parse("2015/2/14 "+A(e))<=Date.parse("2015/2/14 "+A(t))}function b(e,t){return Date.parse("2015/2/14 "+A(e))>=Date.parse("2015/2/14 "+A(t))}function w(e){return k(e.formats.hour)&&!e.format.match(/a/)?e.format+" a":e.format}function E(e){var t=e.showValue,n=(t.hour+"").trim(),r=n+(e.show.minute?":"+t.minute:"")+(e.show.second?":"+t.second:"")+(e.show.ampm?" "+t.ampm:"");r),n="";return _.each(t,function(e){e.match(/[0-9]/)&&(n+=e)}),n}function x(e){var t=!1,n=$("input",e);for(var r=0;r<n.length;r++)if(n[r]===document.activeElement){t=!0;break}return t}function T(e){setTimeout(function(){e.select()},0)}function N(e,t){setTimeout(function(){if(x(t))return;e.$evalAsync(function(){a(e),f(e),setTimeout(function(){_.isFunction(e.blur())&&e.blur()(e.value)},0)})},0)}function C(e){if(!_.isString(e)||e.trim()==="")return!1;var t=new Date("2015/2/14 "+A(e));return t!="Invalid Date"}function k(e){return e==="hh"||e==="h"}function L(e,t){var n="00"+e;return n.substr(n.length-t,t)}function A(e){if(e.match(/:/))return e;var t=e.match(/am|AM|pm|PM/);return t=t||"",parseInt(e,10)+": "+t}function O(e,t){var n=42;n=n+(e.show.minute?23:0)+(e.show.second?23:0)+(e.show.ampm?20:0),t.css("min-width",n+"px")}function M(e){var t=e.value;return C(t)&&b(t,e.minValue)&&y(t,e.maxValue)}function D(e){_.isFunction(e.change())&&e.change()(e.value)}function P(e){var t=e.minValue;return C(t)&&y(t,e.maxValue)}function H(e){var t=e.maxValue;return C(t)&&b(t,e.minValue)}function B(e){return _.isString(e.format)}return{restrict:"E",priority:999,scope:{format:"=",value:"=",maxValue:"=",minValue:"=",disable:"=",nowTime:"=",elementId:"=?",change:"&",blur:"&"},templateUrl:"/tiny-components/src/components/time/time.html",replace:!0,link:r}}return e.provider("timeService",function(){this.defaultValue={format:"HH:mm:ss","0:0:0"},this.$get=function(){var e={defaultValue:this.defaultValue};return e}}),e.directive("tiTime",t),t.$inject=["timeService","tiConfig","tiService"],e.name}),define("components/modal/modal",["components/module"],function(e){"use strict";function t(e,t,n,r,i,s,o){function h(e,t){f.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,closedDeferred:t.closedDeferred,modalScope:t.modalScope,backdrop:t.backdrop,closeOnEsc:ion:t.animation,appendTo:t.appendTo,draggable:t.draggable,modalClass:t.modalClass,backdropClass:t.backdropClass,destroyedOnHashchange:t.destroyedOnHashchange,recycleSelector:t.recycleSelector,recycleAnimateClass:t.recycleAnimateClass}),D(t);var n=P(t);f.top().value.modalDomEl=n,c.clearFocusListCache()}function p(e,t){o.id=null;var n=f.get(e);return n&&_(n,t,!0)?(n.value.modalScope.isDestroyed=!0,n.value.deferred.resolve(t),k(e),!0):!n}function d(e,t){o.id=null;var n=f.get(e);return n&&_(n,t,!1)?(n.value.modalScope.isDestroyed=!0,n.value.deferred.reject(t),k(e),!0):!n}function v(e){var t=c.getTop();while(t&&c.dismiss(t.key,e))t=c.getTop()}function m(){return f.top()}function g(e){var t=f.get(e);t&&t.value.renderDeferred.resolve()}function y(){return l.length>0?(l[0].focus(),!0):!1}function b(){return l.length>0?(l[l.length-1].focus(),!0):!1}function w(e,t){if(e&&t){var n=t.value.modalDomEl;iget||e.srcElement)===n[0]}return!1}function E(e){return l.length>0?(e.target||e.srcElement)===l[0]:!1}function S(e){return l.length>0?(e.target||e.srcElement)===l[l.length-1]:!1}function x(){l=[]}function T(e){if(l===undefined||!l.length)if(e){var t=e.value.modalDomEl;t&&t.length&&(l=t[0].querySelectorAll(o.tababbleSelector),l=$(l).filter(":visible"))}}function N(){var e=-1,t=f.keys();for(var n=0;nalue.backdrop&&(e=n);return e}function C(e){if(!e||!e.value||!e.value.modalDomEl)return;var t=$(e.value.modalDomEl.find(".ti-modal-content")[0]),n=$(e.value.recycleSelector),r=e.value.recycleAnimateClass;if(!n||n.length===0)return;if(!t||t.length===0)return;var i=n.offset().left-$(document).scrollLeft()+n.innerWidth()/2,s=n.offset().top-$(document).scrollTop()+n.innerHeight()/2,o=t.llLeft()+t.innerWidth()/2,u=t.offset().top-t.position().top-$(document).scrollTop()+t.innerHeight()/2,a=i-o,f=s-u;t.css({opacity:1,left:a,top:f,transform:"scale(0.01)",transition:"all ease-out 0.3s"}),n.removeClass(r),t.on("transitionend",function(){n.addClass(r)})}function k(t){var n=c.getTop(),r=f.get(t).value,i=r.appendTo;n&&n.value&&C(n),f.remove(t),A(r.modalDomEl,r.modalScope,function(){f.length()===0&&e.removeClass(i,o.modalOpenedClass)},r.closedDeferred),u&&N()===-1&&L()}function L(){A(u,a),u=null,a=null}function A(t,n,r,s){function a(){return o||(o=i.defer(),u=o.promise),function(){o.resolve()}}function f(){if(f.done)return;f.done=!0,e.leave(t).then(function(){s&&s.resolve()}),n.$destroy(),r&&r()}var o,u=null;return n.$broadcast(c.NOW_CLOSING,a),i.when(u).then(f)}function O(){var e=f.length(),t=f.keys();while(e>0)e--,f.get(t[e]).value.destroyedOnHashchange!==!1&&(t[e]&&t[e].dismiss("Hashchange"),r.$evalAsync())}function M(e){if(e.isDefaultPrevented())return e;var t=f.top();if(t)switch(e.which){case 27:t.value.closeOnEsc&&(e.preventDefault(),r.$evalAsync(function(){c.dismiss(t.key,"escape key press")}));break;case 9:c.getFocusElementList(t);var n=!1;if(e.shiftKey){if(c.isFocusInFirstIt)n=c.focusLastFocusableElement()}else c.isFocusInLastItem(e)&&(n=c.focusFirstFocusableElement());n&&(e.preventDefault(),e.stopPropagation());break;default:}return e}function _(e,t,n){var r=e.value.modalScope.$broadcast(o.onClosing,t,n);return!r.defaultPrevented}function D(t){var i=t.appendTo,s=N();s>=0&&!u&&(a=r.$new(!0),a.modalOptions=t,a.index=s,u=angular.element("<div ti-modal-backdrop></div>"),t.backdropClass&&u.addClass(t.backdropClass),t.animation&&u.attr("ti-animation","true"),n(u)(a),e.enter(u,i))}function P(t){var r=t.appendTo,i=angular.element("<div ti-modal-window></div>");return i.attr({"template-url":t.modalTemplateUrl,index:f.length()-1}).html(t.content),t.animation&&i.attr("ti-animation","true"),e.enter(n(i)(t.modalScope),r).then(function(){e.addClass(r,o.modalOpenedClass)}),i}var u,a,f=s.initCache(),l,c={NOW_CLOSING:o.nowClosing,open:h,close:p,dismiss:d,dismissAll:v,getTop:m,modalRendered:g,focusFirstFocusableElement:y,focusLastFocusableElement:b,isModalFocused:w,isFocusInFirstItem:E,isFocusInLastItem:S,clearFocusListCache:x,getFocusElementList:T};return r.$watch(N,function(e){a&&(a.index=e)}),t.on("keydown",M),$(window).on("hashchange",O),r.$on("$destroy",function(){t.off("keydown",M),$(window).off("hashchange",O)}),c}function n(e,t,n,r){function s(i,s,o){i.close=function(t){var n=e.getTop(),r=n&&n.value.backdrop&&n.value.backdrop!=="static"&&t.target===t.currentTarget;r&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",i.close),i.$isRendered=!0,i.$dialogEle=angular.element(".ti-modal-dialog",s);var u=t.defer();o.$observe("modalRender",function(e){e==="true"&&u.resolve()}),u.promise.then(function(){function a(){var e=$(window).scrollLeft(),t=$(window).scrollTop(),n=$(window).innerWidth()-i.$dialogEle.width();n=n>0?n:0;var r=$(window).innerHeight()-i.$dialogEle.height();return r=r>0?r:0,r+=t,n+=e,[e,t,n,r]}function f(){$(u.value.modalDomEl.find(".ti-modal-content")[0]).draggable("option","containment",a())}function c(){var e=i.$dialogEle.height(),t=$(window).innerHeight(),n=t-e,r=parseFloat(angular.element(".ti-modal-dialog",s).css("margin-top"),10),o=t-e-r;if(l){h(n);var u=parseFloat(angular.element(".ti-modal-dialog",s).css("margin-top"),10);u>150&&angular.element(".ti-modal-dialog",s).css({"margin-top":150})}o<0&&(h(n),l=!0)}function h(e){var t;e>6?t=e/2:t=3,angular.element(".ti-modal-dialog",s).css({"margin-top":t})}function E(e){return e in document.body.style}function S(){var t=r[0].activeElement&&s[0].contains(r[0].activeElement);if(!t){var n=s[0].querySelector("[autofocus]");n?n.focus():s[0].focus()}else{$(r[0].activeElement).focus();var i=angular.element(r[0].activeElement).isolateScope();i&&i.isOpen&&(i.isOpen=!1,i.$evalAsync())}u&&e.modalRendered(u.key)}var u=e.getTop();u&&u.value.draggable&&(u.value.modalDomEl.find(".ti-modal-header").on("mousedown",f),$(u.value.modalDomEl.find(".ti-modal-content")[0]).draggable({handle:".ti-modal-header,.ti-modal-header > *",containment:a(),scroll:!1,cancel:".ti-select-dominator-container,.ti-combobox-container,input,textarea,button,select,option"}),i.windowResize=function(){var e=angular.element(".ti-modal-content",s);e.css({top:0,left:0})},$(window).on("resize",i.windowResize),i.$on("$destroy",function(){$(window).off("resize",i.windowResize),$(window).off("resize",c),u.value.modalDomEl.find(".ti-modal-header").off("mousedown",f)}),u.value.modalDomEl.find(".ti-modal-header"i-icon ti-icon-close"),u.value.mol=!1;c(),$(window).on("resize",c);var p=u.value.modalDomEl.find(".ti-modal-content"),d=p.length>0?p[0].getBoundingClientRect().width:0,v=u.value.modalDomEl.find(".ti-modal-header"),m=v.length>0?v[0].getBoundingClientRect().height:0,g=u.value.modalDomEl.find(".ti-modal-footer"),y=g.length>0?g[0].getBoundingClientRect().height:0,b=d-m-y;u.value.modalDomEl.find(".ti-modal-body").css("max-height",b+"px");var w=null;o.modalInClass&&(w=n.addClass(s,o.modalInClass),i.$on(e.NOW_CLOSING,function(e,t){var r=t();u&&u.value.animation?n.removeClass(s,o.modalInClass).then(r):r()})),u&&u.value.animation&&E("transform")?$(".ti-modal-dialog",s).on("transitionend",function(e){var t=e.target||e.srcElement;if(t!==$(this)[0])return;S()}):t.when(w).then(function(){S()})})}var i={scope,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"/tiny-components/src/components/modal/window.html"},e.addClass(r,i.modalInClass),n.$on(t.NOW_CLOSING,function(t,s){var o=s();n.modalOptions.animation?e.removeClo):o()}))}return{replace:!0,templateUrl:"/tiny-components/src/components/modal/backdrop.html",link:n}}return e.constant("tiModalConst",{modalOpenedClass:"ti-modal-open",nowClosing:"tiModal.nowClosing",tababbleSelector:"a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled])], *[contenteditable=true]",onClosing:"tiModal.onClosing",id:null}),e.provider("tiModal",function(){var e=this.defaults={animation:!0,backdrop:"static",closeOnEsc:!0,draggable:!0,destroyedOnHashchange:!0};this.setDefaults=function(t){angular.extend(e,t)},this.$get=["$rootScope","$q","$injector","$document","$templateRequest","$controller","tiModalProcessor","tiModalConst",function(t,n,r,i,s,o,u,a){function c(e){function b(){return y}function E(){var e=r.scope||t,n=e.$new();return n.closeTiDialog=g.close,n.dismissTiDialog=g.dismiss,n.$on("$destroy",function(){n.isDestroyed||n.dismissTiDiaon S(e,t),s=1;i.tiModalInstance=g,i.$scope=t,angular.forEach(r.resolve,function(t,n){i[n]=e[s++]}),n=o(r.controller,i),r.controllerAs&&(a.id&&e.id&&_.isEqual(a.id,e.id)&&l)return l;a.id=e.id;varedPromise:m.promise,close:function(e){return u.close(g,e)},dismiss:function(e){return u.dismiss(g,e)}};l=g;var y=n.all([h(r)].concat(p(r.resolve))),w;return w=f=n.all([f]).then(b,b).then(function(t){var n=E();S(t,n),u.open(g,{modalScope:n,deferred:i,renderDeferred:m,closedDeferred:c,content:t[0],animation:r.animation,backdrop:r.backdrop,closeOnEsc:r.closeOnEsc,backdropClass:r.backdropClass,modalClass:r.modalClass,modalTemplateUrl:r.modalTemplateUrl,appendTo:r.appendTo,showCloseIcon:r.showCloseIcon,draggable:r.draggable,destroyedOnHashchange:r.destroyedOnHas-hide-to-dom-animate"}),s.resolve(!0)ar t=n.defer(),r=e.template,i=e.templateUrl;return r?t.resolve(r):i&&s(i,!0).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}function p(e){var t=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?t.ing((e){if(!e.template&&!e.templateUrl)throw new Error("No template or templateUrl has ent(e.appendTo).length===0)throw new Error("appendTo element not found. Make sure that the element passed is in DOM."return pendTo=t.appendTo||i.find("body").eq(0),n}var f=null,l=null;return{open:c}}]}),e.factory("tiModalProcessor",t),t.$inject=["$animate","$document","$compile","$rootScope","$q","tiModalCache","tiModalConst"],e.directive("tiModalTransclude",function(){return{i(e.$parent,funodalAnimationClass",function(){return{compile:function(e,t){t.tiAnimation&&e.addClass(t.tiModalAnimationClass)}}}),e.directive("tiModalWindow",n),n.$inject=["tiModalProcessor","$q","$animate","$document"],e.directive("tiModalBackdrop",r),r.$inject=["$animate","tiModalProcessor"],e.service("tiModalCache",function(){this.initCache=function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){return _.find(e,function(e){return t===e.key})},keys:function(){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){var n=-1;for(var r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}),e.name}),define("components/common/utils/focused",["components/module"],function(e){"use strict";return e.directive("tiFocused",["$timeout",function(e){return{restrict:"A",scope:{tiFocused:"="},link:function(t,n){t.$watch("tiFocused",function(t){t&&e(function(){n[0].focus()})}),n.on("blur",function(){t.$evalAsync(function(){t.tiFocused=!1})})}}}]),e.name}),define("components/message/message",["components/module","components/modal/modal","components/common/utils/focused"],function(e){"use strict";function t(e){var t=this.defaults={type:e.confirm,content:"",closeable:!0,okBtn:!0,cancelBtn:!0,templateUrl:"/tiny-components/src/components/message/message.html",controller:"tiMessageCtrl",modalClass:"ti-msg-default-width"};this.setDefaults=function(e){angular.extend(t,e)},this.$get=["tiModal",function(e){function n(t){var n=r(t),i=e.open(n);return i}function r(e){var n=angular.extend({},t,e);return n.resolve={tiMsgOpts:n},n}return{open:n}}]}function n(e,t,n,r){function a(e,t){return $.isPlainObject(e)?angular.extend({},t,e):e?angular.extend({},t):angular.extend({},t,{show:!1})}function f(e){var t=n.title;if(_.isString(t))return t;switch(e){case r.prompt:t=i.msg_prompt_title;break;case r.warn:t=i.msg_warn_title;break;case r.error:t=i.msg_error_title;break;default:t=i.msg_confirm_title}return t}var i=tiny.language||{},s={show:!0,text:i.ok_btn||"",click:function(){t.close()}},o={show:!0,text:i.cancel_btn||"",click:function(){t.dismiss()}};e.isPrimaryBtn=function(e){var t=n.okBtn.focused,i=n.cancelBtn.focused,s=!1,o=!1;if(t&&!i)s=!0;else if(!t&&i)o=!0;else switch(n.type){case r.warn:case r.error:o=!0;break;default:s=!0}return e==="okBtn"?s:o},e.tiMsgModel={contentTitle:n.contentTitle,tiMsgOpts:n,type:n.type,closeable:n.closeable,okBtn:a(n.okBtn,s),cancelBtn:a(n.cancelBtn,o),title:f(n.type),elementId:n.elementId,dismiss:function(){t.dismiss()}};var u=_.isString(e.tiMsgModel.elementId)?e.tiMsgModel.elementId:"";u!==""?(e.closeElemId=u+"_close",e.okBtnElemId=u+"_ok_btn",e.cancelBtnElemId=u+"_cancel_btn"):(e.closeElemId="",e.okBtnElemId="",e.cancelBtnElemId=""),t.setBtn=function(t,n){t==="ok"&&(e.tiMsgModel.okBtn=a(n,e.tiMsgModel.okBtn)),e.tiMsgModel.cancelBtn=a(n,e.tiMsgModel.cancelBtn)},e.$on("tiModal.onClosing",function(){typeof n.beforeClose=="function"&&n.beforeClose.apply(null,arguments)})}function r(e){return{link:function(t,n){function s(){function f(){tiny.utils.browser.chrome&&n.closest(".ti-msg-content-wrapper").prev(".ti-msg-icon").css({"margin-top":"0px"}),(tiny.utils.browser.ie||tiny.utils.browser.firefox)&&n.closest(".ti-msg-body").prev(".ti-modal-header").css({"padding-bottom":"26px"}),r.contentTitle&&!r.content&&i<=2*u+a&&(o.css({"margin-bottom":"1px"}),l()),!r.contentTitle&&r.content&&i<=2*t+s&&l();var e=i<=t+u+s+a;r.contentTitle&&r.content&&e&&l()}functimiddle"}),n.closest(".ti-msg-content-wrapper").prev(".ti-msg-icon").css({"vertical-align":"middle"})}var e=n.closest(".ti-msg-content-wrapper"),t=parseFloat(e.css("lineHeight"),10),i=parseFloat(e.height(),10),s=n.outerHeight(!0)-n.height(),o=e.find(".ti-msg-content-title"),u=parseFloat(o.css("lineHeight"),10),a=o.outerHeight(!0)-o.height();f()}var r=t.tiMsgModel.tiMsgOpts,i=$("<div></div>").html(r.content);r.scope&&(i=e(i)(r.scope)),n.empty(),n.append(i),setTimeout(s,0)}}}return e.constant("tiMsgType",{prompt:m"}),e.provider("ttroller("tiMessageCtrl",n),n.$inject=["$scope","tiModalInstance","tiMsgOpts","tiMsgType"],e.directive("tiMsgTransclude",r),r.$inject=["$compile"],e.name}),define("components/pagination/pagination",["components/module"],function(e){"use strict";function n(e,n,r){function i(e,t,n,r){l(e,t,r),o(e,t,r),f(e,t,r),u(e)}function s(e){var t=e.currentPage,n=e.totalPageNum,r=[];for(var i=1;i<=n;i++)r.push({id:i+"",label:i+"/"+n});e.itemsMini={options:r,selectedId:t+"",change:function(t){e.selectPage(t.id)}}}function o(e,t,n){e.totalPageNum=g(e),e.currentPage>e.totalPageNum&&(e.currentPage=e.totalPageNum),e.type==="mini"?s(e):(e.gotoPage={page:e.currentPage},e.pages=y(e)),x(t,n)&&n.updatePagination(e.currentPage,m(e)),_.isFunction(e.pageUpdate())&&e.pageUpdate()(e.currentPage=!1:e.showPage=!0}function u(e){e.selectPage=function(t,n){_.isUndefined(n)||n.preventDefault();if(e.disable)return;var r=parseInt(t,10);r!==e.currentPage&&(e.currentPage=r)},e.enterPageHandler=function(t){t.keyCode===13&&e.gotoPageHandler(t)},e.gotoPageHandler=function(){e.currentPage=e.gotoPage.page}}function a(e){_.isFunction(e.pageNumChange())&&e.pageNumChange()(e.currentPage,m(e),e.totalItems)}function f(e,n,r){e.$watch("currentPage",function(t,i){e.$evalAsync(function(){var s=p(t,i,e);e.currentPage=s,s!==i&&o(e,n,r)})}),e.$watch("pageSize.size",function(t,n){if(parseInt(t,10)===parseInt(n,10))return;_.each(e.itemsPerPage.options,function(n,r){parseInt(n.label,10)===parseInt(t,10)&&(e.itemsPerPage.selectedId=r+"")})}),e.$watch("itemsPerPage.selectedId",function(i,s){if(i===s)return;c(e),e.currentPage===t?o(e,n,r):e.currentPage=t,a(e)}),e.$watch("totalItems",function(t,i){var s=h(t,i);e.totalItems=s,s!==",functio(r)?e.gotoPar)&&e.$watch(function(){return r.getTableState().pagination},function(t){t.totalItems!==-1&&(e.totalItems=t.totalItems),t.currentPage!==-1&&(e.currentPage=t.currentPage)},!0)}function l(n,i,s){n.tinyLanguage=window.tiny.language,n.totalItems=d(n.totalItems),n.setTotalItemsFormat=function(){var e=r.formatNumber(n.totalItems,0);return n.tinyLanguage.page_total_label+e},x(i,s)&&s.storageId&&s.storageConfig.pagination&&(s.storageSessionState&&s.storageSessionState.currentPage&&(n.currentPage=s.storageSessionState.currentPage),s.storageLocalState&&s.storageLocalState.itemsPerPage&&(n.pageSize.size=s.storageLocalState.itemsPerPage)),n.currentPage=v(n.currentPage),n.itemsPerPage=S(n),n.tipConfig={content:""},c(n);var o=n.hideTotalItems,u=e.hideTotalItems;n.hideTotalItems=_.isUndefined(o)?u:o;var a=n.type;n.type=_.isUndefined(a)?e.type:a;var f=n.showGotoLink;n.showGotoLink=_.isUndefined(f)?e.showGotoLink:f,n.autoHide=_.isous=function(){return n.currentPage===t},n.noNext=function(){return n.currentPage===n.totalPageNum},n.isEllipse=function(e){return e.key==="..."},n.gotoPage={},n.showPage=!0,n.elementId=_.isString(n.elementId)?n.elementId:"",_.isString(n.elementId)&&n.elementId!==""?(n.prevPageElemId=n.elementId+"_prev_page",n.nextPageElemId=n.elementId+"_next_page",n.pageGoElemId=n.elementId+"_go_",prev_page",n.miniNextPageElemId=n.elementId+"_mini_next_page",n.selectElemId=n.elementId+"_select"):(n.prevPageElemId="",n.nextPageElemId="",n.pageGoElemId="",n.miniPrevPageElemId="",n.miniPrevPageElemId="",n.selectElemId="")}function c(e){_.isObject(e.pageSize)&&ion h(e,t){var n=parseInt(e,10);return isNaN(n)||n<0?t:n}function p(e,n,r){var i=parseInt(e,10);if(!i)return n;var s=r.totalPageNum;return i>s?s:i<t?t:i}function d(t){var n=parseInt(t,10),r=isNaN(n)||n<0;return r?e.totalItems:n}function v(t){var n=parseInt(t,10),r=isNaN(n)||n<=0;return r?e.currentPage:n}function m(e){var t=_.find(e.itemsPerPage.options,function(t){return t.id===e.itemsPerPage.selectedId});return parseInt(t.label,10)}function g(e){var t=m(e),n=Math.ceil(parseInt(e.totalItems,10)/t);return Math.max(n||0,1)}function y(e){var t=e.currentPage,n=e.totalPageNum,r=w(e),i=r[0],s=r[1],o=[];if(n===1)return o.push(b(1,!0)),o;i>2&&n>8&&(o.push(b(1,t===1)),o.push(b("...",!1)));for(var u=i;u<=s;u++)o.push(b(u,t===u));return n>8&&s<n-1&&o.push(b("...",!1)),s<n&&o.push(b(n,t===n)),o}function b(e,t){return{key:e,active:t}}function w(e){var t,n,r=e.currentPage;return e.totalP,n=5,[t,n]):r>e.totalPageNum-3?(t=e.totalPageNum-4,n=e.totalPageNum,[t,n]):(t=r-1,n=r+2,[t,n])}function E(e){var t=_.pluck(e.itemsPerPage.options,"label"),n=t.sort(function(e,t){return+e- +t})[0];return+n<e.totalItems}function S(t){function i(e){function i(e){var t={sizeId:"0",options:[]};return _.each(e.options,function(n,r){parseInt(e.size,10)===parseInt(n,10)&&(t.sizeId=rid:r+"",label:n})}),t}function s(){if(!_.isFunction(e.change))return;n(function(){e.change(t.currentPage,m(t),t.totalItems)},0)}var r=i(e);return{selectedId:r.sizeId,options:r.options,change:s,hide:e.hide,style:{width:e.width}}}function s(t){return _.isObject(t)?angular.extend({},e.pageSize,t):e.pageSize}var r=s(t.pageSize);return i(r)}function x(e,t){var n=t&&_.isFunction(t.updatePagination)&&e.closest(".ti-table").length>0;return n}return{restrict:"E",require:"?^^tiTable",replace:!0,scope:{currentPage:"=?",totalItems:"=?",pageSize:"=?",hideTotalItems:"=?",showGotoLink:"=?",autoHide:"=?",type:"=?",elementId:"=?",pageNumChange:"&",pageUpdate:"&",disable:"=?"},templateUrl:function(t,n){return n.templateUrl||e.template},link:i}}var t=1;return e.provider("tiPageConfig",function(){var e=this.defaults={template:"/tiny-components/src/components/pagination/pagination.html",currentPage:t,totalItems:0,pageSize:{options:[20,40,60,80,100],size:20,width:"60px",change:null,hide:!1},hideTotalItems:!1,showGotoLink:!1,autoHide:!1,type:"default"};this.setDefaults=function(t){angular.merge(e,t)},this.$get=function(){return e}}),e.directive("tiPagination",n),n.$inject=["tiPageConfig","$timeout","tiService"],e.name}),define("components/datePanel/datePanel",["components/module"],function(e){"use strict";function n(){var e=this.constant={pageHeight:{header:0,footer:0},pickerMaxYear:2099,pickerMinYear:1970,tababbleSelector:"a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"};this.setPanelPosition=function(t,n){function r(t,n){var r=$(".ti-date-icon-container",t),i=r.outerHeight(),s=$(".ti-date-range-picker, .ti-date-picker",t),o=s.outerHeight();n=$.isPlainObject(n)?n:e.pageHeight,n.header=_.isNumber(n.header)?n.header:e.pageHeight.header,n.footer=_.isNumber(n.footer)?n.footer:e.pageHeight.footer;var u=r.offset(),a=u.top-$(document).scrollTop()-100,f=window.innerHeight-a-i-n.footer-100,l;if(f>=o){var c=5;f>=o+c?l=i+c:l=i+(f-o)}else{var h=a-n.header;l=-Math.min(h,o)}s.css("top",l+"px")}function i(){var e=$(".ti-date-range-picker, .ti-date-picker",t),n=e.outerWidth(),r=$(".ti-date-input-container",t).offset(),i=$(".ti-date-input-container",t).outerWidth(),s=r.left-$(document).scrollLeft(),o=window.innerWidth-s;s+i<n?(e.css("left","0px"),e.css("right","auto")):(e.css("left","auto"),e.css("right","0px"))}r(t,n),i()},this.changeMaxTime=function(e){return angular.isDate(e)?new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59):new Date(2099,11,31,23,59,59)},this.changeMinTime=function(e){return angular.isDate(e)?new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0):new Date(1970,0,1,0,0,0)},this.tabKeydownFn=function(t,n,r){function o(){return n&&n.length?n[0].querySelectorAll(e.tababbleSelector):[]}function u(){return r&&n&&n.length?(r.target||r.srcElement)===n[0]:!1}function a(){return(r.target||r.srcElement)===i[0]}function f(){return(r.target||r.srcElement)===i[i.length-1]}if(!t.isOpenPicker)return;var i=o();if(i.length===0)return;var s=!1;if(r.shiftKey){if(a()||u())s=!0,i[i.length-1].focus()}else f()&&(s=!0,i[0].focus());s&&(r.preventDefault(),r.stopPropagation())},this.isClickYearMonthPicker=function(e,t){var n=e.target;return n===$(".ti-header-year-month-picker",t)[0]||$(n).parents(".ti-header-year-month-picker").length!==0?!0:!1},this.$get=function(){var e={constant:this.constant,setPanelPosition:this.setPanelPosition,tabKeydownFn:this.tabKeydownFn,changeMaxTime:this.changeMaxTime,changeMinTime:this.changeMinTime,isClickYearMonthPicker:this.isClickYearMonthPicker,triggerChange:this.triggerChange};return e},this.triggerChange=function(e,n,r){if(_.isEqual(e.oldValue,e.value)||!r(e))return;if(t.isCallbackDefined(e,n,"change")){var i={evtName:"change",attrs:n,scope:e,params:{value:e.value},isDelay:!1};window.tiny.utils.applyCallback(i)}}}function r(e){var t={restrict:"E",scope:{value:"=?",maxValue:"=?",minValue:"=?",type:"=?",datePicker:"=?",onlySelectYearMonth:"=?",dayClick:"&",nowDateTime:"=?"},templateUrl:"/tiny-components/src/components/datePanel/datePanel.html",replace:!0,link:function(t,n){t.datePicker=_.isUndefined(t.datePicker)?"day":t.datePicker,i(t),s(t),o(t,e,n),l(t)}};return t}function i(e){var t=window.tiny.language;e.weekArr=t.date_week_names_abb,e.weekTitleArr=t.date_week_names_title}function s(e){var n;if($.isPlainObject(e.value)&&t.isDate(e.value[e.type]))n=e.value[e.type];else{if(e.nowDateTime&&t.isDate(e.nowDateTime))var r=e.nowDateTime;else var r=new Date;var i=r.getFullYear(),s=r.getMonth()+1,o=r.getDate();!E(e,i,s,o)&&!S(e,i,s,o)?n=r:t.isDate(e.minValue)?n=e.minValue:n=e.maxValue}e.date={year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()},p(e),k(e,e.date.year,e.date.month),y(e),e.datePicker==="month"&&(d(e),m(e,e.date.year),b(e))}function o(e,t,n){function r(t){var n=t;if(n.hasOwnProperty("begin")&&n.hasOwnProperty("end")&&n.begin&&n.end){var r=n.begin;r=new Date(r.getFullYear(),r.getMonth(),r.getDate()),r=Date.parse(r);var i=n.end;i=new Date(i.getFullYear(),i.getMonth(),i.getDate()),i=Date.parse(i);var s=Date.parse(new Date(e.date.year,e.date.month-1,e.date.day));if(e.type==="begin"&&s>i||e.type==="end"&&s<r)return!0}return!1}e.preClickFn=function(t){t.stopPropagation();if(e.isMinToDisable())return;var n,r;if(e.datePicker==="month"){r=e.date.year-1,r>=e.minValue.getFullYear()&&(e.date.year=r,c(e),d(e),m(e,r),b(e));return}if(e.datePicker==="year"){r=e.date.year-10;var i=e.date.year-e.date.year%10;i>e.minValue.getFullYear()&&(e.date.year=r,h(e),v(e),g(e,r),w(e));return}e.date.month===1?(n=12,r=e.date.year-1):(n=e.date.month-1,r=e.date.year),T(e,r,n)||(e.date.month=n,e.date.year=r,p(e),k(e,r,n),y(e))},e.nextClickFn=function(t){t.stopPropagation();if(e.isMaxToDisable())return;var n,r;if(e.datePicker==="month"){r=e.date.year+1,r<=e.maxValue.getFullYear()&&(e.date.year=r,c(e),d(e),m(e,r),b(e));return}if(e.datePicker==="year"){r=e.date.year+10;var i=e.date.year-e.date.year%10,s=i+9;s<e.maxValue.getFullYear()&&(e.date.year=r,h(e),v(e),g(e,r),w(e));return}e.date.month===12?(n=1,r=e.date.year+1):(n=e.date.month+1,r=e.date.year),x(e,r,n)||(e.date.month=n,e.date.year=r,p(e),k(e,r,n),y(e))},e.dayClickFn=function(t,n){if(t.state==="disable")return;t.state==="preMonth"?e.preClickFn(n):t.state==="nextMonth"&&e.nextClickFn(n),e.date.day=t.value,e.date.month=f(e.picker.month)+1,e.value=$.isPlainObject(e.value)?e.value:{};if(r(e.value))return;e.value[e.type]=new Date(e.date.year,e.date.month-1,t.value);var i={day:e.value[e.type],type:e.type};_.isFunction(e.dayClick())&&e.dayClick()(i)},e.monthClickFn=function(t,n){n.stopPropagation();if(t.state==="disable")return;e.picker=_.isObject(e.picker)?e.picker:{},e.picker.month=t.value,e.date.month=f(t.value)+1,e.onlySelectYearMonth?(e.value=$.isPlainObject(e.value)?e.value:{},e.value[e.type]=new Date(e.date.year,e.date.month-1),_.isFunction(e.dayClick())&&e.dayClick()()):(k(e,e.date.year,e.date.month),y(e),e.datePicker="day")},e.yearClickFn=function(t,n){n.stopPropagation();if(t.state==="disable")return;if(t.state==="preYear")e.preClickFn(n);else if(t.state==="nextYear")e.nextClickFn(n);else{var r=window.tiny.language;e.picker=_.isObject(e.picker)?e.picker:{},e.picker.year=t.value+" "+r.date_year_suffix_label,e.date.year=t.value,e.value=$.isPlainObject(e.value)?e.value:{},m(e,e.date.year),b(e),e.datePicker="month"}},e.headerYearMonthClickFn=function(){e.datePicker==="day"?u(e):e.datePicker==="month"&&a(e)},e.isMinToDisable=function(){return e.datePicker==="day"&&e.isMinMonth||e.datePicker==="month"&&e.isMinYear||e.datePicker==="year"&&e.isMinYearRange},e.isMaxToDisable=function(){return e.datePicker==="day"&&e.isMaxMonth||e.datePicker==="month"&&e.isMaxYear||e.datePicker==="year"&&e.isMaxYearRange}}function u(e){d(e),m(e,e.date.year),b(e),e.datePicker="month"}function a(e,t){v(e),g(e,e.date.year),w(e),e.datePicker="year"}function f(e){var t=window.tiny.language;return _.indexOf(t.date_month_names_abb,e)}function l(e){e.$watch("value",function(t,n){if(_.isEqual(t,n))return;s(e)},!0)}function c(e){var t=window.tiny.language;e.picker.month=t.date_month_names_abb[0]}function h(e){var t=e.date.year,n=t-t%10;e.date.year=n}function p(e){e.date.year===e.maxValue.getFullYear()&&e.date.month>e.maxValue.getMonth()+1&&(e.date.month=e.maxValue.getMonth()+1),e.date.year===e.minValue.getFullYear()&&e.date.month<e.minValue.getMonth()+1&&(e.date.month=e.minValue.getMonth()+1);var t=window.tiny.language;e.picker=_.isObject(e.picker)?e.picker:{},e.picker.year=e.date.year+" "+t.date_year_suffix_label,e.picker.month=t.date_month_names_abb[e.date.month-1]}function d(e){var t=window.tiny.language;e.date.year>=e.maxValue.getFullYear()&&(e.date.year=e.maxValue.getFullYear()),e.date.year<=e.minValue.getFullYear()&&(e.date.year=e.minValue.getFullYear()),e.date.year===e.minValue.getFullYear()&&e.date.month<e.minValue.getMonth()+1&&(e.date.month=e.minValue.getMonth()+1,e.picker.month=t.date_month_names_abb[e.date.month-1]),e.picker=_.isObject(e.picker)?e.picker:{},e.picker.year=e.date.year+" "+t.date_year_suffix_label}function v(e){var t=e.date.year,n=t-t%10,r=n+9;e.picker=_.isObject(e.picker)?e.picker:{},e.picker.yearRange=n+" - "+r}function m(e,t){t===e.maxValue.getFullYear()?e.isMaxYear=!0:e.isMaxYear=!1,t===e.minValue.getFullYear()?e.isMinYear=!0:e.isMinYear=!1}function g(e,t){var n=t-t%10,r=n+9;r>=e.maxValue.getFullYear()?e.isMaxYearRange=!0:e.isMaxYearRange=!1,n<=e.minValue.getFullYear()?e.isMinYearRange=!0:e.isMinYearRange=!1}function y(e){var t=parseInt(e.date.year,10),n=parseInt(e.date.month,10),r,i=(new Date(t,n-1,1)).getDay();r=i;var s=[],o=n===1?12:n-1,u=(new Date(t,o,0)).getDate(),a=u-r+1,f="";e.isMinMonth?f="disable":f="preMonth";for(var l=0;l<r;l++){s[l]={value:a+l,state:f};if(P(e,t,n-1,a+l)||S(e,t,n-1,a+l))s[l].state="disable"}var c=1,h=(new Date(t,n,0)).getDate(),p=r+h,d="";for(var v=r;v<p;v++)E(e,t,n,c)||S(e,t,n,c)||P(e,t,n,c)?d="disable":O(e,t,n,c)?d="current":D(e,t,n,c)?d="select":d="default",s[v]={value:c,state:d,isToday:M(e,t,n,c)},c++;c=1;var m="";e.isMaxMonth?m="disable":m="nextMonth";for(var g=s.length;g<42;g++){s[g]={value:c,state:m};if(P(e,t,n+1,c)||E(e,t,n+1,c))s[g].state="disable";c++}e.dayArr=[];for(var y=0;y<s.length/7;y++){e.dayArr[y]=[];for(var b=0;b<7;b++)e.dayArr[y].push(s[b+y*7])}}function b(e){var t=window.tiny.language;e.monthArr=t.date_month_names_abb;var n=e.date.year,r=[];for(var i=1;i<=12;i++)if(T(e,n,i)||x(e,n,i))r.push({value:e.monthArr[i-1],state:"disable"});else{r.push({value:e.monthArr[i-1],state:"default"});var s=f(e.picker.month);i===s+1&&(e.date.month=i,r[i-1]={value:e.picker.month,state:"current"})}e.monthArr=[];for(var o=0;o<3;o++){e.monthArr[o]=[];for(var u=0;u<4;u++)e.monthArr[o].push(r[u+o*4])}}function w(e){var t=e.date.year,n=t-t%10,r=n+9,i=[],s=n-1<e.minValue.getFullYear()?"disable":"preYear";i.push({value:n-1,state:s});for(var o=n;o<=n+9;o++)C(e,o)||N(e,o)?i.push({value:o,state:"disable"}):o===t?i.push({value:o,state:"current"}):i.push({value:o,state:"default"});var u=r+1>e.maxValue.getFullYear()?"disable":"nextYear";i.push({value:r+1,state:u}),e.yearArr=[];for(var a=0;a<3;a++){e.yearArr[a]=[];for(var f=0;f<4;f++)e.yearArr[a].push(i[f+a*4])}}function E(e,n,r,i){if(!t.isDate(e.maxValue))return!1;var s=e.maxValue;return s=new Date(s.getFullYear(),s.getMonth(),s.getDate()),Date.parse(s)<Date.parse(new Date(n,r-1,i))?!0:!1}function S(e,n,r,i){if(!t.isDate(e.minValue))return!1;var s=e.minValue;return s=new Date(s.getFullYear(),s.getMonth(),s.getDate()),Date.parse(s)>Date.parse(new Date(n,r-1,i))?!0:!1}function x(e,n,r){if(!t.isDate(e.maxValue))return!1;var i=e.maxValue;return i=new Date(i.getFullYear(),i.getMonth(),1),Date.parse(i)<Date.parse(new Date(n,r-1,1))?!0:!1}function T(e,n,r){if(!t.isDate(e.minValue))return!1;var i=e.minValue;return i=new Date(i.getFullYear(),i.getMonth(),1),Date.parse(i)>Date.parse(new Date(n,r-1,1))?!0:!1}function N(e,n){if(!t.isDate(e.maxValue))return!1;var r=e.maxValue;return r=new Date(r.getFullYear(),1,1),Date.parse(r)<Date.parse(new Date(n,1,1))?!0:!1}function C(e,n){if(!t.isDate(e.minValue))return!1;var r=e.minValue;return r=new Date(r.getFullYear(),1,1),Date.parse(r)>Date.parse(new Date(n,1,1))?!0:!1}function k(e,t,n){A(e,t,n)?e.isMaxMonth=!0:e.isMaxMonth=!1,L(e,t,n)?e.isMinMonth=!0:e.isMinMonth=!1}function L(e,n,r){if(!t.isDate(e.minValue))return!1;var i=e.minValue;return i=new Date(i.getFullYear(),i.getMonth(),1),Date.parse(i)===Date.parse(new Date(n,r-1,1))?!0:!1}function A(e,n,r){if(!t.isDate(e.maxValue))return!1;var i=e.maxValue;return i=new Date(i.getFullYear(),i.getMonth(),1),Date.parse(i)===Date.parse(new Date(n,r-1,1))?!0:!1}function O(e,n,r,i){var s=$.isPlainObject(e.value)?e.value[e.type]:null;return t.isDate(s)?(s=new Date(s.getFullYear(),s.getMonth(),s.getDate()),Date.parse(s)===Date.parse(new Date(n,r-1,i))?!0:!1):!1}function M(e,n,r,i){if(e.nowDateTime&&t.isDate(e.nowDateTime))var s=e.nowDateTime;else var s=new Date;return s=new Date(s.getFullYear(),s.getMonth(),s.getDate()),Date.parse(s)===Date.parse(new Date(n,r-1,i))?!0:!1}function D(e,n,r,i){var s=e.value;if(!$.isPlainObject(s)||!t.isDate(s.begin)||!t.isDate(s.end))return!1;var o=s.begin;o=new Date(o.getFullYear(),o.getMonth(),o.getDate()),o=Date.parse(o);var u=s.end;u=new Date(u.getFullYear(),u.getMonth(),u.getDate()),u=Date.parse(u);var a=Date.parse(new Date(n,r-1,i));return e.type==="begin"&&o<a&&a<=u||e.type==="end"&&o<=a&&a<u?!0:!1}function P(e,n,r,i){var s=e.value,o=Date.parse(new Date(n,r-1,i));if(!$.isPlainObject(s))return!1;if(e.type==="begin"){var u=s.end;return t.isDate(s.end)?(u=new Date(u.getFullYear(),u.getMonth(),u.getDate()),u=Date.parse(u),o>u):!1}if(e.type==="end"){var a=s.begin;return t.isDate(s.begin)?(a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),a=Date.parse(a),o<a):!1}}var t=window.tiny.utils;return e.provider("datePanelService",n),e.directive("tiDatePanel",r),r.$inject=["datePanelService"],e.name}),define("components/date/date",["components/module","components/datePanel/datePanel"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0),todayBtn:!1};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){var e={defaultValue:this.defaultValue};return e}}function r(e,n,r,i){function o(e,t,n){u(e,t,n),d(e,t,n),y(e,t,n)}function u(e,t,n){e.$inputContainer=t.find(".ti-date-input-container"),a(e),f(e),l(e),c(e,t),h(e),!n.id&&_.isString(e.elementId)&&e.elementId!==""&&t.attr("id",e.elementId),e.showClearIcon=_.isUndefined(e.showClearIcon)?!0:e.showClearIcon;if(!e.showClearIcon){var r=$(".ti-date-icon-container",t).outerWidth();$(".ti-date-show",t).css({width:"calc(100% - "+r+"px)"})}}function a(e){if(_.isString(e.format))return;i.defaultConfig.datetime.isNgLocaleFormat?e.format=r.getDateTimeFormat("date"):e.format=window.tiny.language.date_format}function f(r){var i=e.defaultValue,s=n.changeMaxTime(r.maxValue);r.maxValue=t.isDate(r.maxValue)?s:i.maxValue;var o=n.changeMinTime(r.minValue);r.minValue=t.isDate(r.minValue)?o:i.minValue,Date.parse(r.maxValue)<Date.parse(r.minValue)&&(r.maxValue=i.maxValue,r.minValue=i.minValue)}function l(e){if(e.value===null)return;t.isDate(e.value)||(e.value=w(e)?e.nowDateTime:new Date),x(e)&&(e.value=e.maxValue),T(e)&&(e.value=e.minValue)}function c(e,t){e.value===null?e.formatValue="":e.formatValue=r.formatDate(e.value,e.format),t[0].tiValue=e.formatValue}function h(t){p(t);var n=e.defaultValue;_.isUndefined(t.todayBtn)&&(t.todayBtn=n.todayBtn)}function p(e){var t=window.tiny.language;e.btnLanguage={today:t.date_today_btn}}function d(e,t,r){function i(){if(e.disable||e.isOpenPicker)return;e.isOpenPicker=!0,g(e,r,t),setTimeout(function(){n.setPanelPosition(t,e.pageHeight)},0)}e.isInnerClick=!1,e.inputClickFn=function(){e.isInnerClick=!0,i()},e.showClickFn=function(){if(e.disable)return;e.isInnerClick=!0,e.isOpenPicker=!e.isOpenPicker,e.isOpenPicker?(g(e,r,t),setTimeout(function(){n.setPanelPost)},0)):m(e)},e.keydownFn=function(n){function r(){e.isOpenPicker&&v(e,t)}switch(n.keyCode){case 9:r();break;case 13:case 108:i();break;default:}},e.focusFn=function(){if(e.disable)return;t.trigger("tiFocus")},e.blurFn=function(){if(e.disable||e.isOpenPicker)return;t.trigger("tiBlur")},e.pickerClickFn=function(e){e.stopPropagation()},e.containerClickFn=function(){e.$inputContainer.focus()},e.iconClearClickFn=function(){if(e.disable)return;e.oldValue=angular.copy(e.value),e.value=null,setTimeout(function(){t.trigger("contentChange")},0),n.triggerChange(e,r,b)},e.isShowClearIconFn=function(){return e.showClearIcon?angular.isObject(e.value)&&e.value!=={}:!1},e.todayClickFn=function(){e.oldValue=angular.copy(e.value),e.value=w(e)?e.nowDateTime:new Date,x(e)&&(e.value=e.maxValue),T(e)&&(e.value=e.minValue),v(e,t),n.triggerChange(e,r,b)},e.documentClickFn=function(){if(e.disable||!e.isOpenPicker)return;if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){v(e,t)})},$(document).on("click",e.documentClickFn),e.documentKeydownFn=function(r){r.keyCode===27&&e.isOpenPicker&&e.$evalAsync(function(){v(e,t)}),r.keyCode===9&&n.tabKeydownFn(e,$(".ti-date-picker",t),r)},$(document).on("keydown",e.documentKeydownFn),t.on("$destroy",function(){$(document).off("click",e.documentClickFn),$(document).off("keydown",e.documentKeydownFn)})}function v(e,t){e.isOpenPicker=!1,m(e),e.$inputContainer.is(":focus")||setTimeout(function(){t.trigger("tiBlur")},0)}function m(e){_.isFunction(e.close())&&e.close()(e.value)}function g(e,t,r){e.datePanel={type:"begin",nowDateTime:e.nowDateTime,maxValue:e.maxValue,minValue:e.minValue,datePicker:"day",onlySelectYearMonth:!1,value:{begin:e.value,end:null},dayClick:function(){e.oldValue=angular.copy(e.value),e.value=e.datePanel.value.begin,v(e,r),n.triggerChange(e,t,b)}},e.format.indexOf("d")===-1&&(e.datePanel.datePicker="month",e.datePanel.onlySelectYearMonth=!0)}function y(e,t,r){e.$watch("value",function(n,i){if(k(n,i))return;if(!b(e)){e.value=i;return}c(e,t),g(e,r,t)}),e.$watch("maxValue",function(t,r){if(k(t,r))return;if(!E(e)){e.maxValue=r;return}e.maxValue=n.changeMaxTime(e.maxValue);if(e.value===null)return;x(e)&&(e.value=e.maxValue)}),e.$watch("minValue",function(t,r){if(k(t,r))return;if(!S(e)){e.minValue=r;return}e.minValue=n.changeMinTime(e.minValue);if(e.value===null)return;T(e)&&(e.value=e.minValue)}),e.$watch("format",function(n,r){if(n===r)return;if(!_.isString(n)){e.format=r;return}c(e,t)})}function b(e){return e.value===null?!0:t.isDate(e.value)&&N(e)&&C(e)?!0:!1}function w(e){return e.nowDateTime&&t.isDate(e.nowDateTime)&&Date.parse(e.nowDateTime)>=Date.parse(e.minValue)&&Date.parse(e.nowDateTime)<=Date.parse(e.maxValue)}function E(e){return t.isDate(e.maxValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function S(e){return t.isDate(e.minValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function x(e){return Date.parse(e.value)>Date.parse(e.maxValue)}function T(e){return Date.parse(e.value)<Date.parse(e.minValue)}function N(e){return Date.parse(e.value)<=Date.parse(e.maxValue)}function C(e){return Date.parse(e.value)>=Date.parse(e.minValue)}function k(e,n){if(e===n)return!0;if(t.isDate(e)&&t.isDate(n)){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(Date.parse(r)===Date.parse(i))return!0}return!1}var s={restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",minValue:"=?",disable:"=?",showClearIcon:"=?",todayBtn:"=?",elementId:"=?",close:"&",change:"&",nowDateTime:"=?",pageHeight:"=?"},templateUrl:"/tiny-components/src/components/date/date.html",replace:!0,link:o};return s}var t=window.tiny.utils;return e.provider("dateService",n),e.directive("tiDate",r),r.$inject=["dateService","datePanelService","tiService","tiConfig"],e.name}),define("components/dateEdit/dateEdit",["components/module","components/datePanel/datePanel"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0)};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){var e={defaultValue:this.defaultValue};return e}}function r(e,n,r,i){function o(e,t,n){u(e,t,n),h(e),p(e,t)}function u(e,t,n){a(e),e.showValue="",f(e),l(e),c(e),!n.id&&_.isString(e.elementId)&&e.elementId!==""&&t.attr("id",e.elementId)}function a(e){if(_.isString(e.format))return;i.defaultConfig.datetime.isNgLocaleFormat?e.format=r.getDateTimeFormat("date"):e.format=window.tiny.language.date_format}function f(r){var i=e.defaultValue,s=n.changeMaxTime(r.maxValue)xValue;var o=n.changeMinTime(r.minValue);r.minValue=t.isDate(r.minValue)?o:i.minValue,Date.parse(r.maxValue)<Date.parse(r.minValue)&&(r.maxValue=i.maxValue,r.minValue=i.minValue)}function l(e){if(e.value===null||!e.value)return;t.isDate(e.value)||(e.value=new Date),x(e)&&(e.value=e.maxValue),T(e)&&(e.value=e.minValue)}function c(e){e.value===null||!e.value?e.showValue="":e.showValue=w(e)}function h(e){e.dateBlur=function(){if(e.showValue!==null&&e.showValue!==""){var t=e.showValue.split(/[-\/\.\_]/),n=e.format.split(/[-\/\.\_]/),i;if(t.length===3&&n.length===3||t.length===2&&n.length===2){if(n[0]==="yyyy"||n[0]==="y")var s=Date.parse(e.showValue.replace(/[-\/\.\_]/g,"/"));else if(n[0]==="MM")var s=t.length===3&&n.length===3?Date.parse(t[2].concat("/",t[0],"/",t[1])):Date.parse(t[1].concat("/",t[0]));else var s=Date.parse(t[2].concat("/",t[1],"/",t[0]));i=d(s),e.value&&_.isNaN(s)?e.showValue=r.formatDateTime(e.value,e.format):e.value=new Date(g(i))}}else e.value=null;e.value<e.minValue&&(e.value=e.minValue),e.value>e.maxValue&&(e.value=e.maxValue),c(e),v(e)},e.dateChange=function(){e.showValue=b(e.showValue)}}function p(e,t){e.$watch("value",function(t,n){if(k(t,n))return;if(!y(e)){e.value=n;return}c(e),m(e)}),e.$watch("maxValue",function(t,r){if(k(t,r))return;if(!E(e)){e.maxValue=r;return}e.maxValue=n.changeMaxTime(e.maxValue);if(e.val,function(t,r){if(k(t,r))return;if(!S(e)){e.minValue=r;return}e.minValue=n.changeMinTime(e.minValue);if(e.value===null)return;T(e)&&(e.value=e.minValue)}),e.$watch("format",function(t,n){if(t===n)return;if(!_.isString(t)){e.format=n;return}c(e)}),t.on("tiFocus",function(e){e.stopPropagation()}),t.on("tiBlur",function(e){e.stopPropagation()}),t.on("contentChange",function(e){e.stopPropagation()})}function d(e){return _.isNaN(e)?new Date:new Date(e)}function v(e){_.isFunction(e.blur())&&e.blur()(e.value)}function m(e){_.isFunction(e.change())&&e.change()(e.value)}function g(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}function y(e){return e.value===null?!0:t.isDate(e.value)&&N(e)&&C(e)?!0:!1}function b(e){var t=(e+"").split(""),n="";return _.each(t,function(e){e.match(/[0-9\-\/.]/)&&(n+=e)}),n}function w(e){var t=r.formatDate(e.value,e.format);return t}function E(e){return t.isDate(e.maxValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function S(e){return t.isDate(e.minValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function x(e){return Date.parse(e.value)>Date.parse(e.maxValue)}function T(e){return Date.parse(e.value)<Date.parse(e.minValue)}function N(e){return Date.parse(e.value)<=Date.parse(e.maxValue)}function C(e){return Date.parse(e.value)>=Date.parse(e.minValue)}function k(e,n){if(e===n)return!0;if(t.isDate(e)&&t.isDate(n)){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(Date.parse(r)===Date.parse(i))return!0}return!1}var s={restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",disable:"=?",minValue:"=?",elementId:"=?",change:"&",blur:"&"},templateUrl:"/tiny-components/src/components/dateEdit/dateEdit.html",replace:!0,link:o};return s}var t=window.tiny.utils;return e.provider("dateEditService",n),e.directive("tiDateEdit",r),r.$inject=["dateEditService","datePanelService","tiService","tiConfig"],e.name}),define("components/datetime/datetime",["components/module","components/time/time","components/datePanel/datePanel","components/button/button"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0)};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return{defaultValue:this.defaultValue}}}function r(e,n,r,i){function s(e,t,n){o(e,t,n),h(e,t,n),S(e,t,n)}function o(e,t,n){e.$inputContainer=t.find(".ti-date-input-container"),e.currentTime=e.maxValue==="currentTime"?"currentTime":undefined,u(e),a(e),f(e),l(e,t),c(e),!n.id&&_.isString(e.elementId)&&e.elementId!==""&&t.attr("id",e.elementId),e.showClearIcon=_.isUndefined(e.showClearIcon)?!0:e.showClearIcon;if(!e.showClearIcon){var r=$(".ti-date-icon-container",t).outerWidth();$(".ti-date-show",t).css({width:"calc(100% - "+r+"px)"})}}function u(e){if(i.defaultConfig.datetime.isNgLocaleFormat){e.format={date:r.getDateTimeFormat("date"),time:r.getDateTimeFormat("time")};return}var t=window.tiny.language;if(!$.isPlainObject(e.format)){e.format={date:t.date_format,time:t.time_format};return}_.isString(e.format.date)||(e.format.date=t.date_format),_.isString(e.format.time)||(e.format.time=t.time_format)}function a(n){var r=e.defaultValue;n.maxValue=t.isDate(n.maxValue)?n.maxValue:r.maxValue,n.minValue=t.isDate(n.minValue)?n.minValue:r.minValue,P(n.maxValue,n.minValue)&&(n.maxValue=r.maxValue,n.minValueime==="currentTime"&&(e.maxValue=new Date);if(e.value===null)return;t.isDate(e.value)||(e.value=T(e)?e.nowDateTime:new Date),D(e.value,e.maxValue)&&(e.value=e.maxValue),P(e.value,e.minValue)&&(e.value=e.minValue)}function l(e,t){if(e.value===null)e.showValue="";else{var n=e.format.date+" "+M(e.format.time);e.showValue=r.formatDateTime(e.value,n)}t[0].tiValue=e.showValue}function c(t){t.value===null?t.isOkDisabled=!0:t.isOkDisabled=!1;var n=e.defaultValue,r=window.tiny.language;t.btnLanguage={ok:r.ok_btn,cancel:r.cancel_btn}}function h(e,r,i){function s(){if(e.disable||e.isOpenPicker)return;e.isOpenPicker=!0,d(e,i,r),setTimeout(function(){n.setPanelPosition(r,e.pageHeight)},0)}e.isInnerClick=!1,e.inputClickFn=function(){e.isInnerClick=!0,s()},e.showClickFn=function(){if(e.disable)return;e.isInnerClick=!0,e.isOpenPicker=!e.isOpenPicker,e.isOpenPicker?(d(e,i,r),setTimeout(functioht)},0)):p(e,r)},e.focusFn=function(){if(e.disable)return;r.trigger("tiFocus")},e.blurFn=function(){if(e.disable)return;r.trigger("tiBlur")},e.keydownFn=function(t){function n(){e.isOpenPicker&&p(e,r)}switch(t.keyCode){case 9:n();break;case 13:case 108:s();break;default:}},e.pickerClickFn=function(e){e.stopPropagation()},e.timeKeydownFn=function(e){if(!window.tiny.utils.browser.ie)return;(e.keyCode===13||e.keyCode===108)&&e.preventDefault()},e.okClickFn=function(){if(!t.isDate(e.datePanel.value.begin)){p(e,r);return}var n=A(e.datePanel.value.begin);e.oldValue=angular.copy(e.value),e.value=new Date(n+" "+O(e.timeOpelClickFn=function(){e.isOpenPicker=!1},e.containerClickFn=function(){e.$inputContainer.focus()},e.iconClearClickFn=function(){if(e.disable)return;e.oldValue=angular.copy(e.value),e.$inputContainer.focus(),e.value=null,g(e,i,r)},e.isShowClearIconFn=function(){return e.showClearIcon?angular.isObject(e.value)&&e.value!=={}:!1},e.documentClickFn=function(){if(e.disable)return;if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){e.isOpenPicker&&p(e,r)})},$(document).on("click",e.documentClickFn),e.documentKeydownFn=function(i){i.keyCode===27&&e.isOpenPicker&&e.$evalAsync(function(){var n=e.value;t.isDate(n)&&(n=new Date(A(n)+" "+O(e.timeOptions.value)),e.value=t.isDate(n)?n:null),p(e,r)}),i.keyCode===9&&n.tabKeydownFn(e,$(".ti-date-picker",r),i)},$(document).on("keydown",e.documentKeydownFn),r.on("$destroy",function(){$(document).off("click",e.documentClickFn),$(document).off("keydown",e.documentKeydownFn)})}function p(e,t){e.isOpenPicker=!1,_.isFunction(e.close())&&e.close()(e.value),e.$inputContainer.is(":focus")||setTimeout(function(){t.trigger("tiBlur")},0)}function d(e,t,n){v(e,t,n),m(e,t,n)}function v(e,t,n){e.datePanel={type:"begin",nowDateTime:e.nowDateTime,maxValue:e.maxValue,minValue:e.minValue,datePicker:"day",onlySelectYearMonth:!1,value:{begin:e.value,end:null},dayClick:function(){var t=A(e.datePanel.value.begin),n=new Date(t+" "+O(e.timeOptions.value));D(n,e.maxValue)&&(e.timeOptions.value=L(e.maxValue)),P(n,e.minValue)&&(e.timeOptions.value=L(e.minValue)),j(e.datePanel.value.begin,e.maxValue)?(e.timeOptions.maxValue=L(e.maxValue),e.timeOptions.minValue="00:00:00"):j(e.datePanel.value.begin,e.minValue)?(e.timeOptions.maxValue="23:59:59",e.timeOptions.minValue=L(e.minValue)):(e.timeOptions.minValue="00:00:00",e.timeOptions.maxValue="23:59:59")}},e.format.date.indexOf("d")===-1&&(e.datePanel.datePicker="month",e.datePanel.onlySelectYearMonth=!0)}function m(e,t,n){e.timeOptions={},y(e),b(e),w(e),E(e)}function g(e,t,r){setTimeout(function(){r.trigger("contentChange")},0),n.triggerChange(e,t,x)}function y(e){t.isDate(e.value)?e.timeOptions.value=L(e.value):T(e)?e.timeOptions.value=L(e.nowDateTime):e.timeOptions.value=""}function b(e){e.currentTime==="currentTime"&&(e.maxValue=new Date);if(!t.isDate(e.value))return;j(e.value,e.maxValue)?e.timeOptions.maxValue=L(e.maxValue):e.timeOptions.maxValue="23:59:59"}function w(e){if(!t.isDate(e.value))return;j(e.value,e.minValue)?e.timeOptions.minValue=L(e.minValue):e.timeOptions.minValue="00:00:00"}function E(e){T(e)&&(e.timeOptions.nowTime=L(e.nowDateTime))}function S(e,t,n){e.$watch("value",function(r,i){if(_.isEqual(r,i))return;if(!x(e)){e.value=i;return}d(e,n,t),l(e,t)}),e.$watch("datePanel.value.begin",function(t,n){if(_.isEqual(t,n))return;t===null?e.isOkDisabled=!0:e.isOkDisabled=!1}),e.$watch("maxValue",function(t,n){if(_.isEqual(t,n))return;if(!N(e)){e.maxValue=n;return}if(e.value===null)return;D(e.value,e.maxValion(t,n){if(_.isEqual(t,n))return;if(!C(e)){e.minValue=n;return}if(e.value===null)return;P(e.value,e.minValue)&&(e.value=e.minValue)}),e.$watch("format",function(n,r){if(n===r)return;if(!k(n)){e.format=r;return}l(e,t)},!0)}function x(e){return e.value===null?!0:t.isDate(e.value)&&H(e.value,e.minValue)&&B(e.value,e.maxValue)?!0:!1}function T(e){return e.nowDateTime&&t.isDate(e.nowDateTime)&&H(e.nowDateTime,e.minValue)&&B(e.nowDateTime,e.maxValue)}function N(e){return t.isDate(e.maxValue)&&H(e.maxValue,e.minValue)}function C(e){return t.isDate(e.minValue)&&H(e.maxValue,e.minValue)}function k(e){return $.isPlainObject(e)&&_.isString(e.date)&&_.isString(e.time)}function L(e){return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}function A(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}function O(e){if(e.match(/:/))return e;var t=e.match(/am|AM|pm|PM/)||"";return parseInt(e,10)+": "+t}function M(e){return e.match(/h/)&&!e.match(/a/)?e+" a":e}function D(e,t){return Date.parse(e)>Date.parse(t)}function P(e,t){return Date.parse(e)<Date.parse(t)}function H(e,t){return Date.parse(e)>=Date.parse(t)}function B(e,t){return Date.parse(e)<=Date.parse(t)}function j(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return Date.parse(n)===Date.parse(r)?!0:!1}return{restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",minValue:"=?",disable:"=?",elementId:"=?",close:"&",change:"&",nowDateTime:"=?",pageHeight:"=?",showClearIcon:"=?"},templateUrl:"/tiny-components/src/components/datetime/datetime.html",replace:!0,link:s}}var t=window.tiny.utils;return e.provider("datetimeService",n),e.directive("tiDatetime",r),r.$inject=["datetimeService","datePanelService","tiService","tiConfig"],e.name}),define("components/dateRange/dateRange",["components/module","components/datePanel/datePanel","components/button/button"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0)};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return{defaultValue:this.defaultValue}}}function r(e,n,r,i){function s(e,t,n){o(e,t,n),d(e,t,n),v(e,t,n)}function o(e,t,n){e.$inputContainer=t.find(".ti-date-input-container"),e.connectSymbol="─",u(e),a(e),f(e),l(e),p(e,t),!n.id&&_.isString(e.elementId)&&e.elementId!==""&&t.attr("id",e.elementId),e.showClearIcon=_.isUndefined(e.showClearIcon)?!0:e.showClearIcon;if(!e.showClearIcon){var r=$(".ti-date-icon-container",t).outerWidth();$(".ti-date-show",t).css({width:"calc(100% - "+r+"px)"})}}function u(e){var t=window.tiny.language;e.btnLanguage={cancel:t.cancel_btn,ok:t.ok_btn},e.beginText=t.date_range_begin_label,e.endText=t.date_range_end_label}function a(e){if(_.isString(e.format))return;i.defaultConfig.datetime.isNgLocaleFormat?e.format=r.getDateTimeFormat("date"):e.format=window.tiny.language.date_format}function f(r){var i=e.defaultValue,s=n.changeMaxTime(r.maxValue);r.maxValue=t.isDate(r.maxValue)?s:i.maxValue;var o=n.changeMinTime(r.minValue);r.minValue=t.isDate(r.minValue)?o:i.minValue,Date.parse(r.maxValue)<Date.parse(r.minValue)&&(r.maxValue=i.maxValue,r.minValue=i.minValue)}function l(e){if(!$.isPlainObject(e.value)){e.value=null;return}c(e),h(e),S(e.value.begin,e.value.end)&&(e.value.begin=e.minValue,e.value.end=e.maxValue)}function c(e){if(!t.isDate(e.value.begin)){e.value.begin=e.minValue;return}S(e.value.begin,e.maxValue)&&(e.value.begin=e.maxValue),x(e.value.begin,e.minValue)&&(e.value.begin=e.minValue)}function h(e){if(!t.isDate(e.value.end)){e.value.end=e.maxValue;return}S(e.value.end,e.maxValue)&&(e.value.end=e.maxValue),x(e.value.end,e.minValue)&&(e.value.end=e.minValue)}function p(e,t){if(e.value===null)e.showValue="";else{var n=r.formatDate(e.value.begin,e.format),i=r.formatDate(e.value.end,e.format);e.showValue=n+" ─ "+i}t[0].tiValue=e.showValue}function d(e,t,i){function s(){if(e.disable||e.isOpeelPosition(t,e.pageHeight)},0)}e.isInnerClick=!1,e.inputClickFn=function(){e.isInnerClick=!0,s()},e.dayClickFn=function(t){var n={evtName:"dayClick",attrs:i,scope:e,params:{option:t}};window.tiny.utils.applyCallback(n)},e.showClickFn=function(){if(e.disable)return;e.isInnerClick=!0,e.isOpenPicker=!e.isOpenPicker,e.isOpenPicker&&(E(e,t),setTimeout(function(){n.setPanelPosition(t,e.pageHeight)},0))},e.focusFn=function(){if(e.disable)return;t.trigger("tiFocus")},e.blurFn=function(){if(e.disable)return;t.trigger("tiBlur")},e.keydownFn=function(t){function n(){e.isOpenPicker&&(e.isOpenPicker=!1)}switch(t.keyCode){case 9:n();break;case 13:case 108:s();break;default:}},e.pickerClickFn=function(e){e.stopPropagation()},e.okClickFn=function(){if($("[ng-bind='btnLanguage.ok']",t).attr("disabled")==="disabled")return;e.oldValue=angular.copy(e.value),e.value={},$.isPlainObjee)?(e.value.begin=e.begin.value.begin,e.value.end=e.end.value.end):e.value=null,e.isOpenPicker=!1,n.triggerChange(e,i,m)},e.containerClickFn=function(){e.$inputContainer.is(":focus")||e.$inputContainer.focus()},e.iconClearClickFn=function(){if(e.disable)return;e.oldValue=angular.copy(e.value),e.value=null,setTimeout(function(){t.trigger("contentChange")},0),n.triggerChange(e,i,m)},e.isShowClearIconFn=function(){return e.showClearIcon?angular.isObject(e.value)&&e.value!=={}:!1},e.cancelClickFn=function(){e.isOpenPicker=!1},e.documentClickFn=function(){if(e.disable)return;if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){e.isOpenPicker&&(e.isOpenPicker=!1)})},$(document).on("click",e.documentClickFn),e.documentKeydownFn=function(r){r.keyCode===27&&e.isOpenPicker&&e.$evalAsync(function(){e.isOpenPicker=!1}),r.keyCode===9&&n.tabKeydownFn(e,$(".ti-date-range-picker",t),r)},$(document).on("keydown",e.documentKeydownFn),t.on("$destroy",function(){$(document).off("click",e.documentClickFn),$(document).off("keydown",e.documentKeydownFn)}),e.datePickerShowDate=function(t){return r.formatDate(t,e.format)}}function v(e,t,r){e.$watch("value",function(n,r){if(_.isEqual(n,r))return;if(!m(e)){e.value=r;return}p(e,t),e.isOpenPicker&&E(e,t)},!0),e.$watch("maxValue",function(t,r){if(g(t,r))return;if(!y(e)){e.maxValue=r;return}e.maxValue=n.changeMaxTime(e.maxValue);if(e.value===null)return;S(e.value.begin,e.maxValue)&&(e.value.begin=e.maxValue),S(e.value.end,e.maxValue)&&(e.value.end=e.maxValue)}),e.$watch("minValue",function(t,r){if(g(t,r))return;if(!b(e)){e.minValue=r;return}e.minValue=n.changeMinTime(e.minValue);if(e.value===null)return;x(e.value.begin,e.minValue)&&(e.value.begin=e.minValue),x(e.value.end,e.minValue)&&(e.value.end=e.minValue)}),e.$watch("format",function(n,r){if(n===r)return;if(!_.isString(n)){e.format=r;return}p(e,t)}),e.$watch("begin.value",function(n,r){if(g(n,r))return;e.end.value=n,w(n,t)},!0),e.$watch("end.value",function(n,r){if(g(n,r))return;e.begin.value=n,w(n,t)},!0),e.$watch("isOpenPicker",function(n,i){if(n===i)return;if(n===!1){var s={evtName:"close",attrs:r,scope:e,params:{value:e.value}};window.tiny.utils.applyCallback(s),e.$inputContainer.is(":focus")||t.trigger("tiBlur")}})}function m(e){function i(t){return Date.parse(t)<=Date.parse(e.maxValue)&&Date.parse(t)>=Date.parse(e.minValue)}var n=e.value;if(n===null)return!0;var r=$.isPlainObject(n)&&t.isDate(n.begin)&&t.isDate(n.end)&&Date.parse(n.begin)<=Date.parse(n.end)&&i(n.begin)&&i(n.end);return r?!0:!1}function g(e,n){if(e===n)return!0;if(t.isDate(e)&&t.isDate(n)){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(Date.parse(r)===Date.parse(i))return!0}return!1}function y(e){return t.isDate(e.maxValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function b(e){return t.isDate(e.minValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function w(e,n){setTimeout(function(){var r=$("[ng-bind='btnLanguage.ok']",n);!$.isPlainObject(e)||!t.isDate(e.begin)||!t.isDate(e.end)||S(e.begin,e.end)?r.attr("disabled",!0):r.attr("disabled",!1)},0)}function E(e,t){var n=e.value;n=$.isPlainObject(n)?$.extend(!0,{},n):null,e.begin={value:n,datePicker:"day",onlySelectYearMonth:!1,maxValue:e.maxValue,minValue:e.minValue,type:"begin"},e.end={value:n,datePicker:"day",onlySelectYearMonth:!1,maxValue:e.maxValue,minValue:e.minValue,type:"end"},e.format.indexOf("d")===-1&&(e.begin.datePicker="month",e.begin.onlySelectYearMonth=!0,e.end.datePicker="month",e.end.onlySelectYearMonth=!0),w(e.value,t)}function S(e,t){return Date.parse(e)>Date.parse(t)}function x(e,t){return Date.parse(e)<Date.parse(t)}return{restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",minValue:"=?",disable:"=?",elementId:"=?",close:"&",change:"&",nowDateTime:"=?",pageHeight:"=?",showClearIcon:"=?",dayClick:"&"},templateUrl:"/tiny-components/src/components/dateRange/dateRange.html",replace:!0,link:s}}var t=window.tiny.utils;return e.provider("dateRangeService",n),e.directive("tiDateRange",r),r.$inject=["dateRangeService","datePanelService","tiService","tiConfig"],e.name}),define("components/datetimeRange/datetimeRange",["components/module","components/time/time","components/datePanel/datePanel","components/button/button"],function(e){"use strict";function n(){var e=this.defaultValue={maxValue:new Date(2099,11,31,23,59,59),minValue:new Date(1970,0,1,0,0,0)};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){var e={constant:this.constant,defaultValue:this.defaultValue};return e}}function r(e,n,r,i){function s(e,t,n){o(e,t,n),g(e,t,n),M(e,t,n)}function o(e,t,n){e.$inputContainer=t.find(".ti-date-input-container"),e.connectSymbol="─",e.currentTime=e.maxValue==="currentTime"?"currentTime":undefined,u(e),a(e),f(e),l(e),v(e,t),!n.id&&_.isString(e.elementId)&&e.elementId!==""&&t.attr("id",e.elementId),e.showClearIcon=_.isUndefined(e.showClearIcon)?!0:e.showClearIcon;if(!e.showClearIcon){var r=$(".ti-date-icon-container",t).outerWidth();$(".ti-date-show",t).css({width:"calc(100% - "+r+"px)"})}}function u(e){var t=window.tiny.language;e.btnLanguage={cancel:t.cancel_btn,ok:t.ok_btn},e.beginText=t.date_range_begin_label,e.endText=t.date_range_end_label}function a(e){if(i.defaultConfig.datetime.isNgLocaleFormat){e.format={date:r.getDateTimeFormat("date"),time:r.getDateTimeFormat("time")};return}var t=w.format={date:t.date_format,time:t.time_format};return}_.isString(e.format.date)||(e.format.date=t.date_format),_.isString(e.format.time)||(e.format.time=t.time_format)}function f(n){var r=e.defaultValue;n.maxValue=t.isDate(n.maxValue)?n.maxValue:r.maxValue,n.minValue=t.isDate(n.minValue)?n.minValue:r.minValue,Date.parse(n.maxValue)<Date.parse(n.minValue)&&(n.maxValue=r.maxValue,n.minValue=r.minValue)}function l(e){if(!$.isPlainObject(e.value)){e.value=null,e.currentTime==="currentTime"&&(e.maxValuelue.begin,e.value.end)&&(e.value.begin=e.minValue,e.value.end=e.maxValue)}function c(e){if(!t.isDate(e.value.begin)){e.value.begin=e.minValue;return}p(e.value.begin,e.maxValue)&&(e.value.begin=e.maxValue),d(e.value.begin,e.minValue)&&(e.value.begin=end)){e.currentTime==="currentTime"&&(e.maxValue=new Date),e.value.end=e.maxValue;return}e.currentTime==="currentTime"&&(e.maxValue=new Date),p(e.value.e.end,e.minValue)&&(e.value.end=e.minValue)}function p(e,t){return Date.parse(e)>Date.par.parse(e)<Date.parse(t)}function v(e,t){if(e.value===null)e.showValue="";else{var n=e.format.date+" "+m(e.format.time),i=r.formatDateTime(e.value.begin,n),s=r.formatDateTime(e.value.end,n);e.showValue=i+" ─ "+s}t[0].tiValue=e.showValue}function m(e){return e.match(/h/)&&!e.match(/a/)?e+" a":e}function g(e,t,r){function i(){if(e.disable||e.isOpenPicker)return;e.isOpenPicker=!0,y(e),setTimeout(function(){n.setPanelPosition(t,e.pageHeight)},0)}e.isInnerClick=!1,e.in0,i()},e.dayClickFn=function(t){var n={evtName:"dayClick",attrs:r,scope:e,params:{option:t}};window.tiny.utction(){if(e.disable)return;e.isInnerClick=!0,e.isOpenPicker=!e.isOpenPicker,e.isOpenPicker&&(y(e),setTimeout(function(){n.setPanelPosition(t,e.pageHeight)},0))},e.focusFn=function(){if(e.disable)return;t.trigger("tiFocus")},e.blurFn=function(){if(e.disable)return;t.trigger("tisOpenPicker&&(e.isOpenPicker=!1)}switch(t.keyCode){case 9:n();break;case 13:case 108:i();break;default:}},e.pickerClickFn()},e.timeKeydownFn=function(e){if(!window.tiny.utils.browser.ie)return;(e.keyCode===13||e.keyCode===108)&&e.preventDefault()},=e.beginDate.value.begin);e.value.begin=new Date(t+" "+z(e.beginTime.value));var i=R(e.endDate.value.end);e.value.end=new Date(i+" "+z(e.endTime.value)),e.isOpenPicker=!1,n.triggerChange(e,r,D)},e.containerClickFn=function(){e.$inputContainer.focus()},e.iconClearClickFn=function(){if(e.disable)return;e.oldValue=angular.copy(e.value),e.value=null,setTimeout(function(){t.trigger("contentChange")},0),n.triggerChange(e,r,D)},e.isShowClearIconFn=function(){retur.isObject(e.value)&&e.value!=={}:!1},e.cancelClickFn=function(){e.isOpenPicker=!1},e.documentClickFn=function(){if(e.disable)return;if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){e.isOpenPicker&&(e.isOpenPicker=!1)})},$(document).on("click",e.documentClickFn),e.documentKeydownFn=function(r){r.keyCode===27&&e.isOpenPicker&&e.$evalAsync(function(){e.isOpenPicker=!1}),r.keyCode===9&&n.tabKeydownFn(e,$(".ti-date-range-picker",t),r)},$(document).on("keydown",e.documentKeydownFn),t.on("$destroy",function(){$(document).off("click",e.documentClickFn),$(document).off("keydown",e.documentKeydownFn)})}function y(e){b(e),w(e),I(e)} t=e.value;t=$.isPlainObject(t)?$.extend(!0,{},t):null,e.beginDate={value:t,maxValue:e.maxValue,minValue:e.minValue,datePicker:"day",onlySelectYearMonth:!1,type:"begin"},e.endDate={value:t,maxValue:e.maxValue,minValue:e.minValue,datePicker:"day",onlySelectYearMonth:!1,type:"end"},e.format.date.indexOf("d")===-1&&(e.beginDate.datePicker="month",e.beginDate.onlySelectYearMonth=!0,e.endDate.datePicker="month",e.endDate.onlySelectYearMonth=!0)}function w(e){E(e),C(e)}function E(e){e.beginTime={},S(e),x(e),N(e),T(e),e.beginTime.change=function(){I(e)}}function S(e){if(e.value===null){if(H(e)){e.beginTime.value=q(e.nowDateTime);return}e.beginTime.value="";return}e.beginTime.value=q(e.value.begin)}function x(e){H(e)&&(e.beginTime.nowTime=q(e.nowDateTime))}function T(e){var t=e.beginDate.value;$.isPlainObject(t)&&U(e.minValue,t.begin)?e.beginTime.minValue=q(e.minValue):e.beginTime.minValue="00:00:00"}function N(e){var t=e.beginDate.value;$.isPlainObject(t)&&U(e.maxValue,t.begin)?e.beginTime.maxValue=q(e.maxValue):e.beginTime.maxValue="23:59:59"}function C(e){e.endTime={},k(e),L(e),O(e),A(e),e.endTime.change=function(){I(e)}}function k(e){if(e.value===null){if(H(e)){e.endTime.value=q(e.nowDateTime);return}e.endTime.value="";return}e.endTime.value=q(e.value.end)}function L(e){H(e)&&(e.endTime.nowTime=q(e.nowDateTime))}function A(e){var t=e.endDate.value;$.isPlainObject(t)&&U(e.minValue,t.end)?e.endTime.minValue=q(e.minValue):e.endTime.minValue="00:00:00"}function O(e){var t=e.endDate.value;e.currentTime==="currentTime"&&(e.maxValue=new Date),$.isPlainObject(t)&&U(e.maxValue,t.end)?e.endTime.maxValue=q(e.maxValue):e.endTime.maxValue="23:59:59"}function M(e,t,n){e.$watch("value",function(n,r){if(_.isEqual(n,r))return;if(!D(e)){e.value=r;return}v(e,t),e.isOpenPicker&&y(e,t)},!0),e.$watch("maxValue",function(t,n){if(P(t,n))return;if(!B(e)){e.maxValue=n;return}if(e.value===null)return;p(e.value.begin,e.maxValue)&&(e.value.begin=e.maxValue),p(e.value.end,e.maxValue)&&(e.value.end=e.maxValue)}),e.$watch("minValue",function(t,n){if(P(t,n))return;if(!j(e)){e.minValue=n;return}if(e.value===null)return;d(e.value.begin,e.minValue)&&(e.value.begin=e.minValue),d(e.value.end,e.minValue)&&(e.value.end=e.minValue)}),e.$watch("format",function(n,r){if(n===r)return;if(!F(n)){e.format=r;return}v(e,t)}),e.$watch("beginDate.value",function(t,n){if(P(t,n))return;N(e),T(e),e.endDate.value=t,I(e)},!0),e.$watch("endDate.value",function(t,n){if(P(t,n))return;O(e),A(e),e.beginDate.value=t,I(e)},!0),e.$watch("isOpenPicker",function(r,i){if(r===i)return;if(r===!1){var s={evtName:"close",attrs:n,scope:e,params:{value:e.value}};window.tiny.utils.applyCallback(s),e.$inputContainer.is(":focus")||t.trigger("tiBlur")}})}function D(e){function i(t){return Date.parse(t)<=Date.parse(e.maxValue)&&Date.parse(t)>=Date.parse.isDate(n.begin)&&t.isDate(n.end)&&Date.parse(n.begin)<=Date.parse(n.end)&&i(n.begin)&&i(n.end);return r?!0:!1}function P(e,n){return e===n?!0:t.isDate(e)&&t.isDate(n)&&Date.parse(e)===Date.parse(n)?!0:!1}function H(e){return e.nowDateTime&&t.isDate(e.nowDateTime)&&Date.parse(e.nowDateTime)>=Date.parse(e.minValue)&&Date.parse(e.nowDateTime)<=Date.parse(e.maxValue)}function B(e){return t.isDate(e.maxValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function j(e){return t.isDate(e.minValue)&&Date.parse(e.maxValue)>=Date.parse(e.minValue)}function F(e){return $.isPlainObject(e)&&_.isString(e.date)&&_.isString(e.time)}function I(e){function n(){var n=e.beginDate.value;return $.isPlainObject(n)&&t.isDate(n.begin)&&t.isDate(n.end)&&r(e)}function r(){var t=new Date(R(e.beginDate.value.begin)+" "+z(e.beginTime.value)),n=new Date(R(e.endDate.value.end)+" "+z(e.endTime.value));return Date.parse(n)>Date.parse(t)}e.$evalAsync(function(){n(e)?e.isOkDisabled=!1:e.isOkDisabled=!0})}function q(e){return":"+e.getSe.getMonth()+1(e,n){if(!t.isDate(e)||!t.isDate(n))return!1;var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(n.getFullYear(),n.getMonth(),n.getDate());return Date.parse(r)===Date.parse(i)}function z(e){if(e.match(/:/))return e;var t=e.match(/am|AM|pm|PM/)||"";return parseInt(e,10)+": "+t}return{restrict:"E",scope:{format:"=?",value:"=?",maxValue:"=?",minValue:"=?",disable:"=?",elementId:"=?",close:"&",change:"&",nowDateTime:"=?",pageHeight:"=?",showClearIcon:"=?",dayClick:"&"},templateUrl:"/tiny-components/src/components/datetimeRange/datetimeRange.html",replace:!0,link:s}}var t=window.tiny.utils;return e.provider("datetimeRangeService",n),e.directive("tiDatetimeRange",r),r.$inject=["datetimeRangeService","datePanelService","tiService","tiConfig"],e.name}),define("components/menu/menu",["components/module","components/common/utils/keymap","components/tip/tip"],function(e,t){"use strict";function r(){var e=this.defaultValue={panelAlign:"right",tipPosition:"left"};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return{defaultValue:this.defaultValue}}}function i(e){function n(e){this.scope=e}function i(n,r,i){function s(){n.panelAlign=a(),n.toggleElement=r,n.panelItems=angular.copy(n.items),n.isInnerClick=!1,_.isString(n.elementId)&&n.elementId!==""?n.menuPanelId=n.elementId+"_menuPanel":(n.menuPanelId="",n.elementId=""),r.find(">.ti-menu-toggle>button").length>0&&r.find(">.ti-menu-toggle").removeAttr("href")}function o(){n.toggleClickFn=function(e){if(e.button===1||e.button===2)return;n.isInnerClick=!0;if(_.isFunction(n.beforeClick())&&n.beforeClick()()===!1)return;n.show=!n.show},r.on("blur",".ti-menu-toggle",function(){if(n.show===!0){if(_.isFunction(n.beforeClick())&&n.beforeClick()()===!1)return;n.show=!1,n.$evalAsync()}}),r.on("keydown",".ti-menu-toggle",function(e){if(n.show&&n.isPanelResponsedEnter)return;var r=e.keyCode;if(r===t.KEY_ENTER||r===t.KEY_NUMPAD_ENTER)n.toggleClickFn(e),n.$evalAsync()}),n.documentMousedownFn=function(){if(n.isInnerClick){n.isInnerClick=!1;return}n.$evalAsync(function(){n.show=!1})},$(document).on("mousedown",n.documentMousedownFn),r.on("$destroy",function(){$(document).off("mousedown",n.documentMousedownFn)})}function u(){n.$watch("items",function(e,t){if(e===t)return;n.panelItems=angular.copy(n.items)},!0)}function a(){return n.panelAlign==="right"||n.panelAlign==="left"?n.panelAlign:e.defaultValue.panelAlign}s(n,r,i),o(n),u(n)}n.$inject=["$scope"];var r={restrict:"E",scope:{panelAlign:"=?",show:"=?",elementId:"=?",items:"=?",panelMaxWidth:"=?",panelOffset:"=?",actionParam:"=?",beforeClick:"&"},templateUrl:"/tiny-components/src/components/menu/menu.html",replace:!0,transclude:!0,controller:n,link:i};return r}function s(e,r,i){function o(n,i,s,o){function h(){$("body").append(i),n.isBigPaddingFn=function(e){var t=!1;if(_.isArray(e))for(var n=0;n<e.length;n++)if(_.isArray(e[n].childrens)&&e[n].childrens.length){t=!0;break}return t},n.hasChildren=function(e){return _.isArray(e)&&e.length?!0:!1},_.isUndefined(n.leftOffset)&&(n.leftOffset=0),_.isNaN(parseFloat(n.maxHeight,10))&&(n.maxHeight="9999px"),n.elementId=_.isString(n.elementId)?n.elementId:"",n.isOnlySelectLeaf=_.isUndefined(n.isOnlySelectLeaf)?!1:n.isOnlySelectLeaf,n.isPanelResponsedEnter=!1}function p(e,t){var n=e.toggleElement[0].getBoundingClientRect().width;t.css("min-width",n)}function v(n,i){n.mouseenterFn=function(e,t){if(e.disable){n.isPanelResponsedEnter=!1;return}var r=$(t.currentTarget);r.siblings(".ti-menu-panel-list").removeClass("ti-menu-panel-list-hover"),r.addClass("ti-menu-panel-list-hover"),n.isPanelResponsedEnter=!0;if(!n.hasChildren(e.childrens))return;e.showChildrens=!0,a(n,$($(".ti-menu-panel-container",$(t.currentTarget))[0])),d(n,t)},n.mouseleaveFn=function(e,t){if(e.disable)return;var r=$(t.currentTarget);r.removeClass("ti-menu-panel-list-hover");if(!n.hasChildren(e.childrens))return;e.showChildrens=!1},n.mouseenterFn1=function(t,i){var s=i.currentTarget,o=s.tipInstance;if(_.isString(t.tip)){if(n.type==="button")var u="right";var a=t.tipPosition||u||r.defaultValue.tipPosition;o||(s.tipInstance=e.createTip($($("div[ti-tooltip]",$(i.currentTarget).closest(".ti-menu-panel-list"))[0]),{content:t.tip,position:a})),s.tipInstance.show({content:t.tip,position:a})}},n.mousedownFn=function(e,t){n.currentTarget=t.currentTarget,t.stopPropagation(),t.preventDefault();if(e.disable||n.type!=="regionPanel"&&n.hasChildren(e.childrens))return;var r=t.button;if(r!==undefined&&r!==0&&r!==1)return;$(t.currentTarget).addClass("ti-menu-panel-list-active")},n.mouseupFn=function(e,t,r){if(!$(t.currentTarget).is(n.currentTarget)&&n.isPanelResponsedEnter){n.currentTarget=null;return}n.currentTarget=null,t.stopPropagation(),i.find(".ti-menu-panel-list").removeClass("ti-menu-panel-list-active");if(e.disable||n.type!=="regionPanel"&&n.hasChildren(e.childrens))return;var s=t.button;if(s!==undefined&&s!==0&&s!==1)return;if(n.type==="regionPanel"&&r===!0){n.show=!1;return}_.isFunction(e.click)&&e.click(e,n.actionParam),_.isFunction(n.select())&&n.type!=="headFilterPanel"&&n.select()(e,t),n.oldSelectedId=n.selectedId,n.selectedId=e.id,n.oldSelectedId!==e.id&&_.isFunction(n.change())&&n.change()(e),n.show=!1},n.documentMouseupFn=function(){i.find(".ti-menu-panel-list").removeClass("ti-menu-panel-list-active")},n.keydownFn=function(e){if(!n.show)return;var r=e.keyCode;switch(r){case t.KEY_ARROW_UP:b(n,i,e);break;case t.KEY_ARROW_DOWN:w(n,i,e);break;case t.KEY_ESCAPE:S(n,i,e);break;case t.KEY_ENTER:case t.KEY_NUMPAD_ENTER:E(n,i,e);break;default:}},$(document).on("mouseup",n.documentMouseupFn),$(document).on("keydown",n.keydownFn),i.on("$destroy",function(){$(document).off("mouseup",n.documentMouseupFn),$(document).off("keydown",n.keydownFn)}),n.hiddenPanel=function(){n.show=!1,n.$evalAsync(),i.find(">ul").css("max-height",""),i.css("display","none")},n.generateId=function(e){return _.isString(e)||_.isNumber(e)?n.elementId+"_"+e.toString():""},n.selectedNode=function(e){if(!_.isString(e.id)&&!_.isNumber(e.id))return!1;if(e.id===n.selectedId)return!0;if(angular.isArray(e.childrens)&&e.childrens.length>0)for(var t=0;t<e.childrens.length;t++)if(e.childrens[t].id===n.selectedId)return!0;return!1},$(document).on("mousewheel DOMMouseScroll tiScroll tipRelocation",n.hiddenPanel),$(window).on("resize hashchange",n.hiddenPanel),i.find(">ul").on("mousewheel DOMMouseScroll",function(e){e.stopPropagation(),e.preventDefault(),window.tiny.utils.browser.firefox?i.find(">ul")[0].scrollTop+=e.originalEvent.detail>0?120:-120:i.find(">ul")[0].scrollTop+=e.originalEvent.wheelDelta>0?-120:120}),i.find(">ul").on("mousedown",function(e){e.preventDefault(),e.stopPropagation()})}function m(){n.$watch("show",function(){if(!n.show){n.isPanelResponsedEnter=!1,i.find(".ti-menu-panel-list").removeClass("ti-menu-panel-list-hover");return}u(n,i),a(n,i),p(n,i),f(n,i,o)}),n.$watch("toggleElement",function(e,t){if(_.isUndefined(e)||e!==t)return;n.toggleElement.on("$destroy",function(){i.remove(),$(window).off("resize hashchange",n.hiddenPanel),$(document).off("mousewheel DOMMouseScroll tipRelocation",n.hiddenPanel)})}),n.$watch(function(){if(n.show&&n.toggleElement)return n.toggleElement.offset()},function(e,t){if(n.show===!1||e===t||_.isUndefined(t)||_.isUndefined(e))return;l(n,i,o),c(n,i)},!0)}h(),v(n,i),m(n,i)}function u(e,t){if(!_.isArray(e.items))return;for(var n=0;n<e.items.length-1;n++){if(e.items[n].groupId===e.items[n+1].groupId||n===e.items.length-1)return;e.items[n+1].isBorder=!0;if(e.items[n].hasOwnProperty("childrens")&&_.isArray(e.items[n]))for(var r=0;r<e.items[n].childrens.length-1;r++){if(e.items[n].childrens[r].groupId===e.items[n].childrens[r+1].groupId||r===e.items[n].childrens.length-1)return;e.items[n].childrens[r+1].isBorder=!0;if(e.items[n].childrens[r].hasOwnProperty("childrens")&&_.isArray(e.items[n].childrens[r]))for(var i=0;i<e.items[n].childrens[r].childrens.length-1;i++){if(e.items[n].childrens[r].childrens[i].groupId===e.items[n].childrens[r].childrens[i+1].groupId||i===e.items[n].childrens[r].childrens.length-1)return;e.items[n].childrens[r].childrens[i+1].isBorder=!0}}}}function a(e,t){var n=parseInt(e.panelMaxWidth,10);if(_.isNaN(n))return;setTimeout(function(){var e=t.css("display");t.css({maxWidth:n+"px",wordWrap:"break-word",whiteSpace:"normal"})},0)}function f(e,t,n){t.css("display","none"),i(function(){c(e,t),v(e,t),l(e,t,n),t.css("display","block"),window.tiny.utils.browser.chrome&&e.showSelected===!0&&h(e,t)},0)}function l(e,t,n){var r=e.toggleElement,i=r.offset(),s=r.outerWidth(),o=t.outerWidth(),u,a=_.isNull(n)||_.isUndefined(n.scope.panelOffset)?0:n.scope.panelOffset;e.panelAlign==="left"?u=i.left-a:u=i.left+s-o+a,t.css({left:u+parseFloat(e.leftOffset,10)+"px"})}function c(e,t){var r=e.toggleElement,i=r.outerHeight(),s=r.offset(),o=r[0].getBoundingClientRect(),u=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,a=u+$(document).scrollTop()-s.top-i,f=s.top-$(document).scrollTop(),l=p(e,t),c=n.DEFAULT;if(e.type==="regionPanel"||e.type==="button")c=n.REGIONPANEL;var h=s.top-$(document).scrollTop(),d=window.innerHeight-h-i-c;h-=c;var v,m=parseFloat(e.maxHeight,10),g;if(l<=a-n.DEFAULT){var y=a-c;g=y>m?m:y,e.showPosition="down",v=s.top+i+c}else if(l<=f-n.DEFAULT){var y=f-c;g=y>m?m:y,e.showPosition="up",v=s.top-l-c}else if(f>a){var y=f-c;g=y>m?m:y,e.showPosition="up",v=s.top-g-c}else{var y=a-c;g=y>m?m:y,e.showPosition="down",v=s.top+i-1+c}t.find(">ul").css("max-height",g+"px"),t.css({top:v+"px",bottom:""})}function h(e,t){var n=t.find(".ti-menu-panel-list-selected-item");if(n.length<1)return 0;t.find(">ul").scrollTop(n[0].offsetTop)}function p(e,t){var n=t.clone();n.css({display:"block",visibility:"hidden",maxHeight:"",left:"-9999px",top:"-9999px",position:"absolute"}).appendTo($("body"));var r=n.outerHeight();return n.remove(),r}function d(e,t){setTimeout(function(){var n=$(t.currentTarget),r=$($(".ti-menu-panel-container",n)[0]);v(e,r),g(e,n,r),y(n,r),r.css("display","block")},0)}function v(e,t){var n=m(t),r=parseInt(e.panelMaxWidth,10);!_.isNaN(r)&&n>=r?t.css("width",r+"px"):t.css("width",n+1+"px")}function m(e){var t=e.clone(),n=e.css("minWidth");t[0].style.cssText="min-width:"+n+";display: block !important;"+"visibility: hidden; white-space: nowrap; left: -9999px;"+"top: -9999px; position: absolute;",t.appendTo($("body"));var r=t[0].getBoundingClientRect().width;return t.remove(),r}function g(e,t,n){var r=t.outerWidth()+"px",i,s;e.panelAlign==="left"?(i=r,s="auto"):(i="auto",s=r),n.css({left:i,right:s})}function y(e,t){var n=t.outerHeight(),r=e.offset(),i=r.top-$(document).scrollTop(),s=window.innerHeight-i,o;s>=n?o=0:o=s-n,t.css("top",o+"px")}function b(e,t,n){n.preventDefault();var r=t.find(">ul").contents(".ti-menu-panel-list").not(".ti-menu-panel-list-disable");if(r.length<1)return;var i=r.filter(".ti-menu-panel-list-hover"),s,o;i.length>0&&(o=x(i,r)),o>0?s=$(r[o-1]):s=r.last(),i.removeClass("ti-menu-panel-list-hover"),s.addClass("ti-menu-panel-list-hover"),e.isPanelResponsedEnter=!0,e.$evalAsync()}function w(e,t,n){n.preventDefault();var r=t.find(">ul").contents(".ti-menu-panel-list").not(".ti-menu-panel-list-disable");if(r.length<1)return;var i=r.filter(".ti-menu-panel-list-hover"),s,o;i.length>0&&(o=x(i,r)),o<r.length-1?s=$(r[o+1]):s=r.first(),i.removeClass("ti-menu-panel-list-hover"),s.addClass("ti-menu-panel-list-hover"),e.isPanelResponsedEnter=!0,e.$evalAsync()}function E(e,t,n){var r=t.find(".ti-menu-panel-list-hover");if(r.length<1)return;var i=r.scope().item;if(e.type!=="regionPanel"&&e.hasChildren(i.childrens)){e.isPanelResponsedEnter=!0;return}e.isPanelResponsedEnter=!1,r.triggerHandler("mouseup")}function S(e,t,n){e.hiddenPanel()}function x(e,t){if(e.length<1||t.length<1)return-1;for(var]===t[n])return n;return-1}var s={restrict:"E",transclude:!0,templateUrl:function(e,t){return t.customDefine!==undefined?"/tiny-components/src/components/menu/menuPanelExt.html":"/tiny-components/src/components/menu/menuPanel.html"},replace:!0,require:"?^tiMenu",scope:{elementId:"=?",panelAlign:"=?",show:"=?",actionParam:"=?",toggleElement:"=?",type:"=?",items:"=?",panelMaxWidth:"=?",maxHeight:"=?",showPosition:"=?",selectedId:"=?",showSelected:"=?",leftOffset:"@",select:"&",change:"&",isPanelResponsedEnter:"=?",isOnlySelectLeaf:"=?"},link:o};return s}var n={DEFtiMenuService",r),e.directive("tiMenu",i),i.$inject=["tiMenuService"],e.directive("tiMenuPanel",s),s.$inject=["tiTipService","tiMenuService","$timeout"]}),define("components/buttonSelect/buttonSelect",["components/module","components/selectDominator/selectDominator","components/menu/menu"],function(e){function t(){return{restrict:"E",replace:!0,scope:{content:"=?",disable:"=?",panelAlign:"=?",items:"=?",elementId:"=?"},templateUrl:"/tiny-components/src/components/buttonSelect/buttonSelect.html",link:function(e,t,r){n(e,t,r)}}}function n(e,t,n){e.panelShow=!1,e.content=_.isString(e.content)?e.content:tiny.language.more_title,e.panelAlign=e.panelAlign==="right"||e.panelAlign==="left"?e.panelAlign:"left",e.items=_.isArray(e.items)?e.items:[],e.toggleElement=t.find(".ti-button-select-dominator-wrapper"),e.elementId=_.isString(e.elementId)?e.elementId:"",e.elementId!==""?e.menuPanelId=e.elementId+"_menuPanel":e.menuPanelId=""}e.directive("tiButtonSelect",t)}),define("components/checkboxGroup/checkGroup",["components/module"],function(e){"use strict";function t(e,t,n,r){function s(i,s,o){function T(){return A()?u:L()?a:f}function N(e){e===!0?C():k()}function C(){var e=g(h),t=d(h)?d(h):[];_.each(t,function(t){t.tiDisabled||n.add(e,t[x])}),y(h,e)}function k(){var e=g(h),t=d(h)?d(h):[];_.each(t,function(t){t.tiDisabled||n.remove(e,t[x])}),y(h,e)}function L(){var e=d(h)?d(h):[],t=_.pluck(e,x),r=g(h),i=_.pluck(e,"tiDisabled"),s=0,o=0;for(var u=0;u<t.length;u++){if(i[u]){o++;continue}!i[u]&&n.contains(r,t[u])&&s++}if(o===t.length){var a=O(r,t);return a>0&&a<t.length}retnction A(){M(d,v,l);var e=d(h),t=_.pluck(e,x),r=_.pluck(e,"tiDisabled");M(g,y,c);var i=g(h);if(i.length===0||t.length===0)return!1;var s=0;for(var o=0;o<t.length;o++){if(r[o]){s++;continue}if(!n.contains(i,t[o]))return!1}return s===t.length?O(i,t)===t.length:!0}function O(e,t){var r=0;for(var i=0;i<t.length;i++)n.contains(e,t[i])&&r++;return r}function M(e,t,n){_.isArray(e(h))||(n.splice(0,n.length),t(h,n))}var u=0,a=1,f=2,l=[],c=[],h=i.$parent,p=o.tiCheckGroup,d=e(p),v=d.assign;o.$set("tiCheckGroup",null),t(s)(i),o.$set("tiCheckGroup",p);var m=o.checkedId;_.isUndefined(m)&&r.error("Error: You must set the checkedId attribute!");var g=e(m),y=g.assign,b=e(o.ngModel),w=b.assign,E=o.idKey,S=e(E),x=S(h)?S(h):"id";i.$watch(o.ngModel,function(e,t){if(e===t)return;if(e===!1&&L())return;N(e)}),s.on("click",function(e){var t=window.tiny.utils;L()&&t.browser.ie&&(e.stopPropagation(),w(i,!0),i.$evalAsync(),s.trigger("change"))}),i.$watch(function(){return T()},function(e){e===u?(s.prop("indeterminate",!1),w(i),w(i,!1)):(s.prop("indeterminate",!0),w(i,!1))}),i.$watch(function(){return d(h)},function(e,t){if(t&&t.length===0&&e&&e.length>0){var n=T();n===u?(s.prop("indeterminate",!1),w(i,!0)):n===f?(s.prop("indeterminate",!1),w(i,!1)):(s.prop("indeterminate",!0),w(i,!1))}},!0)}var i={restrict:"A",priority:599,terminal:!0,scope:!0,compile:function(e,t){return t.ngModel||t.$set("ngModel","tiAllChecked"),s}};return i}return e.directive("tiCheckGroup",t),t.$inject=["$parse","$compile","tiService","$log"],e.name}),define("components/checkboxGroup/checkItem",["components/module"],function(e){"use strict";function t(e,t,n,r){function s(i,s,o){function E(e,t){if(w)return;var r=h(a);t===!0?p(a,n.add(r,e)):p(a,n.remove(r,e))}var u=[],a=i.$parent,f=o.tiCheckItem,l=e(f);o.$set("tiCheckItem",null),t(s)(i),o.$set("tiCheckItem",f);var c=o.checkedId;_.isUndefined(c)&&r.error("Error: You must set the checkedId attribute!");var h=e(c),p=h.assign,d=e(o.ngModel),v=d.assign,m=o.idKey,g=e(m),y=g(a)?g(a):"id",b=l(a)?l(a)[y]:undefined;i.$watch(o.ngModel,function(e,t){if(e===t)return;E(b,e)});var w=!1;i.$watch(function(){return s.attr("disabled")},function(e){setTimeout(function(){e?(w=!0,l(a).tiDisabled=!0):(w=!1,l(a).tiDisabled=!1),i.$evalAsync()},0)}),a.$watchCollection(c,function(){_.isArray(h(a))||(u.splice(0,u.length),p(a,u)),v(i,n.contains(h(a),b))})}var i={restrict:"A",priority:599,terminal:!0,scope:!0,compile:function(e,t){return t.ngModel||t.$set("ngModel","tiChecked"),s}};return i}return e.directive("tiCheckItem",t),t.$inject=["$parse","$compile","tiService","$log"],e.name}),define("components/table/colspan",["components/module"],function(e){"use strict";function t(){return{restrict:"A",require:"^tiTable",link:function(e,t,n,r){e.$watch(function(){return r.getTableState()},function(e,n){var r=0;_.each(e.columns,function(e){e.show!==!1&&r++}),t.attr("colspan",r)},!0)}}}return e.directive("tiColspan",t),e.name}),define("components/table/colsResizable",["components/module"],function(e){"use strict";function t(e,t){return{restrict:"AE",require:"^tiTable",link:function(n,r,i,s){function c(){var e=D(r),t=A(e);u.$ths=t,_.each(t,function(e,t){var n=$(e),r=s.storageLocalState.colsWidth[t];n.css("width",r+"px")});if(s.isFixedHeadTable){var n=P(r),i=A(n);u.$secondThs=i,_.each(i,function(e){var t=$(e),n=s.storageLocalState.colsWidth[index];t.css("width",n+"px")}),s.runProcessOverflowY()}u.xScrollState=V(),u.yScrollState=J(),S(),B(u),angular.forEach(u.$ths,function(e,t){X(x($(e)),u.storedSortEleSizes[t],$(e))})}function h(e,n){var i=D(r);t(function(){var t=A(i);u.$ths=t,_.each(t,function(e){var t=$(e),n=t.attr("width")?t.attr("width"):"";t.css("width",n)}),s.storageId&&s.storageConfig.colsWidth&&s.setStorageColsWidth([]),e&&i.css("width",e),u.xScrollState=V(),u.yScrollState=J();if(s.isFixedHeadTable){var n=P(r),o=A(n);u.$secondThs=o,_.each(o,function(e){var t=$(e),n=t.attr("width")?t.attr("width"):"";t.css("width",n)}),e&&n.css("width",e),s.runProcessOverflowY()}S(),B(u),angular.forEach(u.$ths,function(e,t){X(x($(e)),u.storedSortEleSizes[t],$(e))})},0)}function p(e){var t=J();if(t===e.yScrollState){d(e),s.isFixedHeadTable&&s.runProcessOverflowY();return}var n=V(),r=e.$ths.length-1,i=e.$ths.last(),o=e.storedSizes[r],u=s.getScrollBarWidth("Y");if(t)if(n&&n===e.xScrollState)S();else{f&&(i=v(e),r=parseInt(i.attr("ti-visible-index"),10),o=e.storedSizes[r]);var a=E(),l=a>u?a:u;e.storedSizes[r]=o-l}else n===e.xScrollState?n?S():e.storedSizes[r]=o+u:n||(e.storedSizes[r]=o+(u-e.storeColsWidthChange),e.storeColsWidthChange=0);M(i,e.storedSizes[r]),s.isFixedHeadTable&&(M($(e.$secondThs[r]),e.storedSizes[r]),s.runProcessOverflowY()),f=!1,e.xScrollState=V(),e.yScrollState=J()}function d(e){var t=V();if(!t)return;if(e.xScrollState)S();else{var n=v(e),r=parseInt(n.attr("ti-visible-index"),10),i=e.storedSizes[r];e.storedSizes[r]=i-E(),M(n,e.storedSizes[r]),s.isFixedHeadTable&&M($(e.$secondThs[r]),e.storedSizes[r]),e.xScrollState=V()}}function v(e){H(e);var t=_.filter(e.$ths,function(e){return!e.hasAttribute(o.notResizableAttr)&&!w($(e))}),n=_.sortBy(t,function(t){var n=parseInt($(t).attr("ti-visible-index"),10);return e.storedSizes[n]});return $(n[n.length-1])}function m(e){var t=D(e),n=A(t),r={$table:t,$ths:n,$wrap:e,mouseXPosition:0,$target:null,storedSizes:[],storedSortEleSizes:[],xScrollState:!1,yScrollState:!1};if(s.isFixedHeadTable){var i=P(e);r.$secondTable=i,r.$secondThs=A(i)}return r}function g(t,n){var r=t.$table;r.on("mousemove",">thead>tr>th:not(["+o.notResizableAttr+"])",function(e){var n=Tle?t.$secondTable:r,u=n.offset(),a=n[0].getBoundingClientRect().width,f=Math.abs(e.pageX-Math.round(u.left+a))<=o.colBorderRange;f?N(n,i):C(r,i)}),r.on("mouseleave",">thead>tr>th:not(["+o.notResizableAttr+"])",function(e){var n=T(e);if(!w(n)){var i=s.isFixedHeadTable?t.$secondTable:r;C(r,i)}}),r.on("mousedown",">thead>tr>th:not(["+o.notResizableAttr+"])",function(et=n,t.mouseXPosition=e.pageX,j(t),F(t,!0)),t.xScrollState=V(),t.yScrollState=J()}),$(document).on("mousemove."+e.nameSpace,I).on("mouseup."+e.nameSpace,q),n.on("scroll",".ti-oll")}),$(window).on("resize",b)}function y(){n.$on("$destroy",function(){$(document).off("mousemove."+e.nameSpace,I).off("mouseup."+e.nameSpace,q),$(window).off("resize",b)})}function b(){S(),angular.forEach(u.$ths,function(e,t){X(x($(e)),u.storedSortEleSizes[t],$(e))})}function w(e){var t=e.next("th:visible");return t.length===0}function E(){var e=r.children(".ti-resize-wrapper")[0],t=e?e.clientWidth:0,n=e?e.scrollWidth:0;return n-t}function S(){u.storeColsWidthChange=E()}function x(e){return parseFloat(e[0].getBoundingClientRect().width.toFixed(1))}function T(e){return $(e.target.nodeName==="TH"?e.target:$(e.target).parents("TH")[0])}function N(e,t){k(e,t),s.setDragState(!0)}function C(e,t){L(e,t),s.setDragState(!1)}function k(e,t){var n=e.index(),r;r=t.find(">tbody>tr:not(.ti-details-tr)"),e.addClass("col-resize-active"),_.each(r,function(e){$(e.children[n]).addClass("col-resize-active")})}function L(e,t){var n=e.find(">thead>tr>th"),r;r=t.find(">tbody>tr:not(.ti-details-tr)"),n.removeClass("col-resize-active"),r.children("td").removeClass("col-resize-active")}function A(e){var t=e.find(">thead>tr>th");return t}function O(e){var t=e.$table;if(t.length&&e.$ths&&e.$ths.length){var n,r,i;for(var o=0;o<e.$ths.length;o++)n=$(e.$ths[o]),i=e.storedSizes[o],M(n,i),s.isFixedHeadTable&&(e.$secondThs=A(e.$secondTable),r=$(e.$secondThs[o]),M(r,i))}}function M(e,t){e.css("width",t)}function D(e){var t=e.children("table");return t.length===0&&(t=e.children(".ti-table-fixed-head").children("table")),t.length===0&&(t=e.children(".ti-table-container").children("table")),t}function P(e){var t=e.children(".ti-resize-wrapper").children("table");return t}function H(e){var t;e.storedSizes=[],_.each(e.$ths,function(n,r){t=$(n),t.attr("ti-visible-index",r),e.storedSizes[r]=x(t)}),s.storageId&&s.storageConfig.colsWidth&&s.setStorageColsWidth(e.storedSizes)}function B(e){var t;e.storedSortEleSizes=[],_.each(e.$ths,function(n,r){t=$($(n).find(".ti-sort")),e.storedSortEleSizes[r]=t.length>0?x(t):0})}function j(e){e.$ths=A(e.$table),H(e),B(e),O(e)}function F(t,n){var r=$("body"),i=e.colsResizable;r.toggleClass(i.unselectableClass,n),n?r.attr("unselectable","on"):r.removeAttr("unselectable")}function I(e){if(u.mouseXPosition===0||!u.$target)return;U(roadcast("tableColsResizable"),F(u,!1),R(u),a=!1}catch(e){}}function R(e){H(e),e.mouseXPosition=0,e.$target=null,e.xScrollState=V(),e.yScrollState=J()}function U(e,t){var i=t.$ths.length-1,o=parseInt(t.$target.attr("ti-visible-index"),10),u=t.storedSizes[o],a=t.storedSortEleSizes[o],f=parseFloat((e.pageX-t.mouseXPosition).toFixed(1)),c=parseFloat(t.$target.css("padding-left"))+parseFloat(t.$target.css("padding-right"));if(!(f<0&&u+f<=Math.ceil(c)+49)){t.storedSizes[o]+=f,M(t.$target,t.storedSizes[o]),f+t.storeColsWidthChange<0?t.storeColsWidthChange<0?t.storedSizes[i]-=f:t.storedSizes[i]-=f+t.storeColsWidthChange:t.storeColsWidthChange<0&&(t.storedSizes[i]+=t.storeColsWidthChange),M(t.$ths.last(),t.storedSizes[i]),t.storeColsWidthChange+=f,X(t.storedSizes[o],a,t.$target),s.isFixedHeadTable&&(M($(t.$secondThs[o]),t.storedSizes[o]),M(t.$secondThs.last(),t.storedSizes[i]));var h=r.find(".ti-resize-wrapper");if(h.length>0){var p=s.getScrollBarWidth("X"),d=s.getScrollBarWidth("Y");l&&J()&&J(!0)<=p&&V()&&V(!0)<=d&&(h.css("overflow-x","hidden"),t.storeColsWidthChange=0,l=!1,setTimeout(function(){h.css("overflow-x","auto")},0))}z(t),s.isFixedHeadTable&&s.runProcessOverflowY()}t.mouseXPosition=e.pageX,n.$broadcast("tableColsResizable")}function z(e){var t=J();if(t===e.yScrollState)return;var n=s.getScrollBarWi0),e.xScrollState=r,e.yScrollState=t}function W(){angular.forEach(r.find("thead>tr>th"),function(e,t){X(x($(e)),u.storedSortEleSizes[t],$(e))})}function X(e,t,n){var r=n.find(".ti-head-filter-container"),i=n.find(".ti-sort");i.length>0&&r.length>0?s.isTextOverflow(n,18)?(i.css({position:"static"}),i.addClass("ti-sort-static"),r.addClass("ti-head-filter-position"),n.addClass("ti-head-filter-th")):(i.css({position:"relative"}),i.removeClass("ti-sort-static"),r.removeClass("ti-head-filter-position"),n.removeClass("ti-head-filter-th")):r.length>0?s.isTextOverflow(n,8)?(r.addClass("ti-head-filter-position-without-sort"),n.addClass("ti-head-filter-th-without-sort")):(r.removeClass("ti-head-filtmoveClass("ti-head-filter-th-without-sort")):i.length>0&&(s.isTextOverflow(n,21)?(i.css({position:"static"}),i.addClass("ti-sort-static"),n.addClass("ti-sort-th-without-head-filter")):(i.css({position:"relative",marginLeft:"0"}),i.removeClass("ti-sort-static"),n.removeClass("ti-sort-th-without-head-filter")))}function V(e){return s.overflowedResult("X",e)}function J(e){return s.overflowedResult("Y",e)}var o=e.colsResizable,u=m(r),a=!1,f=!0,l=!1;t(function(){S(),W();var e=D(r);u.$ths=A(e),u.xScrollState=V(),u.yScrollState=J(),s.processScrollStateChange=function(){p(u)};if(s.isFixedHeadTable){var t=P(r);u.$secondTable=t,u.$secondThs=A(t)}s.storageId&&s.storageConfig.colsWidth&&s.storageLocalState&&s.storageLocalState.redSizes=s.storageLocalState.colsWidth,s.setStorageColsWidth(u.storedSizes),c())},0),n.$on("ngShowDone",function(e,t){t&&W()}),n.$on("ngHideDone",function(e,t){t||W()}),g(u,r),y(),n.$watch(function(){return s.getTableState()},function(e,t){var n=_.reduce(t.columns,function(e,t){return e+t.show},""),r=_.reduce(e.columns,funurn e+t.show},"");n!==r&&h(e.width,e.columns)},!0)}}}return e.directive("colsResizable",t),t.$inject=["tiTableConfig","$timeout"],e.name}),define("components/table/colsToggle",["components/module"],function(e){"use strict";function t(e,t,n){return{restrict:"AE",replace:!0,require:"^tiTable",scope:{enableSearch:"=?",tipConfig:"=?"},templateUrl:n.toggleCols.template,link:function(n,r,i,s){function f(){if(u===!0){u=!1;return}n.showPanel=!1,n.$evalAsync()}function l(){if(!_.isFunction(t.get))return;t.get({url:{s:"./rest/silvan/rest/v1.0/setting/{userid}/{category}/update.json",o:{userid:e.userId,category:s.storageId}},timeout:3e4}).then(function(e){if(e.setting){var t=angular.fromJson(e.setting),n=s.getTableState();n.columns.forEach(function(e,n){var r=t[n];e.show=_.isNull(r)?undefined:r}),s.setStorageColsToggle(t)}},function(e){})}function c(n){if(!_.isFunction(t.post))return;var r=(new Date).getTime(),i={category:s.storageId,setting:angular.toJson(n),lastModifiedDateLong:r};t.post({url:{s:"./rest/silvan/rest/v1.0/setting/{userid}/update.json",o:{userid:e.userId}},timeout:3e4,params:i}).then(function(e){},function(e){})}function h(e,t,n){return!_.isArray(e)||!_.isString(t)?e:(e.forEach(function(e){e[t]=n}),e)}n.showPanel=!1,n.isNoWrap=!0,n.tipPosition="left",n.tipConfig=_.isObject(n.tipConfig)?n.tipConfig:{content:""};var o={content:"",position:"top-right"};n.tip=angular.extend(o,n.tipConfig),n.enableSearch=_.isUndefined(n.enableSearch)?!0:n.enableSearch,n.changedBySearch=!1,n.checked=!0;var u=!1,a=n.$eval(i.panelClass);a&&r.find(".ti-toggle-cols-dropdown").addClass(a),n.togglePanel=function(){n.showPanel=!n.showPanel,u=!0},$(document).on("click",f),n.$on("$destroy",function(){$(document).off("click",f)}),s.storageId&&s.storageConfig.colsToggle&&e.userId&&s.storageColsToggle.length<1&&l(),n.searchFn=function(e){var t=n.tempColumns.length,r;for(var i=0;i<t;i++)r=n.tempColumns[i].title,_.isString(r)&&r.toUpperCase().indexOf(e.toUpperCase())!==-1?n.tempColumns[i].tiIsMatched=!0:n.tempColumns[i].tiIsMatched=!1;n.changedBySearch=!0},n.changeFn=function(){if(s.storageId&&s.storageConfig.colsToggle&&e.userId){var t=_.map(n.tempColumns,function(e){return e.show});s.setStorageColsToggle(t),c(t)}n.changedBySearch=!0},n.dropdownClick=function(e){e.stopPropagation()},n.$watch(function(){return s.getTableState()},function(e){if(n.changedBySearch===!0){n.changedBySearch=!1;return}var t=h(e.columns,"tiIsMatched",!0);n.tempColumns!==t&&(n.tempColumns=t)},!0)}}}return e.directive("tiColsToggle",t),t.$inject=["$rootScope","camel","tiTableConfig"],e.name}),define("components/table/filter",["components/module"],function(e){"use strict";function t(){return{require:"^tiTable",link:function(e,t,n,r){var i=r;i.search(e.$eval(n.filterKeywords),e.$eval(n.filterFields)),e.$watch(function(){var t={filterKeywords:e.$eval(n.filterKeywords),filterFields:e.$eval(n.filterFields)};return t},function(e,t){e!==t&&i.search(e.filterKeywords,e.filterFields)},!0)}}}return e.directive("filterKeywords",t),e.name}),define("components/table/sort",["components/module"],function(e){"use strict";function t(e,t,n){return{restrict:"A",require:"^tiTable",link:function(r,i,s,o){function d(){var e=r.$eval(s.sortOption t=o.sortBy.bind(o,ation v(){return o.getDragState()}function g(){var e=i.find(".ti-head-filter-container"),t=i.find(".ti-sort");t.length>0&&e.length>0?o.isTextOverflow(i,8)?(t.css({position:"static"}),t.addClass("ti-sort-static"),e.addClass("ti-head-filter-position"),i.addClass("ti-head-filter-th")):(t.css({position:"relative"}),t.removeClass("ti-sort-static"),e.removeClass("ti-head-filter-position"),i.removeClass("ti-head-filter-th")):e.length>0?o.isTextOverflow(i,8)?(e.addClass("ti-head-filter-position-without-sort"),i.addClass("ti-head-filter-th-without-sort")):(e.removeClass("ti-head-filter-position-without-sort"),i.removeClass("ti-head-filter-th-without-sort")):t.length>0&&(o.isTextOverflow(i,21)?(t.css({position:"static"}),t.addClass("ti-sort-static"),i.addClass("ti-sort-th-without-head-filter")):(t.css({position:"relative",marginLeft:"0"}),t.removeClass("ti-sort-static"),i.removeClass("ti-sort-th-without-head-filter")))}var u=t(s.tiSort),a=u(r)!==undefined?u(r):s.tiSort,f=0,l,c=e.sort.ascentClass,h=e.sort.descentClass,p=[c,h];n(function(){g()},0),r.$on("ngShowDone",function(e,t){t&&g()}),r.$on("ngHideDone",function(e,t){t||g()}),i.on("click",".ti-sort",function(t){if(v()||!a)return!1;r.$apply(d)});var m=r.$eval(s.defaultSort);o.storageId&&o.storageConfig.sort&&o.storageSessionState&&o.storageSessionState.sort?o.storageSessionState.sort.predicate===a&&(f=o.storageSessionState.sort.reverse?1:0,d()):m&&(f=m==="desc"?1:0,d()),r.$watch(function(){return o.getTableState().sort},function(e,t){setTimeout(function(){var e=i.closest(".ti-table").find("tbody")[0],t=$(e).find(">tr");for(var n=0;n<t.length;n++){$(t[n]).removeClass("ti-even-tr").removeClass("ti-odd-tr");if($(t[n]).scope()){var r=$(t[n]).scope().$inde".ti-details-tr").addClass(r)}}},0),e.predicate!==a||e.colIndex!==l?(f=0,i.removeClass(c).removeClass(h)):(f=e.reverse===!0?2:1,i.removeClass(p[f%2]).addClass(p[f-1]))},!0)}}}return e.directive("tiSort",t),t.$inject=["tiTableConfig","$parse","$timeout"],e.name}),define("components/table/details",["components/module","components/common/utils/keymap"],function(e,t){"use strict";function n(){return{restrict:"E",require:"^tiTable",templateUrl:"/tiny-components/src/components/table/details-icon.html",scope:{row:"=?",beforeToggle:"&"},replace:!0,link:function(e,t,n,r){e.row=_.isObject(e.row)?e.row:{},e.row.showDetails=_.isUndefined(e.row.showDetails)?!1:e.row.showDetails;var i=function(){var t=e.beforeToggle(),n=!0;_.isFunction(t)&1&&(e.row.showDetails=!e.row.showDetails),e.$evalAsync();if(window.tiny.utils.browser.chrome){var r=Math.ceil($(document).scrollTop()),i=$(window).height(),s=$("body")[0].scrollHeight;r>0&&r+i>=s&&($(document).scrollTop(r-.5),$(document).scrollTop(r+.5))}};t.on("click",function(){i()}),r.closeOtherDetails&&e.$watch("row.showDetails",function(t){t&&r.closeOtherDetailsFn(e.row)});var s=t.closest("tr"),o=s.scope().$index,u=o%2===0?"ti-odd-tr":"ti-even-tr";s.addClass(u)}}}function r(e){function t(e){var t=e[0],n=e[e.length-1],r;for(var i=1;t!==n;i++){t=t.nextSibling;if(r||e[i]!==t)r||(r=angular.element([].slice.call(e,0,i))),r.push(t)}return r||e}return{multiElement:!0,transclude:"element",priority:599,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,s,o){var u,a,f;n.$watch(function(){var e=n.$eval(i.tiDetailsTr);return e?e.showDetails:!1},function(n){n?a||o(function(t,n){a=n,t[t.length++]=document.createComment(" end tiDetailsTr: "+i.tiDetailsTr+" "),u={clone:t},t.addClass("ti-details-tr"),e.enter(t,r.parent(),r)}):(f&&(f.remove(),f=null),a&&(a.$destroy(),a=null),u&&(f=t(u.clone),e.leave(f).then(function(){f=null}),u=null))})}}}return e.directive("tiDetailsIcon",n),e.directive("tiDetailsTr",r),r.$inject=["$animate"],e.name}),define("components/table/table",["components/module"],function(e){"use strict";function t(){var e=function(e,t){function f(e,t){return _.isString(e)?e.toLowerCase().indexOf(t.toLowerCase())>=0:_.isNumber(e)&&!_.isNaN(e)?e.toString().toLowerCase().indexOf(t.toLowerCase())>=0:!1}var n=[];if(_.isArray(t)){var r=t.length;return angular.forEach(e,function(e){for(var i=0;i<r;i++){var s=_.keys(t[i])[0],o=t[i][s];if(f(e[s],o)){n.push(e);bre o=[],u=i[s];angular.forEach(e,function(e){if(_.isString(t[u]))f(e[u],t[u])&&o.push(e);else{var n=t[u].length;if(!n)o.push(e);else for(var r=0;r<n;r++){var i=t[u][r];if(f(e[u],i)){o.push(e);break}}}});if(s===0)n=o;else{var a=n;n=[],_.each(a,function(e){for(var t=0;t<o.length;t++)_.isEqual(o[t],e)&&n.push(e)})}}return n};return e}function n(e,t,n){return{restrict:"E",transclude:!0,replace:!0,template:'<div class="ti-table"></div>',controller:r,link:function(r,u,a,f,l){function p(){var e=u.find(">.ti-table-fixed-head"),t=e.next(".ti-table-container");return e.length>0&&t.length>0}function d(){var e=u.find(">.ti-table-fixed-head"),t=e.next(".ti-table-container");f.isFixedHeadTable=!0,f.runProcessOverflowY=function(){v(e,t)},f.removeTableContainerBorderBottom=function(){var e=u.find("tr.ti-table-nodata").length>0,i=u.find("tr.ti-table-nodata-guide").length>0,s=u.find("tr.ti-table-loadfail").length>0,o=e||i||s;n(a.displayedData)(r).length===0&&o?t.css("border-bottom","none"):t.css("border-bottom","")};var i=e.next(".ti-table-container:visible").length===0;setTimeout(function(){v(e,t),f.removeTableContainerBorderBottom()},0),r.$watch(function(){var n=e.next(".ti-table-container:visible").length>0;i&&n&&(v(e,t),i=!1),setTimeout(function(){var r=e.next(".ti-table-container:visible").length>0;i&&!n&&r&&(v(e,t),i=!1)},0)},function(){}),$(window).on("resize",f.runProcessOverflowY),t.on("scroll",function(){var n=t.scrollLeft();e.find(">table")).trigger("tiScroll")}),r.$on("$dwindow).off("resize",f.runProcessOverflowY)})}function v(e,t){var n=e.find(">table"),r=t.find(">table"),i=s("Y");m(t,"Y")&&!m(t,"X")?n.css("width","calc(100% - "+i+"px)"):n.css("width","100%");var o=e.find(">.ti-table-fixed-head-filler"),u=i+1;if(m(t,"Y")){if(o.length>0){o.css("width",u+"px");return}var a=$('<div class="ti-table-fixed-head-filler"></div>');a.css("width",u+"px"),e.append(a)}else o.length>0&&o.remove()}function m(e,t,n){if(!e||e.length===0)return n?0:!1;var r=0,i=0,s=e.find(">table");return!s||s.length===0?n?0:!1:(t==="X"?(r=e[0].clientWidth,i=o(s[0].getBoundingClientRect().width,0)):(r=e[0].clientHeight,i=o(s[0].getBoundingClientRect().height,0)),n?i-r:i>r)}a.filterFn&&f.setFilterFunction(r.$eval(a.filterFn)),a.sortFn&&f.setSortFunction(r.$eval(a.sortFn)),l(r,function(e){u.append(e)}),(!_.has(a,"autoTip")||r.$eval(a.autoTip)!==!1)&&i(u,t,f);var c=r.$eval(a.elementId);!a.id&&_.isString(c)&&c!==""&&u.attr("id",c);if(_.has(a,"colsResizable")){var h=u.find(".ti-resize-wrapper");f.enableColsResizable=!0,f.overflowedResult=function(e,t){return m(h,e,t)},f.getScrollBarWidth=s}setTimeout(function(){p()&&d()},0);if(f.storageId){var g=function(){var t=f.getTableState(),n={},r={};if(f.storageConfig.sort){var i=_.pick(t.sort,"predicate","reverse");_.has(i,"predicate")&&_.has(i,"reverse")&&(r.sort=i)}f.storageConfig.pagination&&t.pagination.itemsPerPage!==-1&&(n.itemsPerPage=t.pagination.itemsPerPage,r.currentPage=t.pagination.currentPage),_.has(a,"colsResizable")&&f.storageConfig.colsWidth&&(n.colsWidth=f.storageColsWidth),_.isEmpty(r)||window.sessionStorage.setItem(f.storageId,angular.toJson(r)),_.isEmpty(n)||window.localStorage.setItem(f.storageId,angular.toJson(n)),f.storageConfig.colsToggle&&f.storageColsToggle.length>0&&e.userId&&window.localStorage.setItem(f.storageId+e.userId,angular.toJson(f.storageColsToggle))};$(window).on("unload",g),u.on("$destroy",function(){g(),$(window).off("unload",g)})}}}}function r(e,t,n,r,i,s){function y(e){return e?[].concat(e):[]}function b(){var n=t.$eval(s.columns),r=t.$eval(s.tableWidth)||"100%",i={width:r,columns:n,sort:{},filter:{},pagination:{currentPage:-1,itemsPerPage:-1,totalItems:-1},toggleCols:{background:null},resizable:{isDragging:!1}};if(o.storageId&&o.storageConfig.colsToggle&&e.userId){var u=window.localStorage.getItem(o.storageId+e.userId);u&&(o.storageColsToggle=angular.fromJson(u),i.columns.forEach(function(e,t){var n=o.storageColsToggle[t];e.show=_.isNull(n)?undefined:n}))}var a=t.$eval(s.id);return a&&(e.tiTableState||(e.tiTableState={}),e.tiTableState[a]=i),i}function w(){var e=l(t);c=y(e&&e.data?e.data:[])}function E(){var e=l(t);return e&&e.state?e.state:undefined}function S(){var e=g.pagination,r=g.filter,i=y(c),s=E(),u=(r.predicate||r.predicate==="")&&(!s||!s.filter),l=e.currentPage!==-1&&e.itemsPerPage!==-1&&(!s||!s.pagina);u&&(i=T(i,r.predicate,r.fields),l&&(e.totalItems=i.length)),p&&(f?i=h(i,g.sort.predicate,g.sort.reverse,g.sortOptions):i=h(i,g.sort.predicate,g.sort.reverse));if(l){var d=(e.currentPage-1)*e.itemsPerPage;i=i.slice(d,d+parseInt(e.itemsPerPage,10))}a(t,i||c),l&&n.find("td[details-icon-column]").length>0&&setTimeout(function(){var e=n.find("tbody")[0],t=$(e).find(">tr");for(var r=0;r<t.length;r++){$(t[r]).removeClasveClass("ti-odd-tr");if($(t[r]).scope()){var i=$(t[r]).scope().$index%2===0?"ti-odd-tr":"ti-even-tr";$(t[r]).not(".ti-details-tr").addClass(i)}}},0),window.tiny.utils.browser.chrome&&x(),setTimeout(function(){o.enableColsResizable&&o.processScrollStateChange&&o.processScrollStateChange(),o.isFixedHeadTable&&(o.runProcessOverflowY(),o.removeTableContainerBorderBottom())},0)}function x(){setTimeout(function(){var e=Math.ceil($(document).scrollTop()),t=$(window).height(),n=$("body")[0].scrollHeight;e>0&&e+t>=n&&($(document).scrollTop(e-.5),$(document).scrollTop(e+.5))},0)}function T(e,t,n){var r=[];if(angular.isString(t))if(n&&n.length>0){var s=_.map(n,function(e){var n={};return n[e]=t,n});r=i("tiFilterByFields")(e,s)}else r=p(e,t);else if(angular.isObject(t)){var o=_.keys(t),u=o.length;if(!u)r=p(e,t);else for(var a=0;a<u;a++){if(_.isArray(t[o[a]])){r=i("tiFilterByFields")(e,t);break}a===u-1&&(r=p(e,t))}}return r}function N(e,n){var r=!1,i=t.$eval(s.tableStateUpdate);typeof i=="function"&&(r=i(e,n)),r||S()}function C(){if(s.srcData){var e=[];t.$watch(functio o=this,u=r(s.displayedData),a=u.assign,f=t.$eval(s.isLocaleSort),l=r(s.srcData),c=[];C();var h=f?window.tiny.utils.localeSort:i("orderBy"),p=i("filter");o.storageId=t.$eval(s.storageId);if(o.storageId){o.storageConfig={sort:!0,pagination:!0,colsWidth:!0,colsToggle:!0};var d=t.$eval(s.storageConfig);d&&_.isObject(d)&&angular.extend(o.storageConfig,d);var v=window.sessionStorage.getItem(o.storageId),m=window.localStorage.ionState=angular.fr.fromJson(m)),o.storageConfig.colsToggle&&(o.storageColsToggle=[],o.setStorageColsToggle=function(e){o.storageColsToggle=e}),o.storageConfig.colsWidth&&(o.storageColsWidth=[],o.setStorageColsWidth=function(e){o.storageColsWidth=e})}var g=b();this.closeOtherDetails=t.$eval(s.closeOtherDetails),this.sortBy=function(t,n,r,i){g.sort.predicate=t,g.sort.reverse=n===!0,g.sort.colIndex=r,g.sortOptions=i},this.search=function(t,n){g.filter.predicate=t||"",g.filter.fields=angular.isArray(n)?n:[],g.pagination.currentPage=1},this.updatePagination=function(t,n){g.pagination.currentPage=t,g.pagination.itemsPerPage=n},t.$watch(function(){var e={pagination:{currentPage:g.pagination.currentPage,itemsPerPage:g.pagination.itemsPerPage},sort:g.sort,filter:g.filter};return e},function(e,t){if(e===t)return;var n;_.isEqual(e.sort,t.sort)?_.isEqual(e.filter,t.filter)?n="pagination":n="filter":n="sort",N(g,n)},!0),this.closeOtherDetailsFn=function(n){angular.forEach(u(t),function(e){e!==n&&e.showDetails&&(e.showDetails=!1)})},this.setDragState=function(e){g.resizable.isDragging=e},this.getDragState=function(){return g.resizable.isDragging},this.getTableState=function(){return g},this.setFilterFunction=function(t){typeof t=="function"&&(p=t)},this.setSortFunction=function(t){typeof t=="function"&&(h=t)},this.isTextOverflow=function(e,t){_.isNaN(parseFloat(t,10))?t=0:t=parseFloat(t,10);var n="input,button,select,textarea, iframe, object, embed, *[tabindex], *[contenteditable=true]",r=e.find(n);if(r.length>0)return!1;var i=$(e[0].cloneNode(!0)).css({"font-size":e.css("font-size"),"font-weight":e.css("font-weight"),"font-family":e.css("font-family"),"padding-right":e.css("paddingRight"),"padding-left":e.css("paddingLeft"),"border-right":e.css("borderRightWidth")+" dotted transparent","border-left":e.css("borderLeftWidth")+" dotted transparent","white-space":"nowrap",height:e.height()});i.addClass("ti-table-cell-clone"),$("body").append(i);var s=$(".ti-sort",e);s.length&&$(".ti-sort",i).css({"font-weight":s.css("font-weight"),"padding-right":s.css("paddingRight"),"padding-left":s.css("paddingLeft")});var o=e[0].getBoundingClientRect().width,u=i[0].getBoundingClientRect().width;return i.remove(),u>o-t}}function i(e,t,n){var r=$($("table",e)[0]),i,s=e.find(">.ti-table-container");s.length>0&&(s.prev("table").length>0||s.prev(".ti-table-fixed-head").length>0)?(r=e,i=">table>thead>tr>th:not(.no-auto-tip),>.ti-table-fixed-head>table>thead>tr>th:not(.no-auto-tip),>.ti-table-container>table>tbody>tr:not(.ti-details-tr)>td:not(.no-auto-tip)"):i=">thead>tr>th:not(.no-auto-tip),>tbody>tr:not(.ti-details-tr)>td:not(.no-auto-tip)",r.on("mouseenter",i,function(e){function s(e){var t=e.prevAll(e.tagName).length,n=e.nextAll(e.tagName).length,r=e.parent(),i=r.prevAll(r.tagName).length+1,s=r.nextAll(r.tagName).length,o=i+s;if(t<=n)return i<o/3?"right-top":o/3<=i&&i<o*2/3?"right":"right-bottom";return i<o/3?"left-top":o/3<=i&&i<o*2/3?"left":"left-bottom"}function o(e){var t=$("<span>").text(e);return t[0].ihasClass("cti-editor-icon")||$(e.target).hasClass("cti-rename-container")){r[0].tiTableTdTooltip&&r[0].tiTableTdTooltip.hide();return}r[0].tiTableTdTooltip&&r[0].tiTip&&(r[0].tiTip.tooltipModel.content="");if(n.isTextOverflow(r)){var i=s(r);r[0].tiTableTdTooltip||(r[0].tiTableTdTooltip=t.createTip(r,{content:""})),r[0].tiTableTdTooltip.show({content:r.attr("tip-content")||o(r.text().trim()),position:r.attr("tip-position")||i,maxWidth:r.attr("tip-maxWidth")||document.documentElement.clientWidth/2})}else r[0].tiTableTdTooltip&&r[0].tiTableTdTooltip.hide()})}function s(e){var t=$('<div class="ti-table-scroll-bar"><div style="width: 100%;height: 100%"></div></div>');t.css({position:"absolute",top:"-9999px",left:"-9999px",width:"100px",height:"100px",overflow:"hidden"}),$("body").append(t);var n=t.find("div")[0].getBoundingClientRect().width,r=t.find("div")[0].getBoundingClientRect().height;t.css("overflow","scroll");var i=t.find("div")[0].getBoundingClientRect().width,s=t.find("div")[0].getBoundingClientRect().height;t.remove();var u=o(r-s,1),a=o(n-i,1);return e==="X"?u:a}function o(e,t){return parseFloat(e.toFixed(t))}return e.filter("tiFilterByFields",t),e.directive("tiTable",n),n.$inject=["$rootScope","tiTipService","$parse"],r.$inject=["$rootScope","$scope","$element","$parse","$filter","$attrs"],e.name}),define("components/table/tableConfig",["components/module"],function(e){"use strict";e.constant("tiTableConfig",{nameSpace:"tiTable",pagination:{template:"/tiny-components/src/components/table/pagination.html",itemsByPage:10,displayedPages:5},search:{inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"ti-sort-ascent",descentClass:"ti-sort-descent"},toggleCols:{template:"/tiny-components/src/components/t"},colsResizable:{notResizableAttr:"not-resizable",unselectableClass:"ti-unselectable",colBorderRange:10},pipe:{delay:100}})}),define("components/unifyValid/pwdMsg",["components/module"],function(e){"use strict";function t(e){function n(e,t,n){var r=[],i,s,o;n===""&&(o=-1);for(var u=0,a=e.length;u<a;u++)s=e[u],i=s.msg,!_.isUndefined(i)&&i!==""&&r.push({msg:s.msg,validStatus:o||t.validInfo[u].isValid});return r}function r(e,t,n){var r=t(n,e);return r}function i(e){var n;switch(e){case-1:n="";break;case 0:n=t.valid_pwd_sec_level_low;break;case 1:n=t.valid_pwd_sec_level_medium;break;case 2:n=t.valid_pwd_sec_level_high;break;default:n=t.valid_pwd_sec_level_low}return n}var t=window.tiny.language;return{restrict:"E",replace:!0,scope:{validInfo:"=?",validator:"=?",levelFn:"=?",value:"=?",compileCallback:"&"},templateUrl:"/tiny-components/src/components/unifyValid/pwdMsg.html",link:function(s){var o=s.validator,u=s.validInfo,a=s.value,f=s.levelFn,l;a===""?l=-1:l=r(o,f,a),s.msgModel={level:l,msgItems:n(o,u,a),securityText:t.valid_pwd_sec,securityStatus:i(l)},e(function(){_.isFunction(s.compileCallback)&&s.compileCallback()},0)}}}return e.directive("tiPwdMsg",t),t.$inject=["$timeout"],e.name}),define("components/unifyValid/pwdValidFactory",["components/unifyValid/pwdMsg"],function(){return function(e,t,n){function c(e){angular.extend(e,{focusHandle:d,contentChangeHandle:d,blurHandle:g,checkEle:y})}function h(e){var t=e.validator;if(!_.isArray(t)||t.length===0)t=angular.copy(i.pwdConfig.validator);var n=e.pwdConfig.validatorExtend,r=p(t,n),s,o,u;for(var a=0,c=r.length;a<c;a++)s=r[a],o=s.rule,u=s.param,_.isUndefined(s.msg)&&(s.msg=f(o,u)),o!=="required"&&_.isUndefined(s.errorMsg)&&(s.errorMunction p(e,t){if(!_.isArray(t)||t.length===0)return e;var n=angular.copy(e);_.isArray(n)||(n=[]);var r=_.pluck(e,"rule"),i,s,o;for(var u=0,a=t.length;u<a;u++)i=t[u],s=i.rule,_.contains(r,s)?(o=_.indexOf(r,s),angular.extend(n[o],i)):n.push(i);return n}function d(e,t){o(e);var n=h(t),r=s(e,n);v(e,r,n,t)}function v(e,i,s,o){e[0].tiMsgTip||(e[0].tiMsgTip=t.createTip(e,{position:o.pwdConfig.position||r.TIP_POSITION,triggerEvent:"none",content:"",maxWidth:r.TIP_MAX_WIDTH})),e[0].tiMsgTip.tiValidMsgHide=!1;var u,a=e.scope().$new(!0);a.configs={validInfo:i,validator:s,value:_.isUndefined(e[0].tiValue)?e.val():e[0].tiValue,levelFn:b(o),compileCallback:function(){e[0].tiMsgTip.tiValidMsgHide||e[0].tiMsgTip.show({content:u})}};var f='<ti-pwd-msg valid-info="configs.validInfo" validator="configs.validator" level-fn="configs.levelFn" value="configs.value"compile-callback="configs.compileCallback()" ></ti-pwd-msg>',l=n(f);u=l(a)}function m(e,t){o(t),t[0].tiMsgTip&&(t[0].tiMsgTip.hide(),t[0].tiMsgTip.tiValidMsgHide=!0);var n=h(e),r=s(t,n),i=r.isValid;return i?u(t,e):a(t,e,r),i}function g(e,t){m(t,e)}function y(e,t){return m(e,t)}function b(e){var t=e.pwdConfig.levelFn;return _.isFunction(t)?t:w}function w(e,t){function a(e){var t=0;return e>30?t=2:e>25.5&&e<=30?t=1:e>=0&&e<=25.5&&(t=0),t=f(r,i,t),t}function f(t,n,r){var i=l(e),s=r;return r>0&&(t&&o<t||n&&i<n)&&(s=r-1),s}function l(e){var t=0;return _.forEach(s,function(n){n.test(e)&&(t++,n.last.charTypeRegObj,o=e.length,u=0;return o>=21?u=o-21+18+14+4:o>=9&&o<21?u=(o-9+1)*1.5+14+4:o>=2&&o<9?u=(o-2+1)*2+4:o>=1&&o<2&&(u=4),s.upperCharReg.test(e)&&s.specialCharReg.test(e)&&(u+=6,s.upperCharReg.lastIndex=0,s.specialCharReg.lastIndex=0),a(u)}function E(e){var t=0,n=0,r=i.pwdConfig.charTypeRegObj,s=_.findWhere(e,{rule:"rangeSize"});_.isUndefined(s)||(t=parseInt(s.param[0],10)||0);var o=_.findWhere(e,{rule:"minCharType"});return _.isUndefined(o)||(n=parseInt(o.param[0],10)||0,r=o.param[1]||i.pwdConfig.charTypeRegObj),{minCharLen:t,minCharTypeNum:n,charTypeRegObj:r}}var r={TIP_MAX_WIDTH:"420px",TIP_POSITION:"right"},i=e.defaults,s=e.getValidInfo,o=e.clearSingleInvalid,u=e.validFunc,a=e.invalidFunc,f=e.getRuleMsg,l=window.tiny.language;return{configPwdValidation:c}}}),define("components/unifyValid/aui1Factory",[],function(){return function(e,t){function i(e){angular.extend(e,{focusHandle:s,contentChangeHandle:o,blurHandle:u,checkEle:a})}function s(e,t){if(_.isUndefined(e[0].isNotFirstFocus)){var n=t.tip;h(e,n,t);return}f(t,e,!0)}function o(e,t){f(t,e,!0)}function u(e,t){f(t,e,!1)}function a(e,t){return f(e,t,!1)}function f(e,t,n){t[0].isNotFirstFocus=!0;var i=e.validator;if(!_.iurn p(t),n&&h(t,e.tip,e),!0;var s=r(t,i),o=s.isValid;return o?l(t,e,n):c(t,e,s,n),o}function l(e,t,n){p(e);var r=t.validCallback,i;_.isFunction(r)&&(i=r());if(n){var s=i||t.tip;h(e,s,t)}}function c(t,r,i,s){p(t);var o=r.invalidCallback,u;_.isFunction(o)&&(u=o(i));if(s){var a=u||i.errMsg;a&&(_.isString(a)&&(a='<span class="ti-validate-icon ti-icon ti-icon-exclamation-circle"></span><span class="ti-validate-text">'+a+"</span>"),h(t,a,r)),n.focusCleanup||e.handleErrorClass(t,"add")}else e.handleErrorClass(t,"add")}function h(e,r,i){if(!r)return;e[0].tiTooltip||(e[0].tiTooltip=t.createTip(e,{position:i.position||n.position,triggerEvent:"none",content:"",maxWidth:i.tipMaxWidth||n.tipMaxWidth})),e[0].tiTooltip.show({content:r})}function p(t){t[0].tiTooltip&&t[0].tiTooltip.hide(),e.handleErrorClass(t,"remove")}var n=e.defaults,r=e.getValidInfo;return{configAui1Validation:i}}}),define("components/unifyValid/unifyValid",["components/module","components/unifyValid/pwdValidFactory","components/unifyValid/aui1Factory","components/tip/tip"],function(e,t,n){function s(e,t,n){function s(){var e={required:function(e){return e!==""},maxSize:function(e,t){var n=e.length;return e===""||n<=parseInt(t[0],10)},minSize:function(e,t){var n=e.length;return e===""||n>=parseInt(t[0],10)},rangeSize:function(e,t){var n=e.length;return e===""||n>=parseInt(t[0],10)&&n<=parseInt(t[1],10)},maxValue:function(e,n){return e===""||t.parseNumber(e)<=parseFloat(n[0])},minValue:function(e,n){return e===""||t.parseNumber(e)>=parseFloat(n[0])},rangeValue:function(e,n){return e===""||t.parseNumber(e)>=parseFloat(n[0])&&t.parseNumber(e)<=parseFloat(n[1])},regularCheck:function(e,t){if(e==="")return!0;var n=t[0];return typeof n=="string"&&(n=new RegExp("^(?:"+n+")$")),n.test(e)},contains:function(e,t){return e===""||e.indexOf(t[0])!==-1},notContains:function(e,t){return e===""||e.indexOf(t[0])===-1},equal:function(e,t){return e===""||e===t[0]},notEqual:function(e,t){return e===""||e!==t[0]},checkScriptInfo:function(e){var t=new RegExp("<+/?[Ss][Cc][Rr][Ii][Pp][Tt] *.*>*");return e===""||!t.test(e)},port:function(e){var n=t.parseNumWithDecimal(e,!0);return e===""||/^\d+$/.test(n)&&n>=0&&n<=65535},email:function(e){return e===""||/^((([A-Za-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([A-Za-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([A-Za-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([A-Za-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/.test(e)},date:function(e){return e===""||!/Invalid|NaN/.test((new Date(e)).toString())},url:function(e){return e===""||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},integer:function(e){var n=t.parseNumWithDecimal(e,!0);return e===""||/^-?\d+$/.test(n)},number:function(e){var n=t.parseNumber(e);return e===""||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(e){var n=t.parseNumWithDecimal(e,!0);return e===""||/^\d+$/.test(n)},ipv4:function(e){return e===""||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},ipv6:function(e){return e===""||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},phone:function(t,n){if(t===""||!window.intlTelInputUtils)return!0;if(window.intlTelInputUtils){var r=n[0]||"",i=_.isUndefined(n[1])?1:n[1],s=n[2],o={countryCode:r,value:t,expNumberType:i,isShowDetailError:s},u=e.checkPhoneNumber(o);return o.isValid=u,e.getPhoneValidResult(o)}},checkPhoneNumber:function(e){var t=intlTelInputUtils.isValidNumber(e.value,e.countryCode),n=intlTelInputUtils.getNumberType(e.value,e.countryCode),r=e.expNumberType===""||e.expNumberType===n;return t&&r},getPhoneValidResult:function(e){if(e.isValid)return!0;var t=!1;if(e.isShowDetailError!==!1){var r=intlTelInputUtils.getValidationError(e.value,e.countryCode);if(r===intlTelInputUtils.validationError.TOO_SHORT)return n.valid_phone_short_info;if(r===intlTelInputUtils.validationError.TOO_LONG)return n.valid_phone_long_info}return t},minCharType:function(e,t){if(e==="")return!0;var n=t[0],r=t[1],s=_.isObject(r)?r:i.pwdConfig.charTypeRegObj,o=0,a,f=e;_.forEach(s,function(t){a=t.test(e),a&&(o++,t.global?f=f.replace(t,""):f=f.replace(new RegExp(u(t),"g"),""))});if(f.length>0)return!1;var l=parseInt(n,10)||0;return o>=l},notEqualPosRev:function(e,t){if(e==="")return!0;var n=t[0],r=n;if(_.isObject(n)){var i=$(n.selector);i.length>0&&(r=_.isUndefined(i[0].tiValue)?i.val():i[0].tiValue)}return _.isString(r)?e.toLowerCase()!==r.split("").reverse().join("").toLowerCase()&&e.toLowerCase()!==r.toLowerCase():!0}},n=window.tiny.language,s=window.tiny.utils.formatEntry,o={required:n.valid_required_info,maxSize:s(n.valid_maxSize_info),minSize:s(n.valid_minSize_info),rangeSize:s(n.valid_rangeSize_info),maxValue:s(n.valid_maxValue_info),minValue:s(n.valid_minValue_info),rangeValue:s(n.valid_rangeValue_info),regularCheck:n.valid_regularCheck_info,contains:s(n.valid_contains_info),notContains:s(n.valid_notContains_info),checkScriptInfo:n.valid_checkScriptInfo_info,equal:s(n.valid_equal_info),notEqual:s(n.valid_notEqual_info),port:n.valid_port_info,email:n.valid_email_info,date:n.valid_date_info,url:n.valid_url_info,integer:n.valid_integer_info,number:n.valid_number_info,digits:n.valid_digits_info,ipv4:n.valid_ipv4_info,ipv6:n.valid_ipv6_info,phone:n.valid_phone_info},a={rangeSize:s(n.valid_rangeSize_msg),minCharType:s(n.valid_charTypeNum_msg),notEqualPosRev:n.valid_notEqualPosRev_msg};angular.extend(r.rulesFn,e),angular.extend(r.errorMsg,o),angular.extend(r.msg,a)}function o(e,t){var n=!0,r,i,s,o="",u=[];for(var a=0,f=t.length;a<f;a++)r=l(e,t[a]),i=r.isValid,s=r.msg,u.push({isValid:i,msg:s}),!i&&n===!0&&(n=!1,o=s);return{validInfo:u,errMsg:o,isValid:n}}function u(e){if(!_.isObject(e))return"";var t=""+e;return t.substring(1,t.length-1)}function a(e,t,n){var r=e.validator,i=angular.copy(r);if(!_.isArray(r)||r.length===0)return m(t),!0;var s=_.findLastIndex(r,{isAsync:!0});if(s!==-1){var u=r[s];i.splice(s,1)}var a=o(t,i),l=a.isValid;return l?s===-1?(p(t,e),l):n===!0?f(t,u,e):(f(t,u,e),"pending"):(d(t,e,a),l)}function f(e,t,r){var i=t.loadingMsg,s=t.errorMsg,o=t.rule,u=_.isUndefined(e[0].tiValue)?e.val():e[0].tiValue,a=o.call(e,u,t.param||[]),f=n.defer(),l=f.promise;return!_.isUndefined(a)&&_.isFunction(a.then)&&(c(e,i,r),a.then(function(t){var n={errMsg:s,isValid:t};t?p(e,r):d(e,r,n),f.resolve(t)},function(e){f.reject(e)})),l}function l(e,t){var n=n=t.param||[],r=t.rule,i=_.isString(r)?g(r):r;if(!_.isFunction(i))return{isValid:!0};var s=_.isUndefined(e[0].tiValue)?e.val():e[0].tiValue,o=i.call(e,s,n),u=!1,a="";return o===!0||o===""?u=!0:o===!1?a=t.errorMsg?t.errorMsg:h(r,n,t):a=o,{isValid:u,msg:a}}function c(e,t,n){m(e),t&&(_.isString(t)&&(t='<span class="ti-validate-icon ti-valid-loading"></span><span>'+t+"</span>"),v(e,t,n,!0))}function h(e,n,i){var s=_.isUndefined(i.formatErrorMsg)?!0:i.formatErrorMsg,o=r.errorMsg[e];if(_.isFunction(o)){var u=angular.copy(n);$.each(u,funct&&(u[e]=t.formatNumber(n))}),o=o.call(null,u)}return o}function p(e,t){m(e);var n=t.validCallback;_.isFunction(n)&&n()}function d(e,t,n){m(e);var r=t.invalidCallback,i;_.isFunction(r)&&(i=r(n));if(e.is(":focus"))return;var s=i||n.errMsg;s&&(_.isString(s)&&(s='<span class="ti-validate-icon ti-icon ti-icon-exclamation-circle"></span><span>'+s+"</span>"),v(e,s,t,!0)),b(e,"add")}function v(t,n,r,s){if(!n)return;if(s===!0){if(!t[0].$errorMsg){var o=$('<div class="ti-unifyvalid-tip"></div>'),u=t.closest("td.ti-form-content"),a=u.children(),f=a.length,l=u.length===0?t:$(a[f-1]),c=u.length===0?t.parent().offset().left:u.offset().left;o.css({"margin-left":t.offset().left-c}).hide();var h=$(r.errorMsgWrapper);h.length>0?o.appendTo($(h[0])):o.insertAfter(l),t[0].$errorMsg=o}t[0].$errorMsg.html(n).show();return}t[0].tiTooltip||(t[0].tiTooltip=e.createTip(t,{position:r.position||i.position,triggerEvent:"none",content:"",maxWidth:r.tipMaxWidth||i.tipMaxWidth})),t[0].tiTooltip.show({content:n})}function m(e){e[0].tiTooltip&&e[0].tiTooltip.hide(),e[0].$errorMsg&&e[0].$errorMsg.hide(),b(e,"remove")}function g(e){return r.rulesFn[e]}function y(e,t){var n=r.msg[e];return _.isFunction(n)&&(n=n.call(null,t)),n}function b(e,t){if(!e||e.length<1)return;var n,r=e.find("[ti-validation-node]");r.length>0?n=r:n=e,t==="add"?(n.addClass("ti-validate-error"),e.siblings(".ti-textarea-resize-icon")&&e.siblings(".ti-textarea-resize-icon").addClass("ti-textarea-resize-icon-err")):(n.removeClass("ti-validate-error"),e.siblings(".ti-textarea-resize-icon")&&e.siblings(".ti-textarea-resize-icon").removeClass("ti-textarea-resize-icon-err"))}return s(),{clearSingleInvalid:m,checkValidation:a,getRuleFn:g,getRuleMsg:y,addTip:v,defaults:i,getValidInfo:o,validFunc:p,invalidFunc:d,handleErrorClasefaults=function(e){angular.extend(i,e)},this.addRules=function(e){var t,n;for(var i=0,s=e.length;i<s;i++)t=e[i],n=t.ruleKey,r.rulesFn[n]=t.ruleFn,r.errorMsg[n]=t.errorMsg},this.$get=["$tinyValidCommon","$q",function(e,t){function n(t){var n=r(t);for(var i=0,s=n.length;i<s;i++)e.clearSingleInvalid($(n[i]))}function r(e){var t=$(e);return t.length===0?[]:t.filter("[ti-validation]").add(t.find("[ti-validation]"))}function s(n,s){var u=r(n),a=i.ignore,f=i.focusFirstInvalid,l;_.isObject(s)&&(a=_.isUndefined(s.ignore)?a:s.ignore,f=_.isUndefined(s.focusFirstInvalid)?f:s.focusFirstInvalid,l=s.isAsync);var c,h=!0,p=!0,d=[];for(var v=0,m=u.length;v<m;v++){c=angular.element(u[v]);if(c.is(a)||c[0].tiDisable)continue;var g=c.scope().$eval(c.attr("ti-validation"));_.isFunction(g.checkEle)?h=g.checkEle(g,c):h=e.checkValidation(g,c,l);if(l!==!0&&h==="pending"){p=h;continue}!h&&p===!0&&l!==!0&&(p=!1,f&&o(c));if(l===!0)if(h&&_.isFunction(h.then))d.push(h);else{var y=t.defer(),b=y.promise;d.push(b),y.resolve(h)}}if(l===!0&&d.length>0){var w=t.all(d);return w.then(function(e){if(!f)return1});if(tlar.element(u[t]);o(n,l)},function(e){}),w}return p}function o(e,t){var n=u(e);if(n===null)return isValid;window.tiny.utils.browser.ie||t===!0?n.focus():n.focus().blur().focus();var r=!0,i=n.parents();if(i&&i.length){var s=_.findIndex(i,function(e){return $(e).css("position")&&$(e).css("position")==="fixed"});s!==-1&&(r=!1)}if(r){var o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=Math.abs(o-n.outerHeight())/2;if(a<n.offset().top){var f=Math.abs(a-n.offset().top);window.scrollTo(0,f)}else window.scrollTo(0,0)}}function u(e){if(!(e&&e.length>0))return null;var t=e.filter(":input,[tabindex]").add(e.find(":input,[tabindex]")).not("[tabindex='-1']");return t.length>0?$(t[0]):null}return{clearInValid:n,getRuleFn:e.getRuleFn,check:s}}]}function u(e,t,n){var r={restrict:"A",link:function(r,s,o){function u(e){var r=i.isAui2?"blurCheck":"instantCheck",s=e.type;if(s==="blurCheck"||s==="instantCheck")r=s;_.isObject(e.pwdConfig)&&(t.configPwdValidation(e),r="blurCheck"),r!=="blurCheck"&&n.configAui1Validation(e)}function a(){return r.$eval(o.tiValidation)}r.$watch(function(){return a()},function(e){if(_.isUndefined(e))return;u(e)}),r.$watch(function(){return r.$eval(o.disable)||s.attr("disabled")||r.$eval(o.ngDisabled)},function(t){t?(s[0].tiDisable=!0,e.clearSingleInvalid(s)):s[0].tiDisable=!1}),s.on("tiFocus",function(){var t=a();if(_.isUndefined(t))return;if(_.isFunction(t.focusHandle)){t.focusHandle(s,t);return}e.clearSingleInvalid(s),e.addTip(s,t.tip,t,!1)}),s.on("contentChange",function(){var e=a();if(_.isUndefined(e))return;_.isFunction(e.contentChangeHandle)&&e.contentChangeHandle(s,e)}),s.on("tiBlur",function(){var t=a();if(_.isUndefined(t))return;if(_.isFunction(t.blurHandle)){t.blurHandle(s,t);return}e.clearSingleInvalid(s),e.checkValidation(t,s)})}};return r}var r={rulesFn:{},errorMsg:{},msg:{}},i={position:"right",tipMaxWidth:"276px",ignore:":hidden",focusFirstInvalid:!0,focusCleanup:!0,isAui2:!1,pwdConfig:{charTypeRegObj:{specialCharReg:/[~`!\?,.:;\-_'"\(\)\{\}\[\]\/<>@#\$%\^&\*\+\|\\=\s]/,lowerCharReg:/[a-z]+/,upperCharReg:/[A-Z]+/,digitsCharReg:/[0-9]+/},validator:[{rule:"required"},{rule:"rangeSize",param:[6,32]},{rule:"minCharType",param:[2]},{rule:"notEqualPosRev"}]}};e.factory("$tinyPwdValid",["$tinyValidCommon","tiTipService","$compile",t]),e.factory("$tinyAui1Valid",["$tinyValidCommon","tiTipService",n]),e.factory("$tinyValidCommon",["tiTipService","tiService","$q",s]),e.provider("tiValid",o),e.directive("tiValidation",["$tinyValidCommon","$tinyPwdValid","$tinyAui1Valid",u])}),define("components/switch/switch",["components/module","components/common/utils/keymap"],function(e,t){"use strict";function n(e,t){function n(t,n,r){t.onLabel=_.isUndefined(t.onLabel)?e.onLabel:t.onLabel,t.offLabel=_.isUndefined(t.offLabel)?e.offLabel:t.offLabel;var i=n.outerHeight();if(i&&e.height!==i){var s=i-e.borderWidth*2+"px";n.find(".ti-switch-knob").css({"line-height":s}),n.find(".ti-switch-left").css({"line-height":s}),n.find(".ti-switch-right").css({"line-height":s})}!r.id&&_.isString(t.elementId)&&t.elementId!==""&&n.attr("id",t.elementId),t.toggleSwitch=function(){if(t.disable)return;var e=window.tiny.utils,n="beforeChange";if(e.isCallbackDefined(t,r,n)){var i=undefined;e.isEventType(r,n)?i=t[n]():_.isFunction(t[n]())&&(i=t[n]()());if(i===!1)return}t.state=!t.state}}return{restrict:"E",replace:!0,scope:{state:"=?",disable:"=?",onLabel:"=?",offLabel:"=?",elementId:"=?",beforeChange:"&"},templateUrl:"/tiny-components/src/components/switch/switch.html",link:n}}return e.constant("tiSwitchConfig",{offLabel:"OFF",onLabel:"ON",knobLabel:"",height:20,borderWidth:1}),e.directive("tiSwitch",n),n.$inject=["tiSwitchConfig","$timeout"],e.name}),define("components/progressbar/progressbar",["components/module"],function(e){"use strict";function t(e){function t(e,t){n(e,t),r(e)}function n(t,n){i(t,n),t.maxValue=o(t.maxValue,e.max),t.value=o(t.value,e.value),u(t)}function r(e){e.$watch("value",function(t,n){var r=o(t,n);if(r===n)return;e.value=r,u(e)}),e.$watch("maxValue",function(t,n){var r=o(t,n);if(r===n)return;e.maxValue=r,u(e)})}function i(e,t){var n=t.children(".ti-progress-bar");e.animate=s(e),e.animate||n.addClass("no-transition")}function s(t){return angular.isDefined(t.animate)?t.animate:e.animate}function o(e,t){var n=+e;return _.isNaN(n)?t:n}function u(e){if(e.maxValue===0){e.percent=0;return}e.percent=+(100*e.value/e.maxValue).toFixed(2),e.percent>100&&(e.percent=100),e.percent<0&&(e.percent=0)}return{restrict:"E",replace:!0,transclude:!0,scope:{value:"=?",maxValue:"=?",progressClass:"=?",animate:"=?"},templateUrl:"/tiny-rogressbar/progressbar.html",link:t}}return e.constant("tiProgressConfig",{animate:!0,max:100,value:0}),e.directive("tiProgressbar",t),t.$inject=["tiProgressConfigrd/wizard",["components/module"],function(e){"use strict";function t(e){function t(e,t,n){i(e,t,n),s(e,t,n)}function n(e,t){var n=0,r=e.find(".ti-wizard-explain");for(var i=0;i<r.length;i++)n+=r[i].offsetWidth;var s=e.find(".ti-wizard");if(s&&s.length>0){var o=Math.floor((s[0].offsetWidth-n)/(t-1))-1;return o>20?o:20}}function r(e,t){var r=e.length,i=n(t,r);angular.element(".ti-wizard-line:not(:first)",t).css("width",i),angular.element(".ti-wizard",t).css({opacity:"1"})}function i(e,t,n){e.labelRequired="("+window.tiny.language.wizard_required_msg+") ",e.stepsArr=[],angular.isArray(e.steps)&&(e.stepsArr=angular.copy(e.steps),o(e));var r=e.textMaxWidth;_.isUndefined(r)||r<150?e.tx":e.textMaxWidth=r+"px",n.click&&angular.isFunction(e.click())||n.beforeClick&&angular.isFunction(e.beforeClick())?e.isCursorPointer=!0:e.isCursorPointer=!1r(t.steps,n)}t.$on("ngShowDone",function(e,i){i&&r(t.steps,n)}),t.$on("ngHideDone",function(e,i){i||r(t.steps,n)}),t.$watch(function(){return n.length<1&&retrun,n.outerWidth()},function(e,i){e!==i&&r(t.steps,n)}),t.$watch("steps",function(i){if(!angular.isArray(i))return;e(function(){r(t.steps,n)},0),t.stepsArr=i,o(t)},!0),t.$watch("currentStep",function(){o(t)}),$(window).on("resize",s),t.$on("$destroy",function(){$(window).off("resize",s)}),t.clickFn=function(e,n){var r=t.stepsArr[n],s={};if(i.beforeClick&&angular.isFunction(t.beforeClick())){t.beforeClickFn(r,e);return}var o="click";if(!s.hasOwnProperty.call(i,o)||!i[o])return;if(!angular.isFunction(t.click())||!_.isUndefined(r.disabled)&&r.disabled===!0)return;if(t.currentStep===r.id)return;var u;for(var a=0;a<t.steps.length;a++)r.id===t.steps[a].id&&(u=t.steps[a]);var f=t.click()(u,e);!_.isUndefined(f)&&_.isFunction(f.then)?f.then(function(){t.currentStep=r.id,t.$evalAsync()}):t.currentStep=r.id},t.beforeClickFn=function(e,n){if(!_.isUndefined(e.disabled)&&e.disabled===!0)return;if(t.currentStep===e.id)return;var r=_.find(t.steps,function(t){return e.id===t.id});t.beforeClick()(r,n)}}function o(e){var t=0;for(var n=0;n<e.stepsArr.length;n++)if(e.stepsArr[n].id===e.currentStep){t=n;break}for(var r=0;r<t;r++)if(e.stepsArr[r].require===!0&&!e.stepsArr[r].isComplete){t=r;break}for(var i=0;i<e.stepsArr.length;i++)i===e.stepsArr.length-1&&e.stepsArr[i].isComplete&&t===i&&!e.stepsArr[i].disabled?e.stepsArr[i].isComplete=!0:e.stepsArr[i].isComplete=i<t?!0:!1;e.currentStep=e.stepsArr[t].id}return{replace:!0,restrict:"E",scope:{steps:"=?",textMaxWidth:"=?",currentStep:"=?",beforeClick:"&?",click:"&?"},templateUrl:"/tiny-components/src/components/wizard/wizard.html",link:t}}return e.directive("tiWizard",t),t.$inject=["$timeout"],e.name}),define("components/ip/ip",["components/module","components/common/utils/keymap","components/common/utils/utils"],function(e,t,n){function i(e){var i={restrict:"E",scope:{version:"=?",value:"=?",disable:"=?",focused:"=?",elementId:"=?",change:"&",blur:"&"},templateUrl:"/tiny-components/src/components/ip/ip.html",replace:!0,link:function(i,c){i.version+""=="6"?i.version=6:i.version=4,i.$element=c,i.hasFocus=!1,i.isOtherInput=!1,i.ipsValues=[].concat(r.getGlbInfo(i.version).ipValueArray),i.$watch("value",function(e){if(e===s(i.version,i.ipsValues))return;if(e===""){i.ipsValues=[].concat(r.getGlbInfo(i.version).ipValueArray),i.$element[0].tiValue="";return}l(i.version,i.value)||u(i.version,e)?(i.value=d(i.version,e),i.ipsValues=o(i.version,i.value)):i.value="",i.$element[0].tiValue=i.value}),i.$watch("focused",function(t){if(i.disable)return;t===!0&&i.hasFocus===!1&&e(function(){var e=v(i);$(e[0]).focus(),i.hasFocus=!0},0)}),i.keyDown=function(e,t){var n=v(i),r=e.which||e.code;m(e,$(n[t]),i.version)},i.focusFn=function(){if(i.hasFocus){i.isOtherInput=!0;return}i.hasFocus=!0,i.$element.trigger("tiFocus")},i.blurFn=function(t){i.isOtherInput=!1;var n=t.currentTarget;e(function(){if(!i.isOtherInput){i.hasFocus=!1;var e=f($(n),i);if(e==="")T(e,i);else{var t=p(i.version,e);T(d(i.version,t),i)}i.$element.trigger("tiBlur"),_.isFunction(i.blur())&&i.blur()(i.value)}else i.isOtherInput=!1},10)},i.paste=function(e){var t="";if(window.clipboardData&&window.clipboardData.getData)t=window.clipboardData.getData("Text");else try{t=e.originalEvent.clipboardData.getData("Text")}catch(n){}var r=a(i.version,t);l(i.version,r)&&(T(r,i),e.preventDefault())},c.on("input",".ti_input_ip_anchor",function(e){var t=f($(this),i);T(t,i),_.isFunction(i.change())&&i.change()(e,i.value),i.$evalAsync()}),n.browser.ie&&n.browser.version<10&&(c),u}function l(e,t){return t==null||t===""?!1:e===4?c(t):h(t)}function c(e){var t=/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i;return t.test(e)}function h(e){var t=/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i;return t.test(e&&(i[s]/=1,i[s]+="");return i.join(n.separator)}function v(e){var t;return e.versionctet",e.$element):e.version===6&&(t=$(".ti_input_ip_octet_v6",e.$element)),t}function m(e,n,r){var i=n.next().next("input.ti_input_ip_anchor"),s=n.prev().prev("input.ti_input_ip_anchor"),o=e.which||e.code;if(o===t.KEY_NUMPAD_DECIMAL||o===190){i.length&&(i.focus(),i.select()),e.preventDefault();return}g(e,n,i,r)&&(i.focus(),E(i,0)),y(o,n,s.length)&&(E(s,s.val().length),e.preventDefault())}function g(e,n,r,i){if(r.length<=0)return!1;var s;i!==6?s=b(n,e):s=w(n,e);var o=e.which||e.code,u=o===t.KEY_ARROW_RIGHT&&E(n)[0]===n.val().length;return s||u}function y(e,n,r){return r&&(e===t.KEY_ARROW_LEFT&&E(n)[0]===0||e===t.KEY_BACKSPACE&&E(n)[0]===0&&E(n)[0]===E(n)[1])}function b(e,t){return e.val().length===3&&S(t)&&E(e)[0]===3}function w(e,t){return e.val().length===4&&x(t)&&E(e)[0]===4}function E(e,t,n){var r=e[0],i=function(e,t,n){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,n);else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r.select()}};if(t!,t,n)});if(t!=null)return e.each(function(){i(this,t,t)});if(r.createTextRange&&document.selection){var s=document.selection.createRange().duplicate(),o=r.value.lastIndexOf(s.text)+s.text.length;s.moveEnd("character",r.value.length);var u=s.text==""?r.value.length:r.value.lastIndexOf(s.text);return[u,o]}return[r.selectionStart,r.selectionEnd]}function S(e){return e.shiftKey||e.ctrlKey?!1:e.keyCode>=t.KEY_0&&e.keyCode<=t.KEY_9||e.keyCode>=t.KEY_NUMPAD_0&&e.keyCode<=t.KEY_NUMPAD_9}function x(e){var n=e.keyCode;if(e.ctrlKey)return!1;var r=e.shiftKey&&n>=t.KEY_A&&n<=t.KEY_F||!e.shiftKey&&(n>=t.KEY_0&&n<=t.KEY_9||n>=t.KEY_NUMPAD_0&&n<=t.KEY_NUMPAD_9||n>=t.KEY_A&&n<=t.KEY_F);return r?!0:!1}function T(e,t){if(e===t.value)return;t.value=e,t.$element[0].tiValue=e,t.$element.trigger("contentChange")}var r={ipv4:{ipvCheckReg:/[\D]/g,rgxcase:new RegExp("[0-9]","g"),label:"...",place:" ",separator:".",ipValueArray:["","","",""]},ipv6:{ipvCheckReg:/[^a-f\d]/ig,rgxcase:new RegExp("[A-F0-9]","gi"),label:":::::::",place:" ",separator:":",ipValueArray:["","","","","","","",""]},getGlbInfo:function(e){return e===4?this.ipv4:this.ipv6}};e.directive("tiIp",i),i.$inject=["$timeout"]}),define("components/spinner/spinner",["components/module"],function(e){"use strict";function t(){var e=this.defaultValue={max:Math.pow(2,53),min:-Math.pow(2,53),step:1,value:""};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){var e={defaultValue:this.defaultValue};return e}}function n(e,t){function r(t,n){t.placeholderText=_.isUndefined(t.placeholderText)?"":t.placeholderText,t.enableLocale=t.enableLocale!==!1?!0:t.enableLocale,t.$element=n,t.hasFocus=!1,t.enableCorrect=t.enableCorrect!==!1?!0:!1,t.maxlength=_.isUndefined(t.maxlength)?20:t.maxlength,_.isString(t.elementId)&&t.elementId!==""?(t.subElemId=t.elementId+"_sub",t.addElemId=t.elementId+"_add",t.inputElemId=t.elementId+"_input"):(t.subElemId="",t.addElemId="",t.inputElemId=""),l(t)?t.precision=undefined:t.precision=parseInt(t.format.slice(1),10),t.step=parseFloat(t.step),isNaN(t.step)&&(t.step=e.defaultValue.step),t.max=parseFloat(t.max),isNaN(t.max)&&(t.max=e.defaultValue.max),t.min=parseFloat(t.min),isNaN(t.min)&&(t.min=e.defaultValue.min),t.max<t.min&&(t.max=e.defaultValue.max,t.min=e.defaultValue.min),i(t);if(t.focused===!0){var r=n.find(".ti-spinner-input");r.focus()}else t.focused=!1}function i(t){t.value=parseFloat(t.value),isNaN(t.value)&&(t.value=e.defaultValue.value),t.enableCorrect&&t.value!==""&&(t.value<t.min?t.value=t.min:t.value>t.max&&(t.value=t.max)),s(t)}function s(e){e.enableLocale?c(e):e.inputValue=e.value===""?"":t.parseNumber(e.value).toFixed(e.precision),e.$element[0].tiValue=e.inputValue}function o(e,n){e.$watch("max",function(t,n){if(t===n)return;e.max=parseFloat(t);if(isNaN(e.max)||e.min>e.max)e.max=n;i(e)}),e.$watch("placeholderText",function(e){var t=window.tiny.utils,r=n.find(".ti-spinner-input")[0];t.placeholder.setPlaceholder(r,e)}),e.$watch("min",function(t,n){if(t===n)return;e.min=parseFloat(t);if(isNaN(e.min)||e.min>e.max)e.min=n;i(e)}),e.$watch("disable",function(t,n){if(t===n)return;typeof e.disable!="boolean"&&(e.disable=n)}),e.$watch("focused",function(t,n){if(t===n)return;var r=e.$element.find(".ti-spinner-input");e.focused===!0?r.focus():e.focused===!1&&r.blur()}),e.$watch("value",function(n,r){if(n===r||e.value===d(e))return;e.value=parseFloat(n),isNaN(e.value)?e.value=d(e):e.enableCorrect&&(e.value<e.min||e.value>e.max)&&(e.value=d(e)),e.enableLocale?c(e):e.inputValue=t.parseNumber(e.value).toFixed(e.precision),e.$element[0].tiValue=e.inputValue})}function u(e,t,n){function r(t){if(e.focused===!1)return;var t=t||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1;var n=t.originalEvent.wheelDelta/120||-t.originalEvent.detail/3,r=n>0?"add":"sub";e.$apply(function(){e.stepNumber(t,r)})}e.keyDown=function(t){if(!m(t,e.precision)){t.preventDefault();return}t.keyCode===38?e.stepNumber(t,"add"):t.keyCode===40&&e.stepNumber(t,"sub")},e.keypress=function(n){function i(e,t){var n=[8,9,13,27,37,39,46,38,40],r=String.fromCharCode(t).toString();return!e.ctrlKey||r!=="a"&&r!=="c"&&r!=="v"&&r!=="x"?_.contains(n,t)?!0:!1:!0}var r=n.which||n.keyCode;if(window.tiny.utils.browser.firefox&&i(n,r))return;p(e,t,String.fromCharCode(r))||n.preventDefault()},e.focus=function(t){if(e.hasFocus===!0)return;e.hasFocus=!0,e.focused=!0,e.$element.trigger("tiFocus",[t,e.value])},e.blurFn=function(t){if(e.hasFocus===!1)return;e.hasFocus=!1,e.focused=!1,i(e),f(e,n,t),e.$element.trigger("tiBlur",[t,e.value])},e.inputChange=function(t){h(e,e.inputValue)?(e.value=d(e),e.$element[0].tiValue=e.inputValue,e.$element.trigger("contentChange"),a(e,n,t)):e.inputValue=e.$element[0].tiValue},$(document).on("DOMMouseScroll mousewheel",r),e.stepNumber=function(t,r){if(!(!t.button||t.button!==1&&t.button!==2))return;if(e.disable===!0)return;if(t.type==="mousedown"){var i=e.$element.find(".ti-spinner-input");i.focus(),t.preventDefault()}if(e.value===""){e.value=e.min,e.$element[0].tiValue=e.value,e.$element.trigger("contentChange"),a(e,n,t);return}var o=e.value;if(y(o))return;e.value=v(o,e.step,r),e.value>e.max?e.value=e.max:e.value<e.min&&(e.value=e.min),s(e),o!==e.value&&(e.$element.trigger("contentChange"),a(e,n,t))},t.on("$destroy",function(){$(document).off("DOMMouseScroll mousewheel",r),e.$destroy()})}function a(e,t,n){var r={evtName:"change",attrs:t,scope:e,isDelay:!0,params:{event:n,value:e.value}};window.tiny.utils.applyCallback(r)}function f(e,t,n){var r={evtName:"blur",attrs:t,scope:e,isDelay:!1,params:{event:n,value:e.value}};window.tiny.utils.applyCallback(r)}function l(e){return typeof e.format!="string"||e.format.charAt(0).toUpperCase()!=="N"||isNaN(parseInt(e.format.slice(1),10))?!0:!1}function c(e){e.inputValue=t.formatNumber(e.value,e.precision)}function h(e,n){if(n===""||n===","||n===".")return!0;var r=-1;while((r=n.indexOf(",",r+1))!==-1)n=n.replace(",","");var i=t.parseNumber(n);return e.min>=0?!isNaN(i)&&i>=0:n==="-"||!isNaN(i)}function p(e,t,n){function i(){var r=t.find("input")[0],i=r.selectionStart,s=r.selectionEnd,o=e.inputValue.split("");return o.splice(i,s-i,n),o.join("")}if(n==="")return!0;var r=i();return h(e,r)}function d(e){var n=-1,r;r=e.inputValue;while((n=e.inputValue.indexOf(",",n+1))!==-1)r=e.inputValue.replace(",","");var i=t.parseNumber(r);return isNaN(i)?"":i.toFixed(e.precision)}function v(e,t,n){var r,i,s,o,u,a;try{r=e.toString().split(".")[1].length}catch(f){r=0}try{i=t.toString()abs(r-i),s=Math.pow(10,Math.max(r,i));if(o>0){var l=Math.pow(10,o);r>i?(u=Number(e.toString().replace(".","")),a=Number(t.toString().replace(".",""))*l):(u=Number(e.toString().replace(".",""))*l,a=Number(t.toString().replace(".","")))}else u=Number(e.toString().replace(".","")),a=Number(t.toString().replace(".",""));return n==="add"?(u+a)/s:n==="sub"?(u-a)/s:undefined}function m(e,t){var n=[8,9,13,27,35,36,37,39,46,38,40,48,96,49,97,50,98,51,99,52,100,53,101,54,102,55,103,56,104,57,105,173,189,109];g(n,t);var r=e.keyCode;return!e.ctrlKey||r!==67&&r!==86&&r!==65&&r!==88?_.contains(n,r)?!0:!1:!0}function g(e,n){var r=t.formatsInfo();r==="."?(e.push(188),n!==0&&e.push(110,190)):r===","&&(e.push(110,190),n!==0&&e.push(188))}function y(e){return isNaN(e)||e===""||e==="-"?!0:!1}var n={restrict:"E",priority:599,scope:{format:"=?",step:"=?",max:"=?",min:"=?",disable:"=?",value:"=?",focused:"=?",enableLocale:"=?",placeholderText:"=?",elementId:"=?",enableCorrect:"=?",maxlength:"=?",change:"&",blur:"&"},templateUrl:"/tiny-components/src/components/spinner/spinner.html",replace:!0,link:function(e,t,n){r(e,t,n),o(e,t),u(e,t,n)}};return n}e.provider("tiSpinnerService",t),e.directive("tiSpinner",n),n.$inject=["tiSpinnerService","tiService"]}),define("components/actionMenu/actionMenu",["components/module","components/common/utils/keymap","components/menu/menu","components/tip/tip"],function(e,t){"use strict";function r(){var e=this.defaultValue={maxWidth:250,space:15,panelMaxWidth:130,tipPosition:"bottom-right"};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){return{defaultValue:this.defaultValue}}}function i(e,r){function s(n,r){function w(e){var t=parseInt(n.maxVisibleNum,10);return isNaN(t)?e.length:Math.min(t,e.length)}var i=n.items||[];if(i.length<1)return;_.isString(n.elementId)&&n.elementId!==""?(r.attr("id",n.elementId),n.menuId=n.elementId+"_menu"):(n.elementId="",n.menuId=""),_.isFunction(n.itemsProcess())&&(i=angular.copy(i),i=n.itemsProcess()(i,n.actionParam));var s=parseInt(n.space,10),a=isNaN(s)?e.defaultValue.space:s,f=w(i),l=parseInt(n.maxWidth,10),c=e.defaultValue.maxWidth,p=isNaN(l)?c:l,g=tiny.language,y=n.moreText||g.more_title,b={};v(i,p,f)?b=m(i,a,n):(b=u(i,y,a,p,f,n),o(i,f,p,b)),b.itemsDomArray.length===0&&(y=n.menuText||g.actionmenu_operate_title),h(r,y,b,n),r.on("click",".ti-action-menu-item",function(){d(i,$(this),n.actionParam)}),r.on("keydown",".ti-action-menu-item",function(e){var r=e.keyCode;(r===t.KEY_ENTER||r===t.KEY_NUMPAD_ENTER)&&d(i,$(this),n.actionParam)}),_.isFunction(n.itemsProcess())&&n.$watch("actionParam",function(e,t){if(e===t)return;i=n.itemsProcess()(i,n.actionParam),f=w(i),$(".ti-action-menu-item",r).remove();var s={};v(i,p,f)?s=m(i,a,n):(s=u(i,y,a,p,f,n),o(i,f,p,s)),s.itemsDomArray.length===0&&(y=n.menuText||g.actionmenu_operate_title),h(r,y,s,n)},!0)}function o(e,t,r,i){n.items=e,n.maxVisibleNum=t,n.maxWidth=r,n.itemsDomArrayLength=i.itemsDomArray.length}function u(e,t,n,r,i,s){var o=a(e,n,r,i,s);return o.maxVisibleNum===e.length||o.calcuOver===!0?{moreItemsArray:[],itemsDomArray:o.itemsDomArray}:f(e,t,r,n,o)}function a(e,t,n,r,i){var s='<a class = "ti-action-menu-item"  href="javascript:void(0)" style = "margin-right : '+t+'px;"></a>',o=[],u=[];if(e.length===1){var a=$(s).html(e[0].title);return c(i,a,e[0],0),{maxVisibleNum:1,itemsDomArray:[a]}}var f=0,h=0,p,d,v,m=r;for(var g=0;g<r;g++){d=e[g];if(d.childrens){m=g;break}var p=$(s).html(d.title);h=l(p),v=g===0?0:t;if(f+v+h>n){m=g;break}c(i,p,d,g),f+=v+h,o.push(p),u.push(h)}if(m===e.length-1){var p=$(s).html(e[e.length-1].title);h=l(p);if(f+v+h<=n){c(i,p,d,e.length-1),f+=v+h,o.push(p),u.push(h);var y=!0}}return{maxVisibleNum:m,itemsDomArray:o,itemsDomWidthArray:u,acculateWidth:f,calcuOver:y}}function f(e,t,n,r,i){var s=$('<span class="ti-menu-toggle-menu">'+t+"</span>"),o=l(s),u=i.maxVisibleNum,a=e.slice(u),f=i.itemsDomArray,c=i.acculateWidth;c+=r+o;if(c>n&&u!==0){var h=i.itemsDomWidthArray,p;for(var d=1;d<=u;d++){p=u-d,c=c-h[p]-r,a.unshift(e[p]),f.pop();if(c<=n)break}}return{moreItemsArray:a,itemsDomArray:f}}function l(e){var t=$(e[0].cloneNode(!0));$("body").append(t);var n=t.width();return t.remove(),n}function c(t,n,i,s){n.attr("actionMenuIndex",s),i.disable&&(n.attr("disable",i.disablsString(i.id)&&i.id!==""&&n.attr("id",t.elementId+"_"+i.id);if(!_.isUndefined(i.tip)){var o=i.tipPosition||e.defaultValue.tipPosition;r.createTip(n,{content:i.tip,position:o})}}function h(e,t,n,r){var i=n.itemsDomArray;e.prepend(i);if(n.moreItemsArray.length===0){i.length>0&&i[i.length-1].css("margin-right",0),r.hasMenu=!1;return}r.hasMenu=!0,p(n.moreItemsArray,t,r)}function p(t,n,r){r.menu={toogleName:n,items:t,panelAlign:"right",panelOffset:10,menuId:r.menuId,panelMaxWidth:r.panelMaxWidth||e.defaultValue.panelMaxWidth}}function d(e,t,n){var r=parseInt(t.attr("actionMenuIndex"),0),i=e[r];typeof i.click=="function"&&!i.disable&&i.click(i,n)}function v(e,t,r){if(t!==n.maxWidth||r!==n.maxVisibleNum||e.length!==n.items.length)return!1;for(var i=0;i<e.length;i++)if(!e[i]||!n.items[i]||e[i].title!==n.items[i].title)return!1;return!0}function m(e,t,r){var i=[],s=[],o,u,a='<a class = "ti-action-menu-item" href="javascript:void(0)" style = "margin-right : '+t+'px;"></a>';for(var f=0;f<n.itemsDomArrayLength;f++)o=e[f],u=$(a).html(o.title),c(r,u,o,f),s.push(u);return i=_.filter(e,function(e,t){return t>=n.itemsDomArrayLength}),{moreItemsArray:i,itemsDomArray:s}}var i={restrict:"E",templateUrl:"/tiny-components/src/components/actionMenu/actionMenu.html",replace:!0,scope:{maxWidth:"=",spaceactionParam:"=",moreText:"=",menuText:"=",panelMaxWidth:"=",elementId:"=?",itemsProcess:"&"},link:s};return i}var n={};return e.provider("actionMenuService",r),e.directive("tiActionMenu",i),i.$inject=["actionMenuService","tiTipService"],e.name}),define("components/leftmenu/leftmenu",["components/module","components/common/utils/keymap"],function(e,t){"use strict";function n(e){function t(e){this.scope=e}function s(t,n,s){t.isCollapsed=_.isUndefined(t.isCollapsed)?!0:!!t.isCollapsed,t.enableToggle=_.isUndefined(t.enableToggle)?!0:!!t.enableToggle,t.enableUiRouter=r(t),t.enableUiRouter&&t.activeId!==""&&e.go(t.activeId+"",i(t.items,t.activeId)),t.elementId=_.isString(t.elementId)?t.elementId:"",!s.id&&t.elementId!==""&&n.attr("id",t.elementId),t.elementId!==""?t.toggleElemId=t.elementId+"_toggle":t.toggleElemId="",t.toggleClickFn=function(){t.isCollapsed=!t.isCollapsed,_.isFunction(t.toggleClick())&&t.toggleClick()(t.isCollapsed)},t.$watch("activeId",function(n,r){if(n===r)return;t.enableUiRouter&&e.go(t.activeId+"",i(t.items,t.activeId))}),t.enableUiRouter&&t.$on("$stateChangeSuccess",function(e,n){t.activeId=n.name})}t.$inject=["$scope"];pe:{activeId:"=?",toggleClick:"&",isCollapsed:"=?",enableToggle:"=?",items:"=?",enableUiRouter:"=?",elementId:"=?"},templateUrl:"/tiny-components/src/components/leftmenu/leftmenu.html",replace:!0,controller:t,transclude:!0,link:s};return n}function r(e){return _.isUndefined(e.enableUiRouter)?!0:!!e.enableUiRouter}function i(e,t){if(!_.isArray(e))return undefined;var n;for(var r=0;r<e.length;r++){if(e[r].id===t)return e[r];n=i(e[r].children,t);if(_.isObject(n))return n}return undefined}function s(e,t,n){if(e.includes(t))return!0;if(_.isArray(n))for(var r=0;r<n.length;r++)if(_.isString(n[r])&&e.includes(n[r]))return!0;return!1}function o(){var e={restrict:"E",templateUrl:"/tiny-components/src/components/leftmenu/leftmenuHead.html",replace:!0,transclude:!0};return e}function u(e){function o(n,o,u,a){function f(){h(),p();var e=$("ti-leftmenu-item",o),t=$("<div class='ti-leftmenu-level1-tmenu-level1-item",o).append(e),a.scope.firstmenus||(a.scope.firstmenus=[]),a.scope.firstmenus.push(n),a.scope.enableUiRouter&&n.$on("$stateChangeSuccess",function(e,t){h(),p()}),n.reg=/\./g}function l(){n.clickFn=function(){var t=a.scope.activeId,r=a.scope.firstmenus;for(var s in r)r[s]===n?d()?(n.showChildren=!n.showChildren,p(),n.showChildren&&(a.scope.activeId=n.item.children[0].id,$(".ti-leftmenu-level1-item",o)[0].blur(),setTimeout(function(){$(".ti-leftmenu-level2",o)[0].focus()},0))):a.scope.activeId=n.item.id:r[s].showChildren=!1;if(!n.showChildren&&d())return;a.scope.enableUiRouter&&a.scope.activeId===t&&e.go(t+"",i(a.scope.items,t),{reload:!0})},n.keyUpFn=function(e){var r=e.which||e.keyCode;(r===t.KEY_ENTER||r===t.KEY_NUMPAD_ENTER)&&n.clickFn()},r(a.scope)&&n.$on("$stateChangeSuccess",function(){p()})}function c(){a.scope.$watch("activeId",function(e,t){if(e===t)return;a.scope.enableUiRouter||h(),p()})}function h(){n.showChildren=!1;if(!d())return;v()&&(n.showChildren=!0)}function p(){d()&&v()&&!n.showChildren||m()?n.isActived=!0:n.isActived=!1}function d(){return n.item.children&&n.item.children.length}function v(){if(!r(a.scope)){var t=_.findIndex(n.item.children,{id:a.scope.activeId});return t!==-1}var i=!1,o=n.item.children;for(var u=0;u<o.length;u++)i=i||a.scope.activeId===o[u].id||s(e,o[u].id,o[u].stateList);return i}function m(){return r(a.scope)?s(e,n.item.id,n.item.stateList):n.item.id===a.scope.activeId}f(),l(),c()}var n={restrict:"E",scope:{item:"=?"},require:"^^tiLeftmenu",templateUrl:"/tiny-components/src/components/leftmenu/leftmenuLevel1.html",replace:!0,transclude:!0,link:o};return n}function a(e){var n={restrict:"E",scopcomponents/leftmenu/leftmenuLevel2.html",replace:!0,transclude:!0,require:"^^tiLeftmenu",link:function(n,o,u,a){var f=a.scope;n.clickFn=function(){f.enableUiRouter&&f.activeId===n.item.id?e.go(f.activeId+"",i(f.items,f.activeId),{reload:!0}):f.activeId=n.item.id},n.keyUpFn=function(e){var r=e.which||e.keyCode;(r===t.KEY_ENTER||r===t.KEY_NUMPAD_ENTER)&&n.clickFn()},f.$watch("activeId",function(){if(r(f)){n.isActived=s(e,n.item.id,n.item.stateList);return}n.isActived=f.activeId===n.item.id}),r(f)&&n.$on("$stateChangeSuccess",function(){n.isActived=s(e,n.item.id,n.item.stateList)}),n.reg=/\./g}};return n}e.directive("tiLeftmenu",n),n.$inject=["$state"],e.directive("tiLeftmenuHead",o),e.directive("tiLeftmenuLevel1",u),u.$inject=["$state"],e.directive("tiLeftmenuLevel2",a),a.$inject=["$state"]}),define("components/charts/charts",["components/module"],function(e){"use strict";function r(e,t){if(!angular.isObject(t)||!l(t.series))return;var n=$.extend(!0,{},t),r,i=n.series,s,o=[];for(r=0;r<i.length;r++)s=i[r].name,_.isString(s)&&e.selected[s]&&o.push(i[r]);return n.series=o,n}function i(e,t){return{option:o(e),theme:s(t)}}function s(e){var t={color:["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],title:{textStyle:{fontWeight:"normal"}},toolbox:{iconStyle:{normal:{borderColor:"#06467c"}}},tooltip:{backgroundColor:"rgba(0,0,0,0.6)"},dataZoom:{dataBackgroundColor:"#dedede",fillerColor:"rgba(154,217,247,0.2)",handleColor:"#005eaa"},timeline:{lineStyle:{color:"#005eaa"},controlStyle:{normal:{color:"#005eaa",borderColor:"#005eaa"}}},line:{itemStyle:{normal:{borderWidth:0,lineStyle:{width:0},opacity:0},emphasis:{borderWidth:0,lineStyle:{width:3},opacity:1}},lineStyle:{},symbol:"circle",symbolSize:3.5}};return angular.isObject(e)?angular.extend({},t,e):angular.isString(e)?e:t}function o(e){if(!angular.isObject(e))return e;var t={xAxis:{splitLine:{show:!1},axisLine:{lineStyle:{color:"#cfcfcf",width:1,type:"solid"}},axisTick:{show:!0,length:5,lineStyle:{color:"#cfcfcf",width:1}},axisLabel:{textStyle:{fontSize:11,fontFamily:"Helvetica, 微软雅黑, Arial, Verdana, sans-serif",fontWeight:"normal",color:"#666"}}},yAxis:{splitLine:{show:!0,lineStyle:{color:["#cfcfcf"],width:1,type:"dotted"}},axisLine:{lineStyle:{color:"#cfcfcf",width:1,type:"solid"}},axisTick:{show:!0,length:5,lineStyle:{color:"#cfcfcf",width:1}},axisLabel:{textStyle:{fontSize:11,fontFamily:"Helvetica, 微软雅黑, Arial, Verdana, sans-serif",fontWeight:"normal",color:"#666"}}}},n=u(t,e);return n=f(n),n}function u(e,t){var n=angular.copy(t),r=angular.copy(e);return a("xAxis",r,n),a("yAxis",r,n),n}function a(e,t,n){var r=n[e];if(!angular.isObject(r))return;if(angular.isArray(r)){for(var i=0;i<r.length;i++)r[i]=angular.extend({},t[e],r[i]);return}r=angular.extend({},r,r)}function f(e){if(!angular.isObject(e)||!l(e.series)||!c(e.markLine))return e;e.markLine.data=h(e.markLine.data);var t=e.markLine;t.data=_.sortBy(t.data,"yAxis");var n=t.data,r,i,s,o,u,a,f,m,g=_.clone(e.series);for(u=0;u<n.length;u++){r=n[u].yAxis,i=d(n[u]),s=u===n.length-1,o=p(n[u]),m=[];for(a=0;a<g.length;a++){f=g[a];if(!_.isArray(f.data)||f.data.length===0||f.type!=="line")continue;f=v(f,r,i,s,t,o),m=m.concat(f)}g=m}return e.series=g,e}function l(e){return angular.isArray(e)&&e.length>0}function c(e){return angular.isObject(e)&&angular.isArray(e.data)&&e.data.length>0}function h(e){var t=[];return _.each(e,function(e){e.yAxis=parseFloat(e.yAxis,10),_.isNaN(e.yAxis)||t.push(e)}),t}function p(e){if(_.isObject(e)&&_.isObject(e.lineStyle)&&_.isObject(e.lineStyle.normal)&&e.lineStyle.normal.overMarkWidth){if(!_.isNaN(parseInt(e.lineStyle.normal.overMarkWidth,10)))return parseInt(e.lineStyle.normal.overMarkWidth,10);if(e.lineStyle.normal.overMarkWidth===n)return n}return t}function d(e){return _.isObject(e)&&_.isObject(e.lineStyle)&&_.isObject(e.lineStyle.normal)?e.lineStyle.normal.color:"red"}function v(e,t,r,i,s,o){var u=m(e),a=b(e.data,t,u,r,i),f=[],l;for(var c=0;c<a.length;c++)l=$.extend(!0,{},e),l.data=a[c].data,g(l,a[c].color),y(l,a[c].color),l.markLine=s,o!==n&&a[c].isBiggest&&(l.lineStyle.normal.width=o),_.isObject(l)&&_.isObject(l.areaStyle)&&_.isObject(l.areaStyle.normal)&&(l.areaStyle.normal.color=a[c].color),f.push(l);return f}function m(e){return _.isObject(e)&&_.isObject(e.lineStyle)&&_.isObject(e.lineStyle.normal)?e.lineStyle.normal.color:"blue"}function g(e,t){_.isObject(e.lineStyle)||(e.lineStyle={}),_.isObject(e.lineStyle.normal)||(e.lineStyle.normal={}),e.lineStyle.normal.color=t}function y(e,t){_.isObject(e.itemStyle)||(e.itemStyle={}),_.isObject(e.itemStyle.normal)||(e.itemStyle.normal={}),e.itemStyle.normal.color=t}function b(e,t,n,r,i){var s=[],o,u,a,f,l,c={data){o=e[h],u=o[1],a=h+1<e.length?e[h+1][1]:null,f=h>0?e[h-1][1]:null;if(h===e.length-1){e.length===1&&(c.color=n),c.data.push(o),s.push(c);continue}t>u?(c.color=n,c.data.push(o),t<a&&(l=w(o,e[h+1],t),c.data.push(l),s.push(c),c={data:[],color:"",isBiggest:!1},c.color=r,c.isBiggest=i,c.data.push(l))):t===u?h===0?(a>t?(c.color=r,c.isBiggest=i):a===t&&(c.color=n),c.data.push(o)):a>t&&f>t||a===t&&f===t||a<t&&f<t?c.data.push(o):(c.data.push(o),s.push(c),c={data:[],color:"",isBiggest:!1},c.data.push(o),a>t?(c.color=r,c.isBiggest=i):c.color=n):(c.color=r,c.isBiggest=i,c.data.push(o),a<t&&(l=w(o,e[h+1],t),c.data.push(l),s.push(c),c={data:[],color:"",isBiggest:!1},c.color=n,c.data.push(l)))}return s}function w(e,t,n){var r=t[0]-(t[1]-n)*(t[0]-e[0])/(t[1]-e[1]);return[r,n]}function E(e,t,n,r){function a(e,t,n){return!_.isObject(t)||!_.isObject(t.selected)||n?!1:!t.selected[e.name]}k(n);if(!angular.isObject(e)||!l0;i<s.length;i++){if(s[i].type!=="line"||!S(s[i].data)||s[i].stack||a(s[i],e.legend,r))continue;o=x(s[i],t,n),u=C(s[i],t,n),L(o,n),A(u,n)}}function S(e){return angular.isArray(e)&&e.length>0}function x(e,t,n){function d(){if(!c(t.markLine))return m(e);var n,r=t.series,i;for(n=0;n<r.length;n++){i=_.find(r[n].data,function(e){return e[0]===h[0]rn m(e)}var r,i=e.data;if(!_.isArray(i[0])){var s=_.max(i),o=_.lastIndexOf(i,s),u=n.convertToPixel({yAtToPixel({xAxisIndex:N(e)},o);return r=m(e),{top:u,left:a,color:r}}var f=[];for(var l=0;l<i.length;l++)_.isNaN(parseFloat(i[l][1],10))||f.push(i[l]);f.length===0&&(f=[[]]);var h=_.sortBy(f,function(e){return parseFloat(e[1],10)})[f.length-1],p=n.convertToPixel({yAxisIndex:T(e),xAxisIndex:N(e)},h);return r=d(),{top:p[1],left:p[0],color:r}}function T(e){return _.isUndefined(e.yAxisIndex)?0:e.yAxisIndex}function N(e){return _.isUndefined(e.xAxisIndex)?0:e.xAxisIndex}function C(e,t,n){function d(){if(!c(t.markLine))return m(e);var n,r=t.series,i;for(n=0;n<r.length;n++){i=_.find(r[n].data,function(e){return e[0]===h[0]&&e[1]===h[1]});if(i)return m(r[n])}return m(e)}var r,i=e.data;if(!_.isArray(i[0])){var s=_.min(i),o=_.lastIndexOf(i,s),u=n.convertToPixel({yAxisIndex:T(e)},s),a=n.convertToPixel({xAxisIndex:N(e)},o);return r=m(e),{top:u,left:a,color:r}}var f=[];for(var l=0;l<i.length;l++)_.isNaN(parseFloat(i[l][1],10))||f.push(i[l]);f.length===0&&(f=[[]]);var h=_.sortBy(f,function(e){return parseFloat(e[1],10)})[0],p=n.convertToPixel({yAxisIndex:T(e),xAxisIndex:N(e)},h);return r=d(),{top:p[1],left:p[0],color:r}}function k(e){O(e).empty()}function L(e,t){if(e.left<0||e.top<0||e.left>t.getWidth())return;var n=O(t),r=$('<div class="ti-charts-mark-max"></div>');r.css({left:e.left-6,top:e.top-22,"border-bottom-color":e.color}),n.append(r)}function A(e,t){if(e.left<0||e.top<0||e.left>t.getWidth())return;var n=O(t),r=$('<div class="ti-charts-mark-min"></div>');r.css({left:e.left-6,top:e.top+5,"border-top-color":e.color}),n.append(r)}function O(e){var t=$(e.getDom()),n=$(".ti-charts-mark-container",t);return n.length===0&&(n=$('<div class="ti-charts-mark-container"></div>'),t.append(n)),n}function M(e){var t=e.series,n=!0;for(var r=0;r<t.length;r++)if(S(t[r].data)){n=!1;break}return n}function D(e,t){if(!$.isPlainObject(e.noData))return;var n=M(e),r=$(t.getDom()),i=$("#ti-chart-noData",r),s=$("canvas",r);if(n){if(!i.length){e.noData=angular.extend({},{text:"","class":""},e.noData);var o=$('<div id="ti-chart-noData" class="ti-table '+e.noData.class+' ">'+"<table>"+"<tbody>"+'<tr class="ti-table-nodata">'+"<td>"+e.noData.text+"</td>"+"</tr>"+"</tbody>"+"</table>"+"</div>");o.insertBefore(s),s.css({display:"none"})}}else i.length&&(i.remove(),s.css({display:"block"}))}!window.tiny&&(window.tiny={});var t=6,n="normal";window.tiny.charts=function(e,t,n){var s=window.echarts3;if(!s||!e||!t)return;var o=$.extend(!0,{},t),u=i(t,n),a=s.init(e,u.theme);a.setOption(u.option),$(e).css("position","relative"),E(o,u.option,a);var f=a.setOption;a.setOpt=function(e,t,r){o=$.extend(!0,{},e),l=o,u=i(e,n);var s=_.isUndefined(t)?!0:t;a.setOption(u.option,s,r),E(o,u.option,a),D(u.option,a)};var l=o;return a.on("legendselectchanged",function(e){l=r(e,o),E(l,u.option,a,!0)}),a.on("datazoom",function(){E(l,u.option,a,!0)}),D(u.option,a),a}}),define("components/charts/charts2",["compoion(e){"use strict";function n(e,t){function n(n,r){function f(e,t){var n=angular.copy(t),r=angular.copy(e);return l("xAxis",r,n),l("yAxis",r,n),n}function l(e,t,n){var r=n[e];if(!angular.isObject(r))return;if(angular.isArray(r)){for(var i=0;i<r.length;i++)r[i]=angular.extend({},t[e],r[i]);return}r=angular.extend({},r,r)}function c(e,t){var n=e,r=t;return angular.isObject(n)?angular.extend({},r,n):angular.isString(n)?n:r}var i=window.echarts;if(!i||!n.options)return;var s=n.options.theme,o=i.init(r[0],c(s,e.theme));t.tiCharts||(t.tiCharts={});var u=n.options.id;u&&(t.tiCharts[u]=o);var a=function(){o.resize()};$(window).on("resize",a),r.on("$destroy",function(){t.tiCharts&&t.tiCharts[u]&&(o.dispose(),t.tiCharts[u]=null),$(window).off("resize",a)}),n.$watch("options",function(t){var n=f(e.options,t);o.setOption(n,!0)},!0),n.$watch("loading",function(e){if(!e)return;String(e.show)==="true"?o.showLoading(e):o.hideLoading()},!0),n.$watch("events",function(e){function t(e,t){e.state==="off"?o.un(t,e.fn):o.on(t,e.fn)}if(!e)return;angular.isObject(e)&&angular.forEach(e,function(e,n){angular.isArray(e)?angular.forEach(e,function(e){t(e,n)}):t(e,n)})},!0)}return{restrict:"EA",template:"<div></div>",replace:!0,scope:{options:"=",loading:"=",events:"="},link:n}}var t={imagesPath:"../../../resources/widget/themes/default/images"};e.provider("tiCharts",function(){this.setDefaults=function(e){angular.extend(t,e)},this.$get=function(){}}),e.factory("agileUiTheme",[function(){return{theme:{imagesPath:t.imagesPath,color:["#5ecc49","#42ccef","#9592f0","#ffa235","#a7e52d","#fc5043","#777777","#468bf3","#efe034","#f87fa7"],title:{itemGap:8,textStyle:{fontWeight:"normal",color:"#666666"}},axis:{splitLine:{show:!1}},dataRange:{color:["#1178ad","#72bbd0"]},toolbox:{show:!1,color:["#42ccef","#42ccef","#42ccef","#42ccef"]},legend:{itemWidth:20,itemHeight:20,x:"right",y:"top",padding:[5,40,5,5]},tooltip:{backgroundColor:"#ffffff",borderWidth:1,borderRadius:4,borderColor:"#dfdfdf",padding:5,textStyle:{color:"#666",fontSize:11,fontFamily:"Helvetica, 微软雅黑, Arial, Verdana, sans-serif"},axisPointer:{type:"line",lineStyle:{color:"#d5d5d5",width:1,type:"solid"}}},dataZoom:{showDetail:!1,axis:{axisLine:{show:!1},axisLabel:{textStyle:{fontSize:10,color:"#999"}},axisTick:{length:8,lineStyle:{color:"#999",width:1}}},handleSize:5,dataBackgroundColor:"#5ecc49",fillerColor:"rgba(255,255,255,0)",handleColor:"#008acd"},noDataLoadingOption:{effect:"noEffect"},grid:{borderWidth:0,x:40,y:40,x2:40,y2:40},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordSt, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"},loadingText:window.tiny.language.loadingText},options:{xAxis:{splitLine:{show:!1},axisLine:{lineStyle:{color:"#cfcfcf",width:1,type:"solid"}},axisTick:{show:!0,length:5,lineStyle:{color:"#cfcfcf",width:1}},axisLabel:{textStyle:{fontSize:11,fontFamily:"Helvetica, 微软雅黑, Arial, Verdana, sans-serif",fontWeight:"normal",color:"#666"}}},yAxis:{splitLine:{show:!0,lineStyle:{color:["#cfcfcf"],width:1,type:"dotted"}},axisLine:{lineStyle:{color:"#cfcfcf",width:1,type:"solid"}},axisTick:{show:!0,length:5,lineStyle:{color:"#cfcfcf",width:1}},axisLabel:{textStyle:{fontSize:11,fontFamily:"Helvetica, 微软雅黑, Arial, Verdana, sans-serif",fontWeight:"normal",color:"#666"}}}}}}]),e.directive("tiCharts",n),n.$inject=["agileUiTheme","$rootScope"]}),define("components/progressPie/progressPie",["components/module"],function(e){function t(e){function t(e,t){n(e,t),r(e,t)}function n(t,n){n[0].width=n.width(),n[0].height=n.height(),t.maxValue=u(t.maxValue,e.maxValue),t.value=u(t.value,e.value),i(n,t)}function r(e,t){e.$watch("value",function(n,r){var s=u(n,r);if(s===r)return;e.value=s,i(t,e)}),e.$watch("maxValue",function(n,r){var s=u(n,r);if(s===r)return;e.maxValue=s,i(t,e)})}function i(e,t){var n=s(t);o(e,n)}function s(e){var t=0,n=e.maxValue,r=e.value;return n===0?(t=0,t):(t=r/n,t>1&&(t=1),t<0&&(t=0),t)}function o(t,n){var r=t[0],i=r.getContext("2d"),s=r.width,o=r.height;i.clearRect(0,0,r.width,r.height);var u=Math.=e.lineWidth,c=u/2-l,h=-Math.PI/2,p=e.color;i.fillStyle=p,i.strokeStyle=p,i.lineWidtc,h,h+2*Math.PI),i.stroke();var d=h+2*Math.PI*n;i.beginPath(),i.moveTo(a,f),i.lineTo(h.x,h.y),i.arc(a,f,c,h,d),i.lineTo(a,f),i.fill(),n===0&&i.stroke(),i.closePath()}function u(e,t){var n=parseFloat(e);return isNaN(n)&&(n=t),n}return{restrict:"E",template:"<canvas></canvas>",scope:{value:"=?",maxValue:"=?"},link:t,replace:!0,transclude:!0}}e.directive("tiProgressPie",t),e.constant("tiProgressPieConfig",{color:"#3dcca6",value:0,maxValue:100,lineWidth:2}),t.$inject=["tiProgressPieConfig"]}),define("components/fileupload/fileupload",["components/module","components/common/utils/keymap","components/tip/tip","components/progressPie/progressPie"],function(e,t){function r(){function e(e,n,r){n.on("change",function(){var n=e.$eval(r.tiFileSelect);if(!n)return;t(this,n)})}function t(e,t){var i=n?e.files:$(e),s=t.addToQueue(i);if(n)$(e).val("");else{var o=s.length===0;r($(e),t,o)}t.options.isAutoUpload!==!1&&s.length!==0&&t.uploadItems(s)}function r(e,n,r){e.off("change");var i=e.clone();r?e.replaceWith(i):(e.hide(),e.after(i)),i.on("change",function(){t(this,n)})}return{restrict:"A",link:e}}function i(){function e(e,t,n){e.$watch(n.tiFileDetail,function(t){e.uploadInst=t}),e.info={waitInfo:tiny.language.upload_wait_info,errorInfo:tiny.language.upload_error_info,successInfo:tiny.language.upload_success_info}}return{restrict:"A",templateUrl:"/tiny-components/src/components/fileupload/tiFileDetail.html",replace:!0,link:e}}function s(e,n){function r(r,i,s){p,position:"top"},r.inputFieldInfo={addSingleSucc:tiny.lao,uploadingSingle:tiny.language.upload_single_uploading_general_info,uploadSingleError:tiny.language.upload_error_info,uploadSuccess:tiny.language.upload_success_info,removeSingle:tiny.language.upload_remove_file_single,cancel:tiny.language.upload_cancel_files,reload:tiny.language.upload_reload_files,uploadSelectFileTip:{content:tiny.language.upload_select_file_tip,position:"top"}},!s.id&&_.isString(r.elementId)&&r..elementId);var o=r.uploadInst=e.createUploader(r.uploader),u=r.styleOptions||{};r.title=tiny.utils.browser.chrome?" ":"",r.type=u.type||n.type;if(r.type==="inputField"){var a=o.options.isAutoUpload!==!1;r.showSubmitBtn=_.isUndefined(u.showSubmitBtn)?!a:u.showSubmitBtn,r.text=u.btnText||tiny.language.upload_file_btn,r.placeholder=u.placeholder}else{var f=u.showDetail;r.showDetail=_.isUndefined(f)?!0:f,r.text=u.btnText||tiny.language.upload_add_file_btn}var l=o.options.filters,c=_.findIndex(l,{name:"fileType"});c!==-1&&(r.accept=l[c].params[0]),o.isSingleFile||setTimeout(function(){i.find("[type = file]").attr("multiple",!0)},0),!_.isUndefined(u.isFocus)&&u.isFocus===!0&&setTimeout(function(){i.find("[type = file]").focus()},0),r.focusFn=function(){r.focused=!0},r.blurFn=function(){r.focused=!1},r.keyDownFn=function(e){if(window.tiny.utils.browser.ie)switch(e.keyCode){case t.KEY_ENTER:case t.KEY_NUMPAD_ENTER:i.find("[type = file]").click();break;default:}}}return{restrict:"E",templateUrl:"/tiny-components/src/components/fileupload/tiFileUpload.html",replace:!0,scope:{uploader:"=?",styleOptions:"=?",elementId:"=?"},link:r}}function o(e){function t(){e.$evalAsync()}function r(e){return e&&e.uploader?_.findIndex(e.uploader.queue,{index:e.index}):-1}function i(e){return r(e)!==-1}function s(e){for(var r=0;r<e.lengthrn;c(e);for(var s=0;s<e.length;s++){if(e[s].isCancel)return;e[s].isUploading=!0}n?a(e):f(e),t()}function o(e){for(var t=0;t<e.length;t++){if(!i(e[t]))return;e[t].isCancel=!0}if(e[0].isUploading)n?e[0]._xhr.abort():e[0]._form.abort();else{var r=undefined,s=0;g(e,r,s),m(e,r,s)}}function u(e){var t=angular.copy(e);for(var n=0;n<e.length;n++)if(!i(e[n]))return;e[0].isUploading&&o(e);for(var s=0;s<e.length;s++)e[s].uploader.queue.splice(r(e[s]),1),t[s].destroy();y(t)}function a(e){function n(){for(var n=0;n<e.length;n++)t.append(e[n].alias,e[n]._file,e[n].file.name)}function r(){_.forEach(e[0].formData,function(e,n){t.append(n,e)})}var t=new FormData;e[0].isFormDataFirst?(r(),n()):(n(),r());var i=new XMLHttpRequest;for(var s=0;s<e.length;s++)e[s]._xhr=i;i.upload.onprogress=function(t){var n=t.lengthComputable,r=t.loaded,i=t.total,s=Math.round(n?r*100/i:0);h(e,s)},i.onload=function(){var t=i.response,n=i.status;l(n)?p(e,t,n):d(e,t,n),m(e,t,n)},i.onerror=function(){var t=i.response,n=i.status;d(e,t,n),m(e,t,n)},i.onabort=function(){var t=i.response,n=i.status;g(e,t,n),m(e,t,n)},i.open(e[0].method,e[0].url,!0),_.forEach(e[0].headers,function(e,t){i.setRequestHeader(t,e)}),i.send(t);for(var o=0;o<e.length;o++)e[o].isUploading=!0}function f(e){function i(){for(var r=0;r<e.length;r++)t=$(e[r]._input),t.attr("name",e[r].alias),t.after(n),n.append(t)}function s(){var t;_.forEach(e[0].formData,function(e,r){t=$('<input type="hidden" name="'+r+'" />'),t.val(e),n.append(t)})}var t=$(e[0]._input);e._form&&e._form.replaceWith(t);var n=$('<form style="display: none;"></form>');for(var r=0;r<e.length;r++)e[r]._form=n;e[0].isFormDataFirst?(s(),i()):(i(),s());var o=$('<iframe name="tiFileIframe'+$.guid++ +'"></iframe>');n.attr({action:e[0].url,method:e[0].method,target:o.attr("name"),enctype:"multipart/form-data"}),n.append(o),n[0].submit();var u=0,a=setInterval(function(){u!==100&&h(e,u+2)},10);o.on("load",function(){var t="",n=200;clearInterval(a);try{t=o[0].contentDocument.body.innerHTML,p(e,t,n)}catch(r){t=r,n=520,d(e,t,n)}m(e,t,n)}),n.abort=function(){clearInterval(a),o.off("load"),n.replaceWith(t);var r=0,i;g(e,i,r),m(e,i,r)}}function l(e){return e>=200&&e<300||e===304}function c(e){for(var t=0;t<e.length;t++)e[t].isReady=!0,e[t].isUploading=!1,e[t].isUploaded=!1,e[t].isSuccess=!1,e[t].isError=!1,e[t].isCancel=!1,e[t].progress=0;if(e.length===1){var n=e[0].uploader.onBeforeSendItem;_.isFunction(n)&&n(e[0])}else{var r=e[0].uploader.onBeforeSendItems;_.isFunction(r)&&r(e)}var i=e[0].onBeforeSend;_.isFunction(i)&&i()}function h(e,n){if(e.length===1){var r=e[0].uploader.onProgressItem;_.isFunction(r)&&r(e[0],n)}else{var i=e[0].uploader.onProgressItems;_.isFunction(i)&&i(e,n)}var s=e[0].onProgress;_.isFunction(s)&&s(n);for(var o=0;o<e.length;o++)e[o].progress=n;t()}function p(e,t,n){for(var r=0;r<e.length;r++)e[r].isReady=!1,e[r].isUploading=!1,e[r].isUploaded=!0,e[r].isSuccess=!0,e[r].isError=!1,e[r].isCancel=!1,e[r].progress=100;if(e.length===1){var i=e[0].uploader.onSuccessItem;_.isFunction(i)&&i(e[0],t,n)}else{var s=e[0].uploader.onSuccessItems;_.isFunction(s)&&s(e,t,n)}var o=e[0].onSuccess;_.isFunction(o)&&o(t,n)}function d(e,t,n){for(var r=0;r<e.length;r++)e[r].isReady=!1,e[r].isUploading=!1,e[r].isUploaded=!0,e[r].isSuccess=!1,e[r].isError=!0,e[r].isCancel=!1,e[r].progress=0;if(e.length===1){var i=e[0].uploader.onErrorItem;_.isFunction(i)&&i(e[0],t,n)}else{var s=e[0].uploader.onErrorItems;_.isFunction(s)&&s(e,t,n)}var o=e[0].onError;_.isFunction(o)&&o(t,n)}function v(e,t,n){if(e.length===1){var r=e[0].uploader.onCompleteAll;_.isFunction(r)&&r(e[0],t,n)}else{var i=e[0].uploader.onCompleteAllItems;_.isFunction(i)&&i(e,t,n)}}function m(e,n,r){for(var i=0;i<e.length;i++)e[i].isUploading=!1;var o=e[0].uploader.getReadyItems(),u=e[0].uploader.isUploadedAll();o&&o.length!==0&&!e[0].isParallel?s([o[0]]):e[0].isParallel?u&&e[0].isParallel&&v(e,n,r):v(e,n,r);if(e.length===1){var a=e[0].uploader.onCompleteItem;_.isFunction(a)&&a(e[0],n,r)}else{var f=e[0].uploader.onCompleteItems;_.isFunction(f)&&f(e,n,r)}var l=e[0].onComplete;_.isFunction(l)&&l(n,r),t()}function g(e,t,n){for(var r=0;r<e.length;r++)e[r].isReady=!1,e[r].isUploading=!1,e[r].isUploaded=!1,e[r].isSuccess=!1,e[r].isError=!1,e[r].isCancel=!0,e[r].progress=0;if(e.length===1){var i=e[0].uploader.onCancelItem;_.isFunction(i)&&i(e[0],t,n)}else{var s=e[0].uploader.onCancelItems;_.isFunction(s)&&s(e,t,n)}var o=e[0].onCancel;_.isFunction(o)&&o(t,n)}function y(e){if(e.length===1){var t=e[0].uploader.onRemoveItem;_.isFunction(t)&&t(e[0])}else{var n=e[0].uploader.onRemoveItems;_.isFunction(n)&&n(e)}var r=e[0].onRemove;_.isFunction(r)&&r()}return{uploadItem:s,cancelItem:o,removeItem:u}}function u(e,t){function n(n,r,i,s){function o(){e.uploadItem([this])}function u(){e.cancelItem([this])}function a(){e.removeItem([this])}function f(e){if(this.disable)return;this.isHover=!0;var n=$('<span class="ti-aui-file-tip-name">'+$.encoder.encodeForHTML(this.file.name)+"</span>"),r=$('<div class="ti-aui-file-tip-size"><span>(</span><span>'+this.file.sizeWithUnit+"</span>"+"<span>)</span>"+"</div>"),i=$('<div class = "ti-aui-file-tip-content"></div>');i.append(n),i.append(r);if(this.isError){var s=this.errorInfo||tiny.language.upload_error_info,o=$('<div class="ti-aui-file-tip-error"><span class="ti-aui-file-tip-error-icon ti-icon ti-icon-exclamation-circle"></span></div>'),u=$('<span class="ti-aui-file-tip-error-msg"></span>').html(s);i.append(o.append(u))}var a=$(e.currentTarget);a[0].tiTooltip||(a[0].tiTooltip=t.createTip(a,{position:"top-left",triggerEvent:"none",maxWidth:"auto",content:""})),a[0].tiTooltip.show({content:i})}function l(e){this.isHover=!1;var t=$(e.currentTarget);t[0].tiTooltip&&t[0].tiTooltip.hide()}function c(e){var t=$(e.currentTarget);t[0].tiTooltip&&t[0].tiTooltip.hide()}function h(){this._input&&this._input.remove(),this._form&&this._form.remove(),this._input=null,this._form=null}var p=null,d=null;return angular.isElement(r)?d=$(r):p=r,{url:i.url||"/",file:n,alias:i.alias||"tiFile",_file:p,_input:d,formData:i.formData||{},isFormDataFirst:i.isFormDataFirst||!1,headers:i.headers||{},method:i.method||"post",isBatchSend:i.isBatchSend||!1,isParallel:i.isParallel||!1,uploader:s,upload:o,cancel:u,remove:a,destroy:h,mouseenter:f,mouseleave:l,removeTip:c,isReady:!1,isUploading:!1,isUploaded:!1,isCancel:!1,isSuccess:!1,isError:!1}}function r(e){var t={};if(!angular.isElement(e)){var n=e.name;t={lastModifiedDate:e.lastModifiedDate,size:e.size,sizeWithUnit:i(e.size),name:e.name,type:n.slice(n.lastIndexOf(".")+1).toLowerCase(),_file:e,_input:null}}else{var r=e.value,s=_.isUndithUnit:_.isNaN(s)?"":i(s/10xOf("\\")+2),type:r.slice(r.lastIndexOf(".")+1).toLowerCase(),_file:null,_i(e){v)6?t=(n/1024).toFixed(2)+"MB":t=(n/1024/1024).toFixed(2)+"GB",t}return{createFileItem:n,createFileOon i(i){function l(e){return f?_.reject(e,function(e){return e.name==="maxCount"}):e}function c(e){var t=_.findIndex(e,{name:"maxCount"});return t===-1?!1:e[t].params[0]===1}function h(n){var r=[],l,c,h,d=!1,v;for(var m=0,g=n.length;m<g;m++)l=n[m],c=t.createFileObject(l),h=p(c,a),d=!h.length,f&&h.length===0&&(d=!0),d?(f&&o[0]&&o[0].remove(),v=t.createFileItem(c,l,i,s),r.push(v),o.push(v),v.index=++u,_.isFunction(i.onAddItemSuccess)&&i.onAddItemSuccess(v)):_.isFunction(i.onAddItemFailed)&&i.onAddItemFailed(c,h);return e.$evalAsync(),r}function p(e,t){var n=t.length;if(n===0)return[];var i=[],s,u,a;for(var f=0;f<n;f++)s=t[f],u=s.name,_.has(r,u)?a=r[u]:a=s.fn,_.isFunction(a)&&!a.call(o,e,s.params)&&i.push(u);return i}function d(){return o.filter(function(e){return!e.isUploaded})}function v(){return o.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})}function m(){return o.filter(function(e){return e.isError}).sort(function(e,t){return e.index-t.index})}function g(){E(m())}function y(){E(o)}function b(){var e=d().filter(function(e){return!e.isUploading});E(e)}function w(){var e=d().filter(function(e){return!e.isUploaded});return e.length===0}function E(e){var t=e.length;if(t===0)return;for(var r=0;r<t;r++)e[r].isReady=!0;if(e[0].isBatchSend)n.uploadItem(e);else if(!e[0].isParallel)n.uploadItem([e[0]]);else for(var r=0;r<t;r++)n.uploadItem([e[r]])}function S(e){if(e[0].isBatchSend)n.cancelItem(e);else for(var t=0,r=e.length;t<r;t++)n.cancelItem([e[t]])}function x(e){if(e[0].isBatchSend)n.removeItem(e);else while(e.length!==0)e[0].remove()}function T(){while(this.queue.length!==0)this.queue[0].remove()}function N(){var e=this.getNotUploadedItems();_.forEach(e,function(e){e.cancel()})}function C(){var e=o.length,t=0,n=0,r=0,i,s;for(var u=0;u<e;u++)s=o[u],s.isUploading?t++:s.isError?n++:s.isSuccess&&r++;var a=window.tiny.language;return r===e?(i="success",this.stateInfo=a.upload_success_info,this.stateOperateInfo=a.upload_reload_files):n!==0?(i="error",this.stateInfo=window.tiny.utils.formatEntry(a.upload_error_general_info,[n]),this.stateOperateInfo=a.upload_reload_files):t!==0?(i="uploading",this.stateInfo=window.tiny.utils.formatEntry(a.upload_uploading_general_info,[""]),this.stateOperateInfo=a.upload_cancel_files):(i="addSuccess",this.stateInfo=window.tiny.utils.formatEntry(a.upload_add_success_general_info,[e]),this.stateOperateInfo=a.upload_remove_files),i}var s={},o=[],u=0,a=i.filters||[],f=c(a);return a=l(a),s={queue:o,isSingleFile:f,options:i,addToQueue:h,getNotUploadedItems:d,getReadyItems:v,uploadAll:b,isUploadedAll:w,removeAll:T,cancelAll:N,reloadAll:y,reloadAllError:g,uploadItems:E,removeItems:x,cancelItems:S,onBeforeSendItem:i.onBeforeSendItem,onProgressItem:i.onProgressItem,onSuccessItem:i.onSuccessItem,onErrorItem:i.onErrorItem,onCancelItem:i.onCancelItem,onRemoveItem:i.onRemoveItem,onCompleteItem:i.onCompleteItem,onCompleteAll:i.onCompleteAll,onBeforeSendItems:i.onBeforeSendItems,onProgressItems:i.onProgressItems,onSuccessItems:i.onSuccessItems,onErrorItems:i.onErrorItems,onCancelItems:i.onCancelItems,onCompleteItems:i.onCompleteItems,onCompleteAllItems:i.onCompleteAllItems,onRemoveItems:i.onRemoveItems,getUploadState:C},s}var r={maxSize:function(e,t){var n=e.size;return _.isNumber(n)?!(n>t[0]):!0},minSize:function(e,t){var n=e.size;return _.isNumber(n)?!(n<t[0]):!0},fileType:function(e,t){var n=t[0].split(","),r=e.name,i=!1;for(var s=0,o=n.length;s<o;s++)if(r.match(new RegExp(".("+n[s].replace(/\./g,"\\.")+")$","i"))!==null){i=!0;break}return i},maxCount:function(e,t){return!(this.length>=t[0])}};return{createUploader:i}}var n=!!window.File&&!!window.FormData;e.constant("tiFileUploadConfig",{type:"button"}),e.directive("tiFileSelect",r),e.directive("tiFileDetail",i),e.directive("tiFileUpload",["tiFileUploader","tiFileUploadConfig",s]),e.factory("$tiUpload",["$rootScope",o]),e.factory("$tiFileItem",["$tiUpload","tiTipService",u]),e.factory("tiFileUploader",["$rootScope","$tiFileItem","$tiUpload",a])}),define("components/buttonGroup/btnGroupCommon",["components/module"],function(e){function t(e){var t={restrict:"A",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,s){function o(r,i){r.length===0||r.length===1&&r[0].textContent.indexOf("ngRepeat")===-1&&r[0].textContent.indexOf("ngIf")===-1&&r.text().trim()===""?(n(e,function(e){t.append(e)}),i.$destroy()):t.append(r)}s(o)}}};return t}function n(){var e={require:["?^tiBtnRadioGroup","?^tiBtnCheckboxGroup"],restrict:"E",transclude:!0,scope:{item:"=?",minWidth:"=?"},templateUrl:"/tiny-components/src/components/buttonGroup/btnItem.html",replace:!0,link:r};return e}function r(e,t,n,r){function l(e){var t=e.find(".ti-btn-item"),n=t.text(),r=$("<button>").css({display:t.css("display"),overflow:"visible",padding:"0",margin:"0","font-size":t.css("font-size"),"font-family":t.css("font-family"),outline:t.css("outline"),border:"none","text-align":t.css("text-align"),"white-space":"nowrap","box-sizing":t.css("box-sizing"),left:"-9999px",top:"-9999px",position:"absolute"});r.text(n).css("visibility","hidden"),$("body").append(r);var i=r[0].getBoundingClientRect().width,s=parseFturn r.remove(),i>s}if(r[0]===null&&r[1]===null)return;var i=r[0]===null?r[1]:r[0],s=i.elementId,o=e.itemId=e.item.id;!n.id&&s!==""&&t.attr("id",s+"_"+o),e.showCornermark=!!i.showCornermark,e.isMultiSelect=_.isArray(i.selectedId),setTimeout(function(){var n=t.find(".ti-btn-item"),r=t.closest(".ti-btn-slider-container");r.length&&(_.isNumber(Number(n.context.innerText))||_.isNumber(Number(n.context.textContent))?n.css("min-width","50px"):n.css("min-width","80px")),!e.isMultiSelect&&parseFloat(n.css("margin-right"),10)!==-1&&(n.css("margin-right","0"),t.find(".ti-btn-item-sup").css("right","0"))},0);var u=parseInt(e.minWidth,10),a=parseInt(t.find(".ti-btn-item").css("padding-left"),10);e.btnMinWidth=u===0?0:u-2*a+"px",e.isSingleFont=!1;var f=new RegExp("^[\\u4E00-\\u9FFF]?$","g");e.$watch("item",function(){e.isSuperScript=$.isPlainObject(e.item.sup)&&(_.isString(e.item.sup.class)&&e.item.sup.class!=""||_.isString(e.item.sup.text)&&e.item.sup.text!=""),e.isSuperScript&&(e.item.sup=angular.extend({},{text:"","class":""},e.item.sup),f.test(e.item.sup.text)&&(e.isSingleFont=!0))},!0),e.clickFn=function(){if(e.item.disable)return;setTimeout(function(){i.selectItem(o,e)},0)},e.setActiveClass=i.setActiveClass,e.item.tip=$.extend({content:""},e.item.tip),t.on("$destroy",function(){e.$destroy()}),e.mouseenterFn=function(n){l(t)&&(e.item.tip.content===""&&(e.item.tip.content=n.text),e.item.tip.position=_.isString(e.item.tip.position)?e.item.tip.position:"top")}}e.directive("tiTransclude",["$compile",t]),e.directive("tiButtonItem",n)}),define("components/buttonGroup/btnCheckboxGroup",["components/module","components/buttonGroup/btnGroupCommon"],function(e){"use strict";function t(){var e={restrict:"E",replace:!0,scope:{items:"=?",selectedId:"=?",activeClass:"=?",type:"=?",minWidth:"=?",elementId:"=?",change:"&"},controller:["$scope","$element",r],transclude:!0,templateUrl:"/tiny-components/src/components/buttonGroup/btnGroup.html",link:n};return e}function n(e,t){e.minWidth=_.isNaN(parseInt(e.minWidth),10)?0:e.minWidth,e.$watch("items",function(e){_.isArray(e)&&e.length===1&&t.find(".ti-btn-item").css("border-radius","2px")},!0),t.on("$destroy",function(){e.$destroy()})}function r(e,t){var n=e.activeClass||"ti-active";_.isArray(e.selectedId)||(e.selectedId=[]),this.setActiveClass=function(t){return _.contains(e.selectedId,t)?n:""};if(t.hasClass("ti-btn-muliselect-insufficient-space")||t.hasClass("ti-btn-muliselect-enoughem=function(t,n){_.contains(e.selectedId,t)?e.selectedId=_.without(e.selectedId,t):e.selectedId.push(t),e.$apply(),_.isFunction(e.change())&&(e.change()(n.item),e.$evalAsync())};var r=_.isString(e.elementId)?e.elementId:"";this.elementId=r,this.selectedId=e.selectedId}return e.directive("tiBtnuggestion",["components/module"],function(e){"use strict";function t(e,t,n){function i(e,t,n){if(_.isUndefined(e.dominator)||ocument.activeElement===e.$dominatorInput[0]&&e.$dominatorInput.trigger("focus.autoComplete")}function s(t,n,r){t.$dominator=$(t.dominator),t.$dominatorInput=u(t),n.css("line-height",t.$dominatorInput.outerHeight()+"px"),n.appendTo($("body")),t.highlight=o(t.highlight,e.highlight),t.suggestions=o(t.suggestions,e.suggestions),t.fields=o(t.fields,e.fields),t.major=o(t.major,e.major),t.panelWidth=o(t.panelWidth,e.panelWidth),t.copyList=angular.copy(t.suggestions),t.tipConfig=_.extend({position:"right"},t.tipConfig),t.show=!1,!r.id&&_.isString(t.elementId)&&t.elementId!==""&&n.attr("id",t.elementId)}function o(e,t){return _.isUndefined(e)?t:e}function u(e){var t=e.$dominator.filter("input"),r=e.$dominator.find("input");return t.length>0?$(t[0]):r.length>0?$(r[0]):(n.error("A <input> element is required in dominator."),t)}function a(e,t,n){e.isString=function(e){return _.isString(e)&&e!==""},e.$dominatorInput.on("input.autoComplete",function(n){e.$dominatorInput.trigger("valueChange",[n])});var r=wminatorInput.on("cut.autoComplete",function(t){setTimeout(function(){e.$dominatorInput.trigger("valueChange",[t])},0)}),e.$dominatorInput.on("keyup.autoComplete",function(t){(t.keyCode===8||t.keyCode===46)&&e.$dominatorInput.trigger("valueChange",[t])})),e.$dominatorInput.on("valueChange",function(){if(e.isShowPanel===!1)return;f(e,t)}),e.$dominatorInput.on("focus.autoComplete",function(){if(window.tiny.utils.browser.ie===!0&&e.$dominatorInput[0].isTiPrevented===!0){e.$dominatorInput[0].isTiPrevented=!1;return}if(e.isShowPanel===!1)return;f(e,t)}),e.$dominatorInput.on("blur.autoComplete",function(){if(window.tiny.utils.browser.ie===!0&&e.$dominatorInput[0].isTiPrevented===!0){e.$dominatorInput.focus();return}E(e,t)}),e.$dominatorInput.on("click.autoComplete",function(){if(e.show)return;if(e.isShowPanel===!1)return;f(e,t)}),e.panelMousedown=function(t){window.tiny.utils.browser.ie===!0&&(e.$dominatorInput[0].isTiPrevented=!0,t.stopPropagation(),t.preventDefault())},e.mousedownFn=function(t,r){r.stopPropagation(),r.preventDefault();var i=r.button;if(i===2)return;window.tiny.utils.browser.ie===!0&&setTimeout(function(){e.$dominatorInput.trigger("blur.autoComplete")},0);var s=v(e,t.id),o=e.$dominatorInput.val();e.isModifyInput!==!1&&e.$dominatorInput.val(s),e.$dominatorInput.triggerHandler("change"),s!==o&&(e.$dominatorInput.trigger("tiBlur"),e.$dominatorInput.blur());var u={evtName:"select",attrs:n,scope:e,params:{event:r,option:t},isDelay:!1};window.tiny.utils.applyCallback(u),e.hidePanel()},t.on("mousewheel DOMMouseScroll",function(e){e.stopPropagation(),e.preventDefault(),window.tiny.utils.browser.firefox?t.find(">ul")[0].scrollTop+=e.originalEvent.0:t.find(">ul")[0].scrollTop+=e.originalEvent.wheelDelta>0?-120:120}),e.keydownFn=function(r){if(e.show===!1)return;var i=r.keyCode;switch(i){case 38:c(e,t,r);break;case 40:h(e,t,r);break;case 27:p(e,t,r);break;case 13:case 108:d(e,t,r,n);break;default:}},$(document).on("keydown.autoComplete",e.keydownFn),e.hidePanel=function(){E(e,t)},$(window).on("resize.autoComplete hashchange.autoComplete",e.hidePanel),$(document).on("mousewheel.autoComplete DOMMouseScroll.autoComplete tiScroll scroll tipRelocation",e.hidePanel),e.$dominator.on("$destroy",function(){t.remove(),e.$destroy(),$(window).off("resize.autoComplete hashchange.autoComplete",e.hidePanel),$(document).off("keydown.autoComplete",e.keydownFn),$(document).off("mousewheel.autoComplete DOMMouseScroll.autoComplete scroll tipRelocation",e.hidePanel)})}function f(e,n){function o(){var r=e.$dominatorInput.val(),i=g(e,r);e.copyList=angular.copy(i),t(function(){S(e,n)},0)}var r=e.$dominatorInput.val();if(!_.isFunction(e.beforeOpen())){var i=g(e,r);e.copyList=angular.copy(i),S(e,n),e.$evalAsync();return}var s;e.$evalAsync(function(){s=e.beforeOpen()(r)}),!_.isUndefined(s)&&_.isFunction(s.then)?s.then(function(){o()}):_.isUndefined(s)&&o()}function l(e){var t=$("<div>").text(e);return t[0].innerHTML}function c(e,t,n){n.preventDefault();var r=t.find(".ti-dropdown-option");if(r.length<1)return;var i=r.filter(".ti-dropdown-option-selected"),s,o;i.length>0&&(o=m(i,r)),o>0?s=$(r[o-1]):s=r.last(),i.removeClass("ti-dropdown-option-selected"),s.addClass("ti-dropdown-option-selected"),t.find(">ul").scrollTop(s[0].offsetTop),e.responsedKey="UP"}function h(e,t,n){n.preventDefdown-option");if(r.length<1)return;var i=r.filter(".ti-dropdown-option-selected"),s,o;i.length>0&&(o=m(i,r)),o<r.length-1?s=$(r[o+1]):s=r.first(),i.removeClass("ti-dropdown-option-selected"),s.addClass("ti-dropdown-option-selected"),t.find(">ul").scrollTop(s[0].offsetTop),e.responsedKey="DOWN"}function p(e,t,n){n.preventDefault(),E(e,t),e.responsedKey="ESC"}function d(e,t,n,r){n.preventDefault();var i=t.find(".ti-dropdown-option-selected");if(i.length<1)return;var s=i.scope().suggestion,o=v(e,s.id),u===!1&&e.$dominatorInput.val(o),e.$dominatorInput.triggerHandler("input"),E(e,t),o!==u&&e.$dominatorInput.trigger("contentChange");var a={evtName:"select",attrs:r,scope:e,params:{event:n,option:s},isDelay:!1};window.tiny.utils.applyCallback(a),e.responsedKey="ENTER"}function v(e,t){var n=-1;for(var r=0;r<e.suggestions.length;r++)if(e.suggestions[r].id===t){n=r;break}return n!==-1?e.suggestions[n][e.major]:""}function m(e,t){if(e.length<1||t.length<1)return-1;for(var n=0;n<t.length;n++)if(e[0]===t[n])return n;return-1}function g(e,t){var n=[];return t===""?(n=e.suggestions,n):(n=_.filter(e.suggestions,function(n){return y(n,t,e)}),n)}function y(e,t,n){var r=n.fields,i=!1;for(var s=0;s<r.length;s++)if(_.isString(e[r[s]])&&e[r[s]]!==""){i=e[r[s]].toLowerCase().indexOf(t.toLowerCase())>=0;if(i)break}return i}function b(e,t,n){if(e.length<1)return[];if(t==="")return e;for(var r=0;r<e.length;r++){var i=n.fields,s;for(var o=0;o<i.length;o++){s=e[r][i[o]];var u=$("<span>");u.addClass(n.highlight).html(t);try{var a=new RegExp(t);e[r][i[o]]=s.replace(a,u[0].outerHTML)}catch(f){return[]}}}return e}function w(e,t){e.$watch("suggestions",function(t){e.copyList=angular.copy(t)},!0),e.$watch("isShowPanel",function(n,r){if(n===r||_.isUndefined(n))return;n?f(e,t):E(e,t)})}function E(e,t){t.find(".ti-dropdown-option").removeClass("ti-dropdown-option-selected"),t.hide(),e.show=!1,e.$evalAsync()}function S(e,n){if(e.copyList.length<1){E(e,n);return}x(e,n),T(e,n),L(e,n),e.show=!0;if(e.isFirstUnselected)return;t(function(){C(n)},10)}function x(e,t){var n=e.$dominatorInput.outerHeight(),r=n*8,i=e.$dominator.outerWidth();e.panelMaxHeight=_.isUndefined(e.panelMaxHeight)?r:e.panelMaxHeight,t.css({"line-height":n+"px","min-width":i+"px"}),t.find(">ul").css("max-height",e.panelMaxHeight)}function T(t,n){var r=t.$dominator,i=r.outerHeight(),s=r.offset(),o=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,u=o+$(document).scrollTop()-s.top-i-e.gap,a=s.top-$(document).scrollTop()-e.gap,f=k(n),l=r[0].getBoundingClientRect(),c;f<=u?(n.css({bottom:"",display:"block",top:l.top+i+e.gap/2+"px",left:l.left+"px"}),c=parseInt(N(t.panelMaxHeight,u),10)+"px",t.showStyle="down"):f<=a?(n.css({top:"",display:"block",bottom:o-l.top+e.gap/2+"px",left:l.left+"px"}),c=parseInt(N(t.panelMaxHeight,a),10)+"px",t.showStyle="up"):a>u?(n.css({top:"",display:"block",bottom:o-l.top+e.gap/2-1+"px",left:l.left+"px"}),c=parseInt(N(t.panelMaxHeight,a),10)+"px",t.showStyle="up"):(n.css({bottom:"",display:"block",top:l.top+i+e.gap/2-1+"px",left:l.left+"px"}),c=parseInt(N(t.panelMaxHeight,u),10)+"px",t.showStyle="down"),n.find(">ul").css("max-height",c)}function N(e,t){var n=parseInt(e,10);return n<t?n:t}function C(e){var t=e.find(".ti-dropdown-option");t.removeClass("ti-dropdown-option-selected"),t.first().addClass("ti-dropdown-option-selected"),e.find(">ul").scrollTop(0)}function k(e){var t=e.clone();t.css({display:"block",visibility:"hidden",left:"-9999px",position:"absolute"}).appendTo($("body"));var n=t.outerHeight();return t.remove(),n}function L(e,t){var n=parseInt(e.panelWidth,10);if(!isNaN(n))(e.panelWidth==="auto"){t.css("w].offsetWidth,10)+"px");if(!window.tiny.utils.browser.ie){t[0].style.width=null;var r=t[0].clientWidth,i=t[0].offsetWidth,s=i-r;i>r+2&&t.outerWidth()<t.outerWidth()+s&&t.css("width",t.outerWidth()+s-2)}}else t.css("width",parseInt(e.$dominator[0].offsetWidth,10)+"px")}var r={restrict:"E",replace:!0,scope:{dominator:"=?",suggestions:"=?",panelMaxHeight:"=?",panelWidth:"=?",highlight:"=?",major:"=?",fields:"=?",showStyle:"=?",tipConfig:"=?",show:"=?",elementId:"=?",select:"&",beforeOpen:"&",isFirstUnselected:"=?",isModifyInput:"=?",isShowPanel:"=?",responsedKey:"=?"},templateUrl:"/tiny-components/src/components/suggestion/suggestion.html",link:i};return r}return e.constant("suggestionConfig",{highlight:"ti-suggestion-highlight",suggestions:[],major:"label",fields:["label"],panelWidth:"justify",gap:10}),e.directive("tiSuggestion",t),t.$inject=["suggestionConfig","$timeout","$log"],e.name}),define("components/autoComplete/autoComplete",["components/module","components/suggestion/suggestion"],function(e){"use strict";function t(e){function t(e,t){n(e,t),r(e)}function n(e,t){i(e,t)}function r(e){e.$on("item.select",function(t,n){e.$broadcast("item.select.broadcast",n)})}function i(t,n){t.configs&&_.isString(t.configs.elementId)&&t.configs.elementId!==""?t.sugElemId=t.configs.elementId+"_suggestion":t.sugElemId="";var r='<ti-suggestion dominator="configs.dominator"suggestions="configs.suggestions"highlight="configs.highlight"panel-max-height="configs.panelMaxHeight"panel-width="configs.panelWidth"major="configs.major"fields="configs.fields"select="configs.select"element-id="sugElemId"tip-config="configs.tipConfig"before-open="configs.beforeOpen"></ti-suggestion>',i=e(r),o=t.$new();o.configs=angular.copy(t.configs),o.configs.dominator=n[0],i(o),s(t,o)}function s(e,t){e.$watch("configs.suggestions",function(e,n){if(e===n)return;t.configs.suggestions=e},!0)}return{restrict:"A",replace:!0,scope:{configs:"=?tiAutoComplete"},link:t}}return e.directive("tiAutoComplete",t),t.$inject=["$compile","$timeout"],e.name}),define("components/buttonGroup/btnRadioGroup",["components/module","components/buttonGroup/btnGroupCommon"],function(e){"use strict";function t(){var e={restrict:"E",replace:!0,scope:{items:"=?",selectedId:"=?",activeClass:"=?",type:"=?",minWidth:"=?",elementId:"=?",change:"&",enableDeselect:"=?"},controller:["$scope",r],transclude:!0,templateUrl:"/tiny-components/src/components/buttonGroup/btnGroup.html",link:n};return e}function n(e,t){_.isUndefined(t.attr("no-border"))||t.addClass("ti-btn-item-radio-no-border"),_.isUndefined(e.selectedId)&&(e.selectedId=""),_.isUndefined(e.enableDeselect)&&(e.enableDeselect=!1),e.minWidth=_.isNaN(parseInt(e.minWidth),10)?0:e.minWidth,e.$watch("items",function(e){_.isArray(e)&&e.length===1&&t.find(".ti-btn-item").css("border-radius","2px")},!0),t.on("$destroy",functioiveClass||"ti-active";this.selectItem=function(t,n){if(e.enableDeselect){t!==e.selectedId?e.selectedId=t:e.selectedId="",e.$apply(),_.isFunction(e.change())&&(e.change()(n.item),e.$evalAsync());return}t!==e.selectedId&&(e.selecge()(n.item),e.$evalAsync()))},this.setActiveClass=function(n){return n===e.selectedId?t:""};var n=_.isString(e.elementId)?e.elementId:"";this.elementId=n,this.selectedId=e.selectedId}return e.directive("tiBtnRadioGroup",t),e.name}),define("components/alert/alert",["components/module"],function(e){"use strict";function t(e){function t(t,n){function r(){o(),t.hasLabel=_.isString(t.label)?!0:t.label,t.typeIcon=_.isUndefined(t.typeIcon)?!0:t.typeIcon,t.closeIcon=_.isUndefined(t.closeIcon)?!0:t.closeIcon,t.show=_.isUndefined(t.show)?!0:t.show,t.autoRemove=_.isUndefined(t.autoRemove)?!1:t.autoRemove,t.show&&u(),a(),t.elementId=_.isString(t.elementId)?t.elementId:""}function i(){t.$watch("type",function(e,t){if(e===t)return;o()}),t.$watch("show",function(e,n){if(e===n){e&&s();return}t.show&&u(),s()})}function s(){if(!t.isTriggerScroll)return;setTimeout(function(){$(document).trigger("tiScroll")},0)}function o(){if(t.type==="prompt"||t.type==="error"||t.type==="warn"||t.type==="success"||t.type==="default")return;t.type="success"}function u(){var r=parseInt(t.dismissOnTimeout,10);if(_.isNaN(r))return;t.timeoutPromise=e(function(){t.show=!1,t.autoRemove===!0&&n.remove()},r)}function a(){if(!t.closeIcon)return;t.closeFn=function(){t.show=!1,t.autoRemove===!0&&n.remove(),_.isUndefined(t.timeoutPromise)||(e.cancel(t.timeoutPromise),t.timeoutPromise=undefined)}}r(),i()}return{restrict:"E",scope:{label:"=?",type:"=?",typeIcon:"=?",closeIcon:"=?",show:"=?",dismissOnTimeout:"=?",elementId:"=?",isTriggerScroll:"=?",autoRemove:"=?"},templateUrl:"/tiny-com}return e.directive("tiAlert",t),t.$inject=["$timeout"],e.name}),define("components/tagSearch/tagSearch",["components/module","components/suggestion/suggestion"],function(e){"use strict";function n(){var e=this.defaultValue={};this.setDefaults=function(t){angular.extend(e,t)},this.$get=function(){var e={defaultValue:this.defaultValue};return e}}function r(e,t){function r(e,t,n){i(e,t),s(e,t),a(e,t)}function i(e,t){e.inputValue="",e.elementId=_.isString(e.elementId)?e.elementId:"",e.elementId!==""?(e.inputElemId=e.elementId+"_input",e.sugElemId=e.elementId+"_suggestion",e.listsElemId=e.elementId+"_lists"):(e.inputElemId="",e.sugElemId="",e.listsElemId=""),e.autoComplete={elem:t,elementId:e.sugElemId,panelMaxHeight:"300px",panelWidth:e.panelWidth,suggestions:f(e.suggestions,e.selected),highlight:e.highlight,showStyle:"down",show:!1,select:function(n,r){if(n.type==="keydown")return;var i=_.findLastIndex(e.suggestions,{id:r.id});if(i===-1)return;e.selected.push(e.suggestions[i]),e.autoComplete.suggestions=f(e.suggestions,e.selected),$(".ti-tagSearch-input",t).val(""),e.inputValue=""}},setTimeout(function(){setTimeout(function(){e.showSuggestion=!0,e.$evalAsync()},0)},0),e.isFocused=!1,e.selected=_.isArray(e.selected)?e.selected:[],e.hasPlaceholder=!1,l(e,t,!0)}function s(t,n){t.clearFn=function(e){var n=t.selected,r=_.findLastIndex(n,{id:e.id});t.selected=_.without(n,n[r]),t.selected.length===0?t.isManualClear=!0:t.isManualClear=!1},t.listsClickFn=function(){$(".ti-tagSearch-input",n)[0].focus()},t.inputKeyupFn=function(n){var r=n.which||n.keyCode;if(r===13||r===108){var i=$(n.target),s=i.val();i.val(""),t.inputValue="",e(function(){i.triggerHandler("focus")},0);if(s.trim()===""||o(t,s))return;u(t,s)}},t.inputKeydownFn=function(n){var r=n.which||n.keyCode;if(r===8){if($(n.target).val()!=="")return;var i=t.selected.length;if(i===0)return;var s=t.selected[i-1],o=_.findLastIndex(t.suggestions,{id:s.id});t.selected.pop(),t.selected.length===0?t.isManualClear=!0:t.isManualClear=!1,o!==-1&&(t.autoComplete.suggestions=f(t.suggestions,t.selected));var u=$(n.target);e(function(){u.triggerHandler("focus")},0)}},t.inputFocusFn=function(){t.isFocused=!0},t.inputBlurFn=function(){t.isFocused=!1;var e=t.inputValue;t.inputValue="";if(e.trim()===""||o(t,e))return;u(t,e)}}function o(e,t){return _.findLastIndex(e.selected,{label:t})!==-1}function u(e,t){var n=_.findLastIndex(e.suggestions,{label:t});if(n!==-1){var r=_.findLastestions[n].id});if(r!==-1){e.selected.push(e.suggestions[n]),e.autoComplete.suggestions=f(e.suggestions,e.selected);return}}e.selected.push({id:t,label:t})}function a(e,t){e.$watch("inputValue",function(e){e?$(".ti-tagSearch-input",t).css("width","100%"):$(".ti-tagSearch-input",t).css("width","15px")}),e.$watch("suggestions",function(t,n){if(t===n)return;if(!_.isArray(t)){e.suggestions=n;return}e.suggestions=angular.copy(t),e.autoComplete.suggestions=f(e.suggestions,e.selected)},!0),e.$watch("selected",function(n,r){if(n===r)return;if(!_.isArray(n)){e.selected=r;return}e.selected=n,e.autoComplete.suggestions=f(e.suggestions,e.selected),l(e,t),c(e)},!0)}function f(e,t){var n=e.concat(),r,i;for(r=0;r<t.length;r++)i=_.findLastIndex(n,{id:t[r].id}),i!==-1&&n.splice(i,1);return n}function l(e,t,n){var r=$(".ti-tagSearch-input",t),i=r.parent();e.hasPlaceholder||(window.tiny.utils.placeholder.setPlaceholder(r,e.placeholder),e.hasPlaceholder=!0),!_.isString(e.placeholder)||e.selected.length!==0?(i.width("auto"),window.tiny.utils.placeholder.clearPlaceholder(r[0]),window.tiny.utils.placeholder.updatePlaceholder(r,"")):(setTimeout(function(){i.width("100%"),e.$evalAsync()},0),n||(window.tiny.utils.browser.ie===!0&&r.addClass("ti-placeholder"),window.tiny.utils.placeholder.updatePlaceholder(r,e.placeholder),e.isManualClear?(r.triggerHandler("focus"),e.isManualClear=!1):window.tiny.utils.browser.ie===!0&&document.activeElement!==r[0]&&_.isFunction(r[0].onblur)&&r[0].onblur()))}function c(e){if(!_.isFunction(e.change()))return;e.change()()}var n={restrict:"E",scope:{suggestions:"=?",selected:"=?",placeholder:"=?",highlight:"=?",elementId:"=?",change:"&",panelWidth:"=?"},templateUrl:"/tiny-components/src/components/tagSearch/tagSearch.html",replace:!0,link:r};return n}var t=window.tiny.utils;return e.provider("tagSearchService",n),e.directive("tiTagSearch",r),r.$inject=["$timeout","tagSearchService"],e.name}),define("components/slider/slider",["components/module"],function(e){function n(e){return{restrict:"E",replace:!0,scope:{limits:"=?",scales:"=?",step:"=?",value:"=?",lengthScale:"=?",disable:"=?",tooltip:"=?",elementId:"=?",change:"&",changeStop:"&"},templateUrl:"/tiny-components/src/components/slider/slider.html",link:function(t,n,i){r(t,n,i,e),u(t,n,i,e),a(t,n,e)}}}function r(e,t,n,r){i(e,t),s(e,t,n),o(e,t,r)}function i(e,t){e.$pointerEle=angular.element(".ti-slider-pointer",t),e.$pointerMaxEle=angular.element(".ti-slider-pointer-max",t),e.$pointerMinEle=angular.element(".ti-slider-pointer-min",t),e.$selectionEle=angular.element(".ti-slider-bar-selection",t),e.$trackEle=angular.element(".ti-slider-track-calc",t),e.$tipEle=angui-slider-tip-max",t),e.$tipEleMin=angular.element(".ti-slider-tip-min",t)}function s(e,n,r){e.disable=_.isUndefined(e.disable)?t.disable:e.disable;var i=parseFloat(e.step);e.step=isNaN(i)?t.step:i,e.isDouble=_.isArray(e.value),e.isDouble&&e.$pointerMinEle.show(),e.tooltip=angular.extend({},t.tooltip,e.tooltip),e.isTipAutoShow=e.tooltip.showStyle!=="always",e.isTipAutoShow?e.$tipEle.hide():e.$tipEle.show(),e.pointerWidth=$(".ti-slider-pointer-max").width(),e.elementId=_.isString(e.elementId)?e.elementId:"",!r.id&&e.elementId!==""&&n.attr("id",e.elementId),e.elementId!==""?(e.pointerMaxEleId=e.elementId+"_max",_.isArray(e.value)?e.pointerMinEleId=e.elementId+"_min":e.pointerMinEleId=""):(e.pointerMaxEleId="",e.pointerMinEleId="")}function o(e,t,n){e.calcTickMaxWidth=function(t){var n=e.ticks.length,r=1/(n-1);return t===0||t===n-1?e.commonFn.parseToCalcStyle(r,e.pointerWidth/2):e.commonFn.parseToCalcStyle(r)},e.isSelectTick=function(t){var n=e.min,r=e.max,i=e.value,s=e.ticks.length;if(e.isDouble){var o=t/s>=(i[0]-n)/(r-n),u=t/s<=(i[1]-n)/(r-n);return o&&u}return t/s<=(i-n)/(r-n)},e.commonFn={getBarWidth:function(){return e.$trackEle[0].getBoundingClientRect().width},getDecimalDigit:function(){var t=[];for(var n=0;n<e.lengthScale.length;n++){var r=e.lengthScale[n].toString().split(".")[1].length;t.push(r)}return Math.max.apply(null,t)},parseToCalcStyle:function(e,t){return isNaN(t)?"calc("+e*100+"%)":"calc("+e*100+"% - "+t+"px)"},getValuePercent:function(t,n){var r=this.getDecimalDigit();e.decimalDigit=r;var i=0;for(var s=0;s<n;s++)i=Number((i+e.lengthScale[s]).toFixed(r));return i+(t-e.ticksArr[n])/(e.ticksArr[n+1]-e.ticksArr[n])*e.lengthScale[n]},setPointerPos:function(t,r){var i,s=e.min,o=e.max,u;if(!_.isUndefined(e.lengthScale)){if(!e.ticks)return;var a=e.ticks;e.ticksArr=[];for(var f=0;f<a.length;f++)a[f]!==null&&e.ticksArr.push(n.parseNumber(a[f]));for(var l=0;l<e.ticksArr.length-1;l++)t>=e.ticksArr[l]&&t<=e.ticksArr[l+1]&&(i=this.getValuePercent(t,l))}else i=(t-s)/(o-s);u=this.parseToCalcStyle(i),r.css("left",u)},valueToPosition:function(t,n){this.setPointerPos(t,n);if(e.isDouble){var r=this.getBarWidth(),i=e.$pointerMaxEle[0].getBoundingClientRect().left,s=e.$pointerMinEle[0].getBoundingClientRect().left;e.$selectionEle.css({width:(i-s)*100/r+"%",left:e.$pointerMinEle[0].style.left})}else e.$selectionEle.css({width:e.$pointerMaxEle[0].style.left,left:0});setTimeout(function(){e.commonFn.setTip(n.find(".ti-slider-tip"),t)},0)},limitValue:function(e,t,n){var r=e;return r<t?r=t:r>n&&(r=n),r},setTip:function(t,n){var r=e.tooltip.formatter(n);t.html(r);var i=t.css("display");t.css("display","block");var s=t[0].getBoundingClientRect().width;t.css("left",-(s-e.pointerWidth)/2),t.css("display",i);if(e.isDouble&&!e.isTipAutoShow){e.$tipEle.removeClass("ti-slider-tip-bottom").addClass("ti-slider-tip-top"),e.$tipEle.show();var o=e.$selectionEle[0].getBoundingClientRect().width;if(o===0){t.hasClass("ti-slider-tip-max")?e.$tipEleMin.hide():e.$tipEleMax.hide();return}var u=e.$tipEleMax[0].getBoundingClientRect().width,a=e.$tipEleMin[0].getBoundingClientRect().width;(u+a)/2>=o&&t.removeClass("ti-slider-tip-top").addClass("ti-slider-tip-bottom")}}}}function u(e,t,n,r){function u(){var t=e.value;t!==o&&b()}function a(t){var n=l(t);g(n),e.isTipAutoShow&&t.helper.find(".ti-slider-tip").show(),i.setTip(t.helper.find(".ti-slider-tip"),n)}function f(t){var n=l(t);e.isTipAutoShow&&t.helper.find(".ti-slider-tip").hide(),i.valueToPosition(n,t.helper),u()}function l(t){var n=w(t),r=p(n);return e.isDouble&&c(t.helper),r}function c(t){e.$pointerEle.css("z-index",1),t.css("z-index",2)}function h(t){var n=e.$trackEle[0].getBoundingClientRect().left,r=t.clientX-n;r=i.limitValue(r,0,i.getBarWidth());var s=d(r),o=e.$pointerMaxEle;if(e.isDouble){var a=e.value,f=e.min,l=(a[0]+a[1])/2;s>=f&&s<l?(o=e.$pointerMinEle,e.pointerChange="min"):e.pointerChange="max"}s=m(s),g(s),i.valueToPosition(s,o),u()}function p(e){var t=d(e);return t=m(t),t}function d(t){var n=i.getBarWidth(),r=t/n;return _.isUndefined(e.lengthScale)?e.min+r*(e.max-e.min):v(t,n,r)}function v(t,n,r){var i=0,s=0,o=0,u=e.decimalDigit;for(var a=0;a<e.ticksArr.length-1;a++){i=n*e.lengthScale[a],a===0?(o=0,s=0):(o=Number((o+e.lengthScale[a-1]).toFixed(u)),s=n*o);var f=t-s;if(r<=Number((o+e.lengthScale[a]).toFixed(u))&&r>=o)return e.ticksArr[a]+f/i*(e.ticksArr[a+1]-e.ticksArr[a])}}function m(t){t=r.parseNumber(t);var n=e.min,i=e.step,s,o=Math.round((t-n)/i);if(i.toString().indexOf(".")!==-1){var u=i.toString().split(".")[1].length;s=(n+o*i).toFixed(u)}else s=n+o*i;return parseFloat(s,10)}function g(t){e.isDouble?e.pointerChange==="max"&&t!==e.value[1]?(e.value=[e.value[0],t],e.$evalAsync(),y()):e.pointerChange==="min"&&t!==e.value[0]&&(e.value=[t,e.value[1]],e.$evalAsync(),y()):t!==e.value&&lAsync(),y())}function y(){e.isInnerChange=!0;var t={evtName:"change",attrs:n,scope:e,params:{option:e.value},isDelay:!0};window.tiny.utils.applyCallback(t)}function b(){var t={evtName:"changeStop",attrs:n,scope:e,params:{option:e.value},isDelay:!0};window.tiny.utils.applyCallback(t)}function w(t){var n=t.position.left,r=i.getBarWidth(),s,o;return e.isDouble?(t.helper.hasClass("ti-slider-pointer-max")?(s=parseFloat(e.$pointerMinEle.css("left")),n=i.limitValue(n,s,r),o=n,e.pointerChange="max"):(o=parseFloat(e.$pointerMaxEle.css("left")),n=i.limitValue(n,0,o),s=n,e.pointerChange="min"),t.position.left=n,e.$selectionEle.css({width:o-s,left:s})):(n=i.limitValue(n,0,r),t.position.left=n,e.$selectionEle.css("width",n)),n}var i=e.commonFn;e.isTipAutoShow&&(e.$pointerEle.on("mouseover",function(){(this).find(".ti-slider-tip").show()}),e.$pointerEle.on("mouseleave",function(){if(e.disable)return;angular.element(this).find(".ti-slider-tip").hide()})),$(".ti-slider-pointer",t).draggable({axis:"x",containment:t,drag:function(t,n){if(e.disable)return;a(n)},stop:function(t,n){if(e.disable)return;f(n)}});var s=!1;e.mousedownFn=function(){s=!0};var o;$(".ti-slider-track-container",t).on("mousedown",function(t){o=e.value;if(s){s=!1;return}if(e.disable||$(t.target).hasClass("ti-slider-pointer"))return;h(t)}),t.on("$destroy",function(){e.$destroy()})}function a(e,n,r){var i=e.commonFn;e.$watch("limits",function(n,r){var i=angular.extend({},r,n),s=parseFloat(i.min),o=parseFloat(i.max);if(isNaN(s)||isNaN(o)||s>=o)s=t.limits.min,o=t.limits.max;e.min=s,e.max=o,e.limits={min:s,max:o}},!0),e.$watch("value",function(t){function s(t){var n=f(t);e.value=n,e.$pointerMinEle.show(),e.$pointerEle.css("z-index",1),n[0]===n[1]&&n[0]===r&&e.$pointerMinEle.css("z-index",2),i.valueToPosition(n[0],e.$pointerMinEle),i.valueToPosition(n[1],e.$pointerMaxEle)}function o(t){var n=a(t);e.value=n,e.$pointerMinEle.hide(),i.valueToPosition(n,e.$pointerMaxEle)}function u(e,t,n){return e<t||e>n}function a(e){return isNaN(e)||e<n?n:e>r?r:e}function f(e){function o(){return isNaN(t)||isNaN(i)||u(t,n,r)||u(i,n,r)||t>i}var t=parseFloat(e[0]),i=parseFloat(e[1]),s;return o()?s=[n,r]:s=[t,i],s}if(e.isInnerChange){e.isInnerChange=!1;return}var n=e.min,r=e.max;e.ises",function(t){function m(t,n){var r=Number(Math.pow(.1,n).toFixed(n)),i=1,s=0;for(var o=0;o<parseInt(1/r,10);o++)s=Number((s+r).toFi=-1?u.push(null):(u.push(e.ticks[i]),i++)}function g(e){var t,r,i=(o-s)/n,u=[];for(var a=0;a<=i;a++)r=n*a+s,t=e(r,s,o),_.isUndefse if(_.isArray(t))e.ticks=angular.copy(t);else{var a=(o-s)/n;u.push(s);for(var f=0;f<a-1;f++)u.push("");u.push(o),e.ticks=u}if(!_.isUndefined(e.lengthScale)){u=[e.ticks[0]];var l=0,c=i.getDecimalDigit(),h=[];for(var p=0;p<e.lengthScale.length;p++)l=Number((l+Number(e.lengthScale[p])).toFixed(c)),h.push(l);m(h,c),e.ticks=u}var d=undefined;for(var v=0;v<e.ticks.length;v++)Number(e.ticks[v])&&(e.ticks[v]=r.formatNumber(e.ticks[v],d));e.isDouble?(e.value[0]=e.value[0]<s?s:e.value[0],e.value[1]=e.value[1]>o?o:e.value[1],i.valueToPosition(e.va},!0),e.$watch("disable",function(t){e.$pointerEle.draggable("option","disabled",t)})}e.directive("tiSlider",n),n.$inject=["tiService"];var t={limits:{min:0,max:10},step:1,disable:!1,tooltip:{showStyle:"auto",formatter:function(e){return e}}};return e.name}),define("components/timeline/timeline",["components/module"ctive("tiTimeline",function(){return{restrict:"EA",transclude:!0,replace:!0,template:'<ul class="ti-tl" ng-transclude></ul>'}}).directive("tiTimelineAxis",function(){return{require:"^tiTimeline",restrict:"EA",transclude:!0,replace:!0,template:'<div class="ti-tl-axis-default" ng-transclude></ul>'}}).directive("tiTimelineItem",function(){return{require:"^tiTimeline",restrict:"EA",transclude:!0,replace:!0,template:'<li class="ti-tl-item" ng-transclude></li>'}}).directivrequire:"^tiTimelineItem",restrict:"EA",transclude:!0,replace:!0,template:'<div class="ti-tl-badge-default" ng-transclude ></div>'}}).directive("tiTimelinePanel",function(){return{require:"^tiTimelineItem",restrict:"EA",transclude:!0,replace:!0,template:'<div><div class="ti-tl-panel-default" ng-transclude></div></div>'}})}),define("components/pathList/pathList",["components/module"],function(e){"use strict";function t(){function e(e){_.isArray(e.items)||(e.items=[]),e.mouseleaveItemFn=function(e){if(e.enableDelete===!1)return;e.showClear=!1},e.mouseenterItemFn=function(e){if(e.enableDelete===!1)return;e.showClear=!0},e.clearClickFn=function(t){e.items.splice(t,1)},e.isString=function(e){return _.isString(e)},_.each(e.items,function(e){e.tiTipConfig={content:$.encoder.encodeForHTML(e.label)}})}return{restrict:"E",scope:{items:"=?",elementId:"=?"},templateUrl:"/tiny-components/src/components/pathList/pathList.html",replace:!0,link:e}}return e.directive("tiPathList",t),e.name}),define("components/pathField/pathField",["components/module","components/dropdown/dropdown","components/text/text"],function(e){"use strict";function t(){function e(e,n){t(e,n),o(e,n),c(e,n)}function t(e,t){e._items=$.extend([],e.items,!0),e.editable=_.isUndefined(e.editable)?!0:e.editable,e.panelWidth=_.isUndefined(e.panelWidth)?"auto":e.panelWidth,e.isEditorState=_.isUndefined(e.isEditorState)||!e.editable?!1:e.isEditorState,e.elementId=_.isString(e.elementId)?e.elementId:"",e.elementId!==""?(e.iconElemId=e.elementId+"_icon",e.itemBoxElemId=e.elementId+"_item_box",e.dropdownId=e.elementId+"_dropdown",e.inputElemId=e.elementId+"_input"):(e.iconElemId="",e.itemBoxElemId="",e.dropdownId="",e.inputElemId=""),i(e,t),n(e),a(e,t)}function n(e){if(e.menuItems.length===0){e.showMenuIcon=!1;return}e.showMenuIcon||(e.isInitDropdown=!1),e.showMenuIcon=!0}function r(e,t){e.dropDownOptions={dominator:$(".ti-pathField-menu-icon-container",t),show:!0,panelWidth:e.panelWidth,changeFn:function(r){var o=_.findLastIndex(e.menuItems,{id:r});o=e.menuItems.length-o,e._items.splice(o),e.items.splice(o),i(e,t),n(e),s(e,{type:"dropdownSelect"})}}}function i(e,t){var n=$('<div class="ti-pathField-item-container"></div>');n.width("auto"),$("body").append(n),e.menuItems=[],e.showItems=[];var r=t.width()-22,i="",s=!1,o=e._items;for(var u=o.length-1;u>=0;u--){if(s){e.menuItems.push({label:$.encoder.enc}i='<div class="ti-pathField-item">'+$.encoder.encodeForHTML(o[u].label)+' <span class="ti-pathField-ii));if(n.width()>r){s=!0,e.menuItems.push({label:$.encoder.encodeForHTML(o[u].labes.unshift(o[u]):(s=!0,e.menuItems.push({label:$.encoder.encodeForHTML(o[u].label),id:u}))}n.remove()}function s(e,t){if(!_.isFunction(e.change()))return;e.$evalAsync(),setTimeout(function(){var n=e.change()(t);n!==!1&&(e.isEditorState=!1),e.$evalAsync()},0)}function o(e,t){e.itemClickFn=function(r,o){if(r===e.showItems.length-1)return;e.isClickItem=!0;var u=e.showItems.length-r-1;e._items.splice(e._items.length-u,u),e.items.splice(e.items.length-u,u),i(e,t),n(e),s(e,o)},e.itemContainerClickFn=function(){if(e.isClickItem){e.isClickItem=!1;return}if(!e.editable)return;e.isEditorState=!0,e.isInitDropdown=!1,a(e,t)},e.openDropdownFn=function(){e.isOpenDropdown=!0;if(e.isInitDropdown){e.dropDownOptions.show=!e.dropDownOptions.show;return}u(e,t)}}function u(e,t){function n(){if(!e.dropDownOptions.show||e.isOpenDropdown){e.isOpenDropdown=!1;return}e.$evalAsync(function(){e.dropDownOptions.show=!1})}e.isInitDropdown=!0,r(e,t),$(document).bind("mousedown",n)){e.textOption={pathText:l(e),oldPathText:l(e),isFocused:!0,blurFn:function(){e.isEditorState=!1,e.isInitDropdown=!1},keydownFn:function(n){if(n.keyCode===108||n.keyCode===13)f(e,t),s(e,n)}}}function f(e,t){var r=e.textOption.pathText.split("/");e.items=[],e._items=[];for(var s=0;s<r.length;s++)e._items.push({label:r[s]}),e.items.push({label:r[s]});i(e,t),n(e)}function l(e){var t="";for(var n=0;n<e.items.length;n++)t+=e.items[n].label,n!==e.items.length-1&&(t+="/");return t}function c(e,t){e.$watch("items",function(r,s){_.each(r,function(t){e.elementId!==""&&_.isString(t.id)&&t.id!==""?t.elemId=e.elementId+"_"+t.id:t.elemId=""});if(r===s)return;if(!_.isArray(r)){e.items=s;return}e._items=$.extend([],e.items,!0),i(e,t),n(e),a(e,t)})}return{restrict:"E",scope:{items:"=?",change:"&",isEditorState:"=?",elementId:"=?",editable:"=?",panelWidth:"=?"},templateUrl:"/tiny-components/src/components/pathField/pathField.html",replace:!0,link:e}}return e.directive("tiPathField",t),e.name}),define("components/tree/tree",["components/module"],function(e){"use strict";function t(){function e(e){return!angular.isArray(e.children)}function t(e){return _.isString(e)||_.isNumber(e)}function n(t,r){var i;for(var s=0;s<r.length;s++){if(r[s].id===t)return r[s];e(r[s])||(i=n(t,r[s].children));if(!_.isUndefined(i))return i}return i}function r(t){t.isChecked=!0,e(t)||t.children.forEach(function(e){r(e)})}function i(e,t,r){var s=n(e.pId,t);if(angular.isUndefined(s))return;if(r==="PARTIAL"){s.isChecked="PARTIAL",i(s,t,"PARTIAL");return}var o=s.children,u=0;for(var a=0;a<o.length;a++)o[a].isChecked===!0&&u++;u===o.length?(s.isChecked=!0,i(s,t,!0)):(s.isChecked="PARTIAL",i(s,t,"PARTIAL"))}function s(t){t.isChecked=!1,e(t)||t.children.forEach(function(e){s(e)})}function o(e,t){var r=n(e.pId,t);if(angular.isUndefined(r))return;var s=r.children,u=0;for(var a=0;a<s.length;a++)(s[a].isChecked===!0||s[a].isChecked==="PARTIAL")&&u++;u===0?(r.isChecked=!1,o(r,t)):(r.isChecked="PARTIAL",i(r,t,"PARTIAL"))}this.tiGetNodeById=function(n,r){if(!t(r)||!_.isArray(n))return;var i;for(var s=0;s<n.length;s++){if(n[s].id===r)return n[s];e(n[s])||(i=this.tiGetNodeById(n[s].children,r))}return i},this.tiAddNode=function(t,n,r){var i=parseInt(r,10);if(_.isNaN(i)||!_.isArray(t))return;var s=_.isArray(n)?n:[n],o=th(!o){r===-1&&(r=t.length);for(var u=0;u<s.length;u++)t.splice(r+u,0,s[u]);return}e(o)&&(o.children=[]);if(r===-1)o.children=o.children.concat(s);else for(var a=0;a<s.length;a++)o.children.splice(r+a,0,s[a])},this.tiRemoveNode=function(n,r){o<n.length;o++)n[o].id===r?i++:e(n[o])||(s=this.tiExpandNode(nion(n)||!_.isArray(t))return;for(var r=0;r<t.length;r++)n(t[r]),e(t[r])||this.tiTraverse(t[r].children,n)},this.tiSelectNode=function(e,n,s){function u(e){e.iso=this.tiGetNodeById(e,n);s?(this.tiTraverse(e,u),o.isChecked=!0,i(o,e,!0)):(r(o),i(o,e,!0))},this.tiDeSelectNode=function(e,n,r){function u(e){e.isChecked=!1}if(!t(n)||!_.isArray(e))return;var i=this.tiGetNodeById(e,n);r?this.tiTraverse(e,u):(s(i),o(i,e))},this.tiSearch=function(t,n,r){function u(e,t){e.splice(t,1)}if(!_.isFunction(n)||!_.isArray(t))return;var i=0,s=!1;for(var o=t.length-1;o>=0;o--)!n(t[o])&&!e(t[o])?(s=this.tiSearch(t[o].children,n,r),s?i++:u(t,o)):n(t[o])?(i++,!_.isUndefined(r)&&_.isFunction(r)&&r(t[o])):u(t,o);return i>0},this.$get=function(){return{tiGetNodeById:this.tiGetNodeById,tiAddNode:this.tiAddNode,tiRemoveNode:this.tiRemoveNode,tiExpandNode:this.tiExpandNode,tiTraverse:this.tiTraverse,tiSelectNode:this.tiSelectNode,tiDeSelectNode:this.tiDeSelectNode,tiSearch:this.tiSearch}}}function n(e){function t(e){return e.isExpanded||e.isExpended}function n(e,t){e.isExpandedfunction r(e){return e.beforeExpand||e.beforeExpend}function i(e,t,n){if(t.beforeExpand)return e.beforeExpand(n);if(t.beforeExpend)return e.beforeExpend(n)}function s(e,t,n){if(t.beforeFold)return e.beforeFold(n)}function o(e,t){t.forEach(function(e){c(e)})}function u(e,t,n){n===!0?(l(e),a(e,t,!0)):(c(e),f(e,t))}function a(e,t,n){var r=h(e.pId,t);if(angular.isUndefined(r))return;if(n==="PARTIAL"){r.isChecked="PARTIAL",a(r,t,"PARTIAL");return}var i=r.children,s=0,o=0,u=0,f=0;for(var l=0;l<i.length;l++)i[l].isChecked===!0?i[l].disabled!==!0?s++:o++:i[l].disabled===!0&&u++;f=i.length-o,s===f&&u===0?(r.isChecked=!0,a(r,t,!0)):(r.isChecked="PARTIAL",a(r,t,"PARTIAL"))}function f(e,t){var n=h(e.pId,t);if(angular.isUndefined(n))return;var r=n.children,i=0;for(var s=0;s<r.length;s++)(r[s].isChecked===!0||r[s].isChecked==="PARTIAL")&&i++;i===0?(n.isChecked=!1,f(n,t)):(n.isChecked="PARTIAL",a(n,t,"PARTIAL"))}function l(e){e.disabled!==!0&&(e.isChecked=!0),angular.isArray(e.children)&&e.children.length>0&&e.children.forEach(function(e){l(e)})}function c(e){e.disabled!==!0&&(e.isChecked=!1),angular.isArray(e.children)&&e.children.length>0&&e.children.forEach(function(e){c(e)})}function h(e,t){var n;for(var r=0;r<t.length;r++){if(t[r].id===e)return t[r];angular.isArray(t[r].children)&&t[r].children.length>0&&(n=h(e,t[r].children));if(angular.isObject(n))return n}return n}function p(e){function t(i){var s;for(var o=0;o<i.length;o++){s=i[o];if(n(s)){e.onlySelectLeaf||e.selectedData.push(s),t(s.children);if(!e.multiSelect)return}if(r(s)){e.selectedData.push(s);if(!e.multiSelect)return}}}function n(t){return(t.isChecked===!0||t.isChecked==="PARTIAL")&&!e.isLeaf(t)}function r(t){return t.isChecked===!0&&e.isLeaf(t)}e.selectedData.splice(0,e.selectedData.length),t(e.innerData)}return{restrict:"E",replace:!0,templateUrl:"/tiny-components/src/components/tree/tree.tpl.html",scope:{elementId:"=?",dSelectLeaf:"=?",parentCheckable:"=?",activeId:"=?",select:"&",change:"&",beforeExpend:"&",beforeExpand:"&",beforeFold:"&"},link:function(f,l,c){f.onlySelectLeaf=angular.isUndefined(f.onlySelectLeaf)?!0:f.onlySelectLeaf,f.parentCheckable=angular.isUndefined(f.parentCheckable)?!0:f.parentCheckable,f.innerData=[],f.selectedData=[],angular.isArray(f.data)&&(f.innerData=angular.copy(f.data)),f.showCheckboxFn=function(e){return f.multiSelect!==!0?!1:f.parentCheckable===!0?!0:f.isLeaf(e)},f.clickPnodeIconFn=function(o,u){function l(e){for(var t in e){if(e[t].id===o.id){n(e[t],!0);break}f.isLeaf(e[t])||l(e[t].children)}}u.stopPropagation();if(t(o)){s(f,c,{node:o,$event:u}),n(o,!1),f.data=angular.copy(f.innerData);return}if(!r(c)){n(o,!0),f.data=angular.copy(f.innerData);return}var a=i(f,c,{node:o,$event:u});!_.isUndefined(a)&&_.isFunction(a.then)?a.then(function(){e(function(){l(f.innerData),f.data=angular.copy(f.innerData)},0)}):e(function(){l(f.innerData),f.data=angular.copy(f.innerData)},0)},f.getItemIcon=function(e){var n=f.isLeaf(e);return n?"":t(e)?"ti-icon ti-icon-minus-square":"ti-icon ti-icon-plus-square"},f.isLeaf=function(e){return!angular.isArray(e.children)},f.itemClickFn=function(e,t){if(c.select&&_.isUndefined(l.attr("changed-by-checkbox"))){var n={evtName:"select",attrs:c,scope:f,params:{node:e,$event:t}};window.tiny.utils.applyCallback(n)}},f.changeFn=function(t,n){u(t,f.innerData,t.isChecked),f.data=angular.copy(f.innerData),e(function(){change",attrs:c,scope:f,params:{node:t,$event:n}};window.tiny.utils.applyCallback(e)}},0)},f.itemWrapperClickFn=function(t,n){if(f.multiSelect===!0){if(!f.showCheckboxFn(t))return;if(_.isUndefined(l.attr("changed-by-checkbox"))){if(t.disabled===!0)return;t.isChecked=!tcked)}f.data=angular.copy(f.innerData),e(function(){if(c.select){var e={evtName:"select",attrs:c,scope:f,params:{node:t,$event:n}};window.tiny.utils.applyCallback(e)}if(c.change&&_.isUndefined(l.attr("changed-by-checkbox"))){var e={evtName:"change",attrs:c,scope:f,params:{node:t,$event:n}};window.tiny.utils.applyCallback(e)}},0);return}if(t.isChecked===!0||!f.isLeaf(t)){if(c.select){var r={evtName:"select",attrs:c,scope:f,params:{node:t,$event:n}};window.tiny.utils.applyCallback(r)}return}o(t,f.innerData),t.isChecked=!0,a(t,f.innerData,"PARTIAL"),f.data=angular.copy(f.innerData),e(function(){if(c.select){var e={evtName:"select",attrs:c,scope:f,paramlyCallback(e)}if(c.change){var e={evtName:"change",attrs:c,scope:f,params:{node:t,$event:n}};window.tiny.utils.applyCallback(e)}},0)},f.contentClickFn=function(e){f.activeId=e.id},f.multiSelect||f.$watch("selectedData",function(e){if(angular.isUndefined(e))return;angular.forEach(e,function(e){e.isChecked===!0&&(f.activeId=e.id)})},!0),f.$watch("data",function(e,t){if(angular.isUndefined(e))return;f.innerData=angular.copy(e),p(f)},!0),f.isString=function(e){return _.isString(e)}}}}return e.provider("tiTreeService",t),e.directive("tiTree",n),n.$inject=["$timeout"],e.name}),define("components/maskInput/maskInput",["components/module"],function(e){"use strict";function n(e){function r(n,r,s,a){function c(){var e=n.$eval(s.tiMask);return e=_.isString(e)?e:t.FORMAT,e}function h(e){var t=c(),s=o(e,t),u=i(s);return l(n,u),r[0].tiValue=u,s}function p(e){var t=c(),s=o(e,t);u(e,t,r,n);var f=n.ctxPos;a.$viewValue!==s&&setTimeout(function(){a.$setViewValue(s),a.$render(),r[0]===document.activeElement&&r[0].setSelectionRange(f,f)});var l=i(s);return r[0].tiValue=l,l}var f=e(s.ngModel),l=f.assign;a.$formatters.push(h),a.$parsers.push(p)}function i(e){return e.replace(/\D/g,"")}function s(e,t){var n=t.replace(/[^0]/g,"").length,r=e.replace(/\D/g,"");return r=r.slice(0,n),r}function o(e,n){if(!e)return"";var r=s(e,n),i=r.length,o=0,u,a="",f;for(var l=0,c=n.length;l<c;l++){u=l-o;if(u>=i)break;f=n[l],f===t.NUM_SIGN?a+=r[u]:(o++,a+=f)}return a}function u(e,t,n,r){f(n,r);if(!e)return;r.valueCharPosOffset=0;var i=r.ctxPos;for(var s=0,o=t.length;s<o;s++){if(s-r.valueCharPosOffset>=e.length)break;a(s,e,t,i,r)}}function a(e,n,r,i,s){function f(){if(u.match(/\d/))return;var e;for(var t=o,r=n.length;t<r;t++){e=n[t];if(e.match(/\d/))return;i&&i>=t+1&&s.ctxPos--,s.valueCharPosOffset--}}function l(){if(u.match(/\d/)){s.valueCharPosOffset++,i&&i>=o+1&&s.ctxPos++;return}u!==a&&i&&i>=o+1&&s.ctxPos--}var o=e-s.valueCharPosOffset,u=n[o],a=r[e];a===t.NUM_SIGN?f():l()}function f(e,t){var n=e[0],r;n===document.activeElement&&(r=n.selectionStart),t.ctxPos=r}var n={restrict:"A",require:"ngModel",link:r};return n}e.directive("tiMask",n);var t={NUM_SIGN:"0",FORMAT:"000 0000 0000"};return n.$inject=["$parse"],e.name}),define("components/selectSearchbox/seletSearchbox",["components/module"],function(e){"use strict";function t(){return{link:function(e,t){var n=!1,r=!1,i=!0;t.on("mouseenter",".ti-searchbox-container",function(){i=!1;if(r)return;var e=t.find(".ti-searchbox-container");e[0].style.width=e[0].offsetWidth+1+"px",r=!0}),t.on("mouseleave",".ti-searchbox-container",function(){i=!0;if(n)return;var e=t.find(".ti-searchbox-container");r&&(e[0].style.width=e[0].getBoundingClientRect().width-1+"px",r=!1)}),t.on("focus",".ti-searchbox-input",function(){n=!0;if(r)return;var e=t.find(".ti-searchbox-container");e[0].style.width=e[0].getBoundingClientRect().width+1+"px",r=!0}),t.on("blur",".ti-searchbox-input",function(){n=!1;var e=t.find(".ti-searchbox-container");r&&i&&(e[0].style.width=e[0].getBoundingClientRect().width-1+"px",r=!1)})}}}return e.directive("tiSelectSearchbox",t),e.name}),define("components/intro/intro-content",["components/module"],function(e){"use strict";function t(){var e={restrict:"E",templateUrl:"/tiny-components/src/components/intro/intro-content.html",scope:{introInstance:"=?",stepInfo:"=?",introFinish:"=?"},link:function(e){e.language=tiny.language,e.intro_finish=_.isString(e.introFinish)&&e.introFinish!==""?e.introFinish:e.language.intro_finish}};return e}return e.directive("tiIntroContent",t),e.name}),define("components/intro/intro-tip",["components/module","components/intro/intro-content"],function(e){"use strict";function n(e){function n(e){return{top:e.offset().top,left:e.offset().left,width:e[0].offsetWidth,height:e[0].offsetHeight}}function r(e,t,n){var r,y=g(e.stepInfo.position,t,n);e.position=y;switch(y){case"top":r=i(t,n);break;case"top-left":r=s(t,n);break;case"top-right":r=o(t,n);break;case"bottom":r=u(t,n);break;case"bottom-right":r=a(t,n);break;case"bottom-left":r=f(t,n);break;case"left":r=l(t,n);break;case"left-top":r=c(t,n);break;case"left-bottom":r=h(t,n);break;case"right":r=p(t,n);break;case"right-top":r=d(t,n);break;case"right-bottom":r=v(t,n);break;case"center":r=m(t,n);break;default:}return r}function i(e,n){return{left:n.left-(e.width-n.width)/2,top:n.top-e.height-t.ARROW_HEIGHT-t.SPACE}}function s(e,n){return{left:n.left,top:n.top-e.height-t.ARROW_HEIGHT-t.SPACE}}function o(e,n){return{left:n.left+n.width-e.width,top:n.top-e.height-t.ARROW_HEIGHT-t.SPACE}}function u(e,n){return{left:n.left-(e.width-n.width)/2,top:n.top+n.height+t.ARROW_HEIGHT+t.SPACE}}function a(e,n){return{left:n.left+n.width-e.width,top:n.top+n.height+t.ARROW_HEIGHT+t.SPACE}}function f(e,n){return{left:n.left,top:n.top+n.height+t.ARROW_HEIGHT+t.SPACE}}function l(e,n){return{left:n.left-e.width-t.ARROW_HEIGHT-t.SPACE,top:n.top-(e.height-n.height)/2}}function c(e,n){return{left:n.left-e.width-t.ARROW_HEIGHT-t.SPACE,top:n.top}}function h(e,n){return{left:n.left-e.width-t.ARROW_HEIGHT-t.SPACE,top:n.top+n.height-e.height}}function p(e,n){return{left:n.left+n.width+t.ARROW_HEIGHT+t.SPACE,top:n.top-(e.height-n.height)/2}}function d(e,n){return{left:n.left+n.width+t.ARROW_HEIGHT+t.SPACE,top:n.top}}function v(e,n){return{left:n.left+n.width+t.ARROW_HEIGHT+t.SPACE,top:n.top+n.height-e.height}}function m(e,t){return{left:t.left-(e.width-t.width)/2,top:t.top-(e.height-t.height)/2}}function g(e,n,r){if(_.contains(t.POSITION_ARR,e))return e;var i=document.documentE.documentElement.clientHeight,o=r.left,u=i-o,a=u-r.width,f=r.top,l=s-(f+r.height),c=n.width,h=n.width+t.ARROW_HEIGHT+t.SPACE,p=n.height+t.ARROW_HEIGHT+t.SPACE;return f>=p?u>=c?"top-left":o>=c?"top-right":"top":l>=p?u>=c?"bottom-left":o>=c?"bottom-right":"bottom":o>=h?"left":a>=h?"right":"center"}function y(e,t,n){e.layout.isFixed&&t.css({position:"fixed"}),t.css({left:parseInt(n.left,10)+"px",top:parseInt(n.top,10)+"px"})}return{restrict:"E",templateUrl:"/tiny-components/src/components/intro/intro-tip.html",scotepInfo:"=?",introFinish:"=?",layout:"=?"},replace:!0,link:function(t,i){var s=t.layout;e(function(){var e=n(i),o=r(t,e,s);y(t,i,o)},0)}}}var t={ARROW_HEIGHT:8,SPACE:5,POSITION_ARR:["top","top-left","top-right","bottom","bottom-left","bottom-right","left","left-top","left-right","right","right-top","right-bottom","center"]};return e.directive("tiIntroTip",n),n.$inject=["$timeout"],e.name}),define("components/intro/intro",["components/module","components/common/utils/keymap","components/modal/modal","components/intro/intro-content","components/intro/intro-tip"],function(e,t){function r(e,r,i){function s(s){function u(){a.call(this,1)}function a(e){var t=parseInt(e,10);if(!f.call(this,t))return;this.destroyStepIntro(),this.currentStepNum=t,l.call(this,t)}function f(e){var t=this.options.currentStepNum,n=this.totalStepNum;return!isNaN(e)&&t!==e&&e>0&&e<=n}function l(t){function o(){i.open({template:'<ti-intro-content intro-instance="introInstance"step-info ="stepInfo" intro-finish="introFinish"></ti-intro-content>',controller:["$scope","tiModalInstance",function(e,t){e.stepInfo=r,e.introFinish=s,e.introInstance=_.extend({},n,{destroyStepIntro:function(){t.dismiss()},exit:function(){t.dismiss(),this.options&&this.options.onExit&&this.options.onExit(n)},finish:function(){t.close(),this.options&&this.options.onComplete&&this.options.onComplete(n)}})}],draggable:!1})}function u(){var t=angular.element(r.element);S(t);var n=y(t);b(t,n),C.call(this,r,n,s),this.destroyStepIntro=L,this.exit=H,this.finish=B;var i=this,o=function(){$("#ti-intro-backdrop-id").length!==0&&(O(),b(t,n),C.call(i,r,n,s))};$(window).on("resize.tiIntro",o),e.$watch(function(){return n=y(t),n.left},function(e,t){if(e===t)return;o()}),$(document).on("keydown.introTip",c)}var n=this,r=this.options.steps[t-1],s=this.options.introFinish;if(_.isUndefined(r.element)||angular.element(r.element).length===0){o();return}u.call(this)}function c(e){if(e.isDefaultPrevented())return;var n=angular.element(".ti-intro-tip-flag");if(n.length<1)return;if(e.keyCode===t.KEY_TAB){h(n);var r=!1;if(e.shiftKey){if(m(e)||v(e,n))r=d()}else g(e)&&(r=p());r&&(e.preventDefault(),e.stopPropagation())}}function h(e){var t="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";!_.isUndefined(e)&&e.length>0&&(o=e[0].querySelectorAll(t),o=$(o).filter(":visible"))}function p(){return o.length>0?(o[0].focus(),!0):!1}function d(){return o.length>0?(o[o.length-1].focus(),!0):!1}function v(e,t){return e&&t&&!_.isUndefined(t)&&t.length>0?(e.target||e.srcElement)===t[0]:!1}function m(e){return o.length>0?(e.target||e.srcElement)===o[0]:!1}function g(e){return o.length>0?(e.target||e.srcElement)===o[o.length-1]:!1}function y(e){var t=e[0].offsetTop,r=e[0].offsetLeft,i=e[0].offsetParent;while(i&&!isNaN(i.offsetTop)&&!isNaN(i.offsetLeft))t+=i.offsetTop,r+=i.offsetLeft,i=i.offsetParent;return{top:t-n.ELE_BORDER_PADDING,left:r-n.ELE_BORDER_PADDING,width:e[0].offsetWidth+n.ELE_BORDER_PADDING*2,height:e[0].offsetHeight+n.ELE_BORDER_PADDING*2,isFixed:N(e)}}function b(e,t){var n=document.createElement("canvas");n.id="ti-intro-backdrop-id";var r=n.getContext("2d");E(n,r),w(e,n,r,t),angular.element("body").append(n)}function w(e,t,n,r){if(r.isFixed)$(t).css({position:"fixed",left:0,top:0});else{var i=T(),s=i.left,o=i.top;n.translate(i.left,o),$(t).css({position:"absolute",left:-s,top:-o})}n.clearRect(r.left,r.top,r.width,r.height)}function E(e,t){var n=document.documentElement.scrollWidth,r=document.documentElement.scrollHeight,i=document.documentElement.clientWidth,s=document.documentElement.clientHeight;n-i<=1&&(n=i),r-s<=1&&(r=s),e.width=n,e.height=r,t.fillStyle="rgba(0, 0, 0, 0.2)",t.fillRectClientRect(),r=t.top&&window.scrollBy(0,r-(s/2-t.height/2)+n.ELE_SCROLL_MARGIN),i<0?window.scrollBy(i-(o/2+t.width/2)+n.ELE_SCROLL_MARGIN,0):i>0&&window.scrollBy(i-(o/2-t.width/2)+n.ELE_SCROLL_MARGIN,0)}function x(e){var t=e[0].getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=document.documentElement.clientHeight&&t.right<=document.documentElement.clientWidth}function T(){var e={top:0,left:0},t=$("body").css("position");if(t==="absolute"||t==="relative"||t==="fixed")e=$("body").offset();return e}function N(e){var t=e;return t.length===0||t[0].nodeName==="HTML"?!1:t.css("position")==="fixed"?!0:N(t.parent())}function C(t,n,i){var s=e.$new(!0);s.intro={introInstance:this,stepInfo:t,layout:n,introFinish:i};var o=angular.element('<ti-intro-tip intro-instance="intro.introInstance"layout="intro.layout" step-info="intro.stepInfo" intro-finish="intro.introFinish" class="ti-intro-tip-flag"></ti-intro-tip>');r(o)(s),angular.element("body").append(o)}function k(){angular.element(".ti-intro-tip-flag").remove()}function L(){O(),A()}function A(){$(window).off("resize.tiIntro"),$(document).off("keydown.introTip")}function O(){M(),k()}function M(){$("#ti-intro-backdrop-id").remove()}function D(){var e=this.currentStepNum;e>1&&a.call(this,e-1),this.options&&_.isFunction(this.options.onPrevious)&&this.options.onPrevious(this)}function P(){var e=this.currentStepNum;e<this.totalStepNum+1&&a.call(this,this.currentStepNum+1),this.options&&_.isFunction(this.options.onNext)&&this.options.onNext(this)}function H(){L(),this.options&&this.options.onExit&&this.options.onExit(this)}function B(){L(),this.options&&this.options.onComplete&&this.options.onComplete(this)}var o;return _.isArray(s.steps)?{options:s,currentStepNum:0,totalStepNum:s.steps.length,start:u,goToStep:a,exit:H,finish:B,previous:D,next:P,destroyStepIntro:L}:{}}return{create:s}}var n={ELE_BORDER_PADDING:5,ELE_SCROLL_MARGIN:30,HIGHLIGHT_BORDER_COLOR:"#ccc",HIGHLIGHT_BORDER_RADIUS:"2"};e.factory("tiIntro",r),r.$inject=["$rootScope","$compile","tiModal"]}),define("components/headFilter/headFilter",["components/module"],function(e){"use strict";function t(){return{restrict:"E",replace:!0,transclude:!0,scope:{items:"=?",panelMaxHeight:"=?",isShow:"=?showPanel",isFiltered:"=?filtered",isMulti:"=?",selectedId:"=?",elementId:"=?",enableSelectAll:"=?",enableSearch:"=?",storageId:"=?",isModified:"=?",okClick:"&",select:"&"},templateUrl:function(e,t){return t.customDefine!==undefined?"/tiny-components/src/components/headFilter/headFilterExt.html":t.isMulti!==undefined?"/tiny-components/src/components/headFilter/headFilterMulti.html":"/tiny-components/src/components/headFilter/headFilterSingle.html"},link:function(e,t,n){function r(){e.isMulti=_.isUndefined(e.isMulti)?!1:e.isMulti,e.panelMaxWidth="auto",e.enableSearch=_.isUndefined(e.enableSearch)?!1:e.enableSearch,e.panelMaxHeight.dominator=t,e.isShow=!1,e.isInnerClick=!1,_.isArray(e.items)||(e.items=[]),e.itemsCopy=angular.copy(e.items);if(e.storageId){var r=window.sessionStorage.getItem(e.storageId);_.isNull(r)||(e.isMulti&&(r=r===""?[]:r.split(",")),e.selectedId=r)}if(!e.isMulti){if(_.isUndefined(e.selectedId)||e.selectedId==="")e.items.length>0?e.selectedId=e.items[0].id:e.selectedId="";else{var i=o(e.items,e.selectedId);_.isObject(i)&&a(i)}e.isFiltered=!!e.isFiltered}else{e.selectedId=_.isUndefined(e.selectedId)ular.copy(e.selectedId);var s=u(e.items,e.selectedId);e.selectedId.length===0||e.selectedId.length===e.items.length?e.isFiltered=!1:(e.isFiltered=!0,a(s))}_.isString(e.elementId)&&e.elementId!==""?(e.dropdownId=e.elementId+"_dropdown",n.id||t.attr("id",e.elementId)):e.dropdownId=""}function i(){e.toggleClickFn=function(t){if(t.button==nnerClick=!0,e.isShow=!e.isShow},e.documentMousedownFn=function(){if(e.isInnerClick){e.isInnerClick=!1;return}e.$evalAsync(function(){e.isShow=!1})},$(document).on("mousedown",e.documentMousedownFn),t.on("$destroy",function(){$(document).off("mousedown",e.documentMousedownFn)}),e.okClick=function(){var t=u(e.items,e.selectedId);if(_.isEqual(e.oldFilterSelectedId,e.selectedId))return;e.oldFilterSelectedId=angular.copy(e.selectedId),e.selectedId.length===0||e.selectedId.length===e.items.length?e.isFiltered=!1:e.isFiltered=!0,a(t),e.isShow=!1},e.cancelClick=function(){e.isShow=!1};if(e.storageId){var n=function(){e.selectedId=e.isMulti?e.oldFilterSelectedId:e.selectedId,window.sessionStorage.setItem(e.storageId,e.selectedId)};$(window).on("unload",n),t.on("$destroy",function(){n(),$(window).off("unload",n)})}}function s(){n.customDefine===undefined&&(e.$watch("items",function(t){e.itemsCopy=angular.copy(t);for(var n=0;n<e.items.length;n++){var r=e.items[n];_.isUndefined(r.label)&&_.isString(r.title)&&(e.itemsCopy[n].label=r.title)}},!0),e.$watch("selectedId",function(t,n){function i(e,t){if(e.length>0&&t===e[0].id)return!1;var n=_.find(e,function(e){return e.id===t});return n!==undefined}if(!e.isMulti){t!==""&&i(e.items,t)?e.isFiltered=!0:e.isFiltered=!1;if(t===""){a(e.items);return}if(n!==t){var r=o(e.items,t);_.isObject(r)&&a(r)}return}t!==n&&e.isModified&&(e.oldFilterSelectedId=angular.copy(e.selectedId),e.isModified=!1)},!0)),e.$watch("showStyle",function(e){e==="up"?$(".ti-head-filter-panel-wrapper-down").removeClass("ti-head-filter-panel-wrapper-down").addClass("ti-head-filter-panel-wrapper-up"):$(".ti-head-filter-panel-wrapper-up").removeClass("ti-head-filter-panel-wrapper-up").addClass("ti-head-filter-panel-wrapper-down")})}function o(e,t){if(_.isUndefined(t))return!1;for(var n=0;n<e.length;n++)if(e[n].id===t)return e[n];return!1}function u(e,t){var n=[];return _.each(t,function(t){for(var r=0;r<e.length;r++)e[r].id===t&&n.push(e[r])}),n}function a(t,r){var i=window.tiny.utils;i.isEventType(n,"select")&&e.select({item:t,$event:r})}r(),i(),s()}}}return e.directive("tiHeadFilter",t),e.name}),define("components/tag/tag",["components/module"],function(e){function te":"&",elementId:"=?",showClear:"=?"},templateUrl:"/tiny-components/src/components/tag/tag.html",replace:!0,link:function(e,t,n){e.showClear=_.isUndefined(e.showClear)?!0:e.showClear,e.content=_.isString(e.content)?e.content:"",e.elementId=_.isString(e.elementId)?e.elementId:"",e.deleteTag=function(r){t.remove();var i={evtName:"delete",attrs:n,scope:e,params:{content:r}};window.tiny.utils.applyCallback(i)}}}}e.directive("tiTag",t)}),define("components/inputNumber/inputNumber",["components/module"],function(e){"use strict";function t(e,t){function r(n,r,s,o){function d(e){var r=m(e),i=t.parseNumber(r);isNaN(i)&&(i=""),p(n,i);if(u){var s=t.formatNumber(r,c);return s}return i}function v(e){var n=m(e);if(o.$viewValue!==n){var i;i=r[0].selectionStart;var s=o.$viewValue.length-$render(),r[0].setSelectionRange(i,i),setTimeout(function(){o.$setViewValue(n),o.$render(),r[0].setSelectionRange(i,i),r.trigger("input")},0)}var u=t.parseNumber(n);return isNaN(u)&&(u=a),u}function m(e){if(!i(e))return a;var n=t.parseNumber(e);return u?a=t.formatNumber(n,c):a=_.isNaN(n)?"":n+"",e}r.on("$destroy",function(){o.$formatters.pop(),o.$parsers.pop()});var u=_.isUndefined(n.$eval(s.enableLocale))?!0:n.$eval(s.enableLocale),a,f=n.$eval(s.tiNumber),l=parseInt(f.precision,10),c=isNaN(l)?undefined:l,h=e(s.ngModel),p=h.assign;o.$formatters.push(d),o.$parsers.push(v),r.on("blur",function(){if(!i(r.val()))return p(n,a);var e=t.parseNumber(r.val());if(u){var s=t.formatNumber(e,c);r.val(s)}else e=_.isNaN(e)?"":e,r.val(e)})}function i(e){if(e===""||e===","||e==="."||e==="-")return!0;var n=t.parseNumber(e);return!isNaN(n)}var n={restrict:"A",require:"ngModel",link:r};return n}return e.directive("tiNumber",t),t.$inject=["$parse","tiService"],e.name}),define("components/ipSection/ipSection",["components/module","components/select/select","components/text/text","components/maskInput/maskInput"],function(e){"use strict";function t(e){function t(e,t,i){n(e,t),r(e,t,i)}function n(e,t){e.model={mask:"000"};for(var n=0;n<e.data.length;n++)_.has(e.data[n],"options")?(e.data[n].type="select",!e.data[n].selectedId&&e.data[n].options.length!==0&&(e.data[n].selectedId=e.data[n].options[0].id)):e.data[n].type="input";e.ipArray=[],e.focused&&!e.disable&&a(e)}function r(t,n,r){t.blurFn=function(){o(t),e(function(){$(document.activeElement).closest(".ipContainer")[0]!==n[0]&&u(t,r)},0)},t.changeFn=function(e,n){var i={evtName:"change",attrs:r,scope:t,params:{$index:e,value:n},isDelay:!1};window.tiny.utils.applyCallback(i)}}function i(e){e.ipArray=[];var t=e.data.length;for(var n=0;n<t;n++)e.data[n].type==="select"?e.ipArray.push(s(e.data[n].options,e.data[n].selectedId)):e.ipArray.push(e.data[n].value);return t===5?e.ipArray.slice(0,t-1).join(".")+"/"+e.ipArray[t-1]:e.ipArray.slice(0,t).join(".")}function s(e,t){var n=e.length;for(var r=0;r<n;r++)if(t===e[r].id)return e[r].label}function o(e){var t=e.data.length;for(var n=0;n<t;n++)e.data[n].type==="input"&&e.data[n].value!=""&&(e.data[n].value=parseInt(e.data[n].value).toString())}function u(e,t){var n={evtName:"blur",attrs:t,scope:e,params:{ipValue:i(e)},isDelay:!1};window.tiny.utils.applyCallback(n)}function a(e){var t=e.data.length;for(var n=0;n<t;n++)if(!e.data[n].disable){e.data[n].isFocused=!0;return}}return{restrict:"E",scope:{data:"=?",focused:"=?",disable:"=?",blur:"&",change:"&"},templateUrl:"/tiny-components/src/components/ipSection/ipSection.html",replace:!0,link:t}}e.directive("tiIpSection",t),t.$inject=["$timeout"]}),define("dist/tiny.tpls",["components/module"],function(e){return e.run(["$templateCache",function(e){"use strict";e.put("/tiny-components/src/components/accordion/accordion-item.html","<div class=ti-accordion-panel><div class=ti-accordion-panel-heading ng-class=\"[{'disabled': disable}, headClass]\" ng-click=toggleOpen() id={{elemId}}><div class=ti-accordion-panel-title><a href=javascript:void(0) class=\"ti-icon ti-icon-angle-right ti-accordion-panel-title-icon\" ng-class=\"{'ti-icon-angle-transform-down': !open,'ti-icon-angle-transform-up': open}\" tabindex=\"{{disable ? -1 : ''}}\"></a> <span class=ti-accordion-panel-title-content ti-accordion-transclude=head><span ti-accordion-header ng-class=\"{'ti-text-muted': disable}\">{{head}}</span></span></div></div><div class=ti-accordion-panel-collapse ti-collapse=!open><div class=ti-accordion-panel-body ng-class=bodyClass ng-transclude></div></div></div>"),e.put("/tiny-components/src/components/accordion/accordion.html","<div role=tablist class=ti-accordion-group ng-transclude></div>"),e.put("/tiny-components/src/components/actionMenu/actionMenu.html","<span><ti-menu ng-if=hasMenu panel-align=menu.panelAlign panel-max-width=menu.panelMaxWidth action-param=actionParam panel-offset=menu.panelOffset items=menu.items element-id=menu.menuId><span class=ti-menu-toggle-menu ng-bind=menu.toogleName></span></ti-menu></span>"),e.put("/tiny-components/src/components/alert/alert.html","<div class=ti-alert-container ng-show=show ng-class=\"{'ti-alert-prompt-container': type === 'prompt',\r\n             'ti-alert-error-container': type === 'error',\r\n             'ti-alert-warn-container': type === 'warn',\r\n             'ti-alert-success-container': type === 'success',\r\n             'ti-alert-default-container': type === 'default'}\"><span class=\"ti-alert-type-icon ti-icon\" ng-if=typeIcon ng-class=\"{'ti-icon-info-circle': type === 'prompt',\r\n                     'ti-icon-exclamation-circle': type === 'error',\r\n                     'ti-icon-alarm': type === 'warn',\r\n                     'ti-icon-check-circle': type === 'success'}\"></span><div class=ti-alert-label ng-if=hasLabel ng-bind-html=label ng-class=\"{'ti-alert-label-with-closeIcon': closeIcon && !typeIcon,\r\n                    'ti-alert-label-with-typeIcon': !closeIcon && typeIcon,\r\n                    'ti-alert-only-label': !closeIcon && !typeIcon}\"></div><div class=ti-alert-label ng-if=!hasLabel ng-transclude ng-class=\"{'ti-alert-label-with-closeIcon': closeIcon && !typeIcon,\r\n                    'ti-alert-label-with-typeIcon': !closeIcon && typeIcon,\r\n                    'ti-alert-only-label': !closeIcon && !typeIcon}\"></div><span class=\"ti-alert-close-icon ti-icon ti-icon-close\" ng-if=closeIcon ng-click=closeFn() id={{elementId}}></span></div>"),e.put("/tiny-components/src/components/btnSlider/btnSlider.html","<div class=ti-btn-slider-container><ti-btn-radio-group items=values element-id=elementId selected-id=selectedId change=changeFn enable-deselect=enableDeselect></ti-btn-radio-group></div>"),e.put("/tiny-components/src/components/buttonGroup/btnGroup.html","<div class=ti-btn-group ng-class=\"{'ti-btn-item-small': type === 'small'}\" ti-transclude><ti-button-item item=item min-width=minWidth ng-repeat=\"item in items\"></ti-button-item></div>"),e.put("/tiny-components/src/components/buttonGroup/btnItem.html",'<div ti-transclude class=ti-btn-item-container ng-class=setActiveClass(item.id) ng-click=clickFn()><span ti-tip=item.tip class=ti-btn-container ng-mouseenter=mouseenterFn(item) ng-class="{\'ti-btn-disable\':item.disable === true}"><button type=button class=ti-btn-item ng-style="{\'min-width\': btnMinWidth}" ng-bind-html=item.text ng-disabled=item.disable></button> <span class=ti-btn-cover ng-if=item.disable></span> <span ng-if=isSuperScript ng-class="[{\'ti-btn-item-sup-sgl\': isSingleFont,\'ti-btn-item-sup-mul\':!isSingleFont}, item.sup.class]" class=ti-btn-item-sup ng-bind=item.sup.text></span> <span class=ti-btn-multi-selection-icon ng-class="{\'ti-btn-cornermark-disable\':item.disable === true}" ng-if="showCornermark && !isSuperScript && setActiveClass(item.id)"><span class="ti-icon ti-icon-checkmark"></span></span></span></div>'),e.put("/tiny-components/src/components/buttonSelect/buttonSelect.html","<div class=ti-button-select-wrapper><div class=ti-button-select-dominator-wrapper><ti-select-dominator text=content type='\"button\"' panel-show=panelShow show-position=showStyle disable=disable element-id=elementId></ti-select-dominator></div><ti-menu-panel show=panelShow toggle-element=toggleElement panel-align=panelAlign type='\"button\"' panel-max-width=panelMaxWidth element-id=menuPanelId items=items></ti-menu-panel></div>"),e.put("/tiny-components/src/components/combobox/combobox.html","<div ng-class=\"{'ti-combobox-container-disable': disable,\r\n                'ti-combobox-container-focused': isOpen || isFocused}\" class=ti-combobox-container><input class=ti-combobox-text ng-focus=focusFn($event) ng-keydown=keydownFn($event) ng-blur=blurFn($event) ng-model=content spellcheck=false ng-model-options=\"{updateOn: 'default blur', debounce: { 'default': 200, 'blur': 0 }}\" ng-disabled=disable ng-change=changeFn(content) id={{inputElemId}}><div class=ti-combobox-dropdown-btn ng-mousedown=menuMousedownFn($event) id=\"{{btnElemId !== '' ? btnElemId : ''}}\"></div><ti-dropdown options=suggestions element-id=dropdownId show=isOpen selected-id=selectedId show-style=showStyle select=selectFn max-height=panelMaxHeight panel-width=panelWidth dominator=dominator no-data-text=noMatched></ti-dropdown></div>"),e.put("/tiny-components/src/components/date/date.html",'<div class=ti-date-container><div tabindex={{!disable?0:-1}} class=ti-date-input-container ng-class="{\'ti-date-input-container-disable\' : disable}" ng-keydown=keydownFn($event) ng-focus=focusFn($event) ng-blur=blurFn($event) ng-click=containerClickFn()><span class=ti-date-show ng-bind=formatValue ng-click=inputClickFn($event) ti-auto-tip></span> <span ng-if=isShowClearIconFn() class="ti-icon ti-icon-close ti-date-clear-icon" ng-class="{\'ti-date-clear-icon-disable\': disable}" ng-click=iconClearClickFn()></span><div class="ti-date-icon-container ti-icon ti-icon-calendar" ng-class="{\'ti-date-icon-container-disable\' : disable}" ng-click=showClickFn()></div></div><div ng-if=isOpenPicker tabindex=-1 ng-click=pickerClickFn($event) class=ti-date-picker page-height=pageHeight><ti-date-panel value=datePanel.value min-value=datePanel.minValue max-value=datePanel.maxValue type=datePanel.type date-picker=datePanel.datePicker only-select-year-month=datePanel.onlySelectYearMonth day-click=datePanel.dayClick now-date-time=datePanel.nowDateTime></ti-date-panel><div class=ti-date-picker-footer ng-if=todayBtn><button class=ti-date-picker-footer-btn type=button ng-if=todayBtn ng-click=todayClickFn() ng-bind=btnLanguage.today ti-button></button></div></div></div>'),e.put("/tiny-components/src/components/dateEdit/dateEdit.html","<input ng-blur=dateBlur() ng-disabled=disable ng-change=dateChange() ng-model=showValue placeholder-text=format maxlength=20 ti-text>"),e.put("/tiny-components/src/components/datePanel/datePanel.html","<div><div class=ti-date-picker-header><span class=\"ti-date-picker-prev ti-icon ti-icon-angle-left\" ng-class=\"{'ti-date-state-disabled' : isMinToDisable()}\" ng-click=preClickFn($event)></span> <span class=\"ti-date-picker-next ti-icon ti-icon-angle-right\" ng-class=\"{'ti-date-state-disabled' : isMaxToDisable()}\" ng-click=nextClickFn($event)></span><div class=ti-header-year-month-picker><div class=ti-date-picker-year-month ng-click=headerYearMonthClickFn()><span ng-bind=picker.year ng-hide=\"datePicker === 'year'\"></span> <span ng-bind=picker.month ng-show=\"datePicker === 'day'\"></span> <span ng-bind=picker.yearRange ng-show=\"datePicker === 'year'\"></span></div></div></div><div ng-if=\"datePicker === 'day'\"><table class=ti-date-picker-table><thead><tr><th ng-repeat=\"week in weekArr\" class=ti-date-week title={{weekTitleArr[$index]}}>{{week}}</th></tr></thead><tbody><tr ng-repeat=\"week in dayArr\" ng-init=\"weekIndex = $index\" class=ti-date-day-tr><td ng-repeat=\"day in week\" ng-init=\"dayIndex = $index\" ng-class=\"{'ti-date-today-current-td': day.isToday && day.state === 'current'}\"><span ng-class=\"{\r\n                        'ti-date-current-day' : day.state === 'current',\r\n                        'ti-dateRange-select-day' : day.state === 'select',\r\n                        'ti-date-today' : day.isToday && day.state !== 'disable',\r\n                        'ti-date-default-day' : day.state === 'default',\r\n                        'ti-date-disable-day' : day.state === 'disable',\r\n                        'ti-date-beside-day' : day.state === 'preMonth' || day.state === 'nextMonth'}\" ng-click=\"dayClickFn(day, $event)\">{{day.value}}</span> <span class=ti-date-today-border-cover ng-if=\"day.isToday && day.state === 'current'\" ng-click=\"dayClickFn(day, $event)\"></span></td></tr></tbody></table></div><div ng-if=\"datePicker === 'month'\"><table class=ti-date-picker-table><tr ng-repeat=\"monthList in monthArr\" class=ti-date-month-list><td ng-repeat=\"month in monthList\"><span class=ti-date-month ng-class=\"{\r\n                         'ti-date-disable-month': month.state === 'disable',\r\n                         'ti-date-default-month' : month.state === 'default',\r\n                         'ti-date-current-month' : month.state === 'current'}\" ng-click=\"monthClickFn(month, $event)\">{{month.value}}</span></td></tr></table></div><div ng-if=\"datePicker === 'year'\"><table class=ti-date-picker-table><tr ng-repeat=\"yearList in yearArr\" class=ti-date-year-list><td ng-repeat=\"year in yearList\"><span class=ti-date-year ng-class=\"{\r\n                         'ti-date-disable-year': year.state === 'disable',\r\n                         'ti-date-default-year' : year.state === 'default',\r\n                         'ti-date-beside-year' : year.state === 'preYear' || year.state === 'nextYear',\r\n                         'ti-date-current-year' : year.state === 'current'}\" ng-click=\"yearClickFn(year, $event)\">{{year.value}}</span></td></tr></table></div></div>"),e.put("/tiny-components/src/components/dateRange/dateRange.html",'<div class=ti-date-range-container><div tabindex={{!disable?0:-1}} class=ti-date-input-container ng-class="{\'ti-date-input-container-disable\' : disable}" ng-blur=blurFn($event) ng-focus=focusFn($event) ng-keydown=keydownFn($event) ng-click=containerClickFn()><span class=ti-date-show ng-bind=showValue ng-click=inputClickFn($event) ti-auto-tip></span> <span ng-show=!showValue class=ti-date-range-connect-symbol ng-bind=connectSymbol></span> <span ng-if=isShowClearIconFn() class="ti-icon ti-icon-close ti-date-clear-icon" ng-class="{\'ti-date-clear-icon-disable\': disable}" ng-click=iconClearClickFn()></span><div class="ti-date-icon-container ti-icon ti-icon-calendar" ng-class="{\'ti-date-icon-container-disable\' : disable}" ng-click=showClickFn()></div></div><div ng-if=isOpenPicker tabindex=-1 ng-click=pickerClickFn($event) class=ti-date-range-picker page-height=pageHeight><div class=ti-date-range-begin-container><div class=ti-date-range-begin-end-text ng-bind=beginText></div><ti-date-panel value=begin.value min-value=begin.minValue max-value=begin.maxValue date-picker=begin.datePicker only-select-year-month=begin.onlySelectYearMonth type=begin.type now-date-time=nowDateTime day-click=dayClickFn></ti-date-panel><div class=ti-datetime-timeshow><ti-date-edit class=ti-date-picker-footer-btn style="width: 115px;text-align: center" value=begin.value.begin min-value=begin.minValue max-value=begin.maxValue format=format></ti-date-edit></div></div><div class=ti-date-range-end-container><div class=ti-date-range-begin-end-text ng-bind=endText></div><ti-date-panel value=end.value min-value=end.minValue date-picker=end.datePicker is-open-month-picker=end.isOpenMonthPicker only-select-year-month=end.onlySelectYearMonth max-value=end.maxValue type=end.type now-date-time=nowDateTime day-click=dayClickFn></ti-date-panel><div class=ti-datetime-timeshow><ti-date-edit class=ti-date-picker-footer-btn style="width: 115px;text-align: center" value=end.value.end min-value=end.minValue max-value=end.maxValue format=format></ti-date-edit></div><div class=ti-date-range-picker-footer><div class=ti-date-picker-footer-right><button class=ti-date-picker-footer-btn type=button ng-click=cancelClickFn() ng-bind=btnLanguage.cancel ti-button></button> <button class=ti-date-picker-footer-btn type=button ng-bind=btnLanguage.ok ng-click=okClickFn() ti-button></button></div></div></div></div></div>'),e.put("/tiny-components/src/components/datetime/datetime.html",'<div class=ti-datetime-container><div tabindex={{!disable?0:-1}} class=ti-date-input-container ng-class="{\'ti-date-input-container-disable\' : disable}" ng-blur=blurFn($event) ng-focus=focusFn($event) ng-keydown=keydownFn($event) ng-click=containerClickFn()><span class=ti-date-show ng-bind=showValue ng-click=inputClickFn($event) ti-auto-tip></span> <span ng-if=isShowClearIconFn() class="ti-icon ti-icon-close ti-date-clear-icon" ng-class="{\'ti-date-clear-icon-disable\': disable}" ng-click=iconClearClickFn()></span><div class="ti-date-icon-container ti-icon ti-icon-calendar" ng-class="{\'ti-date-icon-container-disable\' : disable}" ng-click=showClickFn()></div></div><div ng-if=isOpenPicker tabindex=-1 ng-click=pickerClickFn($event) class=ti-date-picker page-height=pageHeight><ti-date-panel value=datePanel.value min-value=datePanel.minValue max-value=datePanel.maxValue date-picker=datePanel.datePicker only-select-year-month=datePanel.onlySelectYearMonth type=datePanel.type day-click=datePanel.dayClick now-date-time=datePanel.nowDateTime></ti-date-panel><div class=ti-date-picker-footer><ti-date-edit class=ti-date-picker-footer-btn style="width: 115px;margin-right: 10px;text-align: center" value=datePanel.value.begin min-value=datePanel.minValue max-value=datePanel.maxValue format=format.date></ti-date-edit><ti-time class=ti-date-picker-footer-btn ng-keydown=timeKeydownFn($event) format=format.time value=timeOptions.value now-time=timeOptions.nowTime min-value=timeOptions.minValue max-value=timeOptions.maxValue></ti-time><div class=ti-date-range-picker-footer><button class=ti-date-picker-footer-btn type=button ng-click=cancelClickFn() ng-bind=btnLanguage.cancel ti-button></button> <button class=ti-date-picker-footer-btn type=button ng-click=okClickFn() ng-bind=btnLanguage.ok ng-disabled=isOkDisabled ti-button></button></div></div></div></div>'),e.put("/tiny-components/src/components/datetimeRange/datetimeRange.html",'<div class=ti-datetime-range-container><div tabindex={{!disable?0:-1}} class=ti-date-input-container ng-class="{\'ti-date-input-container-disable\' : disable}" ng-blur=blurFn($event) ng-focus=focusFn($event) ng-keydown=keydownFn($event) ng-click=containerClickFn()><span class=ti-date-show ng-bind=showValue ng-click=inputClickFn($event) ti-auto-tip></span> <span ng-show=!showValue class=ti-date-time-range-connect-symbol ng-bind=connectSymbol></span> <span ng-if=isShowClearIconFn() class="ti-icon ti-icon-close ti-date-clear-icon" ng-class="{\'ti-date-clear-icon-disable\': disable}" ng-click=iconClearClickFn()></span><div class="ti-date-icon-container ti-icon ti-icon-calendar" ng-class="{\'ti-date-icon-container-disable\' : disable}" ng-click=showClickFn()></div></div><div ng-if=isOpenPicker ng-click=pickerClickFn($event) class=ti-date-range-picker page-height=pageHeight><div class=ti-date-range-begin-container><div class=ti-date-range-begin-end-text ng-bind=beginText></div><ti-date-panel value=beginDate.value min-value=beginDate.minValue max-value=beginDate.maxValue date-picker=beginDate.datePicker only-select-year-month=beginDate.onlySelectYearMonth type=beginDate.type now-date-time=nowDateTime day-click=dayClickFn></ti-date-panel><div class=ti-datetime-timeshow><ti-date-edit class=ti-date-picker-footer-btn style="width: 115px;margin-right: 10px;text-align: center" value=beginDate.value.begin min-value=beginDate.minValue max-value=beginDate.maxValue format=format.date></ti-date-edit><ti-time class=ti-datetime-range-time ng-keydown=timeKeydownFn($event) format=format.time value=beginTime.value now-time=beginTime.nowTime min-value=beginTime.minValue change=beginTime.change max-value=beginTime.maxValue></ti-time></div></div><div class=ti-date-range-end-container><div class=ti-date-range-begin-end-text ng-bind=endText></div><ti-date-panel value=endDate.value min-value=endDate.minValue max-value=endDate.maxValue date-picker=endDate.datePicker only-select-year-month=endDate.onlySelectYearMonth type=endDate.type now-date-time=nowDateTime day-click=dayClickFn></ti-date-panel><div class=ti-datetime-timeshow><ti-date-edit class=ti-date-picker-footer-btn style="width: 115px;margin-right: 10px;text-align: center" value=endDate.value.end min-value=endDate.minValue max-value=endDate.maxValue format=format.date></ti-date-edit><ti-time class=ti-datetime-range-time ng-keydown=timeKeydownFn($event) format=format.time value=endTime.value now-time=endTime.nowTime change=endTime.change min-value=endTime.minValue max-value=endTime.maxValue></ti-time></div></div><div class=ti-date-range-picker-footer><button class=ti-date-picker-footer-btn type=button ng-click=cancelClickFn() ng-bind=btnLanguage.cancel ti-button></button> <button class=ti-date-picker-footer-btn type=button ng-bind=btnLanguage.ok ng-click=okClickFn() ng-disabled=isOkDisabled ti-button></button></div></div></div>'),e.put("/tiny-components/src/components/dropdown/dropdownExt.html","<div class=ti-dropdown-container ng-class=\"{'ti-dropdown-container-up': showStyle === 'up',\r\n                'ti-dropdown-container-down': showStyle === 'down'}\" ng-mousedown=panelMousedown($event)><div ng-transclude></div></div>"),e.put("/tiny-components/src/components/dropdown/dropdownMulti.html",'<div class=ti-dropdown-container ng-class="{\'ti-dropdown-container-up\': showStyle === \'up\',\r\n                \'ti-dropdown-container-down\': showStyle === \'down\'}" ng-mousedown=panelMousedown($event)><div ng-if=enableSearch class=ti-dropdown-searchbox-wrapper-outer><div class=ti-dropdown-searchbox-wrapper-inner><ti-searchbox focused=searchbox.focused value=searchObj.label change=searchbox.change clear=searchbox.clear search=searchbox.search element-id=searchbox.elementId without-dropdown style="width: 100%"></ti-searchbox></div></div><ul ng-if="options.length > 0 && options[0].hasOwnProperty(\'children\')" class=ti-dropdown-group><li ng-repeat-start="group in options | groupFilter: searchObj track by group.id" ng-bind-html=group.label ng-mousedown=groupMousedown($event) ti-auto-tip=getTipConfig(group) class=ti-dropdown-group-list></li><li ng-repeat-end ng-repeat="option in group.children | filter:searchObj track by option.id" class=ti-dropdown-option ng-class="{\'ti-dropdown-option-selected\': selectedArray.indexOf(option.id) >= 0, \'ti-dropdown-option-disabled\': option.disable === true}" ng-mousedown="mousedown($event, option)" id="{{groupElemId !== \'\' ? groupElemId +  option.id : \'\'}}"><label class=ti-multi-select-checkbox ng-class="{\'ti-icon ti-icon-checkmark\': selectedArray.indexOf(option.id) >= 0}"></label><span class=ti-multi-select-label ng-bind-html=option.label ti-auto-tip=getTipConfig(option)></span></li></ul><ul ng-if="options.length > 0 && !options[0].hasOwnProperty(\'children\')" class=ti-dropdown-no-group><li ng-if="enableSelectAll && options.length > 0" class="ti-dropdown-option ti-dropdown-select-all-option" ng-class="{ \'ti-dropdown-option-selected\': isSelectAll }" ng-mousedown=selectAllMousedown($event)><label class=ti-multi-select-checkbox ng-class="{\'ti-icon ti-icon-checkmark\': isSelectAll }"></label><span ng-bind=selectAllTitle></span></li><li ng-repeat-end ng-repeat="option in options | filter:searchObj track by option.id" class=ti-dropdown-option ng-class="{\'ti-dropdown-option-selected\': selectedArray.indexOf(option.id) >= 0, \'ti-dropdown-option-disabled\': option.disable === true}" ng-mousedown="mousedown($event, option)" id="{{singleElemId !== \'\' ? singleElemId  + option.id : \'\'}}"><label class=ti-multi-select-checkbox ng-class="{\'ti-icon ti-icon-checkmark\': selectedArray.indexOf(option.id) >= 0}"></label><span class=ti-multi-select-label ng-bind-html=option.label ti-auto-tip=getTipConfig(option)></span></li></ul><div class=ti-dropdown-no-data ng-if="options.length === 0" ng-bind-html=noDataText></div><div class=ti-dropdown-button-container ng-if=isShowButton ng-mousedown=buttonContainerMousedown($event)><button ti-button type=button class=ti-dropdown-button-ok ng-bind=okTitle ng-mousedown=okClickFn($event)></button><button ti-button type=button class=ti-dropdown-button-cancel ng-bind=cancelTitle ng-mousedown=cancelClickFn($event)></button></div></div>'),e.put("/tiny-components/src/components/dropdown/dropdownSingle.html","<div class=ti-dropdown-container ng-class=\"{'ti-dropdown-container-up': showStyle === 'up',\r\n                'ti-dropdown-container-down': showStyle === 'down'}\" ng-mousedown=panelMousedown($event)><div ng-if=enableSearch class=ti-dropdown-searchbox-wrapper-outer><div class=ti-dropdown-searchbox-wrapper-inner><ti-searchbox focused=searchbox.focused value=searchObj.label change=searchbox.change clear=searchbox.clear element-id=searchbox.elementId search=searchbox.search without-dropdown style=\"width: 100%\"></ti-searchbox></div></div><ul ng-if=\"options.length > 0 && options[0].hasOwnProperty('children')\" class=ti-dropdown-group><li ng-repeat-start=\"group in options | groupFilter: searchObj track by group.id\" ng-bind-html=group.label ng-mousedown=groupMousedown($event) ti-auto-tip=getTipConfig(group) class=ti-dropdown-group-list></li><li ng-repeat-end ng-repeat=\"option in group.children | filter:searchObj track by option.id\" class=ti-dropdown-option ti-auto-tip=getTipConfig(option) ng-class=\"{'ti-dropdown-option-selected': option.id === selectedId, 'ti-dropdown-option-disabled': option.disable === true}\" ng-mousedown=\"mousedown($event, option)\" id=\"{{groupElemId !== '' ? groupElemId + option.id : ''}}\"><span ng-bind-html=option.label></span></li></ul><ul ng-if=\"options.length > 0 && !options[0].hasOwnProperty('children')\"><li ng-repeat-end ng-repeat=\"option in options | filter:searchObj track by option.id\" class=ti-dropdown-option ng-class=\"{'ti-dropdown-option-selected': option.id === selectedId, 'ti-dropdown-option-disabled': option.disable === true}\" ti-auto-tip=getTipConfig(option) ng-mousedown=\"mousedown($event, option)\" id=\"{{singleElemId !== '' ? singleElemId + option.id : ''}}\"><span ng-bind-html=option.label></span></li></ul><div class=ti-dropdown-no-data ng-if=\"options.length === 0\" ng-bind-html=noDataText></div></div>"),e.put("/tiny-components/src/components/fileupload/tiFileDetail.html",'<div class=ti-file-detail-container><div ng-repeat="item in uploadInst.queue" class=ti-file-detail-item><span ng-bind=item.file.name class=ti-file-item-name title={{item.file.name}}></span> <span ng-bind=item.file.sizeWithUnit class=ti-file-item-size title={{item.file.sizeWithUnit}}></span><div class=ti-file-item-info><span ng-if="!item.isUploading && !item.isUploaded" ng-bind=info.waitInfo></span> <span ng-if=item.isUploading ng-bind="item.progress+\'%\'"></span> <span ng-if=item.isSuccess ng-bind=info.successInfo></span> <span ng-if=item.isError ng-bind="item.errorInfo || info.errorInfo" class=ti-file-item-error title={{(item.errorInfo||info.errorInfo)}}></span></div><div class=ti-file-detail-operate><span ng-hide=item.isBatchSend ng-if=item.isError ng-click=item.upload() class="ti-icon ti-icon-refresh ti-file-detail-operate-icon"></span> <span ng-click=item.remove() class="ti-icon ti-icon-x-thin ti-file-detail-operate-icon"></span></div><ti-progressbar value=item.progress class=ti-file-progress></ti-progressbar></div></div>'),e.put("/tiny-components/src/components/fileupload/tiFileUpload.html",'<div><div class=ti-file-upload-container ng-if="type === \'button\'"><div class="ti-btn ti-btn-default ti-file-btn" ng-disabled=styleOptions.disable><input class=ti-file-input type=file ti-file-select=uploadInst title={{title}} accept={{accept}} ng-disabled=styleOptions.disable> <span class=ti-file-text ng-bind=text></span></div><div ti-file-detail=uploadInst ng-if=showDetail></div></div><div class=ti-aui-file-container ng-if="type === \'inputField\'" ng-class="{\'ti-aui-file-disable\': styleOptions.disable}"><div class=clearfix><div class=ti-aui-file-field-container ng-class="{\'ti-aui-file-field-container-focused\': focused}" ng-style="{\'width\': styleOptions.inputFieldWidth}"><ul class=ti-aui-file-items-container><li class=ti-aui-file-item ng-repeat="item in uploadInst.queue" ng-mouseenter=item.mouseenter($event) ng-mouseleave=item.mouseleave($event) ng-click=item.removeTip($event)><div ng-bind=item.file.name class=ti-aui-file-name></div><div class=ti-aui-file-size-operate-container><div class=ti-aui-file-size><span class=ti-aui-file-size-brackets>(</span> <span ng-bind=item.file.sizeWithUnit class=ti-aui-file-item-size></span> <span class=ti-aui-file-size-brackets>)</span></div><div class=ti-aui-file-operates><div ng-if="!item.isUploading && !item.isUploaded"><ti-progress-pie value=item.progress ng-show=!item.isHover class=ti-aui-file-progress-pie></ti-progress-pie><span class="ti-aui-file-x ti-icon ti-icon-close" ng-click=item.remove() ng-if=item.isHover></span></div><div ng-if=item.isUploading><ti-progress-pie value=item.progress ng-show=!item.isHover class=ti-aui-file-progress-pie></ti-progress-pie><span class="ti-aui-file-x ti-icon ti-icon-close" ng-click=item.cancel() ng-if=item.isHover></span></div><div ng-if=item.isSuccess class="ti-aui-file-x ti-icon ti-icon-close" ng-click=item.remove()></div><div ng-if=item.isError class=ti-aui-file-error-state><span class="ti-aui-file-error-reupload ti-icon ti-icon-refresh" ng-click=item.upload() ng-if=!item.isBatchSend></span> <span class="ti-aui-file-x ti-icon ti-icon-close" ng-click=item.remove() ng-if=item.isHover></span> <span class="ti-aui-file-error-icon ti-icon ti-icon-exclamation-circle" ng-if=!item.isHover></span></div></div></div></li><li ng-if=!uploadInst.queue.length class=ti-aui-file-placeholder ng-bind=placeholder></li></ul><div class=ti-aui-file-select-container ti-tip=inputFieldInfo.uploadSelectFileTip><input type=file ti-file-select=uploadInst class=ti-aui-file-select-input ng-focus=focusFn() ng-blur=blurFn() ng-keydown=keyDownFn($event) title={{title}} accept={{accept}} ng-disabled=styleOptions.disable><div class=ti-aui-file-select-icon>...</div></div></div><span class=ti-file-upload-btnCon ng-if=showSubmitBtn><span class=ti-file-upload-btn-cover ti-tip=uploadBtnTip ng-if="styleOptions.disable || !uploadInst.queue.length || uploadInst.isUploadedAll()"></span> <button ti-button type=button ng-click=uploadInst.uploadAll() class=ti-aui-upload-btn ng-bind=text ng-if=showSubmitBtn ng-disabled="styleOptions.disable || !uploadInst.queue.length || uploadInst.isUploadedAll()"></button></span></div><div class=ti-aui-file-state-general ng-if="uploadInst.queue.length && !uploadInst.isSingleFile" ng-style="{\'width\': styleOptions.inputFieldWidth}"><div ng-if="uploadInst.getUploadState() === \'addSuccess\'"><span class=ti-aui-file-state-general-info ng-bind=uploadInst.stateInfo></span><div class=ti-aui-file-state-general-operate ng-bind=uploadInst.stateOperateInfo ng-click=uploadInst.removeAll()></div></div><div ng-if="uploadInst.getUploadState() === \'uploading\'"><span class=ti-aui-file-state-general-info ng-bind=uploadInst.stateInfo></span><ul class=ti-fileupload-animated-dot><li></li><li></li><li></li></ul><div class=ti-aui-file-state-general-operate ng-bind=uploadInst.stateOperateInfo ng-click=uploadInst.cancelAll()></div></div><div ng-if="uploadInst.getUploadState() === \'success\'"><span class="ti-aui-file-state-general-icon ti-aui-file-state-general-success ti-icon ti-icon-check-circle"></span> <span class=ti-aui-file-state-general-info ng-bind=uploadInst.stateInfo></span><div class=ti-aui-file-state-general-operate ng-bind=uploadInst.stateOperateInfo ng-click=uploadInst.reloadAll()></div></div><div ng-if="uploadInst.getUploadState() === \'error\'"><span class="ti-aui-file-state-general-icon ti-aui-file-state-general-error ti-icon ti-icon-exclamation-circle"></span> <span class=ti-aui-file-state-general-info ng-bind=uploadInst.stateInfo></span><div class=ti-aui-file-state-general-operate ng-bind=uploadInst.stateOperateInfo ng-click=uploadInst.reloadAllError()></div></div></div><div class=ti-aui-file-state-general ng-if="uploadInst.queue.length && uploadInst.isSingleFile" ng-style="{\'width\': styleOptions.inputFieldWidth}"><div ng-if="!uploadInst.queue[0].isUploading && !uploadInst.queue[0].isUploaded"><span class=ti-aui-file-state-general-info ng-bind=inputFieldInfo.addSingleSucc></span></div><div ng-if=uploadInst.queue[0].isUploading><span class=ti-aui-file-state-general-info ng-bind=inputFieldInfo.uploadingSingle></span><div class=ti-aui-file-state-general-operate ng-bind=inputFieldInfo.cancel ng-click=uploadInst.cancelAll()></div></div><div ng-if=uploadInst.queue[0].isSuccess><span class="ti-aui-file-state-general-icon ti-aui-file-state-general-success ti-icon ti-icon-check-circle"></span> <span class=ti-aui-file-state-general-info ng-bind=inputFieldInfo.uploadSuccess></span></div><div ng-if=uploadInst.queue[0].isError><span class="ti-aui-file-state-general-icon ti-aui-file-state-general-error ti-icon ti-icon-exclamation-circle"></span> <span class=ti-aui-file-state-general-info ng-bind=inputFieldInfo.uploadSingleError></span><div class=ti-aui-file-state-general-operate ng-bind=inputFieldInfo.reload ng-click=uploadInst.reloadAllError()></div></div></div></div></div>'),e.put("/tiny-components/src/components/formfield/formfield.html",'<table style="max-width: 100%" class=ti-form ng-style=verticalAlign><tbody ng-class="{\'ti-text-form\': isTextForm}"><tr ng-repeat="items in groupedItems track by $index" class=ti-no-ng-animate ng-class="{ \'ti-form-list\' : groupedItems.length === ($index + 1)}"><td ng-if="!item.hide && !isTextForm" ng-repeat-start="item in items track by item.$id" ng-class="{\'ti-form-require\': item.required}" class=ti-no-ng-animate ng-style=item.verticalAlign><span ng-if=item.required class="ti-icon ti-icon-staricon"></span></td><td ng-if="!item.hide && item.hasLabel" item-label-transclude=item class="ti-no-ng-animate ti-form-label ti-text-form-label" ng-style=item.labelStyle></td><td ng-if=!item.hide item-content-transclude=item colspan={{item.cntColspan}} class="ti-no-ng-animate ti-form-content ti-text-form-content" ng-style=item.contentStyle></td><td ng-if=!item.hide class=ti-no-ng-animate ng-repeat-end ng-style=item.colsGap[$index] ng-style=item.verticalAlign></td></tr><tr ng-repeat="item in btnItems track by $index"><td ng-if="!item.hide && item.horizontalAlign !== item.alignOpts.required" ng-style=item.verticalAlign></td><td ng-if="!item.hide && item.horizontalAlign === item.alignOpts.content" ng-style=item.verticalAlign></td><td ng-if=!item.hide field-btn-transclude=item colspan={{item.btnColspan}} ng-style=item.verticalAlign></td></tr><tr id={{::fieldId}} ng-transclude></tr></tbody></table>'),e.put("/tiny-components/src/components/headFilter/headFilterExt.html","<span class=ti-head-filter-container ng-mousedown=toggleClickFn($event)><span class=ti-icon ng-class=\"{'ti-icon-filter': !isFiltered,\r\n                'ti-icon-filtered': isFiltered}\"></span><ti-dropdown class=\"ti-head-filter-panel-wrapper-down ti-head-filter-cumtom-panel\" custom-define=true show-style=showStyle type=\"'headFilterPanel'\" show=isShow dominator=dominator panel-width=panelMaxWidth panel-align=\"'right'\" h-offset=-9><div ng-transclude></div></ti-dropdown></span>"),e.put("/tiny-components/src/components/headFilter/headFilterMulti.html","<span class=ti-head-filter-container ng-mousedown=toggleClickFn($event)><span class=ti-icon ng-class=\"{'ti-icon-filter': !isFiltered,\r\n                'ti-icon-filtered': isFiltered}\"></span><ti-dropdown class=ti-head-filter-panel-wrapper-down show=isShow options=itemsCopy element-id=dropdownId selected-array=selectedId enable-search=enableSearch show-style=showStyle max-height=panelMaxHeight panel-width=panelMaxWidth dominator=dominator panel-align=\"'right'\" h-offset=-9 enable-select-all=enableSelectAll is-show-button=true ok-click=okClick cancel-click=cancelClick no-data-text=noDataText multi></ti-dropdown></span>"),e.put("/tiny-components/src/components/headFilter/headFilterSingle.html","<span class=ti-head-filter-container ng-mousedown=toggleClickFn($event)><span class=ti-icon ng-class=\"{'ti-icon-filter': !isFiltered,\r\n                'ti-icon-filtered': isFiltered}\"></span><ti-dropdown class=\"ti-head-filter-panel-wrapper-down ti-head-filter-without-margin-top\" show=isShow options=itemsCopy element-id=dropdownId selected-id=selectedId enable-search=enableSearch show-style=showStyle is-append-to-body=isAppendToBody max-height=panelMaxHeight panel-width=panelMaxWidth dominator=dominator panel-align=\"'right'\" h-offset=-9 no-data-text=noDataText></ti-dropdown></span>"),e.put("/tiny-components/src/components/intro/intro-content.html",'<div class=ti-intro-modal><div class="ti-modal-header ti-modal-title-center"><span ng-bind-html=stepInfo.intro.title></span> <span class=ti-intro-modal-skip ng-click=introInstance.exit() ng-bind=language.intro_skip></span></div><div class=ti-modal-body><span ng-bind-html=stepInfo.intro.content></span><div class=ti-modal-step-list-container ng-if="introInstance.options.steps.length > 1"><a href=javascript:void(0); class=ti-modal-step-list-item ng-repeat="item in introInstance.options.steps" ng-class="{\'active\': $index + 1  === introInstance.currentStepNum}" ng-click=introInstance.goToStep($index+1)>{{ $index+1 }}</a></div></div><div class=ti-modal-footer><button type=button ng-bind=language.intro_previous ti-button ng-if="introInstance.currentStepNum > 1" ng-click=introInstance.previous()></button> <button type=button ng-bind=language.intro_next ti-button ng-if="introInstance.currentStepNum < introInstance.totalStepNum" ti-focused=true ng-click=introInstance.next()></button> <button type=button ng-bind=intro_finish ti-button ng-if="introInstance.currentStepNum === introInstance.totalStepNum" ti-focused=true class=ti-btn-danger ng-click=introInstance.finish()></button></div></div>'),e.put("/tiny-components/src/components/intro/intro-tip.html",'<div ng-class="\'ti-tooltip ti-intro-tip-modal ti-tooltip-\' + position" style="position: absolute;left: -9999px;top: -9999px"><div class="ti-tooltip-content ti-intro-tooltip-content"><ti-intro-content intro-instance=introInstance step-info=stepInfo intro-finish=introFinish></ti-intro-content></div><div ng-class="\'ti-tooltip-\' + position + \'-sqr\'"></div></div>'),e.put("/tiny-components/src/components/ip/ip.html","<div ng-class=\"[{'ti_input_ip_container_focus':hasFocus,'ti_input_ip_container_disable':disable},\r\nversion === 4 ? 'ti_input_ip_container_ipV4':'ti_input_ip_container_ipV6']\" id={{::elementId}}><input ng-repeat-start=\"ipsValue in ipsValues track by $index\" ng-class=\"version === 4 ? 'ti_input_ip_octet':'ti_input_ip_octet_v6'\" class=ti_input_ip_anchor autocomplete=off id={{::elementId}}_{{$index}} ng-model=ipsValue ng-blur=blurFn($event) ng-focus=focusFn($event,$index) ng-paste=paste($event) ng-disabled=disable ng-keydown=keyDown($event,$index) maxlength=\"{{version === 4 ? 3 : 4}}\"><span ng-repeat-end class=ti_input_ip_division ng-if=\"$index !== ipsValues.length - 1\">{{version === 4 ? '.' : ':'}}</span></div>"),e.put("/tiny-components/src/components/ipSection/ipSection.html",'<div class=ipContainer><span ng-repeat-start="ipValue in data track by $index" class=ti-ipSection-division ng-if="$index !== 0" ng-class="{\'ti-ipSection-division-disable\' : disable , \'ti-ipSection-maskdivision\' : $index === 4}">{{$index === 4 ? \'/\' : \'.\'}}</span><ti-select ng-if="ipValue.type === \'select\'" class=ti-ipSection-select options=ipValue.options focused=ipValue.isFocused disable="disable || ipValue.disable" blur=blurFn selected-id=ipValue.selectedId ti-validation=ipValue.validation change="changeFn($index, option)"></ti-select><input ng-repeat-end ng-if="ipValue.type === \'input\'" class=ti-ipSection-input ng-model=ipValue.value focused=ipValue.isFocused ti-mask=model.mask ng-disabled="disable || ipValue.disable" ng-blur=blurFn() ng-class="{\'ti-ipSection-input-bold\' : ipValue.bold}" ti-validation=ipValue.validation ng-change="changeFn($index, ipValue.value)" ti-text></div>'),e.put("/tiny-components/src/components/leftmenu/leftmenu.html","<div class=ti-leftmenu-container ng-class=\"{'ti-leftmenu-hide' : !isCollapsed}\"><div class=ti-leftmenu-panel-container><ul ng-transclude class=ti-leftmenu-panel></ul></div><div class=\"ti-leftmenu-toggle ti-icon\" ng-if=enableToggle ng-class=\"{'ti-icon-angle-left ti-leftmenu-toggle-show' : isCollapsed,\r\n                    'ti-icon-angle-right ti-leftmenu-toggle-hide' : !isCollapsed }\" ng-click=toggleClickFn() id={{toggleElemId}}></div></div>"),e.put("/tiny-components/src/components/leftmenu/leftmenuHead.html","<li class=ti-leftmenu-head ng-transclude></li>"),e.put("/tiny-components/src/components/leftmenu/leftmenuLevel1.html","<li class=ti-leftmenu-level1><div ng-class=\"{'ti-leftmenu-level1-active-item' : isActived , 'ti-leftmenu-level1-open-item' : showChildren}\" class=ti-leftmenu-level1-item tabindex=0 ng-click=clickFn() ng-keyup=keyUpFn($event) id=\"{{(item.id).replace(reg, '_')}}\"><span class=\"ti-leftmenu-level1-state-icon ti-icon\" ng-class=\"{'ti-icon-accordion-fold' : showChildren,\r\n                   'ti-icon-accordion-unfold' : !showChildren}\" ng-if=\"item.children && item.children.length\"></span></div><ul ng-transclude ng-show=showChildren></ul></li>"),e.put("/tiny-components/src/components/leftmenu/leftmenuLevel2.html","<li class=ti-leftmenu-level2 ng-click=clickFn() ng-keyup=keyUpFn($event) tabindex=0 ng-class=\"{'ti-leftmenu-level2-active' : isActived}\" ng-transclude id=\"{{(item.id).replace(reg, '_')}}\"></li>"),e.put("/tiny-components/src/components/menu/menu.html","<div class=ti-menu-container><a class=ti-menu-toggle ng-mousedown=toggleClickFn($event) href=javascript:void(0) id={{::elementId}} ng-transclude></a><ti-menu-panel show=show element-id=menuPanelId action-param=actionParam toggle-element=toggleElement panel-align=panelAlign panel-max-width=panelMaxWidth is-panel-responsed-enter=isPanelResponsedEnter items=panelItems></ti-menu-panel></div>"),e.put("/tiny-components/src/components/menu/menuPanel.html",'<div class=ti-menu-panel-container ng-class="{\'ti-button-menu-panel-container\': type === \'button\'}" ng-show=show><ul ng-class="{\'ti-menu-panel-no-children\': !isBigPaddingFn(items)}"><li class=ti-menu-panel-list ng-class="{\'ti-menu-panel-list-disable\' : item.disable,\r\n                        \'ti-menu-groupId\' : item.isBorder,\r\n                        \'ti-menu-panel-list-region-selected\' : type === \'regionPanel\' && selectedNode(item),\r\n                        \'ti-menu-panel-list-selected-item\': showSelected && selectedId === item.id }" ng-mousedown="mousedownFn(item, $event)" ng-mouseup="mouseupFn(item, $event,isOnlySelectLeaf)" ng-mouseenter="mouseenterFn(item, $event)" ng-mouseleave="mouseleaveFn(item, $event)" ng-repeat="item in items" ng-if=item.title id={{generateId(item.id)}}><span ng-if=hasChildren(item.childrens) class=ti-menu-list-right-icon></span> <span ng-bind-html=item.title></span><div ng-mouseenter="mouseenterFn1(item, $event)" ti-tooltip class=ti-menu-panel-list-tooltip></div><ul ng-show=item.showChildrens class=ti-menu-panel-container ng-class="{\'ti-menu-panel-no-children\': !isBigPaddingFn(item.childrens)}"><li class=ti-menu-panel-list ng-repeat="firstChildren in item.childrens" ng-class="{\'ti-menu-panel-list-disable\' : firstChildren.disable,\r\n                    \'ti-menu-panel-list-region-selected\' : type === \'regionPanel\' && selectedId === firstChildren.id,\r\n                               \'ti-menu-groupId\' : item.isBorder}" ng-mousedown="mousedownFn(firstChildren, $event)" ng-mouseup="mouseupFn(firstChildren, $event)" ng-mouseenter="mouseenterFn(firstChildren, $event)" ng-mouseleave="mouseleaveFn(firstChildren, $event)" id={{generateId(firstChildren.id)}}><span ng-if=hasChildren(firstChildren.childrens) class=ti-menu-list-right-icon></span> <span ng-bind-html=firstChildren.title></span><div ng-mouseenter="mouseenterFn1(firstChildren, $event)" ti-tooltip class=ti-menu-panel-list-tooltip></div><ul ng-show=firstChildren.showChildrens class=ti-menu-panel-container><li class="ti-menu-panel-list ti-menu-panel-list-last" ng-repeat="secondChildren in firstChildren.childrens" ng-class="{\'ti-menu-panel-list-disable\' : secondChildren.disable,\r\n                                        \'ti-menu-groupId\' : item.isBorder}" ng-mousedown="mousedownFn(secondChildren, $event)" ng-mouseup="mouseupFn(secondChildren, $event)" ng-mouseenter="mouseenterFn(secondChildren, $event)" ng-mouseleave="mouseleaveFn(secondChildren, $event)" id={{generateId(secondChildren.id)}}><span ng-bind-html=secondChildren.title></span><div ng-mouseenter="mouseenterFn1(secondChildren, $event)" ti-tooltip class=ti-menu-panel-list-tooltip></div></li></ul></li></ul></li></ul></div>'),e.put("/tiny-components/src/components/menu/menuPanelExt.html",'<div class="ti-menu-panel-container ti-menu-panel-container-cumtom-panel" ng-show=show><div ng-transclude></div></div>'),e.put("/tiny-components/src/components/message/message.html","<div class=ti-modal-header><span>{{tiMsgModel.title}}</span> <span class=ti-close ng-if=tiMsgModel.closeable ng-click=tiMsgModel.dismiss() id={{closeElemId}}></span></div><div class=ti-msg-body><div class=\"ti-msg-icon ti-icon\" ng-class=\"{ 'ti-icon-check-circle': tiMsgModel.type === 'confirm',\r\n                    'ti-icon-exclamation-circle ti-msg-icon-error': tiMsgModel.type === 'error',\r\n                    'ti-icon-warn ti-msg-icon-warn': tiMsgModel.type ===  'warn',\r\n                    'ti-icon-info-circle': tiMsgModel.type === 'prompt'}\"></div><div class=ti-msg-content-wrapper><p ng-if=tiMsgModel.contentTitle class=ti-msg-content-title ng-bind-html=tiMsgModel.contentTitle></p><p ti-msg-transclude></p></div></div><div class=ti-modal-footer><button type=button ti-button ng-class=\"{'ti-btn-danger': isPrimaryBtn('okBtn')}\" ti-focused=tiMsgModel.okBtn.focused ng-if=tiMsgModel.okBtn.show ng-disabled=tiMsgModel.okBtn.disable ng-click=tiMsgModel.okBtn.click() id={{okBtnElemId}}>{{tiMsgModel.okBtn.text}}</button><button type=button ti-button ng-class=\"{'ti-btn-danger': isPrimaryBtn('cancelBtn')}\" ng-if=tiMsgModel.cancelBtn.show ti-focused=tiMsgModel.cancelBtn.focused ng-disabled=tiMsgModel.cancelBtn.disable ng-click=tiMsgModel.cancelBtn.click() id={{cancelBtnElemId}}>{{tiMsgModel.cancelBtn.text}}</button></div>"),e.put("/tiny-components/src/components/modal/backdrop.html","<div class=ti-modal-backdrop ti-modal-animation-class=ti-fade modal-in-class=ti-in ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"></div>"),e.put("/tiny-components/src/components/modal/window.html","<div modal-render={{$isRendered}} tabindex=-1 role=dialog class=ti-modal ti-modal-animation-class=ti-fade modal-in-class=ti-in ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\"><div class=ti-modal-dialog><div class=ti-modal-content ti-modal-transclude></div></div></div>"),e.put("/tiny-components/src/components/multiSelect/multiSelect.html","<div class=ti-multiselect-wrapper><div ng-class=\"{'ti-select-dominator-disable': disable,\r\n            'ti-select-dominator-container-focused': isOpen || isFocused}\" ng-mousedown=selectMousedownFn($event) ng-focus=focusFn($event) ng-blur=blurFn($event) tabindex={{!disable?0:-1}} ti-validation-node class=\"ti-select-dominator-container ti-multiselect-container\"><div class=ti-select-dominator-text ng-mousedown=menuMousedownFn($event) id={{inputElemId}}><div class=ti-multiselect-box-cell ti-auto-tip ng-click=selectClickFn(key) ng-class=\"{'ti-multiselect-option-selected': activeId === key.id, 'ti-multiselect-option-disabled': key.disable === true}\" ng-repeat=\"key in content track by key.id\" id=\"{{inputClickElemId !== '' ? inputClickElemId + key.id : ''}}\"><span class=ti-box-cell-key ng-bind-html=key.label></span> <span class=\"ti-icon ti-icon-close ti-icon-close-staic\" ng-mousedown=\"deleteFn(key, $event)\" id=\"{{inputCloseElemId !== '' ? inputCloseElemId + key.id : ''}}\"></span></div></div><div class=ti-select-dominator-dropdown-btn ng-mousedown=menuMousedownFn($event) id={{btnElemId}}></div></div><ti-dropdown options=suggestions element-id=dropdownId show=isOpen selected-array=selectedId show-style=showStyle change=changeFn max-height=panelMaxHeight panel-width=panelWidth tip-config=panelTipConfig dominator=dominator enable-select-all=enableSelectAll enable-search=enableSearch search=searchFn no-data-text=noDataText multi></ti-dropdown></div>"),e.put("/tiny-components/src/components/pagination/pagination.html",'<div class="clearfix ti-page-container ti-no-ng-animate" ng-show=showPage><div class=ti-pag-container unselectable=on ng-class="{\'ti-pag-container-disable\' : disable}"><div ng-if="type !== \'mini\'"><ti-select options=itemsPerPage.options disable=disable selected-id=itemsPerPage.selectedId change=itemsPerPage.change ng-style=itemsPerPage.style ng-if="itemsPerPage.hide !== true" class=ti-page-size-option element-id=selectElemId is-with-pagination=true text-tip-config=tipConfig></ti-select><label class=ti-pag-total-items ng-class="{\'ti-pag-total-disable\': disable}" ng-if="hideTotalItems !== true" ng-bind=setTotalItemsFormat()></label><div class=ti-pag-pages ng-class="{\'ti-pag-pages-disable\': disable}"><a href=javascript:void(0); ondragstart="return false" id={{prevPageElemId}} class=ti-pag-prev ng-class="{disabled: noPrevious() || disable}" ng-click="!noPrevious() && selectPage(currentPage - 1, $event)" ng-attr-title="{{noPrevious()?\'\':tinyLanguage.page_prev_title}}" ng-attr-tabindex="{{(noPrevious() || disable) ? -1 : \'\'}}"><i class="ti-icon ti-icon-angle-left"></i> </a><a ng-repeat="page in pages track by $index" ondragstart="return false" href=javascript:void(0); ng-attr-tabindex="{{(disable || isEllipse(page) || type === \'simple\') ? -1 : \'\'}}" class=ti-pag-page ng-class="{active: page.active && type !== \'simple\', simple: type === \'simple\', ellipse: isEllipse(page),\'ti-page-disable\':disable}" ng-click="!isEllipse(page) && selectPage(page.key, $event)" ng-if="page.active || type !== \'simple\'" id="{{type !== \'simple\' ? (!isEllipse(page) ? (pageGoElemId !== \'\' ? pageGoElemId + page.key : \'\') : \'\') : \'\'}}">{{page.key}} </a><a href=javascript:void(0); id={{nextPageElemId}} ondragstart="return false" class=ti-pag-next ng-class="{disabled: noNext() || disable}" ng-click="!noNext() && selectPage(currentPage + 1, $event)" ng-attr-title="{{noNext()?\'\':tinyLanguage.page_next_title}}" ng-attr-tabindex="{{(noNext() || disable) ? -1 : \'\'}}"><i class="ti-icon ti-icon-angle-right"></i></a></div></div><div class=ti-pag-mini-pages ng-if="type === \'mini\'"><label class=ti-pag-total-items ng-class="{\'ti-pag-total-disable\': disable}" ng-if="hideTotalItems !== true" ng-bind=setTotalItemsFormat()></label><a href=javascript:void(0); ondragstart="return false" id={{miniPrevPageElemId}} class=ti-pag-prev ng-class="{disabled: noPrevious() || disable}" ng-click="!noPrevious() && selectPage(currentPage - 1, $event)" ng-attr-title="{{noPrevious()?\'\':tinyLanguage.page_prev_title}}" ng-attr-tabindex="{{(noPrevious() || disable) ? -1 : \'\'}}"><i class="ti-icon ti-icon-angle-left"></i></a><ti-select options=itemsMini.options selected-id=itemsMini.selectedId change=itemsMini.change class=ti-page-mini-option disable=disable element-id=selectElemId></ti-select><a href=javascript:void(0); ondragstart="return false" ng-attr-tabindex="{{(noNext() || disable) ? -1 : \'\'}}" id={{miniNextPageElemId}} class=ti-pag-next ng-class="{disabled: noNext() || disable}" ng-click="!noNext() && selectPage(currentPage + 1, $event)" ng-attr-title="{{noNext()?\'\':tinyLanguage.page_next_title}}"><i class="ti-icon ti-icon-angle-right"></i></a></div></div><div class=ti-pag-goto ng-if="type === \'default\' && showGotoLink === true"><span class=ti-pag-goto-text>{{tinyLanguage.page_goto_label}}</span> <input class=ti-pag-goto-input ti-text ng-model=gotoPage.page ng-blur=gotoPageHandler($event) ng-keydown=enterPageHandler($event)> <a class=ti-pag-goto-icon-container ng-click=gotoPageHandler($event)><div class=ti-pag-goto-icon></div></a></div></div>'),e.put("/tiny-components/src/components/pathField/pathField.html",'<div class=ti-pathField-container><div ng-if=!isEditorState class=ti-pathField-no-editor-container><a class=ti-pathField-menu-icon-container ng-if=showMenuIcon ng-class="{\'ti-pathField-menu-active\' : dropDownOptions.show && isInitDropdown}" ng-mousedown=openDropdownFn() id={{iconElemId}}></a><div class=ti-pathField-item-container ng-class="{\'ti-pathField-item-without-menu\' : !showMenuIcon}" ng-click=itemContainerClickFn() id={{itemBoxElemId}}><div ng-repeat="item in showItems track by $index" class=ti-pathField-item ng-class="{\'ti-pathField-item-end\' : $index === showItems.length - 1}" ng-click="itemClickFn($index, $event)" id={{item.elemId}}>{{item.label}} <span class=ti-pathField-item-tilt-line ng-if="$index !== showItems.length - 1">/</span></div></div><ti-dropdown options=menuItems ng-if=isInitDropdown show=dropDownOptions.show class=ti-pathField-dropdown panel-width=dropDownOptions.panelWidth change=dropDownOptions.changeFn dominator=dropDownOptions.dominator element-id=dropdownId></ti-dropdown></div><input class=ti-pathField-input focused=textOption.isFocused ng-if=isEditorState ng-blur=textOption.blurFn() id={{inputElemId}} ng-model=textOption.pathText ng-keydown=textOption.keydownFn($event) ti-text></div>'),e.put("/tiny-components/src/components/pathList/pathList.html","<div class=ti-pathList-container><div ng-repeat=\"item in items track by $index\" class=ti-pathList-item ng-mouseleave=mouseleaveItemFn(item) ng-mouseenter=mouseenterItemFn(item) ti-auto-tip=item.tiTipConfig id=\"{{isString(item.id) && item.id !== '' ? (isString(elementId) ? elementId : '') + '_' + item.id : ''}}\"><span class=ti-pathList-index>{{$index + 1}}.</span><span class=\"ti-icon ti-icon-document ti-pathList-file-document\" ng-if=\"item.type === 'document'\"></span><span class=\"ti-icon ti-icon-file ti-pathList-file-document\" ng-if=\"item.type === 'file'\"></span><span ng-bind=item.label class=ti-pathList-label></span> <span class=\"ti-pathList-clear-icon ti-icon ti-icon-close\" ng-click=clearClickFn($index) ng-if=item.showClear id=\"{{isString(item.id) && item.id !== '' ? (isString(elementId) ? elementId : '') + '_' + item.id + '_icon' : ''}}\"></span></div></div>"),e.put("/tiny-components/src/components/progressbar/progressbar.html","<div class=ti-progress><div class=ti-progress-bar ng-style=\"{width: percent + '%'}\" ng-class=progressClass></div><div class=ti-progress-label ng-transclude></div></div>"),e.put("/tiny-components/src/components/searchbox/searchbox.html","<div class=ti-searchbox-container ng-class=\"{'ti-searchbox-container-focused': isFocused,\r\n                'ti-searchbox-container-up': isOpen && (showStyle === 'up'),\r\n                'ti-searchbox-container-down': isOpen && (showStyle === 'down'),\r\n                'ti-searchbox-container-disable': disable}\"><input class=ti-searchbox-input ng-class=\"{'ti-searchbox-input-clear-shown': isShowClear}\" ng-disabled=disable ng-focus=focusFn($event) spellcheck=false ng-keydown=inputKeydown($event) ng-blur=blurFn() ng-model=value ng-model-options=\"{updateOn: 'default blur', debounce: { 'default': 200, 'blur': 0 }}\" ng-change=changeFn(value) id={{inputElemId}}><div class=\"ti-searchbox-clear ti-icon ti-icon-close\" ng-show=isShowClear ng-click=clearFn($event) id={{clearBtnElemId}}></div><div class=\"ti-searchbox-search ti-icon ti-icon-search\" ng-mousedown=searchFn($event) id={{searchBtnElemId}}></div><ti-dropdown options=dropList element-id=dropdownId show=isOpen selected-id=selectedId show-style=showStyle select=selectFn dominator=dominator></ti-dropdown></div>"),e.put("/tiny-components/src/components/searchbox/searchboxWithoutDropdown.html","<div class=ti-searchbox-container ng-class=\"{'ti-searchbox-container-focused': isFocused,\r\n                'ti-searchbox-container-up': isOpen && (showStyle === 'up'),\r\n                'ti-searchbox-container-down': isOpen && (showStyle === 'down'),\r\n                'ti-searchbox-container-disable': disable}\"><input class=ti-searchbox-input ng-class=\"{'ti-searchbox-input-clear-shown': isShowClear}\" ng-disabled=disable ng-focus=focusFn($event) spellcheck=false ng-keydown=inputKeydown($event) ng-blur=blurFn() ng-model=value ng-model-options=\"{updateOn: 'default blur', debounce: { 'default': 200, 'blur': 0 }}\" ng-change=changeFn(value) id={{inputElemId}}><div class=\"ti-searchbox-clear ti-icon ti-icon-close\" ng-show=isShowClear ng-click=clearFn($event) id={{clearBtnElemId}}></div><div class=\"ti-searchbox-search ti-icon ti-icon-search\" ng-mousedown=searchFn($event) id={{searchBtnElemId}}></div></div>"),e.put("/tiny-components/src/components/select/select.html","<div class=ti-select-wrapper><div class=ti-select-dominator-wrapper><ti-select-dominator text=showText panel-show=isOpen show-position=showStyle placeholder-text=placeholderText disable=disable element-id=elementId focus=focusFn blur=blurFn enable-clear=enableClear before-open=beforeOpenFn tip-config=textTipConfig focused=focused></ti-select-dominator></div><ti-dropdown options=suggestions element-id=dropdownId show=isOpen selected-id=selectedId show-style=showStyle change=changeFn tip-config=panelTipConfig is-append-to-body=isAppendToBody select=selectFn max-height=panelMaxHeight panel-width=panelWidth dominator=dominator enable-search=enableSearch search=searchFn is-with-pagination=isWithPagination no-data-text=noDataText></ti-dropdown></div>"),e.put("/tiny-components/src/components/selectDominator/selectDominator.html","<div ng-class=\"{'ti-select-dominator-disable': disable,\r\n                'ti-select-dominator-container-focused': isOpen || isFocused,\r\n                'ti-select-dominator-btn-type-wrapper': type === 'button'}\" ng-mousedown=selectMousedownFn($event) ng-focus=focusFn($event) ng-blur=blurFn($event) tabindex={{!disable?0:-1}} ti-validation-node class=\"ti-select-dominator-container ti-no-ng-animate\"><div ng-if=!enableDelete class=ti-select-dominator-text ng-mousedown=menuMousedownFn($event) placeholder={{placeholderText}} ng-bind-html=text ti-auto-tip=tipConfig id=\"{{::elementId+'_input'}}\"></div><div ng-if=enableDelete ng-mousedown=menuMousedownFn($event) class=ti-select-dominator-text-delete placeholder={{placeholderText}} id=\"{{::elementId+'_input'}}\"><div ng-if=\"text!==undefined\" class=ti-delete-box-cell ti-auto-tip ng-class=\"{'ti-multiselect-option-disabled': disable}\" id=\"{{::elementId+'_input_click'}}\"><span class=ti-box-cell-key ng-bind-html=text></span> <span class=\"ti-icon ti-icon-close ti-icon-close-staic\" ng-mousedown=deleteFn($event) id=\"{{::elementId+'_input_close'}}\"></span></div></div><div ng-if=\"enableClear && showClear\" class=ti-select-dominator-clear-btn ng-mousedown=clearMousedownFn($event)></div><div ng-if=\"!(enableClear && showClear)\" ng-class=\"{'ti-select-dominator-dropdown-btn':(buttonStyle==='dropdown'),\r\n            'ti-select-dominator-plus-btn':(buttonStyle==='plus')}\" ng-mousedown=menuMousedownFn($event) id=\"{{::elementId+'_btn'}}\"></div></div>"),e.put("/tiny-components/src/components/selectPlus/selectPlus.html","<div class=ti-select-plus-wrapper><ti-select-dominator text=text placeholder-text=placeholderText disable=disable element-id=\"::elementId+'_dominator'\" enable-delete=enableDelete button-style=\"'plus'\" focus=focusFn blur=blurFn click=click() delete=deleteFn focused=focused></ti-select-dominator></div>"),e.put("/tiny-components/src/components/slider/slider.html",'<div class=ti-slider-container ng-class="{\'ti-slider-disable\': disable}"><div class=ti-slider-track-container><div class=ti-slider-track-calc><div class=ti-slider-bar-selection></div><div class="ti-slider-pointer ti-slider-pointer-min" id={{pointerMinEleId}} ng-mousedown=mousedownFn()><div class="ti-slider-pointer-dot ti-icon ti-icon-slider-point"></div><div class="ti-slider-tip ti-slider-tip-top ti-slider-tip-min"></div></div><div class="ti-slider-pointer ti-slider-pointer-max" id={{pointerMaxEleId}} ng-mousedown=mousedownFn()><div class="ti-slider-pointer-dot ti-icon ti-icon-slider-point"></div><div class="ti-slider-tip ti-slider-tip-top ti-slider-tip-max"></div></div></div><div class=ti-slider-track-end></div><ul class=ti-slider-ticks><li ng-repeat="t in ticks track by $index" class=ti-slider-tick ng-style="{left:(($index/(ticks.length-1))*100).toString()+\'%\',\r\n		maxWidth:calcTickMaxWidth($index)}"><div ng-if="t !== null"><div ng-class="{\'ti-slider-selection-tick-dot\': isSelectTick($index)}" class=ti-slider-tick-dot></div><span ng-if="t!== \'\'" class=ti-slider-tick-value ng-bind-html=t ng-mousedown=mousedownFn()></span></div></li></ul></div></div>'),e.put("/tiny-components/src/components/spinner/spinner.html",'<div class=ti-spinner-container ng-class="{\'ti-spinner-container-focus\': focused, \'ti-spinner-container-disabled\':disable}"><div class="ti-icon ti-spinner-downicon ti-icon-reduce" id={{subElemId}} ng-mousedown="stepNumber($event, \'sub\')"></div><input class=ti-spinner-input id={{inputElemId}} ng-keydown=keyDown($event) ng-keypress=keypress($event) ng-focus=focus($event) ng-blur=blurFn($event) ng-disabled=disable ng-model=inputValue ng-change=inputChange($event) maxlength={{maxlength}}><div class="ti-icon ti-spinner-upicon ti-icon-add" id={{addElemId}} ng-mousedown="stepNumber($event, \'add\')"></div></div>'),e.put("/tiny-components/src/components/suggestion/suggestion.html","<div class=\"ti-dropdown-container ti-suggestion-container\" ng-mousedown=panelMousedown($event) ng-class=\"{'ti-dropdown-container-up': showStyle === 'up',\r\n                'ti-dropdown-container-down': showStyle === 'down'}\" ng-hide=\"copyList.length === 0\"><ul><li ng-repeat=\"suggestion in copyList track by $index\" ng-bind=suggestion.label ng-mousedown=\"mousedownFn(suggestion, $event)\" class=ti-dropdown-option ti-auto-tip=tipConfig id=\"{{(isString(elementId) && isString(suggestion.id)) ? (elementId + '_' + suggestion.id) : ''}}\"></li></ul></div>"),e.put("/tiny-components/src/components/switch/switch.html",'<a role=radio class="ti-switch ti-no-ng-animate" unselectable=on ondragstart="return false" href=javascript:void(0) ng-click=toggleSwitch() ng-class="{\'disabled\': disable ,\'ti-switch-off\': !state, \'ti-switch-on\': state}" tabindex="{{disable ? -1 : \'\'}}"><div class=ti-switch-content><div class=ti-switch-content-box></div><span class=ti-switch-left ng-bind=""></span> <span class=ti-switch-right ng-bind=""></span></div></a>'),e.put("/tiny-components/src/components/tab/tab.html",'<li class=ti-tab-li ng-class="{\'ti-tab-active\': active, disabled: disable}"><a href ng-click=select() tabindex="{{disable ? -1 : 0}}" id={{elemId}} ti-tip=tip ti-tab-head-html>{{heading}}</a></li>'),e.put("/tiny-components/src/components/tab/tabset.html",'<div><div class=ti-tabs-container><ul class=ti-tabs ng-transclude></ul><div class=ti-tab-slider></div><div class=ti-tab-content><div class=ti-tab-pane ng-repeat="tab in tabs" ng-class="{\'ti-tab-active\': tab.active}" ti-tab-body-html=tab></div></div></div></div>'),e.put("/tiny-components/src/components/table/cols-toggle.html",'<span class=ti-toggle-cols-container ng-click=togglePanel($event)><div class="ti-icon ti-icon-config ti-toggle-cols-menu" ti-tip=tip></div><div class="ti-toggle-cols-dropdown ng-hide" ng-show=showPanel ng-click=dropdownClick($event)><ti-searchbox change=searchFn search=searchFn class=ti-toggle-cols-searchbox ng-if=enableSearch></ti-searchbox><ul class=ti-toggle-cols-overflow><li ng-repeat="column in tempColumns" ng-show=column.tiIsMatched class=ti-toggle-cols-li ng-if="column.title !== \'\'"><label class=ti-toggle-cols-li-content><input type=checkbox ng-model=checked ti-checkbox=column.title ng-if="column.show === undefined" ng-disabled="column.show === undefined" is-no-wrap=isNoWrap tip-position={{tipPosition}}> <input type=checkbox ng-model=column.show ng-change=changeFn() ti-checkbox=column.title ng-if="column.show !== undefined" is-no-wrap=isNoWrap tip-position={{tipPosition}}></label></li></ul></div></span>'),e.put("/tiny-components/src/components/table/details-icon.html","<a href=javascript:void(0) class=ti-toggle-details><i class=\"ti-icon ti-icon-angle-right\" ng-class=\"{'ti-icon-angle-transform-down-thin': !row.showDetails,'ti-icon-angle-transform-up-thin': row.showDetails}\"></i></a>"),e.put("/tiny-components/src/components/tag/tag.html",'<div class=ti-tag-container ng-class="{\'ti-tag-no-clear-container\': !showClear }"><div class=ti-tag-selected-triangle></div><div class=ti-tag-selected-label ng-bind=content ti-auto-tip="{position: \'top-right\'}"></div><div class="ti-tag-clear ti-icon ti-icon-close" ng-click=deleteTag(content) ng-if=showClear id={{elementId}}></div></div>'),e.put("/tiny-components/src/components/tagSearch/tagSearch.html","<div class=ti-tagSearch-container><ul class=ti-tagSearch-lists-container ng-class=\"{'ti-tagSearch-lists-container-show': autoComplete.show ,\r\n                'ti-tagSearch-lists-focus': isFocused}\" ng-click=listsClickFn() id={{listsElemId}}><li class=ti-tagSearch-selected-list ti-auto-tip ng-repeat=\"item in selected\"><div ng-bind=item.label class=ti-tagSearch-selected-list-label></div><div class=\"ti-tagSearch-clear ti-icon ti-icon-close\" ng-click=clearFn(item) id=\"{{elementId !== '' && item.id ? (elementId + '_' + item.id) : ''}}\"></div></li><li class=ti-tagSearch-search-field><input autocomplete=off autocorrect=off autocapitalize=off ng-class=\"{'ti-tagSearch-input-no-selected-width': selected.length === 0}\" spellcheck=false ng-model=inputValue ng-focus=inputFocusFn() ng-blur=inputBlurFn() ng-keyup=inputKeyupFn($event) ng-keydown=inputKeydownFn($event) id={{inputElemId}} class=ti-tagSearch-input></li></ul><div ng-if=showSuggestion><ti-suggestion dominator=autoComplete.elem panel-max-height=autoComplete.panelMaxHeight panel-width=autoComplete.panelWidth selected show-style=autoComplete.showStyle highlight=autoComplete.highlight select=autoComplete.select show=autoComplete.show element-id=autoComplete.elementId suggestions=autoComplete.suggestions></ti-suggestion></div></div>"),e.put("/tiny-components/src/components/time/time.html","<div class=ti-time-container ng-class=\"{'ti-time-container-disable' : disable}\"><div class=ti-time-editor><input class=ti-time-input ng-disabled=disable maxlength=2 ng-focus=hourFocus($event) ng-blur=hourBlur() ng-keyup=hourKeyup($event) ng-change=hourChange() ng-model=showValue.hour><span class=ti-time-colon ng-if=show.minute>:</span><input class=ti-time-input ng-disabled=disable maxlength=2 ng-if=show.minute ng-focus=minuteFocus($event) ng-blur=minuteBlur() ng-keyup=minuteKeyup($event) ng-change=minuteChange() ng-model=showValue.minute><span class=ti-time-colon ng-if=show.second>:</span><input class=ti-time-input ng-disabled=disable maxlength=2 ng-if=show.second ng-focus=secondFocus($event) ng-blur=secondBlur() ng-keyup=secondKeyup($event) ng-change=secondChange() ng-model=showValue.second></div></div>"),e.put("/tiny-components/src/components/tree/tree-item.tpl.html",'<div class=ti-tree-content-box ng-click=contentClickFn(item) ng-class="{\'ti-tree-item-active\' : activeId === item.id}" ng-style="{\'margin-left\': isLeaf(item) ? \'22px\' : \'\'}" id="{{isString(elementId) && isString(item.id) ? (elementId + \'_\' + item.id) : \'\'}}"><i ng-click="clickPnodeIconFn(item, $event)" id="{{isString(elementId) && isString(item.id) ? (elementId + \'_icon_\' + item.id) : \'\'}}" class={{getItemIcon(item)}}></i><label class=ti-tree-checkbox-wrapper ng-show=" multiSelect"><input type=checkbox ng-model=item.isChecked ng-disabled=item.disabled ng-if=showCheckboxFn(item) ng-click="itemClickFn(item, $event)" partial-check="item.isChecked === \'PARTIAL\'" ng-change=changeFn(item) ti-checkbox></label><div ng-click="itemWrapperClickFn(item, $event)" class=ti-tree-node-text-wrapper id="{{isString(elementId) && isString(item.id) ? (elementId + \'_text_\' + item.id) : \'\'}}"><i class="{{item.iconClass}} ti-tree-node-icon" ng-show=item.iconClass></i> <span class=ti-tree-node-text ng-bind-html=item.label ti-auto-tip=item.toolTip></span></div></div><ul ng-if=!isLeaf(item) ng-show="item.isExpanded || item.isExpended" class=ti-tree-parent-node><li class=ti-tree-leaf-node ng-repeat="item in item.children track by item.id" ng-include="\'/tiny-components/src/components/tree/tree-item.tpl.html\'"></li></ul>'),e.put("/tiny-components/src/components/tree/tree.tpl.html",'<ul class="ti-tree-container ti-tree-parent-node"><li ng-repeat="item in innerData track by item.id" ng-include="\'/tiny-components/src/components/tree/tree-item.tpl.html\'"></li></ul>'),e.put("/tiny-components/src/components/unifyValid/pwdMsg.html",'<div class=ti-valid-pwd-tip-container><div ng-repeat="item in msgModel.msgItems track by $index" class=ti-valid-pwd-tip-item><span class=ti-valid-pwd-tip-status-null ng-if="item.validStatus === -1"></span> <span class="ti ti-icon ti-icon-check-circle ti-valid-pwd-tip-success" ng-if="item.validStatus === true"></span> <span class="ti ti-icon ti-icon-clear ti-valid-pwd-tip-error" ng-if="item.validStatus === false"></span> <span ng-bind=item.msg class=ti-valid-pwd-tip-msg></span></div><div class=ti-valid-pwd-level><span ng-bind=msgModel.securityText class=ti-valid-pwd-tip-security-text></span><div class=ti-valid-pwd-level-bars ng-class="{\'ti-valid-pwd-level-weak\': msgModel.level === 0, \'ti-valid-pwd-level-medium\': msgModel.level === 1, \'ti-valid-pwd-level-strong\': msgModel.level === 2}"><span class=ti-valid-pwd-level-bar ng-class="{\'active\': msgModel.level >= 0}"></span> <span class=ti-valid-pwd-level-bar ng-class="{\'active\': msgModel.level >= 1}"></span> <span class=ti-valid-pwd-level-bar ng-class="{\'active\': msgModel.level >= 2}"></span></div><span ng-bind=msgModel.securityStatus class=ti-valid-pwd-tip-security-status></span></div></div>'),e.put("/tiny-components/src/components/wizard/wizard.html",'<div class=ti-wizard-container><ul class=ti-wizard><li ng-repeat="step in stepsArr track by $index" ng-class="{ \'ti-wizard-complete\': step.isComplete,\r\n                        \'ti-wizard-active\': step.id === currentStep && !step.isComplete && !step.disabled,\r\n                        \'ti-wizard-disabled\': step.disabled,\r\n                        \'ti-wizard-uncomplete\': !step.isComplete && step.id !== currentStep && !step.disabled}" ng-click=clickFn($event,$index)><div class=ti-wizard-line></div><div class=ti-wizard-explain ng-class="{ \'ti-wizard-explain-hover\' : isCursorPointer }"><div class=ti-wizard-box><span ng-if="step.isComplete !== true" class=ti-no-ng-animate>{{ $index + 1}}</span> <span class="ti-icon ti-icon-checkmark ti-no-ng-animate" ng-if="step.isComplete === true"></span></div><div class=ti-wizard-text ng-style="{\'max-width\': textMaxWidth }"><span ng-bind=labelRequired ng-if=step.require class=ti-no-ng-animate></span><span ng-bind=step.label></span></div></div></li></ul></div>')}]),e}),require(["components/accordion/accordion","components/button/button","components/checkbox/checkbox","components/collapse/collapse","components/formfield/formfield","components/radio/radio","components/select/select","components/selectPlus/selectPlus","components/multiSelect/multiSelect","components/combobox/combobox","components/searchbox/searchbox","components/dropdown/dropdown","components/btnSlider/btnSlider","components/tab/tab","components/text/text","components/textarea/textarea","components/time/time","components/tip/tip","components/modal/modal","components/message/message","components/pagination/pagination","components/datePanel/datePanel","components/date/date","components/dateEdit/dateEdit","components/datetime/datetime","components/dateRange/dateRange","components/datetimeRange/datetimeRange","components/menu/menu","components/buttonSelect/buttonSelect","components/checkboxGroup/checkGroup","components/checkboxGroup/checkItem","componenpan","components/table/colsResizable","components/table/colsToggle","components/table/filter","components/table/sort","components/table/details","components/table/table","components/table/tableConfig","components/unifyValid/unifyValid","components/switch/switch","components/progressbar/progressbar","components/wizard/wizard","components/ip/ip","components/spinner/spinner","components/actionMenu/actionMenu","components/leftmenu/leftmenu","components/charts/charts","components/charts/charts2","components/fileupload/fileupload","components/buttonGroup/btnCheckboxGroup","components/autoComplete/autoComplete","components/buttonGroup/btnRadioGroup","components/alert/alert","components/tagSearch/tagSearch","components/suggestion/suggestion","components/slider/slider","components/timeline/timeline","components/pathList/pathList","components/pathField/pathField","components/tree/tree","components/maskInput/maskInput","components/selectSearchbox/seletSearchbox","components/intro/intro","components/headFilter/headFilter","components/tag/tag","components/inputNumber/inputNumber","components/ipSection/ipSection","dist/tiny.tpls"],function(){}),define("tiny.build",function(){});