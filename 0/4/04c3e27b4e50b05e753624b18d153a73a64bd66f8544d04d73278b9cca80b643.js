"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[147],{9124:(e,t,r)=>{r.r(t),r.d(t,{Aggregate:()=>O});var i=r(2919),s=r(4045),n=r(6875),o=r(6034),a=r(4329),c=r(2374),u="React",h="Angular",p="AngularJS",l="Backbone",d="Ember",y="Vue",g="Meteor",b="Zepto",w="Jquery";function S(){if(!c.il)return[];var e=[];try{(function(){try{if(window.React||window.ReactDOM||window.ReactRedux)return!0;if(document.querySelector("[data-reactroot], [data-reactid]"))return!0;for(var e=document.querySelectorAll("body > div"),t=0;t<e.length;t++)if(Object.keys(e[t]).indexOf("_reactRootContainer")>=0)return!0;return!1}catch(e){return!1}})()&&e.push(u),function(){try{return!!window.angular||(!!document.querySelector(".ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]")||!!document.querySelector('script[src*="angular.js"], script[src*="angular.min.js"]'))}catch(e){return!1}}()&&e.push(p),function(){try{return!!(window.hasOwnProperty("ng")&&window.ng.hasOwnProperty("coreTokens")&&window.ng.coreTokens.hasOwnProperty("NgZone"))||!!document.querySelectorAll("[ng-version]").length}catch(e){return!1}}()&&e.push(h),window.Backbone&&e.push(l),window.Ember&&e.push(d),window.Vue&&e.push(y),window.Meteor&&e.push(g),window.Zepto&&e.push(b),window.jQuery&&e.push(w)}catch(e){}return e}var f=r(9548),M=r(9226),m=r(1651),k=r(2650),A=r(8544),j=r(1509),E=r(2438);class O extends j.W{static featureName=o.t9;constructor(e,t){let r;super(e,t,o.t9),(0,s.X)("block-err",(()=>{this.blocked=!0,r&&(r.aborted=!0)}),this.featureName,this.ee),(0,s.X)(o.xS,this.storeSupportabilityMetrics.bind(this),this.featureName,this.ee),(0,s.X)(o.vz,this.storeEventMetrics.bind(this),this.featureName,this.ee),this.singleChecks(),this.eachSessionChecks(),r=new n.o("jserrors",{onUnload:()=>this.unload()},this),r.harvest.on("jserrors",(()=>({body:this.aggregator.take(["cm","sm"])}))),(0,a.L)(this.agentIdentifier,this.featureName)}storeSupportabilityMetrics(e,t){if(this.blocked)return;const r=o.mY,i={name:e};this.aggregator.storeMetric(r,e,i,t)}storeEventMetrics(e,t){if(this.blocked)return;const r=o.gF,i={name:e};this.aggregator.store(r,e,i,t)}singleChecks(){this.storeSupportabilityMetrics("Generic/Version/".concat(m.q4,"/Detected"));const{distMethod:e,loaderType:t}=(0,i.OP)(this.agentIdentifier);t&&this.storeSupportabilityMetrics("Generic/LoaderType/".concat(t,"/Detected")),e&&this.storeSupportabilityMetrics("Generic/DistMethod/".concat(e,"/Detected")),c.il&&(0,k.K)((()=>{S().forEach((e=>{this.storeSupportabilityMetrics("Framework/"+e+"/Detected")}))})),(0,f.V)()&&this.storeSupportabilityMetrics("Generic/FileProtocol/Detected");const r=(0,M.$c)(this.agentIdentifier);r.length>0&&this.storeSupportabilityMetrics("Generic/Obfuscate/Detected"),r.length>0&&!(0,M.Ng)(r)&&this.storeSupportabilityMetrics("Generic/Obfuscate/Invalid")}eachSessionChecks(){c.il&&(0,A.bP)("pageshow",(e=>{e.persisted&&this.storeSupportabilityMetrics("Generic/BFCache/PageRestored")}))}unload(){try{if(this.resourcesSent)return;const e=(0,i.OP)(this.agentIdentifier),t=(0,i.C5)(this.agentIdentifier);this.resourcesSent=!0;const r=["beacon","fetch","xmlhttprequest"],s=["nr-data.net","newrelic.com","nr-local.net","localhost"];function n(e){return r.includes(e.initiatorType)}(performance?.getEntriesByType("resource")||[]).forEach((e=>{var t;t=e,s.some((e=>t.name.indexOf(e)>=0))?n(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/Internal"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/Internal"):n(e)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/External"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/External")})),Object.keys(e.bytesSent).forEach((t=>{this.storeSupportabilityMetrics("PageSession/Endpoint/".concat(t.charAt(0).toUpperCase()+t.slice(1),"/BytesSent"),e.bytesSent[t])})),Object.keys(e.bytesSent).forEach((t=>{this.storeSupportabilityMetrics("PageSession/Endpoint/".concat(t.charAt(0).toUpperCase()+t.slice(1),"/QueryBytesSent"),e.queryBytesSent[t])})),e.ptid&&this.storeSupportabilityMetrics("PageSession/Feature/SessionTrace/DurationMs",Math.round(performance.now()));const o=(0,E.P)(t.jsAttributes);this.storeSupportabilityMetrics("PageSession/Feature/CustomData/Bytes","{}"===o?0:o.length)}catch(a){}}}}}]);