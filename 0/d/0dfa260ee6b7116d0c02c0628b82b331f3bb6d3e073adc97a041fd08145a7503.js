define("alimama-minisite/chartpark/index",[],function(Ln,Rt,Pn){"use strict";var D=this&&this.__extends||);Rt.__esModule=!0;var y={},at={},G=Array.prototype,kt=Object.prototype,ze=Function.prototype,Ve=G.push,Gt=G.slice,Ht=G.concat,mt=kt.toString,Xe=kt.hasOwnProperty,Wt=G.forEach,Nt=G.map,$t=G.filter,zt=G.every,Vt=G.some,st=G.indexOf,Ue=Array.isArray,Ye=Object.keys,In=ze.bind,qe=function(r){return function(n){return n==null?void 0:n[r]}},Je=Math.pow(2,53)-1,Xt=qe("length"),Ut=function(r){var n=Xt(r);return typeof n=="number"&&n>=0&&n<=Je};y.values=function(r){for(var n=y.keys(r),t=n.length,e=new Array(t),i=0;i<t;i++)e[i]=r[n[i]];return e},y.keys=Ye||function(r){if(r!==Object(r))throw new TypeError("Invalid object");var n=[];for(var t in r)y.has(r,t)&&n.push(t);return n},y.has=function(r,n){return Xe.call(r,n)};var N=y.each=y.forEach=function(r,n,t){if(r!=null){if(Wt&&r.forEach===Wt)r.forEach(n,t);else if(r.length===+r.length){for(var e=0,i=r.length;e<i;e++)if(n.call(t,r[e],e,r)===at)return}else for(var a=y.keys(r),e=0,i=a.length;e<i;e++)if(n.call(t,r[a[e]],a[e],r)===at)return}};y.compact=function(r){return y.filter(r,y.identity)},y.filter=y.select=function(r,n,t){var e=[];return r==null?e:$t&&r.filter===$t?r.filter(n,t):(N(r,function(i,a,s){n.call(t,i,a,s)&&e.push(i)}),e)},N(["Arguments","Function","String","Number","Date","RegExp"],function(r){y["is"+r]=function(n){return mt.call(n)=="[object "+r+"]"}}),y.isArguments=function(r){return!!(r&&y.has(r,"callee"))},y.isFunction=function(r){return typeof r=="function"},y.isFinite=function(r){return isFinite(r)&&!isNaN(parseFloat(r))},y.isNaN=function(r){return y.isNumber(r)&&r!=+r},y.isBoolean=function(r){return r===!0||r===!1||mt.call(r)=="[object Boolean]"},y.isNull=function(r){return r===null},y.isEmpty=function(r){if(r==null)return!0;if(y.isArray(r)||y.isString(r))return r.length===0;for(var n in r)if(y.has(r,n))return!1;return!0},y.isElement=function(r){return!!(r&&r.nodeType===1)},y.isArray=Ue||function(r){return mt.call(r)=="[object Array]"},y.isObject=function(r){return r===Object(r)},y.identity=function(r){return r},y.indexOf=function(r,n,t){if(r==null)return-1;var e=0,i=r.length;if(t)if(typeof t=="number")e=t<0?Math.max(0,i+t):t;else return e=y.sortedIndex(r,n),r[e]===n?e:-1;if(st&&r.indexOf===st)return r.indexOf(n,t);for(;e<i;e++)if(r[e]===n)return e;return-1},y.isWindow=function(r){return r!=null&&r==r.window};var Yt=function(r,n,t){return n&&y.every(r,y.isArray)?Ht.apply(t,r):(N(r,function(e){y.isArray(e)||y.isArguments(e)?n?Ve.apply(t,e):Yt(e,n,t):t.push(e)}),t)};y.flatten=function(r,n){return Yt(r,n,[])},y.every=y.all=function(r,n,t){n||(n=y.identity);var e=!0;return r==null?e:zt&&r.every===zt?r.every(n,t):(N(r,function(i,a,s){if(!(e=e&&n.call(t,i,a,s)))return at}),!!e)},y.min=function(r,n,t){if(!n&&y.isArray(r)&&r[0]===+r[0]&&r.length<65535)return Math.min.apply(Math,r);if(!n&&y.isEmpty(r))return 1/0;var e={computed:1/0,value:1/0};return N(r,function(i,a,s){var o=n?n.call(t,i,a,s):i;o<e.computed&&(e={value:i,computed:o})}),e.value},y.max=function(r,n,t){if(!n&&y.isArray(r)&&r[0]===+r[0]&&r.length<65535)return Math.max.apply(Math,r);if(!n&&y.isEmpty(r))return-1/0;var e={computed:-1/0,value:-1/0};return N(r,function(i,a,s){var o=n?n.call(t,i,a,s):i;o>e.computed&&(e={value:i,computed:o})}),e.value},y.find=y.detect=function(r,n,t){var e;return qt(r,function(i,a,s){if(n.call(t,i,a,s))return e=i,!0}),e};var qt=y.some=y.any=function(r,n,t){n||(n=y.identity);var e=!1;return r==null?e:Vt&&r.some===Vt?r.some(n,t):(N(r,function(i,a,s){if(e||(e=n.call(t,i,a,s)))return at}),!!e)};y.without=function(r){return y.difference(r,Gt.call(arguments,1))},y.difference=function(r){var n=Ht.apply(G,Gt.call(arguments,1));return y.filter(r,function(t){return!y.contains(n,t)})},y.uniq=y.unique=function(r,n,t,e){y.isFunction(n)&&(e=t,t=n,n=!1);var i=t?y.map(r,t,e):r,a=[],s=[];return N(i,function(o,l){(n?!l||s[s.length-1]!==o:!y.contains(s,o))&&(s.push(o),a.push(r[l]))}),a},y.map=y.collect=function(r,n,t){var e=[];return r==null?e:Nt&&r.map===Nt?r.map(n,t):(N(r,function(i,a,s){e.push(n.call(t,i,a,s))}),e)},y.contains=y.include=function(r,n){return r==null?!1:st&&r.indexOf===st?r.indexOf(n)!=-1:qt(r,function(t){return t===n})},y.pluck=function(r,n){return y.map(r,function(t){return t[n]})},y.random=function(r,n){return n==null&&(n=r,r=0),r+Math.floor(Math.random()*(n-r+1))},y.shuffle=function(r){return y.sample(r,1/0)},y.sample=function(r,n,t){if(n==null||t)return Ut(r)||(r=y.values(r)),r[y.random(r.length-1)];var e=Ut(r)?y.clone(r):y.values(r),i=Xt(e);n=Math.max(Math.min(n,i),0);for(var a=i-1,s=0;s<n;s++){var o=y.random(s,a),l=e[s];e[s]=e[o],e[o]=l}return e.slice(0,n)},y.extend=function(){var r,n,t,e,i=arguments[0]||{},a=1,s=arguments.length,o=!1;for(typeof i=="boolean"&&(o=i,i=arguments[1]||{},a=2),typeof i!="object"&&!y.isFunction(i)&&(i={}),s===a&&(i=this,--a);a<s;a++)if((r=arguments[a])!=null)for(n in r)t=i[n],e=r[n],!(i===e||e===void 0)&&(o&&e&&y.isObject(e)&&e.constructor===Object?i[n]=y.extend(o,t,e):i[n]=e);return i},y.clone=function(r){return y.isObject(r)?y.isArray(r)?r.slice():y.extend(!0,{},r):r},y.euclideanModulo=function(r,n){return(r%n+n)%n},y.DEG2RAD=Math.PI/180,y.RAD2DEG=180/Math.PI,y.degToRad=function(r){return r*y.DEG2RAD},y.radToDeg=function(r){return r*y.RAD2DEG};var Qe=function(r){return y.clone(r)},Ze=function(r){return JSON.parse(JSON.stringify(r))},Jt=typeof window!="undefined"?window.devicePixelRatio:1,Qt=function(r,n){if(document[r]){let t=function(e,i,a){if(e.length)for(var s=0;s<e.length;s++)t(e[s],i,a);else e[r](i,a,!1)};return t}else{let t=function(e,i,a){if(e.length)for(var s=0;s<e.length;s++)t(e[s],i,a);else e[n]("on"+i,function(){return a.call(e,window.event)})};return t}},Ke={query:function(r){return y.isString(r)?document.getElementById(r):r.nodeType==1?r:r.length?r[0]:null},offset:function(r){var n=r.getBoundingClientRect(),t=r.ownerDocument,e=t.body,i=t.documentElement,a=i.clientTop||e.clientTop||0,s=i.clientLeft||e.clientLeft||0,o=1;if(e.getBoundingClientRect){var l=e.getBoundingClientRect();o=(l.right-l.left)/e.clientWidth}o>1&&(a=0,s=0);var h=n.top/o+(window.pageYOffset||i&&i.scrollTop/o||e.scrollTop/o)-a,u=n.left/o+(window.pageXOffset||i&&i.scrollLeft/o||e.scrollLeft/o)-s;return{top:h,left:u}},addEvent:Qt("addEventListener","attachEvent"),removeEvent:Qt("removeEventListener","detachEvent"),pageX:function(r){return r.pageX?r.pageX:r.clientX?r.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft):null},pageY:function(r){return r.pageY?r.pageY:r.clientY?r.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):null},createCanvas:function(r,n,t){var e=document.createElement("canvas");return e.style.position="absolute",e.style.width=r+"px",e.style.height=n+"px",e.style.left=0,e.style.top=0,e.setAttribute("width",r*Jt),e.setAttribute("height",n*Jt),e.setAttribute("id",t),e},createView:function(r,n,t){var e=document.createElement("div");e.className="canvax-view",e.style.cssText+="position:relative;width:100%;height:100%;";var i=document.createElement("div");i.style.cssText+="position:absolute;width:"+r+"px;height:"+n+"px;";var a=document.createElement("div");return a.style.cssText+="position:absolute;width:"+r+"px;height:"+n+"px;",e.appendChild(i),e.appendChild(a),{view:e,stageView:i,domView:a}}},je=["#ff8533","#73ace6","#82d982","#e673ac","#cd6bed","#8282d9","#c0e650","#e6ac73","#6bcded","#73e6ac","#ed6bcd","#9966cc"],Zt={colors:je,set:function(r){return this.colors=r,this.colors},get:function(){return this.colors}},ti={_eval:function(r,n,t,e){return t?new Function(t,r+"; return ".concat(n,";"))(e):new Function(r+"; return ".concat(n,";"))()},parse:function(r,n,t,e){try{var i=n&&n.length&&n.length===2&&n[1]>n[0];if(!i)return this._eval(r,"options");var a=this._eval(r,"variables");typeof a=="function"&&(a=a(t)||{});var s={};e!==void 0&&(s=typeof e=="function"?e(t):e),s=y.extend(!0,{},a,s);var o=r.slice(0,n[0])+r.slice(n[1]);return this._eval(o,"options","variables",s)}catch(l){return{}}}},Kt=!0,U={create:function(r,n,t){var e=null,i=this,a=Ze(n),s=Qe(t),o=function(){i.instances[e.id]=null,delete i.instances[e.id]},l=Ke.query(r).getAttribute("chart_id");if(l!=null){var h=i.instances[l];h&&(h.destroy(),h.off&&h.off("destroy",o)),delete i.instances[l]}var u=2;(i.__dimension==3||i.is3dOpt&&i.is3dOpt(t))&&(u=3);var d=i._getComponentModules(u),c=i._getComponentModule("chart",u);return e=new c(r,a,s,d),e&&(e.draw(),i.instances[e.id]=e,e.on("destroy",o)),e},setGlobalTheme:function(r){Zt.set(r)},getGlobalTheme:function(){return Zt.get()},instances:{},getChart:function(r){return this.instances[r]},resize:function(){for(var r in this.instances)this.instances[r].resize()},getOptionsOld:function(r){var n={prefix:"[[JSON_FUN_PREFIX_",suffix:"_JSON_FUN_SUFFIX]]"},t=function(e){return JSON.parse(e,function(i,a){return typeof a=="string"&&a.indexOf(n.suffix)>0&&a.indexOf(n.prefix)==0?new Function("return "+a.replace(n.prefix,"").replace(n.suffix,""))():a})||{}};return t(decodeURIComponent(this.options[r]||"%7B%7D"))},getOptionsNew:function(r,n,t){var e=this.options[r],i=decodeURIComponent(e.code),a=e.range;return ti.parse(i,a,n,t)},getOptions:function(r,n,t,e){if(!this.options[r])return n||{};var i=this.options[r],a=typeof i=="string"?this.getOptionsOld(r):this.getOptionsNew(r,t||[],e||{});return n&&(a=y.extend(!0,a,n)),a},calculateOptions:components:{c_2d:{},c_3d:{}},_getComponentModules:function(r){var n=this.components.c_2d;return r==3&&(n=this.components.c_3d),n.modules||(n.modules={}),n.get||(n.get=function(t,e){e||(e="empty"),t=t.toLowerCase(),e=e.toLowerCase();var i=n.modules[t];if(i&&i[e])return i[e]}),n},registerComponent:function(r,n){var t=2,e="empty";if(arguments.length==3){var i=arguments[2];y.isNumber(i)&&i==3&&(t=3),y.isString(i)&&(e=i)}arguments.length==4&&(e=arguments[2],arguments[3]==3&&(t=3));var a=this._getComponentModules(t).modules;n=n.toLowerCase(),e=e.toLowerCase();var s=a[n];return s||(s=a[n]={}),s[e]||(s[e]=r),a},_getComponentModule:function(r){var n=2,t="empty";if(arguments.length==2){var e=arguments[1];y.isNumber(e)&&e==3&&(n=3),y.isString(e)&&(t=e)}arguments.length==3&&(t=arguments[1],arguments[2]==3&&(n=3)),r=r.toLowerCase(),t=t.toLowerCase();var i=this._getComponentModules(n).modules[r];return i?i[t]:void 0},setAnimationEnabled:function(r){Kt=r},getAnimationEnabled:function(r){return Kt}},On=document&&document.compareDocumentPosition?function(r,n){return n?!!(r.compareDocumentPosition(n)&16):!1}:function(r,n){return n?n!==n&&(r.contains?r.contains(n):!0):!1},f={},ot={},H=Array.prototype,jt=Object.prototype,ei=Function.prototype,ii=H.push,te=H.slice,ee=H.concat,xt=jt.toString,ni=jt.hasOwnProperty,ie=H.forEach,ne=H.map,re=H.filter,ae=H.every,se=H.some,lt=H.indexOf,ri=Array.isArray,ai=Object.keys,En=ei.bind,si=oi=Math.pow(2,53)-1,oe=si("length"),le=f.values=f.keys=ai||f.has=var $=f.each=f.forEach=function(r,n,t){if(r!=null){if(ie&&r.forEach===ie)r.forEach(n,t);else if(r.length===+r.length){for(var e=0,i=r.length;e<i;e++)if(n.call(t,r[e],e,r)===ot)return}else for(var a=f.keys(r),e=0,i=a.length;e<i;e++)if(n.call(t,r[a[e]],a[e],r)===ot)return}};f.compact=f.filter=f.select=function(r,n,t){var e=[];return r==null?e:re&&r.filter===re?r.filter(n,t):($(r,,e)},$(["Arguments","Function","String","Number","Date","RegExp"],,f.isArguments=f.isFunction=f.isFinite=f.isNaN=f.isBoolean=f.isNull=f.isEmpty=f.isElement=f.isArray=ri||f.isObject=f.identity=function(r){return r},f.indexOf=function(r,n,t){if(r==null)return-1;var e=0,i=r.length;if(t)if(typeof t=="number")e=t<0?Math.max(0,i+t):t;else return e=f.sortedIndex(r,n),r[e]===n?e:-1;if(lt&&r.indexOf===lt)return r.indexOf(n,t);for(;e<i;e++)if(r[e]===n)return e;return-1},f.isWindow=var he=f.flatten=f.every=f.all=f.min=f.max=f.find=f.detect=var fe=f.some=f.any=f.without=f.difference=f.uniq=f.unique=function(r,n,t,e){f.isFunction(n)&&(e=t,t=n,n=!1);var i=t?f.map(r,t,e):r,a=[],s=[];return $(i,function(o,l){(n?!l||s[s.length-1]!==o:!f.contains(s,o))&&(s.push(o),a.push(r[l]))}),a},f.map=f.collect=function(r,n,t){var e=[];return r==null?e:ne&&r.map===ne?r.map(n,t):($(r,,e)},f.contains=f.include=function(r,n){return r==null?!1:lt&&r.indexOf===lt?r.indexOf(n)!=-1:fe(r,},f.pluck=f.random=f.shuffle=f.sample=function(r,n,t){if(n==null||t)return le(r)||(r=f.values(r)),r[f.random(r.length-1)];var e=le(r)?f.clone(r):f.values(r),i=oe(e);n=Math.max(Math.min(n,i),0);for(var a=i-1,s=0;s<n;s++){var o=f.random(s,a),l=e[s];e[s]=e[o],e[o]=l}return e.slice(0,n)},f.extend=function(){var r,n,t,e,i=arguments[0]||{},a=1,s=arguments.length,o=!1;for(typeof i=="boolean"&&(o=i,i=arguments[1]||{},a=2),typeof i!="object"&&!f.isFunction(i)&&(i={}),s===a&&(i=this,--a);a<s;a++)if((r=arguments[a])!=null)for(n in r)t=i[n],e=r[n],!(i===e||e===void 0)&&(o&&e&&f.isObject(e)&&e.constructor===Object?i[n]=f.extend(o,t,e):i[n]=e);return i},f.clone=function(r){return f.isObject(r)?f.isArray(r)?r.slice():f.extend(!0,{},r):r},f.euclideanModulo=f.DEG2RAD=Math.PI/180,f.RAD2DEG=180/Math.PI,f.degToRad=function(r){return r*f.DEG2RAD},f.radToDeg=function li(r,n){var t,e,i=[1,2,5,10];t=r/n;for(var e=0;e<i.length&&(r=i[e],!(t<=(i[e]+(i[e+1]||i[e]))/2));e++);return r*=n,r}unction hi(r,n,t){r=f.without(r,void 0,null,"");var e=t&&t.scale?parseFloat(t.scale):1,i=t&&t.isInt?1:0;isNaN(e)&&(e=1);var a=f.max(r),s=a;a*=e;var o=f.min(r);if(o==a)return a>0?(o=0,[o,a]):a<0?[a,0]:(a=1,[0,a]);var l=a-o;if(l){var h=o;o-=l*.05,o<0&&h>=0&&(o=0),a+=l*.05}var u=(a-o)*.3,d=Math.pow(10,Math.floor(Math.log(u)/Math.LN10));u=li(u,d),i&&(u=Math.ceil(u));var c,p,v=At(Math.floor(o/u)*u),_=At(Math.ceil(a/u)*u),g=[];for(c=v;c<=_&&(g.push(c),c=At(c+u),c!==p);)p=c;return g.length>=3&&g[g.length-2]>=s&&g.pop(),g}var fi={section:,ui=ci=M=function(r,n){n===void 0&&(n={});for(var t in r)t.indexOf("_")&&(!r[t]||!r[t].propertys?f.isObject(r[t])&&!f.isFunction(r[t])&&!f.isArray(r[t])?n[t]=r[t].default:n[t]=r[t]:(n[t]={},M(r[t].propertys,n[t])));return n},di=function(){function r(n,t){this._opt=f.clone(n),this.dataOrg=t||[],this.dataSectionLayout=[],this.axisLength=1,this._cellCount=null,this._cellLength=null,this.dataSectionGroup=[],this.originPos=0,this._originTrans=0,this._min=null,this._max=null,f.extend(!0,this,M(r.defaultProps()),n)}return r.defaultProps=function(){return{layoutType:{detail:"\u5E03\u5C40\u65B9\u5F0F",default:"proportion"},dataSection:{detail:"\u8F74\u6570\u636E\u96C6",default:[]},sectionHandler:{detail:"\u81EA\u5B9A\u4E49dataSection\u7684\u8BA1\u7B97\u516C\u5F0F",default:null},waterLine:{detail:"\u6C34\u4F4D\u7EBF",default:null,documentation:"\u6C34\u4F4Ddata\uFF0C\u9700\u8981\u6DF7\u5165 \u8BA1\u7B97 dataSection\uFF0C \u5982\u679C\u6709\u8BBE\u7F6EwaterLine\uFF0C dataSection\u7684\u6700\u9AD8\u6C34\u4F4D\u4E0D\u4F1A\u4F4E\u4E8E\u8FD9\u4E2A\u503C"},middleweight:{detail:"\u533A\u95F4\u7B49\u5206\u7EBF",default:null,documentation:"\u5982\u679Cmiddleweight\u6709\u8BBE\u7F6E\u7684\u8BDD dataSectionGroup \u4E3A\u88ABmiddleweight\u5206\u5272\u51FA\u6765\u7684n\u4E2A\u6570\u7EC4>..[ [0,50 , 100],[100,500,1000] ]"},symmetric:{detail:"\u81EA\u52A8\u6B63\u8D1F\u5BF9\u79F0",default:!1,documentation:"proportion\u4E0B\uFF0C\u662F\u5426\u9700\u8981\u8BBE\u7F6E\u6570\u636E\u4E3A\u6B63\u8D1F\u5BF9\u79F0\u7684\u6570\u636E\uFF0C\u6BD4\u5982 [ 0,5,10 ] = > [ -10, 0 10 ]\uFF0C\u8C61\u9650\u5750\u6807\u7CFB\u7684\u65F6\u5019\u9700\u8981"},origin:{detail:"\u8F74\u7684\u8D77\u6E90\u503C",default:null,documentation:"                    1\uFF0C\u5982\u679C\u6570\u636E\u4E2D\u53C8\u6B63\u6570\u548C\u8D1F\u6570\uFF0C\u5219\u9ED8\u8BA4\u4E3A0 <br />                    2\uFF0C\u5982\u679CdataSection\u6700\u5C0F\u503C\u5C0F\u4E8E0\uFF0C\u5219baseNumber\u4E3A\u6700\u5C0F\u503C<br />                    3\uFF0C\u5982\u679CdataSection\u6700\u5927\u503C\u5927\u4E8E0\uFF0C\u5219baseNumber\u4E3A\u6700\u5927\u503C<br />                    4\uFF0C\u4E5F\u53EF\u4EE5\u7531\u7528\u6237\u5728\u7B2C2\u30013\u79CD\u60C5\u51B5\u4E0B\u5F3A\u5236\u914D\u7F6E\u4E3A0\uFF0C\u5219section\u4F1A\u8865\u5145\u6EE1\u4ECE0\u5F00\u59CB\u7684\u523B\u5EA6\u503C                "},sort:{detail:"\u6392\u5E8F",default:null},posParseToInt:{detail:"\u662F\u5426\u4F4D\u7F6E\u8BA1\u7B97\u53D6\u6574",default:!1,documentation:"\u6BD4\u5982\u5728\u67F1\u72B6\u56FE\u4E2D\uFF0C\u6709\u5F97\u65F6\u5019\u9700\u8981\u9AD8\u7CBE\u5EA6\u7684\u80FD\u95F4\u96941px\u7684\u67F1\u5B50\uFF0C\u90A3\u4E48x\u8F74\u7684\u8BA1\u7B97\u4E5F\u5FC5\u987B\u8981\u90FD\u662F\u6574\u9664\u7684"}}},r.prototype.resetDataOrg=function(n){this.dataSection=[],this.dataSectionGroup=[],this.dataOrg=n,this._cellCount=null,this._cellLength=null},r.prototype.setAxisLength=r.prototype.calculateProps=function(){var n=this;this.layoutType=="proportion"&&(this._min==null&&(this._min=f.min(this.dataSection)),this._max==null&&(this._max=f.max(this.dataSection)),"origin"in this._opt||(this.origin=0,f.max(this.dataSection)<0&&(this.origin=f.max(this.dataSection)),f.min(this.dataSection)>0&&(this.origin=f.min(this.dataSection))),this._originTrans=this._getOriginTrans(this.origin),this.originPos=this.getPosOfVal(this.origin)),this.dataSectionLayout=[],f.each(this.dataSection,function(t,e){var i=e;n.layoutType=="proportion"&&(i=n.getIndexOfVal(t));var a=parseInt(n.getPosOf({ind:e,val:t}),10);n.dataSectionLayout.push({val:t,ind:i,pos:a})})},r.prototype.getDataSection=function(){return this.dataSection},r.prototype.setDataSection=function(n){var t=this;if(f.isEmpty(n)&&f.isEmpty(this._opt.dataSection))if(this.layoutType=="proportion"){var e=this._getDataSection();if("origin"in t._opt&&e.push(t._opt.origin),e.length==1&&e.push(e[0]*.5),this.waterLine&&e.push(this.waterLine),this.symmetric){var i=f.min(e),a=f.max(e);Math.abs(i)>Math.abs(a)?e.push(Math.abs(i)):e.push(-Math.abs(a))}for(var s=0,o=e.length;s<o;s++)e[s]=Number(e[s]),isNaN(e[s])&&(e.splice(s,1),s--,o--);if(f.isFunction(this.sectionHandler)&&(this.dataSection=this.sectionHandler(e)),(!this.dataSection||!this.dataSection.length)&&(this.dataSection=fi.section(e,3)),this.symmetric){var i=f.min(this.dataSection),a=f.max(this.dataSection);Math.abs(i)>Math.abs(a)?this.dataSection.push(Math.abs(i)):this.dataSection.unshift(-Math.abs(a))}this.dataSection.length==0&&(this.dataSection=[0]),this.dataSectionGroup=[f.clone(this.dataSection)],this._middleweight(),this._sort()}else this.dataSection=f.flatten(this.dataOrg),this.dataSectionGroup=[this.dataSection];else this.dataSection=n||this._opt.dataSection,this.dataSectionGroup=[this.dataSection]},r.prototype._getDataSection=function(){var n=1;if(f.each(this.dataOrg,,n==1)return this._oneDimensional();if(n>1)return this._twoDimensional()},r.prototype._oneDimensional=function(){for(var n=f.flatten(this.dataOrg),t=0,e=n.length;t<e;t++)n[t]=n[t]||0;return n},r.prototype._twoDimensional=function(){var n=this.dataOrg,t=[],e;return f.each(n,function(i,a){if(i.length){if(!f.isArray(i[0])){t.push(i);return}for(var s=[],o=i[0].length,l=i.length,a=0;a<o;a++){for(var h=0,u=0,d=0,c=0,p=0;p<l;p++){var v=i[p][a];!v&&v!==0||(e==null&&(e=v),e=Math.min(e,v),v>=0?(h+=v,u++):(d+=v,c++))}u&&s.push(h),c&&s.push(d)}t.push(s)}}),t.push(e),f.flatten(t)},r.prototype.setWaterLine=function(n){n<=this.waterLine||(this.waterLine=n,(n<f.min(this.dataSection)||n>f.max(this.dataSection))&&(this.setDataSection(),this.calculateProps()))},r.prototype._sort=function(){if(this.sort){var n=this._getSortType();n=="desc"&&(this.dataSection.reverse(),f.each(this.dataSectionGroup,,this.dataSectionGroup.reverse())}},r.prototype._getSortType=function(){var n;return f.isString(this.sort)&&(n=this.sort),n||(n="asc"),n},r.prototype._middleweight=function(){if(this.middleweight){f.isArray(this.middleweight)||(this.middleweight=[this.middleweight]);for(var n=f.min(this.dataSection),t=f.max(this.dataSection),e=[n],i=[],a=0,s=this.middleweight.length;a<s;a++){var o=n;a>0&&(o=this.middleweight[a-1]);var l=o+parseInt((this.middleweight[a]-o)/2);e.push(l),e.push(this.middleweight[a]),i.push([o,l,this.middleweight[a]])}var h=this.middleweight.slice(-1)[0];t>h&&(e.push(h+(t-h)/2),e.push(t),i.push([h,h+(t-h)/2,t])),this.dataSection=e,this.dataSectionGroup=i}},r.prototype._getOriginTrans=function(n){for(var t=0,e=this.dataSectionGroup.length,i=this.axisLength/e,a=0,s=e;a<s;a++){var o=this.dataSectionGroup[a];if(this.layoutType=="proportion"){var l=f.min(o),h=f.max(o),u=Math.abs(h-l);if(n>=l&&n<=h){t=(n-l)/u*i+a*i;break}}}return this.sort=="desc"&&(t=-(i-t)),parseInt(t)},r.prototype._getLayoutDataOf=function(n){var t=["val","ind","pos"],e;f.each(t,function(a){a in n&&(e=a)});var i;return f.each(this.dataSectionLayout,,i||{}},r.prototype.getPosOfVal=r.prototype.getPosOfInd=function(n){var t=this._getLayoutDataOf({ind:n}).pos;return t!=null?t:this.getPosOf({ind:n})},r.prototype.getPosOf=function(n){var t,e=this._getCellCount();if(this.layoutType=="proportion")for(var i=this.dataSectionGroup.length,a=this.axisLength/i,s=0,o=i;s<o;s++){var l=this.dataSectionGroup[s],h=f.min(l),u=f.max(l),d="val"in n?n.val:this.getValOfInd(n.ind);if(d>=h&&d<=u){var c=this.origin;(c<h||c>u)&&(c=h);var p=Math.max(Math.abs(u-c),Math.abs(c-h)),v=Math.abs(u-h),_=p/v*a;t=(d-c)/p*_+s*a,isNaN(t)&&(t=parseInt(s*a));break}}else if(e==1)t=this.axisLength/2;else{var g="ind"in n?n.ind:this.getIndexOfVal(n.val);if(g!=-1&&(this.layoutType=="rule"&&(t=g/(e-1)*this.axisLength),this.layoutType=="peak")){var x=this.getCellLength();t=x*(g+1)-x/2}}return!t&&(t=0),t=Number(t.toFixed(1))+this._originTrans,Math.abs(t)},r.prototype.getValOfPos=function(n){var t=this._getLayoutDataOf({pos:n}).val;return t!=null?t:this._getValOfInd(this.getIndexOfPos(n))},r.prototype.getValOfInd=function(n){var t=this._getLayoutDataOf({ind:n}).val;return t!=null?t:this._getValOfInd(n)},r.prototype._getValOfInd=function(n,t){var e=this,i=f.flatten(this.dataOrg),a;if(this.layoutType=="proportion"){var s=this.axisLength/this.dataSectionGroup.length;f.each(this.dataSectionGroup,function(o,l){if(parseInt(n/s)==l||l==e.dataSectionGroup.length-1){var h=f.min(o),u=f.max(o);return a=h+(u-h)/s*(n-s*l),!1}})}else a=i[n];return a},r.prototype.getIndexOfPos=function(n){var t=this._getLayoutDataOf({pos:n}).ind;if(t!=null)return t;var e=0,i=this.getCellLengthOfPos(n),a=this._getCellCount();return this.layoutType=="proportion"?n:(this.layoutType=="peak"&&(e=parseInt(n/i),e==a&&(e=a-1)),this.layoutType=="rule"&&(e=parseInt((n+i/2)/i),a==1&&(e=0)),e)},r.prototype.getIndexOfVal=function(n){var t=-1;if(this.layoutType=="proportion"){var e=this._getLayoutDataOf({val:n}).ind;if(e!=null)return e;t=this.getPosOfVal(n)}else f.each(this.dataOrg,function(i){f.each(i,function(a){var s=f.indexOf(a,n);s!=-1&&(t=s)})});return t},r.prototype.getCellLength=function(){if(this._cellLength!==null)return this._cellLength;var n=this.axisLength,t=n,e=this._getCellCount();return e&&(this.layoutType=="proportion"?t=1:(t=n/e,this.layoutType=="rule"&&(e==1?t=n/2:t=n/(e-1)),this.posParseToInt&&(t=parseInt(t)))),this._cellLength=t,t},r.prototype.getCellLengthOfPos=function(n){return this.getCellLength()},r.prototype.getCellLengthOfInd=r.prototype._getCellCount=function(){if(this._cellCount!==null)return this._cellCount;var n=0;return this.layoutType=="proportion"?n=this.axisLength:this.dataOrg.length&&this.dataOrg[0].length&&this.dataOrg[0][0].length&&(n=this.dataOrg[0][0].length),this._cellCount=n,n},r}();function pi(r){if(r==null&&(r=[]),r.length>0&&!f.isArray(r[0])){for(var n=[],t=[],e=0,i=0,a=r.length;i<a;i++){var s=r[i];if(i==0){for(var o in s)t.push(o);n.push(t),e=t.length}for(var l=[],h=0;h<e;h++)l.push(s[t[h]]);n.push(l)}return n}else return r}function vi(r,n){r=JSON.parse(JSON.stringify(r));var t={length:0,org:[],data:[],getRowDataAt:p,getRowDataOf:v,getFieldData:_,getDataOrg:c,fields:[],range:{start:0,end:0}};if(!r||r.length==0)return t;if(r.length>0&&!f.isArray(r[0])&&(r=pi(r)),t.length=r.length-1,t.range.end=t.length-1,n&&n.dataZoom&&n.dataZoom.range&&f.extend(t.range,n.dataZoom.range),r.length&&r[0].length&&!~r[0].indexOf("__index__"))for(var e=0,i=r.length;e<i;e++)e?r[e].push(e-1):r[0].push("__index__");t.org=r,t.fields=r[0]?r[0]:[];for(var a=[],s=0,o=t.fields.length;s<o;s++){var l={};l.field=t.fields[s],l.index=s,l.data=[],a.push(l)}t.data=a;for(var s=1,o=r.length;s<o;s++)for(var h=0,u=r[s].length;h<u;h++){var d=r[s][h];!isNaN(d)&&d!==""&&d!==null&&(d=Number(d)),a[h].data.push(d)}function c(g,x,m,w){w||(w=0);var C=m||a;if(!C)return;x||(x=function(P){return P});function A(P){for(var W=0,q=P.length;W<q;W++)P[W]=x(P[W]);return P}f.isArray(g)||(g=[g]);for(var T=[],b=0,I=g.length;b<I;b++)if(f.isArray(g[b]))T.push(c(g[b],x,m,w+1));else{var O=T;w||(O=[]);for(var B=0,k=C.length;B<k;B++)if(g[b]==C[B].field){O.push(A(C[B].data.slice(t.range.start,t.range.end+1)));break}w||T.push(O)}return T}function p(g){for(var x={},m=t.data,w=0;w<m.length;w++)x[m[w].field]=m[w].data[t.range.start+g];return x}function v(g){!g&&(g={});var x=[],m=0;for(var w in g)m++;if(m)for(var C=t.range.start;C<=t.range.end;C++){var A=0;f.each(t.data,function(T){T.field in g&&T.data[C]==g[T.field]&&A++}),A==m&&x.push(p(C))}return x}function _(g){var x;return f.each(t.data,,x?x.data.slice(t.range.start,t.range.end+1):[]}return t}var ue=typeof window!="undefined"?window.devicePixelRatio:1,ce=function(r,n){if(document[r]){let t=function(e,i,a){if(e.length)for(var s=0;s<e.length;s++)t(e[s],i,a);else e[r](i,a,!1)};return t}else{let t=function(e,i,a){if(e.length)for(var s=0;s<e.length;s++)t(e[s],i,a);else e[n]("on"+i,};return t}},E={query:function(r){return f.isString(r)?document.getElementById(r):r.nodeType==1?r:r.length?r[0]:null},offset:function(r){var n=r.getBoundingClientRect(),t=r.ownerDocument,e=t.body,i=t.documentElement,a=i.clientTop||e.clientTop||0,s=i.clientLeft||e.clientLeft||0,o=1;if(e.getBoundingClientRect){var l=e.getBoundingClientRect();o=(l.right-l.left)/e.clientWidth}o>1&&(a=0,s=0);var h=n.top/o+(window.pageYOffset||i&&i.scrollTop/o||e.scrollTop/o)-a,u=n.left/o+(window.pageXOffset||i&&i.scrollLeft/o||e.scrollLeft/o)-s;return{top:h,left:u}},addEvent:ce("addEventListener","attachEvent"),removeEvent:ce("removeEventListener","detachEvent"),pageX:function(r){return r.pageX?r.pageX:r.clientX?r.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft):null},pageY:function(r){return r.pageY?r.pageY:r.clientY?r.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):null},createCanvas:function(r,n,t){var e=document.createElement("canvas");return e.style.position="absolute",e.style.width=r+"px",e.style.height=n+"px",e.style.left=0,e.style.top=0,e.setAttribute("width",r*ue),e.setAttribute("height",n*ue),e.setAttribute("id",t),e},createView:function(r,n,t){var e=document.createElement("div");e.className="canvax-view",e.style.cssText+="position:relative;width:100%;height:100%;";var i=document.createElement("div");i.style.cssText+="position:absolute;width:"+r+"px;height:"+n+"px;";var a=document.createElement("div");return a.style.cssText+="position:absolute;width:"+r+"px;height:"+n+"px;",e.appendChild(i),e.appendChild(a),{view:e,stageView:i,domView:a}}},gi=["#ff8533","#73ace6","#82d982","#e673ac","#cd6bed","#8282d9","#c0e650","#e6ac73","#6bcded","#73e6ac","#ed6bcd","#9966cc"],de={colors:gi,set:get:function(){return this.colors}},yi={_eval:function(r,n,t,e){return t?new Function(t,r+"; return ".concat(n,";"))(e):new Function(r+"; return ".concat(n,";"))()},parse:function(r,n,t,e){try{var i=n&&n.length&&n.length===2&&n[1]>n[0];if(!i)return this._eval(r,"options");var a=this._eval(r,"variables");typeof a=="function"&&(a=a(t)||{});var s={};e!==void 0&&(s=typeof e=="function"?e(t):e),s=f.extend(!0,{},a,s);var o=r.slice(0,n[0])+r.slice(n[1]);return this._eval(o,"options","variables",s)}catch(l){return{}}}},pe=!0,ve={create:function(r,n,t){var e=null,i=this,a=ci(n),s=ui(t),o=function(){i.instances[e.id]=null,delete i.instances[e.id]},l=E.query(r).getAttribute("chart_id");if(l!=null){var h=i.instances[l];h&&(h.destroy(),h.off&&h.off("destroy",o)),delete i.instances[l]}var u=2;(i.__dimension==3||i.is3dOpt&&i.is3dOpt(t))&&(u=3);var d=i._getComponentModules(u),c=i._getComponentModule("chart",u);return e=new c(r,a,s,d),e&&(e.draw(),i.instances[e.id]=e,e.on("destroy",o)),e},setGlobalTheme:function(r){de.set(r)},getGlobalTheme:instances:{},getChart:function(r){return this.instances[r]},resize:getOptions:function(r,n){if(!this.options[r])return n||{};var t={prefix:"[[JSON_FUN_PREFIX_",suffix:"_JSON_FUN_SUFFIX]]"},e=function(a){return JSON.parse(a,function(s,o){return typeof o=="string"&&o.indexOf(t.suffix)>0&&o.indexOf(t.prefix)==0?new Function("return "+o.replace(t.prefix,"").replace(t.suffix,""))():o})||{}},i=e(decodeURIComponent(this.options[r]||{}));return n&&(i=f.extend(!0,i,n)),i},getOptionsNew:function(r,n,t,e){if(!this.options[r])return n||{};var i=this.options[r]||{},a=decodeURIComponent(i.code),s=i.range,o=yi.parse(a,s,t,e);return n&&(o=f.extend(!0,o,n)),o},components:{c_2d:{},c_3d:{}},_getComponentModules:function(r){var n=this.components.c_2d;return r==3&&(n=this.components.c_3d),n.modules||(n.modules={}),n.get||(n.get=function(t,e){e||(e="empty"),t=t.toLowerCase(),e=e.toLowerCase();var i=n.modules[t];if(i&&i[e])return i[e]}),n},registerComponent:function(r,n){var t=2,e="empty";if(arguments.length==3){var i=arguments[2];f.isNumber(i)&&i==3&&(t=3),f.isString(i)&&(e=i)}arguments.length==4&&(e=arguments[2],arguments[3]==3&&(t=3));var a=this._getComponentModules(t).modules;n=n.toLowerCase(),e=e.toLowerCase();var s=a[n];return s||(s=a[n]={}),s[e]||(s[e]=r),a},_getComponentModule:function(r){var n=2,t="empty";if(arguments.length==2){var e=arguments[1];f.isNumber(e)&&e==3&&(n=3),f.isString(e)&&(t=e)}arguments.length==3&&(t=arguments[1],arguments[2]==3&&(n=3)),r=r.toLowerCase(),t=t.toLowerCase();var i=this._getComponentModules(n).modules[r];return i?i[t]:void 0},setAnimationEnabled:getAnimationEnabled:function(r){return pe}},_i=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;function mi(r){var n=r.toLowerCase();if(n&&_i.test(n)){if(n.length===4){for(var t="#",e=1;e<4;e+=1)t+=n.slice(e,e+1).concat(n.slice(e,e+1));n=t}for(var i=[],e=1;e<7;e+=2)i.push(parseInt("0x"+n.slice(e,e+2)));return"RGB("+i.join(",")+")"}else return n}var ht=function(r){var n="CanvaxEvent";f.isString(r)&&(n=r),f.isObject(r)&&r.type&&(n=r.type),this.target=null,this.currentTarget=null,this.type=n,this.point=null,this._stopPropagation=!1};ht.prototype={stopPropagation:;var ge="mousedown mouseup mouseover mousemove mouseout click dblclick",Z={_types:ge.split(/,| /),register:function(r){r&&(f.isString(r)&&(r=r.split(/,| /)),this._types=ge.split(/,| /).concat(r))},get:function(){return this._types}},ye=function(){this._eventMap={}};ye.prototype={_setEventEnable:function(){var r=!1;for(var n in this._eventMap)f.indexOf(Z.get(),n)>-1&&(r=!0);this._eventEnabled=r},_addEventListener:function(r,n){if(typeof n!="function")return!1;var t=!0,e=this,i=r;return f.isString(r)&&(i=r.split(/,| /)),f.each(i,function(a){var s=e._eventMap[a];if(!s)return s=e._eventMap[a]=[],s.push(n),e._setEventEnable(),!0;if(f.indexOf(s,n)==-1)return s.push(n),e._setEventEnable(),!0;t=!1}),t},_removeEventListener:function(r,n){if(arguments.length==1)return this.removeEventListenerByType(r);var t=this._eventMap[r];if(!t)return!1;for(var e=0;e<t.length;e++){var i=t[e];if(i===n)return t.splice(e,1),t.length==0&&(delete this._eventMap[r],this._setEventEnable()),!0}return!1},_removeEventListenerByType:function(r){var n=this._eventMap[r];return n?!1:(delete this._eventMap[r],this._setEventEnable(),!0)},_removeAllEventListeners:_dispatchEvent:function(r){var n=this._eventMap[r.type];if(n){r.target||(r.target=this),n=n.slice();for(var t=0;t<n.length;t++){var e=n[t];typeof e=="function"&&e.call(this,r)}}return r._stopPropagation||this.parent&&(r.currentTarget=this.parent,this.parent._dispatchEvent(r)),!0},_hasEventListener:function(r){var n=this._eventMap[r];return n!=null&&n.length>0}};var K=function(r){D(n,r);eturn n.prototype.on=function(t,e){return this._addEventListener(t,e),this},n.prototype.addEventListener=function(t,e){return this._addEventListener(t,e),this},n.prototype.un=function(t,e){return this._removeEventListener(t,e),this},n.prototype.removeEventListener=n.prototype.removeEventListenerByType=n.prototype.removeAllEventListeners=n.prototype.fire=function(t,e){var i=new ht(t);if(e)for(var a in e)a!="type"&&(i[a]=e[a]),i.currentTarget=this;var s=this;return f.each(t.split(" "),,this},n.prototype.dispatchEvent=function(t){if(this.children&&t.point){var e=this.getObjectsUnderPoint(t.point,1)[0];e&&e.dispatchEvent(t);return}if(this.context&&t.type=="mouseover"){var i=this._heartBeatNum,a=this.context.$model.globalAlpha;if(this._dispatchEvent(t),i!=this._heartBeatNum&&(this._hoverClass=!0,this.hoverClone)){var s=this.getStage().parent,o=this.clone(!0);o._transform=this.getConcatenatedMatrix(),s._bufferStage.addChildAt(o,0),this._globalAlpha=a,this.context.globalAlpha=0}return}if(this._dispatchEvent(t),this.context&&t.type=="mouseout"&&this._hoverClass&&this.hoverClone){var s=this.getStage().parent;this._hoverClass=!1,s._bufferStage.removeChildById(this.id),this._globalAlpha&&(this.context.globalAlpha=this._globalAlpha,delete this._globalAlpha)}return this},n.prototype.hasEvent=function(t){return this._hasEventListener(t)},n.prototype.hasEventListener=n.prototype.hover=function(t,e){return this.on("mouseover",t),this.on("mouseout",e),this},n.prototype.once=function(t,e){var i=this,a=function(){e.apply(i,arguments),this.un(t,a)};return this.on(t,a),this},n}(ye),xi=["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown","press","pressup","swipe","swipeleft","swiperight","swipeup","swipedown","tap"],_e=function(r,n){this.canvax=r,this.curPoints=[{x:0,y:0}],this.curPointsTarget=[],this._touching=!1,this._draging=!1,this._cursor="default",this.target=this.canvax.view,this.drag={start:"panstart",move:"panmove",end:"panend"},f.extend(!0,this,n)},me=document&&document.compareDocumentPosition?function(r,n){return n?!!(r.compareDocumentPosition(n)&16):!1}:function(r,n){return n?n!==n&&(r.contains?r.contains(n):!0):!1};_e.prototype={init:function(){var r=this;r.target.nodeType==null&&Z.register(xi),f.each(Z.get(),function(n){r.target.nodeType==1?E.addEvent(r.target,n,function(t){r.__mouseHandler(t)}):r.target.on(n,})},__mouseHandler:function(r){var n=this,t=n.canvax;t.updateViewOffset(),n.curPoints=[{x:E.pageX(r)-t.viewOffset.left,y:E.pageY(r)-t.viewOffset.top}];var e=n.curPoints[0],i=n.curPointsTarget[0];if(r.type=="mousedown"){if(!i){var a=t.getObjectsUnderPoint(e,1)[0];a&&(n.curPointsTarget=[a])}i=n.curPointsTarget[0],i&&i.dragEnabled&&(n._touching=!0)}if((r.type=="mouseup"||r.type=="mouseout"&&!me(t.view,r.toElement||r.relatedTarget))&&(n._draging==!0&&(n._dragEnd(r,i,0),i.fire("dragend")),n._draging=!1,n._touching=!1),r.type=="mouseout")me(t.view,r.toElement||r.relatedTarget)||n.__getcurPointsTarget(r,e,!0);else if(r.type=="mousemove")if(n._touching&&r.type=="mousemove"&&i){if(n._draging)n._dragIngHander(r,i,0);else{i.fire("dragstart"),i._globalAlpha||(i._globalAlpha=i.context.$model.globalAlpha),i.context.globalAlpha=0;var s=n._clone2hoverStage(i,0);s.context.globalAlpha=i._globalAlpha}n._draging=!0}else n.__getcurPointsTarget(r,e);else{var o=i;o||(o=t),n.__dispatchEventInChilds(r,[o]),n._cursorHander(o)}t.preventDefault&&(r&&r.preventDefault?r.preventDefault():window.event.returnValue=!1)},__getcurPointsTarget:function(s,n,t){var e=this,i=e.canvax,a=e.curPointsTarget[0];a&&!a.context&&(a=null);var s=new ht(s);if(s.type=="mousemove"&&a&&a._hoverClass&&a.hoverClone&&a.pointChkPriority&&a.getChildInPoint(n)){s.target=s.currentTarget=a,s.point=a.globalToLocal(n),a.dispatchEvent(s);return}var o=t?null:i.getObjectsUnderPoint(n,1)[0];(a&&a!=o||s.type=="mouseout")&&a&&a.context&&(e.curPointsTarget[0]=null,s.type="mouseout",s.toTarget=o,s.target=s.currentTarget=a,s.point=a.globalToLocal(n),a.dispatchEvent(s)),o&&a!=o&&(e.curPointsTarget[0]=o,s.type="mouseover",s.fromTarget=a,s.target=s.currentTarget=o,s.point=o.globalToLocal(n),o.dispatchEvent(s)),s.type=="mousemove"&&o&&(s.target=s.currentTarget=a,s.point=a.globalToLocal(n),a.dispatchEvent(s)),e._cursorHander(o,a)},_cursorHander:function(r,n){!r&&!n&&this._setCursor("default"),r&&n!=r&&r.context&&this._setCursor(r.context.$model.cursor)},_setCursor:function(r){this._cursor!=r&&(this.canvax.view.style.cursor=r,this._cursor=r)},__libHandler:function(r){var n=this,t=n.canvax;t.updateViewOffset(),n.curPoints=n.__getCanvaxPointInTouchs(r),n._draging||(n.curPointsTarget=n.__getChildInTouchs(n.curPoints)),n.curPointsTarget.length>0?(r.type==n.drag.start&&f.each(n.curPointsTarget,function(e,i){if(e&&e.dragEnabled)return n._draging=!0,e._globalAlpha||(e._globalAlpha=e.context.$model.globalAlpha),n._clone2hoverStage(e,i),e.context.globalAlpha=0,e.fire("dragstart"),!1}),r.type==n.drag.move&&n._draging&&f.each(n.curPointsTarget,function(e,i){e&&e.dragEnabled&&n._dragIngHander(r,e,i)}),r.type==n.drag.end&&n._draging&&(f.each(n.curPointsTarget,function(e,i){e&&e.dragEnabled&&(n._dragEnd(r,e,0),e.fire("dragend"))}),n._draging=!1),n.__dispatchEventInChilds(r,n.curPointsTarget)):n.__dispatchEventInChilds(r,[t])},__getCanvaxPointInTouchs:function(r){var n=this,t=n.canvax,e=[];return f.each(r.point,function(i){e.push({x:E.pageX(i)-t.viewOffset.left,y:E.pageY(i)-t.viewOffset.top})}),e},__getChildInTouchs:function(r){var n=this,t=n.canvax,e=[];return f.each(r,function(i){e.push(t.getObjectsUnderPoint(i,1)[0])}),e},__dispatchEventInChilds:function(r,n){if(!n&&!("length"in n))return!1;var t=this,e=!1;return f.each(n,function(i,a){if(i){e=!0;var s=new ht(r);s.target=s.currentTarget=i||this,s.stagePoint=t.curPoints[a],s.point=s.target.globalToLocal(s.stagePoint),i.dispatchEvent(s)}}),e},_clone2hoverStage:function(r,n){var t=this,e=t.canvax,i=e._bufferStage.getChildById(r.id);return i||(i=r.clone(!0),i._transform=r.getConcatenatedMatrix(),e._bufferStage.addChildAt(i,0)),i.context.globalAlpha=r._globalAlpha,r._dragPoint=r.globalToLocal(t.curPoints[n]),i},_dragIngHander:function(r,n,t){var e=this,i=e.canvax,a=n.globalToLocal(e.curPoints[t]);n._noHeart=!0;var s=n.moveing;n.moveing=!0,n.context.x+=a.x-n._dragPoint.x,n.context.y+=a.y-n._dragPoint.y,n.fire("draging"),n.moveing=s,n._noHeart=!1;var o=i._bufferStage.getChildById(n.id);o._transform=n.getConcatenatedMatrix(),o.worldTransform=null,o.heartBeat()},_dragEnd:function(r,n,t){var e=this,i=e.canvax,a=i._bufferStage.getChildById(n.id);a&&a.destroy(),n.context.globalAlpha=n._globalAlpha}};var L={mainFrameRate:60,now:0,_pixelCtx:null,__emptyFunc:function(){},_devicePixelRatio:typeof window!="undefined"?window.devicePixelRatio:1,_UID:0,getUID:createId:function(r){var n=r.charCodeAt(r.length-1);return n>=48&&n<=57&&(r+="_"),r+L.getUID()},canvasSupport:initElement:function(r){return window.FlashCanvas&&FlashCanvas.initElement&&FlashCanvas.initElement(r),r},getCssOrderArr:function(r){var n,t,e,i;return typeof r=="number"?n=t=e=i=r:r instanceof Array?r.length===1?n=t=e=i=r[0]:r.length===2?(n=e=r[0],t=i=r[1]):r.length===3?(n=r[0],t=i=r[1],e=r[2]):(n=r[0],t=r[1],e=r[2],i=r[3]):n=t=e=i=0,[n,t,e,i]},isWebGLSupported:function(){var r={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var n=document.createElement("canvas"),t=n.getContext("webgl",r)||n.getContext("experimental-webgl",r);return!!(t&&t.getContextAttributes().stencil)}catch(e){return!1}},checkOpt:function(r){return r?r.context||(r.context={}):r={context:{}},r}};L._pixelCtx=L.initElement(E.createCanvas(1,1,"_pixelCanvas")).getContext("2d");var z=function(r,n,t,e,i,a){this.a=r!=null?r:1,this.b=n!=null?n:0,this.c=t!=null?t:0,this.d=e!=null?e:1,this.tx=i!=null?i:0,this.ty=a!=null?a:0,this.array=null};z.prototype={concat:function(r){var n=this.a,t=this.c,e=this.tx;return this.a=n*r.a+this.b*r.c,this.b=n*r.b+this.b*r.d,this.c=t*r.a+this.d*r.c,this.d=t*r.b+this.d*r.d,this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty,this},concatTransform:function(r,n,t,e,i){var a=1,s=0;if(i%360){var o=i*Math.PI/180;a=Math.cos(o),s=Math.sin(o)}return this.concat(new z(a*t,s*t,-s*e,a*e,r,n)),this},rotate:function(r){var n=Math.cos(r),t=Math.sin(r),e=this.a,i=this.c,a=this.tx;if(r>0)this.a=e*n-this.b*t,this.b=e*t+this.b*n,this.c=i*n-this.d*t,this.d=i*t+this.d*n,this.tx=a*n-this.ty*t,this.ty=a*t+this.ty*n;else{var s=Math.sin(Math.abs(r)),o=Math.cos(Math.abs(r));this.a=e*o+this.b*s,this.b=-e*s+this.b*o,this.c=i*o+this.d*s,this.d=-i*s+o*this.d,this.tx=o*a+s*this.ty,this.ty=o*this.ty-s*a}return this},scale:translate:identity:invert:clone:toArray:function(r,n){if(arguments.length==0)return[this.a,this.b,this.c,this.d,this.tx,this.ty];this.array||(this.array=new Float32Array(9));var t=n||this.array;return r?(t[0]=this.a,t[1]=this.b,t[2]=0,t[3]=this.c,t[4]=this.d,t[5]=0,t[6]=this.tx,t[7]=this.ty,t[8]=1):(t[0]=this.a,t[1]=this.c,t[2]=this.tx,t[3]=this.b,t[4]=this.d,t[5]=this.ty,t[6]=0,t[7]=0,t[8]=1),t},mulVector:function(r){var n=this.a,t=this.c,e=this.tx,i=this.b,a=this.d,s=this.ty,o=[0,0];return o[0]=r[0]*n+r[1]*t+e,o[1]=r[0]*i+r[1]*a+s,o}};var V=function(){function r(n,t){if(n===void 0&&(n=0),t===void 0&&(t=0),arguments.length==1&&typeof arguments[0]=="object"){var e=arguments[0];if("x"in e&&"y"in e)this.x=e.x*1,this.y=e.y*1;else{var i=0;for(var a in e){if(i==0)this.x=e[a]*1;else{this.y=e[a]*1;break}i++}}}else this.x=n*1,this.y=t*1}return r.prototype.toArray=r}(),Ai=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};ar ft=wi(function(r,n){var t=t.prototype={getAll:removeAll:add:remove:update:function(i,a){var s=Object.keys(this._tweens);if(s.length===0)return!1;for(i=i!==void 0?i:e.now();s.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<s.length;o++){var l=this._tweens[s[o]];l&&l.update(i)===!1&&(l._isPlaying=!1,a||delete this._tweens[s[o]])}s=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var e=new t;e.Group=t,e._nextId=0,e.nextId=typeof window=="undefined"&&typeof process!="undefined"?e.now=typeof window!="undefined"&&window.performance!==void 0&&window.performance.now!==void 0?e.now=window.performance.now.bind(window.performance):Date.now!==void 0?e.now=Date.now:e.now=e.Tween=e.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(a,s){return this._valuesEnd=a,s!==void 0&&(this._duration=s),this},start:function(a){this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=a!==void 0?typeof a=="string"?e.now()+parseFloat(a):a:e.now(),this._startTime+=this._delayTime;for(var s in this._valuesEnd){if(this._valuesEnd[s]instanceof Array){if(this._valuesEnd[s].length===0)continue;this._valuesEnd[s]=[this._object[s]].concat(this._valuesEnd[s])}this._object[s]!==void 0&&(this._valuesStart[s]=this._object[s],this._valuesStart[s]instanceof Array||(this._valuesStart[s]*=1),this._valuesStartRepeat[s]=this._valuesStart[s]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._onStopCallback!==null&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:stopChainedTweens:group:function(i){return this._group=i,this},delay:function(a){return this._delayTime=a,this},repeat:function(a){return this._repeat=a,this},repeatDelay:function(a){return this._repeatDelayTime=a,this},yoyo:function(a){return this._yoyo=a,this},easing:function(a){return this._easingFunction=a,this},interpolation:function(a){return this._interpolationFunction=a,this},chain:onStart:function(a){return this._onStartCallback=a,this},onUpdate:function(a){return this._onUpdateCallback=a,this},onComplete:function(a){return this._onCompleteCallback=a,this},onStop:update:function(a){var s,o,l;if(a<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback!==null&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),o=(a-this._startTime)/this._duration,o=this._duration===0||o>1?1:o,l=this._easingFunction(o);for(s in this._valuesEnd)if(this._valuesStart[s]!==void 0){var h=this._valuesStart[s]||0,u=this._valuesEnd[s];u instanceof Array?this._object[s]=this._interpolationFunction(u,l):(typeof u=="string"&&(u.charAt(0)==="+"||u.charAt(0)==="-"?u=h+parseFloat(u):u=parseFloat(u)),typeof u=="number"&&(this._object[s]=h+(u-h)*l))}if(this._onUpdateCallback!==null&&this._onUpdateCallback(this._object),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(s in this._valuesStartRepeat){if(typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo){var d=this._valuesStartRepeat[s];this._valuesStartRepeat[s]=this._valuesEnd[s],this._valuesEnd[s]=d}this._valuesStart[s]=this._valuesStartRepeat[s]}return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=a+this._repeatDelayTime:this._startTime=a+this._delayTime,!0}else{this._onCompleteCallback!==null&&this._onCompleteCallback(this._object);for(var c=0,p=this._chainedTweens.length;c<p;c++)this._chainedTweens[c].start(this._startTime+this._duration);return!1}return!0}},e.Easing={Linear:{None:,Quadratic:{In:Out:InOut:,Cubic:{In:Out:InOut:,Quartic:{In:Out:InOut:,Quintic:{In:Out:InOut:,Sinusoidal:{In:Out:InOut:,Exponential:{In:Out:InOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)}},Circular:{In:Out:InOut:,Elastic:{In:function(i){return i===0?0:i===1?1:-Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI)},Out:function(i){return i===0?0:i===1?1:Math.pow(2,-10*i)*Math.sin((i-.1)*5*Math.PI)+1},InOut:function(i){return i===0?0:i===1?1:(i*=2,i<1?-.5*Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI):.5*Math.pow(2,-10*(i-1))*Math.sin((i-1.1)*5*Math.PI)+1)}},Back:{In:Out:InOut:,Bounce:{In:Out:InOut:function(i){return i<.5?e.Easing.Bounce.In(i*2)*.5:e.Easing.Bounce.Out(i*2-1)*.5+.5}}},e.Interpolation={Linear:Bezier:CatmullRom:Utils:{Linear:Bernstein:Factorial:),CatmullRom:},Ai)}),xe=0,j,tt;if(typeof window!="undefined"){j=window.requestAnimationFrame,tt=window.cancelAnimationFrame;for(var ut=["ms","moz","webkit","o"],et=0;et<ut.length&&!window.requestAnimationFrame;++et)j=window.requestAnimationFrame=window[ut[et]+"RequestAnimationFrame"],tt=window.cancelAnimationFrame=window[ut[et]+"CancelAnimationFrame"]||window[ut[et]+"CancelRequestAnimationFrame"]}j||(j=,tt||(tt=;var Y=[],J=null;function Ci(){return J||(J=j(function(){ft.update();var r=Y;for(Y=[],J=null;r.length>0;)r.shift().task()})),J}function Ae(r){if(r)return Y.push(r),Ci()}function wt(r){for(var n=!1,t=0,e=Y.length;t<e;t++)Y[t].id===r.id&&(n=!0,Y.splice(t,1),t--,e--);return Y.length==0&&(tt(J),J=null),n}function Si(r){var n=f.extend({from:null,to:null,duration:500,onStart:function(){},onUpdate:function(){},onComplete:function(){},onStop:function(){},repeat:0,delay:0,easing:"Linear.None",desc:""},r);ve.getAnimationEnabled()||(n.duration=0,n.delay=0);var t={},e="tween_"+L.getUID();if(n.id&&(e=e+"_"+n.id),n.from&&n.to){let i=function(){if(t._isCompleteed||t._isStoped){t=null;return}Ae({id:e,task:i,desc:n.desc,tween:t})};t=new ft.Tween(n.from).to(n.to,n.duration).onStart(function(){n.onStart(n.from)}).onUpdate(.onComplete(function(){wt({id:e}),t._isCompleteed=!0,n.onComplete(n.from)}).onStop(function(){wt({id:e}),t._isStoped=!0,n.onStop(n.from)}).repeat(n.repeat).delay(n.delay).easing(ft.Easing[n.easing.split(".")[0]][n.easing.split(".")[1]]),t.id=e,t.start(),i()}return t}ar ct={registFrame:Ae,destroyFrame:wt,registTween:Si,destroyTween:Ti,Tween:ft,taskList:Y};function Ct(r){var n=!0,t={},e={},i=["$watch","$model"],a={},s=i;function o(h,u){f.indexOf(i,h)===-1&&(a[h]=u);var d=typeof u;if(!(f.indexOf(s,h)>-1))if(d==="function")s.push(h);else{var c=function(p){var v=a[h],_=v,g;if(arguments.length){var x=typeof p;if(n)return;v!==p&&(p&&x==="object"&&!(p instanceof Array)&&!p.addColorStop?(v=p.$model?p:Ct(p,p),g=v.$model):v=p,a[h]=g||v,d!=x&&(d=x),t.$watch&&t.$watch.call(t,h,v,_))}else return v&&d==="object"&&!(v instanceof Array)&&!v.$model&&!v.addColorStop&&(v=Ct(v,v),v.$watch=t.$watch,a[h]=v),v};e[h]={set:c,get:c,enumerable:!0}}}for(var l in r)o(l,r[l]);return t=we(t,e,s),f.forEach(s,function(h){r[h]&&(typeof r[h]=="function"?t[h]=t[h]=r[h])}),t.$model=a,t.hasOwnProperty=n=!1,t}var St=Object.defineProperty;try{St({},"_",{value:"x"});var we=Object.defineProperties}catch(r){"__defineGetter__"in Object&&(St=function(n,t,e){return"value"in e&&(n[t]=e.value),"get"in e&&n.__defineGetter__(t,e.get),"set"in e&&n.__defineSetter__(t,e.set),n},we=function(n,t){for(var e in t)t.hasOwnProperty(e)&&St(n,e,t[e]);return n})}var Mn=Math.PI*2,Bn=180/Math.PI,Fn=Math.PI/180,Ce={UNKNOWN:0,WEBGL:1,CANVAS:2},F={POLY:0,RECT:1,CIRC:2,ELIP:3},bi=["x","y","scaleX","scaleY","rotation","scaleOrigin","rotateOrigin"],Di=["lineWidth","lineAlpha","strokeStyle","fillStyle","fillAlpha","globalAlpha"],Li=function(r,n,t,e){var i=r[0],a=r[1],s=r[2],o=r[3],l=Math.max(e,3),h=0,u=i;if(t>a+l&&t>o+l||t<a-l&&t<o-l||n>i+l&&n>s+l||n<i-l&&n<s-l)return!1;if(i!==s)h=(a-o)/(i-s),u=(i*o-s*a)/(i-s);else return Math.abs(n-i)<=l/2;var d=(h*n-t+u)*(h*n-t+u)/(h*h+1);return d<=l/2*l/2};function Pi(r,n,t,e){for(var i=r.shape.points,a=r.lineWidth,s=!1,o=0;o<i.length&&(s=Li(i.slice(o,o+4),n,t,a),!s);++o)o+=1;return s}var it={RESOLUTION:typeof window!="undefined"?window.devicePixelRatio:1,TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,FILTER_RESOLUTION:1,SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@(.+)x/,RENDER_OPTIONS:{view:null,antialias:!0,forceFXAA:!1,autoResize:!1,transparent:!0,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION:"mediump"},dt=function(r){D(n,r);function n(t){var e=r.call(this,t)||this;e._transform=null,e.worldTransform=null,e._transformChange=!1,e._heartBeatNum=0,e.stage=null,e.parent=null,e.xyToInt="xyToInt"in t?t.xyToInt:!0,e.moveing=!1,e.clip=null,e.context=e._createContext(t),e.type=t.type||"DisplayObject",e.id=t.id||L.createId(e.type),e._trackList=[],e.init.apply(e,arguments),e._updateTransform(),e._tweens=[];var i=e;return e.on("destroy",,e}return n.prototype.init=function(){},n.prototype.clipTo=function(t){this.clip=t,t.isClip=!0},n.prototype._createContext=function(t){var e=this,i=t.context||{},a={width:i.width||0,height:i.height||0,x:i.x||0,y:i.y||0,scaleX:i.scaleX||1,scaleY:i.scaleY||1,scaleOrigin:i.scaleOrigin||{x:0,y:0},rotation:i.rotation||0,rotateOrigin:i.rotateOrigin||{x:0,y:0},visible:i.visible||!0,globalAlpha:i.globalAlpha||1};return f.extend(!0,a,t.context),e._notWatch=!1,e._noHeart=!1,a.$watch=function(s,o,l){var h=e;h.context&&(s=="globalGalpha"&&(h._globalAlphaChange=!0),f.indexOf(bi,s)>-1&&(h._updateTransform(),h._transformChange=!0),!h._notWatch&&(h.$watch&&(h._notWatch=!0,h.$watch(s,o,l),h._notWatch=!1),!h._noHeart&&h.heartBeat({convertType:"context",shape:h,name:s,value:o,preValue:l})))},Ct(a)},n.prototype.track=function(t){f.indexOf(this._trackList,t)==-1&&this._trackList.push(t)},n.prototype.untrack=function(t){var e=f.indexOf(this._trackList,t);e>-1&&this._trackList.splice(e,1)},n.prototype.clone=function(t){var e={id:this.id,context:f.clone(this.context.$model),isClone:!0},i;return this.type=="text"?i=new this.constructor(this.text,e):i=new this.constructor(e),i.id=e.id,this.children&&(i.children=this.children),this.graphics&&(i.graphics=this.graphics.clone()),t||(i.id=L.createId(i.type)),i},n.prototype.heartBeat=function(t){var e=this.getStage();e&&(this._heartBeatNum++,e.heartBeat&&e.heartBeat(t))},n.prototype.getCurrentWidth=function(){return Math.abs(this.context.$model.width*this.context.$model.scaleX)},n.prototype.getCurrentHeight=function(){return Math.abs(this.context.$model.height*this.context.$model.scaleY)},n.prototype.getStage=function(){if(this.stage)return this.stage;var t=this;if(t.type!="stage"){for(;t.parent&&(t=t.parent,t.type!="stage"););if(t.type!=="stage")return!1}return this.stage=t,t},n.prototype.localToGlobal=function(t,e){!t&&(t=new V(0,0));var i=this.getConcatenatedMatrix(e);if(i==null)return V(0,0);var a=new z(1,0,0,1,t.x,t.y);return a.concat(i),new V(a.tx,a.ty)},n.prototype.globalToLocal=function(t,e){if(!t&&(t=new V(0,0)),this.type=="stage")return t;var i=this.getConcatenatedMatrix(e);if(i==null)return new V(0,0);i.invert();var a=new z(1,0,0,1,t.x,t.y);return a.concat(i),new V(a.tx,a.ty)},n.prototype.localToTarget=n.prototype.getConcatenatedMatrix=function(t){for(var e=new z,i=this;i!=null;i=i.parent)if(e.concat(i._transform),!i.parent||t&&i.parent&&i.parent==t||i.parent&&i.parent.type=="stage")return e;return e},n.prototype.setEventEnable=function(t){return f.isBoolean(t)?(this._eventEnabled=t,!0):!1},n.prototype.getIndex=function(){if(this.parent)return f.indexOf(this.parent.children,this)},n.prototype.toBack=function(t){if(this.parent){var e=this.getIndex(),i=0;if(f.isNumber(t)){if(t==0)return;i=e-t}var a=this.parent.children.splice(e,1)[0];i<0&&(i=0),this.parent.addChildAt(a,i)}},n.prototype.toFront=function(t){if(this.parent){var e=this.getIndex(),i=this.parent.children.length,a=i;if(f.isNumber(t)){if(t==0)return;a=e+t+1}var s=this.parent.children.splice(e,1)[0];a>i&&(a=i),this.parent.addChildAt(s,a-1)}},n.prototype._updateTransform=function(){var t=new z;t.identity();var e=this.context;if(e.scaleX!==1||e.scaleY!==1){var i=new V(e.scaleOrigin);(i.x||i.y)&&t.translate(-i.x,-i.y),t.scale(e.scaleX,e.scaleY),(i.x||i.y)&&t.translate(i.x,i.y)}var a=e.rotation;if(a){var i=new V(e.rotateOrigin);(i.x||i.y)&&t.translate(-i.x,-i.y),t.rotate(a%360*Math.PI/180),(i.x||i.y)&&t.translate(i.x,i.y)}var s,o;if(this.xyToInt&&!this.moveing){var s=parseInt(e.x),o=parseInt(e.y);parseInt(e.lineWidth,10)%2==1&&e.strokeStyle&&(s+=.5,o+=.5)}else s=e.x,o=e.y;return(s!=0||o!=0)&&t.translate(s,o),this._transform=t,t},n.prototype.setWorldTransform=function(){var t=new z;return t.concat(this._transform),this.parent&&t.concat(this.parent.worldTransform),this.worldTransform=t,this.worldTransform},n.prototype.getChildInPoint=function(t){var e=!1,i=t.x,a=t.y;if(this.worldTransform){var s=this.worldTransform.clone().invert(),o=[i*it.RESOLUTION,a*it.RESOLUTION];o=s.mulVector(o),i=o[0],a=o[1]}if(this.graphics&&(e=this.containsPoint({x:i,y:a})),this.type=="text"){var l=this.getRect();return!l.width||!l.height?!1:(i>=l.x&&i<=l.x+l.width&&(l.height>=0&&a>=l.y&&a<=l.y+l.height||l.height<0&&a<=l.y&&a>=l.y+l.height)?e=!0:e=!1,e)}return e},n.prototype.containsPoint=function(t){for(var e=!1,i=0;i<this.graphics.graphicsData.length;++i){var a=this.graphics.graphicsData[i];if(a.shape&&(a.hasFill()&&a.shape.contains(t.x,t.y)&&(e=!0,e)||a.hasLine()&&a.shape.points&&(e=Pi(a,t.x,t.y),e)))break}return e},n.prototype.animate=function(t,e,i){if(i||(i=this.context),!!i){var a=t,s=null;for(var o in a){if(f.isObject(a[o])){this.animate(a[o],f.extend({},e),i[o]);continue}if(isNaN(a[o])&&a[o]!==""&&a[o]!==null){i[o]=a[o],delete a[o];continue}s||(s={}),s[o]=i[o]}if(s){!e&&(e={}),e.from=s,e.to=a;var l=this,h=function(){};e.onUpdate&&(h=e.onUpdate);var u;e.onUpdate=function(c){if(!i&&u){ct.destroyTween(u),u=null;return}for(var p in c)i[p]=c[p];h.apply(l,[c])};var d=return e.onComplete&&(d=e.onComplete),e.onComplete=e.onStop=e.desc="tweenType:DisplayObject.animate__id:"+this.id+"__objectType:"+this.type,u=ct.registTween(e),this._tweens.push(u),u}}},n.prototype._removeTween=function(t){for(var e=0;e<this._tweens.length;e++)if(t==this._tweens[e]){this._tweens.splice(e,1);break}},n.prototype.removeAnimate=n.prototype.cleanAnimates=function(){this._cleanAnimates()},n.prototype._cleanAnimates=n.prototype.remove=n.prototype.destroy=n.prototype._destroy=function(){this.remove(),this.fire("destroy"),this.context=null,delete this.context},n}(K),pt=function(r){D(n,r);function n(t){var e=r.call(this,t)||this;return e.children=[],e.mouseChildren=[],e._eventEnabled=!0,e}return n.prototype.addChild=function(t,e){if(t)return this.getChildIndex(t)!=-1?(t.parent=this,t):(t.parent&&t.parent.removeChild(t),e===void 0&&(e=this.children.length),this.children.splice(e,0,t),t.parent=this,this.heartBeat&&this.heartBeat({convertType:"children",target:t,src:this}),this._afterAddChild&&this._afterAddChild(t),t)},n.prototype.addChildAt=function(t,e){return this.addChild(t,e)},n.prototype.removeChild=function(t){return this.removeChildAt(f.indexOf(this.children,t))},n.prototype.removeChildAt=function(t){if(t<0||t>this.children.length-1)return!1;var e=this.children[t];return e!=null&&(e.parent=null),this.children.splice(t,1),this.heartBeat&&this.heartBeat({convertType:"children",target:e,src:this}),this._afterDelChild&&this._afterDelChild(e,t),e},n.prototype.removeChildById=function(t){for(var e=0,i=this.children.length;e<i;e++)if(this.children[e].id==t)return this.removeChildAt(e);return!1},n.prototype.removeAllChildren=function(){for(;this.children.length>0;)this.removeChildAt(0)},n.prototype.destroy=function(){for(var t=0,e=this.children.length;t<e;t++)this.getChildAt(t).destroy(),t--,e--;this._destroy()},n.prototype.cleanAnimates=function(){for(var t=0,e=this.children.length;t<e;t++)this.getChildAt(t).cleanAnimates();this._cleanAnimates()},n.prototype.getChildById=function(t,e){if(e)return null;for(var i=0,a=this.children.length;i<a;i++)if(this.children[i].id==t)return this.children[i];return null},n.prototype.getChildAt=function(t){return t<0||t>this.children.length-1?null:this.children[t]},n.prototype.getChildIndex=n.prototype.setChildIndex=function(t,e){if(t.parent==this){var i=f.indexOf(this.children,t);e!=i&&(this.children.splice(i,1),this.children.splice(e,0,t))}},n.prototype.getNumChildren=n.prototype.getObjectsUnderPoint=function(t,e){for(var i=[],a=this.children.length-1;a>=0;a--){var s=this.children[a];if(!(s==null||!s.context.$model.visible))if(s instanceof n){if(s.mouseChildren&&s.getNumChildren()>0){var o=s.getObjectsUnderPoint(t);o.length>0&&(i=i.concat(o))}}else{if(!s._eventEnabled&&!s.dragEnabled)continue;if(s.getChildInPoint(t)&&(i.push(s),e!=null&&!isNaN(e)&&i.length==e))return i}}return i},n}(dt),Se=function(r){D(n,r);function n(t){var e=this;return t.type="stage",e=r.call(this,t)||this,e.canvas=null,e.ctx=null,e.stageRending=!1,e._isReady=!1,e}return n.prototype.initStage=function(t,e,i){var a=this;a.canvas=t;var s=a.context;s.width=e,s.height=i,s.scaleX=L._devicePixelRatio,s.scaleY=L._devicePixelRatio,a._isReady=!0},n.prototype.heartBeat=function(t){this._isReady&&(t||(t={}),t.stage=this,this.parent&&this.parent.heartBeat(t))},n}(pt),Ii=function(){function r(n,t,e){if(n===void 0&&(n=Ce.UNKNOWN),this.type=n,this.app=t,e)for(var i in it.RENDER_OPTIONS)typeof e[i]=="undefined"&&(e[i]=it.RENDER_OPTIONS[i]);else e=it.RENDER_OPTIONS;this.options=e,this.requestAid=null,this._heartBeat=!1,this._preRenderTime=0}return r.prototype.startEnter=function(){var n=this;n.requestAid||(n.requestAid=ct.registFrame({id:"enterFrame",task:))},r.prototype.enterFrame=function(){var n=this;n.requestAid=null,L.now=new Date().getTime(),n._heartBeat&&(this.app.children.length&&n.render(this.app),n._heartBeat=!1,n._preRenderTime=new Date().getTime())},r.prototype._convertCanvax=function(n){var t=this;f.each(t.app.children,},r.prototype.heartBeat=function(n){var t=this;if(n){if(n.convertType=="context"){var e=n.stage,i=n.shape,a=n.name,s=n.value,o=n.preValue;if(i.type=="canvax")t._convertCanvax(n);else if(t.app.convertStages[e.id]||(t.app.convertStages[e.id]={stage:e,convertShapes:{}}),i)if(!t.app.convertStages[e.id].convertShapes[i.id])t.app.convertStages[e.id].convertShapes[i.id]={shape:i,convertType:n.convertType};else return}if(n.convertType=="children"){var l=n.target,e=n.src.getStage();(e||l.type=="stage")&&(e=e||l,t.app.convertStages[e.id]||(t.app.convertStages[e.id]={stage:e,convertShapes:{}}))}if(!n.convertType){var e=n.stage;t.app.convertStages[e.id]||(t.app.convertStages[e.id]={stage:e,convertShapes:{}})}}else f.each(t.app.children,function(h,u){t.app.convertStages[h.id]={stage:h,convertShapes:{}}});t._heartBeat?t._heartBeat=!0:(t._heartBeat=!0,t.startEnter())},r}(),Oi=function(){eturn r.prototype.render=function(n,t,e,i){for(var a=this.renderer,s=n.graphics.graphicsData,o=t.ctx,l=0;l<s.length;l++){var h=s[l],u=h.shape,d=h.fillStyle,c=h.strokeStyle,p=h.hasFill()&&h.fillAlpha&&!i,v=h.hasLine()&&h.lineAlpha&&!i;if(o.lineWidth=h.lineWidth,h.type===F.POLY)o.beginPath(),this.renderPolygon(u.points,u.closed,o,i),p&&(o.globalAlpha=h.fillAlpha*e,o.fillStyle=d,o.fill()),v&&(o.globalAlpha=h.lineAlpha*e,o.strokeStyle=c,o.stroke());else if(h.type===F.RECT)i&&o.rect(u.x,u.y,u.width,u.height),p&&(o.globalAlpha=h.fillAlpha*e,o.fillStyle=d,o.fillRect(u.x,u.y,u.width,u.height)),v&&(o.globalAlpha=h.lineAlpha*e,o.strokeStyle=c,o.strokeRect(u.x,u.y,u.width,u.height));else if(h.type===F.CIRC)o.beginPath(),o.arc(u.x,u.y,u.radius,0,2*Math.PI),o.closePath(),p&&(o.globalAlpha=h.fillAlpha*e,o.fillStyle=d,o.fill()),v&&(o.globalAlpha=h.lineAlpha*e,o.strokeStyle=c,o.stroke());else if(h.type===F.ELIP){var _=u.width*2,g=u.height*2,x=u.x-_/2,m=u.y-g/2;o.beginPath();var w=.5522848,C=_/2*w,A=g/2*w,T=x+_,b=m+g,I=x+_/2,O=m+g/2;o.moveTo(x,O),o.bezierCurveTo(x,O-A,I-C,m,I,m),o.bezierCurveTo(I+C,m,T,O-A,T,O),o.bezierCurveTo(T,O+A,I+C,b,I,b),o.bezierCurveTo(I-C,b,x,O+A,x,O),o.closePath(),p&&(o.globalAlpha=h.fillAlpha*e,o.fillStyle=d,o.fill()),v&&(o.globalAlpha=h.lineAlpha*e,o.strokeStyle=c,o.stroke())}}},r.prototype.renderPolygon=function(n,t,e,i){e.moveTo(n[0],n[1]);for(var a=1;a<n.length/2;++a)e.lineTo(n[a*2],n[a*2+1]);(t||i)&&e.closePath()},r}(),Ei=function(r){D(n,r);function n(t,e){e===void 0&&(e={});var i=r.call(this,Ce.CANVAS,t,e)||this;return i.CGR=new Oi(i),i}return n.prototype.render=function(t){var e=this;e.app=t,f.each(f.values(t.convertStages),,t.convertStages={}},n.prototype.renderStage=function(t){t.ctx||(t.ctx=t.canvas.getContext("2d")),t.stageRending=!0,t.setWorldTransform(),this._clear(t),this._render(t,t,t.context.globalAlpha),t.stageRending=!1},n.prototype._render=function(t,e,i){var a=t.ctx;if(a){var s=e.context.$model;if((!e.worldTransform||e._transformChange||e.parent&&e.parent._transformChange)&&(e.setWorldTransform(),e._transformChange=!0),i*=s.globalAlpha,!(!s.visible||e.isClip)){a.setTransform.apply(a,e.worldTransform.toArray());var o=!1;if(e.clip&&e.clip.graphics){var l=e.clip;a.save(),o=!0,(!l.worldTransform||l._transformChange||l.parent._transformChange)&&(l.setWorldTransform(),l._transformChange=!0),a.setTransform.apply(a,l.worldTransform.toArray()),l.graphics.graphicsData.length||l._draw(l.graphics),this.CGR.render(l,t,i,o),l._transformChange=!1,a.clip()}if(e.graphics&&(e.graphics.graphicsData.length||e._draw(e.graphics),i&&this.CGR.render(e,t,i)),e.type=="text"&&e.render(a,i),e.children)for(var h=0,u=e.children.length;h<u;h++)this._render(t,e.children[h],i);e._transformChange=!1,o&&a.restore()}}},n.prototype._clear=function(t){var e=t.ctx;e.setTransform.apply(e,t.worldTransform.toArray()),e.clearRect(0,0,this.app.width,this.app.height)},n}(Ii);ar Bi=function(r){D(n,r);function n(t,e){e===void 0&&(e={});var i=this;t.type="canvax",i=r.call(this,t)||this,i._cid=new Date().getTime()+"_"+Math.floor(Math.random()*100),i.el=E.query(t.el),i.width=parseInt("width"in t||i.el.offsetWidth,10),i.height=parseInt("height"in t||i.el.offsetHeight,10);var a=E.createView(i.width,i.height,i._cid);return i.view=a.view,i.stageView=a.stageView,i.domView=a.domView,i.el.innerHTML="",i.el.appendChild(i.view),i.viewOffset=E.offset(i.view),i.lastGetRO=0,i.webGL=t.webGL,i.renderer=Mi(i,e),i.event=null,i.preventDefault=!0,t.preventDefault===!1&&(i.preventDefault=!1),i.convertStages={},i.context.$model.width=i.width,i.context.$model.height=i.height,i._bufferStage=null,i._creatHoverStage(),i.worldTransform=new z().identity(),i}return n.prototype.registEvent=function(t){return this.event=new _e(this,t),this.event.init(),this.event},n.prototype.destroy=function(){for(var t=0,e=this.children.length;t<e;t++){var i=this.children[t];i.destroy(),i.canvas=null,i.ctx=null,i=null,t--,e--}this.view.removeChild(this.stageView),this.view.removeChild(this.domView),this.el.removeChild(this.view),this.el.innerHTML="",this.event=null,this._bufferStage=null},n.prototype.resize=function(t){this.width=parseInt(t&&"width"in t||this.el.offsetWidth,10),this.height=parseInt(t&&"height"in t||this.el.offsetHeight,10),this.viewOffset=E.offset(this.view),this.context.$model.width=this.width,this.context.$model.height=this.height;var e=this,i=function(a){a.style.width=e.width+"px",a.style.height=e.height+"px",a.setAttribute("width",e.width*L._devicePixelRatio),a.setAttribute("height",e.height*L._devicePixelRatio)};f.each(this.children,function(a,s){a.context.$model.width=e.width,a.context.$model.height=e.height,i(a.canvas)}),this.stageView.style.width=this.width+"px",this.stageView.style.height=this.height+"px",this.domView.style.width=this.width+"px",this.domView.style.height=this.height+"px",this.heartBeat()},n.prototype.getHoverStage=n.prototype._creatHoverStage=function(){this._bufferStage=new Se({id:"activCanvas"+new Date().getTime(),context:{width:this.context.$model.width,height:this.context.$model.height}}),this._bufferStage._eventEnabled=!1,this.addChild(this._bufferStage)},n.prototype.updateViewOffset=function(){var t=new Date().getTime();t-this.lastGetRO>1e3&&(this.viewOffset=E.offset(this.view),this.lastGetRO=t)},n.prototype._afterAddChild=function(t,e){var i;t.canvas?i=t.canvas:i=E.createCanvas(this.context.$model.width,this.context.$model.height,t.id),this.children.length==1?this.stageView.appendChild(i):this.children.length>1&&(e===void 0?this.stageView.insertBefore(i,this._bufferStage.canvas):e>=this.children.length-1?this.stageView.appendChild(i):this.stageView.insertBefore(i,this.children[e].canvas)),L.initElement(i),t.initStage(i,this.context.$model.width,this.context.$model.height)},n.prototype._afterDelChild=n.prototype.heartBeat=function(t){this.children.length>0&&this.renderer.heartBeat(t)},n.prototype.toDataURL=function(){var t=E.createCanvas(this.width,this.height,"curr_base64_canvas"),e=t.getContext("2d");return f.each(this.children,,t.toDataURL()},n}(pt),Fi=function(r){D(n,r);function n(t){return t=L.checkOpt(t),t.type="sprite",r.call(this,t)||this}return n}(pt),Ri=function(){function r(n,t,e,i,a,s){this.lineWidth=n,this.strokeStyle=t,this.lineAlpha=e,this.fillStyle=i,this.fillAlpha=a,this.shape=s,this.type=s.type,this.holes=[],this.fill=!0,this.line=!0}return r.prototype.clone=function(){var n=new r(this.lineWidth,this.strokeStyle,this.lineAlpha,this.fillStyle,this.fillAlpha,this.shape);return n.fill=this.fill,n.line=this.line,n},r.prototype.addHole=r.prototype.synsStyle=function(n){this.line&&(this.lineWidth=n.lineWidth,this.strokeStyle=n.strokeStyle,this.lineAlpha=n.lineAlpha),this.fill&&(this.fillStyle=n.fillStyle,this.fillAlpha=n.fillAlpha)},r.prototype.hasFill=function(){return this.fillStyle&&this.fill&&this.shape.closed!==void 0&&this.shape.closed},r.prototype.hasLine=r.prototype.destroy=r}(),Tt={},vt={},bt={},Dt=Array.prototype.join;function Te(r,n,t,e,i,a,s){var o=Dt.call(arguments);if(Tt[o])return Tt[o];var l=Math.PI,h=s*l/180,u=Math.sin(h),d=Math.cos(h),c=0,p=0;t=Math.abs(t),e=Math.abs(e);var v=-d*r*.5-u*n*.5,_=-d*n*.5+u*r*.5,g=t*t,x=e*e,m=_*_,w=v*v,C=g*x-g*m-x*w,A=0;if(C<0){var T=Math.sqrt(1-C/(g*x));t*=T,e*=T}else A=(i===a?-1:1)*Math.sqrt(C/(g*m+x*w));var b=A*t*_/e,I=-A*e*v/t,O=d*b-u*I+r*.5,B=u*b+d*I+n*.5,k=be(1,0,(v-b)/t,(_-I)/e),P=be((v-b)/t,(_-I)/e,(-v-b)/t,(-_-I)/e);a===0&&P>0?P-=2*l:a===1&&P<0&&(P+=2*l);for(var W=Math.ceil(Math.abs(P/l*2)),q=[],nt=P/W,Dn=8/3*Math.sin(nt/4)*Math.sin(nt/4)/Math.sin(nt/2),Ft=k+nt,rt=0;rt<W;rt++)q[rt]=ki(k,Ft,d,u,t,e,O,B,Dn,c,p),c=q[rt][4],p=q[rt][5],k=Ft,Ft+=nt;return Tt[o]=q,q}r Gi=function(r,n,t,e){for(var i=e[0],a=e[1],s=e[2],o=e[3],l=e[4],h=e[5],u=e[6],d=[[],[],[],[]],c=Te(h-n,u-t,i,a,o,l,s),p=0,v=c.length;p<v;p++)d[p][0]=c[p][0]+n,d[p][1]=c[p][1]+t,d[p][2]=c[p][2]+n,d[p][3]=c[p][3]+t,d[p][4]=c[p][4]+n,d[p][5]=c[p][5]+t,r.bezierCurveTo.apply(r,d[p])},Hi=function(r,n,t,e,i,a,s,o,l){for(var h=0,u=0,d,c=[],p=Te(o-r,l-n,t,e,a,s,i),v=0,_=p.length;v<_;v++)d=De(h,u,p[v][0],p[v][1],p[v][2],p[v][3],p[v][4],p[v][5]),c.push({x:d[0].x+r,y:d[0].y+n}),c.push({x:d[1].x+r,y:d[1].y+n}),h=p[v][4],u=p[v][5];return c};function De(r,n,t,e,i,a,s,o){var l=Dt.call(arguments);if(bt[l])return bt[l];var h=Math.sqrt,u=Math.min,d=Math.max,c=Math.abs,p=[],v=[[],[]],_,g,x,m,w,C,A,T;g=6*r-12*t+6*i,_=-3*r+9*t-9*i+3*s,x=3*t-3*r;for(var b=0;b<2;++b){if(b>0&&(g=6*n-12*e+6*a,_=-3*n+9*e-9*a+3*o,x=3*e-3*n),c(_)<1e-12){if(c(g)<1e-12)continue;m=-x/g,0<m&&m<1&&p.push(m);continue}A=g*g-4*x*_,!(A<0)&&(T=h(A),w=(-g+T)/(2*_),0<w&&w<1&&p.push(w),C=(-g-T)/(2*_),0<C&&C<1&&p.push(C))}for(var I,O,B=p.length,k=B,P;B--;)m=p[B],P=1-m,I=P*P*P*r+3*P*P*m*t+3*P*m*m*i+m*m*m*s,v[0][B]=I,O=P*P*P*n+3*P*P*m*e+3*P*m*m*a+m*m*m*o,v[1][B]=O;v[0][k]=r,v[1][k]=n,v[0][k+1]=s,v[1][k+1]=o;var W=[{x:u.apply(null,v[0]),y:u.apply(null,v[1])},{x:d.apply(null,v[0]),y:d.apply(null,v[1])}];return bt[l]=W,W}var Wi={drawArc:Gi,getBoundsOfCurve:De,getBoundsOfArc:Hi},Lt=function(){function r(n,t,e,i){n===void 0&&(n=0),t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),this.x=n,this.y=t,this.width=e,this.height=i,this.type=F.RECT,this.closed=!0}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=r.prototype.contains=function(n,t){return this.height*t<0||this.width*n<0?!1:n>=this.x&&n<=this.x+this.width&&(this.height>=0&&t>=this.y&&t<=this.y+this.height||this.height<0&&t<=this.y&&t>=this.y+this.height)},r}(),Ni=function(){function r(n,t,e){n===void 0&&(n=0),t===void 0&&(t=0),e===void 0&&(e=0),this.x=n,this.y=t,this.radius=e,this.type=F.CIRC,this.closed=!0}return r.prototype.clone=r.prototype.contains=r.prototype.getBounds=function(){return new Lt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},r}(),$i=function(){function r(n,t,e,i){n===void 0&&(n=0),t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),this.x=n,this.y=t,this.width=e,this.height=i,this.type=F.ELIP,this.closed=!0}return r.prototype.clone=r.prototype.contains=r.prototype.getBounds=r}(),Pt=function(){function r(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[0];if(Array.isArray(e)&&(n=e),e&&"x"in e&&"y"in e){for(var i=[],a=0,s=n.length;a<s;a++)i.push(n[a].x,n[a].y);n=i}this.closed=!0,this.points=n,this.type=F.POLY}return r.prototype.clone=r.prototype.close=function(){var n=this.points;(n[0]!==n[n.length-2]||n[1]!==n[n.length-1])&&n.push(n[0],n[1]),this.closed=!0},r.prototype.contains=r.prototype._isInsidePolygon_WindingNumber=function(n,t){for(var e=this.points,i=0,a,s=e[1]>t,o=3;o<e.length;o+=2)if(a=s,s=e[o]>t,a!=s){var l=(a?1:0)-(s?1:0);l*((e[o-3]-n)*(e[o-0]-t)-(e[o-2]-t)*(e[o-1]-n))>0&&(i+=l)}return i},r}();function zi(r,n,t,e,i,a,s,o,l){l===void 0&&(l=[]);var h=20,u=0,d=0,c=0,p=0,v=0;l.push(r,n);for(var _=1,g=0;_<=h;++_)g=_/h,u=1-g,d=u*u,c=d*u,p=g*g,v=p*g,l.push(c*r+3*d*g*t+3*u*p*i+v*s,c*n+3*d*g*e+3*u*p*a+v*o);return l}var Vi=function(){function r(n){this.lineWidth=1,this.strokeStyle=null,this.lineAlpha=1,this.fillStyle=null,this.fillAlpha=1,this.graphicsData=[],this.currentPath=null,this.dirty=0,this.clearDirty=0,this._webGL={},this.worldAlpha=1,this.tint=16777215,this.Bound={x:0,y:0,width:0,height:0}}return r.prototype.setStyle=function(n){var t=n.$model;this.lineWidth=t.lineWidth,this.strokeStyle=t.strokeStyle,this.lineAlpha=t.lineAlpha*t.globalAlpha,this.fillStyle=t.fillStyle,this.fillAlpha=t.fillAlpha*t.globalAlpha;var e=this;this.graphicsData.length&&f.each(this.graphicsData,},r.prototype.clone=function(){var n=new r;n.dirty=0;for(var t=0;t<this.graphicsData.length;++t)n.graphicsData.push(this.graphicsData[t].clone());return n.currentPath=n.graphicsData[n.graphicsData.length-1],n},r.prototype.moveTo=function(n,t){var e=new Pt([n,t]);return e.closed=!1,this.drawShape(e),this},r.prototype.lineTo=function(n,t){return this.currentPath?(this.currentPath.shape.points.push(n,t),this.dirty++):this.moveTo(0,0),this},r.prototype.quadraticCurveTo=function(n,t,e,i){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=20,s=this.currentPath.shape.points,o=0,l=0;s.length===0&&this.moveTo(0,0);for(var h=s[s.length-2],u=s[s.length-1],d=1;d<=a;++d){var c=d/a;o=h+(n-h)*c,l=u+(t-u)*c,s.push(o+(n+(e-n)*c-o)*c,l+(t+(i-t)*c-l)*c)}return this.dirty++,this},r.prototype.bezierCurveTo=function(n,t,e,i,a,s){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,l=o[o.length-2],h=o[o.length-1];return o.length-=2,zi(l,h,n,t,e,i,a,s,o),this.dirty++,this},r.prototype.arcTo=function(n,t,e,i,a){this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(n,t):this.moveTo(n,t);var s=this.currentPath.shape.points,o=s[s.length-2],l=s[s.length-1],h=l-t,u=o-n,d=i-t,c=e-n,p=Math.abs(h*c-u*d);if(p<1e-8||a===0)(s[s.length-2]!==n||s[s.length-1]!==t)&&s.push(n,t);else{var v=h*h+u*u,_=d*d+c*c,g=h*d+u*c,x=a*Math.sqrt(v)/p,m=a*Math.sqrt(_)/p,w=x*g/v,C=m*g/_,A=x*c+m*u,T=x*d+m*h,b=u*(m+w),I=h*(m+w),O=c*(x+C),B=d*(x+C),k=Math.atan2(I-T,b-A),P=Math.atan2(B-T,O-A);this.arc(A+n,T+t,a,k,P,u*d>c*h)}return this.dirty++,this},r.prototype.arc=function(n,t,e,i,a,s){if(s===void 0&&(s=!1),i===a)return this;!s&&a<=i?a+=Math.PI*2:s&&i<=a&&(i+=Math.PI*2);var o=a-i,l=Math.ceil(Math.abs(o)/(Math.PI*2))*48;if(o===0)return this;var h=n+Math.cos(i)*e,u=t+Math.sin(i)*e,d=this.currentPath?this.currentPath.shape.points:null;d?(d[d.length-2]!==h||d[d.length-1]!==u)&&d.push(h,u):(this.moveTo(h,u),d=this.currentPath.shape.points);for(var c=o/(l*2),p=c*2,v=Math.cos(c),_=Math.sin(c),g=l-1,x=g%1/g,m=0;m<=g;++m){var w=m+x*m,C=c+i+p*w,A=Math.cos(C),T=-Math.sin(C);d.push((v*A+_*T)*e+n,(v*-T+_*A)*e+t)}return this.dirty++,this},r.prototype.drawRect=function(n,t,e,i){return this.drawShape(new Lt(n,t,e,i)),this},r.prototype.drawCircle=r.prototype.drawEllipse=r.prototype.drawPolygon=function(n){var t=n,e=!0;if(t instanceof Pt&&(e=t.closed,t=t.points),!Array.isArray(t)){t=new Array(arguments.length);for(var i=0;i<t.length;++i)t[i]=arguments[i]}var a=new Pt(t);return a.closed=e,this.drawShape(a),this},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this},r.prototype.drawShape=function(n){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.beginPath();var t=new Ri(this.lineWidth,this.strokeStyle,this.lineAlpha,this.fillStyle,this.fillAlpha,n);return this.graphicsData.push(t),t.type===F.POLY&&(t.shape.closed=t.shape.closed,this.currentPath=t),this.dirty++,t},r.prototype.beginPath=r.prototype.closePath=r.prototype.updateLocalBounds=function(){var n=1/0,t=-1/0,e=1/0,i=-1/0;if(this.graphicsData.length)for(var a=0,s=0,o=0,l=0,h=0,u=0;u<this.graphicsData.length;u++){var d=this.graphicsData[u],c=d.type,p=d.lineWidth;if(a=d.shape,c===F.RECT||c===F.RREC)s=a.x-p/2,o=a.y-p/2,l=a.width+p,h=a.height+p,n=s<n?s:n,t=s+l>t?s+l:t,e=o<e?o:e,i=o+h>i?o+h:i;else if(c===F.CIRC)s=a.x,o=a.y,l=a.radius+p/2,h=a.radius+p/2,n=s-l<n?s-l:n,t=s+l>t?s+l:t,e=o-h<e?o-h:e,i=o+h>i?o+h:i;else if(c===F.ELIP)s=a.x,o=a.y,l=a.width+p/2,h=a.height+p/2,n=s-l<n?s-l:n,t=s+l>t?s+l:t,e=o-h<e?o-h:e,i=o+h>i?o+h:i;else for(var v=a.points,_=0,g=0,x=0,m=0,w=0,C=0,A=0,T=0,b=0;b+2<v.length;b+=2)s=v[b],o=v[b+1],_=v[b+2],g=v[b+3],x=Math.abs(_-s),m=Math.abs(g-o),h=p,l=Math.sqrt(x*x+m*m),!(l<1e-9)&&(w=(h/l*m+x)/2,C=(h/l*x+m)/2,A=(_+s)/2,T=(g+o)/2,n=A-w<n?A-w:n,t=A+w>t?A+w:t,e=T-C<e?T-C:e,i=T+C>i?T+C:i)}else n=0,t=0,e=0,i=0;return this.Bound={x:n,y:e,width:t-n,height:i-e},this},r.prototype.getBound=r.prototype.destroy=function(n){for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webGL)for(var i=0;i<this._webGL[e].data.length;++i)this._webGL[e].data[i].destroy();this.graphicsData=null,this.currentPath=null,this._webGL=null},r}(),X=function(r){D(n,r);function n(t){var e=this;t=L.checkOpt(t);var i={cursor:t.context.cursor||"default",fillAlpha:t.context.fillAlpha||1,fillStyle:t.context.fillStyle||null,lineCap:t.context.lineCap||"round",lineJoin:t.context.lineJoin||"round",miterLimit:t.context.miterLimit||null,lineAlpha:t.context.lineAlpha||1,strokeStyle:t.context.strokeStyle||null,lineType:t.context.lineType||"solid",lineWidth:t.context.lineWidth||null},a=f.extend(!0,i,t.context);return t.context=a,t.id===void 0&&t.type!==void 0&&(t.id=L.createId(t.type)),e=r.call(this,t)||this,e._hoverClass=!1,e.hoverClone=!0,e.pointChkPriority=!0,e._eventEnabled=!1,e.dragEnabled=t.dragEnabled||!1,e._dragDuplicate=null,e.type=e.type||"shape",e.initCompProperty(t),e.isClone?e.graphics=null:(e.graphics=new Vi,e._draw(e.graphics)),e}return n.prototype._draw=function(t){t.graphicsData.length==0&&(t.setStyle(this.context),this.draw(t))},n.prototype.draw=function(){},n.prototype.clearGraphicsData=function(){this.graphics.clear()},n.prototype.$watch=function(t,e,i){f.indexOf(Di,t)>-1&&this.graphics.setStyle(this.context),this.watch(t,e,i)},n.prototype.initCompProperty=function(t){for(var e in t)e!="id"&&e!="context"&&(this[e]=t[e])},n.prototype.getBound=n.prototype.dashedLineTo=function(t,e,i,a,s,o){o=typeof o=="undefined"?3:o,o=Math.max(o,this.context.$model.lineWidth);for(var l=a-e,h=s-i,u=Math.floor(Math.sqrt(l*l+h*h)/o),d=0;d<u;++d){var c=parseInt(e+l/u*d),p=parseInt(i+h/u*d);t[d%2===0?"moveTo":"lineTo"](c,p),d==u-1&&d%2===0&&t.lineTo(a,s)}},n}(dt),Xi=function(r){D(n,r);function n(t,e){var i=this;return e.type="text",t==null&&(t=""),e.context=f.extend({font:"",fontSize:13,fontWeight:"normal",fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1,sans-serif",textBaseline:"top",textAlign:"left",textDecoration:null,fillStyle:"blank",strokeStyle:null,lineWidth:0,lineHeight:1.2,backgroundColor:null,textBackgroundColor:null},e.context),i=r.call(this,e)||this,i._reNewline=/\r?\n/,i.fontProperts=["fontStyle","fontVariant","fontWeight","fontSize","fontFamily"],i.context.font=i._getFontDeclaration(),i.text=t.toString(),i.context.width=i.getTextWidth(),i.context.height=i.getTextHeight(),i}return n.prototype.$watch=function(t,e,i){f.indexOf(this.fontProperts,t)>=0&&(this.context[t]=e,this.context.font=this._getFontDeclaration(),this.context.width=this.getTextWidth(),this.context.height=this.getTextHeight())},n.prototype._setContextStyle=function(t,e,i){for(var a in e)a!="textBaseline"&&a in t&&(e[a]||f.isNumber(e[a]))&&(a=="globalAlpha"?t.globalAlpha=i:t[a]=e[a])},n.prototype.render=n.prototype.resetText=n.prototype.getTextWidth=function(){var t=0;return L._pixelCtx&&(L._pixelCtx.save(),L._pixelCtx.font=this.context.$model.font,t=this._getTextWidth(L._pixelCtx,this._getTextLines()),L._pixelCtx.restore()),t},n.prototype.getTextHeight=function(){return this._getTextHeight(L._pixelCtx,this._getTextLines())},n.prototype._getTextLines=n.prototype._renderText=function(t,e,i){t&&(t.save(),this._setContextStyle(t,this.context.$model,i),this._renderTextStroke(t,e),this._renderTextFill(t,e),t.restore())},n.prototype._getFontDeclaration=function(){var t=this,e=[];return f.each(this.fontProperts,function(i){var a=t.context[i];i=="fontSize"&&(a=parseFloat(a)+"px"),a&&e.push(a)}),e.join(" ")},n.prototype._renderTextFill=function(t,e){if(this.context.$model.fillStyle){this._boundaries=[];for(var i=0,a=0,s=e.length;a<s;a++){var o=this._getHeightOfLine(t,a,e);i+=o,this._renderTextLine("fillText",t,e[a],0,this._getTopOffset()+i,a)}}},n.prototype._renderTextStroke=function(t,e){if(t&&!(!this.context.$model.strokeStyle||!this.context.$model.lineWidth)){var i=0;t.save(),this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),supportsLineDash&&t.setLineDash(this.strokeDashArray)),t.beginPath();for(var a=0,s=e.length;a<s;a++){var o=this._getHeightOfLine(t,a,e);i+=o,this._renderTextLine("strokeText",t,e[a],0,this._getTopOffset()+i,a)}t.closePath(),t.restore()}},n.prototype._renderTextLine=function(t,e,i,a,s,o){if(s-=this._getHeightOfLine()/4,this.context.$model.textAlign!=="justify"){this._renderChars(t,e,i,a,s,o);return}var l=e.measureText(i).width,h=this.context.$model.width;if(h>l)for(var u=i.split(/\s+/),d=e.measureText(i.replace(/\s+/g,"")).width,c=h-d,p=u.length-1,v=c/p,_=0,g=0,x=u.length;g<x;g++)this._renderChars(t,e,u[g],a+_,s,o),_+=e.measureText(u[g]).width+v;else this._renderChars(t,e,i,a,s,o)},n.prototype._renderChars=function(t,e,i,a,s){e[t](i,0,s)},n.prototype._getHeightOfLine=function(){return this.context.$model.fontSize*this.context.$model.lineHeight},n.prototype._getTextWidth=function(t,e){for(var i=t.measureText(e[0]||"|").width,a=1,s=e.length;a<s;a++){var o=t.measureText(e[a]).width;o>i&&(i=o)}return i},n.prototype._getTextHeight=function(t,e){return this.context.$model.fontSize*e.length*this.context.$model.lineHeight},n.prototype._getTopOffset=function(){var t=0;switch(this.context.$model.textBaseline){case"top":t=0;break;case"middle":t=-this.context.$model.height/2;break;case"bottom":t=-this.context.$model.height;break}return t},n.prototype.getRect=function(){var t=this.context,e=0,i=0;return t.textAlign=="center"&&(e=-t.width/2),t.textAlign=="right"&&(e=-t.width),t.textBaseline=="middle"&&(i=-t.height/2),t.textBaseline=="bottom"&&(i=-t.height),{x:e,y:i,width:t.width,height:t.height}},n}(dt);function It(r,n){var t=0,e=0;if(arguments.length==1&&f.isObject(r)){var i=arguments[0];f.isArray(i)?(t=i[0],e=i[1]):i.hasOwnProperty("x")&&i.hasOwnProperty("y")&&(t=i.x,e=i.y)}this._axes=[t,e]}It.prototype={distance:function(r){var n=this._axes[0]-r._axes[0],t=this._axes[1]-r._axes[1];return Math.sqrt(n*n+t*t)}};function Le(r,n,t,e,i,a,s){var o=(t-r)*.25,l=(e-n)*.25;return(2*(n-t)+o+l)*s+(-3*(n-t)-2*o-l)*a+o*i+n}function Ui(r){var n=r.points,t=r.isLoop,e=r.smoothFilter,i=n.length;if(i==1)return n;for(var a=[],s=0,o=new It(n[0]),l=null,h=1;h<i;h++)l=new It(n[h]),s+=o.distance(l),o=l;o=null,l=null;var u=s/6;u=u<i?i:u;for(var h=0;h<u;h++){var d=h/(u-1)*(t?i:i-1),c=Math.floor(d),p=d-c,v,_=n[c%i],g,x;t?(v=n[(c-1+i)%i],g=n[(c+1)%i],x=n[(c+2)%i]):(v=n[c===0?c:c-1],g=n[c>i-2?i-1:c+1],x=n[c>i-3?i-1:c+2]);var m=p*p,w=p*m,C=[Le(v[0],_[0],g[0],x[0],p,m,w),Le(v[1],_[1],g[1],x[1],p,m,w)];f.isFunction(e)&&e(C),a.push(C)}return a}var Q={sin:{},cos:{}},gt=Math.PI/180;function Yi(r,n){return r=(n?r*gt:r).toFixed(4),typeof Q.sin[r]=="undefined"&&(Q.sin[r]=Math.sin(r)),Q.sin[r]}function qi(r,n){return r=(n?r*gt:r).toFixed(4),typeof Q.cos[r]=="undefined"&&(Q.cos[r]=Math.cos(r)),Q.cos[r]}nction Zi(r){var n=(360+r%360)%360;return n==0&&r!==0&&(n=360),n}function Ki(r,n){for(var t=[],e=2*Math.PI/r,i=-Math.PI/2,a=i,s=0,o=r;s<o;s++)t.push([n*Math.cos(a),n*Math.sin(a)]),a+=e;return t}function ji(r,n){var t=[],e=r.length,i=[];return f.each(r,function(a,s){Ot(a)?(i.length&&(t=t.concat(Pe(i,n)),i=[]),t.push(a)):i.push(a),s==e-1&&i.length&&(t=t.concat(Pe(i,n)),i=[])}),t}function Pe(r,n){var t={points:r};f.isFunction(n)&&(t.smoothFilter=n);var e=Ui(t);return r&&r.length>0&&e.push(r[r.length-1]),e}function Ot(r){var n=!r||f.isArray(r)&&r.length>=2&&(!f.isNumber(r[0])||!f.isNumber(r[1]))||"x"in r&&!f.isNumber(r.x)||"y"in r&&!f.isNumber(r.y);return n}ar R={PI:Math.PI,sin:Yi,cos:qi,degreeToRadian:Ji,radianToDegree:Qi,degreeTo360:Zi,getIsgonPointList:Ki,getSmoothPointList:ji,isNotValibPoint:Ot,isValibPoint:tn},en=function(r){D(n,r);function n(t){var e=this;t=L.checkOpt(t);var i=f.extend({lineType:null,smooth:!1,pointList:[],smoothFilter:L.__emptyFunc},t.context);return!t.isClone&&i.smooth&&(i.pointList=R.getSmoothPointList(i.pointList,i.smoothFilter)),t.context=i,t.type="brokenline",e=r.call(this,t)||this,e._pointList=i.pointList,e}return n.prototype.watch=function(t,e,i){(t=="pointList"||t=="smooth"||t=="lineType")&&(t=="pointList"&&this.context.smooth&&(this.context.pointList=R.getSmoothPointList(e,this.context.smoothFilter),this._pointList=e),t=="smooth"&&(e?this.context.pointList=R.getSmoothPointList(this._pointList,this.context.smoothFilter):this.context.pointList=this._pointList),this.graphics.clear())},n.prototype.draw=function(t){for(var e=this.context,i=e.pointList,a=!1,s=0,o=i.length;s<o;s++){var l=i[s],h=i[s+1];if(R.isValibPoint(l)){if(!e.lineType||e.lineType=="solid")a?t.lineTo(l[0],l[1]):t.moveTo(l[0],l[1]);else if(e.lineType=="dashed"||e.lineType=="dotted")if(e.smooth)if(!a)t.moveTo(l[0],l[1]);else{t.lineTo(l[0],l[1]),a=!1,s++;continue}else R.isValibPoint(h)&&this.dashedLineTo(t,l[0],l[1],h[0],h[1],5);a=!0}else a=!1}return this},n}(X),nn=function(r){D(n,r);function n(t){return t=f.extend(!0,{type:"circle",xyToInt:!1,context:{r:0}},L.checkOpt(t)),r.call(this,t)||this}return n.prototype.watch=function(t,e,i){t=="r"&&this.graphics.clear()},n.prototype.draw=function(t){var e=this.context.$model.r;e<0&&(e=0),t.drawCircle(0,0,e)},n}(X),Ie=function(r){D(n,r);function n(t){var e=f.extend({pointList:[],path:""},t.context);return t.context=e,t.__parsePathData=null,t.type="path",r.call(this,t)||this}return n.prototype.watch=function(t,e,i){t=="path"&&this.graphics.clear()},n.prototype._parsePathData=function(t){if(this.__parsePathData)return this.__parsePathData;if(!t)return[];this.__parsePathData=[];var e=f.compact(t.replace(/[Mm]/g,"\\r$&").split("\\r")),i=this;return f.each(e,,this.__parsePathData},n.prototype._parseChildPathData=function(t){var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(/  /g," "),e=e.replace(/ /g,","),e=e.replace(/(\d)-/g,"$1,-"),e=e.replace(/,,/g,",");var a;for(a=0;a<i.length;a++)e=e.replace(new RegExp(i[a],"g"),"|"+i[a]);var s=e.split("|"),o=[],l=0,h=0;for(a=1;a<s.length;a++){var u=s[a],d=u.charAt(0);u=u.slice(1),u=u.replace(new RegExp("e,-","g"),"e-");var c=u.split(",");c.length>0&&c[0]===""&&c.shift();for(var p=0;p<c.length;p++)c[p]=parseFloat(c[p]);for(;c.length>0&&!isNaN(c[0]);){var v=null,_=[],g,x,m,w,C,A,T,b,I=l,O=h;switch(d){case"l":l+=c.shift(),h+=c.shift(),v="L",_.push(l,h);break;case"L":l=c.shift(),h=c.shift(),_.push(l,h);break;case"m":l+=c.shift(),h+=c.shift(),v="M",_.push(l,h),d="l";break;case"M":l=c.shift(),h=c.shift(),v="M",_.push(l,h),d="L";break;case"h":l+=c.shift(),v="L",_.push(l,h);break;case"H":l=c.shift(),v="L",_.push(l,h);break;case"v":h+=c.shift(),v="L",_.push(l,h);break;case"V":h=c.shift(),v="L",_.push(l,h);break;case"C":_.push(c.shift(),c.shift(),c.shift(),c.shift()),l=c.shift(),h=c.shift(),_.push(l,h);break;case"c":_.push(l+c.shift(),h+c.shift(),l+c.shift(),h+c.shift()),l+=c.shift(),h+=c.shift(),v="C",_.push(l,h);break;case"S":g=l,x=h,m=o[o.length-1],m.command==="C"&&(g=l+(l-m.points[2]),x=h+(h-m.points[3])),_.push(g,x,c.shift(),c.shift()),l=c.shift(),h=c.shift(),v="C",_.push(l,h);break;case"s":g=l,x=h,m=o[o.length-1],m.command==="C"&&(g=l+(l-m.points[2]),x=h+(h-m.points[3])),_.push(g,x,l+c.shift(),h+c.shift()),l+=c.shift(),h+=c.shift(),v="C",_.push(l,h);break;case"Q":_.push(c.shift(),c.shift()),l=c.shift(),h=c.shift(),_.push(l,h);break;case"q":_.push(l+c.shift(),h+c.shift()),l+=c.shift(),h+=c.shift(),v="Q",_.push(l,h);break;case"T":g=l,x=h,m=o[o.length-1],m.command==="Q"&&(g=l+(l-m.points[0]),x=h+(h-m.points[1])),l=c.shift(),h=c.shift(),v="Q",_.push(g,x,l,h);break;case"t":g=l,x=h,m=o[o.length-1],m.command==="Q"&&(g=l+(l-m.points[0]),x=h+(h-m.points[1])),l+=c.shift(),h+=c.shift(),v="Q",_.push(g,x,l,h);break;case"A":w=c.shift(),C=c.shift(),A=c.shift(),T=c.shift(),b=c.shift(),I=l,O=h,l=c.shift(),h=c.shift(),v="A",_=[w,C,A,T,b,l,h,I,O];break;case"a":w=c.shift(),C=c.shift(),A=c.shift(),T=c.shift(),b=c.shift(),I=l,O=h,l+=c.shift(),h+=c.shift(),v="A",_=[w,C,A,T,b,l,h,I,O];break}o.push({command:v||d,points:_})}(d==="z"||d==="Z")&&o.push({command:"z",points:[]})}return o},n.prototype.draw=function(t){this.__parsePathData=null,this.context.$model.pointList=[];for(var e=this._parsePathData(this.context.$model.path),i=0,a=e.length;i<a;i++)for(var s=0,o=e[i].length;s<o;s++){var l=e[i][s].command,h=e[i][s].points;switch(l){case"L":t.lineTo(h[0],h[1]);break;case"M":t.moveTo(h[0],h[1]);break;case"C":t.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"Q":t.quadraticCurveTo(h[0],h[1],h[2],h[3]);break;case"A":Wi.drawArc(t,h[7],h[8],h);break;case"z":t.closePath();break}}return this},n}(X),rn=function(r){D(n,r);function n(t){var e=this;t=f.extend({type:"droplet",context:{hr:0,vr:0}},L.checkOpt(t));var i=e=r.call(this,t)||this;return e.context.$model.path=e.createPath(),e}return n.prototype.watch=function(t,e,i){(t=="hr"||t=="vr")&&(this.context.$model.path=this.createPath())},n.prototype.createPath=function(){var t=this.context.$model,e="M 0 "+t.hr+" C "+t.hr+" "+t.hr+" "+t.hr*3/2+" "+-t.hr/3+" 0 "+-t.vr;return e+=" C "+-t.hr*3/2+" "+-t.hr/3+" "+-t.hr+" "+t.hr+" 0 "+t.hr+"z",e},n}(Ie),an=function(r){D(n,r);function n(t){return t=f.extend({type:"ellipse",context:{hr:0,vr:0}},L.checkOpt(t)),r.call(this,t)||this}return n.prototype.watch=function(t,e,i){(t=="hr"||t=="vr")&&this.graphics.clear()},n.prototype.draw=function(t){t.drawEllipse(0,0,this.context.$model.hr*2,this.context.$model.vr*2)},n}(X),Oe=function(r){D(n,r);function n(t){var e=f.extend({lineType:null,smooth:!1,pointList:[],smoothFilter:L.__emptyFunc},t.context);if(!t.isClone){var i=e.pointList[0],a=e.pointList.slice(-1)[0];e.smooth&&(e.pointList.unshift(a),e.pointList=R.getSmoothPointList(e.pointList))}return t.context=e,t.type="polygon",r.call(this,t)||this}return n.prototype.watch=function(t,e,i){(t=="pointList"||t=="smooth"||t=="lineType")&&this.graphics.clear()},n.prototype.draw=function(t){var e=this.context,i=e.pointList;if(!(i.length<2)){t.moveTo(i[0][0],i[0][1]);for(var a=1,s=i.length;a<s;a++)t.lineTo(i[a][0],i[a][1]);if(t.closePath(),e.lineType=="dashed"||e.lineType=="dotted")if(t.currentPath.line=!1,e.smooth)for(var o=0,l=i.length;o<l&&o!=l-1;o++)t.moveTo(i[o][0],i[o][1]),t.lineTo(i[o+1][0],i[o+1][1]),o+=1;else{t.moveTo(i[0][0],i[0][1]);for(var a=1,s=i.length;a<s;a++){var h=i[a-1][0],u=i[a][0],d=i[a-1][1],c=i[a][1];this.dashedLineTo(t,h,d,u,c,5)}}t.closePath()}},n}(X),sn=function(r){D(n,r);function n(t){var e=f.extend({pointList:[],r:0,n:0},t.context);return e.pointList=R.getIsgonPointList(e.n,e.r),t.context=e,t.type="isogon",r.call(this,t)||this}return n.prototype.watch=function(t,e,i){(t=="r"||t=="n")&&(this.context.$model.pointList=R.getIsgonPointList(this.context.$model.n,this.context.$model.r)),(t=="pointList"||t=="smooth"||t=="lineType")&&this.graphics.clear()},n}(Oe),on=function(r){D(n,r);function n(t){var e=f.extend({lineType:null,start:{x:0,y:0},end:{x:0,y:0},dashLength:3},t.context);return t.context=e,t.type="line",r.call(this,t)||this}return n.prototype.watch=function(t,e,i){(t=="x"||t=="y")&&this.graphics.clear()},n.prototype.draw=function(t){var e=this.context.$model;return!e.lineType||e.lineType=="solid"?(t.moveTo(e.start.x,e.start.y),t.lineTo(e.end.x,e.end.y)):(e.lineType=="dashed"||e.lineType=="dotted")&&this.dashedLineTo(t,e.start.x,e.start.y,e.end.x,e.end.y,e.dashLength),this},n}(X),ln=function(r){D(n,r);function n(t){var e=f.extend({width:0,height:0,radius:[]},t.context);return t.context=e,t.type="rect",r.call(this,t)||this}return n.prototype.watch=function(t,e,i){(t=="width"||t=="height"||t=="radius")&&this.graphics.clear()},n.prototype._buildRadiusPath=function(t){var e=this.context.$model,i=0,a=0,s=e.width,o=e.height,l=L.getCssOrderArr(e.radius),h=t,u=1;o>=0&&(u=-1),h.moveTo(parseInt(i+l[0]),parseInt(o)),h.lineTo(parseInt(i+s-l[1]),parseInt(o)),l[1]!==0&&h.quadraticCurveTo(i+s,o,parseInt(i+s),parseInt(o+l[1]*u)),h.lineTo(parseInt(i+s),parseInt(a-l[2]*u)),l[2]!==0&&h.quadraticCurveTo(i+s,a,parseInt(i+s-l[2]),parseInt(a)),h.lineTo(parseInt(i+l[3]),parseInt(a)),l[3]!==0&&h.quadraticCurveTo(i,a,parseInt(i),parseInt(a-l[3]*u)),h.lineTo(parseInt(i),parseInt(a+o+l[0]*u)),l[0]!==0&&h.quadraticCurveTo(i,a+o,parseInt(i+l[0]),parseInt(a+o))},n.prototype.draw=function(t){var e=this.context.$model;e.radius.length?this._buildRadiusPath(t):t.drawRect(0,0,e.width,e.height),t.closePath()},n}(X),hn=function(r){D(n,r);function n(t){var e=f.extend({pointList:[],r0:0,r:0,startAngle:0,endAngle:0,clockwise:!1},t.context);return t.context=e,t.regAngle=[],t.isRing=!1,t.type="sector",r.call(this,t)||this}return n.prototype.watch=function(t,e,i){(t=="r0"||t=="r"||t=="startAngle"||t=="endAngle"||t=="clockwise")&&(this.isRing=!1,this.graphics.clear())},n.prototype.draw=function(t){var e=this.context.$model,i=typeof e.r0=="undefined"?0:e.r0,a=e.r,s=R.degreeTo360(e.startAngle),o=R.degreeTo360(e.endAngle);e.startAngle!=e.endAngle&&Math.abs(e.startAngle-e.endAngle)%360==0&&(this.isRing=!0,s=0,o=360),s=R.degreeToRadian(s),o=R.degreeToRadian(o);var l=t;this.isRing?e.r0==0?l.drawCircle(0,0,e.r):(e.fillStyle&&e.fillAlpha&&(l.beginPath(),l.arc(0,0,a,s,o,e.clockwise),e.r0==0?l.lineTo(0,0):l.arc(0,0,i,o,s,!e.clockwise),l.closePath(),l.currentPath.lineWidth=0,l.currentPath.strokeStyle=null,l.currentPath.lineAlpha=0,l.currentPath.line=!1),e.lineWidth&&e.strokeStyle&&e.lineAlpha&&(l.beginPath(),l.arc(0,0,a,s,o,e.clockwise),l.closePath(),l.currentPath.fillStyle=null,l.currentPath.fill=!1,l.beginPath(),l.arc(0,0,i,o,s,!e.clockwise),l.closePath(),l.currentPath.fillStyle=null,l.currentPath.fill=!1)):(l.beginPath(),l.arc(0,0,a,s,o,e.clockwise),e.r0==0?l.lineTo(0,0):l.arc(0,0,i,o,s,!e.clockwise),l.closePath())},n}(X),S={App:Bi};S.Display={DisplayObject:dt,DisplayObjectContainer:pt,Stage:Se,Sprite:Fi,Shape:X,Point:V,Text:Xi},S.Shapes={BrokenLine:en,Circle:nn,Droplet:rn,Ellipse:an,Isogon:sn,Line:on,Path:Ie,Polygon:Oe,Rect:ln,Sector:hn},S.AnimationFrame=ct,S.utils=L;var fn=20,un=function(r){D(n,r);function n(t,e,i,a){var s=r.call(this)||this;return s.componentModules=a,s._node=t,s._data=e,s._opt=i,s.dataFrame=s.initData(e,i),s.el=E.query(t),s.width=parseInt(s.el.offsetWidth),s.height=parseInt(s.el.offsetHeight),s.padding=null,s.canvax=new S.App({el:s.el,webGL:!1}),s.canvax.registEvent(),s.id="chartx_"+s.canvax.id,s.el.setAttribute("chart_id",s.id),s.el.setAttribute("chartx_version","2.0"),s.stage=new S.Display.Stage({id:"main-chart-stage"}),s.canvax.addChild(s.stage),s.setCoord_Graphs_Sp(),s.__highModules=["theme","coord","graphs"],s.components=[],s.inited=!1,s.init(),s}return n.prototype.init=function(){var t=this,e=this._opt;this.padding=this._getPadding(),f.each(this.__highModules,function(s){if(e[s]){var o=f.flatten([e[s]]);s=="theme"&&(o=[o]),f.each(o,function(l){if(!(s=="coord"&&!l.type||s=="graphs"&&!l.field&&!l.keyField)){var h=t.componentModules.get(s,l.type);if(h){var u=new h(l,t);t.components.push(u)}}})}});for(var i in this._opt)if(f.indexOf(this.__highModules,i)==-1){var a=this._opt[i];f.isArray(a)||(a=[a]),f.each(a,function(s){var o=t.componentModules.get(i,s.type);if(o){var l=new o(s,t);t.components.push(l)}})}},n.prototype.draw=function(t){var e=this;!t&&(t={});var i=this.getComponent({name:"coord"});i&&i.horizontal&&this._drawBeginHorizontal();var a=this.width-this.padding.left-this.padding.right,s=this.height-this.padding.top-this.padding.bottom,o={x:this.padding.left,y:this.padding.top};if(i&&(i.draw(t),a=i.width,s=i.height,o=i.origin),this.dataFrame.length==0){e.fire("complete");return}var l=this.getComponents({name:"graphs"}),h=l.length,u=0;t=f.extend(t,{width:a,height:s,origin:o}),f.each(l,function(v){v.on("complete",function(_){u++,u==h&&e.fire("complete"),v.inited=!0}),v.draw(t)});for(var d=0,c=this.components.length;d<c;d++){var p=this.components[d];f.indexOf(this.__highModules,p.name)==-1&&p.draw(t)}this._bindEvent(),i&&i.horizontal&&this._drawEndHorizontal()},n.prototype._drawBeginHorizontal=function(){var t=this.padding,e=t.top;t.top=t.right,t.right=t.bottom,t.bottom=t.left,t.left=e},n.prototype._drawEndHorizontal=function(){var t=this.graphsSprite.context;t.x+=(this.width-this.height)/2,t.y+=(this.height-this.width)/2,t.rotation=90,t.rotateOrigin={x:this.height/2,y:this.width/2},this._horizontalGraphsText()},n.prototype._horizontalGraphsText=function(){var t=this;function e(i){if(i.children&&f.each(i.children,function(l){e(l)}),i.type=="text"&&!i.__horizontal){var a=i.context,s=a.width,o=a.height;a.rotation=a.rotation-90,i.__horizontal=!0}}f.each(t.getComponents({name:"graphs"}),},n.prototype._getPadding=function(){var t=fn;this._opt.coord&&"padding"in this._opt.coord&&(f.isObject(this._opt.coord.padding)||(t=this._opt.coord.padding));var e={top:t,right:t,bottom:t,left:t};return this._opt.coord&&"padding"in this._opt.coord&&f.isObject(this._opt.coord.padding)&&(e=f.extend(e,this._opt.coord.padding)),e},n.prototype.getTheme=function(t){var e=ve.getGlobalTheme(),i=this.getComponent({name:"theme"});return i&&(e=i.get()),t!=null?e[t%e.length]||"#ccc":e},n.prototype.setCoord_Graphs_Sp=function(){this.coordSprite=new S.Display.Sprite({id:"coordSprite"}),this.stage.addChild(this.coordSprite),this.graphsSprite=new S.Display.Sprite({id:"graphsSprite"}),this.stage.addChild(this.graphsSprite)},n.prototype.destroy=function(){this.clean(),this.el&&(this.el.removeAttribute("chart_id"),this.el.removeAttribute("chartx_version"),this.canvax.destroy(),this.el=null),this._destroy&&this._destroy(),this.fire("destroy")},n.prototype.clean=function(){for(var t=0,e=this.canvax.children.length;t<e;t++)for(var i=this.canvax.getChildAt(t),a=0,s=i.children.length;a<s;a++)i.getChildAt(a).destroy(),a--,s--;this.setCoord_Graphs_Sp(),this.components=[],this.canvax.domView.innerHTML=""},n.prototype.resize=function(){var t=parseInt(this.el.offsetWidth),e=parseInt(this.el.offsetHeight);t==this.width&&e==this.height||(this.width=t,this.height=e,this.canvax.resize(),this.inited=!1,this.clean(),this.init(),this.draw({resize:!0}),this.inited=!0)},n.prototype.reset=function(t,e){!t&&(t={}),f.extend(!0,this._opt,t),e&&(this._data=e),this.dataFrame=this.initData(this._data,t),this.clean(),this.init(),this.draw()},n.prototype.resetData=function(t,e){var i=this,a=this.dataFrame.length;if(t&&(this._data=t,this.dataFrame=this.initData(this._data)),!a){this.clean(),this.init(),this.draw(this._opt);return}var s=this.getComponent({name:"coord"});s&&s.resetData(this.dataFrame,e),f.each(this.getComponents({name:"graphs"}),,this.componentsReset(e),s&&s.horizontal&&this._horizontalGraphsText(),this.fire("resetData")},n.prototype.initData=n.prototype.componentsReset=function(t){var e=this;f.each(this.components,function(i,a){f.indexOf(e.__highModules,i.name)==-1&&(t&&t.comp&&t.comp.__cid==i.__cid||i.reset&&i.reset(e[i.type]||{},e.dataFrame))})},n.prototype.getComponentById=function(t){var e;return f.each(this.components,function(i){if(i.id&&i.id==t)return e=i,!1}),e},n.prototype.getComponent=n.prototype.getComponents=function(t,e){var i=[],a=0;e||(e=this.components);for(var s in t)a++;return a?(f.each(e,function(o){var l=0;for(var h in t)JSON.stringify(o[h])==JSON.stringify(t[h])&&l++;a==l&&i.push(o)}),i):e},n.prototype.getGraph=function(t){var e=this.getGraphs(t);return e[0]},n.prototype.getGraphs=function(t){return this.getComponents(t,this.getComponents({name:"graphs"}))},n.prototype.getGraphById=function(t){var e;return f.each(this.getComponents({name:"graphs"}),,e},n.prototype.getCoord=function(t){return this.getComponent(f.extend(!0,{name:"coord"},t))},n.prototype.getLegendData=function(){var t=this,e=[];if(f.each(this.getComponents({name:"graphs"}),function(a){f.each(a.getLegendData(),function(s){if(!f.find(e,){var o=f.extend(!0,{},s);o.color=s.fillStyle||s.color||s.style,e.push(o)}})}),e.length)return e;var i=t.getComponent({name:"coord"});return f.each(f.flatten(i.fieldsMap),function(a,s){var o=!1;f.each(t._opt.graphs,function(l){if(f.indexOf(f.flatten([l.field]),a.field)>-1)return o=!0,!1}),o&&e.push({enabled:a.enabled,name:a.field,field:a.field,ind:a.ind,color:a.color,yAxis:a.yAxis})}),e},n.prototype.show=function(t,e){var i=this.getComponent({name:"coord"});i&&i.show(t,e),f.each(this.getComponents({name:"graphs"}),function(a){a.show(t,e)}),this.componentsReset(e)},n.prototype.hide=function(t,e){var i=this,a=i.getComponent({name:"coord"});a&&a.hide(t,e),f.each(this.getComponents({name:"graphs"}),,this.componentsReset(e)},n.prototype._bindEvent=function(){var t=this;this.on(Z.get(),function(e){var i=t.getComponent({name:"tips"}),a=t.getComponent({name:"coord"});i&&(t._setTipsInfo.apply(t,[e]),(e.type=="mouseover"||e.type=="mousedown")&&(i.show(e),t._tipsPointerAtAllGraphs(e)),e.type=="mousemove"&&(i.move(e),t._tipsPointerAtAllGraphs(e)),e.type=="mouseout"&&!(e.toTarget&&a&&a.induce&&a.induce.containsPoint(a.induce.globalToLocal(e.target.localToGlobal(e.point))))&&(i.hide(e),t._tipsPointerHideAtAllGraphs(e))),e.eventInfo&&f.each(this.getGraphs(),function(s){s.triggerEvent(e)})})},n.prototype._setTipsInfo=function(t){t.eventInfo||(t.eventInfo={});var e=this.getComponent({name:"coord"});if(e&&(t.eventInfo=e.getTipsInfoHandler(t)),!t.eventInfo.nodes||!t.eventInfo.nodes.length){var i=[],a=t.eventInfo.iNode;f.each(this.getComponents({name:"graphs"}),,t.eventInfo.nodes=i}},n.prototype._tipsPointerAtAllGraphs=function(t){f.each(this.getComponents({name:"graphs"}),function(e){e.tipsPointerOf(t)})},n.prototype._tipsPointerHideAtAllGraphs=function(t){f.each(this.getComponents({name:"graphs"}),function(e){e.tipsPointerHideOf(t)})},n}(K),yt=function(r){D(n,r);function n(t,e){var i=r.call(this,t,e)||this;return f.extend(!0,i,M(n.defaultProps()),t),i.name="component",i.type=null,i._opt=t,i.app=e,i.width=0,i.height=0,i.pos={x:0,y:0},i.margin={top:0,right:0,bottom:0,left:0},i.__cid=S.utils.createId("comp_"),i}return n.defaultProps=function(){return{enabled:{detail:"\u662F\u5426\u5F00\u542F\u8BE5\u7EC4\u4EF6",default:!1}}},n._isComponentRoot=n.prototype.init=function(t,e){},n.prototype.draw=function(){},n.prototype.destroy=function(){},n.prototype.reset=function(){},n.prototype.setPosition=function(t){!t&&(t=this.pos),t.x&&(this.sprite.context.x=t.x),t.y&&(this.sprite.context.y=t.y)},n.prototype.layout=function(){},n}(K),cn=function(r){D(n,r);function n(t,e){var i=r.call(this,t,e)||this;return f.extend(!0,i,M(n.defaultProps())),i.name="coord",i._opt=t,i.app=e,i.dataFrame=i.app.dataFrame,i.sprite=new S.Display.Sprite({name:"coord_"+t.type}),i.app.coordSprite.addChild(i.sprite),i.fieldsMap=null,i.induce=null,i._axiss=[],i}return n.defaultProps=function(){return{type:{detail:"\u5750\u6807\u7CFB\u7EC4\u4EF6",documentation:"\u5750\u6807\u7CFB\u7EC4\u4EF6\uFF0C\u53EF\u9009\u503C\u6709'rect'\uFF08\u4E8C\u7EF4\u76F4\u89D2\u5750\u6807\u7CFB\uFF09,'polar'\uFF08\u4E8C\u7EF4\u6781\u5750\u6807\u7CFB\uFF09,'box'\uFF08\u4E09\u7EF4\u76F4\u89D2\u5750\u6807\u7CFB\uFF09 ",insertText:"type: ",default:"",values:["rect","polar","box","polar3d"]},width:{detail:"\u5750\u6807\u7CFBwidth",default:0},height:{detail:"\u5750\u6807\u7CFBheight",default:0},origin:{detail:"\u5750\u6807\u7CFB\u539F\u70B9",propertys:{x:{detail:"\u539F\u70B9x\u4F4D\u7F6E",default:0},y:{detail:"\u539F\u70B9x\u4F4D\u7F6E",default:0}}}}},n.prototype.setFieldsMap=function(t){var e=this,i=0,a=t.type||"yAxis",s=[];f.each(this.getAxiss(t),;function o(l){f.isString(l)&&(l=[l]);for(var h=f.clone(l),u=0,d=l.length;u<d;u++)f.isString(l[u])&&(h[u]={field:l[u],enabled:!0,color:e.app.getTheme(i),ind:i++},h[u][a]=e.getAxis({type:a,field:l[u]})),f.isArray(l[u])&&(h[u]=o(l[u],i));return h}return o(s)},n.prototype.setFieldEnabled=function(t){var e=this;function i(a){f.each(a,function(s,o){f.isArray(s)?i(s):s.field&&s.field==t&&(s.enabled=!s.enabled)})}i(e.fieldsMap)},n.prototype.getFieldMapOf=function(t){var e=this,i=null;function a(s){f.each(s,function(o,l){if(f.isArray(o))a(o);else if(o.field&&o.field==t)return i=o,!1})}return a(e.fieldsMap),i},n.prototype.getEnabledFieldsOf=function(t){var e=[],i=t?t.type:"yAxis";return f.each(this.fieldsMap,function(a,s){if(f.isArray(a)){var o=[];f.each(a,function(l,h){l[i]===t&&l.field&&l.enabled&&o.push(l.field)}),o.length&&e.push(o)}else a[i]===t&&a.field&&a.enabled&&e.push(a.field)}),e},n.prototype.filterEnabledFields=function(t){var e=this,i=[];return f.isArray(t)||(t=[t]),f.each(t,function(a){if(!f.isArray(a))e.getFieldMapOf(a).enabled&&i.push(a);else{var s=[];f.each(a,,s.length&&i.push(s)}}),i},n.prototype.getAxisDataFrame=function(t){return{field:t,org:this.dataFrame.getDataOrg(t,function(e){return e==null||e==""||isNaN(Number(e))?e:Number(e)})}},n.prototype.hide=function(t){this.changeFieldEnabled(t)},n.prototype.show=n.prototype.getSizeAndOrigin=n.prototype.getPoint=function(t){},n.prototype.getAxisOriginPoint=function(t){},n.prototype.getOriginPos=function(t){},n.prototype.getAxis=function(t){var e=this.getAxiss(t);return e[0]},n.prototype.getAxiss=function(t){var e=[],i=0;for(var a in t)i++;return f.each(this._axiss,function(s){var o=0;for(var l in t)if(l=="field"){var h=f.flatten([s[l]]),u=f.flatten([t[l]]),d=!0;f.each(u,function(c){f.indexOf(h,c)==-1&&(d=!1)}),d&&o++}else JSON.stringify(s[l])==JSON.stringify(t[l])&&o++;i==o&&e.push(s)}),e},n}(yt);function Et(r,n){var t=Number(r),e=n||",";if(!t)return String(r);if(t>=1e3){var i=parseInt(t/1e3);return String(r.toString().replace(i,i+e))}else return String(r)}function dn(r){var n="M",t="L",e="z",i="",a={x:0,y:0};f.isArray(r[0])?(a.x=r[0][0],a.y=r[0][1],i=n+r[0][0]+" "+r[0][1]):(a=r[0],i=n+r[0].x+" "+r[0].y);for(var s=1,o=r.length;s<o;s++){var l=0,h=0,u=r[s];f.isArray(u)?(l=u[0],h=u[1]):(l=u.x,h=u.y),l==a.x&&h==a.y?i+=" "+e:i+=" "+t+l+" "+h}return i}var Ee=function(r){D(n,r);function n(t,e,i){var a=r.call(this,t,e)||this;return f.extend(!0,a,M(n.defaultProps())),a}return n.defaultProps=function(){return{field:{detail:"\u8F74\u5B57\u6BB5\u914D\u7F6E",documentation:"\u76EE\u524Dx\u8F74\u7684field\u53EA\u652F\u6301\u5355\u7EF4\u5EA6\u8BBE\u7F6E\uFF0C\u4E5F\u5C31\u662F\u8BF4\u53EA\u652F\u6301\u4E00\u6761x\u8F74",default:[]},layoutType:{detail:"\u5E03\u5C40\u65B9\u5F0F",default:"rule"},width:{detail:"\u8F74\u5BBD",default:0},height:{detail:"\u8F74\u9AD8",default:0},enabled:{detail:"\u662F\u5426\u663E\u793A\u8F74",default:!0},animation:{detail:"\u662F\u5426\u5F00\u542F\u52A8\u753B",default:!0},title:{detail:"\u8F74\u540D\u79F0",propertys:{shapeType:"text",textAlign:{detail:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",default:"center"},textBaseline:{detail:"\u57FA\u7EBF\u5BF9\u9F50\u65B9\u5F0F",default:"middle"},strokeStyle:{detail:"\u6587\u672C\u63CF\u8FB9\u989C\u8272",default:null},lineHeight:{detail:"\u884C\u9AD8",default:0},text:{detail:"\u8F74\u540D\u79F0\u7684\u5185\u5BB9",default:""},fontColor:{detail:"\u989C\u8272",default:"#999"},fontSize:{detail:"\u5B57\u4F53\u5927\u5C0F",default:12}}},tickLine:{detail:"\u523B\u5EA6\u7EBF",propertys:{enabled:{detail:"\u662F\u5426\u5F00\u542F",default:!0},lineWidth:{detail:"\u523B\u5EA6\u7EBF\u5BBD",default:1},lineLength:{detail:"\u523B\u5EA6\u7EBF\u957F\u5EA6",default:4},distance:{detail:"\u548C\u524D\u9762\u4E00\u4E2A\u5143\u7D20\u7684\u8DDD\u79BB",default:2},strokeStyle:{detail:"\u63CF\u8FB9\u989C\u8272",default:"#cccccc"}}},axisLine:{detail:"\u8F74\u7EBF\u914D\u7F6E",propertys:{enabled:{detail:"\u662F\u5426\u6709\u8F74\u7EBF",default:!0},position:{detail:"\u8F74\u7EBF\u7684\u4F4D\u7F6E",documentation:'default\u5728align\u7684\u4F4D\u7F6E\uFF08left\uFF0Cright\uFF09\uFF0C\u53EF\u9009 "center" \u548C \u5177\u4F53\u7684\u503C',default:"default"},lineWidth:{detail:"\u8F74\u7EBF\u5BBD\u5EA6",default:1},strokeStyle:{detail:"\u8F74\u7EBF\u7684\u989C\u8272",default:"#cccccc"}}},label:{detail:"\u523B\u5EA6\u6587\u672C",propertys:{enabled:{detail:"\u662F\u5426\u663E\u793A\u523B\u5EA6\u6587\u672C",default:!0},fontColor:{detail:"\u6587\u672C\u989C\u8272",default:"#999"},fontSize:{detail:"\u5B57\u4F53\u5927\u5C0F",default:12},rotation:{detail:"\u65CB\u8F6C\u89D2\u5EA6",default:0},format:{detail:"label\u6587\u672C\u7684\u683C\u5F0F\u5316\u5904\u7406\u51FD\u6570",default:null},distance:{detail:"\u548C\u8F74\u7EBF\u4E4B\u95F4\u7684\u95F4\u8DDD",default:2},textAlign:{detail:"\u6C34\u5E73\u65B9\u5411\u5BF9\u9F50\u65B9\u5F0F",default:"center"},lineHeight:{detail:"\u6587\u672C\u7684\u884C\u9AD8",default:1},evade:{detail:"\u662F\u5426\u5F00\u542F\u9003\u907F\u7B97\u6CD5,\u76EE\u524D\u7684\u9003\u907F\u53EA\u662F\u9690\u85CF",default:!0}}},filter:{detail:"\u8FC7\u6EE4\u51FD\u6570",documentation:"\u53EF\u4EE5\u7528\u6765\u8FC7\u6EE4\u54EA\u4E9Byaxis \u7684 \u8282\u70B9\u662F\u5426\u663E\u793A\u5DF2\u7ECF\u989C\u8272\u4E4B\u7C7B\u7684",default:null},trimLayout:{detail:"\u81EA\u5B9A\u4E49\u7684\u663E\u793A\u89C4\u5219\u51FD\u6570",documentation:"\u5982\u679C\u7528\u6237\u6709\u624B\u52A8\u7684 trimLayout \uFF0C\u90A3\u4E48\u5C31\u5168\u90E8visible\u4E3Atrue\uFF0C\u7136\u540E\u8C03\u7528\u7528\u6237\u81EA\u5DF1\u7684\u8FC7\u6EE4\u7A0B\u5E8F",default:null}}},n.prototype.drawWaterLine=function(t){this.dataSection=[],this.setWaterLine(t),this._initHandle(),this.draw()},n}(di),Me=S.Shapes.Line,Be=function(r){D(n,r);function n(t,e,i){var a=r.call(this,t,e.org)||this;return a.type="xAxis",a._coord=i||{},a._title=null,a._txts=[],a._axisLine=null,a._formatTextSection=[],a._textElements=[],a.pos={x:0,y:0},a.layoutData=[],a.sprite=null,a.isH=!1,f.extend(!0,a,M(n.defaultProps()),t),a.init(t),a}return n.defaultProps=n.prototype.init=function(t){this._setField(),this._initHandle(t),this.sprite=new S.Display.Sprite({id:"xAxisSprite_"+new Date().getTime()}),this.rulesSprite=new S.Display.Sprite({id:"xRulesSprite_"+new Date().getTime()}),this.sprite.addChild(this.rulesSprite)},n.prototype._initHandle=function(t){var e=this;t&&t.isH&&(!t.label||t.label.rotaion===void 0)&&(this.label.rotation=90),this.setDataSection(),e._formatTextSection=[],e._textElements=[],f.each(e.dataSection,function(i,a){e._formatTextSection[a]=e._getFormatText(i,a);var s=new S.Display.Text(e._formatTextSection[a],{context:{fontSize:e.label.fontSize}});e._textElements[a]=s}),this.label.rotation!=0&&(this.label.textAlign="right"),this._getTitle(),this._setXAxisHeight()},n.prototype._setField=function(t){t&&(this.field=t),this.field=f.flatten([this.field])[0]},n.prototype.draw=function(t){t&&f.extend(!0,this,t),this.setAxisLength(this.width),this._trimXAxis(),this._widget(t),this.setX(this.pos.x),this.setY(this.pos.y)},n.prototype.resetData=function(t){this._setField(t.field),this.resetDataOrg(t.org),this._initHandle(),this.draw()},n.prototype.setX=function(t){this.sprite.context.x=t,this.pos.x=t},n.prototype.setY=function(t){this.sprite.context.y=t,this.pos.y=t},n.prototype._getTitle=function(){this.title.text&&(this._title?this._title.resetText(this.title.text):this._title=new S.Display.Text(this.title.text,{context:{fontSize:this.title.fontSize,textAlign:this.title.textAlign,textBaseline:this.title.textBaseline,fillStyle:this.title.fontColor,strokeStyle:this.title.strokeStyle,lineWidth:this.title.lineWidth,rotation:this.isH?-180:0}}))},n.prototype._setXAxisHeight=function(){var t=this;if(!t.enabled)t.height=0;else{var e=0;this.label.enabled&&f.each(t.dataSection,function(i,a){var s=t._textElements[a],o=s.getTextWidth(),l=s.getTextHeight(),h=l;if(t.label.rotation)if(t.label.rotation==90)h=o;else{var u=Math.sin(Math.abs(t.label.rotation)*Math.PI/180),d=Math.cos(Math.abs(t.label.rotation)*Math.PI/180);h=parseInt(u*o)}e=Math.max(e,h)}),this.height=e+this.tickLine.lineLength+this.tickLine.distance+this.label.distance,this._title&&(this.height+=this._title.getTextHeight())}},n.prototype.getNodeInfoOfX=function(t){var e=this.getIndexOfPos(t),i=this.getValOfInd(e),a=this.getPosOf({ind:e,val:i});return this._getNodeInfo(e,i,a)},n.prototype.getNodeInfoOfVal=function(t){var e=this.getIndexOfVal(t),i=this.getPosOf({ind:e,val:t});return this._getNodeInfo(e,t,i)},n.prototype._getNodeInfo=function(t,e,i){var a={ind:t,value:e,text:this._getFormatText(e,t),x:i,field:this.field};return a},n.prototype._trimXAxis=function(){for(var t=[],e=this.dataSection,i=0,a=e.length;i<a;i++){var s=this._formatTextSection[i],o=this._textElements[i],l={ind:i,value:e[i],text:s,x:this.getPosOf({val:e[i],ind:i}),textWidth:o.getTextWidth(),field:this.field,visible:null};t.push(l)}return this.layoutData=t,this._trimLayoutData(),t},n.prototype._getFormatText=function(t){var e=t;return f.isFunction(this.label.format)&&(e=this.label.format.apply(this,arguments)),f.isNumber(e)&&this.layoutType=="proportion"&&(e=Et(e)),e},n.prototype._widget=function(t){if(this.enabled){!t&&(t={});var e=this,i=this.layoutData;this._title&&(this._title.context.y=this.height-this._title.getTextHeight()/2,this._title.context.x=this.width/2,this.sprite.addChild(this._title));for(var a=Math.min(1e3/i.length,25),s=0,o=0,l=i.length;o<l;o++){var h="xNode"+o,u=this.rulesSprite.getChildById(h);u||(u=new S.Display.Sprite({id:h}),this.rulesSprite.addChild(u));var d=i[o],c=d.x,p=this.tickLine.lineLength+this.tickLine.distance+this.label.distance;if(this.label.enabled&&i[o].visible){var v={x:d._text_x||d.x,y:p+20,fillStyle:this.label.fontColor,fontSize:this.label.fontSize,rotation:-Math.abs(this.label.rotation),textAlign:this.label.textAlign,lineHeight:this.label.lineHeight,textBaseline:this.label.rotation?"middle":"top",globalAlpha:0};this.label.rotation&&this.label.rotation!=90&&(v.x+=5,v.y+=3),s<e._txts.length?(u._txt=e._txts[s],u._txt.resetText(d.text+""),this.animation?u._txt.animate({x:v.x},{duration:300}):u._txt.context.x=v.x):(u._txt=new S.Display.Text(d.text,{id:"xAxis_txt_"+o,context:v}),u.addChild(u._txt),e._txts.push(u._txt),this.animation&&!t.resize?u._txt.animate({globalAlpha:1,y:u._txt.context.y-20},{duration:500,easing:"Back.Out",delay:o*a,id:u._txt.id}):(u._txt.context.y=u._txt.context.y-20,u._txt.context.globalAlpha=1)),s++}if(this.tickLine.enabled)if(i[o].visible){var _={x:c,y:this.tickLine.distance,end:{x:0,y:this.tickLine.lineLength},lineWidth:this.tickLine.lineWidth,strokeStyle:this.tickLine.strokeStyle};u._line?this.animation?u._line.animate({x:_.x},{duration:300}):u._line.context.x=_.x:(u._line=new Me({context:_}),u.addChild(u._line))}else u._line&&(u._line.destroy(),u._line=null);f.isFunction(this.filter)&&this.filter({layoutData:i,index:o,txt:u._txt,line:u._line||null})}if(e._txts.length>s)for(var g=s;g<e._txts.length;g++)e._txts.splice(g--,1)[0].destroy();if(this.rulesSprite.children.length>i.length)for(var l=i.length,x=this.rulesSprite.children.length;l<x;l++)this.rulesSprite.getChildAt(l).remove(),l--,x--;if(this.axisLine.enabled){var m=new Me({context:{start:{x:0,y:0},end:{x:this.width,y:0},lineWidth:this.axisLine.lineWidth,strokeStyle:this.axisLine.strokeStyle}});this.sprite.addChild(m),this._axisLine=m}}},n.prototype._trimLayoutData=function(){var t=this,e=this.layoutData,i=e.length;!this.enabled||!i||(t.layoutType=="proportion"&&this._checkOver(),t.layoutType=="peak"&&this._checkOver(),t.layoutType=="rule"&&this._checkOver())},n.prototype._getRootPR=function(){var t=0;return this._coord.app&&(t=this._coord.app.padding.right),t},n.prototype._checkOver=function(){var t=this,e=t.layoutData,i=e.length,a=t.label.textAlign;if(!this.label.evade||t.trimLayout){f.each(e,function(h){h.visible=!0}),t.trimLayout&&t.trimLayout(e);for(var s,o=i-1;o>=0&&!s;o--)e[o].visible&&(s=e[o]);s&&(a=="center"&&s.x+s.textWidth/2>t.width&&(s._text_x=t.width-s.textWidth/2+t._getRootPR()),a=="left"&&s.x+s.textWidth>t.width&&(s._text_x=t.width-s.textWidth));return}function l(h){var u=e[h];if(u!==void 0){u.visible=!0;for(var d=h;d<i-1;d++){var c=e[d+1],p=c.textWidth,v=u.textWidth;t.label.rotation&&(p=Math.min(p,22),v=Math.min(v,22));var _=c.x,g=u.x+v;if(a=="center"&&(_=c.x-p/2,g=u.x+v/2),a=="right"&&(_=c.x-p,g=u.x),d==i-2&&(a=="center"&&c.x+p/2>t.width&&(_=t.width-p,c._text_x=t.width-p/2+t._getRootPR()),a=="left"&&c.x+p>t.width&&(_=t.width-p,c._text_x=t.width-p)),_-g<1)if(d==i-2){c.visible=!0,u.visible=!1;return}else c.visible=!1;else{l(d+1);break}}}}l(0)},n}(Ee),Fe=S.Shapes.Line,Mt=function(r){D(n,r);function n(t,e,i){var a=r.call(this,t,e.org)||this;return a.type="yAxis",a._title=null,a._axisLine=null,a.maxW=0,a.pos={x:0,y:0},a.yMaxHeight=0,a.layoutData=[],a.sprite=null,a.isH=!1,f.extend(!0,a,M(n.defaultProps()),t),a.init(t),a}return n.defaultProps=n.prototype.init=function(t){this._setField(),this._initHandle(t),this.sprite=new S.Display.Sprite({id:"yAxisSprite_"+new Date().getTime()}),this.rulesSprite=new S.Display.Sprite({id:"yRulesSprite_"+new Date().getTime()}),this.sprite.addChild(this.rulesSprite)},n.prototype._initHandle=function(t){t&&(t.isH&&(!t.label||t.label.rotaion===void 0)&&(this.label.rotation=90),(!t.label||!t.label.textAlign)&&(this.label.textAlign=this.align=="left"?"right":"left")),this.setDataSection(),this._getTitle(),this._setYaxisWidth()},n.prototype._setField=function(t){t&&(this.field=t),f.isArray(this.field)||(this.field=[this.field])},n.prototype.draw=function(t){f.extend(!0,this,t||{}),this.height=parseInt(this.yMaxHeight-this._getYAxisDisLine()),this.setAxisLength(this.height),this.sprite.cleanAnimates(),this._trimYAxis(),this._widget(t),this.setX(this.pos.x),this.setY(this.pos.y)},n.prototype.resetData=function(t){this._setField(t.field),this.resetDataOrg(t.org),this._initHandle(),this.draw()},n.prototype.setX=function(t){this.sprite.context.x=t,this.pos.x=t},n.prototype.setY=n.prototype._getTitle=function(){if(this.title.text)if(this._title)this._title.resetText(this.title.text);else{var t=0;this.align=="left"?t=-90:(t=90,this.isH&&(t=270)),this._title=new S.Display.Text(this.title.text,{context:{fontSize:this.title.fontSize,textAlign:this.title.textAlign,textBaseline:this.title.textBaseline,fillStyle:this.title.fontColor,strokeStyle:this.title.strokeStyle,lineWidth:this.title.lineWidth,rotation:t}})}},n.prototype._setYaxisWidth=function(){},n.prototype._trimYAxis=function(){for(var t=this,e=[],i=0,a=this.dataSection.length;i<a;i++){var s={value:this.dataSection[i],y:-Math.abs(this.getPosOf({val:this.dataSection[i],ind:i})),visible:!0,text:""},o=s.value;f.isFunction(t.label.format)&&(o=t.label.format.apply(this,[o,i])),o==null&&t.layoutType=="proportion"&&(o=Et(s.value)),s.text=o,e.push(s)}for(var l=0,h=0,u=e.length;h<u;h++)h!=0&&(l==0?e[h].text==e[l].text?e[h].visible=!1:l=h:(e[h].text==e[l].text&&(e[l].visible=!1),l=h));this.layoutData=e},n.prototype._getYAxisDisLine=function(){var t=0,e=2*t,i=t;return i=t+this.yMaxHeight%this.dataSection.length,i=i>e?e:i,i},n.prototype.resetWidth=function(t){var e=this;e.width=t,e.align=="left"&&(e.rulesSprite.context.x=e.width)},n.prototype._widget=function(t){var e=this;if(!t&&(t={}),!e.enabled){e.width=0;return}var i=this.layoutData;e.maxW=0;for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.visible){var l=o.y,h=e.label.textAlign,u=l+(a==0?-3:0)+(a==i.length-1?3:0);(e.label.rotation==90||e.label.rotation==-90)&&(h="center",a==i.length-1&&(u=l-2,h="right"),a==0&&(u=l));var d=this.rulesSprite.getChildAt(a);if(d)d._txt&&this.label.enabled&&(e.animation&&!t.resize?d._txt.animate({y:u,globalAlpha:1},{duration:500,delay:a*80,id:d._txt.id}):d._txt.context.y=u,d._txt.resetText(o.text)),d._tickLine&&this.tickLine.enabled&&(e.animation&&!t.resize?d._tickLine.animate({y:l},{duration:500,delay:a*80,id:d._tickLine.id}):d._tickLine.context.y=l);else{d=new S.Display.Sprite({id:"yNode"+a});var c=20;o.value==e.origin&&(c=0),o.value<e.origin&&(c=-20);var p=0;if(e.tickLine.enabled){p=e.align=="left"?-e.tickLine.lineLength-e.tickLine.distance:e.tickLine.distance;var v=new Fe({context:{x:p,y:l,end:{x:e.tickLine.lineLength,y:0},lineWidth:e.tickLine.lineWidth,strokeStyle:e._getStyle(e.tickLine.strokeStyle)}});d.addChild(v),d._tickLine=v}if(e.label.enabled){var _=e.align=="left"?p-e.label.distance:p+e.tickLine.lineLength+e.label.distance;this.isH&&(_=_+(e.align=="left"?-1:1)*4);var g=new S.Display.Text(o.text,{id:"yAxis_txt_"+e.align+"_"+a,context:{x:_,y:u+c,fillStyle:e._getStyle(e.label.fontColor),fontSize:e.label.fontSize,rotation:-Math.abs(e.label.rotation),textAlign:h,textBaseline:"middle",lineHeight:e.label.lineHeight,globalAlpha:0}});d.addChild(g),d._txt=g,e.label.rotation==90||e.label.rotation==-90?e.maxW=Math.max(e.maxW,g.getTextHeight()):e.maxW=Math.max(e.maxW,g.getTextWidth()),f.isFunction(e.filter)&&e.filter({layoutData:e.layoutData,index:a,txt:g,line:v}),e.rulesSprite.addChild(d),e.animation&&!t.resize?g.animate({globalAlpha:1,y:g.context.y-c},{duration:500,easing:"Back.Out",delay:(a+1)*80,id:g.id}):(g.context.y=g.context.y-c,g.context.globalAlpha=1)}}}}if(e.rulesSprite.children.length>i.length)for(var s=i.length,x=e.rulesSprite.children.length;s<x;s++)e.rulesSprite.getChildAt(s).remove(),s--,x--;!e.width&&!("width"in e._opt)&&(e.width=parseInt(e.maxW+e.label.distance),e.tickLine.enabled&&(e.width+=parseInt(e.tickLine.lineLength+e.tickLine.distance)),e._title&&(e.width+=e._title.getTextHeight()));var m=0;if(e.align=="left"&&(e.rulesSprite.context.x=e.width,m=e.width),e.axisLine.enabled){var w=new Fe({context:{start:{x:m,y:0},end:{x:m,y:-e.height},lineWidth:e.axisLine.lineWidth,strokeStyle:e._getStyle(e.axisLine.strokeStyle)}});this.sprite.addChild(w),this._axisLine=w}this._title&&(this._title.context.y=-this.height/2,this._title.context.x=this._title.getTextHeight()/2,this.align=="right"&&(this._title.context.x=this.width-this._title.getTextHeight()/2),this.sprite.addChild(this._title))},n.prototype._getStyle=function(t){var e=t;return f.isFunction(t)&&(e=t.call(this,this)),t||(e="#999"),e},n}(Ee),Re=S.Shapes.Line,pn=S.Shapes.Rect,ke=function(r){D(n,r);function n(t,e){var i=r.call(this,t,e)||this;return f.extend(!0,i,M(n.defaultProps())),i.width=0,i.height=0,i.app=e,i.pos={x:0,y:0},i.sprite=null,i.xAxisSp=null,i.yAxisSp=null,i.init(t),i}return n.defaultProps=function(){return{enabled:{detail:"\u662F\u5426\u5F00\u542Fgrid\u7ED8\u5236",default:!0},oneDimension:{detail:"\u4E00\u7EF4\u65B9\u5411\u7684\u7F51\u683C\u7EBF",propertys:{enabled:{detail:"\u662F\u5426\u5F00\u542F",default:!0},data:[],lineType:{detail:"\u7EBF\u7684\u6837\u5F0F\uFF0C\u865A\u7EBF\u6216\u8005\u5B9E\u73B0",default:"solid"},lineWidth:{detail:"\u7EBF\u5BBD",default:1},strokeStyle:{detail:"\u7EBF\u989C\u8272",default:"#f0f0f0"}}},twoDimension:{detail:"\u4E8C\u7EF4\u65B9\u5411\u7684\u7F51\u683C\u7EBF",propertys:{enabled:{detail:"\u662F\u5426\u5F00\u542F",default:!1},data:[],lineType:{detail:"\u7EBF\u7684\u6837\u5F0F\uFF0C\u865A\u7EBF\u6216\u8005\u5B9E\u73B0",default:"solid"},lineWidth:{detail:"\u7EBF\u5BBD",default:1},strokeStyle:{detail:"\u7EBF\u989C\u8272",default:"#f0f0f0"}}},fill:{detail:"\u80CC\u666F",propertys:{enabled:{detail:"\u662F\u5426\u5F00\u542F",default:!1},fillStyle:{detail:"\u80CC\u666F\u989C\u8272",default:null},alpha:{detail:"\u80CC\u666F\u900F\u660E\u5EA6",default:null}}}}},n.prototype.init=function(t){f.extend(!0,this,t),this.sprite=new S.Display.Sprite},n.prototype.setX=function(t){this.sprite.context.x=t},n.prototype.setY=n.prototype.draw=function(t){f.extend(!0,this,t),this._widget(),this.setX(this.pos.x),this.setY(this.pos.y)},n.prototype.clean=n.prototype.reset=n.prototype._widget=function(){var t=this;if(this.enabled){var e=t.app._yAxis[0];if(t.fill.enabled&&t.app&&e&&e.dataSectionGroup&&e.dataSectionGroup.length>1){t.yGroupSp=new S.Display.Sprite,t.sprite.addChild(t.yGroupSp);for(var i=0,a=e.dataSectionGroup.length;i<a;i++){var s=e.height/a,o=new pn({context:{x:0,y:-s*i,width:t.width,height:-s,fillStyle:t.fill.fillStyle||"#000",fillAlpha:t.fill.alpha||.025*(i%2)}});t.yGroupSp.addChild(o)}}t.xAxisSp=new S.Display.Sprite,t.sprite.addChild(t.xAxisSp),t.yAxisSp=new S.Display.Sprite,t.sprite.addChild(t.yAxisSp);for(var c=t.oneDimension.data,l=0,h=c.length;l<h;l++){var u=c[l],d=new Re({id:"back_line_"+l,context:{y:u.y,lineType:t.oneDimension.lineType,lineWidth:t.oneDimension.lineWidth,strokeStyle:t.oneDimension.strokeStyle}});t.oneDimension.enabled&&(t.xAxisSp.addChild(d),d.context.start.x=0,d.context.end.x=t.width)}for(var c=t.twoDimension.data,l=0,h=c.length;l<h;l++){var u=c[l],d=new Re({context:{x:u.x,start:{x:0,y:0},end:{x:0,y:-t.height},lineType:t.twoDimension.lineType,lineWidth:t.twoDimension.lineWidth,strokeStyle:t.twoDimension.strokeStyle,visible:!!u.x}});t.twoDimension.enabled&&t.yAxisSp.addChild(d)}}},n}(K),vn=function(r){D(n,r);function n(t,e){var i=r.call(this,t,e)||this;return f.extend(!0,i,M(n.defaultProps()),i.setDefaultOpt(t,e)),i.type="rect",i._xAxis=null,i._yAxis=[],i._yAxisLeft=null,i._yAxisRight=null,i._grid=null,i.init(t),i}return n.defaultProps=function(){return{horizontal:{detail:"\u6A2A\u5411\u7FFB\u8F6C\u5750\u6807\u7CFB",documentation:"\u6A2A\u5411\u7FFB\u8F6C\u5750\u6807\u7CFB",insertText:"horizontal: ",default:!1,values:[!0,!1]},_props:{xAxis:Be,yAxis:Mt,grid:ke}}},n.prototype.setDefaultOpt=function(t,e){var i={field:this.dataFrame.fields[0],xAxis:{layoutType:"rule",posParseToInt:!1},grid:{}};if(f.extend(!0,i,t),i.yAxis){var a=[];f.each(f.flatten([i.yAxis]),,i.yAxis=a}else i.yAxis=[];for(var s=f.flatten([e._opt.graphs]),o=0;o<s.length;o++){var l=s[o];if(l.type=="bar"&&(i.xAxis.layoutType="peak"),l.field){var h="left";l.yAxisAlign=="right"&&(h="right");var u=null;u=f.find(i.yAxis,function(p,v){return p.align==h||!p.align&&v==(h=="left"?0:1)}),u?u.align||(u.align=h):(u={align:h,field:[]},i.yAxis.push(u)),u.field?f.isArray(u.field)||(u.field=[u.field]):u.field=[],f.isArray(l.field)?u.field=u.field.concat(l.field):u.field.push(l.field)}}var d=[],c=[];return f.each(i.yAxis,function(p,v){p.align||(p.align=v?"right":"left"),p.align=="left"?d.push(p):c.push(p)}),i.yAxis=d.concat(c),i.horizontal&&(i.xAxis.isH=!0,f.each(i.yAxis,),"enabled"in i&&(f.extend(!0,i.xAxis,{enabled:i.enabled}),f.each(i.yAxis,function(p){f.extend(!0,p,{enabled:i.enabled})}),i.grid.enabled=i.enabled),i},n.prototype.init=function(t){this._initModules(),this.fieldsMap=this.setFieldsMap({type:"yAxis"})},n.prototype.resetData=function(t,e){var i=this;this.dataFrame=t;var a=this.getAxisDataFrame(this.xAxis.field);this._xAxis.resetData(a),f.each(this._yAxis,,this._resetXY_axisLine_pos();var s=this._yAxisLeft||this._yAxisRight;this._grid.reset({animation:!1,xDirection:{data:s.layoutData}})},n.prototype.draw=function(t){!t&&(t={});var e=this.app.padding,i=t.height||this.app.height,a=t.width||this.app.width;if(this.horizontal){var s=a;a=i,i=s}var o=i-this._xAxis.height-e.bottom,l=0,h=0;this._yAxisLeft&&(this._yAxisLeft.draw({pos:{x:e.left,y:o},yMaxHeight:o-e.top,resize:t.resize}),l=this._yAxisLeft.width),this._yAxisRight&&(this._yAxisRight.draw({pos:{x:0,y:o},yMaxHeight:o-e.top,resize:t.resize}),h=this._yAxisRight.width),this._xAxis.draw({pos:{x:e.left+l,y:o},width:a-l-e.left-h-e.right,resize:t.resize}),this._yAxisRight&&this._yAxisRight.setX(l+e.left+this._xAxis.width),this._grid.draw({width:this._xAxis.width,height:this._yAxis[0].height,oneDimension:{data:this._yAxis[0].layoutData},towDimension:{data:this._xAxis.layoutData},pos:{x:l+e.left,y:o},resize:t.resize}),this.width=this._xAxis.width,this.height=this._yAxis[0].height,this.origin.x=l+e.left,this.origin.y=o,this._initInduce(),this._resetXY_axisLine_pos(),this.horizontal&&this._horizontal({w:a,h:i})},n.prototype._resetXY_axisLine_pos=function(){var t=this,e;this._xAxis.axisLine.position=="center"&&(e=-this._yAxis[0].height/2),this._xAxis.axisLine.position=="center"&&(e=-this._yAxis[0].height/2),f.isNumber(this._xAxis.axisLine.position)&&(e=-this._yAxis[0].getPosOfVal(this._xAxis.axisLine.position)),e!==void 0&&(this._xAxis._axisLine.context.y=e),f.each(this._yAxis,function(i){var a;i.axisLine.position=="center"&&(a=t._xAxis.width/2),f.isNumber(i.axisLine.position)&&(a=t._xAxis.getPosOfVal(i.axisLine.position)),a!==void 0&&(i._axisLine.context.x=a)})},n.prototype.getSizeAndOrigin=function(){var t={width:this.width,height:this.height,origin:this.origin};if(this.horizontal){var e=this.app.padding,i=e.bottom,a=e.right;t={width:this._yAxis[0].height,height:this._xAxis.width,origin:{x:this._xAxis.height+i,y:this._yAxis[0].height+a}}}return t},n.prototype._initModules=function(){this._grid=new ke(this.grid,this),this.sprite.addChild(this._grid.sprite);var t=this.getAxisDataFrame(this.xAxis.field);this._xAxis=new Be(this.xAxis,t,this),this._axiss.push(this._xAxis),this.sprite.addChild(this._xAxis.sprite);var e=this.yAxis,i,a,s,o;f.isArray(e)||(e=[e]),i=f.find(e,function(l){return l.align=="left"}),i&&(s=this.getAxisDataFrame(i.field),this._yAxisLeft=new Mt(i,s),this._yAxisLeft.axis=i,this.sprite.addChild(this._yAxisLeft.sprite),this._yAxis.push(this._yAxisLeft),this._axiss.push(this._yAxisLeft)),a=f.find(e,,a&&(o=this.getAxisDataFrame(a.field),this._yAxisRight=new Mt(a,o),this._yAxisRight.axis=a,this.sprite.addChild(this._yAxisRight.sprite),this._yAxis.push(this._yAxisRight),this._axiss.push(this._yAxisRight))},n.prototype._horizontal=function(t){var e=this,i=t.h,a=t.w;f.each([e.sprite.context],function(s){s.x+=(i-a)/2,s.y+=(a-i)/2;var o={x:a/2,y:i/2};s.rotation=90,s.rotateOrigin=o})},n.prototype.changeFieldEnabled=function(t){this.setFieldEnabled(t);var e=this.getFieldMapOf(t),i=e.yAxis||e.rAxis,a=this.getEnabledFieldsOf(i);i.resetData(this.getAxisDataFrame(a)),this._resetXY_axisLine_pos(),this._grid.reset({animation:!1,xDirection:{data:this._yAxisLeft?this._yAxisLeft.layoutData:this._yAxisRight.layoutData}})},n.prototype._initInduce=function(){var t=this;t.induce=new S.Shapes.Rect({id:"induce",context:{x:t.origin.x,y:t.origin.y-t.height,width:t.width,height:t.height,fillStyle:"#000000",globalAlpha:0,cursor:"pointer"}}),t.sprite.getChildById("induce")||t.sprite.addChild(t.induce),t.induce.on(Z.get(),function(e){t.fire(e.type,e),t.app.fire(e.type,e)})},n.prototype.getTipsInfoHandler=function(t){var e=t.point.x;t.target!==this.induce&&(e=this.induce.globalToLocal(t.target.localToGlobal(t.point)).x);var i=this._xAxis.getNodeInfoOfX(e),a={xAxis:i,title:i.text,iNode:i.ind,nodes:[]};return t.eventInfo&&(f.extend(!0,a,t.eventInfo),a.xAxis&&(t.eventInfo.xAxis=i)),a},n.prototype.getPoint=function(t){var e={x:0,y:void 0},i={type:"xAxis"},a={type:"yAxis",field:t.field},s=this.getAxis(i),o=this.getAxis(a),l=t.iNode||0,h=t.value;"x"in h||(h.x=f.flatten(s.dataOrg)[l]),e.x=s.getPosOf({ind:l,val:h.x});var u=h.y;return!isNaN(u)&&u!==null&&u!==void 0&&u!==""?e.y=-o.getPosOfVal(u):e.y=void 0,{pos:e,value:h}},n.prototype.getAxisOriginPoint=function(t){var e=this.getAxis(t);return{pos:-e.originPos,value:e.origin}},n.prototype.getOriginPos=function(t){var e={type:"xAxis"},i={type:"yAxis",field:t.field},a=this.getAxis(e),s=this.getAxis(i);return{x:a.originPos,y:-s.originPos}},n}(cn),gn=S.AnimationFrame,yn=S.Shapes.BrokenLine,_n=S.Shapes.Circle,mn=S.Shapes.Path,Ge=function(r){D(n,r);function n(t,e,i,a,s,o){var l=r.call(this)||this;return l._opt=i,l.fieldMap=t,l.field=null,l.iGroup=e,l._yAxis=t.yAxis,l.ctx=a,l.w=o,l.h=s,l.y=0,l.line={strokeStyle:t.color},l.data=[],l.sprite=null,l._pointList=[],l._currPointList=[],l._bline=null,f.extend(!0,l,M(n.defaultProps()),i),l.field=t.field,l.init(i),l}return n.defaultProps=function(){return{line:{detail:"\u7EBF\u914D\u7F6E",propertys:{enabled:{detail:"\u662F\u5426\u5F00\u542F",default:!0},strokeStyle:{detail:"\u7EBF\u7684\u989C\u8272",default:void 0},lineWidth:{detail:"\u7EBF\u7684\u5BBD\u5EA6",default:2},lineType:{detail:"\u7EBF\u7684\u6837\u5F0F",default:"solid"},smooth:{detail:"\u662F\u5426\u5E73\u6ED1\u5904\u7406",default:!0}}},node:{detail:"\u5355\u4E2A\u6570\u636E\u8282\u70B9\u914D\u7F6E\uFF0C\u5BF9\u5E94\u7EBF\u4E0A\u7684\u5C0Ficon\u56FE\u5F62",propertys:{enabled:{detail:"\u662F\u5426\u5F00\u542F",default:!0},corner:{detail:"\u62D0\u89D2\u624D\u6709\u8282\u70B9",default:!1},radius:{detail:"\u8282\u70B9\u534A\u5F84",default:3},fillStyle:{detail:"\u8282\u70B9\u56FE\u5F62\u7684\u80CC\u666F\u8272",default:"#ffffff"},strokeStyle:{detail:"\u8282\u70B9\u56FE\u5F62\u7684\u63CF\u8FB9\u8272\uFF0C\u9ED8\u8BA4\u548Cline.strokeStyle\u4FDD\u6301\u4E00\u81F4",default:null},lineWidth:{detail:"\u8282\u70B9\u56FE\u5F62\u8FB9\u5BBD\u5927\u5C0F",default:2}}},label:{detail:"\u6587\u672C\u914D\u7F6E",propertys:{enabled:{detail:"\u662F\u5426\u5F00\u542F",default:!1},fontColor:{detail:"\u6587\u672C\u989C\u8272",default:null},strokeStyle:{detail:"\u6587\u672C\u63CF\u8FB9\u8272",default:null},fontSize:{detail:"\u6587\u672C\u5B57\u4F53\u5927\u5C0F",default:12},format:{detail:"\u6587\u672C\u683C\u5F0F\u5316\u5904\u7406\u51FD\u6570",default:null}}},area:{detail:"\u9762\u79EF\u533A\u57DF\u914D\u7F6E",propertys:{enabled:{detail:"\u662F\u5426\u5F00\u542F",default:!0},fillStyle:{detail:"\u9762\u79EF\u80CC\u666F\u8272",default:null},alpha:{detail:"\u9762\u79EF\u900F\u660E\u5EA6",default:.2}}}}},n.prototype.init=function(t){this.sprite=new S.Display.Sprite},n.prototype.draw=function(t,e){f.extend(!0,this,t),this.data=e,this._widget(t)},n.prototype.destroy=function(){var t=this;t.sprite.animate({globalAlpha:0},{duration:300,onComplete:)},n.prototype._getColor=function(t,e){var i=this._getProp(t,e);return i==null&&(i=this._getLineStrokeStyle(),t&&t.lineargradient&&(i=t.lineargradient[parseInt(t.lineargradient.length/2)].color),(!i||!f.isString(i))&&(i=this.fieldMap.color)),i},n.prototype._getProp=function(t,e){if(f.isArray(t))return t[this.iGroup];if(f.isFunction(t)){var i=[];return e!=null&&i.push(this.getNodeInfoAt(e)),t.apply(this,i)}return t},n.prototype.getNodeInfoAt=function(t){var e=this.data[t];return e},n.prototype.resetData=function(t,e){var i=this;t&&(this.data=t),i._pointList=this._getPointList(this.data);var a=i._pointList.length,s=i._currPointList.length,o={left:0,right:a-s};e&&f.extend(o,e.params),o.left&&(o.left>0&&(this._currPointList=this._pointList.slice(0,o.left).concat(this._currPointList)),o.left<0&&this._currPointList.splice(0,Math.abs(o.left))),o.right&&(o.right>0&&(this._currPointList=this._currPointList.concat(this._pointList.slice(-o.right))),o.right<0&&this._currPointList.splice(this._currPointList.length-Math.abs(o.right))),i._createNodes(),i._createTexts(),i._grow()},n.prototype._grow=function(t,e){var i=this;if(!i.data.length){t&&t(i);return}function a(s){i._bline.context.pointList=f.clone(s),i._bline.context.strokeStyle=i._getLineStrokeStyle(s),i._area.context.path=i._fillLine(i._bline),i._area.context.fillStyle=i._getFillStyle();var o=0;f.each(s,function(l,h){if(f.isNumber(l[1])){if(i._circles){var u=i._circles.getChildAt(o);u&&(u.context.x=l[0],u.context.y=l[1])}if(i._labels){var d=i._labels.getChildAt(o);d&&(d.context.x=l[0],d.context.y=l[1]-3,i._checkTextPos(d,h))}o++}})}this._growTween=gn.registTween({from:i._getPointPosStr(i._currPointList),to:i._getPointPosStr(i._pointList),desc:i.field,onUpdate:function(s){for(var o in s){var l=parseInt(o.split("_")[2]),h=parseInt(o.split("_")[1]);i._currPointList[l]&&(i._currPointList[l][h]=s[o])}a(i._currPointList)},onComplete:function(){i.sprite._removeTween(i._growTween),i._growTween=null,a(i._pointList),t&&t(i)}}),this.sprite._tweens.push(this._growTween)},n.prototype._getPointPosStr=function(t){var e={};return f.each(t,function(i,a){i&&(e["p_1_"+a]=i[1],e["p_0_"+a]=i[0])}),e},n.prototype._getPointList=function(t){for(var e=[],i=0,a=t.length;i<a;i++){var s=t[i];e.push([s.x,s.y])}return e},n.prototype._widget=function(t){var e=this;if(!t&&(t={}),e._pointList=this._getPointList(e.data),e._pointList.length!=0){var i=[];if(t.animation)for(var a=this._getFirstNode(),s=a?a.y:void 0,o=0,l=e.data.length;o<l;o++){var h=e.data[o];i.push([h.x,f.isNumber(h.y)?s:h.y])}else i=e._pointList;e._currPointList=i;var u={pointList:i,lineWidth:e.line.lineWidth,y:e.y,strokeStyle:e._getLineStrokeStyle(i),smooth:e.line.smooth,lineType:e._getProp(e.line.lineType),smoothFilter:function(p){p[1]>0?p[1]=0:Math.abs(p[1])>e.h&&(p[1]=-e.h)},lineCap:"round"},d=new yn({context:u});this.line.enabled||(d.context.visible=!1),e.sprite.addChild(d),e._bline=d;var c=new mn({context:{path:e._fillLine(d),fillStyle:e._getFillStyle(),globalAlpha:f.isArray(e.area.alpha)?1:e.area.alpha}});this.area.enabled||(c.context.visible=!1),e.sprite.addChild(c),e._area=c,e._createNodes(),e._createTexts()}},n.prototype._getFirstNode=function(){for(var t=null,e=0,i=this.data.length;e<i;e++){var a=this.data[e];if(f.isNumber(a.y)&&((t===null||this._yAxis.align=="right")&&(t=a),this._yAxis.align!=="right"&&t!==null))break}return t},n.prototype._getFillStyle=function(){var t=this,e=null,i=t._getProp(t.area.fillStyle)||t._getLineStrokeStyle(null,"fillStyle");if(f.isArray(t.area.alpha)&&!(i instanceof CanvasGradient)){t.area.alpha.length=2,t.area.alpha[0]==null&&(t.area.alpha[0]=0),t.area.alpha[1]==null&&(t.area.alpha[1]=0);var a=f.min(t._bline.context.pointList,function(h){return h[1]});if(a[0]===void 0||a[1]===void 0)return null;e=t.ctx.createLinearGradient(a[0],a[1],a[0],0);var s=mi(i),o=s.replace(")",", "+t._getProp(t.area.alpha[0])+")").replace("RGB","RGBA");e.addColorStop(0,o);var l=s.replace(")",", "+t.area.alpha[1]+")").replace("RGB","RGBA");e.addColorStop(1,l),i=e}return i},n.prototype._getLineStrokeStyle=function(t,e){var i=this,a;if(!this._opt.line||!this._opt.line.strokeStyle)return this.line.strokeStyle;if(this._opt.line.strokeStyle.lineargradient){!t&&(t=this._bline.context.pointList);var s=f.min(t,function(l){return l[1]}),o=f.max(t,;return e=="fillStyle"&&(o=[0,0]),s[0]===void 0||s[1]===void 0||o[1]===void 0?null:(a=i.ctx.createLinearGradient(s[0],s[1],s[0],o[1]),f.each(this._opt.line.strokeStyle.lineargradient,,a)}else return a=this._getColor(this._opt.line.strokeStyle),a},n.prototype._createNodes=function(){var t=this,e=t._currPointList;this._circles||(this._circles=new S.Display.Sprite({}),this.sprite.addChild(this._circles));for(var i=0,a=0,s=e.length;a<s;a++){var o=t._getColor(t.node.strokeStyle||t.line.strokeStyle,a);if(t.data[a].color=o,!!t.node.enabled){var l=t._currPointList[a];if(!(!l||!f.isNumber(l[1]))){var h={x:l[0],y:l[1],r:t._getProp(t.node.radius,a),lineWidth:t._getProp(t.node.lineWidth,a)||2,strokeStyle:o,fillStyle:t.node.fillStyle},u=t._circles.children[i];if(u?f.extend(u.context,h):(u=new _n({context:h}),t._circles.addChild(u)),t.node.corner){var d=t._pointList[a][1],c=t._pointList[a-1],p=t._pointList[a+1];c&&p&&d==c[1]&&d==p[1]&&(u.context.visible=!1)}i++}}}if(t._circles.children.length>i)for(var v=i,_=t._circles.children.length;v<_;v++)t._circles.children[v].destroy(),v--,_--},n.prototype._createTexts=function(){var t=this,e=t._currPointList;if(t.label.enabled){this._labels||(this._labels=new S.Display.Sprite({}),this.sprite.addChild(this._labels));for(var i=0,a=0,s=e.length;a<s;a++){var o=e[a];if(!(!o||!f.isNumber(o[1]))){var l={x:o[0],y:o[1]-3,fontSize:this.label.fontSize,textAlign:"center",textBaseline:"bottom",fillStyle:t._getColor(t.label.fontColor,a),lineWidth:1,strokeStyle:"#ffffff"},h=t.data[a].value;if(f.isFunction(t.label.format)&&(h=t.label.format(h,t.data[a])||h),!(h==null||h==null)){var u=this._labels.children[i];u?(u.resetText(h),f.extend(u.context,l)):(u=new S.Display.Text(h,{context:l}),t._labels.addChild(u),t._checkTextPos(u,a)),i++}}}if(t._labels.children.length>i)for(var d=i,c=t._labels.children.length;d<c;d++)t._labels.children[d].destroy(),d--,c--}},n.prototype._checkTextPos=function(t,e){var i=this,a=i._currPointList,s=a[e-1],o=a[e+1];s&&o&&s[1]<t.context.y&&o[1]<t.context.y&&(t.context.y+=7,t.context.textBaseline="top")},n.prototype._fillLine=function(t){var e=f.clone(t.context.pointList),i="",a=-this._yAxis.originPos,s=null;f.each(e,function(l,h){f.isNumber(l[1])?(s===null&&(s=[]),s.push(l)):s&&s.length&&o(),h==e.length-1&&f.isNumber(l[1])&&o()});function o(){s.push([s[s.length-1][0],a],[s[0][0],a],[s[0][0],s[0][1]]),i+=dn(s),s=null}return i},n.prototype.getNodeInfoOfX=function(t){for(var e=this,i,a=0,s=this.data.length;a<s;a++)if(this.data[a].value!==null&&Math.abs(this.data[a].x-t)<=1)return i=this.getNodeInfoAt(a),i;var o=function(d,c){var p={x:d,y:0};return p.y=c[0][1]+(c[1][1]-c[0][1])/(c[1][0]-c[0][0])*(d-c[0][0]),p},l,h=function(d){if(!(t<d[0][0]||t>d.slice(-1)[0][0])){var c=parseInt(d.length/2);if(Math.abs(d[c][0]-t)<=1){l={x:d[c][0],y:d[c][1]};return}var p=[];if(t>d[c][0])if(t<d[c+1][0]){l=o(t,[d[c],d[c+1]]);return}else p=d.slice(c+1);else if(t>d[c-1][0]){l=o(t,[d[c-1],d[c]]);return}else p=d.slice(0,c);h(p)}};if(h(this._bline.context.pointList),!l||l.y==null)return null;var u={type:"line",iGroup:e.iGroup,iNode:-1,field:e.field,value:this._yAxis.getValOfPos(-l.y),x:l.x,y:l.y,rowData:null,color:e._getProp(e.node.strokeStyle)||e._getLineStrokeStyle()};return u},n}(K),He=S.AnimationFrame,xn=function(r){D(n,r);function n(t,e){var i=r.call(this,t,e)||this;f.extend(!0,i,M(n.defaultProps())),i.name="graphs",i._opt=t||{},i.app=e,i.ctx=e.stage.canvas.getContext("2d"),i.dataFrame=e.dataFrame,i.data=null,i.width=0,i.height=0,i.origin={x:0,y:0},i.inited=!1,i.sprite=new S.Display.Sprite({name:"graphs_"+t.type}),i.app.graphsSprite.addChild(i.sprite),i._growTween=null;var a=i;return i.sprite.on("destroy",,i}return n.defaultProps=function(){return{type:{detail:"\u7ED8\u56FE\u7EC4\u4EF6",default:"",insertText:"type: ",values:["bar","line","pie","scat"]},animation:{detail:"\u662F\u5426\u5F00\u542F\u5165\u573A\u52A8\u753B",default:!0},aniDuration:{detail:"\u52A8\u753B\u65F6\u957F",default:500}}},n.prototype.tipsPointerOf=function(t){},n.prototype.tipsPointerHideOf=function(t){},n.prototype.focusAt=function(t,e){},n.prototype.unfocusAt=function(t,e){},n.prototype.selectAt=function(t,e){},n.prototype.unselectAt=n.prototype.getSelectedList=function(){return[]},n.prototype.getSelectedRowList=n.prototype.hide=function(t){},n.prototype.show=n.prototype.getLegendData=function(){},n.prototype.triggerEvent=function(t){var e=t.eventInfo.trigger||this,i=e["on"+t.type];if(i&&f.isFunction(i))if(t.eventInfo&&t.eventInfo.nodes&&t.eventInfo.nodes.length)t.eventInfo.nodes.length==1?i.apply(this,[t,t.eventInfo.nodes[0]]):i.apply(this,[t,t.eventInfo.nodes]);else{var a=[];f.each(arguments,,i.apply(this,a)}},n.prototype.grow=function(t,e){!e&&(e={});var i=this,a=this.aniDuration;this.animation||(a=0);var s=0,o=1;"from"in e&&(s=e.from),"to"in e&&(o=e.to),this._growTween=He.registTween({from:{process:s},to:{process:o},duration:a,onUpdate:function(l){f.isFunction(t)&&t(l.process)},onComplete:function(l){this._growTween=null,i.fire("complete")}})},n}(yt),An=function(r){D(n,r);function n(t,e){var i=r.call(this,t,e)||this;return i.type="line",i.enabledField=null,i.groups=[],f.extend(!0,i,M(n.defaultProps()),t),i.init(),i}return n.defaultProps=function(){return{field:{detail:"\u5B57\u6BB5\u914D\u7F6E\uFF0C\u652F\u6301\u4E8C\u7EF4\u6570\u7EC4\u683C\u5F0F",default:null},yAxisAlign:{detail:"\u7ED8\u5236\u5728\u54EA\u6839y\u8F74\u4E0A\u9762",default:"left"},_props:[Ge]}},n.prototype.init=function(){},n.prototype.draw=function(t){return!t&&(t={}),this.width=t.width,this.height=t.height,f.extend(!0,this.origin,t.origin),this.sprite.context.x=this.origin.x,this.sprite.context.y=this.origin.y,this.data=this._trimGraphs(),this._setGroupsForYfield(this.data,null,t),this.animation&&!t.resize?this.grow():this.fire("complete"),this},n.prototype.resetData=function(t,e){var i=this;t&&(i.dataFrame=t,i.data=i._trimGraphs()),f.each(i.groups,function(a){a.resetData(i.data[a.field].data,e)})},n.prototype.setEnabledField=function(){this.enabledField=this.app.getComponent({name:"coord"}).filterEnabledFields(this.field)},n.prototype._trimGraphs=function(){var t=this,e=this.app.getComponent({name:"coord"}),i={};return t.setEnabledField(),f.each(f.flatten(t.enabledField),function(a,s){var o=t.app.getComponent({name:"coord"}).getFieldMapOf(a),l=t.dataFrame.getFieldData(a);if(l){for(var h=[],u=0,d=l.length;u<d;u++){var c=e.getPoint({iNode:u,field:a,value:{y:l[u]}}),p={type:"line",iGroup:s,iNode:u,field:a,value:l[u],x:c.pos.x,y:c.pos.y,rowData:t.dataFrame.getRowDataAt(u),color:o.color};h.push(p)}i[a]={yAxis:o.yAxis,field:a,data:h}}}),i},n.prototype.grow=function(t){var e=0,i=this.groups.length,a=this;return f.each(this.groups,function(s,o){s._grow(function(){e++,t&&t(s),e==i&&a.fire("complete")})}),this},n.prototype.show=function(t){var e=this;f.indexOf(f.flatten([e.field]),t)!=-1&&(this.data=this._trimGraphs(),this._setGroupsForYfield(this.data,t),f.each(this.groups,function(i,a){i.resetData(e.data[i.field].data)}))},n.prototype.hide=function(t){var e=this,i=e.getGroupIndex(t);!this.groups.length||i<0||(this.groups.splice(i,1)[0].destroy(),this.data=this._trimGraphs(),f.each(this.groups,function(a,s){a.resetData(e.data[a.field].data)}))},n.prototype.getGroupIndex=n.prototype.getGroup=n.prototype._setGroupsForYfield=function(t,e,i){var a=this;!i&&(i={}),e&&(e=f.flatten([e]));var s=f.flatten([this.field]);f.each(t,function(o,l){if(!(e&&f.indexOf(e,l)==-1)){var h=a.app.getComponent({name:"coord"}).getFieldMapOf(l),u=f.indexOf(s,l),d=new Ge(h,u,a._opt,a.ctx,a.height,a.width);d.draw({animation:a.animation&&!i.resize},o.data);for(var c=!1,p=0,v=a.groups.length;p<v;p++)if(u<a.groups[p].iGroup){a.groups.splice(p,0,d),c=!0,a.sprite.addChildAt(d.sprite,p);break}c||(a.groups.push(d),a.sprite.addChild(d.sprite))}})},n.prototype.getNodesAt=function(t){var e=[];return f.each(this.groups,function(i){var a=i.getNodeInfoAt(t);a&&e.push(a)}),e},n.prototype.getNodesOfPos=function(t){var e=[];return f.each(this.groups,,e},n}(xn),We=function(){function r(n,t){t===void 0&&(t={}),this.comp=n,this.params=t}return r}(),wn=S.Shapes.Circle,Cn=function(r){D(n,r);function n(t,e){var i=r.call(this,t,e)||this;return i.name="legend",f.extend(!0,i,M(n.defaultProps()),t),i.data=i._getLegendData(t),!t.direction&&t.position&&(i.position=="left"||i.position=="right"?i.direction="v":i.direction="h"),i.sprite=new S.Display.Sprite({id:"LegendSprite",context:{x:i.pos.x,y:i.pos.y}}),i.app.stage.addChild(i.sprite),i.widget(),i.layout(),i}return n.defaultProps=function(){return{data:{detail:"\u56FE\u4F8B\u6570\u636E",default:[],documentation:'                    \u6570\u636E\u7ED3\u6784\u4E3A\uFF1A{name: "uv", color: "#ff8533", field: "" ...}                    \u5982\u679C\u624B\u52A8\u4F20\u5165\u6570\u636E\u53EA\u9700\u8981\u524D\u9762\u8FD9\u4E09\u4E2A enabled: true, ind: 0                    \u5916\u90E8\u53EA\u9700\u8981\u4F20field\u548CfillStyle\u5C31\u884C\u4E86                    '},position:{detail:"\u56FE\u4F8B\u4F4D\u7F6E",documentation:"\u56FE\u4F8B\u6240\u5728\u7684\u65B9\u5411top,right,bottom,left",default:"top"},direction:{detail:"\u56FE\u4F8B\u5E03\u5C40\u65B9\u5411",default:"h",documentation:"\u6A2A\u5411 top,bottom --> h left,right -- >v"},icon:{detail:"\u56FE\u6807\u8BBE\u7F6E",propertys:{height:{detail:"\u9AD8",default:26},width:{detail:"\u56FE\u6807\u5BBD",default:"auto"},shapeType:{detail:"\u56FE\u6807\u7684\u56FE\u5F62\u7C7B\u578B\uFF0C\u76EE\u524D\u53EA\u5B9E\u73B0\u4E86\u5706\u5F62",default:"circle"},radius:{detail:"\u56FE\u6807\uFF08circle\uFF09\u534A\u5F84",default:5},lineWidth:{detail:"\u56FE\u6807\u63CF\u8FB9\u5BBD\u5EA6",default:1},fillStyle:{detail:"\u56FE\u6807\u989C\u8272\uFF0C\u4E00\u822C\u4F1A\u4ECEdata\u91CC\u9762\u53D6\uFF0C\u8FD9\u91CC\u662F\u9ED8\u8BA4\u8272",default:"#999"}}},label:{detail:"\u6587\u672C\u914D\u7F6E",propertys:{textAlign:{detail:"\u6C34\u5E73\u5BF9\u9F50\u65B9\u5F0F",default:"left"},textBaseline:{detail:"\u6587\u672C\u57FA\u7EBF\u5BF9\u9F50\u65B9\u5F0F",default:"middle"},fontColor:{detail:"\u6587\u672C\u989C\u8272",default:"#333333"},cursor:{detail:"\u9F20\u6807\u6837\u5F0F",default:"pointer"},format:{detail:"\u6587\u672C\u683C\u5F0F\u5316\u5904\u7406\u51FD\u6570",default:null}}}}},n.prototype._getLegendData=function(t){var e=t.data;return e?f.each(e,:e=this.app.getLegendData(),e||[]},n.prototype.layout=function(){var t=this.app;this.direction=="h"?t.padding[this.position]+=this.height+this.margin.top+this.margin.bottom:t.padding[this.position]+=this.width+this.margin.left+this.margin.right;var e={x:t.width-t.padding.right+this.margin.left,y:t.padding.top+this.margin.top};this.position=="left"&&(e.x=t.padding.left-this.width+this.margin.left),this.position=="top"&&(e.x=t.padding.left+this.margin.left,e.y=t.padding.top-this.height-this.margin.top),this.position=="bottom"&&(e.x=t.padding.left+this.margin.left,e.y=t.height-t.padding.bottom+this.margin.bottom),this.pos=e},n.prototype.draw=function(){var t=this.app.getComponent({name:"coord"});t&&t.type=="rect"&&(this.position=="top"||this.position=="bottom")&&(this.pos.x=t.getSizeAndOrigin().origin.x+this.icon.radius),this.setPosition()},n.prototype.widget=function(){var t=this,e=this.app.width-this.app.padding.left-this.app.padding.right,i=this.app.height-this.app.padding.top-this.app.padding.bottom,a=0,s=0,o=0,l=0,h=0,u=1,d=!1;f.each(this.data,function(c,p){if(!d){var v=new wn({id:"legend_field_icon_"+p,context:{x:0,y:t.icon.height/3,fillStyle:c.enabled?c.color||"#999":"#ccc",r:t.icon.radius,cursor:"pointer"}});v.hover(function(A){A.eventInfo=t._getInfoHandler(A,c)},function(A){delete A.eventInfo}),v.on("mousemove",function(A){A.eventInfo=t._getInfoHandler(A,c)}),v.on("click",function(){});var _=c.name;t.label.format&&(_=t.label.format(c.name,c));var g=new S.Display.Text(_,{id:"legend_field_txt_"+p,context:{x:t.icon.radius+3,y:t.icon.height/3,textAlign:t.label.textAlign,textBaseline:t.label.textBaseline,fillStyle:t.label.fontColor,cursor:t.label.cursor}});g.hover(function(A){A.eventInfo=t._getInfoHandler(A,c)},,g.on("mousemove",,g.on("click",function(){});var x=g.getTextWidth(),m=x+t.icon.radius*2+20;a=Math.max(a,m);var w={height:t.icon.height};if(t.direction=="v"){if(h+t.icon.height>i){if(l>e*.3){d=!0;return}l+=a,h=0}w.x=l,w.y=h,h+=t.icon.height,o=Math.max(o,h)}else{if(l+m>e){if(t.icon.height*(u+1)>i*.3){d=!0;return}s=Math.max(s,l),l=0,u++}w.x=l,w.y=t.icon.height*(u-1),l+=m}var C=new S.Display.Sprite({id:"legend_field_"+p,context:w});C.addChild(v),C.addChild(g),C.context.width=m,t.sprite.addChild(C),C.on("click",function(A){f.filter(t.data,function(T){return T.enabled}).length==1&&c.enabled||(c.enabled=!c.enabled,v.context.fillStyle=c.enabled?c.color||"#999":"#ccc",c.enabled?t.app.show(c.name,new We(this,c)):t.app.hide(c.name,new We(this,c)))})}}),this.direction=="h"?(t.width=t.sprite.context.width=s,t.height=t.sprite.context.height=t.icon.height*u):(t.width=t.sprite.context.width=l+a,t.height=t.sprite.context.height=o)},n.prototype._getInfoHandler=function(t,e){return{type:"legend",nodes:[{name:e.name,fillStyle:e.color}]}},n}(yt),Sn=S.Shapes.Rect,Tn=S.Shapes.Line,bn=function(r){D(n,r);function n(t,e){var i=r.call(this,t,e)||this;i.name="tips",i.tipDomContainer=i.app.canvax.domView,i.cW=0,i.cH=0,i.dW=0,i.dH=0,i._tipDom=null,i._tipsPointer=null,i.eventInfo=null,i.sprite=null,i.sprite=new S.Display.Sprite({id:"TipSprite"}),i.app.stage.addChild(i.sprite);var a=i;return i.sprite.on("destroy",,f.extend(!0,i,M(n.defaultProps()),t),i}return n.defaultProps=function(){return{enabled:{detail:"\u662F\u5426\u5F00\u542FTips",default:!0},content:{detail:"\u81EA\u5B9A\u4E49tips\u7684\u5185\u5BB9\uFF08html\uFF09",default:null},borderRadius:{detail:"tips\u7684\u8FB9\u6846\u5706\u89D2\u534A\u5F84",default:5},strokeStyle:{detail:"tips\u8FB9\u6846\u989C\u8272",default:"#ccc"},fillStyle:{detail:"tips\u80CC\u666F\u8272",default:"rgba(255,255,255,0.95)"},fontColor:{detail:"tips\u6587\u672C\u989C\u8272",default:"#999999"},positionOfPoint:{detail:"\u5728\u89E6\u53D1\u70B9\u7684\u4F4D\u7F6E",default:"right"},offsetX:{detail:"tips\u5185\u5BB9\u5230\u9F20\u6807\u4F4D\u7F6E\u7684\u504F\u79FB\u91CFx",default:10},offsetY:{detail:"tips\u5185\u5BB9\u5230\u9F20\u6807\u4F4D\u7F6E\u7684\u504F\u79FB\u91CFy",default:10},positionInRange:{detail:"tip\u7684\u6D6E\u5C42\u662F\u5426\u9650\u5B9A\u5728\u753B\u5E03\u533A\u57DF",default:!0},pointer:{detail:"\u89E6\u53D1tips\u7684\u65F6\u5019\u7684\u6307\u9488\u6837\u5F0F",default:"line",documentation:'tips\u7684\u6307\u9488,\u9ED8\u8BA4\u4E3A\u76F4\u7EBF\uFF0C\u53EF\u9009\u4E3A\uFF1A"line" | "region"(\u67F1\u72B6\u56FE\u4E2D\u4E00\u822C\u7528region)'},pointerAnim:{detail:"tips\u79FB\u52A8\u7684\u65F6\u5019\uFF0C\u6307\u9488\u662F\u5426\u5F00\u542F\u52A8\u753B",default:!0}}},n.prototype.show=function(t){if(this.enabled){if(t.eventInfo){this.eventInfo=t.eventInfo;var e=t.target.getStage();e?(this.cW=e.context.width,this.cH=e.context.height):t.target.type=="canvax"&&(this.cW=t.target.width,this.cH=t.target.height);var i=this._setContent(t);i?(this._setPosition(t),this.sprite.toFront()):this.hide()}this._tipsPointerShow(t)}},n.prototype.move=function(t){if(this.enabled){if(t.eventInfo){this.eventInfo=t.eventInfo;var e=this._setContent(t);e?this._setPosition(t):this._hideDialogTips()}this._tipsPointerMove(t)}},n.prototype.hide=n.prototype._hideDialogTips=function(){this.eventInfo&&(this.eventInfo=null,this.sprite.removeAllChildren(),this._removeContent())},n.prototype._setPosition=function(t){if(this.enabled&&this._tipDom){var e=t.pos||t.target.localToGlobal(t.point),i=this._checkX(e.x+this.offsetX),a=this._checkY(e.y+this.offsetY);this._tipDom.style.cssText+=";visibility:visible;left:"+i+"px;top:"+a+"px;-webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;",this.positionOfPoint=="left"&&(this._tipDom.style.left=this._checkX(e.x-this.offsetX-this._tipDom.offsetWidth)+"px")}},n.prototype._creatTipDom=function(t){this._tipDom=document.createElement("div"),this._tipDom.className="chart-tips",this._tipDom.style.cssText+="; border-radius:"+this.borderRadius+"px;background:"+this.fillStyle+";border:1px solid "+this.strokeStyle+";visibility:hidden;position:absolute;enabled:inline-block;*enabled:inline;*zoom:1;padding:6px;color:"+this.fontColor+";line-height:1.5",this._tipDom.style.cssText+="; box-shadow:1px 1px 3px "+this.strokeStyle+";",this._tipDom.style.cssText+="; border:none;white-space:nowrap;word-wrap:normal;",this._tipDom.style.cssText+="; text-align:left;",this.tipDomContainer.appendChild(this._tipDom)},n.prototype._removeContent=n.prototype._setContent=function(t){var e=this._getContent(t);if(!(!e&&e!==0))return this._tipDom||this._creatTipDom(t),this._tipDom.innerHTML=e,this.dW=this._tipDom.offsetWidth,this.dH=this._tipDom.offsetHeight,e},n.prototype._getContent=function(t){var e;return this.content?e=f.isFunction(this.content)?this.content(t.eventInfo):this.content:e=this._getDefaultContent(t.eventInfo),e},n.prototype._getDefaultContent=function(t){var e="";return t.nodes.length&&(t.title!==void 0&&t.title!==null&&t.title!==""&&(e+="<div style='font-size:14px;border-bottom:1px solid #f0f0f0;padding:4px;margin-bottom:6px;'>"+t.title+"</div>"),f.each(t.nodes,function(i,a){if(!(!i.value&&i.value!==0)){var s=i.color||i.fillStyle||i.strokeStyle,o=i.name||i.field,l=typeof i.value=="object"?JSON.stringify(i.value):Et(i.value);e+="<div style='line-height:1.5;font-size:12px;padding:0 4px;'>",s&&(e+="<span style='background:"+s+";margin-right:8px;margin-top:7px;float:left;width:8px;height:8px;border-radius:4px;overflow:hidden;font-size:0;'></span>"),o&&(e+="<span style='margin-right:5px;'>"+o+"\uFF1A</span>"),e+=l+"</div>"}})),e},n.prototype._checkX=function(t){if(this.positionInRange){var e=this.dW+2;t<0&&(t=0),t+e>this.cW&&(t=this.cW-e)}return t},n.prototype._checkY=function(t){if(this.positionInRange){var e=this.dH+2;t<0&&(t=0),t+e>this.cH&&(t=this.cH-e)}return t},n.prototype._tipsPointerShow=function(t){var e=this.app.getComponent({name:"coord"});if(!(!e||e.type!="rect")&&this.pointer){var i=this._tipsPointer,a=e.origin.y-e.height,s=0;if(this.pointer=="line"&&(s=e.origin.x+t.eventInfo.xAxis.x),this.pointer=="region"){var o=e._xAxis.getCellLengthOfPos(t.eventInfo.xAxis.x);s=e.origin.x+t.eventInfo.xAxis.x-o/2,t.eventInfo.xAxis.ind<0&&(s=e.origin.x)}if(i)this.pointerAnim&&e._xAxis.layoutType!="proportion"?(i.__animation&&i.__animation.stop(),i.__animation=i.animate({x:s,y:a},{duration:200})):(i.context.x=s,i.context.y=a);else{if(this.pointer=="line"&&(i=new Tn({context:{x:s,y:a,start:{x:0,y:0},end:{x:0,y:e.height},lineWidth:1,strokeStyle:"#cccccc"}})),this.pointer=="region"){var o=e._xAxis.getCellLengthOfPos(s);i=new Sn({context:{width:o,height:e.height,x:s,y:a,fillStyle:"#cccccc",globalAlpha:.3}})}this.app.graphsSprite.addChild(i,0),this._tipsPointer=i}}},n.prototype._tipsPointerHide=function(){var t=this.app.getComponent({name:"coord"});!t||t.type!="rect"||!this.pointer||!this._tipsPointer||(this._tipsPointer.destroy(),this._tipsPointer=null)},n.prototype._tipsPointerMove=function(t){var e=this.app.getComponent({name:"coord"});if(!(!e||e.type!="rect")&&!(!this.pointer||!this._tipsPointer)){var i=this._tipsPointer,a=e.origin.x+t.eventInfo.xAxis.x;if(this.pointer=="region"){var s=e._xAxis.getCellLengthOfPos(t.eventInfo.xAxis.x);a=e.origin.x+t.eventInfo.xAxis.x-s/2,t.eventInfo.xAxis.ind<0&&(a=e.origin.x)}var o=e.origin.y-e.height;a!=i.__targetX&&(this.pointerAnim&&e._xAxis.layoutType!="proportion"?(i.__animation&&i.__animation.stop(),i.__targetX=a,i.__animation=i.animate({x:a,y:o},{duration:200,onComplete:)):(i.context.x=a,i.context.y=o))}},n}(yt);U.registerComponent(un,"chart"),U.registerComponent(vn,"coord","rect"),U.registerComponent(An,"graphs","line"),U.registerComponent(Cn,"legend"),U.registerComponent(bn,"tips");var Bt=["#4d7fff","#13c9ce","#fb734f","#50c3f2","#b598f1"];Bt&&Bt.length&&U.setGlobalTheme(Bt);var _t={options:{4:{code:"var%20options%20%3D%20%7B%0A%20%20%20%20coord%3A%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22rect%22%2C%0A%20%20%20%20%20%20%20%20xAxis%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%22time%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20graphs%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%22line%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ppc%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22click%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%2C%0A%20%20%20%20legend%3A%20%7B%7D%0A%7D%3B",range:[]},5:{code:"var%20options%20%3D%20%7B%0A%20%20%20%20coord%3A%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22rect%22%2C%0A%20%20%20%20%20%20%20%20xAxis%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%22time%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20graphs%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%22line%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%22click%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20line%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20strokeStyle%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lineargradient%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%22%23ff7033%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%200.1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%22%23ff9933%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%200.3%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%22%232dafe3%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%200.85%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%22%23449be3%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%200.95%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%22%237177e3%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%22%235744e3%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alpha%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%0A%7D%3B",range:[]},6:{code:"var%20options%20%3D%20%7B%0A%20%20%20%20coord%3A%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22rect%22%2C%0A%20%20%20%20%20%20%20%20xAxis%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%22month%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20yAxis%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2060%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%3A%20function%20(val)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20str%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20_val%20%3D%20Number(%20val%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%20_val%20%3E%2010000%20)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20parseInt(%20_val%2F10000%20)%2B%22%E4%B8%87%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%20_val%20%3E%20100000000%20)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20(%20_val%2F100000000%20).toFixed(3)%2B%22%E4%BA%BF%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20str%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20graphs%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%22line%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20area%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20enabled%3A%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22avg_value%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%2C%0A%20%20%20%20legend%3A%20%7B%0A%20%20%20%20%20%20%20%20label%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20format%3A%20function%20(val%2Cinfo)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20str%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20switch(%20info.name%20)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22value%22%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20%22%E5%BA%97%E9%93%BA%E6%B6%88%E8%80%97%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22avg_value%22%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%20%3D%20%22%E8%A1%8C%E4%B8%9A%E5%B9%B3%E5%9D%87%E6%B6%88%E8%80%97%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20str%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20tips%3A%20%7B%0A%20%20%20%20%20%20%20%20content%3A%20function%20(info)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20str%20%20%3D%20%22%3Ctable%20style%3D'border%3Anone'%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20self%20%3D%20this%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if(%20info.title%20)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%20%2B%3D%20%22%3Ctr%3E%3Ctd%20colspan%3D'2'%3E%22%2B%20info.title%20%2B%22%3C%2Ftd%3E%3C%2Ftr%3E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20_.each(%20info.nodes%20%2C%20function(%20node%20%2C%20i%20)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%20node.value%20%3D%3D%3D%20undefined%20%7C%7C%20node.value%20%3D%3D%3D%20null%20)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20switch(%20node.field%20)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22value%22%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20%22%E5%BA%97%E9%93%BA%E6%B6%88%E8%80%97%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%22avg_value%22%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20%22%E8%A1%8C%E4%B8%9A%E5%B9%B3%E5%9D%87%E6%B6%88%E8%80%97%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%2B%3D%20%22%3Ctr%20style%3D'color%3A%22%2B%20(node.color%20%7C%7C%20node.fillStyle%20%7C%7C%20node.strokeStyle)%20%2B%22'%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20tsStyle%3D%22style%3D'border%3Anone%3Bwhite-space%3Anowrap%3Bword-wrap%3Anormal%3B'%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%2B%3D%22%3Ctd%20%22%2BtsStyle%2B%22%3E%22%2B%20label%20%2B%22%EF%BC%9A%3C%2Ftd%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%20%2B%3D%20%22%3Ctd%20%22%2BtsStyle%2B%22%3E%22%2B%20node.value%20%2B%22%3C%2Ftd%3E%3C%2Ftr%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%2B%3D%22%3C%2Ftable%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20str%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%3B",range:[]},7:{code:"var%20options%20%3D%20%7B%0A%20%20%20%20coord%3A%20%7B%0A%20%20%20%20%20%20%20%20type%3A%20%22rect%22%2C%0A%20%20%20%20%20%20%20%20xAxis%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%22time%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20graphs%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%22line%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20node%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20enabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22d1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22d1vs%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20yAxisAlign%3A%20%22left%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%22line%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20node%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20enabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20field%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22d2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22d2vs%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20yAxisAlign%3A%20%22right%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%2C%0A%20%20%20%20tips%3A%20%7B%7D%0A%7D%3B",range:[]}}};for(var Ne in U)_t[Ne]=U[Ne];var $e=function(r){var n=["box","polar3d","cube"];return r.coord&&r.coord.type&&n.indexOf(r.coord.type)>-1};_t.is3dOpt=$e,window.is3dOpt=$e,_t.Canvax=S,Rt.default=_t});

//# sourceMappingURL=https://sourcemap.def.alibaba-inc.com/sourcemap/mm/alimama-minisite/20231207.142919.787/alimama-minisite/chartpark/index.js.map
