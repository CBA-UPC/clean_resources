![function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=/[A-Z]/g,i=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i,o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;nction l(e){return"function"==typeof e}r d={_UA:navigator.userAgent,arrayLikeObjToArray:function(e){return Array.prototype.slice.call(e)},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},debounce:function(e,t,n){var r=void 0;return function(){for(var i=this,o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];var l=u=n&&!r;clearTimeout(r),r=setTimeout(l,t),u&&e.apply(this,s)}},decapitalize:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},echoFn:extend:function e(t){for(var n=void 0,r=void 0,i=void 0,o=arguments.length,l=Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];for(r=0;r<l.length;r++)for(i in n=l[r])n.hasOwnProperty(i)&&(a(t[i])&&!s(t[i])&&a(n[i])?t[i]=e({},t[i],n[i]):t[i]=n[i]);return t},forEach:function e(t,r,i){var o=void 0,s=void 0;if(t)if(l(t))for(o in t)"prototype"===o||"length"===o||"name"===o||t.hasOwnProperty&&!t.hasOwnProperty(o)||r.call(i,t[o],o,t);else if(u(t)){var a="object"!==(void 0===t?"undefined":n(t));for(o=0,s=t.length;o<s;o++)(a||o in t)&&r.call(i,t[o],o,t)}else if(t.forEach&&t.forEach!==e)t.forEach(r,i,t);else for(o in t)t.hasOwnProperty(o)&&r.call(i,t[o],o,t);return t},getInternetExplorerVersion:function(e){var t=-1;if("Microsoft Internet Explorer"===e.appName){var n=e.userAgent,r=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(n);null!==r&&(t=parseFloat(r[1]))}return t},isAndroid:function(){return/Android/.test(d._UA)},isArray:u,isArrayLike:isDefined:isEmptyString:isFunction:l,isIDevice:function(){return/iP(hone|ad)/.test(d._UA)},isIPhone:function(){return/iP(hone|od)/.test(d._UA)},isISO8601:function(e){return d.isNumber(e)&&(e=String(e)),!!d.isString(e)&&o.test(e.trim())},isMobile:isMicrosoftBrowser:isNotEmptyString:isNull:s,isNodeList:function(e){var t=Object.prototype.toString.call(e);return"object"===(void 0===e?"undefined":n(e))&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&"number"==typeof e.length&&(0===e.length||"object"===n(e[0])&&e[0].nodeType>0)},isNumber:isObject:a,isOldIE:isString:c,isUndefined:isValidEmail:isWindow:noop:function(){},once:function(e,t,n){function r(){n.apply(void 0,arguments),t.forEach((function(t){e.off(t,r)}))}t.forEach((function(t){e.on(t,r)}))},rotateRight:function(e,t){var n=[],r=e.length,i=t%r,o=void 0;for(o=0;o<r;o++)n.push(e[i]),i>=r-1?i=0:i++;return n},snakeCase:throttle:function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0,s=void 0,a=d.debounce((,t);return function(){for(var l=this,u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];n=c;var p=return s||(s=setTimeout(p,t)),o?r=!0:(o=!0,i=e.apply(this,n)),a(),i}},toFixedDigits:function(e,t){var n=String(e);if(t=d.isNumber(t)?t:0,e=d.isNumber(e)?e:parseInt(e,10),d.isNumber(e)&&!isNaN(e)){for(n=String(e);n.length<t;)n="0"+n;return n}return String(NaN)},transformArray:treeSearch:;e.exports=d},function(e,t,n){var r=n(0),i={isVisible:isHidden:isShown:hide:show:hasClass:function(e,t){var n=void 0,i=void 0,o=void 0;if(r.isNotEmptyString(t)){if(e.classList)return e.classList.contains(t);for(t=t||"",i=0,o=(n=r.isString(e.getAttribute("class"))?e.getAttribute("class").split(/\s+/):[]).length;i<o;i+=1)if(n[i]===t)return!0}return!1},addClass:function(e,t){var n=void 0;if(r.isNotEmptyString(t)){if(e.classList)return void e.classList.add(t);n=r.isString(e.getAttribute("class"))?e.getAttribute("class").split(/\s+/):[],r.isString(t)&&r.isNotEmptyString(t.replace(/\s+/,""))&&(n.push(t),e.setAttribute("class",n.join(" ")))}},removeClass:function(e,t){var n=void 0;if(r.isNotEmptyString(t)){if(e.classList)return void e.classList.remove(t);n=r.isString(e.getAttribute("class"))?e.getAttribute("class").split(/\s+/):[];var i=[],o=void 0,s=void 0;if(r.isString(t)&&r.isNotEmptyString(t.replace(/\s+/,""))){for(o=0,s=n.length;o<s;o+=1)t!==n[o]&&i.push(n[o]);e.setAttribute("class",i.join(" "))}}},addEventListener:removeEventListener:dispatchEvent:isDescendant:getTextContent:prependChild:remove:isDomElement:click:find:once:function(e,t,n){i.addEventListener(e,t,(function r(){n.apply(void 0,arguments),i.removeEventListener(e,t,r)}))},getPosition:function(e){var t=void 0;if(e.getBoundingClientRect)return{left:(t=e.getBoundingClientRect()).left,top:t.top,bottom:t.bottom,right:t.right};for(var n=0,r=0,i=e.offsetWidth,o=e.offsetHeight;e;)n+=e.offsetLeft-e.scrollLeft+e.clientLeft,r+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{left:n,top:r,bottom:r+o,right:n+i}},elementPositionInViewport:isElementInViewport:getUrlParts:getDimension:function(e){var t=void 0;return!r.isOldIE()&&e.getBoundingClientRect?{width:(t=e.getBoundingClientRect()).width,height:t.height}:{width:e.offsetWidth,height:e.offsetHeight}}};e.exports=i},function(e,t,n){var r=n(0),i=videojs.Button.extend();i.prototype.createEl=function(){return videojs.Button.prototype.createEl.call(this,"div",{className:"vjs-social-share-control vjs-control vjs-social-share-control-"+r.snakeCase(this.buttonName,"-"),innerHTML:'<div class="vjs-social-icon vjs-'+r.snakeCase(this.buttonName,"-")+'-icon "></div>'})},i.prototype.onClick=r.debounce((function(){var e=this.player();this.socialMethod&&e.socials&&e.socials[this.socialMethod]?e.socials[this.socialMethod].call(this):console.log("This social is not supported in this player")}),500);var o={FacebookButton:"postToFB",MailButton:"postToMail",LinkedinButton:"postToLinkedIn",PinterestButton:"postToPinterest",RedditButton:"postToReddit",TwitterButton:"postToTWTTR"},s={};Object.keys(o).forEach((function(e){var t=o[e],n=i.extend();n.prototype.buttonName=e,n.prototype.socialMethod=t,s[e]=n})),e.exports=s},function(e,t,n){var r=n(0),i=document.createElement("a"),o=document.documentMode;var s={appendGeolocation:appendKeyToURL:function(e,t,n){var r=void 0;r=/\?/.test(e)?"&":"?",r+=t+"="+encodeURIComponent(n.toString());var i=e.split("#");return 2===i.length?i[0]+r+"#"+i[1]:i[0]+r},objToQueryString:queryStringToObj:function(e,t){if(t=r.isFunction(t)?t:function(){return!0},!("string"==typeof e||e instanceof String))return{};var n=(e=e.trim().replace(/^\?/,"")).split("&"),i={};return r.forEach(n,(function(e){var n=void 0,r=void 0,o=void 0;""!==e&&(n=(r=e.split("="))[0],o=r[1],t(n,o)&&(i[n]=o))})),i},urlParts:function(e){var t=e,n=void 0;return o&&(i.setAttribute("href",t),t=i.href,/(.*):(\d+)/.test(i.host)&&(n=i.host.split(":"),i.host=n[0],i.port=n[1])),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:r.isNotEmptyString(i.port)?i.port:80,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}};e.exports=s},function(e,t){var n={};function r(e){var t=e||window.navigator,r=t.appVersion,i=t.userAgent,o=t.appName,s=String(parseFloat(r)),a=parseInt(s,10),l=void 0,u=void 0,c=void 0;-1!==(c=i.indexOf("Opera"))?(o="Opera",s=i.substring(c+6),-1!==(c=i.indexOf("Version"))&&(s=i.substring(c+8))):-1!==(c=i.indexOf("MSIE"))?(o="Microsoft Internet Explorer",s=i.substring(c+5)):-1!==(c=i.indexOf("Chrome"))?(o="Chrome",s=i.substring(c+7)):-1!==(c=i.indexOf("Safari"))?(o="Safari",s=i.substring(c+7),-1!==(c=i.indexOf("Version"))&&(s=i.substring(c+8))):-1!==(c=i.indexOf("Firefox"))?(o="Firefox",s=i.substring(c+8)):-1!==i.indexOf("Trident/")?(o="Microsoft Internet Explorer",s=i.substring(i.indexOf("rv:")+3)):(u=i.lastIndexOf(" ")+1)<(c=i.lastIndexOf("/"))&&(o=i.substring(u,c),s=i.substring(c+1),o.toLowerCase()===o.toUpperCase()&&(o=window.navigator.browser)),-1!==(l=s.indexOf(";"))&&(s=s.substring(0,l)),-1!==(l=s.indexOf(" "))&&(s=s.substring(0,l)),-1!==(l=s.indexOf(")"))&&(s=s.substring(0,l)),isNaN(a)&&(s=String(parseFloat(r)),a=parseInt(r,10));var d=/Mobile|mini|Fennec|Android|iP(ad|od|hone)|Windows Phone/.test(r),p="-",h=!0,f=!1,v=void 0;try{for(var y,m=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}][Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var g=y.value;if(g.r.test(i)){p=g.s;break}}}catch(e){f=!0,v=e}finally{try{!h&&m.return&&m.return()}finally{if(f)throw v}}var A="-",b=void 0;switch(/Windows/.test(p)&&(A=(b=/Windows (.*)/.exec(p))?b[1]:"",p="Windows"),p){case"Mac OS X":A=(b=/Mac OS X (10[._\d]+)/.exec(i))?b[1]:"";break;case"Android":A=(b=/Android ([._\d]+)/.exec(i))?b[1]:"";break;case"iOS":A=(b=/OS (\d+)_(\d+)_?(\d+)?/.exec(r))?A[1]+"."+A[2]+"."+(A[3]||0):""}var w=parseInt(A.split(".")[0],10),j=!i.match(/Windows Phone/)&&i.match(/iPhone/);n.browser=o,n.browserVersion=s,n.browserMajorVersion=a,n.mobile=d,n.os=p,n.osVersion=A,n.osMajorVersion=w,n.isIPhone=j}r(),window.addEventListener("updateSystemInfo",(function(e){r(e.detail)})),e.exports=n},function(e,t,n){"use strict";var r,i,o=n(3),s=(r=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new TypeError("Invalid source endpoint '"+t+"'");case 2:return e.next=4,window.fetch(o.appendGeolocation(t),{method:"GET",credentials:"same-origin",redirect:"follow"});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Error fetching source endpoint '"+t+"', status "+n.status);case 7:return e.abrupt("return",n.json());case 8:case"end":return e.stop()}}),e,void 0)})),i=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var s=e[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(a)}("next")}))},function(e){return i.apply(this,arguments)}),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var s=t[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(a)}("next")}))}}var u=Symbol("fetch"),c=Symbol("pendingRequest"),d=function(){ar t;return a(e,[{key:"update",value:,{key:u,value:function(){var e=l(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=void 0,"string"!=typeof this.source){e.next=7;break}return e.next=4,s(this.source);case 4:t=e.sent,e.next=16;break;case 7:if("function"!=typeof this.source){e.next=13;break}return e.next=10,this.source.apply(this,n);case 10:t=e.sent,e.next=16;break;case 13:return e.next=15,this.source;case 15:t=e.sent;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:(t=l(regeneratorRuntime.mark((function e(t){var n,r,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this[c]){for(n=s.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=s[i];this[c]=this[u].apply(this,r)}return e.prev=1,e.next=4,this[c];case 4:o=e.sent,this[c]=null,t(null,o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return t.apply(this,arguments)})}]),e}();t.a=d},function(e,t){e.exports=DM.molFePageMetadata},function(e,t){e.exports=DM.molFeTracking},function(e,t){e.exports=function(e){if(e.playlistClickToPlay)return!1;var t=e.options().userTriggeredPlay;return"boolean"==typeof t&&!t||e.forceFlyOutInProgress||e.autoplayInline||e.keyMomentAutoplay||"playlistCounter"in e&&e.playlistCounter>0||"autoplayIndex"in e&&e.autoplayIndex>0||function(e){var t=e.options().plugins;return Boolean(t)&&Boolean(t["editorial-content"])}(e)||function(e){var t=e.options().plugins;return Boolean(t)&&Boolean(t["video-advertising-mode"])}(e)||Boolean(e.isPlayingAdhesive)||Boolean(e.autoplayBeforeAdhesive)}},function(e,t,n){var r=n(0),i={defer:iterator:function(e){return function t(n){var r=function t(){return e.length&&e[n].apply(e,arguments),t.next()};return r.next=r}(0)},waterfall:function(e,t){if(t=t||function(){},r.isArray(e))if(e.length){!function e(n){return function(r){for(var o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(r)t.apply(void 0,[r].concat(s)),t=function(){};else{var l=n.next();l?s.push(e(l)):s.push(t),i.defer(()}}}(i.iterator(e))()}else t();else{var n=new Error("First argument to waterfall must be an array of functions");t(n)}},when:function(e,t){if(!r.isFunction(t))throw new TypeError("async.when error: missing callback argument");var n=r.isFunction(e)?e:function(){return Boolean(e)};return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=r.pop();return n.apply(void 0,r)?t.call.apply(t,[this].concat(r,[o])):o.apply(void 0,[null].concat(r))}}};e.exports=i},function(e,t,n){var r=n(0),i=n(1),o=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t),this.buttonPressed_=!1}});o.prototype.createEl=function(){return videojs.Button.prototype.createEl.call(this,"div",{className:"vjs-social-share-control vjs-control vjs-social-share-control-"+r.snakeCase(this.buttonName,"-"),innerHTML:'<div class="vjs-social-icon vjs-'+r.snakeCase(this.buttonName,"-")+'-icon "></div>'})},o.prototype.getPopup=function(){},o.prototype.onClick=o.prototype.openPopup=function(){var e=this.player(),t=this.getPopup();i.addClass(this.el_,"active"),this.buttonPressed_=!0,e.wasPlaying_=!e.paused(),t&&(t.isOpen_=!1,e.trigger("CloseButton.pressed"),this.buttonPressed_=!0,this.currentPopup_=t,t.one("FullWidthPopup.close",videojs.bind(this,o.prototype.closePopup)),e.one("play",videojs.bind(this,o.prototype.closePopup)),e.addChild(t),setTimeout((function(){e.hasStarted()&&!e.paused()&&e.pause(),t.isOpen_=!0}),0));var n=document.querySelector("#"+e.tagAttributes.id+" video");n&&i.addClass(n,"hideVideoForSocialShare")},o.prototype.closePopup=function(){var e=this.player(),t=this.currentPopup_;i.removeClass(this.el_,"active");var n=document.querySelector("#"+e.tagAttributes.id+" video");n&&i.removeClass(n,"hideVideoForSocialShare"),this.buttonPressed_=!1,t&&t.isOpen_&&(t.isOpen_=!1,e.removeChild(t),e.hasStarted()&&e.wasPlaying_&&e.play())},e.exports=o},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(52),o=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=new i(e,t);this.addChild(n),this.player_.on("CloseButton.pressed",videojs.bind(this,())}});o.prototype.createEl=function(e,t){var n=(t.className||"")+" vjs-full-width-popup vjs-control";return videojs.Component.prototype.createEl.call(this,e||"div",r({},t,{className:n}))},e.exports=o},function(e,t){e.exports=function(e){var t=e._states&&e._states.state&&e._states.state.get();return["adsWaiting","adPlaying","adPaused"].includes(t)}},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t)}});n.prototype.name=function(){return"MolModalWindowBackdrop"},n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-modal-window-backdrop"})},e.exports=n},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t)}});n.prototype.name=function(){return"MolModalWindow"},n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-modal-window"})},e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"getHasBeenEnabledOnPage",(function(){return h})),n.d(t,"runCloseHandlerIfOpen",(function(){return v})),n.d(t,"initStickyPlayer",(function(){return y}));var r=n(6),i=n(3),o=n.n(i),s=n(0),a=n(17),l=n.n(a),u=n(18),c=n.n(u),d=null,p=!1,h=function(){return p},f=["default","letterbox","closebottom"],v=y=function(){var e=!1;try{var t=Object(r.getPageMetadata)().renderPlatform,n=Object(r.getPageCriteria)(),i=n.isMobile,a=n.pageType;if("mobile"===t&&"article"===a&&i&&"IntersectionObserver"in window){var u=o.a.queryStringToObj(window.location.search),h=document.querySelector("video[data-opts]"),y=Array.from(document.querySelectorAll("video[data-opts]")).slice(1).map((function(e){return e.player})),m=h.player,g="true"===u.debugAdhesiveVideoplayer,A=m.options().flyawayPlayer,b=A&&A.enabled,w=A&&A.fromParagraph,j=m.el().parentNode,T=m.options_.inactivityTimeout,E=m.controlBar.getChild("molPreviousVideoButton"),C=m.controlBar.children_.find((function(e){return e.el_.classList.contains("vjs-play-control")})),_=m.controlBar.getChild("molSkipVideoButton"),S=m.controlBar.children_.find((function(e){return e.el_.classList.contains("vjs-progress-control")})),k=m.controlBar.children_.find((function(e){return e.el_.classList.contains("vjs-volume-menu-button")})),x=m.controlBar.children_.find((function(e){return e.el_.classList.contains("vjs-timer-controls")})),P=void 0,M=void 0,I=!1,B=!1,O=!1,L="letterbox";if(A&&A.adhesiveStyleVariant&&f.includes(A.adhesiveStyleVariant)&&(L=A.adhesiveStyleVariant),u.adhesiveStyleVariant&&f.includes(u.adhesiveStyleVariant)&&(L=u.adhesiveStyleVariant),!b&&!g)return;m.one("playerstate.enter.contentPlaying",(function(){O=!0}));var D=function(){if(!e){var t=document.createElement("div");t.classList.add("vjs-editorial-sticky-placeholder"),t.style.height=j.offsetHeight+"px",e=!0,j.parentNode.classList.add("variant-"+L),j.parentNode.classList.add("vjs-editorial-sticky"),j.parentNode.parentNode.appendChild(t),m.options_.inactivityTimeout=3e3,m.userActive(!1),j.classList.add("mol-video-advertising-mode"),M=new c.a(m,{}),m.addChild(M);var n=function(){m.userActive(!0)};h.addEventListener("touchstart",n),m.isPlayingAdhesive=!0,m.autoplayBeforeAdhesive=!1,m.play();var r=document.createElement("button");r.classList.add("editorial-sticky-close"),"closebottom"===L&&(r.innerHTML="Close");var i=document.querySelector(".scrollable-content > article > figure"),o=document.querySelector(".scrollable-content")||window,a=Object(s.debounce)((function(){if(m.isPlayingAdhesive){var e=i.getBoundingClientRect().y;e>(document.body.classList.contains("smart-banner")?173:93)?(j.parentNode.style.willChange="transform",j.parentNode.style.transform="translateY("+e+"px)"):(j.parentNode.style.transform="",j.parentNode.style.willChange="")}}),5);o.addEventListener("scroll",a),d=function(){o.removeEventListener("scroll",a),h.removeEventListener("touchstart",n),t.remove(),j.parentNode.classList.remove("vjs-editorial-sticky"),j.parentNode.style.transform="",j.parentNode.style.willChange="",j.classList.remove("mol-video-advertising-mode"),m.removeChild(M),m.options_.inactivityTimeout=T,m.isPlayingAdhesive=!1,m.pause(),r.remove(),d=null,m.controlBar.addChild(E),m.controlBar.addChild(C),m.controlBar.addChild(_),m.controlBar.addChild(S),m.controlBar.addChild(k),m.controlBar.addChild(x),m.one("play",()},r.addEventListener("click",v),m.one("mol.play.next.video",(function(){I=!0})),m.on("ended",(function(){I||B||!O||"ended"!==m.playerState.getStateName()||(B=!0,m.autoClosedSticky=!0,m.resetVideo({autoplay:!1,video:m.options()}),m.el().classList.add("has-autoclosed-sticky"),m.one("play",(function(){m.autoClosedSticky=!1})),v())}));var l=!0,u=!1,p=void 0;try{for(var f,g=y[Symbol.iterator]();!(l=(f=g.next()).done);l=!0){f.value.one("play",v)}}catch(e){u=!0,p=e}finally{try{!l&&g.return&&g.return()}finally{if(u)throw p}}try{window.DM&&window.DM.molFeGallery&&window.DM.molFeGallery.addBeforeOpenHandler&&window.DM.molFeGallery.addBeforeOpenHandler(v)}catch(e){}j.parentNode.appendChild(r)}},N=!1,F=null,R=function(){m.muted(!0),h.muted=!0,h.setAttribute("playsinline","playsinline"),h.setAttribute("muted",!0),P=new l.a(m),m.addChild(P),m.autoplayBeforeAdhesive=!0,m.play()},H=new IntersectionObserver((function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.isIntersecting?N||(N=!0,R(),F&&F.disconnect()):N&&(D(),t.disconnect())}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}),{threshold:[.5]});if(H.observe(j),w){var V=document.querySelectorAll(".scrollable-content > article > p.mol-para-with-font"),U=V&&V[w];if(U){(F=new IntersectionObserver((function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value.isIntersecting&&(R(),D(),t.disconnect(),H.disconnect())}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}),{threshold:[.5]})).observe(U)}}p=!0,j.parentNode.classList.add("vjs-possible-editorial-sticky")}}catch(e){}}},function(e,t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=videojs.Button.extend({init:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};videojs.Button.call(this,e,n({name:"TapToUnmute"},r));var i=e.on("volumechange",i),this.on("dispose",(function(){e.off("volumechange",i)}))}});r.prototype.createEl=function(){return videojs.createEl("div",{className:"vjs-tap-to-unmute-control"})},r.prototype.onClick=function(e){var t=this.player();return t.muted(!1),t.removeChild(this),this.dispose(),e&&e.stopPropagation(),!1},e.exports=r},function(e,t,n){var r=n(14),i=n(15),o=n(124),s=n(125),a=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=new r(e),a=new i(e);n.addChild(a),a.addChild(new o(e,{})),a.addChild(new s(e,{})),this.addChild(n)}});a.prototype.name=function(){return"MolControlsOverlayPanel"},a.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-controls-overlay-panel"})},e.exports=a},function(e,t,n){"use strict";(function(t){n(41);var r="undefined"===t?window:t;e.exports={isString:setImmediate:r.setImmediate}}).call(this,n(9))},function(e,t,n){var r=n(11),i=n(51),o=r.extend();o.prototype.buttonName="ShareButton",o.prototype.getPopup=function(){return new i(this.player_)},o.prototype.name=function(){return"ShareButton"},e.exports=o},function(e,t){var n={getBundleLocation:function(){var e=window.DM;return e&&e.getPageMetadata?e.getPageMetadata().videoBundleLocation:null},getVideoPlayerVersion:function(){var e=n.getBundleLocation();return e?(e=e.replace(/\/+$/,"")).split("/").pop():"UNKNOWN"}};e.exports=n},function(e,t){function n(){try{return JSON.parse(localStorage.getItem("mol.related-videos-history"))||[]}catch(e){return console.error(e.message),[]}}function r(e){if(e)try{localStorage.setItem("mol.related-videos-history",JSON.stringify(e))}catch(e){console.error(e.message)}else localStorage.removeItem("mol.related-videos-history")}e.exports={get:n,getMap:function(){return n().reduce((,{})},set:r,push:function(e){var t=n(),i=t.some((function(t){return t===e}));e&&!i&&(t.unshift(e),r(t.slice(0,100)))}}},function(e,t,n){var r=n(3),i=n(0);var o={createElBefore:function(e,t){var n=document.createElement("div");return n.className=e,t.parentNode.insertBefore(n,t),n},getVerticalOffset:function(){return window.pageYOffset},onDisableForceFlyout:overwriteAdOptions:function(e){var t=r.queryStringToObj(window.location.search);return e.viewportOffset=i.isDefined(t.flyoutViewportOffset)?parseFloat(t.flyoutViewportOffset):e.viewportOffset,e.animTime=i.isDefined(t.flyoutAnimTime)?parseInt(t.flyoutAnimTime,10):e.animTime,e.animTimeWait=i.isDefined(t.flyoutAnimTimeWait)?parseInt(t.flyoutAnimTimeWait,10):e.animTimeWait,e},wrapElement:;e.exports=o},function(e,t,n){var r=n(0),i={separators:[" ",""],ellipsis:"&hellip;"};function o(e){var t=void 0;return t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}function s(e,t){var n=void 0,r=void 0,s=void 0,a=void 0,l=void 0,u=(t=t||{}).separators||i.separators,c=t.ellipsis||i.ellipsis,d=t.maxlines,p=void 0;if(p=d?d*e)+o(e):e.parentNode.clientHeight-o(e.parentNode),(l=e.getAttribute("clamp-full-text"))?e.innerHTML=l:(l=e.innerHTML,e.setAttribute("clamp-full-text",l)),!(e.clientHeight<=p))for(n=0;n<u.length;n++)for(a=u[n],r&&(l+=r,e.innerHTML=l+c),s=l.split(a);e.clientHeight>p&&s.length>0;)r=a+s.pop(),l=s.join(a),e.innerHTML=l+c}e.exports=function(e,t){if(e)if(r.isNodeList(e))for(var n=0;n<e.length;n++)s(e[n],t);else s(e,t)}},function(e,t,n){var r=n(109),i=videojs.Component.extend({init:function(e,t){var n=void 0;for(videojs.Component.call(this,e,t),n=0;n<t.videos.length;n++)this.addChild(new r(e,{video:t.videos[n]}))}});i.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-video-list"})},e.exports=i},function(e,t,n){var r=n(4),i=n(0),o=n(120),s=a=[],l=i.debounce((function(){a.forEach((function(e){var t=e.element;setTimeout((function(){var n=o(t)&&!document.hidden;n&&!e.inViewport?(e.inViewport=!0,t.dispatchEvent(s("viewport.enter"))):!n&&e.inViewport&&(e.inViewport=!1,t.dispatchEvent(s("viewport.exit")))}),0)}))}),100);e.exports={check:function(e){a.push({element:e,inViewport:!1});var t=window;r.mobile&&(t=document.querySelector(".scrollable-content")||window),"complete"===document.readyState?l():(window.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)),t.addEventListener("scroll",l,!1),window.addEventListener("resize",l,!1),document.addEventListener("visibilitychange",l,!1)},checkedElements:a}},function(e,t,n){"use strict";n.r(t),n.d(t,"createRequestAd",(function(){return g})),n.d(t,"loadIma",(function(){return o}));var r=function(e,t){if(!e)throw new TypeError('Missing required "src" parameter');return new Promise((function(n,r){var i=document.createElement("script"),o=t&&t.placeholder;i.type="text/javascript",i.async=!1,i.defer=!0,i.onerror=function(){return r(new URIError("The script "+e+" is not accessible."))},i.onload=function(){return n(i)},o||(o=document.currentScript?document.currentScript.parentNode:document.head),i.src=e,o.appendChild(i)}))},i=void 0,o=function(){return i||(i=window.google&&window.google.ima?Promise.resolve(window.google.ima):r("//imasdk.googleapis.com/js/sdkloader/ima3.js").then(()),i},s=function(e){if("number"!=typeof e.offsetHeight){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}return{width:e.offsetWidth,height:e.offsetHeight}};var a=function(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var r=window.location.protocol,i="https:"===r?"z":"js",o=document.createElement("script");n=n||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var s=[],a={adsManager:e,ids:t,imaSDK:!0,events:[]},l={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var u="_moatApi"+Math.floor(1e8*Math.random()),c=void 0;for(c in google.ima.AdEvent.Type){var d=e.addEventListener(google.ima.AdEvent.Type[c],d),s.push({type:google.ima.AdEvent.Type[c],func:d})}}u=void 0!==u?u:"",window[u]=a,n&&n.appendChild(o),o.src=r+"//"+i+".moatads.com/"+t.partnerCode+"/moatvideo.js#"+u},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.evts={},this.logger=t||console}return l(e,[{key:"on",value:,{key:"removeListener",value:,{key:"removeAllListeners",value:,{key:"once",value:,{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.evts,s=o[e]||(o[e]=[]),a=s.length>0;return s.forEach((),a}}]),e}(),c=d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=Symbol("_private"),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r[p]={paused:!0,started:!1,finished:!1,muted:!1,duration:0,currentTime:0},r.creativeAd=null,r.type="IMA",r.error=null,r.errorCode=null,r.adsManager=e,r.videoElement=n,r[p].muted=n.muted,n.muted?(r[p].muted=!0,r.setVolume(0)):r.setVolume(n.volume),e.addEventListener(window.google.ima.AdEvent.Type.VOLUME_CHANGED,(function(){var e=r.getVolume(),t=!r[p].muted&&0===e,n=r[p].muted&&e>0;r.emit("volumeChanged",{type:"volumeChanged",adUnit:r}),n?(r[p].muted=!1,r.emit("unmute",{type:"unmute",adUnit:r})):t&&(r[p].muted=!0,r.emit("mute",{type:"mute",adUnit:r}))})),e.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){r.error=e.getError(),r.error&&"function"==typeof r.error.getVastErrorCode&&(r.errorCode=r.error.getVastErrorCode(),r.error.code=r.errorCode,r.error.message=r.error.getMessage()),r.emit("error",{type:"error",adUnit:r})})),e.addEventListener(window.google.ima.AdEvent.Type.IMPRESSION,(function(e){r.creativeAd=e.getAd();var t=r.creativeAd.getApiFramework();"string"==typeof t&&t.toUpperCase().includes("VPAID")?r.type="VPAID":r.type="VAST",r.emit("impression",{type:"impression",adUnit:r})})),e.addEventListener(window.google.ima.AdEvent.Type.STARTED,(function(){r[p].paused=!1,r[p].started=!0,r.emit("start",{type:"start",adUnit:r})})),[[window.google.ima.AdEvent.Type.SKIPPED,"skip"],[window.google.ima.AdEvent.Type.USER_CLOSE,"close"],[window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,"contentResumeRequested"]].forEach((function(t){var n=c(t,2),i=n[0],o=n[1];e.addEventListener(i,(function(){r.emit(o,{type:o,adUnit:r}),r.isFinished()||(r[p].finished=!0,r[p].paused=!0,r.emit("finish",{type:"finish",adUnit:r}))}))})),e.addEventListener(window.google.ima.AdEvent.Type.PAUSED,(function(){r[p].paused=!0,r.emit("pause",{type:"pause",adUnit:r})})),e.addEventListener(window.google.ima.AdEvent.Type.RESUMED,(function(){r[p].paused=!1,r.emit("resume",{type:"resume",adUnit:r})})),[[window.google.ima.AdEvent.Type.FIRST_QUARTILE,"firstQuartile"],[window.google.ima.AdEvent.Type.MIDPOINT,"midpoint"],[window.google.ima.AdEvent.Type.THIRD_QUARTILE,"thirdQuartile"],[window.google.ima.AdEvent.Type.COMPLETE,"complete"]].forEach((function(t){var n=c(t,2),i=n[0],o=n[1];e.addEventListener(i,(function(){r.emit(o,{type:o,adUnit:r})}))})),e.addEventListener(window.google.ima.AdEvent.Type.CLICK,(),e.addEventListener(window.google.ima.AdEvent.Type.AD_PROGRESS,(function(e){var t=e.getAdData();r[p].duration=t.duration,r[p].currentTime=t.currentTime,r.emit("adProgress",{type:"adProgress",adUnit:r})})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"start",value:function(){var e=s(this.videoElement),t=e.width,n=e.height;this.adsManager.init(t,n,window.google.ima.ViewMode.NORMAL),this.adsManager.start()}},{key:"isStarted",value:function(){return this[p].started}},{key:"isFinished",value:function(){return this[p].finished}},{key:"resume",value:function(){this.adsManager.resume()}},{key:"pause",value:function(){this.adsManager.pause()}},{key:"paused",value:function(){return this[p].paused}},{key:"cancel",value:function(){this.adsManager.stop()}},{key:"getVolume",value:function(){return this.adsManager.getVolume()}},{key:"setVolume",value:function(e){this.adsManager.setVolume(e)}},{key:"resize",value:function(e,t,n){var r="FULLSCREEN"===n.toUpperCase()?"FULLSCREEN":"NORMAL";this.adsManager.resize(e,t,window.google.ima.ViewMode[r])}},{key:"duration",value:function(){return this[p].duration}},{key:"currentTime",value:function(){return this[p].currentTime}}]),t}(u),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e,t,n,r){var i,o,l,u,c=void 0,d=!1,p=r.timeout,v=void 0===p?15e3:p,y=r.onAdReady,m=r.onError,g=r.onRunFinish,A=r.videoElement,b=function(){e.contentComplete(),e.removeEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,T,!1),e.removeEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,j,!1),c&&(c.destroy(),c=null),"function"==typeof g&&g()},w=function(e){"function"==typeof m&&("function"==typeof e.getVastErrorCode&&(e.message=e.getMessage(),e.code=e.getVastErrorCode()),m(e)),b()},j=T=function(e){try{if(c=e.getAdsManager(A,function(e){var t=new window.google.ima.AdsRenderingSettings;return t.loadVideoTimeout=e,t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t}(v)),d&&(c.destroy(),c=null),c.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,j),r.moat){var t=f({viewMode:window.google.ima.ViewMode.NORMAL,slicer1:"%esid!",slicer2:"%esid!"},r.moat);a(c,t,n)}var i=new h(c,A);i.on("finish",b),"function"==typeof y&&y(i),i.start()}catch(e){w(e)}};try{e.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,T,!1),e.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,j,!1),e.requestAds((i=s(A),o=t,l=Boolean(r.autoplay),(u=new window.google.ima.AdsRequest).adTagUrl=o,u.linearAdSlotWidth=i.width,u.linearAdSlotHeight=i.height,u.nonLinearAdSlotWidth=i.width,u.nonLinearAdSlotHeight=i.height,u.setAdWillAutoPlay(l),u.setAdWillPlayMuted(l),u)),A.load()}catch(e){w(e)}return function(){d=!0,b()}},y=m=function(e,t){var n=t.vpaidEnabled,r=t.player,i=new window.google.ima.AdsLoader(e),o=i.getSettings();return o.setLocale("en"),o.setNumRedirects(6),r&&(o.setPlayerType(r.type),o.setPlayerVersion(r.version)),n?o.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.INSECURE):o.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.DISABLED),o.setAutoPlayAdBreaks(!0),i},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(e,t);var r=new window.google.ima.AdDisplayContainer(t,e),i=m(r,n);return function(e,n,o){return r.initialize(),v(i,e,t,o)}}},function(e,t,n){var r=this;var i,o=n(28).loadIma;n(30),n(31),n(35),n(36),n(37),n(44),n(65),n(132),DM.molFeVideoplayer||(DM.molFeVideoplayer=n(133),DM.setupMolVideoJsPlayers=DM.molFeVideoplayer,(DM.molFeDomHelpers.onDocReady||DM.onDocReady)((i=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error loading IMA SDK",e.t0);case 8:DM.molFeVideoplayer.init(document),DM.later.go("videoplayer-ready");case 10:case"end":return e.stop()}}),e,r,[[0,5]])})),function(){var e=i.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var s=e[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(a)}("next")}))})),n(137))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=videojs=window.videojs=vjs;js.CDN_VERSION="4.12",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.VERSION="4.12.15",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},loadingSpinner:{},textTrackDisplay:{},bigPlayButton:{},controlBar:{},errorDisplay:{},textTrackSettings:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.addLanguage=vjs.players={},__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return videojs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(e){var t,n;for(var r in t=(e=e||{}).init||e.init||this.prototype.init||this.prototype.init||function(){},((n=.prototype=vjs.obj.create(this.prototype)).constructor=n,n.extend=vjs.CoreObject.extend,n.create=vjs.CoreObject.create,e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);return n},vjs.CoreObject.create=vjs.on=vjs.off=function(e,t,n){if(vjs.hasData(e)){var r=vjs.getData(e);if(r.handlers){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.off,e,t,n);var i=function(t){r.handlers[t]=[],vjs.cleanUpEvents(e,t)};if(t){var o=r.handlers[t];if(o)if(n){if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);vjs.cleanUpEvents(e,t)}else i(t)}else for(var a in r.handlers)i(a)}}},vjs.cleanUpEvents=vjs.fixEvent=vjs.trigger=vjs.one=var hasOwnProp=Object.prototype.hasOwnProperty,track,major,minor,match,createTrackHelper,origSetSource,origDisposeSourceHandler,canPlayType,mpegurlRE,mp4RE,loadTrack,parseCues,indexOf,root,vttjs,cueShim,regionShim,oldVTTCue,oldVTTRegion;function _logType(e,t){var n,r,i;n=Array.prototype.slice.call(t),r=function(){},i=window.console||{log:r,warn:r,error:r},e?n.unshift(e.toUpperCase()+":"):e="log",vjs.log.history.push(n),n.unshift("VIDEOJS:"),i[e].apply?i[e].apply(i,n):i[e](n.join(" "))}vjs.createEl=vjs.capitalize=vjs.obj={},vjs.obj.create=Object.create||vjs.obj.each=vjs.obj.merge=vjs.obj.deepMerge=vjs.obj.copy=vjs.obj.isPlain=vjs.obj.isArray=Array.isArray||vjs.isNaN=vjs.bind=vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=vjs.hasData=vjs.removeData=vjs.isEmpty=vjs.hasClass=vjs.addClass=vjs.removeClass=function(e,t){var n,r;if(vjs.hasClass(e,t)){for(r=(n=e.className.split(" ")).length-1;r>=0;r--)n[r]===t&&n.splice(r,1);e.className=n.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),track=document.createElement("track"),track.kind="captions",track.srclang="en",track.label="English",vjs.TEST_VID.appendChild(track),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=(match=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),match?(major=match[1]&&parseFloat(match[1]),minor=match[2]&&parseFloat(match[2]),major&&minor?parseFloat(match[1]+"."+match[2]):major||null):null),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.IS_IE8=/MSIE\s8\.0/.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in vjs.TEST_VID.style,vjs.setElementAttributes=vjs.getElementAttributes=vjs.getComputedDimension=vjs.insertFirst=vjs.browser={},vjs.el=vjs.formatTime=function(e,t){t=t||e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||s>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},vjs.blockTextSelection=vjs.unblockTextSelection=vjs.trim=vjs.round=vjs.createTimeRange=function(e,t){return void 0===e&&void 0===t?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end::{length:1,start:function(){return e},end:function(){return t}}},vjs.setLocalStorage=vjs.getAbsoluteURL=vjs.parseUrl=function(e){var t,n,r,i,o;i=["protocol","hostname","port","pathname","search","hash","host"],(r=""===(n=vjs.createEl("a",{href:e})).host&&"file:"!==n.protocol)&&((t=vjs.createEl("div")).innerHTML='<a href="'+e+'"></a>',n=t.firstChild,t.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(t)),o={};for(var s=0;s<i.length;s++)o[i[s]]=n[i[s]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),r&&document.body.removeChild(t),o},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=vjs.findPosition=vjs.arr={},vjs.arr.forEach=vjs.xhr=function(e,t){var n,r,i,o,s,a,l,u;"string"==typeof e&&(e={uri:e}),videojs.util.mergeOptions({method:"GET",timeout:45e3},e),t=t||function(){},l=u=void 0===(n=window.XMLHttpRequest)&&(n=,(r=new n).uri=e.uri,i=vjs.parseUrl(e.uri),o=window.location,i.protocol+i.host!==o.protocol+o.host&&window.XDomainRequest&&!("withCredentials"in r)?((r=new window.XDomainRequest).onload=l,r.onerror=u,r.onprogress=function(){},r.ontimeout=function(){}):(s="file:"==i.protocol||"file:"==o.protocol,r.onreadystatechange=e.timeout&&(a=window.setTimeout((,e.timeout)));try{r.open(e.method||"GET",e.uri,!0)}catch(e){return u(e)}e.withCredentials&&(r.withCredentials=!0),e.responseType&&(r.responseType=e.responseType);try{r.send()}catch(e){return u(e)}return r},vjs.util={},vjs.util.mergeOptions=vjs.EventEmitter=function(){},vjs.EventEmitter.prototype.allowedEvents_={},vjs.EventEmitter.prototype.on=vjs.EventEmitter.prototype.addEventListener=vjs.EventEmitter.prototype.on,vjs.EventEmitter.prototype.off=function(e,t){vjs.off(this,e,t)},vjs.EventEmitter.prototype.removeEventListener=vjs.EventEmitter.prototype.off,vjs.EventEmitter.prototype.one=vjs.EventEmitter.prototype.trigger=vjs.EventEmitter.prototype.dispatchEvent=vjs.EventEmitter.prototype.trigger,vjs.Component=vjs.CoreObject.extend({init:),vjs.Component.prototype.dispose=vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=vjs.Component.prototype.el_,vjs.Component.prototype.createEl=vjs.Component.prototype.localize=vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(e){return this.childIndex_[e]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=vjs.Component.prototype.addChild=function(e,t){var n,r,i;return"string"==typeof e?(i=e,r=(t=t||{}).componentClass||vjs.capitalize(i),t.name=i,n=new window.videojs[r](this.player_||this,t)):n=e,this.children_.push(n),"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(i=i||n.name&&n.name())&&(this.childNameIndex_[i]=n),"function"==typeof n.el&&n.el()&&this.contentEl().appendChild(n.el()),n},vjs.Component.prototype.removeChild=vjs.Component.prototype.initChildren=function(){var e,t,n,r,i,o,s;if(n=(t=(e=this).options()).children)if(s=vjs.obj.isArray(n))for(var a=0;a<n.length;a++)"string"==typeof(r=n[a])?(i=r,o={}):(i=r.name,o=r),s(i,o);else vjs.obj.each(n,s)},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=vjs.Component.prototype.off=vjs.Component.prototype.one=vjs.Component.prototype.trigger=function(e){return vjs.trigger(this.el_,e),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var e=this.readyQueue_;if(this.readyQueue_=[],e&&e.length>0){for(var t=0,n=e.length;t<n;t++)e[t].call(this);this.trigger("ready")}},vjs.Component.prototype.hasClass=vjs.Component.prototype.addClass=function(e){return vjs.addClass(this.el_,e),this},vjs.Component.prototype.removeClass=vjs.Component.prototype.show=function(){return this.removeClass("vjs-hidden"),this},vjs.Component.prototype.hide=function(){return this.addClass("vjs-hidden"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=vjs.Component.prototype.width=function(e,t){return this.dimension("width",e,t)},vjs.Component.prototype.height=vjs.Component.prototype.dimensions=vjs.Component.prototype.dimension=function(e,t,n){if(void 0!==t)return(null===t||vjs.isNaN(t))&&(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+vjs.capitalize(e)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var e,t,n,r,i,o;e=0,t=null,this.on("touchstart",(),this.on("touchmove",(function(e){e.touches.length>1?n=!1:t&&(i=e.touches[0].pageX-t.pageX,o=e.touches[0].pageY-t.pageY,Math.sqrt(i*i+o*o)>10&&(n=!1))})),r=this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",()},vjs.Component.prototype.enableTouchActivity=vjs.Component.prototype.setTimeout=function(e,t){e=vjs.bind(this,e);var n=setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},vjs.Component.prototype.clearTimeout=function(e){clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},vjs.Component.prototype.setInterval=vjs.Component.prototype.clearInterval=vjs.Button=vjs.Component.extend({init:),vjs.Button.prototype.createEl=vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=vjs.Button.prototype.onBlur=vjs.Slider=vjs.Component.extend({init:),vjs.Slider.prototype.createEl=vjs.Slider.prototype.onMouseDown=vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=vjs.Slider.prototype.update=function(){if(this.el_){var e,t=this.getPercent(),n=this.handle,r=this.bar;if(("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0),e=t,n){var i=this.el_.offsetWidth,o=n.el().offsetWidth,s=o?o/i:0,a=t*(1-s);e=a+s/2,n.el().style.left=vjs.round(100*a,2)+"%"}r&&(r.el().style.width=vjs.round(100*e,2)+"%")}},vjs.Slider.prototype.calculateDistance=function(e){var t,n,r,i,o,s,a,l,u;if(t=this.el_,n=vjs.findPosition(t),o=s=t.offsetWidth,a=this.handle,this.options().vertical){if(i=n.top,u=e.changedTouches?e.changedTouches[0].pageY:e.pageY,a){var c=a.el().offsetHeight;i+=c/2,s-=c}return Math.max(0,Math.min(1,(i-u+s)/s))}if(r=n.left,l=e.changedTouches?e.changedTouches[0].pageX:e.pageX,a){var d=a.el().offsetWidth;r+=d/2,o-=d}return Math.max(0,Math.min(1,(l-r)/o))},vjs.Slider.prototype.onFocus=function(){this.on(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onKeyPress=vjs.Slider.prototype.onBlur=vjs.Slider.prototype.onClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=vjs.Menu.prototype.createEl=vjs.MenuItem=vjs.Button.extend({init:),vjs.MenuItem.prototype.createEl=vjs.MenuItem.prototype.onClick=vjs.MenuItem.prototype.selected=vjs.MenuButton=vjs.Button.extend({init:),vjs.MenuButton.prototype.update=vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=vjs.MenuButton.prototype.onKeyPress=vjs.MenuButton.prototype.pressButton=vjs.MenuButton.prototype.unpressButton=vjs.MediaError=vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;if(),vjs.Player=vjs.Component.extend({init:function(e,t,n){this.tag=e,e.id=e.id||"vjs_video_"+vjs.guid++,this.tagAttributes=e&&vjs.getElementAttributes(e),t=vjs.obj.merge(this.getTagSettings(e),t),this.language_=t.language||vjs.options.language,this.languages_=t.languages||vjs.options.languages,this.cache_={},this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,t.reportTouchActivity=!1,this.isAudio("audio"===this.tag.nodeName.toLowerCase()),vjs.Component.call(this,this,t,n),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),vjs.players[this.id_]=this,t.plugins&&vjs.obj.each(t.plugins,(,this),this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=vjs.Player.prototype.getTagSettings=function(e){var t,n,r,i,o,s,a,l={sources:[],tracks:[]};if(null!==(n=(t=vjs.getElementAttributes(e))["data-setup"])&&vjs.obj.merge(t,vjs.JSON.parse(n||"{}")),vjs.obj.merge(l,t),e.hasChildNodes())for(s=0,a=(r=e.childNodes).length;s<a;s++)"source"===(o=(i=r[s]).nodeName.toLowerCase())?l.sources.push(vjs.getElementAttributes(i)):"track"===o&&l.tracks.push(vjs.getElementAttributes(i));return l},vjs.Player.prototype.createEl=vjs.Player.prototype.loadTech=function(e,t){this.tech&&this.unloadTech(),"Html5"!==e&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=e,this.isReady_=!1;var n=vjs.obj.merge({source:t,parentEl:this.el_},this.options_[e.toLowerCase()]);t&&(this.currentType_=t.type,t.src==this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=t.src),this.tech=new window.videojs[e](this,n),this.tech.ready((function(){this.player_.triggerReady()}))},vjs.Player.prototype.unloadTech=vjs.Player.prototype.onLoadStart=vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=vjs.Player.prototype.onPause=vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=vjs.Player.prototype.onEnded=vjs.Player.prototype.onDurationChange=vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError,vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=vjs.Player.prototype.techGet=vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=vjs.Player.prototype.currentTime=vjs.Player.prototype.duration=vjs.Player.prototype.remainingTime=vjs.Player.prototype.buffered=vjs.Player.prototype.bufferedPercent=vjs.Player.prototype.bufferedEnd=vjs.Player.prototype.volume=vjs.Player.prototype.muted=vjs.Player.prototype.supportsFullScreen=vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=vjs.Player.prototype.requestFullscreen=vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=vjs.Player.prototype.cancelFullScreen=vjs.Player.prototype.enterFullWindow=vjs.Player.prototype.fullWindowOnEscKey=vjs.Player.prototype.exitFullWindow=vjs.Player.prototype.selectSource=vjs.Player.prototype.src=vjs.Player.prototype.sourceList_=vjs.Player.prototype.load=vjs.Player.prototype.currentSrc=vjs.Player.prototype.currentType=vjs.Player.prototype.preload=function(e){return void 0!==e?(this.techCall("setPreload",e),this.options_.preload=e,this):this.techGet("preload")},vjs.Player.prototype.autoplay=vjs.Player.prototype.loop=vjs.Player.prototype.poster_,vjs.Player.prototype.poster=vjs.Player.prototype.controls_,vjs.Player.prototype.controls=vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=vjs.Player.prototype.error_=null,vjs.Player.prototype.error=vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.seekable=function(){return this.techGet("seekable")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=vjs.Player.prototype.listenForUserActivity=function(){var e,t,n,r,i,o,s,a;e=vjs.bind(this,this.reportUserActivity),t=n=i=this.on("mousedown",n),this.on("mousemove",t),this.on("mouseup",i),this.on("keydown",e),this.on("keyup",e),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options().inactivityTimeout;e>0&&(o=this.setTimeout((,e))}}),250)},vjs.Player.prototype.playbackRate=vjs.Player.prototype.isAudio_=!1,vjs.Player.prototype.isAudio=vjs.Player.prototype.networkState=function(){return this.techGet("networkState")},vjs.Player.prototype.readyState=vjs.Player.prototype.textTracks=function(){return this.tech&&this.tech.textTracks()},vjs.Player.prototype.remoteTextTracks=vjs.Player.prototype.addTextTrack=vjs.Player.prototype.addRemoteTextTrack=vjs.Player.prototype.removeRemoteTextTrack=vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.LiveDisplay.prototype.createEl=vjs.PlayToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.on(e,"play",this.onPlay),this.on(e,"pause",this.onPause)}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=vjs.PlayToggle.prototype.onPlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.el_.children[0].children[0].innerHTML=this.localize("Pause")},vjs.PlayToggle.prototype.onPause=vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on(e,"timeupdate",this.updateContent)}}),vjs.CurrentTimeDisplay.prototype.createEl=vjs.CurrentTimeDisplay.prototype.updateContent=vjs.DurationDisplay=vjs.Component.extend({init:),vjs.DurationDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00","aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.DurationDisplay.prototype.updateContent=vjs.TimeDivider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on(e,"timeupdate",this.updateContent)}}),vjs.RemainingTimeDisplay.prototype.createEl=vjs.RemainingTimeDisplay.prototype.updateContent=vjs.FullscreenToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=vjs.FullscreenToggle.prototype.onClick=vjs.ProgressControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t),this.on(e,"timeupdate",this.updateARIAAttributes),e.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=vjs.SeekBar.prototype.getPercent=vjs.SeekBar.prototype.onMouseDown=vjs.SeekBar.prototype.onMouseMove=vjs.SeekBar.prototype.onMouseUp=vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on(e,"progress",this.update)}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},vjs.LoadProgressBar.prototype.update=function(){var e,t,n,r,i=this.player_.buffered(),o=this.player_.duration(),s=this.player_.bufferedEnd(),a=this.el_.children,l=function(e,t){return 100*(e/t||0)+"%"};for(this.el_.style.width=l(s,o),e=0;e<i.length;e++)t=i.start(e),n=i.end(e),(r=a[e])||(r=this.el_.appendChild(vjs.createEl())),r.style.left=l(t,s),r.style.width=l(n-t,s);for(e=a.length;e>i.length;e--)this.el_.removeChild(a[e-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=vjs.VolumeControl=vjs.Component.extend({init:),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:),vjs.VolumeBar.prototype.updateARIAAttributes=vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=vjs.VolumeBar.prototype.onMouseMove=vjs.VolumeBar.prototype.getPercent=vjs.VolumeBar.prototype.stepForward=vjs.VolumeBar.prototype.stepBack=vjs.VolumeLevel=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.MuteToggle.prototype.onClick=vjs.MuteToggle.prototype.update=vjs.VolumeMenuButton=vjs.MenuButton.extend({init:),vjs.VolumeMenuButton.prototype.createMenu=vjs.VolumeMenuButton.prototype.onClick=vjs.VolumeMenuButton.prototype.createEl=vjs.VolumeMenuButton.prototype.volumeUpdate=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:),vjs.PlaybackRateMenuButton.prototype.buttonText="Playback Rate",vjs.PlaybackRateMenuButton.prototype.className="vjs-playback-rate",vjs.PlaybackRateMenuButton.prototype.createEl=vjs.PlaybackRateMenuButton.prototype.createMenu=vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=vjs.PlaybackRateMenuButton.prototype.onClick=vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=vjs.PlaybackRateMenuButton.prototype.updateVisibility=vjs.PlaybackRateMenuButton.prototype.updateLabel=vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:),vjs.PlaybackRateMenuItem.prototype.onClick=vjs.PlaybackRateMenuItem.prototype.update=vjs.PosterImage=vjs.Button.extend({init:),vjs.PosterImage.prototype.dispose=vjs.PosterImage.prototype.createEl=vjs.PosterImage.prototype.update=vjs.PosterImage.prototype.setSrc=vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:),vjs.ErrorDisplay.prototype.createEl=vjs.ErrorDisplay.prototype.update=vjs.MediaTechController=vjs.Component.extend({init:),vjs.MediaTechController.prototype.initControlsListeners=function(){var e,t;e=this.player(),t=this.ready(t),this.on(e,"controlsenabled",t),this.on(e,"controlsdisabled",this.removeControlsListeners),this.ready(()},vjs.MediaTechController.prototype.addControlsListeners=vjs.MediaTechController.prototype.removeControlsListeners=vjs.MediaTechController.prototype.onClick=vjs.MediaTechController.prototype.onTap=vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress()},vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.MediaTechController.prototype.trackProgress=vjs.MediaTechController.prototype.stopTrackingProgress=
/*! Time Tracking -------------------------------------------------------------- */
vjs.MediaTechController.prototype.manualTimeUpdatesOn=vjs.MediaTechController.prototype.manualTimeUpdatesOff=vjs.MediaTechController.prototype.trackCurrentTime=vjs.MediaTechController.prototype.stopTrackingCurrentTime=vjs.MediaTechController.prototype.dispose=vjs.MediaTechController.prototype.setCurrentTime=vjs.MediaTechController.prototype.initTextTrackListeners=function(){var e,t=this.player_,n=(e=this.textTracks())&&(e.addEventListener("removetrack",n),e.addEventListener("addtrack",n),this.on("dispose",vjs.bind(this,(function(){e.removeEventListener("removetrack",n),e.removeEventListener("addtrack",n)}))))},vjs.MediaTechController.prototype.emulateTextTracks=function(){var e,t,n,r=this.player_;window.WebVTT||((n=document.createElement("script")).src=r.options()["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",r.el().appendChild(n),window.WebVTT=!0),(t=this.textTracks())&&(e=function(){var e,t,n;for((n=r.getChild("textTrackDisplay")).updateDisplay(),e=0;e<this.length;e++)(t=this[e]).removeEventListener("cuechange",vjs.bind(n,n.updateDisplay)),"showing"===t.mode&&t.addEventListener("cuechange",vjs.bind(n,n.updateDisplay))},t.addEventListener("change",e),this.on("dispose",vjs.bind(this,(function(){t.removeEventListener("change",e)}))))},vjs.MediaTechController.prototype.textTracks_,vjs.MediaTechController.prototype.textTracks=function(){return this.player_.textTracks_=this.player_.textTracks_||new vjs.TextTrackList,this.player_.textTracks_},vjs.MediaTechController.prototype.remoteTextTracks=createTrackHelper=vjs.MediaTechController.prototype.addTextTrack=vjs.MediaTechController.prototype.addRemoteTextTrack=vjs.MediaTechController.prototype.removeRemoteTextTrack=vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.featuresVolumeControl=!0,vjs.MediaTechController.prototype.featuresFullscreenResize=!1,vjs.MediaTechController.prototype.featuresPlaybackRate=!1,vjs.MediaTechController.prototype.featuresProgressEvents=!1,vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1,vjs.MediaTechController.prototype.featuresNativeTextTracks=!1,vjs.MediaTechController.withSourceHandlers=function(e){e.registerSourceHandler=e.selectSourceHandler=e.canPlaySource=e.prototype.setSource=e.prototype.disposeSourceHandler=,vjs.media={},vjs.Html5=vjs.MediaTechController.extend({init:function(e,t,n){var r,i,o,s,a;!1!==t.nativeCaptions&&!1!==t.nativeTextTracks||(this.featuresNativeTextTracks=!1),vjs.MediaTechController.call(this,e,t,n),this.setupTriggers();var l=t.source;if(l&&(this.el_.currentSrc!==l.src||e.tag&&3===e.tag.initNetworkState_)&&this.setSource(l),this.el_.hasChildNodes()){for(i=(r=this.el_.childNodes).length,a=[];i--;)"track"===(s=r[i]).nodeName.toLowerCase()&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(s.track):a.push(s));for(o=0;o<a.length;o++)this.el_.removeChild(a[o])}vjs.TOUCH_ENABLED&&!0===e.options().nativeControlsForTouch&&this.useNativeControls(),e.ready((),this.triggerReady()}}),vjs.Html5.prototype.dispose=vjs.Html5.prototype.createEl=function(){var e,t,n,r,i,o=this.player_,s=o.tag;if(!s||!1===this.movingMediaElementInDOM){if(s?(i=s.cloneNode(!1),vjs.Html5.disposeMediaElement(s),s=i,o.tag=null):(s=vjs.createEl("video"),r=videojs.util.mergeOptions({},o.tagAttributes),vjs.TOUCH_ENABLED&&!0===o.options().nativeControlsForTouch||delete r.controls,vjs.setElementAttributes(s,vjs.obj.merge(r,{id:o.id()+"_html5_api",class:"vjs-tech"}))),s.player=o,o.options_.tracks)for(n=0;n<o.options_.tracks.length;n++)e=o.options_.tracks[n],(t=document.createElement("track")).kind=e.kind,t.label=e.label,t.srclang=e.srclang,t.src=e.src,"default"in e&&t.setAttribute("default","default"),s.appendChild(t);vjs.insertFirst(s,o.el())}var a=["autoplay","preload","loop","muted"];for(n=a.length-1;n>=0;n--){var l=a[n],u={};void 0!==o.options_[l]&&(u[l]=o.options_[l]),vjs.setElementAttributes(s,u)}return s},vjs.Html5.prototype.setupTriggers=vjs.Html5.prototype.eventHandler=vjs.Html5.prototype.useNativeControls=function(){var e,t,n,r,i;e=this,t=this.player(),e.setControls(t.controls()),n=function(){e.setControls(!0)},r=t.on("controlsenabled",n),t.on("controlsdisabled",r),i=function(){t.off("controlsenabled",n),t.off("controlsdisabled",r)},e.on("dispose",i),t.on("usingcustomcontrols",i),t.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=vjs.Html5.prototype.duration=vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(e){this.el_.volume=e},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(e){this.el_.muted=e},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=vjs.Html5.prototype.enterFullScreen=vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.returnOriginalIfBlobURI_=function(e,t){return t&&e&&/^blob\:/i.test(e)?t:e},vjs.Html5.prototype.src=function(e){var t=this.el_.src;if(void 0===e)return this.returnOriginalIfBlobURI_(t,this.source_);this.setSrc(e)},vjs.Html5.prototype.setSrc=function(e){this.el_.src=e},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(e){this.el_.poster=e},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(e){this.el_.preload=e},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(e){this.el_.autoplay=e},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(e){this.el_.loop=e},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.seekable=function(){return this.el_.seekable},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.prototype.readyState=function(){return this.el_.readyState},vjs.Html5.prototype.textTracks=vjs.Html5.prototype.addTextTrack=vjs.Html5.prototype.addRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this,e);var t=document.createElement("track");return(e=e||{}).kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),this.el().appendChild(t),this.remoteTextTracks().addTrack_(t.track),t},vjs.Html5.prototype.removeRemoteTextTrack=vjs.Html5.isSupported=vjs.MediaTechController.withSourceHandlers(vjs.Html5),origSetSource=vjs.Html5.prototype.setSource,origDisposeSourceHandler=vjs.Html5.prototype.disposeSourceHandler,vjs.Html5.prototype.setSource=vjs.Html5.prototype.disposeSourceHandler=vjs.Html5.nativeSourceHandler={},vjs.Html5.nativeSourceHandler.canHandleSource=vjs.Html5.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},vjs.Html5.nativeSourceHandler.dispose=function(){},vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler),vjs.Html5.canControlVolume=function(){var e=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=e/2+.1,e!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=vjs.Html5.supportsNativeTextTracks=function(){var e;return(e=!!vjs.TEST_VID.textTracks)&&vjs.TEST_VID.textTracks.length>0&&(e="number"!=typeof vjs.TEST_VID.textTracks[0].mode),e&&vjs.IS_FIREFOX&&(e=!1),e},vjs.Html5.prototype.featuresVolumeControl=vjs.Html5.canControlVolume(),vjs.Html5.prototype.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),vjs.Html5.prototype.movingMediaElementInDOM=!vjs.IS_IOS,vjs.Html5.prototype.featuresFullscreenResize=!0,vjs.Html5.prototype.featuresProgressEvents=!0,vjs.Html5.prototype.featuresNativeTextTracks=vjs.Html5.supportsNativeTextTracks(),mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,mp4RE=/^video\/mp4/i,vjs.Html5.patchCanPlayType=vjs.Html5.unpatchCanPlayType=vjs.Html5.patchCanPlayType(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=vjs.Flash=vjs.MediaTechController.extend({init:function(e,t,n){vjs.MediaTechController.call(this,e,t,n);var r=t.source,i=e.id()+"_flash_api",o=e.options_,s=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:o.autoplay,preload:o.preload,loop:o.loop,muted:o.muted},t.flashVars),a=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},t.params),l=vjs.obj.merge({id:i,name:i,class:"vjs-tech"},t.attributes);r&&this.ready((),vjs.insertFirst(this.el_,t.parentEl),t.startTime&&this.ready((),vjs.IS_FIREFOX&&this.ready((),e.on("stageclick",e.reportUserActivity),this.el_=vjs.Flash.embed(t.swf,this.el_,s,a,l)}}),vjs.Flash.prototype.dispose=vjs.Flash.prototype.play=vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=vjs.Flash.prototype.setSrc=vjs.Flash.prototype.setCurrentTime=vjs.Flash.prototype.currentTime=vjs.Flash.prototype.currentSrc=vjs.Flash.prototype.load=vjs.Flash.prototype.poster=vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.seekable=vjs.Flash.prototype.buffered=vjs.Flash.prototype.duration=vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){var e,t=vjs.Flash.prototype,n="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),r="error,networkState,readyState,seeking,initialTime,startOffsetTime,paused,played,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(",");r(e=0;e<n.length;e++)o(n[e]),i(n[e]);for(e=0;e<r.length;e++)o(r[e])}(),vjs.Flash.isSupported=vjs.MediaTechController.withSourceHandlers(vjs.Flash),vjs.Flash.nativeSourceHandler={},vjs.Flash.nativeSourceHandler.canHandleSource=vjs.Flash.nativeSourceHandler.handleSource=vjs.Flash.nativeSourceHandler.dispose=vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler),vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(e){var t,n;(n=(t=vjs.el(e))&&t.parentNode&&t.parentNode.player)&&(t.player=n,vjs.Flash.checkReady(n.tech))},vjs.Flash.checkReady=vjs.Flash.onEvent=vjs.Flash.onError=vjs.Flash.version=vjs.Flash.embed=function(e,t,n,r,i){var o=vjs.Flash.getEmbedCode(e,n,r,i),s=vjs.createEl("div",{innerHTML:o}).childNodes[0],a=t.parentNode;t.parentNode.replaceChild(s,t),s[vjs.expando]=t[vjs.expando];var l=a.childNodes[0];return setTimeout((,1e3),s},vjs.Flash.getEmbedCode=vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.streamFromParts=vjs.Flash.streamToParts=vjs.Flash.isStreamingType=vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=vjs.Flash.rtmpSourceHandler={},vjs.Flash.rtmpSourceHandler.canHandleSource=vjs.Flash.rtmpSourceHandler.handleSource=vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler),vjs.MediaLoader=vjs.Component.extend({init:),vjs.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},vjs.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vjs.TextTrack=vjs.TextTrack.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrack.prototype.constructor=vjs.TextTrack,vjs.TextTrack.prototype.allowedEvents_={cuechange:"cuechange"},vjs.TextTrack.prototype.addCue=vjs.TextTrack.prototype.removeCue=loadTrack=function(e,t){vjs.xhr(e,vjs.bind(this,(function(e,n,r){if(e)return vjs.log.error(e);t.loaded_=!0,parseCues(r,t)})))},parseCues=indexOf=vjs.TextTrackList=vjs.TextTrackList.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrackList.prototype.constructor=vjs.TextTrackList,vjs.TextTrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},),vjs.TextTrackList.prototype.addTrack_=vjs.TextTrackList.prototype.removeTrack_=vjs.TextTrackList.prototype.getTrackById=function(e){for(var t,n=0,r=this.length,i=null;n<r;n++)if((t=this[n]).id===e){i=t;break}return i},vjs.TextTrackCueList=vjs.TextTrackCueList.prototype.setCues_=vjs.TextTrackCueList.prototype.getCueById=function(){"use strict";vjs.TextTrackDisplay=vjs.Component.extend({init:),vjs.TextTrackDisplay.prototype.toggleDisplay=vjs.TextTrackDisplay.prototype.createEl=vjs.TextTrackDisplay.prototype.clearDisplay=var e=t={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},n=vjs.TextTrackDisplay.prototype.updateDisplay=vjs.TextTrackDisplay.prototype.updateForTrack=vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:),vjs.TextTrackMenuItem.prototype.onClick=vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:),vjs.CaptionSettingsMenuItem=vjs.TextTrackMenuItem.extend({init:),vjs.CaptionSettingsMenuItem.prototype.onClick=vjs.TextTrackButton=vjs.MenuButton.extend({init:),vjs.TextTrackButton.prototype.createItems=vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.CaptionsButton.prototype.update=vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){var e,t,n=[];if(!(t=this.player_.textTracks()))return n;for(var r=0;r<t.length;r++)(e=t[r]).kind===this.kind_&&n.push(new vjs.TextTrackMenuItem(this.player_,{track:e}));return n},vjs.ChaptersButton.prototype.createMenu=function(){for(var e,t,n=this.player_.textTracks()||[],r=0,i=n.length,o=this.items=[];r<i;r++)if((e=n[r]).kind==this.kind_){if(e.cues){t=e;break}e.mode="hidden",window.setTimeout(vjs.bind(this,(),100)}var s=this.menu;if(void 0===s&&(s=new vjs.Menu(this.player_)).contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),t){var a,l,u=t.cues;for(r=0,i=u.length;r<i;r++)a=u[r],l=new vjs.ChaptersTrackMenuItem(this.player_,{track:t,cue:a}),o.push(l),s.addChild(l);this.addChild(s)}return this.items.length>0&&this.show(),s},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:),vjs.ChaptersTrackMenuItem.prototype.onClick=vjs.ChaptersTrackMenuItem.prototype.update=(),function(){"use strict";s.TextTrackSettings=vjs.Component.extend({init:),vjs.TextTrackSettings.prototype.createEl=vjs.TextTrackSettings.prototype.getValues=function(){var t,n,r,i,o,s,a,l,u,c;for(c in i=e((t=this.el()).querySelector(".vjs-edge-style select")),o=e(t.querySelector(".vjs-font-family select")),s=e(t.querySelector(".vjs-fg-color > select")),r=e(t.querySelector(".vjs-text-opacity > select")),a=e(t.querySelector(".vjs-bg-color > select")),n=e(t.querySelector(".vjs-bg-opacity > select")),l=e(t.querySelector(".window-color > select")),u={backgroundOpacity:n,textOpacity:r,windowOpacity:e(t.querySelector(".vjs-window-opacity > select")),edgeStyle:i,fontFamily:o,color:s,backgroundColor:a,windowColor:l,fontPercent:window.parseFloat(e(t.querySelector(".vjs-font-percent > select")))})(""===u[c]||"none"===u[c]||"fontPercent"===c&&1===u[c])&&delete u[c];return u},vjs.TextTrackSettings.prototype.setValues=function(e){var n,r=this.el();t(r.querySelector(".vjs-edge-style select"),e.edgeStyle),t(r.querySelector(".vjs-font-family select"),e.fontFamily),t(r.querySelector(".vjs-fg-color > select"),e.color),t(r.querySelector(".vjs-text-opacity > select"),e.textOpacity),t(r.querySelector(".vjs-bg-color > select"),e.backgroundColor),t(r.querySelector(".vjs-bg-opacity > select"),e.backgroundOpacity),t(r.querySelector(".window-color > select"),e.windowColor),t(r.querySelector(".vjs-window-opacity > select"),e.windowOpacity),(n=e.fontPercent)&&(n=n.toFixed(2)),t(r.querySelector(".vjs-font-percent > select"),n)},vjs.TextTrackSettings.prototype.restoreSettings=vjs.TextTrackSettings.prototype.saveSettings=vjs.TextTrackSettings.prototype.updateDisplay=(),vjs.JSON,void 0!==window.JSON&&"function"==typeof window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=vjs.autoSetup=function(){var e,t,n,r=document.getElementsByTagName("video"),i=document.getElementsByTagName("audio"),o=[];if(r&&r.length>0)for(t=0,n=r.length;t<n;t++)o.push(r[t]);if(i&&i.length>0)for(t=0,n=i.length;t<n;t++)o.push(i[t]);if(o&&o.length>0)for(t=0,n=o.length;t<n;t++){if(!(e=o[t])||!e.getAttribute){vjs.autoSetupTimeout(1);break}void 0===e.player&&null!==e.getAttribute("data-setup")&&videojs(e)}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout="complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",(),vjs.autoSetupTimeout(1),vjs.plugin=root=this,vttjs=root.vttjs={},cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,oldVTTCue=root.VTTCue,oldVTTRegion=root.VTTRegion,vttjs.shim=function(){vttjs.VTTCue=cueShim,vttjs.VTTRegion=regionShim},vttjs.restore=function(e,t){var n={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};rototype.getCueAsHTML=e.VTTCue=e.VTTCue||s,t.VTTCue=s}(this,this.vttjs||{}),function(e,t){var n={"":!0,up:!0};VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{}),function(e){var t=Object.create||);totype=t(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},i.prototype={set:get:has:alt:integer:percent:;var a={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={v:"title",lang:"lang"},c={rt:"run h}var p=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];function h(){}function f(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),h.call(this),this.cue=t,this.cueDiv=d(e,t.text);var s={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(s.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",s.unicodeBidi="plaintext"),this.applyStyles(s,this.cueDiv),this.div=e.document.createElement("div"),s={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(s.direction=function(e){var t,n=[],r="";if(!e||!e.childNodes)return" 0}for(i(n,e);r=o(n);)for(var s=0;s<r.length;s++){t=r.charCodeAt(s);for(var a=0;a<p.length;a++)if(p[a]===t)return"rtl"}return"ltr"}(this.cueDiv),s.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(s),this.div.appendChild(this.cueDiv);var a=0;switch(t.positionAlign){case"start":a=t.position;break;case"middle":a=t.position-t.size/2;break;case"end":a=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(t.size,"%")}),this.))}function m(){}h.prototype.applyStn])},h.prototype.formatSe+t},f.prototype=t(h.prototype),f.prototype.constructor=f,v.prototype.=t}},v.prototype.overtop},v.prototype.overlapn!1},v.prototype.wight},v.prototype.overlapsOppositeom}},v.prototype.intersectPercenth)},v.prototype.toCSSCompatVath}},v.getSimpleBoxPosi|n}},m.StringDec)}}},m.convertCueToDOMull};m.processte)},m.Pa=[]},m.Parser.prototype={reportOrThrowE(e)},phis},fhis}},e.WebVTT=m}(this,this.vtt34)},function(e,t,n){var r,i=n(4),o=n(1);videojs.plugin("mobile",(function(){var e=this.el();"iOS"===i.os&&o.addClass(e,"vjs-idevice"),i.isIPhone&&(o.addClass(e,"vjs-iphone"),i.osMajorVersion<=7&&o.addClass(e,"vjs-ios-old")),i.mobile&&o.addClass(e,"no-volume-slider")})),r=void 0,9!==parseInt("09",10)&&(r=window.parseInt,window.pars"))})},function(e,t,n){var r=n(0);videojs.plugin("multiple-clicks-fix",(function(){var e=this;e.ready((function(){!function e(t,n){t.children().forE(t)}))}(e,(function(e){"function"==typeof e.onClick&&function(e){var t=r.debounce(e.onClick,500,!0);["tap","click"].forE,t)}))}(e)}))}))}))},function(e,t){videojs.Component.prototype.emitTapEvents=function(){var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0,o=void 0;r=0,t=null;this.on("touchsta!0)})),this.on("touchmove",(function(r){r.touches.length>1?e=!1:t&&(i=r.touches[0].pageX-t.pageX,o=r.touches[0].pageY-t.pageY,((n=Math.sqrt(i*i+o*o))>10||0===n)&&(e=!1))}));var s=function(){e=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",(function(n){t=null,!0===e&&(new Date).getTime()-r<100&&(n.preventDefault(),this.trigger("tap"))}))}},function(e,t){!function(e){var t,n=0,r=e.MediaSource||e.WebKitMediaSource||{},i=e.URL||{},o=/video\/flv(;\s*codecs=["']vp6,aac["'])?$/;(t=function(){}).prototype.=[]},t.prototype.addEventList(t)},t.prototype.removeEventListener=function(e,t){for(var n=this.listeners[e],r=n.length;r--;)if(n[r]===t)return n.splice(r,1)},t.prototype.trigger=function(e){for(var t=this.listeners[e.type]||[],n=t.length;n--;)t[n](e)},videojs.MediaSource=function(){var e=this;videojs.MediaSource.prototype.init.call(this),this.sourceBuffers=[],this.readyState="closed",this.listeners={sourceopen:[function(t){e.swfObj=document.getElementById(t.swfId),e.readyState="open",e.swfObj&&e.swfObj.vjs_load()}],webkitsourceopen:[function(){e.trigger({type:"sourceopen"})}]}},videojs.MediaSource.prototype=new t,videojs.MediaSource.BYTES_PER_SECOND_GOAL=4194304,videojs.MediaSource.TICKS_PER_SECOND=60,videojs.MediaSource.prototype.addSourceBuffer=function(e){var t;if(o.test(e))t=new videojs.SourceBuffer(this);else{if(!this.nativeSource)throw new Error("NotSupportedError (Video.js)");t=this.nativeSource.addSourceBuffer.apply(this.nativeSource,arguments)}return this.sourceBuffers.push(t),t},videojs.MediaSource.prototype.endOfSted"},videojs.mediaSources={},videojs.MediaSource.t})},videojs.SourceBuffer=function(t){var n=this,r=[],i=0,o=function(t){e.setTimeout(t,Math.ceil(1e3/videojs.MediaSource.TICKS_PER_SECOND))},s=function t(){var s,a,l,u,c,d="";if(r.length){for(c=document.hidden?videojs.MediaSource.BYTES_PER_SECOND_GOAL:Math.ceil(videojs.MediaSource.BYTES_PER_SECOND_GOAL/videojs.MediaSource.TICKS_PER_SECOND),a=(u=new Uint8Array(Math.min(c,i))).byteLength;a;)s=r[0].subarray(0,a),u.set(s,u.byteLength-a),s.byteLength<r[0].byteLength?r[0]=r[0].subarray(a):r.shift(),a-=s.byteLength;for(0!==(i-=u.byteLength)?o(t):n.trigger({type:"updateend"}),a=0,l=u.byteLength;a<l;a++)d+=String.fromCharCode(u[a]);var p=e.btoa(d);n.source.swfObj.CallFunction('<invoke name="vjs_appendBuffer"returntype="javascript"><arguments><string>'+p+"</string></arguments></invoke>")}};videojs.SourceBuffer.prototype.init.call(this),this.source=t,this.appendBuffer=function(e){0===r.length&&o(s),this.trigger({type:"update"}),r.push(e),i+=e.byteLength},this.abort=function(){r=[],i=0,this.source.swfObj.vjs_abort()}},videojs.SourceBuffer.prototype=new t,videojs.URL={createObjectURL:function(e){var t="blob:vjs-media-source/"+n;return n++,videojs.mediaSources[t]=e,t}},videojs.plugin("mediaSource",(function(){var e=this;e.on("loadstart",(function(){var t,n=e.currentSrc(),o=function(e){t.trigger(e)};"Html5"===e.techName&&0===n.indexOf("blob:vjs-media-source/")&&((t=videojs.mediaSources[n]).nativeUrl||(t.nativeSource=new r,t.nativeSource.addEventListener("sourceopen",o,!1),t.nativeSource.addEventListener("webkitsourceopen",o,!1),t.nativeUrl=i.createObjectURL(t.nativeSource)),e.src(t.nativeUrl))}))}))}(window)},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*! videojs-contrib-hls - v0.17.1 - 2015-06-08
* Copyright (c) 2015 Brightcove; Licensed  */
!function(e,t,n,r){"use strict";var i,o,s,a,l>=2},t.Hls=t.Flash.extend({init:function(e,n,r){var i=n.source,o=e.options();e.hls=this,delete n.source,n.swf=o.flash.swf,t.Flash.call(this,e,n,r),n.source=i,this.bytesReceived=0,this.currentTime=t.Hls.prototype.currentTime,this.setCurrentTime=t.Hls.prototype.setCurrentTime,this.segmentBuffer_=[],this.startCheckingBuffer_(),t.Hls.prototype.src.call(this,n.source&&n.source.src)}}),t.Hls.GOAL_BUFFER_LENGTH=30,t.Hls.prototype.src=function(e){var n,r,o,s=this,a=this.player(),l=a.options().hls||{};e&&(this.src_&&this.resetSrc_(),this.src_=e,n=new t.MediaSource,o={src:t.URL.createObjectURL(n),type:"video/flv"},this.mediaSource=n,this.segmentBuffer_=[],this.segmentParser_=new t.Hls.SegmentParser,this.setupMetadataCueTranslation_(),this.mediaSource.addEventListener("sourceopen",t.bind(this,this.handleSourceOpen)),this.playlists&&this.playlists.dispose(),this.mediaIndex=0,this.playlists=new t.Hls.PlaylistLoader(this.src_,l.withCredentials),this.playlists.on("loadedmetadata",t.bind(this,(function(){var e,n,i,o,sa")},r=this.playlists.media(),void 0===this.bandwidth&&this.setBandwidth({bandwidth:5*this.playlists.bandwidth}),e=this.selectPlaylist(),i=r.attributes&&r.attributes.BANDWIDTH||0,o=e.attributes&&e.attributes.BANDWIDTH||0,(s=(r.segments&&r.segments[this.mediaIndex].duration||r.targetDuration)*o/this.bandwidth)||(s=1/0),o>i&&s<=10?(this.playlists.media(e),n=t.bind(this,(function(){l.call(this),this.playlists.off("loadedplaylist",n)})),this.playlists.on("loadedplaylist",n)):l.call(this)}))),this.playlists.on("error",t.bind(tor)}))),this.playlists.on("loadedplaylist",t.bind(this,(function(){var e=this.playlists.media();e&&(this.updateDuration(this.playlists.media()),this.mediaIndex=t.Hls.translateMediaIndex(this.mediaIndex,r,e),r=e,this.fetchKeys_())}))),this.playlists.on("mediachange",t.bind(this,(function(){i&&this.cancelKeyXhr(),a.trigger("mediachange")}))),this.player().rerc)})))},t.Hls.getMediaIndexForLive_=function(e){if(!e.segments)return 0;for(var t=e.segments.length,n=0,r=3*(e.targetDuration||10);n<r&&t>0;)n+=e.segments[t-1].duration,t--;return t},t.Hls.prototype.handleSourceOpen=function(){var e=this.player(),t=this.mediaSource.addSourceBuffer('video/flv; codecs="vp6,aac"');this.sourceBuffer=t,e.options().autoplay&&e.play(),t.appendBuffer(this.segmentParser_.getFlvHeader())},t.Hls.prototype.setupMetadataCueTranslation_=function(){var n,r=this,i=r.segmentParser_.metadataStream;r.player().addTextTrack&&(i.on("data",(function(o){var s,a,l,u,c,d;if(!n)for((n=r.player().addTextTrack("metadata","Timed Metadata")).inBandMetadataTrackDispatchType=t.Hls.SegmentParser.STREAM_TYPES.metadata.toString(16).toUpperCase(),s=0;s<i.descriptor.length;s++)d=("00"+i.descriptor[s].toString(16).toUpperCase()).slice(-2),n.inBandMetadataTrackDispatchType+=d;for(c=r.playlists.media(),r.playlists.expiredPreDiscontinuity_+r.playlists.expiredPostDiscontinuity_,t.Hls.Playlist.duration(c,c.mediaSequence,c.mediaSequence+r.mediaIndex),s=0;s<o.frames.length;s++)l=o.frames[s],u=r.segmentParser_.mediaTimelineOffset+.001*(o.pts-r.segmentParser_.timestampOffset),(a=new e.VTTCue(u,u,l.value||l.url||"")).frame=l,n.addCue(a)})),r.on(r.player(),"seeking",(function(){var e,i,o;if(n)for(e=r.playlists.media(),i=r.playlists.expiredPreDiscontinuity_+r.playlists.expiredPostDiscontinuity_,i+=t.Hls.Playlist.duration(e,e.mediaSequence,e.mediaSequence+r.mediaIndex),o=n.cues.length;o--;)n.cues[o].startTime>=i&&n.removeCue(n.cues[o])})))},t.Hls.prototype.play=function(){var e;return this.ended()&&(this.mediaIndex=0),this.duration()===1/0&&this.playlists.media()&&!this.player().hasClass("vjs-has-started")&&(e=this.playlists.media(),this.mediaIndex=t.Hls.getMediaIndexForLive_(e),this.setCurrentTime(t.Hls.Playlist.seekable(e).end(0))),t.Flash.prototype.play.apply(this,arguments)},t.Hls.prototype.currentTime=function(){return this.lastSeekedTime_?this.lastSeekedTime_:this.el()&&this.el().vjs_getProperty?this.el().vjs_getProperty("currentTime"):0},t.Hls.prototype.setCurrentTime=function(e){return this.playlists&&this.playlists.media()&&this.playlists.media().segments?(this.lastSeekedTime_=e,this.mediaIndex=t.Hls.getMediaIndexByTime(this.playlists.media(),e),this.sourceBuffer.abort(),this.cancelSegmentXhr(),i&&(i.aborted=!0,this.cancelKeyXhr()),this.segmentBuffer_=[],void this.fillBuffer(1e3*e)):0},t.Hls.prototype.dura):0},t.Hls.prototype.seekable=function(){var e,n,r;return this.playlists&&(r=this.playlists.media())?(e=t.Hls.Playlist.seekable(r),n=this.playlists.expiredPostDiscontinuity_-this.playlists.expiredPreDiscontinuity_,t.createTimeRange(n,n+(e.end(0)-e.start(0)))):t.createTimeRange()},t.Hls.prototype.updateDuration=function(e){var n=this.player();n.duration()!==t.Hls.Playlist.duration(e)&&n.trigger("durationchange")},t.Hls.prototype.resett()},t.Hls.prototype.cancelKeyXhr=function(){i&&(i.onreadystatechange=null,i.abort(),i=null)},t.Hls.prototype.cancelSegmenll)},t.Hls.prototype.dispose=function(){this.stopCheckingBuffer_(),this.playlists&&this.playlists.dispose(),this.resetSrc_(),t.Flash.prototype.dispose.call(this)},t.Hls.prototype.selectPlaylist=function(){var e,n,r,i,o,s=this.player(),a=this.playlists.master.playlists.slice(),l=[],u=a.length;for(a.sort(t.Hls.comparePlaylistBandwidth);u--;)(e=a[u]).attributes&&e.attributes.BANDWIDTH&&1.1*e.attributes.BANDWIDTH<s.hls.bandwidth&&(l.push(e),r||(r=e));for(u=l.length,l.sort(t.Hls.comparePlaylistResolution),e=null;u--;)if(n=e,(e=l[u]).attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&e.attributes.RESOLUTION.height){if(e.attributes.RESOLUTION.width===s.width()&&e.attributes.RESOLUTION.height===s.height()){i=null,o=e;break}if(e.attributes.RESOLUTION.width<s.width()&&e.attributes.RESOLUTION.height<s.height()){n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&n.attributes.RESOLUTION.height&&(i=n),o=e;break}}return i||o||r||a[0]},t.Hls.prototype.checkBuffer_=function(){this.checkBufferTimeout_&&(e.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null),this.fillBuffer(),this.drainBuffer(),this.checkBufferTimeout_=e.setTimeout(t.bind(this,this.checkBuffer_),500)},t.Hls.prototype.startCheckingBuffer_=function(){this.player().on("waiting",t.bind(this,this.drainBuffer)),this.checkBuffer_()},t.Hls.prototype.stopCheckingBuffer_=function(){e.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null,this.player().off("waiting",this.drainBuffer)},t.Hls.prototype.fillBuffer=function(e){var n,r,i=this.player(),o=i.buffered(),s=0;(i.hasClass("vjs-has-started")||"none"!==i.options().preload)&&i.currentSrc()&&this.playlists&&(this.segmentXhr_||"HAVE_NOTHING"!==this.playlists.state&&this.playlists.media()&&this.playlists.media().segments&&(this.playlists.media().endList||this.player().hasClass("vjs-has-started"))&&"SWITCHING_MEDIA"!==this.playlists.state&&(n=this.playlists.media().segments[this.mediaIndex])&&(o&&(s=i.buffered().end(0)-i.currentTime()),"number"!=typeof e&&s>=t.Hls.GOAL_BUFFER_LENGTH||(r=this.playlistUriToUrl(n.uri),this.loadSegment(r,e))))},t.Hls.prototype.playlistUriToUrl=function(e){return this.playlists.media().uri===this.src_?s(this.src_,e):s(s(this.src_,this.playlists.media().uri||""),e)},t.Hls.prototype.setBandwidth=function(e){this.segmentXhrTime=e.roundTripTime,this.bandwidth=e.bandwidth,this.bytesReceived+=e.bytesReceived||0,this.trigger("bandwidthupdate")},t.Hls.prototype.loadSegment=function(e,n){var r=this,i=this.player(),o=i.options().hls||{};this.segmentXhr_=t.Hls.xhr({url:e,responseType:"arraybuffer",withCredentials:o.withCredentials},(function(e,t){var o;if(r.segmentXhr_=null,e)return"timeout"===e?(r.bandwidth=1,r.playlists.media(r.selectPlaylist())):(r.error={status:this.status,message:"HLS segment request error at URL: "+t,code:this.status>=500?4:2},void r.mediaIndex++);this.response&&(r.setBandwidth(this),(o={mediaIndex:r.mediaIndex,playlist:r.playlists.media(),offset:n,bytes:null,encryptedBytes:null,decrypter:null}).playlist.segments[o.mediaIndex].key?o.encryptedBytes=new Uint8Array(this.response):o.bytes=new Uint8Array(this.response),r.segmentBuffer_.push(o),i.trigger("progress"),r.drainBuffer(),r.mediaIndex++,r.playlists.media(r.selectPlaylist()))}))},t.Hls.prototype.drainBuffer=function(e){var n,r,i,s,a,l,u,c,d,p,h=0,f=0,v=this.segmentBuffer_;if(v.length&&this.sourceBuffer&&!this.sourceBuffer.updating){if(r=(n=v[0]).mediaIndex,i=n.playlist,s=n.offset,l=n.bytes,(u=i.segments[r]).key&&!l)return o(u.key)?v.shift():u.key.bytes?n.decrypter?void 0:(d=u.key.iv||new Uint32Array([0,0,0,r+i.mediaSequence]),c=new t.Hls.Decrypter(n.encryptedBytes,u.key.bytes=t})),void(n.decrypter=c)):this.fetchKeys_();for(e=e||{},f=this.playlists.expiredPreDiscontinuity_,f+=this.playlists.expiredPostDiscontinuity_,f+=t.Hls.Playlist.duration(i,i.mediaSequence,i.mediaSequence+r),f*=1e3,u.discontinuity?(this.segmentParser_.mediaTimelineOffset=.001*f,this.segmentParser_.timestampOffset=null):null===this.segmentParser_.mediaTimelineOffset&&(this.segmentParser_.mediaTimelineOffset=.001*f),this.segmentParser_.parseSegmentBinaryData(l),this.segmentParser_.flushTags(),a=[];this.segmentParser_.tagsAvailable();)a.push(this.segmentParser_.getNextTag());if(a.length>0&&(u.preciseDuration=.001*t.Hls.FlvTag.durationFromTags(a)),this.updateDuration(this.playlists.media()),"number"==typeof s){for(p=s-f+a[0].pts;a[h].pts<p;)h++;this.el().vjs_setProperty("currentTime",.001*(a[h].pts-a[0].pts+f)),a=a.slice(h),this.lastSeekedTime_=null}u.discontinuity&&a.length&&this.el().vjs_discontinuity(),function(){var e,t,n=0;for(h=0;h<a.length;h++)n+=a[h].bytes.byteLength;for(t=new Uint8Array(n),h=0,e=0;h<a.length;h++)t.set(a[h].bytes,e),e+=a[h].bytes.byteLength;this.sourceBuffer.appendBuffer(t)}.call(this),v.shift(),this.duration()!==1/0&&r+1===i.segments.length&&this.mediaSource.endOfStream()}},t.Hls.prototype.fetchKeys_=function(){var e,n,r,s,a,l;if(!i&&this.segmentBuffer_.length)for(r=this,s=this.player().options().hls||{},l=function(e){return function(t){if(i=null,t||!this.response||16!==this.response.byteLength)return e.retries=e.retries||0,e.retries++,void(this.aborted||r.fetchKeys_());a=new DataView(this.response),e.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),r.checkBuffer_()}},e=0;e<r.segmentBuffer_.length;e++)if((n=r.segmentBuffer_[e].playlist.segments[r.segmentBuffer_[e].mediaIndex].key)&&!n.bytes&&!o(n)){i=t.Hls.xhr({url:this.playlistUriToUrl(n.uri),responseType:"arraybuffer",withCredentials:s.withCredentials},l(n));break}},t.Hls.supportsNativeHls=(u=n.createElement("video"),!!t.Html5.isSupported()&&(a=u.canPlayType("application/x-mpegURL"),l=u.canPlayType("application/vnd.apple.mpegURL"),/probably|maybe/.test(a)||/probably|maybe/.test(l))),t.Hls.isSupporay},t.Hls.canPlaySope)},t.Hls.getPlaylistDuration=function(e,n,r){return t.log.warn("videojs.Hls.getPlaylistDuration is deprecated. Use videojs.Hls.Playlist.duration instead"),t.Hls.Playlist.duration(e,n,r)},t.Hls.getPlaylistTotalDuration=function(e){return t.log.warn("videojs.Hls.getPlaylistTotalDuration is deprecated. Use videojs.Hls.Playlist.duration instead"),t.Hls.Playlist.duration(e)},t.Hls.translateMediaIndex=function(e,n,r){var i;return 0===e?0:r&&r.segments?(i=e+(n.mediaSequence-r.mediaSequence))>r.segments.length||i<0?t.Hls.getMediaIndexForLive_(r)+1:i:0},t.Hls.getMediaIndexByTime=function(e,t){var n,r,i,o;for(i=[],n=0;n<e.segments.length;n++)(o={}).start=0===n?0:i[n-1].end,o.end=o.start+e.segments[n].duration,i.push(o);for(r=0;r<i.length;r++)if(t>=i[r].start&&t<i[r].end)return r;return-1},t.Hls.prototype.getCurrentTimeByMediaIndex_=function(e,t){var n,r=0;if(!e.segments||0===t)return 0;for(n=0;n<t;n++)r+=e.segments[n].duration;return r},t.Hls.comparePlaylistBandwidth=function(t,n){var r,i;return t.attributes&&t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||e.Number.MAX_VALUE,n.attributes&&n.attributes.BANDWIDTH&&(i=n.attributes.BANDWIDTH),r-(i=i||e.Number.MAX_VALUE)},t.Hls.comparePlaylistResolution=function(t,n){var r,i;return t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||e.Number.MAX_VALUE,n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(i=n.attributes.RESOLUTION.width),r===(i=i||e.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?t.attributes.BANDWIDTH-n.attributes.BANDWIDTH:r-i},s=t.Hls.resolv),i}}(window,window.videojs,document),function(e,t){"use strict";var n=function(){this.init=function(){var e={};thi(n)},this-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])for(o=Array.prototype.slice.call(arguments,1),i=n.length,r=0;r<i;++r)n[r].apply(this,o)},this.dis={}}}};n.prototype.}))},e.Hls.Stream=n}(window.videojs),function(e){"use strict";e.videojs=e.videojs||{},e.videojs.Hls=e.videojs.Hls||{};var t=e.videojs.Hls;t.FlvTag=function(e,n){var r,ir))},s=t.FlvTag.widthBytes||new Uint8Array("width".length),a=t.FlvTag.heightBytes||new Uint8Array("height".length),l=t.FlvTag.videocodecidBytes||new Uint8Array("videocodecid".length);if(!t.FlvTag.widthBytes){for(r=0;r<"width".length;r++)s[r]="width".charCodeAt(r);for(r=0;r<"height".length;r++)a[r]="height".charCodeAt(r);for(r=0;r<"videocodecid".length;r++)l[r]="videocodecid".charCodeAt(r);t.FlvTag.widthBytes=s,t.FlvTag.heightBytes=a,t.FlvTag.videocodecidBytes=l}switch(this.keyFrame=!1,e){case t.FlvTag.VIDEO_TAG:this.length=16;break;case t.FlvTag.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case t.FlvTag.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw"Error Unknown TagType"}this.bytes=new Uint8Array(16384),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=n,this.pts=0,this.dts=0,this.writeBon)},this.writeon)},this.writeSon)},this.negI-e]},this.nalUnit+4)},this.startNalgth},this.endNali=0},this.writeMetaDataDo++i},this.writeMetaDataBoo++i},this.finalize=function(){var e,r;switch(this.bytes[0]){case t.FlvTag.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||n?16:32),this.bytes[12]=n?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case t.FlvTag.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=n?0:1;break;case t.FlvTag.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return r=this.length-11,this.bytes[1]=(16711680&r)>>>16,this.bytes[2]=(65280&r)>>>8,this.bytes[3]=(255&r)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=t.FlvTag.frameTime(this.bytes),console.assert(this.bytes.byteLength===this.length),this}},t.FlvTag.AUDIO_TAG=8,t.FlvTag.VIDEO_TAG=9,t.FlvTag.METADATA_TAG=18,t.FlvTag.isAudioFrame=function(e){return t.FlvTag.AUDIO_TAG===e[0]},t.FlvTag.isVideoFrame=function(e){return t.FlvTag.VIDEO_TAG===e[0]},t.FlvTag.isMeta[0]},t.FlvTag.isKeyFrame=function(e){return t.FlvTag.isVideoFrame(e)?23===e[11]:!!t.FlvTag.isAudioFrame(e)||!!t.FlvTag.isMetaData(e)},t.FlvTag.frame<24},t.FlvTag.durationFromTags=function(e){if(e.length<2)return 0;var t,n=e[0],r=e[e.length-1];return t=r.pts-e[e.length-2].pts||1/24,r.pts-n.pts+t}}(window),function(e){"use strict";e.videojs.Hls.ExpGolomb=function(e){var t=e.byteLength,n=0,r=0;this.le8*t},this.bitsAvailt+r},this.load-=s},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=e/8),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return console.assert(e<32,"Cannot read more than 32 bits at a time"),(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?o<<i|this.readBits(i):o},this.skipLeadingZs()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGo())},this.readUnsignedExpGo)-1},this.readExpGo>1)},this.readBoo(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()}}(window),function(e){"use strict";var t,n=e.videojs.Hls.ExpGolomb,r=e.videojs.Hls.FlvTag;e.videojs.Hls.H264ExtraDa=[]},t.prototype.extraDataExh>0},t.prototype.scaling_r:i},t.prototype.getSps0Rbsp=function(){for(var e=this.sps[0],t=1,n=1,r=0,i=e.byteLength-2,o=new Uint8Array(e.byteLength);t<i;)0===e[t]&&0===e[t+1]&&3===e[t+2]&&(o.set(e.subarray(n,t+1),r),r+=t+1-n,n=t+3),t++;return o.set(e.subarray(n),r),o.subarray(0,r+(e.byteLength-n))},t.prototype.metaDataTag=function(e){var t,i,o,s,a,l,u,c,d,p,h,f,v=new r(r.METADATA_TAG),y=0,m=0,g=0,A=0;if(v.dts=e,v.pts=e,i=(t=new n(this.getSps0Rbsp())).readUnsignedByte(),t.skipBits(16),t.skipUnsignedExpGolomb(),(100===i||110===i||122===i||244===i||44===i||83===i||86===i||118===i||128===i)&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(s=3!==o?8:12,a=0;a<s;++a)t.readBoolean()&&(a<6?this.scaling_list(16,t):this.scaling_list(64,t));if(t.skipUnsignedExpGolomb(),0===(l=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),a=0;a<u;++a)t.skipExpGolomb();return t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),0===(p=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(y=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),A=t.readUnsignedExpGolomb()),h=16*(c+1)-2*y-2*m,f=(2-p)*(d+1)*16-2*g-2*A,v.writeMetaDataDouble("videocodecid",7),v.writeMetaDataDouble("width",h),v.writeMetaDataDouble("height",f),v},t.prototype.extraDataTag=function(e){var t,n=new r(r.VIDEO_TAG,!0);for(n.dts=e,n.pts=e,n.writeByte(1),n.writeByte(this.sps[0][1]),n.writeByte(this.sps[0][2]),n.writeByte(this.sps[0][3]),n.writeByte(255),n.writeByte(225),n.writeShort(this.sps[0].length),n.writeBytes(this.sps[0]),n.writeByte(this.pps.length),t=0;t<this.pps.length;++t)n.writeShort(this.pps[t].length),n.writeBytes(this.pps[t]);return n}}(window),function(e){"use strict";var t,n,r=e.videojs.Hls.FlvTag,i=e.videojs.Hls.H264ExtraData;e.videojs.Hls.NALUnitType=n={unspecified:0,slice_layer_without_partitioning_rbsp_non_idr:1,slice_data_partition_a_layer_rbsp:2,slice_data_partition_b_layer_rbsp:3,slice_data_partition_c_layer_rbsp:4,slice_layer_without_partitioning_rbsp_idr:5,sei_rbsp:6,seq_parameter_set_rbsp:7,pic_parameter_set_rbsp:8,access_unit_delimiter_rbsp:9,end_of_seq_rbsp:10,end_of_stream_rbsp:11},e.videojs.Hls.H264Stream=t=function(){this._next_pts=0,this._next_dts=0,this._h264Frame=null,this._oldExtraData=new i,this._newExtraData=new i,this._nalUnitType=-1,this._state=0,this.tags=[]},t.prototype.setTimeStampOffset=function(){},t.prototype.setNextTimeStamp=function(e,t,n){this._next_pts=e,this._next_dts=t,n&&this.finishFrame()},t.prototype.finishFrame=function(){this._h264Frame&&(this._newExtraData.extraDataExists()&&(this._oldExtraData=this._newExtraData,this._newExtraData=new i),this._oldExtraData.extraDataExists()&&(this._h264Frame.keyFrame||0===this.tags.length)&&(this.tags.push(this._oldExtraData.metaDataTag(this._h264Frame.pts)),this.tags.push(this._oldExtraData.extraDataTag(this._h264Frame.pts))),this._h264Frame.endNalUnit(),this.tags.push(this._h264Frame)),this._h264Frame=null,this._nalUnitType=-1,this._state=0},t.prototype.writeBytes=function(e,t,i){var o,s,a,l;if(t=t||0,!((i=i||0)<=0))switch(this._state){default:case 0:this._state=1;case 1:if(e[t]<=1&&(o=this._h264Frame?this._h264Frame.nalUnitSize():0)>=1&&0===this._h264Frame.negIndex(1)){if(1===e[t]&&o>=2&&0===this._h264Frame.negIndex(2))return 3<=o&&0===this._h264Frame.negIndex(3)?this._h264Frame.length-=3:this._h264Frame.length-=2,this._state=3,this.writeBytes(e,t+1,i-1);if(i>1&&0===e[t]&&1===e[t+1])return o>=2&&0===this._h264Frame.negIndex(2)?this._h264Frame.length-=2:this._h264Frame.length-=1,this._state=3,this.writeBytes(e,t+2,i-2);if(i>2&&0===e[t]&&0===e[t+1]&&1===e[t+2])return this._state=3,this.writeBytes(e,t+3,i-3)}this._state=2;case 2:for(l=(a=(s=t)+i)-3;t<l;)if(e[t+2]>1)t+=3;else if(0!==e[t+1])t+=2;else if(0!==e[t])t+=1;else{if(1===e[t+2])return t>s&&this._h264Frame.writeBytes(e,s,t-s),this._state=3,t+=3,this.writeBytes(e,t,a-t);if(a-t>=4&&0===e[t+2]&&1===e[t+3])return t>s&&this._h264Frame.writeBytes(e,s,t-s),this._state=3,t+=4,this.writeBytes(e,t,a-t);t+=3}return this._state=1,void(this._h264Frame&&this._h264Frame.writeBytes(e,s,i));case 3:if(this._h264Frame)switch(this._nalUnitType){case n.seq_parameter_set_rbsp:this._h264Frame.endNalUnit(this._newExtraData.sps);break;case n.pic_parameter_set_rbsp:this._h264Frame.endNalUnit(this._newExtraData.pps);break;case n.slice_layer_without_partitioning_rbsp_idr:default:this._h264Frame.endNalUnit()}return this._nalUnitType=31&e[t],this._h264Frame&&(this._nalUnitType===n.access_unit_delimiter_rbsp?this.finishFrame():this._nalUnitType===n.slice_layer_without_partitioning_rbsp_idr&&(this._h264Frame.keyFrame=!0)),this._h264Frame||(this._h264Frame=new r(r.VIDEO_TAG),this._h264Frame.pts=this._next_pts,this._h264Frame.dts=this._next_dts),this._h264Frame.startNalUnit(),this._state=2,this.writeBytes(e,t,i)}}}(window),function(e){"use strict";var t=e.videojs.Hls.FlvTag,n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3];e.videojs.Hls.AacStream=function(){var e,r,i,o,s,a,l,u,c,d,p,h,f;this.tags=[],this.setTimeStampOf1e3},this.setNextTimeStamp=function(t,n,o){e=t,i=n,o&&(r=0)},this.writeBytes=function(v,y,m){var g,A,b;for(i-=m=i<(m=m||0)?i:m,g=(y=y||0)+m;y<g;)switch(r){default:r=0;break;case 0:if(y>=g)return;if(255!==v[y])return console.assert(!1,"Error no ATDS header found"),y+=1,void(r=0);y+=1,r=1;break;case 1:if(y>=g)return;if(240!=(240&v[y]))return console.assert(!1,"Error no ATDS header found"),y+=1,void(r=0);s=!!(1&v[y]),y+=1,r=2;break;case 2:if(y>=g)return;a=1+((192&v[y])>>>6),l=(60&v[y])>>>2,u=(1&v[y])<<2,y+=1,r=3;break;case 3:if(y>=g)return;u|=(192&v[y])>>>6,c=(3&v[y])<<11,y+=1,r=4;break;case 4:if(y>=g)return;c|=v[y]<<3,y+=1,r=5;break;case 5:if(y>=g)return;c|=(224&v[y])>>>5,c-=s?7:9,y+=1,r=6;break;case 6:if(y>=g)return;d=1024*(1+(3&v[y])),p=1e3*d/n[l],((A=a<<11|l<<7|u<<3)!==f||e-o>=1e3)&&((h=new t(t.METADATA_TAG)).pts=e,h.dts=e,h.writeMetaDataDouble("audiocodecid",10),h.writeMetaDataBoolean("stereo",2===u),h.writeMetaDataDouble("audiosamplerate",n[l]),h.writeMetaDataDouble("audiosamplesize",16),this.tags.push(h),f=A,(h=new t(t.AUDIO_TAG,!0)).pts=e,h.dts=h.pts,h.view.setUint16(h.position,A),h.position+=2,h.length=Math.max(h.length,h.position),this.tags.push(h),o=e),y+=1,r=7;break;case 7:if(!s){if(2>g-y)return;y+=2}(h=new t(t.AUDIO_TAG)).pts=e,h.dts=e,r=8;break;case 8:for(;c;){if(y>=g)return;b=g-y<c?g-y:c,h.writeBytes(v,y,b),y+=b,c-=b}this.tags.push(h),r=0,e+=p}}}}(window),function(e,t,n){"use strict";varn r))},s={TXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=o(e.data,1,t),e.value=o(e.data,t+1,e.data.length-1);break}},ak}},PRIV:function(t){var n,r,o,s;for(n=0;n<t.data.length;n++)if(0===t.data[n]){t.owner=(r=t.data,o=0,s=n,e.unescape(i(r,o,s)));break}t.privateData=t.data.subarray(n+1)}};(r=function(e){var n,i={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},o=0,a=[],l=0;if(r.prototype.init.call(this),this.dispatchType=t.Hls.SegmentParser.STREAM_TYPES.metadata.toString(16),i.descriptor)for(n=0;n<i.descriptor.length;n++)this.dispatchType+=("00"+i.descriptor[n].toString(16)).slice(-2);this.push=function(e){var n,r,u,c,d;if(0===a.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))i.debug&&t.log("Skipping unrecognized metadata packet");else if(a.push(e),l+=e.data.byteLength,1===a.length&&(o=e.data[6]<<21|e.data[7]<<14|e.data[8]<<7|e.data[9],o+=10),!(l<o)){for(n={data:new Uint8Array(o),frames:[],pts:a[0].pts,dts:a[0].dts},d=0;d<o;)n.data.set(a[0].data,d),d+=a[0].data.byteLength,l-=a[0].data.byteLength,a.shift();r=10,64&n.data[5]&&(r+=4,r+=n.data[10]<<24|n.data[11]<<16|n.data[12]<<8|n.data[13],o-=n.data[16]<<24|n.data[17]<<16|n.data[18]<<8|n.data[19]);do{if((u=n.data[r+4]<<24|n.data[r+5]<<16|n.data[r+6]<<8|n.data[r+7])<1)return t.log("Malformed ID3 frame encountered. Skipping metadata parsing.");c={id:String.fromCharCode(n.data[r],n.data[r+1],n.data[r+2],n.data[r+3]),data:n.data.subarray(r+10,r+u+10)},s[c.id]&&s[c.id](c),n.frames.push(c),r+=10,r+=u}while(r<o);this.trigger("data",n)}}}).prototype=new t.Hls.Stream,t.Hls.MetadataStream=r}(window,window.videojs),function(e){"use strict";var t,n,r=e.videojs,i=r.Hls.FlvTag,o=r.Hls.H264Stream,s=r.Hls.AacStream,a=r.Hls.MetadataStream;r.Hls.SegmentParser=function(){var e,l=this,u=new Uint8Array(t),c=0,d=new o,p=new s;l.stream={programMapTable:{}},l.metadataStream=new a,this.mediaTimelineOffset=null,l.timestampOffset=null,l.getFlvHe,o)},l.flushTags=function(){d.finishFrame()},l.tagsAvailgth},l.getNextTag=function(){return(d.tags.length?p.tags.length&&p.tags[0].dts<d.tags[0].dts?p.tags.shift():d.tags.shift():p.tags.shift()).finalize()},l.parseSegmentBinaryData=function(n){var i,o=0;if(c>0){if(n.byteLength+c<t)return r.log("data.length + streamBuffer.length < MP2T_PACKET_LENGTH ??"),void u.readBytes(n,n.length,u.length);i=n.subarray(0,t-c),u.set(i,c),e(u),u=new Uint8Array(t),c=0}for(;;){for(;o<n.byteLength&&71!==n[o];)o++;if(n.byteLength-o<t)return void(n.byteLength-o>0&&(u.set(n.subarray(o),c),c+=n.byteLength-o));e(n.subarray(o,o+t))?o+=t:(r.log("error parsing m2ts packet, attempting to re-align"),o++)}},e=function(e){var i,o,s,a,u,c,h,f,v,y,m,g,A,b,w,j,T=0,E=T+t,C=!!(64&e[T+1]),_=(31&e[T+1])<<8|e[T+2],S=(48&e[T+3])>>>4;if(T+=4,S>1&&(T+=e[T]+1),0===_){if(C&&(T+=1+e[T]),0!==(i=e[T])&&r.log("the table_id of the PAT should be 0x00 but was"+i.toString(16)),!!(1&e[T+5]))for(o=(15&e[T+1])<<8|e[T+2],u=(T+=8)+(o-5-4);T<u;T+=4)if(s=e[T]<<8|e[T+1],a=(31&e[T+2])<<8|e[T+3],0===s)l.stream.networkPid=a;else if(void 0===l.stream.pmtPid)l.stream.pmtPid=a;else if(l.stream.pmtPid!==a)throw new Error("TS has more that 1 program")}else if(_===l.stream.programMapTable[n.h264]||_===l.stream.programMapTable[n.adts]||_===l.stream.programMapTable[n.metadata]){if(C){if(0!==e[T+0]||0!==e[T+1]||1!==e[T+2])throw new Error("PES did not begin with start code");c=e[T+4]<<8|e[T+5],h=0!=(4&e[T+6]),f=e[T+7],v=e[T+8],T+=9,192&f&&(y=(14&e[T+0])<<28|(255&e[T+1])<<21|(254&e[T+2])<<13|(255&e[T+3])<<6|(254&e[T+4])>>>2,m=y/=45,64&f&&(m=(14&e[T+5])<<28|(255&e[T+6])<<21|(254&e[T+7])<<13|(255&e[T+8])<<6|(254&e[T+9])>>>2,m/=45)),T+=v,null===l.timestampOffset&&(l.timestampOffset=y),_===l.stream.programMapTable[n.h264]?d.setNextTimeStamp(y,m,h):_===l.stream.programMapTable[n.adts]&&p.setNextTimeStamp(y,c,h)}_===l.stream.programMapTable[n.adts]?p.writeBytes(e,T,E-T):_===l.stream.programMapTable[n.h264]?d.writeBytes(e,T,E-T):_===l.stream.programMapTable[n.metadata]&&l.metadataStream.push({pts:y,dts:m,data:e.subarray(T)})}else if(l.stream.pmtPid===_){if(C&&(T+=1+e[T]),2!==e[T]&&r.log("The table_id of a PMT should be 0x02 but was "+e[T].toString(16)),!!(1&e[T+5]))for(l.stream.programMapTable={},A=(15&e[T+1])<<8|e[T+2],A-=g=(15&e[T+10])<<8|e[T+11],A-=13,l.stream.programMapTable.pcrPid=(31&e[T+8])<<8|e[T+9],T+=12+g;0<A;){if(b=e[T+0],w=(31&e[T+1])<<8|e[T+2],b===n.h264&&l.stream.programMapTable[b]&&l.stream.programMapTable[b]!==w)throw new Error("Program has more than 1 video stream");if(b===n.adts&&l.stream.programMapTable[b]&&l.stream.programMapTable[b]!==w)throw new Error("Program has more than 1 audio Stream");l.stream.programMapTable[b]=w,j=(15&e[T+3])<<8|e[T+4],b===n.metadata&&(l.metadataStream.descriptor=new Uint8Array(e.subarray(T+5,T+5+j))),T+=5+j,A-=5+j}}else l.stream.networkPid===_||17===_||8191===_||l.stream.programMapTable.pcrPid||r.log("Unknown PID parsing TS packet: "+_);return!0},l.getTags=function(){return d.tags},l.stats={h264Tags:function(){return d.tags.length},aacTags:function(){return p.tags.length}}},r.Hls.SegmentParser.MP2T_PACKET_LENGTH=t=188,r.Hls.SegmentParser.STREAM_TYPES=n={h264:27,adts:15,metadata:21}}(window),function(e,t,n,r,i){"use strict";var o,s,a,l=function(){},u=new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'),c=function(e){for(var t,n=e.split(u),r=n.length,i={};r--;)""!==n[r]&&((t=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),i[t[0]]=t[1]);return i},d=e.Hls.Stream;(o=function(){var e="";o.prototype.init.call(this),this.push=function(t){var n;for(n=(e+=t).indexOf("\n");n>-1;n=e.indexOf("\n"))this.trigger("data",e.substring(0,n)),e=e.substring(n+1)}}).prototype=new is)}).prototype=new d,s.prototype.push=function(e){var n,r;if(0!==(e=e.replace(/^\s+|\s+$/g,"")).length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),n=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(n=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),void this.trigger("data",r);if(n=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=t(n[1],10)),void this.trigger("data",r);if(n=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"totalduration"},n[1]&&(r.duration=t(n[1],10)),void this.trigger("data",r);if(n=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"version"},n[1]&&(r.version=t(n[1],10)),void this.trigger("data",r);if(n=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=t(n[1],10)),void this.trigger("data",r);if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=t(n[1],10)),void this.trigger("data",r);if(n=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),void this.trigger("data",r);if(n=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"byterange"},n[1]&&(r.length=t(n[1],10)),n[2]&&(r.offset=t(n[2],10)),void this.trigger("data",r);if(n=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),void this.trigger("data",r);if(n=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))return r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=c(n[1]),r.attributes.RESOLUTION&&(i=r.attributes.RESOLUTION.split("x"),o={},i[0]&&(o.width=t(i[0],10)),i[1]&&(o.height=t(i[1],10)),r.attributes.RESOLUTION=o),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=t(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=t(r.attributes["PROGRAM-ID"],10))),void this.trigger("data",r);var i,o;if(n=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(n=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(n=/^#EXT-X-KEY:?(.*)$/.exec(e))return r={type:"tag",tagType:"key"},n[1]&&(r.attributes=c(n[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2)&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=t(r.attributes.IV[0],16),r.attributes.IV[1]=t(r.attributes.IV[1],16),r.attributes.IV[2]=t(r.attributes.IV[2],16),r.attributes.IV[3]=t(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void this.trigger("data",r);this.trigger("data",{type:"tag",data:e.slice(4,e.length)})}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})},(a=function(){var e,t=this,i=[],u={};a.prototype.init.call(this),this.lineStream=new o,this.parseStream=new s,this.lineStream.pipe(this.parseStream),this.manifest={allowCache:!0},this.parseStream.on("data",(function(o){({tag:function(){({"allow-ca!0)},byteret)},end=!0}s=i}"})},"media-sequence":function(){n(o.number)?this.manifest.mediaSequence=o.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+o.number})},"discontinuity-sequer})},"playlist-tt})},"stream-inf":function(){this.manifest.playlists=i,o.attributes?(u.attributes||(u.attributes={}),u.attributes=r(u.attributes,o.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},discontinuity:function(){u.discontinuity=!0},targetduration:function(){!n(o.duration)||o.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+o.duration}):this.manifest.targetDuration=o.duration},totalduraion}}[o.tagType]||l).call(t)},uri:function(){u.uri=o.uri,i.push(u),this.manifest.targetDuration&&!("duration"in u)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),e&&(u.key=e),u={}},comment:function(){}})[o.type].call(t)}))}).prototype=new d,a.prototype.push=function(e){this.lineStream.push(e)},a.prototype.end=function(){this.lineStream.push("\n")},window.videojs.m3u8={LineStream:o,ParseStream:s,Parser:a}}(window.videojs,window.parseInt,window.isFinite,window.videojs.util.mergeOptions),function(e){"use strict";e.Hls.xhr=function(t,n){var i,o,s={method:"GET",timeout:45e3};return"function"!=typeof n&&(n=function(){}),"object"===(void 0===t?"undefined":r(t))&&(s=e.util.mergeOptions(s,t),t=s.url),(i=new window.XMLHttpRequest).open(s.method,t),i.url=t,i.requestTime=(new Date).getTime(),s.responseType&&(i.responseType=s.responseType),s.withCredentials&&(i.withCredentials=!0),s.timeout&&(o=window.setTimeout((function(){4!==i.readyState&&(i.timedout=!0,i.abort())}),s.timeout)),i.onreadystatechange=function(){if(4===this.readyState)return window.clearTimeout(o),i.timedout?n.call(this,"timeout",t):this.status>=400||0===this.status?n.call(this,!0,t):(this.response&&(this.responseTime=(new Date).getTime(),this.roundTripTime=this.responseTime-this.requestTime,this.bytesReceived=this.response.byteLength||this.response.length,this.bandwidth=Math.floor(this.bytesReceived/this.roundTripTime*8*1e3)),n.call(this,!1,t))},i.send(null),i}}(window.videojs),function(e,t){"use strict";var n,r,i;i=function(e,t,n){var r,i,o,s,a=0;for(i=t=t||0,n=void 0!==n?n:(e.segments||[]).length,r=e.targetDuration||10,a+=(s=Math.max(e.mediaSequence-t,0))*r,i+=s;i<n;i++)a+=(o=e.segments[i-e.mediaSequence]).preciseDuration||o.duration||r;return a},n=function(t,n,r){if(!t)return 0;if(void 0===n&&void 0===r){if(t.totalDuration)return t.totalDuration;if(!t.endList)return e.Infinity}return i(t,n,r)},r=function(e){var r,o,s,a,l,u,c;if(!e.segments)return t.createTimeRange();if(e.endList)return t.createTimeRange(0,n(e));if(o=(r=i(e,0,e.mediaSequence))+i(e,e.mediaSequence,e.mediaSequence+e.segments.length),a=e.targetDuration||10,!e.endList)for(s=3*a,c=e.segments.length-1;c>=0&&s>0;c--)l=e.segments[c],s-=u=Math.min(l.preciseDuration||l.duration||a,s),o-=u;return t.createTimeRange(r,o)},t.Hls.Playlist={duration:n,seekable:r}}(window,window.videojs),function(e,t){"use strict";var n=t.Hls.resolveUrl,r=t.Hls.xhr,i=t.Hls.Playlist,o=function i(o,s){var a,l,u,c,d=this;if(i.prototype.init.call(this),!o)throw new Error("A non-empty playlist URL is required");c=function(n,r,i){var o,s,a;if(d.setBandwidth(u||r),u=null,n)return d.error={status:r.status,message:"HLS playlist request error at URL: "+i,responseText:r.responseText,code:r.status>=500?4:2},d.trigger("error");d.state="HAVE_METADATA",(o=new t.m3u8.Parser).push(r.responseText),o.end(),o.manifest.uri=i,a=function(e,n){var r,i,o=!1,s=t.util.mergeOptions(e,{});for(r=e.playlists.length;r--;)if((i=s.playlists[r]).uri===n.uri){if(i.segments&&n.segments&&i.segments.length===n.segments.length&&i.mediaSequence===n.mediaSequence)continue;s.playlists[r]=t.util.mergeOptions(i,n),s.playlists[n.uri]=s.playlists[r],o=!0}return o?s:null}(d.master,o.manifest),s=1e3*(o.manifest.targetDuration||10),a?(d.master=a,d.updateMediaPlaylist_(o.manifest)):s/=2,d.media().endList||(e.clearTimeout(l),l=e.setTimeout((function(){d.trigger("mediaupdatetimeout")}),s)),d.trigger("loadedplaylist")},d.state="HAVE_NOTHING",d.expiredPostDiscontinuity_=0,d.expiredPreDiscontinuity_=0,a=this.dispose,d.disis)},d.media=function(e){var t;if(!e)return d.media_;if("HAVE_NOTHING"===d.state||"HAVE_MASTER"===d.state)throw new Error("Cannot switch media playlist from "+d.state);if("string"==typeof e){if(!d.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=d.master.playlists[e]}if(t=e.uri!==d.media_.uri,d.master.playlists[e.uri].endList)return u&&(u.onreadystatechange=null,u.abort(),u=null),d.state="HAVE_METADATA",d.media_=e,void(t&&d.trigger("mediachange"));if(t){if(d.state="SWITCHING_MEDIA",u){if(n(d.master.uri,e.uri)===u.url)return;u.onreadystatechange=null,u.abort(),u=null}u=r({url:n(d.master.uri,e.uri),withCredentials:s},(function(t){c(t,this,e.uri),d.trigger("mediachange")}))}},d.setBandwdth},d.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===d.state&&(d.state="HAVE_CURRENT_METADATA",u=r({url:n(d.master.uri,d.media().uri),withCredentials:s},(function(e){c(e,this,d.media().uri)})))})),r({url:o,withCredentials:s},(function(i){var a,l;if(i)return d.error={status:this.status,message:"HLS playlist request error at URL: "+o,responseText:this.responseText,code:2},d.trigger("error");if((a=new t.m3u8.Parser).push(this.responseText),a.end(),d.state="HAVE_MASTER",a.manifest.uri=o,a.manifest.playlists){for(d.master=a.manifest,l=d.master.playlists.length;l--;)d.master.playlists[d.master.playlists[l].uri]=d.master.playlists[l];return u=r({url:n(o,a.manifest.playlists[0].uri),withCredentials:s},(function(e){c(e,this,a.manifest.playlists[0].uri),e||d.trigger("loadedmetadata")})),d.trigger("loadedplaylist")}return d.master={uri:e.location.href,playlists:[{uri:o}]},d.master.playlists[o]=d.master.playlists[0],c(null,this,o),d.trigger("loadedmetadata")}))};(o.prototype=new t.Hls.Stream).updateMediaPlaylist_=function(e){var t,n,r;if(this.media_){if(n=e.mediaSequence-this.media_.mediaSequence,t=this.media_.mediaSequence,this.media_.discontinuitySequence!==e.discontinuitySequence)for(r=n;r--;)if(this.media_.segments[r].discontinuity){t=r+this.media_.mediaSequence,this.expiredPreDiscontinuity_+=this.expiredPostDiscontinuity_,this.expiredPostDiscontinuity_=0;break}this.expiredPreDiscontinuity_+=i.duration(this.media_,this.media_.mediaSequence,t),this.expiredPostDiscontinuity_+=i.duration(this.media_,t,this.media_.mediaSequence+n)}this.media_=this.master.playlists[e.uri]},t.Hls.PlaylistLoader=o}(window,window.videojs),function e(t,n,r){"use strrts}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}{})},{"./unpad":2}])}},{}]},{},[1]),function(e,t,n){"use strict";var r,i,o,s>24},(r=function(e){this._precompute();var t,n,r,i,o,s=this._tables[0][4],a=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(i=e.slice(0),o=[],this._key=[i,o],t=l;t<4*l+28;t++)r=i[t-1],(t%l==0||8===l&&t%l==4)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],t%l==0&&(r=r<<8^r>>>24^u<<24,u=u<<1^283*(u>>7))),i[t]=i[t-l]^r;for(n=0;t;n++,t--)r=i[3&n?t:t-4],o[n]=t<=4||n<4?r:a[0][s[r>>>24]]^a[1][s[r>>16&255]]^a[2][s[r>>8&255]]^a[3][s[255&r]]}).prototype={_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precom(0)},decf=sn y}ull}).prototype=new t.Hls.Stream).processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(t.bind(this,this.processJob_),this.delay):this.timeout_=null},i.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(t.bind(this,this.processJob_),this.delay))}))}).prototype=new t.Hls.Stream,o.prototype.decryptCht)}},o.STEP=32e3,t.Hls.decrypt=s,t.Hls.Decrypter=o,t.Hls.AsyncStream=i}(window,window.videojs,window.pkcs7.unp39)},function(e,t,n){var r=n(1),i=n(0),o=n(4);videojs.plugin("player-events",(function(){var e=this,t=e.el(),n=i.debounce((function(){e.trigger("resize")}),5n e},a=function(t){var n="player"in t?t.player:{},r=s(n),i=-1;l.molFeVideoplayer.forEachPlayer((function(){var t=s(this)?this.flyoutState():-1;this!==n&&(this.trigger("autoplay-next-video-cancel"),-1!==t&&(i=t),r&&this.trigger({type:"flyout-switchoff",animationOff:!0}),(!this.paused()||e._states&&"adPlaying"===e._states.state.get())&&this.pause())})),r&&-1!==i&&n.trigger({type:"flyout-switchon",animationOff:!0}),r&&1===i&&n.trigger("flyout-expand")};window.onresize=n,e.on("fullscreenchange",n),e.on("fullscreenchann")})),e.re10)}));var l=window.DM;if(l&&l.molFeVideoplayer&&l.molFeVideoplayer.on&&(l.molFeVideoplayer.on("videoPlaying",a),l.molFeVideoplayer.on("pauseAll",a)),["play"].forEach((function(t){e.oe})}))})),o.isIPhone&&o.osMajorVersion<=7){var u=!1,c=void 0;e.on("contenttimeupdate",(function(){var t=e.currentTime();void 0!==c&&(Math.abs(c-t)>1.2?(e.trigger("seeking"),u=!0):u&&(e.trigger("seeked"),u=!1)),c=t})),e.on("playerstate.enter.contentReady",(function(){c=void 0})),e.on("playerstate.leave.seekid 0}))}if(o.isIPhone){var d=i.debounce((function(){e.trigger("play-after-seek")}),800);e.on("seeking",(function(){e.paused()||d()})),e.on("seekd()}))}e.on("seeked",e.onWaitEnd),e.on("playerstate.leave.errored",(function(){e.removeChild("errorDisplay")})),e.on("warnige)})),e.on("request-dispose",(function(){r.removeEventListener(window,"resize",n),e.pause(),l.molFeVideoplayer.off("videoPlaying",a),setTimeout((function(){e.dispose()}),400)}))}))},function(e,t,n){var r=n(40),i=n(10),o=n(1);videojs.plugin("player-state",(function(){var e=this,t=e.el().querySelector(".vjs-tech");!document.addEventListener&&o.addClass(document.body,"vjs-ie8");var n=new r(e,{"timer:waitingLoading":[{)>0},to:"contentReady",timer:"startPlaying",timer_time:1400}],"timer:resumeAfterSeek":[{from:"resumeAfterSeek",to:"contentPlaying"}],"videoAd.contentPauseRequested":[{from:"started",to:"adsWaiting"},{from:"contentWaiting",to:"adsWaiting"}],"videoAd.start":[{from:"adsWaiting",to:"adPlaying"}],"videoAd.complete":[{from:"adPlaying",to:"adEnded"}],"videoAd.contentResumeRequested":[{(e)},to:"contentWaiting",timer:"waitingLoading",timer_interval:10},{(e)},to:"adAborted",timer:"adAborted",timer_time:10}],"timer:adAborted":[{from:"adAborted",to:"contentWaiting",timer:"waitingLoading",timer_interval:10}],"timer:startPlaying":[{from:"contentReady",to:"contentPlaying"}],"timer:end":[{from:function(t){return"ended"===t&&(!(e.options().plugins||{})["autoplay-next-video"]||(i.defer((function(){e.trigger("mol.autoplay-start")})),!1))},to:"standby"}],"timer:error":[{from:"errored",to:"ended",timer:"end",timer_time:600}],"timer:pause":[{from:"contentPaused",to:"pauseStandby"}],"timer:replay":[{from:"started",to:"contentWaiting",timer:"waitingLoading",timer_interval:10}],"timer:seeking_to_ended":[{from:"contentPlaying",to:"ended",timer:"end",timer_time:600}],"timer:stop_seeking":[{from:"seeking",to:"contentPlaying"}],ended:[{from:"contentPlaying",to:"ended",timer:"end",timer_time:600},{from:"seeking",to:"contentPlaying",timer:"seeking_to_ended",timer_time:100},{from:"resumeAfterSeek",to:"contentPlaying",timer:"seeking_to_ended",timer_time:100}],error:[{from:function(e){return"adsWaiting"!==e&&"adPlaying"!==e&&Boolean(t.error)},to:"errored",timer:"error",timer_time:3e3}],pause:[{from:function(e){var t=this.currentTime()/this.duration();return("contentReady"===e||"contentPlaying"===e||"resumeAfterSeek"===e)&&(!this.duration()||t<.98)},to:"contentPaused",timer:"pause",timer_time:200},{from:function(e){var t=this.currentTime()/this.duration();return"adPlaying"===e&&t<.98},to:"adPaused"},{from:"autoplay",to:"standby"}],play:[{from:"ready",to:"started"},{from:"ended",to:"started"},{from:"standby",to:"started"},{from:"pauseStandby",to:"contentPlaying"},{from:"adPaused",to:"adPlaying"},{from:"contentPaused",to:"contentPlaying"},{from:"seeking",to:"resumeAfterSeek",timer:"resumeAfterSeek",timer_time:1e3},{from:"autoplay",to:"standby"}],"play-after-seek":[{from:"seeking",to:"contentPlaying"}],"before-seeking, seeking":[{from:"contentReady",to:"contentPlaying"},{from:"contentPlaying",to:"seeking",timer:"stop_seeking",timer_time:3e3},{from:"contentPaused",to:"seeking",timer:"stop_seeking",timer_time:3e3},{from:"seeking",to:"seeking",timer:"stop_seeking",timer_time:3e3}],seeked:[{from:"contentReady",to:"contentPlaying"},{from:"changingSrc",to:"contentPlaying"}],"mol.sources.renditionChanging":[{from:"contentPlaying",to:"changingSrc"}],"request-dispose":[{from:"adPlaying",to:"destroyedDuringAds"},{from:/.*/,to:"destroyed"}],"request-reset":[{from:"contentPlaying",to:"aborting"},{from:"pauseStandby",to:"aborting"}],"autoplay-next-video-cancel, autoplay-inline-cancel":[{from:"autoplay",to:"standby"}],"autoplay-next-video-restart, autoplay-inline-restart":[{from:"standby",to:"autoplay"}],"flyout-close":[{from:"autoplay",to:"standby"}],"mol.autoplay-start":[{from:"ended",to:"autoplay"}],reset:[{from:/.*/,to:"started"}]},{onTransition:function(t,n,r){e.log("### STATE:",t,"->",r,"->",n,"("+Date.now()+")")}}),s=function(e,t){var n=100*e;return function(r){var i=void 0,o=parseInt(r,10);return!isNaN(o)&&n>o&&(0!==this.duration()&&((i=this.currentTime()/this.duration())>=e&&i<t))}},a=new r(e,{"playerstate.enter.contentPlaying":[{from:"ready",to:"0"}],"timeupdate,contenttimeupdate":[{from:s(.25,1),to:"25"},{from:s(.5,1),to:"50"}],"playerstate.enter.seeking":[{from:"0",to:"seeking-0"},{from:"25",to:"seeking-25"},{from:"50",to:"seeking-50"}],"playerstate.leave.seeking":[{from:"seeking-0",to:"0-resumed"},{from:"seeking-25",to:"25-resumed"},{from:"seeking-50",to:"50-resumed"}],"playerstate.enter.ended":[{from:/^0.*/,to:"25",timer:"from25toend"},{from:/^25.*/,to:"50",timer:"from50toend"},{from:/^50.*/,to:"ready"}],"timer:from25toend":[{from:"25",to:"50",timer:"from50toend"}],"timer:from50toend":[{from:"50",to:"ready"}],reset:[{from:/.*/,to:"ready"}]},{onTransi,n)}});n.on((function(t){null!==e.el()&&e.trigger("playerstate."+t.type+"."+t.state)})),a.on((function(t){null!==e.el()&&e.trigger("playerstate.progress."+t.type+"."+t.state)})),n.on("destroyedDuringAds",(function(){null!==e.el()&&(n.destroy(),a.destroy())})),n.on("destroy())})),e._states={state:n,progress:a},e.playerState={getStatet()}}}))},function(e,t,n){"use strict";var r=n(19),i=r.isString,o=r.setImmediate,s=ne.exports=function(e,t,n){var r,i,a,p,h,f,v=(n=n||{}).initialState||"ready",y=n.onTransition||function(){},m=[],g=n.bindMethod||"on",A=n.unbindMethod||"n})}l(v),"function"==typeof e[g]&&(e={default:e});if(e.timer)throw new Error(e+" the word 'timer' in the subjects map is reserved");e.timer=s(g,A);var w={};for(var j in t){p=j.split(/[\s,]+/);for(var T=0;T<p.length;T++)a=p[T],(h=a.split(":")).length<2&&h.unshift("default"),f=e[h[0k}}}(a,t[j],f),m.push([h[1],i]),f[g](h[1],i)}return{get:function(){return v}v=e[t]},des,n)r=i},function(e,t,n){var r=n(46),i=n(47),o=n(48),s=n(50),a=n(62),l=n(63),u=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new videojs.ProgressControl(e)),this.addChild(new a(e)),this.addChild(new videojs.PlayToggle(e)),this.addChild(new l(e)),this.addChild(new i(e)),this.addChild(new videojs.VolumeMenuButton(e,{volumeBar:{vertical:!0}})),this.addChild(new r(e)),this.addChild(new videojs.FullscreenToggle(e)),this.addChild(new o(e)),t.isSocialControlsHidden||this.addChild(new s(e));try{e.volume(.7),e.options().muted&&e.muted(!0)}catch(e){console.log("Failing to set volume",e.message)}e.on("ended",this.onVideoEnded),e.on("play",this.onVideoStart)}});u.prototype.options_={loadEvent:"play"},u.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-control-bar"})},u.prototype.onVideoEnded=function(){this.addClass("vjs-video-finished")},u.prototype.onVideoStart=function(){this.removeClass("vjs-video-finished")},e.exports=u},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new videojs.CurrentTimeDisplay(e)),this.addChild(new videojs.TimeDivider(e)),this.addChild(new videojs.DurationDisplay(e))}});n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-timer-controls vjs-control"})},e.exports=n},function(e,t){var n=videojs.Component.extend();n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"streaming-label vjs-control",innerHTML:"LIVE"})},e.exports=n},function(e,t,n){var r=n(0),i=n(1),o=n(49),s=videojs.MenuButton.extend({init:function(e,t){videojs.MenuButton.call(this,e,t);var n=this;function r(){n.items.length<=1?n.hide():n.show()}function i(){var t=e.src();n.items&&n.items.forEach((function(e){e.selected(function(e,t){var n,r=void 0;for(r=0,n=e.renditions.length;r<n;r+=1)if(e.renditions[r].src===t)return!0;return!1}(e,t))}))}r(),e.on("mol.sources.updated",(function(){n.removeChild(n.menu),n.menu=n.createMenu(),n.addChild(n.menu),i(),r()})),e.on("mol.sources.renditionChanged",i)}});s.prototype.createEl=function(){return videojs.Button.prototype.createEl.call(this,"div",{className:"vjs-video-quality-control vjs-control"})},s.prototype.options_={title:"Video Quality"},s.prototype.createItems=function(){var e,t=this.player().renditions;return r.isArray(t)?function(e,t){var n={},r=[];return t.forEach((function(t){var i=t.height,s=n[i];s||(s=function(e,t){return new o(e,{width:t.width,height:t.height,renditions:[]})}(e,t),n[i]=s,r.push(s)),s.addRendition(t)})),r}(this.player(),t.slice().sort((e="hei1:0}))):[]},s.prototype.onClick=function(){var e=videojs.bind(this,(function(t){var n=Boolean(t.toElement)?t.toElement:t.relatedTarget;n===this.el()||i.isDescendant(this.el(),n)||(this.unpressButton(),i.removeEventListener(this.el(),"mouseout",e))}));i.addEventListener(this.el(),"mouseout",e),this.buttonPressed_?this.unpressButton():this.pressButton()},s.prototype.createMenu=function(){var e=new videojs.Menu(this.player(),{contentElType:"div"});return this.options().title&&e.contentEl().appendChild(videojs.createEl("div",{className:"vjs-menu-title",innerHTML:r.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items&&this.items.forEach((function(t){e.addItem(t)})),e},s.prototype.pressButton=function(){videojs.MenuButton.prototype.pressButton.call(this),i.addClass(this.el(),"active")},s.prototype.unpressButton=function(){videojs.MenuButton.prototype.unpressButton.call(this),i.removeClass(this.el(),"active")},e.exports=s},function(e,t){var n=videojs.MenuItem.extend({init:function(e,t){videojs.MenuItem.call(this,e,t),this.width=t.width,this.height=t.height,this.renditions=t.renditions||[]}});n.prototype.createEl=function(e,t){var n=this.options_.height+"p";return videojs.Button.prototype.createEl.call(this,"div",videojs.obj.merge({className:"vjs-menu-item",innerHTML:n},t))},n.prototype.onCns)},n.prototype.addRendi(e)},e.exports=n},function(e,t,n){var r=n(2).FacebookButton,i=n(2).TwitterButton,o=n(2).MailButton,s=n(20),a=n(56),l=n(59),u=videojs.Component.extend({init:function(e){videojs.Component.call(this,e),this.addChild(new l(e)),this.addChild(new a(e)),this.addChild(new s(e)),this.addChild(new o(e)),this.addChild(new i(e)),this.addChild(new r(e))}});u.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-social-controls vjs-control"})},e.exports=u},function(e,t,n){var r=n(12),i=n(53),o=r.extend({init:function(e,t){r.call(this,e,t),this.addChild(new i(e))}});o.prototype.name=function(){return"SharePopup"},o.prototype.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-social-popup"})},e.exports=o},function(e,t){var n=videojs.Button.extend();n.prototype.onClick=function(){this.player_.trigger("CloseButton.pressed")},n.prototype.name=function(){return"CloseButton"},n.prototype.createEl=function(){return videojs.Button.prototype.createEl.call(this,"div",{className:"vjs-close-button vjs-control",innerHTML:""})},e.exports=n},function(e,t,n){var r=n(54),i=n(55),o=n(2).FacebookButton,s=n(2).MailButton,a=n(2).TwitterButton,l=n(2).PinterestButton,u=n(2).RedditButton,c=n(2).LinkedinButton,d=videojs.Component.extend({init:function(e){videojs.Component.call(this,e);var t=new r(e);t.addChild(new o(e)),t.addChild(new a(e)),t.addChild(new l(e)),t.addChild(new s(e)),t.addChild(new u(e)),t.addChild(new c(e)),this.addChild(t),this.addChild(new i(e))}});d.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-social-popup-content vjs-popup-wrapper",innerHTML:'<div class="clearfix"></div><div class="vjs-popup-title">Share this Video</div>'})},e.exports=d},function(e,t){var n=videojs.Component.extend();n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-popup-content"})},e.exports=n},function(e,t){var n=videojs.Component.extend();n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"clearfix"})},e.exports=n},function(e,t,n){var r=n(11),i=n(57),o=r.extend();o.prototype.buttonName="LinkButton",o.prototype.name=function(){return"LinkButton"},o.prototype.getPopup=function(){return new i(this.player_)},e.exports=o},function(e,t,n){var r=n(12),i=n(58),o=r.extend({init:function(e,t){r.call(this,e,t),this.addChild(new i(e))}});o.prototype.name=function(){return"LinkPopup"},o.prototype.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-link-popup"})},e.exports=o},function(e,t){var n=videojs.Component.extend({init:function(e){videojs.Component.call(this,e)}});n.prototype.createEl=function(){var e=this.player(),t=e.socials&&e.socials.videoLink&&e.socials.videoLink();t||(t="No link available");var n='<div class="clearfix"></div><div class="vjs-popup-title">Get link</div><div class="vjs-popup-content"><textarea class="copyToClipboardEl" readonly rows="3">'+t+'</textarea></div><div class="vjs-popup-helper-msg">Please copy the text above</div>';return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-link-popup-content vjs-popup-wrapper",innerHTML:n})},e.exports=n},function(e,t,n){var r=n(11),i=n(60),o=r.extend();o.prototype.buttonName="EmbedButton",o.prototype.geter_)},o.prototype.name=function(){return"EmbedButton"},e.exports=o},function(e,t,n){var r=n(12),i=n(61),o=r.extend({init:function(e,t){r.call(this,e,t),this.addChild(new i(e))}});o.prototype.name=function(){return"EmbedPopup"},o.prototype.crep"})},e.exports=o},function(e,t){var n=videojs.Component.extend(s,e)}});n.prototype.createEl=function(){var e=this.player(),t=e.socials&&e.socials.embedSnippet&&e.socials.embedSnippet();t||(t="This video can't support the embed");var n='<div class="clearfix"></div><div class="vjs-popup-title">Embed this Video</div><div class="vjs-popup-content"><textarea class="copyToClipboardEl" readonly rows="3">'+t+'</textarea></div><div class="vjs-popup-helper-msg">Please copy the text above</div>';return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-embed-popup-content vjs-popup-wrapper",innerHTML:n})},e.exports=n},function(e,t){var n=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t),this.player=e,this._enabled=!1},name:function(){return"molPreviousButton"}});n.prototype.buttonText="Previous",n.prototype.buildCSSClass=function(){return"mol-previous-control mol-disabled-control "+videojs.Button.prototype.buildCSSClass.call(this)},n.prototype.onClick=function(){this._enabled&&this.player.trigger("mol.play.previous.video")},n.prototype.name=function(){return"molPreviousVideoButton"},n.prototype.enable=function(){this.el().classList.remove("mol-disabled-control"),this._enabled=!0},n.prototype.disable=function(){this.el().classList.add("mol-disabled-control"),this._enabled=!1},e.exports=n},function(e,t){var n=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t),this.player=e,this._enabled=!1}});n.prototype.buttonText="Skip",n.prototype.buildCSSClass=function(){return"mol-skip-control mol-disabled-control "+videojs.Button.prototype.buildCSSClass.call(this)},n.prototype.oneo")},n.prototype.name=function(){return"molSkipVideoButton"},n.prototype.enable=function(){this.el().classList.remove("mol-disabled-control"),this._enabled=!0},n.prototype.disable=function(){this.el().classList.add("mol-disabled-control"),this._enabled=!1},e.exports=n},function(e,t,n){var r=n(1),i=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t)}});i.prototype.createEl=function(){var e=videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"}),t=document.createElement("div");return r.addClass(t,"vjs-loading-spinner-icon"),e.appendChild(t),e},e.expor131)},functionm(e)}videojs.plugin("vjs-api-hooks",(function(){var e=this,t={},r={},i=function e(t,i){for(var o=arguments.length,s=Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];var l=n(i),u=l[0],c=l.slice(1);return"function"==typeof u?u.apply(vo(s))}].concat(s)):r[t].apply(r,s)};e.preEventHook=function(n,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("function"!=typeof o)throw new TypeError("hook needs to be a function");t[n]||(t[n]=[],r[n]=e[n].bind(e),e[n]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return i.apply(void 0,[n,t[n].map((function(e){return e.hook}))].concat(r))});var a={priority:s,hook:o.bind(e)};return t[n].push(a),t[n]=t[n].sort((function(e,t){return t.priority-e.prioria}))}}}))},function(e,t){videojs.plugin("duration-plugin",(function(){var e=this;e.ready((function(){e.preEventHook("duration",(function(t){var n=t();return"number"==typeof n&&n>0?n:"number"==typeof e.options_.duration?Math.floor(e.options_.duration/1e3):0})),e.trigger("timeupdate")}))}))},function(e,t,n){var r=n(69);e.exIE()}},function(e,t){var n=t.i11")};t.isIE=function(){var e=window.navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName||-1!==e.indexOf("Trident/")||n()}},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(8),s=n(71).isFlyach")};e.exports=function(e,t){var n=a(e),l=e.el().querySelector(".video-ads-container"),u=function(e){return e.muted()||0===e.volume()}(e),c=void 0===t.autoplay?o(e):t.autoplay,d=s(e),p=t.cust_params,h=void 0===p?{}:p,f=t.domain,v=t.duration,y=t.embed,m=t["fbia-embed"],g=t.grapeshot,A=t.headerBiddingParams,b=t.indexHeaderParams,w=t.isMobile,j=t.linkBaseURL,T=t.offset,E=t.platform,C=t.scor,_=t.source,S=t.sync,k=t.syndicationService,x=t.title,P=t.videoAdServerUrl,M=t.videoId,I=t.videoStarts,B=t.original,O=g&&g.article&&g.article.articleURL||void 0,L="object"===i(t.screen)?t.screen:function(e,t){if(t)return{width:640,height:360};var n=a(e);return{width:n.offsetWidth,height:n.offsetHeight}}(e,w);return{adEl:l,articleURL:O,adRequestFramework:e.adSDK,autoplay:c,cust_params:r({},h,b),domain:f,duration:v,embed:Boolean(y),fbiaEmbed:m,flyaway:d,headerBiddingParams:A,linkBaseURL:j,muted:u,isMobile:w,offset:T,original:B,platform:E,scor:C,screen:L,source:_,sync:S,syndicationService:k,title:x,videoAdServerUrl:P,videoEl:n,videoId:M,videoStarts:I}}},function(e,t,n){"use strict";n.r(t),n.d(t,"isFlyoutOnAndCollapsed",(function(){return r})),n.d(t,"isFlyaway",(function(){return i}));var r=function(e){return Boolean(e.flyoutState&&0===e.flyoutState(ive)}},function(e,t){var n=this,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var s=t[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(a)}("next")}))}}e.exports=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((e=i(regeneratorRuntime.mark((function e(i){var o,s,a,l,u,c,d,p,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.headerBiddingParams,s=t.timeoutPromise,a=s?[s]:[],l={buildAdTagUrl:function(){return""},onImpression:function(){},onFailure:function(){}};try{u=window.adverts.startVideoAuction(r({},t,o)),c=u.buildAdTagUrl,d=u.pAuctionEnded,p=u.onImpression,h=u.onFailure,a.push(d),Promise.race(a).:h})})).catch((function(){i(l)}))}catch(e){i(l)}case 4:case"end":return e.stop()}}),e,n)}))),function(t){return e.apply(this,arguments)}))}},function(e,t,n){var r=n(3);e.exports=function(){var e=r.queryStringToObj(window.location.search),t={};return e.useIMASDK&&(t.useIMASDK="true"===e.useIMASDK),e.adsCancelTimeout&&(t.adsCancelTimeout=parseInt(e.adsCancelTimeout,10)),e.referer&&(t.domain=e.referer),e.bannerFallback&&(t.bannerFallback="true"===e.bannerFallback),t}},function(e,t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e.exports=function(e){var t=e.schedule;return t&&0!==t.length||(t=e.adPos?Object.values(e.adPos):[{}]),t.map((function(t){return n({offset:0},e,t,{cust_params:n({},e.cust_params,t&&t.cust_params)})})).fset}))}},function(e,t){e.exports=function(e,t){var n=t.currentTime,r=t.duration;return e.filter((function(e){var t=e.minVideoDuration;return!t||!r||t<=r})).find((function(e){var t=e.offset;return Math.floor(n)<=t}))}},function(e,t,n){var r=n(77);e.exports=function(e,t){var n=e.el().querySelector(".vjs-play-progress"),i=t.filter((function(t){return t.offset>0&&(!t.minVideoDuration||t.minVideoDuration<=e.duration())})),o=!0,s=!1,a=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r(e,c,n)}}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}}},function(e,t,n){var r=n(78);e.exports=function(e,t,n){var i=t.offset,o=r(i,e.duration());n.parentNode.insertBefore(o,n);var s=function t(){var n=Math.floor(e.currentTime())-i;n>=0&&n<2&&(e.off("timeupdate",t),o.parentNode.removeChild(o),e.pause(),e.trigger("videoAds.reset"),e.play())};e.on("timeupdate",s),e.on("request-red(o)}))}},function(e,t){e.exports=function(e,t){var n=Math.ceil(100*e/t),r=document.createElement("div");return r.classList.add("video-ad-midroll-mark"),r.style.left=n+"%",r.innerHTML='<div class="top">\n                                      <p>Advertisement</p>\n                                      <i></i>\n                                  </div>',r}},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(8),s=n(80),a=n(81),l=n(82),u=n(83),c=n(84),d=n(85);videojs.plugin("video-ads-plugin",(function(e){var t=this,n=!0,p=null,h=null,f=null,v=i({},e),y=v.getAdTag,m=t.el().querySelector(".vjs-tech"),g=s(),A=(n))};g.append(A),t.el().append(g);var w=void 0,j=void 0,T=void 0,E=void 0,C=function(e,n){T=!0,console.info("### Video ad failed",n),t.trigger({type:"videoAd.error",adUnit:f,error:n,adTag:e})},_=function(){f&&(t.muted()?f.setVolume(0):f.setVolume(t.volume()))},S=function(){if(f){var e=A.clientWidth,n=A.clientHeight,r=void 0;r=t.isFullscreen()?"fullscreen":e<400?"thumbnail":"normal",f.resize(e,n,r)}},k=function(e){f=e,t.adUnit=f,g.style.display="block",t.el().classList.add("video-ad-ready"),_(),t.on("volumechange",_),t.on(["videoAd.resize","fullscreenchange"],S),window.addEventListener("orientationchange",S),f.on("impression",(function(){t.trigger({type:"videoAd.impression",adUnit:f})})),f.on("start",(function(){E=!0,t.controlBar&&t.controlBar.addChild(new c(t)),t.el().classList.remove("video-ad-waiting"),t.el().classList.remove("video-ad-ready"),t.el().classList.add("video-ad-playing"),"VPAID"===f.type&&t.el().classList.add("video-ad-vpaid"),h&&h.paused&&f.pause(),_(),t.trigger({type:"videoAd.start",adUnit:f})})),f.on("compl:f})})),f.on("pause",(function(){t.trigger({type:"pause"})})),f.on("resume",(function(){t.trigger({type:"play"})})),f.on("adProgre"})}))},x=function(){t.trigger({type:"videoAd.contentResumeRequested"}),h&&(u(t,h),h=null)},P=function(n){return!j&&!T&!E&&C(n,new Error("Ad run canceled by SDK for UNKNOWN reasons")),g.style.display="none",f=null,p=null,t.off("volumechange",_),t.off(["videoAd.resize","fullscreenchange"],S),window.removeEventListener("orientationchange",S),t.controlBar&&t.controlBar.removeChild("AdsLabel"),t.el().classList.remove("video-ad-waiting"),t.el().classList.remove("video-ad-ready"),t.el().classList.remove("video-ad-playing"),t.el().classList.remove("video-ad-vpaid"),delete t.adUnit,!E&&!j&&T&&e.bannerFallback&&window.adverts&&"function"==typeof window.adverts.getBannerFallbackPromise?window.adverts.getBannerFallbackPromise({offset:h&&h.currentTime||0,adTag:n}).then(x).catch(x):x()};function M(){w||(w=window.google&&window.google.ima&&d({videoElement:m,adsContainer:A,useIMASDK:Boolean(v.useIMASDK),vpaidEnabled:Boolean(v.vpaidEnabled)}))}t.ready((function(){v.earlyAdFactoryInit&&(b("initializing ad factory on load"),M()),t.preEventHook("play",(function(e){M(),h&&h.paused&&(h.paused=!1),t.trigger({type:"play"}),n&&v.adsEnabled&&w&&!p?(n=!1,t.trigger({type:"videoAd.contentPauseRequested"}),function(){try{j=!1,T=!1,E=!1;var e=null,n=function(n){var r={vpaidEnabled:v.vpaidEnabled,autoplay:o(t),onAdReady:k,onError:C.bind(null,n),onRunFinish:P.bind(null,n),responsive:!0,timeout:v.timeout||15e3,videoElement:m};b("requesting ad:",{adTag:n,opts:r}),e=w(n,A,r)};p=function(){j=!0,e?e():P()},t.el().classList.add("video-ad-waiting"),b("just before snapshot:",{readyState:t.readyState(),src:t.src()}),h=l(t),b("just after snapshot:",{snapshot:h,readyState:t.readyState(),src:t.src()});var r=y();r instanceof Promise?r.then((function(e){if(!j){var t=e();t?n(t):P()}})).c,P()})):n(r)}catch(e){console.error("### Error initializing the ad run",e),t.play()}}()):p?f&&f.isStarted()&&f.resume():(n&&(n=!1,t.trigger({type:"videoAd.contentResumeRequested"})),e())})),t.preEventHook("pause",(function(e){return E||!h||h.paused||(h.paused=!0),f&&f.isStarted()?f.pause():e()})),t.preEventHook("paused",(function(e){return f&&f.isStarted()?f.paused():e()})),t.preEventHook("duration",(function(e,t){return f&&f.isStarted()&&void 0===t?f.duration():e(t)})),t.preEventHook("currentTime",(function(e){return f&&f.isStarted()?f.currentTime():e()})),t.on("request-disp&p()})),t.on("videoAds.reset",(function(e){p&&p(),"object"===r(e.options)&&(v=i({},v,e.options)),n=!0}))}))}))},function(e,t){e.exports=function(){var e=document.createElement("div");return e.classList.add("video-ads-placeholder"),e.style.width="100%",e.style.display="none",e}},function(e,t){e.exports=function(){var e=document.createElement("div");return e.classList.add("video-ads-container"),e.style.position="relative",e.style.width="100%",e.style.height="100%",e}},function(e,t){var n=function(e){var t=e.remoteTextTracks?e.remoteTextTracks():[];Array.isArray(t)||(t=[]);var n=[];return t.forEach((function(e){n.push({mode:e.mode,track:e}),e.mode="disabled"})),n};e.exports=function(e){var t=e.el().querySelector(".vjs-tech"),r={currentTime:e.currentTime(),ended:e.ended(),src:e.currentSrc(),suppressedTracks:n(e),type:e.currentType()};return t&&(r.nativePoster=t.poster,r.style=t.getAttribute("style")||""),r}},function(e,t){var n=function(e){var t=e.el().querySelector(".vjs-tech").readyState;if(e.log("isReadyToResume:",{readyState:t}),t>1)return!0;var n=e.seekable();return e.log("isReadyToResume:",{seekable:n&&n.length}),void 0===n||n.length>0};e.exports=function(e,t){e.log("restoreSnapshot: begin, src",e.src(),t);var r=e.el().querySelector(".vjs-tech");if(r.src!==t.src){e.log("src changed:",{tech:r.src,snapshot:t.src}),t.nativePoster&&t.nativePoster!==r.poster&&(r.poster=t.nativePoster),"style"in t&&r.setAttribute("style",t.style),e.one("contentloadedmetadata",(function(){re}))}(t)}));var i={src:t.src,type:t.type};e.log("new opts:",i),e.src(i),e.load()}e.currentTime()!==t.currentTime&&(e.log("currentTime changed:",e.currentTime(),t.currentTime),e.currentTime(t.currentTime),n(e)||e.one("loadeddime)}))),Boolean(t.paused)?e.log("paused"):n(e)&&e.currentTime()===t.currentTime?(e.log("playing"),e.play()):(e.log("trying to player.load",t),e.one("canpay()})),e.load(),e.play())}},function(e,t){var n=document.createElement("div");n.className="video-ad-label vjs-control",n.innerHTML="Advertisement";var r=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),setTimeout((function(){var t=e.controlBar&&(e.controlBar.getChild("timerControls")||e.controlBar.getChild("currentTimeDisplay"));t&&e.controlBar.el().insertBefore(n,t.el())}),0)},name:function(){return"AdsLabel"}});r.prototype.createEl=function(){return n},e.exports=r},function(e,t,n){var r=n(28).createRequestAd,i=n(86).runWaterfall;e.exports=function(e){var t=e.videoElement,n=e.adsContainer,o=e.vpaidEnabled;return e.useIMASDK&&window.google&&window.google.ima?r(t,n,{player:{type:"videojs",version:"4.12.15"},vpaidEnabled:o}):i}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"getDetails",(function(){return zr})),n.d(t,"run",(function(){return Cr})),n.d(t,"runWaterfall",(function(){return Wr})),n.d(t,"requestAd",(function(){return Lr})),n.d(t,"requestNextAd",(function(){return Nr})),n.d(t,"vastSelectors",(function(){return be}));var r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};orts}((function(e){!function(t){var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag",l=t.regeneratorRuntime;if(l)e.exports=l;else{(l=t.regeneratorRuntime=e.exports).wrap=f;var u={},c={};c[o]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(C([])));p&&p!==n&&r.call(p,o)&&(c=p);var h=g.prototype=y.prototype=Object.create(c);m.prototype=h.constructor=g,g.constructor=m,g[a]=m.displayName="GeneratorFunction",l.isGeneratorFunme))},lh),e},l.awrap=function(e){return{__await:e}},A(b.prototype),b.prototype[s]=function(){return this},l.AsyncIterator=b,l.)}))},A(h),h[a]="Generator",h[o]=function(){return this},h.toString=function(){return"[object Generator]"},l0,n}},l.values=C,E.prototype={constructor:E,d 0)}rval},dispatchExce)}}}},ae(s)},comt),u},f),u}},pt")},delegate0e}}}function y(){}function m(){}functionfunction(){return this}()||Function("return this")())this}()||Function("return this")(),s=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,a=s&&o.regeneratorRuntime;o.regeneratorRuntime=void 0;var l=i;if(s)o.regeneratorRuntime=a;else try{delete o.regeneratorRuntime}catch(e){o.regeneratorRuntime=void 0}var u,c,d,p,h=l,f={clickThrough:"clickThrough",closeLinear:"closeLinear",complete:"complete",error:"error",exitFullscreen:"exitFullscreen",firstQuartile:"firstQuartile",fullscreen:"fullscreen",iconClick:"iconClick",iconView:"iconView",impression:"impression",midpoint:"midpoint",mute:"mute",otherAdInteraction:"otherAdInteraction",pause:"pause",playerCollapse:"playerCollapse",playerExpand:"playerExpand",progress:"progress",resume:"resume",rewind:"rewind",skip:"skip",start:"start",thirdQuartile:"thirdQuartile",timeSpentViewing:"timeSpentViewing",unmute:"unmute"},v={acceptInvitation:"acceptInvitation",adCollapse:"adCollapse",close:"close",creativeView:"creativeView"},y=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\ni[e),e},A="document",b="element",w="text",j=function e(t){pe")}(t),r={type:n};if(n===b){if(r.name=t.nodeName.toLowerCase(),t.attributes.length>0){r.attributes={};var i=!0,o=!1,s=void 0;try{for(var a,l=Array.from(t.attributes)[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;r.attributes[u.nodeName]=u.nodeValue}}catch(e){o=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}}}else n===w&&(r.text=t.nodeValue.replace("<![CDATA[","").replace("]]>","").trim());if(t.hasChildNodes()){var c=Array.from(t.childNodes).fiype)})),d=[];r.elements=d;var p=!0,h=!1,f=void 0;try{for(var v,y=c[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var m=e(v.value);(m.type!==w||m.text.length>0)&&d.push(m)}}catch(e){h=!0,f=e}finally{try{!p&&y.return&&y.return()}finally{if(h)throw f}}}returnrn n},E=function(e,t){return T(e).find((function(e){var n=e.name;return(void 0===n?"":n).toUpperCase()===t.toUpperCase()}T(nunurn)[t]},P=new DOMParser,M=function(e){return function(e,t){var n=e.parseFromString(t,"application/xml");return g(n),j(n)}(P,nuI(nununu}))}},F=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}=n,e},V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}returnid_=rn?em(m(e)},Q=function(e){var t=(""+e).match(/\d+/g);return parseInt(t[0],1e):e},K=function(e){var t=e&&O(e),n=t&&E(t,"linear"),r=n&&E(n,"Icons"),i=r&&C(r,"Icon");return i&&i.length>0?i.map((function(e){return(d)(e)g:td 0}}(e))})):nun(?1n:[]},ee=function(e){var t=e&&E(e,"VAST");if(t){var n=E(t,"Error");if(n)return S(n)}return nulll:(e)th>1},ie=function(e){var t=$(e);return Array.isArray(t)&&t.length>0?re(e)?t.filter(ne).sort(J)[0]:t[0]:nulr")e")null},le=function(e){var t=k(E(e,"Wrapper")),n=t.allowMultipleAds,r=t.fallbackOnNoAd,i=t.followAdditionalWrappers,o={};return n&&(o.allowMultipleAds=Z(n)),r&&(o.fallbackOnNoAd=Z(r)),i&&(o.followAdditionalWrappers=Z(i)),o},ue=function(e){var t=e&&_(e);if(t){var n=E(t,"Error");if(n)return S(n)}return null},ce=function(e){var t=e&&_(e);if(t){var n=E(t,"Impression");if(n)return S(n)}return nulnulnull},he=function(e){var t=pe(e);if(t)return t;var n=de(e);return n&&(t=n.fise()}))ype}}))).length>0?t:nulnulnull},ye=function(e){var t=fe(e),n=t&&C(t,"ClickTracking");return n&&n.length>0?n.map((function(e){return S(e)})):nulnulnull},Ae=function(e){t[1]}(e);return{AdParameteim()}(t),xmlEncodt[1]}(t)}},be=Object.freeze({getAds:$,getVastErrorURI:ee,getPodAdSequence:te,isPodAd:ne,hasAdPod:re,isAdPod:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return edXML})).some(re)},getFirstAd:ie,isWrapper:oe,isInline:se,getVASTAdTagURI:ae,getWrapperOptions:le,getAdErrorURI:ue,getImpressionUri:ce,getMediaFiles:de,getInteractiveCreativeFiles:pe,getInteractiveFiles:he,getClickThrough:ve,getClickTracking:ye,getCustomClick:me,getSkipOffset:ge,getCreativeData:Ae,getIcons:K,getLinearTrackingEvents:L,getNonLinearTrackingEvents:D)),t},je=function(e,t){var n=new Image;return n.src=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=we(t);return Boolean(r.CACHEBUSTING)||(r.CACHEBUSTING=Math.round(1e10*Math.random())),Boolean(r.TIMESTAMP)||(r.TIMESTAMP=(new Date).toISOString()),Object.keys(r).for),t)})),n}(e,t),n},Te=function(e,t){var n=t.errorCode,r=t.tracker,i=void 0===r?je:r;e.forEach((function(e){var t=e.ad,r=e.parsedXML,o=ue(t)||ee(r);Boolean(o)&&i(o,{errorCode:n})}))},Ee=function(e){return function(t,n){var r=n.data,i=n.tracker,o=void 0===i?je:i;t.forEach((function(t){var n=t.ad,i=e(n);if(Boolean(i))switch(!0){case"string"==typeof i:o(i,r);break;case Array.isArray(i):it,r)}))}}))}},Ce=function(e){return function(t){return L(t,e)}},_e=(H(u={},"clickThrough",Ee((function(e){var t=[],n=ye(e),r=me(e);return Array.isArray(n)&&n.length>0&&t.push.apply(t,X(n.map((function(e){return{uri:e}})))),Array.isArray(r)&&r.length>0&&t.push.apply(t,X(ri:e}})))),t}))),H(u,"closeLinear",Ee(Ce("closeLinear"))),H(u,"complete",Ee(Ce("complete"))),H(u,"error",Te),H(u,"exitFullscreen",Ee(Ce("exitFullscreen"))),H(u,"firstQuartile",Ee(Ce("firstQuartile"))),H(u,"fullscreen",Ee(Ce("fullscreen"))),H(u,"iconClick",(function(e,t){var n=t.data,r=t.tracker,i=void 0===r?je:r,o=n.iconClickTracking;if(Array.isArray(o)){var s=!0,a=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){i(u.value,V({},n))}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}}})),H(u,"iconView",(function(e,t){var n=t.data,r=t.tracker,i=void 0===r?je:r,o=n.iconViewTracking;if(Array.isArray(o)){var s=!0,a=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){i(u.value,V({},n))}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}}})),H(u,"impression",Ee(ce)),H(u,"midpoint",Ee(Ce("midpoint"))),H(u,"mute",Ee(Ce("mute"))),H(u,"pause",Ee(Ce("pause"))),H(u,"playerCollapse",Ee(Ce("playerCollapse"))),H(u,"playerExpand",Ee(Ce("playerExpand"))),H(u,"progress",(function(e,t){var n=t.data,r=t.tracker,i=void 0===r?je:r,o=n.progressUri;Boolean(o)&&i(o,V({},n))})),H(u,"resume",Ee(Ce("resume"))),H(u,"rewind",Ee(Ce("rewind"))),H(u,"skip",Ee(Ce("skip"))),H(u,"start",Ee(Ce("start"))),H(u,"thirdQuartile",Ee(Ce("thirdQuartile"))),H(u,"unmute",Ee(Ce("unmute"))),,e)}},ke=(H(c={},"acceptInvitation",Ee(Se("acceptInvitation"))),H(c,"adCollapse",Ee(Se("adCollapse"))),H(c,"close",Ee(Se("close"))),H(c,"creativeView",Ee(Se("creativeView"))),c),xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.async,r=void 0!==n&&n,i=t.defer,o=void 0!==i&&i,s=t.type,a=void 0===s?"text/javascript":s,l=t.placeholder;if(!e)throw new TypeError('Missing required "src" parameter');return new Promise((function(t,n){var i=document.createElement("script"),s=l;i.type=a,i.async=r,i.defer=o,i.on."))},i.ot(i)},s||(s=document.currentScript?document.currentScript.parentNode:document.head),i.src=e,s.appendChild(i)})%",%",ment},Be="srcdoc"in document.createElement("iframee",e},Le=function(e,t){return new Promise((function(n,r){ml:"")}()),o=void 0;try{(o=Oe()).src="about:blank",e.appendChild(o),Ie(o).write(i)}catch(t){e.removeChild(o),Be?((o=Oe()).src="about:srcdoc",o.srcdoc=i,e.appendChild(o)):r(t)}window.addEventListener("message",(function e(r){r.data===t+"_ready"&&(window.removeEventListener("message",e),n(o))}),!1)}))},De=(d="videoAdContainer" ++p}),Ne=Symbol("hidden"),Fe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(F(this,e),this[Ne]={destroyed:!1,iframe:null,readyPromise:null},!(t instanceof Element))throw new TypeError("placeholder is not an Element");this[Ne].id=De(),this.element=Me(),this.executionContext=null,this.isOriginalVideoElement=Boolean(n),n?this.videoElement=n:(this.videoElement=Pe(),this.element.appendChild(this.videoElement)),t.appendChild(this.element)}var t;return R(e,[{key:"addScript",value:(t=N(h.mark((function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDestroyed()){e.next=2;break}throw new Error("VideoAdContainer has been destroyed");case 2:if(this[Ne].iframe){e.next=7;break}return e.next=5,Le(this.element,this[Ne].id);case 5:this[Ne].iframe=e.sent,this.executionContext=this[Ne].iframe.contentWindow;case 7:return n=Ie(this[Ne].iframe).body,e.abrupt("return",xe(t,V({placeholder:n},r)));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"destroy",d=!0}},{key:"isDestroyed",value:function(){return this[Ne].destroyed}}]),e}e,t(n))},Ve=function(e,t,n){var r=n.getBoundingClientRect(),i=de(e);return i?function(e,t){var n=t.width;return e.slice(0).|0))}))}(i.fit,e)})),r)[0]:nul,r)}},We=f.progree)}}},Ge=f.fullscreen,ze=f.exitFullscreen,Xe=f.playerCollapse,Qe=f.playerExpand,Ye=f.pause,Ke=f.resume,Ze=f.rewind,Je=f.skx",e},et=f.error,tt=f.complete,nt=f.firstQuartile,rt=f.midpoint,it=f.start,ot=f.thirdQuarti*e/t},at=function(e,t){return st(e,t)>=99},lt=f.mute,ut=f.unmulume},dt=f.impressirn i,3)},ft=f.progree3*r&&00*t},gt=f.clickThrough,At=[function(e,t){var n=e.videoElement,r=e.element,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.clickThroughUrl,s=r||n.parentNode,a=document.createElement("A");return a.classList.add("mol-vast-clickthrough"),a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.left=0,a.style.top=0,o&&(a.href=o,a.target="_blank"),a.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),n.paused?n.play():(n.pause(),t(gt))},s.appendChild(a),function(){return s.removeChild,r)}},function(e,t){var n=e.videoElement,r=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"],ize))},s=!0,a=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value;document.addEventListener(d,o)}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}return function(){var e=!0,t=!1,n=void 0;try{for(var i,s=r[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var a=i.value;document.removeEventListener(a,o)}}catch(e){t=!0,n=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw n}}}},function(e,t){var n=e.videoElement,r=function e(){n.currentTime>=2&&(t(dt),n.removeEventListener("timeupdate",e))};return n.addEventListener("timeupdate",r),function(){n.removeEventListener("timeupdate",i)}},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipoffset,i=n.createSkipControl,o=void 0===i?$e:i;if(!Boolean(r))return function(){};var s=void 0,a=e.videoElement,l=e.elem,e))};return a.addEventListener("timeupdatd,i)}}],bt=function(e,t){var n=e.vastChain,r=e.videoAdContainer,i=e.hooks,o=n[0].ad,s=ge(o),a=ve}}))}(n),u=V({clickThroughUrl:a,progressEvents:l,skipoffset:s},i),c=At,u))}));r)})))}))},jt=/^\s+|\s+$/g,Tt=/^[-+]0x[0-9a-f]+$/i,Et=/^0b[01]+$/i,Ct=/^0o[0-7]+$/i,_t=parseInt,St="object"==typeof r&&r&&r.Object===Object&&r,kt="object"==typeof self&&self&&self.Object===Object&&self,xt=St||kt||Function("return this")(),Pt=Object.prototype.toString,Mt=Math.max,It=Math.m:+e}v)},g},Nt=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Ft=function(e,t){if(!(e instanceof Element))throw new TypeError("Target is not an Element node");if(!(t instanceof Function))throw new TypeError("Callback is not a function")},Rt=function(){},Ht=["style","clientWidth","clientHeight"],Vt=Symbol("mutationHandlers"),Ut=Symbol("mutationObserver"),Wt=function(e,t){if(!e[Vt]){e[Vt]=[];}),n}(e,(function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e[Vt]&&e[Vt].forEach((function(e){return e.apply(void 0,n)}))}))}return e[Vt].puUt])}},qt=Symbol("resizeHandlers"),Gt=Symbol("resizeObj"),zt=function(e,t){if(!e[qt]){e[qt]=[];k",t}((function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e[qt]&&e[qt].for0,n)}))})),"static"===getComputedStyle(e).position&&(e.style.position="relative"),e.appendChild(e[Gt])}return e[qt].puGt])}},Xt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.threshold,i=void 0===r?20:r;Ft(e,t);".")},s=ot())},l=Dt(a,i),u=Boolean(Nt)?Wt(e,l):Rt,c=zt(e,l);r,c()}},Qt=[],Yt=function(e){var t=e.element,n=e.callback,r=e.lastInViewpc<=p}(t,e.viewportOffset);i!==r&&(e.lastInViewport=i,n(i))},Kt=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Qt[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;Yt(o)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}on")},Jt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.threshold,i=void 0===r?100:r,o=n.scrollableElement,s=void 0===o?window:o,a=n.viewabilityOffset,l=void 0===a?.4:a;Zt(e,t);var u=i>0?Dt(Kt):Kt,c={callback:t,element:e,lastInViewport:!1,scrollableElement:s,viewabilityOffset:l};return Yt(c),Qt.push(c),s.addEventListener("scroll",u),1===Qt.length&&(window.addEventListener("resize",u),window.addEventListener("orientationchange",u),document.addEventListener("visibilitychange",u)),function(){0===(Qt=Qt.filter((function(e){return e!==c}))).length&&(window.removeEventListener("resize",u),window.removeEventListener("orientationchange",u),document.removeEventListener("visibilitychange",u)),Qt.e!==s}))&&s.removeEventListener("scroll",u),r)}},en=functsole}return R(e,[{key:"on",value:function(e,t){var n=this.evts;return(n[e]||(n[e]=[])).push(t),this}},{key:"removeListener",value:function(e,t){var n=this.evts,r=n[e]||(n[e]=[]);return n[e]=r.filter((function(e){return e!==t&&e._!==t})),this}},{key:"removeAllListeners",value:function(e){return e?this.evts[e]=null:this.evts={},this}},{key:"once",value:function(e,t){var n=this,r=function r(){n.removeListener(e,r),t.apply(void 0,arguments)};return r._=t,this.on(e,r)}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.evts,s=o[e]||(o[e]=[]),a=s.length>0;return s.forEach((function(e){try{e.apply(void 0,r)}catch(e){t.logger.error(e,e.stack)}})),a}}]),e}n||)[0]},rn=function(e){var t=e.map((function(e){return e.ad})).reduce((function(e,t){return[].concat(X(e),X(K(t)||[]))}),[]);return t.length>0?function(e){var t=function(e){return e.ret),e}),{})}(e);return Object.keys(t).reduce((function(e,n){return[].concat(X(e),"UNKNOWN"===n?X(t.UNKNOWN):[nn(t[n])])}) t,n}(t)):nuln}))},sn=function(e,t){var n=!0,r=new on,i=r.promise,o=r.reject,s=r.resolve,a=Ue(e,t,(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n=!1,s(t)}));return{c")))},promise(e)}}("undefined"!=typeof self?self:void 0);var an,ln,un,)}))},pn=(an=N(h.mark((function e(t){var n,r,i,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(n=e.sent,r=n.headers.get("Content-Type"),!(n.status>=400)){e.next=8;break}throw(i=new Error(n.statusText)).response=n,i;case 8:if(dn(r)){e.next=12;break}throw(o=new Error("fetchHtml error, invalid Content-Type "+r)).response=n,o;case 12:return e.abrupt("return",n.text());case 13:case"end":return e.stop()}}),e,void 0)}))),function(e){return an.apply(this,arguments)}),hn=function(e,t){var n=t.staticResource,r=t.htmlResource,i=t.iFrameResource;return Boole=e,s}(n,{data:t,document:e}):Boolean(r)?function(e,t){var n=t.document,r=t.data,i=r.height,o=r.width,s=n.createElement("DIV");return o&&(s.style.width=o+"px"),i&&(s.style.height=i+"px"),pn(e).d"))})).cr"))})),s}(r,{data:t,documene",s}(i,{data:t,document:e})},fn=function(){},vn=function(e,t){var n=t.document,r=t.placeholder;return new Promise((function(t,i){try{var o=hn(n,e),s=sn(o,"error"),a=sn(o,"loax=0)};s.promise.e"))})).catch(fn),a.promise.t(o)})).catch(fn),o.style.zIndex=-9999,r.appendChild(o)}catch(e){i(e)}}))},yn=function(e,t,n){var r,i,o,s=n.drawnIcons,a=n.placeholder,l=e.signature,u=t.getBoundingClientRect(),c=a.getBoundingClientRect(),d=e.width||u.width,p=e.height||u.height,h=e.xPosition||"right",f=e.yPosition||"top",v=void 0,y=void 0;if(function(e){return!["left","right"].includes(String(e).toLowerCase())}(h))v=h;else{var m=s.fi===f-i-t}(h,d,m,c.wie())}(f)?(r=f,i=p,o=c.height,y="top"===r?0:o-i):y=f;var g=v+"-"+y+"_"+d+"x"+p;return Object.assign(e,{height:p,left:v,signature:g,top:y,updated:l!==g,width:d}idth},gn=function(e){return e.left+e.width},An=function(e){var t=e.left;return rn igh)}))},Tn=function(e,t){35*i}(eight}(e,t),i=jn(e,t);return n&&r&&i},En=function()e),o},_n=(ln=N(h.mark((function e(t,n){var r;return h.p()}}),e,void 0)}))),function(e,t){return ln.apply(this,arguments)}),Sn=function(e,t){var n=t.height,r=t.width,i=t.left,o=t.top,s=t.yPosition;return e.height=n,e.width=r,e.style.position="absolute",e.style.left=i+"px","bottom"===s?e.style.bottom="0":e.style.top=o+"px",e.style.height=n+"px",e.style.width=r+"px",e},kn=(un=N(h.mark((function e(t,n){var r,i,o;return h.p()}}),e,void 0)}))),function(e,t){return un.apply(this,arguments)}),xn=function(e,t){var n=t.onIconClick,r=t.videoAdContainer,i=t.logger,o=r.element,s=r.videoElement,a=[],l=e.reduce((function(e,t){ri<=o}(t,s)?e.otherIcons.push(t):e.iconsToShow.push(t),e}),{iconsToShow:[],otherIcons:[]}),u=l.iconsToShow;return l.otherIcons.ford(t)})),u.re)}))}),Promise.resolve(a)).then((function(){return a}))},Pn=Symbol("firstRenderPending"),Mn=function()th>)}))},On=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.videoAdContainer,i=n.onIconView,o=void 0===i?Mn:i,s=n.onIconClick,a=void 0===s?Mn:s,l=q(n,["videoAdContainer","onIconView","onIconClick"]),u=r.videoElement,c=r.element,d=(t=N(h.mark((function t(){var n;return h.p()}}),t,void 0)}))),function(){return t.apply(this,arguments)});return e.forEach((function(e){e[Pn]=!0})),{drawIcons:d,hasPendingIconRedraws:function(){return In(e,u)},removeIcons:function(){return Bn(e)}mal"},Dn=f.start,Nn=f.iconClick,Fn=f.iconView,Rn=Symbol("_protected"),Hn=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.viewability,o=void 0!==i&&i,s=r.responsive,a=void 0!==s&&s,l=r.logger,u=void 0===l?console:l;F(this,t);var c=G(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));c[Rn]={finish:function(){c[Rn].finished=!0,c[Rn].onFinishCallbacks.for e()})),c.emit("finish",{adUnit:c,type:"finish"})},finished:!1,onErrorCallbacks:[],onFinishCallbacks:[],started:!1,throwIfCalled:function(){throw new Error("VideoAdUnit method must be implemented on child class")},throwIfFined")}},c.type=null,c.error=null,c.errorCode=null;var d=c[Rn].onFinishCallbacks;if(c.vastChain=e,c.videoAdContainer=n,c.icons=rn(e),d.push($t(c.videoAdContainer.videoElement)),c.icons){var p=On(c.icons,{logger:u,onIconClick:function(e){return c.emit(Nn,{adUnit:c,data:e,type:Nn})},onIcoFn})},videoAdContainer:n}),h=p.drawIcons,f=p.hasPendingIconRedraws,v=p.removeIcons;c[Rn].drawIcons=h,c[Rn].removeIcons=v,c[Rn].hasPendingIconRedraws=f,d.push(v)}return o&&c.onch(e)})),a&&c.onch(t)})),c}return W(t,e),R(t,[{key:"start",value:function(){this[Rn].throwIfCalled()}},{key:"resume",value:function(){this[Rn].throwIfCalled()}},{key:"pause",value:function(){this[Rn].throwIfCalled()}},{key:"setVolume",ed()}},{key:"getVolume",value:function(){this[Rn].throwIfCalled()}},{key:"cancel",value:function(){this[Rn].throwIfCalled()}},{key:"duration",value:function(){this[Rn].throwIfCalled()}},{key:"paused",value:function(){this[Rn].throwIfCalled()}},{key:"currentTime",value:function(){this[Rn].throwIfCalled()}},{key:"onFinish",value:function(e){if("function"!=typeof e)throw new TypeError("Expected a callback function");this[Rn].onFinishCallbacks.push(qe(e,this.logger))}},{key:"onError",er))}},{key:"isFinished",value:function(){return this[Rn].finished}},{key:"isStarted",value:function(){return this[Rn].started}},{key:"resize",value:function(){var e=N(h.mark((function e(t,n,r){return h.p()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),t}(en),Vn=f.complete,Un=f.error,Wn=f.skip,qn=Symbol("_private"),Gn=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};F(this,t);var i=G(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));i[qn]={handleMetric:function(e,t){switch(e){case Vn:i[Rn].finish();break;case Un:i.error=t,i.errorCode=i.error&&i.error.code?i.error.code:405,i[Rn].onErrorCallbacks.forEach((function(e){return e(i.error,{adUnit:i,vastChain:i.vastChain})})),i[Rn].finish();break;case Wn:i.cancel()}i.emit(e,{adUnit:i,type:e})}},i.assetUri=null,i.type="VAST";var o=i[Rn].onFinishCallbacks,s=i[qn].handleMetric;i.hooks=r.hooks||{};var a=bt({hooks:i.hooks,vastChain:i.vastChain,videoAdContainer:i.videoAdContainer},s);return o.push(a),i}return W(t,e),R(t,[{key:"start",value:function(){var e=N(h.mark((function e(){var t,n,r,i,o,s,a,l=this;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Rn].throwIfFinished(),!this.isStarted()){e.next=3;break}throw new Error("VastAdUnit already started");case 3:if(t=this.vastChain[0].ad,n=this.videoAdContainer,r=n.videoElement,i=n.element,o=Ve(t,r,i),!Boolean(o)){e.next=16;break}if(!this.icons){e.next=11;break}return s=function(){var e=N(h.mark((function e(){return h.p()}}),e,l)})));return function(){return e.apply(this,arguments)}}(),e.next=11,s();case 11:r.src=o.src,this.assetUri=o.src,r.play(),e.next=19;break;case 16:(a=new Error("Can't find a suitable media to play")).code=403,this[qn].handleMetric(Un,a);case 19:this[Rn].started=!0;case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resume",value:function(){this.videoAdContainer.videoElement.play()}},{key:"pause",se()}},{key:"paused",value:function(){return this.videoAdContainer.videoElement.paused}},{key:"setVolume",me=e}},{key:"getVolume",lume}},{key:"cancel",sh()}},{key:"duration",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.duration:0}},{key:"currentTime",me:0}},{key:"resize",value:function(){var e=N(h.mark((function e(n,r,i){var o,s,a,l,u;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this,n,r,i);case 2:this.isStarted()&&!this.isFinished()&&(o=this.vastChain[0].ad,s=this.videoAdContainer,a=s.videoElement,l=s.element,u=Ve(o,a,l),Boolean(u)&&a.src!==u.src&&wt(a,u));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),t}(Hn),zn=["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascriptt}))},Qn=function(){var e=N(h.mark((function e(t,n){var r,i,o,s;return h.p()}}),e,void 0)})));return function(t,n){return e.apply(this,arguments)}}(),Yn=function(e,t,n){return new Promise((function(r,i){var o=voi,r()};"number"==typeof n&&(o=setTimeout((function(){e.unsubscribe(s,t),i(new Error("Timeout waiting for event '"+t+"'"))}),n)),e.subscribe(s,t)}))},Kn=function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var s=Yn(e,n,5e3);return e[t].apply(e,i),,10)},Jn=function(e,t){var n=e.handshakeVersion(tn(e)}(t,n))throw new Error("Creative Version '"+n+"' not supported");return n},$n=function(e,t,n){var r=document.createElement("DIV");return Object.assign(r.style,{border:"0px",cursor:"pointer",height:n+"px",left:"0px",margin:"0px",padding:"0px",position:"absolute",top:"0px",width:t+"px"}),e.appendChild(r),r},er=f.complete,tr=f.mute,nr=f.unmute,rr=f.skip,ir=f.start,or=f.firstQuartile,sr=f.pause,ar=f.resume,lr=f.impression,ur=f.midpoint,cr=f.thirdQuartile,dr=f.clickThrough,pr=f.error,hr=f.closeLinear,fr=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"].fi!==e})),vr=Symbol("_private1),t},mr=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};F(this,t);var o=G(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o[vr]={evtHandler:(r={},H(r,"AdClickThru",(function(e,t,n){if(n)if(o.paused())o.resume();else{var r="string"==typeof e&&e.length>0?e:ve(o.vastChain[0].ad);o.pause(),window.open(r,"_blank")}o.emit(dr,{adUnit:o,type:dr})})),H(r,"AdDurationChange",(function(){o.emit("adProgress",{adUnit:o,type:"adProgress"})})),H(r,"AdError",(function(e){o.error=yr(e),o.errorCode=o.error.code,o[Rn].onErrorCallbacks.forin})})),o[Rn].finish(),o.emit(pr,{adUnit:o,type:pr})})),H(r,"AdImpression",(function(){o[vr].videoStart||o[vr].handleVpaidEvt("AdVideoStart"),o.emit(lr,{adUnit:o,type:lr})})),H(r,"AdPaused",(function(){o[vr].paused=!0,o.emit(sr,{adUnit:o,type:sr})})),H(r,"AdPlaying",(function(){o[vr].paused=!1,o.emit(ar,{adUnit:o,type:ar})})),H(r,"AdRemainingTimeChange",(function(){o.emit("adProgress",{adUnit:o,type:"adProgress"})})),H(r,"AdSkiprr})})),H(r,"AdStarted",(function(){o.emit("creativeView",{adUnit:o,type:"creativeView"})})),H(r,"AdStopped",(function(){o.emit("AdStopped",{adUnit:o,type:"AdStopped"}),o[Rn].finish()})),H(r,"AdUserAcceptInvitation",(function(){o.emit("acceptInvitation",{adUnit:o,type:"acceptInvitation"})})),H(r,"AdUserClose",(function(){o.emit(hr,{adUnit:o,type:hr}),o[Rn].finish()})),H(r,"AdUserMinime"})})),H(r,"AdVideoComplete",(function(){o.emit(er,{adUnit:o,type:er}),o[Rn].finish()})),H(r,"AdVideoFirstQuartile",(function(){o.emit(or,{adUnit:o,type:or})})),H(r,"AdVideoMidpoint",(function(){o.emit(ur,{adUnit:o,type:ur})})),H(r,"AdVideoStart",(function(){o[vr].videoStart||(o[vr].videoStart=!0,o[vr].paused=!1,o.emit(ir,{adUnit:o,type:ir}))})),H(r,"AdVideoThirdQuartcr})})),H(r,"AdVolumeChange",(function(){var e=o.getVolume();o.emit("volumeChanged",{adUnit:o,type:"volumeChanged"}),0!==e||o[vr].muted||(o[vr].muted=!0,o.emit(tr,{adUnit:o,type:tr})),e>0&&o[vr].muted&&(o[vr].muted=!1,o.emit(nr,{adUnit:o,type:nr}))})),r),handleVpaidEvt:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=o[vr].evtHandler[e];i&&i.apply(void 0,n),o.emit(e,{adUnit:o,type:e})},muted:!1,paused:!0},o.type="VPAID",o.creativeAd=null,o[vr].loadCreativePromise=Qn(e,n),o}var n;return W(t,e),R(t,[{key:"start",value:function(){var e=N(h.mark((function e(){var t,n,r,i,o,s,a,l,u,c=this;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Rn].throwIfFinished(),!this.isStarted()){e.next=3;break}throw new Error("VpaidAdUnit already started");case 3:return e.prev=3,e.next=6,this[vr].loadCreativePromise;case 6:for(this.creativeAd=e.sent,t=Yn(this.creativeAd,"AdLoaded"),n=!0,r=!1,i=void 0,e.prev=11,o=fr[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)a=s.value,this.creativeAd.subscribe(this[vr].handleVpaidEvt.bind(this,a),a);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),r=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!n&&o.return&&o.return();case 22:if(e.prev=22,!r){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return this.creativeAd.getAdIcons&&!this.creativeAd.getAdIcons()&&(this.icons=null),Jn(this.creativeAd,"2.0"),d=this.creativeAd,p=this.videoAdContainer,f=this.vastChain,v=void 0,y=void 0,m=void 0,g=void 0,A=void 0,b=void 0,w=void 0,v=p.element,y=v.getBoundingClientRect(),m=y.width,g=y.height,A=Ln(m,g),b={slot:$n(v,m,g),videoSlot:p.videoElement,videoSlotCanAutoPlay:p.isOriginalVideoElement},w=Ae(f[0].XML),d.initAd(m,g,A,-1,w,b),e.next=32,t;case 32:if(this.videoAdContainer.isDestroyed()){e.next=48;break}return e.prev=33,(l=this.videoAdContainer.videoElement).muted?(this[vr].muted=!0,this.setVolume(0)):this.setVolume(l.volume),e.next=38,Kn(this.creativeAd,"startAd","AdStarted");case 38:if(!this.icons){e.next=42;break}return u=function(){var e=N(h.mark((function e(){return h.p()}}),e,c)})));return function(){return e.apply(this,arguments)}}(),e.next=42,u();case 42:this[Rn].started=!0,e.next=48;break;case 45:e.prev=45,e.t1=e.catch(33),this.cancel();case 48:return e.abrupt("return",this);case 51:throw e.prev=51,e.t2=e.catch(3),this[vr].handleVpaidEvt("AdError",e.t2),e.t2;case 55:case"end":return e.stop()}var d,p,f,v,y,m,g,A,b,w}),e,this,[[3,51],[11,15,19,27],[20,,22,26],[33,45]])})));return function(){return e.apply(this,arguments)}}()},{key:"resume",value:function(){this.creativeAd.resumeAd()}},{key:"pause",value:function(){this.creativeAd.pauseAd()}},{key:"paused",used}},{key:"setVolume",value:function(e){this.creativeAd.setAdVolume(e)}},{key:"getVolume",me()}},{key:"cancel",value:function(){var e=N(h.mark((function e(){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this[Rn].throwIfFinished(),e.prev=1,t=Yn(this.creativeAd,"AdStopped",3e3),this.creativeAd.stopAd(),e.next=6,t;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this[Rn].finish();case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"duration",?0:e}},{key:"currentTime",()-e}},{key:"resize",value:(n=N(h.mark((function e(n,r,i){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this,n,r,i);case 2:return e.abrupt("return",Kn(this.creativeAd,"resizeAd","AdSizeChange",n,r,i));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})}]),t}(Hn),gr=function(e,t,n){var r=n.tracker,i="VPAID"===n.type?new mr(e,t,n):new Gn(e,t,n);return Object.values(f).forEach((function(t){return i.on(t,(function(t){var n=t.type,o={data:t.data,errorCode:i.errorCode,tracker:r};!function(e,t,n){var r=n.data,i=n.errorCode,o=n.tracker,s=void 0===o?je:o,a=n.logger,l=void 0===a?console:a,u=_e[e];u?u(t,{data:V({},r,{errorCode:i}),errorCode:i,tracker:s}):l.error("Event '"+e+"' cannot be tracked")}(n,e,o)}))})),Object.values(v).forEach((function(t){return i.on(t,(function(t){var n={data:t.data,tracker:r};!function(e,t,n){var r=n.data,i=n.tracker,o=void 0===i?je:i,s=n.logger,a=void 0===s?console:s,l=ke[e];l?l(t,{data:V({},r),tracker:o}):a.error("Event '"+e+"' cannot be tracked")}(t.type,e,n)}))})),er")}))},wr=function(e,t){var n=t.onAdReady;return new Promise((function(t,r){var i=function(e){return function(){return r(new Error("Ad unit start rejected due to event '"+e+"'"))}};e.onError(r),e.on("start",(function(){return t(e)})),e.on("AdUserClose",i("AdUserClose")),e.on("closeLinear",i("closeLinear")),e.on("AdStopped",i("AdStopped")),n(e),e.start()}))},jr=function(e,t,n){if(r=e[0].ad,!Boolean(he(r)))throw new Error("No valid creative found in the passed VAST chain");var r,i=gr(e,t,V({},n,{type:"VPAID"}));return wr(i,n)},Tr=function(e,t,n){var r=gr(e,t,V({},n,{type:"VAST"}));return wr(r,n)},Er=function(){var e=N(h.mark((function e(t,n,r){return h.p()}}),e,void 0,[[1,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Cr=function(){var e=N(h.mark((function e(t,n,r){var i,o,s,a,l,u,c;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,e.prev=1,o=r.timeout,i=Re(n,r.videoElement),s=Er(t,i,r),"number"==typeof o&&(a=!1,l=void 0,u=new Promise((function(e,n){l=setTimeout((function(){var e=r.tracker;Te(t,{errorCode:402,tracker:e}),a=!0,n(new Error("Timeout while starting the ad"))}),r.timeout)})),s=Promise.race([s.l),e})),u])),e.next=8,s;case 8:return(c=e.sent).onFinish((function(){i.destroy()})),e.abrupt("return",c);case 13:throw e.prev=13,e.t0=e.catch(1),i&&i.destroy(),e.t0;case 17:case"end":return e.stop()}}),e,void 0,[[1,13]])})));rnts)}}(),_r=function(){var e=N(h.mark((function e(t){var n,r,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={credentials:"include"},r=Object.assign({},n,s),e.next=4,window.fetch(t,r);case 4:if(!((i=e.sent).status>=400)){e.next=9;break}throw(o=new Error(i.statusText)).response=i,o;case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}(),Sr=Symbol("requested]=!4,i}},Pr=function(){var e=N(h.mark((function e(t,n){var r,i;return h.p()}}),e,void 0,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}0,e}},Ir=function(e){try{var t=ie(e);if(Boolean(t))return kr(t),t;throw new Error("No Ad")}catch(e){throw e.code=303,e0,c}},Or=function(e,t){var n=e[0],r=Boolean(n)&&oe(n.ad)?le(n.ad):{};return V({},r,t)},Lr=(cn=N(h.mark((function e(t,n){var r,i,o,s,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={ad:null,errorCode:null,parsedXML:null,requestTag:t,XML:null},i=void 0,o=void 0,s=void 0,e.prev=4,i=Or(l,n),xr(l,i),a=Pr(t,i),"number"==typeof i.timeout&&(s=i.timeout,o=Date.now(),a=Promise.race([a,new Promise((function(e,t){setTimt(e)}),s)}))])),e.next=11,a;case 11:if(r.XML=e.sent,r.parsedXML=Mr(r.XML),r.ad=Ir(r.parsedXML),Br(r,i),!oe(r.ad)){e.next=18;break}return o&&(s-=Date.now()-o),e.abrupt("return",Lr(ae(r.ad),V({},i,{timeout:s}),[r].concat(X(l))));case 18:return e.abrupt("return",[r].concat(X(l)));case 21:return e.prev=21,e.t0=e.catch(4),Number.isInteger(e.t0.code)||(e.t0.code=900),r.errorCode=e.t0.code,r.error=e.t0,e.abrupt("return",[r].concat(X(l)));case 27:case"end":return e.stop()}}),e,void 0,[[4,21]])}))),function(e,t){return cn.apply(this,arguments)}),Dr=function(e,t){var n=e.ad,r=e.parsedXML,i=t.fallbackOnNoAd,o=void 0===i||i,s=t.useAdBuffet,a=void 0!==s&&s,l=$(r).fi}(e)})),u=null;return re(r)?(a&&(u=l.fie(e)}))[0]),u||(u=function(e,t){var n=te(e)+1;return t.===n}))||null}(n,l))):l.length>0&&o&&(u=l[0]),u},Nr=function e(st")}(t);var r=t[0],i=Dr(r,n);if(Boolean(i)){var o=[Object.assign({},r,{ad:i})].concat(X(t.slice(1)));return kr(i),oe(i)?Lr(ae(i),n,o):Promise.resolve(o)}return e(t.slice(1),n)},Fr=function(e,t){if(!e||0===e.length)throw new Error("Invalid VastChain");var n=e[0];if(!t.vpaidEnaad))}(e)){var r=new Error("VPAID ads are not supported by the current player");r.code=200,n.errorCode=200,n.error=r}if(Boolean(n.error))throw n.error;t.hooks&&"function"==typeof t.hooks.validateVastResponse&&t.hooks.validateVastResponse(ets)code):e},Ur=function(){var e=N(h.mark((function e(t,n,r,i){var o,s,a,l,u,c,d,p,f,v;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0,s=void 0,a=void 0,l=V({},r),u=l.onAdStart,c=l.onError,d=l.onRunFinish,e.prev=5,"number"==typeof l.timeout&&(s=Date.now()),e.next=9,t();case 9:if(o=e.sent,!i()){e.next=13;break}return d(),e.abrupt("return");case 13:return s&&(p=Date.now(),l.timeout-=p-s,s=p),Fr(o,l),e.next=17,Cr(Vr(o,l),n,V({},l));case 17:if(a=e.sent,!i()){e.next=22;break}return a.cancel(),d(),e.abrupt("return");case 22:a.onError(c),a.onFinish(d),u(a),e.next=38;break;case 27:if(e.prev=27,e.t0=e.catch(5),f=Hr(o,e.t0),Boolean(f)&&(v=r.tracker,Te(o,{errorCode:f,tracker:v})),c(e.t0,{adUnit:a,vastChain:o}),!o||i()){e.next=37;break}if(s&&(l.timeout-=Date.now()-s),s&&!(l.timeout>0)){e.next=37;break}return Ur((function(){return Nr(o,l)}),n,V({},l),i),e.abrupt("return");case 37:d();case 38:case"end":return e.stop()}}),e,void 0,[[5,27]])})));rnts)}}(),Wr=function(e,t,n){var r=!1,i=null,o=Rr(n.onAdStart),s=V({vpaidEnabled:!0},n,{onAdReady:Rr(n.onAdReady),onAdi=e)},onError:Rr(n.onError),onRunFinish:Rr(n.onRunFinish)});return n.videoElement&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&n.videoElement.load(e,s)}),t,s,(function(){returnel()}},qr=function(e,t){var n=e&&E(e,t);if(n)return S(n)},Gr=function e(t){var n=function(e){var t=_(e);return t&&E(t,"Pricing")}(t[0].ad);return n?{pricing:S(n),pricingCurrency:x(n,"currency"),pricingModel:x(n,"model")}:t.length>1?e(t.slice(1)):{}},zr=function(e){var t,n,r,i,o,s=eid")})),a=e.map((function(e){return function(e){var t=_(e),n=t&&E(t,"AdSystem");if(n)return S(n)}(e.ad)})),l=eO(t)})).filter((function(e){return Boolean(e)})),u=l.map((function(e){return x(e,"id")})),c=l.map((function(e){return x(e,"adId")})),d=Gr(e),p=d.pricing,h=d.pricingCurrency,f=d.pricingModel,v=(t=e[0].ad,n=E(t,"InLine"),(r=n&&E(n,"Category"))?{category:S(r),categoryAuthority:x(r,"authority")}:{}),y=v.category,m=v.categoryAuthority,g=_(e[0].ad),A=O(e[0].ad),b=A&&E(A,"Linear"),w=qr(g,"AdServingId"),j=(i=e[0].parsedXML,(o=i&&E(i,"VAST"))?x(o,"version"):"unknown"),T=qr(g,"Advertiser"),C=qr(g,"AdTitle"),k=qr(g,"Description"),P=qr(b,"Duration"),M=P&&I(P),B=void 0,L=[],D=void 0,N=[],F=void 0,R=[],H=void 0,V=[],U=void 0,W=void 0,q=void 0,G=void 0,X=[],Q=void 0,Y=void 0,K=void 0,Z=void 0;if(se(e[0].ad)){var J=z(s);B=J[0],L=J.slice(1);var $=z(a);D=$[0],N=$.slice(1);var ee=z(u);F=ee[0],R=ee.slice(1);var te=z(c);H=te[0],V=te.slice(1),U=ve(e[0].ad),W=Ae(e[0].XML);var ne=E(A,"UniversalAdId");q=S(ne),G=x(ne,"idRegistry"),X=de(e[0].ad),Q=Boolean(he(e[0].ad)),K=x(b,"skipoffset"),Z=I(K),Y=Boolean(K)}else oe(e[0].ad)&&(L=s,N=a,R=u,V=c);return{adId:B,adServingId:w,adSystem:D,adTitle:C,advertiser:T,adWrapperCreativeAdIds:V,adWrapperCreativeIds:R,adWrapperIds:L,adWrapperSystems:N,category:y,categoryAuthority:m,clickThroughUrl:U,creativeAdId:H,creativeData:W,creativeId:F,description:k,duration:P,durationInMs:M,mediaFiles:X,pricing:p,pricingCurrency:h,pricingModel:f,skipOffset:K,skipOffsetInMs:Z,skippable:Y,universalAdId:q,universalAdIdRegistry:G,vastVersion:j,vpaid:Q}}}.call(this,n(9))},function(e,t){videojs.plugin("cmp",(function(e){var t=this;if(e.enabled){var n=window;n.__cmp("rendered",(t))})),n.__cmp("hasChoiceBeenMade",null,(function(e){e||t.one("play",(function(){n.__cmp("consentToAll")}))}))}}))},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(89),s=n(0),a=n(1),l=n(21),u=n(3);videojs.plugin("social-share",(function(e){var t=this,n=t.el(),):""},p=function(){return d(t.options().titlscye||""},y=function(e){var n=t.options().linkBaseURL,o=c.qs;if(o&&"object"===i(o[e])&&Object.keys(o[e]).length>0){var s=n.split("?"),a=s[0],l=u.queryStringToObj(s[1]);return(l=u.objToQueryString(r({},l,o[e])))?a+"?"+l:a}return n},m=function(){return{referenceId:t.options().referenceId,type:"video_share",version:l.getVideoPlayerVersion(),videoId:t.options().videoId}},g=function(){c.disabled=s.isString(c.disabled)?c.disabled.split(/ +/):c.disabled,s.forEach(n.className.split(/ +/),(function(e){-1!==e.indexOf("vjs-disable-social-")&&a.removeClass(n,e)})),c.disabled&&s.forEach(c.disa"+e)}))};g(),t.on("request-rec.qs})),t.on("reset",(function(){c=t.options().plugins["social-share"],g()}));var A={postToFB:function(){window.DMS.Facebook.postToFB(f(),JSON.stringify({link:y("facebook"),picture:t.options().thumbnail||t.options().poster||"",name:p(),description:h()}),m())},postToMail:function(){o(t.socials.nativeEmailContent()),window.DMS.Email.emailArticle(f(),JSON.stringify({link:y("email"),picture:t.options().thumbnail||t.options().poster||"",name:p(),description:h()}),m())},postToTWTTR:function(){var e=t.options().shortURL;window.DMS.Twitter.postToTWTTR(f(),JSON.stringify({url:e||y("twitter"),text:p(),via:v()}),m())},postToPinterest:function(){var e=y("pinterest");window.DMS.Pinterest.postToPinterest(f(),{description:h(),forcedUrl:e,via:v(),media:t.options().poster,type:"image",url:e,title:p()},m())},postToReddit:function(){window.DMS.Reddit.postToReddit(f(),{url:y("reddit"),title:p()},m())},postToFark:function(){window.DMS.Fark.postToFark(f(),{u:y("fark"),h:p()},m())},postToLinkedIn:function(){window.DMS.LinkedIn.postToLinkedIn(f(),{url:y("linkedin"),title:p()},m())},embedSnippet:function(){var e=c.embedUrl||"";return e?'<iframe allowfullscreen frameborder="0" width="698" height="573" scrolling="no" id="molvideoplayer" title="MailOnline Embed Player" src="'+e+'"></iframe>':""},videoLink:function(){return t.options().linkBaseURL},maieURL},nativeEmailContent:function(){return{title:p(),link:y("email"),app:t.options().linkBaseURL.includes("thisismoney")?"ThisIsMoney":"MailOnline",host:(e=t.options().linkBaseURL,new URL(e).hostname)};var e}};t.socials=A}))},function(e,t){e.exports=function(e){var t="mailto:?subject="+encodeURIComponent(e.title)+"&body="+encodeURIComponent(e.link)+"%0D%0A%0D%0AGet the "+e.app+" App: %0D%0A https://"+e.host+"/mobile";window!==window.parent?window.open(t):location.href=t}},function(e,t,n){"use strict";n.r(t);var r=n(5),i=n(0),o=n(1),s=n(4);videojs.plugin("sources",(function(e){!function(e){var t=e.url;if(!i.isString(t))throw new TypeError("mol-fe-videoplayer Error: on sources plugin, missing url option")}(e);var t=this,n=new r.a(e.url);function a(){function e(e,n){e?(t.trigger({type:"sources.error",error:e}),t.renditions=[]):(t.renditions=function(e){var n=o.getDimension(t.el()).width;return"iOS"===s.os?function(e,t){var n=c(e.filter(l),t),r=c(e.filter(u),t);return n.concat(r)}(e,n):c(e.filter(u),n)}(function(e){return e.map((function(e){return{id:e.id,src:e.url,type:e.type||(t=e.url,n=t.match(/\.([^./?]+)(\?[^/]+)?$/i),r=n&&n[1],{ogv:"video/ogg",webm:"video/webm",flv:"video/x-flv",mp4:"video/mp4",m4v:"video/mp4",m3u8:"application/x-mpegURL",ts:"video/MP2T","3gp":"video/3gpp",mov:"video/quicktime",avi:"video/x-msvideo",wmv:"video/x-ms-wmv"}[r]||"video/"+r),width:e.frameWidth,height:e.frameHeight,videoContainer:e.videoContainer,bitrate:e.encodingRate,videoCodec:e.videoCodec,duration:i.isNumber(e.duration)?e.duration:0};var t,n,r}))}(n&&n.renditions||[])),t.renditions.length>0&&t.changeRendition(t.renditions)),t.trigger({type:"mol.sources.updated",renditions:t.renditions})}n.get((function(n,r){var o=t._states&&t._states.state&&t._states.state.get();"adsWaiting"===o||"adPlaying"===o?i.once(t,["videoAd.contentResumeRequested","request-resn,r)})):e(n,ner}function c(e,t){return e.dth)}))}function d(e){return{currentTime:e.currentTime(),playing:!e.paused()}}function p(e,t){var n=(i.isArray(t)?t[0]:t).duration/1e3;n>0&&(e.duration(n),e.trigger("timeupdate"))}function h(e,t,n){t.playing&&(e.load(),e.play()),e.one("loadedd,n()}))}e.url=null,t.ready(a),t.on("reset",(function(){var e=t.options().plugins;n=new r.a(e&&e.sources&&e.sources.url||null),a()})),t.changeRendition=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.noop,o=i.extend({},d(t),n||{});t.trigger("mol.sources.renditionChanging"),o.playing&&t.pause();t.src(e),p(t,e),h(t,o,(function(){t.trigger("mol.sources.renditionChanged"),r()}))}}))},function(e,t,n){var r=n(1);videojs.plugin("streaming",(function(){this.options().isStreaming&&(r.addClass(this.el(),"streaming"),r.addClass(this.el().parentNode,"vjs-video-container-streaming"))}))},function(e,t,n){var r=n(1),i=n(93);videojs.plugin("title",(function(){var e=this;function t(){var t=e.options();e.titleChild&&(r.remove(e.titleChild.el_),e.removeChild(e.titleChild),e.titleChild.dispose(),delete e.titleChild),t.title&&!t.isTitleHidden&&(e.titleChild=e.addChild(new i(e,{text:t.title})))}t(),e.on("reset",t)}))},function(e,t,n){var r=n(1),i=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=e.el_,i=this.el_;setTimeout((function(){r.prependChild(n,i)}),0)}});i.prototype.createEl=function(){var e='<div class="vjs-title-text"><div>'+this.options().text+"</div></div>",t=this.player_,n="DAILYMAILTV"===(t.options().source||"").toUpperCase(),i=n?"vjs-title vjs-title-dmtv":"vjs-title",o=n?'<div class="dmtv"></div>'+e:e;return t.el_.parentNode&&r.hasClass(t.el_.parentNode,"vjs-span-one-col")&&r.addClass(t.el_.parentNode,"vjs-one-col-title"),videojs.createEl("div",{className:i,innerHTML:o})},i.prototype.name=function(){return"Title"},e.exports=i},function(e,t,n){var r=n(22);videojs.plugin("history",(function(){var e=this;e.on("playerstate.progress.enter.25",(function(){var t=e.options().videoId;r.push(t)}))}))},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(4);videojs.plugin("autoplay-next-video",(function(){var e=this,t=this;void 0===t.autoplayIndex&&(t.autoplayIndex=0),i.mobile&&t.el().querySelector(".vjs-tech").setAttribute("playsinline","");var n,o,s=(n=regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.nextVideo;case 2:i=e.sent,t.trigger({type:"request-reset",video:r({},i,{playlistClickToPlay:!1}),autoplay:!0});case 4:case"end":return e.stop()}}),n,e)})),o=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var s=e[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(a)}("next"nts)});t.on("playerstate.enter.started",(function(){t.nextVideo=new Promise((function(e,n){t.fetchRelatedVideos((function(t,r){!t&&r&&r.length?e(r[0]):n(t||new Error("Invalid related videos list"))}))}))})),t.on("playerstate.enter.autoplay",s),t.on("playerstate.leave.autopx+=1}))}))},function(e,t,n){=n,e}var o=n(97),s=n(10),a=n(1),l=n(0),u=n(13),c=n(98),d=n(23),p=-1,h=0,f=1,v=(i(r={},p,"off"),i(r,h,"side"),i(r,f,"expand"),r),y=p,m=h,g=f,A=[];A[g]="vjs-flyout-center",A[m]="vjs-flyout-side";var b={viewportOffset:0,viewportGraceOffset:.75,animations:!0,easing:"easeOut",easingScale:"easeOut",animTime:400,animTimeWait:400,expandOnFirstPlay:Boolean(window.PageCriteria&&window.PageCriteria.flyoutExpandOnFirstPlay),switchoffOnEnd:!0},w=!1;videojs.plugin("flyout",(function(e){var t=this,n=t.el(),r=n.parentNode,i=r.className,p=n.offsetHeight,h=y,f=y,j={};j[y]=function(e){z(r,Con")})),t.on("playerstate.enter.adPlaying",V)},j[m]=function(e){l.forEach(A,(function(e){a.removeClass(C,e)})),l.forEar,e)})),a.addClass(r,T[m]),a.addClass(C,"vjs-flyout-on"),a.addClass(C,A[m]),z(C,r,e,m),t.on("playerstate.enter.adPlaying",V)};var T=[];T[m]="vjs-span-one-col",T[g]="vjs-span-three-col";var E=d.overwriteAdOptions(l.extend({},b,e));t.addChild(new c(t)),t.flyoutState=function(){return h},t.flyoutStateName=function(){return v[h]};var C=d.createElBefore(i+" vjs-flyout-placeholder",r);C.style.backgroundImage="url("+t.poster()+")",C.innerHTML='<div class="vjs-flyout-placeholder-content"><span>.</span><span>.</span><span>.</span></div> <div class="vjs-has-started vjs-visually-ready vjs-controls-enabled vjs-default-skin video-js vjs-paused vjs-user-inactive"></div>';var _=function(e,t){var n=C.querySelector(".vjs-flyout-placeholder-content");if(n){var r=e+"<span>.</span><span>.</span><span>.</span>";t&&(r+='<div class="extraText">'+t+"</div>"),n.innerHTML=ge")};C.addEventListener("clnd")}));var k=d.createElBefore("vjs-flyout-wrapper-absolute",r),x=d.createElBefore("vjs-flyout-wrapper-fixed",k);d.wrapElement(r,k),d.wrapElement(k,x);var P=d.getVerticalOffset(),M=0,I=null,B=!1,O=void 0;t.expandOnFirstPlay=E.expandOnFirstPlay;r(G)},D=l.debo,L()}),400);a.addEventListener(window,"scroll",(function(){var e=d.getVerticalOffset();I=e-P,P=e,I>0?M=0:M+=Math.abs(I)})),a.addEventListener(window,"resize",D),a.addEventListener(window,"scroll",L);var N=voi||0)},R=l.throttle((function(){void 0!==N&&h===g&&Math.abs(N-F())>100&&t.trigger("flyout-minimize")}),100);a.addEventListener(window,"scroll",R),t.on("dispose",(function(){C.parentNode.removeChild(C),a.removeEventListener(window,"resize",D),a.removeEventListener(window,"scroll",L),a.removeEventListener(window,"scroll",R),setTimeout((function(){x.parentNode.removeChild(x)}),100)})),t.on("flyout-minimize",(function(){U(m),S(),t.flyoutExpanded=!1,a.removeClass(C,A[g]),a.addClass(C,A[m]),a.removeClass(r,T[g]),a.addClass(r,T[m]),t.trigger("videoAd.resize")})),t.on("flyout-expand",(function(){U(g),_("Video playing inline"),t.flyoutExpanded=!0,a.removeClass(C,A[m]),a.addClass(C,A[g]),a.removeClass(r,T[m]),a.addClass(r,T[g]),t.trigger("videoAd.resize"),N=F()})),t.on("flyout-switchon",(function(e){if(h!==y)return;t.expandOnFirstPlay=!1,S(),a.removeClass(r,"vjs-span-two-col"),h=m,H(e.animationOff),t.flyoutOn=!0})),t.on("flyout-switchoff",(function(e){if(h===y)return;h=y,H(e.animationOff),t.flyoutOn=!1})),t.on("flyout-cl!0})})),t.on("playerstate.enter.standby",(function(){var e=E.viewportGraceOffset*p;E.switchoffOnEnd&&a.isElementInViewport(C,e)&&t.trigger("flyout-switchoff")})),t.expandOnFirstPlay&&t.ready((function(){t.preEventHook("play",(function(e){if(t.expandOnFirstPlay&&(i=r.className),!t.expandOnFirstPlay||t.isFullscreen())return t.expandOnFirstPlay=!1,void e();t.expandOnFirstPlay=!1,w=!0,t.one("flyout-switch-d,e()})),t.trigger({type:"flyout-switchon",animationOff:!0})}),1)})),d.onDisableForceFlyout((function(){t.forceFlyOutInProgress&&t.trigger("flyout-close"),function(){var e=t.options(),n=e.plugins.flyout.forceFlyout||{};n.enabled=!1,n.active=!1,e.plugins.flyout.forceFlyout=n}()})),D();var H=l.throt(e)}),E.animTime+E.animTimef=e}function W(){return!u(t)&&a.hasClass(t.el(),"vjs-video-finished")&&!(t.options().plugins||{})["autoplay-next-video"]}function q(e,t){var n=a.elementPositionInViewport(e,t);return"INSIDE"!==n&&0!==I&&("ABOVE"===n?I>=0:"INSIDE"!==n&&M>=200)}function G(){if(t.isFullscreen())B||(O=t.flyoutState(),t.trigger({type:"flyout-switchoff",animationOff:!0}),B=!0);else{if(B)return O!==y&&t.trigger({type:"flyout-switchon",animationOff:!0}),O===g&&t.trigger("flyout-expand"),void(B=!1);var e=(h===y?E.viewportOffset:E.viewportGraceOffset)*p;if(function(e){if(DM.molContentPlayer){if(DM.molContentPlayer.el().getBoundingClientRect().bottom>-100)return!1}return!w&&!t.hasStarted()&&q(C,e)&&!t.options().isMobile}(e)&&function(){var e=t.options().plugins.flyout;return e.forceFlyout&&(e.forceFlyout.active||e.forceFlyout.enabled)}())return t.muted(!0),w=!0,t.forceFlyOutInProgress=!0,t.trigger("flyout-switchon"),t.one("flyout-switch-done",(function(){t.play(!0)})),void t.one("flyout-switchoff",(function(){t.forceFlyOutInProgress=!1}));!W()&&t.paused()&&h===y||(h===y?W()||!q(C,e)||DM.molContentPlayer||t.trigger("flyout-switchon"):function(e,n){return!!(t.forceFlyOutInProgress&&DM.molContentPlayer&&DM.molContentPlayer.el().getBoundingClientRect().bottom>100)||!!W()&&"INSIDE"===a.elementPositionInViewport(e,n)}(C,e)&&t.trigger("flyout-switchoff"))}}function z(e,n,i,s,u){function c(){u(),f=s,t.trigger("flyout-switch-done"),t.trigger("videoAd.resize"),t.trigger("resize")}l.isFunction(u)||(u=l.noop),E.animations&&!Boolean(i)?(o.hide(r),o.transform(e,n,{duration:E.animTime,easing:o[E.easing],easingScale:o[E.easingScale],overridede()},appendToBody:!0,done:function(){a.removeClass(document.body,"ramjet"),o.show(r),c()}}),a.addClass(document.body,"ramjet")):c()}})),d.onDisableForceFlyout((function(){var e=window.DM&&window.DM.molFeComponents;e.getConfig&&e.getConfig("mol-fe-videoplayer").then((function(t){e.setConfig&&e.setConfig("mol-fe-videoplayer",l.extend(t,{plugins:{flyout:{forceFlyout:{enabled:!1}}}}))}))}))},function(e,t,n){e.exports=function(){"use strict";var e={classCallCheck:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},t=["length","parentRule"],n="undefined"!=typeof CSS2Properties?Object.keys(CSS2Properties.prototype):Object.keys(document.createElement("div").style).fif(e)})),r="http://www.w3.org/2000/svg",i=void 0;try{(i=document.createElementNS(r,"svg")).style.position="fixed",i.style.top=i.style.left="0",i.style.width=i.style.height="100%",i.style.overflow="visible",i.style.pointerEvents="none",i.setAttribute("class","mogrify-svg")}catch(e){console.log("The current browser doesn't support SVG")}varo=!0}function a(e,t,o,s){var a=e.namespaceURI===r,l=e.getBoundingClientRect(),u=l.left,c=l.right,d=l.top,p=l.bottom,h=window.getComputedStyle(e),f=function e(t,r,i){var o=i?i(t,r):t.cloneNode();if(void 0!==o){var s=void 0,a=void 0,l=void 0,u=void 0;if(1===t.nodeType)for(s=window.getComputedStyle(t),n.forEach((function(e){o.style[e]=s[e]})),a=t.childNodes.length,l=0;l<a;l+=1)(u=e(t.childNodes[l],r+1,i))&&o.appendChild(u);return o}}(e,0,o),v={node:e,clone:f,isSvg:a,cx:(u+c)/2,cy:(d+p)/2,width:c-u,height:p-d,transform:null,borderRadius:null};if(a){var y=e.getScreenCTM();v.transform="matrix("+[y.a,y.b,y.c,y.d,y.e,y.f].join(",")+")",v.borderRadius=[0,0,0,0],i.appendChild(f)}else{if(t)f.style.position="fixed",f.style.top=d-parseInt(h.marginTop,10)+"px",f.style.left=u-parseInt(h.marginLeft,10)+"px";else{var m=e.offsetParent;if(null===m||m===document.body||s){var g=document.documentElement;f.style.position="absolute",f.style.top=d+window.pageYOffset-g.clientTop-parseInt(h.marginTop,10)+"px",f.style.left=u+window.pageXOffset-g.clientLeft-parseInt(h.marginLeft,10)+"px"}else{var A=window.getComputedStyle(m),b=m.getBoundingClientRect();f.style.position="absolute",f.style.top=d-parseInt(h.marginTop,10)-(b.top-parseInt(A.marginTop,10))+"px",f.style.left=u-parseInt(h.marginLeft,10)-(b.left-parseInt(A.marginLeft,10))+"px"}}v.transform="",v.borderRadius=[parseFloat(h.borderTopLeftRadius),parseFloat(h.borderTopRightRadius),parseFloat(h.borderBottomRightRadius),parseFloat(h.borderBottomLeftRadius)],s?document.body.appendChild(f):e.parentNode.appendChild(f)}return v}function l(e){e.__ramjetOriginalTransition__=e.style.transition,e.style.transition="",e.style.opacity=0}function u(e){e.style.transition="",e.style.opacity=1,e.__ramjetOriginalTransition__&&setTimon__}))}function c(e){for(;null!==e;){if("fixed"===window.getComputedStyle(e).position)return!0;e=e.namespaceURI===r?e.parentNode:e.offsetParent}return!1}function d(e,t,n,r,i,o,s,a,l){return e?"translate("+t+" "+n+") scale("+(1+l*o)+" "+(1+l*s)+") translate("+-t+" "+-n+") translate("+a*r+" "+a*i+")":"translate("+a*r+"px,"+a*i+"px) scale("+(1+l*o)+","+(1+l*s)+")"}function p(e,t,n,r,i){var o=1+i*n,s=1+i*r;return e.map((function(e,n){var r=t[n];return(e+i*(r-e))/o+"px "+(e+i*(r-e))/s+"prn e}var f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,16)},v=function t(n,r,i){e.classCallCheck(this,t);var o=r.cx-n.cx,s=r.cy-n.cy,a=r.width/n.width-1,l=r.height/n.height-1,u=n.width/r.width-1,c=n.height/r.height-1,v=Date.now(),m=i.duration||400,g=i.easing||h,A=i.easingScale||g;!function e(){var t=Date.now()-v;if(t>m)return n.clone.parentNode.removeChild(n.clone),r.clone.parentNode.removeChild(r.clone),void(i.done&&i.done());var h=g(t/m),b=A(t/m);n.clone.style.opacity=1-h,r.clone.style.opacity=h;var w=p(n.borderRadius,r.borderRadius,a,l,h),j=p(r.borderRadius,n.borderRadius,u,c,1-h);y(n.clone,w),y(r.clone,j);var T=n.cx+o*h,E=n.cy+s*h,C=d(n.isSvg,T,E,o,s,a,l,h,b)+" "+n.transform,_=d(r.isSvg,T,E,-o,-s,u,c,1-h,1-b)+" "+r.transform;n.isSvg?n.clone.setAttribute("transform",C):n.clone.style.transform=n.clone.style.webkitTransform=n.clone.style.msTransform=C,r.isSvg?r.clone.setAttribute("transform",_):r.clone.style.transform=r.clone.style.webkitTransform=r.clone.style.msTransform=_,f(e)}()};function y(e,t){e.style.borderTopLeftRadius=t[0],e.style.borderTopRightRadius=t[1],e.style.borderBottomRightRadius=t[2],e.style.borderBottomLeftRadius=t[3]}var m=document.createElement("div"),g=!0,A=void 0,b=void 0,w=void 0,j=void 0,T=void 0,E=void 0,C=void 0,_=void 0;!window.ActiveXObject&&"ActiveXObject"in window||!("transform"in m.style)&&!("webkitTransform"in m.style)||!("animation"in m.style)&&!("webkitAnimation"in m.style)?g=!1:(g=!0,A="transform"in m.style?"transform":"-webkit-transform","animation"in m.style?(b="@keyframes",w="animationDirection",j="animationDuration",T="animationIterationCount",E="animationName",C="animationTimingFunction",_="animationend"):(b="@-webkit-keyframes",w="webkitAnimationDirection",j="webkitAnimationDuration",T="webkitAnimationIterationCount",E="webkitAnimationName",C="webkitAnimationTimingFunction",_="webkitAnimationEnd"));var S=function t(n,r,i){e.classCallCheck(this,t);var o=function(e,t,n){var r,i=t.cx-e.cx,o=t.cy-e.cy,s=t.width/e.width-1,a=t.height/e.height-1,l=e.width/t.width-1,u=e.height/t.height-1,c=n.easing||h,f=n.easingScale||c,v=n.duration/50,y=[],m=[];function g(n,r,c){var h=e.cx+i*r,f=e.cy+o*r,v=p(e.borderRadius,t.borderRadius,s,a,r),g=p(t.borderRadius,e.borderRadius,l,u,1-r),b=d(!1,h,f,i,o,s,a,r,c)+" "+e.transform,w=d(!1,h,f,-i,-o,l,u,1-r,1-c)+" "+t.transform;y.push("\n\t\t\t"+n+"% {\n\t\t\t\topacity: "+(1-r)+";\n\t\t\t\tborder-top-left-radius: "+v[0]+";\n\t\t\t\tborder-top-right-radius: "+v[1]+";\n\t\t\t\tborder-bottom-right-radius: "+v[2]+";\n\t\t\t\tborder-bottom-left-radius: "+v[3]+";\n\t\t\t\t"+A+": "+b+";\n\t\t\t}"),m.push("\n\t\t\t"+n+"% {\n\t\t\t\topacity: "+r+";\n\t\t\t\tborder-top-left-radius: "+g[0]+";\n\t\t\t\tborder-top-right-radius: "+g[1]+";\n\t\t\t\tborder-bottom-right-radius: "+g[2]+";\n\t\t\t\tborder-bottom-left-radius: "+g[3]+";\n\t\t\t\t"+A+": "+w+";\n\t\t\t}")}for(r=0;r<v;r+=1){var b=r/v*100,w=c(r/v),j=f(r/v);g(b,w,j)}return g(100,1,1),y=y.join("\n"),m=m.join("\n"),{fromKeyframes:y,toKeyframes:m}}(n,r,i),s=o.fromKeyframes,a=o.toKeyframes,l="_"+~~(1e6*Math.random()),u="_"+~~(1e6*Math.random()),c=function(e){var t=document.createElement("style");t.type="text/css";var n=document.getElementsByTagName("head")[0],r=t.styleSheet;return r?r.cssText=e:t.innerHTML=e,n.appendChid(t)}}(b+" "+l+" { "+s+" } "+b+" "+u+" { "+a+" }");n.clone.style[w]="alternate",n.clone.style[j]=i.duration/1e3+"s",n.clone.style[T]=1,n.clone.style[E]=l,n.clone.style[C]="linear",r.clone.style[w]="alternate",r.clone.style[j]=i.duration/1e3+"s",r.clone.style[T]=1,r.clone.style[E]=u,r.clone.style[C]="linear";var f=void 0,v=void 0;function y(){f&&v&&(n.clone.parentNode.removeChild(n.clone),r.clone.parentNode.removeChild(r.clone),i.done&&i.done(),c())}n.clone.addEventListener(_,(function(){f=!0,y()})),r.clone.addEventListen,y()}))};return{transform:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];"function"==typeof n&&(n={done:n}),"duration"in n||(n.duration=400);var r=!!n.appendToBody,i=c(t),l=a(e,i,n.overrideClone,r),u=a(t,i,n.overrideClone,r);return(l.isSvg||u.isSvg&&!o)&&s(),!g||n.useTimer||l.isSvg||u.isSvg?new v(l,u,n):new S(l,u,n)},hide:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(l)}h(u)},linear:h,ee,3)},ea3)+1},ease)+2)}}}()},function(e,t,n){var r=n(99),i=n(100),o=n(101),s=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e);var n=new r(e,t),s=new i(e,t),a=new o(e,t);this.addChild(n),this.addChild(s),this.addChild(a)}});s.className="vjs-flyout-control",s.prototype.creme})},e.exports=s},function(e,t){var n=videojs.Button.extend({});n.prototype.createEl=function(){return videojs.createEl("span",{className:"vjs-flyout-minimize vjs-flyout-button",innerHTML:"Minimize"})},n.prototype.onClick=function(){this.player().trigger("flyout-minimize")},e.exports=n},function(e,t){var n=videojs.Button.extend({});n.prototype.createEl=function(){return videojs.createEl("span",{className:"vjs-flyout-expand vjs-flyout-button",innerHTML:"Expand"})},n.prototype.onClick=function(){this.player().trigger("flyout-expand")},e.exports=n},function(e,t){var n=videojs.Button.extend({});n.prototype.createEl=function(){return videojs.createEl("span",{className:"vjs-flyout-close vjs-flyout-button",innerHTML:"Close"})},n.prototype.onClick=function(){this.player().trigger("flyout-close")},e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(5),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),s=n(103);videojs.plugin("playlist",(function(e){var t=this,n=o.extend({},e),a=new r.a(n.videos),l=void 0,u=e.cycle;function c(e){a.get((function(n,r){n&&t.trigger({type:"warning",message:"plugin.playlist: "+n.message}),e(r||[])}))}function d(e){var n=t.playlistCounter;c((function(t){if(n>=t.length-1){if(!u)return;n=0}else n++;e(n)}))}function p(e){c((function(n){var r=n[e];r&&(t.playlistCounter=e,t.trigger({type:"playlist-play",index:e}),t.trigger({type:"request-reset",video:i({},r),autoplay:!0}))}))}this.playlistCounter=0,t.previous=function(){var e,n;e=p,n=t.playlistCounter,c((function(t){if(n<=0){if(!u)return;n=t.length-1}else n--;e(n)}))},td(p)},t.gotop(e)},t.on("playerstate.enter.ended",(function(){l&&l.hide(),setTimeout(t.next,10)})),t.on("mol.playlist.next",t.next),t.on("playerstate.progress.enterow()})),t.on("playerstate.enter.started",(function(){l&&(t.removeChild(l),l.dispose(),l=void 0,t.nextVideo=void 0),c((function(e){d((function(n){var r=e[n];r&&((l=t.addChild(new s(t,{video:r}))).hide(),t.nextVideo=r)}))}))}))}))},function(e,t,n){var r=n(104),i=r.extend({init:function(e,t){r.call(this,e,t),e.on("playerstate.enter.contentPlaying",this.updateClamp)}});i.prototype.show=function(){videojs.Button.prototype.show.call(this),this.trigger("show")},i.prototype.createEl=function(){var e=this.options().video,t=e.thumbnail||e.poster;return videojs.createEl("div",{className:"vjs-playlist-container",innerHTML:'<div class="vjs-playlist-close-button" role="button" aria-live="polite" tabindex="-1"></div><h3>Up next</h3><div class="vjs-playlist-wrapper"><img src="'+t+'" /></div><div class="vjs-playlist-caption"><h4>'+e.title+"</h4></div>"})},i.prototype.onClick=function(e){var t=this.player();"vjs-playlist-close-button"===e.target.className?this.hide():t.trigger("mol.playlist.next")},e.exports=i},function(e,t,n){var r=n(24),i=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t);var n=this.el();this.updateClamp=function(){r(n.getElementsByTagName("h4"))},e.on("resize",this.updateClamp),this.on("show",this.updateClamp),this.on("dislamp)}))}});e.exports=i},function(e,t,n){"use strict";n.r(t);var r=n(5),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),s=n(13),a=n(22),l=n(106),u=n(110),c=n(112);videojs.plugin("related-videos",(function(e){var t=this,n=i({playlistHistory:!0},e),d=new r.a(n.videos),p=new c(t,n),h=t.controlBar&&t.controlBar.getChild("molPreviousVideoButton"),f=t.controlBar&&t.controlBar.getChild("molSkipVideoButton"),v=null)}function m(){s(t)||b((function(e,n){e||(n.length>0?A(n[0]):t.currentTime(t.duration()))}))}function g(){s(t)||(t.currentTime()<=3&&!p.isEmpty()?A(p.last()):t.currentTime(0))}function A(e){t.resetVideo({video:i({},e,{initialVideo:!1,playlistClickToPlay:!0}),autoplay:!0})}function b(e){d.get((function(r,i){r&&console.log("plugin.related-videos Error: "+r.message),i&&0!==i.length||(console.log("plugin.related-videos Warning: No related videos"),i=[]);var o=a.getMap(),s=[],l=[];i.forEach((function(e){p.contains(e)||n.playlistHistory&&o[e.videoId]||e.videoId===t.options().videoId?s.push(e):l.push(e)})),l.length<15?e(r,l.concat(p.splice(0,15-l.length))):e(r,l)}),{currentVideoId:t.options().videoId,previouslyPlayed:Object.keys(a.getMap())})}h&&h.enable(),f&&f.enable(),t.fetchRelatedVideos=b,t.relatedVideos=d,t.disableControlsListeners=function(){t.off("mol.play.next.video",m),t.off("mol.play.previous.video",g)},t.on("playerstate.enter.pauseStandby",(function(){y(),b((function(e,n){"pauseStandby"===t.playerState.getStateName()&&(v=new l(t,{videos:n}),t.addChild(v))}))})),t.on("playerstate.leave.pauseStandby",y),t.on("playerstate.enter.standby",(function(){y(),b((function(e,n){"standby"===t.playerState.getStateName()&&(v=new u(t,{videos:n}),t.addChild(v))}))})),t.on("playerstate.leave.standby",y),t.on("mol.play.next.video",m),t.on("mol.play.previous.video",g),t.on("reset",(function(){d=new r.a(t.options().plugins["related-videos"].videos),t.relatedVideos=d})),t.on("request-reset",(function(e){var n=e&&e.video||{},r=o.extend({src:t.src(),poster:t.poster()},t.options());p.contains(n)?p.filterOut(n):p.add(r)})),t.trigger("related-videos-ready")}))},function(e,t,n){var r=n(14),i=n(15),o=n(107),s=n(108),a=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=new r(e),a=new i(e);n.addChild(a),a.addChild(new o(e)),a.addChild(new s(e,{videos:t.videos})),this.addChild(n)}});a.prototype.createEl=function(){var e=this.player().options().poster,t={className:"mol-related-videos-view-paused"};return e&&(t.innerHTML='<div class="mol-related-videos-view-paused-backdrop" style="background-image: url(\''+e+"');\"></div>"),videojs.createEl("div",t)},e.exports=a},function(e,t,n){var r=n(2).FacebookButton,i=n(2).TwitterButton,o=n(2).PinterestButton,s=n(2).MailButton,a=n(20),l=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new r(e)),this.addChild(new i(e)),this.addChild(new o(e)),this.addChild(new s(e)),this.addChild(new a(e))}});l.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-panel-social-list"})};var u=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new l(e))}});u.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-panel mol-related-videos-panel-social",innerHTML:'<span class="panel-title">Share this</span>'})},e.exports=u},function(e,t,n){var r=n(25),i=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new r(e,{videos:t.videos.slice(0,6)}))}});i.prototype.crn>'})},e.exports=i},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(24),o=n(0),s=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t);var n=this.h4"))};e.on("resize",r),setTi){r()}),10)}});s.prototype.createEl=function(){var e=this.options().video,t=e.thumbnail||e.poster;return videojs.createEl("div",{className:"mol-related-videos-video",innerHTML:'<div class="video-thumbnail"><img src="'+t+'" /></div><div class="video-caption"><div class="aux-stadiometer"><h4>'+e.title+"</h4></div></div>"})},s.prototype.onClick=o.debounce((function(){var e=this.options().video;this.player().trigger({type:"request-reset",video:r({},e,{unmute:!0,playlistClickToPlay:!0}),autoplay:!0})}),50),e.exports=s,t["video.js"]=videojs},function(e,t,n){var r=n(14),i=n(15),o=n(111),s=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=new r(e),s=new i(e);n.addChild(s),s.addChild(new o(e,{videos:t.videos})),this.addChild(n)}});s.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-view-ended"})},e.exports=s},function(e,t,n){var r=n(25),i=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new r(e,{videos:t.videos.slice(0,13)}))}});i.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-panel mol-related-videos-panel-ended"})},e.exports=i},function(e,t,n){var r=n(0);function i(e,t){var n=r.extend({},t);this._playlistHistory=[],this._player=e,this._updatePlayerState(),this._maxHistorySize=n.maxHistorySize||0}i.prototype.add=function(e){this._playlistHistory.push(e),0!==this._maxHistorySize&&this._playlistHistory.length>this._maxHistorySize&&this._playlistHistory.shift(),this._updatePlayerState()},i.prototye(),e},i.prototypth-1]},i.prototype.(e,t)},i.prototype.ingth)},i.prototype.contains=function(e){return this._playlistHistory.some((function(t){var n=t.referenceId;return!!e.referenceId&&n===e.referenceId}))},i.prototype.filterOut=function(e){this._playlistHistory=this._playlistHistory.filter((function(t){var n=t.referenceId;return!!e.referenceId&&n!==e.referenceId})),this._updatePlayerState()},i.prototype._updatePlayerState=function(){this._player.el().classList.toggle("mol-empty-playlist",this.isEmpty())},e.exports=i},function(e,t,n){var r=n(10);videojs.plugin("reset",(function(){var e=this;e.on("request-reset",(function(t){var n=t.video,i=t.autoplay;r.y:i})}))})),e.on("reset-sources",(function(t){var n,i=t.video,o=t.autoplay;i.src?(e.playingRecommendedVideo=!0,e.autoplay(!1),e.pause(),e.src(i.src),e.poster(i.poster),e.playlistClickToPlay=Boolean(i.playlistClickToPlay),e.options((delete(n=i||{}).isMobile,n)),i.unmute&&e.muted(!1),i.plugins&&i.plugins.tracking&&!i.plugins.tracking.dmtvEpisode&&(e.options().plugins.tracking.dmtvEpisode=null),r.defer((function(){e.trigger("reset")})),e.on("reset",(function(){o&&!e.autoClosedSticky&&r.defer((function(){e.play()}))}))):console.log("reset-resources request ignored. The passed video has no sources",i)})),e.reselay})}}))},function(e,t,n){"use strict";n.r(t);var r=n(6),i=n(7),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),a=n(21),l=n(3),u=n(23),c=n(8),d=n(115),p=n(116);u.onDisableForceF!1}})}));var h={"vjs-span-one-col":"one-col","vjs-span-two-col":"two-col","vjs-span-three-col":"three-col"};videojs.plugin("tracking",(function(e){var t=this,n=i.pageEvents,u=!1;try{t.options().plugins.tracking.disableMolTracking&&(u=!0)}catch(t){e.disableMolTracking&&(u=!0)}n=u?o({},i.pageEvents,{pa:n})}}):i.pageEvents;var f=t.id()+"video",v=void 0,y=void 0,m=!1,g=!1,A=!1,b=void 0,w=l.queryStringToObj(window.location.search),j=s.isDefined(w.debugNielsenVideoDCR)&&"true"===w.debugNielsenViming)}function E(e,t){return e.autoplayInline?"autoplayInlineVideoPlayer":e.flyoutOn?e.forceFlyOutInProgress?e.flyoutExpanded?"flyout_expanded_automatic_v2":"flyout_collapsed_automatic_v2":e.flyoutExpanded?"flyout_expanded_user_v2":"flyout_collapsed_user_v2":t.trackingType}function C(n,i){var o="ad"===n,s=o?y:T(),l=o&&y;try{v=t.options().plugins.tracking}catch(t){v=e}var u=v.title||t.options().title,h={autoplay:c(t),animatedPreviewEnabled:Boolean(t.options().animatedPreviewEnabled),dmtvEpisode:v.dmtvEpisode||null,currentSrc:t.currentSrc(),currentType:t.currentType(),length:s?-1:1e3*t.duration(),version:a.getVideoPlayerVersion(),pageMetadata:Object(r.getPageMetadata)(),videoId:t.options().videoId,title:u,img:t.poster(),displayName:u,playerId:I()+(t.isPlayingAdhesive?" article-sticky":""),experienceId:f,sponsored:v.sponsored,playerType:t.techName.toUpperCase(),playlist:"playlistCounter"in t,continuePlayList:"playlistCounter"in t&&t.playlistCounter>0||"autoplayIndex"in t&&t.autoplayIndex>0,trackingType:E(t,v),channelShortName:v.channelShortName,initialVideo:Boolean(t.options().initialVideo),referenceId:v.referenceId,videoChannel:v.videoChannel||v.channelShortName,offset:l?0:t.currentTime(),duration:s?0:t.duration(),fullscreen:t.isFullscreen(),paused:t.paused(),muted:t.muted(),adSDK:t.adSDK,adBlockStatus:d(),isPlayingAdhesive:t.isPlayingAdhesive,isPortraitVideo:Array.isArray(t.renditions)&&t.renditions.length>0&&t.renditions[0].height>t.renditions[0].width,adsEnabled:t.adsEnabled};return t.options()["fbia-embed"]?h.ito="FBIA":t.options().syndicationService&&(h.ito=t.options().syndicationService.toUpperCase()),t.playingRecommendedVideo?v.recommendationModel&&(h.recommendationModel=v.recommendationModel):h.recommendationModel=t.tagAttributes["data-recommendation-model"],i&&(h.errorMessage=i.message,i.code&&(h.adErrorCode=i.code||i.errorCode)),m&&(h.program="DailyMail '"+v.channelShortName+"' Videos",h.isfullepisode="n",h.hasAds=t.adsEnabled?1:0,h.adloadtype=1,h.subbrand=p.getSubbrand(h.videoChannel)),h}function _(e){return s.extend({},e,C())}b=window._nolggGlobalParams,j&&(b={apid:"T1E713557-917A-4B7A-98A0-45AB34B64C08",apn:"dailymail au",sfcode:"dcr-cert"}),b&&b.apid&&b.apn&&(m=!0,p.initInstance(t,b)m=!1)}))),t.ready((function(){n.publish(n.VIDEO_PLAYER_READY,{playerType:t.techName.toUpperCase(),experienceId:f})}));var S=!1,k=!1,x=!1;function P(e){S||(S=!0,n.publish(n.VIDEO_STREAM_STARTED,C(e)))}function M(e){x||(x=!0,n.publish(n.VIDEO_STREAM_FAILED,C("",e)))}function I(){var n=t.options();if("xpmodule"===e.trackingType)return n.playerId;if(n["fbia-embed"])return"fbiaembedded";if("fbia"===n.syndicationService)return"fbiaembedded";if("gamp"===n.syndicationService)return"gampembedded";if("portraitVideoCarousel"===n.playerId)return"portraitvideocarousel";if(n.isEmbedded)return"thirdpartyembedded";if(n.isMobile)return"mobile";if(document.querySelectorAll(".ez-modal-on").length||void 0!==t.tagAttributes["data-is-lightbox-video"])return"carousel";var r=(t.el().parentNode.className||"").match(/(vjs-span-)([^ ]+)*/);if(!r)return"responsive";var i="article-"+(h[r[0]]||"default"),o=t.flyoutStateName&&t.flyoutStateName();return o&&"off"!==o&&(i+="-flyout-"+o),i}function B(e){n.publish(n.VIDEO_ADVERT_FAILED,o({},C("ad",e.error),{adTag:e.adTag})),setTior"))}),5e3)}t.on("videoAd.error",B),t.on("vast.adError",B),t.on("error",(function(){var e=t.el().querySelector(".vjs-tech"),n=e&&e.error;n&&M(n)})),t.on("playerstate.enter.started",(function(){n.publish(n.VIDEO_DATA_READY,C()),S=!1,k=!1,x=!1})),t.on("playerstate.enter.adEnded",(function(){m&&(g=!1,p.prerollEnded(C("ad"),t)),n.publish(n.VIDEO_ADVERT_COMPLETED,C("ad"))})),t.on("playerstate.enter.contentReady",(function(){P(),m&&!A&&(A=!0,p.videoStart(C(),t,T()),p.setPlayhead(t,T())),k||(k=!0,n.publish(n.VIDEO_CONTENT_STARTED,C()))})),t.on("playerstate.enter.contentPlaying",(function(){m&&!A&&(A=!0,p.videoStart(C(),t,T()),p.setPlayhead(t,T()))})),t.on("playerstate.enter.adPlaying",(function(){try{y="VPAID"===t.adUnit.type}catch(e){y=!0,console.log("player.adUnit is unexpectedly null")}P("ad"),m&&!g&&(p.videoStart(C(),t,T()),g=!0,p.preroll(C("ad"),t,y),p.setPlayhead(t,T())),n.publish(n.VIDEO_ADVERT_STARTED,C("ad"))})),t.on("playerstate.leave.pauseStandby",(function(){n.publish(n.VIDEO_RESUMED,C())})),t.on("playerstate.enter.pauseStandby",(function(){n.publish(n.VIDEO_PAUSED,C())})),t.on("playerstate.leave.seeking",(function(){n.publish(n.VIDEO_RESUMED,C())})),t.on("playerstate.enter.seeking",(function(){n.publish(n.VIDEO_PAUSED,C())}));if(t.one("fullscreenchange",(function e(){t.hasStarted()&&n.publish(n.VIDEO_EXTRA,C()),setTimeout((function(){t.one("fullscreenchange",e)}),200)})),t.on("volumechange",(function(){t.hasStarted()&&n.publish(n.VIDEO_EXTRA,C())})),t.on("playerstate.enter.ended",(function(){var e=C();0!==e.offset&&0!==e.duration&&(n.publish(n.VIDEO_CONTENT_COMPLETED,e),m&&(A=!1,p.end(e,t)))})),t.on("playerstate.enter.adAboad"))})),t.on("playerstate.enter.destroyedDuringAds",(function(){var e=C("ad");n.publish(n.VIDEO_ADVERT_ABORTED,e),p.videoReset(e,t),g=!1,A=!1})),t.on("playerstate.enter.aborting",(function(){var e=C();n.publish(n.VIDEO_CONTENT_ABORTED,e),p.videoReset(e,t),g=!1,A=!1})),t.on("playerstate.enter.destr,C())})),t.on("playerstate.progress.enter.0",(function(){if(!T()){var e={begin:0,end:.25,data:{segmentNum:1,segment:"M:0-25",ratio:0}};e.data.segmentLength=(e.end-e.begin)*t.duration(),n.publish(n.VIDEO_PROGRESS,_(e.data))}})),t.on("playerstate.progress.enter.25",(function(){if(!T()){var e={begin:.25,end:.5,data:{segmentNum:2,segment:"M:25-50",ratio:.25}};e.data.segmentLength=(e.end-e.begin)*t.duration(),n.publish(n.VIDEO_PROGRESS,_(e.data))}})),t.on("playerstate.progress.enter.50",(function(){if(!T()){var e={begin:.5,end:1,data:{segmentNum:3,segment:"M:50-100",ratio:.5}};e.data.segmentLength=(e.end-e.begin)*t.duration(),n.publish(n.VIDEO_PROGRESS,_(e.data))}})),m){var O=0;t.on("timeupdate",(function(){var e=Date.now();e-O>=1e3&&(p.setPlayhead(t,T()),O=e)}))}}))},function(e,t){var n="UNKNOWN";Array.isArray(window.adBlockQueue)&&window.adBlockQueue"OFF"})),e.exports=function(){return n}},function(e,t){var n=void 0,r={},i={};function o(){return n||(n=new Promise((function(e,t){var n,r;window.NOLCMB?e():(n=document.getElementsByTagName("script")[0],(r=document.createElement("script")).type="text/javascript",r.async=!0,r.onload=e,r.onerror=t,r.src="http://cdn-gl.imrworldwide.com/novms/js/2/ggcmb510.js",n.parentNode.insertBefore(r,n))}))),nOLCMB}))}function s(e){return Promise.resolve(r[e.id()])}function a(e,t){return s(t).then((function(n){if(!n)return null;n.ggPM("stop",Math.ceil(e.offset)),i[t.id()]=null}))}e.exports={end:function(e,t){return s(t).then((function(n){if(!n)return null;n.ggPM("end",Math.ceil(e.offset)),i[t.id()]=null}))},initInstance:function(e,t){var n=e.id();return r[n]=o().then((function(e){var n={sfcode:t.sfcode||"dcr",apid:t.apid,apn:t.apn,nsdkv:"511"},r=e.getInstance(n.apid);return r.ggInitialize(n),r})).,null})),r[n]},preroll:function(e,t,n){return s(t).then((function(r){if(!r)return null;var o={type:"preroll",assetid:e.experienceId+(n?"-vpaid":"")};r.ggPM("loadMetadata",o),i[t.id()]="preroll"}))},prerollEnded:a,videoReset:a,setPlayhead:function(e,t){return s(e).then((function(n){if(!n)return null;if(i[e.id()]){var r=t?Math.floor(Date.now()/1e3):Math.round(e.currentTime());n.ggPM("setPlayheadPosition",r)}}))},videoStart:function(e,t,n){return function(e,t,n){return s(t).then((function(r){if(!r)return null;if(!i[t.id()]||"video"!==i[t.id()]){var o={type:"content",dataSrc:"cms",assetid:e.videoId,section:window._nolggGlobalParams&&window._nolggGlobalParams.section,title:e.title,length:n?86400:Math.floor(e.duration),program:e.program,isfullepisode:e.isfullepisode,hasAds:e.hasAds,adloadtype:e.adloadtype,subbrand:e.subbrand};r.ggPM("loadMetadata",o),i[t.id()]="video"}}))}(e,t,n)},getSubbrand:function(e){return"string"!=typeof e?"":/femail/gi.test(e)?"c01":/health/gi.test(e)?"c02":/home/gi.test(e)?"c03":/news/gi.test(e)?"c04":/science/gi.test(e)?"c05":/sport/gi.test(e)?"c06":/showbiz/gi.test(e)?"c07":/travel/gi.test(e)?"c08":"b01"}}},function(e,t){videojs.plugin("video-starts",(function(e){var t=this;t.videoStarts="number"==typeof e.videoStarts?e.videoStarts:1,t.on("request-rrts++}))}))},function(e,t,n){var r,i,o=n(0);videojs.plugin("animated-preview",(r=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.location.search||!window.location.search.match(/disableVideoPreview=1/i)){e.next=2;break}return e.abrupt("return");case 2:return n=this,e.next=5,DM.later(["DOM_READY","molFeVideoPreview_LOADED"]);case 5:if(DM.molFeVideoPreview&&DM.molFeVideoPreview.renderSingleVideoPreview){e.next=7;break}return e.abrupt("return");case 7:n.ready((function(){for(var e=n.posterImage.el_,r=Object.keys(t),i=n.controlBar&&n.controlBar.getChild("molPreviousVideoButton"),s=n.controlBar&&n.controlBar.getChild("molSkipVideoButton"),a=0,l=r.length;a<l;a++){var u=r[a];e.setAttribute(u,t[u])}var c=DM.molFeVideoPreview.renderSingleVideoPreview(e);n.el().classList.add("mol-fe-animated-preview"),n.options().animatedPreviewEnabled=!0,i&&i.disable(),s&&s.disable(),n.one("playerstate.enter.contentPlable()})),o.once(n,["play"],(function(){c.unloadElement()}))}));case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var s=e[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(a)}("next")}))},function(e){return i.apply(this,arguments)}))},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(4),o=n(26),s=n(121);videojs.plugin("editorial-content",(function(){var e=this,t=function(){Math.abs(e.duration()-e.currentTime())<1?e.trigger("autoplay-next-video-restart"):e.play()},n=function(){Math.abs(e.duration()-e.currentTime())<1&&e.trigger("autoplay-next-video-cancel"),e.pause()};function a(){e.fetchRelatedVideos((function(i,s){var a=s[0];e.trigger({type:"request-reset",video:r({},a),autoplay:!1}),o.check(e.el()),e.el().addEventListener("viewport.enter",t),e.el().addEventListener("viewport.exit",n)}))}s(e),e.muted(!0),e.volume(0),e.el().classList.add("mol-editorial-content"),i.mobile&&e.el().querySelector(".vjs-tech").setAttribute("playsinline",""),e.on("playerstate.enter.staeen()})),e.fetchRelatedVideos?a():e.on("related-videos-ready",a),e.on("request-reset",(function(t){var n,r=t&&t.video;r&&(n=r,e.relatedVideos.get((function(t,r){var i=r.findIndex((function(e){return e.referenceId===n.referenceId}));r.splice(i,1),r.push(n),e.relatedVideos.update(r)})))}))}))},function(e,t){e.eom<=s}},function(e,t){e.eer=e)}},function(e,t,n){var r=n(26),i=n(4),o=n(3),s=n(123),a=n(16).getHasBeenEnabledOnPage,l=n(126),u=n(17),c=function(){return"wifi"===(navigator.connection||navigator.mozConnection||navigator.webkitConnection||{}).type};videojs.plugin("autoplay-inline",(function(e){var t,n,d,p,h=this,f=(n=(t=e).android,d=t.iOS,(p=o.queryStringToObj(window.location.search)).allowedConnection?p.allowedConnection:"android"===i.os.toLowerCase()?n:"ios"===i.os.toLowerCase()?d:"off"),v=void 0;if("off"!==f){var y=function(){a()||("autoplay"===h._states.state.get()&&h.trigger("autoplay-inline-cancel"),h.pause(),h.autoplayInline=!1,h.removeChild(v))},m=function(){("wifi"===f&&c()||"data"===f&&!c()||"all"===f)&&(a()||(h.autoplayInline=!0,0!==h.duration()&&Math.abs(h.duration()-h.currentTime())<1?h.trigger("autoplay-inline-restart"):(v=new u(h),h.addChild(v),h.muted(!0),h.play())))};s((function(ervice}(h)?(r.check(h.el()),h.el().addEventListener("viewport.enter",m),h.el().addEventListener("viewport.exit",):y()})))}))}}))},function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Missing callback");if(null===sessionStorage.getItem("autoplaySupported")){var t=document.createElement("video");t.autoplay=!0,t.src="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAAAAG1wNDJtcDQxaXNvbWF2YzEAAATKbW9vdgAAAGxtdmhkAAAAANLEP5XSxD+VAAB1MAAAdU4AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACFpb2RzAAAAABCAgIAQAE////9//w6AgIAEAAAAAQAABDV0cmFrAAAAXHRraGQAAAAH0sQ/ldLEP5UAAAABAAAAAAAAdU4AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAoAAAAFoAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAHVOAAAH0gABAAAAAAOtbWRpYQAAACBtZGhkAAAAANLEP5XSxD+VAAB1MAAAdU5VxAAAAAAANmhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABMLVNNQVNIIFZpZGVvIEhhbmRsZXIAAAADT21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAw9zdGJsAAAAwXN0c2QAAAAAAAAAAQAAALFhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAoABaABIAAAASAAAAAAAAAABCkFWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAOGF2Y0MBZAAf/+EAHGdkAB+s2UCgL/lwFqCgoKgAAB9IAAdTAHjBjLABAAVo6+yyLP34+AAAAAATY29scm5jbHgABQAFAAUAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAAQBjdHRzAAAAAAAAAB4AAAABAAAH0gAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAB9IAAAAUc3RzcwAAAAAAAAABAAAAAQAAACpzZHRwAAAAAKaWlpqalpaampaWmpqWlpqalpaampaWmpqWlpqalgAAABxzdHNjAAAAAAAAAAEAAAABAAAAHgAAAAEAAACMc3RzegAAAAAAAAAAAAAAHgAAA5YAAAAVAAAAEwAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABRzdGNvAAAAAAAAAAEAAAT6AAAAGHNncGQBAAAAcm9sbAAAAAIAAAAAAAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAAeAAAAAAAAAAhmcmVlAAAGC21kYXQAAAMfBgX///8b3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMTEgNzU5OTIxMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTUgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0xMSBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgc3RpdGNoYWJsZT0xIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PWluZmluaXRlIGtleWludF9taW49Mjkgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz0ycGFzcyBtYnRyZWU9MSBiaXRyYXRlPTExMiByYXRldG9sPTEuMCBxY29tcD0wLjYwIHFwbWluPTUgcXBtYXg9NjkgcXBzdGVwPTQgY3BseGJsdXI9MjAuMCBxYmx1cj0wLjUgdmJ2X21heHJhdGU9ODI1IHZidl9idWZzaXplPTkwMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAG9liIQAFf/+963fgU3DKzVrulc4tMurlDQ9UfaUpni2SAAAAwAAAwAAD/DNvp9RFdeXpgAAAwB+ABHAWYLWHUFwGoHeKCOoUwgBAAADAAADAAADAAADAAAHgvugkks0lyOD2SZ76WaUEkznLgAAFFEAAAARQZokbEFf/rUqgAAAAwAAHVAAAAAPQZ5CeIK/AAADAAADAA6ZAAAADwGeYXRBXwAAAwAAAwAOmAAAAA8BnmNqQV8AAAMAAAMADpkAAAAXQZpoSahBaJlMCCv//rUqgAAAAwAAHVEAAAARQZ6GRREsFf8AAAMAAAMADpkAAAAPAZ6ldEFfAAADAAADAA6ZAAAADwGep2pBXwAAAwAAAwAOmAAAABdBmqxJqEFsmUwIK//+tSqAAAADAAAdUAAAABFBnspFFSwV/wAAAwAAAwAOmQAAAA8Bnul0QV8AAAMAAAMADpgAAAAPAZ7rakFfAAADAAADAA6YAAAAF0Ga8EmoQWyZTAgr//61KoAAAAMAAB1RAAAAEUGfDkUVLBX/AAADAAADAA6ZAAAADwGfLXRBXwAAAwAAAwAOmQAAAA8Bny9qQV8AAAMAAAMADpgAAAAXQZs0SahBbJlMCCv//rUqgAAAAwAAHVAAAAARQZ9SRRUsFf8AAAMAAAMADpkAAAAPAZ9xdEFfAAADAAADAA6YAAAADwGfc2pBXwAAAwAAAwAOmAAAABdBm3hJqEFsmUwIK//+tSqAAAADAAAdUQAAABFBn5ZFFSwV/wAAAwAAAwAOmAAAAA8Bn7V0QV8AAAMAAAMADpkAAAAPAZ+3akFfAAADAAADAA6ZAAAAF0GbvEmoQWyZTAgr//61KoAAAAMAAB1QAAAAEUGf2kUVLBX/AAADAAADAA6ZAAAADwGf+XRBXwAAAwAAAwAOmAAAAA8Bn/tqQV8AAAMAAAMADpkAAAAXQZv9SahBbJlMCCv//rUqgAAAAwAAHVE=",t.load(),t.style.display="none",t.playing=!1,t.muted=!0,t.setAttribute("webkit-playsinline","webkit-playsinline"),t.setAttribute("playsinline","playsinline"),t.play(),t.ng=!0},t.addEventListener("play",(function(){var n=Boolean(t.playing);try{sessionStorage.setItem("autoplaySupported",n)}catch(e){}e(n)}))}else e("true"===sessionStorage.getItem("autoplaySupported"))}},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=e.controlBar.getChild("molPreviousVideoButton"),r=e.controlBar.children_.find((function(e){return e.el_.classList.contains("vjs-play-control")})),i=e.controlBar.getChild("molSkipVideoButton");this.addChild(n),this.addChild(r),this.addChild(i)}});n.prototype.name=function(){return"MolOverlayMainControls"},n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-controls-overlay-main-controls"})},e.exports=n},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=e.controlBar.children_.find((function(e){return e.el_.classList.contains("vjs-progress-control")})),r=e.controlBar.children_.find((function(e){return e.el_.classList.contains("vjs-volume-menu-button")})),i=e.controlBar.children_ols")}));this.addChild(n),this.addChild(r),this.addChild(i)}});n.prototype.name=function(){return"MolOverlayBottomControls"},n.prototype.crls"})},e.exports=n},function(e,t){var n=!1,r=!1;e.exports=function(e){if(!window.parent)throw new Error("Player is not in an iframe");n||(window.parent.postMessage({sentinel:"amp",type:"send-intersections"},"*"),n=!0),window.addEventListener("message",(function(t){t.source===window.parent&&t.origin!==window.location.origin&&t.data&&"amp"===t.data.sentinel&&"intersection"===t.data.type&&t.data.changes.forEach((function(t){var n=t.intersectionRatio;!r&&n>.4?e(r=!0):r&&n<.4&&e(r=!1)}))}))}},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(18);videojs.plugin("video-advertising-mode",(function(){var e=this;e.videoAdvertisingMode=!0,e.options_.inactivityTimeout=3e3,e.userActive(!1);e.on("request-reset",(function(t){var n,r=t&&t.video;r&&function(e){return!e.options_.plugins["related-videos"]||Array.isArray(e.options_.plugins["related-videos"].videos)}(e)&&(n=r,e.relatedVideos.get((function(t,r){var i=r.findnceId}));r.splice(i,1),r.push(n),e.relatedVideos.update(r)}))),e.trigger("playlistItem")}));var t=function(){e.fetchRelatedVideos((function(t,n){if(t)throw t;var i=n[0];e.trigger({type:"request-reset",video:r({},i),autoplay:!0}),e.videoStarts=1}))};e.el().closest(".vjs-video-container").classList.add("mol-video-advertising-mode"),e.on("videoAd.start",(function(){e.trigger("adStart")})),e.on("videoAd.impression",(function(){e.trigger("adImpression")})),e.on("videoAd.error",(function(){e.trigger({type:"adError",code:e.adUnit&&e.adUnit.errorCode})})),e.on("timeupdate",(function(){e.trigger({type:"time",duration:e.duration(),position:e.currentTime()})})),e.ready((function(){var n=new i(e,{});e.addChild(n),e.fetchRelatedVideos?t():e.on("related-videos-ready",t),setTible")}))}))}))},function(e,t){videojs.plugin("portrait-mode",(function(){var e=this,t=e.options(),n=t.autoplay,r=t.fbiaEmbed,i=t.flyaway,o=t.isMobile,s=t.original,a=t.syndicationService,l=t.plugins,u=l&&l["headless-mode"];!o||!s||r||n||i||"fbia"===a||"gamp"===a||u||e.ready((function(){var t=e.preEventHook("play",(function(n){if(t(),Array.isArray(e.renditions)){var r=e.renditions[0];r.height>r.width&&e.requestFullscreen()}n()}))}))}))},function(e,t){videojs.plugin("key-moments",(function(){try{var e=this,t=new URLSearchParams(window.location.search),n="PageCriteria"in window&&window.PageCriteria.channel&&"video"===window.PageCriteria.channel,r=parseInt(t.get("t"),10);n&&t.get("t")&&"number"==typeof r&&!isNaN(r)&&(e.keyMomentAutoplay=!0,e.ready((function(){e.one("videoAd.contentResumeRequested",(function(){var t=e.preEventHook("),n()}))})),e.muted(!0),e.play()})))}catch(e){console.error("Error initialising key-moments video plugin",e)}}))},function(e,t){videojs.plugin("headless-mode",(function(){var e=this.el().querySelector(".vjs-tech");this.headlessMode=!0,this.el().closest(".vjs-video-container").classList.add("mol-headless-mode"),e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline","")}))},function(e,t,n){var r=n(13);videojs.plugin("detect-interrupted-play",(function(e){var t=this,n=e&&e.delay||1e3,i=!1,o=!1,s=null,a=function e(){o||!t.paused()||t.paused()&&!i||r(t)?clearTimeout(s):!function(){var e=t.el().getElementsByTagName("video")[0];if(e){var n=e.buffered,r=e.currentTime;return!(n.length&&r>=n.start(0)&&r<=n.end(0))}return!1}()?t.trigger("play-interrupted"):s=setTimeout(e,n)};t.preEventHook("play",(function(e){return i=!0,o=!1,s&&clearTimeout(s),s=setTimeout(a,n),e()})),t.preEventHook("pause",(function(e){return o=!0,i=!1,s&&clearTimeout(s),e()})),t.on("plaut(s)})),t.on("error",(function(){i=!1,o=!1,s&&clearTimeout(s)}t,n){},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(27).merge,o=n(1),s=n(0),a=n(un(e)};un(e)},l.initializ(e,t)},l.initializeHeadlessPlayer=function(e,t){return this.initializeVideo(e,i({},{isTitleHidden:!0,children:{loadingSpinner:{},controlBar:!1,bigPlayButton:!1,textTrackSettings:!1,textTrackDisplay:!1},plugins:{"headless-mode":{}}},t))},l.clone=function(e,t){var n=e.player,r=a.getMediaOpts(e);if(n&&r){t&&(r=s.extend({},r,t));var i=document.createElement("video");return i.className="video-js",i.setAttribute("width",n.width()),i.setAttribute("height",n.height()),i.setAttribute("controls","true"),i.setAttribute("preload","none"),i.setAttribute("data-opts",JSON.stringify(r)),n.autoplay()&&i.setAttribute("autoplay","autoplay"),s.forEach(n.options().sources,(function(e){var t=document.createElement("source");t.setAttribute("src",e.src),t.setAttribute("width",e.width),t.setAttribute("height",e.height),t.setAttribute("type",e.type),i.appendChild(t)})),i}},l.destroy=function(e){l.forEachPlayer(e,(function(){this.trigger("request-dispose")}))},l.forEachPlayer=function(e,t){var n=void 0;"function"==typeof e&&(t=e,e=void 0),n=(e=e||document)!==document&&o.hasClass(e,"video-js")?[e]:e.querySelectorAll(".video-js"),s.forEayer)}))};var u={sh(t)},l.off=function(e,t){e in u&&(void 0===(void 0===t?"undefined":r(t))?delete u[e]:u[e]=u[e].ft!==e})))},l.trigger=function(e,t){for(var n=(e in u?u[e]:[]),r=0,i=n.length;r<i;r++)n[r](t)},e.exports=l},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iteof e},)}))}}var s=n(27).merge,a=n(4),l=n(135);n(136);var u,c=(u=o(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={plugins:{}},!window.adverts||"function"!=typeof window.adverts.getVideoAdsSetup){e.next=12;break}return e.prev=2,e.next=5,window.adverts.getVideoAdsSetup(t,n);case 5:(o=e.sent)&&(o["ads-setup"]&&(r.plugins["ads-setup"]=o["ads-setup"]),o.flyout&&(r.plugins.flyout=o.flyout),o.flyawayPlayer&&(r.flyawayPlayer=o.flyawayPlayer),o.debugOn&&(r.debugOn=o.debugOn)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error while getting config from ads bundle",e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,i,[[2,9]ents)}),d={title:"",descr:"",poster:"",preload:"none",linkBaseURL:window.location.href,playerId:0,videoId:0,plugins:{"vjs-api-hooks":{},"duration-plugin":{},cmp:{enabled:Boolean(document.querySelector(".video-iframe"))&&Boolean(window.__cmp)},history:{},"player-state":{},"player-events":{},"multiple-clicks-fix":{},reset:{},"social-share":{},title:{},mobile:{},streaming:{},"video-starts":{},"portrait-mode":{},"key-moments":{},"detect-interrupted-play":rvice};function h(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=f.mergeConfigs.apply(f,[t].concat(r));o&&o.plugins&&(delete o.plugins["branded-content"],delete o.plugins["post-content"]);var s=videojs(e,o);return s.log("initializing"),o.isTitleHidden&&s.el().closest(".vjs-video-container").classList.add("title-is-hidden"),p(s.options_)&&(s.ready((function(){"complete"===document.readyState?l():document.addEventListener("readystatech&&l()}))})),window.addEventListener("orientationchange",l)),s}function f(e){if(!(this instanceof f))return new f(e);this.options=e||d}f.prototype.run=function(e){var t,n=this,r=this.options,i=f.getMediaEls(e),s=f.filterByInstantiability(i);return Promise.all(s.map((t=o(regeneratorRuntime.mark((function e(t){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=f.getMediaOpts(t),e.next=4,c(t,i);case 4:o=e.sent,h(t,o,r,i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error while getting player config",e.t0);case 11:case"end":return e.stop()}}),e,n,[[0,8]ents)})))},f.mergeConfigs=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=s.apply(void 0,[{}].concat(n));return i.plugins&&("iOS"===a.os&&a.osMajorVersion<=7&&delete i.plugins["related-videos"],Object.keys(i.plugins).forEach((function(t){e.plugins&&e.plugins[t]&&!1===e.plugins[t].enabled?delete i.plugins[t]:e.plugins[t]&&(i.plugins[t]=s({},i.plugins[t]||{},e.plugins[t]))})),(i.isMobile||p(i))&&delete i.plugins.flyout,e.flyawayPlayer&&(i.flyawayPlayer=e.flyawayPlayer),e.debugOn&&(i.debugOn=e.debugOn)),i},f.prototype.initializeVideo=function(e,t){var n=this;if(!e)throw new Error("Initialize Video Error: Video element '"+e+"'");if(t&&"object"!==(void 0===t?"undefined":r(t)))throw new Error("Initialize Video Error: Invalid options map");return c(e,t).then((function(r){try{return h(e,r,n.options,t)}catch(e){console.error("Error while initializing player",e)}}))},f.getMediaEls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(f.isVideoElement(e))return[e];var t=e.getElementsByTagName("video"),n=[],r=void 0,i=void 0;if(t&&t.length>0)for(r=0,i=t.length;r<i;r++)n.push(t[r]);return n},f.filterByInstantiaated)},f.isVideoElement=function(e){return Boolean(e)&&Boolean(e.tagName)&&"VIDEO"===e.tagName.toUpperCase()},f.canBeInstantiated=function(e){return f.isVideoElement(e)&&Boolean(e.getAttribute("data-opts"))&&!e.player},f.getMediaOpts=function(e){try{var t=e.getAttribute("data-opts");return JSON.parse(t)}catch(e){return{}}},e.exports=f},function(e,t){e.exports=function(){window.parent.postMessage({height:document.body.scrollHeight,sentinel:"amp",type:"embed-size"},"*")}},function(e,t){var n=function(){try{return Boolean(window.location.search.match(/videoPlayerDebug/))}catch(e){return!1}}();videojs.Player.prototype.log=function(){try{if(n||this.options().debugOn){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=console).log.apply(e,["[videoPlayer-"+this.id()+"]"].concat(r))}}catch(e){console.error(e)}}},function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(16),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};DM.later("bundle",(function(){document.addEventListener("ez-modal-after-load",(function(e){var t=e.ui.modal.get(0);t&&DM.molFeVideoplayer.init(t)})),document.addEventListener("ez-modal-after-open",(function(e){var t=e.ui.modal.get(0),n=e.opt;n.modalType&&"video-overlay"===n.modalType&&DM.molFeVideoplayer.forEachPlalay()}))})),document.addEventListener("ez-modal-before-close",(function(e){var t=e.ui.modal.get(0),n=e.opt,r=void 0;n.modalType&&"video-overlay"===n.modalType?DM.molFeVideoplayer.forEachPlayer(t,(function(){this.pause()})):t&&(DM.molFeVideoplayer.destroy(t),(r=t.querySelector(".vjs-video-container"))&&r.removeAttribute("id"))}));document.addEventListener("click",(function(e){var t=e.target.closest("[data-videoplayer-open-playerid]");if(t){var n=t.getAttribute("data-videoplayer-open-opts"),r=void 0;e.preventDefault();var o=t.getAttribute("data-videoplayer-open-playerid"),l=a(o,t);if(l&&"string"==typeof n){try{r=JSON.parse(n)}catch(e){return u=i.a.appendGeolocation(n),c=p,(d=new XMLHttpRequest).ext))},d.open("GET",u,!0),void d.send()}var u,c,d;p(r)}}function p(e){l.resetVideo({video:s({},e,{initialVideo:!1}),autoplay:!0})}})),document.addEventListener("click",(function(e){var t=e.target.closest("[data-videoplayer-playlist-playerid]");if(t){e.preventDefault();var n=t.getAttribute("data-videoplayer-playlist-playerid"),r=a(n,t);if(r){var i=t.getAttribute("data-videoplayer-playlist-number");"next"===i?r.next():"previous"===i?r.previous():r.gotoVideo(parseInt(i,10))}}}));var e=document.querySelector("#mobileGalleryModal");e&&e.addEventListener("",{})}))}));var a=function(e,t){var n="#"+e+" [data-opts]",r=document.querySelectorAll(n);if(r.length){if(r.length>1)for(;(t=t.parentNode)&&!((r=t.querySelectorAll(n)).length>0););var i=r[0].querySelector("[data-opts]");return i&&i.player||t.querySelector(n).player}};DM.later(["DOM_READY","videoplayer-ready"],(function(){try{if(!window.PageCriteria.isMobile&&DM.getPageMetadata().articleId&&"#video"===window.location.hash){var e=document.querySelector("video[data-opts]");e&&e.player.ready((function(){DM.molFeDomHelpers.scrollUtils.scrollToElement(e),DM.molFeDomHelpers.scrollUtils.scrollBy(0,0-window.innerHeight/3)}))}}catch(e){}Object(o.initStickyPlayer)()}))},function(e,t,n){"use strict";n.r(t);var r=videojs.Component.extend,e,t)}});r.prototype.name=function(){return"mol-vp-banner-end-view"},r.prototype.createEl=function(){var e=this.options().poster,t=videojs.createEl("div",{className:"mol-vp-banner__end-view"});return t.style.backgroundImage='url("'+e+'")',t};varc=e,t},s=function(e){var t=e.bannerImg,n=e.clickThroughUrl,r=e.clickTrackerUrls,i=e.onClick,s=document.createElement("IMG"),a=function(e){var t=e.clickThroughUrl,n=e.className,r=window.document.createElement("a");return r.classList.add(n),r.href=t,r.target="_blank",r.rel="nofolow",r}({clickThroughUrl:n,className:"mol-vp-banner__blocker"});return s.classList.add("mol-vp-banner"),s.src=t,a.onclick=function(){var e=!0,t=!1,n=void 0;try{for(var s,a=r[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){var l=s.value;o(l)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}"function"==typeof i&&i()},a.appendChild(s),a},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,a({},t,{ouse()}}))}});l.prototypnner"},l.prototype.createEl=function(){var e=this.options(),t=e.bannerImg,n=e.clickThroughUrl,r=e.clickTrackerUrls,i=e.onClick;return s({bannerImg:t,clickThroughUrl:n,clickTrackerUrls:r,onClick:i})};var u=l;videojs.plugin("commercial-banner",(function(e){var t=this,n=e["banner-img"],r=e["click-tracker-urls"],s=void 0===r?[]:r,a=e["clickThrough-url"],l=e["end-screen-img"],c=e["impression-urls"],d=void 0===c?[]:c,p=void 0,h=function(){f(),p=new i(t,{poster:l,clickThroughUrl:a,clickTrackerUrls:s}),t.addChildnull)},v=t.el().closest(".vjs-video-container"),y=t.el().closest(".vjs-flyout-wrapper-fixed");v.classList.add("mol-vp-banner-mode"),y&&y.classList.add("mol-vp-banner-mode"),t.ready((function(){if(n){var e=new u(t,{bannerImg:n,clickThroughUrl:a,clickTrackerUrls:s});t.addChild(e)}l&&(t.on("playerstate.enter.started",h),t.on("playerstate.leave.started",f)),t.on(["flyout-close","ended","flyout-switchoff"],(function(e){"ended"!==e.type&&(t.expandOnFirstPlay=!0),t.resetVideo({autoplay:!1,video:t.options_})})),function e(){if((Math.floor(t.currentTime())||0)>=2){var n=!0,r=!1,i=void 0;try{for(var s,a=d[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;o(l)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}else t.one("timeupdate",e)}()}))}))},function(e,t,n){"use strict";n.r(t);var r=r),t}}();var o=n(8),s=function(){functionion")}(this,e),this.player=t,this._started=!1,this._onAdImpression=this._onAdImpression.bind(this),this._onAdNotShown=this._onAdNotShown.bind(this)}return i(e,[{key:"_finishAuction"hown)}},{key:"_onAdImpression",value:function(e){var t=e.adUnit;this._onImpression({adUnit:t,videoOpts:{autoplay:o(this.player)}}),this._finishAuction()}},{key:"_onAdNotShown",value:function(){this._onFailure({videoOpts:{autoplay:o(this.player)}}),this._finishAuction()}},{key:"ready"own))}},{key:"setVideoEventHandlers"ure=t}}]),e}(),a=Object.aurn e};var l=n(68),u=n(70),c=n(72),d=n(4),p=n(73),h=n(74),f=n(75),v=n(76);n(79);var y=function(){var e=Object(r.getPageCriteria)().nonAdservable,t=void 0!==e&&e;return(!("isAdFreeEntitled"in window)||!window.isAdFreeEntitled())&&(!t&&l())};videojs.plugin("ads-setup",(function(e){var t=this,n=this,r={},i=void 0,o=void 0,l=function(){n.muted(!1)};n.on("fullscreenchange",l),n.on("flyout-expand",l),n.ready((function(){var l=n.videoAdvertisingMode?"chromeless":"dmplayer",m=a({vpaidEnabled:!1,platform:l},e,{domain:n.options().isEmbedded?"notdailymail":"dailymail",scor:Date.now()},p());i=h(m),m.adsEnabled=y()&&Boolean(m.adsEnabled),n.adsEnabled=m.adsEnabled;var g,A=0,b=function(e,t){var n=m.bidmax?new s(e):void 0,r=u(e,a({},t)),i=A++,o=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.log.apply(e,["[ads-auction-"+i+"]"].concat(n))},l=[new Promise((function(e){return setTimeout(e,5e3)}))],d=t.userActionTimeout,p=!1;if(!t.autoplay&&d){var h=new Promise((function(t){o("using user action timeout to cancel auction in",d,"ms");var n=e.preEventHook("play",(function(e){o("play"),n(),p?o("auction already finished, not installing timeout"):(o("setting up after user action timeout of",d,"ms"),setTi),t()}),d)),e()}),10)}));l.push(h)}else o("not using user action timeout");o("getting video tags",a({},r));var f=c(a({},r,{timeoutPromise:Promise.race(l)})),v={auction:n,videoTags:f};return f.then((function(e){var t=e.onImpression,r=e.onFailure;p=!0,n&&n.setVideoEventHandlers(t,r),o("auction finished")})),v},w=function(){var e=n.currentTime(),t=f(i,{currentTime:e,duration:n.options_.duration/1e3});r[t.offset]||(r[t.offset]=b(n,a({sync:d.mobile},n.options(),t,{videoStarts:n.videoStarts})));var o=r[t.offset],s=o.auction,l=o.videoTags;return s&&s.ready(),l.then((function(e){return e.buildAdTagUrl}))};n.adSDK=m.useIMASDK?"IMA":"MOL",n["video-ads-plugin"](a({},m,{timeout:m.adsCancelTimeout,bannerFallback:m.bannerFallback||!1,getAdTag:w})),m.earlyBidding&&!m.autoplay&&w(),n.on("request-reset",(function(e){var t=e.video;m=a({},m,t.plugins["ads-setup"]),i=o||h(m),o=null,m.adsEnabled=y()&&Boolean(m.adsEnabled),n.adsEnabled=m.adsEnabled,r={0:r.nextVideoPreroll},n.trigger({type:"videoAds.reset",options:m})})),n.on("videoAd.contentResumeRequested",(function(){n.one("timeupdate",(function(){i&&!i.addedToPlayer&&(v(n,i),i.addedToPlayer=!0),n.trigger({type:"videoAd.prefetchAdTag"})}))})),n.on(["mol.play.previous.video","mol.play.next.vioid 0})),n.on("seeked",(function(){n.trigger({type:"videoAd.prefetchAdTag"})})),n.on("videoAd.prefetchAdTag",(g=regeneratorRuntime.mark((function e(){var s,l,u,c,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.currentTime()+1,l=f(i,{currentTime:s,duration:n.duration()}),m.adsEnabled&&l&&!r[l.offset]&&(r[l.offset]=b(n,a({sync:!1},n.options(),l,{videoStarts:n.videoStarts}))),!n.nextVideo||r.nextVideoPreroll){e.next=10;break}return e.next=6,n.nextVideo;case 6:u=e.sent,c=a({},m,u.plugins["ads-setup"]),(d=y()&&Boolean(c.adsEnabled))&&(o=h(c),p=f(o,{currentTime:0,duration:u.duration/1e3}),r.nextVideoPreroll=b(n,a({sync:!1},n.options(),u,p,{adsEnabled:d,autoplay:!0,videoStarts:n.videoStarts+1})));case 10:case"end":return e.stop()}}),e,t)})),function(){var e=g.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var s=e[i](o),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(a)}("next")}))}))}))}))}]);
//# sourceMappingURL=mol-fe-videoplayer.min.js.map