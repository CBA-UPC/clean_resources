// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.44/esri/copyright.txt for details.
/*
	Copyright (c) 2004-2016, The JS Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

//>>built
(({async:0,baseUrl:"https://js.arcgis.com/3.44/dojo",hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"extend-esri":1,"host-browser":1},packages:[{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../put-selector",main:"put",name:"put-selector"},
{location:"../xstyle",name:"xstyle"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dgrid1",main:"OnDemandGrid",name:"dgrid1"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../moment",main:"moment",name:"moment"},{location:"../esri",name:"esri"},{location:".",name:"dojo"}]});
require({cache:{"dojo/loadInit":function(){define(["./_base/loader"],function(b){return{dynamic:0,normalize:function(A){return A},load:b.loadInit}})},"dojo/_base/loader":"dojo/_base/kernel":"dojo/global":"dojo/has":"dojo/_base/config":"dojo/json":"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(b,A){A.add("bug-for-in-skips-shadowed",;var p=A("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],y=p.length,t=function(c,a,f){f||(f=c[0]&&b.scopeMap[c[0]]?b.scopeMap[c.shift()][1]:b.global);try{for(var e=0;e<c.length;e++){var k=c[e];if("__proto__"===k||"constructor"===k)return;if(!(k in f))if(a)f[k]={};else return;f=f[k]}return f}catch(l){}},m=Object.prototype.toString,q=r=/\{([^\}]+)\}/g,h={_extraNames:p,_mixin:mixin:setObject:getObject:exists:isString:isArray:Array.isArray||isFunction:isObject:isArrayLike:isAlien:extend:_hitchArgs:hitch:delegate:),_toArray:A("ie")?):q,partial:clone:trim:String.prototype.trim?
function(c){return c.trim()}:replace:;h.mixin(b,h);return h})},"dojo/sniff":"dojo/_base/array":function(){define(["./kernel",
"../has","./lang"],function(b,A,p){function y(c){var a=!c;return function(f,e,k){var l=0,d=f&&f.length||0;d&&"string"==typeof f&&(f=f.split(""));if("string"==typeof e){if(A("csp-restrictions"))throw new TypeError("callback must be a function");e=m[e]||r(e)}if(k)for(;l<d;++l){var u=!e.call(k,f[l],l,f);if(c^u)return!u}else for(;l<d;++l)if(u=!e(f[l],l,f),c^u)return!u;return a}}ar m={},q,r;A("csp-restrictions")||(r=;var h={every:y(!1),some:y(!0),indexOf:t(!0),lastIndexOf:t(!1),forEach:function(c,a,f){var e=0,k=c&&c.length||0;k&&"string"==typeof c&&(c=c.split(""));if("string"==typeof a){if(A("csp-restrictions"))throw new TypeError("callback must be a function");
a=m[a]||r(a)}if(f)for(;e<k;++e)a.call(f,c[e],e,c);else for(;e<k;++e)a(c[e],e,c)},map:function(c,a,f,e){var k=0,l=c&&c.length||0;e=new (e||Array)(l);l&&"string"==typeof c&&(c=c.split(""));if("string"==typeof a){if(A("csp-restrictions"))throw new TypeError("callback must be a function");a=m[a]||r(a)}if(f)for(;k<l;++k)e[k]=a.call(f,c[k],k,c);else for(;k<l;++k)e[k]=a(c[k],k,c);return e},filter:function(c,a,f){var e=0,k=c&&c.length||0,l=[];k&&"string"==typeof c&&(c=c.split(""));if("string"==typeof a){if(A("csp-restrictions"))throw new TypeError("callback must be a function");
a=m[a]||r(a)}if(f)for(;e<k;++e){var d=c[e];a.call(f,d,e,c)&&l.push(d)}else for(;e<k;++e)d=c[e],a(d,e,c)&&l.push(d);return l},clearCache:;p.mixin(b,h);return h})},"dojo/require":"dojo/text":"dojo/request":function(){define(["./request/default!"],
function(b){return b})},"dojo/request/default":"dojo/i18n":"dojo/_base/xhr":"dojo/_base/sniff":"dojo/io-query":"dojo/dom":"dojo/_base/window":"dojo/dom-form":"dojo/_base/Deferred":"dojo/Deferred":"dojo/errors/CancelError":"dojo/errors/create":"dojo/promise/Promise":"dojo/promise/instrumentation":"dojo/promise/tracer":"dojo/Evented":"dojo/aspect":"dojo/on":"dojo/when":"dojo/_base/json":"dojo/request/watch":"dojo/request/util":"dojo/errors/RequestError":"dojo/errors/RequestTimeoutError":"dojo/request/xhr":"dojo/request/handlers":"dojo/selector/_loader":"dojo/request/script":"dojo/dom-construct":"dojo/dom-attr":"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(b,A,p){ar t={};var m=b("webkit")?b("ie")&&(9>b("ie")||b("quirks"))?t.getComputedStyle=m;var q=b("ie")?t.toPixelValue=q;var r=h=9>b("ie")||10>b("ie")&&b("quirks")?
c=9>b("ie")||10>b("ie")&&b("quirks")?function(k,l){""===l&&(l=1);var d=100*l;1===l?(k.style.zoom="",r(k)&&(k.style.filter=k.style.filter.replace(RegExp("\\s*progid:DXImageTransform.Microsoft.Alpha\\([^\\)]+?\\)","i"),""))):(k.style.zoom=1,r(k)?r(k,1).Opacity=d:k.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",r(k,1).Enabled=!0);if("tr"==k.tagName.toLowerCase())for(k=k.firstChild;k;k=
k.nextSibling)"td"==k.tagName.toLowerCase()&&c(k,l);return l}:a={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/,e={cssFloat:1,styleFloat:1,"float":1};t.get=t.set=return t})},"dojo/dom-prop":"dojo/_base/connect":"dojo/topic":"dojo/_base/event":"dojo/dom-geometry":"dojo/mouse":"dojo/keys":"dojo/main":"dojo/ready":"dojo/domReady":"dojo/_base/declare":"dojo/_base/Color":"dojo/_base/browser":"dojo/_base/unload":"dojo/_base/html":"dojo/dom-class":"dojo/_base/NodeList":"dojo/query":"dojo/selector/acme":"dojo/NodeList-dom":"dojo/_base/fx":"*noref":1}});(();// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.44/esri/copyright.txt for details.
//>>built
/*
 @esri/arcgis-html-sanitizer - v2.9.0-next.1 - Tue Oct 19 2021 10:19:42 GMT-0400 (Eastern Daylight Time)
 Copyright (c) 2021 - Environmental Systems Research Institute, Inc.
 Apache-2.0

 js-xss
 Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 http://ucdok.com
 MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details

 Lodash/isPlainObject
 Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
*/
require({cache:{"dojo/fx/Tog})})},"dijit/_se})},"dijit/it})},"dijit/ n})},"dijit/Widge h})},"dijit/regi=w})},"dijit/_base/f n})},"dijit/f z})},"dojo/Stat})})},"dojo/wi n})},"dijit/selec n})},"dijit/_base/man h})},"dijit/_base/p h})},"dijit/p}}})},"dijit/View w})},"dijit/_base/p c})},"dijit/p c})},"dijit/BackgroundIfme})},"dojo/t=x})},"dijit/_base/sc)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dojo/u r})},"dijit/_base/typem){})},"dijit/typem q})},"dijit/_base c})},"dijit/h x})},"dojo/h h})},"dijit/_base/wi)}})},"dijit/form/DropDownBu})})},"dijit/form/Bu q})},"dijit/form/_FormWi})})},"dijit/_Wi G})},"dijit/_Widget r})},"dijit/Destroy})})},"dijit/_OnDijitClickM G})},"dijit/a11yc q})},"dijit/_FocusM})})},"dijit/_CssStateM x})},"dijit/_TemplatedM f})},"dojo/che})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(G,x){var c=/[&<>'"\/]/g,r={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},h={};x.setObject("dojo.string",h);h.e):""};h.codePointAt=
String.prototype.codePow,q)}:function(w,q){if(null==w)throw new TypeError("codePointAt called on null or undefined");w=String(w);var n=w.length;var f=q?Number(q):0;f!=f&&(f=0);if(!(0>f||f>=n))return q=w.charCodeAt(f),55296<=q&&56319>=q&&n>f+1&&(w=w.charCodeAt(f+1),56320<=w&&57343>=w)?1024*(q-55296)+w-56320+65536:q};h.fromCodePoint=String.fromCodePoint||function(){var w=[],q=0,n="";var f=0;for(len=arguments.length;f!==len;++f){q=+arguments[f];
if(!(1114111>q&&q>>>0===q))throw RangeError("Invalid code point: "+q);65535>=q?q=w.push(q):(q-=65536,q=w.push((q>>10)+55296,q%1024+56320));16383<=q&&(n+=String.fromCharCode.apply(null,w),w.length=0)}return n+String.fromCharCode.apply(null,w)};("")};:q+w};h.subst()})};h.trim=String.prototype.trim?xrn w};return h})},
"dijit/_AttachM c})},"dijit/form/_FormWidgetM})})},"dijit/form/_ButtonM h})},"dijit/_Conta})})},"dijit/_HasDrop})})},"dijit/form/ComboBu})})},
"dijit/form/ToggleBu})})},"dijit/form/_ToggleButtonM})})},"dijit/TooltipDi G})},"dijit/layout/Content})})},"dijit/layout/_ContentPaneResizeM})})},"dijit/layout/utils":function(){define(["dojo/_base/array",
"dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(G,x,c,f))}var q={marginBox2conte.h)}},layoutChildren:function(n,f,g,a,d){f=
h.mixin({},f);x.add(n,"dijitLayoutContainer");g=G.fillign}).concat(G.fillign}));G.forEach(g,function(k){var l=k.domNode,m=k.region||k.layoutAlign;if(!m)throw Error("No region setting for "+k.id);var e=l.style;e.left=f.l+"px";e.top=f.t+"px";e.position="absolute";var b=x.add;var p=m;p=p.substring(0,1).toUpperCase()+p.substring(1);b.call(x,l,"dijitAlign"+p);l={};a&&a==k.id&&(l["top"==
k.region||"bottom"==k.region?"h":"w"]=d);"leading"==m&&(m=k.isLeftToRight()?"left":"right");"trailing"==m&&(m=k.isLeftToRight()?"right":"left");"top"==m||"bottom"==m?(l.w=f.w,w(k,l),f.h-=k.h,"top"==m?f.t+=k.h:e.top=f.t+f.h+"px"):"left"==m||"right"==m?(l.h=f.h,w(k,l),f.w-=k.w,"left"==m?f.l+=k.w:e.left=f.l+f.w+"px"):"client"!=m&&"center"!=m||w(k,f)})}};h.setObject("dijit.layout.utils",q);return q})},"dojo/ f})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./json5 ./query ./on ./ready".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m[u]}new Date("X");var z=k("csp-restrictions")?l.parse:function(y){return eval("("+y+")")};var C=0;f.after(c,"ex{C++},!0);l={_clearp={}},_functionFromSL+u)},instanD,B)},_instanE(y)},construct:function(y,D,B,urn Y}var F=y&&y.prototype;u=u||{};var I={};u.defaults&&c.mixin(I,u.defaults);v&&c.mixin(I,v);if(k("dom-attributes-explicit"))var N=D.attributes;else k("dom-attributes-specified-flag")?N=r.filter(D.attributes,function(Y){return Y.specified}):(v=(/^input$|^img$/i.test(D.nodeName)?D:D.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),N=r.map(v.split(/lue}}));var da=u.scope||x._scopeName;v="data-"+da+"-";var ba={};"dojo"!==da&&(ba[v+"props"]="data-dojo-props",ba[v+"type"]="data-dojo-type",ba[v+"mixins"]="data-dojo-mixins",ba[da+"type"]="dojotype",ba[v+"id"]="data-dojo-id");var na=0,xa;da=[];for(var W,la;xa=N[na++];){var ha=xa.name,sa=ha.toLowerCase();xa=xa.value;switch(ba[sa]||sa){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":la=
xa;break;case "data-dojo-id":case "jsid":W=xa;break;case "data-dojo-attach-point":case "dojoattachpoint":I.dojoAttachPoint=xa;break;case "data-dojo-attach-event":case "dojoattachevent":I.dojoAttachEvent=xa;break;case "class":I["class"]=D.className;break;case "style":I.style=D.style&&D.style.cssText;break;default:if(ha in F||(ha=p(y)[sa]||ha),ha in F)switch(typeof F[ha]){case "string":I[ha]=xa;break;case "number":I[ha]=xa.length?Number(xa):NaN;break;case "boolean":I[ha]="false"!=xa.toLowerCase();break;
case "function":""===xa||-1!=xa.search(/[^\w\.]+/i)?I[ha]=new Function(xa):I[ha]=c.getObject(xa,!1)||new Function(xa);da.push(ha);break;default:sa=F[ha];try{I[ha]=sa&&"length"in sa?xa?xa.split(/\s*,\s*/):[]:sa instanceof Date?""==xa?new Date(""):"now"==xa?new Date:a.fromISOString(xa):sa instanceof n?x.baseUrl+xa:z(xa)}catch(Y){console.error(Y)}}else I[ha]=xa}}for(N=0;N<da.length;N++)ba=da[N].toLowerCase(),D.removeAttribute(ba),D[ba]=null;if(la)try{la=z.call(u.propsThis,"{"+la+"}"),c.mixin(I,la)}catch(Y){throw Error(Y.toString()+
" in data-dojo-props\x3d'"+la+"'");}c.mixin(I,B);E||(E=y&&(y._noScript||F._noScript)?[]:m("\x3e script[type^\x3d'dojo/']",D));var Ca=[],oa=[],qa=[],L=[];if(E)for(na=0;na<E.length;na++)ba=E[na],D.removeChild(ba),B=ba.getAttribute(v+"event")||ba.getAttribute("event"),u=ba.getAttribute(v+"prop"),la=ba.getAttribute(v+"method"),da=ba.getAttribute(v+"advice"),N=ba.getAttribute("type"),ba=this._functionFromScript(ba,v),B?"dojo/connect"==N?Ca.push({method:B,func:ba}):"dojo/on"==N?L.push({event:B,func:ba}):
I[B]=ba:"dojo/aspect"==N?Ca.push({method:la,advice:da,func:ba}):"dojo/watch"==N?qa.push({prop:u,func:ba}):oa.push(ba);y=(E=y.markupFactory||F.markupFactory)?E(I,D,y):new y(I,D);return y.then?y.then(A):A(y)}mise},_remise},_scrn u},rn E}};x.parser=l;h.parseOnLoad&&b(100,l,"parse");return l})},"dojo/_base/url":function(){define(["./kernel"],function(G){var x=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),c=RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?ull)};r.prototype.toString=function(){return this.uri};return G._Url=r})},"dojo/promisee}})},
"dojo/date/s c})},"dojo/json5":function(){define(["./json5/pae:G}})},"dojo/json5/parse":function(){define(["../string","./util"],
function(G,x){function c(ba,na,xa){var W=ba[na];if(null!=W&&"object"===typeof W)for(var la in W){var ha=c(W,la,xa);void 0===ha?delete W[la]:W[la]=ha}return xa.call(ba,na,W)}function r(){if(b[z])return G.fromCodePoint(G.codePointAt(b,z))}function h(){var ba=r();"\n"===ba?(C++,y=0):ba?y+=ba.length:y++;ba&&(z+=ba.length);retun:y}}function q(ba){for(var na=0;na<ba.length;na++){var xa=ba[na];if(r()!==xa)throw d(h());h()}}function n(){switch(r()){case "b":return h(),
"\b";case "f":return h(),"\f";case "n":return h(),"\n";case "r":return h(),"\r";case "t":return h(),"\t";case "v":return h(),"\v";case "0":h();if(x.isDigit(r()))throw d(h());return"\x00";case "x":h();var ba="",na=r();if(!x.isHexDigit(na))throw d(h());ba+=h();na=r();if(!x.isHexDigit(na))throw d(h());ba+=h();return G.fromCodePoint(parseInt(ba,16));case "u":return h(),f();case "\n":case "\u2028":case "\u2029":return h(),"";case "\r":return h(),"\n"===r()&&h(),"";case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":throw d(h());
case void 0:throw d(h());}return h()}function f(){for(var ba="",na=4;0<na--;){var xa=r();if(!x.isHexDigit(xa))throw d(h());ba+=h()}return G.fromCodePoint(parseInt(ba,16))}function g(){switch(D.type){case "punctuator":switch(D.value){case "{":var ba={};break;case "[":ba=[]}break;case "null":case "boolean":case "numeric":case "string":ba=D.value}if(void 0===u)u=ba;else{var na=t[t.length-1];Array.isArray(na)?na.push(ba):na[B]=ba}null!==ba&&"object"===typeof ba?(t.push(ba),p=Array.isArray(ba)?"beforeArrayValue":
"beforePropertyName"):(ba=t[t.length-1],p=null==ba?"end":Array.isArray(ba)?"afterArrayValue":"afterPropertyValue"}function d(ba){return void 0===ba?e("JSON5: invalid end of input at "+C+":"+y):e("JSON5: invalid character '"+m(ba)+"' at "+C+""+y)}function l(){y-=5;return e("JSON5: invalid identifier character at "+C+":"+
y)}function m(ba){var na={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\x00":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};return na[ba]?na[ba]:" ">ba?(ba=ba.charCodeAt(0).toString(16),"\\x"+("00"+ba).substring(ba.length)):ba}function e(ba){ba=new SyntaxError(ba);ba.lineNumber=C;ba.columnNumber=y;return ba}var b,p,t,z,C,y,D,B,u,E,v,A,F,I,N={"default":function(){switch(I){case "\t":case "\v":case "\f":case " ":case "\u00a0":case "\ufeff":case "\n":case "\r":case "\u2028":case "\u2029":h();
return;case "/":h();E="comment";return;case void 0:return h(),w("eof")}if(x.isSpaceSeparator(I))h();else return N[p]()},comment:function(){switch(I){case "*":h();E="multiLineComment";return;case "/":h();E="singleLineComment";return}throw d(h());},multiLineComment:function(){switch(I){case "*":h();E="multiLineCommentAsterisk";return;case void 0:throw d(h());}h()},multiLineCommentAsterisk:function(){switch(I){case "*":h();return;case "/":h();E="default";return;case void 0:throw d(h());}h();E="multiLineComment"},
singleLineComment:function(){switch(I){case "\n":case "\r":case "\u2028":case "\u2029":h();E="default";return;case void 0:return h(),w("eof")}h()},value:function(){switch(I){case "{":case "[":return w("punctuator",h());case "n":return h(),q("ull"),w("null",null);case "t":return h(),q("rue"),w("boolean",!0);case "f":return h(),q("alse"),w("boolean",!1);case "-":case "+":"-"===h()&&(F=-1);E="sign";return;case ".":v=h();E="decimalPointLeading";return;case "0":v=h();E="zero";return;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":v=
h();E="decimalInteger";return;case "I":return h(),q("nfinity"),w("numeric",Infinity);case "N":return h(),q("aN"),w("numeric",NaN);case '"':case "'":A='"'===h();v="";E="string";return}throw d(h());},identifierNameStartEscape:function(){if("u"!==I)throw d(h());h();var ba=f();switch(ba){case "$":case "_":break;default:if(!x.isIdStartChar(ba))throw l();}v+=ba;E="identifierName"},identifierName:function(){switch(I){case "$":case "_":case "\u200c":case "\u200d":v+=h();return;case "\\":h();E="identifierNameEscape";
return}if(x.isIdContinueChar(I))v+=h();else return w("identifier",v)},identifierNameEscape:function(){if("u"!==I)throw d(h());h();var ba=f();switch(ba){case "$":case "_":case "\u200c":case "\u200d":break;default:if(!x.isIdContinueChar(ba))throw l();}v+=ba;E="identifierName"},sign:function(){switch(I){case ".":v=h();E="decimalPointLeading";return;case "0":v=h();E="zero";return;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":v=h();E="decimalInteger";return;case "I":return h(),
q("nfinity"),w("numeric",Infinity*F);case "N":return h(),q("aN"),w("numeric",NaN)}throw d(h());},zero:function(){switch(I){case ".":v+=h();E="decimalPoint";return;case "e":case "E":v+=h();E="decimalExponent";return;case "x":case "X":v+=h();E="hexadecimal";return}return w("numeric",0*F)},decimalInteger:function(){switch(I){case ".":v+=h();E="decimalPoint";return;case "e":case "E":v+=h();E="decimalExponent";return}if(x.isDigit(I))v+=h();else return w("numeric",F*Number(v))},decimalPointLeading:function(){if(x.isDigit(I))v+=
h(),E="decimalFraction";else throw d(h());},decimalPoint:function(){switch(I){case "e":case "E":v+=h();E="decimalExponent";return}if(x.isDigit(I))v+=h(),E="decimalFraction";else return w("numeric",F*Number(v))},decimalFraction:function(){switch(I){case "e":case "E":v+=h();E="decimalExponent";return}if(x.isDigit(I))v+=h();else return w("numeric",F*Number(v))},decimalExponent:function(){switch(I){case "+":case "-":v+=h();E="decimalExponentSign";return}if(x.isDigit(I))v+=h(),E="decimalExponentInteger";
else throw d(h());},decimalExponentSign:function(){if(x.isDigit(I))v+=h(),E="decimalExponentInteger";else throw d(h());},decimalExponentInteger:function(){if(x.isDigit(I))v+=h();else return w("numeric",F*Number(v))},hexadecimal:function(){if(x.isHexDigit(I))v+=h(),E="hexadecimalInteger";else throw d(h());},hexadecimalInteger:function(){if(x.isHexDigit(I))v+=h();else return w("numeric",F*Number(v))},string:function(){switch(I){case "\\":h();v+=n();return;case '"':if(A)return h(),w("string",v);v+=h();
return;case "'":if(!A)return h(),w("string",v);v+=h();return;case "\n":case "\r":throw d(h());case "\u2028":case "\u2029":console.warn("JSON5: '"+m(I)+"' in strings is not valid ECMAScript; consider escaping");break;case void 0:throw d(h());}v+=h()},lue"},beforePropertyName:function(){switch(I){case "$":case "_":v=h();E="identifierName";return;case "\\":h();E="identifierNameStartEscape";return;case "}":return w("punctuator",
h());case '"':case "'":A='"'===h();E="string";return}if(x.isIdStartChar(I))v+=h(),E="identifierName";else throw d(h());},afterPropert());},beforePropertylue"},afterPropertyValue:function(){switch(I){case ",":case "}":return w("punctuator",h())}throw d(h());},beforeArraylue"},afterArray));
());}},da={start:function(){if("eof"===D.type)throw k();g()},beforePropertyName:function(){switch(D.type){case "identifier":case "string":B=D.value;p="afterPropertyName";break;case "punctuator":a();break;case "eof":throw k();}},afterPropertlue"},beforeProperty;g()},beforeArrayValue:function(){if("eof"===D.type)throw k();"punctuator"===D.type&&"]"===D.value?a():g()},
afterPropertyValue:function(){if("eof"===D.type)throw k();switch(D.value){case ",":p="beforePropertyName";break;case "}":a()}},afterArrayValue:function(){if("eof"===D.type)throw k();switch(D.value){case ",":p="beforeArrayValue";break;case "]":a()}},end:function(){}};return function(ba,na){b=String(ba);p="start";t=[];z=0;C=1;y=0;u=B=D=void 0;do{a:for(E="default",v="",A=!1,F=1;;)if(I=r(),ba=N[E]()){D=ba;break a}da[p]()}while("eof"!==D.type);return"function"===typeof na?c({"":u},"",na):u}})},"dojo/json5/util":function(){define(["./unicode"],
function(G){return{isSpaceSepat(x)},isIdStartChar:function(x){return"string"===typeof x&&("a"<=x&&"z">=x||"A"<=x&&"Z">=x||"$"===x||"_"===x||G.ID_Start.test(x))},isIdContinueChar:function(x){return"string"===typeof x&&("a"<=x&&"z">=x||"A"<=x&&"Z">=x||"0"<=x&&"9">=x||"$"===x||"_"===x||"\u200c"===x||"\u200d"===x||G.ID_Continue.test(x))},isDigit:function(x){return"string"===typeof x&&/[0-9]/.test(x)},isHext(x)}}})},"dojo/json5/uni]/})},
"dijit/_DialogM})})},"dijit/form/_FormM})})},
"esri/ G})},"esri/ke h})},"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(G,x,c,r){var h=function(){return this}(),w={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},
sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,zoomAnimationThrottled:!1,panDuration:350,panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:h.Worker&&!1,io:{errorHa[q])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:[/^https?:\/\/.+\.arcgis\.com(\/|$)/i,"server.arcgisonline.com","services.arcgisonline.com",
"www.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","tiles.arcgis.com","tiles1.arcgis.com","tiles2.arcgis.com","tiles3.arcgis.com","tiles4.arcgis.com","basemaps.arcgis.com","basemapsbeta.arcgis.com","basemaps-api.arcgis.com","elevation3d.arcgis.com","services.arcgis.com","services1.arcgis.com","services2.arcgis.com","services3.arcgis.com","services4.arcgis.com","services5.arcgis.com","services6.arcgis.com","services7.arcgis.com","services8.arcgis.com","services9.arcgis.com","cdn.arcgis.com",
"cdn-a.arcgis.com","cdn-b.arcgis.com","static.arcgis.com","utility.arcgis.com","utility.arcgisonline.com","geocode.arcgis.com","geoenrich.arcgis.com","qaext.arcgis.com","staticqa.arcgis.com","tilesqa.arcgis.com","servicesqa.arcgis.com","servicesqa1.arcgis.com","servicesqa2.arcgis.com","servicesqa3.arcgis.com","geocodeqa.arcgis.com","geoenrichqa.arcgis.com","dev.arcgis.com","devext.arcgis.com","localvtiles.arcgis.com","staticdev.arcgis.com","tilesdevext.arcgis.com","elevation3ddev.arcgis.com","servicesdev.arcgis.com",
"servicesdev1.arcgis.com","servicesdev2.arcgis.com","servicesdev3.arcgis.com","geocodedev.arcgis.com","geoenrichdev.arcgis.com","basemapsdev.arcgis.com","basemapsdev-api.arcgis.com","basemapsbetadev.arcgis.com"],corsDetection:h.cordova?!1:!0,corsDetectionTimeout:15,corsStatus:{},crossOriginNoCorsDomains:null,webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},
workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}}}};c("extend-esri")&&(r.config=w);G.noGlobals||(h.esriConfig=w);return w})},"esri/s G})},"esri x})},"esri/ p})},
"dojo/ c})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(G,x,c,r,h){var w={};G.setObject("dojo.number",w);w.fg,f)};w._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;w._applyPad}))};w.f)/g};if(0==(.9).toFixed()){var q=
w.round;w.:-a)}}w._formatAbs".")};w.regexp=function(n){return w._parseInfo(n).regexp};w._parsr:k}};w.ctor};w._realNumberR f+a};w._integerRegexp=function(n){n=n||{};"signed"in n||(n.signed=[!0,!1]);"separator"in n?"groupSize"in n||(n.groupSize=3):n.separator=
"";var f=h.buildGroupRE(n.s":""},!0),g=h.buildGroupRE(n.separator,function(a){if(!a)return"(?:\\d+)";a=h.escapeString(a);" "==a?a="\\s":"\u00a0"==a?a="\\s\\xa0":"\u202f"==a&&(a="\\s\\u202f");var d=n.groupSize,k=n.groupSize2;return k?(a="(?:0|[1-9]\\d{0,"+(k-1)+"}(?:["+a+"]\\d{"+k+"})*["+a+"]\\d{"+d+"})",0<d-k?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*)"},!0);return f+g};return w})},"dojo/re c})},"dojo/date/lo k})},"dojo/cldr/suppleme c})},"esri/_coremap":function(){define("require module dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/Deferred dojo/_base/lang dojo/_base/array dojo/_base/event dojo/_base/unload dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/sniff dijit/registry dojox/gfx/matrix ./kernel ./config ./basemaps ./lang ./Evented ./fx ./deferredUtils ./tileUtils ./urlUtils ./PluginTarget ./Color ./promiseList ./arcade/Dictionary ./geometry/Point ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./geometry/scaleUtils ./geometry/screenUtils ./geometry/webMercatorUtils ./layers/GraphicsLayer ./layers/TileInfo ./layers/LOD ./layers/ArcGISTiledMapServiceLayer ./layers/MapImageLayer ./layers/OpenStreetMapLayer ./layers/support/webglUtils ./dijit/Popup ./plugins/popupManager dojo/uacss".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t,z,C,y,D,B,u,E,v,A,F,I,N,da,ba,na,xa,W,la,ha,sa,Ca,oa,qa,L,Y,ca,V,a}))}var ta,ea=sa.toMapPoint,va=sa.toScreenPoint,M=h.connect,S=h.disconnect,
ma=q.hitch,ua=e.set,wa=n.indexOf,Q=q.mixin,ka=0,za=C.defaults.map,Ea=za.layerNamePrefix,Ka=za.graphicsLayerNamePrefix,Qa=new RegExp("^"+Ea+"(\\d+)$"),Pa=new RegExp("^"+Ka+"(\\d+)$"),J=function(){},U=0,ia=X.isWebGLEnabled();r=r([B,F],{declaredClass:"esri._CoreMap",tables:null,resizeDelay:300,invalidExtent:"Map does not have a valid extent.",invalidGeometry:"Geometry (wkid: ${geometry}) cannot be converted to spatial reference of the map (wkid: ${map})",unknownBasemap:'Unable to find basemap definition for: "${basemapName}". Try one of these: ${list}',
invalidBasemap:'Unable to add basemap: "${basemapName}".',unknownLayerType:'Unknown basemap layer type: "${type}" found in basemap definition for: "${basemapName}".',visible:!0,webglEnabled:ia,_eventMap:{"basemap-change":!0,"extent-change":["extent","delta","levelChange","lod"],"layer-add":["layer"],"layer-add-result":["layer","error"],"layer-remove":["layer"],"layer-reorder":["layer","index"],"layer-resume":["layer"],"layer-suspend":["layer"],"layers-add-result":["layers"],"layers-removed":!0,"layers-reordered":["layerIds"],
load:["map"],pan:["extent","delta"],"pan-end":["extent","delta"],"pan-start":["extent","screenPoint"],reposition:["x","y"],resize:["extent","width","height"],scale:["matrix","immediate"],"time-extent-change":["timeExtent"],"before-unload":["map"],unload:["map"],"update-end":["error"],"update-start":!0,zoom:["extent","zoomFactor","anchor"],"zoom-end":["extent","zoomFactor","anchor","level"],"zoom-start":["extent","zoomFactor","anchor","level"],click:!0,"dbl-click":!0,"key-down":!0,"key-up":!0,"mouse-down":!0,
"mouse-drag":!0,"mouse-drag-end":!0,"mouse-drag-start":!0,"mouse-move":!0,"mouse-out":!0,"mouse-over":!0,"mouse-up":!0,"mouse-wheel":!0,"basic-tap":!0,"double-tap":!0,"pinch-end":!0,"pinch-move":!0,"pinch-start":!0,"processed-double-tap":!0,"processed-tap":!0,"swipe-end":!0,"swipe-move":!0,"swipe-start":!0,tap:!0,"two-finger-tap":!0},constrroy)},_getA")+K},_clnull},_addrn K},_forgetl())},_addLayerHa,fa)},_attachLayer"])}},_convertGeorn T},_attachGraphicsrn K},_detachGraphicsace)},_reorderL(K))},_zoomStartHahor)},_zoomingHahor)},_zoomEndHa,Ma)},_panningHa),K)},_panEndHaOD])},_fixEn fa},_getFramern K},_fixAspectrn K},_reshapeEt(K)},_getAdjustedEt:K}},_onBingLayble)},_onBingLayerRo(T)},_toggleBinogo)},__pan,T))},,T))},__pOD])},__zoomull)},_,fa)},__zora])},_extenn Ma},__setEIb)}},_fireOnfa)}},_stoe]))},__getExtentForent)},_jobs:0,t())},d())},_fire,
T)},_updateEnt()},_calcGeographicE))))},_fireEve()}this},onUpdateStart:function(){},onUpdateEnd:function(){},onLoad:function(){this._setClipRect();this._calcGeographicExtent()},onBeforeUnload:function(){},onUnload:function(){},onExtentChange:function(K,T,fa){},onTimeExtentChange:function(){},onWebGLEnabledChange:function(){},
onLayerAdd:function(){},onLayerAddResult:function(){},onLayersAddResult:function(){},onLayerRemove:function(){},onLayersRemoved:function(){},onLayerReorder:function(){},onLayersReordered:function(){},onLayerSuspend:function(){},onLayerResume:function(){},onPanStart:function(){},onPan:function(){},onPanEnd:function(){},onScale:function(){},onZoomStart:function(){},onZoom:function(){},onZoomEnd:function(){},onResize:function(){this._setClipRect()},onReposition:function(){},deis))},setCr=K)},setMapCr=K)},resetMapCsor)},setBackground:T})},setInfoWhis)},setInfoWindowOn",K)},getInfoWindowAght"},toSK,T)},t,K)},addrn K},addLthis},
remove(K))},removeAllLed()},reorderra))},getLayer:function(K){return this._layers[K]},setWebGLEnge()},isWebGLContextAvaixts)},ownsWebGLCos,K)},acquireWebGLCo):!1},releaseWebGLCot(K)},releaseAllWebGLConhis)},syncHitTestForrn T},setEK,T)},getTargetEt),K},cen:K})},centerAn!0})},gethis)},getResolth:0},getResolutionInMnce)},getResolutionForT*fa},getMinResolution:function(){return this._minResolution},getMaxResolution:function(){return this._maxResolution},getMinScale:function(){return this._params.minScale},getMaxScale:function(){return this._params.maxScale},getViewInfo:function(){return this._viewInfo},setScale:function(K){return this._extentUtil({targetScale:K})},getLayersVisibleAtrn T},getNumL-K+1},getl:-1},set:K})},getZoom:function(){return this.getLevel()},setZoom:function(K){return this.setLevel(K)},getMinZoom:function(){return this._params.minZoom},
getMaxZoom:function(){return this._params.maxZoom},setBap))}},_createBaseLayerInsmise},_waitForBaseLmise},_setBasemap:function(K){var T=K.layers,fa=K.infos,ra=0,Ba=!0;this._basemapPending=!1;this.loaded&&
(n.forEa++)}),Ba=ra);if(Ba){if(Ba=this._getBasemapLayerIds()){var Ma={basemapName:this._basemap,infos:y&&y[this._basemap]&&y[this._basemap].baseMapLayers};Ma.basemapName||(n.forEas,!1},this),Ma.basemapName||(Ma=null))}this._removeBasemap(Ba);this._basemap=K.basemapName;this.basemapLayerIds=this._addBasemapLayers(T,fa);this.attr("data-basemap",
this.getBasemap());this.emit("basemap-change",{current:K,previous:Ma})}},_getBasemapLayerIds:function(){var K=[];n.forEach(this.layerIds,function(T){T=this.getLayer(T);T._basemapGalleryLayerType&&K.push(T.id)},this);return K},_addBasemapLayers:function(K,T){var fa=[],ra=[],Ba=0;n.forEach(K,function(Ma,Ha){T[Ha].isReference?fa.push(Ma):(Ma._basemapGalleryLayerType="basemap",this.addLayer(Ma,Ba++),ra.push(Ma.id))},this);fa.length&&n.forEach(fa,function(Ma){Ma.attr("data-reference",!0);Ma._basemapGalleryLayerType=
"reference";this.addLayer(Ma,"top");ra.push(Ma.id)},this);return ra},_removeBasemap:function(K){n.forEr(T)},this)},getBa||""},tran150)},_endTranK,T)},setTimeEe(K)},setTimeSt"))},setVisibthis},ray))},_timedRze()},_execRer()},_r!0)}},reposK.y)},_reposT.t)},_setCli",K)},_getAvailErn K},_fix:T})},ght)},panUpperght)},panh,0)},panLowerght)},paght)},panLoweght)},pah,0)},panUppeght)},enableSnaager},disableSnanull},_createLabelrs))},_processLabelL,0))},_updateLabelLis))},_getMapImaeLyr},_placeMapImast")}});b("extend-esri")&&(z._CoreMap=r);return r})},"dojox/gfx/ma c})},"dojox/gfx/_ g})},"esri/base G})},"esri/Eve G})},"esr g})},"doj c})},"esri/deferredU r})},"esri/tileU w})},"esri/geometry/P G})},"esri/SpatialRefer G})},"esri/geometry/Geom G})},"esri/srU q})},"esri/ImageSpatialRefer G})},"esri/geometry/Ex m})},"esri/geometry/webMercatorU f})},"esri/geometry/mathU n})},"esri/urlUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/url dojo/global dojo/io-query ./kernel ./lang ./config ./sniff dojo/i18n!./nls/jsapi".split(" "),
function(G,x,c,r,h,w,q,n,f,g){var a={},d=n.defaults.io,k=/^[a-z][a-z0-9\+\-\.]*:/i,l=/^\s*http:/i,m=/^\s*https:/i,e=/:\d+$/,b=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;a.i===z};a.getProtocolForWebRestp:"};a.urlToOrn z};a.getProrn y};a.addrn t};a.addProxrn B};a.getProxrn D};a.hasSameOport};a.canU?u:C};a.getAbsolu+t:t};a.fS(t)};a.normalize=function(t){return a.fixUrl(t)};a.normalizeSlrn t};a.downgradeT"):t};a.upgradeTorn t};n=g.widgets.popup;var p=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,label:n.NLS_moreInfo},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"${hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,
label:"${hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,appName:"App Studio Player",label:n.NLS_openLinkInApp},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,appName:"Collector",label:n.NLS_openLinkInApp},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,appName:"Explorer",label:n.NLS_openLinkInApp},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,appName:"Navigator",label:n.NLS_openLinkInApp},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,appName:"Survey123",
label:n.NLS_openLinkInApp},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,appName:"Trek2There",label:n.NLS_openLinkInApp},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,appName:"Workforce",label:n.NLS_openLinkInApp},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,appName:"iForm",label:n.NLS_openLinkInApp},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,appName:"FlowFinity",label:n.NLS_openLinkInApp},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,appName:"Laserfische",label:n.NLS_openLinkInApp},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,
appName:"Microsoft Power BI",label:n.NLS_openLinkInApp}];a.getURrn z};a.isKnoo(t)};a.isSecureProxySet(t)};a.base64UrlEncode=function(t){return btoa(String.fromCharCode.apply(null,t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};f("extend-esri")&&(G.mixin(w,a),w._getProxyUrl=a.getProxyUrl,w._getProxiedUrl=
a.addProxy,w._hasSameOrigin=a.hasSameOrigin,w._canDoXOXHR=a.canUseXhr,w._getAbsoluteUrl=a.getAbsoluteUrl,w.fixUrl=a.fixUrl);return a})},"esri/PluginTa q})},"esri/C h})},"esri/promisee}})},"esri/arcade/Dictionary":function(){define("require exports ./polyfill/tsSupport/awaiter ./polyfill/tsSupport/generator ./ArcadeDate ./executionError ./ImmutableArray ./languageUtils ../geometry/Geometry".split(" "),function(G,x,c,r,h,w,q,n,f){function g(d,k,l){void 0===l&&(l=!1);if(null===d||void 0===
d)return null;if(n.isNumber(d))return n.toNumber(d);if(n.isBoolean(d))return n.toBoolean(d);if(n.isString(d))return n.toString(d);if(n.isDate(d))return n.toDate(d,k);if(n.isArray(d)){for(var m=[],e=0;e<d.length;e++)m.push(g(d[e],k,l));return m}e=new a;e.immutable=!1;for(var b=0,p=Object.keys(d);b<p.length;b++){var t=p[b];m=d[t];void 0!==m&&e.setField(t,g(m,k,l))}e.immutable=l;return e}var a=funct{}:k}d.prototype.field=function(k){var l=k.toLowerCase(),m=this.attributes[k];if(void 0!==m)return m;for(var e in this.attributes)if(e.toLowerCase()===l)return this.attributes[e];throw new w.ArcadeExecutionError(null,w.ExecutionErrorCodes.FieldNotFound,null,{key:k});};d.prototype.setField=function(k,l){if(this.immutable)throw new w.ArcadeExecutionError(null,w.ExecutionErrorCodes.Immutable,null);if(n.isFunctionParameter(l))throw new w.ArcadeExecutionError(null,
w.ExecutionErrorCodes.NoFunctionInDictionary,null);var m=k.toLowerCase();l instanceof Date&&(l=h.ArcadeDate.dateJSToArcadeDate(l));if(void 0===this.attributes[k])for(var e in this.attributes)if(e.toLowerCase()===m){this.attributes[e]=l;return}this.attributes[k]=l};d.prototype.hasrn!1};d.prototypert()};d.prototype.castToText=function(k){void 0===k&&(k=!1);var l="",m;for(m in this.attributes){""!==l&&(l+=",");var e=this.attributes[m];null==e?l+=JSON.stringify(m)+":null":n.isBoolean(e)||n.isNumber(e)||n.isString(e)?l+=JSON.stringify(m)+":"+JSON.stringify(e):e instanceof f?l+=JSON.stringify(m)+":"+n.toStringExplicit(e):e instanceof q?l+=JSON.stringify(m)+":"+n.toStringExplicit(e,null,k):e instanceof Array?l+=JSON.stringify(m)+":"+n.toStringExplicit(e,null,k):e instanceof h.ArcadeDate?
l=k?l+(JSON.stringify(m)+":"+JSON.stringify(e.getTime())):l+(JSON.stringify(m)+":"+e.stringify()):null!==e&&"object"===typeof e&&void 0!==e.castToText&&(l+=JSON.stringify(m)+":"+e.castToText(k))}return"{"+l+"}"};d.convertObjectToArcadeDictionary=function(k,l,m){void 0===m&&(m=!0);var e=new d;e.immutable=!1;for(var b in k){var p=k[b];void 0!==p&&e.setField(b.toString(),g(p,l))}e.immutable=m;return e};d.convertJsonToAl,m)};d.prototype.castAsJson=function(k){void 0===
k&&(k=null);var l={};for(e in this.attributes){var m=this.attributes[e];if(void 0!==m){if(null===k||void 0===k?0:k.keyTranslate)var e=k.keyTranslate(e);l[e]=n.castAsJson(m,k)}}return l};d.prototype.castDictionaryValueAsJsonAsync=function(k,l,m,e,b){void 0===e&&(e=null);return c(this,void 0,void 0,function(){var p;return r(this,function(t){switch(t.label){case 0:return[4,n.castAsJsonAsync(m,e,b)];case 1:return p=t.sent(),k[l]=p,[2,p]}})})};d.prototype.castAsJsonAsync=function(k,l){void 0===k&&(k=null);
void 0===l&&(l=null);return c(this,void 0,void 0,function(){var m,e,b,p;return r(this,function(t){switch(t.label){case 0:m={};e=[];for(b in this.attributes){p=this.attributes[b];if(null===l||void 0===l?0:l.keyTranslate)b=l.keyTranslate(b);void 0!==p&&(n.isSimpleType(p)||p instanceof f||p instanceof h.ArcadeDate?m[b]=n.castAsJson(p,l):e.push(this.castDictionaryValueAsJsonAsync(m,b,p,k,l)))}return 0<e.length?[4,Promise.all(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,m]}})})};return d}();return a})},
"esri/arcade/polyfill/tsSupport/awaiter":function(){define([],function(){return function(){r))})}}()})},"esri/arcade/polyfill/tsSupport/generator":function(){define([],function(){r),f}}()})},"esri/arcade/ArcadeDate":function(){define(["require","exports","./polyfill/tsSupport/extends","./executionError","../libs/luxon/luxon"],function(G,x,c,r,h){function w(a){if(a instanceof h.Zone)return a;if("system"===a.toLowerCase())return"system";if("utc"===a.toLowerCase())return"utc";if("unknown"===a.toLowerCase())return n.instance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(a)){var d=h.FixedOffsetZone.parseSpecifier("UTC"+(a.startsWith("+")||
a.startsWith("-")?"":"+")+a);if(d)return d}a=h.IANAZone.create(a);if(!a.isValid)throw new g(f.TimeZoneNotRecognised);return a}var q;Object.defineProperty(x,"__esModule",{value:!0});x.createDateTimeZone=x.ArcadeDate=x.ArcadeDateError=x.ArcadeDateErrorMessages=x.ArcadeDateErrorCodes=x.UnknownTimeZone=void 0;var n=function(){function a(){}a.instance=new h.IANAZone("Etc/UTC");return a}();x.UnknownTimeZone=n;var f;(f=x.ArcadeDateErrorCodes||(x.ArcadeDateErrorCodes={})).TimeZoneNotRecognised="TimeZoneNotRecognised";
x.ArcadeDateErrorMessages=(q={},q[f.TimeZoneNotRecognised]="Timezone identifier has not been recognised.",q);var g=function(a){function d(k,l){k=a.call(this,r.doSubstitutions(x.ArcadeDateErrorMessages[k],l))||this;k.declaredRootClass="esri.arcade.arcadedate.dateerror";Error.captureStackTrace&&Error.captureStackTrace(k,d);return k}c(d,a);return d}(Error);x.ArcadeDateError=g;G=functate"}a.fromParts=function(d,k,l,m,e,b,p,t){void 0===
d&&(d=0);void 0===k&&(k=1);void 0===l&&(l=1);void 0===m&&(m=0);void 0===e&&(e=0);void 0===b&&(b=0);void 0===p&&(p=0);if(isNaN(d)||isNaN(k)||isNaN(l)||isNaN(m)||isNaN(e)||isNaN(b)||isNaN(p))return null;var z=0,C=h.DateTime.local(d,k).daysInMonth;1>l&&(z=l-1,l=1);l>C&&(z=l-C,l=C);C=0;12<k?(C=k-12,k=12):1>k&&(C=k-1,k=1);var y=0;59<e?(y=e-59,e=59):0>e&&(y=e,e=0);var D=0;59<b?(D=b-59,b=59):0>b&&(D=b,b=0);var B=0;999<p?(B=p-999,p=999):0>p&&(B=p,p=0);d=h.DateTime.fromObject({day:l,year:d,month:k,hour:m,
minute:e,second:b,millisecond:p},{zone:w(t)});0!==C&&(d=d.plus({months:C}));0!==z&&(d=d.plus({days:z}));0!==y&&(d=d.plus({minutes:y}));0!==D&&(d=d.plus({seconds:D}));0!==B&&(d=d.plus({milliseconds:B}));return new a(d)};Object.defineProperty(a,"systemTimeZoneCanonicalName",{get:function(){var d;return null!==(d=Intl.DateTimeFormat().resolvedOptions().timeZone)&&void 0!==d?d:"system"},enumerable:!1,configurable:!0});a.arcadeDateAndZoneToArcadeDate=function(d,k){var l=w(k);return d.isUnknownTimeZone||
l===n.instance?a.fromParts(d.year,d.monthJS+1,d.day,d.hour,d.minute,d.second,d.millisecond,l):new a(d._date.setZone(k))};a.dateJSToArcadeDate=function(d){return new a(h.DateTime.fromJSDate(d,{zone:"system"}))};a.dateJSAndZoneToArcadeDate=function(d,k){void 0===k&&(k="system");return new a(h.DateTime.fromJSDate(d,{zone:k}))};a.unknownEpochToArcadeDate=function(d){return new a(h.DateTime.fromMillis(d,{zone:n.instance}))};a.unknownDateJSToArcadnce)};a.epochToArcadeDate=function(d,k){void 0===k&&(k="system");return new a(h.DateTime.fromMillis(d,{zone:k}))};a.dateTimeToArcadeDate=function(d){return new a(d)};a.prototype.changeTimeZone=function(d){d=w(d);return a.dateTimeToArcadeDate(this._date.setZone(d))};a.dateTimeAndZoneToArcadeDate=function(d,k){k=w(k);return d.zone===n.instance||k===n.instance?a.fromParts(d.year,d.month,d.day,d.hour,d.minute,d.second,d.millisecond,k):new a(d.setZone(k))};a.nowToArcadeDate=function(d){return new a(h.DateTime.fromJSDate(new Date,
{zone:d}))};a.nowUTCToArcadc())};Object.defineProperty(a.prototype,"isSystem",{get:function(){return"system"===this.timeZone||this.timeZone===a.systemTimeZoneCanonicalName},enumerable:!1,configurable:!0});a.prototype.equals=function(d){return this.isSystem&&d.isSystem?this.toNumber()===d.toNumber():this.isUnknownTimeZone!==d.isUnknownTimeZone?!1:this._date.equals(d._date)};Object.defineProperty(a.prototype,"isUnknownTimeZone"ance},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"isValid",{get:function(){return this._date.isValid},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"hour",{get:function(){return this._date.hour},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"second",{get:function(){return this._date.second},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"day",{get:function(){return this._date.day},enumerable:!1,configurable:!0});
Object.defineProperty(a.prototype,"dayOfWeekISO",{get:function(){return this._date.weekday},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"dayOfWeekJS",{get:function(){var d=this._date.weekday;6<d&&(d=0);return d},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"millisecond",{get:function(){return this._date.millisecond},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"monthISO",{get:function(){return this._date.month},enumerable:!1,configurable:!0});
Object.defineProperty(a.prototype,"weekISO",{get:function(){return this._date.weekNumber},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"yearISO",{get:function(){return this._date.weekYear},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"monthJS"th-1},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"year",{get:function(){return this._date.year},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,
"minute",{get:function(){return this._date.minute},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"zone",{get:function(){return this._date.zone},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"timeZoneOffset"fset},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"timeZone",{get:function(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";var d=
this.zone;return"fixed"===d.type?0===d.fixed?"utc":d.formatOffset(0,"short"):d.name},enumerable:!1,configurable:!0});a.prototype.stringify=function(){return JSON.stringify(this.toJSDate())};a.prototype(d))};a.prototype.diff=function(d,k){void 0===k&&(k="milliseconds");return this._date.diff(d._date,k)[k]};a.prototype.toISOString=function(d){return d?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})};
a.prototype.toFd,k)};a.prototype.toJSDate=function(){return this._date.toJSDate()};a.prototype.toSQLS+"'"};a.prototype.toDateTime=function(){return this._date};a.prototype.toNumber=function(){return this._date.toMillis()};a.prototype.geis()};a.prototype.toUTC=function(){return new a(this._date.toUTC())};a.prototype.tol())};
a.prototype.toString=function(){return this.toISOString(!0)};return a}();x.ArcadeDate=G;x.createDateTimeZone=w})},"esri/arcade/polyfill/tsSupport/extends":function(){define([],function(){r r)}}()})},"esri/arcade/executionError":function(){define(["require","exports","./polyfill/tsSupport/assign","./polyfill/tsSupport/spreadarray","./polyfill/tsSupport/extends"],function(G,x,c,r,h){function w(a){var d,k;return a&&a.loc?"Line : "+(null===(d=a.loc.start)||void 0===d?void 0:d.line)+", "+(null===(k=a.loc.start)||void 0===k?void 0:k.column)+": ":""}function q(a,d){try{if(!d)return a;
for(var k in d){var l=d[k];l||(l="");a=a.replace("{"+k+"}",d[k])}}catch(m){}return a}var n,f;Object.defineProperty(x,"__esModule",{value:!0});x.parsingValidationMessage=x.ModuleError=x.ModuleErrorMessages=x.ModuleErrorCodes=x.ensureArcadeExecutionError=x.doSubstitutions=x.ArcadeUncompilableError=x.ArcadeCompilationError=x.ArcadeExecutionError=x.LocatableArcadeExecutionError=x.ErrorWithCause=x.ExecutionErrorMessages=x.ExecutionErrorCodes=vonce"})(G=x.ExecutionErrorCodes||(x.ExecutionErrorCodes={}));x.ExecutionErrorMessages=(n={},n[G.TypeNotAllowedInFeature]="Feature attributes only support dates, numbers, strings, guids.",n[G.LogicError]="Logic error - {reason}",n[G.NeverReach]="Encountered unreachable logic",n[G.AsyncNotEnabled]="Async Arcade must be enabled for this script",n[G.ModuleAccessorMustBeString]="Module accessor must be a string",n[G.ModuleExportNotFound]="Module has no export with provided identifier",
n[G.ModulesNotSupported]="Current profile does not support modules",n[G.ArrayAccessorMustBeNumber]="Array accessor must be a number",n[G.FuncionNotFound]="Function not found",n[G.FieldNotFound]="Key not found - {key}",n[G.CircularModules]="Circular module dependencies are not allowed",n[G.Cancelled]="Execution cancelled",n[G.UnsupportedHashType]="Type not supported in hash function",n[G.IllegalResult]="Value is not a supported return type",n[G.PortalRequired]="Portal is required",n[G.InvalidParameter]=
"Invalid parameter",n[G.WrongNumberOfParameters]="Call with wrong number of parameters",n[G.Unrecognised]="Unrecognised code structure",n[G.UnrecognisedType]="Unrecognised type",n[G.WrongSpatialReference]="Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",n[G.BooleanConditionRequired]="Conditions must use booleans",n[G.NoFunctionInDictionary]="Dictionaries cannot contain functions.",n[G.NoFunctionInArray]="Arrays cannot contain functions.",n[G.NoFunctionInTemplateLiteral]=
"Template Literals do not expect functions by value.",n[G.KeyAccessorMustBeString]="Accessor must be a string",n[G.KeyMustBeString]="Object keys must be a string",n[G.Immutable]="Object is immutable",n[G.InvalidParameter]="Invalid parameter",n[G.UnexpectedToken]="Unexpected token",n[G.MemberOfNull]="Cannot access property of null object",n[G.MaximumCallDepth]="Exceeded maximum function depth",n[G.OutOfBounds]="Out of bounds",n[G.InvalidIdentifier]="Identifier not recognised",n[G.FuncionNotFound]=
"Function not found",n[G.CallNonFunction]="Expression is not a function",n[G.InvalidMemberAccessKey]="Cannot access value using a key of this type",n[G.AssignModuleFunction]="Cannot assign function to module variable",n[G.UnsupportedUnaryOperator]="Unsupported unary operator",n[G.UnsupportedOperator]="Unsupported operator",n[G.LogicalExpressionOnlyBoolean]="Logical expressions must be boolean",n[G.LogicExpressionOrAnd]="Logical expression can only be combined with || or \x26\x26",n);n=functithis}h(d,a);return d}(Error);x.ErrorWithCause=n;var g=function(a){function d(k,l){k=a.call(this,w(l)+k.message,{cause:k})||this;k.loc=null;Error.captureStackTrace&&Error.captureStackTrace(k,d);l&&l.loc&&(k.loc=l.loc);return k}h(d,a);return d}(n);x.LocatableArcadeExecutionError=g;n=function(a){function d(k,l,m,e){k=a.call(this,"Execution error - "+w(m)+q(x.ExecutionErrorMessages[l],e))||this;k.loc=null;k.declaredRootClass="esri.arcade.arcadeexecutionerror";
Error.captureStackTrace&&Error.captureStackTrace(k,d);m&&m.loc&&(k.loc=m.loc);return k}h(d,a);return d}(Error);x.ArcadeExecutionError=n;n=function(a){function d(k,l,m,e){k=a.call(this,"Compilation error - "+w(m)+q(x.ExecutionErrorMessages[l],e))||this;k.loc=null;k.declaredRootClass="esri.arcade.arcadecompilationerror";Error.captureStackTrace&&Error.captureStackTrace(k,d);m&&m.loc&&(k.loc=m.loc);return k}h(d,a);return d}(Error);x.ArcadeCompilationError=n;n=function(a){function d(){var k=a.call(this,
"Uncompilable code structures")||this;k.declaredRootClass="esri.arcade.arcadeuncompilableerror";Error.captureStackTrace&&Error.captureStackTrace(k,d);return k}h(d,a);return d}(Error);x.ArcadeUncompilableError=n;x.doSubstitutions=q;x.ensureArcadeExecutionError=function(a,d,k){return"esri.arcade.arcadeexecutionerror"===k.declaredRootClass||"esri.arcade.arcadecompilationerror"===k.declaredRootClass?null===k.loc&&d&&d.loc?new g(k,{cause:k}):k:d&&d.loc?new g(k,{cause:k}col"})(n=x.ModuleErrorCodes||(x.ModuleErrorCodes={}));x.ModuleErrorMessages=(f={},f[n.UnrecognisedUri]="Unrecognised uri - {uri}",f[n.UnsupportedUriProtocol]="Unrecognised uri protocol",f);f=function(a){function d(k,l){k=a.call(this,q(x.ModuleErrorMessages[k],l))||this;k.declaredRootClass="esri.arcade.arcademoduleerror";Error.captureStackTrace&&Error.captureStackTrace(k,d);return k}h(d,a);return d}(Error);x.ModuleError=f;x.parsingValidationMessage=
function(a,d,k){return"Parsing error - "+w(a)+q(x.ExecutionErrorMessages[d],k)}})},"esri/arcade/polyfill/tsSupport/assign":function(){define([],function(){return function(){return function(){return(Object.asrn G}).apply(this,arguments)}}()})},"esri/arcade/polyfill/tsSupport/spreadarray":function(){define([],function(){return function(){r(x))}}()})},"esri/libs/luxon/luxon":function(){define(["exports"],functin m(O,Z){void 0===Z&&(Z={});var H=JSON.stringify([O,Z]),P=pc[H];P||(P=new Intl.DateTimeFormat(O,Z),pc[H]=P);return P}function e(O){for(var Z=[],H=1;12>=H;H++){var P=wb.utc(2016,H,1);Z.push(O(P))}return Z}function b(O){for(var Z=[],
H=1;7>=H;H++){var P=wb.utc(2016,11,13+H);Z.push(O(P))}return Z}function p(O,Z,H,P,aa){O=O.listingMode(H);return"error"===O?null:"en"===O?P(Z):c(O)}function z(O){return"undefined"===
typeof O}function C(O){return"number"===typeof O}function y(O){return"number"===typeof O&&0=n!1}}function B(O,Z,H){if(0!==O.length)return O.reduce(function(P,aa){aa=[Z(aa),aa];return P?H(P[0],aa[0])===P[0]?P:aa:aa},nul=H}function A(O,
Z){void 0===Z&&(Z=2);return 0>O?"-"+(""+-O).padStart(Z,"0"):(""+O).padStart(ZZ}function ba(O){return 0===O%4&&(0!==O%100||0===O%400)}function na(O,Z){var H=Z-1;H=H-12*Math.floor(H/12)+1;return 2===
H?ba(O+(Z-H)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][H-1]}function xa(O){var Z=Date.UTC(O.year,O.month-1,O.day,O.hour,O.minute,O.second,O.millisecond);100>O.year&&0<=O.year&&(Z=new Date(Z),Z.setUTCFullYear(Z.getUTCFullYear()-1900));return+Z}function W(O){var Z=O-1;Z=(Z+Math.floor(Z/4)-Math.floor(Z/100)+Math.floor(Z/400))%7;return 4===(O+Math.floor(O/4)-Math.floor(O/100)+Math.floor(O/400))%7||3===Z?E3+O}function ha(O,Z,H,
P){void 0===P&&(P=null);O=new Date(O);var aa={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};P&&(aa.timeZone=P);Z=r({timeZoneName:Z},aa);return(H=(new Intl.DateTimeFormat(H,Z)).formatToParts(O)se()}))?H.value:null}function sa(O,Z){O=parseInt(O,10);Number.isNaN(O)&&(O=0);Z=parseInt(Z,10)||0;Z=0>O||Object.is(O,-0)?-Z:Z;return 6rn Z}function oa(O,Z){var H={},P;for(P in O)if(E(O,P)){var aa=O[P];void 0!==aa&&null!==aa&&(H[Z(P)]=Ca(aa))}return H}function qa(O,Z){var H=Math.trunc(Math.abs(O/60)),P=Math.trunc(Math.abs(O%60));O=0<=O?"+":"-";switch(Z){case "short":return""+O+A(H,2)+":"+A(P,2);case "narrow":return""+O+H+(0<P?":"+P:"");case "techie":return""+O+A(H,2)+A(P,2);default:throw new RangeError("Value format "+Z+" is out of range for property formad"])}function Y(O){switch(O){case "narrow":return[].concat(Xc);case "short":return[].concat(Bc);case "long":return[].concat(Yc);case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function ca(O){switch(O){case "narrow":return[].concat(Zc);case "short":return[].concat(Cc);case "long":return[].concat(Dc);case "numeric":return"1234567".split("");default:return null}}function X(O,Z,H,P){void 0===H&&(H="always");void 0===P&&(P=!1);var aa={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},ya=-1===["hours","minutes","seconds"].indexOf(O);if("auto"===H&&ya)switch(H="days"===O,Z){case 1:return H?
"tomorrow":"next "+aa[O][0];case -1:return H?"yesterday":"last "+aa[O][0];case 0:return H?"today":"this "+aa[O][0]}H=Object.is(Z,-0)||0>Z;Z=Math.abs(Z);ya=1===Z;var Fa=aa[O];O=P?ya?Fa[1]:Fa[2]||Fa[1]:ya?aa[O][0]:O;return H?Z+" "+O+" ago":"in "+Z+" "+O}function ja(O,Z){var H="";O=l(O);for(var P;!(P=O()).done;)P=P.value,H=P.literal?H+P.val:H+Z(P.val);return H}function pa(){for(var O=arguments.length,Z=Array(O),H=0;H<O;H++)Z[H]=arguments[H];O=Z.rurce},"");return RegExp("^"+
O+"$")}function ta(){for(var O=arguments.length,Z=Array(O),H=0;H<O;H++)Z[H]=arguments[H];return function(P){return Z.reduce(function(aa,ya){var Fa=aa[0],Ra=aa[1];aa=ya(P,aa[2]);ya=aa[1];var Za=aa[2];return[r({},Fa,aa[0]),ya||Ra,Za]},[{},null,1]).slice(0,2)}}function ea(O){if(null==O)return[null,null];for(var Z=arguments.length,H=Array(1<Z?Z-1:0),P=1;P<Z;P++)H[P-1]=arguments[P];for(Z=0;Z<H.length;Z++){var aa=H[Z];P=aa[1];if(aa=aa[0].exec(O))return P(aa)}return[null,null]}function va(){for(var O=arguments.length,
Z=Array(O),H=0;H<O;H++)Z[H]=arguments[H];return function(P,aa){var ya={},Fa;for(Fa=0;Fa<Z.length;Fa++)ya[Z[Fa]]=F(P[aa+Fa]);return[ya,null,aa+4]}function ma(O,Z){var H=!O[Z]&&!O[Z+1];O=sa(O[Z+1],O[Z+2]);return[{},H?null:Kb.instance(O)Z+1]}function wa(O){var Z=O[2],H=O[3],P=O[4],aa=O[5],
ya=O[6],Fa=O[7],Ra=O[8],Za="-"===O[0][0],fb=Fa&&"-"===Fa[0],kb=function(lb,ib){void 0===ib&&(ib=!1);return void 0!==lb&&(ib||lb&&Za)?-lb:lb};return[{years:kb(I(O[1])),months:kb(I(Z)),weeks:kb(I(H)),days:kb(I(P)),hours:kb(I(aa)),minutes:kb(I(ya)),seconds:kb(I(Fa),"-0"===Fa),milliseconds:kb(N(Ra),fb)}]}function Q(O,Z,H,P,aa,ya,Fa){Z={year:2===Z.length?la(F(Z)):F(Z),month:Bc.indexOf(H)+1,day:F(P),hour:F(aa),minute:F(ya)};Fa&&(Z.second=F(Fa));O&&(Z.weekday=3<O.length?Dc.indexOf(O)+1:Cc.indexOf(O)+1);
return Z}function ka(O){var Z=O[8],H=O[9],P=O[10],aa=O[11];O=Q(O[1],O[4],O[3],O[2],O[5],O[6],O[7]);Z=Z?cd[Z]:H?0:sa(P,aa);return[O,new Kb(Z)]}function za(O){return[Q(O[1],O[4],O[3],O[2],O[5],O[6],O[7]),Kb.utcInstnce]}function Ka(O,Z,H){void 0===H&&(H=!1);O={values:H?Z.values:r({},O.values,Z.values||{}),loc:O.loc.clone(Z.loc),conversionAccuracy:Z.conversionAccuracy||O.conversionAccuracy,matrix:Z.matrix||O.matrix};return new Bb(O)}
function Qa(O,Z,H,P,aa){O=O[aa][H];var ya=Z[H]/O;ya=Math.sign(ya)!==Math.sign(P[aa])&&0!==P[aa]&&1>=Math.abs(ya)?0>ya?Math.floor(ya):Math.ceil(ya):Math.trunc(ya);P[aa]+=ya;Z[H]-=ya*O}function Pa(O,Z){dd.reduce(function(H,P){if(z(Z[P]))return H;H&&Qa(O,Z,H,Z,P);return P},null)}function J(O,Z){Of()};O=H(Z)-H(O);return Math.floor(Bb.fromMillis(O).as("days"))}function U(O,Z,H){for(var P={},aa=O,ya,Fa,Ra=0,Za=[["years",function(lb,
ib){return ib.year-lb.year}],["quarters",function(lb,ib){return ib.quarter-lb.quarter+4*(ib.year-lb.year)}],["moear)}],["w7)/7}],["days",J]];Ra<Za.length;Ra++){var fb=Za[Ra],kb=fb[0];fb=fb[1];0<=H.indexOf(kb)&&(ya=kb,P[kb]=fb(O,Z),Fa=aa.plus(P),Fa>Z?(P[kb]--,O=aa.plus(P)):O=Fa)}return[O,P,Fa,ya]}function ia(O,Z,H,P){var aa=U(O,Z,H);O=aa[0];var ya=aa[1],Fa=aa[2],Ra=aa[3];aa=Z-O;H=H.f(kb)});if(0===H.length){if(Fa<Z){var Za;Fa=O.plus((Za={},Za[Ra]=1,Za))}Fa!==O&&(ya[Ra]=(ya[Ra]||0)+aa/(Fa-O))}Z=Bb.fromObject(ya,P);if(0<H.length){var fb;return(fb=Bb.fromMillis(aa,P)).shiftTo.apply(fb,H).plus(Z)}return Z}function K(O,Z){O=O.numberingSystem;void 0===Z&&(Z="");return new RegExp(""+qc[O||"latn"]+Z)}function T(O,Z){void 0===Z&&(Z=function(H){return H});return{regex:O,deser:function(H){var P=Z;H=H[0];var aa=parseInt(H,10);if(isNaN(aa)){aa=
"";for(var ya=0;ya<H.length;ya++){var Fa=H.charCodeAt(ya);if(-1!==H[ya].search(qc.hanidec))aa+=ed.indexOf(H[ya]);else for(fb in Ec){var Ra=Ec[fb],Za=Ra[0];Ra=Ra[1];Fa>=Za&&Fa<=Ra&&(aa+=Fa-Za)}}var fb=parseInt(aa,10)}else fb=aa;return P(,Fc)}function ra(O,Z){return null===O?null:{regex:RegExp(O.map(fa).join("|")),deser:function(H){var P=H[0];return O.findIndex(function(aa){return P.replace(/\./g,"").replace(rc," ").toLowerCase()===aa.replace(/\./g,
"").replace(rc," ").toLowerCase()}]}}}function Ha(O,Z){var H=K(Z),P=K(Z,"{2}"),aa=K(Z,"{3}"),ya=K(Z,"{4}"),Fa=K(Z,"{6}"),Ra=K(Z,"{1,2}"),Za=K(Z,"{1,3}"),fb=K(Z,"{1,6}"),kb=K(Z,"{1,9}"),lb=K(Z,"{2,4}"),ib=K(Z,"{4,6}"),tb=function($b){return{regex:RegExp($b.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),d[0]},literal:!0}},
Fb=function($b){if(O.literal)return tb($b);switch($b.val){case "G":return ra(Z.eras("short",!1),0);case "GG":return ra(Z.eras("long",!1),0);case "y":return T(fb);case "yy":return T(lb,la);case "yyyy":return T(ya);case "yyyyy":return T(ib);case "yyyyyy":return T(Fa);case "M":return T(Ra);case "MM":return T(P);case "MMM":return ra(Z.months("short",!0,!1),1);case "MMMM":return ra(Z.months("long",!0,!1),1);case "L":return T(Ra);case "LL":return T(P);case "LLL":return ra(Z.months("short",!1,!1),1);case "LLLL":return ra(Z.months("long",
!1,!1),1);case "d":return T(Ra);case "dd":return T(P);case "o":return T(Za);case "ooo":return T(aa);case "HH":return T(P);case "H":return T(Ra);case "hh":return T(P);case "h":return T(Ra);case "mm":return T(P);case "m":return T(Ra);case "q":return T(Ra);case "qq":return T(P);case "s":return T(Ra);case "ss":return T(P);case "S":return T(Za);case "SSS":return T(aa);case "u":return Ma(kb);case "uu":return Ma(Ra);case "uuu":return T(H);case "a":return ra(Z.meridiems(),0);case "kkkk":return T(ya);case "kk":return T(lb,
la);case "W":return T(Ra);case "WW":return T(P);case "E":case "c":return T(H);case "EEE":return ra(Z.weekdays("short",!1,!1),1);case "EEEE":return ra(Z.weekdays("long",!1,!1),1);case "ccc":return ra(Z.weekdays("short",!0,!1),1);case "cccc":return ra(Z.weekdays("long",!0,!1),1);case "Z":case "ZZ":return Ba(new RegExp("([+-]"+Ra.source+")(?::("+P.source+"))?"),2);case "ZZZ":return Ba(new RegExp("([+-]"+Ra.source+")("+P.source+")?"),2);case "z":return Ma(/[a-z_+-/]{1,256}?/i);default:return tb($b)}}(O)||
{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Fb.token=O;retu",O]}function Ta(O,Z,H){if(O=O.match(Z)){Z={};var P=1,aa;for(aa in H)if(E(H,aa)){var ya=H[aa],Fa=ya.groups?ya.groups+1:1;!ya.literal&&ya.token&&(Z[ya.token.val[0]]=ya.deser(O.slice(P,P+Fa)));P+=Fa}return[O,Z]}return[O,{}]}function Oa(O){ull}},H=null;z(O.z)||(H=Xb.create(O.z));if(!z(O.Z)){H||(H=new Kb(O.Z));var P=O.Z}z(O.q)||(O.M=3*(O.q-1)+1);z(O.h)||(12>O.h&&1===O.a?O.h+=12:12===O.h&&0===O.a&&(O.h=0));0===O.G&&O.y&&(O.y=-O.y);z(O.u)||(O.S=N(O.u));return[Object.keys(O).reduce(function(aa,
ya){var Fa=Z(ya);Fa&&(aa[Fa]=O[ya]);return aa},{}),H,P]}function Xa(O,Z){var H;return(H=Array.prototype).concat.apply(H,O.map(function(P){if(!P.literal){var aa=Lb.macroTokenToFormatOpts(P.val);aa=bb(aa,Z);P=null==aa||aa.includes(void 0)?P:aa}return P}))}function $a(O,Z,H){H=Xa(Lb.parseFormat(H),O);var P=H.map(function(fb){return Ha(fb,O)}),aa=P.find(function(fb){return fb.invalidReason});if(aa)return{input:Z,tokens:H,invalidReason:aa.invalidReason};aa=Ua(P);P=RegExp(aa[0],"i");var ya=Ta(Z,P,aa[1]);
aa=ya[0];var Fa=(ya=ya[1])?Oa(ya):[null,null,void 0],Ra=Fa[0],Za=Fa[1];Fa=Fa[2];if(E(ya,"a")&&E(ya,"H"))throw new Sb("Can't include meridiem when specifying 24-hour format");return{input:Z,tokens:H,regex:P,rawMatches:aa,matches:ya,result:Ra,zone:Za,specificOffset:Fa}}function bb(O,Z){if(!O)return null;Z=Lb.create(Z,O);var H=Z.formatDateTimeParts;sc||(sc=wb.fromMillis(1555555555555));return H.call(Z,sc).map(function(P){var aa=P.type;P=P.value;"literal"===aa?aa={literal:!0,val:P}:(P=O[aa],aa=gd[aa],
"object"===typeof aa&&(aa=aa[P]),aa=aa?{literal:!1,val:aa}:void 0);returnid")}function gb(O,Z,H){Z=new Date(Date.UTC(O,Z-1,H));100>O&&0<=O&&Z.setUTCFullYear(Z.getUTCFullYear()-1900);O=Z.getUTCDay();return 0===O?7:O}function mb(O,Z){O=ba(O)?tc:uc;var H=O.find P<Z});return{month:H+1,day:Z-O[H]}}function rb(O){var Z=O.year,H=O.month,P=O.day;var aa=P+(ba(Z)?
tc:uc)[H-1];H=gb(Z,H,P);aa=Math.floor((aa-H+10)/7);1>aa?(--Z,aa=W(Z)):aa>W(Z)&&(Z+=1,aa=1);return r({weekYear:Z,weekNumber:aa,weekday:H},L(O))}function ob(O){var Z=O.weekYear,H=O.weekNumber,P=O.weekday,aa=gb(Z,1,4),ya=ba(Z)?366:365;H=7*H+P-aa-3;1>H?(ya=Z-1,H+=ba(ya)?366:365):H>ya?(ya=Z+1,H-=ba(Z)?366:365):ya=Z;Z=mb(ya,H);return r({year:ya,month:Z.month,day:Z.day},L(O))}function eb(O){var Z=O.year;var H=O.month;H=O.day+(ba(Z)?tc:uc)[H-1];return r({year:Z,ordinal:H},ar)}function qb(O){var Z=O.hour,H=O.minute,P=O.second;O=O.millisecond;var aa=v(Z,0,23)||24===Z&&0===H&&0===P&&0===O,ya=v(H,0,59),Fa=v(P,0,59),Ra=v(O,0,999);return aa?ya?Fa?Ra?!1:hb("millisecond",O):hb("second",P):hb("minute",H):hb("houed')}function vb(O){null===O.weekData&&(O.weekData=rb(O.c));return O.weeO}))}function zb(O,Z,H){var P=O-6E4*Z,aa=H.offset(P);if(Z===aa)return[P,Z];P-=6E4*(aa-Z);Z=H.offset(P);return aa===Z?[P,aa]:[O-6E4*Math.min(aa,Z),Math.max(aa,Z)]}function Hb(O,Z){O=new Date(O+6E4*Z);return{year:O.getUTCFullYear(),month:O.getUTCMonth()+1,day:O.getUTCDate(),hour:O.getUTCHours(),
minute:O.getUTCMinutes(),second:O.getUTCSeconds(),millisecond:O.getUTCMilliseconZ,H)}function Wb(O,Z){var H=O.o,P=O.c.year+Math.trunc(Z.years),aa=O.c.month+Math.trunc(Z.months)+3*Math.trunc(Z.quarters);P=r({},O.c,{year:P,month:aa,day:Math.min(O.c.day,na(P,aa))+Math.trunc(Z.days)+7*Math.trunc(Z.weeks)});Z=Bb.fromObject({years:Z.years-Math.trunc(Z.years),quarters:Z.quarters-Math.trunc(Z.quarters),months:Z.months-Math.trunc(Z.months),weeks:Z.weeks-Math.trunc(Z.weeks),
days:Z.days-Math.trunc(Z.days),hours:Z.hours,minutes:Z.minutes,seconds:Z.seconds,milliseconds:Z.milliseconds}).as("milliseconds");P=xa(P);P=zb(P,H,O.zone);H=P[0];P=P[1];0!==Z&&(H+=Z,P=O.zone.offset(H));return{ts:H,o:P}}function Pb(O,Z,H,P,aa,ya){var Fa=H.setZone,Ra=H.zone;return O&&0!==Object.keys(O).length?(O=wb.fromObject(O,r({},H,{zone:Z||Ra,specificOffset:ya})),Fa?O:O.setZone(Ra)):wb.invalid(new Mb("unparsable",'the input "'+aa+"\" can't be parsed as "+P))}function Ib(O,Z,H){void 0===H&&(H=!0);
return O.isValid?Lb.create(xb.create("en-US"),{allowZ:H,forceSimple:!0}).formatDateTimeFromString(O,Z):null}function Yb(O,Z){var H=9999<O.c.year||0>O.c.year,P="";H&&0<=O.c.year&&(P+="+");P+=A(O.c.year,H?6:4);Z?(P=P+"-"+A(O.c.month),P=P+"-"+A(O.c.day)):(P+=A(O.c.month),P+=A(O.c.day));return P}function ac(O,Z,H,P,aa,ya){var Fa=A(O.c.hour);Z?(Fa=Fa+":"+A(O.c.minute),0===O.c.second&&H||(Fa+=":")):Fa+=A(O.c.minute);0===O.c.second&&H||(Fa+=A(O.c.second),0===O.c.millisecond&&P||(Fa=Fa+"."+A(O.c.millisecond,
3)));aa&&(O.isOffsetFixed&&0===O.offset&&!ya?Fa+="Z":0>O.o?(Fa=Fa+"-"+A(Math.trunc(-O.o/60)),Fa=Fa+":"+A(Math.trunc(-O.o%60))):(Fa=Fa+"+"+A(Math.trunc(O.o/60)),Fa=Fa+":"+A(Math.trunc(O.o%60))));ya&&(Fa+="["+O.zone.ianaName+"]");return Z}function dc(O,Z){var H=t(Z.zone,ub.defaultZone);Z=xb.fromObject(Z);var P=ub.now();if(z(O.year))O=P;else{var aa=0;for(var ya=Gc;aa<ya.length;aa++){var Fa=ya[aa];z(O[Fa])&&(O[Fa]=Hc[Fa])}if(aa=Ab(O)||qb(O))return wb.invalid(aa);P=H.offset(P);P=Eb(O,P,H);O=P[0];aa=P[1]}return new wb({ts:O,
zone:H,loc:Z,o:aa})}function ec(O,Z,H){var P=z(H.round)?!0:H.round,aa=function(fb,kb){fb=da(fb,P||H.calendary?0:2,!0);return Z.loc.clone(H).relFormatter(H).format(fb,kb(fb)};if(H.unit)return aa(ya(H.unit),H.unit);for(var Fa=l(H.units),Ra;!(Ra=Fa()).done;){Ra=Ra.value;var Za=ya(Ra);if(1<=Math.abs(Za))return aa(Za,Ra)}return aa(O>Z?-0:0,H.units[H.units.length-1])}function fc(O){var Z=
{};0<O.length&&"object"===typeof O[O.length-1]?(Z=O[O.length-1],O=Array.from(O).slice(0,O.length-1)):O=Array.from(O);return O);}var Gb=function(O){function Z(){return O.apply(this,arguments)||this}h(Z,O);return Z}(g(Error)),lc=function(O){function Z(H){return O.call(this,"Invalid DateTime: "+
H.toMessage())||this}h(Z,O);return Z}(Gb),Nb=function(O){function Z(H){return O.call(this,"Invalid Interval: "+H.toMessage())||this}h(Z,O);return Z}(Gb),mc=functithis}h(Z,O);return Z}(Gb),Sb=function(O){function Z(){return O.apply(this,arguments)||this}h(Z,O);return Z}(Gb),cc=functithis}h(Z,O);return Z}(Grn Z}(Gb),Qb=functithis}h(Z,O);return Z}(Gb),Zb={year:"numeric",month:"numeric",day:"numeric"},yb={year:"numeric",month:"short",day:"numeric"},R={year:"numeric",month:"short",day:"numeric",weekday:"short"},Ja={year:"numeric",month:"long",day:"numeric"},Ia={year:"numeric",month:"long",day:"numeric",weekday:"long"},Aa={hour:"numeric",minute:"numeric"},Da={hour:"numeric",minute:"numeric",second:"numeric"},Na={hour:"numeric",
minute:"numeric",second:"numeric",timeZoneName:"short"},La={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},Ga={hour:"numeric",minute:"numeric",hourCycle:"h23"},Sa={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Va={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},Ya={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},db={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},
Wa={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},cb={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},ab={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},jb={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Cb={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},gc={year:"numeric",month:"long",
day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},hc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},ic={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},pb=function(){function O(){}var Z=O.prototype;Z.offsetName=function(H,P){throw new Qb;};Z.formatO Qb;};Z.offset=function(H){throw new Qb;};Z.eq Qb;};c(O,[{key:"type",get:function(){throw new Qb;}},{key:"name",get:function(){throw new Qb;}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new Qb;}},{key:"isValid Qb;}}]);return O}(),Ub=null,Jb=functithis}h(Z,O);var H=Z.prototype;H.offseale)};H.formatOffset=function(P,aa){return qa(this.offset(P),aa)};H.ofet()};H.equals=function(P){return"system"===P.type};c(Z,[{key:"type",get:function(){return"system"}},{key:"nameZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instancen Ub}}]);return Z}(pb),Vb={},hd={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},nc={},Xb=function(O){function Z(P){var aa=
O.call(this)||this;aa.zoneName=P;aa.valid=Z.isValidZone(P);return aa}h(Z,O);Z.cc[P]};Z.resetb={}};Z.isValidSpecifier=function(P){return this.isValidZone(P)};Z.isValin!1}};var H=Z.prototype;H.offseame)};H.formatO
aa)};H.offset=function(P){P=new Date(P);if(isNaN(P))return NaN;var aa=this.name;Vb[aa]||(Vb[aa]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:aa,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));aa=Vb[aa];if(aa.formatToParts){aa=aa.formatToParts(P);for(var ya=[],Fa=0;Fa<aa.length;Fa++){var Ra=aa[Fa],Za=Ra.type;Ra=Ra.value;var fb=hd[Za];"era"===Za?ya[fb]=Ra:z(fb)||(ya[fb]=parseInt(Ra,10))}aa=ya}else aa=aa.format(P).replace(/\u200E/g,
""),aa=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(aa),aa=[aa[3],aa[1],aa[2],aa[4],aa[5],aa[6],aa[7]];ya=aa[0];Fa=aa[1];Za=aa[2];Ra=aa[4];fb=aa[5];var kb=aa[6];"BC"===aa[3]&&(ya=-Math.abs(ya)+1);aa=xa({year:ya,month:Fa,day:Za,hour:24===Ra?0:Ra,minute:fb,second:kb,millisecond:0});P=+P;ya=P%1E3;return(aa-(P-(0<=ya?ya:1E3+ya)))/6E4};H.equals=function(P){return"iana"===P.type&&P.name===this.name};c(Z,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},
{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]);return Z}(pb),id=["base"],jd=["padTo","floor"],Ic={},pc={},vc={},wc={},oc=null,kd=function(){function O(Z,H,P){this.padTo=P.padTo||0;this.floor=P.floor||!1;P.padTo;P.floor;var aa=a(P,jd);if(!H||0<Object.keys(aa).length)H=r({useGrouping:!1},P),0<P.padTo&&(H.minimumIntegerDigits=P.padTo),P=H,void 0===P&&(P={}),H=JSON.stringify([Z,P]),aa=vc[H],aa||(aa=new Intl.NumberFormat(Z,P),vc[H]=aa),this.inf=aa}O.prototype.format=
function(Z){if(this.inf)return this.inf.format(this.floor?Math.floor(Z):Z);Z=this.floor?Math.floor(Z):da(Z,3);return A(Z,this.padTo)};return O}(),ld=function(){function O(H,P,aa){this.opts=aa;var ya=void 0;H.zone.isUniversal?(ya=H.offset/60*-1,ya=0<=ya?"Etc/GMT+"+ya:"Etc/GMT"+ya,0!==H.offset&&Xb.create(ya).valid?this.dt=H:(ya="UTC",this.dt=aa.timeZoneName?H:0===H.offset?H:wb.fromMillis(H.ts+6E4*H.offset))):"system"===H.zone.type?this.dt=H:(this.dt=H,ya=H.zone.name);H=r({},this.opts);H.timeZone=H.timeZone||
ya;this.dtf=m(P,H)}var Z=O.prototype;Z.format=function(){return this.dtf.format(this.dt.toJSDate())};Z.formatToe())};Z.resolvedOptions=function(){return this.dtf.resolvedOptions()};return O}(),md=function(){function O(H,P,aa){this.opts=r({style:"long"},aa);if(!P&&D()){P=aa;void 0===P&&(P={});aa=P;aa.base;aa=a(aa,id);aa=JSON.stringify([H,aa]);var ya=wc[aa];ya||(ya=new Intl.RelativeTimeFormat(H,P),wc[aa]=ya);this.rtf=ya}}var Z=O.prototype;
Z.fyle)};Z.formatTo):[]};return O}(),xb=function(){function O(H,P,aa,ya){var Fa=H.indexOf("-x-");-1!==Fa&&(H=H.substring(0,Fa));Fa=H.indexOf("-u-");if(-1===Fa)var Ra=[H];else{try{Ra=m(H).resolvedOptions();var Za=H}catch(fb){Za=H.substring(0,Fa),Ra=m(Za).resolvedOptions()}Ra=[Za,Ra.numberingSystem,Ra.calendar]}Za=Ra[1];H=Ra[2];this.locale=
Ra[0];this.numberingSystem=P||Za||null;this.outputCalendar=aa||H||null;P=this.locale;aa=this.numberingSystem;if((Ra=this.outputCalendar)||aa)P.includes("-u-")||(P+="-u"),Ra&&(P+="-ca-"+Ra),aa&&(P+="-nu-"+aa);this.intl=P;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=ya;this.fastNumbersCached=null}O.frooEN)};O.create=
function(H,P,aa,ya){void 0===ya&&(ya=!1);H=H||ub.defaultLocale;var Fa;(Fa=H)||(ya?ya="en-US":(oc||(oc=(new Intl.DateTimeFormat).resolvedOptions().locale),ya=oc),Fa=ya);return new O(Fa,P||ub.defaultNumberingSystem,aa||ub.defaultOutputCalendar,H)};O.resetc={}};O.fromObject=function(H){H=void 0===H?{}:H;return O.create(H.locale,H.numberingSystem,H.outputCalendar)};var Z=O.prototype;Z.listinntl"};Z.this};Z.redefaultToEN=function(H){void 0===H&&(H={});return this.clone(r({},H,{defaultToEN:!0}))};Z.redefaultToSystem=function(H){void 0===H&&(H={});return this.clone(r({},H,{defaultToEN:!1}))};
Z.months=function(H,P,aa){var ya=this;void 0===P&&(P=!1);void 0===aa&&(aa=!0);return p(this,H,aa,Y,function(){var Fa=P?{month:H,day:"numeric"}:{month:H},Ra=P?"format":"standalone";ya.monthsCache[Ra][H]||(ya.monthsCache[Ra][H]=e(function(Za){return ya.extract(Za,Fa,"month")}));return ya.monthsCache[Ra][H]})};Z.weekdays=function(H,P,aa){var ya=this;void 0===P&&(P=!1);void 0===aa&&(aa=!0);return p(this,H,aa,ca,function(){var Fa=P?{weekday:H,year:"numeric",month:"long",day:"numeric"}:{weekday:H},Ra=P?
"format":"standalone";ya.weekdaysCache[Ra][H]||(ya.weekdaysCache[Ra][H]=b(function(Za){return ya.extract(Za,Fa,"weekday")}));return ya.weekdaysCache[Ra][H]})};Z.meridiems=function(H){var P=this;void 0===H&&(H=!0);return p(this,void 0,H,function(){returache})};Z.eras=function(H,P){var aa=this;
void 0===P&&(P=!0);return p(this,H,P,V,function(){var ya={era:H};aa.eraCache[H]||(aa.eraCache[H]=[wb.utc(-40,1,1),wb.utc(2017,1,1)ra")}));return aa.eraCache[H]})};Z.extract=function(H,P,aa){return(H=this.dtFormatter(H,P).formatToParts()==aa}))?H.value:null};Z.numberFormatter=function(H){void 0===H&&(H={});return new kd(this.intl,H.forceSimple||this.fastNumbers,H)};Z.dtFormatter=function(H,P){void 0===P&&(P=
{});return new ld(H,this.intl,P)};Z.relFormatter=function(H){void 0===H&&(H={});return new md(this.intl,this.isEnglish(),H)};Z.listFormatter=function(H){void 0===H&&(H={});var P=this.intl;void 0===H&&(H={});var aa=JSON.stringify([P,H]),ya=Ic[aa];ya||(ya=new Intl.ListFormat(P,H),Ic[aa]=ya);return ya};Z.isEnus")};Z.endar};c(O,[{key:"fastNumbers",get:function(){if(null==this.fastNumbersCached){var H=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=H}return this.fastNumbersCached}}]);return O}(),xc=null,Kb=function(O){function Z(P){var aa=O.call(this)||
this;aa.fixed=P;return aa}h(Z,O);Z.insZ(P)};Z.parseSpecifier=function(P){return P&&(P=P.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Z(sa(P[1],P[2])):null};var H=Z.prototype;H.offsetName=function(){return this.name};H.formatO,aa)};H.offset=function(){return this.fixed};H.eixed};c(Z,[{key:"type",get:function(){return"fixed"}},{key:"nameow")}},{key:"ianaNameow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){null===xc&&(xc=new Z(0));return xc}}]);return Z}(pb),Ac=function(O){function Z(P){var aa=O.call(this)||this;aa.zoneName=P;return aa}h(Z,O);var H=Z.prototype;H.offsetName=function(){return null};H.formatOffset=function(){return""};
H.offset=function(){return NaN};H.equals=function(){return!1};c(Z,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]);return Z}(pb),Kc=function(){return Date.now()},Lc="system",Mc=null,Nc=null,Oc=null,Pc=60,Qc,ub=function(){function O(){}O.resetCaches=function(){xb.resetCache();Xb.resetCache()};c(O,null,[{key:"now",get:function(){return Kc},set:function(Z){Kc=Z}},{key:"defaultZone"nce)},set:function(Z){Lc=Z}},{key:"defaultLocale",get:function(){return Mc},set:function(Z){Mc=Z}},{key:"defaultNumberingSystem",get:function(){return Nc},set:function(Z){Nc=Z}},{key:"defaultOutputCalendar",get:function(){return Oc},set:function(Z){Oc=Z}},{key:"twoDigitCutoffYear",get:function(){return Pc%100}},{key:"throwOnInvalid",get:function(){return Qc},set:function(Z){Qc=Z}}]);return O}(),Yc="January February March April May June July August September October November December".split(" "),
Bc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Xc="JFMAMJJASOND".split(""),Dc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Cc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Zc="MTWTFSS".split(""),Jc=["AM","PM"],bd=["Before Christ","Anno Domini"],ad=["BC","AD"],$c=["B","A"],nd={D:Zb,DD:yb,DDD:Ja,DDDD:Ia,t:Aa,tt:Da,ttt:Na,tttt:La,T:Ga,TT:Sa,TTT:Va,TTTT:Ya,f:db,ff:cb,fff:Cb,ffff:hc,F:Wa,FF:ab,FFF:gc,FFFF:ic},Lb=functnull}O.create=function(H,P){void 0===P&&(P={});return new O(H,P)};O.parseFormat=function(H){for(var P=null,aa="",ya=!1,Fa=[],Ra=0;Ra<H.length;Ra++){var Za=H.charAt(Ra);"'"===Za?(0<aa.length&&Fa.push({literal:ya,val:aa}),P=null,aa="",ya=!ya):ya?aa+=Za:Za===P?aa+=Za:(0<aa.length&&Fa.push({literal:!1,val:aa}),P=aa=Za)}0<aa.length&&Fa.push({literal:ya,val:aa});return Fa};O.macroTokenToFormatOpts=function(H){return nd[H]};var Z=O.prototype;Z.formatWithSystemDefault=function(H,P){null===this.systemLoc&&
(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(H,r({},this.opts,P)).format()};Z.formatDateTime=function(H,P){void 0===P&&(P={});return this.loc.dtFormatter(H,r({},this.opts,P)).format()};Z.formatDateTimeParts=function(H,P){void 0===P&&(P={});return this.loc.dtFormatter(H,r({},this.opts,P)).formatToParts()};Z.formatInterval=function(H,P){void 0===P&&(P={});return this.loc.dtFormatter(H.start,r({},this.opts,P)).dtf.formatRange(H.start.toJSDate(),H.end.toJSDate())};Z.resolvedOptions=
function(H,P){void 0===P&&(P={});return this.loc.dtFormatter(H,r({},this.opts,P)).resolvedOptions()};Z.num=function(H,P){void 0===P&&(P=0);if(this.opts.forceSimple)return A(H,P);var aa=r({},this.opts);0<P&&(aa.padTo=P);return this.loc.numberFormatter(aa).format(H)};Z.formatDateTimeFromString=function(H,P){var aa=this,ya="en"===this.loc.listingMode(),Fa=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalend,tb):""},fb=function(ib,tb){return ya?Y(ib)[H.month-1]:Ra(tb?{month:ib}:{month:ib,day:"numeric"},"month")},kb=function(ib,tb){return ya?ca(ib)[H.weekday-1]:Ra(tb?{weekday:ib}:{weekday:ib,month:"long",day:"numeric"},"weekday")},lb=function(ib){return ya?V(ib)[0>H.year?0:1]:Ra({era:ib},"era")};return ja(O.parseFormat(P),function(ib){switch(ib){case "S":return aa.num(H.millisecond);case "u":case "SSS":return aa.num(H.millisecond,3);
case "s":return aa.num(H.second);case "ss":return aa.num(H.second,2);case "uu":return aa.num(Math.floor(H.millisecond/10),2);case "uuu":return aa.num(Math.floor(H.millisecond/100));case "m":return aa.num(H.minute);case "mm":return aa.num(H.minute,2);case "h":return aa.num(0===H.hour%12?12:H.hour%12);case "hh":return aa.num(0===H.hour%12?12:H.hour%12,2);case "H":return aa.num(H.hour);case "HH":return aa.num(H.hour,2);case "Z":return Za({format:"narrow",allowZ:aa.opts.allowZ});case "ZZ":return Za({format:"short",
allowZ:aa.opts.allowZ});case "ZZZ":return Za({format:"techie",allowZ:aa.opts.allowZ});case "ZZZZ":return H.zone.offsetName(H.ts,{format:"short",locale:aa.loc.locale});case "ZZZZZ":return H.zone.offsetName(H.ts,{format:"long",locale:aa.loc.locale});case "z":return H.zoneName;case "a":return ya?Jc[12>H.hour?0:1]:Ra({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return Fa?Ra({day:"numeric"},"day"):aa.num(H.day);case "dd":return Fa?Ra({day:"2-digit"},"day"):aa.num(H.day,2);case "c":return aa.num(H.weekday);
case "ccc":return kb("short",!0);case "cccc":return kb("long",!0);case "ccccc":return kb("narrow",!0);case "E":return aa.num(H.weekday);case "EEE":return kb("short",!1);case "EEEE":return kb("long",!1);case "EEEEE":return kb("narrow",!1);case "L":return Fa?Ra({month:"numeric",day:"numeric"},"month"):aa.num(H.month);case "LL":return Fa?Ra({month:"2-digit",day:"numeric"},"month"):aa.num(H.month,2);case "LLL":return fb("short",!0);case "LLLL":return fb("long",!0);case "LLLLL":return fb("narrow",!0);
case "M":return Fa?Ra({month:"numeric"},"month"):aa.num(H.month);case "MM":return Fa?Ra({month:"2-digit"},"month"):aa.num(H.month,2);case "MMM":return fb("short",!1);case "MMMM":return fb("long",!1);case "MMMMM":return fb("narrow",!1);case "y":return Fa?Ra({year:"numeric"},"year"):aa.num(H.year);case "yy":return Fa?Ra({year:"2-digit"},"year"):aa.num(H.year.toString().slice(-2),2);case "yyyy":return Fa?Ra({year:"numeric"},"year"):aa.num(H.year,4);case "yyyyyy":return Fa?Ra({year:"numeric"},"year"):
aa.num(H.year,6);case "G":return lb("short");case "GG":return lb("long");case "GGGGG":return lb("narrow");case "kk":return aa.num(H.weekYear.toString().slice(-2),2);case "kkkk":return aa.num(H.weekYear,4);case "W":return aa.num(H.weekNumber);case "WW":return aa.num(H.weekNumber,2);case "o":return aa.num(H.ordinal);case "ooo":return aa.num(H.ordinal,3);case "q":return aa.num(H.quarter);case "qq":return aa.num(H.quarter,2);case "X":return aa.num(Math.floor(H.ts/1E3));case "x":return aa.num(H.ts);default:var tb=
O.macroTokenToFormatOpts(ib);ib=tb?aa.formatWithSystemDefault(H,tb):ib;return ib}})};Z.formatDurationFromString=function(H,P){var aa=thull}};P=O.parseFormat(P);var Fa=P.reduce(function(Ra,Za){var fb=Za.val;return Za.literal?Ra:Ra.concat(fb)},[]);H=H.shiftTo.apply(H,
Fa.map(ya).filter(function(Ra){return Ra}));return:Za}}(H))};return O}(),Mb=function(){function O(Z,H){this.reason=Z;this.explanation=H}O.prototype.toMeason};return O}(),Rc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Sc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,yc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,
Tc=RegExp(""+yc.source+("(?:"+Sc.source+"?(?:\\[("+Rc.source+")\\])?)?")),zc=RegExp("(?:T"+Tc.source+")?"),od=va("weekYear","weekNumber","weekDay"),pd=va("year","ordinal"),Uc=RegExp(yc.source+" ?(?:"+Sc.source+"|("+Rc.source+"))?"),qd=RegExp("(?: "+Uc.source+")?"),rd=RegExp("^T?"+yc.source+"$"),sd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
cd={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},td=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,ud=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,vd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
wd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,xd=pa(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,zc),yd=pa(/(\d{4})-?W(\d\d)(?:-?(\d))?/,zc),zd=pa(/(\d{4})-?(\d{3})/,zc),Ad=pa(Tc),Z+3]},S,ma,ua),Bd=ta(od,S,ma,ua),Cd=ta(pd,S,ma,ua),Dd=ta(S,ma,ua),Ed=ta(S),Fd=pa(/(\d{4})-(\d\d)-(\d\d)/,qd),Gd=pa(Uc),Hd=ta(S,ma,ua),Wc={weeks:{days:7,hours:168,
minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Id=r({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,
milliseconds:2592E6}},Wc),Jd=r({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3}},Wc),Rb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),dd=Rb.slice(0).reverse(),
Bb=function(){function O(H){var P="longterm"===H.conversionAccuracy||!1,aa=P?Jd:Id;H.matrix&&(aa=H.matrix);this.values=H.values;this.loc=H.loc||xb.create();this.conversionAccuracy=P?"longterm":"casual";this.invalid=H.invalid||null;this.matrix=aa;this.isLuxonDuration=!0}O.fromM},P)};O.fromObject=function(H,P){void 0===P&&(P={});if(null==H||"object"!==typeof H)throw new Db("Duration.fromObject: argument expected to be an object, got "+(null===H?
"null":typeof H));return new O({values:oa(H,O.normalizeUnit),loc:xb.fromObject(P),conversionAccuracy:P.conversionAccuracy,matrix:P.matrix})};O.fromDuratio H);};O.fromISO=function(H,P){var aa=ea(H,[sd,wa])[0];return aa?O.fromObject(aa,P):O.invalid("unparsable",'the input "'+H+"\" can't be parsed as ISO 8601")};O.fromISO01")};O.invalid=function(H,P){void 0===P&&(P=null);if(!H)throw new Db("need to specify a reason the Duration is invalid");H=H instanceof Mb?H:new Mb(H,P);if(ub.throwOnInvalid)throw new mc(H);return new O({invalid:H})};O.normalizrn P};O.isDur||!1};var Z=O.prototype;Z.toFormat=function(H,P){void 0===P&&(P={});P=r({},P,{floor:!1!==P.round&&!1!==P.floor});return this.isValid?Lb.create(this.loc,P).formatDurationFromString(this,H):"Invalid Duration"};Z.to(aa)};Z.toO):{}};Z.toISO=function(){if(!this.isValid)return null;var H="P";0!==this.years&&(H+=this.years+"Y");if(0!==this.months||0!==this.quarters)H+=
this.months+3*this.quarters+"M";0!==this.weeks&&(H+=this.weeks+"W");0!==this.days&&(H+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)H+="T";0!==this.hours&&(H+=this.hours+"H");0!==this.minutes&&(H+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)H+=da(this.seconds+this.milliseconds/1E3,3)+"S";"P"===H&&(H+="T0S");return H};Z.toISOTime=function(H){void 0===H&&(H={});if(!this.isValid)return null;var P=this.toMillis();if(0>P||864E5<=P)return null;
H=r({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},H);P=this.shiftTo("hours","minutes","seconds","milliseconds");var aa="basic"===H.format?"hhmm":"hh:mm";H.suppressSeconds&&0===P.seconds&&0===P.milliseconds||(aa+="basic"===H.format?"ss":":ss",H.suppressMilliseconds&&0===P.milliseconds||(aa+=".SSS"));P=P.toFormat(aa);H.includePrefix&&(P="T"+P);return P};Z.toJSON=function(){return this.toISO()};Z.toString=function(){return this.toISO()};Z.toMds")};
Z.valueOf=function(){return this.toMillis()};Z.plus=function(H){if(!this.isValid)return this;H=O.fromDurationLike(H);for(var P={},aa=0;aa<Rb.length;aa++){var ya=Rb[aa];if(E(H.values,ya)||E(this.values,ya))P[ya]=H.get(ya)+this.get(ya)}return Ka(this,{values:P},!0)};Z.e())};Z.map,!0)};(H)]};Z.set=function(H){if(!this.isValid)return this;H=r({},this.values,oa(H,O.normalizeUnit));return Ka(this,{values:H})};Z.reconfigure=function(H){H=void 0===H?{}:H;var P=H.conversionAccuracy,aa=H.matrix;H={loc:this.loc.clone({locale:H.locale,numberingSystem:H.numberingSystem}),matrix:aa,conversionAccuracy:P};return Ka(this,H)}:NaN};Z.normalize=
function(){if(!this.isValid)return this;var H=this.toObject();Pa(this.matrix,H);return Ka(this,{values:H},!0)};Z.rescale=function(){if(!this.isValid)return this;var H=this.normalize().shiftToAll().toObject(),P={},aa=0;for(H=Object.entries(H);aa<H.length;aa++){var ya=H[aa],Fa=ya[0];ya=ya[1];0!==ya&&(P[Fa]=ya)}return Ka(this,{values:P},!0)};Z.shiftTo=function(){for(var H=arguments.length,P=Array(H),aa=0;aa<H;aa++)P[aa]=arguments[aa];if(!this.isValid||0===P.length)return this;P=P.map(function(Fb){return O.normalizeUnit(Fb)});
H={};aa={};for(var ya=this.toObject(),Fa,Ra=0;Ra<Rb.length;Ra++){var Za=Rb[Ra];if(0<=P.indexOf(Za)){Fa=Za;var fb=0,kb;for(kb in aa)fb+=this.matrix[kb][Za]*aa[kb],aa[kb]=0;C(ya[Za])&&(fb+=ya[Za]);var lb=Math.trunc(fb);H[Za]=lb;aa[Za]=(1E3*fb-1E3*lb)/1E3;for(var ib in ya)Rb.indexOf(ib)>Rb.indexOf(Za)&&Qa(this.matrix,ya,ib,H,Za)}else C(ya[Za])&&(aa[Za]=ya[Za])}for(var tb in aa)0!==aa[tb]&&(H[Fa]+=tb===Fa?aa[tb]:aa[tb]/this.matrix[Fa][tb]);return Ka(this,{values:H},!0).normalize()};Z.shiftthis};Z.n,!0)};Z.equals=function(H){if(!this.isValid||!H.isValid||!this.loc.equals(H.loc))return!1;for(var P=0;P<Rb.length;P++){var aa=Rb[P];var ya=this.values[aa];aa=H.values[aa];ya=void 0===ya||0===ya?void 0===aa||0===aa:
ya===aa;if(!ya)return!1}return!0};c(O,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||
0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?
this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]);return O}(),jc=function(){function O(H){this.s=H.start;this.e=H.end;this.invalid=H.invalid||null;this.isLuxonInterval=!0}O.invalid=function(H,P){void 0===P&&(P=null);if(!H)throw new Db("need to specify a reason the Interval is invalid");H=H instanceof Mb?H:new Mb(H,P);if(ub.throwOnInvalid)throw new Nb(H);return new O({invalid:H})};O.fromDateTimes=function(H,P){H=Tb(H);P=Tb(P);
var aa=H&&H.isValid?P&&P.isValid?P<H?jc.invalid("end before start","The end of an interval must be after its start, but you had start\x3d"+H.toISO()+" and end\x3d"+P.toISO()):null:jc.invalid("missing or invalid end"):jc.invalid("missing or invalid start");return null==aa?new O({start:H,end:P}):aa};O.after=function(H,P){P=Bb.fromDurationLike(P);H=Tb(H);return O.fromDateTimes(H,H.plus(P))};O.before=function(H,P){P=Bb.fromDurationLike(P);H=Tb(H);return O.fromDateTimes(H.minus(P),H)};O.fromISO=function(H,
P){var aa=(H||"").split("/",2),ya=aa[0];aa=aa[1];if(ya&&aa){try{var Fa=wb.fromISO(ya,P);var Ra=Fa.isValid}catch(kb){Ra=!1}try{var Za=wb.fromISO(aa,P);var fb=Za.isValid}catch(kb){fb=!1}if(Ra&&fb)return O.fromDateTimes(Fa,Za);if(Ra){if(Za=Bb.fromISO(aa,P),Za.isValid)return O.after(Fa,Za)}else if(fb&&(Fa=Bb.fromISO(ya,P),Fa.isValid))return O.before(Za,Fa)}return O.invalid("unparsable",'the input "'+H+"\" can't be parsed as ISO 8601")};O.isInterval=function(H){return H&&H.isLuxonInterval||!1};var Z=O.prototype;
Z.length=function(H){void 0===H&&(H="milliseconds");return this.isValid?this.toDuration.apply(this,[H]).get(H):NaN};Z.count=function(H){void 0===H&&(H="milliseconds");if(!this.isValid)return NaN;var P=this.start.startOf(H),aa=this.end.startOf(H);return Math.floor(aa.diff(P,H).get(H))+1};Z.ha):!1};Z.isOf()};Z.isH:!1};
Z.isBH:!1};Z.conH:!1};Z.set=function(H){H=void 0===H?{}:H;return this.isValid?O.fromDateTimes(H.start||this.s,H.end||this.e):this};Z.splitAt=function(){var H=this;if(!this.isValid)return[];for(var P=arguments.length,aa=Array(P),ya=0;ya<P;ya++)aa[ya]=arguments[ya];P=aa.map(Tb).filter(function(Za){return H.contains(Za)}).sort();aa=[];ya=this.s;for(var Fa=0;ya<this.e;){var Ra=P[Fa]||this.e;Ra=+Ra>+this.e?
this.e:Ra;aa.push(O.fromDateTimes(ya,Ra));ya=Ra;Fa+=1}return aa};Z.splitBy=function(H){H=Bb.fromDurationLike(H);if(!this.isValid||!H.isValid||0===H.as("milliseconds"))return[];for(var P=this.s,aa=1,ya,Fa=[];P<this.e;)ya=this.start.plus(H.mapa*aa})),ya=+ya>+this.e?this.e:ya,Fa.push(O.fromDateTimes(P,ya)),P=ya,aa+=1;return Fa};Z.divideEq):[]};Z.ove<H.e};
Z.abutsStart=function(H){return this.isValid?+this.e===+H.s:!1};Z.abutsEnd=function(H){return this.isValid?+H.e===+this.s:!1};Z.ene:!1};Z.equals=function(H){return this.isValid&&H.isValid?this.s.equals(H.s)&&this.e.equals(H.e):!1};Z.intersection=function(H){if(!this.isValid)return this;var P=this.s>H.s?this.s:H.s;H=this.e<H.e?this.e:H.e;return P>=H?null:O.fromDateTimes(P,H)};Z.this};O.merge=function(H){var P=H.sort(function(aa,ya){return aa.s-ya.s}).reduce(function(aa,ya){var Fa=aa[0];return(aa=aa[1])?aa.overlaps(ya)||aa.abutsStart(ya)?[Fa,aa.union(ya)]:[Fa.concat([aa]),ya]:[Fa,ya]},[[],null]);H=P[0];(P=P[1])&&H.push(P);return H};O.xor=function(H){var P,aa=null,ya=0,Fa=[];H=e"}]});var Ra=(P=Array.prototype).concat.apply(P,H)time});
for(P=l(Ra);!(H=P()).done;)H=H.value,ya+="s"===H.type?1:-1,1===ya?aa=H.time:(aa&&+aa!==+H.time&&Fa.push(O.fromDateTimes(aa,H.time)),aa=null);return O.merge(Fa)};Z.diffe()})};Z.toSval"};
Z.toLocaleString=function(H,P){void 0===H&&(H=Zb);void 0===P&&(P={});return this.isValid?Lb.create(this.s.loc.clone(P),H).formatInterval(this):"Invalid Interval"};Z.toISO=function(H){return this.isValid?this.s.toISO(H)+"/"+this.e.toISO(H):"Invalid Interval"};Z.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():"Invalid Interval"};Z.toISval"};Z.toFormat=function(H,P){P=(void 0===
P?{}:P).separator;P=void 0===P?" \u2013 ":P;return this.isValid?""+this.s.toFormat(H)+P+this.e.toFormat(H):"Invalid Interval"};Z.toDurson)};Z.mapEndp.e))};c(O,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"endnull}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",
get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]);return O}(),kc=function(){function O(){}O.hfset};O.isValidIANAZone=function(Z){return Xb.isValidZone(Z)};O.normalizone)};O.months=function(Z,H){void 0===Z&&(Z="long");
var P=void 0===H?{}:H;H=P.locale;var aa=P.numberingSystem,ya=P.locObj;P=P.outputCalendar;return((void 0===ya?null:ya)||xb.create(void 0===H?null:H,void 0===aa?null:aa,void 0===P?"gregory":P)).months(Z)};O.monthsFormat=function(Z,H){void 0===Z&&(Z="long");var P=void 0===H?{}:H;H=P.locale;var aa=P.numberingSystem,ya=P.locObj;P=P.outputCalendar;return((void 0===ya?null:ya)||xb.create(void 0===H?null:H,void 0===aa?null:aa,void 0===P?"gregory":P)).months(Z,!0)};O.weekdays=function(Z,H){void 0===Z&&(Z=
"long");var P=void 0===H?{}:H;H=P.locale;var aa=P.numberingSystem;P=P.locObj;return((void 0===P?null:P)||xb.create(void 0===H?null:H,void 0===aa?null:aa,null)).weekdays(Z)};O.weekdaysFormat=function(Z,H){void 0===Z&&(Z="long");var P=void 0===H?{}:H;H=P.locale;var aa=P.numberingSystem;P=P.locObj;return((void 0===P?null:P)||xb.create(void 0===H?null:H,void 0===aa?null:aa,null)).weekdays(Z,!0)};O.merims()};O.s(Z)};O.feaD()}};return O}(),qc={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",
limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ec={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,
3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ed=qc.hanidec.replace(/[\[|\]]/g,"").split(""),Fc="[ "+String.fromCharCode(160)+"]",rc=new RegExp(Fc,"g"),gd={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}},
sc=null,uc=[0,31,59,90,120,151,181,212,243,273,304,334],tc=[0,31,60,91,121,152,182,213,244,274,305,335],Hc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Kd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ld={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Gc="year month day hour minute second millisecond".split(" "),Md="weekYear weekNumber weekday hour minute second millisecond".split(" "),Nd="year ordinal hour minute second millisecond".split(" "),wb=function(){function O(H){var P=
H.zone||ub.defaultZone,aa=H.invalid||(Number.isNaN(H.ts)?new Mb("invalid input"):null)||(P.isValid?null:sb(P));this.ts=z(H.ts)?ub.now():H.ts;var ya=null,Fa=null;aa||(H.old&&H.old.ts===this.ts&&H.old.zone.equals(P)?(Fa=[H.old.c,H.old.o],ya=Fa[0],Fa=Fa[1]):(Fa=P.offset(this.ts),ya=Hb(this.ts,Fa),ya=(aa=Number.isNaN(ya.year)?new Mb("invalid input"):null)?null:ya,Fa=aa?null:Fa));this._zone=P;this.loc=H.loc||xb.create();this.invalid=aa;this.weekData=null;this.c=ya;this.o=Fa;this.isLuxonDateTime=!0}O({})};O.local=function(){var H=fc(arguments),P=H[1];return dc({year:P[0],month:P[1],day:P[2],hour:P[3],minute:P[4],second:P[5],millisecond:P[6]},H[0])};O.utc=function(){var H=fc(arguments),P=H[0],aa=H[1];H=aa[0];var ya=aa[1],Fa=aa[2],Ra=aa[3],Za=aa[4],fb=aa[5];aa=aa[6];P.zone=Kb.utcInstance;return dc({year:H,month:ya,day:Fa,hour:Ra,minute:Za,second:fb,millisecond:aa},P)};O.fromJSDate=function(H,P){void 0===P&&(P={});H="[object Date]"===Object.prototype.toString.call(H)?H.valueOf():
NaN;if(Number.isNaN(H))return O.invalid("invalid input");var aa=t(P.zone,ub.defaultZone);return aa.isValid?new O({ts:H,zone:aa,loc:xb.fromObject(P)}):O.invalid(sb(aa))};O.fromMillis=function(H,P){void 0===P&&(P={});if(C(H))return-864E13>H||864E13<H?O.invalid("Timestamp out of range"):new O({ts:H,zone:t(P.zone,ub.defaultZone),loc:xb.fromObject(P)});throw new Db("fromMillis requires a numerical input, but received a "+typeof H+" with value "+H);};O.fromSeconds=function(H,P){void 0===P&&(P={});if(C(H))return new O({ts:1E3*
H,zone:t(P.zone,ub.defaultZone),loc:xb.fromObject(P)});throw new Db("fromSeconds requires a numerical input");};O.fromObject=function(H,P){void 0===P&&(P={});H=H||{};var aa=t(P.zone,ub.defaultZone);if(!aa.isValid)return O.invalid(sb(aa));var ya=ub.now(),Fa=z(P.specificOffset)?aa.offset(ya):P.specificOffset,Ra=oa(H,bc),Za=!z(Ra.ordinal),fb=!z(Ra.year),kb=!z(Ra.month)||!z(Ra.day);fb=fb||kb;var lb=Ra.weekYear||Ra.weekNumber;P=xb.fromObject(P);if((fb||Za)&&lb)throw new Sb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
if(kb&&Za)throw new Sb("Can't mix ordinal dates with month/day");kb=lb||Ra.weekday&&!fb;lb=Hb(ya,Fa);if(kb){var ib=Md;ya=Kd;lb=rb(lb)}else Za?(ib=Nd,ya=Ld,lb=eb(lb)):(ib=Gc,ya=Hc);var tb=!1;ib=l(ib);for(var Fb;!(Fb=ib()).done;)Fb=Fb.value,z(Ra[Fb])?Ra[Fb]=tb?ya[Fb]:lb[Fb]:tb=!0;kb?(ya=y(Ra.weekYear),lb=v(Ra.weekNumber,1,W(Ra.weekYear)),tb=v(Ra.weekday,1,7),ya=ya?lb?tb?!1:hb("weekday",Ra.weekday):hb("week",Ra.week):hb("weekYear",Ra.weekYear)):Za?(ya=y(Ra.year),lb=v(Ra.ordinal,1,ba(Ra.year)?366:365),
ya=ya?lb?!1:hb("ordinal",Ra.ordinal):hb("year",Ra.year)):ya=Ab(Ra);if(ya=ya||qb(Ra))return O.invalid(ya);Za=kb?ob(Ra):Za?nb(Ra):Ra;Fa=Eb(Za,Fa,aa);aa=new O({ts:Fa[0],zone:aa,o:Fa[1],loc:P});return Ra.weekday&&fb&&H.weekday!==aa.weekday?O.invalid("mismatched weekday","you can't specify both a weekday of "+Ra.weekday+" and a date of "+aa.toISO()):aa};O.fr",H)};O.fromRF",H)};O.fro",P)};O.fromFormat=function(H,P,aa){void 0===aa&&(aa={});if(z(H)||z(P))throw new Db("fromFormat requires an input string and a format");var ya=aa,Fa=ya.locale;ya=ya.numberingSystem;Fa=xb.fromOpts({locale:void 0===Fa?null:Fa,numberingSystem:void 0===ya?
null:ya,defaultToEN:!0});Fa=$a(Fa,H,P);var Ra=[Fa.result,Fa.zone,Fa.specificOffset,Fa.invalidReason];Fa=Ra[0];ya=Ra[1];var Za=Ra[2];return(Ra=Ra[3])?O.invalid(Ra):Pb(Fa,ya,aa,"format "+P,H,Za)};O.fromString=function(H,P,aa){void 0===aa&&(aa={});return O.fromFormat(H,P,aa)};O.fr",H)};O.invalid=function(H,P){void 0===P&&(P=null);if(!H)throw new Db("need to specify a reason the DateTime is invalid");H=H instanceof
Mb?H:new Mb(H,P);if(ub.throwOnInvalid)throw new lc(H);return new O({invalid:H})};O.isDateTime=function(H){return H&&H.isLuxonDateTime||!1};O.parseFormatForOpts=function(H,P){void 0===P&&(P={});return(H=bb(H,xb.fromObject(P)))?null}).join(""):null};O.expandFormat=function(H,P){void 0===P&&(P={});return Xa(Lb.parseFormat(H),xb.fromObject(P)).map(function(aa){return aa.val}).join("")};var Z=O.prototype;Z.get=function(H){return this[H]};Z.resolvedLocaleOptions=function(H){void 0===
H&&(H={});H=Lb.create(this.loc.clone(H),H).resolvedOptions(this);return{locale:H.locale,numberingSystem:H.numberingSystem,outputCalendar:H.calendar}};Z.toUTC=function(H,P){void 0===H&&(H=0);void 0===P&&(P={});return this.setZone(Kb.instance(H),P)};Z.toone)};Z.setZone=function(H,P){var aa=void 0===P?{}:P;P=aa.keepLocalTime;P=void 0===P?!1:P;aa=aa.keepCalendarTime;aa=void 0===aa?!1:aa;H=t(H,ub.defaultZone);if(H.equals(this.zone))return this;if(H.isValid){var ya=
this.ts;if(P||aa)P=H.offset(this.ts),aa=this.toObject(),ya=Eb(aa,P,H)[0];return Ob(this,{ts:ya,zone:H})}return O.invalid(sb(H))};Z.reconfigure=function(H){H=void 0===H?{}:H;H=this.loc.clone({locale:H.locale,numberingSystem:H.numberingSystem,outputCalendar:H.outputCalendar});return Ob(this,{loc:H})};Z.setL:H})};Z.set=function(H){if(!this.isValid)return this;H=oa(H,bc);var P=!z(H.weekYear)||!z(H.weekNumber)||!z(H.weekday),aa=!z(H.ordinal),ya=!z(H.year),
Fa=!z(H.month)||!z(H.day),Ra=H.weekYear||H.weekNumber;if((ya||Fa||aa)&&Ra)throw new Sb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Fa&&aa)throw new Sb("Can't mix ordinal dates with month/day");P?P=ob(r({},rb(this.c),H)):z(H.ordinal)?(P=r({},this.toObject(),H),z(H.day)&&(P.day=Math.min(na(P.year,P.month),P.day))):P=nb(r({},eb(this.c),H));H=Eb(P,this.o,this.zone);return Ob(this,{ts:H[0],o:H[1]})};Z.plus=function(H){if(!this.isValid)return this;H=Bb.fromDurationLike(H);
return Ob(this,Wb(this,H))};Z.minus=function(H){if(!this.isValid)return this;H=Bb.fromDurationLike(H).negate();return Ob(this,Wb(this,H))};Z.startOf=function(H){if(!this.isValid)return this;var P={};H=Bb.normalizeUnit(H);switch(H){case "years":P.month=1;case "quarters":case "months":P.day=1;case "weeks":case "days":P.hour=0;case "hours":P.minute=0;case "minutes":P.second=0;case "seconds":P.millisecond=0}"weeks"===H&&(P.weekday=1);"quarters"===H&&(P.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(P)};
Z.this};Z.toFormat=function(H,P){void 0===P&&(P={});return this.isValid?Lb.create(this.loc.redefaultToEN(P)).formatDateTimeFromString(this,H):"Invalid DateTime"};Z.toLocaleString=function(H,P){void 0===H&&(H=Zb);void 0===P&&(P={});return this.isValid?Lb.create(this.loc.clone(P),H).formatDateTime(this):"Invalid DateTime"};Z.toLocaleParts=function(H){void 0===H&&(H={});return this.isValid?Lb.create(this.loc.clone(H),
H).formatDateTimeParts(this):[]};Z.toISO=function(H){var P=void 0===H?{}:H,aa=P.format;H=P.suppressSeconds;H=void 0===H?!1:H;var ya=P.suppressMilliseconds;ya=void 0===ya?!1:ya;var Fa=P.includeOffset;Fa=void 0===Fa?!0:Fa;P=P.extendedZone;P=void 0===P?!1:P;if(!this.isValid)return null;aa="extended"===(void 0===aa?"extended":aa);var Ra=Yb(this,aa);return Ra=Ra+"T"+ac(this,aa,H,ya,Fa,P)};Z.toISnull};Z.toISOWee-c")};Z.toISOTime=function(H){var P=void 0===H?{}:H;H=P.suppressMilliseconds;var aa=P.suppressSeconds,ya=P.includeOffset,Fa=P.includePrefix,Ra=P.extendedZone;P=P.format;return this.isValid?((void 0===Fa?0:Fa)?"T":"")+ac(this,"extended"===(void 0===P?"extended":P),void 0===aa?!1:aa,void 0===H?!1:H,void 0===ya?!0:ya,void 0===Ra?!1:Ra):null};Z.toRF,!1)};Z.tT'")};Z.toSQnull};Z.toSQLTime=function(H){var P=void 0===H?{}:H;H=P.includeOffset;H=void 0===H?!0:H;var aa=P.includeZone;aa=void 0===aa?!1:aa;P=P.includeOffsetSpace;P=void 0===P?!0:P;var ya="HH:mm:ss.SSS";if(aa||H)P&&(ya+=" "),aa?ya+="z":H&&(ya+="ZZ");return Ib(this,ya,!0)};Z.toSQL=function(H){void 0===H&&(H={});return this.isValid?this.toSQLDate()+" "+this.toSQLTime(H):null};Z.toSime"};Z.valueOf=function(){return this.toMillis()};Z.toM:NaN};Z.toSe:NaN};Z.toUnixIn:NaN};Z.toJSON=function(){return this.toISO()};Z.toBSON=function(){return this.toJSDate()};Z.toObject=function(H){void 0===H&&(H={});if(!this.isValid)return{};var P=r({},this.c);H.includeConfig&&(P.outputCalendar=this.outputCalendar,P.numberingSystem=
this.loc.numberingSystem,P.locale=this.loc.locale);return P};Z.toJNaN)};Z.diff=function(H,P,aa){void 0===P&&(P="milliseconds");void 0===aa&&(aa={});if(!this.isValid||!H.isValid)return Bb.invalid("created by diffing an invalid DateTime");aa=r({locale:this.locale,numberingSystem:this.numberingSystem},aa);var ya=(Array.isArray(P)?P:[P]).map(Bb.normalizeUnit);P=H.valueOf()>this.valueOf();H=ia(P?this:H,P?H:this,ya,aa);return P?H.negate():H};Z.diffNow=
function(H,P){void 0===H&&(H="milliseconds");void 0===P&&(P={});return this.diff(O.now(),H,P)};Z.this};Z.hasSame=function(H,P){if(!this.isValid)return!1;var aa=H.valueOf();H=this.setZone(H.zone,{keepLocalTime:!0});return H.startOf(P)<=aa&&aa<=H.endOf(P)};Z.eloc)};Z.toRelative=function(H){void 0===H&&(H={});if(!this.isValid)return null;
var P=H.base||O.fromObject({},{zone:this.zone}),aa=H.padding?this<P?-H.padding:H.padding:0,ya="years months days hours minutes seconds".split(" "),Fa=H.unit;Array.isArray(H.unit)&&(ya=H.unit,Fa=void 0);return ec(P,this.plus(aa),r({},H,{numeric:"always",units:ya,unit:Fa}))};Z.toRelativeCalendar=function(H){void 0===H&&(H={});return this.isValid?ec(H.base||O.fromObject({},{zone:this.zone}),this,r({},H,{numeric:"auto",units:["years","months","days"],calendary:!0})):null};O.min=function(){for(var H=arguments.length,
P=Array(H),aa=0;aa<H;aa++)P[aa]=arguments[aa];if(!P.every(O.isDateTime))throw new Db("min requires all arguments be DateTimes");return B(P,function(ya){return ya.valueOf()},Math.min)};max)};O.fromFormatExplain=function(H,P,aa){void 0===aa&&(aa={});var ya=aa;aa=ya.locale;ya=ya.numberingSystem;
aa=xb.fromOpts({locale:void 0===aa?null:aa,numberingSystem:void 0===ya?null:ya,defaultToEN:!0});return $a(aa,H,P)};O.fromStringExplain=function(H,P,aa){void 0===aa&&(aa={});return O.fromFormatExplain(H,P,aa)};c(O,[{key:"isValidalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:
null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter:NaN}},{key:"month",get:function(){return this.isValid?this.c.month:
NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?vb(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?vb(this).weekNumber:NaN}},
{key:"weekday:NaN}},{key:"ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?kc.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?kc.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?kc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong"null}},{key:"offset:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLongnull}},{key:"isOffsetFixednull}},
{key:"isInDSTfset}},{key:"isInLeapYear",get:function(){return ba(this.year)}},{key:"daysInMonthnth)}},{key:"daysInYear",get:function(){return this.isValid?ba(this.year)?366:365:NaN}},{key:"weeksInWeekYear:NaN}}],[{key:"DATE_SHORT",get:function(){return Zb}},{key:"DATE_MED",get:function(){return yb}},
{key:"DATE_MED_WITH_WEEKDAY",get:function(){return R}},{key:"DATE_FULL",get:function(){return Ja}},{key:"DATE_HUGE",get:function(){return Ia}},{key:"TIME_SIMPLE",get:function(){return Aa}},{key:"TIME_WITH_SECONDS",get:function(){return Da}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Na}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return La}},{key:"TIME_24_SIMPLE",get:function(){return Ga}},{key:"TIME_24_WITH_SECONDS",get:function(){return Sa}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return Va}},
{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return Ya}},{key:"DATETIME_SHORT",get:function(){return db}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Wa}},{key:"DATETIME_MED",get:function(){return cb}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return ab}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return jb}},{key:"DATETIME_FULL",get:function(){return Cb}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return gc}},{key:"DATETIME_HUGE",get:function(){return hc}},{key:"DATETIME_HUGE_WITH_SECONDS",
get:function(){return ic}}]);return O}();G.DateTime=wb;G.Duration=Bb;G.FixedOffsetZone=Kb;G.IANAZone=Xb;G.Info=kc;G.Interval=jc;G.InvalidZone=Ac;G.Settings=ub;G.SystemZone=Jb;G.VERSION="3.2.1";G.Zone=pb;Object.defineProperty(G,"__esModule",{value:!0})})},"esri/arcade/ImmutableA()})},"esri/arcade/languageUtils":function(){define("require exports ./polyfill/tsSupport/awaiter ./polyfill/tsSupport/generator ./polyfill/tsSupport/assign ./polyfill/tsSupport/spreadarray ./FunctionWrapper ./ImmutableArray ./ImmutablePathArray ./ImmutablePointArray ./ArcadeDate ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../libs/luxon/luxon dojo/number dojo/_base/kernel ./featureset/support/shared ./ArcadeModule ./executionError".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t,z,C(za)}function u(Q){return Q instanceof q.ArcadeFunction}function E(Q){return Q instanceof y.ArcadeM0:!1}function A(Q){return"string"===typeof Q||Q instanceof String}function F(Q){return"boolean"===typof Q}
function N(Q){return Q instanceof Array}function da(Q){return"esri.arcade.Feature"===(null===Q||void 0===Q?void 0:Q.arcadeDeclaredClass)?!0:!1}function ba(Q){return"esri.arcade.featureset.support.FeatureSet"===(null===Q||void 0===Q?void 0:Q.declaredRootCass)}function xa(Q){return Q instanceof n}function W(Q){return Q instanceof a.Arcadof Q}
function ha(Q){return Q instanceof Date}function sa(Q,ka){if(!isNaN(Q)){if(void 0===ka||null===ka||""===ka)return Q.toString();ka=B(ka,"\u2030","");ka=B(ka,"\u00a4","");return t.format(Q,{pattern:ka})}return Q.toString()}function Ca(Q,ka){return void 0===ka||null===ka||""===ka?Q.toISOString(!0):Q.toFormat(oa(ka),{locale:z.locale,numberingSystem:"latn"})}function oa(Q){Q=Q.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");var ka="",za=0;for(Q=Q.match(/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g)||
[];za<Q.length;za++){var Ea=Q[za];switch(Ea){case "D":ka+="d";break;case "DD":ka+="dd";break;case "DDD":ka+="o";break;case "d":ka+="c";break;case "ddd":ka+="ccc";break;case "dddd":ka+="cccc";break;case "M":ka+="L";break;case "MM":ka+="LL";break;case "MMM":ka+="LLL";break;case "MMMM":ka+="LLLL";break;case "YY":ka+="yy";break;case "Y":case "YYYY":ka+="yyyy";break;case "Q":ka+="q";break;case "Z":ka+="ZZ";break;case "ZZ":ka+="ZZZ";break;case "S":ka+="'S'";break;case "SS":ka+="'SS'";break;case "SSS":ka+=
"u";break;case "A":case "a":ka+="a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":case "X":case "x":ka+=Ea;break;default:ka=2<=Ea.length&&"["===Ea.slice(0,1)&&"]"===Ea.slice(-1)?ka+("'"+Ea.slice(1,-1)+"'"):ka+("'"+Ea+"'")}}return!1}function L(Q,ka){if(Q===ka||null===Q&&ka===x.voidOperation||null===ka&&Q===x.voidOperation)return!0;
if(W(Q)&&W(ka))return Q.equals(ka);if(Q instanceof f||Q instanceof g)return Q.equalityTest(ka);if(Q instanceof m&&ka instanceof m){var za=Q.getCacheValue("_arcadeCacheId"),Ea=ka.getCacheValue("_arcadeCacheId");if(void 0!==za&&null!==za)return za===Ea}return la(Q)&&la(ka)&&(Q._arcadeCacheId===ka._arcadeCacheId&&void 0!==Q._arcadeCacheId&&null!==Q._arcadeCacheId||Q._underlyingGraphic===ka._underlyingGraphic&&void 0!==Q._underlyingGraphic&&null!==Q._underlyingGraphic)?!0:!1}function Y(Q,ka){if(A(Q))return Q;
if(null===Q)return"";if(I(Q))return sa(Q,ka);if(F(Q))return Q.toString();if(W(Q))return Ca(Q,ka);if(Q instanceof k)return JSON.stringify(Q.toJson());if(N(Q)){ka=[];for(var za=0;za<Q.length;za++)ka[za]=V(Q[za]);return"["+ka.join(",")+"]"}if(Q instanceof n){ka=[];for(za=0;za<Q.length();za++)ka[za]=V(Q.get(za));return"["+ka.join(",")+"]"}return null!==Q&&"object"===typeof Q&&void 0!==Q.castToText?Q.castToText():u(Q)?"object, Function":Q===x.voidOperation?"":E(Q)?"object, Module":""}function ca(Q,ka,
za){void 0===za&&(za=!1);if(A(Q))return Q;if(null===Q)return"";if(I(Q))return sa(Q,ka);if(F(Q))return Q.toString();if(W(Q))return Ca(Q,ka);if(Q instanceof k)return Q instanceof d?'{"xmin":'+Q.xmin.toString()+',"ymin":'+Q.ymin.toString()+","+(Q.hasZ?'"zmin":'+Q.zmin.toString()+",":"")+(Q.hasM?'"mmin":'+Q.mmin.toString()+",":"")+'"xmax":'+Q.xmax.toString()+',"ymax":'+Q.ymax.toString()+","+(Q.hasZ?'"zmax":'+Q.zmax.toString()+",":"")+(Q.hasM?'"mmax":'+Q.mmax.toString()+",":"")+'"spatialReference":'+va(Q.spatialReference)+
"}":va(Q.toJ?1:0});if(N(Q)){ka=[];for(var Ea=0;Ea<Q.length;Ea++)ka[Ea]=V(Q[Ea],za);return"["+ka.join(",")+"]"}if(Q instanceof n){ka=[];for(Ea=0;Ea<Q.length();Ea++)ka[Ea]=V(Q.get(Ea),za);return"["+ka.join(",")+"]"}return null!==Q&&"object"===typeof Q&&void 0!==Q.castToText?Q.castToText(za):u(Q)?"object, Function":Q===x.voidOperation?"":E(Q)?"object, Module":""}function V(Q,
ka){void 0===ka&&(ka=!1);return null===Q?"null":F(Q)||I(Q)||A(Q)?JSON.stringify(Q):Q instanceof k||Q instanceof n||Q instanceof Array?ca(Q,null,ka):W(Q)?ka?JSON.stringify(Q.getTime()):JSON.stringify(Ca(Q,"")):null!==Q&&"object"===typeof Q&&void 0!==Q.castToText?Q.castToText(ka):"r(Q)}
function ja(Q,ka){if(!Q||!Q.domain)return ka;var za=null;if("string"===Q.field.type||"esriFieldTypeString"===Q.field.type)ka=Y(ka);else{if(null===ka||void 0===ka)return null;if(""===ka)return ka;ka=X(ka)}for(var Ea=0;Ea<Q.domain.codedValues.length;Ea++){var Ka=Q.domain.codedValues[Ea];Ka.code===ka&&(za=Ka)}return null===za?ka:za.name}function pa(Q,ka){if(!Q||!Q.domain)return ka;var za=null;ka=Y(ka);for(var Ea=0;Ea<Q.domain.codedValues.length;Ea++){var Ka=Q.domain.codedValues[Ea];Ka.name===ka&&(za=
Ka)}return null===za?ka:za.code}function ta(Q,ka,za,Ea){void 0===za&&(za=null);void 0===Ea&&(Ea=null);if(!ka||!ka.fields)return null;for(var Ka=null,Qa=0;Qa<ka.fields.length;Qa++){var Pa=ka.fields[Qa];Pa.name.toLowerCase()===Q.toString().toLowerCase()&&(Ka=Pa)}if(null===Ka)throw new D.ArcadeExecutionError(null,D.ExecutionErrorCodes.FieldNotFound,null,{key:Q});var J,U;null===Ea&&za&&ka.typeIdField&&(Ea=za.hasField(ka.typeIdField)?za.field(ka.typeIdField):null);null!==Ea&&void 0!==Ea&&ka.types):!1});U||J||(J=ea(Q,ka));return{field:Ka,domain:J}}function ea(Q,ka){var za;ka.fields.some(function(Ea){Ea.name.toLowerCase()===Q.toLowerCase()&&(za=Ea.domain);return!!za});return za}function va(Q,ka){ka||(ka={});"function"===typeof ka&&(ka={cmp:ka});var za="boolean"===typeof ka.cycles?ka.cycles:!1,Ea=ka.cmp&&function(Qa){return function(Pa){return function(J,U){return Qa({key:J,value:Pa[J]},{key:U,value:Pa[U]})}}}(ka.cmp),
Ka=[];return function J(Pa){Pa&&Pa.toJson&&"function"===typeof Pa.toJson&&(Pa=Pa.toJson());if(void 0!==Pa){if("number"===typeof Pa)return isFinite(Pa)?""+Pa:"null";if("object"!==typeof Pa)return JSON.stringify(Pa);var U;if(Array.isArray(Pa)){var ia="[";for(U=0;U<Pa.length;U++)U&&(ia+=","),ia+=J(Pa[U])||"null";return ia+"]"}if(null===Pa)return"null";if(Ka.includes(Pa)){if(za)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var K=Ka.push(Pa)-1,T=Object.keys(Pa).sort(Ea&&
Ea(Pa));ia="";for(U=0;U<T.length;U++){var fa=T[U],ra=J(Pa[fa]);ra&&(ia&&(ia+=","),ia+=JSON.stringify(fa)+":"+ra)}Ka.splice(K,1);return"{"+ia+"}"}}(Q)}function M(Q,ka){if(ka instanceof m)Q.push([ka.x,ka.y]);else throw new D.ArcadeExecutionError(null,D.ExecutionErrorCodes.InvalidParameter,null);}function S(Q,ka){void 0===ka&&(ka=null);if(null!=Q){if(F(Q)||I(Q)||A(Q))return Q;if(Q instanceof k)return!0===(null===ka||void 0===ka?void 0:ka.keepGeometryType)?Q:Q.toJson();if(Q instanceof n)return Q.toArray().map(function(za){return S(za,
ka)});if(Q instanceof Array)return ,ka)});if(ha(Q))return Q;if(W(Q))return Q.toJSDate();if(null!==Q&&"object"===typeof Q&&void 0!==Q.castAsJson)return Q.castAsJson(ka)}return null}function ma(Q,ka,za,Ea,Ka){return c(this,void 0,void 0,function(){var Qa;return r(this,function(Pa){switch(Pa.label){case 0:return[4,ua(Q,ka,za)];case 1:return Qa=Pa.sent(),Ka[Ea]=Qa,[2]}})})}function ua(Q,ka,za){void 0===ka&&(ka=null);void 0===za&&(za=null);return c(this,void 0,void 0,function(){var Ea,
Ka,Qa,Pa,J;return r(this,function(U){switch(U.label){case 0:return Q instanceof n&&(Q=Q.toArray()),null!=Q?[3,1]:[2,null];case 1:return v(Q)||Q instanceof k||ha(Q)||W(Q)?[2,S(Q,za)]:[3,2];case 2:if(!(Q instanceof Array))return[3,5];Ea=[];Ka=[];Qa=0;for(Pa=Q;Qa<Pa.length;Qa++)J=Pa[Qa],null===J||v(J)||J instanceof k||ha(J)||W(J)?Ka.push(S(J,za)):(Ka.push(null),Ea.push(ma(J,ka,za,Ka.length-1,Ka)));return 0<Ea.length?[4,Promise.all(Ea)]:[3,4];case 3:U.sent(),U.label=4;case 4:return[2,Ka];case 5:if(null!==
Q&&"object"===typeof Q&&void 0!==Q.castAsJsonAsync)return[2,Q.castAsJsonAsync(ka,za)];U.label=6;case 6:return[2,null]}})})}Object.defineProperty(x,"__esModule",{value:!0});x.featureSchema=x.defaultTimeZone=x.featureDomainCodeLookup=x.featureDomainValueLookup=x.featureSubtypes=x.featureFullDomain=x.castAsJsonAsync=x.castAsJson=x.binaryOperator=x.tick=x.toStringArray=x.autoCastArrayOfPointsToMultiPoint=x.autoCastArrayOfPointsToPolyline=x.autoCastArrayOfPointsToPolygon=x.autoCastFeatureToGeometry=x.stableStringify=
x.getDomain=x.getDomainCode=x.getDomainValue=x.fixNullGeometry=x.fixSpatialReference=x.toBoolean=x.toDate=x.toNumber=x.toStringExplicit=x.toNumberArray=x.toString=x.equalityTest=x.greaterThanLessThan=x.standardiseDateFormat=x.formatDate=x.formatNumber=x.generateUUID=x.absRound=x.pcCheck=x.isJsDate=x.isObject=x.isDate=x.isImmutableArray=x.isFeatureSetCollection=x.isFeatureSet=x.isFeature=x.isArray=x.isInteger=x.isNumber=x.isBoolean=x.isString=x.getType=x.defaultUndefined=x.isSimpleType=x.isModule=
x.isFunctionParameter=x.multiReplace=x.continueResult=x.breakResult=x.voidOperation=x.ReturnResult=x.ImplicitResult=x.ImplicitResultE=x.ReturnResultE=void 0;G=function(){return function(Q){this.value=Q}}();x.ReturnResulte=Q}}();x.ImplicitResultE=h;x.ImplicitResult=h;x.ReturnResult=G;x.voidOperation={type:"VOID"};x.breakResult={type:"BREAK"};x.continueResult={type:"CONTINUE"};x.multiReplace=B;x.isFunctionParameter=u;x.isModule=E;x.isSimpleType=v;x.defaultUndefka:Q};x.getType=function(Q){return null==Q?"":N(Q)||xa(Q)?"Array":W(Q)?"Date":A(Q)?"String":F(Q)?"Boolean":I(Q)?"Number":"esri.arcade.Attachment"===(null===Q||void 0===Q?void 0:Q.declaredClass)?"Attachment":"esri.arcade.Portal"===(null===Q||void 0===Q?void 0:Q.declaredClass)?"Portal":"esri.arcade.Dictionary"===(null===Q||void 0===Q?void 0:Q.declaredClass)?"Dictionary":Q instanceof y.ArcadeModule?"Module":da(Q)?"Feature":Q instanceof m?"Point":Q instanceof e?"Polygon":
Q instanceof b?"Polyline":Q instanceof l?"Multipoint":Q instanceof d?"Extent":u(Q)?"Function":ba(Q)?"FeatureSet":na(Q)?"FeatureSetCollection":Q===x.voidOperation?"":"number"===typeof Q&&isNaN(Q)?"Number":"Unrecognised Type"};x.isString=A;x.isBoolean=F;x.isNumber=I;x.isIn===Q};x.isArray=N;x.isFeature=da;x.isFeatureSet=ba;x.isFeatureSetCollection=na;x.isImmutableArray=xa;x.isDate=W;x.isObject=la;x.isJsDate=ha;x.pcCheck=function(Q,
ka,za,Ea,Ka){if(Q.length<ka||Q.length>za)throw new D.ArcadeExecutionError(Ea,D.ExecutionErrorCodes.WrongNumberOfParameters,Ka);};x.absRound=function(Q){return 0>Q?-Math.round(-Q):Math.round(Q)};x.generateUUID=function(){var Q=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[(16)})};x.formatNumber=sa;x.formatDate=Ca;x.standardiseDateFormat=oa;x.greaterThanLessThan=function(Q,ka,
za){if(null===Q){if(null===ka||ka===x.voidOperation)return qa(null,null,za);if(I(ka))return qa(0,ka,za);if(A(ka)||F(ka))return qa(0,X(ka),za);if(W(ka))return qa(0,ka.toNumber(),za)}if(Q===x.voidOperation){if(null===ka||ka===x.voidOperation)return qa(null,null,za);if(I(ka))return qa(0,ka,za);if(A(ka)||F(ka))return qa(0,X(ka),za);if(W(ka))return qa(0,ka.toNumber(),za)}else if(I(Q)){if(I(ka))return qa(Q,ka,za);if(F(ka))return qa(Q,X(ka),za);if(null===ka||ka===x.voidOperation)return qa(Q,0,za);if(A(ka))return qa(Q,
X(ka),za);if(W(ka))return qa(Q,ka.toNumber(),za)}else if(A(Q)){if(A(ka))return qa(Y(Q),Y(ka),za);if(W(ka))return qa(X(Q),ka.toNumber(),za);if(I(ka))return qa(X(Q),ka,za);if(null===ka||ka===x.voidOperation)return qa(X(Q),0,za);if(F(ka))return qa(X(Q),X(ka),za)}else if(W(Q)){if(W(ka))return qa(Q.toNumber(),ka.toNumber(),za);if(null===ka||ka===x.voidOperation)return qa(Q.toNumber(),0,za);if(I(ka))return qa(Q.toNumber(),ka,za);if(F(ka)||A(ka))return qa(Q.toNumber(),X(ka),za)}else if(F(Q)){if(F(ka))return qa(Q,
ka,za);if(I(ka))return qa(X(Q),X(ka),za);if(W(ka))return qa(X(Q),ka.toNumber(),za);if(null===ka||ka===x.voidOperation)return qa(X(Q),0,za);if(A(ka))return qa(X(Q),X(ka),za)}return!L(Q,ka)||"\x3c\x3d"!==za&&"\x3e\x3d"!==za?!1:!0};x.equalityTest=L;x.toString=Y;x.toNumberArray=function(Q){var ka=[];if(!N(Q))return null;if(Q instanceof n){for(var za=0;za<Q.length();za++)ka[za]=X(Q.get(za));return ka}for(za=0;za<Q.length;za++)ka[za]=X(Q[za]);return ka};x.toStringExplicit=ca;x.toNumber=X;x.toDate=function(Q,
ka){if(W(Q))return Q;if(A(Q)){a:{var za=/ (\d\d)/,Ea=a.createDateTimeZone(ka);Ea=p.DateTime.fromISO(Q,{zone:Ea});if(Ea.isValid)ka=Ea;else{if(za.test(Q)&&(Q=Q.replace(za,"T$1"),Ea=p.DateTime.fromISO(Q,{zone:ka}),Ea.isValid)){ka=Ea;break a}ka=null}}if(ka)return a.ArcadeDate.dateTimeToArcadeDate(ka)}return null};x.toBo0:!1};x.fixSpatialRefern Q};x.fixNullGeonull};x.getDomainValue=ja;x.getDomainCode=pa;x.getDomain=ta;x.stableStringify=va;x.autoCastFeatureToGeon ka};x.autoCastArrayOfPointsToPolygon=function(Q,ka){if(N(Q)||xa(Q)){var za=!1,Ea=!1,Ka=[];if(N(Q)){for(var Qa=
0;Qa<Q.length;Qa++){var Pa=Q[Qa];M(Ka,Pa)}0<Ka.length&&(ka=Q[0].spatialReference,za=Q[0].hasZ,Ea=Q[0].hasM)}else if(Q instanceof g)Ka=Q._elements,0<Ka.length&&(za=Q._hasZ,Ea=Q._hasM,ka=Q.get(0).spatialReference);else if(xa(Q)){Qa=0;for(var J=Q.toArray();Qa<J.length;Qa++)Pa=J[Qa],M(Ka,Pa);0<Ka.length&&(ka=Q.get(0).spatialReference,za=!0===Q.get(0).hasZ,Ea=!0===Q.get(0).hasM)}else throw new D.ArcadeExecutionError(null,D.ExecutionErrorCodes.InvalidParameter,null);if(0===Ka.length)return null;(new e({rings:[],
spatialReference:{wkid:4326}})).isClockwise(Ka)||(Ka=Ka.slice(0).reverse());return new e({rings:[Ka],spatialReference:ka,hasZ:za,hasM:Ea})}return Q};x.autoCastArrayOfPointsToPolrn Q};x.autoCastArrayOfPointsToMultirn Q};x.toString):[]};var wa=0;x.tick=function(Q){wa++;return 0===wa%100?(wa=0,new Pr},0)})):Q};x.binaryOpe>ka}};x.castAsJson=S;x.castAsJsonAsync=
ua;x.featureFullDomain=function(Q,ka,za){var Ea=Q.fullSchema();return null!==Ea&&Ea.fields?ta(ka,Ea,Q,za):null};x.featureSubtypes=function(Q){Q=Q.fullSchema();return null!==Q&&Q.fields?Q.typeIdField?{subtypeField:Q.typeIdField,subtypes:Q.types?Q.types.map(function(ka){return{name:ka.name,code:ka.id}}):[]}:null:null};x.featureDomainValueLookup=function(Q,ka,za,Ea){var Ka=Q.fullSchema();if(null===Ka||!Ka.fields)return null;Ea=ta(ka,Ka,Q,Ea);if(void 0===za)try{za=Q.field(ka)}catch(Qa){return null}return ja(Ea,
za)};x.featureDomainCodeLookup=function(Q,ka,za,Ea){var Ka=Q.fullSchema();if(null===Ka||!Ka.fields)return null;if(void 0===za){try{za=Q.field(ka)}catch(Qa){return null}return za}Q=ta(ka,Ka,Q,Ea);return pa(Q,za)};x.defaultTimeZone=function(Q){var ka,za;return(null===(ka=null===Q||void 0===Q?void 0:Q.timeReference)||void 0===ka?0:ka.timeZone)?null===(za=null===Q||void 0===Q?void 0:Q.timeReference)||void 0===za?void 0:za.timeZone:"system"};x.featureSchema=function(Q){Q=Q.fullSchema();if(null===Q||!Q.fields)return null;
for(var ka=[],za=0,Ea=Q.fields;za<Ea.length;za++)ka.push(C.esriFieldToJson(Ea[za]));return{objectIdField:Q.objectIdField,globalIdField:Q.globalIdField,geometryType:void 0===C.layerGeometryEsriRestConstants[Q.geometryType]?"":C.layerGeometryEsriRestConstants[Q.geometryType],fields:ka}}})},"esri/arcade/FunctionWrapper":function(){define("require exports ./polyfill/tsSupport/assign ./polyfill/tsSupport/spreadarray ./polyfill/tsSupport/extends ./polyfill/promiseUtils".split(" "),function(G,x,c,r,h,w){function q(g,
a,d){if(g instanceof n&&!(g instanceof f)){var k=new f;k.fn=g;k.parameterEvaluator=d;k.context=a;return k}return g}Object.defineProperty(x,"__esModule",{value:!0});x.ScopeMarshalledFunction=x.NativeFunction=x.wrapModuleScopedResponse=x.ArcadeFunction=void 0;(){}}();x.ArcadeFunction=n;x.wrapModuleScopedResponse=q;G=functirn k}h(a,g);a.prototype.createFunction=function(d){var k=this;return function(){for(var l=[],
m=0;m<arguments.length;m++)l[m]=arguments[m];return k.fn(d,{preparsed:!0,arguments:l})}};a.prototyped,k)};a.prototype.marshalledCall=function(d,k,l,m){var e=this;return m(d,k,function(b,p,t){t=t.map(function(z){return z instanceof n&&!(z instanceof f)?q(z,d,m):z});b=e.call(l,{args:t});return w.isPromiseLike(b)?bl,m)}):b})};return a}(n);x.NativeFunction=G;var f=functirn d}h(a,g);a.prototype.createFunext)};a.prototype.call=function(d,k){return this.fn.marshalledCall(d,k,this.context,this.parameterEvaluator)};a.prototype.marshalledCall=function(d,k,l){return this.fn.marshalledCall(d,k,this.context,this.parameterEvaluator)};return a}(n);x.ScopeMarshalledFunction=f})},"esri/arcade/polyfill/promiseUtils":function(){define(["require","exports","dojo/Deferred"],function(G(w)}Object.defineProperty(x,"__esModule",{value:!0});x.create=x.when=x.resolve=x.isPromiseLike=void 0;x.isPromisthen};x.resolve=r;x.when=h;x.create=function(w,q){var n=new clve)},n.reject);return n.promise}})},"esri/arcade/ImmutablePathArray":function(){define(["require","exports","./polyfill/tsSupport/extends",
"./ImmutableArray","./ImmutablePointArray"],function(G,x,c,r,h){rrn q}(r)})},"esri/arcade/ImmutablePointArray":function(){define(["require","exports","./polyfill/tsSupport/extends","./ImmutableArray","../geometry/Point"],function(G,x,c,r,h){rrn q}(r)})},"esri/geometry/Multip G})},"esri/geometry/Pol m})},"esri/geometry/Poly G})},"esri/arcade/featureset/support/shared":function(){define("require exports ../../polyfill/tsSupport/assign ../../polyfill/tsSupport/spreadarray ../../ArcadeDate ../../../geometry/Extent ../../../layers/Field".split(" "),
function(G,x,c,r,hte}Object.defineProperty(x,"__esModule",{value:!0});x.stableStringify=
x.extractServiceUrl=x.toEsriGeometryType=x.layerFieldEsriConstants=x.layerGeometryEsriRestConstants=x.layerGeometryEsriConstants=x.callback=x.errback=x.defaultMaxRecords=x.sameGeomType=x.convertLinearUnitsToCode=x.shapeExtent=x.convertSquareUnitsToCode=x.cloneAttributes=x.equalityTest=x.isArcadeDate=x.isDate=x.isArray=x.isNumber=x.isBoolean=x.isString=x.IdState=x.esriFieldToJson=x.cloneField=x.FeatureServiceDatabaseType=voted"})(x.FeatureServiceDatabaseType||(x.FeatureServiceDatabaseType={}));x.clone(a))};x.esriFieldToJsown"})(x.IdState||(x.IdState={}));x.isSring};x.isBoolean=function(a){return"boolean"===typeof a};x.isNumber=function(a){return"number"===typeof a};x.isrray};x.isDate=f;x.isArcadeDate=g;x.equalityTest=function(a,d){return a===d?!0:(f(a)||g(a))&&(f(d)||g(d))?a.getTime()===d.getTime():!1};x.cloneAttrirn d};x.convertSquareUnitsToCode=function(a){if(null==a)return null;if("number"===typeof a)return a;switch(a.toLowerCase()){case "meters":case "meter":return 109404;
case "miles":case "mile":return 109439;case "kilometers":case "kilometer":case "km":return 109414}return null};x.shapeExtent=function(a){if(null==a)return null;switch(a.type){case "polygon":case "multipoint":case "polyline":return a.getExtent();case "point":return new w({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference});case "extent":return a}return null};x.convertLinearUnitsToCode=function(a){if(null==a)return null;if("number"===typeof a||"number"===typeof a)return a;switch(a.toLowerCase()){case "meters":case "meter":return 9001;
case "miles":case "mile":return 9093;case "kilometers":case "kilometer":case "km":return 9036}return null};x.sameGeo0:!1};x.defaultMaxRecords=1E3;x.er(d)}};x.calk)}}};x.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",
esriGeometryEnvelope:"extent",envelope:"extent"};x.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};x.layerFieldEsriConstants=
{"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger","long":"esriFieldTypeLong",single:"esriFieldTypeSingle","double":"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",
esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};x.toEsriGeometrynt"}};x.extractServi)[0]};x.stableStringify=function(a,d){d||(d={});"function"===typeof d&&(d={cmp:d});var k=
"boolean"===typeof d.cycles?d.cycles:!1,l=d})}}}(d.cmp),m=[];return function p(b){b&&b.toJson&&"function"===typeof b.toJson&&(b=b.toJson());if(void 0!==b){if("number"===typeof b)return isFinite(b)?""+b:"null";if("object"!==typeof b)return JSON.stringify(b);var t;if(Array.isArray(b)){var z="[";for(t=0;t<b.length;t++)t&&(z+=","),z+=p(b[t])||"null";return z+"]"}if(null===b)return"null";if(m.includes(b)){if(k)return JSON.stringify("__cycle__");
throw new TypeError("Converting circular structure to JSON");}var C=m.push(b)-1,y=Object.keys(b).sort(l&&l(b));z="";for(t=0;t<y.length;t++){var D=y[t],B=p(b[D]);B&&(z&&(z+=","),z+=JSON.stringify(D)+":"+B)}m.splice(C,1);return"{"+z+"}"}}(a)}})},"esri/layers/F G})},"esri/layers/RangeDo G})},"esri/layers/Do G})},"esri/layers/CodedValueDo G})},"esri/arcade/ArcadeModule":function(){define(["require","exports"],function(G,x){Object.defineProperty(x,"__esModule",{value:!0});x.ArcadeModule=void 0;G=function(){return function(c){this.source=c}}();x.ArcadeModule=G})},"esri/geometry/ScreenP G})},"esri/geometry/ a})},"esri/geometry/scaleU a})},"esri/WKIDUnitConversion":function(){define(["dojo/has","./kernel"],function(G,x){var c,r={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,
5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,
3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,
3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,
3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,
4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,
5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,
6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,
6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,
6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,
6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,
7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,
7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,
8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,
8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,
9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,
23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,
31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,
102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,
103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,
103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,
103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(c=2E3;2045>=c;c++)r[c]=0;for(c=
2056;2065>=c;c++)r[c]=0;for(c=2067;2135>=c;c++)r[c]=0;for(c=2137;2154>=c;c++)r[c]=0;for(c=2161;2170>=c;c++)r[c]=0;for(c=2172;2193>=c;c++)r[c]=0;for(c=2195;2198>=c;c++)r[c]=0;for(c=2200;2203>=c;c++)r[c]=0;for(c=2205;2217>=c;c++)r[c]=0;for(c=2222;2224>=c;c++)r[c]=1;for(c=2225;2250>=c;c++)r[c]=2;for(c=2251;2253>=c;c++)r[c]=1;for(c=2257;2264>=c;c++)r[c]=2;for(c=2274;2279>=c;c++)r[c]=2;for(c=2280;2282>=c;c++)r[c]=1;for(c=2283;2289>=c;c++)r[c]=2;for(c=2290;2292>=c;c++)r[c]=0;for(c=2308;2313>=c;c++)r[c]=
0;for(c=2315;2491>=c;c++)r[c]=0;for(c=2494;2866>=c;c++)r[c]=0;for(c=2867;2869>=c;c++)r[c]=1;for(c=2870;2888>=c;c++)r[c]=2;for(c=2891;2895>=c;c++)r[c]=2;for(c=2896;2898>=c;c++)r[c]=1;for(c=2902;2908>=c;c++)r[c]=2;for(c=2915;2920>=c;c++)r[c]=2;for(c=2921;2923>=c;c++)r[c]=1;for(c=2924;2930>=c;c++)r[c]=2;for(c=2931;2962>=c;c++)r[c]=0;for(c=2964;2968>=c;c++)r[c]=2;for(c=2969;2973>=c;c++)r[c]=0;for(c=2975;2991>=c;c++)r[c]=0;for(c=2995;3051>=c;c++)r[c]=0;for(c=3054;3079>=c;c++)r[c]=0;for(c=3081;3088>=c;c++)r[c]=
0;for(c=3092;3101>=c;c++)r[c]=0;for(c=3106;3138>=c;c++)r[c]=0;for(c=3146;3151>=c;c++)r[c]=0;for(c=3153;3166>=c;c++)r[c]=0;for(c=3168;3172>=c;c++)r[c]=0;for(c=3174;3203>=c;c++)r[c]=0;for(c=3294;3358>=c;c++)r[c]=0;for(c=3367;3403>=c;c++)r[c]=0;for(c=3408;3416>=c;c++)r[c]=0;for(c=3417;3438>=c;c++)r[c]=2;for(c=3441;3446>=c;c++)r[c]=2;for(c=3447;3450>=c;c++)r[c]=0;for(c=3451;3459>=c;c++)r[c]=2;for(c=3460;3478>=c;c++)r[c]=0;for(c=3554;3559>=c;c++)r[c]=0;for(c=3560;3570>=c;c++)r[c]=2;for(c=3571;3581>=c;c++)r[c]=
0;for(c=3594;3597>=c;c++)r[c]=0;for(c=3601;3604>=c;c++)r[c]=0;for(c=3637;3639>=c;c++)r[c]=0;for(c=3665;3667>=c;c++)r[c]=0;for(c=3693;3695>=c;c++)r[c]=0;for(c=3701;3727>=c;c++)r[c]=0;for(c=3728;3739>=c;c++)r[c]=2;for(c=3740;3751>=c;c++)r[c]=0;for(c=3753;3760>=c;c++)r[c]=2;for(c=3761;3773>=c;c++)r[c]=0;for(c=3775;3777>=c;c++)r[c]=0;for(c=3779;3781>=c;c++)r[c]=0;for(c=3783;3785>=c;c++)r[c]=0;for(c=3788;3791>=c;c++)r[c]=0;for(c=3797;3802>=c;c++)r[c]=0;for(c=3814;3816>=c;c++)r[c]=0;for(c=3825;3829>=c;c++)r[c]=
0;for(c=3832;3841>=c;c++)r[c]=0;for(c=3844;3852>=c;c++)r[c]=0;for(c=3873;3885>=c;c++)r[c]=0;for(c=3890;3893>=c;c++)r[c]=0;for(c=3907;3912>=c;c++)r[c]=0;for(c=3942;3950>=c;c++)r[c]=0;for(c=3968;3970>=c;c++)r[c]=0;for(c=3973;3976>=c;c++)r[c]=0;for(c=3986;3989>=c;c++)r[c]=0;for(c=3994;3997>=c;c++)r[c]=0;for(c=4048;4051>=c;c++)r[c]=0;for(c=4056;4063>=c;c++)r[c]=0;for(c=4093;4096>=c;c++)r[c]=0;for(c=4390;4398>=c;c++)r[c]=0;for(c=4399;4413>=c;c++)r[c]=2;for(c=4418;4433>=c;c++)r[c]=2;for(c=4455;4457>=c;c++)r[c]=
2;for(c=4484;4489>=c;c++)r[c]=0;for(c=4491;4554>=c;c++)r[c]=0;for(c=4568;4589>=c;c++)r[c]=0;for(c=4652;4656>=c;c++)r[c]=0;for(c=4766;4800>=c;c++)r[c]=0;for(c=5014;5016>=c;c++)r[c]=0;for(c=5069;5072>=c;c++)r[c]=0;for(c=5105;5130>=c;c++)r[c]=0;for(c=5173;5188>=c;c++)r[c]=0;for(c=5253;5259>=c;c++)r[c]=0;for(c=5269;5275>=c;c++)r[c]=0;for(c=5292;5311>=c;c++)r[c]=0;for(c=5329;5331>=c;c++)r[c]=0;for(c=5343;5349>=c;c++)r[c]=0;for(c=5355;5357>=c;c++)r[c]=0;for(c=5387;5389>=c;c++)r[c]=0;for(c=5459;5463>=c;c++)r[c]=
0;for(c=5479;5482>=c;c++)r[c]=0;for(c=5518;5520>=c;c++)r[c]=0;for(c=5530;5539>=c;c++)r[c]=0;for(c=5550;5552>=c;c++)r[c]=0;for(c=5562;5583>=c;c++)r[c]=0;for(c=5623;5625>=c;c++)r[c]=2;for(c=5631;5639>=c;c++)r[c]=0;for(c=5649;5653>=c;c++)r[c]=0;for(c=5663;5680>=c;c++)r[c]=0;for(c=5682;5685>=c;c++)r[c]=0;for(c=5875;5877>=c;c++)r[c]=0;for(c=5896;5899>=c;c++)r[c]=0;for(c=5921;5940>=c;c++)r[c]=0;for(c=6050;6125>=c;c++)r[c]=0;for(c=6244;6275>=c;c++)r[c]=0;for(c=6328;6348>=c;c++)r[c]=0;for(c=6350;6356>=c;c++)r[c]=
0;for(c=6366;6372>=c;c++)r[c]=0;for(c=6381;6387>=c;c++)r[c]=0;for(c=6393;6404>=c;c++)r[c]=0;for(c=6480;6483>=c;c++)r[c]=0;for(c=6511;6514>=c;c++)r[c]=0;for(c=6579;6581>=c;c++)r[c]=0;for(c=6619;6624>=c;c++)r[c]=0;for(c=6625;6627>=c;c++)r[c]=2;for(c=6628;6632>=c;c++)r[c]=0;for(c=6634;6637>=c;c++)r[c]=0;for(c=6669;6692>=c;c++)r[c]=0;for(c=6707;6709>=c;c++)r[c]=0;for(c=6720;6723>=c;c++)r[c]=0;for(c=6732;6738>=c;c++)r[c]=0;for(c=6931;6933>=c;c++)r[c]=0;for(c=6956;6959>=c;c++)r[c]=0;for(c=7005;7007>=c;c++)r[c]=
0;for(c=7057;7070>=c;c++)r[c]=2;for(c=7074;7082>=c;c++)r[c]=0;for(c=7109;7118>=c;c++)r[c]=0;for(c=7119;7127>=c;c++)r[c]=1;for(c=7374;7376>=c;c++)r[c]=0;for(c=7528;7586>=c;c++)r[c]=0;for(c=7587;7645>=c;c++)r[c]=2;for(c=7692;7696>=c;c++)r[c]=0;for(c=7755;7787>=c;c++)r[c]=0;for(c=7791;7795>=c;c++)r[c]=0;for(c=7799;7801>=c;c++)r[c]=0;for(c=7803;7805>=c;c++)r[c]=0;for(c=7825;7831>=c;c++)r[c]=0;for(c=7845;7859>=c;c++)r[c]=0;for(c=8013;8032>=c;c++)r[c]=0;for(c=8065;8068>=c;c++)r[c]=1;for(c=8518;8529>=c;c++)r[c]=
2;for(c=8533;8536>=c;c++)r[c]=2;for(c=8538;8540>=c;c++)r[c]=2;for(c=8677;8679>=c;c++)r[c]=0;for(c=8836;8840>=c;c++)r[c]=0;for(c=8857;8859>=c;c++)r[c]=0;for(c=8908;8910>=c;c++)r[c]=0;for(c=9154;9159>=c;c++)r[c]=0;for(c=9205;9218>=c;c++)r[c]=0;for(c=9271;9273>=c;c++)r[c]=0;for(c=9295;9297>=c;c++)r[c]=0;for(c=9356;9360>=c;c++)r[c]=0;for(c=9404;9407>=c;c++)r[c]=0;for(c=9476;9482>=c;c++)r[c]=0;for(c=9487;9494>=c;c++)r[c]=0;for(c=9697;9699>=c;c++)r[c]=0;for(c=9821;9865>=c;c++)r[c]=0;for(c=20002;20032>=
c;c++)r[c]=0;for(c=20047;20049>=c;c++)r[c]=0;for(c=20062;20092>=c;c++)r[c]=0;for(c=20135;20138>=c;c++)r[c]=0;for(c=20248;20258>=c;c++)r[c]=0;for(c=20348;20358>=c;c++)r[c]=0;for(c=20436;20440>=c;c++)r[c]=0;for(c=20822;20824>=c;c++)r[c]=0;for(c=20904;20932>=c;c++)r[c]=0;for(c=20934;20936>=c;c++)r[c]=0;for(c=21004;21032>=c;c++)r[c]=0;for(c=21035;21037>=c;c++)r[c]=0;for(c=21095;21097>=c;c++)r[c]=0;for(c=21148;21150>=c;c++)r[c]=0;for(c=21207;21264>=c;c++)r[c]=0;for(c=21307;21364>=c;c++)r[c]=0;for(c=21413;21423>=
c;c++)r[c]=0;for(c=21453;21463>=c;c++)r[c]=0;for(c=21473;21483>=c;c++)r[c]=0;for(c=21780;21782>=c;c++)r[c]=0;for(c=21891;21894>=c;c++)r[c]=0;for(c=21896;21899>=c;c++)r[c]=0;for(c=22171;22177>=c;c++)r[c]=0;for(c=22181;22187>=c;c++)r[c]=0;for(c=22191;22197>=c;c++)r[c]=0;for(c=22207;22222>=c;c++)r[c]=0;for(c=22234;22236>=c;c++)r[c]=0;for(c=22243;22250>=c;c++)r[c]=0;for(c=22262;22265>=c;c++)r[c]=0;for(c=22307;22322>=c;c++)r[c]=0;for(c=22348;22357>=c;c++)r[c]=0;for(c=22407;22422>=c;c++)r[c]=0;for(c=22462;22465>=
c;c++)r[c]=0;for(c=22521;22525>=c;c++)r[c]=0;for(c=22607;22622>=c;c++)r[c]=0;for(c=22641;22646>=c;c++)r[c]=0;for(c=22648;22657>=c;c++)r[c]=0;for(c=22707;22722>=c;c++)r[c]=0;for(c=22762;22765>=c;c++)r[c]=0;for(c=22991;22994>=c;c++)r[c]=0;for(c=23028;23038>=c;c++)r[c]=0;for(c=23830;23853>=c;c++)r[c]=0;for(c=23866;23872>=c;c++)r[c]=0;for(c=23877;23884>=c;c++)r[c]=0;for(c=23886;23894>=c;c++)r[c]=0;for(c=23946;23948>=c;c++)r[c]=0;for(c=24311;24313>=c;c++)r[c]=0;for(c=24342;24347>=c;c++)r[c]=0;for(c=24370;24374>=
c;c++)r[c]=10;for(c=24375;24381>=c;c++)r[c]=0;for(c=24718;24721>=c;c++)r[c]=0;for(c=24817;24821>=c;c++)r[c]=0;for(c=24877;24882>=c;c++)r[c]=0;for(c=24891;24893>=c;c++)r[c]=0;for(c=25391;25395>=c;c++)r[c]=0;for(c=25828;25838>=c;c++)r[c]=0;for(c=26191;26195>=c;c++)r[c]=0;for(c=26391;26393>=c;c++)r[c]=0;for(c=26701;26722>=c;c++)r[c]=0;for(c=26729;26799>=c;c++)r[c]=2;for(c=26801;26803>=c;c++)r[c]=2;for(c=26811;26813>=c;c++)r[c]=2;for(c=26847;26870>=c;c++)r[c]=2;for(c=26891;26899>=c;c++)r[c]=0;for(c=26901;26923>=
c;c++)r[c]=0;for(c=26929;26946>=c;c++)r[c]=0;for(c=26948;26998>=c;c++)r[c]=0;for(c=27037;27040>=c;c++)r[c]=0;for(c=27205;27232>=c;c++)r[c]=0;for(c=27258;27260>=c;c++)r[c]=0;for(c=27391;27398>=c;c++)r[c]=0;for(c=27561;27564>=c;c++)r[c]=0;for(c=27571;27574>=c;c++)r[c]=0;for(c=27581;27584>=c;c++)r[c]=0;for(c=27591;27594>=c;c++)r[c]=0;for(c=28191;28193>=c;c++)r[c]=0;for(c=28348;28358>=c;c++)r[c]=0;for(c=28402;28432>=c;c++)r[c]=0;for(c=28462;28492>=c;c++)r[c]=0;for(c=29118;29122>=c;c++)r[c]=0;for(c=29168;29172>=
c;c++)r[c]=0;for(c=29177;29185>=c;c++)r[c]=0;for(c=29187;29195>=c;c++)r[c]=0;for(c=29900;29903>=c;c++)r[c]=0;for(c=30161;30179>=c;c++)r[c]=0;for(c=30491;30494>=c;c++)r[c]=0;for(c=30729;30732>=c;c++)r[c]=0;for(c=31251;31259>=c;c++)r[c]=0;for(c=31265;31268>=c;c++)r[c]=0;for(c=31275;31279>=c;c++)r[c]=0;for(c=31281;31297>=c;c++)r[c]=0;for(c=31461;31469>=c;c++)r[c]=0;for(c=31491;31495>=c;c++)r[c]=0;for(c=31917;31922>=c;c++)r[c]=0;for(c=31965;32E3>=c;c++)r[c]=0;for(c=32001;32003>=c;c++)r[c]=2;for(c=32005;32031>=
c;c++)r[c]=2;for(c=32033;32060>=c;c++)r[c]=2;for(c=32064;32067>=c;c++)r[c]=2;for(c=32074;32077>=c;c++)r[c]=2;for(c=32081;32086>=c;c++)r[c]=0;for(c=32107;32130>=c;c++)r[c]=0;for(c=32133;32159>=c;c++)r[c]=0;for(c=32164;32167>=c;c++)r[c]=2;for(c=32180;32199>=c;c++)r[c]=0;for(c=32201;32260>=c;c++)r[c]=0;for(c=32301;32360>=c;c++)r[c]=0;for(c=32601;32662>=c;c++)r[c]=0;for(c=32664;32667>=c;c++)r[c]=2;for(c=32701;32761>=c;c++)r[c]=0;for(c=53001;53004>=c;c++)r[c]=0;for(c=53008;53019>=c;c++)r[c]=0;for(c=53021;53032>=
c;c++)r[c]=0;for(c=53034;53037>=c;c++)r[c]=0;for(c=53042;53046>=c;c++)r[c]=0;for(c=53074;53080>=c;c++)r[c]=0;for(c=54001;54004>=c;c++)r[c]=0;for(c=54008;54019>=c;c++)r[c]=0;for(c=54021;54032>=c;c++)r[c]=0;for(c=54034;54037>=c;c++)r[c]=0;for(c=54042;54046>=c;c++)r[c]=0;for(c=54048;54053>=c;c++)r[c]=0;for(c=54074;54080>=c;c++)r[c]=0;for(c=54098;54101>=c;c++)r[c]=0;for(c=102001;102040>=c;c++)r[c]=0;for(c=102042;102063>=c;c++)r[c]=0;for(c=102065;102067>=c;c++)r[c]=0;for(c=102070;102117>=c;c++)r[c]=0;
for(c=102122;102216>=c;c++)r[c]=0;for(c=102221;102377>=c;c++)r[c]=0;for(c=102382;102388>=c;c++)r[c]=0;for(c=102389;102398>=c;c++)r[c]=2;for(c=102399;102444>=c;c++)r[c]=0;for(c=102445;102447>=c;c++)r[c]=2;for(c=102448;102458>=c;c++)r[c]=0;for(c=102459;102468>=c;c++)r[c]=2;for(c=102469;102499>=c;c++)r[c]=0;for(c=102500;102519>=c;c++)r[c]=1;for(c=102520;102524>=c;c++)r[c]=0;for(c=102525;102529>=c;c++)r[c]=2;for(c=102530;102588>=c;c++)r[c]=0;for(c=102590;102598>=c;c++)r[c]=0;for(c=102601;102603>=c;c++)r[c]=
0;for(c=102605;102628>=c;c++)r[c]=0;for(c=102629;102646>=c;c++)r[c]=2;for(c=102648;102700>=c;c++)r[c]=2;for(c=102701;102703>=c;c++)r[c]=0;for(c=102707;102730>=c;c++)r[c]=2;for(c=102733;102758>=c;c++)r[c]=2;for(c=102767;102900>=c;c++)r[c]=0;for(c=102901;102933>=c;c++)r[c]=2;for(c=102934;102950>=c;c++)r[c]=13;for(c=102951;102955>=c;c++)r[c]=0;for(c=102961;102963>=c;c++)r[c]=0;for(c=102965;102969>=c;c++)r[c]=0;for(c=102971;102973>=c;c++)r[c]=0;for(c=102975;102989>=c;c++)r[c]=0;for(c=102990;102992>=c;c++)r[c]=
1;for(c=102997;103002>=c;c++)r[c]=0;for(c=103003;103008>=c;c++)r[c]=2;for(c=103009;103011>=c;c++)r[c]=0;for(c=103012;103014>=c;c++)r[c]=2;for(c=103019;103021>=c;c++)r[c]=0;for(c=103022;103024>=c;c++)r[c]=2;for(c=103029;103031>=c;c++)r[c]=0;for(c=103032;103034>=c;c++)r[c]=2;for(c=103065;103068>=c;c++)r[c]=0;for(c=103074;103076>=c;c++)r[c]=0;for(c=103077;103079>=c;c++)r[c]=1;for(c=103080;103082>=c;c++)r[c]=0;for(c=103083;103085>=c;c++)r[c]=2;for(c=103090;103093>=c;c++)r[c]=0;for(c=103097;103099>=c;c++)r[c]=
0;for(c=103100;103102>=c;c++)r[c]=2;for(c=103107;103109>=c;c++)r[c]=0;for(c=103110;103112>=c;c++)r[c]=2;for(c=103113;103116>=c;c++)r[c]=0;for(c=103117;103120>=c;c++)r[c]=2;for(c=103153;103157>=c;c++)r[c]=0;for(c=103158;103162>=c;c++)r[c]=2;for(c=103163;103165>=c;c++)r[c]=0;for(c=103166;103168>=c;c++)r[c]=1;for(c=103169;103171>=c;c++)r[c]=2;for(c=103186;103188>=c;c++)r[c]=0;for(c=103189;103191>=c;c++)r[c]=2;for(c=103192;103195>=c;c++)r[c]=0;for(c=103196;103199>=c;c++)r[c]=2;for(c=103200;103224>=c;c++)r[c]=
0;for(c=103225;103227>=c;c++)r[c]=1;for(c=103232;103237>=c;c++)r[c]=0;for(c=103238;103243>=c;c++)r[c]=2;for(c=103244;103246>=c;c++)r[c]=0;for(c=103247;103249>=c;c++)r[c]=2;for(c=103254;103256>=c;c++)r[c]=0;for(c=103257;103259>=c;c++)r[c]=2;for(c=103264;103266>=c;c++)r[c]=0;for(c=103267;103269>=c;c++)r[c]=2;for(c=103300;103375>=c;c++)r[c]=0;for(c=103381;103383>=c;c++)r[c]=0;for(c=103384;103386>=c;c++)r[c]=1;for(c=103387;103389>=c;c++)r[c]=0;for(c=103390;103392>=c;c++)r[c]=2;for(c=103397;103399>=c;c++)r[c]=
0;for(c=103400;103471>=c;c++)r[c]=2;for(c=103476;103478>=c;c++)r[c]=0;for(c=103479;103481>=c;c++)r[c]=2;for(c=103486;103488>=c;c++)r[c]=0;for(c=103489;103491>=c;c++)r[c]=2;for(c=103492;103495>=c;c++)r[c]=0;for(c=103496;103499>=c;c++)r[c]=2;for(c=103528;103543>=c;c++)r[c]=0;for(c=103544;103548>=c;c++)r[c]=2;for(c=103549;103551>=c;c++)r[c]=0;for(c=103552;103554>=c;c++)r[c]=1;for(c=103555;103557>=c;c++)r[c]=2;for(c=103558;103560>=c;c++)r[c]=0;for(c=103571;103573>=c;c++)r[c]=0;for(c=103574;103576>=c;c++)r[c]=
2;for(c=103577;103580>=c;c++)r[c]=0;for(c=103581;103583>=c;c++)r[c]=2;for(c=103595;103694>=c;c++)r[c]=0;for(c=103696;103699>=c;c++)r[c]=0;for(c=103700;103793>=c;c++)r[c]=2;for(c=103794;103890>=c;c++)r[c]=0;for(c=103891;103896>=c;c++)r[c]=2;for(c=103900;103971>=c;c++)r[c]=2;for(c=103972;103977>=c;c++)r[c]=0;for(c=112E3;112101>=c;c++)r[c]=0;G("extend-esri")&&(x.WKIDUnitConversion=r);return r})},"esri/geometry/screenU d})},"esri/layers/GraphicsL x})},"dojox x})},"dojox/gfx/rend}}})},"esri/layers/gfxS G})},"esri/layers/l e})},"esri/request":function(){define("require dojo/_base/array dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/_base/url dojo/_base/xhr dojo/request/xhr ./core/request/script dojo/request/iframe dojo/dom-construct dojo/io-query ./kernel ./config ./sniff ./lang ./urlUtils ./deferredUtils ./support/requestUtils".split(" "),function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,boa}function D(W,la,ha,sa){var Ca=!1,oa=!1,qa=!1,L;if(e.isDefined(la))if(h.isObject(la)){Ca=
!!la.useProxy;oa=!!la.usePost;qa=!!la.returnProgress;var Y=la.crossOrigin}else Ca=!!la;W=h.mixin({},W);delete W._credential;W._ssl&&(W.url=W.url.replace(/^http:/i,"https:"));10>m("ie")&&!na.test(W.url)&&(W.url=encodeURI(W.url));var ca=W.content,V=W.url,X=ha&&W.form,ja=N;Y=e.isDefined(Y)?Y:ja.useCors;W||Oa};W.n Oa};W._token&&(W.content=W.content||{},W.content.token=W._token);var pa=0;if(ca&&V){var ta=d.objectToQuery(ca);pa=ta.length+V.length+1;m("esri-url-encodes-apostrophe")&&(pa=ta.replace(/'/g,"%27").length+V.length+1)}W.timeout=e.isDefined(W.timeout)?W.timeout:ja.timeout;W.handleAs=W.handleAs||"json";try{var ea=
Y&&b.canUseXhr(W.url)&&!/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(W.url),va=b.hasSameOrigin(W.url,window.location.href)||ea,M=oa||ha||pa>ja.postLength?!0:!1,S=va||-1===W.handleAs.indexOf("json")||!W.callbackParamName||ha?!1:!0,ma=b.getProxyRule(W.url)||ja.alwaysUseProxy||Ca||!("image"===W.handleAs&&!la.allowImageDataAccess||S&&!M||va)?!0:!1;ha&&!m("esri-file-upload")&&!ma&&ea&&(ma=!0);if(ma){var ua=b.getProxyUrl(V,Y);var wa=ua.path;ua._xo&&(ea=!0);!M&&wa.length+1+pa>ja.postLength&&(M=!0);
W.url=wa+"?"+V;if(M)W.content=h.mixin(ua.query||{},ca);else{var Q=d.objectToQuery(h.mixin(ua.query||{},ca));Q&&(W.url+="?"+Q);W.content=null}}if(!S||M||ma){var ka=W.headers;!ea||ka&&ka.hasOwnProperty("X-Requested-With")||(ka=W.headers=ka||{},ka["X-Requested-With"]=null);if(ha){var za=W.callbackParamName||"callback.html",Ea=W.callbackElementName||"textarea",Ka,Qa,Pa=X.elements?X.elements.length:0;if(ca=W.content)for(Ka in ca.token&&b.isSecureProxyService(V)&&(V+=(-1===V.indexOf("?")?"?":"\x26")+"token\x3d"+
ca.token,W.url=ma?wa+"?"+V:V,delete ca.token),ca){var J=ca[Ka];if(e.isDefined(J)){var U=null;for(Qa=0;Qa<Pa;Qa++){var ia=X.elements[Qa];if(ia.name===Ka){U=ia;break}}U?U.value=J:sa?X.append(Ka,J):X.appendChild(a.create("input",{type:"hidden",name:Ka,value:J}))}}if(m("esri-file-upload")){x.forEach(X.ele(Oa)});var K=sa?X:new FormData(X);if(11<=m("safari")&&"entries"in K&&"delete"in K){sa=[];for(var T=K.entries(),fa=T.next();!fa.done;){var ra=fa.value;ra[1]instanceof
File&&""===ra[1].name&&sa.push(ra[0]);fa=T.next()}sa.forEach(function(Oa){K.delete(Oa)})}W.contentType=!1;W.postData=K;delete W.form}else{X.enctype="multipart/form-data";9>m("ie")&&(X.encoding="multipart/form-data");X.method="post";x.some(X.elements,function(Oa){return Oa.name===za})||X.appendChild(a.create("input",{type:"hidden",name:za,value:Ea}));if(-1!==V.toLowerCase().indexOf("addattachment")||-1!==V.toLowerCase().indexOf("updateattachment"))V+=(-1===V.indexOf("?")?"?":"\x26")+za+"\x3d"+Ea,W.url=
ma?wa+"?"+V:V;delete W.content}}if(ea&&!W.hasOwnProperty("withCredentials")&&"with-credentials"===N.useCors){wa=ma?wa:V;var Ba=b.canUseXhr(wa,!0),Ma=-1<Ba?N.corsEnabledServers[Ba]:null;if(Ma&&Ma.hasOwnProperty("withCredentials"))Ma.withCredentials&&(W.withCredentials=!0);else if(k.id){var Ha=k.id.findServerInfo(wa);Ha&&Ha.webTierAuth&&(W.withCredentials=!0)}}W=I?I(W):W;var Ua=function(){if("image"===W.handleAs)return y(W,la);if(M){if(ha&&!m("esri-file-upload")){L=new r(function(){Oa.cancel()});var Oa=
g.post(W.url,W).then(function($a){L.resolve($a)}).otherwise(function($a){L.reject($a)});L.addCallback(function($a){return W.load($a)});L.addErrback(function($a){return W.error($a)});return L}!ma&&m("safari")&&(W.url+=(-1===W.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+(new Date).getTime()+ba++);if(qa){W.uploadProgress=!0;W.data=W.postData;W.query=W.content;L=new r(function(){Xa.cancel()});var Xa=n.post(W.url,W).then(function($a){L.resolve($a)},function($a){L.rejectal})});L.addCallback(function($a){return W.load($a)});L.addErrback(function($a){return W.error($a)});return L}return q.post(W)}return q.get(W)};return W.withCredentials&&t.isNoCorsRequestRequired(V)?L=t.sendNoCorsRequest(V,ca).adn Oa}):Ua()}W=I?I(W):W;W.jsonp=W.callbackParamName;W.query=W.content;L=new r(function(){Ta.cancel()});var Ta=f.get(W.url,W).then(function(Oa){L.resolve(Oa)}).otherwise(function(Oa){L.reject(Oa)});
L.addCallback(function(Oa){return W.load(Oa)});L.addErrback(function(Oa){return W.error(Oa)});return L}catch(Oa){return L=new r,L.errback(W.error(OaI=W}function v(W,la,hM)})}
var oa=ha.form,qa=sa.disableIdentityLookup,L=sa._preLookup,Y=!1;if(m("esri-workers")&&!1!==N.useWorkers)if(!0===sa.useWorkers||!0===N.useWorkers)Y=!0;else if(sa.workerOptions){var ca=sa.workerOptions;if(ca.callback||ca.worker&&ca.worker.worker instanceof Worker)Y=!0}var V=oa&&m("esri-file-upload")&&oa instanceof FormData,X=oa&&(oa.elements?x.some(oa.elements,function(ea){return"file"===ea.type}):V),ja=-1!==ha.url.toLowerCase().indexOf("token\x3d")||ha.content&&ha.content.token||X&&x.some(oa.elements,
function(ea){return"token"===ea.name})?1:0;if(!la){W.addCallback(function(ea){if(ea&&(/\/sharing\/rest\/accounts\/self/i.test(ha.url)||/\/sharing\/rest\/portals\/self/i.test(ha.url))){if(!ja&&!ha._token&&ea.user&&ea.user.username){N.webTierAuthServers.push(z(ha.url));var va=N.corsEnabledServers,M=b.canUseXhr(ha.url,!0),S={host:z(ha.url),withCredentials:!0};if(-1===M)va.push(S);else{var ma=va[M];ma instanceof RegExp?(S.host=ma,va.splice(M,1,S)):"object"===typeof ma?ma.withCredentials=!0:va.splice(M,
1,S)}}Array.isArray(ea.authorizedCrossOriginNoCorsDomains)&&t.registerNoCorsDomains(ea.authorizedCrossOriginNoCorsDomains)}if(ea=ha._credential)if(va=(va=k.id.findServerInfo(ea.server))&&va.owningSystemUrl)va=va.replace(/\/?$/,"/sharing"),(ea=k.id.findCredential(va,ea.userId))&&-1===k.id._getIdenticalSvcIdx(va,ea)&&ea.resources.splice(0,0,va)});W.adssl)});var pa=ha.load,ta=ha.error;pa&&W.addCallback(function(ea){var va=
W._pendingDfd;va=va&&va.ioArgs;return pa.call(va&&va.args,ea,va)});ta&&W.addEr,va)})}!k.id||ja||ha._token||k.id._isPublic(ha.url)||qa&&!L||!(la=k.id.findCredential(ha.url))||(ha._token=la.token,ha._ssl=la.ssl);Y?sa.workerOptions&&sa.workerOptions.worker?(F||(F=q),q=sa.workerOptions.worker,Ca(W)):G(["./workers/RequestClia(W)}):(F&&(q=F,F=null),Ca(W));retn ha}var F=null,I,N=l.defaults.io,da=["COM_0056","COM_0057","SB_0008"],ba=0,na=/%[0-9A-F]{2}mise}();A._makeRequest=D;A._processRequest=v;A._disableCors=B;A._detectCors=u;A.setRequestPreCallback=
E;m("extend-esri")&&(k.request=A,k._makeRequest=D,k._processRequest=v,k._disableCors=B,k._detectCors=u,k.setRequestPreCallback=E);return A})},"esri/core/request/sce}})},"esri/core/s G})},"dojo/request/if b})},"dojo/NodeList-manipu n})},"esri/support/requestUtils":function(){define(["dojo/_base/Deferred","dojo/_base/url","../config","../urlUtils"],function(G,x,c,r){function h(q){q=new x(q);return q.scheme+"://"+q.authority}var w=c.defaults.io;return{registerNoCorsDomains:function(q){w.crossOriginNoCorsDomains||
(w.crossOriginNoCorsDomains={});for(var n=w.crossOriginNoCorsDomains,f=0;f<q.length;f++){var g=q[f];g=g.toLowerCase();/^https?:\/\//.test(g)?n[h(g)]=0:(n[h("http://"+g)]=0,n[h("https://"+g)]=0)}},isNoCorsRequestRequired:function(q){var n=w.crossOriginNoCorsDomains;return n?(q=h(q),q=q.toLowerCase(),!r.hasSameOrigin(q,window.location.origin)&&n[q]<Date.now()-36E5):!1},sendNoCorsRequest:function(q,n){var f=new G,g=w.crossOriginNoCorsDomains;g&&(g[h(q).toLowerCase()]=Date.now());g=r.urlToObject(q);q=
g.path;if(g.query&&"json"===g.query.f||n&&"json"===n.f)q+="?f\x3djson";fetch(q,{mode:"no-cors",credentials:"include"}).then(f.resolve,f.resolve);return f}}})},"esri/layers/support/webglU q})},"esri/layers/support/WebGLSur G})},"esri/domU w})},"esri/symbols/MarkerSy G})},"esri/symbols/Sy G})},"esri/symbols/SimpleMarkerSy G})},"esri/symbols/SimpleLineSy G})},"esri/symbols/LineSy G})},"esri/symbols/u r})},"esri/layers/Tile G})},"esri/layers G})},"esri/layers/ArcGISTiledMapServiceL x})},
"esri/layers/TiledMapServiceL G})},"dojox/collections/Arrayst})},"dojox/collections/_ G})},"esri/layers/ArcGISMapServiceL G})},"esri/layers/Layer G})},"esri/layers/Time G})},"esri/TimeEx h})},"esri/layers/TimeRefer G})},"esri/layers/LayerTimeOpt G})},"esri/layers/Til})})},"esri/layers/MapImageL l})},"esri/layers/OpenStreetMapL G})},"esri/dijit/P G})},"esri/geometry/normalizeU B})},"esri/geometry/jsonU k})},"esri/InfoWindow G})},"esri/Popup G})},"esri/gra G})},"esri/InfoTemp G})},"esri/symbols/jsonU d})},"esri/symbols/PictureMarkerSy G})},"esri/symbols/CartographicLineSy G})},"esri/symbols/SimpleFillSy G})},"esri/symbols/FillSy G})},"esri/symbols/PictureFillSy G})},"esri/symbols/TextSy G})},"esri/symbols/ G})},"esri/tasks/query":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/jsonUtils ./SpatialRelationship dojo/has!extend-esri?./QueryTask dojo/has!extend-esri?./RelationshipQuery dojo/has!extend-esri?./StatisticDefinition".split(" "),function(G,x,c,r,h,w,q,n){var f=G(null,{declaredClass:"esri.tasks.Query",constrECTS},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,
objectIds:null,returnGeometry:!1,returnCentroid:null,returnDistinctValues:!1,returnExceededLimitFeatures:null,maxRecordCountFactor:null,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,pixelSize:null,fullText:null,distance:null,units:null,resultOffset:null,resultRecordCount:null,resultType:null,cacheHint:null,sqlFormat:null,quantizationParameters:null,_units:{meters:"esriSRUnit_Meter",kilometers:"esriSRUnit_Kilometer",feet:"esriSRUnit_Foot",
miles:"esriSRUnit_StatuteMile","nautical-miles":"esriSRUnit_NauticalMile","us-nautical-miles":"esriSRUnit_USNauticalMile"},toJson:function(g){var a={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision,sqlFormat:this.sqlFormat},d=g&&g.geometry||this.geometry,k=this.objectIds,l=this.outFields,m=this.outSpatialReference,e=this.groupByFieldsForStatistics,b=this.orderByFields,
p=this.outStatistics;g=this.distance;d&&(a.geometry=d,a.geometryType=q.getJsonType(d),a.inSR=d.spatialReference.wkid||r.toJson(d.spatialReference.toJson()));k&&(a.objectIds=k.join(","));l&&(a.outFields=l.join(","));null!=this.returnCentroid&&(a.returnCentroid=this.returnCentroid);this.returnDistinctValues&&(a.returnDistinctValues=!0);null!=this.returnExceededLimitFeatures&&(a.returnExceededLimitFeatures=this.returnExceededLimitFeatures);null!=this.maxRecordCountFactor&&(a.maxRecordCountFactor=this.maxRecordCountFactor);
e&&(a.groupByFieldsForStatistics=e.join(","));b&&(a.orderByFields=b.join(","));if(p){var t=[];c.forEn())});a.outStatistics=r.toJson(t)}m?a.outSR=m.wkid||r.toJson(m.toJson()):d&&(a.outSR=d.spatialReference.wkid||r.toJson(d.spatialReference.toJson()));d=this.timeExtent;a.time=d?d.toJson().join(","):null;(d=this.relationParam)&&this.spatialRelationship===f.SPATIAL_REL_RELATION&&(a.relationParam=d);g&&(a.distance=this.distance,this.hasOwnProperty("units")?a.units=this._units[this.units]||
this._units.meters:(console.warn("esri/tasks/query::no distance unit provided, defaulting to meters"),a.units=this._units.meters));this.hasOwnProperty("start")&&(a.resultOffset=this.start,a.resultRecordCount=10,""===a.where&&(a.where="1\x3d1"));this.hasOwnProperty("num")&&(a.resultRecordCount=this.num);a.resultType=this.resultType;null!=this.cacheHint&&(a.cacheHint=this.cacheHint);a.fullText=this.fullText?r.toJson(this.fullText):null;a.pixelSize=this.pixelSize?r.toJson(this.pixelSize.toJson()):null;
a.multipatchOption=this.multipatchOption;this.quantizationParameters&&(a.quantizationParameters=r.toJson(this.quantizationParameters));a._ts=this._ts;return a}});x.mixin(f,n);h("extend-esri")&&x.setObject("tasks.Query",f,w);return f})},"esri/tasks/SpatialRelation r})},"esri/plugins/popupMan}}})},"esri/PopupMan n})},"esri/layerU w})},"esri/MapNavigationMan G})},"esri/MouseEv G})},"esri/TouchEv G})},"esri/PointerEv G})},"esri/geomb}})},"esri/u c})},"esri/geometry/geodesicU h})},"esri/syk}})},"esri/rendg}})},"esri/renderers/Renderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojox/gfx/_base ../kernel ../Color ../layers/support/attributeUtils ../support/expressionUtils ../arcadeProfiles/visualizationProfile".split(" "),function(G,x,c,r,h,w,q,n,f,g){var a=Math.PI;
G=G(null,{declaredClass:"esri.renderer.Renderer",constrbol)},getSymbol:function(d){},_readSizrn d},_readColorn d},_readOpacitrn k},_readVarirn d},setAuthoringInfo:function(d){this.authoringInfo=d},setRotatiothis},rotationRE:/^\[([^\]]+)\]$/i,_processRotatioe(d)},getRotationrn b},_getRotatioype)},_getDataf,e)},setVisualVarithis},getVisualVariableVrn l},getFieldsUsedInExpressions:function(d){var k=[];c.forEach(this._getCacheObjects(),function(l){l.syntaxTree&&(k=k.concat(f.extractFieldNames(l.syntaxTree,d)))});k.sort();return c.filter(k,function(l,m){return 0===m||k[m-1]!==l})},hasGeometryOpera!1})},initializeArcadeEe(d)},hasVisualVari,k))},getVisualVariablesForn m},setSizthis},_processSizze)}},_convertExpressionToAle")},_getVay:l}},setProportionalSymbolInfo:function(d){this.setSizeInfo(d);return this},gern e},_ge?0:p},getSizeRangeAtrn p},setColorInfo:function(d){this.colorInfo=d;this._cache.colorInfo=this._processColorInfo(d);return this},_creatern k},_getCacheObrn l},_processColoe(d)},getey])},setOpacitthis},_processOpacite(d)},getOp,!0)},_getColorCompe||z},_isValidN!==d},_interpolatrn e},_getOprn m},_getOpacValue:function(d,k){return d.opacityValues?d.opacityValues[k]:d.stops[k].opacity},_getrn m},_getCololor},_lookurn e},_meterIn:{inches:1/.0254,feet:1/.3048,yards:1/.9144,miles:1/1609.344,"nautical-miles":1/1852,millimeters:1E3,centimeters:100,decimeters:10,meters:1,kilometers:.001,"decimal-degrees":180/20015077},
_writeSizrn d},
_writeColorn d},_writeOpacitrn k},to:l}}});r("extend-esri")&&x.setObject("renderer.Renderer",G,w);return G})},"esri/layers/support/attributeU q})},"dojox/encoding/digests/_ G})},"dojox/encoding/digests/MD5":function(){define(["./_base"],function(G){function x(q,n,f,g,a,d){var k=G.addWords;q=G.addWords(G.addWords(n,q),G.addWords(g,
d));return k.call(G,q<<a|q>>>32]}(q)}};G.MD5.(q)}};return G.MD5})},"esri/support/expressionUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/has dojo/Deferred ../kernel ../arcade/arcade ../arcade/Feature ../arcade/languageUtils".split(" "),
function(G,x,c,r,h,w,q,n){function f(m){var e=new r;m.then(function(b){if(!e.isFulfilled())return n.isDate(b)&&(b=b.toJSDate()),e.resolve(b)},function(b){if(!e.isFulfilled())return e.reject(b)});return e.promise}function g(m){var e=new r;m.then(function(b){if(!e.isFulfilled())return e.resolve(b)},function(b){if(!e.isFulfilled())return e.reject(b)});return e.pr26")}var d={vars:{$feature:"any",$view:"any"}},k=/^\$(feature|aggregatedFeatures)\./i,
l={_getSyntam):m},createSyntarn e},createFunrn b},createExecCo.sr}},evalSyntarn b},executeFunction:function(m,e){try{var b=m?m(e):null}catch(p){b=null}return n.isDate(b)?b.toJSDate():b},executeAsyncFunction:function(m,e){try{var b=m?f(m(e)):(new r).reject(Error("expressionUtils.executeAsyncFunction: Invalid argument. compiledFunc is missing."))}catch(p){b=(new r).reject(p)}return b},extractFieldNames:function(m,e){m=l._getSyntaxTree(m);m=w.extractExpectedFieldLiterals(m);var b=[];x.forEa(t))});var p=x.fil"*")});b=x.filf(t)});e&&x.forEach(p,function(t){var z=new RegExp("^"+t.split(/\*+/).map(a).join(".*")+"$","i");x.forEh(C)})});b.sort();return x.filter(b,function(t,z){return 0===z||b[z-1]!==t})},dependsOew")},hasGeometryFunctions:function(m){return(m=l._getSyntaxTree(m))?w.scriptTouchesGeometry(m):
!1},hasGeometryOperations:function(m){return(m=l._getSyntaxTree(m))?w.scriptUsesGeometryEngine(m):!1},enableGeometryOperations:function(){return g(w.enableGeometrySupport())},hasVariable:function(m,e){return(m=l._getSyntaxTree(m))?w.referencesMember(m,e):!1},hasFun):!1},createFeatureSetFromLayer:function(m,e){e=e||{};var b=w.featureSetUtils();return b?b.constructFeatureSet(m,e.spatialReference,e.outFields,e.returnGeometry,e.cache):
null},createFeatureSetFromLaynull},createFeatureSetCollectionFrnull},createFeatureSetCollectionFromServinull},hasFeatureSetOpera):!1},enableFeatureSetOperations:function(){return g(w.enableFeatureSetSupport()he()}))},enableAsyncOperat())}};c("extend-esri")&&G.setObject("support.expressionUtils",l,h);return l})},"esri/arcade/arcade":function(){define("require exports ./polyfill/tsSupport/awaiter ./polyfill/tsSupport/generator ./arcadeCompiler ./ArcadeModuleResolver ./arcadeRuntime ./executionError ./parser ./treeAnalysis dojo/has ./polyfill/maybe".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d){function k(ha,sa){if(null===da)throw new n.ArcadeExecutionError(null,n.ExecutionErrorCodes.AsyncNotEnabled,null);if(a("esri-csp-restrictions")||!1===F)return function(Ca){return da.executeScript(ha,Ca)};try{return h.compileScript(ha,sa,!0)}catch(Ca){if("esri.arcade.arcadeuncompilableerror"===Ca.declaredRootClass)return function(oa){return da.executeScript(ha,oa)};throw,sa)}function m(ha,sa){if(!0===
sa.useAsync||!0===ha.isAsync){if(null===da)throw new n.ArcadeExecutionError(null,n.ExecutionErrorCodes.AsyncNotEnabled,null);return da.executeScript(ha,sa)}return q.executeScript(h,sa)}function b(ha,sa){void 0===sa&&(sa=[]);void 0===ha.usesGeometry&&g.findScriptDependencies(ha,sa);return!0===ha.usesGeometry}function p(){return na?na:na=t()}function t(){return c(this,void 0,void 0,function(){return r(this,function(ha){return[2,new Pra)})})]})})}function z(){return null!==xa?xa:xa=C()}function C(){return c(this,void 0,void 0,function(){var ha,sa,Ca;return r(this,function(oa){switch(oa.label){case 0:return[4,h.enableAsyncSupport()];case 1:return oa.sent(),[4,new Promise(function(qa,L){G(["./arcadeAsyncRuntime"],function(Y){qa(Y)},L)})];case 2:da=oa.sent();ha=0;for(sa=ba;ha<sa.length;ha++)Ca=sa[ha],
da.extend(Ca),h.extend(Ca,"async");ba=null;return[2,!0]0:!1}function D(){return W?W:W=B()}function B(){return c(this,void 0,void 0,function(){var ha;return r(this,function(sa){switch(sa.label){case 0:return[4,z()];case 1:return sa.sent(),[4,new Promise(function(Ca,oa){G(["./featureSetUtils","./functions/featuresetbase","./functions/featuresetgeom","./functions/featuresetstats","./functions/featuresetstring"],function(qa,L,Y,ca,V){Ca({featuresetutils:qa,libraries:[L,Y,
ca,V]})},oa)})];case 2:return ha=sa.sent(),la=ha.featuresetutils,da.extend(ha.libraries),h.extend(ha.libraries,"async"),I=!0,[2,!0]eSet}function E(ha,sa,Ca,oa,qa,L){void 0===oa&&(oa=[]);void 0===qa&&(qa=!1);void 0===L&&(L=null);return c(this,void 0,void 0,function(){var Y,ca;return r(this,function(V){switch(V.label){case 0:Y="string"===typeof sa?l(sa):sa;ca=[];if(Y&&(!1===
N&&(b(Y)||qa)&&ca.push(p()),!1===y()&&(!0===Y.isAsync||Ca)&&ca.push(z()),!1===I)){if(!(V=u(Y)))a:{V=Y;if(oa)for(var X=0,ja=oa;X<ja.length;X++)if(e(V,ja[X])){V=!0;break a}V=!1}V&&ca.push(D())}return ca.length?[4,Promise.all(ca)]:[3,2];case 1:V.sent(),V.label=2;case 2:return[4,v(ha,Y,L,Ca,qa)];case 3:return V.sent(),[2,!0]}})})}function v(ha,sa,Ca,oa,qa){void 0===Ca&&(Ca=null);void 0===oa&&(oa=!1);void 0===qa&&(qa=!1);return c(this,void 0,void 0,function(){var L,Y,ca,V,X,ja;return r(this,function(pa){switch(pa.label){case 0:L=
g.findModuleImports(sa),null===Ca&&0<L.length&&(Ca=w.ArcadeModuleResolver.getDefault()),sa.loadedModules={},Y=0,ca=L,pa.label=1;case 1:if(!(Y<ca.length))return[3,5];V=ca[Y];d.assertIsSome(Ca);X=Ca.normalizeModuleUri(V.source);if(ha.has(X.uri))throw new n.ArcadeExecutionError(null,n.ExecutionErrorCodes.CircularModules,null);ha.add(X.uri);return[4,Ca.fetchModule(X)];case 2:return ja=pa.sent(),[4,E(ha,ja,oa,[],qa,Ca)];case 3:pa.sent(),ha.delete(X.uri),ja.isAsync&&(sa.isAsync=!0),ja.usesFeatureSet&&(sa.usesFeatureSet=
!0),ja.usesGeometry&&(sa.usesGeometry=!0),sa.loadedModules[V.libname]={uri:X.uri,script:ja},pa.label=4;case 4:return Y++,[3,1];case 5:return[2]}})})}Object.defineProperty(x,"__esModule",{value:!0});x.featureSetUtils=x.scriptTouchesGeometry=x.loadDependentModules=x.scriptUsesModules=x._loadScriptDependenciesImpl=x.loadScriptDependencies=x.scriptIsAsync=x.scriptUsesFeatureSet=x.enableFeatureSetSupportImpl=x.enableFeatureSetSupport=x.isGeometryEnabled=x.isAsyncEnabled=x.isFeatureSetSupportEnabled=x.enableAsyncSupportImpl=
x.enableAsyncSupport=x.enableGeometrySupportImpl=x.enableGeometrySupport=x.scriptUsesGeometryEngine=x.extractExpectedFieldLiterals=x.extractFieldLiterals=x.referencesFunction=x.referencesMember=x.executeScript=x.parseAndExecuteScript=x.parseScript=x.extend=x.compileScript=void 0;var A="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split("n!1}}(),
I=!1,N=!1,da=null,ba=[];x.compileScript=function(ha,sa){if(!0===sa.useAsync||!0===ha.isAsync)return k(ha,sa);if(a("esri-csp-restrictions"))return function(Ca){return q.executeScript(ha,Ca)};try{return h.compileScript(ha,sa)}catch(Ca){if("esri.arcade.arcadeuncompilableerror"===Ca.declaredRootClass)return function(oa){return q.executeScript(ha,oa)};throw Ca;}};x.eha))};x.parseScript=l;x.parseAndExecuteSc,sa)};x.executeScript=m;x.referencesMember=e;x.referencesFun,sa)};x.extractFieldLiterals=function(ha,sa){void 0===sa&&(sa=!1);void 0===sa&&(sa=!1);return g.findFieldLiterals(ha)};x.extractExpectedFieldLiterals=function(ha){return g.findExpectedFieldLiterals(ha)};x.scriptUsesGeometryEngine=b;var na=null;x.enableGeometrySupport=p;x.enableGeometrySupportImpl=t;var xa=null;x.enableAsyncSupport=
z;x.enableAsyncSupportImpl=C;x.isFeatureSetSupportEnabled=function(){return I};x.isAsyncEnabled=y;x.isGeometryEnabled=function(){return N};var W=null;x.enableFeatureSetSupport=D;x.enableFeatureSetSupportImpl=B;x.scriptUsesFeatureSet=u;x.scriptIsAsync=function(ha,sa){void 0===sa&&(sa=[]);void 0===ha.isAsync&&g.findScriptDependencies(ha,sa);return!0===ha.isAsync};x.loadScriptDependencies=function(ha,sa,Ca,oa,qa){void 0===Ca&&(Ca=[]);void 0===oa&&(oa=!1);void 0===qa&&(qa=null);return c(this,void 0,void 0,
function(){return r(this,function(L){return[2,E(new Set,ha,sa,Ca,oa,qa)]})})};x._loadScriptDependenciesImpl=E;x.scriptUsesMoules};x.loadDependentModules=v;x.scriptTouchesGeometry=function(ha){if(b(ha))return!0;ha=g.findFunctionCalls(ha);for(var sa=!1,Ca=0;Ca<ha.length;Ca++)if(A.includes(ha[Ca])){sa=!0;break}return sa};var la=null;x.featureSetn la}})},"esri/arcade/arcadeCompiler":function(){define("require exports ./polyfill/tsSupport/awaiter ./polyfill/tsSupport/generator ./polyfill/tsSupport/assign ./polyfill/tsSupport/spreadarray ./polyfill/tsSupport/extends ./Dictionary ./Feature ./languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ./polyfill/promiseUtils ../geometry/Geometry ../SpatialReference ./ArcadeModuleLoader ./ArcadeModule ./FunctionWrapper ./executionError".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t,z,C,y,D,B,u){function E(M,S,ma){try{return ma(M,null,S.arguments)}catch(ua){throw ua;}}function v(M,S){try{switch(S.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return na(M,S);case "VariableDeclaration":for(var ma=[],ua=0;ua<S.declarations.length;ua++)ma.push(v(M,S.declarations[ua]));return ma.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":case "Program":return da(M,S);case "FunctionDeclaration":var wa=
S.id.name.toLowerCase();ba(wa);var Q="",ka=!1;void 0!==M.globalScope[wa]?Q=wa:void 0!==M.globalScope._SymbolsMap[wa]?Q=M.globalScope._SymbolsMap[wa]:M.undeclaredGlobalsInFunctions.has(wa)?(Q=M.undeclaredGlobalsInFunctions.get(wa).manglename,M.globalScope._SymbolsMap[wa]=Q,M.mangleMap[wa]=Q,M.undeclaredGlobalsInFunctions.delete(wa),ka=!0):(Q=la(M),M.globalScope._SymbolsMap[wa]=Q,M.mangleMap[wa]=Q);ma={isAsync:M.isAsync,console:M.console,exports:M.exports,undeclaredGlobalsInFunctions:M.undeclaredGlobalsInFunctions,
customfunctions:M.customfunctions,moduleFactory:M.moduleFactory,moduleFactoryMap:M.moduleFactoryMap,libraryResolver:M.libraryResolver,lrucache:M.lrucache,interceptor:M.interceptor,services:M.services,symbols:M.symbols,mangleMap:M.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:M.depthCounter,globalScope:M.globalScope};var za="new lang.UserDefinedCompiledFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(wa=0;wa<S.params.length;wa++){ua=S.params[wa].name.toLowerCase();ba(ua);var Ea=la(M);ma.localScope._SymbolsMap[ua]=Ea;ma.mangleMap[ua]=Ea;za+="lscope['"+Ea+"']\x3darguments["+wa.toString()+"];\n"}!0===M.isAsync?(za=za+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(da(ma,S.body)+"\n return lastStatement; "),za=za+"});  }, runtimeCtx),"+(S.params.length+")")):za+=da(ma,S.body)+"\n return lastStatement; }, runtimeCtx),"+S.params.length+")";za+="\n lastStatement \x3d lc.voidOperation; \n";
return ka?"gscope[lang.setAssig('"+Q+"', runtimeCtx)]\x3d"+za:"gscope['"+Q+"']\x3d"+za;case "ImportDeclaration":var Ka,Qa,Pa=S.specifiers[0].local.name.toLowerCase();ba(Pa);var J=null===(Ka=M.libraryResolver)||void 0===Ka?void 0:Ka.loadLibrary(Pa),U=la(M);void 0===M.moduleFactory[J.uri]&&(M.moduleFactory[J.uri]=Y(J.syntax,{interceptor:M.interceptor,services:M.services,moduleFactory:M.moduleFactory,lrucache:M.lrucache,timeReference:null!==(Qa=M.timeReference)&&void 0!==Qa?Qa:null,libraryResolver:M.libraryResolver,
customfunctions:M.customfunctions,vars:{}},M.isAsync));M.moduleFactoryMap[U]=J.uri;S="";S=M.isAsync?"(yield lang.loadModule('"+U+"', runtimeCtx) ); ":"lang.loadModule('"+U+"', runtimeCtx); ";if(void 0!==M.globalScope[Pa])var ia="gscope['"+Pa+"']\x3d"+S;else void 0!==M.globalScope._SymbolsMap[Pa]?ia="gscope['"+M.globalScope._SymbolsMap[Pa]+"']\x3d"+S:(ma="",M.undeclaredGlobalsInFunctions.has(Pa)?(ma=M.undeclaredGlobalsInFunctions.get(Pa).manglename,M.undeclaredGlobalsInFunctions.delete(Pa)):ma=la(M),
M.globalScope._SymbolsMap[Pa]=ma,M.mangleMap[Pa]=ma,ia="gscope[lang.setAssig('"+ma+"', runtimeCtx)]\x3d"+S);return ia;case "ExportNamedDeclaration":var K=v(M,S.declaration);if("FunctionDeclaration"===S.declaration.type)M.exports[S.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===S.declaration.type){ma=0;for(var T=S.declaration.declarations;ma<T.length;ma++)M.exports[T[ma].id.name.toLowerCase()]="variable"}return K;case "ReturnStatement":var fa=null===S.argument?"return lc.voidOperation":
"return "+v(M,S.argument);return fa;case "IfStatement":return N(M,S);case "ExpressionStatement":var ra="AssignmentExpression"===S.expression.type?"lastStatement \x3d lc.voidOperation; "+v(M,S.expression)+"; \n ":"lastStatement \x3d "+v(M,S.expression)+"; ";return ra;case "AssignmentExpression":return F(M,S);case "UpdateExpression":return A(M,S);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{ma=[];Ea=ua=0;for(ka=S.quasis;Ea<ka.length;Ea++)za=
ka[Ea],ma.push(za.value?JSON.stringify(za.value.cooked):JSON.stringify("")),!1===za.tail&&(ma.push(S.expressions[ua]?"lang.castString(lang.aCheck("+v(M,S.expressions[ua])+", 'TemplateLiteral'))":""),ua++);Q="(["+ma.join(",")+"]).join('')"}catch(qb){throw qb;}return Q;case "TemplateElement":return JSON.stringify(S.value?S.value.cooked:"");case "ForStatement":ma="lastStatement \x3d lc.voidOperation; \n";null!==S.init&&(ma+=v(M,S.init)+"; ");var Ba=ha(M),Ma=ha(M);ma+="var "+Ba+" \x3d true; \n do { ";
null!==S.update&&(ma+=" if ("+Ba+"\x3d\x3d\x3dfalse) {\n "+v(M,S.update)+"  \n}\n "+Ba+"\x3dfalse; \n");null!==S.test&&(ma+="var "+Ma+" \x3d "+v(M,S.test)+"; ",ma+="if ("+Ma+"\x3d\x3d\x3dfalse) { break; } else if ("+Ma+"!\x3d\x3dtrue) { lang.error('"+u.ExecutionErrorCodes.BooleanConditionRequired+"');   }\n");ma+=v(M,S.body);null!==S.update&&(ma+="\n "+v(M,S.update));return ma+("\n"+Ba+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ");case "ForInStatement":var Ha=ha(M),Ua=ha(M),
Ta=ha(M),Oa="var "+Ha+" \x3d "+v(M,S.right)+";\n";"VariableDeclaration"===S.left.type&&(Oa+=v(M,S.left));var Xa="VariableDeclaration"===S.left.type?S.left.declarations[0].id.name:S.left.name;Xa=Xa.toLowerCase();ba(Xa);ma="";null!==M.localScope&&(void 0!==M.localScope[Xa]?ma="lscope['"+Xa+"']":void 0!==M.localScope._SymbolsMap[Xa]&&(ma="lscope['"+M.localScope._SymbolsMap[Xa]+"']"));ua="";if(""===ma)if(void 0!==M.globalScope[Xa])ma="gscope['"+Xa+"']";else if(void 0!==M.globalScope._SymbolsMap[Xa])ma=
"gscope['"+M.globalScope._SymbolsMap[Xa]+"']";else if(null!==M.localScope)if(M.undeclaredGlobalsInFunctions.has(Xa))ma="gscope['"+M.undeclaredGlobalsInFunctions.get(Xa).manglename+"']",ua=M.undeclaredGlobalsInFunctions.get(Xa).manglename;else{var $a={manglename:la(M),node:S.left};M.undeclaredGlobalsInFunctions.set(Xa,$a);ma="gscope['"+$a.manglename+"']";ua=$a.manglename}ua&&(Oa+="lang.chkAssig('"+ua+"',runtimeCtx); \n");Oa=Oa+("if ("+Ha+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+
(Ha+") || lc.isString("+Ha+")) {var ")+(Ua+"\x3d"+Ha+".length; \nfor(var ")+(Ta+"\x3d0; "+Ta+"\x3c"+Ua+"; "+Ta+"++) {\n");Oa+=ma+"\x3d"+Ta+";\n";Oa+=v(M,S.body);Oa+="\n}\n";Oa+=" lastStatement \x3d lc.voidOperation; \n";Oa+=" \n}\n";Oa+="else if (lc.isImmutableArray("+Ha+")) {";Oa=Oa+("var "+Ua+"\x3d"+Ha+".length(); \nfor(var ")+(Ta+"\x3d0; "+Ta+"\x3c"+Ua+"; "+Ta+"++) {\n");Oa+=ma+"\x3d"+Ta+";\n";Oa+=v(M,S.body);Oa+="\n}\n";Oa+=" lastStatement \x3d lc.voidOperation; \n";Oa+=" \n}\n";Oa+="else if (( "+
Ha+" instanceof lang.Dictionary) || ( "+Ha+" instanceof lang.Feature)) {";Oa=Oa+("var "+Ua+"\x3d"+Ha+".keys(); \nfor(var ")+(Ta+"\x3d0; "+Ta+"\x3c"+Ua+".length; "+Ta+"++) {\n");Oa+=ma+"\x3d"+Ua+"["+Ta+"];\n";Oa+=v(M,S.body);Oa+="\n}\n";Oa+=" lastStatement \x3d lc.voidOperation; \n";Oa+=" \n}\n";M.isAsync&&(Oa+="else if (lc.isFeatureSet("+Ha+")) {",Oa=Oa+("var "+Ua+"\x3d"+Ha+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(Ta+"\x3dlang. graphicToFeature( yield "+Ua+".next(),"+Ha+", runtimeCtx); "+
Ta+"!\x3dnull; "+Ta+"\x3dlang. graphicToFeature( yield "+Ua+".next(),"+Ha+", runtimeCtx)) {\n")+(ma+"\x3d"+Ta+";\n"),Oa+=v(M,S.body),Oa+="\n}\n",Oa+=" lastStatement \x3d lc.voidOperation; \n",Oa+=" \n}\n");return Oa+"else { lastStatement \x3d lc.voidOperation; } \n";case "WhileStatement":ma="lastStatement \x3d lc.voidOperation; \n";var bb=ha(M);return ma+="\n  var "+bb+" \x3d true;\n    do {\n      "+bb+" \x3d "+v(M,S.test)+";\n      if ("+bb+"\x3d\x3dfalse) {\n        break;\n      }\n      if ("+
bb+"!\x3d\x3dtrue) {\n        lang.error('"+u.ExecutionErrorCodes.BooleanConditionRequired+"');\n      }\n      "+v(M,S.body)+"\n    }\n    while ("+bb+" !\x3d\x3d false);\n    lastStatement \x3d lc.voidOperation;\n  ";case "Identifier":return xa(M,S);case "MemberExpression":try{ma=void 0;!0===S.computed?ma=v(M,S.property):(ma="'"+S.property.name+"'",ba(S.property.name));var hb="lang.member("+v(M,S.object)+","+ma+")"}catch(qb){throw qb;}return hb;case "Literal":return null===S.value||void 0===S.value?
"null":JSON.stringify(S.value);case "CallExpression":return W(M,S);case "UnaryExpression":try{var gb="lang.unary("+v(M,S.argument)+",'"+S.operator+"')"}catch(qb){throw qb;}return gb;case "BinaryExpression":try{var mb="lang.binary("+v(M,S.left)+","+v(M,S.right)+",'"+S.operator+"')"}catch(qb){throw qb;}return mb;case "LogicalExpression":try{if("AssignmentExpression"===S.left.type||"UpdateExpression"===S.left.type)throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.LogicalExpressionOnlyBoolean,
S);if("AssignmentExpression"===S.right.type||"UpdateExpression"===S.right.type)throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.LogicalExpressionOnlyBoolean,S);if("\x26\x26"===S.operator||"||"===S.operator)var rb="(lang.logicalCheck("+v(M,S.left)+") "+S.operator+" lang.logicalCheck("+v(M,S.right)+"))";else throw new u.ArcadeCompilationError(null,u.ExecutionErrorCodes.LogicExpressionOrAnd,null);}catch(qb){throw qb;}return rb;case "ArrayExpression":try{ma=[];for(ua=0;ua<S.elements.length;ua++)"Literal"===
S.elements[ua].type?ma.push(v(M,S.elements[ua])):ma.push("lang.aCheck("+v(M,S.elements[ua])+",'ArrayExpression')");var ob="["+ma.join(",")+"]"}catch(qb){throw qb;}return ob;case "ObjectExpression":ma="lang.dictionary([";for(ua=0;ua<S.properties.length;ua++){var eb=S.properties[ua];ba(eb.key.name);var nb="Identifier"===eb.key.type?"'"+eb.key.name+"'":v(M,eb.key),Ab=v(M,eb.value);0<ua&&(ma+=",");ma+="lang.strCheck("+nb+",'ObjectExpression'),lang.aCheck("+Ab+", 'ObjectExpression')"}return ma+"])";case "Property":throw new u.ArcadeCompilationError(M,
u.ExecutionErrorCodes.NeverReach,S);case "Array":throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.NeverReach,S);default:throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.Unrecognised,S);}}catch(qb){throw qb;}}function A(M,S){var ma=null,ua="";if("MemberExpression"===S.argument.type)return ma=v(M,S.argument.object),!0===S.argument.computed?ua=v(M,S.argument.property):(ua="'"+S.argument.property.name+"'",ba(S.argument.property.name)),"lang.memberupdate("+ma+","+ua+",'"+S.operator+
"',"+S.prefix+")";ma=S.argument.name.toLowerCase();ba(ma);if(null!==M.localScope){if(void 0!==M.localScope[ma])return"lang.update(lscope, '"+ma+"','"+S.operator+"',"+S.prefix+")";if(void 0!==M.localScope._SymbolsMap[ma])return"lang.update(lscope, '"+M.localScope._SymbolsMap[ma]+"','"+S.operator+"',"+S.prefix+")"}if(void 0!==M.globalScope[ma])return"lang.update(gscope, '"+ma+"','"+S.operator+"',"+S.prefix+")";if(void 0!==M.globalScope._SymbolsMap[ma])return"lang.update(gscope, '"+M.globalScope._SymbolsMap[ma]+
"','"+S.operator+"',"+S.prefix+")";if(null!==M.localScope){if(M.undeclaredGlobalsInFunctions.has(ma))return"lang.update(gscope,lang.chkAssig( '"+M.undeclaredGlobalsInFunctions.get(ma).manglename+"',runtimeCtx),'"+S.operator+"',"+S.prefix+")";ua={manglename:la(M),node:S.argument};M.undeclaredGlobalsInFunctions.set(ma,ua);return"lang.update(gscope, lang.chkAssig('"+ua.manglename+"',runtimeCtx),'"+S.operator+"',"+S.prefix+")"}throw new u.ArcadeExecutionError(M,u.ExecutionErrorCodes.InvalidIdentifier,
S);}function F(M,S){var ma=v(M,S.right),ua=null,wa="";if("MemberExpression"===S.left.type)return ua=v(M,S.left.object),!0===S.left.computed?wa=v(M,S.left.property):(wa="'"+S.left.property.name+"'",ba(S.left.property.name)),"lang.assignmember("+ua+","+wa+",'"+S.operator+"',"+ma+")";ua=S.left.name.toLowerCase();ba(ua);if(null!==M.localScope){if(void 0!==M.localScope[ua])return"lscope['"+ua+"']\x3dlang.assign("+ma+",'"+S.operator+"', lscope['"+ua+"'])";if(void 0!==M.localScope._SymbolsMap[ua])return"lscope['"+
M.localScope._SymbolsMap[ua]+"']\x3dlang.assign("+ma+",'"+S.operator+"', lscope['"+M.localScope._SymbolsMap[ua]+"'])"}if(void 0!==M.globalScope[ua])return"gscope['"+ua+"']\x3dlang.assign("+ma+",'"+S.operator+"', gscope['"+ua+"'])";if(void 0!==M.globalScope._SymbolsMap[ua])return"gscope['"+M.globalScope._SymbolsMap[ua]+"']\x3dlang.assign("+ma+",'"+S.operator+"', gscope['"+M.globalScope._SymbolsMap[ua]+"'])";if(null!==M.localScope){if(M.undeclaredGlobalsInFunctions.has(ua))return"gscope[lang.chkAssig('"+
M.undeclaredGlobalsInFunctions.get(ua).manglename+"',runtimeCtx)]\x3dlang.assign("+ma+",'"+S.operator+"', gscope['"+M.undeclaredGlobalsInFunctions.get(ua).manglename+"'])";wa={manglename:la(M),node:S.argument};M.undeclaredGlobalsInFunctions.set(ua,wa);return"gscope[lang.chkAssig('"+wa.manglename+"',runtimeCtx)]\x3dlang.assign("+ma+",'"+S.operator+"', gscope['"+wa.manglename+"'])"}throw new u.ArcadeExecutionError(M,u.ExecutionErrorCodes.InvalidIdentifie"; "}function N(M,S){if("AssignmentExpression"===S.test.type||"UpdateExpression"===S.test.type)throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.BooleanConditionRequired,S);return"if (lang.mustBoolean("+v(M,S.test)+
", runtimeCtx) \x3d\x3d\x3d true) {\n    "+I(M,S.consequent)+"\n  } "+(null!==S.alternate?"IfStatement"===S.alternate.type?" else "+N(M,S.alternate):" else {\n      "+I(M,S.alternate)+"\n    }\n":" else {\n      lastStatement \x3d lc.voidOperation;\n    }\n")}function da(M,S){for(var ma="",ua=0;ua<S.body.length;ua++)"EmptyStatement"!==S.body[ua].type&&(ma="ReturnStatement"===S.body[ua].type?ma+(v(M,S.body[ua])+"; \n"):"BreakStatement"===S.body[ua].type?ma+(v(M,S.body[ua])+"; \n"):"ContinueStatement"===
S.body[ua].type?ma+(v(M,S.body[ua])+"; \n"):"UpdateExpression"===S.body[ua].type?ma+("lastStatement \x3d "+v(M,S.body[ua])+"; \n"):"ObjectExpression"===S.body[ua].type?ma+("lastStatement \x3d "+v(M,S.body[ua])+"; \n"):ma+(v(M,S.body[ua])+" \n"));return ma}function ba(M){if("iif"===M)throw new u.ArcadeUncompilableError;if("decode"===M)throw new u.ArcadeUncompilableError;if("when"===M)throw new u.ArcadeUncompilableError;}function na(M,S){var ma=null===S.init?null:v(M,S.init);ma===g.voidOperation&&(ma=
null);S=S.id.name.toLowerCase();ba(S);if(null!==M.localScope){if(void 0!==M.localScope[S])return"lscope['"+S+"']\x3d"+ma+"; ";if(void 0!==M.localScope._SymbolsMap[S])return"lscope['"+M.localScope._SymbolsMap[S]+"']\x3d"+ma+"; ";var ua=la(M);M.localScope._SymbolsMap[S]=ua;M.mangleMap[S]=ua;return"lscope['"+ua+"']\x3d"+ma+"; "}if(void 0!==M.globalScope[S])return"gscope['"+S+"']\x3d"+ma+"; ";if(void 0!==M.globalScope._SymbolsMap[S])return"gscope['"+M.globalScope._SymbolsMap[S]+"']\x3d"+ma+"; ";if(M.undeclaredGlobalsInFunctions.has(S))return ua=
M.undeclaredGlobalsInFunctions.get(S).manglename,M.globalScope._SymbolsMap[S]=ua,M.mangleMap[S]=ua,M.undeclaredGlobalsInFunctions.delete(S),"gscope[lang.setAssig('"+ua+"', runtimeCtx)]\x3d"+ma+"; ";ua=la(M);M.globalScope._SymbolsMap[S]=ua;M.mangleMap[S]=ua;return"gscope['"+ua+"']\x3d"+ma+"; "}function xa(M,S){try{var ma=S.name.toLowerCase();ba(ma);if(null!==M.localScope){if(void 0!==M.localScope[ma])return"lscope['"+ma+"']";if(void 0!==M.localScope._SymbolsMap[ma])return"lscope['"+M.localScope._SymbolsMap[ma]+
"']"}if(void 0!==M.globalScope[ma])return"gscope['"+ma+"']";if(void 0!==M.globalScope._SymbolsMap[ma])return"gscope['"+M.globalScope._SymbolsMap[ma]+"']";if(null!==M.localScope){if(M.undeclaredGlobalsInFunctions.has(ma))return"gscope[lang.chkAssig('"+M.undeclaredGlobalsInFunctions.get(ma).manglename+"',runtimeCtx)]";var ua={manglename:la(M),node:S.argument};M.undeclaredGlobalsInFunctions.set(ma,ua);return"gscope[lang.chkAssig('"+ua.manglename+"',runtimeCtx)]"}throw new u.ArcadeCompilationError(M,
u.ExecutionErrorCodes.InvalidIdentifier,S);}catch(wa){throw wa;}}function W(M,S){try{if("MemberExpression"===S.callee.type){var ma=void 0;!0===S.callee.computed?ma=v(M,S.callee.property):(ma="'"+S.callee.property.name+"'",ba(S.callee.property.name));for(var ua="[",wa=0;wa<S.arguments.length;wa++)0<wa&&(ua+=", "),ua+=v(M,S.arguments[wa]);ua+="]";return M.isAsync?"(yield lang.callModuleFunction("+v(M,S.callee.object)+","+ua+","+ma+",runtimeCtx))":"lang.callModuleFunction("+v(M,S.callee.object)+","+
ua+","+ma+",runtimeCtx)"}if("Identifier"!==S.callee.type)throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.FuncionNotFound,S);var Q=S.callee.name.toLowerCase();if("iif"===Q){try{if(3!==S.arguments.length)throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.WrongNumberOfParameters,S);var ka=ha(M);var za=(M.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {")+"\n        var "+ka+" \x3d "+v(M,S.arguments[0])+";\n       \n        if ("+
ka+" \x3d\x3d\x3d true) {\n          return  "+v(M,S.arguments[1])+";\n        }\n        else if ("+ka+" \x3d\x3d\x3d false) {\n          return "+v(M,S.arguments[2])+";\n        }\n        else {\n          lang.error('ExecutionErrorCodes.BooleanConditionRequired');\n        }\n      "+(M.isAsync?"})}()))":"}()")}catch(U){throw U;}return za}if("when"===Q){try{if(3>S.arguments.length)throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.WrongNumberOfParameters,S);if(0===S.arguments.length%2)throw new u.ArcadeCompilationError(M,
u.ExecutionErrorCodes.WrongNumberOfParameters,S);var Ea=ha(M);ua="var ";for(wa=0;wa<S.arguments.length-1;wa+=2)ua+=Ea+" \x3d lang.mustBoolean("+v(M,S.arguments[wa])+", runtimeCtx);\n      if ("+Ea+" \x3d\x3d\x3d true ) {\n        return "+v(M,S.arguments[wa+1])+" \n      }\n";ma=(M.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {")+"\n        "+ua+"\n        return "+v(M,S.arguments[S.arguments.length-1])+"\n        "+(M.isAsync?"})}()))":
"}()")}catch(U){throw U;}return ma}if("decode"===Q){try{if(2>S.arguments.length)throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.WrongNumberOfParameters,S);if(2===S.arguments.length)var Ka="("+v(M,S.arguments[1])+")";else{if(0===(S.arguments.length-1)%2)throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.WrongNumberOfParameters,S);var Qa=ha(M),Pa=ha(M);ua="var ";for(wa=1;wa<S.arguments.length-1;wa+=2)ua+=Pa+" \x3d "+v(M,S.arguments[wa])+";\n      if (lang.binary("+Pa+", "+Qa+', "\x3d\x3d") \x3d\x3d\x3d true ) {\n        return '+
v(M,S.arguments[wa+1])+" \n      }\n";Ka=(M.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {")+"\n        var "+Qa+" \x3d "+v(M,S.arguments[0])+";\n        "+ua+"\n        return "+v(M,S.arguments[S.arguments.length-1])+"\n        "+(M.isAsync?"})}()))":"}()")}}catch(U){throw U;}return Ka}ma="";null!==M.localScope&&(void 0!==M.localScope[Q]?ma="lscope['"+Q+"']":void 0!==M.localScope._SymbolsMap[Q]&&(ma="lscope['"+M.localScope._SymbolsMap[Q]+
"']"));if(""===ma)if(void 0!==M.globalScope[Q])ma="gscope['"+Q+"']";else if(void 0!==M.globalScope._SymbolsMap[Q])ma="gscope['"+M.globalScope._SymbolsMap[Q]+"']";else if(null!==M.localScope)if(M.undeclaredGlobalsInFunctions.has(Q))ma="gscope[lang.chkAssig('"+M.undeclaredGlobalsInFunctions.get(Q).manglename+"',runtimeCtx)]";else{var J={manglename:la(M),node:S.argument};M.undeclaredGlobalsInFunctions.set(Q,J);ma="gscope[lang.chkAssig('"+J.manglename+"',runtimeCtx)]"}if(""!==ma){ua="[";for(wa=0;wa<S.arguments.length;wa++)0<
wa&&(ua+=", "),ua+=v(M,S.arguments[wa]);ua+="]";return M.isAsync?"(yield lang.callfunc("+ma+","+ua+",runtimeCtx) )":"lang.callfunc("+ma+","+ua+",runtimeCtx)"}throw new u.ArcadeCompilationError(M,u.ExecutionErrorCodes.FuncionNotFound,S);}catch(U){throw U;}}function la(M){M.symbols.symbolCounter++;return"_T"+M.symbols.symbolCounter.toStr ua}function Ca(M,S,ma,ua){ma=ma?new pa:new ja;M||(M={});S||(S={});var wa=new n({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});wa.immutable=!1;ma._SymbolsMap={textformatting:1,infinity:1,pi:1};ma.textformatting=wa;ma.infinity=Number.POSITIVE_INFINITY;ma.pi=Math.PI;for(var Q in S)ma[Q]=S[Q],ma._SymbolsMap[Q]=1;for(Q in M)ma._SymbolsMap[Q]=
1,ma[Q]=M[Q]&&"esri.Graphic"===M[Q].declaredClass?f.createFromGraphic(M[Q],null!==ua&&void 0!==ua?ua:null):M[Q];return ma}function oa(M,S){for(var ma={mode:S,compiled:!0,functions:{},signatures:[],standardFunction:E,standardFunctionAsync:E,evaluateIdentifier:qa},ua=0;ua<M.length;ua++)M[ua].registerFunctions(ma);if("sync"===S){for(var wa in ma.functions)ca[wa]=new B.NativeFunction(ma.functions[wa]),ja.prototype[wa]=ca[wa];for(ua=0;ua<ma.signatures.length;ua++)a.addFunctionDeclaration(ma.signatures[ua],
"sync")}else{for(wa in ma.functions)V[wa]=new B.NativeFunction(ma.functions[wa]),pa.prototype[wa]=V[wa];for(ua=0;ua<ma.signatures.length;ua++)a.addFunctionDeclaration(ma.signatures[ua],"async")}}function qa(M,S){S=S.name;if("_SymbolsMap"===S)throw new u.ArcadeExecutionError(M,u.ExecutionErrorCodes.InvalidIdentifier,null);if(0<M.localStack.length){if("_t"!==S.substr(0,2).toLowerCase()&&void 0!==M.localStack[M.localStack.length-1][S])return M.localStack[M.localStack.length-1][S];var ma=M.mangleMap[S];
if(void 0!==ma&&void 0!==M.localStack[M.localStack.length-1][ma])return M.localStack[M.localStack.length-1][ma]}if("_t"!==S.substr(0,2).toLowerCase()&&void 0!==M.globalScope[S]||1===M.globalScope._SymbolsMap[S])return M.globalScope[S];S=M.mangleMap[S];if(void 0!==S)return M.globalScog(M)}function Y(M,S,ma){var ua;void 0===ma&&(ma=!1);var wa={isAsync:ma,moduleFactory:S.moduleFactory,moduleFactoryMap:{},libraryResolver:new y.ArcadeModuleLoader(null,M.loadedModules),globalScope:sa(S.vars,
ma?V:ca,S.customfunctions),customfunctions:S.customfunctions,localScope:null,mangleMap:{},undeclaredGlobalsInFunctions:new Map,depthCounter:{depth:1},exports:{},console:L,lrucache:S.lrucache,timeReference:null!==(ua=S.timeReference)&&void 0!==ua?ua:null,interceptor:S.interceptor,services:S.services,symbols:{symbolCounter:0}};M=v(wa,M);""===M&&(M="lc.voidOperation; ");var Q=wa.moduleFactory,ka=wa.moduleFactoryMap,za=wa.exports,Ea={},Ka;for(Ka in za)Ea[Ka]=void 0!==wa.mangleMap[Ka]?wa.mangleMap[Ka]:
Ka;wa={lc:g,lang:ea,mangles:wa.mangleMap,prepareM(Qa)},prepare:function(Qa,Pa){var J,U=Qa.spatialReference;if(null===U||void 0===U)U=new C({wkid:102100});var ia=Ca(Qa.vars,Qa.customfunctions,Pa,Qa.timeReference);return{localStack:[],isAsync:Pa,exports:za,exportmangle:Ea,gdefs:{},moduleFactory:Q,moduleFactoryMap:ka,moduleSingletons:Qa.moduleSingletons,mangleMap:this.mangles,spatialReference:U,globalScope:ia,abortSignal:void 0===Qa.abortSignal||null===Qa.abortSignal?
{aborted:!1}:Qa.abortSignal,localScope:null,services:Qa.services,console:Qa.console?Qa.console:L,lrucache:Qa.lrucache,timeReference:null!==(J=Qa.timeReference)&&void 0!==J?J:null,interceptor:Qa.interceptor,symbols:{symbolCounter:0},depthCounter:Qa.depthCounter}}};return(new Function("context","spatialReference",ma?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
M+"\n return lastStatement; }); } \n yield mainBody(); \n return this.prepareModule(runtimeCtx); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+M+"\n return lastStatement; } \n mainBody(); \n return this.prepareModule(runtimeCtx); ")).bind(wa)}Object.defineProperty(x,"__esModule",{value:!0});x.enableAsyncSupport=x.compileScript=x.executeScript=
x.extend=x.functionHelper=x.UserDefinedCompiledFunction=void 0;c=functin wa}q(S,M);S.prototype.createFunction=function(ma){var ua=this;return function(){for(var wa=[],Q=0;Q<arguments.length;Q++)wa[Q]=arguments[Q];if(wa.length!==ua.paramCount)throw new u.ArcadeExecutionError(ma,u.ExecutionErrorCodes.WrongNumberOfParameters,null);return ua.fn.apply(ua,wa)}};S.prototype.call=function(ma,ua){return this.fn.apply(this,ua.arguments)};
S.prototype.marshalledCall=function(ma,ua,wa,Q){var ka=this;return Q(ma,ua,function(za,Ea,Ka){Ka=Ka.map(function(Qa){return!g.isFunctionParameter(Qa)||Qa instanceof B.ScopeMarshalledFunction?Qa:B.wrapModuleScopedResponse(Qa,ma,Q)});za=ka.call(wa,{arguments:Ka});return t.isPromiseLike(za)?zaa,Q)}):za})};return S}(B.ArcadeFunction);x.UserDefinedCompiledFunction=c;var ca={};k.registerFunctions(ca,E);p.registerFunctions(ca,E);e.registerFunctions(ca,
E);l.registerFunctions(ca,E);b.registerFunctions(ca,E);ca.iif=function(M,S){try{return E(M,S,function(ma,ua,wa){throw new u.ArcadeExecutionError(M,u.ExecutionErrorCodes.Unrecognised,S);})}catch(ma){throw ma;}};ca.decode=function(M,S){try{return E(M,S,function(ma,ua,wa){throw new u.ArcadeExecutionError(M,u.ExecutionErrorCodes.Unrecognised,S);})}catch(ma){throw ma;}};ca.when=function(M,S){try{return E(M,S,function(ma,ua,wa){throw new u.ArcadeExecutionError(M,u.ExecutionErrorCodes.Unrecognised,S);})}catch(ma){throw ma;
}};var V={},X;for(X in ca)V[X]=new B.NativeFunction(ca[X]);m.registerFunctions(ca,E);for(X in ca)ca[X]=new B.NativeFunction(ca[X]);var ja=function(){};ja.prototype=ca;var pa=function(){};pa.prototype=V;x.functionHelper={fixSpatialReference:g.fixSpatialReference,parseArgun ma},standardFunction:E};x.extend=oa;oa([d],"sync");oa([d],"async");x.executeSM(S)};var ta=0,ea={error:function(M){throw new u.ArcadeExecutionError(null,
M,null);},__awaiter:function(M,S,ma,ua){return new Prt())})},functionDepthchecker:function(M,S){return function(){S.depthCounter.depth++;S.localStack.push([]);if(64<S.depthCounter.depth)throw new u.ArcadeExecutionError(null,
u.ExecutionErrorCodes.MaximumCallDepth,null);var ma=M.apply(this,arguments);if(t.isPromiseLike(ma))return ma.then(function(ua){S.depthCounter.depth--;--S.localStack.length;return ua});S.depthCounter.depth--;--S.localStack.length;return ma}},chkAssig:function(M,S){if(void 0===S.gdefs[M])throw new u.ArcadeExecutionError(S,u.ExecutionErrorCodes.InvalidIdentifier,null);return M},mustBoolean:function(M,S){if(!0===M||!1===M)return M;throw new u.ArcadeExecutionError(S,u.ExecutionErrorCodes.BooleanConditionRequired,
null);},setrn M},castSg(M)},aCheck:function(M,S){if(g.isFunctionParameter(M)){if("ArrayExpression"===S)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.NoFunctionInArray,null);if("ObjectExpression"===S)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.NoFunctionInDictionary,null);throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.NoFunctionInTemplateLiteral,null);}return M===g.voidOperation?null:M},
Dictionary:n,Feature:f,UserDefinedCompiledFunction:c,dictionary:function(M){for(var S={},ma=new Map,ua=0;ua<M.length;ua+=2){if(g.isFunctionParameter(M[ua+1]))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.NoFunctionInDictionary,null);if(!1===g.isString(M[ua]))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.KeyMustBeString,null);var wa=M[ua].toString(),Q=wa.toLowerCase();ma.has(Q)?wa=ma.get(Q):ma.set(Q,wa);S[wa]=M[ua+1]===g.voidOperation?null:M[ua+1]}M=new n(S);M.immutable=
!1;return M},strCheck:function(M){if(!1===g.isString(M))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.KeyMustBeString,null);return M},unary:function(M,S){if(g.isBoolean(M)){if("!"===S)return!M;if("-"===S)return-1*g.toNumber(M);if("+"===S)return 1*g.toNumber(M);if("~"===S)return~g.toNumber(M);throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.UnsupportedUnaryOperator,null);}if("-"===S)return-1*g.toNumber(M);if("+"===S)return 1*g.toNumber(M);if("~"===S)return~g.toNumber(M);throw new u.ArcadeExecutionError(null,
u.ExecutionErrorCodes.UnsupportedUnaryOperator,null);},logicalCheck:function(M){if(!1===g.isBoolean(M))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.LogicExpressionOrAnd,null);return M},logical:function(M,S,ma){if(g.isBoolean(M)&&g.isBoolean(S))switch(ma){case "||":return M||S;case "\x26\x26":return M&&S}throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.LogicExpressionOrAnd,null);},binary:function(M,S,ma){switch(ma){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return g.binaryOperator(g.toNumber(M),
g.toNumber(S),ma);case "\x3d\x3d":return g.equalityTest(M,S);case "\x3d":return g.equalityTest(M,S);case "!\x3d":return!g.equalityTest(M,S);case "\x3c":return g.greaterThanLessThan(M,S,ma);case "\x3e":return g.greaterThanLessThan(M,S,ma);case "\x3c\x3d":return g.greaterThanLessThan(M,S,ma);case "\x3e\x3d":return g.greaterThanLessThan(M,S,ma);case "+":return g.isString(M)||g.isString(S)?g.toString(M)+g.toString(S):g.toNumber(M)+g.toNumber(S);case "-":return g.toNumber(M)-g.toNumber(S);case "*":return g.toNumber(M)*
g.toNumber(S);case "/":return g.toNumber(M)/g.toNumber(S);case "%":return g.toNumber(M)%g.toNumber(S);default:throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.UnsupportedOperator,null);}},assign:function(M,S,ma){switch(S){case "\x3d":return M===g.voidOperation?null:M;case "/\x3d":return g.toNumber(ma)/g.toNumber(M);case "*\x3d":return g.toNumber(ma)*g.toNumber(M);case "-\x3d":return g.toNumber(ma)-g.toNumber(M);case "+\x3d":return g.isString(ma)||g.isString(M)?g.toString(ma)+g.toString(M):
g.toNumber(ma)+g.toNumber(M);case "%\x3d":return g.toNumber(ma)%g.toNumber(M);default:throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.UnsupportedOperator,null);}},uwa-1},graphicToFeature:function(M,S,ma){return null===M?null:f.createFromGraphicLikeObject(M.geometry,M.attributes,S,ma.timeReference)},memberupdate:function(M,S,ma,ua){if(g.isArray(M))if(g.isNumber(S)){0>S&&(S=M.length+
S);if(0>S||S>=M.length)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.OutOfBounds,null);var wa=g.toNumber(M[S]);M[S]="++"===ma?wa+1:wa-1}else throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.ArrayAccessorMustBeNumber,null);else if(M instanceof n){if(!1===g.isString(S))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.KeyAccessorMustBeString,null);if(!0===M.hasField(S))wa=g.toNumber(M.field(S)),M.setField(S,"++"===ma?wa+1:wa-1);else throw new u.ArcadeExecutionError(null,
u.ExecutionErrorCodes.FieldNotFound,null,{key:S});}else if(g.isFeature(M)){if(!1===g.isString(S))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.KeyAccessorMustBeString,null);if(!0===M.hasField(S))wa=g.toNumber(M.field(S)),M.setField(S,"++"===ma?wa+1:wa-1);else throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.FieldNotFound,null);}else{if(g.isImmutableArray(M))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.Immutable,null);if(M instanceof va){if(!1===g.isString(S))throw new u.ArcadeExecutionError(null,
u.ExecutionErrorCodes.ModuleAccessorMustBeString,null);if(!0===M.hasGlobal(S))wa=g.toNumber(M.global(S)),M.setGlobal(S,"++"===ma?wa+1:wa-1);else throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.ModuleExportNotFound,null);}else throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidIdentifier,null);}return!1===ua?wa:"++"===ma?wa+1:wa-1},assignmember:function(M,S,ma,ua){if(g.isArray(M))if(g.isNumber(S)){0>S&&(S=M.length+S);if(0>S||S>M.length)throw new u.ArcadeExecutionError(null,
u.ExecutionErrorCodes.OutOfBounds,null);if(S===M.length&&"\x3d"!==ma)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.OutOfBounds,null);M[S]=this.assign(ua,ma,M[S])}else throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.ArrayAccessorMustBeNumber,null);else if(M instanceof n){if(!1===g.isString(S))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.KeyAccessorMustBeString,null);if(!0===M.hasField(S))M.setField(S,this.assign(ua,ma,M.field(S)));else{if("\x3d"!==ma)throw new u.ArcadeExecutionError(null,
u.ExecutionErrorCodes.FieldNotFound,null);M.setField(S,this.assign(ua,ma,null))}}else if(g.isFeature(M)){if(!1===g.isString(S))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.KeyAccessorMustBeString,null);if(!0===M.hasField(S))M.setField(S,this.assign(ua,ma,M.field(S)));else{if("\x3d"!==ma)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.FieldNotFound,null);M.setField(S,this.assign(ua,ma,null))}}else{if(g.isImmutableArray(M))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.Immutable,
null);if(M instanceof va){if(!1===g.isString(S))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.ModuleAccessorMustBeString,null);if(M.hasGlobal(S))M.setGlobal(S,this.assign(ua,ma,M.global(S)));else throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.ModuleExportNotFound,null);}else throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidIdentifier,null);}},member:function(M,S){if(null===M)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.MemberOfNull,null);
if(M instanceof n||g.isFeature(M)){if(g.isString(S))return M.field(S);throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(M instanceof z){if(g.isString(S))return l.geometryMember(M,S,null,null);throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(g.isArray(M)){if(g.isNumber(S)&&isFinite(S)&&Math.floor(S)===S){0>S&&(S=M.length+S);if(S>=M.length||0>S)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.OutOfBounds,
null);return M[S]}throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(g.isString(M)){if(g.isNumber(S)&&isFinite(S)&&Math.floor(S)===S){0>S&&(S=M.length+S);if(S>=M.length||0>S)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.OutOfBounds,null);return M[S]}throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(g.isImmutableArray(M)){if(g.isNumber(S)&&isFinite(S)&&Math.floor(S)===S){0>S&&(S=M.length()+S);if(S>=M.length()||
0>S)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.OutOfBounds,null);return M.get(S)}throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidMemberAccessKey,null);}if(M instanceof va&&g.isString(S))return M.global(S);throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidMemberAccessKey,null);},callfunc:function(M,S,ma){return M.call(ma,{arguments:S,preparsed:!0})},loadModule:function(M,S){M=S.moduleFactoryMap[M];if(S.moduleSingletons[M])return S.moduleSingletons[M];
var ma=S.moduleFactory[M]({vars:{},moduleSingletons:S.moduleSingletons,depthCounter:S.depthCounter,console:S.console,abortSignal:S.abortSignal,isAsync:S.isAsync,services:S.services,lrucache:S.lrucache,timeReference:S.timeReference?S.timeReference:null,interceptor:S.interceptor},S.spatialReference);return S.moduleSingletons[M]=ma},callModuleFunction:function(M,S,ma,ua){if(!(M instanceof va))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.FuncionNotFound,null);M=M.global(ma);if(!1===g.isFunctionParameter(M))throw new u.ArcadeExecutionError(null,
u.ExecutionErrorCodes.CallNonFunction,null);return M.call(ua,{preparsed:!0,arguments:S})}};x.compileScript=function(M,S,ma){var ua;void 0===ma&&(ma=!1);null===S&&(S={vars:{},customfunctions:{}});var wa=null;M.usesModules&&(wa=new y.ArcadeModuleLoader(null,M.loadedModules));wa={isAsync:ma,globalScope:sa(S.vars,ma?V:ca,S.customfunctions),moduleFactory:{},moduleFactoryMap:{},undeclaredGlobalsInFunctions:new Map,customfunctions:S.customfunctions,libraryResolver:wa,localScope:null,mangleMap:{},depthCounter:{depth:1},
exports:{},console:L,lrucache:S.lrucache,timeReference:null!==(ua=S.timeReference)&&void 0!==ua?ua:null,interceptor:S.interceptor,services:S.services,symbols:{symbolCounter:0}};M=v(wa,M);""===M&&(M="lc.voidOperation; ");0<wa.undeclaredGlobalsInFunctions.size&&wa.undeclaredGlobalsInFunctions.forEach(function(Qa){throw new u.ArcadeCompilationError(S,u.ExecutionErrorCodes.InvalidIdentifier,Qa.node);});var Q=wa.moduleFactory,ka=wa.moduleFactoryMap,za=wa.exports,Ea={};for(Ka in za)Ea[Ka]=void 0!==wa.mangleMap[Ka]?
wa.mangleMap[Ka]:Ka;var Ka={lc:g,lang:ea,mangles:wa.mangleMap,postProcess:function(Qa){Qa instanceof g.ReturnResult&&(Qa=Qa.value);Qa instanceof g.ImplicitResult&&(Qa=Qa.value);Qa===g.voidOperation&&(Qa=null);if(Qa===g.breakResult)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.IllegalResult,null);if(Qa===g.continueResult)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.IllegalResult,null);if(g.isFunctionParameter(Qa))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.IllegalResult,
null);return Qa},prepare:function(Qa,Pa){var J,U=Qa.spatialReference;if(null===U||void 0===U)U=new C({wkid:102100});var ia=Ca(Qa.vars,Qa.customfunctions,Pa,Qa.timeReference);return{localStack:[],isAsync:Pa,moduleFactory:Q,moduleFactoryMap:ka,mangleMap:this.mangles,moduleSingletons:{},exports:za,gdefs:{},exportmangle:Ea,spatialReference:U,globalScope:ia,abortSignal:void 0===Qa.abortSignal||null===Qa.abortSignal?{aborted:!1}:Qa.abortSignal,localScope:null,services:Qa.services,console:Qa.console?Qa.console:
L,lrucache:Qa.lrucache,timeReference:null!==(J=Qa.timeReference)&&void 0!==J?J:null,interceptor:Qa.interceptor,symbols:{symbolCounter:0},depthCounter:{depth:1}}}};return(new Function("context","spatialReference",ma?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
M+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+M+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(Ka)};x.enableAsyncSupport=function(){return new Pra)})})};var va=function(M){function S(ma){var ua=M.call(this,null)||this;ua.moduleContext=ma;return ua}q(S,M);S.prototype.hasGlobal=function(ma){void 0===this.moduleContext.exports[ma]&&(ma=ma.toLowerCase());return void 0!==this.moduleContext.exports[ma]?!0:!1};S.prototype.setGlobal=function(ma,ua){var wa=this.moduleContext.globalScope;ma=ma.toLowerCase();if(g.isFunctionParameter(ua))throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.AssignModuleFunction,null);wa[this.moduleContext.exportmangle[ma]]=
ua};S.prototype.global=function(ma){var ua=this.moduleContext.globalScope;ma=ma.toLowerCase();var wa=ua[this.moduleContext.exportmangle[ma]];if(void 0===wa)throw new u.ArcadeExecutionError(null,u.ExecutionErrorCodes.InvalidIdentifier,null);if(g.isFunctionParameter(wa)&&!(wa instanceof B.ScopeMarshalledFunction)){var Q=new B.ScopeMarshalledFunction;Q.fn=wa;Q.parameterEvaluator=E;Q.context=this.moduleContext;return ua[this.moduleContext.exportmangle[ma]]=Q}return wa};return S}(D.ArcadeModule)})},"esri/arcade/Feature":function(){define("require exports ./polyfill/tsSupport/awaiter ./polyfill/tsSupport/generator ./polyfill/tsSupport/assign ./polyfill/tsSupport/spreadarray ./Dictionary ./ImmutableArray ./languageUtils ../geometry/Geometry ../geometry/Point ../geometry/jsonUtils ./polyfill/maybe ./ArcadeDate ./executionError".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m){return function(){function e(){this.arcadeDeclaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=null;this._datesfixed=!0;this.contextTimeReference=this.dateTimeReferenceFieldIndex=null;this.immutable=!0;this._datefields=null;this.immutable=!0}e.createFromGraphic=function(b,p){var t=new e;t.contextTimeReference=null!==p&&void 0!==p?p:null;t._geometry=k.isSome(b.geometry)?b.geometry:null;t.attributes=void 0===b.attributes?{}:null===b.attributes?
{}:b.attributes;b._sourceLayer?(t._layer=b._sourceLayer,t._datesfixed=!1):b._layer?(t._layer=b._layer,t._datesfixed=!1):b.layer&&"fields"in b.layer?(t._layer=b.layer,t._datesfixed=!1):b.sourceLayer&&"fields"in b.sourceLayer&&(t._layer=b.sourceLayer,t._datesfixed=!1);return t};e.createFromArcadeFeature=function(b){var p=new e;p._datesfixed=b._datesfixed;p.attributes=b.attributes;p._geometry=b._geometry;b._layer&&(p._layer=b._layer);p.dateTimeReferenceFieldIndex=b.dateTimeReferenceFieldIndex;p.contextTimeReference=
b.contextTimeReference;return p};e.createFromArcadeDictirn p};e.createFromGraphicLikeObject=function(b,
p,t,z){void 0===t&&(t=null);var C=new e;C.contextTimeReference=null!==z&&void 0!==z?z:null;null===p&&(p={});C.attributes=p;C._geometry=b?b:null;C._layer=t;C._layer&&(C._datesfixed=!1);return C};e.prototype.repurposeFromGraphicLikeO1:!0};Object.defineProperty(e.prototype,"layerPreferredTimeZone"p:""},enumerable:!1,configurable:!0});e.prototype.fieldSourceTimeZone=function(b){var p,t;return null!==(t=null===(p=this.dateTimeReferenceFieldIndex)||void 0===p?void 0:p.fieldTimeZone(b))&&void 0!==t?t:""};e.prototype.castToText=function(b){void 0===b&&(b=!1);var p="";!1===this._datesfixed&&this._fixDates();for(var t in this.attributes){""!==p&&(p+=",");var z=this.attributes[t];null==z?p+=JSON.stringify(t)+":null":f.isBoolean(z)||f.isNumber(z)||
f.isString(z)?p+=JSON.stringify(t)+":"+JSON.stringify(z):z instanceof g?p+=JSON.stringify(t)+":"+f.toStringExplicit(z):z instanceof n?p+=JSON.stringify(t)+":"+f.toStringExplicit(z,null,b):z instanceof Array?p+=JSON.stringify(t)+":"+f.toStringExplicit(z,null,b):z instanceof l.ArcadeDate?p=b?p+(JSON.stringify(t)+":"+JSON.stringify(z.getTime())):p+(JSON.stringify(t)+":"+z.stringify()):null!==z&&"object"===typeof z&&void 0!==z.castToText&&(p+=JSON.stringify(t)+":"+z.castToText(b))}return'{"geometry":'+
(null===this.geometry()?"null":f.toStringExplicit(this.geometry()))+',"attributes":{'+p+"}}"};e.prototype._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{for(var b=[],p=this._layer.fields,t=0;t<p.length;t++){var z=p[t],C=z.type;"date"!==C&&"esriFieldTypeDate"!==C||b.push(z.name)}this._datefields=b;0<b.length&&this._fixDateFields(b)}this._datesfixed=!0};e.prototype.isUnknownDateTimeField=function(b){var p;return"unknown"===(null===
(p=this.dateTimeReferenceFieldIndex)||void 0===p?void 0:p.fieldTimeZone(b))};e.prototype._fixDateFields=function(b){var p,t;this.attributes=h({},this.attributes);var z=null!==(t=null===(p=this.contextTimeReference)||void 0===p?void 0:p.timeZone)&&void 0!==t?t:"system";for(p=0;p<b.length;p++)if(t=this.attributes[b[p]],null!==t)if(void 0===t)for(var C in this.attributes){if(C.toLowerCase()===b[p].toLowerCase()){t=this.attributes[C];if(null!==t){var y=this.isUnknownDateTimeField(C);f.isDate(t)?this.attributes[C]=
t:this.attributes[C]=t instanceof Date?y?l.ArcadeDate.unknownDateJSToArcadeDate(t):l.ArcadeDate.dateJSAndZoneToArcadeDate(t,z):y?l.ArcadeDate.unknownEpochToArcadeDate(t):l.ArcadeDate.epochToArcadeDate(t,z)}break}}else y=this.isUnknownDateTimeField(b[p]),f.isDate(t)?this.attributes[b[p]]=t:this.attributes[b[p]]=t instanceof Date?y?l.ArcadeDate.unknownDateJSToArcadeDate(t):l.ArcadeDate.dateJSAndZoneToArcadeDate(t,z):y?l.ArcadeDate.unknownEpochToArcadeDate(t):l.ArcadeDate.epochToArcadeDate(t,z)};e.prototype.geometry};e.prototype.field=function(b){!1===this._datesfixed&&this._fixDates();var p=this.attributes[b];if(void 0!==p)return p;p=b.toLowerCase();for(var t in this.attributes)if(t.toLowerCase()===p)return this.attributes[t];if(this._hasFieldDefinition(p))return null;throw new m.ArcadeExecutionError(null,m.ExecutionErrorCodes.FieldNotFound,null,{key:b});};
e.prototype._hasFieldDefinrn!1};e.prototype.setField=function(b,p){if(this.immutable)throw new m.ArcadeExecutionError(null,m.ExecutionErrorCodes.Immutable,null);p instanceof Date&&(p=this.isUnknownDateTimeField(b)?l.ArcadeDate.unknownDateJSToArcadeDate(p):l.ArcadeDate.dateJSToArcadeDate(p));if(!1===f.isSimpleType(p))throw new m.ArcadeExecutionError(null,
m.ExecutionErrorCodes.TypeNotAllowedInFeature,null);var t=b.toLowerCase();if(void 0===this.attributes[b])for(var z in this.attributes)if(z.toLowerCase()===t){this.attributes[z]=p;return}this.attributes[b]=p};e.prototype.has0:!1};e.prototypert()};e.parseGeometryFromDictin(b)};e._fixPathArn z};e._fixPointArn z};e._convertDictionaryTrn t};e.parseAttributesFromDictionary=function(b){var p={},t;for(t in b.attributes){var z=b.attributes[t];if(f.isSimpleType(z))p[t]=z;else throw new m.ArcadeExecutionError(null,m.ExecutionErrorCodes.InvalidParameter,null);}return p};e.fromJson=function(b,p){var t=null;null!==b.geometry&&void 0!==b.geometry&&(t=d.fromJson(b.geometry));var z={};if(null!==b.attributes&&void 0!==b.attributes)for(var C in b.attributes){var y=
b.attributes[C];if(null===y)z[C]=y;else if(f.isString(y)||f.isNumber(y)||f.isBoolean(y)||f.isDate(y))z[C]=y;else throw new m.ArcadeExecutionError(null,m.ExecutionErrorCodes.InvalidParameter,null);}return e.createFromGraphicLikeObject(t,z,null,null!==p&&void 0!==p?p:null)};e.prototype.fullSayer};e.prototype.gdbVeT":b};e.prototype.castAsJson=function(b){var p,t,z={attributes:{},geometry:!0===(null===b||void 0===b?void 0:b.keepGeometryType)?this.geometry():null!==(t=null===(p=this.geometry())||void 0===p?void 0:p.toJson())&&void 0!==t?t:null},C;for(C in this.attributes)p=this.attributes[C],void 0!==p&&(z.attributes[C]=f.castAsJson(p,b));return z};e.prototype.castAsJsonAsync=function(b,p){void 0===b&&(b=null);return c(this,void 0,v)]})})};
return e}()})},"esri/arcade/polyfill/maybe":function(){define(["require","exports"],function(G,x){function c(r,h){if(null==r)throw Error(null!==h&&void 0!==h?h:"value is None");}Object.defineProperty(x,"__esModule",{value:!0});x.unwrapOrThrow=x.assertIsSome=x.isNone=x.isSome=x.none=void 0;x.none=null;x.il!=r};x.il==r};x.assertIsSome=c;x.unwrapOrrn r}})},"esri/arcade/treeAnalysis":function(){define(["require","exports",
"./polyfill/tsSupport/awaiter","./polyfill/tsSupport/generator"],function(G,x,e)}function q(m,e){if(m&&!1!==e(m))switch(m.type){case "ImportDeclaration":w(m.specifiers,e);q(m.source,e);break;case "ExportNamedDeclaration":q(m.declaration,e);break;case "ArrayExpression":w(m.elements,e);break;case "AssignmentExpression":case "BinaryExpression":q(m.left,e);q(m.right,e);break;case "BlockStatement":w(m.body,
e);break;case "Program":w(m.body,e);break;case "CallExpression":q(m.callee,e);w(m.arguments,e);break;case "ExpressionStatement":q(m.expression,e);break;case "ForInStatement":q(m.left,e);q(m.right,e);q(m.body,e);break;case "ForStatement":q(m.init,e);q(m.test,e);q(m.update,e);q(m.body,e);break;case "WhileStatement":q(m.test,e);q(m.body,e);break;case "FunctionDeclaration":q(m.id,e);w(m.params,e);q(m.body,e);break;case "IfStatement":q(m.test,e);q(m.consequent,e);q(m.alternate,e);break;case "LogicalExpression":q(m.left,
e);q(m.right,e);break;case "MemberExpression":q(m.object,e);q(m.property,e);break;case "ObjectExpression":w(m.properties,e);break;case "Property":q(m.key,e);q(m.value,e);break;case "ReturnStatement":q(m.argument,e);break;case "UnaryExpression":q(m.argument,e);break;case "UpdateExpression":q(m.argument,e);break;case "VariableDeclaration":w(m.declarations,e);break;case "VariableDeclarator":q(m.id,e);q(m.init,e);break;case "TemplateLiteral":w(m.expressions,e),w(m.quasirn b}function f(m){var e=[];q(m,function(b){"ImportDeclaration"===b.type&&b.source&&b.source.value&&e.push({libname:b.specifiers[0].local.name.toLowerCase(),source:b.source.value});return!0});retrn e}Object.defineProperty(x,
"__esModule",{value:!0});x.scriptUsesFeatureSet=x.findScriptDependencies=x.findFunctionCalls=x.extractFunctionDeclaration=x.findExpectedFieldLiterals=x.findFieldLiterals=x.referencesFunction=x.findModuleImports=x.referencesMember=x.walk=x.addFunctionDeclaration=x.fullArcadeApiAsync=x.fullArcadeApiSync=void 0;G={all:{min:2,max:2},none:{min:2,max:2},any:{min:2,max:2},reduce:{min:2,max:3},map:{min:2,max:2},filter:{min:2,max:2},fromcodepoint:{min:1,max:-1},fromcharcode:{min:1,max:-1},tocodepoint:{min:1,
max:2},tocharcode:{min:1,max:2},concatenate:{min:0,max:-1},expects:{min:1,max:-1},getfeatureset:{min:1,max:2},week:{min:1,max:2},fromjson:{min:1,max:1},length3d:{min:1,max:2},tohex:{min:1,max:1},hash:{min:1,max:1},timezone:{min:1,max:1},timezoneoffset:{min:1,max:1},changetimezone:{min:2,max:2},isoweek:{min:1,max:1},isoweekday:{min:1,max:1},hasvalue:{min:2,max:2},isomonth:{min:1,max:1},isoyear:{min:1,max:1},resize:{min:2,max:3},slice:{min:0,max:-1},splice:{min:0,max:-1},push:{min:2,max:2},pop:{min:1,
max:1},includes:{min:2,max:2},array:{min:1,max:2},front:{min:1,max:1},back:{min:1,max:1},insert:{min:3,max:3},erase:{min:2,max:2},split:{min:2,max:4},guid:{min:0,max:1},standardizeguid:{min:2,max:2},today:{min:0,max:0},angle:{min:2,max:3},bearing:{min:2,max:3},urlencode:{min:1,max:1},now:{min:0,max:0},timestamp:{min:0,max:0},day:{min:1,max:1},month:{min:1,max:1},year:{min:1,max:1},hour:{min:1,max:1},second:{min:1,max:1},millisecond:{min:1,max:1},minute:{min:1,max:1},weekday:{min:1,max:1},toutc:{min:1,
max:1},tolocal:{min:1,max:1},date:{min:0,max:8},datediff:{min:2,max:4},dateadd:{min:2,max:3},trim:{min:1,max:1},text:{min:1,max:2},left:{min:2,max:2},right:{min:2,max:2},mid:{min:2,max:3},upper:{min:1,max:1},proper:{min:1,max:2},lower:{min:1,max:1},find:{min:2,max:3},iif:{min:3,max:3},decode:{min:2,max:-1},when:{min:2,max:-1},defaultvalue:{min:2,max:2},isempty:{min:1,max:1},domaincode:{min:2,max:4},domainname:{min:2,max:4},polygon:{min:1,max:1},point:{min:1,max:1},polyline:{min:1,max:1},extent:{min:1,
max:1},multipoint:{min:1,max:1},ringisclockwise:{min:1,max:1},geometry:{min:1,max:1},count:{min:0,max:-1},number:{min:1,max:2},acos:{min:1,max:1},asin:{min:1,max:1},atan:{min:1,max:1},atan2:{min:2,max:2},ceil:{min:1,max:2},floor:{min:1,max:2},round:{min:1,max:2},cos:{min:1,max:1},exp:{min:1,max:1},log:{min:1,max:1},min:{min:0,max:-1},constrain:{min:3,max:3},console:{min:0,max:-1},max:{min:0,max:-1},pow:{min:2,max:2},random:{min:0,max:0},sqrt:{min:1,max:1},sin:{min:1,max:1},tan:{min:1,max:1},abs:{min:1,
max:1},isnan:{min:1,max:1},stdev:{min:0,max:-1},average:{min:0,max:-1},mean:{min:0,max:-1},sum:{min:0,max:-1},variance:{min:0,max:-1},distinct:{min:0,max:-1},first:{min:1,max:1},top:{min:2,max:2},boolean:{min:1,max:1},dictionary:{min:0,max:-1},typeof:{min:1,max:1},reverse:{min:1,max:1},replace:{min:3,max:4},sort:{min:1,max:2},feature:{min:1,max:-1},haskey:{min:2,max:2},indexof:{min:2,max:2},disjoint:{min:2,max:2},intersects:{min:2,max:2},touches:{min:2,max:2},crosses:{min:2,max:2},within:{min:2,max:2},
contains:{min:2,max:2},overlaps:{min:2,max:2},equals:{min:2,max:2},relate:{min:3,max:3},intersection:{min:2,max:2},union:{min:1,max:2},difference:{min:2,max:2},symmetricdifference:{min:2,max:2},clip:{min:2,max:2},cut:{min:2,max:2},area:{min:1,max:2},areageodetic:{min:1,max:2},length:{min:1,max:2},lengthgeodetic:{min:1,max:2},distancegeodetic:{min:2,max:3},distance:{min:2,max:3},densify:{min:2,max:3},densifygeodetic:{min:2,max:3},generalize:{min:2,max:4},buffer:{min:2,max:3},buffergeodetic:{min:2,
max:3},offset:{min:2,max:6},rotate:{min:2,max:3},issimple:{min:1,max:1},simplify:{min:1,max:1},convexhull:{min:1,max:1},centroid:{min:1,max:1},isselfintersecting:{min:1,max:1},multiparttosinglepart:{min:1,max:1},setgeometry:{min:2,max:2},portal:{min:1,max:1},getuser:{min:0,max:2},subtypes:{min:1,max:1},subtypecode:{min:1,max:1},subtypename:{min:1,max:1},domain:{min:2,max:3},convertdirection:{min:3,max:3},sqltimestamp:{min:1,max:3},schema:{min:1,max:1}};x.fullArcadeApiSync={functionDefinitions:new Map,
constantDefinitions:new Map};x.fullArcadeApiAsync={functionDefinitions:new Map,constantDefinitions:new Map};c=0;for(r=["pi","infinity"];c<r.length;c++){var a=r[c];x.fullArcadeApiAsync.constantDefinitions.set(a,{type:"constant"});x.fullArcadeApiSync.constantDefinitions.set(a,{type:"constant"})}x.fullArcadeApiAsync.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},
{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"newline",type:"constant"}]});x.fullArcadeApiSync.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"newline",type:"constant"}]});for(var d in G)c=G[d],x.fullArcadeApiAsync.functionDefinitions.set(d,{overloads:[{type:"function",
parametersInfo:{min:c.min,max:c.max}}]}),x.fullArcadeApiSync.functionDefinitions.set(d,{overloads:[{type:"function",parametersInfo:{min:c.min,max:c.max}}]});var k="featureset featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl getfeatureset getuser attachments featuresetbyportalitem".split(" "),l="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length length3d lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple convexhull simplify multiparttosinglepart".split(" ");
x.addFunctionDeclaration=function(m,e){var b;e="sync"===e?x.fullArcadeApiSync:x.fullArcadeApiAsync;e.functionDefinitions.has(m.name.toLowerCase())?null===(b=e.functionDefinitions.get(m.name.toLowerCase()))||void 0===b?void 0:b.overloads.push({type:"function",parametersInfo:{min:m.min,max:m.max}}):e.functionDefinitions.set(m.name.toLowerCase(),{overloads:[{type:"function",parametersInfo:{min:m.min,max:m.max}}]})};x.walk=q;x.referencesMember=n;x.findModuleImports=f;x.referencesFunrn b};x.findFieldLiterals=function(m){var e=[];q(m,function(b){var p;if("MemberExpression"!==b.type||"Identifier"!==b.object.type)return!0;!1===b.computed&&b.object&&b.object.name&&b.property&&"Identifier"===b.property.type&&b.property.name?e.push(b.object.name.toLowerCase()+"."+b.property.name.toLowerCase()):b.object&&b.object.name&&
b.property&&"Literal"===b.property.type&&"string"===typeof b.property.value&&e.push(b.object.name.toLowerCase()+"."+(null===(p=b.property.value)||void 0===p?void 0:p.toString().toLowerCase()));return!1});return e};x.findExpectedFieldLiterals=function(m){var e=[];q(m,function(b){if("CallExpression"===b.type){if("Identifier"===b.callee.type&&"expects"===b.callee.name.toLowerCase()){var p="";for(var t=0;t<(b.arguments||[]).length;t++)0===t?"Identifier"===b.arguments[t].type&&(p=b.arguments[t].name.toLowerCase()):
p&&"Literal"===b.arguments[t].type&&h(b.arguments[t].value)&&e.push(p+"."+b.arguments[t].value.toLowerCase());return!1}if("Identifier"===b.callee.type&&["domainname","domaincode","domain","haskey"].includes(b.callee.name.toLowerCase())&&2<=b.arguments.length)return p="","Identifier"===b.arguments[0].type&&(p=b.arguments[0].name.toLowerCase()),p&&"Literal"===b.arguments[1].type&&h(b.arguments[1].value)&&e.push(p+"."+b.arguments[1].value.toLowerCase()),!1}if("MemberExpression"!==b.type||"Identifier"!==
b.object.type)return!0;!1===b.computed&&b.object&&b.object.name&&b.property&&"Identifier"===b.property.type&&b.property.name?e.push(b.object.name.toLowerCase()+"."+b.property.name.toLowerCase()):b.object&&b.object.name&&b.property&&"Literal"===b.property.type&&"string"===typeof b.property.value&&e.push(b.object.name.toLowerCase()+"."+(null===(p=b.property.value)||void 0===p?void 0:p.toString().toLowerCase()));return!1});return e};x.extractFunctionDeclaration=function(m,e){var b=[];if(void 0!==e.params&&
null!==e.params)for(var p=0;p<e.params.length;p++)b.push("any");return{name:m,return:"any",params:b}};x.findFunctionCalls=g;x.findScriptDependencies=function(m,e){void 0===e&&(e=[]);var b=null;if(void 0===m.usesFeatureSet){null===b&&(b=g(m));m.usesFeatureSet=!1;for(var p=0;p<b.length;p++)k.includes(b[p])&&(m.usesFeatureSet=!0,m.isAsync=!0);if(!1===m.usesFeatureSet&&e&&0<e.length)for(p=0;p<e.length;p++)if(n(m,e[p])){m.usesFeatureSet=!0;m.isAsync=!0;break}}void 0===m.usesModules&&(m.usesModules=!1,
0<f(m).length&&(m.usesModules=!0));if(void 0===m.usesGeometry)for(m.usesGeometry=!1,null===b&&(b=g(m)),p=0;p<b.length;p++)l.includes(b[p])&&(m.usesGeometry=!0)};x.scriptUsesFeatureSet=function(m){m=g(m);for(var e=0;e<m.length;e++)if(k.includes(m[e]))return!0;return!1}})},"esri/arcade/functions/array":function(){define("require exports ../polyfill/tsSupport/awaiter ../polyfill/tsSupport/generator ../polyfill/tsSupport/assign ../polyfill/tsSupport/spreadarray ../executionError ../ImmutableArray ../languageUtils ../polyfill/promiseUtils".split(" "),
function(G,x,c,r,h,w,q,n,f,g){Object.defineProperty(x,"__esModule",{value:!0});x.registerFunctions=void 0;x.registerFunctions=function(a){function d(b,p,t){if(b instanceof n)return b.toArray();if(f.isArray(b))return b;throw new q.ArcadeExecutionError(p,q.ExecutionErrorCodes.InvalidParametern t}function l(b,p){return c(this,void 0,void 0,function(){var t,z,C,y;return r(this,function(D){switch(D.label){case 0:return t=b.length,z=Math.floor(t/2),0===t?[2,[]]:1===t?[2,[b[0]]]:[4,l(b.slice(0,z),p)];case 1:return y=[D.sent()],[4,l(b.slice(z,t),p)];case 2:return C=y.concat([D.sent()]),[2,m(C[0],C[1],p,[])]}})})}function m(b,p,t,z){return c(this,
void 0,void 0,function(){var C,y;return r(this,function(D){switch(D.label){case 0:return C=z,0<b.length||0<p.length?0<b.length&&0<p.length?[4,t(b[0],p[0])]:[3,2]:[3,4];case 1:return y=D.sent(),isNaN(y)&&(y=1),0>=y?(C.push(b[0]),b=b.slice(1)):(C.push(p[0]),p=p.slice(1)),[2,m(b,p,t,z)];case 2:if(0<b.length)return C.push(b[0]),b=b.slice(1),[2,m(b,p,t,z)];if(0<p.length)return C.push(p[0]),p=p.slice(1),[2,m(b,p,t,z)];D.label=3;case 3:return[3,5];case 4:return[2,z];case 5:return[2]}})})}function e(b,p,
t,z){f.pcCheck(t,1,2,b,p);var C=t[0];f.isImmutableArray(C)&&(C=C.toArray());if(!1===f.isArray(C))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);if(1<t.length){if(!1===f.isFunctionParameter(t[1]))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);var y=C,D=t[1].createFunction(b);return z?l(y,D):B,u)})}b=C;if(0===b.length)return[];t={};for(z=0;z<b.length;z++)p=f.getType(b[z]),""!==p&&(t[p]=!0);if(!0===t.Array||!0===
t.Dictionary||!0===t.Feature||!0===t.Point||!0===t.Polygon||!0===t.Polyline||!0===t.Multipoint||!0===t.Extent||!0===t.Function)return b.slice(0);z=0;p="";for(y in t)z++,p=y;return b=1<z||"String"===?0:1}):"Number"===p?k(b,function(B,u){return B-u}):"Boolean"===-1:1}):"Date"=== u-B}):b.slice(0)}a.functions.array=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,1,2,b,p);t=f.toNumber(C[0]);if(isNaN(t)||!1===f.isInteger(t))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);C=f.defaultUndefined(C[1],null);t=Array(t);t.fill(C);return t})};a.functions.front=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,1,1,b,p);if(f.isImmutableArray(C[0])){if(0>=
C[0].length())throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);return C[0].get(0)}if(f.isArray(C[0])){if(0>=C[0].length)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);return C[0][0]}throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);})};a.functions.back=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,1,1,b,p);if(f.isImmutableArray(C[0])){if(0>=C[0].length())throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,
p);return C[0].get(C[0].length()-1)}if(f.isArray(C[0])){if(0>=C[0].length)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);return C[0][C[0].length-1]}throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);})};a.functions.push=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,1,2,b,p);if(f.isArray(C[0]))return C[0][C[0].length]=C[1],C[0].length;throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);})};a.functions.pop=
function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,1,1,b,p);if(f.isArray(C[0])){if(0>=C[0].length)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);t=C[0][C[0].length-1];--C[0].length;return t}throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);})};a.functions.erase=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,2,b,p);if(f.isArray(C[0])){t=f.toNumber(C[1]);if(isNaN(t)||!1===f.isInteger(t))throw new q.ArcadeExecutionError(b,
q.ExecutionErrorCodes.InvalidParameter,p);C=C[0];if(0>=C.length)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);0>t&&(t=C.length+t);if(0>t)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);if(t>=C.length)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);C.splice(t,1);return f.voidOperation}throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);})};a.functions.insert=function(b,p){return a.standardFunction(b,
p,function(t,z,C){f.pcCheck(C,3,3,b,p);if(f.isArray(C[0])){t=f.toNumber(C[1]);if(isNaN(t)||!1===f.isInteger(t))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);z=C[2];C=C[0];if(t>C.length)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);if(0>t&&t<-1*C.length)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.OutOfBounds,p);if(t===C.length)return C[t]=z,f.voidOperation;C.splice(t,0,z);return f.voidOperation}throw new q.ArcadeExecutionError(b,
q.ExecutionErrorCodes.InvalidParameter,p);})};a.functions.resize=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,3,b,p);if(f.isArray(C[0])){z=f.toNumber(C[1]);if(isNaN(z)||!1===f.isInteger(z))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);if(0>z)throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);t=f.defaultUndefined(C[2],null);C=C[0];if(C.length>=z)return C.length=z,f.voidOperation;var y=C.length;C.length=z;for(z=y;z<
C.length;z++)C[z]=t;return f.voidOperation}throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);})};a.functions.includes=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,2,b,p);if(f.isArray(C[0])){var y=C[1];t=C[0];return-1<t.findIndex(function(B){return f.equalityTest(B,y)})?!0:!1}if(f.isImmutableArray(C[0])){var D=C[1];t=C[0].toArray();return-1<t.findB,D)})?!0:!1}throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,
p);})};a.functions.slice=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,1,3,b,p);if(f.isArray(C[0])){t=f.toNumber(f.defaultUndefined(C[1],0));z=f.toNumber(f.defaultUndefined(C[2],C[0].length));if(isNaN(t)||!1===f.isInteger(t))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);if(isNaN(z)||!1===f.isInteger(z))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);var y=C[0];return y.slice(t,z)}if(f.isImmutableArray(C[0])){y=C[0];
t=f.toNumber(f.defaultUndefined(C[1],0));z=f.toNumber(f.defaultUndefined(C[2],y.length()));if(isNaN(t)||!1===f.isInteger(t))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);if(isNaN(z)||!1===f.isInteger(z))throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);return y.toArray().slice(t,z)}throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,p);})};a.functions.splice=function(b,p){return a.standardFunctiorn t})};a.functions.top=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,2,b,p);if(f.isArray(C[0]))return f.toNumber(C[1])>=C[0].length?C[0].slice(0):C[0].slice(0,f.toNumber(C[1]));if(f.isImmutableArray(C[0]))return f.toNumber(C[1])>=C[0].length()?C[0].slice(0):C[0].slice(0,f.toNumber(C[1]));throw new q.ArcadeExecutionError(b,q.ExecutionErrorCodes.InvalidParameter,
p);})};a.functions.first=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,1,1,b,p);return f.isArray(C[0])?0===C[0].length?null:C[0][0]:f.isImmutableArray(C[0])?0===C[0].length()?null:C[0].get(0):null})};"sync"===a.mode&&(a.functions.sort=function(b,p){return a.standardFunction(b,p,function(t,z,C){return e(b,p,C,!1)})},a.functions.any=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,2,b,p);t=C[1].createFunction(b);z=0;for(C=d(C[0],b,p);z<C.length;z++){var y=
t(C[z]);if(f.isBoolean(y)&&!0===y)return!0}return!1})},a.functions.all=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,2,b,p);t=C[1].createFunction(b);z=0;for(C=d(C[0],b,p);z<C.length;z++)if(!0!==t(C[z]))return!1;return!0})},a.functions.none=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,2,b,p);t=C[1].createFunction(b);z=0;for(C=d(C[0],b,p);z<C.length;z++)if(!0===t(C[z]))return!1;return!0})},a.functions.reduce=function(b,p){return a.standardFunction(b,
p,function(t,z,C){f.pcCheck(C,2,3,b,p);var y=C[1].createFunction(b);t=d(C[0],b,p);return 2===C.length?0===t.length?null:t.reduce(function(D,B){D=y(D,B);return D=void 0!==D&&D!==f.voidOperation?D:null}):t.reduce(function(D,B){D=y(D,B);return D=void 0!==D&&D!==f.voidOperation?D:null},C[2])})},a.functions.map=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,2,b,p);t=C[1].createFunction(b);z=[];var y=0;for(C=d(C[0],b,p);y<C.length;y++){var D=t(C[y]);void 0!==D&&D!==f.voidOperation?
z.push(D):z.push(null)}return z})},a.functions.filter=function(b,p){return a.standardFunction(b,p,function(t,z,C){f.pcCheck(C,2,2,b,p);t=C[1].createFunction(b);z=[];var y=0;for(C=d(C[0],b,p);y<C.length;y++){var D=C[y];!0===t(D)&&z.push(D)}return z})});"async"===a.mode&&(a.functions.sort=function(b,p){return a.standardFunctionAsyn,!0)})},a.functions.any=function(b,p){var t=this;return a.standardFunctionAsync(b,p,function(z,C,y){return c(t,void 0,void 0,function(){var D,
B,u,E,v,A,F;return r(this,function(I){switch(I.label){case 0:f.pcCheck(y,2,2,b,p),D=y[1].createFunction(b),B=d(y[0],b,p),u=0,E=B,I.label=1;case 1:if(!(u<E.length))return[3,7];v=E[u];return[4,D(v)];case 2:return A=I.sent(),F=null,g.isPromiseLike(F)?[4,A]:[3,4];case 3:return F=I.sent(),[3,5];case 4:F=A,I.label=5;case 5:if(f.isBoolean(F)&&!0===F)return[2,!0];I.label=6;case 6:return u++,[3,1];case 7:return[2,!1]}})})})},a.functions.all=function(b,p){var t=this;return a.standardFunctionAsync(b,p,function(z,
C,y){return c(t,void 0,void 0,function(){var D,B,u,E,v,A,F;return r(this,function(I){switch(I.label){case 0:f.pcCheck(y,2,2,b,p),D=y[1].createFunction(b),B=d(y[0],b,p),u=0,E=B,I.label=1;case 1:if(!(u<E.length))return[3,7];v=E[u];return[4,D(v)];case 2:return A=I.sent(),F=null,g.isPromiseLike(F)?[4,A]:[3,4];case 3:return F=I.sent(),[3,5];case 4:F=A,I.label=5;case 5:if(!0!==F)return[2,!1];I.label=6;case 6:return u++,[3,1];case 7:return[2,!0]}})})})},a.functions.none=function(b,p){var t=this;return a.standardFunctionAsync(b,
p,function(z,C,y){return c(t,void 0,void 0,function(){var D,B,u,E,v,A,F;return r(this,function(I){switch(I.label){case 0:f.pcCheck(y,2,2,b,p),D=y[1].createFunction(b),B=d(y[0],b,p),u=0,E=B,I.label=1;case 1:if(!(u<E.length))return[3,7];v=E[u];return[4,D(v)];case 2:return A=I.sent(),F=null,g.isPromiseLike(F)?[4,A]:[3,4];case 3:return F=I.sent(),[3,5];case 4:F=A,I.label=5;case 5:if(!0===F)return[2,!1];I.label=6;case 6:return u++,[3,1];case 7:return[2,!0]}})})})},a.functions.filter=function(b,p){var t=
this;return a.standardFunctionAsync(b,p,function(z,C,y){return c(t,void 0,void 0,function(){var D,B,u,E,v,A,F,I;return r(this,function(N){switch(N.label){case 0:f.pcCheck(y,2,2,b,p),D=y[1].createFunction(b),B=d(y[0],b,p),u=[],E=0,v=B,N.label=1;case 1:if(!(E<v.length))return[3,7];A=v[E];return[4,D(A)];case 2:return F=N.sent(),I=null,g.isPromiseLike(I)?[4,F]:[3,4];case 3:return I=N.sent(),[3,5];case 4:I=F,N.label=5;case 5:!0===I&&u.push(A),N.label=6;case 6:return E++,[3,1];case 7:return[2,u]}})})})},
a.functions.reduce=function(b,p){var t=this;return a.standardFunctionAsync(b,p,function(z,C,y){f.pcCheck(y,2,3,b,p);var D=y[1].createFunction(b);z=d(y[0],b,p);C=null;if(2<y.length)y=f.defaultUndefined(y[2],null),C=z.reduce(function(B,u){return c(t,void 0,void 0,function(){var E;return r(this,function(v){switch(v.label){case 0:return[4,B];case 1:E=v.sent();if(void 0===E||E===f.voidOperation)E=null;return[2,D(E,u)]}})})},Promise.resolve(y));else{if(0===z.length)return null;C=z.reduce(function(B,u,E){return c(t,
void 0,void 0,function(){var v;return r(this,function(A){switch(A.label){case 0:return 1>=E?[2,D(B,u)]:[4,B];case 1:v=A.sent();if(void 0===v||v===f.voidOperation)v=null;return[2,D(v,u)]}})})})}return C.then(function(B){return void 0!==B&&B!==f.voidOperation?B:null})})},a.functions.map=function(b,p){var t=this;return a.standardFunctionAsync(b,p,function(z,C,y){return c(t,void 0,void 0,function(){var D,B,u,E,v,A,F,I;return r(this,function(N){switch(N.label){case 0:f.pcCheck(y,2,2,b,p),D=y[1].createFunction(b),
B=d(y[0],b,p),u=[],E=0,v=B,N.label=1;case 1:if(!(E<v.length))return[3,7];A=v[E];return[4,D(A)];case 2:return F=N.sent(),I=null,g.isPromiseLike(I)?[4,F]:[3,4];case 3:return I=N.sent(),[3,5];case 4:I=F,N.label=5;case 5:void 0!==I&&I!==f.voidOperation?u.push(I):u.push(null),N.label=6;case 6:return E++,[3,1];case 7:return[2,u]}})})})})}})},"esri/arcade/functions/date":function(){define("require exports ../ArcadeDate ../languageUtils ../executionError ../../libs/luxon/luxon dojo/_base/kernel".split(" "),
function(G,x,c,r,h,w,q){function n(d){return null===d?d:!1===d.isValid?null:d}function f(d,k){return""===d||"default"===d.toLowerCase().trim()?r.defaultTimeZone(k):d}Object.defineProperty(x,"__esModule",{value:!0});x.registerFunctions=void 0;var g=[0,31,59,90,120,151,181,212,243,273,304,334],a=[0,31,60,91,121,152,182,213,244,274,305,335];x.registerFunctions=function(d,k){d.today=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,0,0,l,m);e=new Date;e.setHours(0,0,0,0);return c.ArcadeDate.dateJSAndZoneToArcadeDate(e,
r.defaultTimeZone(l))})};d.changetimezone=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,2,2,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));if(null===e)return null;p=c.ArcadeDate.arcadeDateAndZoneToArcadeDate(e,f(r.toString(p[1]),l));return!1===p.isValid?null:p})};d.timezone=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,2,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));if(null===e)return null;e=e.timeZone;return"system"===e?c.ArcadeDate.systemTimeZoneCanonicalName:e})};d.timezoneoffset=
function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?null:e.timeZoneOffset})};d.now=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,0,0,l,m);e=c.ArcadeDate.nowToArcadeDate(r.defaultTimeZone(l));return!1===e.isValid?null:e})};d.timestamp=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,0,0,l,m);e=c.ArcadeDate.nowUTCToArcadeDate();return!1===e.isValid?null:e})};d.toutc=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,
1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?null:e.toUTC()})};d.tolocal=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?null:e.toLocal()})};d.day=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.day})};d.month=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.monthJS})};
d.year=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.year})};d.hour=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.hour})};d.second=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.second})};d.millisecond=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=
r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.millisecond})};d.minute=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.minute})};d.week=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,2,l,m);b=r.toDate(p[0],r.defaultTimeZone(l));if(null===b)return NaN;p=r.toNumber(r.defaultUndefined(p[1],0));if(0>p||6<p)throw new h.ArcadeExecutionError(l,h.ExecutionErrorCodes.InvalidParameter,m);e=b.dayOfWeekJS;var t=b.year;
b=b.day+(0!==t%4||0===t%100&&0!==t%400?g:a)[b.monthJS]-1;t=Math.floor(b/7);return e-p+(0>e-p?7:0)<b-7*t?t+1:t})};d.weekday=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.dayOfWeekJS})};d.isoweekday=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.dayOfWeekISO})};d.isomonth=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],
r.defaultTimeZone(l));return null===e?NaN:e.monthISO})};d.isoweek=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.weekISO})};d.isoyear=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,1,1,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));return null===e?NaN:e.yearISO})};d.date=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,0,8,l,m);if(3===p.length)return n(c.ArcadeDate.fromParts(r.toNumber(p[0]),r.toNumber(p[1])+1,
r.toNumber(p[2]),0,0,0,0,r.defaultTimeZone(l)));if(4===p.length)return n(c.ArcadeDate.fromParts(r.toNumber(p[0]),r.toNumber(p[1])+1,r.toNumber(p[2]),r.toNumber(p[3]),0,0,0,r.defaultTimeZone(l)));if(5===p.length)return n(c.ArcadeDate.fromParts(r.toNumber(p[0]),r.toNumber(p[1])+1,r.toNumber(p[2]),r.toNumber(p[3]),r.toNumber(p[4]),0,0,r.defaultTimeZone(l)));if(6===p.length)return n(c.ArcadeDate.fromParts(r.toNumber(p[0]),r.toNumber(p[1])+1,r.toNumber(p[2]),r.toNumber(p[3]),r.toNumber(p[4]),r.toNumber(p[5]),
0,r.defaultTimeZone(l)));if(7===p.length)return n(c.ArcadeDate.fromParts(r.toNumber(p[0]),r.toNumber(p[1])+1,r.toNumber(p[2]),r.toNumber(p[3]),r.toNumber(p[4]),r.toNumber(p[5]),r.toNumber(p[6]),r.defaultTimeZone(l)));if(8===p.length)return n(c.ArcadeDate.fromParts(r.toNumber(p[0]),r.toNumber(p[1])+1,r.toNumber(p[2]),r.toNumber(p[3]),r.toNumber(p[4]),r.toNumber(p[5]),r.toNumber(p[6]),f(r.toString(p[7]),l)));if(2===p.length){e=r.toString(p[1]);if(""===e)return null;e=r.standardiseDateFormat(e);b=void 0;
b="X"===e?w.DateTime.fromSeconds(r.toNumber(p[0])):"x"===e?w.DateTime.fromMillis(r.toNumber(p[0])):w.DateTime.fromFormat(r.toString(p[0]),e,{locale:q.locale,numberingSystem:"latn"});return b.isValid?c.ArcadeDate.dateTimeToArcadeDate(b):null}if(1===p.length){if(r.isString(p[0])){if(""===p[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(p[0]))return r.toDate(p[0]+"-01-01",r.defaultTimeZone(l))}e=r.toNumber(p[0]);return!1===isNaN(e)?(b=w.DateTime.fromMillis(e),
b.isValid?c.ArcadeDate.dateTimeAndZoneToArcadeDate(b,r.defaultTimeZone(l)):null):r.toDate(p[0],r.defaultTimeZone(l))}return 0===p.length?c.ArcadeDate.nowToArcadeDate(r.defaultTimeZone(l)):null})};d.datediff=function(l,m){return k(l,m,function(e,b,p){r.pcCheck(p,2,4,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));b=r.toDate(p[1],r.defaultTimeZone(l));if(null===e||null===b)return NaN;var t=r.defaultUndefined(p[3],"");""!==t&&null!==t?(t=r.toString(t),e=c.ArcadeDate.arcadeDateAndZoneToArcadeDate(e,t),b=c.ArcadeDate.arcadeDateAndZoneToArcadeDate(b,
t)):e.timeZone!==b.timeZone&&(e.isUnknownTimeZone?e=c.ArcadeDate.arcadeDateAndZoneToArcadeDate(e,b.timeZone):b=c.ArcadeDate.arcadeDateAndZoneToArcadeDate(b,e.timeZone));switch(r.toString(p[2]).toLowerCase()){case "days":case "day":case "d":return e.diff(b,"days");case "months":case "month":return e.diff(b,"months");case "minutes":case "minute":case "m":return"M"===p[2]?e.diff(b,"months"):e.diff(b,"minutes");case "seconds":case "second":case "s":return e.diff(b,"seconds");case "milliseconds":case "millisecond":case "ms":return e.diff(b);
case "hours":case "hour":case "h":return e.diff(b,"hours");case "years":case "year":case "y":return e.diff(b,"years");default:return e.diff(b)}})};d.dateadd=function(l,m){return k(l,m,function(e,b,p){var t;r.pcCheck(p,2,3,l,m);e=r.toDate(p[0],r.defaultTimeZone(l));if(null===e)return null;b=r.toNumber(p[1]);if(isNaN(b))return e;var z="milliseconds";switch(r.toString(p[2]).toLowerCase()){case "days":case "day":case "d":z="days";b=r.absRound(b);break;case "months":case "month":z="months";b=r.absRound(b);
break;case "minutes":case "minute":case "m":z="M"===p[2]?"months":"minutes";break;case "seconds":case "second":case "s":z="seconds";break;case "milliseconds":case "millisecond":case "ms":z="milliseconds";break;case "hours":case "hour":case "h":z="hours";break;case "years":case "year":case "y":z="years"}return e.plus((t={},t[z]=b,t))})}}})},"esri/arcade/functions/geometry":function(){define("require exports ../polyfill/tsSupport/assign ../polyfill/tsSupport/spreadarray ../Dictionary ../Feature ../ImmutablePointArray ../languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/jsonUtils ../executionError ../ImmutablePathArray".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,elass}function z(y,D,B,u,E){void 0===E&&(E=1);D=D.toLowerCase();switch(D){case "hasz":return y=y.hasZ,void 0===y?!1:y;case "hasm":return y=y.hasM,void 0===y?!1:y;case "spatialreference":return D=y.spatialReference._arcadeCacheId,void 0===D&&(B=!0,Object.freeze&&Object.isFrozen(y.spatialReference)&&(B=!1),B&&(C++,D=y.spatialReference._arcadeCacheId=C)),y=new h({wkt:y.spatialReference.wkt,wkid:y.spatialReference.wkid}),
void 0!==D&&(y._arcadeCacheId="SPREF"+D.toString()),y}switch(y.type){case "extent":switch(D){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return y=y[D],void 0!==y?y:null;case "type":return"Extent"}break;case "polygon":switch(D){case "rings":return D=y.getCacheValue("_arcadeCacheId"),void 0===D&&(C++,D=C,y.setCacheValue("_arcadeCacheId",D)),y=new p(y.rings,y.spatialReference,!0===y.hasZ,!0===y.hasM,D);case "type":return"Polygon"}break;case "point":switch(D){case "x":case "y":case "z":case "m":return void 0!==
y[D]?y[D]:null;case "type":return"Point"}break;case "polyline":switch(D){case "paths":return D=y.getCacheValue("_arcadeCacheId"),void 0===D&&(C++,D=C,y.setCacheValue("_arcadeCacheId",D)),y=new p(y.paths,y.spatialReference,!0===y.hasZ,!0===y.hasM,D);case "type":return"Polyline"}break;case "multipoint":switch(D){case "points":return D=y.getCacheValue("_arcadeCacheId"),void 0===D&&(C++,D=C,y.setCacheValue("_arcadeCacheId",D)),y=new q(y.points,y.spatialReference,!0===y.hasZ,!0===y.hasM,D,1);case "type":return"Multipoint"}}if(1===
E)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidIdentifier,u);return 2===E?{keystate:"notfound"}:null}Object.defineProperty(x,"__esModule",{value:!0});x.geometryMember=x.registerFunctions=void 0;x.registerFunctions=function(y,D){y.ringisclockwise=function(B,u){return D(B,u,function(E,v,A){n.pcCheck(A,1,1,B,u);E=[];if(null===A[0])return!1;if(n.isArray(A[0])){var F=0;for(A=A[0];F<A.length;F++)if(v=A[F],v instanceof d)E.push([v.x,v.y]);else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,
u);}else if(A[0]instanceof q)E=A[0]._elements;else if(n.isImmutableArray(A[0])){F=0;for(var I=A[0].toArray();F<I.length;F++)if(v=I[F],v instanceof d)E.push([v.x,v.y]);else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);0<E.length&&(A[0].get(0),A[0].get(0))}else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);return 3>E.length?!1:(new k({rings:[],spatialReference:{wkid:4326}})).isClockwise(E)})};y.polygon=function(B,u){return D(B,u,function(E,
v,A){n.pcCheck(A,1,1,B,u);E=null;if(A[0]instanceof h){if(E=n.fixSpatialReference(w.parseGeometryFromDictionary(A[0]),B.spatialReference),!1===E instanceof k)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);}else E=A[0]instanceof k?e.fromJson(A[0].toJson()):n.fixSpatialReference(new k(JSON.parse(A[0])),B.spatialReference);if(null!==E&&!1===E.spatialReference.equals(B.spatialReference))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongSpatialReference,u);return n.fixNullGeometry(E)})};
y.polyline=function(B,u){return D(B,u,function(E,v,A){n.pcCheck(A,1,1,B,u);E=null;if(A[0]instanceof h){if(E=n.fixSpatialReference(w.parseGeometryFromDictionary(A[0]),B.spatialReference),!1===E instanceof l)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);}else E=A[0]instanceof l?e.fromJson(A[0].toJson()):n.fixSpatialReference(new l(JSON.parse(A[0])),B.spatialReference);if(null!==E&&!1===E.spatialReference.equals(B.spatialReference))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongSpatialReference,
u);return n.fixNullGeometry(E)})};y.point=function(B,u){return D(B,u,function(E,v,A){n.pcCheck(A,1,1,B,u);E=null;if(A[0]instanceof h){if(E=n.fixSpatialReference(w.parseGeometryFromDictionary(A[0]),B.spatialReference),!1===E instanceof d)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);}else E=A[0]instanceof d?e.fromJson(A[0].toJson()):n.fixSpatialReference(new d(JSON.parse(A[0])),B.spatialReference);if(null!==E&&!1===E.spatialReference.equals(B.spatialReference))throw new b.ArcadeExecutionError(B,
b.ExecutionErrorCodes.WrongSpatialReference,u);return n.fixNullGeometry(E)})};y.multipoint=function(B,u){return D(B,u,function(E,v,A){n.pcCheck(A,1,1,B,u);E=null;if(A[0]instanceof h){if(E=n.fixSpatialReference(w.parseGeometryFromDictionary(A[0]),B.spatialReference),!1===E instanceof a)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);}else E=A[0]instanceof a?e.fromJson(A[0].toJson()):n.fixSpatialReference(new a(JSON.parse(A[0])),B.spatialReference);if(null!==E&&!1===E.spatialReference.equals(B.spatialReference))throw new b.ArcadeExecutionError(B,
b.ExecutionErrorCodes.WrongSpatialReference,u);return n.fixNullGeometry(E)})};y.extent=function(B,u){return D(B,u,function(E,v,A){A=n.autoCastFeatureToGeometry(A);n.pcCheck(A,1,1,B,u);E=null;A[0]instanceof h?E=n.fixSpatialReference(w.parseGeometryFromDictionary(A[0]),B.spatialReference):A[0]instanceof d?(E={xmin:A[0].x,ymin:A[0].y,xmax:A[0].x,ymax:A[0].y,spatialReference:A[0].spatialReference.toJson()},A=A[0],A.hasZ?(E.zmin=A.z,E.zmax=A.z):A.hasM&&(E.mmin=A.m,E.mmax=A.m),E=e.fromJson(E)):E=A[0]instanceof
k?e.fromJson(A[0].getExtent().toJson()):A[0]instanceof l?e.fromJson(A[0].getExtent().toJson()):A[0]instanceof a?e.fromJson(A[0].getExtent().toJson()):A[0]instanceof f?e.fromJson(A[0].toJson()):n.fixSpatialReference(new f(JSON.parse(A[0])),B.spatialReference);if(null!==E&&!1===E.spatialReference.equals(B.spatialReference))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongSpatialReference,u);return n.fixNullGeometry(E)})};y.geometry=function(B,u){return D(B,u,function(E,v,A){n.pcCheck(A,
1,1,B,u);E=null;if(null===A[0])return null;E=t(A[0])?n.fixSpatialReference(A[0].geometry(),B.spatialReference):A[0]instanceof h?n.fixSpatialReference(w.parseGeometryFromDictionary(A[0]),B.spatialReference):n.fixSpatialReference(e.fromJson(JSON.parse(A[0])),B.spatialReference);if(null!==E&&!1===E.spatialReference.equals(B.spatialReference))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongSpatialReference,u);return n.fixNullGeometry(E)})};y.setgeometry=function(B,u){return D(B,u,function(E,
v,A){n.pcCheck(A,2,2,B,u);if(t(A[0])){if(!0===A[0].immutable)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.Immutable,u);if(A[1]instanceof g||null===A[1])A[0]._geometry=A[1];else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);}else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);return n.voidOperation})};y.feature=function(B,u){return D(B,u,function(E,v,A){if(0===A.length)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongNumberOfParameters,
u);E=null;if(1===A.length)if(n.isString(A[0]))E=w.fromJson(JSON.parse(A[0]),B.timeReference);else if(t(A[0]))E=w.createFromArcadeFeature(A[0]);else if(A[0]instanceof g)E=w.createFromGraphicLikeObject(A[0],null,null,B.timeReference);else if(A[0]instanceof h)E=A[0].hasField("geometry")?A[0].field("geometry"):null,v=A[0].hasField("attributes")?A[0].field("attributes"):null,null!==E&&E instanceof h&&(E=w.parseGeometryFromDictionary(E)),null!==v&&(v=w.parseAttributesFromDictionary(v)),E=w.createFromGraphicLikeObject(E,
v,null,B.timeReference);else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);else{if(2===A.length){v=E=null;if(null!==A[0])if(A[0]instanceof g)E=A[0];else if(E instanceof h)E=w.parseGeometryFromDictionary(A[0]);else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);if(null!==A[1])if(A[1]instanceof h)v=w.parseAttributesFromDictionary(A[1]);else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);}else{E=null;v={};if(null!==
A[0])if(A[0]instanceof g)E=A[0];else if(E instanceof h)E=w.parseGeometryFromDictionary(A[0]);else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);for(var F=1;F<A.length;F+=2){var I=n.toString(A[F]),N=A[F+1];if(null===N||void 0===N||n.isString(N)||isNaN(N)||n.isDate(N)||n.isNumber(N)||n.isBoolean(N)){if(n.isFunctionParameter(N)||!1===n.isSimpleType(N))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);v[I]=N===n.voidOperation?null:N}else throw new b.ArcadeExecutionError(B,
b.ExecutionErrorCodes.InvalidParameter,u);}}E=w.createFromGraphicLikeObject(E,v,null,B.timeReference)}E._geometry=n.fixSpatialReference(E.geometry(),B.spatialReference);E.immutable=!1;return E})};y.dictionary=function(B,u){return D(B,u,function(E,v,A){if(0===A.length)return A=new h,A.immutable=!1,A;if(1===A.length&&n.isString(A[0]))try{var F=JSON.parse(A[0]),I=h.convertObjectToArcadeDictionary(F,n.defaultTimeZone(B),!1);I.immutable=!1;return I}catch(N){throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,
u);}if(0!==A.length%2)throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.WrongNumberOfParameters,u);E={};for(v=0;v<A.length;v+=2)if(F=n.toString(A[v]),I=A[v+1],null===I||void 0===I||n.isString(I)||isNaN(I)||n.isDate(I)||n.isNumber(I)||n.isBoolean(I)||n.isArray(I)||n.isImmutableArray(I)){if(n.isFunctionParameter(I))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);E[F]=I===n.voidOperation?null:I}else throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,
u);A=new h(E);A.immutable=!1;return A})};y.haskey=function(B,u){return D(B,u,function(E,v,A){n.pcCheck(A,2,2,B,u);E=n.toString(A[1]);if(t(A[0])||A[0]instanceof h)return A[0].hasField(E);if(A[0]instanceof g)return(A=z(A[0],E,null,null,2))&&"notfound"===A.keystate?!1:!0;throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);})};y.hasvalue=function(B,u){return D(B,u,function(E,v,A){n.pcCheck(A,2,2,B,u);if(null===A[0]||null===A[1])return!1;E=n.toString(A[1]);return n.isFeature(A[0])||
A[0]instanceof h?A[0].hasField(E)&&null!==A[0].field(E)?!0:!1:A[0]instanceof g?null===z(A[0],E,null,null,0)?!1:!0:!1})};y.indexof=function(B,u){return D(B,u,function(E,v,A){n.pcCheck(A,2,2,B,u);E=A[1];if(n.isArray(A[0])){for(v=0;v<A[0].length;v++)if(n.equalityTest(E,A[0][v]))return v;return-1}if(n.isImmutableArray(A[0])){var F=A[0].length();for(v=0;v<F;v++)if(n.equalityTest(E,A[0].get(v)))return v;return-1}throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);})};y.angle=function(B,
u){return D(B,u,function(E,v,A){A=n.autoCastFeatureToGeometry(A);n.pcCheck(A,2,3,B,u);if(!(A[0]instanceof d))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);if(!(A[1]instanceof d))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);if(2<A.length&&!(A[2]instanceof d))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);return 2===A.length?m.angle2D(A[0],A[1]):m.angleBetween2D(A[0],A[1],A[2])})};y.bearing=function(B,u){return D(B,
u,function(E,v,A){A=n.autoCastFeatureToGeometry(A);n.pcCheck(A,2,3,B,u);if(!(A[0]instanceof d))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);if(!(A[1]instanceof d))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);if(2<A.length&&!(A[2]instanceof d))throw new b.ArcadeExecutionError(B,b.ExecutionErrorCodes.InvalidParameter,u);return 2===A.length?m.bearing2D(A[0],A[1]):m.bearingBetween2D(A[0],A[1],A[2])})};y.isselfintersecting=function(B,u){return D(B,
u,function(E,v,A){A=n.autoCastFeatureToGeometry(A);n.pcCheck(A,1,1,B,u);E=A[0];if(E instanceof k)return E.isSelfIntersecting(E);if(E instanceof l)return E=E.paths,m.pathsSelfIntersecting(E);if(E instanceof a)for(v=E.points,A=0;A<v.length;A++)for(var F=0;F<v.length;F++)if(F!==A){for(var I=!0,N=0;N<v[A].length;N++)if(v[A][N]!==v[F][N]){I=!1;break}if(!0===I)return!0}return n.isArray(E)||n.isImmutableArray(E)?(E=n.autoCastArrayOfPointsToPolyline(E,B.spatialReference),null!==E&&(E=E.paths),m.pathsSelfIntersecting(E)):
!1})}};var C=0;x.geometryMember=z})},"esri/arcade/functions/cent1}})},"esri/arcade/functions/geomsync":function(){define("require exports ../../kernel ../kernel ../languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/jsonUtils ../executionError".split(" "),function(G,x,c,r,h,w,q,n,f,g,a,d]]})}Object.defineProperty(x,"__esModule",{value:!0});x.registerFunctions=x.setGeometryEngine=void 0;var e=null;x.setGeometryEngine=function(b){e=b};x.registerFunctions=function(b,p){function t(z,C,y){h.pcCheck(y,2,2,z,C);if(!(y[0]instanceof n&&y[1]instanceof n||y[0]instanceof n&&null===y[1]||y[1]instanceof n&&null===y[0]||null===y[0]&&null===y[1]))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);}b.disjoint=
function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null===B[0]||null===B[1]?!0:e.disjoint(B[0],B[1])})};b.intersects=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null===B[0]||null===B[1]?!1:e.intersects(B[0],B[1])})};b.touches=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null===B[0]||null===B[1]?!1:e.touches(B[0],B[1])})};b.crosses=function(z,C){return p(z,C,function(y,
D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null===B[0]||null===B[1]?!1:e.crosses(B[0],B[1])})};b.within=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null===B[0]||null===B[1]?!1:e.within(B[0],B[1])})};b.contains=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null===B[0]||null===B[1]?!1:e.contains(B[0],B[1])})};b.overlaps=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);
t(z,C,B);return null===B[0]||null===B[1]?!1:e.overlaps(B[0],B[1])})};b.equals=function(z,C){return p(z,C,function(y,D,B){h.pcCheck(B,2,2,z,C);return B[0]===B[1]?!0:B[0]instanceof n&&B[1]instanceof n?e.equals(B[0],B[1]):h.isDate(B[0])&&h.isDate(B[1])?B[0].equals(B[1]):!1})};b.relate=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,3,3,z,C);if(B[0]instanceof n&&B[1]instanceof n)return e.relate(B[0],B[1],h.toString(B[2]));if(B[0]instanceof n&&null===B[1]||B[1]instanceof
n&&null===B[0]||null===B[0]&&null===B[1])return!1;throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);})};b.intersection=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null===B[0]||null===B[1]?null:e.intersect(B[0],B[1])})};b.union=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);y=[];if(0===B.length)throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.WrongNumberOfParameters,C);if(1===B.length)if(h.isArray(B[0]))for(B=
h.autoCastFeatureToGeometry(B[0]),D=0;D<B.length;D++){if(null!==B[D]){if(!(B[D]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);y.push(B[D])}}else if(h.isImmutableArray(B[0]))for(B=h.autoCastFeatureToGeometry(B[0].toArray()),D=0;D<B.length;D++){if(null!==B[D]){if(!(B[D]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);y.push(B[D])}}else{if(B[0]instanceof n)return h.fixSpatialReference(r.cloneGeometry(B[0]),z.spatialReference);
if(null===B[0])return null;throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);}else for(D=0;D<B.length;D++)if(null!==B[D]){if(!(B[D]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);y.push(B[D])}return 0===y.length?null:e.union(y)})};b.difference=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null!==B[0]&&null===B[1]?r.cloneGeometry(B[0]):null===B[0]?null:e.difference(B[0],B[1])})};b.symmetricdifference=
function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);t(z,C,B);return null===B[0]&&null===B[1]?null:null===B[0]?r.cloneGeometry(B[1]):null===B[1]?r.cloneGeometry(B[0]):e.symmetricDifference(B[0],B[1])})};b.clip=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,2,z,C);if(!(B[1]instanceof q)&&null!==B[1])throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);if(null===B[0])return null;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,
l.ExecutionErrorCodes.InvalidParameter,C);return null===B[1]?null:e.clip(B[0],B[1])})};b.cut=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,2,z,C);if(!(B[1]instanceof d)&&null!==B[1])throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);if(null===B[0])return[];if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return null===B[1]?[r.cloneGeometry(B[0])]:e.cut(B[0],B[1])})};b.area=function(z,
C){return p(z,C,function(y,D,B){h.pcCheck(B,1,2,z,C);B=h.autoCastFeatureToGeometry(B);if(null===B[0])return 0;if(h.isArray(B[0])||h.isImmutableArray(B[0]))return y=h.autoCastArrayOfPointsToPolygon(B[0],z.spatialReference),null===y?0:e.planarArea(y,r.convertSquareUnitsToCode(h.defaultUndefined(B[1],-1)));if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.planarArea(B[0],r.convertSquareUnitsToCode(h.defaultUndefined(B[1],-1)))})};b.areageodetic=
function(z,C){return p(z,C,function(y,D,B){h.pcCheck(B,1,2,z,C);B=h.autoCastFeatureToGeometry(B);if(null===B[0])return 0;if(h.isArray(B[0])||h.isImmutableArray(B[0]))return y=h.autoCastArrayOfPointsToPolygon(B[0],z.spatialReference),null===y?0:e.geodesicArea(y,r.convertSquareUnitsToCode(h.defaultUndefined(B[1],-1)));if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.geodesicArea(B[0],r.convertSquareUnitsToCode(h.defaultUndefined(B[1],-1)))})};
b.length=function(z,C){return p(z,C,function(y,D,B){h.pcCheck(B,1,2,z,C);B=h.autoCastFeatureToGeometry(B);if(null===B[0])return 0;if(h.isArray(B[0])||h.isImmutableArray(B[0]))return y=h.autoCastArrayOfPointsToPolyline(B[0],z.spatialReference),null===y?0:e.planarLength(y,r.convertLinearUnitsToCode(h.defaultUndefined(B[1],-1)));if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.planarLength(B[0],r.convertLinearUnitsToCode(h.defaultUndefined(B[1],
-1)))})};b.length3d=function(z,C){return p(z,C,function(y,D,B){h.pcCheck(B,1,2,z,C);B=h.autoCastFeatureToGeometry(B);if(null===B[0])return 0;if(h.isArray(B[0])||h.isImmutableArray(B[0]))return y=h.autoCastArrayOfPointsToPolyline(B[0],z.spatialReference),null===y?0:e.planarLength(y,r.convertLinearUnitsToCode(h.defaultUndefined(B[1],-1)));if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.planarLength(B[0],r.convertLinearUnitsToCode(h.defaultUndefined(B[1],
-1)))})};b.lengthgeodetic=function(z,C){return p(z,C,function(y,D,B){h.pcCheck(B,1,2,z,C);B=h.autoCastFeatureToGeometry(B);if(null===B[0])return 0;if(h.isArray(B[0])||h.isImmutableArray(B[0]))return y=h.autoCastArrayOfPointsToPolyline(B[0],z.spatialReference),null===y?0:e.geodesicLength(y,r.convertLinearUnitsToCode(h.defaultUndefined(B[1],-1)));if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.geodesicLength(B[0],r.convertLinearUnitsToCode(h.defaultUndefined(B[1],
-1)))})};b.distance=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,3,z,C);y=B[0];if(h.isArray(B[0])||h.isImmutableArray(B[0]))y=h.autoCastArrayOfPointsToMultiPoint(B[0],z.spatialReference);D=B[1];if(h.isArray(B[1])||h.isImmutableArray(B[1]))D=h.autoCastArrayOfPointsToMultiPoint(B[1],z.spatialReference);if(!(y instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);if(!(D instanceof n))throw new l.ArcadeExecutionError(z,
l.ExecutionErrorCodes.InvalidParameter,C);return e.distance(y,D,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1)))})};b.distancegeodetic=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,3,z,C);y=B[0];D=B[1];if(!(y instanceof g))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);if(!(D instanceof g))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);var u=new d({paths:[],spatialReference:y.spatialReference});
u.addPath([y,D]);return e.geodesicLength(u,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1)))})};b.densify=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,3,z,C);if(null===B[0])return null;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);y=h.toNumber(B[1]);if(isNaN(y))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);if(0>=y)throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,
C);return B[0]instanceof a||B[0]instanceof d?e.densify(B[0],y,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1))):B[0]instanceof q?e.densify(m(B[0]),y,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1))):B[0]})};b.densifygeodetic=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,3,z,C);if(null===B[0])return null;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);y=h.toNumber(B[1]);if(isNaN(y))throw new l.ArcadeExecutionError(z,
l.ExecutionErrorCodes.InvalidParameter,C);if(0>=y)throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return B[0]instanceof a||B[0]instanceof d?e.geodesicDensify(B[0],y,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1))):B[0]instanceof q?e.geodesicDensify(m(B[0]),y,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1))):B[0]})};b.generalize=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,4,z,C);if(null===B[0])return null;if(!(B[0]instanceof
n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);y=h.toNumber(B[1]);if(isNaN(y))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.generalize(B[0],y,h.toBoolean(h.defaultUndefined(B[2],!0)),r.convertLinearUnitsToCode(h.defaultUndefined(B[3],-1)))})};b.buffer=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,3,z,C);if(null===B[0])return null;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,
l.ExecutionErrorCodes.InvalidParameter,C);y=h.toNumber(B[1]);if(isNaN(y))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return 0===y?r.cloneGeometry(B[0]):e.buffer(B[0],y,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1)))})};b.buffergeodetic=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,3,z,C);if(null===B[0])return null;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);
y=h.toNumber(B[1]);if(isNaN(y))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return 0===y?r.cloneGeometry(B[0]):e.geodesicBuffer(B[0],y,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1)))})};b.offset=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,6,z,C);if(null===B[0])return null;if(!(B[0]instanceof a||B[0]instanceof d))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);y=h.toNumber(B[1]);if(isNaN(y))throw new l.ArcadeExecutionError(z,
l.ExecutionErrorCodes.InvalidParameter,C);D=h.toNumber(h.defaultUndefined(B[4],10));if(isNaN(D))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);var u=h.toNumber(h.defaultUndefined(B[5],0));if(isNaN(u))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.offset(B[0],y,r.convertLinearUnitsToCode(h.defaultUndefined(B[2],-1)),h.toString(h.defaultUndefined(B[3],"round")).toLowerCase(),D,u)})};b.rotate=function(z,C){return p(z,C,function(y,D,
B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,2,3,z,C);y=B[0];if(null===y)return null;if(!(y instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);y instanceof q&&(y=a.fromExtent(y));D=h.toNumber(B[1]);if(isNaN(D))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);B=h.defaultUndefined(B[2],null);if(null===B)return e.rotate(y,D);if(B instanceof g)return e.rotate(y,D,B);throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,
C);})};b.centroid=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,1,1,z,C);if(null===B[0])return null;y=B[0];if(h.isArray(B[0])||h.isImmutableArray(B[0]))y=h.autoCastArrayOfPointsToMultiPoint(B[0],z.spatialReference);if(null===y)return null;if(!(y instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return y instanceof g?h.fixSpatialReference(r.cloneGeometry(B[0]),z.spatialReference):y instanceof a?y.getCentroid():y instanceof
d?w.centroidPolyline(y):y instanceof f?w.centroidMultiPoint(y):y instanceof q?y.getCenter():null})};b.multiparttosinglepart=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,1,1,z,C);D=[];if(null===B[0])return null;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);if(B[0]instanceof g||B[0]instanceof q)return[h.fixSpatialReference(r.cloneGeometry(B[0]),z.spatialReference)];y=e.simplify(B[0]);if(y instanceof a){D=
[];var u=[];for(B=0;B<y.rings.length;B++)if(y.isClockwise(y.rings[B])){var E=k.fromJson({rings:[y.rings[B]],hasZ:!0===y.hasZ,hasM:!0===y.hasM,spatialReference:y.spatialReference.toJson()});D.push(E)}else u.push({ring:y.rings[B],pt:y.getPoint(B,0)});for(y=0;y<u.length;y++)for(B=0;B<D.length;B++)if(D[B].contains(u[y].pt)){D[B].addRing(u[y].ring);break}return D}if(y instanceof d){D=[];for(B=0;B<y.paths.length;B++)u=k.fromJson({paths:[y.paths[B]],hasZ:!0===y.hasZ,hasM:!0===y.hasM,spatialReference:y.spatialReference.toJson()}),
D.push(u);return D}if(B[0]instanceof f){y=h.fixSpatialReference(r.cloneGeometry(B[0]),z.spatialReference);for(B=0;B<y.points.length;B++)D.push(y.getPoint(B));return D}return null})};b.issimple=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,1,1,z,C);if(null===B[0])return!0;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.isSimple(B[0])})};b.simplify=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);
h.pcCheck(B,1,1,z,C);if(null===B[0])return null;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.simplify(B[0])})};b.convexhull=function(z,C){return p(z,C,function(y,D,B){B=h.autoCastFeatureToGeometry(B);h.pcCheck(B,1,1,z,C);if(null===B[0])return null;if(!(B[0]instanceof n))throw new l.ArcadeExecutionError(z,l.ExecutionErrorCodes.InvalidParameter,C);return e.convexHull(B[0])})}}})},"esri/arcade/kernel":function(){define(["require","exports",
"../geometry/Extent","../geometry/jsonUtils"],function(G,x,c,r){Object.defineProperty(x,"__esModule",{value:!0});x.cloneGeometry=x.sameGeomType=x.convertLinearUnitsToCode=x.shapeExtent=x.convertSquareUnitsToCode=void 0;x.convertSquareUnitsToCode=function(h){if(null==h)return null;if("number"===typeof h)return h;h=h.toLowerCase();h=h.replace(/\s/g,"");h=h.replace(/-/g,"");switch(h){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109439;
case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};
x.shapeExtent=function(h){if(null==h)return null;switch(h.type){case "polygon":case "multipoint":case "polyline":return h.extent;case "point":return new c({xmin:h.x,ymin:h.y,xmax:h.x,ymax:h.y,spatialReference:h.spatialReference});case "extent":return h}return null};x.convertLinearUnitsToCode=function(h){if(null==h)return null;if("number"===typeof h)return h;h=h.toLowerCase();h=h.replace(/\s/g,"");h=h.replace(/-/g,"");switch(h){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;
case "miles":case "mile":case "squaremile":case "squaremiles":return 9093;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};x.sameGeomType=function(h,w){return h===
w||"point"===h&&"esriGeometryPoint"===w||"polyline"===h&&"esriGeometryPolyline"===w||"polygon"===h&&"esriGeometryPolygon"===w||"extent"===h&&"esriGeometryEnvelope"===w||"multipoint"===h&&"esriGeometryMultipoint"===w||"point"===w&&"esriGeometryPoint"===h||"polyline"===w&&"esriGeometryPolyline"===h||"polygon"===w&&"esriGeometryPolygon"===h||"extent"===w&&"esriGeometryEnvelope"===h||"multipoint"===w&&"esriGeometryMultipoint"===h?!0:!1};x.cloneGeometry=function(h){if(null==h)return null;var w=r.fromJson(h.toJson());
h.getCacheValue("_geVersion")&&w.setCacheValue("_geVersion",h.getCacheValue("_geVersion"));return w}})},"esri/arcade/functions/maths":function(){define("require exports ../polyfill/tsSupport/assign ../polyfill/tsSupport/spreadarray ../languageUtils dojo/number".split(" "),function(G,x,c,r:g))}Object.defineProperty(x,"__esModule",{value:!0});x.registerFunctions=void 0;x.registerFunctions=function?k:a}n.number=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,2,a,d);k=m[0];return h.isNumber(k)?k:null===k?0:h.isDate(k)?k.toNumber():h.isBoolean(k)?Number(k):h.isArray(k)?NaN:""===k||void 0===k?Number(k):h.isString(k)?void 0!==m[1]?(m=h.multiReplace(m[1],"\u2030",
""),m=h.multiReplace(m,"\u00a4",""),w.parse(k,{pattern:m})):Number(k.trim()):Number(k)})};n.abs=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.abs(h.toNumber(m[0]))})};n.acos=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.acos(h.toNumber(m[0]))})};n.asin=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.asin(h.toNumber(m[0]))})};n.atan=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.atan(h.toNumber(m[0]))})};
n.atan2=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,2,2,a,d);return Math.atan2(h.toNumber(m[0]),h.toNumber(m[1]))})};n.ceil=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,2,a,d);return 2===m.length?(k=h.toNumber(m[1]),isNaN(k)&&(k=0),q("ceil",h.toNumber(m[0]),-1*k)):Math.ceil(h.toNumber(m[0]))})};n.round=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,2,a,d);return 2===m.length?(k=h.toNumber(m[1]),isNaN(k)&&(k=0),q("round",h.toNumber(m[0]),-1*k)):Math.round(h.toNumber(m[0]))})};
n.floor=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,2,a,d);return 2===m.length?(k=h.toNumber(m[1]),isNaN(k)&&(k=0),q("floor",h.toNumber(m[0]),-1*k)):Math.floor(h.toNumber(m[0]))})};n.cos=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.cos(h.toNumber(m[0]))})};n.isnan=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return"number"===typeof m[0]&&isNaN(m[0])})};n.exp=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.exp(h.toNumber(m[0]))})};
n.log=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.log(h.toNumber(m[0]))})};n.pow=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,2,2,a,d);return Math.pow(h.toNumber(m[0]),h.toNumber(m[1]))})};n.random=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,0,0,a,d);return Math.random()})};n.sin=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.sin(h.toNumber(m[0]))})};n.sqrt=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,
a,d);return Math.sqrt(h.toNumber(m[0]))})};n.tan=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return Math.tan(h.toNumber(m[0]))})};n.defaultvalue=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,2,2,a,d);return null===m[0]||""===m[0]||void 0===m[0]?m[1]:m[0]})};n.isempty=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return null===m[0]||""===m[0]||void 0===m[0]?!0:!1})};n["boolean"]=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,1,1,a,d);return h.toBoolean(m[0])})};
n.constrain=function(a,d){return f(a,d,function(k,l,m){h.pcCheck(m,3,3,a,d);k=h.toNumber(m[1]);l=h.toNumber(m[2]);if(h.isArray(m[0])){var e=[],b=0;for(m=m[0];b<m.length;b++)e.push(g(m[b],k,l));return e}if(h.isImmutableArray(m[0])){e=[];for(b=0;b<m[0].length();b++)e.push(g(m[0].get(b),k,l));return e}return g(m[0],k,l)})}}})},"esri/arcade/functions/stats":function(){define(["require","exports","../executionError","../languageUtils","./fieldStats"],function(G,x,c,-1)}Object.defineProperty(x,"__esModule",{value:!0});x.registerFunctions=void 0;x.registerFunctions=function(q,n){q.stdev=function(f,g){return n(f,g,function(a,d,k){return w("stdev",a,d,k)})};q.variance=function(f,g){return n(f,g,function(a,d,k){return w("variance",a,d,k)})};q.average=function(f,g){return n(f,g,function(a,d,k){return w("mean",a,d,k)})};q.mean=function(f,g){return n(f,g,function(a,
d,k){return w("mean",a,d,k)})};q.sum=function(f,g){return n(f,g,function(a,d,k){return w("sum",a,d,k)})};q.min=function(f,g){return n(f,g,function(a,d,k){return w("min",a,d,k)})};q.max=function(f,g){return n(f,g,function(a,d,k){return w("max",a,d,k)})};q.disk)})};q.count=function(f,g){return n(f,g,function(a,d,k){r.pcCheck(k,1,1,f,g);if(r.isArray(k[0])||r.isString(k[0]))return k[0].length;if(r.isImmutableArray(k[0]))return k[0].length();
throw new c.ArcadeExecutionError(f,c.ExecutionErrorCodes.InvalidParameter,g);})}}})},"esri/arcade/functions/fieldS0}})},"esri/arcade/functions/string":function(){define("require exports ../polyfill/tsSupport/assign ../polyfill/tsSupport/spreadarray ../ArcadePortal ../Attachment ../Dictionary ../executionError ../languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../SpatialReference ../../arcgis/Portal".split(" "),function(G,x,c,r,h,w,q,n,
f,g,a,d,k,l,m,e,b,p,t){function z(y,D){return y&&D?y.x===D.x&&y.y===D.y?!0:!1:y===D}function C(y,D,B){if(null===y)D.updateUint8Array([0,139]);else if(f.isArray(y)){D.updateUint8Array([61]);if(B.map.has(y))y=B.map.get(y),D.updateIntArray([y^61237541]);else{B.map.set(y,B.currentLength++);for(var u=0;u<y.length;u++){var E=y[u];C(E,D,B)}B.map.delete(y);B.currentLength--}D.updateUint8Array([199])}else if(f.isImmutableArray(y)){D.updateUint8Array([61]);if(B.map.has(y))y=B.map.get(y),D.updateIntArray([y^
61237541]);else{B.map.set(y,B.currentLength++);u=0;for(var v=y.toArray();u<v.length;u++)E=v[u],C(E,D,B);B.map.delete(y);B.currentLength--}D.updateUint8Array([199])}else if(f.isDate(y))D.updateIntArray([y.toNumber()]),D.updateUint8Array([241]);else if(f.isString(y))D.updateIntArray([y.length]),D.updateWithString(y),D.updateUint8Array([41]);else if(f.isBoolean(y))D.updateUint8Array([!0===y?1:0,113]);else if(f.isNumber(y))D.updateFloatArray([y]),D.updateUint8Array([173]);else{if(y instanceof w)throw new n.ArcadeExecutionError(B.context,
n.ExecutionErrorCodes.UnsupportedHashType,B.node);if(y instanceof h)throw new n.ArcadeExecutionError(B.context,n.ExecutionErrorCodes.UnsupportedHashType,B.node);if(y instanceof q){D.updateUint8Array([223]);if(B.map.has(y))y=B.map.get(y),D.updateIntArray([y^61237541]);else{B.map.set(y,B.currentLength++);u=0;for(v=y.keys();u<v.length;u++)E=v[u],D.updateIntArray([E.length]),D.updateWithString(E),D.updateUint8Array([251]),E=y.field(E),C(E,D,B),D.updateUint8Array([239]);B.map.delete(y);B.currentLength--}D.updateUint8Array([73])}else{if(f.isFeature(y))throw new n.ArcadeExecutionError(B.context,
n.ExecutionErrorCodes.UnsupportedHashType,B.node);if(y instanceof m)D.updateIntArray([3833836621]),D.updateIntArray([0]),D.updateFloatArray([y.x]),D.updateIntArray([1]),D.updateFloatArray([y.y]),D.updateIntArray([3765347959]),C(y.spatialReference.wkid,D,B);else if(y instanceof e){D.updateIntArray([1266616829]);for(u=0;u<y.rings.length;u++){v=y.rings[u];var A=[],F=null,I=null;for(E=0;E<v.length;E++){var N=y.getPoint(u,E);if(0===E)F=N;else if(z(I,N))continue;I=N;E===v.length-1&&z(F,N)||A.push(N)}D.updateIntArray([1397116793,
A.length]);for(E=0;E<A.length;E++)N=A[E],D.updateIntArray([3962308117,E]),C(N,D,B),D.updateIntArray([2716288009]);D.updateIntArray([2278822459])}D.updateIntArray([3878477243]);C(y.spatialReference.wkid,D,B)}else if(y instanceof b){D.updateIntArray([4106883559]);for(u=0;u<y.paths.length;u++){v=y.paths[u];D.updateIntArray([1397116793,v.length]);for(E=0;E<v.length;E++)D.updateIntArray([3962308117,E]),C(y.getPoint(u,E),D,B),D.updateIntArray([2716288009]);D.updateIntArray([2278822459])}D.updateIntArray([2568784753]);
C(y.spatialReference.wkid,D,B)}else if(y instanceof l){D.updateIntArray([588535921,y.points.length]);for(E=0;E<y.points.length;E++)u=y.getPoint(E),D.updateIntArray([E]),C(u,D,B);D.updateIntArray([1700171621]);C(y.spatialReference.wkid,D,B)}else if(y instanceof k)D.updateIntArray([3483648373]),D.updateIntArray([0]),D.updateFloatArray([y.xmax]),D.updateIntArray([1]),D.updateFloatArray([y.xmin]),D.updateIntArray([2]),D.updateFloatArray([y.ymax]),D.updateIntArray([3]),D.updateFloatArray([y.ymin]),D.updateIntArray([3622027469]),
C(y.spatialReference.wkid,D,B);else if(y instanceof p)D.updateIntArray([14]),void 0!==y.wkid&&null!==y.wkid&&D.updateIntArray([y.wkid]),y.wkt&&D.updateWithString(y.wkt);else{if(f.isFunctionParameter(y))throw new n.ArcadeExecutionError(B.context,n.ExecutionErrorCodes.UnsupportedHashType,B.node);if(f.isFeatureSet(y))throw new n.ArcadeExecutionError(B.context,n.ExecutionErrorCodes.UnsupportedHashType,B.node);f.isFeatureSetCollection(y);throw new n.ArcadeExecutionError(B.context,n.ExecutionErrorCodes.UnsupportedHashType,
B.node);}}}}Object.defineProperty(x,"__esModule",{value:!0});x.registerFunctions=void 0;x.registerFunctions=function(y,D){y.portal=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);return new h(f.toString(A[0]))})};y.typeof=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);E=f.getType(A[0]);if("Unrecognised Type"===E)throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.UnrecognisedType,u);return E})};y.trim=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,
B,u);return f.toString(A[0]).trim()})};y.tohex=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);E=f.toNumber(A[0]);return isNaN(E)?E:E.toString(16)})};y.upper=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);return f.toString(A[0]).toUpperCase()})};y.proper=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,2,B,u);E=1;2===A.length&&"firstword"===f.toString(A[1]).toLowerCase()&&(E=2);v=/\s/;A=f.toString(A[0]);for(var F="",I=!0,N=0;N<A.length;N++){var da=A[N];v.test(da)?
1===E&&(I=!0):da.toUpperCase()!==da.toLowerCase()&&(I?(da=da.toUpperCase(),I=!1):da=da.toLowerCase());F+=da}return F})};y.lower=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);return f.toString(A[0]).toLowerCase()})};y.guid=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,0,1,B,u);if(0<A.length)switch(f.toString(A[0]).toLowerCase()){case "digits":return f.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return f.generateUUID();
case "digits-hyphen-parentheses":return"("+f.generateUUID()+")"}return"{"+f.generateUUID()+"}"})};y.standardizeguid=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,2,B,u);E=f.toString(A[0]);if(""===E||null===E)return"";E=/^(\{|\()?([0-9a-z]{8})(\-?)([0-9a-z]{4})(\-?)([0-9a-z]{4})(\-?)([0-9a-z]{4})(\-?)([0-9a-z]{12})(\}|\))?$/gim.exec(E);if(!E)return"";v=[];for(var F=1;F<E.length;F++){var I=E[F];void 0!==I&&""!==I&&null!==I&&0>["-","}","{","(",")"].indexOf(I)&&v.push(I)}if(5!==v.length)return"";
E=v[0]+"-"+v[1]+"-"+v[2]+"-"+v[3]+"-"+v[4];switch(f.toString(A[1]).toLowerCase()){case "digits":return E.replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return E;case "digits-hyphen-parentheses":return"("+E+")"}return"{"+E+"}"})};y.coon})};y.mid=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,3,B,u);E=f.toNumber(A[1]);
if(isNaN(E))return"";0>E&&(E=0);if(2===A.length)return f.toString(A[0]).substr(E);v=f.toNumber(A[2]);if(isNaN(v))return"";0>v&&(v=0);return f.toString(A[0]).substr(E,v)})};y.find=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,3,B,u);E=0;if(2<A.length){E=f.toNumber(f.defaultUndefined(A[2],0));if(isNaN(E))return-1;0>E&&(E=0)}return f.toString(A[1]).indexOf(f.toString(A[0]),E)})};y.left=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,2,B,u);E=f.toNumber(A[1]);if(isNaN(E))return"";
0>E&&(E=0);return f.toString(A[0]).substr(0,E)})};y.right=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,2,B,u);E=f.toNumber(A[1]);if(isNaN(E))return"";0>E&&(E=0);return f.toString(A[0]).substr(-1*E,E)})};y.split=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,4,B,u);E=f.toNumber(f.defaultUndefined(A[2],-1));v=f.toBoolean(f.defaultUndefined(A[3],!1));-1===E||null===E||!0===v?A=f.toString(A[0]).split(f.toString(A[1])):(isNaN(E)&&(E=-1),-1>E&&(E=-1),A=f.toString(A[0]).split(f.toString(A[1]),
E));if(!1===v)return A;v=[];for(var F=0;F<A.length&&!(-1!==E&&v.length>=E);F++)""!==A[F]&&void 0!==A[F]&&v.push(A[F]);return v})};y.text=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,2,B,u);return f.toStringExplicit(A[0],A[1])})};y.concat")})};y.reverse=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);if(f.isArray(A[0]))return E=A[0].slice(0),E.reverse(),E;if(f.isImmutableArray(A[0]))return E=A[0].toArray().slice(0),E.reverse(),E;throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.replace=
function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,3,4,B,u);E=f.toString(A[0]);v=f.toString(A[1]);var F=f.toString(A[2]);return(4===A.length?f.toBoolean(A[3]):1)?f.multiReplace(E,v,F):E.replace(v,F)})};y.schema=function(B,u){return D(B,u,function(E,v,A){if(f.isFeature(A[0]))return(E=f.featureSchema(A[0]))?q.convertObjectToArcadeDictionary(E,f.defaultTimeZone(B)):null;throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.subtypes=function(B,u){return D(B,u,function(E,
v,A){f.pcCheck(A,1,1,B,u);if(f.isFeature(A[0]))return(E=f.featureSubtypes(A[0]))?q.convertObjectToArcadeDictionary(E,f.defaultTimeZone(B)):null;throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.subtypecode=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);if(f.isFeature(A[0])){v=f.featureSubtypes(A[0]);if(!v)return null;if(v.subtypeField&&A[0].hasField(v.subtypeField))for(A=A[0].field(v.subtypeField),E=0,v=v.subtypes;E<v.length;E++){var F=v[E];if(F.code===
A)return F.code}return null}throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.subtypename=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);if(f.isFeature(A[0])){v=f.featureSubtypes(A[0]);if(!v)return"";if(v.subtypeField&&A[0].hasField(v.subtypeField))for(A=A[0].field(v.subtypeField),E=0,v=v.subtypes;E<v.length;E++){var F=v[E];if(F.code===A)return F.name}return""}throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.gdbversion=
function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);if(f.isFeature(A[0]))return A[0].gdbVersion();throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.domain=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,3,B,u);if(f.isFeature(A[0]))return(E=f.featureFullDomain(A[0],f.toString(A[1]),void 0===A[2]?void 0:f.toNumber(A[2])))&&E.domain?"coded-value"===E.domain.type||"codedValue"===E.domain.type?q.convertObjectToArcadeDictionary({type:"codedValue",name:E.domain.name,
dataType:g.layerFieldEsriConstants[E.field.type],codedValues:E.domain.codedValues.map(function(F){return{name:F.name,code:F.code}})},f.defaultTimeZone(B)):q.convertObjectToArcadeDictionary({type:"range",name:E.domain.name,dataType:g.layerFieldEsriConstants[E.field.type],min:E.domain.min,max:E.domain.max},f.defaultTimeZone(B)):null;throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.domainname=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,4,B,u);if(f.isFeature(A[0]))return f.featureDomainValueLookup(A[0],
f.toString(A[1]),A[2],void 0===A[3]?void 0:f.toNumber(A[3]));throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.domaincode=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,2,4,B,u);if(f.isFeature(A[0]))return f.featureDomainCodeLookup(A[0],f.toString(A[1]),A[2],void 0===A[3]?void 0:f.toNumber(A[3]));throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})};y.urlencode=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);if(null===
A[0])return"";if(A[0]instanceof q){E="";v=0;for(var F=A[0].keys();v<F.length;v++){var I=F[v],N=A[0].field(I);""!==E&&(E+="\x26");E=null===N?E+(encodeURIComponent(I)+"\x3d"):E+(encodeURIComponent(I)+"\x3d"+encodeURIComponent(N))}return E}return encodeURIComponent(f.toString(A[0]))})};y.hash=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);E=new d.XXH(0);C(A[0],E,{context:B,node:u,map:new Map,currentLength:0});return E.digest()})};y.convertdirection=function(B,u){return D(B,u,function(E,
v,A){f.pcCheck(A,3,3,B,u);return a.convertDirection(A[0],A[1],A[2])})};y.fromjson=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,1,B,u);if(!1===f.isString(A[0]))throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);return q.convertJsonToArcade(JSON.parse(f.toString(A[0])),f.defaultTimeZone(B))})};y.expects=function(B,u){return D(B,u,function(E,v,A){if(1>A.length)throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.WrongNumberOfParameters,u);return f.voidOperation})};
y.tocharcode=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,2,B,u);E=f.toNumber(f.defaultUndefined(A[1],0));v=f.toString(A[0]);if(0===v.length&&1===A.length)return null;if(v.length<=E||0>E)throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.OutOfBounds,u);return v.charCodeAt(E)})};y.tocodepoint=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,1,2,B,u);E=f.toNumber(f.defaultUndefined(A[1],0));v=f.toString(A[0]);if(0===v.length&&1===A.length)return null;if(v.length<=E||0>E)throw new n.ArcadeExecutionError(B,
n.ExecutionErrorCodes.OutOfBounds,u);return v.codePointAt(E)})};y.fromcharcode=function(B,u){return D(B,u,function(E,v,A){if(1>A.length)throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.WrongNumberOfParameters,u);E=A.map(function(F){return Math.trunc(f.toNumber(F))}).filter(function(F){return 0<=F&&65535>=F});return 0===E.length?null:String.fromCharCode.apply(null,E)})};y.fromcodepoint=function(B,u){return D(B,u,function(E,v,A){if(1>A.length)throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.WrongNumberOfParameters,
u);try{var F=(I))}).filter(function(I){return 1114111>=I&&I>>>0===I})}catch(I){return null}return 0===F.length?null:String.fromCodePoint.apply(null,F)})};y.getuser=function(B,u){return D(B,u,function(E,v,A){f.pcCheck(A,0,2,B,u);E=f.defaultUndefined(A[1],"");E=!0===E||!1===E?"":f.toString(E);if(null!==E&&""!==E)return null;if(0===A.length||A[0]instanceof h){v=null;B.services&&B.services.portal&&(v=B.services.portal);if(0<A.length){A=A[0].field("url");var F=
v;A=A?(new t.Portal(A)).portalUrl===((null===F||void 0===F?void 0:F.portalUrl)||""):!1;if(!A)return null}if(!v)return null;if(""===E){a:{E=v;if(E.getPortalUser()&&(E=E.getPortalUser())){v={};A=0;for(F="username id fullName availableCredits assignedCredits firstName lastName preferredView description email idpUsername favGroupId lastLogin mfaEnabled access storageUsage storageQuota orgId role privileges".split(" ");A<F.length;A++){var I=F[A];void 0!==E[I]&&(v[I]=E[I])}E=v;break a}E=null}if(E){E=JSON.parse(JSON.stringify(E));
v=0;for(A=["lastLogin","created","modified"];v<A.length;v++)F=A[v],void 0!==E[F]&&null!==E[F]&&(E[F]=new Date(E[F]));return q.convertObjectToArcadeDictionary(E,f.defaultTimeZone(B))}}return null}throw new n.ArcadeExecutionError(B,n.ExecutionErrorCodes.InvalidParameter,u);})}}})},"esri/arcade/ArcadePortal":function(){define(["require","exports","./polyfill/tsSupport/extends","./Dictionary"],function(G,x,c,r){return function(h){function w(q){var n=h.call(this)||this;n.declaredClass="esri.arcade.Portal";
n.immutable=!1;n.setField("url",q);n.immutable=!0;return n}c(w,h);return w}(r)})},"esri/arcade/Attachment":function(){define(["require","exports","./polyfill/tsSupport/extends","./Dictionary"],function(G,x,c,r){return function(h){function w(q,n,f,g,a,d){var k=h.call(this)||this;k.attachmentUrl=a;k.declaredClass="esri.arcade.Attachment";k.immutable=!1;k.setField("id",q);k.setField("name",n);k.setField("contenttype",f);k.setField("size",g);k.setField("exifinfo",d);k.immutable=!0;return k}c(w,h);return w}(r)})},
"esri/arcade/functions/convertdirection":function(){define("require exports ../Dictionary ../executionError ../languageUtils ../polyfill/maybe".split(" "),function(G,x,c,r,h,w){function q(oa){if(!1===h.isString(oa))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.InvalidParameter,null);retu)/qa}function f(oa){var qa=parseFloat,L=oa.toString(),Y=L.replace;var ca=+oa;ca=isFinite(ca)?ca-ca%1||(0>ca?-0:0===ca?ca:0):ca;qa=qa(Y.call(L,
ca.toString(),"0"))*((0<oa)-(0>oa)||+oa);return 0>oa?{fraction:qa,integer:Math.ceil(oa)}:{fraction:qa,integer:Math.floorqa}function k(oa){switch(oa){case 6:case 1:return 360;case 4:return F;case 5:return 400;case 2:return 1296E3;
case 7:return 60;case 8:return 60;default:throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unsupported evaluations"});}}function l(oa){switch(oa.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return 1;case "POLAR":return 2;case "QUADRANT":return 3;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return 4}throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unsupported directionType"});}function m(oa){switch(oa.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return 1;
case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return 3;case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return 4;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return 5}throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unsupported units"});}function e(oa,qa,L){var Y=null;switch(qa){case 1:Y=x.preciseMultiply(oa,3600);break;case 2:Y=oa;break;case 5:Y=x.preciseMultiply(oa,3240);break;case 4:Y=
x.preciseMultiply(oa,I);break;default:throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});}switch(L){case 1:return x.preciseDivide(Y,3600);case 2:return Y;case 5:return x.preciseDivide(Y,3240);case 4:return Y/I;default:throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});}}function b(oa){w.assertIsSome(oa);switch(oa){case 1:case 6:case 3:return 1;case 5:return 5;case 7:return 7;case 4:return 4;
case 2:case 8:retuull}function z(oa){oa=parseFloat(oa);if(h.isNumber(oa)){if(isNaN(oa))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,
null,{reason:"invalid conversion"});return oa}throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"invalid conversion"});}function C(oa,qa,L){var Y=3===L,ca=null,V=null,X=0,ja=0;ja=0;if(Y){if(2>oa.length)throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});ja=1;(V=p(h.toString(oa[oa.length-1])))?(ca=V.first,V=V.second):(X=1,ca=t(h.toString(oa[0])),V=t(h.toString(oa[oa.length-1])));if(null===ca||null===V)throw new r.ArcadeExecutionError(null,
r.ExecutionErrorCodes.LogicError,null,{reason:"invalid conversion"});}switch(qa){case 1:case 4:case 5:if(0===oa.length)break;return Y?ha.createFromAngleMeridianAndDirection(sa.createFromAngleAndUnits(z(oa[X]),b(qa)),ca,V):ha.createFromAngleAndDirection(sa.createFromAngleAndUnits(z(oa[X]),b(qa)),L);case 3:ja=oa.length-ja-X;if(3===ja)return oa=sa.createFromDegreesMinutesSeconds(z(oa[X]),z(oa[X+1]),z(oa[X+2])),Y?ha.createFromAngleMeridianAndDirection(oa,ca,V):ha.createFromAngleAndDirection(oa,L);if(1===
ja)return oa=z(oa[X]),oa=W.numberToDms(oa),oa=sa.createFromDegreesMinutesSeconds(oa.m_degrees,oa.m_minutes,oa.m_seconds),Y?ha.createFromAngleMeridianAndDirection(oa,ca,V):ha.createFromAngleAndDirection(oa,L)}throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"invalid conversion"});}function y(oa){for(var qa=[" ","-","/","'",'"',"\\","^","\u00b0",N,"\t","\r","\n","*"],L="",Y=0;Y<oa.length;Y++){var ca=oa.charAt(Y);L=qa.includes(ca)?L+"RRSPLITRRSPLITRR":L+ca}return L.split("RRSPLITRRSPLITRR").f=rn Y}Object.defineProperty(x,"__esModule",{value:!0});x.convertDirection=x.preciseDivide=x.preciseMultiply=x.preciseMinus=x.preciseAdd=void 0;(Ya+qa},E=function(oa,qa){return oa-*
a/qa};x.preciseAdd=function(oa,qa,L){return B(u)(oa,qa,L)};x.preciseMinus=function(oa,qa,L){return B(E)(oa,qa,L)};x.preciseMultiply=function(oa,qa,L){return B(v)(oa,qa,L)};x.preciseDa,L)};var F=2*Math.PI,I=648E3/Math.PI,N=String.fromCharCode(7501),da;(function(oa){oa[oa.north=0]="north";oa[oa.east=1]="east";oa[oa.south=2]="south";oa[oa.west=3]="west"})(da||(da={}));var ba;(function(oa){oa[oa.decimal_degrees=1]="decimal_degrees";
oa[oa.seconds=2]="seconds";oa[oa.degrees_minutes_seconds=3]="degrees_minutes_seconds";oa[oa.radians=4]="radians";oa[oa.gradians=5]="gradians";oa[oa.truncated_degrees=6]="truncated_degrees";oa[oa.fractional_degree_minutes=7]="fractional_degree_minutes";oa[oa.fractional_minute_seconds=8]="fractional_minute_seconds"})(ba||(ba={}));vauth"})(na||(na={}));var xa;
(function(oa){oa[oa.meridian=0]="meridian";oa[oa.direction=1]="direction"})(xa||(xa={}));var W=function(){function oa(qa,L,Y){this.m_degrees=qa;this.m_minutes=L;this.m_seconds=Y}oa.prototype.getField=function(qa){switch(qa){case 1:case 6:return this.m_degrees;case 7:return this.m_minutes;case 2:case 8:return this.m_seconds;default:throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});}};oa.secondsa+L)};oa.numberL,Y)};oa.prototype.fY,L)};oa.dmsToSe*L+Y};return oa}(),la=functon=Y}oa.prototype.fetchAztion};return oa}(),ha=function(){function oa(qa){this._angle=qa}oa.createFromAngleAndDirec1)))};oa.prototype.getle)}};oa.prototype.getMeridian=function(qa){var L=this._angle.extractAngularUnits(2);switch(qa){case 1:return 0;case 4:return 2;case 2:return 1;case 3:return oa.secondsNorthAzimuthToQuadrant(L).meridian}};
oa.prototype.getDireion}};oa.secondsNorthAzimuthToQua3:1)};oa.createFromAngleMeridianAndDireY)))};
oa.secondsQuadrantToNorthAz3+qa};oa._convertDirectionFormat=function(qa,L,Y){var ca=0;switch(L){case 1:ca=qa;break;case 2:ca=324E3-qa;break;case 3:throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});case 4:ca=qa+648E3}qa=0;switch(Y){case 1:qa=ca;break;case 2:qa=324E3-ca;break;case 3:throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});
case 4:qa=ca-648E3}qa%=1296E3;return 0>qa?1296E3+qa:qa};return oa}n oa}n oa}();
x.convertDirection=function(oa,qa,L){if(!(qa instanceof c))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.InvalidParameter,null);if(!1===qa.hasField("directionType"))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"missing directionType"});if(!1===qa.hasField("angleType"))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"missing angleType"});var Y=l(q(qa.field("directiontype")));qa=m(q(qa.field("angletype")));if(h.isNumber(oa)){oa=
h.toNumber(oa);if(3===Y)throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});3===qa?(oa=W.numberToDms(oa),qa=ha.createFromAngleAndDirection(sa.createFromDegreesMinutesSeconds(oa.m_degrees,oa.m_minutes,oa.m_seconds),Y)):qa=ha.createFromAngleAndDirection(sa.createFromAngleAndUnits(oa,b(qa)),Y)}else if(h.isString(oa))qa=C(y(oa),qa,Y);else if(h.isArray(oa))qa=C(oa,qa,Y);else if(h.isImmutableArray(oa))qa=C(oa.toArray(),qa,Y);else throw new r.ArcadeExecutionError(null,
r.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});if(!(L instanceof c))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.InvalidParameter,null);if(!1===L.hasField("directionType"))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"missing directionType"});if(!1===L.hasField("outputType"))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"missing angleType"});Y=l(q(L.field("directiontype")));oa=L.hasField("angleType")?
m(q(L.field("angletype"))):null;var ca=q(L.field("outputType")).toUpperCase().trim();if(!Y||!ca)throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});if(!(oa||"TEXT"===ca&&L.hasField("format")))throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"invalid unit"});switch(ca){case "VALUE":if(3===Y||3===oa)return L=qa,qa=L.getAngle(Y),3===Y&&3===oa?(oa=W.secondsToDMS(qa.extractAngularUnits(2)),Y=[g(L.getMeridian(Y),"SHORT"),
oa.m_degrees,oa.m_minutes,oa.m_seconds,g(L.getDirection(Y),"SHORT")]):3===oa?(oa=W.secondsToDMS(qa.extractAngularUnits(2)),Y=[oa.m_degrees,oa.m_minutes,oa.m_seconds]):Y=3===Y?[g(L.getMeridian(Y),"SHORT"),qa.extractAngularUnits(oa),g(L.getDirection(Y),"SHORT")]:[qa.extractAngularUnits(oa)],Y;L=qa;if((qa=b(oa))&&3!==oa)Y=L.getAngle(Y).extractAngularUnits(qa);else throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});return Y;case "TEXT":ca="";L.hasField("format")&&
(ca=h.toString(L.field("format")));if(null===ca||""===ca){L="";switch(oa){case 1:L=3===Y?"DD.DD\u00b0":"DDD.DD\u00b0";break;case 3:L=3===Y?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case 4:L="R.RR";break;case 5:L="GGG.GG"+N;break;default:throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"conversion error"});}3===Y&&(L="p "+L+" b");ca=L}L=qa;oa=ca;var V="",X=null,ja=null;qa=Ca.createFromStringAndBearing(oa,L,Y);ca={D:1,d:6,m:7,s:8,R:4,G:5};for(ja=0;ja<oa.length;ja++){var pa=
oa[ja];switch(pa){case "[":X=oa;pa={escaped:"",newpos:ja};for(ja++;ja<X.length;){var ta=X[ja];ja++;if("]"===ta)break;pa.escaped+=ta}pa.newpos=ja-1;X=pa;V+=X.escaped;ja=X.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":X=D(oa,ja,pa);ja=L.getAngle(Y);a:{pa=ca[pa];ta=X.padding;var ea=X.rounding,va=qa,M=null;switch(pa){case 1:case 4:case 5:M=d(n(ja.extractAngularUnits(pa),ea),k(pa));ja=a(M.toFixed(ea),"0",ta+ea+(0<ea?1:0));break a;case 6:case 7:M=d(va.fetchFormattedDms().getField(pa),
k(pa));ja=a(M.toFixed(ea),"0",ta+ea+(0<ea?1:0));break a;case 8:M=d(n(va.fetchDms().getField(pa),ea),k(pa));ja=a(M.toFixed(ea),"0",ta+ea+(0<ea?1:0));break a;default:throw new r.ArcadeExecutionError(null,r.ExecutionErrorCodes.LogicError,null,{reason:"unexpected evaluation"});}}V+=ja;ja=X.newpos;continue;case "P":case "p":V+=g(qa.fetchMeridian(),"p"===pa?"SHORT":"LONG");continue;case "B":case "b":V+=g(qa.fetchDirection(),"b"===pa?"SHORT":"LONG");continue;default:V+=pa}}return V;default:throw new r.ArcadeExecutionError(null,
r.ExecutionErrorCodes.InvalidParameter,null);}}})},"esri/arcade/functions/=G})},"esri/arcgis/Portal":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/kernel dojo/_base/Deferred dojo/_base/array dojo/_base/sniff require ../config ../kernel ../lang ../request ../urlUtils ../Evented ../IdentityManager".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k){var l={options:{disableIdentityLookup:!0},requestParams:{f:"json"}},m=function(u){function E(v){u[v]||(u[v]=function(){var A=arguments;return r.when(u,function(F){Array.prototype.unshift.call(A,F.results||F);return m(h[v].apply(h,A))})})}if(!u)return u;u.then&&(u=x.delegate(u));u.total||(u.total=r.when(u,function(v){return g.isDefined(v.total)?v.total:v.length||0}));E("forEach");E("filter");E("map");E("some");E("every");return u},e={useSSL:function(u,E){var v=l&&
l.self||{};if(v&&!v.isPortal)return-1!==u.indexOf("https:")||v.allSSL?E.replace("http:","https:"):E;var A=e.getLocation(E);return-1<v.portalHostname.toLowerCase().indexOf(A.hostname.toLowerCase())&&A.port&&"80"!==A.port&&"443"!==A.port?(E=A.pathname,E=0===E.indexOf("/")?E:"/"+E,v.allSSL||-1<u.indexOf("https:")?"https://"+A.hostname+(v.httpsPort&&"443"!==v.httpsPort?":"+v.httpsPort:"")+E+A.search:"http://"+A.hostname+(v.httpPort&&"80"!==v.httpPort?":"+v.httpPort:"")+E+A.search):-1!==u.indexOf("https:")||
v.allSSL?E.replace("http:","https:"):E},formatUrl:function(u){var E=l.currentToken;return-1!==u.indexOf("null")?null:e.useSSL(window.location.protocol,E?u+(-1!==u.indexOf("?")?"\x26":"?")+("token\x3d"+E):u)},getLocation:function(u){var E=document.createElement("a");E.href=u;return{protocol:E.protocol,hostname:E.hostname,port:E.port,pathname:E.pathname,search:E.search,hash:E.hash,host:E.host}},resultsToTypedArray:function(u,E,v){v=v?v.listings||v.notifications||v.userInvitations||v.tags||v.items||
v.groups||v.comments||v.provisions||v.results||v:[];return h.map(v,function(A){A=x.mixin(A,E||{});return u?new u(A):A})},clearFieldsFromObject:function(u,E){var v,A=u.length;if(x.isArray(u))for(v=0;v<A;v++)delete E[u[v]];else for(v in u)delete E[v];return E},requestToTypedArray:function(u,E,v,A,F){return m(e.request(u,E,v).then(x.partial(e.resultsToTypedArray,A,F)))},request:function(u,E,v){if(E){E.portal&&delete E.portal;if(E.form){var A=E.form;delete E.form}if(E.hasOwnProperty("withCredentials")){var F=
E.withCredentials;delete E.withCredentials}}E=x.mixin(x.mixin({},E||{}),l.requestParams);u={url:e.useSSL(window.location.protocol,u.url||u),content:E,callbackParamName:"callback",timeout:I&&I.timeout||0,form:A};null!=F&&(u.withCredentials=F);var I=x.mixin(v||{},l.options);return a(u,I)},formatQueryParams:function(u,E,v){u=x.mixin(x.mixin({},u),x.isString(E)?{q:E}:E||{});u.q=!v&&l.extraQuery?"("+u.q+")"+l.extraQuery:u.q;return u}},b=G([],{declaredClass:"esri.arcgis.PortalComment",constructor:function(u){x.mixin(this,
u);this.url=this.item.itemUrl+"/comments/"+this.id;this.created=this.created?new Date(this.created):null}}),p=G([],{declaredClass:"esri.arcgis.PortalRating",constructor:function(u){x.mixin(this,u);this.url=this.item.itemUrl+"/rating";this.created=this.created?new Date(this.created):null}}),t=G([],{declaredClass:"esri.arcgis.PortalItem",constructor:function(u){x.mixin(this,u);this.folderId=this.ownerFolder||this.folderId;this.itemUrl=(this.portal&&this.portal.portalUrl)+"content/items/"+this.id;this.userItemUrl=
this.hasOwnProperty("ownerFolder")?this.itemUrl.replace("/content/","/content/users/"+this.owner+(this.folderId?"/"+this.folderId:"")+"/"):null;this.itemDataUrl=e.formatUrl(this.itemUrl+"/data");this.thumbnailUrl=e.formatUrl(this.itemUrl+"/info/"+this.thumbnail);this.displayName=this._getDisplayName();this.iconUrl=this._getIconUrl();this.isPremiumContent=this._getIsPremiumContent();this.created=this.created?new Date(this.created):null;this.uploaded=this.uploaded?new Date(this.uploaded):null;this.modified=
this.modified?new Date(this.modified):null},getTypeInfo:function(){var u=this.type;return{source:-1<h.indexOf(this.typeKeywords||[],"ArcGIS Server")||"Feature Collection"===u?u:null,displayName:this.displayName,iconUrl:this.iconUrl,isPremiumContent:this.isPremiumContent,premiumIconUrl:this._getPremiumIconUrl()}},addComment:function(u){var E=x.isString(u)?{comment:u}:u;return e.request(this.itemUrl+"/addComment",E,{usePost:!0}).then(x.hitch(this,function(v){return new b(x.mixin(E,{id:v.commentId,item:this}))}))},
updateComment:function(u){if(u&&u.url&&u.comment)return e.request(u.url+"/update",{comment:u.comment},{usePost:!0})rn u});throw Error();},getComments:function(){return e.requestToTypedArray(this.itemUrl+"/comments",null,null,b,{item:this})},deleteComment:function(u){if(u&&u.url)return e.request(u.url+"/delete",null,{usePost:!0});throw Error();},addRating:function(u){var E=x.isObject(u)?u:{rating:parseFloat(u)};return e.request(this.itemUrl+"/addRating",E,{usePost:!0}).then(x.hitch(this,
function(v){return new p(x.mixin(E,{id:v.ratingId,item:this}))}))},getRating:function(){return e.request(this.itemUrl+"/rating").then(x.hitch(this,function(u){return new p(x.mixin(u,{item:this}))}))},deleteRating:function(){return e.request(this.itemUrl+"/deleteRating",null,{usePost:!0})},_getDisplayName:function(){var u=this.type,E=this.typeKeywords||[],v=u;"Feature Service"===u||"Feature Collection"===u?v=-1<h.indexOf(E,"Table")?"Table":-1<h.indexOf(E,"Route Layer")?"Route Layer":-1<h.indexOf(E,
"Markup")?"Markup":"Feature Layer":"Image Service"===u?v=-1<h.indexOf(E,"Elevation 3D Layer")?"Elevation Layer":-1<h.indexOf(E,"Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===u?v="Scene Layer":"Video Service"===u?v="Video Layer":"Scene Package"===u?v="Scene Layer Package":"Stream Service"===u?v="Feature Layer":"Geoprocessing Service"===u?v=-1<h.indexOf(E,"Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===u?v="GeoEnrichment Service":"Geocoding Service"===
u?v="Locator":"Microsoft Powerpoint"===u?v="Microsoft PowerPoint":"GeoJson"===u?this.type=v="GeoJSON":"Globe Service"===u?v="Globe Layer":"Vector Tile Service"===u?v="Tile Layer":"netCDF"===u?v="NetCDF":"Map Service"===u?v=-1===h.indexOf(E,"Spatiotemporal")&&(-1<h.indexOf(E,"Hosted Service")||-1<h.indexOf(E,"Tiled"))&&-1===h.indexOf(E,"Relational")?"Tile Layer":"Map Image Layer":u&&-1<u.toLowerCase().indexOf("add in")?v=u.replace(/(add in)/ig,"Add-In"):"datastore catalog service"===u?v="Big Data File Share":
"Compact Tile Package"===u?v="Tile Package (tpkx)":"Raster function template"===u?v="Raster Function Template":"OGCFeatureServer"===u?v="OGC Feature Layer":"web mapping application"===u&&-1<h.indexOf(E,"configurableApp")?v="Instant App":"Insights Page"===u?v="Insights Report":"Excalibur Imagery Project"===u&&(v="Excalibur Project");return v},_getIconUrl:function(){var u=this.type&&this.type.toLowerCase()||"",E=this.typeKeywords||[],v=!1,A=!1,F=!1,I=!1,N=!1,da=!1;A=!1;0<u.indexOf("service")||"feature collection"===
u||"kml"===u||"wms"===u||"wmts"===u||"wfs"===u?(v=-1<h.indexOf(E,"Hosted Service"),"feature service"===u||"feature collection"===u||"kml"===u||"wfs"===u?(I=-1<h.indexOf(E,"Table"),A=-1<h.indexOf(E,"Route Layer"),F=-1<h.indexOf(E,"Markup"),N=-1!==h.indexOf(E,"Spatiotemporal"),da=-1!==h.indexOf(E,"UtilityNetwork"),u=N&&I?"spatiotemporaltable":I?"table":A?"routelayer":F?"markup":N?"spatiotemporal":da?"utilitynetwork":v?"featureshosted":"features"):"map service"===u||"wms"===u||"wmts"===u?(N=-1!==h.indexOf(E,
"Spatiotemporal"),A=-1!==h.indexOf(E,"Relational"),u=N||A?"mapimages":v||-1<h.indexOf(E,"Tiled")||"wmts"===u?"maptiles":"mapimages"):u="scene service"===u?-1<h.indexOf(E,"Line")?"sceneweblayerline":-1<h.indexOf(E,"3DObject")?"sceneweblayermultipatch":-1<h.indexOf(E,"Point")?"sceneweblayerpoint":-1<h.indexOf(E,"IntegratedMesh")?"sceneweblayermesh":-1<h.indexOf(E,"PointCloud")?"sceneweblayerpointcloud":-1<h.indexOf(E,"Polygon")?"sceneweblayerpolygon":-1<h.indexOf(E,"Building")?"sceneweblayerbuilding":
-1<h.indexOf(E,"Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===u?-1<h.indexOf(E,"Elevation 3D Layer")?"elevationlayer":-1<h.indexOf(E,"Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===u?"streamlayer":"vector tile service"===u?"vectortile":"datastore catalog service"===u?"datastorecollection":"geocoding service"===u?"geocodeservice":"video service"===u?-1<h.indexOf(E,"Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===u?-1<h.indexOf(E,"Web Tool")?
"tool":"layers":"geodata service"===u?"geodataservice":"layers"):u="web map"===u||"cityengine web scene"===u?"maps":"web scene"===u?-1<h.indexOf(E,"ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===u&&-1<h.indexOf(E,"configurableApp")?"instantapps":"web mapping application"===u||"mobile application"===u||"application"===u||"operation view"===u||"desktop application"===u?"apps":"map document"===u||"map package"===u||"published map"===u||"scene document"===u||"globe document"===
u||"basemap package"===u||"mobile basemap package"===u||"mobile map package"===u||"project package"===u||"project template"===u||"pro map"===u||"layout"===u||"layer"===u&&-1<h.indexOf(E,"ArcGIS Pro")||"explorer map"===u&&h.indexOf(E,"Explorer Document")?"mapsgray":"service definition"===u||"csv"===u||"shapefile"===u||"cad drawing"===u||"geojson"===u||"netcdf"===u||"administrative report"===u?"datafiles":"360 vr experience"===u?"360vr":"explorer add in"===u||"desktop add in"===u||"windows viewer add in"===
u||"windows viewer configuration"===u?"appsgray":"arcgis pro add in"===u||"arcgis pro configuration"===u?"addindesktop":"rule package"===u||"file geodatabase"===u||"sqlite geodatabase"===u||"csv collection"===u||"kml collection"===u||"windows mobile package"===u||"map template"===u||"desktop application template"===u||"gml"===u||"arcpad package"===u||"code sample"===u||"form"===u||"document link"===u||"earth configuration"===u||"operations dashboard add in"===u||"rules package"===u||"image"===u||
"workflow manager package"===u||"explorer map"===u&&-1<h.indexOf(E,"Explorer Mapping Application")||-1<h.indexOf(E,"Document")?"datafilesgray":"network analysis service"===u||"geoprocessing service"===u||"geodata service"===u||"geometry service"===u||"geoprocessing package"===u||"locator package"===u||"geoprocessing sample"===u||"workflow manager service"===u?"toolsgray":"layer"===u||"layer package"===u||"explorer layer"===u?"layersgray":"scene package"===u?"scenepackage":"mobile scene package"===
u?"mobilescenepackage":"tile package"===u||"compact tile package"===u?"tilepackage":"task file"===u?"taskfile":"report template"===u?"report-template":"statistical data collection"===u?"statisticaldatacollection":"insights workbook"===u?"workbook":"insights model"===u?"insightsmodel":"insights page"===u?"insightspage":"insights theme"===u?"insightstheme":"hub initiative"===u?"hubinitiative":"hub page"===u?"hubpage":"hub site application"===u?"hubsite":"hub event"===u?"hubevent":"hub project"===u?
"hubproject":"relational database connection"===u?"relationaldatabaseconnection":"big data file share"===u?"datastorecollection":"image collection"===u?"imagecollection":"desktop style"===u?"desktopstyle":"style"===u?"style":"dashboard"===u?"dashboard":"raster function template"===u?"rasterprocessingtemplate":"vector tile package"===u?"vectortilepackage":"ortho mapping project"===u?"orthomappingproject":"ortho mapping template"===u?"orthomappingtemplate":"solution"===u?"solutions":"geopackage"===
u?"geopackage":"deep learning package"===u?"deeplearningpackage":"real time analytic"===u?"realtimeanalytics":"big data analytic"===u?"bigdataanalytics":"feed"===u?"feed":"excalibur imagery project"===u?"excaliburimageryproject":"notebook"===u?"notebook":"storymap"===u?"storymap":"survey123 add in"===u?"survey123addin":"mission"===u?"mission":"mission report"===u?"missionreport":"quickcapture project"===u?"quickcaptureproject":"pro report"===u?"proreport":"pro report template"===u?"proreporttemplate":
"urban model"===u?"urbanmodel":"web experience"===u?"experiencebuilder":"web experience template"===u?"webexperiencetemplate":"experience builder widget"===u?"experiencebuilderwidget":"experience builder widget package"===u?"experiencebuilderwidgetpackage":"workflow"===u?"workflow":"kernel gateway connection"===u?"kernelgatewayconnection":"insights script"===u?"insightsscript":"hub initiative template"===u?"hubinitiativetemplate":"storymap theme"===u?"storymaptheme":"knowledge graph"===u?"knowledgegraph":
"native application"===u?"nativeapp":"native application installer"===u?"nativeappinstaller":"link chart"===u?"linkchart":"investigation"===u?"investigation":"ogcfeatureserver"===u?"features":"pro project"===u?"proproject":"insights workbook package"===u?"insightsworkbookpackage":"apache parquet"===u?"apacheparquet":"notebook code snippets"===u||"notebook code snippet library"===u?"notebookcodesnippets":"suitability model"===u?"suitabilitymodel":"esri classifier definition"===u?"classifierdefinition":
"esri classification schema"===u?"classificationschema":"insights data engineering workbook"===u?"dataengineeringworkbook":"insights data engineering model"===u?"dataengineeringmodel":"deep learning studio project"===u?"deeplearningproject":"discussion"===u?"discussion":"allsource project"===u?"allsourceproject":"api key"===u?"apikey":"data pipeline"===u?"datapipelines":"maps";return u?q.toUrl("../css/images/item_type_icons/"+u+"16.png"):null},_getIsPremiumContent:function(){var u=this.typeKeywords,
E=!1;if(-1<h.indexOf(u,"Requires Subscription")||-1<h.indexOf(u,"Requires Credits"))E=!0;return E},_getPremiumIconUrl:function(){var u=this.typeKeywords,E;this.isPremiumContent&&(E=-1<h.indexOf(u,"Requires Credits")?"premiumcredits":"premiumitem");return E?q.toUrl("../css/images/item_type_icons/"+E+"16.png"):null},getThumbnailUrl:function(u){var E=this.thumbnailUrl;E&&u&&(E+=(-1===E.indexOf("?")?"?":"\x26")+"w\x3d"+u);return E}}),z=G([],{declaredClass:"esri.arcgis.PortalListing",constructor:function(u){x.mixin(this,
u);this.id=this.itemId;this.url=(this.portal&&this.portal.portalUrl)+"content/"+(this.userItemUrl?"items/":"listings/")+this.itemId;this.commentsUrl=this.url+"/comments";this.created=this.created?new Date(this.created):null;this.banner=this.banner?e.formatUrl(this.url+"/info/"+this.banner):"";this.thumbnail=this.thumbnail?e.formatUrl(this.url+"/info/"+this.thumbnail):"";this.largeThumbnail=this.largeThumbnail?e.formatUrl(this.url+"/info/"+this.largeThumbnail):"";this.avgRating=this.avgRating||0;this.numRatings=
this.numRatings||0;this.numComments=this.numComments||0;this.listingProperties=this.listingProperties||{priceDesc:"",creditsPerTransaction:0,licenseType:"free",trialSupported:!1,trialDuration:0,listingAccess:"private"};for(var E in this.listingProperties)this[E]&&(this.listingProperties[E]=this[E]);this.properties=this.properties||{systemRequirements:"",termsAndConditions:"",version:"1.0"};this.screenshots=h.map(this.screenshots,x.hitch"+v)}));
this.vendorName=this.vendor.name;this.vendor.thumbnail=this.vendor.thumbnail?this.userItemUrl?e.formatUrl(this.portal.portalUrl+"/portals/self/resources/"+this.vendor.thumbnail):e.formatUrl(this.url+"/vendorinfo/"+this.vendor.thumbnail):""},getComments:function(){return e.requestToTypedArray(this.commentsUrl,null,null,b,{item:this})},getVendor:function(){return this.vendor}}),C=G([],{declaredClass:"esri.arcgis.PortalProvision",constructor:function(u){x.mixin(this,u);this.created=this.created?new Date(this.created):
null;this.startDate=this.startDate?new Date(this.startDate):null;this.endDate=this.endDate&&-1!==this.endDate?new Date(this.endDate):null;this.listing=u.listing?new z(x.mixin(u.listing,{portal:this.portal})):null}}),y=G([],{declaredClass:"esri.arcgis.PortalGroup",constructor:function(u){x.mixin(this,u);this.url=(this.portal&&this.portal.portalUrl)+"community/groups/"+this.id;this.thumbnailUrl=e.formatUrl(this.url+"/info/"+this.thumbnail);this.modified=this.modified?new Date(this.modified):null;this.created=
this.created?new Date(this.created):null},getMers")},queryItems:function(u,E){u=e.formatQueryParams({},u,E);u.q="group:"+this.id+(u.q?" "+u.q:"");return this.portal.queryItems(u)},getThumbnailUrl:function(u){var E=this.thumbnailUrl;E&&u&&(E+=(-1===E.indexOf("?")?"?":"\x26")+"w\x3d"+u);return E}}),D=G([],{declaredClass:"esri.arcgis.PortalFolder",constructor:function(u){x.mixin(this,u);this.url=(this.portal&&this.portal.portalUrl)+"content/users/"+this.username+
"/"+this.id;this.created=this.created?new Date(this.created):null},getItems:function(){return e.requestToTypedArray(this.url,null,null,t,{portal:this.portal,folderId:this.id})}}),B=G([],{declaredClass:"esri.arcgis.PortalUser",constructor:function(u){x.mixin(this,u);this.url=(this.portal&&this.portal.portalUrl)+"community/users/"+this.username;this.userContentUrl=(this.portal&&this.portal.portalUrl)+"content/users/"+this.username;this.thumbnailUrl=this.thumbnail?e.formatUrl(this.url+"/info/"+this.thumbnail):
null;this.modified=this.modified?new Date(this.modified):null;this.created=this.created?new Date(this.created):null},getGroups:function(){return m(e.request(this.url).then(x.hitch(this,function(u){return e.resultsToTypedArray(y,{portal:this.portal},u.groups)})))},getNotifications:function(){return e.requestToTypedArray(this.url+"/notifications",null,null,null,{portal:this.portal})},getGroupInvitations:function(){return e.requestToTypedArray(this.url+"/invitations",null,null,null,{portal:this.portal})},
getTags:function(){return e.requestToTypedArray(this.url+"/tags",null,null,null,{portal:this.portal})},getFolders:function(){return m(this.getContent(null,{num:1}).then(function(u){return u.folders}))},getItems:function(u){return m(this.getContent(u).then(function(E){return E.items}))},getItem:function(u){return e.request(this.portal.portalUrl+"content/items/"+u).then(x.hitch(this,function(E){return new t(x.mixin(E,{portal:this.portal}))}))},getContent:function(u,E){var v=this.url.replace("/community/",
"/content/")+(u?"/"+u:"");return e.request(v,E).then(x.hitch(this,function(A){A.folders=e.resultsToTypedArray(D,{portal:this.portal},A.folders);A.items=e.resultsToTypedArray(t,{portal:this.portal,folderId:u},A.items);return A}))},getThumbnailUrl:function(u){var E=this.thumbnailUrl;E&&u&&(E+=(-1===E.indexOf("?")?"?":"\x26")+"w\x3d"+u);return E}});G={Portal:G([k],{declaredClass:"esri.arcgis.Portal",onLoad:function(){},onError:function(){},constructor:function(u){u=x.isObject(u)?u:{url:u};this.registerConnectEvents();
l={options:{disableIdentityLookup:!0},requestParams:{f:"json"}};u.self?(l.self=u.self,x.mixin(this,{url:u.url||d.getProtocolForWebResource()+"//"+(u.self.urlKey?u.self.urlKey+"."+u.self.customBaseUrl:u.self.portalHostname)}),this.portalUrl=-1!==this.url.indexOf("/sharing")?this.url+"/":this.url+"/sharing/rest/",u=u.self.user?this.signIn():this.init(this.url)):(u.url&&x.mixin(this,{url:u.url}),u=this.init(this.url));u.then(x.hitch(this,function(){this.emit("ready",this);this.onLoad(this)}))},init:function(u,
E){u=(u||this.portalUrl).replace(/\/+$/,"");this.portalUrl=-1!==u.indexOf("/sharing")?u+"/":u+"/sharing/rest/";d.canUseXhr(this.portalUrl)||n.defaults.io.corsEnabledServers.push(this.portalUrl.replace(/^https?:\/\//i,""));return this._getSelf(this.portalUrl).then(x.hitch(this,function(v){l.self=x.mixin({},v);(v=v.user)&&E&&(l.currentToken=E&&E.token,l.loggedInUser=new B(x.mixin(v,{portal:this,credential:E})));l.self.id&&!1===l.self.canSearchPublic&&(l.extraQuery=" AND orgid:"+l.self.id);x.mixin(this,
l.self);this.thumbnailUrl=e.formatUrl(this.portalUrl+"portals/self/resources/"+this.thumbnail);this.isOrganization=this.access&&this.access.length?!0:!1;this.created=this.created?new Date(this.created):null;this.modified=this.modified?new Date(this.modified):null;return this}),x.hitchw v;}))},signIn:function(){var u=new r,E=x.hitch(this,function(){this._onSignIn().then(x.hitch(this,function(){u.resolve(l.loggedInUser)}),x.hitch(this,function(v){u.reject(v)}))});
if(l&&l.self)l&&l.loggedInUser?setTimeout(function(){u.resolve(l.loggedInUser)},0):E();else this.on("load",x.hitch(this,function(){E()}));return u},signOut:function(){l.loggedInUser.credential&&l.loggedInUser.credential.destroy();l.loggedInUser=null;l.options.disableIdentityLookup=!0;e.clearFieldsFromObject(l.self,this);l.self=null;return this.init(this.url)},getPortalUser:function(){return l.loggedInUser},addResource:function(u,E){return e.request(this.portalUrl+"portals/self/addResource",{key:u,
text:E},{usePost:!0})},update:function(u){return e.request(this.portalUrl+"portals/self/update",u,{usePost:!0})},queryGroups:function(u,E){return this._queryPortal(this.portalUrl+"community/groups",e.formatQueryParams({},u,E),y)},queryItems:function(u,E){return this._queryPortal(this.portalUrl+"search",e.formatQueryParams({},u,E),t)},queryListings:function(u){u=e.formatQueryParams({},u,!0);var E="";u.q&&-1<u.q.toLowerCase().indexOf("mylistings:true")?(u.q=u.q.toLowerCase().replace("mylistings:true",
""),E="?mylistings\x3dtrue"):u.q||(u.q='""');return this._queryPortal(this.portalUrl+"content/listings"+E,u,z)},queryCustomerList:function(u,E){u=e.formatQueryParams({},u,!0);return this._queryPortal(this.portalUrl+"portals/self/customersList",u)},getProvisions:function(){return this.getCustomers().then(x.hitch(this,function(u){return u.purchases}))},getInterests:function(){return this.getCustomers().then(x.hitch(this,function(u){return u.interests}))},getTrials:function(){return this.getCustomers().then(x.hitch(this,
function(u){return u.trials}))},getCustomers:function(u){return e.request(this.portalUrl+"portals/self/customers",{status:u||"all"})},getMyPurchases:function(){return this.getPurchases().then(function(u){return u.purchases})},getMyIntets})},getPurchases:function(){return e.request(this.portalUrl+"portals/self/purchases").then(x.hitch(this,function(u){u.interests=h.map(u.interests,function(E){return x.mixin(E.provision,{listing:E.listing})});
u.purchases=h.map(u.purchases,function(E){return x.mixin(E.provision,{listing:E.listing})});u.trials=h.map(u.tng})});u.interests=e.resultsToTypedArray(C,{portal:this},u.interests);u.trials=e.resultsToTypedArray(C,{portal:this},u.trials);u.purchases=e.resultsToTypedArray(C,{portal:this},u.purchases);return u}))},queryUsers:function(u,E){return this._queryPortal(this.portalUrl+"community/users",e.formatQueryParams({sortField:"username"},u,
E),B)},_onSignIn:function(){l.options.disableIdentityLookup=!1;l.self=null;return f.id.getCredential(this.portalUrl).then(x.hitch(this,"init",this.url))User},x.hitch(this,function(u){l.options.disableIdentityLookup=!0;this.onError(u);throw u;}))},_getSelf:function(u){u+="portals/self";if(l.self){var E=new r;setTielf)},0)}else E=e.request(u,{culture:c.locale,withCredentials:!0});return E},_queryPortal:function(u,E,v){var A=x.mixin({num:10,
start:0,sortField:"title",sortOrder:"asc"},E),F=["start","query","num","nextStart"];u=e.request(u,A).then(x.hitch(this,function(I){I.results=e.resultsToTypedArray(v,{portal:this},I);I.queryParams=x.mixin({},A);I.nextQueryParams=x.mixin(A,{start:I.nextStart});return e.clearFieldsFromObject(F,I)}));u=x.delegate(u);u.queryParams=x.mixin({},A);u.nextQueryParams=r.when(u,function(I){return I.nextQueryParams});return m(u)}}),PortalFolder:D,PortalGroup:y,PortalItem:t,PortalUser:B,PortalComment:b,PortalRating:p,
PortalUtil:e,PortalResult:m,PortalListing:z};w("extend-esri")&&x.mixin(x.getObject("arcgis",!0,f),G);return G})},"esri/IdentityManid})},"esri/IdentityManagerDi x})},"dijit/Dina})},"dojo/dnd/Move})})},"dojo/dnd/co h})},"dojo/dnd/M})})},"dojo/dnd/autosc q})},"dojo/dnd/TimedMove})})},"dijit/DialogUnde k})},"esri/Creden G})},"esri/IdentityManagerBase":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/url dojo/sniff dojo/io-query dojo/on ./kernel ./config ./lang ./ServerInfo ./urlUtils ./deferredUtils ./request ./Evented ./OAuthCredential ./arcgis/OAuthInfo".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t){var zt()}))},D=null,B=null;try{D=window.localStorage,B=window.sessionStorage}catch(v){}var u=G(b,{declaredClass:"esri.IdentityManagerBase",constrer))},defaultOAuthInfo:null,defaultTokenValidity:60,tokenValidity:null,normalizeWebTierAuth:!1,_appUrlObj:l.urlToObject(window.location.href),_postMessageAuthHandle:null,_busy:null,_rejectOnPersistedPageShow:!1,_oAuthLocationParams:null,_gwTokenUrl:"/sharing/generateToken",_agsRest:"/rest/services",_agsPortal:/\/sharing(\/|$)/i,_agsAdmin:/(https?:\/\/[^\/]+\/[^\/]+)\/admin\/?(\/.*)?$/i,
_adminSvcs:/\/rest\/admin\/services(\/|$)/i,_gwDomains:[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/generateToken"},
{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/generateToken"}],_legacyFed:[],_regexSDirUrl:/http.+\/rest\/services\/?/ig,_regexServerType:/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|KnowledgeGraphServer|MapServer|MissionServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer|VideoServer)).*/ig,
_gwUser:/http.+\/users\/([^\/]+)\/?.*/i,_gwItem:/http.+\/items\/([^\/]+)\/?.*/i,_gwGroup:/http.+\/groups\/([^\/]+)\/?.*/i,_errorCodes:[499,498,403,401],_rePortalTokenSvc:/\/sharing(\/rest)?\/generatetoken/i,_publicUrls:[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],_createDefaultOAuthInfo:!0,_hasTestedIfAppIsOnPortal:!1,registerSehis)},registerOAuthos=v},registerns()},t})})},initiis)}},findServerInfo:function(v){var A;v=this._sanitizeUrl(v);r.some(this.serverInfos,function(F){this._hasSameServerInstance(F.server,v)&&
(A=F);return!!A},this);return A},findOAutrn A},findCredern F},getCrede,ba)},getResourc||""},generatern I},isBusy:function(){return!!this._busy},checkSignInSrn A},checkAppAN}})},setProtocolErrorHandler:function(v){this._protocolFunc=v},signIn:function(){},oAuthSignIn:function(){},onCredentialCreate:function(){},onCredentialsDestroy:function(){},destroyCredenoy()},enablePostMessagis))},disablePostMessageAuth:function(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)},_getOAuthLocationParams:function(){var v=window.location.hash;if(v){"#"===v.charAt(0)&&(v=v.substring(1));v=n.queryToObject(v);var A=!1;if(v.access_token&&v.expires_in&&v.state&&v.hasOwnProperty("username"))try{v.state=JSON.parse(v.state),v.state.portalUrl&&(this._oAuthLocationParams=v,A=!0)}catch(I){}else if(v.error&&
v.error_description&&(console.log("IdentityManager OAuth Error: ",v.error," - ",v.error_description),"access_denied"===v.error&&(A=!0,v.state)))try{v.state=JSON.parse(v.state)}catch(I){}A&&(window.location.hash=v.state&&v.state.hash||"")}if(v=window.location.search){"?"===v.charAt(0)&&(v=v.substring(1));v=n.queryToObject(v);A=!1;if(v.code&&v.state)try{v.state=JSON.parse(v.state),v.state.portalUrl&&v.state.uid&&(this._oAuthLocationParams=v,A=!0)}catch(I){}else if(v.error&&v.error_description&&(console.log("IdentityManager OAuth Error: ",
v.error," - ",v.error_description),"access_denied"===v.error&&(A=!0,v.state)))try{v.state=JSON.parse(v.state)}catch(I){}if(A){var F=d.mixin({},v);"code error error_description message_code persist state".split(" ").forEach(function(I){delete F[I]});A=n.objectToQuery(F);window.history.replaceState(window.history.state,"",window.location.pathname+(A?"?"+A:"")+(v.state&&v.state.hash||""))}}},_getOAuthToken:function(v,A,F,I,N){v=v.replace(/^http:/i,"https:");return e({url:v+"/sharing/rest/oauth2/token",
content:I&&N?{grant_type:"authorization_code",code:A,redirect_uri:I,client_id:F,code_verifier:N}:{grant_type:"refresh_token",refresh_token:A,client_id:F}},{disableIdentityLookup:!0,usePost:!0})},_pageShowHa(v))},_findCrede),W}},_findOAutrn A},_addResh(v)},_removeRes,1))},_useref)},_getO:"")},_getServerInstanceRoot:function(v){var A=v.toLowerCase(),F=A.indexOf(this._agsRest);-1===
F&&this._isAdminResource(v)&&(F=this._agsAdmin.test(v)?v.replace(this._agsAdmin,"$1").length:v.search(this._adminSvcs));-1!==F||l.isSecureProxyService(A)||(F=A.indexOf("/sharing"));-1===F&&"/"===A.substr(-1)&&(F=A.length-1);return-1<F?v.substring(0,F):v},_hasSameServerIns===A},_normalizeAGOLorgDrn v},_sanitipath},_isRESTSeest)},_isAdminRest(v)},_isServee(v)},_isIdenticalSern F},_isPortalDath)},_isIdProrn N},_isPv)})},_getIdenticalSrn F},_getS$1")},
_getTokenSens"},_exchangeen})},_getPlatformSelf:function(v,A){v=v.replace(/^http:/i,"https:");return e({url:v+"/sharing/rest/oauth2/platformSelf",content:{f:"json",expiration:30},headers:{"X-Esri-Auth-Client-Id":A,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},withCredentials:!0},{disableIdentityLookup:!0,usePost:!0})},_getPortalSelf:function(v,A){var F="";r.some(this._gwDon!!F});if(F)return A=new h,
A.resolve({allSSL:!0,currentVersion:"8.4",customBaseUrl:F,portalMode:"multitenant",supportsOAuth:!0}),A;"https:"===window.location.protocol?v=v.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(A)&&(v=v.replace(/^https:/i,"http:").replace(/:7443/i,":7080"));return e({url:v,content:{f:"json"},callbackParamName:"callback",withCredentials:!0},{disableIdentityLookup:!0})},_doPortalS0:!1},_checkProrn N},_enrn I},_doSignIn:function(v){this._busy=v;this._rejectOnPersistedPageShow=!1;var A=this,F=function(W){var la=v.options_&&v.options_.resource,ha=v.resUrl_,sa=v.refresh_,Ca=!1;-1===r.indexOf(A.credentials,W)&&(sa&&-1!==r.indexOf(A.credentials,sa)?(sa.userId=W.userId,sa.token=W.token,sa.expires=W.expires,sa.validity=W.validity,sa.ssl=W.ssl,sa.creationTime=
W.creationTime,Ca=!0,W=sa):A.credentials.push(W));W.resources||(W.resources=[]);-1===W.resources.indexOf(la||ha)&&W.resources.push(la||ha);W.scope=A._isServerRsrc(ha)?"server":"portal";W.onTokenChange();la=A._soReqs;var oa={};A._soReqs=[];r.forEa_))}},A);v.callback(W);r.forEa(qa)},A);A._busy=v.resUrl_=v.sinfo_=v.refresh_=null;if(!Ca)A.onCredentialCreate({credential:W});A._soReqs.length?A._doSignIn(A._soReqs.shift()):A._xoReqs.length&&A._doSignIn(A._xoReqs.shift(t())},N=function(W,la,ha,sa){var Ca=v.sinfo_,oa=!v.options_||!1!==v.options_.prompt,qa=Ca.hasPortal&&A._findOAuthInfo(v.resUrl_);
if(W)F(new E({userId:W,server:Ca.server,token:ha||null,expires:d.isDefined(sa)?Number(sa):null,ssl:!!la}));else if(window!==window.parent&&A._appUrlObj.query&&A._appUrlObj.query["arcgis-auth-origin"]&&A._appUrlObj.query["arcgis-auth-portal"]&&A._hasSameServerInstance(A._getServerInstanceRoot(A._appUrlObj.query["arcgis-auth-portal"]),v.resUrl_)){window.parent.postMessage({type:"arcgis:auth:requestCredential"},A._appUrlObj.query["arcgis-auth-origin"]);var L=f(window,"message",function(pa){if(pa.source===
window.parent&&pa.data)if("arcgis:auth:credential"===pa.data.type&&pa.data.credential.expires<Date.now()&&(pa.data.type="arcgis:auth:error",pa.data.error={name:"tokenExpiredError"}),"arcgis:auth:credential"===pa.data.type)L.remove(),F(new E(pa.data.credential));else if("arcgis:auth:error"===pa.data.type){L.remove();pa=pa.data.error;switch(pa.name){case "identity-manager:busy":case "identity-manager:not-authorized":var ta="IdentityManager.1";break;case "identity-manager:server-identification-failed":case "identity-manager:unknown-resource":case "identity-manager:user-aborted":ta=
"IdentityManager.2";break;case "identity-manager:authentication-failed":case "identity-manager:credential-request-failed":case "tokenExpiredError":ta="IdentityManager.3";"tokenExpiredError"===pa.name&&(pa.name="identity-manager:credential-request-failed",pa.message="Parent application's token has expired.");break;case "identity-manager:aborted":ta="IdentityManager.4";break;case "identity-manager:not-authenticated":ta="IdentityManager.6";break;case "identity-manager:invalid-request":ta=400}var ea=
Error(pa.message);ea.name=pa.name;ea.code=ta;ea.log=!!x.isDebug;I(ea)}})}else if(qa){var Y=qa._oAuthCred;Y||(W=new p(qa,D),la=new p(qa,B),W.isValid()&&la.isValid()?W.expires>la.expires?(Y=W,la.destroy()):(Y=la,W.destroy()):Y=W.isValid()?W:la,qa._oAuthCred=Y);if(Y.isValid()){var ca=new E({userId:Y.userId,server:Ca.server,token:Y.token,expires:Y.expires,ssl:Y.ssl,_oAuthCred:Y});var V=qa.appId!==Y.appId&&A._doPortalSignIn(v.resUrl_);V||Y.refreshToken?(Y.refreshToken?v._pendingDfd=A._getOAuthToken(Ca.server,
Y.refreshToken,Y.appId).then(function(pa){ca.expires=Date.now()+1E3*pa.expires_in;ca.token=pa.access_token;return ca}):(W=new h,W.resolve(ca),v._pendingDfd=W),v._pendingDfd.then(function(pa){return V?A._exchangeToken(pa.server,qa.appId,pa.token)n pa}).catch(function(){return pa}):pa}).then(function(pa){F(pa)}).;N()})):F(ca)}else if(A._oAuthLocationParams&&A._hasSameServerInstance(qa.portalUrl,A._oAuthLocationParams.state.portalUrl)&&
(A._oAuthLocationParams.access_token||A._oAuthLocationParams.code&&A._oAuthLocationParams.state.uid===Y.stateUID&&Y.codeVerifier))W=A._oAuthLocationParams,A._oAuthLocationParams=null,v._pendingDfd=A._processOAuthResponseParams(W,qa,Ca).then(function(pa){F(pa)}).catch(I);else{ja))};A._doPortalSignIn(v.resUrl_)?v._pendingDfd=A._getPlatformSelf(Ca.server,qa.appId).then(function(pa){var ta=pa.portalUrl;!ta||l.hasSameOrigin(ta,window.location.origin,!0)?(ca=new E({userId:pa.username,server:Ca.server,expires:Date.now()+1E3*pa.expires_in,token:pa.token}),F(ca)):X()}).catch(X):X()}}else if(oa)A._checkProtocol(v.resUrl_,Ca,I,v.admin_)&&(W=v.options_,v.admin_&&(W=W||{},W.isAdmin=!0),v._pendingDfd=A.signIn(v.resUrl_,Ca,W).addCallbacks(F,I));else{var ja=Error("User is not signed in.");
ja.name="identity-manager:not-authenticated";ja.code="IdentityManagerBase.6";ja.log=!!x.isDebug;I(ja))}))};this._errbackFunc=I;var ba=v.sinfo_.owningSystemUrl,na=this._isServerRsrc(v.resUrl_),xa=v.sinfo_._restInfoDfd;xa?xa.addCallI(W)}):na&&ba?da():v.sinfo_._selfReq?v.sinfo_._selfReq.selfDfd.then(function(W){var la={};if(W){var ha=W.user&&W.user.username;
la.username=ha;la.allSSL=W.allSSL;var sa=W.supportsOAuth;var Ca=parseFloat(W.currentVersion);if("multitenant"===W.portalMode)var oa=W.customBaseUrl;v.sinfo_.currentVersion=Ca}v.sinfo_.webTierAuth=!!ha;return ha&&A.normalizeWebTierAuth?A.generateToken(v.sinfo_,null,{ssl:la.allSSL}).adn la}):!ha&&sa&&4.4<=Ca&&!A._findOAuthInfo(v.resUrl_)?A._generateOAuthInfo({portalUrl:v.sinfo_.server,customBaseUrl:oa,owningTenant:v.sinfo_._selfReq.owningTenant}).always(function(){return la}):
la}).a:N()}):N()},_generateOAut})})}});var E=G(b,{declaredClass:"esri.Credential",tokenRefreshBuffer:2,constre())},
_oAuthCred:null,refresh{})}},refreshServerThis)},onTokenCer()},onDestroy:function(){},deoy()},toJson:function(){return this._toJson()},_trn v},_startRefreshv:F)}});u.Credential=E;q("extend-esri")&&(g.IdentityManagerBase=u);return u})},"esri/Server G})},"esri/OAuthCredential":function(){define(["./kernel","dojo/_base/declare","dojo/has"],function(G,x,c){x=x(null,{declaredClass:"esri.OAuthCredential",oAuthInfo:null,storage:null,appId:null,codeVerifier:null,expires:null,refreshToken:null,ssl:null,stateUID:null,token:null,userId:null,constrit()},isValid:function(){var r=!1;if(this.oAuthInfo&&this.userId&&(this.refreshToken||this.token))if(null==
this.expires&&this.refreshToken)r=!0;else{var h=Date.now();this.expires>h&&(this.expires-h)/1E3>60*this.oAuthInfo.minTimeUntilExpiration&&(r=!0)}return r},save:function(){if(!this.storage)return!1;var r=this._load(),h=this.oAuthInfo;if(h&&h.authNamespace&&h.portalUrl){var w=r[h.authNamespace];w||(w=r[h.authNamespace]={});this.appId||(this.appId=h.appId);w[h.portalUrl]={appId:this.appId,codeVerifier:this.codeVerifier,expires:this.expires,refreshToken:this.refreshToken,ssl:this.ssl,stateUID:this.stateUID,
token:this.token,userId:this.userId};try{this.storage.setItem("esriJSAPIOAuth",JSON.stringify(r))}catch(q){return console.warn(q),!1}return!0}return!1},destroy:function(){var r=this._load(),h=this.oAuthInfo;if(h&&h.appId&&h.portalUrl&&(null==this.expires||this.expires>Date.now())&&(this.refreshToken||this.token)){var w=h.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",q=new FormData;q.append("f","json");q.append("auth_token",this.refreshToken||this.token);q.append("client_id",
h.appId);q.append("token_type_hint",this.refreshToken?"refresh_token":"access_token");if("function"===typeof navigator.sendBeacon)navigator.sendBeacon(w,q);else{var n=new XMLHttpRequest;n.open("POST",w);n.send(q)}}if(h&&h.authNamespace&&h.portalUrl&&this.storage&&(w=r[h.authNamespace])){delete w[h.portalUrl];try{this.storage.setItem("esriJSAPIOAuth",JSON.stringify(r))}catch(f){console.log(f)}}h&&(this.oAuthInfo=h._oAuthCred=null)},_init:function(){var r=this._load(),h=this.oAuthInfo;h&&h.authNamespace&&
h.portalUrl&&(r=r[h.authNamespace])&&(r=r[h.portalUrl])&&(this.appId=r.appId,this.codeVerifier=r.codeVerifier,this.expires=r.expires,this.refreshToken=r.refreshToken,this.ssl=r.ssl,this.stateUID=r.stateUID,this.token=r.token,this.userId=r.userId)},rn r}});c("extend-esri")&&(G.OAuthCredential=x);return x})},"esri/arcgis/OAuthInfo":function(){define(["../kernel",
"../lang","dojo/_base/declare","dojo/_base/lang","dojo/has"],function(G,x,c,r,h){var w=c(null,{declaredClass:"esri.arcgis.OAuthInfo",constructor:function(q){r.mixin(this,{expiration:20160,minTimeUntilExpiration:30,portalUrl:"https://www.arcgis.com",authNamespace:"/",forceLogin:!1,popup:!1,popupCallbackUrl:"oauth-callback.html",popupWindowFeatures:"height\x3d490,width\x3d800,resizable,scrollbars,status",preserveUrlHash:!1,flowType:"auto"},q)},_oAuthCred:null,toJson:function(){return x.fixJson({appId:this.appId,
expiration:this.expiration,locale:this.locale,minTimeUntilExpiration:this.minTimeUntilExpiration,portalUrl:this.portalUrl,authNamespace:this.authNamespace,forceLogin:this.forceLogin,popup:this.popup,popupCallbackUrl:this.popupCallbackUrl,popupWindowFeatures:this.popupWindowFeatures,preserveUrlHash:this.preserveUrlHash,flowType:this.flowType})},clone:function(){return new w(this.toJson())}});h("extend-esri")&&r.setObject("arcgis.OAuthInfo",w,G);return w})},"dijit/form/})})},"dijit/form/ValidationTex n})},"dijit/form/Tex n})},"dijit/form/_FormValueWi})})},"dijit/form/_FormValueM})})},"dijit/form/_TextBoxM f})},"dijit/Too C})},"esri/OAuthSignInHandler":function(){define("./Credential ./domUtils ./lang ./urlUtils dijit/Dialog dijit/registry dojo/_base/config dojo/_base/Deferred dojo/_base/kernel dojo/dom-attr dojo/i18n!./nls/jsapi dojo/io-query ./core/events dijit/form/Button dojo/query".split(" "),function(G,x,c,r,h,w,q,n,f,g,a,d,k){var l=null,m=null;try{l=window.localStorage,m=window.sessionStorage}catch(b){}var e=window.crypto||
window.msCrypto;return{_oAuthDfd:null,_oAuthIntervalId:0,_oAuthDialogContent:"\x3cdiv class\x3d'dijitDialogPaneContentArea'\x3e\x3cdiv style\x3d'padding-bottom: 5px; word-wrap: break-word;'\x3e${oAuthInfo}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'esriErrorMsg' style\x3d'display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'\x3e${invalidUser}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitDialogPaneActionBar'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdSubmit\"'\x3e${lblOk}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdCancel\"'\x3e${lblCancel}\x3c/button\x3e\x3c/div\x3e",
setOAuthRedirectionHandler:function(b){this._oAuthRedirectFunc=b},oAuthSignIn:function(b,p,t,z){var C=this._oAuthDfd=new n;C.resUrl_=b;C.sinfo_=p;C.oinfo_=t;var y=t._oAuthCred;if(y.storage&&("authorization-code"===t.flowType||"auto"===t.flowType&&!t.popup&&8.4<=p.currentVersion)){var D=e.getRandomValues(new Uint8Array(32));var B=r.base64UrlEncode(D);y.codeVerifier=B;D=e.getRandomValues(new Uint8Array(32));y.stateUID=r.base64UrlEncode(D);y.save()||(y.codeVerifier=B=null)}else y.codeVerifier=null;var u=
this;this._getCodeChallenge(B).then(function(E){var v=!z||!1!==z.oAuthPopupConfirmation;if(!t.popup||!v)return u._doOAuthSignIn(b,p,t,E),C;C.codeChallenge_=E;u._nls||(u._nls=a.identity);u.oAuthDialog||(u.oAuthDialog=u._createOAuthDialog());E=u.oAuthDialog;v=z&&z.error;var A=z&&z.token;x.hide(E.errMsg_);v&&403==v.code&&A&&(g.set(E.errMsg_,"innerHTML",u._nls.forbidden),x.show(E.errMsg_));g.set(E.serverLink_,{title:p.server,innerHTML:-1!==p.server.toLowerCase().indexOf("arcgis.com")?"ArcGIS Online":
p.server});E.show()});return C},setOAuthResponseHash:function(b){b&&("#"===b.charAt(0)&&(b=b.substring(1)),this._processOAuthPopupParams(d.queryToObject(b)))},_createOAuthDialog:function(){var b=this._nls,p=c.substitute(b,this._oAuthDialogContent);p=c.substitute({server:"\x3cspan class\x3d'serverLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e"},p);var t=new h({title:b.title,content:p,"class":"esriOAuthSignInDialog",style:"min-width: 18em;",esriIdMgr_:this,execute_:function(){var z=t.esriIdMgr_._oAuthDfd;
t.hide_();t.esriIdMgr_._doOAuthSignIn(z.resUrl_,z.sinfo_,z.oinfo_,z.codeChallenge_)},cak(C)},e(t)}});b=t.domNode;t.btnSubmit_=w.byNode(f.query(".esriIdSubmit",b)[0]);t.btnCancel_=w.byNode(f.query(".esriIdCancel",b)[0]);t.serverLink_=f.query(".serverLink",b)[0];t.errMsg_=f.query(".esriErrorMsg",
b)[0];t.connect(t.btnSubmit_,"onClick",t.execute_);t.connect(t.btnCancel_,"onClick",t.onCancel);t.connect(t,"onCancel",t.cancel_);return t},_doOAuthSignIn:function(b,p,t,z){var C=this,y=t._oAuthCred,D={portalUrl:t.portalUrl};!t.popup&&t.preserveUrlHash&&window.location.hash&&(D.hash=window.location.hash);y.stateUID&&(D.uid=y.stateUID);D={client_id:t.appId,response_type:y.codeVerifier?"code":"token",state:JSON.stringify(D),expiration:t.expiration,locale:t.locale,redirect_uri:this._getRedirectURI(t,
!!y.codeVerifier)};t.forceLogin&&(D.force_login=!0);t.forceUserId&&t.userId&&(D.prepopulatedusername=t.userId);!t.popup&&this._doPortalSignIn(b)&&(D.redirectToUserOrgUrl=!0);y.codeVerifier&&(D.code_challenge=z||y.codeVerifier,D.code_challenge_method=z?"S256":"plain");z=t.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize";y=z+"?"+d.objectToQuery(D);if(t.popup){var B=window.open(y,"esriJSAPIOAuth",t.popupWindowFeatures);B?(B.focus(),this._oAuthDfd.oAuthWin_=B,this._oAuthIntervalId=setInterval(function(){if(B.closed){clearInterval(C._oAuthIntervalId);
C._oAuthOnPopupHandle.remove();var u=C._oAuthDfd;if(u){var E=Error("ABORTED");E.code="IdentityManager.2";E.log=!!q.isDebug;u.errback(E)}}},500),C._oAuthOnPopupHandle=k.on(window,["arcgis:auth:hash","arcgis:auth:location:seaail)})):(b=Error("ABORTED"),b.name="identity-manager:user-aborted",b.code="IdentityManager.2",b.log=!!q.isDebug,this._oAuthDfd.errback(b))}else this._rejectOnPersistedPageShow=
!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:D,authorizeUrl:z,resourceUrl:b,serverInfo:p,oAuthInfo:t}):window.location.href=y},_getCodeChallenge:function(b){if(b&&window.isSecureContext)return b=(new TextEncoder).encode(b),e.subtle.digest("SHA-256",b)(p))});b=new n;b.resolve(null);return b},_getRedirectURI:function(b,p){var t=window.location.href.replace(/#.*$/,"");if(b.popup)return r.getAbsoluteUrl(b.popupCallbackUrl);
if(p){var z=r.urlToObject(t);if(z.query)return"code error error_description message_code persist state".split(" ").foy[C]}),(b=d.objectToQuery(z.query))?z.path+"?"+b:z.path}return t},_processOAuthPopupParams:function(b){var p=this._oAuthDfd;this._oAuthDfd=null;if(p)if(clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle&&this._oAuthOnPopupHandle.remove(),b.error){var t="access_denied"===b.error;b=Error(t?"ABORTED":"OAuth: "+b.error+" - "+b.error_description);
b.name=t?"identity-manager:user-aborted":"identity-manager:authentication-failed";b.code="IdentityManagerBase."+(t?2:3);b.log=!!q.isDebug;p.errback(b)}else this._processOAuthResponseParams(b,p.oinfo_,p.sinfo_).then(function(z){p.resolve(z)}).catch(function(z){p.reject(z)})},_processOAuthResponseParams:function(b,p,t){var z=p._oAuthCred;if(b.code){var C=z.codeVerifier;z.codeVerifier=null;z.stateUID=null;z.save();return this._getOAuthToken(t.server,b.code,p.appId,this._getRedirectURI(p,!0),C).then(function(D){var B=
new G({userId:D.username,server:t.server,token:D.access_token,expires:Date.now()+1E3*D.expires_in,ssl:D.ssl,oAuthState:b.state,_oAuthCred:z});p.userId=B.userId;z.storage=D.persist?l:m;z.refreshToken=D.refresh_token;z.token=null;z.expires=D.refresh_token_expires_in?Date.now()+1E3*D.refresh_token_expires_in:null;z.userId=B.userId;z.ssl=B.ssl;z.save();return B})}C=new G({userId:b.username,server:t.server,token:b.access_token,expires:Date.now()+1E3*Number(b.expires_in),ssl:"true"===b.ssl,oAuthState:b.state,
_oAuthCred:z});p.userId=C.userId;z.storage=b.persist?l:m;z.refreshToken=null;z.token=C.token;z.expires=C.expires;z.userId=C.userId;z.ssl=C.ssl;z.save();var y=new n;y.resolve(C);return y},_setOAuthResponseQueryString:function(b){b&&("?"===b.charAt(0)&&(b=b.substring(1)),this._processOAuthPopupParams(d.queryToObject(b)))}}})},"esri/core/events":function(){define([],function(){return{on:function(G,x,c){if(!G||"function"!==typeof G.on&&"function"!==typeof G.addEventListener)throw new TypeError("target is not a Evented or EventTarget object");
if("on"in G)return G.on(x,c);if(Array.isArray(x)){for(var r=x.slice(),h=0;h<r.length;h++)G.addEventListener(r[h],c);return{r],c)}}}G.addEventListener(x,c);return{remove:function(){G.removeEventListener(x,c)}}}}})},"esri/arcade/ArcadeModuleLoader":function(){define(["require","exports"],function(G,x){Object.defineProperty(x,"__esModule",{value:!0});x.ArcadeModuleLoader=void 0;G=functes=h}c.prototype.loadLibrary=function(r){return null==this._syntaxModules?null:(r=this._syntaxModules[r.toLowerCase()])?{syntax:r.script,uri:r.uri}:null};return c}();x.ArcadeModuleLoader=G})},"esri/arcade/ArcadeModuleResolver":function(){define("require exports ./polyfill/tsSupport/awaiter ./polyfill/tsSupport/generator ./polyfill/tsSupport/assign ./polyfill/tsSupport/spreadarray ../request ./parser ./featureset/support/RecentlyUsedCache ./executionError".split(" "),function(G,x,
c,r,h,w,q,n,f,g){Object.defineProperty(x,"__esModule",{value:!0});x.ArcadeModuleResolver=void 0;G=functri=d}a.prototype.extractRegexGroups=function(d,k){for(var l=[],m=0;m<k.length;m++)l[k[m]]="";m=0;for(var e=1;e<d.length;e++){var b=d[e];if(null!==b&&void 0!==b&&(l[k[m]]=b,m++,m>=k.length))break}return l};a.prototype.normalizeModuleUri=function(d){var k=/^[a-z0-9A-Z]+(@[0-9]+\.[0-9]+\.[0-9]+)?([\?|\/].*)?$/gi,l=/(.+)\/home\/item\.html\?id=(.+)$/gi,m=/(.+)\/sharing\/rest\/content\/users\/[a-zA-Z0-9]+\/items\/(.+)$/gi,
e=/(.+)\/sharing\/rest\/content\/items\/(.+)$/gi,b=/(.*)@([0-9]+\.[0-9]+\.[0-9]+)([\?|\/].*)?$/gi;if(d.startsWith("portal+")){var p=d.substring(7),t="",z=p,C=!1,y=0;for(l=[l,e,m];y<l.length;y++)if(m=l[y].exec(p),null!==m){C=this.extractRegexGroups(m,["portalurl","itemid"]);z=C.itemid;t=C.portalurl;C=!0;break}if(!1===C)if(k.test(p))z=p,t=this.portalUri;else throw new g.ModuleError(g.ModuleErrorCodes.UnsupportedUriProtocol,{uri:d});z.includes("/")&&(z=z.split("/")[0]);z.includes("?")&&(z=z.split("?")[0]);
d="current";b=b.exec(z);null!==b&&(C=this.extractRegexGroups(b,["itemid","versionstring"]),z=C.itemid,d=C.versionstring);t=(p||t).replace(/\/+$/,"");p=(-1!==t.indexOf("/sharing")?t+"/":t+"/sharing/rest/")+"content/items/"+z+"/resources/"+d+".arc";return{url:p,scheme:"portal",uri:"PO:"+p}}if(d.startsWith("mock")){if("mock"===d)return{url:"",scheme:"mock",data:'\n      export var hello \x3d 1;\n      export function helloWorld() {\n          return "Hello World " + hello;\n      }\n  ',uri:"mock"};
p=d.replace("mock:","");if(void 0!==a.mocks[p])return{url:"",scheme:"mock",data:a.mocks[p],uri:d}}throw new g.ModuleError(g.ModuleErrorCodes.UnrecognisedUri,{uri:d});};a.prototype.fetchModule=function(d){return c(this,void 0,void 0,function(){var k,l,m,e;return r(this,function(b){switch(b.label){case 0:if(k=a.cachedModules.getFromCache(d.uri))return[2,k];l=this.fetchSource(d);a.cachedModules.addToCache(d.uri,l);m=null;b.label=1;case 1:return b.trys.push([1,3,,4]),[4,l];case 2:return m=b.sent(),[3,
4];case 3:throw e=b.sent(),a.cachedModules.removeFromCache(d.uri),e;case 4:return[2,m]}})})};a.prototype.fetchSource=function(d){var k;return c(this,void 0,void 0,function(){var l;return r(this,function(m){switch(m.label){case 0:return"portal"!==d.scheme?[3,2]:[4,q({url:d.url,handleAs:"text",content:{},callbackParamName:"callback"})];case 1:if(l=m.sent())return[2,n.parseScript(l,[])];m.label=2;case 2:if("mock"===d.scheme)return[2,n.parseScript(null!==(k=d.data)&&void 0!==k?k:"",[])];throw new g.ModuleError(g.ModuleErrorCodes.UnsupportedUriProtocol);
}})})};a.create=function(d){return new a(d)};a.getDefault=function(){var d;return null!==(d=this._default)&&void 0!==d?d:a._default=a._moduleResolverFactory()};Object.defineProperty(a,"moduleResolverClass"null},enumerable:!1,configurable:!0});a.mocks={};a.cachedModules=new f(30);a._default=null;a._moduleResolverFactory=function(){return new a("https://www.arcgis.com")};return a}();x.ArcadeModuleResolver=G})},"esri/arcade/parser":function(){define(["require",
"exports","./treeAnalysis","./lib/arcade-parser","./lib/arcade-parser"],function(G,x,c,r,h){Object.defineProperty(x,"__esModule",{value:!0});x.parseScript=void 0;x.parseScript=function(w,q){void 0===q&&(q=[]);w=r.parse(w);if(null===w.body||void 0===w.body)throw new h.ParsingError({index:0,line:0,column:0,data:null,description:"",code:h.ParsingErrorCodes.InvalidExpression});if(0===w.body.length)throw new h.ParsingError({index:0,line:0,column:0,data:null,description:"",code:h.ParsingErrorCodes.InvalidExpression});
if(0===w.body.length)throw new h.ParsingError({index:0,line:0,column:0,data:null,description:"",code:h.ParsingErrorCodes.InvalidExpression});w.loadedModules={};c.findScriptDependencies(w,q);return w}})},"esri/arcade/lib/arcade-parser":function(){define("require exports ../polyfill/tsSupport/exportstar ./parser ./tokenizer ./types".split(" "),function(G,x,c,r,h,w){Object.defineProperty(x,"__esModule",{value:!0});x.tokenize=x.parse=void 0;c(w,x);x.pt()};
x.tokenize=function(q,n,f){q=new h.Tokenizer(q,n);n=[];var g=void 0;try{for(var a=void 0;a=q.getNextToken();)f&&(a=f(a)),n.push(a)}catch(d){q.errorHandler.tolerate(d)}q.errorHandler.tolerant&&(g=q.errors());return{tokens:n,errors:g}}})},"esri/arcade/polyfill/tsSupport/exportstar":function(){define([],function(){return function(){var G=this&&this.__createBinding||(Object.cc[r]});rx,r)}}()})},"esri/arcade/lib/parser":function(){define("require exports ../polyfill/tsSupport/assign ../polyfill/tsSupport/spreadarray ../polyfill/tsSupport/extends ./comment-handler ./error-handler ./scanner ./types".split(" "),function(G,x,c,r,h,w,q,n,f){function g(m,e){void 0===e&&(e=0);var b=m.start-m.lineStart,p=m.lineNumber;0>b&&(b+=e,p--);return{index:m.start,
line:p,column:b}}function a(m){return[c({index:m.range[0]},m.loc.start),c({index:m.range[1]},m.loc.?e:0}Object.defineProperty(x,"__esModule",{value:!0});x.Parser=x.binaryOperatorPrecedence=void 0;voop"})(k||(k={}));vtic"})(l||
(l={}));x.binaryOperatorPrecedence=d;G=function(){function m(e,b,p){void 0===b&&(b={});this.delegate=p;this.hasLineTerminator=!1;this.options={tokens:"boolean"===typeof b.tokens&&b.tokens,comments:"boolean"===typeof b.comments&&b.comments,tolerant:"boolean"===typeof b.tolerant&&b.tolerant};this.options.comments&&(this.commentHandler=new w.CommentHandler);this.errorHandler=new q.ErrorHandler(this.options.tolerant);this.scanner=new n.Scanner(e,this.errorHandler);this.context={isAssignmentTarget:!1,
blockContext:k.None,curlyParsingType:l.AsObject};this.rawToken={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.endMarker={index:0,line:this.scanner.lineNumber,column:0};this.readNextRawToken();this.endMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}m.prototype.throwIfInvalidType=function(e,b,p){var t=p.validTypes;p=p.invalidTypes;
(null===t||void 0===t?0:t.some(function(z){return e.type===z}))||null!==p&&void 0!==p&&p===z})&&this.throwError(f.ParsingErrorCodes.InvalidExpression,b)};m.prototype.throwError=function(e,b,p){void 0===p&&(p=this.endMarker);var t=b.index;this.errorHandler.throwError({code:e,index:t,line:b.line,column:b.column+1,len:p.index-t-1})};m.prototype.tolerate!");};m.prototype.unexpectedTokenError=function(e){void 0===
e&&(e={});var b=e.rawToken,p=e.code;e=e.data;if(b){if(!p)switch(b.type){case 2:p=f.ParsingErrorCodes.UnexpectedEndOfScript;break;case 3:p=f.ParsingErrorCodes.UnexpectedIdentifier;break;case 6:p=f.ParsingErrorCodes.UnexpectedNumber;break;case 8:p=f.ParsingErrorCodes.UnexpectedString;break;case 10:p=f.ParsingErrorCodes.UnexpectedTemplate}var t=b.value.toString()}else t="ILLEGAL";p=null!==p&&void 0!==p?p:f.ParsingErrorCodes.UnexpectedToken;e||(e={value:t});t=q.formatErrorDescription(p,e);if(b)return new f.ParsingError({code:p,
index:b.start,line:b.lineNumber,column:b.start-b.lineStart+1,len:b.end-b.start-1,data:e,description:t});b=this.endMarker;return new f.ParsingError({code:p,index:b.index,line:b.line,column:this.endMarker.column+1,data:e,description:t})};m.prototype.throwUnexpectedToken=function(e){var b;void 0===e&&(e={});e.rawToken=null!==(b=e.rawToken)&&void 0!==b?b:this.rawToken;throw this.unexpectedTokenError(e);};m.prototype.collectComments=function(e){var b=this,p=this.commentHandler;p&&e.length&&e.forEach(function(t){t=
{type:t.multiLine?"BlockComment":"LineComment",value:b.getSourceValue(t),range:t.range,loc:t.loc};p.collectComment(t)})};m.prototype.peekAhead=function(e){var b=this,p=this.scanner.saveState();e=e.callex()});this.scanner.restoreState(p);return e};m.prototype.getSourceend)};m.prototype.convertToToken=function(e){return{type:f.TokenNames[e.type],value:this.getSourceValue(e),range:[e.start,
e.end],loc:{start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}}};m.prototype.readNextRawToken=function(){this.endMarker.index=this.scanner.index;this.endMarker.line=this.scanner.lineNumber;this.endMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.rawToken;this.collectComments(this.scanner.scanComments());this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,
this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);this.rawToken=this.scanner.lex();this.hasLineTerminator=e.lineNumber!==this.rawToken.lineNumber;this.options.tokens&&2!==this.rawToken.type&&this.tokens.push(this.convertToToken(this.rawToken))};m.prototype.captureStartMumn}};m.prototype.getItemLocation=function(e){return{range:[e.index,
this.endMarker.index],loc:{start:{line:e.line,column:e.column},end:{line:this.endMarker.line,column:this.endMarker.column}}}};m.prototype.finalize=function(e){var b,p;if(this.delegate||this.commentHandler)null===(b=this.commentHandler)||void 0===b?void 0:b.attachComments(e),null===(p=this.delegate)||void 0===p?void 0:p.call(this,e);return e};m.prototype.expectPunctuator=function(e){var b=this.rawToken;this.matchPunctuator(e)?this.readNextRawToken():this.throwUnexpectedToken({rawToken:b,code:f.ParsingErrorCodes.PunctuatorExpected,
data:{value:e}})};m.prototype.expectKeyword=function(e){4===this.rawToken.type&&this.rawToken.value.toLowerCase()===e?this.readNextRawToken():this.throwUnexpectedToken({rawToken:this.rawToken})};m.prototype.expectContextualKeyword=function(e){3===this.rawToken.type&&this.rawToken.value.toLowerCase()===e?this.readNextRawToken():this.throwUnexpectedToken({rawToken:this.rawToken})};m.prototype.matchKeyword=function(e){return 4===this.rawToken.type&&this.rawToken.value.toLowerCase()===e};m.prototype.matchContextualKeyword=
function(e){return 3===this.rawToken.type&&this.rawToken.value===e};m.prototype.matchPunct===e};m.prototype.getMatchingPunctuator=function(e){"string"===typeof e&&(e=e.split(""));if(7===this.rawToken.type&&null!==e&&void 0!==e&&e.length)return e.find(this.matchPunctuator,this)};m.prototype.isolateCoverGrammar=function(e){var b=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;e=e.call(this);this.context.isAssignmentTarget=
b;return e};m.prototype.inheritCoverGrammar=function(e){var b=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;e=e.call(this);this.context.isAssignmentTarget=this.context.isAssignmentTarget&&b;return e};m.prototype.withBlockContext=function(e,b){var p=this.context.blockContext;this.context.blockContext|=e;e=this.context.curlyParsingType;this.context.curlyParsingType=l.Automatic;b=b.call(this);this.context.blockContext=p;this.context.curlyParsingType=e;return b};m.prototype.consumeSemicolon=
function(){this.matchPunctuator(";")?this.readNextRawToken():this.hasLineTerminator||(2===this.rawToken.type||this.matchPunctuator("}")?(this.endMarker.index=this.startMarker.index,this.endMarker.line=this.startMarker.line,this.endMarker.column=this.startMarker.column):this.throwUnexpectedToken({rawToken:this.rawToken}))};m.prototype.parsePrimaryExpression=function(){var e=this.captureStartMarker(),b=this.rawToken;switch(b.type){case 3:return this.readNextRawToken(),this.finalize(c({type:"Identifier",
name:b.value},this.getItemLocation(e)));case 6:case 8:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize(c({type:"Literal",value:b.value,raw:this.getSourceValue(b),isString:"string"===typeof b.value},this.getItemLocation(e)));case 1:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize(c({type:"Literal",value:b.value.toLowerCase()===f.Keywords.True,raw:this.getSourceValue(b),isString:!1},this.getItemLocation(e)));case 5:return this.context.isAssignmentTarget=
!1,this.readNextRawToken(),this.finalize(c({type:"Literal",value:null,raw:this.getSourceValue(b),isString:!1},this.getItemLocation(e)));case 10:return this.parseTemplateLiteral();case 7:switch(b.value){case "(":return this.inheritCoverGrammar(this.parseGroupExpression);case "[":return this.inheritCoverGrammar(this.parseArrayInitializer);case "{":return this.inheritCoverGrammar(this.parseObjectExpression);default:return this.throwUnexpectedToken({rawToken:this.rawToken})}case 4:return this.context.isAssignmentTarget=
!1,this.throwUnexpectedToken({rawToken:this.rawToken});default:return this.throwUnexpectedToken({rawToken:this.rawToken})}};m.prototype.parseArrayInitializer=function(){var e=this.captureStartMarker();this.expectPunctuator("[");for(var b=[];!this.matchPunctuator("]");){var p=this.captureStartMarker();this.matchPunctuator(",")?(this.readNextRawToken(),this.throwError(f.ParsingErrorCodes.InvalidExpression,p)):(b.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.matchPunctuator("]")||
this.expectPunctuator(","))}this.expectPunctuator("]");return this.finalize(c({type:"ArrayExpression",elements:b},this.getItemLocation(e)))};m.prototype.parseObjectPropertyKey=function(){var e=this.captureStartMarker(),b=this.rawToken;switch(b.type){case 8:return this.readNextRawToken(),this.finalize(c({type:"Literal",value:b.value,raw:this.getSourceValue(b),isString:!0},this.getItemLocation(e)));case 3:case 1:case 5:case 4:return this.readNextRawToken(),this.finalize(c({type:"Identifier",name:b.value},
this.getItemLocation(e)));default:this.throwError(f.ParsingErrorCodes.KeyMustBeString,e)}};m.prototype.parseObjectProperty=function(){var e=this.rawToken,b=this.captureStartMarker(),p=this.parseObjectPropertyKey(),t=!1,z=null;this.matchPunctuator(":")?(this.readNextRawToken(),z=this.inheritCoverGrammar(this.parseAssignmentExpression)):3===e.type?(t=!0,z=this.finalize(c({type:"Identifier",name:e.value},this.getItemLocation(b)))):this.throwUnexpectedToken({rawToken:this.rawToken});return this.finalize(c({type:"Property",
kind:"init",key:p,value:z,shorthand:t},this.getItemLocation(b)))};m.prototype.parseObjectExpression=function(){var e=this.captureStartMarker();this.expectPunctuator("{");for(var b=[];!this.matchPunctuator("}");)b.push(this.parseObjectProperty()),this.matchPunctuator("}")||this.expectPunctuator(",");this.expectPunctuator("}");return this.finalize(c({type:"ObjectExpression",properties:b},this.getItemLocation(e)))};m.prototype.parseTemplateElement=function(e){void 0===e&&(e=!1);var b=this.rawToken;10!==
b.type&&this.throwUnexpectedToken({rawToken:b});e&&!b.head&&this.throwUnexpectedToken({code:f.ParsingErrorCodes.InvalidTemplateHead,rawToken:b});var p=this.captureStartMarker();this.readNextRawToken();e=b.tail;b=this.finalize(c({type:"TemplateElement",value:{raw:b.value,cooked:b.cooked},tail:e},this.getItemLocation(p)));b.loc.start.column++;b.loc.end.column-=e?1:2;return b};m.prototype.parseTemplateLiteral=function(){var e=this.captureStartMarker(),b=[],p=[],t=this.parseTemplateElement(!0);for(p.push(t);!t.tail;)b.push(this.parseExpression()),
t=this.parseTemplateElement(),p.push(t);return this.finalize(c({type:"TemplateLiteral",quasis:p,expressions:b},this.getItemLocation(e)))};m.prototype.parseGroupExpression=function(){this.expectPunctuator("(");var e=this.inheritCoverGrammar(this.parseAssignmentExpression);this.expectPunctuator(")");return e};m.prototype.parseArguments=function(){this.expectPunctuator("(");var e=[];if(!this.matchPunctuator(")"))for(;;){var b=this.isolateCoverGrammar(this.parseAssignmentExpression);e.push(b);if(this.matchPunctuator(")"))break;
this.expectPunctuator(",");if(this.matchPunctuator(")"))break}this.expectPunctuator(")");return e};m.prototype.parseMemberName=function(){var e=this.rawToken,b=this.captureStartMarker();this.readNextRawToken();5!==e.type&&3!==e.type&&4!==e.type&&1!==e.type&&this.throwUnexpectedToken({rawToken:e});return this.finalize(c({type:"Identifier",name:e.value},this.getItemLocation(b)))};m.prototype.parseLeftHandSideExpression=function(){for(var e=this.captureStartMarker(),b=this.inheritCoverGrammar(this.parsePrimaryExpression),
p=this.captureStartMarker(),t;t=this.getMatchingPunctuator("([.");)switch(t){case "(":this.context.isAssignmentTarget=!1;"Identifier"!==b.type&&"MemberExpression"!==b.type&&this.throwError(f.ParsingErrorCodes.IdentiferExpected,e,p);t=this.parseArguments();b=this.finalize(c({type:"CallExpression",callee:b,arguments:t},this.getItemLocation(e)));continue;case "[":this.context.isAssignmentTarget=!0;this.expectPunctuator("[");t=this.isolateCoverGrammar(this.parseExpression);this.expectPunctuator("]");
b=this.finalize(c({type:"MemberExpression",computed:!0,object:b,property:t},this.getItemLocation(e)));continue;case ".":this.context.isAssignmentTarget=!0,this.expectPunctuator("."),t=this.parseMemberName(),b=this.finalize(c({type:"MemberExpression",computed:!1,object:b,property:t},this.getItemLocation(e)))}return b};m.prototype.parseUpdateExpression=function(){var e=this.captureStartMarker(),b=this.getMatchingPunctuator(f.UpdateOperators);if(b){this.readNextRawToken();var p=this.captureStartMarker(),
t=this.inheritCoverGrammar(this.parseUnaryExpression);"Identifier"!==t.type&&"MemberExpression"!==t.type&&"CallExpression"!==t.type&&this.throwError(f.ParsingErrorCodes.InvalidExpression,p);this.context.isAssignmentTarget||this.tolerateError(f.ParsingErrorCodes.InvalidLeftHandSideInAssignment,e);this.context.isAssignmentTarget=!1;return this.finalize(c({type:"UpdateExpression",operator:b,argument:t,prefix:!0},this.getItemLocation(e)))}p=this.captureStartMarker();t=this.inheritCoverGrammar(this.parseLeftHandSideExpression);
var z=this.captureStartMarker();if(this.hasLineTerminator)return t;b=this.getMatchingPunctuator(f.UpdateOperators);if(!b)return t;"Identifier"!==t.type&&"MemberExpression"!==t.type&&this.throwError(f.ParsingErrorCodes.InvalidExpression,p,z);this.context.isAssignmentTarget||this.tolerateError(f.ParsingErrorCodes.InvalidLeftHandSideInAssignment,e);this.readNextRawToken();this.context.isAssignmentTarget=!1;return this.finalize(c({type:"UpdateExpression",operator:b,argument:t,prefix:!1},this.getItemLocation(e)))};
m.prototype.parseUnaryExpression=function(){var e=this.getMatchingPunctuator(f.UnaryOperators);if(e){var b=this.captureStartMarker();this.readNextRawToken();var p=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.isAssignmentTarget=!1;return this.finalize(c({type:"UnaryExpression",operator:e,argument:p,prefix:!0},this.getItemLocation(b)))}return this.parseUpdateExpression()};m.prototype.parseBinaryExpression=function(){var e=this.rawToken,b=this.inheritCoverGrammar(this.parseUnaryExpression);
if(7!==this.rawToken.type)return b;var p=this.rawToken.value,t=d(p);if(0===t)return b;this.readNextRawToken();this.context.isAssignmentTarget=!1;e=[e,this.rawToken];var z=this.inheritCoverGrammar(this.parseUnaryExpression);p=[b,p,z];for(var C=[t];7===this.rawToken.type&&0<(t=d(this.rawToken.value));){for(;2<p.length&&t<=C[C.length-1];){z=p.pop();var y=p.pop();C.pop();b=p.pop();e.pop();var D=e[e.length-1];D=g(D,D.lineStart);p.push(this.finalize(this.createBinaryOrLogicalExpression(D,y,b,z)))}p.push(this.rawToken.value);
C.push(t);e.push(this.rawToken);this.readNextRawToken();p.push(this.inheritCoverGrammar(this.parseUnaryExpression))}t=p.length-1;b=p[t];for(D=e.pop();1<t;){z=e.pop();if(!z)break;D=g(z,null===D||void 0===D?void 0:D.lineStart);b=this.finalize(this.createBinaryOrLogicalExpression(D,p[t-1],p[t-2],b));t-=2;D=z}return b};m.prototype.createBinaryOrLogicalExpression=function(e,b,p,t){var z=f.LogicalOperators.includes(b)?"LogicalExpression":"BinaryExpression";if("BinaryExpression"===z)return c({type:z,operator:b,
left:p,right:t},this.getItemLocation(e));"AssignmentExpression"!==p.type&&"UpdateExpression"!==p.type||this.throwError.apply(this,r([f.ParsingErrorCodes.InvalidExpression],a(p)));"AssignmentExpression"!==t.type&&"UpdateExpression"!==t.type||this.throwError.apply(this,r([f.ParsingErrorCodes.InvalidExpression],a(p)));return c({type:z,operator:b,left:p,right:t},this.getItemLocation(e))};m.prototype.parseAssignmentExpression=function(){var e=this.captureStartMarker(),b=this.inheritCoverGrammar(this.parseBinaryExpression),
p=this.captureStartMarker(),t=this.getMatchingPunctuator(f.AssignmentOperators);if(!t)return b;"Identifier"!==b.type&&"MemberExpression"!==b.type&&this.throwError(f.ParsingErrorCodes.InvalidExpression,e,p);this.context.isAssignmentTarget||this.tolerateError(f.ParsingErrorCodes.InvalidLeftHandSideInAssignment,e);this.matchPunctuator("\x3d")||(this.context.isAssignmentTarget=!1);this.readNextRawToken();p=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize(c({type:"AssignmentExpression",
left:b,operator:t,right:p},this.getItemLocation(e)))};m.prototype.parseExpreion)};m.prototype.parseStatements=function(e){for(var b=[];2!==this.rawToken.type&&!this.matchPunctuator(e);){var p=this.parseStatementListItem();f.isEmptyStatement(p)||b.push(p)}return b};m.prototype.parseStatementListItem=function(){this.context.isAssignmentTarget=!0;return this.matchKeyword(f.Keywords.Function)?this.parseFunctionDeclaration():this.matchKeyword(f.Keywords.Export)?
this.parseExportDeclaration():this.matchKeyword(f.Keywords.Import)?this.parseImportDeclaration():this.parseStatement()};m.prototype.parseBlock=function(){var e=this.captureStartMarker();this.expectPunctuator("{");var b=this.parseStatements("}");this.expectPunctuator("}");return this.finalize(c({type:"BlockStatement",body:b},this.getItemLocation(e)))};m.prototype.parseObjectStatement=function(){var e=this.captureStartMarker(),b=this.parseObjectExpression();return this.finalize(c({type:"ExpressionStatement",
expression:b},this.getItemLocation(e)))};m.prototype.parseBlockOrObjectStatement=function(){return this.context.curlyParsingType===l.AsObject||this.peekAhead(function(e){var b=e();if(3!==b.type&&8!==b.type)return!1;b=e();return 7!==b.type||":"!==b.value?!1:!0})?this.parseObjectStatement():this.parseBlock()};m.prototype.parseIdentifier=function(){var e=this.rawToken;if(3!==e.type)return null;var b=this.captureStartMarker();this.readNextRawToken();return this.finalize(c({type:"Identifier",name:e.value},
this.getItemLocation(b)))};m.prototype.parseVariableDeclarator=function(){var e=this.captureStartMarker(),b=this.parseIdentifier();b||this.throwUnexpectedToken({code:f.ParsingErrorCodes.IdentiferExpected});var p=null;if(this.matchPunctuator("\x3d")){this.readNextRawToken();var t=this.rawToken;try{p=this.isolateCoverGrammar(this.parseAssignmentExpression)}catch(z){this.throwUnexpectedToken({rawToken:t,code:f.ParsingErrorCodes.InvalidVariableAssignment})}}return this.finalize(c({type:"VariableDeclarator",
id:b,init:p},this.getItemLocation(e)))};m.prototype.parseVariableDeclarationList=function(){for(var e=[this.parseVariableDeclarator()];this.matchPunctuator(",");)this.readNextRawToken(),e.push(this.parseVariableDeclarator());return e};m.prototype.parseVariableDeclaration=function(){var e=this.captureStartMarker();this.expectKeyword(f.Keywords.Var);var b=this.parseVariableDeclarationList();this.consumeSemicolon();return this.finalize(c({type:"VariableDeclaration",declarations:b,kind:"var"},this.getItemLocation(e)))};
m.prototype.parseEmptyStatement=function(){var e=this.captureStartMarker();this.expectPunctuator(";");return this.finalize(c({type:"EmptyStatement"},this.getItemLocation(e)))};m.prototype.parseExpressionStatement=function(){var e=this.captureStartMarker(),b=this.parseExpression();this.consumeSemicolon();return this.finalize(c({type:"ExpressionStatement",expression:b},this.getItemLocation(e)))};m.prototype.parseIfCent)};m.prototype.parseIfStatement=
function(){var e=this.captureStartMarker();this.expectKeyword(f.Keywords.If);this.expectPunctuator("(");var b=this.captureStartMarker(),p=this.parseExpression(),t=this.captureStartMarker();this.expectPunctuator(")");"AssignmentExpression"!==p.type&&"UpdateExpression"!==p.type||this.throwError(f.ParsingErrorCodes.InvalidExpression,b,t);b=this.parseIfClause();t=null;this.matchKeyword(f.Keywords.Else)&&(this.readNextRawToken(),t=this.parseIfClause());return this.finalize(c({type:"IfStatement",test:p,
consequent:b,alternate:t},this.getItemLocation(e)))};m.prototype.parseWhileStatement=function(){var e=this.captureStartMarker();this.expectKeyword(f.Keywords.While);this.expectPunctuator("(");var b=this.captureStartMarker(),p=this.parseExpression(),t=this.captureStartMarker();this.expectPunctuator(")");"AssignmentExpression"!==p.type&&"UpdateExpression"!==p.type||this.throwError(f.ParsingErrorCodes.InvalidExpression,b,t);b=this.withBlockContext(k.WhileLoop,this.parseStatement);return this.finalize(c({type:"WhileStatement",
test:p,body:b},this.getItemLocation(e)))};m.prototype.parseForStatement=function(){var e=this,b=null,p=null,t=null,z=null,C=null,y=this.captureStartMarker();this.expectKeyword(f.Keywords.For);this.expectPunctuator("(");if(this.matchPunctuator(";"))this.readNextRawToken();else if(this.matchKeyword(f.Keywords.Var)){var D=this.captureStartMarker();this.readNextRawToken();var B=this.parseVariableDeclarationList();1===B.length&&this.matchKeyword(f.Keywords.In)?(B[0].init&&this.throwError(f.ParsingErrorCodes.ForInOfLoopInitializer,
D),z=this.finalize(c({type:"VariableDeclaration",declarations:B,kind:"var"},this.getItemLocation(D))),this.readNextRawToken(),C=this.parseExpression()):(this.matchKeyword(f.Keywords.In)&&this.throwError(f.ParsingErrorCodes.InvalidLeftHandSideInForIn,D),b=this.finalize(c({type:"VariableDeclaration",declarations:B,kind:"var"},this.getItemLocation(D))),this.expectPunctuator(";"))}else B=this.context.isAssignmentTarget,D=this.captureStartMarker(),b=this.inheritCoverGrammar(this.parseAssignmentExpression),
this.matchKeyword(f.Keywords.In)?(this.context.isAssignmentTarget||this.tolerateError(f.ParsingErrorCodes.InvalidLeftHandSideInForIn,D),"Identifier"!==b.type&&this.throwError(f.ParsingErrorCodes.InvalidLeftHandSideInForIn,D),this.readNextRawToken(),z=b,C=this.parseExpression(),b=null):(this.context.isAssignmentTarget=B,this.expectPunctuator(";"));z||(this.matchPunctuator(";")||(p=this.isolateCoverGrammar(this.parseExpression)),this.expectPunctuator(";"),this.matchPunctuator(")")||(t=this.isolateCoverGrammar(this.parseExpression)));
this.expectPunctuator(")");D=this.withBlockContext(k.Foent)});return z&&C?this.finalize(c({type:"ForInStatement",left:z,right:C,body:D},this.getItemLocation(y))):this.finalize(c({type:"ForStatement",init:b,test:p,update:t,body:D},this.getItemLocation(y)))};m.prototype.parseContinueStatement=function(){var e=this.captureStartMarker();this.expectKeyword(f.Keywords.Continue);this.consumeSemicolon();return this.finalize(c({type:"ContinueStatement"},
this.getItemLocation(e)))};m.prototype.parseBreakStatement=function(){var e=this.captureStartMarker();this.expectKeyword(f.Keywords.Break);this.consumeSemicolon();return this.finalize(c({type:"BreakStatement"},this.getItemLocation(e)))};m.prototype.parseReturnStatement=function(){var e=this.captureStartMarker();this.expectKeyword(f.Keywords.Return);var b=(this.matchPunctuator(";")||this.matchPunctuator("}")||this.hasLineTerminator||2===this.rawToken.type)&&8!==this.rawToken.type&&10!==this.rawToken.type?
null:this.parseExpression();this.consumeSemicolon();return this.finalize(c({type:"ReturnStatement",argument:b},this.getItemLocation(e)))};m.prototype.parseStatement=function(){switch(this.rawToken.type){case 1:case 5:case 6:case 8:case 10:case 3:return this.parseExpressionStatement();case 7:return"{"===this.rawToken.value?this.parseBlockOrObjectStatement():"("===this.rawToken.value?this.parseExpressionStatement():";"===this.rawToken.value?this.parseEmptyStatement():this.parseExpressionStatement();
case 4:switch(this.rawToken.value.toLowerCase()){case f.Keywords.Break:return this.parseBreakStatement();case f.Keywords.Continue:return this.parseContinueStatement();case f.Keywords.For:return this.parseForStatement();case f.Keywords.Function:return this.parseFunctionDeclaration();case f.Keywords.If:return this.parseIfStatement();case f.Keywords.Return:return this.parseReturnStatement();case f.Keywords.Var:return this.parseVariableDeclaration();case f.Keywords.While:return this.parseWhileStatement();
default:return this.parseExpressionStatement()}default:return this.throwUnexpectedToken({rawToken:this.rawToken})}};m.prototype.parseFormalParameters=function(){var e=[];this.expectPunctuator("(");if(!this.matchPunctuator(")"))for(;2!==this.rawToken.type;){var b=this.parseIdentifier();b||this.throwUnexpectedToken({rawToken:this.rawToken,code:f.ParsingErrorCodes.IdentiferExpected});e.push(b);if(this.matchPunctuator(")"))break;this.expectPunctuator(",");if(this.matchPunctuator(")"))break}this.expectPunctuator(")");
return e};m.prototype.parseFunctionDeclaration=function(){(this.context.blockContext&k.Function)===k.Function&&this.throwUnexpectedToken({code:f.ParsingErrorCodes.NoFunctionInsideFunction});(this.context.blockContext&k.WhileLoop)!==k.WhileLoop&&(this.context.blockContext&k.IfClause)!==k.IfClause||this.throwUnexpectedToken({code:f.ParsingErrorCodes.NoFunctionInsideBlock});var e=this.captureStartMarker();this.expectKeyword(f.Keywords.Function);var b=this.parseIdentifier();b||this.throwUnexpectedToken({code:f.ParsingErrorCodes.InvalidFunctionIdentifier});
var p=this.parseFormalParameters(),t=this.context.blockContext;this.context.blockContext|=k.Function;var z=this.parseBlock();this.context.blockContext=t;return this.finalize(c({type:"FunctionDeclaration",id:b,params:p,body:z},this.getItemLocation(e)))};m.prototype.parseScript=function(){var e=this.captureStartMarker(),b=this.parseStatements();e=this.finalize(c({type:"Program",body:b},this.getItemLocation(e)));this.options.tokens&&(e.tokens=this.tokens);this.options.tolerant&&(e.errors=this.errorHandler.errors);
return e};m.prototype.parseExportDeclaration=function(){this.context.blockContext!==k.None&&this.throwUnexpectedToken({code:f.ParsingErrorCodes.ModuleExportRootOnly});var e=null,b=this.captureStartMarker();this.expectKeyword(f.Keywords.Export);this.matchKeyword(f.Keywords.Var)?e=this.parseVariableDeclaration():this.matchKeyword("function")?e=this.parseFunctionDeclaration():this.throwUnexpectedToken({code:f.ParsingErrorCodes.InvalidExpression});return this.finalize(c({type:"ExportNamedDeclaration",
declaration:e,specifiers:[],source:null},this.getItemLocation(b)))};m.prototype.parseModuleSpecifier=function(){var e=this.captureStartMarker(),b=this.rawToken;if(8===b.type)return this.readNextRawToken(),this.finalize(c({type:"Literal",value:b.value,raw:this.getSourceValue(b),isString:!0},this.getItemLocation(e)));this.throwError(f.ParsingErrorCodes.InvalidModuleUri,e)};m.prototype.parseDefaultSpecifier=function(){var e=this.captureStartMarker(),b=this.parseIdentifier();b||this.throwUnexpectedToken({code:f.ParsingErrorCodes.IdentiferExpected});
return this.finalize(c({type:"ImportDefaultSpecifier",local:b},this.getItemLocation(e)))};m.prototype.parseImportDeclaration=function(){this.context.blockContext!==k.None&&this.throwUnexpectedToken({code:f.ParsingErrorCodes.ModuleImportRootOnly});var e=this.captureStartMarker();this.expectKeyword(f.Keywords.Import);var b=this.parseDefaultSpecifier();this.expectContextualKeyword(f.Keywords.From);var p=this.parseModuleSpecifier();return this.finalize(c({type:"ImportDeclaration",specifiers:[b],source:p},
this.getItemLocation(e)))};return m}();x.Parser=G})},"esri/arcade/lib/comment-handler":function(){define(["require","exports","../polyfill/tsSupport/assign","../polyfill/tsSupport/spreadarray","./types"],function(G,x,c,r,h){function w(q,n){return n?n.loc.end.line===q.loc.start.line&&n.loc.end.column<=q.loc.start.column:!1}Object.defineProperty(x,"__esModule",{value:!0});x.CommentHandler=void 0;G=functs=[]}q.prototype.insertInnerComments=
function(n){if(h.isBlockStatement(n)&&0===n.body.length){for(var f=[],g=this._newComments.length-1;0<=g;--g){var a=this._newComments[g];n.range[1]>=a.range[0]&&(f.unshift(a),this._newComments.splice(g,1))}f.length&&(n.innerComments=f)}};q.prototype.attachTrailingComments=function(n){var f,g;if(n){var a=this._nodeStack[this._nodeStack.length-1];if(h.isBlockStatement(n)&&a.range[0]>=n.range[0]&&a.range[1]<=n.range[1])for(var d=this._newComments.length-1;0<=d;--d){var k=this._newComments[d];k.range[0]>=
n.range[0]&&k.range[1]<=n.range[1]&&(a.trailingComments=r(r([],null!==(f=a.trailingComments)&&void 0!==f?f:[]),[k]),this._newComments.splice(d,1))}f=[];if(0<this._newComments.length)for(d=this._newComments.length-1;0<=d;--d)k=this._newComments[d],w(k,a)?(a.trailingComments=r(r([],null!==(g=a.trailingComments)&&void 0!==g?g:[]),[k]),this._newComments.splice(d,1)):w(k,n)&&(f.unshift(k),this._newComments.splice(d,1));(null===a||void 0===a?0:a.trailingComments)&&w(a.trailingComments[0],n)&&(f=r(r([],
f),a.trailingComments),delete a.trailingComments);0<f.length&&(n.trailingComments=f)}};q.prototype.attachLeadingComments=function(n){var f,g,a,d;if(n){for(var k;0<this._nodeStack.length;){var l=this._nodeStack[this._nodeStack.length-1];if(n.range[0]<=l.range[0])k=l,this._nodeStack.pop();else break}l=[];var m=[];if(k){for(var e=(null!==(g=null===(f=k.leadingComments)||void 0===f?void 0:f.length)&&void 0!==g?g:0)-1;0<=e;--e)f=k.leadingComments[e],n.range[0]>=f.range[1]?(l.unshift(f),k.leadingComments.splice(e,
1)):h.isVariableDeclarator(n)&&!h.isBlockComment(f)&&(m.unshift(f),k.leadingComments.splice(e,1));0===(null===(a=k.leadingComments)||void 0===a?void 0:a.length)&&delete k.leadingComments;l.length&&(n.leadingComments=l);m.length&&(n.trailingComments=r(r([],m),null!==(d=n.trailingComments)&&void 0!==d?d:[]))}else{for(e=this._newComments.length-1;0<=e;--e)f=this._newComments[e],n.range[0]>=f.range[0]&&(l.unshift(f),this._newComments.splice(e,1));l.length&&(n.leadingComments=l)}}};q.prototype.attachComments=
function(n){var f;if(h.isProgram(n)&&0<n.body.length){var g=this._nodeStack[this._nodeStack.length-1];g?(g.trailingComments=r(r([],null!==(f=g.trailingComments)&&void 0!==f?f:[]),this._newComments),this._newComments.length=0,this._nodeStack.pop()):(n.trailingComments=r([],this._newComments),this._newComments.length=0)}else this.attachTrailingComments(n),this.attachLeadingComments(n),this.insertInnerComments(n),this._nodeStack.push(n)};q.prototype.collectCoh(n)};
return q}();x.CommentHandler=G})},"esri/arcade/lib/types":function(){define(["require","exports","../polyfill/tsSupport/extends"],function(G,x,c){var r;Object.defineProperty(x,"__esModule",{value:!0});x.isTemplateElement=x.isProperty=x.isVariableDeclarator=x.isUpdateExpression=x.isUnaryExpression=x.isMemberExpression=x.isTemplateLiteral=x.isObjectExpression=x.isLogicalExpression=x.isLiteral=x.isIdentifier=x.isCallExpression=x.isBinaryExpression=x.isAssignmentExpression=x.isArrayExpression=x.isExpression=
x.isVariableDeclaration=x.isReturnStatement=x.isIfStatement=x.isFunctionDeclaration=x.isForStatement=x.isForInStatement=x.isExpressionStatement=x.isEmptyStatement=x.isContinueStatement=x.isBreakStatement=x.isBlockComment=x.isBlockStatement=x.isStatement=x.isProgram=x.ParsingError=x.ParsingErrorMessages=x.ParsingErrorCodes=x.TokenNames=x.TokenType=x.OperatorPrecedence=x.BinaryOperators=x.LogicalOperators=x.AssignmentOperators=x.UnaryOperators=x.UpdateOperators=x.Syntax=x.Keywords=voile"})(x.Keywords||(x.Keywords={}));(function(h){h.AssignmentExpression="AssignmentExpression";h.ArrayExpression="ArrayExpression";h.BlockComment="BlockComment";h.BlockStatement="BlockStatement";h.BinaryExpression="BinaryExpression";h.BreakStatement="BreakStatement";h.CallExpression=
"CallExpression";h.ContinueStatement="ContinueStatement";h.EmptyStatement="EmptyStatement";h.ExpressionStatement="ExpressionStatement";h.ExportNamedDeclaration="ExportNamedDeclaration";h.ExportSpecifier="ExportSpecifier";h.ForStatement="ForStatement";h.ForInStatement="ForInStatement";h.FunctionDeclaration="FunctionDeclaration";h.Identifier="Identifier";h.IfStatement="IfStatement";h.ImportDeclaration="ImportDeclaration";h.ImportDefaultSpecifier="ImportDefaultSpecifier";h.LineComment="LineComment";
h.Literal="Literal";h.LogicalExpression="LogicalExpression";h.MemberExpression="MemberExpression";h.ObjectExpression="ObjectExpression";h.Program="Program";h.Property="Property";h.ReturnStatement="ReturnStatement";h.TemplateElement="TemplateElement";h.TemplateLiteral="TemplateLiteral";h.UnaryExpression="UnaryExpression";h.UpdateExpression="UpdateExpression";h.VariableDeclaration="VariableDeclaration";h.VariableDeclarator="VariableDeclarator";h.WhileStatement="WhileStatement"})(x.Syntax||(x.Syntax=
{}));x.UpdateOperators=["++","--"];x.UnaryOperators=["-","+","!","~"];x.AssignmentOperators="\x3d /\x3d *\x3d %\x3d +\x3d -\x3d".split(" ");x.LogicalOperators=["||","\x26\x26"];x.BinaryOperators="| \x26 \x3e\x3e \x3c\x3c \x3e\x3e\x3e ^ \x3d\x3d !\x3d \x3c \x3c\x3d \x3e \x3e\x3d + - * / %".split(" ");x.OperatorPrecedence={"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":10,"/":10,"%":ate"})(x.TokenType||(x.TokenType={}));x.TokenNames="Unknown Boolean \x3cend\x3e Identifier Keyword Null Numeric Punctuator String RegularExpression Template".split(ken"})(G=x.ParsingErrorCodes||(x.ParsingErrorCodes={}));x.ParsingErrorMessages=(r={},r[G.InvalidModuleUri]="Module uri must be a text literal.",r[G.ForInOfLoopInitializer]="for-in loop variable declaration may not have an initializer.",r[G.IdentiferExpected]="'${value}' is an invalid identifier.",
r[G.InvalidEscapedReservedWord]="Keyword cannot contain escaped characters.",r[G.InvalidExpression]="Invalid expression.",r[G.InvalidFunctionIdentifier]="'${value}' is an invalid function identifier.",r[G.InvalidHexEscapeSequence]="Invalid hexadecimal escape sequence.",r[G.InvalidLeftHandSideInAssignment]="Invalid left-hand side in assignment.",r[G.InvalidLeftHandSideInForIn]="Invalid left-hand side in for-in.",r[G.InvalidTemplateHead]="Invalid template structure.",r[G.InvalidVariableAssignment]=
"Invalid variable assignment.",r[G.KeyMustBeString]="Object property keys must be a word starting with a letter.",r[G.NoFunctionInsideBlock]="Functions cannot be declared inside of code blocks.",r[G.NoFunctionInsideFunction]="Functions cannot be declared inside another function.",r[G.ModuleExportRootOnly]="Module exports cannot be declared inside of code blocks.",r[G.ModuleImportRootOnly]="Module import cannot be declared inside of code blocks.",r[G.PunctuatorExpected]="'${value}' expected.",r[G.TemplateOctalLiteral]=
"Octal literals are not allowed in template literals.",r[G.UnexpectedBoolean]="Unexpected boolean literal.",r[G.UnexpectedEndOfScript]="Unexpected end of Arcade expression.",r[G.UnexpectedIdentifier]="Unexpected identifier.",r[G.UnexpectedKeyword]="Unexpected keyword.",r[G.UnexpectedNull]="Unexpected null literal.",r[G.UnexpectedNumber]="Unexpected number.",r[G.UnexpectedPunctuator]="Unexpected ponctuator.",r[G.UnexpectedString]="Unexpected text literal.",r[G.UnexpectedTemplate]="Unexpected quasi '${value}'.",
r[G.UnexpectedToken]="Unexpected token '${value}'.",r);r=function(h){function w(q){var n=q.code,f=q.index,g=q.line,a=q.column,d=q.len;d=void 0===d?0:d;var k=q.description;q=q.data;var l,m,e=h.call(this,""+(null!==k&&void 0!==k?k:n))||this;e.declaredRootClass="esri.arcade.lib.parsingerror";e.name="ParsingError";e.code=n;e.index=f;e.line=g;e.column=a;e.len=d;e.data=q;e.description=k;e.range={start:{line:g,column:a-1},end:{line:g,column:a+d}};null===(m=(l=Error).captureStackTrace)||void 0===m?void 0:
m.call(l,e,w);return e}c(w,h);return w}(Error);x.ParsingError=r;x.isProgram=function(h){return"Program"===(null===h||void 0===h?void 0:h.type)};x.isStatement=function(h){switch(null===h||void 0===h?void 0:h.type){case "BlockStatement":case "BreakStatement":case "ContinueStatement":case "EmptyStatement":case "ExpressionStatement":case "ForInStatement":case "ForStatement":case "FunctionDeclaration":case "IfStatement":case "ReturnStatement":case "VariableDeclaration":return!0;default:return!1}};x.isBlockStatement=
function(h){return"BlockStatement"===(null===h||void 0===h?void 0:h.type)};x.isBlockComment=function(h){return"BlockComment"===(null===h||void 0===h?void 0:h.type)};x.isBreakStatement=function(h){return"BreakStatement"===(null===h||void 0===h?void 0:h.type)};x.isContinueStatement=function(h){return"ContinueStatement"===(null===h||void 0===h?void 0:h.type)};x.isEmptyStatement=function(h){return"EmptyStatement"===(null===h||void 0===h?void 0:h.type)};x.isExpressionStatement=function(h){return"ExpressionStatement"===
(null===h||void 0===h?void 0:h.type)};x.isForInStatement=function(h){return"ForInStatement"===(null===h||void 0===h?void 0:h.type)};x.isForStatement=function(h){return"ForStatement"===(null===h||void 0===h?void 0:h.type)};x.isFunctionDeclaration=function(h){return"FunctionDeclaration"===(null===h||void 0===h?void 0:h.type)};x.isIfStatement=function(h){return"IfStatement"===(null===h||void 0===h?void 0:h.type)};x.isReturnStatement=function(h){return"ReturnStatement"===(null===h||void 0===h?void 0:
h.type)};x.isVariableDeclaration=function(h){return"VariableDeclaration"===(null===h||void 0===h?void 0:h.type)};x.isExpression=function(h){switch(null===h||void 0===h?void 0:h.type){case "ArrayExpression":case "AssignmentExpression":case "BinaryExpression":case "CallExpression":case "Identifier":case "Literal":case "LogicalExpression":case "MemberExpression":case "ObjectExpression":case "TemplateLiteral":case "UpdateExpression":case "UnaryExpression":return!0;default:return!1}};x.isArrayExpression=
function(h){return"ArrayExpression"===(null===h||void 0===h?void 0:h.type)};x.isAssignmentExpression=function(h){return"AssignmentExpression"===(null===h||void 0===h?void 0:h.type)};x.isBinaryExpression=function(h){return"BinaryExpression"===(null===h||void 0===h?void 0:h.type)};x.isCallExpression=function(h){return"CallExpression"===(null===h||void 0===h?void 0:h.type)};x.isIdentifier=function(h){return"Identifier"===(null===h||void 0===h?void 0:h.type)};x.isLiteral=function(h){return"Literal"===
(null===h||void 0===h?void 0:h.type)};x.isLogicalExpression=function(h){return"LogicalExpression"===(null===h||void 0===h?void 0:h.type)};x.isObjectExpression=function(h){return"ObjectExpression"===(null===h||void 0===h?void 0:h.type)};x.isTemplateLiteral=function(h){return"TemplateLiteral"===(null===h||void 0===h?void 0:h.type)};x.isMemberExpression=function(h){return"MemberExpression"===(null===h||void 0===h?void 0:h.type)};x.isUnaryExpression=function(h){return"UnaryExpression"===(null===h||void 0===
h?void 0:h.type)};x.isUpdateExpression=function(h){return"UpdateExpression"===(null===h||void 0===h?void 0:h.type)};x.isVariableDeclarator=function(h){return"VariableDeclarator"===(null===h||void 0===h?void 0:h.type)};x.isProperty=function(h){return"Property"===(null===h||void 0===h?void 0:h.type)};x.isTemplateElype)}})},"esri/arcade/lib/error-handler":function(){define(["require","exports","./types"],function(G,x,c){function r(h,
w){h=c.ParsingErrorMessages[h];return w?h.replace(/\${(.*g:""}):h}Object.defineProperty(x,"__esModule",{value:!0});x.ErrorHandler=x.formatErrorDescription=void 0;x.formatErrorDescription=r;G=function(){function h(w){void 0===w&&(w=!1);this.tolerant=w;this.errors=[]}h.prototype.recordError=function(w){this.errors.push(w)};h.prototype.tol w;
};h.prototype.throwError=function(w){var q;w.description=null!==(q=w.description)&&void 0!==q?q:r(w.code,w.data);throw new c.ParsingError(w);};h.prototype.tolerateError=function(w){var q;w.description=null!==(q=w.description)&&void 0!==q?q:r(w.code,w.data);w=new c.ParsingError(w);if(this.tolerant)this.recordError(w);else throw w;};return h}();x.ErrorHandler=G})},"esri/arcade/lib/scanner":function(){define("require exports ../polyfill/tsSupport/assign ../polyfill/tsSupport/spreadarray ../polyfill/tsSupport/extends ./assert ./character ./types".split(" "),
function(G,x,c,r,h,w,q,n){Object.defineProperty(x,"__esModule",{value:!0});x.Scanner=void 0;var f=[[],[],[]];n.UpdateOperators.forEach(function(g){return f[g.length-1].push(g)});n.UnaryOperators.forEach(function(g){return f[g.length-1].push(g)});n.LogicalOperators.forEach(function(g){return f[g.length-1].push(g)});n.AssignmentOperators.forEach(function(g){return f[g.length-1].push(g)});n.BinaryOperators.foh(g)});G=function(){function g(a,d){this.source=a;
this.errorHandler=d;this._length=a.length;this.index=0;this.lineNumber=1;this.lineStart=0;this.curlyStack=[]}g.prototype.savee()}};g.prototype.restoretack};g.prototypngth};g.prototype.throwUnexpectedToken=function(a){void 0===
a&&(a=n.ParsingErrorCodes.UnexpectedToken);this.errorHandler.throwError({code:a,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})};g.prototype.tolerateUnexpectedToken=function(a){void 0===a&&(a=n.ParsingErrorCodes.UnexpectedToken);this.errorHandler.tolerateError({code:a,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})};g.prototype.skipSingleLineComment=function(a){for(var d=[],k=this.index-a,l={start:{line:this.lineNumber,column:this.index-this.lineStart-
a},end:{line:0,column:0}};!this.eof();){var m=this.source.charCodeAt(this.index);++this.index;if(q.Character.isLineTerminator(m))return l&&(l.end={line:this.lineNumber,column:this.index-this.lineStart-1},a={multiLine:!1,start:k+a,end:this.index-1,range:[k,this.index-1],loc:l},d.push(a)),13===m&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,d}l&&(l.end={line:this.lineNumber,column:this.index-this.lineStart},a={multiLine:!1,start:k+a,end:this.index,
range:[k,this.index],loc:l},d.push(a));return d};g.prototype.skipMultiLineComment=function(){for(var a=[],d=this.index-2,k={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}};!this.eof();){var l=this.source.charCodeAt(this.index);if(q.Character.isLineTerminator(l))13===l&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===l&&47===this.source.charCodeAt(this.index+1))return this.index+=2,
k&&(k.end={line:this.lineNumber,column:this.index-this.lineStart},d={multiLine:!0,start:d+2,end:this.index-2,range:[d,this.index],loc:k},a.push(d)),a;++this.index}}k&&(k.end={line:this.lineNumber,column:this.index-this.lineStart},d={multiLine:!0,start:d+2,end:this.index,range:[d,this.index],loc:k},a.push(d));this.tolerateUnexpectedToken();return a};g.prototype.scanComments=function(){for(var a=[];!this.eof();){var d=this.source.charCodeAt(this.index);if(q.Character.isWhiteSpace(d))++this.index;else if(q.Character.isLineTerminator(d))++this.index,
13===d&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index;else if(47===d)if(d=this.source.charCodeAt(this.index+1),47===d)this.index+=2,d=this.skipSingleLineComment(2),a=r(r([],a),d);else if(42===d)this.index+=2,d=this.skipMultiLineComment(),a=r(r([],a),d);else break;else break}return a};g.prototype.isKeyword=function(a){a=a.toLowerCase();switch(a.length){case 2:return a===n.Keywords.If||a===n.Keywords.In;case 3:return a===n.Keywords.Var||a===n.Keywords.For;
case 4:return a===n.Keywords.Else;case 5:return a===n.Keywords.Break||a===n.Keywords.While;case 6:return a===n.Keywords.Return||a===n.Keywords.Import||a===n.Keywords.Export;case 8:return a===n.Keywords.Function||a===n.Keywords.Continue;default:return!1}};g.prototype.codePorn d};g.prototype.scanHexEe(d)};g.prototype.scanUnicodeCodePointEt(d)};g.prototype.getIdentdex)};g.prototype.getComplexIdentrn d};g.prototype.octalToDecimal=function(a){var d="0"!==a,k="01234567".indexOf(a);!this.eof()&&q.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(d=!0,k=8*k+"01234567".indexOf(this.source[this.index++]),"0123".includes(a)&&!this.eof()&&q.Character.isOctalDigit(this.source.charCodeAt(this.index))&&
(k=8*k+"01234567".indexOf(this.source[this.index++])));return{code:k,octal:d}};g.prototype.scanIdentifier=function(){var a=this.index,d=92===this.source.charCodeAt(a)?this.getComplexIdentifier():this.getIdentifier();var k=1===d.length?3:this.isKeyword(d)?4:d.toLowerCase()===n.Keywords.Null?5:d.toLowerCase()===n.Keywords.True||d.toLowerCase()===n.Keywords.False?1:3;if(3!==k&&a+d.length!==this.index){var l=this.index;this.index=a;this.tolerateUnexpectedToken(n.ParsingErrorCodes.InvalidEscapedReservedWord);
this.index=l}return{type:k,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:a,end:this.index}};g.prototype.scanPunctuator=function(){var a=this.index,d=this.source[this.index];switch(d){case "(":case "{":"{"===d&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:for(var k=f.length;0<k;k--)if(d=this.source.substring(this.index,
this.index+k),f[k-1].includes(d)){this.index+=k;break}}this.index===a&&this.throwUnexpectedToken();return{type:7,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:a,end:this.index}};g.prototype.scanHexLidex}};g.prototype.scanBinaryLiteral=function(a){for(var d="";!this.eof();){var k=this.source[this.index];if("0"!==k&&"1"!==k)break;d+=this.source[this.index++]}0===d.length&&this.throwUnexpectedToken();this.eof()||(k=this.source.charCodeAt(this.index),(q.Character.isIdentifierStart(k)||q.Character.isDecimalDigit(k))&&this.throwUnexpectedToken());return{type:6,value:parseInt(d,2),lineNumber:this.lineNumber,
lineStart:this.lineStart,start:a,end:this.index}};g.prototype.scanOctalLiteral=function(a,d){var k="",l=!1;q.Character.isOctalDigit(a.charCodeAt(0))?(l=!0,k="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&q.Character.isOctalDigit(this.source.charCodeAt(this.index));)k+=this.source[this.index++];l||0!==k.length||this.throwUnexpectedToken();(q.Character.isIdentifierStart(this.source.charCodeAt(this.index))||q.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();
return{type:6,value:parseInt(k,8),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};g.prototype.scanNumericLidex}};g.prototype.scanStringLiteral=function(){var a=this.index,d=this.source[a];w.assert("'"===d||'"'===d,"String literal must starts with a quote");++this.index;for(var k="";!this.eof();){var l=this.source[this.index++];if(l===d){d="";break}if("\\"===
l)if((l=this.source[this.index++])&&q.Character.isLineTerminator(l.charCodeAt(0)))++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(l){case "u":"{"===this.source[this.index]?(++this.index,k+=this.scanUnicodeCodePointEscape()):(l=this.scanHexEscape(l),null===l&&this.throwUnexpectedToken(),k+=l);break;case "x":l=this.scanHexEscape(l);null===l&&this.throwUnexpectedToken(n.ParsingErrorCodes.InvalidHexEscapeSequence);k+=l;break;case "n":k+="\n";
break;case "r":k+="\r";break;case "t":k+="\t";break;case "b":k+="\b";break;case "f":k+="\f";break;case "v":k+="\v";break;case "8":case "9":k+=l;this.tolerateUnexpectedToken();break;default:l&&q.Character.isOctalDigit(l.charCodeAt(0))?(l=this.octalToDecimal(l),k+=String.fromCharCode(l.code)):k+=l}else if(q.Character.isLineTerminator(l.charCodeAt(0)))break;else k+=l}""!==d&&(this.index=a,this.throwUnexpectedToken());return{type:8,value:k,lineNumber:this.lineNumber,lineStart:this.lineStart,start:a,end:this.index}};
g.prototype.scanTemdex}};g.prototypor()};return g}();x.Scanner=G})},"esri/arcade/lib/as;}})},"esri/arcade/lib/character":function(){define(["require",
"exports"],function(G,x){Object.defineProperty(x,"__esModule",{value:!0});x.Character=void 0;var c=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
r=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
x.Character={fromCode23))},isWhiteSpace:function(h){return 32===h||9===h||11===h||12===h||160===h||5760<=h&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(h)},isLineTermi===h},isIdentifier(h))},isIdentifie(h))},isDecimalDigit:function(h){return 48<=h&&57>=h},isHex2>=h},isOctal5>=h}}})},"esri/arcade/lib/tokenizer":function(){define(["require","exports","./error-handler","./scanner","./types"],function(G,x,c,r,h){Object.defineProperty(x,
"__esModule",{value:!0});x.Tokenizer=void 0;G=function(){function w(q,n){this.errorHandler=new c.ErrorHandler;this.errorHandler.tolerant=n?"boolean"===typeof n.tolerant&&n.tolerant:!1;this.scanner=new r.Scanner(q,this.errorHandler);this.trackComments=n?"boolean"===typeof n.comment&&n.comment:!1;this.buffer=[]}w.prototype.erors};w.prototype.getNextToken=function(){var q=this;if(0===this.buffer.length){var n=this.scanner.scanComments();this.trackComments&&
n&&n.forEach(function(a){var d=q.scanner.source.slice(a.start,a.end);q.buffer.push({type:a.multiLine?"BlockComment":"LineComment",value:d,range:a.range,loc:a.loc})});if(!this.scanner.eof()){n={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart};var f=this.scanner.lex(),g={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart};n={type:h.TokenNames[f.type],value:this.scanner.source.slice(f.start,f.end),range:[f.start,f.end],loc:{start:n,end:g}};this.buffer.push(n)}}return this.buffer.shift()};
return w}();x.Tokenizer=G})},"esri/arcade/featureset/support/RecentlyUsedCache":function(){define(["require","exports"],function(G,x){var c=function(){function h(w){var q=this;q._keys=[];q._values=[];q.length=0;w&&w.fo[1])})}h.prototype.entries=function(){var w=this;return[].slice.call(this.keys([n]]}))};h.prototype.keys=function(){return[].slice.call(this._keys)};h.prototype.vues)};h.prototype.has=
function(w){return this._keys.includes(w)};h.prototype.get=function(w){w=this._keys.indexOf(w);return-1<w?this._values[w]:null};h.prototype.deepGet=function(w){if(!w||!w.length)return null;var q=function(n,f){return null==n?null:f.length?q(n instanceof h?n.get(f[0]):n[f[0]],f.slice(1)):n};return q(this.get(w[0]),w.slice(1))};h.prototype.set=function(w,q){var n=this._keys.indexOf(w);-1<n?this._values[n]=q:(this._keys.push(w),this._values.push(q),this.length=this._values.length);return this};h.prototype.sortedSet=
function(w,q,n,f){var g=this._keys.length;n=n||0;f=void 0!==f?f:g-1;if(0===g)return this._keys.push(w),this._values.push(q),this;if(w===this._keys[n])return this._values.splice(n,0,q),this;if(w===this._keys[f])return this._values.splice(f,0,q),this;if(w>this._keys[f])return this._keys.splice(f+1,0,w),this._values.splice(f+1,0,q),this;if(w<this._keys[n])return this._values.splice(n,0,q),this._keys.splice(n,0,w),this;if(n>=f)return this;g=n+Math.floor((f-n)/2);return w<this._keys[g]?this.sortedSet(w,
q,n,g-1):w>this._keys[g]?this.sortedSet(w,q,g+1,f):this};h.prototype.size=function(){return this.length};h.prototype.clear=function(){this._keys.length=this.length=this._values.length=0;return this};h.prototype.delete=function(w){w=this._keys.indexOf(w);return-1<w?(this._keys.splice(w,1),this._values.splice(w,1),this.length=this._keys.length,!0):!1};h.prototype.forEach=function(w){var q=this;this._keys.fon,f)})};h.prototype.map=function(w){var q=this;return this.keys(n,f)})};h.prototype.filter=function(w){var q=this;q._keys.forEach(function(n,f){!1===w(q._values[f],n,f)&&q.delete(n)});return this};h.prototype.s())};return h}(),r=function(){function h(w){void 0===w&&(w=20);this._maxEntries=w;this._values=new c}h.prototype.de(w)};h.prototype.get=function(w){var q=null;this._values.has(w)&&(q=this._values.get(w),this._values.delete(w),this._values.set(w,
q));return q};h.prototype.put=function(w,q){if(this._values.size()>=this._maxEntries){var n=this._values.keys()[0];this._values.delete(n)}this._values.set(w,q)};return h}();return function(){function h(w){void 0===w&&(w=20);this._maxEntries=w;this._cache=new r(this._maxEntries)}h.prototype.ies)};h.prototype.addTow,q)};h.prototype.removeFromCache=function(w){this._cache.delete(w)};h.prototype.getFromCache=function(w){return this._cache.get(w)};
return h}()})},"esri/arcade/arcadeRuntime":function(){define("require exports ./polyfill/tsSupport/awaiter ./polyfill/tsSupport/generator ./polyfill/tsSupport/assign ./polyfill/tsSupport/spreadarray ./polyfill/tsSupport/extends ./ArcadeModule ./ArcadeModuleLoader ./Dictionary ./executionError ./Feature ./FunctionWrapper ./languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Geometry ../SpatialReference".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t,z,C,yn ja}function E(V,X,ja){try{return!0===X.preparsed?ja(V,null,X.arguments):ja(V,X,u(V,X))}catch(pa){throw pa;}}function v(V,X){try{switch(null===X||void 0===X?void 0:X.type){case "EmptyStatement":return l.voidOperation;case "VariableDeclarator":var ja=null===X.init?null:v(V,X.init);ja===l.voidOperation&&(ja=null);if("Identifier"!==X.id.type)throw new a.ArcadeExecutionError(V,
a.ExecutionErrorCodes.InvalidIdentifier,X);var pa=X.id.name.toLowerCase();null!=V.localScope?V.localScope[pa]={value:ja,valueset:!0,node:X.init}:V.globalScope[pa]={value:ja,valueset:!0,node:X.init};return l.voidOperation;case "VariableDeclaration":for(var ta=0;ta<X.declarations.length;ta++)v(V,X.declarations[ta]);return l.voidOperation;case "ImportDeclaration":var ea,va,M=X.specifiers[0].local.name.toLowerCase(),S=V.libraryResolver.loadLibrary(M);ta=null;(null===(ea=V.libraryResolver._moduleSingletons)||
void 0===ea?0:ea.has(S.uri))?ta=V.libraryResolver._moduleSingletons.get(S.uri):(ta=new qa(S),ta.loadModule(V),null===(va=V.libraryResolver._moduleSingletons)||void 0===va?void 0:va.set(S.uri,ta));V.globalScope[M]={value:ta,valueset:!0,node:X};return l.voidOperation;case "ExportNamedDeclaration":v(V,X.declaration);if("FunctionDeclaration"===X.declaration.type)V.exports[X.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===X.declaration.type){ta=0;for(var ma=X.declaration.declarations;ta<
ma.length;ta++)V.exports[ma[ta].id.name.toLowerCase()]="variable"}return l.voidOperation;case "BlockStatement":case "Program":a:{var ua=l.voidOperation;for(ta=0;ta<X.body.length;ta++)if(ua=v(V,X.body[ta]),ua instanceof l.ReturnResult||ua===l.breakResult||ua===l.continueResult){var wa=ua;break a}wa=ua}return wa;case "FunctionDeclaration":var Q=X.id.name.toLowerCase();V.globalScope[Q]={valueset:!0,node:null,value:new oa(X,V)};return l.voidOperation;case "ReturnStatement":if(null===X.argument)var ka=
new l.ReturnResult(l.voidOperation);else{var za=v(V,X.argument);ka=new l.ReturnResult(za)}return ka;case "IfStatement":var Ea=v(V,X.test);if(!0===Ea)var Ka=v(V,X.consequent);else if(!1===Ea)Ka=null!==X.alternate?v(V,X.alternate):l.voidOperation;else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.BooleanConditionRequired,X);return Ka;case "ExpressionStatement":if("AssignmentExpression"===X.expression.type||"UpdateExpression"===X.expression.type)var Qa=v(V,X.expression);else{var Pa=v(V,X.expression);
Qa=Pa===l.voidOperation?l.voidOperation:new l.ImplicitResult(Pa)}return Qa;case "AssignmentExpression":ta=null;var J="";if("MemberExpression"===X.left.type){ta=v(V,X.left.object);if(!0===X.left.computed)J=v(V,X.left.property);else if("Identifier"===X.left.property.type)J=X.left.property.name;else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidIdentifier,X);var U=v(V,X.right);if(l.isArray(ta))if(l.isNumber(J)){0>J&&(J=ta.length+J);if(0>J||J>ta.length)throw new a.ArcadeExecutionError(V,
a.ExecutionErrorCodes.OutOfBounds,X);if(J===ta.length&&"\x3d"!==X.operator)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.OutOfBounds,X);ta[J]=F(U,X.operator,ta[J],X,V)}else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.ArrayAccessorMustBeNumber,X);else if(ta instanceof g){if(!1===l.isString(J))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.KeyAccessorMustBeString,X);if(!0===ta.hasField(J))ta.setField(J,F(U,X.operator,ta.field(J),X,V));else{if("\x3d"!==X.operator)throw new a.ArcadeExecutionError(V,
a.ExecutionErrorCodes.FieldNotFound,X,{key:J});ta.setField(J,F(U,X.operator,null,X,V))}}else if(l.isFeature(ta)){if(!1===l.isString(J))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.KeyAccessorMustBeString,X);if(!0===ta.hasField(J))ta.setField(J,F(U,X.operator,ta.field(J),X,V));else{if("\x3d"!==X.operator)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.FieldNotFound,X,{key:J});ta.setField(J,F(U,X.operator,null,X,V))}}else{if(l.isImmutableArray(ta))throw new a.ArcadeExecutionError(V,
a.ExecutionErrorCodes.Immutable,X);if(ta instanceof qa){if(!1===l.isString(J))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.ModuleAccessorMustBeString,X);if(!0===ta.hasGlobal(J))ta.setGlobal(J,F(U,X.operator,ta.global(J),X,V));else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.ModuleExportNotFound,X);}else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidIdentifier,X);}var ia=l.voidOperation}else{ta=X.left.name.toLowerCase();var K=v(V,X.right);if(null!=V.localScope&&
void 0!==V.localScope[ta])V.localScope[ta]={value:F(K,X.operator,V.localScope[ta].value,X,V),valueset:!0,node:X.right},ia=l.voidOperation;else if(void 0!==V.globalScope[ta])V.globalScope[ta]={value:F(K,X.operator,V.globalScope[ta].value,X,V),valueset:!0,node:X.right},ia=l.voidOperation;else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidIdentifier,X);}return ia;case "UpdateExpression":ta=null;J="";if("MemberExpression"===X.argument.type){ta=v(V,X.argument.object);!0===X.argument.computed?
J=v(V,X.argument.property):"Identifier"===X.argument.property.type&&(J=X.argument.property.name);if(l.isArray(ta))if(l.isNumber(J)){0>J&&(J=ta.length+J);if(0>J||J>=ta.length)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.OutOfBounds,X);var T=l.toNumber(ta[J]);ta[J]="++"===X.operator?T+1:T-1}else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.ArrayAccessorMustBeNumber,X);else if(ta instanceof g){if(!1===l.isString(J))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.KeyAccessorMustBeString,
X);if(!0===ta.hasField(J))T=l.toNumber(ta.field(J)),ta.setField(J,"++"===X.operator?T+1:T-1);else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.FieldNotFound,X);}else if(l.isFeature(ta)){if(!1===l.isString(J))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.KeyAccessorMustBeString,X);if(!0===ta.hasField(J))T=l.toNumber(ta.field(J)),ta.setField(J,"++"===X.operator?T+1:T-1);else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.FieldNotFound,X);}else{if(l.isImmutableArray(ta))throw new a.ArcadeExecutionError(V,
a.ExecutionErrorCodes.Immutable,X);if(ta instanceof qa){if(!1===l.isString(J))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.ModuleAccessorMustBeString,X);if(!0===ta.hasGlobal(J))T=l.toNumber(ta.global(J)),ta.setGlobal(J,"++"===X.operator?T+1:T-1);else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.ModuleExportNotFound,X);}else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidParameter,X);}var fa=!1===X.prefix?T:"++"===X.operator?T+1:T-1}else{ta="Identifier"===X.argument.type?
X.argument.name.toLowerCase():"";if(!ta)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidIdentifier,X);if(null!=V.localScope&&void 0!==V.localScope[ta])T=l.toNumber(V.localScope[ta].value),V.localScope[ta]={value:"++"===X.operator?T+1:T-1,valueset:!0,node:X},fa=!1===X.prefix?T:"++"===X.operator?T+1:T-1;else if(void 0!==V.globalScope[ta])T=l.toNumber(V.globalScope[ta].value),V.globalScope[ta]={value:"++"===X.operator?T+1:T-1,valueset:!0,node:X},fa=!1===X.prefix?T:"++"===X.operator?T+
1:T-1;else throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidIdentifier,X);}return fa;case "BreakStatement":return l.breakResult;case "ContinueStatement":return l.continueResult;case "TemplateElement":return X.value?X.value.cooked:"";case "TemplateLiteral":var ra="",Ba=0;ia=0;for(ta=X.quasis;ia<ta.length;ia++)if(J=ta[ia],ra+=J.value?J.value.cooked:"",!1===J.tail){if(X.expressions[Ba]){U=l;var Ma=U.toString,Ha=v(V,X.expressions[Ba]);K=V;fa=X;if(l.isFunctionParameter(Ha))throw new a.ArcadeExecutionError(K,
a.ExecutionErrorCodes.NoFunctionInTemplateLiteral,fa);var Ua=Ma.call(U,Ha)}else Ua="";ra+=Ua;Ba++}return ra;case "ForStatement":null!==X.init&&v(V,X.init);Ba={testResult:!0,lastAction:l.voidOperation};do b:{ta=V;J=X;Ua=Ba;if(null!==J.test){Ua.testResult=v(ta,J.test);if(!1===Ua.testResult)break b;if(!0!==Ua.testResult)throw new a.ArcadeExecutionError(ta,a.ExecutionErrorCodes.BooleanConditionRequired,J);}Ua.lastAction=v(ta,J.body);Ua.lastAction===l.breakResult?Ua.testResult=!1:Ua.lastAction instanceof
l.ReturnResult?Ua.testResult=!1:null!==J.update&&v(ta,J.update)}while(!0===Ba.testResult);ra=Ba.lastAction instanceof l.ReturnResult?Ba.lastAction:l.voidOperation;return ra;case "ForInStatement":return A(V,X);case "WhileStatement":ta=!0;var Ta=l.voidOperation;ta=v(V,X.test);if(!1===ta)var Oa=l.voidOperation;else{if(!0!==ta)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.BooleanConditionRequired,X);for(;!0===ta;){Ta=v(V,X.body);if(Ta===l.breakResult)break;if(Ta instanceof l.ReturnResult)break;
ta=v(V,X.test);if(!0!==ta&&!1!==ta)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.BooleanConditionRequired,X);}Oa=Ta instanceof l.ReturnResult?Ta:l.voidOperation}return Oa;case "Identifier":return na(V,X);case "MemberExpression":return I(V,X);case "Literal":return X.value;case "CallExpression":a:try{if("MemberExpression"===X.callee.type){var Xa=v(V,X.callee.object);if(!(Xa instanceof qa))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.FuncionNotFound,X);var $a=!1===X.callee.computed?
X.callee.property.name:v(V,X.callee.property);if(!Xa.hasGlobal($a))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.FuncionNotFound,X);var bb=Xa.global($a);if(!l.isFunctionParameter(bb))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.CallNonFunction,X);var hb=bb.call(V,X)}else{if("Identifier"!==X.callee.type)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.FuncionNotFound,X);if(null!=V.localScope&&void 0!==V.localScope[X.callee.name.toLowerCase()]){var gb=V.localScope[X.callee.name.toLowerCase()];
if(l.isFunctionParameter(gb.value)){hb=gb.value.call(V,X);break a}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.CallNonFunction,X);}if(void 0!==V.globalScope[X.callee.name.toLowerCase()]){gb=V.globalScope[X.callee.name.toLowerCase()];if(l.isFunctionParameter(gb.value)){hb=gb.value.call(V,X);break a}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.CallNonFunction,X);}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.FuncionNotFound,X);}}catch(sb){throw sb;}return hb;case "UnaryExpression":return N(V,
X);case "BinaryExpression":return da(V,X);case "LogicalExpression":return ba(V,X);case "ArrayExpression":try{ta=[];for(J=0;J<X.elements.length;J++){var mb=v(V,X.elements[J]);if(l.isFunctionParameter(mb))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.NoFunctionInArray,X);mb===l.voidOperation?ta.push(null):ta.push(mb)}var rb=ta}catch(sb){throw sb;}return rb;case "ObjectExpression":ta={};var ob=new Map;for(J=0;J<X.properties.length;J++){var eb=v(V,X.properties[J]);if(l.isFunctionParameter(eb.value))throw new a.ArcadeExecutionError(V,
a.ExecutionErrorCodes.NoFunctionInDictionary,X);if(!1===l.isString(eb.key))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.KeyMustBeString,X);var nb=eb.key.toString(),Ab=nb.toLowerCase();ob.has(Ab)?nb=ob.get(Ab):ob.set(Ab,nb);ta[nb]=eb.value===l.voidOperation?null:eb.value}var qb=new g(ta);qb.immutable=!1;return qb;case "Property":return{key:"Identifier"===X.key.type?X.key.name:v(V,X.key),value:v(V,X.value)};default:throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.Unrecognised,X);
}}catch(sb){throw a.ensureArcadeExecutionError(V,X,sb);}}function A(V,X){var ja=v(V,X.right);"VariableDeclaration"===X.left.type&&v(V,X.left);var pa=null,ta="";if("VariableDeclaration"===X.left.type){var ea=X.left.declarations[0].id;"Identifier"===ea.type&&(ta=ea.name)}else"Identifier"===X.left.type&&(ta=X.left.name);if(!ta)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidIdentifier,X);ta=ta.toLowerCase();null!=V.localScope&&void 0!==V.localScope[ta]&&(pa=V.localScope[ta]);null===pa&&
void 0!==V.globalScope[ta]&&(pa=V.globalScope[ta]);if(null===pa)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidIdentifier,X);if(l.isArray(ja)||l.isString(ja)){ja=ja.length;for(ea=0;ea<ja;ea++){pa.value=ea;ta=v(V,X.body);if(ta===l.breakResult)break;if(ta instanceof l.ReturnResult)return ta}return l.voidOperation}if(l.isImmutableArray(ja)){for(ea=0;ea<ja.length();ea++){pa.value=ea;ta=v(V,X.body);if(ta===l.breakResult)break;if(ta instanceof l.ReturnResult)return ta}return l.voidOperation}if(ja instanceof
g||l.isFeature(ja))for(ja=ja.keys(),ea=0;ea<ja.length;ea++){pa.value=ja[ea];ta=v(V,X.body);if(ta===l.breakResult)break;if(ta instanceof l.ReturnResult)return ta}else return l.voidOperation}function F(V,X,ja,pa,ta){switch(X){case "\x3d":return V===l.voidOperation?null:V;case "/\x3d":return l.toNumber(ja)/l.toNumber(V);case "*\x3d":return l.toNumber(ja)*l.toNumber(V);case "-\x3d":return l.toNumber(ja)-l.toNumber(V);case "+\x3d":return l.isString(ja)||l.isString(V)?l.toString(ja)+l.toString(V):l.toNumber(ja)+
l.toNumber(V);case "%\x3d":return l.toNumber(ja)%l.toNumber(V);default:throw new a.ArcadeExecutionError(ta,a.ExecutionErrorCodes.UnsupportedOperator,pa);}}function I(V,X){try{var ja=v(V,X.object);if(null===ja)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.MemberOfNull,X);if(!1===X.computed){if("Identifier"===X.property.type){if(ja instanceof g||l.isFeature(ja))return ja.field(X.property.name);if(ja instanceof D)return p.geometryMember(ja,X.property.name,X,V);if(ja instanceof qa){if(!ja.hasGlobal(X.property.name))throw new a.ArcadeExecutionError(V,
a.ExecutionErrorCodes.InvalidIdentifier,X);return ja.global(X.property.name)}}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidMemberAccessKey,X);}var pa=v(V,X.property);if(ja instanceof g||l.isFeature(ja)){if(l.isString(pa))return ja.field(pa);throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidMemberAccessKey,X);}if(ja instanceof qa){if(l.isString(pa))return ja.global(pa);throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidMemberAccessKey,X);}if(ja instanceof
D){if(l.isString(pa))return p.geometryMember(ja,pa,X,V);throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidMemberAccessKey,X);}if(l.isArray(ja)){if(l.isNumber(pa)&&isFinite(pa)&&Math.floor(pa)===pa){0>pa&&(pa=ja.length+pa);if(pa>=ja.length||0>pa)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.OutOfBounds,X);return ja[pa]}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidMemberAccessKey,X);}if(l.isString(ja)){if(l.isNumber(pa)&&isFinite(pa)&&Math.floor(pa)===pa){0>
pa&&(pa=ja.length+pa);if(pa>=ja.length||0>pa)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.OutOfBounds,X);return ja[pa]}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidMemberAccessKey,X);}if(l.isImmutableArray(ja)&&l.isNumber(pa)&&isFinite(pa)&&Math.floor(pa)===pa){0>pa&&(pa=ja.length()+pa);if(pa>=ja.length()||0>pa)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.OutOfBounds,X);return ja.get(pa)}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidMemberAccessKey,
X);}catch(ta){throw ta;}}function N(V,X){try{var ja=v(V,X.argument);if(l.isBoolean(ja)){if("!"===X.operator)return!ja;if("-"===X.operator)return-1*l.toNumber(ja);if("+"===X.operator)return 1*l.toNumber(ja);if("~"===X.operator)return~l.toNumber(ja);throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.UnsupportedUnaryOperator,X);}if("~"===X.operator)return~l.toNumber(ja);if("-"===X.operator)return-1*l.toNumber(ja);if("+"===X.operator)return 1*l.toNumber(ja);throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.UnsupportedUnaryOperator,
X);}catch(pa){throw pa;}}function da(V,X){try{var ja=[v(V,X.left),v(V,X.right)],pa=ja[0],ta=ja[1];switch(X.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return l.binaryOperator(l.toNumber(pa),l.toNumber(ta),X.operator);case "\x3d\x3d":return l.equalityTest(pa,ta);case "!\x3d":return!l.equalityTest(pa,ta);case "\x3c":return l.greaterThanLessThan(pa,ta,X.operator);case "\x3e":return l.greaterThanLessThan(pa,ta,X.operator);case "\x3c\x3d":return l.greaterThanLessThan(pa,
ta,X.operator);case "\x3e\x3d":return l.greaterThanLessThan(pa,ta,X.operator);case "+":return l.isString(pa)||l.isString(ta)?l.toString(pa)+l.toString(ta):l.toNumber(pa)+l.toNumber(ta);case "-":return l.toNumber(pa)-l.toNumber(ta);case "*":return l.toNumber(pa)*l.toNumber(ta);case "/":return l.toNumber(pa)/l.toNumber(ta);case "%":return l.toNumber(pa)%l.toNumber(ta);default:throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.UnsupportedOperator,X);}}catch(ea){throw ea;}}function ba(V,X){try{var ja=
v(V,X.left);if(l.isBoolean(ja))switch(X.operator){case "||":if(!0===ja)return ja;var pa=v(V,X.right);if(l.isBoolean(pa))return pa;throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.LogicExpressionOrAnd,X);case "\x26\x26":if(!1===ja)return ja;pa=v(V,X.right);if(l.isBoolean(pa))return pa;throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.LogicExpressionOrAnd,X);default:throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.LogicExpressionOrAnd,X);}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.LogicalExpressionOnlyBoolean,
X);}catch(ta){throw ta;}}function na(V,X){try{var ja=X.name.toLowerCase();if(null!=V.localScope&&void 0!==V.localScope[ja]){var pa=V.localScope[ja];if(!0===pa.valueset)return pa.value;pa.value=v(V,pa.node);pa.valueset=!0;return pa.value}if(void 0!==V.globalScope[ja]){pa=V.globalScope[ja];if(!0===pa.valueset)return pa.value;pa.value=v(V,pa.node);pa.valueset=!0;return pa.value}throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.InvalidIdentifier,X);}catch(ta){throwva;}}function W(V,X,ja,pa){try{if(!0===pa)return v(V,X.arguments[ja+1]);if(3===X.arguments.length-ja)return v(V,X.arguments[ja+2]);var ta=v(V,X.arguments[ja+2]);if(!1===l.isBoolean(ta))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.BooleanConditionRequired,X.arguments[ja+2]);return W(V,
X,ja+2,ta)}catch(ea){throw ea;}}function la(V,X,ja,pa){try{var ta=V.body;if(ja.length!==V.params.length)throw new a.ArcadeExecutionError(X,a.ExecutionErrorCodes.WrongNumberOfParameters,pa);if(null!=X.localScope)for(var ea=0;ea<ja.length;ea++)X.localScope[V.params[ea].name.toLowerCase()]={value:ja[ea],valueset:!0,node:null};var va=v(X,ta);if(va instanceof l.ReturnResult)return va.value;if(va===l.breakResult)throw new a.ArcadeExecutionError(X,a.ExecutionErrorCodes.UnexpectedToken,pa);if(va===l.continueResult)throw new a.ArcadeExecutionError(X,
a.ExecutionErrorCodes.UnexpectedToken,pa);return va instanceof l.ImplicitResult?va.value:va}catch(M){throw M;}}function ha(V,X,ja){var pa=new ca;V||(V={});X||(X={});var ta=new g({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});ta.immutable=!1;pa.textformatting={value:ta,valueset:!0,node:null};for(var ea in X)pa[ea]={value:new k.NativeFunction(X[ea]),native:!0,valueset:!0,node:null};for(ea in V)pa[ea]=V[ea]&&"esri.Graphic"===V[ea].declaredClass?{value:d.createFromGraphic(V[ea],
ja),valueset:!0,node:null}:{value:V[ea],valueset:!0,node:null};return pa}function sa(V){console.log(V)}function Ca(V){for(var X={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:E,evaluateIdentifier:na},ja=0;ja<V.length;ja++)V[ja].registerFunctions(X);for(var pa in X.functions)L[pa]={value:new k.NativeFunction(X.functions[pa]),valueset:!0,node:null},ca.prototype[pa]=L[pa];for(ja=0;ja<X.signatures.length;ja++)m.addFunctionDeclaration(X.signatures[ja],"sync")}Object.defineProperty(x,
"__esModule",{value:!0});x.executeScript=x.extend=x.functionHelper=void 0;var oa=function(V){function X(ja,pa){var ta=V.call(this)||this;ta.definition=null;ta.context=null;ta.definition=ja;ta.context=pa;return ta}q(X,V);X.prototype.createFunction=function(ja){var pa=this;return function(){for(var ta=[],ea=0;ea<arguments.length;ea++)ta[ea]=arguments[ea];ea={spatialReference:pa.context.spatialReference,console:pa.context.console,timeReference:pa.context.timeReference?pa.context.timeReference:null,lrucache:pa.context.lrucache,
exports:pa.context.exports,libraryResolver:pa.context.libraryResolver,interceptor:pa.context.interceptor,localScope:{},depthCounter:{depth:ja.depthCounter.depth+1},globalScope:pa.context.globalScope};if(64<ea.depthCounter.depth)throw new a.ArcadeExecutionError(ja,a.ExecutionErrorCodes.MaximumCallDepth,null);return la(pa.definition,ea,ta,null)}};X.prototype.call=function(ja,pa){var ta=this;return E(ja,pa,function(ea,va,M){var S;ea={spatialReference:ja.spatialReference,globalScope:ja.globalScope,depthCounter:{depth:ja.depthCounter.depth+
1},libraryResolver:ja.libraryResolver,exports:ja.exports,timeReference:null!==(S=ja.timeReference)&&void 0!==S?S:null,console:ja.console,lrucache:ja.lrucache,interceptor:ja.interceptor,localScope:{}};if(64<ea.depthCounter.depth)throw new a.ArcadeExecutionError(ja,a.ExecutionErrorCodes.MaximumCallDepth,pa);return la(ta.definition,ea,M,pa)})};X.prototype.marshalledCall=function(ja,pa,ta,ea){var va=this;return ea(ja,pa,function(M,S,ma){var ua;M={spatialReference:ja.spatialReference,globalScope:ta.globalScope,
depthCounter:{depth:ja.depthCounter.depth+1},libraryResolver:ja.libraryResolver,exports:ja.exports,console:ja.console,timeReference:null!==(ua=ja.timeReference)&&void 0!==ua?ua:null,lrucache:ja.lrucache,interceptor:ja.interceptor,localScope:{}};ma=ma.map(function(wa){return!l.isFunctionParameter(wa)||wa instanceof k.ScopeMarshalledFunction?wa:k.wrapModuleScopedResponse(wa,ja,ea)});return k.wrapModuleScopedResponse(la(va.definition,M,ma,pa),ta,ea)})};return X}(k.ArcadeFunction),qa=functithis}q(X,V);X.prototype.global=function(ja){ja=this.executingContext.globalScope[ja.toLowerCase()];ja.valueset||(ja.value=v(this.executingContext,ja.node),ja.valueset=!0);if(l.isFunctionParameter(ja.value)&&!(ja.value instanceof k.ScopeMarshalledFunction)){var pa=new k.ScopeMarshalledFunction;pa.fn=ja.value;pa.parameterEvaluator=E;pa.context=this.executingContext;ja.value=pa}return ja.value};X.prototype.setGlobal=function(ja,pa){if(l.isFunctionParameter(pa))throw new a.ArcadeExecutionError(null,
a.ExecutionErrorCodes.AssignModuleFunction,null);this.executingContext.globalScope[ja.toLowerCase()]={value:pa,valueset:!0,node:null}};X.prototype.hasGlobal=function(ja){void 0===this.executingContext.exports[ja]&&(ja=ja.toLowerCase());return void 0!==this.executingContext.exports[ja]?!0:!1};X.prototype.loadModule=function(ja){var pa,ta=ja.spatialReference;if(null===ta||void 0===ta)ta=new B({wkid:102100});this.moduleScope=ha({},ja.customfunctions,ja.timeReference);this.executingContext={spatialReference:ta,
globalScope:this.moduleScope,localScope:null,libraryResolver:new f.ArcadeModuleLoader(ja.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},console:ja.console?ja.console:sa,timeReference:null!==(pa=ja.timeReference)&&void 0!==pa?pa:null,lrucache:ja.lrucache,interceptor:ja.interceptor,depthCounter:{depth:1}};v(this.executingContext,this.source.syntax)};return X}(n.ArcadeModule),L={};b.registerFunctions(L,E);y.registerFunctions(L,E);z.registerFunctions(L,E);p.registerFunctions(L,
E);C.registerFunctions(L,E);t.registerFunctions(L,E);L.iif=function(V,X){try{l.pcCheck(null===X.arguments?[]:X.arguments,3,3,V,X);var ja=v(V,X.arguments[0]);if(!1===l.isBoolean(ja))throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.BooleanConditionRequired,X);return!0===ja?v(V,X.arguments[1]):v(V,X.arguments[2])}catch(pa){throw pa;}};L.decode=function(V,X){try{if(2>X.arguments.length)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.WrongNumberOfParameters,X);if(2===X.arguments.length)return v(V,
X.arguments[1]);if(0===(X.arguments.length-1)%2)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.WrongNumberOfParameters,X);var ja=v(V,X.arguments[0]);return xa(V,X,1,ja)}catch(pa){throw pa;}};L.when=function(V,X){try{if(3>X.arguments.length)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.WrongNumberOfParameters,X);if(0===X.arguments.length%2)throw new a.ArcadeExecutionError(V,a.ExecutionErrorCodes.WrongNumberOfParameters,X);var ja=v(V,X.arguments[0]);if(!1===l.isBoolean(ja))throw new a.ArcadeExecutionError(V,
a.ExecutionErrorCodes.BooleanConditionRequired,X.arguments[0]);return W(V,X,0,ja)}catch(pa){throw pa;}};for(var Y in L)L[Y]={value:new k.NativeFunction(L[Y]),valueset:!0,node:null};var ca=function(){};ca.prototype=L;ca.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};ca.prototype.pi={value:Math.PI,valueset:!0,node:null};x.functionHelper={fixSpatialReference:l.fixSpatialReference,parseArguments:u,standardFunction:E};x.extend=Ca;Ca([e]);x.executeScript=function(V,X){var ja,
pa=X.spatialReference;if(null===pa||void 0===pa)pa=new B({wkid:102100});var ta=null;V.usesModules&&(ta=new f.ArcadeModuleLoader(new Map,V.loadedModules));var ea=ha(X.vars,X.customfunctions,X.timeReference);pa={spatialReference:pa,globalScope:ea,localScope:null,exports:{},libraryResolver:ta,console:X.console?X.console:sa,timeReference:null!==(ja=X.timeReference)&&void 0!==ja?ja:null,lrucache:X.lrucache,interceptor:X.interceptor,depthCounter:{depth:1}};V=v(pa,V);V instanceof l.ReturnResult&&(V=V.value);
V instanceof l.ImplicitResult&&(V=V.value);V===l.voidOperation&&(V=null);if(V===l.breakResult)throw new a.ArcadeExecutionError(pa,a.ExecutionErrorCodes.IllegalResult,null);if(V===l.continueResult)throw new a.ArcadeExecutionError(pa,a.ExecutionErrorCodes.IllegalResult,null);if(l.isFunctionParameter(V))throw new a.ArcadeExecutionError(pa,a.ExecutionErrorCodes.IllegalResult,null);return V}})},"esri/arcadeProfiles/visualizationPro G})},"esri/arcadeProfiles/u q})},"esri/renderers/SimpleRend G})},"esri/renderers/UniqueValueRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ../support/expressionUtils".split(" "),
function(G,x,c,r,h,w,q,n,f){G=G(n,{declaredClass:"esri.renderer.UniqueValueRenderer",constreld2},
addo(g)},remove,1))},getUniqueValus[a]},setValueExpre,!0)},getFieldsUsedInExpressions:function(g){var a=this.inherited(arguments);this.valueExpression&&
(a=a.concat(f.extractFieldNames(this.valueExpression,g)));a.sort();return x.filter(a,function(d,k){return 0===k||a[k-1]!==d})},getSmbol},_addValud]=g},_nullCode:"\x3cNull\x3e",_normalizeNullde:g},_evalNullKek)})},tg(a)}});r("extend-esri")&&c.setObject("renderer.UniqueValueRenderer",G,h);return G})},"esri/renderers/ClassBreaksRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ../support/expressionUtils".split(" "),
function(G,x,c,r,h,w,q,n,f){G=G(n,{declaredClass:"esri.renderer.ClassBreaksRenderer",constrld=a},addo(g)},removeak}}},clearBs=[]},getBreakrn-1},getBreanull},getSmbol},setMaxInclusive:function(g){this.isMaxInclusive=g},setValueExprenfo)},getFieldsUsedInExpressions:function(g){var a=
this.inherited(arguments);this.valueExpression&&(a=a.concat(f.extractFieldNames(this.valueExpression,g)));a.sort();return x.fil!==d})},isContinuousRenrn g},_normalizationTypeEnums:[["field","esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total","esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"],
["defined-interval","esriClassifyDefinedInterval"],["manual-interval","esriClassifyManual"]],his)},_addBreambol},ta(g)}});r("extend-esri")&&c.setObject("renderer.ClassBreaksRenderer",G,h);return G})},"esri/renderers/TemporalRend G})},"esri/renderers/Symbol G})},"esri/renderers/TimeClassBreaks a})},"esri/renderers/TimeRamp G})},"esri/renderers/StretchRend G})},"esri/layers/RasterFunc w})},"esri/renderers/colorRampU m})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(G,x,c){return G("dojo.store.Memory",null,{constr|[])},data:null,idProperty:"id",
index:null,queryEngine:[r]]},getIderty]},put:function(r,h){var w=this.data,q=this.index,n=this.idProperty;n=r[n]=h&&"id"in h?h.id:n in r?r[n]:Math.random();var f=w.length,g,a=n in q?"update":"add";if("update"===a){if(h&&!1===h.overwrite)throw Error("Object already exists");f=g=q[n]}h&&"before"in h?null==h.before?(h=w.length,"update"===a&&--h):(h=q[this.getIdentity(h.before)],g<h&&--h):h=f;h===g?w[h]=r:(void 0!==g&&
w.splice(g,1),w.splice(h,0,r),this._rebuildIndex(void 0===g?h:Math.min(g,h)));return nr,h)},remove:function(r){var h=this.index,w=this.data;if(r in h)return w.splice(h[r],1),this.index={},this._rebuildIndex(),!0},ta))},setData:function(r){r.items?(this.idProperty=r.identifier||this.idProperty,r=this.data=r.items):this.data=r;this.index={};this._rebuildIndex()},_rebuildIndex:function(r){var h=
this.data,w=h.length;for(r=r||0;r<w;r++)this.index[h[r][this.idProperty]]=r}})})},"dojo/store/util/QueryRes r})},"dojo/store/util/SimpleQueryEnr}})},"esri/tasks/AlgorithmicColor G})},"esri/tasks/Color G})},"esri/tasks/MultipartColor G})},"esri/renderers/colorU}}})},"esri/renderers/jsonU C})},"esri/renderers/VectorFieldRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/_base/array ../kernel ../lang ../Color ./Renderer ./ClassBreaksRenderer ../symbols/SimpleMarkerSymbol ../symbols/PictureMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/jsonUtils require".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l){var m={STYLE_WIND_BARBS:"wind_speed",STYLE_SINGLE_ARROW:"single_arrow",STYLE_CLASSIFIED_ARROW:"classified_arrow",STYLE_BEAUFORT_KN:"beaufort_kn",STYLE_BEAUFORT_METER:"beaufort_m",STYLE_BEAUFORT_MILE:"beaufort_mi",STYLE_BEAUFORT_FEET:"beaufort_ft",STYLE_BEAUFORT_KM:"beaufort_km",STYLE_OCEAN_CURRENT_M:"ocean_current_m",STYLE_OCEAN_CURRENT_KN:"ocean_current_kn",STYLE_SCALAR:"simple_scalar"},e=G(n,{declaredClass:"esri.renderer.VectorFieldRenderer",iconFolderPath:"../images/symbol/sfs/",
constrFROM},getSl(b)},setVisualVarithis},setSizthis},setProportionalSymbothis},setColothis},_updateRenr!")},_updateSiznull},_createClassifiedArrowRen0]])},_createSingleArrowRenol()},_createBeaufortMeterRenderer:function(){this.renderer.defaultSymbol=
this._getDefaultSymbol(new q([214,47,39]));this._addBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortKnotsRen9]])},_createBeaufortFeetRenderer:function(){var b=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];r.forEach(b,function(p,t){b[t]*=3.28084});this.renderer.defaultSymbol=this._getDefaultSymbol(new q([214,47,39]));this._addBreaks(b,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,
21]])},_createBeaufortMilesRenderer:function(){var b=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];r.forEach(b,function(p,t){b[t]*=2.23694});this.renderer.defaultSymbol=this._getDefaultSymbol(new q([214,47,39]));this._addBreaks(b,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortKilometersRen1]])},_createCurrentMeterRen7]])},
_createCurrentKnotsRen7]])},_createSimpleScalarRen:0})},_createWindBarbsRen))})},_getDefaultS0]))},_getRotationInfo:function(b){var p=b&&b.rotationField||"Direction",t=(b&&b.flowRepresentation||e.FLOW_FROM)===e.FLOW_FROM;!b.style||b.style!==m.STYLE_OCEAN_CURRENT_KN&&b.style!==m.STYLE_OCEAN_CURRENT_M||(t=!t);return{field:function(z){z=z.attributes[p];return t?z:z+180},type:"geographic"}},_addB))})},tn(b)}});x.mixin(e,m,{FLOW_FROM:"flow_from",FLOW_TO:"flow_to"});c("extend-esri")&&x.setObject("renderer.VectorFieldRenderer",e,h);return e})},"esri/renderers/DotDensityRend G})},"esri/renderers/ScaleDependentRend G})},"esri/renderers/HeatmapRend G})},"esri/renderers/ShadedReliefRend G})},"esri/renderers/ColormapRend G})},"esri/renderers/arcadeU r})},"esri/u{}})},"esri/graphicsU w})},"esri/layers/graphics":function(){define(["./GraphicsLayer","../graphic","../renderer"],function(){return{}})},"esri/layers/agst{}})},"esri/layers/agscommon":function(){define("./ArcGISMapServiceLayer ./LayerInfo ./TimeInfo ./LayerTimeOptions ./TimeReference ./Field ./Domain ./RangeDomain ./CodedValueDomain ./InheritedDomain ./LayerSource ./LayerMapSource ./LayerDataSource ./DataSource ./TableDataSource ./QueryDataSource ./JoinDataSource ./RasterDataSource ./DynamicLayerInfo ./LayerDrawingOptions ../geometry ../utils".split(" "),
function(){return{}})},"esri/layers/InheritedDo G})},"esri/layers/LayerSo G})},"esri/layers/LayerMapSo G})},"esri/layers/LayerDataSo G})},"esri/layers/TableDataSo G})},"esri/layers/DataSo G})},"esri/layers/QueryDataSo G})},"esri/layers/JoinDataSo a})},"esri/layers/RasterDataSo G})},"esri/layers/DynamicLayer G})},"esri/layers/LayerDrawingOpt G})},"esri/layers/LabelClass":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../symbols/TextSymbol ../symbols/ShieldLabelSymbol".split(" "),function(G,x,c,r,h,w,q,n){var f=RegExp("__begin__","ig"),g=RegExp("__end__","ig"),a=RegExp("^__begin__","i"),d=RegExp("__end__$","i");G=G(null,{declaredClass:"esri.layers.LabelClass",labelPlacement:null,labelExpression:null,
format:null,fieldInfos:null,useCodedValues:null,symbol:null,maxScale:0,minScale:0,where:null,sizeInfo:null,_labelPlacementLookup:{"above-center":"esriServerPointLabelPlacementAboveCenter","above-left":"esriServerPointLabelPlacementAboveLeft","above-right":"esriServerPointLabelPlacementAboveRight","below-center":"esriServerPointLabelPlacementBelowCenter","below-left":"esriServerPointLabelPlacementBelowLeft","below-right":"esriServerPointLabelPlacementBelowRight","center-center":"esriServerPointLabelPlacementCenterCenter",
"center-left":"esriServerPointLabelPlacementCenterLeft","center-right":"esriServerPointLabelPlacementCenterRight","above-after":"esriServerLinePlacementAboveAfter","above-along":"esriServerLinePlacementAboveAlong","above-before":"esriServerLinePlacementAboveBefore","above-start":"esriServerLinePlacementAboveStart","above-end":"esriServerLinePlacementAboveEnd","below-after":"esriServerLinePlacementBelowAfter","below-along":"esriServerLinePlacementBelowAlong","below-before":"esriServerLinePlacementBelowBefore",
"below-start":"esriServerLinePlacementBelowStart","below-end":"esriServerLinePlacementBelowEnd","center-after":"esriServerLinePlacementCenterAfter","center-along":"esriServerLinePlacementCenterAlong","center-before":"esriServerLinePlacementCenterBefore","center-start":"esriServerLinePlacementCenterStart","center-end":"esriServerLinePlacementCenterEnd","always-horizontal":"esriServerPolygonPlacementAlwaysHorizontal"},constre)))},getSymbol:function(){return this.symbol},tn(k)},_processLabelExpressioue))},_convertTemplatedStringToArn l}});c("extend-esri")&&x.setObject("layers.LabelClass",G,h);return G})},
"esri/symbols/ShieldLabelSy G})},"esri/layers/agsdyn{}})},"esri/layers/ArcGISDynamicMapServiceL G})},"esri/layers/DynamicMapServiceL G})},"esri/layers/MapI G})},"esri/layers/ImageParame x})},"esri/_{}})},"esri/layers/FeatureLayer":function(){define("require module dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/date/locale dojo/io-query dojo/dom-construct dojo/i18n dojo/when dojo/global dojo/promise/all ../sniff ../kernel ../lang ../request ../config ../deferredUtils ../promiseList ../SpatialReference ../urlUtils ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/jsonUtils ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/jsonUtils ../support/expressionUtils ../arcadeProfiles/labelingProfile ../tasks/QueryTask ../tasks/query ../tasks/FeatureSet ../tasks/StatisticDefinition ../geometry/Extent ../geometry/jsonUtils ../geometry/normalizeUtils ../geometry/scaleUtils ./GraphicsLayer ./Field ./TimeInfo ./TimeReference ./FeatureType ./FeatureTemplate ./FeatureSubtype ./FeatureEditResult ./LabelClass ./support/domainUtils ./SnapshotMode ./OnDemandMode ./SelectionMode ./StreamMode ./GridLayout ./TrackManager ./HeatmapManager ./clustering/ClusterManager dojo/i18n!../nls/jsapi dojo/has!extend-esri?./agscommon".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t,z,C,y,D,B,u,E,v,A,F,I,N,da,ba,na,xa,W,la,ha,sa,Ca,oa,qa,L,Y,ca,V,X,ja,pa,ta,ea,va,M,S,ma,ua,wa,Q,ka,za){var Ea=z.defaults,Ka=!!e("esri-pbf"),Qa=!!e("esri-featurelayer-pbf"),Pa=c(qa,{declaredClass:"esri.layers.FeatureLayer",invalidParams:"query contains one or more unsupported parameters",reSQLCurrentTimestamp:/current_timestamp|current_date|current_time/i,reHostedFS:/(https?:)?\/\/services.*\.arcgis\.com/i,maxPointCountForAuto:4E3,maxRecordCountForAuto:2E3,
maxVertexCountForAuto:25E4,generalizeForScale:4E3,_eventMap:{"add-attachment-complete":["result"],"before-apply-edits":["adds","updates","deletes"],"delete-attachments-complete":["results"],"edits-complete":["adds","updates","deletes"],"query-attachment-infos-complete":["results"],"query-count-complete":["count"],"query-features-complete":["featureSet"],"query-ids-complete":["objectIds"],"query-related-features-complete":["featureSets"],"selection-complete":["features","method"],"update-end":["error",
"info"]},constrJ,U)},_initFeaturets()},_initis)}},_applySTSublaye(J))},_applySTSublayerDefinitionExpreull)},_applySTTempU)})},_filterSubis))},_applySTFieldOveris)}},setShowLe())},onShowLabelsChange:function(){},onRendererC!0))},setFeatureReduion)},hasFeatureReduction:function(){return!!this._featureReduction},getFeatureRedurn J},isFeatureReductionAe())},isFeatureReductionEnabled:function(){return this._featureReductionEnabled},enableFeatureReduon))},disableFeatureReduon))},isFeatureReductionApn())},getAggregateGraphics:function(){return this._clusterManager?this._clusterManager.getAggregateGraphics():[]},getChildGra):[]},getSingleGra):[]},getFeatureReductionRennull},getFeatureReductionLayer:function(){return this._clusterManager?this._clusterManager.container:null},getFeatureReductionrn U},_isFeatureReductionSuppion)},
_isReductionCompatibleRener")},_evalFeatureRedur())},_canClkid)},_createClusterMarn J},_updateClusterMao(J)},_destroyClusterMae())},raw()},_evalSDRenon()},_graphicVisibilityChaw()},setWebGLFetchOpry))},_isWebGLCompaAND)},_isRendererSupportedIns(J)},_hasWebGLCompatibleSy(J))},_hasWebGLCompatib!1})},_hasSLSWithMer})},_hasIncompatibleSMSSU)})},_hasGIFM!1})},_getAllSymbolsInRenrn U},_srn U},_unsnts)},onAttach:function(){this._evalModeFromSurface()},onRefreses()},reh())},setFeatureUpdatesCheckEnabled:function(J){this._featureUpdatesCheckEnabled=J},isFeatureUpdatesCheckEnabled:function(){return!!this._featureUpdatesCheckEnabled},isFeatureUpdatesCheckAhis)},hasFeatureUpmise},hasXYFoottion},getOutFhis)},getField:function(J){return this._getField(J,!0)},isOutame)},getFieldrn K},getDn ia},_getLayerDn ia},geld])},getTypeById:function(J){var U;w.some(this.types,function(ia){ia.id==J&&(U=ia);return!!U});return U},
getSubtypeBrn U},setEdithis},getEditCapabilrn U},getUrn J},setUserIsAdmin:function(J){this.userIsAdmin=J},setEditSummaryCallback:function(J){this.editSummaryCallback=J},getEditSurn K},getEdi Ba}},_getEdin fa},isEdimin)},isQuerog")},setResolution:function(J){return this.setMaxAllowableOffset(J)},setMaxAllowableOthis},_resetMaxAllowableOet()},_refreshMaxAllowableOh=!1},getResolution:function(){return this.getMaxAllowableOffset()},getMaxAllowableOet:J},_setMaxOthis},_isFractionalOffsetAl[0])},_isLangWit,J)},_langsWithDot:"ar en et fr he ja ko th vi zh".split(" "),setAutoGenerthis},_canAutoGenerSHOT},setGDBVethis},hasAllFeatures:function(){return this._mode?this._mode.hasAllFeatures():!0},hasUpdate):!1},setDefinitionExprethis},_applyDefr(1)},_evalModeAndApplyDef)}))},getDefinitionExpression:function(){return this._defnExpr},hasDefinitionExpressionWithCurrentTimen())},setTimeDefinthis},getTimeDefinition:function(){return this._timeDefn},setTimeOthis},setUseMar(0)},selectFean ra},getSelectedFearn U},clearSelethis},setSelectionSthis},getSelectionSymbol:function(){return this._selectionSymbol},setLabelinge()},_fixLabeK)})},_updateRequiredFieldsFromLabelingInfo:function(){var J=[];w.forEach(this.labelingInfo,function(U){var ia=U.labelExpressionInfo;if(U.labelExpression){var K=/[\[\]]/ig;U=U.labelExpression.match(/\[[^\[\]]+\]/ig);(U=w.map(U,function(fa){return fa.replace(K,"")}))&&(J=J.concat(U))}if(ia){if(ia.value){var T=
/[\{\}]/ig;U=ia.value.match(/\{[^\{\}]+\}/ig);(U=w.map(U,function(fa){return fa.replace(T,"")}))&&(J=J.concat(U))}ia.expression&&(U=w.map(this.fields,function(fa){return fa.name},this),J=J.concat(da.extractFieldNames(ia.expression,U)))}},this);J=w.map(J,function(U){var ia=this.getField(U);return ia?ia.name:U},this);this._requiredFields&&(this._requiredFields=this._requiredFields.concat(J))},__msigns:[{n:"applyEdits",c:5,a:[{i:0},{i:1}],e:4,f:1}],applyBa)}},queryFeatures:function(J,U,ia,K){return this._query("execute","onQueryFeaturesComplete",J,U,ia,K)},queryRelatedFea,ia)},queryIds:function(J,U,ia,K){return this._query("executeForIds","onQueryIdsComplete",
J,U,ia,K)},queryCount:function(J,U,ia,K){return this._query("executeForCount","onQueryCountComplete",J,U,ia,K)},queryEa,K)},queryAttachmentrn T},addAttaca,K)},updateAttacK,T)},deleteAttachn fa},ady=!0},delet0]}}},tn J}},getLayerDefinrn J},getFeatureCollectionmise},onSelectionComplete:function(){},onSelectionClear:function(){},onBeforeApplyEdits:function(){},onEditsComplete:function(){},onQueryFeaturesComplete:function(){},onQueryRelatedFeaturesComplete:function(){},onQueryIdsComplete:function(){},onQueryCountComplete:function(){},onQueryExtentComplete:function(){},onQueryAttachmentInfosComplete:function(){},onAddAttachmentComplete:function(){},onUpdateAttachmentComplete:function(){},onDeleteAttachmentsComplete:function(){},onCapabilitiesChange:function(){},
onGDBVersionChange:function(){},onQueryLimitExceeded:function(){},onLabelingInfoChange:function(){},onFeatureReductionRendererChange:function(){},onFeatureReductionChange:function(){},onFeatureUpdatesResult:function(){},_cloneJson:function(){var J=this._json;return h.isString(J)?q.fromJson(J):h.clone(J)},_updateLayerDefin}))}},_evalFeatureUp)}))},
_evalResh()},_evalArcadeSumise},_initializeArcadeEy(J)},_isGeometryOperation0:!1},_forceIdemise},_isSnapshotMode:function(){return this._mode?this._mode.isInstanceOf(va):!1},_isOnDeman):!1},_isAutoSnapshoSHOT},_getMaxFeaturesForAutoSnapshorn U},getLastExceedsLimitResult:function(){return this._lastExceedsLimitResult},_canUseSnapsho()))},_evalModeFromFde()},_enableAutoSnapshoO,J)},_enableAutoOnDemane())},_evalModeFromFRedue())},_enableFReductioT))}},_disableFReductioe())},_updatePreFReductionState:function(J){this._preFReductionState=this._preFReductionState||{};this._preFReductionState.mode=Pa.MODE_AUTO;this._preFReductionState.currentMode=J},_evalModeFromSude()},_enableWebGLSurfacde))},_disableWebGLSurfacde))},_updatePreSurfaceChangede=J},_setFetcp())},_isPaginationAlion)},_getModeConstrrn U},_hasOnDemandDrile"))},_checkFeaturemise},_hasPendingLimitimer},_queryise}},_isAutoModeEnurl)},_updat",")},
_counter:{value:0},_getUniue++},onSuspend:function(){this.inherited(arguments);this._suspendImpl()},_suspeny())},onRme()},_zoomEndHash()},_updateMaxO()))},_getMaxOffsetFort()}},
_calcMaxOffsetForAutoSnaid 0},_togglull)},_timeChangeHar(0)},_getOffseta):J},_getTimeOvJ||U},_getTimeF0,J]},_getAttributeFnull},_applyQueryFirn!0}nts)},_rnts)},_canDoClientSideull}},_getAbsMid:function(J){return G.toAbsMid?G.toAbsMid(J):x.id.replace(/\/[^\/]*$/ig,"/")+J},_don ra},_getFrom)}))},_filterByEn ia},_filterB:Ma}},_getSizeVarin)})},_needClientSideSoon})},_sortFearn J},_reJ,T)},_getShallowrn U},
_canFetPBF)},_canFetchPBFForics)},_enableEditModeQuantizt"})},_enableCachnt")},_isCacheHintSupp):!1},_isCacheHintEn):!1},_n Ma},_getExtentOf)||J},_convertFeaturesTn(T)},_selectHaed()},_selectFeatuT||U},_unSelectFeatun ia},_setSelectSl(U)},_setUnSelectS,!0)},_getOutFrn J},_checkF]"))},_fixFielrn K},_fixRendererFields:function(){var J=this.renderer;this._orderBy=null;this._requiredFields=[];if(J&&0<this.fields.length){var U=[],ia;J=w.filter([J,J.observationRenderer,J.latestObservationRenderer,J.trackRenderer],p.isDefined);var K=[].concat(J);w.forEr)})});w.forEach(K,function(T){this._fixFieldCase(T,"attributeField",U);this._fixFieldCase(T,"attributeField2",
U);this._fixFieldCase(T,"attributeField3",U);this._fixFieldCase(T.rotationInfo,"field",U);(ia=this._fixFieldCase(T.sizeInfo,"field",U))&&!this._orderBy&&(this._orderBy=[ia+" DESC"]);this._fixFieldCase(T.sizeInfo,"normalizationField",U);this._fixFieldCase(T.colorInfo,"field",U);this._fixFieldCase(T.colorInfo,"normalizationField",U);this._fixFieldCase(T.field,"field",U);this._fixFieldCase(T.opacityInfo,"field",U);this._fixFieldCase(T.opacityInfo,"normalizationField",U);w.forEach(T.visualVari",U)},this);var fa=w.map(this.fields,function(ra){return ra.name},this);fa=w.map(T.getFieldsUsedInExpressione:ra},this);U=U.concat(fa);this._orderBy||!T.addBreak||h.isFunction(T.attributeField)||!T.backgroundFillSymbol&&!this._hasSizeDiff(T)||(this._orderBy=[T.attributeField+" DESC"])},this);this._requiredFields=
w.filter(U,p.isDefined)}},_hasSiza-U)},getOrderByFnull},_createFds=K},_createFields=!1}},_canUseFieldsset)},_getrn T},_getDatOpts},_applyNorma])})},_editHa,fa)},_sendAttac0)})},_re,ia)},_ge:0:0}});h.mixin(Pa,{MODE_SNAPSHOT:0,MODE_ONDEMAND:1,MODE_SELECTION:2,
SELECTION_NEW:3,SELECTION_ADD:4,SELECTION_SUBTRACT:5,MODE_AUTO:6,MODE_STREAM:7,POPUP_NONE:"esriServerHTMLPopupTypeNone",POPUP_HTML_TEXT:"esriServerHTMLPopupTypeAsHTMLText",POPUP_URL:"esriServerHTMLPopupTypeAsURL"});Ca._createWrappers(Pa);Object.defineProperty(Pa.prototype,"graphics"sVal},set:function(J){this._graphicsVal=J}});Object.defineProperty(Pa.prototype,"name"nameull)}});Object.defineProperty(Pa.prototype,"fields",{get:function(){return this._fieldsy=!0}});
e("extend-esri")&&h.setObject("layers.FeatureLayer",Pa,b);return Pa})},"esri/arcadeProfiles/labelingPro G})},
"esri/tasks/Query p})},"dojo/Deferredst})},"esri/tasks/ G})},"esri/tasks/Featur G})},"esri/tasks/StatisticDefini G})},"esri/layers/Feature G})},"esri/layers/FeatureTemp G})},"esri/layers/support/domainU q})},"esri/layers/FeatureSub G})},"esri/layers/FeatureEditRe G})},"esri/layers/Snapshot G})},"esri/layers/Render G})},"esri/layers/support/ParallelSnap G})},"esri/layers/OnDemand G})},"esri/layers/GridLa d})},"esri/layers/Selection G})},"esri/layers/Stream G})},"esri/layers/TrackMan G})},"esri/layers/HeatmapMan G})},"esri/layers/clustering/ClusterManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../../kernel ../../Evented ../../graphic ../../lang ../../Color ../../graphicsUtils ../../dijit/PopupTemplate ../../dijit/Legend/utils ../../renderers/ClassBreaksRenderer ../../symbols/SimpleMarkerSymbol ../support/attributeUtils ../GraphicsLayer ../Field ./GeohashAggregation ./statUtils dojo/i18n!../../nls/jsapi".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t,z){var C=z.layers.clusters,y=z.widgets.popup,D=C.numFeatures,B=Math.pow(2,53)-1;G=G(w,{declaredClass:"esri.layers.clustering.ClusterManager",layer:null,aggregationInfo:null,container:null,defaults:{clusterRadius:80,markerSymbol:{color:[77,77,77,255],size:6,angle:0,xoffset:0,yoffset:0,type:"esriSMS",style:"esriSMSCircle",outline:{color:[255,255,255,255],width:.75,type:"esriSLS",style:"esriSLSSolid"}}},_initialized:!1,_map:null,_eventHandles:null,_clusterRadius:null,
_renderer:null,_statisticInfos:null,_fields:null,_infoTemplate:null,_clusterGenerator:null,_singleGraphics:null,constrnfo)},initirs()},
denull},setAggregatiofo()},getClusterRenderer:function(){return this._renderer},getClusterF|
[]},getFeaturesInCl):[]},getAggregateGra):[]},getSingleGra):[]},raw()},isClusteringEnled)},isClusteringAs())},toggleFeatureVisiby(u)},_createConter=E},_destroyContnull},_createClusterGeneos})},_initClusterGene})))},
_destroyClusterGenenull},_awaitClusterGene})))},_applyAggregatioaw()},_applyClusterRus()},_computeClusterRadius:function(){var u=this.aggregationInfo||{};u.clusterRadius=this._clusterRadius;this.aggregationInfo=u},_applyRene"))},_applyFlds)},_applyInfoTemte()},_computeInfoTemfo=u},_getClusterRendereer()},_getDefaultClusterRen:[]}},_createContinuousCountRenrn E},_createClusterRens:E}},_isSupportedRen0:!1},_isSimpleRenderer:function(u){return-1<u.declaredClass.toLowerCase().indexOf("simplerenderer")},_isCBRenderer:function(u){return-1<u.declaredClass.toLowerCase().indexOf("classbreaksrenderer")},_isUVRener")},_isCBSizeRen!==A},_getRendererAttributeld}},_setRendererer))},_getSupportedVari(u)}},_variableFion)},_createClusterVarihis)},_createVarFrn v},_getVariableAttributeld}},_setVariableer))},_getStae:E}},_addStah(E)},_findStarn v},_compareStatnull},_addSizeByCountVaru,E)},_getSizeByCountVar)[0]},_updateSizeByCountVar,v)}},_createSizeByCountVarrn v},_addVars(v)},_replaceVars(A)},_getFrn E},_createInfoTemplate:function(){var u=this._statisticInfos,E=this._renderer,v=[{fieldName:"cluster_count",label:D,visible:!0,format:{digitSeparator:!0,places:0}}],A=[],F=[n.substitute({count:"{cluster_count}"},C.countSummary)],I=this._isUVRenderer(E)?E.infos:[];c.forEa(la)},
this);return this._createPopupTemplate({fieldInfos:v,expressionInfos:A,description:F.join("\x3cbr/\x3e\x3cbr/\x3e")})},_updateInfoTemplate:function(u){var E=u.toJson(),v=this._isUVRenderer(this._renderer)?this._renderer.infos:[];c.forEach(this._statistic,A))},this);return this._createPopupTemplate(E)},_createPopupTemplate:function(u){var E=
new a(u),v=E.title;E.setTitle(x.hitch(this,function(A){var F=this._map&&this._map.infoWindow;if("esri.dijit.PopupMobile"!==(F&&F.declaredClass)||E.info.title)return v.call(E,A);A=(A=A.attributes)&&A.cluster_count;return null==A?"":n.substitute({count:A},C.countTitle)}));return E},_findExpressiorn v},_escapeDoubleQ):""},_getExpre\n")},_getObhis)},_getFieldrn F},_getFieldSurn I},_removeFrom)))}},_resetClustnull},_resetClusterNavPartial:function(){this._map.infoWindow.removeActions&&this._map.infoWindow.removeActions(this._popupActions);this._hideSingleGraphic(this._popupSingleGraphic);this._popupSingleGraphic=null},_addClusterBoury=u},_removeClusterBounull},_createBrowseFeaturesA)[0]},_getPopupLocrn v},_createViewSummaryA)[0]},_initClusterUp})))},_updateClusterGras(u)},_addGrav)})},_getSingleGrrn E},_showSingleGracs=u},_hideSingleGranull},_clearSingleGranull},_showSingleGraphic:function(u){u&&
u._resume()},_hideSingleGrnd()},_updateSizeVare"))},_applyClusterAttrites)},_createLayerEventList})))},_createMapEventList})))},_createPopupEventListeners:function(){var u=
this._map.infoWindow;this._eventHandles.push(u.on("selection-change",x.hitch(this,function(){this._resetClusterNavPartial();var E=this._map.infoWindow.getSelectedFeature(),v=E&&E.getLayer();if(v){var A;v===this.container?(this._removeClusterBoundary(),this._map.infoWindow.addActions&&(A=this._createBrowseFeaturesAction())):v===this.layer&&E._isSuspended()?(this._map.infoWindow.addActions&&(A=this._createViewSummaryAction()),this._popupSingleGraphic=E,this._showSingleGraphic(this._popupSingleGraphic)):
this._removeClusterBoundary();this._popupActions=A?[A]:null}})),u.on("clear-features",x.hitchry()})),u.on("hide",x.hitch(this,function(){this._popupSingleGraphic&&this._popupSingleGraphic._suspend();this._clusterBoundary&&this._clusterBoundary.hide()})),u.on("show",x.hitchow()})))},_destroyEventList()})}});r("extend-esri")&&x.setObject("layers.clustering.ClusterManager",G,h);return G})},"esri/dijit/PopupTemp G})},"esri/Popup G})},"dojox/html/enti x})},"esri/ArcadeExpres G})},"esri/tasks/RelationshipQ G})},"esri/arcadeProfiles/popupPro G})},"esri/dijit/PopupRenderer":function(){define("require dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/kernel dojo/sniff dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style ../libs/sanitizer/Sanitizer dojox/html/entities dijit/_Widget dijit/_Templated ../kernel ../lang ../urlUtils ./_EventedWidget dojo/i18n!../nls/jsapi dojo/NodeList-dom".split(" "),function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t,z,C,y){var D=0,B=y.widgets.popup,
u=y.widgets.templatePicker;x=x([C,e,b],{declaredClass:"esri.dijit._PopupRenderer",_sanitizer:new l({whiteList:{span:["class"],dd:[],dl:[],dt:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],sub:[],sup:[],animate:[],animatetransform:[],circle:[],clippath:[],defs:[],ellipse:[],g:[],image:[],line:[],lineargradient:[],marker:[],mask:[],path:[],pattern:[],polygon:[],polyline:[],radialgradient:[],rect:[],stop:[],svg:[],"switch":[],symbol:[],text:[],textpath:[],tspan:[],use:[]}},!0),constr},B)},templateString:"\x3cdiv class\x3d'esriViewPopup'\x3e\x3cdiv class\x3d'statusSection hidden' dojoAttachPoint\x3d'_status'\x3e\x3c/div\x3e\x3cdiv class\x3d'mainSection'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_title'\x3e\x3c/div\x3e\x3cdiv class\x3d'hzLine'\x3e\x3c/div\x3e\x3cdiv dojoAttachPoint\x3d'_description'\x3e\x3c/div\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'attachmentsSection hidden'\x3e\x3cdiv\x3e${_nls.NLS_attach}:\x3c/div\x3e\x3cul dojoAttachPoint\x3d'_attachmentsList'\x3e\x3c/ul\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'mediaSection hidden'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_mediaTitle'\x3e\x3c/div\x3e\x3cdiv class\x3d'hzLine'\x3e\x3c/div\x3e\x3cdiv class\x3d'caption' dojoAttachPoint\x3d'_mediaCaption'\x3e\x3c/div\x3e\x3cdiv class\x3d'gallery' dojoAttachPoint\x3d'_gallery'\x3e\x3cdiv class\x3d'mediaHandle prev' dojoAttachPoint\x3d'_prevMedia' dojoAttachEvent\x3d'onclick: _goToPrevMedia'\x3e\x3c/div\x3e\x3cdiv class\x3d'mediaHandle next' dojoAttachPoint\x3d'_nextMedia' dojoAttachEvent\x3d'onclick: _goToNextMedia'\x3e\x3c/div\x3e\x3cul class\x3d'summary'\x3e\x3cli class\x3d'image mediaCount hidden' dojoAttachPoint\x3d'_imageCount'\x3e0\x3c/li\x3e\x3cli class\x3d'image mediaIcon hidden'\x3e\x3c/li\x3e\x3cli class\x3d'chart mediaCount hidden' dojoAttachPoint\x3d'_chartCount'\x3e0\x3c/li\x3e\x3cli class\x3d'chart mediaIcon hidden'\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'frame' dojoAttachPoint\x3d'_mediaFrame'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'editSummarySection hidden' dojoAttachPoint\x3d'_editSummarySection'\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3cdiv class\x3d'break hidden' dojoAttachPoint\x3d'_mediaBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'editSummary' dojoAttachPoint\x3d'_editSummary'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",
showTitle:!0,stor))},dents)},
_goToPreva())},_goToNexta())},_updme()},_displayMedia:function(){var E=this._mediaInfos[this._mediaPtr],v=E.title,A=E.caption,F=w.query(".mediaSection .hzLine",this.domNode)[0];g.set(this._mediaTitle,"innerHTML",
this._sanitizer.sanitize(v));a[v?"remove":"add"](this._mediaTitle,"hidden");g.set(this._mediaCaption,"innerHTML",this._sanitizer.sanitize(A));a[A?"remove":"add"](this._mediaCaption,"hidden");a[v&&A?"remove":"add"](F,"hidden");this._rid=null;if("image"===E.type)this._showImage(E);else{var I=this;v=["dojox/charting/Chart2D","dojox/charting/action2d/Tooltip"];A=E.value.theme||this.chartTheme;r.isString(A)&&(A=A.replace(/\./gi,"/"),-1===A.indexOf("/")&&(A="dojox/charting/themes/"+A));A||(A="./Rainbow");
v.push(A);try{var N=this._rid=D+na))})}catch(da){console.log("PopupRenderer: error loading modules")}}},_preventN:"))},_showE)})},_addURLParad"+A},_initImageRe,v)}},_clearImageHanull},_shower()},_destroy,"")},_imageLpx")},_attListHae")}},_createLinkIfURI:function(E,v){var A=z.getURIInfo(E);
if(A){var F=E.match(A.pattern);E=F&&F[2];F=m.decode(F[1]);d.create("a",{target:"_blank",href:F,title:F,innerHTML:this._sanitizer.sanitize(t.substitute({appName:A.appName,hierPart:E},A.label))},v)}else g.set(v,"innerHTML",this._sanitizer.sanitize(E))},_showSen")},_hideSen")},_handleComponentsSuccess:function(E){if(E){this._hideStatus();var v=this.showTitle?E.title:"",A=E.description,F=E.fields,I=E.mediaInfos,N=this.domNode,da=this._nls,ba=this,na=this.template,xa=this.graphic;this._prevMedia.title=da.NLS_prevMedia;this._nextMedia.title=da.NLS_nextMedia;g.set(this._title,"innerHTML",this._sanitizer.sanitize(v));v||a.add(this._title,"hidden");if(!E.hasDescription&&F&&(A="",F=h.map(F,function(la){var ha=d.create("tr",{vAlign:"top"});
d.create("td",{className:"attrName",innerHTML:this._sanitizer.sanitize(la[0])},ha);var sa=d.create("td",{className:"attrValue"},ha);this._createLinkIfURI(la[1],sa);return ha},this),F.length)){var W=d.create("table",{className:"attrTable",cellPadding:"0px",cellSpacing:"0px"});h.forE(la)})}W?(this._description.appendChild(W),A=!0):g.set(this._description,"innerHTML",this._sanitizer.sanitize(A));A||a.add(this._description,"hidden");w.query("a",this._description).fonk")});v&&A?w.query(".mainSection .hzLine",N).removeClass("hidden"):v||A?w.query(".mainSection .hzLine",N).addClass("hidden"):w.query(".mainSection",N).addClass("hidden");if(v=this._attachmentsDfd=na.getAttachments(xa))v.addBoth(r.hitch(this,this._attListHandler,v)),g.set(this._attachmentsList,"innerHTML","\x3cli\x3e"+da.NLS_searching+"...\x3c/li\x3e"),w.query(".attachmentsSection",N).removeClass("hidden");I&&I.length&&(w.query(".mediaSection",
N).removeClass("hidden"),f.setSelectable(this._mediaFrame,!1),this._mediaInfos=I,this._mediaPtr=0,this._updateUI(),this._displayMedia());E.editSummary&&(g.set(this._editSummary,"innerHTML",this._sanitizer.sanitize(E.editSummary)),I&&I.length&&a.remove(this._mediaBreak,"hidden"),a.remove(this._editSummarySection,"hidden"));this.emit("content-update")}else this._showStatus(B.NLS_noInfo)},_handleComponentsfo))}});q("extend-esri")&&r.setObject("dijit._PopupRenderer",x,p);return x})},"esri/libs/sanitizer/Sanitizer":functi=x()}(this,funct:!1}}function x(ea){var va=ea||{},M={},S;for(S in va)M[S]=va[S];(ea=M).whiteList=ea.whiteList||F.whiteList;ea.onAttr=ea.onAttr||F.onAttr;
ea.onIgnoreAttr=ea.onIgnoreAttr||F.onIgnoreAttr;ea.safeAttrValue=ea.safeAttrValue||F.safeAttrValue;this.optiot;")}function r(ea){return ea.replace(la,"\x26qu)})}function q(ea){return ea.replace(Ca,":").replace(oafunction l(ea){var va=ea||{},M={},S;
for(S in va)M[S]=va[S];(ea=M).stripIgnoreTag&&(ea.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),ea.onIgnoreTag=ja.onIgnoreTagStripAll);ea.whiteList=ea.whiteList||ja.whiteList;ea.onTag=ea.onTag||ja.onTag;ea.onTagAttr=ea.onTagAttr||ja.onTagAttr;ea.onIgnoreTag=ea.onIgnoreTag||ja.onIgnoreTag;ea.onIgnoreTagAttr=ea.onIgnoreTagAttr||ja.onIgnoreTagAttr;ea.safeAttrValue=ea.safeAttrValue||ja.safeAttrValue;ea.escapeHtml=ea.escapeHtml||ja.escapeHtml;
this.options=ea;!1===ea.css?this.cssFilter=!1:(ea.css=ea.css||{},this.cssFilter=new X(ea.css))}var m,e,b=Object.prototype,p=Function.prototype.toString,t=b.hasOwnProperty,z=p.call(Object),C=b.toString,y=(m=Object.getPrototypeOf,e=Oea))}),D=function(ea){var va;if(!(va=!ea||"object"!=typeof ea||"[object Object]"!=C.call(ea))&&(va=!1,null!=ea&&"function"!=typeof ea.toString))try{va=!!(ea+"")}catch(M){}if(va)return!1;ea=y(ea);if(null===ea)return!0;ea=t.call(ea,"constructor")&&
ea.constructor;return"function"==typeof ea&&ea instanceof ea&&p.call(ea)==z},B={exports:{}},u={};b={exports:{}};var E={},v=/javascript\s*:/gim;E.whiteList=G();E.getDefaultWhiteList=G;E.onAttr=function(ea,va,M){};E.onIgnoreAttr=function(ea,va,M){};E.safeAttr":va};var A={indexOf:function(ea,va){var M;if(Array.prototype.indexOf)return ea.indexOf(va);var S=0;for(M=ea.length;S<M;S++)if(ea[S]===va)return S;return-1},forEach:function(ea,va,M){var S;if(Array.prototype.forEach)return ea.forEach(va,
M);var ma=0;for(S=ea.length;ma<S;ma++)va.call(M,ea[ma],ma,ea)},trim:function(ea){return String.prototype.trim?ea.trim():ea.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(ea){return String.prototype.trimRight?ea.trimRight():ea.replace(/(\s*$)/g,"")}},F=E,I=function(ea,va){function M(){if(!ma){var za=A.trim(ea.slice(ua,wa)),Ea=za.indexOf(":");if(-1!==Ea){var Ka=A.trim(za.slice(0,Ea));Ea=A.trim(za.slice(Ea+1));Ka&&(za=va(ua,Q.length,Ka,Ea,za))&&(Q+=za+"; ")}}ua=wa+1}";"!==(ea=A.trimRight(ea))[ea.length-
1]&&(ea+=";");for(var S=ea.length,ma=!1,ua=0,wa=0,Q="";wa<S;wa++){var ka=ea[wa];if("/"===ka&&"*"===ea[wa+1]){ka=ea.indexOf("*/",wa+2);if(-1===ka)break;ua=(wa=ka+1)+1;ma=!1}else"("===ka?ma=!0:")"===ka?ma=!1:";"===ka?ma||M():"\n"===ka&&M()}return A.trim(Q)};x.prototype.process=function(ea){if(!(ea=(ea=ea||"").toString()))return"";var va=this.options,M=va.whiteList,S=va.onAttr,ma=va.onIgnoreAttr,ua=va.safeAttrValue;return I(ea,function(wa,Q,ka,za,Ea){var Ka=M[ka],Qa=!1;if(!0===Ka?Qa=Ka:"function"==typeof Ka?
Qa=Ka(za):Ka instanceof RegExp&&(Qa=Ka.test(za)),!0!==Qa&&(Qa=!1),za=ua(ka,za)){var Pa;wa={position:Q,sourcePosition:wa,source:Ea,isWhite:Qa};return Qa?null==(Pa=S(ka,za,wa))?ka+":"+za:Pa:null==(Pa=ma(ka,za,wa))?void 0:Pa}})};!function(ea,va){for(var M in(va=ea.exs(S)}).FilterCSS=x,E)va[M]=E[M]}(b,b.exports);var N={indexOf:function(ea,va){var M;if(Array.prototype.indexOf)return ea.indexOf(va);var S=0;for(M=ea.length;S<M;S++)if(ea[S]===va)return S;return-1},
forEach:function(ea,va,M){var S;if(Array.prototype.forEach)return ea.forEach(va,M);var ma=0;for(S=ea.length;ma<S;ma++)va.call(M,ea[ma],ma,ea)},trim:function(ea){return String.prototype.trim?ea.trim():ea.replace(/(^\s*)|(\s*$)/g,"")},spacex:-1}},da=b.exports.getDefaultWhiteList,ba=N,na=new b.exports.FilterCSS,xa=/</g,W=/>/g,la=/"/g,ha=/&quot;/g,sa=/&#([a-zA-Z0-9]*);?/gim,Ca=/&colon;?/gim,oa=/&newline;?/gim,qa=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,
L=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Y=/u\s*r\s*l\s*\(.*/gi;u.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],
dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],
thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")};u.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],
col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],
td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}};u.onTag=function(ea,va,M){};u.onIgnoreTag=function(ea,va,M){};u.onTagAttr=function(ea,va,M){};u.onIgnoreTagAttr=function(ea,va,M){};u.safeAttrValue=function(ea,va,M,S){if(M=f(M),"href"===va||"src"===
va){if("#"===(M=ba.trim(M)))return"#";if("http://"!==M.substr(0,7)&&"https://"!==M.substr(0,8)&&"mailto:"!==M.substr(0,7)&&"tel:"!==M.substr(0,4)&&"data:image/"!==M.substr(0,11)&&"ftp://"!==M.substr(0,6)&&"./"!==M.substr(0,2)&&"../"!==M.substr(0,3)&&"#"!==M[0]&&"/"!==M[0])return""}else if("background"===va){if(qa.lastIndex=0,qa.test(M))return""}else if("style"===va){if((L.lastIndex=0,L.test(M))||(Y.lastIndex=0,Y.test(M)&&(qa.lastIndex=0,qa.test(M))))return"";!1!==S&&(M=(S=S||na).process(M))}return M=
g(M)};u.escapeHtml=c;u.escapeQuote=r;u.unescapeQuote=h;u.escapeHtmlEntities=w;u.escapeDangerHtml5Entities=q;u.clearNonPrintableCharacter=n;u.friendlyAttrValue=f;u.escapeAttrValue=g;u.onIgnoreTagStripAll=function(){return""};u.StripTagBody=function(ea,va){"function"!=typeof va&&(va=function(){});var M=!Array.isArray(ea),S=[],ma=!1;return{onIgnoreTag:function(ua,wa,Q){return M||-1!==ba.indexOf(ea,ua)?Q.isClosing?(S.push([!1!==ma?ma:Q.position,Q.position+10]),ma=!1,"[/removed]"):(ma||(ma=Q.position),
"[removed]"):va(ua,wa,Q)},remove:function(ua){var wa="",Q=0;return ba.forEa[1]}),wa+=ua.slice(Q)}}};u.stripCommentTag=function(ea){for(var va="",M=0;M<ea.length;){var S=ea.indexOf("\x3c!--",M);if(-1===S){va+=ea.slice(M);break}va+=ea.slice(M,S);M=ea.indexOf("--\x3e",S);if(-1===M)break;M+=3}return va};u.stripBlankChar=function(ea){ea=ea.split("");return(ea=ea.filter(function(va){va=va.charCodeAt(0);return 127!==va&&(!(31>=va)||10===va||13===va)})).join("")};
u.cssFilter=na;u.getDefaultCSSWhiteList=da;var ca={},V=/[^a-zA-Z0-9_:\.\-]/gim;ca.parseTag=function(ea,va,M){var S="",ma=0,ua=!1,wa=!1,Q=0,ka=ea.length,za="",Ea="";Q=0;a:for(;Q<ka;Q++)if(Ea=ea.charAt(Q),!1===ua)"\x3c"===Ea&&(ua=Q);else if(!1===wa)if("\x3c"===Ea)S+=M(ea.slice(ma,Q)),ma=ua=Q;else if("\x3e"===Ea)S+=M(ea.slice(ma,ua)),ma=Ea=ea.slice(ua,Q+1),za=N.spaceIndex(ma),ma=-1===za?ma.slice(1,-1):ma.slice(1,za+1),za=("/"===(ma=N.trim(ma).toLowerCase()).slice(0,1)&&(ma=ma.slice(1)),"/"===ma.slice(-1)&&
(ma=ma.slice(0,-1)),ma),S+=va(ua,S.length,za,Ea,"\x3c/"===Ea.slice(0,2)),ma=Q+1,ua=!1;else{if('"'===Ea||"'"===Ea){za=1;for(var Ka=ea.charAt(Q-za);""===Ka.trim()||"\x3d"===Ka;){if("\x3d"===Ka){wa=Ea;continue a}Ka=ea.charAt(Q-++za)}}}else Ea===wa&&(wa=!1);return ma<ea.length&&(S+=M(ea.substr(ma))),S};ca.parseAttr=function(ea,va){function M(za,Ea){1>(za=(za=N.trim(za)).replace(V,"").toLowerCase()).length||(za=va(za,Ea||""))&&ma.push(za)}for(var S=0,ma=[],ua=!1,wa=ea.length,Q=0;Q<wa;Q++){var ka=ea.charAt(Q);
if(!1!==ua||"\x3d"!==ka)if(!1===ua||Q!==S||'"'!==ka&&"'"!==ka||"\x3d"!==ea.charAt(Q-1))/\s|\n|\t/.test(ka)&&((ea=ea.replace(/\s|\n|\t/g," "),!1===ua)?-1===(ka=a(ea,Q))?(M(N.trim(ea.slice(S,Q))),ua=!1,S=Q+1):Q=ka-1:-1===(ka=d(ea,Q-1))&&(M(ua,k(N.trim(ea.slice(S,Q)))),ua=!1,S=Q+1));else{if(-1===(ka=ea.indexOf(ka,Q+1)))break;M(ua,N.trim(ea.slice(S+1,ka)));ua=!1;S=(Q=ka)+1}else ua=ea.slice(S,Q),S=Q+1}return S<ea.length&&(!1===ua?M(ea.slice(S)):M(ua,k(N.trim(ea.slice(S))))),N.trim(ma.join(" "))};var X=
b.exports.FilterCSS,ja=u,pa=ca.parseTag,ta=ca.parseAttr;l.prototype.process=function(ea){if(!(ea=(ea=ea||"").toString()))return"";var va=this.options,M=va.whiteList,S=va.onTag,ma=va.onIgnoreTag,ua=va.onTagAttr,wa=va.onIgnoreTagAttr,Q=va.safeAttrValue,ka=va.escapeHtml,za=this.cssFilter;va.stripBlankChar&&(ea=ja.stripBlankChar(ea));va.allowCommentTag||(ea=ja.stripCommentTag(ea));var Ea=!1;va.stripIgnoreTagBody&&(Ea=ja.StripTagBody(va.stripIgnoreTagBody,ma),ma=Ea.onIgnoreTag);ea=pa(ea,function(Ka,Qa,
Pa,J,U){Qa={sourcePosition:Ka,position:Qa,isClosing:U,isWhite:M.hasOwnProperty(Pa)};if(null!=(Ka=S(Pa,J,Qa)))return Ka;if(Qa.isWhite){if(Qa.isClosing)return"\x3c/"+Pa+"\x3e";Ka=function(K){var T=N.spaceIndex(K);if(-1===T)return{html:"",closing:"/"===K[K.length-2]};T="/"===(K=N.trim(K.slice(T+1,-1)))[K.length-1];return T&&(K=N.trim(K.slice(0,-1))),{html:K,closing:T}}(J);var ia=M[Pa];Qa=ta(Ka.html,function(K,T){var fa,ra=-1!==N.indexOf(ia,K);return null==(fa=ua(Pa,K,T,ra))?ra?(T=Q(Pa,K,T,za))?K+'\x3d"'+
T+'"':K:null==(fa=wa(Pa,K,T,ra))?void 0:fa:fa});J="\x3c"+Pa;return Qa&&(J+=" "+Qa),Ka.closing&&(J+=" /"),J+="\x3e"}return null==(Ka=ma(Pa,J,Qa))?ka(J):Ka},ka);return Ea&&(ea=Ea.remove(ea)),ea};return function(e(ua)}var S=l,ma;for(ma in(va=ea.exports=M).filterXSS=M,va.FilterXSS=S,u)va[ma]=u[ma];for(ma in ca)va[ma]=ca[ma];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=
ea.exports)}(B,B.exports),function(){function ea(va,M){var S,ma=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],
source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttr,ka)}};va&&!M?S=va:va&&M?(S=Object.create(this.arcgisFilterOptions),Object.keys(va).fo[ua]})):(S=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList;this.xssFilterOptions=
S;this._xssFilter=new B.exports.FilterXSS(S)}return ea.prototype.sanitize=function(va,M){switch(void 0===M&&(M={}),typeof va){case "number":return isNaN(va)||!isFinite(va)?null:va;case "boolean":return va;case "string":return this._xssFilter.process(va);case "object":return this._iterateOverObject(va,M);default:if(!M.allowUndefined||void 0!==va)return null}},ea.prototype.sanitizeUrl=function(va){var M=this._trim(va.substring(0,va.indexOf(":")));return"/"===va||"#"===va||"#"===va[0]||-1<this.allowedProtocols.indexOf(M.toLowerCase())?
B.exports.escapeAttrValue(va):""},ea.prototype.sanitizeHTMLAttr,ma)},ea.prototype.validate=function(va,M){void 0===M&&(M={});M=this.sanitize(va,M);return{isValid:va===M,sanitized:M}},ea.prototype._extendObjectOfArrays=function(va){var M={};return va.forEach(function(S){Object.keys(S).forEach(function(ma){Array.isArray(S[ma])&&Array.isArray(M[ma])?
M[ma]=M[ma].concat(S[ma]):M[ma]=S[ma]})}),M},ea.prototype._iterateOverObject=function(va,M){var S=this;void 0===M&&(M={});try{var ma=!1,ua=void 0;if(Array.isArray(va))ua=va.rd]))},[]);else{if(!D(va))return M.allowUndefined&&void 0===va?void 0:null;ua=Object.keys(va).r),wa},{})}return ma?ua:
va}catch(wa){return null}},ea.prototype.,"")},ea}()})},"dijit/_Templ})})},"dijit/_WidgetsInTemplateM})})},"esri/dijit/_EventedWi})})},"esri/dijit/Legend/u}}})},"esri/layers/clustering/GeohashAggrega x})},"esri/core/timerU}}})},"esri/layers/clustering/geohashUtils":function(){define("dojo/has dojo/string dojo/_base/lang dojo/_base/array ../../kernel ../../geometry/Point ../../geometry/Extent ../../SpatialReference ../../geometry/webMercatorUtils".split(" "),function(G,x,c,r,h,w,qe32:"0123456789bcdefghjkmnpqrstuvwxyz",decrn A}(),neighbors:{n:[null,"238967debc01fg45kmstqrwxuvhjyznp"],s:[null,"bc01fg45238967deuvhjyznpkmstqrwx"],
e:[null,"14365h7k9dcfesgujnmqp0r2twvyx8zb"],w:[null,"p0r21436x8zb9dcf5h7kjnmqesgutwvy"]},borders:{n:[null,"bcfguvyz"],s:[null,"0145hjnp"],e:[null,"prxz"],w:[null,"028b"]},bitsPerBase32Char:5,maxGeohashLength:12,longitudeRange:[-180,180],latitudeRange:[-90,90]};E.neighbors.n[0]="14365h7k9dcfesgujnmqp0r2twvyx8zb";E.neighbors.s[0]="p0r21436x8zb9dcf5h7kjnmqesgutwvy";E.neighbors.e[0]="238967debc01fg45kmstqrwxuvhjyznp";E.neighbors.w[0]="bc01fg45238967deuvhjyznpkmstqrwx";E.borders.n[0]="prxz";E.borders.s[0]=
"028b";E.borders.e[0]="bcfguvyz";E.borders.w[0]="0145hjnp";var v={geographicToWebMer[1]}},webMercatorToGeogr[1]}},geohashToCell:function(A){var F;var I=[];for(F=0;F<A.length;F++){var N=I,da=N.push;var ba=E.decimals[A[F]].toString(2);ba=x.pad(ba,E.bitsPerBase32Char,"0");da.call(N,ba)}I=I.join("");F=[];N=[];for(da=0;da<I.length;da++)0===da%2?F.push(I[da]):N.push(I[da]);F=F.join("");
N=N.join("");F=[F,N];I=k(F[0],E.longitudeRange);N=k(F[1],E.latitudeRange);F=I.value;return{point:{x:F,y:N.value},extent:{xmin:I.min,xmax:I.max,ymin:N.min,ymax:N.max},geohash:A}},pointToCell:function(A,F){F=F||E.maxGeohashLength;if(A=g(A)){A=d(A,A);var I=m(F);F=l(A.x,E.longitudeRange,I.lon);var N=l(A.y,E.latitudeRange,I.lat);I=F.value;var da=N.value;F={xmin:F.min,xmax:F.max,ymin:N.min,ymax:N.max};N=[];for(var ba=Math.ceil((I.length+da.length)/E.bitsPerBase32Char),na=0,xa=0,W=0;W<ba*E.bitsPerBase32Char;W++){var la=
0===W%2?I[na++]:da[xa++];null==la&&(la=0);N.push(la)}I=N.join("");da=E.bitsPerBase32Char;N=I.length/da;ba=[];for(na=0;na<N;na++){la=I.substr(na*da,da);xa=ba;W=xa.push;var ha=0;la=la.split("").reverse().join("");for(var sa=0;sa<la.length;sa++)ha+=Number(la[sa])*Math.pow(2,sa);W.call(xa,E.base32[ha])}I=ba.join("");return{point:A,extent:F,geohash:I}}},geohashToPoint:function(A){return v.geohashToCell(A).point},pointToGehash},getF)})},getCelat)}},getCellSizeInMrn A},getIntersern N},
countIntersern N},getChirn F},getNeigw")]},getExtentFromDisrn I},expandEn A}},getNeighborsWithinDisrn N}};G("extend-esri")&&c.setObject("layers.clustering.geohashUtils",v,h);return v})},"esri/layers/clustering/statU h})},"esri/dijit/Attribution":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/kernel dojo/has dojo/query dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-geometry dojox/html/entities ../kernel ../lang ../SpatialReference ../geometry/webMercatorUtils ../geometry/Extent".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t){G=G(null,{declaredClass:"esri.dijit.Attribution",itemDelimiter:" | ",listClass:"esriAttributionList",itemClass:"esriAttributionItem",lastItemClass:"esriAttributionLastItem",delimiterClass:"esriAttributionDelim",constrF){}},startup:function(){},denull},_onLayB){}},
_onAttributio(C)}},_onLayerRu){}},_onLayerSuB){}},_adjust:"")},_onLayerResume:function(z){try{var C=z.id,y=this._attributions[C],D=this.itemNodes[C];if(y&&(-1===c.indexOf(this._activeLayers,C)&&this._activeLayers.push(C),D)){var B=x.isString(y)?y:this._getContributorsList(y,this.map.extent,this.map.getLevel());x.isString(y)||f.set(D,"innerHTML",B?l.encode(B)+
this._getDelimiter():"");B&&this._toggleItem(D,!0,this._getGroupIndex(C))}}catch(u){}},_onExtentChange:function(z,C,y,D){try{var B=this._activeLayers,u=this._attributions,E=this.itemNodes,v,A,F=B.length||0;for(A=0;A<F;A++){var I=B[A];var N=u[I];if((v=E[I])&&!x.isString(N)){var da=this._getContributorsList(N,z,D?D.level:-1);f.set(v,"innerHTML",da?l.encode(da)+this._getDelimiter():"");this._toggleItem(v,!!da,-1)}}}catch(ba){}this._adjustCursorStyle()},_createNode:function(z){if(this.domNode){var C=
this._checkShareInfo(z),y=C&&C.sharedWith;y=y&&this.itemNodes[y];var D=this.map,B=this._attributions[z];B=x.isString(B)?B:this._getContributorsList(B,D.extent,D.getLevel());D=!!B&&!D.getLayer(z).suspended;y?(this.itemNodes[z]=y,this._toggleItem(y,D,C.index)):(z=this.itemNodes[z]=g.create("span",{"class":this.itemClass,innerHTML:B?l.encode(B)+this._getDelimiter():"",style:{display:D?"inline":"none"}},this.listNode),D&&this._setLastItem(z));this._adjustCursorStyle()}},_checkSharnull},_getGrouprn B},_getDeli":""},_togglem()},_updateLasle()},
_setLasm=z)},_createIndexByrn v},_getContributorrn D},
_adjustCursorus()}});w("extend-esri")&&x.setObject("dijit.Attribution",G,m);return G})},"esri/arcgis/utils":function(){define("require dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Deferred dojo/_base/json dojo/_base/url dojo/on dojo/DeferredList dojo/dom-construct dojo/sniff dojox/gfx/_base ../kernel ../config ../Color ../lang ../request ../SpatialReference ../map ../urlUtils ../geometry/Point ../geometry/ScreenPoint ../geometry/Extent ../geometry/webMercatorUtils ../symbols/jsonUtils ../renderers/jsonUtils ../dijit/PopupTemplate ../dijit/Popup ../tasks/query ../tasks/GeometryService ../layers/ArcGISTiledMapServiceLayer ../layers/FeatureLayer dojo/i18n!../nls/jsapi".split(" "),
function(G,x,c,r,h,w,q,n,f,g,a,d,k,l,m,e,b,p,t,z,C,y,D,B,u,E,v,A,F,I,N,da,ba){function na(R){return!(!R||"BingMapsAerial"!==R.layerType&&"BingMapsAerial"!==R.type)}function xa(R){return!(!R||"BingMapsRoad"!==R.layerType&&"BingMapsRoad"!==R.,Ia,Aa,Da,Na){var La=Ia._clazz;if(la(R))var Ga=new bc({id:R.id,opacity:R.opacity,visible:null!==R.visibility&&void 0!==R.visibility?R.visibility:!0});else if(R&&("WFS"===R.layerType||"WFS"===R.type)){var Sa={customParameters:R.wfsInfo.customParameters,geometryType:R.layerDefinition.geometryType,
id:R.id,labelingInfo:R.layerDefinition.drawingInfo.labelingInfo,maxFeatures:R.wfsInfo.maxFeatures,mode:R.mode,name:R.wfsInfo.name,showLabels:!0,swapXY:R.wfsInfo.swapXY,title:R.title,url:R.url,version:R.wfsInfo.version,visible:R.visibility,wkid:R.layerDefinition.spatialReference.wkid};Ga=new Sb;Ga.fromJste")})}else if(R&&("WMS"===R.layerType||"WMS"===R.type)){var Va=[],Ya=[];c.forEach(R.lame)},this);R.visibleLayers&&(Va=R.visibleLayers);Aa=new D(R.extent[0][0],R.extent[0][1],
R.extent[1][0],R.extent[1][1],new p({wkid:4326}));Aa={customLayerParameters:R.customLayerParameters,customParameters:R.customParameters,extent:Aa,layerInfos:Ya,version:R.version,maxWidth:R.maxWidth,maxHeight:R.maxHeight,featureInfoFormat:R.featureInfoFormat,getFeatureInfoURL:R.featureInfoUrl,getMapURL:R.mapUrl,spatialReferences:R.spatialReferences,title:R.title,copyright:R.copyright,minScale:R.minScale||0,maxScale:R.maxScale||0,format:R.format};Ga=new cc(R.url,{id:R.id,visibleLayers:Va,format:"png",
transparent:R.firstLayer?!1:!0,opacity:R.opacity,visible:null!==R.visibility?R.visibility:!0,resourceInfo:Aa,refreshInterval:R.refreshInterval});Ga.spatialReference.wkid=Aa.spatialReferences[0]}else if(R&&("KML"===R.layerType||"KML"===R.type)){var db=R.url;if(k.id){var Wa=k.id.findCredential(z.urlToObject(yb.arcgisUrl).path);Wa&&(Ja=yb.arcgisUrl.substring(yb.arcgisUrl.indexOf("//")+2,yb.arcgisUrl.indexOf("/",yb.arcgisUrl.indexOf("//")+3)),Da=Ja.split("."),Da=Da[Da.length-2]+"."+Da[Da.length-1],Na=
db.indexOf(Da),-1<Na&&(db="https://"+Ja+db.substring(Na+Da.length),db+="?token\x3d"+Wa.token))}Ga=new Pb(db,{id:R.id,visible:null!==R.visibility?R.visibility:!0,outSR:Aa,refreshInterval:R.refreshInterval});r.connect(Ga,"onhis)})}else if(!R||"WebTiledLayer"!==R.layerType&&"WebTiledLayer"!==R.type)if(!R||"GeoRSS"!==R.layerType&&"GeoRSS"!==R.type)if(R&&("CSV"===R.layerType||"CSV"===R.type)&&R.url)Aa={layerDefinition:R.layerDefinition,columnDelimiter:R.columnDelimiter,id:R.id?R.id:null,visible:null!==R.visibility?R.visibility:!0,opacity:R.opacity,refreshInterval:R.refreshInterval},R.locationInfo&&(Aa.latitudeFieldName=R.locationInfo.latitudeFieldName,Aa.longitudeFieldName=R.locationInfo.longitudeFieldName),
!Ia.ignorePopups&&R.popupInfo&&(Aa.infoTemplate=new La(R.popupInfo)),Ga=new Ob(R.url,Aa);else if("VectorTileLayer"!==R.layerType||!R.styleUrl||R.resourceInfo&&R.resourceInfo instanceof Error)if(R.layerDefinition&&!R.url)Aa=w.fromJson(w.toJson(R)),delete Aa.id,delete Aa.opacity,delete Aa.visibility,Ga=new da(Aa,{id:R.id,opacity:R.opacity,visible:R.visibility,outFields:["*"],autoGeneralize:!0}),Ia.ignorePopups||!Aa.popupInfo||Aa.disablePopup||Ga.setInfoTemplate(new La(Aa.popupInfo)),Qa(Ga);else if(W(R))Ia.bingMapsKey?
(Aa=Nb.MAP_STYLE_AERIAL_WITH_LABELS,na(R)?Aa=Nb.MAP_STYLE_AERIAL:xa(R)&&(Aa=Nb.MAP_STYLE_ROAD),Ga=new Nb({bingMapsKey:Ia.bingMapsKey,mapStyle:Aa,opacity:R.opacity,id:R.id}),r.connect(Ga,"onError",x.hitch]"})},R))):(R.errors=R.errors||[],R.errors.push({message:"This application does not provide a Bing Key for the Bing layer that is included in this map. [type:"+
(R?R.layerType||R.type:"")+"]"}));else if(R.resourceInfo&&(R.resourceInfo.mapName||""===R.resourceInfo.mapName))Ga=!0===R.resourceInfo.singleFusedMapCache&&(R.baseMapLayer||wa(R,Ja,Aa)&&Q(R,Da,Na))?M(R,La,Ia):ma(R,La,Ia);else if(R.resourceInfo&&R.resourceInfo.pixelSizeX)Ga=!0===R.resourceInfo.singleFusedMapCache&&"ArcGISImageServiceLayer"!==R.layerType&&(R.baseMapLayer||"Raster"===R.resourceInfo.cacheType||wa(R,Ja,Aa)&&Q(R,Da,Na))?M(R,La,Ia):ua(R,La,Ia);else if(R.resourceInfo&&"Feature Layer"===R.resourceInfo.type){R.capabilities&&
(R.resourceInfo.capabilities=R.capabilities);var cb;!1===Ia.editable?cb=!1:Ia.privileges&&-1===c.indexOf(Ia.privileges,"features:user:edit")&&k.id&&k.id.findCredential(R.url)&&(cb=!1);Ga=new da(va(R.url),{resourceInfo:R.resourceInfo,opacity:R.opacity,visible:R.visibility,id:R.id,mode:R.mode===da.MODE_SELECTION?da.MODE_SELECTION:da.MODE_AUTO,editable:cb,outFields:["*"],autoGeneralize:!0,refreshInterval:R.refreshInterval});Ia.ignorePopups||!R.popupInfo||R.disablePopup||Ga.setInfoTemplate(new La(R.popupInfo));
R.layerDefinition&&(R.layerDefinition.drawingInfo&&R.layerDefinition.drawingInfo.renderer&&(Aa=E.fromJson(R.layerDefinition.drawingInfo.renderer,{geometryType:Ga.geometryType}),Aa.isMaxInclusive=!0,Ga.setRenderer(Aa)),R.layerDefinition.drawingInfo&&R.layerDefinition.drawingInfo.labelingInfo&&(Aa=c.map(R.layerDefinition.drawingInfo.labelingInfo,function(ab){return new Ib(ab)}),Ga.setLabelingInfo(Aa)),R.layerDefinition.definitionExpression&&Ga.setDefinitionExpression(R.layerDefinition.definitionExpression),
e.isDefined(R.layerDefinition.minScale)&&Ga.setMinScale(R.layerDefinition.minScale),e.isDefined(R.layerDefinition.maxScale)&&Ga.setMaxScale(R.layerDefinition.maxScale));Qa(Ga)}else R.resourceInfo&&R.resourceInfo.streamUrls&&(Aa={resourceInfo:R.resourceInfo,opacity:R.opacity,visible:R.visibility,id:R.id},R.layerDefinition&&(db=R.layerDefinition.drawingInfo,R.layerDefinition.definitionGeometry&&(Wa=Wa||{},Wa.geometry=R.layerDefinition.definitionGeometry),e.isDefined(R.layerDefinition.definitionExpression)&&
(Wa=Wa||{},Wa.where=R.layerDefinition.definitionExpression),e.isDefined(R.layerDefinition.maximumTrackPoints)&&(Aa.maximumTrackPoints=R.layerDefinition.maximumTrackPoints)),Wa&&(Aa.filter=Wa),R.purgeOptions&&(Aa.purgeOptions=R.purgeOptions),Ga=new fc(va(R.url),Aa),db&&db.renderer&&(Aa=db.renderer,Ga.setRenderer(E.fromJson(Aa,{geometryType:R.resourceInfo.geometryType}))),db&&db.labelingInfo&&(Aa=c.map(db.labelingInfo,function(ab){return new Ib(ab)}),Ga.setLabelingInfo(Aa)),Ia.ignorePopups||!R.popupInfo||
R.disablePopup||Ga.setInfoTemplate(new La(R.popupInfo)),R.layerDefinition&&(e.isDefined(R.layerDefinition.minScale)&&Ga.setMinScale(R.layerDefinition.minScale),e.isDefined(R.layerDefinition.maxScale)&&Ga.setMaxScale(R.layerDefinition.maxScale)),n.once(Ga,"el"})}));else Ga=new Gb(R.styleUrl,{id:R.id,minScale:R.minScale,maxScale:R.maxScale,opacity:R.opacity,visible:R.visibility,resourceInfo:R.resourceInfo});else Ga=
new Hb(R.url,{id:R.id,opacity:R.opacity,outSpatialReference:Aa,refreshInterval:R.refreshInterval}),r.connect(Ga,"on))})});else if(Ga=new mc(R.templateUrl,{id:R.id,visible:null!==R.visibility?R.visibility:!0,opacity:R.opacity,copyright:R.copyright,fullExtent:R.fullExtent&&new D(R.fullExtent),initialExtent:R.fullExtent&&new D(R.fullExtent),
subDomains:R.subDomains,tileInfo:R.tileInfo?new Tb(R.tileInfo):null,refreshInterval:R.refreshInterval,wmtsInfo:R.wmtsInfo}),e.isDefined(R.minScale)||e.isDefined(R.maxScale))Ga.loaded?Ga.setScaleRange(R.minScale,R.maxScale):r.connect(Ga,"onale)});Ga&&(Ga.arcgisProps={title:R.title},R.baseMapLayer&&(R.isReference?(Ga.attr("data-reference",!0),Ga._basemapGalleryLayerType="reference"):Ga._basemapGalleryLayerType="basemap"),Ga instanceof da&&R.layerDefinition&&
R.layerDefinition.featureReduction&&"cluster"===R.layerDefinition.featureReduction.type&&(Aa=R.layerDefinition.featureReduction,Aa.clusterSize&&(Aa.clusterSize=d.pt2px(Aa.clusterSize)),Aa.clusterRadius&&(Aa.clusterRadius=d.pt2px(Aa.clusterRadius)),Aa.popupInfo&&(Aa.infoTemplate=new v(Aa.popupInfo),delete Aa.popupInfo),Ga.setFeatureReduction(Aa)));retu Ja}function Ka(R,Ja,Ia,Aa,Da,Na,La,Ga){c.forEach(Ja,
function(Sa){if(ha(Sa)||Sa&&"VectorTileLayer"===Sa.layerType)Sa.resourceInfo=R[Sa.deferredsPos][1],delete Sa.deferredsPos});Na=Na||Ea(Ja);Ja=za(Ja,Ia,Na,La,Ga);Da.callback(Ja);retu}}))}function Pa(R,Ja,Ia){R.message=R.message?R.message+(" [url:"+Ja+"]"):"[url:"+Ja+"]";Ia.push(R);l.defaults.io.errorHandler(R)}function J(R,Ja){var Ia=va(R);return b({url:Ia,content:{f:"json"},callbackParamName:"callback",,Ja)}})}function U(R){var Ja=yb.arcgisUrl+"/"+R.itemId+"/data";return b({url:Ja,content:{f:"json"},callbackParamName:"callback",error:function(Ia,Aa){R.errors=R.errors||[];Pa(Ia,Ja,R.errors)}})}function ia(R,Ja){return lc.loadMetadata(R).othenNa}function ra(R,Ja,Ia,Aa,Da,Na){var La=[],Ga=[],Sa=[];c.forEach(R.operationalL(Va)});c.forEach(R.baseMap.baseMapL(Va)});c.forEa(Va)});c.forEach(La,function(Va){var Ya=!(!Va||"VectorTileLayer"!==Va.layerType);if(ha(Va)||Ya)Va.deferredsPos=Ga.length,Va.errors=Va.errors||[],Ya?Ga.push(ia(Va.styleUrl,Va.errors)):Ga.push(J(Va.url,Va.errors))});0===Ga.length?(Ia=Ia||Ea(La),La=za(La,Ja,Ia,Aa,Na),Da.callback(La)):(new f(Ga)).addCal,Na)});retun ob(R,Ja){function Ia(Ga,
Sa){c.forEach(Ga,function(Va,Ya){switch(Va){case "../layers/ArcGISDynamicMapServiceLayer":qb=Sa[Ya];break;case "../layers/ArcGISImageServiceLayer":sb=Sa[Ya];break;case "../layers/ArcGISImageServiceVectorLayer":vb=Sa[Ya];break;case "../layers/CSVLayer":Ob=Sa[Ya];break;case "../layers/DynamicLayerInfo":zb=Sa[Ya];break;case "../layers/GeoRSSLayer":Hb=Sa[Ya];break;case "../layers/ImageParameters":Eb=Sa[Ya];break;case "../layers/ImageServiceParameters":Wb=Sa[Ya];break;case "../layers/KMLLayer":Pb=Sa[Ya];
break;case "../layers/LabelClass":Ib=Sa[Ya];break;case "../layers/LayerDrawingOptions":Yb=Sa[Ya];break;case "../layers/MosaicRule":ac=Sa[Ya];break;case "../layers/OpenStreetMapLayer":bc=Sa[Ya];break;case "../layers/RasterFunction":dc=Sa[Ya];break;case "../layers/RasterXLayer":ec=Sa[Ya];break;case "../layers/StreamLayer":fc=Sa[Ya];break;case "../layers/TileInfo":Tb=Sa[Ya];break;case "../layers/VectorTileLayer":Gb=Sa[Ya];break;case "../layers/vectorTiles/layers/support/vectorTileLayerLoader":lc=Sa[Ya];
break;case "../virtualearth/VETiledLayer":Nb=Sa[Ya];break;case "../layers/WebTiledLayer":mc=Sa[Ya];break;case "../layers/WFSLayer":Sb=Sa[Ya];break;case "../layers/WMSLayer":cc=Sa[Ya];break;case "../layers/WMSLayerInfo":Db=Sa[Ya]}})}var Aa=new h;R=R.itemData;Ja=[];R.baseMap&&R.baseMap.baseMapLayers&&(Ja=Ja.concat(R.baseMap.baseMapLayers));R.operationalLayers&&(Ja=Ja.concat(R.operationalLayers));R=c.mType});var Da=[],Na=[];Ja=!1;for(var La=0;La<R.length;La++){switch(R[La]){case "ArcGISFeatureLayer":-1===
c.indexOf(Da,"../layers/LabelClass")&&Da.push("../layers/LabelClass");break;case "ArcGISImageServiceLayer":case "ArcGISTiledImageServiceLayer":-1===c.indexOf(Da,"../layers/ArcGISImageServiceLayer")&&(Da.push("../layers/ArcGISImageServiceLayer"),Na.push("../layers/ImageServiceParameters"),Na.push("../layers/MosaicRule"),Na.push("../layers/RasterFunction"),Da.push("../layers/RasterXLayer"));break;case "ArcGISImageServiceVectorLayer":-1===c.indexOf(Da,"../layers/ArcGISImageServiceVectorLayer")&&(Da.push("../layers/ArcGISImageServiceVectorLayer"),
Na.push("../layers/ImageServiceParameters"),Na.push("../layers/MosaicRule"),Na.push("../layers/RasterFunction"));break;case "ArcGISMapServiceLayer":case "ArcGISTiledMapServiceLayer":-1===c.indexOf(Da,"../layers/ArcGISDynamicMapServiceLayer")&&(Da.push("../layers/ArcGISDynamicMapServiceLayer"),Na.push("../layers/DynamicLayerInfo"),Na.push("../layers/ImageParameters"),Na.push("../layers/LayerDrawingOptions"));break;case "ArcGISStreamLayer":-1===c.indexOf(Da,"../layers/StreamLayer")&&Da.push("../layers/StreamLayer");
-1===c.indexOf(Da,"../layers/LabelClass")&&Da.push("../layers/LabelClass");break;case "BingMapsAerial":case "BingMapsHybrid":case "BingMapsRoad":-1===c.indexOf(Da,"../virtualearth/VETiledLayer")&&Da.push("../virtualearth/VETiledLayer");break;case "CSV":-1===c.indexOf(Da,"../layers/CSVLayer")&&(Da.push("../layers/CSVLayer"),Na.push("./csv"));break;case "GeoRSS":-1===c.indexOf(Da,"../layers/GeoRSSLayer")&&Da.push("../layers/GeoRSSLayer");break;case "KML":-1===c.indexOf(Da,"../layers/KMLLayer")&&Da.push("../layers/KMLLayer");
break;case "OpenStreetMap":-1===c.indexOf(Da,"../layers/OpenStreetMapLayer")&&Da.push("../layers/OpenStreetMapLayer");break;case "VectorTileLayer":-1===c.indexOf(Da,"../layers/VectorTileLayer")&&Da.push("../layers/VectorTileLayer");-1===c.indexOf(Na,"../layers/vectorTiles/layers/support/vectorTileLayerLoader")&&Na.push("../layers/vectorTiles/layers/support/vectorTileLayerLoader");break;case "WebTiledLayer":-1===c.indexOf(Da,"../layers/WebTiledLayer")&&(Da.push("../layers/WebTiledLayer"),Na.push("../layers/TileInfo"));
break;case "WFS":-1===c.indexOf(Da,"../layers/WFSLayer")&&Da.push("../layers/WFSLayer");break;case "WMS":-1===c.indexOf(Da,"../layers/WMSLayer")&&(Da.push("../layers/WMSLayer"),Na.push("../layers/WMSLayerInfo"));break;default:Ja=!0}if(Ja)break}Ja&&(Da=Qb,Na=Zb);Da.lengthve()}):Aa.resolve();return Aa}function eb(R){R=R.itemData;var Ja=function(Aa,Da){"GroupLayer"===Aa.layerType?c.forEach(Aa.layers,function(Na){Na.visibility=
!1!==Aa.visibility&&!1!==Na.visibility;Na.opacity=e.isDefined(Aa.opacity)?e.isDefined(Na.opacity)?Na.opacity*Aa.opacity:Aa.opacity:Na.opacity;Ja(Na,Da)}):Da.push(Aa)},Ia=[];c.forEach(R.operationalL,Ia)});R.operationalLaye Aa}var qb,sb,vb,Ob,zb,Hb,Eb,Wb,Pb,Ib,Yb,ac,bc,dc,ec,fc,Tb,Gb,lc,Nb,mc,Sb,cc,Db,Qb="../layers/ArcGISDynamicMapServiceLayer ../layers/ArcGISImageServiceLayer ../layers/ArcGISImageServiceVectorLayer ../layers/CSVLayer ../layers/GeoRSSLayer ../layers/KMLLayer ../layers/LabelClass ../layers/OpenStreetMapLayer ../layers/RasterXLayer ../layers/StreamLayer ../layers/VectorTileLayer ../virtualearth/VETiledLayer ../layers/WebTiledLayer ../layers/WFSLayer ../layers/WMSLayer".split(" "),
Zb="./csv ../layers/DynamicLayerInfo ../layers/ImageParameters ../layers/ImageServiceParameters ../layers/LayerDrawingOptions ../layers/MosaicRule ../layers/RasterFunction ../layers/TileInfo ../layers/vectorTiles/layers/support/vectorTileLayerLoader ../layers/WMSLayerInfo".split(" ");var yb={arcgisUrl:z.getProtocolForWebResource()+"//www.arcgis.com/sharing/rest/content/items",getItem:Ab,crean Aa},getLayerList:function(R){return R&&R.itemInfo&&R.itemInfo.itemData?mb(R.itemInfo.itemData):[]},getLegendL):[]},_arcgisUrl:null,_getItemProps:L,_getItemData:sa,_getBingKey:Ca,
_portalUrlResponse:V,_portalUrlFailure:X,_processFSItemProperties:oa,_processSSItemProperties:qa,_getLayers:fa,_preBuildLayerObjects:Ka,_buildLayerObjects:za,_preCreateMap:hb,_getMapSR:Ea,_createMap:bb,_addSelectionLayers:Ua,_createSelectionFeatureLayers:Ma,_getServiceInfo:J,_getFeatureCollectionItem:U,_mergeFeatureCollectionItem:K,_projectFeatureCollection:T,_getLayersInfo:Ha,_initLayer:ka,_loadAsCached:M,_loadAsDynamic:ma,_processPopups:pa,_onLayersAddResult:Ta,_sameSpatialReferenceAsBasemap:wa,
_sameTilingSchemeAsBasemap:Q,_showPopup:Xa,_calculateClickTolerance:Oa,_getVisibleFeatureLayers:S,_updateLayerScaleInfo:Ba,_checkUrl:va,_isHostedService:ta,_isAgolService:ea,_getLegendLayers:rb};x.setObject("arcgis.utils",yb,k);return yb})},"esri/tasks/GeometrySer G})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick" data-dojo-attach-point\x3d"valueNode" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\r\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\r\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\r\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\r\n\t\t\ttitle\x3d"${optionsTitle}"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\r\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\r\n\t\t\t\tclass\x3d"dijitOffScreen" aria-hidden\x3d"true" data-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\t\t\t${!actionBarTemplate}\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:esri/core/request/iframe.html":'\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n\x3chead\x3e\r\n  \x3cmeta http-equiv\x3d"Content-Security-Policy" content\x3d"default-src \'none\'; script-src * \'unsafe-inline\'"\x3e\r\n\r\n  \x3cscript\x3e\r\n    var dojoConfig \x3d {\r\n      async: true,\r\n      baseUrl: "../../../dojo/",\r\n      has: {\r\n        "csp-restrictions": true,\r\n        "dojo-preload-i18n-Api": false\r\n      }\r\n    };\r\n  \x3c/script\x3e\r\n  \x3c!--\r\n  This src is relative to this page and assumes dojo is a sibling to esri.\r\n  It is updated when this file is set as the iframe\'s `srcdoc` value.\r\n  --\x3e\r\n  \x3cscript src\x3d"../../../dojo/dojo.js"\x3e\x3c/script\x3e\r\n\r\n  \x3cscript\x3e\r\n    function windowMessageHandler(event) {\r\n      window.removeEventListener("message", windowMessageHandler);\r\n\r\n      if (window.origin !\x3d\x3d "null") {\r\n        return; // page is not in an iframe sandbox\r\n      }\r\n\r\n      var port \x3d event.ports[0];\r\n\r\n      require([\r\n        "dojo/request/script"\r\n      ], function(script) {\r\n        port.postMessage("ready");\r\n\r\n        port.addEventListener("message", function(event) {\r\n          var data \x3d event.data;\r\n          script.get(data.url, data.options)\r\n              .then(function(response) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  response: response\r\n                });\r\n              })\r\n              .otherwise(function(error) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  isError: true,\r\n                  message: error.message\r\n                });\r\n              });\r\n        });\r\n        port.start();\r\n      });\r\n    }\r\n\r\n    window.addEventListener("message", windowMessageHandler);\r\n  \x3c/script\x3e\r\n\x3c/head\x3e\r\n\x3cbody\x3e\r\n\x3c/body\x3e\r\n\x3c/html\x3e\r\n',
"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\r\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\r\n\t${!actionBarTemplate}\r\n\x3c/div\x3e\r\n\r\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"]'])},"*noref":1}});
define("esri/jsapi","dojo/fx/Toggler dojo/_base/html dijit/_base dijit/form/DropDownButton dijit/form/ComboButton dijit/form/ToggleButton dijit/_base/manager dijit/TooltipDialog ./main ./map ./geometry ./symbol ./renderer ./utils ./IdentityManager ./layers/graphics ./layers/agstiled ./layers/agsdynamic ./layers/FeatureLayer ./dijit/PopupTemplate ./dijit/PopupRenderer ./dijit/Attribution ./arcgis/utils ./tasks/query ./tasks/QueryTask ./tasks/RelationshipQuery ./tasks/StatisticDefinition".split(" "),function(){return{}});