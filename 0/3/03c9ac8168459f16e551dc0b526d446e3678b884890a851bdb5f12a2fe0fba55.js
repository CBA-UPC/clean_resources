// 0.0.7
(()=>{"use strict";var t,e,n={260:(t,e,n)=>{n.d(e,{uH:()=>c,sT:()=>u,$W:()=>d,ZP:()=>g,R2:()=>f,wI:()=>h,UN:()=>v});var o=n(122),r={zIndex:996,width:"20%",height:"auto",transition:"1s",opacity:0,position:"absolute",bottom:0,right:0,transform:"translateX(100%)",display:"none"},i={padding:"80px",boxSizing:"border-box"},s={padding:"32px",boxSizing:"border-box"},a=n(807),l=function(){return l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)},c="hideBingeAd",u="showBingeAd",d="banner_binge_",p=!1;const g=function(){function t(t,e,n){this.divId=t,this.logger=e,this._slots=[],this.rendered=!1,(0,a.Lj)()}return Object.defineProperty(t.prototype,"slots",{get:set:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframe",{get:function(){var t;return null===(t=null==this?void 0:this.adDiv)||void 0===t?void 0:t.querySelector("iframe")},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.adDiv&&this.setStyle(this.adDiv.style,{opacity:"1",transform:"translateX(0%)"})},t.prototype.hide=function(){this.adDiv&&(this.setStyle(this.adDiv.style,{opacity:"0",transform:"translateX(100%)"}),this.rendered=!1)},t.prototype.setEventsListenerAd=function(t){var e=this;t&&window.addEventListener("message",(function(n){var r;try{if((null===(r=e.iframe)||void 0===r?void 0:r.contentWindow)!==n.source)return;(0,o.Cv)({event:n,listeners:t})}catch(t){e.logger.error("Failed to process ad iframe message: ".concat(t.message))}}))},t.prototype.resetAdSlots=function(){try{this.logger.info("Destroying ".concat(this._slots.length," slots.")),(0,a.Gv)(this._slots),this.slots=[],this.logger.info("Finished destroying ".concat(this._slots.length," slots."))}catch(t){this.logger.error("Failed to destroy slots: ".concat(t.message))}},t.prototype.setDivStyle=function(t){t?this.setStyle(this.adDiv.style,i):this.setStyle(this.adDiv.style,s)},t.prototype.getContainer=function(){if(this.adDiv)return this.adDiv;var t=document.createElement("div");return this.adDiv=t,t.id=this.divId,t.classList.add("binge-ads-container"),this.setStyle(t.style,l(l({},r),s)),t},t.prototype.setFrameSize=function(t){if(this.hasRendered()){var e=t.width,n=t.height;this.setStyle(this.adDiv.style,{height:"".concat(.7*n,"px"),width:"".concat(.6*e,"px")});try{var o=this.adDiv.firstElementChild,r=o.firstElementChild;o.style.height="100%",r.style.height="100%"}catch(t){this.logger.error("Invalid Ad Slot: ".concat(t.message))}}},t.prototype.setStyle=t.prototype.hasRendered=function(){return p=this.rendered,this.rendered},t.prototype.pushSlot=function(t){this.rendered=!0,this.slots.includes(t)||(this.logger.info("Pushing slot ".concat(t.getSlotElementId()," to slots array.")),this.slots.push(t),this.logger.info("Pushed slot ".concat(t.getSlotElementId()," to slots array.")))},t}();function f(){window.dispatchEvent(new Event(c))}function v(){window.dispatchEvent(new Event(u))},807:(t,e,n)=>{n.d(e,{_w:()=>f,GA:()=>v,ab:()=>h,Gv:()=>y,Lj:()=>b});var o=n(122),r=i=s=a=n.g.window,l="adunit",c=new Set(["episode","excerpt"]),u=["fluid",[80,35]],d=new Set(["ambient","device_type","gp_gender","gp_platform","glb_tipo","glb_id","ogncluster","kuid","service_id","tipo_pagina","tvg_pgStr","tvg_cma","tvg_pgTipo","tvg_pgName"]),p=new Set(["v_id","video_program","video_kind","video_category","pa","program_genre","tvg_pos","video_subscription"]),g=new Set(s(s([],i(d),!1),i(p),!1));function f(){a.googletag.pubadsReady||a.googletag.cmd.push((function(){a.googletag.pubads().disableInitialLoad(),a.googletag.pubads().collapseEmptyDivs(),a.googletag.pubads().setCentering(!0),a.googletag.pubads().enableAsyncRendering(),a.googletag.pubads().setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0}),a.googletag.enableServices()})),function(){if(!document.querySelector('script[src$="gpt.js"]')){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}}()}function v(t){var e,n=t.divId,i=t.options,s=t.logger,f=function(t,e){try{var n=t.dfp.adCustomData;return Object.fromEntries(new URLSearchParams(n))}catch(t){return e.error("Unable to get dfp params: ".concat(t.message)),{}}}(i,s),v=f,i.adCustomData);"1"===v.pa?(e=null==v?void 0:v.video_kind,c.has(e)?(v.tvg_pos="BINGEAD",v.device_type="desktop",a.googletag.cmd.push((function(){var t,e,c=function(t){var e=t.adAccountId,n=void 0===e?"95377733":e,o=function(t){var e,n=t.adUnit?t.adUnit:null===(e=t.dfp)||void 0===e?void 0:e.adUnit,o=function(){var t;try{var e=new URL(a.location.href);return null!==(t=new URLSearchParams(e.search).get("adunit"))&&void 0!==t?t:localStorage.getItem(l)}catch(t){return null}}();return o||n}(t);if(!o)throw new Error("Invalid ad unit: ".concat(o));return"/".concat(n,"/").concat(o)}(i),f=function(t,e){var n=t);return n||a.googletag.defineSlot(e,u,t).addService(a.googletag.pubads())}(n,c),h=function(t){try{if(!t)return{};var e=new URLSearchParams(t);return Array.from(e.keys()).reduce((function(t,n){var o;return g.has(n)?r(r({},t),((o={})[n]=e.get(n),o)):t}),{})}catch(t){return{}}}(v);for(var y in h)d.has(y)?a.googletag.pubads().setTargeting(y+"",h[y]):p.has(y)&&f.setTargeting(y+"",h[y]);a.glb_ppid&&a.googletag.pubads().setPublisherProvidedId(a.glb_ppid),a.googletag.display(n),a.googletag.pubads().refresh([f]),(0,o.fv)(null===(e=null===(t=i.bingeAd)||void 0===t?void 0:t.eventListeners)||void 0===e?void 0:e.onBingeAdRequest),s.info("Request for BingeAd with div: ".concat(n,"."))}))):s.error('Binge Ad is not allowed to deliver in "'.concat(null==v?void 0:v.video_kind,'" kind of video.'))):s.error("Binge Ad is not allowed to deliver in this content.")}function h(t,e,n,r){a.googletag.cmd.push((function(){var i=a.googletag.pubads();!function(t,e,n,r,i){r.addEventListener("slotRenderEnded",t),r.addEventListener("impressionViewable",(function(t){!function(t,e,n,r){var i,s;e.slot.getSlotElementId()===n&&(r.info("Viewable for BingeAd with div: ".concat(n,".")),(0,o.fv)(null===(s=null===(i=t.bingeAd)||void 0===i?void 0:i.eventListeners)||void 0===s?void 0:s.onBingeAdViewable))}(n,t,e,i)}))}(t,e,n,i,r)}))}function y(t){a.googletag.cmd.push(()}function b(){a.googletag.pubadsReady&&y(a.googletag.pubads().getSlots().filter(())}a.googletag=a.googletag||{},a.googletag.cmd=a.googletag.cmd||[]},267:(t,e,n)=>{n.d(e,{Z:()=>L});var o=n(260),r=n(807);const i=);var s,a=(s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},s(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const l=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n}return a(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.CONTAINER_DESTROYED;t.type===e&&(this.plugin.bingeAdElement.hide(),this.plugin.bingeAdElement.resetAdSlots())},e}(i);var c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const u=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n}return c(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.CONTAINER_FULLSCREEN;t.type===e&&this.plugin.resizeAd(t.payload)},e}(i);var d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const p=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n}return d(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.CORE_ACTIVE_CONTAINER_CHANGED;t.type===e&&(this.plugin.bingeAdElement.hide(),this.plugin.bingeAdElement.resetAdSlots())},e}(i);var g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const f=function(t){eturn g(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.WATCH_SESSION_END;t.type===e&&(this.plugin.bingeAdElement.hide(),this.plugin.bingeAdElement.resetAdSlots())},e}(i);var v=function(){eturn t.prototype.subscribe=function(t){this.observers.push(t)},t.prototype.unsubscribe=t.prototype.notify=t}();const h=v;var y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const b=function(t){function e(e){var n=t.call(this)||this;return n._fullscreen=!1,n.plugin=e,n.core=e.core,n.logger=e.logger,n._setupObservers(),n}return y(e,t),e.prototype.isActiveContainerAvailable=e.prototype._setupObservers=function(){var t=this,e=window.Clappr.Events.CORE_ACTIVE_CONTAINER_CHANGED;this.plugin.listenTo(this.core,e,()},e.prototype._setupActiveContainerObservers=function(){var t=this;this.logger.info("Setting up active container observers.");var e=window.Clappr.Events,n=e.WATCH_SESSION_END,o=e.CONTAINER_DESTROYED,r=e.CONTAINER_FULLSCREEN,i=this.core.activeContainer;this.plugin.listenTo(i,n,(),this.plugin.listenTo(i,o,(),this.plugin.listenTo(i,r,(function(){t._fullscreen=!t._fullscreen,t.notify({type:r,payload:t._fullscreen})})),this.logger.info("Finished active container observers setup.")},e}(h);var w,_=/Android|Mobile|webOS|iPhone|iPad|Opera Mini/i,E=n(122);!w||(w={}));var m="dd_plugin_logging",A=function(){eturn t.prototype.debug=function(t){this.log(t,w.LEVEL_DEBUG)},t.prototype.info=function(t){this.log(t,w.LEVEL_INFO)},t.prototype.warn=function(t){this.log(t,w.LEVEL_WARN)},t.prototype.error=t.prototype.log=function(t,e){var n,o;void 0===e&&(e=1),("true"===(null===(n=new URLSearchParams(window.location.search).get(m))||void 0===n?void 0:n.toLocaleLowerCase())||"true"===(null===(o=localStorage.getItem(m))||void 0===o?void 0:o.toLocaleLowerCase()))&&this.playerLogger.log("[BINGE-ADS-PLUGIN]",e,t)},t}(),O=),S=function(t){function e(e){var n,r=t.call(this,e)||this;return r.logger=new A(new window.Clappr.Log),r.core=e,r.bingeAdElement=new o.ZP(r.divId,r.logger,(),r.core.el.append(r.adDiv),r.bingeAdElement.setEventsListenerAd(null===(n=r.options.bingeAd)||void 0===n?void 0:n.eventListeners),r.setResizeObserver(),r.setupRenderListener(),r.setupObservers(),r.setupEventListener(),r}return O(e,t),Object.defineProperty(e.prototype,"name",{get:enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"divId",{get:function(){return"".concat(o.$W).concat(this.options.playerId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"adDiv",{get:enumerable:!1,configurable:!0}),e.prototype.setupEventListener=function(){var t=this;window.addEventListener(o.sT,(),window.addEventListener(o.uH,(function(){var e,n;(0,E.fv)(null===(n=null===(e=t.options.bingeAd)||void 0===e?void 0:e.eventListeners)||void 0===n?void 0:n.onBingeAdHide),t.bingeAdElement.hide()}))},e.prototype.resizeAd=e.prototype.setupObservers=function(){var t=new b(this);this._setContainerObservers(t)},e.prototype.retrievePlayer=function(){var t=this;return window.WM.PlayerManager.find(()._instance},e.prototype._setContainerObservers=function(t){t.subscribe(new f(this)),t.subscribe(new l(this)),t.subscribe(new p(this)),t.subscribe(new u(this))},e.prototype.showBingeAd=function(){var t;t=null===navigator||void 0===navigator?void 0:navigator.userAgent,_.test(t)||this.adDiv&&this.renderBanner()},e.prototype.setupRenderListener=function(){var t=this;this.logger.info("Setting render listener for divId ".concat(this.adDiv.id,".")),(0,r.ab)((function(e){var n,o;e.isEmpty||e.slot.getSlotElementId()===t.adDiv.id&&(function(e){var n=t.core.el.getBoundingClientRect(),o=n.width,r=n.height;t.bingeAdElement.pushSlot(e),t.bingeAdElement.setFrameSize({width:o,height:r}),t.bingeAdElement.show()}(e.slot),(0,E.fv)(null===(o=null===(n=t.options.bingeAd)||void 0===n?void 0:n.eventListeners)||void 0===o?void 0:o.onBingeAdImpression),t.logger.info("Impression for BingeAd with div: ".concat(t.adDiv.id,".")))}),this.adDiv.id,this.options,this.logger),this.logger.info("Finished setting render listener for divId ".concat(this.adDiv.id,"."))},e.prototype.renderBanner=function(){var t=this,e=t.options,n=t.logger,o=t.adDiv.id;this.logger.info("Called bannerLazyLoading for div with id ".concat(this.adDiv.id,".")),(0,r.GA)({divId:o,options:e,logger:n})},e.prototype.setResizeObserver=function(){var t=this,e=new ResizeObserver((function(e){t.bingeAdElement&&e.forEach((function(e){var n=e.contentRect,o=n.width,r=n.height;t.bingeAdElement.setFrameSize({width:o,height:r})}))}));return e.observe(this.core.el),e},e.pluginName="BingeAdsPlugin",e}(window.Clappr.UICorePlugin);const L=S},122:(t,e,n)=>{unction r(t){var e=t.event,n=t.listeners;"CLICK"===e.data.type&&o(n.onBingeAdClick)}n.d(e,{fv:()=>o,Cv:)}},o={};.d=r.g=),r.o=t=r(807),e=r(260),(0,t._w)(),window.BingeAdsPlugin=function(){return{plugin:r(267).Z,showBingeAd:e.UN,hideBingeAd:e.R2,isRendered:e.wI}}})();