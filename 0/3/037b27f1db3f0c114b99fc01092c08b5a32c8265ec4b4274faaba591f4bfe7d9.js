(function(){var n="0.2.1",t,a="undefined",e=25,r=parseInt(1e3/e),o=t,i={"function":!0,object:!0},s={DEBUG_MODE:!1,counterID:"500",instanceID:"externalConf###Instanceid"},c=u="HISTATS_CANVAS_DEBUG_ON";s.DEBUG_MODE=c(window[u])&&1==window[u];var f=function(){return s.instanceID},d="_HistatsCounterGraphics_",A,l=function(){return d+s.counterID},h=v=g=function(a,e){var i=a||{};try{var u=f={ANIMATION_RUNNING_STATUS:!0,ANIMATION_STARTED:!1,AUTOSTART:u(i),_STOPPED:!1,INSTANCE_ID:"-"+parseInt(1e4*Math.random())},d=function(){return f.INSTANCE_ID},h=100,g=1,b=function(){return e.document},m=p=w=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||p,C=e["Date"]||{},T=i.getInstanceID=d;var S=l();i.IS_HISTATS_CANVAS=!0,i.globalObjectName=S,i.$window=e;var B=N={w:0,h:0,yBase:0,xBase:0,hasShadow:!1,hasLabel:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:1,doMouseOverOut:1},I={msLastFrameDrawn:0,msPerFrame:r,frameCounter:0,isInAnimationTransition:!1,animation_duration_inFrames:20,waitframesBetweenTwoAnimations:80,framesBetweenTwoAnimations:100,currentLoopFrame:0,autoTriggerTextChange_onFrame:t,customization:{}},x={domCanvasObject:null,canvas2dContext:null,canvasProperties:N},O=),_=E=F=y=[],P=D=U=R=M=k=G=L=Y=Q=j=H=function(n,t,a){t.addEventListener?t.addEventListener(n,a,!1):t.attachEvent?t.attachEvent("on"+n,a):t[n]=a},K=q=X=J=Z=V=O.subscribe("setAnimationProperties",,O.subscribe("draw-callback-publish-reconfiguration",,O.subscribe("configuration-changed",;var z=W=$=nn=tn=an=en=rn=O.subscribe("setCanvasProperties",rn,10);var on=O.subscribe("clear-canvas-rectangle",on,10);var sn=cn=un=O.subscribe("draw-callback-requested-reconfiguration",un,15),i.__CODE_VERSION=n,i.getCanvasObject=W,i.getCanvas2dContext=function(){return W().canvas2dContext},i.onCanvas2dContext=an,i.getXYCanvas=i.addDrawCallback=q,i.getCanvasProperties=i.setCanvasProperties=i.updateCanvasProperties=i.getAnimationFrames=function(){return I.frameCounter},i.getAnimationControl=function(){return I},i.setAnimationControl=function(n){for(var t in n)n.hasOwnProperty(t)&&(I[t]=n[t])},i.start=K,i.changeRunningStatus=z,i.getRunningStatus=function(){return f.ANIMATION_RUNNING_STATUS},i.eventBus=O,i.getDebugMode=function(){return s.DEBUG_MODE},function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var t=n.bars={},a=!1,e=3,r=1,o=0,i=[2,5,10];n.eventBus.subscribe("set-bars-params",function(t){f(t),n.eventBus.publish("configuration-changed",{})});var s=[],c={xBase:5,yBase:13,hMin:2,hMax:10,w:4,barsColours:[["#3e8bfd","#2572e4"],["#feb23f","#dc901d"],["#d83f3f","#b41b1b"]],parent:n},u=function(){return c},f=d=function(n){a=!0;for(var t=0;t<e;t++)n.push({x:t*(c.w+1),y:0,width:c.w,height:i[t],animateDirection:r,gradient:null,gradientStart:c.barsColours[t][0],gradientEnd:c.barsColours[t][1]})},A=function(t){var a=.5,e=t.height,i=n.getXYCanvas();t.animateDirection==r&&e>=c.hMax?t.animateDirection=o:t.animateDirection==o&&e<=c.hMin&&(t.animateDirection=r),e+=a*(t.animateDirection==r?1:-1),t.y=c.yBase-e+i.y,t.height=e},l=function(t){return function(a){var e=n.getXYCanvas();a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,a.beginPath(),a.fillStyle=g(t,a),a.fillRect(e.x+c.xBase+t.x,t.y,t.width,t.height)}},h=n.eventBus.subscribe("draw-callback-requested-reconfiguration",h,11);var v=function(){a||d(s);for(var t in s)if(s.hasOwnProperty(t)){var e=s[t];A(e),n.onCanvas2dContext(l(e))}},g=function(t,a){var e=n.getXYCanvas(),r=c.xBase,o=a.createLinearGradient(r+t.x+e.x,t.y,r+t.x+t.width,t.height+t.y);return o.addColorStop(0,t.gradientStart),o.addColorStop(1,t.gradientEnd),o};t.getBoxProperties=u,t.setBoxProperties=f,t.transformBarsColour=t.draw=v}.call(i),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var t=n.effectLightLine={},a=e={x:0,y:0,width:0,height:0,colorStops:[]},r=function(n){var t=n.createLinearGradient(e.x,e.y,e.x+e.width,e.y);e.colorStops.forEach(,n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height)};t.addColorStop=a,t.draw=r,t.getProperties=function(){return e},t.setProperties=.call(i),call(i),function(){var n=this;n.IS_HISTATS_CANVAS||(n={});var a=n.counter={};a.ID="500",a.properties={w:95,h:16,hasShadow:!0};var e=!1,r={backgroundImageObject:t},o={xBase:3,yBase:13,barsColours:[["#8ab9fd","#117ae3"],["#fec745","#eb8a26"],["#76fd1c","#3db31c"]]},i={animation_duration_inFrames:20,autoTriggerTextChange_onFrame:10,waitframesBetweenTwoAnimations:110};n.eventBus.publish("setCanvasProperties",a.properties),n.eventBus.publish("setAnimationProperties",i),n.eventBus.publish("set-bars-params",o);var s={light:{x:0,y:0,w:10,h:16,movementsPerFrame:1,xStart:0,xEnd:85}},c=function(n){var t=s;t.light.movementsPerFrame=(s.light.xEnd-s.light.xStart)/i.animation_duration_inFrames};c(i.animation_duration_inFrames);var u=function(t){var a=s,e=n.getXYCanvas();a.light.x+=a.light.movementsPerFrame;var r=t.createLinearGradient(e.x+a.light.x,e.y+a.light.y,e.x+a.light.x+a.light.w,e.y+a.light.y);r.addColorStop(0,"rgba(255,255,255,0)"),r.addColorStop(.5,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=r,t.fillRect(e.x+a.light.x,e.y+a.light.y,a.light.w,a.light.h)},f=d=function(n,t){var a=s;t.isInAnimationTransition?u(n):a.light.x=a.light.xStart},A=return n.eventBus.subscribe("draw-callback-requested-reconfiguration",A,13),n.eventBus.subscribe("background-image-loaded",13),n}.call(i),f.AUTOSTART&&i.start()}catch(fn){}return i},b="base.js",m=window,p="_DEBUG_HISTATSCANVAS_RETURN_BUILDER";_value_RETURN_BUILDER=c(window[p])&&window[p]===!0,window[l()]=g,window["histats_canvascounters_"+b]=g}).call(this);