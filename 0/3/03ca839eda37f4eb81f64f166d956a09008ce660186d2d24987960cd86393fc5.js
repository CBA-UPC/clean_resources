(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[3917],{83917:(t,e,n)=>{"use strict";n.d(e,{m:);var o,a,r=n(3e4),i=(n(91938),n(76955)),s=n(29466),c=n.n(s),p=n(55382),l=n.n(p),u=n(45525),d=n(75457),g=n(99620),m=n.n(g),f=n(52441),h=n.n(f),b=n(29842),y=n(14241),v=n(27280),I=n(38160),_=n(8824),x=n.n(_),T=n(79484),k=n(29899),B=n(10793);function O(t){var e,{amebaId:n,amebloOneTimeToken:s,blog:c,cancelIineRequest:p,entry:u,executeIineRequest:d,fetchIineRequest:g,iine:f,isOfficial:_,pageType:O,trackTapLog:C}=t,[w,Z]=(0,i.useState)(0),j=(0,i.useCallback)((,[Z]),N=(0,i.useCallback)((()=>{var t=f.result;return y.$.SUCCESS===t||y.D.SUCCESS===t}),[f.result]);(0,i.useEffect)((,[j,N]);var R=(0,b.M)(c,u),L=f.result||"";if(!R.canIine||""===L||L===y.D.FAIL)return null;var S=f.exist||!1;return(0,r.Z)("div",{className:x().Block,"data-uranus-component":"entryActionItem"},void 0,(0,r.Z)("p",{"data-uranus-component":"entryButton"},void 0,(0,r.Z)(B.f,{pageId:O,sectionId:"iine",serviceId:_?"official":"general",tapLogger:C},void 0,(0,r.Z)("button",{className:l()(x().ButtonWrap,S?x().ButtonActionDone:""),onClick:()=>{var t=u.entry_id,e=f.exist,o=f.actionEnable,a=f.isLogin;if(N()){if(!a){var r="bnm=".concat(n,"&eid=").concat(t,"&from=entry&ambf=rg");return s&&(r+="&token=".concat(s)),void(window.top.location.href="".concat(I.qD,"?").concat(r))}o&&(e?p(n,t,"pc"):d(n,t,"pc"))}else g(n,t)}},void 0,(()=>{var t=f.iineCount||0,n=t>0,s=f.exist,c=f.result||"";return y.$.OVER_LIMIT===c?(0,r.Z)(i.Fragment,{},void 0,(0,r.Z)(m(),{className:x().CautionIcon,"data-uranus-component":"entryButtonIcon","data-uranus-icon":"attention large hasLabel"}),(0,r.Z)("span",{className:x().ButtonText},void 0,v.GJ.IINE_FAILD),o||(o=(0,r.Z)("br",{})),(0,r.Z)("span",{className:x().Failed},void 0,v.GJ.OVER_LIMIT)):N()?(0,r.Z)(i.Fragment,{},void 0,(0,r.Z)(h(),{"aria-hidden":!0,className:s?l()(x().IineIcon,x().AlreadyIineIcon):x().IineIcon,"data-uranus-component":"entryButtonIcon","data-uranus-icon":"iine large hasLabel"}),s?(0,r.Z)("span",{className:x().AlreadyButtonText},void 0,v.GJ.ALREADY_IINE):(0,r.Z)("span",{className:x().ButtonText},void 0,v.GJ.IINE),n?(0,r.Z)("span",{className:x().IineCount,"data-uranus-component":"entryButtonCount"},void 0,t):null):(0,r.Z)(i.Fragment,{},void 0,(0,r.Z)(m(),{className:x().CautionIcon,"data-uranus-component":"entryButtonIcon","data-uranus-icon":"attention large hasLabel"}),(0,r.Z)("span",{className:x().ButtonText},void 0,v.GJ.IINE),a||(a=(0,r.Z)("br",{})),(0,r.Z)("span",{className:x().Failed},void 0,v.GJ.REFRESH),e||(e=(0,r.Z)(T.n,{count:w,id:k.vS,offsetTop:k.gQ,position:"topCenter",text:"\u3044\u3044\u306d\uff01\u304c\u3067\u304d\u307e\u305b\u3093"})))})()))))}function C(t,e){return!(t.amebaId!==e.amebaId||t.amebloOneTimeToken!==e.amebloOneTimeToken||t.isOfficial!==e.isOfficial||t.pageType!==e.pageType||t.trackTapLog!==e.trackTapLog||c()(t.blog,e.blog)||c()(t.cancelIineRequest,e.cancelIineRequest)||c()(t.entry,e.entry)||c()(t.executeIineRequest,e.executeIineRequest)||c()(t.fetchIineRequest,e.fetchIineRequest)||c()(t.iine,e.iine))}O.defaultProps={amebloOneTimeToken:""};var w,Z,j,N,R,L,S,q,E,W=(0,u.w1)([x()])(i.memo(O,C)),A=n(59801),J=n.n(A),P=n(98510),z=n.n(P),U=(0,u.w1)(z())((j=Z=class extends i.Component{houldComponentUpdate(t){return this.props.amebaId!==t.amebaId||this.props.isOfficial!==t.isOfficial||this.props.pageType!==t.pageType||this.props.trackTapLog!==t.trackTapLog||!c()(this.props.blog,t.blog)||!c()(this.props.entry,t.entry)}handleCommentButtonClick(t){if(t.preventDefault(),"undefined"!=typeof window){var{amebaId:e,entry:n}=this.props,o="eid=".concat(n.entry_id,"&bnm=").concat(e),a="".concat(window.process.env.HTTP_PATH_COMMENT_AMEBA,"/form?").concat(o),r={width:536,height:675,scrollbars:"yes",resizable:"yes"},i="";Object.keys(r).forEach((t=>{i="".concat(i,",").concat(t,"=").concat(r[t])})),window.open(a,"childWindow",i)}}render(){var{blog:t,entry:e}=this.props;if(!(0,b.M)(t,e).canComment)return null;var n=e.commentCnt||0;return(0,r.Z)("div",{className:z().Block,"data-uranus-component":"entryActionItem"},void 0,(0,r.Z)("p",{className:z().ButtonWrap,"data-uranus-component":"entryButton"},void 0,(0,r.Z)(B.f,{pageId:this.props.pageType,sectionId:"comment",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,r.Z)("a",{className:z().Button,href:"",role:"button",tabIndex:"0",onClick:this.handleCommentButtonClick},void 0,(0,r.Z)(J(),{"aria-hidden":!0,className:l()("commentWinOpenBtn",z().Icon),"data-uranus-component":"entryButtonIcon","data-uranus-icon":"comment large hasLabel"}),"\u30b3\u30e1\u30f3\u30c8\u3059\u308b",n>0&&(0,r.Z)("span",{className:z().CommentCnt,"data-uranus-component":"entryButtonCount"},void 0,n)))))}},Z.displayName="PcEntryCommentButton",w=j))||w,D=n(66680),M=n.n(D),Q=n(99626),G=n.n(Q),F=(0,u.w1)(G())((L=R=class extends i.Component{shouldComponentUpdate(t){return this.props.amebaId!==t.amebaId||this.props.isOfficial!==t.isOfficial||this.props.pageType!==t.pageType||this.props.trackTapLog!==t.trackTapLog||!c()(this.props.blog,t.blog)||!c()(this.props.entry,t.entry)}render(){var{amebaId:t,blog:e,entry:n}=this.props;if(!(0,b.M)(e,n).canReblog)return null;var o=n.reblogCnt||0,a="reblog_ameba_id=".concat(t,"&reblog_entry_id=").concat(n.entry_id,"&entry_title=").concat(encodeURIComponent(n.entry_title)),i="".concat(I.qD,"?").concat(a);return(0,r.Z)("div",{className:G().Block,"data-uranus-component":"entryActionItem"},void 0,(0,r.Z)("p",{className:G().Button,"data-uranus-component":"entryButton"},void 0,(0,r.Z)(B.f,{pageId:this.props.pageType,sectionId:"reblog",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,r.Z)("a",{className:l()("reblogEditBtn",G().ButtonInner),href:i},void 0,(0,r.Z)(M(),{"aria-hidden":!0,className:G().Icon,"data-uranus-component":"entryButtonIcon","data-uranus-icon":"reblog medium hasLabel"}),"\u30ea\u30d6\u30ed\u30b0\u3059\u308b",o>0&&(0,r.Z)("span",{className:G().ReblogCnt,"data-uranus-component":"entryButtonCount"},void 0,o)))))}},R.displayName="PcEntryReblogButton",N=L))||N,V=n(87503),X=n.n(V),H=(0,u.w1)(X())((E=q=class extends i.Component{houldComponentUpdate(t){return!(this.props.amebaId===t.amebaId&&this.props.amebloOneTimeToken===t.amebloOneTimeToken&&this.props.isOfficial===t.isOfficial&&this.props.pageType===t.pageType&&this.props.trackTapLog===t.trackTapLog&&c()(this.props.blog,t.blog)&&c()(this.props.cancelIineRequest,t.cancelIineRequest)&&c()(this.props.entry,t.entry)&&c()(this.props.executeIineRequest,t.executeIineRequest)&&c()(this.props.fetchIineRequest,t.fetchIineRequest)&&c()(this.props.iine,t.iine))}render(){return this.props.entry&&this.props.entry.entry_id&&this.props.entry.entry_text&&"mon_ng"!==this.props.entry.closed_flg?(0,r.Z)("div",{className:l()(this.props.pageType===d.Z.Entry?"js-popup-reblog-trigger":"",X().Block),"data-uranus-component":"entryAction"},void 0,(0,r.Z)(W,{amebaId:this.props.amebaId,amebloOneTimeToken:this.props.amebloOneTimeToken,blog:this.props.blog,cancelIineRequest:this.props.cancelIineRequest,entry:this.props.entry,executeIineRequest:this.props.executeIineRequest,fetchIineRequest:this.props.fetchIineRequest,iine:this.props.iine,isOfficial:this.props.isOfficial,pageType:this.props.pageType,trackTapLog:this.props.trackTapLog}),(0,r.Z)(U,{amebaId:this.props.amebaId,blog:this.props.blog,entry:this.props.entry,isOfficial:this.props.isOfficial,pageType:this.props.pageType,trackTapLog:this.props.trackTapLog}),(0,r.Z)(F,{amebaId:this.props.amebaId,blog:this.props.blog,entry:this.props.entry,isOfficial:this.props.isOfficial,pageType:this.props.pageType,trackTapLog:this.props.trackTapLog})):null}},q.displayName="PcEntryReactions",S=E))||S},96721:(t,e,n)=>{var o=n(18300)((function(t){return t[1]}));o.push([t.id,"._2HoOe-JT{box-sizing:border-box;display:inline-block;max-width:140px;padding:0 4px;vertical-align:top;width:33.3%}._3s1cJVAX{color:#333!important;cursor:pointer;font-size:13px;text-align:center}._2jjeqpvW,._3s1cJVAX{box-sizing:border-box;vertical-align:middle}._2jjeqpvW{background-color:#fff;border:1px solid #ccc;color:inherit!important;display:table-cell;height:50px;text-decoration:none;width:140px}._2jjeqpvW:hover{background-color:#f5f5f5!important;opacity:1;text-decoration:none}._9r4eIOjU{color:#298737!important;font-size:1.75em;margin-right:.25em;vertical-align:-.3em}._1QGhckTY{color:rgba(8, 18, 26, 0.61)!important;display:block;font-size:10px;line-height:1}",""]),o.locals={Block:"_2HoOe-JT",ButtonWrap:"_3s1cJVAX",Button:"_2jjeqpvW",Icon:"_9r4eIOjU",CommentCnt:"_1QGhckTY"},t.exports=o},1074:(t,e,n)=>{var o=n(18300)((function(t){return t[1]}));o.push([t.id,"._3QgX3_nv{display:inline-block;max-width:140px;padding-right:4px;vertical-align:top;width:33.3%}._3QgX3_nv,._3vorwv2B{box-sizing:border-box}._3vorwv2B{background-color:#fff;border:1px solid #ccc;cursor:pointer;display:block;font-size:13px;height:50px;padding:0;text-align:center;text-decoration:none!important;user-select:none;vertical-align:middle;width:100%}._3vorwv2B:hover{background-color:#f5f5f5!important;opacity:1;text-decoration:none}._2DgKV0fy{color:#333}._2lxCCrBl{color:#999}._NtQT7Pjv{color:#298737!important;font-size:1.65em}._NtQT7Pjv,._3piWl8lj{margin-right:.25em;vertical-align:-.3em}._3piWl8lj{color:#298737;font-size:1.55em}._2m9Etwbc{color:#999}._3BBUXdYJ{color:rgba(8, 18, 26, 0.61)!important;display:block;font-size:10px;line-height:1}._gM7gWUjb{background-color:#e2e2e2!important}._gM7gWUjb ._riC-3cbS,._gM7gWUjb [data-uranus-component=entryButtonIcon]{color:#999!important}._1rIcOMZI{color:#999;font-size:10px}",""]),o.locals={Block:"_3QgX3_nv",ButtonWrap:"_3vorwv2B",ButtonText:"_2DgKV0fy",AlreadyButtonText:"_2lxCCrBl",CautionIcon:"_NtQT7Pjv",IineIcon:"_3piWl8lj",AlreadyIineIcon:"_2m9Etwbc",IineCount:"_3BBUXdYJ",ButtonActionDone:"_gM7gWUjb",Button:"_riC-3cbS",Failed:"_1rIcOMZI"},t.exports=o},47086:(t,e,n)=>{var o=n(18300)((function(t){return t[1]}));o.push([t.id,"._Boy-3V2D{margin-bottom:14px;text-align:right}",""]),o.locals={Block:"_Boy-3V2D"},t.exports=o},48249:(t,e,n)=>{var o=n(18300)(();o.push([t.id,"._3sItUfko{box-sizing:border-box;display:inline-block;max-width:140px;padding-left:4px;vertical-align:top;width:33.3%}._1c6eSTJQ{color:#333;cursor:pointer;font-size:13px;text-align:center}._1c6eSTJQ,._2osjSJu0{box-sizing:border-box;vertical-align:middle}._2osjSJu0{background-color:#fff;border:1px solid #ccc;color:inherit!important;display:table-cell;height:50px;text-decoration:none;width:140px}._2osjSJu0:hover{background-color:#f5f5f5!important;opacity:1;text-decoration:none}._1NpNWxWy{color:#298737!important;font-size:1.4em;margin-right:.25em;vertical-align:-.3em}._2GKD8_Tw{color:rgba(8, 18, 26, 0.61)!important;display:block;font-size:10px;line-height:1}",""]),o.locals={Block:"_3sItUfko",Button:"_1c6eSTJQ",ButtonInner:"_2osjSJu0",Icon:"_1NpNWxWy",ReblogCnt:"_2GKD8_Tw"},t.exports=o},98510:(t,e,n)=>{var o=n(96721),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=Object.defineProperty||function(t,e,n){t[e]=n.value};"string"==typeof o&&(o=[[t.id,o,""]]),t.exports=function(t){var e=a({},t.locals||{});return r(e,"_",{value:function(){return t}}),r(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(o)},8824:(t,e,n)=>{var o=n(1074),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=Object.defineProperty||function(t,e,n){t[e]=n.value};"string"==typeof o&&(o=[[t.id,o,""]]),t.exports=function(t){var e=a({},t.locals||{});return r(e,"_",{value:function(){return t}}),r(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(o)},87503:(t,e,n)=>{var o=n(47086),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=Object.defineProperty||function(t,e,n){t[e]=n.value};"string"==typeof o&&(o=[[t.id,o,""]]),t.exports=function(t){var e=a({},t.locals||{});return r(e,"_",{value:function(){return t}}),r(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(o)},99626:(t,e,n)=>{var o=n(48249),a=Object.assign||r=Object.defineProperty||"string"==typeof o&&(o=[[t.id,o,""]]),t.exports=function(t){var e=a({},t.locals||{});return r(e,"_",{value:),r(e,"toString",{value:function(){return"function"==typeof t.toString?t.toString():""}}),e}(o)}}]);