import{a as O}from"./vuex.esm-bundler_aa359dca_r24-02-0_b0_t240129-161140.js";import{L as p,A as o,B as c,O as k,a7 as m,I as h,a8 as f,G as u,aa as B,_ as y,H as T,R as P,S as x,D as b,F as A,N as U,W as D,V as _}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";import{aE as d,b as E,aG as F,u as N}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import{s as R}from"./cmsContentHelper_f68cc642_r24-02-0_b0_t240129-161140.js";import{i as V,h as X,a as G,c as M}from"./csrGlobalStoreCMSSitewide_0c2e7b56_r24-02-0_b0_t240129-161140.js";import{m as L}from"./cmsModuleRegistration_b77ac863_r24-02-0_b0_t240129-161140.js";import{t as I}from"./tinycolor_ea5bcbb6_r24-02-0_b0_t240129-161140.js";import{o as j}from"./objectHasKeys_aced35f1_r24-02-0_b0_t240129-161140.js";import{V as q}from"./VCmsMediaSSR_1101c01c_r24-02-0_b0_t240129-161140.js";import{_ as S}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";import{w as z}from"./performanceMonitor_a4992bdd_r24-02-0_b0_t240129-161140.js";import{S as Y}from"./SvgIcon_e55bd28a_r24-02-0_b0_t240129-161140.js";import"./typeOf_b861069e_r24-02-0_b0_t240129-161140.js";import"./i18n_4b81f106_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreAppState_f9ff4bfa_r24-02-0_b0_t240129-161140.js";import"./eventBus_552c1ba1_r24-02-0_b0_t240129-161140.js";import"./safariCheck_11313f0b_r24-02-0_b0_t240129-161140.js";import"./LscoLazyLoadDirective_02fa23a1_r24-02-0_b0_t240129-161140.js";import"./VResponsivePicture_fb50e2e9_r24-02-0_b0_t240129-161140.js";import"./imageUtils_fcbf42ca_r24-02-0_b0_t240129-161140.js";import"./VLinkWrapper_89f0cc15_r24-02-0_b0_t240129-161140.js";const W={mixins:[j],data:()=>({fadeScrollObserver:{},classnameBgColorTransparent:d.BG_SECTION_TRANSPARENT}),components:{VCmsMediaSSR:q},props:{background_color:{type:String,required:!1,default:""},background_image:{type:Object,default:()=>({}),required:!1},background_image_desktop:{type:Object,default:()=>({}),required:!1},fade_scroll_effect_enabled:{type:Boolean,required:!1,default:!1},fade_scroll_effect_margin:{type:Number,required:!1,default:20}},computed:{useFadeScroll(){return typeof IntersectionObserver=="function"&&this.fade_scroll_effect_enabled&&this.bgColorCssString},safeMargin(){return typeof this.fade_scroll_effect_margin=="number"&&this.fade_scroll_effect_margin>=0&&this.fade_scroll_effect_margin<=49?this.fade_scroll_effect_margin:20},backgroundImage(){var e;return(e=this.background_image)!=null&&e.imageBaseUrl?this.background_image:null},backgroundImageDesktop(){var e;return(e=this.background_image_desktop)!=null&&e.imageBaseUrl?this.background_image_desktop:null},sectionClassnameBgColorMode(){return this.bgColorCssString?this.useFadeScroll?"bgcolor-fadescroll":"bgcolor-simple":`nobgcolor ${d.BG_SECTION_TRANSPARENT}`},sectionClassnameBgColorLightDark(){return this.useFadeScroll?"":this.classnameBgColorLightDark},classnameBgColorLightDark(){return this.bgColorCssString?I(this.bgColorCssString).isDark()?d.BG_SECTION_DARK:d.BG_SECTION_LIGHT:""},bgColorCssString(){return I(this.background_color).isValid()?this.background_color:""},scrimColorCssString(){const a=this.bgColorCssString||"#000000",r=I(a),i=r.getLuminance(),n=r.isDark();if(!n&&i<=.7)for(;r.getLuminance()<=.7;)r.lighten(5);if(n&&i>=.3)for(;r.getLuminance()>=.3;)r.darken(5);return r.setAlpha(.4).toString()}},methods:{initializeFadeScrollObserver(){this.fadeScrollObserver=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:`-${this.safeMargin}% 0%`,threshold:0}),this.fadeScrollObserver.observe(this.$refs.bgcolorSection)},handleIntersection(e){e.some(s=>s.isIntersecting)?(this.$refs.bgcolorSection.classList.add(d.ACTIVE),this.$refs.bgcolorSection.classList.add(this.classnameBgColorLightDark)):(this.$refs.bgcolorSection.classList.remove(d.ACTIVE),this.$refs.bgcolorSection.classList.remove(this.classnameBgColorLightDark))}},mounted(){this.useFadeScroll&&this.$nextTick().then(()=>this.initializeFadeScrollObserver())},beforeUnmount(){typeof this.fadeScrollObserver.disconnect=="function"&&this.fadeScrollObserver.disconnect()}},K=W,H={key:0,class:"section-background show-mobile"},J={key:1,class:"section-background hide-mobile"},Q={ref:"sectionWrapper",class:"section-content lsco-col-xs-25 lsco-col-md-25 lsco-col-lg-25"},Z={key:0};function ee(e,t,s,a,r,i){const n=p("VCmsMediaSSR");return o(),c("section",{ref:"bgcolorSection",class:y(["layout-section lsco-row lsco-row-xs--center",e.sectionClassnameBgColorMode,e.sectionClassnameBgColorLightDark])},[e.backgroundImage?(o(),c("div",H,[k(n,m({class:"section-background__media"},e.backgroundImage,{"column-width":25,"disable-fixed-aspect-ratio":!0}),null,16),h("div",{class:"section-background__scrim",style:f({background:e.scrimColorCssString})},null,4)])):u("",!0),e.backgroundImageDesktop?(o(),c("div",J,[k(n,m({class:"section-background__media"},e.backgroundImageDesktop,{"column-width":25,"disable-fixed-aspect-ratio":!0}),null,16),h("div",{class:"section-background__scrim",style:f({background:e.scrimColorCssString})},null,4)])):e.bgColorCssString?(o(),c("div",{key:2,class:"section-background",style:f({backgroundColor:e.bgColorCssString})},null,4)):u("",!0),h("div",Q,[e.$slots.default?(o(),c("span",Z,[B(e.$slots,"default",{},void 0,!0)])):u("",!0)],512)],2)}const te=S(K,[["render",ee],["__scopeId","data-v-fc4b481e"]]),se={provide(){return{providedCmsAnalyticsData:()=>this.getEnrichedModuleSettings()}},props:{contentTypeUid:{type:String,default:""},moduleData:{type:Object,default:void 0},modulePosition:{type:Number,default:0},sectionId:{type:String,default:""},publishDatePage:{type:String,default:""},publishDateLayout:{type:String,default:""}},data:()=>({hasBeenSeen:!1}),computed:{...T(E,["previewMode"]),moduleKey(){var t,s,a,r,i,n;return`${(s=(t=this.moduleData)==null?void 0:t.publish_details)==null?void 0:s.locale}-${(r=(a=this.moduleData)==null?void 0:a.publish_details)==null?void 0:r.time}-${(i=this.moduleData)==null?void 0:i.uid}-${(n=this.moduleData)==null?void 0:n._version}`},moduleMap(){return L},filteredData(){if(this.moduleData){const e={...this.moduleData};return F.forEach(t=>{delete e[t]}),e}return null}},methods:{getEnrichedModuleSettings(){var t,s,a,r;return{...((t=this==null?void 0:this.moduleData)==null?void 0:t.module_settings)||{},sectionId:this.sectionId||"",contentTypeUid:((s=this.moduleData)==null?void 0:s._content_type_uid)||"",publishDatePage:this.publishDatePage||"",publishDateLayout:this.publishDateLayout||"",publishDateModule:((r=(a=this.moduleData)==null?void 0:a.publish_details)==null?void 0:r.time)||"",modulePosition:this.modulePosition+1}},async visibilityChanged(e){var t,s;if(e&&!this.hasBeenSeen){this.hasBeenSeen=!0,await z;const a=this.getEnrichedModuleSettings();(s=(t=window==null?void 0:window.lsanalytics)==null?void 0:t.track)==null||s.call(t,"Internal Campaign Impression",{story_name:a.story_name||"",story_purpose:a.story_purpose||"",scheduled_date_module:a.story_scheduled_launch||"",section_id:a.sectionId||"",module_type:a.contentTypeUid||"",publish_date_page:a.publishDatePage||"",publish_date_layout:a.publishDateLayout||"",publish_date_module:a.publishDateModule||"",module_position:a.modulePosition||99,preview:this.previewMode||!1})}}}};function re(e,t,s,a,r,i){const n=P("observe-visibility");return s.contentTypeUid&&i.filteredData?x((o(),b(A(i.moduleMap[s.contentTypeUid]),m({key:0},i.filteredData,{key:i.moduleKey}),null,16)),[[n,{callback:i.visibilityChanged,once:!0}]]):u("",!0)}const ae=S(se,[["render",re]]);const ie={components:{SvgIcon:Y},props:{separator:{type:Object,default:void 0},spacer:{type:Object,default:void 0}},computed:{isSeparator(){var e,t,s;return!!((s=(e=this.separator)==null?void 0:(t=e.separator_style).startsWith)!=null&&s.call(t,"Separator-"))},separatorSvgName(){var e,t,s;return((s=(e=this.separator)==null?void 0:(t=e.separator_style).toLowerCase)==null?void 0:s.call(t))||""},separatorSvgColor(){var t,s,a;const[e]=((a=(t=this.separator)==null?void 0:(s=t.separator_color).match)==null?void 0:a.call(s,/^#[A-Fa-f0-9]{6}$/))??["#767676"];return e},separatorSvgClassname(){var t;let e="";switch((t=this.separator)==null?void 0:t.separator_style){case"Separator-Squiggle":e="lsco-col-xs-9 lsco-col-md-3";break;case"Separator-XXXX":e="lsco-col-xs-7 lsco-col-md-3";break;case"Separator-Line":e="lsco-col-xs-17 lsco-col-md-5";break}return e},spacerClassname(){var t;const e=(t=this.spacer)==null?void 0:t.spacer_style;return e?`cms-spacer cms-spacer--${e}`:""}}},oe={key:0,class:"cms-spacer lsco-row lsco-row-xs--center"};function ne(e,t,s,a,r,i){const n=p("SvgIcon");return i.isSeparator?(o(),c("div",oe,[k(n,{name:i.separatorSvgName,class:y(["separator",i.separatorSvgClassname]),"fill-color":i.separatorSvgColor},null,8,["name","class","fill-color"])])):i.spacerClassname?(o(),c("div",{key:1,class:y(i.spacerClassname)},null,2)):u("",!0)}const ce=S(ie,[["render",ne]]);const le={inject:["mq"],components:{VCmsSectionBackground:te,VCmsModuleFacade:ae,VCmsSpacer:ce},data:()=>({tickerObserver:{},previousY:0}),props:{background:{type:Object,default:()=>({})},modules:{type:Array,default:()=>[]},sectionId:{type:String,default:""},publishDatePage:{type:String,default:""},publishDateLayout:{type:String,default:""},ticker:{type:Object,default:()=>({ticker_image_aem:{},ticker_alt_text:""})}},computed:{...T(N,["country"]),...O("auth",["authStatus"]),pubDatePage(){var e;return typeof this.publishDatePage=="string"&&((e=this.publishDatePage)==null?void 0:e.length)>0?this.publishDatePage:this.publishDateLayout},filteredModules(){var e,t,s;if((e=this.modules)!=null&&e.length){const a=(s=(t=this.modules)==null?void 0:t.filter)==null?void 0:s.call(t,r=>{var g;(r==null?void 0:r._content_type_uid)==="module_drops_v1"&&this.$store.commit("auth/updateAuthStateValue",{key:"isDropsPageVisible",value:!0},{root:!0});const i=typeof((g=r==null?void 0:r.module_settings)==null?void 0:g.custom_classname)=="string",n=!!(r!=null&&r.spacers);return V(r==null?void 0:r.visibility_restrictions,this.country)&&i&&n});if((a==null?void 0:a.length)>0)return a}return[]},moduleMap(){return L},tickerImageUrl(){var e,t;return(t=(e=this.ticker)==null?void 0:e.ticker_image_aem)!=null&&t.imageBaseUrl?this.ticker.ticker_image_aem.displayFileType==="STATIC"?this.ticker.ticker_image_aem.imageBaseUrl:this.ticker.ticker_image_aem.pxLength<=100&&this.ticker.ticker_image_aem.pxLength>0?this.mq.current==="mobile"?`${this.ticker.ticker_image_aem.imageBaseUrl}&hei=${Math.round(this.ticker.ticker_image_aem.pxLength/2)}`:`${this.ticker.ticker_image_aem.imageBaseUrl}&hei=${this.ticker.ticker_image_aem.pxLength}`:this.mq.current==="mobile"?`${this.ticker.ticker_image_aem.imageBaseUrl}&hei=50`:`${this.ticker.ticker_image_aem.imageBaseUrl}&hei=100`:""},showTicker(){var e,t;return!!(this.tickerImageUrl&&(!((e=this.modules)!=null&&e.length)||(t=this.filteredModules)!=null&&t.length))}},methods:{currentlyVisible(e){if(V(e,this.country)){if(!X(e))return!0;if(this.isMounted)return G(e,this.authStatus)}return!1},sanitizedCmsClassname(e){return e?R(e):""},handleIntersection(e){e.map(t=>{const s=t.boundingClientRect.y,a=this.$refs.tickerContainer,r=getComputedStyle(a);return s<this.previousY?a.style.backgroundPositionX=parseInt(r.backgroundPositionX,10)>=a.offsetWidth?"0px":`${parseInt(r.backgroundPositionX,10)-(this.previousY-s)}px`:a.style.backgroundPositionX=parseInt(r.backgroundPositionX,10)>=a.offsetWidth?"0px":`${parseInt(r.backgroundPositionX,10)+(s-this.previousY)}px`,this.previousY=s,e})},deviceVisibilityClass(e){return M(e)}},async mounted(){var e;if(this.tickerImageUrl){await this.$nextTick();const t=(e=this.$refs)==null?void 0:e.tickerContainer;if(window&&window.IntersectionObserver&&t){const a=(r=>Array(r+1).fill(0).map((i,n)=>n/r||0))(100);this.tickerObserver=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"0px",threshold:a}),this.tickerObserver.observe(t)}}},beforeUnmount(){var e;typeof((e=this==null?void 0:this.tickerObserver)==null?void 0:e.disconnect)=="function"&&this.tickerObserver.disconnect()}},ue={key:0},de=["aria-label","alt-text"],me={key:1},pe={key:0};function ge(e,t,s,a,r,i){const n=p("VCmsSpacer"),g=p("VCmsModuleFacade"),$=p("VCmsSectionBackground");return s.background&&i.filteredModules.length>0||i.showTicker?(o(),b($,m({key:0,class:i.showTicker?"ticker-section":""},s.background),{default:U(()=>[e.$slots.default?(o(),c("span",ue,[B(e.$slots,"default",{},void 0,!0)])):u("",!0),(o(!0),c(_,null,D(i.filteredModules,(l,w)=>(o(),c("div",{key:`thisModule-${w}`},[h("div",{class:y(["cmsmodule",l._content_type_uid,i.sanitizedCmsClassname(l.module_settings.custom_classname),i.deviceVisibilityClass(l.visibility_restrictions)])},[i.moduleMap[l._content_type_uid]&&i.currentlyVisible(l.visibility_restrictions)?(o(),c(_,{key:0},[l.spacers&&l.spacers.spacers_above&&l.spacers.spacers_above.length?(o(!0),c(_,{key:0},D(l.spacers.spacers_above,(C,v)=>(o(),b(n,m({key:`spacerabove-${v}`},C),null,16))),128)):u("",!0),k(g,{"content-type-uid":l._content_type_uid,"module-data":l,"module-position":w,"section-id":s.sectionId,"publish-date-page":i.pubDatePage,"publish-date-layout":s.publishDateLayout},null,8,["content-type-uid","module-data","module-position","section-id","publish-date-page","publish-date-layout"]),l.spacers&&l.spacers.spacers_below&&l.spacers.spacers_below.length>0?(o(!0),c(_,{key:1},D(l.spacers.spacers_below,(C,v)=>(o(),b(n,m({key:`spacerbelow-${v}`},C),null,16))),128)):u("",!0)],64)):u("",!0)],2)]))),128)),e.isMounted&&i.showTicker?(o(),c("div",{key:1,class:"ticker-container",ref:"tickerContainer","aria-label":`Ticker Image of ${s.ticker.ticker_alt_text}`,"alt-text":s.ticker.ticker_alt_text,style:f(i.tickerImageUrl?`background-image : url(${i.tickerImageUrl});`:"")},null,12,de)):u("",!0)]),_:3},16,["class"])):(o(),c("div",me,[e.$slots.default?(o(),c("span",pe,[B(e.$slots,"default",{},void 0,!0)])):u("",!0)]))}const Ue=S(le,[["render",ge],["__scopeId","data-v-d572d113"]]);export{Ue as default};
