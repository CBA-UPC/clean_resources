"use strict";(globalThis["webpackChunkconsumerhelpweb"]=globalThis["webpackChunkconsumerhelpweb"]||[]).push([[278],{5018:(e,n,t)=>{function o(){var e="/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/SupportRequestForm.vue",n="ed522d322d2057955a74e6f9ef726258b16c26f5",t=new Function("return this")(),l="__coverage__",r={path:"/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/SupportRequestForm.vue",statementMap:{0:{start:{line:1,column:13},end:{line:12,column:1}},1:{start:{line:1,column:39},end:{line:1,column:43}},2:{start:{line:1,column:47},end:{line:1,column:59}},3:{start:{line:1,column:60},end:{line:11,column:951}},4:{start:{line:1,column:282},end:{line:1,column:306}},5:{start:{line:1,column:306},end:{line:1,column:350}},6:{start:{line:1,column:1427},end:{line:1,column:1466}},7:{start:{line:1,column:1493},end:{line:1,column:1527}},8:{start:{line:1,column:1520},end:{line:1,column:1527}},9:{start:{line:1,column:1527},end:{line:1,column:1606}},10:{start:{line:7,column:112},end:{line:7,column:267}},11:{start:{line:7,column:174},end:{line:7,column:191}},12:{start:{line:7,column:220},end:{line:7,column:254}},13:{start:{line:7,column:255},end:{line:7,column:265}},14:{start:{line:7,column:269},end:{line:7,column:388}},15:{start:{line:7,column:407},end:{line:7,column:446}},16:{start:{line:7,column:633},end:{line:7,column:781}},17:{start:{line:11,column:170},end:{line:11,column:209}},18:{start:{line:11,column:236},end:{line:11,column:270}},19:{start:{line:11,column:263},end:{line:11,column:270}},20:{start:{line:11,column:270},end:{line:11,column:346}},21:{start:{line:13,column:22},end:{line:13,column:24}}},fnMap:{0:{name:"render",decl:{start:{line:1,column:22},end:{line:1,column:28}},loc:{start:{line:1,column:30},end:{line:12,column:1}},line:1},1:{name:"(anonymous_1)",decl:{start:{line:1,column:265},end:{line:1,column:266}},loc:{start:{line:1,column:281},end:{line:1,column:351}},line:1},2:{name:"(anonymous_2)",decl:{start:{line:1,column:1410},end:{line:1,column:1411}},loc:{start:{line:1,column:1426},end:{line:1,column:1467}},line:1},3:{name:"(anonymous_3)",decl:{start:{line:1,column:1476},end:{line:1,column:1477}},loc:{start:{line:1,column:1492},end:{line:1,column:1607}},line:1},4:{name:"(anonymous_4)",decl:{start:{line:7,column:75},end:{line:7,column:76}},loc:{start:{line:7,column:91},end:{line:7,column:389}},line:7},5:{name:"(anonymous_5)",decl:{start:{line:7,column:162},end:{line:7,column:163}},loc:{start:{line:7,column:173},end:{line:7,column:192}},line:7},6:{name:"(anonymous_6)",decl:{start:{line:7,column:198},end:{line:7,column:199}},loc:{start:{line:7,column:209},end:{line:7,column:266}},line:7},7:{name:"(anonymous_7)",decl:{start:{line:7,column:390},end:{line:7,column:391}},loc:{start:{line:7,column:406},end:{line:7,column:447}},line:7},8:{name:"(anonymous_8)",decl:{start:{line:7,column:616},end:{line:7,column:617}},loc:{start:{line:7,column:632},end:{line:7,column:782}},line:7},9:{name:"(anonymous_9)",decl:{start:{line:11,column:153},end:{line:11,column:154}},loc:{start:{line:11,column:169},end:{line:11,column:210}},line:11},10:{name:"(anonymous_10)",decl:{start:{line:11,column:219},end:{line:11,column:220}},loc:{start:{line:11,column:235},end:{line:11,column:347}},line:11}},branchMap:{0:{loc:{start:{line:1,column:355},end:{line:1,column:667}},type:"cond-expr",locations:[{start:{line:1,column:391},end:{line:1,column:658}},{start:{line:1,column:659},end:{line:1,column:667}}],line:1},1:{loc:{start:{line:1,column:668},end:{line:11,column:949}},type:"cond-expr",locations:[{start:{line:1,column:714},end:{line:11,column:940}},{start:{line:11,column:941},end:{line:11,column:949}}],line:1},2:{loc:{start:{line:1,column:1493},end:{line:1,column:1527}},type:"if",locations:[{start:{line:1,column:1493},end:{line:1,column:1527}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:1},3:{loc:{start:{line:7,column:220},end:{line:7,column:254}},type:"cond-expr",locations:[{start:{line:7,column:236},end:{line:7,column:244}},{start:{line:7,column:247},end:{line:7,column:254}}],line:7},4:{loc:{start:{line:7,column:330},end:{line:7,column:387}},type:"cond-expr",locations:[{start:{line:7,column:355},end:{line:7,column:368}},{start:{line:7,column:371},end:{line:7,column:387}}],line:7},5:{loc:{start:{line:7,column:790},end:{line:7,column:967}},type:"cond-expr",locations:[{start:{line:7,column:841},end:{line:7,column:958}},{start:{line:7,column:959},end:{line:7,column:967}}],line:7},6:{loc:{start:{line:11,column:236},end:{line:11,column:270}},type:"if",locations:[{start:{line:11,column:236},end:{line:11,column:270}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},7:{loc:{start:{line:11,column:353},end:{line:11,column:525}},type:"cond-expr",locations:[{start:{line:11,column:399},end:{line:11,column:516}},{start:{line:11,column:517},end:{line:11,column:525}}],line:11}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed522d322d2057955a74e6f9ef726258b16c26f5"},s=t[l]||(t[l]={});s[e]&&s[e].hash===n||(s[e]=r);var i=s[e];return o=function(){return i},i}t.r(n),t.d(n,{default:),o(),o().s[0]++;var l=function(){o().f[0]++;var e=(o().s[1]++,this),n=(o().s[2]++,e._self._c);return o().s[3]++,n("form",{ref:"contactForm",staticClass:"o-form c-help--emailJustEat",attrs:{method:"POST",novalidate:e.supportRequestForm.formState.noValidate,"data-test":"supportRequestForm"},on:{submit:function(n){return o().f[1]++,o().s[4]++,n.preventDefault(),o().s[5]++,e.submitForm.apply(null,arguments)}}},[e.supportRequestForm.alert.text?(o().b[0][0]++,n("div",{staticClass:"o-formAlert"},[n("f-alert",{attrs:{heading:e.supportRequestForm.alert.heading,type:e.supportRequestForm.alert.type}},[n("p",{attrs:{"data-test":"postResponseMessage"}},[e._v(" "+e._s(e.supportRequestForm.alert.text)+" ")])])],1)):(o().b[0][1]++,e._e()),e.supportRequestForm.formState.submitted?(o().b[1][1]++,e._e()):(o().b[1][0]++,n("div",[n("div",{staticClass:"o-formField",attrs:{"data-test":"orderIdInput"}},[n("label",{staticClass:"c-formField-label"},[e._v(" "+e._s(e.content.contact_support_request_input_order_number_label_text)+" "),n("small",[e._v(e._s(e.content.contact_support_request_input_order_number_label_text_detail))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.supportRequestForm.formData.orderId.value,expression:"supportRequestForm.formData.orderId.value"}],attrs:{type:"number",name:"orderId",placeholder:e.content.contact_support_request_input_order_number_placeholder_text},domProps:{value:e.supportRequestForm.formData.orderId.value},on:{change:function(n){return o().f[2]++,o().s[6]++,e.validateInput(n.target)},input:function(n){if(o().f[3]++,o().s[7]++,n.target.composing)return o().b[2][0]++,void o().s[8]++;o().b[2][1]++,o().s[9]++,e.$set(e.supportRequestForm.formData.orderId,"value",n.target.value)}}})])]),n("div",{staticClass:"o-formField",attrs:{"data-test":"queryTypeInput"}},[n("label",{staticClass:"c-formField-label"},[e._v(" "+e._s(e.content.contact_support_request_input_reason_label_text)+" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.supportRequestForm.formData.queryType.value,expression:"supportRequestForm.formData.queryType.value"}],class:[{"c-formField--invalid":!e.supportRequestForm.formData.queryType.valid},"c-formField-input"],attrs:{name:"queryType",required:"required"},on:{change:[function(n){o().f[4]++;var t=(o().s[10]++,Array.prototype.filter.call(n.target.options,().map((function(e){o().f[6]++;var n=(o().s[12]++,"_value"in e?(o().b[3][0]++,e._value):(o().b[3][1]++,e.value));return o().s[13]++,n})));o().s[14]++,e.$set(e.supportRequestForm.formData.queryType,"value",n.target.multiple?(o().b[4][0]++,t):(o().b[4][1]++,t[0]))},function(n){return o().f[7]++,o().s[15]++,e.validateInput(n.target)}]}},[n("option",{attrs:{disabled:"",value:""}},[e._v(" "+e._s(e.content.contact_support_request_input_reason_placeholder_text)+" ")]),e._l(e.queryTypes,(function(t){return o().f[8]++,o().s[16]++,n("option",{key:`reason_${t.id}`,domProps:{value:t.id,selected:t.selected}},[e._v(" "+e._s(t.displayName)+" ")])}))],2)]),e.supportRequestForm.formData.queryType.valid?(o().b[5][1]++,e._e()):(o().b[5][0]++,n("error-message",[e._v(" "+e._s(e.content.contact_support_request_input_reason_required_error_message)+" ")]))],1),n("div",{staticClass:"o-formField",attrs:{"data-test":"bodyInput"}},[n("label",{staticClass:"c-formField-label"},[e._v(" "+e._s(e.content.contact_support_request_input_detail_label_text)+" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.supportRequestForm.formData.body.value,expression:"supportRequestForm.formData.body.value"}],class:[{"c-formField--invalid":!e.supportRequestForm.formData.body.valid}],attrs:{name:"body",required:"required",maxlength:"10000"},domProps:{value:e.supportRequestForm.formData.body.value},on:{change:function(n){return o().f[9]++,o().s[17]++,e.validateInput(n.target)},input:function(n){if(o().f[10]++,o().s[18]++,n.target.composing)return o().b[6][0]++,void o().s[19]++;o().b[6][1]++,o().s[20]++,e.$set(e.supportRequestForm.formData.body,"value",n.target.value)}}})]),e.supportRequestForm.formData.body.valid?(o().b[7][1]++,e._e()):(o().b[7][0]++,n("error-message",[e._v(" "+e._s(e.content.contact_support_request_input_detail_required_error_message)+" ")]))],1),n("div",{staticClass:"o-formField is-fullWidth"},[n("f-button",{attrs:{"button-type":"primary","action-type":"submit","is-full-width":!0,disabled:e.supportRequestForm.formState.submitting,"is-loading":e.supportRequestForm.formState.submitting,"data-gtm":"engagement|form_email_justeat|click_send_email_justeat"}},[e._v(" "+e._s(e.content.contact_support_request_submit_button_text)+" ")])],1)]))])},r=(o().s[21]++,[]),s=t(629),i=t(945),a=t.n(i);t(560);function u(){var e="/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/utilities/analytics.js",n="bb3424e4f161a0da07a6dfe6e41a155e1b74d13c",t=new Function("return this")(),o="__coverage__",l={path:"/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/utilities/analytics.js",statementMap:{0:{start:{line:16,column:2},end:{line:16,column:43}},1:{start:{line:17,column:2},end:{line:22,column:4}}},fnMap:{0:{name:"trackEvent",decl:{start:{line:15,column:9},end:{line:15,column:19}},loc:{start:{line:15,column:45},end:{line:23,column:1}},line:15}},branchMap:{0:{loc:{start:{line:16,column:21},end:{line:16,column:43}},type:"binary-expr",locations:[{start:{line:16,column:21},end:{line:16,column:37}},{start:{line:16,column:41},end:{line:16,column:43}}],line:16}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bb3424e4f161a0da07a6dfe6e41a155e1b74d13c"},r=t[o]||(t[o]={});r[e]&&r[e].hash===n||(r[e]=l);var s=r[e];return u=function(){return s},s}function c(e,n,t){u().f[0]++,u().s[0]++,window.dataLayer=(u().b[0][0]++,window.dataLayer||(u().b[0][1]++,[])),u().s[1]++,window.dataLayer.push({event:"trackEvent",eventCategory:e,eventAction:n,eventLabel:t})}u();const m={trackEvent:c};var d=t(1101),A=t(504);function p(){var e="/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/SupportRequestForm.vue",n="90a794266c8b18b761b9aa96334c70e84a383270",t=new Function("return this")(),o="__coverage__",l={path:"/runner/_work/ConsumerHelpWebApp/ConsumerHelpWebApp/src/components/SupportRequestForm.vue",statementMap:{0:{start:{line:10,column:24},end:{line:10,column:37}},1:{start:{line:11,column:23},end:{line:16,column:1}},2:{start:{line:17,column:23},end:{line:20,column:1}},3:{start:{line:26,column:24},end:{line:26,column:98}},4:{start:{line:27,column:18},end:{line:27,column:78}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:40,column:4},end:{line:40,column:31}},7:{start:{line:51,column:32},end:{line:51,column:71}},8:{start:{line:51,column:59},end:{line:51,column:70}},9:{start:{line:53,column:6},end:{line:63,column:7}},10:{start:{line:54,column:26},end:{line:60,column:9}},11:{start:{line:62,column:8},end:{line:62,column:36}},12:{start:{line:67,column:6},end:{line:79,column:7}},13:{start:{line:72,column:26},end:{line:77,column:9}},14:{start:{line:78,column:8},end:{line:78,column:36}},15:{start:{line:82,column:22},end:{line:82,column:94}},16:{start:{line:83,column:6},end:{line:83,column:73}},17:{start:{line:86,column:22},end:{line:86,column:93}},18:{start:{line:87,column:6},end:{line:87,column:73}},19:{start:{line:91,column:6},end:{line:98,column:8}},20:{start:{line:92,column:8},end:{line:97,column:15}},21:{start:{line:93,column:10},end:{line:96,column:12}},22:{start:{line:101,column:24},end:{line:103,column:7}},23:{start:{line:104,column:6},end:{line:104,column:34}},24:{start:{line:107,column:6},end:{line:107,column:69}},25:{start:{line:111,column:6},end:{line:111,column:44}},26:{start:{line:112,column:6},end:{line:116,column:7}},27:{start:{line:117,column:6},end:{line:117,column:59}},28:{start:{line:118,column:6},end:{line:120,column:8}},29:{start:{line:119,column:8},end:{line:119,column:28}},30:{start:{line:123,column:22},end:{line:123,column:26}},31:{start:{line:124,column:29},end:{line:124,column:78}},32:{start:{line:125,column:6},end:{line:132,column:7}},33:{start:{line:127,column:34},end:{line:128,column:73}},34:{start:{line:127,column:61},end:{line:128,column:72}},35:{start:{line:129,column:8},end:{line:131,column:9}},36:{start:{line:130,column:10},end:{line:130,column:52}},37:{start:{line:133,column:6},end:{line:133,column:22}},38:{start:{line:136,column:24},end:{line:136,column:51}},39:{start:{line:137,column:6},end:{line:168,column:7}},40:{start:{line:140,column:10},end:{line:140,column:61}},41:{start:{line:141,column:10},end:{line:145,column:11}},42:{start:{line:146,column:10},end:{line:146,column:81}},43:{start:{line:147,column:10},end:{line:147,column:15}},44:{start:{line:150,column:10},end:{line:150,column:44}},45:{start:{line:151,column:10},end:{line:155,column:11}},46:{start:{line:156,column:10},end:{line:156,column:63}},47:{start:{line:157,column:10},end:{line:157,column:15}},48:{start:{line:160,column:10},end:{line:160,column:44}},49:{start:{line:161,column:10},end:{line:165,column:11}},50:{start:{line:166,column:10},end:{line:166,column:62}},51:{start:{line:167,column:10},end:{line:167,column:15}},52:{start:{line:172,column:6},end:{line:182,column:7}},53:{start:{line:173,column:26},end:{line:179,column:9}},54:{start:{line:181,column:8},end:{line:181,column:36}},55:{start:{line:185,column:19},end:{line:185,column:41}},56:{start:{line:186,column:27},end:{line:186,column:52}},57:{start:{line:188,column:6},end:{line:188,column:45}},58:{start:{line:190,column:6},end:{line:190,column:27}},59:{start:{line:193,column:6},end:{line:198,column:7}},60:{start:{line:194,column:8},end:{line:194,column:64}},61:{start:{line:194,column:38},end:{line:194,column:63}},62:{start:{line:196,column:8},end:{line:196,column:48}},63:{start:{line:197,column:8},end:{line:197,column:20}},64:{start:{line:201,column:43},end:{line:201,column:75}},65:{start:{line:203,column:6},end:{line:212,column:10}},66:{start:{line:206,column:10},end:{line:206,column:35}},67:{start:{line:210,column:10},end:{line:210,column:48}},68:{start:{line:211,column:10},end:{line:211,column:71}},69:{start:{line:215,column:6},end:{line:215,column:30}},70:{start:{line:217,column:6},end:{line:217,column:46}},71:{start:{line:219,column:6},end:{line:219,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:26,column:18},end:{line:26,column:19}},loc:{start:{line:26,column:24},end:{line:26,column:98}},line:26},1:{name:"(anonymous_1)",decl:{start:{line:27,column:12},end:{line:27,column:13}},loc:{start:{line:27,column:18},end:{line:27,column:78}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:12},end:{line:41,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:27},end:{line:64,column:5}},line:50},4:{name:"(anonymous_4)",decl:{start:{line:51,column:53},end:{line:51,column:54}},loc:{start:{line:51,column:59},end:{line:51,column:70}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:25},end:{line:80,column:5}},line:65},6:{name:"(anonymous_6)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:37},end:{line:84,column:5}},line:81},7:{name:"(anonymous_7)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:30},end:{line:88,column:5}},line:85},8:{name:"(anonymous_8)",decl:{start:{line:89,column:4},end:{line:89,column:5}},loc:{start:{line:89,column:24},end:{line:99,column:5}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:91,column:21},end:{line:91,column:22}},loc:{start:{line:91,column:27},end:{line:98,column:7}},line:91},10:{name:"(anonymous_10)",decl:{start:{line:92,column:26},end:{line:92,column:27}},loc:{start:{line:92,column:32},end:{line:97,column:9}},line:92},11:{name:"(anonymous_11)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:41},end:{line:105,column:5}},line:100},12:{name:"(anonymous_12)",decl:{start:{line:106,column:4},end:{line:106,column:5}},loc:{start:{line:106,column:30},end:{line:108,column:5}},line:106},13:{name:"(anonymous_13)",decl:{start:{line:109,column:4},end:{line:109,column:5}},loc:{start:{line:109,column:25},end:{line:121,column:5}},line:109},14:{name:"(anonymous_14)",decl:{start:{line:118,column:21},end:{line:118,column:22}},loc:{start:{line:118,column:27},end:{line:120,column:7}},line:118},15:{name:"(anonymous_15)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:27},end:{line:134,column:5}},line:122},16:{name:"(anonymous_16)",decl:{start:{line:127,column:56},end:{line:127,column:57}},loc:{start:{line:127,column:61},end:{line:128,column:72}},line:127},17:{name:"(anonymous_17)",decl:{start:{line:135,column:4},end:{line:135,column:5}},loc:{start:{line:135,column:32},end:{line:169,column:5}},line:135},18:{name:"(anonymous_18)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:31},end:{line:183,column:5}},line:170},19:{name:"(anonymous_19)",decl:{start:{line:184,column:4},end:{line:184,column:5}},loc:{start:{line:184,column:17},end:{line:220,column:5}},line:184},20:{name:"(anonymous_20)",decl:{start:{line:194,column:29},end:{line:194,column:30}},loc:{start:{line:194,column:38},end:{line:194,column:63}},line:194},21:{name:"(anonymous_21)",decl:{start:{line:204,column:14},end:{line:204,column:15}},loc:{start:{line:204,column:20},end:{line:207,column:9}},line:204},22:{name:"(anonymous_22)",decl:{start:{line:208,column:15},end:{line:208,column:16}},loc:{start:{line:208,column:24},end:{line:212,column:9}},line:208}},branchMap:{0:{loc:{start:{line:53,column:6},end:{line:63,column:7}},type:"if",locations:[{start:{line:53,column:6},end:{line:63,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},1:{loc:{start:{line:67,column:6},end:{line:79,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:79,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},2:{loc:{start:{line:68,column:8},end:{line:70,column:36}},type:"binary-expr",locations:[{start:{line:68,column:8},end:{line:68,column:67}},{start:{line:69,column:8},end:{line:69,column:18}},{start:{line:70,column:8},end:{line:70,column:36}}],line:68},3:{loc:{start:{line:83,column:13},end:{line:83,column:73}},type:"binary-expr",locations:[{start:{line:83,column:13},end:{line:83,column:20}},{start:{line:83,column:24},end:{line:83,column:73}}],line:83},4:{loc:{start:{line:87,column:13},end:{line:87,column:73}},type:"binary-expr",locations:[{start:{line:87,column:13},end:{line:87,column:20}},{start:{line:87,column:24},end:{line:87,column:73}}],line:87},5:{loc:{start:{line:124,column:29},end:{line:124,column:78}},type:"binary-expr",locations:[{start:{line:124,column:29},end:{line:124,column:37}},{start:{line:124,column:41},end:{line:124,column:54}},{start:{line:124,column:58},end:{line:124,column:78}}],line:124},6:{loc:{start:{line:125,column:6},end:{line:132,column:7}},type:"if",locations:[{start:{line:125,column:6},end:{line:132,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:125},7:{loc:{start:{line:127,column:61},end:{line:128,column:72}},type:"binary-expr",locations:[{start:{line:127,column:61},end:{line:127,column:105}},{start:{line:128,column:10},end:{line:128,column:72}}],line:127},8:{loc:{start:{line:129,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:131,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:129},9:{loc:{start:{line:129,column:12},end:{line:129,column:61}},type:"binary-expr",locations:[{start:{line:129,column:12},end:{line:129,column:29}},{start:{line:129,column:33},end:{line:129,column:61}}],line:129},10:{loc:{start:{line:137,column:6},end:{line:168,column:7}},type:"switch",locations:[{start:{line:139,column:8},end:{line:147,column:15}},{start:{line:149,column:8},end:{line:157,column:15}},{start:{line:159,column:8},end:{line:167,column:15}}],line:137},11:{loc:{start:{line:172,column:6},end:{line:182,column:7}},type:"if",locations:[{start:{line:172,column:6},end:{line:182,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:172},12:{loc:{start:{line:172,column:10},end:{line:172,column:80}},type:"binary-expr",locations:[{start:{line:172,column:10},end:{line:172,column:26}},{start:{line:172,column:30},end:{line:172,column:80}}],line:172},13:{loc:{start:{line:193,column:6},end:{line:198,column:7}},type:"if",locations:[{start:{line:193,column:6},end:{line:198,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:193}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0],1:[0,0],2:[0,0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,sources:["SupportRequestForm.vue"],names:[],mappings:";AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA",file:"SupportRequestForm.vue",sourceRoot:"src/components",sourcesContent:['<template>\n  <form\n    ref="contactForm"\n    class="o-form c-help--emailJustEat"\n    method="POST"\n    :novalidate="supportRequestForm.formState.noValidate"\n    data-test="supportRequestForm"\n    @submit.prevent="submitForm"\n  >\n    <div v-if="supportRequestForm.alert.text" class="o-formAlert">\n      <f-alert\n        :heading="supportRequestForm.alert.heading"\n        :type="supportRequestForm.alert.type"\n      >\n        <p data-test="postResponseMessage">\n          {{ supportRequestForm.alert.text }}\n        </p>\n      </f-alert>\n    </div>\n\n    <div v-if="!supportRequestForm.formState.submitted">\n      <div class="o-formField" data-test="orderIdInput">\n        <label class="c-formField-label">\n          {{ content.contact_support_request_input_order_number_label_text }}\n          <small>{{\n            content.contact_support_request_input_order_number_label_text_detail\n          }}</small>\n          <input\n            v-model="supportRequestForm.formData.orderId.value"\n            type="number"\n            name="orderId"\n            :placeholder="\n              content.contact_support_request_input_order_number_placeholder_text\n            "\n            @change="validateInput($event.target)"\n          />\n        </label>\n      </div>\n\n      <div class="o-formField" data-test="queryTypeInput">\n        <label class="c-formField-label">\n          {{ content.contact_support_request_input_reason_label_text }}\n          <select\n            v-model="supportRequestForm.formData.queryType.value"\n            :class="[\n              {\n                \'c-formField--invalid\': !supportRequestForm.formData.queryType\n                  .valid\n              },\n              \'c-formField-input\'\n            ]"\n            name="queryType"\n            required="required"\n            @change="validateInput($event.target)"\n          >\n            <option disabled value="">\n              {{\n                content.contact_support_request_input_reason_placeholder_text\n              }}\n            </option>\n            <option\n              v-for="option in queryTypes"\n              :key="`reason_${option.id}`"\n              :value="option.id"\n              :selected="option.selected"\n            >\n              {{ option.displayName }}\n            </option>\n          </select>\n        </label>\n        <error-message v-if="!supportRequestForm.formData.queryType.valid">\n          {{\n            content.contact_support_request_input_reason_required_error_message\n          }}\n        </error-message>\n      </div>\n\n      <div class="o-formField" data-test="bodyInput">\n        <label class="c-formField-label">\n          {{ content.contact_support_request_input_detail_label_text }}\n          <textarea\n            v-model="supportRequestForm.formData.body.value"\n            :class="[\n              {\n                \'c-formField--invalid\': !supportRequestForm.formData.body.valid\n              }\n            ]"\n            name="body"\n            required="required"\n            maxlength="10000"\n            @change="validateInput($event.target)"\n          />\n        </label>\n        <error-message v-if="!supportRequestForm.formData.body.valid">\n          {{\n            content.contact_support_request_input_detail_required_error_message\n          }}\n        </error-message>\n      </div>\n\n      <div class="o-formField is-fullWidth">\n        <f-button\n          button-type="primary"\n          action-type="submit"\n          :is-full-width="true"\n          :disabled="supportRequestForm.formState.submitting"\n          :is-loading="supportRequestForm.formState.submitting"\n          data-gtm="engagement|form_email_justeat|click_send_email_justeat"\n        >\n          {{ content.contact_support_request_submit_button_text }}\n        </f-button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { mapState, mapActions } from \'vuex\'\nimport FButton from \'@justeat/f-button\'\nimport \'@justeat/f-alert/dist/f-alert.css\'\nimport \'@justeat/f-error-message/dist/f-error-message.css\'\nimport analytics from \'../utilities/analytics\'\nimport DataService from \'../services/DataService\'\nimport logger from \'../utilities/logger\'\n\nconst userEmailString = \'{userEmail}\'\nconst trackingLabels = {\n  customerHasExceededContactLimit: \'form_error_HttpError_400_CustomerHasExceededContactLimit\',\n  genericError: \'form_error_HttpError\',\n  orderNotFound: \'form_error_HttpError_400_OrderNotFound\',\n  submitSuccess: \'form_submit_success\'\n}\nconst formErrorTypes = {\n  customerHasExceededContactLimit: \'CustomerHasExceededContactLimit\',\n  orderNotFound: \'OrderNotFound\'\n}\n\nexport default {\n  name: \'SupportRequestForm\',\n  components: {\n    FButton,\n    ErrorMessage: () => import(/* webpackChunkName: "error-message" */ \'@justeat/f-error-message\'),\n    FAlert: () => import(/* webpackChunkName: "f-alert" */ \'@justeat/f-alert\')\n  },\n  props: {\n    queryTypes: {\n      type: Array,\n      required: true\n    }\n  },\n  computed: {\n    ...mapState([\'content\', \'order\', \'supportRequestForm\', \'user\'])\n  },\n  mounted() {\n    this.updateOrderIdValue()\n    this.setSelectedQueryType()\n  },\n  methods: {\n    ...mapActions(\'supportRequestForm\', [\n      \'setFormAlert\',\n      \'resetFormAlert\',\n      \'setFormField\',\n      \'resetFormData\',\n      \'setFormState\'\n    ]),\n    setSelectedQueryType() {\n      const selectedQueryType = this.queryTypes.find(qt => qt.selected)\n\n      if (selectedQueryType) {\n        const fieldData = {\n          name: \'queryType\',\n          data: {\n            valid: true,\n            value: selectedQueryType.id\n          }\n        }\n\n        this.setFormField(fieldData)\n      }\n    },\n    updateOrderIdValue() {\n      // Preserve value on toggle contact actions\n      if (\n        this.supportRequestForm.formData.orderId.value.length === 0 &&\n        this.order &&\n        this.order.friendlyReference\n      ) {\n        const fieldData = {\n          name: \'orderId\',\n          data: {\n            value: this.order.friendlyReference\n          }\n        }\n        this.setFormField(fieldData)\n      }\n    },\n    getContactLimitExceededMessage() {\n      const message = this.content.contact_support_request_exceeded_contact_limit_error_detail\n      return message && message.replace(userEmailString, this.user.email)\n    },\n    getSubmitSuccessMessage() {\n      const message = this.content.contact_support_request_form_submit_success_message_detail\n      return message && message.replace(userEmailString, this.user.email)\n    },\n    scrollToTopOfForm() {\n      // Scroll to top of Contact Section\n      this.$nextTick(() => {\n        window.setTimeout(() => {\n          this.$refs.contactForm.scrollIntoView({\n            behavior: \'smooth\',\n            block: \'start\'\n          })\n        }, 300)\n      })\n    },\n    updateFormAlert(type, heading, text) {\n      const alertData = {\n        type, heading, text\n      }\n      this.setFormAlert(alertData)\n    },\n    sendAnalyticsEvent(label) {\n      analytics.trackEvent(\'engagement\', \'form_email_justeat\', label)\n    },\n    setFormSuccessSate() {\n      // Success\n      this.setFormState({ submitted: true })\n      this.updateFormAlert(\n        \'success\',\n        this.content.contact_support_request_form_submit_success_message_title,\n        this.getSubmitSuccessMessage()\n      )\n      this.sendAnalyticsEvent(trackingLabels.submitSuccess)\n      this.$nextTick(() => {\n        this.resetFormData()\n      })\n    },\n    getErrorType(response) {\n      let errorCode = null\n      const responseErrors = response && response.data && response.data.Errors\n      if (responseErrors) {\n        // Check Error Object for specific Error type [\'orderNotFound\', \'customerHasExceededContactLimit\']\n        const hasKnownErrorType = responseErrors.filter(e => e.ErrorCode === formErrorTypes.orderNotFound ||\n          e.ErrorCode === formErrorTypes.customerHasExceededContactLimit)\n        if (hasKnownErrorType && hasKnownErrorType.length > 0) {\n          errorCode = hasKnownErrorType[0].ErrorCode\n        }\n      }\n      return errorCode\n    },\n    setFormErrorState(response) {\n      const errorType = this.getErrorType(response)\n      switch (errorType) {\n      // Contact Limit exceeded\n        case formErrorTypes.customerHasExceededContactLimit:\n          this.setFormState({ error: true, submitted: true })\n          this.updateFormAlert(\n            \'warning\',\n            this.content.contact_support_request_exceeded_contact_limit_error_title,\n            this.getContactLimitExceededMessage()\n          )\n          this.sendAnalyticsEvent(trackingLabels.customerHasExceededContactLimit)\n          break\n          // Order not found\n        case formErrorTypes.orderNotFound:\n          this.setFormState({ error: true })\n          this.updateFormAlert(\n            \'danger\',\n            this.content.contact_support_request_submit_invalid_order_error_title,\n            this.content.contact_support_request_submit_invalid_order_error_detail\n          )\n          this.sendAnalyticsEvent(trackingLabels.orderNotFound)\n          break\n          // Any other Server error\n        default:\n          this.setFormState({ error: true })\n          this.updateFormAlert(\n            \'danger\',\n            this.content.contact_support_request_submit_server_error_title,\n            this.content.contact_support_request_submit_server_error_detail\n          )\n          this.sendAnalyticsEvent(trackingLabels.genericError)\n          break\n      }\n    },\n    validateInput(formElement) {\n      // Filters out form buttons\n      if (formElement.name && this.supportRequestForm.formData[formElement.name]) {\n        const fieldData = {\n          name: formElement.name,\n          data: {\n            value: formElement.value.trim(),\n            valid: formElement.checkValidity()\n          }\n        }\n        // Update store\n        this.setFormField(fieldData)\n      }\n    },\n    submitForm() {\n      const form = this.$refs.contactForm\n      const formElements = Array.from(form.elements)\n      // Disable submit button\n      this.setFormState({ submitting: true })\n      // Reset form alerts\n      this.resetFormAlert()\n\n      // 1. Validate\n      if (!form.checkValidity()) {\n        formElements.forEach(input => this.validateInput(input))\n        // Enable Submit button\n        this.setFormState({ submitting: false })\n        return false\n      }\n\n      // 2. Submit\n      const { orderId, queryType, body } = this.supportRequestForm.formData\n      // Create request\n      DataService.createQuerySupportRequest(orderId.value, queryType.value, body.value)\n        .then(() => {\n          // Form Submited\n          this.setFormSuccessSate()\n        })\n        .catch(error => {\n          // Form error\n          this.setFormErrorState(error.response)\n          logger.error(\'Create support request failed\', error.response)\n        })\n\n      // Scroll to form alert\n      this.scrollToTopOfForm()\n      // Enable submit button\n      this.setFormState({ submitting: false })\n\n      return this.supportRequestForm.formState\n    }\n  }\n}\n<\/script>\n']},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90a794266c8b18b761b9aa96334c70e84a383270"},r=t[o]||(t[o]={});r[e]&&r[e].hash===n||(r[e]=l);var s=r[e];return p=s}p();const _=(p().s[0]++,"{userEmail}"),f=(p().s[1]++,{customerHasExceededContactLimit:"form_error_HttpError_400_CustomerHasExceededContactLimit",genericError:"form_error_HttpError",orderNotFound:"form_error_HttpError_400_OrderNotFound",submitSuccess:"form_submit_success"}),C=(p().s[2]++,{customerHasExceededContactLimit:"CustomerHasExceededContactLimit",orderNotFound:"OrderNotFound"}),b={name:"SupportRequestForm",components:{FButton:a(),ErrorMessage:()=>(p().f[0]++,p().s[3]++,t.e(871).then(t.t.bind(t,475,23))),FAlert:()=>(p().f[1]++,p().s[4]++,t.e(272).then(t.t.bind(t,7154,23)))},props:{queryTypes:{type:Array,required:!0}},computed:{...(0,s.rn)(["content","order","supportRequestForm","user"])},mounted(){p().f[2]++,p().s[5]++,this.updateOrderIdValue(),p().s[6]++,this.setSelectedQueryType()},methods:{...(0,s.nv)("supportRequestForm",["setFormAlert","resetFormAlert","setFormField","resetFormData","setFormState"]),setSelectedQueryType(){p().f[3]++;const e=(p().s[7]++,this.queryTypes.find((e=>(p().f[4]++,p().s[8]++,e.selected))));if(p().s[9]++,e){p().b[0][0]++;const n=(p().s[10]++,{name:"queryType",data:{valid:!0,value:e.id}});p().s[11]++,this.setFormField(n)}else p().b[0][1]++},updateOrderIdValue(){if(p().f[5]++,p().s[12]++,p().b[2][0]++,0===this.supportRequestForm.formData.orderId.value.length&&(p().b[2][1]++,this.order)&&(p().b[2][2]++,this.order.friendlyReference)){p().b[1][0]++;const e=(p().s[13]++,{name:"orderId",data:{value:this.order.friendlyReference}});p().s[14]++,this.setFormField(e)}else p().b[1][1]++},getContactLimitExceededMessage(){p().f[6]++;const e=(p().s[15]++,this.content.contact_support_request_exceeded_contact_limit_error_detail);return p().s[16]++,p().b[3][0]++,e&&(p().b[3][1]++,e.replace(_,this.user.email))},getSubmitSuccessMessage(){p().f[7]++;const e=(p().s[17]++,this.content.contact_support_request_form_submit_success_message_detail);return p().s[18]++,p().b[4][0]++,e&&(p().b[4][1]++,e.replace(_,this.user.email))},scrollToTopOfForm(){p().f[8]++,p().s[19]++,this.$nextTick((()=>{p().f[9]++,p().s[20]++,window.setTimeout((()=>{p().f[10]++,p().s[21]++,this.$refs.contactForm.scrollIntoView({behavior:"smooth",block:"start"})}),300)}))},updateFormAlert(e,n,t){p().f[11]++;const o=(p().s[22]++,{type:e,heading:n,text:t});p().s[23]++,this.setFormAlert(o)},sendAnalyticsEvent(e){p().f[12]++,p().s[24]++,m.trackEvent("engagement","form_email_justeat",e)},setFormSuccessSate(){p().f[13]++,p().s[25]++,this.setFormState({submitted:!0}),p().s[26]++,this.updateFormAlert("success",this.content.contact_support_request_form_submit_success_message_title,this.getSubmitSuccessMessage()),p().s[27]++,this.sendAnalyticsEvent(f.submitSuccess),p().s[28]++,this.$nextTick((()=>{p().f[14]++,p().s[29]++,this.resetFormData()}))},getErrorType(e){p().f[15]++;let n=(p().s[30]++,null);const t=(p().s[31]++,p().b[5][0]++,e&&(p().b[5][1]++,e.data)&&(p().b[5][2]++,e.data.Errors));if(p().s[32]++,t){p().b[6][0]++;const e=(p().s[33]++,t.filter((e=>(p().f[16]++,p().s[34]++,p().b[7][0]++,e.ErrorCode===C.orderNotFound||(p().b[7][1]++,e.ErrorCode===C.customerHasExceededContactLimit)))));p().s[35]++,p().b[9][0]++,e&&(p().b[9][1]++,e.length>0)?(p().b[8][0]++,p().s[36]++,n=e[0].ErrorCode):p().b[8][1]++}else p().b[6][1]++;return p().s[37]++,n},setFormErrorState(e){p().f[17]++;const n=(p().s[38]++,this.getErrorType(e));switch(p().s[39]++,n){case C.customerHasExceededContactLimit:p().b[10][0]++,p().s[40]++,this.setFormState({error:!0,submitted:!0}),p().s[41]++,this.updateFormAlert("warning",this.content.contact_support_request_exceeded_contact_limit_error_title,this.getContactLimitExceededMessage()),p().s[42]++,this.sendAnalyticsEvent(f.customerHasExceededContactLimit),p().s[43]++;break;case C.orderNotFound:p().b[10][1]++,p().s[44]++,this.setFormState({error:!0}),p().s[45]++,this.updateFormAlert("danger",this.content.contact_support_request_submit_invalid_order_error_title,this.content.contact_support_request_submit_invalid_order_error_detail),p().s[46]++,this.sendAnalyticsEvent(f.orderNotFound),p().s[47]++;break;default:p().b[10][2]++,p().s[48]++,this.setFormState({error:!0}),p().s[49]++,this.updateFormAlert("danger",this.content.contact_support_request_submit_server_error_title,this.content.contact_support_request_submit_server_error_detail),p().s[50]++,this.sendAnalyticsEvent(f.genericError),p().s[51]++;break}},validateInput(e){if(p().f[18]++,p().s[52]++,p().b[12][0]++,e.name&&(p().b[12][1]++,this.supportRequestForm.formData[e.name])){p().b[11][0]++;const n=(p().s[53]++,{name:e.name,data:{value:e.value.trim(),valid:e.checkValidity()}});p().s[54]++,this.setFormField(n)}else p().b[11][1]++},submitForm(){p().f[19]++;const e=(p().s[55]++,this.$refs.contactForm),n=(p().s[56]++,Array.from(e.elements));if(p().s[57]++,this.setFormState({submitting:!0}),p().s[58]++,this.resetFormAlert(),p().s[59]++,!e.checkValidity())return p().b[13][0]++,p().s[60]++,n.forEach((e=>(p().f[20]++,p().s[61]++,this.validateInput(e)))),p().s[62]++,this.setFormState({submitting:!1}),p().s[63]++,!1;p().b[13][1]++;const{orderId:t,queryType:o,body:l}=(p().s[64]++,this.supportRequestForm.formData);return p().s[65]++,d.Z.createQuerySupportRequest(t.value,o.value,l.value).then((()=>{p().f[21]++,p().s[66]++,this.setFormSuccessSate()})).catch((e=>{p().f[22]++,p().s[67]++,this.setFormErrorState(e.response),p().s[68]++,A.Z.error("Create support request failed",e.response)})),p().s[69]++,this.scrollToTopOfForm(),p().s[70]++,this.setFormState({submitting:!1}),p().s[71]++,this.supportRequestForm.formState}}},v=b;var y=t(1001),h=(0,y.Z)(v,l,r,!1,null,null,null);const F=h.exports}}]);
//# sourceMappingURL=support-request-form.ad4d8c2a.js.map