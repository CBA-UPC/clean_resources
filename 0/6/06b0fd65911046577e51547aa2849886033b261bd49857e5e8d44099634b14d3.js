"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2852],{94021:(e,t,s)=>{s.d(t,{Z:()=>p});var a=s(49458),n={class:"m-diaporama__carousel-nav"};var i=["href"],r=["srcset"],o=["src","alt","srcset"],l={key:1},c=["srcset"],u=["src","alt","srcset"];const m={name:"DiaporamaImage",props:{image:{type:Object,required:!0},placeholderSrc:{type:String,required:!0},classes:{type:String,default:""},activeClasses:{type:String,default:""},nMinusActiveClasses:{type:String,default:""},loadedClasses:{type:String,default:""},isFullscreen:{type:Boolean,default:!1}},data:computed:{computedClasses:function(){var e=[];return this.classes&&e.push(this.classes),this.loadedClasses&&this.isLoaded&&e.push(this.loadedClasses),this.activeClasses&&this.active&&e.push(this.activeClasses),this.nMinusActiveClasses&&this.nMinusActive&&e.push(this.nMinusActiveClasses),e.length>0?e.join(" "):void 0},active:function(){return this.image.active},nMinusActive:hasLink:};var d=s(83744);const g={name:"DiaporamaCarousel",components:{DiaporamaImage:(0,d.Z)(m,[["render",function(e,t,s,n,m,d){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(d.computedClasses)},[d.hasLink?((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:0,href:s.image.link,target:"_blank",rel:"noopener noreferrer"},[(0,a.createElementVNode)("picture",null,[(0,a.createElementVNode)("source",{type:"image/webp",srcset:s.image.srcset.srcset_webp},null,8,r),(0,a.createElementVNode)("img",{src:s.placeholderSrc,alt:s.image.alt,srcset:s.image.srcset.srcset_default,loading:"lazy",class:"m-diaporama__image"},null,8,o)])],8,i)):((0,a.openBlock)(),(0,a.createElementBlock)("picture",l,[(0,a.createElementVNode)("source",{type:"image/webp",srcset:s.image.srcset.srcset_webp},null,8,c),(0,a.createElementVNode)("img",{src:s.placeholderSrc,alt:s.image.alt,srcset:s.image.srcset.srcset_default,loading:"lazy",class:"m-diaporama__image"},null,8,u)]))],2)}]])},props:{images:{type:Array,required:!0},imagePlaceholder:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},startIndex:{type:Number,default:0},classes:{type:String,default:""},imageClasses:{type:String,default:""},imageActiveClasses:{type:String,default:""},imageNMinusActiveClasses:{type:String,default:""},imageLoadedClasses:{type:String,default:""},isFullscreen:{type:Boolean,default:!1}},emits:["transition_prev","transition_next"],data:function(){return{currentImageIndex:void 0,nextIcon:"",prevIcon:"",transition:""}},computed:{currentImage:counterText:function(){var e=this.currentImageIndex+1;return"".concat(e,"/").concat(this.images.length)}},watch:{images:,mounted:function(){var e,t;this.currentImageIndex=this.startIndex>=0&&this.startIndex<this.images.length?this.startIndex:0,this.updateImagesActive(!0),this.nextIcon=(null===(e=window.contextlayer.diaporama)||void 0===e?void 0:e.next_icon)||"",this.prevIcon=(null===(t=window.contextlayer.diaporama)||void 0===t?void 0:t.prev_icon)||""},methods:{actionOnPrev:function(){this.currentImageIndex=this.currentImageIndex-1>=0?this.currentImageIndex-1:this.images.length-1,this.updateImagesActive(),this.$emit("transition_prev",{index:this.currentImageIndex,image:this.currentImage})},actionOnNext:function(){this.currentImageIndex=this.currentImageIndex+1<this.images.length?this.currentImageIndex+1:0,this.updateImagesActive(),this.$emit("transition_next",{index:this.currentImageIndex,image:this.currentImage})},updateImagesActive:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=0===this.currentImageIndex?this.images.length-1:this.currentImageIndex-1;this.images.forEach((function(a,n){a.nMinusActive=t?s===n:a.active,a.active=n===e.currentImageIndex}))}}},p=(0,d.Z)(g,[["render",function(e,t,s,i,r,o){var l=(0,a.resolveComponent)("diaporama-image"),c=(0,a.resolveDirective)("touch");return(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["m-diaporama__carousel",s.classes])},[(0,a.createElementVNode)("div",n,[(0,a.renderSlot)(e.$slots,"prev",{icon:r.prevIcon,click:o.actionOnPrev},(function(){return[(0,a.createElementVNode)("button",{type:"button",class:"m-diaporama__prev-btn",onClick:t[0]||(t[0]=function(){return o.actionOnPrev&&o.actionOnPrev.apply(o,arguments)})},[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["a-svg","a-svg--picto-".concat(r.prevIcon)])},null,2)])]})),(0,a.renderSlot)(e.$slots,"next",{icon:r.nextIcon,click:o.actionOnNext},(function(){return[(0,a.createElementVNode)("button",{type:"button",class:"m-diaporama__next-btn",onClick:t[1]||(t[1]=function(){return o.actionOnNext&&o.actionOnNext.apply(o,arguments)})},[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["a-svg","a-svg--picto-".concat(r.nextIcon)])},null,2)])]}))]),(0,a.renderSlot)(e.$slots,"counter",{counterText:o.counterText},(function(){return[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(o.counterText),1)]})),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(s.images,(function(e,t){return(0,a.openBlock)(),(0,a.createBlock)(l,{key:t,classes:s.imageClasses,"active-classes":s.imageActiveClasses,"n-minus-active-classes":s.imageNMinusActiveClasses,"loaded-classes":s.imageLoadedClasses,"placeholder-src":s.imagePlaceholder,image:e,"is-fullscreen":s.isFullscreen},null,8,["classes","active-classes","n-minus-active-classes","loaded-classes","placeholder-src","image","is-fullscreen"])})),128))],2)),[[c,o.actionOnPrev,"swipe",{right:!0}],[c,o.actionOnNext,"swipe",{left:!0}]])}]])},92852:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(49458),n={class:"m-diaporama__modal"},i=["aria-label"];var r=s(44335),o=s(94021),l="left",c="right";const u={name:"DiaporamaFullscreen",components:{DiaporamaCarousel:o.Z,OverlayContainer:r.Z},props:{diaporamaClasses:{type:String,default:""},leftTransitionClasses:{type:String,default:""},rightTransitionClasses:{type:String,default:""},imageWrapperClasses:{type:String,default:""},imageClasses:{type:String,default:""},imageActiveClasses:{type:String,default:""},imageNMinusActiveClasses:{type:String,default:""},imageLoadedClasses:{type:String,default:""},imageInfoClasses:{type:String,default:""},imageInfoActiveClass:{type:String,default:""},imagePlaceholder:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},inlinedImagesData:{type:String,required:!0},startIndex:{type:Number,default:0}},emits:["error","fullscreen_requested"],data:function(){return{images:[],currentImage:void 0,transition:c,isVisible:!1,showInfo:!0}},computed:{computedImageInfoClasses:currentImageLegend:function(){return this.getImageProp(this.currentImage,"legend")},currentImageCredits:computedClasses:function(){var e=[];return this.diaporamaClasses&&e.push(this.diaporamaClasses),l===this.transition&&e.push(this.leftTransitionClasses),c===this.transition&&e.push(this.rightTransitionClasses),e.length>0?e.join(" "):void 0}},mounted:function(){var e=this;try{this.images=JSON.parse(this.inlinedImagesData).map((),this.currentImage=this.images[this.startIndex],this.currentImageIndex=this.startIndex}catch(e){this.$emit("error",{message:"Failed to parse json data",error:e})}},methods:{onPrev:function(e){var t=e.image,s=e.index;this.transition=l,this.currentImage=t,this.currentImageIndex=s},onNext:function(e){var t=e.image,s=e.index;this.transition=c,this.currentImage=t,this.currentImageIndex=s},onFullscreenRequested:getImageProp:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e&&e[t]?e[t]:s},buildImage:function(e){return{ratio:this.getImageProp(e,"ratio"),alt:this.getImageProp(e,"alt"),legend:this.getImageProp(e,"legend"),credits:this.getImageProp(e,"credits"),link:this.getImageProp(e,"link"),srcset:this.getImageProp(e,"srcset"),active:!1,nMinusActive:!1}},show:function(){this.isVisible=!0},hide:function(){this.isVisible=!1},showImageInfo:function(){this.showInfo=!0},hideImageInfo:};const m=(0,s(83744).Z)(u,[["render",function(e,t,s,r,o,l){var c=(0,a.resolveComponent)("overlay-container"),u=(0,a.resolveComponent)("diaporama-carousel");return o.isVisible?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(l.computedClasses)},[(0,a.createVNode)(c,{onClick:l.hide},null,8,["onClick"]),(0,a.createElementVNode)("div",n,[(0,a.createVNode)(u,{class:(0,a.normalizeClass)(s.imageWrapperClasses),images:o.images,"image-placeholder":s.imagePlaceholder,"start-index":s.startIndex,"image-classes":s.imageClasses,"image-active-classes":s.imageActiveClasses,"image-n-minus-active-classes":s.imageNMinusActiveClasses,"image-loaded-classes":s.imageLoadedClasses,"is-fullscreen":!0,onTransition_prev:l.onPrev,onTransition_next:l.onNext},(0,a.createSlots)({_:2},[(0,a.renderList)(e.$slots,(function(t,s){return{name:s,fn:(0,a.withCtx)((function(t){return[(0,a.renderSlot)(e.$slots,s,(0,a.normalizeProps)((0,a.guardReactiveProps)(t)))]}))}}))]),1032,["class","images","image-placeholder","start-index","image-classes","image-active-classes","image-n-minus-active-classes","image-loaded-classes","onTransition_prev","onTransition_next"]),!0!==o.showInfo?(0,a.renderSlot)(e.$slots,"image-info-button",{key:0,click:l.showImageInfo},(function(){return[(0,a.createElementVNode)("button",{type:"button",onClick:t[0]||(t[0]=function(){return l.showImageInfo&&l.showImageInfo.apply(l,arguments)})})]})):(0,a.createCommentVNode)("",!0),(0,a.renderSlot)(e.$slots,"close-button",{click:l.hide},(function(){return[(0,a.createElementVNode)("button",{type:"button","aria-label":e.$translate("modal.close.label"),onClick:t[1]||(t[1]=function(){return l.hide&&l.hide.apply(l,arguments)})},null,8,i)]})),(0,a.renderSlot)(e.$slots,"image-info",{click:l.hideImageInfo,legend:l.currentImageLegend,credits:l.currentImageCredits,classes:l.computedImageInfoClasses},(function(){return[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(l.computedImageInfoClasses)},[(0,a.createElementVNode)("button",{type:"button",onClick:t[2]||(t[2]=function(){return l.hideImageInfo&&l.hideImageInfo.apply(l,arguments)})}),(0,a.createElementVNode)("figcaption",null,[(0,a.createTextVNode)((0,a.toDisplayString)(l.currentImageLegend),1),(0,a.createElementVNode)("span",null,"© "+(0,a.toDisplayString)(l.currentImageCredits),1)])],2)]}))])],2)):(0,a.createCommentVNode)("",!0)}]])},44335:(e,t,s)=>{s.d(t,{Z});var a=s(49458);const n={name:"OverlayContainer",props:{classes:{type:String,default:"u-modal__filter"}},emits:["click"],methods:{click}};const i=(0,s(83744).Z)(n,[["render",function(e,t,s,n,i,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{"data-modal-filter":"",class:(0,a.normalizeClass)(s.classes),onClick:t[0]||(t[0])},null,2)}]])}}]);