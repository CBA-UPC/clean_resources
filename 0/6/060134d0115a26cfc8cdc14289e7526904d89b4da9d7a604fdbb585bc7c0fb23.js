"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5320],{4211:(e,t,n)=>{n.d(t,{DebugWindowContents:()=>Kn});n(46758),n(53321),n(86277);var s=n(50959),l=n(82187),a=n.n(l),r=n(61235),i=n(10629),o=n(14335),c=n(70615),d=n(10226),u=(n(58465),n(20550),n(2836),n(28593),n(12960)),m=n(30982),p=n(52250);const h=(0,m.v)();window.abba={get:async function(e,t){const n=new u.hH((0,p.G)()),s=(await n.getValues(u.hr.fromPartial({}))).pairs;let l={},a="";if(s.abbaOverrides?a=s.abbaOverrides:s.abbaoverrides&&(a=s.abbaoverrides),a)try{l=JSON.parse(a)}catch(r){}Object.prototype.hasOwnProperty.call(l,e)?setTimeout((()=>t(null,l[e])),0):h.post("sp://abba/v1/flags",{flags:[e]}).then((n=>{const{flags:s=[]}=n,l=s[0]&&s[0].featureName===e&&s[0].cell;t(null,l||null)})).catch((e=>{t(e)}))},getAll:function(e){h.get("sp://abba/v1/all_flags").then((t=>{const{flags:n=[]}=t,s=n.reduce(((e,t)=>(e[t.featureName]=t.cell,e)),{});e(null,JSON.stringify(s,null,2))})).catch((t=>{e(t)}))},getRequestedFlagNames:function(e){h.get("sp://abba/v1/requested_flag_names").then((t=>{e(null,JSON.stringify(t.sort(),null,2))})).catch((t=>{e(t)}))}};n(36981);var v=n(11527);var x=n(29132),f=n(43286),j=n(15994),g=n(73057);const y="scaF2wOGtuiU5UBKJrGa",b="PjVBb0nlrIUasTrrFgCx",N="MjtdwpkzFFhhmzeyzOy2",w="uVClWczmJLRR5jfAENGP",C=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],S=()=>{const e=(0,x.I0)(),t=(0,x.v9)((e=>e.inAppMessaging.env)),n=(0,x.v9)((e=>e.inAppMessaging.message)),[l,a]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(!1);(0,s.useEffect)((()=>{n&&o&&c(!1)}),[n,o]);const d=!n&&o;return(0,v.jsx)("div",{className:y,children:(0,v.jsxs)("div",{className:b,children:[(0,v.jsx)("div",{children:(0,v.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,v.jsx)(j.v,{dir:"auto",value:t,id:"desktop.settings.inAppMessagingEnv",onSelect:function(t){"prod"!==t&&"dev"!==t||e((0,g.q1)(t))},children:C.map((e=>{let{label:t,value:n}=e;return(0,v.jsx)("option",{value:n,children:t},n)}))}),(0,v.jsx)("div",{children:(0,v.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,v.jsx)("div",{children:(0,v.jsx)("input",{className:N,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:l,onChange:function(e){a(e.target.value),c(!1)}})}),(0,v.jsx)("div",{children:(0,v.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,v.jsx)("div",{children:(0,v.jsx)("input",{className:N,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:r,onChange:function(e){i(e.target.value),c(!1)}})}),(0,v.jsx)("div",{}),(0,v.jsx)("div",{}),(0,v.jsx)("div",{children:(0,v.jsx)(f.D,{colorSet:"invertedLight",onClick:function(t){t.preventDefault(),e((0,g.XJ)(l,r)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,v.jsx)("div",{className:w,children:"No Messsage found"})]})})};var O=n(21453),A=n(19617),I=n(82315),k=n(27067),E=n(91054),T=n(70055),P=n(37021),R=n(40125),D=n(39390),_=n(12748),L=n(94260),F=n(85866),z=n(52488),V=n(64507);const U={tableContainer:"Oq75N3dIIFwLLxqhrTGw",collapsed:"Y1mIc_urBEFpW0IaPvTg",tableTitle:"A3f7b8Ykb8QaTHv9e6DV",tableToggle:"cN2yet80TrzvhUOVyNyJ",table:"w3RCrOKYvq_0htC6zhzd",tableHead:"viEusJyR3z4ijG1P7ji6",rowHeader:"qM20Y4j0mkUnh1qSFmb3",rowName:"PMJ_WnnsgiBd1d9yFIGf",rowValue:"zyDs7IcK71IYTnn2YfNJ",rowActions:"ofGd7aEjrX3mgVu0DbO8",propertyDescription:"WoXbezM6uoI1BhVP_Huq",rowAction:"zmgvPs6K0W0mLJ3xX1Uv",rowControl:"dPVfdc5bb3lNG2ybyp2a"},B=e=>{let{title:t,titleExtra:n,rows:l,cols:r,canCollapse:i=!1,isCollapsedInitially:o=!1,renderHead:c=!1,renderRow:d}=e;const[u,m]=(0,s.useState)(!!i&&o);return(0,v.jsxs)(_.x,{className:a()(U.tableContainer,{[U.collapsed]:u}),children:[t?(0,v.jsxs)("div",{className:U.tableTitle,onClick:()=>{i&&m(!u)},children:[i?(0,v.jsx)("button",{className:U.tableToggle,children:u?(0,v.jsx)(L.V,{size:"small"}):(0,v.jsx)(F.C,{size:"small"})}):null,(0,v.jsx)("h3",{children:t}),n]}):null,(0,v.jsxs)(z.i,{className:U.table,children:[(0,v.jsx)("colgroup",{children:r.map(((e,t)=>(0,v.jsx)("col",{width:e.width,className:e.className},t)))}),c?(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:r.map(((e,t)=>(0,v.jsx)(V.x,{className:U.tableHead,children:e.name},t)))})}):null,(0,v.jsx)("tbody",{children:Array.isArray(l)?l.map((e=>d?d(e,r):null)):l})]})]})};function J(){const e=(0,A.zY)();return(0,s.useMemo)((()=>e?new e.Function("value","if (value) { navigator.clipboard.writeText(value) }"):()=>{}),[e])}const M="ipHwQurO5v9UGSq71YmY",H=()=>{var e,t,n,s;const l=J(),a=(0,D.p)(),r=(null===(e=a.token)||void 0===e?void 0:e.accessToken)??"Not authorized",i=new Date((null===(t=a.token)||void 0===t?void 0:t.accessTokenExpirationTimestampMs)??0);return(0,v.jsx)("div",{className:M,children:(0,v.jsx)(B,{title:"Authorization",rows:[{name:"Token",value:r},{name:"Expires At",value:i.toLocaleString()},{name:"Retry Attempt",value:(null===(n=a.retryAttempt)||void 0===n?void 0:n.toString())??"N/A"},{name:"Retry At",value:(null===(s=a.retryAt)||void 0===s?void 0:s.toLocaleString())??"N/A"}],cols:[{width:"30%"},{},{width:"16px"}],renderRow:e=>{let{name:t,value:n}=e;return(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:U.rowName,highlight:!0,children:t}),(0,v.jsx)(P.p,{className:U.rowValue,truncate:!0,align:"right",children:n}),(0,v.jsx)(P.p,{className:U.rowActions,children:(0,v.jsx)("button",{className:U.rowAction,onClick:()=>l(n),children:(0,v.jsx)(R.c,{size:"small"})})})]})}})})};var G=n(17385);const q="WT_NZ6JEU_dK03UPUjQm",Y=e=>{let{name:t,value:n}=e;const s=J();return(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:U.rowName,highlight:!0,children:t}),(0,v.jsx)(P.p,{className:U.rowValue,truncate:!0,align:"right",children:n}),(0,v.jsx)(P.p,{className:U.rowActions,children:(0,v.jsx)("button",{className:U.rowAction,onClick:()=>s(n),children:(0,v.jsx)(R.c,{size:"small"})})})]})},K=e=>{let{device:t}=e;return(0,v.jsx)(B,{title:t.name,rows:[{name:"Device",value:null==t?void 0:t.name},{name:"Identifier",value:t.id},{name:"Type",value:t.type},{name:"Group",value:t.isGroup.toString()},{name:"Local",value:t.isLocal.toString()},{name:"Active",value:t.isActive.toString()},{name:"Connecting",value:t.isConnecting.toString()},{name:"Disabled",value:t.isDisabled.toString()},{name:"Volume",value:t.volume.toString()},{name:"HiFi",value:t.hifiSupport.deviceSupported.toString()}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,v.jsx)(Y,{...e}),canCollapse:!0,isCollapsedInitially:!0})},$=()=>{const e=(0,G.O)(),t=e.devices;return(0,v.jsxs)("div",{className:q,children:[(0,v.jsx)(B,{title:"Connect",rows:(0,v.jsx)(Y,{name:"Status",value:e.connectionStatus}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),t.map((e=>(0,v.jsx)(K,{device:e},e.id)))]})};var W=n(194),X=n(39505),Z=n(85536),Q=n(50648),ee=n(78171),te=n(88509),ne=n(74883),se=n(374),le=n(8172),ae=n(69736),re=n(36879),ie=n(13379);var oe=n(76280),ce=n(66369);var de=n(8570),ue=n(65019),me=n(5380);const pe="bFE0oGWgZ40KJHjcBj12",he="nzbIAA5MqUSD0hIKUuHg",ve="hksYFxAm48XqAEbpcukQ",xe="UnO1u4VJB0B6pTtqWh1n",fe="xlSWVFMQmYmRK34yiPOA",je="oKgZ0g8at59jN8nf8Bee",ge="Nodut0kqaRIc93iGqbbP",ye="dUIum8rPR6Msq9wot5ky",be="QHO5pYBkfWBn6qyAh9dp";const Ne=e=>{let{size:t,ranges:n}=e;if(0===n.length)return(0,v.jsx)("div",{className:ve,children:(0,v.jsx)("div",{className:xe})});const s=`linear-gradient(90deg, ${n.map((e=>{const n=100*e.fromByte/t,s=100*e.toByte/t;return`transparent ${n}%, ${X.pCU} ${n}%, ${X.pCU} ${s}%, transparent ${s}%`})).join(", ")})`;return(0,v.jsx)("div",{className:ve,children:(0,v.jsx)("div",{className:xe,style:{background:s}})})},we=e=>{let{item:t,file:n}=e;const s=(0,de.g)(),l=J(),a=(function(e){let t,n,s=0;if(0===e.length)return s;for(t=0;t<e.length;t++)n=e.charCodeAt(t),s=(s<<5)-s+n,s|=0;return s}(`${n.format}${n.bitrate}${n.formatEnum}`)+180)%360;return(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:U.rowName,highlight:!0,children:(0,v.jsxs)("div",{className:fe,style:{background:`linear-gradient(180deg, hsl(${a}, 60%, 30%), hsl(${a}, 40%, 70%))`},children:[(0,v.jsx)("span",{className:je,children:n.format}),(0,v.jsx)("span",{className:ge,children:Ce(n)})]})}),(0,v.jsx)(P.p,{className:U.rowValue,truncate:!0,children:(0,v.jsxs)("div",{className:he,children:[n.fileId,(0,v.jsx)(Ne,{size:n.byteSize,ranges:n.byteRanges})]})}),(0,v.jsxs)(P.p,{className:U.rowActions,children:[(0,v.jsx)("button",{className:U.rowAction,onClick:()=>{s.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...t,provider:"context",metadata:{"media.manifest":JSON.stringify({id:n.fileId,bitrate:n.bitrate,format:n.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,v.jsx)(Z.J,{size:"small"})}),(0,v.jsx)("button",{className:U.rowAction,onClick:()=>{l(n.fileId)},children:(0,v.jsx)(R.c,{size:"small"})})]})]})};function Ce(e){switch(e.formatEnum){case 16:return"16-bit";case 22:return"24-bit";default:return Se(e.bitrate,1e3,"k")}}function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(Number(e)/t).toLocaleString("en",{maximumFractionDigits:10})}${n}`}function Oe(){return!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)?"Yes":"No"}function Ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0!==e)return(0,me.m)(Number(e))}const Ie=e=>{let{name:t,value:n}=e;const s=J();return(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:U.rowName,highlight:!0,children:t}),(0,v.jsx)(P.p,{className:U.rowValue,truncate:!0,align:"right",children:n}),(0,v.jsx)(P.p,{className:U.rowActions,children:(0,v.jsx)("button",{className:U.rowAction,onClick:()=>s(n),children:(0,v.jsx)(R.c,{size:"small"})})})]})},ke=e=>{let{terminalType:t,transportType:n,isDefaultDevice:s}=e;const l=s?"essentialPositive":"essentialBase",a=[];switch(t){case W.OE.TERMINAL_TYPE_SPEAKERS:a.push((0,v.jsx)(Q.X,{semanticColor:l,size:"small"}));break;case W.OE.TERMINAL_TYPE_HEADPHONES:a.push((0,v.jsx)(ee.F,{semanticColor:l,size:"small"}));break;case W.OE.TERMINAL_TYPE_DISPLAY_DEVICE:a.push((0,v.jsx)(te.x,{semanticColor:l,size:"small"}))}switch(n){case W.Fl.TRANSPORT_TYPE_BUILT_IN:case W.Fl.TRANSPORT_TYPE_VIRTUAL:break;case W.Fl.TRANSPORT_TYPE_USB:a.push((0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",style:{position:"relative",top:"3px",width:16,height:16,fill:(0,ne.NE)(l)},children:(0,v.jsx)("path",{d:"m7.792.312-1.533 2.3A.25.25 0 0 0 6.467 3H7.5v7.319a2.5 2.5 0 0 0-.515-.298L5.909 9.56A1.5 1.5 0 0 1 5 8.18v-.266a1.5 1.5 0 1 0-1 0v.266a2.5 2.5 0 0 0 1.515 2.298l1.076.461a1.5 1.5 0 0 1 .888 1.129 2.001 2.001 0 1 0 1.021-.006v-.902a1.5 1.5 0 0 1 .756-1.303l1.484-.848A2.5 2.5 0 0 0 11.995 7h.755a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h.741a1.5 1.5 0 0 1-.747 1.142L8.76 8.99a2.584 2.584 0 0 0-.26.17V3h1.033a.25.25 0 0 0 .208-.389L8.208.312a.25.25 0 0 0-.416 0Z"})}));break;case W.Fl.TRANSPORT_TYPE_BLUETOOTH:a.push((0,v.jsx)(se.X,{semanticColor:l,size:"small"}));break;case W.Fl.TRANSPORT_TYPE_DISPLAY_DEVICE:a.push((0,v.jsx)(te.x,{semanticColor:l,size:"small"}))}return 0===a.length&&a.push((0,v.jsx)(le.S,{semanticColor:l,size:"small"})),(0,v.jsx)(v.Fragment,{children:a})},Ee=e=>{let{name:t,id:n,isDefaultDevice:s,terminalType:l,terminalTypeRaw:a,transportType:r,transportTypeRaw:i}=e;const o=J();return(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsxs)(P.p,{className:U.rowName,highlight:!0,children:[(0,v.jsx)(ke,{terminalType:l,transportType:r,isDefaultDevice:s})," ",t]}),(0,v.jsx)(P.p,{className:U.rowValue,truncate:!0,children:n}),(0,v.jsx)(P.p,{className:U.rowValue,children:a}),(0,v.jsx)(P.p,{className:U.rowValue,children:i}),(0,v.jsx)(P.p,{className:U.rowActions,children:(0,v.jsx)("button",{className:U.rowAction,onClick:()=>o(n),children:(0,v.jsx)(R.c,{size:"small"})})})]})},Te=()=>{const e=(0,ue.Y)((e=>(null==e?void 0:e.item)??null)),t=function(){const[e,t]=(0,s.useState)(null),n=(0,ie.f)();return(0,s.useEffect)((()=>{let e=!0;return n.getPlaybackInfo().then((n=>{e&&t(n)})),()=>{e=!1}}),[n]),(0,ce._)(oe.r.INFO,(e=>{let{data:n}=e;t(n)})),e}(),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,l]=(0,s.useState)(null),a=(0,ie.f)();return(0,s.useEffect)((()=>{let n=!0,s=null;if(null===e)l(null);else{const r=async()=>{const t=await a.getFiles(e);n&&l(t)};r(),null!==t&&(s=window.setInterval(r,t))}return()=>{n=!1,null!==s&&window.clearInterval(s)}}),[a,e,t]),n}(null==e?void 0:e.uri,500),l=(0,de.g)(),[a,r]=(0,s.useState)([]);return(0,s.useEffect)((()=>{const e=(0,p.G)(),t=new W.Hv(e).getAudioOutputDevices({},(e=>{r(e.devices.sort(((e,t)=>e.isDefaultDevice?-1:t.isDefaultDevice?1:e.name.localeCompare(t.name))))}));return()=>{t.cancel()}}),[]),null===e?(0,v.jsx)("div",{className:pe,children:"Nothing is currently playing."}):(0,v.jsxs)("div",{className:pe,children:[(0,v.jsxs)("div",{className:ye,children:[(0,v.jsx)(ae.x,{variant:"bodySmallBold",children:"Forced shuffle"}),(0,v.jsx)(re.Z,{id:"forced-shuffe",value:l.getForcedShuffle(),onSelected:e=>{l.setForcedShuffle(e)}})]}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{className:be,onClick:()=>{l.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,v.jsx)("span",{children:"Clear context"})})}),(0,v.jsx)(B,{title:"Devices",rows:a,cols:[{name:"Name",width:"30%"},{name:"ID"},{name:"Terminal"},{name:"Transport"},{name:"Actions",width:"16px"}],renderRow:e=>(0,v.jsx)(Ee,{...e}),canCollapse:!0}),(0,v.jsx)(B,{title:"Details",rows:[{name:"url"===(null==t?void 0:t.fileType)?"URL":"File ID",value:null==t?void 0:t.fileId},{name:"Type",value:null==t?void 0:t.fileType},{name:"Codec",value:null==t?void 0:t.codecName},{name:"Bitrate",value:Se(null==t?void 0:t.fileBitrate,1e3,"k")},{name:"Strategy",value:null==t?void 0:t.strategy},{name:"Target Bitrate",value:Se(null==t?void 0:t.targetBitrate,1e3,"k")},{name:"Advisted Bitrate",value:Se(null==t?void 0:t.advisedBitrate,1e3,"k")},{name:"Target File Available",value:Oe(null==t?void 0:t.targetFileAvailable)},{name:"Duration (hh:mm)",value:Ae(null==t?void 0:t.lengthMs)},{name:"Duration (ms)",value:Se(null==t?void 0:t.lengthMs,1," ms")},{name:"Speed",value:Se(null==t?void 0:t.playbackSpeed)},{name:"Gain Adjustment",value:Se(null==t?void 0:t.gainAdjustment)},{name:"Loudness",value:null!=t&&t.hasLoudness?Se(null==t?void 0:t.loudness):void 0}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,v.jsx)(Ie,{...e}),canCollapse:!0}),(0,v.jsx)(B,{title:"Files",rows:n??[],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:t=>(0,v.jsx)(we,{item:e,file:t},t.fileId),canCollapse:!0,isCollapsedInitially:!0})]})};var Pe=n(9004),Re=n(75614),De=n(21682),_e=n(63046);function Le(e,t){const n=(0,_e.o)();(0,s.useEffect)((()=>{const s=n.getEvents();return s.addListener(e,t),()=>{s.removeListener(e,t)}}),[e,t,n])}var Fe=n(50809),ze=n(95077),Ve=n(51227),Ue=n(95683),Be=n(51833),Je=n(7605),Me=n(9756),He=n(87280),Ge=n(75533),qe=n(61233),Ye=n(4965),Ke=n(44478),$e=n(28105),We=n(99306),Xe=n(45540),Ze=n(7863),Qe=n(62609);const et=e=>{let{view:t,className:n}=e;const l=(0,s.useCallback)((e=>{(0,Ye.$1)(t,e.nativeEvent,"search-panel")&&e.preventDefault()}),[t]),a=(0,s.useCallback)((e=>{t.dispatch({effects:He.ql.of(new He.Jb({search:e}))})}),[t]),r=(0,s.useCallback)((()=>{(0,He.N$)(t)}),[t]),i=(0,s.useRef)(null);return(0,s.useEffect)((()=>{var e;t.dispatch({effects:He.ql.of(new He.Jb({search:""}))}),null===(e=i.current)||void 0===e||e.select()}),[t]),(0,v.jsx)("div",{className:n,children:(0,v.jsx)(We.N,{iconLeading:(0,v.jsx)(Xe.j,{}),iconTrailing:(0,v.jsx)(Ze.k,{onClick:()=>r()}),children:(0,v.jsx)(Qe.y,{ref:i,onKeyDown:e=>l(e),onChange:e=>a(e.currentTarget.value)})})})};n(68829),n(75930);var tt=n(42784);n(39301);function nt(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const st=["spotify:artist:5INjqkS1o8h1imAzPqGZBb","spotify:album:79dL7FLiJFOO0EoehUHQBv","spotify:track:6K4t31amVTZDgR3sKmwUJJ","spotify:show:1OLcQdw2PFDPG1jo3s0wbp","spotify:episode:0VpyIy8Srg5IKQdRAbDDH1"],lt=Object.values(tt.TP).filter((e=>"string"==typeof e)).map((e=>({name:e,value:(0,tt.EE)(e)})));function at(e,t){let n=0;const s=[];if(t.type.is("["))t.parent();else if(t.type.is("Property")){if(!t.firstChild())return[];s.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}for(;t.parent()&&!t.type.is("JsonText");){if(t.type.is("Array"))s.unshift("[]");else if(t.type.is("Property")){if(!t.firstChild())break;s.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}if(++n>1e4)break}return s}function rt(e,t){for(const n of t)if("[]"===n){if(!Array.isArray(e)||0===e.length)return null;e=e[0]}else Object.hasOwn(e,n)&&(e=e[n]);return e}function it(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Ve.ys)({activateOnTyping:!1,override:[t=>{const n=(0,Je.qz)(t.state).cursorAt(t.pos,-1);if(n.type.is("{")||n.type.is("Object")){const s=at(t.state,n),l=function(e,t){return Object.getOwnPropertyNames(rt(e,t))}(e,s);return{from:t.pos,options:l.map((e=>({type:"text",label:e,apply:`"${e}"`})))}}if(n.type.is("[")||n.type.is("Array")){const s=at(t.state,n),l=rt(e,s);return Array.isArray(l)&&nt(l[0])?{from:t.pos,options:[{type:"text",label:"{ ... }",apply:JSON.stringify(l[0]),boost:1},{type:"text",label:"{}",boost:0}]}:/extension/i.test(s[s.length-1])?{from:t.pos,options:lt.map((e=>{let{name:t,value:n}=e;return{type:"constant",label:t,apply:`${n}`}}))}:{from:t.pos,options:st.map((e=>({type:"text",label:`"${e}"`})))}}if(n.type.is("Property")){const s=at(t.state,n),l=function(e,t){const n=rt(e,t);return void 0===n?"null":Array.isArray(n)?"array":typeof n}(e,s),a=[];if("boolean"===l)a.push({type:"keyword",label:"true",boost:1}),a.push({type:"keyword",label:"false",boost:0});else if("null"===l)a.push({type:"keyword",label:"null",boost:1}),a.push({label:"{}",apply:"{}",boost:0});else if("string"===l){a.push({label:'""'});for(const e of st)a.push({label:`"${e}"`})}else if("number"===l)if(/extension/i.test(s[s.length-1]))for(const{name:e,value:t}of lt)a.push({type:"constant",label:e,apply:`${t}`});else a.push({label:"0",apply:"0"}),a.push({label:"10",apply:"10"}),a.push({label:"100",apply:"100"});else"object"===l?a.push({label:"{}",apply:"{}"}):"array"===l&&a.push({label:"[]",apply:"[]"});return{from:t.pos,options:a}}return null}]})}const ot=[qe.vk,(0,Je.nF)(qe.VE),(0,Ye.Eu)(),(0,Ye.ZO)(),(0,Ye.HQ)(),(0,Ye.Uw)(),Ge.yy.allowMultipleSelections.of(!0),Ye.$f.of([...Ue.wQ,...Ue.f$,...Ve.B1,...He.Lp,Ue.oc]),(0,He.yC)({top:!0,createPanel:e=>{const t=e.dom.ownerDocument.createElement("div");return(0,Ke.s)(t).render((0,v.jsx)($e.LC,{target:e.dom.ownerDocument.head,children:(0,v.jsx)(et,{view:e})})),{dom:t,top:!0}}}),(0,Je.mi)(),(0,Be.AV)()],ct=[...ot,(0,Ue.m8)(),(0,Me.ir)((0,Be.ap)()),(0,Je.nY)(),(0,Je.n$)(),(0,Ve.vQ)()],dt=[...ot,Ge.yy.readOnly.of(!0)],ut=new Ge.F6,mt=e=>{let{readOnly:t=!1,onChange:n,onDiagnostics:l,editorRef:a,className:r}=e;const i=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=new Ye.tk({parent:i.current,extensions:[...t?dt:ct,ut.of(it({})),Ye.tk.updateListener.of((e=>{e.docChanged&&(null==n||n(e.state.doc.toString()));for(const t of e.transactions)for(const e of t.effects)e.is(Me.lC)&&(null==l||l(e.value))}))]});return void 0!==a&&(a.current=e),()=>{e.destroy()}}),[t,n,l,a]),(0,v.jsx)("div",{className:r,ref:i})};function pt(e){let{readOnly:t,className:n,onChange:l,onDiagnostics:a}=e;const r=(0,s.useRef)(),i=(0,s.useRef)(l),o=(0,s.useRef)(a);i.current=l,o.current=a;const c=(0,s.useCallback)((()=>{const e=r.current;return void 0!==e?e.state.doc.toString():null}),[]),d=(0,s.useCallback)((e=>{const t=r.current;void 0!==t&&t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e}})}),[]),u=(0,s.useCallback)((e=>{const t=r.current;void 0!==t&&t.dispatch({effects:ut.reconfigure(it(e))})}),[]),m=(0,s.useCallback)((e=>{var t;null==i||null===(t=i.current)||void 0===t||t.call(i,e)}),[]),p=(0,s.useCallback)((e=>{var t;null==o||null===(t=o.current)||void 0===t||t.call(o,e)}),[]);return{Editor:(0,v.jsx)(mt,{editorRef:r,readOnly:t,className:n,onChange:m,onDiagnostics:p}),getContent:c,setContent:d,setReference:u}}var ht=n(96207);const vt="X2I_RYWYpxMLnNlZS4pC",xt="SeONzyUTUcSX69dLCXjf",ft="a6zsfAU_4iY1od9MSoF4",jt=e=>{let{name:t,value:n}=e;const s=J();return(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:U.rowName,highlight:!0,children:t}),(0,v.jsx)(P.p,{className:U.rowValue,truncate:!0,align:"right",children:n}),(0,v.jsx)(P.p,{className:U.rowActions,children:(0,v.jsx)("button",{className:U.rowAction,onClick:()=>s(n),children:(0,v.jsx)(R.c,{size:"small"})})})]})},gt=()=>{const e=(()=>{const e=(0,_e.o)(),[t,n]=(0,s.useState)(e.getSubscriptions()),l=(0,s.useCallback)((()=>{n(e.getSubscriptions())}),[e,n]);return Le(De.f.SUBSCRIBE,l),Le(De.f.CANCEL,l),Le(De.f.REFRESH,l),t})(),t=J(),n=Object.entries((0,ze.v)(e,(e=>`${e.ident}${e.isPrefix?"*":""}`)));return(0,v.jsx)(B,{title:"Subscriptions",rows:n,cols:[{name:"Ident"},{name:"Actions",width:"16px"}],renderRow:e=>{let[n,s]=e;return(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsxs)(P.p,{className:U.rowValue,truncate:!0,children:[n," (",s.length,")"]}),(0,v.jsx)(P.p,{className:U.rowActions,children:(0,v.jsx)("button",{className:U.rowAction,onClick:()=>t(n),children:(0,v.jsx)(R.c,{size:"small"})})})]},n)},canCollapse:!0})};function yt(e){if(e.ident.endsWith("/json"))return!0;if(0===e.payloads.length)return!1;const t=(0,Fe.BB)(e.payloads[0]);return t.length>0&&"{"===t[0]}const bt=e=>{let{message:t}=e;const[n,l]=(0,s.useState)(!1),{Editor:a,setContent:r}=pt({readOnly:!0});return(0,s.useEffect)((()=>{if(0!==t.payloads.length)if(yt(t)){const e=JSON.parse((0,Fe.BB)(t.payloads[0]));r(JSON.stringify(e,void 0,2))}else{const e=(0,Fe.zv)(t.payloads[0]);r(JSON.stringify(e,void 0,2))}}),[t,r]),(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:U.rowName,children:new Date(t.timestamp).toLocaleString()}),(0,v.jsx)(P.p,{className:U.rowName,children:t.ident}),(0,v.jsxs)(P.p,{className:U.rowName,children:[(0,v.jsx)("button",{className:U.rowAction,onClick:()=>l(!n),children:(0,v.jsx)(Pe.V,{size:"small"})}),(0,v.jsx)(ht.q,{isOpen:n,className:ft,onRequestClose:()=>l(!1),shouldCloseOnEsc:!0,shouldCloseOnBackdropClick:!0,animated:!0,children:a})]})]})},Nt=()=>{const e=(0,_e.o)(),[t,n]=(0,s.useState)(0),[l,a]=(0,s.useState)(!0);Le(De.f.MESSAGE,(()=>{n(t+1)}));const r=l?e.getMessages().filter(yt):e.getMessages();return(0,v.jsx)(B,{title:"Messages",titleExtra:(0,v.jsxs)("div",{className:xt,children:[(0,v.jsx)(Re.z,{id:"json-only",size:"small",checked:l,onChange:()=>a(!l)}),(0,v.jsx)(ae.x,{as:"label",htmlFor:"json-only",variant:"marginal",children:"JSON only"})]}),rows:r,cols:[{name:"Time",width:"200px"},{name:"Ident"},{name:"Payload",width:"16px"}],renderRow:(e,t)=>(0,v.jsx)(bt,{message:e},`${t}-${e.ident}-${e.timestamp}`),canCollapse:!0})},wt=()=>{const e=(()=>{const e=(0,_e.o)(),[t,n]=(0,s.useState)(null);(0,s.useEffect)((()=>{e.getConnectionId().then((e=>n(e)))}),[e,n]);const l=(0,s.useCallback)((e=>n(e.data.connectionId)),[n]);return Le(De.f.CONNECTION,l),t})();return(0,v.jsxs)("div",{className:vt,children:[(0,v.jsx)(B,{title:"PubSub",rows:(0,v.jsx)(jt,{name:"Connection ID",value:e??"-"}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),(0,v.jsx)(gt,{}),(0,v.jsx)(Nt,{})]})};n(70054);var Ct=n(49857),St=n(52427),Ot=n(15671),At=n(52438),It=n(54960),kt=n(12618),Et=n(75857),Tt=n(2334),Pt=n(36813),Rt=n(8824),Dt=n(4901),_t=n(65432),Lt=n(1469),Ft=n(14005),zt=n(39721),Vt=n(85803),Ut=n(67974);const Bt=36e5;function Jt(){var e;const t=(0,s.useContext)(Ut.N),n=(0,zt.C)(),l=null===(e=(0,Vt.r)())||void 0===e?void 0:e.username,a=(0,s.useMemo)((()=>It.Z9.getPropertySetId({clientId:t.remote_config_client_id},(0,It.y6)(),[])),[t.remote_config_client_id]),r=(0,s.useMemo)((()=>{var e,s,r;if(!t||!n.data||!l)return null;const i="web-player"===t.remote_config_client_id||"1"===n.data.employee;return{data:{platform:"WEB",clientId:t.remote_config_client_id,country:n.data.country,propertySetKey:a,clientVersion:(null===(e=t.event_sender_context_information)||void 0===e?void 0:e.client_version_string)??"",installationId:(null===(s=t.event_sender_context_information)||void 0===s?void 0:s.installation_id)??"",oauthClientId:(null===(r=t.event_sender_context_information)||void 0===r?void 0:r.client_id)??"",employee:i,catalogue:n.data.catalogue,originPlatform:t.app_platform,originVersion:t.os_version??"",userName:l}}}),[l,t,n.data,a]),{data:i}=(0,Lt.a)({queryKey:["traceback-config"],queryFn:()=>(0,Ft.k)().request("https://remote-configuration-resolver.spotify.net/debug/traceback-config",{method:"POST",responseType:"json",headers:{"content-type":"application/json"},payload:JSON.stringify(r)}).then((e=>{const t=e.body;return Object.fromEntries(t.data.map((e=>[e.name,e])))})),staleTime:5e3,gcTime:Bt,refetchInterval:Bt,refetchOnWindowFocus:!1,enabled:!!r});return i??{}}const Mt="HnpguQ3rtX44hdThdwy9",Ht="y1gsL5scUuLOArVrFYRl",Gt="Ni7focuLC626smvmOnLP",qt="W5wjtyjHTJPGX5j7_WOp",Yt="gbwwwTt68IMGNnwRJ7x7",Kt=e=>{let{property:t,value:n,onOverride:s,isOverridden:l}=e;if("int"===t.type||"internal"===t.type)throw Error("Invalid property type for dropdown!");const r="bool"===t.type?["true","false"]:t.values;return(0,v.jsx)(St.i,{id:`${t.name}-dropdown`,value:(n??t.default).toString(),onChange:e=>{var n;s(t.name,(n=e.currentTarget.value,"bool"===t.type?"true"===n:n))},className:a()({[qt]:l}),children:r.map((e=>(0,v.jsx)("option",{value:e,children:e},e)))})},$t=e=>{let{property:t,value:n,onOverride:l,isOverridden:r}=e;if("int"!==t.type)throw Error("Invalid property type for dropdown!");const[i,o]=(0,s.useState)(n??t.default),c=(0,Ct.y1)((e=>{l(t.name,e)}),500);return(0,v.jsx)(Qe.y,{type:"number",min:t.lower,max:t.upper,value:i,onChange:e=>{o(e.currentTarget.value),c(Number.parseInt(e.currentTarget.value,10))},className:a()({[qt]:r})})},Wt=e=>{let{property:t,localValue:n,remoteValue:s,experimentUrl:l,isRemoteUserSpecificOverride:a,onOverride:r,filter:i}=e;const o=n!==s,c=t.default.toString(),d=null==s?void 0:s.toString();let u=(l||c!==d?d:null)??null;return u&&l&&(u=(0,v.jsxs)("a",{href:l,target:"_blank",className:Yt,children:[d,a&&(0,v.jsx)(Ot.l,{size:"small"})]}),a&&(u=(0,v.jsx)(kt.ws,{label:"This value comes from a user-specific override in the linked experiment.",children:u}))),(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsxs)(P.p,{className:U.rowName,title:t.name,highlight:!0,children:[(0,v.jsx)("a",{href:`https://sites.spotify.net/s/hyperlink?path=property-experiments&property=${t.name}`,rel:"noopener noreferrer",target:"_blank",children:i?(0,v.jsx)(Dt.o,{searchWords:[i??""],textToHighlight:t.name}):t.name}),(0,v.jsx)("div",{className:U.propertyDescription,children:t.description})]}),(0,v.jsx)(P.p,{className:U.rowValue,children:c}),(0,v.jsx)(P.p,{className:U.rowValue,children:u}),(0,v.jsx)(P.p,{className:U.rowValue,children:"bool"===t.type||"enum"===t.type?(0,v.jsx)(Kt,{property:t,value:n,onOverride:r,isOverridden:o}):"int"===t.type?(0,v.jsx)($t,{property:t,value:n,onOverride:r,isOverridden:o}):null})]})},Xt="debugPanelRemoteConfigLastChangedAtByPropertyName",Zt=e=>{let{properties:t,localConfiguration:n,remoteConfiguration:l,setOverrides:a,clearOverrides:r}=e;const{filter:i}=(0,s.useContext)(_t.fo),o=(0,I.um)(),c=()=>{const e=o.getItem(Xt);return e instanceof Tt.d||e instanceof Pt.y?{}:e},d=(e,t)=>{a(It.VK.fromJSON({[e]:t})),o.setItem(Xt,{...c(),[e]:Date.now()})},u=(0,s.useRef)(c()),m=t.sort(((e,t)=>(u.current[t.name]??0)-(u.current[e.name]??0)||e.name.localeCompare(t.name))),p=Jt();return(0,v.jsxs)("div",{className:Ht,children:[(0,v.jsxs)("div",{className:Gt,children:[(0,v.jsx)(At.P,{size:"small",onClick:()=>{r(),o.clearItem(Xt)},children:"Clear local overrides"}),(0,v.jsx)(Rt.K,{placeholder:"Find",alwaysExpanded:!0})]}),(0,v.jsx)(_.x,{children:(0,v.jsxs)(z.i,{children:[(0,v.jsxs)("colgroup",{children:[(0,v.jsx)("col",{width:"30%"}),(0,v.jsx)("col",{}),(0,v.jsx)("col",{})]}),(0,v.jsxs)("tbody",{children:[(0,v.jsxs)(T.S,{children:[(0,v.jsx)(V.x,{className:U.rowHeader,children:"Name"}),(0,v.jsx)(V.x,{className:U.rowHeader,children:"Default"}),(0,v.jsx)(V.x,{className:U.rowHeader,children:"Remote"}),(0,v.jsx)(V.x,{className:U.rowHeader,children:"Local"})]}),m.filter((e=>-1!==e.name.toLowerCase().indexOf(i.toLowerCase()))).map((e=>{var t,s;return(0,v.jsx)(Wt,{property:e,localValue:n.getValue(e.name),remoteValue:l.getValue(e.name),experimentUrl:null==p||null===(t=p[e.name])||void 0===t||null===(t=t.experimentRef)||void 0===t?void 0:t.experimentUrl,isRemoteUserSpecificOverride:(null==p||null===(s=p[e.name])||void 0===s?void 0:s.isOverride)??!1,onOverride:d,filter:i},e.name)}))]})]})})]})},Qt=()=>{const e=[...(0,It.y6)()],{localConfiguration:t,remoteConfiguration:n,setOverrides:s,clearOverrides:l}=(0,Et.j)();return(0,v.jsx)("div",{className:Mt,children:(0,v.jsx)(_t.hz,{uri:"spotify:internal:debug:remote-config-properties",children:(0,v.jsx)(Zt,{properties:e,localConfiguration:t,remoteConfiguration:n,setOverrides:s,clearOverrides:l})})})};n(65484),n(35174),n(96241);var en=n(75802),tn=n(11317);const nn="mHtMWLOMN_lZh6Eq1lBe",sn="MNRz4Pg1lZNyfjDZ3N6M",ln=()=>{const e=(0,en.TH)(),t=(0,en.s0)(),n=e=>{const n=(0,tn.EC)(e);n&&t(n.toURLPath(!0),{state:{preventMoveFocus:!0}})},s=(0,tn.EC)(e.pathname);return(0,v.jsxs)("div",{className:nn,children:[(0,v.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target).get("navigateTo").toString(),s=new URL(t,"https://open.spotify.com");s.hostname&&s.pathname?n(s.pathname):n(t)},className:sn,children:[(0,v.jsx)("label",{htmlFor:"navigate-input",children:"Navigate to"}),(0,v.jsx)(ae.x,{variant:"bodySmall",as:"input",style:{color:X.Snx},name:"navigateTo",id:"navigate-input",type:"text",placeholder:"ex. /search/nirvana",onKeyDown:e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.stopPropagation()}})]}),(0,v.jsx)("h2",{children:"Current location:"}),(0,v.jsxs)("ul",{children:[(0,v.jsxs)("li",{children:["Location: ",e.pathname]}),e.search&&(0,v.jsxs)("li",{children:["Search params: ?",e.search]}),e.hash&&(0,v.jsxs)("li",{children:["Hash params: #",e.hash]}),s?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{children:["URL: ",s.toURL()]}),(0,v.jsxs)("li",{children:["URI: ",s.toURI()]})]}):(0,v.jsx)("li",{children:"Not parseable as a Spotify URI!"}),(0,v.jsxs)("li",{children:["Location state: ",(0,v.jsx)("pre",{children:JSON.stringify(e.state,null,2)})]})]})]})};var an=n(926),rn=n(80757),on=n(94196),cn=n(66719),dn=n(36353),un=n(85161),mn=n(94948),pn=n(25566),hn=n(39861),vn=function(e){return e.IPL="IN_PERSON",e.RGS="REMOTE",e}(vn||{});var xn=n(79718),fn=n(90779),jn=n(51550);function gn(e){let{obj:t}=e;return(0,v.jsx)(z.i,{children:(0,v.jsx)("tbody",{children:Object.entries(t).map((e=>(0,v.jsx)(yn,{name:e[0],value:e[1]},e[0])))})})}function yn(e){let{name:t,value:n}=e;const s=J();let l;return"string"==typeof n||"number"==typeof n?l=n:"boolean"==typeof n?l=(0,v.jsx)(xn.N,{defaultChecked:n,isActive:!1,onClick:e=>{e.preventDefault()}}):"object"==typeof n&&(l=(0,v.jsx)(gn,{obj:n})),(0,v.jsxs)(T.S,{hover:!0,children:[(0,v.jsx)(P.p,{className:U.rowName,highlight:!0,children:t}),(0,v.jsx)(P.p,{className:U.rowValue,truncate:!0,align:"right",children:l}),(0,v.jsx)(P.p,{className:U.rowActions,children:(0,v.jsx)("button",{className:U.rowAction,onClick:()=>{void 0!==n&&s("object"==typeof n?JSON.stringify(n):n.toString())},children:(0,v.jsx)(R.c,{size:"small"})})})]})}const bn=[{title:"Current Session",Component:()=>{const{currentSession:e,refreshCurrentSession:t}=(0,hn.A)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(fn.o,{iconOnly:jn.t,onClick:()=>{t()}}),(0,v.jsx)(_.x,{children:e&&(0,v.jsxs)(z.i,{children:[(0,v.jsxs)("colgroup",{children:[(0,v.jsx)("col",{width:"30%"}),(0,v.jsx)("col",{}),(0,v.jsx)("col",{width:"16px"})]}),(0,v.jsx)("tbody",{children:Object.entries(e).map((e=>(0,v.jsx)(yn,{name:e[0],value:e[1]},e[0])))})]})})]})}},{title:"Create New Session",Component:()=>{const{createSession:e}=(0,hn.A)(),[t,n]=(0,s.useState)(null),[l,a]=(0,s.useState)(vn.IPL),r=(0,x.I0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{children:"Create a new session as your current user (does nothing if you already have a session)"}),(0,v.jsxs)("div",{className:U.rowControl,children:[(0,v.jsxs)(j.v,{id:"sessionTypeDropdown",value:l,onSelect:e=>{switch(e){case vn.IPL:a(vn.IPL);break;case vn.RGS:a(vn.RGS);break;default:a(vn.IPL)}},children:[(0,v.jsx)("option",{value:vn.IPL,children:vn.IPL},vn.IPL),(0,v.jsx)("option",{value:vn.RGS,children:vn.RGS},vn.RGS)]}),(0,v.jsx)(f.D,{onClick:async t=>{t.preventDefault();const s=await e();n(s)},children:"Create"})]}),(0,v.jsx)(At.P,{onClick:()=>{r((0,mn.xX)(pn.q4.INVITE))},style:{marginTop:dn.mG},children:"Open invitation modal"}),null!==t&&(0,v.jsx)(un.B,{value:JSON.stringify(t,null,2),readOnly:!0})]})}},{title:"Leave Current Session",Component:()=>{const{leaveSession:e,currentSession:t}=(0,hn.A)(),[n,l]=(0,s.useState)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:U.rowName,children:"Leave your current session"}),(0,v.jsxs)("div",{className:U.rowControl,children:[(0,v.jsx)(Qe.y,{value:(null==t?void 0:t.sessionId)??"",readOnly:!0}),(0,v.jsx)(f.D,{onClick:async n=>{if(n.preventDefault(),!t)return;const s=await e();l(s)},children:"Leave"})]}),null!==n&&(0,v.jsx)(un.B,{value:JSON.stringify(n,null,2),readOnly:!0})]})}},{title:"Delete Current Session",Component:()=>{const{currentSession:e,deleteSession:t}=(0,hn.A)(),[n,l]=(0,s.useState)(null);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:U.rowName,children:"Delete your current session"}),(0,v.jsxs)("div",{className:U.rowControl,children:[(0,v.jsx)(Qe.y,{value:(null==e?void 0:e.sessionId)??"",readOnly:!0}),(0,v.jsx)(f.D,{onClick:async n=>{if(n.preventDefault(),!e)return;const s=await t();l(s)},children:"Delete"})]}),null!==n&&(0,v.jsx)(un.B,{value:JSON.stringify(n,null,2),readOnly:!0})]})}},{title:"Join Session as Guest",Component:()=>{const[e,t]=(0,s.useState)(""),n=(0,x.I0)(),l=(0,en.s0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:U.rowName,children:"Join somebody else's session (paste join token or join URI)"}),(0,v.jsxs)("div",{className:U.rowControl,children:[(0,v.jsx)(Qe.y,{value:e,onChange:e=>t(e.currentTarget.value)}),(0,v.jsx)(f.D,{onClick:async t=>{t.preventDefault();const s=(0,tn.EC)(e);s&&(0,tn._s)(s)?l(s.toURLPath(!0)):n((0,mn.xX)(pn.q4.JOIN,e))},children:"Join"})]})]})}}],Nn=()=>{const[e,t]=(0,s.useState)(-1);return(0,v.jsxs)("div",{className:nn,children:[(0,v.jsx)("h1",{children:"Social Connect!"}),(0,v.jsx)(an.U,{children:bn.map(((n,s)=>(0,v.jsxs)(rn.Q,{children:[(0,v.jsx)(on.i,{className:U.rowHeader,onClick:n=>{n.preventDefault(),t(s===e?-1:s)},isExpanded:s===e,children:n.title}),(0,v.jsx)(cn.v,{isExpanded:s===e,children:n.Component&&(0,v.jsx)(n.Component,{})})]},`${s}-item`)))})]})};var wn=n(24194);const Cn="EpKDeW2JglvI1Jul9PDh",Sn="g2miUZeGB9MKVvwZBLXH",On=()=>{const{value:e,setValue:t,clearStoredKeyValue:n,clearSessionStorage:s}=(0,wn.useSessionStorage)("eligibility"),{value:l,setValue:a,clearStoredKeyValue:r}=(0,wn.useSessionStorage)("datetime");return(0,v.jsxs)("div",{className:Cn,children:[(0,v.jsx)("h1",{children:"Premium Page Debug"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{children:"Override Eligiiblity"}),(0,v.jsxs)("select",{className:Sn,value:e,onChange:e=>t(e.target.value),children:[(0,v.jsx)("option",{}),(0,v.jsx)("option",{value:"INTRO_ELIGIBLE",children:"INTRO_ELIGIBLE"}),(0,v.jsx)("option",{value:"NON_INTRO_ELIGIBLE",children:"NON_INTRO_ELIGIBLE"}),(0,v.jsx)("option",{value:"WINBACK",children:"WINBACK"})]}),(0,v.jsx)(f.D,{className:Cn,size:"small",onClick:()=>n("eligibility"),children:"Remove Eligiblity Override"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{children:"Override Date"}),(0,v.jsx)("input",{className:Sn,type:"datetime-local",value:l,onChange:e=>a(e.target.value)}),(0,v.jsx)(f.D,{size:"small",onClick:()=>r("datetime"),children:"Remove Date/Time Override"})]}),(0,v.jsx)(f.D,{size:"small",onClick:s,children:"Remove All Overrides"})]})};var An=n(17676),In=n(29074),kn=n(60558),En=n(65441),Tn=n(7627),Pn=n(65786),Rn=n(23120);n(20069);const Dn=new Rn.o("lookupDebug","query","d0ecc1331f8285583116076f7f83af19ce8d9d4d5cd86c0b8a888fbbde308384",null);var _n=n(60886),Ln=n(62648);const Fn="u52EO0zzXPDFTTlWPw5O",zn="xj_2z64kLq0lRP2TaIXN";function Vn(e){return Boolean(e)}function Un(e){return(0,_n.sf)(e)}const Bn=()=>{const{request:e}=(0,s.useContext)(En.Ax),[t,n]=(0,Pn.z)(Ln._,[]),[l,a]=(0,s.useState)(""),r=async()=>{var s;if(!function(e){const t=(0,tn.EC)(e);return!(!t||(0,tn.zO)(t)||(null==t?void 0:t.id)===tn.JM.COLLECTION||!(!t||(0,tn.YF)(t)||(0,tn.OB)(t)||(0,tn.hn)(t)||(0,tn.Kv)(t)||(0,tn.wj)(t)||(0,tn.RS)(t)||(0,tn.CA)(t)))}(l))return;const a=await(0,Tn.J)(e,Dn,{uris:[l]}),r=(null==a||null===(s=a.data)||void 0===s?void 0:s.lookup.map(Un).filter(Vn))||[];n(r.concat(t))};return(0,v.jsxs)("div",{className:Fn,children:[(0,v.jsx)("h1",{children:"Home"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{children:"Shortcuts override"}),(0,v.jsxs)(In.c,{label:"Entity URI to add",labelFor:"shortcut_to_add",children:[(0,v.jsx)(Qe.y,{id:"shortcut_to_add",type:"text",placeholder:"spotify:episode:123123",value:l,onChange:e=>a(e.currentTarget.value)}),(0,v.jsxs)(kn.C,{children:["Right now we only allow: Artist, Album, Audiobook, Podcast, Track, User, Playlist, Episode and Chapter.",(0,v.jsx)("br",{})," For more info check the HomeV2ShortcutsShelf logic."]})]}),(0,v.jsx)(f.D,{size:"small",className:zn,disabled:0===l.length,onClick:()=>{r()},children:"Add to Shortcuts"}),(0,v.jsx)(f.D,{size:"small",className:zn,onClick:()=>{n([])},children:"Clear all overrides"})]})]})},Jn="wjncHEmBUc7V8RZYdENw",Mn="uyHngn_fJez61BsFl3tA",Hn="J2KhtXbDovVMDOMzv1Jy",Gn="h5nLocSUS3w2NB53IdWQ",qn="debugWindowActiveTabGroup",Yn="debugWindowActiveTabIndex",Kn=()=>{const e=(0,ie.f)().getCapabilities().canGetFiles,t=(0,k.Y)(),n=(0,A.ky)(),l=(0,d.W6)(An.yaB);(0,s.useEffect)((()=>{n&&(n.title="Spotify Debug Window")}),[n]);const u=(0,s.useMemo)((()=>Object.fromEntries(Object.entries({Page:[null].filter(E.K),Authorization:[{label:"Access Token",Panel:H}],Playback:[e?{label:"Playback",Panel:Te}:null,{label:"Connect",Panel:$},t?{label:"Social Connect",Panel:Nn}:null].filter(E.K),"Data Fetching":[null,{label:"PubSub",Panel:wt},null].filter(E.K),UI:[{label:"Routing",Panel:ln}].filter(E.K),Other:[{label:"Remote Config",Panel:Qt},null,{label:"In-App Messaging",Panel:S},{label:"Your DJ",Panel:O.Fh},{label:"Home",Panel:Bn},{label:"Premium Page",Panel:On}].filter(E.K)}).filter((e=>{let[t,n]=e;return n.length>0})))),[e,t]),m=Object.keys(u),p=(0,I.um)(),h=p.getItem(qn),x="string"==typeof h&&h in u?h:m[0],[f,j]=(0,s.useState)(x),g=p.getItem(Yn),y="number"==typeof g&&g in u[f]?g:0,[b,N]=(0,s.useState)(y),w=u[f][b].Panel;return(0,v.jsx)("div",{className:a()("encore-dark-theme","encore-layout-themes",{"vertical-metrics":l}),children:(0,v.jsxs)("div",{className:Jn,children:[(0,v.jsx)(r.W,{className:Mn,children:(0,v.jsx)(i.b,{flexMobile:!0,children:m.map((e=>(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(o.W,{children:e}),u[e].map(((t,n)=>(0,v.jsx)(c._,{active:f===e&&b===n,label:t.label,onClick:()=>{j(e),p.setItem(qn,e),N(n),p.setItem(Yn,n)},className:Hn,children:t.label},t.label)))]},e)))})}),(0,v.jsx)("div",{className:Gn,children:(0,v.jsx)(w,{})})]})})}},85803:(e,t,n)=>{n.d(t,{r:()=>a});n(86277);var s=n(29132),l=n(82857);const a=()=>{const e=(0,s.v9)((e=>{var t;return null===(t=e.session)||void 0===t?void 0:t.user}));return e?{type:l.p.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((e=>{let{url:t,width:n,height:s}=e;return{url:t,width:n||void 0,height:s||void 0}}))}:null}}}]);
//# sourceMappingURL=xpui-debug-window-contents.927f83a9.js.map