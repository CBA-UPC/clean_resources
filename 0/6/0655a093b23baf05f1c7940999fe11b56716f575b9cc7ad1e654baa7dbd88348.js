!function(){return {1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AAdFuelModule=r.ModuleFlags=void 0;var u,d=e("./Logger"),c=e("./promiseWithTimeout"),p=e("./localization"),e=((e=u=r.ModuleFlags||(r.ModuleFlags={}))[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI",Object.defineProperty(o.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),o);function o(e,t,r,o,n,i,s,l){void 0===i&&(i=u.EnableForDomestic|u.EnableForForeign),void 0===s&&(s=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var a=this;this.config=e,this.MODULE_NAME=t,this.MODULE_VERSION=r,this.MODULE_LOG_TAG=o,this.logStyle=n,this.moduleFlags=i,this.consentTags=s,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.userConsentLib=(null==(e=window.WM)?void 0:e.UserConsent)||(null==(t=window.WBD)?void 0:t.UserConsent),this.environmentMatchesFlags=this.callInit=function(){a.logger.log("Waiting for UserConsent..."),a.waitForUserConsent().then(function(){var e;a.logger.log("Checking Module Flags...",a.moduleFlags),(a.moduleFlags&u.RunWithoutConsent)==u.RunWithoutConsent||null!=(e=a.userConsentLib)&&e.inUserConsentState(a.consentTags)?(a.moduleFlags&&u.RunWithoutAdFuel)==u.RunWithoutAdFuel?(null!=(e=window.AdFuel)&&e.registerModule(a)||document.addEventListener("AdFuelCreated",function(){var e;a.logger.log("Registering with AdFuel..."),null!=(e=window.AdFuel)&&e.registerModule(a)}),a.logger.log("Checking Environment..."),a.environmentMatchesFlags()?(a.logger.log("Calling Init..."),a.init().then(function(){var e;window.AdFuel?(a.logger.log("Setting Module Loaded..."),null!=(e=window.AdFuel)&&e.setModuleLoaded(a.MODULE_LOG_TAG)):(a.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var e;a.logger.log("Setting Module Loaded..."),null!=(e=window.AdFuel)&&e.setModuleLoaded(a.MODULE_LOG_TAG)}))})):(a.logger.warn("Not initializing ".concat(a.MODULE_NAME," for environmental reasons."),a.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(a.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(a.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",)):(a.logger.log("Waiting for AdFuel..."),a.waitForAdFuel().then(function(){var e;null!=(e=window.AdFuel)&&e.registerModule(a)||document.addEventListener("AdFuelCreated",function(){var e;a.logger.log("Registering with AdFuel..."),null!=(e=window.AdFuel)&&e.registerModule(a)}),a.logger.log("Checking Environment..."),a.environmentMatchesFlags()?(a.logger.log("Calling Init..."),a.init().then(function(){var e;window.AdFuel?(a.logger.log("Setting Module Loaded..."),null!=(e=window.AdFuel)&&e.setModuleLoaded(a.MODULE_LOG_TAG)):(a.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var e;a.logger.log("Setting Module Loaded..."),null!=(e=window.AdFuel)&&e.setModuleLoaded(a.MODULE_LOG_TAG)}))})):a.logger.warn("Not initializing ".concat(a.MODULE_NAME," for environmental reasons."),a.moduleFlags)}).catch(function(e){a.logger.warn("".concat(a.MODULE_NAME," errored waiting for AdFuel."),e)})):(a.logger.info("User consent is not granted.",null==(e=a.userConsentLib)?void 0:e.inUserConsentState(a.consentTags)),null!=(e=window.AdFuel)&&e.setModuleLoaded(a.MODULE_LOG_TAG))}).catch(},this.waitForAdFuel=this.waitForUserConsent=function(){return!a.userConsentLib||(a.moduleFlags&u.RunWithoutConsent)==u.RunWithoutConsent?Promise.resolve():(0,c.promiseWithTimeout)(5e3,new Promise(function(e){var t;a._logger.log("Consent Promise with Timeout..."),null!=(t=a.userConsentLib)&&t.isReady()?(a._logger.log("Consent Is Ready..."),null!=(t=a.userConsentLib)&&t.isInRegion("gdpr")?(a._logger.log("Region is GDPR..."),null!=(t=null==(t=a.userConsentLib)?void 0:t.isOptanonLoaded())&&t?(a._logger.log("Optanon is Loaded..."),e()):(a._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",)):(a._logger.log("Region is not GDPR..."),e())):a.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",):(console.log("No User Consent..."),e())}))},this._logger=new d.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}r.AAdFuelModule=e},{"./Logger":3,"./localization":13,"./promiseWithTimeout":15}],2:[function(e,t,r){"use strict";function o(){}Object.defineProperty(r,"__esModule",{value:!0}),r.CookieHelper=void 0,o.hasCookie=function(e){return"undefined"!=typeof window&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+e+"=")||0===document.cookie.indexOf(e+"="))},o.setCookie=o.readCookie=function(e){var t,r,o=!1,n=null;return(o="undefined"!=typeof localStorage?!0:o)&&(n=localStorage.getItem(e)),o&&null!==n||(r=(t=e).length+1,n="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map(function(e){return e.trim()}).filter(.map([0]||null),n},r.CookieHelper=o},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=r.LogLevel=void 0,(o=n=r.LogLevel||(r.LogLevel={})).Info="background: green;color: white;",o.Warning="background: orange;color: black",o.Error="background: red;color:white",Object.defineProperty(i.prototype,"isDebugging",{get:function(){var e;return void 0===this._debug&&(e=this.getUrlParam("debug").split(","),this._debug="true"===e[0]||0<=e.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),i.prototype.info=function(e){for(var t=1;t<arguments.length;t++)t-1,0},i.prototype.warn=function(e){for(var t=1;t<arguments.length;t++)t-1,0},i.prototype.error=function(e){for(var t=1;t<arguments.length;t++)t-1,0},i.prototype.log=function(e){for(var t=1;t<arguments.length;t++)t-1,0},i.prototype.groupStart=i.prototype.groupEnd=i.prototype.timeStart=function(e){var t="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(t)},i.prototype.timeEnd=i.prototype.getUrlParam=function(e){return"undefined"!=typeof document&&(e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]"+e+"=([^&#]*)"),document)&&document.location&&document.location.search&&(e=e.exec(document.location.search))?e[1]:""};var n,o=i;function i(e,t,r,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=t||"",this._logKey=r||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),n.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),n.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),n.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),n.Info,this._normalStyle))}r.Logger=o},{}],4:[function(e,t,r){"use strict";bject.defineProperty(r,"__esModule",{value:!0}),r.Performance=void 0,o.prototype.addMark=function(e){"undefined"!=typeof window&&window.performance.mark("[".concat(this._tag,"] ").concat(e))},o.prototype.addMeasure=function(e){"undefined"!=typeof window&&window.performance.measure("[".concat(this._tag,"] ").concat(e),"[".concat(this._tag,"] ").concat(e," START"),"[".concat(this._tag,"] ").concat(e," END"))},o.prototype.getMarks=function(){var e,t=this;return null!=(e=null===window||void 0===window?void 0:window.performance.getEntriesByType("mark").filter(function(e){return e.name.indexOf("[".concat(t._tag,"] "))}))?e:[]},o.prototype.getMeasures=function(){var e,t=this;return null!=(e=null===window||void 0===window?void 0:window.performance.getEntriesByType("measure").filter()?e:[]},r.Performance=o},{}],5:[function(e,t,r){"use strict";bject.defineProperty(r,"__esModule",{value:!0}),r.PiiFilter=void 0,o.prototype.presentInQueryString=function(){if(document.location.search){var t=document.location.search.search(this.re)+1,r=void 0;try{r=decodeURIComponent(document.location.search).search(this.re)+1}catch(e){r=t}return 1===t||1===r}return!1},o.prototype.presentInHash=o.prototype.presentInReferrer=o.prototype.filterDFPRequest=function(){if(this.presentInQueryString()||this.presentInHash()||this.presentInReferrer()){if("undefined"!=typeof window&&window.AdFuel){this.logger.log("Filtering DFP Request due to PII in query string.");for(var e=Object.getOwnPropertyNames(window.AdFuel),t=0;t<e.length;t++);window.googletag=null}return!0}return!1},Object.defineProperty(o.prototype,"qs",{get:function(){return this.presentInQueryString},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hash",{get:function(){return this.presentInHash},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ref",{get:function(){return this.presentInReferrer},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPIIPresent",{get:function(){return this.present},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"filter",{get:function(){return this.filterDFPRequest},enumerable:!1,configurable:!0}),r.PiiFilter=o},{}],6:[function(e,t,r){"use strict";bject.defineProperty(r,"__esModule",{value:!0}),r.Version=void 0,Object.defineProperty(o.prototype,"major",{get:function(){var e;return null!=(e=this.setMajorTo)?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"minor",{get:function(){var e;return null!=(e=this.setMinorTo)?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"revision",{get:function(){var e;return null!=(e=this.setRevisionTo)?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"family",{get:enumerable:!1,configurable:!0}),r.Version=o},{}],7:[{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getUrlParam=void 0,r.getUrlParam=function(e){return"undefined"!=typeof document&&(e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]"+e+"=([^&#]*)"),document)&&document.location&&document.location.search&&(e=e.exec(document.location.search))?e[1]:""}},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getViewport=void 0,r.getViewport=function(){var e=0,t=0,t="undefined"!=typeof window&&window&&void 0!==window.innerWidth?(e=window.innerWidth,window.innerHeight):("undefined"!=typeof document&&document&&void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,document.documentElement):(e=document.getElementsByTagName("body")[0].clientWidth,document.getElementsByTagName("body")[0])).clientHeight;return{width:e,height:t,toGpt:[""+e,""+t]}}},{}],10:[{}],11:[{"./AAdFuelModule":1,"./CookieHelper":2,"./Logger":3,"./Performance":4,"./PiiFilter":5,"./Version":6,"./generateCacheBuster":7,"./getUrlParam":8,"./hasVideo":10,"./loadScriptFromUrl":12,"./localization":13,"./normalizeUrl":14,"./promiseWithTimeout":15,"./setHostAndPathNames":16,"./variables":17,"./waitForVideo":18}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.loadScriptFromUrl=void 0;var o=e("./promiseWithTimeout");r.loadScriptFromUrl=function(l,a,u,d){return void 0===u&&(u=document),void 0===d&&(d=!0),(0,o.promiseWithTimeout)(5e3,new Promise(function(e,t){var r,o,n=u.createElement("script");if(document.getElementById(a))t("Element name ".concat(a," already exists in the document."));else try{var i="",s=(i=1<l.split("//").length?l:(null!==(o="https:"===(null==(r=u.location)?void 0:r.protocol))&&o?"https://":"http://").concat(l),u.getElementsByTagName("script")[0]);if(n.id=a,n.type="text/javascript",n.src=i,n.async=d,n.addEventListener("load",,null==s||!s.parentNode)throw new Error("Could not insert script.");s.parentNode.insertBefore(n,s)}catch(e){console.log("Error in loading script from ".concat(n.src),e),t(e)}}))}},{"./promiseWithTimeout":15}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setIsUSCNN=r.setIsIntl=r.isUSCNN=r.isIntl=void 0;var i=e("./setHostAndPathNames"),s=e("./getUrlParam"),o=e("./Logger"),l=e("./variables"),a=new o.Logger(l.MODULE_NAME,l.MODULE_VERSION.toString(),l.MODULE_LOG_TAG,"color: coral; padding: 2px"),u=!1,d=!1,c=new Set(["US","CA"]),p=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;r.isIntl=function(){var e=!1,t=(0,i.setHostAndPathNames)(),r=(null==(r=null==(r=window.WM)?void 0:r.UserConsent)?void 0:r.getGeoCountry())||l.countryCode,o=(null==(o=null==(o=window.WM)?void 0:o.UserConsent)?void 0:o.getGeoState())||"",n=0<=t.search(/^(.*\.)?cnn\.com$/);return n&&c.delete("CA"),a.log("Is CNN:",n),a.log("Domestic Country Codes: ",Array.from(c)),a.log("UserConsent Location: ",{state:o,country:r}),"true"===(0,s.getUrlParam)("isIntl")?(u||(u=!0,a.log("Faking international site. Using International PubIds.")),e=!0):0<=t.search(p)?(u||(u=!0,a.log("Full international site. Using International PubIds.")),e=!0):""===r||null===r?(u||(u=!0,a.log("No country code. Using Domestic PubIds.")),e=!1):c.has(r)?u||(u=!0,a.log("Domestic site or country code. Using Domestic PubIds."),e=!1):0<=t.search(/^.*(money|\.cnn)\./)?(0<=t.search(/^.*us\.cnn\.com/)&&(u||a.log("International user but domestic page.  Using alternate International PubIds if available."),d=!0),u||(u=!0,a.log("International country code. Using International PubIds.")),e=!0):0<=t.search(/^.*us\.cnn\.com/)?(u||(u=!0,a.log("International user but domestic page. Using alternate International PubIds if available.")),d=e=!0):(u||(u=!0,a.log("International country code but domestic site. Using International PubIds if available.")),e=!0),e};r.isUSCNN=r.setIsIntl=r.isIntl,r.setIsUSCNN=r.isUSCNN},{"./Logger":3,"./getUrlParam":8,"./setHostAndPathNames":16,"./variables":17}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeUrl=void 0,r.normalizeUrl=function(e){var t=Object.assign({normalizeProtocol:!0,normalizeHttps:!1,normalizeHttp:!0,stripFragment:!0,stripWWW:!0,removeQueryParameters:!0,removeTrailingSlash:!1,removeDirectoryIndex:!1},{}),r=e.trim(),o="/"===e[0]&&"/"===e[1],n=(!o&&/^\.*\//.test(e)||(r=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,"http://")),document.createElement("a"));if(n.href=r,t.normalizeHttps&&t.normalizeHttp)throw new Error("The `normalizeHttp` and `normalizeHttps` options cannot be used together");return t.normalizeHttp&&("http:"===n.protocol||o)&&(n.protocol="https:"),t.normalizeHttps&&("https:"===n.protocol||o)&&(n.protocol="http:"),t.stripFragment&&(n.hash=""),n.pathname&&(n.pathname=n.pathname.replace(/((?![https?:]).)\/{2,}/g,),n.pathname&&(n.pathname=decodeURI(n.pathname)),n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),t.stripWWW)&&(n.hostname=n.hostname.replace(/^www\./,"")),t.removeQueryParameters&&(n.search=""),r=n.href,!t.removeTrailingSlash&&"/"!==n.pathname||(r=e.replace(/\/$/,"")),r=o&&!t.normalizeProtocol?e.replace(/^http:\/\//,"//"):r}},{}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.promiseWithTimeout=void 0,r.promiseWithTimeout=function(o,e,n){void 0===n&&(n="The promise timed out.");var t=new Promise(;return Promise.race([e,t])}},{}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setHostAndPathNames=void 0;r.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hasUserConsent=r.selectedEdition=r.locationServiceURL=r.countryCode=r.noop=r.toString=r.MODULE_LOG_TAG=r.MODULE_VERSION=r.MODULE_NAME=void 0;var o=e("./Version"),e=e("./CookieHelper"),n=Object.prototype;r.MODULE_NAME="Ad Utilities",r.MODULE_VERSION=new o.Version(5,0,102,"TS"),r.MODULE_LOG_TAG="utils",r.toString=n.toString,r.noop=r.countryCode=e.CookieHelper.readCookie("countryCode")||(null!=(n=null==(o=e.CookieHelper.readCookie("CG"))?void 0:o.substr(0,2))?n:"");r.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",r.selectedEdition=null!=(o=e.CookieHelper.readCookie("SelectedEdition"))?o:"www",r.hasUserConsent="undefined"!=typeof window&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":6}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.waitForVideo=void 0;r.waitForVideo=,{}],19:[function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}),function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Enumerables")),s=e("./Comparers"),e=(l.prototype.toList=function(){return new p(this.toArray())},l.prototype.toDictionary=l.prototype.reverse=function(){return new i.ReverseEnumerable(this.asEnumerable())},l.prototype.concat=l.prototype.contains=function(t){return this.any(function(e){return e===t})},l.prototype.where=function(e){return new i.ConditionalEnumerable(this.asEnumerable(),e)},l.prototype.select=function(e){return new i.TransformEnumerable(this.asEnumerable(),e)},l.prototype.selectMany=function(t){return this.select(function(e){e=t(e);return e instanceof Array?new i.ArrayEnumerable(e):e.asEnumerable()}).toArray().reduce(i.Enumerable.empty())},l.prototype.elementAt=function(e){e=this.elementAtOrDefault(e);if(void 0===e)throw new Error("Out of bounds");return e},l.prototype.except=function(e){return this.asEnumerable().except(e)},l.prototype.first=function(e){e=void 0!==e?this.firstOrDefault(e):this.firstOrDefault();if(void 0===e)throw new Error("Sequence contains no elements");return e},l.prototype.groupBy=function(e,t){for(var r=this.toArray(),o=new m,n=0;n<r.length;++n){var i=e(r[n]),s=void 0!==t?t(r[n]):r[n];o.containsKey(i)||o.set(i,new p),o.get(i).push(s)}return o.asEnumerable()},l.prototype.last=function(e){e=void 0!==e?this.lastOrDefault(e):this.lastOrDefault();if(void 0===e)throw new Error("Sequence contains no elements");return e},l.prototype.single=function(e){e=void 0!==e?this.singleOrDefault(e):this.singleOrDefault();if(void 0===e)throw new Error("Sequence contains no elements");return e},l.prototype.singleOrDefault=function(e){return void 0!==e?this.asEnumerable().singleOrDefault(e):this.asEnumerable().singleOrDefault()},l.prototype.skipWhile=function(e){return this.asEnumerable().skipWhile(e)},l.prototype.takeWhile=function(e){return this.asEnumerable().takeWhile(e)},l.prototype.sequenceEqual=function(e,t){return void 0!==t?this.asEnumerable().sequenceEqual(e,t):this.asEnumerable().sequenceEqual(e)},l.prototype.distinct=l.prototype.min=function(e){return void 0!==e?new i.TransformEnumerable(this.asEnumerable(),e).min():this.aggregate(function(e,t){return void 0!==e&&e<t?e:t})},l.prototype.orderBy=l.prototype.orderByDescending=l.prototype.max=function(e){return void 0!==e?new i.TransformEnumerable(this.asEnumerable(),e).max():this.aggregate(function(e,t){return void 0!==e&&t<e?e:t})},l.prototype.sum=function(r){return this.aggregate(function(e,t){return e+r(t)},0)},l.prototype.skip=l.prototype.take=l.prototype.union=l.prototype.aggregate=function(e,t){return void 0!==t?this.asEnumerable().aggregate(e,t):this.asEnumerable().aggregate(e)},l.prototype.any=function(e){return void 0!==e?this.asEnumerable().any(e):this.asEnumerable().any()},l.prototype.all=function(e){return this.asEnumerable().all(e)},l.prototype.average=function(e){return this.asEnumerable().average(e)},l.prototype.count=function(e){return void 0!==e?this.asEnumerable().count(e):this.asEnumerable().count()},l.prototype.elementAtOrDefault=function(e){return this.asEnumerable().elementAtOrDefault(e)},l.prototype.firstOrDefault=function(e){return void 0!==e?this.asEnumerable().firstOrDefault(e):this.asEnumerable().firstOrDefault()},l.prototype.lastOrDefault=function(e){return void 0!==e?this.asEnumerable().lastOrDefault(e):this.asEnumerable().lastOrDefault()},l.prototype.forEach=l.prototype.defaultIfEmpty=function(e){return void 0!==e?this.asEnumerable().defaultIfEmpty(e):this.asEnumerable().defaultIfEmpty()},l.prototype.zip=l);.EnumerableCollection=e;n(d,a=e),d.prototype.asArray=function(){return this.source},d.prototype.toArray=d.prototype.toList=function(){return new p(this.toArray())},d.prototype.asEnumerable=d.prototype.aggregate=function(e,t){return void 0!==t?this.source.reduce(e,t):this.source.reduce(e)},d.prototype.any=function(e){return void 0!==e?this.source.some(e):0<this.source.length},d.prototype.all=function(e){return this.source.every(e)},d.prototype.average=function(e){if(0===this.count())throw new Error("Sequence contains no elements");for(var t=0,r=0,o=this.source.length;r<o;++r)t+=e(this.source[r]);return t/this.source.length},d.prototype.count=function(e){return(void 0!==e?this.source.filter(e):this.source).length},d.prototype.elementAtOrDefault=d.prototype.firstOrDefault=function(e){return(void 0!==e?this.source.filter(e):this.source)[0]},d.prototype.groupBy=function(e,t){for(var r=this.asArray(),o=new m,n=0;n<r.length;++n){var i=e(r[n]),s=void 0!==t?t(r[n]):r[n];o.containsKey(i)||o.set(i,new p),o.get(i).push(s)}return o.asEnumerable()},d.prototype.lastOrDefault=function(e){return void 0!==e?(e=this.source.filter(e))[e.length-1]:this.source[this.source.length-1]},d.prototype.forEach=d.prototype.sequenceEqual=function(e,t){if(void 0===t&&(t=s.strictEqualityComparer()),e instanceof d||e instanceof Array){var r=this.asArray(),o=e instanceof d?e.asArray():e;if(r.length!=o.length)return!1;for(var n=0;n<r.length;++n)if(!t(r[n],o[n]))return!1;return!0}return this.asEnumerable().sequenceEqual(e,t)};var a,u=d;function d(e){void 0===e&&(e=[]);var t=a.call(this)||this;return t.source=e,t}r.ArrayQueryable=u;n(g,c=u),g.prototype.copy=function(){return new g(this.toArray())},g.prototype.asReadOnly=function(){return this},g.prototype.clear=function(){this.source=[]},g.prototype.remove=g.prototype.removeAt=function(e){if(e<0||void 0===this.source[e])throw new Error("Out of bounds");return this.source.splice(e,1)[0]},g.prototype.get=g.prototype.push=function(e){return this.source.push(e)},g.prototype.pushRange=g.prototype.pushFront=function(e){return this.source.unshift(e)},g.prototype.pop=function(){return this.source.pop()},g.prototype.popFront=function(){return this.source.shift()},g.prototype.set=g.prototype.insert=g.prototype.indexOf=function(e){return this.source.indexOf(e)};var c,p=g;function g(){return null!==c&&c.apply(this,arguments)||this}r.List=p;n(f,h=u),f.prototype.copy=function(){return new f(this.toArray())},f.prototype.clear=f.prototype.peek=f.prototype.pop=function(){return this.source.pop()},f.prototype.push=function(e){return this.source.push(e)};var h,u=f;.Stack=u;n(v,y=e),v.fromArray=v.fromJsObject=v.prototype.copy=function(){return new v(this.toArray())},v.prototype.asReadOnly=function(){return this},v.prototype.asEnumerable=function(){return new i.ArrayEnumerable(this.toArray())},v.prototype.toArray=v.prototype.clear=v.prototype.containsKey=function(e){return this.dictionary.hasOwnProperty(e)},v.prototype.containsValue=v.prototype.getKeys=function(){var t=this,e=this.getKeysFast();return new p(e.map()},v.prototype.getKeysFast=v.prototype.getValues=v.prototype.remove=v.prototype.get=v.prototype.set=v.prototype.setOrUpdate=function(e,t){void 0===this.keyType&&(this.keyType=typeof e),this.dictionary[e]=t};var y,m=v;function v(e){var t=y.call(this)||this;if(t.clear(),void 0!==e)for(var r=0;r<e.length;++r){var o=e[r];t.set(o.key,o.value)}return t}r.Dictionary=m},{"./Comparers":20,"./Enumerables":21}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.strictEqualityComparer=r.combineComparers=r.createComparer=function(r,e,o){return void 0!==o?e?function(e,t){e=r(e),t=r(t);return e<t?-1:t<e?1:0}:},{}],21:[function(e,U,t){"use strict";var N,r=this&&this.__extends||(N=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:,,k=(Object.defineProperty(t,"__esModule",{value:!0}),e("./Iterators")),o=e("./Comparers"),l=e("./Collections"),n=e("./Utils"),e=(i.prototype.reset=i.prototype.next=function(){return this.source.next()},i.prototype.asEnumerable=function(){return this},i.prototype.toArray=i.prototype.toList=i.prototype.toDictionary=i.prototype.count=function(e){if(void 0!==e)return new c(this,e).count();var t=0;for(this.reset();this.next();)++t;return t>>>0},i.prototype.any=function(e){return void 0!==e?new c(this,e).any():(this.reset(),this.next())},i.prototype.all=i.prototype.reverse=i.prototype.contains=i.prototype.sequenceEqual=function(e,t){void 0===t&&(t=o.strictEqualityComparer());var r=e instanceof Array?new T(e):e.asEnumerable();for(this.reset(),r.reset();this.next();)if(!r.next()||!t(this.value(),r.value()))return!1;return!r.next()},i.prototype.where=function(e){return new c(this.copy(),e)},i.prototype.select=function(e){return new A(this.copy(),e)},i.prototype.selectMany=function(t){return this.select(function(e){e=t(e);return Array.isArray(e)?new T(e):e.asEnumerable()}).toArray().reduce(a.empty())},i.prototype.skipWhile=function(e){return new j(this.copy(),e)},i.prototype.concat=i.prototype.defaultIfEmpty=i.prototype.elementAt=function(e){e=this.elementAtOrDefault(e);if(void 0===e)throw new Error("Out of bounds");return e},i.prototype.elementAtOrDefault=i.prototype.except=i.prototype.first=function(e){e=void 0!==e?this.firstOrDefault(e):this.firstOrDefault();if(void 0===e)throw new Error("Sequence contains no elements");return e},i.prototype.firstOrDefault=function(e){return void 0!==e?new c(this,e).firstOrDefault():(this.reset(),this.next()?this.value():void 0)},i.prototype.forEach=i.prototype.groupBy=function(e,t){for(var r=this.toArray(),o=new l.Dictionary,n=0;n<r.length;++n){var i=e(r[n]),s=void 0!==t?t(r[n]):r[n];o.containsKey(i)||o.set(i,new l.List),o.get(i).push(s)}return o.asEnumerable()},i.prototype.last=function(e){e=void 0!==e?this.lastOrDefault(e):this.lastOrDefault();if(void 0===e)throw new Error("Sequence contains no elements");return e},i.prototype.lastOrDefault=function(e){return void 0!==e?new c(this,e).lastOrDefault():((e=new V(this)).reset(),e.next()?e.value():void 0)},i.prototype.single=function(e){e=void 0!==e?this.singleOrDefault(e):this.singleOrDefault();if(void 0===e)throw new Error("Sequence contains no elements");return e},i.prototype.singleOrDefault=function(e){if(void 0!==e)return new c(this,e).singleOrDefault();if(this.reset(),this.next()){e=this.value();if(this.next())throw new Error("Sequence contains more than 1 element");return e}},i.prototype.distinct=function(e){return new b(this.copy(),e)},i.prototype.aggregate=function(e,t){var r=t;if(this.reset(),void 0===t){if(!this.next())throw new Error("Sequence contains no elements");r=e(r,this.value())}for(;this.next();)r=e(r,this.value());return r},i.prototype.min=function(e){return void 0!==e?new A(this,e).min():this.aggregate(function(e,t){return void 0!==e&&e<t?e:t})},i.prototype.orderBy=i.prototype.orderByDescending=i.prototype.max=function(e){return void 0!==e?new A(this,e).max():this.aggregate(function(e,t){return void 0!==e&&t<e?e:t})},i.prototype.sum=i.prototype.average=i.prototype.skip=i.prototype.take=i.prototype.takeWhile=i.prototype.union=i.prototype.zip=function(e,t){e=e instanceof Array?new T(e):e.asEnumerable();return new J(this,e,t)},i);function i(e){this.source=e}t.EnumerableBase=e;r(u,s=e),u.fromSource=u.empty=u.range=function(e,t,r){if(void 0===r&&(r=!0),t<0)throw new Error("Count must be >= 0");var o=new Array(t);if(r)for(var n=0;n<t;o[n]=e+n++);else for(n=0;n<t;o[n]=e-n++);return new T(o)},u.repeat=u.prototype.copy=function(){return new u(this.source.copy())},u.prototype.value=u.prototype.reset=function(){s.prototype.reset.call(this),this.currentValue.invalidate()},u.prototype.next=function(){return this.currentValue.invalidate(),s.prototype.next.call(this)};var s,a=u;function u(e){e=s.call(this,e)||this;return e.currentValue=new n.Cached,e}t.Enumerable=a;r(p,d=a),p.prototype.copy=function(){return new p(this.source.copy(),this._predicate)},p.prototype.next=function(){for(var e;(e=d.prototype.next.call(this))&&!this._predicate(this.value()););return e};var d,c=p;.ConditionalEnumerable=c;r(h,g=a),h.prototype.reset=function(){g.prototype.reset.call(this),this._shouldContinueChecking=!0},h.prototype.copy=function(){return new h(this.source.copy(),this._predicate)},h.prototype.next=var g,j=h;function h(e,t){e=g.call(this,e)||this;return e._predicate=t,e._shouldContinueChecking=!0,e}t.SkipWhileEnumerable=j;r(y,f=a),y.prototype.reset=y.prototype.copy=function(){return new y(this.source.copy(),this._predicate)},y.prototype.next=var f,W=y;function y(e,t){e=f.call(this,e)||this;return e._predicate=t,e._shouldContinueTaking=!0,e}t.TakeWhileEnumerable=W;r(v,$=a),v.prototype.copy=v.prototype.reset=v.prototype.next=v.prototype.value=var $,m=v;.ConcatEnumerable=m;r(S,w=a),S.prototype.copy=function(){return new S(this.source.copy(),this._keySelector)},S.prototype.reset=S.prototype.isUnique=function(e){var e=void 0!==this._keySelector?this._keySelector(e):e,t=typeof e;return t in this._seen.primitive?!this._seen.primitive[t].hasOwnProperty(e)&&(this._seen.primitive[t][e]=!0):-1===this._seen.complex.indexOf(e)&&-1<this._seen.complex.push(e)},S.prototype.next=var w,b=S;function S(e,t){e=w.call(this,e)||this;return e._keySelector=t,e._seen={primitive:{number:{},string:{},boolean:{}},complex:[]},e}t.UniqueEnumerable=b;r(M,E=a),M.prototype.copy=M.prototype.reset=M.prototype.isValidIndex=function(){var e=void 0!==this._start?this._start:0,t=void 0!==this._count?e+this._count:void 0;return this._currentIndex>=e&&(void 0===t||this._currentIndex<t)},M.prototype.performSkip=function(){for(var e=void 0!==this._start?this._start:0,t=!0;t&&this._currentIndex+1<e;)t=E.prototype.next.call(this),++this._currentIndex;return t},M.prototype.next=M.prototype.value=var E,_=M;function M(e,t,r){var o=this;if(void 0!==t&&t<0||void 0!==r&&r<0)throw new Error("Incorrect parameters");return(o=E.call(this,e)||this)._start=t,o._count=r,o._currentIndex=-1,o}t.RangeEnumerable=_;r(F,O=e),F.prototype.copy=function(){return new F(this.source.copy(),this._transform)},F.prototype.value=F.prototype.reset=F.prototype.next=var O,A=F;function F(e,t){e=O.call(this,e)||this;return e._transform=t,e._currentValue=new n.Cached,e}t.TransformEnumerable=A;r(L,H=a),L.prototype.copy=function(){return new L(this.source.copy())},L.prototype.reset=function(){this._elements.invalidate(),this._currentIndex=-1},L.prototype.isValidIndex=function(){return 0<=this._currentIndex&&this._currentIndex<this._elements.value.length},L.prototype.all=function(e){return this.source.all(e)},L.prototype.any=function(e){return void 0!==e?this.source.any(e):this.source.any()},L.prototype.average=function(e){return this.source.average(e)},L.prototype.count=function(e){return void 0!==e?this.source.count(e):this.source.count()},L.prototype.max=function(e){return void 0!==e?this.source.max(e):this.source.max()},L.prototype.min=function(e){return void 0!==e?this.source.min(e):this.source.min()},L.prototype.reverse=function(){return this.source.copy()},L.prototype.sum=function(e){return this.source.sum(e)},L.prototype.next=L.prototype.value=var H,V=L;function L(e){e=H.call(this,e)||this;return e._elements=new n.Cached,e._currentIndex=-1,e}t.ReverseEnumerable=V;r(P,G=e),P.prototype.isValidIndex=P.prototype.orderBy=P.prototype.orderByDescending=P.prototype.thenBy=P.prototype.thenByDescending=P.prototype.reset=P.prototype.copy=function(){return new P(this.source.copy(),this._comparer)},P.prototype.value=P.prototype.next=P.prototype.toArray=var G,B=P;function P(e,t){e=G.call(this,e)||this;return e._comparer=t,e._elements=new n.Cached,e._currentIndex=-1,e}t.OrderedEnumerable=B;r(C,z=a),C.prototype.toArray=function(){return this.list.toArray()},C.prototype.aggregate=C.prototype.any=function(e){return void 0!==e?this.list.any(e):this.list.any()},C.prototype.all=function(e){return this.list.all(e)},C.prototype.average=function(e){return this.list.average(e)},C.prototype.count=function(e){return void 0!==e?this.list.count(e):this.list.count()},C.prototype.copy=C.prototype.elementAtOrDefault=C.prototype.firstOrDefault=function(e){return void 0!==e?this.list.firstOrDefault(e):this.list.firstOrDefault()},C.prototype.lastOrDefault=function(e){return void 0!==e?this.list.lastOrDefault(e):this.list.lastOrDefault()};var z,T=C;.ArrayEnumerable=T;r(I,D=e),I.prototype.copy=I.prototype.value=I.prototype.next=function(){var e=D.prototype.next.call(this);return this._mustUseDefaultValue=void 0===this._mustUseDefaultValue&&!e,this._mustUseDefaultValue||e},I.prototype.reset=var D,q=I;function I(e,t){e=D.call(this,e)||this;return e._mustUseDefaultValue=void 0,e._defaultValue=t,e}t.DefaultIfEmptyEnumerable=q;r(x,R=e),x.prototype.copy=x.prototype.value=x.prototype.reset=x.prototype.next=var R,J=x;function x(e,t,r){e=R.call(this,e)||this;return e._otherSource=t,e._isOneOfTheSourcesFinished=!1,e._currentValue=new n.Cached,e._selector=r,e}t.ZippedEnumerable=J},{"./Collections":19,"./Comparers":20,"./Iterators":22,"./Utils":24}],22:[{}],23:[{"./Collections":19,"./Comparers":20,"./Enumerables":21,"./Iterators":22}],24:[{}],25:[function(e,t,r){"use strict";var o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)!o&&n in t||((o=o||Array.prototype.slice.call(t,0,n))[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},n=(Object.defineProperty(r,"__esModule",{value:!0}),r.bf=r.credits=r.getPageAdUnit=r.getCachedRegistries=r.getSlotDetails=r.setModuleLoaded=r.isModuleLoaded=r.setModuleReady=r.isModuleReady=r.getRocketeerSlots=r.getRegisteredModules=r.getQueuedSlots=r.getPageSlots=r.getExcludedSlotIds=r.getDispatchedSlots=r.getBuiltSlots=r.version=r.registerModule=r.__VERSION__=r.registry=r.setOptions=r.addEvent=r.dispatchQueue=r.enableLazyLoad=r.setBulkTargeting=r.clearSlots=r.removeSlotLevelTarget=r.addSlotLevelTarget=r.removePageLevelTarget=r.addPageLevelTarget=r.queueRegistry=r.refresh=r.destroySlots=r.configure=void 0,e("./presets.js"),e("@turnercode/digital-ads-utilities/dist")),i=e("./processors"),s=e("./system"),l=e("linq-collections"),a=e("./system/MissionControl"),u=e("./version.json"),d=(c.prototype.fireAdFuelCreated=function(){var t=this,e=1500,r=setInterval(function(){if("interactive"===document.readyState||"complete"===document.readyState){try{t.logger.log("Dispatching AdFuelCreated..."),document.dispatchEvent(new CustomEvent("AdFuelCreated",{detail:{AdFuel:window.AdFuel}}))}catch(e){t.logger.error("Error dispatching AdFuelCreated",e)}clearInterval(r)}else e<1&&clearInterval(r);e--},1)},c.createInstance=function(){this._instance=new c,window.AdFuel=this._instance,null!=(e=this._instance.logger)&&e.warn("New AdFuel instance created.",this._instance.adFuelOptions);var e=Object.assign(s.BaseAdFuelOptions,null!=(e=JSON.parse(JSON.stringify(this._instance.adFuelOptions)))?e:{});this._instance.adFuelOptions=e,this.processLoadedModules()},c.processLoadedModules=Object.defineProperty(c,"instance",{get:function(){var e,t=this;return null!=(e=window.WM)&&e.UserConsent&&window.WM.UserConsent.isReady()?"ccpa"!==window.WM.UserConsent.getRegion()&&"gdpr"===window.WM.UserConsent.getRegion()?this._instance||(window.WM.UserConsent.isOptanonLoaded()?window.WM.UserConsent.getUserConsentAdvertisingState()?this.createInstance():console.warn("Unable to create new instance of AdFuel due to consent restrictions."):document.addEventListener("optanonLoaded",function(){var e;(null==(e=null==(e=window.WM)?void 0:e.UserConsent)?void 0:e.getUserConsentAdvertisingState())?t.createInstance():console.warn("Unable to create new instance of AdFuel due to consent restrictions.")})):this._instance||this.createInstance():null!=(e=window.WM)&&e.UserConsent||this._instance||(console.warn("No User Consent.  Assuming consent is granted.  User Location switching will be unavailble."),this.createInstance()),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"missionControl",{get:function(){return this._missionControl},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"moduleManager",{get:function(){return this._moduleManager},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"adFuelOptions",{get:function(){var e;return null!=(e=null==(e=window.AdFuelOptions)?void 0:e.ADFUEL)?e:s.BaseAdFuelOptions},set:enumerable:!1,configurable:!0}),c.prototype.configure=function(e){var t=this;return"string"==typeof e?fetch(e).then(:this.ingestOptions(e),this},c.prototype.ingestOptions=Object.defineProperty(c.prototype,"registryOptions",{get:function(){return this._registryOptions},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"perf",{get:function(){return this._perf},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ver",{get:enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fetchedRegistries",{get:function(){return this._registryLoader.fetchedRegistries},enumerable:!1,configurable:!0}),c.prototype.lastProcessed=c.prototype.undispatched=c.prototype.isModuleReady=function(e){return null!=(e=this.registeredModules.get(e).isReady)&&e},c.prototype.setModuleReady=c.prototype.isModuleLoaded=function(e){return null!=(e=this.registeredModules.get(e).isLoaded)&&e},c.prototype.setModuleLoaded=c.prototype.queueRegistry=function(e,t){void 0===t&&(t={dispatch:this.adFuelOptions.AUTO_DISPATCH||!0}),null!=(r=this.logger)&&r.info("[queueRegistry] Queueing registry...",e,t),this.perf.addMark("Queueing Registry START"),this._initialRequestComplete=0<this.processedData.count(),t.slots&&(t.slots=Array.isArray(t.slots)?t.slots:[t.slots]),t.exclude&&(t.exclude=Array.isArray(t.exclude)?t.exclude:[t.exclude]),this._registryOptions=t,r=Array.isArray(e)?{registry:e}:e;var r,t=Object.assign({},this.adFuelOptions,t);return r.registry?this._registryLoader.loadRegistryFromJson(r.registry,t):this._registryLoader.loadRegistryFromUrl(e,t),this},c.prototype.flushCmdQueue=c.prototype.dispatchQueue=function(e){var t=this;return void 0===e&&(e={}),this.undispatched().forEach(,this},c.prototype.destroySlots=function(t){var e,r,o=this,n=(void 0===t&&(t=[]),Array.isArray(t)||(t=[t]),this.logger.log("[ADFUEL] START ---------- destroySlots::slotsToDestroy:",t),new Set),i=[],s=[];if(0<t.length){if(this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::Searching registries for matching candidates..."),this.processedData.getValues().forEach(,0<i.length)try{this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::INTERIM - RegistrySlotWrappers...",i),s=(null==(r=null==(e=window.googletag)?void 0:e.pubads().getSlots())?void 0:r.map(.filter()||[],this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::INTERIM - GoogleTag Candidates",s),s.forEach(}catch(e){this.logger.error("There was an error in DestroySlots.",e)}else this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::INTERIM - registrySlotWrappers array was empty.");this.logger.log("[ADFUEL] ---------- destroySlots[SELECTIVE]::FINAL CANDIDATES:",n)}else this.logger.log("[ADFUEL] ---------- destroySlots[ALL]::Getting all built slots..."),this.processedData.getValues().forEach(,this.logger.log("[ADFUEL] ---------- destroySlots[ALL]::Registry Slot Wrappers:",i),("function"==typeof(null==(e=window.googletag)?void 0:e.pubads)?null==(r=window.googletag)?void 0:r.pubads().getSlots():[]).forEach(,this.logger.log("[ADFUEL] ---------- destroySlots[ALL]::CANDIDATES:",n);return 0<t.length&&i.length!==t.length?this.logger.warn("Slot numbers do not match. Not destroying slots: ",i,t):(this.logger.log("[ADFUEL] ---------- destroySlots::Matching Registry Slot Wrappers: ",i),i.forEach(,this.logger.log("[ADFUEL] ---------- destroySlots::Updated Registry Slot Wrappers: ",{registrySlotWrappers:i}),this.logger.log("[ADFUEL] ---------- destroySlots::handoffToSlotProcessor:",n),this._slotProcessor.destroySlots(Array.from(n)),Array.from(document.getElementsByClassName("adfuel-rendered")).forEach(function(e){!t.includes(e.id)&&0!==t.length||(o.logger.log("[ADFUEL] ---------- DestroySlots::Removing Class from Element:",e),e.classList.remove("adfuel-rendered"))})),this},c.prototype.addPageLevelTarget=function(e,t){t=Array.isArray(t)?t:[t];return this._targetProcessor.addPageLevelTargets(e,t),this.logger.log("Adding page level target ".concat(e)),this.perf.addMark("Adding Page-Level Target - ".concat(e)),this},c.prototype.removePageLevelTarget=c.prototype.addSlotLevelTarget=c.prototype.removeSlotLevelTarget=c.prototype.registerModule=c.prototype.getSlotsForRefresh=function(e){var r,o=[];if(0<(e=void 0===e?[]:e).length)for(var n=this,t=0,i=e;t<i.length;t++)!function(t){var e=null==(r=n.processedData.firstOrDefault()?void 0:r.value.wrappedSlots.firstOrDefault(function(e){return t.includes(e.slotId)&&e.isBuilt});e&&o.push(e)}(i[t]);else{var s=[];this.processedData.where(.forEach(,s&&o.concat(s)}return o},c.prototype.refresh=function(e,r){var o=this,n=(void 0===r&&(r=0),this.moduleManager.callPreRefresh(this.lastProcessed().wrappedSlots),new l.List),n=e&&!["ALL","all","*","All"].includes(e)?(Array.isArray(e)||(e=[e]),new l.List(this.getSlotsForRefresh(e))):new l.List(this.lastProcessed().wrappedSlots.toArray());return this.lastProcessed().wrappedSlots?(e=function(){var t;0<n.count()&&0<r?(t=setInterval(1e3*r),n.forEach():0<n.count()&&0===r?o._requestProcessor.refresh(n):o.logger.warn("There is nothing to refresh.",n)},this._initialRequestComplete?e():this._waitingFunctions.push(e)):null!=(e=this.logger)&&e.warn("There are no slots defined. Has the registry been loaded?"),this},c.prototype.waitFor=function(e){return this.missionControl.register({readyId:e}),this},c.prototype.makeReady=c.prototype.version=function(){return this._version},c.prototype.getBuiltSlots=c.prototype.getDispatchedSlots=function(){return this.lastProcessed().wrappedSlots.where(function(e){return e.hasBeenDisplayed}).toArray()},c.prototype.getExcludedSlots=c.prototype.getPageSlots=c.prototype.getQueuedSlots=c.prototype.getRegisteredModules=c.prototype.getRocketeerSlots=function(){return this._registry.slots},c.prototype.getPageAdUnit=function(){return this._pageAdUnit},Object.defineProperty(c.prototype,"pageAdUnit",{get:function(){return this._pageAdUnit},set:function(e){this._pageAdUnit=e},enumerable:!1,configurable:!0}),c.prototype.clearSlots=function(e){return this._slotProcessor.clearSlots(e),this},c.prototype.setBulkTargeting=c.prototype.enableLazyLoad=c.prototype.getSlotDetails=function(t){var e,r=this.lastProcessed().wrappedSlots.firstOrDefault(function(e){return e.slotId===t});if(r)return{adUnitPath:null!=(e=null==(e=r.gSlot)?void 0:e.getAdUnitPath())?e:"UNKNOWN",slotTargeting:r.targeting,programmatic:r.programmatic,response:null==(e=r.gSlot)?void 0:e.getResponseInformation()};this.logger.log("Couldn't find details for slot: ".concat(t))},c.prototype.getCachedRegistries=c);indow.AdFuel=d.instance;r.configure=function(e){return d.instance.configure(e)},r.destroySlots=function(e){return d.instance.destroySlots(e=void 0===e?[]:e)},r.refresh=function(e,t){return d.instance.refresh(e,t)},r.queueRegistry=function(e,t){return d.instance.queueRegistry(e,t)},r.addPageLevelTarget=function(e,t){return d.instance.addPageLevelTarget(e,t)},r.removePageLevelTarget=r.addSlotLevelTarget=function(e,t,r){return d.instance.addSlotLevelTarget(e,t,r)},r.removeSlotLevelTarget=r.clearSlots=function(e){return d.instance.clearSlots(e=void 0===e?[]:e)},r.setBulkTargeting=function(e){return d.instance.setBulkTargeting(e)},r.enableLazyLoad=function(e){return d.instance.enableLazyLoad(e)},r.dispatchQueue=function(e){return d.instance.dispatchQueue(e)},r.addEvent=r.setOptions=r.registry={push:,r.__VERSION__=r.registerModule=function(e){return d.instance.registerModule(e)},r.version=function(){return d.instance.version()},r.getBuiltSlots=function(){return d.instance.getBuiltSlots()},r.getDispatchedSlots=function(){return d.instance.getDispatchedSlots()},r.getExcludedSlotIds=function(){return d.instance.getExcludedSlots()},r.getPageSlots=function(){return d.instance.getPageSlots()},r.getQueuedSlots=function(){return d.instance.getQueuedSlots()},r.getRegisteredModules=function(){return d.instance.getRegisteredModules()},r.getRocketeerSlots=function(){return d.instance.getRocketeerSlots()},r.isModuleReady=function(e){return d.instance.isModuleReady(e)},r.setModuleReady=function(e){d.instance.setModuleReady(e)},r.isModuleLoaded=function(e){return d.instance.isModuleLoaded(e)},r.setModuleLoaded=r.getSlotDetails=r.getCachedRegistries=function(){return d.instance.getCachedRegistries()},r.getPageAdUnit=r.credits=function(){var e="\n\n          â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—\n          â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•\n          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘\n          â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•\n          â•šâ•â•â–‘â–‘â•šâ•â•â•šâ•â•â•â•â•â•â–‘â•šâ•â•â–‘â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•â•â•â•â–‘â•šâ•â•â•â•=============================================================\n          Version: ".concat(d.instance.version().toString(),"\n          Developed by: \n            Joe Lazarski\n            Steve Trofemuk\n\n          Serve ads or die trying!\n  ");console.log(e)};r.bf=function(){console.info("\n  ++++++++++[>+>+++>+++++++>++++++++++<<<<-]>>>>--.+++++++++++++++++++++++.<<++.>+++++++++++++.>-----.---------------.\n  +++++++++++++++++.-----------------.<<.>+.>+++++++++++++.---.---------.-.++++++++.++++++++.----------.>++++++++++.\n  ")}},{"./presets.js":26,"./processors":30,"./system":45,"./system/MissionControl":36,"./version.json":46,"@turnercode/digital-ads-utilities/dist":11,"linq-collections":23}],26:[function(e,t,r){"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]},{}],27:[function(e,t,r){"use strict";var l=this&&this.__awaiter||function(e,s,l,a){return new(l=l||Promise)(function(r,t){function o(e){try{i(a.next(e))}catch(e){t(e)}}function n(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(o,n)}i((a=a.apply(e,s||[])).next())})},a=this&&this.__generator||function(o,n){var i,s,l,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},u={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;a=u&&t[u=0]?ll(s),0):s.next)&&!(l=l.call(s,t[1])).done)return l;switch(s=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(l=0<(l=a.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3]))a.label=t[1];else if(6===t[0]&&a.label<l[1])a.label=l[1],l=t;else{if(!(l&&a.label<l[2])){l[2]&&a.ops.pop(),a.trys.pop();continue}a.label=l[2],a.ops.push(t)}}t=n.call(o,a)}catch(e){t=[6,e],s=0}finally{i=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},i=(Object.defineProperty(r,"__esModule",{value:!0}),r.RequestProcessor=void 0,e("@turnercode/digital-ads-utilities"));function o(e,t,r){this.adFuel=e,this.nextProcessor=t,this.googleApi=r}o.prototype.process=function(i){var e=this;return new Promise(function(o,n){return l(e,void 0,void 0,function(){var t,r=this;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),null!=(t=this.adFuel.logger)&&t.log(" ### START Request Processor ====",i.wrappedSlots.select(function(e){return e.toLogging()}).toArray(),i.options),null!=(t=this.adFuel.perf)&&t.addMark("Processing Request START"),[4,null==(t=this.googleApi)?void 0:t.configurePubAds().then(function(){return l(r,void 0,void 0,function(){var t,r;return a(this,function(e){switch(e.label){case 0:return(void 0!==i.options.dispatch?i.options.dispatch:i.options.AUTO_DISPATCH)&&(null!=(t=this.adFuel.logger)&&t.info("RequestProcessor.process is calling Dispatch",i),i.wrappedSlots.where(function(e){return!e.hasBeenDisplayed&&e.isBuilt&&erf)&&t.addMark("Processing Request END"),null!=(r=this.adFuel.perf)&&r.addMeasure("Processing Request"),null!=(r=this.adFuel.logger)&&r.log("========== [RequestProcessor/process] CALLING POST DISPATCH =========="),[4,this.adFuel.moduleManager.callPostDispatch(i.wrappedSlots)];case 1:return e.sent(),null!=(r=this.adFuel.logger)&&r.log(" ### STOP Request Processor ====",i.wrappedSlots.select(function(e){return e.toLogging()}).toArray(),i.options),this.nextProcessor?o(this.nextProcessor.process(i)):o(i),[2]}})})})];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),n(t),[3,3];case 3:return[2]}})})})},o.prototype.dispatch=function(n){var i,s;return l(this,void 0,void 0,function(){var r,t,o=this;return a(this,function(e){return 0<(r=n.wrappedSlots.where(function(e){return!e.hasBeenDisplayed&&e.isBuilt&&!e.isExcluded}).toList()).count()?(n.dispatched=!0,null!=(i=this.adFuel.logger)&&i.log("[RequestProcessor - dispatch] Setting dispatched to true",n),this.adFuel.processedData.setOrUpdate(n.timestamp,n),null!=(i=this.adFuel.logger)&&i.log("========== [RequestProcessor/dispatch] CALLING PRE DISPATCH =========="),this.adFuel.moduleManager.callPreDispatch(r).then(function(){var t;try{document.dispatchEvent(new CustomEvent("PreDispatchComplete",{detail:{slots:r.count()}}))}catch(e){null!=(t=o.adFuel.logger)&&t.error("Error dispatching custom event: PreDispatchComplete",{error:e})}o.buildGPTObject(n),r.forEach(function(e){var t;null!=(t=o.adFuel.perf)&&t.addMark("[".concat(e.slotId,"] Slot Displayed With Googletag")),googletag.display(e.gSlot),e.hasBeenDisplayed=!0}),null!=(t=o.googleApi)&&t.refreshSlots(r,{dispatch:!0}),null!=(t=o.adFuel.logger)&&t.log("========== [RequestProcessor/dispatch] CALLING POST DISPATCH =========="),o.adFuel.moduleManager.callPostDispatch(r),document.dispatchEvent(new CustomEvent("AdFuelRequestComplete",{detail:{slots:r.select(function(e){return e.unWrappedSlot}).toArray(),options:o.adFuel.registryOptions}}))})):null!=(i=this.adFuel.logger)&&i.log("No slots to dispatch."),t={slotsBuilt:n.wrappedSlots.where(function(e){return e.hasBeenDisplayed&&!e.isExcluded}).toArray(),registry:n.registry,optionsUsed:n.options},window.AdFuelHistory||(null!=(s=this.adFuel.logger)&&s.log("Creating AdFuelHistory"),window.AdFuelHistory=[]),null!=(s=this.adFuel.logger)&&s.log("Adding to AdFuelHistory",t),window.AdFuelHistory.push(t),[2]})})},o.prototype.refresh=function(t,r,o){var n;return void 0===r&&(r=!0),void 0===o&&(o=!0),l(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return(null!=(n=this.adFuel.perf)&&n.addMark("Refresh Called..."),null!=(n=this.adFuel.logger)&&n.log("Refreshing slots",t.select(function(e){return e.toLogging()}).toArray()),r)?[4,this.adFuel.moduleManager.callPreRefresh(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return(null!=(n=this.googleApi)&&n.refreshSlots(t,this.adFuel.registryOptions),o)?[4,this.adFuel.moduleManager.callPostRefresh(t)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}})})},o.prototype.buildGPTObject=function(e){var t,r,o,n=i.CookieHelper.readCookie("gptgeo");n?(o=n.split("%2C"),r=parseFloat(o[0]),o=parseFloat(o[1]),null!=(t=this.googleApi)&&t.setLocation(r,o),e.registry.child_directed_treatment&&null!=(t=this.googleApi)&&t.setChildDirectedTreatmentTag(e.registry.child_directed_treatment),e.registry.safeframe_config&&(null!=(r=this.adFuel.logger)&&r.log("Setting SafeFrame config tag: ",e.registry.safeframe_config),null!=(o=this.googleApi))&&o.setSafeFrameConfig(e.registry.safeframe_config)):null!=(t=this.adFuel.logger)&&t.log("Unable to retrieve location cookie",n)},r.RequestProcessor=o},{"@turnercode/digital-ads-utilities":11}],28:[function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,s,l,a){return new(l=l||Promise)(function(r,t){function o(e){try{i(a.next(e))}catch(e){t(e)}}function n(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(o,n)}i((a=a.apply(e,s||[])).next())})},u=this&&this.__generator||function(o,n){var i,s,l,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},u={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;a=u&&t[u=0]?0:a;)try{if(i=1,s&&(l=2&t[0]?s.return:t[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,t[1])).done)return l;switch(s=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(l=0<(l=a.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3]))a.label=t[1];else if(6===t[0]&&a.label<l[1])a.label=l[1],l=t;else{if(!(l&&a.label<l[2])){l[2]&&a.ops.pop(),a.trys.pop();continue}a.label=l[2],a.ops.push(t)}}t=n.call(o,a)}catch(e){t=[6,e],s=0}finally{i=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=(Object.defineProperty(r,"__esModule",{value:!0}),r.SlotProcessor=void 0,e("../system")),i=e("linq-collections");function s(e,t,r){void 0===r&&(r=new n.GoogleApi(e)),this.adFuel=e,this.nextProcessor=t,this.googleApi=r}s.prototype.process=function(a){var e=this;return new Promise(function(s,l){return o(e,void 0,void 0,function(){var t,r,o,n,i=this;return u(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),null!=(t=this.adFuel.logger)&&t.info("Entering SlotProcessor.Process()"),null!=(t=this.adFuel.perf)&&t.addMark("SlotProcessor.Process() START"),t=a.wrappedSlots.select(function(e){return e.toLogging()}).toArray(),null!=(r=this.adFuel.logger)&&r.log(" ### START Slot Processor ====",t,a.options),a.wrappedSlots.forEach(function(e){var t;null!=(t=i.adFuel.perf)&&t.addMark("[".concat(e.slotId,"] SlotProcessor.Process()"))}),null!=(r=this.adFuel.logger)&&r.log(" #################### Building Slots: ",a):return e.sent(),null!=(r=this.adFuel.logger)&&r.log(" ### STOP Slot Processor ====",t,a.options),null!=(o=this.adFuel.logger)&&o.log("========== [slo =========="),[4,this.adFuel.moduleManager.callPreDispatch(a.wrappedSlotf)&&o.addMark("SlotProcessor.Process() END"),null!=(n=this.adFuel.perf)&&n.addMeasure("SlotProcessor.Process()"),this.nextProcessor?s(null==(n=this.nextProcessor)?void 0:n.process(a)):s(a),[3,4];case 3:return n=e.sent(),l(n),[3,4];case 4:return[2]}})})})},s.prototype.buildSlots=functiothis.adFuel.logger)&&t.log("#################### Wrapped Slots: ",o.wrappedSlots.toArray()),o.wrappedSlots.where(function(e){return!e.isBuilt&&!e.hasBeenDisplayed&&e.slotExistsOnPage&&!e.isExcluded}));null!=(e=this.adFuel.logger)&&e.log("#################### Filtered Slots: ",t.toArray()),t.forEach(function(t){var e,r=n.adFuel.processedData.where(function(e){return e.value.url===o.url}).select(function(e){return null==(e=e.value.wrappedSlots.firstOrDefault(function(e){return e.isBuilt&&e.slotId===t.slotId}))?void 0:e.gSlot}).toArray();0<r.length&&void 0!==r[0]&&null!=(e=n.adFuel.logger)&&e.info("#################### Found historic gslot for ".concat(t.slotId),r)}),null!=(e=this.adFuel.logger)&&e.info("Building these slots: ",t.select(function(e){return e.toLogging()}).toArray()),t.where(function(e){return!e.isBuilt}).forEach(function(e){var t;null!=(t=n.adFuel.logger)&&t.info("Building slot for ".concat(e.slotId)),n.buildSlot(e),n.setResponsive(e),e.unWrappedSlot.safeframe_config&&n.googleApi.setSlotSafeFrameConfig(e.gSlot,e.unWrappedSlot.safeframe_config)})},s.prototype.buildSlot=function(e){null!=(t=this.adFuel.logger)&&t.log("Wrapped Slot: ",e);var t="/".concat(this.adFuel.adFuelOptions.NETWORK_ID,"/").concat(e.adUnitMap||e.unWrappedSlot.rktr_ad_id),r=e.slotId,o=(null!=(o=this.adFuel.perf)&&o.addMark("Building Slot [".concat(e.slotId,"] adPath ").concat(t," START")),e=this.getSlotIfAlreadyProcessed(e),document.getElementById(e.slotId));if(null!=o&&o.className.includes("adfuel-rendered"))null!=(o=this.adFuel.logger)&&o.warn("".concat(e.slotId," element has already been rendered."));else if(e.isBuilt)null!=(o=this.adFuel.logger)&&o.log("You are trying to build ".concat(e.slotId," but it already exists in processedData."),e);else if(e.isOutOfPage)e.gSlot=this.googleApi.defineOutOfPageSlot(t,r);else{null!=(o=this.adFuel.logger)&&o.log("Defining slot for ".concat(e.slotId),e);try{e.gSlot=this.googleApi.defineSlot(t,e.unWrappedSlot.sizes,r)}catch(e){null!=(o=this.adFuel.logger)&&o.error("Error defining slot: ",e)}null!=(r=this.adFuel.logger)&&r.log("Slot built!",e)}null!=(o=this.adFuel.perf)&&o.addMark("Building Slot [".concat(e.slotId,"] adPath ").concat(t," END")),null!=(r=this.adFuel.perf)&&r.addMeasure("Building Slot [".concat(e.slotId,"] adPath ").concat(t))},s.prototype.getSlotIfAlreadyProcessed=function(t){var e=null==(e=this.adFuel.processedData.firstOrDefault(function(e){return e.value.wrappedSlots.any(function(e){return e.slotId===t.slotId&&e.isBuilt})}))?void 0:e.value.wrappedSlots.firstOrDefault(function(e){return e.slotId===t.slotId&&e.isBuilt});return t=null!=e?e:t},s.prototype.setResponsive=function(e){var t;e.isBuilt&&(null!=(t=this.adFuel.perf)&&t.addMark("Setting Responsive Mapping [".concat(e.slotId,"]")),this.googleApi.defineSlotSizeMapping(e.gSlot,e.unWrappedSlot.responsive))},s.prototype.changeSlotId=function(t,e){var r=t.slotId.slice();t.unWrappedSlot.rktr_slot_id=e;try{d,{detail:{asset:t.unWrappedSlot,originalId:r,newId:e}}))}catch(e){null!=(t=this.adFuel.logger)&&t.error("Error dispatching SlotIdChange event.",e)}},s.prototype.destroySlots=function(e){var t;void 0===e&&(e=[]),null!=(t=this.adFuel.logger)&&t.log("[SLOT PROCESSOR] START ---------- destroySlots::slotsToDestroy:",e),null!=(t=this.adFuel.perf)&&t.addMark("Destroying Slots [".concat(JSON.stringify(e.map(function(e){return e.getSlotElementId()})),"]")),null!=(t=this.adFuel.logger)&&t.log("[SLOT PROCESSOR] ---------- destroySlots::handoffToGoogleAPI:",e),thisSlots)?t:new i.List).where(function(e){return r.includes(e.slotId)&&e.isBuilt}).select(function(e){return e.gSlot}).toArray();null!=(e=o.adFuel.perf)&&e.addMark("Clearing Slots [".concat(JSON.stringify(t.map(function(e){return e.getSlotElementId()})),"]")),o.googleApi.clearSlots(t)})},r.SlotProcessor=s},{"../system":45,"linq-collections":23}],29:[function(e,t,r){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},c=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)!o&&n in t||((o=o||Array.prototype.slice.call(t,0,n))[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},a=(Object.defineProperty(r,"__esModule",{value:!0}),r.TargetProcessor=void 0,e("@turnercode/digital-ads-utilities/dist/getUrlParam"));function o(e,t,r){void 0===r&&(r=void 0),this.adFuel=e,this._googleApi=t,this.nextProcessor=r,this._slotTargets={},this._pageTargets={}}o.prototype.process=function(h){var f=this;return new Promise(function(e,t){var r,o,n,i,s,l,a,u,d,c,p,g;try{null!=(r=f.adFuel.perf)&&r.addMark("TargetProcessor.Process() START"),null!=(o=f.adFuel.logger)&&o.log(" ### START Target Processor ====",h.wrappedSlots.select(function(e){return e.toLogging()}).toArray(),h.options),null!=(n=f.adFuel.logger)&&n.log("slotTargets",f._slotTargets),null!=(i=f.adFuel.logger)&&i.log("pageTargets",f._pageTargets),f._slotTargets=Object.assign({},f._slotTargets,h.slotTargets),f._pageTargets=Object.assign({},f._pageTargets,h.pageTargets),null!=(s=f.adFuel.logger)&&s.log("slotTargets",f._slotTargets),null!=(l=f.adFuel.logger)&&l.log("pageTargets",f._pageTargets),f.getAdsQaTargeting(),null!=(a=f.adFuel.logger)&&a.log(" ### START BUILDING SLOT TARGETING ====",h),f.buildSlotLevelTargeting(h),null!=(u=f.adFuel.logger)&&u.log(" ### START BUILDING PAGE TARGETING ====",h),f.buildPageLevelTargeting(h),null!=(d=f.adFuel.logger)&&d.log(" ### STOP Target Processor ====",h.wrappedSlots.select(function(e){return e.toLogging()}).toArray(),h.options),null!=(c=f.adFuel.perf)&&c.addMark("TargetProcessor.Process() END"),null!=(p=f.adFuel.perf)&&p.addMeasure("TargetProcessor.Process()"),f.nextProcessor?e(null==(g=f.nextProcessor)?void 0:g.process(h)):e(h)}catch(e){t(e)}})},o.prototype.windowObjectName=function(e){var t;return(null!=(t=null==(t=e.options)?void 0:t.SITE_OBJECT)?t:null!=(e=null!=(t=null==(t=e.registry)?void 0:t.root)?t:null==(t=e.registry)?void 0:t.site)?e:"").toUpperCase()},o.prototype.buildSlotLevelTargeting=function(s){null!=(e=this.adFuel.logger)&&e.log("Building slot level targeting.",{raw:window.CNN,root:this.windowObjectName(s),data:s});for(var e,l,a,t=function(o){null!=(a=u.adFuel.perf)&&a.addMark("Building Slot-Level Targeting [".concat(o.slotId,"]")),null!=(a=u.adFuel.logger)&&a.log("[TargetProcessor] Building Slot-Level Targeting [".concat(o.slotId,"]"),o);var e,t=((null==(a=window[u.windowObjectName(s)])?void 0:a.slotTargets)||{})[o.slotId]||{},r=(null!=(a=u.adFuel.logger)&&a.log("[TargetProcessor] Site Slot Targets [".concat(o.slotId,"]"),t),{pos:[o.posMap]}),n=(null!=(a=u.adFuel.logger)&&a.log("[TargetProcessor] posTargets::",r),new Map(o.targeting)),i=(n.delete("pos"),d(d(d(d({},u._slotTargets[o.slotId]),Object.fromEntries(n)),r),t));null!=(a=u.adFuel.logger)&&a.log("[TargetProcessor] slotTargets to be built are: ",i,o);for(e in i)!function(r){var e,t;o.gSlot?0<(t=null!=(l=i[r].filter(function(e){var t;return null!==(t=!(null!=(t=o.requestedSlotTargets[r])&&t.includes(e)))&&t}))?l:[]).length&&(null!=(l=u.adFuel.logger)&&l.log("Setting slot targeting: ",{slot:o.slotId,key:r,value:t}),o.gSlot.setTargeting(r,t),o.requestedSlotTargets[r]?(e=o.requestedSlotTargets[r]).push.apply(e,t):o.requestedSlotTargets[r]=c([],t,!0)):null!=(l=u.adFuel.logger)&&l.warn("Slot ".concat(o.slotId," could not find the gslot and goes home disappointed."))}(e);null!=(a=u.adFuel.logger)&&a.log("Built slot targeting:",i,o)},u=this,r=0,o=s.wrappedSlots.where(function(e){return e.isBuilt&&!e.isExcluded}).toArray();r<o.length;r++)t(o[r])},o.prototype.buildPageLevelTargeting=function(e){var t,r,o=this,n=(null!=(n=this.adFuel.logger)&&n.log("Building page level targeting.",{root:this.windowObjectName(e),data:window[this.windowObjectName(e)]}),null!=(n=this.adFuel.perf)&&n.addMark("Building Page-Level Targeting"),(null==(n=window[this.windowObjectName(e)])?void 0:n.adTargets)||{}),i=(null!=(t=this.adFuel.logger)&&t.log("[TargetProcessor] Site Page Targets",n),new Map),s=(Array.isArray(null==(t=e.registry)?void 0:t.targeting)&&null!=(t=e.registry)&&t.targeting.forEach(function(e){null!=(r=o.adFuel.logger)&&r.log("[TargetProcessor] Registry Page Target Item: ",e),null!=(r=o.adFuel.logger)&&r.log("[TargetProcessor] Registry Page Target Item Types: ",{first:typeof e[0],second:typeof e[1]});var t,r=e[0]||"undefined",e=e[1];null!=(t=o.adFuel.logger)&&t.log("[TargetProcessor] Registry Page Target KVP: ",{keyName:r,keyValue:e}),i.set(r,e)}),null!=(e=this.adFuel.logger)&&e.log("[TargetProcessor] Registry Targets: ",Object.fromEntries(i)),d(d(d({},this._pageTargets),Object.fromEntries(i)),n));for(r .log("pageTargets to be built are: ",s),s)null!=s[r]&&this._googleApi.setTargeting(r,s[r]);null!=(e=this.adFuel.logger)&&e.log("Built page targeting",s)},o.prototype.getAdsQaTargeting=function(){var e,t,r;try{null!=(rg AdsQA Targeting");var o,n,i,s,l=(0,a.getUrlParam)("adsqa");l&&(null!=(e=this.adFuel.logger)&&e.log("ADSQA detected."),o=l.split("%3D"),1<l.lergets[n]=s):null!=(t=this.adFuel,e)}},o.prototype.removeTargets=funf)&&o.addMark("Removing Targeting [".concat(t,"] ").concat(JSON.stringify(r))),r&&e[t]?e[t]=e[t].filter(function(e){return!r.includes(e)}):delete e[t]},o.prototype.addTargets=function(t,r,e){var o;t[r]=e,null!=(o=this.adFuel.perf)&&o.addMark("Adding Targeting [".concat(r,"] ").concat(JSON.stringify(e))),t[r]?t[r]=c(c([],null!=(o=t[r])?o:[],!0),e.filter(function(e){return!t[r].includes(e)}),!0):t[r]=c([],e,!0)},o.prototype.addPageLevelTargets=function(e,t){this.addTargets(this._pageTargets,e,t)},o.prototype.removePageLevelTargets=function(e,t){this.removeTargets(this._pageTargets,e,t)},o.prototype.addSlotLevelTargets=function(e,t,r){this._slotTargets[e]||(this._slotTargets[e]={}),this.addTargets(this._slotTargets[e],t,r)},o.prototype.removeSlotLevelTargets=function(e,t,r){this.removeTargets(this._slotTargets[e],t,r)},o.prototype.setBulkTargeting=function(e){var t;if(e.slotTargets||e.adTargets){if(null!=(t=this.adFuel.perf)&&t.addMark("Setting Bulk Targeting"),e.slotTargets)for(var r=0,o=e.slotTargets;r<o.length;r++){var n=o[r];this.addSlotLevelTargets(n.slotId,n.targetKey,n.targetValues)}if(e.adTargets)for(var i=0,s=e.adTargets;i<s.length;i++){var l=s[i];this.addPageLevelTargets(l.targetKey,l.targetValues)}}else null!=(t=this.adFuel.logger)&&t.error("setBulkTargeting was passed a bad paracreate?fe,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("../system/OptionsParser")r":39,"./RequestProcessor":27,"./SlotProcessor":28,"./TargetProcessor":29}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AController=void 0,r.AController=function(e){(this.missionControl=e).register(this)}},{}],32:[function(e,t,r){"use strict";Object.defineProper0,COLLAPSE_EMPTY_DIVS:!0,DEFAULT_TIMEOUT:1200,DEFAULT_DESKTOP_TIMEOUT:1200,DEFAULT_MOBILE_TIMEOUT:800,IFRAME_TITLE:"advertisement",NETWORK_ID:"8663477"}},{}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleApi=void 0;var n=e("@turnercode/digital-ads-utilities/dist/getUrlParam");function o(e){this.adFuel=e,this._pubAdsConfigured=!1,this._commandQueue=[],this._setChildDirectedTreatment=!0}o.prototype.executeWhenAvailable=function(e){var t;this.isAvailable?e():(null!=(t=this.adFuel.logger)&&t.warn("It seems googletag is not ready yet. Queuing command...",{apiReady:googletag.apiReady,pubadsReady:googletag.pubadsReady}),null!=(t=window.googletag)&&t.cmd.push(e))},o.prototype.flushCmdQueue=function(){for(;0<this._commandQueue.length;)googletag.cmd.push(this._commandQueue.shift())},Object.defineProperty(o.prototype,"isAvailable",{get:function(){var e;return null!=(e=googletag.apiReady)&&e},enumerable:!1,configurable:!0}),o.prototype.destroySlots=function(t){var r=this;0<t.length?this.executeWhenAvailable(function(){var e;t.forEach(function(e){var t;null!=(t=r.adFuel.logger)&&t.log("[GOOGLEAPI] ---------- destroySlots::Destroying Slot: ".concat(e.getSlotElementId())),null!=(t=r.adFuel.perf)&&t.addMark("Destroying Slot: ".concat(e.getSlotElementId()))}),null!=(e=window.googletag)&&e.destroySlots(t)}):this.executeWhenAvailable(function(){var e;null!=(e=r.adFuel.logger)&&e.log("[GOOGLEAPI] ---------- destroySlots::Destroying All Slots"),null!=(e=r.adFuel.perf)&&e.addMark("Destroying All Slots"),null!=(e=window.googletag)&&e.destroySlots()})},o.prototype.clearSlots=function(t){var r=this;0<(t=void 0===t?[]:t).length?this.executeWhenAvailable(function(){var e;null!=(e=r.adFuel.perf)&&e.addMark("Clearing Slots"),t.forEach(function(e){var t;null!=(t=r.adFuel.perf)&&t.addMark("Clearing Slot: ".concat(e.getSlotElementId()))}),googletag.pubads().clear(t)}):googletag.cmd.push(function(){var e;null!=(e=r.adFuel.perf)&&e.addMark("Clearing All Slots"),googletag.pubads().clear()})},o.prototype.defineOutOfPageSlot=function(e,t){var r,e=googletag.defineOutOfPageSlot(e,t);if(window.googletag&&e)null!=(r=this.adFuel.perf)&&r.addMark("Defined OOP GPT Slot - ".concat(t)),e.addService(window.googletag.pubads());else{if(!window.googletag)throw Error("Googletag not defined.");null!=(r=this.adFuel.logger)&&r.warn("Unable to define slot: ".concat(t))}return e},o.prototype.defineSlot=function(e,t,r){null!=(i=this.adFuel.logger)&&i.info("Building Standard Slot Object adPath:".concat(e," sizes:").concat(t," slotId:").concat(r));for(var o,n,i=void 0,s=[],l=0,a=t;l<a.length;l++){var u=a[l].map(Number);s.push([u[0],u[1]])}try{i=googletag.defineSlot(e,s,r),window.googletag&&i&&(null!=(o=this.adFuel.logger)&&o.info("Defined slot: ".concat(r),i),null!=(n=this.adFuel.perf)&&n.addMark("Defined Standard GPT Slot - ".concat(r)),i.addService(window.googletag.pubads()))}catch(e){null!=(t=this.adFuel.logger)&&t.warn("Unable to define slot: ".concat(r),e)}return i},o.prototype.defineSlotSizeMapping=function(e,t){var r,o;e&&(o=e.getSlotElementId(),null!=(r=this.adFuel.logger)&&r.info("Setting Slot size mapping slotId: ".concat(o," responsiveMap: "),t),e.defineSizeMapping(t),null!=(r=this.adFuel.perf))&&r.addMark("Defined Slot Responsive Mapping - ".concat(e.getSlotElementId()))},o.prototype.setTargeting=function(t,r){var o=this;this.executeWhenAvailable(function(){var e;googletag.pubads().setTargeting(t,r),null!=(e=o.adFuel.perf)&&e.addMark("Defined Page Target - ".concat(t))})},o.prototype.displaySlotById=function(t){var r=this;this.executeWhenAvailable(function(){var e;null!=(e=r.adFuel.perf)&&e.addMark("Displaying Slot - ".concat(t)),googletag.display(t)})},o.prototype.refreshSlots=function(e,t){var r=this,o=t||{maintainCorrelator:!0},n=e.where(function(e){return e.isBuilt}).select(function(e){return e.gSlot}).toArray();0<n.length?this.executeWhenAvailable(function(){var e;null!=(e=r.adFuel.logger)&&e.log("GoogleAPI, Refreshing Slots: ".concat(JSON.stringify(n.map(function(e){return e.getSlotElementId()})))),n.forEach(function(e){var t;null!=(t=r.adFuel.perf)&&t.addMark("Refreshing Slot ".concat(e.getSlotElementId()))}),googletag.pubads().refresh(n,{changeCorrelator:!o.maintainCorrelator})}):this.executeWhenAvailable(function(){var e;null!=(e=r.adFuel.logger)&&e.log("GoogleAPI, Refreshing all slots"),null!=(e=r.adFuel.perf)&&e.addMark("Refreshing All Slots"),googletag.pubads().refresh(void 0,{changeCorrelator:!o.maintainCorrelator})})},o.prototype.configurePubAds=function(){var M=this;return new Promise(function(o){M._pubAdsConfigured?o():(M._pubAdsConfigured=!0,M.executeWhenAvailable(function(){null!=(t=M.adFuel.perf)&&t.addMark("Configuring GPT START"),googletag.pubads().addEventListener("impession Viewable")),null!=(t=M.adFuel.logger)&&t.info("impressionViewable",e),document.dispatchEvent(new CustomEvent("SlotViewable",{detail:e}))}).addEventListener("slotVisibilityChanged",function(e){var t;null!=(t=M.adFuel.logger)&&t.info("slotVisibilityChanged",e),document.dispatchEvent(new CustomEvent("slotVisibilityChanged",{detail:e}))}).addEventListener("slotRenderEnded",function(e){var t,r,o,n,i,s,l,a,u,d,c,p,g,h,f,y=e.slot.getSlotElementId();null!=(t=M.adFuel.perf)&&t.addMark("[".concat(y,"] Slot Render Ended")),null!=(t=M.adFuel.logger)&&t.info("slotRenderEnded",e);try{var m,v=M.adFuel.processedData.getKeys(),w=null!=(o=null==(r=e.slot)?void 0:r.getSlotElementId())?o:"NO ID",b={},S=(v.forEach(function(e){M.adFuel.processedData.get(e).wrappedSlots.forEach(function(e){e.unWrappedSlot.rktr_slot_id===w&&(b=e)})}),null!=(n=M.adFuel.logger)&&n.log("========== Active Slot: ",b),b.responseData={advertiserId:e.advertiserId,campaignId:e.campaignId,creativeId:e.creativeId,isEmpty:e.isEmpty,lineItemId:e.lineItemId,renderedSize:e.size,sourceAgnosticCreativeId:e.sourceAgnosticCreativeId,sourceAgnosticLineItemId:e.sourceAgnosticLineItemId},{asset:e.slot,pos:e.slot?e.slot.getTargeting("pos"):[""],empty:!!e.isEmpty,renderedSize:null!=(i=e.size)?i:"0x0",creativeId:null!=(s=e.sourceAgnosticCreativeId)?s:"0",lineItemId:null!=(l=e.sourceAgnosticLineItemId)?l:"0",serviceName:null!=(a=e.serviceName)?a:"",divId:null!=(d=null==(u=e.slot)?void 0:u.getSlotElementId(ElementById(S.divId).style.display="none"),e.slot.getTargeting("creativeId")||[]),_=(e.creativeId&&E.indexOf(""+e.creativeId)<0&&E.push(""+e.creativeId),e.slot.getTargeting("lineItemId")||[]);e.lineItemId&&_.indexOf(""+e.lineItemId)<0&&_.push(""+e.lineItemId),"NO ID"!=S.divId&&(m=document.getElementById(S.divId),null!=(c=M.adFuel.logger)&&c.log("Getting element for ".concat(S.divId," to set className."),m),m?m.className.includes("adfuel-rendered")||(m.className="".concat(m.className," adfuel-rendered").trim(),null!=(p=M.adFuel.logger)&&p.log("".concat(S.divId," className ").concat(m.className))):null!=(g=M.adFuel.logger)&&g.warn("Could not find element ".concat(S.divId," to set adfuel-rendered in className."))),M.executeWhenAvailable(function(){e.slot.setTargeting("creativeId",E),e.slot.setTargeting("lineItemId",_)}),null!=(h=M.adFuel.logger)&&h.info("Dispatching GPTRenderComplete: ",S),S.divId?null!=(f=document.getElementById(S.divId))&&f.dispatchEvent(new CustomEvent("GPTRenderComplete",{detail:S,bubbles:!0})):document.dispatchEvent(new CustomEvent("GPTRenderComplete",{detail:S}))}catch(e){null!=(y=M.adFuel.logger)&&y.error("Error dispatching custom event: GPTRenderComplete",e)}}).addEventListener("slotOnload",function(e){var t,r=e.slot.getSlotElementId();null!=(t=M.adFuel.perf)&&t.addMark("[".concat(r,"] Slot Loaded")),null!=(t=M.adFuel.logger)&&t.info("slotOnLoad",e),document.dispatchEvent(new CustomEvent("GPTSlotLoaded",{detail:e}))}),null!=(t=M.adFuel.logger)&&t.info("Enabling 'Collapse Empty Divs'"),googletag.pubads().collapseEmptyDivs(null==(t=M.adFuel.adFuelOptions.COLLAPSE_EMPTY_DIVS)||t),null!=(t=M.adFuel.logger)&&t.info("Enabling 'Async Rendering'"),googletag.pubads().enableAsyncRendering(),null!=(t=M.adFuel.logger)&&t.info("Enabling 'Single Request'"),googletag.pubads().enableSingleRequest(),(0,n.getUrlParam)("enableInitialLoad")||(null!=(t=M.adFuel.logger)&&t.info("Disabling 'Initial Load'"),googletag.pubads().disableInitialLoad());var e,t=!1===(null==(t=null==(t=window.WM)?void 0:t.UserConsent)?void 0:t.isInRegion("global")),r=null==(r=null==(r=window.WM)?void 0:r.UserConsent)?void 0:r.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);null!=(e=M.adFuel.logger)&&e.log("RDP Check: ",{inConsentRegion:t,consentStatus:r}),t&&!r&&(null!=(e=M.adFuel.logger)&&e.log("Restricting Data Processing..."),googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})),null!=(t=M.adFuel.logger)&&t.info("Enabling 'Services'"),null!=(r=M.adFuel.perf)&&r.addMark("Configuring GPT END"),null!=(e=M.adFuel.perf)&&e.addMeasure("Configuring GPT"),null!=(t=M.adFuel.perf)&&t.addMark("Enabling GPT Services"),googletag.enableServices(),o()}))})},o.prototype.enableLazyLoad=function(t){var r=this;this.executeWhenAvailable(function(){var e;null!=(e=r.adFuel.perf)&&e.addMark("Enabling GPT Lazy Load"),googletag.pubads().enableLazyLoad({fetchMarginPercent:t.fetch,renderMarginPercent:t.render,mobileScaling:t.scaling})})},o.prototype.setChildDirectedTreatmentTag=function(e){var t,r=this;this._setChildDirectedTreatment?(this.executeWhenAvailable(function(){var e;null!=(e=r.adFuel.perf)&&e.addMark("Setting Child-Directed Treatment"),googletag.pubads().setPrivacySettings({childDirectedTreatment:!0,underAgeOfConsent:!0})}),this._setChildDirectedTreatment=!1):null!=(t=this.adFuel.logger)&&t.info("setChidlDirectedTreatment has already been caleld.")},o.proaddMark("Setting Location"),googletag.pubads().setLocation(t,r)})},o.prototype.setSafeFrameConfig=function(t){var r=this;this.executeWhenAvailable(function(){var e;null!=(e=r.adFuel.perf)&&e.addMark("Setting SafeFrame Config"),googletag.pubads().setSafeFrameConfig(t)})},o.prototype}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GptProcessData=void 0;var o=e("linq-collections");function n(){this.wrappedSlots=new o.List,this.url="",this.pageTargets={},this.slotTargets={},this.dispatched=!1}n.prototype.build=function(e,t,r,o,n,i){return void 0===o&&(o=""),void 0===n&&(n={}),void 0===i&&(i={}),this.timestamp=(new Date).getTime(),this.registry=e,this.wrappedSlots=t,this.options=r,this.url=o,this.pageTargets=n,this.slotTargets=i,this.dispatched=!1,this},n.prototype.clone=function(){return(new n).build(this.registry&&JSON.parse(JSON.stringify(this.registry)),new o.List(this.wrappedSlots.toArray()),this.options&&JSON.parse(JSON.stringify(this.options)),"".concat(this.url),JSON.parse(JSON.stringify(this.pageTargets)),JSON.parse(JSON.stringify(this.slotTargets)))},r.GptProcessData=n},{"linq-collections":23}],35:[function(e,t,r){"use strict";var o,i,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.GptScriptLoader=void 0,e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl")),e=e("../system/AController"),e=(i=e.AController,n(l,i),Object.defineProperty(l.prototype,"readyId",{get:function(){return"gptScript"},enumerable:!1,configurable:!0}),l.prototype.loadScript=function(){var e,r=this;return null!=(e=this.perf)&&e.addMark("GPT Script Load START"),null!=(e=this.perf)&&e.addMark("GPT Script Ready START"),(0,s.loadScriptFromUrl)("https://securepubads.g.doubleclick.net/tag/js/gpt.js","GPTScript",this._document).then(function(){var e;null!=(e=r.logger)&&e.inf){var e,t=(null==(t=window.googletag)?void 0:t.getVersion())||"unknown";null!=(e=r.logger)&&e.info("GPT is ready. Version is ".concat(t)),null!=(e=r.perf)&&e.addMark("GPT Script Ready END"),null!=(t=r.perf)&&t.addMeasure("GPT Script Ready")})})},l);function l(e,t,r,o){void 0===o&&(o=document);var n=i.call(this,e)||this;return n.missionControl=e,n.logger=t,n.perf=r,n._document=o,n.missionControl.setReady(n),n}r.GptScriptLoader=e},{"../system/AController":31,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":12}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MissionControl=void 0;var o=e("linq-collections");function n(e,t){this.adFuel=e,this.googleApi=t,this._ready=new o.Dictionary,this._optanonLoaded=!1,this._consentStatus=!0,this._iabRegion="global",this.processQueue=[]}n.prototype.register=function(e){this._ready.setOrUpdate(e.readyId,!1),null!=(e=this.adFuel.logger)&&e.info("Ready at Register",JSON.parse(JSON.stringify(this._ready))),null!=(e=this.adFuel.perf)&&e.addMark(firstProcessor",{get:function(){return this._firstProcessor},set:function(e){this._firstProcessor=e},enumerable:!1,configurable:!0}),n.prototype.setReady=function(e){var t,r=this;if(e){if(null!=(t=this.adFuel.logger)&&t.log("Setting Processor Ready: ",e),!this._ready.containsKey(e.readyId))throw new Error("Key not found in ReadyEngine: ".concat(e.readyId));this._ready.setOrUpdate(e.readyId,!0),null!=(t=this.adFuel.logger)&&t.if(this.readyToLaunch()){if(null!=(e=this.adFuel.perf)&&e.addMark("Ready To Launch"),!this._firstProcessor)throw new Error("All processes are ready, unction(){r.runProcessChain(),r.adFuel.flushCmdQueue()})}},n.prototype.runProcessChain=function(){var e,r=this,t=this.processQueue.shift();null!=(e=this.adFuel.logger)&&e.log("[runProcessChain] ProcessData: ",t),t?(null!=(e=this.adFuel.logger)&&e.info("[runProcessChain] Starting chain with this data",t),this.adFuel.moduleManager.callStart(t.wrappedSlots.wlPreQueue(t.wrappedSlots.where(function(e){rethen(function(){var e;null!=(e=r.adFuel.logrocessor..."),r._firstProcessor.process(t).then(function(){t..adFuel.processedData.setOrUpdate(t.timestamp,t),r.runProcessChain(),r.adFuel.flushCmdQueue()})})}).catch(function(e){var t;null!=(t=r.adFuel.logger)&&t.error("[runProcessChain] There was an error in processing the chain.  Mission Control has aborted liftoff.",e)})):null!=(e=this.adFuel.logger)&&e.info("[runProcessChain] No data to process.")},n.prototype.getSlotIfAlreadyProcessed=function(t){var e=null==(e=this.adFuel.processedData.firstOrDefault(function(e){return e.value.wrappedSlots.any(function(e){return e.slotId===t.slotId&&e.isBuilt})}))?void 0:e.value.wrappedSlots.firstOrDefault(function(e){return e.slotId===t.slotId&&e.isBuilt});return t=null!=e?e:t},n.prototype.isReady=function(e){return this._ready.get(e.readyId)},n.prototype.readyToLaunch=function(){var e,t=this._ready.all(function(e){return!0===e.value});return null!=(e=this.adFuel.logger)&&e.info("Ready to launch ".concat(t),this._ready),t},r.MissionControl=n},{"linq-collections":23}],37:[function(e,t,r){"use strict";var o,n,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.ModuleManager=r.ModuleWrapper=void 0,e("@turnercode/digital-ads-utilities")),e=e("../system/AController"),l=function(e,t,r,o){void 0===t&&(t=void 0),void 0===r&&(r=!1),void 0===o&&(o=!1),this.moduleName=e,this.unWrappedModule=t,this.isLoaded=r,this.isReady=o},e=(r.ModuleWrapper=l,n=e.AController,i(a,n),Object.defineProperty(a.prototype,"readyId",{get:function(){return"modules"},enumerable:!1,configurable:!0}),a.prototype.executeWhenWindowLoads=function(){var e;null!=(e=this.adFuel.perf)&&e.addMark("Executing Window Processes START"),null!=(e=this.adFuel.perf)&&e.addMark("Executing Window Processes END"),null!=(e=this.adFuel.perf)&&e.addMeasure("Executing Window Processes")},a.prototype.executeWhenDOMLoads=function(){var e;null!=(e=this.adFuel.perf)&&e.addMark("Executing DOM Processes START"),this.adFuel.adFuelOptions.ACTIVE_MODULES?(null!=(e=this.adFuel.logger)&&e.log("Are all expected modules loaded? ",{expected:this.adFuel.adFuelOptions.ACTIVE_MODULES,loaded:this.areAllExpectedModulesLoaded}),this.areAllExpectedModulesLoaded?(null!=(e=this.adFuel.perf)&&e.addMark("Executing DOM Processes END"),null!=(e=this.adFuel.perf)&&e.addMeasure("Executing DOM Processes")):null!=(e=this.adFuel.logger)&&e.warn("Failed to load all expected modules:",this.adFuel.adFuelOptions.ACTIVE_MODULES)):(null!=(e=this.adFuel.logger)&&e.log("~~ ~~ ~~ === === === SETTING MODULE MANAGER READY (A) === === === ~~ ~~ ~~"),this.adFuel.missionControl.setReady(this))},a.prototype.registerModule=function(e){var t,r;this.adFuel.registeredModules.containsKey(e.MODULE_LOG_TAG)?(r=this.adFuel.registeredModules.get(e.MODULE_LOG_TAG)).unWrappedModule=e:(null!=(t=this.adFuel.perf)&&t.addMark("Creating ModuleWrapper [".concat(e.MODULE_NAME,"]")),r=new l(e.MODULE_LOG_TAG,e)),null!=(t=this.adFuel.logger)&&t.log("Setting Registered Module: ",{module:e,wrappedModule:r}),this.adFuel.registeredModules.setOrUpdate(e.MODULE_LOG_TAG,r),null!=(t=this.adFuel.logger)&&t.log("Expected Loaded and All Ready?: ",{expected:this.areAllExpectedModulesLoaded,ready:this.areAllModulesReady}),this.areAllExpectedModulesLoaded&&this.areAllModulesReady&&(null!=(e=this.adF Modules Ready"),null!=(t=this.adFuel.logger)&&t.log("~~ ~~ ~~ === === === SETTING MODULE MANAGER READY (B) === === === ~~ ~~ ~~"),this.missionControl.setReady(this))},Object.defineProperty(a.prototype,"areAllExpectedModulesLoaded",{get:function(){for(var e,t,r=0,o=null!=(t=this.adFuel.adFuelOptions.ACTIVE_MODULES)?t:[];r<o.length;r++){var n=o[r];if(null!=(e=this.adFuel.logger)&&e.log("moduleLogTag: ",n),!this.adFuel.registeredModules.containsKey(n))return!1}return null!=(t=this.adFuel.logger)&&t.log("notNot: ",!!this.adFuel.adFuelOptions.ACTIVE_MODULES),!!this.adFuel.adFuelOptions.ACTIVE_MODULES},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"areAllModulesReady",{get:function(){return this.adFuel.registeredModules.count()<1||this.adFuel.registeredModules.all(function(e){return e.value.isReady})},enumerable:!1,configurable:!0}),a.prototype.callStart=function(){var o=this;return new Promise(function(e){o.adFuel.registeredModules.where(function(e){return e.value.isReady}).forEach(function(e){var t,r=null==(r=e.value)?void 0:r.unWrappedModule;if(null!=r&&r.start)try{null!=(t=o.adFuel.perf)&&t.addMark("Calling Module Start Process [".concat(e.value.moduleName,"]")),r.start()}catch(e){null!=(t=o.adFuel.logger)&&t.error("Problem calling start for ".concat(r.MODULE_NAME),e)}}),e()})},a.prototype.callPreQueue=function(r){var i=this;return new Promise(function(e){var t,o=r,n=[];i.adFuel.registeredModules.where(function(e){return e.value.isReady}).forEach(function(e){var t,r=e.value.unWrappedModule;null!=r&&r.preQueue&&(null!=(t=i.adFuel.perf)&&t.addMark("Calling Module preQueue Process [".concat(e.value.moduleName,"]")),n.push((0,s.promiseWithTimeout)(1500,r.preQueue(o.toArray()).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("MODULE-MANAGER - Problem calling preQueue ".concat(r.MODULE_NAME),e)}),"".concat(r.MODULE_NAME," PreQueue timed out."))))}),null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PreQueue Callback Promises: ",n),e(Promise.allSettled(n).then(function(e){var t;null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PreQueue Callback Promises Results: ",e)}).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("MODULE-MANAGER - Error waiting for all promises to resolve:",e)}))})},a.prototype.callPostQueue=function(r){var i=this;return new Promise(function(e){var t,o=r,n=[];i.adFuel.registeredModules.where(function(e){return e.value.isReady}).forEach(function(e){var t,r=e.value.unWrappedModule;null!=r&&r.postQueue&&(null!=(t=i.adFuel.perf)&&t.addMark("Calling Module postQueue Process [".concat(e.value.moduleName,"]")),n.push((0,s.promiseWithTimeout)(1500,r.postQueue(o.toArray()).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("Problem calling postQueue ".concat(r.MODULE_NAME),e)}),"".concat(r.MODULE_NAME," PostQueue timed out."))))}),null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PostQueue Callback Promises: ",n),e(Promise.allSettled(n).then(function(e){var t;null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PostQueue Callback Promises Results: ",e)}).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("MODULE-MANAGER - Error waiting for all promises to resolve:",e)}))})},a.prototype.callPreDispatch=function(r){var i=this;return new Promise(function(e){var t,o=r,n=[];i.adFuel.registeredModules.where(function(e){return e.value.isReady}).forEach(function(e){var t,r=e.value.unWrappedModule;null!=r&&r.preDispatch&&(null!=(t=i.adFuel.perf)&&t.addMark("Calling Module preDispatch Process [".concat(e.value.moduleName,"]")),n.push((0,s.promiseWithTimeout)(1500,r.preDispatch(o.toArray()).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("Problem calling preDispatch ".concat(r.MODULE_NAME),e)}),"".concat(r.MODULE_NAME," PreDispatch timed out."))))}),null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PreDispatch Callback Promises: ",n),e(Promise.allSettled(n).then(function(e){var t;null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PreDispatch Callback Promises Results: ",e)}).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("MODULE-MANAGER - Error waiting for all promises to resolve:",e)}))})},a.prototype.callPostDispatch=function(r){var i=this;return new Promise(function(e){var t,o=r,n=[];i.adFuel.registeredModules.where(function(e){return e.value.isReady}).forEach(function(e){var t,r=e.value.unWrappedModule;null!=r&&r.postDispatch&&(null!=(t=i.adFuel.perf)&&t.addMark("Calling Module postDispatch Process [".concat(e.value.moduleName,"]")),n.push((0,s.promiseWithTimeout)(1500,r.postDispatch(o.toArray()).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("Problem calling postDispatch ".concat(r.MODULE_NAME),e)}),"".concat(r.MODULE_NAME," PostDispatch timed out."))))}),null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PostDispatch Callback Promises: ",n),e(Promise.allSettled(n).then(function(e){var t;null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PostDispatch Callback Promises Results: ",e)}).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("MODULE-MANAGER - Error waiting for all promises to resolve:",e)}))})},a.prototype.callPreRefresh=function(r){var i=this;return new Promise(function(e){var t,o=r,n=[];i.adFuel.registeredModules.where(function(e){return e.value.isReady}).forEach(function(e){var t,r=e.value.unWrappedModule;null!=r&&r.preRefresh&&(null!=(t=i.adFuel.perf)&&t.addMark("Calling Module preRefresh Process [".concat(e.value.moduleName,"]")),n.push((0,s.promiseWithTimeout)(1500,r.preRefresh(o.toArray()).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("Problem calling preRefresh ".concat(r.MODULE_NAME),e)}),"".concat(r.MODULE_NAME," PreRefresh timed out."))))}),null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PreRefresh Callback Promises: ",n),e(Promise.allSettled(n).then(function(e){var t;null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PreRefreesh Callback Promises Results: ",e)}).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("MODULE-MANAGER - Error waiting for all promises to resolve:",e)}))})},a.prototype.callPostRefresh=function(r){var i=this;return new Promise(function(e){var t,o=r,n=[];i.adFuel.registeredModules.where(function(e){return e.value.isReady}).forEach(function(e){var t,r=e.value.unWrappedModule;null!=r&&r.postRefresh&&(null!=g Module postRefresh Process [".concat(e.value.moduleName,"]")),n.push((0,s.promiseWithTimeout)(1500,r.postRefresh(o.toArray()).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("Problem calling postRefresh ".concat(r.MODULE_NAME),e)}),"".concat(r.MODULE_NAME," PostRefresh timed out."))))}),null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PostRefresh Callback Promises: ",n),e(Promise.allSettled(n).then(function(e){var t;null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - PostRefresh Callback Promises Results: ",e)}).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("MODULE-MANAGER - Error waiting for all promises to resolve:",e)}))})},a.prototype.callDestroySlot=function(r){var i=this;return new Promise(function(e){var t,o=r,n=[];i.adFuel.registeredModules.where(function(e){return e.value.isReady}).forEach(function(e){var t,r=e.value.unWrappedModule;null!=r&&r.destroySlots&&(null!=(t=i.adFuel.perf)&&t.addMark("Calling Module destroySlots Process [".concat(e.value.moduleName,"]")),n.push((0,s.promiseWithTimeout)(1500,r.destroySlots(o.toArray()).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("Problem calling destroySlots ".concat(r.MODULE_NAME),e)}),"".concat(r.MODULE_NAME," DestroySlot timed out."))))}),null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - DestroySlot Callback Promises: ",n),e(Promise.allSettled(n).then(function(e){var t;null!=(t=i.adFuel.logger)&&t.log("MODULE-MANAGER - DestroySlot Callback Promises Results: ",e)}).catch(function(e){var t;null!=(t=i.adFuel.logger)&&t.error("MODULE-MANAGER - Error waiting for all promises to resolve:",e)}))})},a);function a(e){var t=n.call(this,e.missionControl)||this;return t.adFuel=e,t._windowLoaded=!1,t._domContentLoaded=!1,window.addEventListener("DOMContentLoaded",function(){var e;t._domContentLoaded||(null!=(e=t.adFuel.perf)&&e.addMark("DOMContentLoaded"),t.executeWhenDOMLoads(),t._domContentLoaded=!0)}),window.addEventListener("load",function(){var e;t._windowLoaded||(null!=(e=t.adFuel.perf)&&e.addMark("window.load"),t.executeWhenWindowLoads(),t._windowLoaded=!0)}),t}r.ModuleManager=e},{"../system/AController":31,"@turnercode/digital-ads-utilities":11}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Monetization=void 0;var i=e("@turnercode/digital-ads-utilities/dist/Logger"),s=e("@turnercode/digital-ads-utilities/dist/getViewport");function o(e){var t,r=this,o=(this.wrappedSlot=e,this.invalidMappings=["_ns_","_nfs_"],this.invalidSegments=[],this.invalidAdUnits=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"],this.monetizedSizes=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],this.isMonetized=!0,this.isSuppressed=!1,this.isOutstream=!1,this.viewportSizes=[],this.filteredSizes=[],this._logger=new i.Logger","color: #85BB65; padding: 2px"),this._logger.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"),this._logger.log("$$$$$$$$$$  Monetization for Slot: ",e.slotId),this.posValue=e.posMap,(0,s.getViewport)()),n=this.isSuppressed=!1;this.isOutstream=0<=e.slotId.indexOf("_out_"),"page"===e.slotId&&(this.isMonetized=!1),this.hasInvalidMapping()&&(this.isMonetized=!1),thisg("$$$$$$$$$$ Slot Viewport : ",e);e=e.unwrapped[0][0];return r._logger.log("$$$$$$$$$$ Client Min: ",e),parseInt(e,10)<o.width})[0].sizes,this.viewportSizes=t.sizes.map(function(e){return e.unwrapped}),this.isSuppressed=t.suppressed,this._logger.log("$$tized:this.isMonetized,isSuppresseressed&&this.monetizedSizes.ffilteredSizes.push({unwrapped:e,width:parseInt(e[0],10),height:parseInt(e[1],10)})}):e.sizes.forEach(function(e){t===e.unwrapped.join("x")&&r.filteredSizes.push(e)})}),0!==this.filteredSo.prototype.hasInvalidMapping=function(){var t=this,r=!1;return this.invalidMappings.forEach(function(e){(t.wrappedSlot.slotId.includes(e)||t.posValue.includes(e))&&(r=!0)}),r},o.prototype.hasInvalidUnitSegment=function(){var t=this,r=!1;return this.invalidSegments.forEach(function(e){t.wrappedSlot.slotId.includes(e)&&(r=!0)}),r},o.prototype.hasInvalidAdUnit=function(){return this.invalidAdUnits.includes(this.wrappedSlot.adUnitMap)},r.Monetization=o},{"@turnercode/digital-ads-utilities/dist/Logger":3,"@turnercode/digital-ads-utilities/dist/getViewport":9}],39:[function(e,t,r){"use strict";var l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=(Object.defineProperty(r,"__esModule",{value:!0}),r.OptionsParser=void 0,e("./SlotWrapper")),o=e("linq-collections");function n(e){this.adFuel=e}n.prototype.processOptions=function(e){null!=(r=this.adFuel.perf)&&r.addMark("Processing Options"),null!=(r=this.adFuel.logger)&&r.log("----slots before processOptions",e.wrappedSlots.sogging()}).toArray());var t,r=e.options,o=(this.processPageAdUnit(e),null!=r&&r.usePageAdUnit?(null!=(t=this.adFuel.logger)&&t.log("Using page ad unit for ad unit mapping."),this.processAdUnitMapping(this.adFuel.pageAdUnit,e)):null!=r&&r.adUnitMap&&this.processAdUnitMapping(r.adUnitMap,e),null!=r&&r.slotMap&&this.processSlotMapping(r.slotMap,e),null!=r&&r.exclude&&this.processExclusions(r.exclude,e),null!=r&&r.slots&&this.processIncludes(r.slots,e),null!=r&&r.posMap&&this.processPosMapping(r.posMap,e),[]);return null!=r&&r.sync?e.wrappedSlots.forEach(function(e){return o.push(e.slotId)}):null!=r&&r.syncSlots&&(Array.isArray(r.syncSlots)||(this.adFuel.adFuelOptions.syncSlots=[r.syncSlots]),o.push.apply(o,r.syncSlots)),e.wrappedSlots.where(function(e){return o.includes(e.slotId)}).forEach(function(e){return e.sync=!0}),null!=(t=this.adFuel.logger)&&t.log("----slots after processOptions",e.wrappedSlots.toArray()),e},n.prototype.processAdUnitMapping=function(e,t){var r,o,n=this;null!=(r=this.adFuel.perf)&&r.addMark("Processing AdUnit Mapping [".concat(JSON.stringify(e),"]")),null!=(r=this.adFuel.logger)&&r.log("Processing AdUnit Mapping ".concat(JSON.stringify(e))),o="string"==typeof e?JSON.parse(JSON.stringify({all:e})):JSON.parse(JSON.stringify(e)),null!=(r=this.adFuel.logger)&&r.log("-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= UnitMapClone: ",o),t.wrappedSlots.forEach(function(e){var t;null!=(t=n.adFuel.logger)&&t.log("-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= Checking if slot should be mapped: ",{slot:e,id:e.slotId,unitMapClone:o}),void 0!==o.all?(null!=(t=n.adFuel.logger)&&t.log("-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= Mapping Slot to Global: ",o.all),e.adUnitMap=o.all):void 0!==o[e.slotId]&&(null!=(t=n.adFuel.logger)&&t.log("-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= Mapping Slot to Specific: ",o[e.slotId]),e.a.processPageAdUnit=function(e){var t;""===this.adFuel.pageAdUnit&&1<e.wrappedSlots.toArray().length&&(""===e.wrappedSlots.toArray()[0].unWrappedSlot.rktr_ad_id?null!=(t=this.adFuel.logger)&&t.error("Could not determine page ad unit.",e.wrappedSlots):(null!=(t=this.adFuel.logger)&&t.info("Setting pageAdUnit to:",e.wrappedSlots.toArray()[0].unWrappedSlot.rktr_ad_id),this.adFuel.pageAdUnit=e.wrappedSlots.toArray()[0].unWrappedSlot.rktr_ad_id))},n.prototype.processSlotMapping=function(r,o){null!=(e=this.adFuel.logger)&&e.log("[OptionsParser] Processing Slot Mapping",{slotMap:r,data:o});for(var e,n,i=this,t=0,s=Object.keys(r);t<s.length;t++)!function(t){var e=null==(n=o.wrappedSlots.firstOrDefault(function(e){return e.slotId===t}))?void 0:n.unWrappedSlot;e?o.wrappedSlots.firstOrDefault(function(e){return e.slotId===r[t]})?null!=(n=i.adFuel.logger)&&n.warn("Mapped ".concat(r[t]," slot already exists!")):document.getElementById(r[t])?(null!=(n=i.adFuel.logger)&&n.log("[OptionsParser] Creating slot ".concat(t," mapped to ").coew a.SlotWrapper(l(l({},e),{rktr_slot_id:r[t]})))):null!=(n=i.adFuel.logger)&&n.warn("".concat(r[t]," has no matching element on the page and won't be added to allWrappedSlots.'")):null!=(n=i.adFuel.logger)&&n.warn("Could not find source slot data for ".concat(t," in the registry or allWrappedSlots in processSlotMap."))}(s[t])},n.prototype.processPosMapping=function(r,o){var e,n,i=this;if(null!=(e=this.adFuel.perf)&&e.addMark("Processing POS Mapping ".concat(JSON.stringify(r),"]")),null!=(e=this.adFuel.logger)&&e.log("[OptionsParser] Processing POS Mapping",r),"string"==typeof r)o.wrappedSlots.forEach(function(e){var t;null!=(t=i.adFuel.logger)&&t.log("[OptionsParser] Setting pos to global:",r),e.posMap=r});else{var t,s=this;for(t in r)!function(t){var e=o.wrappedSlots.firstOrDefault(function(e){return e.sl] Validating specific pos:",{source:e,key:t}),!e)return null!=(n=s.adFuel.logger)&&n.warn("Cant' find slot ".concat(t," to use as a source in POS Mapping."));e&&(null!=(n=s.adFuel.logger)&&n.log("[OptionsParser] Setting pos to specific:",{source:e,key:t}),e.posMap=r[t])}(t)}},n.prototype.processExclusions=function(t,e){var r;null!=(r=this.adFuel.perf)&&r.addMark("Processing Exclusions ".concat(JSON.stringify(t),"]")),Array.isArray(t)||(t=[t]),null!=(r=this.adFuel.logger)&&r.log("#################### Should process exclusions?",0<t.length),t.length<1||(null!=(r=this.adFuel.logger)&&r.log("s:",t),null!=(r########### Pre Exclusions: ",e.wrappedSlots),r=e.wrappedSlots.toArray().map(function(e){return t.includes(e.slotId)&&(e.isExcluded=!0),e}),e.wrappedSlots=new o.List(r),null!=(e=this.adFuel.logger)&&e.log("#################### Post Exclusions: ",r))},n.prototype.processIncludes=function(t,e){var r;null!=(r=this.adFuel.perf)&&r.addMark("Proce,Array.isArray(t)||(t=[t]),null!=(r=this.adFuel.logger)&&r.log("#################### Should process inclusions?",0<t.length),t.length<1||(null!=(r=this.adFuel.logger)&&r.log("#################### Processing inclusions:",t),null!=(r=this.adFuel.logger)&&r.log("#################### Pre Inclusions: ",e.wrappedSlots),r=e.wrappedSlots.where(function(e){return t.includes(e.slotId)}).toArray().map(function(e){return e.isExcluded=!1,e}),e.wrappedSlots=new o.List(r),null!=(e=this.adFuel.logger)&&e.log("#################### Post Inclusions: ",r))},r.OptionsParser=n},{"./SlotWrapper":43,"linq-collections":23}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OverlayLoader=void 0;var c=e("@turnercode/digital-ads-utilities/dist/localization");function o(e){this.adFuel=e,this._overlaysHidden=!0}Object.defineProperty(o.prototype,"overlaysHidden",{get:function(){return this._overlaysHidden},enumerable:!1,configurable:!0}),o.prototype._togglePageOverlay=function(){var e,t,a,u;null!=(e=this.adFuel.logger)&&e.log("===== OVERLAY LOADER ===== Toggling Page Overlay...",this.overlaysHidden),this.overlaysHidden&&((e=document.createElement("style")).innerHTML="\n        html::-webkit-scrollbar:horizontal { display: none; width: 0; height: 0; }\n        html body::-webkit-scrollbar:horizontal { display: none; width: 0; height: 0; }\n      ",(t=document.createElement("div")).className="pos_overlay",t.id="page_overlay",t.style.position="fixed",t.style.bottom="0",t.style.left="10",t.style.textAlign="left",t.style.padding="5px",t.style.marginBottom="25px",t.style.fontFamily="Verdana",t.style.fontSize="12px",t.style.fontWeight="normal",t.style.lineHeight="12px",t.style.background="rgba(0,50,100,0.7)",t.style.color="#ffffff",t.style.zIndex="2147483000",t.style.overflow="hidden",t.style.overflowY="auto",t.style.overflowX="auto",t.style.width="500px",t.style.height="30vh",(a=document.createElement("ul")).style.listStyleType="none",a.style.margin="0px",a.style.marginTop="5px",a.style.marginBottom="5px",a.style.padding="5px",a.innerHTML=a.innerHTML+'<div style="position: absolute; top: 5px; right: 5px; align: right; text-align: right; display: inline-block;"><a style="cursor: copy; color: white;" onClick="copyPageInfo()">[COPY]</a></div>',u=this.adFuel,["afv","uc","mv","reg"].forEach(function(e){var t,o=document.createElement("li"),r=(o.style.margin="5px",o.style.padding="0px",u.version()),n=u.registeredModules.getKeys(),i=u.fetchedRegistries.keys(),s=(null!=(t=u.logger)&&t.log("Version: ",r),null!=(t=u.logger)&&t.log("Modules: ",n),null!=(t=u.logger)&&t.log("Registries: ",i),(null==(t=null==(t=window.WM)?void 0:t.UserConsent)?void 0:t.getRegion())||"global"),l="global"===s?"N/A":JSON.stringify(null==(t=null==(t=window.WM)?void 0:t.UserConsent)?void 0:t.getConsentState(),null,2);switch(null!=(t=u.logger)&&t.log("Consent Region: -".concat(s,"-")),null!=(t=u.logger)&&t.log("Consent Status: ",l),o.style.direction="ltr",e){case"afv":o.innerHTML='<b style="font-size: 1.25em;">AdFuel v'.concat(r,"</b>");break;case"mv":o.innerHTML='<hr style="margin: 2px; padding: 2px; width: 80%"><b>Modules:</b>',o.innerHTML=o.innerHTML+'<ul style="list-style-type: none; margin: 0px; margin-left: 5px; padding-top: 2px; padding-bottom: 2px;">',n.forEach(function(e){var t,e=u.registeredModules.get(e);o.innerHTML=o.innerHTML+'<li style="margin: 0px; margin-left: 5px;">'.concat(null==(t=e.unWrappedModule)?void 0:t.MODULE_NAME," v").concat(null==(t=e.unWrappedModule)?void 0:t.MODULE_VERSION,"</li>")}),o.innerHTML=o.innerHTML+"</ul>";break;case"reg":o.innerHTML='<hr style="margin: 2px; padding: 2px; width: 80%"><b>Registries:</b>',o.innerHTML=o.innerHTML+'<ul style="list-style-type: none; margin: 0px; margin-left: 5px; padding-top: 2px; padding-bottom: 2px;">',Array.from(i).forEach(function(e){var t=u.fetchedRegistries.get(e),r=null;t&&(r=t[0]),o.innerHTML=o.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>Name:</b> '.concat(null==r?void 0:r.rktr_id,"</li>"),o.innerHTML=o.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>Website:</b> <a style="color: yellow;" href="'.concat(e,'" target="_blank">').concat(e,"</a></li>"),o.innerHTML=o.innerHTML+'<li style="margin: 0px; margin-left: 5px; padding-bottom: 5px; border-bottom: solid 1px white;"><b>Last Updated:</b> '.concat(null==r?void 0:r.rktr_deployed_date,"<br /></li>")}),o.innerHTML=o.innerHTML+"</ul>";break;case"uc":o.innerHTML='<hr style="margin: 2px; padding: 2px; width: 80%"><b>User Consent:</b>',o.innerHTML=o.innerHTML+'<ul style="list-style-type: none; margin: 0px; margin-left: 5px; padding-top: 2px; padding-bottom: 2px;">',o.innerHTML=o.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>Region:</b> '.concat(s.toUpperCase(),"</li>"),o.innerHTML=o.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>Status:</b> '.concat(l?"Granted":"Denied","</li>"),o.innerHTML=o.innerHTML+"</ul>"}a.appendChild(o)}),t.appendChild(a),window.copyPageInfo=function(){var e=null==(e=document.getElementById("page_overlay"))?void 0:e.innerText.replace("[COPTemporalData(t),document.head.appendChild(e),document.body.appendChild(t))},o.prototype._toggleOverlays=function(){var e,t,d=this;if(this._overlaysHidden){null!=(r=this.adFuel.logger)&&r.log("===== OVERLAY LOADER ===== Showing Overlays..."),this._togglePageOverlay();var r=document.querySelectorAll(".adfuel-rendered");null!=(e=this.adFuel.logger)&&e.log("===== OVERLAY LOADER ===== Ad Slots:",r),n=r.length,r.forEach(function(e){var s=e.id,t=document.getElementById(s)||document.createElement("div"),r=(t.style.position="relative",null==(o=d.adFuel)?void 0:o.processedData),o=r.getKeys(),l={},a=(o.forEach(function(e){var t=r.get(e);null!=(e=d.adFuel.logger)&&e.log("===== OVERLAY LOADER ===== Registry:",t),t.wrappedSlots.forEach(function(e){e.unWrappedSlot.rktr_slot_id===s&&e.isBuilt&&e.gSlot&&((l=e).parentRegistry=t.url)})}),null!=(o=d.adFuel.logger)&&o.log("===== OVERLAY LOADER ===== data: ",{processedData:r,adElement:e,adFuel:Object.keys(d.adFuel),activeSlot:l}),s.substring(s.indexOf("_")+1)),o=document.createElement("div"),u=(o.className="pos_overlay",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.right="0",o.style.bottom="0",o.style.textAlign="left",o.style.padding="5px",o.style.fontFamily="Verdana",o.style.fontSize="12px",o.style.fontWeight="normal",o.style.lineHeight="12px",o.style.background="rgba(0,100,0,0.7)",o.style.color="#fffwY="auto",o.style.overflowX="auto",o.style.width=t.style.width+"px",o.style.height=t.style.height+"px",o.id="overlay_"+s,document.createElement("ul"));u.style.listStyleType="none",u.style.margin="0px",u.style.marginTop="5px",u.style.marginBottom="5px",u.style.padding="5px";u.innerHTML=u.innerHTML+'<div style="position: absolute; top: 5px; right: 5px; display: inline-block; align: right; text-align: right"><a style="cursor: copy; color: white;" onClick="copySlotInfo(\''.concat(s,"')\">[COPY]</a></div>"),["Slot","Details","Response","Programmatic","Bids","Targeting"].forEach(function(e){function o(e){return'<ul style="list-style-type: none; margin: 0px; margin-left: '.concat(e,'px; padding-top: 2px; padding-bottom: 2px;">')}function n(e){return'<li style="direction: ltr; margin-left: '.concat(e,'px; padding: 0px;">')}switch(u.innerHTML=u.innerHTML+n(5),e){case"Slot":u.innerHTML=u.innerHTML+'<b style="font-size: 1.25em;">Slot: '.concat(s,"</b>");break;case"Details":u.innerHTML=u.innerHTML+'<hr style="margin: 2px; padding: 2px; width: 80%"><b>Details:</b>',u.innerHTML=u.innerHTML+o(10),u.innerHTML=u.innerHTML+n(10)+"<b>POS:</b> "+a+"</li>",u.innerHTML=u.innerHTML+n(10)+"<b>AdUnit:</b> "+((null==l?void 0:l.adUnitMap)||(null==l?void 0:l.unWrappedSlot.rktr_ad_id))+"</li>",u.innerHTML=u.innerHTML+n(10)+"<b>Registry:</b> "+(null==l?void 0:l.parentRegistry)+"</li>",u.innerHTML=u.innerHTML+n(10)+"<b>Monetized:</b> "+(l&&l.monetization?l.monetization.isMonetized:"false")+"</li>",u.innerHTML=u.innerHTML+"</ul>";break;case"Response":u.innerHTML=u.innerHTML+'<hr style="margin: 2px; padding: 2px; width: 80%"><b>Response:</b>',u.innerHTML=u.innerHTML+o(10);var t,r=l.responseData;if(r)for(var i in r)"renderedSize"!==i&&null!==(t=r[i])&&(u.innerHTML=u.innerHTML+'<li style="margin: 0px; margin-left: 5px;"><b>'.concat(i,":</b> ").concat(JSON.stringify(t),"</li>"));u.innerHTML=u.innerHTML+n(10)+"<b>Rendered Size:</b> ".concat("string"!=typeof l.responseData.renderedSize?l.responseData.renderedSize.join("x"):l.responseData.renderedSize,"</li>"),u.innerHTML=u.innerHTML+"</ul>";break;case"Programmatic":u.innerHTML=u.innerHTML+'<hr style="margin: 2px; padding: 2px; width: 80%"><b>Programmatic:</b>',u.innerHTML=u.innerHTML+o(10),Object.keys(l.programmatic).forEach(function(e){var t;switch(u.innerHTML=u.innerHTML+n(10),e){case"a9":null!=(t=d.adFuel.logger)&&t.log("===== OVERLAY LOADER ===== A9: ",l.programmatic.a9),u.innerHTML=u.innerHTML+"<b>A9:</b> ",u.innerHTML=u.innerHTML+o(15),u.innerHTML=u.innerHTML+n(15)+"<b>SlotName:</b> "+l.programmatic.a9.slotName+"</li>",u.innerHTML=u.innerHTML+"</ul>";break;case"ias":null!=(t=d.adFuel.logger)&&t.log("===== OVERLAY LOADER ===== IAS: ",l.programmatic.ias),u.innerHTML=u.innerHTML+"<b>IAS:</b> ",u.innerHTML=u.innerHTML+o(15),u.innerHTML=u.innerHTML+n(15)+"<b>adUnitPath:</b> "+l.programmatic.ias.adUnitPath+"</li>",u.innerHTML=u.innerHTML+"</ul>";break;case"krux":null!=(t=d.adFuel.logger)&&t.log("===== OVERLAY LOADER ===== Krux: ",l.programmatic.krux),u.innerHTML=u.innerHTML+"<b>Krux:</b> ",u.innerHTML=u.innerHTML+o(15),u.innerHTML=u.innerHTML+n(15)+"<b>controlTag:</b> "+((0,c.isIntl)()?l.programmatic.krux.intl_controltag:l.programmatic.krux.dom_controltag)+"</li>",u.innerHTML=u.innerHTML+"</ul>";break;case"prebid":null!=(t=d.adFuel.logger)&&t.log("===== OVERLAY LOADER ===== Prebid: ",l.programmatic.prebid),u.innerHTML=u.innerHTML+"<b>Prebid:</b> ",u.innerHTML=u.innerHTML+o(15),Object.keys(l.programmatic.prebid).forEach(function(r){"bids"!==r&&(u.innerHTML=u.innerHTML+n(15)+"<b>".concat(r.toUpperCase(),":</b><br />"),u.innerHTML=u.innerHTML+o(20),Object.keys(l.programmatic.prebid[r]).forEach(function(e){var t="keywords"!==e?l.programmatic.prebid[r][e]:JSON.stringify(l.programmatic.prebid[r][e]);u.innerHTML=u.innerHTML+n(20)+"<b>".concat(e,":</b> ").concat(t,"</li>")}),u.innerHTML=u.innerHTML+"</ul>",u.innerHTML=u.innerHTML+"</li>")}),u.innerHTML=u.innerHTML+"</ul>"}u.innerHTML=u.innerHTML+"</li>"}),u.innerHTML=u.innerHTML+"</ul>";break;case"Targeting":u.innerHTML=u.innerHTML+'<hr style="margin: 2px; padding: 2px; width: 80%"><b>Targeting:</b>',u.innerHTML=u.innerHTML+o(10),Object.keys(l.requestedSlotTargets).forEach(function(e){0<l.requestedSlotTargets[e].length?u.innerHTML=u.innerHTML+n(10)+"<b>".concat(e,":</b> ").concat(JSON.stringify(l.requestedSlotTargets[e].join(", ")),"</li>"):null!=(e=d.adFuel.logger)&&e.log("===== OVERLAY LOADER ===== No Slot Targets [".concat(l.slotId,"]"))}),u.innerHTML=u.innerHTML+"</ul>"}u.innerHTML=u.innerHTML+"</li>"}),window.copySlotInfo=function(e){e=null==(e=document.getElementById("overlay_"+e))?void 0:e.innerText.replace("[COPY]","");return console.log("Overlay Text: ",e),navigator.clipboard.writeText(e||""),e},o.appendChild(u),t.appendChild(o)}),this._overlaysHidden=!1}else{null!=(e=this.adFuel.logger)&&e.log("===== OVERLAY LOADER ===== Removing Overlays...");for(var o=document.querySelectorAll(".pos_overlay"),n=o.length,i=0;i<n;i++)null!=(t=o[i].parentNode)&&t.removeChild(o[i]);this._overlaysHidden=!0}},o.prototype.startConsoleTool=function(){var t,r=thiseyCode||"229"===e.code||"KeyZ"===ach(function(e){var t=document.createElement("td");t.innerHTML=e.toUpperCase(),t.style.padding="5px",t.style.paddingLeft="5px",t.style.paddingRighte]}t.style.padding="2px",:13}],41:[function(e,t,r){tion e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;a=u&&t[u=0]?0:a;)try{if(i=1,s&&(l=2&t[0]?s.return:t[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,t[1])).done)return l;switch(s=0,(t=l?[2&t[0],l.value]:t)[0]){caseturn a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(l=0<(l=a.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3]))a.label=t[1];else if(6===t[0]&&a.label<l[1])a.label=l[1],l=t;else{if(!(l&&a.label<l[2])){l[2]&&a.ops.pop(),a.trys.pop();continue}a.label=l[2],a.ops.push(t)}}t=n.call(o,a)}catch(e){t=[6,e],s=0}finally{i=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},a=(Object.defineProperty(r,"__esModule",{value:!0}),r.RegistryLoader=void 0,e("./AController")),u=e("@turnercode/digital-a"../system"),p=e("."),g=e("./OptionsParser"),e=(n=a.AController,i(h,n),Object.defineProperty(h.prototype,"readyId",{get:function(){return"registry"},enumerable:!1,configurable:!0}),h.prototype.loadRegistryFromUrl=function(o,n){var i;return s(this,void 0,void 0,function(){var t,r=this;return l(this,function(e){return null!=(i=this.adFuel.logger)&&i.info("Loading registry JSON from ".concat(o)),"string"!=typeof o?null!=(i=this.adFuel.logger)&&i.log("loadRegistryFromUrl was given a Url value that wasn't a string.",console.trace()):("js"===o.slice(2+(o.lastIndexOf(".")-1>>>0))&&(null!=(i=this.adFuel.logger)&&i.warn("The 'min.js' and '.js' registry file formats are deprecated. e the toLowerCase()}).join("."),".json"),null!=(i=this.adFuel.logger))&&i.info("Converting input to use '.json' registry file. Converted to: ".concat(o,". ")),o=(0,u.normalizeUrl)(o),null!=(i=this.adFuel.logger)&&i.log("Looking for Registry JSON: ",o),this.fetchedRegistries.has(o)?(null!=(i=this.adFuel.logger)&&i.log("Fetching Registry object from Cache"),t=this.fetchedRegistries.get(o),null!=(i=this.adFuel.logger)&&i.log("===== [RegistryLoader/loadRegistryFromUrl] Registry: ",t),this.loadRegistryFromJson(JSON.parse(JSON.stringify(t)),n,o)):(null!=(i=this.adFuel.logger)&&i.log("Fetching Registry JSON from CDN"),null!=(i=this.adFuel.perf)&&i.addMark("Loading Registry JSON START"),fetch(o).then(function(e){return e.json()}).then(function(e){return r.fetchedRegistries.set(o,JSON.parse(JSON.stringify(e.registry))),e.registry}).then(function(e){var t;null!=(t=r.adFuel.perf)&&t.addMark("Loading Registry JSON END"),null!=(t=r.adFuel.perf)&&t.addMeasure("Loading Registry JSON"),r.loadRegistryFromJson(e,n,o)}).catch(function(e){var t;throw null!=(t=r.adFuel.logger)&&t.error("Error loading ".concat(o),e),Error(e)}))),[2]})})},h.prototype.loadRegistryFromJson=function(e,t,r){null!=(s=this.adFuel.perf)&&s.addMark("Processing Registry [".concat(e[0].rktr_id,"]")),r=r||"".concat(e[0].rktr_id),null!=(s=this.adFuel.logger)&&s.log("===== [RegistryLoader/loadRegistryFromJson] Registry: ",{registry:e,jsonUrl:r});var o,n=new d.List,i=e[0];i.slots=[],null!=(s=this.adFuel.logger)&&s.log("===== [RegistryLoader/loadRegistryFromJson] Options: ",t);for(var s,l=1;l<e.length;l++)i.slots.push(JSON.parse(JSON.stringify(e[l]))),t.slots&&0!==t.slo)&&o.log("===== [RegistryLoader/loadRegistryFromJson] Selective Slot: ",e[l]),n.push(new c.SlotWrapper(JSON.parse(JSON.stringify(e[l]))))):(null!=(o=is.adFuel).processOptions(e),null!=(t=this.adFuel.logger)&&t.info("GptProcessDataObject for processing",e),this.adFuel.missionControl.processQueue.push(e),this.missionControl.setReady(this)},h);function h(e){var t=n.call(this,e.missionControl)||this;return t.adFuel=e,t.fetchedRegistries=new Map,t}r.RegistryLoader=e},{".":45,"../system":45,"./AController":31,"./OptionsParser":39,"@turnercode/digital-ads-utilities":11,"linq-collections":23}],42:[function(e,t,r){"use strict";function o(e){this.unwrapped=e}Object.defineProperty(r,"__esModule",{value:!0}),r.SizeWrapper=void 0,Object.defineProperty(o.prototype,"width",{get:function(){return+this.unwrapped[0]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return+this.unwrapped[1]},enumerable:!1,configurable:!0}),r.SizeWrapper=o},{}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SlotWrapper=void 0;var d=e("./Monetization"),c=e("./SizeWrapper"),p=e("./ViewportWrapper");function o(e){this.unWrappedSlot=e,this._sync=!1,this._isExcluded=!1,this._hasBeenDisplayed=!1,this._gslot=void 0,this._monetization={isMonetized:!1,filteredSizes:[],isSuppressed:!1},this._adUnitMap="",this._parentRegistry="",this._responsive=[],this._sizes=[],this._requestedSlotTargets={},this._posMap="",this.programmatic={},this.responseData={advertiserId:void 0,campaignId:void 0,creativeId:void 0,isEmpty:!0,lineItemId:void 0,renderedSize:"",sourceAgnosticCreativeId:void 0,sourceAgnosticLineItemId:void 0},this._adUnitMap=e.rktr_ad_id,this._posMap="";for(var t=0,r=this.targeting;t<r.length;t++){var o=r[t];if("pos"===o[0]){this._posMap=o[1][0];break}}this.unWrappedSlot.responsive=this.formatResponsiveMapping(e);for(var n=0,i=this.unWrappedSlot.responsive;n<i.length;n++){var s=i[n];this._resposizes;l<a.length;l++){var u=a[l];this._sizes.push(new c.SizeWrapper(u))}this._mons),this._parentRegistry=""}o.prototype.formatResponsiveMapping=function(e){return e.responsive.map(function(e){return e.map(function(e){return"suppress"===e[0]?[]:e.map(function(e){return Array.isArray(e)?e.map(function(e){return"string"!=typeof e||"fluid"===e?e:parseInt(e,10)}):"string"==typeof e?parseInt(e,10):e})})})},Object.defineProperty(o.prototype,"slotId",{get:function(){return this.unWrappedSlot.rktr_slot_id.prototype,"sync",{get:function(){return this._sync},set:function(e){this._sync=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isOutOfPage",{get:function(){return 1<=this.unWrappedSlot.rktr_slot_id.indexOf("_oop")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isBuilt",{get:function(){return!!this._gslot},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isExcluded",{get:function(){return this._isExcluded},set:function(e){this._isExcluded=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasBeenDisplayed",{get:function(){return this._hasBeenDisplayed},set:function(e){this._hasBerable:!0}),Object.defineProperty(o.prototype,"slotExistsOnPage",{get:function(){return!!document.getElementById(thit.defineProperty(o.prototype,"gSlot",{get:function(){return this._gslot},set:function(e){this._gslot=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"monetization",{get:function(){return this._monetization},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parentRegistry",{geistry=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"adUnitMap",{get:fue){tle:!0}),Object.defineProperty(o.prototype,"posMap",{get.targeting},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"respon:this.slotId,isExcluded:this.isExcluded,isBuilt:this.isBuilt,hasBeenDisplayed:this.hasBeenDisplayed,slot/SizeWrapper"),e=(Object.defnumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"sizes",{get:function(){for(var e={sizes:[],suppressed:!1},t=0,r=this.unwrapped[1];t<r.length;t++){var o=r[t];Array.isArray(o)?e.sizes.push(new n.SizeWrapper(o)):e.suppressed=!0}return e},enumerable:!1,configurable:!0}),o);function o(e){this.unwrapped=e}r.ViewportWrapper=e},{"./SizeWrapper":42}],45:[function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:funcr in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.processors=void 0,r.processors=e("../processors/index"),n(e("./MissionControl"),r),n(e("./SlotWrapper"),r),n(e("./ViewportWrapper"),r),n(e("./SizeWrapper"),r),n(e("./GoogleApi"),r),n(e("./GptProcessData"),r),n(e("./RegistryLoader"),r),n(e("./ModuleManager"),r),n(e("./GptScriptLoader"),r),n(e("./OverlayLoader"),r),n(e("./BaseAdFuelOptions"),r)},{"../processors/index":30,"./BaseAdFuelOptions":32,"./GoogleApi":33,"./GptProcessData":34,"./GptScriptLoader":35,"./MissionControl":36,"./ModuleManager":37,"./OverlayLoader":40,"./RegistryLoader":41,"./SizeWrapper":42,"./SlotWrapper":43,"./ViewportWrapper":44}],46:[function(e,t,r){t.exports={family:"Malachite Mr. Mxyzsptlk",major:3,minor:0,revision:45}},{}]},{},[25])(25)});