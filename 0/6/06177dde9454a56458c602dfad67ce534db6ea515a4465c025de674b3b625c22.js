import{A as e,B as o,I as t}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";const s={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},r=t("path",{stroke:"#3A7396","stroke-miterlimit":"10","stroke-width":"1.5",d:"M3.344 12.654C.788 6.948 5.361 3.945 13.187 2.812c-1.134 7.825-4.137 12.398-9.843 9.842Z"},null,-1),i=t("path",{stroke:"#3A7396","stroke-miterlimit":"10","stroke-width":"1.5",d:"M11.434 9.411c-1.277.758-2.857.793-4.78-.063-.836-1.874-.821-3.425-.122-4.682m6.656-1.854L0 16"},null,-1),n=[r,i];function c(l,d){return e(),o("svg",s,n)}const a={render:c};export{a as default,c as render};
port"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import"./productUtils_e3499a9f_r24-02-0_b0_t240129-161140.js";import"./i18n_4b81f106_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreCart_c99ec818_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreInternationalCarts_2b023aac_r24-02-0_b0_t240129-161140.js";import"./ssrViewStoreProduct_cb84dadb_r24-02-0_b0_t240129-161140.js";import"./imageUtils_fcbf42ca_r24-02-0_b0_t240129-161140.js";import"./ssrGlobalStoreHeadMeta_ca820fb3_r24-02-0_b0_t240129-161140.js";import"./csrViewStorePickupInStore_9251cc88_r24-02-0_b0_t240129-161140.js";import"./csrViewStoreFavorite_1d3eb3f3_r24-02-0_b0_t240129-161140.js";const B={inject:["mq"],props:{imageSlides:{type:Array,default:null}},data(){return{contentUrl:"//lsco.scene7.com/skins/",imageServerUrl:"//lsco.scene7.com/is/image/",inlineViewerConfig:"Scene7SharedAssets/Universal_HTML5_Zoom_Inline",currentSlideIndex:0,slideNumber:1,numberOfSlides:0,tagId:"product-modal-zoom-view",moreThenOneSlide:!1,currentSlideUrl:""}},methods:{...S(M,["displayProgressSpinner","hideProgressSpinner"]),replaceImageUrl(i){let e=i.replace(/^.*:/i,"").replace(this.imageServerUrl,"").replace("%3F","?");return this.isMobile||(e=e.replace(/\?\$.*?\$/,"")),e},initViewer(){this.viewer===void 0||this.viewer===null?(this.viewer=new s7viewers.BasicZoomViewer,this.viewer.handlers.trackEvent=this.trackViewerEvent,this.viewer.setContainerId(this.tagId),this.viewer.setParam("serverurl",this.imageServerUrl),this.viewer.setParam("config",this.inlineViewerConfig),this.viewer.setParam("contenturl",this.contentUrl),this.viewer.setParams("ZoomView.zoomstep=0,2"),this.isMobile&&this.viewer.setParams("ZoomView.singleclick=zoom"),this.setSlide(),this.viewer.init()):this.setSlide()},trackViewerEvent(i,e){i&&(e==="ZoomView"||e==="MediaSet")&&this.hideProgressSpinner()},initBasicViewer(){this.viewer=new s7viewers.BasicZoomViewer},changeSlide(i){const e=i?1:-1;let s=this.currentSlideIndex+e;s===this.numberOfSlides?s=0:s<0&&(s=this.numberOfSlides-1),this.currentSlideIndex=s,this.setSlide()},closeZoomModal(){this.zoomModalIsOpen=!1,this.stickyBuyBoxVisible=!1;const i=document.getElementsByClassName("stickybuy__container")[0];i&&(i.style.zIndex=""),k()},setSlide(i=this.currentSlideIndex){const e=this.replaceImageUrl(this.imageSlides[i].url);this.currentSlideUrl!==e&&(this.displayProgressSpinner({progressPrimaryMsg:this.$t("i18n.loadingEllipsis"),progressSecondaryMsg:this.$t("i18n.inProgress")}),this.viewer.setAsset(e),this.currentSlideUrl=e,this.slideNumber=this.currentSlideIndex+1)},s7ViewerActive(){return typeof s7viewers<"u"&&s7viewers.BasicZoomViewer},onZoomViewToggle(i){this.currentSlideIndex=this.imageSlides.map(e=>e.index).indexOf(parseInt(i.galleryIndex,10)),this.numberOfSlides=this.imageSlides.length,this.moreThenOneSlide=this.imageSlides.length>1,y(this.s7ViewerActive,500,10).then(()=>{this.initViewer()}),this.zoomModalIsOpen=!0,O()}},mounted(){p.$on("toggleModalImagezoom",this.onZoomViewToggle)},computed:{...v(V,["zoomModalIsOpen","stickyBuyBoxVisible"]),isMoreThenOneSlide(){return this.moreThenOneSlide},isMobile(){return this.mq.current==="mobile"||this.mq.current==="tablet"}},beforeUnmount(){this.closeZoomModal(),p.$off("toggleModalImagezoom",this.onZoomViewToggle)},components:{SvgIcon:_}},Z={class:"product-modal-zoom-view-container"},U=["id"],z={key:0,class:"zoom-pagination"},C=["aria-label"],x=["aria-label"],T=["aria-label"];function A(i,e,s,E,o,t){const n=w("SvgIcon");return r(),b(I,{name:"fade"},{default:f(()=>[a(m("div",Z,[m("div",{id:o.tagId},[t.isMobile?c("",!0):(r(),d("div",z,g(o.slideNumber)+" / "+g(o.numberOfSlides),1)),m("button",{type:"button",class:"btn-circle btn-close","aria-label":i.$t("i18n.close"),onClick:e[0]||(e[0]=(...l)=>t.closeZoomModal&&t.closeZoomModal(...l))},[h(n,{name:"close",title:i.$t("i18n.close"),class:"close-svg","set-aria-hidden":!0},null,8,["title"])],8,C),t.isMobile?c("",!0):a((r(),d("button",{key:1,type:"button","aria-label":i.$t("i18n.previousImage"),class:"btn-circle btn-navi btn-navi-left",onClick:e[1]||(e[1]=l=>t.changeSlide(!1))},[h(n,{name:"arrow-right-zoom",class:"nav-svg rotate-btn",title:i.$t("i18n.previousImage"),"set-aria-hidden":!0},null,8,["title"])],8,x)),[[u,t.isMoreThenOneSlide]]),t.isMobile?c("",!0):a((r(),d("button",{key:2,type:"button","aria-label":i.$t("i18n.nextImage"),class:"btn-circle btn-navi btn-navi-right",onClick:e[2]||(e[2]=l=>t.changeSlide(!0))},[h(n,{name:"arrow-right-zoom",class:"nav-svg",title:i.$t("i18n.nextImage"),"set-aria-hidden":!0},null,8,["title"])],8,T)),[[u,t.isMoreThenOneSlide]])],8,U)],512),[[u,i.zoomModalIsOpen]])]),_:1})}const ie=P(B,[["render",A]]);export{ie as default};
