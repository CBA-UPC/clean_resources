;
(self.AMP=self.AMP||[]).push({m:0,v:"2312191621000",n:"amp-fx-collection",ev:"0.1",l:!0,f:function(t,n){!function(){var n;isArray;var o=Object.prototype;.hasOwnProperty,o.toString,self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var c,h=self.__AMP_LOG;,y=["fade-in","fade-in-scroll","float-in-bottom","float-in-top","fly-in-bottom","fly-in-left","fly-in-right","fly-in-top","parallax"],g={FADE_IN:y[0],FADE_IN_SCROLL:y[1],FLOAT_IN_BOTTOM:y[2],FLOAT_IN_TOP:y[3],FLY_IN_BOTTOM:y[4],FLY_IN_LEFT:y[5],FLY_IN_RIGHT:y[6],FLY_IN_TOP:y[7],PARALLAX:y[8]},w=(f(c={},g.FADE_IN,{observes:0,opacity:!0}),f(c,g.FADE_IN_SCROLL,{observes:0,opacity:!0}),f(c,g.FLOAT_IN_BOTTOM,{observes:1,translates:{y:!0}}),f(c,g.FLOAT_IN_TOP,{observes:1,translates:{y:!0}}),f(c,g.FLY_IN_BOTTOM,{observes:0,translates:{y:!0}}),f(c,g.FLY_IN_LEFT,{observes:0,translates:{x:!0}}),f(c,g.FLY_IN_RIGHT,{observes:0,translates:{x:!0}}),f(c,g.FLY_IN_TOP,{observes:0,translates:{y:!0}}),f(c,g.PARALLAX,{observes:0,translates:{y:!0}}),c);function A(t,n){if(t==n)return!1;var r=w[t],i=r.observes,e=r.opacity,a=r.translates,s=w[n],u=s.observes,o=s.opacity,f=s.translates;if(i!==u)return!1;if(e&&o)return!1;if(a&&f){if(a.x&&f.x)return!1;if(a.y&&f.y)return!1}return!0}function x(t){return m(y.indexOf(t)>-1,"Invalid amp-fx type `%s`",t)}var O=["Webkit","webkit","Moz","moz","ms","O","o"],F={"getPropertyPriority":function(){return""},"getPropertyValue":;unction _(t,n,r){if(n.startsWith("--"))return n;b||(b=Object.create(null));var i=b[n];if(!i||r){if(i=n,void 0===t[n]){var e=n),a=t,e);void 0!==t[a]&&(i=a)}r||(b[n]=i)}return i}ion j(t){return"display"in t&&"STYLE","`display` style detected. You must use toggle instead."),t}function z(t,n,r,i){var e=S(t),a=R(e);!a,e,n,r),i&&X(a,n)}function(t){return P(t,"mutator")},$=function(t){return P(t,"viewport")};function k(t,n){return!(!t||!n)&&t.left==n.left&&t.top==n.top&&t.width==n.width&&t.height==n.height}var D,V=function(){ar n=t.prototype;return n.Ne=function(t){var n=this.xF;if(!(n&&k(n.positionRect,t.positionRect)&&k(n.viewportRect,t.viewportRect))){p(t.positionRect);var r,i,e=t.positionRect;t.relativePos=(r=e,i=t.viewportRect,r.top<i.top?"top":r.bottom>i.bottom?"bottom":"inside"),e,t.viewportRect)?(this.xF=t,this.De(t)):this.xF&&(this.xF=null,t.positionRect=null,this.De(t))}},n.update=function(t){var n=this;if(!t){if(0!=this.turn)return void this.turn--;0==this.fidelity&&(this.turn=4)}var r,i,e=this.Ro.getSize(),a={left:0,top:0,width:r=e.width,height:i=e.height,bottom:0+i,right:0+r,x:0,y:0};this.Ro.getClientRectAsync(this.element).then(()},t}(),G=);function H(t,n,r){p("X"==n||"Y"==n),p(1==Math.abs(r));var i=t.element,e="X"==n,a=r*t.flyInDistance+(e?"vw":"vh");t.initialTrigger||(C(i).mutateElement(i,(function(){var n=Y(t.win,i),r=e?"left":"top",s="auto"===n[r]?"0px":n[r],u={position:"static"===n.position?"relative":n.position,visibility:"visible"};u[r]="calc(".concat(s," - ").concat(a,")"),E(i,j(u))})),t.initialTrigger=!0),E(i,{"transition-duration":t.duration,"transition-timing-function":t.easing,"transform":"translate".concat(n,"(").concat(a,")")})}function U(t){var n=parseFloat(t.getAttribute("data-margin-start"));return n&&m(n>=0&&n<=100,"data-margin-start must be a percentage value and be between 0% and 100% for: %s",t),n}unction Z(t,n,r){var i=W(t);return p(1==Math.abs(r)),!!i&&i+r*n.viewportHeight*n.flyInDistance/100<=(1-n.marginStart)*n.viewportHeight}function q(t,n,r){var i=W(t),e=void 0!==r?r:n.viewportHeight;return!!i&&i<=(1-n.marginStart)*e}var J=(f(D={},g.PARALLAX,{userAsserts:function(t){var n=m(t.getAttribute("data-parallax-factor"),"data-parallax-factor=<number> attribute must be provided for: %s",t);m(parseFloat(n)>0,"data-parallax-factor must be a number and greater than 0 for: %s",t)},update:function(t){var n=this,r=W(t);if(p(n.adjustedViewportHeight),r&&!(r>n.adjustedViewportHeight)){var i=-(parseFloat(n.factor)-1),e=(n.adjustedViewportHeight-r)*i;n.offset=e,E(n.element,{transform:"translateY(".concat(n.offset.toFixed(0),"px)")})}}}),f(D,g.FLY_IN_BOTTOM,{userAsserts:U,update:function(t){var n=this;p(n.viewportHeight),Z(t,n,-1)&&H(n,"Y",-1)}}),f(D,g.FLY_IN_LEFT,{userAsserts:U,update:function(t){var n=this;p(n.viewportHeight),q(t,n)&&H(n,"X",1)}}),f(D,g.FLY_IN_RIGHT,{userAsserts:U,update:function(t){var n=this;p(n.viewportHeight),q(t,n)&&H(n,"X",-1)}}),f(D,g.FLY_IN_TOP,{userAsserts:U,update:function(t){var n=this;p(n.viewportHeight),Z(t,n,1)&&H(n,"Y",1)}}),f(D,g.FADE_IN,{userAsserts:U,update:function(t){var n=this;p(n.viewportHeight),q(t,n)&&E(n.element,{"transition-duration":n.duration,"transition-timing-function":n.easing,"opacity":1})}}),f(D,g.FADE_IN_SCROLL,{userAsserts:function(t){var n=U(t),r=parseFloat(t.getAttribute("data-margin-end"));r&&(m(r>=0&&r<=100,"data-margin-end must be a percentage value and be between 0% and 100% for: %s",t),m(r>n,"data-margin-end must be greater than data-margin-start for: %s",t))},update:function(t){var n=this,r=n.marginStart,i=n.viewportHeight;if(p(n.adjustedViewportHeight),q(t,n,n.adjustedViewportHeight)&&(n.hasRepeat||!(n.offset>=1))){var e=1*(i-W(t)-r*i)/((n.marginEnd-r)*i);n.offset=e,E(n.element,{opacity:n.offset})}}}),D);function K(t){var n=parseFloat(t);return isNaN(n)?null:n/100}function Q(t){switch(t){case g.FADE_IN:case g.FLY_IN_RIGHT:case g.FLY_IN_LEFT:case g.FLY_IN_TOP:case g.FLY_IN_BOTTOM:return{"start":.05};case g.FADE_IN_SCROLL:return{"start":0,"end":.5};default:return{"start":0,"end":1}}}var tt=),nt=function(){function t(t){var n,r,i,e=this;this.Ki=t,this.zs=new tt,this.tY=(n=!1,r=null,i=function(){return e.Ls()},,this.nY=0,this.rY=0,this.iY=!0}var n=t.prototype;return n.observe=n.Ls=function(){var t=this,n=$(this.Ki);n.onScroll(()},n.eY=function(t){this.rY=t;var n=this.rY-this.nY;return(!this.iY&&n>0||this.iY&&n<0)&&(this.nY=this.rY),!this.iY&&this.rY<=36||!this.iY&&n<-20?(this.aY(!0),void(this.nY=this.rY)):void(this.iY&&n>80&&(this.aY(!1),this.nY=this.rY))},n.aY=t}();function rt(t,n,r,i,e){if(t[n]==r)return!0;var a=e?" ".concat(e):"",s=it(i);return v().warn("amp-fx","FX element must have `".concat(n,": ").concat(r,"` [").concat(s,"]").concat(a,".")),!1}function it(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.classList,i=t.id,e=t.parentElement,a=t.tagName;if(i)return"#".concat(i);var s=a.toLowerCase(),u=s;if(r.length>0){var o=r.length>1?"...":"";u+=".".concat(r[0]).concat(o)}if(!e)return"".concat(u," (detached)");var f=e.firstElementChild,c=e.lastElementChild;return t==f&&t==c||(t==f?u+=":first-child":t==c&&(u+=":last-child")),n>0?u:"".concat(it(e,n+1)," > ").concat(u)}var et=function(){function t(t,n,r){var i,e,a=this;this.win=t.win,this.dn=n),this.Ro=$(n),this.Ph=C(n),this.viewportHeight=null,this.adjustedViewportHeight=null,this.element=n,this.offset=0,this.sY=r,J[r].userAsserts(n),this.factor=parseFloat(n.getAttribute("data-parallax-factor")),this.marginStart=n.hasAttribute("data-margin-start")?K(n.getAttribute("data-margin-start")):Q(r).start,this.marginEnd=n.hasAttribute("data-margin-end")?K(n.getAttribute("data-margin-end")):Q(r).end,this.easing=(i=n.hasAttribute("data-easing")?n.getAttribute("data-easing"):function(t){switch(t){case g.FADE_IN:return"ease-in";case g.FLY_IN_RIGHT:case g.FLY_IN_LEFT:case g.FLY_IN_TOP:case g.FLY_IN_BOTTOM:return"ease-out";default:return"ease-in"}}(r),(e={"linear":"cubic-bezier(0.00, 0.00, 1.00, 1.00)","ease-in-out":"cubic-bezier(0.80, 0.00, 0.20, 1.00)","ease-in":"cubic-bezier(0.80, 0.00, 0.60, 1.00)","ease-out":"cubic-bezier(0.40, 0.00, 0.40, 1.00)"})[i]?e[i]:(m(i.startsWith("cubic-bezier"),"All custom bezier curves should be specified by following the `cubic-bezier()` function notation."),i)),this.duration=n.hasAttribute("data-duration")?n.getAttribute("data-duration"):function(t,n){switch(n){case g.FADE_IN:return"1000ms";case g.FLY_IN_BOTTOM:case g.FLY_IN_TOP:case g.FLY_IN_LEFT:case g.FLY_IN_RIGHT:var r=$(t).getSize().width;return 1e3,e=480,(i=Math.min(1e3,r))<e?i=e:i>1e3&&(i=1e3),200*(i-480)/520+400+"ms";default:return"1ms"}var i,e}(t,r),this.flyInDistance=n.hasAttribute("data-fly-in-distance")?parseFloat(n.getAttribute("data-fly-in-distance")):function(t,n){switch(n){case g.FLY_IN_BOTTOM:case g.FLY_IN_TOP:return $(t).getSize().width<1e3?25:33;case g.FLY_IN_LEFT:case g.FLY_IN_RIGHT:return 100;default:return 1}}(t,r),this.hasRepeat=n.hasAttribute("data-repeat"),this.initialTrigger=!1,this.uY().then((),this.fY()}var n=t.prototype;return n.oY=function(){var t=this;this.dn.observe(this.element,1,J[this.sY].update.bind(this)),this.Ro.onResize((function(){t.fY(),t.uY().then(()}))},n.fY=n.uY=function(){var t=this;return this.Ph.measureElement((function(){for(var n=t.Ro.getHeight(),r=0,i=t.element;i;i=i.offsetParent)r+=i.offsetTop;return r<n?r:n}))},t}(),at=function(){function t(t){var r=this;this.Ki=t,this.cY=[],Promise.all([t.whenReady(),t.whenFirstVisible()]).then((function(){var t,i,e,a,s=r.Ki.getRootNode();r.hY(),t=void 0,i=s,e=a=),i.addEventListener("amp:dom-update",(,!!a&&t)}))}var r=t.prototype;return r.hY=function(){var t=this;this.Ki.getRootNode().querySelectorAll("[amp-fx]").forEach((function(n){t.cY.includes(n)||function(t){try{for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(null,r)}catch(t){u(t)}}(()}))},r.lY=function(t){var n=this;p(t.hasAttribute("amp-fx")),p(!this.cY.includes(t)),p(this.Ki.isVisible()),function(t){p(t.hasAttribute("amp-fx"));var n=t.getAttribute("amp-fx").trim().toLowerCase().split(/\s+/);return m(n.length,"No value provided for `amp-fx` attribute"),function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=n+1;i<t.length;i++){var e=t[i];A(r,e)||(v().warn("amp-fx-collection","%s preset can't be combined with %s preset as the resulting animation isn't valid.",r,e),t.splice(i--,1))}return t}(n.filter(x))}(t).forEach((),this.cY.push(t)},r.vY=function(t,n){1!=p(w[n]).observes?function(t,n,r){!t),new et(t,n,r),E(n,j(function(t,n){switch(n){case g.PARALLAX:return{"will-change":"transform"};case g.FADE_IN:case g.FADE_IN_SCROLL:return{"will-change":"opacity","opacity":0};case g.FLY_IN_BOTTOM:case g.FLY_IN_TOP:case g.FLY_IN_LEFT:case g.FLY_IN_RIGHT:return{"will-change":"transform"};default:return{"visibility":"visible"}}}(0,r)))}(this.Ki,t,n):function(t,n,r){if(!(u=n,P(u,"viewer")).isEmbedded()){var i="fx-scroll-dispatch";z(t,i,nt);var e=P(t,i),a=C(n),s=!0;a.measureMutateElement(n,(function(){var i=Y(t.win,n),a=function(t,n,r){var i=n.replace(/^float\-in\-([^\s]+)$/,"$1");return p(i.length>0),rt(r,i,N(0),t,"amp-fx=".concat(n))?i:null}(n,r,i),u=function(t,n){return rt(n,"overflow","hidden",t)&&rt(n,"position","fixed",t)}(n,i);a&&u?e.observe((function(t){!function(t,n,r){var i=0;C(t).measureMutateElement(t,(function(){i=function(t,n,r){if(n)return 0;var i=t.getBoundingClientRect().height;return"top"==r?-i:i}(t,n,r)}),(function(){!function(t,n){T(t,{"transition":"transform ".concat(300,"ms ").concat("ease"),"transform":"translate(0, ".concat(N(n),")")})}(t,i)}))}(n,t,p(a))})):s=!1}),(function(){s&&n)}))}var u}(this.Ki,t,n)},t}();t.registerServiceForDoc("amp-fx-collection",at)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-fx-collection-0.1.js.map