(function( blueConic, undefined ) {var ps='https://plugins.blueconic.net/';var pf='/gallery/';blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'connection_content_collector/3.3.10/frontend/src/lib/md5.min.js', il_1, 'il_1');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'contentinteractiontype/1.2.4/frontend/src/scripts/handlerUtil.js', il_2, 'il_2');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'contentinteractiontype/1.2.4/frontend/src/scripts/handleAdvanced.js', il_3, 'il_3');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'contentinteractiontype/1.2.4/frontend/src/scripts/handleCss.js', il_4, 'il_4');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'contentinteractiontype/1.2.4/frontend/src/scripts/handleJavaScript.js', il_5, 'il_5');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'contentinteractiontype/1.2.4/frontend/src/scripts/handleContent.js', il_6, 'il_6');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'dialogue_notification_bar/1.4.1/frontend/src/scripts/domModifier.js', il_7, 'il_7');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'dialogue_notification_bar/1.4.1/frontend/src/scripts/elementModifier.js', il_8, 'il_8');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'dialogue_notification_bar/1.4.1/frontend/src/scripts/notificationBar.js', il_9, 'il_9');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'dialogue_notification_bar/1.4.1/frontend/src/scripts/notificationBarModern.js', il_10, 'il_10');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'connection_datalayer/3.1.1/web/src/web/lib/md5.min.js', il_11, 'il_11');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'gtmconnection/4.0.2/web/src/web/lib/md5.min.js', il_11, 'il_11');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'listener_adblock/1.1.1/frontend/src/lib/just-detect-adblock.min.js', il_12, 'il_12');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'exitintent/2.0.5/js/ouibounce.js', il_13, 'il_13');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'toolbar_content_recommendations/2.3.6/frontend/src/node_modules/@blueconic/frontend-recommendations-rendering/lib/mustache-2.2.1.min.js', il_14, 'il_14');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'toolbar_gdpr_components/1.2.3/frontend/src/node_modules/@blueconic/frontend-recommendations-rendering/lib/mustache-2.2.1.min.js', il_14, 'il_14');blueConic.fn.registerLibrary('/plugins/listener_gtm_timeline_system_actions/js/jquery-1.11.2.min.js', il_15, 'il_15');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'connection_content_collector/3.3.10/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'contentinteractiontype/1.2.4/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'conversionlistenerinteractiontype/1.1.10/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'dialogue_notification_bar/1.4.1/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'engagement_score/6.5.1/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'enrichProfileByVisitorBehavior/5.4.2/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'eventtrigger/1.2.2/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'forms/1.2.1/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'globallistener_controlgroup/1.1.2/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'lightboxinteractiontype/2.4.3/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'toaster/2.1.4/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'toolbar_content_recommendations/2.3.6/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'toolbar_gdpr_components/1.2.3/frontend/src/node_modules/@blueconic/jquery-x-jquerymigrate/load_jQuery3_5_X_jQueryMigrate.min.js', il_16, 'il_16');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'forms/1.2.1/frontend/src/node_modules/@blueconic/actionhandlers-frontend/AfterSubmitActionHandler.js', il_17, 'il_17');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'toolbar_gdpr_components/1.2.3/frontend/src/node_modules/@blueconic/actionhandlers-frontend/AfterSubmitActionHandler.js', il_17, 'il_17');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'connection_datalayer/3.1.1/web/node_modules/@blueconic/connection_lib/connection_lib.js', il_18, 'il_18');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'connection_facebook_ads/5.3.3/web/node_modules/@blueconic/connection_lib/connection_lib.js', il_18, 'il_18');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'gtmconnection/4.0.2/web/node_modules/@blueconic/connection_lib/connection_lib.js', il_18, 'il_18');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'connection_datalayer/3.1.1/web/node_modules/@blueconic/datalayer-library/dist/index.js', il_19, 'il_19');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'gtmconnection/4.0.2/web/node_modules/@blueconic/datalayer-library/dist/index.js', il_19, 'il_19');function il_20(){var contentMeterService={getCounters:function(e,t){var r=[];return t.filter((function(t){if(t.parent&&-1===r.indexOf(t.parent))return!1;var n=e.checkRestrictions(t.includeRules||[]),i=e.checkRestrictions(t.excludeRules||[]),o=n&&!i;return o&&r.push(t.id),o}),this)},getCounterLimits:function(e,t){t=t||[];var r=e.find(();return r&&Object.keys(r.counters).forEach((),r||null},getHistory:function(e,t,r,n){if("CALENDAR_MONTH"===t){var i=n.getMonth(),o=n.getFullYear();return e.filter(()}if("ROLLING_WINDOW"===t&&!isNaN(r)){var u=(new Date).getTime()-24*r*3600*1e3;return e.filter(()}return[]},checkExceeded:function(e,t,r,n){return e.map((function(e){var i=r.filter((),o=t.counters,u=!1;return void 0===typeof o[e.id]||isNaN(o[e.id])||(u=i.length>=parseInt(o[e.id])),{counter:e.id,counterIdentifier:this.normalize(e.name),counterName:e.name,nrViews:i.length,nrViewsLeft:o[e.id]-i.length,limit:o[e.id],tierName:n?n.name:"",exceeded:u}}),this)},normalize:getHistoryEntry:parseStoredValues:function(e,t){var r=e.map((function(e){return(t&&t.json||JSON).parse(e)}));if(0===r.length)return{urls:[],extra:[]};if(1===r.length)return r[0];var n=r[0].urls,i=r[0].extra||[];r.slice(1).forEach((function(e){n=this._aggregate(e.urls,n),i=i.concat(e.extra||[])}),this);var o=r.some((function(e){return e.wasGranted}));return{urls:n,extra:i,wasGranted:o}},_aggregate:function(e,t){var r=t;return e.forEach((function(e){var t=r.find((function(t){return t.u===e.u}));t?(t.t=Math.max(t.t,e.t),t.c=t.c.concat(e.c).filter((function(e,t,r){return r.indexOf(e)===t}))):t=e,r=r.concat(t).filter((function(e,t,r){return r.indexOf(e)===t}))})),r},execute:function(e){var t=e.metadataService,r=this.getTargetingMapping(e.stage,e.targeting),n=e.visitorSegmentIds||[],i=e.currentDate||new Date,o=this.flattenCounters({counters:e.counters||[]}),u=this.getHistory(e.profileHistory||[],e.period,e.nrDays,i);if(e.meterSegment&&-1===n.indexOf(e.meterSegment))return null;if(!t)return null;if(0===o.length||0===r.length)return null;var a=this.getCounters(t,o),s=this.getCounterLimits(r,n),c=a.some(();if(null===s||!c)return null;s=this.addExtraViews(s,e.extraViews,e.profile,this.getHistory(e.extraViewsHistory||[],e.period,e.nrDays,i));var f=this.checkExceeded(a,s,u,e.stage);if(f.some((function(e){return e.exceeded})))return{granted:Boolean(this.getHistoryEntry(u,e.articleUrl)),exceedInfo:f,profileHistory:u,limitReached:!!e.wasGranted};var l=this.addView(u,e.articleUrl,!!e.uniqueOnly,a,i);return{granted:!0,exceedInfo:this.checkExceeded(a,s,u,e.stage),profileHistory:u,counterUpdated:l,limitReached:!1}},addExtraViews:function(e,t,r,n){return t.filter(().filter((function(e){if(!e.profileProperty||!e.profileProperty.id||isNaN(e.nrViews))return!1;var t=0===e.words.length&&r.getValues(e.profileProperty.id).length>0||r.getValues(e.profileProperty.id).some(();return"contains"===e.operator?t:!t})).forEach((,this),t.filter(().forEach((function(t){n.filter((function(e){return e.e===t.event})).forEach((,this)}),this),e},_increaseCounterLimits:function(e,t){Object.keys(e.counters).filter((function(e){return 0===t.counters.length||-1!==t.counters.indexOf(e)})).forEach(()},getTargetingMapping:function(e,t){var r;return e&&(r=t.filter((function(t){return!t.isDefault&&-1!==(t.stages||[]).indexOf(e.id)})).map((function(e){return e.mapping})).find((function(e){return e}))),r||(r=t.find((function(e){return e.isDefault})).mapping),r},addView:function(e,t,r,n,i){var o=this.getHistoryEntry(e,t),u=!1;return o&&r||(o={u:t,c:[]},e.push(o),u=!0),o.t=i.getTime(),o.c=o.c.concat(n.map((function(e){return e.id}))).filter((),u},setProfileProperties:function(e){var t=e.profile,r=e.meterResult,n=e.internalProperty,i=this.flattenCounters(e);t.setValue(n,(e.blueConicClient.json||JSON).stringify({urls:r.profileHistory,extra:e.extraViewsHistory,wasGranted:r.granted})),t.setValue("mr_contentmeter_grant_status",String(r.granted)),r.limitReached&&r.exceedInfo.length>0&&r.exceedInfo[0].tierName&&(t.addValue("contentmeter_limit_reached",r.exceedInfo[0].tierName),t.setValue("mr_contentmeter_limit_reached",r.exceedInfo[0].tierName)),r.exceedInfo.length>0&&r.exceedInfo[0].tierName&&t.setValue("mr_contentmeter_meter_updated",r.exceedInfo[0].tierName),i.filter(().forEach((function(e){var n=r.exceedInfo.find(();n&&(e.viewsProperty&&n.nrViews&&t.setValue(e.viewsProperty,n.nrViews),e.limitProperty&&n.limit&&t.setValue(e.limitProperty,n.limit),e.viewsProperty&&n.nrViews&&t.setValue(e.viewsLeftProperty,Math.max(n.limit-n.nrViews,0)))}));var o=r.exceedInfo.map((function(e){return e.counterName}));o.length>0&&t.setValues("mr_contentmeter_counters_updated",o)},flattenCounters:function(e){var t=[];return(e.counters||[]).forEach((function(r){e.id&&(r.parent=e.id),t.push(r),t=t.concat(this.flattenCounters(r))}),this),t},getTimelineEventData:function(e,t){return{origin:t,tier:e[0].tierName,counters:e.map((function(e){return{name:e.counterName,nrViews:e.nrViews,nrViewsLeft:Math.max(e.limit-e.nrViews,0),limit:e.limit}}))}},executeEventRule:function(e,t){var r=t.metadataService,n=this.flattenCounters({counters:t.counters||[]}),i=this.getCounters(r,n).map((function(e){return e.id})),o=t.currentDate||new Date;t.extraViewsHistory.push({e:e.event,c:i,t:o.getTime()}),t.profile.setValue(t.internalProperty,(t.blueConicClient.json||JSON).stringify({urls:t.profileHistory,extra:t.extraViewsHistory,wasGranted:t.wasGranted}))},getConfig:function(e,t,r,n){var i,o=(n.json||JSON).parse(e.counters[0]),u=!!e.useTiers&&"true"===e.useTiers[0],a=e.targetingLifeCycle?e.targetingLifeCycle[0]:"",s=t.getSegments?t.getSegments().map((function(e){return e.getId()})):n.getSegments().map((function(e){return e.id}));u&&(i=(i=n.profile.getProfile().getLifecycleStages().filter((function(e){return e.getLifecycle().getId()===a&&e.getStage()})).map(()).length>0?i[0]:"");var c=t.getValues(r),f=this.parseStoredValues(c,n);return{blueConicClient:n,internalProperty:r,profileHistory:f.urls,extraViewsHistory:f.extra,wasGranted:f.wasGranted,counters:o,targeting:(n.json||JSON).parse(e.targeting[0]),visitorSegmentIds:s,uniqueOnly:e.uniqueOnly.length>0&&"true"===e.uniqueOnly[0],currentDate:n.getCurrentDate?n.getCurrentDate():new Date,period:e.period[0]||"CALENDAR_MONTH",nrDays:e.nrDays[0]&&!isNaN(e.nrDays[0])?parseInt(e.nrDays[0]):null,meterSegment:e.meterSegment.length>0?e.meterSegment[0]:null,stage:i,profile:t,extraViews:e.extraViews&&e.extraViews[0]?(n.json||JSON).parse(e.extraViews[0]):[]}}};"undefined"!=typeof window?(window._bcp=window._bcp||{},window._bcp.contentMeter=window._bcp.contentMeter||{},window._bcp.contentMeter.contentMeterService=contentMeterService):module&&module.exports&&(module.exports={contentMeterService:contentMeterService});
};blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'listener_content_meter/1.4.0/frontend/src/node_modules/@blueconic/content-meter/src/ContentMeterService.js', il_20, 'il_20');function il_21(){var restrictionService={getCurrentUrl:getRestContentRule:ALLOWED_OPERATORS:["contains","exactlyMatches"],ALLOWED_MATCHES:["mustNot","must"],checkRestriction:function(t){if(!t||!this.isValid(t))return!0;var e=t.words;switch(t.input.type){case"metatag":return this.checkWord(e,this.getMetatagContent(t.input.metatag),t.match,t.operator);case"selector":return this.checkWord(e,this.getContent(t.input.selector),t.match,t.operator);case"javascriptVariable":try{return this.checkWord(e,this.evaluateJsExpression(t.input.javascriptVar,window),t.match,t.operator)}catch(t){return!1}case"restContentRule":return this.checkWord(e,this.getRestContentRule(),t.match,t.operator);case"url":return this.checkWord(e,this.getCurrentUrl(),t.match,t.operator)}return!0},checkRestrictions:function(t,e){return 0!==(t=t.filter((function(t){return this.isValid(t)}),this)).length&&("AND"===e?t.every((function(t){return this.checkRestriction(t)}),this):t.some((,this))},evaluateJsExpression:function(t,e){for(var n=t.split("."),r=0;r<n.length;r++){if(!e)return;var i=n[r];if(-1!==i.indexOf("[")){var o=parseInt(i.substring(i.indexOf("[")+1,i.indexOf("]")));e=e[i=i.substring(0,i.indexOf("["))][o]}else e=e[i]}return e},checkWord:containsWord:getContent:getMetatagContent:function(t){if("undefined"==typeof document)return"";var e=document.querySelectorAll("meta[name = '"+t+"']");return 0===e.length&&(e=document.querySelectorAll("meta[property = '"+t+"']")),0===e.length&&(e=document.querySelectorAll("meta[itemprop = '"+t+"']")),1===e.length?e[0].getAttribute("content"):e.length>1?this.getMultipleTagsContent(e):void 0},getMultipleTagsContent:function(t){for(var e=[],n=0;n<t.length;n++)t&&t[n]&&t[n].content&&e.push(t[n].content);return e.join(",")},isValid:function(t){return!(this._isMatchInvalid(t.match)||this._isOperatorInvalid(t.operator)||this._isMetatagInvalid(t.input)||this._isJavascriptInvalid(t.input)||this._isSelectorInvalid(t.input)||this._isRestrictionInvalid(t.words))},_isMatchInvalid:function(t){return t&&-1===this.ALLOWED_MATCHES.indexOf(t)},_isOperatorInvalid:_isJavascriptInvalid:function(t){return t&&"javascriptVariable"===t.type&&!t.javascriptVar},_isMetatagInvalid:function(t){return t&&"metatag"===t.type&&!t.metatag},_isSelectorInvalid:_isRestrictionInvalid:;"undefined"!=typeof window?(window._bcp=window._bcp||{},window._bcp.contentMeter=window._bcp.contentMeter||{},window._bcp.contentMeter.metadataService=restrictionService):module&&module.exports&&(module.exports={metadataService:restrictionService});
};blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'listener_content_meter/1.4.0/frontend/src/node_modules/@blueconic/content-meter/src/MetadataService.js', il_21, 'il_21');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'engagement_score/6.5.1/frontend/src/node_modules/@blueconic/engagement-service/engagementService.js', il_22, 'il_22');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'connection_content_collector/3.3.10/frontend/src/node_modules/@blueconic/frontend-metadataservice/metaDataService.js', il_23, 'il_23');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'toolbar_content_recommendations/2.3.6/frontend/src/node_modules/@blueconic/frontend-metadataservice/metaDataService.js', il_23, 'il_23');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'enrichProfileByVisitorBehavior/5.4.2/frontend/src/js/ruleService.js', il_24, 'il_24');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'dialogue_notification_bar/1.4.1/frontend/src/scripts/enumsAndConstants.js', il_25, 'il_25');blueConic.fn.registerLibrary(blueConic.fn.getBCHostnameAwarePluginsRepositoryUrl(ps, pf) + 'toaster/2.1.4/frontend/src/node_modules/@blueconic/dom_utils/src/index.js', il_26, 'il_26');})(blueConicClient);