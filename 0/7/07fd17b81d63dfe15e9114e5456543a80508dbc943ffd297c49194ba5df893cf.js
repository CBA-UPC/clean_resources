import"./shreddit-sidebar-ad-2398258d.js";import"./shell-4956cb08.js";import"./a-5ba37ad0.js";
//# sourceMappingURL=sidebar-ad-client-js-a4f4ac66.js.map
erflow-menu-6faec6da.js";import{A as u}from"./app-link-85a482d0.js";import"./faceplate-readymark-93aa3864.js";import"./index-41dd2b6b.js";import"./index-cd079696.js";import"./a-5ba37ad0.js";let b=class extends n{constructor(){super(...arguments),this.zoomedIn=!1,this.disabled=!1,this.media=null,this._events=new s(this),this._click=this._events.define("click",this.onClick),this.checkMediaSize=()=>{let e=0,t=0;if(this.media instanceof HTMLVideoElement)e=this.media.videoWidth,t=this.media.videoHeight;else{if(!this.media||this.media&&!this.media.complete)return;e=this.media.naturalWidth,t=this.media.naturalHeight}this.disabled=e<=this.clientWidth&&t<=this.clientHeight,this.zoomedIn=!this.disabled&&this.zoomedIn},this.checkMediaSizeDebounced=o(this.checkMediaSize,100)}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.media=this.querySelector("img,video"),this.media&&this.media.addEventListener("load",this.checkMediaSize,{once:!0}),this.checkMediaSize(),window.addEventListener("resize",this.checkMediaSizeDebounced)}firstUpdated(){this.checkMediaSize()}onClick(e){e.target===this.media&&(this.disabled||(this.zoomedIn=!this.zoomedIn))}render(){this.media&&this.media.setAttribute("class",this.getChildClassList()),this.setAttribute("class",this.getClasslist())}getClasslist(){const e="fixed top-[58px] left-0 w-100 bottom-0 flex p-md box-border h-[calc(100vh-8rem)]";return this.zoomedIn?`${e} overflow-auto items-baseline`:`${e} justify-center items-center`}getChildClassList(){return this.disabled?"max-h-full max-w-full":this.zoomedIn?"cursor-zoom-out max-w-none max-h-none mr-auto ml-auto":"cursor-zoom-in max-h-full max-w-full mb-md s:mb-0"}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.checkMediaSizeDebounced)}};e([t()],b.prototype,"zoomedIn",void 0),e([t()],b.prototype,"disabled",void 0),b=e([i("zoomable-img")],b);const f=r(a(n));let k=class extends f{constructor(){super(...arguments),this.appLinkParams={},this.commentCount=0,this.iconUrl="",this.sourceName="",this.title="",this.permalink="",this.isDesktopViewport=!1,this._appLinkController=new u(this)}handleClickView(){this._appLinkController.handleOpenInAppClick()}getPostLink(){return this.isDesktopViewport?CLIENT_CONFIG.ORIGIN+this.permalink:this._appLinkController.getAppLink(this.appLinkParams)}renderControls(){return c`\n <div class="flex flex-row gap-[1rem] items-center">\n <a href="${CLIENT_CONFIG.ORIGIN+this.permalink}" class="text-inherit no-underline">\n ${m({appearance:"secondary",attributes:{onclick:()=>{this.handleClickView()},type:"button",className:"flex flex-row justify-center items-center h-xl font-semibold relative hidden s:block",name:"comments-action-button","data-testid":"comments-action-button"},size:h.Medium,children:c`<faceplate-number \n number="${this.commentCount}" \n pretty\n></faceplate-number>`,leadingIcon:p({attributes:{className:"icon-comment","aria-hidden":"true"}}),screenReaderContent:"comments"})}\n </a>\n <a \n class="\n openApp w-[100px] border-none\n text-ellipsis overflow-hidden whitespace-nowrap\n bg-global-orangered text-global-white\n flex flex-col justify-center\n button s:button-medium button-small\n" \n href="${this.getPostLink()}" \n @click="${this.handleClickView}" \n rel="nofollow" \n data-testid="view-post-button" \n>\n Ver publicaci\u00F3n\n </a>\n </div>\n `}renderSeparator(){return c`\n <div \n class="\n border-r-sm border-b-0 border-l-0 border-solid border-neutral-border-weak\n h-[24px] bg-opacity-0\n hidden s:block\n" \n></div>\n `}renderPostDescription(){return c`\n <div \n class="flex s:flex-row flex-col s:items-center items-start justify-center gap-0 s:gap-md" \n>\n <a href="${CLIENT_CONFIG.ORIGIN}${this.permalink}" class="text-inherit no-underline">\n <div class="flex flex-row items-center justify-start s:gap-md gap-2xs">\n <slot class="s:w-lg w-md s:h-lg h-md" name="icon"></slot>\n <div class="font-semibold text-tone-1 s:text-14 text-12" data-testid="post-source-name">\n ${this.sourceName}\n </div>\n </div>\n </a>\n ${this.renderSeparator()}\n <a href="${CLIENT_CONFIG.ORIGIN+this.permalink}" class="text-inherit no-underline">\n <div \n class="font-semibold text-tone-1 s:text-14 text-12 s:overflow-auto truncate max-w-[61vw]" \n data-testid="post-title" \n>\n ${this.title}\n </div>\n </a>\n </div>\n `}render(){return c`\n <div \n class="\n border-t-sm border-b-0 border-l-0 border-r-0 border-solid border-neutral-border-weak\n box-border h-3xl pb-[env(safe-area-inset-bottom)] m:px-lg px-md\n bottom-0 fixed w-full justify-between items-center bg-neutral-background-strong\n flex flex-row\n" \n>\n ${this.renderPostDescription()} ${this.renderControls()}\n </div>\n `}};k.styles=[d],e([l({type:Object,attribute:"app-link-params"})],k.prototype,"appLinkParams",void 0),e([l({type:Number,attribute:"comment-count"})],k.prototype,"commentCount",void 0),e([l({type:String,attribute:"icon-url"})],k.prototype,"iconUrl",void 0),e([l({type:String,attribute:"source-name"})],k.prototype,"sourceName",void 0),e([l({type:String,attribute:"title"})],k.prototype,"title",void 0),e([l({type:String})],k.prototype,"permalink",void 0),e([l({type:Boolean,attribute:"is-desktop-viewport"})],k.prototype,"isDesktopViewport",void 0),k=e([i("post-bottom-bar")],k);
//# sourceMappingURL=cdn-media-page-client-js-a05838ca.js.map
