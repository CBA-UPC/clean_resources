(self.webpackChunkweb=self.webpackChunkweb||[]).push([[80754],{72032:(e,t,s)=>{"use strict";s.d(t,{SS:()=>ie,ZP:()=>ce,zH:()=>oe,YT:()=>se,fd:()=>te,DP:()=>ne,IW:()=>re,wm:()=>ae});var o=s(67294),i=s(70365),n=s.n(i),a=s(37974),r=s(84149),l=s(29208),c=s.n(l),d=s(42947),p=s(6048),u=s(4494),h=s(99408),m=s(94829),g=(s(85089),s(68356));const w=s.n(g)()({loader:()=>s.e(49803).then(s.bind(s,88025)),loading:()=>null});class f extends o.Component{constructor(){super(),this.state={}}ender(){return o.createElement(w,this.props)}}var v=s(54620),b=s(61248);const P={camelCase:function(e){return e.replace(/(?:^|\s)\w/g,().replace(/(\s|-|_)/g,"")},startsWith:titleCase:function(e){const t=e.toLowerCase().split(" ");for(let e=0;e<t.length;e+=1)t[e]=t[e].charAt(0).toUpperCase()+t[e].substring(1);return t.join(" ")}};unction y(e,t){let s;if(!t)return null;if(e instanceof Array)for(s=0;s<e.length&&!1!==t(s,e[s]);s+=1);else e instanceof Object&&Object.keys(e).forEach(();return null}const I=function(e){const t={};let s=e;const o=this,i={uid:"ssoid",email:"primaryEmail",id:"ssoid",name:"firstName",firstName:"firstName",lastName:"lastName",icon:"profileImageUrl",CITY:"city",thumb:"thumbImageUrl"};i&&S(i)&&(s=function(e,t){if(!S(e)&&!S(t))throw new Error("Invalid Parameters");const s={};return y(e,((e,o)=>{s[e]="function"==typeof o?o(t):t[o]})),s}(i,e)),y(s,((e,s)=>{t[e]=s;const i=P.camelCase(e);o[`get${i}`]=)),this.getMappedUser=function(){return t},this.getOriginalUser=this.toString=this.toJson=this.toString};var k,U,C,O,_,T=s(36096),L=s(32122),D=s(55518),E=s(72216),N=s(33487);function A(e,t,s,o){_||(_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),1===n)t.children=o;else if(n>1){for(var a=new Array(n),r=0;r<n;r++)a[r]=arguments[r+3];t.children=a}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:_,type:e,key:void 0===s?null:""+s,ref:null,props:t,_owner:null}}class Z extends o.PureComponent{constructor(){super(),this.startPrimeRenewal=()=>{(0,D.yl)("send","event",window.categoryForGA,"Renew_Now",""),(0,b.YY)(!1).then((e=>{window.location.href=(0,E.Zo)((0,E.vQ)(this.props.unifiedNodes[`prc${this.props.userData.prcValue}`],e))}))},this.onLogoutClick=()=>{this.props.logout(),"undefined"!=typeof window&&window.sessionStorage&&(sessionStorage.removeItem("inGracePeriod"),sessionStorage.removeItem("displayRenewNudge"))},this.clickHandler=(e,t)=>{e.preventDefault();let{city:s}=t;if("object"==typeof localStorage&&"function"==typeof localStorage.getItem){const e=JSON.parse(localStorage.getItem("epaper_preferences"));e&&e[t.seoName]&&(s=e[t.seoName].city)}const o=`https://epaper.indiatimes.com/timesepaper/publication-${t.seoName},city-${s}.cms`;window.location.href=o},this.state={rewardsData:{},primeEndDate:"",showEpaperDropDown:!1}}componentDidMount(){const e=v.ZP.get("ssoid")||v.ZP.get("ssoId");e&&d.Z.get(`https://rewards.indiatimes.com/bp/api/urs/ups?format=json&pcode=TOI&uid=${e}`,{},"skipfeedengine").then((e=>{e&&200===e.status&&e.data&&e.data.output&&"object"==typeof e.data.output.user&&this.setState({rewardsData:e.data.output.user})}))}componentDidUpdate(e){e.userPrcData!==this.props.userPrcData&&(this.props.isPrimeUser||this.props.userData&&[N.BGv,N.dRz,N.nxK,N.wAI,N.uV$].indexOf(this.props.userData.prcValue)>-1)&&(0,b.fx)(this.props.userPrcData).then((e=>{const t=e.data&&e.data.timestamp?new Date(e.data.timestamp).toDateString().replace(" ",", "):"";this.setState({primeEndDate:t})}))}render(){const{rewardsData:e,primeEndDate:t}=this.state,{isPrimeUser:s,userData:i,toipLayout:n}=this.props,a=i&&(i.prcValue===N.BGv||i.prcValue===N.nxK),r=i&&(i.prcValue===N.dRz||i.prcValue===N.wAI||i.prcValue===N.uV$);let l="";a?l=`Your subscription is expiring on ${t}.`:r&&(l=`Your subscription expired on ${t}.`);return A("span",{id:"user-isloggedin",className:`user-isloggedin ${s}`},void 0,A("div",{className:"user-controls"},void 0,A("div",{className:"user-icon"},void 0,!this.props.isMobile&&this.props.toipLayout&&this.props.thumbImg&&A("img",{src:this.props.thumbImg,alt:"user icon"})),A("span",{className:"user_name  "+(s?"prime_user":"")},void 0,A("div",{className:"user-first-name"},void 0,`${this.props.firstName}`),s||a?k||(k=A("i",{className:"plus_user"})):null,!this.props.isMobile&&(U||(U=A("i",{className:"sprite_bg icon_down "})))),A("div",{className:"dropdown"},void 0,A("div",{className:"name_details"},void 0,A("div",{className:"user_name_dd"},void 0,A("div",{className:"user_name_in"},void 0,this.props.firstName),e&&e.levelName&&"string"==typeof e.levelName&&A("span",{className:`points points_${e.levelName.toLowerCase()}`},void 0,e.levelName)),(s||a||r)&&A(o.Fragment,{},void 0,(s||a)&&(C||(C=A("div",{className:"toi_user_text"},void 0,A("i",{})," USER"))),A("div",{className:"plan_details"},void 0,l,r&&A("a",{href:"javascript: void(0)",onClick:()=>this.startPrimeRenewal()},void 0," ","Renew Now!")))),A("ul",{},void 0,"number"==typeof e.statusPoints&&e.statusPoints>0&&A("li",{className:"tp-redeem"},void 0,"Redeem ",A("span",{},void 0,e.statusPoints),A(p.Z,{target:"_blank","data-newga":n?"NavBar-User_Profile-Redeem#Section_View#WEB-Prime-AS":"Header-User_Profile#Click-TP_Redeem-3",to:"https://www.timespoints.com/#/products?utm_source=TOI&utm_medium=Header_Dropdown&utm_campaign=TOI_HeaderDropdown",rel:"nofollow noreferrer noopener"},void 0,"TimesPoints")),A("li",{},void 0,A(p.Z,{target:"_blank","data-newga":n?"NavBar-User_Profile-Edit_Profile#Section_View#WEB-Prime-AS":"Header-User_Profile#Click-Edit_Profile-1",to:"https://jsso.indiatimes.com/sso/identity/profile/edit?channel=toi"},void 0,"Edit Profile")),O||(O=A("li",{},void 0,A(p.Z,{target:"_blank",to:N.JAx},void 0,"My Subscription"))),A("li",{className:"epaperLink "+(this.state.showEpaperDropDown?"listOpend":""),onClick:,void 0,"Read Other Epapers"),this.state.showEpaperDropDown&&A("ul",{className:"epaperDropdown"},void 0,[{name:"The Economic Times",seoName:"the-economic-times",city:"delhi"},{name:"The Times Of India",seoName:"the-times-of-india",city:"delhi"},{name:"Mirror",seoName:"mirror",city:"bangalore"},{name:"Maharashtra Times",seoName:"maharashtra-times",city:"mumbai"}].map((e=>A("li",{},void 0,A(p.Z,{href:`https://${N.lSd}/timesepaper/publication-${e.seoName},city-${e.city}.cms`,onClick:,void 0,e.name))))),A("li",{},void 0,A(p.Z,{target:"_blank",to:`https://${N.lSd}/epaper_preferences.cms?publication=the-times-of-india`},void 0,"Epaper Preferences")),A("li",{onClick:()=>{n&&(0,D.yl)("ga","send","event","WEB-Prime-AS","NavBar-User_Profile-Logout","Section_View"),this.onLogoutClick()}},void 0,"Logout")))))}}Z.defaultProps={firstName:"",isMobile:!1,thumbImg:"https://mytimes.indiatimes.com/image/thumb/0/default",isPrimeUser:!1,userData:void 0,toipLayout:!1,userPrcData:null};const j=Z;var M,x,F,$,B,G,V=s(49893),R=s(10414);function W(e,t,s,o){G||(G="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),1===n)t.children=o;else if(n>1){for(var a=new Array(n),r=0;r<n;r++)a[r]=arguments[r+3];t.children=a}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:G,type:e,key:void 0===s?null:""+s,ref:null,props:t,_owner:null}}function J(){const e=document.getElementsByTagName("body")[0];let t=e.className;const s=t?t.split(" "):[],o=s.indexOf("disable-scroll");-1!==o&&(s.splice(o,1),t=s.join(" "),e.className=t)}function H(e,t){(0,T.u)(e,t||"Login_Screen")}const Q="login_TOI_user",z="logout_TOI_user",Y="login_with_fb",q="login_with_google",K="login_with_cred",X="login_with_credential_google",ee="consent_given";function te(e,t,s){const o=new Event(Q);"function"==typeof e&&(o.customCallBack=e),void 0!==t&&t.constructor===Object&&Object.keys(t).length>0&&(o.customDataObj=t),void 0!==s&&(o.numberToPrefill=s),window.dispatchEvent(o)}function se(e){const t=new Event(K);"function"==typeof e&&(t.customCallBack=e),"undefined"!=typeof dataObj&&dataObj.constructor===Object&&Object.keys(dataObj).length>0&&(t.customDataObj=dataObj),window.dispatchEvent(t)}function oe(e){const t=new Event(z);"function"==typeof e&&(t.customCallBack=e),window.dispatchEvent(t)}function ie(){const e=new Event(ee);window.dispatchEvent(e)}function ne(){const e=new Event(Y);window.dispatchEvent(e)}function ae(){const e=new Event(q);window.dispatchEvent(e)}lass le extends o.Component{constructor(){super(),this.refreshPage=(e,t)=>{const s=this.props.userData.isLoggedIn;if(s&&N.Pwf.indexOf(e)>-1||!s&&N.Pwf.indexOf(t)>-1){s&&(0,m.RS)()&&(0,u.t_)(N.F5G,1);const e=new Event("login_page_refresh");window.dispatchEvent(e),window.location.reload(!0)}},this.loginInitCallback=e=>{if(e&&"object"==typeof e){const e=window.location.hash.toLowerCase();"#freetrialsuccess"!==e&&"#success"!==e||(this.setPrcForUser(this.handlePrimeUserHashCase),"function"==typeof window.history.replaceState&&window.history.replaceState({},"",window.location.href.substr(0,window.location.href.indexOf("#"))));const t=new Event("user.autologgedin");this.setPrimeStatus(),window.dispatchEvent(t),this.callNativeAPI()}else this.initOneTapLogin()},this.callNativeAPI=()=>{if(!(0,u.G)("nativePrc")){let e=window.location.hostname.indexOf(".indiatimes.com")>-1?N.nxc:N.n5F;e+=`?rnd=${Math.random()}`,d.Z.get(e,{withCredentials:!0}).then((e=>{const t=v.ZP.get("prc");(0,u.t_)("nativePrc",t)}))}},this.handlePrimeUserHashCase=()=>{this.updateUserPrcinRedux(),this.initWelcomePrime(!0,!0)},this.setPrimeStatus=()=>{const e=(0,b.Qw)();e>0?document.body.setAttribute("data-primestatus",e):document.body.removeAttribute("data-primestatus"),this.checkIfPrimeUser()},this.updateUserPrcinRedux=()=>{this.props.storeUserData({prcValue:(0,b.Qw)()})},this.setPrcForUser=e=>{this.props.isMobile?this.setCookiesAndGetUserInfo(e):void 0===window.JssoCrosswalk?(0,R.S)(this.getValidLoggedInUser.bind(this,e)):this.getValidLoggedInUser(e)},this.checkShowcaseUrl=()=>{const e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());return 0!==Object.keys(t).length&&"newsshowcase"===t.utm_source},this.getJssoCrosswalkObj=()=>{let e="";return"object"==typeof this.state.jssoCrosswalkObj?e=this.state.jssoCrosswalkObj:"function"==typeof window.JssoCrosswalk&&(e=this.props.isMobile?new window.JssoCrosswalk("toi","WAP"):new window.JssoCrosswalk("toi","web"),this.setState({jssoCrosswalkObj:e})),e},this.getValidLoggedInUser=this.initOneTapLogin=(e,t,s)=>{this.props.isPrivateUser&&"US"!==(0,b.Th)()||setTimeout((()=>{const o=new Event("onetapsignin");o.customCallBack=this.checkUserStatus,o.callOneTapSignOnPriority=t||!1,o.source=s||"",o.customFallbackFn=window.dispatchEvent(o)}),0)},this.oneTapLoginFallback=e=>{if(!e)return;let t=!1,s=null;this.loginEventDataObj=e.customDataObj,this.loginEventDataObj&&(t=this.loginEventDataObj.isMobileOnlyLogin||!1,s=this.loginEventDataObj.showAlternateLogin||null),"function"==typeof s?s():this.signInUser(e,t)},this.initWelcomePrime=(e,t)=>{this.props.isPrivateUser||setTimeout((()=>{const s=new Event("primewelcomepopup");s.isReloadRequired=!!e,s.showForce=!!t,window.dispatchEvent(s)}),0)},this.hideSignInBox=()=>{this.setState({showSignIn:!1}),J(),this.props.toggleLoginBox(!1),void 0!==this.loginEventCallBack&&delete this.loginEventCallBack,void 0!==this.loginEventDataObj&&delete this.loginEventDataObj},this.closeSignInModalOnOutsideClick=e=>{e.srcElement&&"login-popup"===e.srcElement.id&&(this.hideSignInBox(),this.handleNewsLetterConcent(!0))},this.closeModalOnEscapeKeyPress=e=>{if(this.state.showSignIn){27===(e.keyCode||e.which)&&(this.hideSignInBox(),this.handleNewsLetterConcent(!0))}},this.handleUserConsentStatus=()=>{const e=v.ZP.get("gdpr")||"",t=this.getJssoCrosswalkObj(),s=window.TimesGDPR.common&&window.TimesGDPR.common.consentModule&&window.TimesGDPR.common.consentModule.isEUuser()||!1;0!==e.indexOf("1#1#")?this.props.storeUserData({showConsentPopUp:s}):(this.props.storeUserData({showConsentPopUp:!1}),"function"==typeof t.updateUserPermissions&&(this.props.isPrivateUser&&"1#1#0"!==e&&t.updateUserPermissions("1","1","0",(()=>{})),this.props.isPrivateUser||"1#1#1"===e||t.updateUserPermissions("1","1","1",()))},this.setSSOInWindow=()=>{window.onmessage=e=>{if(e&&e.data&&e.data.type&&("loginSuccess"===e.data.type||"loginFail"===e.data.type)){document.domain.indexOf("timesofindia.com");const t=document.domain.indexOf("timesofindia.com")>=0?"https://m.timesofindia.com":"https://timesofindia.indiatimes.com",s={site:"googleplus",status:""};if("loginSuccess"===e.data.type&&e.data.code){const o=this.getJssoCrosswalkObj();if("function"==typeof o.googleplusLogin){const i=`${t}/sso_v2.cms`;o.googleplusLogin(e.data.code,i,(e=>{"SUCCESS"===e.status?(s.status="signinsuccess",window.__sso(s)):window.__sso(s)}))}}else window.__sso(s)}},window.__sso=e=>{if(e&&("facebook"===e.site||"googleplus"===e.site)){const t="signinsuccess"===e.status||"ssosigninsuccess"===e.status,s="MappingUpdated"===e.status;(t||s)&&(H("googleplus"===e.site?"Login_Success_Google":"Login_Success_FB"),this.fbOrGoogleSignSuccessful=!0)}this.fbOrGoogleSignSuccessful?this.checkUserStatus(!1,this.subscribeNewsLettersCallback):this.checkUserStatus(!1)}},this.getUser=()=>this.userList[this.config.single_user_id],this.setUser=(e,t)=>{const s=e;if(void 0!==s&&!(s instanceof I))throw new Error("Object is not an instance of User, use 'getNewUser()' to get a User object.");this.userList[this.config.singleuser_id]=s,s.isLoggedIn=!0,s.prcValue=(0,b.Qw)(),s.isMobileOnlyLoggedInUser=!0,this.registeredOrLogdInUserType&&(s.registeredOrLogdInUserType=this.registeredOrLogdInUserType),this.props.storeUserData(s);let o=!1;const{isPrimePaymentFlow:i}=this.loginEventDataObj||{};!i||void 0!==s.prcValue&&s.prcValue!==N.OT||(o=!0);const n=window.userPhone||t.M_N;if(n&&sessionStorage.setItem("userPhone",n),this.setState({showSignIn:o,loggedIn:!0,firstName:e.getFirstName(),email:e.getEmail(),thumbImg:e.getThumb()}),this.fbOrGoogleSignSuccessful||window.MobOrEmailloginSuccessful){const s="undefined"!=typeof document&&document.cookie.match(/(?:\s)?ssoid=(\w+);?/);(0,h.Z)("grx","userId",!!s&&s[1]),(0,h.Z)("grx","track","login",{email:window.userPhone?"":e.getEmail(),phone:window.userPhone||t.M_N,url:window.location.href,keywords:window.seoMetaKeywords,source:window.loginSource}),window.loginSource="",this.fbOrGoogleSignSuccessful=!1,window.MobOrEmailloginSuccessful=!1}J()},this.setRgTimeForEAandPrimeUserInfo=(e,t)=>{if(e&&""!==e.createdDate){const t="rgtime",s=new Date(e.createdDate).getTime()/1e3;v.ZP.set(t,s,10)}e?this.getPrimeUserInfo(e):this.props.storeUserData({showConsentPopUp:!1,isLoggedIn:!1,prcValue:(0,b.Qw)()}),"function"==typeof t&&t(e&&Array.isArray(e)&&e[0]||e),"function"==typeof this.loginEventCallBack&&(this.loginEventCallBack(e&&Array.isArray(e)&&e[0]||e),delete this.loginEventCallBack)},this.subscribeNewsLettersCallback=e=>{if(e&&e.EMAIL&&null!=e&&e.uid&&this.state.newsLetterSubscription&&"string"==typeof e.EMAIL&&!e.EMAIL.includes(null==e?void 0:e.uid)){let t="TOI_Desktop";this.props.isMobile&&"undefined"!=typeof window&&window.location.href.match("/entertainment/|/tv/|/life-style/|/web-series/")?t="Etimes_Mweb":!this.props.isMobile&&"undefined"!=typeof window&&window.location.href.match("/entertainment/|/tv/|/life-style/|/web-series/")?t="Etimes_Desktop":this.props.isMobile&&(t="TOI_Mweb");const s={emailId:e.EMAIL,nlIds:[1029,1003,1004,1006],source:t};d.Z.post(N.pG5,s).then(()}},this.handleNewsLetterConcent=(e=null)=>{this.setState({newsLetterSubscription:null==e?!this.state.newsLetterSubscription:e})},this.getUsersInfo=(e,t)=>{this.getCrsossWalkGetUserDetails(this.setRgTimeForEAandPrimeUserInfo,t)},this.getPrimeUserInfo=e=>{let t=window.location.hostname.indexOf(".indiatimes.com")>-1?N.nxc:N.n5F;t+=`?rnd=${Math.random()}`,d.Z.get(t,{withCredentials:!0}).then((()=>{this.isLoggedIn(Array.isArray(e)&&e.length&&e[0]||e)})).catch((t=>{this.isLoggedIn(Array.isArray(e)&&e.length&&e[0]||e)}))},this.iframe=e=>{const t=document.createElement("iframe");return t.src=e,t.scrolling="no",t.frameBorder="0",t.width=0,t.height=0,t.title="Times of India",document.body.appendChild(t),t},this.loginEventFn=(e=null,t)=>{let s=!1,o=!1,i="",n=null;this.loginEventCallBack=t.customCallBack,this.loginEventDataObj=t.customDataObj,this.numberToPrefill=t.numberToPrefill,this.loginEventDataObj&&(s=this.loginEventDataObj.isMobileOnlyLogin||!1,o=this.loginEventDataObj.callOneTapSignOnPriority||!1,i=this.loginEventDataObj.source||"",n=this.loginEventDataObj.showAlternateLogin||null,this.showToiSubscriptionText=this.loginEventDataObj.showToiSubscriptionText||!1),this.showLogoutToastMsg=window.showLogoutToastMsg||!1,!0===o?this.initOneTapLogin(t,o,i):"function"==typeof n?n():this.signInUser(t,s),"function"==typeof e&&e()},this.logoutCrossWalk=()=>{(this.props.isMobile?new window.JssoCrosswalk("toi","WAP"):new window.JssoCrosswalk("toi","web")).signOutUser(),"undefined"!=typeof google&&"function"==typeof google.accounts.id.disableAutoSelect&&google.accounts.id.disableAutoSelect()},this.removeUser=()=>{delete this.userList[this.config.single_user_id],this.props.storeUserData({isLoggedIn:!1,prcValue:(0,b.Qw)()}),this.setState({showSignIn:!1,loggedIn:!1,firstName:"",thumbImg:""})},this.logout=e=>{(0,h.Z)("gaAndGrx","send","event",`WEB-${window.location.href}`,"Header-User_Profile","Click-Logout-3"),window.sessionStorage&&(sessionStorage.removeItem("planName"),sessionStorage.removeItem("userPhone")),this.removeUser();const t=`${this.api_urls.jsso}/sso/identity/profile/logout/external?channel=${this.channel}`,s=this.iframe(t);if(s.onload=()=>{s.parentElement.removeChild(s),window.__sso&&window.__sso()},"object"==typeof localStorage)try{localStorage.removeItem("sso_user"),localStorage.removeItem("planName"),localStorage.removeItem("cred_access_token"),localStorage.removeItem("paidStoryArrAlreadyOpenedPopup")}catch(e){}const o=this.props.isMobileState?"timesofindia.com":"indiatimes.com";void 0===window.JssoCrosswalk?(0,R.S)(this.logoutCrossWalk):this.logoutCrossWalk(),v.ZP.remove("ssoid","/",o),v.ZP.remove("Fbsecuritykey","/",o),v.ZP.remove("fbookname","/",o),v.ZP.remove("CommLogP","/",o),v.ZP.remove("CommLogU","/",o),v.ZP.remove("FaceBookEmail","/",o),v.ZP.remove("Fbimage","/",o),v.ZP.remove("fbooklocation","/",o),v.ZP.remove("Fboauthid","/",o),v.ZP.remove("fbname","/",o),v.ZP.remove("fbLocation","/",o),v.ZP.remove("fbimage","/",o),v.ZP.remove("fbOAuthId","/",o),v.ZP.remove("MSCSAuth","/",o),v.ZP.remove("MSCSAuthDetail","/",o),v.ZP.remove("MSCSAuthDetails","/",o),v.ZP.remove("Twimage","/",o),v.ZP.remove("TwitterUserName","/",o),v.ZP.remove("Fboauthid","/",o),v.ZP.remove("Twoauthid","/",o),v.ZP.remove("Twsecuritykey","/",o),v.ZP.remove("ssosigninsuccess","/",o),v.ZP.remove("prc","/",o),v.ZP.remove("ipr","/",o),v.ZP.remove("gdpr","/",o),v.ZP.remove("ssoid"),v.ZP.remove("MSCSAuthDetail"),v.ZP.remove("articleid"),v.ZP.remove("txtmsg"),v.ZP.remove("tflocation"),v.ZP.remove("tfemail"),v.ZP.remove("setfocus"),v.ZP.remove("fbookname"),v.ZP.remove("CommLogP"),v.ZP.remove("CommLogU"),v.ZP.remove("FaceBookEmail"),v.ZP.remove("Fbimage"),v.ZP.remove("fbooklocation"),v.ZP.remove("Fboauthid"),v.ZP.remove("Fbsecuritykey"),v.ZP.remove("fbname"),v.ZP.remove("fbLocation"),v.ZP.remove("fbimage"),v.ZP.remove("fbOAuthId"),v.ZP.remove("MSCSAuth"),v.ZP.remove("MSCSAuthDetail"),v.ZP.remove("MSCSAuthDetails"),v.ZP.remove("ssosigninsuccess"),v.ZP.remove("Twimage"),v.ZP.remove("TwitterUserName"),v.ZP.remove("Twoauthid"),v.ZP.remove("Twsecuritykey"),v.ZP.remove("prc"),v.ZP.remove("ipr"),v.ZP.remove("gdpr"),v.ZP.remove("rgtime","/",o),v.ZP.remove("rgtime");const i=this.getJssoCrosswalkObj();"function"==typeof i.signOutUser&&i.signOutUser(),this.props.storeUserData({isLoggedIn:!1,prcValue:(0,b.Qw)(),showConsentPopUp:!1}),this.handleNewsLetterConcent(!0),e&&e.customCallBack&&"function"==typeof e.customCallBack&&e.customCallBack()},this.handleConsentGiven=this.signInUser=(e,t)=>{this.state.showSignIn||this.props.userData.isLoggedIn||(e&&0===Object.keys(e).length&&(this.showToiSubscriptionText=!1),this.isMobileOnlyLogin=t,this.setState({showSignIn:!0}),function(){const e=document.getElementsByTagName("body")[0];let t=e.className;const s=t?t.split(" "):[];-1===s.indexOf("disable-scroll")&&(s.push("disable-scroll"),t=s.join(" "),e.className=t)}(),H("Load"))},this.checkUserStatus=(e,t,s)=>{s&&(this.registeredOrLogdInUserType=s),this.setState({doNotClose:!!e});let o=v.ZP.get("ssoid")||v.ZP.get("ssoId");const i=v.ZP.get("MSCSAuthDetails");!o&&i&&(o=i.split("=")[1]),this.props.toggleLoginBox(!1);const n=this.getUser();n?t&&t(n):i?this.getUsersInfo(o,t):this.setCookiesAndGetUserInfo(t)},this.getTicketCallback=(e,t,s)=>{if(e){const o=document.domain.indexOf("timesofindia.com")>=0?`//${window.location.hostname}/v1validateTicket?ticketId=${e}&channel=${this.channel}`:`${this.api_urls.socialappsintegrator}/socialsite/v1validateTicket?ticketId=${e}&channel=${this.channel}`;n()(o,null,(()=>{window.location.hostname.indexOf(".indiatimes.com")>-1?this.getUsersInfo(t,s):n()(o,null,()}))}else s&&s(null),this.props.storeUserData({showConsentPopUp:!1,isLoggedIn:!1,prcValue:(0,b.Qw)()})},this.setCookiesAndGetUserInfo=e=>{const t=(0,m.vl)("ticketId"),s=v.ZP.get("ssoid")||v.ZP.get("ssoId");t?this.loadJssoV1ValidLoggedInUser(t,():this.getTicket((t=>{const o=!(!t||!t.encTicket)&&t.encTicket;this.getTicketCallback(o,s,e)}))},this.loadJssoV1ValidLoggedInUserFn=(e,t)=>{const s=this.getJssoCrosswalkObj();"function"==typeof s.getV1ValidLoggedInUser&&s.getV1ValidLoggedInUser(e,!1,(e=>{200===parseInt(e.code,10)&&"function"==typeof t?t(e.data):"function"==typeof t&&t(null)}))},this.loadJssoV1ValidLoggedInUser=(e,t)=>{void 0===window.JssoCrosswalk?(0,R.S)(this.loadJssoV1ValidLoggedInUserFn.bind(this,e,t)):this.loadJssoV1ValidLoggedInUserFn(e,t)},this.getTicket=e=>{void 0===window.JssoCrosswalk?(0,R.S)(this.getCrsossWalkLogginUser.bind(this,e)):this.getCrsossWalkLogginUser(e)},this.getCrsossWalkLogginUser=e=>{const t=this.getJssoCrosswalkObj();"function"==typeof t.getValidLoggedInUser&&t.getValidLoggedInUser((t=>{200===parseInt(t.code,10)&&"function"==typeof e?e(t.data):"function"==typeof e&&e(null)}))},this.getCrsossWalkGetUserDetails=(e,t)=>{const s=this.getJssoCrosswalkObj();"function"==typeof s.getUserDetails&&s.getUserDetails((s=>{200===parseInt(s.code,10)&&"function"==typeof e?e(s.data,t):"function"==typeof e&&e(null,t)}))},this.isLoggedIn=e=>{const t=(s=e)instanceof I?s:S(s)?new I(s):null;var s;t?(t.loginType=v.ZP.get("LoginType"),t.facebook={name:v.ZP.get("fbookname"),location:v.ZP.get("fbooklocation"),image:v.ZP.get("Fbimage"),email:v.ZP.get("FaceBookEmail"),oauth:v.ZP.get("Fboauthid")},t.twitter={name:v.ZP.get("TwitterUserName"),image:v.ZP.get("Twimage"),oauth:v.ZP.get("Twoauthid")},this.setUser(t,e)):(this.props.storeUserData({showConsentPopUp:!1,isLoggedIn:!1,prcValue:(0,b.Qw)()}),this.removeUser())},this.closeSignInPopUp=(e,t)=>{this.state.doNotClose=!1,this.hideSignInBox(),this.handleNewsLetterConcent(!0),H("Close",t)},this.loginWithFacebook=()=>{H("Click_FB"),(0,m.BM)((()=>{"undefined"!=typeof FB&&FB.login((e=>{if(e.authResponse){const t=this.getJssoCrosswalkObj(),s=e.authResponse.signedRequest.split(".")[1],o=JSON.parse(atob(s)).code;"function"==typeof t.facebookLogin&&t.facebookLogin(o,"",(e=>{if("SUCCESS"===e.status)window.__sso({site:"facebook",status:"signinsuccess"});else try{FB.logout()}catch(e){console.info(e)}}))}else console.log("User cancelled login or did not fully authorize.")}),{scope:"email"})}))},this.loginWithGoogle=()=>{document.domain.indexOf("timesofindia.com");const e=`https://accounts.google.com/signin/oauth/oauthchooseaccount?client_id=103703403489-b4t4lt8mr05brqpcdrmsu0di54cmjv4f.apps.googleusercontent.com&scope=email&redirect_uri=${document.domain.indexOf("timesofindia.com")>=0?"https://m.timesofindia.com":"https://timesofindia.indiatimes.com"}/sso_v2.cms&response_type=code`;this.popUpOpener(e),H("Click_Google")},this.loginWithCred=e=>{const t=localStorage.getItem("cred_access_token")&&JSON.parse(localStorage.getItem("cred_access_token"));this.getJssoCrosswalkObj().credLogin(null==t?void 0:t.access_token,(t=>{if(200===parseInt(t.code,10)){var s,o;if("mobile"===(null==t||null===(s=t.data)||void 0===s?void 0:s.loginIdentifierType))sessionStorage.setItem("userPhone",null==t||null===(o=t.data)||void 0===o?void 0:o.identifier);this.checkUserStatus(!1,null==e?void 0:e.customCallBack)}else"FAILURE"===t.status&&(localStorage.setItem("cred_login_failure",JSON.stringify("cred_login_failure")),window.location.reload())}))},this.popUpOpener=(e,t)=>{const s=this.openPopUp(e,{width:850,height:780,scrollbars:0},(e=>{e&&"200"===e.code?this.checkUserStatus():t&&t(null,e)}));s&&s.moveTo(315,250)},this.openPopUp=(e,t)=>{const s={width:300,height:300,name:"Window",mask:!0,resizable:!1,disableScroll:!1,closeCallback,o=Object.assign({},s,t),i=window.screen.width/2-o.width/2,n=window.screen.height/2-o.height/2,a=[`width=${o.width}`,`height=${o.height}`,`left=${void 0!==o.left?o.left:i}`,`top=${void 0!==o.top?o.top:n-20}`,`scrollbars=${void 0!==o.scrollbars&&1===o.scrollbars?o.scrollbars:0}`,`resizable=${o.resizable}`],r=window.open(e,o.name,a.join(","));r&&r.focus();try{r.reposition=catch(e){}return r||r},this.close=e=>{if(!e)return;const t=this.open_window[e];t&&(window.clearInterval(t.interval),t.interval=null,t.popup.close(),this.open_window[t.opt.name]=null,t.opt.closeCallback(t.popup))},this.getTPTextVal=e=>{let t="";return this.state.loggedIn&&e>0?t=W(o.Fragment,{},void 0,"Redeem Your ",W("b",{},void 0,e," TimesPoints ")):this.state.loggedIn||(t=e>0?W(o.Fragment,{},void 0,"Claim your ",W("b",{},void 0,e," TimesPoints")):M||(M=W(o.Fragment,{},void 0,"Read & earn ",W("b",{},void 0,"TimesPoints")))),t},this.state={showSignIn:!1,loggedIn:!1,firstName:"",thumbImg:"",doNotClose:!1,jssoCrosswalkObj:"",isPrimeUser:!1,inGracePeriod:!1,isPreExpired:!1,newsLetterSubscription:!0},this.registeredOrLogdInUserType="",this.fbOrGoogleSignSuccessful=!1,this.config={single_user_id:"SINGLE_USER"},this.api_urls={},this.api_urls.jsso="//jsso.indiatimes.com",this.api_urls.socialappsintegrator="//socialappsintegrator.indiatimes.com/",this.userList=[],this.screenName="",this.showToiSubscriptionText=!1}componentDidMount(){this.channel="toi",this.checkIfPrimeUser(),(0,R.S)((()=>{document.domain.indexOf("timesofindia.com")>=0&&(document.domain="timesofindia.com",this.channel="toi-wap"),this.checkUserStatus(!1,this.loginInitCallback),this.setSSOInWindow(),document.body.addEventListener("keyup",this.closeModalOnEscapeKeyPress),setTimeout((()=>{document.getElementById("login-popup")&&document.getElementById("login-popup").addEventListener("click",this.closeSignInModalOnOutsideClick)}),0),this.state.isMobile=this.props.isMobileState,window.addEventListener(Q,this.loginEventFn.bind(this,this.props.onChangeTransform)),window.addEventListener(z,this.logout.bind(this)),window.addEventListener(Y,this.loginWithFacebook),window.addEventListener(q,this.loginWithGoogle),window.addEventListener(K,this.loginWithCred),window.addEventListener(X,this.checkUserStatus),window.addEventListener(ee,this.handleConsentGiven),window.addEventListener("login_popup_close",this.hideSignInBox),window.TimesApps=window.TimesApps||{},window.TimesApps.SignIn=te,window.opensso=))}checkIfPrimeUser(){const e=this.props.userData.prcValue||(0,b.Qw)();this.props.userData&&!(0,b.Q1)(e)&&this.setState({isPrimeUser:!0})}componentDidUpdate(e){const t=this.props,s=e.userData.prcValue,o=t.userData.prcValue,i=v.ZP.get("ssoid");if(void 0!==s&&void 0!==o&&s!==o&&(this.setPrimeStatus(),"undefined"!==window&&window.sessionStorage&&!window.sessionStorage.getItem("ampoffer")?this.refreshPage(o,s):sessionStorage.removeItem("ampoffer")),t&&t.userData&&t.userData.isLoggedIn&&(!e.userData||e.userData&&!e.userData.isLoggedIn)){this.handleUserConsentStatus();(0,m.G6)(window.location.href);"undefined"!=typeof window&&void 0!==window.FM&&"function"==typeof window.FM.identify&&FM.identify(i)}if(t&&t.userData&&t.userData.isLoggedIn&&t.userData.isLoggedIn!==e.userData.isLoggedIn&&!this.props.userPrcData&&this.props.getUserPrcData(),e.userPrcData!==this.props.userPrcData&&((0,b.Q)(this.props.userPrcData).then((e=>{this.setState({inGracePeriod:e})})),(0,b.WY)(this.props.userPrcData).then((),i)){const e=msid&&this.props.primeshow&&this.props.primeshow.data&&this.props.primeshow.data[msid]&&this.props.primeshow.data[msid].cs;setTimeout((()=>{(0,b.yn)(this.props.isArticleshowV2,"prime"===e,msid,this.props.userPrcData)}),3e3)}}omponentWillReceiveProps(e){e&&e.openLogin&&this.signInUser({},e.loginType)}render(){const{userPointsData:e,allActivity:t,toipLayout:s,headerNudges:i,isMobileState:n,userPrcData:a}=this.props,r=e&&this.state.isMobile&&this.props.isVisible,l=r?parseInt(e.points||0,10):0,c=r?"padtop2":"";this.props.focusNavigation&&this.props.focusNavigation(this.state.showSignIn);const{isPrimePaymentFlow:d,isOnlySubscribe:u}=this.loginEventDataObj||{};return d&&(this.freeTrialTpPoints=(0,b.r_)(n,t)),u&&(this.freeTrialTpPoints=(0,b.zs)(n,t)),o.createElement(o.Fragment,null,!this.props.isMobile&&!this.props.toipLayout&&W(L.Z,{username:this.state.email,isWapView:this.props.isMobile}),!this.state.isMobile&&this.props.isPrime&&!this.state.inGracePeriod&&!this.state.isPreExpired&&(x||(x=W("div",{id:"widget-head"}))),W("div",{className:`login_fix user_area clearfix ${this.props.isEtimes?"etimes":""} ${this.props.isVisible||this.state.showSignIn?"":"hide"} ${this.props.theme||""}`},void 0,W("div",{className:`${c}`},void 0,W("div",{id:"login-popup",className:this.state.showSignIn||this.state.doNotClose?"active":""},void 0,this.isMobileOnlyLogin?(this.state.showSignIn||this.state.doNotClose)&&W(V.Z,{loginUserCallback:this.checkUserStatus,showSignIn:this.state.showSignIn||this.state.doNotClose,closeSignInPopUp:this.closeSignInPopUp,isPrivateUser:this.props.isPrivateUser,isMobile:this.props.isMobile,isOnlySubscribe:u,loginWithFacebook:this.loginWithFacebook,loginWithGoogle:this.loginWithGoogle,getJssoCrosswalkObj:this.getJssoCrosswalkObj,logout:this.logout,freeTrialTpPoints:this.freeTrialTpPoints}):(this.state.showSignIn||this.state.doNotClose)&&W(f,{loginUserCallback:this.checkUserStatus,showSignIn:this.state.showSignIn||this.state.doNotClose,newsLetterSubscription:this.state.newsLetterSubscription,handleNewsLetterConcent:this.handleNewsLetterConcent,subscribeNewsLettersCallback:this.subscribeNewsLettersCallback,closeSignInPopUp:this.closeSignInPopUp,isPrivateUser:this.props.isPrivateUser,isMobile:this.props.isMobile,loginWithFacebook:this.loginWithFacebook,loginWithGoogle:this.loginWithGoogle,getJssoCrosswalkObj:this.getJssoCrosswalkObj,logout:this.logout,showToiSubscriptionText:this.showToiSubscriptionText,showLogoutToastMsg:this.showLogoutToastMsg,onChangeTransform:this.props.onChangeTransform,preFill:this.numberToPrefill})),this.state.loggedIn&&!this.state.isMobile&&W(j,{firstName:this.state.firstName,isPrimeUser:this.state.isPrimeUser,isMobile:this.state.isMobile,logout:this.logout,theme:this.props.theme||"",thumbImg:this.state.thumbImg||"https://mytimes.indiatimes.com/image/thumb/0/default",userData:this.props.userData,pageType:this.props.pageType,toipLayout:s,headerNudges:i,userPrcData:a}),this.state.isMobile&&this.props.isVisible&&W("div",{className:"user-isloggedin"},void 0,W("div",{className:"user-controls"},void 0,W("span",{className:"user_name"},void 0,"Hi,"," ",W("span",{},void 0,this.state.loggedIn?this.state.firstName:"User"),!this.state.isMobile&&(F||(F=W("i",{className:"sprite_bg icon_down "})))),r&&!this.props.fromEtimes&&W(p.Z,{target:"_blank",to:"https://m.timesofindia.com/timespoints",className:"tp_track","data-ga":"Earn_Timespoint|open|Hamburger"},void 0,this.getTPTextVal(l)))),!this.state.loggedIn&&this.state.isMobile&&this.props.isVisible&&o.createElement(o.Fragment,null,W("span",{className:"redeembtn logout-window",onClick:e=>this.signInUser(e,!1)},void 0,"LOGIN")),this.state.loggedIn&&this.state.isMobile&&r&&this.props.isVisible&&!this.props.fromEtimes&&o.createElement(o.Fragment,null,W("span",{className:"redeembtn"},void 0,W("span",{className:"login"},void 0,W(p.Z,{target:"_blank",to:e.link,"data-ga":"Earn_Timespoint|open|Hamburger"},void 0,"REDEEM")))),!this.state.loggedIn&&!this.state.isMobile&&W("span",{className:"logout-window"},void 0,!this.props.isMobile&&this.props.toipLayout&&($||($=W("div",{className:"user-icon"}))),W("span",{className:"login user-notloggedin",onClick:,void 0,"Sign In",this.state.isPrimeUser?B||(B=W("i",{})):null)))))}}le.defaultProps={isPrivateUser:!0,userPointsData:{},allActivity:[],isVisible:!1,isMobile:!1,isMobileState:!1,userData:void 0,focusNavigation:void 0,theme:"",query:{},fromEtimes:!1,toipLayout:!1};const ce=(0,a.$j)((e=>{var t;return{userData:c()(e,"login.userData",{}),openLogin:e.login.openLogin,isPrivateUser:e.gdpr.isPrivateUser,isPrime:e.isPrime,userPointsData:e.timesPoint?e.timesPoint.userData:{},allActivity:e.timespointmodal&&e.timespointmodal.allActivity,isArticleshowV2:null==e?void 0:e.isArticleshowV2,primeshow:null==e?void 0:e.toiplusprimeshow,headerNudges:c()(null==e||null===(t=e.translationConfig)||void 0===t?void 0:t.nudges,"header",null),isMobileState:c()(e,"isMobile",!1),userPrcData:e.login.userPrcData}}),(e=>({storeUserData:t=>{e((0,r.ZW)(t))},toggleLoginBox:getUserPrcData:)))(le)},49893:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(67294),i=s(68356);const n=s.n(i)()({loader:loading:);class a extends o.Component{,32122:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o,i,n=s(67294),a=s(70365),r=s.n(a),l=(s(85089),s(54620));s(33487);lass d extends n.Component{constructor(){super(),this.initOneTap=e=>{"undefined"!=typeof window&&(this.callBack=e.customCallBack,this.customFallbackFn=e.customFallbackFn,this.source="","string"==typeof e.source&&e.source&&(this.source=e.source))},this.closeOneTap=e=>{e.target&&"function"==typeof e.target.closest&&e.target.closest("#credential_picker_iframe")||this.setTimerToClosePopup()},this.loadJs=()=>{setTimeout((()=>{!function(e,t,s){const o=document.createElement("script");o.src="https://accounts.google.com/gsi/client",o.type="text/javascript",o.async=!0,o.onload=s;const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i)}(document,0,this.initiateAPI)}),100)},this.googleCallBack=e=>{if(void 0!==e.credential){const t=new Date;window.localStorage.setItem("onetap_session",t.getTime()+432e5);const s=`${"https://jsso.indiatimes.com"}/sso/services/gponetaplogin/verify?token=${e.credential}&channel=${this.channel}&ru=${this.ru}`;r()(s,null,((e,t)=>{e?console.error(e.message):t&&200===t.code&&this.setUserLoginSession()})),this.didPromiseReturn=!0,this.didOneTapPopUpShow=!0,window.onetapActiveFlag=!1}},this.setUserLoginSession=()=>{"function"==typeof this.callBack&&(this.callBack(!1,(()=>{this.setState({signInSuccess:!0,showSignInSuccess:!0}),"undefined"!=typeof window&&window.location&&window.location.reload()})),setTimeout((,1e4))},this.initiateAPI=()=>{l.ZP.get("ssoid")||l.ZP.get("ssoId")||"object"!=typeof window.google?this.handleSigninFailure():(window.google.accounts.id.initialize({client_id:this.clientId,callback:this.googleCallBack,cancel_on_tap_outside:!1,auto_select:!0,itp_support:!0,prompt_parent_id:"g_id_onload",use_fedcm_for_prompt:!0}),window.google.accounts.id.prompt(this.handleGoogleNotificationResponses))},this.setTimerToClosePopup=()=>{window.google&&window.google.accounts&&window.google.accounts.id&&"function"==typeof window.google.accounts.id.cancel&&(window.google.accounts.id.cancel(),window.onetapActiveFlag=!1,this.timerID&&clearTimeout(this.timerID))},this.handleGoogleNotificationResponses=e=>{const t=e.getNotDisplayedReason();console.log("Google Notification",t),e&&"display"===e.g&&e.h&&(window&&window.TimesApps.PopUpList&&window.TimesApps.PopUpList[this.moduleName]&&window.TimesApps.PopUpList[this.moduleName].callbacks.onShowCallback(!0),this.timerID=setTimeout(this.setTimerToClosePopup,9e4),window.onetapActiveFlag=!0),void 0!==t&&this.handleSigninFailure()},this.handleSigninFailure=()=>{window&&window.TimesApps.PopUpList&&window.TimesApps.PopUpList[this.moduleName]&&window.TimesApps.PopUpList[this.moduleName].callbacks.onShowCallback(!1);const{showCommentsSidebar:e}=this.props;"function"==typeof e&&e(),"function"==typeof this.customFallbackFn&&this.customFallbackFn()},this.hideSignInSuccess=this.state={signInSuccess:!1,showSignInSuccess:!1},this.yoloTimeout=5e3,this.clientId="103703403489-b4t4lt8mr05brqpcdrmsu0di54cmjv4f.apps.googleusercontent.com",this.OnetapsigninMod=null,this.didPromiseReturn=!1,this.didOneTapPopUpShow=!1,this.moduleName="google_one_tap",this.nextShowCookieName="oneTapNextShow",this.ru="bchjqhklhblchbhjglh1wbfbv",this.timerID=!1,this.source="",this.callOneTapSignOnPriority=!0}componentDidMount(){try{var e,t;const s=null===(e=window)||void 0===e||null===(t=e.toi_client_side_settings)||void 0===t?void 0:t.popupTimeout;setTimeout((()=>{window.TimesApps.PopUpV2Manager&&window.TimesApps.PopUpV2Manager.isPopuMangerRunning()&&window.TimesApps.PopUpV2Manager.register(this.moduleName,(()=>{const{isWapView:e}=this.props;this.channel=e?"toi-wap":"toi",window.addEventListener("onetapsignin",this.initOneTap),window.addEventListener("click",this.closeOneTap),"object"==typeof window&&window.TimesGDPR&&window.TimesGDPR.common.consentModule.gdprCallback&&window.TimesGDPR.common.consentModule.gdprCallback((e=>{(e.isEUuser||"US"===e.userCountry&&"CA"===e.userRegion)&&!e.consentGiven||this.loadJs()}))}))}),s||1e3)}catch(e){console.log("Error in registering onetap popup")}}ender(){return this.state.signInSuccess&&this.props.username&&this.state.showSignInSuccess?c("div",{className:"onetap_wrapper"},void 0,o||(o=c("span",{className:"success"})),c("span",{className:"text"},void 0,`Successfully signed in as ${this.props.username}`),c("span",{className:"close",onClick:)):null}}d.defaultProps={isWapView:!1,username:""};const p=d},36096:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var o=s(99408);function i(e,t){if("undefined"==typeof window)return;const s=!!("undefined"!=typeof window&&window.App&&window.App.state&&window.App.state.isMobile)?"WAP_Login":"WEB_Login",i=`${e}-${window.location.pathname}`;(0,o.Z)("gaAndGrx","send","event",s,t,i)}},84149:(e,t,s)=>{"use strict";s.d(t,{Vu:()=>f,Xk:()=>S,ZW:()=>v,qD:()=>P});var o=s(42947),i=s(54620),n=s(61248),a=s(33487),r=s(49669);st p="login",u=h=u("USER_PRC_DATA"),m=u("USER_DATA"),g=u("OPEN_LOGIN"),w=u("LOADING"),f=(u("USER_LOGIN_STATUS"),{IDLE:"IDLE",LOADING:"LOADING",DONE:"DONE"});function v(e){return{type:m,payload:{userData:e}}}unction P(){return e=>new Promise(((t,s)=>{e(b(f.LOADING)),function(){const e=(0,i.ej)("ssoid"),t=(0,i.ej)("TicketId")||(0,i.ej)("Ticketid")||(0,i.ej)("ticketId"),s=window&&window.App&&window.App.state&&window.App.state.isMobile?a.YLK:a.rR3;return o.Z.get(`${s}`,{headers:{ticketId:t,ssoId:e}})}().then((o=>{(0,n.fx)(null==o?void 0:o.data),e(null==o?void 0:o.data)),e(b(f.DONE)),null!=o&&o.data?t(o.data):s(new Error("Error in fetching prc data"))})).catch((t=>{e(b(f.DONE)),s(new Error(null==t?void 0:t.response))}))}))}.Z.register(p,(function(e={userPrcData:null},t={}){switch(t.type){case m:{const s=e.userData||{};return c(c({},e),{},{userData:c(c({},s),t.payload.userData)})}case h:{const s=e.userPrcData||{};return c(c({},e),{},{userPrcData:c(c({},s),t.payload.userPrcData)})}case g:return c(c({},e),{},{openLogin:t.payload.openLogin});case w:return c(c({},e),{},{isLoading:t.payload||f.IDLE});default:return e}}))},72216:(e,t,s)=>{"use strict";s.d(t,{GK:()=>p,Zo:()=>d,kw:()=>l,vQ:()=>c});var o=s(33487),i=s(61248),n=s(54620),a=s(94829),r=s(42947);const l=(e=o.LUu,t=!1)=>{let s=e;const i=window.location.href,n=new URL(i),a=n.searchParams.get("utm_source")||null,r=n.searchParams.get("utm_medium")||null,l=n.searchParams.get("utm_campaign")||null;return(a||r||l)&&t?s=`${s}?isPrimeArticle=true&utm_source=${a}&utm_medium=${r}&utm_campaign=${l}`:t?s=`${s}?isPrimeArticle=true`:(a||r||l)&&(s=`${s}?utm_source=${a}&utm_medium=${r}&utm_campaign=${l}`),s},c=(e={},t={})=>{const{dealCode:s,planGroup:o,planGroupAutoSelected:i,planCodeAutoSelected:n,nudgePlanGroupAutoSelected:a,nudgePlanCodeAutoSelected:r,otherPlanCodes:l,ctaLink:c}=e.unifiedNodes||{};return{url:c||"",dealCode:s||"",planCode:o||"",planGroupAutoSelected:i||"",planCodeAutoSelected:n||"",nudgePlanGroupAutoSelected:a||"",nudgePlanCodeAutoSelected:r||"",otherPlanCodes:l||"",platform:e.platform||"TOI",productCode:e.productCode||"TOIPLUS",ticketId:t.tempTicket}},d=({url:e=o.LUu,dealCode:t="",planCode:s="",planGroupAutoSelected:i="",planCodeAutoSelected:a="",nudgePlanGroupAutoSelected:r="",nudgePlanCodeAutoSelected:l="",otherPlanCodes:c="",platform:d="TOI",productCode:p="TOIPLUS",ticketId:u=""})=>{const h=window.location.href,m=new URL(h),g=((e,t,s)=>{let i=e;i.indexOf("?")>-1||(i=`${i||o.LUu}`);let n=0;for(;n<t.length;)s[n]&&(i.indexOf("?")>-1?i+=s[n]?`&${t[n]}=${s[n]}`:"":i+=s[n]?`?${t[n]}=${s[n]}`:""),n+=1;return i})(e,["utm_source","utm_medium","utm_campaign","product","productCode","dealCode","groupCodes","plt","defaultGroupName","defaultPlanCode","nudgePlanGroupAutoSelected","nudgePlanCodeAutoSelected","otherPlans","grxId","acqSubSource","ru","ticketId"],[m.searchParams.get("utm_source")||"",m.searchParams.get("utm_medium")||"",m.searchParams.get("utm_campaign")||"",d,p,t,s,d,i,a,r,l,c,(0,n.ej)("_grx"),h.indexOf("epaper.indiatimes.com")>-1?"EpaperWeb":"TOIWeb",encodeURIComponent(h),u]);return g},p=(e={})=>{const t="epaper"===(0,a.vl)("tophead"),s=e;s.ProductName="TOI";const o="https://etpwaapipre.economictimes.com/pushGaData",l=[{prc:-1,prctype:""},{prc:0,prctype:""},{prc:1,prctype:""},{prc:2,prctype:""},{prc:3,prctype:""},{prc:4,prctype:""},{prc:5,prctype:""},{prc:6,prctype:""},{prc:7,prctype:""},{prc:8,prctype:""}],c=d=(0,i.Qw)();var p;(0,n.ej)("ssoid")||(0,n.ej)("ssoId")?(s.UserLoginStatus=!0,s.UserSubscriptionStatus=c(d,l)[0]?c(d,l)[0].prctype:"",s.featurePermission=null==s||null===(p=s.accessiblefeatures)||void 0===p?void 0:p.join(",")):(s.UserLoginStatus=!1,s.UserSubscriptionStatus=c(d,l)[0]?c(d,l)[0].prctype:"",s.featurePermission="");let u={},h={},m={};m={cd96:""!==s.ProductName?s.ProductName:"",cd63:s.UserLoginStatus?"1":"0",cd68:""!==s.UserSubscriptionStatus?s.UserSubscriptionStatus:"",cd31:s.msid||"",cd97:s.featurePermission,cd85:"TOI_Plus"},u={cd1:"TOI-ePaper",cd5:s.UserLoginStatus?"1":"0",cd10:"",cd12:s.msid,cd26:""!==s.UserSubscriptionStatus?s.UserSubscriptionStatus:"",cd37:s.featurePermission},h=t?JSON.stringify({TOI:m,epaperUA368321382:u}):`logdata=${JSON.stringify(m)}`;const g={logdata:h,merchantType:"TOI",grxId:(0,n.ej)("_grx")};window.navigator&&window.navigator.sendBeacon;try{r.Z.post(o,g)}catch(e){console.log(e)}}},92405:(e,t,s)=>{"use strict";function o(e){if(!e)return{};let t=0,s=0;const o=function(e){const t=document,s=window,{body:o}=t;let i=void 0!==s.pageXOffset?s.pageXOffset:(t.documentElement||o.parentNode||o).scrollLeft,n=void 0!==s.pageYOffset?s.pageYOffset:(t.documentElement||o.parentNode||o).scrollTop;const a=e.getBoundingClientRect();if(e!==o){let t=e.parentNode;for(;t!==o;){var r,l,c;i+=null===(r=t)||void 0===r?void 0:r.scrollLeft,n+=null===(l=t)||void 0===l?void 0:l.scrollTop,t=null===(c=t)||void 0===c?void 0:c.parentNode}}return{bottom:a.bottom+n,height:a.height,left:a.left+i,right:a.right+i,top:a.top+n,width:a.width}}(e);return t=o.left,s=o.top,{x:t,y:s}}function i({scriptUrl:e,callback:t}){return function(s,o){const i=s.getElementsByTagName(o)[0],n={},a=s.createElement(o);return a.src=e,i.parentNode.insertBefore(a,i),n._e=[],n.ready=n.onload="function"==typeof t?t:void 0,n}(document,"script")}s.d(t,{Bz:()=>i,bt:()=>o,zp:);const n=e=>{if("object"!=typeof window)return null;let t=e.clientHeight;const s=window.getComputedStyle(e);return t+=parseInt(s.marginTop,10),t+=parseInt(s.marginBottom,10),t+=parseInt(s.paddingTop,10),t+=parseInt(s.paddingBottom,10),t+=parseInt(s.borderTopWidth,10),t+=parseInt(s.borderBottomWidth,10),t}},85089:]);
//# sourceMappingURL=80754_es6_module.49a46eaf.chunk.js.map