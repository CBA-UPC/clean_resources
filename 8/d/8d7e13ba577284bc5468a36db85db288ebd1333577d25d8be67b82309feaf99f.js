!function(){var e=void 0,t=void 0;!{1:[function(e,t,n){"use strict";function r(){var e=a(),t=u(),n=s(e+t.toString()),r=n.substr(0,4),o=n.substr(4);e=e.substr(0,19)+r+"-"+o;var c=i(),f=s(t.origin),d=[h.USERREPORT,c,f].join("."),g=s(e+d+p);return[l,g,e,d].join(".")}function i(){var e=(new Date).getTime()-new Date(2019,0,1).getTime(),t=Math.floor(e/864e5);return t}ar s=e("./hash"),a=e("./uuid"),u=e("./location"),c="apr_dsu",f=c+"_ttl",d=31536e3,l="1",p="YicAu6ZpNG",h={USERREPORT:"1"};t.exports={generateDsu:r,getDsuNow:i,getDsuAge:function(){try{var e=window.localStorage.getItem(c),t=e.split("."),n=t[t.length-2];return+n}catch(e){return i()}},readOrCreateDsu:function(e){var t,n;try{t=window.localStorage.getItem(c),n=window.localStorage.getItem(f)}catch(e){return null}(!t||e&&n&&n<o())&&(t=r());try{window.localStorage.setItem(c,t),e&&window.localStorage.setItem(f,o()+d),t=window.localStorage.getItem(c)}catch(e){return null}return t}}},{"./hash":2,"./location":3,"./uuid":4}],2:[function(e,t,n){"use strict";var r=e("siphash"),i=[2251905623,1801168887,1769155591,711914637];t.exports=r.hash_hex.bind(null,i)},{siphash:14}],3:[function(e,t,n){"use strict";function r(e){var t=0!==e.indexOf("/")&&e.indexOf("/")!==-1&&(e.indexOf(":")===-1||e.indexOf(":")>e.indexOf("/")),n=o.exec(t?"noscheme://"+e:e),r={scheme:t?"":n[2]||"",host:n[4]||"",hostname:n[4]?n[4].split(":")[0]:"",pathname:n[5]||"",search:n[7]||"",hash:n[9]||"",toString:function(){return e}};return r.origin=r.scheme+"://"+r.host,r}function i(){var e=s||window.location.toString();if(e=e.replace(/\.demo\.audienceproject\.com\//,"/"),a.url===e)return a.parsed;var t=r(e);return a.url=e,a.parsed=t,t}var o=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),s=null,a={};t.exports=i,t.exports.onLocationChange=function(e){var t=i().pathname,n=setInterval(function(){var n=i().pathname;n!==t&&(t=n,e(n))},100);return function(){clearInterval(n)}},t.exports.updateLocation=function(e){r(e),s=e},t.exports.parse=r},{}],4:[function(e,t,n){"use strict";function r(){var e=new Uint32Array(4);crypto.getRandomValues(e);var t=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){t++;var r=e[t>>3]>>t%8*4&15,i="x"===n?r:3&r|8;return i.toString(16)})}ar o="function"==typeof Uint32Array&&"undefined"!=typeof crypto&&"undefined"!=typeof crypto.getRandomValues,s=o?r:i;t.exports=s},{}],5:[function(e,t,n){"use strict";var r=e("promise-polyfill");r.prototype.finally=t.exports=r},{"promise-polyfill":12}],6:[{}],7:[function(e,t,n){(.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":6,ieee754:10,isarray:11}],8:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e)===!1)break}},{}],9:[{"for-in":8}],10:[{}],11:[{}],12:[function(e,t,n){!function(e){ction o(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void l()}=setTimeout,l="function"==typeof setImmediate&&setImmediate||p=i.prototype.catch=i.prototype.then=i.all=i.resolve=i.reject=i.race=i._setImmediateFn=function(e){l=e},i._setUnhandledRejectionFn=function(e){p=e},"undefined"!=typeof t&&t.exports?t.exports=i:e.Promise||(e.Promise=i)}(this)},{}],13:[{}],14:[function(e,t,n){n=t.exports=e("./lib/siphash")},{"./lib/siphash":15}],15:[function(e,t,n){var r=function(){"use strict";function e(e,t){var n=e.l+t.l,r={h:e.h+t.h+(n/2>>>31)>>>0,l:n>>>0};e.h=r.h,e.l=r.l}function t(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function n(e,t){var n={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=n.h,e.l=n.l}unction i(i,o,s,a){e(i,o),e(s,a),n(o,13),n(a,16),t(o,i),t(a,s),r(i),e(s,o),e(i,a),n(o,17),n(a,21),t(o,s),t(a,i),r(s)}function o(e,t){return e.charCodeAt(t+3)<<24|e.charCodeAt(t+2)<<16|e.charCodeAt(t+1)<<8|e.charCodeAt(t)}function s(e,n){var r,s={h:e[1]>>>0,l:e[0]>>>0},a={h:e[3]>>>0,l:e[2]>>>0},u={h:s.h,l:s.l},c=s,f={h:a.h,l:a.l},d=a,l=0,p=n.length,h=p-7,g=new Uint8Array(new ArrayBuffer(8));for(t(u,{h:1936682341,l:1886610805}),t(f,{h:1685025377,l:1852075885}),t(c,{h:1819895653,l:1852142177}),t(d,{h:1952801890,l:2037671283});l<h;)r={h:o(n,l+4),l:o(n,l)},t(d,r),i(u,f,c,d),i(u,f,c,d),t(u,r),l+=8;g[7]=p;for(var m=0;l<p;)g[m++]=n.charCodeAt(l++);for(;m<7;)g[m++]=0;r={h:g[7]<<24|g[6]<<16|g[5]<<8|g[4],l:g[3]<<24|g[2]<<16|g[1]<<8|g[0]},t(d,r),i(u,f,c,d),i(u,f,c,d),t(u,r),t(c,{h:0,l:255}),i(u,f,c,d),i(u,f,c,d),i(u,f,c,d),i(u,f,c,d);var y=u;return t(y,f),t(y,c),t(y,d),y}function a(e){return[o(e,0),o(e,4),o(e,8),o(e,12)]}function u(e,t){var n=s(e,t);return("0000000"+n.h.toString(16)).substr(-8)+("0000000"+n.l.toString(16)).substr(-8)}function c(e,t){var n=s(e,t);return 4294967296*(2097151&n.h)+n.l}return{string16_to_key:a,hash:s,hash_hex:u,hash_uint:c}}(),t=t||{};t.exports=r},{}],16:[function(t,n,r){(function(t){"use strict";!"undefined"==typeof self?this:self,function(){var e=function(e){for(var t="",n=0,r=e.length;n<r;n+=1){var i=e.charCodeAt(n).toString(2),o="00000000".slice(0,8-i.length);t+=o+i}return t},n=r=i=o=s=a=u= o p};return function(e){va))|e},i=n)i)i)},l=function(){for(var t=u(e),n=c(t),r={},o=0;o<n.length;o+=1){var s=n[o],a=t[o],f=d(s,a);s.key&&(r[s.key]=f),i=0}return r};return l()}})}).call(this,t("buffer").Buffer)},{buffer:7}],17:[function(e,t,n){"use strict;";t.exports=Object.assign||function(){for(var e,t,n=Object.prototype.hasOwnProperty,r={},i=0,o=arguments.length;i<o;++i){t=arguments[i];for(e in t)n.call(t,e)&&(r[e]=t[e])}return r}},{}],{}},{}],19:[function(e,t,n){"use strict";var r=e("util-merge"),i=e("./lib/rnd"),o=e("./api"),s=JSON.parse('{"iabcmp":{"tcStringV1":"BOv_CmhOv_CmhAAABBENDAiAAAAYqABAMUA"},"tag-system":{"renewInterval":3600000},"userreport-ak":{"trackingConfig":[{"trackingCode":"YLEs2s-m-PigdalS1aE-tzpOlKLWZcg","sectionId":null,"type":"Media","mediaId":"805be02e-79a0-4498-af09-4aecd4cd76bd"},{"trackingCode":"YLEs2s-m-bLOh8bFWYE6Rt3SglBgdRQ","sectionId":null,"type":"Media","mediaId":"b3782ffb-d839-425e-81c0-c758b4cffc1a"},{"trackingCode":"YLEs2s-m-wDgFt7-ChEWflXG7wTZtZg","sectionId":null,"type":"Media","mediaId":"3e73f2af-bc60-419d-ab14-08942fb65da5"},{"trackingCode":"YLEm-CnsPeJKgyE65quO3NLpXOw","sectionId":null,"type":"Media","mediaId":"780f7b0a-a092-4ec8-b9aa-e3b734ba573b"},{"trackingCode":"YLEs2s-m-e6TjG_JOxUuQPG_rqAhfCw","sectionId":null,"type":"Media","mediaId":"83b518ea-ed3b-4130-910e-92d830b50acd"},{"trackingCode":"YLEs2s-m-ZIBQIsWPREi-AA8DSXCK_w","sectionId":null,"type":"Media","mediaId":"22508064-8fc5-4844-be00-0f0349708aff"},{"trackingCode":"YLEs2s-s-CgsoVJmfp0aAyfAHMNUtXQ","sectionId":"54280b0a-9f99-46a7-80c9-f00730d52d5d","type":"Section","mediaId":"22508064-8fc5-4844-be00-0f0349708aff"},{"trackingCode":"YLEm-lqwxRqGeUkeXU2IA-X4JwA","sectionId":null,"type":"Media","mediaId":"4631ac96-9ea1-4752-9753-6200f97e09c0"},{"trackingCode":"YLEs2s-s-T-MhQIpfTkOT_18h4cLzPQ","sectionId":"4021e34f-5f8a-434e-93ff-5f21e1c2f33d","type":"Section","mediaId":"4631ac96-9ea1-4752-9753-6200f97e09c0"},{"trackingCode":"YLEs2s-m-nedA6G1yDUWAuIw0tTA9Kg","sectionId":null,"type":"Media","mediaId":"49a1da79-094d-4aa7-8be6-85b62ca40fe6"},{"trackingCode":"YLEs2s-s-O-hGmY6fqkyBgh3WHe1kng","sectionId":"117c5120-769c-496a-b136-18e78904cec9","type":"Section","mediaId":"49a1da79-094d-4aa7-8be6-85b62ca40fe6"},{"trackingCode":"YLEs2s-s-0pckRb40eEuqIPaK9Us5ZQ","sectionId":"50922808-5180-4131-b641-df3af0c18553","type":"Section","mediaId":"49a1da79-094d-4aa7-8be6-85b62ca40fe6"},{"trackingCode":"YLEs2s-s-19PjB9MhNk-_lcZPS2Fc9g","sectionId":"8402679e-daf9-4856-ac5c-ce69dca81b38","type":"Section","mediaId":"49a1da79-094d-4aa7-8be6-85b62ca40fe6"},{"trackingCode":"YLEs2s-s-dMaeidQgcU2HAZpmTO31wA","sectionId":"9fed1c1e-1209-4e45-b3fe-649aad39a301","type":"Section","mediaId":"49a1da79-094d-4aa7-8be6-85b62ca40fe6"},{"trackingCode":"YLEs2s-m-GxYsURPM_UmrOh_QMPZY-A","sectionId":null,"type":"Media","mediaId":"512c161b-cc13-49fd-ab3a-1fd030f658f8"},{"trackingCode":"YLEs2s-s-WEn2whO0AU6uCY4tooVVtA","sectionId":"c2f64958-b413-4e01-ae09-8e2da28555b4","type":"Section","mediaId":"512c161b-cc13-49fd-ab3a-1fd030f658f8"},{"trackingCode":"YLEs2s-m-w2U8e8q9S0qKVesuUqzmqg","sectionId":null,"type":"Media","mediaId":"8928a22e-ff38-431c-8eaa-040f12ceed43"},{"trackingCode":"YLEs2s-s-IaeQPKP50U-v4mzvCSBogw","sectionId":"2d901c58-d036-4452-bdac-2d5fdf883b14","type":"Section","mediaId":"8928a22e-ff38-431c-8eaa-040f12ceed43"},{"trackingCode":"YLEs2s-s-FMEXekyz6EynM0SAHtMVeQ","sectionId":"661dc64e-8c4c-4654-9c3f-ebae97c387a2","type":"Section","mediaId":"8928a22e-ff38-431c-8eaa-040f12ceed43"},{"trackingCode":"YLEs2s-s-p1zLeTl6pki64YNTSwBKCQ","sectionId":"d65333ae-dd28-4829-a22a-472c913ae184","type":"Section","mediaId":"8928a22e-ff38-431c-8eaa-040f12ceed43"},{"trackingCode":"YLEs2s-s-X9woyWV5d024N6Ei6Ei8ew","sectionId":"fc97de88-9f43-46a6-900e-1adb4452a70b","type":"Section","mediaId":"8928a22e-ff38-431c-8eaa-040f12ceed43"},{"trackingCode":"YLEm-CXWsiZKp5UCcVXsflQPueg","sectionId":null,"type":"Media","mediaId":"89ac7509-a992-40e5-9c55-7b1f9503ee7a"},{"trackingCode":"YLEs-cwIjGL_tiEiCB7MTgWEN4w","sectionId":"18230273-edbf-4888-8207-b31381610de3","type":"Section","mediaId":"89ac7509-a992-40e5-9c55-7b1f9503ee7a"},{"trackingCode":"YLEs-ELoPJAHDEUWRuGoOqEyrLg","sectionId":"240fba10-c301-4511-91b8-6a0ea84cab2e","type":"Section","mediaId":"89ac7509-a992-40e5-9c55-7b1f9503ee7a"},{"trackingCode":"YLEs--9blTqdu9kiSALJKZQBHyg","sectionId":"4ee5d6fb-6ea7-48f6-9200-b24a650047ca","type":"Section","mediaId":"89ac7509-a992-40e5-9c55-7b1f9503ee7a"},{"trackingCode":"YLEs-kCS0nbLvXEO6I62HtbSiRw","sectionId":"9db42490-efb2-435c-ba23-ad87b5b4a247","type":"Section","mediaId":"89ac7509-a992-40e5-9c55-7b1f9503ee7a"},{"trackingCode":"YLEs-dbZXxFL2eUOX3rPT987EDg","sectionId":"c457b675-f652-4379-97de-b3d3f7cec40e","type":"Section","mediaId":"89ac7509-a992-40e5-9c55-7b1f9503ee7a"},{"trackingCode":"YLEm-wfIXsqta0ECI9yp10-sHhA","sectionId":null,"type":"Media","mediaId":"b217f2c1-5aab-40d0-88f7-2a75d3eb0784"},{"trackingCode":"YLEs2s-m-FQ1GHGZk6nyBjdwupX9A","sectionId":null,"type":"Media","mediaId":"d450e19b-c661-4e66-a7c8-18ddc2ea57f4"}]},"userreport-core":{"networkLayout":[{"rules":[],"id":"805be02e-79a0-4498-af09-4aecd4cd76bd","color":null,"sections":[]},{"rules":[],"id":"b3782ffb-d839-425e-81c0-c758b4cffc1a","color":null,"sections":[]},{"rules":[],"id":"3e73f2af-bc60-419d-ab14-08942fb65da5","color":null,"sections":[]},{"rules":[],"id":"780f7b0a-a092-4ec8-b9aa-e3b734ba573b","color":null,"sections":[]},{"rules":[],"id":"83b518ea-ed3b-4130-910e-92d830b50acd","color":null,"sections":[]},{"rules":[],"id":"22508064-8fc5-4844-be00-0f0349708aff","color":null,"sections":[{"rules":[],"id":"54280b0a-9f99-46a7-80c9-f00730d52d5d"}]},{"rules":[],"id":"4631ac96-9ea1-4752-9753-6200f97e09c0","color":null,"sections":[{"rules":[{"pattern":"https://svenska.yle.fi","operation":"Section"}],"id":"4021e34f-5f8a-434e-93ff-5f21e1c2f33d"}]},{"rules":[],"id":"49a1da79-094d-4aa7-8be6-85b62ca40fe6","color":null,"sections":[{"rules":[],"id":"117c5120-769c-496a-b136-18e78904cec9"},{"rules":[],"id":"50922808-5180-4131-b641-df3af0c18553"},{"rules":[],"id":"8402679e-daf9-4856-ac5c-ce69dca81b38"},{"rules":[],"id":"9fed1c1e-1209-4e45-b3fe-649aad39a301"}]},{"rules":[],"id":"512c161b-cc13-49fd-ab3a-1fd030f658f8","color":null,"sections":[{"rules":[],"id":"c2f64958-b413-4e01-ae09-8e2da28555b4"}]},{"rules":[],"id":"8928a22e-ff38-431c-8eaa-040f12ceed43","color":null,"sections":[{"rules":[],"id":"2d901c58-d036-4452-bdac-2d5fdf883b14"},{"rules":[],"id":"661dc64e-8c4c-4654-9c3f-ebae97c387a2"},{"rules":[],"id":"d65333ae-dd28-4829-a22a-472c913ae184"},{"rules":[],"id":"fc97de88-9f43-46a6-900e-1adb4452a70b"}]},{"rules":[{"pattern":"*.yle.fi","operation":"DomainEquals"}],"id":"89ac7509-a992-40e5-9c55-7b1f9503ee7a","color":null,"sections":[{"rules":[],"id":"18230273-edbf-4888-8207-b31381610de3"},{"rules":[],"id":"240fba10-c301-4511-91b8-6a0ea84cab2e"},{"rules":[{"pattern":"tekstitv","operation":"Contains"}],"id":"4ee5d6fb-6ea7-48f6-9200-b24a650047ca"},{"rules":[],"id":"9db42490-efb2-435c-ba23-ad87b5b4a247"},{"rules":[],"id":"c457b675-f652-4379-97de-b3d3f7cec40e"}]},{"rules":[],"id":"b217f2c1-5aab-40d0-88f7-2a75d3eb0784","color":null,"sections":[]},{"rules":[],"id":"d450e19b-c661-4e66-a7c8-18ddc2ea57f4","color":null,"sections":[]}],"companyId":"bda367c6-e186-48ae-b937-15608ef2175c"},"userreport-invitation-utils":{"disableImplementationTracking":true,"suppressCookieSync":true,"muteByDefault":true,"optimizeScriptLoading":true}}'),a=JSON.parse('["iabcmp","tag-system","userreport-ak","userreport-core","userreport-invitation-utils"]'),u=!!parseInt("0")||window.location.href.indexOf("__sak=debug")!==-1||"undefined"!=typeof window&&"true"===window.localStorage.getItem("__sak_debug"),c=window.location.href.indexOf("__sak=disable")!==-1||window.location.href.indexOf("__sak=disable")!==-1,f={customerId:"yleisradiooy",customerConfig:s,debug:u,dnt:!1,consents:{tcStringV2:"",tcStringV1:"",storage:!0},disabled:c,plugins:a,revision:"663385d",publishDate:"2023-11-13T07:18:41.569Z",sessionId:i()};o.setAnonymousTrack=e},o.setConsee)},t.exports=f},{"./api":18,"./lib/rnd":39,"util-merge":17}],20:[function(e,t,n){"use strict";function r(e){var t=e[0];return!("function"!=typeof f[t]||!(f[t].executeBeforePlugins||l.indexOf(t)>-1))}function i(e){if("object"==typeof e)for(var t=0,n=e.length;t<n;t++)window.audienceProjectLayer.push(e[t])}function o(){for(var e=window.location.href.split(/[?&]/),t="__audienceProjectLayer=",n=0,r=e.length;n<r;n++)if(0===e[n].indexOf(t)){var o=e[n].slice(t.length);try{o=JSON.parse(decodeURIComponent(o))}catch(e){return void c.warn("Unable to parse audienceProjectLayer queue from location")}i(o)}}function s(){window.audienceProjectLayer.filter(r).forEach(h),window._urq.filter(r).forEach(h)}function a(){if(window.audienceProjectLayer.push===Array.prototype.push){var e=window.audienceProjectLayer.push;window.audienceProjectLayer.push=function(t){e.apply(window.audienceProjectLayer,arguments),h(t)},window.audienceProjectLayer.filter(function(e){return!r(e)}).forEach(h);var t=window._urq.push;window._urq.pe)},window._urq.file)}).forEach(h)}}var u=e("@apr/promise-polyfill"),c=e("./lib/log"),f=e("./api"),d=e("./config");window.audienceProjectLayer=window.audienceProjectLayer||[],window._urq=window._urq||[];var l=["setAnonymousTracking","setConsents"],p=["tryToInvite","inhibitInvitation","initSite","integrateWithGTM","suppressCookieSync","setPrivacyPolicyChecked","setCustomTranslation","setGDPR","setGDPRConsent","forwardAnonymousTracking","forwardConsents"],h=function(e){var t=e[0],n=Array.prototype.slice.call(e,1);"function"==typeof t?t.apply(null,n):"function"==typeof f[t]?f[t].apply(null,n):p.indexOf(t)!==-1||c.error("Unable to find command %s",t)};window.addEventListener("message",function(e){if(e.data&&e.data.indexOf&&0===e.data.indexOf("audienceProjectLayer$$$")){var t=e.data.split("$$$",3),n=t[1],r=t[2];r&&(r=JSON.parse(r)),window.audienceProjectLayer.push([n,r])}},!1),t.exports=function(e,t,n,r){c.info("Customer config:",t),c.info("SAK config:",n),t.iabcmp&&t.iabcmp.tcStringV2?d.consents.tcStringV2=t.iabcmp.tcStringV2:t.iabcmp&&t.iabcmp.tcStringV1&&(d.consents.tcStringV1=t.iabcmp.tcStringV1);var i={config:t,sakConfig:n,isSpider:r};n.sakObject.starting.fire(i),r&&(e=e.filter(function(e){return e.executeForSpiders})),o(),c.info("API queue:",window.audienceProjectLayer,window._urq),s();var f=e.})}),l=u.all(f);return n.sakObject.started.fire(i),a(),l}},{"./api":18,"./config":19,"./lib/log":34,"@apr/promise-polyfill":5}],21:[function(e,t,n){"use stri[]}r.prototype.subscribe=function(e,t){if(t)for(var n=0;n<this._firedEvents.length;n++)e.apply(null,this._firedEvents[n]);return this._callbacks.pushe)}.bind(this)},r.prototype.unsubscr1)},r.prototype.fire=function(){var e=Array.prototype.slice.call(arguments,0);this._firedEvents.push(e);for(var t=[],n=this._callbacks.slice(0),r=0,i=n.length;r<i;r++)try{n[r].apply(null,e)}catch(e){t.push(e)}if(0!==t.length){var o=t.e)}).join("\n\n");throw new Error("Errors while calling subscribers\n"+o)}},t.exports=r},{}],22:[function(e,t,n){"use strict";t.exports=function(e,t){t=t||{};var n=document.createElement("iframe");n.style.position="absolute",n.style.width="1px",n.style.height="1px",n.style.top="-1000px",n.style.left="-1000px",n.style.visibility="hidden",n.setAttribute("tabindex","-1"),n.setAttribute("title","Empty"),n.setAttribute("aria-hidden","true"),n.src=e,n.id=t.id,document.body.appendChild(n)}},{}],23:[function(e,t,n){"use strict";t.exports=function(e,t){t=t||{},"async"in t==!1&&(t.async=!0);var n=document.createElement("script");if(n.type="text/javascript",n.src=e,t.id){if(document.getElementById(t.id))return;n.id=t.id}n.async=t.async;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}},{}],24:[function(e,t,n){"use strict";function r(e,t){var n=document.createElement("a");n.href=e,e+=""===n.hash?"#":"&";var r=[];return i(t,function(e,t){var n=encodeURIComponent(t)+"="+encodeURIComponent(e);r.push(n)}),e+=r.join("&")}var i=e("for-own");t.exports=r},{"for-own":9}],25:[function(e,t,n){"use strict";var r=e("./merge"),i=e("./hash"),o={ttl:null,source:null};n.set=function(e,t,n){t=r(o,t);var s=Date.now(),a={at:s};t.ttl&&(a.exp=s+t.ttl),t.source&&(a.src=i(t.source)),a=r({},a,n);var u=JSON.stringify(a);try{window.localStorage.setItem(e,u)}catch(e){}},n.get=function(e,t){t=r(o,t||{});try{var s=window.localStorage.getItem(e);if(s){var a=JSON.parse(s),u=!a.exp||Date.now()<a.exp,c=null===t.source||i(t.source)===a.src;if(u&&c)return a}}catch(e){}return n.remove(e),null},n.rem{}}},{"./hash":31,"./merge":36}],26:[function(e,t,n){"use strict";var r=e("../../lib/location");t.exports=function(e,t){t||(t=r().hostname);for(var n=t.split(".").reverse(),i=e.split(".").reverse(),o=0;;o++){if(o>=n.length)return i.length===n.length||i.length-n.length===1&&"*"===i[i.length-1];if(o>=i.length){if("*"===i[i.length-1])continue;return!1}if("*"!==i[o]&&i[o].toLowerCase()!==n[o].toLowerCase())return!1}}},{"../../lib/location":33}],27:[function(e,t,n){"use strict";var r=e("../../lib/location");t.exports=function(e,t){if(t||(t=r().pathname),"/"===e)return"/"===t;e="/"+e.replace(/(^\/|\/$)/g,"");var n=t.slice(e.length*-1)===e,i=t.indexOf(e+"/")!==-1;return n||i}},{"../../lib/location":33}],28:[function(e,t,n){"use strict";var r=e("@apr/promise-polyfill"),i=e("../config");n.IDENTIFY=1,n.TARGET_ADS=3,n.TARGET_CONTENT=4,n.MEASURE=5,n.V2_USE_DEVICE=1,n.V2_CREATE_ADS_PROFILE=3,n.V2_SELECT_PERSONALIZED_CONTENT=6,n.V2_MEASURE_PERFORMANCE_CONTENT=8;var o={acqu0)},getForwardParams:function(){return r.resolve({})},getConsentD})},has!1}},s=o;n.ena=e},n.disa=o},n.acquire=function(e){return s.acquire(e)},n.getForwardParams=function(){return s.getForwardParams()},n.getConsentData=function(){return s.getConsentData()},n.has()};var a=function(e,t){this.toString=this.valu:e}};a.prototype=String.prototype,n.DNTSelect=a},{"../config":19,"@apr/promise-polyfill":5}],29:[function(e,t,n){"use striction f(e){var t=e.input,n=e.output,r=e.startPosition,i=e.field,u=i.type,f=i.numBits,d=i.decoder,p=i.validator,h=i.listCount;if("function"==typeof p&&!p(n))return{newPosition:r};if("function"==typeof d)return d(t,n,r);var g="function"==typeof f?f(n):f;switch(u){case"int":return{fieldValue:o(t,r,g)};case"bool":return{fieldValue:a(t,r)};case"date":return{fieldValue:s(t,r,g)};case"bits":return{fieldValue:t.substr(r,g)};case"list":return l(t,n,r,i,h);case"language":return{fieldValue:c(t,r,g)};default:throw new Error("ConsentString - Unknown field type "+u+" for decoding")}}function d(e){var t=e.input,n=e.fields,r=e.startPosition,i=void 0===r?0:r,o=i,s=n.red,e},{});return{decodedObject:s,newPosition:o}}function l(e,t,n,r,i){var o=0;"function"==typeof i?o=i(t):"number"==typeof i&&(o=i);for(var s=n,a=[],u=0;u<o;u+=1){var c=d({input:e,fields:r.fields,startPosition:s});s=c.newPosition,a.push(c.decodedObject)}return{fieldValue:a,newPosition:s}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=o(e,0,y);if("number"!=typeof n)throw new Error("ConsentString - Unknown version number in the string to decode");if(!v[n])throw new Error("ConsentString - Unsupported version "+n+" in the string to decode");var r=t[n].fields,i=d({input:e,fields:r}),s=i.decodedObject;return s}function h(e,t){for(var n=e;n.length%4!==0;)n+="=";n=n.replace(/-/g,"+").replace(/_/g,"/");for(var r=atob(n),o="",s=0;s<r.length;s+=1){var a=r.charCodeAt(s).toString(2);o+=i(a,8-a.length)}return p(o,t)}function g(e){return e.split("").reduce(function(e,t,n){return"1"===t&&e.indexOf(n+1)===-1&&e.push(n+1),e},[])}function m(e){var t=h(e),n=t.version,r=t.cmpId,i=t.vendorListVersion,o=t.purposeIdBitString,s=t.maxVendorId,a=t.created,u=t.lastUpdated,c=t.isRange,f=t.defaultConsent,d=t.vendorIdBitString,l=t.vendorRangeList,p=t.cmpVersion,m=t.consentScreen,y=t.consentLanguage,v={version:n,cmpId:r,vendorListVersion:i,allowedPurposeIds:g(o),maxVendorId:s,created:a,lastUpdated:u,cmpVersion:p,consentScreen:m,consentLanguage:y};if(c){var w=l.red e},{});v.allowedVendorIds=[];for(var b=1;b<=s;b+=1)(f&&!w[b]||!f&&w[b])&&v.allowedVendorIds.indexOf(b)===-1&&v.allowedVendorIds.push(b)}else v.allowedVendorIds=g(d);return v}var y=6,v={1:{version:1,metadataFields:["version","created","lastUpdated","cmpId","cmpVersion","consentScreen","vendorListVersion"],fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(e){return e.maxVendorId},validage}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(e){return e.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(e){return e.isRange}},{name:"vendorRangeList",type:"list",listCount:function(e){return e.numEntries},validator:function(e){return e.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validage}}]}]}};t.exports=m},{}],30:[function(e,t,n){"use strict";var r=e("./map-obj"),i=e("./replace"),o=e("./log");t.exports=function(e,t,n,s){t=t||{},n=n||{},(s||"undefined"==typeof s)&&(n=)]})),e=i(e,n);var a=[];for(var u in t)t.hasOwnProperty(u)&&t[u]&&a.push(encodeURIComponent(u)+"="+encodeURIComponent(t[u]));0!==a.length&&(e+=e.indexOf("?")===-1?"?":"&",e+=a.join("&")),o.info("Firing pixel %s",e),(new window.Image).src=e}},{"./log":34,"./map-obj":35,"./replace":38}],s)},{dup:2,siphash:14}],32:[function(e,t,n){"use strict";var r=[/bot/i,/spider/i,/facebookexternalhit/i,/simplepie/i,/yahooseeker/i,/embedly/i,/quora link preview/i,/outbrain/i,/vkshare/i,/monit/i,/Pingability/i,/Monitoring/i,/WinHttpRequest/i,/Apache-HttpClient/i,/getprismatic.com/i,/python-requests/i,/Twurly/i,/yandex/i,/browserproxy/i,/crawler/i,/Qwantify/i,/Yahoo! Slurp/i,/pinterest/i,/Tumblr\/14.0.835.186/i,/Tumblr Agent 14.0/i];t.expo})}},{}],33:[function(e,t,n){"use strict";function r(){var e=o||window.location.toString();if(e=e.replace(/\.demo\.audienceproject\.com\//,"/"),s.url===e)return s.parsed;var t=i(e);return s.url=e,s.parsed=t,t}var i=e("./parseUrl"),o=null,s={};t.exports=r,t.exports.onLocationChange=function(e){var t=r().pathname,n=setInterval(function(){var n=r().pathname;n!==t&&(t=n,e(n))},100);retn)}},t.exports.updateLocat=e},t.exports.parse=i},{"./parseUrl":37}],34:[function(e,t,n){"use strict";var r=e("./Event"),i=new r;t.exports.subscribe=i.subscribe.bind(i),t.exports.unsubscribe=i.unsubscribe.bind(i),t.exports.log=i.fire.bind(i,"log"),t.exports.info=i.fire.bind(i,"info"),t.exports.warn=i.fire.bind(i,"warn"),t.exports.error=i.fire.bind(i,"error")},{"./Event":21}],35:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=t(r[i],e[r[i]]);n[o[0]]=o[1]}return n}},{}],36:[function(e,t,n){"use strict";t.exports=function(){for(var e,t,n=Object.prototype.hasOwnProperty,r={},i=0,o=arguments.length;i<o;++i){t=arguments[i];for(e in t)n.call(t,e)&&(r[e]=t[e])}return r}},{}],37:[function(e,t,n){"use strict";function r(e){var t=0!==e.indexOf("/")&&e.indexOf("/")!==-1&&(e.indexOf(":")===-1||e.indexOf(":")>e.indexOf("/")),n=i.exec(t?"noscheme://"+e:e),r={scheme:t?"":n[2]||"",host:n[4]||"",hostname:n[4]?n[4].split(":")[0]:"",pathname:n[5]||"",search:n[7]||"",hash:n[9]||"",toStr e}};return r.origin=r.scheme+"://"+r.host,r}var i=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?");t.exports=r},{}],38:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e=e.split("{"+n+"}").join(String(t[n])));return e}},{}],39:[function(e,t,n){"use strict";t.exports=function(e){e=e||10;for(var t="";t.length<e;)t+=Math.random().toString(36).slice(2,3);return t}},{}],40:[function(e,t,n){"use strict";t.exports=function(){var e=Array.prototype,t=Object.keys&&Date.now&&e.forEach&&e.map&&e.filter&&e.indexOf&&e.some;return!!t}},{}],41:[function(e,t,n){"use strict";var r=e("@apr/promise-polyfill"),i=e("util-merge"),o=e("../"),s=e("../lib/log"),a=e("../lib/Event"),u=e("./log-to-console"),c=e("./check-browser"),f=e("../config"),d=e("../lib/isSpider.js");r._setUnhandledRejectionFn&&r._setUnhandledRejectionFn(s.error);try{if(f.debug&&u(),f.sakObject=window.__sak=i({},{customers:[],loaded:new a,starting:new a,started:new a},window.__sak||{}),s.info("Revision: %s; Publish date: %s; Customer: %s",f.revision,f.publishDate&&new Date(f.publishDate).toGMTString(),f.customerId),f.disabled)return void s.info("Disabled");if(c()===!1)return void s.info("Browser not supported");var l=d(window.navigator.userAgent);l&&s.warn("User agent is a bot-like, will be executed only plugins that declare that they can be called for bot-environments using `executeForSpiders = true`");var p=!!f.customerId&&f.sakObject.customers.indexOf(f.customerId)!==-1;if(f.sakObject.loaded.fire(f),p===!1){f.customerId&&f.sakObject.customers.push(f.customerId);var h=f.plugins.t)});o(h,f.customerConfig,f,l).catch(s.error)}}catch(e){s.error(e)}},{"../":20,"../config":19,"../lib/Event":21,"../lib/isSpider.js":32,"../lib/log":34,"./check-browser":40,"./log-to-console":42,"@apr/promise-polyfill":5,"util-merge":17}],42:[function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);"string"==typeof t[0]?t[0]="SAK :: "+t[0]:t.unshift("SAK:");try{console[e].apply(console,t)}catch(n){switch(t.length){case 1:console.log(e,t[0]);break;case 2:console.log(e,t[0],t[1]);break;case 3:console.log(e,t[0],t[1],t[2]);break;default:console.log(e,t)}}}var i=e("../lib/log");t.expor)}},{"../lib/log":34}],"plugin:iabcmp":[function(e,t,n){"use stripi}function i(){return!r()&&"function"==typeof window.__cmp}function o(e,t){return new l(function(n,r){window.__cmp(e,t,function(t,i){i?n(t):r(new Error("Error calling __cmp:"+e))})})}function s(e,t){return new l(function(n,r){window.__tcfapi("addEventListener",2,function(i,o){o?"tcloaded"!==i.eventStatus&&"useractioncomplete"!==i.eventStatus||(window.__tcfapi("removeEventListener",2,function(){},i.listenerId),window.__tcfapi(e,2,n,t)):r(new Error("Error calling __tcfapi:"+e))},t)})}function a(e,t){return new l(function(n){window.__tcfapi(e,2,function(r){"tcloaded"===r.eventStatus||"useractioncomplete"===r.eventStatus?n(r):s(e,t).then(n)},t)})}function u(){return m.consents.tcStringV2?l.resolve(y(m.consents.tcStringV2)):m.consents.tcStringV1?l.resolve({core:h(m.consents.tcStringV1)}):b===!0?o("getConsentData",null).t)}}):w===!0?a("getTCData",[v]).t{}}):l.resolve({})}function c(e){return E.then(function(){return m.consents.tcStringV2?l.resolve(y(m.consents.tcStringV2)).then(function(t){if(!t)return!1;if(t.core.vendorConsents[v]!==!0)return!1;for(var n=0;n<e[2].length;n++)if(t.core.purposeConsents[e[2][n]]!==!0)return!1;return!0}):m.consents.tcStringV1?l.resolve(h(m.consents.tcStringV1)).then(function(t){if(t.allowedVendorIds.indexOf(v)===-1)return!1;for(var n=0;n<e[1].length;n++)if(t.allowedPurposeIds.indexOf(e[1][n])===-1)return!1;return!0}):b===!0?o("getVendorConsents",[v]).then(function(t){if(t.gdprApplies!==!0)return!0;if("undefined"==typeof t.vendorConsents[v])return!0;if(t.vendorConsents[v]!==!0)return!1;for(var n=0;n<e[1].length;n++)if(t.purposeConsents[e[1][n]]!==!0)return!1;return!0}):w===!0?a("getTCData",[v]).then(function(t){return u().then(function(n){var r=n.core&&n.core.publisherRestrictions&&n.core.publisherRestrictions[String(v)];return r?r.every(function(t){return!e[2]||!e[2].includes(t.purpose)||t.isAllowed&&(!t.isConsentRequired||n.core&&n.core.vendorConsents&&n.core.vendorConsents[v])&&(!t.isLegitimateInterestRequired||n.core&&n.core.vendorLegitimateInterests&&n.core.vendorLegitimateInterests[v])})&&t:t})}).then(function(t){if(!t)return!1;if(t.gdprApplies!==!0)return!0;if(!t.vendor||!t.purpose)return!0;if(t.vendor.consents[v]!==!0)return!1;for(var n=0;n<e[2].length;n++)if(t.purpose.consents[e[2][n]]!==!0)return!1;return!0}):l.resolve(!0)})}function f(){return E.then(function(){return m.consents.tcStringV2?l.resolve({gdpr_consent:m.consents.tcStringV2,gdpr:"1"}):m.consents.tcStringV1?l.resolve({iab_consent:m.consents.tcStringV1,iab_gdpr:"1"}):b===!0?o("getConsentData",null).then(function(e){return{iab_consent:e.core&&e.core.consentData||"",iab_gdpr:e.core&&e.core.gdprApplies?"yes":"no"}}):w===!0?a("getTCData",[v]).then(function(e){return{gdpr_consent:e.tcString||"",gdpr:e.gdprApplies?"1":"0"}}):l.resolve({})})}var d,l=e("@apr/promise-polyfill"),p=e("../lib/consent"),h=e("../lib/decodeConsentString"),g=e("../lib/log"),m=e("../config"),y=e("tc-string-parse"),v=394,w=r(),b=i(),E=new l(function(e){d=e});p.enable({acquire:c,getForwardParams:f,getConsentData:u,hasTTL:r}),t.exports=function(e){if(m.consents.tcStringV2?g.info("Using custom TCF 2.0 string"):m.consents.tcStringV1?g.info("Using custom TCF 1.1 string"):w?g.info("Using TCF 2.0 API from page"):b?g.info("Using TCF 1.1 API from page"):g.info("No TCF API found on page"),m.debug&&!b&&!w)var t=setInterval(function(){(r()||i())&&(clearInterval(t),g.error("TCF API loaded after SAK script is initialized"))},1e3);d(e.config.iabcmp)},t.exports.executeForSpiders=!0},{"../config":19,"../lib/consent":28,"../lib/decodeConsentString":29,"../lib/log":34,"@apr/promise-polyfill":5,"tc-string-parse":16}],"plugin:tag-system":[function(e,t,n){"use strict";function r(e){var t=Number(new Date),n=e.lastAddedTime;return!n||t-n>e.renewInterval}var i=e("@apr/promise-polyfill"),o=e("../lib/add-frame"),s=e("../lib/cache"),a=e("../lib/consent"),u=e("../lib/log"),c=e("../lib/append-hash-params"),f=e("@apr/dsu"),d=e("querystring-es3/decode"),l=e("../config"),p="https://tag.userreport.com/server.html",h="userreport-tag-system",g="apr_tsys";t.exports=function(e){return!l.consents.storage||l.dnt?void u.info("Skip load tag system script due to storage consent"):void a.acquire({1:[a.IDENTIFY],2:[a.V2_USE_DEVICE]}).then(function(t){if(t===!1)return u.info("TCF consent for tag system is not acquired"),i.resolve();var n=e.config,m=s.get(g)||{},y=n["tag-system"],v=n["userreport-invitation-utils"]||{},w=y.suppressCookieSync||v.suppressCookieSync?"1":"-1";if(m.renewInterval=y.renewInterval||288e5,r(m)===!1)return u.info("Skip load tag system script"),i.resolve();var b=d(window.location.hash.slice(1)),E=String(Math.floor(1e6*Math.random())),I={instanceId:E,dsu:l.consents.storage&&!l.dnt&&(b.dsu||f.readOrCreateDsu(a.hasTTL()))||"",origin:b.back||window.location.href.replace(/\/$/,""),suppressCS:w};b.rid&&(I.deviceId=b.rid),a.hasTTL()&&(I.tcf=!0);
var _=c(p,I);return o(_,{id:h}),u.info("Add tag system script"),m.lastAddedTime=Number(new Date),s.set(g,{},m)})}},{"../config":19,"../lib/add-frame":22,"../lib/append-hash-params":24,"../lib/cache":25,"../lib/consent":28,"../lib/log":34,"@apr/dsu":1,"@apr/promise-polyfill":5,"querystring-es3/decode":13}],"plugin:userreport-ak":[function(e,t,n){"use strict";function r(){var e={};if(!m.consents.storage||m.dnt)return e;var t=/(?: |^)_usrp_lq=([^;]+)/.exec(document.cookie);t&&(e.lq_c=t[1]);var n=window.localStorage.getItem("_usrp_lq");return n&&(e.lq_ls=n),e}function i(){return f.getForwardParams().then(function(e){f.acquire({1:[f.IDENTIFY],2:[f.V2_USE_DEVICE]}).then(function(t){var n=t&&m.consents.storage&&!m.dnt?h.readOrCreateDsu(f.hasTTL()):"";l(y,a({t:s,d:v,rnd:p(),dsu:n,med:d().toString()},e,b,r())),E.forEach(function(t){l(y,a({t:t,d:v,rnd:p(),dsu:n,med:d().toString()},e,b,r()))})})})}var o,s,a=e("util-merge"),u=e("./userreport-core"),c=e("../lib/log"),f=e("../lib/consent"),d=e("../lib/location"),l=e("../lib/fire-pixel"),p=e("../lib/rnd"),h=e("@apr/dsu"),g=e("../api"),m=e("../config"),y=new f.DNTSelect("https://visitanalytics.userreport.com/hit","https://visitanalytics.dnt-userreport.com/hit"),v="",w={},b={},E=[];t.exports=function(e){var t=u.resolveCurrent(e),n=e.config["userreport-ak"].trackingConfig;if(e.isSpider&&(b={event:"bot"}),o=e.config["userreport-core"]&&e.config["userreport-core"].companyId,!t.mediaId)return o&&f.getForwardParams().then(function(e){f.acquire({1:[f.IDENTIFY],2:[f.V2_USE_DEVICE]}).then(function(t){var n=t&&m.consents.storage&&!m.dnt?h.readOrCreateDsu(f.hasTTL()):"";l(y,a({t:"USRur-core-nomedia",accountId:o,rnd:p(),dsu:n,med:d().toString()},e,b))})}),function(){};e.config["userreport-ak"].trackingConfig.forEach(function(e){"Section"===e.type&&e.mediaId===t.mediaId&&(w[e.sectionId]=e.trackingCode)});var r=n.filId}).map(function(e){return e.trackingCode});return E=n.filter(function(e){return"Section"===e.type&&e.mediaId===t.mediaId&&t.sectionIds.indexOf(e.sectionId)!==-1}).map(function(e){return e.trackingCode}),0===r.length?(c.info("No media tracking matching"),null):r.length>1?(c.error("More than one media TP matching",r),null):(s=r[0],i().then(function(){return d.onLocationCha()})}))},t.exports.executeForSpiders=!0,g.trackSectionPageView=function(e){if(!e)return void c.warn("Section ID is not passed");var t=w[e];return t?void f.getForwardParams().then(function(e){f.acquire({1:[f.IDENTIFY],2:[f.V2_USE_DEVICE]}).then(function(n){var i=n&&m.consents.storage&&!m.dnt?h.readOrCreateDsu(f.hasTTL()):"";l(y,a({t:t,d:v,rnd:p(),dsu:i,med:d().toString()},e,b,r()))})}):void c.warn("Section ID "+e+" does not belong to current media")},g.setMAID=function(e){v=e},g.trackPageview=function(e){var t=e||d().toString();f.getForwardParams().then(function(e){f.acquire({1:[f.IDENTIFY],2:[f.V2_USE_DEVICE]}).then(function(n){var i=n&&m.consents.storage&&!m.dnt?h.readOrCreateDsu(f.hasTTL()):"";s?l(y,a({t:s,d:v,rnd:p(),dsu:i,med:t},e,b,r())):l(y,a({t:"USRur-core-nomedia",accountId:o,rnd:p(),dsu:i,med:d().toString()},e,b))})})}},{"../api":18,"../config":19,"../lib/consent":28,"../lib/fire-pixel":30,"../lib/location":33,"../lib/log":34,"../lib/rnd":39,"./userreport-core":"plugin:userreport-core","@apr/dsu":1,"util-merge":17}],"plugin:userreport-core":[function(e,t,n){"use strict";function r(e){var t=v();return new RegExp(e).test(t.hostname+t.pathname)}function i(e,t){for(var n=window._urq||[],r=0;r<n.length;r++)if(n[r][0]===e&&n[r][1]===t)return!0;for(var i=window.audienceProjectLayer||[],o=0;o<i.length;o++)if(i[o][0]===e&&i[o][1]===t)return!0;return!1}function o(e){return!!i("setMediaId",e.id)&&(y.log("Media matched by _urq:",e.id),!0)}function s(e){return!!i("setSectionId",e.id)&&(y.log("Section matched by _urq:",e.id),!0)}function a(e,t){for(var n=window.document.getElementsByTagName("meta"),r=0;r<n.length;r++){var i=n[r].getAttribute("name"),o=n[r].getAttribute("value");if(i===e&&o===String(t))return!0}return!1}function u(e){return!!a("userreport:mediaId",e.id)&&(y.log("Media matched by meta:",e.id),!0)}function c(e){return!!a("userreport:sectionId",e.id)&&(y.log("Section matched by meta:",e.id),!0)}function f(e,t){if(!e.rules)return!1;for(var n=0;n<e.rules.length;n++){var r=e.rules[n],i=t[r.operation];if(i||y.error("Not supported rule",e.id,r.operation),i(r.pattern))return!0}return!1}function d(e){return!!f(e,A)&&(y.log("Media matched by rule:",e.id),!0)}function l(e){return!!f(e,k)&&(y.log("Section matched by rule:",e.id),!0)}function p(e){var t={companyId:null,mediaId:null,sectionIds:null},n=e.config["userreport-core"],r=n.networkLayout,i=r.filter(o);if(i.length||(i=r.filter(u)),i.length||(i=r.filter(d)),0===i.length)return y.error("Can’t resolve media"),t;if(i.length>1)return y.error("Resolved more than one media",i),t;var a=i[0],f=(a.sections||[]).fl(e)});return t.companyId=n.companyId,t.mediaId=a.id,t.sectionIds=f.map(function(e){return e.id}),x=t.mediaId,y.info("Resolved media:",t.mediaId),y.info("Resolved sections:",t.sectionIds),t}function h(e){var t=e&&e.lastUpdated;if(!t)return!1;t.getTime&&(t=t.getTime());var n=6e4;return(new Date).getTime()-t<n}function g(e){var t=function(t){var n=t.data;if(n===T){var r={config:{mediaId:e.mediaId}};t.source.postMessage(JSON.stringify(r),t.origin)}};window.addEventListener("message",t,!1)}var m=e("../lib/consent"),y=e("../lib/log"),v=e("../lib/location"),w=e("../api"),b=e("../lib/add-script-tag"),E=e("../lib/check/domain"),I=e("../lib/check/section"),_=e("util-merge"),S=e("../config"),C="https://cdn.userreport.com/userreport.js",x=null,A={DomainEquals:E,StartsWith:function(e){var t=v(),n=t.hostname+t.pathname;return e.indexOf("?")!==-1&&(n+="?"+t.search),e.indexOf("#")!==-1&&(n+="#"+t.hash),0===n.indexOf(e)},Contains:function(e){return v().toString().indexOf(e)!==-1},RegEx:r},k={Section:I,Contains:function(e){return v().toString().indexOf(e)!==-1},StartsWith:function(e){var t=v(),n=t.pathname;return e.indexOf("?")!==-1&&(n+="?"+t.search),e.indexOf("#")!==-1&&(n+="#"+t.hash),0===n.indexOf(e)},UrlEquals:function(e){var t=v(),n=v.parse(e);if(n.host&&n.host!==n.hostname&&t.host!==n.host)return!1;if(n.hostname&&t.hostname!==n.hostname)return!1;if(n.pathname){var r="/"===n.pathname.slice(-1)[0]?n.pathname.slice(0,-1):n.pathname,i="/"===t.pathname.slice(-1)[0]?t.pathname.slice(0,-1):t.pathname;if(r!==i)return!1}return(!n.search||t.search===n.search)&&(!n.hash||t.hash===n.hash)},RegExp:r,RegEx:r,PathEquals:function(e){return v().pathname===e}},T="getSiteConfig";t.exports=function(e){return m.acquire({1:[m.IDENTIFY],2:[m.V2_USE_DEVICE,m.V2_MEASURE_PERFORMANCE_CONTENT]}).then(function(t){if(t===!1)return y.info("TCF consent for core is not acquired"),null;if(window.location.href.indexOf("__urp=suppress")!==-1)try{y.info("Invitation suppressed forever"),window.localStorage.setItem("_usrp_lq","20300101")}catch(e){}window._urq=window._urq||[],m.getForwardParams().then(function(e){(e.gdpr||e.gdpr_consent)&&(window._urq.push(["setGDPR",e.gdpr?"1":"0"]),window._urq.push(["setGDPRConsent",e.gdpr_consent]))}),S.dnt&&window._urq.push(["forwardAnonymousTracking",S.dnt]),S.consents.storage||window._urq.push(["forwardConsents",S.consents]);var n=p(e);if(g(n),n.mediaId){m.getConsentData().then(function(e){e.core&&h(e.core)&&(window._urq.push(["inhibitInvitation",!0]),setTie"])},6e4))}),window._urq.push(["initSite",n.mediaId]),y.info("Initalizing UserReport for media:",n.mediaId);var r=e.config["userreport-invitation-utils"]&&e.config["userreport-invitation-utils"].optimizeScriptLoading===!0;r||b(C,{id:"userreport-script"})}else{var i=/__(bpn|urp)=test_invite/i.test(window.location.href);i&&alert("Unable to identify media, domain is not configured or dublicated Media created. ")}return null})},t.exports.resolveCurrent=p,t.exports.checkAdsDomain=function(e){var t=p(e);return!!t&&null!==t.mediaId},w.embedSurvey=function(e,t){if("string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e)throw new Error("Unable to find passed container");var n={ignoreLocalQuarantine:!1,mediaId:x,surveyUrl:"https://sak.userreport.com/_rt/vs/survey.html",onDoneCaln(){},customizations:{invitation:{headline:null,accept:null,decline:null},thankYou:{headline:null,close:null,powered:null},disabledQuestions:[]}};if(t=_({},n,t),!t.mediaId)throw new Error("Media is not defined. You need to pass mediaId in options or setup media matching rules");var r={};t.customizations.invitation&&(r.invitation={},t.customizations.invitation.headline&&(r.invitation.headline=t.customizations.invitation.headline),t.customizations.invitation.accept&&(r.invitation.accept=t.customizations.invitation.accept),t.customizations.invitation.decline&&(r.invitation.decline=t.customizations.invitation.decline)),t.customizations.thankYou&&(r.thankYou={},t.customizations.thankYou.headline&&(r.thankYou.headline=t.customizations.thankYou.headline),t.customizations.thankYou.close&&(r.thankYou.close=t.customizations.thankYou.close),t.customizations.thankYou.built&&(r.thankYou.built=t.customizations.thankYou.built)),t.customizations.disabledQuestions&&t.customizations.disabledQuestions.length>0&&(r.questionOverrides={},t.customizations.disabledQuestions.forEach(function(e){r.questionOverrides["q"+e]=null,23===e&&(r.questionOverrides.q100103=null,r.questionOverrides.q100104=null)}));var i=document.createElement("iframe");for(i.style.width="100%",i.style.height="100%",i.src=t.surveyUrl+"?mid="+t.mediaId+"#localization="+encodeURIComponent(JSON.stringify(r)),i.frameborder="no",i.style.border="none 0";e.firstChild;)e.removeChild(e.lastChild);e.appendChild(i),window.addEventListener("message",function(e){"userreport.surveyEnded"===e.data.name&&t.onDoneCallback&&t.onDoneCallback()})},w.setMediaId=function(){return null},w.setSectnull}},{"../api":18,"../config":19,"../lib/add-script-tag":23,"../lib/check/domain":26,"../lib/check/section":27,"../lib/consent":28,"../lib/location":33,"../lib/log":34,"util-merge":17}],"plugin:userreport-invitation-utils":[function(e,t,n){"use strict";function r(e){var t=e||new Date;return Number(t.toISOString().split("T")[0].split("-").join(""))}function i(e){return 0+e>r(new Date)}function o(e){var t=null,n=window.localStorage.getItem(I);if("string"==typeof n)try{t=JSON.parse(n)}catch(e){}if(null===t)h.info("Starting user tracking"),t={lastVisitTime:Date.now(),sessionsCount:1,sessionPageviewsCount:1,totalPageviewsCount:1};else{h.info("Last time visited at %s",new Date(t.lastVisitTime));var r=Date.now()-t.lastVisitTime>e;r?(t.sessionsCount+=1,t.sessionPageviewsCount=1,h.info("New session %d started",t.sessionsCount)):(t.sessionPageviewsCount+=1,h.info("Visited %d times in this session",t.sessionPageviewsCount)),t.totalPageviewsCount+=1,h.info("Visited %d times in total",t.totalPageviewsCount),t.lastVisitTime=Date.now()}try{return b.consents.storage&&!b.dnt&&window.localStorage.setItem(I,JSON.stringify(t)),t}catch(e){return null}}function s(e,t,n){var r=t.getBoundingClientRect(),i=!(r.top||r.right||r.bottom||r.left||r.width||r.height);if(i)return null;var o=window.getComputedStyle(t),a="hidden"===o.getPropertyValue("visibility");if(a)return null;if("fixed"===o.getPropertyValue("position")){var u=r.width*r.height;return u>=e?t:null}if(n>=_)return null;var c=t.children;if(c.length>S)return null;for(var f=0;f<c.length;f++){var d=s(e,c[f],n+1);if(null!==d)return d}return null}function a(e){var t=1e3*(e.timeout||30),n=e.areaPercentage||50;return new l(function(e){setTimeout(e,t)}).then(function(){for(var e=window.innerWidth*window.innerHeight,t=e*(n/100),r=document.body.children,i=0;i<r.length;i++){var o=s(t,r[i],0);if(null!==o)return o}return null})}function u(e){var t=window._urq=window._urq||[];t.unshift?t.unshift(e):h.warn("Userreport already started")}function c(e){var t=window._urq=window._urq||[];t.push(e)}function f(e){var t=e.config["userreport-invitation-utils"],n={};for(var r in t)"domainSpecific"!==r&&t.hasOwnProperty(r)&&(n[r]=t[r]);var i=g(),o=t.domainSpecific&&t.domainSpecific[i.hostname];if(o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s]);return n}function d(){P||(k&&T?(P=!0,p.acquire({1:[p.IDENTIFY],2:[p.V2_USE_DEVICE,p.V2_MEASURE_PERFORMANCE_CONTENT]}).then(function(e){return e===!1?(h.info("TCF consent for invitation utils is not acquired"),null):(window._urq=window._urq||[],p.getForwardParams().then(function(e){(e.gdpr||e.gdpr_consent)&&(window._urq.push(["setGDPR",e.gdpr?"1":"0"]),window._urq.push(["setGDPRConsent",e.gdpr_consent]))}),b.dnt&&window._urq.push(["forwardAnonymousTracking",b.dnt]),b.consents.storage||window._urq.push(["forwardConsents",b.consents]),y(C,{id:"userreport-script"}))})):h.info("UserReport script not loaded.",JSON.stringify({canBeInvited:k,mayBeInvited:T})))}var l=e("@apr/promise-polyfill"),p=e("../lib/consent"),h=e("../lib/log"),g=e("../lib/location"),m=e("../api"),y=e("../lib/add-script-tag"),v=e("../lib/fire-pixel"),w=e("@apr/dsu"),b=e("../config"),E=144e5,I="_usrp_tracker",_=4,S=10,C="https://cdn.userreport.com/userreport.js",x=new p.DNTSelect("https://visitanalytics.userreport.com/hit","https://visitanalytics.dnt-userreport.com/hit"),A="",k=!0,T=!0,P=!1,R=null;t.exports=function(e){R=e.sakConfig?e.sakConfig.customerId:null;var t=f(e);h.info("UserReport utils config:",t),t.integrateWithGTM===!0&&u(["integrateWithGTM",void 0,["SecondsOnPage"]]),t.suppressCookieSync&&u(["suppressCookieSync"]),t.requirePolicyAcceptance&&(h.info("Requiring policy acceptance"),u(["setPrivacyPolicyChecked",!1])),t.customTranslations&&(h.info("Applying custom translation"),Object.keys(t.customTranslations).forEach(function(e){var n=t.customTranslations[e];u(["setCustomTranslation",e,n])}));var n=function(){T=!1,h.info("Postponing invitation"),u(["inhibitInvitation",!0])},r=function(){T=!0,h.info("Trying to invite to UserReport"),c(["tryToInvite"]),d()};t.muteByDefault&&n();var s=t.sessionTimeout||E,l=t.inviteOnSession||1,p=t.inviteOnSessionPageview||1,g=1!==l||1!==p?o(s):null,m=null===g||g.sessionsCount>=l&&g.sessionPageviewsCount>=p;m===!1?n():t.popupDetection&&(n(),a(t.popupDetection).then(function(e){if(null!==e)h.info("Another popup element detected");else if(t.popupDetection.pushdownElement){var n=document.querySelector(t.popupDetection.pushdownElement);n?!function e(){window.scrollY>=n.clientHeight?(h.info("Pusdown element not on screen."),r()):(h.info("Pusdown element is still on screen"),setTimeout(e,1e3))}():(h.info("Pusdown element not found"),r())}else r()}));var y=window.localStorage.getItem("_usrp_lq");i(y)&&(h.info("User in LocalStorage local quarantine"),k=!1,A+="l");var v=/(?: |^)_usrp_lq=([^;]+)/.exec(document.cookie);if(v){var w=v[1];i(w)&&(h.info("User in Cookie local quarantine"),k=!1,A+="c")}b.consents.storage&&!b.dnt||(k=!1),window.location.href.indexOf("__urp=test_invite")!==-1&&(k=!0,T=!0),d()},m.attemptToInvite=function(e){T=!0,h.info("[API] attemptToInvite"),c(["tryToInvite",e]),d();var t=b.consents.storage&&!b.dnt?w.readOrCreateDsu(p.hasTTL()):"",n="USR"+R+"-invattempt-"+(k?"y":"n");v(x,{t:n,dsu:t,med:g().toString(),canBeInvited:k,qi:A})}},{"../api":18,"../config":19,"../lib/add-script-tag":23,"../lib/consent":28,"../lib/fire-pixel":30,"../lib/location":33,"../lib/log":34,"@apr/dsu":1,"@apr/promise-polyfill":5}]},{},[41])}();