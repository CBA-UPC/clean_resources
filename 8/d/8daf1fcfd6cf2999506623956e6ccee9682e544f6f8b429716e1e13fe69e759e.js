(self.webpackChunkcircuit_react=self.webpackChunkcircuit_react||[]).push([[143],{57620:(B,d,e)=>{"use strict";e.d(d,{Z:()=>y});var t=e(86706),l=e(97779),s=e(96996),n=e(67294),o=e(97555),p=e(14309);class T extends n.Component{createTheme(){const{color:S}=this.props;return(0,p.Z)({palette:{primary:{main:S,contrastText:"#525252"},secondary:{main:"#FFFFFF",light:"#FFFFFF",dark:"#FFFFFF",contrastText:"#525252"},text:{secondary:"#FFFFFF"}},breakpoints:{values:{xs:0,sm:641,md:801,lg:1280,xl:1920}},typography:{fontFamily:["Muli","sans-serif"].join(","),useNextVariants:!0},props:{MuiIconButton:{disableRipple:!0},MuiMenuItem:{disableRipple:!0}},overrides:{MuiButtonBase:{root:{"&$focusVisible":{boxShadow:"none"}}},MuiTouchRipple:{child:{backgroundColor:"#CCC"}},MuiTooltip:{popper:{opacity:1}},MuiTypography:{subtitle1:{color:"inherit",fontWeight:"inherit",textTransform:"capitalize"},body1:{fontFamily:"Muli, sans-serif"}},MuiInputLabel:{root:{color:"#515252"}},MuiPickersToolbarText:{toolbarTxt:{color:"#fafafa"},toolbarBtnSelected:{color:"#fff"}},MuiPickersBasePicker:{pickerView:{maxWidth:"500px"}},MuiPickersDay:{daySelected:{color:"#fff"}},MuiPickersMonthSelection:{container:{width:"auto"}},MuiFormHelperText:{root:{color:"#515252"}},MuiImageListItem:{item:{overflow:"unset"}},MuiAutocomplete:{option:{paddingLeft:"0.75rem !important"}}}})}render(){const{children:S}=this.props,P=this.createTheme();return n.createElement(o.Z,{theme:P},S)}}const m=g=O=>({color:(0,s.brandSelector)(O)?(0,s.brandSelector)(O).color:"#000000"}),y=(0,t.$j)(g,m)(T)},97279:(B,d,e)=>{"use strict";e.d(d,{m:()=>s});var t=e(67294),l=e(21318);class s extends t.Component{ender(){const{error:o}=this.props;return o===null?null:t.createElement("div",{className:"error"},t.createElement("h1",null,o.title),o.explanation&&t.createElement("p",null,o.explanation),t.createElement("p",{className:"error__message"},o.status&&t.createElement("span",null,o.status," - "),o.message&&t.createElement("span",null,o.message)),o.linkMessage&&o.link&&t.createElement("p",null,o.linkMessage," ",t.createElement("a",{href:o.link},o.linkText?o.linkText:"link")))}}},50886:(B,d,e)=>{"use strict";e.d(d,{kT:()=>s,pC:()=>t,vQ:()=>l});const t=(n,o,p)=>{let T;if(p){const m=new Date;m.setTime(m.getTime()+p*24*60*60*1e3),T=`; expires=${m.toUTCString()}`}else T="";document.cookie=`${n}=${o}${T}; path=/`},l=n=>{const o=`${n}=`,p=document.cookie.split(";");for(let T=0;T<p.length;T++){let m=p[T];for(;m.charAt(0)===" ";)m=m.substring(1,m.length);if(m.indexOf(o)===0)return m.substring(o.length,m.length)}return null},s=,66730:()=>{},2612:78023:(B,d,e)=>{"use strict";e.d(d,{jj:()=>s.Error,OP:()=>l,uj:()=>t.u});var t=e(2612),l=((l||{}),s=e(66730)},29791:(B,d,e)=>{"use strict";e.d(d,{c:()=>s,D:()=>n});var t=e(67294);const s=()=>{const[o,p]=(0,t.useState)(document.activeElement),T=return(0,t.useEffect)([]),o};,92689:(B,d,e)=>{"use strict";var t=e(67294),l=e(73935),s=e(76595),n=e(86706),o=e(19483),p=e(53610),T=e(79655),m=e(27374),g=e(30155),y=e(97779),O=e(10493),S=e(87020),P=e(56878),L=e(96996),u=e(21318),A=e(89250),H=e(3994),C=e.n(H);/*! npm.im/supports-webp 2.0.1 */const F=new Promise(W=>{const te=new Image;te.onerror=te.onload=()=>W(te.width===1),te.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="}).catch(;var U=e(15575),D=e(2876),x=e(49089),Z=e(29791),X=e(57620),ne=e(97279),ee=e(78023);const J=(0,t.lazy)(,se=(0,t.lazy)(,q=(0,t.lazy)(,V=(0,t.lazy)(,{trackPageview:G}=(0,D.Z)({apiHost:"https://p.circuitcdn.com",domain:`${window.location.hostname},all.circuit`}),K=({setError:W,setSupportsWebP:te,updateSiteNameAndLngAndVersionHash:ue,error:ge,brand:Le})=>{const[Fe,Ue]=(0,t.useState)(Math.max(document.documentElement.clientHeight,window.innerHeight||0)),[Ie,De]=(0,t.useState)(!1),ve=(0,A.TH)(),Se=(0,t.useRef)(!1),Ne=(0,t.useRef)([]),Re=(0,Z.D)(ve),Ce=(0,Z.D)(Le),ye=()=>Math.max(document.documentElement.clientHeight,window.innerHeight||0),Ve=(0,t.useCallback)(()=>{const Ae=navigator.userAgent;let ce="",a=Ae.indexOf("Safari");const I=Ae.indexOf("Macintosh"),N=a!==-1&&I!==-1;let R=ce.indexOf(";");return N&&(ce=Ae.substring(a+7),Ae.indexOf("Version")!==-1&&(a=Ae.indexOf("Version"),ce=Ae.substring(a+8))),R!==-1&&(ce=ce.substring(0,R)),ce.indexOf(" ")!==-1&&(R=ce.indexOf(" "),ce=ce.substring(0,R)),N&&ce==="15.0"},[]);(0,t.useEffect)(()=>{Se.current=!0,window.addEventListener("resize",()=>{if(Se.current){const ce=document.getElementById("height-adjust");ce.style.height=`${ye()}px`}}),C()()||W({title:"WebGL could't be found",explanation:"You may be able to view the experience with a different browser, or you may have hardware limitations."}),Ve()&&W({title:"Unsupported browser",explanation:"Please upgrade to the latest version of Safari, or try a different web browser."}),F.then(,(0,m.HE)(window.location.hostname).then(.catch(ce=>{throw De(!0),new ee.jj("sitename ERROR!")})},[]),(0,t.useEffect)(()=>{!Ce&&Le&&Le.client_google_analytics&&(Ne.current=["clientTracker"])},[Le]),(0,t.useEffect)(()=>{Re&&Re!==ve&&!ve.state&&setTimeout(()=>{U.ZP.pageview(ve.pathname,Ne.current),x.ZP.send({hitType:"pageview",page:ve.pathname}),G()},1e3)},[ve]);const Me=(0,t.useMemo)([]);return Ie&&t.createElement(X.Z,null,t.createElement("div",{style:{height:Fe},id:"height-adjust"},(()=>Me&&ge==null?t.createElement("div",{className:"body"},t.createElement(t.Suspense,{fallback:t.createElement("div",{className:"circuit-loader"},t.createElement("div",{className:"circuit-loader__one"}),t.createElement("div",{className:"circuit-loader__two"}))},t.createElement(A.Z5,null,t.createElement(A.AW,{path:"/",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName/home",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName/home/:groupOneName",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName/home/:groupOneName/:tourName",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName/home/:groupOneName/:groupTwoName/",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName/home/:groupOneName/:groupTwoName/:tourName",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName/home/:groupOneName/:groupTwoName/:groupThreeName",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName/home/:groupOneName/:groupTwoName/:groupThreeName/:tourName",element:t.createElement(J,null)}),t.createElement(A.AW,{path:"/:siteName/map/:tabName/*",element:t.createElement(V,null)}),t.createElement(A.AW,{path:"/:siteName/map",element:t.createElement(V,null)}),t.createElement(A.AW,{path:"/:siteName/scene/:sceneSlug",element:t.createElement(se,null)}),t.createElement(A.AW,{path:"/:siteName/scene/:sceneSlug/:hotspot",element:t.createElement(se,null)}),t.createElement(A.AW,{path:"/:siteName/:tourSlug",element:t.createElement(q,null)}),t.createElement(A.AW,{path:"/:siteName/:tourSlug/:sceneSlug/",element:t.createElement(q,null)}),t.createElement(A.AW,{path:"/:siteName/:tourSlug/:sceneSlug/:hotspot",element:t.createElement(q,null)})))):(u.Tb(ge),t.createElement(ne.m,{error:ge})))()))},{setError:v}=O.errorActions,{setSupportsWebP:c}=S.supportsWebPActions,{updateSiteNameAndLngAndVersionHash:r}=P.tenantActions,i=W=>(0,y.DE)({setError:v,setSupportsWebP:c,updateSiteNameAndLngAndVersionHash:r},W),E=W=>({error:W.error,tenant:W.tenant,brand:(0,L.brandSelector)(W)}),h=(0,n.$j)(E,i)(K);window.Promise||(window.Promise=s.Z),(0,m.HE)(window.location.hostname).then(W=>{if(W){const{schema_name:te}=W;o.S({dsn:"https://799a6f7e9c35475b8fbd076baec7e616@sentry.io/1423532",environment:"production",initialScope:{tags:{tenant:te||"no tenant"}},integrations:[new p.I],release:`circuit-production@${{NODE_ENV:"production"}.BITBUCKET_BUILD_NUMBER}`})}}),window.release=`Release circuit-production@${{NODE_ENV:"production"}.BITBUCKET_BUILD_NUMBER}`;const $=window.___INITIAL_STATE__,z=(0,g.MT)($),Y=document.getElementById("root");(W=>{l.render(t.createElement(n.zt,{store:z},t.createElement(T.VK,null,t.createElement(W,null))),Y)})(h)},17387:(B,d,e)=>{"use strict";e.d(d,{Nw:()=>n,TI:()=>l,oe:()=>s});var t=e(90291);const l="GET_BRANDING",s="GET_BRANDING_FULFILLED",n={getBranding:()=>(0,t.P)(l),getBrandingFulfilled:o=>(0,t.P)(s,o)}},5837:(B,d,e)=>{"use strict";e.r(d),e.d(d,{CtaActions:()=>t.Actions,ctaActions:()=>o,ctaReducer:()=>m});var t={};e.r(t),e.d(t,{v:()=>n,N:()=>o});var l=e(18172),s=e(90291);const n="UPDATE_CTA_MENU_OPEN_STATE",o={updateCtaMenuOpenState:g=>(0,s.P)(n,g)},p={isCtaOpened:!1},m=(g=p,y)=>(0,l.ZP)(g,O=>{switch(y.type){case n:O.isCtaOpened=y.payload;break;default:break}})},16621:(B,d,e)=>{"use strict";e.r(d),e.d(d,{CtasViewedActions:()=>t.Actions,ctasViewedActions:()=>o,ctasViewedReducer:()=>m});var t={};e.r(t),e.d(t,{Z:()=>n,N:()=>o});var l=e(18172),s=e(90291);const n="CTA_VIEWED",o={setCtaViewed:g=>(0,s.P)(n,g)},p=!1,m=(g=[],y)=>(0,l.ZP)(g,O=>{switch(y.type){case n:O.push(y.payload);break;default:break}})},49197:(B,d,e)=>{"use strict";e.r(d),e.d(d,{DetailsMenuActions:()=>t.Actions,detailsMenuActions:()=>n,detailsMenuReducer:()=>p});var t={};e.r(t),e.d(t,{i:()=>s,N:()=>n});var l=e(90291);const s="SET_DETAILS_MENU_TOUR",n={setDetailsMenuTour:T=>(0,l.P)(s,T)},p=(T=null,m)=>{switch(m.type){case s:return m.payload;default:return T}}},83908:(B,d,e)=>{"use strict";e.d(d,{lJ:()=>o,Ox:()=>m});var t=e(18172),l=e(90291);const s="TOGGLE_DEVICE_MOTION",n="CLOSE_GUIDE_CARD",o={toggleDeviceMotion:()=>(0,l.P)(s)},p={isDeviceMotionOn:!1},m=(g=p,y)=>(0,t.ZP)(g,O=>{switch(y.type){case s:O.isDeviceMotionOn=!g.isDeviceMotionOn;break;default:break}})},57295:(B,d,e)=>{"use strict";e.d(d,{G:()=>l,N:()=>s});var t=e(90291);const l="SET_ERROR",s={setError:n=>(0,t.P)(l,n)}},10493:(B,d,e)=>{"use strict";e.r(d),e.d(d,{ErrorActions:()=>t.Actions,errorActions:()=>t.N,errorReducer:()=>s});var t=e(57295);const s=(n=null,o)=>{switch(o.type){case t.G:return o.payload;default:return n}}},87477:(B,d,e)=>{"use strict";e.r(d),e.d(d,{FinishedTourActions:()=>t.Actions,finishedTourActions:()=>m,finishedTourReducer:()=>S});var t={};e.r(t),e.d(t,{po:()=>T,tx:()=>p,zY:()=>o,Nw:()=>m});var l=e(18172),s=e(97779),n=e(90291);const o="SET_TOUR_PROGRESSION_MODE",p="SET_FINISHED_TOUR_OPEN_STATE",T="SET_FINISHED_TOUR_DISMISSED_STATE",m={setFinishedTourOpenState:P=>(0,n.P)(p,P),setTourProgressionMode:P=>(0,n.P)(o,P),setFinishedTourDismissedState:P=>(0,n.P)(T,P)},g=(P=!1,L)=>{switch(L.type){case p:return L.payload;default:return P}},y=(P=!1,L)=>{switch(L.type){case T:return L.payload;default:return P}},O=(P="sequential",L)=>(0,l.ZP)(P,u=>{switch(L.type){case o:return u=L.payload,u;default:return P}}),S=(0,s.UY)({isFinishedTourShow:g,tourProgressionMode:O,hasFinishedTourBeenDismissed:y})},64864:(B,d,e)=>{"use strict";e.d(d,{LW:()=>m,Jn:()=>O});var t=e(18172),l=e(90291);const s="TOGGLE_GUIDE_AUDIO",n="UPDATE_AUDIO_FINISHED_STATUS",o="UPDATE_AUDIO_OVERLAY_STATUS_IN_TOUR_LEVEL",p="UPDATE_PREFERRED_AUDIO_STATUS",T="UPDATE_IS_AUDIO_PLAYING_TEM",m={toggleGuideAudio:()=>(0,l.P)(s),updateAudioFinishedStatus:S=>(0,l.P)(n,S),updatePreferredAudioStatus:S=>(0,l.P)(p,S),updateIsAudioPlayingTem:S=>(0,l.P)(T,S)},g={isGuideAudioOn:!1,isAudioFinished:!1,preferredAudioStatus:"off",isAudioPlayingTem:!1},O=(S=g,P)=>(0,t.ZP)(S,L=>{switch(P.type){case s:L.isGuideAudioOn=!S.isGuideAudioOn;break;case n:L.isAudioFinished=P.payload;break;case p:L.preferredAudioStatus=P.payload;break;case T:L.isAudioPlayingTem=P.payload;break;default:break}})},32458:(B,d,e)=>{"use strict";e.r(d),e.d(d,{GuideCardActions:()=>t.Actions,guideCardActions:()=>p,guideCardReducer:()=>g});var t={};e.r(t),e.d(t,{yP:()=>o,Cf:()=>n,Nw:()=>p});var l=e(18172),s=e(90291);const n="OPEN_GUIDE_CARD",o="CLOSE_GUIDE_CARD",p={openGuideCard:()=>(0,s.P)(n),closeGuideCard:()=>(0,s.P)(o)},T={isOpen:!0},g=(y=T,O)=>(0,l.ZP)(y,S=>{switch(O.type){case n:S.isOpen=!0;break;case o:S.isOpen=!1;break;default:break}})},29309:(B,d,e)=>{"use strict";e.r(d),e.d(d,{HomepageActions:()=>t.Actions,homepageActions:()=>g,homepageEpics:()=>U,homepageReducer:()=>S});var t={};e.r(t),e.d(t,{sY:()=>n,$W:()=>o,q3:()=>p,w1:()=>T,zZ:()=>m,Nw:()=>g});var l=e(18172),s=e(90291);const n="ACTIVE_HOMEPAGE_VIDEO",o="GET_TOUR_HOME_PAGE_DATA",p="GET_TOUR_HOME_PAGE_DATA_FULFILLED",T="UPDATE_HOMEPAGE_ANIMATION_STATUS",m="UPDATE_PAUSE_VIDEO",g={updatePauseVideo:D=>(0,s.P)(m,D),updateActiveHomepageVideo:D=>(0,s.P)(n,D),getTourHomepageData:()=>(0,s.P)(o),getTourHomepageDataFulfilled:D=>(0,s.P)(p,D),updateHomepageAnimationStatus:D=>(0,s.P)(T,D)},y={pauseVideo:!1,activeHomepageVideo:{code:"",thumbnail:"",title:"",url:""},tourHomepage:{videos_text:"",videos:[{type:"",value:{video:{code:"",thumbnail:"",title:"",url:""}},id:""}],video_auto:!0},animationStatus:{shouldAnimationsStart:!1,cards:"",banner:"",sidebar:"",sidebarPageAnimationStatus:{}}},S=(D=y,x)=>(0,l.ZP)(D,Z=>{switch(x.type){case m:Z.pauseVideo=x.payload;break;case n:Z.activeHomepageVideo=x.payload;break;case p:const{videos_text:X,videos:ne,video_auto:ee}=x.payload;Z.tourHomepage={videos_text:X,videos:ne,video_auto:ee};break;case T:Z.animationStatus=x.payload;break;default:break}});var P=e(35309),L=e(57474),u=e(47746),A=e(55709),H=e(2909),C=e(7685),M=(D,x,Z)=>new Promise((X,ne)=>{var ee=q=>{try{se(Z.next(q))}catch(V){ne(V)}},J=q=>{try{se(Z.throw(q))}catch(V){ne(V)}},se=q=>q.done?X(q.value):Promise.resolve(q.value).then(ee,J);se((Z=Z.apply(D,x)).next())});const F=(D,x)=>D.pipe((0,P.l)(o),(0,u.VS)(Z=>new Promise((X,ne)=>M(void 0,null,function*(){const{site:ee,language:J,tenant:{version_hash:se}}=x.value,q=`${(0,C.Uk)(ee)}pages/`,V=yield H.Z.get(q,{headers:{"accept-language":J.currentLanguage.language},params:{v:se,fields:"*",type:"tour.TourHomePage",limit:100}}),{videos_text:G,videos:w,video_auto:K}=V.data.items[0];X({videos_text:G,videos:w,video_auto:K})}))),(0,A.U)(Z=>g.getTourHomepageDataFulfilled(Z))),U=(0,L.l)(F)},53838:(B,d,e)=>{"use strict";e.d(d,{DZ:()=>u,ED:()=>H,ND:()=>A,ZP:()=>L});var t=Object.defineProperty,l=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,T=(C,M,F)=>M in C?t(C,M,{enumerable:!0,configurable:!0,writable:!0,value:F}):C[M]=F,m=(C,M)=>{for(var F in M||(M={}))o.call(M,F)&&T(C,F,M[F]);if(n)for(var F of n(M))p.call(M,F)&&T(C,F,M[F]);return C},g=(C,M)=>l(C,s(M));const y=[],O="ADD_HOTSPOTS",S="CLEAR",P={};function L(C=y,M){switch(M.type){case S:return y;case O:return[...C,...M.payload];default:return C}}function u(C,M){P[M]&&P[M].length>0&&P[M].forEach(}function A(C){return M=>{const F=C.hotspots&&C.hotspots.filter(U=>!(U.x==="0.00"&&U.y==="0.00"&&U.z==="0.00")).map(;if(!P[C.id])P[C.id]=F;else{const U=[];P[C.id].forEach(D=>{D.isViewed===!0&&U.push(D.id)}),F.forEach(D=>{U.indexOf(D.id)>-1&&(D.isViewed=!0)})}return M({type:O,payload:F}),F}},73681:(B,d,e)=>{"use strict";e.d(d,{Nb:()=>m,Nw:()=>O,SS:()=>s,Sl:()=>p,Zl:()=>g,aw:()=>n,h$:()=>l,kO:()=>o,oz:()=>y,v6:()=>T});var t=e(90291);const l="LOAD_LABELS",s="SET_LABELS",n="SET_LABEL_ACTIVE_STATE",o="UPDATE_SELECTED_LABELS_LIST",p="UPDATE_SELECTED_LABELS_LIST_IN_CURRENT_TOUR",T="CLEAR_SELECTED_LABELS_LIST_IN_CURRENT_TOUR",m="SET_LABELS_PANEL_OPEN_STATE",g="SET_ALL_TAB_LABELS_PANEL_OPEN_STATE",y="SET_LABELS_PANEL_BUTTON_SHOW_STATE",O={loadLabels:()=>(0,t.P)(l),setLabels:S=>(0,t.P)(s,S),setLabelActiveState:S=>(0,t.P)(n,S),setLabelsPanelOpenState:S=>(0,t.P)(m,S),setAllTabLabelsPanelOpenState:S=>(0,t.P)(g,S),updateSelectedLabelsList:S=>(0,t.P)(o,S),updateSelectedLabelsListInCurrentTour:S=>(0,t.P)(p,S),clearSelectedLabelsListInCurrentTour:()=>(0,t.P)(T),setLabelsPanelButtonShowState:S=>(0,t.P)(y,S)}},73188:(B,d,e)=>{"use strict";e.r(d),e.d(d,{LabelActions:()=>s.Actions,labelActions:()=>s.Nw,labelEpic:()=>v,labelReducer:()=>F});var t=e(18172),l=e(97779),s=e(73681),n=Object.defineProperty,o=Object.defineProperties,p=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(c,r,i)=>r in c?n(c,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[r]=i,O=(c,r)=>{for(var i in r||(r={}))m.call(r,i)&&y(c,i,r[i]);if(T)for(var i of T(r))g.call(r,i)&&y(c,i,r[i]);return c},S=const P={},L=(c=P,r)=>{switch(r.type){case s.SS:return r.payload;case s.aw:return(0,t.ZP)(c,i=>{const{labelId:E,selected:f}=r.payload,h=i[E],$=S(O({},h),{selected:f});i[E]=$});default:return c}},u=[],A=(c=u,r)=>{switch(r.type){case s.kO:return(0,t.ZP)(c,i=>{const E=r.payload;if(E&&E.selected)i.push(E);else{const f=i.findIndex(h=>h.id===E.id);i.splice(f,1)}});default:return c}},H=(c=u,r)=>{switch(r.type){case s.Sl:return(0,t.ZP)(c,i=>{const E=r.payload;if(E&&E.selected)i.push(E);else{const f=i.findIndex(h=>h.id===E.id);i.splice(f,1)}});case s.v6:return[];default:return c}},C={isLabelsPanelOpen:!1,isLabelsPanelButtonShow:!0,isAllTabLabelsPanelOpen:!1},M=(c=C,r)=>(0,t.ZP)(c,i=>{switch(r.type){case s.Nb:i.isLabelsPanelOpen=r.payload;break;case s.oz:i.isLabelsPanelButtonShow=r.payload;break;case s.Zl:i.isAllTabLabelsPanelOpen=r.payload;break;default:break}}),F=(0,l.UY)({Labels:L,selectedLabels:A,selectedLabelsInCurrentTour:H,labelsPanel:M});var U=e(35309),D=e(57474),x=e(47746),Z=e(55709),X=e(2909),ne=e(7685),ee=Object.defineProperty,J=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,V=(c,r,i)=>r in c?ee(c,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[r]=i,G=(c,r)=>{for(var i in r||(r={}))se.call(r,i)&&V(c,i,r[i]);if(J)for(var i of J(r))q.call(r,i)&&V(c,i,r[i]);return c},w=(c,r,i)=>new Promise((E,f)=>{var h=Y=>{try{z(i.next(Y))}catch(k){f(k)}},$=Y=>{try{z(i.throw(Y))}catch(k){f(k)}},z=Y=>Y.done?E(Y.value):Promise.resolve(Y.value).then(h,$);z((i=i.apply(c,r)).next())});const K=(c,r)=>c.pipe((0,U.l)(s.h$),(0,x.VS)(i=>new Promise((E,f)=>w(void 0,null,function*(){const{language:h,site:$,tenant:{version_hash:z}}=r.value;try{const Y=yield X.Z.get(`${(0,ne.Uk)($)}labels/`,{params:{v:z,format:"json"},headers:{"accept-language":h.currentLanguage.language}});E(Y.data.items)}catch(Y){f(Y)}}))),(0,Z.U)(i=>i.map(f=>G({selected:!1},f)).reduce((f,h)=>(f[h.id]=h,h.children.map($=>G({selected:!1,children:[],depth:0},$)).forEach(,f),{})),(0,Z.U)(i=>s.Nw.setLabels(i))),v=(0,D.l)(K)},17359:(B,d,e)=>{"use strict";e.r(d),e.d(d,{LanguageActions:()=>t.Actions,languageActions:()=>O,languageEpic:()=>i,languageReducer:()=>u});var t={};e.r(t),e.d(t,{s3:()=>o,jF:()=>m,AF:()=>n,JV:()=>p,iw:()=>T,Xi:()=>g,Nw:()=>O});var l=e(97779),s=e(90291);const n="SET_LANGUAGE",o="CHANGE_LANGUAGE",p="SET_LANGUAGE_INTERNAL",T="SET_LANGUAGE_INTERNAL_FULFILLED",m="FETCH_TENANT_LANGUAGES",g="SET_TENANT_LANGUAGES",y="SET_LANGUAGE_DIRECTION",O={fetchTenantLanguages:()=>(0,s.P)(m),setTenantLanguages:E=>(0,s.P)(g,E),setLanguage:E=>(0,s.P)(n,E),changeLanguage:E=>(0,s.P)(o,E),setLanguageInternal:E=>(0,s.P)(p,E),setLanguageInternalFulfilled:()=>(0,s.P)(T),setLanguageDirection:E=>(0,s.P)(y,E)},S=(E={language:"en",name:"English",name_local:"English",bidi:!1},f)=>{switch(f.type){case p:return f.payload;default:return E}},P=(E=!1,f)=>{switch(f.type){case T:return!0;default:return E}},L=(E=[{language:"en",name:"English",name_local:"English",bidi:!1}],f)=>{switch(f.type){case g:return f.payload;default:return E}},u=(0,l.UY)({currentLanguage:S,isCurrentLanguageUpdated:P,languages:L});var A=e(35309),H=e(57474),C=e(47746),M=e(78001),F=e(65538),U=e(57357),D=e.n(U),x=e(68718),Z=e(2909),X=e(828),ne=e(39476),ee=e(83335),J=e(17387),se=e(73681),q=e(29212),V=(E,f,h)=>new Promise(($,z)=>{var Y=te=>{try{W(h.next(te))}catch(ue){z(ue)}},k=te=>{try{W(h.throw(te))}catch(ue){z(ue)}},W=te=>te.done?$(te.value):Promise.resolve(te.value).then(Y,k);W((h=h.apply(E,f)).next())});const G=new(D()),w=(E,f)=>E.pipe((0,A.l)(n),(0,C.VS)(h=>new Promise(($,z)=>V(void 0,null,function*(){if(f.value.language.currentLanguage===h.payload){$(null);return}try{h.payload&&M.Z.changeLanguage(h.payload.language,()=>{$(h.payload)})}catch(W){z(W)}}))),(0,C.VS)(h=>h?[O.setLanguageInternal(h),O.setLanguageInternalFulfilled(),ee.Nw.getTourGroupPages(),J.Nw.getBranding(),se.Nw.loadLabels(),q.Nw.loadAllScenes()]:[])),K=(E,f)=>E.pipe((0,A.l)(o),(0,C.VS)(h=>new Promise(($,z)=>V(void 0,null,function*(){if(f.value.language.currentLanguage===h.payload){$(null);return}try{h.payload&&M.Z.changeLanguage(h.payload.language,}catch(W){z(W)}}))),(0,C.VS)(h=>{var $,z,Y,k;const W=(Y=(z=($=f==null?void 0:f.value)==null?void 0:$.branding)==null?void 0:z.maps_settings)==null?void 0:Y.places,te=(k=f==null?void 0:f.value)==null?void 0:k.map.isStandaloneMapMode,ue=W&&te;let ge=[O.setLanguageInternal(h),O.setLanguageInternalFulfilled(),ee.Nw.getTourGroupPages(),J.Nw.getBranding(),ne.Nw.refreshTour(),se.Nw.loadLabels(),q.Nw.loadAllScenes()];return ue&&(ge=[...ge,X.mapActions.clearPlacePagesInfo(),X.mapActions.clearPolygons()]),h?ge:[]})),v=(E,f)=>E.pipe((0,A.l)(m),(0,C.VS)(()=>new Promise((h,$)=>V(void 0,null,function*(){const{site:z,tenant:{version_hash:Y}}=f.value;try{const k=yield Z.Z.get(`https://${z}.madewithcircuit.com/api/v2/language/`,{params:{v:Y,format:"json"}});if(k.data.items.length>0){const W=k.data.items;h(W)}}catch(k){$(k)}}))),(0,C.VS)(h=>h?[O.setTenantLanguages(h)]:[])),c=(E,f)=>E.pipe((0,A.l)(g),(0,C.VS)(h=>new Promise(($,z)=>V(void 0,null,function*(){const{tenant:{default_language:Y}}=f==null?void 0:f.value;G.addDetector({name:"nonprimaryhostname",lookup(k){let W;const te=h.payload[0].language;return Y!==te&&(W=Y),W}});try{const k=[],W=[],te=h.payload;te.forEach(ue=>{k.push(ue.language),W.push(ue.language.substring(0,2))}),M.Z.use(F.Z).use(G).use(x.Db).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",detection:{order:["querystring","localStorage","nonprimaryhostname","navigator","htmlTag","path"],lookupQuerystring:"lng",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,caches:["localStorage"],excludeCacheFor:["cimode"],htmlTag:document.documentElement},react:{wait:!0,transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p","small"]},lowerCaseLng:!0,whitelist:W,nonExplicitWhitelist:!0,returnEmptyString:!1,load:"all",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json",queryStringParams:{v:e.h()}}},()=>{const ue=te.find(||{language:"en",name:"English",name_local:"English",bidi:!1};$(ue)}),M.Z.on("languageChanged",}catch(k){z(k)}}))),(0,C.VS)(h=>h?[O.setLanguage(h)]:[])),r=i=(0,H.l)(w,K,v,c)},828:(B,d,e)=>{"use strict";e.r(d),e.d(d,{MapActions:()=>t.Actions,mapActions:()=>J,mapEpics:()=>a,mapReducer:()=>Fe});var t={};e.r(t),e.d(t,{av:()=>x,Sv:()=>H,Sm:()=>M,Cc:()=>X,sL:()=>ne,cR:()=>O,QU:()=>S,Ky:()=>u,V1:()=>F,j8:()=>ee,yu:()=>C,IC:()=>L,Hg:()=>D,mY:()=>m,ck:()=>g,PN:()=>o,lg:()=>T,HS:()=>P,E9:()=>A,yB:()=>U,xr:()=>y,WM:()=>p,q2:()=>Z,Nw:()=>J});var l=e(18172),s=e(97779),n=e(90291);const o="UPDATE_MAP_EXPAND_STATE",p="UPDATE_STANDALONE_MAP_STATUS",T="UPDATE_NESTED_LAYER_IN_HOMEPAGE_MAP",m="UPDATE_HOMEPAGE_MAP_FULL_SCREEN_STATE",g="UPDATE_HOVERED_ITEM_ID",y="UPDATE_STANDALONE_MAP_PANEL_STATUS",O="LOAD_PLACE_PAGES_INFO",S="LOAD_SINGLE_PLACE_PAGE",P="UPDATE_PLACE_PAGES_INFO",L="UPDATE_ALL_PLACE_PAGES_INFO",u="SET_ACTIVE_PLACE_PAGE",A="UPDATE_POLYGONS",H="CLEAR_POLYGONS",C="UPDATE_ACTIVE_SCENE_SLUG",M="ClEAR_PLACE_PAGES_INFO",F="SET_POSITION",U="UPDATE_SINGLE_PLACE_PAGE",D="UPDATE_DIRECTION_INPUTS",x="CLEAR_DIRECTION_INPUTS",Z="UPDATE_TRANSPORTATION_MODE",X="LOAD_DIRECTIONS_INFO",ne="LOAD_DIRECTIONS_INFO_FULFILLED",ee="SET_SELF_GUIDED_DIRECTIONS_SHOWING_STATE",J={updateMapExpandState:()=>(0,n.P)(o),updateStandaloneMapStatus:I=>(0,n.P)(p,I),updateNestedLayerInfoInHomepageMap:I=>(0,n.P)(T,I),updateHomepageMapFullScreenState:()=>(0,n.P)(m),updateHoveredItemId:I=>(0,n.P)(g,I),updateStandaloneMapPanelStatus:I=>(0,n.P)(y,I),loadPlacePagesInfo:I=>(0,n.P)(O,I),clearPlacePagesInfo:()=>(0,n.P)(M),loadSinglePlacePage:I=>(0,n.P)(S,I),updatePlacePagesInfo:I=>(0,n.P)(P,I),updateAllPlacePagesInfo:I=>(0,n.P)(L,I),setActivePlacePageId:I=>(0,n.P)(u,I),updatePolygons:I=>(0,n.P)(A,I),clearPolygons:()=>(0,n.P)(H),updateActiveSceneSlug:I=>(0,n.P)(C,I),setPosition:I=>(0,n.P)(F,I),updateSinglePlacePage:I=>(0,n.P)(U,I),updateDirectionInputs:I=>(0,n.P)(D,I),clearDirectionInputs:()=>(0,n.P)(x),updateTransportationMode:I=>(0,n.P)(Z,I),loadDirectionsInfo:I=>(0,n.P)(X,I),loadDirectionsInfoFulfilled:I=>(0,n.P)(ne,I),setSelfGuidedDirectionsShowing:I=>(0,n.P)(ee,I)};var se=Object.defineProperty,q=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,w=(I,N,R)=>N in I?se(I,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):I[N]=R,K=(I,N)=>{for(var R in N||(N={}))V.call(N,R)&&w(I,R,N[R]);if(q)for(var R of q(N))G.call(N,R)&&w(I,R,N[R]);return I};const v=(I=!1,N)=>{switch(N.type){case o:return!I;default:return I}},c=(I=!1,N)=>{switch(N.type){case p:return N.payload;default:return I}},r=(I=!1,N)=>{switch(N.type){case m:return!I;default:return I}},i=(I="",N)=>{switch(N.type){case T:return N.payload;default:return I}},E=(I="",N)=>{switch(N.type){case g:return N.payload;default:return I}},f=(I="stay",N)=>{switch(N.type){case y:return N.payload;default:return I}},h=(I={},N)=>(0,l.ZP)(I,R=>{switch(N.type){case P:const{id:Ee,features:me,list:Oe,placePage:fe}=N.payload;R[Ee]=R[Ee]||{};const he=Oe==null?void 0:Oe.filter(Q=>Q.meta.show_in_menus);he!=null&&he.length&&(R[Ee].list=[...he]),me!=null&&me.length&&(R[Ee].features=[...me]),fe&&Object.keys(fe).length&&(R[Ee].placePage=K({},fe));break;case L:Object.keys(N.payload).forEach(Q=>{const{list:de,features:Pe}=N.payload[Q];R[Q]||(R[Q]={list:[],features:[]}),de!=null&&de.length?R[Q].list=[...de]:R[Q].list||(R[Q].list=[]),Pe!=null&&Pe.length?R[Q].features=[...Pe]:R[Q].features||(R[Q].features=[])});break;case M:Object.keys(R).forEach(Q=>{var de,Pe,He;(de=R[Q])!=null&&de.features&&(R[Q].features=[]),(Pe=R[Q])!=null&&Pe.list&&(R[Q].list=[]),(He=R[Q])!=null&&He.placePage&&(R[Q].placePage={})});break;default:break}}),$=(I=0,N)=>{switch(N.type){case u:return N.payload;default:return I}},z=(I={type:"FeatureCollection",features:[]},N)=>{switch(N.type){case A:return K({},N.payload);case H:return K({},{type:"FeatureCollection",features:[]});default:return I}},Y=(I="",N)=>{switch(N.type){case C:return N.payload;default:return I}},k=(I={center:{lng:0,lat:0},zoom:0,pitch:0,temUrl:"",id:0,detailsMenuTour:null},N)=>{switch(N.type){case F:return K({},N.payload);default:return I}},W=(I={},N)=>{switch(N.type){case U:return K({},N.payload);default:return I}},te=(I={start:{input:"",hasFocus:!1},end:{input:"",hasFocus:!1}},N)=>(0,l.ZP)(I,R=>{switch(N.type){case D:const{start:Ee,end:me}=N.payload;Ee&&(R.start=Object.assign({},R.start,Ee)),me&&(R.end=Object.assign({},R.end,me));break;case x:R.start={input:"",hasFocus:!1},R.end={input:"",hasFocus:!1};break;default:break}}),ue=(I="walking",N)=>{switch(N.type){case Z:return N.payload;default:return I}},ge=(I={},N)=>{switch(N.type){case ne:return N.payload;default:return I}},Le=(I=!1,N)=>{switch(N.type){case ee:return N.payload;default:return I}},Fe=(0,s.UY)({isMapExpanded:v,isStandaloneMapMode:c,isHomepageMapFullScreenMode:r,nestedLayerInfoInHomepageMap:i,hoveredItemId:E,standaloneMapPanelStatus:f,placePagesInfo:h,activePlacePageId:$,polygons:z,activeSceneSlug:Y,position:k,singlePlacePage:W,directionInputs:te,transportationMode:ue,directionsInfo:ge,isSelfGuidedDirectionsShowing:Le});var Ue=e(35309),Ie=e(57474),De=e(47746),ve=e(55709),Se=e(27374),Ne=e(96486),Re=e(64311),Ce=e.n(Re),ye=(I,N,R)=>new Promise((Ee,me)=>{var Oe=Q=>{try{he(R.next(Q))}catch(de){me(de)}},fe=Q=>{try{he(R.throw(Q))}catch(de){me(de)}},he=Q=>Q.done?Ee(Q.value):Promise.resolve(Q.value).then(Oe,fe);he((R=R.apply(I,N)).next())});const Ve="pk.eyJ1IjoiYmV5b25kbWVkaWEiLCJhIjoiY2s4a200dXl5MDNkbzNncXN4YWx4ZjY1diJ9.iy2zJUq3TldGY9lbaPYXHg",Me=(I,N)=>I.pipe((0,Ue.l)(O),(0,De.zg)(R=>new Promise((Ee,me)=>ye(void 0,null,function*(){const{site:Oe,language:fe,tenant:{version_hash:he}}=N.value,{id:Q}=R.payload;try{const de=yield(0,Se.Yi)(Oe,fe,{v:he,child_of:Q,limit:100});Ee({id:Q,list:de.data.items})}catch(de){me(de)}}))),(0,ve.U)(R=>J.updatePlacePagesInfo(R))),Ae=(I,N)=>I.pipe((0,Ue.l)(S),(0,De.zg)(R=>new Promise((Ee,me)=>ye(void 0,null,function*(){const{site:Oe,language:fe,tenant:{version_hash:he}}=N.value,{id:Q,pathSlug:de}=R.payload;try{const Pe=yield(0,Se.pG)(Oe,fe,{v:he,html_path:de},Q);Ee({id:Pe.data.id,placePage:Pe.data})}catch(Pe){me(Pe)}}))),(0,ve.U)(R=>J.updatePlacePagesInfo(R))),ce=(I,N)=>I.pipe((0,Ue.l)(X,x),(0,De.zg)(R=>new Promise((Ee,me)=>ye(void 0,null,function*(){var Oe,fe;const{directionInputs:he,transportationMode:Q,directionsInfo:de}=N.value.map,Pe=(Oe=he.start)==null?void 0:Oe.input,He=(fe=he.end)==null?void 0:fe.input;if((0,Ne.isEmpty)(R.payload))Ee({});else{const{start:_e,end:qe,isReset:tt}=R.payload;if(Pe&&He)try{const xe=yield fetch(`https://api.mapbox.com/directions/v5/mapbox/${Q}/${_e[0]},${_e[1]};${qe[0]},${qe[1]}?steps=true&overview=full&geometries=polyline&access_token=${Ve}`,{method:"GET"}),Be=yield xe.json(),nt={status:xe.status,title:Be.code,message:Be.message},We=tt?{}:(0,Ne.cloneDeep)(de);if("routes"in Be){const st=Be.routes[0],{geometry:ot,duration:at,legs:rt}=st,ct=Ce().toGeoJSON(ot),{coordinates:lt}=ct;We[Q]={coordinates:lt,duration:at,steps:rt[0].steps,error:{}}}else We[Q]={coordinates:[],duration:0,steps:[],error:nt};Ee(We)}catch(xe){me(xe)}}}))),(0,ve.U)(R=>J.loadDirectionsInfoFulfilled(R))),a=(0,Ie.l)(Me,Ae,ce)},83335:(B,d,e)=>{"use strict";e.d(d,{Nw:()=>p,gX:()=>l,om:()=>s});var t=e(90291);const l="GET_TOUR_GROUP_PAGES",s="GET_TOUR_GROUP_PAGES_FULFILLED",n="GET_TOUR_HOME_PAGE_DATA",o="GET_TOUR_HOME_PAGE_DATA_FULFILLED",p={getTourGroupPages:()=>(0,t.P)(l),getTourGroupPagesFulfilled:T=>(0,t.P)(s,T),getTourHomePageData:()=>(0,t.P)(n),getTourHomePageDataFulfilled:T=>(0,t.P)(o,T)}},71453:(B,d,e)=>{"use strict";e.r(d),e.d(d,{SceneRotationActions:()=>t.Actions,sceneRotationActions:()=>p,sceneRotationReducer:()=>g});var t={};e.r(t),e.d(t,{qk:()=>n,Nw:()=>p});var l=e(18172),s=e(90291);const n="TOGGLE_SCENE_ROTATION",o="TOGGLE_SCENE_ROTATION_OFF",p={toggleSceneRotation:()=>(0,s.P)(n)},T={isSceneRotating:!1},g=(y=T,O)=>(0,l.ZP)(y,S=>{switch(O.type){case n:S.isSceneRotating=!S.isSceneRotating;break;default:break}})},32958:(B,d,e)=>{"use strict";e.r(d),e.d(d,{IndicatorsActions:()=>t.Actions,indicatorsActions:()=>o,indicatorsReducer:()=>P});var t={};e.r(t),e.d(t,{M:()=>n,N:()=>o});var l=e(18172),s=e(90291);const n="UPDATE_SCENE_INDICATORS_VISITED_STATUS",o={updateSceneIndicatorsVisitedStatus:L=>(0,s.P)(n,L)};var p=Object.defineProperty,T=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(L,u,A)=>u in L?p(L,u,{enumerable:!0,configurable:!0,writable:!0,value:A}):L[u]=A,O=(L,u)=>{for(var A in u||(u={}))m.call(u,A)&&y(L,A,u[A]);if(T)for(var A of T(u))g.call(u,A)&&y(L,A,u[A]);return L};const P=(L={},u)=>(0,l.ZP)(L,A=>{switch(u.type){case n:const{sceneId:H,indicatorsVisitedStatus:C}=u.payload;A[H]=O({},C);break;default:break}})},64913:(B,d,e)=>{"use strict";e.d(d,{Om:()=>T,Q8:()=>p,ZP:()=>o});var t=e(27374);const l="LOAD_SCENES",s="LOAD_STANDALONE_SCENE",n=[];function o(m=n,g){switch(g.type){case l:return g.payload;default:return m}}function p(m,g,y,O,S){return P=>{P({type:"LOAD_SCENES_2",payload:{siteName:m,tour:g}});const{version_hash:L}=S;if(g.scenes){const u=[];return g.scenes.forEach(A=>{O&&u.push((0,t.I8)(m,A.scene.meta&&A.scene.meta.slug,y,{v:O?L+Date.now():L,content_type:A.scene.meta&&A.scene.meta.type.toLowerCase(),token:O})),!O&&A.scene.meta&&A.scene.meta.live&&u.push((0,t.I8)(m,A.scene.meta.slug,y,{v:L}))}),Promise.all(u).then(A=>(P({type:l,payload:A}),A))}return Promise.resolve([])}}function T(m,g,y,O){return S=>{S({type:s,payload:{siteName:m,sceneSlug:g,contentType:y,token:O}})}}},29212:(B,d,e)=>{"use strict";e.d(d,{DP:()=>o,Fp:()=>S,Nw:()=>L,Rm:()=>l,Sp:()=>s,UD:()=>p,Yz:()=>y,c4:()=>O,eN:()=>g,h$:()=>m,oX:()=>P,pV:()=>n,rU:()=>T});var t=e(90291);const l="CHANGE_STANDALONE_SCENE_STATUS",s="LOAD_STANDALONE_SCENE",n="LOAD_SCENES_2",o="LOAD_ALL_SCENES",p="LOAD_SCENES_FULFILLED",T="START_VISITING_SCENE",m="FINISH_VISITING_SCENE",g="SET_CURRENT_SCENE",y="TOGGLE_STACK_ON_SCENE",O="SET_SCENES_WITH_SELECTED_LABELS",S="UPDATE_SCENES_LIST_IN_CURRENT_TOUR",P="CHANGE_SCENE_CLICKED_LOCATION",L={changeStandaloneSceneStatus:()=>(0,t.P)(l),loadStandaloneScene:u=>(0,t.P)(s,u),loadScenes:u=>(0,t.P)(n,u),loadAllScenes:()=>(0,t.P)(o),loadScenesFulfilled:u=>(0,t.P)(p,u),startVisitingScene:u=>(0,t.P)(T,u),finishVisitingScene:u=>(0,t.P)(m,u),setCurrentScene:u=>(0,t.P)(g,u),toggleStackOnScene:u=>(0,t.P)(y,u),setScenesWithSelectedLabels:u=>(0,t.P)(O,u),updateScenesListInCurrentTour:u=>(0,t.P)(S,u),setSceneClickedFromAllTab:u=>(0,t.P)(P,u)}},99535:(B,d,e)=>{"use strict";e.r(d),e.d(d,{SceneActions:()=>s.Actions,finishVisitingSceneEpic:()=>ee,loadStandaloneSceneEpic:()=>J,sceneActions:()=>s.Nw,sceneEpics:()=>q,scenesReducer:()=>H});var t=e(18172),l=e(97779),s=e(29212),n=e(78023),o=Object.defineProperty,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,g=(V,G,w)=>G in V?o(V,G,{enumerable:!0,configurable:!0,writable:!0,value:w}):V[G]=w,y=(V,G)=>{for(var w in G||(G={}))T.call(G,w)&&g(V,w,G[w]);if(p)for(var w of p(G))m.call(G,w)&&g(V,w,G[w]);return V};const O=(V=[],G)=>(0,t.ZP)(V,w=>{switch(G.type){case s.Yz:const K=w.findIndex(;w[K].isExpanded=!w[K].isExpanded;break;case s.UD:G.payload.forEach(r=>{const i=V.findIndex($=>$.id===r.id),E=i>=0?V[i]:void 0,f=y(y({},E),r);E&&E.thumbnailUrl?f.thumbnailUrl=E.thumbnailUrl:f.thumbnailUrl=r.thumbnailUrl,($=>(f.visitedStatus||($.visitedStatus=n.uj.UNVISITED),!0))(f)&&(i>=0?w[i]=f:w.push(f))});break;case s.rU:const v=w.find(r=>r.id===G.payload);v&&v.visitedStatus===n.uj.UNVISITED&&(v.visitedStatus=n.uj.VISITING);break;case s.h$:const c=w.find(r=>r.id===G.payload);c&&(c.visitedStatus=n.uj.VISITED);break;default:break}}),S=(V=null,G)=>{switch(G.type){case s.eN:return typeof G.payload!="undefined"?G.payload:V;default:return V}},P=(V=!1,G)=>{switch(G.type){case s.Rm:return!0;default:return V}},L=(V={},G)=>{switch(G.type){case s.c4:return y(y({},V),G.payload);default:return V}},u=(V=[],G)=>{switch(G.type){case s.Fp:return[...G.payload];default:return V}},A=(V=!1,G)=>{switch(G.type){case s.oX:return G.payload;default:return V}},H=(0,l.UY)({currentScene:S,scenes:O,standaloneSceneStatus:P,allScenesWithSelectedLabels:L,isSceneClickedFromAllTab:A,scenesListInCurrentTour:u});var C=e(35309),M=e(57474),F=e(47746),U=e(55709),D=e(96996),x=e(2909),Z=e(7685),X=(V,G,w)=>new Promise((K,v)=>{var c=E=>{try{i(w.next(E))}catch(f){v(f)}},r=E=>{try{i(w.throw(E))}catch(f){v(f)}},i=E=>E.done?K(E.value):Promise.resolve(E.value).then(c,r);i((w=w.apply(V,G)).next())});const ne=e(17563),ee=(V,G)=>V.pipe((0,C.l)(s.h$),(0,F.VS)(w=>new Promise(K=>X(void 0,null,function*(){const v=G.value,c=(0,D.scenesSelector)(v).find(;K(s.Nw.setCurrentScene(c))})))),J=(V,G)=>V.pipe((0,C.l)(s.Sp),(0,F.VS)(w=>new Promise((K,v)=>X(void 0,null,function*(){const{language:c,tenant:{version_hash:r}}=G.value,{siteName:i,sceneSlug:E,contentType:f,token:h}=w.payload,$=yield(0,Z.I8)(i,E,c.currentLanguage.language,{v:h?r+Date.now():r,content_type:f,token:h});K(s.Nw.setCurrentScene($))})))),se=(V,G,w)=>V.pipe((0,C.l)(s.pV,s.DP),(0,F.VS)(K=>new Promise((v,c)=>X(void 0,null,function*(){const r=[];if(K.type===s.pV){const{siteName:i,tour:E}=K.payload,f=G.value;E.scenes&&(E.scenes.forEach(,v({action:K,scenes:r}))}else if(K.type===s.DP){const{language:i,site:E,scenes2:{standaloneSceneStatus:f},tenant:{version_hash:h}}=G.value,{token:$,tmstmp:z}=ne.parse(window.location.search);f||new Promise((Y,k)=>X(this,null,function*(){try{const W=yield x.Z.get(`${(0,Z.Uk)(E)}scenes/`,{params:{v:$?h+Date.now():h,format:"json",limit:1e3,token:$},headers:{"Accept-Language":i.currentLanguage.language}});Y(W.data.items)}catch(W){k(W)}})).then(Y=>{Y.forEach(,v({action:K,scenes:r})})}}))),(0,U.U)(K=>{const{action:v,scenes:c}=K,{getThumbUrl:r}=w;return c.map(i=>{const{id:E,title:f,get_thumbnail:h,meta:{slug:$,type:z,live:Y},labels:k}=i,{site:W}=G.value,te=h&&r(W,h);return{id:E,title:f,thumbnailUrl:te,slug:$,labels:k,type:z,subSceneIDs:[],isExpanded:!1,live:Y}})}),(0,U.U)(K=>s.Nw.loadScenesFulfilled(K))),q=(0,M.l)(se)},50431:(B,d,e)=>{"use strict";e.d(d,{gj:()=>n,Bb:()=>T});var t=e(18172),l=e(90291);const s="TOGGLE_SELF_GUIDE",n={toggleSelfGuide:m=>(0,l.P)(s,m)},o={isSelfGuideOn:!1},T=(m=o,g)=>(0,t.ZP)(m,y=>{switch(g.type){case s:y.isSelfGuideOn=g.payload;break;default:break}})},26696:(B,d,e)=>{"use strict";e.r(d),e.d(d,{SiteActions:()=>t.Actions,siteActions:()=>n,siteReducer:()=>T});var t={};e.r(t),e.d(t,{B:()=>s,N:()=>n});var l=e(90291);const s="SET_SITE_NAME",n={setSiteName:m=>(0,l.P)(s,m)},o="siteName",T=(m=o,g)=>{switch(g.type){case s:return g.payload;default:return m}}},56878:(B,d,e)=>{"use strict";e.r(d),e.d(d,{TenantActions:()=>t.Actions,tenantActions:()=>o,tenantReducer:()=>L});var t={};e.r(t),e.d(t,{U:()=>n,N:()=>o});var l=e(18172),s=e(90291);const n="UPDATE_SITENAME_AND_LNG_AND_VERSION_HASH",o={updateSiteNameAndLngAndVersionHash:u=>(0,s.P)(n,u)};var p=Object.defineProperty,T=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(u,A,H)=>A in u?p(u,A,{enumerable:!0,configurable:!0,writable:!0,value:H}):u[A]=H,O=(u,A)=>{for(var H in A||(A={}))m.call(A,H)&&y(u,H,A[H]);if(T)for(var H of T(A))g.call(A,H)&&y(u,H,A[H]);return u};const S={default_language:"",schema_name:"",version_hash:""},L=(u=S,A)=>(0,l.ZP)(u,H=>{switch(A.type){case n:H=O(O({},u),A.payload);break;default:break}return H})},20590:(B,d,e)=>{"use strict";e.d(d,{Ws:()=>y,ZP:()=>g});var t=e(27374),l=e(57295),s=e(78001),n=e(21318),o=(O,S,P)=>new Promise((L,u)=>{var A=M=>{try{C(P.next(M))}catch(F){u(F)}},H=M=>{try{C(P.throw(M))}catch(F){u(F)}},C=M=>M.done?L(M.value):Promise.resolve(M.value).then(A,H);C((P=P.apply(O,S)).next())});const p="LOAD_TOUR",T="UPDATE_TOUR_STOPS_INFO",m={};function g(O=m,S){switch(S.type){case p:return S.payload;case T:return Object.assign({},O,{stops:S.payload});default:return O}}function y(O,S,P,L,u){return A=>o(this,null,function*(){return new Promise(H=>o(this,null,function*(){A({type:"LOAD_TOUR_2",payload:{tourSlug:P,previewParams:u}});const{version_hash:C}=O;(0,t.QU)(S,P,L,{v:u&&u.token?C+Date.now():C,content_type:u&&u.content_type,token:u&&u.token}).then(M=>M.error?(n.Tb(M.error),A({type:l.G,payload:{title:s.Z.t("page-not-found"),message:M.error.response.status,linkText:"Home",linkMessage:s.Z.t("start-from-home"),link:`/${S}`},error:!0}),H({})):(A({type:p,payload:M}),H(M)))}))})}},39476:(B,d,e)=>{"use strict";e.d(d,{Gg:()=>p,Nw:()=>m,Ub:()=>o,hk:()=>s,iR:()=>l,qN:()=>n});var t=e(90291);const l="LOAD_TOUR_2",s="LOAD_TOUR_FULFILLED",n="REFRESH_TOUR",o="REFRESH_TOUR_WITH_NEW_KEY",p="UPDATE_TOUR_EVENTS",T="UPDATE_TOUR_STOPS_INFO",m={loadTour:g=>(0,t.P)(l,g),loadTourFulfilled:g=>(0,t.P)(s,g),updateTourStopsInfo:g=>(0,t.P)(T,g),refreshTour:()=>(0,t.P)(n),refreshTourWithNewKey:g=>(0,t.P)(o,g),updateTourEvents:g=>(0,t.P)(p,g)}},30871:(B,d,e)=>{"use strict";e.r(d),e.d(d,{LOAD_TOUR_FULFILLED:()=>n.hk,TourActions:()=>n.Actions,tourActions:()=>n.Nw,tourEpics:()=>M,tourReducer:()=>y});var t=e(55877),l=e(97779),s=e(18172),n=e(39476);const o={id:-1,title:"",sceneIds:[],slug:"",hero_image_url:"",thumbnailUrls:{portrait:"",landscape:"",square:""},splash_color:[],search_description:"",description:"",is_hidden_from_universal_menu:!1},p=(F=o,U)=>{switch(U.type){case n.hk:return U.payload;default:return F}},T=(F={},U)=>(0,s.ZP)(F,D=>{switch(U.type){case n.Gg:const{tourId:x,event:Z}=U.payload;Z==="tour-start"?D[x]={tour_start:!0}:D[x]=Object.assign({},D[x],{tour_complete:!0});break;default:break}}),m=(0,t.v4)(),g=(F=m,U)=>{switch(U.type){case n.Ub:return U.payload;default:return F}},y=(0,l.UY)({tour:p,tourKey:g,tourEvents:T});var O=e(35309),S=e(57474),P=e(70540),L=e(47746),u=e(55709),A=e(7685);const H=(F,U)=>F.pipe((0,O.l)(n.iR),(0,L.VS)(D=>{const{tourSlug:x,previewParams:Z}=D.payload,{site:X,language:ne,tenant:{version_hash:ee}}=U.value;let J="";return Z&&Z.content_type&&Z.token?J=ee?`${(0,A.Uk)(X)}tours/${x}/?content_type=${Z.content_type}&token=${Z.token}&v=${ee}${Date.now()}`:`${(0,A.Uk)(X)}tours/${x}/?content_type=${Z.content_type}&token=${Z.token}&v=${Date.now()}`:J=ee?`${(0,A.Uk)(X)}tours/${x}/?v=${ee}`:`${(0,A.Uk)(X)}tours/${x}`,P.h.getJSON(J,{"Accept-Language":ne.currentLanguage.language,Accept:"application/json, text/plain, */*"}).pipe((0,u.U)(se=>{const{scenes:q,id:V,title:G,meta:{slug:w,search_description:K},description:v,hide_from_universal_menu:c,splash_color:r,thumbnail_portrait:i,thumbnail_landscape:E,thumbnail_square:f}=se,h=r?r.hls_decimal:void 0;return{id:V,title:G,slug:w,heroImageUrl:"",thumbnailUrls:{portrait:i?i.url:"",landscape:E?E.url:"",square:f?f.url:""},splashColor:h?[h[0]*360,h[1]*100,h[2]*100]:[196,100,12],search_description:K,description:v,sceneIds:q&&q.map($=>$.scene.id),isHiddenFromUniversalMenu:c}}),(0,u.U)(se=>n.Nw.loadTourFulfilled(se)))})),C=(F,U)=>F.pipe((0,O.l)(n.qN),(0,u.U)(()=>n.Nw.refreshTourWithNewKey((0,t.v4)()))),M=(0,S.l)(H,C)},51908:(B,d,e)=>{"use strict";e.r(d),e.d(d,{UnitActions:()=>t.Actions,unitActions:()=>O,unitReducer:()=>F});var t={};e.r(t),e.d(t,{y6:()=>g,oR:()=>n,Nw:()=>O});var l=e(97779),s=e(90291);const n="SET_UNIT",o="CHANGE_UNIT",p="SET_UNIT_INTERNAL",T="SET_UNIT_INTERNAL_FULFILLED",m="FETCH_TENANT_UNIT",g="SET_TENANT_UNIT",y="SET_UNIT_DIRECTION",O={fetchTenantUnit:()=>(0,s.P)(m),setUnit:U=>(0,s.P)(n,U),setTenantUnit:U=>(0,s.P)(g,U),changeUnit:U=>(0,s.P)(o,U),setUnitInternal:U=>(0,s.P)(p,U),setUnitInternalFulfilled:()=>(0,s.P)(T)};var S=Object.defineProperty,P=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,A=(U,D,x)=>D in U?S(U,D,{enumerable:!0,configurable:!0,writable:!0,value:x}):U[D]=x,H=(U,D)=>{for(var x in D||(D={}))L.call(D,x)&&A(U,x,D[x]);if(P)for(var x of P(D))u.call(D,x)&&A(U,x,D[x]);return U};const C=(U={unit:"metric",name:"Metric"},D)=>{switch(D.type){case n:return H({},D.payload);default:return U}},M=(U=[{unit:"metric",name:"Metric"},{unit:"imperial",name:"Imperial"}],D)=>{switch(D.type){case g:return D.payload;default:return U}},F=(0,l.UY)({currentUnit:C,units:M})},2626:(B,d,e)=>{"use strict";e.r(d),e.d(d,{SET_CURRENT_UNIVERSAL_MENU:()=>n,UniversalMenuActions:()=>t.Actions,universalMenuActions:()=>T,universalMenuReducer:()=>O});var t={};e.r(t),e.d(t,{hf:()=>n,rN:()=>o,Xw:()=>p,Nw:()=>T});var l=e(97779),s=e(90291);const n="SET_CURRENT_UNIVERSAL_MENU",o="SET_UNIVERSAL_MENU_OPEN_STATE",p="UPDATE_NESTED_LAYER_IN_UNIVERSAL_MENU",T={setCurrentUniversalMenu:S=>(0,s.P)(n,S),setUniversalMenuOpenState:S=>(0,s.P)(o,S),updateNestedLayerInfoInUniversalMenu:S=>(0,s.P)(p,S)},m=(S="CURRENT_TOUR",P)=>{switch(P.type){case n:return P.payload;default:return S}},g=(S=!1,P)=>{switch(P.type){case o:return P.payload;default:return S}},y=(S="",P)=>{switch(P.type){case p:return P.payload;default:return S}},O=(0,l.UY)({isUniversalMenuOpen:g,currentUniversalMenuTab:m,nestedLayerInfo:y})},87020:(B,d,e)=>{"use strict";e.r(d),e.d(d,{SupportsWebPActions:()=>t.Actions,supportsWebPActions:()=>n,supportsWebPReducer:()=>T});var t={};e.r(t),e.d(t,{$:()=>s,N:()=>n});var l=e(90291);const s="SUPPORTS_WEBP",n={setSupportsWebP:m=>(0,l.P)(s,m)},o=!1,T=(m=o,g)=>{switch(g.type){case s:return g.payload;default:return m}}},60416:(B,d,e)=>{"use strict";e.d(d,{Z:()=>S});var t=e(15575),l=e(49089),s=e(2876),n=Object.defineProperty,o=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,m=g=const{trackEvent:y}=(0,s.Z)({apiHost:"https://p.usecircuit.com",domain:`${window.location.hostname},all.circuit`}),S=P=>{const L=Object.assign({},P);L.event_category=L.category,L.event_label=L.label,delete L.action,delete L.category,delete L.label,l.ZP.event(P.action,g({},L)),t.ZP.event(g({},P),["clientTracker"]);const u=Object.assign({},P);delete u.action,y(P.action,{props:g({},u)})}},2909:(B,d,e)=>{"use strict";e.d(d,{Z:()=>s});var t=e(9669),l=e.n(t);l().defaults.xsrfHeaderName="X-CSRFToken",l().defaults.xsrfCookieName="csrftoken",l().defaults.withCredentials=!0;const s=l()},27374:(B,d,e)=>{"use strict";e.d(d,{H0:()=>U,Mk:()=>K,Uk:()=>m,pN:()=>O,V_:()=>F,uR:()=>V,HN:()=>C,Yi:()=>L,Eu:()=>A,bO:()=>H,I8:()=>M,pG:()=>u,HE:()=>T,mu:()=>Z,QU:()=>g,sc:()=>J,FU:()=>y,Bz:()=>q});var t=e(2909);class l extends Error{constructor(c){super(c.message),Object.setPrototypeOf(this,l.prototype),this.payload_=c.payload,this.statusCode_=c.statusCode}get payload(){return this.payload_}var s=e(21318),n=(v,c,r)=>new Promise((i,E)=>{var f=z=>{try{$(r.next(z))}catch(Y){E(Y)}},h=z=>{try{$(r.throw(z))}catch(Y){E(Y)}},$=z=>z.done?i(z.value):Promise.resolve(z.value).then(f,h);$((r=r.apply(v,c)).next())});const o="madewithcircuit.com",p="/api/v2/",T=v=>n(void 0,null,function*(){let c="https://";if((o==="usecircuit.com"||o==="madewithcircuit.com")&&(c+="boreal."),c+=`${o}/api/switchboard/${v}/`,v){const r=yield t.Z.get(c);return r.data.error&&v!=="app.madewithcircuit.com"&&s.Tb(new Error("No tenant found for hostname"),{tags:{hostname:v}}),r.data}return""});unction g(v,c,r,i={}){const E=`https://${v}.${o}${p}tours/${c}/`;return t.Z.get(E,{xsrfHeaderName:"X-CSRFToken",xsrfCookieName:"csrftoken",params:i,headers:{"Accept-Language":r}}).then(h=>h.data).catch(}const y=(v,c,...r)=>n(void 0,[v,c,...r],function*(i,E,f={}){const h=`https://${i}.${o}${p}tour-stops/`;return(yield t.Z.get(h,{params:f,headers:{"Accept-Language":E}})).data}),O=(v,c,...r)=>n(void 0,[v,c,...r],function*(i,E,f={}){const h=`https://${i}.${o}${p}maps/wayfinding/places/`;return(yield t.Z.get(h,{params:f,headers:{"Accept-Language":E}})).data}),S=(v,c,...r)=>n(void 0,[v,c,...r],function*(i,E,f={}){const h=`https://${i}.${o}${p}maps/campus-outlines/`;return(yield axios.get(h,{params:f,headers:{"Accept-Language":E}})).data}),P=(v,c,...r)=>n(void 0,[v,c,...r],function*(i,E,f={}){const h=`https://${i}.${o}${p}maps/campus-buildings/`;return(yield axios.get(h,{params:f,headers:{"Accept-Language":E}})).data}),L=(v,c,...r)=>n(void 0,[v,c,...r],function*(i,E,f={}){const h=`https://${i}.${o}${p}place-pages/`;return yield t.Z.get(h,{params:f,headers:{"Accept-Language":E}})}),u=(v,c,...r)=>n(void 0,[v,c,...r],function*(i,E,f={},h=0){const $=h?`https://${i}.${o}${p}place-pages/${h}/`:`https://${i}.${o}${p}place-pages/find/`;return yield t.Z.get($,{params:f,headers:{"Accept-Language":E}})}),A=v=>n(void 0,[v],function*({siteName:c,language:r,polygonId:i="",params:E={}}){const f=`https://${c}.${o}${p}maps/places/points/${i}`;return yield t.Z.get(f,{params:E,headers:{"Accept-Language":r}})}),H=v=>n(void 0,[v],function*({siteName:c,language:r,params:i={}}){const E=`https://${c}.${o}${p}maps/places/polygons/`;return yield t.Z.get(E,{params:i,headers:{"Accept-Language":r}})}),C=v=>n(void 0,[v],function*({siteName:c,language:r,params:i={}}){const E=`https://${c}.${o}${p}maps/osm/buildings`;return yield t.Z.get(E,{params:i,headers:{"Accept-Language":r}})});function M(v,c,r,i={}){return t.Z.get(`https://${v}.${o}${p}scene/${c}/`,{params:i,headers:{"Accept-Language":r}}).then(E=>E.data)}const F=(v,c)=>c&&c.substr(0,4)==="http"?c:`https://${v}.${o}${c}`,U=v=>{if(!document.getElementById("fontawesome_main")&&!document.getElementById("fontawesome_solid")){const c=document.createElement("script");c.src=`https://${v}.${o}/fontawesome.js`,c.id="fontawesome_main";const r=document.createElement("script");r.src=`https://${v}.${o}/solid.js`,r.id="fontawesome_solid",document.body.appendChild(c),document.body.appendChild(r)}},D=v=>!window.innerWidth||typeof window.innerWidth!="number"||window.innerWidth<=1200?v.panorama_image_webp&&v.panorama_image_webp.medium?v.panorama_image_webp.medium.url:"":v.panorama_image_webp&&v.panorama_image_webp.high?v.panorama_image_webp.high.url:"",x=v=>!window.innerWidth||typeof window.innerWidth!="number"||window.innerWidth<=1200?v.panorama_image_jpeg&&v.panorama_image_jpeg.medium?v.panorama_image_jpeg.medium.url:"":v.panorama_image_jpeg&&v.panorama_image_jpeg.high?v.panorama_image_jpeg.high.url:"";function Z(v,c){return c&&c.substr(0,4)==="http"?c:`https://${v}.${o}${c}`}function X(v){return(c,r)=>{const i=v(r);return i&&String(i).slice(0,4)==="http"?i:`https://${c}.${o}${v(r)}`}}const ne=v=>v.get_thumbnail,J=X(,se=X(ne),q=X(D),V=X(x),G=v=>v.reduce((c,r)=>{if(typeof r.value=="object"){const i=r.value.reduce((E,f)=>f?[...E,[r.name,String(f)]]:E,[]);return[...c,...i]}return[...c,[r.name,String(r.value)]]},[]),w=(v,c)=>{const r=new FormData;return r.append("form_id",c.form_id),r.append("form_reference",c.form_reference),v.forEach(,r};function K(v,c,r){return n(this,null,function*(){const i=G(v),E=w(i,c),f={method:"POST",withCredentials:!0,headers:{"X-CSRFToken":c.csrf,"X-Requested-With":"XMLHttpRequest","Accept-Language":r}},h=yield t.Z.post(`${c.form_action}/submissions/`,E,f);if(h.data.errors)throw new l({statusCode:400,payload:h.data.errors,message:h.data.message});return h.data})}},7685:(B,d,e)=>{"use strict";e.d(d,{Uk:()=>t.Uk,V_:()=>t.V_,Yi:()=>t.Yi,Eu:()=>t.Eu,I8:()=>t.I8,mu:()=>t.mu,QU:()=>t.QU});var t=e(27374);const l={"en-US":{PROCEED:"Proceed",NEXT:"Next",TOURMENU:"Tour Menu",YOUAREHERE:"You Are Here"},"fr-CA":{PROCEED:"Proc\xE9der",NEXT:"Prochain",TOURMENU:"Menu Tour",YOUAREHERE:"Tu es l\xE0"}};function s(n,o){const p=l[n]?n:"en-US";return l[p][o]}},30155:(B,d,e)=>{"use strict";e.d(d,{MT:()=>wt,wl:()=>jt});var t={};e.r(t),e.d(t,{K5:()=>X,QW:()=>ne,Nw:()=>ee});var l={};e.r(l),e.d(l,{GET_TOURS_FULFILLED:()=>ne,ToursActions:()=>t.Actions,toursActions:()=>ee,toursEpics:()=>w,toursReducer:()=>se});var s={};e.r(s),e.d(s,{PageActions:()=>H.Actions,pageActions:()=>H.Nw,pageEpics:()=>i,pagesReducer:()=>M});var n={};e.r(n),e.d(n,{BrandActions:()=>Ie.Actions,brandingActions:brandingEpic:()=>Ee,brandingReducer:()=>ve});var o=e(97779),p=e(50464),T=e(53894),m=e(28500),g=e(89233),y=e(96381),O=e(7685),S=e(57474),P=e(32458),L=e(99535),u=e(30871),A=e(18172),H=e(83335);const M=(le=[],oe)=>(0,A.ZP)(le,j=>{switch(oe.type){case H.om:j.length=0,j.push(...oe.payload);break;default:}});var F=e(35309),U=e(55709),D=e(47746),x=e(2909),Z=e(90291);const X="GET_TOURS",ne="GET_TOURS_FULFILLED",ee={getTours:getTourFulfilled:,se=(le=[],oe)=>(0,A.ZP)(le,j=>{switch(oe.type){case ne:j.length=0,j.push(...oe.payload);break;default:break}});var q=(le,oe,j)=>new Promise((ie,re)=>{var pe=b=>{try{_(j.next(b))}catch(Te){re(Te)}},ae=b=>{try{_(j.throw(b))}catch(Te){re(Te)}},_=b=>b.done?ie(b.value):Promise.resolve(b.value).then(pe,ae);_((j=j.apply(le,oe)).next())});const V=e(17563),G=(le,oe,j)=>le.pipe((0,F.l)(X),(0,D.VS)(()=>new Promise((ie,re)=>q(void 0,null,function*(){const{site:pe,language:ae,tenant:{version_hash:_}}=oe.value;try{const b=yield x.Z.get(`${(0,O.Uk)(pe)}tours/`,{headers:{"accept-language":ae.currentLanguage.language},params:{v:_,fields:"*",type:"tour.TourPage",limit:150}});ie(b.data.items)}catch(b){re(b)}}))),(0,U.U)(ie=>ie.map(re=>{const{scenes:pe,id:ae,title:_,thumbnail_landscape:b,thumbnail_square:Te,thumbnail_portrait:we,hero_image:je,meta:{slug:Ze,search_description:be},description:Ye,hide_from_universal_menu:Ke,splash_color:Ge,starting_point:$e,bounding_box:ze,scenes_points:Xe,guide_audio:Qe,guide_audio_enabled:Je}=re;return{id:ae,title:_,slug:Ze,hero_image_url:je?je.url:"",thumbnailUrls:{portrait:we?we.url:"",landscape:b?b.url:"",square:Te?Te.url:""},splash_color:Ge?[Ge[0]*360,Ge[1]*100,Ge[2]*100]:[196,100,12],search_description:be,description:Ye,sceneIds:pe.map(ke=>ke.scene.id),is_hidden_from_universal_menu:Ke,starting_point:$e,bounding_box:ze,scenes_points:Xe,guide_audio:Qe,guide_audio_enabled:Je}})),(0,U.U)(),w=(0,S.l)(G);var K=(le,oe,j)=>new Promise((ie,re)=>{var pe=b=>{try{_(j.next(b))}catch(Te){re(Te)}},ae=b=>{try{_(j.throw(b))}catch(Te){re(Te)}},_=b=>b.done?ie(b.value):Promise.resolve(b.value).then(pe,ae);_((j=j.apply(le,oe)).next())});const v=e(17563),c=(le,oe,j)=>le.pipe((0,F.l)(H.gX),(0,U.U)(),r=(le,oe,j)=>le.pipe((0,F.l)(H.gX),(0,D.VS)(ie=>new Promise((re,pe)=>K(void 0,null,function*(){const{site:ae,language:_,tenant:{version_hash:b}}=oe.value,we=(yield x.Z.get(`${(0,O.Uk)(ae)}pages/`,{headers:{"accept-language":_.currentLanguage.language},params:{v:b,fields:"tours,image,depth,children,search_description,frontend_path,tour_count_descendants,bounding_box,background_video,videos_text,videos,video_auto",type:"tour.TourGroupPage",limit:100}})).data.items.map(je=>{const{id:Ze,meta:{slug:be,search_description:Ye},title:Ke,tours:Ge,image:$e,depth:ze,children:Xe,tour_count_descendants:Qe,frontend_path:Je,bounding_box:ke,background_video:it,videos_text:ut,videos:dt,video_auto:Et}=je;return{id:Ze,slug:be,search_description:Ye,tour_count_descendants:Qe,title:Ke,tours:Ge,imageURL:$e&&$e.url?(0,O.V_)(ae,$e.url):"",depth:ze,children:Xe,frontend_path:Je,bounding_box:ke,background_video:it,videos_text:ut,videos:dt,video_auto:Et}});re(we)}))),(0,U.U)(),i=(0,S.l)(c,r);var E=e(53838),f=e(64913),h=e(20590),$=e(828),z=e(2626),Y=e(64864),k=e(29309),W=e(5837),te=e(83908),ue=e(71453),ge=e(49197),Le=e(87477),Fe=e(26696),Ue=e(10493),Ie=e(17387);const ve=(le=null,oe)=>{switch(oe.type){case Ie.oe:return oe.payload;default:return le}};var Se=e(15575),Ne=e(2876),Re=e(49089),Ce=e(60416),ye=e(1785),Ve=e.n(ye),Me=e(50886),Ae=e(78023),ce=const a=e(17563),{enableAutoOutboundTracking:I}=(0,Ne.Z)({apiHost:"https://p.circuitcdn.com",domain:`${window.location.hostname},all.circuit`}),{trackPageview:N}=(0,Ne.Z)({apiHost:"https://p.circuitcdn.com",domain:`${window.location.hostname},all.circuit`}),R=(le,oe)=>le.pipe((0,F.l)(Ie.TI),(0,D.VS)(()=>new Promise((j,ie)=>ce(void 0,null,function*(){try{const{site:re,language:pe,tenant:{version_hash:ae}}=oe.value,_=yield x.Z.get(`https://${re}.madewithcircuit.com/api/v2/brand/`,{headers:{"accept-language":pe.currentLanguage.language},params:{v:ae,format:"json"}});if(_.data.items.length>0){const b=_.data.items[0];j(b)}else j({id:-1,name:"UNKNOWN",title:"UNKNOWN",home_url:"",primary_color:{name:"UNKNOWN",hex_value:"#000000",rgb_integer:[],hls_decimal:[]},logo:{image:{url:"",width:0,height:0}},explore_tours:!0,personalization:!0,languages:[{language:"en",name:"english",name_local:"english",bidi:!1}],introduction:[],brand_ctas:[],call_to_action:[],image:{url:"",width:0,height:0},image_small:{url:"",width:0,height:0},search_description:"",tour_guide:{url:"",width:0,height:0},ga_cross_domains:[],policy_links:[],cookies_notice:[],panorama_tutorial:!0,tour_menu_tutorial:!0,mobile_guide_card_tutorial:!0,finished_tour:!0,maps:!0,maps_settings:{style:"mapbox://styles/mapbox/light-v10",center:{type:"Point",coordinates:[-79.3832,43.6532]},campus_color:"#545454",buildings_color:"#edddb6",places:!1,outdoor_directions:!1},guide_audio:!0,open_to_splash:!0,unit_system:"metric"})}catch(re){ie(re)}}))),(0,U.U)(j=>{const{id:ie,name:re,title:pe,home_url:ae,primary_color:_,logo:b,explore_tours:Te,languages:we,introduction:je,brand_ctas:Ze,image:be,image_small:Ye,google_analytics:Ke,client_google_analytics:Ge,ga4_measurement_id:$e,client_ga4_measurement_id:ze,ga_cross_domains:Xe,google_tag_manager:Qe,search_description:Je,tour_guide:ke,policy_links:it,cookies_notice:ut,call_to_action:dt,panorama_tutorial:Et,tour_menu_tutorial:Wt,mobile_guide_card_tutorial:Zt,finished_tour:bt,maps:Yt,maps_settings:et,guide_audio:Kt,open_to_splash:zt,unit_system:St,personalization:Tt}=j;let pt=Ae.OP.CurrentTour;pt|=Te?Ae.OP.Explore:0,pt|=Tt?Ae.OP.All:0;const{site:At}=oe.value;(0,Me.vQ)("unit_system")||(0,Me.pC)("unit_system",St,30),(a.parse(window.location.search).placepreview||window.placepreview)&&(window.placepreview=!0,et.places=!0),(a.parse(window.location.search).directionspreview||window.directionspreview)&&(window.placepreview=!0,window.directionspreview=!0,et.places=!0,et.outdoor_directions=!0);let mt;return b&&b.image?mt=(0,O.V_)(At,b.image.url):b&&b.url&&(mt=(0,O.V_)(At,b.url)),{id:ie,name:re,title:pe,home_url:ae,color:_?_.hex_value:"#000000",logoURL:mt,activeMenus:pt,languages:we,introduction:je,brand_ctas:Ze,image:be,image_small:Ye,google_analytics:Ke,client_google_analytics:Ge,ga4_measurement_id:$e,client_ga4_measurement_id:ze,ga_cross_domains:Xe,google_tag_manager:Qe,search_description:Je,tour_guide:ke,policy_links:it,cookies_notice:ut,call_to_action:dt,panorama_tutorial:Et,tour_menu_tutorial:Wt,mobile_guide_card_tutorial:Zt,finished_tour:bt,personalization:Tt,maps:Yt,maps_settings:et,guide_audio:Kt,open_to_splash:zt,unit_system:St}}),(0,D.VS)(j=>[()=>{const{branding:ie,language:re}=oe.value;if(!ie){const pe=[];j.client_google_analytics&&pe.push("clientTracker");const ae=[];if(j.google_analytics&&ae.push({trackingId:j.google_analytics,titleCase:!1,gaOptions:{allowLinker:!!j.ga_cross_domains}}),j.client_google_analytics&&ae.push({trackingId:j.client_google_analytics,titleCase:!1,gaOptions:{name:"clientTracker"}}),!a.parse(window.location.search).token){ae.length>0&&(Se.ZP.initialize(ae),j.ga_cross_domains&&j.ga_cross_domains.length>0&&(Se.ZP.ga("require","linker"),Se.ZP.ga("linker:autoLink",j.ga_cross_domains),ae.length>0&&(Se.ZP.ga("clientTracker.require","linker"),Se.ZP.ga("clientTracker.linker:autoLink",j.ga_cross_domains))),a.parse(window.location.search).userid&&Se.ZP.set({userId:a.parse(window.location.search).userid},["clientTracker"]));const _=[];j.ga4_measurement_id&&_.push({trackingId:j.ga4_measurement_id}),j.client_ga4_measurement_id&&_.push({trackingId:j.client_ga4_measurement_id}),_.length>0&&Re.ZP.initialize(_),setTimeout(()=>{ae.length>0&&Se.ZP.pageview(window.location.pathname,pe),_.length>0&&Re.ZP.send({hitType:"pageview",page:window.location.pathname}),N()},1e3)}if((0,Ce.Z)({category:"language",action:"initial",label:re.currentLanguage.name,nonInteraction:!0}),window.self!==window.top&&(0,Ce.Z)({category:"circuit-in-iFrame",action:"load-circuit-in-iFrame",nonInteraction:!0}),j.google_tag_manager){const _={gtmId:j.google_tag_manager};Ve().initialize(_)}}},Ie.Nw.getBrandingFulfilled(j)])),Ee=(0,S.l)(R);var me=e(73188),Oe=e(17359),fe=e(51908),he=e(32958),Q=e(87020),de=e(56878),Pe=e(16621),He=e(50431);const{toursEpics:_e,toursReducer:qe}=l,{sceneEpics:tt,finishVisitingSceneEpic:xe,loadStandaloneSceneEpic:Be,scenesReducer:nt}=L,{mapReducer:We,mapEpics:st}=$,{siteReducer:ot}=Fe,{errorReducer:at}=Ue,{tourEpics:rt,tourReducer:ct}=u,{pageEpics:lt,pagesReducer:ht}=s,{guideCardReducer:Pt}=P,{sceneRotationReducer:vt}=ue,{universalMenuReducer:ft}=z,{detailsMenuReducer:Ot}=ge,{finishedTourReducer:It}=Le,{brandingEpic:Lt,brandingReducer:Nt}=n,{languageReducer:yt,languageEpic:Ut}=Oe,{unitReducer:Dt}=fe,{labelEpic:Rt}=me,{ctaReducer:Ct}=W,{homepageReducer:Mt,homepageEpics:Gt}=k,{indicatorsReducer:Ft}=he,{supportsWebPReducer:Vt}=Q,{tenantReducer:$t}=de,{ctasViewedReducer:Ht}=Pe,xt=(0,o.UY)({guideCard:Pt,sceneRotation:vt,hotspots:E.ZP,scenes:f.ZP,scenes2:nt,map:We,tour:h.ZP,currentTour:ct,tours:qe,pages:ht,site:ot,error:at,label:me.labelReducer,detailsMenuTour:Ot,universalMenu:ft,finishedTour:It,deviceMotion:te.Ox,guideAudio:Y.Jn,selfGuide:He.Bb,branding:Nt,language:yt,unitSystem:Dt,cta:Ct,homepage:Mt,sceneIndicators:Ft,supportsWebP:Vt,tenant:$t,ctasViewed:Ht}),Bt=(0,S.l)(tt,rt,lt,_e,xe,Be,Lt,Ut,Rt,Gt,st),gt=(0,p.k)({dependencies:{getSingleDetailedScene:O.I8,getThumbUrl:O.mu,getTour:O.QU}}),wt=(le={})=>{const oe=[T.Z,gt],j=[],ie=(0,m.Uo)({}),re=(0,o.MT)(xt,le,ie((0,o.md)(...oe),...j)),pe=new g.X(Bt),ae=(..._)=>pe.pipe((0,y.w)();return gt.run(ae),re};var jt=e(96996)},96996:(B,d,e)=>{"use strict";e.r(d),e.d(d,{activeHomepageVideoSelector:()=>Ne,activePlacePageIdSelector:()=>y,activeSceneSlugSelector:()=>O,brandSelector:()=>z,ctasViewedSelector:()=>ce,currentLanguageSelector:()=>E,currentSceneSelector:()=>s,currentUnitSelector:()=>$,currentUniversalMenuSelector:()=>X,detailsMenuSelector:()=>q,deviceMotionSelector:()=>U,directionInputsSelector:()=>S,directionsInfoSelector:()=>L,guideCardSelector:()=>t,hasFinishedTourBeenDismissedSelector:()=>Z,homepageAnimationStatusSelector:()=>Ce,hoveredItemIdSelector:()=>k,isAllTabLabelsPanelOpenSelector:()=>c,isAudioFinishedSelector:()=>Fe,isAudioPlayingSelector:()=>Le,isAudioPlayingTemSelector:()=>Ue,isCtaOpenedSelector:()=>ve,isCurrentLanguageUpdatedSelector:()=>f,isFinishedTourShowSelector:()=>x,isHomepageMapFullScreenModeSelector:()=>p,isLabelsPanelButtonShowSelector:()=>r,isLabelsPanelOpenSelector:()=>v,isMapExpandedSelector:()=>n,isSceneClickedFromAllTabSelector:()=>J,isSelfGuideOnSelector:()=>Ie,isSelfGuidedDirectionsShowingSelector:()=>ge,isStandaloneMapModeSelector:()=>o,isStandaloneSceneSelector:()=>Se,isUniversalMenuOpenSelector:()=>ee,labelsSelector:()=>G,languageSelector:()=>i,nestedLayerInfoInHomepageMapSelector:()=>T,nestedLayerInfoSelector:()=>ne,ogTourSelector:()=>Y,pagesSelector:()=>M,placePagesInfoSelector:()=>g,polygonsSelector:()=>W,positionSelector:()=>ue,preferredAudioStatusSelector:()=>De,sceneIndicatorsVisitedStatus:()=>Me,sceneRotationSelector:()=>F,scenesListInCurrentTourSelector:()=>se,scenesSelector:()=>l,selectedLabelsInCurrentTourSelector:()=>K,selectedLabelsSelector:()=>w,singlePlacePageSelector:()=>te,siteNameSelector:()=>V,standaloneMapPanelStatusSelector:()=>m,tenantSelector:()=>Ve,tourEventsSelector:()=>H,tourHomepageSelector:()=>Re,tourKeySelector:()=>A,tourProgressionModeSelector:()=>D,tourSelector:()=>u,toursSelector:()=>C,transportationModeSelector:()=>P,unitSelector:()=>h,versionHashSelector:()=>ye,webpSupportSelector:);const t=a=>a.guideCard,l=a=>a.scenes2.scenes,s=a=>a.scenes2.currentScene,n=a=>a.map.isMapExpanded,o=a=>a.map.isStandaloneMapMode,p=a=>a.map.isHomepageMapFullScreenMode,T=a=>a.map.nestedLayerInfoInHomepageMap,m=a=>a.map.standaloneMapPanelStatus,g=a=>a.map.placePagesInfo,y=a=>a.map.activePlacePageId,O=a=>a.map.activeSceneSlug,S=a=>a.map.directionInputs,P=a=>a.map.transportationMode,L=a=>a.map.directionsInfo,u=a=>a.currentTour.tour,A=a=>a.currentTour.tourKey,H=a=>a.currentTour.tourEvents,C=a=>a.tours,M=a=>a.pages,F=a=>a.sceneRotation,U=a=>a.deviceMotion,D=a=>a.finishedTour.tourProgressionMode,x=a=>a.finishedTour.isFinishedTourShow,Z=a=>a.finishedTour.hasFinishedTourBeenDismissed,X=a=>a.universalMenu.currentUniversalMenuTab,ne=a=>a.universalMenu.nestedLayerInfo,ee=a=>a.universalMenu.isUniversalMenuOpen,J=a=>a.scenes2.isSceneClickedFromAllTab,se=a=>a.scenes2.scenesListInCurrentTour,q=a=>a.detailsMenuTour,V=a=>a.site,G=a=>a.label.Labels,w=a=>a.label.selectedLabels,K=a=>a.label.selectedLabelsInCurrentTour,v=a=>a.label.labelsPanel.isLabelsPanelOpen,c=a=>a.label.labelsPanel.isAllTabLabelsPanelOpen,r=i=a=>a.language,E=a=>a.language.currentLanguage,f=a=>a.language.isCurrentLanguageUpdated,h=a=>a.unitSystem.units,$=a=>a.unitSystem.currentUnit,z=a=>a.branding,Y=a=>a.tour,k=a=>a.map.hoveredItemId,W=a=>a.map.polygons,te=a=>a.map.singlePlacePage,ue=a=>a.map.position,ge=a=>a.map.isSelfGuidedDirectionsShowing,Le=a=>a.guideAudio.isGuideAudioOn,Fe=a=>a.guideAudio.isAudioFinished,Ue=a=>a.guideAudio.isAudioPlayingTem,Ie=a=>a.selfGuide.isSelfGuideOn,De=a=>a.guideAudio.preferredAudioStatus,ve=a=>a.cta.isCtaOpened,Se=a=>a.scenes2.standaloneSceneStatus,Ne=a=>a.homepage.activeHomepageVideo,Re=a=>a.homepage.tourHomepage,Ce=a=>a.homepage.animationStatus,ye=Ve=a=>a.tenant,Me=a=>a.sceneIndicators,Ae=a=>a.supportsWebP,ce=,25893:,B=>{var d=B.O(0,[532,111,633,995,903,384],;var e=B.O()}]);
