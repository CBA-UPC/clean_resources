"use strict";(self.webpackChunkWPS_Drive=self.webpackChunkWPS_Drive||[]).push([[3280],{87389:function(e,t,n){n.d(t,{RE:function(){return X},SL:function(){return Q},dw:function(){return V},fS:);var r=n(37311),i=n(2406),o=n.n(i),s=n(20144),a=n(19575),c=n(19175),u=n(41609),d=n.n(u),p=n(26743),l=n(49200),f=n(423),m=n(6887),h=n(16473),w=n.n(h),g=n(41546),b=n(54177),v=n(19106),y=n(31547),_=n(27361),C=n.n(_),k=n(3676),O=n(7018),U=n(36026),R=n.n(U),L=(n(65297),n(8400),n(45821),n(89744),n(57247),n(39870),n(35244)),S=(n(30481),[/api\/report/,/contacts\/recommend/,/v5\/companies/,/v3\/groups\/\d+\/role_members/,/v3\/search\/company\/\d+\/members/,/v3\/search\/groups\/\d+\/members/,/company\/\d+\/detail/,/api\/\d+\/department\/curlevel/,/api\/\d+\/dept\/users/,/app\/job\/v1\/syncuser\/companies/,/api\/contact\/relation/,/api\/v5\/corpgroups\/corpindex/,/api\/user\/userinfo/,/api\/v3\/links\/\d+\?include=members/]),x=new O.PlugCtr("kso");function I(e){return{code:0,data:e||{}}}var P={kdocs:{"/kd/api/user/config":{methods:{get:function(e){var t=(e||{}).key;return I(t?{companyHelperGuide:{status:1},corpIndexMemberGuide:{status:0},teamMemberReadOnlyGuide:{status:0},shareGuide:{status:1},spaceFull:{value:""},jinxiaomenghello:{status:1}}[t]:{status:0})},post:function(){return I({result:"ok"})}}},"/kdg/api/v1/cards/type/\\d+":{methods:{get:},"/kdg/api/v1/user/setting":{methods:{get:function(){return{code:0,result:"OK",data:{isShowedPcTeamGuide:!1,isShowedKnowledgeTreeSortGuide:!1,isShowedKnowledgeTreeGuide:!1,isShowedKnowledgeHistoryDataGuide:!1,isShowedTextSwitchGuide:!0,isShowedTextEntryClick:!0,isShowedTextOpenClick:!0,isEnabledFp:!1,isEnabledDBSheet:!1,isSaveOnTable:!1,isSaveOnPWA:!0,isEnabledPersonalTeam:!0,isShowedFulltextCommentCloseTip:!1,isShowChangeFrameworkEntNoviceGuidance:!0,isSettingCommonAsLabel:!1,isCommonUnfold:!0,isLabelUnfold:!0,isSkippedBindingMobile:!1}}},put:},"/kdteam/api/v1/team/\\d+":{methods:{get:function(){return{code:0,result:"OK",data:{sources:["yundoc"]}}}}},"/api/kdocs/file/\\d+/application/editing":{methods:{get:function(){return{allow_apply_edit:1}}}},"/kd/api/wenjuan/user":{methods:{get:},"/kdg/api/v1/cards/king-skin":{methods:{get:function(){return{code:0,result:"OK",data:{kingSkinCard:{data:"",id:"jinxiaomeng",name:"jinxiaomeng",type:20}}}}}},"/kdg/api/v1/file/creator/\\d+":{methods:{get:function(){return{code:0,result:"OK",data:{creator:238660632,ctime:1627436854,username:"超级管理员1",avatar:"https://imagebucket.test.wpscdn.cn/238660632_143685c0f7d3c42d6ae5b23672f35d8b?imageMogr2/thumbnail/180x180!"}}}}},"/kdg/api/v1/configure":{methods:{get:function(e){return{code:0,result:"OK",data:{forbidSider:{forbidSider:1},messagecenterv2:{messagecenterv2:0},inboxSwitch:{inboxSwitch:null},fullTextCommentConfig:{fullTextCommentConfig:'{"supports": "wps,otl","autoOnWhenCreated": "","autoOnWhenShared": "wps,otl"}'},skippedBindingMobile:{skippedBindingMobile:!1}}["string"==typeof e?e.split("=")[1]:e.idList]}}}},"/wx_adapter/v1/mp/subscribe/vip_zcgl":{metlt:"ok"}}}},"/kdg/api/v1/params/baseOperation/sub_keys":{methods:{get:function(e){return{code:0,result:"OK",data:{keyboard_move:{keyboard_move:{keyboard_move:1}}}["string"==typeof e?e.split("=")[1]:e.subKeys]}}}},"/kdg/api/v1/params/square/sub_keys":{methods:{get:function(e){return{code:0,result:"OK",data:{wechatApplyEdit:{}}["string"==typeof e?e.split("=")[1]:e.subKeys]}}}},"/kdg/api/v1/square/event/check":{methods:{get:function(){return{code:0,result:"OK",data:{isSquareDoc:eturn e}var D=K(K(K(K(K({},{account:{"/api/certification":{metlt:"ok"}}}}}}),{drive:{"/api/v3/groups/secret":{methods:{get:function(){return{}}}},"/api/v5/corpgroups/corpindex":{metrn{id:0}}}},"/api/v3/groups/0/members":{methods:{get:function(){return{}}}},"/api/v3/groups/special":{methods:{get:function(){return{corpid:0,creator:{},ctime:0,default_type:"None",event_alert:1,group_type:"special",id:0,member_count:1,member_count_limit:1,mtime:0,name:"我的云文档",secure:!1,type:"special",user_role:"creator"}}},version:["oem"]},"/api/v5/groups/special/fult:"ok",files:[]}}}}}}),P),{plus:{"/ops/opsd/api/v1/policy":{methods:{get:function(){return{data:[],debug:{entity_model:null},policy_id:0,policy_name:"",task_id:0,total:0}}}},"/app/groupext/v1/template/groups":{methods:{get:function(){return{data:[]}}}}}}),{plussvr:{"/compose/api/v1/companies/\\d+/enterprise_unction(){return{}}}},"/api/comes:[],result:"ok"}}},version:["oversea"]},"/api/user/userfo:{},result:"ok"}}},version:["oversea"]},"/sysadmin/strategy/v1/sys/me/guides/posit(){return{data:[]}}}}}});m.Z.defaults.withCredentials=!0;var N="undefined"==typeof window?n.g:window,q=N&&N.__KD_CONFIG__&&N.__KD_CONFIG__.props&&"oem"===N.__KD_CONFIG__.props.release,E={NODE_ENV:"production",PROD:void 0}.KAE_LOGIN_ACCESSID;function G(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=m.Z.create(e);(0,p.isServerRendering)()||(n.addInjector(g.default),t&&n.addInjector(b.Z),n.addInjector(v.Z,w(),{exclude:function(e){return S.some((function(t){return t.test(C()(e,"response.request.responseURL",""))}))}}),n.addInjector(y.Z,(function(){if(k.F.unLoginRedirect){var e="".concat(f.yV,"?cb=").concat(encodeURIComponent(window.location.href));E&&(e="".concat(f.yV,"?accessid=").concat(E,"&cb=").concat(encodeURIComponent(window.location.href))),window.location.replace(e)}})),n.interceptors.request.use((function(e){if(window.$ksoui_customProxyPath){var t=e.baseURL.match(/(\w+)\.wps\.cn/)[1];e.baseURL=(0,f.BV)("".concat(window.$ksoui_customProxyPath,"/").concat(t))}return e})),q&&n.interceptors.request.use(T));var r=n.interceptors.request.handlers&&n.interceptors.request.handlers.find((function(e){return e.fulfilled&&e.fulfilled.ecisInterceptor}));if(!r){var i=function(e){return x.ask("request",e,e)};i.ecisInterceptor=!0;var o=n.interceptors.request.use;n.interceptors.request.use=function(){var e=this,t=null;if(n.interceptors.request&&n.interceptors.request.handlers&&n.interceptors.request.handlers.length>0){var r=n.interceptors.request.handlers.findIndex((function(e){return e.fulfilled&&e.fulfilled.ecisInterceptor}));r>-1&&(t=n.interceptors.request.handlers.splice(r,1)[0])}for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var c=o.call.apply(o,[e].concat(s));return!t||s&&s[0]&&s[0].ecisInterceptor||n.interceptors.request.handlers.push(t),c},n.interceptors.request.use(i)}var s=n.interceptors.response.handlers&&n.interceptors.resped.ecisIntercepsk("response",e,e)};a.ecisInterceptor=!0,n.interceptors.response.use(a)}return n}function T(e){var t=window.__KD_ENCRYPTION_CONFIG__.release;if(t&&!e.$$mock){var n=e.method,r=e.params,i=e.url,o=null;Object.keys(D).forEach((function(s){Object.keys(D[s]).forEach((function(a){var c=D[s][a],u=c.methods,d=c.version;(d&&~d.indexOf(t)||void 0===d)&&Object.keys(u).forEach((function(t){var s=u[t],c=new RegExp(a.replace(new RegExp("/","g"),"\\/"));if(t=t.toLowerCase(),n.toUpperCase()===t.toUpperCase()&&c.test(i)){var d="get"===n&&r||e.data||i.split("?")[1];o=s(d)}}))}))})),o&&(e.adapter=function(){return new Promise((function(t,n){R()(t,n,{status:200,statusText:"OK",data:o,config:e,headers:{status:200,statusText:"OK"},request:{fromCache:!0}})}))},e.xMocked=!0),e.$$mock=!0}return e}G({baseURL:f.yV,withCredentials:!0,timeout:3e4}),G({baseURL:f.fy,withCredentials:!0,timeout:3e4}),G({baseURL:f.cv,withCredentials:!0,timeout:3e4}),m.Z.CancelToken,G({baseURL:f.cv,withCredentials:!0}),G({baseURL:f.fy,withCredentials:!0}),G({baseURL:f.Pq,withCredentials:!0});var A=G({baseURL:f.UX,withCredentials:!0}),F=(function(){try{var e={not_exist:void 0,fiting:!0,finish:!1}}catch(e){return!1}}(),G({baseURL:f.UX,withCredentials:!0,notTransformBaseUrl:!1}),G({baseURL:f.cv,withCredentials:!0}),"undefined"==typeof window?n.g:window);F&&F.__KD_CONFIG__&&F.__KD_CONFIG__.props&&F.__KD_CONFIG__.props.release,G({baseURL:f.cv,withCredentials:!0}),G({baseURL:f.fy,withCredentials:!0});M="csrf","undefined"!=typeof document&&document&&document.cookie&&L.parse(document.cookie)[M]||null||(0,p.csrfToken)();var M,B="undefined"==typeof window?n.g:window,J=(B&&B.__KD_CONFIG__&&B.__KD_CONFIG__.props&&B.__KD_CONFIG__.props.release,G({baseURL:f.fy,withCredentials:!0,timeout:3e4}),G({baseURL:f.ud,withCredentials:!0}),G({baseURL:f.yV,withCredentials:!0,timeout:3e4},!1),G({baseURL:f.bt,withCredentials:!0,timeout:3e4}),G({baseURL:f.fy,withCredentials:!0,timeout:3e4}),G({baseURL:f.F0,withCredentials:!0}),G({baseURL:f.wr,withCredentials:!0}),G({baseURL:f.UX,withCredentials:!0}),G({baseURL:f.cv,withCredentials:!0}),G({baseURL:f.fy,withCredentials:!0}),G({baseURL:f.UX,withCredentials:!0,onUploadProgress:function(e){return e.loaded/e.total*100}}),G({baseURL:f.rP,withCredentials:!0,timeout:3e4}),G({baseURL:f.Kn,withCredentials:!0,timeout:3e4}),G({baseURL:f.gD,withCredentials:!0,timeout:3e4}),G({baseURL:f.Xf,withCredentials:!0,timeout:3e4}),G({baseURL:f.gD,withCredentials:!0,timeout:3e4}),G({baseURL:f.PP,withCredentials:!0,timeout:3e4}),G({baseURL:f.tV,withCredentials:!0}),G({baseURL:f.n$,withCredentials:!0,timeout:3e4}),G({baseURL:f.fy,withCredentials:!0,timeout:3e4}),G({baseURL:f.xb,withCredentials:!0,timeout:3e4}),("undefined"!=typeof document?document&&L.parse(document.cookie):{}).weboffice_device_id);G({baseURL:f.tV,withCredentials:!0,headers:{"Client-Type":"kdocs-web","Account-Deviceid":J||""},device_id:J,timeout:1e4}),G({baseURL:f.fy,withCredentials:!0,timeout:3e4}),G({baseURL:f.bd,withCredentials:!0}),G({baseURL:f.se,withCredentials:!0}),G({baseURL:f.xM,withCredentials:!0,timeout:5e3}),G({baseURL:f.Pr,withCredentials:!0,timeout:3e4}),G({baseURL:(0,f.P$)("vas2t"),withCredentials:!0,timeout:5e3}),G({baseURL:f.uY,withCredentials:!0,timeout:5e3}),G({baseURL:f.fy,withCredentials:!0,timeout:3e4});function V(e){var t=window,n=t.cefQuery,r=t.clientAPI,i=t.homepageapiasync,o=t.wpsQuery,s=n||window.top.cefQuery||r||i||o,u=e.api,d=e.callback,p=e.method,l=e.params;return new Promise((function(t,n){if("postMessage"===u)Array.isArray(l)&&l.push(d),window.top&&window.top.postMessage&&window.top.postMessage(JSON.stringify({id:d,method:p,params:l}),"*");else if(s){var r=JSON.stringify(e),i="jsAsynCall",o=Object.assign({},e);"fromJSAsynCallBase64"===o.api&&(i=o.api,delete o.api,r=a.Base64.encode(JSON.stringify(o)));var f={request:"".concat(i,"('").concat(r,"')"),persistent:!1,onSuccess:function(){o.type&&"web_open_client"===o.type&&"openFile"===o.method&&X({method:"closeDialog",api:"fromJSAsynCallBase64"}).catch((function(){})),t("invoke success")},onFailure:function(e,t){n((0,c.XR)({result:t,code:"apiUnsupport"}))}};"jsAsynCall"in s&&(s=s.jsAsynCall,f=r),console.log("Orgin Query:",e),console.log("invoke Query:",f);var m="request: ".concat(i,"('").concat(r,"')");console.log("st=>",m);try{s(f)}catch(e){console.log(e)}t(!0)}else n((0,c.XR)({code:"apiUnsupport"}))}))}var W,$=function(){if(W)return W;try{var e=window.__UA__||{},t=e.WPS,n=e.wps2016;if(t&&!n)return W=window;W=window.top}catch(e){W=window}return d()(W)?W=window.top&&!d()(window.top)?window.top:window:W};function X(e){var t=e.method,n=e.callback,r=Math.floor(1e8*Math.random());return n=n||"CEF_CALLBACK_".concat(t.replace(/\./g,"_").toUpperCase(),"_").concat(r),new Promise((function(t,r){var i=null,o=$();return o[n]=function(s){!e.keepWait&&clearTimeout(i);try{var a=JSON.parse(s);"error"===a.callstatus?r(a):t(a)}catch(e){t(s)}o[n]=function(){}},e.keepWait||(i=setTimeout((function(){r((0,c.XR)({code:"apiUnsupport",timeout:!0}))}),1500)),V(Object.assign({calion(e){return r(e)}))}))}!s.default.prototype.$isServer&&window.addEventListener("message",(function(e){if("string"==typeof e.data)try{var t=JSON.parse(e.data),n=$();"callback"===t.type&&n[t.name]&&(n[t.name](JSON.stringify(t.name]=function(){})}catch(e){console.log(e)}}),!1);var Z=null,Q=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=2;break}return e.abrupt("return",Z);case 2:return e.prev=2,e.next=5,X({method:"getWpsVersionInfo"});case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2);case 10:return e.prev=10,e.next=13,X({method:"common.wpsoffice.getAppInfo",params:{}});case 13:return t=e.sent,Z="[object Object]"===Object.prototype.toString.call(t)?t:JSON.parse(t),e.abrupt("return",Z);case 18:e.prev=18,e.t1=e.catch(10);case 20:case"end":return e.stop()}}),e,null,[[2,8],[ly(this,arguments)}}(),H=function(e,t){for(var n=e?e.split("."):[],r=t?t.split("."):[],i=Math.max(n.length,r.length),o=0;o<i;o++){var s=n[o]?parseInt(n[o]):0,a=r[o]?parseInt(r[o]):0;if(s>a)return 1;if(s<a)return-1}return 0}}}]);
