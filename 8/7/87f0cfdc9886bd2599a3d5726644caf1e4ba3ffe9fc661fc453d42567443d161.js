"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[52],{92073:function(o,e,n){n.d(e,{Q:);var t=n(59312),r=n(26888),u=n(13354),l=n(5294),i=function(o){var e=void 0===o?{}:o,n=e.showPreload,i=void 0===n?function(o,e){var n=(0,r.Dv)((,{customData:{isIframe:!0},beforeClose:function(){var o,t;n,null===(t=null===(o=null==e?void 0:e.current)||void 0===o?void 0:o.abort)||void 0===t||t.call(o)}});return(0,r.V5)(!0),n}:n,a=e.closePreload,c=void 0===a?a,s=(0,u.useRef)(new AbortController);(0,u.useEffect)((function(){var o=s.current;return function(){null==o||o.abort()}}),[s]);var p=(0,u.useCallback)((function(o){return(0,t.mG)(void 0,void 0,void 0,(function(){var e,n,r,u;return(0,t.Jh)(this,(function(t){switch(t.label){case 0:e=null,null===(u=s.current)||void 0===u||u.abort(),s.current=new AbortController,n=i(e,s),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,l.race([o(s.current),new l((function(o,e){s.current.signal.aborted&&e("canceled")})),new l((function(o,e){window.setTimeout((,1e4)}))])];case 2:return r=t.sent(),Array.isArray(r)&&e!==n?r[0].errors?(c(n),[2,!1]):(c(n),[2,r]):(c(n),[2,!1]);case 3:return t.sent(),c(n),[3,4];case 4:return[2,!1]}}))}))}),[i,c]);return{preLoadPopup:p}}},35924:function(o,e,n){n.d(e,{l:function(){return u}});var t=n(90685);ar u=function(){function o(){var o=this;this.defaultTimer=3e3,this.connectionAttempt=0,this.radix=36,this._checkConnection=function(){var e=new URL(window.location.origin);e.searchParams.set("hash",o.getRandomString),fetch(e.toString()).then((function(e){var n=e.status;n>=200&&n<500&&(window.clearInterval(o.intervalID),t.Z.dispatch(r)("connected"),setTimeout((function(){t.Z.dispatch(r)("online"),document.body.classList.remove("__no_connect"),window.location.reload()}),o.defaultTimer))})).catch((function(){o.connectionAttempt+=1,5===o.connectionAttempt&&(window.clearInterval(o.intervalID),o.checkConnection(2*o.defaultTimer))}))}}return Object.defineProperty(o,"instance",{get:enumerable:!1,configurable:!0}),o.prototype.init=function(){window.addEventListener("offline",(function(){t.Z.dispatch(r)("offline")}))},Object.defineProperty(o.prototype,"getRandomString",{get:function(){return Math.random().toString(this.radix).substring(2,15)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"getStatus",{get:enumerable:!1,configurable:!0}),o.prototype.checkConnection=function(o){void 0===o&&(o=this.defaultTimer),document.body.classList.add("__no_connect"),this.intervalID=window.setInterval(this._checkConnection,o)},Object.defineProperty(o.prototype,"isOfflineStatus",{get:enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"iOSIsInstalled",{get:enumerable:!1,configurable:!0}),o.prototype.navigateRequest=o}()},12918:function(o,e,n){n.d(e,{dp:function(){return I},pV:function(){return S},Jr:function(){return y},d2:function(){return i},uG:function(){return g},SK:function(){return k},zj:function(){return a.z}});var t=n(59312),r=n(77028),u=n(40782),l=n(13354),i=function(o){var e=o.deleteAlbumApiUrl,n=void 0===e?{url:"",method:"post"}:e,i=o.albumId,a=o.deleteAlbumConfirmText,c=o.onSuccess,s=void 0===c?r.noop:c,p=(0,l.useState)(!1),d=p[0],f=p[1],m=(0,l.useRef)(new AbortController);return(0,l.useEffect)((function(){var o=m.current;return ),[]),{handleClickAlbumDelete:function(o){if(o.preventDefault(),o.stopPropagation(),d||!confirm(a))return!1;(0,t.mG)(void 0,void 0,void 0,(function(){var o;return(0,t.Jh)(this,(function(e){switch(e.label){case 0:return d?[2]:(f(!0),[4,(0,u.LS)(n.url,{method:n.method.toUpperCase(),body:JSON.stringify({id:i}),abortController:m.current})]);case 1:return o=e.sent(),f(!1),o.errors?(o.errors.global.length&&alert(o.errors.global[0]),[2]):(s(i),[2])}}))}))}}},a=n(1497),c=n(78188),s=n(90685),p=n(24595),d=n(28461),f=n(79665),m=n(51669),v=n(41121),h=n(5294),b=function(o){var e=o.albumPasswordPopupDataApiUrl,t=o.onAcceptPasswordSuccess,l=function(o){var e=o.albumPasswordPopupDataApiUrl,t=o.onAcceptPasswordSuccess;return{openProtectedAlbumImagesPopup:(0,f.j)({loader:function(o){var t=[d.LM.PROFILE_POPUP,m.Go?d.LM.ARABIC_PROFILE_POPUP:null].filter(Boolean);return h.all([(0,u.Nv)(e,{abortController:o}),h.all([n.e(47),n.e(42)]).then(n.bind(n,33910)),t.map((function(o){(0,p.K)(o,document.head,{"data-exclude":!0},(0,v.Q)())}))])},popupProps:{onAcceptPasswordSuccess:t},fancyOptions:{border:"none",padding:0,closeBtn:!1,closeEsc:!0,closeClick:!0,wrapClassName:"bc_profile_popup_wrp __prf_p_album"}}).openLoadPopupFancybox}}({albumPasswordPopupDataApiUrl:e,onAcceptPasswordSuccess:void 0===t?r.noop:t}).openProtectedAlbumImagesPopup;return{openProtectedAlbumImagesPopup:l}},P=n(81505),A=n(94353),_=n(65311),C=void 0,g=function(o){var e=o.isProtected,n=o.isAccessGranted,t=o.albumPhotosPopupDataApiUrl,u=o.photoPopupDataApiUrl,i=o.isAuthenticated,a=o.updateAlbumProfileAlbumsAction,p=void 0===a?r.noop:a,d=o.albumId,f=function(o){var e=o.isAuthenticated,n=void 0!==e&&e,t=o.isProtected,u=o.isBCM,i=o.isAccessGranted,a=o.albumPhotosPopupDataApiUrl,c=o.albumPasswordPopupDataApiUrl,s=o.photoPopupDataApiUrl,p=o.onAcceptPasswordSuccess,d=void 0===p?r.noop:p,f=(0,l.useRef)(null),m=(0,l.useRef)(null),v=(0,l.useRef)(a),h=(0,l.useRef)(c),g=(0,l.useState)(i),k=g[0],w=g[1];(0,l.useEffect)((function(){v.current=a}),[a]),(0,l.useEffect)((,[c]),(0,l.useEffect)((,[i]);var U=(0,A.q)({albumPopupDataApiUrl:v.current}).openAlbumImagesPopup,D=(0,P.mt)({photoPopupDataApiUrl:s}).openAlbumImagePopup,L=(0,l.useCallback)((function(o){o.albumPhotosPopupDataApiUrl&&(v.current=o.albumPhotosPopupDataApiUrl,m.current=!0,d(o),w(!0))}),[d]),I=b({albumPasswordPopupDataApiUrl:h.current,onAcceptPasswordSuccess:L}).openProtectedAlbumImagesPopup;return(0,l.useEffect)((function(){m.current&&f.current&&(2===f.current&&U(),1===f.current&&D(),m.current=!1,f.current=!1)}),[U,D]),{handleClickAlbum:function(o){if(o.preventDefault(),n||!t){if(t&&!k)return f.current=2,void I();U()}else{if(u)return;_.signupEvent.call(C)}},handleClickPhoto:function(o){if(o.preventDefault(),n||!t){if(t&&!k)return f.current=1,void I();D()}else{if(u)return;_.signupEvent.call(C)}}}}({isAuthenticated:i,isProtected:e,isBCM:(0,c.v9)((),isAccessGranted:n,albumPhotosPopupDataApiUrl:t,photoPopupDataApiUrl:u,albumPasswordPopupDataApiUrl:t,onAcceptPasswordSuccess:(0,l.useCallback)((function(o){o.albumPhotosPopupDataApiUrl&&s.Z.action(p)({albumId:d,newParams:{isAccessGranted:!0,albumPhotosPopupDataApiUrl:o.albumPhotosPopupDataApiUrl,thumbImage:{src:o.albumPhotoUrl}}})}),[d,p])}),m=f.handleClickAlbum;return{handleClickPhoto:f.handleClickPhoto,handleClickAlbum:m}},k=function(o){var e=o.albumId,n=o.deleteAlbumConfirmText,r=o.deleteAlbumApiUrl,u=o.onDeleteElement,l=g(o),a=i({deleteAlbumApiUrl:r,albumId:e,deleteAlbumConfirmText:n,onSuccess:u}).handleClickAlbumDelete;return(0,t.pi)((0,t.pi)({},l),{handleClickAlbumDelete:a})},w=n(10473),U=n(71050),D=n(55960),L=n(58237),I=function(o){var e=o.thumbImage,n=o.isProtected,t=o.isAccessGranted,u=o.isModelsSkin,l=o.title,i=o.counter,a=o.photosCount,c=o.deleteAlbumApiUrl,s=o.noPhotosText,p=void 0===s?null:s,d=o.addPhotosText,f=void 0===d?null:d,m=o.handleClickAlbumDelete,v=void 0===m?r.noop:m,h=o.handleClickPhoto,b=void 0===h?r.noop:h,P=o.handleClickAlbum,A=void 0===P?r.noop:P,_=!t&&(u||n),C=a>0,g=!C;return(0,w.h)("div",{className:"bc_media_thumb __picture"},(0,w.h)("div",{className:(0,U.Z)({"bc_flex mt_body":!0,"__empty bc_flex_column bc_flex_items_center bc_flex_justify_s_around":!u&&g,"__empty __e_model bc_flex_column bc_flex_full_center":u&&g,bc_flex_justify_center:C}),onClick:b},C&&(0,w.h)("img",{className:(0,U.Z)({mt_img:!0,__protected:_}),src:e.src,alt:null==e?void 0:e.alt}),g&&(0,w.h)(w.HY,null,(0,w.h)(L.Z,{group:"mt_empty_icon",icon:"#svg_pfm_empty_plus",url:D.ML}),Boolean(p)&&(0,w.h)("div",{className:"mt_empty_desc"},p),Boolean(f)&&(0,w.h)("div",{className:"mt_empty_link"},f)),_&&(0,w.h)(L.Z,{group:"mt_status_icon",icon:"#svg_pfm_lock",url:D.ML}),c&&(0,w.h)("div",{className:"mt_close",onClick:v},(0,w.h)(L.Z,{group:"mt_close_icon",icon:"#svg_pfm_bubble_close",url:D.ML}))),(0,w.h)("div",{className:"mt_footer bc_flex bc_flex_items_end"},(0,w.h)("span",{className:"mt_item __title",onClick:A},l),(0,w.h)("span",{className:"mt_item __counter"},i)))},x=n(80632),y=(0,l.memo)((function(o){var e=o.photosLink,n=o.title,u=o.thumbImage,l=o.photosCount,i=o.counter,a=o.isProtected,c=o.isAccessGranted,s=o.isModelsSkin,p=o.albumPhotosPopupDataApiUrl,d=o.photoPopupDataApiUrl,f=o.isAuthenticated,m=o.updateAlbumProfileAlbumsAction,v=void 0===m?r.noop:m,h=o.albumId,b=void 0===h?null:h,P=o.deleteAlbumConfirmText,A=void 0===P?null:P,_=o.deleteAlbumApiUrl,C=void 0===_?null:_,g=o.addPhotosText,U=void 0===g?null:g,D=o.noPhotosText,L=void 0===D?null:D,y=o.onDeleteElement,O=function(o){var e=o.isAccessGranted,n=o.photosLink,r=k(o),u=r.handleClickAlbum,l=r.handleClickPhoto,i=function(o){o.preventDefault(),!n||n&&!(null==n?void 0:n.url)||(window.location.href=(0,x.Ol)(n.url))};return(0,t.pi)((0,t.pi)({},r),{handleClickPhoto:function(o){e?i(o):l(o)},handleClickAlbum:)}({isAuthenticated:f,isProtected:a,isAccessGranted:c,albumPhotosPopupDataApiUrl:p,photoPopupDataApiUrl:d,updateAlbumProfileAlbumsAction:v,albumId:b,deleteAlbumConfirmText:A,deleteAlbumApiUrl:C,onDeleteElement:void 0===y?r.noop:y,photosLink:e}),S=O.handleClickAlbum,E=O.handleClickPhoto,R=O.handleClickAlbumDelete;return(0,w.h)(I,{title:n,photosCount:l,counter:i,thumbImage:u,isProtected:a,isModelsSkin:s,isAccessGranted:c,deleteAlbumApiUrl:C,addPhotosText:U,noPhotosText:L,handleClickAlbum:S,handleClickPhoto:E,handleClickAlbumDelete:R})})),O=(0,l.memo)((function(o){var e=o.title,n=o.thumbImage,t=o.photosCount,u=o.counter,l=o.isProtected,i=o.isAccessGranted,a=o.albumPhotosPopupDataApiUrl,c=o.photoPopupDataApiUrl,s=o.isAuthenticated,p=o.updateAlbumProfileAlbumsAction,d=void 0===p?r.noop:p,f=o.albumId,m=void 0===f?null:f,v=o.isModelsSkin,h=void 0!==v&&v,b=o.deleteAlbumConfirmText,P=void 0===b?null:b,A=o.deleteAlbumApiUrl,_=void 0===A?null:A,C=o.addPhotosText,k=void 0===C?null:C,U=o.noPhotosText,D=void 0===U?null:U,L=g({isAuthenticated:s,isProtected:l,isAccessGranted:i,albumPhotosPopupDataApiUrl:a,photoPopupDataApiUrl:c,updateAlbumProfileAlbumsAction:d,albumId:m,deleteAlbumConfirmText:P,deleteAlbumApiUrl:_}),x=L.handleClickAlbum,y=L.handleClickPhoto;return(0,w.h)(I,{isModelsSkin:h,title:e,photosCount:t,counter:u,thumbImage:n,isProtected:l,isAccessGranted:i,deleteAlbumApiUrl:_,addPhotosText:k,noPhotosText:D,handleClickAlbum:x,handleClickPhoto:y})})),S=/^(10|20|21|9)$/.test(n.j)?null:O},13141:function(o,e,n){var t=n(59312),r=n(91960);e.Z=function(o){return(0,t.mG)(void 0,void 0,void 0,(function(){var e,n,u,l,i,a,c,s,p,d,f,m,v,h,b,P,A,_,C;return(0,t.Jh)(this,(function(g){switch(g.label){case 0:return e=o,(null===(l=null===(u=null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.photo)||void 0===u?void 0:u.image)||void 0===l?void 0:l.src)?[4,(0,r.p)(null===(c=null===(a=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.photo)||void 0===a?void 0:a.image)||void 0===c?void 0:c.src)]:[3,4];case 1:return g.sent()?[2,e]:[3,2];case 2:return(null===(d=null===(p=null===(s=null==o?void 0:o.data)||void 0===s?void 0:s.photo)||void 0===p?void 0:p.imageFallback)||void 0===d?void 0:d.src)?[4,(0,r.p)(null===(v=null===(m=null===(f=null==o?void 0:o.data)||void 0===f?void 0:f.photo)||void 0===m?void 0:m.imageFallback)||void 0===v?void 0:v.src)]:[3,4];case 3:g.sent(),e.data=(0,t.pi)((0,t.pi)({},e.data),{photo:(0,t.pi)((0,t.pi)({},null===(h=e.data)||void 0===h?void 0:h.photo),{image:(0,t.pi)((0,t.pi)({},null===(P=null===(b=e.data)||void 0===b?void 0:b.photo)||void 0===P?void 0:P.image),{src:null===(C=null===(_=null===(A=null==e?void 0:e.data)||void 0===A?void 0:A.photo)||void 0===_?void 0:_.imageFallback)||void 0===C?void 0:C.src}),imageFallback:null})}),g.label=4;case 4:return[2,e]}}))}))}},79566:function(o,e,n){n.d(e,{r:function(){return l}});var t=n(59312),r=n(40782),u=n(13141),l=function(o){return(0,t.mG)(void 0,void 0,void 0,(function(){var e,n,l,i,a;return(0,t.Jh)(this,(function(t){switch(t.label){case 0:return e=o.photoPopupDataApiUrl,n=o.abortController,l=o.imageLoader,i=void 0===l?u.Z:l,[4,(0,r.Nv)(e,{abortController:n})];case 1:return(null==(a=t.sent())?void 0:a.errors)?[2,a]:[2,i(a)]}}))}))}},68284:function(o,e,n){n.d(e,{m:function(){return m}});var t=n(59312),r=n(80020),u=n(24595),l=n(35924),i=n(28461),a=n(23006),c=n(77028),s=n(41121),p=n(51669),d=n(79566),f=n(5294),m=function(o){var e=o.photoPopupDataApiUrl,m=o.onClose,v=void 0===m?c.noop:m,h=o.imageLoader,b=(0,i.jM)({loader:function(o){return(0,t.mG)(void 0,void 0,void 0,(function(){var c,m,b,P;return(0,t.Jh)(this,(function(t){switch(t.label){case 0:return l.l.instance.navigateRequest(window.location.href),c=[i.LM.PROFILE_POPUP,p.Go?i.LM.ARABIC_PROFILE_POPUP:null,a.A.PHOTO_COMMENT].filter(Boolean),[4,(0,d.r)({photoPopupDataApiUrl:e,abortController:o,imageLoader:h})];case 1:return(null==(m=t.sent())?void 0:m.errors)?((0,r.H)(null===(b=null==m?void 0:m.errors.global)||void 0===b?void 0:b[0]).error(),v(),[2,f.reject(null===(P=null==m?void 0:m.errors.global)||void 0===P?void 0:P[0])]):[2,f.all([m,f.all([n.e(6),n.e(32),n.e(31),n.e(57),n.e(62),n.e(43)]).then(n.bind(n,40812)),c.map((function(o){(0,u.K)(o,document.head,{"data-exclude":!0},(0,s.Q)())}))])]}}))}))},fancyOptions:{border:"none",padding:0,closeBtn:!1,closeEsc:!0,closeClick:!0,wrapClassName:"bc_profile_popup_wrp __prf_single"},popupProps:{onClose:v}}).openLoadPopupFancybox;return{openAlbumImagePopup:b}}},81505:function(o,e,n){n.d(e,{rn:function(){return u.r},t4:function(){return r},mt:);var t=n(68284),r=function(o){var e=o.photoUrl,n=void 0===e?"":e,r=(0,t.m)({photoPopupDataApiUrl:n}).openAlbumImagePopup;return{handleClick:},u=(n(13141),n(79566))},94353:function(o,e,n){n.d(e,{q:function(){return s}});var t=n(24595),r=n(40782),u=n(28461),l=n(79665),i=n(51669),a=n(41121),c=n(5294),s=function(o){var e=o.albumPopupDataApiUrl;return{openAlbumImagesPopup:(0,l.j)({loader:function(o){var l=[u.LM.PROFILE_POPUP,i.Go?u.LM.ARABIC_PROFILE_POPUP:null].filter(Boolean);return c.all([(0,r.Nv)(e,{abortController:o}),n.e(41).then(n.bind(n,29764)),l.map((function(o){(0,t.K)(o,document.head,{"data-exclude":!0},(0,a.Q)())}))])},fancyOptions:{border:"none",padding:0,closeBtn:!1,closeEsc:!0,closeClick:!0,wrapClassName:"bc_profile_popup_wrp __prf_album"}}).openLoadPopupFancybox}}},91960:function(o,e,n){n.d(e,{p:function(){return r}});var t=n(5294),r=function(o){return new t(()}},70725:17833:92274:function(o,e,n){n.d(e,{Q:function(){return l}});var t=n(77028),r=n(13354),u=n(5294),l=function(o){var e=o.preLoadPopup,n=o.popupLoader,l=void 0===n?function(o){return new u((function(o){return o([{},null])}))}:n,i=o.afterLoad,a=void 0===i?t.noop:i,c=(0,r.useRef)(!1);return{loadPopupWithPreLoader:(0,r.useCallback)((function(){c.current||(c.current=!0,e(l).then((function(o){if(o){var e=o[0],n=o[1];a([e,n])}})).then(())}),[e,l,a])}}},59953:function(o,e,n){n.d(e,{P:function(){return l}});var t=n(77028),r=n(13354),u=n(92274),l=function(o){var e=o.loader,n=o.closePopup,l=void 0===n?t.noop:n,i=o.showPopup,a=void 0===i?t.noop:i,c=o.preLoadPopup,s=(0,r.useRef)(null),p=(0,r.useCallback)((,[l]);return(0,r.useEffect)((,[p]),{openLoadPopup:(0,u.Q)({preLoadPopup:c,popupLoader:e,afterLoad:).loadPopupWithPreLoader,onCloseLoadPopup:p}}},79665:function(o,e,n){n.d(e,{j:function(){return s}});var t=n(59312),r=n(59953),u=n(92073),l=n(26888),i=n(13354),a=n(10473),c=n(77028),s=function(o){var e=o.loader,n=o.fancyOptions,s=void 0===n?{}:n,p=o.popupProps,d=void 0===p?{}:p,f=o.preLoadPopup,m=d.onClose,v=void 0===m?c.noop:m,h=(0,u.Q)().preLoadPopup,b=f||h,P=(0,i.useCallback)((,[]),A=(0,i.useCallback)((function(o,e,n){var r=n.default,u=function(){"function"==typeof s.onClose&&s.onClose(),P(o),v()};o.current=(0,l.Dv)((function(){return(0,a.h)(r,(0,t.pi)({},e.data,d,{onClose:u}))}),(0,t.pi)((0,t.pi)({},s),{onClose:u}))}),[P,s,v,d]);return{openLoadPopupFancybox:(0,r.P)({loader:e,showPopup:A,closePopup:P,preLoadPopup:b}).openLoadPopup}}}}]);