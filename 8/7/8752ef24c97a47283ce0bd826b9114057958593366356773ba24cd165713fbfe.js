/*! v: 1.1.54_298_prod Mon Jan 29 2024 10:31:09 GMT+0000 (UTC) */![function(e,t,i){!function(e){"use strict";nction n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ction s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}nction u(e){var t=);return function(){var i,n=l(e);if(t){var a=l(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return this)}} m=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];rack:resolveURLTemplates:A,extractURLsFromTemplates:f,containsTemplateObject:_,isTemplateObjectEqual:E,encodeURIComponentRFC3986:y,replaceUrlMacros:v,isNumeric:flatten:joinArrayOfUniqueTemplateObjs:isValidTimeValue:addLeadingZeros:b};ar I={childByName:childrenByName:resolveVastAdTagURI:parseBoolean:T,parseNodeText:copyNodeAttribute:parseAttributes:parseDuration:splitVAST:assignAttributes:mergeWrapperAdData:;tion M(e){var t=[];return e.forEach(function(e){var i,n={id:e.getAttribute("id")||null,adId:e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},a=[];I.childrenByName(e,"UniversalAdId").forEach(;var r=I.childByName(e,"CreativeExtensions");for(var o in r&&(i=w(I.childrenByName(r,"CreativeExtension"))),e.childNodes){var s=e.childNodes[o],d=void 0;switch(s.nodeName){case"Linear":d=C(s,n);break;case"NonLinearAds":d=k(s,n);break;case"CompanionAds":d=V(s,n)}d&&(a&&(d.universalAdIds=a),i&&(d.creativeExtensions=i),t.push(d))}}),t}var L={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};x={verifyRequiredValues:hasSubElements:R,emitMissingValueWarning:P,verifyRequiredAttributes:N,verifyRequiredSubElements:D};,q=r Y=function(e,t,i){if("https:"===window.location.protocol&&0===e.indexOf("http://"))return i(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var n=H();n.open("GET",e),n.timeout=t.timeout||12e4,n.withCredentials=t.withCredentials||!1,n.overrideMimeType&&n.overrideMimeType("text/xml"),n.onload=function(){return t=i,void(200===(e=n).status?t(null,e.responseXML,{byteLength:e.response.length,statusCode:e.status}):G(e,t,!1));var e,t},n.onerror=function(){return G(n,i,!1)},n.onabort=function(){return G(n,i,!1)},n.ontimeout=n.send()}catch(e){i(new Error("XHRURLHandler: Unexpected error"))}},Z=J={get:,X=0,K=0,$=ee={ERRORCODE:900,extensions:[]},te=function(e){d(i,Q);var t=u(i);eturn o(i,[{key:"addURLTemplateFilter",value:,{key:"removeURLTemplateFilter",value:,{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:,{key:"trackVastError",value:,{key:"getErrorURLTemplates",value:,{key:"getEstimatedBitrate",value:function(){return K}},{key:"fetchVAST",value:,{key:"initParsingStatus",value:,{key:"getRemainingAds",value:,{key:"getAndParseVAST",value:,{key:"parseVAST",value:,{key:"buildVASTResponse",value:,{key:"parseVastXml",value:,{key:"parse",value:,{key:"resolveAds",value:,{key:"resolveWrappers",value:,{key:"completeWrapperResolving",value:]),i}(),ie=null,ne={data:{},length:0,getItem:setItem:removeItem:clear:,ae=),re=,e}(),oe=function(e){d(r,Q);var t=u(r);function r(e,i,n){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var d in a(this,r),(o=t.call(this)).ad=i,o.creative=n,o.variation=s,o.muted=!1,o.impressed=!1,o.skippable=!1,o.trackingEvents={},o.lastPercentage=0,o._alreadyTriggeredQuartiles={},o.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],o.creative.trackingEvents){var l=o.creative.trackingEvents[d];o.trackingEvents[d]=l.slice(0)}return"linear"===o.creative.type?o._initLinearTracking():o._initVariationTracking(),e&&o.on("sta()}),o}return o(r,[{key:"_initLinearTracking",vaes}},{key:"_initVariationTracking",va)}}},{key:"setDuration",va})}},{key:"setProgress",vae}}},{key:"isQuartileReached",va,n}},{key:"setMuted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"===n(t)&&(this.muted!==e&&this.track(e?"mute":"unmute",{macros:t}),this.muted=e)}},{key:"setPaused",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"===n(t)&&(this.paused!==e&&this.track(e?"pause":"resume",{macros:t}),this.paused=e)}},{key:"setFullscreen",vae)}},{key:"setExpand",vae)}},{key:"setSkipDelay",vae)}},{key:"trackImpression",va))}},{key:"error",va})}},{key:"errorWithCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof e&&"boolean"==typeof t&&this.error({ERRORCODE:e},t)}},{key:"complete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("complete",{macros:e})}},{key:"notUsed",va])}},{key:"otherAdInteraction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("otherAdInteraction",{macros:e})}},{key:"acceptInvitation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("acceptInvitation",{macros:e})}},{key:"adExpand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("adExpand",{macros:e})}},{key:"adCollapse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("adCollapse",{macros:e})}},{key:"minimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("minimize",{macros:e})}},{key:"verificationNotExecuted",va}}}},{key:"overlayViewDuration",va))}},{key:"close",va})}},{key:"skip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("skip",{macros:e})}},{key:"load",va})}},{key:"click",va}}}},{key:"track",va)}}},{key:"trackURLs",var)}},{key:"convertToTimecode",va))}},{key:"progressFormatted",vas)}}]),r}();e.VASTClient=re,e.VASTParser=te,e.VASTTracker=oe,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.r(t);var a={isIfr0}},getWindow:function(){return window},getTopWindow:function(){return this.isIframe()&&this.isTopWindowAccessable()?window.top:window},isTopWindowAccessable:function(){var e;try{e=window.top.document}catch(e){return!1}return null!==e},getTopDocument:function(){return this.getTopWindow().document},getDocument:function(){return this.getWindow().document},getPageef},getNavigaor},createElement:function(e,t,i,a){var r=a||this.getDocument(),o=r.createElement(e),s=r.getElementsByTagName(t)[0];return function e(t,i){for(var a in i){var r=i[a];"object"==n(r)?e(t[a],r):t[a]=r}}(o,i),s.appendChild(o),o},findElement:function(e,t,i,n){for(var a=(n||this.getDocument()).getElementsByTagName(e),r=0;r<a.length;r++){var o=a[r],s=o[t];if(i.test(s))return o}},findScrt)},getIframeDocumnt},acirNotEx')},getBrowserName:function(){var e,t=this.getNavigator().userAgent,i=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?{name:"IE ",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===i[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?{name:"Opera",version:e[1]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),{name:i[0],version:i[1]})}},r=null,o=null,s={},d={},l={},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return s.get(e)||tt)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e in d?d[e]:t},p=function(){return l},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e in l?l[e]:t},A=function(e){try{var t=JSON.parse(e);"adm"in=e}(t.adm)}catch(e){}};function v(e){var t;return window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t}function g(e,t){var i=v(e).querySelector(t);if(0===i.length)throw"Not found XML node:"+t;var n=i.textContent.replace("<![CDATA[","").replace("]]>","");if(!n)throw"no content in XML node "+t;return n}var f=function(e,t){!function(e,t){var i=u("sid",!1),n={event:e,message:t,timestamp:(new Date).getTime()},a="lreprx:"+(i?i+":":"")+"//"+JSON.stringify(n);window.parent.postMessage(a,"*"),window.parent!==window&&window.postMessage(a,"*");try{if(window.parent!==window.top){window.top.postMessage(a,"*");for(var r=0;r<window.top.frames.length;r++)try{window.top.frames[r].postMessage(a,"*")}catch(e){}}}catch(e){}}(e,t)e)};function E(e,t){if(!Array.isArray(e))throw new Error("Input is not an array.");return 0===e.length?null:null==e._rr?(e._rr=0,e[0]):1===e.length?e[0]:("number"==typeof t&&(e._rr=t),e._rr>=e.length-1||e._rr<0?(e._rr=0,e[0]):(e._rr+=1,e[e._rr e}function b(e){try{return new URL(e).hostname}catch(i){var t=document.createElement("a");return t.href=e,t.hostname}}function S(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=null;try{a=new URL(e).searchParams.get(t)}catch(e){}return n&&""===a?a:a)}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{Object.keys(t).forEach(function(i){var n=new RegExp("\\$\\["+i+"]","g");e=e.replace(n,encodeURIComponent(t[i]))})}catch(e){}retur e}var k=function(e){return e.replace(/([h|w])\=(\d+\.\d+)/g,function(e,t,i){return"".concat(t,"=").concat(Math.round(i))})};function w(e){return document.cookie.split(new RegExp(/;[ ]?/g)).map(function(e){va()}(e.split("="),2);return{name:t[0],value:t[1]}}).f=e})}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.type="text/javascript",a.src=e,a.async=t,a.addEventListener("load",function(){i&&"function"==typeof i&&i(!0,window)},!1),a.addEventListener("error",function(e){n.removeChild(a),i&&"function"==typeof i&&i(!1,e)},!1),n.insertBefore(a,n.firstChild)}function L(e,t){if(window.sessionStorage)try{t&&window.sessionStorage.setItem(e,t)}catch(e){}}function N(e){var t=null;if(window.sessionStorage)try{e&&(t=window.sessionStorage.getItem(e))}catch(e){}return t?{value:t}:{}}function D(e,t){if(window.sessionStorage)for(var i in window.sessionStorage)0===i.indexOf(e)&&i!==t&&window.sessionStorage.removeItem(i)}function R(e){var t=null;if(window.localStorage)try{e&&(t=window.localStorage.getItem(e))}catch(e){}return t}var P=function(){var e,t,i,n=!1;this.init=function(e,a){t=!e||isNaN(e)||e<1?6e4:e/4*2*1e3,i=a,n=!0},this.run=function(){n&&(e=setTimeout(function(){return i()},t))},this.se)},this.refresh=function(){n&&(clearTimeout(e),e=setTime()},t))}},x=-1;function O(){var e,t=void 0,i=window,n=i.document,a=n.location.href;n=n.referrer;var r=0,o=encodeURIComponent,s=new Date;for(e=screen;i!==i.parent;)try{a=(t=i.parent).location.href,n=t.document.referrer,i=t}catch(e){r=top!==i.parent?2:1;break}var d=t=void 0,l=void 0;try{t=void 0!==i.document.hidden?i.document.hidden:void 0!==i.document.msHidden?i.document.msHidden:void 0!==i.document.webkitHidden?i.document.webkitHidden:null}catch(e){t=null}try{d=i.pageXOffset,l=i.pageYOffset}catch(e){l=d=null}var u=i.performance.timing&&i.performance.timing.navigationStart?i.performance.timing.navigationStart:i.performance.timeOrigin;return{timeOrigin:Math.floor(u),location:o(a),referrer:o(n)||"0",masked:r,wWidth:i.innerWidth,wHeight:i.innerHeight,oWidth:i.outerWidth,oHeight:i.outerHeight,sWidth:e.width,sHeight:e.height,aWidth:e.availWidth,aHeight:e.availHeight,sLeft:"screenLeft"in i?i.screenLeft:i.screenX,sTop:"screenTop"in i?i.screenTop:i.screenY,xOffset:d,yOffset:l,docHidden:t,hLength:history.length,date:s.toUTCString(),timeOffset:s.getTimezoneOffset()}}var U=function(e){return e?e.split(",").map(function(e){return parseInt(e)}):[]},j="url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTIxNiAxMDI0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMjE2IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0wLDcxMS45aDI2My4zTDY3Ny44LDEwMjRWMEwyNjMuMywzMTIuMUgwVjcxMS45eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04NzcuNywzNDEuM2wtNjguMyw2OC4zYzUzLjYsNTguNSw1My42LDE0Ni4zLDAsMjA0LjhsNjguMyw2OC4zQzk3MC40LDU5MCw5NzAuNCw0MzQsODc3LjcsMzQxLjNMODc3LjcsMzQxLjN6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwODcuNCwyMDQuOGwtNzMuMSw3OGM2OC4zLDczLjEsMTAyLjQsMTY1LjgsMTAyLjQsMjYzLjNjMCwxMDIuNC0zNC4xLDE5NS0xMDIuNCwyNjMuM2w3My4xLDc4YzgyLjktOTIuNiwxMzEuNy0yMTQuNiwxMzEuNy0zNDEuM1MxMTcwLjMsMjk3LjQsMTA4Ny40LDIwNC44TDEwODcuNCwyMDQuOHoiLz48L3N2Zz4=)",z=function(){var e=document.createElement("div");e.style.width="25px",e.style.height="25px",e.style.display="block",e.style.position="absolute",e.style.bottom="20px",e.style.zIndex="10000",e.style.cursor="pointer",e.style.backgroundImage=j,e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center",e.style.visibility="hidden",e.classList.add("lre-vlm-btn"),e.onclick=function(e){e.preventDefault(),e.stopPropagation()},this.show=function(){e.style.visibility="visible"},this.hide=function(){e.style.visibility="hidden"},this.render=function(t){return t?e.style.right="20px":e.style.left="20px",e},this.volume=function(t){e.style.backgroundImage=t?j:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTIxNiAxMDI0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMjE2IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0wLDcxMS45aDI2My4zTDY3Ny44LDEwMjRWMEwyNjMuMywzMTIuMUgwVjcxMS45eiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMTg3LjEsNjg0LjJsLTM4LjEsMzUuN2MtOS4zLDguNy0yMy44LDguMi0zMi41LTEuMUw3NzMuMSwzNTIuMmMtOC43LTkuMy04LjItMjMuOCwxLjEtMzIuNWwzOC4xLTM1LjdjOS4zLTguNywyMy44LTguMiwzMi41LDEuMWwzNDMuNSwzNjYuNkMxMTk2LjgsNjYxLDExOTYuMyw2NzUuNiwxMTg3LjEsNjg0LjJ6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTc3NC4xLDY4NC4ybDM4LjEsMzUuN2M5LjMsOC43LDIzLjgsOC4yLDMyLjUtMS4xbDM0My41LTM2Ni42YzguNy05LjMsOC4yLTIzLjgtMS4xLTMyLjVsLTM4LjEtMzUuN2MtOS4zLTguNy0yMy44LTguMi0zMi41LDEuMUw3NzMuMSw2NTEuOEM3NjQuNCw2NjEsNzY0LjksNjc1LjYsNzc0LjEsNjg0LjJ6Ii8+PC9zdmc+)"},this.onClick=function(t){e.oncl(),e}window.lreAdSlot=function(){return""+'<div class="lre-ad-slot" style="width: 100%; height: 100%" ><video class="lre-ad-vs" webkit-playsinline playsinline '+(1==parseInt(m("mavs",0))?"muted":"")+' style="width: 100%; height: 100%"></video></div>'};var B=null,W=function(){var e,t,i,n,a,r,o=this;function s(){var e;(e=0,n||(n=new Prom=t}),function t(){c("mutingEnabled")&&o.getAdVolume&&0!==o.getAdVolume()?e<3?(e+=1,B.setAdVolume(0),setTimeout(t,10)):r("set ad volume faild"):a(o.getAdVolume())}()),n).t")})}function d(n){return new Promise(function(a,r){var s=k(u("ad_tag")||m("ad")),d={method:"GET",mode:"cors",cache:"no-store",credentials:1!==parseInt(m("rqcm",0))?"omit":"include",redirect:"follow",referrer:"client"},l=function(s){try{try{!function(e,t){if(!v(s).querySelector(t))throw"Not found XML node:"+t}(0,'MediaFile[type="application/javascript"]')}catch(e){return void o.onAdError("Response from demand does not contain JS AdManager.")}var d=g(s,'MediaFile[type="application/javascript"]');if(!d)return void o.onAdError("Couldn't find ad-manager url in VPAID");try{var l=g(s,"AdParameters");n.creativeData.AdParameters=l}catch(e){n.creativeData.AdParameters=""}n.environmentVars.videoSlotCanAutoPlay=!0;va e}({},n,{playerWidth:n.width,playerHeight:n.height,bitrate:600});if(1!==parseInt(m("exvs",0))){e=document.createElement("div");var p=window.lreAdSlot();e.style.width="".concat(n.width,"px"),e.style.height="".concat(n.height,"px"),e.style.position="initial",e.style.pointerEvents="none",u.environmentVars.slot.appendChild(e),e.innerHTML=p,e.id=u.environmentVars.slot.id+"lre-prx",u.environmentVars.videoSlot=e.querySelector(".lre-ad-vs")}c("showMuteButton")&&((i=new z).volume(c("mutingEnabled")?0:1),u.environmentVars.slot.appendChild(i.render()),i.onClick(function(){h("mutingEnabled",!c("mutingEnabled"));var e=c("mutingEnabled")?0:1;u.environmentVars.videoSlot.muted=0==e,o.setAdVolume(e),i.volume(e),f("amu",e?0:1)}),u.environmentVars.slot.onmouseover=i.show,u.environmentVars.slot.onmouseleave=i.hide),u.environmentVars.videoSlot.addEventListener("volumechange",function(){c("mutingEnabled",!0)&&(this.volume=0,B&&B.setAdVolume(0))}),u.environmentVars.videoSlot.addEventListener("play",function(){c("mutingEnabled",!0)&&(this.volume=0,B&&B.setAdVolume(0))}),u.environmentVars.videoSlot.onplay=function(){c("mutingEnabled",!0)&&(this.volume=0)},u.environmentVars.autoplay=!0,u.environmentVars.ad_mute=!0,u.environmentVars.imaAutoplay=!0,u.environmentVars.imaMuted=!0;var A=document.createElement("script");A.type="text/javascript",A.async=!0,A.addEventListener("load",function(e){return function(e,i){try{var n=e.target.ownerDocument.defaultView||e.target.ownerDocument.parentWindow;(t=n.getVPAIDAd()).handshakeVersion("2.0"),a({ad:t,params:i})}catch(e){o.onAdError(e.message),r()}}(e,u)}),A.onunload=function(){e.remove()},document.body.appendChild(A),A.src=d}catch(e){_("vast response error"),o.onAdError(e.message)}};!function(e){fetch(e).then(function(e){return e.text()}).then(function(e){return l(e)}).catch(function(e){o.onAdError(e)})}(new Request(s,d))})}var l=0,p=0;this.handshakeVersion=function(e){return"2.0"},this.initAd=function(t,n,a,r,u,v){function g(e){if("VIDEO"==e.tagName||"LIMA-VIDEO"==e.tagName){if("LIMA-VIDEO"==e.tagName){var t=e.load;e.load=function(){return this.muted=!0,t.apply(this,[].slice.call(arguments))}}var n=e.play;e.play=function(){var e=this;this.muted=!0,c("adMediaData")&&h("mediaUrl",""!=this.src?this.src:null);var t=c("mutingEnabled")?0:1;t&&(h("mutingEnabled",t),i&&i.volume(t?0:1));var a=n.apply(this,[].slice.call(arguments));return a instanceof Promise&&a.then(function(e){}).catch(function(t){e.muted=!0,e.play()}),a}}}if(A(u.AdParameters),h("showMuteButton",!!parseInt(m("smb",1))),h("mutingEnabled",parseInt(m("m",1))),h("adMediaData",!!parseInt(m("amd",1))),c("mutingEnabled",!0)){var _=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;void 0!==_&&new _(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){g(e),e.querySelectorAll&&e.querySelectorAll("video, lima-video").forEach(g)})})}).observe(v.slot.parentNode,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}!function(t,i,n,a,r,u){var h,m={width:t,height:i,viewMode:n,desiredBitrate:a,creativeData:r,environmentVars:u};l=t,p=i;var A=!1,v=!1,g=!1,_=!1;h=new P,d(m).then(function(t){(B=t.ad).subscribe(function(e){o.onAdLog(e)},o.VPAID_EVENTS.AdLog,o),B.subscribe(function(){o.onAdLoaded(),s()},o.VPAID_EVENTS.AdLoaded,o),B.subscribe(function(){o.onAdStarted(),s()},o.VPAID_EVENTS.AdStarted,o),B.subscribe(function(e){A&&(v||g||_)?(o.onAdVideoComplete(),o.onAdStopped()):o.onAdError(e)},o.VPAID_EVENTS.AdError,o),B.subscribe(function(){A||(A=!0),o.onAdImpression(),s();var t=c("mediaUrl",null);if(c("adMediaData")&&null!=t&&fetch(new Request(t,{method:"HEAD"})).then(function(e){f("amd",t+"|"+e.headers.get("content-type"))}).catch(function(e){}),f("xap"),setTimeout(function(){c("videoElemFound")||f("mf1")},1e3),setInterval(function(e){(B||{}).getAdVolume&&0!==B.getAdVolume()&&c("mutingEnabled")&&s()},10),e){var i=e.querySelector(".lre-ad-vs");0===i.src.length&&(e.style.display="none",i.addEventListener("pl")}))}var n=B.getAdDuration(),a=0;setTimeout(function(){(a=Math.ceil(B.getAdRemainingTime()))>n&&(n=a+1,h.stop(),h.init(n,function(){o.onAdError("ADABORTEDTIMEOUT")}),h.run())},1e3),h.stop(),h.init(n,function(){o.onAdError("ADABORTEDTIMEOUT")}),h.run()},o.VPAID_EVENTS.AdImpression,o),B.subscribe(function(){o.onAdVideoComplete(),o.onAdStopped()},o.VPAID_EVENTS.AdVideoComplete,o),B.subscribe(function(){h.stop(),o.onAdSkipped()},o.VPAID_EVENTS.AdSkipped,o),B.subscribe(function(){o.onAdSkippableStateChange()},o.VPAID_EVENTS.AdSkippableStateChange,o),B.subscribe(function(){h.stop()},o.VPAID_EVENTS.AdStopped,o),B.subscribe(function(e){h.stop(),o.onAdUserClose()},o.VPAID_EVENTS.AdUserClose,o),B.subscribe(function(){o.onAdVideoStart(),s()},o.VPAID_EVENTS.AdVideoStart,o),B.subscribe(function(){v||(v=!0),o.onAdVideoFirstQuartile(),s(),h.refresh()},o.VPAID_EVENTS.AdVideoFirstQuartile,o),B.subscribe(function(){g||(g=!0),o.onAdVideoMidpoint(),s(),h.refresh()},o.VPAID_EVENTS.AdVideoMidpoint,o),B.subscribe(function(){_||(_=!0),o.onAdVideoThirdQuartile(),(B||{}).getAdVolume&&s(),h.refresh()},o.VPAID_EVENTS.AdVideoThirdQuartile,o),B.subscri)},o.VPAID_EVENTS.AdClickThru,o),B.subscr()},o.VPAID_EVENTS.AdVolumeChange,o),B.subscr()},o.VPAID_EVENTS.AdPaused,o),B.subscribe(function(){o.onAdPlaying()},o.VPAID_EVENTS.AdPlaying,o),B.subscribe(function(){o.onAdDurationChange()},o.VPAID_EVENTS.AdDurationChange,o),B.subscr()},o.VPAID_EVENTS.AdSizeChange,o),B.initAd(t.params.playerWidth,t.params.playerHeight,t.params.viewMode,600,t.params.creativeData,t.params.environmentVars)}).catch(function(e){})}(t,n,a,r,u,v)},this.startAd=function(){B&&B.startAd()},this.setWaterfallSti)},this.getAdLinear=function(){return!0},this.sto()},this.getAdVolume=function(){return B?B.getAdVolume():0},this.setAdVole)},this.resizeAd=function(t,i,n){B&&(B.resizeAd(t,i,n),l=t,p=i),e&&(e.style.width="".concat(t,"px"),e.style.height="".concat(i,"px"))},this.pauseAd=function(){B&&B.pauseAd()},this.resum()},this.expandAd=function(){},this.getAdExpanded=function(e){return!1},this.getAdSkippableSt!0},this.collapseAd=function(){},this.skipAd=function(){B&&(B.getAdSkippableState&&B.getAdSkippableState()&&B.skipAd&&B.skipAd(),B.onAdSkipped?B.onAdSkipped():o.onAdSkipped())},this.getAdWidth=function(){return l},this.getAdHeight=function(){return p},this.getSkippableRemainingT-1},this.getAdRemainingTime=function(){return B?B.getAdRemainingTime():0},this.getAdDurat:0},this.getAdCompanions=function(){return""},this.getIcons=function(){return""},this.getAdIcons=function(){return""},this.seekAd=function(e){B&&(void 0).seekAd(e)},this.getContentPaused=function(){if(B)return B.getContentPaused()},this.pauseContent=function(){if(B)return B.pauseContent()},this.resumeCont()},this.setContentVole)},this.VPAID_EVENTS={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AllAdsCompleted:"AllAdsCompleted",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"},this.VPAID_FINAL_EVENTS={AdVideoComplete:"AdVideoComplete",AdStopped:"AdStopped"},this._eventCallbacks={},this.onAdLoaded=function(){this.VPAID_EVENTS.AdLoaded in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLoaded]()},this.onAdStarted=function(){this.VPAID_EVENTS.AdStarted in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdStarted]()},this.onAdVideoStart=function(){this.VPAID_EVENTS.AdVideoStart in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoStart]()},this.onAdImpression=function(){this.VPAID_EVENTS.AdImpression in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdImpression]()},this.onAdClickThru=function(e,t,i){this.VPAID_EVENTS.AdClickThru in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdClickThru](e,t,i)},this.onAdVideoFirstQuartile=function(){this.VPAID_EVENTS.AdVideoFirstQuartile in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoFirstQuartile]()},this.onAdVideoMidpoint=function(){this.VPAID_EVENTS.AdVideoMidpoint in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoMidpoint]()},this.onAdVideoThirdQuartile=function(){this.VPAID_EVENTS.AdVideoThirdQuartile in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoThirdQuartile]()},this.onAdVideoComplete=function(){this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdVideoComplete].concat([].slice.call(arguments)))},this.onAdPaused=function(){this.VPAID_EVENTS.AdPaused in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdPaused]()},this.onAdPlaying=function(){this.VPAID_EVENTS.AdPlaying in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdPlaying]()},this.onAdVolumeChange=function(){this.VPAID_EVENTS.AdVolumeChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVolumeChange]()},this.onAdStopped=function(){this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdStopped].concat([].slice.call(arguments)))},this.onAdSkipped=function(){this.VPAID_EVENTS.AdSkipped in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSkipped]()},this.onAdDurationChange=function(){this.VPAID_EVENTS.AdDurationChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdDurationChange]()},this.onAdInteraction=function(){this.VPAID_EVENTS.AdInteraction in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdInteraction]()},this.onAdLinearChange=function(){this.VPAID_EVENTS.AdLinearChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLinearChange]()},this.onAdSkippableStateChange=function(){this.VPAID_EVENTS.AdSkippableStateChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSkippableStateChange]()},this.onAdUserClose=function(){this.VPAID_EVENTS.AdUserClose in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdUserClose]()},this.onAdLog=function(e){this.VPAID_EVENTS.AdLog in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLog](e)},this.onAdSizeChange=function(){this.VPAID_EVENTS.AdSizeChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSizeChange]()},this.onAdExpandedChange=function(){this.VPAID_EVENTS.AdExpandedChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdExpandedChange]()},this.onAdError=function(e){this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdError].concat([].slice.call(arguments)))},this.doForwardAndDispatchEvent=function(e){var t=this;if(this.VPAID_EVENTS.hasOwnProperty(e)){for(var i=arguments.length,n=Array(1<i?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var r=parseInt(m("act",0));r>0&&this.VPAID_FINAL_EVENTS.hasOwnProperty(e)?this._finalEventsTimeout=setTimeout(function(){e in t._eventCallbacks&&t._eventCallbacks[e]&&t._eventCallbacks[e].apply(t._eventCallbacks[e],n)},r):e in this._eventCallbacks&&this._eventCallbacks[e].apply(this._eventCallbacks[e],n)}},this.subscribe=function(e,t,i){var n=e.bind(i);this._eventCallbacks[t]=n},this.unsubscribe=function(e){this._eventCallbacks[e]=null}},Q=function(){this._slot=null,this._videoSlot=null,this.VPAID_EVENTS={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"},this.VPAID_FINAL_EVENTS={AdVideoComplete:"AdVideoComplete",AdStopped:"AdStopped"},this._eventCallbacks={},this._attributes={companions:"",desiredBitrate:256,duration:30,expanded:!1,width:0,height:0,nonLinearSlotHeight:150,viewMode:"normal",icons:"",linear:!0,remainingTime:10,skippableState:!1,showMuteButton:!0,volume:0,muted:!0,loadVideoTimeout:8e3,vastLoadTimeout:2e4,adWillAutoPlay:!0,adWillPlayMuted:!1,useSecureIframe:!1,adMediaData:!0,adCompleteTimeout:0},this.IMA_SDK_URL="https://imasdk.googleapis.com/js/sdkloader/ima3.js",this._adsLoader=null,this._adDisplayContainer=null,this._adDisplayContainerInitialized=!1,this._adsManager=null,this._currentAd=null,this._lifecycleController=null,this._volumeButton=null,this._pageUrl=null,this._mediaUrl=null};function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Q.prototype.loadIMA=function(e){var t=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.type="text/javascript",i.src=this.IMA_SDK_URL,e&&(i.attachEvent&&!window.opera?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(t.removeChild(i),i.onreadystatechange=null,e())}:i.addEventListener("lo()},!1)),t.insertBefore(i,t.firstChild)},Q.prototype.doContentComplete=function(){this._adsLoader&&this._adsLoader.contentComplete()},Q.prototype.destroyAd=function(){this.log("destroyAd"),this._adsManager&&(this._adsManager.destroy(),this._adsManager=null),this.doContentComplete()},Q.prototype.onIMAAdError=function(e){this.destroyAd(),this.onAdError(e.getError().getErrorCode()+" "+e.getError().getMessage())},Q.prototype.onAllAdsCompleted=function(){this._lifecycleController.stop(),this.destroyAd(),this.onAdVideoComplete(),this.onAdStopped()},Q.prototype.onIMAClick=function(e){this.onAdClickThru("",e.getAd().getAdId(),!1)},Q.prototype.onIMADurationChange=function(){this.onAdDurationChange()},Q.prototype.onIMAFirstQuartile=function(){this._lifecycleController.refresh(),this.onAdVideoFirstQuartile()},Q.prototype.onIMAImpression=function(){var e=this,t=0;this._currentAd&&(t=this._currentAd.getDuration());var i=0;setTimeout(function(){(i=Math.ceil(e.getAdRemainingTime()))>t&&(t=i+1,e._lifecycleController.stop(),e._lifecycleController.init(t,function(){e.destroyAd(),e.onAdError("lifecycle timeout")}),e._lifecycleController.run())},1e3),this._lifecycleController.stop(),this._lifecycleController.ini")}),this._lifecycleController.run(),this._attributes.adMediaData&&null!=this._mediaUrl&&fetch(new Request(this._mediaUrl,{method:"HEAD"})).then(function(t){f("amd",e._mediaUrl+"|"+t.headers.get("content-type"))}).catch(function(e){}),f("xap"),this.onAdImpression()},Q.prototype.onIMAInteraction=function(){this.onAdInteraction()},Q.prototype.onIMALinearChanged=function(){this.onAdLinearChange()},Q.prototype.onIMALoaded=function(e){this._currentAd=e.getAd(),this._currentAd.isLinear()||(this.destroyAd(),this.onAdError("ad is not linear")),this._lifecycleController&&this._lifecycleController.stop()},Q.prototype.onIMALog=function(e){(e=e.getAdData()).hasOwnProperty("adError")?this.onAdLog(e.adError.getMessage()):this.onAdLog("IMA Ad Log")},Q.prototype.onIMAMidpoint=function(){this._lifecycleController.refresh(),this.onAdVideoMidpoint()},Q.prototype.onIMAPaused=function(){this._lifecycleController.stop(),this.onAdPaused()},Q.prototype.onIMAResumed=function(){this.onAdPlaying()},Q.prototype.onIMASkippableStateChanged=function(){this.onAdSkippableStateChange()},Q.prototype.onIMASkip()},Q.prototype.onIMAStarted=function(){var e=this;this._attributes.showMuteButton&&(this._volumeButton=new z,this._volumeButton.volume(this._attributes.volume),this._slot.appendChild(this._volumeButton.render()),this._volumeButton.onClick(function(){var t=e._attributes.volume?0:1;e.setAdVolume(t),e._volumeButton.volume(t),e._attributes.volume=t,f("amu",t?0:1)}),this._slot.onmouseover=this._volumeButton.show,this._slot.onmouseleave=this._volumeButton.hide),this.onAdStarted(),this.onAdVideoStart()},Q.prototype.onIMAThirdQuart()},Q.prototype.onIMAUserClose=function(){this.onAdUserClose()},Q.prototype.onIMAVolumeChanged=function(){this.onAdVolumeChange()},Q.prototype.onIMAVolumeMuted=function(){this.onAdVolumeChange()},Q.prototype.onAdsManagerLoaded=function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,this._adsManager=e.getAdsManager(this._videoSlot,t),this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onIMAAdError.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,function(){}),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_METADATA,function(){}),this._adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onIMAClick.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(){}),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){}),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){}),this._adsManager.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,this.onIMADurationChange.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,this.onIMAFirstQuartile.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,this.onIMAImpression.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.INTERACTION,this.onIMAInteraction.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LINEAR_CHANGED,this.onIMALinearChanged.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onIMALoaded.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onIMALog.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,this.onIMAMidpoint.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onIMAPaused.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onIMAResumed.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.onIMASkippableStateChanged.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onIMASkipped.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onIMAStarted.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,this.onIMAThirdQuartile.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,this.onIMAUserClose.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,this.onIMAVolumeChanged.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,this.onIMAVolumeMuted.bind(this)),this.onAdLoaded()},Q.prototype.onAdsManagerAdError=function(e){this.onAdError(e.getError().getErrorCode()+" "+e.getError().getMessage())},Q.prototype.onAdLoaded=function(){this.VPAID_EVENTS.AdLoaded in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLoaded]()},Q.prototype.onAdStarted=function(){this.VPAID_EVENTS.AdStarted in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdStarted]()},Q.prototype.onAdVideoStart=function(){this.VPAID_EVENTS.AdVideoStart in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoStart]()},Q.prototype.onAdImpression=function(){this.VPAID_EVENTS.AdImpression in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdImpression]()},Q.prototype.onAdClickThru=function(e,t,i){this.VPAID_EVENTS.AdClickThru in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdClickThru](e,t,i)},Q.prototype.onAdVideoFirstQuartile=function(){this.VPAID_EVENTS.AdVideoFirstQuartile in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoFirstQuartile]()},Q.prototype.onAdVideoMidpoint=function(){this.VPAID_EVENTS.AdVideoMidpoint in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoMidpoint]()},Q.prototype.onAdVideoThirdQuartile=function(){this.VPAID_EVENTS.AdVideoThirdQuartile in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoThirdQuartile]()},Q.prototype.onAdVideoComplete=function(){this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdVideoComplete].concat([].slice.call(arguments)))},Q.prototype.onAdPaused=function(){this.VPAID_EVENTS.AdPaused in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdPaused]()},Q.prototype.onAdPlaying=function(){this.VPAID_EVENTS.AdPlaying in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdPlaying]()},Q.prototype.onAdVolumeChange=function(){this.VPAID_EVENTS.AdVolumeChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVolumeChange]()},Q.prototype.onAdStopped=function(){this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdStopped].concat([].slice.call(arguments)))},Q.prototype.onAdSkipped=function(){this.VPAID_EVENTS.AdSkipped in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSkipped]()},Q.prototype.onAdDurationChange=function(){this.VPAID_EVENTS.AdDurationChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdDurationChange]()},Q.prototype.onAdInteraction=function(){this.VPAID_EVENTS.AdInteraction in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdInteraction]()},Q.prototype.onAdLinearChange=function(){this.VPAID_EVENTS.AdLinearChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLinearChange]()},Q.prototype.onAdSkippableStateChange=function(){this.VPAID_EVENTS.AdSkippableStateChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSkippableStateChange]()},Q.prototype.onAdUserClose=function(){this.VPAID_EVENTS.AdUserClose in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdUserClose]()},Q.prototype.onAdLog=function(e){this.VPAID_EVENTS.AdLog in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLog](e)},Q.prototype.onAdSizeChange=function(){this.VPAID_EVENTS.AdSizeChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSizeChange]()},Q.prototype.onAdExpandedChange=function(){this.VPAID_EVENTS.AdExpandedChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdExpandedChange]()},Q.prototype.onAdError=function(e){this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdError].concat([].slice.call(arguments)))},Q.prototype.doForwardAndDispatchEvent=function(e){var t=this;if(this.VPAID_EVENTS.hasOwnProperty(e)){for(var i=arguments.length,n=Array(1<i?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];this._attributes.adCompleteTimeout>0&&this.VPAID_FINAL_EVENTS.hasOwnProperty(e)?this._finalEventsTimeout=setTimeout(function(){e in t._eventCallbacks&&t._eventCallbacks[e]&&t._eventCallbacks[e].apply(t._eventCallbacks[e],n)},this._attributes.adCompleteTimeout):e in this._eventCallbacks&&this._eventCallbacks[e]&&this._eventCallbacks[e].apply(this._eventCallbacks[e],n)}},Q.prototype.maybeInitializeAdDisplayContainer=function(){this._adDisplayContainerInitialized||(this._adDisplayContainer.initialize(),this._adDisplayContainerInitialized=!0)},Q.prototype.setUpIMA=function(){this.log("IMA LOADED"),this.log("setUpIMA"),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this._adDisplayContainer=new google.ima.AdDisplayContainer(this._slot,this._videoSlot),this._adsLoader=new google.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.getSettings().setVpaidMode(this._attributes.useSecureIframe?google.ima.ImaSdkSettings.VpaidMode.ENABLED:google.ima.ImaSdkSettings.VpaidMode.INSECURE),this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this._adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerAdError.bind(this),!1),this._videoSlot.onended=this.doContentComplete;var e=k(u("ad_tag")||m("ad")),t=new google.ima.AdsRequest;t.adTagUrl=e,this._pageUrl&&(t.pageUrl=this._pageUrl),t.linearAdSlotWidth=this._attributes.width,t.linearAdSlotHeight=this._attributes.height,t.nonLinearAdSlotWidth=this._attributes.width,t.nonLinearAdSlotHeight=this._attributes.nonLinearSlotHeight,t.vastLoadTimeout=this._attributes.vastLoadTimeout,t.setAdWillAutoPlay(this._attributes.adWillAutoPlay),t.setAdWillPlayMuted(this._attributes.adWillPlayMuted),this._adsLoader.requestAds(t)},Q.prototype.initAd=function(e,t,i,n,a,r){this._slot=r.slot,this._videoSlot=r.videoSlot,A(a.AdParameters),this._pageUrl=m("page_url",null),this._attributes.showMuteButton=!!parseInt(m("smb",1)),this._attributes.volume=parseInt(m("m",1))?0:1,this._attributes.muted=!!parseInt(m("m",1)),this._attributes.useSecureIframe=!!parseInt(m("sf",0)),this._attributes.loadVideoTimeout=parseInt(m("lvt",8e3)),this._attributes.adMediaData=!!parseInt(m("amd",1)),this._attributes.adCompleteTimeout=parseInt(m("act",0)),this._attributes.width=e,this._attributes.height=t,this._attributes.viewMode=i,this._attributes.desiredBitrate=n,this.log("initAd "+e+"x"+t+" "+i+" "+n),this._lifecycleController=new P;var o=this;function s(e){if("VIDEO"==e.tagName||"LIMA-VIDEO"==e.tagName){if("LIMA-VIDEO"==e.tagName){var t=e.load;e.load=function(){return this.muted=!0,t.apply(this,[].slice.call(arguments))}}var i=e.play;e.play=function(){var e=this;this.muted=!0,o._attributes.adMediaData&&(o._mediaUrl=""!=this.src?this.src:null),o._attributes.volume&&(o._attributes.volume=0,o._volumeButton&&o._volumeButton.volume(0));var t=i.apply(this,[].slice.call(arguments));return t instanceof Promise&&t.then(function(e){}).ca()}),t}}}if(this._attributes.muted){var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;void 0!==d&&new d(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){s(e),e.querySelectorAll&&e.querySelectorAll("video, lima-video").forEach(s)})})}).observe(this._slot.parentNode,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}this.log("loadIma and setUpIMA"),this.loadIMA(this.setUpIMA.bind(this))},Q.prototype.handshakeVers0"},Q.prototype.startAd=function(){this.playAd()},Q.prototype.playAd=function(){this.maybeInitializeAdDisplayContainer();try{this._adsManager.init(this._attributes.width,this._attributes.height,this._attributes.viewMode),this._adsManager.start()}catch(e){this.destroyAd(),this.onAdError("IMA _adsManager INIT ERROR")}},Q.prototype.getAdVolume=function(){return this.log("getAdVolume"),this._adsManager&&(this._attributes.volume=this._adsManager.getVolume()),this._attributes.volume},Q.prototype.setAdVolume=function(e){this.log("setAdVolume "+e);var t=e!==this._attributes.volume;this._adsManager?this._adsManager.setVolume(e):t&&this.onAdVolumeChange(),this._attributes.volume=e},Q.prototype.resumeAd=function(){this.log("resumeAd"),this._adsManager&&this._adsManager.resume()},Q.prototype.pauseAd=function(){this.log("pauseAd"),this._adsManager&&this._adsManager.pause()},Q.prototype.resizeAd=function(e,t,i){this.log("resizeAd "+e+"x"+t+" "+i),this._attributes.width=e,this._attributes.height=t,this._attributes.viewMode=i,this._adsManager&&this._adsManager.resize(e,t,i),this.onAdSizeChange()},Q.prototype.sto()},Q.prototype.getAdExpaned},Q.prototype.collapseAd=function(){this.log("collapseAd"),this._attributes.expanded=!1,this._adsManager&&this._adsManager.collapse(),this.onAdExpandedChange()},Q.prototype.expandAd=function(){this.log("expandAd"),this._attributes.expanded=!0,this._adsManager&&this._adsManager.expand(),this.onAdExpandedChange()},Q.prototype.getAdSkippableState=function(){return!0},Q.prototype.skipAd=function(){this._adsManager&&(this._adsManager.getAdSkippableState()&&this._adsManager.skip(),this.onIMASkipped())},Q.prototype.subscribe=function(e,t,i){this.log("subscribe "+e);var n=e.bind(i);this._eventCallbacks[t]=n},Q.prototype.unsubscribe=function(e){this.log("unsubscribe "+e),delete this._eventCallbacks[e]},Q.prototype.getAdWidth=function(){return this._attributes.width},Q.prototype.getAdHeight=function(){return this._attributes.height},Q.prototype.getAdRemainingTime=function(){return this._adsManager?this._adsManager.getRemainingTime():-2},Q.prototype.getAdDuration=function(){return this._currentAd?this._currentAd.getDuration():-2},Q.prototype.getAdCompanions=function(){return this._currentAd?this._currentAd.getCompanionAds(this._attributes.width,this._attributes.height):[]},Q.prototype.getAdIcons=function(){return this._attributes.icons},Q.prototype.getAdLin()},Q.prototype.log=function(e){};var H={MIN:6e4,HOUR:36e5,DAY:864e5},G="ac_waterfall_frequency_",Y=!0;function Z(e){if(Y)return N(G+e);if(!parseInt(m("sf",0)))return w(G+e)||{};var t=c("cookies");if(t){var i=t.find(function(t){return t.name==G+e});return i?{value:i.value}:{}}return{}}function J(e,t){if(Y)L(G+e,t);else if(parseInt(m("sf",0)))f("xsc",{name:G+e,value:t,path:"/",maxAge:86400,doNotTrack:!0});else try{!function(e){var t=e.name,i=e.value||"",n=e.path,a=e.maxAge,r=e.doNotTrack||!1;if(navigator.doNotTrack===r)return!1;try{document.cookie="".concat(t,"=").concat(i,";").concat(void 0!==n?";path=".concat(n):"").concat(void 0!==a?";max-age=".concat(a):"")}catch(e){throw new Error("Cookie set failed: ".concat(e))}}({name:G+e,value:t,path:"/",maxAge:86400,doNotTrack:!0})}catch(e){}}function X(e){var t=e.frequency,i=e.id;if(null!=t){if("REQUEST"===t.type)return function(e,t,i,n){var a=Z(n).value,r=Date.now(),o=("number"==typeof i?6e4*i:0)||(H.hasOwnProperty(t)?H[t]:null);if(!o)return!0;if(!a)return J(n,JSON.stringify([r,1])),!0;var s=q(JSON.parse(a||"[]"),2),d=s[0],l=s[1];return d&&l?r>d+o?(J(n,JSON.stringify([r,1])),!0):r<d+o&&l<e&&(J(n,JSON.stringify([d,l+1])),!0):(l=0,J(n,JSON.stringify([r,l+1])),!0)}(t.value,t.timePeriod,t.minutes,i);if("IMPRESSION"===t.type)return function(e,t,i,n){var a=Z(n).value,r=Date.now(),o=("number"==typeof i?6e4*i:0)||(H.hasOwnProperty(t)?H[t]:null);if(!o)return!0;if(!a)return J(n,JSON.stringify([r,0])),!0;var s=q(JSON.parse(a||"[]"),2),d=s[0],l=s[1];return d&&l?r>d+o?(J(n,JSON.stringify([r,0])),!0):r<d+o&&l<e&&(J(n,JSON.stringify([d,l])),!0):(J(n,JSON.stringify([r,l])),!0)}(t.value,t.timePeriod,t.minutes,i)}return!0}var K=function(e,t){return Object.assign(e,{ortb2Imp:{ext:{gpid:t.gpid,data:{pbadslot:t.gpid}}}})},$={appnexus:function(e,t){if(!t.hasOwnProperty("placementId"))return null;var i={placement_id:parseInt(t.placementId),allow_smaller_sizes:!1,video:{playback_method:"auto_play_sound_off",frameworks:[1,2],plcmt:t.plcmt?parseInt(t.plcmt):1}};t.floor&&0!=t.floor&&(i.reserve=t.floor),t.usePaymentRule&&(i.use_pmt_rule=!0),t.hasOwnProperty("context")&&(i.video.context=t.context),t.hasOwnProperty("frameworks")&&Array.isArray(t.frameworks)&&(i.video.frameworks=t.frameworks),t.hasOwnProperty("placement")&&(i.video.context=1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream");var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:"instream"}},bids:[{bidder:"appnexus",params:i}]};return null!==t.gpid?K(n,t):n},pubmatic:function(e,t){if(!t.hasOwnProperty("publisherId")||!t.hasOwnProperty("adSlot"))return null;var i={publisherId:t.publisherId,adSlot:t.adSlot,video:{minduration:0,maxduration:t.maxAdDuration||60,mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],startdelay:0,protocols:[2,3,4,5,6],linearity:1,placement:1,plcmt:t.plcmt?parseInt(t.plcmt):1}};t.floor&&0!=t.floor&&(i.kadfloor=String(t.floor)),t.hasOwnProperty("playbackmethod")&&Array.isArray(t.playbackmethod)&&(i.video.playbackmethod=t.playbackmethod),t.hasOwnProperty("minduration")&&(i.video.minduration=parseInt(t.minduration)||0),t.hasOwnProperty("maxduration")&&(i.video.maxduration=parseInt(t.maxduration)||0),t.hasOwnProperty("linearity")&&(i.video.linearity=parseInt(t.linearity)||1),t.hasOwnProperty("placement")&&(i.video.placement=parseInt(t.placement)||1);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:"instream"}},bids:[{bidder:"pubmatic",params:i}]};return null!==t.gpid?K(n,t):n},rubicon:function(e,t){if(!(t.hasOwnProperty("accountId")&&t.hasOwnProperty("siteId")&&t.hasOwnProperty("zoneId")&&t.hasOwnProperty("sizeId")))return null;var i={accountId:parseInt(t.accountId),siteId:parseInt(t.siteId),zoneId:parseInt(t.zoneId),video:{size_id:parseInt(t.sizeId)}};t.floor&&0!=t.floor&&(i.floor=t.floor),t.hasOwnProperty("placement")&&(i.video.size_id=1!=parseInt(t.placement)?203:parseInt(t.sizeId));var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":203==parseInt(t.sizeId)?"outstream":"instream",minduration:0,maxduration:t.maxAdDuration||60,mimes:["video/mp4","application/javascript","video/webm","video/3gpp"],api:[2],pos:t.visible?1:3,startdelay:0,protocols:[2,3,5,6,7,8],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"rubicon",params:i}]};return null!==t.gpid?K(n,t):n},unruly:function(e,t){if(!t.hasOwnProperty("siteId"))return null;var i={siteId:parseInt(t.siteId)};t.floor&&0!=t.floor&&(i.floor=t.floor);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],playbackmethod:[1,2],protocols:[2,3,4,5,6],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"unruly",params:i}]};return null!==t.gpid?K(n,t):n},yahooAds:function(e,t){if(!t.hasOwnProperty("pubId"))return null;var i={pubId:t.pubId};t.floor&&0!=t.floor&&(i.bidOverride={imp:{bidfloor:t.floor}}),t.siteId&&""!=t.siteId&&(i.siteId=t.siteId),t.placementId&&""!=t.placementId&&(i.placementId=t.placementId);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],playbackmethod:[1,2],protocols:[2,3,4,5,6],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"yahooAds",params:i}]};return null!==t.gpid?K(n,t):n},ix:function(e,t){if(!t.hasOwnProperty("siteId"))return null;var i={siteId:t.siteId,video:{minduration:0,maxduration:t.maxAdDuration||200,mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],startdelay:0,playbackmethod:[3],protocols:[2,3,4,5,6],linearity:1,placement:1,plcmt:t.plcmt?parseInt(t.plcmt):1}};t.floor&&0!=t.floor&&(i.bidFloor=t.floor,i.bidFloorCur="USD"),t.hasOwnProperty("playbackmethod")&&Array.isArray(t.playbackmethod)&&(i.video.playbackmethod=t.playbackmethod);var n=!1;t.hasOwnProperty("placement")&&1!=parseInt(t.placement)&&(n=!0,i.video.minduration=1,i.video.playbackmethod=[6],i.video.placement=t.placement,i.video.pos=t.visible?1:3,i.video.delivery=[2]);var a={code:e,mediaTypes:{video:{playerSize:n?[[1600,900]]:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",useCacheKey:!0}},bids:[{bidder:"ix",params:i}]};return null!==t.gpid?K(a,t):a},richaudience:function(e,t){if(!t.hasOwnProperty("placementId"))return null;var i={pid:t.placementId,supplyType:"site"};return t.floor&&0!=t.floor&&(i.bidfloor=t.floor),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"]}},bids:[{bidder:"richaudience",params:i}]}},openx:function(e,t){if(!t.hasOwnProperty("unit")||!t.hasOwnProperty("delDomain"))return null;var i={unit:t.unit,delDomain:t.delDomain,video:{mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],playbackmethod:[1,2],protocols:[2,3,4,5,6],linearity:1,placement:1,plcmt:t.plcmt?parseInt(t.plcmt):1}};t.floor&&0!=t.floor&&(i.customFloor=t.floor),t.hasOwnProperty("placement")&&(i.video.placement=parseInt(t.placement)||1);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",useCacheKey:!0}},bids:[{bidder:"openx",params:i}]};return null!==t.gpid?K(n,t):n},emx_digital:function(e,t){if(!t.hasOwnProperty("tagId"))return null;var i={tagid:t.tagId,video:{maxduration:t.maxAdDuration||200,mimes:["video/mp4","application/javascript","video/webm","video/ogg"],api:[2],pos:3,startdelay:0,playbackmethod:[1,2],protocols:[2,3,4,5,6],linearity:1,placement:1}};t.floor&&0!=t.floor&&(i.bidfloor=String(t.floor)),t.hasOwnProperty("playbackmethod")&&Array.isArray(t.playbackmethod)&&(i.video.playbackmethod=t.playbackmethod),t.hasOwnProperty("minduration")&&(i.video.minduration=parseInt(t.minduration)||0),t.hasOwnProperty("maxduration")&&(i.video.maxduration=parseInt(t.maxduration)||0);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream"}},bids:[{bidder:"emx_digital",params:i}]};return null!==t.gpid?K(n,t):n},conversant:function(e,t){if(!t.hasOwnProperty("siteId"))return null;var i={site_id:t.siteId};t.floor&&0!=t.floor&&(i.bidfloor=t.floor);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],protocols:[2,3,4,5,6]}},bids:[{bidder:"conversant",params:i}]};return null!==t.gpid?K(n,t):n},smartadserver:function(e,t){if(!t.hasOwnProperty("siteId")||!t.hasOwnProperty("pageId")||!t.hasOwnProperty("formatId"))return null;var i={siteId:parseInt(t.siteId),pageId:parseInt(t.pageId),formatId:parseInt(t.formatId),video:{protocol:6}};return t.floor&&0!=t.floor&&(i.bidfloor=t.floor),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream"}},bids:[{bidder:"smartadserver",params:i}]}},yieldmo:function(e,t){if(!t.hasOwnProperty("placementId"))return null;var i={placementId:t.placementId,video:{maxduration:t.maxAdDuration||200,mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],startdelay:0,playbackmethod:[1,2],protocols:[2,3,4,5,6],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}};t.floor&&0!=t.floor&&(i.bidFloor=t.floor),t.hasOwnProperty("minduration")&&(i.video.minduration=parseInt(t.minduration)||0),t.hasOwnProperty("maxduration")&&(i.video.maxduration=parseInt(t.maxduration)||0);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream"}},bids:[{bidder:"yieldmo",params:i}]};return null!==t.gpid?K(n,t):n},sharethrough:function(e,t){if(!t.hasOwnProperty("pkey"))return null;var i={pkey:t.pkey};t.floor&&0!=t.floor&&(i.floor=t.floor);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],playbackmethod:[1,2],protocols:[2,3,4,5,6,7,8],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"sharethrough",params:i}]};return null!==t.gpid?K(n,t):n},vidoomy:function(e,t){if(!t.hasOwnProperty("id")||!t.hasOwnProperty("pid"))return null;var i={id:t.id,pid:t.pid,position:t.visible?1:3};return t.floor&&0!=t.floor&&(i.bidfloor=t.floor),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream"}},bids:[{bidder:"vidoomy",params:i}]}},sovrn:function(e,t){if(!t.hasOwnProperty("tagId"))return null;var i={tagid:t.tagId};t.floor&&0!=t.floor&&(i.bidfloor=t.floor);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],playbackmethod:[1,2],protocols:[2,3,4,5,6,7,8],minduration:0,maxduration:t.maxAdDuration||60,linearity:1}},bids:[{bidder:"sovrn",params:i}]};return null!==t.gpid?K(n,t):n},medianet:function(e,t){if(!t.hasOwnProperty("cid")||!t.hasOwnProperty("crid"))return null;var i={cid:t.cid,crid:t.crid};t.floor&&0!=t.floor&&(i.bidfloor=t.floor);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],playbackmethod:[1,2],protocols:[2,3,4,5,6,7,8],linearity:1,placement:1}},bids:[{bidder:"medianet",params:i}]};return null!==t.gpid?K(n,t):n},triplelift:function(e,t){if(!t.hasOwnProperty("inventoryCode"))return null;var i={inventoryCode:t.inventoryCode};t.floor&&0!=t.floor&&(i.floor=t.floor);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","application/javascript","video/webm","video/quicktime","video/ogg","video/3gpp"],api:[2],playbackmethod:[2],protocols:[2,3,4,5,6,7,8],placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"triplelift",params:i}]};return null!==t.gpid?K(n,t):n},onetag:function(e,t){if(!t.hasOwnProperty("pubId"))return null;var i={pubId:t.pubId},n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream"}},bids:[{bidder:"onetag",params:i}]};return null!==t.gpid?K(n,t):n},criteo:function(e,t){if(!t.hasOwnProperty("networkId")&&!t.hasOwnProperty("zoneId"))return null;var i={};t.networkId&&(i.networkId=parseInt(t.networkId)),t.zoneId&&(i.zoneId=parseInt(t.zoneId));var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream",skip:1,mimes:["video/mp4","video/webm","application/javascript","video/ogg"],maxduration:t.maxAdDuration||30,api:[2],protocols:[2,3,4,5,6,7,8],placement:1,playbackmethod:[1,2]}},bids:[{bidder:"criteo",getFloor:t.floor&&0!=t.floor?function(){return{currency:"USD",floor:t.floor}}:null,params:i}]};return null!==t.gpid?K(n,t):n},"33across":function(e,t){if(!t.hasOwnProperty("siteId"))return null;var i={siteId:t.siteId,productId:"instream"},n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],protocols:[2,3,4,5,6,7,8],placement:1,playbackmethod:[1,2]}},bids:[{bidder:"33across",getFloor:t.floor&&0!=t.floor?function(){return{currency:"USD",floor:t.floor}}:null,params:i}]};return null!==t.gpid?K(n,t):n},minutemedia:function(e,t){if(!t.hasOwnProperty("org"))return null;var i={org:t.org};t.floor&&0!=t.floor&&(i.floorPrice=t.floor),t.placementId&&""!=t.placementId&&(i.placementId=t.placementId);var n={code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream"}},bids:[{bidder:"minutemedia",params:i}]};return null!==t.gpid?K(n,t):n},adf:function(e,t){if(!t.hasOwnProperty("mid"))return null;var i={mid:parseInt(t.mid)};return t.geo&&""!=t.geo&&("US"==t.geo||"CA"==t.geo)&&(i.adxDomain="adx2.adform.net"),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],protocols:[2,3,4,5,6,7,8],playbackmethod:[1,2],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"adf",getFloor:t.floor&&0!=t.floor?function(){return{currency:"USD",floor:t.floor}}:null,params:i}]}},smartx:function(e,t){if(!t.hasOwnProperty("tagId")||!t.hasOwnProperty("publisherId")||!t.hasOwnProperty("siteId"))return null;var i={tagId:t.tagId,publisherId:t.publisherId,siteId:t.siteId,bidfloorcur:"USD",cur:"USD"};return t.floor&&0!=t.floor&&(i.bidfloor=t.floor),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"]}},bids:[{bidder:"smartx",params:i}]}},"league-m":function(e,t){if(!t.hasOwnProperty("tagId"))return null;var i={tagId:t.tagId};return t.videoTagId&&""!=t.videoTagId&&(i.videoTagId=t.videoTagId),t.adUnitName&&""!=t.adUnitName&&(i.adUnitName=t.adUnitName),t.floor&&0!=t.floor&&(i.bidfloor=t.floor),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],api:[2],protocols:[2,3,5,6,7,8],playbackmethod:[1,2],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"league-m",params:i}]}},undertone:function(e,t){if(!t.hasOwnProperty("placementId")||!t.hasOwnProperty("publisherId"))return null;var i={placementId:parseInt(t.placementId),publisherId:parseInt(t.publisherId),video:{playbackMethod:1}};return{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream"}},bids:[{bidder:"undertone",getFloor:t.floor&&0!=t.floor?function(){return{currency:"USD",floor:t.floor}}:null,params:i}]}},vidazoo:function(e,t){if(!t.hasOwnProperty("cId")||!t.hasOwnProperty("pId"))return null;var i={cId:t.cId,pId:t.pId};return t.floor&&0!=t.floor&&(i.bidFloor=t.floor),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],minduration:5,maxduration:t.maxAdDuration||120,startdelay:0,api:[2],playbackmethod:[1,2],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"vidazoo",params:i}]}},seedtag:function(e,t){if(!t.hasOwnProperty("publisherId")||!t.hasOwnProperty("adUnitId"))return null;var i=t.placement&&parseInt(t.placement)||1,n={publisherId:t.publisherId,adUnitId:t.adUnitId,placement:1==i?"inStream":"inArticle"};return{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:1!=i?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],minduration:5,maxduration:t.maxAdDuration||120,startdelay:0,battr:[1,2],api:[2],playbackmethod:[1,2],linearity:1,placement:i,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"seedtag",params:n}]}},colossusssp:function(e,t){if(!t.hasOwnProperty("placementId"))return null;var i={placement_id:parseInt(t.placementId),traffic:"video"};return{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],minduration:5,maxduration:t.maxAdDuration||120,startdelay:0,api:[2],playbackmethod:[1,2],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"colossusssp",getFloor:t.floor&&0!=t.floor?function(){return{currency:"USD",floor:t.floor}}:null,params:i}]}},"9dotsmedia":function(e,t){if(!t.hasOwnProperty("aid"))return null;var i={aid:parseInt(t.aid)};return{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream"}},bids:[{bidder:"9dotsmedia",params:i}]}},sonobi:function(e,t){if(!t.hasOwnProperty("placementId"))return null;var i={placement_id:t.placementId};return t.floor&&0!=t.floor&&(i.floor=t.floor),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream"}},bids:[{bidder:"sonobi",params:i}]}},freewheelssp:function(e,t){if(!t.hasOwnProperty("zoneId"))return null;var i={zoneId:t.zoneId};return t.floor&&0!=t.floor&&(i.bidfloor=t.floor,i.bidfloorcur="USD"),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream"}},bids:[{bidder:"freewheelssp",params:i}]}},zeta_global_ssp:function(e,t){if(!t.hasOwnProperty("sid")||!t.hasOwnProperty("shortname")||!t.hasOwnProperty("tagId"))return null;var i={sid:t.sid,shortname:t.shortname,tagid:t.tagId};return t.floor&&0!=t.floor&&(i.bidfloor=t.floor),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],minduration:5,maxduration:t.maxAdDuration||120,startdelay:0,api:[2],playbackmethod:[1,2],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"zeta_global_ssp",params:i}]}},axonix:function(e,t){if(!t.hasOwnProperty("supplyId"))return null;var i={supplyId:t.supplyId};return t.region&&""!=t.region&&(i.region=t.region),t.endpoint&&""!=t.endpoint&&(i.endpoint=t.endpoint),{code:e,mediaTypes:{video:{playerSize:[[t.width,t.height]],context:t.placement&&1!=parseInt(t.placement)?"outstream":t.context?t.context:"instream",mimes:["video/mp4","video/webm","application/javascript","video/ogg"],minduration:5,maxduration:t.maxAdDuration||120,durationRangeSec:[5,120],api:[2],protocols:[2,3,4,5,6,7,8],playbackmethod:[1,2],linearity:1,placement:t.placement?parseInt(t.placement):1,plcmt:t.plcmt?parseInt(t.plcmt):1}},bids:[{bidder:"axonix",getFloor:t.floor&&0!=t.flr}}:null,params:i}]}}};function ee(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return $[t]?$[t](e,i):null}var te e}var ne=function(e,t,i,n){if(!ie(t))throw new Error("You must provide a valid topic to create a subscription.");var a={callback:e,context:i,priority:n=n||10};if(te[t]||(te[t]=[]),te[t].length){for(var r=!1,o=te[t].length-1;o>=0;o--)if(te[t][o].priority<=n){te[t].splice(o+1,0,a),r=!0;break}r||te[t].unshift(a)}else te[t].push(a)},ae=function(e,t){if(!ie(e))throw new Error("You must provide a valid topic to publish.");var i=[].slice.call(arguments,1);!te[e]||te[e].length<1||te[e].forEach(function(e){try{e.callback.apply(e.context,i)}catch(e){}()}window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[];var oe=!1,se=null,de=!1,le="",ue=2e4,he=5e3,ce="",pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={ver:null,complete:null,nodes:[]};if(e){var i=e.split("!");return i.length>1?(i.forEach(function(e,i){if(0==i){var n=e.split(",");"ver complete".split(" ").map(function(e,i){t[e]="complete"==e?parseInt(n[i]):n[i]})}else{n=e.split(",");var a={};"asi sid hp rid name domain".split(" ").map(function(e,t){""!=n[t]&&(a[e]="hp"==e?parseInt(n[t]):n[t])}),t.nodes.push(a)}}),t):null}return null},me=function(e){return 1==e.length?e:(e.s:1}),e)};function Ae(e,t){for(var i,n=0;n<e.length;n++)(null==i||e[n][t]>i[t])&&(i=e[n]);return i}function ve(e){return[].concat(re(e.filde})),re(e.filde})))}var ge="ac_user_ids";function fe(){var e=null;try{e=JSON.parse(R(ge)).eids}catch(e){}return e|()}var Ee=null;function ye(){try{var e={name:"pubProvidedId",params:{eidsFunction:_e}},t=window.pbjs.getConfig("userSync.userIds");t&&Array.isArray(t)?(t.unshift(e),window.pbjs.setConfig({userSync:{userIds:t}})):window.pbjs.setConfig({userSync:{userIds:[e]}});var i=fe(),n=null;if(0!=i.length){var a=!0,r=!1,o=void 0;try{for(var s,d=i[Symbol.iterator]();!(a=(s=d.next()).done);a=!0){var l=s.value;l.source&&"adserver.org"===l.source&&l.uids[0].id&&(n=l.uids[0].id)}}catch(e){r=!0,o=e}finally{try{a||null==d.return||d.return()}finally{if(r)throw o}}}if(null!=n){var u={name:"unifiedId",value:{tdid:n}};(t=window.pbjs.getConfig("userSync.userIds"))&&Array.isArray(t)?(t.unshift(u),window.pbjs.setConfig({userSync:{userIds:t}})):window.pbjs.setConfig({userSync:{userIds:[u]}})}var h=("hadronId",Ee?Ee.find(function(e){return"hadronId"===e.name}):null);h&&(t=window.pbjs.getConfig("userSync.userIds"))&&Array.isArray(t)&&(t.unshift({name:"hadronId",storage:{name:"hadronId",type:"html5"},params:{partnerId:h.partnerId}}),window.pbjs.setConfig({userSync:{userIds:t}})),window.pbjs.refreshUserIds()}catch(e){}window.pbjs.onEvent("bidRequested",function(e){try{var t=!0,i=!1,n=void 0;try{for(var a,r=e.bids[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o.userId.tdid&&Array.isArray(o.userId.pubProvidedId)){for(var s=0;s<o.userId.pubProvidedId.length;s++)if("adserver.org"===o.userId.pubProvidedId[s].source){o.userId.pubProvidedId.splice(s,1);break}if(Array.isArray(o.userIdAsEids))for(var d=0;d<o.userIdAsEids.length;d++)if("adserver.org"===o.userIdAsEids[d].source){o.userIdAsEids.splice(d,1);break}}}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}}catch(e){}})}var be="ac_waterfall_af_";function Se(e,t,i,n,a){var r=t,o=N(be+e).value;if(o){var s=Number(o),d=N(be+"locked").value,l=void 0!==d&&d;if(l)if(l&&"dynamic"==i){var u=Number((s*(1+n)).toFixed(2));L(be+e,r=u)}else r=s;else{var h=Number((s*(1-n)).toFixed(2));L(be+e,r=h<a?a:h)}}else L(be+e,t);return r}function Te(e,t){e.forEach(function(e){if("gam"==e.bidder.code||"gamfixed"==e.bidder.code){var i=e.floor;t&&(i=t*(1+(e.additionalFee?e.additionalFee:0)));var n=e.maxFloor?e.maxFloor:12;i>=n&&(i=n);var a=(Math.ceil(4*i)/4).toFixed(2);Object.assign(e,{adServer:{url:V(e.bidder.params.url,{hb_pb:a})},floor:Number(a)}),ae("AdRequest",{demandTagId:e.id,floor:e.floor,externalEvents:e.events})}})}var Ie=function(e,t){this._tags=e,this._params=t,this.sortTagsByTierAndPriority(this._tags),this._cycle=[],this._lastIndexInCycle=0,this._roundRobinResults={},this._tagsInQueue=[]};Ie.prototype.sortTagsByTierAndPriority=function(e){return e.sort(function(e,t){var i=e.tier,n=t.tier,a=e.priority,r=t.priority;return i==n?a<r?-1:a>r?1:0:i<n?-1:1}),e},Ie.prototype.setGetRoundRobinResult=function(e,t){return null!=this._roundRobinResults[e]?E(this._roundRobinResults[e]):(this._roundRobinResults[e]=t,E(this._roundRobinResults[e]))},Ie.prototype.getTagsByPriority=function(e,t){for(var i=[],n=0;n<e.length;n++)e[n].priority==t&&i.push(e[n]);return i},Ie.prototype.getBulkByTierAndPriority=function(e,t){return e.filty})},Ie.prototype.getCycle=function(){for(var e=[],t=[],i=0;i<this._tags.length;i++)this._tags[i].bidder?e.push(this._tags[i]):t.push(this._tags[i]);for(var n=0,a=0;a<t.length;a++)if(n<t.length){var r=this.getBulkByTierAndPriority(t,n);r.length>1?e.push(y(r)[0]):e.push(r[0]),n+=r.length}return this.sortTagsByTierAndPriority(e),e},Ie.prototype.nextCy()},Ie.prototype.getTierTags=function(e,t){return e.filer})},Ie.prototype.getTag=function(){var e=null;if(this._lastIndexInCycle>=this._cycle.length){if(0!=this._lastIndexInCycle||0!=this._cycle.length)return null;this.nextCycle(),this._lastIndexInCycle=0}for(var t=0;t<this._cycle.length;t++)if(t==this._lastIndexInCycle){if(this._cycle[t].bidder){e=this.getTierTags(this._cycle,this._cycle[t]),this._lastIndexInCycle+=e.length;break}e=this._cycle[t],this._lastIndexInCycle++;break}return e},Ie.prototype.getTagFromQu()},Ie.prototype.nextTag=function(){var e=this;return new Promise(function(t,i){var n=e;if(0==e._tagsInQueue.length){var a=e.getTag();if(a)if(Array.isArray(a)){var r=a.file)});0!=r.length?function(e,t){return new Promise(function(i,n){var a=[],r=[];if(e.forEach(function(e){if("aps"===e.bidder.code){ae("AdRequest",{demandTagId:e.id,floor:e.floor,externalEvents:e.events});var i=e.cpm;a.push(Object.assign(e,{adServer:{url:V(e.bidder.params.url,{amzniid:t.amzniid,amznbid:e.bidder.params.amznbid})},cpm:i,actualCPM:e.additionalFee?i*(1-e.additionalFee):i}))}else if("gam"===e.bidder.code||"gamfixed"===e.bidder.code){var n=e.cpm?e.cpm:e.floor;a.push(Object.assign(e,{cpm:n,actualCPM:e.additionalFee?n*(1-e.additionalFee):n}))}else r.push(e)}),0!=r.length)(function(e,t){return new Promise(function(i,n){t.currentScriptPath&&(le=t.currentScriptPath+"prebid.js",ce=t.currentScriptPath+"iiq.js");var a,r=[],o=(a=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy6)}));function s(){pbjs.removeAdUnit();for(var a=[],s=[],d=0;d<e.length;d++){var l=e[d];l.floor||(l.floor=l.cpm),t.firstRequest&&l.hasOwnProperty("firstReqFloor")?l.floor=l.firstReqFloor:(l.hasOwnProperty("adjustFloor")||(l.adjustFloor=!0),t.adjustFloors.enabled&&l.adjustFloor&&(l.floor=Se(l.id,l.floor,t.adjustFloors.adjustModel,t.adjustFloors.decreasePercentage,t.adjustFloors.minFloor)));var u=null;t.maxAdDuration&&(u=t.maxAdDuration/1e3);var h=ee(l.id,l.bidder.code,Object.assign({},l.bidder.params,{width:t.width,height:t.height,floor:l.floor,visible:t.visible,geo:t.geo,gpid:t.gpid?"/".concat(t.publisherId,"/").concat(t.widgetId,"#").concat(t.width,"x").concat(t.height):null,maxAdDuration:u}));h&&(a.push(h),s.push(l))}if(0!=a.length){var c=function(e){if(se&&clearTimeout(se),e){if(de)return;s.forEach(function(i){if(e.hasOwnProperty(i.id)){if("video"==e[i.id].bids[0].mediaType){var n=i.cpm?i.cpm:e[i.id].bids[0].cpm;n<i.floor||(r.push(Object.assign(i,{adServer:{url:e[i.id].bids[0].vastUrl},cpm:n,actualCPM:i.additionalFee?n*(1-i.additionalFee):n})),t.bidEvent&&ae("Bid",{demandTagId:i.id,cpm:n,floor:i.floor,width:t.width,height:t.height,geo:t.geo}))}}else t.bidEvent&&ae("Bid",{demandTagId:i.id,cpm:0,floor:i.floor,width:t.width,height:t.height,geo:t.geo})}),0!=r.length?i(r):n("NO_BIDS")}else n("NO_BIDS")};pbjs.onEvent("requestBids",function e(){s.forEach(function(e){ae("AdRequest",{demandTagId:e.id,floor:e.floor,externalEvents:e.events})}),pbjs.offEvent("requestBids",e)}),pbjs.que.push(function(){pbjs.aliasBidder("nexx360","league-m"),pbjs.addAdUnits(a),pbjs.bidderSettings={standard:{storageAllowed:!0}};var e={debug:!1,device:{ua:navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},yahooAds:{mode:"video"},rubicon:{returnVast:!0},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}}}};t.url&&(e.pageUrl=t.url);var i=t.gdpr&&t.consent||t.gpp||t.usPrivacy?{}:null;t.gdpr&&t.consent&&(i.gdpr={cmpApi:"static",allowAuctionWithoutConsent:!0,rules:[{purpose:"storage",enforcePurpose:!1,enforceVendor:!1},{purpose:"basicAds",enforcePurpose:!1,enforceVendor:!1},{purpose:"measurement",enforcePurpose:!1,enforceVendor:!1}],consentData:{getTCData:{tcString:t.consent,gdprApplies:t.gdpr}}}),t.gpp&&(i.gpp={cmpApi:"static",consentData:{sectionId:3,gppVersion:t.gpp.gppVersion,sectionList:t.gpp.sectionList,applicableSections:t.gpp.applicableSections,gppString:t.gpp.gppString}}),t.usPrivacy&&(i.usp={cmpApi:"static",consentData:{getUSPData:{uspString:t.usPrivacy}}}),i&&(e.consentManagement=i),t.coppa&&1==parseInt(t.coppa)&&(e.coppa=!0),pbjs.setConfig(e);var n=pe(t.schain);s.forEach(function(e){null==e.bidder.schain?pbjs.setBidderConfig({bidders:[e.bidder.code],config:{schain:{config:n}}}):""!==e.bidder.schain?pbjs.setBidderConfig({bidders:[e.bidder.code],config:{schain:{config:pe(e.bidder.schain)}}}):pbjs.setBidderConfig({bidders:[e.bidder.code],config:{schain:{config:null}}})}),pbjs.setBidderConfig({bidders:["rubicon"],config:{priceGranularity:"dense"}}),pbjs.requestBids({bidsBackHandler:c,timeout:ue,auctionId:o})}),se=setTime()},he)}else n("AD_UNITS_NOT_CONFIGURED")}de=!1,se&&clearTimeout(se),oe?s():(t.intentIq&&M(ce,!0,function(e){var i;e&&"undefined"!=typeof IntentIqObject&&new IntentIqObject({partner:t.intentIqPartnerId,pbjs:pbjs,intentIqData:(i=JSON.parse(R(ge)),i||{}),timeoutInMillis:t.intentIqTimeout,shouldClearDuplicatresForRubicon:!0})}),t.userIds&&(Ee=t.userIdsProviders,window.pbjs.que.push(ye)),ue=t.prebidTimeout,M(le,!0,function(e,t){e?(oe=!0,s()):n("error loading prebid.js")}))})})(r,t).then(function(e){var t=Ae(e,"actualCPM").actualCPM,n=a.concat(e);Te(n,t),i(ve(me(n)))}).catch(function(e){if(0!=a.length){var t=a.filter(function(e){return"aps"===e.bidder.code});if(0!=t.length){var r=Ae(t,"actualCPM").actualCPM;Te(a,r)}else Te(a);i(ve(me(a)))}else n(e)});else if(0!=a.length){var o=a.filde});if(0!=o.length){var s=Ae(o,"actualCPM").actualCPM;Te(a,s)}else Te(a);i(ve(me(a)))}else n("NO_BIDS")})}(r,e._params).then(function(e){if(e.forEach(function(e){}),e.length>1){for(var i=0;i<e.length;i++)n._tagsInQueue.push(e[i]);t([n.getTagFromQueue(),n._tagsInQueue.length])}else t([e[0],0])}).cae)}):i("no tag or tags for current time frame")}else X(a)?t([a,0]):i("no tag for current time frame");else i("END_OF_CYCLE")}else t([e.getTagFromQueue(),e._tagsInQueue.length])})};var Ve={},Ce=function(e,t){return new Promise(function(i,n){Ve[e]?i(Ve[e].waterfall):(Ve[e]={url:e,waterfall:null},fetch(e).t()}).then(function(a){a.data&&0!=a.data.length?(Ve[e].waterfall=new Ie(a.data,t),i(Ve[e].waterfall)):(Ve[e]=void 0,n("fetch response empty, no tags"))}).catch(function(t){Ve[e]=void 0,n("fetch error "+t)}))})},ke=function(e,t,i){var n=this;this._adContainer=e,this._videoElement=t,this._callback=i,this.EVENTS={AdsManagerLoaded:"AdsManagerLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog",AllAdsCompleted:"AllAdsCompleted"},this._eventCallbacks={},this._adsLoader=null,this._adDisplayContainer=null,this._adDisplayContainerInitialized=!1,this._adsManager=null,this._currentAd=null,this._adPodInfo=null,this._attributes={version:'"1.1.54_298_prod"'},this._options={autoplay:!0,muted:!0,secure:!1,vastLoadTimeout:23e3,loadVideoTimeout:8e3,contentDuration:null,omid:null,ppid:null},this.IMA_SDK_SRC="//imasdk.googleapis.com/js/sdkloader/ima3.js",window.google&&google.ima&&google.ima.AdsLoader?this.setupIMA():M(this.IMA_SDK_SRC,!0,function(e,t){e?n.setupIMA():n._callback&&"function"==typeof n._callback&&n._callback("ima sdk not loaded")}),this._hasLoaded=!1,this._hasStarted=!1};ke.prototype.setupIMA=function(){google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this._adDisplayContainer=new google.ima.AdDisplayContainer(this._adContainer,this._videoElement),this._adsLoader=new google.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onIMAAdsManagerLoaded.bind(this),!1),this._adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onIMAAdsManagerAdError.bind(this),!1),this._callback&&"function"==typeof this._callback&&this._callback()},ke.prototype.doContentComplete=function(){this._adsLoader&&this._adsLoader.contentComplete()},ke.prototype.maybeInitializeAdDisplayContai0)},ke.prototype.init=function(e,t,i){try{this.maybeInitializeAdDisplayContainer(),this._adsManager&&this._adsManager.init(e,t,i)}catch(e){this.onAdError(e)}},ke.prototype.start=function(){try{this._adsManager&&this._adsManager.start()}catch(e){this.onAdError(e)}},ke.prototype.getDuration=function(){return this._currentAd?this._currentAd.getDuration():-2},ke.prototype.getRemainingT-2},ke.prototype.resume=function(){this._adsManager&&this._adsManager.resume()},ke.prototype.pause=function(){this._adsManager&&this._adsManager.pause()},ke.prototype.stop=function(){this._adsManager&&this._adsManager.stop()},ke.prototype.skip=function(){this._adsManager&&(this._adsManager.getAdSkippableState()&&this._adsManager.skip(),this.onIMAAdSkipped())},ke.prototype.resize=function(e,t,i){this._adsManager&&(this._adsManager.resize(e,t,i),this.onAdSizeChange())},ke.prototype.getVolume=function(){return this._adsManager&&this._adsManager.getVolume()},ke.prototype.setVole)},ke.prototype.getSkippableSt()},ke.prototype.collapse=function(){this._adsManager&&this._adsManager.collapse()},ke.prototype.exp()},ke.prototype.requestAds=function(e,t){Object.assign(this._options,t);var i=new google.ima.AdsRequest,n=!1;try{new URL(e),n=!0}catch(e){}if(n?i.adTagUrl=e:i.adsResponse=e,this._options.pageUrl&&(i.pageUrl=this._options.pageUrl),this._options.contentDuration){var a=this._options.contentDuration/1e3;i.contentDuration=a}if(i.vastLoadTimeout=this._options.vastLoadTimeout,i.linearAdSlotWidth=this._videoElement.width,i.linearAdSlotHeight=this._videoElement.height,i.nonLinearAdSlotWidth=this._videoElement.width,i.nonLinearAdSlotHeight=this._videoElement.height,this._options.omid)for(var r in i.omidAccessModeRules={},this._options.omid)google.ima.OmidVerificationVendor[r]&&google.ima.OmidAccessMode[this._options.omid[r]]&&(i.omidAccessModeRules[google.ima.OmidVerificationVendor[r]]=google.ima.OmidAccessMode[this._options.omid[r]]);null!==this._options.autoplay&&i.setAdWillAutoPlay(this._options.autoplay),null!==this._options.muted&&i.setAdWillPlayMuted(this._options.muted),this._adsLoader.getSettings().setVpaidMode(this._options.secure?google.ima.ImaSdkSettings.VpaidMode.ENABLED:google.ima.ImaSdkSettings.VpaidMode.INSECURE),this._options.ppid&&this._adsLoader.getSettings().setPpid(this._options.ppid),this._adsLoader.requestAds(i)},ke.prototype.abort=function(){this._currentAd=null,this._adPodInfo=null,this._hasLoaded=!1,this._hasStarted=!1,this._adsManager&&(this._adsManager.destroy(),this._adsManager=null),this.doContentComplete()},ke.prototype.onIMAAdsManagerLoaded=function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.loadVideoTimeout=this._options.loadVideoTimeout,this._adsManager=e.getAdsManager(this._videoElement,t),this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onIMAAdError.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,function(){}),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_METADATA,function(){}),this._adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onIMAAdClickThru.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onIMAAdVideoComplete.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onAdStarted.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onAdStopped.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,this.onAdDurationChange.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,this.onAdVideoFirstQuartile.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,this.onAdImpression.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.INTERACTION,this.onAdInteraction.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LINEAR_CHANGED,this.onAdLinearChange.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onIMAAdLoaded.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onIMAAdLog.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,this.onAdVideoMidpoint.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdPlaying.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.onAdSkippableStateChange.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onIMAAdSkipped.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdVideoStart.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,this.onAdVideoThirdQuartile.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,this.onAdUserClose.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,this.onAdVolumeChange.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,this.onAdVolumeChange.bind(this)),this.onAdsManagerLoaded()},ke.prototype.onIMAAdsManagerAdError=function(e){this.onAdError(e.getError())},ke.prototype.onIMAAdClickThru=function(e){this.onAdClickThru("",e.getAd().getAdId(),!1)},ke.prototype.onIMAAdVideoCompl()},ke.prototype.onIMAAdLoaded=function(e){this._currentAd=e.getAd(),this.onAdLoaded(this._currentAd)},ke.prototype.onIMAAdSkip()},ke.prototype.onIMAAdEr))},ke.prototype.onIMAAdLog=function(e){(e=e.getAdData()).hasOwnProperty("adError")?this.onAdLog(e.adError.getMessage()):this.onAdLog("IMA Ad Log")},ke.prototype.onAdsManagerLoaded=function(){this._callEvent(this.EVENTS.AdsManagerLoaded)},ke.prototype.onAdLoaded=function(e){this._hasLoaded=!0,this.EVENTS.AdLoaded in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdLoaded](e)},ke.prototype.onAdStarted=function(){this._hasStarted=!0,this._currentAd&&(this._adPodInfo=this._currentAd.getAdPodInfo(),this._adPodInfo),this._callEvent(this.EVENTS.AdStarted)},ke.prototype.onAdDurationChange=function(){this._callEvent(this.EVENTS.AdDurationChange)},ke.prototype.onAdLinearChange=function(){this._callEvent(this.EVENTS.AdLinearChange)},ke.prototype.onAdSkippableStateChange=function(){this._callEvent(this.EVENTS.AdSkippableStateChange)},ke.prototype.onAdSizeChange=function(){this._callEvent(this.EVENTS.AdSizeChange)},ke.prototype.onAdVolumeChange=function(){this._callEvent(this.EVENTS.AdVolumeChange)},ke.prototype.onAdVideoStart=function(){this._callEvent(this.EVENTS.AdVideoStart)},ke.prototype.onAdImpression=function(){this._callEvent(this.EVENTS.AdImpression)},ke.prototype.onAdVideoFirstQuartile=function(){this._callEvent(this.EVENTS.AdVideoFirstQuartile)},ke.prototype.onAdVideoMidpoint=function(){this._callEvent(this.EVENTS.AdVideoMidpoint)},ke.prototype.onAdVideoThirdQuartile=function(){this._callEvent(this.EVENTS.AdVideoThirdQuartile)},ke.prototype.onAdVideoComplete=function(){this._callEvent(this.EVENTS.AdVideoComplete)},ke.prototype.onAdPaused=function(){this._callEvent(this.EVENTS.AdPaused)},ke.prototype.onAdPlaying=function(){this._callEvent(this.EVENTS.AdPlaying)},ke.prototype.onAdSkipped=function(){this._callEvent(this.EVENTS.AdSkipped)},ke.prototype.onAdStopped=function(){this._hasStarted?this._callEvent(this.EVENTS.AdStopped):this.onAdError("ad stopped before started")},ke.prototype.onAdClickThru=function(e,t,i){this.EVENTS.AdClickThru in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdClickThru](e,t,i)},ke.prototype.onAdInteraction=function(){this._callEvent(this.EVENTS.AdInteraction)},ke.prototype.onAdUserClose=function(){this._callEvent(this.EVENTS.AdUserClose)},ke.prototype.onAllAdsCompled)},ke.prototype.onAdError=function(e){this.EVENTS.AdError in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdError](e)},ke.prototype.onAdLog=function(e){this.EVENTS.AdLog in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdLog](e)},ke.prototype._callEvent=function(e){e in this._eventCallbacks&&this._eventCallbacks[e]()},ke.prototype.addEventListener=function(e,t,i){var n=t.bind(i);this._eventCallbacks[e]=n},ke.prototype.removeEventListener=function(e){this._eventCallbacks[e]=null},ke.prototype.getVersion=function(){return this._attributes.version};var we=ke,Me=i(0)=i};Le.prototype.getMessage=function(){return this.message},Le.prototype.getErrorCode=function(){return this.errorCode},Le.prototype.getInnerErll},Le.prototype.formatMessage=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.message=function(e){try{for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];i.forEt)})}catch(e){}return e}(this.message,t),this},Le.prototype.toStr")};var Ne=Le,De=function(e){this.adId=e.adId,this.duration=e.duration,this.linear="linear"===e.type};De.prototype.getAdId=function(){return this.adId},De.prototype.getDuration=function(){return this.duration},De.prototype.getMediall},De.prototype.isLinear=function(){return this.linear};var Ree)}var xe=function(e){if(!e||!(e instanceof Element||e instanceof HTMLDocument||e.getRootNode))throw new Error("ad container is not defined");this._adContainer=e,this._slot=null,this._videoSlot=null,this.createSlot(),this.EVENTS={AdsManagerLoaded:"AdsManagerLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog",AllAdsCompleted:"AllAdsCompleted"},this._eventCallbacks={},this._creativeEventCallbacks={},this._attributes={width:300,height:154,viewMode:"normal",desiredBitrate:-1,duration:10,remainingTime:10,currentTime:0,volume:0,version:'"1.1.54_298_prod"'},this._quartileEvents=[{event:"AdImpression",value:0},{event:"AdVideoStart",value:0},{event:"AdVideoFirstQuartile",value:25},{event:"AdVideoMidpoint",value:50},{event:"AdVideoThirdQuartile",value:75},{event:"AdVideoComplete",value:100}],this._nextQuartileIndex=0,this._defaultEventCallbacks={AdImpression:this.onAdImpression.bind(this),AdVideoStart:this.onAdVideoStart.bind(this),AdVideoFirstQuartile:this.onAdVideoFirstQuartile.bind(this),AdVideoMidpoint:this.onAdVideoMidpoint.bind(this),AdVideoThirdQuartile:this.onAdVideoThirdQuartile.bind(this),AdVideoComplete:this.onAdVideoComplete.bind(this)},this._options={autoplay:!0,muted:!0,forcedMute:!0,vastLoadTimeout:23e3,loadVideoTimeout:8e3,withCredentials:!1,wrapperLimit:10,resolveAll:!0},this.ERROR_CODES={VAST_MALFORMED_RESPONSE:100,ADS_REQUEST_NETWORK_ERROR:1012,FAILED_TO_REQUEST_ADS:1005,UNKNOWN_AD_RESPONSE:1010,VAST_ASSET_NOT_FOUND:1007,VAST_EMPTY_RESPONSE:1009,VAST_LINEAR_ASSET_MISMATCH:403,VAST_LOAD_TIMEOUT:301,VAST_MEDIA_LOAD_TIMEOUT:402,VIDEO_PLAY_ERROR:400,VPAID_ERROR:901},this.ERROR_MESSAGES={VAST_MALFORMED_RESPONSE:"VAST response was malformed and could not be parsed.",ADS_REQUEST_ERROR:"Unable to request ads from server. Cause: {0}.",ADS_REQUEST_NETWORK_ERROR:"Unable to request ads from server due to network error.",FAILED_TO_REQUEST_ADS:"The was a problem requesting ads from the server.",NO_ADS_FOUND:"The response does not contain any valid ads.",UNKNOWN_AD_RESPONSE:"The ad response was not understood and cannot be parsed.",VAST_ASSET_NOT_FOUND:"No assets were found in the VAST ad response.",VAST_EMPTY_RESPONSE:"The VAST response document is empty.",VAST_LINEAR_ASSET_MISMATCH:"Linear assets were found in the VAST ad response, but none of them matched the player's capabilities.",VAST_LOAD_TIMEOUT:"Ad request reached a timeout.",VAST_MEDIA_LOAD_TIMEOUT:"VAST media file loading reached a timeout of {0} seconds.",VIDEO_PLAY_ERROR:"There was an error playing the video ad.",VPAID_CREATIVE_ERROR:"An unexpected error occurred within the VPAID creative. Refer to the inner error for more info."},this.ERRORS={VAST_MALFORMED_RESPONSE:new Ne(this.ERROR_MESSAGES.VAST_MALFORMED_RESPONSE,this.ERROR_CODES.VAST_MALFORMED_RESPONSE),VAST_EMPTY_RESPONSE:new Ne(this.ERROR_MESSAGES.VAST_EMPTY_RESPONSE,this.ERROR_CODES.VAST_EMPTY_RESPONSE),VAST_ASSET_NOT_FOUND:new Ne(this.ERROR_MESSAGES.VAST_ASSET_NOT_FOUND,this.ERROR_CODES.VAST_ASSET_NOT_FOUND),VAST_LINEAR_ASSET_MISMATCH:new Ne(this.ERROR_MESSAGES.VAST_LINEAR_ASSET_MISMATCH,this.ERROR_CODES.VAST_LINEAR_ASSET_MISMATCH),VAST_LOAD_TIMEOUT:new Ne(this.ERROR_MESSAGES.VAST_LOAD_TIMEOUT,this.ERROR_CODES.VAST_LOAD_TIMEOUT),VAST_MEDIA_LOAD_TIMEOUT:new Ne(this.ERROR_MESSAGES.VAST_MEDIA_LOAD_TIMEOUT,this.ERROR_CODES.VAST_MEDIA_LOAD_TIMEOUT),VIDEO_PLAY_ERROR:new Ne(this.ERROR_MESSAGES.VIDEO_PLAY_ERROR,this.ERROR_CODES.VIDEO_PLAY_ERROR),VPAID_CREATIVE_ERROR:new Ne(this.ERROR_MESSAGES.VPAID_CREATIVE_ERROR,this.ERROR_CODES.VPAID_ERROR)},this._vastClient=null,this._vastParser=null,this._vastTracker=null,this._ad=null,this._adPod=null,this._creative=null,this._mediaFiles=null,this._mediaFileIndex=0,this._mediaFile=null,this._isVPAID=!1,this._vpaidIframe=null,this._vpaidCreative=null,this._vastMediaLoadTimer=null,this._vpaidProgressTimer=null,this._requestId=null,this._handleLoadCreativeMessage=this.handleLoadCreativeMessage.bind(this),this._handleSlotClick=this.handleSlotClick.bind(this),this._handleVideoSlotError=this.handleVideoSlotError.bind(this),this._handleVideoSlotCanPlay=this.handleVideoSlotCanPlay.bind(this),this._handleVideoSlotVolumeChange=this.handleVideoSlotVolumeChange.bind(this),this._handleVideoSlotTimeUpdate=this.handleVideoSlotTimeUpdate.bind(this),this._handleVideoSlotLoadedMetaData=this.handleVideoSlotLoadedMetaData.bind(this),this._handleVideoSlotEnded=this.handleVideoSlotEnded.bind(this),this.SUPPORTED_CREATIVE_VPAID_VERSION_MIN=2,this._hasLoaded=!1,this._hasError=!1,this._hasImpression=!1,this._hasStarted=!1,this._isDestroyed=!1};xe.prototype.createSlot=function(){this._slot=document.createElement("div"),this._slot.style.position="absolute",this._adContainer.appendChild(this._slot),this.createVideoSlot()},xe.prototype.removeSt)},xe.prototype.showSlot=function(){""===this._videoSlot.src&&this.hideVideoSlot(),this._slot.style.display="block"},xe.prototype.hideSlot=function(){this._slot.style.display="none"},xe.prototype.resizeSx"},xe.prototype.createVideoSlot=function(){this._videoSlot=document.createElement("video"),this._videoSlot.setAttribute("webkit-playsinline",!0),this._videoSlot.setAttribute("playsinline",!0),this._videoSlot.style.width="100%",this._videoSlot.style.height="100%",this._videoSlot.style.backgroundColor="rgb(0, 0, 0)",this._videoSlot.style.display="none";var e=this,t=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"src");Object.defineProperty(this._videoSlot,"src",{()},get:t.get});var i=this._videoSlot.setAttribute;this._videoSlot.setAttribute=function(){var t=i.apply(this,[].slice.call(arguments));return"src"===arguments[0]&&e.showHideVideoSlot(),t},this._slot.appendChild(this._videoSlot)},xe.prototype.hideVideoSlot=function(){this._videoSlot.style.display="none"},xe.prototype.showVideoSk"},xe.prototype.showHideVideoS()},xe.prototype.stopVASTMediaLoadTimeout=function(){this._vastMediaLoadTimer&&(clearTimeout(this._vastMediaLoadTimer),this._vastMediaLoadTimer=null)},xe.prototype.startVASTMediaLoadTimeout=function(){var e=this;this.stopVASTMediaLoadTimeout(),this._vastMediaLoadTimer=setTimeout(function(){e.onAdError(e.ERRORS.VAST_MEDIA_LOAD_TIMEOUT.formatMessage(Math.floor(e._options.loadVideoTimeout/1e3%60)))},this._options.loadVideoTimeout)},xe.prototype.updateVPAIDProgress=function(){this._attributes.remainingTime=this._isCreativeFunctionInvokable("getAdRemainingTime")?this._vpaidCreative.getAdRemainingTime():-1,isNaN(this._attributes.remainingTime)||1===this._attributes.remainingTime||(this._attributes.currentTime=this._attributes.duration-this._attributes.remainingTime,this._vastTracker.setProgress(this._attributes.currentTime))},xe.prototype.startVPAIDProgress=function(){var e=this;this.stopVPAIDProgress(),this._vpaidProgressTimer=setInterval(function(){e._isVPAID&&e._vpaidCreative&&e._vastTracker?e.updateVPAIDProgress():e.stopVPAIDProgress()},1e3)},xe.prototype.stopVPAIDProgrl)},xe.prototype._callEvent=function(e){e in this._eventCallbacks&&this._eventCallbacks[e]()},xe.prototype.addEventListener=function(e,t,i){var n=t.bind(i);this._eventCallbacks[e]=n},xe.prototype.removeEventListener=function(e){this._eventCallbacks[e]=null},xe.prototype.removeEventListeners=function(e){for(var t in e)e.hasOwnProperty(t)&&this.removeEventListener(t)},xe.prototype.onAdsManagerLoaded=function(){this._callEvent(this.EVENTS.AdsManagerLoaded)},xe.prototype.onAdLoaded=function(){this.stopVASTMediaLoadTimeout(),this.EVENTS.AdLoaded in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdLoaded](new Re(this._creative))},xe.prototype.onAdDurationChange=function(){this._isVPAID&&this._vpaidCreative&&this._vastTracker&&(this._attributes.duration=this._isCreativeFunctionInvokable("getAdDuration")?this._vpaidCreative.getAdDuration():-1,-1!==this._attributes.duration&&this._vastTracker.setDuration(this._attributes.duration)),this._callEvent(this.EVENTS.AdDurationChange)},xe.prototype.onAdSizeChange=function(){this._callEvent(this.EVENTS.AdSizeChange)},xe.prototype.onAdStard)},xe.prototype.onAdVideoStart=function(){this._isVPAID&&this._vpaidCreative&&this._vastTracker&&this.updateVPAIDProgress(),this._callEvent(this.EVENTS.AdVideoStart)},xe.prototype.onAdStopped=function(){this._hasStarted?(this._callEvent(this.EVENTS.AdStopped),this._abort()):this.onAdError(this.ERRORS.VPAID_CREATIVE_ERROR)},xe.prototype.onAdSkip()},xe.prototype.onAdVolumeChange=function(){this._callEvent(this.EVENTS.AdVolumeChange)},xe.prototype.onAdImpression=function(){this._isVPAID&&this._vpaidCreative&&this._vastTracker&&(this._hasImpression||(this._attributes.duration=this._isCreativeFunctionInvokable("getAdDuration")?this._vpaidCreative.getAdDuration():-1,-1!==this._attributes.duration&&this._vastTracker.setDuration(this._attributes.duration),this._vastTracker.trackImpression(),this.startVPAIDProgress(),this._hasImpression=!0)),this._callEvent(this.EVENTS.AdImpression)},xe.prototype.onAdClickThru=function(e,t,i){this._isVPAID&&this._vpaidCreative&&this._vastTracker&&this._vastTracker.click(),this.EVENTS.AdClickThru in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdClickThru](e,t,i)},xe.prototype.onAdVideoFirstQuartile=function(){this._isVPAID&&this._vpaidCreative&&this._vastTracker&&this.updateVPAIDProgress(),this._callEvent(this.EVENTS.AdVideoFirstQuartile)},xe.prototype.onAdVideoMidpoint=function(){this._isVPAID&&this._vpaidCreative&&this._vastTracker&&this.updateVPAIDProgress(),this._callEvent(this.EVENTS.AdVideoMidpoint)},xe.prototype.onAdVideoThirdQuartile=function(){this._isVPAID&&this._vpaidCreative&&this._vastTracker&&this.updateVPAIDProgress(),this._callEvent(this.EVENTS.AdVideoThirdQuartile)},xe.prototype.onAdPaused=function(){this._vastTracker&&this._vastTracker.setPaused(!0),this._callEvent(this.EVENTS.AdPaused)},xe.prototype.onAdPlaying=function(){this._vastTracker&&this._vastTracker.setPaused(!1),this._callEvent(this.EVENTS.AdPlaying)},xe.prototype.onAdVideoComplete=function(){this._isVPAID&&this._vpaidCreative&&this._vastTracker&&this._vastTracker.complete(),this._callEvent(this.EVENTS.AdVideoComplete)},xe.prototype.onAllAdsCompleted=function(){this._callEvent(this.EVENTS.AllAdsCompleted)},xe.prototype.onAdError=function(e){this._hasError=!0,this.abort(),this.EVENTS.AdError in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdError]("object"!==Pe(e)?new Ne(e):e)},xe.prototype.onAdLog=function(e){this.EVENTS.AdLog in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdLog](e)},xe.prototype.processVASTResponse=function(e){var t=this,i=e.ads;0!=i.length?(i.length>1?(this._adPod=i.sort(function(e,t){var i=e.sequence,n=t.sequence;return i===n?0:null===i?1:null===n?-1:i<n?-1:i>n?1:0}),this._ad=i[0]):this._ad=i[0],this._ad&&(this._creative=i[0].creatives.filpe})[0],this._creative?0!=this._creative.mediaFiles.length?(this._mediaFiles=this._creative.mediaFiles.filter(function(e){return t.canPlayVideoType(e.mimeType)?e:"application/javascript"===e.mimeType?e:void 0}),this._mediaFiles.s:0}),this._mediaFiles&&0!=this._mediaFiles.length?(this._vastTracker=new Me.VASTTracker(null,this._ad,this._creative),this._vastTracker.load(),this.onAdsManagerLoaded()):this.onAdError(this.ERRORS.VAST_LINEAR_ASSET_MISMATCH)):this.onAdError(this.ERRORS.VAST_ASSET_NOT_FOUND):this.onAdError("non linear"))):this.onAdError(this.ERRORS.VAST_EMPTY_RESPONSE)},xe.prototype.requestAds=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._isDestroyed){this._requestId=(new Date).getTime(),Object.assign(this._options,i);var n={timeout:this._options.vastLoadTimeout,withCredentials:this._options.withCredentials,wrapperLimit:this._options.wrapperLimit,resolveAll:this._options.resolveAll};if(this.abort(),e&&"string"==typeof e){var a=!1;try{new URL(e),a=!0}catch(e){}if(a)this._vastClient=new Me.VASTClient,this._vastClient.get(e,n).then(function(e){t.processVASTResponse(e)}).catch(function(e){t.onAdError(e.message)});else{var r=(new window.DOMParser).parseFromString(e,"text/xml");this._vastParser=new Me.VASTParser,this._vastParser.parseVAST(r,n).te)}).cae)})}}else this.onAdError("VAST URL/XML is empty")}},xe.prototype.canPlayVideoType=function(e){return!!("video/3gpp"===e&&this.supportsThreeGPVideo()||"video/webm"===e&&this.supportsWebmVideo()||"video/ogg"===e&&this.supportsOggTheoraVideo()||"video/mp4"===e&&this.supportsH264BaselineVideo())},xe.prototype.supportsVipe},xe.prototype.supportsH264BaselineVideo=function(){return!!this.supportsVideo()&&document.createElement("video").canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')},xe.prototype.supportsOggTheoraVideo=function(){return!!this.supportsVideo()&&document.createElement("video").canPlayType('video/ogg; codecs="theora, vorbis"')},xe.prototype.supportsWebmVideo=function(){return!!this.supportsVideo()&&document.createElement("video").canPlayType('video/webm; codecs="vp8, vorbis"')},xe.prototype.supportsThreeGPVideo=function(){return!!this.supportsVideo()&&document.createElement("video").canPlayType('video/3gpp; codecs="mp4v.20.8, samr"')},xe.prototype.handshakeVerse)},xe.prototype._isCreativeFunctionInvokable=function(e){return!!this._vpaidCreative&&(e=this._vpaidCreative[e])&&"function"==typeof e},xe.prototype.checkVPAIDInterf t},xe.prototype.setCallbacksForCreatt)},xe.prototype.removeCallbacksForCreative=function(e){if(null!==this._vpaidCreative)for(var t in e)e.hasOwnProperty(t)&&this._vpaidCreative.unsubscribe(t)},xe.prototype.creativeAssetLoaded=function(){var e,t,i=this;if((t=(e=this).checkVPAIDInterface("handshakeVersion initAd startAd stopAd subscribe unsubscribe getAdLinear".split(" "))).passed||e.onAdError("Missing interfaces in the VPAID creative: "+t.missingInterfaces),t.passed&&function(){var e=i.handshakeVersion(i.SUPPORTED_CREATIVE_VPAID_VERSION_MIN.toFixed(1));return e?!(parseFloat(e)<i.SUPPORTED_CREATIVE_VPAID_VERSION_MIN&&(i.onAdError("Only support creatives with VPAID version >= "+i.SUPPORTED_CREATIVE_VPAID_VERSION_MIN.toFixed(1)),1)):(i.onAdError("Cannot get VPAID version from the creative"),!1)}()){this._creativeEventCallbacks={AdStarted:this.onAdStarted,AdStopped:this.onAdStopped,AdSkipped:this.onAdSkipped,AdLoaded:this.onAdLoaded,AdSizeChange:this.onAdSizeChange,AdDurationChange:this.onAdDurationChange,AdVolumeChange:this.onAdVolumeChange,AdImpression:this.onAdImpression,AdClickThru:this.onAdClickThru,AdVideoStart:this.onAdVideoStart,AdVideoFirstQuartile:this.onAdVideoFirstQuartile,AdVideoMidpoint:this.onAdVideoMidpoint,AdVideoThirdQuartile:this.onAdVideoThirdQuartile,AdVideoComplete:this.onAdVideoComplete,AdPaused:this.onAdPaused,AdPlaying:this.onAdPlaying,AdError:this.onAdError,AdLog:this.onAdLog},this.setCallbacksForCreative(this._creativeEventCallbacks,this);var n=this._attributes.width,a=this._attributes.height,r={AdParameters:this._creative.adParameters},o={slot:this._slot,videoSlot:this._videoSlot,videoSlotCanAutoPlay:!0};this.startVASTMediaLoadTimeout();try{this._vpaidCreative.initAd(n,a,this._attributes.viewMode,this._attributes.desiredBitrate,r,o)}catch(e){this.onAdError(e)}}},xe.prototype.handleLoadCreativeMessage=function(e){if(e&&e.data){var t=String(e.data).match(new RegExp("adm:"+this._requestId+"://(.*)"));if(t){var i=JSON.parse(t[1]);if("load"==i)try{var n=this._vpaidIframe.contentWindow.getVPAIDAd;n&&"function"==typeof n?void 0===(n=n())?this.onAdError("getVPAIDAd() returns undefined value"):null==n?this.onAdError("getVPAIDAd() returns null"):(this._vpaidCreative=n,this.creativeAssetLoaded()):this.onAdError("getVPAIDAd() is undefined")}catch(e){this.onAdError(e)}else"error"==i&&this.onAdError("Error load VPAID")}}},xe.prototype.loadCreativeAsset=function(e){window.addEventListener("message",this._handleLoadCreativeMessage),this._vpaidIframe=document.createElement("iframe"),this._vpaidIframe.style.display="none",this._vpaidIframe.style.width="0px",this._vpaidIframe.style.height="0px",this._adContainer.appendChild(this._vpaidIframe),this._vpaidIframe.contentWindow.document.open(),this._vpaidIframe.contentWindow.document.write("\n<script>function sendMessage(msg) {\n  var postMsg = 'adm:".concat(this._requestId,"://' + JSON.stringify(msg);\n  if(window.parent.length > 1) {\n    for (var i = 0; i < window.parent.length; i++) {\n      window.parent[i].postMessage(postMsg, '*');\n    }\n  } else {\n    window.parent.postMessage(postMsg, '*');\n  }\n} <\/script>\n<script type=\"text/javascript\" onload=\"sendMessage('load')\" onerror=\"sendMessage('error')\" src=\"").concat(e,'"> <\/script>')),this._vpaidIframe.contentWindow.document.close()},xe.prototype.removeCreativeAsset=function(){var e=this;this._vpaidIframe&&this._vpaidIframe.parentNode&&this._vpaidIframe.parentNode.removeChild(this._vpaidIfra()}(this._slot.children).forEt)})},xe.prototype._ab()},xe.prototype.isCreativeExists=function(){return this._creative&&0!=this._creative.mediaFiles.length},xe.prototype.handleSlotCl()},xe.prototype.handleVideoSlotError=function(){this.onAdError(this.ERRORS.VIDEO_PLAY_ERROR)},xe.prototype.handleVideoSlotCanP){},xe.prototype.handleVideoSlotVolumeChad)},xe.prototype.handleVideoSlotTimeUpdate=function(e){if(this.isCreativeExists()){if(this._nextQuartileIndex>=this._quartileEvents.length)return;var t=e.target.currentTime/e.target.duration*100;if(t>=this._quartileEvents[this._nextQuartileIndex].value){var i=this._quartileEvents[this._nextQuartileIndex].event;this._defaultEventCallbacks[i](),this._nextQuartileIndex+=1}t>=0&&(this._hasImpression||(this._vastTracker&&this._vastTracker.trackImpression(),this._hasImpression=!0)),this._vastTracker&&this._vastTracker.setProgress(e.target.currentTime),e.target.duration>0&&(this._attributes.remainingTime=e.target.duration-e.target.currentTime)}},xe.prototype.handleVideoSlotLoadedMetaData=function(e){this._attributes.duration=e.target.duration,this._vastTracker&&this._vastTracker.setDuration(e.target.duration),this.onAdDurationChange()},xe.prototype.handleVideoSlotEn()},xe.prototype.init=function(e,t,i){var n=this;this._isDestroyed||this.isCreativeExists()&&(this._options.muted&&(this._videoSlot.muted=!0,this._videoSlot.volume=0),this._mediaFileIndex=this._mediaFiles.findIn=t}),-1!=this._mediaFileIndex?this._mediaFile=this._mediaFiles[this._mediaFileIndex]:this._mediaFile=this._mediaFiles[this._mediaFiles.length-1],this._mediaFile&&("application/javascript"===this._mediaFile.mimeType&&(this._isVPAID=!0),this._attributes.width=e,this._attributes.height=t,this._attributes.viewMode=i,this.resizeSlot(this._attributes.width,this._attributes.height),this._videoSlot.addEventListener("error",this._handleVideoSlotError,!1),this._isVPAID?this.loadCreativeAsset(this._mediaFile.fileURL):(this._slot.addEventListener("click",this._handleSlotClick),this._videoSlot.addEventListener("canplay",this._handleVideoSlotCanPlay),this._videoSlot.addEventListener("volumechange",this._handleVideoSlotVolumeChange),this._videoSlot.addEventListener("timeupdate",this._handleVideoSlotTimeUpdate,!0),this._videoSlot.addEventListener("loadedmetadata",this._handleVideoSlotLoadedMetaData),this._videoSlot.addEventListener("ended",this._handleVideoSlotEnded),this._videoSlot.setAttribute("src",this._mediaFile.fileURL),this.onAdLoaded()),this._vastTracker&&this._vastTracker.on("clickthrough",function(e){n._isVPAID||n.onAdClickThru(e);var t=window.open(e,"_blank");void 0!==t?t.focus():window.location.href=e})))},xe.prototype.start=function(){if(this.isCreativeExists()){var e=this,t=this._videoSlot.play,i=0;this._videoSlot.play=function(){var n=this,a=t.apply(this,[].slice.call(arguments));return a instanceof Promise&&a.tte}).catch(function(e){i<=30&&(n.muted=!0,n.play(),i++)}),a},this._isVPAID?this._isCreativeFunctionInvokable("startAd")&&this._vpaidCreative.startAd():(this._videoSlot.load(),this._videoSlot.play(),this.onAdStarted())}},xe.prototype.getDuraton},xe.prototype.pause=function(){this.isCreativeExists()&&(this._isVPAID?this._isCreativeFunctionInvokable("pauseAd")&&this._vpaidCreative.pauseAd():(this._videoSlot.pause(),this.onAdPaused()))},xe.prototype.resume=function(){this.isCreativeExists()&&(this._isVPAID?this._isCreativeFunctionInvokable("resumeAd")&&this._vpaidCreative.resumeAd():(this._videoSlot.play(),this.onAdPlaying()))},xe.prototype.stop=function(){this.isCreativeExists()&&(this._isVPAID?this._isCreativeFunctionInvokable("stopAd")&&this._vpaidCreative.stopAd():this.onAdStopped())},xe.prototype.skip=function(){this.isCreativeExists()&&(this._isVPAID?(this._isCreativeFunctionInvokable("skipAd")&&this._vpaidCreative.skipAd(),this.onAdSkipped()):this.onAdSkipped())},xe.prototype.resize=function(e,t,i){this.isCreativeExists()&&(this._attributes.width=e,this._attributes.height=t,this._attributes.viewMode=i,this.resizeSlot(this._attributes.width,this._attributes.height),this._isVPAID?this._isCreativeFunctionInvokable("resizeAd")&&this._vpaidCreative.resizeAd(e,t,i):this.onAdSizeChange())},xe.prototype.getVolume=function(){if(this.isCreativeExists())return this._isVPAID?this._isCreativeFunctionInvokable("getAdVolume")?this._vpaidCreative.getAdVolume():-1:this._videoSlot.muted?0:this._videoSlot.volume},xe.prototype.setVolume=function(e){this.isCreativeExists()&&e!==this.getVolume()&&(this._attributes.volume=e,0!==e?this._videoSlot.muted=!1:(/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&(this._videoSlot.muted=!0),this._isVPAID?this._isCreativeFunctionInvokable("setAdVolume")&&this._vpaidCreative.setAdVolume(e):(this._videoSlot.volume=e,this.onAdVolumeChange()))},xe.prototype.getRemainingTime=function(){if(this.isCreativeExists())return this._isVPAID?this._isCreativeFunctionInvokable("getAdRemainingTime")?this._vpaidCreative.getAdRemainingTime():-1:this._attributes.remainingTime},xe.prototype.collapse=function(){this.isCreativeExists()&&this._isVPAID&&this._isCreativeFunctionInvokable("collapseAd")&&this._vpaidCreative.collapseAd()},xe.prototype.expand=function(){this.isCreativeExists()&&this._isVPAID&&this._isCreativeFunctionInvokable("expandAd")&&this._vpaidCreative.expandAd()},xe.prototype.abort=function(){this._isDestroyed||(window.removeEventListener("message",this._handleLoadCreativeMessage),this.stopVASTMediaLoadTimeout(),this.stopVPAIDProgress(),this._isVPAID&&(this.removeCallbacksForCreative(this._creativeEventCallbacks),this.removeCreativeAsset()),this._nextQuartileIndex=0,this._isVPAID=!1,this._hasLoaded=!1,this._hasError=!1,this._hasImpression=!1,this._hasStarted=!1,this._ad=null,this._creative=null,this._mediaFile=null,this._vpaidCreative=null,this._vastTracker=null,this._slot.removeEventListener("click",this._handleSlotClick),this._videoSlot.removeEventListener("error",this._handleVideoSlotError,!1),this._videoSlot.removeEventListener("canplay",this._handleVideoSlotCanPlay),this._videoSlot.removeEventListener("volumechange",this._handleVideoSlotVolumeChange),this._videoSlot.removeEventListener("timeupdate",this._handleVideoSlotTimeUpdate,!0),this._videoSlot.removeEventListener("loadedmetadata",this._handleVideoSlotLoadedMetaData),this._videoSlot.removeEventListener("ended",this._handleVideoSlotEnded),this._videoSlot.pause(),this._videoSlot.removeAttribute("src"),this._videoSlot.load(),this.hideVideoSlot())},xe.prototype.destroy=function(){this._isDestroyed||(this.abort(),this.removeEventListeners(this._eventCallbacks),this.removeSlot(),this._adContainer=null,this._slot=null,this._videoSlot=null,this._isDestroyed=!0)},xe.prototype.isDestroed},xe.prototype.getVerson};var Oe=xe,Ue=function(e,t,i){this._adContainer=e,this._videoElement=t,this.EVENTS={AdsManagerLoaded:"AdsManagerLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog",AllAdsCompleted:"AllAdsCompleted"},this._eventCallbacks={},this._options={autoplay:!0,muted:!0,forcedMute:!0,secure:!1,vastLoadTimeout:23e3,loadVideoTimeout:8e3,contentDuration:null,omid:null,ppid:null},this._useIMA=!1,this._currentAd=null,this._lifecycleController=null,this._imaWrapper=new we(e,t,i),this._imaWrapper.addEventListener(this.EVENTS.AdsManagerLoaded,this.onAdsManagerLoaded.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdLog,this.onAdLog.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdError,this.onAdError.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdLoaded,this.onAdLoaded.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdStarted,this.onAdStarted.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdDurationChange,this.onAdDurationChange.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdLinearChange,this.onAdLinearChange.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdSkippableStateChange,this.onAdSkippableStateChange.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdSizeChange,this.onAdSizeChange.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdVolumeChange,this.onAdVolumeChange.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdVideoStart,this.onAdVideoStart.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdImpression,this.onAdImpression.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdVideoFirstQuartile,this.onAdVideoFirstQuartile.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdVideoMidpoint,this.onAdVideoMidpoint.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdVideoThirdQuartile,this.onAdVideoThirdQuartile.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdVideoComplete,this.onAdVideoComplete.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdPaused,this.onAdPaused.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdPlaying,this.onAdPlaying.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdSkipped,this.onAdSkipped.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdStopped,this.onAdStopped.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AdClickThru,this.onAdClickThru.bind(this)),this._imaWrapper.addEventListener(this.EVENTS.AllAdsCompleted,this.onAllAdsCompleted.bind(this)),this._adsManager=new Oe(e),this._adsManager.addEventListener(this.EVENTS.AdsManagerLoaded,this.onAdsManagerLoaded.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdError,this.onAdError.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdLog,this.onAdLog.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdLoaded,this.onAdLoaded.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdStarted,this.onAdStarted.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdDurationChange,this.onAdDurationChange.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdLinearChange,this.onAdLinearChange.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdSkippableStateChange,this.onAdSkippableStateChange.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdSizeChange,this.onAdSizeChange.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdVolumeChange,this.onAdVolumeChange.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdVideoStart,this.onAdVideoStart.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdImpression,this.onAdImpression.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdVideoFirstQuartile,this.onAdVideoFirstQuartile.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdVideoMidpoint,this.onAdVideoMidpoint.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdVideoThirdQuartile,this.onAdVideoThirdQuartile.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdVideoComplete,this.onAdVideoComplete.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdPaused,this.onAdPaused.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdPlaying,this.onAdPlaying.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdSkipped,this.onAdSkipped.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdStopped,this.onAdStopped.bind(this)),this._adsManager.addEventListener(this.EVENTS.AdClickThru,this.onAdClickThru.bind(this)),this._adsManager.addEventListener(this.EVENTS.AllAdsCompleted,this.onAllAdsCompleted.bind(this))};Ue.prototype.onAdsManagerLoaded=function(){this._callEvent(this.EVENTS.AdsManagerLoaded)},Ue.prototype.onAdLoaded=function(e){this._stopAdRequestTimeout(),e.isLinear()?(this._currentAd=e,this._lifecycleController&&this._lifecycleController.stop(),this.EVENTS.AdLoaded in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdLoaded](e)):(this.abort(),this.onAdError("ad is not linear"))},Ue.prototype.onAdStarted=function(){this._callEvent(this.EVENTS.AdStarted)},Ue.prototype.onAdDurationChange=function(){this._callEvent(this.EVENTS.AdDurationChange)},Ue.prototype.onAdLinearChange=function(){this._callEvent(this.EVENTS.AdLinearChange)},Ue.prototype.onAdSkippableStateChange=function(){this._callEvent(this.EVENTS.AdSkippableStateChange)},Ue.prototype.onAdSizeChange=function(){this._callEvent(this.EVENTS.AdSizeChange)},Ue.prototype.onAdVolumeChange=function(){this._callEvent(this.EVENTS.AdVolumeChange)},Ue.prototype.onAdExpandedChange=function(){this._callEvent(this.EVENTS.AdExpandedChange)},Ue.prototype.onAdVideoStart=function(){this._callEvent(this.EVENTS.AdVideoStart)},Ue.prototype.onAdImpression=function(){var e=this;this._callEvent(this.EVENTS.AdImpression);var t=this.getDuration(),i=0;setTimeout(function(){(i=Math.ceil(e.getRemainingTime()))>t&&(t=i+1),e._lifecycleController.stop(),e._lifecycleController.init(t,function(){e.onAdError("lifecycle timeout")}),e._lifecycleController.run()},1e3),this._lifecycleController.stop(),this._lifecycleController.ini")}),this._lifecycleController.run()},Ue.prototype.onAdVideoFirstQuartile=function(){this._lifecycleController.refresh(),this._callEvent(this.EVENTS.AdVideoFirstQuartile)},Ue.prototype.onAdVideoMidpoint=function(){this._lifecycleController.refresh(),this._callEvent(this.EVENTS.AdVideoMidpoint)},Ue.prototype.onAdVideoThirdQuartile=function(){this._lifecycleController.refresh(),this._callEvent(this.EVENTS.AdVideoThirdQuartile)},Ue.prototype.onAdVideoComplete=function(){this._callEvent(this.EVENTS.AdVideoComplete)},Ue.prototype.onAdPaud)},Ue.prototype.onAdPlaying=function(){this._callEvent(this.EVENTS.AdPlaying)},Ue.prototype.onAdSkipped=function(){this._callEvent(this.EVENTS.AdSkipped)},Ue.prototype.onAdStopped=function(){this._callEvent(this.EVENTS.AdStopped)},Ue.prototype.onAdClickThru=function(e,t,i){this.EVENTS.AdClickThru in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdClickThru](e,t,i)},Ue.prototype.onAdInteraction=function(){this._callEvent(this.EVENTS.AdInteraction)},Ue.prototype.onAdUserClose=function(){this._callEvent(this.EVENTS.AdUserClose)},Ue.prototype.onAllAdsCompled)},Ue.prototype.onAdError=function(e){this.abort(),this.EVENTS.AdError in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdError](e)},Ue.prototype.onAdLog=function(e){this.EVENTS.AdLog in this._eventCallbacks&&this._eventCallbacks[this.EVENTS.AdLog](e)},Ue.prototype._stopAdRequestTime0)},Ue.prototype._startAdRequestTimeout=function(e){var t=this;this._stopAdRequestTimeout();var i=e||this._options.vastLoadTimeout;this._timeout=setTimeout(function(){t.onAdError("ad rejected by timeout ("+i/1e3+" seconds)")},i)},Ue.prototype.init=function(e,t,i){this._lifecycleController=new P,this._useIMA?this._imaWrapper.init(e,t,i):this._adsManager.init(e,t,i)},Ue.prototype.start=function(){this._useIMA?this._imaWrapper.start():this._adsManager.start()},Ue.prototype.abort=function(){this._stopAdRequestTimeout(),this._currentAd=null,this._lifecycleController&&this._lifecycleController.stop(),this._useIMA?this._imaWrapper.abort():this._adsManager.abort()},Ue.prototype.requestAds=function(e,t){this.abort(),Object.assign(this._options,t),-1!==e.indexOf("pubads.g.doubleclick.net")?this._useIMA=!0:this._useIMA=!1,this._useIMA?this._imaWrapper.requestAds(e,this._options):this._adsManager.requestAds(e,Object.assign(this._options,{muted:!1})),this._startAdRequestTimeout(this._options.vastLoadTimeout)},Ue.prototype.resume=function(){this._useIMA?this._imaWrapper.resume():this._adsManager.resume()},Ue.prototype.pause=function(){this._useIMA?this._imaWrapper.pause():this._adsManager.pause()},Ue.prototype.stop=function(){this._useIMA?this._imaWrapper.stop():this._adsManager.stop()},Ue.prototype.getSkippableSt!0},Ue.prototype.skip=function(){this._useIMA?this._imaWrapper.skip():this._adsManager.skip()},Ue.prototype.getRemainingTime=function(){return this._useIMA?this._imaWrapper.getRemainingTime():this._adsManager.getRemainingTime()},Ue.prototype.getDuration=function(){return this._useIMA?this._imaWrapper.getDuration():this._adsManager.getDuration()},Ue.prototype.getMediall},Ue.prototype.getVol()},Ue.prototype.setVole)},Ue.prototype.resize=function(e,t,i){this._useIMA?this._imaWrapper.resize(e,t,i):this._adsManager.resize(e,t,i)},Ue.prototype.collapse=function(){this._useIMA?this._imaWrapper.collapse():this._adsManager.collapse()},Ue.prototype.exp()},Ue.prototype._callEv()},Ue.prototype.addEventListener=function(e,t,i){var n=t.bind(i);this._eventCallbacks[e]=n},Ue.prototype.removeEventListell};var je=Ue,ze=function(e,t,i){var n=this;this._eventsUrl=e,this._redshiftEventsUrl=t,this._params=i,ne(function(e){n.trackEvent("frq",e)},"FirstAdRequest",null,1),ne(function(e){n.trackEvent("arq",e),e.externalEvents&&n.trackExternalEvents("arq",e.externalEvents)},"AdRequest",null,1),ne(function(e){n.trackEvent("alo",e),e.externalEvents&&n.trackExternalEvents("alo",e.externalEvents)},"AdLoaded",null,1),ne(function(e){n.trackEvent("imp",e),e.externalEvents&&n.trackExternalEvents("imp",e.externalEvents)},"AdImpression",null,1),ne(function(e){e.externalEvents&&n.trackExternalEvents("acl",e.externalEvents)},"AdClickThru",null,1),ne(function(e){e.externalEvents&&n.trackExternalEvents("acp",e.externalEvents)},"AdComplete",null,1)s)},"AdError",null,1),ne(function(e){n.trackEvent("bid",e)},"Bid",null,1),ne(function(e){n.trackRedshiftEvent("data",e)},"RedshiftData",null,1),ne(function(e){n.trackRedshiftEvent("psw",e)},"RedshiftWidth",null,1),ne(function(e){n.trackRedshiftEvent("psh",e)},"RedshiftHeight",null,1),ne(function(e){n.trackRedshiftEvent("arq",e)},"RedshiftAdRequest",null,1),ne(function(e){n.trackRedshiftEvent("ast",e)},"RedshiftAdStarted",null,1),ne(function(e){n.trackRedshiftEvent("imp",e)},"RedshiftAdImpression",null,1),ne(function(e){n.trackRedshiftEvent("aq1",e)},"RedshiftAdVideoFirstQuartile",null,1),ne(function(e){n.trackRedshiftEvent("aq2",e)},"RedshiftAdVideoMidpoint",null,1),ne(function(e){n.trackRedshiftEvent("aq3",e)},"RedshiftAdVideoThirdQuartile",null,1),ne(function(e){n.trackRedshiftEvent("ask",e)},"RedshiftAdSkipped",null,1),ne(function(e){n.trackRedshiftEvent("acl",e)},"RedshiftAdClickThru",null,1),ne(function(e){n.trackRedshiftEvent("acp",e)},"RedshiftAdComplete",null,1)e)},"RedshiftAdError",null,1)};ze.prototype.trackEvent=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={ty:e,sti:this._params.supplyTagId,sid:this._params.sessionId,pid:this._params.publisherId,wid:this._params.widgetId,v:this._params.visible?1:0,cid:this._params.clipId,abc:this._params.abVariant,dev:this._params.device,dom:this._params.domain,bw:this._params.browser,os:this._params.os};t.hasOwnProperty("demandTagId")&&(n.dti=t.demandTagId),t.hasOwnProperty("cpm")&&(n.cpm=t.cpm),t.hasOwnProperty("floor")&&(n.floor=t.floor),t.hasOwnProperty("width")&&(n.w=t.width),t.hasOwnProperty("height")&&(n.h=t.height),t.hasOwnProperty("geo")&&(n.geo=t.geo),t.value&&""!=t.value&&(n.val=t.value);var a=T(n),r=this._eventsUrl+"?"+a;i?navigator.sendBeacon(r):(new Image).src=r},ze.prototype.trackRedshiftEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.hasOwnProperty("value")&&""!==t.value?t.value:"";n||(n=this._params.supplyTagId+"|"+(t.hasOwnProperty("demandTagId")?t.demandTagId:""));var a,r,o,s,d={ty:e,val:n,sti:this._params.supplyTagId,sid:this._params.sessionId,pid:this._params.publisherId,wid:this._params.widgetId,v:this._params.visible?1:0,rt:(new Date).getTime()-this._params.timeOrigin,abc:this._params.abVariant};if(t.hasOwnProperty("demandTagId")&&(d.dti=t.demandTagId),"data"==e){var l={dev:"1"==this._params.device?"desktop":"mobile",dom:this._params.domain,url:this._params.url,cke:navigator.cookieEnabled,lan:navigator.language,plat:navigator.platform,os:(s="Unknown OS",-1!=navigator.appVersion.indexOf("Win")&&(s="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(s="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(s="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(s="Linux"),s),bw:(r=navigator.userAgent,o=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(o[1])?{name:"IE ",version:(a=/\brv[ :]+(\d+)/g.exec(r)||[])[1]||""}:"Chrome"===o[1]&&null!=(a=r.match(/\bOPR\/(\d+)/))?{name:"Opera",version:a[1]}:(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=r.match(/version\/(\d+)/i))&&o.splice(1,1,a[1]),o[0]+","+o[1])),ua:navigator.userAgent};Object.assign(d,l)}var u=T(d),h=this._redshiftEventsUrl+"?"+u;i?navigator.sendBeacon(h):(new Image).src=h},ze.prototype.executeExternalTracking=function(e,t){if(e&&t)switch(e){case"img":(new Image).src=t;break;case"script":var i=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.src=t,i.appendChild(n)}},ze.prototype.trackExternalEvents=function(e,t){var i=this;t&&t[e]&&t[e].forE{}})};var Fe=ze,Be=function e(){return this._Browsers={Edge:/edge|edga|edgios|edg/i,Chromium:/chromium/i,Chrome:/chrome|crios/i,Safari:/safari/i,IE:/msie|trident/i,Opera:/opera|OPR\//i,Firefox:/firefox|fxios/i},this._Platform={Windows:/windows nt/i,WindowsPhone:/windows phone/i,Mac:/macintosh/i,Linux:/linux/i,iPad:/ipad/i,iPod:/ipod/i,iPhone:/iphone/i,Android:/android/i,iOS:/^ios\-/i,ChromeOS:/cros/i},this.DefaultAgent={isAuthoritative:!0,isiPad:!1,isiPod:!1,isiPhone:!1,isAndroid:!1,isOpera:!1,isIE:!1,isEdge:!1,isSafari:!1,isFirefox:!1,isChrome:!1,isWindows:!1,isLinux:!1,isMac:!1,isChromeOS:!1,browser:"unknown",os:"unknown",source:""},this.Agent={},this.getBrowser=function(e){switch(!0){case this._Browsers.Edge.test(e):return this.Agent.isEdge=!0,"edge";case this._Browsers.Opera.test(e):return this.Agent.isOpera=!0,"opera";case this._Browsers.Chromium.test(e):case this._Browsers.Chrome.test(e):return this.Agent.isChrome=!0,"chrome";case this._Browsers.IE.test(e):return this.Agent.isIE=!0,"ie";case this._Browsers.Firefox.test(e):return this.Agent.isFirefox=!0,"firefox";case this._Browsers.Safari.test(e):return this.Agent.isSafari=!0,"safari";default:return-1!==e.indexOf("Dalvik")?"unknown":0!==e.indexOf("Mozilla")&&/^([\d\w\-\.]+)\/[\d\w\.\-]+/i.test(e)?(this.Agent.isAuthoritative=!1,RegExp.$1):"unknown"}},this.getOS=function(e){switch(!0){case this._Platform.Windows.test(e):return this.Agent.isWindows=!0,"windows";case this._Platform.WindowsPhone.test(e):return this.Agent.isWindowsPhone=!0,"windows-phone";case this._Platform.Mac.test(e):return this.Agent.isMac=!0,"macos";case this._Platform.Android.test(e):return this.Agent.isAndroid=!0,"android";case this._Platform.Linux.test(e):return this.Agent.isLinux=!0,"linux";case this._Platform.ChromeOS.test(e):return this.Agent.isChromeOS=!0,"chrome-os";case this._Platform.iPad.test(e):return this.Agent.isiPad=!0,"ios";case this._Platform.iPod.test(e):return this.Agent.isiPod=!0,"ios";case this._Platform.iPhone.test(e):return this.Agent.isiPhone=!0,"ios";case this._Platform.iOS.test(e):return"ios";default:return"unknown"}},this.reis},this.parse=function(t){var i=new e;return i.Agent.source=t.replace(/^\s*/,"").replace(/\s*$/,""),i.Agent.os=i.getOS(i.Agent.source),i.Agent.browser=i.getBrowser(i.Agent.source),i.Agent},this.Agent=this.DefaultAgent,th()}var Qe,qe,He,Ge,Ye,Ze=function(){this._slot=null,this._videoSlot=null,this.VPAID_EVENTS={FirstAdRequest:"FirstAdRequest",AdRequest:"AdRequest",AdsManagerLoaded:"AdsManagerLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdComplete:"AdComplete",AllAdsCompleted:"AllAdsCompleted",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"},this.VPAID_FINAL_EVENTS={AdError:"AdError",AdVideoComplete:"AdVideoComplete",AdStopped:"AdStopped"},this._finalEventsTimeout=null,this._eventCallbacks={},this._attributes={companions:"",desiredBitrate:256,duration:30,expanded:!1,width:0,height:0,nonLinearSlotHeight:150,viewMode:"normal",icons:"",linear:!0,remainingTime:10,skippableState:!1,showMuteButton:!0,showPlayPauseButton:!1,defaultVolume:0,volume:0,muted:!0,loadVideoTimeout:8e3,vastLoadTimeout:2e4,pageUrl:null,contentDuration:null,adWillAutoPlay:!0,defaultAdWillAutoPlay:!0,adWillPlayMuted:!1,defaultAdWillPlayMuted:!1,useSecureIframe:!1,adMediaData:!0,adCompleteTimeout:0,moatVideoAnalytics:!1,moatPartnerCode:"anyclipjsvideonew323859178418",hbAdPod:!1,hbAdPodMaxCount:-1,omid:null},this.AD_SERVER_URL="",this.EVENTS_URL="https://marketplace.anyclip.com/v1/events",this.REDSHIFT_EVENTS_URL="https://pixel.anyclip.com/pixel",this.isIndependent=!1,this._params={timeOrigin:null,width:null,height:null,sessionId:null,publisherId:null,widgetId:null,visible:!0,supplyTagId:null,clipId:null,abVariant:null,geo:null,device:null,domain:null,browser:null,os:null,gdpr:null,consent:null,gpp:null,usPrivacy:null,schain:null,coppa:null,amzniid:null,amznbid:null,currentScriptPath:null,intentIq:!1,intentIqPartnerId:0,intentIqTimeout:3e3,userIds:!1,userIdsProviders:null,adjustFloors:{enabled:!1,decreasePercentage:.2,adjustModel:"return-to-default-floor",minFloor:.4},prebidTimeout:2e4,gpid:!1,bidEvent:!1,firstRequest:!1,maxAdDuration:null},this._exceptURLParams="sti w h v cb pid sid cid wid dom url abc geo dev bw os ip amznbid amzniid".split(" "),this._notificationManager=null,this._waterfall=null,this._adManager=null,this._startInQueue=!1,this._vpaidIsLoaded=!1,this._adIsLoaded=!1,this._moatApiReference=null,this._playPauseButton=null,this._volumeButton=null,this._mediaUrl=null,this.volumeUpdatedPromise,this.onVolumeUpdatedPromiseResolve,this.onVolumeUpdatedPromiseReject,this.intersectionRatio_=0,this.visibilityThreshold_=50};Ze.prototype.onAdLoaded=function(){this.VPAID_EVENTS.AdLoaded in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLoaded]()},Ze.prototype.onAdStarted=function(){var e=this,t=this;this._attributes.showPlayPauseButton&&(this._playPauseButton=new function(){var e=document.createElement("div");e.style.width="25px",e.style.height="25px",e.style.display="block",e.style.position="absolute",e.style.left="20px",e.style.bottom="20px",e.style.zIndex="10000",e.style.cursor="pointer",e.style.backgroundImage="url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCA3ODQgMTAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNzg0IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01ODIuMiwwaDkuOGMzOSwwLDY4LjMsMjkuMyw2OC4zLDY4LjN2ODg3LjVjMCwzOS0yOS4zLDY4LjMtNjguMyw2OC4zaC05LjhjLTM5LDAtNjguMy0yOS4zLTY4LjMtNjguM1Y2OC4zDQoJQzUxMy45LDI5LjMsNTQzLjIsMCw1ODIuMiwwTDU4Mi4yLDB6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTkyLjEsMGg5LjhjMzksMCw2OC4zLDI5LjMsNjguMyw2OC4zdjg4Ny41YzAsMzktMjkuMyw2OC4zLTY4LjMsNjguM2gtOS44Yy0zOSwwLTY4LjMtMjkuMy02OC4zLTY4LjNWNjguMw0KCUMxMjMuOCwyOS4zLDE1My4xLDAsMTkyLjEsMEwxOTIuMSwweiIvPg0KPC9zdmc+DQo=)",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center",e.style.visibility="hidden",e.classList.add("lre-ply-btn"),e.oncl()},this.show=function(){e.style.visibility="visible"},this.hn"},this.ren e};var t=!0;this.setState=function(i){t=i,e.style.backgroundImage=t?"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCA3ODQgMTAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNzg0IDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01ODIuMiwwaDkuOGMzOSwwLDY4LjMsMjkuMyw2OC4zLDY4LjN2ODg3LjVjMCwzOS0yOS4zLDY4LjMtNjguMyw2OC4zaC05LjhjLTM5LDAtNjguMy0yOS4zLTY4LjMtNjguM1Y2OC4zDQoJQzUxMy45LDI5LjMsNTQzLjIsMCw1ODIuMiwwTDU4Mi4yLDB6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTkyLjEsMGg5LjhjMzksMCw2OC4zLDI5LjMsNjguMyw2OC4zdjg4Ny41YzAsMzktMjkuMyw2OC4zLTY4LjMsNjguM2gtOS44Yy0zOSwwLTY4LjMtMjkuMy02OC4zLTY4LjNWNjguMw0KCUMxMjMuOCwyOS4zLDE1My4xLDAsMTkyLjEsMEwxOTIuMSwweiIvPg0KPC9zdmc+DQo=)":"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCA3NTIgMTAyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNzUyIDEwMjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iNzUyLDUxMiAwLDAgMCwxMDI0ICIvPg0KPC9zdmc+DQo=)"},this.onClick=function(i){e.onclt)}}},this._slot.appendChild(this._playPauseButton.render()),this._playPauseButton.onCl()}),2!==parseInt(this._params.device)?(this._slot.addEventListener("mouseover",function(){e._playPauseButton.show()},!1),this._slot.addEventListener("mouseleave",function(){e._playPauseButton.hide()},!1)):this._playPauseButton.show()),this._attributes.showMuteButton&&(this._volumeButton=new z,this._volumeButton.volume(this._attributes.volume),this._slot.appendChild(this._volumeButton.render(this._attributes.showPlayPauseButton)),this._volumeButton.onClick(function(){var e=t._attributes.volume?0:1;t._attributes.volume=e,t._attributes.defaultVolume=e,t.setAdVolume(e),t._volumeButton.volume(e),f("amu",e?0:1)}),2!==parseInt(this._params.device)?(this._slot.addEventListener("mouseover",function(){e._volumeButton.show()},!1),this._slot.addEventListener("mouselea()},!1)):this._volumeButton.show()),this.VPAID_EVENTS.AdStarted in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdStarted]()},Ze.prototype.onAdVideoStart=function(){this.VPAID_EVENTS.AdVideoStart in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoStart]()},Ze.prototype.onAdImpression=function(){this.VPAID_EVENTS.AdImpression in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdImpression]();var e=this;this._attributes.adMediaData&&null!=this._mediaUrl&&fetch(new Request(this._mediaUrl,{method:"HEAD"})).then(function(t){f("amd",e._mediaUrl+"|"+t.headers.get("content-type"))}).ca){})},Ze.prototype.onAdClickThru=function(e,t,i){this.VPAID_EVENTS.AdClickThru in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdClickThru](e,t,i)},Ze.prototype.onAdVideoFirstQuartile=function(){this.VPAID_EVENTS.AdVideoFirstQuartile in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoFirstQuartile]()},Ze.prototype.onAdVideoMidpoint=function(){this.VPAID_EVENTS.AdVideoMidpoint in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoMidpoint]()},Ze.prototype.onAdVideoThirdQuartile=function(){this.VPAID_EVENTS.AdVideoThirdQuartile in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVideoThirdQuartile]()},Ze.prototype.onAdVideoComplete=function(){this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdVideoComplete].concat([].slice.call(arguments)))},Ze.prototype.onAdPaused=function(){this._playPauseButton&&this._playPauseButton.setState(!1),this.VPAID_EVENTS.AdPaused in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdPaused]()},Ze.prototype.onAdPlaying=function(){this._playPauseButton&&this._playPauseButton.setState(!0),this.VPAID_EVENTS.AdPlaying in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdPlaying]()},Ze.prototype.onAdVolumeChange=function(){this.VPAID_EVENTS.AdVolumeChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdVolumeChange]()},Ze.prototype.onAdStopped=function(){this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdStopped].concat([].slice.call(arguments)))},Ze.prototype.onAdSkipped=function(){this.VPAID_EVENTS.AdSkipped in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSkipped]()},Ze.prototype.onAdDurationChange=function(){this.VPAID_EVENTS.AdDurationChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdDurationChange]()},Ze.prototype.onAdInteraction=function(){this.VPAID_EVENTS.AdInteraction in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdInteraction]()},Ze.prototype.onAdLinearChange=function(){this.VPAID_EVENTS.AdLinearChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLinearChange]()},Ze.prototype.onAdSkippableStateChange=function(){this.VPAID_EVENTS.AdSkippableStateChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSkippableStateChange]()},Ze.prototype.onAdUserClose=function(){this.VPAID_EVENTS.AdUserClose in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdUserClose]()},Ze.prototype.onAdLog=function(e){this.VPAID_EVENTS.AdLog in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdLog](e)},Ze.prototype.onAdSizeChange=function(){this.VPAID_EVENTS.AdSizeChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdSizeChange]()},Ze.prototype.onAdExpandedChange=function(){this.VPAID_EVENTS.AdExpandedChange in this._eventCallbacks&&this._eventCallbacks[this.VPAID_EVENTS.AdExpandedChange]()},Ze.prototype.onAdError=function(e){this.isIndependent&&ae("Redshift"+this.VPAID_EVENTS.AdError,{value:e}),this._params.adjustFloors.enabled&&("keep-minimum"!=this._params.adjustFloors.adjustModel&&"dynamic"!=this._params.adjustFloors.adjustModel||N(this.ADJUST_FLOOR_NAME+"locked").value&&D(this.ADJUST_FLOOR_NAME+"locked")),this.doForwardAndDispatchEvent.apply(this,[this.VPAID_EVENTS.AdError].concat([].slice.call(arguments)))},Ze.prototype.doForwardAndDispatchEvent=function(e){var t=this;if(this.VPAID_EVENTS.hasOwnProperty(e)){for(var i=arguments.length,n=Array(1<i?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];this._attributes.adCompleteTimeout>0&&this.VPAID_FINAL_EVENTS.hasOwnProperty(e)?this._finalEventsTimeout=setTimeout(function(){e in t._eventCallbacks&&t._eventCallbacks[e]&&t._eventCallbacks[e].apply(t._eventCallbacks[e],n)},this._attributes.adCompleteTimeout):e in this._eventCallbacks&&this._eventCallbacks[e]&&this._eventCallbacks[e].apply(this._eventCallbacks[e],n)}},Ze.prototype.onVolumeUpdatedPromise=function(){var e=this;return new Prom=i})},Ze.prototype.updateVolumeLevel=function(){var e=this,t=0;return this.volumeUpdatedPromise||(this.volumeUpdatedPromise=this.onVolumeUpdatedPromise(),function i(){!e._attributes.defaultVolume&&e.getAdVolume&&0!==e.getAdVolume()?t<3?(t+=1,e.setAdVolume(0),setTimeout(i,10)):e.onVolumeUpdatedPromiseReject("Set ad volume failed"):e.onVolumeUpdatedPromiseResolve(e.getAdVolume())}()),this.volumeUpdatedPromise},Ze.prototype.updateVolume=function(){var e=this;this._attributes.defaultVolume||this.setAdVolume(0),this.updateVolumeLevel().t")})},Ze.prototype.handshakeVersion=function(e){return"2.0"},Ze.prototype.handleVisibilityChange_=function(){},Ze.prototype.visibilityDetection_=function(e){var t=this;this.intersectionRatio_=function(e){var t=e.getBoundingClientRect(),i=t.height,n=O().wHeight,a=t.top,r=t.bottom;return Math.max(0,a>0?Math.min(i,n-a):r<n?r:n)/i}(e),document.addEventListener("visibilitychange",function(){t.handleVisibilityChange_()}),function(e,t){var i=new IntersectionObserver(t,{root:null,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});try{i.observe(e)}catch(e){}}(e,function(e){var i=e[e.length-1].intersectionRatio;t.intersectionRatio_=i,t.handleVisibilityChange_()})},Ze.prototype.isVisible_=function(){return!document.hidden&&100*this.intersectionRatio_>=this.visibilityThreshold_},Ze.prototype.initAd=function(e,t,i,n,a,s){this._slot=s.slot,this._videoSlot=s.videoSlot,A(a.AdParameters),this.SESSION_NAME="ac_waterfall_sid_",this._params.timeOrigin=O().timeOrigin;var d,l=u("ad_tag")||m("ad");if(l)this.AD_SERVER_URL=k(l);else{this.isIndependent=!0,this.visibilityDetection_(this._slot);var h=null,c=function(e){var t=[];if(window.sessionStorage)try{for(var i in window.sessionStorage)0===i.indexOf(e)&&t.push(window.sessionStorage.getItem(i))}catch(e){}return t}(this.SESSION_NAME+"VAST");if(0==c.length)h="VAST"+C().slice(4);else{for(var v=!1,g=0;g<c.length;g++)if((B=JSON.parse(c[g])).timeOrigin==this._params.timeOrigin){h=B.id,v=!0;break}v||(h="VAST"+C().slice(4))}var _=(new Be).parse(navigator.userAgent),E=function(){var e=window.location.href;if(document.referrer,window.parent!=window){var t=function(e){var t=(e=e.replace(".cdn.ampproject.org","")).lastIndexOf("-");return 0<=t?b(e=e.substring(0,t)+"."+e.substring(t+1)):null},i=window,n=document,a=null,r=null,o=null,s=null,d=null,l=null,u=[],h=[],c=null,p=[],m=_=-1;try{l=i.location.href}catch(e){}try{d=i.top.location.href}catch(e){}try{i.location.hostname}catch(e){}try{i.top.location.hostname}catch(e){}try{i.location.origin}catch(e){}try{i.top.location.origin}catch(e){}try{b(s=n.referrer)}catch(e){}try{o=[],r=[];for(var A=0;A<i.location.ancestorOrigins.length;A++){var v=i.location.ancestorOrigins[A];o.push(v);var g=b(v);r.push(g),v.endsWith(".cdn.ampproject.org")&&t(v)}}catch(e){}null!==o&&o.length>0&&(a=o[o.length-1]),null!==r&&r.length>0&&r[r.length-1];try{var f=i,_=0;do{try{u.push(f)}catch(e){}try{h.push({url:f.location.href}),c=f.location.href}catch(e){}try{p.push({url:f.location.hostname}),f.location.hostname,m=_+1}catch(e){}f=f.parent,_++}while(f!==i.top&&f!==f.parent&&50>_)}catch(e){}return function(){if(null!==d&&""!==d)return d;if(!(1>=_)){if(!(2===_||2>=m)&&null!==c&&""!==c)return c;if(null!==s&&""!==s)return s}return null!==l&&""!==l?l:null!==a&&""!==a?a:null}()}return e}(),y=b(E).replace(/(^www\.)/g,""),V=(V=parseInt(m("gdpr",0)),isNaN(V)?0:V),w=parseInt(m("w",0)),M=parseInt(m("h",0)),R=parseInt(m("v",0)),P=p(),j={sti:m("sti"),wid:m("wid"),pid:m("pid"),w:e?Math.round(e):w?Math.round(w):640,h:t?Math.round(t):M?Math.round(M):360,v:R||(this.isVisible_()?1:0),sid:h,url:I(m("url",""))||E,dom:I(m("dom",""))||y,dev:(-1==x&&(x=!1,d=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.substr(0,4)))&&(x=!0)),x?2:1),bw:_.browser,os:_.os,gdpr:V,consent:V?I(m("consent","")):"",us_privacy:I(m("us_privacy","")),schain:I(m("schain","")),coppa:I(m("coppa","")),amznbid:I(m("amznbid","")),amzniid:I(m("amzniid","")),cb:I(m("cb",""))||Math.floor(1e9*Math.random())},z=Object.assign(P,j);this.AD_SERVER_URL="https://marketplace.anyclip.com/v1/waterfall?"+T(z)}this._params.width=parseInt(S(this.AD_SERVER_URL,"w",640)),this._params.height=parseInt(S(this.AD_SERVER_URL,"h",360)),this._params.supplyTagId=S(this.AD_SERVER_URL,"sti"),this._params.sessionId=S(this.AD_SERVER_URL,"sid"),this._params.publisherId=S(this.AD_SERVER_URL,"pid"),this._params.widgetId=S(this.AD_SERVER_URL,"wid"),this._params.visible=!!parseInt(S(this.AD_SERVER_URL,"v",1)),this._params.clipId=S(this.AD_SERVER_URL,"cid",""),this._params.abVariant=S(this.AD_SERVER_URL,"abc",""),this._params.geo=S(this.AD_SERVER_URL,"geo",""),this._params.device=S(this.AD_SERVER_URL,"dev"),this._params.domain=S(this.AD_SERVER_URL,"dom"),this._params.url=S(this.AD_SERVER_URL,"url"),this._params.browser=S(this.AD_SERVER_URL,"bw"),this._params.os=S(this.AD_SERVER_URL,"os"),this._params.gdpr=!!parseInt(S(this.AD_SERVER_URL,"gdpr",0)),this._params.consent=S(this.AD_SERVER_URL,"consent");var F=S(this.AD_SERVER_URL,"gpp");this._params.gpp=F?{gppVersion:S(this.AD_SERVER_URL,"gpp_ver"),sectionList:U(S(this.AD_SERVER_URL,"gpp_sl")),applicableSections:U(S(this.AD_SERVER_URL,"gpp_as")),gppString:F}:null,this._params.usPrivacy=S(this.AD_SERVER_URL,"us_privacy"),this._params.schain=S(this.AD_SERVER_URL,"schain"),this._params.coppa=S(this.AD_SERVER_URL,"coppa"),this._params.amzniid=S(this.AD_SERVER_URL,"amzniid"),this._params.amznbid=S(this.AD_SERVER_URL,"amznbid"),this._params.ppid=S(this.AD_SERVER_URL,"ppid"),this._params.currentScriptPath=null!==r&&null!==o?(r+o).replace("lreprx.js",""):null,this._params.intentIq=!!parseInt(m("iiq",0)),this._params.intentIqPartnerId=parseInt(m("iiq_pid",0)),this._params.intentIqTimeout=parseInt(m("iiq_t",3e3)),this._params.userIds=!!parseInt(m("uids",0)),this._params.userIdsProviders=JSON.parse(m("uids_p",null)),this._params.adjustFloors.enabled=!!parseInt(m("af",0)),this._params.adjustFloors.decreasePercentage=Number(m("af_dp",.2)),this._params.adjustFloors.adjustModel=m("af_am","return-to-default-floor"),this._params.adjustFloors.minFloor=Number(m("af_mf",.4)),this._params.prebidTimeout=parseInt(m("pb_t",2e4)),this._params.gpid=!!parseInt(m("gpid",0)),this._params.maxAdDuration=m("max_d",null),this._params.bidEvent=!!parseInt(m("bid_evt",0)),this._attributes.showMuteButton=!!parseInt(m("smb",1)),this._attributes.volume=parseInt(m("m",1))?0:1,this._attributes.defaultVolume=this._attributes.volume,this._attributes.muted=!!parseInt(m("m",1)),this._attributes.useSecureIframe=!!parseInt(m("sf",0)),this._attributes.adMediaData=!!parseInt(m("amd",1)),this._attributes.adCompleteTimeout=parseInt(m("act",200)),this._attributes.loadVideoTimeout=parseInt(m("lvt",8e3)),this._attributes.pageUrl=m("page_url",null),this._attributes.contentDuration=m("vid_d",null);var B,W=S(this.AD_SERVER_URL,"vpa",null,!0),Q=S(this.AD_SERVER_URL,"vpmute",null,!0);this._attributes.adWillAutoPlay=null==W?this._attributes.defaultAdWillAutoPlay:""==W?null:"auto"===W,this._attributes.adWillPlayMuted=null==Q?this._attributes.defaultAdWillPlayMuted:""==Q?null:!!parseInt(Q),this._attributes.moatVideoAnalytics=!!parseInt(m("mvt",0)),this._attributes.hbAdPod=!!parseInt(m("hap",0)),this._attributes.hbAdPodMaxCount=parseInt(m("hap_mc",-1)),this._attributes.showPlayPauseButton=!!parseInt(m("spb",1)),this._attributes.omid=JSON.parse(m("omid",null)),this._attributes.width=e||this._params.width,this._attributes.height=t||this._params.height,this._attributes.viewMode=i,this._attributes.desiredBitrate=n,this.FREQUENCY_CAP_NAME="ac_waterfall_frequency_",this.ADJUST_FLOOR_NAME="ac_waterfall_af_",this._notificationManager=new Fe(this.EVENTS_URL,this.REDSHIFT_EVENTS_URL,this._params),(B=N(this.SESSION_NAME+this._params.sessionId).value)?this._params.firstRequest=!1:(L(this.SESSION_NAME+this._params.sessionId,JSON.stringify({timeOrigin:this._params.timeOrigin,id:this._params.sessionId})),D(this.FREQUENCY_CAP_NAME),D(this.ADJUST_FLOOR_NAME),this.isIndependent&&(ae("RedshiftData"),ae("RedshiftWidth",{value:this._params.width}),ae("RedshiftHeight",{value:this._params.height})),this._params.firstRequest=!0);var q=this,H=new Promise(function(e,t){q._adManager=new je(q._slot,q._videoS()})});function G(e){if("VIDEO"==e.tagName||"LIMA-VIDEO"==e.tagName){if("LIMA-VIDEO"==e.tagName){var t=e.load;e.load=function(){return this.muted=!0,t.apply(this,[].slice.call(arguments))}}var i=e.play,n=0;e.play=function(){var e=this;this.muted=!0,q._attributes.adMediaData&&(q._mediaUrl=""!=this.src?this.src:null),q._attributes.volume&&(q._attributes.volume=0,q._volumeButton&&q._volumeButton.volume(0));var t=i.apply(this,[].slice.call(arguments));return t instanceof Promise&&t.then(function(e){}).catch(function(t){n<=30&&(e.muted=!0,e.play(),n++)}),t}}}if(Promise.all([Ce(function(e,t){try{var i=new URL(e),n=new Set(t),a=new URLSearchParams;i.searchParams.forEe)});var r=a.toString();return i.origin+i.pathname+(r?"?"+r:"")}catch(e){}return e}(this.AD_SERVER_URL,this._exceptURLParams),this._params),H]).then(function(e){var t=We(e,2),i=t[0];t[1],q._waterfall=i,q._waterfall&&q._adManager&&(f("xil"),q.isIndependent&&(ae(q.VPAID_EVENTS.FirstAdRequest,{}),ae("Redshift"+q.VPAID_EVENTS.AdRequest,{value:encodeURIComponent(q.AD_SERVER_URL)})),q.requestAd())}).catch(function(e){q.onAdError(e)}),this._attributes.muted){var Y=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;void 0!==Y&&new Y(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){G(e),e.querySelectorAll&&e.querySelectorAll("video, lima-video").forEach(G)})})}).observe(this._slot.parentNode,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}},Ze.prototype.requestAd=function(){var e=this,t=!1,i=!1,n=0,a=!1,r=!1,o=!1,s=null;e._waterfall&&e._adManager&&function d(){i=a=r=o=!1,s&&clearInterval(s),e._waterfall.nextTag().then(function(l){var u=We(l,2),h=u[0],c=u[1],p=function(e,t){try{new URL(e).searchParams.forEach(function(e,i){t=(t=t.replace(new RegExp("\\$\\["+i+"]","g"),"url"===i?encodeURIComponent(e):e)).replace(new RegExp("\\$\\[URI_ENCODE:"+i+"]","g"),encodeURIComponent(e))})}catch(e){}return t}(e.AD_SERVER_URL,h.adServer.url);p=V(p,{dti:h.id,cpm:h.cpm,max_d:e._params.maxAdDuration}),e._adManager.addEventListener(e.VPAID_EVENTS.AdsManagerLoae)}),e._adManager.addEventListener(e.VPAID_EVENTS.AdLoaded,function(i){e.updateVolume(),t?e._adManager.start():(t=!0,e._adIsLoaded=!0,e._startInQueue&&e._adManager.start()),ae(e.VPAID_EVENTS.AdLoaded,{demandTagId:h.id,cpm:h.cpm})}),e._adManager.addEventListener(e.VPAID_EVENTS.AdLinearChange,function(){e.onAdLinearChange(),e.updateVolume()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdSizeChange,function(){e.onAdSizeChange()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdExpandedChange,function(){e.onAdExpandedChange()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdSkippableStateChange,function(){e.onAdSkippableStateChange()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdDurationChange,function(){e.onAdDurationChange(),e.updateVolume()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdImpression,function(){if(i||(i=!0,n++),function(e){var t=e.frequency,i=e.id;if(void 0!==t&&(null==t||"IMPRESSION"==t.type)){var n=Z(i).value,a=Date.now(),r=q(JSON.parse(n||"[]"),2),o=(r[0],r[1]);J(i,JSON.stringify([a,o+1]))}}(h),e._params.adjustFloors.enabled&&("keep-minimum"!=e._params.adjustFloors.adjustModel&&"dynamic"!=e._params.adjustFloors.adjustModel||L(e.ADJUST_FLOOR_NAME+"locked",!0),"return-to-default-floor"==e._params.adjustFloors.adjustModel&&D(e.ADJUST_FLOOR_NAME)),ae(e.VPAID_EVENTS.AdImpression,{demandTagId:h.id,cpm:h.cpm,externalEvents:h.events}),f("xap",Object.assign(h,{width:e._params.width,height:e._params.height,supplyTagId:e._params.supplyTagId})),e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdImpression,{demandTagId:h.id}),e.onAdImpression(),e.updateVolume(),s=setInterval(function(t){e._attributes.defaultVolume||0===e._adManager.getVolume()||e.updateVolume()},10),e._attributes.moatVideoAnalytics){var t={level1:e._params.publisherId,level2:e._params.widgetId,level3:e._params.supplyTagId,level4:e._params.domain,slicer1:h.id};e._moatApiReference=function(e,t,i,n,a,r){var o,s,d=document.createElement("script"),l=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:a},dispatchEve)},clientCallback:void 0};t="_moatApi"+Math.floor(1e8*Math.random());try{s=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,s=window}return s[t]=u,d.type="text/javascript",e&&e.insertBefore(d,e.childNodes[0]||null),d.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t,u}(e._slot,t,e._adManager.getDuration(),e._attributes.moatPartnerCode,e._adManager.getMediaUrl())}}),e._adManager.addEventListener(e.VPAID_EVENTS.AdClickThru,function(t,i,n){ae(e.VPAID_EVENTS.AdClickThru,{externalEvents:h.events}),e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdClickThru,{demandTagId:h.id}),e.onAdClickThru(t,i,n)}),e._adManager.addEventListener(e.VPAID_EVENTS.AdStarted,function(){e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdStarted,{demandTagId:h.id}),e.onAdStarted(),e.updateVolume()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdVideoStart,function(){e.onAdVideoStart(),e.updateVolume(),e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdVideoStart",adVolume:e._adManager.getVolume()})}),e._adManager.addEventListener(e.VPAID_EVENTS.AdPaused,function(){e.onAdPaused(),i&&e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdPaused",adVolume:e._adManager.getVolume()})}),e._adManager.addEventListener(e.VPAID_EVENTS.AdPlaying,function(){e.onAdPlaying(),i&&e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdPlaying",adVolume:e._adManager.getVolume()})}),e._adManager.addEventListener(e.VPAID_EVENTS.AdVolumeChange,function(){e.onAdVolumeChange(),e.updateVolume(),i&&e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdVolumeChange",adVolume:e._adManager.getVolume()})}),e._adManager.addEventListener(e.VPAID_EVENTS.AdInteraction,function(){e.onAdInteraction()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdVideoFirstQuartile,function(){a||(a=!0),e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdVideoFirstQuartile,{demandTagId:h.id}),e.onAdVideoFirstQuartile(),e.updateVolume(),e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdVideoFirstQuartile",adVolume:e._adManager.getVolume()})}),e._adManager.addEventListener(e.VPAID_EVENTS.AdVideoMidpoint,function(){r||(r=!0),e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdVideoMidpoint,{demandTagId:h.id}),e.onAdVideoMidpoint(),e.updateVolume(),e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdVideoMidpoint",adVolume:e._adManager.getVolume()})}),e._adManager.addEventListener(e.VPAID_EVENTS.AdVideoThirdQuartile,function(){o||(o=!0),e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdVideoThirdQuartile,{demandTagId:h.id}),e.onAdVideoThirdQuartile(),e.updateVolume(),e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdVideoThirdQuartile",adVolume:e._adManager.getVolume()})}),e._adManager.addEventListener(e.VPAID_EVENTS.AdUserClose,function(){e.onAdUserClose()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdLog,function(t){e.onAdLog(t)}),e._adManager.addEventListener(e.VPAID_EVENTS.AdVideoComplete,function(){i?(ae(e.VPAID_EVENTS.AdComplete,{externalEvents:h.events}),e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdVideoComplete",adVolume:e._adManager.getVolume()}),e.onAdVideoComplete(),e._attributes.hbAdPod&&(-1==e._attributes.hbAdPodMaxCount||n<e._attributes.hbAdPodMaxCount)&&(c>1?d():h.hasOwnProperty("bidder")&&(e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdStopped",adVolume:e._adManager.getVolume()}),e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdComplete,{demandTagId:h.id}),e.onAdStopped()))):d()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdStopped,function(){}),e._adManager.addEventListener(e.VPAID_EVENTS.AdSkipped,function(){e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdSkipped,{demandTagId:h.id}),e.onAdSkipped(),e.onAdStopped()}),e._adManager.addEventListener(e.VPAID_EVENTS.AllAdsCompleted,function(){e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdStopped",adVolume:e._adManager.getVolume()}),e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdComplete,{demandTagId:h.id}),e.onAdStopped()}),e._adManager.addEventListener(e.VPAID_EVENTS.AdError,function(t){ae(e.VPAID_EVENTS.AdError,{demandTagId:h.id,cpm:h.cpm,value:t}),i&&(a||r||o)?(e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdVideoComplete",adVolume:e._adManager.getVolume()}),e._moatApiReference&&e._moatApiReference.dispatchEvent({type:"AdStopped",adVolume:e._adManager.getVolume()}),e.isIndependent&&ae("Redshift"+e.VPAID_EVENTS.AdComplete,{demandTagId:h.id}),e.onAdVideoComplete(),e.onAdStopped()):i?e.onAdError(t):d()}),e._mediaUrl=null,h.bidder||ae(e.VPAID_EVENTS.AdRequest,{demandTagId:h.id,cpm:h.cpm,externalEvents:h.events}),e._adManager.requestAds(p,{loadVideoTimeout:e._attributes.loadVideoTimeout,vastLoadTimeout:h.timeout,autoplay:e._attributes.adWillAutoPlay,muted:e._attributes.adWillPlayMuted,forcedMute:e._attributes.muted,secure:e._attributes.useSecureIframe,pageUrl:e._attributes.pageUrl,contentDuration:e._attributes.contentDuration,omid:e._attributes.omid,ppid:e._params.ppid}),e._vpaidIsLoaded||(e._vpaidIsLoaded=!0,e.onAdLoaded())}).catch(function(t){"END_OF_CYCLE"===t||"CYCLE_IS_EMPTY"===t?e.onAdError(t):d()})}()},Ze.prototype.startAd=function(){this._startInQueue=!0,this._adIsLoaded&&this._adManager&&this._adManager.start()},Ze.prototype.getAdVolume=function(){return this._adManager&&(this._attributes.volume=this._adManager.getVolume()),this._attributes.volume},Ze.prototype.setAdVolume=function(e){var t=e!==this._attributes.volume;this._adManager?this._adManager.setVolume(e):t&&this.onAdVolumeChange(),this._attributes.volume=e},Ze.prototype.resumeAd=function(){this._playPauseButton&&this._playPauseButton.setState(!0),this._adManager&&this._adManager.resume()},Ze.prototype.pauseAd=function(){this._playPauseButton&&this._playPauseButton.setState(!1),this._adManager&&this._adManager.pause()},Ze.prototype.stopAd=function(){this._adManager&&this._adManager.stop()},Ze.prototype.resizeAd=function(e,t,i){this._attributes.width=e,this._attributes.height=t,this._attributes.viewMode=i,this._adManager&&this._adManager.resize(e,t,i)},Ze.prototype.getAdExpanded=function(){return this._attributes.expanded},Ze.prototype.collapseAd=function(){this._attributes.expanded=!1,this._adManager&&this._adManager.collapse()},Ze.prototype.expandAd=function(){this._attributes.expanded=!0,this._adManager&&this._adManager.expand()},Ze.prototype.getAdSkippableState=function(){return!0},Ze.prototype.skipAd=function(){this._adManager&&this._adManager.skip()},Ze.prototype.getAdWidth=function(){return this._attributes.width},Ze.prototype.getAdHeight=function(){return this._attributes.height},Ze.prototype.getAdRemainingTime=function(){return this._adManager?this._adManager.getRemainingTime():-2},Ze.prototype.getAdDuration=function(){return this._adManager?this._adManager.getDuration():-2},Ze.prototype.getAdCompani[]},Ze.prototype.getAdIcons=function(){return this._attributes.icons},Ze.prototype.getAdLinear=function(){return!this._adManager._currentAd||this._adManager._currentAd.isLinear()},Ze.prototype.doContentComplete=function(){},Ze.prototype.destroyAd=function(){this.doContentComplete()},Ze.prototype.subscribe=function(e,t,i){var n=e.bind(i);this._eventCallbacks[t]=n},Ze.prototype.unsubscre]},Ze.prototype.log=function(e){};try{Qe=a.findScript(new RegExp("lreprx.js")).src,qe=new URL(Qe),r=qe.origin,o=qe.pathname,s=qe.searchParams,u("ad_tag")}catch(e){}He={xgc:function(e){e.cookies&&h("cookies",e.cookies)}},Ge=a.getTopWindow(),Ye=u("sid",!1),Ge.addEventListener("message",function(e){if(e&&e.data){var t=String(e.data).match(new RegExp("lre:"+Ye+"://(.*)"));if(t){var i=JSON.parse(t[1]);He[i.event]&&He[i.event](i.message)}}},!1),f("xlo",'"1.1.54_298_prod"');var Je=1;setInterval(function(){f("xhb","Proxy Heartbeat "+Je++)},3e5),window.getVPAIDAd=function(){return null!=u("wf")&&0!=parseInt(u("wf"))?new Ze:null!=u("imaw")&&0!=parseInt(u("imaw"))?new Q:new W}}]);