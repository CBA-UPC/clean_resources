"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7670,9285,3515,327],{1689:function(t,e,n){function r(t){return"number"==typeof t}function i(t){return"string"==typeof t}function o(t){return"[object Object]"===Object.prototype.toString.call(t)}function a(t){return o(t)||function(t){return Array.isArray(t)}(t)}function u(t){return Math.abs(t)}function s(t){return t?t/u(t):0}function c(t,e){return u(t-e)}function l(t){return p(t).map(Number)}function d(t){return t[f(t)]}function f(t){return Math.max(0,t.length-1)}function p(t){return Object.keys(t)}function v(t,e){return[t,e].reduce((function(t,e){return p(e).forEach((function(n){var r=t[n],i=e[n],a=o(r)&&o(i);t[n]=a?v(r,i):i})),t}),{})}function m(t,e){var n=p(t),r=p(e);return n.length===r.length&&n.every((function(n){var r=t[n],i=e[n];return"function"==typeof r?"".concat(r)==="".concat(i):a(r)&&a(i)?m(r,i):r===i}))}function h(t,e){var n={start:function(){return 0},center:function(t){return i(t)/2},end:i};function i(t){return e-t}return{measure:function(i){return r(t)?e*Number(t):n[t](i)}}}function g(t,e){var n=u(t-e);function r(e){return e<t}function i(t){return t>e}function o(t){return r(t)||i(t)}return{length:n,max:e,min:t,constrain:function(n){return o(n)?r(n)?t:e:n},reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:function(t){return n?t-n*Math.ceil((t-e)/n):t}}}function y(t,e,n){var r=g(0,t),i=r.min,o=r.constrain,a=t+1,s=c(e);function c(t){return n?u((a+t)%a):o(t)}function l(){return s}function d(t){return s=c(t),f}var f={add:function(t){return d(l()+t)},clone:function(){return y(t,l(),n)},get:l,set:d,min:i,max:t};return f}function x(){var t=[];var e={add:function(n,r,i,o){return void 0===o&&(o={passive:!0}),n.addEventListener(r,i,o),t.push((function(){return n.removeEventListener(r,i,o)})),e},removeAll:function(){return t=t.filter((function(t){return t()})),e}};return e}function b(t){var e=t;function n(t){return e/=t,o}function i(t){return r(t)?t:t.get()}var o={add:function(t){return e+=i(t),o},divide:n,get:function(){return e},multiply:function(t){return e*=t,o},normalize:function(){return 0!==e&&n(e),o},set:function(t){return e=i(t),o},subtract:function(t){return e-=i(t),o}};return o}function w(t,e,n,r,i,o,a,l,d,f,p,v,m,h,g,y){var w=t.cross,k=["INPUT","SELECT","TEXTAREA"],S={passive:!1},C=b(0),_=x(),T=x(),O=m.measure(20),P={mouse:300,touch:400},A={mouse:500,touch:600},E=g?5:16,j=1,I=0,z=0,D=!1,M=!1,L=!1,B=!1;function q(t){if(!((B=!i.isTouchEvent(t))&&0!==t.button||(e=t.target,a=e.nodeName||"",k.indexOf(a)>-1))){var e,a,u=c(r.get(),o.get())>=2,s=B||!u;D=!0,i.pointerDown(t),C.set(r),r.set(o),d.useBaseMass().useSpeed(80),function(){var t=B?document:n;T.add(t,"touchmove",N,S).add(t,"touchend",V).add(t,"mousemove",N,S).add(t,"mouseup",V)}(),I=i.readPoint(t),z=i.readPoint(t,w),v.emit("pointerDown"),s&&(L=!1)}}function N(t){if(!M&&!B){if(!t.cancelable)return V(t);var n=i.readPoint(t),o=i.readPoint(t,w),u=c(n,I),s=c(o,z);if(!(M=u>s)&&!L)return V(t)}var l=i.pointerMove(t);!L&&l&&(L=!0),a.start(),r.add(e.apply(l)),t.preventDefault()}function V(t){var n=f.byDistance(0,!1).index!==p.get(),o=i.pointerUp(t)*(g?A:P)[B?"mouse":"touch"],a=function(t,e){var n=p.clone().add(-1*s(t)),r=n.get()===p.min||n.get()===p.max,i=f.byDistance(t,!g).distance;return g||u(t)<O?i:!h&&r?.4*i:y&&e?.5*i:f.byIndex(n.get(),0).distance}(e.apply(o),n),m=function(t,e){if(0===t||0===e)return 0;if(u(t)<=u(e))return 0;var n=c(u(t),u(e));return u(n/t)}(o,a),x=c(r.get(),C.get())>=.5,b=n&&m>.75,w=u(o)<O,k=b?10:E,S=b?j+2.5*m:j;x&&!B&&(L=!0),M=!1,D=!1,T.removeAll(),d.useSpeed(w?9:k).useMass(S),l.distance(a,!g),B=!1,v.emit("pointerUp")}function Z(t){L&&(t.stopPropagation(),t.preventDefault())}return{addActivationEvents:function(){var t=n;_.add(t,"dragstart",(function(t){return t.preventDefault()}),S).add(t,"touchmove",(function(){}),S).add(t,"touchend",(function(){})).add(t,"touchstart",q).add(t,"mousedown",q).add(t,"touchcancel",V).add(t,"contextmenu",V).add(t,"click",Z,!0)},clickAllowed:function(){return!L},pointerDown:function(){return D},removeAllEvents:function(){_.removeAll(),T.removeAll()}}}function k(t,e,n){var r,i,o=(r=2,i=Math.pow(10,r),function(t){return Math.round(t*i)/i}),a=b(0),u=b(0),c=b(0),l=0,d=e,f=n;function p(t){return d=t,m}function v(t){return f=t,m}var m={direction:function(){return l},seek:function(e){c.set(e).subtract(t);var n,r,i,o,p=(n=c.get(),(i=0)+(n-(r=0))/(100-r)*(d-i));return l=s(c.get()),c.normalize().multiply(p).subtract(a),(o=c).divide(f),u.add(o),m},settle:function(e){var n=e.get()-t.get(),r=!o(n);return r&&t.set(e),r},update:function(){a.add(u),t.add(a),u.multiply(0)},useBaseMass:function(){return v(n)},useBaseSpeed:function(){return p(e)},useMass:v,useSpeed:p};return m}function S(t,e,n,r,i){var o=i.measure(10),a=i.measure(50),s=!1;return{constrain:function(i){if(!s&&t.reachedAny(n.get())&&t.reachedAny(e.get())){var c=t.reachedMin(e.get())?"min":"max",l=u(t[c]-e.get()),d=n.get()-e.get(),f=Math.min(l/a,.85);n.subtract(d*f),!i&&u(d)<o&&(n.set(t.constrain(n.get())),r.useSpeed(10).useMass(3))}},toggleActive:function(t){s=!t}}}function C(t,e,n,r){var i=g(-e+t,n[0]),o=n.map(i.constrain);return{snapsContained:function(){if(e<=t)return[i.max];if("keepSnaps"===r)return o;var n=function(){var t=o[0],e=d(o),n=o.lastIndexOf(t),r=o.indexOf(e)+1;return g(n,r)}(),a=n.min,u=n.max;return o.slice(a,u)}()}}function _(t,e,n,r){var i=g(e.min+.1,e.max+.1),o=i.reachedMin,a=i.reachedMax;return{loop:function(e){if(function(t){return 1===t?a(n.get()):-1===t&&o(n.get())}(e)){var i=t*(-1*e);r.forEach((function(t){return t.add(i)}))}}}}function T(t){var e=t.max,n=t.length;return{get:function(t){return(t-e)/-n}}}function O(t,e,n,r,i){var o=r.reachedAny,a=r.removeOffset,c=r.constrain;function l(t){return t.concat().sort((function(t,e){return u(t)-u(e)}))[0]}function d(e,r){var i=[e,e+n,e-n];return t?l(r?i.filter((function(t){return s(t)===r})):i):i[0]}return{byDistance:function(n,r){var s=i.get()+n,l=function(n){var r=t?a(n):c(n);return{index:e.map((function(t){return t-r})).map((function(t){return d(t,0)})).map((function(t,e){return{diff:t,index:e}})).sort((function(t,e){return u(t.diff)-u(e.diff)}))[0].index,distance:r}}(s),f=l.index,p=l.distance,v=!t&&o(s);return!r||v?{index:f,distance:n}:{index:f,distance:n+d(e[f]-p,0)}},byIndex:function(t,n){return{index:t,distance:d(e[t]-i.get(),n)}},shortcut:d}}function P(t,e,n){var r="x"===t.scroll?function(t){return"translate3d(".concat(t,"px,0px,0px)")}:function(t){return"translate3d(0px,".concat(t,"px,0px)")},i=n.style,o=!1;return{clear:function(){o||(i.transform="",n.getAttribute("style")||n.removeAttribute("style"))},to:function(t){o||(i.transform=r(e.apply(t.get())))},toggleActive:function(t){o=!t}}}function A(t,e,n,r,i,o,a,u,s){var c,d=l(i),f=l(i).reverse(),p=(c=o[0]-1,h(m(f,c),"end")).concat(function(){var t=n-o[0]-1,e=m(d,t);return h(e,"start")}());function v(t,e){return t.reduce((function(t,e){return t-i[e]}),e)}function m(t,e){return t.reduce((function(t,n){return v(t,e)>0?t.concat([n]):t}),[])}function h(n,i){var o="start"===i,c=o?-r:r,l=a.findSlideBounds([c]);return n.map((function(n){var i=o?0:-r,a=o?r:0,c=l.filter((function(t){return t.index===n}))[0][o?"end":"start"],d=b(-1),f=b(-1),p=P(t,e,s[n]);return{index:n,location:f,translate:p,target:function(){return d.set(u.get()>c?i:a)}}}))}return{canLoop:function(){return p.every((function(t){var e=t.index;return v(d.filter((function(t){return t!==e})),n)<=.1}))},clear:function(){p.forEach((function(t){return t.translate.clear()}))},loop:function(){p.forEach((function(t){var e=t.target,n=t.translate,r=t.location,i=e();i.get()!==r.get()&&(0===i.get()?n.clear():n.to(i),r.set(i))}))},loopPoints:p}}function E(t,e,n,r,i,o,a){var u=i.removeOffset,s=i.constrain,c=.5,l=o?[0,e,-e]:[0],d=f(l,a);function f(e,i){var o=e||l,a=function(t){var e=t||0;return n.map((function(t){return g(c,t-c).constrain(t*e)}))}(i);return o.reduce((function(e,i){var o=r.map((function(e,r){return{start:e-n[r]+a[r]+i,end:e+t-a[r]+i,index:r}}));return e.concat(o)}),[])}return{check:function(t,e){var n=o?u(t):s(t);return(e||d).reduce((function(t,e){var r=e.index,i=e.start,o=e.end;return!(-1!==t.indexOf(r))&&(i<n&&o>n)?t.concat([r]):t}),[])},findSlideBounds:f}}function j(t,e,n){var i=r(n);return{groupSlides:function(r){return i?function(t,e){return l(t).filter((function(t){return t%e==0})).map((function(n){return t.slice(n,n+e)}))}(r,n):function(n){return l(n).reduce((function(n,r){var i=e.slice(d(n),r+1).reduce((function(t,e){return t+e}),0);return!r||i>t?n.concat(r):n}),[]).map((function(t,e,r){return n.slice(t,r[e+1])}))}(r)}}}function I(t,e,n,r,i){var o=r.align,a=r.axis,s=r.direction,c=r.startIndex,p=r.inViewThreshold,v=r.loop,m=r.speed,I=r.dragFree,z=r.slidesToScroll,D=r.skipSnaps,M=r.containScroll,L=e.getBoundingClientRect(),B=n.map((function(t){return t.getBoundingClientRect()})),q=function(t){var e="rtl"===t?-1:1;return{apply:function(t){return t*e}}}(s),N=function(t,e){var n="y"===t?"y":"x";return{scroll:n,cross:"y"===t?"x":"y",startEdge:"y"===n?"top":"rtl"===e?"right":"left",endEdge:"y"===n?"bottom":"rtl"===e?"left":"right",measureSize:function(t){var e=t.width,r=t.height;return"x"===n?e:r}}}(a,s),V=N.measureSize(L),Z=function(t){return{measure:function(e){return t*(e/100)}}}(V),U=h(o,V),$=!v&&""!==M,H=function(t,e,n,r,i){var o=t.measureSize,a=t.startEdge,s=t.endEdge,c=n[0]&&i,l=function(){if(!c)return 0;var t=n[0];return u(e[a]-t[a])}(),p=function(){if(!c)return 0;var t=window.getComputedStyle(d(r));return parseFloat(t.getPropertyValue("margin-".concat(s)))}(),v=n.map(o),m=n.map((function(t,e,n){var r=!e,i=e===f(n);return r?v[e]+l:i?v[e]+p:n[e+1][a]-t[a]})).map(u);return{slideSizes:v,slideSizesWithGaps:m}}(N,L,B,n,v||""!==M),R=H.slideSizes,F=H.slideSizesWithGaps,K=j(V,F,z),W=function(t,e,n,r,i,o,a){var s,c=t.startEdge,l=t.endEdge,p=o.groupSlides,v=p(r).map((function(t){return d(t)[l]-t[0][c]})).map(u).map(e.measure),m=r.map((function(t){return n[c]-t[c]})).map((function(t){return-u(t)})),h=(s=d(m)-d(i),p(m).map((function(t){return t[0]})).map((function(t,e,n){var r=!e,i=e===f(n);return a&&r?0:a&&i?s:t+v[e]})));return{snaps:m,snapsAligned:h}}(N,U,L,B,F,K,$),G=W.snaps,J=W.snapsAligned,X=-d(G)+d(F),Y=C(V,X,J,M).snapsContained,Q=$?Y:J,tt=function(t,e,n){var r,i;return{limit:(r=e[0],i=d(e),g(n?r-t:i,r))}}(X,Q,v).limit,et=y(f(Q),c,v),nt=et.clone(),rt=l(n),it=function(t){var e=0;function n(t,n){return function(){t===!!e&&n()}}function r(){e=window.requestAnimationFrame(t)}return{proceed:n(!0,r),start:n(!1,r),stop:n(!0,(function(){window.cancelAnimationFrame(e),e=0}))}}((function(){v||pt.scrollBounds.constrain(pt.dragHandler.pointerDown()),pt.scrollBody.seek(ut).update();var t=pt.scrollBody.settle(ut);t&&!pt.dragHandler.pointerDown()&&(pt.animation.stop(),i.emit("settle")),t||i.emit("scroll"),v&&(pt.scrollLooper.loop(pt.scrollBody.direction()),pt.slideLooper.loop()),pt.translate.to(at),pt.animation.proceed()})),ot=Q[et.get()],at=b(ot),ut=b(ot),st=k(at,m,1),ct=O(v,Q,X,tt,ut),lt=function(t,e,n,r,i,o){function a(r){var a=r.distance,u=r.index!==e.get();a&&(t.start(),i.add(a)),u&&(n.set(e.get()),e.set(r.index),o.emit("select"))}return{distance:function(t,e){a(r.byDistance(t,e))},index:function(t,n){var i=e.clone().set(t);a(r.byIndex(i.get(),n))}}}(it,et,nt,ct,ut,i),dt=E(V,X,R,G,tt,v,p),ft=w(N,q,t,ut,function(t){var e,n;function r(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent}function i(t){return t.timeStamp}function o(e,n){var i=n||t.scroll,o="client".concat("x"===i?"X":"Y");return(r(e)?e.touches[0]:e)[o]}return{isTouchEvent:r,pointerDown:function(t){return e=t,n=t,o(t)},pointerMove:function(t){var r=o(t)-o(n),a=i(t)-i(e)>170;return n=t,a&&(e=t),r},pointerUp:function(t){if(!e||!n)return 0;var r=o(n)-o(e),a=i(t)-i(e),s=i(t)-i(n)>170,c=r/a;return a&&!s&&u(c)>.1?c:0},readPoint:o}}(N),at,it,lt,st,ct,et,i,Z,v,I,D),pt={containerRect:L,slideRects:B,animation:it,axis:N,direction:q,dragHandler:ft,eventStore:x(),percentOfView:Z,index:et,indexPrevious:nt,limit:tt,location:at,options:r,scrollBody:st,scrollBounds:S(tt,at,ut,st,Z),scrollLooper:_(X,tt,at,[at,ut]),scrollProgress:T(tt),scrollSnaps:Q,scrollTarget:ct,scrollTo:lt,slideLooper:A(N,q,V,X,F,Q,dt,at,n),slidesToScroll:K,slidesInView:dt,slideIndexes:rt,target:ut,translate:P(N,q,e)};return pt}n.d(e,{Z:function(){return M}});var z={align:"center",axis:"x",container:null,slides:null,containScroll:"",direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,draggable:!0,inViewThreshold:0,loop:!1,skipSnaps:!1,speed:10,startIndex:0,active:!0};function D(){function t(t,e){return v(t,e||{})}return{merge:t,areEqual:function(t,e){return JSON.stringify(p(t.breakpoints||{}))===JSON.stringify(p(e.breakpoints||{}))&&m(t,e)},atMedia:function(e){var n=e.breakpoints||{},r=p(n).filter((function(t){return window.matchMedia(t).matches})).map((function(t){return n[t]})).reduce((function(e,n){return t(e,n)}),{});return t(e,r)}}}function M(t,e,n){var r,o,a,u,s=x(),c=D(),l=function(){var t=D(),e=t.atMedia,n=t.areEqual,r=[],i=[];function o(t){var r=e(t.options);return function(){return!n(r,e(t.options))}}var a={init:function(t,n){return i=t.map(o),(r=t.filter((function(t){return e(t.options).active}))).forEach((function(t){return t.init(n)})),t.reduce((function(t,e){var n;return Object.assign(t,((n={})[e.name]=e,n))}),{})},destroy:function(){r=r.filter((function(t){return t.destroy()}))},haveChanged:function(){return i.some((function(t){return t()}))}};return a}(),d=function(){var t={};function e(e){return t[e]||[]}var n={emit:function(t){return e(t).forEach((function(e){return e(t)})),n},off:function(r,i){return t[r]=e(r).filter((function(t){return t!==i})),n},on:function(r,i){return t[r]=e(r).concat([i]),n}};return n}(),f=d.on,p=d.off,v=k,m=!1,h=c.merge(z,M.globalOptions),g=c.merge(h),y=[],b=0;function w(e,n){if(!m){if(h=c.merge(h,e),g=c.atMedia(h),function(){var e=g.container,n=g.slides,r=i(e)?t.querySelector(e):e;a=r||t.children[0];var o=i(n)?a.querySelectorAll(n):n;u=[].slice.call(o||a.children)}(),r=I(t,a,u,g,d),b=r.axis.measureSize(t.getBoundingClientRect()),!g.active)return S();if(r.translate.to(r.location),y=n||y,o=l.init(y,O),g.loop){if(!r.slideLooper.canLoop())return S(),w({loop:!1},n),void(h=c.merge(h,{loop:!0}));r.slideLooper.loop()}g.draggable&&a.offsetParent&&u.length&&r.dragHandler.addActivationEvents()}}function k(t,e){var n=T();S(),w(c.merge({startIndex:n},t),e),d.emit("reInit")}function S(){r.dragHandler.removeAllEvents(),r.animation.stop(),r.eventStore.removeAll(),r.translate.clear(),r.slideLooper.clear(),l.destroy()}function C(t){var e=r[t?"target":"location"].get(),n=g.loop?"removeOffset":"constrain";return r.slidesInView.check(r.limit[n](e))}function _(t,e,n){g.active&&!m&&(r.scrollBody.useBaseMass().useSpeed(e?100:g.speed),r.scrollTo.index(t,n||0))}function T(){return r.index.get()}var O={canScrollNext:function(){return r.index.clone().add(1).get()!==T()},canScrollPrev:function(){return r.index.clone().add(-1).get()!==T()},clickAllowed:function(){return r.dragHandler.clickAllowed()},containerNode:function(){return a},internalEngine:function(){return r},destroy:function(){m||(m=!0,s.removeAll(),S(),d.emit("destroy"))},off:p,on:f,plugins:function(){return o},previousScrollSnap:function(){return r.indexPrevious.get()},reInit:v,rootNode:function(){return t},scrollNext:function(t){_(r.index.clone().add(1).get(),!0===t,-1)},scrollPrev:function(t){_(r.index.clone().add(-1).get(),!0===t,1)},scrollProgress:function(){return r.scrollProgress.get(r.location.get())},scrollSnapList:function(){return r.scrollSnaps.map(r.scrollProgress.get)},scrollTo:_,selectedScrollSnap:T,slideNodes:function(){return u},slidesInView:C,slidesNotInView:function(t){var e=C(t);return r.slideIndexes.filter((function(t){return-1===e.indexOf(t)}))}};return w(e,n),s.add(window,"resize",(function(){var e=c.atMedia(h),n=!c.areEqual(e,g),i=r.axis.measureSize(t.getBoundingClientRect()),o=b!==i,a=l.haveChanged();(o||n||a)&&k(),d.emit("resize")})),setTimeout((function(){return d.emit("init")}),0),O}M.globalOptions=void 0,M.optionsHandler=D},9285:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var r={name:"AvatarsSlide",props:{creators:{type:Array,required:!0}},methods:{register(){posthog.capture("video-landing.discover-more.cta.click"),this.$inertia.visit(this.route("register"))},avatarClick(t){posthog.capture("video-landing.discover-more.avatar.click",{counterparty:{id:t.id,nickname:t.nickname}}),this.$inertia.visit(t.profileUrl)}}},i=(0,n(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"embla__slide relative flex h-full w-full min-w-0 shrink-0 grow-0 basis-full flex-col items-center justify-center overflow-hidden"},[e("div",{staticClass:"z-100 grid grid-cols-2 items-center justify-center gap-4 p-4 text-white"},t._l(t.creators,(function(n){return e("div",{key:`creator-${n.id}`},[e("v-avatar",{staticClass:"aspect-thumbnail max-h-[280px] w-full",attrs:{lazyload:!1,url:n.thumbnail,classes:"rounded-xl border border-success shadow-[0_0_12px] shadow-success","online-classes":"bottom-2 right-2","is-online":!0},on:{click:function(e){return t.avatarClick(n)}}}),t._v(" "),e("v-text",{staticClass:"notranslate ml-2 mt-2 min-w-0 truncate text-base font-semibold"},[t._v("\n        "+t._s(n.nickname)+"\n      ")])],1)})),0),t._v(" "),e("v-button",{staticClass:"min-w-[80%] justify-center whitespace-nowrap",attrs:{size:"large"},on:{click:t.register}},[t._v("\n    "+t._s(t.__("layout.discover_more_creators"))+"\n  ")])],1)}),[],!1,null,null,null).exports},7670:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var r={name:"Index",components:{VideoSlider:n(327).default},props:{mainCtaText:{type:String,required:!1,default:null},profileCtaText:{type:String,required:!1,default:null},videos:{type:Array,required:!0},topCreators:{type:Array,required:!0}},data(){return{activeIndex:0}}},i=(0,n(1900).Z)(r,(function(){var t=this;return(0,t._self._c)("VideoSlider",{attrs:{slots:t.videos,"main-cta-text":t.mainCtaText,"profile-cta-text":t.profileCtaText,"top-creators":t.topCreators},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}})}),[],!1,null,null,null).exports},3515:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});var r=n(5121),i=n(83),o=n(4487),a={name:"VideoSlide",components:{Link:n(6454).rU},mixins:[i.Z],props:{creator:{type:Object,required:!0},content:{type:Object,required:!0},mainCtaText:{type:String,required:!1,default:null},profileCtaText:{type:String,required:!1,default:null},active:{type:Boolean,required:!0},muted:{type:Boolean,required:!0}},data(){return{brokenLink:!1,isPlaying:!1,timeout:null}},computed:{brokenImage(){return this.processImage({url:"/img/thumbnail/broken-video-link.png",width:480,height:270,format:"auto"})},src(){return this.processImage({url:this.content.filename,width:{mobile:1024,desktop:1920}})},profileUrl(){return route("users.show",{nickname:this.creator.nickname})},playerOptions(){return{playsinline:!0,suppressNotSupportedError:!0,errorDisplay:!1,preload:"metadata",poster:this.content.thumbnail,html5:{nativeTextTracks:!0},controls:!1,loop:!0,autoplay:!0,muted:this.muted,sources:[{src:this.content.filename??this.content.clip,type:"video/mp4"}],controlBar:{fullscreenToggle:!1,pictureInPictureToggle:!1,remainingTimeDisplay:!1,currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0}}}},watch:{active:{handler(t){t?this.timeout=setTimeout((()=>{r.Z.post(this.route("videos.view",{id:this.content.id}))}),5e3):clearTimeout(this.timeout),t?this.$nextTick((()=>{this.initialize()})):setTimeout((()=>{this.player?.pause()}),1)},immediate:!0},muted:{handler(t){this.player?.muted(t)}}},beforeDestroy(){clearTimeout(this.timeout)},methods:{initialize(){this.initializePlayer(this.playerOptions,this.events).then((()=>{this.play(),this.player&&this.player.children()[0].classList.add("object-fill")}))},events(){this.player.on("play",(()=>{this.isPlaying=!0})),this.player.on("pause",(()=>{this.isPlaying=!1})),this.player.on("stop",(()=>{this.isPlaying=!1}))},play(){this.player&&this.player.play().catch((t=>{o.Tb(t)}))},setBrokenLink(){this.$shared.isCrawler||(this.player.pause(),this.player.poster(this.brokenImage),this.brokenLink=!0)},toggleSound(){this.$emit("toggle-sound")},register(){posthog.capture("video-landing.overlay-register-click",{counterparty:{id:this.creator.id,nickname:this.creator.nickname}}),this.$inertia.visit(this.route("register",{creatorId:this.creator.id}))}}},u=(0,n(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"embla__slide relative h-full w-full min-w-0 shrink-0 grow-0 basis-full"},[e("div",{staticClass:"absolute left-4 top-4 z-2000 flex items-center justify-center gap-4 p-4 text-white"},[e("v-avatar",{staticClass:"h-16 w-16 shrink-0",attrs:{lazyload:!1,url:t.creator.avatar_circle,"full-rounded":"",href:t.profileUrl}}),t._v(" "),e("div",{staticClass:"flex flex-col gap-2"},[e("Link",{attrs:{href:t.profileUrl}},[e("v-text",{attrs:{tag:"h4"}},[t._v(t._s(t.creator.nickname))])],1),t._v(" "),e("v-button",{staticClass:"h-auto w-fit p-2 dark:!bg-gray-primary/50",attrs:{variant:"bordered",href:t.profileUrl}},[e("v-text",[t._v(t._s(t.profileCtaText?t.profileCtaText:t.__("layout.view_profile")))])],1)],1)],1),t._v(" "),e("button",{staticClass:"absolute right-4 top-4 z-2000 flex items-center justify-center p-4 text-white",attrs:{"aria-label":"Toggle sound"},on:{click:function(e){return e.stopPropagation(),t.toggleSound.apply(null,arguments)}}},[e("v-icon",{staticClass:"h-8 w-8 cursor-pointer text-white shadow-black drop-shadow-sm",attrs:{name:t.muted?"volume-off":"volume-on"}})],1),t._v(" "),t.isPlaying||t.brokenLink?t._e():e("div",{staticClass:"absolute left-1/2 top-1/2 z-10 flex h-1/2 w-1/2 -translate-x-1/2 -translate-y-1/2 items-center justify-center",on:{click:t.initialize}},[e("button",{staticClass:"flex h-16 w-16 items-center justify-center gap-2 rounded-full bg-gradient-to-br from-primary-200 to-primary-400 text-white transition hover:scale-105"},[e("v-icon",{staticClass:"is-icon h-7 w-7 text-white shadow-black drop-shadow",attrs:{name:"play-alt"}})],1)]),t._v(" "),e("div",{staticClass:"absolute z-0 flex h-full w-full items-center justify-center overflow-hidden"},[e("video",{ref:"videoPlayer",staticClass:"video-js-overlay hidden",attrs:{preload:"none"},on:{error:t.setBrokenLink}}),t._v(" "),e("img",{staticClass:"absolute inset-0 -z-1 h-full w-full scale-110 object-cover blur-lg",attrs:{draggable:"false",src:t.content.thumbnail,alt:t.creator.nickname}})]),t._v(" "),e("v-button",{staticClass:"absolute bottom-0 left-1/2 z-100 flex min-w-[80%] -translate-x-1/2 -translate-y-1/2 justify-center whitespace-nowrap",attrs:{size:"large"},on:{click:t.register}},[t._v("\n    "+t._s(t.mainCtaText?t.mainCtaText:t.__("layout.message_me"))+"\n  ")])],1)}),[],!1,null,null,null),s=u.exports},327:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(6190),i=n(1689),o=n(629),a=n(8070),u=n(8838),s=n(3515),c=n(3885);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){var r;return(e="symbol"==typeof(r=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"VideoSlider",components:{AvatarsSlide:n(9285).default,VText:u.Z,VIcon:a.Z,VideoSlide:s.default},mixins:[r.o4],props:{slots:{type:Array,required:!0},topCreators:{type:Array,required:!0},mainCtaText:{type:String,required:!1,default:null},profileCtaText:{type:String,required:!1,default:null}},data(){return{swipeTimeout:null,slider:null,showInfo:!0}},computed:d({},(0,o.Se)("videoOverlay",["muted"])),mounted(){document.body.style.setProperty("overflow","hidden"),document.addEventListener("keydown",this.handleKeydown),this.slider=(0,i.Z)(this.$refs.slider,{loop:!0,align:"center",startIndex:this.value,axis:"y"}),this.slider.on("select",this.slideChange)},beforeDestroy(){document.body.style.removeProperty("overflow"),document.removeEventListener("keydown",this.handleKeydown),clearTimeout(this.swipeTimeout),this.slider.off("select",this.slideChange),this.slider.destroy()},methods:d(d({},(0,o.nv)("videoOverlay",["toggleMuted"])),{},{slideChange(){this.showInfo=!1,this.model=this.slider.selectedScrollSnap(),posthog.capture("video-landing.overlay-slide-change",{counterparty:{id:this.slots[0].user.id,nickname:this.slots[0].user.nickname}})},handleKeydown(t){this.swipeTimeout||(clearTimeout(this.swipeTimeout),this.swipeTimeout=setTimeout((()=>{this.swipeTimeout=null}),500),t.keyCode===c.Z.UP?this.next():t.keyCode===c.Z.DOWN&&this.previous())},toggleSound(){this.toggleMuted()},next(){this.slider.scrollNext()},previous(){this.slider.scrollPrev()}})},v=(0,n(1900).Z)(p,(function(){var t=this,e=t._self._c;return e("div",{ref:"content",staticClass:"fixed inset-0 z-[9999] h-full w-screen",on:{contextmenu:function(t){t.preventDefault()}}},[e("div",{staticClass:"relative mx-auto h-full max-h-screen w-full flex-col items-center"},[t.showInfo?e("div",{staticClass:"absolute bottom-20 left-1/2 z-100 -translate-x-1/2 -translate-y-1/2 flex-col justify-center gap-2"},[e("v-icon",{staticClass:"mx-auto h-12 w-12 animate-bounce text-white",attrs:{name:"chevron-up"}}),t._v(" "),e("v-text",{staticClass:"animate-pulse",attrs:{tag:"h4"}},[t._v(t._s(t.__("layout.swipe_up")))])],1):t._e(),t._v(" "),e("div",{ref:"slider",staticClass:"embla h-full min-h-full w-full overflow-hidden"},[e("div",{staticClass:"embla__container h-full w-full flex-col"},[t._l(t.slots,(function(n,r){return e("VideoSlide",{key:`video-slide-${r}`,attrs:{"profile-cta-text":t.profileCtaText,"main-cta-text":t.mainCtaText,active:t.value===r,creator:n.user,content:n,muted:t.muted},on:{"toggle-sound":t.toggleSound}})})),t._v(" "),t._l(t.topCreators,(function(t,n){return e("AvatarsSlide",{key:`avatars-slide-${n}`,attrs:{creators:t}})}))],2)])])])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=7670.js.map?id=ded31af472c98451